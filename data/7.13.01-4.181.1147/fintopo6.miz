:: Connectedness and Continuous Sequences in Finite Topological Spaces
::  by Yatsuka Nakamura
::
:: Received August 18, 2006
:: Copyright (c) 2006-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, XBOOLE_0, ORDERS_2, SUBSET_1, RELAT_2, FIN_TOPO, TARSKI,
      CONNSP_1, PRE_TOPC, STRUCT_0, RELAT_1, RCOMP_1, FINSEQ_1, ORDINAL2,
      XXREAL_0, NAT_1, ARYTM_3, FUNCT_1, ORDINAL4, PARTFUN1, CARD_1, ARYTM_1,
      BORSUK_2, RFINSEQ, FINTOPO3, FINTOPO6;
 notations TARSKI, XBOOLE_0, SUBSET_1, XCMPLX_0, NUMBERS, XXREAL_0, ORDINAL1,
      NAT_1, DOMAIN_1, RELAT_1, FUNCT_1, RELSET_1, PARTFUN1, FINSEQ_1,
      STRUCT_0, ORDERS_2, FIN_TOPO, FINTOPO3, NAT_D, ENUMSET1, FINTOPO4,
      PRE_TOPC, RFINSEQ;
 constructors DOMAIN_1, EQREL_1, RFINSEQ, RFUNCT_3, NAT_D, FIN_TOPO, FINTOPO3,
      FINTOPO4, REAL_1, RELSET_1;
 registrations XBOOLE_0, RELAT_1, FUNCT_1, XXREAL_0, XREAL_0, NAT_1, MEMBERED,
      FINSEQ_1, STRUCT_0, FIN_TOPO;
 requirements REAL, NUMERALS, SUBSET, BOOLE, ARITHM;
 definitions TARSKI, XBOOLE_0, STRUCT_0, SUBSET_1, FIN_TOPO, FINSEQ_1;
 theorems NAT_1, ZFMISC_1, FUNCT_1, FINSEQ_1, RELSET_1, XBOOLE_0, XBOOLE_1,
      FIN_TOPO, FINTOPO3, ENUMSET1, FINTOPO4, FINSEQ_6, JORDAN4, TARSKI,
      XREAL_1, SUBSET_1, PRE_TOPC, RFINSEQ, FINSEQ_3, FINSEQ_5, REVROT_1,
      ORDINAL1, XXREAL_0, PARTFUN1, XREAL_0, NAT_D;
 schemes NAT_1, RELSET_1;

begin
registration
let R1 being non  empty RelStr;
cluster  empty ->  connected for (Subset of R1);
coherence
proof
let C1 being (Subset of R1);
assume that
L1: C1 is  empty;
let C2 , C3 being (Subset of R1);
assume that
L2: (C1 = ( C2 \/ C3 ) & C2 <> ( {} ))
and
L3: C3 <> ( {} )
and
L4: C2 misses C3;
thus L5: thesis by L1 , L2;
end;
end;
theorem
L7: (for R1 being non  empty RelStr holds (for B1 , B2 being (Subset of R1) holds ( ( B1 \/ B2 ) ^b ) = ( ( B1 ^b ) \/ ( B2 ^b ) )))
proof
let R1 being non  empty RelStr;
let C4 , C5 being (Subset of R1);
L8: ( ( C4 \/ C5 ) ^b ) c= ( ( C4 ^b ) \/ ( C5 ^b ) )
proof
let C6 being set;
assume L9: C6 in ( ( C4 \/ C5 ) ^b );
consider C7 being (Element of R1) such that L10: C6 = C7 and L11: ( U_FT C7 ) meets ( C4 \/ C5 ) by L9;
L12: (( U_FT C7 ) meets C4 or ( U_FT C7 ) meets C5) by L11 , XBOOLE_1:70;
L13: (C6 in { B3 where B3 is (Element of R1) : ( U_FT B3 ) meets C4 } or C6 in ( C5 ^b )) by L12 , L10;
thus L14: thesis by L13 , XBOOLE_0:def 3;
end;
L15: (( C4 ^b ) c= ( ( C4 \/ C5 ) ^b ) & ( C5 ^b ) c= ( ( C4 \/ C5 ) ^b )) by FIN_TOPO:14 , XBOOLE_1:7;
L16: ( ( C4 ^b ) \/ ( C5 ^b ) ) c= ( ( C4 \/ C5 ) ^b ) by L15 , XBOOLE_1:8;
thus L17: thesis by L16 , L8 , XBOOLE_0:def 10;
end;
theorem
L18: (for R1 being non  empty RelStr holds ( ( {} R1 ) ^b ) = ( {} ))
proof
let R1 being non  empty RelStr;
assume L19: (not thesis);
consider C8 being set such that L20: C8 in ( ( {} R1 ) ^b ) by L19 , XBOOLE_0:def 1;
L21: (ex B4 being (Element of R1) st (C8 = B4 & ( U_FT B4 ) meets ( {} R1 ))) by L20;
thus L22: contradiction by L21 , XBOOLE_1:65;
end;
registration
let R1 being non  empty RelStr;
cluster ( ( {} R1 ) ^b ) ->  empty;
coherence by L18;
end;
theorem
L24: (for R1 being non  empty RelStr holds (for B5 being (Subset of R1) holds ((for B6 , B7 being (Subset of R1) holds ((B5 = ( B6 \/ B7 ) & B6 <> ( {} ) & B7 <> ( {} ) & B6 misses B7) implies (( B6 ^b ) meets B7 & B6 meets ( B7 ^b )))) implies B5 is  connected)))
proof
let R1 being non  empty RelStr;
let C9 being (Subset of R1);
assume L25: (for B8 , B9 being (Subset of R1) holds ((C9 = ( B8 \/ B9 ) & B8 <> ( {} ) & B9 <> ( {} ) & B8 misses B9) implies (( B8 ^b ) meets B9 & B8 meets ( B9 ^b ))));
L26: (for B10 , B11 being (Subset of R1) holds ((C9 = ( B10 \/ B11 ) & B10 <> ( {} ) & B11 <> ( {} ) & B10 misses B11) implies ( B10 ^b ) meets B11)) by L25;
thus L27: thesis by L26 , FIN_TOPO:def 16;
end;
definition
let C10 being non  empty RelStr;
attr C10 is  connected
means
:L28: ( [#] C10 ) is  connected;
end;
theorem
L30: (for R1 being non  empty RelStr holds (for B12 being (Subset of R1) holds (B12 is  connected implies (for B13 , B14 being (Subset of R1) holds ((B12 = ( B13 \/ B14 ) & B13 misses B14 & B13 , B14 are_separated ) implies (B13 = ( {} R1 ) or B14 = ( {} R1 )))))))
proof
let R1 being non  empty RelStr;
let C11 being (Subset of R1);
assume L31: C11 is  connected;
let C12 , C13 being (Subset of R1);
assume that
L32: (C11 = ( C12 \/ C13 ) & C12 misses C13)
and
L33: C12 , C13 are_separated ;
L34: ( C12 ^b ) misses C13 by L33 , FINTOPO4:def 1;
thus L35: thesis by L34 , L31 , L32 , FIN_TOPO:def 16;
end;
theorem
L36: (for R1 being non  empty RelStr holds (R1 is  connected implies (for B15 , B16 being (Subset of R1) holds ((( [#] R1 ) = ( B15 \/ B16 ) & B15 misses B16 & B15 , B16 are_separated ) implies (B15 = ( {} R1 ) or B16 = ( {} R1 ))))))
proof
let R1 being non  empty RelStr;
assume L37: R1 is  connected;
L38: ( [#] R1 ) is  connected by L37 , L28;
let C14 , C15 being (Subset of R1);
assume that
L39: (( [#] R1 ) = ( C14 \/ C15 ) & C14 misses C15)
and
L40: C14 , C15 are_separated ;
L41: ( C14 ^b ) misses C15 by L40 , FINTOPO4:def 1;
thus L42: thesis by L41 , L38 , L39 , FIN_TOPO:def 16;
end;
theorem
L43: (for R1 being non  empty RelStr holds (for B17 , B18 being (Subset of R1) holds ((R1 is  symmetric & ( B17 ^b ) misses B18) implies B17 misses ( B18 ^b ))))
proof
let R1 being non  empty RelStr;
let C16 , C17 being (Subset of R1);
assume that
L44: R1 is  symmetric
and
L45: ( C16 ^b ) misses C17;
assume L46: C16 meets ( C17 ^b );
consider C18 being set such that L47: C18 in C16 and L48: C18 in ( C17 ^b ) by L46 , XBOOLE_0:3;
consider C19 being (Element of R1) such that L49: C18 = C19 and L50: ( U_FT C19 ) meets C17 by L48;
consider C20 being set such that L51: C20 in ( U_FT C19 ) and L52: C20 in C17 by L50 , XBOOLE_0:3;
reconsider D1 = C20 as (Element of R1) by L51;
L53: C19 in ( U_FT D1 ) by L44 , L51 , FIN_TOPO:def 13;
L54: ( U_FT D1 ) meets C16 by L53 , L47 , L49 , XBOOLE_0:3;
L55: C20 in ( C16 ^b ) by L54;
L56: ( ( C16 ^b ) /\ C17 ) = ( {} ) by L45 , XBOOLE_0:def 7;
thus L57: contradiction by L56 , L52 , L55 , XBOOLE_0:def 4;
end;
theorem
L58: (for R1 being non  empty RelStr holds (for B19 being (Subset of R1) holds ((R1 is  symmetric & (for B20 , B21 being (Subset of R1) holds ((B19 = ( B20 \/ B21 ) & B20 misses B21 & B20 , B21 are_separated ) implies (B20 = ( {} R1 ) or B21 = ( {} R1 ))))) implies B19 is  connected)))
proof
let R1 being non  empty RelStr;
let C21 being (Subset of R1);
assume L59: R1 is  symmetric;
assume L60: (for B22 , B23 being (Subset of R1) holds ((C21 = ( B22 \/ B23 ) & B22 misses B23 & B22 , B23 are_separated ) implies (B22 = ( {} R1 ) or B23 = ( {} R1 ))));
L61: (for B24 , B25 being (Subset of R1) holds ((C21 = ( B24 \/ B25 ) & B24 <> ( {} ) & B25 <> ( {} ) & B24 misses B25) implies (( B24 ^b ) meets B25 & B24 meets ( B25 ^b ))))
proof
let C22 , C23 being (Subset of R1);
assume L62: (C21 = ( C22 \/ C23 ) & C22 <> ( {} ) & C23 <> ( {} ) & C22 misses C23);
L63: (not C22 , C23 are_separated ) by L62 , L60;
L64: (not (( C22 ^b ) misses C23 & C22 misses ( C23 ^b ))) by L63 , FINTOPO4:def 1;
thus L65: thesis by L64 , L59 , L43;
end;
thus L66: thesis by L61 , L24;
end;
definition
let C24 being RelStr;
mode SubSpace of C24
 -> RelStr
means :L67: ((the carrier of it) c= (the carrier of C24) & (for B26 being (Element of it) holds (B26 in (the carrier of it) implies ( U_FT B26 ) = ( ( Im ((the InternalRel of C24) , B26) ) /\ (the carrier of it) ))));
existence
proof
L68: (for B27 being (Element of C24) holds (B27 in (the carrier of C24) implies ( U_FT B27 ) = ( ( Im ((the InternalRel of C24) , B27) ) /\ (the carrier of C24) ))) by XBOOLE_1:28;
thus L69: thesis by L68;
end;
end;
L71: (for B28 being RelStr holds ( the RelStr of B28 ) is (SubSpace of B28))
proof
let C25 being RelStr;
set D2 = ( the RelStr of C25 );
L72: (for B29 being (Element of D2) holds (B29 in (the carrier of D2) implies ( U_FT B29 ) = ( ( Im ((the InternalRel of C25) , B29) ) /\ (the carrier of C25) ))) by XBOOLE_1:28;
thus L73: thesis by L72 , L67;
end;
registration
let C26 being RelStr;
cluster  strict for (SubSpace of C26);
existence
proof
L74: ( the RelStr of C26 ) is (SubSpace of C26) by L71;
thus L75: thesis by L74;
end;
end;
registration
let C27 being non  empty RelStr;
cluster  strict non  empty for (SubSpace of C27);
existence
proof
L77: (( the RelStr of C27 ) is (SubSpace of C27) & ( the RelStr of C27 ) is non  empty) by L71;
thus L78: thesis by L77;
end;
end;
definition
let C28 being non  empty RelStr;
let C29 being non  empty (Subset of C28);
func C28 | C29 ->  strict non  empty (SubSpace of C28) means 
:L80: ( [#] it ) = C29;
existence
proof
deffunc H1(set) = ( ( Im ((the InternalRel of C28) , $1) ) /\ C29 );
L81: (for B30 being (Element of C28) holds (B30 in C29 implies H1(B30) c= C29)) by XBOOLE_1:17;
consider C30 being (Relation of C29) such that L82: (for B31 being (Element of C28) holds (B31 in C29 implies ( Im (C30 , B31) ) = H1(B31))) from RELSET_1:sch 3(L81);
set D3 = RelStr (# C29 , C30 #);
L83: (for B32 being (Element of D3) holds (B32 in (the carrier of D3) implies ( U_FT B32 ) = ( ( Im ((the InternalRel of C28) , B32) ) /\ (the carrier of D3) ))) by L82;
L84: (( [#] D3 ) = (the carrier of D3) & D3 is  strict non  empty  strict non  empty  strict non  empty  strict non  empty (SubSpace of C28)) by L83 , L67;
thus L85: thesis by L84;
end;
uniqueness
proof
let C31 , C32 being  strict non  empty (SubSpace of C28);
assume that
L86: ( [#] C31 ) = C29
and
L87: ( [#] C32 ) = C29;
reconsider D4 = (the InternalRel of C31) , D5 = (the InternalRel of C32) as (Relation of C29) by L86 , L87;
L88: (for B33 being set holds (B33 in C29 implies ( Im (D4 , B33) ) = ( Im (D5 , B33) )))
proof
let C33 being set;
assume L89: C33 in C29;
reconsider D6 = C33 as (Element of C31) by L89 , L86;
reconsider D7 = C33 as (Element of C32) by L87 , L89;
thus L90: ( Im (D4 , C33) ) = ( U_FT D6 )
.= ( ( Im ((the InternalRel of C28) , D6) ) /\ (the carrier of C31) ) by L67
.= ( U_FT D7 ) by L86 , L87 , L67
.= ( Im (D5 , C33) );
end;
thus L91: thesis by L88 , L86 , L87 , RELSET_1:31;
end;
end;
theorem
L93: (for R1 being non  empty RelStr holds (for B34 being non  empty (SubSpace of R1) holds (R1 is  filled implies B34 is  filled)))
proof
let R1 being non  empty RelStr;
let C34 being non  empty (SubSpace of R1);
assume L94: R1 is  filled;
let C35 being (Element of C34);
L95: (the carrier of C34) c= (the carrier of R1) by L67;
reconsider D8 = C35 as (Element of R1) by L95 , TARSKI:def 3;
L96: ( U_FT C35 ) = ( ( U_FT D8 ) /\ ( [#] C34 ) ) by L67;
L97: D8 in ( U_FT D8 ) by L94 , FIN_TOPO:def 4;
thus L98: thesis by L97 , L96 , XBOOLE_0:def 4;
end;
registration
let C36 being  filled non  empty RelStr;
cluster  ->  filled for non  empty non  empty non  empty non  empty (SubSpace of C36);
coherence by L93;
end;
theorem
L100: (for R1 being non  empty RelStr holds (for B35 being non  empty (SubSpace of R1) holds (R1 is  symmetric implies B35 is  symmetric)))
proof
let R1 being non  empty RelStr;
let C37 being non  empty (SubSpace of R1);
assume L101: R1 is  symmetric;
L102: (for B36 , B37 being (Element of C37) holds (B37 in ( U_FT B36 ) implies B36 in ( U_FT B37 )))
proof
let C38 , C39 being (Element of C37);
assume L103: C39 in ( U_FT C38 );
L104: (the carrier of C37) c= (the carrier of R1) by L67;
reconsider D9 = C38 , D10 = C39 as (Element of R1) by L104 , TARSKI:def 3;
L105: (( U_FT C38 ) = ( ( U_FT D9 ) /\ ( [#] C37 ) ) & ( U_FT C39 ) = ( ( U_FT D10 ) /\ ( [#] C37 ) )) by L67;
L106: (D10 in ( U_FT D9 ) implies D9 in ( U_FT D10 )) by L101 , FIN_TOPO:def 13;
thus L107: thesis by L106 , L103 , L105 , XBOOLE_0:def 4;
end;
thus L108: thesis by L102 , FIN_TOPO:def 13;
end;
theorem
L109: (for R1 being non  empty RelStr holds (for B38 being (SubSpace of R1) holds (for B39 being (Subset of B38) holds B39 is (Subset of R1))))
proof
let R1 being non  empty RelStr;
let C40 being (SubSpace of R1);
let C41 being (Subset of C40);
L110: (the carrier of C40) c= (the carrier of R1) by L67;
thus L111: thesis by L110 , XBOOLE_1:1;
end;
theorem
L112: (for R1 being non  empty RelStr holds (for B40 being (Subset of R1) holds (B40 is  closed iff ( B40 ` ) is  open)))
proof
let R1 being non  empty RelStr;
let C42 being (Subset of R1);
L113: (( C42 ` ) is  open implies ( ( C42 ` ) ` ) is  closed) by FIN_TOPO:23;
thus L114: thesis by L113 , FIN_TOPO:24;
end;
theorem
L115: (for R1 being non  empty RelStr holds (for B41 being (Subset of R1) holds (B41 is  open iff ((for B42 being (Element of R1) holds (( U_FT B42 ) c= B41 implies B42 in B41)) & (for B43 being (Element of R1) holds (B43 in B41 implies ( U_FT B43 ) c= B41))))))
proof
let R1 being non  empty RelStr;
let C43 being (Subset of R1);
thus L116:now
assume L117: C43 is  open;
L118: C43 = ( C43 ^i ) by L117 , FIN_TOPO:def 14;
thus L119: (for B44 being (Element of R1) holds (( U_FT B44 ) c= C43 implies B44 in C43)) by L118;
L120: (for B45 being (Element of R1) holds (B45 in C43 implies ( U_FT B45 ) c= C43))
proof
let C44 being (Element of R1);
assume L121: C44 in C43;
L122: (ex B46 being (Element of R1) st (C44 = B46 & ( U_FT B46 ) c= C43)) by L121 , L118;
thus L123: thesis by L122;
end;
thus L124: (for B47 being (Element of R1) holds (B47 in C43 implies ( U_FT B47 ) c= C43)) by L120;
end;
assume that
L125: (for B48 being (Element of R1) holds (( U_FT B48 ) c= C43 implies B48 in C43))
and
L126: (for B49 being (Element of R1) holds (B49 in C43 implies ( U_FT B49 ) c= C43));
L127: C43 c= { B50 where B50 is (Element of R1) : ( U_FT B50 ) c= C43 }
proof
let C45 being set;
assume L128: C45 in C43;
reconsider D11 = C45 as (Element of R1) by L128;
L129: ( U_FT D11 ) c= C43 by L126 , L128;
thus L130: thesis by L129;
end;
L131: { B51 where B51 is (Element of R1) : ( U_FT B51 ) c= C43 } c= C43
proof
let C46 being set;
assume L132: C46 in { B52 where B52 is (Element of R1) : ( U_FT B52 ) c= C43 };
L133: (ex B53 being (Element of R1) st (B53 = C46 & ( U_FT B53 ) c= C43)) by L132;
thus L134: thesis by L133 , L125;
end;
L135: C43 = ( C43 ^i ) by L131 , L127 , XBOOLE_0:def 10;
thus L136: thesis by L135 , FIN_TOPO:def 14;
end;
theorem
L137: (for R1 being non  empty RelStr holds (for B54 being non  empty (SubSpace of R1) holds (for B55 being (Subset of R1) holds (for B56 being (Subset of B54) holds (B55 = B56 implies ( B56 ^b ) = ( ( B55 ^b ) /\ ( [#] B54 ) ))))))
proof
let R1 being non  empty RelStr;
let C47 being non  empty (SubSpace of R1);
let C48 being (Subset of R1);
let C49 being (Subset of C47);
assume that
L138: C48 = C49;
L139: ( ( C48 ^b ) /\ ( [#] C47 ) ) c= ( C49 ^b )
proof
let C50 being set;
assume L140: C50 in ( ( C48 ^b ) /\ ( [#] C47 ) );
L141: C50 in ( C48 ^b ) by L140 , XBOOLE_0:def 4;
consider C51 being (Element of R1) such that L142: C50 = C51 and L143: ( U_FT C51 ) meets C48 by L141;
reconsider D12 = C51 as (Element of C47) by L140 , L142;
consider C52 being set such that L144: C52 in ( U_FT C51 ) and L145: C52 in C48 by L143 , XBOOLE_0:3;
L146: ( U_FT D12 ) = ( ( U_FT C51 ) /\ ( [#] C47 ) ) by L67;
L147: C52 in ( U_FT D12 ) by L146 , L138 , L144 , L145 , XBOOLE_0:def 4;
L148: ( U_FT D12 ) meets C49 by L147 , L138 , L145 , XBOOLE_0:3;
thus L149: thesis by L148 , L142;
end;
L150: ( C49 ^b ) c= ( ( C48 ^b ) /\ ( [#] C47 ) )
proof
reconsider D13 = C47 as non  empty RelStr;
let C53 being set;
assume L151: C53 in ( C49 ^b );
consider C54 being (Element of D13) such that L152: C54 = C53 and L153: ( U_FT C54 ) meets C49 by L151;
L154: (C54 in (the carrier of C47) & (the carrier of D13) c= (the carrier of R1)) by L67;
reconsider D14 = C54 as (Element of R1) by L154;
L155: ( U_FT C54 ) = ( ( Im ((the InternalRel of R1) , C54) ) /\ (the carrier of C47) ) by L67;
L156: ( U_FT D14 ) meets C48 by L155 , L138 , L153 , XBOOLE_1:74;
L157: D14 in { B57 where B57 is (Element of R1) : ( U_FT B57 ) meets C48 } by L156;
thus L158: thesis by L157 , L152 , XBOOLE_0:def 4;
end;
thus L159: thesis by L150 , L139 , XBOOLE_0:def 10;
end;
theorem
L160: (for R1 being non  empty RelStr holds (for B58 being non  empty (SubSpace of R1) holds (for B59 , B60 being (Subset of R1) holds (for B61 , B62 being (Subset of B58) holds ((B61 = B59 & B62 = B60) implies (B61 , B62 are_separated  implies B59 , B60 are_separated ))))))
proof
let R1 being non  empty RelStr;
let C55 being non  empty (SubSpace of R1);
let C56 , C57 being (Subset of R1);
let C58 , C59 being (Subset of C55);
assume that
L161: (C58 = C56 & C59 = C57);
reconsider D15 = C58 , D16 = C59 as (Subset of R1) by L109;
assume L162: C58 , C59 are_separated ;
L163: ( C58 ^b ) misses C59 by L162 , FINTOPO4:def 1;
L164: ( ( C58 ^b ) /\ C59 ) = ( {} ) by L163 , XBOOLE_0:def 7;
L165: C58 misses ( C59 ^b ) by L162 , FINTOPO4:def 1;
L166: ( C58 /\ ( C59 ^b ) ) = ( {} ) by L165 , XBOOLE_0:def 7;
L167: ( C58 /\ ( C59 ^b ) ) = ( C58 /\ ( ( [#] C55 ) /\ ( D16 ^b ) ) ) by L137
.= ( ( C58 /\ ( [#] C55 ) ) /\ ( D16 ^b ) ) by XBOOLE_1:16
.= ( D15 /\ ( D16 ^b ) ) by XBOOLE_1:28;
L168: D15 misses ( D16 ^b ) by L167 , L166 , XBOOLE_0:def 7;
L169: ( ( C58 ^b ) /\ C59 ) = ( ( ( D15 ^b ) /\ ( [#] C55 ) ) /\ C59 ) by L137
.= ( ( D15 ^b ) /\ ( C59 /\ ( [#] C55 ) ) ) by XBOOLE_1:16
.= ( ( D15 ^b ) /\ D16 ) by XBOOLE_1:28;
L170: ( D15 ^b ) misses D16 by L169 , L164 , XBOOLE_0:def 7;
thus L171: thesis by L170 , L161 , L168 , FINTOPO4:def 1;
end;
theorem
L172: (for R1 being non  empty RelStr holds (for B63 being non  empty (SubSpace of R1) holds (for B64 , B65 being (Subset of R1) holds (for B66 , B67 being (Subset of B63) holds ((B64 = B66 & B65 = B67 & ( B64 \/ B65 ) c= ( [#] B63 )) implies (B64 , B65 are_separated  implies B66 , B67 are_separated ))))))
proof
let R1 being non  empty RelStr;
let C60 being non  empty (SubSpace of R1);
let C61 , C62 being (Subset of R1);
let C63 , C64 being (Subset of C60);
assume that
L173: (C61 = C63 & C62 = C64)
and
L174: ( C61 \/ C62 ) c= ( [#] C60 );
L175: (C61 c= ( C61 \/ C62 ) & C62 c= ( C61 \/ C62 )) by XBOOLE_1:7;
reconsider D17 = C61 , D18 = C62 as (Subset of C60) by L175 , L174 , XBOOLE_1:1;
assume L176: C61 , C62 are_separated ;
L177: C61 misses ( C62 ^b ) by L176 , FINTOPO4:def 1;
L178: ( C61 /\ ( C62 ^b ) ) = ( {} ) by L177 , XBOOLE_0:def 7;
L179: ( D17 /\ ( D18 ^b ) ) = ( D17 /\ ( ( [#] C60 ) /\ ( C62 ^b ) ) ) by L137
.= ( ( D17 /\ ( [#] C60 ) ) /\ ( C62 ^b ) ) by XBOOLE_1:16
.= ( C61 /\ ( C62 ^b ) ) by XBOOLE_1:28;
L180: D17 misses ( D18 ^b ) by L179 , L178 , XBOOLE_0:def 7;
L181: ( D17 ^b ) = ( ( C61 ^b ) /\ ( [#] C60 ) ) by L137;
L182: ( ( D17 ^b ) /\ D18 ) = ( ( C61 ^b ) /\ ( D18 /\ ( [#] C60 ) ) ) by L181 , XBOOLE_1:16
.= ( ( C61 ^b ) /\ C62 ) by XBOOLE_1:28;
L183: ( C61 ^b ) misses C62 by L176 , FINTOPO4:def 1;
L184: ( ( C61 ^b ) /\ C62 ) = ( {} ) by L183 , XBOOLE_0:def 7;
L185: ( D17 ^b ) misses D18 by L184 , L182 , XBOOLE_0:def 7;
thus L186: thesis by L185 , L173 , L180 , FINTOPO4:def 1;
end;
theorem
L187: (for R1 being non  empty RelStr holds (for B68 being non  empty (Subset of R1) holds (B68 is  connected iff ( R1 | B68 ) is  connected)))
proof
let R1 being non  empty RelStr;
let C65 being non  empty (Subset of R1);
L188: ( [#] ( R1 | C65 ) ) = C65 by L80;
thus L189: (C65 is  connected implies ( R1 | C65 ) is  connected)
proof
assume L190: C65 is  connected;
L191: (for B69 , B70 being (Subset of ( R1 | C65 )) holds ((( [#] ( R1 | C65 ) ) = ( B69 \/ B70 ) & B69 <> ( {} ) & B70 <> ( {} ) & B69 misses B70) implies ( B69 ^b ) meets B70))
proof
let C66 , C67 being (Subset of ( R1 | C65 ));
L192: ( ( [#] ( R1 | C65 ) ) /\ C67 ) = C67 by XBOOLE_1:28;
L193: (the carrier of ( R1 | C65 )) = ( [#] ( R1 | C65 ) )
.= C65 by L80;
reconsider D19 = C66 , D20 = C67 as (Subset of R1) by L193 , XBOOLE_1:1;
assume L194: (( [#] ( R1 | C65 ) ) = ( C66 \/ C67 ) & C66 <> ( {} ) & C67 <> ( {} ) & C66 misses C67);
L195: ( D19 ^b ) meets D20 by L194 , L188 , L190 , FIN_TOPO:def 16;
L196: ( ( C66 ^b ) /\ C67 ) = ( ( ( D19 ^b ) /\ ( [#] ( R1 | C65 ) ) ) /\ C67 ) by L137
.= ( ( D19 ^b ) /\ D20 ) by L192 , XBOOLE_1:16;
L197: ( ( C66 ^b ) /\ C67 ) <> ( {} ) by L196 , L195 , XBOOLE_0:def 7;
thus L198: thesis by L197 , XBOOLE_0:def 7;
end;
L199: ( [#] ( R1 | C65 ) ) is  connected by L191 , FIN_TOPO:def 16;
thus L200: thesis by L199 , L28;
end;

assume L201: ( R1 | C65 ) is  connected;
L202: ( [#] ( R1 | C65 ) ) is  connected by L201 , L28;
let C68 , C69 being (Subset of R1);
assume that
L203: C65 = ( C68 \/ C69 )
and
L204: (C68 <> ( {} ) & C69 <> ( {} ) & C68 misses C69);
L205: ( [#] ( R1 | C65 ) ) = C65 by L80;
reconsider D21 = C68 as (Subset of ( R1 | C65 )) by L205 , L203 , XBOOLE_1:7;
reconsider D22 = C69 as (Subset of ( R1 | C65 )) by L203 , L205 , XBOOLE_1:7;
L206: (( ( [#] ( R1 | C65 ) ) /\ D22 ) = D22 & ( D21 ^b ) = ( ( C68 ^b ) /\ ( [#] ( R1 | C65 ) ) )) by L137 , XBOOLE_1:28;
L207: ( ( C68 ^b ) /\ C69 ) = ( ( D21 ^b ) /\ D22 ) by L206 , XBOOLE_1:16;
L208: ( D21 ^b ) meets D22 by L202 , L203 , L204 , L205 , FIN_TOPO:def 16;
thus L209: ( ( C68 ^b ) /\ C69 ) <> ( {} ) by L208 , L207 , XBOOLE_0:def 7;
end;
theorem
L210: (for B71 being  filled non  empty RelStr holds (for B72 being non  empty (Subset of B71) holds (B71 is  symmetric implies (B72 is  connected iff (for B73 , B74 being (Subset of B71) holds ((B72 = ( B73 \/ B74 ) & B73 misses B74 & B73 , B74 are_separated ) implies (B73 = ( {} B71 ) or B74 = ( {} B71 ))))))))
proof
let C70 being  filled non  empty RelStr;
let C71 being non  empty (Subset of C70);
assume L211: C70 is  symmetric;
L212:
now
assume L213: (not C71 is  connected);
L214: (not ( C70 | C71 ) is  connected) by L213 , L187;
L215: (not ( [#] ( C70 | C71 ) ) is  connected) by L214 , L28;
consider C72 , C73 being (Subset of ( C70 | C71 )) such that L216: ( [#] ( C70 | C71 ) ) = ( C72 \/ C73 ) and L217: (C72 <> ( {} ) & C73 <> ( {} )) and L218: C72 misses C73 and L219: ( C72 ^b ) misses C73 by L215 , FIN_TOPO:def 16;
reconsider D23 = C72 , D24 = C73 as (Subset of C70) by L109;
take D25 = D23;
take D26 = D24;
thus L220: (C71 = ( D25 \/ D26 ) & D25 misses D26) by L216 , L218 , L80;
L221: ( C72 ^b ) = ( ( D25 ^b ) /\ ( [#] ( C70 | C71 ) ) ) by L137;
L222: ( ( [#] ( C70 | C71 ) ) /\ D26 ) = D26 by XBOOLE_1:28;
L223: ( ( D25 ^b ) /\ D26 ) = ( ( ( D25 ^b ) /\ ( [#] ( C70 | C71 ) ) ) /\ C73 ) by L222 , XBOOLE_1:16
.= ( {} ) by L219 , L221 , XBOOLE_0:def 7;
L224: ( D25 ^b ) misses D26 by L223 , XBOOLE_0:def 7;
thus L225: (D25 , D26 are_separated  & D25 <> ( {} C70 ) & D26 <> ( {} C70 )) by L224 , L211 , L217 , FINTOPO4:10;
end;
thus L226: thesis by L212 , L30;
end;
theorem
L227: (for R1 being non  empty RelStr holds (for B75 being (Subset of R1) holds ((R1 is  filled  connected & B75 <> ( {} ) & ( B75 ` ) <> ( {} )) implies ( B75 ^delta ) <> ( {} ))))
proof
let R1 being non  empty RelStr;
let C74 being (Subset of R1);
assume that
L228: R1 is  filled  connected
and
L229: (C74 <> ( {} ) & ( C74 ` ) <> ( {} ));
L230:
now
assume L231: ( C74 ^b ) meets ( C74 ` );
consider C75 being set such that L232: C75 in ( C74 ^b ) and L233: C75 in ( C74 ` ) by L231 , XBOOLE_0:3;
reconsider D27 = C75 as (Element of R1) by L232;
L234: D27 in ( U_FT D27 ) by L228 , FIN_TOPO:def 4;
L235: ( U_FT D27 ) meets ( C74 ` ) by L234 , L233 , XBOOLE_0:3;
L236: ( U_FT D27 ) meets C74 by L232 , FIN_TOPO:8;
thus L237: (ex B76 being (Element of R1) st (( U_FT B76 ) meets C74 & ( U_FT B76 ) meets ( C74 ` ))) by L236 , L235;
end;
L238:
now
assume L239: C74 meets ( ( C74 ` ) ^b );
consider C76 being set such that L240: C76 in ( ( C74 ` ) ^b ) and L241: C76 in C74 by L239 , XBOOLE_0:3;
reconsider D28 = C76 as (Element of R1) by L240;
L242: D28 in ( U_FT D28 ) by L228 , FIN_TOPO:def 4;
L243: ( U_FT D28 ) meets C74 by L242 , L241 , XBOOLE_0:3;
L244: ( U_FT D28 ) meets ( C74 ` ) by L240 , FIN_TOPO:8;
thus L245: (ex B77 being (Element of R1) st (( U_FT B77 ) meets C74 & ( U_FT B77 ) meets ( C74 ` ))) by L244 , L243;
end;
L246: (( {} ) = ( {} R1 ) & ( C74 \/ ( C74 ` ) ) = ( [#] R1 )) by XBOOLE_1:45;
L247: (not C74 , ( C74 ` ) are_separated ) by L246 , L228 , L229 , L36 , XBOOLE_1:79;
thus L248: thesis by L247 , L230 , L238 , FINTOPO4:def 1 , FIN_TOPO:5;
end;
theorem
L249: (for R1 being non  empty RelStr holds (for B78 being (Subset of R1) holds ((R1 is  filled  symmetric & R1 is  connected & B78 <> ( {} ) & ( B78 ` ) <> ( {} )) implies ( B78 ^deltai ) <> ( {} ))))
proof
let R1 being non  empty RelStr;
let C77 being (Subset of R1);
assume that
L250: R1 is  filled  symmetric
and
L251: (R1 is  connected & C77 <> ( {} ) & ( C77 ` ) <> ( {} ));
L252:
now
assume L253: ( C77 ^b ) meets ( C77 ` );
consider C78 being set such that L254: C78 in ( C77 ^b ) and L255: C78 in ( C77 ` ) by L253 , XBOOLE_0:3;
reconsider D29 = C78 as (Element of R1) by L254;
L256: ( U_FT D29 ) meets C77 by L254 , FIN_TOPO:8;
consider C79 being set such that L257: C79 in ( U_FT D29 ) and L258: C79 in C77 by L256 , XBOOLE_0:3;
reconsider D30 = C79 as (Element of R1) by L257;
L259: D30 in ( U_FT D30 ) by L250 , FIN_TOPO:def 4;
L260: ( U_FT D30 ) meets C77 by L259 , L258 , XBOOLE_0:3;
L261: D29 in ( U_FT D30 ) by L250 , L257 , FIN_TOPO:def 13;
L262: ( U_FT D30 ) meets ( C77 ` ) by L261 , L255 , XBOOLE_0:3;
L263: D30 in ( C77 ^delta ) by L262 , L260;
thus L264: thesis by L263 , L258 , XBOOLE_0:def 4;
end;
L265:
now
assume L266: C77 meets ( ( C77 ` ) ^b );
consider C80 being set such that L267: C80 in ( ( C77 ` ) ^b ) and L268: C80 in C77 by L266 , XBOOLE_0:3;
reconsider D31 = C80 as (Element of R1) by L267;
L269: D31 in ( U_FT D31 ) by L250 , FIN_TOPO:def 4;
L270: ( U_FT D31 ) meets C77 by L269 , L268 , XBOOLE_0:3;
L271: ( U_FT D31 ) meets ( C77 ` ) by L267 , FIN_TOPO:8;
L272: D31 in ( C77 ^delta ) by L271 , L270;
thus L273: thesis by L272 , L268 , XBOOLE_0:def 4;
end;
L274: (( {} ) = ( {} R1 ) & ( C77 \/ ( C77 ` ) ) = ( [#] R1 )) by XBOOLE_1:45;
L275: (not C77 , ( C77 ` ) are_separated ) by L274 , L251 , L36 , XBOOLE_1:79;
thus L276: thesis by L275 , L252 , L265 , FINTOPO4:def 1;
end;
theorem
L277: (for R1 being non  empty RelStr holds (for B79 being (Subset of R1) holds ((R1 is  filled  symmetric & R1 is  connected & B79 <> ( {} ) & ( B79 ` ) <> ( {} )) implies ( B79 ^deltao ) <> ( {} ))))
proof
let R1 being non  empty RelStr;
let C81 being (Subset of R1);
assume that
L278: R1 is  filled  symmetric
and
L279: (R1 is  connected & C81 <> ( {} ) & ( C81 ` ) <> ( {} ));
L280:
now
assume L281: C81 meets ( ( C81 ` ) ^b );
consider C82 being set such that L282: C82 in ( ( C81 ` ) ^b ) and L283: C82 in C81 by L281 , XBOOLE_0:3;
reconsider D32 = C82 as (Element of R1) by L282;
L284: ( U_FT D32 ) meets ( C81 ` ) by L282 , FIN_TOPO:8;
consider C83 being set such that L285: C83 in ( U_FT D32 ) and L286: C83 in ( C81 ` ) by L284 , XBOOLE_0:3;
reconsider D33 = C83 as (Element of R1) by L285;
L287: D33 in ( U_FT D33 ) by L278 , FIN_TOPO:def 4;
L288: ( U_FT D33 ) meets ( C81 ` ) by L287 , L286 , XBOOLE_0:3;
L289: D32 in ( U_FT D33 ) by L278 , L285 , FIN_TOPO:def 13;
L290: ( U_FT D33 ) meets C81 by L289 , L283 , XBOOLE_0:3;
L291: D33 in ( C81 ^delta ) by L290 , L288;
thus L292: thesis by L291 , L286 , XBOOLE_0:def 4;
end;
L293:
now
assume L294: ( C81 ^b ) meets ( C81 ` );
consider C84 being set such that L295: C84 in ( C81 ^b ) and L296: C84 in ( C81 ` ) by L294 , XBOOLE_0:3;
reconsider D34 = C84 as (Element of R1) by L295;
L297: D34 in ( U_FT D34 ) by L278 , FIN_TOPO:def 4;
L298: ( U_FT D34 ) meets ( C81 ` ) by L297 , L296 , XBOOLE_0:3;
L299: ( U_FT D34 ) meets C81 by L295 , FIN_TOPO:8;
L300: D34 in ( C81 ^delta ) by L299 , L298;
thus L301: thesis by L300 , L296 , XBOOLE_0:def 4;
end;
L302: (( {} ) = ( {} R1 ) & ( C81 \/ ( C81 ` ) ) = ( [#] R1 )) by XBOOLE_1:45;
L303: (not C81 , ( C81 ` ) are_separated ) by L302 , L279 , L36 , XBOOLE_1:79;
thus L304: thesis by L303 , L293 , L280 , FINTOPO4:def 1;
end;
theorem
L305: (for R1 being non  empty RelStr holds (for B80 being (Subset of R1) holds ( B80 ^deltai ) misses ( B80 ^deltao )))
proof
let R1 being non  empty RelStr;
let C85 being (Subset of R1);
L306: C85 misses ( C85 ` ) by XBOOLE_1:79;
L307: ( C85 /\ ( C85 ` ) ) = ( {} ) by L306 , XBOOLE_0:def 7;
thus L308: ( ( C85 ^deltai ) /\ ( C85 ^deltao ) ) = ( ( C85 /\ ( ( C85 ^delta ) /\ ( C85 ` ) ) ) /\ ( C85 ^delta ) ) by XBOOLE_1:16
.= ( ( ( C85 /\ ( C85 ` ) ) /\ ( C85 ^delta ) ) /\ ( C85 ^delta ) ) by XBOOLE_1:16
.= ( {} ) by L307;
end;
theorem
L309: (for B81 being  filled non  empty RelStr holds (for B82 being (Subset of B81) holds ( B82 ^deltao ) = ( ( B82 ^b ) \ B82 )))
proof
let C86 being  filled non  empty RelStr;
let C87 being (Subset of C86);
L310: ( ( C87 ` ) /\ ( ( C87 ` ) ^b ) ) = ( C87 ` ) by FIN_TOPO:13 , XBOOLE_1:28;
thus L311: ( C87 ^deltao ) = ( ( C87 ` ) /\ ( ( C87 ^b ) /\ ( ( C87 ` ) ^b ) ) ) by FIN_TOPO:18
.= ( ( C87 ^b ) /\ ( ( C87 ` ) /\ ( ( C87 ` ) ^b ) ) ) by XBOOLE_1:16
.= ( ( C87 ^b ) \ C87 ) by L310 , SUBSET_1:13;
end;
theorem
L312: (for R1 being non  empty RelStr holds (for B83 , B84 being (Subset of R1) holds (B83 , B84 are_separated  implies ( B83 ^deltao ) misses B84)))
proof
let R1 being non  empty RelStr;
let C88 , C89 being (Subset of R1);
assume L313: C88 , C89 are_separated ;
L314: ( C88 ^b ) misses C89 by L313 , FINTOPO4:def 1;
thus L315: ( ( C88 ^deltao ) /\ C89 ) = ( ( C88 ` ) /\ ( ( C88 ^delta ) /\ C89 ) ) by XBOOLE_1:16
.= ( ( C88 ` ) /\ ( ( ( C88 ^b ) /\ ( ( C88 ` ) ^b ) ) /\ C89 ) ) by FIN_TOPO:18
.= ( ( C88 ` ) /\ ( ( ( C88 ` ) ^b ) /\ ( ( C88 ^b ) /\ C89 ) ) ) by XBOOLE_1:16
.= ( ( C88 ` ) /\ ( ( ( C88 ` ) ^b ) /\ ( {} ) ) ) by L314 , XBOOLE_0:def 7
.= ( {} );
end;
theorem
L316: (for R1 being non  empty RelStr holds (for B85 , B86 being (Subset of R1) holds ((R1 is  filled & B85 misses B86 & ( B85 ^deltao ) misses B86 & ( B86 ^deltao ) misses B85) implies B85 , B86 are_separated )))
proof
let R1 being non  empty RelStr;
let C90 , C91 being (Subset of R1);
assume that
L317: R1 is  filled
and
L318: ( C90 /\ C91 ) = ( {} )
and
L319: ( ( C90 ^deltao ) /\ C91 ) = ( {} )
and
L320: ( ( C91 ^deltao ) /\ C90 ) = ( {} );
L321: ( ( C91 ` ) /\ ( ( C91 ^delta ) /\ C90 ) ) = ( {} ) by L320 , XBOOLE_1:16;
L322: ( ( C91 ` ) /\ ( ( ( C91 ^b ) /\ ( ( C91 ` ) ^b ) ) /\ C90 ) ) = ( {} ) by L321 , FIN_TOPO:18;
L323: ( ( C91 ` ) /\ ( ( ( C91 ` ) ^b ) /\ ( ( C91 ^b ) /\ C90 ) ) ) = ( {} ) by L322 , XBOOLE_1:16;
L324: ( ( ( C91 ` ) /\ ( ( C91 ` ) ^b ) ) /\ ( ( C91 ^b ) /\ C90 ) ) = ( {} ) by L323 , XBOOLE_1:16;
L325: ( ( C91 ` ) /\ ( ( C91 ` ) ^b ) ) = ( C91 ` ) by L317 , FIN_TOPO:13 , XBOOLE_1:28;
L326: ( C91 ` ) misses ( ( C91 ^b ) /\ C90 ) by L325 , L324 , XBOOLE_0:def 7;
L327: ( ( C91 ^b ) /\ C90 ) c= C91 by L326 , SUBSET_1:24;
L328: ( ( ( C91 ^b ) /\ C90 ) /\ C90 ) c= ( C91 /\ C90 ) by L327 , XBOOLE_1:26;
L329: ( ( C91 ^b ) /\ ( C90 /\ C90 ) ) c= ( C91 /\ C90 ) by L328 , XBOOLE_1:16;
L330: ( ( C91 ^b ) /\ C90 ) = ( {} ) by L329 , L318 , XBOOLE_1:3;
L331: C90 misses ( C91 ^b ) by L330 , XBOOLE_0:def 7;
L332: ( ( C90 ` ) /\ ( ( C90 ^delta ) /\ C91 ) ) = ( {} ) by L319 , XBOOLE_1:16;
L333: ( ( C90 ` ) /\ ( ( ( C90 ^b ) /\ ( ( C90 ` ) ^b ) ) /\ C91 ) ) = ( {} ) by L332 , FIN_TOPO:18;
L334: ( ( C90 ` ) /\ ( ( ( C90 ` ) ^b ) /\ ( ( C90 ^b ) /\ C91 ) ) ) = ( {} ) by L333 , XBOOLE_1:16;
L335: ( ( ( C90 ` ) /\ ( ( C90 ` ) ^b ) ) /\ ( ( C90 ^b ) /\ C91 ) ) = ( {} ) by L334 , XBOOLE_1:16;
L336: ( ( C90 ` ) /\ ( ( C90 ` ) ^b ) ) = ( C90 ` ) by L317 , FIN_TOPO:13 , XBOOLE_1:28;
L337: ( C90 ` ) misses ( ( C90 ^b ) /\ C91 ) by L336 , L335 , XBOOLE_0:def 7;
L338: ( ( C90 ^b ) /\ C91 ) c= C90 by L337 , SUBSET_1:24;
L339: ( ( ( C90 ^b ) /\ C91 ) /\ C91 ) c= ( C90 /\ C91 ) by L338 , XBOOLE_1:26;
L340: ( ( C90 ^b ) /\ ( C91 /\ C91 ) ) c= ( C90 /\ C91 ) by L339 , XBOOLE_1:16;
L341: ( ( C90 ^b ) /\ C91 ) = ( {} ) by L340 , L318 , XBOOLE_1:3;
L342: ( C90 ^b ) misses C91 by L341 , XBOOLE_0:def 7;
thus L343: thesis by L342 , L331 , FINTOPO4:def 1;
end;
theorem
L344: (for R1 being non  empty RelStr holds (for B87 being (Point of R1) holds { B87 } is  connected))
proof
let R1 being non  empty RelStr;
let C92 being (Point of R1);
assume L345: (not { C92 } is  connected);
consider C93 , C94 being (Subset of R1) such that L346: { C92 } = ( C93 \/ C94 ) and L347: C93 <> ( {} ) and L348: C94 <> ( {} ) and L349: C93 misses C94 and L350: (not (( C93 ^b ) meets C94 & C93 meets ( C94 ^b ))) by L345 , L24;
L351: C93 <> C94
proof
assume L352: (not thesis);
L353: ( C93 /\ C94 ) = C93 by L352;
thus L354: contradiction by L353 , L347 , L349 , XBOOLE_0:def 7;
end;
thus L355: contradiction by L351 , L346 , L347 , L348 , ZFMISC_1:38;
end;
registration
let R1 being non  empty RelStr;
let C95 being (Point of R1);
cluster { C95 } ->  connected for (Subset of R1);
coherence by L344;
end;
definition
let C96 being non  empty RelStr;
let C97 being (Subset of C96);
pred C97 is_a_component_of C96
means
:L357: (C97 is  connected & (for B88 being (Subset of C96) holds (B88 is  connected implies (C97 c= B88 implies C97 = B88))))
;end;
theorem
L359: (for R1 being non  empty RelStr holds (for B89 being (Subset of R1) holds (B89 is_a_component_of R1 implies B89 <> ( {} R1 ))))
proof
let R1 being non  empty RelStr;
let C98 being (Subset of R1);
set D35 = the (Point of R1);
L360: ( {} ) c= { D35 } by XBOOLE_1:2;
thus L361: thesis by L360 , L357;
end;
theorem
L362: (for R1 being non  empty RelStr holds (for R2 being (Subset of R1) holds (for R3 being (Subset of R1) holds ((R2 is  closed & R3 is  closed & R2 misses R3) implies R2 , R3 are_separated ))))
proof
let R1 being non  empty RelStr;
let R2 being (Subset of R1);
let R3 being (Subset of R1);
assume that
L363: R2 is  closed
and
L364: R3 is  closed
and
L365: R2 misses R3;
L366: ( R2 /\ R3 ) = ( {} ) by L365 , XBOOLE_0:def 7;
L367: ( R2 /\ ( R3 ^b ) ) = ( {} ) by L366 , L364 , FIN_TOPO:def 15;
L368: R2 misses ( R3 ^b ) by L367 , XBOOLE_0:def 7;
L369: ( ( R2 ^b ) /\ R3 ) = ( {} ) by L363 , L366 , FIN_TOPO:def 15;
L370: ( R2 ^b ) misses R3 by L369 , XBOOLE_0:def 7;
thus L371: thesis by L370 , L368 , FINTOPO4:def 1;
end;
theorem
L372: (for R1 being non  empty RelStr holds (for R2 being (Subset of R1) holds (for R3 being (Subset of R1) holds ((R1 is  filled & ( [#] R1 ) = ( R2 \/ R3 ) & R2 , R3 are_separated ) implies R2 is  open  closed))))
proof
let R1 being non  empty RelStr;
let R2 being (Subset of R1);
let R3 being (Subset of R1);
assume that
L373: R1 is  filled
and
L374: ( [#] R1 ) = ( R2 \/ R3 )
and
L375: R2 , R3 are_separated ;
L376: R3 c= ( R3 ^b ) by L373 , FIN_TOPO:13;
L377:
now
assume L378: R2 misses ( R3 ^b );
L379: ( R3 ^b ) c= R3 by L378 , L374 , XBOOLE_1:73;
thus L380: ( R3 ^b ) = R3 by L379 , L376 , XBOOLE_0:def 10;
end;
L381: R3 is  closed by L377 , L375 , FINTOPO4:def 1 , FIN_TOPO:def 15;
L382: R2 c= ( R2 ^b ) by L373 , FIN_TOPO:13;
L383:
now
assume L384: ( R2 ^b ) misses R3;
L385: ( R2 ^b ) c= R2 by L384 , L374 , XBOOLE_1:73;
thus L386: ( R2 ^b ) = R2 by L385 , L382 , XBOOLE_0:def 10;
end;
L387: ( R3 ` ) = R2 by L373 , L374 , L375 , FINTOPO4:6 , PRE_TOPC:5;
thus L388: thesis by L387 , L375 , L383 , L381 , FINTOPO4:def 1 , FIN_TOPO:24 , FIN_TOPO:def 15;
end;
theorem
L389: (for R1 being non  empty RelStr holds (for B90 , B91 , B92 , B93 being (Subset of R1) holds ((B90 , B91 are_separated  & B92 c= B90 & B93 c= B91) implies B92 , B93 are_separated )))
proof
let R1 being non  empty RelStr;
let C99 , C100 , C101 , C102 being (Subset of R1);
assume that
L390: C99 , C100 are_separated 
and
L391: C101 c= C99
and
L392: C102 c= C100;
L393: C99 misses ( C100 ^b ) by L390 , FINTOPO4:def 1;
L394: ( C99 /\ ( C100 ^b ) ) = ( {} ) by L393 , XBOOLE_0:def 7;
L395: ( C102 ^b ) c= ( C100 ^b ) by L392 , FIN_TOPO:14;
L396: ( C101 /\ ( C102 ^b ) ) = ( {} R1 ) by L395 , L391 , L394 , XBOOLE_1:3 , XBOOLE_1:27;
L397: C101 misses ( C102 ^b ) by L396 , XBOOLE_0:def 7;
L398: ( C99 ^b ) misses C100 by L390 , FINTOPO4:def 1;
L399: ( ( C99 ^b ) /\ C100 ) = ( {} ) by L398 , XBOOLE_0:def 7;
L400: ( C101 ^b ) c= ( C99 ^b ) by L391 , FIN_TOPO:14;
L401: ( ( C101 ^b ) /\ C102 ) = ( {} R1 ) by L400 , L392 , L399 , XBOOLE_1:3 , XBOOLE_1:27;
L402: ( C101 ^b ) misses C102 by L401 , XBOOLE_0:def 7;
thus L403: thesis by L402 , L397 , FINTOPO4:def 1;
end;
theorem
L404: (for R1 being non  empty RelStr holds (for R2 being (Subset of R1) holds (for R3 being (Subset of R1) holds (for R4 being (Subset of R1) holds ((R2 , R3 are_separated  & R2 , R4 are_separated ) implies R2 , ( R3 \/ R4 ) are_separated )))))
proof
let R1 being non  empty RelStr;
let R2 being (Subset of R1);
let R3 being (Subset of R1);
let R4 being (Subset of R1);
assume that
L405: R2 , R3 are_separated 
and
L406: R2 , R4 are_separated ;
L407: ( R2 ^b ) misses R4 by L406 , FINTOPO4:def 1;
L408: ( R2 ^b ) misses R3 by L405 , FINTOPO4:def 1;
L409: ( ( R2 ^b ) /\ R3 ) = ( {} ) by L408 , XBOOLE_0:def 7;
L410: ( ( R2 ^b ) /\ ( R3 \/ R4 ) ) = ( ( ( R2 ^b ) /\ R3 ) \/ ( ( R2 ^b ) /\ R4 ) ) by XBOOLE_1:23
.= ( {} ) by L407 , L409 , XBOOLE_0:def 7;
L411: ( R2 ^b ) misses ( R3 \/ R4 ) by L410 , XBOOLE_0:def 7;
L412: R2 misses ( R3 ^b ) by L405 , FINTOPO4:def 1;
L413: ( R2 /\ ( R3 ^b ) ) = ( {} ) by L412 , XBOOLE_0:def 7;
L414: R2 misses ( R4 ^b ) by L406 , FINTOPO4:def 1;
L415: ( R2 /\ ( ( R3 \/ R4 ) ^b ) ) = ( R2 /\ ( ( R3 ^b ) \/ ( R4 ^b ) ) ) by L7
.= ( ( R2 /\ ( R3 ^b ) ) \/ ( R2 /\ ( R4 ^b ) ) ) by XBOOLE_1:23
.= ( {} ) by L414 , L413 , XBOOLE_0:def 7;
L416: R2 misses ( ( R3 \/ R4 ) ^b ) by L415 , XBOOLE_0:def 7;
thus L417: thesis by L416 , L411 , FINTOPO4:def 1;
end;
theorem
L418: (for R1 being non  empty RelStr holds ((R1 is  filled  symmetric & (for B94 , B95 being (Subset of R1) holds ((( [#] R1 ) = ( B94 \/ B95 ) & B94 <> ( {} R1 ) & B95 <> ( {} R1 ) & B94 is  closed & B95 is  closed) implies B94 meets B95))) implies R1 is  connected))
proof
let R1 being non  empty RelStr;
assume L419: R1 is  filled  symmetric;
assume L420: (for B96 , B97 being (Subset of R1) holds ((( [#] R1 ) = ( B96 \/ B97 ) & B96 <> ( {} R1 ) & B97 <> ( {} R1 ) & B96 is  closed & B97 is  closed) implies B96 meets B97));
assume L421: (not R1 is  connected);
L422: (not ( [#] R1 ) is  connected) by L421 , L28;
consider C103 , C104 being (Subset of R1) such that L423: ( [#] R1 ) = ( C103 \/ C104 ) and L424: C103 misses C104 and L425: C103 , C104 are_separated  and L426: (C103 <> ( {} R1 ) & C104 <> ( {} R1 )) by L422 , L419 , L58;
L427: (C103 is  closed & C104 is  closed) by L419 , L423 , L425 , L372;
thus L428: contradiction by L427 , L420 , L423 , L424 , L426;
end;
theorem
L429: (for R1 being non  empty RelStr holds (R1 is  connected implies (for B98 , B99 being (Subset of R1) holds ((( [#] R1 ) = ( B98 \/ B99 ) & B98 <> ( {} R1 ) & B99 <> ( {} R1 ) & B98 is  closed & B99 is  closed) implies B98 meets B99))))
proof
let R1 being non  empty RelStr;
assume L430: ( [#] R1 ) is  connected;
given C105 , C106 being (Subset of R1) such that
L431: (( [#] R1 ) = ( C105 \/ C106 ) & C105 <> ( {} R1 ) & C106 <> ( {} R1 ) & C105 is  closed & C106 is  closed & C105 misses C106);

thus L432: contradiction by L430 , L431 , L30 , L362;
end;
theorem
L433: (for R1 being non  empty RelStr holds (for R2 being (Subset of R1) holds (for R3 being (Subset of R1) holds (for R4 being (Subset of R1) holds ((R1 is  filled & R2 is  connected & R2 c= ( R3 \/ R4 ) & R3 , R4 are_separated ) implies (R2 c= R3 or R2 c= R4))))))
proof
let R1 being non  empty RelStr;
let R2 being (Subset of R1);
let R3 being (Subset of R1);
let R4 being (Subset of R1);
assume that
L434: R1 is  filled
and
L435: R2 is  connected
and
L436: R2 c= ( R3 \/ R4 )
and
L437: R3 , R4 are_separated ;
L438: ( ( R2 /\ R3 ) \/ ( R2 /\ R4 ) ) = ( R2 /\ ( R3 \/ R4 ) ) by XBOOLE_1:23
.= R2 by L436 , XBOOLE_1:28;
assume that
L439: (not R2 c= R3)
and
L440: (not R2 c= R4);
L441: R2 meets R3 by L436 , L440 , XBOOLE_1:73;
L442: ( R2 /\ R3 ) <> ( {} ) by L441 , XBOOLE_0:def 7;
L443: R2 meets R4 by L436 , L439 , XBOOLE_1:73;
L444: ( R2 /\ R4 ) <> ( {} ) by L443 , XBOOLE_0:def 7;
L445: (( R2 /\ R3 ) c= R3 & ( R2 /\ R4 ) c= R4) by XBOOLE_1:17;
L446: (( {} R1 ) = ( {} ) & ( R2 /\ R3 ) misses ( R2 /\ R4 )) by L445 , L434 , L437 , L389 , FINTOPO4:6;
thus L447: contradiction by L446 , L435 , L437 , L442 , L444 , L445 , L438 , L30 , L389;
end;
theorem
L448: (for R1 being non  empty RelStr holds (for B100 , B101 being (Subset of R1) holds ((R1 is  symmetric & B100 is  connected & B101 is  connected & (not B100 , B101 are_separated )) implies ( B100 \/ B101 ) is  connected)))
proof
let R1 being non  empty RelStr;
let C107 , C108 being (Subset of R1);
assume that
L449: R1 is  symmetric
and
L450: C107 is  connected
and
L451: C108 is  connected
and
L452: (not C107 , C108 are_separated );
given C109 , C110 being (Subset of R1) such that
L453: ( C107 \/ C108 ) = ( C109 \/ C110 )
and
L454: C109 <> ( {} )
and
L455: C110 <> ( {} )
and
L456: C109 misses C110
and
L457: ( C109 ^b ) misses C110;

set D36 = ( C107 /\ C109 );
set D37 = ( C107 /\ C110 );
L458: D36 misses D37 by L456 , XBOOLE_1:76;
L459: ( C110 ^b ) misses C109 by L449 , L457 , L43;
L460:
now
assume that
L461: C107 c= C110
and
L462: C108 c= C109;
per cases  by L452 , FINTOPO4:def 1;
suppose L463: ( C107 ^b ) meets C108;

L464: ( C110 ^b ) meets C108 by L463 , L461 , FIN_TOPO:14 , XBOOLE_1:63;
thus L465: contradiction by L464 , L459 , L462 , XBOOLE_1:63;
end;
suppose L466: C107 meets ( C108 ^b );

L467: (not ( C107 ^b ) misses C108) by L466 , L449 , L43;
L468: ( C110 ^b ) meets C108 by L467 , L461 , FIN_TOPO:14 , XBOOLE_1:63;
thus L469: contradiction by L468 , L459 , L462 , XBOOLE_1:63;
end;
end;
L471:
now
assume L472: ( C107 /\ C109 ) = ( {} );
L473: ( C107 /\ C110 ) = ( ( C107 /\ C109 ) \/ ( C107 /\ C110 ) ) by L472
.= ( C107 /\ ( C109 \/ C110 ) ) by XBOOLE_1:23
.= C107 by L453 , XBOOLE_1:21;
L474:
now
assume L475: ( C108 /\ C110 ) = ( {} );
L476: ( C108 /\ C109 ) = ( ( C108 /\ C110 ) \/ ( C108 /\ C109 ) ) by L475
.= ( C108 /\ ( C110 \/ C109 ) ) by XBOOLE_1:23
.= C108 by L453 , XBOOLE_1:21;
thus L477: contradiction by L476 , L460 , L473 , XBOOLE_1:18;
end;
set D38 = ( C108 /\ C109 );
set D39 = ( C108 /\ C110 );
L478: ( D38 \/ D39 ) = ( C108 /\ ( C109 \/ C110 ) ) by XBOOLE_1:23
.= C108 by L453 , XBOOLE_1:21;
L479: D38 misses D39 by L456 , XBOOLE_1:76;
L480: (( D38 ^b ) c= ( C109 ^b ) & D39 c= C110) by FIN_TOPO:14 , XBOOLE_1:17;
L481: ( D38 ^b ) misses D39 by L480 , L457 , XBOOLE_1:64;
L482: ( C108 /\ C109 ) = ( ( C107 /\ C109 ) \/ ( C108 /\ C109 ) ) by L472
.= ( ( C107 \/ C108 ) /\ C109 ) by XBOOLE_1:23
.= C109 by L453 , XBOOLE_1:21;
thus L483: contradiction by L482 , L451 , L454 , L474 , L478 , L479 , L481 , FIN_TOPO:def 16;
end;
L484:
now
assume that
L485: C107 c= C109
and
L486: C108 c= C110;
L487: ( C107 ^b ) c= ( C109 ^b ) by L485 , FIN_TOPO:14;
per cases  by L452 , FINTOPO4:def 1;
suppose L488: ( C107 ^b ) meets C108;

thus L489: contradiction by L488 , L457 , L486 , L487 , XBOOLE_1:64;
end;
suppose L490: C107 meets ( C108 ^b );

L491: (not ( C107 ^b ) misses C108) by L490 , L449 , L43;
thus L492: contradiction by L491 , L457 , L486 , L487 , XBOOLE_1:64;
end;
end;
L494:
now
assume L495: ( C107 /\ C110 ) = ( {} );
L496: ( C107 /\ C109 ) = ( ( C107 /\ C110 ) \/ ( C107 /\ C109 ) ) by L495
.= ( C107 /\ ( C110 \/ C109 ) ) by XBOOLE_1:23
.= C107 by L453 , XBOOLE_1:21;
L497:
now
assume L498: ( C108 /\ C109 ) = ( {} );
L499: ( C108 /\ C110 ) = ( ( C108 /\ C109 ) \/ ( C108 /\ C110 ) ) by L498
.= ( C108 /\ ( C109 \/ C110 ) ) by XBOOLE_1:23
.= C108 by L453 , XBOOLE_1:21;
thus L500: contradiction by L499 , L484 , L496 , XBOOLE_1:18;
end;
set D40 = ( C108 /\ C110 );
set D41 = ( C108 /\ C109 );
L501: ( D41 \/ D40 ) = ( C108 /\ ( C109 \/ C110 ) ) by XBOOLE_1:23
.= C108 by L453 , XBOOLE_1:21;
L502: D40 misses D41 by L456 , XBOOLE_1:76;
L503: (( D40 ^b ) c= ( C110 ^b ) & D41 c= C109) by FIN_TOPO:14 , XBOOLE_1:17;
L504: ( D40 ^b ) misses D41 by L503 , L459 , XBOOLE_1:64;
L505: ( C108 /\ C110 ) = ( ( C107 /\ C110 ) \/ ( C108 /\ C110 ) ) by L495
.= ( ( C107 \/ C108 ) /\ C110 ) by XBOOLE_1:23
.= C110 by L453 , XBOOLE_1:21;
thus L506: contradiction by L505 , L451 , L455 , L497 , L501 , L502 , L504 , FIN_TOPO:def 16;
end;
L507: (( D36 ^b ) c= ( C109 ^b ) & D37 c= C110) by FIN_TOPO:14 , XBOOLE_1:17;
L508: ( D36 ^b ) misses D37 by L507 , L457 , XBOOLE_1:64;
L509: ( D36 \/ D37 ) = ( C107 /\ ( C109 \/ C110 ) ) by XBOOLE_1:23
.= C107 by L453 , XBOOLE_1:21;
thus L510: contradiction by L509 , L450 , L471 , L494 , L458 , L508 , FIN_TOPO:def 16;
end;
theorem
L511: (for R1 being non  empty RelStr holds (for B102 , B103 being (Subset of R1) holds ((R1 is  symmetric & B103 is  connected & B103 c= B102 & B102 c= ( B103 ^b )) implies B102 is  connected)))
proof
let R1 being non  empty RelStr;
let C111 , C112 being (Subset of R1);
assume that
L512: R1 is  symmetric
and
L513: C112 is  connected
and
L514: C112 c= C111
and
L515: C111 c= ( C112 ^b );
let C113 , C114 being (Subset of R1);
assume that
L516: C111 = ( C113 \/ C114 )
and
L517: C113 <> ( {} )
and
L518: C114 <> ( {} )
and
L519: C113 misses C114;
assume L520: (not thesis);
set D42 = the (Element of C114);
L521: D42 in C114 by L518;
L522: C114 c= ( C114 \/ C113 ) by XBOOLE_1:7;
L523: C114 c= ( C112 ^b ) by L522 , L515 , L516 , XBOOLE_1:1;
L524: D42 in ( C112 ^b ) by L523 , L521;
consider C115 being (Element of R1) such that L525: C115 = D42 and L526: ( U_FT C115 ) meets C112 by L524;
set D43 = the (Element of ( ( U_FT C115 ) /\ C112 ));
L527: ( ( U_FT C115 ) /\ C112 ) <> ( {} ) by L526 , XBOOLE_0:def 7;
L528: D43 in ( ( U_FT C115 ) /\ C112 ) by L527;
reconsider D44 = D43 as (Element of R1) by L528;
L529: D43 in ( U_FT C115 ) by L527 , XBOOLE_0:def 4;
L530: C115 in ( U_FT D44 ) by L529 , L512 , FIN_TOPO:def 13;
L531: C115 in ( ( U_FT D44 ) /\ C114 ) by L530 , L518 , L525 , XBOOLE_0:def 4;
L532: ( U_FT D44 ) meets C114 by L531 , XBOOLE_0:def 7;
set D45 = ( C113 /\ C112 );
set D46 = ( C114 /\ C112 );
L533: C112 = ( C111 /\ C112 ) by L514 , XBOOLE_1:28
.= ( D45 \/ D46 ) by L516 , XBOOLE_1:23;
set D47 = the (Element of C113);
L534: D47 in C113 by L517;
L535: C113 c= ( C113 \/ C114 ) by XBOOLE_1:7;
L536: C113 c= ( C112 ^b ) by L535 , L515 , L516 , XBOOLE_1:1;
L537: D47 in ( C112 ^b ) by L536 , L534;
consider C116 being (Element of R1) such that L538: C116 = D47 and L539: ( U_FT C116 ) meets C112 by L537;
set D48 = the (Element of ( ( U_FT C116 ) /\ C112 ));
L540: ( ( U_FT C116 ) /\ C112 ) <> ( {} ) by L539 , XBOOLE_0:def 7;
L541: D48 in ( ( U_FT C116 ) /\ C112 ) by L540;
reconsider D49 = D48 as (Element of R1) by L541;
L542: D48 in ( U_FT C116 ) by L540 , XBOOLE_0:def 4;
L543: C116 in ( U_FT D49 ) by L542 , L512 , FIN_TOPO:def 13;
L544: C116 in ( ( U_FT D49 ) /\ C113 ) by L543 , L517 , L538 , XBOOLE_0:def 4;
L545: ( U_FT D49 ) meets C113 by L544 , XBOOLE_0:def 7;
L546: D49 in ( C113 ^b ) by L545;
L547: D44 in C112 by L527 , XBOOLE_0:def 4;
L548:
now
assume L549: D46 = ( {} );
L550: D44 in C113 by L549 , L547 , L533 , XBOOLE_0:def 4;
consider C117 being (Element of R1) such that L551: C117 = D44 and L552: ( U_FT C117 ) meets C114 by L532;
consider C118 being set such that L553: C118 in ( U_FT C117 ) and L554: C118 in C114 by L552 , XBOOLE_0:3;
reconsider D50 = C118 as (Element of R1) by L553;
L555: C117 in ( U_FT D50 ) by L512 , L553 , FIN_TOPO:def 13;
L556: ( U_FT D50 ) meets C113 by L555 , L550 , L551 , XBOOLE_0:3;
L557: D50 in ( C113 ^b ) by L556;
thus L558: contradiction by L557 , L520 , L554 , XBOOLE_0:3;
end;
L559: D45 c= C113 by XBOOLE_1:17;
L560: D49 in C112 by L540 , XBOOLE_0:def 4;
L561:
now
assume L562: D45 = ( {} );
L563: D49 in C114 by L562 , L560 , L533 , XBOOLE_0:def 4;
L564: D49 in ( ( C113 ^b ) /\ C114 ) by L563 , L546 , XBOOLE_0:def 4;
thus L565: contradiction by L564 , L520 , XBOOLE_0:def 7;
end;
L566: D45 misses C114 by L519 , XBOOLE_1:17 , XBOOLE_1:63;
L567: D45 misses D46 by L566 , XBOOLE_1:17 , XBOOLE_1:63;
L568: ( D45 ^b ) meets D46 by L567 , L513 , L533 , L561 , L548 , FIN_TOPO:def 16;
L569: ( C113 ^b ) meets D46 by L568 , L559 , FIN_TOPO:14 , XBOOLE_1:63;
thus L570: contradiction by L569 , L520 , XBOOLE_1:17 , XBOOLE_1:63;
end;
theorem
L571: (for R1 being non  empty RelStr holds (for B104 being (Subset of R1) holds ((R1 is  filled  symmetric & B104 is  connected) implies ( B104 ^b ) is  connected)))
proof
let R1 being non  empty RelStr;
let C119 being (Subset of R1);
assume that
L572: R1 is  filled  symmetric
and
L573: C119 is  connected;
L574: C119 c= ( C119 ^b ) by L572 , FIN_TOPO:13;
thus L575: thesis by L574 , L572 , L573 , L511;
end;
theorem
L576: (for R1 being non  empty RelStr holds (for R2 being (Subset of R1) holds (for R3 being (Subset of R1) holds (for R4 being (Subset of R1) holds ((R1 is  filled  symmetric  connected & R2 is  connected & ( ( [#] R1 ) \ R2 ) = ( R3 \/ R4 ) & R3 , R4 are_separated ) implies ( R2 \/ R3 ) is  connected)))))
proof
let R1 being non  empty RelStr;
let R2 being (Subset of R1);
let R3 being (Subset of R1);
let R4 being (Subset of R1);
assume that
L577: R1 is  filled  symmetric
and
L578: R1 is  connected
and
L579: R2 is  connected
and
L580: ( ( [#] R1 ) \ R2 ) = ( R3 \/ R4 )
and
L581: R3 , R4 are_separated ;
L582: ( [#] R1 ) is  connected by L578 , L28;
L583:
now
let C120 , C121 being (Subset of R1);
assume that
L584: ( R2 \/ R3 ) = ( C120 \/ C121 )
and
L585: C120 misses C121
and
L586: C120 , C121 are_separated ;
L587: ( [#] R1 ) = ( R2 \/ ( R3 \/ R4 ) ) by L580 , XBOOLE_1:45
.= ( ( C120 \/ C121 ) \/ R4 ) by L584 , XBOOLE_1:4;
L588:
now
L589: ( [#] R1 ) = ( C120 \/ ( C121 \/ R4 ) ) by L587 , XBOOLE_1:4;
assume L590: R2 c= C121;
L591: C120 misses R2 by L590 , L577 , L586 , L389 , FINTOPO4:6;
L592: C120 c= R3 by L591 , L584 , XBOOLE_1:7 , XBOOLE_1:73;
L593: C120 , R4 are_separated  by L592 , L581 , L389;
L594: C120 misses ( C121 \/ R4 ) by L593 , L577 , L586 , L404 , FINTOPO4:6;
thus L595: (C120 = ( {} R1 ) or C121 = ( {} R1 )) by L594 , L582 , L586 , L593 , L589 , L30 , L404;
end;
L596:
now
L597: ( [#] R1 ) = ( C121 \/ ( C120 \/ R4 ) ) by L587 , XBOOLE_1:4;
assume L598: R2 c= C120;
L599: C121 misses R2 by L598 , L577 , L586 , L389 , FINTOPO4:6;
L600: C121 c= R3 by L599 , L584 , XBOOLE_1:7 , XBOOLE_1:73;
L601: C121 , R4 are_separated  by L600 , L581 , L389;
L602: C121 misses ( C120 \/ R4 ) by L601 , L577 , L586 , L404 , FINTOPO4:6;
thus L603: (C120 = ( {} R1 ) or C121 = ( {} R1 )) by L602 , L582 , L586 , L601 , L597 , L30 , L404;
end;
thus L604: (C120 = ( {} R1 ) or C121 = ( {} R1 )) by L596 , L577 , L579 , L584 , L586 , L588 , L433 , XBOOLE_1:7;
end;
thus L605: thesis by L583 , L577 , L58;
end;
theorem
L606: (for R1 being non  empty RelStr holds (for B105 being non  empty (SubSpace of R1) holds (for B106 being (Subset of R1) holds (for B107 being (Subset of B105) holds (B106 = B107 implies (B106 is  connected iff B107 is  connected))))))
proof
let R1 being non  empty RelStr;
let C122 being non  empty (SubSpace of R1);
let C123 being (Subset of R1);
let C124 being (Subset of C122);
assume L607: C123 = C124;
per cases ;
suppose L608: C123 = ( {} );

thus L609: thesis by L608 , L607;
end;
suppose L610: C123 <> ( {} );

reconsider D51 = C123 as non  empty (Subset of R1) by L610;
reconsider D52 = C124 as non  empty (Subset of C122) by L607 , L610;
reconsider D53 = C122 as non  empty RelStr;
L611:
now
assume L612: (not C123 is  connected);
consider C125 , C126 being (Subset of R1) such that L613: C123 = ( C125 \/ C126 ) and L614: (C125 <> ( {} ) & C126 <> ( {} ) & C125 misses C126) and L615: ( C125 ^b ) misses C126 by L612 , FIN_TOPO:def 16;
L616: C126 c= C123 by L613 , XBOOLE_1:7;
reconsider D54 = C126 as (Subset of D53) by L616 , L607 , XBOOLE_1:1;
L617: C125 c= C123 by L613 , XBOOLE_1:7;
reconsider D55 = C125 as (Subset of D53) by L617 , L607 , XBOOLE_1:1;
L618: D54 c= (the carrier of D53);
L619: ( D55 ^b ) = ( ( C125 ^b ) /\ ( [#] D53 ) ) by L137;
L620: ( ( D55 ^b ) /\ D54 ) = ( ( C125 ^b ) /\ ( ( [#] D53 ) /\ C126 ) ) by L619 , XBOOLE_1:16
.= ( ( C125 ^b ) /\ C126 ) by L618 , XBOOLE_1:28
.= ( {} ) by L615 , XBOOLE_0:def 7;
L621: ( D55 ^b ) misses D54 by L620 , XBOOLE_0:def 7;
thus L622: (not C124 is  connected) by L621 , L607 , L613 , L614 , FIN_TOPO:def 16;
end;
L623:
now
assume L624: (not D52 is  connected);
consider C127 , C128 being (Subset of C122) such that L625: (C124 = ( C127 \/ C128 ) & C127 <> ( {} ) & C128 <> ( {} ) & C127 misses C128) and L626: ( C127 ^b ) misses C128 by L624 , FIN_TOPO:def 16;
L627: (the carrier of D53) c= (the carrier of R1) by L67;
reconsider D56 = C128 as (Subset of R1) by L627 , XBOOLE_1:1;
L628: (the carrier of D53) c= (the carrier of R1) by L67;
reconsider D57 = C127 as (Subset of R1) by L628 , XBOOLE_1:1;
L629: ( C127 ^b ) = ( ( D57 ^b ) /\ ( [#] D53 ) ) by L137;
L630: ( ( D57 ^b ) /\ D56 ) = ( ( D57 ^b ) /\ ( ( [#] D53 ) /\ C128 ) ) by XBOOLE_1:28
.= ( ( C127 ^b ) /\ C128 ) by L629 , XBOOLE_1:16
.= ( {} ) by L626 , XBOOLE_0:def 7;
L631: ( D57 ^b ) misses D56 by L630 , XBOOLE_0:def 7;
thus L632: (not D51 is  connected) by L631 , L607 , L625 , FIN_TOPO:def 16;
end;
thus L633: thesis by L623 , L611;
end;
end;
theorem
L635: (for R1 being non  empty RelStr holds (for B108 being (Subset of R1) holds ((R1 is  filled  symmetric & B108 is_a_component_of R1) implies B108 is  closed)))
proof
let R1 being non  empty RelStr;
let C129 being (Subset of R1);
assume that
L636: R1 is  filled  symmetric
and
L637: C129 is_a_component_of R1;
L638: C129 is  connected by L637 , L357;
L639: ( C129 ^b ) is  connected by L638 , L636 , L571;
L640: C129 c= ( C129 ^b ) by L636 , FIN_TOPO:13;
thus L641: C129 = ( C129 ^b ) by L640 , L637 , L639 , L357;
end;
theorem
L642: (for R1 being non  empty RelStr holds (for B109 , B110 being (Subset of R1) holds ((R1 is  symmetric & B109 is_a_component_of R1 & B110 is_a_component_of R1) implies (B109 = B110 or B109 , B110 are_separated ))))
proof
let R1 being non  empty RelStr;
let C130 , C131 being (Subset of R1);
assume that
L643: R1 is  symmetric
and
L644: C130 is_a_component_of R1
and
L645: C131 is_a_component_of R1;
L646: C130 is  connected by L644 , L357;
L647: C130 c= ( C130 \/ C131 ) by XBOOLE_1:7;
assume that
L648: C130 <> C131
and
L649: (not C130 , C131 are_separated );
L650: C131 is  connected by L645 , L357;
L651: ( C130 \/ C131 ) is  connected by L650 , L643 , L649 , L646 , L448;
L652: (C131 c= ( C130 \/ C131 ) & C130 = ( C130 \/ C131 )) by L651 , L644 , L647 , L357 , XBOOLE_1:7;
thus L653: contradiction by L652 , L645 , L648 , L646 , L357;
end;
theorem
L654: (for R1 being non  empty RelStr holds (for B111 , B112 being (Subset of R1) holds ((R1 is  filled  symmetric & B111 is_a_component_of R1 & B112 is_a_component_of R1) implies (B111 = B112 or B111 misses B112)))) by L642 , FINTOPO4:6;
theorem
L655: (for R1 being non  empty RelStr holds (for B113 being (Subset of R1) holds ((R1 is  filled  symmetric & B113 is  connected) implies (for B114 being (Subset of R1) holds (B114 is_a_component_of R1 implies (B113 misses B114 or B113 c= B114))))))
proof
let R1 being non  empty RelStr;
let C132 being (Subset of R1);
assume L656: (R1 is  filled  symmetric & C132 is  connected);
let C133 being (Subset of R1);
assume L657: C133 is_a_component_of R1;
L658: C133 c= ( C132 \/ C133 ) by XBOOLE_1:7;
assume L659: C132 meets C133;
L660: C133 is  connected by L657 , L357;
L661: ( C132 \/ C133 ) is  connected by L660 , L656 , L659 , L448 , FINTOPO4:6;
L662: C133 = ( C132 \/ C133 ) by L661 , L657 , L658 , L357;
thus L663: thesis by L662 , XBOOLE_1:7;
end;
definition
let C134 being non  empty RelStr;
let C135 being non  empty (Subset of C134);
let C136 being (Subset of C134);
pred C136 is_a_component_of C135
means
:L664: (ex B115 being (Subset of ( C134 | C135 )) st (B115 = C136 & B115 is_a_component_of ( C134 | C135 )))
;end;
theorem
L666: (for R1 being non  empty RelStr holds (for R2 being (Subset of R1) holds (for R4 being (Subset of R1) holds (for B116 being non  empty (Subset of R1) holds ((R1 is  filled  symmetric & B116 = ( ( [#] R1 ) \ R2 )) implies ((R1 is  connected & R2 is  connected & R4 is_a_component_of B116) implies ( ( [#] R1 ) \ R4 ) is  connected))))))
proof
let R1 being non  empty RelStr;
let R2 being (Subset of R1);
let R4 being (Subset of R1);
let C137 being non  empty (Subset of R1);
assume that
L667: R1 is  filled  symmetric
and
L668: C137 = ( ( [#] R1 ) \ R2 )
and
L669: R1 is  connected
and
L670: R2 is  connected
and
L671: R4 is_a_component_of C137;
consider C138 being (Subset of ( R1 | C137 )) such that L672: C138 = R4 and L673: C138 is_a_component_of ( R1 | C137 ) by L671 , L664;
reconsider D58 = C138 as (Subset of R1) by L672;
L674: C138 c= ( [#] ( R1 | C137 ) );
L675: C138 c= ( ( [#] R1 ) \ R2 ) by L674 , L668 , L80;
L676: ( ( ( [#] R1 ) \ R2 ) ` ) c= ( D58 ` ) by L675 , SUBSET_1:12;
L677: R2 c= ( D58 ` ) by L676 , PRE_TOPC:3;
L678: R2 c= ( ( [#] R1 ) \ D58 ) by L676 , PRE_TOPC:3;
L679: C138 is  connected by L673 , L357;
L680:
now
L681: R2 misses C138 by L677 , SUBSET_1:23;
L682: ( R2 /\ C138 ) = ( {} ) by L681 , XBOOLE_0:def 7;
let C139 , C140 being (Subset of R1);
assume that
L683: ( ( [#] R1 ) \ R4 ) = ( C139 \/ C140 )
and
L684: C139 misses C140
and
L685: C139 , C140 are_separated ;
L686: R4 is  connected by L672 , L679 , L606;
L687:
now
assume L688: R2 c= C140;
L689: C139 c= ( C140 ` ) by L684 , SUBSET_1:23;
L690: (C140 misses ( C140 ` ) & ( R2 /\ C139 ) c= ( C140 /\ ( C140 ` ) )) by L689 , L688 , XBOOLE_1:27 , XBOOLE_1:79;
L691: ( R2 /\ C139 ) c= ( {} ) by L690 , XBOOLE_0:def 7;
L692: ( ( R4 \/ C139 ) /\ R2 ) = ( ( R2 /\ R4 ) \/ ( R2 /\ C139 ) ) by XBOOLE_1:23
.= ( {} ) by L672 , L682 , L691 , XBOOLE_1:3;
L693: ( R4 \/ C139 ) misses R2 by L692 , XBOOLE_0:def 7;
L694: ( R4 \/ C139 ) c= ( R2 ` ) by L693 , SUBSET_1:23;
L695: ( R4 \/ C139 ) c= ( [#] ( R1 | C137 ) ) by L694 , L668 , L80;
reconsider D59 = ( R4 \/ C139 ) as (Subset of ( R1 | C137 )) by L695;
L696: ( R4 \/ C139 ) is  connected by L667 , L669 , L683 , L685 , L686 , L576;
L697: D59 is  connected by L696 , L606;
L698: R4 c= ( C138 \/ C139 ) by L672 , XBOOLE_1:7;
L699: D59 = C138 by L698 , L672 , L673 , L697 , L357;
L700: C139 c= R4 by L699 , L672 , XBOOLE_1:7;
L701: C139 c= ( ( [#] R1 ) \ R4 ) by L683 , XBOOLE_1:7;
L702: (R4 misses ( R4 ` ) & C139 c= ( R4 /\ ( ( [#] R1 ) \ R4 ) )) by L701 , L700 , XBOOLE_1:19 , XBOOLE_1:79;
L703: C139 c= ( {} ) by L702 , XBOOLE_0:def 7;
thus L704: C139 = ( {} R1 ) by L703 , XBOOLE_1:3;
end;
L705: C139 misses ( C139 ` ) by XBOOLE_1:79;
L706: C140 c= ( ( [#] R1 ) \ R4 ) by L683 , XBOOLE_1:7;
L707:
now
assume L708: R2 c= C139;
L709: C140 c= ( C139 ` ) by L684 , SUBSET_1:23;
L710: ( R2 /\ C140 ) c= ( C139 /\ ( C139 ` ) ) by L709 , L708 , XBOOLE_1:27;
L711: ( R2 /\ C140 ) c= ( {} ) by L710 , L705 , XBOOLE_0:def 7;
L712: ( ( R4 \/ C140 ) /\ R2 ) = ( ( R2 /\ R4 ) \/ ( R2 /\ C140 ) ) by XBOOLE_1:23
.= ( {} ) by L672 , L682 , L711 , XBOOLE_1:3;
L713: ( R4 \/ C140 ) misses R2 by L712 , XBOOLE_0:def 7;
L714: ( R4 \/ C140 ) c= ( R2 ` ) by L713 , SUBSET_1:23;
L715: ( R4 \/ C140 ) c= ( [#] ( R1 | C137 ) ) by L714 , L668 , L80;
reconsider D60 = ( R4 \/ C140 ) as (Subset of ( R1 | C137 )) by L715;
L716: ( R4 \/ C140 ) is  connected by L667 , L669 , L683 , L685 , L686 , L576;
L717: D60 is  connected by L716 , L606;
L718: C138 c= ( C138 \/ C140 ) by XBOOLE_1:7;
L719: D60 = C138 by L718 , L672 , L673 , L717 , L357;
L720: C140 c= R4 by L719 , L672 , XBOOLE_1:7;
L721: (R4 misses ( R4 ` ) & C140 c= ( R4 /\ ( ( [#] R1 ) \ R4 ) )) by L720 , L706 , XBOOLE_1:19 , XBOOLE_1:79;
L722: C140 c= ( {} ) by L721 , XBOOLE_0:def 7;
thus L723: C140 = ( {} R1 ) by L722 , XBOOLE_1:3;
end;
thus L724: (C139 = ( {} R1 ) or C140 = ( {} R1 )) by L707 , L667 , L670 , L672 , L678 , L683 , L685 , L687 , L433;
end;
thus L725: thesis by L680 , L667 , L58;
end;
begin
definition
let R1 being non  empty RelStr;
let C141 being (FinSequence of R1);
attr C141 is  continuous
means
:L726: (1 <= ( len C141 ) & (for B117 being Nat holds (for B118 being (Element of R1) holds ((1 <= B117 & B117 < ( len C141 ) & B118 = ( C141 . B117 )) implies ( C141 . ( B117 + 1 ) ) in ( U_FT B118 )))));
end;
L728: (for R1 being non  empty RelStr holds (for B119 being (Element of R1) holds <* B119 *> is  continuous))
proof
let R1 being non  empty RelStr;
let C142 being (Element of R1);
thus L729: 1 <= ( len <* C142 *> ) by FINSEQ_1:39;
thus L730: thesis by FINSEQ_1:39;
end;
registration
let R1 being non  empty RelStr;
let C143 being (Element of R1);
cluster <* C143 *> ->  continuous for (FinSequence of R1);
coherence by L728;
end;
theorem
L732: (for R1 being non  empty RelStr holds (for B120 being (FinSequence of R1) holds (for B121 , B122 being (Element of R1) holds ((B120 is  continuous & B122 = ( B120 . ( len B120 ) ) & B121 in ( U_FT B122 )) implies ( B120 ^ <* B121 *> ) is  continuous))))
proof
let R1 being non  empty RelStr;
let C144 being (FinSequence of R1);
let C145 , C146 being (Element of R1);
assume that
L733: C144 is  continuous
and
L734: C146 = ( C144 . ( len C144 ) )
and
L735: C145 in ( U_FT C146 );
reconsider D61 = ( C144 ^ <* C145 *> ) as (FinSequence of R1);
L736: ( dom C144 ) = ( Seg ( len C144 ) ) by FINSEQ_1:def 3;
L737: ( len <* C145 *> ) = 1 by FINSEQ_1:39;
L738: (for B123 being Nat holds (for B124 being (Element of R1) holds ((1 <= B123 & B123 < ( len D61 ) & B124 = ( D61 . B123 )) implies ( D61 . ( B123 + 1 ) ) in ( U_FT B124 ))))
proof
let C147 being Nat;
let C148 being (Element of R1);
assume that
L739: 1 <= C147
and
L740: C147 < ( len D61 )
and
L741: C148 = ( D61 . C147 );
L742: (( C147 + 1 ) <= ( len D61 ) & 1 < ( C147 + 1 )) by L739 , L740 , NAT_1:13;
L743: ( C147 + 1 ) in ( dom D61 ) by L742 , FINSEQ_3:25;
L744: ( D61 . ( C147 + 1 ) ) = ( D61 /. ( C147 + 1 ) ) by L743 , PARTFUN1:def 6;
reconsider D62 = ( D61 . ( C147 + 1 ) ) as (Element of R1) by L744;
L745:
now
per cases ;
suppose L746: C147 < ( len C144 );

L747: 1 <= ( C147 + 1 ) by NAT_1:11;
L748: ( C147 + 1 ) <= ( len C144 ) by L746 , NAT_1:13;
L749: ( C147 + 1 ) in ( dom C144 ) by L748 , L747 , FINSEQ_3:25;
L750: ( D61 . ( C147 + 1 ) ) = ( C144 . ( C147 + 1 ) ) by L749 , FINSEQ_1:def 7;
L751: C147 in ( dom C144 ) by L736 , L739 , L746 , FINSEQ_1:1;
L752: ( D61 . C147 ) = ( C144 . C147 ) by L751 , FINSEQ_1:def 7;
thus L753: D62 in ( U_FT C148 ) by L752 , L733 , L739 , L741 , L746 , L750 , L726;
end;
suppose L754: C147 >= ( len C144 );

L755: ( len D61 ) = ( ( len C144 ) + 1 ) by L737 , FINSEQ_1:22;
L756: C147 <= ( len C144 ) by L755 , L740 , NAT_1:13;
L757: C147 = ( len C144 ) by L756 , L754 , XXREAL_0:1;
L758: C147 in ( dom C144 ) by L736 , L739 , L756 , FINSEQ_1:1;
L759: C148 = C146 by L758 , L734 , L741 , L757 , FINSEQ_1:def 7;
thus L760: D62 in ( U_FT C148 ) by L759 , L735 , L757 , FINSEQ_1:42;
end;
end;
thus L762: thesis by L745;
end;
L763: ( len ( C144 ^ <* C145 *> ) ) = ( ( len C144 ) + ( len <* C145 *> ) ) by FINSEQ_1:22
.= ( ( len C144 ) + 1 ) by FINSEQ_1:39;
L764: ( len ( C144 ^ <* C145 *> ) ) >= 1 by L763 , NAT_1:11;
thus L765: thesis by L764 , L738 , L726;
end;
theorem
L766: (for R1 being non  empty RelStr holds (for B125 , B126 being (FinSequence of R1) holds ((B125 is  continuous & B126 is  continuous & ( B126 . 1 ) in ( U_FT ( B125 /. ( len B125 ) ) )) implies ( B125 ^ B126 ) is  continuous)))
proof
let R1 being non  empty RelStr;
let C149 , C150 being (FinSequence of R1);
assume that
L767: C149 is  continuous
and
L768: C150 is  continuous
and
L769: ( C150 . 1 ) in ( U_FT ( C149 /. ( len C149 ) ) );
L770: ( len ( C149 ^ C150 ) ) = ( ( len C149 ) + ( len C150 ) ) by FINSEQ_1:22;
L771: ( len C150 ) >= 1 by L768 , L726;
L772: ( len ( C149 ^ C150 ) ) >= ( ( 0 ) + 1 ) by L771 , L770 , XREAL_1:7;
thus L773: ( len ( C149 ^ C150 ) ) >= 1 by L772;
let C151 being Nat;
let C152 being (Element of R1);
set D63 = ( C149 ^ C150 );
L774: ( dom C149 ) = ( Seg ( len C149 ) ) by FINSEQ_1:def 3;
L775: ( len C149 ) >= 1 by L767 , L726;
assume that
L776: 1 <= C151
and
L777: C151 < ( len ( C149 ^ C150 ) )
and
L778: C152 = ( ( C149 ^ C150 ) . C151 );
L779: (( C151 + 1 ) <= ( len D63 ) & 1 < ( C151 + 1 )) by L776 , L777 , NAT_1:13;
L780: ( C151 + 1 ) in ( dom D63 ) by L779 , FINSEQ_3:25;
L781: ( D63 . ( C151 + 1 ) ) = ( D63 /. ( C151 + 1 ) ) by L780 , PARTFUN1:def 6;
reconsider D64 = ( D63 . ( C151 + 1 ) ) as (Element of R1) by L781;
per cases ;
suppose L782: C151 < ( len C149 );

L783: 1 <= ( C151 + 1 ) by NAT_1:11;
L784: ( C151 + 1 ) <= ( len C149 ) by L782 , NAT_1:13;
L785: ( C151 + 1 ) in ( dom C149 ) by L784 , L783 , FINSEQ_3:25;
L786: ( D63 . ( C151 + 1 ) ) = ( C149 . ( C151 + 1 ) ) by L785 , FINSEQ_1:def 7;
L787: C151 in ( dom C149 ) by L774 , L776 , L782 , FINSEQ_1:1;
L788: ( D63 . C151 ) = ( C149 . C151 ) by L787 , FINSEQ_1:def 7;
thus L789: thesis by L788 , L767 , L776 , L778 , L782 , L786 , L726;
end;
suppose L790: C151 >= ( len C149 );

L791: ( C151 + 1 ) > ( len C149 ) by L790 , NAT_1:13;
L792: C151 < ( ( len C149 ) + ( len C150 ) ) by L777 , FINSEQ_1:22;
L793: ( len D63 ) = ( ( len C149 ) + ( len C150 ) ) by FINSEQ_1:22;
L794: ( C151 + 1 ) <= ( ( len C149 ) + ( len C150 ) ) by L793 , L777 , NAT_1:13;
per cases  by L790 , XXREAL_0:1;
suppose L795: C151 = ( len C149 );

L796: ( len C149 ) in ( dom C149 ) by L775 , FINSEQ_3:25;
L797: C152 = ( C149 . ( len C149 ) ) by L796 , L778 , L795 , FINSEQ_1:def 7
.= ( C149 /. ( len C149 ) ) by L796 , PARTFUN1:def 6;
L798: D64 = ( C150 . ( ( C151 + 1 ) - ( len C149 ) ) ) by L791 , L793 , L794 , FINSEQ_1:24
.= ( C150 . 1 ) by L795;
thus L799: thesis by L798 , L769 , L797;
end;
suppose L800: C151 > ( len C149 );

set D65 = ( C151 -' ( len C149 ) );
L801: ( C151 - ( len C149 ) ) > ( 0 ) by L800 , XREAL_1:50;
L802: ( C151 -' ( len C149 ) ) = ( C151 - ( len C149 ) ) by L801 , XREAL_0:def 2;
L803: ( D65 + 1 ) = ( ( C151 + 1 ) - ( len C149 ) ) by L802;
L804: D64 = ( C150 . ( D65 + 1 ) ) by L803 , L791 , L793 , L794 , FINSEQ_1:24;
L805: ( C151 - ( len C149 ) ) < ( len C150 ) by L792 , XREAL_1:19;
L806: C151 >= ( ( len C149 ) + 1 ) by L800 , NAT_1:13;
L807: C152 = ( C150 . D65 ) by L806 , L778 , L792 , L802 , FINSEQ_1:23;
L808: ( C151 -' ( len C149 ) ) >= ( ( 0 ) + 1 ) by L801 , L802 , NAT_1:13;
thus L809: thesis by L808 , L768 , L802 , L804 , L807 , L805 , L726;
end;
end;
end;
definition
let R1 being non  empty RelStr;
let C153 being (Subset of R1);
attr C153 is  arcwise_connected
means
:L812: (for B127 , B128 being (Element of R1) holds ((B127 in C153 & B128 in C153) implies (ex B129 being (FinSequence of R1) st (B129 is  continuous & ( rng B129 ) c= C153 & ( B129 . 1 ) = B127 & ( B129 . ( len B129 ) ) = B128))));
end;
registration
let R1 being non  empty RelStr;
cluster  empty ->  arcwise_connected for (Subset of R1);
coherence
proof
let C154 being (Subset of R1);
assume L814: C154 is  empty;
thus L815: (for B130 , B131 being (Element of R1) holds ((B130 in C154 & B131 in C154) implies (ex B132 being (FinSequence of R1) st (B132 is  continuous & ( rng B132 ) c= C154 & ( B132 . 1 ) = B130 & ( B132 . ( len B132 ) ) = B131)))) by L814;
end;
end;
L817: (for R1 being non  empty RelStr holds (for B133 being (Element of R1) holds { B133 } is  arcwise_connected))
proof
let R1 being non  empty RelStr;
let C155 being (Element of R1);
set D66 = { C155 };
L818: ( rng <* C155 *> ) c= D66 by FINSEQ_1:39;
L819: ( <* C155 *> . 1 ) = C155 by FINSEQ_1:40;
L820: ( <* C155 *> . ( len <* C155 *> ) ) = C155 by L819 , FINSEQ_1:40;
L821: (for B134 , B135 being (Element of R1) holds ((B134 in D66 & B135 in D66) implies (ex B136 being (FinSequence of R1) st (B136 is  continuous & ( rng B136 ) c= D66 & ( B136 . 1 ) = B134 & ( B136 . ( len B136 ) ) = B135))))
proof
let C156 , C157 being (Element of R1);
assume L822: (C156 in D66 & C157 in D66);
L823: (C156 = C155 & C157 = C155) by L822 , TARSKI:def 1;
thus L824: thesis by L823 , L819 , L820 , L818;
end;
thus L825: thesis by L821 , L812;
end;
registration
let R1 being non  empty RelStr;
let C158 being (Element of R1);
cluster { C158 } ->  arcwise_connected for (Subset of R1);
coherence by L817;
end;
theorem
L827: (for R1 being non  empty RelStr holds (for B137 being (Subset of R1) holds (R1 is  symmetric implies (B137 is  connected iff B137 is  arcwise_connected))))
proof
let R1 being non  empty RelStr;
let C159 being (Subset of R1);
assume L828: R1 is  symmetric;
L829:
now
assume L830: (not C159 is  arcwise_connected);
consider C160 , C161 being (Element of R1) such that L831: C160 in C159 and L832: C161 in C159 and L833: (not (ex B138 being (FinSequence of R1) st (B138 is  continuous & ( rng B138 ) c= C159 & ( B138 . 1 ) = C160 & ( B138 . ( len B138 ) ) = C161))) by L830 , L812;
L834: { B139 where B139 is (Element of R1) : (B139 in C159 & (ex B140 being (FinSequence of R1) st (B140 is  continuous & ( rng B140 ) c= C159 & ( B140 . 1 ) = C160 & ( B140 . ( len B140 ) ) = B139))) } c= C159
proof
let C162 being set;
assume L835: C162 in { B141 where B141 is (Element of R1) : (B141 in C159 & (ex B142 being (FinSequence of R1) st (B142 is  continuous & ( rng B142 ) c= C159 & ( B142 . 1 ) = C160 & ( B142 . ( len B142 ) ) = B141))) };
L836: (ex B143 being (Element of R1) st (C162 = B143 & B143 in C159 & (ex B144 being (FinSequence of R1) st (B144 is  continuous & ( rng B144 ) c= C159 & ( B144 . 1 ) = C160 & ( B144 . ( len B144 ) ) = B143)))) by L835;
thus L837: thesis by L836;
end;
reconsider D67 = { B145 where B145 is (Element of R1) : (B145 in C159 & (ex B146 being (FinSequence of R1) st (B146 is  continuous & ( rng B146 ) c= C159 & ( B146 . 1 ) = C160 & ( B146 . ( len B146 ) ) = B145))) } as (Subset of R1) by L834 , XBOOLE_1:1;
L838: D67 misses ( C159 \ D67 ) by XBOOLE_1:79;
L839:
now
assume L840: ( D67 ^b ) meets ( C159 \ D67 );
consider C163 being set such that L841: C163 in ( D67 ^b ) and L842: C163 in ( C159 \ D67 ) by L840 , XBOOLE_0:3;
L843: (not C163 in D67) by L842 , XBOOLE_0:def 5;
consider C164 being (Element of R1) such that L844: C163 = C164 and L845: ( U_FT C164 ) meets D67 by L841;
consider C165 being set such that L846: C165 in ( U_FT C164 ) and L847: C165 in D67 by L845 , XBOOLE_0:3;
consider C166 being (Element of R1) such that L848: C165 = C166 and L849: C166 in C159 and L850: (ex B147 being (FinSequence of R1) st (B147 is  continuous & ( rng B147 ) c= C159 & ( B147 . 1 ) = C160 & ( B147 . ( len B147 ) ) = C166)) by L847;
consider C167 being (FinSequence of R1) such that L851: C167 is  continuous and L852: ( rng C167 ) c= C159 and L853: ( C167 . 1 ) = C160 and L854: ( C167 . ( len C167 ) ) = C166 by L850;
reconsider D68 = ( C167 ^ <* C164 *> ) as (FinSequence of R1);
L855: ( rng D68 ) = ( ( rng C167 ) \/ ( rng <* C164 *> ) ) by FINSEQ_1:31
.= ( ( rng C167 ) \/ { C164 } ) by FINSEQ_1:38;
L856: C163 in C159 by L842 , XBOOLE_0:def 5;
L857: { C164 } c= C159 by L856 , L844 , ZFMISC_1:31;
L858: ( rng D68 ) c= C159 by L857 , L852 , L855 , XBOOLE_1:8;
L859: 1 <= ( len C167 ) by L851 , L726;
L860: 1 in ( dom C167 ) by L859 , FINSEQ_3:25;
L861: (( D68 . ( ( len C167 ) + 1 ) ) = C164 & ( D68 . 1 ) = C160) by L860 , L853 , FINSEQ_1:42 , FINSEQ_1:def 7;
L862: C164 in ( U_FT C166 ) by L828 , L846 , L848 , FIN_TOPO:def 13;
L863: D68 is  continuous by L862 , L851 , L854 , L732;
L864: ( len D68 ) = ( ( len C167 ) + ( len <* C164 *> ) ) by FINSEQ_1:22
.= ( ( len C167 ) + 1 ) by FINSEQ_1:39;
thus L865: contradiction by L864 , L856 , L843 , L844 , L863 , L861 , L858;
end;
L866:
now
L867: { C160 } c= C159 by L831 , ZFMISC_1:31;
L868: ( rng <* C160 *> ) c= C159 by L867 , FINSEQ_1:38;
assume L869: D67 = ( {} );
L870: ( <* C160 *> . 1 ) = C160 by FINSEQ_1:40;
L871: ( <* C160 *> . ( len <* C160 *> ) ) = C160 by L870 , FINSEQ_1:39;
L872: C160 in D67 by L871 , L831 , L868 , L870;
thus L873: contradiction by L872 , L869;
end;
L874:
now
assume L875: ( C159 \ D67 ) = ( {} );
L876: C159 c= D67 by L875 , XBOOLE_1:37;
L877: D67 = C159 by L876 , L834 , XBOOLE_0:def 10;
L878: (ex B148 being (Element of R1) st (B148 = C161 & B148 in C159 & (ex B149 being (FinSequence of R1) st (B149 is  continuous & ( rng B149 ) c= C159 & ( B149 . 1 ) = C160 & ( B149 . ( len B149 ) ) = B148)))) by L877 , L832;
thus L879: contradiction by L878 , L833;
end;
L880: C159 = ( D67 \/ ( C159 \ D67 ) ) by L834 , XBOOLE_1:45;
thus L881: (not C159 is  connected) by L880 , L874 , L866 , L838 , L839 , FIN_TOPO:def 16;
end;
thus L882: (C159 is  connected implies C159 is  arcwise_connected) by L829;
L883:
now
assume L884: (not C159 is  connected);
consider C168 , C169 being (Subset of R1) such that L885: C159 = ( C168 \/ C169 ) and L886: C168 <> ( {} ) and L887: C169 <> ( {} ) and L888: C168 misses C169 and L889: ( C168 ^b ) misses C169 by L884 , FIN_TOPO:def 16;
set D69 = the (Element of C169);
L890: D69 in C169 by L887;
reconsider D70 = D69 as (Element of R1) by L890;
set D71 = the (Element of C168);
L891: D71 in C168 by L886;
reconsider D72 = D71 as (Element of R1) by L891;
L892: (D72 in C159 & D70 in C159) by L885 , L886 , L887 , XBOOLE_0:def 3;
thus L893:now
assume L894: C159 is  arcwise_connected;
consider C170 being (FinSequence of R1) such that L895: C170 is  continuous and L896: ( rng C170 ) c= C159 and L897: ( C170 . 1 ) = D72 and L898: ( C170 . ( len C170 ) ) = D70 by L894 , L892 , L812;
defpred S1[ Nat ] means (1 <= $1 & $1 <= ( len C170 ) & ( C170 . $1 ) in C168);
L899: ( len C170 ) >= 1 by L895 , L726;
L900: (ex B150 being Nat st S1[ B150 ]) by L899 , L886 , L897;
L901: (for B151 being Nat holds (S1[ B151 ] implies B151 <= ( len C170 )));
consider C171 being Nat such that L902: (S1[ C171 ] & (for B152 being Nat holds (S1[ B152 ] implies B152 <= C171))) from NAT_1:sch 6(L901 , L900);
L903: C171 <> ( len C170 ) by L887 , L888 , L898 , L902 , XBOOLE_0:3;
L904: C171 < ( len C170 ) by L903 , L902 , XXREAL_0:1;
L905: ( C171 + 1 ) <= ( len C170 ) by L904 , NAT_1:13;
reconsider D73 = ( C170 . C171 ) as (Element of R1) by L902;
L906: 1 < ( C171 + 1 ) by L902 , NAT_1:13;
L907: ( C171 + 1 ) in ( dom C170 ) by L906 , L905 , FINSEQ_3:25;
L908: ( C170 . ( C171 + 1 ) ) in ( rng C170 ) by L907 , FUNCT_1:def 3;
reconsider D74 = ( C170 . ( C171 + 1 ) ) as (Element of R1) by L908;
L909: D74 in ( U_FT D73 ) by L895 , L902 , L904 , L726;
L910: ( C170 . C171 ) in ( U_FT D74 ) by L909 , L828 , FIN_TOPO:def 13;
L911: ( U_FT D74 ) meets C168 by L910 , L902 , XBOOLE_0:3;
L912: D74 in ( C168 ^b ) by L911;
L913:
now
assume L914: ( C170 . ( C171 + 1 ) ) in C168;
L915: ( C171 + 1 ) <= C171 by L914 , L902 , L905 , L906;
thus L916: contradiction by L915 , NAT_1:13;
end;
L917: ( C170 . ( C171 + 1 ) ) in C169 by L913 , L885 , L896 , L908 , XBOOLE_0:def 3;
thus L918: contradiction by L917 , L889 , L912 , XBOOLE_0:3;
end;
thus L919: (not C159 is  arcwise_connected) by L893;
end;
thus L920: thesis by L883;
end;
theorem
L921: (for R1 being non  empty RelStr holds (for B153 being (FinSequence of R1) holds (for B154 being Nat holds ((B153 is  continuous & 1 <= B154) implies ( B153 | B154 ) is  continuous))))
proof
let R1 being non  empty RelStr;
let C172 being (FinSequence of R1);
let C173 being Nat;
assume that
L922: C172 is  continuous
and
L923: 1 <= C173;
per cases ;
suppose L924: ( len C172 ) <= C173;

thus L925: thesis by L924 , L922 , FINSEQ_1:58;
end;
suppose L926: C173 <= ( len C172 );

thus L927: ( len ( C172 | C173 ) ) >= 1 by L926 , L923 , FINSEQ_1:59;
let C174 being Nat;
let C175 being (Element of R1);
assume that
L928: 1 <= C174
and
L929: C174 < ( len ( C172 | C173 ) )
and
L930: C175 = ( ( C172 | C173 ) . C174 );
L931: ( len ( C172 | C173 ) ) = C173 by L926 , FINSEQ_1:59;
L932: ( ( C172 | C173 ) . C174 ) = ( C172 . C174 ) by L931 , L929 , FINSEQ_3:112;
L933: ( C174 + 1 ) <= C173 by L931 , L929 , NAT_1:13;
L934: ( ( C172 | C173 ) . ( C174 + 1 ) ) = ( C172 . ( C174 + 1 ) ) by L933 , FINSEQ_3:112;
L935: C174 < ( len C172 ) by L926 , L931 , L929 , XXREAL_0:2;
thus L936: thesis by L935 , L922 , L928 , L930 , L932 , L934 , L726;
end;
end;
theorem
L938: (for R1 being non  empty RelStr holds (for B155 being (FinSequence of R1) holds (for B156 being (Element of ( NAT )) holds ((B155 is  continuous & B156 < ( len B155 )) implies ( B155 /^ B156 ) is  continuous))))
proof
let R1 being non  empty RelStr;
let C176 being (FinSequence of R1);
let C177 being (Element of ( NAT ));
assume that
L939: C176 is  continuous
and
L940: C177 < ( len C176 );
L941: ( ( len C176 ) - C177 ) > ( 0 ) by L940 , XREAL_1:50;
L942: ( ( len C176 ) - C177 ) = ( ( len C176 ) -' C177 ) by L941 , XREAL_0:def 2;
L943: ( len ( C176 /^ C177 ) ) = ( ( len C176 ) - C177 ) by L940 , RFINSEQ:def 1;
L944: (for B157 being Nat holds (for B158 being (Element of R1) holds ((1 <= B157 & B157 < ( len ( C176 /^ C177 ) ) & B158 = ( ( C176 /^ C177 ) . B157 )) implies ( ( C176 /^ C177 ) . ( B157 + 1 ) ) in ( U_FT B158 ))))
proof
let C178 being Nat;
let C179 being (Element of R1);
assume that
L945: 1 <= C178
and
L946: C178 < ( len ( C176 /^ C177 ) )
and
L947: C179 = ( ( C176 /^ C177 ) . C178 );
L948: 1 <= ( 1 + C178 ) by NAT_1:11;
L949: C178 in ( dom ( C176 /^ C177 ) ) by L945 , L946 , FINSEQ_3:25;
L950: ( ( C176 /^ C177 ) . C178 ) = ( C176 . ( C178 + C177 ) ) by L949 , L940 , RFINSEQ:def 1;
L951: C178 <= ( C178 + C177 ) by NAT_1:11;
L952: (( ( C178 + 1 ) + C177 ) = ( ( C178 + C177 ) + 1 ) & 1 <= ( C178 + C177 )) by L951 , L945 , XXREAL_0:2;
L953: ( C178 + 1 ) <= ( ( len C176 ) -' C177 ) by L943 , L942 , L946 , NAT_1:13;
L954: ( C178 + 1 ) in ( dom ( C176 /^ C177 ) ) by L953 , L943 , L942 , L948 , FINSEQ_3:25;
L955: ( ( C176 /^ C177 ) . ( C178 + 1 ) ) = ( C176 . ( ( C178 + 1 ) + C177 ) ) by L954 , L940 , RFINSEQ:def 1;
L956: ( C178 + C177 ) < ( ( ( len C176 ) - C177 ) + C177 ) by L943 , L946 , XREAL_1:6;
thus L957: thesis by L956 , L939 , L947 , L950 , L955 , L952 , L726;
end;
L958: ( ( len C176 ) -' C177 ) >= ( ( 0 ) + 1 ) by L941 , L942 , NAT_1:13;
thus L959: thesis by L958 , L943 , L942 , L944 , L726;
end;
definition
let R1 being non  empty RelStr;
let C180 being (FinSequence of R1);
let C181 being (Subset of R1);
let C182 , C183 being (Element of R1);
pred C180 is_minimum_path_in C181 , C182 , C183
means
:L960: (C180 is  continuous & ( rng C180 ) c= C181 & ( C180 . 1 ) = C182 & ( C180 . ( len C180 ) ) = C183 & (for B159 being (FinSequence of R1) holds ((B159 is  continuous & ( rng B159 ) c= C181 & ( B159 . 1 ) = C182 & ( B159 . ( len B159 ) ) = C183) implies ( len C180 ) <= ( len B159 ))))
;end;
theorem
L962: (for R1 being non  empty RelStr holds (for B160 being (Subset of R1) holds (for B161 being (Element of R1) holds (B161 in B160 implies <* B161 *> is_minimum_path_in B160 , B161 , B161))))
proof
let R1 being non  empty RelStr;
let C184 being (Subset of R1);
let C185 being (Element of R1);
assume L963: C185 in C184;
thus L964: <* C185 *> is  continuous;
L965: { C185 } c= C184 by L963 , ZFMISC_1:31;
thus L966: ( rng <* C185 *> ) c= C184 by L965 , FINSEQ_1:38;
L967: ( len <* C185 *> ) = 1 by FINSEQ_1:40;
thus L968: thesis by L967 , L726 , FINSEQ_1:40;
end;
L969: (for R1 being non  empty RelStr holds (for B162 being (FinSequence of R1) holds (for B163 being (Subset of R1) holds (for B164 , B165 being (Element of R1) holds ((B162 is  continuous & ( rng B162 ) c= B163 & ( B162 . 1 ) = B164 & ( B162 . ( len B162 ) ) = B165) implies (ex B166 being (FinSequence of R1) st (B166 is  continuous & ( rng B166 ) c= B163 & ( B166 . 1 ) = B164 & ( B166 . ( len B166 ) ) = B165 & (for B167 being (FinSequence of R1) holds ((B167 is  continuous & ( rng B167 ) c= B163 & ( B167 . 1 ) = B164 & ( B167 . ( len B167 ) ) = B165) implies ( len B166 ) <= ( len B167 ))))))))))
proof
let R1 being non  empty RelStr;
let C186 being (FinSequence of R1);
let C187 being (Subset of R1);
let C188 , C189 being (Element of R1);
defpred S2[ Nat ] means (ex B168 being (FinSequence of R1) st (B168 is  continuous & ( rng B168 ) c= C187 & ( B168 . 1 ) = C188 & ( B168 . ( len B168 ) ) = C189 & $1 = ( len B168 )));
assume L970: (C186 is  continuous & ( rng C186 ) c= C187 & ( C186 . 1 ) = C188 & ( C186 . ( len C186 ) ) = C189);
L971: (ex B169 being Nat st S2[ B169 ]) by L970;
L972: (ex B170 being Nat st (S2[ B170 ] & (for B171 being Nat holds (S2[ B171 ] implies B170 <= B171)))) from NAT_1:sch 5(L971);
consider C190 being Nat such that L973: S2[ C190 ] and L974: (for B172 being Nat holds (S2[ B172 ] implies C190 <= B172)) by L972;
consider C191 being (FinSequence of R1) such that L975: (C191 is  continuous & ( rng C191 ) c= C187 & ( C191 . 1 ) = C188 & ( C191 . ( len C191 ) ) = C189) and L976: C190 = ( len C191 ) by L973;
L977: (for B173 being (FinSequence of R1) holds ((B173 is  continuous & ( rng B173 ) c= C187 & ( B173 . 1 ) = C188 & ( B173 . ( len B173 ) ) = C189) implies ( len C191 ) <= ( len B173 ))) by L974 , L976;
thus L978: thesis by L977 , L975;
end;
theorem
L979: (for R1 being non  empty RelStr holds (for B174 being (Subset of R1) holds (B174 is  arcwise_connected iff (for B175 , B176 being (Element of R1) holds ((B175 in B174 & B176 in B174) implies (ex B177 being (FinSequence of R1) st B177 is_minimum_path_in B174 , B175 , B176))))))
proof
let R1 being non  empty RelStr;
let C192 being (Subset of R1);
thus L980: (C192 is  arcwise_connected implies (for B178 , B179 being (Element of R1) holds ((B178 in C192 & B179 in C192) implies (ex B180 being (FinSequence of R1) st B180 is_minimum_path_in C192 , B178 , B179))))
proof
assume L981: C192 is  arcwise_connected;
thus L982: (for B181 , B182 being (Element of R1) holds ((B181 in C192 & B182 in C192) implies (ex B183 being (FinSequence of R1) st B183 is_minimum_path_in C192 , B181 , B182)))
proof
let C193 , C194 being (Element of R1);
assume L983: (C193 in C192 & C194 in C192);
L984: (ex B184 being (FinSequence of R1) st (B184 is  continuous & ( rng B184 ) c= C192 & ( B184 . 1 ) = C193 & ( B184 . ( len B184 ) ) = C194)) by L983 , L981 , L812;
consider C195 being (FinSequence of R1) such that L985: (C195 is  continuous & ( rng C195 ) c= C192 & ( C195 . 1 ) = C193 & ( C195 . ( len C195 ) ) = C194 & (for B185 being (FinSequence of R1) holds ((B185 is  continuous & ( rng B185 ) c= C192 & ( B185 . 1 ) = C193 & ( B185 . ( len B185 ) ) = C194) implies ( len C195 ) <= ( len B185 )))) by L984 , L969;
L986: C195 is_minimum_path_in C192 , C193 , C194 by L985 , L960;
thus L987: thesis by L986;
end;

end;

assume L983: (for B186 , B187 being (Element of R1) holds ((B186 in C192 & B187 in C192) implies (ex B188 being (FinSequence of R1) st B188 is_minimum_path_in C192 , B186 , B187)));
L984: (for B189 , B190 being (Element of R1) holds ((B189 in C192 & B190 in C192) implies (ex B191 being (FinSequence of R1) st (B191 is  continuous & ( rng B191 ) c= C192 & ( B191 . 1 ) = B189 & ( B191 . ( len B191 ) ) = B190))))
proof
let C196 , C197 being (Element of R1);
assume L985: (C196 in C192 & C197 in C192);
consider C198 being (FinSequence of R1) such that L986: C198 is_minimum_path_in C192 , C196 , C197 by L985 , L983;
L987: (( C198 . 1 ) = C196 & ( C198 . ( len C198 ) ) = C197) by L986 , L960;
L988: (C198 is  continuous & ( rng C198 ) c= C192) by L986 , L960;
thus L989: thesis by L988 , L987;
end;
thus L990: thesis by L984 , L812;
end;
theorem
L991: (for R1 being non  empty RelStr holds (for B192 being (Subset of R1) holds (for B193 , B194 being (Element of R1) holds ((ex B195 being (FinSequence of R1) st (B195 is  continuous & ( rng B195 ) c= B192 & ( B195 . 1 ) = B193 & ( B195 . ( len B195 ) ) = B194)) implies (ex B196 being (FinSequence of R1) st B196 is_minimum_path_in B192 , B193 , B194)))))
proof
let R1 being non  empty RelStr;
let C199 being (Subset of R1);
let C200 , C201 being (Element of R1);
given C202 being (FinSequence of R1) such that
L992: (C202 is  continuous & ( rng C202 ) c= C199 & ( C202 . 1 ) = C200 & ( C202 . ( len C202 ) ) = C201);

consider C203 being (FinSequence of R1) such that L993: (C203 is  continuous & ( rng C203 ) c= C199 & ( C203 . 1 ) = C200 & ( C203 . ( len C203 ) ) = C201 & (for B197 being (FinSequence of R1) holds ((B197 is  continuous & ( rng B197 ) c= C199 & ( B197 . 1 ) = C200 & ( B197 . ( len B197 ) ) = C201) implies ( len C203 ) <= ( len B197 )))) by L992 , L969;
L994: C203 is_minimum_path_in C199 , C200 , C201 by L993 , L960;
thus L995: thesis by L994;
end;
theorem
L996: (for R1 being non  empty RelStr holds (for B198 being (FinSequence of R1) holds (for B199 being (Subset of R1) holds (for B200 , B201 being (Element of R1) holds (for B202 being (Element of ( NAT )) holds ((B198 is_minimum_path_in B199 , B200 , B201 & 1 <= B202 & B202 <= ( len B198 )) implies (( B198 | B202 ) is  continuous & ( rng ( B198 | B202 ) ) c= B199 & ( ( B198 | B202 ) . 1 ) = B200 & ( ( B198 | B202 ) . ( len ( B198 | B202 ) ) ) = ( B198 /. B202 ))))))))
proof
let R1 being non  empty RelStr;
let C204 being (FinSequence of R1);
let C205 being (Subset of R1);
let C206 , C207 being (Element of R1);
let C208 being (Element of ( NAT ));
assume that
L997: C204 is_minimum_path_in C205 , C206 , C207
and
L998: 1 <= C208
and
L999: C208 <= ( len C204 );
L1000: C208 in ( dom C204 ) by L998 , L999 , FINSEQ_3:25;
L1001: C204 is  continuous by L997 , L960;
thus L1002: ( C204 | C208 ) is  continuous by L1001 , L998 , L921;
L1003: ( rng ( C204 | C208 ) ) c= ( rng C204 ) by FINSEQ_5:19;
L1004: ( rng C204 ) c= C205 by L997 , L960;
thus L1005: ( rng ( C204 | C208 ) ) c= C205 by L1004 , L1003 , XBOOLE_1:1;
L1006: ( C204 . 1 ) = C206 by L997 , L960;
thus L1007: ( ( C204 | C208 ) . 1 ) = C206 by L1006 , L998 , FINSEQ_3:112;
L1008: ( len ( C204 | C208 ) ) = C208 by L999 , FINSEQ_1:59;
thus L1009: ( ( C204 | C208 ) . ( len ( C204 | C208 ) ) ) = ( C204 . C208 ) by L1008 , FINSEQ_3:112
.= ( C204 /. C208 ) by L1000 , PARTFUN1:def 6;
end;
theorem
L1010: (for R1 being non  empty RelStr holds (for B203 being (FinSequence of R1) holds (for B204 being (Subset of R1) holds (for B205 , B206 being (Element of R1) holds (for B207 being (Element of ( NAT )) holds ((B203 is_minimum_path_in B204 , B205 , B206 & B207 < ( len B203 )) implies (( B203 /^ B207 ) is  continuous & ( rng ( B203 /^ B207 ) ) c= B204 & ( ( B203 /^ B207 ) . 1 ) = ( B203 /. ( 1 + B207 ) ) & ( ( B203 /^ B207 ) . ( len ( B203 /^ B207 ) ) ) = B206)))))))
proof
let R1 being non  empty RelStr;
let C209 being (FinSequence of R1);
let C210 being (Subset of R1);
let C211 , C212 being (Element of R1);
let C213 being (Element of ( NAT ));
assume that
L1011: C209 is_minimum_path_in C210 , C211 , C212
and
L1012: C213 < ( len C209 );
L1013: ( len ( C209 /^ C213 ) ) = ( ( len C209 ) - C213 ) by L1012 , RFINSEQ:def 1;
L1014: C209 is  continuous by L1011 , L960;
thus L1015: ( C209 /^ C213 ) is  continuous by L1014 , L1012 , L938;
L1016: ( rng ( C209 /^ C213 ) ) c= ( rng C209 ) by FINSEQ_5:33;
L1017: ( rng C209 ) c= C210 by L1011 , L960;
thus L1018: ( rng ( C209 /^ C213 ) ) c= C210 by L1017 , L1016 , XBOOLE_1:1;
L1019: ( len ( C209 /^ C213 ) ) = ( ( len C209 ) - C213 ) by L1012 , RFINSEQ:def 1;
L1020: (1 <= ( 1 + C213 ) & ( C213 + 1 ) <= ( len C209 )) by L1012 , NAT_1:11 , NAT_1:13;
L1021: ( 1 + C213 ) in ( dom C209 ) by L1020 , FINSEQ_3:25;
L1022: ( ( len C209 ) - C213 ) > ( 0 ) by L1012 , XREAL_1:50;
L1023: ( ( len C209 ) -' C213 ) = ( ( len C209 ) - C213 ) by L1022 , XREAL_0:def 2;
L1024: ( ( len C209 ) - C213 ) >= ( ( 0 ) + 1 ) by L1023 , L1022 , NAT_1:13;
L1025: 1 in ( dom ( C209 /^ C213 ) ) by L1024 , L1019 , FINSEQ_3:25;
thus L1026: ( ( C209 /^ C213 ) . 1 ) = ( C209 . ( 1 + C213 ) ) by L1025 , L1012 , RFINSEQ:def 1
.= ( C209 /. ( 1 + C213 ) ) by L1021 , PARTFUN1:def 6;
L1027: ( ( len C209 ) - C213 ) > ( 0 ) by L1012 , XREAL_1:50;
L1028: ( ( len C209 ) - C213 ) = ( ( len C209 ) -' C213 ) by L1027 , XREAL_0:def 2;
L1029: ( ( len C209 ) -' C213 ) >= ( ( 0 ) + 1 ) by L1028 , L1027 , NAT_1:13;
L1030: ( ( len C209 ) -' C213 ) in ( dom ( C209 /^ C213 ) ) by L1029 , L1019 , L1028 , FINSEQ_3:25;
thus L1031: ( ( C209 /^ C213 ) . ( len ( C209 /^ C213 ) ) ) = ( C209 . ( ( ( len C209 ) -' C213 ) + C213 ) ) by L1030 , L1012 , L1028 , L1013 , RFINSEQ:def 1
.= C212 by L1011 , L1028 , L960;
end;
theorem
L1032: (for R1 being non  empty RelStr holds (for B208 being (FinSequence of R1) holds (for B209 being (Subset of R1) holds (for B210 , B211 being (Element of R1) holds (B208 is_minimum_path_in B209 , B210 , B211 implies (for B212 being Nat holds ((1 <= B212 & B212 <= ( len B208 )) implies ( B208 | B212 ) is_minimum_path_in B209 , B210 , ( B208 /. B212 ))))))))
proof
let R1 being non  empty RelStr;
let C214 being (FinSequence of R1);
let C215 being (Subset of R1);
let C216 , C217 being (Element of R1);
assume L1033: C214 is_minimum_path_in C215 , C216 , C217;
L1034: ( rng C214 ) c= C215 by L1033 , L960;
L1035: C214 is  continuous by L1033 , L960;
L1036: 1 <= ( len C214 ) by L1035 , L726;
L1037: ( C214 . ( len C214 ) ) = C217 by L1033 , L960;
let C218 being Nat;
assume that
L1038: 1 <= C218
and
L1039: C218 <= ( len C214 );
reconsider D75 = C218 as (Element of ( NAT )) by ORDINAL1:def 12;
L1040: (( ( C214 | D75 ) . 1 ) = C216 & ( ( C214 | D75 ) . ( len ( C214 | D75 ) ) ) = ( C214 /. D75 )) by L1033 , L1038 , L1039 , L996;
L1041: (( C214 | D75 ) is  continuous & ( rng ( C214 | D75 ) ) c= C215) by L1033 , L1038 , L1039 , L996;
L1042:
now
per cases  by L1039 , XXREAL_0:1;
suppose L1043: D75 < ( len C214 );

L1044:
now
L1045: D75 in ( dom C214 ) by L1038 , L1039 , FINSEQ_3:25;
L1046: ( C214 /. D75 ) = ( C214 . D75 ) by L1045 , PARTFUN1:def 6;
L1047: ( D75 + 1 ) <= ( len C214 ) by L1043 , NAT_1:13;
L1048: ( ( C214 /^ D75 ) . 1 ) = ( C214 . ( D75 + 1 ) ) by L1047 , FINSEQ_6:114;
L1049: ( rng ( C214 /^ D75 ) ) c= ( rng C214 ) by FINSEQ_5:33;
L1050: ( rng ( C214 /^ D75 ) ) c= C215 by L1049 , L1034 , XBOOLE_1:1;
assume L1051: (not ( C214 | D75 ) is_minimum_path_in C215 , C216 , ( C214 /. D75 ));
consider C219 being (FinSequence of R1) such that L1052: C219 is  continuous and L1053: ( rng C219 ) c= C215 and L1054: ( C219 . 1 ) = C216 and L1055: ( C219 . ( len C219 ) ) = ( C214 /. D75 ) and L1056: ( len ( C214 | D75 ) ) > ( len C219 ) by L1051 , L1041 , L1040 , L960;
reconsider D76 = ( C219 ^ ( C214 /^ D75 ) ) as (FinSequence of R1);
L1057: ( len D76 ) = ( ( len C219 ) + ( len ( C214 /^ D75 ) ) ) by FINSEQ_1:22;
L1058: ( rng D76 ) = ( ( rng C219 ) \/ ( rng ( C214 /^ D75 ) ) ) by FINSEQ_1:31;
L1059: ( rng D76 ) c= C215 by L1058 , L1053 , L1050 , XBOOLE_1:8;
L1060: ( C214 /^ D75 ) is  continuous by L1033 , L1043 , L1010;
L1061: 1 <= ( len ( C214 /^ D75 ) ) by L1060 , L726;
L1062: ( len ( C214 /^ D75 ) ) in ( dom ( C214 /^ D75 ) ) by L1061 , FINSEQ_3:25;
L1063: ( D76 . ( len D76 ) ) = ( ( C214 /^ D75 ) . ( len ( C214 /^ D75 ) ) ) by L1062 , L1057 , FINSEQ_1:def 7
.= C217 by L1037 , L1043 , JORDAN4:6;
L1064: 1 <= ( len C219 ) by L1052 , L726;
L1065: 1 in ( dom C219 ) by L1064 , FINSEQ_3:25;
L1066: ( D76 . 1 ) = C216 by L1065 , L1054 , FINSEQ_1:def 7;
L1067: ( len C219 ) in ( dom C219 ) by L1064 , FINSEQ_3:25;
L1068: ( C219 . ( len C219 ) ) = ( C219 /. ( len C219 ) ) by L1067 , PARTFUN1:def 6;
L1069: ( ( C214 /^ D75 ) . 1 ) in ( U_FT ( C219 /. ( len C219 ) ) ) by L1068 , L1035 , L1038 , L1043 , L1055 , L1048 , L1046 , L726;
L1070: D76 is  continuous by L1069 , L1052 , L1060 , L766;
L1071: C214 = ( ( C214 | D75 ) ^ ( C214 /^ D75 ) ) by RFINSEQ:8;
L1072: ( len C214 ) = ( ( len ( C214 | D75 ) ) + ( len ( C214 /^ D75 ) ) ) by L1071 , FINSEQ_1:22;
L1073: ( len D76 ) < ( len C214 ) by L1072 , L1056 , L1057 , XREAL_1:8;
thus L1074: contradiction by L1073 , L1033 , L1070 , L1059 , L1066 , L1063 , L960;
end;
thus L1075: ( C214 | D75 ) is_minimum_path_in C215 , C216 , ( C214 /. D75 ) by L1044;
end;
suppose L1076: D75 = ( len C214 );

L1077: ( len C214 ) in ( dom C214 ) by L1036 , FINSEQ_3:25;
L1078: ( C214 | D75 ) = C214 by L1076 , FINSEQ_1:58;
thus L1079: ( C214 | D75 ) is_minimum_path_in C215 , C216 , ( C214 /. D75 ) by L1078 , L1033 , L1037 , L1076 , L1077 , PARTFUN1:def 6;
end;
end;
thus L1081: thesis by L1042;
end;
theorem
L1082: (for R1 being non  empty RelStr holds (for B213 being (FinSequence of R1) holds (for B214 being (Subset of R1) holds (for B215 , B216 being (Element of R1) holds (B213 is_minimum_path_in B214 , B215 , B216 implies B213 is  one-to-one)))))
proof
let R1 being non  empty RelStr;
let C220 being (FinSequence of R1);
let C221 being (Subset of R1);
let C222 , C223 being (Element of R1);
assume L1083: C220 is_minimum_path_in C221 , C222 , C223;
L1084: C220 is  continuous by L1083 , L960;
L1085: (for B217 being (FinSequence of R1) holds ((B217 is  continuous & ( rng B217 ) c= C221 & ( B217 . 1 ) = C222 & ( B217 . ( len B217 ) ) = C223) implies ( len C220 ) <= ( len B217 ))) by L1083 , L960;
L1086: ( rng C220 ) c= C221 by L1083 , L960;
L1087: ( C220 . 1 ) = C222 by L1083 , L960;
L1088: ( C220 . ( len C220 ) ) = C223 by L1083 , L960;
assume L1089: (not C220 is  one-to-one);
consider C224 , C225 being set such that L1090: C224 in ( dom C220 ) and L1091: C225 in ( dom C220 ) and L1092: ( C220 . C224 ) = ( C220 . C225 ) and L1093: C224 <> C225 by L1089 , FUNCT_1:def 4;
reconsider D77 = C224 , D78 = C225 as (Element of ( NAT )) by L1090 , L1091;
L1094: ( dom C220 ) = ( Seg ( len C220 ) ) by FINSEQ_1:def 3;
L1095: 1 <= D77 by L1094 , L1090 , FINSEQ_1:1;
L1096: D78 <= ( len C220 ) by L1091 , L1094 , FINSEQ_1:1;
L1097: 1 <= D78 by L1091 , L1094 , FINSEQ_1:1;
L1098: D77 <= ( len C220 ) by L1090 , L1094 , FINSEQ_1:1;
per cases  by L1093 , XXREAL_0:1;
suppose L1099: D77 > D78;

set D79 = ( ( len C220 ) -' D77 );
set D80 = ( ( C220 | D78 ) ^ ( C220 /^ D77 ) );
L1100: ( len ( C220 /^ D77 ) ) = ( ( len C220 ) - D77 ) by L1098 , RFINSEQ:def 1;
L1101: ( ( len C220 ) - D77 ) >= ( 0 ) by L1098 , XREAL_1:48;
L1102: ( ( len C220 ) -' D77 ) = ( ( len C220 ) - D77 ) by L1101 , XREAL_0:def 2;
L1103: ( len ( C220 | D78 ) ) = D78 by L1096 , FINSEQ_1:59;
L1104: ( D80 . 1 ) = ( ( C220 | D78 ) . 1 ) by L1103 , L1097 , FINSEQ_1:64
.= ( C220 . 1 ) by L1097 , FINSEQ_3:112;
L1105: ( len D80 ) = ( ( len ( C220 | D78 ) ) + ( len ( C220 /^ D77 ) ) ) by FINSEQ_1:22
.= ( D78 + ( ( len C220 ) - D77 ) ) by L1098 , L1103 , RFINSEQ:def 1;
per cases  by L1098 , XXREAL_0:1;
suppose L1106: D77 < ( len C220 );

L1107: ( D77 + 1 ) <= ( len C220 ) by L1106 , NAT_1:13;
L1108: ( ( D77 + 1 ) - D77 ) <= ( ( len C220 ) - D77 ) by L1107 , XREAL_1:13;
L1109: ( ( 0 ) + 1 ) <= ( D78 + ( ( len C220 ) - D77 ) ) by L1108 , XREAL_1:7;
L1110: D80 is  continuous
proof
thus L1111: ( len D80 ) >= 1 by L1105 , L1109;
let C226 being Nat;
let C227 being (Element of R1);
assume that
L1112: 1 <= C226
and
L1113: C226 < ( len D80 )
and
L1114: C227 = ( D80 . C226 );
L1115: ( C226 + 1 ) <= ( len D80 ) by L1113 , NAT_1:13;
reconsider D81 = C226 as (Element of ( NAT )) by ORDINAL1:def 12;
L1116: 1 < ( D81 + 1 ) by L1112 , NAT_1:13;
L1117: ( D81 + 1 ) in ( dom D80 ) by L1116 , L1115 , FINSEQ_3:25;
L1118: ( D80 . ( D81 + 1 ) ) = ( D80 /. ( D81 + 1 ) ) by L1117 , PARTFUN1:def 6;
reconsider D82 = ( D80 . ( D81 + 1 ) ) as (Element of R1) by L1118;
L1119:
now
per cases ;
suppose L1120: D81 < D78;

L1121: ( D81 + 1 ) <= D78 by L1120 , NAT_1:13;
L1122: ( D81 + 1 ) <= ( len ( C220 | D78 ) ) by L1103 , L1120 , NAT_1:13;
L1123: D82 = ( ( C220 | D78 ) . ( D81 + 1 ) ) by L1122 , FINSEQ_1:64 , NAT_1:12
.= ( C220 . ( D81 + 1 ) ) by L1121 , FINSEQ_3:112;
L1124: D81 < ( len C220 ) by L1096 , L1120 , XXREAL_0:2;
L1125: C227 = ( ( C220 | D78 ) . D81 ) by L1103 , L1112 , L1114 , L1120 , FINSEQ_1:64
.= ( C220 . D81 ) by L1120 , FINSEQ_3:112;
thus L1126: D82 in ( U_FT C227 ) by L1125 , L1084 , L1112 , L1124 , L1123 , L726;
end;
suppose L1127: D81 >= D78;

L1128: ( D81 - D78 ) < ( ( D78 + ( ( len C220 ) - D77 ) ) - D78 ) by L1105 , L1113 , XREAL_1:9;
L1129: ( D81 -' D78 ) < ( ( len C220 ) - D77 ) by L1128 , L1127 , XREAL_1:233;
L1130: ( ( D81 -' D78 ) + D77 ) < ( ( ( len C220 ) - D77 ) + D77 ) by L1129 , XREAL_1:6;
L1131: ( ( len ( C220 | D78 ) ) + ( D81 -' D78 ) ) = ( D78 + ( D81 - D78 ) ) by L1103 , L1127 , XREAL_1:233
.= D81;
L1132:
now
per cases  by L1127 , XXREAL_0:1;
suppose L1133: D81 > D78;

L1134: ( D81 - D78 ) > ( 0 ) by L1133 , XREAL_1:50;
L1135: ( D81 -' D78 ) = ( D81 - D78 ) by L1134 , XREAL_0:def 2;
L1136: ( ( 0 ) + 1 ) <= ( D81 -' D78 ) by L1135 , L1134 , NAT_1:13;
L1137: ( D81 -' D78 ) in ( dom ( C220 /^ D77 ) ) by L1136 , L1100 , L1129 , FINSEQ_3:25;
thus L1138: C227 = ( ( C220 /^ D77 ) . ( D81 -' D78 ) ) by L1100 , L1114 , L1129 , L1131 , L1136 , FINSEQ_1:65
.= ( C220 . ( ( D81 -' D78 ) + D77 ) ) by L1098 , L1137 , RFINSEQ:def 1;
end;
suppose L1139: D81 = D78;

thus L1140: C227 = ( ( C220 | D78 ) . D78 ) by L1139 , L1103 , L1112 , L1114 , FINSEQ_1:64
.= ( C220 . ( ( 0 ) + D77 ) ) by L1092 , FINSEQ_3:112
.= ( C220 . ( ( D81 -' D78 ) + D77 ) ) by L1139 , XREAL_1:232;
end;
end;
L1142: ( D81 -' D78 ) < ( ( len C220 ) -' D77 ) by L1098 , L1129 , XREAL_1:233;
L1143: ( ( D81 -' D78 ) + 1 ) <= ( ( len C220 ) -' D77 ) by L1142 , NAT_1:13;
L1144: ( ( D81 -' D78 ) + 1 ) <= ( len ( C220 /^ D77 ) ) by L1143 , L1098 , L1100 , XREAL_1:233;
L1145: 1 <= ( ( D81 -' D78 ) + 1 ) by NAT_1:12;
L1146: ( ( D81 -' D78 ) + 1 ) in ( dom ( C220 /^ D77 ) ) by L1145 , L1144 , FINSEQ_3:25;
L1147: ( ( len ( C220 | D78 ) ) + ( ( D81 -' D78 ) + 1 ) ) = ( ( ( D81 - D78 ) + 1 ) + D78 ) by L1103 , L1127 , XREAL_1:233
.= ( D81 + 1 );
L1148: D82 = ( ( C220 /^ D77 ) . ( ( D81 -' D78 ) + 1 ) ) by L1147 , L1144 , FINSEQ_1:65 , NAT_1:12
.= ( C220 . ( ( ( D81 -' D78 ) + 1 ) + D77 ) ) by L1098 , L1146 , RFINSEQ:def 1
.= ( C220 . ( ( ( D81 -' D78 ) + D77 ) + 1 ) );
L1149: 1 <= ( ( D81 -' D78 ) + D77 ) by L1095 , NAT_1:12;
thus L1150: D82 in ( U_FT C227 ) by L1149 , L1084 , L1132 , L1148 , L1130 , L726;
end;
end;
thus L1152: thesis by L1119;
end;
L1153: ( rng ( C220 /^ D77 ) ) c= ( rng C220 ) by FINSEQ_5:33;
L1154: (( rng D80 ) = ( ( rng ( C220 | D78 ) ) \/ ( rng ( C220 /^ D77 ) ) ) & ( rng ( C220 | D78 ) ) c= ( rng C220 )) by FINSEQ_1:31 , FINSEQ_5:19;
L1155: ( rng D80 ) c= ( rng C220 ) by L1154 , L1153 , XBOOLE_1:8;
L1156: ( D79 + D77 ) = ( len C220 ) by L1102;
L1157: D79 in ( dom ( C220 /^ D77 ) ) by L1102 , L1100 , L1108 , FINSEQ_3:25;
L1158: ( D80 . ( ( len ( C220 | D78 ) ) + D79 ) ) = ( ( C220 /^ D77 ) . D79 ) by L1157 , FINSEQ_1:def 7
.= C223 by L1088 , L1098 , L1157 , L1156 , RFINSEQ:def 1;
L1159: ( D80 . ( len D80 ) ) = C223 by L1158 , L1103 , L1105 , L1101 , XREAL_0:def 2;
L1160: ( len C220 ) <= ( len D80 ) by L1159 , L1086 , L1087 , L1085 , L1104 , L1155 , L1110 , XBOOLE_1:1;
L1161: ( ( len C220 ) - D78 ) <= ( ( D78 + ( ( len C220 ) - D77 ) ) - D78 ) by L1160 , L1105 , XREAL_1:13;
thus L1162: contradiction by L1161 , L1099 , XREAL_1:10;
end;
suppose L1163: D77 = ( len C220 );

L1164: ( len ( C220 /^ D77 ) ) = ( ( len C220 ) - D77 ) by L1098 , RFINSEQ:def 1;
L1165: D80 is  continuous
proof
thus L1166: 1 <= ( len D80 ) by L1091 , L1094 , L1105 , L1163 , FINSEQ_1:1;
let C228 being Nat;
let C229 being (Element of R1);
assume that
L1167: 1 <= C228
and
L1168: C228 < ( len D80 )
and
L1169: C229 = ( D80 . C228 );
L1170: ( C228 + 1 ) <= ( len D80 ) by L1168 , NAT_1:13;
reconsider D83 = C228 as (Element of ( NAT )) by ORDINAL1:def 12;
L1171: 1 < ( D83 + 1 ) by L1167 , NAT_1:13;
L1172: ( D83 + 1 ) in ( dom D80 ) by L1171 , L1170 , FINSEQ_3:25;
L1173: ( D80 . ( D83 + 1 ) ) = ( D80 /. ( D83 + 1 ) ) by L1172 , PARTFUN1:def 6;
reconsider D84 = ( D80 . ( D83 + 1 ) ) as (Element of R1) by L1173;
per cases ;
suppose L1174: D83 < D78;

L1175: ( D83 + 1 ) <= D78 by L1174 , NAT_1:13;
L1176: ( D83 + 1 ) <= ( len ( C220 | D78 ) ) by L1103 , L1174 , NAT_1:13;
L1177: D84 = ( ( C220 | D78 ) . ( D83 + 1 ) ) by L1176 , FINSEQ_1:64 , NAT_1:12
.= ( C220 . ( D83 + 1 ) ) by L1175 , FINSEQ_3:112;
L1178: D83 < ( len C220 ) by L1096 , L1174 , XXREAL_0:2;
L1179: C229 = ( ( C220 | D78 ) . D83 ) by L1103 , L1167 , L1169 , L1174 , FINSEQ_1:64
.= ( C220 . D83 ) by L1174 , FINSEQ_3:112;
thus L1180: thesis by L1179 , L1084 , L1167 , L1178 , L1177 , L726;
end;
suppose L1181: D83 >= D78;

L1182: ( D83 - D78 ) < ( ( D78 + ( ( len C220 ) - D77 ) ) - D78 ) by L1105 , L1168 , XREAL_1:9;
L1183: ( D83 -' D78 ) < ( ( len C220 ) - D77 ) by L1182 , L1181 , XREAL_1:233;
L1184: ( ( D83 -' D78 ) + D77 ) < ( ( ( len C220 ) - D77 ) + D77 ) by L1183 , XREAL_1:6;
L1185: ( ( len ( C220 | D78 ) ) + ( D83 -' D78 ) ) = ( D78 + ( D83 - D78 ) ) by L1103 , L1181 , XREAL_1:233
.= D83;
L1186:
now
per cases  by L1181 , XXREAL_0:1;
suppose L1187: D83 > D78;

L1188: ( D83 - D78 ) > ( 0 ) by L1187 , XREAL_1:50;
L1189: ( D83 -' D78 ) = ( D83 - D78 ) by L1188 , XREAL_0:def 2;
L1190: ( ( 0 ) + 1 ) <= ( D83 -' D78 ) by L1189 , L1188 , NAT_1:13;
L1191: ( D83 -' D78 ) in ( dom ( C220 /^ D77 ) ) by L1190 , L1164 , L1183 , FINSEQ_3:25;
thus L1192: C229 = ( ( C220 /^ D77 ) . ( D83 -' D78 ) ) by L1164 , L1169 , L1183 , L1185 , L1190 , FINSEQ_1:65
.= ( C220 . ( ( D83 -' D78 ) + D77 ) ) by L1098 , L1191 , RFINSEQ:def 1;
end;
suppose L1193: D83 = D78;

thus L1194: C229 = ( ( C220 | D78 ) . D78 ) by L1193 , L1103 , L1167 , L1169 , FINSEQ_1:64
.= ( C220 . ( ( 0 ) + D77 ) ) by L1092 , FINSEQ_3:112
.= ( C220 . ( ( D83 -' D78 ) + D77 ) ) by L1193 , XREAL_1:232;
end;
end;
L1196: ( D83 -' D78 ) < ( ( len C220 ) -' D77 ) by L1098 , L1183 , XREAL_1:233;
L1197: ( ( D83 -' D78 ) + 1 ) <= ( ( len C220 ) -' D77 ) by L1196 , NAT_1:13;
L1198: ( ( D83 -' D78 ) + 1 ) <= ( len ( C220 /^ D77 ) ) by L1197 , L1098 , L1164 , XREAL_1:233;
L1199: 1 <= ( ( D83 -' D78 ) + 1 ) by NAT_1:12;
L1200: ( ( D83 -' D78 ) + 1 ) in ( dom ( C220 /^ D77 ) ) by L1199 , L1198 , FINSEQ_3:25;
L1201: ( ( len ( C220 | D78 ) ) + ( ( D83 -' D78 ) + 1 ) ) = ( ( ( D83 - D78 ) + 1 ) + D78 ) by L1103 , L1181 , XREAL_1:233
.= ( D83 + 1 );
L1202: D84 = ( ( C220 /^ D77 ) . ( ( D83 -' D78 ) + 1 ) ) by L1201 , L1198 , FINSEQ_1:65 , NAT_1:12
.= ( C220 . ( ( ( D83 -' D78 ) + 1 ) + D77 ) ) by L1098 , L1200 , RFINSEQ:def 1
.= ( C220 . ( ( ( D83 -' D78 ) + D77 ) + 1 ) );
L1203: 1 <= ( ( D83 -' D78 ) + D77 ) by L1095 , NAT_1:12;
thus L1204: thesis by L1203 , L1084 , L1186 , L1202 , L1184 , L726;
end;
end;
L1206: ( rng ( C220 | D78 ) ) c= ( rng C220 ) by FINSEQ_5:19;
L1207: D80 = ( ( C220 | D78 ) ^ ( {} ) ) by L1163 , REVROT_1:2
.= ( C220 | D78 ) by FINSEQ_1:34;
L1208: ( D80 . ( len D80 ) ) = C223 by L1207 , L1088 , L1092 , L1103 , L1163 , FINSEQ_3:112;
L1209: ( len C220 ) <= ( len D80 ) by L1208 , L1086 , L1087 , L1085 , L1104 , L1207 , L1206 , L1165 , XBOOLE_1:1;
L1210: ( ( len C220 ) - D78 ) <= ( ( D78 + ( ( len C220 ) - D77 ) ) - D78 ) by L1209 , L1105 , XREAL_1:13;
thus L1211: contradiction by L1210 , L1099 , XREAL_1:10;
end;
end;
suppose L1213: D78 > D77;

set D85 = ( ( len C220 ) -' D78 );
set D86 = ( ( C220 | D77 ) ^ ( C220 /^ D78 ) );
L1214: ( len ( C220 /^ D78 ) ) = ( ( len C220 ) - D78 ) by L1096 , RFINSEQ:def 1;
L1215: ( ( len C220 ) - D78 ) >= ( 0 ) by L1096 , XREAL_1:48;
L1216: ( ( len C220 ) -' D78 ) = ( ( len C220 ) - D78 ) by L1215 , XREAL_0:def 2;
L1217: ( len ( C220 | D77 ) ) = D77 by L1098 , FINSEQ_1:59;
L1218: ( D86 . 1 ) = ( ( C220 | D77 ) . 1 ) by L1217 , L1095 , FINSEQ_1:64
.= C222 by L1087 , L1095 , FINSEQ_3:112;
L1219: ( len D86 ) = ( ( len ( C220 | D77 ) ) + ( len ( C220 /^ D78 ) ) ) by FINSEQ_1:22
.= ( D77 + ( ( len C220 ) - D78 ) ) by L1096 , L1217 , RFINSEQ:def 1;
per cases  by L1096 , XXREAL_0:1;
suppose L1220: D78 < ( len C220 );

L1221: ( D78 + 1 ) <= ( len C220 ) by L1220 , NAT_1:13;
L1222: ( ( D78 + 1 ) - D78 ) <= ( ( len C220 ) - D78 ) by L1221 , XREAL_1:13;
L1223: ( ( 0 ) + 1 ) <= ( D77 + ( ( len C220 ) - D78 ) ) by L1222 , XREAL_1:7;
L1224: D86 is  continuous
proof
thus L1225: ( len D86 ) >= 1 by L1219 , L1223;
let C230 being Nat;
let C231 being (Element of R1);
assume that
L1226: 1 <= C230
and
L1227: C230 < ( len D86 )
and
L1228: C231 = ( D86 . C230 );
L1229: ( C230 + 1 ) <= ( len D86 ) by L1227 , NAT_1:13;
reconsider D87 = C230 as (Element of ( NAT )) by ORDINAL1:def 12;
L1230: 1 < ( D87 + 1 ) by L1226 , NAT_1:13;
L1231: ( D87 + 1 ) in ( dom D86 ) by L1230 , L1229 , FINSEQ_3:25;
L1232: ( D86 . ( D87 + 1 ) ) = ( D86 /. ( D87 + 1 ) ) by L1231 , PARTFUN1:def 6;
reconsider D88 = ( D86 . ( D87 + 1 ) ) as (Element of R1) by L1232;
per cases ;
suppose L1233: D87 < D77;

L1234: ( D87 + 1 ) <= D77 by L1233 , NAT_1:13;
L1235: ( D87 + 1 ) <= ( len ( C220 | D77 ) ) by L1217 , L1233 , NAT_1:13;
L1236: D88 = ( ( C220 | D77 ) . ( D87 + 1 ) ) by L1235 , FINSEQ_1:64 , NAT_1:12
.= ( C220 . ( D87 + 1 ) ) by L1234 , FINSEQ_3:112;
L1237: D87 < ( len C220 ) by L1098 , L1233 , XXREAL_0:2;
L1238: C231 = ( ( C220 | D77 ) . D87 ) by L1217 , L1226 , L1228 , L1233 , FINSEQ_1:64
.= ( C220 . D87 ) by L1233 , FINSEQ_3:112;
thus L1239: thesis by L1238 , L1084 , L1226 , L1237 , L1236 , L726;
end;
suppose L1240: D87 >= D77;

L1241: ( D87 - D77 ) < ( ( D77 + ( ( len C220 ) - D78 ) ) - D77 ) by L1219 , L1227 , XREAL_1:9;
L1242: ( D87 -' D77 ) < ( ( len C220 ) - D78 ) by L1241 , L1240 , XREAL_1:233;
L1243: ( ( D87 -' D77 ) + D78 ) < ( ( ( len C220 ) - D78 ) + D78 ) by L1242 , XREAL_1:6;
L1244: ( ( len ( C220 | D77 ) ) + ( D87 -' D77 ) ) = ( D77 + ( D87 - D77 ) ) by L1217 , L1240 , XREAL_1:233
.= D87;
L1245:
now
per cases  by L1240 , XXREAL_0:1;
suppose L1246: D87 > D77;

L1247: ( D87 - D77 ) > ( 0 ) by L1246 , XREAL_1:50;
L1248: ( D87 -' D77 ) = ( D87 - D77 ) by L1247 , XREAL_0:def 2;
L1249: ( ( 0 ) + 1 ) <= ( D87 -' D77 ) by L1248 , L1247 , NAT_1:13;
L1250: ( D87 -' D77 ) in ( dom ( C220 /^ D78 ) ) by L1249 , L1214 , L1242 , FINSEQ_3:25;
thus L1251: C231 = ( ( C220 /^ D78 ) . ( D87 -' D77 ) ) by L1214 , L1228 , L1242 , L1244 , L1249 , FINSEQ_1:65
.= ( C220 . ( ( D87 -' D77 ) + D78 ) ) by L1096 , L1250 , RFINSEQ:def 1;
end;
suppose L1252: D87 = D77;

thus L1253: C231 = ( ( C220 | D77 ) . D77 ) by L1252 , L1217 , L1226 , L1228 , FINSEQ_1:64
.= ( C220 . ( ( 0 ) + D78 ) ) by L1092 , FINSEQ_3:112
.= ( C220 . ( ( D87 -' D77 ) + D78 ) ) by L1252 , XREAL_1:232;
end;
end;
L1255: ( D87 -' D77 ) < ( ( len C220 ) -' D78 ) by L1096 , L1242 , XREAL_1:233;
L1256: ( ( D87 -' D77 ) + 1 ) <= ( ( len C220 ) -' D78 ) by L1255 , NAT_1:13;
L1257: ( ( D87 -' D77 ) + 1 ) <= ( len ( C220 /^ D78 ) ) by L1256 , L1096 , L1214 , XREAL_1:233;
L1258: 1 <= ( ( D87 -' D77 ) + 1 ) by NAT_1:12;
L1259: ( ( D87 -' D77 ) + 1 ) in ( dom ( C220 /^ D78 ) ) by L1258 , L1257 , FINSEQ_3:25;
L1260: ( ( len ( C220 | D77 ) ) + ( ( D87 -' D77 ) + 1 ) ) = ( ( ( D87 - D77 ) + 1 ) + D77 ) by L1217 , L1240 , XREAL_1:233
.= ( D87 + 1 );
L1261: D88 = ( ( C220 /^ D78 ) . ( ( D87 -' D77 ) + 1 ) ) by L1260 , L1257 , FINSEQ_1:65 , NAT_1:12
.= ( C220 . ( ( ( D87 -' D77 ) + 1 ) + D78 ) ) by L1096 , L1259 , RFINSEQ:def 1
.= ( C220 . ( ( ( D87 -' D77 ) + D78 ) + 1 ) );
L1262: 1 <= ( ( D87 -' D77 ) + D78 ) by L1097 , NAT_1:12;
thus L1263: thesis by L1262 , L1084 , L1245 , L1261 , L1243 , L726;
end;
end;
L1265: ( rng ( C220 /^ D78 ) ) c= ( rng C220 ) by FINSEQ_5:33;
L1266: (( rng D86 ) = ( ( rng ( C220 | D77 ) ) \/ ( rng ( C220 /^ D78 ) ) ) & ( rng ( C220 | D77 ) ) c= ( rng C220 )) by FINSEQ_1:31 , FINSEQ_5:19;
L1267: ( rng D86 ) c= ( rng C220 ) by L1266 , L1265 , XBOOLE_1:8;
L1268: ( rng D86 ) c= C221 by L1267 , L1086 , XBOOLE_1:1;
L1269: ( D85 + D78 ) = ( len C220 ) by L1216;
L1270: D85 in ( dom ( C220 /^ D78 ) ) by L1216 , L1214 , L1222 , FINSEQ_3:25;
L1271: ( D86 . ( ( len ( C220 | D77 ) ) + D85 ) ) = ( ( C220 /^ D78 ) . D85 ) by L1270 , FINSEQ_1:def 7
.= C223 by L1088 , L1096 , L1270 , L1269 , RFINSEQ:def 1;
L1272: ( D86 . ( len D86 ) ) = C223 by L1271 , L1098 , L1219 , L1216 , FINSEQ_1:59;
L1273: ( len C220 ) <= ( len D86 ) by L1272 , L1083 , L1218 , L1268 , L1224 , L960;
L1274: ( ( len C220 ) - D77 ) <= ( ( D77 + ( ( len C220 ) - D78 ) ) - D77 ) by L1273 , L1219 , XREAL_1:13;
thus L1275: contradiction by L1274 , L1213 , XREAL_1:10;
end;
suppose L1276: D78 = ( len C220 );

L1277: ( len ( C220 /^ D78 ) ) = ( ( len C220 ) - D78 ) by L1096 , RFINSEQ:def 1;
L1278: D86 is  continuous
proof
thus L1279: ( len D86 ) >= 1 by L1090 , L1094 , L1219 , L1276 , FINSEQ_1:1;
let C232 being Nat;
let C233 being (Element of R1);
assume that
L1280: 1 <= C232
and
L1281: C232 < ( len D86 )
and
L1282: C233 = ( D86 . C232 );
L1283: ( C232 + 1 ) <= ( len D86 ) by L1281 , NAT_1:13;
reconsider D89 = C232 as (Element of ( NAT )) by ORDINAL1:def 12;
L1284: 1 < ( D89 + 1 ) by L1280 , NAT_1:13;
L1285: ( D89 + 1 ) in ( dom D86 ) by L1284 , L1283 , FINSEQ_3:25;
L1286: ( D86 . ( D89 + 1 ) ) = ( D86 /. ( D89 + 1 ) ) by L1285 , PARTFUN1:def 6;
reconsider D90 = ( D86 . ( D89 + 1 ) ) as (Element of R1) by L1286;
per cases ;
suppose L1287: D89 < D77;

L1288: ( D89 + 1 ) <= D77 by L1287 , NAT_1:13;
L1289: ( D89 + 1 ) <= ( len ( C220 | D77 ) ) by L1217 , L1287 , NAT_1:13;
L1290: D90 = ( ( C220 | D77 ) . ( D89 + 1 ) ) by L1289 , FINSEQ_1:64 , NAT_1:12
.= ( C220 . ( D89 + 1 ) ) by L1288 , FINSEQ_3:112;
L1291: D89 < ( len C220 ) by L1098 , L1287 , XXREAL_0:2;
L1292: C233 = ( ( C220 | D77 ) . D89 ) by L1217 , L1280 , L1282 , L1287 , FINSEQ_1:64
.= ( C220 . D89 ) by L1287 , FINSEQ_3:112;
thus L1293: thesis by L1292 , L1084 , L1280 , L1291 , L1290 , L726;
end;
suppose L1294: D89 >= D77;

L1295: ( D89 - D77 ) < ( ( D77 + ( ( len C220 ) - D78 ) ) - D77 ) by L1219 , L1281 , XREAL_1:9;
L1296: ( D89 -' D77 ) < ( ( len C220 ) - D78 ) by L1295 , L1294 , XREAL_1:233;
L1297: ( ( D89 -' D77 ) + D78 ) < ( ( ( len C220 ) - D78 ) + D78 ) by L1296 , XREAL_1:6;
L1298: ( ( len ( C220 | D77 ) ) + ( D89 -' D77 ) ) = ( D77 + ( D89 - D77 ) ) by L1217 , L1294 , XREAL_1:233
.= D89;
L1299:
now
per cases  by L1294 , XXREAL_0:1;
suppose L1300: D89 > D77;

L1301: ( D89 - D77 ) > ( 0 ) by L1300 , XREAL_1:50;
L1302: ( D89 -' D77 ) = ( D89 - D77 ) by L1301 , XREAL_0:def 2;
L1303: ( ( 0 ) + 1 ) <= ( D89 -' D77 ) by L1302 , L1301 , NAT_1:13;
L1304: ( D89 -' D77 ) in ( dom ( C220 /^ D78 ) ) by L1303 , L1277 , L1296 , FINSEQ_3:25;
thus L1305: C233 = ( ( C220 /^ D78 ) . ( D89 -' D77 ) ) by L1277 , L1282 , L1296 , L1298 , L1303 , FINSEQ_1:65
.= ( C220 . ( ( D89 -' D77 ) + D78 ) ) by L1096 , L1304 , RFINSEQ:def 1;
end;
suppose L1306: D89 = D77;

thus L1307: C233 = ( ( C220 | D77 ) . D77 ) by L1306 , L1217 , L1280 , L1282 , FINSEQ_1:64
.= ( C220 . ( ( 0 ) + D78 ) ) by L1092 , FINSEQ_3:112
.= ( C220 . ( ( D89 -' D77 ) + D78 ) ) by L1306 , XREAL_1:232;
end;
end;
L1309: ( D89 -' D77 ) < ( ( len C220 ) -' D78 ) by L1096 , L1296 , XREAL_1:233;
L1310: ( ( D89 -' D77 ) + 1 ) <= ( ( len C220 ) -' D78 ) by L1309 , NAT_1:13;
L1311: ( ( D89 -' D77 ) + 1 ) <= ( len ( C220 /^ D78 ) ) by L1310 , L1096 , L1277 , XREAL_1:233;
L1312: 1 <= ( ( D89 -' D77 ) + 1 ) by NAT_1:12;
L1313: ( ( D89 -' D77 ) + 1 ) in ( dom ( C220 /^ D78 ) ) by L1312 , L1311 , FINSEQ_3:25;
L1314: ( ( len ( C220 | D77 ) ) + ( ( D89 -' D77 ) + 1 ) ) = ( ( ( D89 - D77 ) + 1 ) + D77 ) by L1217 , L1294 , XREAL_1:233
.= ( D89 + 1 );
L1315: D90 = ( ( C220 /^ D78 ) . ( ( D89 -' D77 ) + 1 ) ) by L1314 , L1311 , FINSEQ_1:65 , NAT_1:12
.= ( C220 . ( ( ( D89 -' D77 ) + 1 ) + D78 ) ) by L1096 , L1313 , RFINSEQ:def 1
.= ( C220 . ( ( ( D89 -' D77 ) + D78 ) + 1 ) );
L1316: 1 <= ( ( D89 -' D77 ) + D78 ) by L1097 , NAT_1:12;
thus L1317: thesis by L1316 , L1084 , L1299 , L1315 , L1297 , L726;
end;
end;
L1319: D86 = ( ( C220 | D77 ) ^ ( {} ) ) by L1276 , REVROT_1:2
.= ( C220 | D77 ) by FINSEQ_1:34;
L1320: ( rng ( C220 | D77 ) ) c= ( rng C220 ) by FINSEQ_5:19;
L1321: ( rng D86 ) c= C221 by L1320 , L1086 , L1319 , XBOOLE_1:1;
L1322: ( D86 . ( len D86 ) ) = C223 by L1088 , L1092 , L1217 , L1276 , L1319 , FINSEQ_3:112;
L1323: ( len C220 ) <= ( len D86 ) by L1322 , L1083 , L1218 , L1321 , L1278 , L960;
L1324: ( ( len C220 ) - D77 ) <= ( ( D77 + ( ( len C220 ) - D78 ) ) - D77 ) by L1323 , L1219 , XREAL_1:13;
thus L1325: contradiction by L1324 , L1213 , XREAL_1:10;
end;
end;
end;
definition
let R1 being non  empty RelStr;
let C234 being (FinSequence of R1);
attr C234 is  inv_continuous
means
:L1328: (1 <= ( len C234 ) & (for B218 , B219 being Nat holds (for B220 being (Element of R1) holds ((1 <= B218 & B218 <= ( len C234 ) & 1 <= B219 & B219 <= ( len C234 ) & B220 = ( C234 . B218 ) & B218 <> B219 & ( C234 . B219 ) in ( U_FT B220 )) implies (B218 = ( B219 + 1 ) or B219 = ( B218 + 1 ))))));
end;
theorem
L1330: (for R1 being non  empty RelStr holds (for B221 being (FinSequence of R1) holds (for B222 being (Subset of R1) holds (for B223 , B224 being (Element of R1) holds ((B221 is_minimum_path_in B222 , B223 , B224 & R1 is  symmetric) implies B221 is  inv_continuous)))))
proof
let R1 being non  empty RelStr;
let C235 being (FinSequence of R1);
let C236 being (Subset of R1);
let C237 , C238 being (Element of R1);
assume that
L1331: C235 is_minimum_path_in C236 , C237 , C238
and
L1332: R1 is  symmetric;
L1333: ( C235 . 1 ) = C237 by L1331 , L960;
L1334: ( C235 . ( len C235 ) ) = C238 by L1331 , L960;
L1335: C235 is  continuous by L1331 , L960;
thus L1336: 1 <= ( len C235 ) by L1335 , L726;
let C239 , C240 being Nat;
let C241 being (Element of R1);
assume that
L1337: 1 <= C239
and
L1338: C239 <= ( len C235 )
and
L1339: 1 <= C240
and
L1340: C240 <= ( len C235 )
and
L1341: C241 = ( C235 . C239 )
and
L1342: C239 <> C240
and
L1343: ( C235 . C240 ) in ( U_FT C241 );
L1344: ( rng C235 ) c= C236 by L1331 , L960;
thus L1345:now
assume that
L1346: C239 <> ( C240 + 1 )
and
L1347: C240 <> ( C239 + 1 );
per cases  by L1342 , XXREAL_0:1;
suppose L1348: C239 < C240;

set D91 = ( C240 -' 1 );
set D92 = C239;
reconsider D93 = D91 , D94 = D92 as (Element of ( NAT )) by ORDINAL1:def 12;
L1349: ( C239 + 1 ) <= C240 by L1348 , NAT_1:13;
L1350: ( C239 + 1 ) < C240 by L1349 , L1347 , XXREAL_0:1;
L1351: C239 < ( C240 - 1 ) by L1350 , XREAL_1:20;
L1352: D93 > D94 by L1351 , L1339 , XREAL_1:233;
L1353: 1 < C240 by L1337 , L1348 , XXREAL_0:2;
L1354: ( 1 + 1 ) <= C240 by L1353 , NAT_1:13;
L1355: 1 <= ( C240 - 1 ) by L1354 , XREAL_1:19;
L1356: 1 <= D93 by L1355 , L1339 , XREAL_1:233;
set D95 = ( ( len C235 ) -' D93 );
reconsider D96 = ( ( C235 | D94 ) ^ ( C235 /^ D93 ) ) as (FinSequence of R1);
L1357: ( len ( C235 | D94 ) ) = D94 by L1338 , FINSEQ_1:59;
L1358: ( C240 -' 1 ) <= C240 by NAT_D:35;
L1359: D93 <= ( len C235 ) by L1358 , L1340 , XXREAL_0:2;
L1360: ( len ( C235 /^ D93 ) ) = ( ( len C235 ) - D93 ) by L1359 , RFINSEQ:def 1;
L1361: ( ( len C235 ) - D93 ) >= ( 0 ) by L1359 , XREAL_1:48;
L1362: ( ( len C235 ) -' D93 ) = ( ( len C235 ) - D93 ) by L1361 , XREAL_0:def 2;
L1363: ( len D96 ) = ( ( len ( C235 | D94 ) ) + ( len ( C235 /^ D93 ) ) ) by FINSEQ_1:22
.= ( D94 + ( ( len C235 ) - D93 ) ) by L1359 , L1357 , RFINSEQ:def 1;
L1364: ( D96 . 1 ) = ( ( C235 | D94 ) . 1 ) by L1337 , L1357 , FINSEQ_1:64
.= C237 by L1333 , L1337 , FINSEQ_3:112;
L1365:
now
per cases  by L1359 , XXREAL_0:1;
suppose L1366: D93 < ( len C235 );

L1367: ( D93 + 1 ) <= ( len C235 ) by L1366 , NAT_1:13;
L1368: ( ( D93 + 1 ) - D93 ) <= ( ( len C235 ) - D93 ) by L1367 , XREAL_1:13;
L1369: ( ( 0 ) + 1 ) <= ( D94 + ( ( len C235 ) - D93 ) ) by L1368 , XREAL_1:7;
L1370: D96 is  continuous
proof
thus L1371: ( len D96 ) >= 1 by L1363 , L1369;
let C242 being Nat;
let C243 being (Element of R1);
assume that
L1372: 1 <= C242
and
L1373: C242 < ( len D96 )
and
L1374: C243 = ( D96 . C242 );
L1375: ( C242 + 1 ) <= ( len D96 ) by L1373 , NAT_1:13;
reconsider D97 = C242 as (Element of ( NAT )) by ORDINAL1:def 12;
L1376: 1 < ( D97 + 1 ) by L1372 , NAT_1:13;
L1377: ( D97 + 1 ) in ( dom D96 ) by L1376 , L1375 , FINSEQ_3:25;
L1378: ( D96 . ( D97 + 1 ) ) = ( D96 /. ( D97 + 1 ) ) by L1377 , PARTFUN1:def 6;
reconsider D98 = ( D96 . ( D97 + 1 ) ) as (Element of R1) by L1378;
per cases ;
suppose L1379: D97 < D94;

L1380: ( D97 + 1 ) <= D94 by L1379 , NAT_1:13;
L1381: ( D97 + 1 ) <= ( len ( C235 | D94 ) ) by L1357 , L1379 , NAT_1:13;
L1382: D98 = ( ( C235 | D94 ) . ( D97 + 1 ) ) by L1381 , FINSEQ_1:64 , NAT_1:12
.= ( C235 . ( D97 + 1 ) ) by L1380 , FINSEQ_3:112;
L1383: D97 < ( len C235 ) by L1338 , L1379 , XXREAL_0:2;
L1384: C243 = ( ( C235 | D94 ) . D97 ) by L1357 , L1372 , L1374 , L1379 , FINSEQ_1:64
.= ( C235 . D97 ) by L1379 , FINSEQ_3:112;
thus L1385: thesis by L1384 , L1335 , L1372 , L1383 , L1382 , L726;
end;
suppose L1386: D97 >= D94;

L1387: ( D97 - D94 ) < ( ( D94 + ( ( len C235 ) - D93 ) ) - D94 ) by L1363 , L1373 , XREAL_1:9;
L1388: ( D97 -' D94 ) < ( ( len C235 ) - D93 ) by L1387 , L1386 , XREAL_1:233;
L1389: ( D97 -' D94 ) < ( ( len C235 ) -' D93 ) by L1388 , L1340 , L1358 , XREAL_1:233 , XXREAL_0:2;
L1390: ( ( D97 -' D94 ) + 1 ) <= ( ( len C235 ) -' D93 ) by L1389 , NAT_1:13;
L1391: ( ( D97 -' D94 ) + 1 ) <= ( len ( C235 /^ D93 ) ) by L1390 , L1340 , L1358 , L1360 , XREAL_1:233 , XXREAL_0:2;
L1392: ( ( len ( C235 | D94 ) ) + ( D97 -' D94 ) ) = ( D94 + ( D97 - D94 ) ) by L1357 , L1386 , XREAL_1:233
.= D97;
L1393: ( ( len ( C235 | D94 ) ) + ( ( D97 -' D94 ) + 1 ) ) = ( ( ( D97 - D94 ) + 1 ) + D94 ) by L1357 , L1386 , XREAL_1:233
.= ( D97 + 1 );
L1394: 1 <= ( ( D97 -' D94 ) + 1 ) by NAT_1:12;
L1395: ( ( D97 -' D94 ) + 1 ) in ( dom ( C235 /^ D93 ) ) by L1394 , L1391 , FINSEQ_3:25;
per cases  by L1386 , XXREAL_0:1;
suppose L1396: D97 > D94;

L1397: ( D97 - D94 ) > ( 0 ) by L1396 , XREAL_1:50;
L1398: ( D97 -' D94 ) = ( D97 - D94 ) by L1397 , XREAL_0:def 2;
L1399: ( ( 0 ) + 1 ) <= ( D97 -' D94 ) by L1398 , L1397 , NAT_1:13;
L1400: ( D97 -' D94 ) in ( dom ( C235 /^ D93 ) ) by L1399 , L1360 , L1388 , FINSEQ_3:25;
L1401: D98 = ( ( C235 /^ D93 ) . ( ( D97 -' D94 ) + 1 ) ) by L1391 , L1393 , FINSEQ_1:65 , NAT_1:12
.= ( C235 . ( ( ( D97 -' D94 ) + 1 ) + D93 ) ) by L1359 , L1395 , RFINSEQ:def 1
.= ( C235 . ( ( ( D97 -' D94 ) + D93 ) + 1 ) );
L1402: (1 <= ( ( D97 -' D94 ) + D93 ) & ( ( D97 -' D94 ) + D93 ) < ( ( ( len C235 ) - D93 ) + D93 )) by L1356 , L1388 , NAT_1:12 , XREAL_1:6;
L1403: C243 = ( ( C235 /^ D93 ) . ( D97 -' D94 ) ) by L1360 , L1374 , L1388 , L1392 , L1399 , FINSEQ_1:65
.= ( C235 . ( ( D97 -' D94 ) + D93 ) ) by L1359 , L1400 , RFINSEQ:def 1;
thus L1404: thesis by L1403 , L1335 , L1401 , L1402 , L726;
end;
suppose L1405: D97 = D94;

L1406: C243 = ( ( C235 | D94 ) . D94 ) by L1405 , L1357 , L1372 , L1374 , FINSEQ_1:64
.= C241 by L1341 , FINSEQ_3:112;
L1407: D98 = ( ( C235 /^ D93 ) . ( ( D97 -' D94 ) + 1 ) ) by L1391 , L1393 , FINSEQ_1:65 , NAT_1:12
.= ( C235 . ( ( ( D97 -' D94 ) + 1 ) + D93 ) ) by L1359 , L1395 , RFINSEQ:def 1
.= ( C235 . ( ( ( D97 -' D94 ) + D93 ) + 1 ) )
.= ( C235 . ( ( ( 0 ) + ( C240 -' 1 ) ) + 1 ) ) by L1405 , XREAL_1:232
.= ( C235 . ( ( C240 - 1 ) + 1 ) ) by L1339 , XREAL_1:233;
thus L1408: thesis by L1407 , L1343 , L1406;
end;
end;
end;
L1411: ( rng ( C235 /^ D93 ) ) c= ( rng C235 ) by FINSEQ_5:33;
L1412: (( rng D96 ) = ( ( rng ( C235 | D94 ) ) \/ ( rng ( C235 /^ D93 ) ) ) & ( rng ( C235 | D94 ) ) c= ( rng C235 )) by FINSEQ_1:31 , FINSEQ_5:19;
L1413: ( rng D96 ) c= ( rng C235 ) by L1412 , L1411 , XBOOLE_1:8;
L1414: ( rng D96 ) c= C236 by L1413 , L1344 , XBOOLE_1:1;
L1415: ( D95 + D93 ) = ( len C235 ) by L1362;
L1416: D95 in ( dom ( C235 /^ D93 ) ) by L1362 , L1360 , L1368 , FINSEQ_3:25;
L1417: ( D96 . ( ( len ( C235 | D94 ) ) + D95 ) ) = ( ( C235 /^ D93 ) . D95 ) by L1416 , FINSEQ_1:def 7
.= C238 by L1334 , L1359 , L1416 , L1415 , RFINSEQ:def 1;
L1418: ( D96 . ( len D96 ) ) = C238 by L1417 , L1357 , L1363 , L1361 , XREAL_0:def 2;
L1419: ( len C235 ) <= ( len D96 ) by L1418 , L1331 , L1364 , L1414 , L1370 , L960;
L1420: ( ( len C235 ) - D94 ) <= ( ( D94 + ( ( len C235 ) - D93 ) ) - D94 ) by L1419 , L1363 , XREAL_1:13;
thus L1421: contradiction by L1420 , L1352 , XREAL_1:10;
end;
suppose L1422: D93 = ( len C235 );

L1423: ( C240 - 1 ) = ( len C235 ) by L1422 , L1339 , XREAL_1:233;
L1424: C240 = ( ( len C235 ) + 1 ) by L1423;
thus L1425: contradiction by L1424 , L1340 , NAT_1:13;
end;
end;
thus L1427: contradiction by L1365;
end;
suppose L1428: C240 < C239;

reconsider D99 = ( C239 -' 1 ) , D100 = C240 as (Element of ( NAT )) by ORDINAL1:def 12;
L1429: ( C240 + 1 ) <= C239 by L1428 , NAT_1:13;
L1430: ( C240 + 1 ) < C239 by L1429 , L1346 , XXREAL_0:1;
L1431: C240 < ( C239 - 1 ) by L1430 , XREAL_1:20;
L1432: D99 > D100 by L1431 , L1337 , XREAL_1:233;
L1433: 1 < C239 by L1339 , L1428 , XXREAL_0:2;
L1434: ( 1 + 1 ) <= C239 by L1433 , NAT_1:13;
L1435: 1 <= ( C239 - 1 ) by L1434 , XREAL_1:19;
L1436: 1 <= D99 by L1435 , L1337 , XREAL_1:233;
set D101 = ( ( len C235 ) -' D99 );
reconsider D102 = ( ( C235 | D100 ) ^ ( C235 /^ D99 ) ) as (FinSequence of R1);
L1437: ( len ( C235 | D100 ) ) = D100 by L1340 , FINSEQ_1:59;
L1438: ( C239 -' 1 ) <= C239 by NAT_D:35;
L1439: D99 <= ( len C235 ) by L1438 , L1338 , XXREAL_0:2;
L1440: ( len ( C235 /^ D99 ) ) = ( ( len C235 ) - D99 ) by L1439 , RFINSEQ:def 1;
L1441: ( ( len C235 ) - D99 ) >= ( 0 ) by L1439 , XREAL_1:48;
L1442: ( ( len C235 ) -' D99 ) = ( ( len C235 ) - D99 ) by L1441 , XREAL_0:def 2;
L1443: ( len D102 ) = ( ( len ( C235 | D100 ) ) + ( len ( C235 /^ D99 ) ) ) by FINSEQ_1:22
.= ( D100 + ( ( len C235 ) - D99 ) ) by L1439 , L1437 , RFINSEQ:def 1;
L1444: ( D102 . 1 ) = ( ( C235 | D100 ) . 1 ) by L1339 , L1437 , FINSEQ_1:64
.= C237 by L1333 , L1339 , FINSEQ_3:112;
L1445:
now
per cases  by L1439 , XXREAL_0:1;
suppose L1446: D99 < ( len C235 );

L1447: ( D99 + 1 ) <= ( len C235 ) by L1446 , NAT_1:13;
L1448: ( ( D99 + 1 ) - D99 ) <= ( ( len C235 ) - D99 ) by L1447 , XREAL_1:13;
L1449: ( ( 0 ) + 1 ) <= ( D100 + ( ( len C235 ) - D99 ) ) by L1448 , XREAL_1:7;
L1450: D102 is  continuous
proof
thus L1451: ( len D102 ) >= 1 by L1443 , L1449;
let C244 being Nat;
let C245 being (Element of R1);
assume that
L1452: 1 <= C244
and
L1453: C244 < ( len D102 )
and
L1454: C245 = ( D102 . C244 );
L1455: ( C244 + 1 ) <= ( len D102 ) by L1453 , NAT_1:13;
reconsider D103 = C244 as (Element of ( NAT )) by ORDINAL1:def 12;
L1456: 1 < ( D103 + 1 ) by L1452 , NAT_1:13;
L1457: ( D103 + 1 ) in ( dom D102 ) by L1456 , L1455 , FINSEQ_3:25;
L1458: ( D102 . ( D103 + 1 ) ) = ( D102 /. ( D103 + 1 ) ) by L1457 , PARTFUN1:def 6;
reconsider D104 = ( D102 . ( D103 + 1 ) ) as (Element of R1) by L1458;
per cases ;
suppose L1459: D103 < D100;

L1460: ( D103 + 1 ) <= D100 by L1459 , NAT_1:13;
L1461: ( D103 + 1 ) <= ( len ( C235 | D100 ) ) by L1437 , L1459 , NAT_1:13;
L1462: D104 = ( ( C235 | D100 ) . ( D103 + 1 ) ) by L1461 , FINSEQ_1:64 , NAT_1:12
.= ( C235 . ( D103 + 1 ) ) by L1460 , FINSEQ_3:112;
L1463: D103 < ( len C235 ) by L1340 , L1459 , XXREAL_0:2;
L1464: C245 = ( ( C235 | D100 ) . D103 ) by L1437 , L1452 , L1454 , L1459 , FINSEQ_1:64
.= ( C235 . D103 ) by L1459 , FINSEQ_3:112;
thus L1465: thesis by L1464 , L1335 , L1452 , L1463 , L1462 , L726;
end;
suppose L1466: D103 >= D100;

L1467: ( D103 - D100 ) < ( ( D100 + ( ( len C235 ) - D99 ) ) - D100 ) by L1443 , L1453 , XREAL_1:9;
L1468: ( D103 -' D100 ) < ( ( len C235 ) - D99 ) by L1467 , L1466 , XREAL_1:233;
L1469: ( D103 -' D100 ) < ( ( len C235 ) -' D99 ) by L1468 , L1338 , L1438 , XREAL_1:233 , XXREAL_0:2;
L1470: ( ( D103 -' D100 ) + 1 ) <= ( ( len C235 ) -' D99 ) by L1469 , NAT_1:13;
L1471: ( ( D103 -' D100 ) + 1 ) <= ( len ( C235 /^ D99 ) ) by L1470 , L1338 , L1438 , L1440 , XREAL_1:233 , XXREAL_0:2;
L1472: ( ( len ( C235 | D100 ) ) + ( D103 -' D100 ) ) = ( D100 + ( D103 - D100 ) ) by L1437 , L1466 , XREAL_1:233
.= D103;
L1473: ( ( len ( C235 | D100 ) ) + ( ( D103 -' D100 ) + 1 ) ) = ( ( ( D103 - D100 ) + 1 ) + D100 ) by L1437 , L1466 , XREAL_1:233
.= ( D103 + 1 );
L1474: 1 <= ( ( D103 -' D100 ) + 1 ) by NAT_1:12;
L1475: ( ( D103 -' D100 ) + 1 ) in ( dom ( C235 /^ D99 ) ) by L1474 , L1471 , FINSEQ_3:25;
per cases  by L1466 , XXREAL_0:1;
suppose L1476: D103 > D100;

L1477: ( D103 - D100 ) > ( 0 ) by L1476 , XREAL_1:50;
L1478: ( D103 -' D100 ) = ( D103 - D100 ) by L1477 , XREAL_0:def 2;
L1479: ( ( 0 ) + 1 ) <= ( D103 -' D100 ) by L1478 , L1477 , NAT_1:13;
L1480: ( D103 -' D100 ) in ( dom ( C235 /^ D99 ) ) by L1479 , L1440 , L1468 , FINSEQ_3:25;
L1481: D104 = ( ( C235 /^ D99 ) . ( ( D103 -' D100 ) + 1 ) ) by L1471 , L1473 , FINSEQ_1:65 , NAT_1:12
.= ( C235 . ( ( ( D103 -' D100 ) + 1 ) + D99 ) ) by L1439 , L1475 , RFINSEQ:def 1
.= ( C235 . ( ( ( D103 -' D100 ) + D99 ) + 1 ) );
L1482: (1 <= ( ( D103 -' D100 ) + D99 ) & ( ( D103 -' D100 ) + D99 ) < ( ( ( len C235 ) - D99 ) + D99 )) by L1436 , L1468 , NAT_1:12 , XREAL_1:6;
L1483: C245 = ( ( C235 /^ D99 ) . ( D103 -' D100 ) ) by L1440 , L1454 , L1468 , L1472 , L1479 , FINSEQ_1:65
.= ( C235 . ( ( D103 -' D100 ) + D99 ) ) by L1439 , L1480 , RFINSEQ:def 1;
thus L1484: thesis by L1483 , L1335 , L1481 , L1482 , L726;
end;
suppose L1485: D103 = D100;

L1486: C245 = ( ( C235 | D100 ) . D100 ) by L1485 , L1437 , L1452 , L1454 , FINSEQ_1:64
.= ( C235 . C240 ) by FINSEQ_3:112;
L1487: D104 = ( ( C235 /^ D99 ) . ( ( D103 -' D100 ) + 1 ) ) by L1471 , L1473 , FINSEQ_1:65 , NAT_1:12
.= ( C235 . ( ( ( D103 -' D100 ) + 1 ) + D99 ) ) by L1439 , L1475 , RFINSEQ:def 1
.= ( C235 . ( ( ( D103 -' D100 ) + D99 ) + 1 ) )
.= ( C235 . ( ( ( 0 ) + ( C239 -' 1 ) ) + 1 ) ) by L1485 , XREAL_1:232
.= ( C235 . ( ( C239 - 1 ) + 1 ) ) by L1337 , XREAL_1:233
.= C241 by L1341;
thus L1488: thesis by L1487 , L1332 , L1343 , L1486 , FIN_TOPO:def 13;
end;
end;
end;
L1491: ( rng ( C235 /^ D99 ) ) c= ( rng C235 ) by FINSEQ_5:33;
L1492: (( rng D102 ) = ( ( rng ( C235 | D100 ) ) \/ ( rng ( C235 /^ D99 ) ) ) & ( rng ( C235 | D100 ) ) c= ( rng C235 )) by FINSEQ_1:31 , FINSEQ_5:19;
L1493: ( rng D102 ) c= ( rng C235 ) by L1492 , L1491 , XBOOLE_1:8;
L1494: ( rng D102 ) c= C236 by L1493 , L1344 , XBOOLE_1:1;
L1495: ( D101 + D99 ) = ( len C235 ) by L1442;
L1496: D101 in ( dom ( C235 /^ D99 ) ) by L1442 , L1440 , L1448 , FINSEQ_3:25;
L1497: ( D102 . ( ( len ( C235 | D100 ) ) + D101 ) ) = ( ( C235 /^ D99 ) . D101 ) by L1496 , FINSEQ_1:def 7
.= C238 by L1334 , L1439 , L1496 , L1495 , RFINSEQ:def 1;
L1498: ( D102 . ( len D102 ) ) = C238 by L1497 , L1437 , L1443 , L1441 , XREAL_0:def 2;
L1499: ( len C235 ) <= ( len D102 ) by L1498 , L1331 , L1444 , L1494 , L1450 , L960;
L1500: ( ( len C235 ) - D100 ) <= ( ( D100 + ( ( len C235 ) - D99 ) ) - D100 ) by L1499 , L1443 , XREAL_1:13;
thus L1501: contradiction by L1500 , L1432 , XREAL_1:10;
end;
suppose L1502: D99 = ( len C235 );

L1503: ( C239 - 1 ) = ( len C235 ) by L1502 , L1337 , XREAL_1:233;
L1504: C239 = ( ( len C235 ) + 1 ) by L1503;
thus L1505: contradiction by L1504 , L1338 , NAT_1:13;
end;
end;
thus L1507: contradiction by L1445;
end;
end;
end;
theorem
L1346: (for R1 being non  empty RelStr holds (for B225 being (FinSequence of R1) holds (for B226 being (Subset of R1) holds (for B227 , B228 being (Element of R1) holds ((B225 is_minimum_path_in B226 , B227 , B228 & R1 is  filled  symmetric & B227 <> B228) implies ((for B229 being Nat holds ((1 < B229 & B229 < ( len B225 )) implies ( ( rng B225 ) /\ ( U_FT ( B225 /. B229 ) ) ) = { ( B225 . ( B229 -' 1 ) ) , ( B225 . B229 ) , ( B225 . ( B229 + 1 ) ) })) & ( ( rng B225 ) /\ ( U_FT ( B225 /. 1 ) ) ) = { ( B225 . 1 ) , ( B225 . 2 ) } & ( ( rng B225 ) /\ ( U_FT ( B225 /. ( len B225 ) ) ) ) = { ( B225 . ( ( len B225 ) -' 1 ) ) , ( B225 . ( len B225 ) ) }))))))
proof
let R1 being non  empty RelStr;
let C246 being (FinSequence of R1);
let C247 being (Subset of R1);
let C248 , C249 being (Element of R1);
assume that
L1347: C246 is_minimum_path_in C247 , C248 , C249
and
L1348: R1 is  filled  symmetric
and
L1349: C248 <> C249;
L1350: ( dom C246 ) = ( Seg ( len C246 ) ) by FINSEQ_1:def 3;
L1351: C246 is  continuous by L1347 , L960;
L1352: 1 <= ( len C246 ) by L1351 , L726;
L1353: ( len C246 ) in ( dom C246 ) by L1352 , L1350;
L1354: ( C246 . ( len C246 ) ) = ( C246 /. ( len C246 ) ) by L1353 , PARTFUN1:def 6;
L1355: C246 is  inv_continuous by L1347 , L1348 , L1330;
L1356: 1 <= ( len C246 ) by L1355 , L1328;
thus L1357: (for B230 being Nat holds ((1 < B230 & B230 < ( len C246 )) implies ( ( rng C246 ) /\ ( U_FT ( C246 /. B230 ) ) ) = { ( C246 . ( B230 -' 1 ) ) , ( C246 . B230 ) , ( C246 . ( B230 + 1 ) ) }))
proof
let C250 being Nat;
assume that
L1358: 1 < C250
and
L1359: C250 < ( len C246 );
L1360: C250 in ( Seg ( len C246 ) ) by L1358 , L1359 , FINSEQ_1:1;
L1361: (1 < ( C250 + 1 ) & ( C250 + 1 ) <= ( len C246 )) by L1358 , L1359 , NAT_1:13;
L1362: ( C250 + 1 ) in ( Seg ( len C246 ) ) by L1361;
L1363: ( C250 -' 1 ) <= C250 by NAT_D:35;
L1364: ( C250 -' 1 ) < ( len C246 ) by L1363 , L1359 , XXREAL_0:2;
L1365: ( 1 + 1 ) <= C250 by L1358 , NAT_1:13;
L1366: 1 <= ( C250 - 1 ) by L1365 , XREAL_1:19;
L1367: 1 <= ( C250 -' 1 ) by L1366 , L1358 , XREAL_1:233;
L1368: ( C250 -' 1 ) in ( Seg ( len C246 ) ) by L1367 , L1364;
L1369: ( ( C250 -' 1 ) + 1 ) = ( ( C250 - 1 ) + 1 ) by L1358 , XREAL_1:233
.= C250;
thus L1370: ( ( rng C246 ) /\ ( U_FT ( C246 /. C250 ) ) ) = { ( C246 . ( C250 -' 1 ) ) , ( C246 . C250 ) , ( C246 . ( C250 + 1 ) ) }
proof
thus L1371: ( ( rng C246 ) /\ ( U_FT ( C246 /. C250 ) ) ) c= { ( C246 . ( C250 -' 1 ) ) , ( C246 . C250 ) , ( C246 . ( C250 + 1 ) ) }
proof
let C251 being set;
assume L1372: C251 in ( ( rng C246 ) /\ ( U_FT ( C246 /. C250 ) ) );
L1373: C251 in ( U_FT ( C246 /. C250 ) ) by L1372 , XBOOLE_0:def 4;
L1374: C251 in ( rng C246 ) by L1372 , XBOOLE_0:def 4;
consider C252 being set such that L1375: C252 in ( dom C246 ) and L1376: C251 = ( C246 . C252 ) by L1374 , FUNCT_1:def 3;
reconsider D105 = C252 as (Element of ( NAT )) by L1375;
L1377: (C250 = ( D105 + 1 ) implies ( C250 - 1 ) = D105);
L1378: (C250 = ( D105 + 1 ) implies ( C250 -' 1 ) = D105) by L1377 , L1358 , XREAL_1:233;
L1379: ( C246 /. C250 ) = ( C246 . C250 ) by L1350 , L1360 , PARTFUN1:def 6;
L1380: (1 <= D105 & D105 <= ( len C246 )) by L1350 , L1375 , FINSEQ_1:1;
L1381: (D105 = C250 or C250 = ( D105 + 1 ) or D105 = ( C250 + 1 )) by L1380 , L1355 , L1358 , L1359 , L1373 , L1376 , L1379 , L1328;
thus L1382: thesis by L1381 , L1376 , L1378 , ENUMSET1:def 1;
end;

let C253 being set;
L1383: ( C246 . C250 ) = ( C246 /. C250 ) by L1350 , L1360 , PARTFUN1:def 6;
L1384: ( C246 . ( C250 -' 1 ) ) = ( C246 /. ( C250 -' 1 ) ) by L1350 , L1368 , PARTFUN1:def 6;
assume L1385: C253 in { ( C246 . ( C250 -' 1 ) ) , ( C246 . C250 ) , ( C246 . ( C250 + 1 ) ) };
per cases  by L1385 , ENUMSET1:def 1;
suppose L1386: C253 = ( C246 . ( C250 -' 1 ) );

L1387: ( C246 . C250 ) in ( U_FT ( C246 /. ( C250 -' 1 ) ) ) by L1351 , L1366 , L1364 , L1369 , L1384 , L726;
L1388: C253 in ( U_FT ( C246 /. C250 ) ) by L1387 , L1348 , L1383 , L1384 , L1386 , FIN_TOPO:def 13;
L1389: C253 in ( rng C246 ) by L1350 , L1368 , L1386 , FUNCT_1:def 3;
thus L1390: thesis by L1389 , L1388 , XBOOLE_0:def 4;
end;
suppose L1391: C253 = ( C246 . C250 );

L1392: (C253 in ( rng C246 ) & C253 in ( U_FT ( C246 /. C250 ) )) by L1391 , L1348 , L1350 , L1360 , L1383 , FIN_TOPO:def 4 , FUNCT_1:def 3;
thus L1393: thesis by L1392 , XBOOLE_0:def 4;
end;
suppose L1394: C253 = ( C246 . ( C250 + 1 ) );

L1395: (C253 in ( rng C246 ) & C253 in ( U_FT ( C246 /. C250 ) )) by L1394 , L1351 , L1350 , L1358 , L1359 , L1362 , L1383 , L726 , FUNCT_1:def 3;
thus L1396: thesis by L1395 , XBOOLE_0:def 4;
end;
end;

end;

L1371: (( C246 . 1 ) = C248 & ( C246 . ( len C246 ) ) = C249) by L1347 , L960;
L1372: 1 < ( len C246 ) by L1371 , L1349 , L1352 , XXREAL_0:1;
L1373: ( 1 + 1 ) <= ( len C246 ) by L1372 , NAT_1:13;
L1374: ( ( 1 + 1 ) - 1 ) <= ( ( len C246 ) - 1 ) by L1373 , XREAL_1:13;
L1375: 1 in ( dom C246 ) by L1356 , FINSEQ_3:25;
L1376: ( C246 . 1 ) = ( C246 /. 1 ) by L1375 , PARTFUN1:def 6;
thus L1377: ( ( rng C246 ) /\ ( U_FT ( C246 /. 1 ) ) ) = { ( C246 . 1 ) , ( C246 . 2 ) }
proof
thus L1378: ( ( rng C246 ) /\ ( U_FT ( C246 /. 1 ) ) ) c= { ( C246 . 1 ) , ( C246 . 2 ) }
proof
let C254 being set;
assume L1379: C254 in ( ( rng C246 ) /\ ( U_FT ( C246 /. 1 ) ) );
L1380: C254 in ( U_FT ( C246 /. 1 ) ) by L1379 , XBOOLE_0:def 4;
L1381: C254 in ( rng C246 ) by L1379 , XBOOLE_0:def 4;
consider C255 being set such that L1382: C255 in ( dom C246 ) and L1383: C254 = ( C246 . C255 ) by L1381 , FUNCT_1:def 3;
reconsider D106 = C255 as (Element of ( NAT )) by L1382;
L1384: 1 <= D106 by L1350 , L1382 , FINSEQ_1:1;
L1385: D106 <= ( len C246 ) by L1350 , L1382 , FINSEQ_1:1;
L1386: (( 1 + 1 ) = D106 or 1 = D106 or ( D106 + 1 ) = 1) by L1385 , L1355 , L1356 , L1376 , L1380 , L1383 , L1384 , L1328;
L1387: (( 1 + 1 ) = D106 or 1 = D106) by L1386 , L1384 , XREAL_1:7;
thus L1388: thesis by L1387 , L1383 , TARSKI:def 2;
end;

let C256 being set;
L1389: 2 in ( dom C246 ) by L1373 , L1350;
L1390: (C256 = ( C246 . 2 ) implies C256 in ( rng C246 )) by L1389 , FUNCT_1:def 3;
assume L1391: C256 in { ( C246 . 1 ) , ( C246 . 2 ) };
L1392:
now
per cases  by L1391 , TARSKI:def 2;
case L1393: C256 = ( C246 . 1 );
thus L1394: C256 in ( U_FT ( C246 /. 1 ) ) by L1393 , L1348 , L1376 , FIN_TOPO:def 4;
end;
case L1395: C256 = ( C246 . 2 );
reconsider D107 = C256 as (Element of R1) by L1395 , L1390;
L1396: D107 = ( C246 . ( 1 + 1 ) ) by L1395;
thus L1397: C256 in ( U_FT ( C246 /. 1 ) ) by L1396 , L1351 , L1372 , L1376 , L726;
end;
end;
L1399: (C256 = ( C246 . 1 ) implies C256 in ( rng C246 )) by L1375 , FUNCT_1:def 3;
thus L1400: thesis by L1399 , L1390 , L1392 , XBOOLE_0:def 4;
end;

L1401: ( len C246 ) < ( ( len C246 ) + 1 ) by NAT_1:13;
L1402: ( ( len C246 ) - 1 ) < ( ( ( len C246 ) + 1 ) - 1 ) by L1401 , XREAL_1:14;
L1403: ( ( len C246 ) -' 1 ) < ( len C246 ) by L1402 , L1356 , XREAL_1:233;
L1404: ( ( len C246 ) -' 1 ) = ( ( len C246 ) - 1 ) by L1356 , XREAL_1:233;
L1405: ( ( len C246 ) -' 1 ) in ( dom C246 ) by L1404 , L1374 , L1402 , FINSEQ_3:25;
L1406: ( C246 . ( ( len C246 ) -' 1 ) ) = ( C246 /. ( ( len C246 ) -' 1 ) ) by L1405 , PARTFUN1:def 6;
L1407: 1 <= ( ( len C246 ) -' 1 ) by L1356 , L1374 , XREAL_1:233;
thus L1408: ( ( rng C246 ) /\ ( U_FT ( C246 /. ( len C246 ) ) ) ) = { ( C246 . ( ( len C246 ) -' 1 ) ) , ( C246 . ( len C246 ) ) }
proof
thus L1409: ( ( rng C246 ) /\ ( U_FT ( C246 /. ( len C246 ) ) ) ) c= { ( C246 . ( ( len C246 ) -' 1 ) ) , ( C246 . ( len C246 ) ) }
proof
let C257 being set;
assume L1410: C257 in ( ( rng C246 ) /\ ( U_FT ( C246 /. ( len C246 ) ) ) );
L1411: C257 in ( U_FT ( C246 /. ( len C246 ) ) ) by L1410 , XBOOLE_0:def 4;
L1412: C257 in ( rng C246 ) by L1410 , XBOOLE_0:def 4;
consider C258 being set such that L1413: C258 in ( dom C246 ) and L1414: C257 = ( C246 . C258 ) by L1412 , FUNCT_1:def 3;
reconsider D108 = C258 as (Element of ( NAT )) by L1413;
L1415: D108 <= ( len C246 ) by L1350 , L1413 , FINSEQ_1:1;
L1416: 1 <= D108 by L1350 , L1413 , FINSEQ_1:1;
L1417: (( D108 + 1 ) = ( len C246 ) or ( ( len C246 ) + 1 ) = D108 or ( len C246 ) = D108) by L1416 , L1355 , L1356 , L1354 , L1411 , L1414 , L1415 , L1328;
L1418: (D108 = ( ( len C246 ) - 1 ) or ( len C246 ) = D108) by L1417 , L1415 , NAT_1:13;
L1419: (C257 = ( C246 . ( ( len C246 ) -' 1 ) ) or C257 = ( C246 . ( len C246 ) )) by L1418 , L1352 , L1414 , XREAL_1:233;
thus L1420: thesis by L1419 , TARSKI:def 2;
end;

let C259 being set;
L1421: ( C246 . ( len C246 ) ) in ( U_FT ( C246 /. ( len C246 ) ) ) by L1348 , L1354 , FIN_TOPO:def 4;
L1422: ( C246 . ( ( ( len C246 ) -' 1 ) + 1 ) ) in ( U_FT ( C246 /. ( ( len C246 ) -' 1 ) ) ) by L1351 , L1407 , L1403 , L1406 , L726;
L1423: ( C246 . ( ( len C246 ) -' 1 ) ) in ( U_FT ( C246 /. ( len C246 ) ) ) by L1422 , L1348 , L1354 , L1404 , L1406 , FIN_TOPO:def 13;
assume L1424: C259 in { ( C246 . ( ( len C246 ) -' 1 ) ) , ( C246 . ( len C246 ) ) };
L1425: (C259 = ( C246 . ( ( len C246 ) -' 1 ) ) or C259 = ( C246 . ( len C246 ) )) by L1424 , TARSKI:def 2;
L1426: C259 in ( rng C246 ) by L1425 , L1353 , L1405 , FUNCT_1:def 3;
thus L1427: thesis by L1426 , L1425 , L1421 , L1423 , XBOOLE_0:def 4;
end;

end;
theorem
L1409: (for R1 being non  empty RelStr holds (for B231 being (FinSequence of R1) holds (for B232 being non  empty (Subset of R1) holds (for B233 , B234 being (Element of R1) holds (for B235 being (Subset of ( R1 | B232 )) holds ((B231 is_minimum_path_in B232 , B233 , B234 & R1 is  filled  symmetric & B235 = { B233 }) implies (for B236 being (Element of ( NAT )) holds (B236 < ( len B231 ) implies (( B231 . ( B236 + 1 ) ) in ( Finf (B235 , B236) ) & (B236 >= 1 implies (not ( B231 . ( B236 + 1 ) ) in ( Finf (B235 , ( B236 -' 1 )) ))))))))))))
proof
let R1 being non  empty RelStr;
let C260 being (FinSequence of R1);
let C261 being non  empty (Subset of R1);
let C262 , C263 being (Element of R1);
let C264 being (Subset of ( R1 | C261 ));
assume that
L1410: C260 is_minimum_path_in C261 , C262 , C263
and
L1411: R1 is  filled  symmetric
and
L1412: C264 = { C262 };
L1413: ( rng C260 ) c= C261 by L1410 , L960;
defpred S3[ Nat ] means (( $1 + 1 ) <= ( len C260 ) implies (( C260 . ( $1 + 1 ) ) in ( Finf (C264 , $1) ) & ($1 >= 1 implies (not ( C260 . ( $1 + 1 ) ) in ( Finf (C264 , ( $1 -' 1 )) )))));
defpred S4[ (Element of ( NAT )) ] means (for B237 being (Element of R1) holds (B237 in ( Finf (C264 , $1) ) implies (ex B238 being (FinSequence of R1) st (B238 is  continuous & ( rng B238 ) c= C261 & ( B238 . 1 ) = C262 & ( B238 . ( len B238 ) ) = B237 & ( len B238 ) <= ( $1 + 1 )))));
L1414: ( [#] ( R1 | C261 ) ) = C261 by L80;
L1415: (for B239 being (Element of ( NAT )) holds (S4[ B239 ] implies S4[ ( B239 + 1 ) ]))
proof
let C265 being (Element of ( NAT ));
assume L1416: S4[ C265 ];
L1417: (for B240 being (Element of R1) holds (B240 in ( Finf (C264 , ( C265 + 1 )) ) implies (ex B241 being (FinSequence of R1) st (B241 is  continuous & ( rng B241 ) c= C261 & ( B241 . 1 ) = C262 & ( B241 . ( len B241 ) ) = B240 & ( len B241 ) <= ( ( C265 + 1 ) + 1 )))))
proof
let C266 being (Element of R1);
L1418: ( Finf (C264 , ( C265 + 1 )) ) = ( ( Finf (C264 , C265) ) ^f ) by FINTOPO3:31;
assume L1419: C266 in ( Finf (C264 , ( C265 + 1 )) );
consider C267 being (Element of ( R1 | C261 )) such that L1420: C267 = C266 and L1421: (ex B242 being (Element of ( R1 | C261 )) st (B242 in ( Finf (C264 , C265) ) & C267 in ( U_FT B242 ))) by L1419 , L1418;
L1422: ( [#] ( R1 | C261 ) ) = C261 by L80;
L1423: { C266 } c= C261 by L1422 , L1420 , ZFMISC_1:31;
consider C268 being (Element of ( R1 | C261 )) such that L1424: C268 in ( Finf (C264 , C265) ) and L1425: C267 in ( U_FT C268 ) by L1421;
L1426: C268 in (the carrier of ( R1 | C261 ));
reconsider D109 = C268 as (Element of R1) by L1426 , L1422;
consider C269 being (FinSequence of R1) such that L1427: C269 is  continuous and L1428: ( rng C269 ) c= C261 and L1429: ( C269 . 1 ) = C262 and L1430: ( C269 . ( len C269 ) ) = D109 and L1431: ( len C269 ) <= ( C265 + 1 ) by L1416 , L1424;
L1432: ( U_FT C268 ) = ( ( U_FT D109 ) /\ C261 ) by L1422 , L67;
L1433: C266 in ( U_FT D109 ) by L1432 , L1420 , L1425 , XBOOLE_0:def 4;
reconsider D110 = ( C269 ^ <* C266 *> ) as (FinSequence of R1);
L1434: (( rng ( C269 ^ <* C266 *> ) ) = ( ( rng C269 ) \/ ( rng <* C266 *> ) ) & ( rng <* C266 *> ) = { C266 }) by FINSEQ_1:31 , FINSEQ_1:39;
L1435: ( rng D110 ) c= C261 by L1434 , L1428 , L1423 , XBOOLE_1:8;
L1436: 1 <= ( len C269 ) by L1427 , L726;
L1437: 1 in ( dom C269 ) by L1436 , FINSEQ_3:25;
L1438: ( D110 . 1 ) = C262 by L1437 , L1429 , FINSEQ_1:def 7;
L1439: ( len <* C266 *> ) = 1 by FINSEQ_1:40;
L1440: ( len D110 ) = ( ( len C269 ) + 1 ) by L1439 , FINSEQ_1:22;
L1441: ( D110 . ( len D110 ) ) = C266 by L1440 , FINSEQ_1:42;
L1442: ( len D110 ) <= ( ( C265 + 1 ) + 1 ) by L1431 , L1440 , XREAL_1:6;
thus L1443: thesis by L1442 , L1427 , L1430 , L1433 , L1435 , L1438 , L1441 , L732;
end;
thus L1444: thesis by L1417;
end;
L1445: ( C260 . 1 ) = C262 by L1410 , L960;
L1446: ( C260 . 1 ) in { C262 } by L1445 , TARSKI:def 1;
L1447: ( C260 . ( len C260 ) ) = C263 by L1410 , L960;
L1448: C260 is  continuous by L1410 , L960;
L1449: 1 <= ( len C260 ) by L1448 , L726;
L1450: 1 in ( dom C260 ) by L1449 , FINSEQ_3:25;
L1451: C262 in ( rng C260 ) by L1450 , L1445 , FUNCT_1:def 3;
L1452: { C262 } c= C261 by L1451 , L1413 , ZFMISC_1:31;
L1453: (for B243 being (Element of R1) holds (B243 in ( Finf (C264 , ( 0 )) ) implies (ex B244 being (FinSequence of R1) st (B244 is  continuous & ( rng B244 ) c= C261 & ( B244 . 1 ) = C262 & ( B244 . ( len B244 ) ) = B243 & ( len B244 ) <= ( ( 0 ) + 1 )))))
proof
let C270 being (Element of R1);
L1454: ( len <* C262 *> ) = 1 by FINSEQ_1:40;
assume L1455: C270 in ( Finf (C264 , ( 0 )) );
L1456: C270 in { C262 } by L1455 , L1412 , FINTOPO3:32;
L1457: C270 = C262 by L1456 , TARSKI:def 1;
L1458: (( rng <* C262 *> ) = { C262 } & ( <* C262 *> . 1 ) = C262) by FINSEQ_1:39 , FINSEQ_1:40;
thus L1459: thesis by L1458 , L1452 , L1457 , L1454;
end;
L1460: S4[ ( 0 ) ] by L1453;
L1461: (for B245 being (Element of ( NAT )) holds S4[ B245 ]) from NAT_1:sch 1(L1460 , L1415);
L1462: (for B246 being (Element of ( NAT )) holds (S3[ B246 ] implies S3[ ( B246 + 1 ) ]))
proof
let C271 being (Element of ( NAT ));
assume L1463: S3[ C271 ];
per cases ;
suppose L1464: ( ( C271 + 1 ) + 1 ) > ( len C260 );

thus L1465: thesis by L1464;
end;
suppose L1466: ( ( C271 + 1 ) + 1 ) <= ( len C260 );

L1467: 1 <= ( C271 + 1 ) by NAT_1:12;
L1468: 1 < ( ( C271 + 1 ) + 1 ) by L1467 , NAT_1:13;
L1469: ( ( C271 + 1 ) + 1 ) in ( dom C260 ) by L1468 , L1466 , FINSEQ_3:25;
L1470: ( C260 . ( ( C271 + 1 ) + 1 ) ) in ( rng C260 ) by L1469 , FUNCT_1:def 3;
reconsider D111 = ( C260 . ( C271 + 1 ) ) as (Element of ( R1 | C261 )) by L1463 , L1466 , NAT_1:13;
L1471: ( C271 + 1 ) < ( len C260 ) by L1466 , NAT_1:13;
L1472: ( C271 + 1 ) in ( dom C260 ) by L1471 , L1467 , FINSEQ_3:25;
L1473: ( C260 . ( C271 + 1 ) ) = ( C260 /. ( C271 + 1 ) ) by L1472 , PARTFUN1:def 6;
L1474: 1 < ( ( C271 + 1 ) + 1 ) by L1467 , NAT_1:13;
L1475: ( ( C271 + 1 ) + 1 ) in ( dom C260 ) by L1474 , L1466 , FINSEQ_3:25;
L1476:
now
assume L1477: ( C260 . ( ( C271 + 1 ) + 1 ) ) in ( Finf (C264 , C271) );
L1478:
now
per cases ;
suppose L1479: C271 = ( 0 );

L1480: ( C271 - 1 ) < ( 0 ) by L1479;
L1481: ( C271 -' 1 ) = ( 0 ) by L1480 , XREAL_0:def 2;
L1482: ( Finf (C264 , C271) ) c= ( ( Finf (C264 , ( C271 -' 1 )) ) ^f ) by L1481 , L1411 , L1479 , FINTOPO3:1;
thus L1483: ( C260 . ( ( C271 + 1 ) + 1 ) ) in ( ( Finf (C264 , ( C271 -' 1 )) ) ^f ) by L1482 , L1477;
end;
suppose L1484: C271 > ( 0 );

L1485: C271 >= ( ( 0 ) + 1 ) by L1484 , NAT_1:13;
L1486: C271 = ( ( C271 -' 1 ) + 1 ) by L1485 , XREAL_1:235;
thus L1487: ( C260 . ( ( C271 + 1 ) + 1 ) ) in ( ( Finf (C264 , ( C271 -' 1 )) ) ^f ) by L1486 , L1477 , FINTOPO3:31;
end;
end;
consider C272 being (Element of ( R1 | C261 )) such that L1489: ( C260 . ( ( C271 + 1 ) + 1 ) ) = C272 and L1490: (ex B247 being (Element of ( R1 | C261 )) st (B247 in ( Finf (C264 , ( C271 -' 1 )) ) & C272 in ( U_FT B247 ))) by L1478;
L1491: C272 in C261 by L1414;
reconsider D112 = C272 as (Element of R1) by L1491;
consider C273 being (FinSequence of R1) such that L1492: C273 is  continuous and L1493: ( rng C273 ) c= C261 and L1494: ( C273 . 1 ) = C262 and L1495: ( C273 . ( len C273 ) ) = D112 and L1496: ( len C273 ) <= ( C271 + 1 ) by L1461 , L1477 , L1489;
reconsider D113 = ( C273 ^ ( C260 /^ ( ( C271 + 1 ) + 1 ) ) ) as (FinSequence of R1);
L1497: ( len D113 ) = ( ( len C273 ) + ( len ( C260 /^ ( ( C271 + 1 ) + 1 ) ) ) ) by FINSEQ_1:22;
L1498: C260 = ( ( C260 | ( ( C271 + 1 ) + 1 ) ) ^ ( C260 /^ ( ( C271 + 1 ) + 1 ) ) ) by RFINSEQ:8;
L1499: ( len C260 ) = ( ( len ( C260 | ( ( C271 + 1 ) + 1 ) ) ) + ( len ( C260 /^ ( ( C271 + 1 ) + 1 ) ) ) ) by L1498 , FINSEQ_1:22;
L1500: 1 <= ( len C273 ) by L1492 , L726;
L1501: ( len C273 ) in ( dom C273 ) by L1500 , FINSEQ_3:25;
L1502: ( C273 . ( len C273 ) ) = ( C273 /. ( len C273 ) ) by L1501 , PARTFUN1:def 6;
L1503: ( len ( C260 | ( ( C271 + 1 ) + 1 ) ) ) = ( ( C271 + 1 ) + 1 ) by L1466 , FINSEQ_1:59;
L1504: ( len ( C260 | ( ( C271 + 1 ) + 1 ) ) ) > ( len C273 ) by L1503 , L1496 , NAT_1:13;
L1505: ( len D113 ) < ( len C260 ) by L1504 , L1497 , L1499 , XREAL_1:8;
per cases ;
suppose L1506: ( ( C271 + 1 ) + 1 ) < ( len C260 );

L1507: ( len C260 ) >= ( 1 + ( ( C271 + 1 ) + 1 ) ) by L1506 , NAT_1:13;
L1508: 1 <= ( ( len C260 ) - ( ( C271 + 1 ) + 1 ) ) by L1507 , XREAL_1:19;
L1509: 1 <= ( len ( C260 /^ ( ( C271 + 1 ) + 1 ) ) ) by L1508 , L1506 , RFINSEQ:def 1;
L1510: 1 in ( dom ( C260 /^ ( ( C271 + 1 ) + 1 ) ) ) by L1509 , FINSEQ_3:25;
L1511: ( C260 . ( ( C271 + 1 ) + 1 ) ) = ( C260 /. ( ( C271 + 1 ) + 1 ) ) by L1475 , PARTFUN1:def 6;
L1512: ( C260 /^ ( ( C271 + 1 ) + 1 ) ) is  continuous by L1448 , L1506 , L938;
L1513: 1 <= ( len ( C260 /^ ( ( C271 + 1 ) + 1 ) ) ) by L1512 , L726;
L1514: ( len ( C260 /^ ( ( C271 + 1 ) + 1 ) ) ) in ( dom ( C260 /^ ( ( C271 + 1 ) + 1 ) ) ) by L1513 , FINSEQ_3:25;
L1515: ( D113 . ( len D113 ) ) = ( ( C260 /^ ( ( C271 + 1 ) + 1 ) ) . ( len ( C260 /^ ( ( C271 + 1 ) + 1 ) ) ) ) by L1514 , L1497 , FINSEQ_1:def 7
.= C263 by L1447 , L1506 , JORDAN4:6;
L1516: 1 <= ( ( C271 + 1 ) + 1 ) by NAT_1:12;
L1517: ( C260 . ( ( ( C271 + 1 ) + 1 ) + 1 ) ) in ( U_FT ( C260 /. ( ( C271 + 1 ) + 1 ) ) ) by L1516 , L1448 , L1506 , L1511 , L726;
L1518: ( ( C260 /^ ( ( C271 + 1 ) + 1 ) ) . 1 ) in ( U_FT ( C273 /. ( len C273 ) ) ) by L1517 , L1489 , L1495 , L1502 , L1506 , L1511 , L1510 , RFINSEQ:def 1;
L1519: D113 is  continuous by L1518 , L1492 , L1512 , L766;
L1520: 1 in ( dom C273 ) by L1500 , FINSEQ_3:25;
L1521: ( D113 . 1 ) = C262 by L1520 , L1494 , FINSEQ_1:def 7;
L1522: ( rng ( C260 /^ ( ( C271 + 1 ) + 1 ) ) ) c= ( rng C260 ) by FINSEQ_5:33;
L1523: ( rng ( C260 /^ ( ( C271 + 1 ) + 1 ) ) ) c= C261 by L1522 , L1413 , XBOOLE_1:1;
L1524: ( rng D113 ) = ( ( rng C273 ) \/ ( rng ( C260 /^ ( ( C271 + 1 ) + 1 ) ) ) ) by FINSEQ_1:31;
L1525: ( rng D113 ) c= C261 by L1524 , L1493 , L1523 , XBOOLE_1:8;
thus L1526: contradiction by L1525 , L1410 , L1505 , L1519 , L1521 , L1515 , L960;
end;
suppose L1527: ( ( C271 + 1 ) + 1 ) >= ( len C260 );

L1528: ( C260 /^ ( ( C271 + 1 ) + 1 ) ) = ( <*> (the carrier of R1) ) by L1527 , FINSEQ_5:32;
L1529: D113 = C273 by L1528 , FINSEQ_1:34;
L1530: ( ( C271 + 1 ) + 1 ) = ( len C260 ) by L1466 , L1527 , XXREAL_0:1;
thus L1531: contradiction by L1530 , L1410 , L1447 , L1489 , L1492 , L1493 , L1494 , L1495 , L1504 , L1497 , L1499 , L1529 , L960;
end;
end;
L1533: ( [#] ( R1 | C261 ) ) = C261 by L80;
L1534: ( U_FT D111 ) = ( ( U_FT ( C260 /. ( C271 + 1 ) ) ) /\ C261 ) by L1533 , L1473 , L67;
L1535: ( C260 . ( ( C271 + 1 ) + 1 ) ) in ( U_FT ( C260 /. ( C271 + 1 ) ) ) by L1448 , L1471 , L1467 , L1473 , L726;
L1536: ( C260 . ( ( C271 + 1 ) + 1 ) ) in ( U_FT D111 ) by L1535 , L1413 , L1534 , L1470 , XBOOLE_0:def 4;
L1537: ( C260 . ( ( C271 + 1 ) + 1 ) ) in ( ( Finf (C264 , C271) ) ^f ) by L1536 , L1463 , L1466 , NAT_1:13;
L1538: ( ( C271 + 1 ) -' 1 ) = ( ( C271 + 1 ) - 1 ) by NAT_D:37
.= C271;
thus L1539: thesis by L1538 , L1537 , L1476 , FINTOPO3:31;
end;
end;
let C274 being (Element of ( NAT ));
assume L1541: C274 < ( len C260 );
L1542: ( C274 + 1 ) <= ( len C260 ) by L1541 , NAT_1:13;
L1543: ( Finf ({ C262 } , ( 0 )) ) = { C262 } by FINTOPO3:32
.= ( Finf (C264 , ( 0 )) ) by L1412 , FINTOPO3:32;
L1544: S3[ ( 0 ) ] by L1543 , L1446 , FINTOPO3:32;
L1545: (for B248 being (Element of ( NAT )) holds S3[ B248 ]) from NAT_1:sch 1(L1544 , L1462);
thus L1546: thesis by L1545 , L1542;
end;
