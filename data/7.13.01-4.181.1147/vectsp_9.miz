:: Steinitz Theorem and Dimension of a Vector Space
::  by Mariusz \.Zynel
::
:: Received October 6, 1995
:: Copyright (c) 1995-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, VECTSP_1, RLSUB_1, NAT_1, XBOOLE_0, STRUCT_0, SUBSET_1,
      RLVECT_2, FINSEQ_1, FUNCT_2, RELAT_1, CARD_3, VALUED_1, FUNCT_1,
      PARTFUN1, SUPINF_2, ORDINAL4, TARSKI, ARYTM_3, ARYTM_1, CLASSES1,
      FINSET_1, RLVECT_3, CARD_1, XXREAL_0, FINSEQ_4, RLVECT_5, RLSUB_2;
 notations TARSKI, XBOOLE_0, ENUMSET1, SUBSET_1, CARD_1, NUMBERS, XCMPLX_0,
      ORDINAL1, NAT_1, RELAT_1, DOMAIN_1, STRUCT_0, FUNCT_1, PARTFUN1, FUNCT_2,
      FINSET_1, FINSEQ_1, FINSEQ_3, FINSEQ_4, CLASSES1, RLVECT_1, VECTSP_1,
      VECTSP_4, VECTSP_6, VECTSP_5, VECTSP_7, MATRLIN, XXREAL_0;
 constructors FINSEQ_4, XXREAL_0, NAT_1, REALSET1, RFINSEQ, VECTSP_5, VECTSP_6,
      VECTSP_7, CLASSES1, MATRLIN, RELSET_1;
 registrations XBOOLE_0, SUBSET_1, RELAT_1, FUNCT_1, ORDINAL1, FUNCT_2,
      FINSET_1, XXREAL_0, XREAL_0, NAT_1, FINSEQ_1, STRUCT_0, VECTSP_1,
      VECTSP_7, MATRLIN, CARD_1, RELSET_1;
 requirements REAL, NUMERALS, BOOLE, SUBSET, ARITHM;
 definitions TARSKI, SUBSET_1, STRUCT_0;
 theorems TARSKI, ENUMSET1, SUBSET_1, NAT_1, CARD_1, CARD_2, FUNCT_1, FUNCT_2,
      FINSEQ_1, FINSEQ_2, FINSEQ_3, FINSEQ_4, FINSET_1, RFINSEQ, RLVECT_1,
      VECTSP_1, VECTSP_4, VECTSP_5, VECTSP_6, VECTSP_7, MATRLIN, XBOOLE_0,
      XBOOLE_1, RLVECT_2, VECTSP_2, ZFMISC_1, XREAL_1, XXREAL_0, STRUCT_0,
      PARTFUN1, RELAT_1;
 schemes NAT_1, FINSEQ_1, FUNCT_2, XBOOLE_0;

begin
registration
let C1 being non  empty 1-sorted;
cluster non  empty for (Subset of C1);
existence
proof
set D1 = the non  empty (Subset of C1);
L1: D1 is (Subset of C1);
thus L2: thesis by L1;
end;
end;
L4: (for B1 , B2 being set holds (B2 in B1 implies ( ( B1 \ { B2 } ) \/ { B2 } ) = B1))
proof
let C2 , C3 being set;
assume L5: C3 in C2;
L6: { C3 } is (Subset of C2) by L5 , SUBSET_1:41;
L7: ( { C3 } \/ ( C2 \ { C3 } ) ) = ( { C3 } \/ C2 ) by XBOOLE_1:39
.= C2 by L6 , XBOOLE_1:12;
thus L8: thesis by L7;
end;
theorem
L9: (for R1 being Field holds (for R2 being (VectSp of R1) holds (for B3 being (Linear_Combination of R2) holds (for B4 , B5 being (FinSequence of (the carrier of R2)) holds (for B6 being (Permutation of ( dom B4 )) holds (B5 = ( B4 * B6 ) implies ( Sum ( B3 (#) B4 ) ) = ( Sum ( B3 (#) B5 ) )))))))
proof
let R1 being Field;
let R2 being (VectSp of R1);
let C4 being (Linear_Combination of R2);
let C5 , C6 being (FinSequence of (the carrier of R2));
set D2 = ( C4 (#) C5 );
set D3 = ( C4 (#) C6 );
let C7 being (Permutation of ( dom C5 ));
assume that
L10: C6 = ( C5 * C7 );
L11: ( len C6 ) = ( len C5 ) by L10 , FINSEQ_2:44;
L12: ( len C5 ) = ( len ( C4 (#) C5 ) ) by VECTSP_6:def 5;
L13: ( dom C5 ) = ( dom ( C4 (#) C5 ) ) by L12 , FINSEQ_3:29;
reconsider D4 = ( ( C4 (#) C5 ) * C7 ) as (FinSequence of (the carrier of R2)) by L13 , FINSEQ_2:47;
L14: ( len D4 ) = ( len ( C4 (#) C5 ) ) by L13 , FINSEQ_2:44;
L15: ( dom D4 ) = ( dom ( C4 (#) C5 ) ) by L14 , FINSEQ_3:29;
L16: ( len D2 ) = ( len C5 ) by VECTSP_6:def 5;
L17: ( dom C5 ) = ( dom D2 ) by L16 , FINSEQ_3:29;
L18: ( len D3 ) = ( len C6 ) by VECTSP_6:def 5;
L19: ( dom D2 ) = ( dom D3 ) by L18 , L16 , L11 , FINSEQ_3:29;
L20: ( dom C5 ) = ( dom C6 ) by L11 , FINSEQ_3:29;
L21:
now
let C8 being Nat;
assume L22: C8 in ( dom D3 );
set D5 = ( C7 . C8 );
L23: (( dom C7 ) = ( dom C5 ) & ( rng C7 ) = ( dom C5 )) by FUNCT_2:52 , FUNCT_2:def 3;
L24: D5 in ( dom C5 ) by L23 , L19 , L17 , L22 , FUNCT_1:def 3;
reconsider D6 = D5 as (Element of ( NAT )) by L24;
L25: ( C6 /. C8 ) = ( C6 . C8 ) by L19 , L20 , L17 , L22 , PARTFUN1:def 6
.= ( C5 . ( C7 . C8 ) ) by L10 , L19 , L20 , L17 , L22 , FUNCT_1:12
.= ( C5 /. D6 ) by L24 , PARTFUN1:def 6;
L26: ( D3 . C8 ) = ( ( C4 . ( C5 /. D6 ) ) * ( C5 /. D6 ) ) by L25 , L22 , VECTSP_6:def 5
.= ( ( C4 (#) C5 ) . ( C7 . C8 ) ) by L17 , L24 , VECTSP_6:def 5
.= ( D4 . C8 ) by L19 , L15 , L22 , FUNCT_1:12;
thus L27: ( D3 . C8 ) = ( D4 . C8 ) by L26;
end;
thus L28: thesis by L21 , L13 , L19 , L15 , FINSEQ_1:13 , RLVECT_2:7;
end;
theorem
L29: (for R1 being Field holds (for R2 being (VectSp of R1) holds (for B7 being (Linear_Combination of R2) holds (for B8 being (FinSequence of (the carrier of R2)) holds (( Carrier B7 ) misses ( rng B8 ) implies ( Sum ( B7 (#) B8 ) ) = ( 0. R2 ))))))
proof
let R1 being Field;
let R2 being (VectSp of R1);
let C9 being (Linear_Combination of R2);
defpred S1[ FinSequence ] means (for B9 being (FinSequence of (the carrier of R2)) holds (B9 = $1 implies (( Carrier C9 ) misses ( rng B9 ) implies ( Sum ( C9 (#) B9 ) ) = ( 0. R2 ))));
L30: (for B10 being FinSequence holds (for R4 being set holds (S1[ B10 ] implies S1[ ( B10 ^ <* R4 *> ) ])))
proof
let C10 being FinSequence;
let R4 being set;
assume that
L31: S1[ C10 ];
let C11 being (FinSequence of (the carrier of R2));
assume L32: C11 = ( C10 ^ <* R4 *> );
reconsider D7 = C10 , D8 = <* R4 *> as (FinSequence of (the carrier of R2)) by L32 , FINSEQ_1:36;
L33: R4 in { R4 } by TARSKI:def 1;
L34: R4 in ( rng D8 ) by L33 , FINSEQ_1:38;
L35: ( rng D8 ) c= (the carrier of R2) by FINSEQ_1:def 4;
reconsider D9 = R4 as (Vector of R2) by L35 , L34;
assume L36: ( Carrier C9 ) misses ( rng C11 );
L37: ( {} ) = ( ( Carrier C9 ) /\ ( rng C11 ) ) by L36 , XBOOLE_0:def 7
.= ( ( Carrier C9 ) /\ ( ( rng D7 ) \/ ( rng <* D9 *> ) ) ) by L32 , FINSEQ_1:31
.= ( ( Carrier C9 ) /\ ( ( rng D7 ) \/ { D9 } ) ) by FINSEQ_1:38
.= ( ( ( Carrier C9 ) /\ ( rng D7 ) ) \/ ( ( Carrier C9 ) /\ { D9 } ) ) by XBOOLE_1:23;
L38: ( ( Carrier C9 ) /\ ( rng D7 ) ) = ( {} ) by L37;
L39: ( Carrier C9 ) misses ( rng D7 ) by L38 , XBOOLE_0:def 7;
L40: ( Sum ( C9 (#) D7 ) ) = ( 0. R2 ) by L39 , L31;
L41:
now
L42: D9 in { D9 } by TARSKI:def 1;
assume L43: D9 in ( Carrier C9 );
L44: D9 in ( ( Carrier C9 ) /\ { D9 } ) by L43 , L42 , XBOOLE_0:def 4;
thus L45: contradiction by L44 , L37;
end;
L46: ( C9 . D9 ) = ( 0. R1 ) by L41 , VECTSP_6:2;
L47: ( Sum ( C9 (#) C11 ) ) = ( Sum ( ( C9 (#) D7 ) ^ ( C9 (#) D8 ) ) ) by L32 , VECTSP_6:13
.= ( ( Sum ( C9 (#) D7 ) ) + ( Sum ( C9 (#) D8 ) ) ) by RLVECT_1:41
.= ( ( 0. R2 ) + ( Sum <* ( ( C9 . D9 ) * D9 ) *> ) ) by L40 , VECTSP_6:10
.= ( Sum <* ( ( C9 . D9 ) * D9 ) *> ) by RLVECT_1:4
.= ( ( 0. R1 ) * D9 ) by L46 , RLVECT_1:44
.= ( 0. R2 ) by VECTSP_1:15;
thus L48: thesis by L47;
end;
L49: S1[ ( {} ) ]
proof
let C12 being (FinSequence of (the carrier of R2));
assume L50: C12 = ( {} );
L51: ( C9 (#) C12 ) = ( <*> (the carrier of R2) ) by L50 , VECTSP_6:9;
assume L52: ( Carrier C9 ) misses ( rng C12 );
thus L53: thesis by L51 , RLVECT_1:43;
end;
L54: (for B11 being FinSequence holds S1[ B11 ]) from FINSEQ_1:sch 3(L49 , L30);
let C13 being (FinSequence of (the carrier of R2));
assume L55: ( Carrier C9 ) misses ( rng C13 );
thus L56: thesis by L55 , L54;
end;
theorem
L57: (for R1 being Field holds (for R2 being (VectSp of R1) holds (for B12 being (FinSequence of (the carrier of R2)) holds (B12 is  one-to-one implies (for B13 being (Linear_Combination of R2) holds (( Carrier B13 ) c= ( rng B12 ) implies ( Sum ( B13 (#) B12 ) ) = ( Sum B13 )))))))
proof
let R1 being Field;
let R2 being (VectSp of R1);
let C14 being (FinSequence of (the carrier of R2));
assume that
L58: C14 is  one-to-one;
L59: ( rng C14 ) c= ( rng C14 );
reconsider D10 = ( rng C14 ) as (Subset of ( rng C14 )) by L59;
let C15 being (Linear_Combination of R2);
assume that
L60: ( Carrier C15 ) c= ( rng C14 );
consider C16 being (FinSequence of (the carrier of R2)) such that L61: C16 is  one-to-one and L62: ( rng C16 ) = ( Carrier C15 ) and L63: ( Sum C15 ) = ( Sum ( C15 (#) C16 ) ) by VECTSP_6:def 6;
reconsider D11 = ( rng C16 ) as (Subset of ( rng C14 )) by L60 , L62;
set D12 = ( C14 - ( D11 ` ) );
L64: ( D10 \ ( D11 ` ) ) = ( D10 /\ ( ( D11 ` ) ` ) ) by SUBSET_1:13
.= D11 by XBOOLE_1:28;
L65: ( rng D12 ) = ( rng C16 ) by L64 , FINSEQ_3:65;
L66: D12 is  one-to-one by L58 , FINSEQ_3:87;
L67: D12 , C16 are_fiberwise_equipotent  by L66 , L61 , L65 , RFINSEQ:26;
L68: (ex B14 being (Permutation of ( dom C16 )) st D12 = ( C16 * B14 )) by L67 , RFINSEQ:4;
reconsider D13 = D12 , D14 = ( C14 - D11 ) as (FinSequence of (the carrier of R2)) by FINSEQ_3:86;
L69: ( rng D14 ) = ( ( rng C14 ) \ ( rng C16 ) ) by FINSEQ_3:65;
L70: ( rng D14 ) misses ( rng C16 ) by L69 , XBOOLE_1:79;
L71: (ex B15 being (Permutation of ( dom C14 )) st ( ( C14 - ( D11 ` ) ) ^ ( C14 - D11 ) ) = ( C14 * B15 )) by FINSEQ_3:115;
L72: ( Sum ( C15 (#) C14 ) ) = ( Sum ( C15 (#) ( D13 ^ D14 ) ) ) by L71 , L9
.= ( Sum ( ( C15 (#) D13 ) ^ ( C15 (#) D14 ) ) ) by VECTSP_6:13
.= ( ( Sum ( C15 (#) D13 ) ) + ( Sum ( C15 (#) D14 ) ) ) by RLVECT_1:41
.= ( ( Sum ( C15 (#) D13 ) ) + ( 0. R2 ) ) by L62 , L70 , L29
.= ( ( Sum ( C15 (#) C16 ) ) + ( 0. R2 ) ) by L68 , L9
.= ( Sum C15 ) by L63 , RLVECT_1:4;
thus L73: thesis by L72;
end;
theorem
L74: (for R1 being Field holds (for R2 being (VectSp of R1) holds (for B16 being (Linear_Combination of R2) holds (for B17 being (FinSequence of (the carrier of R2)) holds (ex B18 being (Linear_Combination of R2) st (( Carrier B18 ) = ( ( rng B17 ) /\ ( Carrier B16 ) ) & ( B16 (#) B17 ) = ( B18 (#) B17 )))))))
proof
let R1 being Field;
let R2 being (VectSp of R1);
let C17 being (Linear_Combination of R2);
let C18 being (FinSequence of (the carrier of R2));
defpred S2[ set , set ] means ($1 is (Vector of R2) implies (($1 in ( rng C18 ) & $2 = ( C17 . $1 )) or ((not $1 in ( rng C18 )) & $2 = ( 0. R1 ))));
reconsider D15 = ( rng C18 ) as  finite (Subset of R2) by FINSEQ_1:def 4;
L75: (for R4 being set holds (R4 in (the carrier of R2) implies (ex R5 being set st (R5 in (the carrier of R1) & S2[ R4 , R5 ]))))
proof
let R4 being set;
assume L76: R4 in (the carrier of R2);
reconsider D16 = R4 as (Vector of R2) by L76;
per cases ;
suppose L77: R4 in ( rng C18 );

L78: S2[ R4 , ( C17 . D16 ) ] by L77;
thus L79: thesis by L78;
end;
suppose L80: (not R4 in ( rng C18 ));

thus L81: thesis by L80;
end;
end;
L83: (ex B19 being (Function of (the carrier of R2) , (the carrier of R1)) st (for R4 being set holds (R4 in (the carrier of R2) implies S2[ R4 , ( B19 . R4 ) ]))) from FUNCT_2:sch 1(L75);
consider C19 being (Function of (the carrier of R2) , (the carrier of R1)) such that L84: (for R4 being set holds (R4 in (the carrier of R2) implies S2[ R4 , ( C19 . R4 ) ])) by L83;
L85:
now
let C20 being (Vector of R2);
assume L86: (not C20 in ( D15 /\ ( Carrier C17 ) ));
per cases  by L86 , XBOOLE_0:def 4;
suppose L87: (not C20 in D15);

thus L88: ( C19 . C20 ) = ( 0. R1 ) by L87 , L84;
end;
suppose L89: (not C20 in ( Carrier C17 ));

L90: ((S2[ C20 , ( C19 . C20 ) ] & S2[ C20 , ( C17 . C20 ) ]) or (S2[ C20 , ( C19 . C20 ) ] & S2[ C20 , ( 0. R1 ) ])) by L84;
thus L91: ( C19 . C20 ) = ( 0. R1 ) by L90 , L89 , VECTSP_6:2;
end;
end;
reconsider D17 = C19 as (Element of ( Funcs ((the carrier of R2) , (the carrier of R1)) )) by FUNCT_2:8;
reconsider D18 = D17 as (Linear_Combination of R2) by L85 , VECTSP_6:def 1;
L93:
now
let C21 being set;
assume L94: C21 in ( ( rng C18 ) /\ ( Carrier C17 ) );
reconsider D19 = C21 as (Vector of R2) by L94;
L95: C21 in ( Carrier C17 ) by L94 , XBOOLE_0:def 4;
L96: ( C17 . D19 ) <> ( 0. R1 ) by L95 , VECTSP_6:2;
L97: C21 in D15 by L94 , XBOOLE_0:def 4;
L98: ( D18 . D19 ) = ( C17 . D19 ) by L97 , L84;
thus L99: C21 in ( Carrier D18 ) by L98 , L96 , VECTSP_6:1;
end;
L100: ( ( rng C18 ) /\ ( Carrier C17 ) ) c= ( Carrier D18 ) by L93 , TARSKI:def 3;
take D18;
L101: ( C17 (#) C18 ) = ( D18 (#) C18 )
proof
set D20 = ( C17 (#) C18 );
set D21 = ( D18 (#) C18 );
L102: ( len D20 ) = ( len C18 ) by VECTSP_6:def 5;
L103: ( len D21 ) = ( len C18 ) by VECTSP_6:def 5;
L104: ( dom D20 ) = ( dom D21 ) by L103 , L102 , FINSEQ_3:29;
L105: ( dom D20 ) = ( dom C18 ) by L102 , FINSEQ_3:29;
L106:
now
let C22 being Nat;
set D22 = ( C18 /. C22 );
L107: S2[ D22 , ( D18 . D22 ) ] by L84;
assume L108: C22 in ( dom D20 );
L109: (( C18 /. C22 ) = ( C18 . C22 ) & ( D20 . C22 ) = ( ( C17 . D22 ) * D22 )) by L108 , L105 , PARTFUN1:def 6 , VECTSP_6:def 5;
thus L110: ( D20 . C22 ) = ( D21 . C22 ) by L109 , L104 , L105 , L108 , L107 , FUNCT_1:def 3 , VECTSP_6:def 5;
end;
thus L111: thesis by L106 , L104 , FINSEQ_1:13;
end;
L112:
now
let C23 being set;
assume L113: C23 in ( Carrier D18 );
L114: (ex B20 being (Vector of R2) st (B20 = C23 & ( D18 . B20 ) <> ( 0. R1 ))) by L113 , VECTSP_6:1;
thus L115: C23 in ( ( rng C18 ) /\ ( Carrier C17 ) ) by L114 , L85;
end;
L116: ( Carrier D18 ) c= ( ( rng C18 ) /\ ( Carrier C17 ) ) by L112 , TARSKI:def 3;
thus L117: thesis by L116 , L100 , L101 , XBOOLE_0:def 10;
end;
theorem
L118: (for R1 being Field holds (for R2 being (VectSp of R1) holds (for B21 being (Linear_Combination of R2) holds (for B22 being (Subset of R2) holds (for B23 being (FinSequence of (the carrier of R2)) holds (( rng B23 ) c= (the carrier of ( Lin B22 )) implies (ex B24 being (Linear_Combination of B22) st ( Sum ( B21 (#) B23 ) ) = ( Sum B24 ))))))))
proof
let R1 being Field;
let R2 being (VectSp of R1);
let C24 being (Linear_Combination of R2);
let C25 being (Subset of R2);
defpred S3[ Nat ] means (for B25 being (FinSequence of (the carrier of R2)) holds ((( rng B25 ) c= (the carrier of ( Lin C25 )) & ( len B25 ) = $1) implies (ex B26 being (Linear_Combination of C25) st ( Sum ( C24 (#) B25 ) ) = ( Sum B26 ))));
L119: (for B27 being Nat holds (S3[ B27 ] implies S3[ ( B27 + 1 ) ]))
proof
let C26 being Nat;
assume L120: S3[ C26 ];
let C27 being (FinSequence of (the carrier of R2));
assume that
L121: ( rng C27 ) c= (the carrier of ( Lin C25 ))
and
L122: ( len C27 ) = ( C26 + 1 );
consider C28 being FinSequence, C29 being set such that L123: C27 = ( C28 ^ <* C29 *> ) by L122 , FINSEQ_2:18;
reconsider D23 = C28 , D24 = <* C29 *> as (FinSequence of (the carrier of R2)) by L123 , FINSEQ_1:36;
L124: ( rng ( D23 ^ <* C29 *> ) ) = ( ( rng D23 ) \/ ( rng <* C29 *> ) ) by FINSEQ_1:31
.= ( ( rng D23 ) \/ { C29 } ) by FINSEQ_1:38;
L125: ( rng D23 ) c= ( rng C27 ) by L124 , L123 , XBOOLE_1:7;
L126: { C29 } c= ( rng C27 ) by L123 , L124 , XBOOLE_1:7;
L127: { C29 } c= (the carrier of ( Lin C25 )) by L126 , L121 , XBOOLE_1:1;
L128: (C29 in { C29 } implies C29 in (the carrier of ( Lin C25 ))) by L127;
L129: C29 in ( Lin C25 ) by L128 , STRUCT_0:def 5 , TARSKI:def 1;
consider C30 being (Linear_Combination of C25) such that L130: C29 = ( Sum C30 ) by L129 , VECTSP_7:7;
L131: C29 in R2 by L129 , VECTSP_4:9;
reconsider D25 = C29 as (Vector of R2) by L131 , STRUCT_0:def 5;
L132: ( len ( D23 ^ <* D25 *> ) ) = ( ( len D23 ) + ( len <* D25 *> ) ) by FINSEQ_1:22
.= ( ( len D23 ) + 1 ) by FINSEQ_1:39;
consider C31 being (Linear_Combination of C25) such that L133: ( Sum ( C24 (#) D23 ) ) = ( Sum C31 ) by L132 , L120 , L121 , L122 , L123 , L125 , XBOOLE_1:1;
L134: ( ( C24 . D25 ) * C30 ) is (Linear_Combination of C25) by VECTSP_6:31;
L135: ( C31 + ( ( C24 . D25 ) * C30 ) ) is (Linear_Combination of C25) by L134 , VECTSP_6:24;
L136: ( Sum ( C24 (#) C27 ) ) = ( Sum ( ( C24 (#) D23 ) ^ ( C24 (#) D24 ) ) ) by L123 , VECTSP_6:13
.= ( ( Sum C31 ) + ( Sum ( C24 (#) D24 ) ) ) by L133 , RLVECT_1:41
.= ( ( Sum C31 ) + ( Sum <* ( ( C24 . D25 ) * D25 ) *> ) ) by VECTSP_6:10
.= ( ( Sum C31 ) + ( ( C24 . D25 ) * ( Sum C30 ) ) ) by L130 , RLVECT_1:44
.= ( ( Sum C31 ) + ( Sum ( ( C24 . D25 ) * C30 ) ) ) by VECTSP_6:45
.= ( Sum ( C31 + ( ( C24 . D25 ) * C30 ) ) ) by VECTSP_6:44;
thus L137: thesis by L136 , L135;
end;
let C32 being (FinSequence of (the carrier of R2));
assume L138: ( rng C32 ) c= (the carrier of ( Lin C25 ));
L139: ( len C32 ) is Nat;
L140: S3[ ( 0 ) ]
proof
let C33 being (FinSequence of (the carrier of R2));
assume that
L141: ( rng C33 ) c= (the carrier of ( Lin C25 ))
and
L142: ( len C33 ) = ( 0 );
L143: C33 = ( <*> (the carrier of R2) ) by L142;
L144: ( C24 (#) C33 ) = ( <*> (the carrier of R2) ) by L143 , VECTSP_6:9;
L145: ( Sum ( C24 (#) C33 ) ) = ( 0. R2 ) by L144 , RLVECT_1:43
.= ( Sum ( ZeroLC R2 ) ) by VECTSP_6:15;
L146: ( ZeroLC R2 ) is (Linear_Combination of C25) by VECTSP_6:5;
thus L147: thesis by L146 , L145;
end;
L148: (for B28 being Nat holds S3[ B28 ]) from NAT_1:sch 2(L140 , L119);
thus L149: thesis by L148 , L138 , L139;
end;
theorem
L150: (for R1 being Field holds (for R2 being (VectSp of R1) holds (for B29 being (Linear_Combination of R2) holds (for B30 being (Subset of R2) holds (( Carrier B29 ) c= (the carrier of ( Lin B30 )) implies (ex B31 being (Linear_Combination of B30) st ( Sum B29 ) = ( Sum B31 )))))))
proof
let R1 being Field;
let R2 being (VectSp of R1);
let C34 being (Linear_Combination of R2);
let C35 being (Subset of R2);
consider C36 being (FinSequence of (the carrier of R2)) such that L151: C36 is  one-to-one and L152: ( rng C36 ) = ( Carrier C34 ) and L153: ( Sum C34 ) = ( Sum ( C34 (#) C36 ) ) by VECTSP_6:def 6;
assume L154: ( Carrier C34 ) c= (the carrier of ( Lin C35 ));
consider C37 being (Linear_Combination of C35) such that L155: ( Sum ( C34 (#) C36 ) ) = ( Sum C37 ) by L154 , L152 , L118;
take C37;
thus L156: thesis by L153 , L155;
end;
theorem
L157: (for R1 being Field holds (for R2 being (VectSp of R1) holds (for R3 being (Subspace of R2) holds (for B32 being (Linear_Combination of R2) holds (( Carrier B32 ) c= (the carrier of R3) implies (for B33 being (Linear_Combination of R3) holds (B33 = ( B32 | (the carrier of R3) ) implies (( Carrier B32 ) = ( Carrier B33 ) & ( Sum B32 ) = ( Sum B33 )))))))))
proof
let R1 being Field;
let R2 being (VectSp of R1);
let R3 being (Subspace of R2);
let C38 being (Linear_Combination of R2);
assume that
L158: ( Carrier C38 ) c= (the carrier of R3);
let C39 being (Linear_Combination of R3);
assume that
L159: C39 = ( C38 | (the carrier of R3) );
L160: ( dom C39 ) = (the carrier of R3) by FUNCT_2:def 1;
L161:
now
let C40 being set;
assume L162: C40 in ( Carrier C39 );
consider C41 being (Vector of R3) such that L163: C40 = C41 and L164: ( C39 . C41 ) <> ( 0. R1 ) by L162 , VECTSP_6:1;
L165: C41 is (Vector of R2) by VECTSP_4:10;
L166: ( C38 . C41 ) <> ( 0. R1 ) by L159 , L160 , L164 , FUNCT_1:47;
thus L167: C40 in ( Carrier C38 ) by L166 , L163 , L165 , VECTSP_6:1;
end;
L168: ( Carrier C39 ) c= ( Carrier C38 ) by L161 , TARSKI:def 3;
consider C42 being (FinSequence of (the carrier of R3)) such that L169: (C42 is  one-to-one & ( rng C42 ) = ( Carrier C39 )) and L170: ( Sum C39 ) = ( Sum ( C39 (#) C42 ) ) by VECTSP_6:def 6;
consider C43 being (FinSequence of (the carrier of R2)) such that L171: C43 is  one-to-one and L172: ( rng C43 ) = ( Carrier C38 ) and L173: ( Sum C38 ) = ( Sum ( C38 (#) C43 ) ) by VECTSP_6:def 6;
L174:
now
let C44 being set;
assume L175: C44 in ( Carrier C38 );
consider C45 being (Vector of R2) such that L176: C44 = C45 and L177: ( C38 . C45 ) <> ( 0. R1 ) by L175 , VECTSP_6:1;
L178: ( C39 . C45 ) <> ( 0. R1 ) by L158 , L159 , L160 , L175 , L176 , L177 , FUNCT_1:47;
thus L179: C44 in ( Carrier C39 ) by L178 , L158 , L175 , L176 , VECTSP_6:1;
end;
L180: ( Carrier C38 ) c= ( Carrier C39 ) by L174 , TARSKI:def 3;
L181: ( Carrier C39 ) = ( Carrier C38 ) by L180 , L168 , XBOOLE_0:def 10;
L182: C43 , C42 are_fiberwise_equipotent  by L181 , L171 , L172 , L169 , RFINSEQ:26;
consider C46 being (Permutation of ( dom C42 )) such that L183: C43 = ( C42 * C46 ) by L182 , RFINSEQ:4;
L184: ( len ( C39 (#) C42 ) ) = ( len C42 ) by VECTSP_6:def 5;
L185: ( dom ( C39 (#) C42 ) ) = ( dom C42 ) by L184 , FINSEQ_3:29;
reconsider D26 = ( ( C39 (#) C42 ) * C46 ) as (FinSequence of (the carrier of R3)) by L185 , FINSEQ_2:47;
L186: ( len D26 ) = ( len ( C39 (#) C42 ) ) by L185 , FINSEQ_2:44;
L187: ( len D26 ) = ( len C42 ) by L186 , VECTSP_6:def 5;
L188: ( dom D26 ) = ( dom C42 ) by L187 , FINSEQ_3:29;
set D27 = ( C38 (#) C43 );
L189: (the carrier of R3) c= (the carrier of R2) by VECTSP_4:def 2;
L190: ( rng D26 ) c= (the carrier of R3) by FINSEQ_1:def 4;
L191: ( rng D26 ) c= (the carrier of R2) by L190 , L189 , XBOOLE_1:1;
reconsider D28 = D26 as (FinSequence of (the carrier of R2)) by L191 , FINSEQ_1:def 4;
consider C47 being (Function of ( NAT ) , (the carrier of R3)) such that L192: ( Sum D26 ) = ( C47 . ( len D26 ) ) and L193: ( C47 . ( 0 ) ) = ( 0. R3 ) and L194: (for B34 being (Element of ( NAT )) holds (for B35 being (Vector of R3) holds ((B34 < ( len D26 ) & B35 = ( D26 . ( B34 + 1 ) )) implies ( C47 . ( B34 + 1 ) ) = ( ( C47 . B34 ) + B35 )))) by RLVECT_1:def 12;
L195: (( dom C47 ) = ( NAT ) & ( rng C47 ) c= (the carrier of R3)) by FUNCT_2:def 1 , RELAT_1:def 19;
reconsider D29 = C47 as (Function of ( NAT ) , (the carrier of R2)) by L195 , L189 , FUNCT_2:2 , XBOOLE_1:1;
L196: (for B36 being (Element of ( NAT )) holds (for B37 being (Vector of R2) holds ((B36 < ( len D28 ) & B37 = ( D28 . ( B36 + 1 ) )) implies ( D29 . ( B36 + 1 ) ) = ( ( D29 . B36 ) + B37 ))))
proof
let C48 being (Element of ( NAT ));
let C49 being (Vector of R2);
assume that
L197: C48 < ( len D28 )
and
L198: C49 = ( D28 . ( C48 + 1 ) );
L199: (1 <= ( C48 + 1 ) & ( C48 + 1 ) <= ( len D26 )) by L197 , NAT_1:11 , NAT_1:13;
L200: ( C48 + 1 ) in ( dom D26 ) by L199 , FINSEQ_3:25;
reconsider D30 = C49 as (Vector of R3) by L200 , L198 , FINSEQ_2:11;
L201: ( C47 . ( C48 + 1 ) ) = ( ( C47 . C48 ) + D30 ) by L194 , L197 , L198;
thus L202: thesis by L201 , VECTSP_4:13;
end;
L203: ( len C42 ) = ( len C43 ) by L183 , FINSEQ_2:44;
L204: ( dom C42 ) = ( dom C43 ) by L203 , FINSEQ_3:29;
L205: ( len C42 ) = ( len ( C38 (#) C43 ) ) by L203 , VECTSP_6:def 5;
L206: ( dom D27 ) = ( dom C42 ) by L205 , FINSEQ_3:29;
L207: ( dom D26 ) = ( dom ( C39 (#) C42 ) ) by L186 , FINSEQ_3:29;
L208:
now
let C50 being Nat;
set D31 = ( C43 /. C50 );
set D32 = ( C46 . C50 );
assume L209: C50 in ( dom D27 );
L210: ( C43 /. C50 ) = ( C43 . C50 ) by L209 , L206 , L204 , PARTFUN1:def 6;
L211: D31 in ( rng C43 ) by L210 , L206 , L204 , L209 , FUNCT_1:def 3;
reconsider D33 = D31 as (Vector of R3) by L211 , L181 , L172;
L212: (( dom C46 ) = ( dom C42 ) & ( rng C46 ) = ( dom C42 )) by FUNCT_2:52 , FUNCT_2:def 3;
L213: D32 in ( dom C42 ) by L212 , L206 , L209 , FUNCT_1:def 3;
reconsider D34 = D32 as (Element of ( NAT )) by L213;
L214: ( C42 /. D34 ) = ( C42 . ( C46 . C50 ) ) by L213 , PARTFUN1:def 6
.= D31 by L183 , L206 , L204 , L209 , L210 , FUNCT_1:12;
L215: ( D26 . C50 ) = ( ( C39 (#) C42 ) . D34 ) by L206 , L188 , L209 , FUNCT_1:12
.= ( ( C39 . D33 ) * D33 ) by L207 , L188 , L213 , L214 , VECTSP_6:def 5
.= ( ( C38 . D31 ) * D33 ) by L159 , L160 , FUNCT_1:47
.= ( ( C38 . D31 ) * D31 ) by VECTSP_4:14;
thus L216: ( D27 . C50 ) = ( D26 . C50 ) by L215 , L209 , VECTSP_6:def 5;
end;
L217: ( C38 (#) C43 ) = ( ( C39 (#) C42 ) * C46 ) by L208 , L206 , L188 , FINSEQ_1:13;
L218: ( len C42 ) = ( len ( C39 (#) C42 ) ) by VECTSP_6:def 5;
L219: ( dom C42 ) = ( dom ( C39 (#) C42 ) ) by L218 , FINSEQ_3:29;
reconsider D35 = C46 as (Permutation of ( dom ( C39 (#) C42 ) )) by L219;
L220: D26 = ( ( C39 (#) C42 ) * D35 );
L221: ( Sum ( C39 (#) C42 ) ) = ( Sum D26 ) by L220 , RLVECT_2:7;
L222: ( D29 . ( len D28 ) ) is (Element of R2);
L223: ( D29 . ( 0 ) ) = ( 0. R2 ) by L193 , VECTSP_4:11;
thus L224: thesis by L223 , L168 , L180 , L173 , L170 , L217 , L221 , L192 , L196 , L222 , RLVECT_1:def 12 , XBOOLE_0:def 10;
end;
theorem
L225: (for R1 being Field holds (for R2 being (VectSp of R1) holds (for R3 being (Subspace of R2) holds (for B38 being (Linear_Combination of R3) holds (ex B39 being (Linear_Combination of R2) st (( Carrier B38 ) = ( Carrier B39 ) & ( Sum B38 ) = ( Sum B39 )))))))
proof
let R1 being Field;
let R2 being (VectSp of R1);
let R3 being (Subspace of R2);
let C51 being (Linear_Combination of R3);
defpred S4[ set , set ] means (($1 in R3 & $2 = ( C51 . $1 )) or ((not $1 in R3) & $2 = ( 0. R1 )));
reconsider D36 = C51 as (Function of (the carrier of R3) , (the carrier of R1));
L226: (the carrier of R3) c= (the carrier of R2) by VECTSP_4:def 2;
reconsider D37 = ( Carrier C51 ) as  finite (Subset of R2) by L226 , XBOOLE_1:1;
L227: (for R4 being set holds (R4 in (the carrier of R2) implies (ex R5 being set st (R5 in (the carrier of R1) & S4[ R4 , R5 ]))))
proof
let R4 being set;
assume L228: R4 in (the carrier of R2);
reconsider D38 = R4 as (Vector of R2) by L228;
per cases ;
suppose L229: D38 in R3;

reconsider D39 = D38 as (Vector of R3) by L229 , STRUCT_0:def 5;
L230: S4[ D39 , ( C51 . D39 ) ] by L229;
thus L231: thesis by L230;
end;
suppose L232: (not D38 in R3);

thus L233: thesis by L232;
end;
end;
L235: (ex B40 being (Function of (the carrier of R2) , (the carrier of R1)) st (for R4 being set holds (R4 in (the carrier of R2) implies S4[ R4 , ( B40 . R4 ) ]))) from FUNCT_2:sch 1(L227);
consider C52 being (Function of (the carrier of R2) , (the carrier of R1)) such that L236: (for R4 being set holds (R4 in (the carrier of R2) implies S4[ R4 , ( C52 . R4 ) ])) by L235;
L237:
now
let C53 being (Vector of R2);
assume L238: (not C53 in D37);
L239: ((S4[ C53 , ( C51 . C53 ) ] & (not C53 in D37) & C53 in (the carrier of R3)) or S4[ C53 , ( 0. R1 ) ]) by L238 , STRUCT_0:def 5;
L240: ((S4[ C53 , ( C51 . C53 ) ] & ( C51 . C53 ) = ( 0. R1 )) or S4[ C53 , ( 0. R1 ) ]) by L239 , VECTSP_6:2;
thus L241: ( C52 . C53 ) = ( 0. R1 ) by L240 , L236;
end;
L242: C52 is (Element of ( Funcs ((the carrier of R2) , (the carrier of R1)) )) by FUNCT_2:8;
reconsider D40 = C52 as (Linear_Combination of R2) by L242 , L237 , VECTSP_6:def 1;
reconsider D41 = ( D40 | (the carrier of R3) ) as (Function of (the carrier of R3) , (the carrier of R1)) by L226 , FUNCT_2:32;
take D40;
L243:
now
let C54 being set;
assume that
L244: C54 in ( Carrier D40 )
and
L245: (not C54 in (the carrier of R3));
consider C55 being (Vector of R2) such that L246: C54 = C55 and L247: ( D40 . C55 ) <> ( 0. R1 ) by L244 , VECTSP_6:1;
L248: S4[ C55 , ( 0. R1 ) ] by L245 , L246 , STRUCT_0:def 5;
thus L249: contradiction by L248 , L236 , L247;
end;
L250: ( Carrier D40 ) c= (the carrier of R3) by L243 , TARSKI:def 3;
L251:
now
let C56 being set;
assume L252: C56 in (the carrier of R3);
L253: S4[ C56 , ( D40 . C56 ) ] by L252 , L236 , L226;
thus L254: ( D36 . C56 ) = ( D41 . C56 ) by L253 , L252 , FUNCT_1:49 , STRUCT_0:def 5;
end;
L255: D36 = D41 by L251 , FUNCT_2:12;
thus L256: thesis by L255 , L250 , L157;
end;
theorem
L257: (for R1 being Field holds (for R2 being (VectSp of R1) holds (for R3 being (Subspace of R2) holds (for B41 being (Linear_Combination of R2) holds (( Carrier B41 ) c= (the carrier of R3) implies (ex B42 being (Linear_Combination of R3) st (( Carrier B42 ) = ( Carrier B41 ) & ( Sum B42 ) = ( Sum B41 ))))))))
proof
let R1 being Field;
let R2 being (VectSp of R1);
let R3 being (Subspace of R2);
let C57 being (Linear_Combination of R2);
assume L258: ( Carrier C57 ) c= (the carrier of R3);
reconsider D42 = ( Carrier C57 ) as  finite (Subset of R3) by L258;
L259: (the carrier of R3) c= (the carrier of R2) by VECTSP_4:def 2;
reconsider D43 = ( C57 | (the carrier of R3) ) as (Function of (the carrier of R3) , (the carrier of R1)) by L259 , FUNCT_2:32;
L260: D43 is (Element of ( Funcs ((the carrier of R3) , (the carrier of R1)) )) by FUNCT_2:8;
L261: ( dom D43 ) = (the carrier of R3) by FUNCT_2:def 1;
L262:
now
let C58 being (Vector of R3);
L263: C58 is (Vector of R2) by VECTSP_4:10;
assume L264: (not C58 in D42);
L265: ( C57 . C58 ) = ( 0. R1 ) by L264 , L263 , VECTSP_6:2;
thus L266: ( D43 . C58 ) = ( 0. R1 ) by L265 , L261 , FUNCT_1:47;
end;
reconsider D44 = D43 as (Linear_Combination of R3) by L262 , L260 , VECTSP_6:def 1;
take D44;
thus L267: thesis by L258 , L157;
end;
theorem
L268: (for R1 being Field holds (for R2 being (VectSp of R1) holds (for B43 being (Basis of R2) holds (for B44 being (Vector of R2) holds B44 in ( Lin B43 )))))
proof
let R1 being Field;
let R2 being (VectSp of R1);
let C59 being (Basis of R2);
let C60 being (Vector of R2);
L269: C60 in ( the VectSpStr of R2 ) by STRUCT_0:def 5;
thus L270: thesis by L269 , VECTSP_7:def 3;
end;
registration
let R1 being Field;
let R2 being (VectSp of R1);
cluster  linearly-independent for (Subset of R2);
existence
proof
take ( {} R2 );
thus L271: thesis;
end;
end;
theorem
L273: (for R1 being Field holds (for R2 being (VectSp of R1) holds (for R3 being (Subspace of R2) holds (for B45 being (Subset of R3) holds (B45 is  linearly-independent implies B45 is  linearly-independent  linearly-independent  linearly-independent  linearly-independent (Subset of R2))))))
proof
let R1 being Field;
let R2 being (VectSp of R1);
let R3 being (Subspace of R2);
let C61 being (Subset of R3);
L274: (the carrier of R3) c= (the carrier of R2) by VECTSP_4:def 2;
reconsider D45 = C61 as (Subset of R2) by L274 , XBOOLE_1:1;
assume L275: C61 is  linearly-independent;
L276:
now
assume L277: D45 is  linearly-dependent;
consider C62 being (Linear_Combination of D45) such that L278: ( Sum C62 ) = ( 0. R2 ) and L279: ( Carrier C62 ) <> ( {} ) by L277 , VECTSP_7:def 1;
L280: ( Carrier C62 ) c= D45 by VECTSP_6:def 4;
consider C63 being (Linear_Combination of R3) such that L281: ( Carrier C63 ) = ( Carrier C62 ) and L282: ( Sum C63 ) = ( Sum C62 ) by L280 , L257 , XBOOLE_1:1;
reconsider D46 = C63 as (Linear_Combination of C61) by L281 , VECTSP_6:def 4;
L283: ( Sum D46 ) = ( 0. R3 ) by L278 , L282 , VECTSP_4:11;
thus L284: contradiction by L283 , L275 , L279 , L281 , VECTSP_7:def 1;
end;
thus L285: thesis by L276;
end;
theorem
L286: (for R1 being Field holds (for R2 being (VectSp of R1) holds (for R3 being (Subspace of R2) holds (for B46 being (Subset of R2) holds ((B46 is  linearly-independent & B46 c= (the carrier of R3)) implies B46 is  linearly-independent  linearly-independent  linearly-independent  linearly-independent (Subset of R3))))))
proof
let R1 being Field;
let R2 being (VectSp of R1);
let R3 being (Subspace of R2);
let C64 being (Subset of R2);
assume that
L287: C64 is  linearly-independent
and
L288: C64 c= (the carrier of R3);
reconsider D47 = C64 as (Subset of R3) by L288;
L289:
now
assume L290: D47 is  linearly-dependent;
consider C65 being (Linear_Combination of D47) such that L291: ( Sum C65 ) = ( 0. R3 ) and L292: ( Carrier C65 ) <> ( {} ) by L290 , VECTSP_7:def 1;
consider C66 being (Linear_Combination of R2) such that L293: ( Carrier C66 ) = ( Carrier C65 ) and L294: ( Sum C66 ) = ( Sum C65 ) by L225;
reconsider D48 = C66 as (Linear_Combination of C64) by L293 , VECTSP_6:def 4;
L295: ( Sum D48 ) = ( 0. R2 ) by L291 , L294 , VECTSP_4:11;
thus L296: contradiction by L295 , L287 , L292 , L293 , VECTSP_7:def 1;
end;
thus L297: thesis by L289;
end;
theorem
L298: (for R1 being Field holds (for R2 being (VectSp of R1) holds (for R3 being (Subspace of R2) holds (for B47 being (Basis of R3) holds (ex B48 being (Basis of R2) st B47 c= B48)))))
proof
let R1 being Field;
let R2 being (VectSp of R1);
let R3 being (Subspace of R2);
let C67 being (Basis of R3);
L299: C67 is  linearly-independent by VECTSP_7:def 3;
reconsider D49 = C67 as  linearly-independent (Subset of R2) by L299 , L273;
consider C68 being (Basis of R2) such that L300: D49 c= C68 by VECTSP_7:19;
take C68;
thus L301: thesis by L300;
end;
theorem
L302: (for R1 being Field holds (for R2 being (VectSp of R1) holds (for B49 being (Subset of R2) holds (B49 is  linearly-independent implies (for B50 being (Vector of R2) holds (B50 in B49 implies (for B51 being (Subset of R2) holds (B51 = ( B49 \ { B50 } ) implies (not B50 in ( Lin B51 ))))))))))
proof
let R1 being Field;
let R2 being (VectSp of R1);
let C69 being (Subset of R2);
assume that
L303: C69 is  linearly-independent;
let C70 being (Vector of R2);
assume L304: C70 in C69;
L305: { C70 } is (Subset of C69) by L304 , SUBSET_1:41;
L306: C70 in { C70 } by TARSKI:def 1;
L307: C70 in ( Lin { C70 } ) by L306 , VECTSP_7:8;
consider C71 being (Linear_Combination of { C70 }) such that L308: C70 = ( Sum C71 ) by L307 , VECTSP_7:7;
let C72 being (Subset of R2);
assume that
L309: C72 = ( C69 \ { C70 } );
L310: C72 c= C69 by L309 , XBOOLE_1:36;
L311: ( C72 \/ { C70 } ) c= ( C69 \/ C69 ) by L310 , L305 , XBOOLE_1:13;
assume L312: C70 in ( Lin C72 );
consider C73 being (Linear_Combination of C72) such that L313: C70 = ( Sum C73 ) by L312 , VECTSP_7:7;
L314: (( Carrier C73 ) c= C72 & ( Carrier C71 ) c= { C70 }) by VECTSP_6:def 4;
L315: ( ( Carrier C73 ) \/ ( Carrier C71 ) ) c= ( C72 \/ { C70 } ) by L314 , XBOOLE_1:13;
L316: (( Carrier ( C73 - C71 ) ) c= ( ( Carrier C73 ) \/ ( Carrier C71 ) ) & ( ( Carrier C73 ) \/ ( Carrier C71 ) ) c= C69) by L315 , L311 , VECTSP_6:41 , XBOOLE_1:1;
L317: ( Carrier ( C73 - C71 ) ) c= C69 by L316 , XBOOLE_1:1;
L318: ( C73 - C71 ) is (Linear_Combination of C69) by L317 , VECTSP_6:def 4;
L319: (for B52 being (Vector of R2) holds (B52 in ( Carrier C73 ) implies ( C71 . B52 ) = ( 0. R1 )))
proof
let C74 being (Vector of R2);
assume L320: C74 in ( Carrier C73 );
L321: (not C74 in ( Carrier C71 )) by L320 , L309 , L314 , XBOOLE_0:def 5;
thus L322: thesis by L321 , VECTSP_6:2;
end;
L323:
now
let C75 being set;
assume that
L324: C75 in ( Carrier C73 )
and
L325: (not C75 in ( Carrier ( C73 - C71 ) ));
reconsider D50 = C75 as (Vector of R2) by L324;
L326: ( C73 . D50 ) <> ( 0. R1 ) by L324 , VECTSP_6:2;
L327: ( ( C73 - C71 ) . D50 ) = ( ( C73 . D50 ) - ( C71 . D50 ) ) by VECTSP_6:40
.= ( ( C73 . D50 ) - ( 0. R1 ) ) by L319 , L324
.= ( ( C73 . D50 ) + ( - ( 0. R1 ) ) ) by RLVECT_1:def 11
.= ( ( C73 . D50 ) + ( 0. R1 ) ) by RLVECT_1:12
.= ( C73 . D50 ) by RLVECT_1:4;
thus L328: contradiction by L327 , L325 , L326 , VECTSP_6:2;
end;
L329: { C70 } is  linearly-independent by L303 , L305 , VECTSP_7:1;
L330: C70 <> ( 0. R2 ) by L329 , VECTSP_7:3;
L331: ( Carrier C73 ) <> ( {} ) by L330 , L313 , VECTSP_6:19;
L332: (ex B53 being set st B53 in ( Carrier C73 )) by L331 , XBOOLE_0:def 1;
L333: ( Carrier ( C73 - C71 ) ) is non  empty by L332 , L323;
L334: ( 0. R2 ) = ( ( Sum C73 ) + ( - ( Sum C71 ) ) ) by L313 , L308 , RLVECT_1:def 10
.= ( ( Sum C73 ) + ( Sum ( - C71 ) ) ) by VECTSP_6:46
.= ( Sum ( C73 + ( - C71 ) ) ) by VECTSP_6:44
.= ( Sum ( C73 - C71 ) ) by VECTSP_6:def 11;
thus L335: contradiction by L334 , L303 , L318 , L333 , VECTSP_7:def 1;
end;
theorem
L336: (for R1 being Field holds (for R2 being (VectSp of R1) holds (for B54 being (Basis of R2) holds (for B55 being non  empty (Subset of R2) holds (B55 misses B54 implies (for B56 being (Subset of R2) holds (B56 = ( B54 \/ B55 ) implies B56 is  linearly-dependent)))))))
proof
let R1 being Field;
let R2 being (VectSp of R1);
let C76 being (Basis of R2);
let C77 being non  empty (Subset of R2);
assume that
L337: C77 misses C76;
consider C78 being set such that L338: C78 in C77 by XBOOLE_0:def 1;
let C79 being (Subset of R2);
assume that
L339: C79 = ( C76 \/ C77 );
L340: C77 c= C79 by L339 , XBOOLE_1:7;
reconsider D51 = C78 as (Vector of R2) by L338;
reconsider D52 = ( C79 \ { D51 } ) as (Subset of R2);
L341: ( C76 \ { D51 } ) c= ( C79 \ { D51 } ) by L339 , XBOOLE_1:7 , XBOOLE_1:33;
L342: (not D51 in C76) by L337 , L338 , XBOOLE_0:3;
L343: C76 c= D52 by L342 , L341 , ZFMISC_1:57;
L344: ( Lin C76 ) is (Subspace of ( Lin D52 )) by L343 , VECTSP_7:13;
assume L345: C79 is  linearly-independent;
L346: D51 in ( Lin C76 ) by L268;
thus L347: contradiction by L346 , L345 , L338 , L340 , L344 , L302 , VECTSP_4:8;
end;
theorem
L348: (for R1 being Field holds (for R2 being (VectSp of R1) holds (for R3 being (Subspace of R2) holds (for B57 being (Subset of R2) holds (B57 c= (the carrier of R3) implies ( Lin B57 ) is (Subspace of R3))))))
proof
let R1 being Field;
let R2 being (VectSp of R1);
let R3 being (Subspace of R2);
let C80 being (Subset of R2);
assume L349: C80 c= (the carrier of R3);
L350:
now
let C81 being set;
assume L351: C81 in (the carrier of ( Lin C80 ));
L352: C81 in ( Lin C80 ) by L351 , STRUCT_0:def 5;
consider C82 being (Linear_Combination of C80) such that L353: C81 = ( Sum C82 ) by L352 , VECTSP_7:7;
L354: ( Carrier C82 ) c= C80 by VECTSP_6:def 4;
L355: (ex B58 being (Linear_Combination of R3) st (( Carrier B58 ) = ( Carrier C82 ) & ( Sum C82 ) = ( Sum B58 ))) by L354 , L349 , L257 , XBOOLE_1:1;
thus L356: C81 in (the carrier of R3) by L355 , L353;
end;
L357: (the carrier of ( Lin C80 )) c= (the carrier of R3) by L350 , TARSKI:def 3;
thus L358: thesis by L357 , VECTSP_4:27;
end;
theorem
L359: (for R1 being Field holds (for R2 being (VectSp of R1) holds (for R3 being (Subspace of R2) holds (for B59 being (Subset of R2) holds (for B60 being (Subset of R3) holds (B59 = B60 implies ( Lin B59 ) = ( Lin B60 )))))))
proof
let R1 being Field;
let R2 being (VectSp of R1);
let R3 being (Subspace of R2);
let C83 being (Subset of R2);
let C84 being (Subset of R3);
reconsider D53 = ( Lin C84 ) , D54 = R2 as (VectSp of R1);
L360: D53 is (Subspace of D54) by VECTSP_4:26;
assume L361: C83 = C84;
L362:
now
let C85 being set;
assume L363: C85 in (the carrier of ( Lin C83 ));
L364: C85 in ( Lin C83 ) by L363 , STRUCT_0:def 5;
consider C86 being (Linear_Combination of C83) such that L365: C85 = ( Sum C86 ) by L364 , VECTSP_7:7;
L366: ( Carrier C86 ) c= C83 by VECTSP_6:def 4;
consider C87 being (Linear_Combination of R3) such that L367: ( Carrier C87 ) = ( Carrier C86 ) and L368: ( Sum C87 ) = ( Sum C86 ) by L366 , L361 , L257 , XBOOLE_1:1;
reconsider D55 = C87 as (Linear_Combination of C84) by L361 , L367 , VECTSP_6:def 4;
L369: C85 = ( Sum D55 ) by L365 , L368;
L370: C85 in ( Lin C84 ) by L369 , VECTSP_7:7;
thus L371: C85 in (the carrier of ( Lin C84 )) by L370 , STRUCT_0:def 5;
end;
L372: (the carrier of ( Lin C83 )) c= (the carrier of ( Lin C84 )) by L362 , TARSKI:def 3;
L373:
now
let C88 being set;
assume L374: C88 in (the carrier of ( Lin C84 ));
L375: C88 in ( Lin C84 ) by L374 , STRUCT_0:def 5;
consider C89 being (Linear_Combination of C84) such that L376: C88 = ( Sum C89 ) by L375 , VECTSP_7:7;
consider C90 being (Linear_Combination of R2) such that L377: ( Carrier C90 ) = ( Carrier C89 ) and L378: ( Sum C90 ) = ( Sum C89 ) by L225;
reconsider D56 = C90 as (Linear_Combination of C83) by L361 , L377 , VECTSP_6:def 4;
L379: C88 = ( Sum D56 ) by L376 , L378;
L380: C88 in ( Lin C83 ) by L379 , VECTSP_7:7;
thus L381: C88 in (the carrier of ( Lin C83 )) by L380 , STRUCT_0:def 5;
end;
L382: (the carrier of ( Lin C84 )) c= (the carrier of ( Lin C83 )) by L373 , TARSKI:def 3;
L383: (the carrier of ( Lin C83 )) = (the carrier of ( Lin C84 )) by L382 , L372 , XBOOLE_0:def 10;
thus L384: thesis by L383 , L360 , VECTSP_4:29;
end;
begin
theorem
L385: (for R1 being Field holds (for R2 being (VectSp of R1) holds (for B61 , B62 being  finite (Subset of R2) holds (for B63 being (Vector of R2) holds ((B63 in ( Lin ( B61 \/ B62 ) ) & (not B63 in ( Lin B62 ))) implies (ex B64 being (Vector of R2) st (B64 in B61 & B64 in ( Lin ( ( ( B61 \/ B62 ) \ { B64 } ) \/ { B63 } ) ))))))))
proof
let R1 being Field;
let R2 being (VectSp of R1);
let C91 , C92 being  finite (Subset of R2);
let C93 being (Vector of R2);
assume that
L386: C93 in ( Lin ( C91 \/ C92 ) )
and
L387: (not C93 in ( Lin C92 ));
consider C94 being (Linear_Combination of ( C91 \/ C92 )) such that L388: C93 = ( Sum C94 ) by L386 , VECTSP_7:7;
L389: C93 in { C93 } by TARSKI:def 1;
L390: C93 in ( Lin { C93 } ) by L389 , VECTSP_7:8;
consider C95 being (Linear_Combination of { C93 }) such that L391: C93 = ( Sum C95 ) by L390 , VECTSP_7:7;
L392: ( Carrier C94 ) c= ( C91 \/ C92 ) by VECTSP_6:def 4;
L393:
now
assume L394: (for B65 being (Vector of R2) holds (B65 in C91 implies ( C94 . B65 ) = ( 0. R1 )));
L395:
now
let C96 being set;
assume that
L396: C96 in ( Carrier C94 )
and
L397: C96 in C91;
L398: (ex B66 being (Vector of R2) st (C96 = B66 & ( C94 . B66 ) <> ( 0. R1 ))) by L396 , VECTSP_6:1;
thus L399: contradiction by L398 , L394 , L397;
end;
L400: ( Carrier C94 ) misses C91 by L395 , XBOOLE_0:3;
L401: ( Carrier C94 ) c= C92 by L400 , L392 , XBOOLE_1:73;
L402: C94 is (Linear_Combination of C92) by L401 , VECTSP_6:def 4;
thus L403: contradiction by L402 , L387 , L388 , VECTSP_7:7;
end;
consider C97 being (Vector of R2) such that L404: C97 in C91 and L405: ( C94 . C97 ) <> ( 0. R1 ) by L393;
set D57 = ( C94 . C97 );
take C97;
consider C98 being (FinSequence of (the carrier of R2)) such that L406: C98 is  one-to-one and L407: ( rng C98 ) = ( Carrier C94 ) and L408: ( Sum C94 ) = ( Sum ( C94 (#) C98 ) ) by VECTSP_6:def 6;
L409: C97 in ( Carrier C94 ) by L405 , VECTSP_6:1;
reconsider D58 = ( C98 -| C97 ) as (FinSequence of (the carrier of R2)) by L409 , L407 , FINSEQ_4:41;
reconsider D59 = ( C98 |-- C97 ) as (FinSequence of (the carrier of R2)) by L407 , L409 , FINSEQ_4:50;
L410: ( rng D58 ) misses ( rng D59 ) by L406 , L407 , L409 , FINSEQ_4:57;
set D60 = ( D58 ^ D59 );
L411: C98 just_once_values C97 by L406 , L407 , L409 , FINSEQ_4:8;
L412: D60 = ( C98 - { C97 } ) by L411 , FINSEQ_4:54;
L413: ( rng D60 ) = ( ( Carrier C94 ) \ { C97 } ) by L412 , L407 , FINSEQ_3:65;
L414: C98 = ( ( ( C98 -| C97 ) ^ <* C97 *> ) ^ ( C98 |-- C97 ) ) by L407 , L409 , FINSEQ_4:51;
L415: C98 = ( D58 ^ ( <* C97 *> ^ D59 ) ) by L414 , FINSEQ_1:32;
L416: ( C94 (#) C98 ) = ( ( C94 (#) D58 ) ^ ( C94 (#) ( <* C97 *> ^ D59 ) ) ) by L415 , VECTSP_6:13
.= ( ( C94 (#) D58 ) ^ ( ( C94 (#) <* C97 *> ) ^ ( C94 (#) D59 ) ) ) by VECTSP_6:13
.= ( ( ( C94 (#) D58 ) ^ ( C94 (#) <* C97 *> ) ) ^ ( C94 (#) D59 ) ) by FINSEQ_1:32
.= ( ( ( C94 (#) D58 ) ^ <* ( D57 * C97 ) *> ) ^ ( C94 (#) D59 ) ) by VECTSP_6:10;
L417: ( Sum ( C94 (#) C98 ) ) = ( Sum ( ( C94 (#) D58 ) ^ ( <* ( D57 * C97 ) *> ^ ( C94 (#) D59 ) ) ) ) by L416 , FINSEQ_1:32
.= ( ( Sum ( C94 (#) D58 ) ) + ( Sum ( <* ( D57 * C97 ) *> ^ ( C94 (#) D59 ) ) ) ) by RLVECT_1:41
.= ( ( Sum ( C94 (#) D58 ) ) + ( ( Sum <* ( D57 * C97 ) *> ) + ( Sum ( C94 (#) D59 ) ) ) ) by RLVECT_1:41
.= ( ( Sum ( C94 (#) D58 ) ) + ( ( Sum ( C94 (#) D59 ) ) + ( D57 * C97 ) ) ) by RLVECT_1:44
.= ( ( ( Sum ( C94 (#) D58 ) ) + ( Sum ( C94 (#) D59 ) ) ) + ( D57 * C97 ) ) by RLVECT_1:def 3
.= ( ( Sum ( ( C94 (#) D58 ) ^ ( C94 (#) D59 ) ) ) + ( D57 * C97 ) ) by RLVECT_1:41
.= ( ( Sum ( C94 (#) ( D58 ^ D59 ) ) ) + ( D57 * C97 ) ) by VECTSP_6:13;
consider C99 being (Linear_Combination of R2) such that L418: ( Carrier C99 ) = ( ( rng D60 ) /\ ( Carrier C94 ) ) and L419: ( C94 (#) D60 ) = ( C99 (#) D60 ) by L74;
L420: ( rng D60 ) = ( ( rng C98 ) \ { C97 } ) by L412 , FINSEQ_3:65;
L421: ( Carrier C99 ) = ( rng D60 ) by L420 , L407 , L418 , XBOOLE_1:28;
L422: ( ( Carrier C94 ) \ { C97 } ) c= ( ( C91 \/ C92 ) \ { C97 } ) by L392 , XBOOLE_1:33;
reconsider D61 = C99 as (Linear_Combination of ( ( C91 \/ C92 ) \ { C97 } )) by L422 , L413 , L421 , VECTSP_6:def 4;
set D62 = ( ( D57 " ) * ( ( - D61 ) + C95 ) );
L423: ( Carrier ( ( - D61 ) + C95 ) ) c= ( ( Carrier ( - D61 ) ) \/ ( Carrier C95 ) ) by VECTSP_6:23;
L424: ( Carrier ( ( - D61 ) + C95 ) ) c= ( ( Carrier D61 ) \/ ( Carrier C95 ) ) by L423 , VECTSP_6:38;
L425: ( Carrier C95 ) c= { C93 } by VECTSP_6:def 4;
L426: ( ( Carrier D61 ) \/ ( Carrier C95 ) ) c= ( ( ( C91 \/ C92 ) \ { C97 } ) \/ { C93 } ) by L425 , L413 , L421 , L422 , XBOOLE_1:13;
L427: (( Carrier ( ( D57 " ) * ( ( - D61 ) + C95 ) ) ) c= ( Carrier ( ( - D61 ) + C95 ) ) & ( Carrier ( ( - D61 ) + C95 ) ) c= ( ( ( C91 \/ C92 ) \ { C97 } ) \/ { C93 } )) by L426 , L424 , VECTSP_6:28 , XBOOLE_1:1;
L428: ( Carrier D62 ) c= ( ( ( C91 \/ C92 ) \ { C97 } ) \/ { C93 } ) by L427 , XBOOLE_1:1;
L429: D62 is (Linear_Combination of ( ( ( C91 \/ C92 ) \ { C97 } ) \/ { C93 } )) by L428 , VECTSP_6:def 4;
L430: (D58 is  one-to-one & D59 is  one-to-one) by L406 , L407 , L409 , FINSEQ_4:52 , FINSEQ_4:53;
L431: D60 is  one-to-one by L430 , L410 , FINSEQ_3:91;
L432: ( Sum ( D61 (#) D60 ) ) = ( Sum D61 ) by L431 , L421 , VECTSP_6:def 6;
L433: ( ( D57 " ) * C93 ) = ( ( ( D57 " ) * ( Sum D61 ) ) + ( ( D57 " ) * ( D57 * C97 ) ) ) by L432 , L388 , L408 , L417 , L419 , VECTSP_1:def 14
.= ( ( ( D57 " ) * ( Sum D61 ) ) + C97 ) by L405 , VECTSP_1:20;
L434: C97 = ( ( ( D57 " ) * C93 ) - ( ( D57 " ) * ( Sum D61 ) ) ) by L433 , VECTSP_2:2
.= ( ( D57 " ) * ( C93 - ( Sum D61 ) ) ) by VECTSP_1:23
.= ( ( D57 " ) * ( ( - ( Sum D61 ) ) + C93 ) ) by RLVECT_1:def 11;
L435: C97 = ( ( D57 " ) * ( ( Sum ( - D61 ) ) + ( Sum C95 ) ) ) by L434 , L391 , VECTSP_6:46
.= ( ( D57 " ) * ( Sum ( ( - D61 ) + C95 ) ) ) by VECTSP_6:44
.= ( Sum ( ( D57 " ) * ( ( - D61 ) + C95 ) ) ) by VECTSP_6:45;
thus L436: thesis by L435 , L404 , L429 , VECTSP_7:7;
end;
::$N Steinitz Theorem
theorem
L437: (for R1 being Field holds (for R2 being (VectSp of R1) holds (for B67 , B68 being  finite (Subset of R2) holds ((( the VectSpStr of R2 ) = ( Lin B67 ) & B68 is  linearly-independent) implies (( card B68 ) <= ( card B67 ) & (ex B69 being  finite (Subset of R2) st (B69 c= B67 & ( card B69 ) = ( ( card B67 ) - ( card B68 ) ) & ( the VectSpStr of R2 ) = ( Lin ( B68 \/ B69 ) ))))))))
proof
let R1 being Field;
let R2 being (VectSp of R1);
defpred S5[ Nat ] means (for B70 being Nat holds (for B71 , B72 being  finite (Subset of R2) holds ((( card B71 ) = B70 & ( card B72 ) = $1 & ( the VectSpStr of R2 ) = ( Lin B71 ) & B72 is  linearly-independent) implies ($1 <= B70 & (ex B73 being  finite (Subset of R2) st (B73 c= B71 & ( card B73 ) = ( B70 - $1 ) & ( the VectSpStr of R2 ) = ( Lin ( B72 \/ B73 ) )))))));
L438: (for B74 being Nat holds (S5[ B74 ] implies S5[ ( B74 + 1 ) ]))
proof
let C100 being Nat;
assume that
L439: S5[ C100 ];
let C101 being Nat;
let C102 , C103 being  finite (Subset of R2);
assume that
L440: ( card C102 ) = C101
and
L441: ( card C103 ) = ( C100 + 1 )
and
L442: ( the VectSpStr of R2 ) = ( Lin C102 )
and
L443: C103 is  linearly-independent;
consider C104 being set such that L444: C104 in C103 by L441 , CARD_1:27 , XBOOLE_0:def 1;
reconsider D63 = C104 as (Vector of R2) by L444;
set D64 = ( C103 \ { D63 } );
L445: D64 is  linearly-independent by L443 , VECTSP_7:1 , XBOOLE_1:36;
L446: { D63 } is (Subset of C103) by L444 , SUBSET_1:41;
L447: ( card ( C103 \ { D63 } ) ) = ( ( card C103 ) - ( card { D63 } ) ) by L446 , CARD_2:44
.= ( ( C100 + 1 ) - 1 ) by L441 , CARD_1:30
.= C100;
consider C105 being  finite (Subset of R2) such that L448: C105 c= C102 and L449: ( card C105 ) = ( C101 - C100 ) and L450: ( the VectSpStr of R2 ) = ( Lin ( D64 \/ C105 ) ) by L447 , L439 , L440 , L442 , L445;
L451: (not D63 in ( Lin D64 )) by L443 , L444 , L302;
L452:
now
assume L453: C100 = C101;
consider C106 being  finite (Subset of R2) such that L454: C106 c= C102 and L455: ( card C106 ) = ( C100 - C100 ) and L456: ( the VectSpStr of R2 ) = ( Lin ( D64 \/ C106 ) ) by L453 , L439 , L440 , L442 , L447 , L445;
L457: C106 = ( {} ) by L455;
L458: D64 is (Basis of R2) by L457 , L445 , L456 , VECTSP_7:def 3;
thus L459: contradiction by L458 , L451 , L268;
end;
L460: D63 in ( Lin ( D64 \/ C105 ) ) by L450 , STRUCT_0:def 5;
consider C107 being (Vector of R2) such that L461: C107 in C105 and L462: C107 in ( Lin ( ( ( C105 \/ D64 ) \ { C107 } ) \/ { D63 } ) ) by L460 , L451 , L385;
set D65 = ( C105 \ { C107 } );
L463: ( ( D64 \ { C107 } ) \/ { D63 } ) c= ( D64 \/ { D63 } ) by XBOOLE_1:9 , XBOOLE_1:36;
L464: ( D65 \/ ( ( D64 \ { C107 } ) \/ { D63 } ) ) c= ( D65 \/ ( D64 \/ { D63 } ) ) by L463 , XBOOLE_1:9;
L465: ( D65 \/ ( ( D64 \ { C107 } ) \/ { D63 } ) ) c= ( C103 \/ D65 ) by L464 , L444 , L4;
L466: { C107 } is (Subset of C105) by L461 , SUBSET_1:41;
L467: ( card D65 ) = ( ( card C105 ) - ( card { C107 } ) ) by L466 , CARD_2:44
.= ( ( C101 - C100 ) - 1 ) by L449 , CARD_1:30
.= ( C101 - ( C100 + 1 ) );
L468: D65 c= C105 by XBOOLE_1:36;
L469: D65 c= C102 by L468 , L448 , XBOOLE_1:1;
L470: ( ( ( C105 \/ D64 ) \ { C107 } ) \/ { D63 } ) = ( ( D65 \/ ( D64 \ { C107 } ) ) \/ { D63 } ) by XBOOLE_1:42
.= ( D65 \/ ( ( D64 \ { C107 } ) \/ { D63 } ) ) by XBOOLE_1:4;
L471: ( Lin ( ( ( C105 \/ D64 ) \ { C107 } ) \/ { D63 } ) ) is (Subspace of ( Lin ( C103 \/ D65 ) )) by L470 , L465 , VECTSP_7:13;
L472: C107 in ( Lin ( C103 \/ D65 ) ) by L471 , L462 , VECTSP_4:8;
L473: (D64 c= C103 & C105 = ( D65 \/ { C107 } )) by L461 , L4 , XBOOLE_1:36;
L474:
now
let C108 being set;
assume L475: C108 in ( D64 \/ C105 );
L476: (C108 in D64 or C108 in C105) by L475 , XBOOLE_0:def 3;
L477: (C108 in C103 or C108 in D65 or C108 in { C107 }) by L476 , L473 , XBOOLE_0:def 3;
L478: (C108 in ( C103 \/ D65 ) or C108 in { C107 }) by L477 , XBOOLE_0:def 3;
L479: (C108 in ( Lin ( C103 \/ D65 ) ) or C108 = C107) by L478 , TARSKI:def 1 , VECTSP_7:8;
thus L480: C108 in (the carrier of ( Lin ( C103 \/ D65 ) )) by L479 , L472 , STRUCT_0:def 5;
end;
L481: ( D64 \/ C105 ) c= (the carrier of ( Lin ( C103 \/ D65 ) )) by L474 , TARSKI:def 3;
L482: ( Lin ( D64 \/ C105 ) ) is (Subspace of ( Lin ( C103 \/ D65 ) )) by L481 , L348;
L483: (the carrier of ( Lin ( D64 \/ C105 ) )) c= (the carrier of ( Lin ( C103 \/ D65 ) )) by L482 , VECTSP_4:def 2;
L484: (the carrier of ( Lin ( C103 \/ D65 ) )) c= (the carrier of R2) by VECTSP_4:def 2;
L485: (the carrier of ( Lin ( C103 \/ D65 ) )) = (the carrier of R2) by L484 , L450 , L483 , XBOOLE_0:def 10;
L486: ( the VectSpStr of R2 ) = ( Lin ( C103 \/ D65 ) ) by L485 , L450 , VECTSP_4:29;
L487: C100 <= C101 by L439 , L440 , L442 , L447 , L445;
L488: C100 < C101 by L487 , L452 , XXREAL_0:1;
thus L489: thesis by L488 , L469 , L467 , L486 , NAT_1:13;
end;
L490: S5[ ( 0 ) ]
proof
let C109 being Nat;
let C110 , C111 being  finite (Subset of R2);
assume that
L491: ( card C110 ) = C109
and
L492: ( card C111 ) = ( 0 )
and
L493: ( the VectSpStr of R2 ) = ( Lin C110 )
and
L494: C111 is  linearly-independent;
L495: C111 = ( {} ) by L492;
L496: C110 = ( C111 \/ C110 ) by L495;
thus L497: thesis by L496 , L491 , L493;
end;
L498: (for R10 being Nat holds S5[ R10 ]) from NAT_1:sch 2(L490 , L438);
let C112 , C113 being  finite (Subset of R2);
assume L499: (( the VectSpStr of R2 ) = ( Lin C112 ) & C113 is  linearly-independent);
thus L500: thesis by L499 , L498;
end;
begin
theorem
L501: (for R1 being Field holds (for R2 being (VectSp of R1) holds (R2 is  finite-dimensional implies (for B75 being (Basis of R2) holds B75 is  finite))))
proof
let R1 being Field;
let R2 being (VectSp of R1);
assume L502: R2 is  finite-dimensional;
consider C114 being  finite (Subset of R2) such that L503: C114 is (Basis of R2) by L502 , MATRLIN:def 1;
let C115 being (Basis of R2);
consider C116 being FinSequence such that L504: ( rng C116 ) = C114 by FINSEQ_1:52;
reconsider D66 = C116 as (FinSequence of (the carrier of R2)) by L504 , FINSEQ_1:def 4;
set D67 = { ( Carrier B76 ) where B76 is (Linear_Combination of C115) : (ex R8 being Nat st (R8 in ( dom D66 ) & ( Sum B76 ) = ( D66 . R8 ))) };
set D68 = ( union D67 );
L505: D68 c= C115
proof
let C117 being set;
assume L506: C117 in D68;
consider C118 being set such that L507: C117 in C118 and L508: C118 in D67 by L506 , TARSKI:def 4;
L509: (ex B77 being (Linear_Combination of C115) st (C118 = ( Carrier B77 ) & (ex R8 being Nat st (R8 in ( dom D66 ) & ( Sum B77 ) = ( D66 . R8 ))))) by L508;
L510: C118 c= C115 by L509 , VECTSP_6:def 4;
thus L511: thesis by L510 , L507;
end;
reconsider D69 = D68 as (Subset of R2) by L505 , XBOOLE_1:1;
L512: (for B78 being (Vector of R2) holds (B78 in ( (Omega). R2 ) iff B78 in ( Lin D69 )))
proof
let C119 being (Vector of R2);
thus L513:now
assume L514: C119 in ( (Omega). R2 );
L515: C119 in ( the VectSpStr of R2 ) by L514 , VECTSP_4:def 4;
L516: C119 in ( Lin C114 ) by L515 , L503 , VECTSP_7:def 3;
consider C120 being (Linear_Combination of C114) such that L517: C119 = ( Sum C120 ) by L516 , VECTSP_7:7;
L518: ( Carrier C120 ) c= (the carrier of ( Lin D69 ))
proof
let C121 being set;
assume L519: C121 in ( Carrier C120 );
reconsider D70 = C121 as (Vector of R2) by L519;
L520: D70 in ( Lin C115 ) by L268;
consider C122 being (Linear_Combination of C115) such that L521: C121 = ( Sum C122 ) by L520 , VECTSP_7:7;
L522: ( Carrier C120 ) c= C114 by VECTSP_6:def 4;
L523: (ex R8 being Nat st (R8 in ( dom D66 ) & C121 = ( D66 . R8 )))
proof
consider C123 being set such that L524: C123 in ( dom D66 ) and L525: C121 = ( D66 . C123 ) by L504 , L519 , L522 , FUNCT_1:def 3;
reconsider D71 = C123 as (Element of ( NAT )) by L524;
take D71;
thus L526: thesis by L524 , L525;
end;
L527: ( Carrier C122 ) in D67 by L523 , L521;
L528: ( Carrier C122 ) c= D69
proof
let C124 being set;
assume L529: C124 in ( Carrier C122 );
thus L530: thesis by L529 , L527 , TARSKI:def 4;
end;
L531: C122 is (Linear_Combination of D69) by L528 , VECTSP_6:def 4;
L532: C121 in ( Lin D69 ) by L531 , L521 , VECTSP_7:7;
thus L533: thesis by L532 , STRUCT_0:def 5;
end;
L534: (ex B79 being (Linear_Combination of D69) st ( Sum C120 ) = ( Sum B79 )) by L518 , L150;
thus L535: C119 in ( Lin D69 ) by L534 , L517 , VECTSP_7:7;
end;
assume L536: C119 in ( Lin D69 );
L537: C119 in (the carrier of ( the VectSpStr of R2 ));
L538: C119 in (the carrier of ( (Omega). R2 )) by L537 , VECTSP_4:def 4;
thus L539: thesis by L538 , STRUCT_0:def 5;
end;
L540: ( (Omega). R2 ) = ( Lin D69 ) by L512 , VECTSP_4:30;
L541: ( the VectSpStr of R2 ) = ( Lin D69 ) by L540 , VECTSP_4:def 4;
L542: C115 is  linearly-independent by VECTSP_7:def 3;
L543: D69 is  linearly-independent by L542 , L505 , VECTSP_7:1;
L544: D69 is (Basis of R2) by L543 , L541 , VECTSP_7:def 3;
L545: C115 c= D69
proof
set D72 = ( C115 \ D69 );
assume L546: (not C115 c= D69);
L547: (ex B80 being set st (B80 in C115 & (not B80 in D69))) by L546 , TARSKI:def 3;
reconsider D73 = D72 as non  empty (Subset of R2) by L547 , XBOOLE_0:def 5;
reconsider D74 = C115 as (Subset of R2);
L548: ( D69 \/ ( D74 \ D69 ) ) = ( D69 \/ D74 ) by XBOOLE_1:39
.= D74 by L505 , XBOOLE_1:12;
L549: D74 = ( D69 \/ D73 ) by L548;
thus L550: contradiction by L549 , L542 , L544 , L336 , XBOOLE_1:79;
end;
L551: C115 = D69 by L545 , L505 , XBOOLE_0:def 10;
defpred S6[ set , set ] means (ex B81 being (Linear_Combination of C115) st ($2 = ( Carrier B81 ) & ( Sum B81 ) = ( D66 . $1 )));
L552: (for B82 being Nat holds (B82 in ( Seg ( len D66 ) ) implies (ex R4 being set st S6[ B82 , R4 ])))
proof
let C125 being Nat;
assume L553: C125 in ( Seg ( len D66 ) );
L554: C125 in ( dom D66 ) by L553 , FINSEQ_1:def 3;
L555: ( D66 . C125 ) in (the carrier of R2) by L554 , FINSEQ_2:11;
L556: ( D66 . C125 ) in ( Lin C115 ) by L555 , L268;
consider C126 being (Linear_Combination of C115) such that L557: ( D66 . C125 ) = ( Sum C126 ) by L556 , VECTSP_7:7;
L558: S6[ C125 , ( Carrier C126 ) ] by L557;
thus L559: thesis by L558;
end;
L560: (ex B83 being FinSequence st (( dom B83 ) = ( Seg ( len D66 ) ) & (for B84 being Nat holds (B84 in ( Seg ( len D66 ) ) implies S6[ B84 , ( B83 . B84 ) ])))) from FINSEQ_1:sch 1(L552);
consider C127 being FinSequence such that L561: ( dom C127 ) = ( Seg ( len D66 ) ) and L562: (for B85 being Nat holds (B85 in ( Seg ( len D66 ) ) implies S6[ B85 , ( C127 . B85 ) ])) by L560;
L563: ( dom D66 ) = ( dom C127 ) by L561 , FINSEQ_1:def 3;
L564: (for B86 being Nat holds (for R6 being set holds (for R7 being set holds ((B86 in ( Seg ( len D66 ) ) & S6[ B86 , R6 ] & S6[ B86 , R7 ]) implies R6 = R7))))
proof
let C128 being Nat;
let R6 being set;
let R7 being set;
assume that
L565: C128 in ( Seg ( len D66 ) )
and
L566: S6[ C128 , R6 ]
and
L567: S6[ C128 , R7 ];
consider C129 being (Linear_Combination of C115) such that L568: (R6 = ( Carrier C129 ) & ( Sum C129 ) = ( D66 . C128 )) by L566;
consider C130 being (Linear_Combination of C115) such that L569: (R7 = ( Carrier C130 ) & ( Sum C130 ) = ( D66 . C128 )) by L567;
L570: (( Carrier C129 ) c= C115 & ( Carrier C130 ) c= C115) by VECTSP_6:def 4;
thus L571: thesis by L570 , L542 , L568 , L569 , MATRLIN:5;
end;
L572:
now
let C131 being set;
assume L573: C131 in D67;
consider C132 being (Linear_Combination of C115) such that L574: C131 = ( Carrier C132 ) and L575: (ex R8 being Nat st (R8 in ( dom D66 ) & ( Sum C132 ) = ( D66 . R8 ))) by L573;
consider R8 being Nat such that L576: R8 in ( dom D66 ) and L577: ( Sum C132 ) = ( D66 . R8 ) by L575;
L578: S6[ R8 , ( C127 . R8 ) ] by L561 , L562 , L563 , L576;
L579: C131 = ( C127 . R8 ) by L578 , L564 , L561 , L563 , L574 , L576 , L577;
thus L580: C131 in ( rng C127 ) by L579 , L563 , L576 , FUNCT_1:def 3;
end;
L581: D67 c= ( rng C127 ) by L572 , TARSKI:def 3;
L582: (for B87 being set holds (B87 in D67 implies B87 is  finite))
proof
let C133 being set;
assume L583: C133 in D67;
L584: (ex B88 being (Linear_Combination of C115) st (C133 = ( Carrier B88 ) & (ex R8 being Nat st (R8 in ( dom D66 ) & ( Sum B88 ) = ( D66 . R8 ))))) by L583;
thus L585: thesis by L584;
end;
thus L586: thesis by L582 , L551 , L581 , FINSET_1:7;
end;
theorem
L587: (for R1 being Field holds (for R2 being (VectSp of R1) holds (R2 is  finite-dimensional implies (for B89 being (Subset of R2) holds (B89 is  linearly-independent implies B89 is  finite)))))
proof
let R1 being Field;
let R2 being (VectSp of R1);
assume L588: R2 is  finite-dimensional;
let C134 being (Subset of R2);
assume L589: C134 is  linearly-independent;
consider C135 being (Basis of R2) such that L590: C134 c= C135 by L589 , VECTSP_7:19;
L591: C135 is  finite by L588 , L501;
thus L592: thesis by L591 , L590;
end;
theorem
L593: (for R1 being Field holds (for R2 being (VectSp of R1) holds (R2 is  finite-dimensional implies (for B90 , B91 being (Basis of R2) holds ( card B90 ) = ( card B91 )))))
proof
let R1 being Field;
let R2 being (VectSp of R1);
assume L594: R2 is  finite-dimensional;
let C136 , C137 being (Basis of R2);
reconsider D75 = C136 , D76 = C137 as  finite (Subset of R2) by L594 , L501;
L595: (( the VectSpStr of R2 ) = ( Lin C137 ) & D75 is  linearly-independent) by VECTSP_7:def 3;
L596: ( card D75 ) <= ( card D76 ) by L595 , L437;
L597: (( the VectSpStr of R2 ) = ( Lin C136 ) & D76 is  linearly-independent) by VECTSP_7:def 3;
L598: ( card D76 ) <= ( card D75 ) by L597 , L437;
thus L599: thesis by L598 , L596 , XXREAL_0:1;
end;
theorem
L600: (for R1 being Field holds (for R2 being (VectSp of R1) holds ( (0). R2 ) is  finite-dimensional))
proof
let R1 being Field;
let R2 being (VectSp of R1);
reconsider D77 = ( (0). R2 ) as  strict (VectSp of R1);
reconsider D78 = ( {} (the carrier of D77) ) as  finite (Subset of D77);
L601: (the carrier of D77) = { ( 0. R2 ) } by VECTSP_4:def 3
.= { ( 0. D77 ) } by VECTSP_4:11
.= (the carrier of ( (0). D77 )) by VECTSP_4:def 3;
L602: D77 = ( (0). D77 ) by L601 , VECTSP_4:31;
L603: ( Lin D78 ) = ( (0). D77 ) by VECTSP_7:9;
L604: D78 is (Basis of D77) by L603 , L602 , VECTSP_7:def 3;
thus L605: thesis by L604 , MATRLIN:def 1;
end;
theorem
L606: (for R1 being Field holds (for R2 being (VectSp of R1) holds (for R3 being (Subspace of R2) holds (R2 is  finite-dimensional implies R3 is  finite-dimensional))))
proof
let R1 being Field;
let R2 being (VectSp of R1);
let R3 being (Subspace of R2);
set D79 = the (Basis of R3);
consider C138 being (Basis of R2) such that L607: D79 c= C138 by L298;
assume L608: R2 is  finite-dimensional;
L609: C138 is  finite by L608 , L501;
thus L610: thesis by L609 , L607 , MATRLIN:def 1;
end;
registration
let C139 being Field;
let C140 being (VectSp of C139);
cluster  strict  finite-dimensional for (Subspace of C140);
existence
proof
take ( (0). C140 );
thus L611: thesis by L600;
end;
end;
registration
let C141 being Field;
let C142 being  finite-dimensional (VectSp of C141);
cluster  ->  finite-dimensional for (Subspace of C142);
correctness by L606;
end;
registration
let C143 being Field;
let C144 being  finite-dimensional (VectSp of C143);
cluster  strict for (Subspace of C144);
existence
proof
L614: ( (0). C144 ) is  strict  finite-dimensional  strict  finite-dimensional  strict  finite-dimensional  strict  finite-dimensional (Subspace of C144);
thus L615: thesis by L614;
end;
end;
begin
definition
let C145 being Field;
let C146 being (VectSp of C145);
assume L617: C146 is  finite-dimensional;
func dim C146 -> Nat means 
:L618: (for B92 being (Basis of C146) holds it = ( card B92 ));
existence
proof
consider C147 being  finite (Subset of C146) such that L619: C147 is (Basis of C146) by L617 , MATRLIN:def 1;
consider C148 being Nat such that L620: C148 = ( card C147 );
L621: (for B93 being (Basis of C146) holds ( card B93 ) = C148) by L617 , L619 , L620 , L593;
thus L622: thesis by L621;
end;
uniqueness
proof
let R9 being Nat;
let R10 being Nat;
assume that
L623: (for B94 being (Basis of C146) holds ( card B94 ) = R9)
and
L624: (for B95 being (Basis of C146) holds ( card B95 ) = R10);
consider C149 being  finite (Subset of C146) such that L625: C149 is (Basis of C146) by L617 , MATRLIN:def 1;
L626: ( card C149 ) = R9 by L623 , L625;
thus L627: thesis by L626 , L624 , L625;
end;
end;
theorem
L629: (for R1 being Field holds (for R11 being  finite-dimensional (VectSp of R1) holds (for R12 being (Subspace of R11) holds ( dim R12 ) <= ( dim R11 ))))
proof
let R1 being Field;
let R11 being  finite-dimensional (VectSp of R1);
let R12 being (Subspace of R11);
set D80 = the (Basis of R12);
reconsider D81 = D80 as (Subset of R12);
L630: ( dim R12 ) = ( card D81 ) by L618;
L631: D81 is  linearly-independent by VECTSP_7:def 3;
reconsider D82 = D81 as  linearly-independent (Subset of R11) by L631 , L273;
reconsider D83 = D82 as  finite (Subset of R11) by L501;
reconsider D84 = R11 as (VectSp of R1);
set D85 = the (Basis of D84);
L632: ( Lin D85 ) = ( the VectSpStr of D84 ) by VECTSP_7:def 3;
reconsider D86 = D85 as  finite (Subset of R11) by L501;
L633: ( card D83 ) <= ( card D86 ) by L632 , L437;
thus L634: thesis by L633 , L630 , L618;
end;
theorem
L635: (for R1 being Field holds (for R11 being  finite-dimensional (VectSp of R1) holds (for B96 being (Subset of R11) holds (B96 is  linearly-independent implies ( card B96 ) = ( dim ( Lin B96 ) )))))
proof
let R1 being Field;
let R11 being  finite-dimensional (VectSp of R1);
let C150 being (Subset of R11);
assume that
L636: C150 is  linearly-independent;
set D87 = ( Lin C150 );
L637:
now
let C151 being set;
assume L638: C151 in C150;
L639: C151 in D87 by L638 , VECTSP_7:8;
thus L640: C151 in (the carrier of D87) by L639 , STRUCT_0:def 5;
end;
reconsider D88 = C150 as  linearly-independent (Subset of D87) by L637 , L636 , L286 , TARSKI:def 3;
L641: D87 = ( Lin D88 ) by L359;
reconsider D89 = D88 as (Basis of D87) by L641 , VECTSP_7:def 3;
L642: ( card D89 ) = ( dim D87 ) by L618;
thus L643: thesis by L642;
end;
theorem
L644: (for R1 being Field holds (for R11 being  finite-dimensional (VectSp of R1) holds ( dim R11 ) = ( dim ( (Omega). R11 ) )))
proof
let R1 being Field;
let R11 being  finite-dimensional (VectSp of R1);
consider C152 being  finite (Subset of R11) such that L645: C152 is (Basis of R11) by MATRLIN:def 1;
L646: ( (Omega). R11 ) = ( the VectSpStr of R11 ) by VECTSP_4:def 4
.= ( Lin C152 ) by L645 , VECTSP_7:def 3;
L647: (( card C152 ) = ( dim R11 ) & C152 is  linearly-independent) by L645 , L618 , VECTSP_7:def 3;
thus L648: thesis by L647 , L646 , L635;
end;
theorem
L649: (for R1 being Field holds (for R11 being  finite-dimensional (VectSp of R1) holds (for R12 being (Subspace of R11) holds (( dim R11 ) = ( dim R12 ) iff ( (Omega). R11 ) = ( (Omega). R12 )))))
proof
let R1 being Field;
let R11 being  finite-dimensional (VectSp of R1);
let R12 being (Subspace of R11);
consider C153 being  finite (Subset of R11) such that L650: C153 is (Basis of R11) by MATRLIN:def 1;
thus L651:now
set D90 = the (Basis of R12);
consider C154 being (Basis of R11) such that L652: D90 c= C154 by L298;
L653: (the carrier of R12) c= (the carrier of R11) by VECTSP_4:def 2;
reconsider D91 = D90 as  finite (Subset of R11) by L653 , L501 , XBOOLE_1:1;
reconsider D92 = C154 as  finite (Subset of R11) by L501;
assume L654: ( dim R11 ) = ( dim R12 );
L655: ( card D90 ) = ( dim R11 ) by L654 , L618
.= ( card C154 ) by L618;
L656:
now
assume L657: D90 <> C154;
L658: D90 c< C154 by L657 , L652 , XBOOLE_0:def 8;
L659: ( card D91 ) < ( card D92 ) by L658 , CARD_2:48;
thus L660: contradiction by L659 , L655;
end;
reconsider D93 = C154 as (Subset of R11);
reconsider D94 = D90 as (Subset of R12);
L661: ( (Omega). R11 ) = ( the VectSpStr of R11 ) by VECTSP_4:def 4
.= ( Lin D93 ) by VECTSP_7:def 3
.= ( Lin D94 ) by L656 , L359
.= ( the VectSpStr of R12 ) by VECTSP_7:def 3
.= ( (Omega). R12 ) by VECTSP_4:def 4;
thus L662: ( (Omega). R11 ) = ( (Omega). R12 ) by L661;
end;
consider C155 being  finite (Subset of R12) such that L663: C155 is (Basis of R12) by MATRLIN:def 1;
L664: C153 is  linearly-independent by L650 , VECTSP_7:def 3;
assume L665: ( (Omega). R11 ) = ( (Omega). R12 );
L666: ( the VectSpStr of R11 ) = ( (Omega). R12 ) by L665 , VECTSP_4:def 4
.= ( the VectSpStr of R12 ) by VECTSP_4:def 4;
L667: ( Lin C153 ) = ( the VectSpStr of R12 ) by L666 , L650 , VECTSP_7:def 3
.= ( Lin C155 ) by L663 , VECTSP_7:def 3;
L668: C155 is  linearly-independent by L663 , VECTSP_7:def 3;
reconsider D95 = C155 as (Subset of R12);
reconsider D96 = C153 as (Subset of R11);
L669: ( dim R11 ) = ( card D96 ) by L650 , L618
.= ( dim ( Lin D95 ) ) by L664 , L667 , L635
.= ( card D95 ) by L668 , L635
.= ( dim R12 ) by L663 , L618;
thus L670: thesis by L669;
end;
theorem
L671: (for R1 being Field holds (for R11 being  finite-dimensional (VectSp of R1) holds (( dim R11 ) = ( 0 ) iff ( (Omega). R11 ) = ( (0). R11 ))))
proof
let R1 being Field;
let R11 being  finite-dimensional (VectSp of R1);
consider C156 being  finite (Subset of R11) such that L672: C156 is (Basis of R11) by MATRLIN:def 1;
thus L673:now
consider C157 being  finite (Subset of R11) such that L674: C157 is (Basis of R11) by MATRLIN:def 1;
assume L675: ( dim R11 ) = ( 0 );
L676: ( card C157 ) = ( 0 ) by L675 , L674 , L618;
L677: C157 = ( {} (the carrier of R11) ) by L676;
L678: ( (Omega). R11 ) = ( the VectSpStr of R11 ) by VECTSP_4:def 4
.= ( Lin C157 ) by L674 , VECTSP_7:def 3
.= ( (0). R11 ) by L677 , VECTSP_7:9;
thus L679: ( (Omega). R11 ) = ( (0). R11 ) by L678;
end;
L680:
now
assume L681: C156 = { ( 0. R11 ) };
L682: C156 is  linearly-dependent by L681 , VECTSP_7:3;
thus L683: contradiction by L682 , L672 , VECTSP_7:def 3;
end;
assume L684: ( (Omega). R11 ) = ( (0). R11 );
L685: ( the VectSpStr of R11 ) = ( (0). R11 ) by L684 , VECTSP_4:def 4;
L686: ( Lin C156 ) = ( (0). R11 ) by L685 , L672 , VECTSP_7:def 3;
L687: (C156 = ( {} ) or C156 = { ( 0. R11 ) }) by L686 , VECTSP_7:10;
thus L688: thesis by L687 , L672 , L680 , L618 , CARD_1:27;
end;
theorem
L689: (for R1 being Field holds (for R11 being  finite-dimensional (VectSp of R1) holds (( dim R11 ) = 1 iff (ex R16 being (Vector of R11) st (R16 <> ( 0. R11 ) & ( (Omega). R11 ) = ( Lin { R16 } ))))))
proof
let R1 being Field;
let R11 being  finite-dimensional (VectSp of R1);
thus L690:now
consider C158 being  finite (Subset of R11) such that L691: C158 is (Basis of R11) by MATRLIN:def 1;
assume L692: ( dim R11 ) = 1;
L693: ( card C158 ) = 1 by L692 , L691 , L618;
consider C159 being set such that L694: C158 = { C159 } by L693 , CARD_2:42;
L695: C159 in C158 by L694 , TARSKI:def 1;
reconsider D97 = C159 as (Vector of R11) by L695;
L696: { D97 } is  linearly-independent by L691 , L694 , VECTSP_7:def 3;
L697: D97 <> ( 0. R11 ) by L696 , VECTSP_7:3;
L698: ( Lin { D97 } ) = ( the VectSpStr of R11 ) by L691 , L694 , VECTSP_7:def 3;
thus L699: (ex R16 being (Vector of R11) st (R16 <> ( 0. R11 ) & ( (Omega). R11 ) = ( Lin { R16 } ))) by L698 , L697 , VECTSP_4:def 4;
end;
given R16 being (Vector of R11) such that
L700: (R16 <> ( 0. R11 ) & ( (Omega). R11 ) = ( Lin { R16 } ));

L701: ({ R16 } is  linearly-independent & ( Lin { R16 } ) = ( the VectSpStr of R11 )) by L700 , VECTSP_4:def 4 , VECTSP_7:3;
L702: { R16 } is (Basis of R11) by L701 , VECTSP_7:def 3;
L703: ( card { R16 } ) = 1 by CARD_1:30;
thus L704: thesis by L703 , L702 , L618;
end;
theorem
L705: (for R1 being Field holds (for R11 being  finite-dimensional (VectSp of R1) holds (( dim R11 ) = 2 iff (ex R15 being (Vector of R11) st (ex R16 being (Vector of R11) st (R15 <> R16 & { R15 , R16 } is  linearly-independent & ( (Omega). R11 ) = ( Lin { R15 , R16 } )))))))
proof
let R1 being Field;
let R11 being  finite-dimensional (VectSp of R1);
thus L706:now
consider C160 being  finite (Subset of R11) such that L707: C160 is (Basis of R11) by MATRLIN:def 1;
assume L708: ( dim R11 ) = 2;
L709: ( card C160 ) = 2 by L708 , L707 , L618;
consider C161 being set such that L710: C161 in C160 by L709 , CARD_1:27 , XBOOLE_0:def 1;
reconsider D98 = C161 as (Vector of R11) by L710;
L711:
now
assume L712: C160 c= { D98 };
L713: ( card C160 ) <= ( card { D98 } ) by L712 , NAT_1:43;
L714: 2 <= 1 by L713 , L709 , CARD_1:30;
thus L715: contradiction by L714;
end;
consider C162 being set such that L716: C162 in C160 and L717: (not C162 in { D98 }) by L711 , TARSKI:def 3;
reconsider D99 = C162 as (Vector of R11) by L716;
L718: D99 <> D98 by L717 , TARSKI:def 1;
L719:
now
assume L720: (not C160 c= { D98 , D99 });
consider C163 being set such that L721: C163 in C160 and L722: (not C163 in { D98 , D99 }) by L720 , TARSKI:def 3;
L723: (for B97 being set holds (B97 in { D98 , D99 , C163 } implies B97 in C160)) by L710 , L716 , L721 , ENUMSET1:def 1;
L724: { D98 , D99 , C163 } c= C160 by L723 , TARSKI:def 3;
L725: ( card { D98 , D99 , C163 } ) <= ( card C160 ) by L724 , NAT_1:43;
L726: (C163 <> D98 & C163 <> D99) by L722 , TARSKI:def 2;
L727: 3 <= 2 by L726 , L709 , L718 , L725 , CARD_2:58;
thus L728: contradiction by L727;
end;
L729: (for B98 being set holds (B98 in { D98 , D99 } implies B98 in C160)) by L710 , L716 , TARSKI:def 2;
L730: { D98 , D99 } c= C160 by L729 , TARSKI:def 3;
L731: C160 = { D98 , D99 } by L730 , L719 , XBOOLE_0:def 10;
L732: { D98 , D99 } is  linearly-independent by L731 , L707 , VECTSP_7:def 3;
L733: ( Lin { D98 , D99 } ) = ( the VectSpStr of R11 ) by L707 , L731 , VECTSP_7:def 3
.= ( (Omega). R11 ) by VECTSP_4:def 4;
thus L734: (ex R15 being (Vector of R11) st (ex R16 being (Vector of R11) st (R15 <> R16 & { R15 , R16 } is  linearly-independent & ( (Omega). R11 ) = ( Lin { R15 , R16 } )))) by L733 , L718 , L732;
end;
given R15 being (Vector of R11) , R16 being (Vector of R11) such that
L735: R15 <> R16
and
L736: { R15 , R16 } is  linearly-independent
and
L737: ( (Omega). R11 ) = ( Lin { R15 , R16 } );

L738: ( Lin { R15 , R16 } ) = ( the VectSpStr of R11 ) by L737 , VECTSP_4:def 4;
L739: { R15 , R16 } is (Basis of R11) by L738 , L736 , VECTSP_7:def 3;
L740: ( card { R15 , R16 } ) = 2 by L735 , CARD_2:57;
thus L741: thesis by L740 , L739 , L618;
end;
theorem
L742: (for R1 being Field holds (for R11 being  finite-dimensional (VectSp of R1) holds (for R13 being (Subspace of R11) holds (for R14 being (Subspace of R11) holds ( ( dim ( R13 + R14 ) ) + ( dim ( R13 /\ R14 ) ) ) = ( ( dim R13 ) + ( dim R14 ) )))))
proof
let R1 being Field;
let R11 being  finite-dimensional (VectSp of R1);
let R13 being (Subspace of R11);
let R14 being (Subspace of R11);
reconsider D100 = R11 as (VectSp of R1);
reconsider D101 = R13 , D102 = R14 as (Subspace of D100);
consider C164 being  finite (Subset of ( D101 /\ D102 )) such that L743: C164 is (Basis of ( D101 /\ D102 )) by MATRLIN:def 1;
L744: ( D101 /\ D102 ) is (Subspace of D102) by VECTSP_5:15;
consider C165 being (Basis of D102) such that L745: C164 c= C165 by L744 , L743 , L298;
L746: ( D101 /\ D102 ) is (Subspace of D101) by VECTSP_5:15;
consider C166 being (Basis of D101) such that L747: C164 c= C166 by L746 , L743 , L298;
reconsider D103 = C165 as  finite (Subset of D102) by L501;
reconsider D104 = C166 as  finite (Subset of D101) by L501;
L748:
now
L749: D104 is  linearly-independent by VECTSP_7:def 3;
reconsider D105 = D104 as  linearly-independent (Subset of D100) by L749 , L273;
assume L750: (not ( D104 /\ D103 ) c= C164);
consider C167 being set such that L751: C167 in ( D104 /\ D103 ) and L752: (not C167 in C164) by L750 , TARSKI:def 3;
L753: C167 in D104 by L751 , XBOOLE_0:def 4;
L754: C167 in ( Lin D104 ) by L753 , VECTSP_7:8;
L755: C167 in ( the VectSpStr of D101 ) by L754 , VECTSP_7:def 3;
L756: C167 in (the carrier of D101) by L755 , STRUCT_0:def 5;
L757: (the carrier of D101) c= (the carrier of D100) by VECTSP_4:def 2;
reconsider D106 = C167 as (Vector of D100) by L757 , L756;
L758:
now
let C168 being set;
L759: (the carrier of ( D101 /\ D102 )) c= (the carrier of D100) by VECTSP_4:def 2;
L760: C164 c= (the carrier of D100) by L759 , XBOOLE_1:1;
assume L761: C168 in ( C164 \/ { C167 } );
L762: (C168 in C164 or C168 in { C167 }) by L761 , XBOOLE_0:def 3;
L763: (C168 in (the carrier of D100) or C168 = C167) by L762 , L760 , TARSKI:def 1;
thus L764: C168 in (the carrier of D100) by L763 , L756 , L757;
end;
reconsider D107 = ( C164 \/ { C167 } ) as (Subset of D100) by L758 , TARSKI:def 3;
L765:
now
let C169 being set;
assume L766: C169 in ( C164 \/ { C167 } );
L767: (C169 in C164 or C169 in { C167 }) by L766 , XBOOLE_0:def 3;
L768: (C169 in D104 or C169 = C167) by L767 , L747 , TARSKI:def 1;
thus L769: C169 in D105 by L768 , L751 , XBOOLE_0:def 4;
end;
L770: D107 c= D105 by L765 , TARSKI:def 3;
L771: C167 in { C167 } by TARSKI:def 1;
L772: D106 in D107 by L771 , XBOOLE_0:def 3;
L773: C167 in D103 by L751 , XBOOLE_0:def 4;
L774: C167 in ( Lin D103 ) by L773 , VECTSP_7:8;
L775: C167 in ( the VectSpStr of D102 ) by L774 , VECTSP_7:def 3;
L776: C167 in (the carrier of D102) by L775 , STRUCT_0:def 5;
L777: C167 in ( (the carrier of D101) /\ (the carrier of D102) ) by L776 , L756 , XBOOLE_0:def 4;
L778: C167 in (the carrier of ( D101 /\ D102 )) by L777 , VECTSP_5:def 2;
L779: C167 in ( the VectSpStr of ( D101 /\ D102 ) ) by L778 , STRUCT_0:def 5;
L780: (the carrier of ( D101 /\ D102 )) c= (the carrier of D100) by VECTSP_4:def 2;
reconsider D108 = C164 as (Subset of D100) by L780 , XBOOLE_1:1;
L781: ( Lin C164 ) = ( Lin D108 ) by L359;
L782: ( D107 \ { C167 } ) = ( C164 \ { C167 } ) by XBOOLE_1:40
.= C164 by L752 , ZFMISC_1:57;
L783: (not D106 in ( Lin D108 )) by L782 , L770 , L772 , L302 , VECTSP_7:1;
thus L784: contradiction by L783 , L743 , L779 , L781 , VECTSP_7:def 3;
end;
set D109 = ( D104 \/ D103 );
L785:
now
let C170 being set;
L786: ((the carrier of D101) c= (the carrier of D100) & (the carrier of D102) c= (the carrier of D100)) by VECTSP_4:def 2;
assume L787: C170 in D109;
L788: (C170 in D104 or C170 in D103) by L787 , XBOOLE_0:def 3;
L789: (C170 in (the carrier of D101) or C170 in (the carrier of D102)) by L788;
reconsider D110 = C170 as (Vector of D100) by L789 , L786;
L790: (D110 in D101 or D110 in D102) by L788 , STRUCT_0:def 5;
L791: D110 in ( D101 + D102 ) by L790 , VECTSP_5:2;
thus L792: C170 in (the carrier of ( D101 + D102 )) by L791 , STRUCT_0:def 5;
end;
reconsider D111 = D109 as  finite (Subset of ( D101 + D102 )) by L785 , TARSKI:def 3;
L793: C164 c= ( D104 /\ D103 ) by L747 , L745 , XBOOLE_1:19;
L794: C164 = ( D104 /\ D103 ) by L793 , L748 , XBOOLE_0:def 10;
L795: ( card D111 ) = ( ( ( card D104 ) + ( card D103 ) ) - ( card C164 ) ) by L794 , CARD_2:45;
L796: (for B99 being (Linear_Combination of D111) holds (( Sum B99 ) = ( 0. ( D101 + D102 ) ) implies ( Carrier B99 ) = ( {} )))
proof
L797: (D101 is (Subspace of ( D101 + D102 )) & D104 is  linearly-independent) by VECTSP_5:7 , VECTSP_7:def 3;
reconsider D112 = D104 as  linearly-independent (Subset of ( D101 + D102 )) by L797 , L273;
reconsider D113 = D102 as (Subspace of ( D101 + D102 )) by VECTSP_5:7;
reconsider D114 = D101 as (Subspace of ( D101 + D102 )) by VECTSP_5:7;
let C171 being (Linear_Combination of D111);
assume L798: ( Sum C171 ) = ( 0. ( D101 + D102 ) );
L799: D104 misses ( ( Carrier C171 ) \ D104 ) by XBOOLE_1:79;
set D115 = ( ( Carrier C171 ) /\ D104 );
consider C172 being (FinSequence of (the carrier of ( D101 + D102 ))) such that L800: C172 is  one-to-one and L801: ( rng C172 ) = ( Carrier C171 ) and L802: ( Sum C171 ) = ( Sum ( C171 (#) C172 ) ) by VECTSP_6:def 6;
reconsider D116 = D115 as (Subset of ( rng C172 )) by L801 , XBOOLE_1:17;
reconsider D117 = ( C172 - ( D116 ` ) ) , D118 = ( C172 - D116 ) as (FinSequence of (the carrier of ( D101 + D102 ))) by FINSEQ_3:86;
consider C173 being (Linear_Combination of ( D101 + D102 )) such that L803: ( Carrier C173 ) = ( ( rng D117 ) /\ ( Carrier C171 ) ) and L804: ( C173 (#) D117 ) = ( C171 (#) D117 ) by L74;
L805: D117 is  one-to-one by L800 , FINSEQ_3:87;
L806: ( Sum ( C171 (#) D117 ) ) = ( Sum C173 ) by L805 , L803 , L804 , L57 , XBOOLE_1:17;
L807: ( rng C172 ) c= ( rng C172 );
reconsider D119 = ( rng C172 ) as (Subset of ( rng C172 )) by L807;
consider C174 being (Linear_Combination of ( D101 + D102 )) such that L808: ( Carrier C174 ) = ( ( rng D118 ) /\ ( Carrier C171 ) ) and L809: ( C174 (#) D118 ) = ( C171 (#) D118 ) by L74;
L810: D118 is  one-to-one by L800 , FINSEQ_3:87;
L811: ( Sum ( C171 (#) D118 ) ) = ( Sum C174 ) by L810 , L808 , L809 , L57 , XBOOLE_1:17;
L812: ( D119 \ ( D116 ` ) ) = ( D119 /\ ( ( D116 ` ) ` ) ) by SUBSET_1:13
.= D116 by XBOOLE_1:28;
L813: ( rng D117 ) = D116 by L812 , FINSEQ_3:65;
L814: ( Carrier C173 ) = ( D104 /\ ( ( Carrier C171 ) /\ ( Carrier C171 ) ) ) by L813 , L803 , XBOOLE_1:16
.= ( ( Carrier C171 ) /\ D104 );
consider C175 being (Linear_Combination of D114) such that L815: ( Carrier C175 ) = ( Carrier C173 ) and L816: ( Sum C175 ) = ( Sum C173 ) by L814 , L257;
L817: ( rng D118 ) = ( ( Carrier C171 ) \ ( ( Carrier C171 ) /\ D104 ) ) by L801 , FINSEQ_3:65
.= ( ( Carrier C171 ) \ D104 ) by XBOOLE_1:47;
L818: ( Carrier C174 ) = ( ( Carrier C171 ) \ D104 ) by L817 , L808 , XBOOLE_1:28 , XBOOLE_1:36;
L819: ( ( Carrier C173 ) /\ ( Carrier C174 ) ) = ( ( Carrier C171 ) /\ ( D104 /\ ( ( Carrier C171 ) \ D104 ) ) ) by L818 , L814 , XBOOLE_1:16
.= ( ( Carrier C171 ) /\ ( {} ) ) by L799 , XBOOLE_0:def 7
.= ( {} );
L820: ( Carrier C173 ) misses ( Carrier C174 ) by L819 , XBOOLE_0:def 7;
L821: ( Carrier C171 ) c= ( D104 \/ D103 ) by VECTSP_6:def 4;
L822: ( Carrier C174 ) c= D103 by L821 , L818 , XBOOLE_1:43;
L823: ( Carrier C174 ) c= D103 by L821 , L818 , XBOOLE_1:43;
consider C176 being (Linear_Combination of D113) such that L824: ( Carrier C176 ) = ( Carrier C174 ) and L825: ( Sum C176 ) = ( Sum C174 ) by L823 , L257 , XBOOLE_1:1;
L826: ( Sum C175 ) in D101 by STRUCT_0:def 5;
L827: (ex B100 being (Permutation of ( dom C172 )) st ( ( C172 - ( D116 ` ) ) ^ ( C172 - D116 ) ) = ( C172 * B100 )) by FINSEQ_3:115;
L828: ( 0. ( D101 + D102 ) ) = ( Sum ( C171 (#) ( D117 ^ D118 ) ) ) by L827 , L798 , L802 , L9
.= ( Sum ( ( C171 (#) D117 ) ^ ( C171 (#) D118 ) ) ) by VECTSP_6:13
.= ( ( Sum C173 ) + ( Sum C174 ) ) by L806 , L811 , RLVECT_1:41;
L829: ( Sum C173 ) = ( - ( Sum C174 ) ) by L828 , VECTSP_1:16
.= ( - ( Sum C176 ) ) by L825 , VECTSP_4:15;
L830: ( Sum C175 ) in D102 by L829 , L816 , STRUCT_0:def 5;
L831: ( Sum C175 ) in ( D101 /\ D102 ) by L830 , L826 , VECTSP_5:3;
L832: ( Sum C175 ) in ( Lin C164 ) by L831 , L743 , VECTSP_7:def 3;
consider C177 being (Linear_Combination of C164) such that L833: ( Sum C175 ) = ( Sum C177 ) by L832 , VECTSP_7:7;
L834: ( Carrier C171 ) = ( ( Carrier C173 ) \/ ( Carrier C174 ) ) by L814 , L818 , XBOOLE_1:51;
L835:
now
assume L836: (not ( Carrier C171 ) c= ( Carrier ( C173 + C174 ) ));
consider C178 being set such that L837: C178 in ( Carrier C171 ) and L838: (not C178 in ( Carrier ( C173 + C174 ) )) by L836 , TARSKI:def 3;
reconsider D120 = C178 as (Vector of ( D101 + D102 )) by L837;
L839: ( 0. R1 ) = ( ( C173 + C174 ) . D120 ) by L838 , VECTSP_6:2
.= ( ( C173 . D120 ) + ( C174 . D120 ) ) by VECTSP_6:22;
per cases  by L834 , L837 , XBOOLE_0:def 3;
suppose L840: D120 in ( Carrier C173 );

L841: (not D120 in ( Carrier C174 )) by L840 , L820 , XBOOLE_0:3;
L842: ( C174 . D120 ) = ( 0. R1 ) by L841 , VECTSP_6:2;
L843: (ex B101 being (Vector of ( D101 + D102 )) st (D120 = B101 & ( C173 . B101 ) <> ( 0. R1 ))) by L840 , VECTSP_6:1;
thus L844: contradiction by L843 , L839 , L842 , RLVECT_1:4;
end;
suppose L845: D120 in ( Carrier C174 );

L846: (not D120 in ( Carrier C173 )) by L845 , L820 , XBOOLE_0:3;
L847: ( C173 . D120 ) = ( 0. R1 ) by L846 , VECTSP_6:2;
L848: (ex B102 being (Vector of ( D101 + D102 )) st (D120 = B102 & ( C174 . B102 ) <> ( 0. R1 ))) by L845 , VECTSP_6:1;
thus L849: contradiction by L848 , L839 , L847 , RLVECT_1:4;
end;
end;
L851: ( C164 \/ D103 ) = D103 by L745 , XBOOLE_1:12;
L852: D103 is  linearly-independent by VECTSP_7:def 3;
L853: ( Carrier C173 ) c= D104 by L814 , XBOOLE_1:17;
L854: ( D101 /\ D102 ) is (Subspace of ( D101 + D102 )) by VECTSP_5:23;
consider C179 being (Linear_Combination of ( D101 + D102 )) such that L855: ( Carrier C179 ) = ( Carrier C177 ) and L856: ( Sum C179 ) = ( Sum C177 ) by L854 , L225;
L857: ( Carrier C179 ) c= C164 by L855 , VECTSP_6:def 4;
L858: ( Carrier C179 ) c= D112 by L857 , L747 , XBOOLE_1:1;
L859: C179 = C173 by L858 , L853 , L816 , L833 , L856 , MATRLIN:5;
L860: ( Carrier C179 ) c= C164 by L855 , VECTSP_6:def 4;
L861: (( Carrier ( C179 + C174 ) ) c= ( ( Carrier C179 ) \/ ( Carrier C174 ) ) & ( ( Carrier C179 ) \/ ( Carrier C174 ) ) c= D103) by L860 , L851 , L822 , VECTSP_6:23 , XBOOLE_1:13;
L862: ( Carrier ( C179 + C174 ) ) c= D103 by L861 , XBOOLE_1:1;
L863: D102 is (Subspace of ( D101 + D102 )) by VECTSP_5:7;
consider C180 being (Linear_Combination of D102) such that L864: ( Carrier C180 ) = ( Carrier ( C179 + C174 ) ) and L865: ( Sum C180 ) = ( Sum ( C179 + C174 ) ) by L863 , L862 , L257 , XBOOLE_1:1;
reconsider D121 = C180 as (Linear_Combination of D103) by L862 , L864 , VECTSP_6:def 4;
L866: ( 0. D102 ) = ( ( Sum C179 ) + ( Sum C174 ) ) by L816 , L828 , L833 , L856 , VECTSP_4:12
.= ( Sum D121 ) by L865 , VECTSP_6:44;
L867: ( {} ) = ( Carrier ( C173 + C174 ) ) by L866 , L864 , L859 , L852 , VECTSP_7:def 1;
thus L868: thesis by L867 , L835;
end;
L869: D111 is  linearly-independent by L796 , VECTSP_7:def 1;
L870: (the carrier of ( D101 + D102 )) c= (the carrier of D100) by VECTSP_4:def 2;
reconsider D122 = D111 as (Subset of D100) by L870 , XBOOLE_1:1;
L871: ( card D103 ) = ( dim D102 ) by L618;
L872:
now
let C181 being set;
assume L873: C181 in (the carrier of ( D101 + D102 ));
L874: C181 in ( D101 + D102 ) by L873 , STRUCT_0:def 5;
consider C182 , C183 being (Vector of D100) such that L875: C182 in D101 and L876: C183 in D102 and L877: C181 = ( C182 + C183 ) by L874 , VECTSP_5:1;
reconsider D123 = C182 as (Vector of D101) by L875 , STRUCT_0:def 5;
L878: D123 in ( Lin D104 ) by L268;
consider C184 being (Linear_Combination of D104) such that L879: D123 = ( Sum C184 ) by L878 , VECTSP_7:7;
reconsider D124 = C183 as (Vector of D102) by L876 , STRUCT_0:def 5;
L880: D124 in ( Lin D103 ) by L268;
consider C185 being (Linear_Combination of D103) such that L881: D124 = ( Sum C185 ) by L880 , VECTSP_7:7;
consider C186 being (Linear_Combination of D100) such that L882: ( Carrier C186 ) = ( Carrier C185 ) and L883: ( Sum C186 ) = ( Sum C185 ) by L225;
L884: ( Carrier C186 ) c= D103 by L882 , VECTSP_6:def 4;
consider C187 being (Linear_Combination of D100) such that L885: ( Carrier C187 ) = ( Carrier C184 ) and L886: ( Sum C187 ) = ( Sum C184 ) by L225;
set D125 = ( C187 + C186 );
L887: ( Carrier C187 ) c= D104 by L885 , VECTSP_6:def 4;
L888: (( Carrier D125 ) c= ( ( Carrier C187 ) \/ ( Carrier C186 ) ) & ( ( Carrier C187 ) \/ ( Carrier C186 ) ) c= ( D104 \/ D103 )) by L887 , L884 , VECTSP_6:23 , XBOOLE_1:13;
L889: ( Carrier D125 ) c= ( D104 \/ D103 ) by L888 , XBOOLE_1:1;
reconsider D126 = D125 as (Linear_Combination of D122) by L889 , VECTSP_6:def 4;
L890: C181 = ( Sum D126 ) by L877 , L879 , L886 , L881 , L883 , VECTSP_6:44;
L891: C181 in ( Lin D122 ) by L890 , VECTSP_7:7;
thus L892: C181 in (the carrier of ( Lin D122 )) by L891 , STRUCT_0:def 5;
end;
L893: (the carrier of ( D101 + D102 )) c= (the carrier of ( Lin D122 )) by L872 , TARSKI:def 3;
L894: ( D101 + D102 ) is (Subspace of ( Lin D122 )) by L893 , VECTSP_4:27;
L895: ( Lin D122 ) = ( Lin D111 ) by L359;
L896: ( Lin D111 ) = ( D101 + D102 ) by L895 , L894 , VECTSP_4:25;
L897: D111 is (Basis of ( D101 + D102 )) by L896 , L869 , VECTSP_7:def 3;
L898: ( card C164 ) = ( dim ( D101 /\ D102 ) ) by L743 , L618;
L899: ( ( dim ( D101 + D102 ) ) + ( dim ( D101 /\ D102 ) ) ) = ( ( ( ( card D104 ) + ( card D103 ) ) + ( - ( card C164 ) ) ) + ( card C164 ) ) by L898 , L795 , L897 , L618
.= ( ( dim D101 ) + ( dim D102 ) ) by L871 , L618;
thus L900: thesis by L899;
end;
theorem
L901: (for R1 being Field holds (for R11 being  finite-dimensional (VectSp of R1) holds (for R13 being (Subspace of R11) holds (for R14 being (Subspace of R11) holds ( dim ( R13 /\ R14 ) ) >= ( ( ( dim R13 ) + ( dim R14 ) ) - ( dim R11 ) )))))
proof
let R1 being Field;
let R11 being  finite-dimensional (VectSp of R1);
let R13 being (Subspace of R11);
let R14 being (Subspace of R11);
L902: (( dim ( R13 + R14 ) ) <= ( dim R11 ) & ( ( dim R11 ) + ( ( dim ( R13 /\ R14 ) ) - ( dim R11 ) ) ) = ( dim ( R13 /\ R14 ) )) by L629;
L903: ( ( ( dim R13 ) + ( dim R14 ) ) - ( dim R11 ) ) = ( ( ( dim ( R13 + R14 ) ) + ( dim ( R13 /\ R14 ) ) ) - ( dim R11 ) ) by L742
.= ( ( dim ( R13 + R14 ) ) + ( ( dim ( R13 /\ R14 ) ) - ( dim R11 ) ) );
thus L904: thesis by L903 , L902 , XREAL_1:6;
end;
theorem
L905: (for R1 being Field holds (for R11 being  finite-dimensional (VectSp of R1) holds (for R13 being (Subspace of R11) holds (for R14 being (Subspace of R11) holds (R11 is_the_direct_sum_of R13 , R14 implies ( dim R11 ) = ( ( dim R13 ) + ( dim R14 ) ))))))
proof
let R1 being Field;
let R11 being  finite-dimensional (VectSp of R1);
let R13 being (Subspace of R11);
let R14 being (Subspace of R11);
assume L906: R11 is_the_direct_sum_of R13 , R14;
L907: ( the VectSpStr of R11 ) = ( R13 + R14 ) by L906 , VECTSP_5:def 4;
L908: ( R13 /\ R14 ) = ( (0). R11 ) by L906 , VECTSP_5:def 4;
L909: ( (Omega). ( R13 /\ R14 ) ) = ( (0). R11 ) by L908 , VECTSP_4:def 4
.= ( (0). ( R13 /\ R14 ) ) by VECTSP_4:36;
L910: ( dim ( R13 /\ R14 ) ) = ( 0 ) by L909 , L671;
L911: ( ( dim R13 ) + ( dim R14 ) ) = ( ( dim ( R13 + R14 ) ) + ( 0 ) ) by L910 , L742
.= ( dim ( (Omega). R11 ) ) by L907 , VECTSP_4:def 4
.= ( dim R11 ) by L644;
thus L912: thesis by L911;
end;
L913: (for R1 being Field holds (for R9 being Nat holds (for R11 being  finite-dimensional (VectSp of R1) holds (R9 <= ( dim R11 ) implies (ex B103 being  strict (Subspace of R11) st ( dim B103 ) = R9)))))
proof
let R1 being Field;
let R9 being Nat;
let R11 being  finite-dimensional (VectSp of R1);
consider C188 being  finite (Subset of R11) such that L914: C188 is (Basis of R11) by MATRLIN:def 1;
assume L915: R9 <= ( dim R11 );
L916: R9 <= ( card C188 ) by L915 , L914 , L618;
consider C189 being  finite (Subset of C188) such that L917: ( card C189 ) = R9 by L916 , FINSEQ_4:72;
reconsider D127 = C189 as (Subset of R11) by XBOOLE_1:1;
reconsider D128 = ( Lin D127 ) as  strict  finite-dimensional (Subspace of R11);
L918: C188 is  linearly-independent by L914 , VECTSP_7:def 3;
L919: ( dim D128 ) = R9 by L918 , L917 , L635 , VECTSP_7:1;
thus L920: thesis by L919;
end;
theorem
L921: (for R1 being Field holds (for R9 being Nat holds (for R11 being  finite-dimensional (VectSp of R1) holds (R9 <= ( dim R11 ) iff (ex B104 being  strict (Subspace of R11) st ( dim B104 ) = R9))))) by L913 , L629;
definition
let C190 being Field;
let C191 being  finite-dimensional (VectSp of C190);
let C192 being Nat;
func C192 Subspaces_of C191 -> set means 
:L922: (for R4 being set holds (R4 in it iff (ex B105 being  strict (Subspace of C191) st (B105 = R4 & ( dim B105 ) = C192))));
existence
proof
set D129 = { ( Lin B106 ) where B106 is (Subset of C191) : (B106 is  linearly-independent & ( card B106 ) = C192) };
take D129;
L923: (for R4 being set holds (R4 in D129 iff (ex B107 being  strict (Subspace of C191) st (B107 = R4 & ( dim B107 ) = C192))))
proof
let R4 being set;
thus L924:now
assume L925: R4 in D129;
L926: (ex B108 being (Subset of C191) st (R4 = ( Lin B108 ) & B108 is  linearly-independent & ( card B108 ) = C192)) by L925;
reconsider D130 = R4 as  strict (Subspace of C191) by L926;
L927: ( dim D130 ) = C192 by L926 , L635;
thus L928: (ex B109 being  strict (Subspace of C191) st (B109 = R4 & ( dim B109 ) = C192)) by L927;
end;
given C193 being  strict (Subspace of C191) such that
L929: C193 = R4
and
L930: ( dim C193 ) = C192;

consider C194 being  finite (Subset of C193) such that L931: C194 is (Basis of C193) by MATRLIN:def 1;
reconsider D131 = C194 as (Subset of C193);
L932: D131 is  linearly-independent by L931 , VECTSP_7:def 3;
reconsider D132 = D131 as  linearly-independent (Subset of C191) by L932 , L273;
L933: R4 = ( Lin D131 ) by L929 , L931 , VECTSP_7:def 3
.= ( Lin D132 ) by L359;
L934: ( card D132 ) = C192 by L933 , L929 , L930 , L635;
thus L935: thesis by L934 , L933;
end;
thus L936: thesis by L923;
end;
uniqueness
proof
defpred S7[ set ] means (ex B110 being  strict (Subspace of C191) st (B110 = $1 & ( dim B110 ) = C192));
thus L937: (for B111 , B112 being set holds (((for B113 being set holds (B113 in B111 iff S7[ B113 ])) & (for B114 being set holds (B114 in B112 iff S7[ B114 ]))) implies B111 = B112)) from XBOOLE_0:sch 3;
end;
end;
theorem
L939: (for R1 being Field holds (for R9 being Nat holds (for R11 being  finite-dimensional (VectSp of R1) holds (R9 <= ( dim R11 ) implies ( R9 Subspaces_of R11 ) is non  empty))))
proof
let R1 being Field;
let R9 being Nat;
let R11 being  finite-dimensional (VectSp of R1);
assume L940: R9 <= ( dim R11 );
L941: (ex B115 being  strict (Subspace of R11) st ( dim B115 ) = R9) by L940 , L913;
thus L942: thesis by L941 , L922;
end;
theorem
L943: (for R1 being Field holds (for R9 being Nat holds (for R11 being  finite-dimensional (VectSp of R1) holds (( dim R11 ) < R9 implies ( R9 Subspaces_of R11 ) = ( {} )))))
proof
let R1 being Field;
let R9 being Nat;
let R11 being  finite-dimensional (VectSp of R1);
assume that
L944: ( dim R11 ) < R9
and
L945: ( R9 Subspaces_of R11 ) <> ( {} );
consider C195 being set such that L946: C195 in ( R9 Subspaces_of R11 ) by L945 , XBOOLE_0:def 1;
L947: (ex B116 being  strict (Subspace of R11) st (B116 = C195 & ( dim B116 ) = R9)) by L946 , L922;
thus L948: contradiction by L947 , L944 , L629;
end;
theorem
L949: (for R1 being Field holds (for R9 being Nat holds (for R11 being  finite-dimensional (VectSp of R1) holds (for R12 being (Subspace of R11) holds ( R9 Subspaces_of R12 ) c= ( R9 Subspaces_of R11 )))))
proof
let R1 being Field;
let R9 being Nat;
let R11 being  finite-dimensional (VectSp of R1);
let R12 being (Subspace of R11);
let C196 being set;
assume L950: C196 in ( R9 Subspaces_of R12 );
consider C197 being  strict (Subspace of R12) such that L951: C197 = C196 and L952: ( dim C197 ) = R9 by L950 , L922;
reconsider D133 = C197 as  strict (Subspace of R11) by VECTSP_4:26;
L953: D133 in ( R9 Subspaces_of R11 ) by L952 , L922;
thus L954: thesis by L953 , L951;
end;
