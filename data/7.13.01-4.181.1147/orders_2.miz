:: Kuratowski - Zorn Lemma
::  by Wojciech A. Trybulec and Grzegorz Bancerek
::
:: Received September 19, 1989
:: Copyright (c) 1990-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies STRUCT_0, RELAT_1, XBOOLE_0, PARTFUN1, RELAT_2, ORDERS_1,
      SUBSET_1, XXREAL_0, ARYTM_3, TREES_2, TARSKI, WELLORD1, FUNCT_1,
      ZFMISC_1, ORDERS_2, CARD_1;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, RELAT_1, RELAT_2, FUNCT_1,
      RELSET_1, PARTFUN1, CARD_1, WELLORD1, DOMAIN_1, STRUCT_0, ORDERS_1;
 constructors RELAT_2, WELLORD1, PARTFUN1, DOMAIN_1, ORDERS_1, PRE_TOPC,
      RELSET_1, SETFAM_1;
 registrations XBOOLE_0, SUBSET_1, RELSET_1, ORDERS_1, STRUCT_0, PARTFUN1,
      CARD_1, ORDINAL1, RELAT_2;
 requirements BOOLE, SUBSET, NUMERALS;
 definitions RELAT_1, RELAT_2, TARSKI, WELLORD1, STRUCT_0, XBOOLE_0, ORDERS_1;
 theorems RELAT_1, RELAT_2, TARSKI, WELLORD1, ZFMISC_1, XBOOLE_0, XBOOLE_1,
      PARTFUN1, ORDERS_1, XTUPLE_0;
 schemes XBOOLE_0;

begin
definition
struct (1-sorted) RelStr(# carrier -> set , InternalRel -> (Relation of the carrier) #);
end;
registration
let C1 being non  empty set;
let C2 being (Relation of C1);
cluster RelStr (# C1 , C2 #) -> non  empty;
coherence;
end;
definition
let C3 being RelStr;
attr C3 is  total
means
:L3: (the InternalRel of C3) is  total;
attr C3 is  reflexive
means
:L4: (the InternalRel of C3) is_reflexive_in (the carrier of C3);
attr C3 is  transitive
means
:L5: (the InternalRel of C3) is_transitive_in (the carrier of C3);
attr C3 is  antisymmetric
means
:L6: (the InternalRel of C3) is_antisymmetric_in (the carrier of C3);
end;
registration
cluster  reflexive  transitive  antisymmetric  strict  total 1 -element for RelStr;
existence
proof
set D1 = the (Order of { ( {} ) });
take D2 = RelStr (# { ( {} ) } , D1 #);
L8: ( field D1 ) = (the carrier of D2) by ORDERS_1:12;
thus L9: (the InternalRel of D2) is_reflexive_in (the carrier of D2) by L8 , RELAT_2:def 9;
thus L10: (the InternalRel of D2) is_transitive_in (the carrier of D2) by L8 , RELAT_2:def 16;
thus L11: (the InternalRel of D2) is_antisymmetric_in (the carrier of D2) by L8 , RELAT_2:def 12;
thus L12: D2 is  strict;
thus L13: (the InternalRel of D2) is  total;
thus L14: (the carrier of D2) is 1 -element;
end;
end;
registration
cluster  reflexive ->  total for RelStr;
coherence
proof
let C4 being RelStr;
assume L16: C4 is  reflexive;
L17: (the InternalRel of C4) is_reflexive_in (the carrier of C4) by L16 , L4;
L18: ( dom (the InternalRel of C4) ) = (the carrier of C4) by L17 , ORDERS_1:13;
thus L19: (the InternalRel of C4) is  total by L18 , PARTFUN1:def 2;
end;
end;
definition
mode Poset
 is  reflexive  transitive  antisymmetric RelStr;
end;
registration
let C5 being  total RelStr;
cluster (the InternalRel of C5) ->  total;
coherence by L3;
end;
registration
let C6 being  reflexive RelStr;
cluster (the InternalRel of C6) ->  reflexive;
coherence
proof
set D3 = (the InternalRel of C6);
L23: D3 is_reflexive_in (the carrier of C6) by L4;
L24: ( field D3 ) = (the carrier of C6) by L23 , ORDERS_1:13;
L25: (the InternalRel of C6) is_reflexive_in (the carrier of C6) by L4;
thus L26: thesis by L25 , L24 , RELAT_2:def 9;
end;
end;
registration
let C7 being  total  antisymmetric RelStr;
cluster (the InternalRel of C7) ->  antisymmetric;
coherence
proof
set D4 = (the InternalRel of C7);
L28: (( field D4 ) = (the carrier of C7) & (the InternalRel of C7) is_antisymmetric_in (the carrier of C7)) by L6 , ORDERS_1:12;
thus L29: thesis by L28 , RELAT_2:def 12;
end;
end;
registration
let C8 being  total  transitive RelStr;
cluster (the InternalRel of C8) ->  transitive;
coherence
proof
set D5 = (the InternalRel of C8);
L31: (( field D5 ) = (the carrier of C8) & (the InternalRel of C8) is_transitive_in (the carrier of C8)) by L5 , ORDERS_1:12;
thus L32: thesis by L31 , RELAT_2:def 16;
end;
end;
registration
let C9 being set;
let C10 being  total  reflexive (Relation of C9);
cluster RelStr (# C9 , C10 #) ->  reflexive;
coherence
proof
set D6 = RelStr (# C9 , C10 #);
L34: ( field C10 ) = C9 by ORDERS_1:12;
thus L35: (the InternalRel of D6) is_reflexive_in (the carrier of D6) by L34 , RELAT_2:def 9;
end;
end;
registration
let C11 being set;
let C12 being  total  transitive (Relation of C11);
cluster RelStr (# C11 , C12 #) ->  transitive;
coherence
proof
set D7 = RelStr (# C11 , C12 #);
L37: ( field C12 ) = C11 by ORDERS_1:12;
thus L38: (the InternalRel of D7) is_transitive_in (the carrier of D7) by L37 , RELAT_2:def 16;
end;
end;
registration
let C13 being set;
let C14 being  total  antisymmetric (Relation of C13);
cluster RelStr (# C13 , C14 #) ->  antisymmetric;
coherence
proof
set D8 = RelStr (# C13 , C14 #);
L40: ( field C14 ) = C13 by ORDERS_1:12;
thus L41: (the InternalRel of D8) is_antisymmetric_in (the carrier of D8) by L40 , RELAT_2:def 12;
end;
end;
L43: (for R3 being set holds (for R5 being non  empty Poset holds (for R12 being (Subset of R5) holds (R3 in R12 implies R3 is (Element of R5)))));
definition
let C15 being RelStr;
let C16 , C17 being (Element of C15);
pred C16 <= C17
means
:L44: [ C16 , C17 ] in (the InternalRel of C15)
;end;
notation
let C18 being RelStr;
let C19 , C20 being (Element of C18);
synonym C20 >= C19 for C19 <= C20;
end;
definition
let C21 being RelStr;
let C22 , C23 being (Element of C21);
pred C22 < C23
means
:L47: (C22 <= C23 & C22 <> C23)
;irreflexivity
;
end;
notation
let C24 being RelStr;
let C25 , C26 being (Element of C24);
synonym C26 > C25 for C25 < C26;
end;
theorem
L50: (for B1 being  reflexive non  empty RelStr holds (for B2 being (Element of B1) holds B2 <= B2))
proof
let C27 being  reflexive non  empty RelStr;
let C28 being (Element of C27);
L51: (the InternalRel of C27) is_reflexive_in (the carrier of C27) by L4;
L52: [ C28 , C28 ] in (the InternalRel of C27) by L51 , RELAT_2:def 1;
thus L53: thesis by L52 , L44;
end;
definition
let C29 being  reflexive non  empty RelStr;
let C30 , C31 being (Element of C29);
redefine pred C30 <= C31
;
reflexivity
 by L50;
end;
theorem
L55: (for B3 being  antisymmetric RelStr holds (for B4 , B5 being (Element of B3) holds ((B4 <= B5 & B5 <= B4) implies B4 = B5)))
proof
let C32 being  antisymmetric RelStr;
let C33 , C34 being (Element of C32);
assume that
L56: [ C33 , C34 ] in (the InternalRel of C32)
and
L57: [ C34 , C33 ] in (the InternalRel of C32);
L58: (the InternalRel of C32) is_antisymmetric_in (the carrier of C32) by L6;
L59: C33 in (the carrier of C32) by L56 , ZFMISC_1:87;
thus L60: thesis by L59 , L56 , L57 , L58 , RELAT_2:def 4;
end;
theorem
L61: (for B6 being  transitive RelStr holds (for B7 , B8 , B9 being (Element of B6) holds ((B7 <= B8 & B8 <= B9) implies B7 <= B9)))
proof
let C35 being  transitive RelStr;
let C36 , C37 , C38 being (Element of C35);
assume that
L62: [ C36 , C37 ] in (the InternalRel of C35)
and
L63: [ C37 , C38 ] in (the InternalRel of C35);
L64: (the InternalRel of C35) is_transitive_in (the carrier of C35) by L5;
L65: C36 in (the carrier of C35) by L62 , ZFMISC_1:87;
thus L66: [ C36 , C38 ] in (the InternalRel of C35) by L65 , L62 , L63 , L64 , RELAT_2:def 8;
end;
theorem
L67: (for B10 being  antisymmetric RelStr holds (for B11 , B12 being (Element of B10) holds (not (B11 < B12 & B12 < B11))))
proof
let C39 being  antisymmetric RelStr;
let C40 , C41 being (Element of C39);
assume that
L68: C40 < C41
and
L69: C41 < C40;
L70: (C40 <= C41 & C41 <= C40) by L68 , L69 , L47;
thus L71: thesis by L70 , L68 , L55;
end;
theorem
L72: (for B13 being  transitive  antisymmetric RelStr holds (for B14 , B15 , B16 being (Element of B13) holds ((B14 < B15 & B15 < B16) implies B14 < B16)))
proof
let C42 being  transitive  antisymmetric RelStr;
let C43 , C44 , C45 being (Element of C42);
assume L73: (C43 < C44 & C44 < C45);
L74: (C43 <= C44 & C44 <= C45) by L73 , L47;
thus L75: C43 <= C45 by L74 , L61;
thus L76: thesis by L73 , L67;
end;
theorem
L77: (for B17 being  antisymmetric RelStr holds (for B18 , B19 being (Element of B17) holds (B18 <= B19 implies (not B19 < B18))))
proof
let C46 being  antisymmetric RelStr;
let C47 , C48 being (Element of C46);
assume that
L78: C47 <= C48
and
L79: C48 < C47;
L80: C48 <= C47 by L79 , L47;
thus L81: thesis by L80 , L78 , L79 , L55;
end;
theorem
L82: (for B20 being  transitive  antisymmetric RelStr holds (for B21 , B22 , B23 being (Element of B20) holds (((B21 < B22 & B22 <= B23) or (B21 <= B22 & B22 < B23)) implies B21 < B23)))
proof
let C49 being  transitive  antisymmetric RelStr;
let C50 , C51 , C52 being (Element of C49);
L83:
now
assume that
L84: C50 < C51
and
L85: C51 <= C52;
L86: C50 <= C51 by L84 , L47;
L87: (C50 <= C52 & C50 <> C52) by L86 , L84 , L85 , L55 , L61;
thus L88: thesis by L87 , L47;
end;
L89:
now
assume that
L90: C50 <= C51
and
L91: C51 < C52;
L92: C51 <= C52 by L91 , L47;
L93: (C50 <= C52 & C50 <> C52) by L92 , L90 , L91 , L55 , L61;
thus L94: thesis by L93 , L47;
end;
assume L95: ((C50 < C51 & C51 <= C52) or (C50 <= C51 & C51 < C52));
thus L96: thesis by L95 , L83 , L89;
end;
definition
let C53 being RelStr;
let C54 being (Subset of C53);
attr C54 is  strongly_connected
means
:L97: (the InternalRel of C53) is_strongly_connected_in C54;
end;
registration
let C55 being RelStr;
cluster  empty ->  strongly_connected for (Subset of C55);
coherence
proof
let C56 being (Subset of C55);
assume L99: C56 is  empty;
L100: C56 = ( {} C55 ) by L99;
let C57 , C58 being set;
thus L101: thesis by L100;
end;
end;
registration
let C59 being RelStr;
cluster  strongly_connected for (Subset of C59);
existence
proof
take ( {} C59 );
thus L103: thesis;
end;
end;
definition
let C60 being RelStr;
mode Chain of C60
 is  strongly_connected (Subset of C60);
end;
theorem
L106: (for B24 being non  empty  reflexive RelStr holds (for B25 being (Element of B24) holds { B25 } is (Chain of B24)))
proof
let C61 being non  empty  reflexive RelStr;
let C62 being (Element of C61);
L107: (the InternalRel of C61) is_reflexive_in (the carrier of C61) by L4;
L108: { C62 } is  strongly_connected
proof
let C63 , C64 being set;
assume L109: (C63 in { C62 } & C64 in { C62 });
L110: (C63 = C62 & C64 = C62) by L109 , TARSKI:def 1;
thus L111: thesis by L110 , L107 , RELAT_2:def 1;
end;
thus L112: thesis by L108;
end;
theorem
L113: (for B26 being non  empty  reflexive RelStr holds (for B27 , B28 being (Element of B26) holds ({ B27 , B28 } is (Chain of B26) iff (B27 <= B28 or B28 <= B27))))
proof
let C65 being non  empty  reflexive RelStr;
let C66 , C67 being (Element of C65);
L114: C67 <= C67;
thus L115: ({ C66 , C67 } is (Chain of C65) implies (C66 <= C67 or C67 <= C66))
proof
assume L116: { C66 , C67 } is (Chain of C65);
L117: (the InternalRel of C65) is_strongly_connected_in { C66 , C67 } by L116 , L97;
L118: (C66 in { C66 , C67 } & C67 in { C66 , C67 }) by TARSKI:def 2;
L119: ([ C66 , C67 ] in (the InternalRel of C65) or [ C67 , C66 ] in (the InternalRel of C65)) by L118 , L117 , RELAT_2:def 7;
thus L120: thesis by L119 , L44;
end;

assume L121: (C66 <= C67 or C67 <= C66);
L122: C66 <= C66;
L123: { C66 , C67 } is  strongly_connected
proof
let R3 being set;
let R4 being set;
assume L124: (R3 in { C66 , C67 } & R4 in { C66 , C67 });
L125:
now
per cases  by L124 , TARSKI:def 2;
suppose L126: (R3 = C66 & R4 = C66);

thus L127: thesis by L126 , L122 , L44;
end;
suppose L128: (R3 = C66 & R4 = C67);

thus L129: thesis by L128 , L121 , L44;
end;
suppose L130: (R3 = C67 & R4 = C66);

thus L131: thesis by L130 , L121 , L44;
end;
suppose L132: (R3 = C67 & R4 = C67);

thus L133: thesis by L132 , L114 , L44;
end;
end;
thus L135: thesis by L125;
end;
thus L136: thesis by L123;
end;
theorem
L137: (for B29 being RelStr holds (for B30 being (Chain of B29) holds (for B31 being (Subset of B29) holds (B31 c= B30 implies B31 is (Chain of B29)))))
proof
let C68 being RelStr;
let C69 being (Chain of C68);
let C70 being (Subset of C68);
assume L138: C70 c= C69;
L139: (the InternalRel of C68) is_strongly_connected_in C69 by L97;
L140: (the InternalRel of C68) is_strongly_connected_in C70 by L139 , L138 , ORDERS_1:11;
thus L141: thesis by L140 , L97;
end;
theorem
L142: (for B32 being  reflexive RelStr holds (for B33 , B34 being (Element of B32) holds ((ex B35 being (Chain of B32) st (B33 in B35 & B34 in B35)) iff (B33 <= B34 or B34 <= B33))))
proof
let C71 being  reflexive RelStr;
let C72 , C73 being (Element of C71);
thus L143: ((ex B36 being (Chain of C71) st (C72 in B36 & C73 in B36)) implies (C72 <= C73 or C73 <= C72))
proof
given C74 being (Chain of C71) such that
L144: (C72 in C74 & C73 in C74);

L145: (the InternalRel of C71) is_strongly_connected_in C74 by L97;
L146: ([ C72 , C73 ] in (the InternalRel of C71) or [ C73 , C72 ] in (the InternalRel of C71)) by L145 , L144 , RELAT_2:def 7;
thus L147: thesis by L146 , L44;
end;

assume L148: (C72 <= C73 or C73 <= C72);
L149: ([ C72 , C73 ] in (the InternalRel of C71) or [ C73 , C72 ] in (the InternalRel of C71)) by L148 , L44;
reconsider D9 = C71 as non  empty  reflexive RelStr by L149;
reconsider D10 = C72 , D11 = C73 as (Element of D9);
reconsider D12 = { D10 , D11 } as (Chain of C71) by L148 , L113;
take D12;
thus L150: thesis by TARSKI:def 2;
end;
theorem
L151: (for B37 being  reflexive  antisymmetric RelStr holds (for B38 , B39 being (Element of B37) holds ((ex B40 being (Chain of B37) st (B38 in B40 & B39 in B40)) iff (B38 < B39 iff (not B39 <= B38)))))
proof
let C75 being  reflexive  antisymmetric RelStr;
let C76 , C77 being (Element of C75);
thus L152: ((ex B41 being (Chain of C75) st (C76 in B41 & C77 in B41)) implies (C76 < C77 iff (not C77 <= C76)))
proof
given C78 being (Chain of C75) such that
L153: (C76 in C78 & C77 in C78);

thus L154: (C76 < C77 implies (not C77 <= C76)) by L77;
assume that
L155: (not C77 <= C76)
and
L156: (not C76 < C77);
L157: ((not C76 <= C77) or C76 = C77) by L156 , L47;
thus L158: thesis by L157 , L153 , L155 , L142;
end;

assume L159: (C76 < C77 iff (not C77 <= C76));
L160: (C76 <= C77 or C77 <= C76) by L159 , L47;
thus L161: thesis by L160 , L142;
end;
theorem
L162: (for B42 being RelStr holds (for B43 being (Subset of B42) holds ((the InternalRel of B42) well_orders B43 implies B43 is (Chain of B42))))
proof
let C79 being RelStr;
let C80 being (Subset of C79);
assume L163: (the InternalRel of C79) well_orders C80;
L164: ((the InternalRel of C79) is_connected_in C80 & (the InternalRel of C79) is_reflexive_in C80) by L163 , WELLORD1:def 5;
L165: (the InternalRel of C79) is_strongly_connected_in C80 by L164 , ORDERS_1:7;
thus L166: thesis by L165 , L97;
end;
definition
let R5 being non  empty Poset;
let R12 being (Subset of R5);
func UpperCone R12 -> (Subset of R5) equals 
{ R7 where R7 is (Element of R5) : (for R8 being (Element of R5) holds (R8 in R12 implies R8 < R7)) };
coherence
proof
set D13 = { R7 where R7 is (Element of R5) : (for R8 being (Element of R5) holds (R8 in R12 implies R8 < R7)) };
L167: D13 c= (the carrier of R5)
proof
let R3 being set;
assume L168: R3 in D13;
L169: (ex R7 being (Element of R5) st (R3 = R7 & (for R8 being (Element of R5) holds (R8 in R12 implies R8 < R7)))) by L168;
thus L170: thesis by L169;
end;
thus L171: thesis by L167;
end;
end;
definition
let R5 being non  empty Poset;
let R12 being (Subset of R5);
func LowerCone R12 -> (Subset of R5) equals 
{ R7 where R7 is (Element of R5) : (for R8 being (Element of R5) holds (R8 in R12 implies R7 < R8)) };
coherence
proof
set D14 = { R7 where R7 is (Element of R5) : (for R8 being (Element of R5) holds (R8 in R12 implies R7 < R8)) };
L173: D14 c= (the carrier of R5)
proof
let R3 being set;
assume L174: R3 in D14;
L175: (ex R7 being (Element of R5) st (R3 = R7 & (for R8 being (Element of R5) holds (R8 in R12 implies R7 < R8)))) by L174;
thus L176: thesis by L175;
end;
thus L177: thesis by L173;
end;
end;
theorem
L179: (for R5 being non  empty Poset holds ( UpperCone ( {} R5 ) ) = (the carrier of R5))
proof
let R5 being non  empty Poset;
thus L180: ( UpperCone ( {} R5 ) ) c= (the carrier of R5);
let R3 being set;
assume L181: R3 in (the carrier of R5);
reconsider D15 = R3 as (Element of R5) by L181;
L182: (for R8 being (Element of R5) holds (R8 in ( {} R5 ) implies R8 < D15));
thus L183: thesis by L182;
end;
theorem
L184: (for R5 being non  empty Poset holds ( UpperCone ( [#] R5 ) ) = ( {} ))
proof
let R5 being non  empty Poset;
thus L185: ( UpperCone ( [#] R5 ) ) c= ( {} )
proof
let R3 being set;
assume L186: R3 in ( UpperCone ( [#] R5 ) );
L187: (ex R6 being (Element of R5) st (R3 = R6 & (for R8 being (Element of R5) holds (R8 in ( [#] R5 ) implies R8 < R6)))) by L186;
thus L188: thesis by L187;
end;

thus L189: thesis by XBOOLE_1:2;
end;
theorem
L190: (for R5 being non  empty Poset holds ( LowerCone ( {} R5 ) ) = (the carrier of R5))
proof
let R5 being non  empty Poset;
thus L191: ( LowerCone ( {} R5 ) ) c= (the carrier of R5);
let R3 being set;
assume L192: R3 in (the carrier of R5);
reconsider D16 = R3 as (Element of R5) by L192;
L193: (for R8 being (Element of R5) holds (R8 in ( {} R5 ) implies D16 < R8));
thus L194: thesis by L193;
end;
theorem
L195: (for R5 being non  empty Poset holds ( LowerCone ( [#] R5 ) ) = ( {} ))
proof
let R5 being non  empty Poset;
thus L196: ( LowerCone ( [#] R5 ) ) c= ( {} )
proof
let R3 being set;
assume L197: R3 in ( LowerCone ( [#] R5 ) );
L198: (ex R6 being (Element of R5) st (R3 = R6 & (for R8 being (Element of R5) holds (R8 in ( [#] R5 ) implies R6 < R8)))) by L197;
thus L199: thesis by L198;
end;

thus L200: thesis by XBOOLE_1:2;
end;
theorem
L201: (for R5 being non  empty Poset holds (for R6 being (Element of R5) holds (for R12 being (Subset of R5) holds (R6 in R12 implies (not R6 in ( UpperCone R12 ))))))
proof
let R5 being non  empty Poset;
let R6 being (Element of R5);
let R12 being (Subset of R5);
assume that
L202: R6 in R12
and
L203: R6 in ( UpperCone R12 );
L204: (ex R7 being (Element of R5) st (R7 = R6 & (for R8 being (Element of R5) holds (R8 in R12 implies R8 < R7)))) by L203;
thus L205: thesis by L204 , L202;
end;
theorem
L206: (for R5 being non  empty Poset holds (for R6 being (Element of R5) holds (not R6 in ( UpperCone { R6 } ))))
proof
let R5 being non  empty Poset;
let R6 being (Element of R5);
L207: R6 in { R6 } by TARSKI:def 1;
thus L208: thesis by L207 , L201;
end;
theorem
L209: (for R5 being non  empty Poset holds (for R6 being (Element of R5) holds (for R12 being (Subset of R5) holds (R6 in R12 implies (not R6 in ( LowerCone R12 ))))))
proof
let R5 being non  empty Poset;
let R6 being (Element of R5);
let R12 being (Subset of R5);
assume that
L210: R6 in R12
and
L211: R6 in ( LowerCone R12 );
L212: (ex R7 being (Element of R5) st (R7 = R6 & (for R8 being (Element of R5) holds (R8 in R12 implies R7 < R8)))) by L211;
thus L213: thesis by L212 , L210;
end;
theorem
L214: (for R5 being non  empty Poset holds (for R6 being (Element of R5) holds (not R6 in ( LowerCone { R6 } ))))
proof
let R5 being non  empty Poset;
let R6 being (Element of R5);
L215: R6 in { R6 } by TARSKI:def 1;
thus L216: thesis by L215 , L209;
end;
theorem
L217: (for R5 being non  empty Poset holds (for R6 being (Element of R5) holds (for R11 being (Element of R5) holds (R11 < R6 iff R6 in ( UpperCone { R11 } )))))
proof
let R5 being non  empty Poset;
let R6 being (Element of R5);
let R11 being (Element of R5);
thus L218: (R11 < R6 implies R6 in ( UpperCone { R11 } ))
proof
assume L219: R11 < R6;
L220: (for R10 being (Element of R5) holds (R10 in { R11 } implies R10 < R6)) by L219 , TARSKI:def 1;
thus L221: thesis by L220;
end;

assume L222: R6 in ( UpperCone { R11 } );
L223: (ex R7 being (Element of R5) st (R7 = R6 & (for R8 being (Element of R5) holds (R8 in { R11 } implies R8 < R7)))) by L222;
L224: R11 in { R11 } by TARSKI:def 1;
thus L225: thesis by L224 , L223;
end;
theorem
L226: (for R5 being non  empty Poset holds (for R6 being (Element of R5) holds (for R11 being (Element of R5) holds (R6 < R11 iff R6 in ( LowerCone { R11 } )))))
proof
let R5 being non  empty Poset;
let R6 being (Element of R5);
let R11 being (Element of R5);
thus L227: (R6 < R11 implies R6 in ( LowerCone { R11 } ))
proof
assume L228: R6 < R11;
L229: (for R10 being (Element of R5) holds (R10 in { R11 } implies R6 < R10)) by L228 , TARSKI:def 1;
thus L230: thesis by L229;
end;

assume L231: R6 in ( LowerCone { R11 } );
L232: (ex R7 being (Element of R5) st (R7 = R6 & (for R8 being (Element of R5) holds (R8 in { R11 } implies R7 < R8)))) by L231;
L233: R11 in { R11 } by TARSKI:def 1;
thus L234: thesis by L233 , L232;
end;
definition
let R5 being non  empty Poset;
let R12 being (Subset of R5);
let R6 being (Element of R5);
func InitSegm (R12 , R6) -> (Subset of R5) equals 
( ( LowerCone { R6 } ) /\ R12 );
correctness;
end;
definition
let R5 being non  empty Poset;
let R12 being (Subset of R5);
mode Initial_Segm of R12
 -> (Subset of R5)
means :L236: (ex R6 being (Element of R5) st (R6 in R12 & it = ( InitSegm (R12 , R6) ))) if R12 <> ( {} ) otherwise it = ( {} );
existence
proof
L237:
now
set D17 = the (Element of R12);
assume L238: R12 <> ( {} );
reconsider D18 = D17 as (Element of R5) by L238 , L43;
take D19 = ( InitSegm (R12 , D18) );
thus L239: (R12 <> ( {} ) implies (ex R6 being (Element of R5) st (R6 in R12 & D19 = ( InitSegm (R12 , R6) ))));
thus L240: (R12 = ( {} ) implies D19 = ( {} ));
end;
thus L241: thesis by L237;
end;
consistency;
end;
theorem
L243: (for R5 being non  empty Poset holds (for R6 being (Element of R5) holds (for R10 being (Element of R5) holds (for R12 being (Subset of R5) holds (R6 in ( InitSegm (R12 , R10) ) iff (R6 < R10 & R6 in R12))))))
proof
let R5 being non  empty Poset;
let R6 being (Element of R5);
let R10 being (Element of R5);
let R12 being (Subset of R5);
L244: (R6 in ( InitSegm (R12 , R10) ) iff (R6 in ( LowerCone { R10 } ) & R6 in R12)) by XBOOLE_0:def 4;
thus L245: thesis by L244 , L226;
end;
theorem
L246: (for R5 being non  empty Poset holds (for R6 being (Element of R5) holds ( InitSegm (( {} R5 ) , R6) ) = ( {} )));
theorem
L247: (for R5 being non  empty Poset holds (for R6 being (Element of R5) holds (for R12 being (Subset of R5) holds (not R6 in ( InitSegm (R12 , R6) )))))
proof
let R5 being non  empty Poset;
let R6 being (Element of R5);
let R12 being (Subset of R5);
assume L248: (not thesis);
L249: R6 in ( LowerCone { R6 } ) by L248 , XBOOLE_0:def 4;
L250: (ex R7 being (Element of R5) st (R6 = R7 & (for R8 being (Element of R5) holds (R8 in { R6 } implies R7 < R8)))) by L249;
L251: R6 in { R6 } by TARSKI:def 1;
thus L252: thesis by L251 , L250;
end;
theorem
L253: (for R5 being non  empty Poset holds (for R7 being (Element of R5) holds (for R8 being (Element of R5) holds (for R12 being (Subset of R5) holds (R7 < R8 implies ( InitSegm (R12 , R7) ) c= ( InitSegm (R12 , R8) ))))))
proof
let R5 being non  empty Poset;
let R7 being (Element of R5);
let R8 being (Element of R5);
let R12 being (Subset of R5);
assume L254: R7 < R8;
let R3 being set;
assume L255: R3 in ( InitSegm (R12 , R7) );
L256: R3 in ( LowerCone { R7 } ) by L255 , XBOOLE_0:def 4;
consider R6 being (Element of R5) such that L257: R6 = R3 and L258: (for R10 being (Element of R5) holds (R10 in { R7 } implies R6 < R10)) by L256;
L259: R7 in { R7 } by TARSKI:def 1;
L260: R6 < R7 by L259 , L258;
L261: R6 < R8 by L260 , L254 , L72;
L262: (for R10 being (Element of R5) holds (R10 in { R8 } implies R6 < R10)) by L261 , TARSKI:def 1;
L263: R3 in ( LowerCone { R8 } ) by L262 , L257;
L264: R3 in R12 by L255 , XBOOLE_0:def 4;
thus L265: thesis by L264 , L263 , XBOOLE_0:def 4;
end;
theorem
L266: (for R5 being non  empty Poset holds (for R6 being (Element of R5) holds (for R12 being (Subset of R5) holds (for R13 being (Subset of R5) holds (R12 c= R13 implies ( InitSegm (R12 , R6) ) c= ( InitSegm (R13 , R6) ))))))
proof
let R5 being non  empty Poset;
let R6 being (Element of R5);
let R12 being (Subset of R5);
let R13 being (Subset of R5);
assume L267: R12 c= R13;
let R3 being set;
assume L268: R3 in ( InitSegm (R12 , R6) );
L269: (R3 in R12 & R3 in ( LowerCone { R6 } )) by L268 , XBOOLE_0:def 4;
thus L270: thesis by L269 , L267 , XBOOLE_0:def 4;
end;
theorem
L271: (for R5 being non  empty Poset holds (for R12 being (Subset of R5) holds (for B44 being (Initial_Segm of R12) holds B44 c= R12)))
proof
let R5 being non  empty Poset;
let R12 being (Subset of R5);
let C81 being (Initial_Segm of R12);
per cases ;
suppose L272: R12 = ( {} );

thus L273: thesis by L272 , L236;
end;
suppose L274: R12 <> ( {} );

L275: (ex R6 being (Element of R5) st (R6 in R12 & C81 = ( InitSegm (R12 , R6) ))) by L274 , L236;
thus L276: thesis by L275 , XBOOLE_1:17;
end;
end;
theorem
L278: (for R5 being non  empty Poset holds (for R12 being (Subset of R5) holds (R12 <> ( {} ) iff (not R12 is (Initial_Segm of R12)))))
proof
let R5 being non  empty Poset;
let R12 being (Subset of R5);
thus L279: (R12 <> ( {} ) implies (not R12 is (Initial_Segm of R12)))
proof
assume L280: (R12 <> ( {} ) & R12 is (Initial_Segm of R12));
consider R6 being (Element of R5) such that L281: (R6 in R12 & R12 = ( InitSegm (R12 , R6) )) by L280 , L236;
L282: R6 in ( LowerCone { R6 } ) by L281 , XBOOLE_0:def 4;
thus L283: thesis by L282 , L214;
end;

thus L284: thesis by L236;
end;
theorem
L285: (for R5 being non  empty Poset holds (for R12 being (Subset of R5) holds (for R13 being (Subset of R5) holds ((R12 <> ( {} ) & R12 is (Initial_Segm of R13)) implies (not R13 is (Initial_Segm of R12))))))
proof
let R5 being non  empty Poset;
let R12 being (Subset of R5);
let R13 being (Subset of R5);
assume that
L286: R12 <> ( {} )
and
L287: R12 is (Initial_Segm of R13)
and
L288: R13 is (Initial_Segm of R12);
L289:
now
per cases ;
suppose L290: R12 = ( {} );

thus L291: thesis by L290 , L286;
end;
suppose L292: R13 = ( {} );

thus L293: thesis by L292 , L286 , L287 , L236;
end;
suppose L294: (R12 <> ( {} ) & R13 <> ( {} ));

consider R8 being (Element of R5) such that L295: R8 in R13 and L296: R12 = ( InitSegm (R13 , R8) ) by L294 , L287 , L236;
consider R7 being (Element of R5) such that L297: R7 in R12 and L298: R13 = ( InitSegm (R12 , R7) ) by L288 , L294 , L236;
L299: R7 in ( LowerCone { R8 } ) by L297 , L296 , XBOOLE_0:def 4;
L300: (ex R6 being (Element of R5) st (R6 = R7 & (for R10 being (Element of R5) holds (R10 in { R8 } implies R6 < R10)))) by L299;
L301: R8 in ( LowerCone { R7 } ) by L298 , L295 , XBOOLE_0:def 4;
L302: (ex R9 being (Element of R5) st (R9 = R8 & (for R10 being (Element of R5) holds (R10 in { R7 } implies R9 < R10)))) by L301;
L303: R7 in { R7 } by TARSKI:def 1;
L304: R8 < R7 by L303 , L302;
L305: R8 in { R8 } by TARSKI:def 1;
L306: R7 < R8 by L305 , L300;
thus L307: thesis by L306 , L304 , L67;
end;
end;
thus L309: thesis by L289;
end;
theorem
L310: (for R5 being non  empty Poset holds (for R7 being (Element of R5) holds (for R8 being (Element of R5) holds (for R12 being (Subset of R5) holds (for R13 being (Subset of R5) holds ((R7 < R8 & R7 in R12 & R8 in R13 & R13 is (Initial_Segm of R12)) implies R7 in R13))))))
proof
let R5 being non  empty Poset;
let R7 being (Element of R5);
let R8 being (Element of R5);
let R12 being (Subset of R5);
let R13 being (Subset of R5);
assume that
L311: R7 < R8
and
L312: R7 in R12
and
L313: R8 in R13
and
L314: R13 is (Initial_Segm of R12);
consider R6 being (Element of R5) such that L315: R6 in R12 and L316: R13 = ( InitSegm (R12 , R6) ) by L312 , L314 , L236;
L317:
now
let R10 being (Element of R5);
assume L318: R10 in { R6 };
L319: R10 = R6 by L318 , TARSKI:def 1;
L320: R8 in ( LowerCone { R6 } ) by L313 , L316 , XBOOLE_0:def 4;
L321: (ex R9 being (Element of R5) st (R9 = R8 & (for R11 being (Element of R5) holds (R11 in { R6 } implies R9 < R11)))) by L320;
L322: R6 in { R6 } by TARSKI:def 1;
L323: R8 < R6 by L322 , L321;
thus L324: R7 < R10 by L323 , L311 , L319 , L72;
end;
L325: R7 in ( LowerCone { R6 } ) by L317;
thus L326: thesis by L325 , L312 , L316 , XBOOLE_0:def 4;
end;
theorem
L327: (for R5 being non  empty Poset holds (for R6 being (Element of R5) holds (for R12 being (Subset of R5) holds (for R13 being (Subset of R5) holds ((R6 in R12 & R12 is (Initial_Segm of R13)) implies ( InitSegm (R12 , R6) ) = ( InitSegm (R13 , R6) ))))))
proof
let R5 being non  empty Poset;
let R6 being (Element of R5);
let R12 being (Subset of R5);
let R13 being (Subset of R5);
assume that
L328: R6 in R12
and
L329: R12 is (Initial_Segm of R13);
L330: R12 c= R13 by L329 , L271;
thus L331: ( InitSegm (R12 , R6) ) c= ( InitSegm (R13 , R6) )
proof
let R3 being set;
assume L332: R3 in ( InitSegm (R12 , R6) );
L333: (R3 in ( LowerCone { R6 } ) & R3 in R12) by L332 , XBOOLE_0:def 4;
thus L334: thesis by L333 , L330 , XBOOLE_0:def 4;
end;

let R3 being set;
assume L335: R3 in ( InitSegm (R13 , R6) );
L336: R3 in ( LowerCone { R6 } ) by L335 , XBOOLE_0:def 4;
consider R7 being (Element of R5) such that L337: R3 = R7 and L338: (for R8 being (Element of R5) holds (R8 in { R6 } implies R7 < R8)) by L336;
L339: R7 in R13 by L335 , L337 , XBOOLE_0:def 4;
L340: R6 in { R6 } by TARSKI:def 1;
L341: R7 < R6 by L340 , L338;
L342: R3 in R12 by L341 , L328 , L329 , L337 , L339 , L310;
thus L343: thesis by L342 , L336 , XBOOLE_0:def 4;
end;
theorem
L344: (for R5 being non  empty Poset holds (for R12 being (Subset of R5) holds (for R13 being (Subset of R5) holds ((R12 c= R13 & (the InternalRel of R5) well_orders R13 & (for R7 being (Element of R5) holds (for R8 being (Element of R5) holds ((R8 in R12 & R7 < R8) implies R7 in R12)))) implies (R12 = R13 or R12 is (Initial_Segm of R13))))))
proof
let R5 being non  empty Poset;
let R12 being (Subset of R5);
let R13 being (Subset of R5);
assume that
L345: R12 c= R13
and
L346: (the InternalRel of R5) well_orders R13
and
L347: (for R7 being (Element of R5) holds (for R8 being (Element of R5) holds ((R8 in R12 & R7 < R8) implies R7 in R12)))
and
L348: R12 <> R13;
per cases ;
case L349: R13 <> ( {} );
set D20 = ( R13 \ R12 );
L350: (not R13 c= R12) by L345 , L348 , XBOOLE_0:def 10;
L351: D20 <> ( {} ) by L350 , XBOOLE_1:37;
consider R3 being set such that L352: R3 in D20 and L353: (for R4 being set holds (R4 in D20 implies [ R3 , R4 ] in (the InternalRel of R5))) by L351 , L346 , WELLORD1:5 , XBOOLE_1:36;
reconsider D21 = R3 as (Element of R5) by L352;
take D21;
thus L354: D21 in R13 by L352 , XBOOLE_0:def 5;
L355: R12 = ( ( LowerCone { D21 } ) /\ R13 )
proof
thus L356: R12 c= ( ( LowerCone { D21 } ) /\ R13 )
proof
let R4 being set;
assume L357: R4 in R12;
reconsider D22 = R4 as (Element of R5) by L357;
L358:
now
let R7 being (Element of R5);
assume that
L359: R7 in { D21 }
and
L360: (not D22 < R7);
L361: R7 = D21 by L359 , TARSKI:def 1;
L362: R7 <> D22 by L361 , L352 , L357 , XBOOLE_0:def 5;
L363: R13 is (Chain of R5) by L346 , L162;
L364: R7 <= D22 by L363 , L345 , L354 , L357 , L360 , L361 , L151;
L365: R7 < D22 by L364 , L362 , L47;
L366: R7 in R12 by L365 , L347 , L357;
thus L367: contradiction by L366 , L352 , L361 , XBOOLE_0:def 5;
end;
L368: R4 in { R7 where R7 is (Element of R5) : (for R8 being (Element of R5) holds (R8 in { D21 } implies R7 < R8)) } by L358;
thus L369: thesis by L368 , L345 , L357 , XBOOLE_0:def 4;
end;

let R4 being set;
assume L370: R4 in ( ( LowerCone { D21 } ) /\ R13 );
L371: R4 in ( LowerCone { D21 } ) by L370 , XBOOLE_0:def 4;
consider R6 being (Element of R5) such that L372: R6 = R4 and L373: (for R8 being (Element of R5) holds (R8 in { D21 } implies R6 < R8)) by L371;
L374:
now
assume L375: R4 in D20;
L376: [ D21 , R4 ] in (the InternalRel of R5) by L375 , L353;
L377: D21 <= R6 by L376 , L372 , L44;
L378: D21 in { D21 } by TARSKI:def 1;
thus L379: contradiction by L378 , L373 , L377 , L77;
end;
L380: R4 in R13 by L370 , XBOOLE_0:def 4;
thus L381: thesis by L380 , L374 , XBOOLE_0:def 5;
end;
thus L382: thesis by L355;
end;
case L383: R13 = ( {} );
thus L384: thesis by L383 , L345;
end;
end;
theorem
L386: (for R5 being non  empty Poset holds (for R12 being (Subset of R5) holds (for R13 being (Subset of R5) holds ((R12 c= R13 & (the InternalRel of R5) well_orders R13 & (for R7 being (Element of R5) holds (for R8 being (Element of R5) holds ((R8 in R12 & R7 in R13 & R7 < R8) implies R7 in R12)))) implies (R12 = R13 or R12 is (Initial_Segm of R13))))))
proof
let R5 being non  empty Poset;
let R12 being (Subset of R5);
let R13 being (Subset of R5);
assume that
L387: R12 c= R13
and
L388: (the InternalRel of R5) well_orders R13
and
L389: (for R7 being (Element of R5) holds (for R8 being (Element of R5) holds ((R8 in R12 & R7 in R13 & R7 < R8) implies R7 in R12)))
and
L390: R12 <> R13;
per cases ;
case L391: R13 <> ( {} );
set D23 = ( R13 \ R12 );
L392: (not R13 c= R12) by L387 , L390 , XBOOLE_0:def 10;
L393: D23 <> ( {} ) by L392 , XBOOLE_1:37;
consider R3 being set such that L394: R3 in D23 and L395: (for R4 being set holds (R4 in D23 implies [ R3 , R4 ] in (the InternalRel of R5))) by L393 , L388 , WELLORD1:5 , XBOOLE_1:36;
reconsider D24 = R3 as (Element of R5) by L394;
take D24;
thus L396: D24 in R13 by L394 , XBOOLE_0:def 5;
L397: R12 = ( ( LowerCone { D24 } ) /\ R13 )
proof
thus L398: R12 c= ( ( LowerCone { D24 } ) /\ R13 )
proof
let R4 being set;
assume L399: R4 in R12;
reconsider D25 = R4 as (Element of R5) by L399;
L400:
now
let R7 being (Element of R5);
assume that
L401: R7 in { D24 }
and
L402: (not D25 < R7);
L403: R7 = D24 by L401 , TARSKI:def 1;
L404: R7 <> D25 by L403 , L394 , L399 , XBOOLE_0:def 5;
L405: R13 is (Chain of R5) by L388 , L162;
L406: R7 <= D25 by L405 , L387 , L396 , L399 , L402 , L403 , L151;
L407: R7 < D25 by L406 , L404 , L47;
L408: R7 in R12 by L407 , L389 , L396 , L399 , L403;
thus L409: contradiction by L408 , L394 , L403 , XBOOLE_0:def 5;
end;
L410: R4 in { R7 where R7 is (Element of R5) : (for R8 being (Element of R5) holds (R8 in { D24 } implies R7 < R8)) } by L400;
thus L411: thesis by L410 , L387 , L399 , XBOOLE_0:def 4;
end;

let R4 being set;
assume L412: R4 in ( ( LowerCone { D24 } ) /\ R13 );
L413: R4 in ( LowerCone { D24 } ) by L412 , XBOOLE_0:def 4;
consider R6 being (Element of R5) such that L414: R6 = R4 and L415: (for R8 being (Element of R5) holds (R8 in { D24 } implies R6 < R8)) by L413;
L416:
now
assume L417: R4 in D23;
L418: [ D24 , R4 ] in (the InternalRel of R5) by L417 , L395;
L419: D24 <= R6 by L418 , L414 , L44;
L420: D24 in { D24 } by TARSKI:def 1;
thus L421: contradiction by L420 , L415 , L419 , L77;
end;
L422: R4 in R13 by L412 , XBOOLE_0:def 4;
thus L423: thesis by L422 , L416 , XBOOLE_0:def 5;
end;
thus L424: thesis by L397;
end;
case L425: R13 = ( {} );
thus L426: thesis by L425 , L387;
end;
end;
definition
let R5 being non  empty Poset;
let R14 being (Choice_Function of ( BOOL (the carrier of R5) ));
mode Chain of R14
 -> (Chain of R5)
means :L428: (it <> ( {} ) & (the InternalRel of R5) well_orders it & (for R6 being (Element of R5) holds (R6 in it implies ( R14 . ( UpperCone ( InitSegm (it , R6) ) ) ) = R6)));
existence
proof
set D26 = (the carrier of R5);
L429: (D26 in ( BOOL D26 ) & (not ( {} ) in ( BOOL D26 ))) by ORDERS_1:1 , ORDERS_1:2;
reconsider D27 = ( R14 . D26 ) as (Element of R5) by L429 , ORDERS_1:def 1;
reconsider D28 = { D27 } as (Chain of R5) by L106;
take D28;
thus L430: D28 <> ( {} );
L431: (the InternalRel of R5) is_antisymmetric_in (the carrier of R5) by L6;
L432: ((the InternalRel of R5) is_reflexive_in (the carrier of R5) & (the InternalRel of R5) is_transitive_in (the carrier of R5)) by L4 , L5;
thus L433: ((the InternalRel of R5) is_reflexive_in D28 & (the InternalRel of R5) is_transitive_in D28 & (the InternalRel of R5) is_antisymmetric_in D28) by L432 , L431 , ORDERS_1:8 , ORDERS_1:9 , ORDERS_1:10;
L434: (the InternalRel of R5) is_strongly_connected_in D28 by L97;
thus L435: (the InternalRel of R5) is_connected_in D28 by L434 , ORDERS_1:7;
thus L436: (the InternalRel of R5) is_well_founded_in D28
proof
reconsider D29 = D27 as set;
let R2 being set;
assume that
L437: R2 c= D28
and
L438: R2 <> ( {} );
take D29;
L439: R2 = D28 by L437 , L438 , ZFMISC_1:33;
thus L440: D29 in R2 by L439 , TARSKI:def 1;
thus L441: ( ( (the InternalRel of R5) -Seg D29 ) /\ R2 ) c= ( {} )
proof
let R4 being set;
assume L442: R4 in ( ( (the InternalRel of R5) -Seg D29 ) /\ R2 );
L443: R4 in R2 by L442 , XBOOLE_0:def 4;
L444: R4 = D27 by L443 , L437 , TARSKI:def 1;
L445: R4 in ( (the InternalRel of R5) -Seg D29 ) by L442 , XBOOLE_0:def 4;
thus L446: thesis by L445 , L444 , WELLORD1:1;
end;

thus L447: thesis by XBOOLE_1:2;
end;

let R6 being (Element of R5);
assume L448: R6 in D28;
L449: R6 = D27 by L448 , TARSKI:def 1;
L450: ( ( LowerCone { R6 } ) /\ D28 ) c= ( {} R5 )
proof
let R3 being set;
assume L451: R3 in ( ( LowerCone { R6 } ) /\ D28 );
L452: R3 in ( LowerCone { R6 } ) by L451 , XBOOLE_0:def 4;
L453: (ex R7 being (Element of R5) st (R3 = R7 & (for R8 being (Element of R5) holds (R8 in { R6 } implies R7 < R8)))) by L452;
L454: R3 in D28 by L451 , XBOOLE_0:def 4;
thus L455: thesis by L454 , L449 , L453;
end;
L456: ( ( LowerCone { R6 } ) /\ D28 ) = ( {} R5 ) by L450;
thus L457: thesis by L456 , L449 , L179;
end;
end;
theorem
L459: (for R5 being non  empty Poset holds (for R14 being (Choice_Function of ( BOOL (the carrier of R5) )) holds { ( R14 . (the carrier of R5) ) } is (Chain of R14)))
proof
let R5 being non  empty Poset;
let R14 being (Choice_Function of ( BOOL (the carrier of R5) ));
set D30 = (the carrier of R5);
L460: (D30 in ( BOOL D30 ) & (not ( {} ) in ( BOOL D30 ))) by ORDERS_1:1 , ORDERS_1:2;
reconsider D31 = ( R14 . D30 ) as (Element of R5) by L460 , ORDERS_1:def 1;
reconsider D32 = { D31 } as (Chain of R5) by L106;
L461: (the InternalRel of R5) is_well_founded_in D32
proof
reconsider D33 = D31 as set;
let R2 being set;
assume that
L462: R2 c= D32
and
L463: R2 <> ( {} );
take D33;
L464: R2 = D32 by L462 , L463 , ZFMISC_1:33;
thus L465: D33 in R2 by L464 , TARSKI:def 1;
thus L466: ( ( (the InternalRel of R5) -Seg D33 ) /\ R2 ) c= ( {} )
proof
let R4 being set;
assume L467: R4 in ( ( (the InternalRel of R5) -Seg D33 ) /\ R2 );
L468: R4 in R2 by L467 , XBOOLE_0:def 4;
L469: R4 = D31 by L468 , L462 , TARSKI:def 1;
L470: R4 in ( (the InternalRel of R5) -Seg D33 ) by L467 , XBOOLE_0:def 4;
thus L471: thesis by L470 , L469 , WELLORD1:1;
end;

thus L472: thesis by XBOOLE_1:2;
end;
L473: (for R6 being (Element of R5) holds (R6 in D32 implies ( R14 . ( UpperCone ( InitSegm (D32 , R6) ) ) ) = R6))
proof
let R6 being (Element of R5);
assume L474: R6 in D32;
L475: R6 = D31 by L474 , TARSKI:def 1;
L476: ( ( LowerCone { R6 } ) /\ D32 ) c= ( {} R5 )
proof
let R3 being set;
assume L477: R3 in ( ( LowerCone { R6 } ) /\ D32 );
L478: R3 in ( LowerCone { R6 } ) by L477 , XBOOLE_0:def 4;
L479: (ex R7 being (Element of R5) st (R3 = R7 & (for R8 being (Element of R5) holds (R8 in { R6 } implies R7 < R8)))) by L478;
L480: R3 in D32 by L477 , XBOOLE_0:def 4;
thus L481: thesis by L480 , L475 , L479;
end;
L482: ( ( LowerCone { R6 } ) /\ D32 ) = ( {} R5 ) by L476;
thus L483: thesis by L482 , L475 , L179;
end;
L484: (the InternalRel of R5) is_strongly_connected_in D32 by L97;
L485: (the InternalRel of R5) is_connected_in D32 by L484 , ORDERS_1:7;
L486: (the InternalRel of R5) is_antisymmetric_in (the carrier of R5) by L6;
L487: (the InternalRel of R5) is_antisymmetric_in D32 by L486 , ORDERS_1:9;
L488: (the InternalRel of R5) is_transitive_in (the carrier of R5) by L5;
L489: (the InternalRel of R5) is_transitive_in D32 by L488 , ORDERS_1:10;
L490: (the InternalRel of R5) is_reflexive_in (the carrier of R5) by L4;
L491: (the InternalRel of R5) is_reflexive_in D32 by L490 , ORDERS_1:8;
L492: (the InternalRel of R5) well_orders D32 by L491 , L489 , L487 , L485 , L461 , WELLORD1:def 5;
thus L493: thesis by L492 , L473 , L428;
end;
theorem
L494: (for R5 being non  empty Poset holds (for R14 being (Choice_Function of ( BOOL (the carrier of R5) )) holds (for R15 being (Chain of R14) holds ( R14 . (the carrier of R5) ) in R15)))
proof
let R5 being non  empty Poset;
let R14 being (Choice_Function of ( BOOL (the carrier of R5) ));
let R15 being (Chain of R14);
L495: ((the InternalRel of R5) well_orders R15 & R15 <> ( {} )) by L428;
consider R3 being set such that L496: R3 in R15 and L497: (for R4 being set holds (R4 in R15 implies [ R3 , R4 ] in (the InternalRel of R5))) by L495 , WELLORD1:5;
reconsider D34 = R3 as (Element of R5) by L496;
L498:
now
set D35 = the (Element of ( ( LowerCone { D34 } ) /\ R15 ));
assume L499: ( ( LowerCone { D34 } ) /\ R15 ) <> ( {} R5 );
reconsider D36 = D35 as (Element of R5) by L499 , L43;
L500: D36 in ( LowerCone { D34 } ) by L499 , XBOOLE_0:def 4;
L501: (ex R7 being (Element of R5) st (D36 = R7 & (for R8 being (Element of R5) holds (R8 in { D34 } implies R7 < R8)))) by L500;
L502: D35 in R15 by L499 , XBOOLE_0:def 4;
L503: [ D34 , D35 ] in (the InternalRel of R5) by L502 , L497;
L504: D34 <= D36 by L503 , L44;
L505: D34 in { D34 } by TARSKI:def 1;
thus L506: contradiction by L505 , L504 , L501 , L77;
end;
L507: ( ( LowerCone { D34 } ) /\ R15 ) = ( InitSegm (R15 , D34) );
L508: ( R14 . ( UpperCone ( ( LowerCone { D34 } ) /\ R15 ) ) ) = D34 by L507 , L496 , L428;
thus L509: thesis by L508 , L496 , L498 , L179;
end;
theorem
L510: (for R5 being non  empty Poset holds (for R6 being (Element of R5) holds (for R10 being (Element of R5) holds (for R14 being (Choice_Function of ( BOOL (the carrier of R5) )) holds (for R15 being (Chain of R14) holds ((R6 in R15 & R10 = ( R14 . (the carrier of R5) )) implies R10 <= R6))))))
proof
let R5 being non  empty Poset;
let R6 being (Element of R5);
let R10 being (Element of R5);
let R14 being (Choice_Function of ( BOOL (the carrier of R5) ));
let R15 being (Chain of R14);
assume that
L511: R6 in R15
and
L512: R10 = ( R14 . (the carrier of R5) );
L513: ((the InternalRel of R5) well_orders R15 & R15 <> ( {} )) by L428;
consider R3 being set such that L514: R3 in R15 and L515: (for R4 being set holds (R4 in R15 implies [ R3 , R4 ] in (the InternalRel of R5))) by L513 , WELLORD1:5;
reconsider D37 = R3 as (Element of R5) by L514;
L516:
now
set D38 = the (Element of ( ( LowerCone { D37 } ) /\ R15 ));
assume L517: ( ( LowerCone { D37 } ) /\ R15 ) <> ( {} R5 );
reconsider D39 = D38 as (Element of R5) by L517 , L43;
L518: D39 in ( LowerCone { D37 } ) by L517 , XBOOLE_0:def 4;
L519: (ex R7 being (Element of R5) st (D39 = R7 & (for R8 being (Element of R5) holds (R8 in { D37 } implies R7 < R8)))) by L518;
L520: D38 in R15 by L517 , XBOOLE_0:def 4;
L521: [ D37 , D38 ] in (the InternalRel of R5) by L520 , L515;
L522: D37 <= D39 by L521 , L44;
L523: D37 in { D37 } by TARSKI:def 1;
thus L524: contradiction by L523 , L522 , L519 , L77;
end;
L525: ( ( LowerCone { D37 } ) /\ R15 ) = ( InitSegm (R15 , D37) );
L526: ( R14 . ( UpperCone ( ( LowerCone { D37 } ) /\ R15 ) ) ) = D37 by L525 , L514 , L428;
L527: ( R14 . (the carrier of R5) ) = D37 by L526 , L516 , L179;
L528: [ D37 , R6 ] in (the InternalRel of R5) by L511 , L515;
thus L529: thesis by L528 , L512 , L527 , L44;
end;
theorem
L530: (for R5 being non  empty Poset holds (for R6 being (Element of R5) holds (for R14 being (Choice_Function of ( BOOL (the carrier of R5) )) holds (for R15 being (Chain of R14) holds (R6 = ( R14 . (the carrier of R5) ) implies ( InitSegm (R15 , R6) ) = ( {} ))))))
proof
let R5 being non  empty Poset;
let R6 being (Element of R5);
let R14 being (Choice_Function of ( BOOL (the carrier of R5) ));
let R15 being (Chain of R14);
set D40 = the (Element of ( ( LowerCone { R6 } ) /\ R15 ));
assume L531: R6 = ( R14 . (the carrier of R5) );
L532: R6 in R15 by L531 , L494;
assume L533: ( InitSegm (R15 , R6) ) <> ( {} );
reconsider D41 = D40 as (Element of R5) by L533 , L43;
L534: D40 in ( LowerCone { R6 } ) by L533 , XBOOLE_0:def 4;
L535: (ex R7 being (Element of R5) st (R7 = D41 & (for R8 being (Element of R5) holds (R8 in { R6 } implies R7 < R8)))) by L534;
L536: R6 in { R6 } by TARSKI:def 1;
L537: D41 < R6 by L536 , L535;
L538: D40 in R15 by L533 , XBOOLE_0:def 4;
L539: R6 <= D41 by L538 , L531 , L510;
thus L540: contradiction by L539 , L532 , L538 , L537 , L151;
end;
theorem
L541: (for R5 being non  empty Poset holds (for R14 being (Choice_Function of ( BOOL (the carrier of R5) )) holds (for R16 being (Chain of R14) holds (for R17 being (Chain of R14) holds R16 meets R17))))
proof
let R5 being non  empty Poset;
let R14 being (Choice_Function of ( BOOL (the carrier of R5) ));
let R16 being (Chain of R14);
let R17 being (Chain of R14);
L542: (( R14 . (the carrier of R5) ) in R16 & ( R14 . (the carrier of R5) ) in R17) by L494;
thus L543: thesis by L542 , XBOOLE_0:3;
end;
theorem
L544: (for R5 being non  empty Poset holds (for R14 being (Choice_Function of ( BOOL (the carrier of R5) )) holds (for R16 being (Chain of R14) holds (for R17 being (Chain of R14) holds (R16 <> R17 implies (R16 is (Initial_Segm of R17) iff (not R17 is (Initial_Segm of R16))))))))
proof
let R5 being non  empty Poset;
let R14 being (Choice_Function of ( BOOL (the carrier of R5) ));
let R16 being (Chain of R14);
let R17 being (Chain of R14);
assume L545: R16 <> R17;
set D42 = { R6 where R6 is (Element of R5) : (R6 in ( R16 /\ R17 ) & ( InitSegm (R16 , R6) ) = ( InitSegm (R17 , R6) )) };
L546: D42 c= R16
proof
let R3 being set;
assume L547: R3 in D42;
L548: (ex R6 being (Element of R5) st (R6 = R3 & R6 in ( R16 /\ R17 ) & ( InitSegm (R16 , R6) ) = ( InitSegm (R17 , R6) ))) by L547;
thus L549: thesis by L548 , XBOOLE_0:def 4;
end;
reconsider D43 = D42 as (Subset of R5) by L546 , XBOOLE_1:1;
L550: D43 c= R17
proof
let R3 being set;
assume L551: R3 in D43;
L552: (ex R6 being (Element of R5) st (R6 = R3 & R6 in ( R16 /\ R17 ) & ( InitSegm (R16 , R6) ) = ( InitSegm (R17 , R6) ))) by L551;
thus L553: thesis by L552 , XBOOLE_0:def 4;
end;
L554:
now
let R7 being (Element of R5);
let R8 being (Element of R5);
assume that
L555: R8 in D43
and
L556: R7 in R16
and
L557: R7 < R8;
L558: (ex R6 being (Element of R5) st (R6 = R8 & R6 in ( R16 /\ R17 ) & ( InitSegm (R16 , R6) ) = ( InitSegm (R17 , R6) ))) by L555;
L559: ( InitSegm (R16 , R7) ) = ( InitSegm (R17 , R7) )
proof
thus L560: ( InitSegm (R16 , R7) ) c= ( InitSegm (R17 , R7) )
proof
let R3 being set;
assume L561: R3 in ( InitSegm (R16 , R7) );
reconsider D44 = R3 as (Element of R5) by L561;
L562: D44 in R16 by L561 , L243;
L563: D44 < R7 by L561 , L243;
L564: D44 < R8 by L563 , L557 , L72;
L565: D44 in ( InitSegm (R16 , R8) ) by L564 , L562 , L243;
L566: D44 in R17 by L565 , L558 , L243;
thus L567: thesis by L566 , L563 , L243;
end;

let R3 being set;
assume L568: R3 in ( InitSegm (R17 , R7) );
reconsider D45 = R3 as (Element of R5) by L568;
L569: D45 in R17 by L568 , L243;
L570: D45 < R7 by L568 , L243;
L571: D45 < R8 by L570 , L557 , L72;
L572: D45 in ( InitSegm (R17 , R8) ) by L571 , L569 , L243;
L573: D45 in R16 by L572 , L558 , L243;
thus L574: thesis by L573 , L570 , L243;
end;
L575: R7 in ( InitSegm (R17 , R8) ) by L556 , L557 , L558 , L243;
L576: R7 in R17 by L575 , XBOOLE_0:def 4;
L577: R7 in ( R16 /\ R17 ) by L576 , L556 , XBOOLE_0:def 4;
thus L578: R7 in D43 by L577 , L559;
end;
L579:
now
let R7 being (Element of R5);
let R8 being (Element of R5);
assume that
L580: R8 in D43
and
L581: R7 in R17
and
L582: R7 < R8;
L583: (ex R6 being (Element of R5) st (R6 = R8 & R6 in ( R16 /\ R17 ) & ( InitSegm (R16 , R6) ) = ( InitSegm (R17 , R6) ))) by L580;
L584: ( InitSegm (R16 , R7) ) = ( InitSegm (R17 , R7) )
proof
thus L585: ( InitSegm (R16 , R7) ) c= ( InitSegm (R17 , R7) )
proof
let R3 being set;
assume L586: R3 in ( InitSegm (R16 , R7) );
reconsider D46 = R3 as (Element of R5) by L586;
L587: D46 in R16 by L586 , L243;
L588: D46 < R7 by L586 , L243;
L589: D46 < R8 by L588 , L582 , L72;
L590: D46 in ( InitSegm (R16 , R8) ) by L589 , L587 , L243;
L591: D46 in R17 by L590 , L583 , L243;
thus L592: thesis by L591 , L588 , L243;
end;

let R3 being set;
assume L593: R3 in ( InitSegm (R17 , R7) );
reconsider D47 = R3 as (Element of R5) by L593;
L594: D47 in R17 by L593 , L243;
L595: D47 < R7 by L593 , L243;
L596: D47 < R8 by L595 , L582 , L72;
L597: D47 in ( InitSegm (R17 , R8) ) by L596 , L594 , L243;
L598: D47 in R16 by L597 , L583 , L243;
thus L599: thesis by L598 , L595 , L243;
end;
L600: R7 in ( InitSegm (R16 , R8) ) by L581 , L582 , L583 , L243;
L601: R7 in R16 by L600 , XBOOLE_0:def 4;
L602: R7 in ( R16 /\ R17 ) by L601 , L581 , XBOOLE_0:def 4;
thus L603: R7 in D43 by L602 , L584;
end;
L604: ((the InternalRel of R5) well_orders R16 & (the InternalRel of R5) well_orders R17) by L428;
L605:
now
per cases  by L546 , L554 , L604 , L550 , L579 , L386;
suppose L606: (D43 is (Initial_Segm of R16) & D43 = R17);

L607: R16 <> ( {} ) by L428;
thus L608: thesis by L607 , L606 , L285;
end;
suppose L609: (D43 is (Initial_Segm of R17) & D43 = R16);

L610: R17 <> ( {} ) by L428;
thus L611: thesis by L610 , L609 , L285;
end;
suppose L612: (D43 = R16 & D43 = R17);

thus L613: thesis by L612 , L545;
end;
suppose L614: (D43 is (Initial_Segm of R16) & D43 is (Initial_Segm of R17));

L615: R17 <> ( {} ) by L428;
consider R10 being (Element of R5) such that L616: R10 in R17 and L617: D43 = ( InitSegm (R17 , R10) ) by L615 , L614 , L236;
L618: R16 <> ( {} ) by L428;
consider R6 being (Element of R5) such that L619: R6 in R16 and L620: D43 = ( InitSegm (R16 , R6) ) by L618 , L614 , L236;
L621: R6 = ( R14 . ( UpperCone ( InitSegm (R17 , R10) ) ) ) by L619 , L620 , L617 , L428
.= R10 by L616 , L428;
L622: R6 in ( R16 /\ R17 ) by L621 , L619 , L616 , XBOOLE_0:def 4;
L623: R6 in D43 by L622 , L620 , L617 , L621;
thus L624: thesis by L623 , L620 , L247;
end;
end;
thus L626: thesis by L605;
end;
theorem
L627: (for R5 being non  empty Poset holds (for R14 being (Choice_Function of ( BOOL (the carrier of R5) )) holds (for R16 being (Chain of R14) holds (for R17 being (Chain of R14) holds (R16 c< R17 iff R16 is (Initial_Segm of R17))))))
proof
let R5 being non  empty Poset;
let R14 being (Choice_Function of ( BOOL (the carrier of R5) ));
let R16 being (Chain of R14);
let R17 being (Chain of R14);
thus L628: (R16 c< R17 implies R16 is (Initial_Segm of R17))
proof
assume L629: R16 c< R17;
L630:
now
assume L631: R17 is (Initial_Segm of R16);
L632: R16 <> ( {} ) by L428;
L633: (ex R6 being (Element of R5) st (R6 in R16 & R17 = ( InitSegm (R16 , R6) ))) by L632 , L631 , L236;
L634: R17 c= R16 by L633 , XBOOLE_1:17;
thus L635: contradiction by L634 , L629 , XBOOLE_0:def 8;
end;
thus L636: thesis by L630 , L629 , L544;
end;

assume L637: R16 is (Initial_Segm of R17);
L638: R17 <> ( {} ) by L428;
L639: (ex R6 being (Element of R5) st (R6 in R17 & R16 = ( InitSegm (R17 , R6) ))) by L638 , L637 , L236;
L640: R16 c= R17 by L639 , XBOOLE_1:17;
L641: R16 <> R17 by L637 , L638 , L278;
thus L642: thesis by L641 , L640 , XBOOLE_0:def 8;
end;
definition
let R5 being non  empty Poset;
let R14 being (Choice_Function of ( BOOL (the carrier of R5) ));
func Chains R14 -> set means 
:L643: (for R3 being set holds (R3 in it iff R3 is (Chain of R14)));
existence
proof
defpred S1[ set ] means $1 is (Chain of R14);
consider R1 being set such that L644: (for R3 being set holds (R3 in R1 iff (R3 in ( bool (the carrier of R5) ) & S1[ R3 ]))) from XBOOLE_0:sch 1;
take R1;
let R3 being set;
thus L645: (R3 in R1 implies R3 is (Chain of R14)) by L644;
assume L646: R3 is (Chain of R14);
thus L647: thesis by L646 , L644;
end;
uniqueness
proof
let C82 , C83 being set;
assume L648: (for R3 being set holds (R3 in C82 iff R3 is (Chain of R14)));
assume L649: (for R3 being set holds (R3 in C83 iff R3 is (Chain of R14)));
thus L650: C82 c= C83
proof
let R3 being set;
assume L651: R3 in C82;
L652: R3 is (Chain of R14) by L651 , L648;
thus L653: thesis by L652 , L649;
end;

let R3 being set;
assume L654: R3 in C83;
L655: R3 is (Chain of R14) by L654 , L649;
thus L656: thesis by L655 , L648;
end;
end;
registration
let R5 being non  empty Poset;
let R14 being (Choice_Function of ( BOOL (the carrier of R5) ));
cluster ( Chains R14 ) -> non  empty;
coherence
proof
set D48 = the (Chain of R14);
L658: D48 in ( Chains R14 ) by L643;
thus L659: thesis by L658;
end;
end;
L661: (for R5 being non  empty Poset holds (for R14 being (Choice_Function of ( BOOL (the carrier of R5) )) holds ( union ( Chains R14 ) ) is (Subset of R5)))
proof
let R5 being non  empty Poset;
let R14 being (Choice_Function of ( BOOL (the carrier of R5) ));
L662:
now
let R1 being set;
assume L663: R1 in ( Chains R14 );
L664: R1 is (Chain of R14) by L663 , L643;
thus L665: R1 c= (the carrier of R5) by L664;
end;
thus L666: thesis by L662 , ZFMISC_1:76;
end;
L667: (for R5 being non  empty Poset holds (for R14 being (Choice_Function of ( BOOL (the carrier of R5) )) holds ( union ( Chains R14 ) ) is (Chain of R5)))
proof
let R5 being non  empty Poset;
let R14 being (Choice_Function of ( BOOL (the carrier of R5) ));
reconsider D49 = ( union ( Chains R14 ) ) as (Subset of R5) by L661;
L668: (the InternalRel of R5) is_strongly_connected_in D49
proof
let R3 being set;
let R4 being set;
assume that
L669: R3 in D49
and
L670: R4 in D49;
consider R1 being set such that L671: R3 in R1 and L672: R1 in ( Chains R14 ) by L669 , TARSKI:def 4;
consider R2 being set such that L673: R4 in R2 and L674: R2 in ( Chains R14 ) by L670 , TARSKI:def 4;
reconsider D50 = R1 , D51 = R2 as (Chain of R14) by L672 , L674 , L643;
L675: (the InternalRel of R5) is_strongly_connected_in D50 by L97;
L676: (the InternalRel of R5) is_strongly_connected_in D51 by L97;
L677:
now
per cases ;
suppose L678: D50 = D51;

thus L679: thesis by L678 , L671 , L673 , L675 , RELAT_2:def 7;
end;
suppose L680: D50 <> D51;

L681:
now
per cases  by L680 , L544;
suppose L682: D50 is (Initial_Segm of D51);

L683: D50 c< D51 by L682 , L627;
L684: D50 c= D51 by L683 , XBOOLE_0:def 8;
thus L685: thesis by L684 , L671 , L673 , L676 , RELAT_2:def 7;
end;
suppose L686: D51 is (Initial_Segm of D50);

L687: D51 c< D50 by L686 , L627;
L688: D51 c= D50 by L687 , XBOOLE_0:def 8;
thus L689: thesis by L688 , L671 , L673 , L675 , RELAT_2:def 7;
end;
end;
thus L691: thesis by L681;
end;
end;
thus L693: thesis by L677;
end;
thus L694: thesis by L668 , L97;
end;
theorem
L695: (for R5 being non  empty Poset holds (for R14 being (Choice_Function of ( BOOL (the carrier of R5) )) holds ( union ( Chains R14 ) ) <> ( {} )))
proof
let R5 being non  empty Poset;
let R14 being (Choice_Function of ( BOOL (the carrier of R5) ));
L696: { ( R14 . (the carrier of R5) ) } is (Chain of R14) by L459;
L697: { ( R14 . (the carrier of R5) ) } in ( Chains R14 ) by L696 , L643;
thus L698: thesis by L697 , ORDERS_1:6;
end;
theorem
L699: (for R5 being non  empty Poset holds (for R12 being (Subset of R5) holds (for R14 being (Choice_Function of ( BOOL (the carrier of R5) )) holds (for R15 being (Chain of R14) holds ((R15 <> ( union ( Chains R14 ) ) & R12 = ( union ( Chains R14 ) )) implies R15 is (Initial_Segm of R12))))))
proof
let R5 being non  empty Poset;
let R12 being (Subset of R5);
let R14 being (Choice_Function of ( BOOL (the carrier of R5) ));
let R15 being (Chain of R14);
assume that
L700: R15 <> ( union ( Chains R14 ) )
and
L701: R12 = ( union ( Chains R14 ) );
set D52 = the (Element of ( R12 \ R15 ));
L702: R15 in ( Chains R14 ) by L643;
L703: R15 c= ( union ( Chains R14 ) ) by L702 , ZFMISC_1:74;
L704: (not ( union ( Chains R14 ) ) c= R15) by L703 , L700 , XBOOLE_0:def 10;
L705: ( R12 \ R15 ) <> ( {} ) by L704 , L701 , XBOOLE_1:37;
L706: (not D52 in R15) by L705 , XBOOLE_0:def 5;
L707: D52 in R12 by L705 , XBOOLE_0:def 5;
consider R1 being set such that L708: D52 in R1 and L709: R1 in ( Chains R14 ) by L707 , L701 , TARSKI:def 4;
reconsider D53 = R1 as (Chain of R14) by L709 , L643;
L710: (not D53 c= R15) by L705 , L708 , XBOOLE_0:def 5;
L711: (not D53 c< R15) by L710 , XBOOLE_0:def 8;
L712: (not D53 is (Initial_Segm of R15)) by L711 , L627;
L713: R15 is (Initial_Segm of D53) by L712 , L708 , L706 , L544;
consider R6 being (Element of R5) such that L714: R6 in D53 and L715: R15 = ( InitSegm (D53 , R6) ) by L713 , L708 , L236;
L716: D53 c= R12 by L701 , L709 , ZFMISC_1:74;
L717: ( InitSegm (R12 , R6) ) = ( InitSegm (D53 , R6) )
proof
thus L718: ( InitSegm (R12 , R6) ) c= ( InitSegm (D53 , R6) )
proof
let R3 being set;
assume L719: R3 in ( InitSegm (R12 , R6) );
L720: R3 in ( LowerCone { R6 } ) by L719 , XBOOLE_0:def 4;
consider R10 being (Element of R5) such that L721: R10 = R3 and L722: (for R8 being (Element of R5) holds (R8 in { R6 } implies R10 < R8)) by L720;
L723: R10 in R12 by L719 , L721 , XBOOLE_0:def 4;
consider R2 being set such that L724: R10 in R2 and L725: R2 in ( Chains R14 ) by L723 , L701 , TARSKI:def 4;
reconsider D54 = R2 as (Chain of R14) by L725 , L643;
L726: R6 in { R6 } by TARSKI:def 1;
L727: R10 < R6 by L726 , L722;
L728:
now
per cases ;
suppose L729: D53 = D54;

thus L730: thesis by L729 , L720 , L721 , L724 , XBOOLE_0:def 4;
end;
suppose L731: D53 <> D54;

L732:
now
per cases  by L731 , L544;
suppose L733: D53 is (Initial_Segm of D54);

L734: R3 in D53 by L733 , L714 , L721 , L727 , L724 , L310;
thus L735: thesis by L734 , L720 , XBOOLE_0:def 4;
end;
suppose L736: D54 is (Initial_Segm of D53);

L737: D54 c< D53 by L736 , L627;
L738: D54 c= D53 by L737 , XBOOLE_0:def 8;
thus L739: thesis by L738 , L720 , L721 , L724 , XBOOLE_0:def 4;
end;
end;
thus L741: thesis by L732;
end;
end;
thus L743: thesis by L728;
end;

let R3 being set;
assume L744: R3 in ( InitSegm (D53 , R6) );
L745: (R3 in ( LowerCone { R6 } ) & R3 in D53) by L744 , XBOOLE_0:def 4;
thus L746: thesis by L745 , L716 , XBOOLE_0:def 4;
end;
thus L747: thesis by L717 , L714 , L715 , L716 , L236;
end;
theorem
L748: (for R5 being non  empty Poset holds (for R14 being (Choice_Function of ( BOOL (the carrier of R5) )) holds ( union ( Chains R14 ) ) is (Chain of R14)))
proof
let R5 being non  empty Poset;
let R14 being (Choice_Function of ( BOOL (the carrier of R5) ));
reconsider D55 = ( union ( Chains R14 ) ) as (Chain of R5) by L667;
L749:
now
let R6 being (Element of R5);
assume L750: R6 in D55;
consider R1 being set such that L751: R6 in R1 and L752: R1 in ( Chains R14 ) by L750 , TARSKI:def 4;
reconsider D56 = R1 as (Chain of R14) by L752 , L643;
L753:
now
L754: ( InitSegm (D55 , R6) ) = ( InitSegm (D56 , R6) ) by L751 , L327 , L699;
thus L755: ( R14 . ( UpperCone ( InitSegm (D55 , R6) ) ) ) = R6 by L754 , L751 , L428;
end;
thus L756: ( R14 . ( UpperCone ( InitSegm (D55 , R6) ) ) ) = R6 by L753;
end;
L757: (the InternalRel of R5) well_orders D55
proof
L758: (the InternalRel of R5) is_antisymmetric_in (the carrier of R5) by L6;
L759: ((the InternalRel of R5) is_reflexive_in (the carrier of R5) & (the InternalRel of R5) is_transitive_in (the carrier of R5)) by L4 , L5;
thus L760: ((the InternalRel of R5) is_reflexive_in D55 & (the InternalRel of R5) is_transitive_in D55 & (the InternalRel of R5) is_antisymmetric_in D55) by L759 , L758 , ORDERS_1:8 , ORDERS_1:9 , ORDERS_1:10;
L761: (the InternalRel of R5) is_strongly_connected_in D55 by L97;
thus L762: (the InternalRel of R5) is_connected_in D55 by L761 , ORDERS_1:7;
let R2 being set;
set D57 = the (Element of R2);
assume that
L763: R2 c= D55
and
L764: R2 <> ( {} );
L765: D57 in D55 by L763 , L764 , TARSKI:def 3;
consider R1 being set such that L766: D57 in R1 and L767: R1 in ( Chains R14 ) by L765 , TARSKI:def 4;
reconsider D58 = R1 as (Chain of R14) by L767 , L643;
L768: (the InternalRel of R5) well_orders D58 by L428;
L769: ( D58 /\ R2 ) <> ( {} ) by L764 , L766 , XBOOLE_0:def 4;
consider C84 being set such that L770: C84 in ( D58 /\ R2 ) and L771: (for R3 being set holds (R3 in ( D58 /\ R2 ) implies [ C84 , R3 ] in (the InternalRel of R5))) by L769 , L768 , WELLORD1:5 , XBOOLE_1:17;
take C84;
thus L772: C84 in R2 by L770 , XBOOLE_0:def 4;
reconsider D59 = C84 as (Element of R5) by L770;
thus L773: ( ( (the InternalRel of R5) -Seg C84 ) /\ R2 ) c= ( {} )
proof
let R4 being set;
assume L774: R4 in ( ( (the InternalRel of R5) -Seg C84 ) /\ R2 );
L775: R4 in R2 by L774 , XBOOLE_0:def 4;
L776: R4 in D55 by L775 , L763;
reconsider D60 = R4 as (Element of R5) by L776;
L777: R4 in ( (the InternalRel of R5) -Seg C84 ) by L774 , XBOOLE_0:def 4;
L778: R4 <> C84 by L777 , WELLORD1:1;
L779: [ R4 , C84 ] in (the InternalRel of R5) by L777 , WELLORD1:1;
L780: D60 <= D59 by L779 , L44;
L781:
now
per cases ;
suppose L782: D58 <> D55;

L783: (C84 in D58 & D60 < D59) by L770 , L778 , L780 , L47 , XBOOLE_0:def 4;
thus L784: R4 in D58 by L783 , L763 , L775 , L782 , L310 , L699;
end;
suppose L785: D58 = D55;

thus L786: R4 in D58 by L785 , L763 , L775;
end;
end;
L788: R4 in ( D58 /\ R2 ) by L781 , L775 , XBOOLE_0:def 4;
L789: [ C84 , R4 ] in (the InternalRel of R5) by L788 , L771;
L790: D59 <= D60 by L789 , L44;
thus L791: thesis by L790 , L778 , L780 , L55;
end;

thus L792: thesis by XBOOLE_1:2;
end;
L793: D55 <> ( {} ) by L695;
thus L794: thesis by L793 , L757 , L749 , L428;
end;
begin
theorem
L795: (for R19 being non  empty Poset holds (for R21 being (Subset of R19) holds ( field ( (the InternalRel of R19) |_2 R21 ) ) = R21))
proof
let R19 being non  empty Poset;
let R21 being (Subset of R19);
set D61 = ( (the InternalRel of R19) |_2 R21 );
thus L796: ( field D61 ) c= R21 by WELLORD1:13;
thus L797: R21 c= ( field D61 )
proof
let R3 being set;
assume L798: R3 in R21;
L799: [ R3 , R3 ] in [: R21 , R21 :] by L798 , ZFMISC_1:87;
L800: (the InternalRel of R19) is_reflexive_in (the carrier of R19) by L4;
L801: [ R3 , R3 ] in (the InternalRel of R19) by L800 , L798 , RELAT_2:def 1;
L802: [ R3 , R3 ] in D61 by L801 , L799 , XBOOLE_0:def 4;
L803: R3 in ( dom D61 ) by L802 , XTUPLE_0:def 12;
thus L804: thesis by L803 , XBOOLE_0:def 3;
end;

end;
theorem
L798: (for R19 being non  empty Poset holds (for R21 being (Subset of R19) holds (( (the InternalRel of R19) |_2 R21 ) is  being_linear-order implies R21 is (Chain of R19))))
proof
let R19 being non  empty Poset;
let R21 being (Subset of R19);
assume L799: ( (the InternalRel of R19) |_2 R21 ) is  being_linear-order;
L800: ( (the InternalRel of R19) |_2 R21 ) is  connected by L799 , ORDERS_1:def 5;
L801: ( field ( (the InternalRel of R19) |_2 R21 ) ) = R21 by L795;
L802: ( (the InternalRel of R19) |_2 R21 ) is_connected_in R21 by L801 , L800 , RELAT_2:def 14;
L803: R21 is  strongly_connected
proof
let R3 being set;
let R4 being set;
assume L804: (R3 in R21 & R4 in R21);
reconsider D62 = R3 , D63 = R4 as (Element of R19) by L804;
L805:
now
per cases ;
suppose L806: R3 = R4;

L807: D62 <= D63 by L806;
thus L808: thesis by L807 , L44;
end;
suppose L809: R3 <> R4;

L810: ([ R3 , R4 ] in ( (the InternalRel of R19) |_2 R21 ) or [ R4 , R3 ] in ( (the InternalRel of R19) |_2 R21 )) by L809 , L802 , L804 , RELAT_2:def 6;
thus L811: thesis by L810 , XBOOLE_0:def 4;
end;
end;
thus L813: thesis by L805;
end;
thus L814: thesis by L803;
end;
theorem
L815: (for R19 being non  empty Poset holds (for R20 being (Chain of R19) holds ( (the InternalRel of R19) |_2 R20 ) is  being_linear-order))
proof
let R19 being non  empty Poset;
let R20 being (Chain of R19);
set D64 = ( (the InternalRel of R19) |_2 R20 );
L816: D64 is_connected_in R20
proof
let R3 being set;
let R4 being set;
assume L817: (R3 in R20 & R4 in R20);
L818: ([ R3 , R4 ] in [: R20 , R20 :] & [ R4 , R3 ] in [: R20 , R20 :]) by L817 , ZFMISC_1:87;
L819: (the InternalRel of R19) is_strongly_connected_in R20 by L97;
L820: ([ R3 , R4 ] in (the InternalRel of R19) or [ R4 , R3 ] in (the InternalRel of R19)) by L819 , L817 , RELAT_2:def 7;
thus L821: thesis by L820 , L818 , XBOOLE_0:def 4;
end;
L822: (the InternalRel of R19) is  being_partial-order by ORDERS_1:def 4;
L823: D64 is  being_partial-order by L822 , ORDERS_1:26;
thus L824: (D64 is  reflexive & D64 is  transitive & D64 is  antisymmetric) by L823 , ORDERS_1:def 4;
L825: R20 = ( field D64 ) by L795;
thus L826: thesis by L825 , L816 , RELAT_2:def 14;
end;
theorem
L827: (for R19 being non  empty Poset holds (for R21 being (Subset of R19) holds ((the InternalRel of R19) linearly_orders R21 implies R21 is (Chain of R19))))
proof
let R19 being non  empty Poset;
let R21 being (Subset of R19);
assume L828: (the InternalRel of R19) linearly_orders R21;
L829: ((the InternalRel of R19) is_reflexive_in R21 & (the InternalRel of R19) is_connected_in R21) by L828 , ORDERS_1:def 8;
L830: (the InternalRel of R19) is_strongly_connected_in R21 by L829 , ORDERS_1:7;
thus L831: thesis by L830 , L97;
end;
theorem
L832: (for R19 being non  empty Poset holds (for R20 being (Chain of R19) holds (the InternalRel of R19) linearly_orders R20))
proof
let R19 being non  empty Poset;
let R20 being (Chain of R19);
L833: (the InternalRel of R19) is_antisymmetric_in (the carrier of R19) by L6;
L834: ((the InternalRel of R19) is_reflexive_in (the carrier of R19) & (the InternalRel of R19) is_transitive_in (the carrier of R19)) by L4 , L5;
thus L835: ((the InternalRel of R19) is_reflexive_in R20 & (the InternalRel of R19) is_transitive_in R20 & (the InternalRel of R19) is_antisymmetric_in R20) by L834 , L833 , ORDERS_1:8 , ORDERS_1:9 , ORDERS_1:10;
L836: (the InternalRel of R19) is_strongly_connected_in R20 by L97;
thus L837: thesis by L836 , ORDERS_1:7;
end;
theorem
L838: (for R19 being non  empty Poset holds (for R22 being (Element of R19) holds (R22 is_minimal_in (the InternalRel of R19) iff (for R25 being (Element of R19) holds (not R25 < R22)))))
proof
let R19 being non  empty Poset;
let R22 being (Element of R19);
L839: (the carrier of R19) = ( field (the InternalRel of R19) ) by ORDERS_1:15;
thus L840: (R22 is_minimal_in (the InternalRel of R19) implies (for R25 being (Element of R19) holds (not R25 < R22)))
proof
assume L841: R22 is_minimal_in (the InternalRel of R19);
let R25 being (Element of R19);
L842: (R22 = R25 or (not [ R25 , R22 ] in (the InternalRel of R19))) by L839 , L841 , ORDERS_1:def 12;
L843: (R22 = R25 or (not R25 <= R22)) by L842 , L44;
thus L844: thesis by L843 , L47;
end;

assume L845: (for R25 being (Element of R19) holds (not R25 < R22));
thus L846: R22 in ( field (the InternalRel of R19) ) by L839;
let R4 being set;
assume that
L847: R4 in ( field (the InternalRel of R19) )
and
L848: R4 <> R22
and
L849: [ R4 , R22 ] in (the InternalRel of R19);
reconsider D65 = R4 as (Element of R19) by L847 , ORDERS_1:15;
L850: D65 <= R22 by L849 , L44;
L851: D65 < R22 by L850 , L848 , L47;
thus L852: thesis by L851 , L845;
end;
theorem
L853: (for R19 being non  empty Poset holds (for R22 being (Element of R19) holds (R22 is_maximal_in (the InternalRel of R19) iff (for R25 being (Element of R19) holds (not R22 < R25)))))
proof
let R19 being non  empty Poset;
let R22 being (Element of R19);
L854: (the carrier of R19) = ( field (the InternalRel of R19) ) by ORDERS_1:15;
thus L855: (R22 is_maximal_in (the InternalRel of R19) implies (for R25 being (Element of R19) holds (not R22 < R25)))
proof
assume L856: R22 is_maximal_in (the InternalRel of R19);
let R25 being (Element of R19);
L857: (R22 = R25 or (not [ R22 , R25 ] in (the InternalRel of R19))) by L854 , L856 , ORDERS_1:def 11;
L858: (R22 = R25 or (not R22 <= R25)) by L857 , L44;
thus L859: thesis by L858 , L47;
end;

assume L860: (for R25 being (Element of R19) holds (not R22 < R25));
thus L861: R22 in ( field (the InternalRel of R19) ) by L854;
let R4 being set;
assume that
L862: R4 in ( field (the InternalRel of R19) )
and
L863: R4 <> R22
and
L864: [ R22 , R4 ] in (the InternalRel of R19);
reconsider D66 = R4 as (Element of R19) by L862 , ORDERS_1:15;
L865: R22 <= D66 by L864 , L44;
L866: R22 < D66 by L865 , L863 , L47;
thus L867: thesis by L866 , L860;
end;
theorem
L868: (for R19 being non  empty Poset holds (for R22 being (Element of R19) holds (R22 is_superior_of (the InternalRel of R19) iff (for R25 being (Element of R19) holds (R22 <> R25 implies R25 < R22)))))
proof
let R19 being non  empty Poset;
let R22 being (Element of R19);
L869: (the carrier of R19) = ( field (the InternalRel of R19) ) by ORDERS_1:15;
thus L870: (R22 is_superior_of (the InternalRel of R19) implies (for R25 being (Element of R19) holds (R22 <> R25 implies R25 < R22)))
proof
assume L871: R22 is_superior_of (the InternalRel of R19);
let R25 being (Element of R19);
assume L872: R22 <> R25;
L873: [ R25 , R22 ] in (the InternalRel of R19) by L872 , L869 , L871 , ORDERS_1:def 13;
L874: R25 <= R22 by L873 , L44;
thus L875: thesis by L874 , L872 , L47;
end;

assume L876: (for R25 being (Element of R19) holds (R22 <> R25 implies R25 < R22));
thus L877: R22 in ( field (the InternalRel of R19) ) by L869;
let R4 being set;
assume L878: R4 in ( field (the InternalRel of R19) );
reconsider D67 = R4 as (Element of R19) by L878 , ORDERS_1:15;
assume L879: R4 <> R22;
L880: D67 < R22 by L879 , L876;
L881: D67 <= R22 by L880 , L47;
thus L882: thesis by L881 , L44;
end;
theorem
L883: (for R19 being non  empty Poset holds (for R22 being (Element of R19) holds (R22 is_inferior_of (the InternalRel of R19) iff (for R25 being (Element of R19) holds (R22 <> R25 implies R22 < R25)))))
proof
let R19 being non  empty Poset;
let R22 being (Element of R19);
L884: (the carrier of R19) = ( field (the InternalRel of R19) ) by ORDERS_1:15;
thus L885: (R22 is_inferior_of (the InternalRel of R19) implies (for R25 being (Element of R19) holds (R22 <> R25 implies R22 < R25)))
proof
assume L886: R22 is_inferior_of (the InternalRel of R19);
let R25 being (Element of R19);
assume L887: R22 <> R25;
L888: [ R22 , R25 ] in (the InternalRel of R19) by L887 , L884 , L886 , ORDERS_1:def 14;
L889: R22 <= R25 by L888 , L44;
thus L890: thesis by L889 , L887 , L47;
end;

assume L891: (for R25 being (Element of R19) holds (R22 <> R25 implies R22 < R25));
thus L892: R22 in ( field (the InternalRel of R19) ) by L884;
let R4 being set;
assume L893: R4 in ( field (the InternalRel of R19) );
reconsider D68 = R4 as (Element of R19) by L893 , ORDERS_1:15;
assume L894: R4 <> R22;
L895: R22 < D68 by L894 , L891;
L896: R22 <= D68 by L895 , L47;
thus L897: thesis by L896 , L44;
end;
L898: (for R1 being set holds (for R2 being set holds (for R18 being Relation holds ((R18 is_connected_in R1 & R2 c= R1) implies R18 is_connected_in R2))))
proof
let R1 being set;
let R2 being set;
let R18 being Relation;
assume L899: (R18 is_connected_in R1 & R2 c= R1);
let R3 being set;
let R4 being set;
assume L900: (R3 in R2 & R4 in R2);
thus L901: thesis by L900 , L899 , RELAT_2:def 6;
end;
L902: (for R1 being set holds (for R2 being set holds (for R18 being Relation holds ((R18 well_orders R1 & R2 c= R1) implies R18 well_orders R2))))
proof
let R1 being set;
let R2 being set;
let R18 being Relation;
assume that
L903: R18 well_orders R1
and
L904: R2 c= R1;
L905: (R18 is_antisymmetric_in R1 & R18 is_connected_in R1) by L903 , WELLORD1:def 5;
L906: R18 is_well_founded_in R1 by L903 , WELLORD1:def 5;
L907: (R18 is_reflexive_in R1 & R18 is_transitive_in R1) by L903 , WELLORD1:def 5;
thus L908: (R18 is_reflexive_in R2 & R18 is_transitive_in R2 & R18 is_antisymmetric_in R2 & R18 is_connected_in R2) by L907 , L904 , L905 , L898 , ORDERS_1:8 , ORDERS_1:9 , ORDERS_1:10;
let C85 being set;
assume that
L909: C85 c= R2
and
L910: C85 <> ( {} );
L911: C85 c= R1 by L904 , L909 , XBOOLE_1:1;
thus L912: thesis by L911 , L910 , L906 , WELLORD1:def 3;
end;
theorem
L913: (for R19 being non  empty Poset holds ((for R20 being (Chain of R19) holds (ex R22 being (Element of R19) st (for R25 being (Element of R19) holds (R25 in R20 implies R25 <= R22)))) implies (ex R22 being (Element of R19) st (for R25 being (Element of R19) holds (not R22 < R25)))))
proof
let R19 being non  empty Poset;
set D69 = the (Choice_Function of ( BOOL (the carrier of R19) ));
reconsider D70 = ( union ( Chains D69 ) ) as (Chain of D69) by L748;
assume L914: (for R20 being (Chain of R19) holds (ex R22 being (Element of R19) st (for R25 being (Element of R19) holds (R25 in R20 implies R25 <= R22))));
consider R22 being (Element of R19) such that L915: (for R25 being (Element of R19) holds (R25 in D70 implies R25 <= R22)) by L914;
take R22;
let R25 being (Element of R19);
assume L916: R22 < R25;
L917:
now
let R23 being (Element of R19);
assume L918: R23 in D70;
L919: R23 <= R22 by L918 , L915;
thus L920: R23 < R25 by L919 , L916 , L82;
end;
L921: R25 in { R23 where R23 is (Element of R19) : (for R24 being (Element of R19) holds (R24 in D70 implies R24 < R23)) } by L917;
L922: (not ( UpperCone D70 ) in { ( {} ) }) by L921 , TARSKI:def 1;
L923: ( UpperCone D70 ) in ( BOOL (the carrier of R19) ) by L922 , XBOOLE_0:def 5;
L924: (not ( {} ) in ( BOOL (the carrier of R19) )) by ORDERS_1:1;
L925: ( D69 . ( UpperCone D70 ) ) in ( UpperCone D70 ) by L924 , L923 , ORDERS_1:def 1;
reconsider D71 = ( D69 . ( UpperCone D70 ) ) as (Element of R19) by L925;
reconsider D72 = ( D70 \/ { D71 } ) as (Subset of R19);
L926: (ex B45 being (Element of R19) st (B45 = D71 & (for R24 being (Element of R19) holds (R24 in D70 implies R24 < B45)))) by L925;
L927: (the InternalRel of R19) is_connected_in D72
proof
let R3 being set;
let R4 being set;
assume L928: (R3 in D72 & R4 in D72);
reconsider D73 = R3 , D74 = R4 as (Element of R19) by L928;
L929:
now
per cases  by L928 , XBOOLE_0:def 3;
suppose L930: (D73 in D70 & D74 in D70);

L931: (D73 <= D74 or D74 <= D73) by L930 , L142;
thus L932: thesis by L931 , L44;
end;
suppose L933: (D73 in D70 & D74 in { D71 });

L934: D74 = D71 by L933 , TARSKI:def 1;
L935: D73 < D74 by L934 , L926 , L933;
L936: D73 <= D74 by L935 , L47;
thus L937: thesis by L936 , L44;
end;
suppose L938: (D73 in { D71 } & D74 in D70);

L939: D73 = D71 by L938 , TARSKI:def 1;
L940: D74 < D73 by L939 , L926 , L938;
L941: D74 <= D73 by L940 , L47;
thus L942: thesis by L941 , L44;
end;
suppose L943: (D73 in { D71 } & D74 in { D71 });

L944: D73 = D71 by L943 , TARSKI:def 1;
thus L945: thesis by L944 , L943 , TARSKI:def 1;
end;
end;
thus L947: thesis by L929;
end;
L948:
now
let R23 being (Element of R19);
assume L949: R23 in D72;
L950:
now
per cases ;
suppose L951: R23 = D71;

L952: ( InitSegm (D72 , D71) ) = D70
proof
thus L953: ( InitSegm (D72 , D71) ) c= D70
proof
let R3 being set;
assume that
L954: R3 in ( InitSegm (D72 , D71) )
and
L955: (not R3 in D70);
L956: R3 in D72 by L954 , XBOOLE_0:def 4;
L957: R3 in { D71 } by L956 , L955 , XBOOLE_0:def 3;
L958: R3 = D71 by L957 , TARSKI:def 1;
L959: R3 in ( LowerCone { D71 } ) by L954 , XBOOLE_0:def 4;
thus L960: contradiction by L959 , L958 , L214;
end;

let R3 being set;
assume L961: R3 in D70;
reconsider D75 = R3 as (Element of R19) by L961;
L962: D75 < D71 by L926 , L961;
L963: R3 in ( LowerCone { D71 } ) by L962 , L226;
L964: R3 in D72 by L961 , XBOOLE_0:def 3;
thus L965: thesis by L964 , L963 , XBOOLE_0:def 4;
end;
thus L966: ( D69 . ( UpperCone ( InitSegm (D72 , R23) ) ) ) = R23 by L952 , L951;
end;
suppose L967: R23 <> D71;

L968: (not R23 in { D71 }) by L967 , TARSKI:def 1;
L969: R23 in D70 by L968 , L949 , XBOOLE_0:def 3;
L970: ( InitSegm (D72 , R23) ) c= ( InitSegm (D70 , R23) )
proof
let R3 being set;
assume L971: R3 in ( InitSegm (D72 , R23) );
L972: R3 in ( LowerCone { R23 } ) by L971 , XBOOLE_0:def 4;
L973:
now
assume L974: (not R3 in D70);
L975: R3 in D72 by L971 , XBOOLE_0:def 4;
L976: R3 in { D71 } by L975 , L974 , XBOOLE_0:def 3;
L977: R3 = D71 by L976 , TARSKI:def 1;
L978: (ex R26 being (Element of R19) st (R26 = D71 & (for R27 being (Element of R19) holds (R27 in { R23 } implies R26 < R27)))) by L977 , L972;
L979: R23 < D71 by L926 , L969;
L980: R23 in { R23 } by TARSKI:def 1;
L981: D71 < R23 by L980 , L978;
thus L982: contradiction by L981 , L979 , L67;
end;
thus L983: thesis by L973 , L972 , XBOOLE_0:def 4;
end;
L984: ( InitSegm (D70 , R23) ) c= ( InitSegm (D72 , R23) ) by L266 , XBOOLE_1:7;
L985: ( InitSegm (D72 , R23) ) = ( InitSegm (D70 , R23) ) by L984 , L970 , XBOOLE_0:def 10;
thus L986: ( D69 . ( UpperCone ( InitSegm (D72 , R23) ) ) ) = R23 by L985 , L969 , L428;
end;
end;
thus L988: ( D69 . ( UpperCone ( InitSegm (D72 , R23) ) ) ) = R23 by L950;
end;
L989: (the InternalRel of R19) is_reflexive_in (the carrier of R19) by L4;
L990: (the InternalRel of R19) is_reflexive_in D72 by L989 , ORDERS_1:8;
L991: (the InternalRel of R19) is_strongly_connected_in D72 by L990 , L927 , ORDERS_1:7;
L992: D72 is (Chain of R19) by L991 , L97;
L993: (the InternalRel of R19) is_well_founded_in D72
proof
let R2 being set;
assume that
L994: R2 c= D72
and
L995: R2 <> ( {} );
L996:
now
per cases ;
case L997: R2 = { D71 };
take D76 = D71;
thus L998: D76 in R2 by L997 , TARSKI:def 1;
assume L999: ( (the InternalRel of R19) -Seg D76 ) meets R2;
consider C86 being set such that L1000: C86 in ( (the InternalRel of R19) -Seg D76 ) and L1001: C86 in R2 by L999 , XBOOLE_0:3;
L1002: C86 = D71 by L997 , L1001 , TARSKI:def 1;
thus L1003: contradiction by L1002 , L1000 , WELLORD1:1;
end;
case L1004: R2 <> { D71 };
set D77 = ( R2 \ { D71 } );
L1005:
now
assume L1006: D77 = ( {} );
L1007: R2 c= { D71 } by L1006 , XBOOLE_1:37;
thus L1008: contradiction by L1007 , L995 , L1004 , ZFMISC_1:33;
end;
L1009: D77 c= D70
proof
let R3 being set;
assume that
L1010: R3 in D77
and
L1011: (not R3 in D70);
L1012: R3 in R2 by L1010;
L1013: R3 in { D71 } by L1012 , L994 , L1011 , XBOOLE_0:def 3;
thus L1014: thesis by L1013 , L1010 , XBOOLE_0:def 5;
end;
L1015: (the InternalRel of R19) well_orders D70 by L428;
L1016: (the InternalRel of R19) well_orders D77 by L1015 , L1009 , L902;
L1017: (the InternalRel of R19) is_well_founded_in D77 by L1016 , WELLORD1:def 5;
consider R3 being set such that L1018: R3 in D77 and L1019: ( (the InternalRel of R19) -Seg R3 ) misses D77 by L1017 , L1005 , WELLORD1:def 3;
take D78 = R3;
thus L1020: D78 in R2 by L1018;
L1021: ( ( (the InternalRel of R19) -Seg R3 ) /\ D77 ) = ( {} ) by L1019 , XBOOLE_0:def 7;
L1022:
now
per cases ;
suppose L1023: D71 in R2;

L1024:
now
L1025: D78 in D70 by L1009 , L1018;
reconsider D79 = D78 as (Element of R19) by L1025;
assume L1026: D71 in ( (the InternalRel of R19) -Seg D78 );
L1027: [ D71 , D78 ] in (the InternalRel of R19) by L1026 , WELLORD1:1;
L1028: D71 <= D79 by L1027 , L44;
L1029: D79 < D71 by L926 , L1009 , L1018;
L1030: D71 <> D79 by L1026 , WELLORD1:1;
L1031: D71 < D79 by L1030 , L1028 , L47;
thus L1032: contradiction by L1031 , L1029 , L67;
end;
L1033:
now
set D80 = the (Element of ( ( (the InternalRel of R19) -Seg D78 ) /\ { D71 } ));
assume L1034: ( ( (the InternalRel of R19) -Seg D78 ) /\ { D71 } ) <> ( {} );
L1035: D80 in { D71 } by L1034 , XBOOLE_0:def 4;
L1036: D80 = D71 by L1035 , TARSKI:def 1;
thus L1037: contradiction by L1036 , L1024 , L1034 , XBOOLE_0:def 4;
end;
L1038: { D71 } c= R2 by L1023 , ZFMISC_1:31;
L1039: R2 = ( D77 \/ { D71 } ) by L1038 , XBOOLE_1:45;
L1040: ( ( (the InternalRel of R19) -Seg D78 ) /\ R2 ) = ( ( {} ) \/ ( {} ) ) by L1039 , L1021 , L1033 , XBOOLE_1:23
.= ( {} );
thus L1041: ( (the InternalRel of R19) -Seg D78 ) misses R2 by L1040 , XBOOLE_0:def 7;
end;
suppose L1042: (not D71 in R2);

L1043: R2 misses { D71 } by L1042 , ZFMISC_1:50;
thus L1044: ( (the InternalRel of R19) -Seg D78 ) misses R2 by L1043 , L1019 , XBOOLE_1:83;
end;
end;
thus L1046: ( (the InternalRel of R19) -Seg D78 ) misses R2 by L1022;
end;
end;
thus L1048: thesis by L996;
end;
L1049: (the InternalRel of R19) is_transitive_in (the carrier of R19) by L5;
L1050: (the InternalRel of R19) is_transitive_in D72 by L1049 , ORDERS_1:10;
L1051: (the InternalRel of R19) is_antisymmetric_in (the carrier of R19) by L6;
L1052: (the InternalRel of R19) is_antisymmetric_in D72 by L1051 , ORDERS_1:9;
L1053: (the InternalRel of R19) well_orders D72 by L1052 , L990 , L1050 , L927 , L993 , WELLORD1:def 5;
reconsider D81 = D72 as (Chain of D69) by L1053 , L992 , L948 , L428;
L1054: D71 in { D71 } by TARSKI:def 1;
L1055: D71 in D81 by L1054 , XBOOLE_0:def 3;
L1056: D81 in ( Chains D69 ) by L643;
L1057: D71 in D70 by L1056 , L1055 , TARSKI:def 4;
thus L1058: thesis by L1057 , L926;
end;
theorem
L1059: (for R19 being non  empty Poset holds ((for R20 being (Chain of R19) holds (ex R22 being (Element of R19) st (for R25 being (Element of R19) holds (R25 in R20 implies R22 <= R25)))) implies (ex R22 being (Element of R19) st (for R25 being (Element of R19) holds (not R25 < R22)))))
proof
let R19 being non  empty Poset;
set D82 = (the carrier of R19);
set D83 = ( (the InternalRel of R19) ~ );
L1060: ( dom D83 ) = ( dom (the InternalRel of R19) ) by RELAT_2:12
.= D82 by PARTFUN1:def 2;
L1061: (for B46 , B47 being (Element of R19) holds ([ B46 , B47 ] in D83 iff B47 <= B46))
proof
let C87 , C88 being (Element of R19);
L1062: ([ C87 , C88 ] in D83 iff [ C88 , C87 ] in (the InternalRel of R19)) by RELAT_1:def 7;
thus L1063: thesis by L1062 , L44;
end;
reconsider D84 = D83 as (Order of (the carrier of R19)) by L1060 , PARTFUN1:def 2;
set D85 = RelStr (# (the carrier of R19) , D84 #);
assume L1064: (for R20 being (Chain of R19) holds (ex R22 being (Element of R19) st (for R25 being (Element of R19) holds (R25 in R20 implies R22 <= R25))));
L1065: (for B48 being (Chain of D85) holds (ex B49 being (Element of D85) st (for B50 being (Element of D85) holds (B50 in B48 implies B50 <= B49))))
proof
let C89 being (Chain of D85);
reconsider D86 = C89 as (Subset of R19);
L1066: (the InternalRel of R19) is_strongly_connected_in D86
proof
let R3 being set;
let R4 being set;
assume L1067: (R3 in D86 & R4 in D86);
reconsider D87 = R3 , D88 = R4 as (Element of D85) by L1067;
reconsider D89 = D87 , D90 = D88 as (Element of R19);
L1068: (D87 <= D88 or D88 <= D87) by L1067 , L142;
L1069:
now
per cases  by L1068 , L44;
suppose L1070: [ D87 , D88 ] in D84;

L1071: D90 <= D89 by L1070 , L1061;
thus L1072: thesis by L1071 , L44;
end;
suppose L1073: [ D88 , D87 ] in D84;

L1074: D89 <= D90 by L1073 , L1061;
thus L1075: thesis by L1074 , L44;
end;
end;
thus L1077: thesis by L1069;
end;
reconsider D91 = D86 as (Chain of R19) by L1066 , L97;
consider R22 being (Element of R19) such that L1078: (for R25 being (Element of R19) holds (R25 in D91 implies R22 <= R25)) by L1064;
reconsider D92 = R22 as (Element of D85);
take D92;
let C90 being (Element of D85);
reconsider D93 = C90 as (Element of R19);
assume L1079: C90 in C89;
L1080: R22 <= D93 by L1079 , L1078;
L1081: [ C90 , D92 ] in D84 by L1080 , L1061;
thus L1082: thesis by L1081 , L44;
end;
consider C91 being (Element of D85) such that L1083: (for B51 being (Element of D85) holds (not C91 < B51)) by L1065 , L913;
reconsider D94 = C91 as (Element of R19);
take D94;
let R25 being (Element of R19);
reconsider D95 = R25 as (Element of D85);
assume L1084: R25 < D94;
L1085: R25 <= D94 by L1084 , L47;
L1086: [ C91 , D95 ] in D84 by L1085 , L1061;
L1087: C91 <= D95 by L1086 , L44;
L1088: C91 < D95 by L1087 , L1084 , L47;
thus L1089: thesis by L1088 , L1083;
end;
registration
cluster  strict  empty for RelStr;
existence
proof
take D96 = RelStr (# ( {} ) , the (Relation of ( {} )) #);
thus L1090: D96 is  strict;
thus L1091: (the carrier of D96) is  empty;
end;
end;
