:: The Equational Characterization of Continuous Lattices
::  by Mariusz \.Zynel
::
:: Received October 25, 1996
:: Copyright (c) 1996-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies WAYBEL_0, ORDINAL2, SUBSET_1, WAYBEL_3, CARD_FIL, XXREAL_0,
      TARSKI, XBOOLE_0, YELLOW_0, LATTICE3, LATTICES, YELLOW_2, WAYBEL_1,
      YELLOW_1, RELAT_1, FUNCT_1, STRUCT_0, REWRITE1, PBOOLE, FUNCOP_1,
      FUNCT_6, CARD_3, FINSEQ_4, ORDERS_2, YELLOW_6, CLASSES1, CLASSES2,
      ZFMISC_1, FUNCT_5, EQREL_1, FUNCT_2, FINSUB_1, FINSET_1, ORDERS_1,
      RELAT_2, LATTICE2, CAT_1, XBOOLEAN, PARTFUN1, MEMBER_1, SEQM_3, WAYBEL_5,
      CARD_1;
 notations TARSKI, XBOOLE_0, ZFMISC_1,
      XTUPLE_0, SUBSET_1, RELAT_1, FINSET_1, FINSUB_1,
      FUNCT_1, RELSET_1, PARTFUN1, FUNCT_2, BINOP_1, FUNCT_4, FUNCT_5, FUNCT_6,
      FUNCOP_1, ORDERS_1, DOMAIN_1, STRUCT_0, ORDERS_2, LATTICE3, CARD_3,
      PBOOLE, PRALG_1, PRALG_2, MSUALG_3, CLASSES1, CLASSES2, YELLOW_0,
      YELLOW_1, YELLOW_2, WAYBEL_1, WAYBEL_0, WAYBEL_3, YELLOW_6;
 constructors FINSUB_1, CLASSES1, CLASSES2, BORSUK_1, LATTICE3, PRALG_1,
      PRALG_2, MSUALG_3, ORDERS_3, WAYBEL_1, WAYBEL_3, YELLOW_6, FUNCT_5,
      XTUPLE_0;
 registrations XBOOLE_0, SUBSET_1, FUNCT_1, RELSET_1, FUNCT_2, FUNCOP_1,
      FUNCT_4, FINSET_1, CARD_3, CLASSES2, PBOOLE, STRUCT_0, ORDERS_2,
      LATTICE3, YELLOW_0, WAYBEL_0, YELLOW_1, YELLOW_2, WAYBEL_3, YELLOW_6,
      PRALG_1, CARD_1, ORDINAL1, RELAT_1, XTUPLE_0;
 requirements SUBSET, BOOLE, NUMERALS;
 definitions TARSKI, LATTICE3, BINOP_1, STRUCT_0, XTUPLE_0;
 theorems TARSKI, ZFMISC_1, FUNCT_1, FUNCT_2, FUNCT_5, CARD_3, ORDERS_2,
      LATTICE3, FUNCT_6, FUNCOP_1, PBOOLE, PRALG_1, PRALG_2, MSUALG_3, RELAT_1,
      FINSUB_1, YELLOW_0, YELLOW_1, YELLOW_2, WAYBEL_1, WAYBEL_0, WAYBEL_3,
      CLASSES2, YELLOW_6, CLASSES1, RELSET_1, XBOOLE_0, XBOOLE_1, FUNCT_4,
      ORDERS_1, PARTFUN1;
 schemes FUNCT_1, FUNCT_2, MSSUBFAM, DOMAIN_1, BINOP_1;

begin
L1: (for B1 being  continuous Semilattice holds (for B2 being (Element of B1) holds (( waybelow B2 ) is (Ideal of B1) & B2 <= ( sup ( waybelow B2 ) ) & (for B3 being (Ideal of B1) holds (B2 <= ( sup B3 ) implies ( waybelow B2 ) c= B3)))))
proof
let C1 being  continuous Semilattice;
let C2 being (Element of C1);
thus L2: ( waybelow C2 ) is (Ideal of C1);
thus L3: C2 <= ( sup ( waybelow C2 ) ) by WAYBEL_3:def 5;
thus L4: (for B4 being (Ideal of C1) holds (C2 <= ( sup B4 ) implies ( waybelow C2 ) c= B4))
proof
let C3 being (Ideal of C1);
assume L5: C2 <= ( sup C3 );
L6: ( waybelow C2 ) c= C3
proof
let C4 being set;
assume L7: C4 in ( waybelow C2 );
L8: C4 in { B5 where B5 is (Element of C1) : B5 << C2 } by L7 , WAYBEL_3:def 3;
L9: (ex B6 being (Element of C1) st (C4 = B6 & B6 << C2)) by L8;
thus L10: thesis by L9 , L5 , WAYBEL_3:20;
end;
thus L11: thesis by L6;
end;

end;
L5: (for R4 being  up-complete Semilattice holds ((for B7 being (Element of R4) holds (( waybelow B7 ) is (Ideal of R4) & B7 <= ( sup ( waybelow B7 ) ) & (for B8 being (Ideal of R4) holds (B7 <= ( sup B8 ) implies ( waybelow B7 ) c= B8)))) implies R4 is  continuous))
proof
let R4 being  up-complete Semilattice;
assume L6: (for B9 being (Element of R4) holds (( waybelow B9 ) is (Ideal of R4) & B9 <= ( sup ( waybelow B9 ) ) & (for B10 being (Ideal of R4) holds (B9 <= ( sup B10 ) implies ( waybelow B9 ) c= B10))));
L7:
now
let C5 being (Element of R4);
L8: C5 <= ( sup ( waybelow C5 ) ) by L6;
L9: ( waybelow C5 ) is non  empty  directed by L6;
L10:  ex_sup_of ( waybelow C5 ) , R4 by L9 , WAYBEL_0:75;
L11: ( waybelow C5 ) is_<=_than C5 by WAYBEL_3:9;
L12: ( sup ( waybelow C5 ) ) <= C5 by L11 , L10 , YELLOW_0:def 9;
thus L13: C5 = ( sup ( waybelow C5 ) ) by L12 , L8 , YELLOW_0:def 3;
end;
L14: R4 is  satisfying_axiom_of_approximation by L7 , WAYBEL_3:def 5;
L15: (for B11 being (Element of R4) holds ( waybelow B11 ) is non  empty  directed) by L6;
thus L16: thesis by L15 , L14 , WAYBEL_3:def 6;
end;
theorem
L17: (for R4 being  up-complete Semilattice holds (R4 is  continuous iff (for B12 being (Element of R4) holds (( waybelow B12 ) is (Ideal of R4) & B12 <= ( sup ( waybelow B12 ) ) & (for B13 being (Ideal of R4) holds (B12 <= ( sup B13 ) implies ( waybelow B12 ) c= B13)))))) by L1 , L5;
L18: (for R4 being  up-complete Semilattice holds (R4 is  continuous implies (for B14 being (Element of R4) holds (ex B15 being (Ideal of R4) st (B14 <= ( sup B15 ) & (for B16 being (Ideal of R4) holds (B14 <= ( sup B16 ) implies B15 c= B16)))))))
proof
let R4 being  up-complete Semilattice;
assume L19: R4 is  continuous;
let C6 being (Element of R4);
reconsider D1 = ( waybelow C6 ) as (Ideal of R4) by L19;
take D1;
thus L20: thesis by L19 , L1;
end;
L21: (for R4 being  up-complete Semilattice holds ((for B17 being (Element of R4) holds (ex B18 being (Ideal of R4) st (B17 <= ( sup B18 ) & (for B19 being (Ideal of R4) holds (B17 <= ( sup B19 ) implies B18 c= B19))))) implies R4 is  continuous))
proof
let R4 being  up-complete Semilattice;
assume L22: (for B20 being (Element of R4) holds (ex B21 being (Ideal of R4) st (B20 <= ( sup B21 ) & (for B22 being (Ideal of R4) holds (B20 <= ( sup B22 ) implies B21 c= B22)))));
L23:
now
let C7 being (Element of R4);
consider C8 being (Ideal of R4) such that L24: C7 <= ( sup C8 ) and L25: (for B23 being (Ideal of R4) holds (C7 <= ( sup B23 ) implies C8 c= B23)) by L22;
L26:
now
let C9 being set;
assume L27: C9 in C8;
reconsider D2 = C9 as (Element of R4) by L27;
L28: (for B24 being (Ideal of R4) holds (C7 <= ( sup B24 ) implies C9 in B24))
proof
let C10 being (Ideal of R4);
assume L29: C7 <= ( sup C10 );
L30: C8 c= C10 by L29 , L25;
thus L31: thesis by L30 , L27;
end;
L32: D2 << C7 by L28 , WAYBEL_3:21;
thus L33: C9 in ( waybelow C7 ) by L32 , WAYBEL_3:7;
end;
L34: C8 c= ( waybelow C7 ) by L26 , TARSKI:def 3;
L35:
now
let C11 being set;
assume L36: C11 in ( waybelow C7 );
reconsider D3 = C11 as (Element of R4) by L36;
L37: D3 << C7 by L36 , WAYBEL_3:7;
thus L38: C11 in C8 by L37 , L24 , WAYBEL_3:20;
end;
L39: ( waybelow C7 ) c= C8 by L35 , TARSKI:def 3;
L40: ( waybelow C7 ) = C8 by L39 , L34 , XBOOLE_0:def 10;
thus L41: (( waybelow C7 ) is (Ideal of R4) & C7 <= ( sup ( waybelow C7 ) ) & (for B25 being (Ideal of R4) holds (C7 <= ( sup B25 ) implies ( waybelow C7 ) c= B25))) by L40 , L24 , L25;
end;
thus L42: thesis by L23 , L5;
end;
theorem
L43: (for R4 being  up-complete Semilattice holds (R4 is  continuous iff (for B26 being (Element of R4) holds (ex B27 being (Ideal of R4) st (B26 <= ( sup B27 ) & (for B28 being (Ideal of R4) holds (B26 <= ( sup B28 ) implies B27 c= B28))))))) by L18 , L21;
theorem
L44: (for B29 being  continuous  lower-bounded sup-Semilattice holds ( SupMap B29 ) is  upper_adjoint)
proof
let C12 being  continuous  lower-bounded sup-Semilattice;
set D4 = ( InclPoset ( Ids C12 ) );
set D5 = ( SupMap C12 );
deffunc H1((Element of C12)) = ( inf ( D5 " ( uparrow { $1 } ) ) );
L45: (ex B30 being (Function of C12 , ( InclPoset ( Ids C12 ) )) st (for B31 being (Element of C12) holds ( B30 . B31 ) = H1(B31))) from FUNCT_2:sch 4;
consider C13 being (Function of C12 , ( InclPoset ( Ids C12 ) )) such that L46: (for B32 being (Element of C12) holds ( C13 . B32 ) = ( inf ( D5 " ( uparrow { B32 } ) ) )) by L45;
L47: (for B33 being (Element of C12) holds ( C13 . B33 ) is_minimum_of ( D5 " ( uparrow B33 ) ))
proof
let C14 being (Element of C12);
set D6 = ( inf ( D5 " ( uparrow C14 ) ) );
reconsider D7 = D6 as (Ideal of C12) by YELLOW_2:41;
L48: ( C13 . C14 ) = ( inf ( D5 " ( uparrow { C14 } ) ) ) by L46
.= D6 by WAYBEL_0:def 18;
L49: D6 in (the carrier of D4);
L50: D6 in ( Ids C12 ) by L49 , YELLOW_1:1;
L51: D6 in ( dom D5 ) by L50 , YELLOW_2:49;
consider C15 being (Ideal of C12) such that L52: C14 <= ( sup C15 ) and L53: (for B34 being (Ideal of C12) holds (C14 <= ( sup B34 ) implies C15 c= B34)) by L18;
reconsider D8 = C15 as (Element of D4) by YELLOW_2:41;
L54: (for B35 being (Element of D4) holds (( D5 " ( uparrow C14 ) ) is_>=_than B35 implies B35 <= D8))
proof
L55: D8 in (the carrier of D4);
L56: D8 in ( Ids C12 ) by L55 , YELLOW_1:1;
L57: C15 in ( dom D5 ) by L56 , YELLOW_2:49;
let C16 being (Element of D4);
assume L58: ( D5 " ( uparrow C14 ) ) is_>=_than C16;
L59: C14 <= ( D5 . D8 ) by L52 , YELLOW_2:def 3;
L60: ( D5 . C15 ) in ( uparrow C14 ) by L59 , WAYBEL_0:18;
L61: C15 in ( D5 " ( uparrow C14 ) ) by L60 , L57 , FUNCT_1:def 7;
thus L62: thesis by L61 , L58 , LATTICE3:def 8;
end;
L63: ( D5 " ( uparrow C14 ) ) is_>=_than D8
proof
let C17 being (Element of D4);
reconsider D9 = C17 as (Ideal of C12) by YELLOW_2:41;
assume L64: C17 in ( D5 " ( uparrow C14 ) );
L65: ( D5 . C17 ) in ( uparrow C14 ) by L64 , FUNCT_1:def 7;
L66: C14 <= ( D5 . C17 ) by L65 , WAYBEL_0:18;
L67: C14 <= ( sup D9 ) by L66 , YELLOW_2:def 3;
L68: D8 c= D9 by L67 , L53;
thus L69: D8 <= C17 by L68 , YELLOW_1:3;
end;
L70: C14 <= ( sup D7 ) by L63 , L52 , L54 , YELLOW_0:31;
L71: C14 <= ( D5 . D6 ) by L70 , YELLOW_2:def 3;
L72: ( D5 . D6 ) in ( uparrow C14 ) by L71 , WAYBEL_0:18;
L73: ( ex_inf_of ( D5 " ( uparrow C14 ) ) , ( InclPoset ( Ids C12 ) ) & D6 in ( D5 " ( uparrow C14 ) )) by L72 , L51 , FUNCT_1:def 7 , YELLOW_0:17;
thus L74: thesis by L73 , L48 , WAYBEL_1:def 6;
end;
L75: [ D5 , C13 ] is  Galois by L47 , WAYBEL_1:10;
thus L76: thesis by L75 , WAYBEL_1:def 11;
end;
theorem
L77: (for B36 being  up-complete  lower-bounded LATTICE holds (( SupMap B36 ) is  upper_adjoint implies B36 is  continuous))
proof
let C18 being  up-complete  lower-bounded LATTICE;
set D10 = ( InclPoset ( Ids C18 ) );
assume L78: ( SupMap C18 ) is  upper_adjoint;
L79: (for B37 being (Element of C18) holds (ex B38 being (Ideal of C18) st (B37 <= ( sup B38 ) & (for B39 being (Ideal of C18) holds (B37 <= ( sup B39 ) implies B38 c= B39)))))
proof
set D11 = ( SupMap C18 );
let C19 being (Element of C18);
set D12 = ( inf ( D11 " ( uparrow C19 ) ) );
reconsider D13 = D12 as (Ideal of C18) by YELLOW_2:41;
L80: (for B40 being (Ideal of C18) holds (C19 <= ( sup B40 ) implies D13 c= B40))
proof
let C20 being (Ideal of C18);
reconsider D14 = C20 as (Element of D10) by YELLOW_2:41;
assume L81: C19 <= ( sup C20 );
L82: C19 <= ( D11 . D14 ) by L81 , YELLOW_2:def 3;
L83: (C20 in ( dom D11 ) & ( D11 . D14 ) in ( uparrow C19 )) by L82 , WAYBEL_0:18 , YELLOW_2:50;
L84: D14 in ( D11 " ( uparrow C19 ) ) by L83 , FUNCT_1:def 7;
L85: D12 <= D14 by L84 , YELLOW_2:22;
thus L86: thesis by L85 , YELLOW_1:3;
end;
consider C21 being (Function of C18 , D10) such that L87: [ D11 , C21 ] is  Galois by L78 , WAYBEL_1:def 11;
L88: ( C21 . C19 ) is_minimum_of ( D11 " ( uparrow C19 ) ) by L87 , WAYBEL_1:10;
L89: D13 in ( D11 " ( uparrow C19 ) ) by L88 , WAYBEL_1:def 6;
L90: ( D11 . D13 ) in ( uparrow C19 ) by L89 , FUNCT_1:def 7;
L91: C19 <= ( D11 . D12 ) by L90 , WAYBEL_0:18;
L92: C19 <= ( sup D13 ) by L91 , YELLOW_2:def 3;
thus L93: thesis by L92 , L80;
end;
thus L94: thesis by L79 , L21;
end;
theorem
L95: (for B41 being  complete Semilattice holds (( SupMap B41 ) is  infs-preserving  sups-preserving implies ( SupMap B41 ) is  upper_adjoint))
proof
let C22 being  complete Semilattice;
set D15 = ( SupMap C22 );
assume L96: D15 is  infs-preserving  sups-preserving;
L97: (ex B42 being (Function of C22 , ( InclPoset ( Ids C22 ) )) st ([ D15 , B42 ] is  Galois & (for B43 being (Element of C22) holds ( B42 . B43 ) is_minimum_of ( D15 " ( uparrow B43 ) )))) by L96 , WAYBEL_1:14;
thus L98: thesis by L97 , WAYBEL_1:def 11;
end;
definition
let C23 , C24 being set;
let C25 being (ManySortedSet of C23);
mode DoubleIndexedSet of C25 , C24
 is (ManySortedFunction of C25 , ( C23 --> C24 ));
end;
definition
let C26 being set;
let C27 being (ManySortedSet of C26);
let C28 being 1-sorted;
mode DoubleIndexedSet of C27 , C28
 is (DoubleIndexedSet of C27 , (the carrier of C28));
end;
theorem
L101: (for B44 , B45 being set holds (for B46 being (ManySortedSet of B44) holds (for B47 being (DoubleIndexedSet of B46 , B45) holds (for B48 being set holds (B48 in B44 implies ( B47 . B48 ) is (Function of ( B46 . B48 ) , B45))))))
proof
let C29 , C30 being set;
let C31 being (ManySortedSet of C29);
let C32 being (DoubleIndexedSet of C31 , C30);
let C33 being set;
assume L102: C33 in C29;
L103: ( ( C29 --> C30 ) . C33 ) = C30 by L102 , FUNCOP_1:7;
thus L104: thesis by L103 , L102 , PBOOLE:def 15;
end;
definition
let C34 , C35 being non  empty set;
let C36 being (ManySortedSet of C34);
let C37 being (DoubleIndexedSet of C36 , C35);
let C38 being (Element of C34);
redefine func C37 . C38 -> (Function of ( C36 . C38 ) , C35);

coherence by L101;
end;
registration
let C39 , C40 being non  empty set;
let C41 being  non-empty (ManySortedSet of C39);
let C42 being (DoubleIndexedSet of C41 , C40);
let C43 being (Element of C39);
cluster ( rng ( C42 . C43 ) ) -> non  empty;
correctness;
end;
registration
let C44 being set;
let C45 being non  empty set;
let C46 being  non-empty (ManySortedSet of C44);
cluster  ->  non-empty for (DoubleIndexedSet of C46 , C45);
correctness
proof
let C47 being (DoubleIndexedSet of C46 , C45);
L107: (for B49 being set holds (B49 in ( dom C47 ) implies ( C47 . B49 ) is non  empty))
proof
let C48 being set;
set D16 = the (Element of ( C46 . C48 ));
assume L108: C48 in ( dom C47 );
L109: C48 in C44 by L108;
L110: ( C47 . C48 ) is (Function of ( C46 . C48 ) , C45) by L109 , L101;
L111: ( dom ( C47 . C48 ) ) = ( C46 . C48 ) by L110 , FUNCT_2:def 1;
L112: [ D16 , ( ( C47 . C48 ) . D16 ) ] in ( C47 . C48 ) by L111 , L109 , FUNCT_1:def 2;
thus L113: thesis by L112;
end;
thus L114: thesis by L107 , FUNCT_1:def 9;
end;
end;
theorem
L116: (for B50 being  Function-yielding Function holds (for B51 being set holds (B51 in ( dom ( Frege B50 ) ) implies B51 is Function)));
theorem
L117: (for B52 being  Function-yielding Function holds (for B53 being Function holds (B53 in ( dom ( Frege B52 ) ) implies (( dom B53 ) = ( dom B52 ) & ( dom B52 ) = ( dom ( ( Frege B52 ) . B53 ) )))))
proof
let C49 being  Function-yielding Function;
let C50 being Function;
assume L118: C50 in ( dom ( Frege C49 ) );
L119: C50 in ( product ( doms C49 ) ) by L118;
L120: (ex B54 being Function st (B54 = C50 & ( dom B54 ) = ( dom ( doms C49 ) ) & (for R1 being set holds (R1 in ( dom ( doms C49 ) ) implies ( B54 . R1 ) in ( ( doms C49 ) . R1 ))))) by L119 , CARD_3:def 5;
thus L121: ( dom C50 ) = ( dom C49 ) by L120 , FUNCT_6:59;
thus L122: ( dom ( ( Frege C49 ) . C50 ) ) = ( dom ( C49 .. C50 ) ) by L119 , PRALG_2:def 2
.= ( dom C49 ) by PRALG_1:def 17;
end;
theorem
L123: (for B55 being  Function-yielding Function holds (for B56 being Function holds (B56 in ( dom ( Frege B55 ) ) implies (for B57 being set holds (B57 in ( dom B55 ) implies (( B56 . B57 ) in ( dom ( B55 . B57 ) ) & ( ( ( Frege B55 ) . B56 ) . B57 ) = ( ( B55 . B57 ) . ( B56 . B57 ) ) & ( ( B55 . B57 ) . ( B56 . B57 ) ) in ( rng ( ( Frege B55 ) . B56 ) )))))))
proof
let C51 being  Function-yielding Function;
let C52 being Function;
assume that
L124: C52 in ( dom ( Frege C51 ) );
L125: C52 in ( product ( doms C51 ) ) by L124;
set D17 = ( ( Frege C51 ) . C52 );
let C53 being set;
assume that
L126: C53 in ( dom C51 );
L127: C53 in ( dom ( doms C51 ) ) by L126 , FUNCT_6:59;
L128: ( C52 . C53 ) in ( ( doms C51 ) . C53 ) by L127 , L125 , CARD_3:9;
thus L129: ( C52 . C53 ) in ( dom ( C51 . C53 ) ) by L128 , L126 , FUNCT_6:22;
L130: D17 = ( C51 .. C52 ) by L125 , PRALG_2:def 2;
thus L131: ( D17 . C53 ) = ( ( C51 . C53 ) . ( C52 . C53 ) ) by L130 , L126 , PRALG_1:def 17;
L132: ( dom D17 ) = ( dom C51 ) by L124 , L117;
thus L133: thesis by L132 , L126 , L131 , FUNCT_1:def 3;
end;
theorem
L134: (for B58 , B59 being set holds (for B60 being (ManySortedSet of B58) holds (for B61 being (DoubleIndexedSet of B60 , B59) holds (for B62 being Function holds (B62 in ( dom ( Frege B61 ) ) implies ( ( Frege B61 ) . B62 ) is (Function of B58 , B59))))))
proof
let C54 , C55 being set;
let C56 being (ManySortedSet of C54);
let C57 being (DoubleIndexedSet of C56 , C55);
let C58 being Function;
assume that
L135: C58 in ( dom ( Frege C57 ) );
set D18 = ( ( Frege C57 ) . C58 );
L136: ( dom D18 ) = ( dom C57 ) by L135 , L117;
L137: ( dom C57 ) = C54 by PARTFUN1:def 2;
L138: ( rng D18 ) c= C55
proof
let C59 being set;
assume L139: C59 in ( rng D18 );
consider R1 being set such that L140: R1 in ( dom D18 ) and L141: C59 = ( D18 . R1 ) by L139 , FUNCT_1:def 3;
L142: ( C57 . R1 ) is (Function of ( C56 . R1 ) , C55) by L136 , L140 , L101;
L143: ( rng ( C57 . R1 ) ) c= C55 by L142 , RELAT_1:def 19;
L144: (( D18 . R1 ) = ( ( C57 . R1 ) . ( C58 . R1 ) ) & ( C58 . R1 ) in ( dom ( C57 . R1 ) )) by L135 , L136 , L140 , L123;
L145: C59 in ( rng ( C57 . R1 ) ) by L144 , L141 , FUNCT_1:def 3;
thus L146: thesis by L145 , L143;
end;
thus L147: thesis by L138 , L137 , L136 , FUNCT_2:2;
end;
L148: (for B63 , B64 being set holds (for B65 being (ManySortedSet of B63) holds (for B66 being (DoubleIndexedSet of B65 , B64) holds (for B67 being Function holds (B67 in ( dom ( Frege B66 ) ) implies (for B68 being set holds (B68 in B63 implies (( ( ( Frege B66 ) . B67 ) . B68 ) = ( ( B66 . B68 ) . ( B67 . B68 ) ) & ( ( B66 . B68 ) . ( B67 . B68 ) ) in ( rng ( ( Frege B66 ) . B67 ) )))))))))
proof
let C60 , C61 being set;
let C62 being (ManySortedSet of C60);
let C63 being (DoubleIndexedSet of C62 , C61);
let C64 being Function;
assume that
L149: C64 in ( dom ( Frege C63 ) );
let C65 being set;
assume L150: C65 in C60;
L151: C65 in ( dom C63 ) by L150 , PARTFUN1:def 2;
thus L152: ( ( ( Frege C63 ) . C64 ) . C65 ) = ( ( C63 . C65 ) . ( C64 . C65 ) ) by L151 , L149 , L123;
thus L153: thesis by L149 , L151 , L123;
end;
L154: (for B69 being set holds (for B70 being (ManySortedSet of B69) holds (for B71 being non  empty set holds (for B72 being (DoubleIndexedSet of B70 , B71) holds (for B73 being Function holds (B73 in ( dom ( Frege B72 ) ) implies (for B74 being set holds (B74 in B69 implies ( B73 . B74 ) in ( B70 . B74 )))))))))
proof
let C66 being set;
let C67 being (ManySortedSet of C66);
let C68 being non  empty set;
let C69 being (DoubleIndexedSet of C67 , C68);
let C70 being Function;
assume that
L155: C70 in ( dom ( Frege C69 ) );
let C71 being set;
assume that
L156: C71 in C66;
L157: ( C69 . C71 ) is (Function of ( C67 . C71 ) , C68) by L156 , L101;
L158: ( dom C69 ) = C66 by PARTFUN1:def 2;
L159: ( C70 . C71 ) in ( dom ( C69 . C71 ) ) by L158 , L155 , L156 , L123;
thus L160: thesis by L159 , L157 , FUNCT_2:def 1;
end;
registration
let C72 being  non-empty Function;
cluster ( doms C72 ) ->  non-empty;
correctness
proof
L161: (for B75 being set holds (B75 in ( dom ( doms C72 ) ) implies ( ( doms C72 ) . B75 ) is non  empty))
proof
let C73 being set;
assume that
L162: C73 in ( dom ( doms C72 ) )
and
L163: ( ( doms C72 ) . C73 ) is  empty;
L164: C73 in ( C72 " ( SubFuncs ( rng C72 ) ) ) by L162 , FUNCT_6:def 2;
reconsider D19 = ( C72 . C73 ) as Function by L164 , FUNCT_6:19;
L165: C73 in ( dom C72 ) by L164 , FUNCT_6:19;
L166: ( {} ) = ( dom D19 ) by L165 , L163 , FUNCT_6:22;
L167: ( C72 . C73 ) = ( {} ) by L166;
thus L168: contradiction by L167 , L165 , FUNCT_1:def 9;
end;
thus L169: thesis by L161 , FUNCT_1:def 9;
end;
end;
definition
let C74 , C75 being set;
let C76 being (ManySortedSet of C74);
let C77 being (DoubleIndexedSet of C76 , C75);
redefine func Frege C77 -> (DoubleIndexedSet of ( ( product ( doms C77 ) ) --> C74 ) , C75);

coherence
proof
set D20 = ( Frege C77 );
set D21 = ( product ( doms C77 ) );
set D22 = ( D21 --> C74 );
set D23 = ( D21 --> C75 );
L171: (for R3 being set holds (R3 in D21 implies ( D20 . R3 ) is (Function of ( D22 . R3 ) , ( D23 . R3 ))))
proof
let R3 being set;
assume L172: R3 in D21;
reconsider D24 = R3 as Function by L172;
L173: ( D23 . R3 ) = C75 by L172 , FUNCOP_1:7;
L174: (R3 in ( dom D20 ) & ( D22 . R3 ) = C74) by L172 , FUNCOP_1:7 , PARTFUN1:def 2;
L175: ( D20 . D24 ) is (Function of ( D22 . R3 ) , ( D23 . R3 )) by L174 , L173 , L134;
thus L176: thesis by L175;
end;
thus L177: thesis by L171 , PBOOLE:def 15;
end;
end;
definition
let C78 , C79 being non  empty set;
let C80 being  non-empty (ManySortedSet of C78);
let C81 being (DoubleIndexedSet of C80 , C79);
let C82 being (DoubleIndexedSet of ( ( product ( doms C81 ) ) --> C78 ) , C79);
let C83 being (Element of ( product ( doms C81 ) ));
redefine func C82 . C83 -> (Function of C78 , C79);

coherence
proof
L179: ( ( ( product ( doms C81 ) ) --> C78 ) . C83 ) = C78 by FUNCOP_1:7;
thus L180: ( C82 . C83 ) is (Function of C78 , C79) by L179;
end;
end;
definition
let C84 being non  empty RelStr;
let C85 being  Function-yielding Function;
func \// (C85 , C84) -> (Function of ( dom C85 ) , (the carrier of C84)) means 
:L182: (for R1 being set holds (R1 in ( dom C85 ) implies ( it . R1 ) = ( \\/ (( C85 . R1 ) , C84) )));
existence
proof
deffunc H2(set) = ( \\/ (( C85 . $1 ) , C84) );
L183: (ex B76 being Function st (( dom B76 ) = ( dom C85 ) & (for R1 being set holds (R1 in ( dom C85 ) implies ( B76 . R1 ) = H2(R1))))) from FUNCT_1:sch 3;
consider C86 being Function such that L184: ( dom C86 ) = ( dom C85 ) and L185: (for R1 being set holds (R1 in ( dom C85 ) implies ( C86 . R1 ) = ( \\/ (( C85 . R1 ) , C84) ))) by L183;
L186: ( rng C86 ) c= (the carrier of C84)
proof
let R2 being set;
assume L187: R2 in ( rng C86 );
consider R1 being set such that L188: (R1 in ( dom C86 ) & R2 = ( C86 . R1 )) by L187 , FUNCT_1:def 3;
L189: R2 = ( \\/ (( C85 . R1 ) , C84) ) by L184 , L185 , L188;
thus L190: thesis by L189;
end;
reconsider D25 = C86 as (Function of ( dom C85 ) , (the carrier of C84)) by L186 , L184 , FUNCT_2:2;
take D25;
thus L191: thesis by L185;
end;
uniqueness
proof
let C87 , C88 being (Function of ( dom C85 ) , (the carrier of C84));
assume that
L192: (for R1 being set holds (R1 in ( dom C85 ) implies ( C87 . R1 ) = ( \\/ (( C85 . R1 ) , C84) )))
and
L193: (for R1 being set holds (R1 in ( dom C85 ) implies ( C88 . R1 ) = ( \\/ (( C85 . R1 ) , C84) )));
L194:
now
let R1 being set;
assume L195: R1 in ( dom C85 );
thus L196: ( C87 . R1 ) = ( \\/ (( C85 . R1 ) , C84) ) by L195 , L192
.= ( C88 . R1 ) by L193 , L195;
end;
L197: (( dom C87 ) = ( dom C85 ) & ( dom C88 ) = ( dom C85 )) by FUNCT_2:def 1;
thus L198: thesis by L197 , L194 , FUNCT_1:2;
end;
func /\\ (C85 , C84) -> (Function of ( dom C85 ) , (the carrier of C84)) means 
:L199: (for R1 being set holds (R1 in ( dom C85 ) implies ( it . R1 ) = ( //\ (( C85 . R1 ) , C84) )));
existence
proof
deffunc H3(set) = ( //\ (( C85 . $1 ) , C84) );
L200: (ex B77 being Function st (( dom B77 ) = ( dom C85 ) & (for R1 being set holds (R1 in ( dom C85 ) implies ( B77 . R1 ) = H3(R1))))) from FUNCT_1:sch 3;
consider C89 being Function such that L201: ( dom C89 ) = ( dom C85 ) and L202: (for R1 being set holds (R1 in ( dom C85 ) implies ( C89 . R1 ) = ( //\ (( C85 . R1 ) , C84) ))) by L200;
L203: ( rng C89 ) c= (the carrier of C84)
proof
let R2 being set;
assume L204: R2 in ( rng C89 );
consider R1 being set such that L205: (R1 in ( dom C89 ) & R2 = ( C89 . R1 )) by L204 , FUNCT_1:def 3;
L206: R2 = ( //\ (( C85 . R1 ) , C84) ) by L201 , L202 , L205;
thus L207: thesis by L206;
end;
reconsider D26 = C89 as (Function of ( dom C85 ) , (the carrier of C84)) by L203 , L201 , FUNCT_2:2;
take D26;
thus L208: thesis by L202;
end;
uniqueness
proof
let C90 , C91 being (Function of ( dom C85 ) , (the carrier of C84));
assume that
L209: (for R1 being set holds (R1 in ( dom C85 ) implies ( C90 . R1 ) = ( //\ (( C85 . R1 ) , C84) )))
and
L210: (for R1 being set holds (R1 in ( dom C85 ) implies ( C91 . R1 ) = ( //\ (( C85 . R1 ) , C84) )));
L211:
now
let R1 being set;
assume L212: R1 in ( dom C85 );
thus L213: ( C90 . R1 ) = ( //\ (( C85 . R1 ) , C84) ) by L212 , L209
.= ( C91 . R1 ) by L210 , L212;
end;
L214: (( dom C90 ) = ( dom C85 ) & ( dom C91 ) = ( dom C85 )) by FUNCT_2:def 1;
thus L215: thesis by L214 , L211 , FUNCT_1:2;
end;
end;
notation
let C92 being set;
let C93 being (ManySortedSet of C92);
let C94 being non  empty RelStr;
let C95 being (DoubleIndexedSet of C93 , C94);
synonym Sups C95 for \// (C95 , C94);
synonym Infs C95 for /\\ (C95 , C94);
end;
notation
let C96 , C97 being set;
let C98 being non  empty RelStr;
let C99 being (DoubleIndexedSet of ( C96 --> C97 ) , C98);
synonym Sups C99 for \// (C99 , C98);
synonym Infs C99 for /\\ (C99 , C98);
end;
theorem
L219: (for B78 being non  empty RelStr holds (for B79 , B80 being  Function-yielding Function holds ((( dom B79 ) = ( dom B80 ) & (for R1 being set holds (R1 in ( dom B79 ) implies ( \\/ (( B79 . R1 ) , B78) ) = ( \\/ (( B80 . R1 ) , B78) )))) implies ( \// (B79 , B78) ) = ( \// (B80 , B78) ))))
proof
let C100 being non  empty RelStr;
let C101 , C102 being  Function-yielding Function;
assume that
L220: ( dom C101 ) = ( dom C102 )
and
L221: (for R1 being set holds (R1 in ( dom C101 ) implies ( \\/ (( C101 . R1 ) , C100) ) = ( \\/ (( C102 . R1 ) , C100) )));
L222: (for R1 being set holds (R1 in ( dom C101 ) implies ( ( \// (C101 , C100) ) . R1 ) = ( ( \// (C102 , C100) ) . R1 )))
proof
let R1 being set;
assume L223: R1 in ( dom C101 );
thus L224: ( ( \// (C101 , C100) ) . R1 ) = ( \\/ (( C101 . R1 ) , C100) ) by L223 , L182
.= ( \\/ (( C102 . R1 ) , C100) ) by L221 , L223
.= ( ( \// (C102 , C100) ) . R1 ) by L220 , L223 , L182;
end;
L225: (( dom ( \// (C101 , C100) ) ) = ( dom C101 ) & ( dom ( \// (C102 , C100) ) ) = ( dom C102 )) by FUNCT_2:def 1;
thus L226: thesis by L225 , L220 , L222 , FUNCT_1:2;
end;
theorem
L227: (for B81 being non  empty RelStr holds (for B82 , B83 being  Function-yielding Function holds ((( dom B82 ) = ( dom B83 ) & (for R1 being set holds (R1 in ( dom B82 ) implies ( //\ (( B82 . R1 ) , B81) ) = ( //\ (( B83 . R1 ) , B81) )))) implies ( /\\ (B82 , B81) ) = ( /\\ (B83 , B81) ))))
proof
let C103 being non  empty RelStr;
let C104 , C105 being  Function-yielding Function;
assume that
L228: ( dom C104 ) = ( dom C105 )
and
L229: (for R1 being set holds (R1 in ( dom C104 ) implies ( //\ (( C104 . R1 ) , C103) ) = ( //\ (( C105 . R1 ) , C103) )));
L230: (for R1 being set holds (R1 in ( dom C104 ) implies ( ( /\\ (C104 , C103) ) . R1 ) = ( ( /\\ (C105 , C103) ) . R1 )))
proof
let R1 being set;
assume L231: R1 in ( dom C104 );
thus L232: ( ( /\\ (C104 , C103) ) . R1 ) = ( //\ (( C104 . R1 ) , C103) ) by L231 , L199
.= ( //\ (( C105 . R1 ) , C103) ) by L229 , L231
.= ( ( /\\ (C105 , C103) ) . R1 ) by L228 , L231 , L199;
end;
L233: (( dom ( /\\ (C104 , C103) ) ) = ( dom C104 ) & ( dom ( /\\ (C105 , C103) ) ) = ( dom C105 )) by FUNCT_2:def 1;
thus L234: thesis by L233 , L228 , L230 , FUNCT_1:2;
end;
theorem
L235: (for R2 being set holds (for B84 being non  empty RelStr holds (for B85 being  Function-yielding Function holds ((R2 in ( rng ( \// (B85 , B84) ) ) iff (ex R1 being set st (R1 in ( dom B85 ) & R2 = ( \\/ (( B85 . R1 ) , B84) )))) & (R2 in ( rng ( /\\ (B85 , B84) ) ) iff (ex R1 being set st (R1 in ( dom B85 ) & R2 = ( //\ (( B85 . R1 ) , B84) ))))))))
proof
let R2 being set;
let C106 being non  empty RelStr;
let C107 being  Function-yielding Function;
thus L236: (R2 in ( rng ( \// (C107 , C106) ) ) iff (ex R1 being set st (R1 in ( dom C107 ) & R2 = ( \\/ (( C107 . R1 ) , C106) ))))
proof
thus L237:now
assume L238: R2 in ( rng ( \// (C107 , C106) ) );
consider R1 being set such that L239: (R1 in ( dom ( \// (C107 , C106) ) ) & R2 = ( ( \// (C107 , C106) ) . R1 )) by L238 , FUNCT_1:def 3;
take D27 = R1;
thus L240: (D27 in ( dom C107 ) & R2 = ( \\/ (( C107 . D27 ) , C106) )) by L239 , L182;
end;
given R1 being set such that
L241: (R1 in ( dom C107 ) & R2 = ( \\/ (( C107 . R1 ) , C106) ));

L242: (R1 in ( dom ( \// (C107 , C106) ) ) & R2 = ( ( \// (C107 , C106) ) . R1 )) by L241 , L182 , FUNCT_2:def 1;
thus L243: thesis by L242 , FUNCT_1:def 3;
end;

thus L244: (R2 in ( rng ( /\\ (C107 , C106) ) ) iff (ex R1 being set st (R1 in ( dom C107 ) & R2 = ( //\ (( C107 . R1 ) , C106) ))))
proof
thus L245:now
assume L246: R2 in ( rng ( /\\ (C107 , C106) ) );
consider R1 being set such that L247: (R1 in ( dom ( /\\ (C107 , C106) ) ) & R2 = ( ( /\\ (C107 , C106) ) . R1 )) by L246 , FUNCT_1:def 3;
take D28 = R1;
thus L248: (D28 in ( dom C107 ) & R2 = ( //\ (( C107 . D28 ) , C106) )) by L247 , L199;
end;
given R1 being set such that
L249: (R1 in ( dom C107 ) & R2 = ( //\ (( C107 . R1 ) , C106) ));

L250: (R1 in ( dom ( /\\ (C107 , C106) ) ) & R2 = ( ( /\\ (C107 , C106) ) . R1 )) by L249 , L199 , FUNCT_2:def 1;
thus L251: thesis by L250 , FUNCT_1:def 3;
end;

end;
theorem
L245: (for R1 being set holds (for B86 being non  empty RelStr holds (for B87 being non  empty set holds (for B88 being (ManySortedSet of B87) holds (for B89 being (DoubleIndexedSet of B88 , B86) holds ((R1 in ( rng ( Sups B89 ) ) iff (ex B90 being (Element of B87) st R1 = ( Sup ( B89 . B90 ) ))) & (R1 in ( rng ( Infs B89 ) ) iff (ex B91 being (Element of B87) st R1 = ( Inf ( B89 . B91 ) )))))))))
proof
let R1 being set;
let C108 being non  empty RelStr;
let C109 being non  empty set;
let C110 being (ManySortedSet of C109);
let C111 being (DoubleIndexedSet of C110 , C108);
L246: ( dom C111 ) = C109 by PARTFUN1:def 2;
thus L247: (R1 in ( rng ( Sups C111 ) ) iff (ex B92 being (Element of C109) st R1 = ( Sup ( C111 . B92 ) )))
proof
thus L248:now
assume L249: R1 in ( rng ( Sups C111 ) );
consider C112 being set such that L250: C112 in ( dom C111 ) and L251: R1 = ( \\/ (( C111 . C112 ) , C108) ) by L249 , L235;
reconsider D29 = C112 as (Element of C109) by L250;
take D30 = D29;
thus L252: R1 = ( Sup ( C111 . D30 ) ) by L251;
end;
thus L253: thesis by L246 , L235;
end;

thus L254:now
assume L255: R1 in ( rng ( Infs C111 ) );
consider C113 being set such that L256: C113 in ( dom C111 ) and L257: R1 = ( //\ (( C111 . C113 ) , C108) ) by L255 , L235;
reconsider D31 = C113 as (Element of C109) by L256;
take D32 = D31;
thus L258: R1 = ( Inf ( C111 . D32 ) ) by L257;
end;
thus L259: thesis by L246 , L235;
end;
registration
let C114 being non  empty set;
let C115 being (ManySortedSet of C114);
let C116 being non  empty RelStr;
let C117 being (DoubleIndexedSet of C115 , C116);
cluster ( rng ( Sups C117 ) ) -> non  empty;
correctness;
cluster ( rng ( Infs C117 ) ) -> non  empty;
correctness;
end;
L261: (for R5 being  complete LATTICE holds (for R9 being non  empty set holds (for R10 being  non-empty (ManySortedSet of R9) holds (for B93 being (DoubleIndexedSet of R10 , R5) holds (for B94 being set holds (B94 is (Element of ( product ( doms B93 ) )) iff B94 in ( dom ( Frege B93 ) )))))))
proof
let R5 being  complete LATTICE;
let R9 being non  empty set;
let R10 being  non-empty (ManySortedSet of R9);
let C118 being (DoubleIndexedSet of R10 , R5);
let C119 being set;
thus L262:now
assume L263: C119 is (Element of ( product ( doms C118 ) ));
L264: C119 in ( product ( doms C118 ) ) by L263;
thus L265: C119 in ( dom ( Frege C118 ) ) by L264 , PARTFUN1:def 2;
end;
thus L266: thesis;
end;
theorem
L267: (for R5 being  complete LATTICE holds (for R6 being (Element of R5) holds (for B95 being  Function-yielding Function holds ((for B96 being Function holds (B96 in ( dom ( Frege B95 ) ) implies ( //\ (( ( Frege B95 ) . B96 ) , R5) ) <= R6)) implies ( Sup ( /\\ (( Frege B95 ) , R5) ) ) <= R6))))
proof
let R5 being  complete LATTICE;
let R6 being (Element of R5);
let C120 being  Function-yielding Function;
assume L268: (for B97 being Function holds (B97 in ( dom ( Frege C120 ) ) implies ( //\ (( ( Frege C120 ) . B97 ) , R5) ) <= R6));
L269: ( rng ( /\\ (( Frege C120 ) , R5) ) ) is_<=_than R6
proof
let R8 being (Element of R5);
assume L270: R8 in ( rng ( /\\ (( Frege C120 ) , R5) ) );
consider C121 being set such that L271: C121 in ( dom ( Frege C120 ) ) and L272: R8 = ( //\ (( ( Frege C120 ) . C121 ) , R5) ) by L270 , L235;
reconsider D33 = C121 as Function by L271;
L273: D33 in ( dom ( Frege C120 ) ) by L271;
thus L274: R8 <= R6 by L273 , L268 , L272;
end;
L275: ( sup ( rng ( /\\ (( Frege C120 ) , R5) ) ) ) <= R6 by L269 , YELLOW_0:32;
thus L276: thesis by L275 , YELLOW_2:def 5;
end;
theorem
L277: (for R5 being  complete LATTICE holds (for R9 being non  empty set holds (for R10 being  non-empty (ManySortedSet of R9) holds (for B98 being (DoubleIndexedSet of R10 , R5) holds ( Inf ( Sups B98 ) ) >= ( Sup ( Infs ( Frege B98 ) ) )))))
proof
let R5 being  complete LATTICE;
let R9 being non  empty set;
let R10 being  non-empty (ManySortedSet of R9);
let C122 being (DoubleIndexedSet of R10 , R5);
set D34 = ( Sup ( Infs ( Frege C122 ) ) );
L278: (for B99 being (Element of R9) holds (for B100 being (Element of ( product ( doms C122 ) )) holds ( Sup ( C122 . B99 ) ) >= ( Inf ( ( Frege C122 ) . B100 ) )))
proof
let C123 being (Element of R9);
let C124 being (Element of ( product ( doms C122 ) ));
L279: C124 in ( dom ( Frege C122 ) ) by L261;
reconsider D35 = ( C124 . C123 ) as (Element of ( R10 . C123 )) by L279 , L154;
L280: ( ( C122 . C123 ) . D35 ) = ( ( ( Frege C122 ) . C124 ) . C123 ) by L279 , L148;
L281: ( Inf ( ( Frege C122 ) . C124 ) ) <= ( ( C122 . C123 ) . D35 ) by L280 , YELLOW_2:53;
L282: ( ( C122 . C123 ) . D35 ) <= ( Sup ( C122 . C123 ) ) by YELLOW_2:53;
thus L283: thesis by L282 , L281 , ORDERS_2:3;
end;
L284: D34 is_<=_than ( rng ( Sups C122 ) )
proof
let R8 being (Element of R5);
assume L285: R8 in ( rng ( Sups C122 ) );
consider C125 being (Element of R9) such that L286: R8 = ( Sup ( C122 . C125 ) ) by L285 , L245;
L287: (for B101 being Function holds (B101 in ( dom ( Frege C122 ) ) implies ( //\ (( ( Frege C122 ) . B101 ) , R5) ) <= R8)) by L278 , L286;
thus L288: D34 <= R8 by L287 , L267;
end;
L289: D34 <= ( inf ( rng ( Sups C122 ) ) ) by L284 , YELLOW_0:33;
thus L290: thesis by L289 , YELLOW_2:def 6;
end;
theorem
L291: (for R5 being  complete LATTICE holds (for R6 being (Element of R5) holds (for R7 being (Element of R5) holds ((R5 is  continuous & (for R8 being (Element of R5) holds (R8 << R6 implies R8 <= R7))) implies R6 <= R7))))
proof
let R5 being  complete LATTICE;
let R6 being (Element of R5);
let R7 being (Element of R5);
assume that
L292: R5 is  continuous
and
L293: (for R8 being (Element of R5) holds (R8 << R6 implies R8 <= R7));
L294:
now
let R8 being (Element of R5);
assume L295: R8 in ( waybelow R6 );
L296: R8 << R6 by L295 , WAYBEL_3:7;
thus L297: R8 <= R7 by L296 , L293;
end;
L298: ( waybelow R6 ) is_<=_than R7 by L294 , LATTICE3:def 9;
L299: ( sup ( waybelow R6 ) ) <= R7 by L298 , YELLOW_0:32;
thus L300: thesis by L299 , L292 , WAYBEL_3:def 5;
end;
L301: (for R5 being  complete LATTICE holds (R5 is  continuous implies (for R9 being non  empty set holds (for R10 being  non-empty (ManySortedSet of R9) holds (for B102 being (DoubleIndexedSet of R10 , R5) holds ((for B103 being (Element of R9) holds ( rng ( B102 . B103 ) ) is  directed) implies ( Inf ( Sups B102 ) ) = ( Sup ( Infs ( Frege B102 ) ) )))))))
proof
let R5 being  complete LATTICE;
assume L302: R5 is  continuous;
let R9 being non  empty set;
let R10 being  non-empty (ManySortedSet of R9);
let C126 being (DoubleIndexedSet of R10 , R5);
assume that
L303: (for B104 being (Element of R9) holds ( rng ( C126 . B104 ) ) is  directed);
L304:
now
let R8 being (Element of R5);
assume L305: R8 << ( Inf ( Sups C126 ) );
L306: (for B105 being (Element of R9) holds R8 << ( Sup ( C126 . B105 ) ))
proof
let C127 being (Element of R9);
L307: ( Sup ( C126 . C127 ) ) in ( rng ( Sups C126 ) ) by L245;
L308: ( inf ( rng ( Sups C126 ) ) ) <= ( Sup ( C126 . C127 ) ) by L307 , YELLOW_2:22;
L309: ( Inf ( Sups C126 ) ) <= ( Sup ( C126 . C127 ) ) by L308 , YELLOW_2:def 6;
thus L310: thesis by L309 , L305 , WAYBEL_3:2;
end;
L311: (ex B106 being Function st (B106 in ( dom ( Frege C126 ) ) & (for B107 being (Element of R9) holds (ex R7 being (Element of R5) st (R7 = ( ( C126 . B107 ) . ( B106 . B107 ) ) & R8 <= R7)))))
proof
defpred S1[ set , set ] means ($1 in R9 & $2 in ( R10 . $1 ) & (ex R7 being (Element of R5) st (R7 = ( ( C126 . $1 ) . $2 ) & R8 <= R7)));
L312: (for B108 being (Element of R9) holds (ex B109 being (Element of ( R10 . B108 )) st R8 <= ( ( C126 . B108 ) . B109 )))
proof
let C128 being (Element of R9);
L313: ( Sup ( C126 . C128 ) ) <= ( sup ( rng ( C126 . C128 ) ) ) by YELLOW_2:def 5;
L314: (( rng ( C126 . C128 ) ) is non  empty  directed non  empty  directed non  empty  directed non  empty  directed (Subset of R5) & R8 << ( Sup ( C126 . C128 ) )) by L303 , L306;
consider C129 being (Element of R5) such that L315: C129 in ( rng ( C126 . C128 ) ) and L316: R8 <= C129 by L314 , L313 , WAYBEL_3:def 1;
consider C130 being set such that L317: C130 in ( dom ( C126 . C128 ) ) and L318: C129 = ( ( C126 . C128 ) . C130 ) by L315 , FUNCT_1:def 3;
reconsider D36 = C130 as (Element of ( R10 . C128 )) by L317;
take D36;
thus L319: thesis by L316 , L318;
end;
L320: (for B110 being set holds (B110 in R9 implies (ex B111 being set st (B111 in ( union ( rng R10 ) ) & S1[ B110 , B111 ]))))
proof
let C131 being set;
assume L321: C131 in R9;
reconsider D37 = C131 as (Element of R9) by L321;
consider C132 being (Element of ( R10 . D37 )) such that L322: R8 <= ( ( C126 . D37 ) . C132 ) by L312;
take C132;
L323: D37 in R9;
L324: D37 in ( dom R10 ) by L323 , PARTFUN1:def 2;
L325: ( R10 . D37 ) in ( rng R10 ) by L324 , FUNCT_1:def 3;
thus L326: C132 in ( union ( rng R10 ) ) by L325 , TARSKI:def 4;
thus L327: thesis by L322;
end;
consider C133 being Function such that L328: ( dom C133 ) = R9 and L329: ( rng C133 ) c= ( union ( rng R10 ) ) and L330: (for B112 being set holds (B112 in R9 implies S1[ B112 , ( C133 . B112 ) ])) from FUNCT_1:sch 5(L320);
L331:
now
let C134 being set;
assume L332: C134 in ( dom ( doms C126 ) );
L333: C134 in ( dom C126 ) by L332 , FUNCT_6:59;
reconsider D38 = C134 as (Element of R9) by L333;
L334: ( ( doms C126 ) . C134 ) = ( dom ( C126 . D38 ) ) by L333 , FUNCT_6:22
.= ( R10 . D38 ) by FUNCT_2:def 1;
thus L335: ( C133 . C134 ) in ( ( doms C126 ) . C134 ) by L334 , L330;
end;
L336: ( dom C133 ) = ( dom C126 ) by L328 , PARTFUN1:def 2
.= ( dom ( doms C126 ) ) by FUNCT_6:59;
L337: C133 in ( product ( doms C126 ) ) by L336 , L331 , CARD_3:9;
L338: C133 in ( dom ( Frege C126 ) ) by L337 , PARTFUN1:def 2;
L339: (for B113 being (Element of R9) holds (( C133 . B113 ) in ( R10 . B113 ) & (ex R7 being (Element of R5) st (R7 = ( ( C126 . B113 ) . ( C133 . B113 ) ) & R8 <= R7)))) by L330;
thus L340: thesis by L339 , L338;
end;
consider C135 being Function such that L341: C135 in ( dom ( Frege C126 ) ) and L342: (for B114 being (Element of R9) holds (ex R7 being (Element of R5) st (R7 = ( ( C126 . B114 ) . ( C135 . B114 ) ) & R8 <= R7))) by L311;
reconsider D39 = C135 as (Element of ( product ( doms C126 ) )) by L341;
reconsider D40 = ( ( Frege C126 ) . D39 ) as (Function of R9 , (the carrier of R5));
L343:
now
let C136 being (Element of R9);
L344: C136 in R9;
L345: C136 in ( dom C126 ) by L344 , PARTFUN1:def 2;
L346: (ex R7 being (Element of R5) st (R7 = ( ( C126 . C136 ) . ( D39 . C136 ) ) & R8 <= R7)) by L342;
thus L347: R8 <= ( D40 . C136 ) by L346 , L341 , L345 , L123;
end;
L348: R8 <= ( Inf ( ( Frege C126 ) . D39 ) ) by L343 , YELLOW_2:55;
set D41 = ( Inf ( ( Frege C126 ) . D39 ) );
L349: D41 in ( rng ( Infs ( Frege C126 ) ) ) by L245;
L350: D41 <= ( sup ( rng ( Infs ( Frege C126 ) ) ) ) by L349 , YELLOW_2:22;
L351: D41 <= ( Sup ( Infs ( Frege C126 ) ) ) by L350 , YELLOW_2:def 5;
thus L352: R8 <= ( Sup ( Infs ( Frege C126 ) ) ) by L351 , L348 , YELLOW_0:def 2;
end;
L353: ( Inf ( Sups C126 ) ) <= ( Sup ( Infs ( Frege C126 ) ) ) by L304 , L302 , L291;
L354: ( Inf ( Sups C126 ) ) >= ( Sup ( Infs ( Frege C126 ) ) ) by L277;
thus L355: thesis by L354 , L353 , YELLOW_0:def 3;
end;
theorem
L356: (for R5 being  complete LATTICE holds ((for B115 being non  empty set holds (B115 in ( the_universe_of (the carrier of R5) ) implies (for B116 being  non-empty (ManySortedSet of B115) holds ((for B117 being (Element of B115) holds ( B116 . B117 ) in ( the_universe_of (the carrier of R5) )) implies (for B118 being (DoubleIndexedSet of B116 , R5) holds ((for B119 being (Element of B115) holds ( rng ( B118 . B119 ) ) is  directed) implies ( Inf ( Sups B118 ) ) = ( Sup ( Infs ( Frege B118 ) ) ))))))) implies R5 is  continuous))
proof
let R5 being  complete LATTICE;
assume L357: (for B120 being non  empty set holds (B120 in ( the_universe_of (the carrier of R5) ) implies (for B121 being  non-empty (ManySortedSet of B120) holds ((for B122 being (Element of B120) holds ( B121 . B122 ) in ( the_universe_of (the carrier of R5) )) implies (for B123 being (DoubleIndexedSet of B121 , R5) holds ((for B124 being (Element of B120) holds ( rng ( B123 . B124 ) ) is  directed) implies ( Inf ( Sups B123 ) ) = ( Sup ( Infs ( Frege B123 ) ) )))))));
L358:
now
set D42 = ( the_universe_of (the carrier of R5) );
let C137 being (Element of R5);
set D43 = { B125 where B125 is  directed non  empty (Subset of R5) : C137 <= ( sup B125 ) };
L359: D42 = ( Tarski-Class ( the_transitive-closure_of (the carrier of R5) ) ) by YELLOW_6:def 1;
reconsider D44 = D42 as  universal set;
L360: D43 c= ( bool (the carrier of R5) )
proof
let C138 being set;
assume L361: C138 in D43;
L362: (ex B126 being  directed non  empty (Subset of R5) st (C138 = B126 & C137 <= ( sup B126 ))) by L361;
thus L363: thesis by L362;
end;
L364: ((the carrier of R5) c= ( the_transitive-closure_of (the carrier of R5) ) & ( the_transitive-closure_of (the carrier of R5) ) in D44) by L359 , CLASSES1:2 , CLASSES1:52;
L365: (the carrier of R5) in D44 by L364 , CLASSES1:def 1;
L366: ( bool (the carrier of R5) ) in D44 by L365 , CLASSES2:59;
L367: D43 in D44 by L366 , L360 , CLASSES1:def 1;
L368: C137 is_>=_than ( waybelow C137 ) by WAYBEL_3:9;
L369: C137 >= ( sup ( waybelow C137 ) ) by L368 , YELLOW_0:32;
L370: ({ C137 } is  directed non  empty  directed non  empty  directed non  empty  directed non  empty (Subset of R5) & C137 <= ( sup { C137 } )) by WAYBEL_0:5 , YELLOW_0:39;
L371: { C137 } in D43 by L370;
reconsider D45 = D43 as non  empty set by L371;
set D46 = ( id D45 );
reconsider D47 = D46 as (ManySortedSet of D45);
L372: (for B127 being (Element of D45) holds ( D47 . B127 ) in D44)
proof
let C139 being (Element of D45);
L373: ( D47 . C139 ) = C139 by FUNCT_1:18;
L374: ( D47 . C139 ) in D45 by L373;
thus L375: thesis by L374 , L365 , L360 , CLASSES1:def 1;
end;
reconsider D48 = { C137 } as (Element of D45) by L371;
L376: (for B128 being (Element of D45) holds B128 is  directed non  empty  directed non  empty  directed non  empty  directed non  empty (Subset of R5))
proof
let C140 being (Element of D45);
L377: C140 in D45;
L378: (ex B129 being  directed non  empty (Subset of R5) st (B129 = C140 & C137 <= ( sup B129 ))) by L377;
thus L379: thesis by L378;
end;
L380: (for R3 being set holds (R3 in D45 implies ( D47 . R3 ) is non  empty))
proof
let R3 being set;
assume L381: R3 in D45;
reconsider D49 = R3 as (Element of D45) by L381;
L382: ( D47 . R3 ) = D49 by FUNCT_1:18;
thus L383: thesis by L382 , L376;
end;
reconsider D50 = D47 as  non-empty (ManySortedSet of D45) by L380 , PBOOLE:def 13;
deffunc H4(set) = ( id ( D50 . $1 ) );
L384: (ex B130 being Function st (( dom B130 ) = D45 & (for B131 being set holds (B131 in D45 implies ( B130 . B131 ) = H4(B131))))) from FUNCT_1:sch 3;
consider C141 being Function such that L385: ( dom C141 ) = D45 and L386: (for B132 being set holds (B132 in D45 implies ( C141 . B132 ) = ( id ( D50 . B132 ) ))) by L384;
reconsider D51 = C141 as (ManySortedSet of D45) by L385 , PARTFUN1:def 2 , RELAT_1:def 18;
L387: (for B133 being set holds (B133 in ( dom D51 ) implies ( D51 . B133 ) is Function))
proof
let C142 being set;
assume L388: C142 in ( dom D51 );
L389: ( D51 . C142 ) = ( id ( D50 . C142 ) ) by L388 , L386;
thus L390: thesis by L389;
end;
reconsider D52 = D51 as (ManySortedFunction of D45) by L387 , FUNCOP_1:def 6;
L391: (for B134 being set holds (B134 in D45 implies ( D52 . B134 ) is (Function of ( D50 . B134 ) , ( ( D45 --> (the carrier of R5) ) . B134 ))))
proof
let C143 being set;
assume L392: C143 in D45;
reconsider D53 = C143 as (Element of D45) by L392;
L393: ( D50 . D53 ) = D53 by FUNCT_1:18;
L394: ( D50 . D53 ) is (Subset of R5) by L393 , L376;
L395: ( D52 . D53 ) = ( id ( D50 . D53 ) ) by L386;
L396: ( rng ( D52 . D53 ) ) c= ( D50 . D53 ) by L395 , RELAT_1:def 19;
L397: ( rng ( D52 . D53 ) ) c= (the carrier of R5) by L396 , L394 , XBOOLE_1:1;
L398: ( rng ( D52 . D53 ) ) c= ( ( D45 --> (the carrier of R5) ) . D53 ) by L397 , FUNCOP_1:7;
L399: ( dom ( D52 . D53 ) ) = ( D50 . D53 ) by L395 , FUNCT_2:def 1;
thus L400: thesis by L399 , L398 , FUNCT_2:2;
end;
reconsider D54 = D52 as (DoubleIndexedSet of D50 , R5) by L391 , PBOOLE:def 15;
L401: (for B135 being (Element of D45) holds (for B136 being (Element of ( D50 . B135 )) holds ( ( D54 . B135 ) . B136 ) = B136))
proof
let C144 being (Element of D45);
let C145 being (Element of ( D50 . C144 ));
L402: ( D54 . C144 ) = ( id ( D50 . C144 ) ) by L386;
thus L403: thesis by L402 , FUNCT_1:18;
end;
L404: (for B137 being (Element of D45) holds ( rng ( D54 . B137 ) ) = B137)
proof
let C146 being (Element of D45);
L405:
now
let R2 being set;
assume L406: R2 in ( rng ( D54 . C146 ) );
consider R1 being set such that L407: R1 in ( dom ( D54 . C146 ) ) and L408: R2 = ( ( D54 . C146 ) . R1 ) by L406 , FUNCT_1:def 3;
L409: R1 in ( D50 . C146 ) by L407;
L410: R1 in C146 by L409 , FUNCT_1:18;
thus L411: R2 in C146 by L410 , L401 , L407 , L408;
end;
L412: ( rng ( D54 . C146 ) ) c= C146 by L405 , TARSKI:def 3;
L413:
now
let R1 being set;
assume L414: R1 in C146;
L415: R1 in ( D50 . C146 ) by L414 , FUNCT_1:18;
L416: (( ( D54 . C146 ) . R1 ) = R1 & R1 in ( dom ( D54 . C146 ) )) by L415 , L401 , FUNCT_2:def 1;
thus L417: R1 in ( rng ( D54 . C146 ) ) by L416 , FUNCT_1:def 3;
end;
L418: C146 c= ( rng ( D54 . C146 ) ) by L413 , TARSKI:def 3;
thus L419: thesis by L418 , L412 , XBOOLE_0:def 10;
end;
L420: (for B138 being (Element of D45) holds ( rng ( D54 . B138 ) ) is  directed)
proof
let C147 being (Element of D45);
L421: ( rng ( D54 . C147 ) ) = C147 by L404;
thus L422: thesis by L421 , L376;
end;
L423: (for B139 being Function holds (B139 in ( dom ( Frege D54 ) ) implies ( //\ (( ( Frege D54 ) . B139 ) , R5) ) <= ( sup ( waybelow C137 ) )))
proof
let C148 being Function;
assume that
L424: C148 in ( dom ( Frege D54 ) );
set D55 = ( //\ (( ( Frege D54 ) . C148 ) , R5) );
L425: (for B140 being non  empty  directed (Subset of R5) holds (C137 <= ( sup B140 ) implies (ex B141 being (Element of R5) st (B141 in B140 & D55 <= B141))))
proof
L426: (for B142 being (Element of D45) holds ( C148 . B142 ) in ( D50 . B142 ))
proof
let C149 being (Element of D45);
L427: C149 in D45;
L428: C149 in ( dom D54 ) by L427 , PARTFUN1:def 2;
L429: ( C148 . C149 ) in ( dom ( D54 . C149 ) ) by L428 , L424 , L123;
thus L430: thesis by L429;
end;
L431: ( dom C148 ) = ( dom D54 ) by L424 , L117
.= D45 by PARTFUN1:def 2;
L432:
now
let C150 being set;
assume L433: C150 in ( rng C148 );
consider C151 being set such that L434: C151 in ( dom C148 ) and L435: C150 = ( C148 . C151 ) by L433 , FUNCT_1:def 3;
reconsider D56 = C151 as (Element of D45) by L431 , L434;
L436: C150 in ( D50 . D56 ) by L426 , L435;
L437: C150 in D56 by L436 , FUNCT_1:18;
L438: D56 is (Subset of R5) by L376;
thus L439: C150 in (the carrier of R5) by L438 , L437;
end;
L440: ( rng C148 ) c= (the carrier of R5) by L432 , TARSKI:def 3;
reconsider D57 = C148 as (Function of D45 , (the carrier of R5)) by L440 , L431 , FUNCT_2:2;
let C152 being non  empty  directed (Subset of R5);
assume L441: C137 <= ( sup C152 );
L442: C152 in D45 by L441;
reconsider D58 = C152 as (Element of D45) by L442;
L443: ( Inf D57 ) <= ( D57 . D58 ) by YELLOW_2:53;
L444: ( D57 . D58 ) in ( D50 . D58 ) by L426;
L445: ( D57 . D58 ) in D58 by L444 , FUNCT_1:18;
L446:
now
let C153 being set;
assume L447: C153 in ( dom D57 );
reconsider D59 = C153 as (Element of D45) by L447;
L448: ( D57 . D59 ) is (Element of ( D50 . D59 )) by L426;
L449: C153 in ( dom D54 ) by L424 , L447 , L117;
thus L450: ( ( ( Frege D54 ) . D57 ) . C153 ) = ( ( D54 . D59 ) . ( D57 . D59 ) ) by L449 , L424 , L123
.= ( D57 . C153 ) by L401 , L448;
end;
L451: ( dom D57 ) = ( dom D54 ) by L424 , L117
.= ( dom ( ( Frege D54 ) . D57 ) ) by L424 , L117;
L452: D55 <= ( D57 . D58 ) by L451 , L443 , L446 , FUNCT_1:2;
thus L453: thesis by L452 , L445;
end;
L454: D55 << C137 by L425 , WAYBEL_3:def 1;
L455: D55 in ( waybelow C137 ) by L454 , WAYBEL_3:7;
thus L456: thesis by L455 , YELLOW_2:22;
end;
L457: ( Sup ( Infs ( Frege D54 ) ) ) <= ( sup ( waybelow C137 ) ) by L423 , L267;
L458: C137 is_<=_than ( rng ( Sups D54 ) )
proof
let C154 being (Element of R5);
assume L459: C154 in ( rng ( Sups D54 ) );
consider C155 being (Element of D45) such that L460: C154 = ( Sup ( D54 . C155 ) ) by L459 , L245;
L461: C155 in D45;
consider C156 being  directed non  empty (Subset of R5) such that L462: C156 = C155 and L463: C137 <= ( sup C156 ) by L461;
L464: C154 = ( sup ( rng ( D54 . C155 ) ) ) by L460 , YELLOW_2:def 5
.= ( sup C156 ) by L404 , L462;
thus L465: C137 <= C154 by L464 , L463;
end;
L466: C137 <= ( inf ( rng ( Sups D54 ) ) ) by L458 , YELLOW_0:33;
L467: C137 <= ( Inf ( Sups D54 ) ) by L466 , YELLOW_2:def 6;
L468: ( Sup ( D54 . D48 ) ) = ( sup ( rng ( D54 . D48 ) ) ) by YELLOW_2:def 5
.= ( sup { C137 } ) by L404
.= C137 by YELLOW_0:39;
L469: C137 in ( rng ( Sups D54 ) ) by L468 , L245;
L470: ( inf ( rng ( Sups D54 ) ) ) <= C137 by L469 , YELLOW_2:22;
L471: ( Inf ( Sups D54 ) ) <= C137 by L470 , YELLOW_2:def 6;
L472: C137 = ( Inf ( Sups D54 ) ) by L471 , L467 , ORDERS_2:2
.= ( Sup ( Infs ( Frege D54 ) ) ) by L357 , L367 , L372 , L420;
thus L473: C137 = ( sup ( waybelow C137 ) ) by L472 , L457 , L369 , ORDERS_2:2;
end;
L474: R5 is  up-complete  satisfying_axiom_of_approximation by L358 , WAYBEL_3:def 5;
thus L475: thesis by L474;
end;
L476: (for R5 being  complete LATTICE holds ((for R9 being non  empty set holds (for R10 being  non-empty (ManySortedSet of R9) holds (for B143 being (DoubleIndexedSet of R10 , R5) holds ((for B144 being (Element of R9) holds ( rng ( B143 . B144 ) ) is  directed) implies ( Inf ( Sups B143 ) ) = ( Sup ( Infs ( Frege B143 ) ) ))))) implies R5 is  continuous))
proof
let R5 being  complete LATTICE;
assume L477: (for R9 being non  empty set holds (for R10 being  non-empty (ManySortedSet of R9) holds (for B145 being (DoubleIndexedSet of R10 , R5) holds ((for B146 being (Element of R9) holds ( rng ( B145 . B146 ) ) is  directed) implies ( Inf ( Sups B145 ) ) = ( Sup ( Infs ( Frege B145 ) ) )))));
L478: (for B147 being non  empty set holds (B147 in ( the_universe_of (the carrier of R5) ) implies (for B148 being  non-empty (ManySortedSet of B147) holds ((for B149 being (Element of B147) holds ( B148 . B149 ) in ( the_universe_of (the carrier of R5) )) implies (for B150 being (DoubleIndexedSet of B148 , R5) holds ((for B151 being (Element of B147) holds ( rng ( B150 . B151 ) ) is  directed) implies ( Inf ( Sups B150 ) ) = ( Sup ( Infs ( Frege B150 ) ) ))))))) by L477;
thus L479: thesis by L478 , L356;
end;
theorem
L480: (for R5 being  complete LATTICE holds (R5 is  continuous iff (for R9 being non  empty set holds (for R10 being  non-empty (ManySortedSet of R9) holds (for B152 being (DoubleIndexedSet of R10 , R5) holds ((for B153 being (Element of R9) holds ( rng ( B152 . B153 ) ) is  directed) implies ( Inf ( Sups B152 ) ) = ( Sup ( Infs ( Frege B152 ) ) ))))))) by L301 , L476;
definition
let C157 , C158 , C159 being non  empty set;
let C160 being (Function of [: C157 , C158 :] , C159);
redefine func curry C160 -> (DoubleIndexedSet of ( C157 --> C158 ) , C159);

coherence
proof
reconsider D60 = C160 as (ManySortedSet of [: C157 , C158 :]);
L481: ( dom C160 ) = [: C157 , C158 :] by FUNCT_2:def 1;
L482: (for B154 being set holds (B154 in C157 implies ( ( curry D60 ) . B154 ) is (Function of ( ( C157 --> C158 ) . B154 ) , ( ( C157 --> C159 ) . B154 ))))
proof
let C161 being set;
assume L483: C161 in C157;
consider C162 being Function such that L484: ( ( curry D60 ) . C161 ) = C162 and L485: ( dom C162 ) = C158 and L486: ( rng C162 ) c= ( rng D60 ) and L487: (for B155 being set holds (B155 in C158 implies ( C162 . B155 ) = ( D60 . (C161 , B155) ))) by L483 , L481 , FUNCT_5:29;
L488: C157 = ( dom ( curry C160 ) ) by L481 , FUNCT_5:24;
reconsider D61 = ( ( curry D60 ) . C161 ) as Function by L488;
L489: ( rng C160 ) c= C159;
L490: ( rng C162 ) c= C159 by L489 , L486 , XBOOLE_1:1;
reconsider D62 = C162 as (Function of C158 , C159) by L490 , L485 , FUNCT_2:def 1 , RELSET_1:4;
L491: D61 = D62 by L484;
L492: ( ( C157 --> C158 ) . C161 ) = C158 by L483 , FUNCOP_1:7;
thus L493: thesis by L492 , L483 , L491 , FUNCOP_1:7;
end;
thus L494: thesis by L482 , PBOOLE:def 15;
end;
end;
theorem
L496: (for R11 being non  empty set holds (for R12 being non  empty set holds (for R13 being non  empty set holds (for R14 being (Element of R11) holds (for R15 being (Element of R12) holds (for B156 being (Function of [: R11 , R12 :] , R13) holds (( dom ( curry B156 ) ) = R11 & ( dom ( ( curry B156 ) . R14 ) ) = R12 & ( B156 . (R14 , R15) ) = ( ( ( curry B156 ) . R14 ) . R15 ))))))))
proof
let R11 being non  empty set;
let R12 being non  empty set;
let R13 being non  empty set;
let R14 being (Element of R11);
let R15 being (Element of R12);
let C163 being (Function of [: R11 , R12 :] , R13);
thus L497: ( dom ( curry C163 ) ) = ( proj1 ( dom C163 ) ) by FUNCT_5:def 1
.= ( proj1 [: R11 , R12 :] ) by FUNCT_2:def 1
.= R11 by FUNCT_5:9;
L498: ( dom C163 ) = [: R11 , R12 :] by FUNCT_2:def 1;
L499: (ex B157 being Function st (( ( curry C163 ) . R14 ) = B157 & ( dom B157 ) = R12 & ( rng B157 ) c= ( rng C163 ) & (for B158 being set holds (B158 in R12 implies ( B157 . B158 ) = ( C163 . (R14 , B158) ))))) by L498 , FUNCT_5:29;
thus L500: ( dom ( ( curry C163 ) . R14 ) ) = R12 by L499;
L501: [ R14 , R15 ] in [: R11 , R12 :];
L502: [ R14 , R15 ] in ( dom C163 ) by L501 , FUNCT_2:def 1;
thus L503: thesis by L502 , FUNCT_5:20;
end;
L504: (for R5 being  complete LATTICE holds ((for R11 being non  empty set holds (for R12 being non  empty set holds (for B159 being (Function of [: R11 , R12 :] , (the carrier of R5)) holds ((for B160 being (Element of R11) holds ( rng ( ( curry B159 ) . B160 ) ) is  directed) implies ( Inf ( Sups ( curry B159 ) ) ) = ( Sup ( Infs ( Frege ( curry B159 ) ) ) ))))) implies R5 is  continuous))
proof
let R5 being  complete LATTICE;
assume L505: (for R11 being non  empty set holds (for R12 being non  empty set holds (for B161 being (Function of [: R11 , R12 :] , (the carrier of R5)) holds ((for B162 being (Element of R11) holds ( rng ( ( curry B161 ) . B162 ) ) is  directed) implies ( Inf ( Sups ( curry B161 ) ) ) = ( Sup ( Infs ( Frege ( curry B161 ) ) ) )))));
L506: (for R11 being non  empty set holds (for B163 being  non-empty (ManySortedSet of R11) holds (for B164 being (DoubleIndexedSet of B163 , R5) holds ((for B165 being (Element of R11) holds ( rng ( B164 . B165 ) ) is  directed) implies ( Inf ( Sups B164 ) ) = ( Sup ( Infs ( Frege B164 ) ) )))))
proof
let R11 being non  empty set;
let C164 being  non-empty (ManySortedSet of R11);
let C165 being (DoubleIndexedSet of C164 , R5);
set D63 = the (Element of R11);
set D64 = the (Element of ( C164 . D63 ));
defpred S2[ set , set , set ] means ($1 in R11 & (($2 in ( C164 . $1 ) & $3 = ( ( C165 . $1 ) . $2 )) or ((not $2 in ( C164 . $1 )) & $3 = ( Bottom R5 ))));
L507: ( dom ( doms C165 ) ) = ( dom C165 ) by FUNCT_6:59;
L508: D63 in R11;
L509: D63 in ( dom C164 ) by L508 , PARTFUN1:def 2;
L510: (D64 in ( C164 . D63 ) & ( C164 . D63 ) in ( rng C164 )) by L509 , FUNCT_1:def 3;
reconsider D65 = ( union ( rng C164 ) ) as non  empty set by L510 , TARSKI:def 4;
L511: ( dom C165 ) = R11 by PARTFUN1:def 2;
L512: (for B166 being (Element of R11) holds (for B167 being (Element of D65) holds (ex B168 being (Element of R5) st S2[ B166 , B167 , B168 ])))
proof
let C166 being (Element of R11);
let C167 being (Element of D65);
per cases ;
suppose L513: C167 in ( C164 . C166 );

reconsider D66 = C167 as (Element of ( C164 . C166 )) by L513;
take ( ( C165 . C166 ) . D66 );
thus L514: thesis;
end;
suppose L515: (not C167 in ( C164 . C166 ));

take ( Bottom R5 );
thus L516: thesis by L515;
end;
end;
L518: (ex B169 being (Function of [: R11 , D65 :] , (the carrier of R5)) st (for B170 being (Element of R11) holds (for B171 being (Element of D65) holds S2[ B170 , B171 , ( B169 . (B170 , B171) ) ]))) from BINOP_1:sch 3(L512);
consider C168 being (Function of [: R11 , D65 :] , (the carrier of R5)) such that L519: (for B172 being (Element of R11) holds (for B173 being (Element of D65) holds S2[ B172 , B173 , ( C168 . (B172 , B173) ) ])) by L518;
L520: (for B174 being (Element of R11) holds ( C164 . B174 ) c= D65)
proof
let C169 being (Element of R11);
thus L521:now
let C170 being set;
L522: C169 in R11;
L523: C169 in ( dom C164 ) by L522 , PARTFUN1:def 2;
L524: ( C164 . C169 ) in ( rng C164 ) by L523 , FUNCT_1:def 3;
assume L525: C170 in ( C164 . C169 );
thus L526: C170 in D65 by L525 , L524 , TARSKI:def 4;
end;
end;
L522: (for B175 being (Element of R11) holds ( rng ( C165 . B175 ) ) c= ( rng ( ( curry C168 ) . B175 ) ))
proof
let C171 being (Element of R11);
thus L523:now
let C172 being set;
assume L524: C172 in ( rng ( C165 . C171 ) );
consider C173 being set such that L525: C173 in ( dom ( C165 . C171 ) ) and L526: C172 = ( ( C165 . C171 ) . C173 ) by L524 , FUNCT_1:def 3;
L527: C173 in ( C164 . C171 ) by L525;
L528: ( C164 . C171 ) c= D65 by L520;
reconsider D67 = C173 as (Element of D65) by L528 , L527;
L529: [ C171 , D67 ] in [: R11 , D65 :];
L530: [ C171 , D67 ] in ( dom C168 ) by L529 , FUNCT_2:def 1;
L531: (D67 in D65 & ( dom ( ( curry C168 ) . C171 ) ) = ( ( R11 --> D65 ) . C171 )) by FUNCT_2:def 1;
L532: D67 in ( dom ( ( curry C168 ) . C171 ) ) by L531 , FUNCOP_1:7;
L533: C172 = ( C168 . (C171 , D67) ) by L519 , L525 , L526
.= ( ( ( curry C168 ) . C171 ) . D67 ) by L530 , FUNCT_5:20;
thus L534: C172 in ( rng ( ( curry C168 ) . C171 ) ) by L533 , L532 , FUNCT_1:def 3;
end;
end;
L524: (for B176 being set holds (B176 in ( dom C165 ) implies ( \\/ (( C165 . B176 ) , R5) ) = ( \\/ (( ( curry C168 ) . B176 ) , R5) )))
proof
let C174 being set;
assume L525: C174 in ( dom C165 );
reconsider D68 = C174 as (Element of R11) by L525;
reconsider D69 = ( ( curry C168 ) . D68 ) as (Function of ( ( R11 --> D65 ) . D68 ) , (the carrier of R5));
L526: ( ( R11 --> D65 ) . D68 ) = D65 by FUNCOP_1:7;
reconsider D70 = D69 as (Function of D65 , (the carrier of R5)) by L526;
L527: (for B177 being (Element of D65) holds ( D70 . B177 ) <= ( Sup ( C165 . D68 ) ))
proof
let C175 being (Element of D65);
per cases ;
suppose L528: C175 in ( C164 . D68 );

L529: C175 in ( dom ( C165 . D68 ) ) by L528 , FUNCT_2:def 1;
L530: ( ( C165 . D68 ) . C175 ) = ( C168 . (D68 , C175) ) by L519 , L528
.= ( D70 . C175 ) by L496;
L531: ( D70 . C175 ) in ( rng ( C165 . D68 ) ) by L530 , L529 , FUNCT_1:def 3;
L532: ( D70 . C175 ) <= ( sup ( rng ( C165 . D68 ) ) ) by L531 , YELLOW_2:22;
thus L533: thesis by L532 , YELLOW_2:def 5;
end;
suppose L534: (not C175 in ( C164 . D68 ));

L535: ( Bottom R5 ) = ( C168 . (D68 , C175) ) by L534 , L519
.= ( D70 . C175 ) by L496;
thus L536: thesis by L535 , YELLOW_0:44;
end;
end;
L538: ( Sup D70 ) <= ( Sup ( C165 . D68 ) ) by L527 , YELLOW_2:54;
L539: ( ex_sup_of ( rng ( C165 . D68 ) ) , R5 &  ex_sup_of ( rng ( ( curry C168 ) . D68 ) ) , R5) by YELLOW_0:17;
L540: ( sup ( rng ( C165 . D68 ) ) ) <= ( sup ( rng ( ( curry C168 ) . D68 ) ) ) by L539 , L522 , YELLOW_0:34;
L541: ( Sup ( C165 . D68 ) ) <= ( sup ( rng D70 ) ) by L540 , YELLOW_2:def 5;
L542: ( Sup ( C165 . D68 ) ) <= ( Sup D70 ) by L541 , YELLOW_2:def 5;
thus L543: thesis by L542 , L538 , ORDERS_2:2;
end;
L544: ( dom ( doms ( curry C168 ) ) ) = ( dom ( curry C168 ) ) by FUNCT_6:59;
L545: ( dom ( curry C168 ) ) = R11 by L496;
L546: ( product ( doms C165 ) ) c= ( product ( doms ( curry C168 ) ) )
proof
let C176 being set;
assume L547: C176 in ( product ( doms C165 ) );
consider C177 being Function such that L548: C176 = C177 and L549: ( dom C177 ) = ( dom ( doms C165 ) ) and L550: (for B178 being set holds (B178 in ( dom ( doms C165 ) ) implies ( C177 . B178 ) in ( ( doms C165 ) . B178 ))) by L547 , CARD_3:def 5;
L551: (for B179 being set holds (B179 in ( dom ( doms ( curry C168 ) ) ) implies ( C177 . B179 ) in ( ( doms ( curry C168 ) ) . B179 )))
proof
let C178 being set;
assume L552: C178 in ( dom ( doms ( curry C168 ) ) );
reconsider D71 = C178 as (Element of R11) by L552 , L544;
L553: C178 in R11 by L544 , L552;
L554: ( C177 . C178 ) in ( ( doms C165 ) . C178 ) by L553 , L507 , L511 , L550;
L555: ( ( doms C165 ) . C178 ) = ( dom ( C165 . D71 ) ) by L511 , FUNCT_6:22
.= ( C164 . D71 ) by FUNCT_2:def 1;
L556: ( C164 . D71 ) c= D65 by L520;
L557: ( ( doms ( curry C168 ) ) . C178 ) = ( dom ( ( curry C168 ) . D71 ) ) by L545 , FUNCT_6:22
.= D65 by L496;
thus L558: thesis by L557 , L554 , L555 , L556;
end;
L559: ( dom C177 ) = ( dom ( doms ( curry C168 ) ) ) by L507 , L511 , L544 , L549 , L496;
thus L560: thesis by L559 , L548 , L551 , CARD_3:def 5;
end;
L561: ( dom ( Frege C165 ) ) c= ( product ( doms ( curry C168 ) ) ) by L546 , PARTFUN1:def 2;
L562: ( dom ( Frege C165 ) ) c= ( dom ( Frege ( curry C168 ) ) ) by L561 , PARTFUN1:def 2;
L563: (for B180 being set holds (B180 in ( dom ( Frege C165 ) ) implies ( //\ (( ( Frege C165 ) . B180 ) , R5) ) = ( //\ (( ( Frege ( curry C168 ) ) . B180 ) , R5) )))
proof
let C179 being set;
assume L564: C179 in ( dom ( Frege C165 ) );
reconsider D72 = C179 as (Element of ( product ( doms C165 ) )) by L564;
L565: ( dom ( ( Frege C165 ) . D72 ) ) = ( dom C165 ) by L564 , L117
.= R11 by PARTFUN1:def 2;
L566: (for B181 being set holds (B181 in R11 implies ( ( ( Frege C165 ) . D72 ) . B181 ) = ( ( ( Frege ( curry C168 ) ) . D72 ) . B181 )))
proof
let C180 being set;
assume L567: C180 in R11;
reconsider D73 = C180 as (Element of R11) by L567;
L568: ( D72 . D73 ) in ( C164 . D73 ) by L564 , L154;
L569: ( C164 . D73 ) c= D65 by L520;
reconsider D74 = ( D72 . D73 ) as (Element of D65) by L569 , L568;
L570: ( ( ( Frege C165 ) . D72 ) . D73 ) = ( ( C165 . D73 ) . D74 ) by L564 , L148
.= ( C168 . (D73 , D74) ) by L519 , L568
.= ( ( ( curry C168 ) . D73 ) . ( D72 . D73 ) ) by L496
.= ( ( ( Frege ( curry C168 ) ) . D72 ) . D73 ) by L562 , L564 , L148;
thus L571: thesis by L570;
end;
L572: ( dom ( ( Frege ( curry C168 ) ) . D72 ) ) = ( dom ( curry C168 ) ) by L562 , L564 , L117
.= ( proj1 ( dom C168 ) ) by FUNCT_5:def 1
.= ( proj1 [: R11 , D65 :] ) by FUNCT_2:def 1
.= R11 by FUNCT_5:9;
thus L573: thesis by L572 , L565 , L566 , FUNCT_1:2;
end;
L574: ( Sup ( Infs ( Frege ( curry C168 ) ) ) ) = ( Sup ( Infs ( Frege C165 ) ) )
proof
per cases ;
suppose L575: (for B182 being (Element of R11) holds ( C164 . B182 ) = D65);

L576: (for B183 being set holds (B183 in R11 implies ( ( doms C165 ) . B183 ) = ( ( doms ( curry C168 ) ) . B183 )))
proof
let C181 being set;
assume L577: C181 in R11;
reconsider D75 = C181 as (Element of R11) by L577;
L578: ( ( doms C165 ) . C181 ) = ( dom ( C165 . D75 ) ) by L511 , FUNCT_6:22
.= ( C164 . D75 ) by FUNCT_2:def 1;
L579: ( ( doms ( curry C168 ) ) . C181 ) = ( dom ( ( curry C168 ) . D75 ) ) by L545 , FUNCT_6:22
.= D65 by L496;
thus L580: thesis by L579 , L575 , L578;
end;
L581: ( doms C165 ) = ( doms ( curry C168 ) ) by L576 , L507 , L511 , L544 , L545 , FUNCT_1:2;
L582: ( dom ( Frege C165 ) ) = ( product ( doms ( curry C168 ) ) ) by L581 , PARTFUN1:def 2;
L583: ( dom ( Frege C165 ) ) = ( dom ( Frege ( curry C168 ) ) ) by L582 , PARTFUN1:def 2;
thus L584: thesis by L583 , L563 , L227;
end;
suppose L585: (ex B184 being (Element of R11) st ( C164 . B184 ) <> D65);

consider C182 being (Element of R11) such that L586: ( C164 . C182 ) <> D65 by L585;
L587: ( C164 . C182 ) c= D65 by L520;
L588: (not D65 c= ( C164 . C182 )) by L587 , L586 , XBOOLE_0:def 10;
consider C183 being set such that L589: C183 in D65 and L590: (not C183 in ( C164 . C182 )) by L588 , TARSKI:def 3;
reconsider D76 = C183 as (Element of D65) by L589;
L591: ( ( rng ( Infs ( Frege C165 ) ) ) \/ { ( Bottom R5 ) } ) c= ( rng ( Infs ( Frege ( curry C168 ) ) ) )
proof
let C184 being set;
assume L592: C184 in ( ( rng ( Infs ( Frege C165 ) ) ) \/ { ( Bottom R5 ) } );
per cases  by L592 , XBOOLE_0:def 3;
suppose L593: C184 in ( rng ( Infs ( Frege C165 ) ) );

consider C185 being set such that L594: C185 in ( dom ( Frege C165 ) ) and L595: C184 = ( //\ (( ( Frege C165 ) . C185 ) , R5) ) by L593 , L235;
L596: C184 = ( //\ (( ( Frege ( curry C168 ) ) . C185 ) , R5) ) by L563 , L594 , L595;
thus L597: thesis by L596 , L562 , L594 , L235;
end;
suppose L598: C184 in { ( Bottom R5 ) };

reconsider D77 = C184 as (Element of R5) by L598;
set D78 = ( R11 --> D76 );
L599: (for R1 being set holds (R1 in ( dom ( doms ( curry C168 ) ) ) implies ( D78 . R1 ) in ( ( doms ( curry C168 ) ) . R1 )))
proof
let R1 being set;
assume L600: R1 in ( dom ( doms ( curry C168 ) ) );
reconsider D79 = R1 as (Element of R11) by L600 , L544;
L601: ( D78 . D79 ) = D76 by FUNCOP_1:7;
L602: ( ( doms ( curry C168 ) ) . D79 ) = ( dom ( ( curry C168 ) . D79 ) ) by L545 , FUNCT_6:22
.= D65 by L496;
thus L603: thesis by L602 , L601;
end;
L604: ( dom D78 ) = R11 by FUNCOP_1:13
.= ( dom ( doms ( curry C168 ) ) ) by L544 , L496;
L605: D78 in ( product ( doms ( curry C168 ) ) ) by L604 , L599 , CARD_3:9;
L606: D78 in ( dom ( Frege ( curry C168 ) ) ) by L605 , PARTFUN1:def 2;
L607: C184 = ( Bottom R5 ) by L598 , TARSKI:def 1;
L608: C184 = ( C168 . (C182 , D76) ) by L607 , L519 , L590
.= ( ( ( curry C168 ) . C182 ) . D76 ) by L496
.= ( ( ( curry C168 ) . C182 ) . ( D78 . C182 ) ) by FUNCOP_1:7;
L609: C184 in ( rng ( ( Frege ( curry C168 ) ) . D78 ) ) by L608 , L606 , L148;
L610: D77 >= ( "/\" (( rng ( ( Frege ( curry C168 ) ) . D78 ) ) , R5) ) by L609 , YELLOW_2:22;
L611: D77 >= ( //\ (( ( Frege ( curry C168 ) ) . D78 ) , R5) ) by L610 , YELLOW_2:def 6;
L612: D77 <= ( //\ (( ( Frege ( curry C168 ) ) . D78 ) , R5) ) by L607 , YELLOW_0:44;
L613: D77 = ( //\ (( ( Frege ( curry C168 ) ) . D78 ) , R5) ) by L612 , L611 , ORDERS_2:2;
thus L614: thesis by L613 , L606 , L235;
end;
end;
L616: ( ex_sup_of ( rng ( Infs ( Frege C165 ) ) ) , R5 &  ex_sup_of { ( Bottom R5 ) } , R5) by YELLOW_0:17;
L617: ( rng ( Infs ( Frege ( curry C168 ) ) ) ) c= ( ( rng ( Infs ( Frege C165 ) ) ) \/ { ( Bottom R5 ) } )
proof
let C186 being set;
assume L618: C186 in ( rng ( Infs ( Frege ( curry C168 ) ) ) );
consider C187 being set such that L619: C187 in ( dom ( Frege ( curry C168 ) ) ) and L620: C186 = ( //\ (( ( Frege ( curry C168 ) ) . C187 ) , R5) ) by L618 , L235;
reconsider D80 = C187 as Function by L619;
per cases ;
suppose L621: (for B185 being (Element of R11) holds ( D80 . B185 ) in ( C164 . B185 ));

L622: (for R1 being set holds (R1 in ( dom ( doms C165 ) ) implies ( D80 . R1 ) in ( ( doms C165 ) . R1 )))
proof
let R1 being set;
assume L623: R1 in ( dom ( doms C165 ) );
reconsider D81 = R1 as (Element of R11) by L623 , L511 , FUNCT_6:59;
L624: ( ( doms C165 ) . D81 ) = ( dom ( C165 . D81 ) ) by L511 , FUNCT_6:22
.= ( C164 . D81 ) by FUNCT_2:def 1;
thus L625: thesis by L624 , L621;
end;
L626: ( dom D80 ) = ( dom ( curry C168 ) ) by L619 , L117
.= ( dom ( doms C165 ) ) by L507 , L511 , L496;
L627: D80 in ( product ( doms C165 ) ) by L626 , L622 , CARD_3:9;
L628: D80 in ( dom ( Frege C165 ) ) by L627 , PARTFUN1:def 2;
L629: C186 = ( //\ (( ( Frege C165 ) . D80 ) , R5) ) by L628 , L563 , L620;
L630: C186 in ( rng ( Infs ( Frege C165 ) ) ) by L629 , L628 , L235;
thus L631: thesis by L630 , XBOOLE_0:def 3;
end;
suppose L632: (ex B186 being (Element of R11) st (not ( D80 . B186 ) in ( C164 . B186 )));

consider C188 being (Element of R11) such that L633: (not ( D80 . C188 ) in ( C164 . C188 )) by L632;
L634: C188 in R11;
L635: C188 in ( dom ( curry C168 ) ) by L634 , L496;
L636: ( D80 . C188 ) in ( dom ( ( curry C168 ) . C188 ) ) by L635 , L619 , L123;
reconsider D82 = ( D80 . C188 ) as (Element of D65) by L636 , L496;
L637: ( Bottom R5 ) = ( C168 . (C188 , D82) ) by L519 , L633
.= ( ( ( curry C168 ) . C188 ) . ( D80 . C188 ) ) by L496;
L638: ( Bottom R5 ) in ( rng ( ( Frege ( curry C168 ) ) . D80 ) ) by L637 , L619 , L148;
L639: ( Bottom R5 ) >= ( "/\" (( rng ( ( Frege ( curry C168 ) ) . D80 ) ) , R5) ) by L638 , YELLOW_2:22;
L640: ( Bottom R5 ) >= ( //\ (( ( Frege ( curry C168 ) ) . D80 ) , R5) ) by L639 , YELLOW_2:def 6;
L641: ( Bottom R5 ) <= ( //\ (( ( Frege ( curry C168 ) ) . D80 ) , R5) ) by YELLOW_0:44;
L642: C186 = ( Bottom R5 ) by L641 , L620 , L640 , ORDERS_2:2;
L643: C186 in { ( Bottom R5 ) } by L642 , TARSKI:def 1;
thus L644: thesis by L643 , XBOOLE_0:def 3;
end;
end;
L646: ( Bottom R5 ) <= ( Sup ( Infs ( Frege C165 ) ) ) by YELLOW_0:44;
L647: ( Sup ( Infs ( Frege ( curry C168 ) ) ) ) = ( sup ( rng ( Infs ( Frege ( curry C168 ) ) ) ) ) by YELLOW_2:def 5
.= ( sup ( ( rng ( Infs ( Frege C165 ) ) ) \/ { ( Bottom R5 ) } ) ) by L617 , L591 , XBOOLE_0:def 10
.= ( ( sup ( rng ( Infs ( Frege C165 ) ) ) ) "\/" ( sup { ( Bottom R5 ) } ) ) by L616 , YELLOW_2:3
.= ( ( sup ( rng ( Infs ( Frege C165 ) ) ) ) "\/" ( Bottom R5 ) ) by YELLOW_0:39
.= ( ( Sup ( Infs ( Frege C165 ) ) ) "\/" ( Bottom R5 ) ) by YELLOW_2:def 5
.= ( Sup ( Infs ( Frege C165 ) ) ) by L646 , YELLOW_0:24;
thus L648: thesis by L647;
end;
end;
assume L650: (for B187 being (Element of R11) holds ( rng ( C165 . B187 ) ) is  directed);
L651: (for B188 being (Element of R11) holds ( rng ( ( curry C168 ) . B188 ) ) is  directed)
proof
let C189 being (Element of R11);
set D83 = ( rng ( ( curry C168 ) . C189 ) );
L652: (for B189 , B190 being (Element of R5) holds ((B189 in D83 & B190 in D83) implies (ex B191 being (Element of R5) st (B191 in D83 & B189 <= B191 & B190 <= B191))))
proof
L653: ( rng ( C165 . C189 ) ) is  directed by L650;
let C190 , C191 being (Element of R5);
assume that
L654: C190 in D83
and
L655: C191 in D83;
consider C192 being set such that L656: C192 in ( dom ( ( curry C168 ) . C189 ) ) and L657: ( ( ( curry C168 ) . C189 ) . C192 ) = C191 by L655 , FUNCT_1:def 3;
consider C193 being set such that L658: C193 in ( dom ( ( curry C168 ) . C189 ) ) and L659: ( ( ( curry C168 ) . C189 ) . C193 ) = C190 by L654 , FUNCT_1:def 3;
reconsider D84 = C193 , D85 = C192 as (Element of D65) by L658 , L656 , L496;
L660: C190 = ( C168 . (C189 , D84) ) by L659 , L496;
L661: C191 = ( C168 . (C189 , D85) ) by L657 , L496;
per cases ;
suppose L662: (C193 in ( C164 . C189 ) & C192 in ( C164 . C189 ));

L663: (C192 in ( dom ( C165 . C189 ) ) & C191 = ( ( C165 . C189 ) . D85 )) by L662 , L519 , L661 , FUNCT_2:def 1;
L664: C191 in ( rng ( C165 . C189 ) ) by L663 , FUNCT_1:def 3;
L665: (C193 in ( dom ( C165 . C189 ) ) & C190 = ( ( C165 . C189 ) . D84 )) by L519 , L660 , L662 , FUNCT_2:def 1;
L666: C190 in ( rng ( C165 . C189 ) ) by L665 , FUNCT_1:def 3;
consider C194 being (Element of R5) such that L667: (C194 in ( rng ( C165 . C189 ) ) & C190 <= C194 & C191 <= C194) by L666 , L653 , L664 , WAYBEL_0:def 1;
take C194;
L668: ( rng ( C165 . C189 ) ) c= D83 by L522;
thus L669: thesis by L668 , L667;
end;
suppose L670: (C193 in ( C164 . C189 ) & (not C192 in ( C164 . C189 )));

take C190;
L671: C191 = ( Bottom R5 ) by L519 , L661 , L670;
thus L672: thesis by L671 , L654 , YELLOW_0:44;
end;
suppose L673: ((not C193 in ( C164 . C189 )) & C192 in ( C164 . C189 ));

take C191;
L674: C190 = ( Bottom R5 ) by L519 , L660 , L673;
thus L675: thesis by L674 , L655 , YELLOW_0:44;
end;
suppose L676: ((not C193 in ( C164 . C189 )) & (not C192 in ( C164 . C189 )));

take C190;
L677: C190 = ( Bottom R5 ) by L519 , L660 , L676;
thus L678: thesis by L677 , L519 , L654 , L661 , L676;
end;
end;
thus L680: thesis by L652 , WAYBEL_0:def 1;
end;
L681: ( dom C165 ) = R11 by PARTFUN1:def 2
.= ( dom ( curry C168 ) ) by PARTFUN1:def 2;
thus L682: ( Inf ( Sups C165 ) ) = ( Inf ( Sups ( curry C168 ) ) ) by L681 , L524 , L219
.= ( Sup ( Infs ( Frege C165 ) ) ) by L505 , L651 , L574;
end;
thus L683: thesis by L506 , L476;
end;
theorem
L684: (for R5 being  complete LATTICE holds (R5 is  continuous iff (for B192 , B193 being non  empty set holds (for B194 being (Function of [: B192 , B193 :] , (the carrier of R5)) holds ((for B195 being (Element of B192) holds ( rng ( ( curry B194 ) . B195 ) ) is  directed) implies ( Inf ( Sups ( curry B194 ) ) ) = ( Sup ( Infs ( Frege ( curry B194 ) ) ) )))))) by L301 , L504;
L685: (for R11 being non  empty set holds (for R12 being non  empty set holds (for B196 being Function holds (B196 in ( Funcs (R11 , ( Fin R12 )) ) implies (for R14 being (Element of R11) holds ( B196 . R14 ) is  finite  finite  finite  finite (Subset of R12))))))
proof
let R11 being non  empty set;
let R12 being non  empty set;
let C195 being Function;
assume L686: C195 in ( Funcs (R11 , ( Fin R12 )) );
L687: (ex B197 being Function st (B197 = C195 & ( dom B197 ) = R11 & ( rng B197 ) c= ( Fin R12 ))) by L686 , FUNCT_2:def 2;
L688: (for R14 being (Element of R11) holds ( C195 . R14 ) is  finite  finite  finite  finite (Subset of R12))
proof
let R14 being (Element of R11);
L689: ( C195 . R14 ) in ( rng C195 ) by L687 , FUNCT_1:def 3;
thus L690: thesis by L689 , L687 , FINSUB_1:def 5;
end;
thus L691: thesis by L688;
end;
L692: (for R5 being  complete LATTICE holds (for R11 being non  empty set holds (for R12 being non  empty set holds (for R13 being non  empty set holds (for R14 being (Element of R11) holds (for B198 being (Function of [: R11 , R12 :] , R13) holds (for B199 being  non-empty (ManySortedSet of R11) holds (B199 in ( Funcs (R11 , ( Fin R12 )) ) implies (for B200 being (DoubleIndexedSet of B199 , R5) holds ((for R14 being (Element of R11) holds (for R1 being set holds (R1 in ( B199 . R14 ) implies ( ( B200 . R14 ) . R1 ) = ( B198 . (R14 , R1) )))) implies ( rng ( B200 . R14 ) ) is  finite  finite  finite  finite (Subset of ( rng ( ( curry B198 ) . R14 ) ))))))))))))
proof
let R5 being  complete LATTICE;
let R11 being non  empty set;
let R12 being non  empty set;
let R13 being non  empty set;
let R14 being (Element of R11);
let C196 being (Function of [: R11 , R12 :] , R13);
let C197 being  non-empty (ManySortedSet of R11);
assume L693: C197 in ( Funcs (R11 , ( Fin R12 )) );
L694: ( C197 . R14 ) is  finite  finite  finite  finite (Subset of R12) by L693 , L685;
let C198 being (DoubleIndexedSet of C197 , R5);
assume that
L695: (for R14 being (Element of R11) holds (for R1 being set holds (R1 in ( C197 . R14 ) implies ( ( C198 . R14 ) . R1 ) = ( C196 . (R14 , R1) ))));
L696: ( rng ( C198 . R14 ) ) c= ( rng ( ( curry C196 ) . R14 ) )
proof
let C199 being set;
assume L697: C199 in ( rng ( C198 . R14 ) );
consider C200 being set such that L698: C200 in ( dom ( C198 . R14 ) ) and L699: C199 = ( ( C198 . R14 ) . C200 ) by L697 , FUNCT_1:def 3;
L700: C200 in ( C197 . R14 ) by L698;
L701: C200 in R12 by L700 , L694;
reconsider D86 = C200 as (Element of R12) by L694 , L700;
L702: D86 in ( dom ( ( curry C196 ) . R14 ) ) by L701 , L496;
L703: C199 = ( C196 . (R14 , D86) ) by L695 , L698 , L699
.= ( ( ( curry C196 ) . R14 ) . D86 ) by L496;
thus L704: thesis by L703 , L702 , FUNCT_1:def 3;
end;
thus L705: thesis by L696 , L694;
end;
theorem
L706: (for R5 being  complete LATTICE holds (for R11 being non  empty set holds (for R12 being non  empty set holds (for B201 being (Function of [: R11 , R12 :] , (the carrier of R5)) holds (for B202 being (Subset of R5) holds (B202 = { B203 where B203 is (Element of R5) : (ex B204 being  non-empty (ManySortedSet of R11) st (B204 in ( Funcs (R11 , ( Fin R12 )) ) & (ex B205 being (DoubleIndexedSet of B204 , R5) st ((for R14 being (Element of R11) holds (for R1 being set holds (R1 in ( B204 . R14 ) implies ( ( B205 . R14 ) . R1 ) = ( B201 . (R14 , R1) )))) & B203 = ( Inf ( Sups B205 ) ))))) } implies ( Inf ( Sups ( curry B201 ) ) ) >= ( sup B202 )))))))
proof
let R5 being  complete LATTICE;
let R11 being non  empty set;
let R12 being non  empty set;
let C201 being (Function of [: R11 , R12 :] , (the carrier of R5));
let C202 being (Subset of R5);
L707: (for B206 being  non-empty (ManySortedSet of R11) holds (B206 in ( Funcs (R11 , ( Fin R12 )) ) implies (for B207 being (DoubleIndexedSet of B206 , R5) holds ((for R14 being (Element of R11) holds (for R1 being set holds (R1 in ( B206 . R14 ) implies ( ( B207 . R14 ) . R1 ) = ( C201 . (R14 , R1) )))) implies (for R14 being (Element of R11) holds ( Sup ( ( curry C201 ) . R14 ) ) >= ( Sup ( B207 . R14 ) ))))))
proof
let C203 being  non-empty (ManySortedSet of R11);
assume that
L708: C203 in ( Funcs (R11 , ( Fin R12 )) );
let C204 being (DoubleIndexedSet of C203 , R5);
assume that
L709: (for R14 being (Element of R11) holds (for R1 being set holds (R1 in ( C203 . R14 ) implies ( ( C204 . R14 ) . R1 ) = ( C201 . (R14 , R1) ))));
let R14 being (Element of R11);
L710: ( ex_sup_of ( rng ( ( curry C201 ) . R14 ) ) , R5 &  ex_sup_of ( rng ( C204 . R14 ) ) , R5) by YELLOW_0:17;
L711: ( rng ( C204 . R14 ) ) is (Subset of ( rng ( ( curry C201 ) . R14 ) )) by L708 , L709 , L692;
L712: ( sup ( rng ( ( curry C201 ) . R14 ) ) ) >= ( sup ( rng ( C204 . R14 ) ) ) by L711 , L710 , YELLOW_0:34;
L713: ( Sup ( ( curry C201 ) . R14 ) ) >= ( sup ( rng ( C204 . R14 ) ) ) by L712 , YELLOW_2:def 5;
thus L714: thesis by L713 , YELLOW_2:def 5;
end;
L715: (for B208 being  non-empty (ManySortedSet of R11) holds (B208 in ( Funcs (R11 , ( Fin R12 )) ) implies (for B209 being (DoubleIndexedSet of B208 , R5) holds ((for R14 being (Element of R11) holds (for R1 being set holds (R1 in ( B208 . R14 ) implies ( ( B209 . R14 ) . R1 ) = ( C201 . (R14 , R1) )))) implies ( Inf ( Sups ( curry C201 ) ) ) >= ( Inf ( Sups B209 ) )))))
proof
let C205 being  non-empty (ManySortedSet of R11);
assume that
L716: C205 in ( Funcs (R11 , ( Fin R12 )) );
let C206 being (DoubleIndexedSet of C205 , R5);
assume that
L717: (for R14 being (Element of R11) holds (for R1 being set holds (R1 in ( C205 . R14 ) implies ( ( C206 . R14 ) . R1 ) = ( C201 . (R14 , R1) ))));
L718: ( rng ( Sups ( curry C201 ) ) ) is_>=_than ( Inf ( Sups C206 ) )
proof
let R6 being (Element of R5);
assume L719: R6 in ( rng ( Sups ( curry C201 ) ) );
consider C207 being (Element of R11) such that L720: R6 = ( Sup ( ( curry C201 ) . C207 ) ) by L719 , L245;
L721: ( Sup ( C206 . C207 ) ) in ( rng ( Sups C206 ) ) by L245;
L722: ( Sup ( C206 . C207 ) ) >= ( inf ( rng ( Sups C206 ) ) ) by L721 , YELLOW_2:22;
L723: ( Sup ( C206 . C207 ) ) >= ( Inf ( Sups C206 ) ) by L722 , YELLOW_2:def 6;
L724: ( Sup ( ( curry C201 ) . C207 ) ) >= ( Sup ( C206 . C207 ) ) by L707 , L716 , L717;
thus L725: thesis by L724 , L720 , L723 , ORDERS_2:3;
end;
L726: ( inf ( rng ( Sups ( curry C201 ) ) ) ) >= ( Inf ( Sups C206 ) ) by L718 , YELLOW_0:33;
thus L727: thesis by L726 , YELLOW_2:def 6;
end;
assume L728: C202 = { B210 where B210 is (Element of R5) : (ex B211 being  non-empty (ManySortedSet of R11) st (B211 in ( Funcs (R11 , ( Fin R12 )) ) & (ex B212 being (DoubleIndexedSet of B211 , R5) st ((for R14 being (Element of R11) holds (for R1 being set holds (R1 in ( B211 . R14 ) implies ( ( B212 . R14 ) . R1 ) = ( C201 . (R14 , R1) )))) & B210 = ( Inf ( Sups B212 ) ))))) };
L729: ( Inf ( Sups ( curry C201 ) ) ) is_>=_than C202
proof
let R6 being (Element of R5);
assume L730: R6 in C202;
L731: (ex B213 being (Element of R5) st (B213 = R6 & (ex B214 being  non-empty (ManySortedSet of R11) st (B214 in ( Funcs (R11 , ( Fin R12 )) ) & (ex B215 being (DoubleIndexedSet of B214 , R5) st ((for R14 being (Element of R11) holds (for R1 being set holds (R1 in ( B214 . R14 ) implies ( ( B215 . R14 ) . R1 ) = ( C201 . (R14 , R1) )))) & B213 = ( Inf ( Sups B215 ) ))))))) by L730 , L728;
thus L732: thesis by L731 , L715;
end;
thus L733: thesis by L729 , YELLOW_0:32;
end;
L734: (for R5 being  complete LATTICE holds (R5 is  continuous implies (for R11 being non  empty set holds (for R12 being non  empty set holds (for B216 being (Function of [: R11 , R12 :] , (the carrier of R5)) holds (for B217 being (Subset of R5) holds (B217 = { B218 where B218 is (Element of R5) : (ex B219 being  non-empty (ManySortedSet of R11) st (B219 in ( Funcs (R11 , ( Fin R12 )) ) & (ex B220 being (DoubleIndexedSet of B219 , R5) st ((for R14 being (Element of R11) holds (for R1 being set holds (R1 in ( B219 . R14 ) implies ( ( B220 . R14 ) . R1 ) = ( B216 . (R14 , R1) )))) & B218 = ( Inf ( Sups B220 ) ))))) } implies ( Inf ( Sups ( curry B216 ) ) ) = ( sup B217 ))))))))
proof
let R5 being  complete LATTICE;
assume L735: R5 is  continuous;
thus L736:now
let R11 being non  empty set;
let R12 being non  empty set;
set D87 = { B221 where B221 is (Subset of R12) : (B221 is  finite & B221 <> ( {} )) };
set D88 = the (Element of R12);
L737: { D88 } in D87;
reconsider D89 = D87 as non  empty set by L737;
let C208 being (Function of [: R11 , R12 :] , (the carrier of R5));
let C209 being (Subset of R5);
set D90 = ( Funcs (R11 , D89) );
deffunc H5((Element of R11) , (Element of D90)) = ( sup ( ( ( curry C208 ) . $1 ) .: ( $2 . $1 ) ) );
L738: (ex B222 being (Function of [: R11 , D90 :] , (the carrier of R5)) st (for B223 being (Element of R11) holds (for B224 being (Element of D90) holds ( B222 . (B223 , B224) ) = H5(B223 , B224)))) from BINOP_1:sch 4;
consider C210 being (Function of [: R11 , D90 :] , (the carrier of R5)) such that L739: (for R14 being (Element of R11) holds (for B225 being (Element of D90) holds ( C210 . (R14 , B225) ) = ( sup ( ( ( curry C208 ) . R14 ) .: ( B225 . R14 ) ) ))) by L738;
set D91 = ( curry C208 );
set D92 = ( curry C210 );
L740: (for R14 being (Element of R11) holds ((for B226 being  finite (Subset of ( rng ( D91 . R14 ) )) holds (B226 <> ( {} ) implies  ex_sup_of B226 , R5)) & (for B227 being (Element of R5) holds (B227 in ( rng ( D92 . R14 ) ) implies (ex B228 being  finite (Subset of ( rng ( D91 . R14 ) )) st ( ex_sup_of B228 , R5 & B227 = ( "\/" (B228 , R5) ))))) & (for B229 being  finite (Subset of ( rng ( D91 . R14 ) )) holds (B229 <> ( {} ) implies ( "\/" (B229 , R5) ) in ( rng ( D92 . R14 ) )))))
proof
let R14 being (Element of R11);
set D93 = ( rng ( ( curry C210 ) . R14 ) );
set D94 = ( rng ( ( curry C208 ) . R14 ) );
set D95 = ( ( curry C210 ) . R14 );
set D96 = ( ( curry C208 ) . R14 );
thus L741: (for B230 being  finite (Subset of D94) holds (B230 <> ( {} ) implies  ex_sup_of B230 , R5)) by YELLOW_0:17;
thus L742: (for B231 being (Element of R5) holds (B231 in D93 implies (ex B232 being  finite (Subset of D94) st ( ex_sup_of B232 , R5 & B231 = ( "\/" (B232 , R5) )))))
proof
let C211 being (Element of R5);
assume L743: C211 in D93;
consider C212 being set such that L744: C212 in ( dom D95 ) and L745: ( D95 . C212 ) = C211 by L743 , FUNCT_1:def 3;
reconsider D97 = C212 as (Element of D90) by L744 , L496;
L746: ( D97 . R14 ) in D89;
L747: (ex B233 being (Subset of R12) st (B233 = ( D97 . R14 ) & B233 is  finite & B233 <> ( {} ))) by L746;
reconsider D98 = ( D96 .: ( D97 . R14 ) ) as  finite (Subset of D94) by L747 , RELAT_1:111;
take D98;
L748: C211 = ( C210 . (R14 , D97) ) by L745 , L496
.= ( sup ( D96 .: ( D97 . R14 ) ) ) by L739;
thus L749: thesis by L748 , YELLOW_0:17;
end;

thus L750: (for B234 being  finite (Subset of D94) holds (B234 <> ( {} ) implies ( "\/" (B234 , R5) ) in D93))
proof
let C213 being  finite (Subset of D94);
consider C214 being set such that L751: C214 c= ( dom D96 ) and L752: C214 is  finite and L753: ( D96 .: C214 ) = C213 by ORDERS_1:85;
L754: C214 c= R12 by L751 , L496;
assume L755: C213 <> ( {} );
L756: C214 <> ( {} ) by L755 , L753;
L757: C214 in D89 by L756 , L752 , L754;
L758: { C214 } c= D89 by L757 , ZFMISC_1:31;
L759: (( dom ( R11 --> C214 ) ) = R11 & ( rng ( R11 --> C214 ) ) = { C214 }) by FUNCOP_1:8 , FUNCOP_1:13;
reconsider D99 = ( R11 --> C214 ) as (Element of D90) by L759 , L758 , FUNCT_2:def 2;
L760: ( D99 . R14 ) = C214 by FUNCOP_1:7;
L761: D99 in D90;
L762: D99 in ( dom D95 ) by L761 , L496;
L763: ( D95 . D99 ) = ( C210 . (R14 , D99) ) by L496
.= ( "\/" (C213 , R5) ) by L739 , L753 , L760;
thus L764: thesis by L763 , L762 , FUNCT_1:def 3;
end;

end;
L751: (for R14 being (Element of R11) holds ( rng ( ( curry C210 ) . R14 ) ) is  directed)
proof
let R14 being (Element of R11);
L752: (for B235 being  finite (Subset of ( rng ( D91 . R14 ) )) holds (B235 <> ( {} ) implies ( "\/" (B235 , R5) ) in ( rng ( D92 . R14 ) ))) by L740;
L753: ((for B236 being  finite (Subset of ( rng ( D91 . R14 ) )) holds (B236 <> ( {} ) implies  ex_sup_of B236 , R5)) & (for B237 being (Element of R5) holds (B237 in ( rng ( D92 . R14 ) ) implies (ex B238 being  finite (Subset of ( rng ( D91 . R14 ) )) st ( ex_sup_of B238 , R5 & B237 = ( "\/" (B238 , R5) )))))) by L740;
thus L754: thesis by L753 , L752 , WAYBEL_0:51;
end;
L755: ( Inf ( Sups ( curry C210 ) ) ) = ( Sup ( Infs ( Frege ( curry C210 ) ) ) ) by L751 , L735 , L301;
L756: (for B239 being set holds (B239 in ( dom ( curry C208 ) ) implies ( \\/ (( ( curry C208 ) . B239 ) , R5) ) = ( \\/ (( ( curry C210 ) . B239 ) , R5) )))
proof
let C215 being set;
assume L757: C215 in ( dom ( curry C208 ) );
reconsider D100 = C215 as (Element of R11) by L757;
L758: ((for B240 being (Element of R5) holds (B240 in ( rng ( D92 . D100 ) ) implies (ex B241 being  finite (Subset of ( rng ( D91 . D100 ) )) st ( ex_sup_of B241 , R5 & B240 = ( "\/" (B241 , R5) ))))) & (for B242 being  finite (Subset of ( rng ( D91 . D100 ) )) holds (B242 <> ( {} ) implies ( "\/" (B242 , R5) ) in ( rng ( D92 . D100 ) )))) by L740;
L759: ( ex_sup_of ( rng ( D91 . D100 ) ) , R5 & (for B243 being  finite (Subset of ( rng ( D91 . D100 ) )) holds (B243 <> ( {} ) implies  ex_sup_of B243 , R5))) by YELLOW_0:17;
L760: ( sup ( rng ( D91 . D100 ) ) ) = ( sup ( rng ( D92 . D100 ) ) ) by L759 , L758 , WAYBEL_0:54;
L761: ( Sup ( D91 . D100 ) ) = ( sup ( rng ( D92 . D100 ) ) ) by L760 , YELLOW_2:def 5;
thus L762: thesis by L761 , YELLOW_2:def 5;
end;
assume L763: C209 = { B244 where B244 is (Element of R5) : (ex B245 being  non-empty (ManySortedSet of R11) st (B245 in ( Funcs (R11 , ( Fin R12 )) ) & (ex B246 being (DoubleIndexedSet of B245 , R5) st ((for R14 being (Element of R11) holds (for R1 being set holds (R1 in ( B245 . R14 ) implies ( ( B246 . R14 ) . R1 ) = ( C208 . (R14 , R1) )))) & B244 = ( Inf ( Sups B246 ) ))))) };
L764: ( Inf ( Sups ( curry C208 ) ) ) >= ( sup C209 ) by L763 , L706;
L765: D89 c= ( Fin R12 )
proof
let C216 being set;
assume L766: C216 in D89;
L767: (ex B247 being (Subset of R12) st (C216 = B247 & B247 is  finite & B247 <> ( {} ))) by L766;
thus L768: thesis by L767 , FINSUB_1:def 5;
end;
L769: (for B248 being  Function-yielding Function holds (B248 in ( product ( doms ( curry C210 ) ) ) implies ((for R14 being (Element of R11) holds (( ( ( Frege B248 ) . ( id R11 ) ) . R14 ) = ( ( B248 . R14 ) . R14 ) & ( B248 . R14 ) in D90 & ( ( ( Frege B248 ) . ( id R11 ) ) . R14 ) is  finite non  empty  finite non  empty  finite non  empty  finite non  empty (Subset of R12))) & ( ( Frege B248 ) . ( id R11 ) ) is  non-empty  non-empty  non-empty  non-empty (ManySortedSet of R11) & ( ( Frege B248 ) . ( id R11 ) ) in ( Funcs (R11 , D89) ) & ( ( Frege B248 ) . ( id R11 ) ) in ( Funcs (R11 , ( Fin R12 )) ))))
proof
let C217 being  Function-yielding Function;
set D101 = ( ( Frege C217 ) . ( id R11 ) );
assume L770: C217 in ( product ( doms ( curry C210 ) ) );
L771: C217 in ( dom ( Frege ( curry C210 ) ) ) by L770 , PARTFUN1:def 2;
L772: ( dom C217 ) = ( dom ( curry C210 ) ) by L771 , L117
.= R11 by L496;
L773: (for R1 being set holds (R1 in ( dom ( doms C217 ) ) implies ( ( id R11 ) . R1 ) in ( ( doms C217 ) . R1 )))
proof
let R1 being set;
assume L774: R1 in ( dom ( doms C217 ) );
reconsider D102 = R1 as (Element of R11) by L774 , L772 , FUNCT_6:59;
L775: ( C217 . D102 ) in ( ( R11 --> D90 ) . D102 ) by L771 , L154;
L776: ( C217 . D102 ) in D90 by L775 , FUNCOP_1:7;
L777: (ex B249 being Function st (B249 = ( C217 . D102 ) & ( dom B249 ) = R11 & ( rng B249 ) c= D89)) by L776 , FUNCT_2:def 2;
L778: (( ( id R11 ) . D102 ) = D102 & ( ( doms C217 ) . D102 ) = R11) by L777 , L772 , FUNCT_1:18 , FUNCT_6:22;
thus L779: thesis by L778;
end;
L780: (( dom ( id R11 ) ) = R11 & ( dom ( doms C217 ) ) = ( dom C217 )) by FUNCT_6:59;
L781: ( id R11 ) in ( product ( doms C217 ) ) by L780 , L772 , L773 , CARD_3:9;
L782: ( id R11 ) in ( dom ( Frege C217 ) ) by L781 , PARTFUN1:def 2;
L783: ( dom D101 ) = R11 by L782 , L772 , L117;
reconsider D103 = D101 as (ManySortedSet of R11) by L783 , PARTFUN1:def 2 , RELAT_1:def 18;
thus L784: (for R14 being (Element of R11) holds (( ( ( Frege C217 ) . ( id R11 ) ) . R14 ) = ( ( C217 . R14 ) . R14 ) & ( C217 . R14 ) in D90 & ( ( ( Frege C217 ) . ( id R11 ) ) . R14 ) is  finite non  empty  finite non  empty  finite non  empty  finite non  empty (Subset of R12)))
proof
let R14 being (Element of R11);
thus L785: ( ( ( Frege C217 ) . ( id R11 ) ) . R14 ) = ( ( C217 . R14 ) . ( ( id R11 ) . R14 ) ) by L772 , L782 , L123
.= ( ( C217 . R14 ) . R14 ) by FUNCT_1:18;
L786: ( C217 . R14 ) in ( ( R11 --> D90 ) . R14 ) by L771 , L154;
thus L787: ( C217 . R14 ) in D90 by L786 , FUNCOP_1:7;
consider C218 being Function such that L788: (C218 = ( C217 . R14 ) & ( dom C218 ) = R11) and L789: ( rng C218 ) c= D89 by L787 , FUNCT_2:def 2;
L790: ( D101 . R14 ) in ( rng C218 ) by L785 , L788 , FUNCT_1:def 3;
L791: ( D101 . R14 ) in D89 by L790 , L789;
L792: (ex B250 being (Subset of R12) st (( D101 . R14 ) = B250 & B250 is  finite & B250 <> ( {} ))) by L791;
thus L793: thesis by L792;
end;

L794: (for B251 being set holds (B251 in R11 implies ( D103 . B251 ) is non  empty)) by L784;
thus L795: D101 is  non-empty  non-empty  non-empty  non-empty (ManySortedSet of R11) by L794 , PBOOLE:def 13;
L796: ( rng D101 ) c= D89
proof
let C219 being set;
assume L797: C219 in ( rng D101 );
consider C220 being set such that L798: C220 in ( dom D101 ) and L799: C219 = ( D101 . C220 ) by L797 , FUNCT_1:def 3;
L800: ( D101 . C220 ) is  finite non  empty  finite non  empty  finite non  empty  finite non  empty (Subset of R12) by L784 , L783 , L798;
thus L801: thesis by L800 , L799;
end;
thus L802: D101 in ( Funcs (R11 , D89) ) by L796 , L783 , FUNCT_2:def 2;
L803: ( rng D101 ) c= ( Fin R12 ) by L765 , L796 , XBOOLE_1:1;
thus L804: thesis by L803 , L783 , FUNCT_2:def 2;
end;
L805: (for B252 being (Element of ( product ( doms ( curry C210 ) ) )) holds ( Inf ( ( Frege ( curry C210 ) ) . B252 ) ) <= ( sup C209 ))
proof
defpred S3[ set , set , set ] means $1 = ( C208 . ($3 , $2) );
let C221 being (Element of ( product ( doms ( curry C210 ) ) ));
L806: C221 in ( product ( doms ( curry C210 ) ) );
L807: C221 in ( dom ( Frege ( curry C210 ) ) ) by L806 , PARTFUN1:def 2;
L808: (for R1 being set holds (R1 in ( dom C221 ) implies ( C221 . R1 ) is Function))
proof
let R1 being set;
assume L809: R1 in ( dom C221 );
L810: ( dom C221 ) = ( dom ( curry C210 ) ) by L807 , L117
.= R11 by L496;
reconsider D104 = R1 as (Element of R11) by L810 , L809;
L811: ( C221 . D104 ) in ( ( R11 --> D90 ) . D104 ) by L807 , L154;
L812: ( C221 . D104 ) in D90 by L811 , FUNCOP_1:7;
thus L813: thesis by L812;
end;
reconsider D105 = C221 as  Function-yielding Function by L808 , FUNCOP_1:def 6;
reconsider D106 = ( ( Frege D105 ) . ( id R11 ) ) as  non-empty (ManySortedSet of R11) by L769;
L814: (for B253 being set holds (B253 in R11 implies (for R1 being set holds (R1 in ( D106 . B253 ) implies (ex R2 being set st (R2 in ( ( R11 --> (the carrier of R5) ) . B253 ) & S3[ R2 , R1 , B253 ]))))))
proof
let R3 being set;
assume L815: R3 in R11;
reconsider D107 = R3 as (Element of R11) by L815;
let R1 being set;
assume L816: R1 in ( D106 . R3 );
L817: ( D106 . D107 ) is (Subset of R12) by L769;
reconsider D108 = R1 as (Element of R12) by L817 , L816;
take D109 = ( C208 . [ D107 , D108 ] );
L818: D109 in (the carrier of R5);
thus L819: thesis by L818 , FUNCOP_1:7;
end;
L820: (ex B254 being (ManySortedFunction of D106 , ( R11 --> (the carrier of R5) )) st (for B255 being set holds (B255 in R11 implies (ex B256 being (Function of ( D106 . B255 ) , ( ( R11 --> (the carrier of R5) ) . B255 )) st (B256 = ( B254 . B255 ) & (for R1 being set holds (R1 in ( D106 . B255 ) implies S3[ ( B256 . R1 ) , R1 , B255 ]))))))) from MSSUBFAM:sch 1(L814);
consider C222 being (ManySortedFunction of D106 , ( R11 --> (the carrier of R5) )) such that L821: (for B257 being set holds (B257 in R11 implies (ex B258 being (Function of ( D106 . B257 ) , ( ( R11 --> (the carrier of R5) ) . B257 )) st (B258 = ( C222 . B257 ) & (for R1 being set holds (R1 in ( D106 . B257 ) implies ( B258 . R1 ) = ( C208 . (B257 , R1) ))))))) by L820;
reconsider D110 = C222 as (DoubleIndexedSet of D106 , R5);
L822: (for R14 being (Element of R11) holds (for R1 being set holds (R1 in ( D106 . R14 ) implies ( ( D110 . R14 ) . R1 ) = ( C208 . (R14 , R1) ))))
proof
let R14 being (Element of R11);
let R1 being set;
assume L823: R1 in ( D106 . R14 );
L824: (ex B259 being (Function of ( D106 . R14 ) , ( ( R11 --> (the carrier of R5) ) . R14 )) st (B259 = ( D110 . R14 ) & (for R1 being set holds (R1 in ( D106 . R14 ) implies ( B259 . R1 ) = ( C208 . (R14 , R1) ))))) by L821;
thus L825: thesis by L824 , L823;
end;
L826: ( Inf ( ( Frege ( curry C210 ) ) . C221 ) ) is_<=_than ( rng ( Sups D110 ) )
proof
let C223 being (Element of R5);
assume L827: C223 in ( rng ( Sups D110 ) );
consider R14 being (Element of R11) such that L828: C223 = ( Sup ( D110 . R14 ) ) by L827 , L245;
L829: R14 in R11;
L830: R14 in ( dom ( curry C210 ) ) by L829 , L496;
L831: ( ( ( curry C208 ) . R14 ) .: ( D106 . R14 ) ) c= ( rng ( D110 . R14 ) )
proof
let C224 being set;
assume L832: C224 in ( ( ( curry C208 ) . R14 ) .: ( D106 . R14 ) );
consider C225 being set such that L833: C225 in ( dom ( ( curry C208 ) . R14 ) ) and L834: C225 in ( D106 . R14 ) and L835: C224 = ( ( ( curry C208 ) . R14 ) . C225 ) by L832 , FUNCT_1:def 6;
reconsider D111 = C225 as (Element of R12) by L833 , L496;
L836: D111 in ( dom ( D110 . R14 ) ) by L834 , FUNCT_2:def 1;
L837: C224 = ( C208 . (R14 , D111) ) by L835 , L496
.= ( ( D110 . R14 ) . D111 ) by L822 , L834;
thus L838: thesis by L837 , L836 , FUNCT_1:def 3;
end;
L839: ( ex_sup_of ( ( ( curry C208 ) . R14 ) .: ( D106 . R14 ) ) , R5 &  ex_sup_of ( rng ( D110 . R14 ) ) , R5) by YELLOW_0:17;
L840: ( sup ( ( ( curry C208 ) . R14 ) .: ( D106 . R14 ) ) ) <= ( sup ( rng ( D110 . R14 ) ) ) by L839 , L831 , YELLOW_0:34;
L841: ( sup ( ( ( curry C208 ) . R14 ) .: ( D106 . R14 ) ) ) <= ( Sup ( D110 . R14 ) ) by L840 , YELLOW_2:def 5;
L842: ( C221 . R14 ) in ( ( R11 --> D90 ) . R14 ) by L807 , L154;
reconsider D112 = ( C221 . R14 ) as (Element of D90) by L842 , FUNCOP_1:7;
L843: ( Inf ( ( Frege ( curry C210 ) ) . C221 ) ) <= ( ( ( Frege ( curry C210 ) ) . C221 ) . R14 ) by YELLOW_2:53;
L844: ( sup ( ( ( curry C208 ) . R14 ) .: ( D106 . R14 ) ) ) = ( sup ( ( ( curry C208 ) . R14 ) .: ( D112 . R14 ) ) ) by L769
.= ( C210 . (R14 , D112) ) by L739
.= ( ( ( curry C210 ) . R14 ) . ( C221 . R14 ) ) by L496
.= ( ( ( Frege ( curry C210 ) ) . C221 ) . R14 ) by L807 , L830 , L123;
thus L845: ( Inf ( ( Frege ( curry C210 ) ) . C221 ) ) <= C223 by L844 , L828 , L841 , L843 , ORDERS_2:3;
end;
L846: ( Inf ( ( Frege ( curry C210 ) ) . C221 ) ) <= ( inf ( rng ( Sups D110 ) ) ) by L826 , YELLOW_0:33;
L847: ( Inf ( ( Frege ( curry C210 ) ) . C221 ) ) <= ( Inf ( Sups D110 ) ) by L846 , YELLOW_2:def 6;
L848: D106 in ( Funcs (R11 , ( Fin R12 )) ) by L769;
L849: ( Inf ( Sups D110 ) ) in C209 by L848 , L763 , L822;
L850: ( Inf ( Sups D110 ) ) <= ( sup C209 ) by L849 , YELLOW_2:22;
thus L851: thesis by L850 , L847 , ORDERS_2:3;
end;
L852: ( rng ( Infs ( Frege ( curry C210 ) ) ) ) is_<=_than ( sup C209 )
proof
let C226 being (Element of R5);
assume L853: C226 in ( rng ( Infs ( Frege ( curry C210 ) ) ) );
consider C227 being set such that L854: C227 in ( dom ( Frege ( curry C210 ) ) ) and L855: C226 = ( //\ (( ( Frege ( curry C210 ) ) . C227 ) , R5) ) by L853 , L235;
reconsider D113 = C227 as (Element of ( product ( doms ( curry C210 ) ) )) by L854;
L856: ( Inf ( ( Frege ( curry C210 ) ) . D113 ) ) <= ( sup C209 ) by L805;
thus L857: thesis by L856 , L855;
end;
L858: ( sup ( rng ( Infs ( Frege ( curry C210 ) ) ) ) ) <= ( sup C209 ) by L852 , YELLOW_0:32;
L859: ( dom ( curry C208 ) ) = R11 by L496
.= ( dom ( curry C210 ) ) by L496;
L860: ( Inf ( Sups ( curry C208 ) ) ) = ( Inf ( Sups ( curry C210 ) ) ) by L859 , L756 , L219;
L861: ( Inf ( Sups ( curry C208 ) ) ) <= ( sup C209 ) by L860 , L755 , L858 , YELLOW_2:def 5;
thus L862: ( Inf ( Sups ( curry C208 ) ) ) = ( sup C209 ) by L861 , L764 , ORDERS_2:2;
end;
end;
L737: (for R5 being  complete LATTICE holds ((for R11 being non  empty set holds (for R12 being non  empty set holds (for B260 being (Function of [: R11 , R12 :] , (the carrier of R5)) holds (for B261 being (Subset of R5) holds (B261 = { B262 where B262 is (Element of R5) : (ex B263 being  non-empty (ManySortedSet of R11) st (B263 in ( Funcs (R11 , ( Fin R12 )) ) & (ex B264 being (DoubleIndexedSet of B263 , R5) st ((for R14 being (Element of R11) holds (for R1 being set holds (R1 in ( B263 . R14 ) implies ( ( B264 . R14 ) . R1 ) = ( B260 . (R14 , R1) )))) & B262 = ( Inf ( Sups B264 ) ))))) } implies ( Inf ( Sups ( curry B260 ) ) ) = ( sup B261 )))))) implies R5 is  continuous))
proof
let R5 being  complete LATTICE;
assume L738: (for R11 being non  empty set holds (for R12 being non  empty set holds (for B265 being (Function of [: R11 , R12 :] , (the carrier of R5)) holds (for B266 being (Subset of R5) holds (B266 = { B267 where B267 is (Element of R5) : (ex B268 being  non-empty (ManySortedSet of R11) st (B268 in ( Funcs (R11 , ( Fin R12 )) ) & (ex B269 being (DoubleIndexedSet of B268 , R5) st ((for R14 being (Element of R11) holds (for R1 being set holds (R1 in ( B268 . R14 ) implies ( ( B269 . R14 ) . R1 ) = ( B265 . (R14 , R1) )))) & B267 = ( Inf ( Sups B269 ) ))))) } implies ( Inf ( Sups ( curry B265 ) ) ) = ( sup B266 ))))));
L739: (for R11 being non  empty set holds (for R12 being non  empty set holds (for B270 being (Function of [: R11 , R12 :] , (the carrier of R5)) holds ((for B271 being (Element of R11) holds ( rng ( ( curry B270 ) . B271 ) ) is  directed) implies ( Inf ( Sups ( curry B270 ) ) ) = ( Sup ( Infs ( Frege ( curry B270 ) ) ) )))))
proof
let R11 being non  empty set;
let R12 being non  empty set;
let C228 being (Function of [: R11 , R12 :] , (the carrier of R5));
assume that
L740: (for B272 being (Element of R11) holds ( rng ( ( curry C228 ) . B272 ) ) is  directed);
defpred S4[ (Element of R5) ] means (ex B273 being  non-empty (ManySortedSet of R11) st (B273 in ( Funcs (R11 , ( Fin R12 )) ) & (ex B274 being (DoubleIndexedSet of B273 , R5) st ((for R14 being (Element of R11) holds (for R1 being set holds (R1 in ( B273 . R14 ) implies ( ( B274 . R14 ) . R1 ) = ( C228 . (R14 , R1) )))) & $1 = ( Inf ( Sups B274 ) )))));
reconsider D114 = { B275 where B275 is (Element of R5) : S4[ B275 ] } as (Subset of R5) from DOMAIN_1:sch 7;
L741: D114 is_<=_than ( Sup ( Infs ( Frege ( curry C228 ) ) ) )
proof
let C229 being (Element of R5);
assume L742: C229 in D114;
consider C230 being (Element of R5) such that L743: C229 = C230 and L744: (ex B276 being  non-empty (ManySortedSet of R11) st (B276 in ( Funcs (R11 , ( Fin R12 )) ) & (ex B277 being (DoubleIndexedSet of B276 , R5) st ((for R14 being (Element of R11) holds (for R1 being set holds (R1 in ( B276 . R14 ) implies ( ( B277 . R14 ) . R1 ) = ( C228 . (R14 , R1) )))) & C230 = ( Inf ( Sups B277 ) ))))) by L742;
defpred S5[ set , set ] means ($1 in R11 & $2 in R12 & (ex R7 being (Element of R5) st (R7 = ( ( ( curry C228 ) . $1 ) . $2 ) & C230 <= R7)));
consider C231 being  non-empty (ManySortedSet of R11) such that L745: C231 in ( Funcs (R11 , ( Fin R12 )) ) and L746: (ex B278 being (DoubleIndexedSet of C231 , R5) st ((for R14 being (Element of R11) holds (for R1 being set holds (R1 in ( C231 . R14 ) implies ( ( B278 . R14 ) . R1 ) = ( C228 . (R14 , R1) )))) & C230 = ( Inf ( Sups B278 ) ))) by L744;
consider C232 being (DoubleIndexedSet of C231 , R5) such that L747: (for R14 being (Element of R11) holds (for R1 being set holds (R1 in ( C231 . R14 ) implies ( ( C232 . R14 ) . R1 ) = ( C228 . (R14 , R1) )))) and L748: C230 = ( Inf ( Sups C232 ) ) by L746;
L749: (for R1 being set holds (R1 in R11 implies (ex R2 being set st (R2 in R12 & S5[ R1 , R2 ]))))
proof
let R1 being set;
assume L750: R1 in R11;
reconsider D115 = R1 as (Element of R11) by L750;
L751: ( Sup ( C232 . D115 ) ) in ( rng ( Sups C232 ) ) by L245;
L752: ( inf ( rng ( Sups C232 ) ) ) <= ( Sup ( C232 . D115 ) ) by L751 , YELLOW_2:22;
L753: ( Inf ( Sups C232 ) ) <= ( Sup ( C232 . D115 ) ) by L752 , YELLOW_2:def 6;
L754: (( rng ( ( curry C228 ) . D115 ) ) is non  empty  directed & ( rng ( C232 . D115 ) ) is  finite  finite  finite  finite (Subset of ( rng ( ( curry C228 ) . D115 ) ))) by L740 , L745 , L747 , L692;
consider C233 being (Element of R5) such that L755: C233 in ( rng ( ( curry C228 ) . D115 ) ) and L756: ( rng ( C232 . D115 ) ) is_<=_than C233 by L754 , WAYBEL_0:1;
consider C234 being set such that L757: C234 in ( dom ( ( curry C228 ) . D115 ) ) and L758: C233 = ( ( ( curry C228 ) . D115 ) . C234 ) by L755 , FUNCT_1:def 3;
reconsider D116 = C234 as (Element of R12) by L757 , L496;
take D116;
L759: ( sup ( rng ( C232 . D115 ) ) ) <= C233 by L756 , YELLOW_0:32;
L760: ( Sup ( C232 . D115 ) ) <= C233 by L759 , YELLOW_2:def 5;
thus L761: thesis by L760 , L748 , L758 , L753 , ORDERS_2:3;
end;
consider C235 being Function such that L762: ( dom C235 ) = R11 and L763: ( rng C235 ) c= R12 and L764: (for R1 being set holds (R1 in R11 implies S5[ R1 , ( C235 . R1 ) ])) from FUNCT_1:sch 5(L749);
L765: ( dom ( doms ( curry C228 ) ) ) = ( dom ( curry C228 ) ) by FUNCT_6:59;
L766: ( dom C235 ) = ( dom ( doms ( curry C228 ) ) ) by L765 , L762 , L496;
L767: (for R1 being set holds (R1 in ( dom ( doms ( curry C228 ) ) ) implies ( C235 . R1 ) in ( ( doms ( curry C228 ) ) . R1 )))
proof
let R1 being set;
assume L768: R1 in ( dom ( doms ( curry C228 ) ) );
reconsider D117 = R1 as (Element of R11) by L768 , L765;
L769: ( dom ( curry C228 ) ) = R11 by L496;
L770: ( ( doms ( curry C228 ) ) . D117 ) = ( dom ( ( curry C228 ) . D117 ) ) by L769 , FUNCT_6:22
.= R12 by L496;
thus L771: thesis by L770 , L764;
end;
reconsider D118 = C235 as (Element of ( product ( doms ( curry C228 ) ) )) by L767 , L766 , CARD_3:9;
L772: (for R14 being (Element of R11) holds C230 <= ( ( ( Frege ( curry C228 ) ) . D118 ) . R14 ))
proof
let R14 being (Element of R11);
L773: (ex R7 being (Element of R5) st (R7 = ( ( ( curry C228 ) . R14 ) . ( D118 . R14 ) ) & C230 <= R7)) by L764;
L774: (( dom ( Frege ( curry C228 ) ) ) = ( product ( doms ( curry C228 ) ) ) & R11 = ( dom ( curry C228 ) )) by PARTFUN1:def 2;
thus L775: thesis by L774 , L773 , L123;
end;
L776: C230 <= ( Inf ( ( Frege ( curry C228 ) ) . D118 ) ) by L772 , YELLOW_2:55;
L777: ( Inf ( ( Frege ( curry C228 ) ) . D118 ) ) in ( rng ( Infs ( Frege ( curry C228 ) ) ) ) by L245;
L778: ( Inf ( ( Frege ( curry C228 ) ) . D118 ) ) <= ( sup ( rng ( Infs ( Frege ( curry C228 ) ) ) ) ) by L777 , YELLOW_2:22;
L779: ( Inf ( ( Frege ( curry C228 ) ) . D118 ) ) <= ( Sup ( Infs ( Frege ( curry C228 ) ) ) ) by L778 , YELLOW_2:def 5;
thus L780: C229 <= ( Sup ( Infs ( Frege ( curry C228 ) ) ) ) by L779 , L743 , L776 , ORDERS_2:3;
end;
L781: ( sup D114 ) <= ( Sup ( Infs ( Frege ( curry C228 ) ) ) ) by L741 , YELLOW_0:32;
L782: ( Inf ( Sups ( curry C228 ) ) ) <= ( Sup ( Infs ( Frege ( curry C228 ) ) ) ) by L781 , L738;
L783: ( Inf ( Sups ( curry C228 ) ) ) >= ( Sup ( Infs ( Frege ( curry C228 ) ) ) ) by L277;
thus L784: thesis by L783 , L782 , ORDERS_2:2;
end;
thus L785: thesis by L739 , L504;
end;
theorem
L786: (for R5 being  complete LATTICE holds (R5 is  continuous iff (for R11 being non  empty set holds (for R12 being non  empty set holds (for B279 being (Function of [: R11 , R12 :] , (the carrier of R5)) holds (for B280 being (Subset of R5) holds (B280 = { B281 where B281 is (Element of R5) : (ex B282 being  non-empty (ManySortedSet of R11) st (B282 in ( Funcs (R11 , ( Fin R12 )) ) & (ex B283 being (DoubleIndexedSet of B282 , R5) st ((for R14 being (Element of R11) holds (for R1 being set holds (R1 in ( B282 . R14 ) implies ( ( B283 . R14 ) . R1 ) = ( B279 . (R14 , R1) )))) & B281 = ( Inf ( Sups B283 ) ))))) } implies ( Inf ( Sups ( curry B279 ) ) ) = ( sup B280 )))))))) by L734 , L737;
begin
definition
let C236 being non  empty RelStr;
attr C236 is  completely-distributive
means
:L787: (C236 is  complete & (for B284 being non  empty set holds (for B285 being  non-empty (ManySortedSet of B284) holds (for B286 being (DoubleIndexedSet of B285 , C236) holds ( Inf ( Sups B286 ) ) = ( Sup ( Infs ( Frege B286 ) ) )))));
end;
registration
cluster  ->  completely-distributive for 1 -element 1 -element 1 -element 1 -element Poset;
coherence
proof
let C237 being 1 -element Poset;
reconsider D119 = C237 as  complete LATTICE;
thus L789: C237 is  complete;
reconsider D120 = D119 as  continuous LATTICE;
L790: (for B287 being non  empty set holds (for B288 being  non-empty (ManySortedSet of B287) holds (for B289 being (DoubleIndexedSet of B288 , D120) holds ( Inf ( Sups B289 ) ) = ( Sup ( Infs ( Frege B289 ) ) ))))
proof
let C238 being non  empty set;
let C239 being  non-empty (ManySortedSet of C238);
let C240 being (DoubleIndexedSet of C239 , D120);
L791: (for B290 being (Element of C238) holds ( rng ( C240 . B290 ) ) is  directed);
thus L792: thesis by L791 , L301;
end;
thus L793: thesis by L790;
end;
end;
registration
cluster  completely-distributive for LATTICE;
existence
proof
set D121 = the set;
set D122 = the (Order of { D121 });
L795: RelStr (# { D121 } , D122 #) is 1 -element 1 -element 1 -element 1 -element RelStr;
thus L796: thesis by L795;
end;
end;
theorem
L798: (for B291 being  completely-distributive LATTICE holds B291 is  continuous)
proof
let C241 being  completely-distributive LATTICE;
L799: (for R16 being non  empty set holds (for R17 being  non-empty (ManySortedSet of R16) holds (for B292 being (DoubleIndexedSet of R17 , C241) holds ((for B293 being (Element of R16) holds ( rng ( B292 . B293 ) ) is  directed) implies ( Inf ( Sups B292 ) ) = ( Sup ( Infs ( Frege B292 ) ) ))))) by L787;
L800: C241 is  complete by L787;
thus L801: thesis by L800 , L799 , L476;
end;
registration
cluster  completely-distributive ->  complete  continuous for LATTICE;
correctness by L787 , L798;
end;
theorem
L803: (for B294 being non  empty  antisymmetric  transitive  with_infima RelStr holds (for B295 being (Element of B294) holds (for B296 , B297 being (Subset of B294) holds (( ex_sup_of B296 , B294 &  ex_sup_of B297 , B294 & B297 = { ( B295 "/\" B298 ) where B298 is (Element of B294) : B298 in B296 }) implies ( B295 "/\" ( sup B296 ) ) >= ( sup B297 )))))
proof
let C242 being non  empty  antisymmetric  transitive  with_infima RelStr;
let C243 being (Element of C242);
let C244 , C245 being (Subset of C242);
assume that
L804:  ex_sup_of C244 , C242
and
L805:  ex_sup_of C245 , C242
and
L806: C245 = { ( C243 "/\" B299 ) where B299 is (Element of C242) : B299 in C244 };
L807: C245 is_<=_than ( C243 "/\" ( sup C244 ) )
proof
let C246 being (Element of C242);
assume L808: C246 in C245;
consider C247 being (Element of C242) such that L809: C246 = ( C243 "/\" C247 ) and L810: C247 in C244 by L808 , L806;
L811: C246 <= C247 by L809 , YELLOW_0:23;
L812: C244 is_<=_than ( sup C244 ) by L804 , YELLOW_0:30;
L813: C247 <= ( sup C244 ) by L812 , L810 , LATTICE3:def 9;
L814: C246 <= ( sup C244 ) by L813 , L811 , YELLOW_0:def 2;
L815: C246 <= C243 by L809 , YELLOW_0:23;
thus L816: thesis by L815 , L814 , YELLOW_0:23;
end;
thus L817: thesis by L807 , L805 , YELLOW_0:30;
end;
L818: (for B300 being  completely-distributive LATTICE holds (for B301 being non  empty (Subset of B300) holds (for B302 being (Element of B300) holds ( B302 "/\" ( sup B301 ) ) = ( "\/" ({ ( B302 "/\" B303 ) where B303 is (Element of B300) : B303 in B301 } , B300) ))))
proof
let C248 being  completely-distributive LATTICE;
let C249 being non  empty (Subset of C248);
let C250 being (Element of C248);
set D123 = { ( C250 "/\" B304 ) where B304 is (Element of C248) : B304 in C249 };
set D124 = { 1 , 2 };
set D125 = ( (1 , 2) --> ({ 1 } , C249) );
set D126 = ( (1 , 2) --> (( { 1 } --> C250 ) , ( id C249 )) );
L819: ( D126 . 1 ) = ( { 1 } --> C250 ) by FUNCT_4:63;
L820: ( dom D125 ) = D124 by FUNCT_4:62;
L821: ( D125 . 2 ) = C249 by FUNCT_4:63;
L822: ( dom D126 ) = D124 by FUNCT_4:62;
reconsider D127 = 1 , D128 = 2 as (Element of D124) by TARSKI:def 2;
L823: ( D126 . 2 ) = ( id C249 ) by FUNCT_4:63;
reconsider D129 = D126 as (ManySortedSet of D124) by L822 , PARTFUN1:def 2 , RELAT_1:def 18;
L824: ( D125 . 1 ) = { 1 } by FUNCT_4:63;
reconsider D130 = D125 as (ManySortedSet of D124) by L820 , PARTFUN1:def 2 , RELAT_1:def 18;
L825: (for R3 being set holds (R3 in D124 implies ( D130 . R3 ) is non  empty)) by L824 , L821 , TARSKI:def 2;
reconsider D131 = D130 as  non-empty (ManySortedSet of D124) by L825 , PBOOLE:def 13;
L826: (for B305 being set holds (B305 in D124 implies ( D129 . B305 ) is (Function of ( D131 . B305 ) , ( ( D124 --> (the carrier of C248) ) . B305 ))))
proof
let C251 being set;
assume L827: C251 in D124;
L828: ( ( D124 --> (the carrier of C248) ) . C251 ) = (the carrier of C248) by L827 , FUNCOP_1:7;
per cases  by L827 , TARSKI:def 2;
suppose L829: C251 = 1;

thus L830: thesis by L829 , L819 , L824 , L827 , FUNCOP_1:7;
end;
suppose L831: C251 = 2;

thus L832: thesis by L831 , L823 , L821 , L828 , FUNCT_2:7;
end;
end;
reconsider D132 = D129 as (DoubleIndexedSet of D131 , C248) by L826 , PBOOLE:def 15;
L834: ( rng ( Infs ( Frege D132 ) ) ) is_<=_than ( "\/" ({ ( C250 "/\" B306 ) where B306 is (Element of C248) : B306 in C249 } , C248) )
proof
let C252 being (Element of C248);
assume L835: C252 in ( rng ( Infs ( Frege D132 ) ) );
consider C253 being set such that L836: C253 in ( dom ( Frege D132 ) ) and L837: C252 = ( //\ (( ( Frege D132 ) . C253 ) , C248) ) by L835 , L235;
reconsider D133 = C253 as Function by L836;
L838: ( D133 . D128 ) in ( D131 . D128 ) by L836 , L154;
reconsider D134 = ( D133 . 2 ) as (Element of C249) by L838 , FUNCT_4:63;
L839: ( D133 . D127 ) in ( D131 . D127 ) by L836 , L154;
L840: { C250 , D134 } c= ( rng ( ( Frege D132 ) . D133 ) )
proof
let C254 being set;
assume L841: C254 in { C250 , D134 };
L842: (C254 = C250 or C254 = ( D133 . 2 )) by L841 , TARSKI:def 2;
L843: (C254 = ( ( D132 . D127 ) . ( D133 . D127 ) ) or C254 = ( ( D132 . D128 ) . ( D133 . D128 ) )) by L842 , L819 , L823 , L824 , L821 , L839 , L838 , FUNCOP_1:7 , FUNCT_1:18;
thus L844: thesis by L843 , L836 , L148;
end;
L845: ( C250 "/\" D134 ) in D123;
L846: ( C250 "/\" D134 ) <= ( "\/" (D123 , C248) ) by L845 , YELLOW_2:22;
L847: ( ex_inf_of ( rng ( ( Frege D132 ) . D133 ) ) , C248 &  ex_inf_of { C250 , ( D133 . 2 ) } , C248) by YELLOW_0:17;
L848: C252 = ( "/\" (( rng ( ( Frege D132 ) . D133 ) ) , C248) ) by L837 , YELLOW_2:def 6;
L849: C252 <= ( inf { C250 , D134 } ) by L848 , L847 , L840 , YELLOW_0:35;
L850: C252 <= ( C250 "/\" D134 ) by L849 , YELLOW_0:40;
thus L851: thesis by L850 , L846 , YELLOW_0:def 2;
end;
L852: ( sup ( rng ( Infs ( Frege D132 ) ) ) ) <= ( "\/" ({ ( C250 "/\" B307 ) where B307 is (Element of C248) : B307 in C249 } , C248) ) by L834 , YELLOW_0:32;
L853: ( Sup ( Infs ( Frege D132 ) ) ) <= ( "\/" ({ ( C250 "/\" B308 ) where B308 is (Element of C248) : B308 in C249 } , C248) ) by L852 , YELLOW_2:def 5;
L854: ( ( C250 "/\" ) .: C249 ) = D123 by WAYBEL_1:61;
reconsider D135 = D123 as (Subset of C248) by L854;
L855: ( ex_sup_of C249 , C248 &  ex_sup_of D135 , C248) by YELLOW_0:17;
L856: ( C250 "/\" ( sup C249 ) ) >= ( sup D135 ) by L855 , L803;
L857: ( C250 "/\" ( sup C249 ) ) is_<=_than ( rng ( Sups D132 ) )
proof
let C255 being (Element of C248);
assume L858: C255 in ( rng ( Sups D132 ) );
consider C256 being (Element of D124) such that L859: C255 = ( Sup ( D132 . C256 ) ) by L858 , L245;
per cases  by TARSKI:def 2;
suppose L860: C256 = 1;

L861: ( rng ( D132 . C256 ) ) = { C250 } by L860 , L819 , FUNCOP_1:8;
L862: ( Sup ( D132 . C256 ) ) = ( sup { C250 } ) by L861 , YELLOW_2:def 5;
L863: C255 = C250 by L862 , L859 , YELLOW_0:39;
thus L864: ( C250 "/\" ( sup C249 ) ) <= C255 by L863 , YELLOW_0:23;
end;
suppose L865: C256 = 2;

L866: ( rng ( D132 . C256 ) ) = C249 by L865 , L823 , RELAT_1:45;
L867: C255 = ( sup C249 ) by L866 , L859 , YELLOW_2:def 5;
thus L868: ( C250 "/\" ( sup C249 ) ) <= C255 by L867 , YELLOW_0:23;
end;
end;
L870: ( C250 "/\" ( sup C249 ) ) <= ( inf ( rng ( Sups D132 ) ) ) by L857 , YELLOW_0:33;
L871: ( C250 "/\" ( sup C249 ) ) <= ( Inf ( Sups D132 ) ) by L870 , YELLOW_2:def 6;
L872: ( C250 "/\" ( sup C249 ) ) <= ( Sup ( Infs ( Frege D132 ) ) ) by L871 , L787;
L873: ( C250 "/\" ( sup C249 ) ) <= ( "\/" ({ ( C250 "/\" B309 ) where B309 is (Element of C248) : B309 in C249 } , C248) ) by L872 , L853 , YELLOW_0:def 2;
thus L874: thesis by L873 , L856 , YELLOW_0:def 3;
end;
theorem
L875: (for B310 being  completely-distributive LATTICE holds (for B311 being (Subset of B310) holds (for B312 being (Element of B310) holds ( B312 "/\" ( sup B311 ) ) = ( "\/" ({ ( B312 "/\" B313 ) where B313 is (Element of B310) : B313 in B311 } , B310) ))))
proof
let C257 being  completely-distributive LATTICE;
let C258 being (Subset of C257);
let C259 being (Element of C257);
set D136 = { ( C259 "/\" B314 ) where B314 is (Element of C257) : B314 in C258 };
per cases ;
suppose L876: C258 is  empty;

L877:
now
set D137 = the (Element of D136);
assume L878: D136 <> ( {} );
L879: D137 in D136 by L878;
L880: (ex B315 being (Element of C257) st (D137 = ( C259 "/\" B315 ) & B315 in C258)) by L879;
thus L881: contradiction by L880 , L876;
end;
L882: ( "\/" (D136 , C257) ) = ( Bottom C257 ) by L877 , YELLOW_0:def 11;
L883: ( sup C258 ) = ( Bottom C257 ) by L876 , YELLOW_0:def 11;
thus L884: thesis by L883 , L882 , WAYBEL_1:3;
end;
suppose L885: C258 is non  empty;

thus L886: thesis by L885 , L818;
end;
end;
registration
cluster  completely-distributive ->  Heyting for LATTICE;
correctness
proof
let C260 being LATTICE;
assume L888: C260 is  completely-distributive;
reconsider D138 = C260 as  completely-distributive LATTICE by L888;
L889: (for B316 being (Subset of D138) holds (for B317 being (Element of D138) holds ( B317 "/\" ( sup B316 ) ) = ( "\/" ({ ( B317 "/\" B318 ) where B318 is (Element of D138) : B318 in B316 } , D138) ))) by L875;
L890: (for B319 being (Element of D138) holds ( B319 "/\" ) is  lower_adjoint) by L889 , WAYBEL_1:64;
thus L891: thesis by L890 , WAYBEL_1:def 19;
end;
end;
begin
definition
let C261 being non  empty RelStr;
mode CLSubFrame of C261
 is  infs-inheriting  directed-sups-inheriting non  empty  full (SubRelStr of C261);
end;
theorem
L894: (for R5 being  complete LATTICE holds (for R16 being non  empty set holds (for R17 being  non-empty (ManySortedSet of R16) holds (for B320 being (DoubleIndexedSet of R17 , R5) holds ((for B321 being (Element of R16) holds ( rng ( B320 . B321 ) ) is  directed) implies ( rng ( Infs ( Frege B320 ) ) ) is  directed)))))
proof
let R5 being  complete LATTICE;
let R16 being non  empty set;
let R17 being  non-empty (ManySortedSet of R16);
let C262 being (DoubleIndexedSet of R17 , R5);
set D139 = ( rng ( Infs ( Frege C262 ) ) );
assume L895: (for B322 being (Element of R16) holds ( rng ( C262 . B322 ) ) is  directed);
L896: (for B323 , B324 being (Element of R5) holds ((B323 in D139 & B324 in D139) implies (ex B325 being (Element of R5) st (B325 in D139 & B323 <= B325 & B324 <= B325))))
proof
let C263 , C264 being (Element of R5);
assume that
L897: C263 in D139
and
L898: C264 in D139;
consider C265 being set such that L899: C265 in ( dom ( Frege C262 ) ) and L900: C264 = ( //\ (( ( Frege C262 ) . C265 ) , R5) ) by L898 , L235;
reconsider D140 = C265 as Function by L899;
reconsider D141 = ( ( Frege C262 ) . D140 ) as (Function of R16 , (the carrier of R5)) by L899 , L134;
consider C266 being set such that L901: C266 in ( dom ( Frege C262 ) ) and L902: C263 = ( //\ (( ( Frege C262 ) . C266 ) , R5) ) by L897 , L235;
reconsider D142 = C266 as Function by L901;
reconsider D143 = ( ( Frege C262 ) . D142 ) as (Function of R16 , (the carrier of R5)) by L901 , L134;
L903:  ex_inf_of ( rng ( ( Frege C262 ) . D142 ) ) , R5 by YELLOW_0:17;
defpred S6[ set , set ] means ($1 in R16 & $2 in ( R17 . $1 ) & (for B326 being (Element of R5) holds (B326 = ( ( C262 . $1 ) . $2 ) implies ((for B327 being (Element of R5) holds (B327 = ( D143 . $1 ) implies B327 <= B326)) & (for B328 being (Element of R5) holds (B328 = ( D141 . $1 ) implies B328 <= B326))))));
L904: (for B329 being (Element of R16) holds (ex B330 being (Element of ( R17 . B329 )) st (( D143 . B329 ) <= ( ( C262 . B329 ) . B330 ) & ( D141 . B329 ) <= ( ( C262 . B329 ) . B330 ))))
proof
let C267 being (Element of R16);
L905: C267 in R16;
L906: C267 in ( dom C262 ) by L905 , PARTFUN1:def 2;
L907: ( D142 . C267 ) in ( dom ( C262 . C267 ) ) by L906 , L901 , L123;
L908: C267 in R16;
L909: C267 in ( dom C262 ) by L908 , PARTFUN1:def 2;
L910: ( D143 . C267 ) = ( ( C262 . C267 ) . ( D142 . C267 ) ) by L909 , L901 , L123;
L911: ( D143 . C267 ) in ( rng ( C262 . C267 ) ) by L910 , L907 , FUNCT_1:def 3;
L912: ( D140 . C267 ) in ( dom ( C262 . C267 ) ) by L899 , L906 , L123;
L913: ( D141 . C267 ) = ( ( C262 . C267 ) . ( D140 . C267 ) ) by L899 , L909 , L123;
L914: ( D141 . C267 ) in ( rng ( C262 . C267 ) ) by L913 , L912 , FUNCT_1:def 3;
L915: ( rng ( C262 . C267 ) ) is  directed  directed  directed  directed (Subset of R5) by L895;
consider C268 being (Element of R5) such that L916: C268 in ( rng ( C262 . C267 ) ) and L917: (( D143 . C267 ) <= C268 & ( D141 . C267 ) <= C268) by L915 , L911 , L914 , WAYBEL_0:def 1;
consider C269 being set such that L918: C269 in ( dom ( C262 . C267 ) ) and L919: C268 = ( ( C262 . C267 ) . C269 ) by L916 , FUNCT_1:def 3;
reconsider D144 = C269 as (Element of ( R17 . C267 )) by L918;
take D144;
thus L920: thesis by L917 , L919;
end;
L921: (for B331 being set holds (B331 in R16 implies (ex B332 being set st (B332 in ( union ( rng R17 ) ) & S6[ B331 , B332 ]))))
proof
let C270 being set;
assume L922: C270 in R16;
reconsider D145 = C270 as (Element of R16) by L922;
consider C271 being (Element of ( R17 . D145 )) such that L923: (( D143 . D145 ) <= ( ( C262 . D145 ) . C271 ) & ( D141 . D145 ) <= ( ( C262 . D145 ) . C271 )) by L904;
take C271;
L924: D145 in R16;
L925: D145 in ( dom R17 ) by L924 , PARTFUN1:def 2;
L926: ( R17 . D145 ) in ( rng R17 ) by L925 , FUNCT_1:def 3;
thus L927: C271 in ( union ( rng R17 ) ) by L926 , TARSKI:def 4;
thus L928: thesis by L923;
end;
consider C272 being Function such that L929: ( dom C272 ) = R16 and L930: ( rng C272 ) c= ( union ( rng R17 ) ) and L931: (for B333 being set holds (B333 in R16 implies S6[ B333 , ( C272 . B333 ) ])) from FUNCT_1:sch 5(L921);
L932:
now
let C273 being set;
assume L933: C273 in ( dom ( doms C262 ) );
L934: C273 in ( dom C262 ) by L933 , FUNCT_6:59;
reconsider D146 = C273 as (Element of R16) by L934;
L935: ( ( doms C262 ) . C273 ) = ( dom ( C262 . D146 ) ) by L934 , FUNCT_6:22
.= ( R17 . D146 ) by FUNCT_2:def 1;
thus L936: ( C272 . C273 ) in ( ( doms C262 ) . C273 ) by L935 , L931;
end;
L937: ( dom C272 ) = ( dom C262 ) by L929 , PARTFUN1:def 2
.= ( dom ( doms C262 ) ) by FUNCT_6:59;
L938: C272 in ( product ( doms C262 ) ) by L937 , L932 , CARD_3:9;
L939: C272 in ( dom ( Frege C262 ) ) by L938 , PARTFUN1:def 2;
reconsider D147 = ( ( Frege C262 ) . C272 ) as (Function of R16 , (the carrier of R5)) by L939 , L134;
take D148 = ( Inf D147 );
thus L940: D148 in D139 by L939 , L235;
L941: C263 = ( "/\" (( rng ( ( Frege C262 ) . D142 ) ) , R5) ) by L902 , YELLOW_2:def 6;
L942:
now
let C274 being (Element of R16);
L943: C274 in R16;
L944: C274 in ( dom D143 ) by L943 , FUNCT_2:def 1;
L945: ( D143 . C274 ) in ( rng D143 ) by L944 , FUNCT_1:def 3;
L946: C274 in ( dom C262 ) by L943 , PARTFUN1:def 2;
L947: ( ( C262 . C274 ) . ( C272 . C274 ) ) = ( ( ( Frege C262 ) . C272 ) . C274 ) by L946 , L939 , L123;
L948: ( D143 . C274 ) <= ( D147 . C274 ) by L947 , L931;
L949: C263 is_<=_than ( rng D143 ) by L941 , L903 , YELLOW_0:def 10;
L950: C263 <= ( D143 . C274 ) by L949 , L945 , LATTICE3:def 8;
thus L951: C263 <= ( D147 . C274 ) by L950 , L948 , ORDERS_2:3;
end;
thus L952: C263 <= D148 by L942 , YELLOW_2:55;
L953:  ex_inf_of ( rng ( ( Frege C262 ) . D140 ) ) , R5 by YELLOW_0:17;
L954: C264 = ( "/\" (( rng ( ( Frege C262 ) . D140 ) ) , R5) ) by L900 , YELLOW_2:def 6;
L955:
now
let C275 being (Element of R16);
L956: C275 in R16;
L957: C275 in ( dom D141 ) by L956 , FUNCT_2:def 1;
L958: ( D141 . C275 ) in ( rng D141 ) by L957 , FUNCT_1:def 3;
L959: C275 in ( dom C262 ) by L956 , PARTFUN1:def 2;
L960: ( ( C262 . C275 ) . ( C272 . C275 ) ) = ( ( ( Frege C262 ) . C272 ) . C275 ) by L959 , L939 , L123;
L961: ( D141 . C275 ) <= ( D147 . C275 ) by L960 , L931;
L962: C264 is_<=_than ( rng D141 ) by L954 , L953 , YELLOW_0:def 10;
L963: C264 <= ( D141 . C275 ) by L962 , L958 , LATTICE3:def 8;
thus L964: C264 <= ( D147 . C275 ) by L963 , L961 , ORDERS_2:3;
end;
thus L965: thesis by L955 , YELLOW_2:55;
end;
thus L966: thesis by L896 , WAYBEL_0:def 1;
end;
theorem
L967: (for R5 being  complete LATTICE holds (R5 is  continuous implies (for B334 being (CLSubFrame of R5) holds B334 is  continuous  continuous  continuous  continuous LATTICE)))
proof
let R5 being  complete LATTICE;
assume L968: R5 is  continuous;
let C276 being (CLSubFrame of R5);
reconsider D149 = R5 as  complete LATTICE;
L969: C276 is  complete  complete  complete  complete LATTICE by YELLOW_2:30;
L970: (for R16 being non  empty set holds (for R17 being  non-empty (ManySortedSet of R16) holds (for B335 being (DoubleIndexedSet of R17 , C276) holds ((for B336 being (Element of R16) holds ( rng ( B335 . B336 ) ) is  directed) implies ( Inf ( Sups B335 ) ) = ( Sup ( Infs ( Frege B335 ) ) )))))
proof
let R16 being non  empty set;
let R17 being  non-empty (ManySortedSet of R16);
let C277 being (DoubleIndexedSet of R17 , C276);
assume that
L971: (for B337 being (Element of R16) holds ( rng ( C277 . B337 ) ) is  directed);
L972:
now
let C278 being set;
assume L973: C278 in R16;
reconsider D150 = C278 as (Element of R16) by L973;
L974: (( C277 . D150 ) is (Function of ( R17 . D150 ) , (the carrier of C276)) & (the carrier of C276) c= (the carrier of R5)) by YELLOW_0:def 13;
L975: ( ( R16 --> (the carrier of R5) ) . C278 ) = (the carrier of R5) by L973 , FUNCOP_1:7;
thus L976: ( C277 . C278 ) is (Function of ( R17 . C278 ) , ( ( R16 --> (the carrier of R5) ) . C278 )) by L975 , L974 , FUNCT_2:7;
end;
reconsider D151 = C277 as (DoubleIndexedSet of R17 , R5) by L972 , PBOOLE:def 15;
L977:  ex_inf_of ( rng ( Sups C277 ) ) , R5 by YELLOW_0:17;
L978: ( "/\" (( rng ( Sups C277 ) ) , R5) ) in (the carrier of C276) by L977 , YELLOW_0:def 18;
L979:
now
let R1 being set;
assume L980: R1 in ( rng ( Sups D151 ) );
consider C279 being (Element of R16) such that L981: R1 = ( Sup ( D151 . C279 ) ) by L980 , L245;
L982: ( ex_sup_of ( rng ( C277 . C279 ) ) , D149 & ( rng ( C277 . C279 ) ) is  directed  directed  directed  directed (Subset of C276)) by L971 , YELLOW_0:17;
L983: R1 = ( sup ( rng ( D151 . C279 ) ) ) by L981 , YELLOW_2:def 5
.= ( sup ( rng ( C277 . C279 ) ) ) by L982 , WAYBEL_0:7
.= ( Sup ( C277 . C279 ) ) by YELLOW_2:def 5;
thus L984: R1 in ( rng ( Sups C277 ) ) by L983 , L245;
end;
L985: ( rng ( Sups D151 ) ) c= ( rng ( Sups C277 ) ) by L979 , TARSKI:def 3;
L986:
now
let R1 being set;
assume L987: R1 in ( rng ( Sups C277 ) );
consider C280 being (Element of R16) such that L988: R1 = ( Sup ( C277 . C280 ) ) by L987 , L245;
L989: ( ex_sup_of ( rng ( C277 . C280 ) ) , D149 & ( rng ( C277 . C280 ) ) is  directed  directed  directed  directed (Subset of C276)) by L971 , YELLOW_0:17;
L990: R1 = ( sup ( rng ( C277 . C280 ) ) ) by L988 , YELLOW_2:def 5
.= ( sup ( rng ( D151 . C280 ) ) ) by L989 , WAYBEL_0:7
.= ( Sup ( D151 . C280 ) ) by YELLOW_2:def 5;
thus L991: R1 in ( rng ( Sups D151 ) ) by L990 , L245;
end;
L992: ( rng ( Sups C277 ) ) c= ( rng ( Sups D151 ) ) by L986 , TARSKI:def 3;
L993: ( ex_inf_of ( rng ( Sups D151 ) ) , D149 & ( rng ( Sups D151 ) ) = ( rng ( Sups C277 ) )) by L992 , L985 , XBOOLE_0:def 10 , YELLOW_0:17;
L994: ( inf ( rng ( Sups D151 ) ) ) = ( inf ( rng ( Sups C277 ) ) ) by L993 , L978 , YELLOW_0:63;
L995: ( Inf ( Sups D151 ) ) = ( inf ( rng ( Sups C277 ) ) ) by L994 , YELLOW_2:def 6;
L996:
now
let R1 being set;
assume L997: R1 in ( rng ( Infs ( Frege C277 ) ) );
consider C281 being set such that L998: C281 in ( dom ( Frege C277 ) ) and L999: R1 = ( //\ (( ( Frege C277 ) . C281 ) , C276) ) by L997 , L235;
reconsider D152 = C281 as Function by L998;
L1000: ( ( Frege C277 ) . D152 ) is (Function of R16 , (the carrier of C276)) by L998 , L134;
L1001: ( rng ( ( Frege C277 ) . D152 ) ) c= (the carrier of C276) by L1000 , RELAT_1:def 19;
L1002:  ex_inf_of ( rng ( ( Frege C277 ) . D152 ) ) , D149 by YELLOW_0:17;
L1003: ( "/\" (( rng ( ( Frege C277 ) . D152 ) ) , R5) ) in (the carrier of C276) by L1002 , L1001 , YELLOW_0:def 18;
L1004: R1 = ( "/\" (( rng ( ( Frege C277 ) . D152 ) ) , C276) ) by L999 , YELLOW_2:def 6
.= ( "/\" (( rng ( ( Frege D151 ) . D152 ) ) , R5) ) by L1001 , L1002 , L1003 , YELLOW_0:63
.= ( //\ (( ( Frege D151 ) . D152 ) , R5) ) by YELLOW_2:def 6;
thus L1005: R1 in ( rng ( Infs ( Frege D151 ) ) ) by L1004 , L998 , L235;
end;
L1006: ( rng ( Infs ( Frege C277 ) ) ) c= ( rng ( Infs ( Frege D151 ) ) ) by L996 , TARSKI:def 3;
L1007:
now
let R1 being set;
assume L1008: R1 in ( rng ( /\\ (( Frege D151 ) , R5) ) );
consider C282 being set such that L1009: C282 in ( dom ( Frege D151 ) ) and L1010: R1 = ( //\ (( ( Frege D151 ) . C282 ) , R5) ) by L1008 , L235;
reconsider D153 = C282 as (Element of ( product ( doms D151 ) )) by L1009;
L1011: ( ( Frege C277 ) . D153 ) is (Function of R16 , (the carrier of C276)) by L1009 , L134;
L1012: ( rng ( ( Frege C277 ) . D153 ) ) c= (the carrier of C276) by L1011 , RELAT_1:def 19;
L1013:  ex_inf_of ( rng ( ( Frege C277 ) . D153 ) ) , D149 by YELLOW_0:17;
L1014: ( "/\" (( rng ( ( Frege C277 ) . D153 ) ) , R5) ) in (the carrier of C276) by L1013 , L1012 , YELLOW_0:def 18;
L1015: R1 = ( "/\" (( rng ( ( Frege D151 ) . D153 ) ) , R5) ) by L1010 , YELLOW_2:def 6
.= ( "/\" (( rng ( ( Frege C277 ) . D153 ) ) , C276) ) by L1012 , L1013 , L1014 , YELLOW_0:63
.= ( //\ (( ( Frege C277 ) . D153 ) , C276) ) by YELLOW_2:def 6;
thus L1016: R1 in ( rng ( Infs ( Frege C277 ) ) ) by L1015 , L1009 , L235;
end;
L1017: ( rng ( /\\ (( Frege D151 ) , R5) ) ) c= ( rng ( /\\ (( Frege C277 ) , C276) ) ) by L1007 , TARSKI:def 3;
L1018: ( rng ( Infs ( Frege D151 ) ) ) = ( rng ( Infs ( Frege C277 ) ) ) by L1017 , L1006 , XBOOLE_0:def 10;
L1019: (for B338 being (Element of R16) holds ( rng ( D151 . B338 ) ) is  directed)
proof
let C283 being (Element of R16);
L1020: ( rng ( C277 . C283 ) ) is  directed by L971;
thus L1021: thesis by L1020 , YELLOW_2:7;
end;
L1022: ( Inf ( Sups D151 ) ) = ( Sup ( Infs ( Frege D151 ) ) ) by L1019 , L968 , L301;
L1023: ( ex_sup_of ( rng ( /\\ (( Frege D151 ) , R5) ) ) , D149 & ( rng ( Infs ( Frege C277 ) ) ) is non  empty  directed non  empty  directed non  empty  directed non  empty  directed (Subset of C276)) by L969 , L971 , L894 , YELLOW_0:17;
L1024: ( sup ( rng ( Infs ( Frege D151 ) ) ) ) = ( sup ( rng ( Infs ( Frege C277 ) ) ) ) by L1023 , L1018 , WAYBEL_0:7;
L1025: ( Sup ( Infs ( Frege D151 ) ) ) = ( sup ( rng ( Infs ( Frege C277 ) ) ) ) by L1024 , YELLOW_2:def 5
.= ( Sup ( Infs ( Frege C277 ) ) ) by YELLOW_2:def 5;
thus L1026: thesis by L1025 , L1022 , L995 , YELLOW_2:def 6;
end;
thus L1027: thesis by L970 , L969 , L476;
end;
theorem
L1028: (for R5 being  complete LATTICE holds (for B339 being non  empty Poset holds ((ex B340 being (Function of R5 , B339) st B340 is  infs-preserving  onto) implies B339 is  complete  complete  complete  complete LATTICE)))
proof
let R5 being  complete LATTICE;
let C284 being non  empty Poset;
given C285 being (Function of R5 , C284) such that
L1029: C285 is  infs-preserving
and
L1030: C285 is  onto;

L1031: (for B341 being (Subset of C284) holds  ex_inf_of B341 , C284)
proof
let C286 being (Subset of C284);
set D154 = ( C285 " C286 );
L1032: ( rng C285 ) = (the carrier of C284) by L1030 , FUNCT_2:def 3;
L1033: C286 = ( C285 .: D154 ) by L1032 , FUNCT_1:77;
L1034: ( ex_inf_of D154 , R5 & C285 preserves_inf_of D154) by L1029 , WAYBEL_0:def 32 , YELLOW_0:17;
thus L1035: thesis by L1034 , L1033 , WAYBEL_0:def 30;
end;
L1036: C284 is  complete non  empty  complete non  empty  complete non  empty  complete non  empty Poset by L1031 , YELLOW_2:28;
thus L1037: thesis by L1036;
end;
notation
let C287 being set;
let C288 being set;
synonym C287 => C288 for C287 --> C288;
end;
registration
let C289 being set;
let C290 being set;
cluster ( C289 => C290 ) ->  total for C289 -defined C289 -defined C289 -defined C289 -defined Function;
coherence;
end;
definition
let C291 , C292 , C293 being set;
let C294 being (Function of C291 , C292);
redefine func C293 => C294 -> (ManySortedFunction of ( C293 --> C291 ) , ( C293 --> C292 ));

coherence
proof
set D155 = ( C293 --> C291 );
set D156 = ( C293 --> C292 );
L1040: (for B342 being set holds (B342 in C293 implies ( ( C293 => C294 ) . B342 ) is (Function of ( D155 . B342 ) , ( D156 . B342 ))))
proof
let C295 being set;
assume L1041: C295 in C293;
L1042: (( D155 . C295 ) = C291 & ( D156 . C295 ) = C292) by L1041 , FUNCOP_1:7;
thus L1043: thesis by L1042 , L1041 , FUNCOP_1:7;
end;
thus L1044: thesis by L1040 , PBOOLE:def 15;
end;
end;
theorem
L1046: (for R16 being non  empty set holds (for B343 , B344 being set holds (for B345 being (Function of B343 , B344) holds (for B346 being (Function of B344 , B343) holds (( B346 * B345 ) = ( id B343 ) implies ( ( R16 => B346 ) ** ( R16 => B345 ) ) = ( id ( R16 --> B343 ) ))))))
proof
let R16 being non  empty set;
let C296 , C297 being set;
let C298 being (Function of C296 , C297);
let C299 being (Function of C297 , C296);
set D157 = ( ( R16 => C299 ) ** ( R16 => C298 ) );
L1047: ( dom D157 ) = R16 by MSUALG_3:2;
reconsider D158 = D157 as (ManySortedSet of R16) by L1047 , PARTFUN1:def 2 , RELAT_1:def 18;
assume L1048: ( C299 * C298 ) = ( id C296 );
L1049: (for B347 being set holds (B347 in R16 implies ( D158 . B347 ) = ( id ( ( R16 --> C296 ) . B347 ) )))
proof
let C300 being set;
assume L1050: C300 in R16;
L1051: ( ( R16 --> C296 ) . C300 ) = C296 by L1050 , FUNCOP_1:7;
L1052: (( ( R16 => C299 ) . C300 ) = C299 & ( ( R16 => C298 ) . C300 ) = C298) by L1050 , FUNCOP_1:7;
thus L1053: thesis by L1052 , L1048 , L1050 , L1051 , MSUALG_3:2;
end;
L1054:
now
let C301 being set;
assume L1055: C301 in R16;
L1056: ( D158 . C301 ) = ( id ( ( R16 --> C296 ) . C301 ) ) by L1055 , L1049;
thus L1057: ( D158 . C301 ) is (Function of ( ( R16 --> C296 ) . C301 ) , ( ( R16 --> C296 ) . C301 )) by L1056;
end;
reconsider D159 = D158 as (ManySortedFunction of ( R16 --> C296 ) , ( R16 --> C296 )) by L1054 , PBOOLE:def 15;
L1058: (for B348 being set holds (B348 in R16 implies ( D159 . B348 ) = ( id ( ( R16 --> C296 ) . B348 ) ))) by L1049;
thus L1059: thesis by L1058 , MSUALG_3:def 1;
end;
theorem
L1060: (for B349 , B350 being non  empty set holds (for B351 being set holds (for B352 being (ManySortedSet of B349) holds (for B353 being (DoubleIndexedSet of B352 , B350) holds (for B354 being (Function of B350 , B351) holds ( ( B349 => B354 ) ** B353 ) is (DoubleIndexedSet of B352 , B351))))))
proof
let C302 , C303 being non  empty set;
let C304 being set;
let C305 being (ManySortedSet of C302);
let C306 being (DoubleIndexedSet of C305 , C303);
let C307 being (Function of C303 , C304);
set D160 = ( ( C302 => C307 ) ** C306 );
L1061: ( dom D160 ) = C302 by MSUALG_3:2;
reconsider D161 = D160 as (ManySortedSet of C302) by L1061 , PARTFUN1:def 2 , RELAT_1:def 18;
L1062: (for B355 being set holds (B355 in C302 implies ( D161 . B355 ) is (Function of ( C305 . B355 ) , ( ( C302 --> C304 ) . B355 ))))
proof
let C308 being set;
assume L1063: C308 in C302;
reconsider D162 = C308 as (Element of C302) by L1063;
reconsider D163 = ( C306 . D162 ) as (Function of ( C305 . C308 ) , C303);
L1064: ( D161 . C308 ) = ( ( ( C302 => C307 ) . C308 ) * ( C306 . C308 ) ) by L1063 , MSUALG_3:2
.= ( C307 * D163 ) by FUNCOP_1:7;
L1065: ( ( C302 --> C304 ) . C308 ) = C304 by L1063 , FUNCOP_1:7;
thus L1066: thesis by L1065 , L1064;
end;
thus L1067: ( ( C302 --> C307 ) ** C306 ) is (DoubleIndexedSet of C305 , C304) by L1062 , PBOOLE:def 15;
end;
theorem
L1068: (for B356 , B357 , B358 being non  empty set holds (for B359 being (ManySortedSet of B356) holds (for B360 being (DoubleIndexedSet of B359 , B357) holds (for B361 being (Function of B357 , B358) holds ( doms ( ( B356 => B361 ) ** B360 ) ) = ( doms B360 )))))
proof
let C309 , C310 , C311 being non  empty set;
let C312 being (ManySortedSet of C309);
let C313 being (DoubleIndexedSet of C312 , C310);
let C314 being (Function of C310 , C311);
L1069: ( dom ( doms ( ( C309 => C314 ) ** C313 ) ) ) = ( dom ( ( C309 => C314 ) ** C313 ) ) by FUNCT_6:59
.= C309 by MSUALG_3:2;
L1070:
now
let C315 being set;
assume L1071: C315 in C309;
reconsider D164 = C315 as (Element of C309) by L1071;
L1072: D164 in ( dom C313 ) by L1071 , PARTFUN1:def 2;
L1073: (( rng ( C313 . D164 ) ) c= C310 & ( dom C314 ) = C310) by FUNCT_2:def 1;
L1074: D164 in ( dom ( ( C309 => C314 ) ** C313 ) ) by L1069 , L1071 , FUNCT_6:59;
L1075: ( ( doms ( ( C309 => C314 ) ** C313 ) ) . D164 ) = ( dom ( ( ( C309 => C314 ) ** C313 ) . D164 ) ) by L1074 , FUNCT_6:22
.= ( dom ( ( ( C309 => C314 ) . D164 ) * ( C313 . D164 ) ) ) by MSUALG_3:2
.= ( dom ( C314 * ( C313 . D164 ) ) ) by FUNCOP_1:7
.= ( dom ( C313 . D164 ) ) by L1073 , RELAT_1:27
.= ( ( doms C313 ) . D164 ) by L1072 , FUNCT_6:22;
thus L1076: ( ( doms ( ( C309 => C314 ) ** C313 ) ) . C315 ) = ( ( doms C313 ) . C315 ) by L1075;
end;
L1077: ( dom ( doms C313 ) ) = ( dom C313 ) by FUNCT_6:59
.= C309 by PARTFUN1:def 2;
thus L1078: thesis by L1077 , L1069 , L1070 , FUNCT_1:2;
end;
theorem
L1079: (for R5 being  complete LATTICE holds (R5 is  continuous implies (for B362 being non  empty Poset holds ((ex B363 being (Function of R5 , B362) st (B363 is  infs-preserving  directed-sups-preserving & B363 is  onto)) implies B362 is  continuous  continuous  continuous  continuous LATTICE))))
proof
let R5 being  complete LATTICE;
assume L1080: R5 is  continuous;
let C316 being non  empty Poset;
given C317 being (Function of R5 , C316) such that
L1081: C317 is  infs-preserving  directed-sups-preserving
and
L1082: C317 is  onto;

reconsider D165 = C316 as  complete LATTICE by L1081 , L1082 , L1028;
L1083: (for R16 being non  empty set holds (for R17 being  non-empty (ManySortedSet of R16) holds (for B364 being (DoubleIndexedSet of R17 , D165) holds ((for B365 being (Element of R16) holds ( rng ( B364 . B365 ) ) is  directed) implies ( Inf ( Sups B364 ) ) = ( Sup ( Infs ( Frege B364 ) ) )))))
proof
let R16 being non  empty set;
let R17 being  non-empty (ManySortedSet of R16);
let C318 being (DoubleIndexedSet of R17 , D165);
assume that
L1084: (for B366 being (Element of R16) holds ( rng ( C318 . B366 ) ) is  directed);
consider C319 being (Function of C316 , R5) such that L1085: [ C317 , C319 ] is  Galois and L1086: (for B367 being (Element of C316) holds ( C319 . B367 ) is_minimum_of ( C317 " ( uparrow B367 ) )) by L1081 , WAYBEL_1:14;
reconsider D166 = ( ( R16 => C319 ) ** C318 ) as (DoubleIndexedSet of R17 , R5) by L1060;
L1087: ( ex_inf_of ( rng ( Sups D166 ) ) , R5 & C317 preserves_inf_of ( rng ( Sups D166 ) )) by L1081 , WAYBEL_0:def 32 , YELLOW_0:17;
L1088: (for B368 being (Element of C316) holds ( C319 . B368 ) is_minimum_of ( C317 " { B368 } )) by L1082 , L1085 , WAYBEL_1:22;
L1089: ( C317 * C319 ) = ( id C316 ) by L1088 , WAYBEL_1:23;
L1090: (for B369 being set holds (B369 in ( dom ( Frege D166 ) ) implies ( rng ( ( Frege C318 ) . B369 ) ) = ( C317 .: ( rng ( ( Frege D166 ) . B369 ) ) )))
proof
let C320 being set;
assume L1091: C320 in ( dom ( Frege D166 ) );
reconsider D167 = C320 as (Element of ( product ( doms D166 ) )) by L1091;
L1092: ( dom ( Frege D166 ) ) = ( product ( doms D166 ) ) by PARTFUN1:def 2
.= ( product ( doms C318 ) ) by L1068
.= ( dom ( Frege C318 ) ) by PARTFUN1:def 2;
L1093: ( dom ( ( Frege D166 ) . D167 ) ) = ( dom D166 ) by L1091 , L117
.= R16 by PARTFUN1:def 2;
L1094:
now
let C321 being set;
assume L1095: C321 in R16;
reconsider D168 = C321 as (Element of R16) by L1095;
L1096: D168 in ( dom C318 ) by L1095 , PARTFUN1:def 2;
L1097: D168 in ( dom D166 ) by L1095 , PARTFUN1:def 2;
L1098: ( D167 . D168 ) in ( dom ( D166 . D168 ) ) by L1097 , L1091 , L123;
L1099: ( D167 . D168 ) in ( dom ( ( ( R16 => C319 ) . D168 ) * ( C318 . D168 ) ) ) by L1098 , MSUALG_3:2;
L1100: ( D167 . D168 ) in ( dom ( C319 * ( C318 . D168 ) ) ) by L1099 , FUNCOP_1:7;
L1101: ( ( C317 * ( ( Frege D166 ) . D167 ) ) . D168 ) = ( C317 . ( ( ( Frege D166 ) . D167 ) . D168 ) ) by L1093 , FUNCT_1:13
.= ( C317 . ( ( D166 . D168 ) . ( D167 . D168 ) ) ) by L1091 , L1097 , L123
.= ( C317 . ( ( ( ( R16 => C319 ) . D168 ) * ( C318 . D168 ) ) . ( D167 . D168 ) ) ) by MSUALG_3:2
.= ( C317 . ( ( C319 * ( C318 . D168 ) ) . ( D167 . D168 ) ) ) by FUNCOP_1:7
.= ( ( C317 * ( C319 * ( C318 . D168 ) ) ) . ( D167 . D168 ) ) by L1100 , FUNCT_1:13
.= ( ( ( id (the carrier of C316) ) * ( C318 . D168 ) ) . ( D167 . D168 ) ) by L1089 , RELAT_1:36
.= ( ( C318 . D168 ) . ( D167 . D168 ) ) by FUNCT_2:17
.= ( ( ( Frege C318 ) . D167 ) . D168 ) by L1091 , L1092 , L1096 , L123;
thus L1102: ( ( C317 * ( ( Frege D166 ) . D167 ) ) . C321 ) = ( ( ( Frege C318 ) . D167 ) . C321 ) by L1101;
end;
L1103: ( dom C317 ) = (the carrier of R5) by FUNCT_2:def 1;
L1104: ( rng ( ( Frege D166 ) . D167 ) ) c= ( dom C317 ) by L1103;
L1105: ( dom ( C317 * ( ( Frege D166 ) . D167 ) ) ) = ( dom ( ( Frege D166 ) . D167 ) ) by L1104 , RELAT_1:27;
L1106: ( dom ( ( Frege C318 ) . D167 ) ) = ( dom C318 ) by L1091 , L1092 , L117
.= R16 by PARTFUN1:def 2;
L1107: ( rng ( ( Frege C318 ) . D167 ) ) = ( rng ( C317 * ( ( Frege D166 ) . D167 ) ) ) by L1106 , L1093 , L1105 , L1094 , FUNCT_1:2
.= ( C317 .: ( rng ( ( Frege D166 ) . D167 ) ) ) by RELAT_1:127;
thus L1108: thesis by L1107;
end;
L1109: ( rng ( Infs ( Frege C318 ) ) ) c= ( C317 .: ( rng ( Infs ( Frege D166 ) ) ) )
proof
let C322 being set;
assume L1110: C322 in ( rng ( Infs ( Frege C318 ) ) );
consider C323 being set such that L1111: C323 in ( dom ( Frege C318 ) ) and L1112: C322 = ( //\ (( ( Frege C318 ) . C323 ) , C316) ) by L1110 , L235;
reconsider D169 = C323 as (Element of ( product ( doms C318 ) )) by L1111;
reconsider D170 = D169 as (Element of ( product ( doms D166 ) )) by L1068;
set D171 = ( rng ( ( Frege D166 ) . D170 ) );
L1113: (C317 preserves_inf_of D171 &  ex_inf_of D171 , R5) by L1081 , WAYBEL_0:def 32 , YELLOW_0:17;
L1114: ( dom ( Frege D166 ) ) = ( product ( doms D166 ) ) by PARTFUN1:def 2
.= ( product ( doms C318 ) ) by L1068
.= ( dom ( Frege C318 ) ) by PARTFUN1:def 2;
L1115: ( rng ( ( Frege C318 ) . D169 ) ) = ( C317 .: ( rng ( ( Frege D166 ) . D169 ) ) ) by L1114 , L1090 , L1111;
L1116: C322 = ( "/\" (( C317 .: ( rng ( ( Frege D166 ) . D169 ) ) ) , C316) ) by L1115 , L1112 , YELLOW_2:def 6;
L1117: C322 = ( C317 . ( inf D171 ) ) by L1116 , L1113 , WAYBEL_0:def 30
.= ( C317 . ( Inf ( ( Frege D166 ) . D170 ) ) ) by YELLOW_2:def 6;
L1118: ( Inf ( ( Frege D166 ) . D170 ) ) in ( rng ( Infs ( Frege D166 ) ) ) by L1111 , L1114 , L235;
thus L1119: thesis by L1118 , L1117 , FUNCT_2:35;
end;
L1120: ( C317 .: ( rng ( Infs ( Frege D166 ) ) ) ) c= ( rng ( Infs ( Frege C318 ) ) )
proof
let C324 being set;
assume L1121: C324 in ( C317 .: ( rng ( Infs ( Frege D166 ) ) ) );
consider C325 being set such that L1122: C325 in (the carrier of R5) and L1123: C325 in ( rng ( Infs ( Frege D166 ) ) ) and L1124: C324 = ( C317 . C325 ) by L1121 , FUNCT_2:64;
consider C326 being set such that L1125: C326 in ( dom ( Frege D166 ) ) and L1126: C325 = ( //\ (( ( Frege D166 ) . C326 ) , R5) ) by L1123 , L235;
reconsider D172 = C326 as (Element of ( product ( doms D166 ) )) by L1125;
set D173 = ( rng ( ( Frege D166 ) . D172 ) );
L1127: (C317 preserves_inf_of D173 &  ex_inf_of D173 , R5) by L1081 , WAYBEL_0:def 32 , YELLOW_0:17;
L1128: ( inf ( C317 .: D173 ) ) = ( C317 . ( inf D173 ) ) by L1127 , WAYBEL_0:def 30;
L1129: C324 = ( inf ( C317 .: D173 ) ) by L1128 , L1124 , L1126 , YELLOW_2:def 6;
L1130: ( dom ( Frege D166 ) ) = ( product ( doms D166 ) ) by PARTFUN1:def 2
.= ( product ( doms C318 ) ) by L1068
.= ( dom ( Frege C318 ) ) by PARTFUN1:def 2;
reconsider D174 = D172 as (Element of ( product ( doms C318 ) )) by L1068;
L1131: ( rng ( ( Frege C318 ) . D172 ) ) = ( C317 .: ( rng ( ( Frege D166 ) . D172 ) ) ) by L1090 , L1125;
L1132: C324 = ( Inf ( ( Frege C318 ) . D174 ) ) by L1131 , L1129 , YELLOW_2:def 6;
thus L1133: thesis by L1132 , L1125 , L1130 , L235;
end;
L1134: C319 is  monotone by L1085 , WAYBEL_1:8;
L1135: (for B370 being (Element of R16) holds ( rng ( D166 . B370 ) ) is  directed)
proof
let C327 being (Element of R16);
L1136: ( ( R16 => C319 ) . C327 ) = C319 by FUNCOP_1:7;
L1137: ( rng ( D166 . C327 ) ) = ( rng ( C319 * ( C318 . C327 ) ) ) by L1136 , MSUALG_3:2
.= ( C319 .: ( rng ( C318 . C327 ) ) ) by RELAT_1:127;
L1138: ( rng ( C318 . C327 ) ) is  directed by L1084;
thus L1139: thesis by L1138 , L1134 , L1137 , YELLOW_2:15;
end;
L1140: ( rng ( Infs ( Frege D166 ) ) ) is  directed non  empty by L1135 , L894;
L1141: C317 preserves_sup_of ( rng ( Infs ( Frege D166 ) ) ) by L1140 , L1081 , WAYBEL_0:def 37;
reconsider D175 = ( ( R16 => C317 ) ** D166 ) as (DoubleIndexedSet of R17 , C316);
L1142:  ex_sup_of ( rng ( Infs ( Frege D166 ) ) ) , R5 by YELLOW_0:17;
L1143: ( rng ( Sups D175 ) ) c= ( C317 .: ( rng ( Sups D166 ) ) )
proof
let C328 being set;
assume L1144: C328 in ( rng ( Sups D175 ) );
consider C329 being (Element of R16) such that L1145: C328 = ( Sup ( D175 . C329 ) ) by L1144 , L245;
L1146: ( D175 . C329 ) = ( ( ( R16 => C317 ) . C329 ) * ( D166 . C329 ) ) by MSUALG_3:2
.= ( C317 * ( D166 . C329 ) ) by FUNCOP_1:7;
L1147: ( rng ( D175 . C329 ) ) = ( C317 .: ( rng ( D166 . C329 ) ) ) by L1146 , RELAT_1:127;
L1148: C328 = ( sup ( C317 .: ( rng ( D166 . C329 ) ) ) ) by L1147 , L1145 , YELLOW_2:def 5;
L1149: ( rng ( D166 . C329 ) ) is  directed by L1135;
L1150: C317 preserves_sup_of ( rng ( D166 . C329 ) ) by L1149 , L1081 , WAYBEL_0:def 37;
L1151:  ex_sup_of ( rng ( D166 . C329 ) ) , R5 by YELLOW_0:17;
L1152: ( sup ( C317 .: ( rng ( D166 . C329 ) ) ) ) = ( C317 . ( sup ( rng ( D166 . C329 ) ) ) ) by L1151 , L1150 , WAYBEL_0:def 31;
L1153: C328 = ( C317 . ( Sup ( D166 . C329 ) ) ) by L1152 , L1148 , YELLOW_2:def 5;
L1154: ( Sup ( D166 . C329 ) ) in ( rng ( Sups D166 ) ) by L245;
thus L1155: thesis by L1154 , L1153 , FUNCT_2:35;
end;
L1156: ( C317 .: ( rng ( Sups D166 ) ) ) c= ( rng ( Sups D175 ) )
proof
let C330 being set;
assume L1157: C330 in ( C317 .: ( rng ( Sups D166 ) ) );
consider C331 being set such that L1158: C331 in (the carrier of R5) and L1159: C331 in ( rng ( Sups D166 ) ) and L1160: C330 = ( C317 . C331 ) by L1157 , FUNCT_2:64;
consider C332 being (Element of R16) such that L1161: C331 = ( Sup ( D166 . C332 ) ) by L1159 , L245;
L1162: ( rng ( D166 . C332 ) ) is  directed by L1135;
L1163: C317 preserves_sup_of ( rng ( D166 . C332 ) ) by L1162 , L1081 , WAYBEL_0:def 37;
L1164:  ex_sup_of ( rng ( D166 . C332 ) ) , R5 by YELLOW_0:17;
L1165: ( sup ( C317 .: ( rng ( D166 . C332 ) ) ) ) = ( C317 . ( sup ( rng ( D166 . C332 ) ) ) ) by L1164 , L1163 , WAYBEL_0:def 31;
L1166: C330 = ( sup ( C317 .: ( rng ( D166 . C332 ) ) ) ) by L1165 , L1160 , L1161 , YELLOW_2:def 5;
L1167: ( D175 . C332 ) = ( ( ( R16 => C317 ) . C332 ) * ( D166 . C332 ) ) by MSUALG_3:2
.= ( C317 * ( D166 . C332 ) ) by FUNCOP_1:7;
L1168: ( rng ( D175 . C332 ) ) = ( C317 .: ( rng ( D166 . C332 ) ) ) by L1167 , RELAT_1:127;
L1169: C330 = ( Sup ( D175 . C332 ) ) by L1168 , L1166 , YELLOW_2:def 5;
thus L1170: thesis by L1169 , L245;
end;
L1171: C318 = ( ( id ( R16 --> (the carrier of C316) ) ) ** C318 ) by MSUALG_3:4
.= ( ( ( R16 --> C317 ) ** ( R16 --> C319 ) ) ** C318 ) by L1089 , L1046
.= D175 by PBOOLE:140;
L1172: ( Inf ( Sups C318 ) ) = ( inf ( rng ( Sups D175 ) ) ) by L1171 , YELLOW_2:def 6
.= ( inf ( C317 .: ( rng ( Sups D166 ) ) ) ) by L1143 , L1156 , XBOOLE_0:def 10
.= ( C317 . ( inf ( rng ( Sups D166 ) ) ) ) by L1087 , WAYBEL_0:def 30
.= ( C317 . ( Inf ( Sups D166 ) ) ) by YELLOW_2:def 6
.= ( C317 . ( Sup ( Infs ( Frege D166 ) ) ) ) by L1080 , L1135 , L301
.= ( C317 . ( sup ( rng ( Infs ( Frege D166 ) ) ) ) ) by YELLOW_2:def 5
.= ( sup ( C317 .: ( rng ( Infs ( Frege D166 ) ) ) ) ) by L1141 , L1142 , WAYBEL_0:def 31
.= ( sup ( rng ( Infs ( Frege C318 ) ) ) ) by L1120 , L1109 , XBOOLE_0:def 10
.= ( Sup ( Infs ( Frege C318 ) ) ) by YELLOW_2:def 5;
thus L1173: thesis by L1172;
end;
thus L1174: thesis by L1083 , L476;
end;
