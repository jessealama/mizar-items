:: Semilattice Operations on Finite Subsets
::  by Andrzej Trybulec
::
:: Received September 18, 1989
:: Copyright (c) 1990-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies TARSKI, XBOOLE_0, FUNCT_1, RELAT_1, SUBSET_1, FINSUB_1, BINOP_1,
      FINSET_1, FUNCOP_1, SETWISEO;
 notations TARSKI, XBOOLE_0, ENUMSET1, SUBSET_1, RELAT_1, FUNCT_1, FINSUB_1,
      RELSET_1, FINSET_1, PARTFUN1, FUNCT_2, BINOP_1, FUNCOP_1;
 constructors ENUMSET1, PARTFUN1, BINOP_1, FUNCOP_1, FINSET_1, FINSUB_1,
      RELSET_1;
 registrations XBOOLE_0, SUBSET_1, RELSET_1, FUNCT_2, FINSET_1, FINSUB_1,
      RELAT_1, FUNCT_3;
 requirements BOOLE, SUBSET;
 definitions BINOP_1, TARSKI, RELAT_1;
 theorems FINSUB_1, ZFMISC_1, SUBSET_1, BINOP_1, TARSKI, FUNCT_1, FUNCT_2,
      FUNCOP_1, ENUMSET1, RELAT_1, XBOOLE_0, XBOOLE_1;
 schemes FINSET_1, FUNCT_2, BINOP_1, SUBSET_1;

begin
theorem
L1: (for R1 being set holds (for R2 being set holds (for R3 being set holds { R1 } c= { R1 , R2 , R3 })))
proof
let R1 being set;
let R2 being set;
let R3 being set;
L2: { R1 , R2 , R3 } = ( { R1 } \/ { R2 , R3 } ) by ENUMSET1:2;
thus L3: thesis by L2 , XBOOLE_1:7;
end;
theorem
L4: (for R1 being set holds (for R2 being set holds (for R3 being set holds { R1 , R2 } c= { R1 , R2 , R3 })))
proof
let R1 being set;
let R2 being set;
let R3 being set;
L5: { R1 , R2 , R3 } = ( { R1 , R2 } \/ { R3 } ) by ENUMSET1:3;
thus L6: thesis by L5 , XBOOLE_1:7;
end;
canceled 3;
theorem
L7: (for R4 being set holds (for R5 being set holds (for B1 being Function holds ( B1 .: ( R5 \ ( B1 " R4 ) ) ) = ( ( B1 .: R5 ) \ R4 ))))
proof
let R4 being set;
let R5 being set;
let C1 being Function;
L8:
now
let R1 being set;
thus L9: (R1 in ( C1 .: ( R5 \ ( C1 " R4 ) ) ) implies R1 in ( ( C1 .: R5 ) \ R4 ))
proof
assume L10: R1 in ( C1 .: ( R5 \ ( C1 " R4 ) ) );
consider R3 being set such that L11: R3 in ( dom C1 ) and L12: R3 in ( R5 \ ( C1 " R4 ) ) and L13: ( C1 . R3 ) = R1 by L10 , FUNCT_1:def 6;
L14: (not R3 in ( C1 " R4 )) by L12 , XBOOLE_0:def 5;
L15: (not R1 in R4) by L14 , L11 , L13 , FUNCT_1:def 7;
L16: ( C1 . R3 ) in ( C1 .: R5 ) by L11 , L12 , FUNCT_1:def 6;
thus L17: thesis by L16 , L13 , L15 , XBOOLE_0:def 5;
end;

assume L18: R1 in ( ( C1 .: R5 ) \ R4 );
consider R3 being set such that L19: R3 in ( dom C1 ) and L20: R3 in R5 and L21: ( C1 . R3 ) = R1 by L18 , FUNCT_1:def 6;
L22: (not R1 in R4) by L18 , XBOOLE_0:def 5;
L23: (not R3 in ( C1 " R4 )) by L22 , L21 , FUNCT_1:def 7;
L24: R3 in ( R5 \ ( C1 " R4 ) ) by L23 , L20 , XBOOLE_0:def 5;
thus L25: R1 in ( C1 .: ( R5 \ ( C1 " R4 ) ) ) by L24 , L19 , L21 , FUNCT_1:def 6;
end;
thus L26: thesis by L8 , TARSKI:1;
end;
theorem
L27: (for R6 being non  empty set holds (for R7 being non  empty set holds (for R8 being (Function of R6 , R7) holds (for B2 being (Element of R6) holds B2 in ( R8 " { ( R8 . B2 ) } )))))
proof
let R6 being non  empty set;
let R7 being non  empty set;
let R8 being (Function of R6 , R7);
let C2 being (Element of R6);
L28: ( R8 . C2 ) in { ( R8 . C2 ) } by TARSKI:def 1;
thus L29: thesis by L28 , FUNCT_2:38;
end;
theorem
L30: (for R6 being non  empty set holds (for R7 being non  empty set holds (for R8 being (Function of R6 , R7) holds (for B3 being (Element of R6) holds ( Im (R8 , B3) ) = { ( R8 . B3 ) }))))
proof
let R6 being non  empty set;
let R7 being non  empty set;
let R8 being (Function of R6 , R7);
let C3 being (Element of R6);
L31: (for R2 being set holds (R2 in ( R8 .: { C3 } ) iff R2 = ( R8 . C3 )))
proof
let R2 being set;
thus L32: (R2 in ( R8 .: { C3 } ) implies R2 = ( R8 . C3 ))
proof
assume L33: R2 in ( R8 .: { C3 } );
L34: (ex R3 being set st (R3 in ( dom R8 ) & R3 in { C3 } & ( R8 . R3 ) = R2)) by L33 , FUNCT_1:def 6;
thus L35: thesis by L34 , TARSKI:def 1;
end;

L36: C3 in { C3 } by TARSKI:def 1;
thus L37: thesis by L36 , FUNCT_2:35;
end;
thus L38: thesis by L31 , TARSKI:def 1;
end;
theorem
L39: (for R6 being non  empty set holds (for B4 being (Element of ( Fin R6 )) holds (for R1 being set holds (R1 in B4 implies R1 is (Element of R6)))))
proof
let R6 being non  empty set;
let C4 being (Element of ( Fin R6 ));
L40: C4 c= R6 by FINSUB_1:def 5;
let R1 being set;
assume L41: R1 in C4;
thus L42: thesis by L41 , L40;
end;
theorem
L43: (for R6 being non  empty set holds (for R7 being non  empty set holds (for B5 being (Element of ( Fin R6 )) holds (for B6 being set holds (for B7 being (Function of R6 , R7) holds ((for B8 being (Element of R6) holds (B8 in B5 implies ( B7 . B8 ) in B6)) implies ( B7 .: B5 ) c= B6))))))
proof
let R6 being non  empty set;
let R7 being non  empty set;
let C5 being (Element of ( Fin R6 ));
let C6 being set;
let C7 being (Function of R6 , R7);
assume that
L44: (for B9 being (Element of R6) holds (B9 in C5 implies ( C7 . B9 ) in C6));
let C8 being set;
assume L45: C8 in ( C7 .: C5 );
consider C9 being set such that L46: C9 in ( dom C7 ) and L47: C9 in C5 and L48: C8 = ( C7 . C9 ) by L45 , FUNCT_1:def 6;
reconsider D1 = C9 as (Element of R6) by L47 , L39;
L49: C8 = ( C7 . D1 ) by L48;
thus L50: thesis by L49 , L44 , L47;
end;
theorem
L51: (for B10 being set holds (for B11 being (Element of ( Fin B10 )) holds (for B12 being set holds (B12 c= B11 implies B12 is (Element of ( Fin B10 ))))))
proof
let C10 being set;
let C11 being (Element of ( Fin C10 ));
let C12 being set;
assume that
L52: C12 c= C11;
L53: C11 c= C10 by FINSUB_1:def 5;
L54: C12 c= C10 by L53 , L52 , XBOOLE_1:1;
thus L55: thesis by L54 , L52 , FINSUB_1:def 5;
end;
L56: (for R6 being non  empty set holds (for R7 being non  empty set holds (for R8 being (Function of R6 , R7) holds (for B13 being (Element of ( Fin R6 )) holds ( R8 .: B13 ) is (Element of ( Fin R7 )))))) by FINSUB_1:def 5;
theorem
L57: (for R6 being non  empty set holds (for B14 being (Element of ( Fin R6 )) holds (B14 <> ( {} ) implies (ex B15 being (Element of R6) st B15 in B14))))
proof
let R6 being non  empty set;
let C13 being (Element of ( Fin R6 ));
set D2 = the (Element of C13);
assume L58: C13 <> ( {} );
reconsider D3 = D2 as (Element of R6) by L58 , L39;
take D3;
thus L59: thesis by L58;
end;
theorem
L60: (for R6 being non  empty set holds (for R7 being non  empty set holds (for R8 being (Function of R6 , R7) holds (for B16 being (Element of ( Fin R6 )) holds (( R8 .: B16 ) = ( {} ) implies B16 = ( {} ))))))
proof
let R6 being non  empty set;
let R7 being non  empty set;
let R8 being (Function of R6 , R7);
let C14 being (Element of ( Fin R6 ));
assume L61: ( R8 .: C14 ) = ( {} );
assume L62: C14 <> ( {} );
consider C15 being (Element of R6) such that L63: C15 in C14 by L62 , L57;
L64: ( R8 . C15 ) in ( R8 .: C14 ) by L63 , FUNCT_2:35;
thus L65: contradiction by L64 , L61;
end;
registration
let C16 being set;
cluster  empty for (Element of ( Fin C16 ));
existence
proof
L66: ( {} ) is (Element of ( Fin C16 )) by FINSUB_1:7;
thus L67: thesis by L66;
end;
end;
definition
let C17 being set;
func {}. C17 ->  empty (Element of ( Fin C17 )) equals 
( {} );
coherence by FINSUB_1:7;
end;
scheme FinSubFuncEx { F1() -> non  empty set , F2() -> (Element of ( Fin F1() )) , P1[set , set] } : (ex B17 being (Function of F1() , ( Fin F1() )) st (for B18 , B19 being (Element of F1()) holds (B19 in ( B17 . B18 ) iff (B19 in F2() & P1[ B19 , B18 ]))))
proof
defpred S1[ set , (Element of ( Fin F1() )) ] means (for B20 being (Element of F1()) holds (B20 in $2 iff (B20 in F2() & P1[ B20 , $1 ])));
L70:
now
reconsider D4 = F2() as (Subset of F1()) by FINSUB_1:def 5;
let C18 being (Element of F1());
defpred S2[ set ] means ($1 in F2() & P1[ $1 , C18 ]);
consider C19 being (Subset of F1()) such that L71: (for B21 being (Element of F1()) holds (B21 in C19 iff S2[ B21 ])) from SUBSET_1:sch 3;
L72: (for B22 being (Element of F1()) holds (B22 in C19 implies B22 in D4)) by L71;
L73: C19 c= F2() by L72 , SUBSET_1:2;
reconsider D5 = C19 as (Element of ( Fin F1() )) by L73 , FINSUB_1:def 5;
take D6 = D5;
thus L74: S1[ C18 , D6 ] by L71;
end;
thus L75: (ex B23 being (Function of F1() , ( Fin F1() )) st (for B24 being (Element of F1()) holds S1[ B24 , ( B23 . B24 ) ])) from FUNCT_2:sch 3(L70);
end;
definition
let C20 being non  empty set;
let C21 being (BinOp of C20);
attr C21 is  having_a_unity
means
:L76: (ex B25 being (Element of C20) st B25 is_a_unity_wrt C21);
end;
theorem
L78: (for B26 being non  empty set holds (for B27 being (BinOp of B26) holds (B27 is  having_a_unity iff ( the_unity_wrt B27 ) is_a_unity_wrt B27)))
proof
let C22 being non  empty set;
let C23 being (BinOp of C22);
thus L79: (C23 is  having_a_unity implies ( the_unity_wrt C23 ) is_a_unity_wrt C23)
proof
assume L80: C23 is  having_a_unity;
L81: (ex B28 being (Element of C22) st B28 is_a_unity_wrt C23) by L80 , L76;
thus L82: thesis by L81 , BINOP_1:def 8;
end;

thus L83: thesis by L76;
end;
theorem
L84: (for B29 being non  empty set holds (for B30 being (BinOp of B29) holds (B30 is  having_a_unity implies (for B31 being (Element of B29) holds (( B30 . (( the_unity_wrt B30 ) , B31) ) = B31 & ( B30 . (B31 , ( the_unity_wrt B30 )) ) = B31)))))
proof
let C24 being non  empty set;
let C25 being (BinOp of C24);
assume L85: C25 is  having_a_unity;
L86: ( the_unity_wrt C25 ) is_a_unity_wrt C25 by L85 , L78;
let C26 being (Element of C24);
thus L87: thesis by L86 , BINOP_1:3;
end;
registration
let C27 being non  empty set;
cluster non  empty for (Element of ( Fin C27 ));
existence
proof
set D7 = the (Element of C27);
L88: { D7 } is (Subset of C27) by SUBSET_1:41;
L89: { D7 } is (Element of ( Fin C27 )) by L88 , FINSUB_1:def 5;
thus L90: thesis by L89;
end;
end;
notation
let C28 being non  empty set;
let C29 being (Element of C28);
synonym {.C29 .} for {C29 };
let C30 being (Element of C28);
synonym {.C29 , C30 .} for {C29 , C30 };
let C31 being (Element of C28);
synonym {.C29 , C30 , C31 .} for {C29 , C30 , C31 };
end;
definition
let C32 being non  empty set;
let C33 being (Element of C32);
redefine func {.C33 .} -> (Element of ( Fin C32 ));

coherence
proof
L93: { C33 } is (Subset of C32) by SUBSET_1:41;
thus L94: thesis by L93 , FINSUB_1:def 5;
end;
let C34 being (Element of C32);
redefine func {.C33 , C34 .} -> (Element of ( Fin C32 ));

coherence
proof
L95: { C33 , C34 } is (Subset of C32) by SUBSET_1:34;
thus L96: thesis by L95 , FINSUB_1:def 5;
end;
let C35 being (Element of C32);
redefine func {.C33 , C34 , C35 .} -> (Element of ( Fin C32 ));

coherence
proof
L97: { C33 , C34 , C35 } is (Subset of C32) by SUBSET_1:35;
thus L98: thesis by L97 , FINSUB_1:def 5;
end;
end;
definition
let C36 being set;
let C37 , C38 being (Element of ( Fin C36 ));
redefine func C37 \/ C38 -> (Element of ( Fin C36 ));

coherence by FINSUB_1:1;
end;
definition
let C39 being set;
let C40 , C41 being (Element of ( Fin C39 ));
redefine func C40 \ C41 -> (Element of ( Fin C39 ));

coherence by FINSUB_1:1;
end;
scheme FinSubInd1 { F3() -> non  empty set , P2[set] } : (for B32 being (Element of ( Fin F3() )) holds P2[ B32 ])
provided
L102: P2[ ( {}. F3() ) ]
and
L103: (for B33 being (Element of ( Fin F3() )) holds (for B34 being (Element of F3()) holds ((P2[ B33 ] & (not B34 in B33)) implies P2[ ( B33 \/ { B34 } ) ])))
proof
defpred S3[ set ] means (ex B35 being (Element of ( Fin F3() )) st (B35 = $1 & P2[ B35 ]));
let C42 being (Element of ( Fin F3() ));
L104: (for B36 , B37 being set holds ((B36 in C42 & B37 c= C42 & S3[ B37 ]) implies S3[ ( B37 \/ { B36 } ) ]))
proof
let C43 , C44 being set;
assume that
L105: C43 in C42
and
L106: C44 c= C42
and
L107: (ex B38 being (Element of ( Fin F3() )) st (B38 = C44 & P2[ B38 ]));
reconsider D8 = C43 as (Element of F3()) by L105 , L39;
reconsider D9 = C44 as (Element of ( Fin F3() )) by L106 , L51;
take ( D9 \/ {. D8 .} );
thus L108: ( D9 \/ {. D8 .} ) = ( C44 \/ { C43 } );
thus L109: P2[ ( D9 \/ { D8 } ) ] by L103 , L107 , ZFMISC_1:40;
end;
L110: C42 is  finite;
L111: S3[ ( {} ) ] by L102;
L112: S3[ C42 ] from FINSET_1:sch 2(L110 , L111 , L104);
thus L113: thesis by L112;
end;
scheme FinSubInd2 { F4() -> non  empty set , P3[(Element of ( Fin F4() ))] } : (for B39 being non  empty (Element of ( Fin F4() )) holds P3[ B39 ])
provided
L114: (for B40 being (Element of F4()) holds P3[ {. B40 .} ])
and
L115: (for B41 , B42 being non  empty (Element of ( Fin F4() )) holds ((P3[ B41 ] & P3[ B42 ]) implies P3[ ( B41 \/ B42 ) ]))
proof
defpred S4[ set ] means ($1 <> ( {} ) implies (ex B43 being (Element of ( Fin F4() )) st (B43 = $1 & P3[ B43 ])));
let C45 being non  empty (Element of ( Fin F4() ));
L116: (for B44 , B45 being set holds ((B44 in C45 & B45 c= C45 & S4[ B45 ]) implies S4[ ( B45 \/ { B44 } ) ]))
proof
let C46 , C47 being set;
assume that
L117: C46 in C45
and
L118: C47 c= C45
and
L119: (C47 <> ( {} ) implies (ex B46 being (Element of ( Fin F4() )) st (B46 = C47 & P3[ B46 ])))
and
L120: ( C47 \/ { C46 } ) <> ( {} );
reconsider D10 = C46 as (Element of F4()) by L117 , L39;
reconsider D11 = C47 as (Element of ( Fin F4() )) by L118 , L51;
take ( D11 \/ {. D10 .} );
thus L121: ( D11 \/ {. D10 .} ) = ( C47 \/ { C46 } );
L122: P3[ {. D10 .} ] by L114;
per cases ;
suppose L123: C47 = ( {} );

thus L124: thesis by L123 , L114;
end;
suppose L125: C47 <> ( {} );

thus L126: thesis by L125 , L115 , L119 , L122;
end;
end;
L128: S4[ ( {} ) ];
L129: C45 is  finite;
L130: S4[ C45 ] from FINSET_1:sch 2(L129 , L128 , L116);
thus L131: thesis by L130;
end;
scheme FinSubInd3 { F5() -> non  empty set , P4[set] } : (for B47 being (Element of ( Fin F5() )) holds P4[ B47 ])
provided
L132: P4[ ( {}. F5() ) ]
and
L133: (for B48 being (Element of ( Fin F5() )) holds (for B49 being (Element of F5()) holds (P4[ B48 ] implies P4[ ( B48 \/ { B49 } ) ])))
proof
L134: (for B50 being (Element of ( Fin F5() )) holds (for B51 being (Element of F5()) holds ((P4[ B50 ] & (not B51 in B50)) implies P4[ ( B50 \/ { B51 } ) ]))) by L133;
L135: P4[ ( {}. F5() ) ] by L132;
thus L136: (for B52 being (Element of ( Fin F5() )) holds P4[ B52 ]) from FinSubInd1(L135 , L134);
end;
definition
let C48 , C49 being non  empty set;
let C50 being (BinOp of C49);
let C51 being (Element of ( Fin C48 ));
let C52 being (Function of C48 , C49);
assume that
L137: (C51 <> ( {} ) or C50 is  having_a_unity)
and
L138: C50 is  commutative
and
L139: C50 is  associative;
func C50 $$ (C51 , C52) -> (Element of C49) means 
:L140: (ex B53 being (Function of ( Fin C48 ) , C49) st (it = ( B53 . C51 ) & (for B54 being (Element of C49) holds (B54 is_a_unity_wrt C50 implies ( B53 . ( {} ) ) = B54)) & (for B55 being (Element of C48) holds ( B53 . { B55 } ) = ( C52 . B55 )) & (for B56 being (Element of ( Fin C48 )) holds ((B56 c= C51 & B56 <> ( {} )) implies (for B57 being (Element of C48) holds (B57 in ( C51 \ B56 ) implies ( B53 . ( B56 \/ { B57 } ) ) = ( C50 . (( B53 . B56 ) , ( C52 . B57 )) )))))));
existence
proof
defpred S5[ set ] means (ex B58 being (Function of ( Fin C48 ) , C49) st ((for B59 being (Element of C49) holds (B59 is_a_unity_wrt C50 implies ( B58 . ( {} ) ) = B59)) & (for B60 being (Element of C48) holds ( B58 . { B60 } ) = ( C52 . B60 )) & (for B61 being (Element of ( Fin C48 )) holds ((B61 c= $1 & B61 <> ( {} )) implies (for B62 being (Element of C48) holds (B62 in ( $1 \ B61 ) implies ( B58 . ( B61 \/ { B62 } ) ) = ( C50 . (( B58 . B61 ) , ( C52 . B62 )) )))))));
L141: (for B63 being (Element of ( Fin C48 )) holds (for B64 being (Element of C48) holds ((S5[ B63 ] & (not B64 in B63)) implies S5[ ( B63 \/ { B64 } ) ])))
proof
let C53 being (Element of ( Fin C48 ));
let C54 being (Element of C48);
given C55 being (Function of ( Fin C48 ) , C49) such that
L142: (for B65 being (Element of C49) holds (B65 is_a_unity_wrt C50 implies ( C55 . ( {} ) ) = B65))
and
L143: (for B66 being (Element of C48) holds ( C55 . { B66 } ) = ( C52 . B66 ))
and
L144: (for B67 being (Element of ( Fin C48 )) holds ((B67 c= C53 & B67 <> ( {} )) implies (for B68 being (Element of C48) holds (B68 in ( C53 \ B67 ) implies ( C55 . ( B67 \/ { B68 } ) ) = ( C50 . (( C55 . B67 ) , ( C52 . B68 )) )))));

assume L145: (not C54 in C53);
thus L146: (ex B69 being (Function of ( Fin C48 ) , C49) st ((for B70 being (Element of C49) holds (B70 is_a_unity_wrt C50 implies ( B69 . ( {} ) ) = B70)) & (for B71 being (Element of C48) holds ( B69 . { B71 } ) = ( C52 . B71 )) & (for B72 being (Element of ( Fin C48 )) holds ((B72 c= ( C53 \/ { C54 } ) & B72 <> ( {} )) implies (for B73 being (Element of C48) holds (B73 in ( ( C53 \/ { C54 } ) \ B72 ) implies ( B69 . ( B72 \/ { B73 } ) ) = ( C50 . (( B69 . B72 ) , ( C52 . B73 )) )))))))
proof
defpred S6[ set , set ] means ((for B74 being (Element of ( Fin C48 )) holds ((B74 <> ( {} ) & B74 c= C53 & $1 = ( B74 \/ {. C54 .} )) implies $2 = ( C50 . (( C55 . B74 ) , ( C52 . C54 )) ))) & ((not (ex B75 being (Element of ( Fin C48 )) st (B75 <> ( {} ) & B75 c= C53 & $1 = ( B75 \/ {. C54 .} )))) implies $2 = ( C55 . $1 )));
L147:
now
let C56 being (Element of ( Fin C48 ));
thus L148: (ex B76 being (Element of C49) st S6[ C56 , B76 ])
proof
L149:
now
given C57 being (Element of ( Fin C48 )) such that
L150: C57 <> ( {} )
and
L151: C57 c= C53
and
L152: C56 = ( C57 \/ { C54 } );

take D12 = ( C50 . (( C55 . C57 ) , ( C52 . C54 )) );
L153: (for B77 being (Element of ( Fin C48 )) holds ((B77 <> ( {} ) & B77 c= C53 & C56 = ( B77 \/ { C54 } )) implies D12 = ( C50 . (( C55 . B77 ) , ( C52 . C54 )) )))
proof
L154: (not C54 in C57) by L145 , L151;
L155: C57 c= ( C56 \ { C54 } ) by L154 , L152 , XBOOLE_1:7 , ZFMISC_1:34;
L156: ( C56 \ { C54 } ) = ( C57 \ { C54 } ) by L152 , XBOOLE_1:40;
L157: ( C56 \ { C54 } ) = C57 by L156 , L155 , XBOOLE_0:def 10;
let C58 being (Element of ( Fin C48 ));
assume that
L158: C58 <> ( {} )
and
L159: C58 c= C53
and
L160: C56 = ( C58 \/ { C54 } );
L161: (not C54 in C58) by L145 , L159;
L162: C58 c= ( C56 \ { C54 } ) by L161 , L160 , XBOOLE_1:7 , ZFMISC_1:34;
L163: ( C56 \ { C54 } ) = ( C58 \ { C54 } ) by L160 , XBOOLE_1:40;
thus L164: thesis by L163 , L162 , L157 , XBOOLE_0:def 10;
end;
thus L165: thesis by L153 , L150 , L151 , L152;
end;
L166:
now
assume L167: (not (ex B78 being (Element of ( Fin C48 )) st (B78 <> ( {} ) & B78 c= C53 & C56 = ( B78 \/ { C54 } ))));
take D13 = ( C55 . C56 );
thus L168: (for B79 being (Element of ( Fin C48 )) holds ((B79 <> ( {} ) & B79 c= C53 & C56 = ( B79 \/ { C54 } )) implies D13 = ( C50 . (( C55 . B79 ) , ( C52 . C54 )) ))) by L167;
thus L169: ((not (ex B80 being (Element of ( Fin C48 )) st (B80 <> ( {} ) & B80 c= C53 & C56 = ( B80 \/ { C54 } )))) implies D13 = ( C55 . C56 ));
end;
thus L170: thesis by L166 , L149;
end;

end;
consider C59 being (Function of ( Fin C48 ) , C49) such that L149: (for B81 being (Element of ( Fin C48 )) holds S6[ B81 , ( C59 . B81 ) ]) from FUNCT_2:sch 3(L147);
take D14 = C59;
L150:
now
given C60 being (Element of ( Fin C48 )) such that
L151: C60 <> ( {} )
and
L152: C60 c= C53
and
L153: { C54 } = ( C60 \/ { C54 } );

L154: C60 = { C54 } by L151 , ZFMISC_1:33 , L153 , XBOOLE_1:7;
L155: C54 in C60 by L154 , TARSKI:def 1;
thus L156: contradiction by L155 , L145 , L152;
end;
L157: ( D14 . { C54 } ) = ( C55 . {. C54 .} ) by L150 , L149;
thus L158: (for B82 being (Element of C49) holds (B82 is_a_unity_wrt C50 implies ( D14 . ( {} ) ) = B82))
proof
reconsider D15 = ( {} ) as (Element of ( Fin C48 )) by FINSUB_1:7;
L159: (not (ex B83 being (Element of ( Fin C48 )) st (B83 <> ( {} ) & B83 c= C53 & D15 = ( B83 \/ { C54 } ))));
L160: ( D14 . D15 ) = ( C55 . D15 ) by L159 , L149;
thus L161: thesis by L160 , L142;
end;

thus L162: (for B84 being (Element of C48) holds ( D14 . { B84 } ) = ( C52 . B84 ))
proof
let C61 being (Element of C48);
L163:
now
given C62 being (Element of ( Fin C48 )) such that
L164: C62 <> ( {} )
and
L165: C62 c= C53
and
L166: { C61 } = ( C62 \/ { C54 } );

L167: C62 = { C61 } by L164 , ZFMISC_1:33 , L166 , XBOOLE_1:7;
L168: C54 = C61 by L166 , XBOOLE_1:7 , ZFMISC_1:18;
L169: C54 in C62 by L168 , L167 , TARSKI:def 1;
thus L170: contradiction by L169 , L145 , L165;
end;
thus L171: ( D14 . { C61 } ) = ( C55 . {. C61 .} ) by L163 , L149
.= ( C52 . C61 ) by L143;
end;

let C63 being (Element of ( Fin C48 ));
assume that
L172: C63 c= ( C53 \/ { C54 } )
and
L173: C63 <> ( {} );
let C64 being (Element of C48);
assume L174: C64 in ( ( C53 \/ { C54 } ) \ C63 );
L175: (not C64 in C63) by L174 , XBOOLE_0:def 5;
per cases ;
suppose L176: C54 in C63;

L177: C64 in C53 by L176 , L174 , L175 , ZFMISC_1:136;
per cases ;
suppose L178: C63 = { C54 };

thus L179: ( D14 . ( C63 \/ {. C64 .} ) ) = ( C50 . (( C55 . {. C64 .} ) , ( C52 . C54 )) ) by L178 , L149 , ZFMISC_1:31 , L177
.= ( C50 . (( C52 . C64 ) , ( C52 . C54 )) ) by L143
.= ( C50 . (( C52 . C54 ) , ( C52 . C64 )) ) by L138 , BINOP_1:def 2
.= ( C50 . (( D14 . C63 ) , ( C52 . C64 )) ) by L143 , L157 , L178;
end;
suppose L180: C63 <> { C54 };

L181: (not C63 c= { C54 }) by L180 , L173 , ZFMISC_1:33;
L182: ( C63 \ { C54 } ) <> ( {} ) by L181 , XBOOLE_1:37;
set D16 = ( ( C63 \ {. C54 .} ) \/ {. C64 .} );
L183: (not C64 in ( C63 \ { C54 } )) by L174 , XBOOLE_0:def 5;
L184: C64 in ( C53 \ ( C63 \ { C54 } ) ) by L183 , L177 , XBOOLE_0:def 5;
L185: ( C63 \ { C54 } ) c= C53 by L172 , XBOOLE_1:43;
L186: D16 c= C53 by L185 , L176 , ZFMISC_1:137 , L174 , L175 , ZFMISC_1:136;
L187: ( C63 \/ {. C64 .} ) = ( ( C63 \/ { C54 } ) \/ { C64 } ) by L176 , ZFMISC_1:40
.= ( ( ( C63 \ { C54 } ) \/ { C54 } ) \/ { C64 } ) by XBOOLE_1:39
.= ( D16 \/ {. C54 .} ) by XBOOLE_1:4;
thus L188: ( D14 . ( C63 \/ {. C64 .} ) ) = ( C50 . (( C55 . D16 ) , ( C52 . C54 )) ) by L187 , L149 , L186
.= ( C50 . (( C50 . (( C55 . ( C63 \ {. C54 .} ) ) , ( C52 . C64 )) ) , ( C52 . C54 )) ) by L144 , L172 , L182 , L184 , XBOOLE_1:43
.= ( C50 . (( C55 . ( C63 \ {. C54 .} ) ) , ( C50 . (( C52 . C64 ) , ( C52 . C54 )) )) ) by L139 , BINOP_1:def 3
.= ( C50 . (( C55 . ( C63 \ { C54 } ) ) , ( C50 . (( C52 . C54 ) , ( C52 . C64 )) )) ) by L138 , BINOP_1:def 2
.= ( C50 . (( C50 . (( C55 . ( C63 \ {. C54 .} ) ) , ( C52 . C54 )) ) , ( C52 . C64 )) ) by L139 , BINOP_1:def 3
.= ( C50 . (( D14 . ( ( C63 \ {. C54 .} ) \/ {. C54 .} ) ) , ( C52 . C64 )) ) by L149 , L172 , L182 , XBOOLE_1:43
.= ( C50 . (( D14 . ( C63 \/ { C54 } ) ) , ( C52 . C64 )) ) by XBOOLE_1:39
.= ( C50 . (( D14 . C63 ) , ( C52 . C64 )) ) by L176 , ZFMISC_1:40;
end;
end;
suppose L190: (not C54 in C63);

L191: C63 c= C53 by L190 , L172 , ZFMISC_1:135;
L192: (not (ex B85 being (Element of ( Fin C48 )) st (B85 <> ( {} ) & B85 c= C53 & C63 = ( B85 \/ { C54 } )))) by L190 , ZFMISC_1:136;
per cases ;
suppose L193: C54 <> C64;

L194: C64 in C53 by L193 , L174 , ZFMISC_1:136;
L195: C64 in ( C53 \ C63 ) by L194 , L175 , XBOOLE_0:def 5;
L196: (not C54 in ( C63 \/ { C64 } )) by L190 , L193 , ZFMISC_1:136;
L197: (not (ex B86 being (Element of ( Fin C48 )) st (B86 <> ( {} ) & B86 c= C53 & ( C63 \/ { C64 } ) = ( B86 \/ { C54 } )))) by L196 , ZFMISC_1:136;
thus L198: ( D14 . ( C63 \/ {. C64 .} ) ) = ( C55 . ( C63 \/ {. C64 .} ) ) by L197 , L149
.= ( C50 . (( C55 . C63 ) , ( C52 . C64 )) ) by L144 , L173 , L191 , L195
.= ( C50 . (( D14 . C63 ) , ( C52 . C64 )) ) by L149 , L192;
end;
suppose L199: C54 = C64;

thus L200: ( D14 . ( C63 \/ {. C64 .} ) ) = ( C50 . (( C55 . C63 ) , ( C52 . C64 )) ) by L199 , L149 , L172 , L173 , L190 , ZFMISC_1:135
.= ( C50 . (( D14 . C63 ) , ( C52 . C64 )) ) by L149 , L192;
end;
end;
end;

end;
L147: S5[ ( {}. C48 ) ]
proof
consider C65 being (Element of C49) such that L148: ((ex B87 being (Element of C49) st B87 is_a_unity_wrt C50) implies C65 = ( the_unity_wrt C50 ));
defpred S7[ set , set ] means ((for B88 being (Element of C48) holds ($1 = { B88 } implies $2 = ( C52 . B88 ))) & ((not (ex B89 being (Element of C48) st $1 = { B89 })) implies $2 = C65));
L149:
now
let C66 being (Element of ( Fin C48 ));
L150:
now
given C67 being (Element of C48) such that
L151: C66 = { C67 };

take D17 = ( C52 . C67 );
thus L152: (for B90 being (Element of C48) holds (C66 = { B90 } implies D17 = ( C52 . B90 ))) by L151 , ZFMISC_1:3;
thus L153: ((not (ex B91 being (Element of C48) st C66 = { B91 })) implies D17 = C65) by L151;
end;
L154:
now
assume L155: (not (ex B92 being (Element of C48) st C66 = { B92 }));
take D18 = C65;
thus L156: ((for B93 being (Element of C48) holds (C66 = { B93 } implies D18 = ( C52 . B93 ))) & ((not (ex B94 being (Element of C48) st C66 = { B94 })) implies D18 = C65)) by L155;
end;
thus L157: (ex B95 being (Element of C49) st S7[ C66 , B95 ]) by L154 , L150;
end;
consider C68 being (Function of ( Fin C48 ) , C49) such that L158: (for B96 being (Element of ( Fin C48 )) holds S7[ B96 , ( C68 . B96 ) ]) from FUNCT_2:sch 3(L149);
take D19 = C68;
thus L159: (for B97 being (Element of C49) holds (B97 is_a_unity_wrt C50 implies ( D19 . ( {} ) ) = B97))
proof
reconsider D20 = ( {} ) as (Element of ( Fin C48 )) by FINSUB_1:7;
let C69 being (Element of C49);
assume that
L160: C69 is_a_unity_wrt C50;
L161: (not (ex B98 being (Element of C48) st D20 = { B98 }));
thus L162: ( D19 . ( {} ) ) = C65 by L161 , L158
.= C69 by L148 , L160 , BINOP_1:def 8;
end;

thus L163: (for B99 being (Element of C48) holds ( D19 . {. B99 .} ) = ( C52 . B99 )) by L158;
thus L164: (for B100 being (Element of ( Fin C48 )) holds ((B100 c= ( {}. C48 ) & B100 <> ( {} )) implies (for B101 being (Element of C48) holds (B101 in ( ( {}. C48 ) \ B100 ) implies ( D19 . ( B100 \/ { B101 } ) ) = ( C50 . (( D19 . B100 ) , ( C52 . B101 )) )))));
end;
L165: (for B102 being (Element of ( Fin C48 )) holds S5[ B102 ]) from FinSubInd1(L147 , L141);
consider C70 being (Function of ( Fin C48 ) , C49) such that L166: ((for B103 being (Element of C49) holds (B103 is_a_unity_wrt C50 implies ( C70 . ( {} ) ) = B103)) & (for B104 being (Element of C48) holds ( C70 . { B104 } ) = ( C52 . B104 )) & (for B105 being (Element of ( Fin C48 )) holds ((B105 c= C51 & B105 <> ( {} )) implies (for B106 being (Element of C48) holds (B106 in ( C51 \ B105 ) implies ( C70 . ( B105 \/ { B106 } ) ) = ( C50 . (( C70 . B105 ) , ( C52 . B106 )) )))))) by L165;
take ( C70 . C51 );
take C70;
thus L167: thesis by L166;
end;
uniqueness
proof
let C71 , C72 being (Element of C49);
given C73 being (Function of ( Fin C48 ) , C49) such that
L168: C71 = ( C73 . C51 )
and
L169: (for B107 being (Element of C49) holds (B107 is_a_unity_wrt C50 implies ( C73 . ( {} ) ) = B107))
and
L170: (for B108 being (Element of C48) holds ( C73 . { B108 } ) = ( C52 . B108 ))
and
L171: (for B109 being (Element of ( Fin C48 )) holds ((B109 c= C51 & B109 <> ( {} )) implies (for B110 being (Element of C48) holds (B110 in ( C51 \ B109 ) implies ( C73 . ( B109 \/ { B110 } ) ) = ( C50 . (( C73 . B109 ) , ( C52 . B110 )) )))));

given C74 being (Function of ( Fin C48 ) , C49) such that
L172: C72 = ( C74 . C51 )
and
L173: (for B111 being (Element of C49) holds (B111 is_a_unity_wrt C50 implies ( C74 . ( {} ) ) = B111))
and
L174: (for B112 being (Element of C48) holds ( C74 . { B112 } ) = ( C52 . B112 ))
and
L175: (for B113 being (Element of ( Fin C48 )) holds ((B113 c= C51 & B113 <> ( {} )) implies (for B114 being (Element of C48) holds (B114 in ( C51 \ B113 ) implies ( C74 . ( B113 \/ { B114 } ) ) = ( C50 . (( C74 . B113 ) , ( C52 . B114 )) )))));

per cases ;
suppose L176: C51 = ( {} );

thus L177: C71 = ( the_unity_wrt C50 ) by L168 , L169 , L176 , L137 , L78
.= C72 by L172 , L173 , L176 , L137 , L78;
end;
suppose L178: C51 <> ( {} );

defpred S8[ set ] means (($1 c= C51 & $1 <> ( {} )) implies ( C73 . $1 ) = ( C74 . $1 ));
L179: (for B115 being (Element of ( Fin C48 )) holds (for B116 being (Element of C48) holds ((S8[ B115 ] & (not B116 in B115)) implies S8[ ( B115 \/ { B116 } ) ])))
proof
let C75 being (Element of ( Fin C48 ));
let C76 being (Element of C48);
assume L180: ((C75 c= C51 & C75 <> ( {} )) implies ( C73 . C75 ) = ( C74 . C75 ));
assume L181: (not C76 in C75);
assume L182: ( C75 \/ { C76 } ) c= C51;
L183: C75 c= C51 by L182 , ZFMISC_1:137;
assume L184: ( C75 \/ { C76 } ) <> ( {} );
L185: C76 in C51 by L182 , ZFMISC_1:137;
L186: C76 in ( C51 \ C75 ) by L185 , L181 , XBOOLE_0:def 5;
per cases ;
suppose L187: C75 = ( {} );

thus L188: ( C73 . ( C75 \/ { C76 } ) ) = ( C52 . C76 ) by L187 , L170
.= ( C74 . ( C75 \/ { C76 } ) ) by L174 , L187;
end;
suppose L189: C75 <> ( {} );

thus L190: ( C73 . ( C75 \/ { C76 } ) ) = ( C50 . (( C73 . C75 ) , ( C52 . C76 )) ) by L189 , L171 , L183 , L186
.= ( C74 . ( C75 \/ { C76 } ) ) by L175 , L180 , L183 , L186 , L189;
end;
end;
L192: S8[ ( {}. C48 ) ];
L193: (for B117 being (Element of ( Fin C48 )) holds S8[ B117 ]) from FinSubInd1(L192 , L179);
thus L194: thesis by L193 , L168 , L172 , L178;
end;
end;
end;
theorem
L197: (for B118 , B119 being non  empty set holds (for B120 being (BinOp of B119) holds (for B121 being (Element of ( Fin B118 )) holds (for B122 being (Function of B118 , B119) holds (((B121 <> ( {} ) or B120 is  having_a_unity) & B120 is  idempotent & B120 is  commutative & B120 is  associative) implies (for B123 being (Element of B119) holds (B123 = ( B120 $$ (B121 , B122) ) iff (ex B124 being (Function of ( Fin B118 ) , B119) st (B123 = ( B124 . B121 ) & (for B125 being (Element of B119) holds (B125 is_a_unity_wrt B120 implies ( B124 . ( {} ) ) = B125)) & (for B126 being (Element of B118) holds ( B124 . { B126 } ) = ( B122 . B126 )) & (for B127 being (Element of ( Fin B118 )) holds ((B127 c= B121 & B127 <> ( {} )) implies (for B128 being (Element of B118) holds (B128 in B121 implies ( B124 . ( B127 \/ { B128 } ) ) = ( B120 . (( B124 . B127 ) , ( B122 . B128 )) ))))))))))))))
proof
let C77 , C78 being non  empty set;
let C79 being (BinOp of C78);
let C80 being (Element of ( Fin C77 ));
let C81 being (Function of C77 , C78);
assume that
L198: (C80 <> ( {} ) or C79 is  having_a_unity)
and
L199: C79 is  idempotent
and
L200: C79 is  commutative
and
L201: C79 is  associative;
let C82 being (Element of C78);
thus L202: (C82 = ( C79 $$ (C80 , C81) ) implies (ex B129 being (Function of ( Fin C77 ) , C78) st (C82 = ( B129 . C80 ) & (for B130 being (Element of C78) holds (B130 is_a_unity_wrt C79 implies ( B129 . ( {} ) ) = B130)) & (for B131 being (Element of C77) holds ( B129 . { B131 } ) = ( C81 . B131 )) & (for B132 being (Element of ( Fin C77 )) holds ((B132 c= C80 & B132 <> ( {} )) implies (for B133 being (Element of C77) holds (B133 in C80 implies ( B129 . ( B132 \/ { B133 } ) ) = ( C79 . (( B129 . B132 ) , ( C81 . B133 )) ))))))))
proof
assume L203: C82 = ( C79 $$ (C80 , C81) );
consider C83 being (Function of ( Fin C77 ) , C78) such that L204: (C82 = ( C83 . C80 ) & (for B134 being (Element of C78) holds (B134 is_a_unity_wrt C79 implies ( C83 . ( {} ) ) = B134))) and L205: (for B135 being (Element of C77) holds ( C83 . { B135 } ) = ( C81 . B135 )) and L206: (for B136 being (Element of ( Fin C77 )) holds ((B136 c= C80 & B136 <> ( {} )) implies (for B137 being (Element of C77) holds (B137 in ( C80 \ B136 ) implies ( C83 . ( B136 \/ { B137 } ) ) = ( C79 . (( C83 . B136 ) , ( C81 . B137 )) ))))) by L203 , L198 , L200 , L201 , L140;
L207: (for B138 being (Element of ( Fin C77 )) holds ((B138 c= C80 & B138 <> ( {} )) implies (for B139 being (Element of C77) holds (B139 in C80 implies ( C83 . ( B138 \/ { B139 } ) ) = ( C79 . (( C83 . B138 ) , ( C81 . B139 )) )))))
proof
let C84 being (Element of ( Fin C77 ));
assume that
L208: C84 c= C80
and
L209: C84 <> ( {} );
let C85 being (Element of C77);
assume that
L210: C85 in C80;
per cases ;
suppose L211: C85 in C84;

L212: ( C84 \/ { C85 } ) = C84 by L211 , ZFMISC_1:40;
L213: { C85 } c= C84 by L212 , XBOOLE_1:7;
L214: (not C85 in ( C84 \ { C85 } )) by ZFMISC_1:56;
L215: C85 in ( C80 \ ( C84 \ { C85 } ) ) by L214 , L210 , XBOOLE_0:def 5;
per cases ;
suppose L216: C84 = { C85 };

thus L217: ( C83 . ( C84 \/ { C85 } ) ) = ( C79 . (( C81 . C85 ) , ( C81 . C85 )) ) by L216 , L199 , L205
.= ( C79 . (( C83 . C84 ) , ( C81 . C85 )) ) by L205 , L216;
end;
suppose L218: C84 <> { C85 };

L219: (not C84 c= { C85 }) by L218 , L213 , XBOOLE_0:def 10;
L220: ( C84 \ { C85 } ) <> ( {} ) by L219 , XBOOLE_1:37;
L221: ( C83 . ( ( C84 \ {. C85 .} ) \/ {. C85 .} ) ) = ( C79 . (( C83 . ( C84 \ {. C85 .} ) ) , ( C81 . C85 )) ) by L220 , L206 , L208 , L215 , XBOOLE_1:1;
thus L222: ( C83 . ( C84 \/ { C85 } ) ) = ( C79 . (( C83 . ( C84 \ { C85 } ) ) , ( C79 . (( C81 . C85 ) , ( C81 . C85 )) )) ) by L199 , L221 , XBOOLE_1:39
.= ( C79 . (( C79 . (( C83 . ( C84 \ {. C85 .} ) ) , ( C81 . C85 )) ) , ( C81 . C85 )) ) by L201 , BINOP_1:def 3
.= ( C79 . (( C83 . C84 ) , ( C81 . C85 )) ) by L212 , L221 , XBOOLE_1:39;
end;
end;
suppose L224: (not C85 in C84);

L225: C85 in ( C80 \ C84 ) by L224 , L210 , XBOOLE_0:def 5;
thus L226: thesis by L225 , L206 , L208 , L209;
end;
end;
thus L228: thesis by L207 , L204 , L205;
end;

given C86 being (Function of ( Fin C77 ) , C78) such that
L229: (C82 = ( C86 . C80 ) & (for B140 being (Element of C78) holds (B140 is_a_unity_wrt C79 implies ( C86 . ( {} ) ) = B140)) & (for B141 being (Element of C77) holds ( C86 . { B141 } ) = ( C81 . B141 )))
and
L230: (for B142 being (Element of ( Fin C77 )) holds ((B142 c= C80 & B142 <> ( {} )) implies (for B143 being (Element of C77) holds (B143 in C80 implies ( C86 . ( B142 \/ { B143 } ) ) = ( C79 . (( C86 . B142 ) , ( C81 . B143 )) )))));

L231: (for B144 being (Element of ( Fin C77 )) holds ((B144 c= C80 & B144 <> ( {} )) implies (for B145 being (Element of C77) holds (B145 in ( C80 \ B144 ) implies ( C86 . ( B144 \/ { B145 } ) ) = ( C79 . (( C86 . B144 ) , ( C81 . B145 )) )))))
proof
let C87 being (Element of ( Fin C77 ));
assume that
L232: (C87 c= C80 & C87 <> ( {} ));
let C88 being (Element of C77);
assume L233: C88 in ( C80 \ C87 );
L234: C88 in C80 by L233 , XBOOLE_0:def 5;
thus L235: thesis by L234 , L230 , L232;
end;
thus L236: thesis by L231 , L198 , L200 , L201 , L229 , L140;
end;
theorem
L237: (for R9 being non  empty set holds (for R10 being non  empty set holds (for R11 being (BinOp of R10) holds (for R13 being (Function of R9 , R10) holds ((R11 is  commutative & R11 is  associative) implies (for B146 being (Element of R9) holds ( R11 $$ ({. B146 .} , R13) ) = ( R13 . B146 )))))))
proof
let R9 being non  empty set;
let R10 being non  empty set;
let R11 being (BinOp of R10);
let R13 being (Function of R9 , R10);
assume L238: (R11 is  commutative & R11 is  associative);
let C89 being (Element of R9);
L239: (ex B147 being (Function of ( Fin R9 ) , R10) st (( R11 $$ ({. C89 .} , R13) ) = ( B147 . { C89 } ) & (for B148 being (Element of R10) holds (B148 is_a_unity_wrt R11 implies ( B147 . ( {} ) ) = B148)) & (for B149 being (Element of R9) holds ( B147 . { B149 } ) = ( R13 . B149 )) & (for B150 being (Element of ( Fin R9 )) holds ((B150 c= { C89 } & B150 <> ( {} )) implies (for B151 being (Element of R9) holds (B151 in ( { C89 } \ B150 ) implies ( B147 . ( B150 \/ { B151 } ) ) = ( R11 . (( B147 . B150 ) , ( R13 . B151 )) ))))))) by L238 , L140;
thus L240: thesis by L239;
end;
theorem
L241: (for R9 being non  empty set holds (for R10 being non  empty set holds (for R11 being (BinOp of R10) holds (for R13 being (Function of R9 , R10) holds ((R11 is  idempotent & R11 is  commutative & R11 is  associative) implies (for B152 , B153 being (Element of R9) holds ( R11 $$ ({. B152 , B153 .} , R13) ) = ( R11 . (( R13 . B152 ) , ( R13 . B153 )) )))))))
proof
let R9 being non  empty set;
let R10 being non  empty set;
let R11 being (BinOp of R10);
let R13 being (Function of R9 , R10);
assume L242: (R11 is  idempotent & R11 is  commutative & R11 is  associative);
let C90 , C91 being (Element of R9);
consider C92 being (Function of ( Fin R9 ) , R10) such that L243: ( R11 $$ ({. C90 , C91 .} , R13) ) = ( C92 . { C90 , C91 } ) and L244: (for B154 being (Element of R10) holds (B154 is_a_unity_wrt R11 implies ( C92 . ( {} ) ) = B154)) and L245: (for B155 being (Element of R9) holds ( C92 . { B155 } ) = ( R13 . B155 )) and L246: (for B156 being (Element of ( Fin R9 )) holds ((B156 c= { C90 , C91 } & B156 <> ( {} )) implies (for B157 being (Element of R9) holds (B157 in { C90 , C91 } implies ( C92 . ( B156 \/ { B157 } ) ) = ( R11 . (( C92 . B156 ) , ( R13 . B157 )) ))))) by L242 , L197;
L247: C91 in { C90 , C91 } by TARSKI:def 2;
thus L248: ( R11 $$ ({. C90 , C91 .} , R13) ) = ( C92 . ( {. C90 .} \/ {. C91 .} ) ) by L243 , ENUMSET1:1
.= ( R11 . (( C92 . {. C90 .} ) , ( R13 . C91 )) ) by L246 , L247 , ZFMISC_1:7
.= ( R11 . (( R13 . C90 ) , ( R13 . C91 )) ) by L245;
end;
theorem
L249: (for R9 being non  empty set holds (for R10 being non  empty set holds (for R11 being (BinOp of R10) holds (for R13 being (Function of R9 , R10) holds ((R11 is  idempotent & R11 is  commutative & R11 is  associative) implies (for B158 , B159 , B160 being (Element of R9) holds ( R11 $$ ({. B158 , B159 , B160 .} , R13) ) = ( R11 . (( R11 . (( R13 . B158 ) , ( R13 . B159 )) ) , ( R13 . B160 )) )))))))
proof
let R9 being non  empty set;
let R10 being non  empty set;
let R11 being (BinOp of R10);
let R13 being (Function of R9 , R10);
assume L250: (R11 is  idempotent & R11 is  commutative & R11 is  associative);
let C93 , C94 , C95 being (Element of R9);
consider C96 being (Function of ( Fin R9 ) , R10) such that L251: ( R11 $$ ({. C93 , C94 , C95 .} , R13) ) = ( C96 . { C93 , C94 , C95 } ) and L252: (for B161 being (Element of R10) holds (B161 is_a_unity_wrt R11 implies ( C96 . ( {} ) ) = B161)) and L253: (for B162 being (Element of R9) holds ( C96 . { B162 } ) = ( R13 . B162 )) and L254: (for B163 being (Element of ( Fin R9 )) holds ((B163 c= { C93 , C94 , C95 } & B163 <> ( {} )) implies (for B164 being (Element of R9) holds (B164 in { C93 , C94 , C95 } implies ( C96 . ( B163 \/ { B164 } ) ) = ( R11 . (( C96 . B163 ) , ( R13 . B164 )) ))))) by L250 , L197;
L255: C94 in { C93 , C94 , C95 } by ENUMSET1:def 1;
L256: ( C96 . { C93 , C94 } ) = ( C96 . ( { C93 } \/ { C94 } ) ) by ENUMSET1:1
.= ( R11 . (( C96 . {. C93 .} ) , ( R13 . C94 )) ) by L254 , L255 , L1
.= ( R11 . (( R13 . C93 ) , ( R13 . C94 )) ) by L253;
L257: C95 in { C93 , C94 , C95 } by ENUMSET1:def 1;
thus L258: ( R11 $$ ({. C93 , C94 , C95 .} , R13) ) = ( C96 . ( {. C93 , C94 .} \/ {. C95 .} ) ) by L251 , ENUMSET1:3
.= ( R11 . (( R11 . (( R13 . C93 ) , ( R13 . C94 )) ) , ( R13 . C95 )) ) by L254 , L256 , L257 , L4;
end;
theorem
L259: (for R9 being non  empty set holds (for R10 being non  empty set holds (for R11 being (BinOp of R10) holds (for R12 being (Element of ( Fin R9 )) holds (for R13 being (Function of R9 , R10) holds ((R11 is  idempotent & R11 is  commutative & R11 is  associative & R12 <> ( {} )) implies (for B165 being (Element of R9) holds ( R11 $$ (( R12 \/ {. B165 .} ) , R13) ) = ( R11 . (( R11 $$ (R12 , R13) ) , ( R13 . B165 )) ))))))))
proof
let R9 being non  empty set;
let R10 being non  empty set;
let R11 being (BinOp of R10);
let R12 being (Element of ( Fin R9 ));
let R13 being (Function of R9 , R10);
assume L260: (R11 is  idempotent & R11 is  commutative & R11 is  associative);
assume L261: R12 <> ( {} );
consider C97 being (Function of ( Fin R9 ) , R10) such that L262: ( R11 $$ (R12 , R13) ) = ( C97 . R12 ) and L263: (for B166 being (Element of R10) holds (B166 is_a_unity_wrt R11 implies ( C97 . ( {} ) ) = B166)) and L264: (for B167 being (Element of R9) holds ( C97 . { B167 } ) = ( R13 . B167 )) and L265: (for B168 being (Element of ( Fin R9 )) holds ((B168 c= R12 & B168 <> ( {} )) implies (for B169 being (Element of R9) holds (B169 in R12 implies ( C97 . ( B168 \/ { B169 } ) ) = ( R11 . (( C97 . B168 ) , ( R13 . B169 )) ))))) by L261 , L260 , L197;
let C98 being (Element of R9);
consider C99 being (Function of ( Fin R9 ) , R10) such that L266: ( R11 $$ (( R12 \/ {. C98 .} ) , R13) ) = ( C99 . ( R12 \/ {. C98 .} ) ) and L267: (for B170 being (Element of R10) holds (B170 is_a_unity_wrt R11 implies ( C99 . ( {} ) ) = B170)) and L268: (for B171 being (Element of R9) holds ( C99 . { B171 } ) = ( R13 . B171 )) and L269: (for B172 being (Element of ( Fin R9 )) holds ((B172 c= ( R12 \/ { C98 } ) & B172 <> ( {} )) implies (for B173 being (Element of R9) holds (B173 in ( R12 \/ { C98 } ) implies ( C99 . ( B172 \/ { B173 } ) ) = ( R11 . (( C99 . B172 ) , ( R13 . B173 )) ))))) by L260 , L197;
defpred S9[ set ] means (($1 <> ( {} ) & $1 c= R12) implies ( C99 . $1 ) = ( C97 . $1 ));
L270: (for B174 being (Element of ( Fin R9 )) holds (for B175 being (Element of R9) holds (S9[ B174 ] implies S9[ ( B174 \/ { B175 } ) ])))
proof
L271: R12 c= ( R12 \/ { C98 } ) by XBOOLE_1:7;
let C100 being (Element of ( Fin R9 ));
let C101 being (Element of R9);
assume that
L272: ((C100 <> ( {} ) & C100 c= R12) implies ( C99 . C100 ) = ( C97 . C100 ));
assume that
L273: ( C100 \/ { C101 } ) <> ( {} )
and
L274: ( C100 \/ { C101 } ) c= R12;
L275: (C100 c= R12 & C101 in R12) by L274 , ZFMISC_1:137;
per cases ;
suppose L276: C100 = ( {} );

thus L277: ( C99 . ( C100 \/ { C101 } ) ) = ( R13 . C101 ) by L276 , L268
.= ( C97 . ( C100 \/ { C101 } ) ) by L264 , L276;
end;
suppose L278: C100 <> ( {} );

thus L279: ( C99 . ( C100 \/ { C101 } ) ) = ( R11 . (( C97 . C100 ) , ( R13 . C101 )) ) by L278 , L269 , L272 , L275 , L271 , XBOOLE_1:1
.= ( C97 . ( C100 \/ { C101 } ) ) by L265 , L275 , L278;
end;
end;
L281: S9[ ( {}. R9 ) ];
L282: (for B176 being (Element of ( Fin R9 )) holds S9[ B176 ]) from FinSubInd3(L281 , L270);
L283: C98 in ( R12 \/ { C98 } ) by ZFMISC_1:136;
thus L284: ( R11 $$ (( R12 \/ {. C98 .} ) , R13) ) = ( R11 . (( C99 . R12 ) , ( R13 . C98 )) ) by L283 , L261 , L266 , L269 , XBOOLE_1:7
.= ( R11 . (( R11 $$ (R12 , R13) ) , ( R13 . C98 )) ) by L261 , L262 , L282;
end;
theorem
L285: (for R9 being non  empty set holds (for R10 being non  empty set holds (for R11 being (BinOp of R10) holds (for R13 being (Function of R9 , R10) holds ((R11 is  idempotent & R11 is  commutative & R11 is  associative) implies (for B177 , B178 being (Element of ( Fin R9 )) holds ((B177 <> ( {} ) & B178 <> ( {} )) implies ( R11 $$ (( B177 \/ B178 ) , R13) ) = ( R11 . (( R11 $$ (B177 , R13) ) , ( R11 $$ (B178 , R13) )) ))))))))
proof
let R9 being non  empty set;
let R10 being non  empty set;
let R11 being (BinOp of R10);
let R13 being (Function of R9 , R10);
assume that
L286: R11 is  idempotent
and
L287: R11 is  commutative
and
L288: R11 is  associative;
let C102 , C103 being (Element of ( Fin R9 ));
defpred S10[ (Element of ( Fin R9 )) ] means ($1 <> ( {} ) implies ( R11 $$ (( C102 \/ $1 ) , R13) ) = ( R11 . (( R11 $$ (C102 , R13) ) , ( R11 $$ ($1 , R13) )) ));
assume L289: C102 <> ( {} );
L290: (for B179 being (Element of ( Fin R9 )) holds (for B180 being (Element of R9) holds (S10[ B179 ] implies S10[ ( B179 \/ {. B180 .} ) ])))
proof
let C104 being (Element of ( Fin R9 ));
let C105 being (Element of R9);
assume that
L291: (C104 <> ( {} ) implies ( R11 $$ (( C102 \/ C104 ) , R13) ) = ( R11 . (( R11 $$ (C102 , R13) ) , ( R11 $$ (C104 , R13) )) ))
and
L292: ( C104 \/ { C105 } ) <> ( {} );
per cases ;
suppose L293: C104 = ( {} );

thus L294: ( R11 $$ (( C102 \/ ( C104 \/ {. C105 .} ) ) , R13) ) = ( R11 . (( R11 $$ (C102 , R13) ) , ( R13 . C105 )) ) by L293 , L286 , L287 , L288 , L289 , L259
.= ( R11 . (( R11 $$ (C102 , R13) ) , ( R11 $$ (( C104 \/ {. C105 .} ) , R13) )) ) by L287 , L288 , L293 , L237;
end;
suppose L295: C104 <> ( {} );

thus L296: ( R11 $$ (( C102 \/ ( C104 \/ {. C105 .} ) ) , R13) ) = ( R11 $$ (( ( C102 \/ C104 ) \/ {. C105 .} ) , R13) ) by XBOOLE_1:4
.= ( R11 . (( R11 . (( R11 $$ (C102 , R13) ) , ( R11 $$ (C104 , R13) )) ) , ( R13 . C105 )) ) by L286 , L287 , L288 , L291 , L295 , L259
.= ( R11 . (( R11 $$ (C102 , R13) ) , ( R11 . (( R11 $$ (C104 , R13) ) , ( R13 . C105 )) )) ) by L288 , BINOP_1:def 3
.= ( R11 . (( R11 $$ (C102 , R13) ) , ( R11 $$ (( C104 \/ {. C105 .} ) , R13) )) ) by L286 , L287 , L288 , L295 , L259;
end;
end;
L298: S10[ ( {}. R9 ) ];
L299: (for B181 being (Element of ( Fin R9 )) holds S10[ B181 ]) from FinSubInd3(L298 , L290);
thus L300: thesis by L299;
end;
theorem
L301: (for R9 being non  empty set holds (for R10 being non  empty set holds (for R11 being (BinOp of R10) holds (for R12 being (Element of ( Fin R9 )) holds (for R13 being (Function of R9 , R10) holds ((R11 is  commutative & R11 is  associative & R11 is  idempotent) implies (for B182 being (Element of R9) holds (B182 in R12 implies ( R11 . (( R13 . B182 ) , ( R11 $$ (R12 , R13) )) ) = ( R11 $$ (R12 , R13) )))))))))
proof
let R9 being non  empty set;
let R10 being non  empty set;
let R11 being (BinOp of R10);
let R12 being (Element of ( Fin R9 ));
let R13 being (Function of R9 , R10);
assume that
L302: (R11 is  commutative & R11 is  associative)
and
L303: R11 is  idempotent;
let C106 being (Element of R9);
assume L304: C106 in R12;
thus L305: ( R11 . (( R13 . C106 ) , ( R11 $$ (R12 , R13) )) ) = ( R11 . (( R11 $$ ({. C106 .} , R13) ) , ( R11 $$ (R12 , R13) )) ) by L302 , L237
.= ( R11 $$ (( {. C106 .} \/ R12 ) , R13) ) by L302 , L303 , L304 , L285
.= ( R11 $$ (R12 , R13) ) by L304 , ZFMISC_1:40;
end;
theorem
L306: (for R9 being non  empty set holds (for R10 being non  empty set holds (for R11 being (BinOp of R10) holds (for R13 being (Function of R9 , R10) holds ((R11 is  commutative & R11 is  associative & R11 is  idempotent) implies (for B183 , B184 being (Element of ( Fin R9 )) holds ((B183 <> ( {} ) & B183 c= B184) implies ( R11 . (( R11 $$ (B183 , R13) ) , ( R11 $$ (B184 , R13) )) ) = ( R11 $$ (B184 , R13) ))))))))
proof
let R9 being non  empty set;
let R10 being non  empty set;
let R11 being (BinOp of R10);
let R13 being (Function of R9 , R10);
assume L307: (R11 is  commutative & R11 is  associative & R11 is  idempotent);
let C107 , C108 being (Element of ( Fin R9 ));
assume that
L308: C107 <> ( {} )
and
L309: C107 c= C108;
L310: C108 <> ( {} ) by L308 , L309;
thus L311: ( R11 . (( R11 $$ (C107 , R13) ) , ( R11 $$ (C108 , R13) )) ) = ( R11 $$ (( C107 \/ C108 ) , R13) ) by L310 , L307 , L308 , L285
.= ( R11 $$ (C108 , R13) ) by L309 , XBOOLE_1:12;
end;
theorem
L312: (for R9 being non  empty set holds (for R10 being non  empty set holds (for R11 being (BinOp of R10) holds (for R12 being (Element of ( Fin R9 )) holds (for R13 being (Function of R9 , R10) holds ((R12 <> ( {} ) & R11 is  commutative & R11 is  associative & R11 is  idempotent) implies (for B185 being (Element of R10) holds ((for B186 being (Element of R9) holds (B186 in R12 implies ( R13 . B186 ) = B185)) implies ( R11 $$ (R12 , R13) ) = B185))))))))
proof
let R9 being non  empty set;
let R10 being non  empty set;
let R11 being (BinOp of R10);
let R12 being (Element of ( Fin R9 ));
let R13 being (Function of R9 , R10);
assume that
L313: R12 <> ( {} )
and
L314: (R11 is  commutative & R11 is  associative)
and
L315: R11 is  idempotent;
let C109 being (Element of R10);
defpred S11[ (Element of ( Fin R9 )) ] means ((for B187 being (Element of R9) holds (B187 in $1 implies ( R13 . B187 ) = C109)) implies ( R11 $$ ($1 , R13) ) = C109);
L316: (for B188 , B189 being non  empty (Element of ( Fin R9 )) holds ((S11[ B188 ] & S11[ B189 ]) implies S11[ ( B188 \/ B189 ) ]))
proof
let C110 , C111 being non  empty (Element of ( Fin R9 ));
assume that
L317: (((for B190 being (Element of R9) holds (B190 in C110 implies ( R13 . B190 ) = C109)) implies ( R11 $$ (C110 , R13) ) = C109) & ((for B191 being (Element of R9) holds (B191 in C111 implies ( R13 . B191 ) = C109)) implies ( R11 $$ (C111 , R13) ) = C109))
and
L318: (for B192 being (Element of R9) holds (B192 in ( C110 \/ C111 ) implies ( R13 . B192 ) = C109));
L319:
now
let C112 being (Element of R9);
assume L320: C112 in C111;
L321: C112 in ( C110 \/ C111 ) by L320 , XBOOLE_0:def 3;
thus L322: ( R13 . C112 ) = C109 by L321 , L318;
end;
L323:
now
let C113 being (Element of R9);
assume L324: C113 in C110;
L325: C113 in ( C110 \/ C111 ) by L324 , XBOOLE_0:def 3;
thus L326: ( R13 . C113 ) = C109 by L325 , L318;
end;
thus L327: ( R11 $$ (( C110 \/ C111 ) , R13) ) = ( R11 . (C109 , C109) ) by L323 , L314 , L315 , L317 , L319 , L285
.= C109 by L315;
end;
L328: (for B193 being (Element of R9) holds S11[ {. B193 .} ])
proof
let C114 being (Element of R9);
assume that
L329: (for B194 being (Element of R9) holds (B194 in { C114 } implies ( R13 . B194 ) = C109));
L330: C114 in { C114 } by TARSKI:def 1;
thus L331: ( R11 $$ ({. C114 .} , R13) ) = ( R13 . C114 ) by L314 , L237
.= C109 by L329 , L330;
end;
L332: (for B195 being non  empty (Element of ( Fin R9 )) holds S11[ B195 ]) from FinSubInd2(L328 , L316);
thus L333: thesis by L332 , L313;
end;
theorem
L334: (for R9 being non  empty set holds (for R10 being non  empty set holds (for R11 being (BinOp of R10) holds (for R12 being (Element of ( Fin R9 )) holds (for R13 being (Function of R9 , R10) holds ((R11 is  commutative & R11 is  associative & R11 is  idempotent) implies (for B196 being (Element of R10) holds (( R13 .: R12 ) = { B196 } implies ( R11 $$ (R12 , R13) ) = B196))))))))
proof
let R9 being non  empty set;
let R10 being non  empty set;
let R11 being (BinOp of R10);
let R12 being (Element of ( Fin R9 ));
let R13 being (Function of R9 , R10);
assume L335: (R11 is  commutative & R11 is  associative & R11 is  idempotent);
let C115 being (Element of R10);
assume L336: ( R13 .: R12 ) = { C115 };
L337: (for B197 being (Element of R9) holds (B197 in R12 implies ( R13 . B197 ) = C115))
proof
let C116 being (Element of R9);
assume L338: C116 in R12;
L339: ( R13 . C116 ) in { C115 } by L338 , L336 , FUNCT_2:35;
thus L340: thesis by L339 , TARSKI:def 1;
end;
L341: R12 <> ( {} ) by L336;
thus L342: thesis by L341 , L335 , L337 , L312;
end;
theorem
L343: (for R9 being non  empty set holds (for R10 being non  empty set holds (for R11 being (BinOp of R10) holds ((R11 is  commutative & R11 is  associative & R11 is  idempotent) implies (for B198 , B199 being (Function of R9 , R10) holds (for B200 , B201 being (Element of ( Fin R9 )) holds ((B200 <> ( {} ) & ( B198 .: B200 ) = ( B199 .: B201 )) implies ( R11 $$ (B200 , B198) ) = ( R11 $$ (B201 , B199) ))))))))
proof
let R9 being non  empty set;
let R10 being non  empty set;
let R11 being (BinOp of R10);
assume that
L344: R11 is  commutative
and
L345: R11 is  associative
and
L346: R11 is  idempotent;
let C117 , C118 being (Function of R9 , R10);
defpred S12[ (Element of ( Fin R9 )) ] means ($1 <> ( {} ) implies (for B202 being (Element of ( Fin R9 )) holds (( C117 .: $1 ) = ( C118 .: B202 ) implies ( R11 $$ ($1 , C117) ) = ( R11 $$ (B202 , C118) ))));
L347: (for B203 being (Element of ( Fin R9 )) holds (for B204 being (Element of R9) holds (S12[ B203 ] implies S12[ ( B203 \/ {. B204 .} ) ])))
proof
let C119 being (Element of ( Fin R9 ));
let C120 being (Element of R9);
assume that
L348: (C119 <> ( {} ) implies (for B205 being (Element of ( Fin R9 )) holds (( C117 .: C119 ) = ( C118 .: B205 ) implies ( R11 $$ (C119 , C117) ) = ( R11 $$ (B205 , C118) ))));
assume L349: ( C119 \/ { C120 } ) <> ( {} );
let C121 being (Element of ( Fin R9 ));
assume that
L350: ( C117 .: ( C119 \/ { C120 } ) ) = ( C118 .: C121 );
per cases ;
suppose L351: ( C117 . C120 ) in ( C117 .: C119 );

consider C122 being (Element of R9) such that L352: C122 in C119 and L353: ( C117 . C122 ) = ( C117 . C120 ) by L351 , FUNCT_2:65;
L354: ( C118 .: C121 ) = ( ( C117 .: C119 ) \/ ( Im (C117 , C120) ) ) by L350 , RELAT_1:120
.= ( ( C117 .: C119 ) \/ { ( C117 . C120 ) } ) by L30
.= ( C117 .: C119 ) by L352 , L353 , FUNCT_2:35 , ZFMISC_1:40;
thus L355: ( R11 $$ (( C119 \/ {. C120 .} ) , C117) ) = ( R11 . (( R11 $$ (C119 , C117) ) , ( C117 . C120 )) ) by L344 , L345 , L346 , L352 , L259
.= ( R11 . (( R11 $$ (( C119 \/ {. C122 .} ) , C117) ) , ( C117 . C120 )) ) by L352 , ZFMISC_1:40
.= ( R11 . (( R11 . (( R11 $$ (C119 , C117) ) , ( C117 . C122 )) ) , ( C117 . C120 )) ) by L344 , L345 , L346 , L352 , L259
.= ( R11 . (( R11 $$ (C119 , C117) ) , ( R11 . (( C117 . C122 ) , ( C117 . C122 )) )) ) by L345 , L353 , BINOP_1:def 3
.= ( R11 $$ (( C119 \/ {. C122 .} ) , C117) ) by L344 , L345 , L346 , L352 , L259
.= ( R11 $$ (C119 , C117) ) by L352 , ZFMISC_1:40
.= ( R11 $$ (C121 , C118) ) by L348 , L352 , L354;
end;
suppose L356: (not ( C117 . C120 ) in ( C117 .: C119 ));

per cases ;
suppose L357: C119 = ( {} );

L358: ( C118 .: C121 ) = ( Im (C117 , C120) ) by L357 , L350
.= { ( C117 . C120 ) } by L30;
thus L359: ( R11 $$ (( C119 \/ {. C120 .} ) , C117) ) = ( C117 . C120 ) by L344 , L345 , L357 , L237
.= ( R11 $$ (C121 , C118) ) by L344 , L345 , L346 , L358 , L334;
end;
suppose L360: C119 <> ( {} );

reconsider D21 = ( C121 \ ( C118 " { ( C117 . C120 ) } ) ) as (Element of ( Fin R9 )) by L51;
L361:
now
assume L362: D21 = ( {} );
L363: ( C118 .: C121 ) c= ( C118 .: ( C118 " { ( C117 . C120 ) } ) ) by L362 , RELAT_1:123 , XBOOLE_1:37;
L364: ( C118 .: ( C118 " { ( C117 . C120 ) } ) ) c= { ( C117 . C120 ) } by FUNCT_1:75;
L365: ( C117 .: ( C119 \/ { C120 } ) ) c= { ( C117 . C120 ) } by L364 , L350 , L363 , XBOOLE_1:1;
L366: ( ( C117 .: C119 ) \/ ( C117 .: { C120 } ) ) c= { ( C117 . C120 ) } by L365 , RELAT_1:120;
L367: ( C117 .: C119 ) = ( ( C117 .: C119 ) /\ { ( C117 . C120 ) } ) by L366 , XBOOLE_1:11 , XBOOLE_1:28
.= ( {} ) by L356 , ZFMISC_1:50 , XBOOLE_0:def 7;
thus L368: contradiction by L367 , L360 , L60;
end;
reconsider D22 = ( C121 /\ ( C118 " { ( C117 . C120 ) } ) ) as (Element of ( Fin R9 )) by L51 , XBOOLE_1:17;
L369: C121 = ( D21 \/ D22 ) by XBOOLE_1:51;
L370: (for B206 being (Element of R9) holds (B206 in D22 implies ( C118 . B206 ) = ( C117 . C120 )))
proof
let C123 being (Element of R9);
assume L371: C123 in D22;
L372: C123 in ( C118 " { ( C117 . C120 ) } ) by L371 , XBOOLE_0:def 4;
L373: ( C118 . C123 ) in { ( C117 . C120 ) } by L372 , FUNCT_1:def 7;
thus L374: thesis by L373 , TARSKI:def 1;
end;
L375: ( C117 .: C119 ) = ( ( C117 .: C119 ) \ { ( C117 . C120 ) } ) by L356 , ZFMISC_1:57
.= ( ( C117 .: C119 ) \ ( Im (C117 , C120) ) ) by L30
.= ( ( ( C117 .: C119 ) \/ ( C117 .: { C120 } ) ) \ ( C117 .: { C120 } ) ) by XBOOLE_1:40
.= ( ( C117 .: ( C119 \/ { C120 } ) ) \ ( Im (C117 , C120) ) ) by RELAT_1:120
.= ( ( C118 .: C121 ) \ { ( C117 . C120 ) } ) by L350 , L30
.= ( C118 .: D21 ) by L7;
L376: C120 in ( C119 \/ { C120 } ) by ZFMISC_1:136;
consider C124 being (Element of R9) such that L377: C124 in C121 and L378: ( C118 . C124 ) = ( C117 . C120 ) by L376 , L350 , FUNCT_2:35 , FUNCT_2:65;
L379: C124 in ( C118 " { ( C117 . C120 ) } ) by L378 , L27;
L380: D22 <> ( {} ) by L379 , L377 , XBOOLE_0:def 4;
thus L381: ( R11 $$ (( C119 \/ {. C120 .} ) , C117) ) = ( R11 . (( R11 $$ (C119 , C117) ) , ( C117 . C120 )) ) by L344 , L345 , L346 , L360 , L259
.= ( R11 . (( R11 $$ (D21 , C118) ) , ( C117 . C120 )) ) by L348 , L360 , L375
.= ( R11 . (( R11 $$ (D21 , C118) ) , ( R11 $$ (D22 , C118) )) ) by L344 , L345 , L346 , L380 , L370 , L312
.= ( R11 $$ (C121 , C118) ) by L344 , L345 , L346 , L369 , L361 , L380 , L285;
end;
end;
end;
L384: S12[ ( {}. R9 ) ];
L385: (for B207 being (Element of ( Fin R9 )) holds S12[ B207 ]) from FinSubInd3(L384 , L347);
let C125 , C126 being (Element of ( Fin R9 ));
assume L386: (C125 <> ( {} ) & ( C117 .: C125 ) = ( C118 .: C126 ));
thus L387: thesis by L386 , L385;
end;
theorem
L388: (for R9 being non  empty set holds (for R10 being non  empty set holds (for B208 , B209 being (BinOp of R10) holds ((B208 is  idempotent & B208 is  commutative & B208 is  associative & B209 is_distributive_wrt B208) implies (for B210 being (Element of ( Fin R9 )) holds (B210 <> ( {} ) implies (for B211 being (Function of R9 , R10) holds (for B212 being (Element of R10) holds ( B209 . (B212 , ( B208 $$ (B210 , B211) )) ) = ( B208 $$ (B210 , ( B209 [;] (B212 , B211) )) )))))))))
proof
let R9 being non  empty set;
let R10 being non  empty set;
let C127 , C128 being (BinOp of R10);
assume that
L389: C127 is  idempotent
and
L390: (C127 is  commutative & C127 is  associative)
and
L391: C128 is_distributive_wrt C127;
let C129 being (Element of ( Fin R9 ));
assume that
L392: C129 <> ( {} );
let C130 being (Function of R9 , R10);
let C131 being (Element of R10);
defpred S13[ (Element of ( Fin R9 )) ] means ( C128 . (C131 , ( C127 $$ ($1 , C130) )) ) = ( C127 $$ ($1 , ( C128 [;] (C131 , C130) )) );
L393: (for B213 , B214 being non  empty (Element of ( Fin R9 )) holds ((S13[ B213 ] & S13[ B214 ]) implies S13[ ( B213 \/ B214 ) ]))
proof
let C132 , C133 being non  empty (Element of ( Fin R9 ));
assume L394: (( C128 . (C131 , ( C127 $$ (C132 , C130) )) ) = ( C127 $$ (C132 , ( C128 [;] (C131 , C130) )) ) & ( C128 . (C131 , ( C127 $$ (C133 , C130) )) ) = ( C127 $$ (C133 , ( C128 [;] (C131 , C130) )) ));
thus L395: ( C128 . (C131 , ( C127 $$ (( C132 \/ C133 ) , C130) )) ) = ( C128 . (C131 , ( C127 . (( C127 $$ (C132 , C130) ) , ( C127 $$ (C133 , C130) )) )) ) by L389 , L390 , L285
.= ( C127 . (( C127 $$ (C132 , ( C128 [;] (C131 , C130) )) ) , ( C127 $$ (C133 , ( C128 [;] (C131 , C130) )) )) ) by L391 , L394 , BINOP_1:11
.= ( C127 $$ (( C132 \/ C133 ) , ( C128 [;] (C131 , C130) )) ) by L389 , L390 , L285;
end;
L396: (for B215 being (Element of R9) holds S13[ {. B215 .} ])
proof
let C134 being (Element of R9);
thus L397: ( C128 . (C131 , ( C127 $$ ({. C134 .} , C130) )) ) = ( C128 . (C131 , ( C130 . C134 )) ) by L390 , L237
.= ( ( C128 [;] (C131 , C130) ) . C134 ) by FUNCOP_1:53
.= ( C127 $$ ({. C134 .} , ( C128 [;] (C131 , C130) )) ) by L390 , L237;
end;
L398: (for B216 being non  empty (Element of ( Fin R9 )) holds S13[ B216 ]) from FinSubInd2(L396 , L393);
thus L399: thesis by L398 , L392;
end;
theorem
L400: (for R9 being non  empty set holds (for R10 being non  empty set holds (for B217 , B218 being (BinOp of R10) holds ((B217 is  idempotent & B217 is  commutative & B217 is  associative & B218 is_distributive_wrt B217) implies (for B219 being (Element of ( Fin R9 )) holds (B219 <> ( {} ) implies (for B220 being (Function of R9 , R10) holds (for B221 being (Element of R10) holds ( B218 . (( B217 $$ (B219 , B220) ) , B221) ) = ( B217 $$ (B219 , ( B218 [:] (B220 , B221) )) )))))))))
proof
let R9 being non  empty set;
let R10 being non  empty set;
let C135 , C136 being (BinOp of R10);
assume that
L401: C135 is  idempotent
and
L402: (C135 is  commutative & C135 is  associative)
and
L403: C136 is_distributive_wrt C135;
let C137 being (Element of ( Fin R9 ));
assume that
L404: C137 <> ( {} );
let C138 being (Function of R9 , R10);
let C139 being (Element of R10);
defpred S14[ (Element of ( Fin R9 )) ] means ( C136 . (( C135 $$ ($1 , C138) ) , C139) ) = ( C135 $$ ($1 , ( C136 [:] (C138 , C139) )) );
L405: (for B222 , B223 being non  empty (Element of ( Fin R9 )) holds ((S14[ B222 ] & S14[ B223 ]) implies S14[ ( B222 \/ B223 ) ]))
proof
let C140 , C141 being non  empty (Element of ( Fin R9 ));
assume L406: (( C136 . (( C135 $$ (C140 , C138) ) , C139) ) = ( C135 $$ (C140 , ( C136 [:] (C138 , C139) )) ) & ( C136 . (( C135 $$ (C141 , C138) ) , C139) ) = ( C135 $$ (C141 , ( C136 [:] (C138 , C139) )) ));
thus L407: ( C136 . (( C135 $$ (( C140 \/ C141 ) , C138) ) , C139) ) = ( C136 . (( C135 . (( C135 $$ (C140 , C138) ) , ( C135 $$ (C141 , C138) )) ) , C139) ) by L401 , L402 , L285
.= ( C135 . (( C135 $$ (C140 , ( C136 [:] (C138 , C139) )) ) , ( C135 $$ (C141 , ( C136 [:] (C138 , C139) )) )) ) by L403 , L406 , BINOP_1:11
.= ( C135 $$ (( C140 \/ C141 ) , ( C136 [:] (C138 , C139) )) ) by L401 , L402 , L285;
end;
L408: (for B224 being (Element of R9) holds S14[ {. B224 .} ])
proof
let C142 being (Element of R9);
thus L409: ( C136 . (( C135 $$ ({. C142 .} , C138) ) , C139) ) = ( C136 . (( C138 . C142 ) , C139) ) by L402 , L237
.= ( ( C136 [:] (C138 , C139) ) . C142 ) by FUNCOP_1:48
.= ( C135 $$ ({. C142 .} , ( C136 [:] (C138 , C139) )) ) by L402 , L237;
end;
L410: (for B225 being non  empty (Element of ( Fin R9 )) holds S14[ B225 ]) from FinSubInd2(L408 , L405);
thus L411: thesis by L410 , L404;
end;
definition
let C143 , C144 being non  empty set;
let C145 being (Function of C143 , C144);
let C146 being (Element of ( Fin C143 ));
redefine func C145 .: C146 -> (Element of ( Fin C144 ));

coherence by L56;
end;
theorem
L413: (for B226 , B227 , B228 being non  empty set holds (for B229 being (BinOp of B226) holds ((B229 is  idempotent & B229 is  commutative & B229 is  associative) implies (for B230 being (Element of ( Fin B227 )) holds (B230 <> ( {} ) implies (for B231 being (Function of B227 , B228) holds (for B232 being (Function of B228 , B226) holds ( B229 $$ (( B231 .: B230 ) , B232) ) = ( B229 $$ (B230 , ( B232 * B231 )) ))))))))
proof
let C147 , C148 , C149 being non  empty set;
let C150 being (BinOp of C147);
assume that
L414: C150 is  idempotent
and
L415: (C150 is  commutative & C150 is  associative);
let C151 being (Element of ( Fin C148 ));
assume that
L416: C151 <> ( {} );
let C152 being (Function of C148 , C149);
let C153 being (Function of C149 , C147);
defpred S15[ (Element of ( Fin C148 )) ] means ( C150 $$ (( C152 .: $1 ) , C153) ) = ( C150 $$ ($1 , ( C153 * C152 )) );
L417: ( dom C152 ) = C148 by FUNCT_2:def 1;
L418: (for B233 , B234 being non  empty (Element of ( Fin C148 )) holds ((S15[ B233 ] & S15[ B234 ]) implies S15[ ( B233 \/ B234 ) ]))
proof
let C154 , C155 being non  empty (Element of ( Fin C148 ));
assume L419: (( C150 $$ (( C152 .: C154 ) , C153) ) = ( C150 $$ (C154 , ( C153 * C152 )) ) & ( C150 $$ (( C152 .: C155 ) , C153) ) = ( C150 $$ (C155 , ( C153 * C152 )) ));
L420: C154 c= C148 by FINSUB_1:def 5;
L421: C155 c= C148 by FINSUB_1:def 5;
thus L422: ( C150 $$ (( C152 .: ( C154 \/ C155 ) ) , C153) ) = ( C150 $$ (( ( C152 .: C154 ) \/ ( C152 .: C155 ) ) , C153) ) by RELAT_1:120
.= ( C150 . (( C150 $$ (( C152 .: C154 ) , C153) ) , ( C150 $$ (( C152 .: C155 ) , C153) )) ) by L414 , L415 , L420 , L421 , L285 , L417
.= ( C150 $$ (( C154 \/ C155 ) , ( C153 * C152 )) ) by L414 , L415 , L419 , L285;
end;
L423: (for B235 being (Element of C148) holds S15[ {. B235 .} ])
proof
let C156 being (Element of C148);
L424: ( C152 .: {. C156 .} ) = ( Im (C152 , C156) );
thus L425: ( C150 $$ (( C152 .: {. C156 .} ) , C153) ) = ( C150 $$ ({. ( C152 . C156 ) .} , C153) ) by L424 , L417 , FUNCT_1:59
.= ( C153 . ( C152 . C156 ) ) by L415 , L237
.= ( ( C153 * C152 ) . C156 ) by FUNCT_2:15
.= ( C150 $$ ({. C156 .} , ( C153 * C152 )) ) by L415 , L237;
end;
L426: (for B236 being non  empty (Element of ( Fin C148 )) holds S15[ B236 ]) from FinSubInd2(L423 , L418);
thus L427: thesis by L426 , L416;
end;
theorem
L428: (for R9 being non  empty set holds (for R10 being non  empty set holds (for R11 being (BinOp of R10) holds ((R11 is  commutative & R11 is  associative & R11 is  idempotent) implies (for B237 being non  empty set holds (for B238 being (BinOp of B237) holds ((B238 is  commutative & B238 is  associative & B238 is  idempotent) implies (for B239 being (Function of R9 , R10) holds (for B240 being (Function of R10 , B237) holds ((for B241 , B242 being (Element of R10) holds ( B240 . ( R11 . (B241 , B242) ) ) = ( B238 . (( B240 . B241 ) , ( B240 . B242 )) )) implies (for B243 being (Element of ( Fin R9 )) holds (B243 <> ( {} ) implies ( B240 . ( R11 $$ (B243 , B239) ) ) = ( B238 $$ (B243 , ( B240 * B239 )) )))))))))))))
proof
let R9 being non  empty set;
let R10 being non  empty set;
let R11 being (BinOp of R10);
assume that
L429: (R11 is  commutative & R11 is  associative)
and
L430: R11 is  idempotent;
let C157 being non  empty set;
let C158 being (BinOp of C157);
assume that
L431: (C158 is  commutative & C158 is  associative)
and
L432: C158 is  idempotent;
let C159 being (Function of R9 , R10);
let C160 being (Function of R10 , C157);
assume that
L433: (for B244 , B245 being (Element of R10) holds ( C160 . ( R11 . (B244 , B245) ) ) = ( C158 . (( C160 . B244 ) , ( C160 . B245 )) ));
defpred S16[ (Element of ( Fin R9 )) ] means ($1 <> ( {} ) implies ( C160 . ( R11 $$ ($1 , C159) ) ) = ( C158 $$ ($1 , ( C160 * C159 )) ));
L434: (for B246 being (Element of ( Fin R9 )) holds (for B247 being (Element of R9) holds (S16[ B246 ] implies S16[ ( B246 \/ {. B247 .} ) ])))
proof
let C161 being (Element of ( Fin R9 ));
let C162 being (Element of R9);
assume that
L435: (C161 <> ( {} ) implies ( C160 . ( R11 $$ (C161 , C159) ) ) = ( C158 $$ (C161 , ( C160 * C159 )) ))
and
L436: ( C161 \/ { C162 } ) <> ( {} );
per cases ;
suppose L437: C161 = ( {} );

thus L438: ( C160 . ( R11 $$ (( C161 \/ {. C162 .} ) , C159) ) ) = ( C160 . ( C159 . C162 ) ) by L437 , L429 , L237
.= ( ( C160 * C159 ) . C162 ) by FUNCT_2:15
.= ( C158 $$ (( C161 \/ {. C162 .} ) , ( C160 * C159 )) ) by L431 , L437 , L237;
end;
suppose L439: C161 <> ( {} );

thus L440: ( C160 . ( R11 $$ (( C161 \/ {. C162 .} ) , C159) ) ) = ( C160 . ( R11 . (( R11 $$ (C161 , C159) ) , ( C159 . C162 )) ) ) by L439 , L429 , L430 , L259
.= ( C158 . (( C160 . ( R11 $$ (C161 , C159) ) ) , ( C160 . ( C159 . C162 ) )) ) by L433
.= ( C158 . (( C158 $$ (C161 , ( C160 * C159 )) ) , ( ( C160 * C159 ) . C162 )) ) by L435 , L439 , FUNCT_2:15
.= ( C158 $$ (( C161 \/ {. C162 .} ) , ( C160 * C159 )) ) by L431 , L432 , L439 , L259;
end;
end;
L442: S16[ ( {}. R9 ) ];
thus L443: (for B248 being (Element of ( Fin R9 )) holds S16[ B248 ]) from FinSubInd3(L442 , L434);
end;
theorem
L444: (for R9 being non  empty set holds (for R10 being non  empty set holds (for R11 being (BinOp of R10) holds ((R11 is  commutative & R11 is  associative & R11 is  having_a_unity) implies (for R13 being (Function of R9 , R10) holds ( R11 $$ (( {}. R9 ) , R13) ) = ( the_unity_wrt R11 ))))))
proof
let R9 being non  empty set;
let R10 being non  empty set;
let R11 being (BinOp of R10);
assume L445: (R11 is  commutative & R11 is  associative & R11 is  having_a_unity);
let R13 being (Function of R9 , R10);
L446: (( the_unity_wrt R11 ) is_a_unity_wrt R11 & (ex B249 being (Function of ( Fin R9 ) , R10) st (( R11 $$ (( {}. R9 ) , R13) ) = ( B249 . ( {}. R9 ) ) & (for B250 being (Element of R10) holds (B250 is_a_unity_wrt R11 implies ( B249 . ( {} ) ) = B250)) & (for B251 being (Element of R9) holds ( B249 . { B251 } ) = ( R13 . B251 )) & (for B252 being (Element of ( Fin R9 )) holds ((B252 c= ( {}. R9 ) & B252 <> ( {} )) implies (for B253 being (Element of R9) holds (B253 in ( ( {}. R9 ) \ B252 ) implies ( B249 . ( B252 \/ { B253 } ) ) = ( R11 . (( B249 . B252 ) , ( R13 . B253 )) )))))))) by L445 , L140 , L78;
thus L447: thesis by L446;
end;
theorem
L448: (for R9 being non  empty set holds (for R10 being non  empty set holds (for R11 being (BinOp of R10) holds (for R12 being (Element of ( Fin R9 )) holds (for R13 being (Function of R9 , R10) holds ((R11 is  idempotent & R11 is  commutative & R11 is  associative & R11 is  having_a_unity) implies (for B254 being (Element of R9) holds ( R11 $$ (( R12 \/ {. B254 .} ) , R13) ) = ( R11 . (( R11 $$ (R12 , R13) ) , ( R13 . B254 )) ))))))))
proof
let R9 being non  empty set;
let R10 being non  empty set;
let R11 being (BinOp of R10);
let R12 being (Element of ( Fin R9 ));
let R13 being (Function of R9 , R10);
assume that
L449: R11 is  idempotent
and
L450: (R11 is  commutative & R11 is  associative);
assume L451: R11 is  having_a_unity;
let C163 being (Element of R9);
L452: ( {} ) = ( {}. R9 );
L453:
now
assume L454: R12 = ( {} );
thus L455: ( R11 $$ (( R12 \/ {. C163 .} ) , R13) ) = ( R13 . C163 ) by L454 , L450 , L237
.= ( R11 . (( the_unity_wrt R11 ) , ( R13 . C163 )) ) by L451 , L84
.= ( R11 . (( R11 $$ (R12 , R13) ) , ( R13 . C163 )) ) by L450 , L451 , L452 , L454 , L444;
end;
thus L456: thesis by L453 , L449 , L450 , L259;
end;
theorem
L457: (for R9 being non  empty set holds (for R10 being non  empty set holds (for R11 being (BinOp of R10) holds (for R13 being (Function of R9 , R10) holds ((R11 is  idempotent & R11 is  commutative & R11 is  associative & R11 is  having_a_unity) implies (for B255 , B256 being (Element of ( Fin R9 )) holds ( R11 $$ (( B255 \/ B256 ) , R13) ) = ( R11 . (( R11 $$ (B255 , R13) ) , ( R11 $$ (B256 , R13) )) )))))))
proof
let R9 being non  empty set;
let R10 being non  empty set;
let R11 being (BinOp of R10);
let R13 being (Function of R9 , R10);
assume that
L458: R11 is  idempotent
and
L459: (R11 is  commutative & R11 is  associative)
and
L460: R11 is  having_a_unity;
let C164 , C165 being (Element of ( Fin R9 ));
L461:
now
L462: ( {} ) = ( {}. R9 );
assume L463: (C164 = ( {} ) or C165 = ( {} ));
per cases  by L463;
suppose L464: C165 = ( {} );

thus L465: ( R11 $$ (( C164 \/ C165 ) , R13) ) = ( R11 . (( R11 $$ (C164 , R13) ) , ( the_unity_wrt R11 )) ) by L464 , L460 , L84
.= ( R11 . (( R11 $$ (C164 , R13) ) , ( R11 $$ (C165 , R13) )) ) by L459 , L460 , L462 , L464 , L444;
end;
suppose L466: C164 = ( {} );

thus L467: ( R11 $$ (( C164 \/ C165 ) , R13) ) = ( R11 . (( the_unity_wrt R11 ) , ( R11 $$ (C165 , R13) )) ) by L466 , L460 , L84
.= ( R11 . (( R11 $$ (C164 , R13) ) , ( R11 $$ (C165 , R13) )) ) by L459 , L460 , L462 , L466 , L444;
end;
end;
thus L469: thesis by L461 , L458 , L459 , L285;
end;
theorem
L470: (for R9 being non  empty set holds (for R10 being non  empty set holds (for R11 being (BinOp of R10) holds ((R11 is  commutative & R11 is  associative & R11 is  idempotent & R11 is  having_a_unity) implies (for B257 , B258 being (Function of R9 , R10) holds (for B259 , B260 being (Element of ( Fin R9 )) holds (( B257 .: B259 ) = ( B258 .: B260 ) implies ( R11 $$ (B259 , B257) ) = ( R11 $$ (B260 , B258) ))))))))
proof
let R9 being non  empty set;
let R10 being non  empty set;
let R11 being (BinOp of R10);
assume that
L471: (R11 is  commutative & R11 is  associative)
and
L472: R11 is  idempotent
and
L473: R11 is  having_a_unity;
let C166 , C167 being (Function of R9 , R10);
let C168 , C169 being (Element of ( Fin R9 ));
assume that
L474: ( C166 .: C168 ) = ( C167 .: C169 );
L475:
now
assume L476: C168 = ( {} );
L477: C168 = ( {}. R9 ) by L476;
L478: ( R11 $$ (C168 , C166) ) = ( the_unity_wrt R11 ) by L477 , L471 , L473 , L444;
L479: ( C166 .: C168 ) = ( {} ) by L476;
L480: C169 = ( {}. R9 ) by L479 , L474 , L60;
thus L481: thesis by L480 , L471 , L473 , L478 , L444;
end;
thus L482: thesis by L475 , L471 , L472 , L474 , L343;
end;
theorem
L483: (for B261 , B262 , B263 being non  empty set holds (for B264 being (BinOp of B261) holds ((B264 is  idempotent & B264 is  commutative & B264 is  associative & B264 is  having_a_unity) implies (for B265 being (Element of ( Fin B262 )) holds (for B266 being (Function of B262 , B263) holds (for B267 being (Function of B263 , B261) holds ( B264 $$ (( B266 .: B265 ) , B267) ) = ( B264 $$ (B265 , ( B267 * B266 )) )))))))
proof
let C170 , C171 , C172 being non  empty set;
let C173 being (BinOp of C170);
assume that
L484: C173 is  idempotent
and
L485: (C173 is  commutative & C173 is  associative)
and
L486: C173 is  having_a_unity;
let C174 being (Element of ( Fin C171 ));
let C175 being (Function of C171 , C172);
let C176 being (Function of C172 , C170);
L487:
now
assume L488: C174 = ( {} );
L489: ( C175 .: C174 ) = ( {}. C172 ) by L488;
L490: ( C173 $$ (( C175 .: C174 ) , C176) ) = ( the_unity_wrt C173 ) by L489 , L485 , L486 , L444;
L491: C174 = ( {}. C171 ) by L488;
thus L492: thesis by L491 , L485 , L486 , L490 , L444;
end;
thus L493: thesis by L487 , L484 , L485 , L413;
end;
theorem
L494: (for R9 being non  empty set holds (for R10 being non  empty set holds (for R11 being (BinOp of R10) holds ((R11 is  commutative & R11 is  associative & R11 is  idempotent & R11 is  having_a_unity) implies (for B268 being non  empty set holds (for B269 being (BinOp of B268) holds ((B269 is  commutative & B269 is  associative & B269 is  idempotent & B269 is  having_a_unity) implies (for B270 being (Function of R9 , R10) holds (for B271 being (Function of R10 , B268) holds ((( B271 . ( the_unity_wrt R11 ) ) = ( the_unity_wrt B269 ) & (for B272 , B273 being (Element of R10) holds ( B271 . ( R11 . (B272 , B273) ) ) = ( B269 . (( B271 . B272 ) , ( B271 . B273 )) ))) implies (for B274 being (Element of ( Fin R9 )) holds ( B271 . ( R11 $$ (B274 , B270) ) ) = ( B269 $$ (B274 , ( B271 * B270 )) ))))))))))))
proof
let R9 being non  empty set;
let R10 being non  empty set;
let R11 being (BinOp of R10);
assume that
L495: (R11 is  commutative & R11 is  associative)
and
L496: R11 is  idempotent
and
L497: R11 is  having_a_unity;
let C177 being non  empty set;
let C178 being (BinOp of C177);
assume that
L498: (C178 is  commutative & C178 is  associative)
and
L499: C178 is  idempotent
and
L500: C178 is  having_a_unity;
let C179 being (Function of R9 , R10);
let C180 being (Function of R10 , C177);
assume that
L501: ( C180 . ( the_unity_wrt R11 ) ) = ( the_unity_wrt C178 )
and
L502: (for B275 , B276 being (Element of R10) holds ( C180 . ( R11 . (B275 , B276) ) ) = ( C178 . (( C180 . B275 ) , ( C180 . B276 )) ));
let C181 being (Element of ( Fin R9 ));
per cases ;
suppose L503: C181 = ( {} );

L504: C181 = ( {}. R9 ) by L503;
thus L505: ( C180 . ( R11 $$ (C181 , C179) ) ) = ( C180 . ( the_unity_wrt R11 ) ) by L504 , L495 , L497 , L444
.= ( C178 $$ (C181 , ( C180 * C179 )) ) by L498 , L500 , L501 , L504 , L444;
end;
suppose L506: C181 <> ( {} );

thus L507: thesis by L506 , L495 , L496 , L498 , L499 , L502 , L428;
end;
end;
definition
let C182 being set;
func FinUnion C182 -> (BinOp of ( Fin C182 )) means 
:L509: (for B277 , B278 being (Element of ( Fin C182 )) holds ( it . (B277 , B278) ) = ( B277 \/ B278 ));
existence
proof
deffunc H1((Element of ( Fin C182 )) , (Element of ( Fin C182 ))) = ( $1 \/ $2 );
L510: (ex B279 being (BinOp of ( Fin C182 )) st (for B280 , B281 being (Element of ( Fin C182 )) holds ( B279 . (B280 , B281) ) = H1(B280 , B281))) from BINOP_1:sch 4;
thus L511: thesis by L510;
end;
uniqueness
proof
let C183 , C184 being (BinOp of ( Fin C182 ));
assume that
L512: (for B282 , B283 being (Element of ( Fin C182 )) holds ( C183 . (B282 , B283) ) = ( B282 \/ B283 ))
and
L513: (for B284 , B285 being (Element of ( Fin C182 )) holds ( C184 . (B284 , B285) ) = ( B284 \/ B285 ));
L514:
now
let C185 , C186 being (Element of ( Fin C182 ));
thus L515: ( C183 . (C185 , C186) ) = ( C185 \/ C186 ) by L512
.= ( C184 . (C185 , C186) ) by L513;
end;
thus L516: C183 = C184 by L514 , BINOP_1:2;
end;
end;
theorem
L518: (for R14 being set holds ( FinUnion R14 ) is  idempotent)
proof
let R14 being set;
let R15 being (Element of ( Fin R14 ));
thus L519: ( ( FinUnion R14 ) . (R15 , R15) ) = ( R15 \/ R15 ) by L509
.= R15;
end;
theorem
L520: (for R14 being set holds ( FinUnion R14 ) is  commutative)
proof
let R14 being set;
let R15 being (Element of ( Fin R14 ));
let R16 being (Element of ( Fin R14 ));
thus L521: ( ( FinUnion R14 ) . (R15 , R16) ) = ( R16 \/ R15 ) by L509
.= ( ( FinUnion R14 ) . (R16 , R15) ) by L509;
end;
theorem
L522: (for R14 being set holds ( FinUnion R14 ) is  associative)
proof
let R14 being set;
let R15 being (Element of ( Fin R14 ));
let R16 being (Element of ( Fin R14 ));
let R17 being (Element of ( Fin R14 ));
thus L523: ( ( FinUnion R14 ) . (( ( FinUnion R14 ) . (R15 , R16) ) , R17) ) = ( ( FinUnion R14 ) . (( R15 \/ R16 ) , R17) ) by L509
.= ( ( R15 \/ R16 ) \/ R17 ) by L509
.= ( R15 \/ ( R16 \/ R17 ) ) by XBOOLE_1:4
.= ( ( FinUnion R14 ) . (R15 , ( R16 \/ R17 )) ) by L509
.= ( ( FinUnion R14 ) . (R15 , ( ( FinUnion R14 ) . (R16 , R17) )) ) by L509;
end;
theorem
L524: (for R14 being set holds ( {}. R14 ) is_a_unity_wrt ( FinUnion R14 ))
proof
let R14 being set;
thus L525: (for R15 being (Element of ( Fin R14 )) holds ( ( FinUnion R14 ) . (( {}. R14 ) , R15) ) = R15)
proof
let R15 being (Element of ( Fin R14 ));
thus L526: ( ( FinUnion R14 ) . (( {}. R14 ) , R15) ) = ( ( {} ) \/ R15 ) by L509
.= R15;
end;

let R15 being (Element of ( Fin R14 ));
thus L527: ( ( FinUnion R14 ) . (R15 , ( {}. R14 )) ) = ( R15 \/ ( {} ) ) by L509
.= R15;
end;
theorem
L528: (for R14 being set holds ( FinUnion R14 ) is  having_a_unity)
proof
let R14 being set;
L529: ( {}. R14 ) is_a_unity_wrt ( FinUnion R14 ) by L524;
thus L530: thesis by L529 , L76;
end;
theorem
L531: (for R14 being set holds ( the_unity_wrt ( FinUnion R14 ) ) is_a_unity_wrt ( FinUnion R14 ))
proof
let R14 being set;
thus L532: thesis by L78 , L528;
end;
theorem
L533: (for R14 being set holds ( the_unity_wrt ( FinUnion R14 ) ) = ( {} ))
proof
let R14 being set;
L534: ( {}. R14 ) is_a_unity_wrt ( FinUnion R14 ) by L524;
thus L535: thesis by L534 , BINOP_1:def 8;
end;
definition
let C187 being non  empty set;
let C188 being set;
let C189 being (Element of ( Fin C187 ));
let C190 being (Function of C187 , ( Fin C188 ));
func FinUnion (C189 , C190) -> (Element of ( Fin C188 )) equals 
( ( FinUnion C188 ) $$ (C189 , C190) );
coherence;
end;
theorem
L537: (for R18 being non  empty set holds (for R20 being set holds (for R21 being (Function of R18 , ( Fin R20 )) holds (for R22 being (Element of R18) holds ( FinUnion ({. R22 .} , R21) ) = ( R21 . R22 )))))
proof
let R18 being non  empty set;
let R20 being set;
let R21 being (Function of R18 , ( Fin R20 ));
let R22 being (Element of R18);
L538: ( FinUnion R20 ) is  commutative by L520;
thus L539: thesis by L538 , L237 , L522;
end;
theorem
L540: (for R18 being non  empty set holds (for R20 being set holds (for R21 being (Function of R18 , ( Fin R20 )) holds (for R22 being (Element of R18) holds (for R23 being (Element of R18) holds ( FinUnion ({. R22 , R23 .} , R21) ) = ( ( R21 . R22 ) \/ ( R21 . R23 ) ))))))
proof
let R18 being non  empty set;
let R20 being set;
let R21 being (Function of R18 , ( Fin R20 ));
let R22 being (Element of R18);
let R23 being (Element of R18);
L541: (( FinUnion R20 ) is  idempotent & ( FinUnion R20 ) is  commutative) by L518 , L520;
thus L542: ( FinUnion ({. R22 , R23 .} , R21) ) = ( ( FinUnion R20 ) . (( R21 . R22 ) , ( R21 . R23 )) ) by L541 , L241 , L522
.= ( ( R21 . R22 ) \/ ( R21 . R23 ) ) by L509;
end;
theorem
L543: (for R18 being non  empty set holds (for R20 being set holds (for R21 being (Function of R18 , ( Fin R20 )) holds (for R22 being (Element of R18) holds (for R23 being (Element of R18) holds (for R24 being (Element of R18) holds ( FinUnion ({. R22 , R23 , R24 .} , R21) ) = ( ( ( R21 . R22 ) \/ ( R21 . R23 ) ) \/ ( R21 . R24 ) )))))))
proof
let R18 being non  empty set;
let R20 being set;
let R21 being (Function of R18 , ( Fin R20 ));
let R22 being (Element of R18);
let R23 being (Element of R18);
let R24 being (Element of R18);
L544: (( FinUnion R20 ) is  idempotent & ( FinUnion R20 ) is  commutative) by L518 , L520;
thus L545: ( FinUnion ({. R22 , R23 , R24 .} , R21) ) = ( ( FinUnion R20 ) . (( ( FinUnion R20 ) . (( R21 . R22 ) , ( R21 . R23 )) ) , ( R21 . R24 )) ) by L544 , L249 , L522
.= ( ( FinUnion R20 ) . (( ( R21 . R22 ) \/ ( R21 . R23 ) ) , ( R21 . R24 )) ) by L509
.= ( ( ( R21 . R22 ) \/ ( R21 . R23 ) ) \/ ( R21 . R24 ) ) by L509;
end;
theorem
L546: (for R18 being non  empty set holds (for R20 being set holds (for R21 being (Function of R18 , ( Fin R20 )) holds ( FinUnion (( {}. R18 ) , R21) ) = ( {} ))))
proof
let R18 being non  empty set;
let R20 being set;
let R21 being (Function of R18 , ( Fin R20 ));
L547: (( FinUnion R20 ) is  commutative & ( FinUnion R20 ) is  associative) by L520 , L522;
thus L548: ( FinUnion (( {}. R18 ) , R21) ) = ( the_unity_wrt ( FinUnion R20 ) ) by L547 , L444 , L528
.= ( {} ) by L533;
end;
theorem
L549: (for R18 being non  empty set holds (for R20 being set holds (for R21 being (Function of R18 , ( Fin R20 )) holds (for R22 being (Element of R18) holds (for B286 being (Element of ( Fin R18 )) holds ( FinUnion (( B286 \/ {. R22 .} ) , R21) ) = ( ( FinUnion (B286 , R21) ) \/ ( R21 . R22 ) ))))))
proof
let R18 being non  empty set;
let R20 being set;
let R21 being (Function of R18 , ( Fin R20 ));
let R22 being (Element of R18);
let C191 being (Element of ( Fin R18 ));
L550: ( FinUnion R20 ) is  associative by L522;
L551: (( FinUnion R20 ) is  idempotent & ( FinUnion R20 ) is  commutative) by L518 , L520;
thus L552: ( FinUnion (( C191 \/ {. R22 .} ) , R21) ) = ( ( FinUnion R20 ) . (( FinUnion (C191 , R21) ) , ( R21 . R22 )) ) by L551 , L550 , L448 , L528
.= ( ( FinUnion (C191 , R21) ) \/ ( R21 . R22 ) ) by L509;
end;
theorem
L553: (for R18 being non  empty set holds (for R20 being set holds (for R21 being (Function of R18 , ( Fin R20 )) holds (for B287 being (Element of ( Fin R18 )) holds ( FinUnion (B287 , R21) ) = ( union ( R21 .: B287 ) )))))
proof
let R18 being non  empty set;
let R20 being set;
let R21 being (Function of R18 , ( Fin R20 ));
defpred S17[ (Element of ( Fin R18 )) ] means ( FinUnion ($1 , R21) ) = ( union ( R21 .: $1 ) );
L554: (for B288 being (Element of ( Fin R18 )) holds (for R22 being (Element of R18) holds (S17[ B288 ] implies S17[ ( B288 \/ {. R22 .} ) ])))
proof
let C192 being (Element of ( Fin R18 ));
let R22 being (Element of R18);
assume L555: ( FinUnion (C192 , R21) ) = ( union ( R21 .: C192 ) );
thus L556: ( FinUnion (( C192 \/ {. R22 .} ) , R21) ) = ( ( union ( R21 .: C192 ) ) \/ ( R21 . R22 ) ) by L555 , L549
.= ( ( union ( R21 .: C192 ) ) \/ ( union { ( R21 . R22 ) } ) ) by ZFMISC_1:25
.= ( union ( ( R21 .: C192 ) \/ { ( R21 . R22 ) } ) ) by ZFMISC_1:78
.= ( union ( ( R21 .: C192 ) \/ ( Im (R21 , R22) ) ) ) by L30
.= ( union ( R21 .: ( C192 \/ { R22 } ) ) ) by RELAT_1:120;
end;
L557: ( FinUnion (( {}. R18 ) , R21) ) = ( union ( R21 .: ( {}. R18 ) ) ) by L546 , ZFMISC_1:2;
L558: S17[ ( {}. R18 ) ] by L557;
thus L559: (for B289 being (Element of ( Fin R18 )) holds S17[ B289 ]) from FinSubInd3(L558 , L554);
end;
theorem
L560: (for R18 being non  empty set holds (for R20 being set holds (for R21 being (Function of R18 , ( Fin R20 )) holds (for B290 , B291 being (Element of ( Fin R18 )) holds ( FinUnion (( B290 \/ B291 ) , R21) ) = ( ( FinUnion (B290 , R21) ) \/ ( FinUnion (B291 , R21) ) )))))
proof
let R18 being non  empty set;
let R20 being set;
let R21 being (Function of R18 , ( Fin R20 ));
let C193 , C194 being (Element of ( Fin R18 ));
thus L561: ( FinUnion (( C193 \/ C194 ) , R21) ) = ( union ( R21 .: ( C193 \/ C194 ) ) ) by L553
.= ( union ( ( R21 .: C193 ) \/ ( R21 .: C194 ) ) ) by RELAT_1:120
.= ( ( union ( R21 .: C193 ) ) \/ ( union ( R21 .: C194 ) ) ) by ZFMISC_1:78
.= ( ( FinUnion (C193 , R21) ) \/ ( union ( R21 .: C194 ) ) ) by L553
.= ( ( FinUnion (C193 , R21) ) \/ ( FinUnion (C194 , R21) ) ) by L553;
end;
theorem
L562: (for R18 being non  empty set holds (for R19 being non  empty set holds (for R20 being set holds (for B292 being (Element of ( Fin R18 )) holds (for B293 being (Function of R18 , R19) holds (for B294 being (Function of R19 , ( Fin R20 )) holds ( FinUnion (( B293 .: B292 ) , B294) ) = ( FinUnion (B292 , ( B294 * B293 )) )))))))
proof
let R18 being non  empty set;
let R19 being non  empty set;
let R20 being set;
let C195 being (Element of ( Fin R18 ));
let C196 being (Function of R18 , R19);
let C197 being (Function of R19 , ( Fin R20 ));
thus L563: ( FinUnion (( C196 .: C195 ) , C197) ) = ( union ( C197 .: ( C196 .: C195 ) ) ) by L553
.= ( union ( ( C197 * C196 ) .: C195 ) ) by RELAT_1:126
.= ( FinUnion (C195 , ( C197 * C196 )) ) by L553;
end;
theorem
L564: (for B295 , B296 being non  empty set holds (for B297 being set holds (for B298 being (BinOp of B295) holds ((B298 is  commutative & B298 is  associative & B298 is  idempotent) implies (for B299 being (Element of ( Fin B296 )) holds (B299 <> ( {} ) implies (for B300 being (Function of B296 , ( Fin B297 )) holds (for B301 being (Function of ( Fin B297 ) , B295) holds ((for B302 , B303 being (Element of ( Fin B297 )) holds ( B301 . ( B302 \/ B303 ) ) = ( B298 . (( B301 . B302 ) , ( B301 . B303 )) )) implies ( B301 . ( FinUnion (B299 , B300) ) ) = ( B298 $$ (B299 , ( B301 * B300 )) ))))))))))
proof
let C198 , C199 being non  empty set;
let C200 being set;
let C201 being (BinOp of C198);
assume that
L565: (C201 is  commutative & C201 is  associative & C201 is  idempotent);
let C202 being (Element of ( Fin C199 ));
assume that
L566: C202 <> ( {} );
let C203 being (Function of C199 , ( Fin C200 ));
let C204 being (Function of ( Fin C200 ) , C198);
assume that
L567: (for B304 , B305 being (Element of ( Fin C200 )) holds ( C204 . ( B304 \/ B305 ) ) = ( C201 . (( C204 . B304 ) , ( C204 . B305 )) ));
L568:
now
let C205 , C206 being (Element of ( Fin C200 ));
thus L569: ( C204 . ( ( FinUnion C200 ) . (C205 , C206) ) ) = ( C204 . ( C205 \/ C206 ) ) by L509
.= ( C201 . (( C204 . C205 ) , ( C204 . C206 )) ) by L567;
end;
L570: ( FinUnion C200 ) is  idempotent by L518;
L571: (( FinUnion C200 ) is  commutative & ( FinUnion C200 ) is  associative) by L520 , L522;
thus L572: thesis by L571 , L565 , L570 , L566 , L568 , L428;
end;
theorem
L573: (for R18 being non  empty set holds (for B306 being non  empty set holds (for B307 being set holds (for B308 being (BinOp of B306) holds ((B308 is  commutative & B308 is  associative & B308 is  idempotent & B308 is  having_a_unity) implies (for B309 being (Function of R18 , ( Fin B307 )) holds (for B310 being (Function of ( Fin B307 ) , B306) holds ((( B310 . ( {}. B307 ) ) = ( the_unity_wrt B308 ) & (for B311 , B312 being (Element of ( Fin B307 )) holds ( B310 . ( B311 \/ B312 ) ) = ( B308 . (( B310 . B311 ) , ( B310 . B312 )) ))) implies (for B313 being (Element of ( Fin R18 )) holds ( B310 . ( FinUnion (B313 , B309) ) ) = ( B308 $$ (B313 , ( B310 * B309 )) ))))))))))
proof
let R18 being non  empty set;
let C207 being non  empty set;
let C208 being set;
let C209 being (BinOp of C207);
assume that
L574: (C209 is  commutative & C209 is  associative)
and
L575: C209 is  idempotent
and
L576: C209 is  having_a_unity;
let C210 being (Function of R18 , ( Fin C208 ));
let C211 being (Function of ( Fin C208 ) , C207);
assume that
L577: ( C211 . ( {}. C208 ) ) = ( the_unity_wrt C209 )
and
L578: (for B314 , B315 being (Element of ( Fin C208 )) holds ( C211 . ( B314 \/ B315 ) ) = ( C209 . (( C211 . B314 ) , ( C211 . B315 )) ));
let C212 being (Element of ( Fin R18 ));
L579: ( {} ) = ( {}. R18 );
L580: ( {} ) = ( {}. ( Fin C208 ) );
per cases ;
suppose L581: C212 = ( {} );

L582: ( C210 .: C212 ) = ( {} ) by L581;
thus L583: ( C211 . ( FinUnion (C212 , C210) ) ) = ( C211 . ( {}. C208 ) ) by L579 , L581 , L546
.= ( C209 $$ (( C210 .: C212 ) , C211) ) by L574 , L576 , L577 , L580 , L582 , L444
.= ( C209 $$ (C212 , ( C211 * C210 )) ) by L574 , L575 , L576 , L483;
end;
suppose L584: C212 <> ( {} );

thus L585: thesis by L584 , L574 , L575 , L578 , L564;
end;
end;
definition
let C213 being set;
func singleton C213 -> (Function of C213 , ( Fin C213 )) means 
:L587: (for B316 being set holds (B316 in C213 implies ( it . B316 ) = { B316 }));
existence
proof
deffunc H2(set) = { $1 };
L588:
now
let C214 being set;
assume L589: C214 in C213;
reconsider D23 = C213 as non  empty set by L589;
reconsider D24 = C214 as (Element of D23) by L589;
L590: {. D24 .} in ( Fin D23 );
thus L591: H2(C214) in ( Fin C213 ) by L590;
end;
thus L592: (ex B317 being (Function of C213 , ( Fin C213 )) st (for B318 being set holds (B318 in C213 implies ( B317 . B318 ) = H2(B318)))) from FUNCT_2:sch 2(L588);
end;
uniqueness
proof
let C215 , C216 being (Function of C213 , ( Fin C213 ));
assume that
L593: (for B319 being set holds (B319 in C213 implies ( C215 . B319 ) = { B319 }))
and
L594: (for B320 being set holds (B320 in C213 implies ( C216 . B320 ) = { B320 }));
L595:
now
let C217 being set;
assume L596: C217 in C213;
L597: ( C215 . C217 ) = { C217 } by L596 , L593;
thus L598: ( C215 . C217 ) = ( C216 . C217 ) by L597 , L594 , L596;
end;
thus L599: thesis by L595 , FUNCT_2:12;
end;
end;
theorem
L601: (for B321 being non  empty set holds (for B322 being (Function of B321 , ( Fin B321 )) holds (B322 = ( singleton B321 ) iff (for B323 being (Element of B321) holds ( B322 . B323 ) = { B323 }))))
proof
let C218 being non  empty set;
let C219 being (Function of C218 , ( Fin C218 ));
thus L602: (C219 = ( singleton C218 ) implies (for B324 being (Element of C218) holds ( C219 . B324 ) = { B324 })) by L587;
assume L603: (for B325 being (Element of C218) holds ( C219 . B325 ) = { B325 });
L604: (for B326 being set holds (B326 in C218 implies ( C219 . B326 ) = { B326 })) by L603;
thus L605: thesis by L604 , L587;
end;
theorem
L606: (for R18 being non  empty set holds (for B327 being set holds (for B328 being (Element of R18) holds (B327 in ( ( singleton R18 ) . B328 ) iff B327 = B328))))
proof
let R18 being non  empty set;
let C220 being set;
let C221 being (Element of R18);
L607: ( ( singleton R18 ) . C221 ) = { C221 } by L601;
thus L608: thesis by L607 , TARSKI:def 1;
end;
theorem
L609: (for R18 being non  empty set holds (for B329 , B330 , B331 being (Element of R18) holds ((B329 in ( ( singleton R18 ) . B331 ) & B330 in ( ( singleton R18 ) . B331 )) implies B329 = B330)))
proof
let R18 being non  empty set;
let C222 , C223 , C224 being (Element of R18);
assume that
L610: C222 in ( ( singleton R18 ) . C224 )
and
L611: C223 in ( ( singleton R18 ) . C224 );
L612: C222 = C224 by L610 , L606;
thus L613: thesis by L612 , L611 , L606;
end;
L614: (for B332 being non  empty set holds (for B333 , B334 being set holds (for B335 being (Function of B333 , B332) holds ( B335 .: B334 ) c= B332)));
theorem
L615: (for R18 being non  empty set holds (for R20 being set holds (for R21 being (Function of R18 , ( Fin R20 )) holds (for B336 being (Element of ( Fin R18 )) holds (for B337 being set holds (B337 in ( FinUnion (B336 , R21) ) iff (ex B338 being (Element of R18) st (B338 in B336 & B337 in ( R21 . B338 )))))))))
proof
let R18 being non  empty set;
let R20 being set;
let R21 being (Function of R18 , ( Fin R20 ));
let C225 being (Element of ( Fin R18 ));
let C226 being set;
L616:
now
assume L617: C226 in ( union ( R21 .: C225 ) );
consider C227 being set such that L618: C226 in C227 and L619: C227 in ( R21 .: C225 ) by L617 , TARSKI:def 4;
L620: ( R21 .: C225 ) is (Subset of ( Fin R20 )) by L614;
reconsider D25 = C227 as (Element of ( Fin R20 )) by L620 , L619;
consider C228 being (Element of R18) such that L621: (C228 in C225 & D25 = ( R21 . C228 )) by L619 , FUNCT_2:65;
take D26 = C228;
thus L622: (D26 in C225 & C226 in ( R21 . D26 )) by L618 , L621;
end;
L623:
now
given C229 being (Element of R18) such that
L624: C229 in C225
and
L625: C226 in ( R21 . C229 );

L626: ( R21 . C229 ) in ( R21 .: C225 ) by L624 , FUNCT_2:35;
thus L627: C226 in ( union ( R21 .: C225 ) ) by L626 , L625 , TARSKI:def 4;
end;
thus L628: thesis by L623 , L616 , L553;
end;
theorem
L629: (for R18 being non  empty set holds (for B339 being (Element of ( Fin R18 )) holds ( FinUnion (B339 , ( singleton R18 )) ) = B339))
proof
let R18 being non  empty set;
let C230 being (Element of ( Fin R18 ));
L630:
now
let C231 being set;
thus L631: (C231 in ( FinUnion (C230 , ( singleton R18 )) ) implies C231 in C230)
proof
assume L632: C231 in ( FinUnion (C230 , ( singleton R18 )) );
L633: (ex B340 being (Element of R18) st (B340 in C230 & C231 in ( ( singleton R18 ) . B340 ))) by L632 , L615;
thus L634: thesis by L633 , L606;
end;

assume L635: C231 in C230;
reconsider D27 = C231 as (Element of R18) by L635 , L39;
L636: C231 in ( ( singleton R18 ) . D27 ) by L606;
thus L637: C231 in ( FinUnion (C230 , ( singleton R18 )) ) by L636 , L635 , L615;
end;
thus L638: thesis by L630 , TARSKI:1;
end;
theorem
L639: (for R18 being non  empty set holds (for B341 , B342 being set holds (for B343 being (Function of R18 , ( Fin B341 )) holds (for B344 being (Function of ( Fin B341 ) , ( Fin B342 )) holds ((( B344 . ( {}. B341 ) ) = ( {}. B342 ) & (for B345 , B346 being (Element of ( Fin B341 )) holds ( B344 . ( B345 \/ B346 ) ) = ( ( B344 . B345 ) \/ ( B344 . B346 ) ))) implies (for B347 being (Element of ( Fin R18 )) holds ( B344 . ( FinUnion (B347 , B343) ) ) = ( FinUnion (B347 , ( B344 * B343 )) )))))))
proof
let R18 being non  empty set;
let C232 , C233 being set;
let C234 being (Function of R18 , ( Fin C232 ));
let C235 being (Function of ( Fin C232 ) , ( Fin C233 ));
assume that
L640: ( C235 . ( {}. C232 ) ) = ( {}. C233 )
and
L641: (for B348 , B349 being (Element of ( Fin C232 )) holds ( C235 . ( B348 \/ B349 ) ) = ( ( C235 . B348 ) \/ ( C235 . B349 ) ));
L642: ( C235 . ( {}. C232 ) ) = ( the_unity_wrt ( FinUnion C233 ) ) by L640 , L533;
L643:
now
let C236 , C237 being (Element of ( Fin C232 ));
thus L644: ( C235 . ( C236 \/ C237 ) ) = ( ( C235 . C236 ) \/ ( C235 . C237 ) ) by L641
.= ( ( FinUnion C233 ) . (( C235 . C236 ) , ( C235 . C237 )) ) by L509;
end;
let C238 being (Element of ( Fin R18 ));
L645: ( FinUnion C233 ) is  idempotent by L518;
L646: (( FinUnion C233 ) is  associative & ( FinUnion C233 ) is  commutative) by L520 , L522;
thus L647: thesis by L646 , L645 , L642 , L643 , L528 , L573;
end;
