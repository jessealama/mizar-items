:: Prime Ideals and Filters
::  by Grzegorz Bancerek
::
:: Received December 1, 1996
:: Copyright (c) 1996-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies REWRITE1, WAYBEL_0, TARSKI, EQREL_1, XXREAL_0, LATTICES,
      YELLOW_0, STRUCT_0, YELLOW_1, ZFMISC_1, ORDERS_2, WELLORD2, XXREAL_2,
      RELAT_2, XBOOLE_0, SUBSET_1, CARD_FIL, XBOOLEAN, FINSET_1, SETFAM_1,
      ORDINAL2, LATTICE3, INT_2, ARYTM_0, RELAT_1, WAYBEL_6, METRIC_1,
      ORDINAL1, PRE_TOPC, RCOMP_1, WAYBEL_3, FUNCT_1, CANTOR_1, RLVECT_3,
      MSSUBFAM, WAYBEL_4, CAT_1, MCART_1, WAYBEL_7;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, SETFAM_1, RELAT_1, RELSET_1,
      FUNCT_1, FINSET_1, FUNCT_2, DOMAIN_1, STRUCT_0, PRE_TOPC, TOPS_2,
      CANTOR_1, ORDINAL1, ORDERS_2, LATTICE3, ALG_1, YELLOW_0, WAYBEL_0,
      YELLOW_1, WAYBEL_1, YELLOW_3, WAYBEL_3, YELLOW_7, WAYBEL_6, WAYBEL_4;
 constructors SETFAM_1, DOMAIN_1, TOPS_2, TEX_2, CANTOR_1, WAYBEL_1, YELLOW_3,
      YELLOW_4, WAYBEL_3, WAYBEL_4, WAYBEL_6;
 registrations XBOOLE_0, SUBSET_1, FINSET_1, STRUCT_0, PRE_TOPC, LATTICE3,
      YELLOW_0, WAYBEL_0, YELLOW_1, YELLOW_2, WAYBEL_1, YELLOW_3, WAYBEL_3,
      WAYBEL_4, YELLOW_7, WAYBEL_6, RELAT_1;
 requirements SUBSET, BOOLE;
 definitions TARSKI, YELLOW_0, WAYBEL_0, PRE_TOPC, TOPS_2, WAYBEL_1, WAYBEL_3,
      WAYBEL_6, XBOOLE_0, SUBSET_1, STRUCT_0;
 theorems TARSKI, ZFMISC_1, SUBSET_1, CANTOR_1, TOPS_2, SETFAM_1, ORDERS_2,
      YELLOW_0, WAYBEL_0, ORDERS_1, YELLOW_2, WAYBEL_1, YELLOW_1, WAYBEL_3,
      FINSET_1, PRE_TOPC, FUNCT_1, LATTICE3, WAYBEL_6, YELLOW_7, WAYBEL_5,
      WAYBEL_4, YELLOW_3, MCART_1, FUNCT_5, YELLOW_5, ORDINAL1, XBOOLE_0,
      XBOOLE_1, STRUCT_0;
 schemes FUNCT_1, FINSET_1;

begin
theorem
L1: (for B1 being  complete LATTICE holds (for B2 , B3 being set holds (B2 c= B3 implies (( "\/" (B2 , B1) ) <= ( "\/" (B3 , B1) ) & ( "/\" (B2 , B1) ) >= ( "/\" (B3 , B1) )))))
proof
let C1 being  complete LATTICE;
let C2 , C3 being set;
L2: ( ex_inf_of C2 , C1 &  ex_inf_of C3 , C1) by YELLOW_0:17;
L3: ( ex_sup_of C2 , C1 &  ex_sup_of C3 , C1) by YELLOW_0:17;
thus L4: thesis by L3 , L2 , YELLOW_0:34 , YELLOW_0:35;
end;
theorem
L5: (for B4 being set holds (the carrier of ( BoolePoset B4 )) = ( bool B4 ))
proof
let C4 being set;
set D1 = ( BoolePoset C4 );
L6: D1 = ( InclPoset ( bool C4 ) ) by YELLOW_1:4;
L7: D1 = RelStr (# ( bool C4 ) , ( RelIncl ( bool C4 ) ) #) by L6 , YELLOW_1:def 1;
thus L8: thesis by L7;
end;
theorem
L9: (for B5 being  bounded  antisymmetric non  empty RelStr holds (B5 is  trivial iff ( Top B5 ) = ( Bottom B5 )))
proof
let C5 being  bounded  antisymmetric non  empty RelStr;
thus L10: (C5 is  trivial implies ( Top C5 ) = ( Bottom C5 )) by STRUCT_0:def 10;
assume L11: ( Top C5 ) = ( Bottom C5 );
let C6 , C7 being (Element of C5);
reconsider D2 = C6 , D3 = C7 as (Element of C5);
L12: (D2 >= ( Bottom C5 ) & D2 <= ( Bottom C5 )) by L11 , YELLOW_0:44 , YELLOW_0:45;
L13: D2 = ( Bottom C5 ) by L12 , ORDERS_2:2;
L14: (D3 >= ( Bottom C5 ) & D3 <= ( Bottom C5 )) by L11 , YELLOW_0:44 , YELLOW_0:45;
thus L15: thesis by L14 , L13 , ORDERS_2:2;
end;
registration
let C8 being set;
cluster ( BoolePoset C8 ) ->  Boolean;
coherence;
end;
registration
let C9 being non  empty set;
cluster ( BoolePoset C9 ) -> non  trivial;
coherence
proof
L17: (( Top ( BoolePoset C9 ) ) = C9 & ( Bottom ( BoolePoset C9 ) ) = ( {} )) by YELLOW_1:18 , YELLOW_1:19;
thus L18: thesis by L17 , L9;
end;
end;
theorem
L20: (for B6 being  lower-bounded non  empty Poset holds (for B7 being (Filter of B6) holds (B7 is  proper iff (not ( Bottom B6 ) in B7))))
proof
let C10 being  lower-bounded non  empty Poset;
let C11 being (Filter of C10);
thus L21:now
assume L22: C11 is  proper;
L23: C11 <> (the carrier of C10) by L22 , SUBSET_1:def 6;
consider C12 being set such that L24: (not (C12 in C11 iff C12 in (the carrier of C10))) by L23 , TARSKI:1;
reconsider D4 = C12 as (Element of C10) by L24;
L25: D4 >= ( Bottom C10 ) by YELLOW_0:44;
thus L26: (not ( Bottom C10 ) in C11) by L25 , L24 , WAYBEL_0:def 20;
end;
assume L27: (not ( Bottom C10 ) in C11);
L28: C11 <> (the carrier of C10) by L27;
thus L29: thesis by L28 , SUBSET_1:def 6;
end;
registration
cluster non  trivial  Boolean  strict for LATTICE;
existence
proof
take ( BoolePoset { ( {} ) } );
thus L30: thesis;
end;
end;
registration
let C13 being  upper-bounded non  trivial Poset;
cluster  proper for (Filter of C13);
existence
proof
take D5 = ( uparrow ( Top C13 ) );
assume L32: (not D5 is  proper);
L33: D5 = (the carrier of C13) by L32 , SUBSET_1:def 6;
L34:
now
let C14 , C15 being (Element of C13);
L35: D5 = { ( Top C13 ) } by WAYBEL_4:24;
L36: C14 = ( Top C13 ) by L35 , L33 , TARSKI:def 1;
thus L37: C14 = C15 by L36 , L33 , L35 , TARSKI:def 1;
end;
thus L38: thesis by L34 , STRUCT_0:def 10;
end;
end;
theorem
L40: (for B8 being set holds (for B9 being (Element of ( BoolePoset B8 )) holds ( 'not' B9 ) = ( B8 \ B9 )))
proof
let C16 being set;
let C17 being (Element of ( BoolePoset C16 ));
L41: (the carrier of ( BoolePoset C16 )) = ( bool C16 ) by L5;
reconsider D6 = ( C16 \ C17 ) as (Element of ( BoolePoset C16 )) by L5;
L42: C17 misses D6 by XBOOLE_1:79;
L43: ( C17 "/\" D6 ) = ( C17 /\ D6 ) by YELLOW_1:17
.= ( {} ) by L42 , XBOOLE_0:def 7
.= ( Bottom ( BoolePoset C16 ) ) by YELLOW_1:18;
L44: ( C17 "\/" D6 ) = ( C17 \/ D6 ) by YELLOW_1:17
.= C16 by L41 , XBOOLE_1:45
.= ( Top ( BoolePoset C16 ) ) by YELLOW_1:19;
L45: D6 is_a_complement_of C17 by L44 , L43 , WAYBEL_1:def 23;
thus L46: thesis by L45 , YELLOW_5:11;
end;
theorem
L47: (for B10 being set holds (for B11 being (Subset of ( BoolePoset B10 )) holds (B11 is  lower iff (for B12 , B13 being set holds ((B12 c= B13 & B13 in B11) implies B12 in B11)))))
proof
let C18 being set;
let C19 being (Subset of ( BoolePoset C18 ));
L48: (the carrier of ( BoolePoset C18 )) = ( bool C18 ) by L5;
thus L49:now
assume L50: C19 is  lower;
let C20 , C21 being set;
assume that
L51: C20 c= C21
and
L52: C21 in C19;
reconsider D7 = C20 , D8 = C21 as (Element of ( BoolePoset C18 )) by L48 , L51 , L52 , XBOOLE_1:1;
L53: D7 <= D8 by L51 , YELLOW_1:2;
thus L54: C20 in C19 by L53 , L50 , L52 , WAYBEL_0:def 19;
end;
assume L55: (for B14 , B15 being set holds ((B14 c= B15 & B15 in C19) implies B14 in C19));
let C22 , C23 being (Element of ( BoolePoset C18 ));
assume that
L56: C22 in C19
and
L57: C23 <= C22;
L58: C23 c= C22 by L57 , YELLOW_1:2;
thus L59: thesis by L58 , L55 , L56;
end;
theorem
L60: (for B16 being set holds (for B17 being (Subset of ( BoolePoset B16 )) holds (B17 is  upper iff (for B18 , B19 being set holds ((B18 c= B19 & B19 c= B16 & B18 in B17) implies B19 in B17)))))
proof
let C24 being set;
let C25 being (Subset of ( BoolePoset C24 ));
L61: (the carrier of ( BoolePoset C24 )) = ( bool C24 ) by L5;
thus L62:now
assume L63: C25 is  upper;
let C26 , C27 being set;
assume that
L64: C26 c= C27
and
L65: C27 c= C24
and
L66: C26 in C25;
reconsider D9 = C26 , D10 = C27 as (Element of ( BoolePoset C24 )) by L65 , L66 , L5;
L67: D9 <= D10 by L64 , YELLOW_1:2;
thus L68: C27 in C25 by L67 , L63 , L66 , WAYBEL_0:def 20;
end;
assume L69: (for B20 , B21 being set holds ((B20 c= B21 & B21 c= C24 & B20 in C25) implies B21 in C25));
let C28 , C29 being (Element of ( BoolePoset C24 ));
assume that
L70: C28 in C25
and
L71: C29 >= C28;
L72: C28 c= C29 by L71 , YELLOW_1:2;
thus L73: thesis by L72 , L61 , L69 , L70;
end;
theorem
L74: (for B22 being set holds (for B23 being  lower (Subset of ( BoolePoset B22 )) holds (B23 is  directed iff (for B24 , B25 being set holds ((B24 in B23 & B25 in B23) implies ( B24 \/ B25 ) in B23)))))
proof
let C30 being set;
let C31 being  lower (Subset of ( BoolePoset C30 ));
thus L75:now
assume L76: C31 is  directed;
let C32 , C33 being set;
assume L77: (C32 in C31 & C33 in C31);
reconsider D11 = C32 , D12 = C33 as (Element of ( BoolePoset C30 )) by L77;
L78: ( D11 "\/" D12 ) in C31 by L76 , L77 , WAYBEL_0:40;
thus L79: ( C32 \/ C33 ) in C31 by L78 , YELLOW_1:17;
end;
assume L80: (for B26 , B27 being set holds ((B26 in C31 & B27 in C31) implies ( B26 \/ B27 ) in C31));
L81:
now
let C34 , C35 being (Element of ( BoolePoset C30 ));
assume L82: (C34 in C31 & C35 in C31);
L83: ( C34 \/ C35 ) in C31 by L82 , L80;
thus L84: ( C34 "\/" C35 ) in C31 by L83 , YELLOW_1:17;
end;
thus L85: thesis by L81 , WAYBEL_0:40;
end;
theorem
L86: (for B28 being set holds (for B29 being  upper (Subset of ( BoolePoset B28 )) holds (B29 is  filtered iff (for B30 , B31 being set holds ((B30 in B29 & B31 in B29) implies ( B30 /\ B31 ) in B29)))))
proof
let C36 being set;
let C37 being  upper (Subset of ( BoolePoset C36 ));
thus L87:now
assume L88: C37 is  filtered;
let C38 , C39 being set;
assume L89: (C38 in C37 & C39 in C37);
reconsider D13 = C38 , D14 = C39 as (Element of ( BoolePoset C36 )) by L89;
L90: ( D13 "/\" D14 ) in C37 by L88 , L89 , WAYBEL_0:41;
thus L91: ( C38 /\ C39 ) in C37 by L90 , YELLOW_1:17;
end;
assume L92: (for B32 , B33 being set holds ((B32 in C37 & B33 in C37) implies ( B32 /\ B33 ) in C37));
L93:
now
let C40 , C41 being (Element of ( BoolePoset C36 ));
assume L94: (C40 in C37 & C41 in C37);
L95: ( C40 /\ C41 ) in C37 by L94 , L92;
thus L96: ( C40 "/\" C41 ) in C37 by L95 , YELLOW_1:17;
end;
thus L97: thesis by L93 , WAYBEL_0:41;
end;
theorem
L98: (for B34 being set holds (for B35 being non  empty  lower (Subset of ( BoolePoset B34 )) holds (B35 is  directed iff (for B36 being  finite (Subset-Family of B34) holds (B36 c= B35 implies ( union B36 ) in B35)))))
proof
let C42 being set;
let C43 being non  empty  lower (Subset of ( BoolePoset C42 ));
thus L99:now
assume L100: C43 is  directed;
let C44 being  finite (Subset-Family of C42);
reconsider D15 = C44 as (Subset of ( BoolePoset C42 )) by L5;
assume L101: C44 c= C43;
reconsider D16 = C44 as  finite (Subset of C43) by L101;
L102: (D16 <> ( {} ) implies ( sup D15 ) in C43) by L100 , WAYBEL_0:42;
L103: ( Bottom ( BoolePoset C42 ) ) in C43 by L100 , WAYBEL_4:21;
thus L104: ( union C44 ) in C43 by L103 , L102 , YELLOW_1:18 , YELLOW_1:21 , ZFMISC_1:2;
end;
assume L105: (for B37 being  finite (Subset-Family of C42) holds (B37 c= C43 implies ( union B37 ) in C43));
L106: (the carrier of ( BoolePoset C42 )) = ( bool C42 ) by L5;
L107:
now
let C45 being  finite (Subset of C43);
reconsider D17 = C45 as  finite (Subset-Family of C42) by L106 , XBOOLE_1:1;
assume L108: C45 <> ( {} );
reconsider D18 = D17 as  finite (Subset-Family of C42);
L109: C45 c= (the carrier of ( BoolePoset C42 )) by XBOOLE_1:1;
L110: ( union D18 ) = ( "\/" (C45 , ( BoolePoset C42 )) ) by L109 , YELLOW_1:21;
thus L111: ( "\/" (C45 , ( BoolePoset C42 )) ) in C43 by L110 , L105;
end;
thus L112: thesis by L107 , WAYBEL_0:42;
end;
theorem
L113: (for B38 being set holds (for B39 being non  empty  upper (Subset of ( BoolePoset B38 )) holds (B39 is  filtered iff (for B40 being  finite (Subset-Family of B38) holds (B40 c= B39 implies ( Intersect B40 ) in B39)))))
proof
let C46 being set;
let C47 being non  empty  upper (Subset of ( BoolePoset C46 ));
thus L114:now
assume L115: C47 is  filtered;
L116: ( Top ( BoolePoset C46 ) ) in C47 by L115 , WAYBEL_4:22;
L117: C46 in C47 by L116 , YELLOW_1:19;
let C48 being  finite (Subset-Family of C46);
reconsider D19 = C48 as (Subset of ( BoolePoset C46 )) by L5;
assume L118: C48 c= C47;
reconsider D20 = C48 as  finite (Subset of C47) by L118;
L119: (D20 <> ( {} ) implies (( inf D19 ) in C47 & ( inf D19 ) = ( meet D19 ))) by L115 , WAYBEL_0:43 , YELLOW_1:20;
thus L120: ( Intersect C48 ) in C47 by L119 , L117 , SETFAM_1:def 9;
end;
assume L121: (for B41 being  finite (Subset-Family of C46) holds (B41 c= C47 implies ( Intersect B41 ) in C47));
L122: (the carrier of ( BoolePoset C46 )) = ( bool C46 ) by L5;
L123:
now
let C49 being  finite (Subset of C47);
reconsider D21 = C49 as  finite (Subset-Family of C46) by L122 , XBOOLE_1:1;
assume L124: C49 <> ( {} );
reconsider D22 = D21 as  finite (Subset-Family of C46);
L125: C49 c= (the carrier of ( BoolePoset C46 )) by XBOOLE_1:1;
L126: ( "/\" (C49 , ( BoolePoset C46 )) ) = ( meet D22 ) by L125 , L124 , YELLOW_1:20
.= ( Intersect D22 ) by L124 , SETFAM_1:def 9;
thus L127: ( "/\" (C49 , ( BoolePoset C46 )) ) in C47 by L126 , L121;
end;
thus L128: thesis by L123 , WAYBEL_0:43;
end;
begin
definition
let C50 being  with_infima Poset;
let C51 being (Ideal of C50);
attr C51 is  prime
means
:L129: (for B42 , B43 being (Element of C50) holds (( B42 "/\" B43 ) in C51 implies (B42 in C51 or B43 in C51)));
end;
theorem
L131: (for B44 being  with_infima Poset holds (for B45 being (Ideal of B44) holds (B45 is  prime iff (for B46 being  finite non  empty (Subset of B44) holds (( inf B46 ) in B45 implies (ex B47 being (Element of B44) st (B47 in B46 & B47 in B45)))))))
proof
let C52 being  with_infima Poset;
let C53 being (Ideal of C52);
thus L132: (C53 is  prime implies (for B48 being  finite non  empty (Subset of C52) holds (( inf B48 ) in C53 implies (ex B49 being (Element of C52) st (B49 in B48 & B49 in C53)))))
proof
defpred S1[ set ] means (($1 is non  empty & ( "/\" ($1 , C52) ) in C53) implies (ex B50 being (Element of C52) st (B50 in $1 & B50 in C53)));
assume L133: (for B51 , B52 being (Element of C52) holds (( B51 "/\" B52 ) in C53 implies (B51 in C53 or B52 in C53)));
let C54 being  finite non  empty (Subset of C52);
L134:
now
let C55 , C56 being set;
assume that
L135: C55 in C54
and
L136: C56 c= C54
and
L137: S1[ C56 ];
thus L138: S1[ ( C56 \/ { C55 } ) ]
proof
reconsider D23 = C55 as (Element of C52) by L135;
reconsider D24 = C56 as  finite (Subset of C52) by L136 , XBOOLE_1:1;
assume that
L139: ( C56 \/ { C55 } ) is non  empty
and
L140: ( "/\" (( C56 \/ { C55 } ) , C52) ) in C53;
per cases ;
suppose L141: C56 = ( {} );

L142: (( "/\" (( C56 \/ { D23 } ) , C52) ) = D23 & D23 in ( C56 \/ { D23 } )) by L141 , TARSKI:def 1 , YELLOW_0:39;
thus L143: thesis by L142 , L140;
end;
suppose L144: C56 <> ( {} );

L145: ( inf { D23 } ) = D23 by YELLOW_0:39;
L146:  ex_inf_of { D23 } , C52 by YELLOW_0:55;
L147:  ex_inf_of D24 , C52 by L144 , YELLOW_0:55;
L148: ( "/\" (( C56 \/ { C55 } ) , C52) ) = ( ( inf D24 ) "/\" ( inf { D23 } ) ) by L147 , L146 , YELLOW_2:4;
thus L149:now
per cases  by L133 , L140 , L148 , L145;
suppose L150: ( inf D24 ) in C53;

consider C57 being (Element of C52) such that L151: (C57 in C56 & C57 in C53) by L150 , L137 , L144;
take D25 = C57;
thus L152: (D25 in ( C56 \/ { C55 } ) & D25 in C53) by L151 , XBOOLE_0:def 3;
end;
suppose L153: D23 in C53;

take D26 = D23;
L154: D26 in { D26 } by TARSKI:def 1;
thus L155: (D26 in ( C56 \/ { C55 } ) & D26 in C53) by L154 , L153 , XBOOLE_0:def 3;
end;
end;
end;
end;

end;
L139: S1[ ( {} ) ];
L140: C54 is  finite;
L141: S1[ C54 ] from FINSET_1:sch 2(L140 , L139 , L134);
thus L142: thesis by L141;
end;

assume L143: (for B53 being  finite non  empty (Subset of C52) holds (( inf B53 ) in C53 implies (ex B54 being (Element of C52) st (B54 in B53 & B54 in C53))));
let C58 , C59 being (Element of C52);
assume L144: ( C58 "/\" C59 ) in C53;
L145: ( inf { C58 , C59 } ) in C53 by L144 , YELLOW_0:40;
L146: (ex B55 being (Element of C52) st (B55 in { C58 , C59 } & B55 in C53)) by L145 , L143;
thus L147: thesis by L146 , TARSKI:def 2;
end;
registration
let C60 being LATTICE;
cluster  prime for (Ideal of C60);
existence
proof
take ( [#] C60 );
let C61 , C62 being (Element of C60);
thus L148: thesis;
end;
end;
theorem
L150: (for B56 , B57 being LATTICE holds (( the RelStr of B56 ) = ( the RelStr of B57 ) implies (for B58 being set holds (B58 is  prime  prime  prime  prime (Ideal of B56) implies B58 is  prime  prime  prime  prime (Ideal of B57)))))
proof
let C63 , C64 being LATTICE;
assume that
L151: ( the RelStr of C63 ) = ( the RelStr of C64 );
let C65 being set;
assume L152: C65 is  prime  prime  prime  prime (Ideal of C63);
reconsider D27 = C65 as  prime (Ideal of C63) by L152;
reconsider D28 = D27 as (Subset of C64) by L151;
reconsider D29 = D28 as (Ideal of C64) by L151 , WAYBEL_0:3 , WAYBEL_0:25;
L153: D29 is  prime
proof
let C66 , C67 being (Element of C64);
reconsider D30 = C66 , D31 = C67 as (Element of C63) by L151;
L154: ( C66 "/\" C67 ) = ( inf { C66 , C67 } ) by YELLOW_0:40;
L155: ( ex_inf_of { D30 , D31 } , C63 & ( D30 "/\" D31 ) = ( inf { D30 , D31 } )) by YELLOW_0:21 , YELLOW_0:40;
L156: ( D30 "/\" D31 ) = ( C66 "/\" C67 ) by L155 , L151 , L154 , YELLOW_0:27;
thus L157: thesis by L156 , L129;
end;
thus L158: thesis by L153;
end;
definition
let C68 being  with_suprema Poset;
let C69 being (Filter of C68);
attr C69 is  prime
means
:L159: (for B59 , B60 being (Element of C68) holds (( B59 "\/" B60 ) in C69 implies (B59 in C69 or B60 in C69)));
end;
theorem
L161: (for B61 being  with_suprema Poset holds (for B62 being (Filter of B61) holds (B62 is  prime iff (for B63 being  finite non  empty (Subset of B61) holds (( sup B63 ) in B62 implies (ex B64 being (Element of B61) st (B64 in B63 & B64 in B62)))))))
proof
let C70 being  with_suprema Poset;
let C71 being (Filter of C70);
thus L162: (C71 is  prime implies (for B65 being  finite non  empty (Subset of C70) holds (( sup B65 ) in C71 implies (ex B66 being (Element of C70) st (B66 in B65 & B66 in C71)))))
proof
defpred S2[ set ] means (($1 is non  empty & ( "\/" ($1 , C70) ) in C71) implies (ex B67 being (Element of C70) st (B67 in $1 & B67 in C71)));
assume L163: (for B68 , B69 being (Element of C70) holds (( B68 "\/" B69 ) in C71 implies (B68 in C71 or B69 in C71)));
let C72 being  finite non  empty (Subset of C70);
L164:
now
let C73 , C74 being set;
assume that
L165: C73 in C72
and
L166: C74 c= C72
and
L167: S2[ C74 ];
thus L168: S2[ ( C74 \/ { C73 } ) ]
proof
reconsider D32 = C73 as (Element of C70) by L165;
reconsider D33 = C74 as  finite (Subset of C70) by L166 , XBOOLE_1:1;
assume that
L169: ( C74 \/ { C73 } ) is non  empty
and
L170: ( "\/" (( C74 \/ { C73 } ) , C70) ) in C71;
per cases ;
suppose L171: C74 = ( {} );

L172: (( "\/" (( C74 \/ { D32 } ) , C70) ) = D32 & D32 in ( C74 \/ { D32 } )) by L171 , TARSKI:def 1 , YELLOW_0:39;
thus L173: thesis by L172 , L170;
end;
suppose L174: C74 <> ( {} );

L175: ( sup { D32 } ) = D32 by YELLOW_0:39;
L176:  ex_sup_of { D32 } , C70 by YELLOW_0:54;
L177:  ex_sup_of D33 , C70 by L174 , YELLOW_0:54;
L178: ( "\/" (( C74 \/ { C73 } ) , C70) ) = ( ( sup D33 ) "\/" ( sup { D32 } ) ) by L177 , L176 , YELLOW_2:3;
thus L179:now
per cases  by L163 , L170 , L178 , L175;
suppose L180: ( sup D33 ) in C71;

consider C75 being (Element of C70) such that L181: (C75 in C74 & C75 in C71) by L180 , L167 , L174;
take D34 = C75;
thus L182: (D34 in ( C74 \/ { C73 } ) & D34 in C71) by L181 , XBOOLE_0:def 3;
end;
suppose L183: D32 in C71;

take D35 = D32;
L184: D35 in { D35 } by TARSKI:def 1;
thus L185: (D35 in ( C74 \/ { C73 } ) & D35 in C71) by L184 , L183 , XBOOLE_0:def 3;
end;
end;
end;
end;

end;
L169: S2[ ( {} ) ];
L170: C72 is  finite;
L171: S2[ C72 ] from FINSET_1:sch 2(L170 , L169 , L164);
thus L172: thesis by L171;
end;

assume L173: (for B70 being  finite non  empty (Subset of C70) holds (( sup B70 ) in C71 implies (ex B71 being (Element of C70) st (B71 in B70 & B71 in C71))));
let C76 , C77 being (Element of C70);
assume L174: ( C76 "\/" C77 ) in C71;
L175: ( sup { C76 , C77 } ) in C71 by L174 , YELLOW_0:41;
L176: (ex B72 being (Element of C70) st (B72 in { C76 , C77 } & B72 in C71)) by L175 , L173;
thus L177: thesis by L176 , TARSKI:def 2;
end;
registration
let C78 being LATTICE;
cluster  prime for (Filter of C78);
existence
proof
take ( [#] C78 );
let C79 , C80 being (Element of C78);
thus L178: thesis;
end;
end;
theorem
L180: (for B73 , B74 being LATTICE holds (( the RelStr of B73 ) = ( the RelStr of B74 ) implies (for B75 being set holds (B75 is  prime  prime  prime  prime (Filter of B73) implies B75 is  prime  prime  prime  prime (Filter of B74)))))
proof
let C81 , C82 being LATTICE;
assume that
L181: ( the RelStr of C81 ) = ( the RelStr of C82 );
let C83 being set;
assume L182: C83 is  prime  prime  prime  prime (Filter of C81);
reconsider D36 = C83 as  prime (Filter of C81) by L182;
reconsider D37 = D36 as (Subset of C82) by L181;
reconsider D38 = D37 as (Filter of C82) by L181 , WAYBEL_0:4 , WAYBEL_0:25;
L183: D38 is  prime
proof
let C84 , C85 being (Element of C82);
reconsider D39 = C84 , D40 = C85 as (Element of C81) by L181;
L184: ( C84 "\/" C85 ) = ( sup { C84 , C85 } ) by YELLOW_0:41;
L185: ( ex_sup_of { D39 , D40 } , C81 & ( D39 "\/" D40 ) = ( sup { D39 , D40 } )) by YELLOW_0:20 , YELLOW_0:41;
L186: ( D39 "\/" D40 ) = ( C84 "\/" C85 ) by L185 , L181 , L184 , YELLOW_0:26;
thus L187: thesis by L186 , L159;
end;
thus L188: thesis by L183;
end;
theorem
L189: (for B76 being LATTICE holds (for B77 being set holds (B77 is  prime  prime  prime  prime (Ideal of B76) iff B77 is  prime  prime  prime  prime (Filter of ( B76 opp )))))
proof
let C86 being LATTICE;
let C87 being set;
thus L190:now
assume L191: C87 is  prime  prime  prime  prime (Ideal of C86);
reconsider D41 = C87 as  prime (Ideal of C86) by L191;
reconsider D42 = D41 as (Filter of ( C86 opp )) by YELLOW_7:26 , YELLOW_7:28;
L192: D42 is  prime
proof
let C88 , C89 being (Element of ( C86 opp ));
L193: ( C88 "\/" C89 ) = ( ( ~ C88 ) "/\" ( ~ C89 ) ) by YELLOW_7:22;
L194: (( ~ C88 ) = C88 & ( ~ C89 ) = C89) by LATTICE3:def 7;
thus L195: thesis by L194 , L193 , L129;
end;
thus L196: C87 is  prime  prime  prime  prime (Filter of ( C86 opp )) by L192;
end;
assume L197: C87 is  prime  prime  prime  prime (Filter of ( C86 opp ));
reconsider D43 = C87 as  prime (Filter of ( C86 opp )) by L197;
reconsider D44 = D43 as (Ideal of C86) by YELLOW_7:26 , YELLOW_7:28;
L198: D44 is  prime
proof
let C90 , C91 being (Element of C86);
L199: ( C90 "/\" C91 ) = ( ( C90 ~ ) "\/" ( C91 ~ ) ) by YELLOW_7:21;
L200: (( C90 ~ ) = C90 & ( C91 ~ ) = C91) by LATTICE3:def 6;
thus L201: thesis by L200 , L199 , L159;
end;
thus L202: thesis by L198;
end;
theorem
L203: (for B78 being LATTICE holds (for B79 being set holds (B79 is  prime  prime  prime  prime (Filter of B78) iff B79 is  prime  prime  prime  prime (Ideal of ( B78 opp )))))
proof
let C92 being LATTICE;
let C93 being set;
L204: ( ( C92 opp ) opp ) = ( the RelStr of C92 ) by LATTICE3:8;
L205: (C93 is  prime  prime  prime  prime (Filter of C92) iff C93 is  prime  prime  prime  prime (Filter of ( ( C92 opp ) opp ))) by L204 , L180;
thus L206: thesis by L205 , L189;
end;
theorem
L207: (for B80 being  with_infima Poset holds (for B81 being (Ideal of B80) holds (B81 is  prime iff (( B81 ` ) is (Filter of B80) or ( B81 ` ) = ( {} )))))
proof
let C94 being  with_infima Poset;
let C95 being (Ideal of C94);
set D45 = ( C95 ` );
thus L208: (C95 is  prime implies (( C95 ` ) is (Filter of C94) or ( C95 ` ) = ( {} )))
proof
assume L209: (for B82 , B83 being (Element of C94) holds (( B82 "/\" B83 ) in C95 implies (B82 in C95 or B83 in C95)));
L210: D45 is  filtered
proof
let C96 , C97 being (Element of C94);
assume L211: (C96 in D45 & C97 in D45);
L212: ((not C96 in C95) & (not C97 in C95)) by L211 , XBOOLE_0:def 5;
L213: ( C96 "/\" C97 ) in D45 by L212 , L209 , SUBSET_1:29;
L214: (( C96 "/\" C97 ) <= C96 & ( C96 "/\" C97 ) <= C97) by YELLOW_0:23;
thus L215: thesis by L214 , L213;
end;
L216: D45 is  upper
proof
let C98 , C99 being (Element of C94);
assume that
L217: C98 in D45
and
L218: C99 >= C98;
L219: (C99 in C95 implies C98 in C95) by L218 , WAYBEL_0:def 19;
thus L220: thesis by L219 , L217 , XBOOLE_0:def 5;
end;
thus L221: thesis by L216 , L210;
end;

assume L222: (( C95 ` ) is (Filter of C94) or ( C95 ` ) = ( {} ));
let C100 , C101 being (Element of C94);
assume L223: ( C100 "/\" C101 ) in C95;
L224: (not ( C100 "/\" C101 ) in D45) by L223 , XBOOLE_0:def 5;
L225: ((not C100 in D45) or (not C101 in D45)) by L224 , L222 , WAYBEL_0:41;
thus L226: thesis by L225 , SUBSET_1:29;
end;
theorem
L227: (for B84 being LATTICE holds (for B85 being (Ideal of B84) holds (B85 is  prime iff B85 in ( PRIME ( InclPoset ( Ids B84 ) ) ))))
proof
let C102 being LATTICE;
let C103 being (Ideal of C102);
set D46 = ( InclPoset ( Ids C102 ) );
L228: D46 = RelStr (# ( Ids C102 ) , ( RelIncl ( Ids C102 ) ) #) by YELLOW_1:def 1;
L229: C103 in ( Ids C102 );
reconsider D47 = C103 as (Element of ( InclPoset ( Ids C102 ) )) by L229 , L228;
thus L230: (C103 is  prime implies C103 in ( PRIME ( InclPoset ( Ids C102 ) ) ))
proof
assume L231: (for B86 , B87 being (Element of C102) holds (( B86 "/\" B87 ) in C103 implies (B86 in C103 or B87 in C103)));
L232: D47 is  prime
proof
let C104 , C105 being (Element of D46);
L233: C105 in ( Ids C102 ) by L228;
L234: (ex B88 being (Ideal of C102) st C105 = B88) by L233;
L235: C104 in ( Ids C102 ) by L228;
L236: (ex B89 being (Ideal of C102) st C104 = B89) by L235;
reconsider D48 = C104 , D49 = C105 as (Ideal of C102) by L236 , L234;
assume L237: ( C104 "/\" C105 ) <= D47;
L238: ( C104 "/\" C105 ) c= C103 by L237 , YELLOW_1:3;
L239: ( D48 /\ D49 ) c= C103 by L238 , YELLOW_2:43;
assume that
L240: (not C104 <= D47)
and
L241: (not C105 <= D47);
L242: (not D48 c= C103) by L240 , YELLOW_1:3;
consider C106 being set such that L243: C106 in D48 and L244: (not C106 in C103) by L242 , TARSKI:def 3;
L245: (not D49 c= C103) by L241 , YELLOW_1:3;
consider C107 being set such that L246: C107 in D49 and L247: (not C107 in C103) by L245 , TARSKI:def 3;
reconsider D50 = C106 , D51 = C107 as (Element of C102) by L243 , L246;
L248: ( D50 "/\" D51 ) <= D51 by YELLOW_0:23;
L249: ( D50 "/\" D51 ) in D49 by L248 , L246 , WAYBEL_0:def 19;
L250: ( D50 "/\" D51 ) <= D50 by YELLOW_0:23;
L251: ( D50 "/\" D51 ) in D48 by L250 , L243 , WAYBEL_0:def 19;
L252: ( D50 "/\" D51 ) in ( D48 /\ D49 ) by L251 , L249 , XBOOLE_0:def 4;
thus L253: thesis by L252 , L231 , L239 , L244 , L247;
end;
thus L254: thesis by L232 , WAYBEL_6:def 7;
end;

assume L255: C103 in ( PRIME D46 );
let C108 , C109 being (Element of C102);
reconsider D52 = ( downarrow C108 ) , D53 = ( downarrow C109 ) as (Ideal of C102);
L256: (D52 in ( Ids C102 ) & D53 in ( Ids C102 ));
reconsider D54 = D52 , D55 = D53 as (Element of D46) by L256 , L228;
L257: ( D54 /\ D55 ) = ( D54 "/\" D55 ) by YELLOW_2:43;
assume L258: ( C108 "/\" C109 ) in C103;
L259: ( D54 "/\" D55 ) c= C103
proof
let C110 being set;
assume L260: C110 in ( D54 "/\" D55 );
L261: C110 in D54 by L260 , L257 , XBOOLE_0:def 4;
L262: C110 in D55 by L257 , L260 , XBOOLE_0:def 4;
reconsider D56 = C110 as (Element of C102) by L261;
L263: D56 <= C109 by L262 , WAYBEL_0:17;
L264: D56 <= C108 by L261 , WAYBEL_0:17;
L265: D56 <= ( C108 "/\" C109 ) by L264 , L263 , YELLOW_0:23;
thus L266: thesis by L265 , L258 , WAYBEL_0:def 19;
end;
L267: ( D54 "/\" D55 ) <= D47 by L259 , YELLOW_1:3;
L268: D47 is  prime by L255 , WAYBEL_6:def 7;
L269: (D54 <= D47 or D55 <= D47) by L268 , L267 , WAYBEL_6:def 6;
L270: (D54 c= C103 or D55 c= C103) by L269 , YELLOW_1:3;
L271: C109 <= C109;
L272: C109 in D55 by L271 , WAYBEL_0:17;
L273: C108 <= C108;
L274: C108 in D54 by L273 , WAYBEL_0:17;
thus L275: thesis by L274 , L272 , L270;
end;
theorem
L276: (for B90 being  Boolean LATTICE holds (for B91 being (Filter of B90) holds (B91 is  prime iff (for B92 being (Element of B90) holds (B92 in B91 or ( 'not' B92 ) in B91)))))
proof
let C111 being  Boolean LATTICE;
let C112 being (Filter of C111);
thus L277:now
assume L278: C112 is  prime;
let C113 being (Element of C111);
set D57 = ( 'not' C113 );
L279: ( C113 "\/" D57 ) = ( Top C111 ) by YELLOW_5:34;
L280: ( C113 "\/" D57 ) in C112 by L279 , WAYBEL_4:22;
thus L281: (C113 in C112 or D57 in C112) by L280 , L278 , L159;
end;
assume L282: (for B93 being (Element of C111) holds (B93 in C112 or ( 'not' B93 ) in C112));
let C114 , C115 being (Element of C111);
assume that
L283: ( C114 "\/" C115 ) in C112
and
L284: (not C114 in C112)
and
L285: (not C115 in C112);
L286: (( 'not' C114 ) in C112 & ( 'not' C115 ) in C112) by L282 , L284 , L285;
L287: ( ( 'not' C114 ) "/\" ( 'not' C115 ) ) in C112 by L286 , WAYBEL_0:41;
L288: ( 'not' ( C114 "\/" C115 ) ) in C112 by L287 , YELLOW_5:36;
L289: ( ( 'not' ( C114 "\/" C115 ) ) "/\" ( C114 "\/" C115 ) ) in C112 by L288 , L283 , WAYBEL_0:41;
L290: ( Bottom C111 ) in C112 by L289 , YELLOW_5:34;
L291: C114 >= ( Bottom C111 ) by YELLOW_0:44;
thus L292: contradiction by L291 , L284 , L290 , WAYBEL_0:def 20;
end;
theorem
L293: (for B94 being set holds (for B95 being (Filter of ( BoolePoset B94 )) holds (B95 is  prime iff (for B96 being (Subset of B94) holds (B96 in B95 or ( B94 \ B96 ) in B95)))))
proof
let C116 being set;
set D58 = ( BoolePoset C116 );
let C117 being (Filter of D58);
L294: D58 = ( InclPoset ( bool C116 ) ) by YELLOW_1:4;
L295: D58 = RelStr (# ( bool C116 ) , ( RelIncl ( bool C116 ) ) #) by L294 , YELLOW_1:def 1;
thus L296:now
assume L297: C117 is  prime;
let C118 being (Subset of C116);
reconsider D59 = C118 as (Element of D58) by L295;
L298: (D59 in C117 or ( 'not' D59 ) in C117) by L297 , L276;
thus L299: (C118 in C117 or ( C116 \ C118 ) in C117) by L298 , L40;
end;
assume L300: (for B97 being (Subset of C116) holds (B97 in C117 or ( C116 \ B97 ) in C117));
L301:
now
let C119 being (Element of D58);
L302: ( 'not' C119 ) = ( C116 \ C119 ) by L40;
thus L303: (C119 in C117 or ( 'not' C119 ) in C117) by L302 , L295 , L300;
end;
thus L304: thesis by L301 , L276;
end;
definition
let C120 being non  empty Poset;
let C121 being (Filter of C120);
attr C121 is  ultra
means
:L305: (C121 is  proper & (for B98 being (Filter of C120) holds (C121 c= B98 implies (C121 = B98 or B98 = (the carrier of C120)))));
end;
registration
let C122 being non  empty Poset;
cluster  ultra ->  proper for (Filter of C122);
coherence by L305;
end;
L308: (for B99 being  with_infima Poset holds (for B100 being (Filter of B99) holds (for B101 being  finite non  empty (Subset of B99) holds (for B102 being (Element of B99) holds (B102 in ( uparrow ( fininfs ( B100 \/ B101 ) ) ) implies (ex B103 being (Element of B99) st (B103 in B100 & B102 >= ( B103 "/\" ( inf B101 ) ))))))))
proof
let C123 being  with_infima Poset;
let C124 being (Filter of C123);
let C125 being  finite non  empty (Subset of C123);
let C126 being (Element of C123);
set D60 = the (Element of C124);
reconsider D61 = D60 as (Element of C123);
assume L309: C126 in ( uparrow ( fininfs ( C124 \/ C125 ) ) );
consider C127 being (Element of C123) such that L310: C127 <= C126 and L311: C127 in ( fininfs ( C124 \/ C125 ) ) by L309 , WAYBEL_0:def 16;
consider C128 being  finite (Subset of ( C124 \/ C125 )) such that L312: C127 = ( "/\" (C128 , C123) ) and L313:  ex_inf_of C128 , C123 by L311;
L314: ( C128 \ C125 ) c= C124
proof
let C129 being set;
assume L315: C129 in ( C128 \ C125 );
L316: (not C129 in C125) by L315 , XBOOLE_0:def 5;
thus L317: thesis by L316 , L315 , XBOOLE_0:def 3;
end;
reconsider D62 = ( C128 \ C125 ) as  finite (Subset of C124) by L314;
reconsider D63 = D62 , D64 = C128 as  finite (Subset of C123) by XBOOLE_1:1;
reconsider D65 = ( D63 \/ C125 ) as  finite (Subset of C123);
per cases ;
suppose L318: D62 = ( {} );

L319: ( inf C125 ) >= ( D61 "/\" ( inf C125 ) ) by YELLOW_0:23;
take D61;
L320:  ex_inf_of C125 , C123 by YELLOW_0:55;
L321: C128 c= C125 by L318 , XBOOLE_1:37;
L322: C127 >= ( inf C125 ) by L321 , L312 , L313 , L320 , YELLOW_0:35;
L323: C127 >= ( D61 "/\" ( inf C125 ) ) by L322 , L319 , ORDERS_2:3;
thus L324: thesis by L323 , L310 , ORDERS_2:3;
end;
suppose L325: D62 <> ( {} );

take ( inf D63 );
L326:  ex_inf_of C125 , C123 by YELLOW_0:55;
L327:  ex_inf_of D65 , C123 by YELLOW_0:55;
L328: C128 c= ( C128 \/ C125 ) by XBOOLE_1:7;
L329: C128 c= ( D63 \/ C125 ) by L328 , XBOOLE_1:39;
L330: ( inf D64 ) >= ( inf D65 ) by L329 , L313 , L327 , YELLOW_0:35;
L331:  ex_inf_of D63 , C123 by L325 , YELLOW_0:55;
L332: ( inf ( D63 \/ C125 ) ) = ( ( inf D63 ) "/\" ( inf C125 ) ) by L331 , L326 , L327 , YELLOW_0:37;
thus L333: thesis by L332 , L310 , L312 , L325 , L330 , ORDERS_2:3 , WAYBEL_0:43;
end;
end;
theorem
L335: (for B104 being  Boolean LATTICE holds (for B105 being (Filter of B104) holds (B105 is  proper  prime iff B105 is  ultra)))
proof
let C130 being  Boolean LATTICE;
let C131 being (Filter of C130);
thus L336: (C131 is  proper  prime implies C131 is  ultra)
proof
assume L337: C131 is  proper;
assume L338: (for B106 , B107 being (Element of C130) holds (( B106 "\/" B107 ) in C131 implies (B106 in C131 or B107 in C131)));
thus L339: C131 is  proper by L337;
let C132 being (Filter of C130);
assume that
L340: C131 c= C132
and
L341: C131 <> C132;
consider C133 being set such that L342: (not (C133 in C131 iff C133 in C132)) by L341 , TARSKI:1;
reconsider D66 = C133 as (Element of C130) by L342;
set D67 = ( 'not' D66 );
L343: ( D66 "\/" D67 ) = ( Top C130 ) by YELLOW_5:34;
L344: D67 in C131 by L343 , L338 , L340 , L342 , WAYBEL_4:22;
L345: ( D66 "/\" D67 ) in C132 by L344 , L340 , L342 , WAYBEL_0:41;
L346: ( Bottom C130 ) in C132 by L345 , YELLOW_5:34;
thus L347: C132 c= (the carrier of C130);
let C134 being set;
assume L348: C134 in (the carrier of C130);
reconsider D68 = C134 as (Element of C130) by L348;
L349: D68 >= ( Bottom C130 ) by YELLOW_0:44;
thus L350: thesis by L349 , L346 , WAYBEL_0:def 20;
end;

assume that
L351: C131 is  proper
and
L352: (for B108 being (Filter of C130) holds (C131 c= B108 implies (C131 = B108 or B108 = (the carrier of C130))));
thus L353: C131 is  proper by L351;
L354:
now
let C135 being (Element of C130);
assume that
L355: (not C135 in C131)
and
L356: (not ( 'not' C135 ) in C131);
set D69 = ( 'not' C135 );
L357: ( C131 \/ { C135 } ) c= ( uparrow ( fininfs ( C131 \/ { C135 } ) ) ) by WAYBEL_0:62;
L358: ({ C135 } c= ( C131 \/ { C135 } ) & C135 in { C135 }) by TARSKI:def 1 , XBOOLE_1:7;
L359: C135 in ( C131 \/ { C135 } ) by L358;
L360: (C131 c= ( C131 \/ { C135 } ) & C135 in ( uparrow ( fininfs ( C131 \/ { C135 } ) ) )) by L359 , L357 , XBOOLE_1:7;
L361: ( uparrow ( fininfs ( C131 \/ { C135 } ) ) ) = (the carrier of C130) by L360 , L352 , L355 , L357 , XBOOLE_1:1;
consider C136 being (Element of C130) such that L362: C136 in C131 and L363: D69 >= ( C136 "/\" ( inf { C135 } ) ) by L361 , L308;
L364: C136 <= ( Top C130 ) by YELLOW_0:45;
L365: C136 = ( C136 "/\" ( Top C130 ) ) by L364 , YELLOW_0:25
.= ( C136 "/\" ( C135 "\/" D69 ) ) by YELLOW_5:34
.= ( ( C136 "/\" C135 ) "\/" ( C136 "/\" D69 ) ) by WAYBEL_1:def 3;
L366: (( inf { C135 } ) = C135 & ( C136 "/\" D69 ) <= D69) by YELLOW_0:23 , YELLOW_0:39;
L367: C136 <= D69 by L366 , L363 , L365 , YELLOW_0:22;
thus L368: contradiction by L367 , L356 , L362 , WAYBEL_0:def 20;
end;
thus L369: thesis by L354 , L276;
end;
L370: (for B109 being  with_suprema Poset holds (for B110 being (Ideal of B109) holds (for B111 being  finite non  empty (Subset of B109) holds (for B112 being (Element of B109) holds (B112 in ( downarrow ( finsups ( B110 \/ B111 ) ) ) implies (ex B113 being (Element of B109) st (B113 in B110 & B112 <= ( B113 "\/" ( sup B111 ) ))))))))
proof
let C137 being  with_suprema Poset;
let C138 being (Ideal of C137);
let C139 being  finite non  empty (Subset of C137);
let C140 being (Element of C137);
set D70 = the (Element of C138);
reconsider D71 = D70 as (Element of C137);
assume L371: C140 in ( downarrow ( finsups ( C138 \/ C139 ) ) );
consider C141 being (Element of C137) such that L372: C141 >= C140 and L373: C141 in ( finsups ( C138 \/ C139 ) ) by L371 , WAYBEL_0:def 15;
consider C142 being  finite (Subset of ( C138 \/ C139 )) such that L374: C141 = ( "\/" (C142 , C137) ) and L375:  ex_sup_of C142 , C137 by L373;
L376: ( C142 \ C139 ) c= C138
proof
let C143 being set;
assume L377: C143 in ( C142 \ C139 );
L378: (not C143 in C139) by L377 , XBOOLE_0:def 5;
thus L379: thesis by L378 , L377 , XBOOLE_0:def 3;
end;
reconsider D72 = ( C142 \ C139 ) as  finite (Subset of C138) by L376;
reconsider D73 = D72 , D74 = C142 as  finite (Subset of C137) by XBOOLE_1:1;
reconsider D75 = ( D73 \/ C139 ) as  finite (Subset of C137);
per cases ;
suppose L380: D72 = ( {} );

L381: ( sup C139 ) <= ( D71 "\/" ( sup C139 ) ) by YELLOW_0:22;
take D71;
L382:  ex_sup_of C139 , C137 by YELLOW_0:54;
L383: C142 c= C139 by L380 , XBOOLE_1:37;
L384: C141 <= ( sup C139 ) by L383 , L374 , L375 , L382 , YELLOW_0:34;
L385: C141 <= ( D71 "\/" ( sup C139 ) ) by L384 , L381 , ORDERS_2:3;
thus L386: thesis by L385 , L372 , ORDERS_2:3;
end;
suppose L387: D72 <> ( {} );

take ( sup D73 );
L388:  ex_sup_of C139 , C137 by YELLOW_0:54;
L389:  ex_sup_of D75 , C137 by YELLOW_0:54;
L390: C142 c= ( C142 \/ C139 ) by XBOOLE_1:7;
L391: C142 c= ( D73 \/ C139 ) by L390 , XBOOLE_1:39;
L392: ( sup D74 ) <= ( sup D75 ) by L391 , L375 , L389 , YELLOW_0:34;
L393:  ex_sup_of D73 , C137 by L387 , YELLOW_0:54;
L394: ( sup ( D73 \/ C139 ) ) = ( ( sup D73 ) "\/" ( sup C139 ) ) by L393 , L388 , L389 , YELLOW_0:36;
thus L395: thesis by L394 , L372 , L374 , L387 , L392 , ORDERS_2:3 , WAYBEL_0:42;
end;
end;
theorem
L397: (for B114 being  distributive LATTICE holds (for B115 being (Ideal of B114) holds (for B116 being (Filter of B114) holds (B115 misses B116 implies (ex B117 being (Ideal of B114) st (B117 is  prime & B115 c= B117 & B117 misses B116))))))
proof
let C144 being  distributive LATTICE;
let C145 being (Ideal of C144);
let C146 being (Filter of C144);
assume that
L398: C145 misses C146;
set D76 = { B118 where B118 is (Ideal of C144) : (C145 c= B118 & B118 misses C146) };
L399:
now
let C147 being set;
assume L400: C147 in D76;
L401: (ex B119 being (Ideal of C144) st (C147 = B119 & C145 c= B119 & B119 misses C146)) by L400;
thus L402: (C145 c= C147 & C147 misses C146) by L401;
end;
L403:
now
let C148 being set;
assume that
L404: C148 <> ( {} )
and
L405: C148 c= D76
and
L406: C148 is  c=-linear;
L407: C148 c= ( bool (the carrier of C144) )
proof
let C149 being set;
assume L408: C149 in C148;
L409: C149 in D76 by L408 , L405;
L410: (ex B120 being (Ideal of C144) st (C149 = B120 & C145 c= B120 & B120 misses C146)) by L409;
thus L411: thesis by L410;
end;
reconsider D77 = C148 as (Subset-Family of C144) by L407;
L412:
now
let C150 being (Subset of C144);
assume L413: C150 in D77;
L414: C150 in D76 by L413 , L405;
L415: (ex B121 being (Ideal of C144) st (C150 = B121 & C145 c= B121 & B121 misses C146)) by L414;
thus L416: C150 is  lower by L415;
end;
reconsider D78 = ( union D77 ) as  lower (Subset of C144) by L412 , WAYBEL_0:26;
L417:
now
set D79 = the (Element of C148);
L418: D79 in C148 by L404;
L419: C145 c= D79 by L418 , L399 , L405;
L420: D79 c= D78 by L404 , ZFMISC_1:74;
thus L421: C145 c= D78 by L420 , L419 , XBOOLE_1:1;
thus L422: D78 is non  empty by L419 , L420;
let C151 , C152 being (Subset of C144);
assume L423: (C151 in D77 & C152 in D77);
L424: C151 , C152 are_c=-comparable  by L423 , L406 , ORDINAL1:def 8;
L425: (C151 c= C152 or C152 c= C151) by L424 , XBOOLE_0:def 9;
L426: (( C151 \/ C152 ) = C151 or ( C151 \/ C152 ) = C152) by L425 , XBOOLE_1:12;
thus L427: (ex B122 being (Subset of C144) st (B122 in D77 & ( C151 \/ C152 ) c= B122)) by L426 , L423;
end;
L428:
now
let C153 being (Subset of C144);
assume L429: C153 in D77;
L430: C153 in D76 by L429 , L405;
L431: (ex B123 being (Ideal of C144) st (C153 = B123 & C145 c= B123 & B123 misses C146)) by L430;
thus L432: C153 is  directed by L431;
end;
reconsider D80 = D78 as (Ideal of C144) by L428 , L417 , WAYBEL_0:46;
L433:
now
let C154 being set;
assume L434: C154 in D80;
consider C155 being set such that L435: C154 in C155 and L436: C155 in C148 by L434 , TARSKI:def 4;
L437: C155 misses C146 by L399 , L405 , L436;
thus L438: (not C154 in C146) by L437 , L435 , XBOOLE_0:3;
end;
L439: D80 misses C146 by L433 , XBOOLE_0:3;
thus L440: ( union C148 ) in D76 by L439 , L417;
end;
L441: C145 in D76 by L398;
consider C156 being set such that L442: C156 in D76 and L443: (for B124 being set holds ((B124 in D76 & B124 <> C156) implies (not C156 c= B124))) by L441 , L403 , ORDERS_1:67;
consider C157 being (Ideal of C144) such that L444: C157 = C156 and L445: C145 c= C157 and L446: C157 misses C146 by L442;
take C157;
thus L447:now
let C158 , C159 being (Element of C144);
assume that
L448: ( C158 "/\" C159 ) in C157
and
L449: (not C158 in C157)
and
L450: (not C159 in C157);
set D81 = ( downarrow ( finsups ( C157 \/ { C159 } ) ) );
L451: ( C157 \/ { C159 } ) c= D81 by WAYBEL_0:61;
L452: C157 c= ( C157 \/ { C159 } ) by XBOOLE_1:7;
L453: C157 c= D81 by L452 , L451 , XBOOLE_1:1;
L454: C145 c= D81 by L453 , L445 , XBOOLE_1:1;
L455: C159 in { C159 } by TARSKI:def 1;
L456: C159 in ( C157 \/ { C159 } ) by L455 , XBOOLE_0:def 3;
L457: C159 in D81 by L456 , L451;
L458:
now
assume L459: D81 misses C146;
L460: D81 in D76 by L459 , L454;
thus L461: contradiction by L460 , L443 , L444 , L450 , L451 , L452 , L457 , XBOOLE_1:1;
end;
consider C160 being set such that L462: C160 in D81 and L463: C160 in C146 by L458 , XBOOLE_0:3;
set D82 = ( downarrow ( finsups ( C157 \/ { C158 } ) ) );
L464: ( C157 \/ { C158 } ) c= D82 by WAYBEL_0:61;
L465: C157 c= ( C157 \/ { C158 } ) by XBOOLE_1:7;
L466: C157 c= D82 by L465 , L464 , XBOOLE_1:1;
L467: C145 c= D82 by L466 , L445 , XBOOLE_1:1;
L468: C158 in { C158 } by TARSKI:def 1;
L469: C158 in ( C157 \/ { C158 } ) by L468 , XBOOLE_0:def 3;
L470: C158 in D82 by L469 , L464;
L471:
now
assume L472: D82 misses C146;
L473: D82 in D76 by L472 , L467;
thus L474: contradiction by L473 , L443 , L444 , L449 , L464 , L465 , L470 , XBOOLE_1:1;
end;
consider C161 being set such that L475: C161 in D82 and L476: C161 in C146 by L471 , XBOOLE_0:3;
reconsider D83 = C161 , D84 = C160 as (Element of C144) by L475 , L462;
consider C162 being (Element of C144) such that L477: C162 in C157 and L478: D83 <= ( C162 "\/" ( sup { C158 } ) ) by L475 , L370;
consider C163 being (Element of C144) such that L479: C163 in C157 and L480: D84 <= ( C163 "\/" ( sup { C159 } ) ) by L462 , L370;
set D85 = ( C162 "\/" C163 );
L481: ( ( C163 "\/" C162 ) "\/" C158 ) = ( C163 "\/" ( C162 "\/" C158 ) ) by LATTICE3:14;
L482: (( sup { C158 } ) = C158 & ( D85 "\/" C158 ) >= ( C162 "\/" C158 )) by L481 , YELLOW_0:22 , YELLOW_0:39;
L483: ( D85 "\/" C158 ) >= D83 by L482 , L478 , ORDERS_2:3;
L484: ( D85 "\/" C158 ) in C146 by L483 , L476 , WAYBEL_0:def 20;
L485: ( D85 "\/" C159 ) = ( C162 "\/" ( C163 "\/" C159 ) ) by LATTICE3:14;
L486: (( sup { C159 } ) = C159 & ( D85 "\/" C159 ) >= ( C163 "\/" C159 )) by L485 , YELLOW_0:22 , YELLOW_0:39;
L487: ( D85 "\/" C159 ) >= D84 by L486 , L480 , ORDERS_2:3;
L488: ( D85 "\/" C159 ) in C146 by L487 , L463 , WAYBEL_0:def 20;
L489: ( ( D85 "\/" C158 ) "/\" ( D85 "\/" C159 ) ) in C146 by L488 , L484 , WAYBEL_0:41;
L490: ( D85 "\/" ( C158 "/\" C159 ) ) in C146 by L489 , WAYBEL_1:5;
L491: D85 in C157 by L477 , L479 , WAYBEL_0:40;
L492: ( D85 "\/" ( C158 "/\" C159 ) ) in C157 by L491 , L448 , WAYBEL_0:40;
thus L493: contradiction by L492 , L446 , L490 , XBOOLE_0:3;
end;
thus L494: thesis by L445 , L446;
end;
theorem
L495: (for B125 being  distributive LATTICE holds (for B126 being (Ideal of B125) holds (for B127 being (Element of B125) holds ((not B127 in B126) implies (ex B128 being (Ideal of B125) st (B128 is  prime & B126 c= B128 & (not B127 in B128)))))))
proof
let C164 being  distributive LATTICE;
let C165 being (Ideal of C164);
let C166 being (Element of C164);
assume that
L496: (not C166 in C165);
L497:
now
let C167 being set;
assume that
L498: C167 in C165
and
L499: C167 in ( uparrow C166 );
reconsider D86 = C167 as (Element of C164) by L498;
L500: D86 >= C166 by L499 , WAYBEL_0:18;
thus L501: contradiction by L500 , L496 , L498 , WAYBEL_0:def 19;
end;
L502: C165 misses ( uparrow C166 ) by L497 , XBOOLE_0:3;
consider C168 being (Ideal of C164) such that L503: (C168 is  prime & C165 c= C168) and L504: C168 misses ( uparrow C166 ) by L502 , L397;
take C168;
thus L505: (C168 is  prime & C165 c= C168) by L503;
assume L506: C166 in C168;
L507: (not C166 in ( uparrow C166 )) by L506 , L504 , XBOOLE_0:3;
L508: (not C166 <= C166) by L507 , WAYBEL_0:18;
thus L509: thesis by L508;
end;
theorem
L510: (for B129 being  distributive LATTICE holds (for B130 being (Ideal of B129) holds (for B131 being (Filter of B129) holds (B130 misses B131 implies (ex B132 being (Filter of B129) st (B132 is  prime & B131 c= B132 & B130 misses B132))))))
proof
let C169 being  distributive LATTICE;
let C170 being (Ideal of C169);
let C171 being (Filter of C169);
assume that
L511: C170 misses C171;
reconsider D87 = C171 as (Ideal of ( C169 opp )) by YELLOW_7:27 , YELLOW_7:29;
reconsider D88 = C170 as (Filter of ( C169 opp )) by YELLOW_7:26 , YELLOW_7:28;
consider C172 being (Ideal of ( C169 opp )) such that L512: (C172 is  prime & D87 c= C172 & C172 misses D88) by L511 , L397;
reconsider D89 = C172 as (Filter of C169) by YELLOW_7:27 , YELLOW_7:29;
take D89;
thus L513: thesis by L512 , L203;
end;
theorem
L514: (for B133 being non  trivial  Boolean LATTICE holds (for B134 being  proper (Filter of B133) holds (ex B135 being (Filter of B133) st (B134 c= B135 & B135 is  ultra))))
proof
let C173 being non  trivial  Boolean LATTICE;
let C174 being  proper (Filter of C173);
L515: ( downarrow ( Bottom C173 ) ) = { ( Bottom C173 ) } by WAYBEL_4:23;
reconsider D90 = { ( Bottom C173 ) } as (Ideal of C173) by L515;
L516:
now
let C175 being set;
assume L517: C175 in D90;
L518: C175 = ( Bottom C173 ) by L517 , TARSKI:def 1;
thus L519: (not C175 in C174) by L518 , L20;
end;
L520: D90 misses C174 by L516 , XBOOLE_0:3;
consider C176 being (Filter of C173) such that L521: (C176 is  prime & C174 c= C176) and L522: D90 misses C176 by L520 , L510;
take C176;
L523:
now
assume L524: ( Bottom C173 ) in C176;
L525: (not ( Bottom C173 ) in D90) by L524 , L522 , XBOOLE_0:3;
thus L526: contradiction by L525 , TARSKI:def 1;
end;
L527: C176 is  proper by L523 , L20;
thus L528: thesis by L527 , L521 , L335;
end;
begin
definition
let C177 being TopSpace;
let C178 , C179 being set;
pred C179 is_a_cluster_point_of C178 , C177
means
:L529: (for B136 being (Subset of C177) holds ((B136 is  open & C179 in B136) implies (for B137 being set holds (B137 in C178 implies B136 meets B137))))
;pred C179 is_a_convergence_point_of C178 , C177
means
:L530: (for B138 being (Subset of C177) holds ((B138 is  open & C179 in B138) implies B138 in C178))
;end;
registration
let C180 being non  empty set;
cluster  ultra for (Filter of ( BoolePoset C180 ));
existence
proof
set D91 = the  proper (Filter of ( BoolePoset C180 ));
L532: (ex B139 being (Filter of ( BoolePoset C180 )) st (D91 c= B139 & B139 is  ultra)) by L514;
thus L533: thesis by L532;
end;
end;
theorem
L535: (for B140 being non  empty TopSpace holds (for B141 being  ultra (Filter of ( BoolePoset (the carrier of B140) )) holds (for B142 being set holds (B142 is_a_cluster_point_of B141 , B140 iff B142 is_a_convergence_point_of B141 , B140))))
proof
let C181 being non  empty TopSpace;
set D92 = ( BoolePoset (the carrier of C181) );
let C182 being  ultra (Filter of D92);
let C183 being set;
thus L536: (C183 is_a_cluster_point_of C182 , C181 implies C183 is_a_convergence_point_of C182 , C181)
proof
assume L537: (for B143 being (Subset of C181) holds ((B143 is  open & C183 in B143) implies (for B144 being set holds (B144 in C182 implies B143 meets B144))));
let C184 being (Subset of C181);
assume that
L538: (C184 is  open & C183 in C184)
and
L539: (not C184 in C182);
L540: C182 is  prime by L335;
L541: ( (the carrier of C181) \ C184 ) in C182 by L540 , L539 , L293;
L542: C184 meets ( (the carrier of C181) \ C184 ) by L541 , L537 , L538;
thus L543: contradiction by L542 , XBOOLE_1:79;
end;

assume L544: (for B145 being (Subset of C181) holds ((B145 is  open & C183 in B145) implies B145 in C182));
let C185 being (Subset of C181);
assume L545: (C185 is  open & C183 in C185);
L546: C185 in C182 by L545 , L544;
L547: ( Bottom D92 ) = ( {} ) by YELLOW_1:18;
L548: (not ( {} ) in C182) by L547 , L20;
let C186 being set;
assume L549: C186 in C182;
reconsider D93 = C185 , D94 = C186 as (Element of D92) by L549 , L546;
L550: ( D93 "/\" D94 ) = ( C185 /\ C186 ) by YELLOW_1:17;
L551: ( C185 /\ C186 ) in C182 by L550 , L546 , L549 , WAYBEL_0:41;
thus L552: thesis by L551 , L548 , XBOOLE_0:def 7;
end;
theorem
L553: (for B146 being non  empty TopSpace holds (for B147 , B148 being (Element of ( InclPoset (the topology of B146) )) holds (B147 << B148 implies (for B149 being  proper (Filter of ( BoolePoset (the carrier of B146) )) holds (B147 in B149 implies (ex B150 being (Element of B146) st (B150 in B148 & B150 is_a_cluster_point_of B149 , B146)))))))
proof
defpred S3[ set , set ] means $1 misses $2;
let C187 being non  empty TopSpace;
set D95 = ( InclPoset (the topology of C187) );
set D96 = ( BoolePoset (the carrier of C187) );
let C188 , C189 being (Element of D95);
assume that
L554: C188 << C189;
L555: D96 = ( InclPoset ( bool (the carrier of C187) ) ) by YELLOW_1:4;
L556: D96 = RelStr (# ( bool (the carrier of C187) ) , ( RelIncl ( bool (the carrier of C187) ) ) #) by L555 , YELLOW_1:def 1;
L557: (C188 in (the carrier of D95) & D95 = RelStr (# (the topology of C187) , ( RelIncl (the topology of C187) ) #)) by YELLOW_1:def 1;
reconsider D97 = C188 as (Element of D96) by L557 , L556;
let C190 being  proper (Filter of D96);
assume that
L558: C188 in C190
and
L559: (for B151 being (Element of C187) holds (B151 in C189 implies (not B151 is_a_cluster_point_of C190 , C187)));
set D98 = { B152 where B152 is (Subset of C187) : (B152 is  open & B152 meets C189 & (ex B153 being set st (B153 in C190 & B152 misses B153))) };
L560: D98 c= ( bool (the carrier of C187) )
proof
let C191 being set;
assume L561: C191 in D98;
L562: (ex B154 being (Subset of C187) st (C191 = B154 & B154 is  open & B154 meets C189 & (ex B155 being set st (B155 in C190 & B154 misses B155)))) by L561;
thus L563: thesis by L562;
end;
reconsider D99 = D98 as (Subset-Family of C187) by L560;
reconsider D100 = D99 as (Subset-Family of C187);
L564: C189 c= ( union D100 )
proof
let C192 being set;
assume L565: C192 in C189;
L566: D95 = RelStr (# (the topology of C187) , ( RelIncl (the topology of C187) ) #) by YELLOW_1:def 1;
L567: C189 in (the topology of C187) by L566;
L568: (not C192 is_a_cluster_point_of C190 , C187) by L567 , L559 , L565;
consider C193 being (Subset of C187) such that L569: C193 is  open and L570: C192 in C193 and L571: (ex B156 being set st (B156 in C190 & C193 misses B156)) by L568 , L529;
L572: C193 meets C189 by L565 , L570 , XBOOLE_0:3;
L573: C193 in D100 by L572 , L569 , L571;
thus L574: thesis by L573 , L570 , TARSKI:def 4;
end;
L575: D100 is  open
proof
let C194 being (Subset of C187);
assume L576: C194 in D100;
L577: (ex B157 being (Subset of C187) st (C194 = B157 & B157 is  open & B157 meets C189 & (ex B158 being set st (B158 in C190 & B157 misses B158)))) by L576;
thus L578: thesis by L577;
end;
consider C195 being  finite (Subset of D100) such that L579: C188 c= ( union C195 ) by L575 , L554 , L564 , WAYBEL_3:34;
L580:
now
let C196 being set;
assume L581: C196 in C195;
L582: C196 in D100 by L581;
L583: (ex B159 being (Subset of C187) st (C196 = B159 & B159 is  open & B159 meets C189 & (ex B160 being set st (B160 in C190 & B159 misses B160)))) by L582;
thus L584: (ex B161 being set st (B161 in C190 & S3[ C196 , B161 ])) by L583;
end;
consider C197 being Function such that L585: (( dom C197 ) = C195 & ( rng C197 ) c= C190 & (for B162 being set holds (B162 in C195 implies S3[ B162 , ( C197 . B162 ) ]))) from FUNCT_1:sch 5(L580);
L586: ( rng C197 ) is  finite by L585 , FINSET_1:8;
consider C198 being (Element of ( BoolePoset (the carrier of C187) )) such that L587: C198 in C190 and L588: C198 is_<=_than ( rng C197 ) by L586 , L585 , WAYBEL_0:2;
set D101 = the (Element of ( D97 "/\" C198 ));
L589: ( D97 "/\" C198 ) in C190 by L558 , L587 , WAYBEL_0:41;
L590: ( D97 "/\" C198 ) <> ( Bottom D96 ) by L589 , L20;
L591: ( D97 "/\" C198 ) <> ( {} ) by L590 , YELLOW_1:18;
L592: D101 in ( D97 "/\" C198 ) by L591;
L593: ( D97 "/\" C198 ) c= ( D97 /\ C198 ) by YELLOW_1:17;
L594: D101 in C188 by L593 , L592 , XBOOLE_0:def 4;
consider C199 being set such that L595: D101 in C199 and L596: C199 in C195 by L594 , L579 , TARSKI:def 4;
L597: D101 in C198 by L592 , L593 , XBOOLE_0:def 4;
L598: ( C197 . C199 ) in ( rng C197 ) by L585 , L596 , FUNCT_1:def 3;
L599: ( C197 . C199 ) in C190 by L598 , L585;
reconsider D102 = ( C197 . C199 ) as (Element of D96) by L599;
L600: C198 <= D102 by L588 , L598 , LATTICE3:def 8;
L601: C198 c= D102 by L600 , YELLOW_1:2;
L602: C199 misses D102 by L585 , L596;
thus L603: contradiction by L602 , L597 , L595 , L601 , XBOOLE_0:3;
end;
theorem
L604: (for B163 being non  empty TopSpace holds (for B164 , B165 being (Element of ( InclPoset (the topology of B163) )) holds (B164 << B165 implies (for B166 being  ultra (Filter of ( BoolePoset (the carrier of B163) )) holds (B164 in B166 implies (ex B167 being (Element of B163) st (B167 in B165 & B167 is_a_convergence_point_of B166 , B163)))))))
proof
let C200 being non  empty TopSpace;
let C201 , C202 being (Element of ( InclPoset (the topology of C200) ));
assume that
L605: C201 << C202;
let C203 being  ultra (Filter of ( BoolePoset (the carrier of C200) ));
assume L606: C201 in C203;
consider C204 being (Element of C200) such that L607: (C204 in C202 & C204 is_a_cluster_point_of C203 , C200) by L606 , L605 , L553;
take C204;
thus L608: thesis by L607 , L535;
end;
theorem
L609: (for B168 being non  empty TopSpace holds (for B169 , B170 being (Element of ( InclPoset (the topology of B168) )) holds ((B169 c= B170 & (for B171 being  ultra (Filter of ( BoolePoset (the carrier of B168) )) holds (B169 in B171 implies (ex B172 being (Element of B168) st (B172 in B170 & B172 is_a_convergence_point_of B171 , B168))))) implies B169 << B170)))
proof
let C205 being non  empty TopSpace;
set D103 = ( BoolePoset (the carrier of C205) );
let C206 , C207 being (Element of ( InclPoset (the topology of C205) ));
assume that
L610: C206 c= C207
and
L611: (for B173 being  ultra (Filter of D103) holds (C206 in B173 implies (ex B174 being (Element of C205) st (B174 in C207 & B174 is_a_convergence_point_of B173 , C205))));
L612: ( InclPoset (the topology of C205) ) = RelStr (# (the topology of C205) , ( RelIncl (the topology of C205) ) #) by YELLOW_1:def 1;
L613: C206 in (the topology of C205) by L612;
reconsider D104 = C206 as (Subset of C205) by L613;
reconsider D105 = D104 as (Subset of C205);
assume L614: (not C206 << C207);
consider C208 being (Subset-Family of C205) such that L615: C208 is  open and L616: C207 c= ( union C208 ) and L617: (not (ex B175 being  finite (Subset of C208) st C206 c= ( union B175 ))) by L614 , WAYBEL_3:35;
set D106 = { ( C206 \ B176 ) where B176 is (Subset of C205) : B176 in C208 };
set D107 = the (Element of C208);
L618:
now
assume L619: C208 = ( {} );
L620: C207 = ( {} ) by L619 , L616 , ZFMISC_1:2;
L621: C206 = C207 by L620 , L610;
thus L622: contradiction by L621 , L610 , L616 , L617 , L619 , L620;
end;
L623: D107 in C208 by L618;
L624: D103 = ( InclPoset ( bool (the carrier of C205) ) ) by YELLOW_1:4;
L625: D103 = RelStr (# ( bool (the carrier of C205) ) , ( RelIncl ( bool (the carrier of C205) ) ) #) by L624 , YELLOW_1:def 1;
L626: D106 c= (the carrier of D103)
proof
let C209 being set;
assume L627: C209 in D106;
L628: (ex B177 being (Subset of C205) st (C209 = ( C206 \ B177 ) & B177 in C208)) by L627;
L629: C209 c= D105 by L628;
L630: C209 c= (the carrier of C205) by L629 , XBOOLE_1:1;
thus L631: thesis by L630 , L625;
end;
reconsider D108 = D106 as (Subset of D103) by L626;
set D109 = ( uparrow ( fininfs D108 ) );
L632:
now
defpred S4[ set , set ] means $1 = ( C206 \ $2 );
assume L633: ( Bottom D103 ) in D109;
consider C210 being (Element of D103) such that L634: C210 <= ( Bottom D103 ) and L635: C210 in ( fininfs D108 ) by L633 , WAYBEL_0:def 16;
consider C211 being  finite (Subset of D108) such that L636: C210 = ( "/\" (C211 , D103) ) and L637:  ex_inf_of C211 , D103 by L635;
reconsider D110 = C211 as (Subset of D103) by XBOOLE_1:1;
L638:
now
let C212 being set;
assume L639: C212 in C211;
L640: C212 in D108 by L639;
L641: (ex B178 being (Subset of C205) st (C212 = ( C206 \ B178 ) & B178 in C208)) by L640;
thus L642: (ex B179 being set st (B179 in C208 & S4[ C212 , B179 ])) by L641;
end;
consider C213 being Function such that L643: (( dom C213 ) = C211 & ( rng C213 ) c= C208 & (for B180 being set holds (B180 in C211 implies S4[ B180 , ( C213 . B180 ) ]))) from FUNCT_1:sch 5(L638);
reconsider D111 = ( rng C213 ) as  finite (Subset of C208) by L643 , FINSET_1:8;
L644: ( Bottom D103 ) = ( {} ) by YELLOW_1:18;
L645: C210 c= ( {} ) by L644 , L634 , YELLOW_1:2;
L646:
now
assume L647: C211 = ( {} );
L648: C210 = ( Top D103 ) by L647 , L636;
thus L649: contradiction by L648 , L645 , YELLOW_1:19;
end;
L650: C210 = ( meet D110 ) by L646 , L636 , YELLOW_1:20;
L651: C206 c= ( union D111 )
proof
let C214 being set;
assume that
L652: C214 in C206
and
L653: (not C214 in ( union D111 ));
L654:
now
let C215 being set;
assume L655: C215 in C211;
L656: ( C213 . C215 ) in ( rng C213 ) by L655 , L643 , FUNCT_1:def 3;
L657: (not C214 in ( C213 . C215 )) by L656 , L653 , TARSKI:def 4;
L658: C215 = ( C206 \ ( C213 . C215 ) ) by L643 , L655;
thus L659: C214 in C215 by L658 , L652 , L657 , XBOOLE_0:def 5;
end;
thus L660: contradiction by L654 , L645 , L646 , L650 , SETFAM_1:def 1;
end;
thus L661: contradiction by L651 , L617;
end;
L662: D109 is  proper by L632 , L20;
consider C216 being (Filter of D103) such that L663: D109 c= C216 and L664: C216 is  ultra by L662 , L514;
reconsider D112 = D107 as (Subset of C205) by L623;
L665: D108 c= D109 by WAYBEL_0:62;
L666: ( C206 \ D112 ) in D108 by L618;
L667: ( C206 \ D112 ) in D109 by L666 , L665;
L668: ( C206 \ D112 ) c= D105;
L669: C206 in C216 by L668 , L663 , L667 , L60;
consider C217 being (Element of C205) such that L670: C217 in C207 and L671: C217 is_a_convergence_point_of C216 , C205 by L669 , L611 , L664;
consider C218 being set such that L672: C217 in C218 and L673: C218 in C208 by L616 , L670 , TARSKI:def 4;
reconsider D113 = C218 as (Subset of C205) by L673;
L674: D113 is  open by L615 , L673 , TOPS_2:def 1;
L675: D113 in C216 by L674 , L671 , L672 , L530;
L676: D108 c= D109 by WAYBEL_0:62;
L677: ( C206 \ D113 ) in D108 by L673;
L678: ( C206 \ D113 ) in D109 by L677 , L676;
L679: (D113 misses ( C206 \ D113 ) & ( D113 /\ ( C206 \ D113 ) ) in C216) by L678 , L663 , L675 , L86 , XBOOLE_1:79;
L680: ( {} ) in C216 by L679 , XBOOLE_0:def 7;
L681: ( Bottom D103 ) in C216 by L680 , YELLOW_1:18;
thus L682: thesis by L681 , L664 , L20;
end;
::$N Alexander's Lemma
theorem
L683: (for B181 being non  empty TopSpace holds (for B182 being (prebasis of B181) holds (for B183 , B184 being (Element of ( InclPoset (the topology of B181) )) holds (B183 c= B184 implies (B183 << B184 iff (for B185 being (Subset of B182) holds (B184 c= ( union B185 ) implies (ex B186 being  finite (Subset of B185) st B183 c= ( union B186 )))))))))
proof
let C219 being non  empty TopSpace;
let C220 being (prebasis of C219);
consider C221 being (Basis of C219) such that L684: C221 c= ( FinMeetCl C220 ) by CANTOR_1:def 4;
set D114 = ( BoolePoset (the carrier of C219) );
set D115 = ( InclPoset (the topology of C219) );
let C222 , C223 being (Element of D115);
assume that
L685: C222 c= C223;
L686: C220 c= (the topology of C219) by TOPS_2:64;
thus L687:now
assume L688: C222 << C223;
let C224 being (Subset of C220);
assume that
L689: C223 c= ( union C224 );
reconsider D116 = C224 as (Subset-Family of C219) by XBOOLE_1:1;
L690: D116 is  open
proof
let C225 being (Subset of C219);
assume L691: C225 in D116;
L692: C225 in C220 by L691;
thus L693: C225 in (the topology of C219) by L692 , L686;
end;
thus L694: (ex B187 being  finite (Subset of C224) st C222 c= ( union B187 )) by L690 , L688 , L689 , WAYBEL_3:34;
end;
L695: D114 = ( InclPoset ( bool (the carrier of C219) ) ) by YELLOW_1:4;
L696: D114 = RelStr (# ( bool (the carrier of C219) ) , ( RelIncl ( bool (the carrier of C219) ) ) #) by L695 , YELLOW_1:def 1;
L697: D115 = RelStr (# (the topology of C219) , ( RelIncl (the topology of C219) ) #) by YELLOW_1:def 1;
L698: (C222 in (the topology of C219) & C223 in (the topology of C219)) by L697;
reconsider D117 = C222 , D118 = C223 as (Subset of C219) by L698;
assume L699: (for B188 being (Subset of C220) holds (C223 c= ( union B188 ) implies (ex B189 being  finite (Subset of B188) st C222 c= ( union B189 ))));
L700: (the topology of C219) c= ( UniCl C221 ) by CANTOR_1:def 2;
L701:
now
deffunc H1(set) = ( C222 \ $1 );
let C226 being  ultra (Filter of ( BoolePoset (the carrier of C219) ));
assume that
L702: C222 in C226
and
L703: (not (ex B190 being (Element of C219) st (B190 in C223 & B190 is_a_convergence_point_of C226 , C219)));
defpred S5[ set , set ] means ($1 in $2 & (not $2 in C226));
L704:
now
let C227 being set;
assume L705: C227 in C223;
L706: C227 in D118 by L705;
reconsider D119 = C227 as (Element of C219) by L706;
L707: (not D119 is_a_convergence_point_of C226 , C219) by L703 , L705;
consider C228 being (Subset of C219) such that L708: C228 is  open and L709: D119 in C228 and L710: (not C228 in C226) by L707 , L530;
L711: C228 in (the topology of C219) by L708 , PRE_TOPC:def 2;
consider C229 being (Subset-Family of C219) such that L712: C229 c= C221 and L713: C228 = ( union C229 ) by L711 , L700 , CANTOR_1:def 1;
consider C230 being set such that L714: D119 in C230 and L715: C230 in C229 by L709 , L713 , TARSKI:def 4;
reconsider D120 = C230 as (Subset of C219) by L715;
L716: D120 in C221 by L712 , L715;
consider C231 being (Subset-Family of C219) such that L717: C231 c= C220 and L718: C231 is  finite and L719: D120 = ( Intersect C231 ) by L716 , L684 , CANTOR_1:def 3;
L720: D120 c= C228 by L713 , L715 , ZFMISC_1:74;
L721: (not D120 in C226) by L720 , L710 , L60;
L722: (not C231 is (Subset of C226)) by L721 , L718 , L719 , L113;
consider C232 being set such that L723: (C232 in C231 & (not C232 in C226)) by L722 , TARSKI:def 3;
take D121 = C232;
thus L724: (D121 in C220 & S5[ C227 , D121 ]) by L714 , L717 , L719 , L723 , SETFAM_1:43;
end;
consider C233 being Function such that L725: (( dom C233 ) = C223 & ( rng C233 ) c= C220) and L726: (for B191 being set holds (B191 in C223 implies S5[ B191 , ( C233 . B191 ) ])) from FUNCT_1:sch 5(L704);
reconsider D122 = ( rng C233 ) as (Subset of C220) by L725;
L727: C223 c= ( union D122 )
proof
let C234 being set;
assume L728: C234 in C223;
L729: (( C233 . C234 ) in D122 & C234 in ( C233 . C234 )) by L728 , L725 , L726 , FUNCT_1:def 3;
thus L730: thesis by L729 , TARSKI:def 4;
end;
consider C235 being  finite (Subset of D122) such that L731: C222 c= ( union C235 ) by L727 , L699;
set D123 = the (Element of C235);
consider C236 being Function such that L732: (( dom C236 ) = C235 & (for B192 being set holds (B192 in C235 implies ( C236 . B192 ) = H1(B192)))) from FUNCT_1:sch 3;
L733: ( rng C236 ) c= C226
proof
let C237 being set;
L734: C226 is  prime by L335;
assume L735: C237 in ( rng C236 );
consider C238 being set such that L736: C238 in C235 and L737: C237 = ( C236 . C238 ) by L735 , L732 , FUNCT_1:def 3;
L738: C238 in D122 by L736;
L739: C238 in C220 by L738;
reconsider D124 = C238 as (Subset of C219) by L739;
L740: (ex B193 being set st (B193 in C223 & D124 = ( C233 . B193 ))) by L725 , L736 , FUNCT_1:def 3;
L741: (not D124 in C226) by L740 , L726;
L742: ( (the carrier of C219) \ D124 ) in C226 by L741 , L734 , L293;
L743: C237 = ( C222 \ D124 ) by L732 , L736 , L737
.= ( D117 /\ ( D124 ` ) ) by SUBSET_1:13
.= ( C222 /\ ( (the carrier of C219) \ D124 ) );
thus L744: thesis by L743 , L702 , L742 , L86;
end;
reconsider D125 = ( rng C236 ) as  finite (Subset-Family of C219) by L733 , L696 , L732 , FINSET_1:8 , XBOOLE_1:1;
L745: C222 <> ( Bottom ( BoolePoset (the carrier of C219) ) ) by L702 , L20;
L746: C222 <> ( {} ) by L745 , YELLOW_1:18;
L747: C235 <> ( {} ) by L746 , L731 , ZFMISC_1:2;
L748:
now
let C239 being set;
assume L749: C239 in ( Intersect D125 );
L750:
now
let C240 being set;
assume L751: C240 in C235;
L752: (( C236 . C240 ) in D125 & ( C236 . C240 ) = ( C222 \ C240 )) by L751 , L732 , FUNCT_1:def 3;
L753: C239 in ( C222 \ C240 ) by L752 , L749 , SETFAM_1:43;
thus L754: (not C239 in C240) by L753 , XBOOLE_0:def 5;
end;
L755: (not (ex B194 being set st (C239 in B194 & B194 in C235))) by L750;
L756: (not C239 in C222) by L755 , L731 , TARSKI:def 4;
L757: (( C236 . D123 ) in D125 & ( C236 . D123 ) = ( C222 \ D123 )) by L747 , L732 , FUNCT_1:def 3;
L758: C239 in ( C222 \ D123 ) by L757 , L749 , SETFAM_1:43;
thus L759: contradiction by L758 , L756;
end;
L760: ( Intersect D125 ) = ( {} ) by L748 , XBOOLE_0:def 1;
L761: ( Intersect D125 ) in C226 by L733 , L113;
L762: ( Bottom ( BoolePoset (the carrier of C219) ) ) in C226 by L761 , L760 , YELLOW_1:18;
thus L763: contradiction by L762 , L20;
end;
thus L764: thesis by L701 , L685 , L609;
end;
theorem
L765: (for B195 being  distributive  complete LATTICE holds (for B196 , B197 being (Element of B195) holds (B196 << B197 iff (for B198 being  prime (Ideal of B195) holds (B197 <= ( sup B198 ) implies B196 in B198)))))
proof
let C241 being  distributive  complete LATTICE;
let C242 , C243 being (Element of C241);
thus L766: (C242 << C243 implies (for B199 being  prime (Ideal of C241) holds (C243 <= ( sup B199 ) implies C242 in B199))) by WAYBEL_3:20;
assume L767: (for B200 being  prime (Ideal of C241) holds (C243 <= ( sup B200 ) implies C242 in B200));
L768:
now
let C244 being (Ideal of C241);
assume that
L769: C243 <= ( sup C244 )
and
L770: (not C242 in C244);
consider C245 being (Ideal of C241) such that L771: C245 is  prime and L772: C244 c= C245 and L773: (not C242 in C245) by L770 , L495;
L774: ( sup C244 ) <= ( sup C245 ) by L772 , L1;
thus L775: contradiction by L774 , L767 , L769 , L771 , L773 , ORDERS_2:3;
end;
thus L776: thesis by L768 , WAYBEL_3:21;
end;
theorem
L777: (for B201 being LATTICE holds (for B202 being (Element of B201) holds (B202 is  prime implies ( downarrow B202 ) is  prime)))
proof
let C246 being LATTICE;
let C247 being (Element of C246);
assume that
L778: (for B203 , B204 being (Element of C246) holds (( B203 "/\" B204 ) <= C247 implies (B203 <= C247 or B204 <= C247)));
let C248 , C249 being (Element of C246);
assume L779: ( C248 "/\" C249 ) in ( downarrow C247 );
L780: ( C248 "/\" C249 ) <= C247 by L779 , WAYBEL_0:17;
L781: (C248 <= C247 or C249 <= C247) by L780 , L778;
thus L782: thesis by L781 , WAYBEL_0:17;
end;
begin
definition
let C250 being LATTICE;
let C251 being (Element of C250);
attr C251 is  pseudoprime
means
:L783: (ex B205 being  prime (Ideal of C250) st C251 = ( sup B205 ));
end;
theorem
L785: (for B206 being LATTICE holds (for B207 being (Element of B206) holds (B207 is  prime implies B207 is  pseudoprime)))
proof
let C252 being LATTICE;
let C253 being (Element of C252);
assume L786: C253 is  prime;
L787: ( downarrow C253 ) is  prime by L786 , L777;
L788: C253 = ( sup ( downarrow C253 ) ) by WAYBEL_0:34;
thus L789: (ex B208 being  prime (Ideal of C252) st C253 = ( sup B208 )) by L788 , L787;
end;
theorem
L790: (for B209 being  continuous LATTICE holds (for B210 being (Element of B209) holds (B210 is  pseudoprime implies (for B211 being  finite non  empty (Subset of B209) holds (( inf B211 ) << B210 implies (ex B212 being (Element of B209) st (B212 in B211 & B212 <= B210)))))))
proof
let C254 being  continuous LATTICE;
let C255 being (Element of C254);
given C256 being  prime (Ideal of C254) such that
L791: C255 = ( sup C256 );

let C257 being  finite non  empty (Subset of C254);
assume L792: ( inf C257 ) << C255;
L793: ( inf C257 ) in ( waybelow C255 ) by L792;
L794: ( waybelow C255 ) c= C256 by L791 , WAYBEL_5:1;
consider C258 being (Element of C254) such that L795: (C258 in C257 & C258 in C256) by L794 , L793 , L131;
take C258;
L796:  ex_sup_of C256 , C254 by WAYBEL_0:75;
L797: C256 is_<=_than C255 by L796 , L791 , YELLOW_0:30;
thus L798: thesis by L797 , L795 , LATTICE3:def 9;
end;
theorem
L799: (for B213 being  continuous LATTICE holds (for B214 being (Element of B213) holds (((B214 <> ( Top B213 ) or (not ( Top B213 ) is  compact)) & (for B215 being  finite non  empty (Subset of B213) holds (( inf B215 ) << B214 implies (ex B216 being (Element of B213) st (B216 in B215 & B216 <= B214))))) implies ( uparrow ( fininfs ( ( downarrow B214 ) ` ) ) ) misses ( waybelow B214 ))))
proof
let C259 being  continuous LATTICE;
let C260 being (Element of C259);
assume that
L800: (C260 <> ( Top C259 ) or (not ( Top C259 ) is  compact))
and
L801: (for B217 being  finite non  empty (Subset of C259) holds (( inf B217 ) << C260 implies (ex B218 being (Element of C259) st (B218 in B217 & B218 <= C260))));
L802:
now
let C261 being set;
assume L803: C261 in ( uparrow ( fininfs ( ( downarrow C260 ) ` ) ) );
reconsider D126 = C261 as (Element of C259) by L803;
consider C262 being (Element of C259) such that L804: D126 >= C262 and L805: C262 in ( fininfs ( ( downarrow C260 ) ` ) ) by L803 , WAYBEL_0:def 16;
assume L806: C261 in ( waybelow C260 );
L807: D126 << C260 by L806 , WAYBEL_3:7;
L808: C262 << C260 by L807 , L804 , WAYBEL_3:2;
consider C263 being  finite (Subset of ( ( downarrow C260 ) ` )) such that L809: C262 = ( "/\" (C263 , C259) ) and L810:  ex_inf_of C263 , C259 by L805;
reconsider D127 = C263 as  finite (Subset of C259) by XBOOLE_1:1;
per cases ;
suppose L811: D127 <> ( {} );

consider C264 being (Element of C259) such that L812: C264 in D127 and L813: C264 <= C260 by L811 , L801 , L804 , L809 , L807 , WAYBEL_3:2;
L814: C264 in ( downarrow C260 ) by L813 , WAYBEL_0:17;
L815: (( downarrow C260 ) misses ( ( downarrow C260 ) ` ) & C264 in ( ( downarrow C260 ) /\ ( ( downarrow C260 ) ` ) )) by L814 , L812 , XBOOLE_0:def 4 , XBOOLE_1:79;
thus L816: contradiction by L815 , XBOOLE_0:def 7;
end;
suppose L817: D127 = ( {} );

L818: (C262 <= C260 & C260 <= ( Top C259 )) by L808 , WAYBEL_3:1 , YELLOW_0:45;
L819: C260 = ( Top C259 ) by L818 , L809 , L817 , ORDERS_2:2;
thus L820: contradiction by L819 , L800 , L809 , L808 , L817 , WAYBEL_3:def 2;
end;
end;
thus L822: thesis by L802 , XBOOLE_0:3;
end;
theorem
L823: (for B219 being  continuous LATTICE holds (( Top B219 ) is  compact implies ((for B220 being  finite non  empty (Subset of B219) holds (( inf B220 ) << ( Top B219 ) implies (ex B221 being (Element of B219) st (B221 in B220 & B221 <= ( Top B219 ))))) & ( uparrow ( fininfs ( ( downarrow ( Top B219 ) ) ` ) ) ) meets ( waybelow ( Top B219 ) ))))
proof
let C265 being  continuous LATTICE;
assume that
L824: ( Top C265 ) << ( Top C265 );
L825:
now
take D128 = ( Top C265 );
thus L826: D128 in ( uparrow ( fininfs ( ( downarrow ( Top C265 ) ) ` ) ) ) by WAYBEL_4:22;
thus L827: D128 in ( waybelow ( Top C265 ) ) by L824;
end;
thus L828:now
let C266 being  finite non  empty (Subset of C265);
assume that
L829: ( inf C266 ) << ( Top C265 );
set D129 = the (Element of C266);
reconsider D130 = D129 as (Element of C265);
take D131 = D130;
thus L830: (D131 in C266 & D131 <= ( Top C265 )) by YELLOW_0:45;
end;
thus L831: thesis by L825 , XBOOLE_0:3;
end;
theorem
L832: (for B222 being  continuous LATTICE holds (for B223 being (Element of B222) holds (( uparrow ( fininfs ( ( downarrow B223 ) ` ) ) ) misses ( waybelow B223 ) implies (for B224 being  finite non  empty (Subset of B222) holds (( inf B224 ) << B223 implies (ex B225 being (Element of B222) st (B225 in B224 & B225 <= B223)))))))
proof
let C267 being  continuous LATTICE;
let C268 being (Element of C267);
assume that
L833: ( uparrow ( fininfs ( ( downarrow C268 ) ` ) ) ) misses ( waybelow C268 );
let C269 being  finite non  empty (Subset of C267);
assume L834: ( inf C269 ) << C268;
L835: ( inf C269 ) in ( waybelow C268 ) by L834;
L836: (not ( inf C269 ) in ( uparrow ( fininfs ( ( downarrow C268 ) ` ) ) )) by L835 , L833 , XBOOLE_0:3;
L837: (( ( downarrow C268 ) ` ) c= ( uparrow ( fininfs ( ( downarrow C268 ) ` ) ) ) & (not C269 c= ( uparrow ( fininfs ( ( downarrow C268 ) ` ) ) ))) by L836 , WAYBEL_0:43 , WAYBEL_0:62;
L838: (not C269 c= ( ( downarrow C268 ) ` )) by L837 , XBOOLE_1:1;
consider C270 being set such that L839: C270 in C269 and L840: (not C270 in ( ( downarrow C268 ) ` )) by L838 , TARSKI:def 3;
reconsider D132 = C270 as (Element of C267) by L839;
take D132;
L841: D132 in ( downarrow C268 ) by L840 , SUBSET_1:29;
thus L842: thesis by L841 , L839 , WAYBEL_0:17;
end;
theorem
L843: (for B226 being  distributive  continuous LATTICE holds (for B227 being (Element of B226) holds (( uparrow ( fininfs ( ( downarrow B227 ) ` ) ) ) misses ( waybelow B227 ) implies B227 is  pseudoprime)))
proof
let C271 being  distributive  continuous LATTICE;
let C272 being (Element of C271);
set D133 = ( waybelow C272 );
set D134 = ( uparrow ( fininfs ( ( downarrow C272 ) ` ) ) );
L844: ( ex_sup_of ( downarrow C272 ) , C271 & ( sup ( downarrow C272 ) ) = C272) by WAYBEL_0:34;
L845: ( ( downarrow C272 ) ` ) c= D134 by WAYBEL_0:62;
L846: ( D134 ` ) c= ( ( ( downarrow C272 ) ` ) ` ) by L845 , SUBSET_1:12;
assume L847: D134 misses D133;
consider C273 being (Ideal of C271) such that L848: C273 is  prime and L849: D133 c= C273 and L850: C273 misses D134 by L847 , L397;
reconsider D135 = C273 as  prime (Ideal of C271) by L848;
L851:  ex_sup_of D135 , C271 by WAYBEL_0:75;
L852: ( ex_sup_of D133 , C271 & C272 = ( sup D133 )) by WAYBEL_0:75 , WAYBEL_3:def 5;
L853: ( sup D135 ) >= C272 by L852 , L849 , L851 , YELLOW_0:34;
take D135;
L854: D135 c= ( D134 ` ) by L850 , SUBSET_1:23;
L855: ( sup D135 ) <= C272 by L854 , L851 , L846 , L844 , XBOOLE_1:1 , YELLOW_0:34;
thus L856: thesis by L855 , L853 , ORDERS_2:2;
end;
definition
let C274 being non  empty RelStr;
let C275 being (Relation of (the carrier of C274));
attr C275 is  multiplicative
means
:L857: (for B228 , B229 , B230 being (Element of C274) holds (([ B228 , B229 ] in C275 & [ B228 , B230 ] in C275) implies [ B228 , ( B229 "/\" B230 ) ] in C275));
end;
registration
let C276 being  lower-bounded sup-Semilattice;
let C277 being  auxiliary (Relation of C276);
let C278 being (Element of C276);
cluster ( C277 -above C278 ) ->  upper;
coherence
proof
let C279 , C280 being (Element of C276);
assume that
L859: C279 in ( C277 -above C278 )
and
L860: C279 <= C280;
L861: (C278 <= C278 & [ C278 , C279 ] in C277) by L859 , WAYBEL_4:14;
L862: [ C278 , C280 ] in C277 by L861 , L860 , WAYBEL_4:def 4;
thus L863: thesis by L862 , WAYBEL_4:14;
end;
end;
theorem
L865: (for B231 being  lower-bounded LATTICE holds (for B232 being  auxiliary (Relation of B231) holds (B232 is  multiplicative iff (for B233 being (Element of B231) holds ( B232 -above B233 ) is  filtered))))
proof
let C281 being  lower-bounded LATTICE;
let C282 being  auxiliary (Relation of C281);
thus L866:now
assume L867: C282 is  multiplicative;
let C283 being (Element of C281);
thus L868: ( C282 -above C283 ) is  filtered
proof
let C284 , C285 being (Element of C281);
assume L869: (C284 in ( C282 -above C283 ) & C285 in ( C282 -above C283 ));
L870: ([ C283 , C284 ] in C282 & [ C283 , C285 ] in C282) by L869 , WAYBEL_4:14;
L871: [ C283 , ( C284 "/\" C285 ) ] in C282 by L870 , L867 , L857;
L872: ( C284 "/\" C285 ) in ( C282 -above C283 ) by L871 , WAYBEL_4:14;
L873: (C284 >= ( C284 "/\" C285 ) & C285 >= ( C284 "/\" C285 )) by YELLOW_0:23;
thus L874: thesis by L873 , L872;
end;

end;
assume L869: (for B234 being (Element of C281) holds ( C282 -above B234 ) is  filtered);
let C286 , C287 , C288 being (Element of C281);
assume L870: ([ C286 , C287 ] in C282 & [ C286 , C288 ] in C282);
L871: (C287 in ( C282 -above C286 ) & C288 in ( C282 -above C286 )) by L870 , WAYBEL_4:14;
L872: ( C282 -above C286 ) is  filtered by L869;
L873: ( C287 "/\" C288 ) in ( C282 -above C286 ) by L872 , L871 , WAYBEL_0:41;
thus L874: [ C286 , ( C287 "/\" C288 ) ] in C282 by L873 , WAYBEL_4:14;
end;
theorem
L875: (for B235 being  lower-bounded LATTICE holds (for B236 being  auxiliary (Relation of B235) holds (B236 is  multiplicative iff (for B237 , B238 , B239 , B240 being (Element of B235) holds (([ B237 , B239 ] in B236 & [ B238 , B240 ] in B236) implies [ ( B237 "/\" B238 ) , ( B239 "/\" B240 ) ] in B236)))))
proof
let C289 being  lower-bounded LATTICE;
let C290 being  auxiliary (Relation of C289);
thus L876:now
assume L877: C290 is  multiplicative;
let C291 , C292 , C293 , C294 being (Element of C289);
assume that
L878: [ C291 , C293 ] in C290
and
L879: [ C292 , C294 ] in C290;
L880: (( C291 "/\" C292 ) <= C292 & C294 <= C294) by YELLOW_0:23;
L881: [ ( C291 "/\" C292 ) , C294 ] in C290 by L880 , L879 , WAYBEL_4:def 4;
L882: (C291 >= ( C291 "/\" C292 ) & C293 <= C293) by YELLOW_0:23;
L883: [ ( C291 "/\" C292 ) , C293 ] in C290 by L882 , L878 , WAYBEL_4:def 4;
thus L884: [ ( C291 "/\" C292 ) , ( C293 "/\" C294 ) ] in C290 by L883 , L877 , L881 , L857;
end;
assume L885: (for B241 , B242 , B243 , B244 being (Element of C289) holds (([ B241 , B243 ] in C290 & [ B242 , B244 ] in C290) implies [ ( B241 "/\" B242 ) , ( B243 "/\" B244 ) ] in C290));
let C295 being (Element of C289);
L886: ( C295 "/\" C295 ) = C295 by YELLOW_0:25;
thus L887: thesis by L886 , L885;
end;
theorem
L888: (for B245 being  lower-bounded LATTICE holds (for B246 being  auxiliary (Relation of B245) holds (B246 is  multiplicative iff (for B247 being  full (SubRelStr of [: B245 , B245 :]) holds ((the carrier of B247) = B246 implies B247 is  meet-inheriting)))))
proof
let C296 being  lower-bounded LATTICE;
let C297 being  auxiliary (Relation of C296);
reconsider D136 = C297 as (Subset of [: C296 , C296 :]) by YELLOW_3:def 2;
L889: D136 = (the carrier of ( subrelstr D136 )) by YELLOW_0:def 15;
thus L890:now
assume L891: C297 is  multiplicative;
let C298 being  full (SubRelStr of [: C296 , C296 :]);
assume that
L892: (the carrier of C298) = C297;
thus L893: C298 is  meet-inheriting
proof
let C299 , C300 being (Element of [: C296 , C296 :]);
assume L894: (C299 in (the carrier of C298) & C300 in (the carrier of C298));
L895: (the carrier of [: C296 , C296 :]) = [: (the carrier of C296) , (the carrier of C296) :] by YELLOW_3:def 2;
L896: (C299 = [ ( C299 `1 ) , ( C299 `2 ) ] & C300 = [ ( C300 `1 ) , ( C300 `2 ) ]) by L895 , MCART_1:21;
L897:  ex_inf_of { C299 , C300 } , [: C296 , C296 :] by YELLOW_0:21;
L898: ( inf { C299 , C300 } ) = [ ( inf ( proj1 { C299 , C300 } ) ) , ( inf ( proj2 { C299 , C300 } ) ) ] by L897 , YELLOW_3:47
.= [ ( inf { ( C299 `1 ) , ( C300 `1 ) } ) , ( inf ( proj2 { C299 , C300 } ) ) ] by L896 , FUNCT_5:13
.= [ ( inf { ( C299 `1 ) , ( C300 `1 ) } ) , ( inf { ( C299 `2 ) , ( C300 `2 ) } ) ] by L896 , FUNCT_5:13
.= [ ( ( C299 `1 ) "/\" ( C300 `1 ) ) , ( inf { ( C299 `2 ) , ( C300 `2 ) } ) ] by YELLOW_0:40
.= [ ( ( C299 `1 ) "/\" ( C300 `1 ) ) , ( ( C299 `2 ) "/\" ( C300 `2 ) ) ] by YELLOW_0:40;
thus L899: thesis by L898 , L891 , L892 , L894 , L896 , L875;
end;

end;
assume L894: (for B248 being  full (SubRelStr of [: C296 , C296 :]) holds ((the carrier of B248) = C297 implies B248 is  meet-inheriting));
L895: ( subrelstr D136 ) is  meet-inheriting by L894 , L889;
let C301 , C302 , C303 being (Element of C296);
L896:  ex_inf_of { [ C301 , C302 ] , [ C301 , C303 ] } , [: C296 , C296 :] by YELLOW_0:21;
assume L897: ([ C301 , C302 ] in C297 & [ C301 , C303 ] in C297);
L898: ( inf { [ C301 , C302 ] , [ C301 , C303 ] } ) in C297 by L897 , L889 , L895 , L896 , YELLOW_0:def 16;
L899: ( [ C301 , C302 ] "/\" [ C301 , C303 ] ) in C297 by L898 , YELLOW_0:40;
set D137 = [ C301 , C302 ];
set D138 = [ C301 , C303 ];
L900: ( [ C301 , C302 ] "/\" [ C301 , C303 ] ) = ( inf { D137 , D138 } ) by YELLOW_0:40
.= [ ( inf ( proj1 { D137 , D138 } ) ) , ( inf ( proj2 { D137 , D138 } ) ) ] by L896 , YELLOW_3:47
.= [ ( inf { C301 , C301 } ) , ( inf ( proj2 { D137 , D138 } ) ) ] by FUNCT_5:13
.= [ ( inf { C301 , C301 } ) , ( inf { C302 , C303 } ) ] by FUNCT_5:13
.= [ ( C301 "/\" C301 ) , ( inf { C302 , C303 } ) ] by YELLOW_0:40
.= [ ( C301 "/\" C301 ) , ( C302 "/\" C303 ) ] by YELLOW_0:40;
thus L901: [ C301 , ( C302 "/\" C303 ) ] in C297 by L900 , L899 , YELLOW_0:25;
end;
theorem
L902: (for B249 being  lower-bounded LATTICE holds (for B250 being  auxiliary (Relation of B249) holds (B250 is  multiplicative iff ( B250 -below ) is  meet-preserving)))
proof
let C304 being  lower-bounded LATTICE;
let C305 being  auxiliary (Relation of C304);
thus L903:now
assume L904: C305 is  multiplicative;
thus L905: ( C305 -below ) is  meet-preserving
proof
let C306 , C307 being (Element of C304);
L906: ( ( C305 -below ) . C307 ) = ( C305 -below C307 ) by WAYBEL_4:def 12;
L907: ( C305 -below ( C306 "/\" C307 ) ) = ( ( C305 -below C306 ) /\ ( C305 -below C307 ) )
proof
thus L908:now
let C308 being set;
assume L909: C308 in ( C305 -below ( C306 "/\" C307 ) );
L910: C308 in { B251 where B251 is (Element of C304) : [ B251 , ( C306 "/\" C307 ) ] in C305 } by L909 , WAYBEL_4:def 10;
consider C309 being (Element of C304) such that L911: C308 = C309 and L912: [ C309 , ( C306 "/\" C307 ) ] in C305 by L910;
L913: C309 <= C309;
L914: ( C306 "/\" C307 ) <= C307 by YELLOW_0:23;
L915: [ C309 , C307 ] in C305 by L914 , L912 , L913 , WAYBEL_4:def 4;
L916: C309 in ( C305 -below C307 ) by L915 , WAYBEL_4:13;
L917: ( C306 "/\" C307 ) <= C306 by YELLOW_0:23;
L918: [ C309 , C306 ] in C305 by L917 , L912 , L913 , WAYBEL_4:def 4;
L919: C309 in ( C305 -below C306 ) by L918 , WAYBEL_4:13;
thus L920: C308 in ( ( C305 -below C306 ) /\ ( C305 -below C307 ) ) by L919 , L911 , L916 , XBOOLE_0:def 4;
end;
let C310 being set;
assume L921: C310 in ( ( C305 -below C306 ) /\ ( C305 -below C307 ) );
reconsider D139 = C310 as (Element of C304) by L921;
L922: C310 in ( C305 -below C307 ) by L921 , XBOOLE_0:def 4;
L923: [ D139 , C307 ] in C305 by L922 , WAYBEL_4:13;
L924: C310 in ( C305 -below C306 ) by L921 , XBOOLE_0:def 4;
L925: [ D139 , C306 ] in C305 by L924 , WAYBEL_4:13;
L926: [ D139 , ( C306 "/\" C307 ) ] in C305 by L925 , L904 , L923 , L857;
thus L927: thesis by L926 , WAYBEL_4:13;
end;
L928: (( ( C305 -below ) . ( C306 "/\" C307 ) ) = ( C305 -below ( C306 "/\" C307 ) ) & ( ( C305 -below ) . C306 ) = ( C305 -below C306 )) by WAYBEL_4:def 12;
L929: ( ( C305 -below ) . ( C306 "/\" C307 ) ) = ( ( ( C305 -below ) . C306 ) "/\" ( ( C305 -below ) . C307 ) ) by L928 , L906 , L907 , YELLOW_2:43;
thus L930: thesis by L929 , YELLOW_3:8;
end;

end;
assume L906: (for B252 , B253 being (Element of C304) holds ( C305 -below ) preserves_inf_of { B252 , B253 });
let C311 , C312 , C313 being (Element of C304);
L907: ( C305 -below ) preserves_inf_of { C312 , C313 } by L906;
L908: ( ( C305 -below ) . ( C312 "/\" C313 ) ) = ( ( ( C305 -below ) . C312 ) "/\" ( ( C305 -below ) . C313 ) ) by L907 , YELLOW_3:8
.= ( ( ( C305 -below ) . C312 ) /\ ( ( C305 -below ) . C313 ) ) by YELLOW_2:43;
L909: ( ( C305 -below ) . C313 ) = ( C305 -below C313 ) by WAYBEL_4:def 12;
assume L910: ([ C311 , C312 ] in C305 & [ C311 , C313 ] in C305);
L911: (C311 in ( C305 -below C312 ) & C311 in ( C305 -below C313 )) by L910 , WAYBEL_4:13;
L912: (( ( C305 -below ) . ( C312 "/\" C313 ) ) = ( C305 -below ( C312 "/\" C313 ) ) & ( ( C305 -below ) . C312 ) = ( C305 -below C312 )) by WAYBEL_4:def 12;
L913: C311 in ( C305 -below ( C312 "/\" C313 ) ) by L912 , L908 , L909 , L911 , XBOOLE_0:def 4;
thus L914: thesis by L913 , WAYBEL_4:13;
end;
L915:
now
let C314 being  continuous  lower-bounded LATTICE;
let C315 being (Element of C314);
assume that
L916: ( C314 -waybelow ) is  multiplicative
and
L917: (for B254 , B255 being (Element of C314) holds (( B254 "/\" B255 ) << C315 implies (B254 <= C315 or B255 <= C315)))
and
L918: (not C315 is  prime);
consider C316 , C317 being (Element of C314) such that L919: ( C316 "/\" C317 ) <= C315 and L920: (not C316 <= C315) and L921: (not C317 <= C315) by L918 , WAYBEL_6:def 6;
L922: (for B256 being (Element of C314) holds ( waybelow B256 ) is non  empty  directed);
consider C318 being (Element of C314) such that L923: C318 << C316 and L924: (not C318 <= C315) by L922 , L920 , WAYBEL_3:24;
consider C319 being (Element of C314) such that L925: C319 << C317 and L926: (not C319 <= C315) by L921 , L922 , WAYBEL_3:24;
L927: [ C319 , C317 ] in ( C314 -waybelow ) by L925 , WAYBEL_4:def 1;
L928: [ C318 , C316 ] in ( C314 -waybelow ) by L923 , WAYBEL_4:def 1;
L929: [ ( C318 "/\" C319 ) , ( C316 "/\" C317 ) ] in ( C314 -waybelow ) by L928 , L916 , L927 , L875;
L930: ( C318 "/\" C319 ) << ( C316 "/\" C317 ) by L929 , WAYBEL_4:def 1;
L931: ( C318 "/\" C319 ) << C315 by L930 , L919 , WAYBEL_3:2;
thus L932: contradiction by L931 , L917 , L924 , L926;
end;
theorem
L933: (for B257 being  continuous  lower-bounded LATTICE holds (( B257 -waybelow ) is  multiplicative implies (for B258 being (Element of B257) holds (B258 is  pseudoprime iff (for B259 , B260 being (Element of B257) holds (( B259 "/\" B260 ) << B258 implies (B259 <= B258 or B260 <= B258)))))))
proof
let C320 being  continuous  lower-bounded LATTICE;
assume that
L934: ( C320 -waybelow ) is  multiplicative;
let C321 being (Element of C320);
thus L935:now
assume L936: C321 is  pseudoprime;
let C322 , C323 being (Element of C320);
assume L937: ( C322 "/\" C323 ) << C321;
L938: ( inf { C322 , C323 } ) << C321 by L937 , YELLOW_0:40;
L939: (ex B261 being (Element of C320) st (B261 in { C322 , C323 } & B261 <= C321)) by L938 , L936 , L790;
thus L940: (C322 <= C321 or C323 <= C321) by L939 , TARSKI:def 2;
end;
assume L941: (for B262 , B263 being (Element of C320) holds (( B262 "/\" B263 ) << C321 implies (B262 <= C321 or B263 <= C321)));
thus L942: thesis by L941 , L934 , L915 , L785;
end;
theorem
L943: (for B264 being  continuous  lower-bounded LATTICE holds (( B264 -waybelow ) is  multiplicative implies (for B265 being (Element of B264) holds (B265 is  pseudoprime implies B265 is  prime))))
proof
let C324 being  continuous  lower-bounded LATTICE;
assume that
L944: ( C324 -waybelow ) is  multiplicative;
let C325 being (Element of C324);
assume L945: C325 is  pseudoprime;
L946: (for B266 , B267 being (Element of C324) holds (( B266 "/\" B267 ) << C325 implies (B266 <= C325 or B267 <= C325))) by L945 , L944 , L933;
thus L947: thesis by L946 , L944 , L915;
end;
theorem
L948: (for B268 being  distributive  continuous  lower-bounded LATTICE holds ((for B269 being (Element of B268) holds (B269 is  pseudoprime implies B269 is  prime)) implies ( B268 -waybelow ) is  multiplicative))
proof
let C326 being  distributive  continuous  lower-bounded LATTICE;
assume that
L949: (for B270 being (Element of C326) holds (B270 is  pseudoprime implies B270 is  prime));
given C327 , C328 , C329 being (Element of C326) such that
L950: ([ C327 , C328 ] in ( C326 -waybelow ) & [ C327 , C329 ] in ( C326 -waybelow ))
and
L951: (not [ C327 , ( C328 "/\" C329 ) ] in ( C326 -waybelow ));

L952:
now
let C330 being set;
assume that
L953: C330 in ( waybelow ( C328 "/\" C329 ) )
and
L954: C330 in ( uparrow C327 );
reconsider D140 = C330 as (Element of C326) by L953;
L955: (D140 << ( C328 "/\" C329 ) & D140 >= C327) by L953 , L954 , WAYBEL_0:18 , WAYBEL_3:7;
L956: C327 << ( C328 "/\" C329 ) by L955 , WAYBEL_3:2;
thus L957: contradiction by L956 , L951 , WAYBEL_4:def 1;
end;
L958: ( waybelow ( C328 "/\" C329 ) ) misses ( uparrow C327 ) by L952 , XBOOLE_0:3;
consider C331 being (Ideal of C326) such that L959: C331 is  prime and L960: ( waybelow ( C328 "/\" C329 ) ) c= C331 and L961: C331 misses ( uparrow C327 ) by L958 , L397;
set D141 = ( sup C331 );
L962: D141 is  pseudoprime by L959 , L783;
L963: D141 is  prime by L962 , L949;
L964: C327 <= C327;
L965: C327 in ( uparrow C327 ) by L964 , WAYBEL_0:18;
L966: (( C328 "/\" C329 ) = ( sup ( waybelow ( C328 "/\" C329 ) ) ) &  ex_sup_of ( waybelow ( C328 "/\" C329 ) ) , C326) by WAYBEL_0:75 , WAYBEL_3:def 5;
L967:  ex_sup_of C331 , C326 by WAYBEL_0:75;
L968: ( C328 "/\" C329 ) <= D141 by L967 , L960 , L966 , YELLOW_0:34;
L969: ((C328 <= D141 & C327 << C328) or (C329 <= D141 & C327 << C329)) by L968 , L950 , L963 , WAYBEL_4:def 1 , WAYBEL_6:def 6;
L970: C327 in C331 by L969 , WAYBEL_3:20;
thus L971: thesis by L970 , L961 , L965 , XBOOLE_0:3;
end;
