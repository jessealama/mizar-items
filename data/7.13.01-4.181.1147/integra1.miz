:: The Definition of Riemann Definite Integral and some Related Lemmas
::  by Noboru Endou and Artur Korni{\l}owicz
::
:: Received March 13, 1999
:: Copyright (c) 1999-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies FINSEQ_1, RCOMP_1, ORDINAL2, ARYTM_1, RELAT_1, FUNCT_1, PARTFUN1,
      CARD_3, XBOOLE_0, FUNCT_3, ZFMISC_1, XXREAL_0, REAL_1, SUBSET_1,
      FINSEQ_2, RFINSEQ, JORDAN3, SEQ_4, CARD_1, INTEGRA1, FUNCOP_1, VALUED_0,
      NUMBERS, ORDINAL1, MEASURE7, ORDINAL4, XXREAL_1, XXREAL_2, NAT_1,
      XREAL_0, ARYTM_3, TARSKI, MEMBER_1, MEASURE5;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, ORDINAL1, CARD_1, NUMBERS,
      XXREAL_0, XREAL_0, REAL_1, NAT_1, NAT_D, RELAT_1, FUNCT_1, RELSET_1,
      VALUED_0, MEMBERED, MEMBER_1, VALUED_1, SEQ_1, SEQ_4, XXREAL_2, COMSEQ_2,
      SEQ_2, RCOMP_1, FINSEQ_2, PARTFUN2, RFUNCT_1, RVSUM_1, RFINSEQ, FINSEQ_6,
      PARTFUN1, FINSEQ_1, FUNCT_2, MEASURE5, MEASURE6;
 constructors PARTFUN1, REAL_1, NAT_1, RCOMP_1, FINSOP_1, PARTFUN2, RFUNCT_1,
      REALSET1, RFINSEQ, BINARITH, FINSEQ_5, SEQM_3, MEASURE6, FINSEQ_6, SEQ_1,
      BINOP_2, XXREAL_2, NAT_D, RVSUM_1, SEQ_4, RELSET_1, SEQ_2, MEMBER_1,
      XXREAL_3, MEASURE5, COMSEQ_2;
 registrations SUBSET_1, RELAT_1, ORDINAL1, FUNCT_2, NUMBERS, XXREAL_0,
      XREAL_0, NAT_1, MEMBERED, FINSEQ_1, FINSEQ_2, SEQM_3, MEASURE6, VALUED_0,
      VALUED_1, FINSET_1, XXREAL_2, CARD_1, SEQ_2, RELSET_1, MEMBER_1, SEQ_4,
      MEASURE5, COMSEQ_2;
 requirements REAL, NUMERALS, BOOLE, SUBSET, ARITHM;
 definitions TARSKI, SEQ_4, XBOOLE_0, RVSUM_1, SUBSET_1, XXREAL_2, FUNCT_2;
 theorems TARSKI, RCOMP_1, FINSEQ_1, FINSEQ_2, SEQ_4, FUNCT_1, NAT_1, NAT_2,
      SUBSET_1, PARTFUN1, RFUNCT_1, MEASURE6, RVSUM_1, PARTFUN2, ZFMISC_1,
      FUNCT_3, FINSEQ_4, RFINSEQ, RELAT_1, FUNCT_2, XBOOLE_0, XBOOLE_1,
      FUNCOP_1, XREAL_1, XXREAL_0, FINSOP_1, ORDINAL1, XXREAL_1, VALUED_1,
      FINSEQ_3, XXREAL_2, SEQM_3, NAT_D, FINSEQ_6, MEMBER_1, MEMBERED, CARD_1,
      MEASURE5;
 schemes FINSEQ_2, NAT_1, XBOOLE_0, FUNCT_2;

begin
registration
cluster  closed_interval ->  compact for (Subset of ( REAL ));
coherence
proof
let C1 being (Subset of ( REAL ));
assume L1: C1 is  closed_interval;
L2: (ex B1 , B2 being  real number st C1 = [. B1 , B2 .]) by L1 , MEASURE5:def 3;
thus L3: thesis by L2 , RCOMP_1:6;
end;
end;
canceled 2;
theorem
L5: (for R20 being non  empty  closed_interval (Subset of ( REAL )) holds R20 is  bounded_below  bounded_above)
proof
let R20 being non  empty  closed_interval (Subset of ( REAL ));
L6: R20 is  real-bounded by RCOMP_1:10;
thus L7: thesis by L6;
end;
registration
cluster non  empty  closed_interval ->  real-bounded for (Subset of ( REAL ));
coherence
proof
let C2 being (Subset of ( REAL ));
assume L8: C2 is non  empty  closed_interval;
thus L9: C2 is  bounded_below  bounded_above by L8 , L5;
end;
end;
theorem
L11: (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds R21 = [. ( lower_bound R21 ) , ( upper_bound R21 ) .])
proof
let R21 being non  empty  closed_interval (Subset of ( REAL ));
consider C3 , C4 being Real such that L12: C3 <= C4 and L13: R21 = [. C3 , C4 .] by MEASURE5:14;
L14: (for B3 being  real number holds (( 0 ) < B3 implies (ex B4 being  real number st (B4 in R21 & ( C4 - B3 ) < B4))))
proof
let C5 being  real number;
assume L15: ( 0 ) < C5;
take C4;
L16: C4 < ( C4 + C5 ) by L15 , XREAL_1:29;
L17: ( C4 - C5 ) < ( ( C4 + C5 ) - C5 ) by L16 , XREAL_1:9;
thus L18: thesis by L17 , L12 , L13 , XXREAL_1:1;
end;
L19: (for B5 being  real number holds (B5 in R21 implies B5 <= C4))
proof
let C6 being  real number;
assume L20: C6 in R21;
L21: R21 = { R6 where R6 is Real : (C3 <= R6 & R6 <= C4) } by L13 , RCOMP_1:def 1;
L22: (ex R6 being Real st (C6 = R6 & C3 <= R6 & R6 <= C4)) by L21 , L20;
thus L23: thesis by L22;
end;
L24: (for B6 being  real number holds (B6 in R21 implies C3 <= B6))
proof
let C7 being  real number;
assume L25: C7 in R21;
L26: R21 = { R6 where R6 is Real : (C3 <= R6 & R6 <= C4) } by L13 , RCOMP_1:def 1;
L27: (ex R6 being Real st (C7 = R6 & C3 <= R6 & R6 <= C4)) by L26 , L25;
thus L28: thesis by L27;
end;
L29: (for B7 being  real number holds (( 0 ) < B7 implies (ex B8 being  real number st (B8 in R21 & B8 < ( C3 + B7 )))))
proof
let C8 being  real number;
assume L30: ( 0 ) < C8;
take C3;
thus L31: thesis by L12 , L13 , L30 , XREAL_1:29 , XXREAL_1:1;
end;
L32: C3 = ( lower_bound R21 ) by L29 , L24 , SEQ_4:def 2;
thus L33: thesis by L32 , L13 , L19 , L14 , SEQ_4:def 1;
end;
theorem
L34: (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for B9 , B10 , B11 , B12 being  real number holds ((R21 = [. B9 , B11 .] & R21 = [. B10 , B12 .]) implies (B9 = B10 & B11 = B12))))
proof
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let C9 , C10 , C11 , C12 being  real number;
assume that
L35: R21 = [. C9 , C11 .]
and
L36: R21 = [. C10 , C12 .];
L37: C9 <= C11 by L35 , XXREAL_1:29;
thus L38: thesis by L37 , L35 , L36 , XXREAL_1:66;
end;
begin
definition
canceled 1;
let C13 being non  empty  compact (Subset of ( REAL ));
mode Division of C13
 -> non  empty  increasing (FinSequence of ( REAL ))
means :L39: (( rng it ) c= C13 & ( it . ( len it ) ) = ( upper_bound C13 ));
existence
proof
set D1 = ( upper_bound C13 );
reconsider D2 = ( ( Seg 1 ) --> D1 ) as (Function of ( Seg 1 ) , ( REAL )) by FUNCOP_1:45;
L40: ( dom D2 ) = ( Seg 1 ) by FUNCOP_1:13;
L41: ( rng D2 ) c= ( REAL );
reconsider D3 = D2 as (FinSequence of ( REAL )) by L41 , FINSEQ_1:def 4;
L42: 1 in ( Seg 1 ) by FINSEQ_1:2 , TARSKI:def 1;
L43: (for R13 being (Element of ( NAT )) holds (for R14 being (Element of ( NAT )) holds ((R13 in ( dom D3 ) & R14 in ( dom D3 ) & R13 < R14) implies ( D3 . R13 ) < ( D3 . R14 ))))
proof
let R13 being (Element of ( NAT ));
let R14 being (Element of ( NAT ));
assume that
L44: R13 in ( dom D3 )
and
L45: R14 in ( dom D3 );
L46: R13 = 1 by L40 , L44 , FINSEQ_1:2 , TARSKI:def 1;
thus L47: thesis by L46 , L40 , L45 , FINSEQ_1:2 , TARSKI:def 1;
end;
L48: D3 is non  empty  increasing non  empty  increasing non  empty  increasing non  empty  increasing (FinSequence of ( REAL )) by L43 , SEQM_3:def 1;
L49: ( upper_bound C13 ) in C13 by RCOMP_1:14;
L50: (for B13 being Nat holds (B13 in ( Seg 1 ) implies ( D3 . B13 ) in C13)) by L49 , FUNCOP_1:7;
L51: D3 is (FinSequence of C13) by L50 , L40 , FINSEQ_2:12;
L52: ( rng D3 ) c= C13 by L51 , FINSEQ_1:def 4;
L53: ( len D3 ) = 1 by L40 , FINSEQ_1:def 3;
L54: ( D3 . ( len D3 ) ) = ( upper_bound C13 ) by L53 , L42 , FUNCOP_1:7;
thus L55: thesis by L54 , L52 , L48;
end;
end;
definition
let C14 being non  empty  compact (Subset of ( REAL ));
func divs C14 means 
:L57: (for R17 being set holds (R17 in it iff R17 is (Division of C14)));
existence
proof
defpred S1[ set ] means $1 is (Division of C14);
consider R18 being set such that L58: (for R17 being set holds (R17 in R18 iff (R17 in ( bool [: ( NAT ) , ( REAL ) :] ) & S1[ R17 ]))) from XBOOLE_0:sch 1;
take R18;
let R17 being set;
thus L59: (R17 in R18 implies R17 is (Division of C14)) by L58;
assume L60: R17 is (Division of C14);
reconsider D4 = R17 as (Division of C14) by L60;
L61: D4 c= [: ( NAT ) , ( REAL ) :];
thus L62: thesis by L61 , L58;
end;
uniqueness
proof
let C15 , C16 being set;
assume that
L63: (for R17 being set holds (R17 in C15 iff R17 is (Division of C14)))
and
L64: (for R17 being set holds (R17 in C16 iff R17 is (Division of C14)));
L65:
now
let R17 being set;
thus L66: (R17 in C15 implies R17 in C16)
proof
assume L67: R17 in C15;
L68: R17 is (Division of C14) by L67 , L63;
thus L69: thesis by L68 , L64;
end;

assume L70: R17 in C16;
L71: R17 is (Division of C14) by L70 , L64;
thus L72: R17 in C15 by L71 , L63;
end;
thus L73: thesis by L65 , TARSKI:1;
end;
end;
registration
let C17 being non  empty  compact (Subset of ( REAL ));
cluster ( divs C17 ) -> non  empty;
coherence
proof
L75: the (Division of C17) in ( divs C17 ) by L57;
thus L76: thesis by L75;
end;
end;
registration
let C18 being non  empty  compact (Subset of ( REAL ));
cluster  ->  Function-like  Relation-like for (Element of ( divs C18 ));
coherence by L57;
end;
registration
let C19 being non  empty  compact (Subset of ( REAL ));
cluster  ->  real-valued  FinSequence-like for (Element of ( divs C19 ));
coherence by L57;
end;
theorem
L80: (for R10 being (Element of ( NAT )) holds (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R24 being (Division of R21) holds (R10 in ( dom R24 ) implies ( R24 . R10 ) in R21))))
proof
let R10 being (Element of ( NAT ));
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R24 being (Division of R21);
assume L81: R10 in ( dom R24 );
L82: ( R24 . R10 ) in ( rng R24 ) by L81 , FUNCT_1:def 3;
L83: ( rng R24 ) c= R21 by L39;
thus L84: thesis by L83 , L82;
end;
theorem
L85: (for R10 being (Element of ( NAT )) holds (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R24 being (Division of R21) holds ((R10 in ( dom R24 ) & R10 <> 1) implies (( R10 - 1 ) in ( dom R24 ) & ( R24 . ( R10 - 1 ) ) in R21 & ( R10 - 1 ) in ( NAT ))))))
proof
let R10 being (Element of ( NAT ));
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R24 being (Division of R21);
assume that
L86: R10 in ( dom R24 )
and
L87: R10 <> 1;
consider C20 being Nat such that L88: ( dom R24 ) = ( Seg C20 ) by FINSEQ_1:def 2;
L89: R10 <> ( 0 ) by L86 , L88 , FINSEQ_1:1;
L90: R10 is non  trivial by L89 , L87 , NAT_2:def 1;
consider C21 being Nat such that L91: R10 = ( 2 + C21 ) by L90 , NAT_1:10 , NAT_2:29;
reconsider D5 = C21 as (Element of ( NAT )) by ORDINAL1:def 12;
L92: R10 >= 2 by L90 , NAT_2:29;
L93: ( ( 1 + 1 ) - 1 ) <= ( R10 - 1 ) by L92 , XREAL_1:9;
L94: R10 <= C20 by L86 , L88 , FINSEQ_1:1;
L95: ( R10 - 1 ) <= ( C20 - ( 0 ) ) by L94 , XREAL_1:13;
L96: ( rng R24 ) c= R21 by L39;
L97: ( D5 + 1 ) = ( R10 - ( 2 - 1 ) ) by L91;
L98: ( R10 - 1 ) in ( dom R24 ) by L97 , L88 , L93 , L95 , FINSEQ_1:1;
L99: ( R24 . ( R10 - 1 ) ) in ( rng R24 ) by L98 , FUNCT_1:def 3;
thus L100: thesis by L99 , L88 , L93 , L95 , L97 , L96 , FINSEQ_1:1;
end;
definition
let C22 being non  empty  closed_interval (Subset of ( REAL ));
let C23 being (Division of C22);
let C24 being Nat;
assume L101: C24 in ( dom C23 );
func divset (C23 , C24) -> non  empty  closed_interval (Subset of ( REAL )) means 
:L102: (( lower_bound it ) = ( lower_bound C22 ) & ( upper_bound it ) = ( C23 . C24 )) if C24 = 1 otherwise (( lower_bound it ) = ( C23 . ( C24 - 1 ) ) & ( upper_bound it ) = ( C23 . C24 ));
existence
proof
thus L103:now
assume L104: C24 = 1;
thus L105: (ex B14 being non  empty  closed_interval (Subset of ( REAL )) st (( lower_bound B14 ) = ( lower_bound C22 ) & ( upper_bound B14 ) = ( C23 . C24 )))
proof
consider R15 being (Subset of ( REAL )) such that L106: R15 = [. ( lower_bound C22 ) , ( C23 . C24 ) .];
L107: ( C23 . C24 ) in C22 by L101 , L80;
L108: ( lower_bound C22 ) <= ( C23 . C24 ) by L107 , SEQ_4:def 2;
L109: R15 is non  empty  closed_interval non  empty  closed_interval non  empty  closed_interval non  empty  closed_interval (Subset of ( REAL )) by L108 , L106 , MEASURE5:14;
L110: R15 = [. ( lower_bound R15 ) , ( upper_bound R15 ) .] by L109 , L11;
L111: ( upper_bound R15 ) = ( C23 . C24 ) by L110 , L106 , L109 , L34;
L112: ( lower_bound R15 ) = ( lower_bound C22 ) by L106 , L109 , L110 , L34;
thus L113: thesis by L112 , L109 , L111;
end;

end;
assume that
L106: C24 <> 1;
thus L107: (ex B15 being non  empty  closed_interval (Subset of ( REAL )) st (( lower_bound B15 ) = ( C23 . ( C24 - 1 ) ) & ( upper_bound B15 ) = ( C23 . C24 )))
proof
reconsider D6 = ( C24 - 1 ) as (Element of ( NAT )) by L101 , L106 , L85;
L108: ( C24 + ( - 1 ) ) < ( C24 + ( 1 + ( - 1 ) ) ) by XREAL_1:6;
consider R2 being Real, R4 being Real such that L109: R2 = ( C23 . ( C24 - 1 ) ) and L110: R4 = ( C23 . C24 );
consider R15 being (Subset of ( REAL )) such that L111: R15 = [. R2 , R4 .];
L112: ( C24 - 1 ) in ( dom C23 ) by L101 , L106 , L85;
L113: ( C23 . D6 ) < ( C23 . C24 ) by L112 , L101 , L108 , SEQM_3:def 1;
L114: R15 is non  empty  closed_interval non  empty  closed_interval non  empty  closed_interval non  empty  closed_interval (Subset of ( REAL )) by L113 , L109 , L110 , L111 , MEASURE5:14;
L115: R15 = [. ( lower_bound R15 ) , ( upper_bound R15 ) .] by L114 , L11;
L116: ( upper_bound R15 ) = ( C23 . C24 ) by L115 , L110 , L111 , L114 , L34;
L117: ( lower_bound R15 ) = ( C23 . ( C24 - 1 ) ) by L109 , L111 , L114 , L115 , L34;
thus L118: thesis by L117 , L114 , L116;
end;

end;
uniqueness
proof
let C25 , C26 being non  empty  closed_interval (Subset of ( REAL ));
thus L108:now
consider R3 being Real such that L109: R3 = ( C23 . C24 );
assume that
L110: C24 = 1
and
L111: ( lower_bound C25 ) = ( lower_bound C22 )
and
L112: ( upper_bound C25 ) = ( C23 . C24 )
and
L113: ( lower_bound C26 ) = ( lower_bound C22 )
and
L114: ( upper_bound C26 ) = ( C23 . C24 );
L115: C25 = [. ( lower_bound C22 ) , R3 .] by L111 , L112 , L109 , L11;
thus L116: C25 = C26 by L115 , L113 , L114 , L109 , L11;
end;
assume that
L117: C24 <> 1
and
L118: ( lower_bound C25 ) = ( C23 . ( C24 - 1 ) )
and
L119: ( upper_bound C25 ) = ( C23 . C24 )
and
L120: ( lower_bound C26 ) = ( C23 . ( C24 - 1 ) )
and
L121: ( upper_bound C26 ) = ( C23 . C24 );
consider R1 being Real, R3 being Real such that L122: R1 = ( C23 . ( C24 - 1 ) ) and L123: R3 = ( C23 . C24 );
L124: C25 = [. R1 , R3 .] by L118 , L119 , L122 , L123 , L11;
thus L125: thesis by L124 , L120 , L121 , L122 , L123 , L11;
end;
correctness;
end;
theorem
L127: (for R10 being (Element of ( NAT )) holds (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R24 being (Division of R21) holds (R10 in ( dom R24 ) implies ( divset (R24 , R10) ) c= R21))))
proof
let R10 being (Element of ( NAT ));
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R24 being (Division of R21);
assume L128: R10 in ( dom R24 );
L129:
now
per cases ;
suppose L130: R10 = 1;

L131: ( lower_bound R21 ) in R21 by RCOMP_1:14;
L132: ( lower_bound R21 ) in [. ( lower_bound R21 ) , ( upper_bound R21 ) .] by L131 , L11;
L133: ( lower_bound ( divset (R24 , R10) ) ) = ( lower_bound R21 ) by L128 , L130 , L102;
consider R3 being Real such that L134: R3 = ( R24 . R10 );
L135: ( upper_bound ( divset (R24 , R10) ) ) = R3 by L128 , L130 , L134 , L102;
L136: ( divset (R24 , R10) ) = [. ( lower_bound R21 ) , R3 .] by L135 , L133 , L11;
L137: R3 in R21 by L128 , L134 , L80;
L138: R3 in [. ( lower_bound R21 ) , ( upper_bound R21 ) .] by L137 , L11;
L139: [. ( lower_bound R21 ) , R3 .] c= [. ( lower_bound R21 ) , ( upper_bound R21 ) .] by L138 , L132 , XXREAL_2:def 12;
thus L140: thesis by L139 , L136 , L11;
end;
suppose L141: R10 <> 1;

set D7 = ( R24 . R10 );
L142: D7 in R21 by L128 , L80;
L143: D7 in [. ( lower_bound R21 ) , ( upper_bound R21 ) .] by L142 , L11;
set D8 = ( R24 . ( R10 - 1 ) );
L144: ( R24 . ( R10 - 1 ) ) in R21 by L128 , L141 , L85;
L145: D8 in [. ( lower_bound R21 ) , ( upper_bound R21 ) .] by L144 , L11;
L146: [. D8 , D7 .] c= [. ( lower_bound R21 ) , ( upper_bound R21 ) .] by L145 , L143 , XXREAL_2:def 12;
L147: ( upper_bound ( divset (R24 , R10) ) ) = D7 by L128 , L141 , L102;
L148: ( lower_bound ( divset (R24 , R10) ) ) = D8 by L128 , L141 , L102;
L149: ( divset (R24 , R10) ) = [. D8 , D7 .] by L148 , L147 , L11;
thus L150: thesis by L149 , L146 , L11;
end;
end;
thus L152: thesis by L129;
end;
definition
let C27 being (Subset of ( REAL ));
func vol C27 -> Real equals 
( ( upper_bound C27 ) - ( lower_bound C27 ) );
correctness;
end;
theorem
L154: (for B16 being  real-bounded non  empty (Subset of ( REAL )) holds ( 0 ) <= ( vol B16 )) by SEQ_4:11 , XREAL_1:48;
begin
definition
let C28 being non  empty  closed_interval (Subset of ( REAL ));
let C29 being (PartFunc of C28 , ( REAL ));
let C30 being (Division of C28);
func upper_volume (C29 , C30) -> (FinSequence of ( REAL )) means 
:L155: (( len it ) = ( len C30 ) & (for B17 being Nat holds (B17 in ( dom C30 ) implies ( it . B17 ) = ( ( upper_bound ( rng ( C29 | ( divset (C30 , B17) ) ) ) ) * ( vol ( divset (C30 , B17) ) ) ))));
existence
proof
deffunc H1(Nat) = ( ( upper_bound ( rng ( C29 | ( divset (C30 , $1) ) ) ) ) * ( vol ( divset (C30 , $1) ) ) );
consider C31 being (FinSequence of ( REAL )) such that L156: (( len C31 ) = ( len C30 ) & (for B18 being Nat holds (B18 in ( dom C31 ) implies ( C31 . B18 ) = H1(B18)))) from FINSEQ_2:sch 1;
take C31;
thus L157: ( len C31 ) = ( len C30 ) by L156;
let C32 being Nat;
assume L158: C32 in ( dom C30 );
L159: C32 in ( dom C31 ) by L158 , L156 , FINSEQ_3:29;
thus L160: thesis by L159 , L156;
end;
uniqueness
proof
let C33 , C34 being (FinSequence of ( REAL ));
assume that
L161: ( len C33 ) = ( len C30 )
and
L162: (for B19 being Nat holds (B19 in ( dom C30 ) implies ( C33 . B19 ) = ( ( upper_bound ( rng ( C29 | ( divset (C30 , B19) ) ) ) ) * ( vol ( divset (C30 , B19) ) ) )))
and
L163: ( len C34 ) = ( len C30 )
and
L164: (for B20 being Nat holds (B20 in ( dom C30 ) implies ( C34 . B20 ) = ( ( upper_bound ( rng ( C29 | ( divset (C30 , B20) ) ) ) ) * ( vol ( divset (C30 , B20) ) ) )));
L165: ( dom C33 ) = ( dom C30 ) by L161 , FINSEQ_3:29;
L166: (for B21 being Nat holds (B21 in ( dom C33 ) implies ( C33 . B21 ) = ( C34 . B21 )))
proof
let C35 being Nat;
assume L167: C35 in ( dom C33 );
L168: ( C33 . C35 ) = ( ( upper_bound ( rng ( C29 | ( divset (C30 , C35) ) ) ) ) * ( vol ( divset (C30 , C35) ) ) ) by L167 , L162 , L165;
thus L169: thesis by L168 , L164 , L165 , L167;
end;
thus L170: thesis by L166 , L161 , L163 , FINSEQ_2:9;
end;
func lower_volume (C29 , C30) -> (FinSequence of ( REAL )) means 
:L171: (( len it ) = ( len C30 ) & (for B22 being Nat holds (B22 in ( dom C30 ) implies ( it . B22 ) = ( ( lower_bound ( rng ( C29 | ( divset (C30 , B22) ) ) ) ) * ( vol ( divset (C30 , B22) ) ) ))));
existence
proof
deffunc H2(Nat) = ( ( lower_bound ( rng ( C29 | ( divset (C30 , $1) ) ) ) ) * ( vol ( divset (C30 , $1) ) ) );
consider C36 being (FinSequence of ( REAL )) such that L172: (( len C36 ) = ( len C30 ) & (for B23 being Nat holds (B23 in ( dom C36 ) implies ( C36 . B23 ) = H2(B23)))) from FINSEQ_2:sch 1;
take C36;
thus L173: ( len C36 ) = ( len C30 ) by L172;
let C37 being Nat;
assume L174: C37 in ( dom C30 );
L175: C37 in ( dom C36 ) by L174 , L172 , FINSEQ_3:29;
thus L176: thesis by L175 , L172;
end;
uniqueness
proof
let C38 , C39 being (FinSequence of ( REAL ));
assume that
L177: ( len C38 ) = ( len C30 )
and
L178: (for B24 being Nat holds (B24 in ( dom C30 ) implies ( C38 . B24 ) = ( ( lower_bound ( rng ( C29 | ( divset (C30 , B24) ) ) ) ) * ( vol ( divset (C30 , B24) ) ) )))
and
L179: ( len C39 ) = ( len C30 )
and
L180: (for B25 being Nat holds (B25 in ( dom C30 ) implies ( C39 . B25 ) = ( ( lower_bound ( rng ( C29 | ( divset (C30 , B25) ) ) ) ) * ( vol ( divset (C30 , B25) ) ) )));
L181: ( dom C38 ) = ( dom C30 ) by L177 , FINSEQ_3:29;
L182: (for B26 being Nat holds (B26 in ( dom C38 ) implies ( C38 . B26 ) = ( C39 . B26 )))
proof
let C40 being Nat;
assume L183: C40 in ( dom C38 );
L184: ( C38 . C40 ) = ( ( lower_bound ( rng ( C29 | ( divset (C30 , C40) ) ) ) ) * ( vol ( divset (C30 , C40) ) ) ) by L183 , L178 , L181;
thus L185: thesis by L184 , L180 , L181 , L183;
end;
thus L186: thesis by L182 , L177 , L179 , FINSEQ_2:9;
end;
end;
definition
let C41 being non  empty  closed_interval (Subset of ( REAL ));
let C42 being (PartFunc of C41 , ( REAL ));
let C43 being (Division of C41);
func upper_sum (C42 , C43) -> Real equals 
( Sum ( upper_volume (C42 , C43) ) );
correctness;
func lower_sum (C42 , C43) -> Real equals 
( Sum ( lower_volume (C42 , C43) ) );
correctness;
end;
definition
let C44 being non  empty  closed_interval (Subset of ( REAL ));
let C45 being (PartFunc of C44 , ( REAL ));
set D9 = ( divs C44 );
func upper_sum_set C45 -> (Function of ( divs C44 ) , ( REAL )) means 
:L189: (for B27 being (Division of C44) holds ( it . B27 ) = ( upper_sum (C45 , B27) ));
existence
proof
defpred S2[ (Element of D9) , set ] means (ex B28 being (Division of C44) st (B28 = $1 & $2 = ( upper_sum (C45 , B28) )));
L190: (for B29 being (Element of D9) holds (ex B30 being (Element of ( REAL )) st S2[ B29 , B30 ]))
proof
let C46 being (Element of D9);
reconsider D10 = C46 as (Division of C44) by L57;
take ( upper_sum (C45 , D10) );
thus L191: thesis;
end;
consider C47 being (Function of D9 , ( REAL )) such that L192: (for B31 being (Element of D9) holds S2[ B31 , ( C47 . B31 ) ]) from FUNCT_2:sch 3(L190);
take C47;
let C48 being (Division of C44);
reconsider D11 = C48 as (Element of D9) by L57;
L193: S2[ D11 , ( C47 . D11 ) ] by L192;
thus L194: thesis by L193;
end;
uniqueness
proof
let C49 , C50 being (Function of D9 , ( REAL ));
assume that
L195: (for B32 being (Division of C44) holds ( C49 . B32 ) = ( upper_sum (C45 , B32) ))
and
L196: (for B33 being (Division of C44) holds ( C50 . B33 ) = ( upper_sum (C45 , B33) ));
let C51 being (Element of D9);
reconsider D12 = C51 as (Division of C44) by L57;
thus L197: ( C49 . C51 ) = ( upper_sum (C45 , D12) ) by L195
.= ( C50 . C51 ) by L196;
end;
func lower_sum_set C45 -> (Function of ( divs C44 ) , ( REAL )) means 
:L198: (for B34 being (Division of C44) holds ( it . B34 ) = ( lower_sum (C45 , B34) ));
existence
proof
defpred S3[ (Element of D9) , set ] means (ex B35 being (Division of C44) st (B35 = $1 & $2 = ( lower_sum (C45 , B35) )));
L199: (for B36 being (Element of D9) holds (ex B37 being (Element of ( REAL )) st S3[ B36 , B37 ]))
proof
let C52 being (Element of D9);
reconsider D13 = C52 as (Division of C44) by L57;
take ( lower_sum (C45 , D13) );
thus L200: thesis;
end;
consider C53 being (Function of D9 , ( REAL )) such that L201: (for B38 being (Element of D9) holds S3[ B38 , ( C53 . B38 ) ]) from FUNCT_2:sch 3(L199);
take C53;
let C54 being (Division of C44);
reconsider D14 = C54 as (Element of D9) by L57;
L202: S3[ D14 , ( C53 . D14 ) ] by L201;
thus L203: thesis by L202;
end;
uniqueness
proof
let C55 , C56 being (Function of D9 , ( REAL ));
assume that
L204: (for B39 being (Division of C44) holds ( C55 . B39 ) = ( lower_sum (C45 , B39) ))
and
L205: (for B40 being (Division of C44) holds ( C56 . B40 ) = ( lower_sum (C45 , B40) ));
let C57 being (Element of D9);
reconsider D15 = C57 as (Division of C44) by L57;
thus L206: ( C55 . C57 ) = ( lower_sum (C45 , D15) ) by L204
.= ( C56 . C57 ) by L205;
end;
end;
definition
let C58 being non  empty  closed_interval (Subset of ( REAL ));
let C59 being (PartFunc of C58 , ( REAL ));
attr C59 is  upper_integrable
means
:L208: ( rng ( upper_sum_set C59 ) ) is  bounded_below;
attr C59 is  lower_integrable
means
:L209: ( rng ( lower_sum_set C59 ) ) is  bounded_above;
end;
definition
let C60 being non  empty  closed_interval (Subset of ( REAL ));
let C61 being (PartFunc of C60 , ( REAL ));
func upper_integral C61 -> Real equals 
( lower_bound ( rng ( upper_sum_set C61 ) ) );
correctness;
end;
definition
let C62 being non  empty  closed_interval (Subset of ( REAL ));
let C63 being (PartFunc of C62 , ( REAL ));
func lower_integral C63 -> Real equals 
( upper_bound ( rng ( lower_sum_set C63 ) ) );
coherence;
end;
definition
let C64 being non  empty  closed_interval (Subset of ( REAL ));
let C65 being (PartFunc of C64 , ( REAL ));
attr C65 is  integrable
means
:L213: (C65 is  upper_integrable  lower_integrable & ( upper_integral C65 ) = ( lower_integral C65 ));
end;
definition
let C66 being non  empty  closed_interval (Subset of ( REAL ));
let C67 being (PartFunc of C66 , ( REAL ));
func integral C67 -> Real equals 
( upper_integral C67 );
coherence;
end;
begin
theorem
L216: (for R16 being non  empty set holds (for B41 , B42 being (PartFunc of R16 , ( REAL )) holds ( rng ( B41 + B42 ) ) c= ( ( rng B41 ) ++ ( rng B42 ) )))
proof
let R16 being non  empty set;
let C68 , C69 being (PartFunc of R16 , ( REAL ));
L217: (for B43 being set holds (B43 in ( rng ( C68 + C69 ) ) implies B43 in ( ( rng C68 ) ++ ( rng C69 ) )))
proof
let C70 being set;
assume L218: C70 in ( rng ( C68 + C69 ) );
consider R17 being set such that L219: R17 in ( dom ( C68 + C69 ) ) and L220: C70 = ( ( C68 + C69 ) . R17 ) by L218 , FUNCT_1:def 3;
L221: ( dom ( C68 + C69 ) ) = ( ( dom C68 ) /\ ( dom C69 ) ) by VALUED_1:def 1;
L222: R17 in ( dom C68 ) by L221 , L219 , XBOOLE_0:def 4;
L223: ( C68 . R17 ) in ( rng C68 ) by L222 , FUNCT_1:def 3;
L224: R17 in ( dom C69 ) by L219 , L221 , XBOOLE_0:def 4;
L225: ( C69 . R17 ) in ( rng C69 ) by L224 , FUNCT_1:def 3;
L226: ( ( C68 + C69 ) . R17 ) = ( ( C68 . R17 ) + ( C69 . R17 ) ) by L219 , VALUED_1:def 1;
thus L227: thesis by L226 , L220 , L223 , L225 , MEMBER_1:46;
end;
thus L228: thesis by L217 , TARSKI:def 3;
end;
theorem
L229: (for R16 being non  empty set holds (for B44 being (PartFunc of R16 , ( REAL )) holds (( B44 | R16 ) is  bounded_below implies ( rng B44 ) is  bounded_below)))
proof
let R16 being non  empty set;
let C71 being (PartFunc of R16 , ( REAL ));
assume L230: ( C71 | R16 ) is  bounded_below;
consider C72 being  real number such that L231: (for B45 being set holds (B45 in ( R16 /\ ( dom C71 ) ) implies C72 <= ( C71 . B45 ))) by L230 , RFUNCT_1:71;
L232: ( R16 /\ ( dom C71 ) ) = ( dom C71 ) by XBOOLE_1:28;
L233: C72 is (LowerBound of ( rng C71 ))
proof
let C73 being  ext-real number;
assume L234: C73 in ( rng C71 );
L235: (ex R19 being set st (R19 in ( dom C71 ) & C73 = ( C71 . R19 ))) by L234 , FUNCT_1:def 3;
thus L236: thesis by L235 , L231 , L232;
end;
thus L237: thesis by L233 , XXREAL_2:def 9;
end;
theorem
L238: (for R16 being non  empty set holds (for B46 being (PartFunc of R16 , ( REAL )) holds (( rng B46 ) is  bounded_below implies ( B46 | R16 ) is  bounded_below)))
proof
let R16 being non  empty set;
let C74 being (PartFunc of R16 , ( REAL ));
assume L239: ( rng C74 ) is  bounded_below;
consider C75 being  real number such that L240: C75 is (LowerBound of ( rng C74 )) by L239 , XXREAL_2:def 9;
L241: (for B47 being set holds (B47 in ( R16 /\ ( dom C74 ) ) implies C75 <= ( C74 . B47 )))
proof
let C76 being set;
L242: ( R16 /\ ( dom C74 ) ) = ( dom C74 ) by XBOOLE_1:28;
assume L243: C76 in ( R16 /\ ( dom C74 ) );
L244: ( C74 . C76 ) in ( rng C74 ) by L243 , L242 , FUNCT_1:def 3;
thus L245: thesis by L244 , L240 , XXREAL_2:def 2;
end;
thus L246: thesis by L241 , RFUNCT_1:71;
end;
theorem
L247: (for R16 being non  empty set holds (for B48 being (PartFunc of R16 , ( REAL )) holds (( B48 | R16 ) is  bounded_above implies ( rng B48 ) is  bounded_above)))
proof
let R16 being non  empty set;
let C77 being (PartFunc of R16 , ( REAL ));
assume L248: ( C77 | R16 ) is  bounded_above;
consider C78 being  real number such that L249: (for B49 being set holds (B49 in ( R16 /\ ( dom C77 ) ) implies ( C77 . B49 ) <= C78)) by L248 , RFUNCT_1:70;
L250: ( R16 /\ ( dom C77 ) ) = ( dom C77 ) by XBOOLE_1:28;
L251: C78 is (UpperBound of ( rng C77 ))
proof
let C79 being  ext-real number;
assume L252: C79 in ( rng C77 );
L253: (ex R19 being set st (R19 in ( dom C77 ) & C79 = ( C77 . R19 ))) by L252 , FUNCT_1:def 3;
thus L254: thesis by L253 , L249 , L250;
end;
thus L255: thesis by L251 , XXREAL_2:def 10;
end;
theorem
L256: (for R16 being non  empty set holds (for B50 being (PartFunc of R16 , ( REAL )) holds (( rng B50 ) is  bounded_above implies ( B50 | R16 ) is  bounded_above)))
proof
let R16 being non  empty set;
let C80 being (PartFunc of R16 , ( REAL ));
assume L257: ( rng C80 ) is  bounded_above;
consider C81 being  real number such that L258: C81 is (UpperBound of ( rng C80 )) by L257 , XXREAL_2:def 10;
L259: (for B51 being set holds (B51 in ( R16 /\ ( dom C80 ) ) implies ( C80 . B51 ) <= C81))
proof
let C82 being set;
L260: ( R16 /\ ( dom C80 ) ) = ( dom C80 ) by XBOOLE_1:28;
assume L261: C82 in ( R16 /\ ( dom C80 ) );
L262: ( C80 . C82 ) in ( rng C80 ) by L261 , L260 , FUNCT_1:def 3;
thus L263: thesis by L262 , L258 , XXREAL_2:def 1;
end;
thus L264: thesis by L259 , RFUNCT_1:70;
end;
theorem
L265: (for R16 being non  empty set holds (for B52 being (PartFunc of R16 , ( REAL )) holds (( B52 | R16 ) is  bounded implies ( rng B52 ) is  real-bounded)))
proof
let R16 being non  empty set;
let C83 being (PartFunc of R16 , ( REAL ));
assume L266: ( C83 | R16 ) is  bounded;
L267: ( rng C83 ) is  bounded_above by L266 , L247;
L268: ( rng C83 ) is  bounded_below by L266 , L229;
thus L269: thesis by L268 , L267;
end;
begin
theorem
L270: (for B53 being non  empty set holds ( ( chi (B53 , B53) ) | B53 ) is  constant)
proof
let C84 being non  empty set;
L271: (for B54 being (Element of C84) holds (B54 in ( C84 /\ ( dom ( chi (C84 , C84) ) ) ) implies ( ( chi (C84 , C84) ) /. B54 ) = 1))
proof
let C85 being (Element of C84);
assume L272: C85 in ( C84 /\ ( dom ( chi (C84 , C84) ) ) );
L273: C85 in ( dom ( chi (C84 , C84) ) ) by L272 , XBOOLE_0:def 4;
L274: ( ( chi (C84 , C84) ) . C85 ) = 1 by FUNCT_3:def 3;
thus L275: thesis by L274 , L273 , PARTFUN1:def 6;
end;
thus L276: thesis by L271 , PARTFUN2:35;
end;
theorem
L277: (for R16 being non  empty set holds (for B55 being non  empty (Subset of R16) holds ( rng ( chi (B55 , B55) ) ) = { 1 }))
proof
let R16 being non  empty set;
let C86 being non  empty (Subset of R16);
L278: ( ( chi (C86 , C86) ) | C86 ) is  constant by L270;
L279: ( dom ( chi (C86 , C86) ) ) = C86 by FUNCT_3:def 3;
L280: C86 = ( C86 /\ ( dom ( chi (C86 , C86) ) ) ) by L279;
L281: ( dom ( chi (C86 , C86) ) ) = C86 by FUNCT_3:def 3;
L282: (ex B56 being (Element of R16) st (B56 in ( dom ( chi (C86 , C86) ) ) & ( ( chi (C86 , C86) ) . B56 ) = 1))
proof
consider C87 being (Element of R16) such that L283: C87 in ( dom ( chi (C86 , C86) ) ) by L281 , SUBSET_1:4;
take C87;
thus L284: thesis by L283 , FUNCT_3:def 3;
end;
L285: 1 in ( rng ( chi (C86 , C86) ) ) by L282 , FUNCT_1:def 3;
L286: C86 meets ( dom ( chi (C86 , C86) ) ) by L280 , XBOOLE_0:def 7;
L287: (ex B57 being (Element of ( REAL )) st ( rng ( ( chi (C86 , C86) ) | C86 ) ) = { B57 }) by L286 , L278 , PARTFUN2:37;
thus L288: thesis by L287 , L285 , TARSKI:def 1;
end;
theorem
L289: (for R16 being non  empty set holds (for B58 being non  empty (Subset of R16) holds (for B59 being set holds (B59 meets ( dom ( chi (B58 , B58) ) ) implies ( rng ( ( chi (B58 , B58) ) | B59 ) ) = { 1 }))))
proof
let R16 being non  empty set;
let C88 being non  empty (Subset of R16);
let C89 being set;
L290: ( dom ( ( chi (C88 , C88) ) | C89 ) ) = ( C89 /\ ( dom ( chi (C88 , C88) ) ) ) by RELAT_1:61;
L291: ( rng ( ( chi (C88 , C88) ) | C89 ) ) c= ( rng ( chi (C88 , C88) ) ) by RELAT_1:70;
L292: ( rng ( ( chi (C88 , C88) ) | C89 ) ) c= { 1 } by L291 , L277;
assume L293: ( C89 /\ ( dom ( chi (C88 , C88) ) ) ) <> ( {} );
L294: ( rng ( ( chi (C88 , C88) ) | C89 ) ) <> ( {} ) by L293 , L290 , RELAT_1:42;
thus L295: thesis by L294 , L292 , ZFMISC_1:33;
end;
theorem
L296: (for R10 being (Element of ( NAT )) holds (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R24 being (Division of R21) holds (R10 in ( dom R24 ) implies ( vol ( divset (R24 , R10) ) ) = ( ( lower_volume (( chi (R21 , R21) ) , R24) ) . R10 )))))
proof
let R10 being (Element of ( NAT ));
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R24 being (Division of R21);
L297: ( dom ( chi (R21 , R21) ) ) = R21 by FUNCT_3:def 3;
assume L298: R10 in ( dom R24 );
L299: ( ( lower_volume (( chi (R21 , R21) ) , R24) ) . R10 ) = ( ( lower_bound ( rng ( ( chi (R21 , R21) ) | ( divset (R24 , R10) ) ) ) ) * ( vol ( divset (R24 , R10) ) ) ) by L298 , L171;
L300: ( divset (R24 , R10) ) c= R21 by L298 , L127;
L301: ( divset (R24 , R10) ) c= ( ( divset (R24 , R10) ) /\ ( dom ( chi (R21 , R21) ) ) ) by L300 , L297 , XBOOLE_1:19;
L302: ( ( divset (R24 , R10) ) /\ ( dom ( chi (R21 , R21) ) ) ) <> ( {} ) by L301;
L303: ( divset (R24 , R10) ) meets ( dom ( chi (R21 , R21) ) ) by L302 , XBOOLE_0:def 7;
L304: ( rng ( ( chi (R21 , R21) ) | ( divset (R24 , R10) ) ) ) = { 1 } by L303 , L289;
L305: ( rng ( chi (R21 , R21) ) ) = { 1 } by L277;
L306: ( lower_bound ( rng ( chi (R21 , R21) ) ) ) = 1 by L305 , SEQ_4:9;
thus L307: thesis by L306 , L299 , L305 , L304;
end;
theorem
L308: (for R10 being (Element of ( NAT )) holds (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R24 being (Division of R21) holds (R10 in ( dom R24 ) implies ( vol ( divset (R24 , R10) ) ) = ( ( upper_volume (( chi (R21 , R21) ) , R24) ) . R10 )))))
proof
let R10 being (Element of ( NAT ));
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R24 being (Division of R21);
L309: ( dom ( chi (R21 , R21) ) ) = R21 by FUNCT_3:def 3;
assume L310: R10 in ( dom R24 );
L311: ( ( upper_volume (( chi (R21 , R21) ) , R24) ) . R10 ) = ( ( upper_bound ( rng ( ( chi (R21 , R21) ) | ( divset (R24 , R10) ) ) ) ) * ( vol ( divset (R24 , R10) ) ) ) by L310 , L155;
L312: ( divset (R24 , R10) ) c= R21 by L310 , L127;
L313: ( divset (R24 , R10) ) c= ( ( divset (R24 , R10) ) /\ ( dom ( chi (R21 , R21) ) ) ) by L312 , L309 , XBOOLE_1:19;
L314: ( ( divset (R24 , R10) ) /\ ( dom ( chi (R21 , R21) ) ) ) <> ( {} ) by L313;
L315: ( divset (R24 , R10) ) meets ( dom ( chi (R21 , R21) ) ) by L314 , XBOOLE_0:def 7;
L316: ( rng ( ( chi (R21 , R21) ) | ( divset (R24 , R10) ) ) ) = { 1 } by L315 , L289;
L317: ( rng ( chi (R21 , R21) ) ) = { 1 } by L277;
L318: ( upper_bound ( rng ( chi (R21 , R21) ) ) ) = 1 by L317 , SEQ_4:9;
thus L319: thesis by L318 , L311 , L317 , L316;
end;
theorem
L320: (for R7 being (FinSequence of ( REAL )) holds (for R8 being (FinSequence of ( REAL )) holds (for R9 being (FinSequence of ( REAL )) holds ((( len R7 ) = ( len R8 ) & ( len R7 ) = ( len R9 ) & (for R12 being (Element of ( NAT )) holds (R12 in ( dom R7 ) implies ( R9 . R12 ) = ( ( R7 /. R12 ) + ( R8 /. R12 ) )))) implies ( Sum R9 ) = ( ( Sum R7 ) + ( Sum R8 ) )))))
proof
let R7 being (FinSequence of ( REAL ));
let R8 being (FinSequence of ( REAL ));
let R9 being (FinSequence of ( REAL ));
assume that
L321: ( len R7 ) = ( len R8 )
and
L322: ( len R7 ) = ( len R9 )
and
L323: (for R12 being (Element of ( NAT )) holds (R12 in ( dom R7 ) implies ( R9 . R12 ) = ( ( R7 /. R12 ) + ( R8 /. R12 ) )));
L324: R7 is (Element of ( ( len R7 ) -tuples_on ( REAL ) )) by FINSEQ_2:92;
L325: R8 is (Element of ( ( len R7 ) -tuples_on ( REAL ) )) by L321 , FINSEQ_2:92;
L326: ( R7 + R8 ) is (Element of ( ( len R7 ) -tuples_on ( REAL ) )) by L325 , L324 , FINSEQ_2:120;
L327: ( len R9 ) = ( len ( R7 + R8 ) ) by L326 , L322 , CARD_1:def 7;
L328: ( dom R9 ) = ( Seg ( len ( R7 + R8 ) ) ) by L327 , FINSEQ_1:def 3;
L329: (for R12 being (Element of ( NAT )) holds (R12 in ( dom R7 ) implies ( R9 . R12 ) = ( ( R7 . R12 ) + ( R8 . R12 ) )))
proof
let R12 being (Element of ( NAT ));
assume L330: R12 in ( dom R7 );
L331: R12 in ( Seg ( len R8 ) ) by L330 , L321 , FINSEQ_1:def 3;
L332: R12 in ( dom R8 ) by L331 , FINSEQ_1:def 3;
L333: ( R8 /. R12 ) = ( R8 . R12 ) by L332 , PARTFUN1:def 6;
L334: ( R7 /. R12 ) = ( R7 . R12 ) by L330 , PARTFUN1:def 6;
thus L335: thesis by L334 , L323 , L330 , L333;
end;
L336: (for B60 being Nat holds (B60 in ( dom R9 ) implies ( R9 . B60 ) = ( ( R7 + R8 ) . B60 )))
proof
let C90 being Nat;
assume L337: C90 in ( dom R9 );
L338: C90 in ( dom R7 ) by L337 , L322 , L327 , L328 , FINSEQ_1:def 3;
L339: ( R9 . C90 ) = ( ( R7 . C90 ) + ( R8 . C90 ) ) by L338 , L329;
L340: C90 in ( dom ( R7 + R8 ) ) by L328 , L337 , FINSEQ_1:def 3;
thus L341: thesis by L340 , L339 , VALUED_1:def 1;
end;
L342: ( Sum R9 ) = ( Sum ( R7 + R8 ) ) by L336 , L327 , FINSEQ_2:9
.= ( ( Sum R7 ) + ( Sum R8 ) ) by L324 , L325 , RVSUM_1:89;
thus L343: thesis by L342;
end;
theorem
L344: (for R7 being (FinSequence of ( REAL )) holds (for R8 being (FinSequence of ( REAL )) holds (for R9 being (FinSequence of ( REAL )) holds ((( len R7 ) = ( len R8 ) & ( len R7 ) = ( len R9 ) & (for R12 being (Element of ( NAT )) holds (R12 in ( dom R7 ) implies ( R9 . R12 ) = ( ( R7 /. R12 ) - ( R8 /. R12 ) )))) implies ( Sum R9 ) = ( ( Sum R7 ) - ( Sum R8 ) )))))
proof
let R7 being (FinSequence of ( REAL ));
let R8 being (FinSequence of ( REAL ));
let R9 being (FinSequence of ( REAL ));
assume that
L345: ( len R7 ) = ( len R8 )
and
L346: ( len R7 ) = ( len R9 )
and
L347: (for R12 being (Element of ( NAT )) holds (R12 in ( dom R7 ) implies ( R9 . R12 ) = ( ( R7 /. R12 ) - ( R8 /. R12 ) )));
L348: R7 is (Element of ( ( len R7 ) -tuples_on ( REAL ) )) by FINSEQ_2:92;
L349: R8 is (Element of ( ( len R7 ) -tuples_on ( REAL ) )) by L345 , FINSEQ_2:92;
L350: ( R7 - R8 ) is (Element of ( ( len R7 ) -tuples_on ( REAL ) )) by L349 , L348 , FINSEQ_2:120;
L351: ( len R9 ) = ( len ( R7 - R8 ) ) by L350 , L346 , CARD_1:def 7;
L352: ( dom R9 ) = ( Seg ( len ( R7 - R8 ) ) ) by L351 , FINSEQ_1:def 3;
L353: (for R12 being (Element of ( NAT )) holds (R12 in ( dom R7 ) implies ( R9 . R12 ) = ( ( R7 . R12 ) - ( R8 . R12 ) )))
proof
let R12 being (Element of ( NAT ));
assume L354: R12 in ( dom R7 );
L355: R12 in ( Seg ( len R8 ) ) by L354 , L345 , FINSEQ_1:def 3;
L356: R12 in ( dom R8 ) by L355 , FINSEQ_1:def 3;
L357: ( R8 /. R12 ) = ( R8 . R12 ) by L356 , PARTFUN1:def 6;
L358: ( R7 /. R12 ) = ( R7 . R12 ) by L354 , PARTFUN1:def 6;
thus L359: thesis by L358 , L347 , L354 , L357;
end;
L360: (for B61 being Nat holds (B61 in ( dom R9 ) implies ( R9 . B61 ) = ( ( R7 - R8 ) . B61 )))
proof
let C91 being Nat;
assume L361: C91 in ( dom R9 );
L362: C91 in ( Seg ( len R7 ) ) by L361 , L350 , L352 , CARD_1:def 7;
L363: C91 in ( dom R7 ) by L362 , FINSEQ_1:def 3;
L364: ( R9 . C91 ) = ( ( R7 . C91 ) - ( R8 . C91 ) ) by L363 , L353;
L365: C91 in ( dom ( R7 - R8 ) ) by L352 , L361 , FINSEQ_1:def 3;
thus L366: thesis by L365 , L364 , VALUED_1:13;
end;
L367: ( Sum R9 ) = ( Sum ( R7 - R8 ) ) by L360 , L351 , FINSEQ_2:9
.= ( ( Sum R7 ) - ( Sum R8 ) ) by L348 , L349 , RVSUM_1:90;
thus L368: thesis by L367;
end;
theorem
L369: (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R24 being (Division of R21) holds ( Sum ( lower_volume (( chi (R21 , R21) ) , R24) ) ) = ( vol R21 )))
proof
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R24 being (Division of R21);
deffunc H3(Nat) = ( vol ( divset (R24 , $1) ) );
consider C92 being (FinSequence of ( REAL )) such that L370: (( len C92 ) = ( len R24 ) & (for B62 being Nat holds (B62 in ( dom C92 ) implies ( C92 . B62 ) = H3(B62)))) from FINSEQ_2:sch 1;
L371: ( dom C92 ) = ( Seg ( len R24 ) ) by L370 , FINSEQ_1:def 3;
L372: (for R10 being (Element of ( NAT )) holds (R10 in ( Seg ( len R24 ) ) implies ( C92 . R10 ) = ( ( upper_bound ( divset (R24 , R10) ) ) - ( lower_bound ( divset (R24 , R10) ) ) )))
proof
let R10 being (Element of ( NAT ));
L373: ( vol ( divset (R24 , R10) ) ) = ( ( upper_bound ( divset (R24 , R10) ) ) - ( lower_bound ( divset (R24 , R10) ) ) );
assume L374: R10 in ( Seg ( len R24 ) );
thus L375: thesis by L374 , L370 , L371 , L373;
end;
L376: ( ( len R24 ) - 1 ) in ( NAT )
proof
L377: (ex B63 being Nat st ( len R24 ) = ( 1 + B63 )) by NAT_1:10 , NAT_1:14;
thus L378: thesis by L377 , ORDINAL1:def 12;
end;
reconsider D16 = ( ( len R24 ) - 1 ) as (Element of ( NAT )) by L376;
deffunc H4(Nat) = ( lower_bound ( divset (R24 , ( $1 + 1 )) ) );
deffunc H5(Nat) = ( upper_bound ( divset (R24 , $1) ) );
consider C93 being (FinSequence of ( REAL )) such that L379: (( len C93 ) = D16 & (for B64 being Nat holds (B64 in ( dom C93 ) implies ( C93 . B64 ) = H5(B64)))) from FINSEQ_2:sch 1;
consider C94 being (FinSequence of ( REAL )) such that L380: (( len C94 ) = D16 & (for B65 being Nat holds (B65 in ( dom C94 ) implies ( C94 . B65 ) = H4(B65)))) from FINSEQ_2:sch 1;
L381: ( dom C94 ) = ( Seg D16 ) by L380 , FINSEQ_1:def 3;
L382: (( len ( C93 ^ <* ( upper_bound R21 ) *> ) ) = ( len ( <* ( lower_bound R21 ) *> ^ C94 ) ) & ( len ( C93 ^ <* ( upper_bound R21 ) *> ) ) = ( len C92 ) & (for R10 being (Element of ( NAT )) holds (R10 in ( dom ( C93 ^ <* ( upper_bound R21 ) *> ) ) implies ( C92 . R10 ) = ( ( ( C93 ^ <* ( upper_bound R21 ) *> ) /. R10 ) - ( ( <* ( lower_bound R21 ) *> ^ C94 ) /. R10 ) ))))
proof
L383: ( dom <* ( upper_bound R21 ) *> ) = ( Seg 1 ) by FINSEQ_1:def 8;
L384: ( len <* ( upper_bound R21 ) *> ) = 1 by L383 , FINSEQ_1:def 3;
L385: ( len ( C93 ^ <* ( upper_bound R21 ) *> ) ) = ( D16 + 1 ) by L384 , L379 , FINSEQ_1:22;
L386: ( dom <* ( lower_bound R21 ) *> ) = ( Seg 1 ) by FINSEQ_1:def 8;
L387: ( len <* ( lower_bound R21 ) *> ) = 1 by L386 , FINSEQ_1:def 3;
thus L388: ( len ( C93 ^ <* ( upper_bound R21 ) *> ) ) = ( len ( <* ( lower_bound R21 ) *> ^ C94 ) ) by L387 , L380 , L385 , FINSEQ_1:22;
thus L389: ( len ( C93 ^ <* ( upper_bound R21 ) *> ) ) = ( len C92 ) by L370 , L385;
let R10 being (Element of ( NAT ));
assume L390: R10 in ( dom ( C93 ^ <* ( upper_bound R21 ) *> ) );
L391: ( ( C93 ^ <* ( upper_bound R21 ) *> ) /. R10 ) = ( ( C93 ^ <* ( upper_bound R21 ) *> ) . R10 ) by L390 , PARTFUN1:def 6;
L392: R10 in ( Seg ( len ( C93 ^ <* ( upper_bound R21 ) *> ) ) ) by L390 , FINSEQ_1:def 3;
L393: R10 in ( dom ( <* ( lower_bound R21 ) *> ^ C94 ) ) by L392 , L388 , FINSEQ_1:def 3;
L394: ( ( <* ( lower_bound R21 ) *> ^ C94 ) /. R10 ) = ( ( <* ( lower_bound R21 ) *> ^ C94 ) . R10 ) by L393 , PARTFUN1:def 6;
L395: (( len R24 ) = 1 or ( len R24 ) is non  trivial) by NAT_2:def 1;
L396:
now
per cases  by L395 , NAT_2:29;
suppose L397: ( len R24 ) = 1;

L398: R10 in ( Seg 1 ) by L397 , L385 , L390 , FINSEQ_1:def 3;
L399: R10 = 1 by L398 , FINSEQ_1:2 , TARSKI:def 1;
L400: C93 = ( {} ) by L379 , L397;
L401: ( C93 ^ <* ( upper_bound R21 ) *> ) = <* ( upper_bound R21 ) *> by L400 , FINSEQ_1:34;
L402: ( ( C93 ^ <* ( upper_bound R21 ) *> ) /. R10 ) = ( upper_bound R21 ) by L401 , L391 , L399 , FINSEQ_1:def 8;
L403: R10 in ( dom R24 ) by L397 , L398 , FINSEQ_1:def 3;
L404: C94 = ( {} ) by L380 , L397;
L405: ( <* ( lower_bound R21 ) *> ^ C94 ) = <* ( lower_bound R21 ) *> by L404 , FINSEQ_1:34;
L406: ( ( <* ( lower_bound R21 ) *> ^ C94 ) /. R10 ) = ( lower_bound R21 ) by L405 , L394 , L399 , FINSEQ_1:def 8;
L407: ( R24 . R10 ) = ( upper_bound R21 ) by L397 , L399 , L39;
L408: ( upper_bound ( divset (R24 , R10) ) ) = ( upper_bound R21 ) by L407 , L399 , L403 , L102;
L409: ( C92 . R10 ) = ( ( upper_bound ( divset (R24 , R10) ) ) - ( lower_bound ( divset (R24 , R10) ) ) ) by L372 , L397 , L398;
thus L410: thesis by L409 , L399 , L403 , L402 , L406 , L408 , L102;
end;
suppose L411: ( len R24 ) >= 2;

L412: 1 = ( 2 - 1 );
L413: D16 >= 1 by L412 , L411 , XREAL_1:9;
L414:
now
per cases ;
suppose L415: R10 = 1;

L416: R10 in ( Seg 1 ) by L415 , FINSEQ_1:2 , TARSKI:def 1;
L417: R10 in ( dom <* ( lower_bound R21 ) *> ) by L416 , FINSEQ_1:def 8;
L418: ( ( <* ( lower_bound R21 ) *> ^ C94 ) . R10 ) = ( <* ( lower_bound R21 ) *> . R10 ) by L417 , FINSEQ_1:def 7;
L419: ( ( <* ( lower_bound R21 ) *> ^ C94 ) . R10 ) = ( lower_bound R21 ) by L418 , L415 , FINSEQ_1:def 8;
L420: ( Seg 1 ) c= ( Seg D16 ) by L413 , FINSEQ_1:5;
L421: R10 in ( Seg D16 ) by L420 , L416;
L422: R10 in ( dom C93 ) by L421 , L379 , FINSEQ_1:def 3;
L423: ( ( C93 ^ <* ( upper_bound R21 ) *> ) . R10 ) = ( C93 . R10 ) by L422 , FINSEQ_1:def 7;
L424: ( ( C93 ^ <* ( upper_bound R21 ) *> ) . R10 ) = ( upper_bound ( divset (R24 , R10) ) ) by L423 , L379 , L422;
L425: R10 in ( Seg 2 ) by L415 , FINSEQ_1:2 , TARSKI:def 2;
L426: ( Seg 2 ) c= ( Seg ( len R24 ) ) by L411 , FINSEQ_1:5;
L427: R10 in ( Seg ( len R24 ) ) by L426 , L425;
L428: R10 in ( dom R24 ) by L427 , FINSEQ_1:def 3;
L429: ( C92 . R10 ) = ( ( upper_bound ( divset (R24 , R10) ) ) - ( lower_bound ( divset (R24 , R10) ) ) ) by L372 , L426 , L425;
thus L430: thesis by L429 , L391 , L394 , L415 , L428 , L424 , L419 , L102;
end;
suppose L431: R10 = ( len R24 );

L432: ( R10 - ( len C93 ) ) in ( Seg 1 ) by L431 , L379 , FINSEQ_1:2 , TARSKI:def 1;
L433: ( R10 - ( len C93 ) ) in ( dom <* ( upper_bound R21 ) *> ) by L432 , FINSEQ_1:def 8;
L434: R10 = ( ( R10 - ( len C93 ) ) + ( len C93 ) );
L435: ( ( C93 ^ <* ( upper_bound R21 ) *> ) . R10 ) = ( <* ( upper_bound R21 ) *> . ( R10 - ( len C93 ) ) ) by L434 , L433 , FINSEQ_1:def 7;
L436: ( ( C93 ^ <* ( upper_bound R21 ) *> ) /. R10 ) = ( upper_bound R21 ) by L435 , L379 , L391 , L431 , FINSEQ_1:def 8;
L437: R10 <> 1 by L411 , L431;
L438: R10 in ( Seg ( len R24 ) ) by L431 , FINSEQ_1:3;
L439: R10 in ( dom R24 ) by L438 , FINSEQ_1:def 3;
L440: ( C92 . R10 ) = ( ( upper_bound ( divset (R24 , R10) ) ) - ( lower_bound ( divset (R24 , R10) ) ) ) by L372 , L431 , FINSEQ_1:3;
L441: ( C92 . R10 ) = ( ( upper_bound ( divset (R24 , R10) ) ) - ( R24 . ( R10 - 1 ) ) ) by L440 , L439 , L437 , L102;
L442: ( C92 . R10 ) = ( ( R24 . R10 ) - ( R24 . ( R10 - 1 ) ) ) by L441 , L439 , L437 , L102;
L443: ( R10 - ( len <* ( lower_bound R21 ) *> ) ) = ( R10 - 1 ) by FINSEQ_1:40;
L444: ( R10 - 1 ) <> ( 0 ) by L411 , L431;
L445: ( R10 - 1 ) in ( Seg D16 ) by L444 , L431 , FINSEQ_1:3;
L446: ( R10 - ( len <* ( lower_bound R21 ) *> ) ) in ( dom C94 ) by L445 , L380 , L443 , FINSEQ_1:def 3;
L447: ( ( len <* ( lower_bound R21 ) *> ) + ( R10 - ( len <* ( lower_bound R21 ) *> ) ) ) = R10;
L448: ( ( <* ( lower_bound R21 ) *> ^ C94 ) . R10 ) = ( C94 . ( R10 - ( len <* ( lower_bound R21 ) *> ) ) ) by L447 , L446 , FINSEQ_1:def 7;
L449: ( ( <* ( lower_bound R21 ) *> ^ C94 ) . R10 ) = ( lower_bound ( divset (R24 , R10) ) ) by L448 , L380 , L443 , L447 , L446;
L450: ( ( <* ( lower_bound R21 ) *> ^ C94 ) . R10 ) = ( R24 . ( R10 - 1 ) ) by L449 , L439 , L437 , L102;
thus L451: thesis by L450 , L394 , L431 , L436 , L442 , L39;
end;
suppose L452: (R10 <> 1 & R10 <> ( len R24 ));

L453: ( ( len C93 ) + ( len <* ( upper_bound R21 ) *> ) ) = ( D16 + 1 ) by L379 , FINSEQ_1:39;
L454: R10 in ( Seg ( len R24 ) ) by L453 , L390 , FINSEQ_1:def 7;
L455: (R10 in ( dom C93 ) & R10 in ( Seg D16 ) & ( R10 - 1 ) in ( Seg D16 ) & ( ( R10 - 1 ) + 1 ) = R10 & ( R10 - ( len <* ( lower_bound R21 ) *> ) ) in ( dom C94 ))
proof
L456: R10 <> ( 0 ) by L454 , FINSEQ_1:1;
L457: R10 is non  trivial by L456 , L452 , NAT_2:def 1;
L458: R10 >= ( 1 + 1 ) by L457 , NAT_2:29;
L459: ( R10 - 1 ) >= 1 by L458 , XREAL_1:19;
L460: 1 <= R10 by L454 , FINSEQ_1:1;
L461: R10 <= ( len R24 ) by L454 , FINSEQ_1:1;
L462: R10 < ( D16 + 1 ) by L461 , L452 , XXREAL_0:1;
L463: R10 <= D16 by L462 , NAT_1:13;
L464: R10 in ( Seg ( len C93 ) ) by L463 , L379 , L460 , FINSEQ_1:1;
thus L465: R10 in ( dom C93 ) by L464 , FINSEQ_1:def 3;
thus L466: R10 in ( Seg D16 ) by L460 , L463 , FINSEQ_1:1;
L467: R10 <= D16 by L462 , NAT_1:13;
L468: ( R10 - 1 ) <= ( D16 - 1 ) by L467 , XREAL_1:9;
L469: ( ( R10 - 1 ) + ( 0 ) ) <= ( ( D16 - 1 ) + 1 ) by L468 , XREAL_1:7;
L470: (ex B66 being Nat st R10 = ( 1 + B66 )) by L460 , NAT_1:10;
thus L471: ( R10 - 1 ) in ( Seg D16 ) by L470 , L459 , L469 , FINSEQ_1:1;
L472: ( R10 - ( len <* ( lower_bound R21 ) *> ) ) in ( Seg ( len C94 ) ) by L471 , L380 , FINSEQ_1:39;
thus L473: ( ( R10 - 1 ) + 1 ) = R10;
thus L474: thesis by L472 , FINSEQ_1:def 3;
end;
L475: ( R10 - ( len <* ( lower_bound R21 ) *> ) ) in ( Seg ( len C94 ) ) by L455 , FINSEQ_1:def 3;
L476: ( R10 - ( len <* ( lower_bound R21 ) *> ) ) <= ( len C94 ) by L475 , FINSEQ_1:1;
L477: R10 <= ( ( len <* ( lower_bound R21 ) *> ) + ( len C94 ) ) by L476 , XREAL_1:20;
L478: 1 <= ( R10 - ( len <* ( lower_bound R21 ) *> ) ) by L475 , FINSEQ_1:1;
L479: ( ( len <* ( lower_bound R21 ) *> ) + 1 ) <= R10 by L478 , XREAL_1:19;
L480: ( ( <* ( lower_bound R21 ) *> ^ C94 ) . R10 ) = ( C94 . ( R10 - ( len <* ( lower_bound R21 ) *> ) ) ) by L479 , L477 , FINSEQ_1:23;
L481: ( ( <* ( lower_bound R21 ) *> ^ C94 ) . R10 ) = ( C94 . ( R10 - 1 ) ) by L480 , FINSEQ_1:39;
L482: ( ( <* ( lower_bound R21 ) *> ^ C94 ) . R10 ) = ( lower_bound ( divset (R24 , R10) ) ) by L481 , L380 , L381 , L455;
L483: ( ( C93 ^ <* ( upper_bound R21 ) *> ) . R10 ) = ( C93 . R10 ) by L455 , FINSEQ_1:def 7;
L484: ( ( C93 ^ <* ( upper_bound R21 ) *> ) . R10 ) = ( upper_bound ( divset (R24 , R10) ) ) by L483 , L379 , L455;
thus L485: thesis by L484 , L372 , L391 , L394 , L454 , L482;
end;
end;
thus L487: thesis by L414;
end;
end;
thus L489: thesis by L396;
end;
L490: ( Sum C92 ) = ( ( Sum ( C93 ^ <* ( upper_bound R21 ) *> ) ) - ( Sum ( <* ( lower_bound R21 ) *> ^ C94 ) ) ) by L382 , L344;
L491: ( Sum C92 ) = ( ( ( Sum C93 ) + ( upper_bound R21 ) ) - ( Sum ( <* ( lower_bound R21 ) *> ^ C94 ) ) ) by L490 , RVSUM_1:74;
L492: ( Sum C92 ) = ( ( ( Sum C93 ) + ( upper_bound R21 ) ) - ( ( lower_bound R21 ) + ( Sum C94 ) ) ) by L491 , RVSUM_1:76;
L493: ( dom C93 ) = ( Seg D16 ) by L379 , FINSEQ_1:def 3;
L494: (for R10 being (Element of ( NAT )) holds (R10 in ( Seg D16 ) implies ( upper_bound ( divset (R24 , R10) ) ) = ( lower_bound ( divset (R24 , ( R10 + 1 )) ) )))
proof
let R10 being (Element of ( NAT ));
L495: ( 1 + ( 0 ) ) <= ( R10 + 1 ) by XREAL_1:7;
assume L496: R10 in ( Seg D16 );
L497: R10 <= D16 by L496 , FINSEQ_1:1;
L498: ( R10 + 1 ) <= ( D16 + 1 ) by L497 , XREAL_1:7;
L499: ( R10 + 1 ) in ( Seg ( len R24 ) ) by L498 , L495 , FINSEQ_1:1;
L500: ( R10 + 1 ) in ( dom R24 ) by L499 , FINSEQ_1:def 3;
L501: ( D16 + 1 ) = ( len R24 );
L502: D16 <= ( len R24 ) by L501 , NAT_1:11;
L503: ( Seg D16 ) c= ( Seg ( len R24 ) ) by L502 , FINSEQ_1:5;
L504: R10 in ( Seg ( len R24 ) ) by L503 , L496;
L505: R10 in ( dom R24 ) by L504 , FINSEQ_1:def 3;
L506: ( ( R10 + 1 ) - 1 ) = R10;
L507:
now
per cases ;
suppose L508: R10 = 1;

L509: ( upper_bound ( divset (R24 , R10) ) ) = ( R24 . R10 ) by L508 , L505 , L102;
thus L510: thesis by L509 , L500 , L506 , L508 , L102;
end;
suppose L511: R10 <> 1;

L512: R10 >= 1 by L496 , FINSEQ_1:1;
L513: ( R10 + 1 ) >= ( 1 + 1 ) by L512 , XREAL_1:6;
L514: ( R10 + 1 ) <> 1 by L513;
L515: ( upper_bound ( divset (R24 , R10) ) ) = ( R24 . R10 ) by L505 , L511 , L102;
thus L516: thesis by L515 , L500 , L506 , L514 , L102;
end;
end;
thus L518: thesis by L507;
end;
L519: (for B67 being Nat holds (B67 in ( dom C93 ) implies ( C93 . B67 ) = ( C94 . B67 )))
proof
let C95 being Nat;
assume L520: C95 in ( dom C93 );
L521: ( C93 . C95 ) = ( upper_bound ( divset (R24 , C95) ) ) by L520 , L379;
L522: ( C93 . C95 ) = ( lower_bound ( divset (R24 , ( C95 + 1 )) ) ) by L521 , L494 , L493 , L520;
thus L523: thesis by L522 , L380 , L381 , L493 , L520;
end;
L524: C93 = C94 by L519 , L379 , L380 , FINSEQ_2:9;
L525: ( len ( lower_volume (( chi (R21 , R21) ) , R24) ) ) = ( len R24 ) by L171;
L526: ( dom ( lower_volume (( chi (R21 , R21) ) , R24) ) ) = ( Seg ( len R24 ) ) by L525 , FINSEQ_1:def 3;
L527: (for B68 being Nat holds (B68 in ( dom ( lower_volume (( chi (R21 , R21) ) , R24) ) ) implies ( ( lower_volume (( chi (R21 , R21) ) , R24) ) . B68 ) = ( C92 . B68 )))
proof
let C96 being Nat;
assume L528: C96 in ( dom ( lower_volume (( chi (R21 , R21) ) , R24) ) );
L529: C96 in ( dom R24 ) by L528 , L525 , FINSEQ_3:29;
L530: ( ( lower_volume (( chi (R21 , R21) ) , R24) ) . C96 ) = ( vol ( divset (R24 , C96) ) ) by L529 , L296;
thus L531: thesis by L530 , L370 , L371 , L526 , L528;
end;
thus L532: thesis by L527 , L370 , L524 , L492 , L525 , FINSEQ_2:9;
end;
theorem
L533: (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R24 being (Division of R21) holds ( Sum ( upper_volume (( chi (R21 , R21) ) , R24) ) ) = ( vol R21 )))
proof
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R24 being (Division of R21);
L534: (for B69 being Nat holds ((1 <= B69 & B69 <= ( len ( lower_volume (( chi (R21 , R21) ) , R24) ) )) implies ( ( lower_volume (( chi (R21 , R21) ) , R24) ) . B69 ) = ( ( upper_volume (( chi (R21 , R21) ) , R24) ) . B69 )))
proof
let C97 being Nat;
assume that
L535: 1 <= C97
and
L536: C97 <= ( len ( lower_volume (( chi (R21 , R21) ) , R24) ) );
L537: C97 <= ( len R24 ) by L536 , L171;
L538: C97 in ( dom R24 ) by L537 , L535 , FINSEQ_3:25;
L539: ( ( lower_volume (( chi (R21 , R21) ) , R24) ) . C97 ) = ( vol ( divset (R24 , C97) ) ) by L538 , L296
.= ( ( upper_volume (( chi (R21 , R21) ) , R24) ) . C97 ) by L538 , L308;
thus L540: thesis by L539;
end;
L541: ( len ( lower_volume (( chi (R21 , R21) ) , R24) ) ) = ( len R24 ) by L171
.= ( len ( upper_volume (( chi (R21 , R21) ) , R24) ) ) by L155;
L542: ( lower_volume (( chi (R21 , R21) ) , R24) ) = ( upper_volume (( chi (R21 , R21) ) , R24) ) by L541 , L534 , FINSEQ_1:14;
thus L543: thesis by L542 , L369;
end;
begin
registration
let C98 being non  empty  closed_interval (Subset of ( REAL ));
let C99 being (PartFunc of C98 , ( REAL ));
let C100 being (Division of C98);
cluster ( upper_volume (C99 , C100) ) -> non  empty;
coherence
proof
L544: ( len ( upper_volume (C99 , C100) ) ) = ( len C100 ) by L155;
thus L545: thesis by L544;
end;
cluster ( lower_volume (C99 , C100) ) -> non  empty;
coherence
proof
L546: ( len ( lower_volume (C99 , C100) ) ) = ( len C100 ) by L171;
thus L547: thesis by L546;
end;
end;
theorem
L549: (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R24 being (Division of R21) holds (for R27 being (Function of R21 , ( REAL )) holds (( R27 | R21 ) is  bounded_below implies ( ( lower_bound ( rng R27 ) ) * ( vol R21 ) ) <= ( lower_sum (R27 , R24) )))))
proof
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R24 being (Division of R21);
let R27 being (Function of R21 , ( REAL ));
assume L550: ( R27 | R21 ) is  bounded_below;
L551: (for R10 being (Element of ( NAT )) holds (R10 in ( dom R24 ) implies ( ( lower_bound ( rng R27 ) ) * ( vol ( divset (R24 , R10) ) ) ) <= ( ( lower_bound ( rng ( R27 | ( divset (R24 , R10) ) ) ) ) * ( vol ( divset (R24 , R10) ) ) )))
proof
let R10 being (Element of ( NAT ));
L552: ( rng ( R27 | ( divset (R24 , R10) ) ) ) c= ( rng R27 ) by RELAT_1:70;
L553: ( 0 ) <= ( vol ( divset (R24 , R10) ) ) by SEQ_4:11 , XREAL_1:48;
L554: ( dom R27 ) = R21 by FUNCT_2:def 1;
assume L555: R10 in ( dom R24 );
L556: ( dom ( R27 | ( divset (R24 , R10) ) ) ) = ( divset (R24 , R10) ) by L555 , L554 , L127 , RELAT_1:62;
L557: ( rng ( R27 | ( divset (R24 , R10) ) ) ) is non  empty non  empty non  empty non  empty (Subset of ( REAL )) by L556 , RELAT_1:42;
L558: ( rng R27 ) is  bounded_below by L550 , L229;
thus L559: thesis by L558 , L552 , L557 , L553 , SEQ_4:47 , XREAL_1:64;
end;
L560: (for R10 being (Element of ( NAT )) holds (R10 in ( dom R24 ) implies ( ( lower_bound ( rng R27 ) ) * ( ( lower_volume (( chi (R21 , R21) ) , R24) ) . R10 ) ) <= ( ( lower_bound ( rng ( R27 | ( divset (R24 , R10) ) ) ) ) * ( vol ( divset (R24 , R10) ) ) )))
proof
let R10 being (Element of ( NAT ));
assume L561: R10 in ( dom R24 );
L562: ( ( lower_bound ( rng R27 ) ) * ( vol ( divset (R24 , R10) ) ) ) <= ( ( lower_bound ( rng ( R27 | ( divset (R24 , R10) ) ) ) ) * ( vol ( divset (R24 , R10) ) ) ) by L561 , L551;
thus L563: thesis by L562 , L561 , L296;
end;
L564: ( Sum ( ( lower_bound ( rng R27 ) ) * ( lower_volume (( chi (R21 , R21) ) , R24) ) ) ) <= ( Sum ( lower_volume (R27 , R24) ) )
proof
L565: ( len ( lower_volume (( chi (R21 , R21) ) , R24) ) ) = ( len ( ( lower_bound ( rng R27 ) ) * ( lower_volume (( chi (R21 , R21) ) , R24) ) ) ) by FINSEQ_2:33;
L566: ( len ( ( lower_bound ( rng R27 ) ) * ( lower_volume (( chi (R21 , R21) ) , R24) ) ) ) = ( len R24 ) by L565 , L171;
deffunc H6(Nat) = ( ( lower_bound ( rng ( R27 | ( divset (R24 , $1) ) ) ) ) * ( vol ( divset (R24 , $1) ) ) );
deffunc H7(set) = ( ( lower_bound ( rng R27 ) ) * ( ( lower_volume (( chi (R21 , R21) ) , R24) ) . $1 ) );
consider C101 being (FinSequence of ( REAL )) such that L567: (( len C101 ) = ( len R24 ) & (for B70 being Nat holds (B70 in ( dom C101 ) implies ( C101 . B70 ) = H7(B70)))) from FINSEQ_2:sch 1;
L568: ( dom C101 ) = ( Seg ( len R24 ) ) by L567 , FINSEQ_1:def 3;
L569: (for B71 being Nat holds ((1 <= B71 & B71 <= ( len C101 )) implies ( C101 . B71 ) = ( ( ( lower_bound ( rng R27 ) ) * ( lower_volume (( chi (R21 , R21) ) , R24) ) ) . B71 )))
proof
let C102 being Nat;
assume that
L570: 1 <= C102
and
L571: C102 <= ( len C101 );
L572: C102 in ( Seg ( len R24 ) ) by L567 , L570 , L571 , FINSEQ_1:1;
L573: ( C101 . C102 ) = ( ( lower_bound ( rng R27 ) ) * ( ( lower_volume (( chi (R21 , R21) ) , R24) ) . C102 ) ) by L572 , L567 , L568;
thus L574: thesis by L573 , RVSUM_1:44;
end;
L575: C101 = ( ( lower_bound ( rng R27 ) ) * ( lower_volume (( chi (R21 , R21) ) , R24) ) ) by L569 , L567 , L566 , FINSEQ_1:14;
reconsider D17 = C101 as (Element of ( ( len R24 ) -tuples_on ( REAL ) )) by L567 , FINSEQ_2:92;
consider C103 being (FinSequence of ( REAL )) such that L576: (( len C103 ) = ( len R24 ) & (for B72 being Nat holds (B72 in ( dom C103 ) implies ( C103 . B72 ) = H6(B72)))) from FINSEQ_2:sch 1;
L577: ( dom C103 ) = ( dom R24 ) by L576 , FINSEQ_3:29;
L578: C103 = ( lower_volume (R27 , R24) ) by L577 , L576 , L171;
reconsider D18 = C103 as (Element of ( ( len R24 ) -tuples_on ( REAL ) )) by L576 , FINSEQ_2:92;
L579:
now
let C104 being Nat;
assume L580: C104 in ( Seg ( len R24 ) );
L581: ( D17 . C104 ) = ( ( lower_bound ( rng R27 ) ) * ( ( lower_volume (( chi (R21 , R21) ) , R24) ) . C104 ) ) by L580 , L567 , L568;
L582: C104 in ( dom R24 ) by L580 , FINSEQ_1:def 3;
L583: ( D18 . C104 ) = ( ( lower_bound ( rng ( R27 | ( divset (R24 , C104) ) ) ) ) * ( vol ( divset (R24 , C104) ) ) ) by L582 , L576 , L577;
thus L584: ( D17 . C104 ) <= ( D18 . C104 ) by L583 , L560 , L581 , L582;
end;
thus L585: thesis by L579 , L578 , L575 , RVSUM_1:82;
end;
L586: ( ( lower_bound ( rng R27 ) ) * ( Sum ( lower_volume (( chi (R21 , R21) ) , R24) ) ) ) <= ( Sum ( lower_volume (R27 , R24) ) ) by L564 , RVSUM_1:87;
thus L587: thesis by L586 , L369;
end;
theorem
L588: (for R10 being (Element of ( NAT )) holds (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R24 being (Division of R21) holds (for R27 being (Function of R21 , ( REAL )) holds ((( R27 | R21 ) is  bounded_above & R10 in ( dom R24 )) implies ( ( upper_bound ( rng R27 ) ) * ( vol ( divset (R24 , R10) ) ) ) >= ( ( upper_bound ( rng ( R27 | ( divset (R24 , R10) ) ) ) ) * ( vol ( divset (R24 , R10) ) ) ))))))
proof
let R10 being (Element of ( NAT ));
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R24 being (Division of R21);
let R27 being (Function of R21 , ( REAL ));
L589: ( dom R27 ) = R21 by FUNCT_2:def 1;
assume L590: ( R27 | R21 ) is  bounded_above;
L591: ( rng R27 ) is  bounded_above by L590 , L247;
assume L592: R10 in ( dom R24 );
L593: ( dom ( R27 | ( divset (R24 , R10) ) ) ) = ( divset (R24 , R10) ) by L592 , L589 , L127 , RELAT_1:62;
L594: ( rng ( R27 | ( divset (R24 , R10) ) ) ) is non  empty non  empty non  empty non  empty (Subset of ( REAL )) by L593 , RELAT_1:42;
L595: ( 0 ) <= ( vol ( divset (R24 , R10) ) ) by SEQ_4:11 , XREAL_1:48;
L596: ( rng ( R27 | ( divset (R24 , R10) ) ) ) c= ( rng R27 ) by RELAT_1:70;
thus L597: thesis by L596 , L594 , L591 , L595 , SEQ_4:48 , XREAL_1:64;
end;
theorem
L598: (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R24 being (Division of R21) holds (for R27 being (Function of R21 , ( REAL )) holds (( R27 | R21 ) is  bounded_above implies ( upper_sum (R27 , R24) ) <= ( ( upper_bound ( rng R27 ) ) * ( vol R21 ) )))))
proof
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R24 being (Division of R21);
let R27 being (Function of R21 , ( REAL ));
assume L599: ( R27 | R21 ) is  bounded_above;
L600: (for R10 being (Element of ( NAT )) holds (R10 in ( Seg ( len R24 ) ) implies ( ( upper_bound ( rng R27 ) ) * ( vol ( divset (R24 , R10) ) ) ) >= ( ( upper_bound ( rng ( R27 | ( divset (R24 , R10) ) ) ) ) * ( vol ( divset (R24 , R10) ) ) )))
proof
let R10 being (Element of ( NAT ));
L601: ( rng ( R27 | ( divset (R24 , R10) ) ) ) c= ( rng R27 ) by RELAT_1:70;
L602: ( 0 ) <= ( vol ( divset (R24 , R10) ) ) by SEQ_4:11 , XREAL_1:48;
assume L603: R10 in ( Seg ( len R24 ) );
L604: R10 in ( dom R24 ) by L603 , FINSEQ_1:def 3;
L605: ( dom R27 ) = R21 by FUNCT_2:def 1;
L606: ( dom ( R27 | ( divset (R24 , R10) ) ) ) = ( divset (R24 , R10) ) by L605 , L604 , L127 , RELAT_1:62;
L607: ( rng ( R27 | ( divset (R24 , R10) ) ) ) is non  empty non  empty non  empty non  empty (Subset of ( REAL )) by L606 , RELAT_1:42;
L608: ( rng R27 ) is  bounded_above by L599 , L247;
thus L609: thesis by L608 , L601 , L607 , L602 , SEQ_4:48 , XREAL_1:64;
end;
L610: (for R10 being (Element of ( NAT )) holds (R10 in ( Seg ( len R24 ) ) implies ( ( upper_bound ( rng R27 ) ) * ( ( upper_volume (( chi (R21 , R21) ) , R24) ) . R10 ) ) >= ( ( upper_bound ( rng ( R27 | ( divset (R24 , R10) ) ) ) ) * ( vol ( divset (R24 , R10) ) ) )))
proof
let R10 being (Element of ( NAT ));
assume L611: R10 in ( Seg ( len R24 ) );
L612: R10 in ( dom R24 ) by L611 , FINSEQ_1:def 3;
L613: ( ( upper_bound ( rng R27 ) ) * ( vol ( divset (R24 , R10) ) ) ) >= ( ( upper_bound ( rng ( R27 | ( divset (R24 , R10) ) ) ) ) * ( vol ( divset (R24 , R10) ) ) ) by L600 , L611;
thus L614: thesis by L613 , L612 , L308;
end;
L615: ( Sum ( ( upper_bound ( rng R27 ) ) * ( upper_volume (( chi (R21 , R21) ) , R24) ) ) ) >= ( Sum ( upper_volume (R27 , R24) ) )
proof
L616: ( len ( upper_volume (( chi (R21 , R21) ) , R24) ) ) = ( len ( ( upper_bound ( rng R27 ) ) * ( upper_volume (( chi (R21 , R21) ) , R24) ) ) ) by FINSEQ_2:33;
L617: ( len ( ( upper_bound ( rng R27 ) ) * ( upper_volume (( chi (R21 , R21) ) , R24) ) ) ) = ( len R24 ) by L616 , L155;
deffunc H8(Nat) = ( ( upper_bound ( rng ( R27 | ( divset (R24 , $1) ) ) ) ) * ( vol ( divset (R24 , $1) ) ) );
deffunc H9(set) = ( ( upper_bound ( rng R27 ) ) * ( ( upper_volume (( chi (R21 , R21) ) , R24) ) . $1 ) );
consider C105 being (FinSequence of ( REAL )) such that L618: (( len C105 ) = ( len R24 ) & (for B73 being Nat holds (B73 in ( dom C105 ) implies ( C105 . B73 ) = H9(B73)))) from FINSEQ_2:sch 1;
L619: ( dom C105 ) = ( Seg ( len R24 ) ) by L618 , FINSEQ_1:def 3;
L620: (for B74 being Nat holds ((1 <= B74 & B74 <= ( len C105 )) implies ( C105 . B74 ) = ( ( ( upper_bound ( rng R27 ) ) * ( upper_volume (( chi (R21 , R21) ) , R24) ) ) . B74 )))
proof
let C106 being Nat;
assume that
L621: 1 <= C106
and
L622: C106 <= ( len C105 );
L623: C106 in ( Seg ( len R24 ) ) by L618 , L621 , L622 , FINSEQ_1:1;
L624: ( C105 . C106 ) = ( ( upper_bound ( rng R27 ) ) * ( ( upper_volume (( chi (R21 , R21) ) , R24) ) . C106 ) ) by L623 , L618 , L619;
thus L625: thesis by L624 , RVSUM_1:44;
end;
L626: C105 = ( ( upper_bound ( rng R27 ) ) * ( upper_volume (( chi (R21 , R21) ) , R24) ) ) by L620 , L618 , L617 , FINSEQ_1:14;
reconsider D19 = C105 as (Element of ( ( len R24 ) -tuples_on ( REAL ) )) by L618 , FINSEQ_2:92;
consider C107 being (FinSequence of ( REAL )) such that L627: (( len C107 ) = ( len R24 ) & (for B75 being Nat holds (B75 in ( dom C107 ) implies ( C107 . B75 ) = H8(B75)))) from FINSEQ_2:sch 1;
L628: ( dom C107 ) = ( dom R24 ) by L627 , FINSEQ_3:29;
L629: C107 = ( upper_volume (R27 , R24) ) by L628 , L627 , L155;
reconsider D20 = C107 as (Element of ( ( len R24 ) -tuples_on ( REAL ) )) by L627 , FINSEQ_2:92;
L630:
now
let C108 being Nat;
assume L631: C108 in ( Seg ( len R24 ) );
L632: C108 in ( dom R24 ) by L631 , FINSEQ_1:def 3;
L633: ( D20 . C108 ) = ( ( upper_bound ( rng ( R27 | ( divset (R24 , C108) ) ) ) ) * ( vol ( divset (R24 , C108) ) ) ) by L632 , L627 , L628;
L634: ( D19 . C108 ) = ( ( upper_bound ( rng R27 ) ) * ( ( upper_volume (( chi (R21 , R21) ) , R24) ) . C108 ) ) by L618 , L619 , L631;
thus L635: ( D20 . C108 ) <= ( D19 . C108 ) by L634 , L610 , L631 , L633;
end;
thus L636: thesis by L630 , L629 , L626 , RVSUM_1:82;
end;
L637: ( ( upper_bound ( rng R27 ) ) * ( Sum ( upper_volume (( chi (R21 , R21) ) , R24) ) ) ) >= ( Sum ( upper_volume (R27 , R24) ) ) by L615 , RVSUM_1:87;
thus L638: thesis by L637 , L533;
end;
theorem
L639: (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R24 being (Division of R21) holds (for R27 being (Function of R21 , ( REAL )) holds (( R27 | R21 ) is  bounded implies ( lower_sum (R27 , R24) ) <= ( upper_sum (R27 , R24) )))))
proof
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R24 being (Division of R21);
let R27 being (Function of R21 , ( REAL ));
deffunc H10(Nat) = ( ( lower_bound ( rng ( R27 | ( divset (R24 , $1) ) ) ) ) * ( vol ( divset (R24 , $1) ) ) );
consider C109 being (FinSequence of ( REAL )) such that L640: (( len C109 ) = ( len R24 ) & (for B76 being Nat holds (B76 in ( dom C109 ) implies ( C109 . B76 ) = H10(B76)))) from FINSEQ_2:sch 1;
assume L641: ( R27 | R21 ) is  bounded;
L642: ( rng R27 ) is  bounded_above by L641 , L247;
L643: ( dom C109 ) = ( dom R24 ) by L640 , FINSEQ_3:29;
reconsider D21 = C109 as (Element of ( ( len R24 ) -tuples_on ( REAL ) )) by L640 , FINSEQ_2:92;
deffunc H11(Nat) = ( ( upper_bound ( rng ( R27 | ( divset (R24 , $1) ) ) ) ) * ( vol ( divset (R24 , $1) ) ) );
consider C110 being (FinSequence of ( REAL )) such that L644: (( len C110 ) = ( len R24 ) & (for B77 being Nat holds (B77 in ( dom C110 ) implies ( C110 . B77 ) = H11(B77)))) from FINSEQ_2:sch 1;
L645: ( dom C110 ) = ( dom R24 ) by L644 , FINSEQ_3:29;
L646: C110 = ( upper_volume (R27 , R24) ) by L645 , L644 , L155;
reconsider D22 = C110 as (Element of ( ( len R24 ) -tuples_on ( REAL ) )) by L644 , FINSEQ_2:92;
L647: ( rng R27 ) is  bounded_below by L641 , L229;
L648: (for B78 being Nat holds (B78 in ( Seg ( len R24 ) ) implies ( D21 . B78 ) <= ( D22 . B78 )))
proof
let C111 being Nat;
L649: ( dom R27 ) = R21 by FUNCT_2:def 1;
assume L650: C111 in ( Seg ( len R24 ) );
L651: C111 in ( dom R24 ) by L650 , FINSEQ_1:def 3;
L652: C111 in ( dom R24 ) by L650 , FINSEQ_1:def 3;
L653: ( dom ( R27 | ( divset (R24 , C111) ) ) ) = ( divset (R24 , C111) ) by L652 , L649 , L127 , RELAT_1:62;
L654: ( rng ( R27 | ( divset (R24 , C111) ) ) ) is non  empty non  empty non  empty non  empty (Subset of ( REAL )) by L653 , RELAT_1:42;
L655: ( 0 ) <= ( vol ( divset (R24 , C111) ) ) by SEQ_4:11 , XREAL_1:48;
L656: ( rng ( R27 | ( divset (R24 , C111) ) ) ) is  bounded_above by L642 , RELAT_1:70 , XXREAL_2:43;
L657: ( rng ( R27 | ( divset (R24 , C111) ) ) ) is  bounded_below by L647 , RELAT_1:70 , XXREAL_2:44;
L658: ( ( lower_bound ( rng ( R27 | ( divset (R24 , C111) ) ) ) ) * ( vol ( divset (R24 , C111) ) ) ) <= ( ( upper_bound ( rng ( R27 | ( divset (R24 , C111) ) ) ) ) * ( vol ( divset (R24 , C111) ) ) ) by L657 , L656 , L654 , L655 , SEQ_4:11 , XREAL_1:64;
L659: ( D21 . C111 ) <= ( ( upper_bound ( rng ( R27 | ( divset (R24 , C111) ) ) ) ) * ( vol ( divset (R24 , C111) ) ) ) by L658 , L640 , L643 , L651;
thus L660: thesis by L659 , L644 , L645 , L651;
end;
L661: ( Sum D21 ) <= ( Sum D22 ) by L648 , RVSUM_1:82;
thus L662: thesis by L661 , L640 , L643 , L646 , L171;
end;
definition
let C112 , C113 being FinSequence;
pred C112 <= C113
means
:L663: (( len C112 ) <= ( len C113 ) & ( rng C112 ) c= ( rng C113 ))
;reflexivity
;
end;
notation
let C114 , C115 being FinSequence;
synonym C115 >= C114 for C114 <= C115;
end;
theorem
L666: (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R25 being (Division of R21) holds (for R26 being (Division of R21) holds (( len R25 ) = 1 implies R25 <= R26))))
proof
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R25 being (Division of R21);
let R26 being (Division of R21);
L667: ( R26 . ( len R26 ) ) = ( upper_bound R21 ) by L39;
assume L668: ( len R25 ) = 1;
L669: ( R25 . 1 ) = ( upper_bound R21 ) by L668 , L39;
L670: R25 = <* ( upper_bound R21 ) *> by L669 , L668 , FINSEQ_1:40;
L671: ( rng R25 ) = { ( upper_bound R21 ) } by L670 , FINSEQ_1:38;
L672: ( len R26 ) in ( Seg ( len R26 ) ) by FINSEQ_1:3;
thus L673: ( len R25 ) <= ( len R26 ) by L672 , L668 , FINSEQ_1:1;
L674: ( len R26 ) in ( dom R26 ) by L672 , FINSEQ_1:def 3;
L675: ( upper_bound R21 ) in ( rng R26 ) by L674 , L667 , FUNCT_1:def 3;
L676: ( rng R25 ) is (Subset of ( rng R26 )) by L675 , L671 , SUBSET_1:41;
thus L677: thesis by L676;
end;
theorem
L678: (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R25 being (Division of R21) holds (for R26 being (Division of R21) holds (for R27 being (Function of R21 , ( REAL )) holds ((( R27 | R21 ) is  bounded_above & ( len R25 ) = 1) implies ( upper_sum (R27 , R25) ) >= ( upper_sum (R27 , R26) ))))))
proof
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R25 being (Division of R21);
let R26 being (Division of R21);
let R27 being (Function of R21 , ( REAL ));
assume that
L679: ( R27 | R21 ) is  bounded_above
and
L680: ( len R25 ) = 1;
L681: 1 in ( Seg ( len R25 ) ) by L680 , FINSEQ_1:3;
L682: 1 in ( dom R25 ) by L681 , FINSEQ_1:def 3;
L683: ( lower_bound ( divset (R25 , 1) ) ) = ( lower_bound R21 ) by L682 , L102;
L684: ( divset (R25 , 1) ) = [. ( lower_bound ( divset (R25 , 1) ) ) , ( upper_bound ( divset (R25 , 1) ) ) .] by L11;
L685: ( upper_bound ( divset (R25 , 1) ) ) = ( R25 . 1 ) by L682 , L102
.= ( upper_bound R21 ) by L680 , L39;
L686: ( divset (R25 , 1) ) = R21 by L685 , L683 , L684 , L11;
L687: ( ( upper_volume (R27 , R25) ) . 1 ) = ( ( upper_bound ( rng ( R27 | ( divset (R25 , 1) ) ) ) ) * ( vol ( divset (R25 , 1) ) ) ) by L682 , L155;
L688: ( len ( upper_volume (R27 , R25) ) ) = 1 by L680 , L155;
L689: ( upper_sum (R27 , R25) ) = ( Sum <* ( ( upper_bound ( rng ( R27 | ( divset (R25 , 1) ) ) ) ) * ( vol ( divset (R25 , 1) ) ) ) *> ) by L688 , L687 , FINSEQ_1:40
.= ( ( upper_bound ( rng ( R27 | R21 ) ) ) * ( vol R21 ) ) by L686 , FINSOP_1:11
.= ( ( upper_bound ( rng R27 ) ) * ( vol R21 ) );
thus L690: thesis by L689 , L679 , L598;
end;
theorem
L691: (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R25 being (Division of R21) holds (for R26 being (Division of R21) holds (for R27 being (Function of R21 , ( REAL )) holds ((( R27 | R21 ) is  bounded_below & ( len R25 ) = 1) implies ( lower_sum (R27 , R25) ) <= ( lower_sum (R27 , R26) ))))))
proof
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R25 being (Division of R21);
let R26 being (Division of R21);
let R27 being (Function of R21 , ( REAL ));
assume that
L692: ( R27 | R21 ) is  bounded_below
and
L693: ( len R25 ) = 1;
L694: 1 in ( Seg ( len R25 ) ) by L693 , FINSEQ_1:3;
L695: 1 in ( dom R25 ) by L694 , FINSEQ_1:def 3;
L696: ( lower_bound ( divset (R25 , 1) ) ) = ( lower_bound R21 ) by L695 , L102;
L697: ( upper_bound ( divset (R25 , 1) ) ) = ( R25 . 1 ) by L695 , L102
.= ( upper_bound R21 ) by L693 , L39;
L698: ( divset (R25 , 1) ) = [. ( lower_bound R21 ) , ( upper_bound R21 ) .] by L697 , L696 , L11;
L699: ( divset (R25 , 1) ) = R21 by L698 , L11;
L700: ( ( lower_volume (R27 , R25) ) . 1 ) = ( ( lower_bound ( rng ( R27 | ( divset (R25 , 1) ) ) ) ) * ( vol ( divset (R25 , 1) ) ) ) by L695 , L171;
L701: ( len ( lower_volume (R27 , R25) ) ) = 1 by L693 , L171;
L702: ( lower_sum (R27 , R25) ) = ( Sum <* ( ( lower_bound ( rng ( R27 | ( divset (R25 , 1) ) ) ) ) * ( vol ( divset (R25 , 1) ) ) ) *> ) by L701 , L700 , FINSEQ_1:40
.= ( ( lower_bound ( rng ( R27 | R21 ) ) ) * ( vol R21 ) ) by L699 , FINSOP_1:11
.= ( ( lower_bound ( rng R27 ) ) * ( vol R21 ) );
thus L703: thesis by L702 , L692 , L549;
end;
theorem
L704: (for R10 being (Element of ( NAT )) holds (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R24 being (Division of R21) holds (R10 in ( dom R24 ) implies (ex B79 , B80 being non  empty  closed_interval (Subset of ( REAL )) st (B79 = [. ( lower_bound R21 ) , ( R24 . R10 ) .] & B80 = [. ( R24 . R10 ) , ( upper_bound R21 ) .] & R21 = ( B79 \/ B80 )))))))
proof
let R10 being (Element of ( NAT ));
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R24 being (Division of R21);
assume L705: R10 in ( dom R24 );
L706: ( R24 . R10 ) in ( rng R24 ) by L705 , FUNCT_1:def 3;
L707: ( rng R24 ) c= R21 by L39;
L708: ( R24 . R10 ) in R21 by L707 , L706;
L709: ( R24 . R10 ) in [. ( lower_bound R21 ) , ( upper_bound R21 ) .] by L708 , L11;
L710: ( R24 . R10 ) in { R1 where R1 is Real : (( lower_bound R21 ) <= R1 & R1 <= ( upper_bound R21 )) } by L709 , RCOMP_1:def 1;
L711: (ex R1 being Real st (R1 = ( R24 . R10 ) & ( lower_bound R21 ) <= R1 & R1 <= ( upper_bound R21 ))) by L710;
reconsider D23 = [. ( lower_bound R21 ) , ( R24 . R10 ) .] as non  empty  closed_interval (Subset of ( REAL )) by L711 , MEASURE5:14;
reconsider D24 = [. ( R24 . R10 ) , ( upper_bound R21 ) .] as non  empty  closed_interval (Subset of ( REAL )) by L711 , MEASURE5:14;
take D23;
take D24;
L712: ( D23 \/ D24 ) = [. ( lower_bound R21 ) , ( upper_bound R21 ) .] by L711 , XXREAL_1:174
.= R21 by L11;
thus L713: thesis by L712;
end;
theorem
L714: (for R10 being (Element of ( NAT )) holds (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R25 being (Division of R21) holds (for R26 being (Division of R21) holds ((R10 in ( dom R25 ) & R25 <= R26) implies (ex R11 being (Element of ( NAT )) st (R11 in ( dom R26 ) & ( R25 . R10 ) = ( R26 . R11 ))))))))
proof
let R10 being (Element of ( NAT ));
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R25 being (Division of R21);
let R26 being (Division of R21);
assume L715: R10 in ( dom R25 );
L716: ( R25 . R10 ) in ( rng R25 ) by L715 , FUNCT_1:def 3;
assume L717: R25 <= R26;
L718: ( rng R25 ) c= ( rng R26 ) by L717 , L663;
consider R17 being set such that L719: R17 in ( dom R26 ) and L720: ( R25 . R10 ) = ( R26 . R17 ) by L718 , L716 , FUNCT_1:def 3;
reconsider D25 = R17 as (Element of ( NAT )) by L719;
take D25;
thus L721: thesis by L719 , L720;
end;
definition
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R25 being (Division of R21);
let R26 being (Division of R21);
let C116 being Nat;
assume L722: R25 <= R26;
func indx (R26 , R25 , C116) -> (Element of ( NAT )) means 
:L723: (it in ( dom R26 ) & ( R25 . C116 ) = ( R26 . it )) if C116 in ( dom R25 ) otherwise it = ( 0 );
existence by L722 , L714;
uniqueness
proof
let C117 , C118 being (Element of ( NAT ));
thus L724:now
assume that
L725: C116 in ( dom R25 )
and
L726: C117 in ( dom R26 )
and
L727: ( R25 . C116 ) = ( R26 . C117 )
and
L728: C118 in ( dom R26 )
and
L729: ( R25 . C116 ) = ( R26 . C118 );
assume L730: C117 <> C118;
L731:
now
per cases  by L730 , XXREAL_0:1;
suppose L732: C117 < C118;

thus L733: contradiction by L732 , L726 , L727 , L728 , L729 , SEQM_3:def 1;
end;
suppose L734: C118 < C117;

thus L735: contradiction by L734 , L726 , L727 , L728 , L729 , SEQM_3:def 1;
end;
end;
thus L737: contradiction by L731;
end;
assume that
L738: (not C116 in ( dom R25 ))
and
L739: C117 = ( 0 )
and
L740: C118 = ( 0 );
thus L741: thesis by L739 , L740;
end;
correctness;
end;
theorem
L743: (for B81 being  increasing (FinSequence of ( REAL )) holds (for B82 being (Element of ( NAT )) holds (B82 <= ( len B81 ) implies ( B81 /^ B82 ) is  increasing  increasing  increasing  increasing (FinSequence of ( REAL )))))
proof
let C119 being  increasing (FinSequence of ( REAL ));
let C120 being (Element of ( NAT ));
assume L744: C120 <= ( len C119 );
L745: (for R10 being (Element of ( NAT )) holds (for R11 being (Element of ( NAT )) holds ((R10 in ( dom ( C119 /^ C120 ) ) & R11 in ( dom ( C119 /^ C120 ) ) & R10 < R11) implies ( ( C119 /^ C120 ) . R10 ) < ( ( C119 /^ C120 ) . R11 ))))
proof
let R10 being (Element of ( NAT ));
let R11 being (Element of ( NAT ));
assume that
L746: R10 in ( dom ( C119 /^ C120 ) )
and
L747: R11 in ( dom ( C119 /^ C120 ) )
and
L748: R10 < R11;
L749: ( R10 + C120 ) < ( R11 + C120 ) by L748 , XREAL_1:6;
L750: R11 in ( Seg ( len ( C119 /^ C120 ) ) ) by L747 , FINSEQ_1:def 3;
L751: 1 <= R11 by L750 , FINSEQ_1:1;
L752: ( 1 + C120 ) <= ( R11 + C120 ) by L751 , XREAL_1:6;
L753: R11 <= ( len ( C119 /^ C120 ) ) by L750 , FINSEQ_1:1;
L754: R11 <= ( ( len C119 ) - C120 ) by L753 , L744 , RFINSEQ:def 1;
L755: ( R11 + C120 ) <= ( len C119 ) by L754 , XREAL_1:19;
L756: 1 <= ( 1 + C120 ) by NAT_1:11;
L757: 1 <= ( R11 + C120 ) by L756 , L752 , XXREAL_0:2;
L758: ( R11 + C120 ) in ( Seg ( len C119 ) ) by L757 , L755 , FINSEQ_1:1;
L759: ( R11 + C120 ) in ( dom C119 ) by L758 , FINSEQ_1:def 3;
L760: R10 in ( Seg ( len ( C119 /^ C120 ) ) ) by L746 , FINSEQ_1:def 3;
L761: 1 <= R10 by L760 , FINSEQ_1:1;
L762: ( 1 + C120 ) <= ( R10 + C120 ) by L761 , XREAL_1:6;
L763: R10 <= ( len ( C119 /^ C120 ) ) by L760 , FINSEQ_1:1;
L764: R10 <= ( ( len C119 ) - C120 ) by L763 , L744 , RFINSEQ:def 1;
L765: ( R10 + C120 ) <= ( len C119 ) by L764 , XREAL_1:19;
L766: 1 <= ( 1 + C120 ) by NAT_1:11;
L767: 1 <= ( R10 + C120 ) by L766 , L762 , XXREAL_0:2;
L768: ( R10 + C120 ) in ( Seg ( len C119 ) ) by L767 , L765 , FINSEQ_1:1;
L769: ( R10 + C120 ) in ( dom C119 ) by L768 , FINSEQ_1:def 3;
L770: ( ( C119 /^ C120 ) . R11 ) = ( C119 . ( R11 + C120 ) ) by L744 , L747 , RFINSEQ:def 1;
L771: ( ( C119 /^ C120 ) . R10 ) = ( C119 . ( R10 + C120 ) ) by L744 , L746 , RFINSEQ:def 1;
thus L772: thesis by L771 , L770 , L769 , L759 , L749 , SEQM_3:def 1;
end;
thus L773: thesis by L745 , SEQM_3:def 1;
end;
theorem
L774: (for B83 being  increasing (FinSequence of ( REAL )) holds (for B84 , B85 being (Element of ( NAT )) holds ((B85 in ( dom B83 ) & B84 <= B85) implies ( mid (B83 , B84 , B85) ) is  increasing  increasing  increasing  increasing (FinSequence of ( REAL )))))
proof
let C121 being  increasing (FinSequence of ( REAL ));
let C122 , C123 being (Element of ( NAT ));
assume that
L775: C123 in ( dom C121 )
and
L776: C122 <= C123;
L777: C123 in ( Seg ( len C121 ) ) by L775 , FINSEQ_1:def 3;
L778: C123 <= ( len C121 ) by L777 , FINSEQ_1:1;
L779: C122 <= ( len C121 ) by L778 , L776 , XXREAL_0:2;
L780: ( C121 /^ ( C122 -' 1 ) ) is  increasing  increasing  increasing  increasing (FinSequence of ( REAL )) by L779 , L743 , NAT_D:44;
L781: ( ( C121 /^ ( C122 -' 1 ) ) | ( Seg ( ( C123 -' C122 ) + 1 ) ) ) is  increasing  increasing  increasing  increasing (FinSequence of ( REAL )) by L780 , FINSEQ_1:18 , SEQ_4:139;
L782: ( mid (C121 , C122 , C123) ) = ( ( C121 /^ ( C122 -' 1 ) ) | ( ( C123 -' C122 ) + 1 ) ) by L776 , FINSEQ_6:def 3;
thus L783: thesis by L782 , L781 , FINSEQ_1:def 15;
end;
L784: (for R10 being (Element of ( NAT )) holds (for R11 being (Element of ( NAT )) holds (for B86 being FinSequence holds ((R10 in ( dom B86 ) & R11 in ( dom B86 ) & R10 <= R11) implies ( len ( mid (B86 , R10 , R11) ) ) = ( ( R11 - R10 ) + 1 )))))
proof
let R10 being (Element of ( NAT ));
let R11 being (Element of ( NAT ));
let C124 being FinSequence;
assume that
L785: R10 in ( dom C124 )
and
L786: R11 in ( dom C124 )
and
L787: R10 <= R11;
L788: R11 in ( Seg ( len C124 ) ) by L786 , FINSEQ_1:def 3;
L789: R11 <= ( len C124 ) by L788 , FINSEQ_1:1;
L790: R10 <= ( len C124 ) by L789 , L787 , XXREAL_0:2;
L791: ( R10 -' 1 ) <= ( len C124 ) by L790 , NAT_D:44;
L792: ( len ( C124 /^ ( R10 -' 1 ) ) ) = ( ( len C124 ) - ( R10 -' 1 ) ) by L791 , RFINSEQ:def 1;
reconsider D26 = ( C124 /^ ( R10 -' 1 ) ) as FinSequence;
reconsider D27 = ( ( R11 -' R10 ) + 1 ) as (Element of ( NAT ));
L793: R10 in ( Seg ( len C124 ) ) by L785 , FINSEQ_1:def 3;
L794: 1 <= R10 by L793 , FINSEQ_1:1;
L795: ( R11 - ( R10 -' 1 ) ) = ( R11 - ( R10 - 1 ) ) by L794 , XREAL_1:233;
L796: ( R11 - ( R10 -' 1 ) ) = ( ( R11 - R10 ) + 1 ) by L795;
L797: R11 in ( Seg ( len C124 ) ) by L786 , FINSEQ_1:def 3;
L798: R11 <= ( len C124 ) by L797 , FINSEQ_1:1;
L799: ( R11 - ( R10 -' 1 ) ) <= ( ( len C124 ) - ( R10 -' 1 ) ) by L798 , XREAL_1:9;
L800: ( ( R11 -' R10 ) + 1 ) <= ( len ( C124 /^ ( R10 -' 1 ) ) ) by L799 , L787 , L792 , L796 , XREAL_1:233;
L801: ( mid (C124 , R10 , R11) ) = ( ( C124 /^ ( R10 -' 1 ) ) | ( ( R11 -' R10 ) + 1 ) ) by L787 , FINSEQ_6:def 3
.= ( D26 | ( Seg D27 ) ) by FINSEQ_1:def 15;
L802: ( len ( mid (C124 , R10 , R11) ) ) = ( ( R11 -' R10 ) + 1 ) by L801 , L800 , FINSEQ_1:17;
thus L803: thesis by L802 , L787 , XREAL_1:233;
end;
theorem
L804: (for R10 being (Element of ( NAT )) holds (for R11 being (Element of ( NAT )) holds (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R24 being (Division of R21) holds ((R10 in ( dom R24 ) & R11 in ( dom R24 ) & R10 <= R11) implies (ex B87 being non  empty  closed_interval (Subset of ( REAL )) st (( lower_bound B87 ) = ( ( mid (R24 , R10 , R11) ) . 1 ) & ( upper_bound B87 ) = ( ( mid (R24 , R10 , R11) ) . ( len ( mid (R24 , R10 , R11) ) ) ) & ( mid (R24 , R10 , R11) ) is (Division of B87))))))))
proof
let R10 being (Element of ( NAT ));
let R11 being (Element of ( NAT ));
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R24 being (Division of R21);
assume that
L805: R10 in ( dom R24 )
and
L806: R11 in ( dom R24 )
and
L807: R10 <= R11;
L808: R11 in ( Seg ( len R24 ) ) by L806 , FINSEQ_1:def 3;
L809: R11 <= ( len R24 ) by L808 , FINSEQ_1:1;
L810: R10 <= ( len R24 ) by L809 , L807 , XXREAL_0:2;
L811: ( R10 -' 1 ) <= ( len R24 ) by L810 , NAT_D:44;
L812: ( len ( R24 /^ ( R10 -' 1 ) ) ) = ( ( len R24 ) - ( R10 -' 1 ) ) by L811 , RFINSEQ:def 1;
reconsider D28 = ( R24 /^ ( R10 -' 1 ) ) as (FinSequence of ( REAL ));
reconsider D29 = ( ( R11 -' R10 ) + 1 ) as (Element of ( NAT ));
L813: R10 in ( Seg ( len R24 ) ) by L805 , FINSEQ_1:def 3;
L814: 1 <= R10 by L813 , FINSEQ_1:1;
L815: ( R11 - ( R10 -' 1 ) ) = ( R11 - ( R10 - 1 ) ) by L814 , XREAL_1:233;
L816: ( R11 - ( R10 -' 1 ) ) = ( ( R11 - R10 ) + 1 ) by L815;
L817: R11 in ( Seg ( len R24 ) ) by L806 , FINSEQ_1:def 3;
L818: R11 <= ( len R24 ) by L817 , FINSEQ_1:1;
L819: ( R11 - ( R10 -' 1 ) ) <= ( ( len R24 ) - ( R10 -' 1 ) ) by L818 , XREAL_1:9;
L820: ( ( R11 -' R10 ) + 1 ) <= ( len ( R24 /^ ( R10 -' 1 ) ) ) by L819 , L807 , L812 , L816 , XREAL_1:233;
L821: ( mid (R24 , R10 , R11) ) = ( ( R24 /^ ( R10 -' 1 ) ) | ( ( R11 -' R10 ) + 1 ) ) by L807 , FINSEQ_6:def 3
.= ( D28 | ( Seg D29 ) ) by FINSEQ_1:def 15;
L822: ( 0 ) < ( len ( mid (R24 , R10 , R11) ) ) by L821 , L820 , FINSEQ_1:17;
reconsider D30 = ( mid (R24 , R10 , R11) ) as non  empty  increasing (FinSequence of ( REAL )) by L822 , L806 , L807 , L774;
L823: ( ( R11 -' R10 ) + 1 ) >= ( ( 0 ) + 1 ) by XREAL_1:6;
L824: 1 <= ( len D30 ) by L823 , L820 , L821 , FINSEQ_1:17;
L825: ( len D30 ) in ( Seg ( len D30 ) ) by L824 , FINSEQ_1:1;
L826: ( len D30 ) in ( dom D30 ) by L825 , FINSEQ_1:def 3;
L827: 1 in ( Seg ( len D30 ) ) by L824 , FINSEQ_1:1;
L828: 1 in ( dom D30 ) by L827 , FINSEQ_1:def 3;
L829: ( D30 . 1 ) <= ( D30 . ( len D30 ) ) by L828 , L824 , L826 , SEQ_4:137;
reconsider D31 = [. ( D30 . 1 ) , ( D30 . ( len D30 ) ) .] as non  empty  closed_interval (Subset of ( REAL )) by L829 , MEASURE5:14;
L830: D31 = [. ( lower_bound D31 ) , ( upper_bound D31 ) .] by L11;
L831: ( lower_bound D31 ) = ( D30 . 1 ) by L830 , L34;
L832: ( D30 . ( len D30 ) ) = ( upper_bound D31 ) by L830 , L34;
L833: (for R5 being Real holds (R5 in ( rng D30 ) implies R5 in D31))
proof
let R5 being Real;
assume L834: R5 in ( rng D30 );
consider R10 being (Element of ( NAT )) such that L835: R10 in ( dom D30 ) and L836: R5 = ( D30 . R10 ) by L834 , PARTFUN1:3;
L837: R10 in ( Seg ( len D30 ) ) by L835 , FINSEQ_1:def 3;
L838: R10 <= ( len D30 ) by L837 , FINSEQ_1:1;
L839: ( D30 . R10 ) <= ( D30 . ( len D30 ) ) by L838 , L826 , L835 , SEQ_4:137;
L840: 1 <= R10 by L837 , FINSEQ_1:1;
L841: ( D30 . 1 ) <= ( D30 . R10 ) by L840 , L828 , L835 , SEQ_4:137;
L842: ( D30 . R10 ) in { R1 where R1 is Real : (( D30 . 1 ) <= R1 & R1 <= ( D30 . ( len D30 ) )) } by L841 , L839;
thus L843: thesis by L842 , L836 , RCOMP_1:def 1;
end;
L844: ( rng D30 ) c= D31 by L833 , SUBSET_1:2;
L845: D30 is (Division of D31) by L844 , L832 , L39;
thus L846: thesis by L845 , L831 , L832;
end;
theorem
L847: (for R10 being (Element of ( NAT )) holds (for R11 being (Element of ( NAT )) holds (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R22 being non  empty  closed_interval (Subset of ( REAL )) holds (for R24 being (Division of R21) holds ((R10 in ( dom R24 ) & R11 in ( dom R24 ) & R10 <= R11 & ( R24 . R10 ) >= ( lower_bound R22 ) & ( R24 . R11 ) = ( upper_bound R22 )) implies ( mid (R24 , R10 , R11) ) is (Division of R22)))))))
proof
let R10 being (Element of ( NAT ));
let R11 being (Element of ( NAT ));
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R22 being non  empty  closed_interval (Subset of ( REAL ));
let R24 being (Division of R21);
assume that
L848: R10 in ( dom R24 )
and
L849: R11 in ( dom R24 )
and
L850: R10 <= R11
and
L851: ( R24 . R10 ) >= ( lower_bound R22 )
and
L852: ( R24 . R11 ) = ( upper_bound R22 );
L853: ( ( ( ( R11 - R10 ) + 1 ) + R10 ) - 1 ) = R11;
L854: R10 in ( Seg ( len R24 ) ) by L848 , FINSEQ_1:def 3;
L855: 1 <= R10 by L854 , FINSEQ_1:1;
L856: ( 0 ) <= ( R11 - R10 ) by L850 , XREAL_1:48;
L857: ( ( 0 ) + 1 ) <= ( ( R11 - R10 ) + 1 ) by L856 , XREAL_1:6;
L858: R11 in ( Seg ( len R24 ) ) by L849 , FINSEQ_1:def 3;
L859: R11 <= ( len R24 ) by L858 , FINSEQ_1:1;
consider C125 being non  empty  closed_interval (Subset of ( REAL )) such that L860: ( lower_bound C125 ) = ( ( mid (R24 , R10 , R11) ) . 1 ) and L861: ( upper_bound C125 ) = ( ( mid (R24 , R10 , R11) ) . ( len ( mid (R24 , R10 , R11) ) ) ) and L862: ( mid (R24 , R10 , R11) ) is (Division of C125) by L848 , L849 , L850 , L804;
L863: ( len ( mid (R24 , R10 , R11) ) ) = ( ( R11 - R10 ) + 1 ) by L848 , L849 , L850 , L784;
L864: ( ( 1 + R10 ) - 1 ) = R10;
L865: (for R5 being Real holds (R5 in C125 implies R5 in R22))
proof
let R5 being Real;
assume L866: R5 in C125;
L867: R5 in [. ( lower_bound C125 ) , ( upper_bound C125 ) .] by L866 , L11;
L868: R5 in { R1 where R1 is Real : (( lower_bound C125 ) <= R1 & R1 <= ( upper_bound C125 )) } by L867 , RCOMP_1:def 1;
L869: (ex R1 being Real st (R5 = R1 & ( lower_bound C125 ) <= R1 & R1 <= ( upper_bound C125 ))) by L868;
L870: ( R24 . R10 ) <= R5 by L869 , L850 , L860 , L855 , L859 , L857 , L864 , FINSEQ_6:122;
L871: ( lower_bound R22 ) <= R5 by L870 , L851 , XXREAL_0:2;
L872: R5 <= ( upper_bound R22 ) by L850 , L852 , L861 , L863 , L855 , L859 , L857 , L853 , L869 , FINSEQ_6:122;
L873: R5 in { R1 where R1 is Real : (( lower_bound R22 ) <= R1 & R1 <= ( upper_bound R22 )) } by L872 , L871;
L874: R5 in [. ( lower_bound R22 ) , ( upper_bound R22 ) .] by L873 , RCOMP_1:def 1;
thus L875: thesis by L874 , L11;
end;
L876: C125 c= R22 by L865 , SUBSET_1:2;
L877: ( rng ( mid (R24 , R10 , R11) ) ) c= C125 by L862 , L39;
L878: ( rng ( mid (R24 , R10 , R11) ) ) c= R22 by L877 , L876 , XBOOLE_1:1;
L879: ( ( mid (R24 , R10 , R11) ) . ( len ( mid (R24 , R10 , R11) ) ) ) = ( R24 . R11 ) by L850 , L863 , L855 , L859 , L857 , L853 , FINSEQ_6:122;
thus L880: thesis by L879 , L852 , L862 , L878 , L39;
end;
definition
let C126 being (FinSequence of ( REAL ));
func PartSums C126 -> (FinSequence of ( REAL )) means 
:L881: (( len it ) = ( len C126 ) & (for B88 being Nat holds (B88 in ( dom C126 ) implies ( it . B88 ) = ( Sum ( C126 | B88 ) ))));
existence
proof
deffunc H12(Nat) = ( Sum ( C126 | $1 ) );
consider C127 being (FinSequence of ( REAL )) such that L882: (( len C127 ) = ( len C126 ) & (for B89 being Nat holds (B89 in ( dom C127 ) implies ( C127 . B89 ) = H12(B89)))) from FINSEQ_2:sch 1;
take C127;
thus L883: ( len C127 ) = ( len C126 ) by L882;
let C128 being Nat;
assume L884: C128 in ( dom C126 );
L885: C128 in ( dom C127 ) by L884 , L882 , FINSEQ_3:29;
thus L886: thesis by L885 , L882;
end;
uniqueness
proof
let C129 , C130 being (FinSequence of ( REAL ));
assume that
L887: ( len C129 ) = ( len C126 )
and
L888: (for B90 being Nat holds (B90 in ( dom C126 ) implies ( C129 . B90 ) = ( Sum ( C126 | B90 ) )))
and
L889: ( len C130 ) = ( len C126 )
and
L890: (for B91 being Nat holds (B91 in ( dom C126 ) implies ( C130 . B91 ) = ( Sum ( C126 | B91 ) )));
L891: (for B92 being Nat holds ((1 <= B92 & B92 <= ( len C129 )) implies ( C129 . B92 ) = ( C130 . B92 )))
proof
let C131 being Nat;
assume that
L892: 1 <= C131
and
L893: C131 <= ( len C129 );
L894: C131 in ( dom C126 ) by L887 , L892 , L893 , FINSEQ_3:25;
L895: ( C129 . C131 ) = ( Sum ( C126 | C131 ) ) by L894 , L888;
thus L896: thesis by L895 , L890 , L894;
end;
thus L897: thesis by L891 , L887 , L889 , FINSEQ_1:14;
end;
end;
theorem
L899: (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R25 being (Division of R21) holds (for R26 being (Division of R21) holds (for R27 being (Function of R21 , ( REAL )) holds ((R25 <= R26 & ( R27 | R21 ) is  bounded_above) implies (for B93 being non  empty (Element of ( NAT )) holds (B93 in ( dom R25 ) implies ( Sum ( ( upper_volume (R27 , R25) ) | B93 ) ) >= ( Sum ( ( upper_volume (R27 , R26) ) | ( indx (R26 , R25 , B93) ) ) ))))))))
proof
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R25 being (Division of R21);
let R26 being (Division of R21);
let R27 being (Function of R21 , ( REAL ));
assume that
L900: R25 <= R26
and
L901: ( R27 | R21 ) is  bounded_above;
L902: (for B94 being non  empty Nat holds (B94 in ( dom R25 ) implies ( Sum ( ( upper_volume (R27 , R25) ) | B94 ) ) >= ( Sum ( ( upper_volume (R27 , R26) ) | ( indx (R26 , R25 , B94) ) ) )))
proof
defpred S4[ Nat ] means ($1 in ( dom R25 ) implies ( Sum ( ( upper_volume (R27 , R25) ) | $1 ) ) >= ( Sum ( ( upper_volume (R27 , R26) ) | ( indx (R26 , R25 , $1) ) ) ));
L903: S4[ 1 ]
proof
reconsider D32 = ( R27 | ( divset (R25 , 1) ) ) as (PartFunc of ( divset (R25 , 1) ) , ( REAL )) by PARTFUN1:10;
set D33 = ( divset (R25 , 1) );
set D34 = ( mid (R25 , 1 , 1) );
L904: ( dom D32 ) = ( ( dom R27 ) /\ ( divset (R25 , 1) ) ) by RELAT_1:61;
assume L905: 1 in ( dom R25 );
L906: ( R25 . 1 ) = ( upper_bound D33 ) by L905 , L102;
L907: ( R26 . ( indx (R26 , R25 , 1) ) ) = ( upper_bound D33 ) by L906 , L900 , L905 , L723;
L908: ( R25 . 1 ) >= ( lower_bound D33 ) by L906 , SEQ_4:11;
reconsider D35 = D34 as (Division of D33) by L908 , L905 , L906 , L847;
L909: 1 in ( Seg ( len R25 ) ) by L905 , FINSEQ_1:def 3;
L910: 1 <= ( len R25 ) by L909 , FINSEQ_1:1;
L911: ( len ( mid (R25 , 1 , 1) ) ) = ( ( 1 -' 1 ) + 1 ) by L910 , FINSEQ_6:118;
L912: ( len ( upper_volume (D32 , D35) ) ) = ( len D35 ) by L155
.= 1 by L911 , XREAL_1:235;
L913: ( len ( mid (R25 , 1 , 1) ) ) = 1 by L911 , XREAL_1:235;
L914: ( len ( mid (R25 , 1 , 1) ) ) = ( len ( R25 | 1 ) ) by L913 , L910 , FINSEQ_1:59;
L915: (for B95 being Nat holds ((1 <= B95 & B95 <= ( len ( mid (R25 , 1 , 1) ) )) implies ( ( mid (R25 , 1 , 1) ) . B95 ) = ( ( R25 | 1 ) . B95 )))
proof
let C132 being Nat;
assume that
L916: 1 <= C132
and
L917: C132 <= ( len ( mid (R25 , 1 , 1) ) );
L918: C132 in ( Seg ( len ( R25 | 1 ) ) ) by L914 , L916 , L917 , FINSEQ_1:1;
L919: C132 in ( dom ( R25 | 1 ) ) by L918 , FINSEQ_1:def 3;
L920: C132 in ( dom ( R25 | ( Seg 1 ) ) ) by L919 , FINSEQ_1:def 15;
L921: ( ( R25 | ( Seg 1 ) ) . C132 ) = ( R25 . C132 ) by L920 , FUNCT_1:47;
L922: C132 = 1 by L913 , L916 , L917 , XXREAL_0:1;
L923: ( ( mid (R25 , 1 , 1) ) . C132 ) = ( R25 . ( ( 1 + 1 ) - 1 ) ) by L922 , L910 , FINSEQ_6:118;
thus L924: thesis by L923 , L922 , L921 , FINSEQ_1:def 15;
end;
L925: ( mid (R25 , 1 , 1) ) = ( R25 | 1 ) by L915 , L914 , FINSEQ_1:14;
L926: (for B96 being Nat holds ((1 <= B96 & B96 <= ( len ( upper_volume (D32 , D35) ) )) implies ( ( upper_volume (D32 , D35) ) . B96 ) = ( ( ( upper_volume (R27 , R25) ) | 1 ) . B96 )))
proof
let C133 being Nat;
assume that
L927: 1 <= C133
and
L928: C133 <= ( len ( upper_volume (D32 , D35) ) );
L929: 1 in ( Seg 1 ) by FINSEQ_1:3;
L930: ( dom ( R25 | ( Seg 1 ) ) ) = ( ( dom R25 ) /\ ( Seg 1 ) ) by RELAT_1:61;
L931: 1 in ( dom ( R25 | ( Seg 1 ) ) ) by L930 , L905 , L929 , XBOOLE_0:def 4;
L932: ( dom ( upper_volume (R27 , R25) ) ) = ( Seg ( len ( upper_volume (R27 , R25) ) ) ) by FINSEQ_1:def 3
.= ( Seg ( len R25 ) ) by L155;
L933: ( dom ( ( upper_volume (R27 , R25) ) | ( Seg 1 ) ) ) = ( ( Seg ( len R25 ) ) /\ ( Seg 1 ) ) by L932 , RELAT_1:61
.= ( Seg 1 ) by L910 , FINSEQ_1:7;
L934: ( len D35 ) = 1 by L911 , XREAL_1:235;
L935: 1 in ( dom D35 ) by L934 , L929 , FINSEQ_1:def 3;
L936: ( ( ( upper_volume (R27 , R25) ) | 1 ) . C133 ) = ( ( ( upper_volume (R27 , R25) ) | ( Seg 1 ) ) . C133 ) by FINSEQ_1:def 15
.= ( ( ( upper_volume (R27 , R25) ) | ( Seg 1 ) ) . 1 ) by L912 , L927 , L928 , XXREAL_0:1
.= ( ( upper_volume (R27 , R25) ) . 1 ) by L933 , FINSEQ_1:3 , FUNCT_1:47
.= ( ( upper_bound ( rng ( R27 | ( divset (R25 , 1) ) ) ) ) * ( vol ( divset (R25 , 1) ) ) ) by L905 , L155;
L937: ( divset (R25 , 1) ) = [. ( lower_bound ( divset (R25 , 1) ) ) , ( upper_bound ( divset (R25 , 1) ) ) .] by L11
.= [. ( lower_bound R21 ) , ( upper_bound ( divset (R25 , 1) ) ) .] by L905 , L102
.= [. ( lower_bound R21 ) , ( R25 . 1 ) .] by L905 , L102;
L938: ( ( upper_volume (D32 , D35) ) . C133 ) = ( ( upper_volume (D32 , D35) ) . 1 ) by L912 , L927 , L928 , XXREAL_0:1
.= ( ( upper_bound ( rng ( D32 | ( divset (D35 , 1) ) ) ) ) * ( vol ( divset (D35 , 1) ) ) ) by L935 , L155;
L939: ( divset (D35 , 1) ) = [. ( lower_bound ( divset (D35 , 1) ) ) , ( upper_bound ( divset (D35 , 1) ) ) .] by L11
.= [. ( lower_bound D33 ) , ( upper_bound ( divset (D35 , 1) ) ) .] by L935 , L102
.= [. ( lower_bound D33 ) , ( D35 . 1 ) .] by L935 , L102
.= [. ( lower_bound R21 ) , ( ( R25 | 1 ) . 1 ) .] by L905 , L925 , L102
.= [. ( lower_bound R21 ) , ( ( R25 | ( Seg 1 ) ) . 1 ) .] by FINSEQ_1:def 15
.= [. ( lower_bound R21 ) , ( R25 . 1 ) .] by L931 , FUNCT_1:47;
thus L940: thesis by L939 , L904 , L938 , L937 , L936 , RELAT_1:68;
end;
L941: ( D32 | ( divset (R25 , 1) ) ) is  bounded_above
proof
consider C134 being  real number such that L942: (for B97 being set holds (B97 in ( R21 /\ ( dom R27 ) ) implies ( R27 . B97 ) <= C134)) by L901 , RFUNCT_1:70;
L943: (for B98 being set holds (B98 in ( ( divset (R25 , 1) ) /\ ( dom D32 ) ) implies ( D32 . B98 ) <= C134))
proof
let C135 being set;
L944: ( dom D32 ) c= ( dom R27 ) by RELAT_1:60;
assume L945: C135 in ( ( divset (R25 , 1) ) /\ ( dom D32 ) );
L946: C135 in ( dom D32 ) by L945 , XBOOLE_0:def 4;
L947: ( R21 /\ ( dom R27 ) ) = ( dom R27 ) by XBOOLE_1:28;
L948: C135 in ( R21 /\ ( dom R27 ) ) by L947 , L946 , L944;
reconsider D36 = C135 as (Element of R21) by L948;
L949: ( R27 . D36 ) <= C134 by L942 , L946 , L947 , L944;
thus L950: thesis by L949 , L946 , FUNCT_1:47;
end;
thus L951: thesis by L943 , RFUNCT_1:70;
end;
L952: ( rng R26 ) c= R21 by L39;
L953: ( indx (R26 , R25 , 1) ) in ( dom R26 ) by L900 , L905 , L723;
L954: ( indx (R26 , R25 , 1) ) in ( Seg ( len R26 ) ) by L953 , FINSEQ_1:def 3;
L955: 1 <= ( indx (R26 , R25 , 1) ) by L954 , FINSEQ_1:1;
L956: ( indx (R26 , R25 , 1) ) <= ( len R26 ) by L954 , FINSEQ_1:1;
L957: 1 <= ( len R26 ) by L956 , L955 , XXREAL_0:2;
L958: 1 in ( Seg ( len R26 ) ) by L957 , FINSEQ_1:1;
L959: 1 in ( dom R26 ) by L958 , FINSEQ_1:def 3;
L960: ( R26 . 1 ) in ( rng R26 ) by L959 , FUNCT_1:def 3;
L961: ( R26 . 1 ) in R21 by L960 , L952;
L962: ( R26 . 1 ) in [. ( lower_bound R21 ) , ( upper_bound R21 ) .] by L961 , L11;
L963: ( R26 . 1 ) in { R1 where R1 is Real : (( lower_bound R21 ) <= R1 & R1 <= ( upper_bound R21 )) } by L962 , RCOMP_1:def 1;
L964: (ex R1 being Real st (( R26 . 1 ) = R1 & ( lower_bound R21 ) <= R1 & R1 <= ( upper_bound R21 ))) by L963;
L965: ( R26 . 1 ) >= ( lower_bound D33 ) by L964 , L905 , L102;
reconsider D37 = ( mid (R26 , 1 , ( indx (R26 , R25 , 1) )) ) as (Division of D33) by L965 , L953 , L955 , L959 , L907 , L847;
L966: ( indx (R26 , R25 , 1) ) in ( dom R26 ) by L900 , L905 , L723;
L967: ( indx (R26 , R25 , 1) ) in ( Seg ( len R26 ) ) by L966 , FINSEQ_1:def 3;
L968: 1 <= ( indx (R26 , R25 , 1) ) by L967 , FINSEQ_1:1;
L969: ( indx (R26 , R25 , 1) ) <= ( len R26 ) by L967 , FINSEQ_1:1;
L970: 1 <= ( len R26 ) by L969 , L968 , XXREAL_0:2;
L971: ( len ( mid (R26 , 1 , ( indx (R26 , R25 , 1) )) ) ) = ( ( ( indx (R26 , R25 , 1) ) -' 1 ) + 1 ) by L970 , L968 , L969 , FINSEQ_6:118;
L972: ( len ( mid (R26 , 1 , ( indx (R26 , R25 , 1) )) ) ) = ( ( ( indx (R26 , R25 , 1) ) - 1 ) + 1 ) by L971 , L968 , XREAL_1:233;
L973: ( len ( mid (R26 , 1 , ( indx (R26 , R25 , 1) )) ) ) = ( len ( R26 | ( indx (R26 , R25 , 1) ) ) ) by L972 , L969 , FINSEQ_1:59;
L974: (for B99 being Nat holds ((1 <= B99 & B99 <= ( len ( mid (R26 , 1 , ( indx (R26 , R25 , 1) )) ) )) implies ( ( mid (R26 , 1 , ( indx (R26 , R25 , 1) )) ) . B99 ) = ( ( R26 | ( indx (R26 , R25 , 1) ) ) . B99 )))
proof
let C136 being Nat;
assume that
L975: 1 <= C136
and
L976: C136 <= ( len ( mid (R26 , 1 , ( indx (R26 , R25 , 1) )) ) );
L977: C136 in ( Seg ( len ( R26 | ( indx (R26 , R25 , 1) ) ) ) ) by L973 , L975 , L976 , FINSEQ_1:1;
L978: C136 in ( dom ( R26 | ( indx (R26 , R25 , 1) ) ) ) by L977 , FINSEQ_1:def 3;
L979: C136 in ( dom ( R26 | ( Seg ( indx (R26 , R25 , 1) ) ) ) ) by L978 , FINSEQ_1:def 15;
L980: ( ( R26 | ( Seg ( indx (R26 , R25 , 1) ) ) ) . C136 ) = ( R26 . C136 ) by L979 , FUNCT_1:47;
L981: C136 in ( NAT ) by ORDINAL1:def 12;
L982: ( ( mid (R26 , 1 , ( indx (R26 , R25 , 1) )) ) . C136 ) = ( R26 . ( ( C136 + 1 ) -' 1 ) ) by L981 , L968 , L969 , L970 , L975 , L976 , FINSEQ_6:118;
L983: ( ( mid (R26 , 1 , ( indx (R26 , R25 , 1) )) ) . C136 ) = ( R26 . ( ( C136 + 1 ) - 1 ) ) by L982 , NAT_1:11 , XREAL_1:233;
thus L984: thesis by L983 , L980 , FINSEQ_1:def 15;
end;
L985: ( mid (R26 , 1 , ( indx (R26 , R25 , 1) )) ) = ( R26 | ( indx (R26 , R25 , 1) ) ) by L974 , L973 , FINSEQ_1:14;
L986: (for B100 being Nat holds ((1 <= B100 & B100 <= ( len ( upper_volume (D32 , D37) ) )) implies ( ( upper_volume (D32 , D37) ) . B100 ) = ( ( ( upper_volume (R27 , R26) ) | ( indx (R26 , R25 , 1) ) ) . B100 )))
proof
let C137 being Nat;
assume that
L987: 1 <= C137
and
L988: C137 <= ( len ( upper_volume (D32 , D37) ) );
L989: C137 <= ( len D37 ) by L988 , L155;
L990: C137 in ( Seg ( len D37 ) ) by L989 , L987 , FINSEQ_1:1;
L991: C137 in ( dom D37 ) by L990 , FINSEQ_1:def 3;
L992: ( divset (D37 , C137) ) = ( divset (R26 , C137) )
proof
L993: ( Seg ( indx (R26 , R25 , 1) ) ) c= ( Seg ( len R26 ) ) by L969 , FINSEQ_1:5;
L994: C137 in ( Seg ( len R26 ) ) by L993 , L972 , L990;
L995: C137 in ( dom R26 ) by L994 , FINSEQ_1:def 3;
L996:
now
per cases ;
suppose L997: C137 = 1;

L998: 1 in ( dom ( R26 | ( Seg ( indx (R26 , R25 , 1) ) ) ) ) by L997 , L985 , L991 , FINSEQ_1:def 15;
L999: 1 in ( ( dom R26 ) /\ ( Seg ( indx (R26 , R25 , 1) ) ) ) by L998 , RELAT_1:61;
L1000: 1 in ( dom R26 ) by L999 , XBOOLE_0:def 4;
L1001: ( divset (R26 , C137) ) = [. ( lower_bound ( divset (R26 , 1) ) ) , ( upper_bound ( divset (R26 , 1) ) ) .] by L997 , L11
.= [. ( lower_bound R21 ) , ( upper_bound ( divset (R26 , 1) ) ) .] by L1000 , L102
.= [. ( lower_bound R21 ) , ( R26 . 1 ) .] by L1000 , L102;
L1002: ( divset (D37 , C137) ) = [. ( lower_bound ( divset (D37 , 1) ) ) , ( upper_bound ( divset (D37 , 1) ) ) .] by L997 , L11
.= [. ( lower_bound D33 ) , ( upper_bound ( divset (D37 , 1) ) ) .] by L991 , L997 , L102
.= [. ( lower_bound D33 ) , ( D37 . 1 ) .] by L991 , L997 , L102
.= [. ( lower_bound D33 ) , ( ( R26 | ( indx (R26 , R25 , 1) ) ) . 1 ) .] by L974 , L989 , L997
.= [. ( lower_bound D33 ) , ( ( R26 | ( Seg ( indx (R26 , R25 , 1) ) ) ) . 1 ) .] by FINSEQ_1:def 15
.= [. ( lower_bound D33 ) , ( R26 . 1 ) .] by L998 , FUNCT_1:47
.= [. ( lower_bound R21 ) , ( R26 . 1 ) .] by L905 , L102;
thus L1003: thesis by L1002 , L1001;
end;
suppose L1004: C137 <> 1;

L1005: ( C137 - 1 ) in ( dom ( R26 | ( Seg ( indx (R26 , R25 , 1) ) ) ) )
proof
L1006: C137 is non  trivial by L987 , L1004 , NAT_2:def 1;
L1007: C137 >= ( 1 + 1 ) by L1006 , NAT_2:29;
L1008: 1 <= ( C137 - 1 ) by L1007 , XREAL_1:19;
L1009: (ex B101 being Nat st C137 = ( 1 + B101 )) by L987 , NAT_1:10;
L1010: ( C137 - 1 ) <= ( ( indx (R26 , R25 , 1) ) - ( 0 ) ) by L972 , L989 , XREAL_1:13;
L1011: ( C137 - 1 ) <= ( len R26 ) by L1010 , L956 , XXREAL_0:2;
L1012: ( C137 - 1 ) in ( Seg ( len R26 ) ) by L1011 , L1009 , L1008 , FINSEQ_1:1;
L1013: ( C137 - 1 ) in ( dom R26 ) by L1012 , FINSEQ_1:def 3;
L1014: ( C137 - 1 ) >= 1 by L1007 , XREAL_1:19;
L1015: ( C137 - 1 ) in ( Seg ( indx (R26 , R25 , 1) ) ) by L1014 , L1009 , L1010 , FINSEQ_1:1;
L1016: ( C137 - 1 ) in ( ( dom R26 ) /\ ( Seg ( indx (R26 , R25 , 1) ) ) ) by L1015 , L1013 , XBOOLE_0:def 4;
thus L1017: thesis by L1016 , RELAT_1:61;
end;
L1018: ( D37 . ( C137 - 1 ) ) = ( ( R26 | ( indx (R26 , R25 , 1) ) ) . ( C137 - 1 ) ) by L973 , L974 , FINSEQ_1:14
.= ( ( R26 | ( Seg ( indx (R26 , R25 , 1) ) ) ) . ( C137 - 1 ) ) by FINSEQ_1:def 15;
L1019: ( D37 . ( C137 - 1 ) ) = ( R26 . ( C137 - 1 ) ) by L1018 , L1005 , FUNCT_1:47;
L1020: C137 <= ( len R26 ) by L972 , L956 , L989 , XXREAL_0:2;
L1021: C137 in ( Seg ( len R26 ) ) by L1020 , L987 , FINSEQ_1:1;
L1022: C137 in ( dom R26 ) by L1021 , FINSEQ_1:def 3;
L1023: C137 in ( ( dom R26 ) /\ ( Seg ( indx (R26 , R25 , 1) ) ) ) by L1022 , L972 , L990 , XBOOLE_0:def 4;
L1024: C137 in ( dom ( R26 | ( Seg ( indx (R26 , R25 , 1) ) ) ) ) by L1023 , RELAT_1:61;
L1025: ( D37 . C137 ) = ( ( R26 | ( indx (R26 , R25 , 1) ) ) . C137 ) by L973 , L974 , FINSEQ_1:14
.= ( ( R26 | ( Seg ( indx (R26 , R25 , 1) ) ) ) . C137 ) by FINSEQ_1:def 15;
L1026: ( D37 . C137 ) = ( R26 . C137 ) by L1025 , L1024 , FUNCT_1:47;
L1027: ( divset (R26 , C137) ) = [. ( lower_bound ( divset (R26 , C137) ) ) , ( upper_bound ( divset (R26 , C137) ) ) .] by L11
.= [. ( R26 . ( C137 - 1 ) ) , ( upper_bound ( divset (R26 , C137) ) ) .] by L995 , L1004 , L102
.= [. ( R26 . ( C137 - 1 ) ) , ( R26 . C137 ) .] by L995 , L1004 , L102;
L1028: ( divset (D37 , C137) ) = [. ( lower_bound ( divset (D37 , C137) ) ) , ( upper_bound ( divset (D37 , C137) ) ) .] by L11
.= [. ( D37 . ( C137 - 1 ) ) , ( upper_bound ( divset (D37 , C137) ) ) .] by L991 , L1004 , L102
.= [. ( R26 . ( C137 - 1 ) ) , ( R26 . C137 ) .] by L991 , L1004 , L1019 , L1026 , L102;
thus L1029: thesis by L1028 , L1027;
end;
end;
thus L1031: thesis by L996;
end;
L1032: ( ( upper_volume (D32 , D37) ) . C137 ) = ( ( upper_bound ( rng ( D32 | ( divset (R26 , C137) ) ) ) ) * ( vol ( divset (R26 , C137) ) ) ) by L992 , L991 , L155;
L1033: ( Seg ( indx (R26 , R25 , 1) ) ) c= ( Seg ( len R26 ) ) by L969 , FINSEQ_1:5;
L1034: C137 in ( Seg ( len R26 ) ) by L1033 , L972 , L990;
L1035: C137 in ( dom R26 ) by L1034 , FINSEQ_1:def 3;
L1036: C137 in ( dom D37 ) by L990 , FINSEQ_1:def 3;
L1037:
now
per cases ;
suppose L1038: C137 = 1;

L1039: 1 in ( dom ( R26 | ( Seg ( indx (R26 , R25 , 1) ) ) ) ) by L1038 , L985 , L1036 , FINSEQ_1:def 15;
L1040: 1 in ( ( dom R26 ) /\ ( Seg ( indx (R26 , R25 , 1) ) ) ) by L1039 , RELAT_1:61;
L1041: 1 in ( dom R26 ) by L1040 , XBOOLE_0:def 4;
L1042: ( R26 . 1 ) <= ( R26 . ( indx (R26 , R25 , 1) ) ) by L1041 , L953 , L955 , SEQ_4:137;
L1043: ( lower_bound ( divset (R26 , C137) ) ) = ( lower_bound R21 ) by L1038 , L1041 , L102;
L1044: ( lower_bound ( divset (R26 , C137) ) ) = ( lower_bound ( divset (R25 , 1) ) ) by L1043 , L905 , L102;
L1045: ( upper_bound ( divset (R26 , C137) ) ) = ( R26 . 1 ) by L1038 , L1041 , L102;
L1046: ( upper_bound ( divset (R26 , C137) ) ) <= ( R25 . 1 ) by L1045 , L900 , L905 , L1042 , L723;
L1047: ( upper_bound ( divset (R26 , C137) ) ) <= ( upper_bound ( divset (R25 , 1) ) ) by L1046 , L905 , L102;
L1048: ( lower_bound ( divset (R25 , 1) ) ) <= ( upper_bound ( divset (R25 , 1) ) ) by SEQ_4:11;
thus L1049: ( lower_bound ( divset (R26 , C137) ) ) in [. ( lower_bound ( divset (R25 , 1) ) ) , ( upper_bound ( divset (R25 , 1) ) ) .] by L1048 , L1044 , XXREAL_1:1;
L1050: ( lower_bound ( divset (R26 , C137) ) ) <= ( upper_bound ( divset (R26 , C137) ) ) by SEQ_4:11;
L1051: ( upper_bound ( divset (R26 , C137) ) ) in { R23 where R23 is Real : (( lower_bound ( divset (R25 , 1) ) ) <= R23 & R23 <= ( upper_bound ( divset (R25 , 1) ) )) } by L1050 , L1044 , L1047;
thus L1052: ( upper_bound ( divset (R26 , C137) ) ) in [. ( lower_bound ( divset (R25 , 1) ) ) , ( upper_bound ( divset (R25 , 1) ) ) .] by L1051 , RCOMP_1:def 1;
end;
suppose L1053: C137 <> 1;

L1054: C137 is non  trivial by L1053 , L987 , NAT_2:def 1;
L1055: C137 >= ( 1 + 1 ) by L1054 , NAT_2:29;
L1056: 1 <= ( C137 - 1 ) by L1055 , XREAL_1:19;
L1057: (ex B102 being Nat st C137 = ( 1 + B102 )) by L987 , NAT_1:10;
L1058: ( rng R26 ) c= R21 by L39;
L1059: ( lower_bound ( divset (R26 , C137) ) ) = ( R26 . ( C137 - 1 ) ) by L1035 , L1053 , L102;
L1060: ( lower_bound ( divset (R25 , 1) ) ) = ( lower_bound R21 ) by L905 , L102;
L1061: ( C137 - 1 ) <= ( ( indx (R26 , R25 , 1) ) - ( 0 ) ) by L972 , L989 , XREAL_1:13;
L1062: ( C137 - 1 ) <= ( len R26 ) by L1061 , L956 , XXREAL_0:2;
L1063: ( C137 - 1 ) in ( Seg ( len R26 ) ) by L1062 , L1057 , L1056 , FINSEQ_1:1;
L1064: ( C137 - 1 ) in ( dom R26 ) by L1063 , FINSEQ_1:def 3;
L1065: ( R26 . ( C137 - 1 ) ) in ( rng R26 ) by L1064 , FUNCT_1:def 3;
L1066: ( lower_bound ( divset (R26 , C137) ) ) >= ( lower_bound ( divset (R25 , 1) ) ) by L1065 , L1059 , L1060 , L1058 , SEQ_4:def 2;
L1067: ( upper_bound ( divset (R25 , 1) ) ) = ( R25 . 1 ) by L905 , L102;
L1068: ( R26 . ( C137 - 1 ) ) <= ( R26 . ( indx (R26 , R25 , 1) ) ) by L953 , L1061 , L1064 , SEQ_4:137;
L1069: ( lower_bound ( divset (R26 , C137) ) ) <= ( upper_bound ( divset (R25 , 1) ) ) by L1068 , L900 , L905 , L1059 , L1067 , L723;
L1070: ( lower_bound ( divset (R26 , C137) ) ) in { R23 where R23 is Real : (( lower_bound ( divset (R25 , 1) ) ) <= R23 & R23 <= ( upper_bound ( divset (R25 , 1) ) )) } by L1069 , L1066;
thus L1071: ( lower_bound ( divset (R26 , C137) ) ) in [. ( lower_bound ( divset (R25 , 1) ) ) , ( upper_bound ( divset (R25 , 1) ) ) .] by L1070 , RCOMP_1:def 1;
L1072: ( upper_bound ( divset (R26 , C137) ) ) = ( R26 . C137 ) by L1035 , L1053 , L102;
L1073: ( R26 . C137 ) in ( rng R26 ) by L1035 , FUNCT_1:def 3;
L1074: ( upper_bound ( divset (R26 , C137) ) ) >= ( lower_bound ( divset (R25 , 1) ) ) by L1073 , L1072 , L1060 , L1058 , SEQ_4:def 2;
L1075: ( R26 . C137 ) <= ( R26 . ( indx (R26 , R25 , 1) ) ) by L972 , L953 , L989 , L1035 , SEQ_4:137;
L1076: ( upper_bound ( divset (R26 , C137) ) ) <= ( upper_bound ( divset (R25 , 1) ) ) by L1075 , L900 , L905 , L1072 , L1067 , L723;
L1077: ( upper_bound ( divset (R26 , C137) ) ) in { R23 where R23 is Real : (( lower_bound ( divset (R25 , 1) ) ) <= R23 & R23 <= ( upper_bound ( divset (R25 , 1) ) )) } by L1076 , L1074;
thus L1078: ( upper_bound ( divset (R26 , C137) ) ) in [. ( lower_bound ( divset (R25 , 1) ) ) , ( upper_bound ( divset (R25 , 1) ) ) .] by L1077 , RCOMP_1:def 1;
end;
end;
L1080: ( divset (R25 , 1) ) = [. ( lower_bound ( divset (R25 , 1) ) ) , ( upper_bound ( divset (R25 , 1) ) ) .] by L11;
L1081: ( Seg ( indx (R26 , R25 , 1) ) ) c= ( Seg ( len R26 ) ) by L969 , FINSEQ_1:5;
L1082: C137 in ( Seg ( len R26 ) ) by L1081 , L972 , L990;
L1083: C137 in ( dom R26 ) by L1082 , FINSEQ_1:def 3;
L1084: ( divset (R26 , C137) ) = [. ( lower_bound ( divset (R26 , C137) ) ) , ( upper_bound ( divset (R26 , C137) ) ) .] by L11;
L1085: ( divset (R26 , C137) ) c= ( divset (R25 , 1) ) by L1084 , L1080 , L1037 , XXREAL_2:def 12;
L1086: ( dom ( ( upper_volume (R27 , R26) ) | ( Seg ( indx (R26 , R25 , 1) ) ) ) ) = ( ( dom ( upper_volume (R27 , R26) ) ) /\ ( Seg ( indx (R26 , R25 , 1) ) ) ) by RELAT_1:61
.= ( ( Seg ( len ( upper_volume (R27 , R26) ) ) ) /\ ( Seg ( indx (R26 , R25 , 1) ) ) ) by FINSEQ_1:def 3
.= ( ( Seg ( len R26 ) ) /\ ( Seg ( indx (R26 , R25 , 1) ) ) ) by L155
.= ( Seg ( indx (R26 , R25 , 1) ) ) by L1081 , XBOOLE_1:28;
L1087: ( ( ( upper_volume (R27 , R26) ) | ( indx (R26 , R25 , 1) ) ) . C137 ) = ( ( ( upper_volume (R27 , R26) ) | ( Seg ( indx (R26 , R25 , 1) ) ) ) . C137 ) by FINSEQ_1:def 15
.= ( ( upper_volume (R27 , R26) ) . C137 ) by L972 , L990 , L1086 , FUNCT_1:47
.= ( ( upper_bound ( rng ( R27 | ( divset (R26 , C137) ) ) ) ) * ( vol ( divset (R26 , C137) ) ) ) by L1083 , L155;
thus L1088: thesis by L1087 , L1032 , L1085 , FUNCT_1:51;
end;
L1089: 1 <= ( len ( upper_volume (R27 , R25) ) ) by L910 , L155;
L1090: ( len ( upper_volume (D32 , D35) ) ) = ( len ( ( upper_volume (R27 , R25) ) | 1 ) ) by L1089 , L912 , FINSEQ_1:59;
L1091: ( upper_volume (D32 , D35) ) = ( ( upper_volume (R27 , R25) ) | 1 ) by L1090 , L926 , FINSEQ_1:14;
L1092: ( indx (R26 , R25 , 1) ) <= ( len ( upper_volume (R27 , R26) ) ) by L969 , L155;
L1093: ( len ( upper_volume (D32 , D37) ) ) = ( indx (R26 , R25 , 1) ) by L972 , L155;
L1094: ( len ( upper_volume (D32 , D37) ) ) = ( len ( ( upper_volume (R27 , R26) ) | ( indx (R26 , R25 , 1) ) ) ) by L1093 , L1092 , FINSEQ_1:59;
L1095: ( dom D32 ) = ( R21 /\ ( divset (R25 , 1) ) ) by L904 , FUNCT_2:def 1;
L1096: ( dom D32 ) = ( divset (R25 , 1) ) by L1095 , L905 , L127 , XBOOLE_1:28;
L1097: D32 is  total by L1096 , PARTFUN1:def 2;
L1098: ( upper_sum (D32 , D35) ) >= ( upper_sum (D32 , D37) ) by L1097 , L913 , L941 , L678;
thus L1099: thesis by L1098 , L1091 , L1094 , L986 , FINSEQ_1:14;
end;
L1100: (for B103 being non  empty Nat holds (S4[ B103 ] implies S4[ ( B103 + 1 ) ]))
proof
let C138 being non  empty Nat;
assume L1101: (C138 in ( dom R25 ) implies ( Sum ( ( upper_volume (R27 , R25) ) | C138 ) ) >= ( Sum ( ( upper_volume (R27 , R26) ) | ( indx (R26 , R25 , C138) ) ) ));
assume L1102: ( C138 + 1 ) in ( dom R25 );
L1103: ( C138 + 1 ) in ( Seg ( len R25 ) ) by L1102 , FINSEQ_1:def 3;
L1104: 1 <= ( C138 + 1 ) by L1103 , FINSEQ_1:1;
L1105: ( C138 + 1 ) <= ( len R25 ) by L1103 , FINSEQ_1:1;
L1106:
now
per cases ;
suppose L1107: 1 = ( C138 + 1 );

thus L1108: thesis by L1107 , L903 , L1102;
end;
suppose L1109: 1 <> ( C138 + 1 );

set D38 = ( indx (R26 , R25 , C138) );
set D39 = ( indx (R26 , R25 , ( C138 + 1 )) );
set D40 = ( ( upper_volume (R27 , R26) ) | ( indx (R26 , R25 , ( C138 + 1 )) ) );
set D41 = ( ( upper_volume (R27 , R25) ) | C138 );
set D42 = ( ( upper_volume (R27 , R25) ) | ( C138 + 1 ) );
set D43 = ( C138 + 1 );
L1110: ( C138 + 1 ) <= ( len ( upper_volume (R27 , R25) ) ) by L1105 , L155;
L1111: ( len D42 ) = ( C138 + 1 ) by L1110 , FINSEQ_1:59;
consider C139 , C140 being (FinSequence of ( REAL )) such that L1112: ( len C139 ) = C138 and L1113: ( len C140 ) = 1 and L1114: D42 = ( C139 ^ C140 ) by L1111 , FINSEQ_2:23;
L1115: C138 <= ( C138 + 1 ) by NAT_1:11;
L1116: C138 <= ( len R25 ) by L1115 , L1105 , XXREAL_0:2;
L1117: C138 <= ( len ( upper_volume (R27 , R25) ) ) by L1116 , L155;
L1118: ( len C139 ) = ( len D41 ) by L1117 , L1112 , FINSEQ_1:59;
L1119: (for B104 being Nat holds ((1 <= B104 & B104 <= ( len C139 )) implies ( C139 . B104 ) = ( D41 . B104 )))
proof
let C141 being Nat;
assume that
L1120: 1 <= C141
and
L1121: C141 <= ( len C139 );
L1122: C141 in ( Seg ( len C139 ) ) by L1120 , L1121 , FINSEQ_1:1;
L1123: C141 in ( dom D41 ) by L1122 , L1118 , FINSEQ_1:def 3;
L1124: C141 in ( dom ( ( upper_volume (R27 , R25) ) | ( Seg C138 ) ) ) by L1123 , FINSEQ_1:def 15;
L1125: C138 <= ( C138 + 1 ) by NAT_1:11;
L1126: ( Seg C138 ) c= ( Seg ( C138 + 1 ) ) by L1125 , FINSEQ_1:5;
L1127: ( dom D42 ) = ( Seg ( len D42 ) ) by FINSEQ_1:def 3
.= ( Seg ( C138 + 1 ) ) by L1110 , FINSEQ_1:59;
L1128: ( dom D41 ) = ( Seg ( len D41 ) ) by FINSEQ_1:def 3
.= ( Seg C138 ) by L1117 , FINSEQ_1:59;
L1129: C141 in ( dom D42 ) by L1128 , L1123 , L1126 , L1127;
L1130: C141 in ( dom ( ( upper_volume (R27 , R25) ) | ( Seg ( C138 + 1 ) ) ) ) by L1129 , FINSEQ_1:def 15;
L1131: ( D42 . C141 ) = ( ( ( upper_volume (R27 , R25) ) | ( Seg ( C138 + 1 ) ) ) . C141 ) by FINSEQ_1:def 15
.= ( ( upper_volume (R27 , R25) ) . C141 ) by L1130 , FUNCT_1:47;
L1132: ( D41 . C141 ) = ( ( ( upper_volume (R27 , R25) ) | ( Seg C138 ) ) . C141 ) by FINSEQ_1:def 15
.= ( ( upper_volume (R27 , R25) ) . C141 ) by L1124 , FUNCT_1:47;
L1133: C141 in ( dom C139 ) by L1122 , FINSEQ_1:def 3;
thus L1134: thesis by L1133 , L1114 , L1132 , L1131 , FINSEQ_1:def 7;
end;
L1135: C139 = D41 by L1119 , L1118 , FINSEQ_1:14;
L1136: ( indx (R26 , R25 , ( C138 + 1 )) ) in ( dom R26 ) by L900 , L1102 , L723;
L1137: ( indx (R26 , R25 , ( C138 + 1 )) ) in ( Seg ( len R26 ) ) by L1136 , FINSEQ_1:def 3;
L1138: 1 <= ( indx (R26 , R25 , ( C138 + 1 )) ) by L1137 , FINSEQ_1:1;
L1139: D43 is non  trivial by L1109 , NAT_2:def 1;
L1140: D43 >= 2 by L1139 , NAT_2:29;
L1141: C138 >= ( ( 1 + 1 ) - 1 ) by L1140 , XREAL_1:20;
L1142: C138 in ( Seg ( len R25 ) ) by L1141 , L1116 , FINSEQ_1:1;
L1143: C138 in ( dom R25 ) by L1142 , FINSEQ_1:def 3;
L1144: ( indx (R26 , R25 , C138) ) in ( dom R26 ) by L1143 , L900 , L723;
L1145: ( indx (R26 , R25 , C138) ) < ( indx (R26 , R25 , ( C138 + 1 )) )
proof
L1146: C138 < ( C138 + 1 ) by NAT_1:13;
L1147: ( R25 . C138 ) < ( R25 . ( C138 + 1 ) ) by L1146 , L1102 , L1143 , SEQM_3:def 1;
assume L1148: ( indx (R26 , R25 , C138) ) >= ( indx (R26 , R25 , ( C138 + 1 )) );
L1149: ( R26 . ( indx (R26 , R25 , C138) ) ) >= ( R26 . ( indx (R26 , R25 , ( C138 + 1 )) ) ) by L1148 , L1144 , L1136 , SEQ_4:137;
L1150: ( R25 . C138 ) = ( R26 . ( indx (R26 , R25 , C138) ) ) by L900 , L1143 , L723;
thus L1151: contradiction by L1150 , L900 , L1102 , L1149 , L1147 , L723;
end;
L1152: ( indx (R26 , R25 , ( C138 + 1 )) ) >= ( indx (R26 , R25 , C138) )
proof
assume L1153: ( indx (R26 , R25 , ( C138 + 1 )) ) < ( indx (R26 , R25 , C138) );
L1154: ( R26 . ( indx (R26 , R25 , ( C138 + 1 )) ) ) < ( R26 . ( indx (R26 , R25 , C138) ) ) by L1153 , L1144 , L1136 , SEQM_3:def 1;
L1155: ( R25 . ( C138 + 1 ) ) = ( R26 . ( indx (R26 , R25 , ( C138 + 1 )) ) ) by L900 , L1102 , L723;
L1156: ( R25 . ( C138 + 1 ) ) < ( R25 . C138 ) by L1155 , L900 , L1143 , L1154 , L723;
thus L1157: contradiction by L1156 , L1102 , L1143 , NAT_1:11 , SEQ_4:137;
end;
consider C142 being Nat such that L1158: ( indx (R26 , R25 , ( C138 + 1 )) ) = ( ( indx (R26 , R25 , C138) ) + C142 ) by L1152 , NAT_1:10;
reconsider D44 = C142 as (Element of ( NAT )) by ORDINAL1:def 12;
L1159: ( len ( upper_volume (R27 , R26) ) ) = ( len R26 ) by L155;
L1160: ( indx (R26 , R25 , ( C138 + 1 )) ) <= ( len ( upper_volume (R27 , R26) ) ) by L1159 , L1137 , FINSEQ_1:1;
L1161: ( len D40 ) = ( D38 + ( D39 - D38 ) ) by L1160 , FINSEQ_1:59;
consider C143 , C144 being (FinSequence of ( REAL )) such that L1162: ( len C143 ) = D38 and L1163: ( len C144 ) = ( D39 - D38 ) and L1164: D40 = ( C143 ^ C144 ) by L1161 , L1158 , FINSEQ_2:23;
L1165: ( indx (R26 , R25 , C138) ) in ( dom R26 ) by L900 , L1143 , L723;
L1166: ( indx (R26 , R25 , C138) ) in ( Seg ( len ( upper_volume (R27 , R26) ) ) ) by L1165 , L1159 , FINSEQ_1:def 3;
L1167: 1 <= ( indx (R26 , R25 , C138) ) by L1166 , FINSEQ_1:1;
set D45 = ( ( upper_volume (R27 , R26) ) | ( indx (R26 , R25 , C138) ) );
L1168: ( Sum D40 ) = ( ( Sum C143 ) + ( Sum C144 ) ) by L1164 , RVSUM_1:75;
L1169: ( indx (R26 , R25 , C138) ) <= ( len ( upper_volume (R27 , R26) ) ) by L1166 , FINSEQ_1:1;
L1170: ( len C143 ) = ( len D45 ) by L1169 , L1162 , FINSEQ_1:59;
L1171: (for B105 being Nat holds ((1 <= B105 & B105 <= ( len C143 )) implies ( C143 . B105 ) = ( D45 . B105 )))
proof
let C145 being Nat;
assume that
L1172: 1 <= C145
and
L1173: C145 <= ( len C143 );
L1174: C145 in ( Seg ( len C143 ) ) by L1172 , L1173 , FINSEQ_1:1;
L1175: C145 in ( dom D45 ) by L1174 , L1170 , FINSEQ_1:def 3;
L1176: C145 in ( dom ( ( upper_volume (R27 , R26) ) | ( Seg ( indx (R26 , R25 , C138) ) ) ) ) by L1175 , FINSEQ_1:def 15;
L1177: ( dom D40 ) = ( Seg ( len D40 ) ) by FINSEQ_1:def 3
.= ( Seg ( indx (R26 , R25 , ( C138 + 1 )) ) ) by L1160 , FINSEQ_1:59;
L1178: ( Seg ( indx (R26 , R25 , C138) ) ) c= ( Seg ( indx (R26 , R25 , ( C138 + 1 )) ) ) by L1152 , FINSEQ_1:5;
L1179: ( dom D45 ) = ( Seg ( len D45 ) ) by FINSEQ_1:def 3
.= ( Seg ( indx (R26 , R25 , C138) ) ) by L1169 , FINSEQ_1:59;
L1180: C145 in ( dom D40 ) by L1179 , L1175 , L1178 , L1177;
L1181: C145 in ( dom ( ( upper_volume (R27 , R26) ) | ( Seg ( indx (R26 , R25 , ( C138 + 1 )) ) ) ) ) by L1180 , FINSEQ_1:def 15;
L1182: ( D40 . C145 ) = ( ( ( upper_volume (R27 , R26) ) | ( Seg ( indx (R26 , R25 , ( C138 + 1 )) ) ) ) . C145 ) by FINSEQ_1:def 15
.= ( ( upper_volume (R27 , R26) ) . C145 ) by L1181 , FUNCT_1:47;
L1183: ( D45 . C145 ) = ( ( ( upper_volume (R27 , R26) ) | ( Seg ( indx (R26 , R25 , C138) ) ) ) . C145 ) by FINSEQ_1:def 15
.= ( ( upper_volume (R27 , R26) ) . C145 ) by L1176 , FUNCT_1:47;
L1184: C145 in ( dom C143 ) by L1174 , FINSEQ_1:def 3;
thus L1185: thesis by L1184 , L1164 , L1183 , L1182 , FINSEQ_1:def 7;
end;
L1186: C143 = D45 by L1171 , L1170 , FINSEQ_1:14;
L1187: ( indx (R26 , R25 , ( C138 + 1 )) ) <= ( len R26 ) by L1137 , FINSEQ_1:1;
L1188: D44 = ( ( indx (R26 , R25 , ( C138 + 1 )) ) - ( indx (R26 , R25 , C138) ) ) by L1158;
L1189: ( Sum C140 ) >= ( Sum C144 )
proof
set D46 = ( mid (R26 , ( ( indx (R26 , R25 , C138) ) + 1 ) , ( indx (R26 , R25 , ( C138 + 1 )) )) );
set D47 = ( mid (R25 , ( C138 + 1 ) , ( C138 + 1 )) );
set D48 = ( divset (R25 , ( C138 + 1 )) );
set D49 = ( R27 | D48 );
L1190: 1 <= ( ( indx (R26 , R25 , C138) ) + 1 ) by NAT_1:11;
reconsider D50 = D49 as (PartFunc of D48 , ( REAL )) by PARTFUN1:10;
L1191: ( ( C138 + 1 ) - 1 ) = C138;
L1192: ( lower_bound D48 ) = ( R25 . C138 ) by L1191 , L1102 , L1109 , L102;
L1193: ( R26 . ( indx (R26 , R25 , ( C138 + 1 )) ) ) = ( R25 . ( C138 + 1 ) ) by L900 , L1102 , L723;
L1194: ( R26 . ( indx (R26 , R25 , ( C138 + 1 )) ) ) = ( upper_bound D48 ) by L1193 , L1102 , L1109 , L102;
L1195: ( ( indx (R26 , R25 , C138) ) + 1 ) <= ( indx (R26 , R25 , ( C138 + 1 )) ) by L1145 , NAT_1:13;
L1196: ( ( indx (R26 , R25 , C138) ) + 1 ) <= ( len R26 ) by L1195 , L1187 , XXREAL_0:2;
L1197: ( ( indx (R26 , R25 , C138) ) + 1 ) in ( Seg ( len R26 ) ) by L1196 , L1190 , FINSEQ_1:1;
L1198: ( ( indx (R26 , R25 , C138) ) + 1 ) in ( dom R26 ) by L1197 , FINSEQ_1:def 3;
L1199: ( R26 . ( ( indx (R26 , R25 , C138) ) + 1 ) ) >= ( R26 . ( indx (R26 , R25 , C138) ) ) by L1198 , L1144 , NAT_1:11 , SEQ_4:137;
L1200: ( R26 . ( ( indx (R26 , R25 , C138) ) + 1 ) ) >= ( lower_bound D48 ) by L1199 , L900 , L1143 , L1192 , L723;
reconsider D51 = D46 as (Division of D48) by L1200 , L1136 , L1195 , L1198 , L1194 , L847;
L1201: ( ( ( indx (R26 , R25 , ( C138 + 1 )) ) -' ( ( indx (R26 , R25 , C138) ) + 1 ) ) + 1 ) = ( ( ( indx (R26 , R25 , ( C138 + 1 )) ) - ( ( indx (R26 , R25 , C138) ) + 1 ) ) + 1 ) by L1195 , XREAL_1:233
.= ( ( indx (R26 , R25 , ( C138 + 1 )) ) - ( indx (R26 , R25 , C138) ) );
L1202: (for B106 being Nat holds ((1 <= B106 & B106 <= ( len C144 )) implies ( C144 . B106 ) = ( ( upper_volume (D50 , D51) ) . B106 )))
proof
L1203: ( dom D40 ) = ( Seg ( len D40 ) ) by FINSEQ_1:def 3
.= ( Seg ( indx (R26 , R25 , ( C138 + 1 )) ) ) by L1160 , FINSEQ_1:59;
L1204: ( dom D40 ) c= ( Seg ( len R26 ) ) by L1203 , L1187 , FINSEQ_1:5;
L1205: ( dom D40 ) c= ( dom R26 ) by L1204 , FINSEQ_1:def 3;
L1206: ( len ( mid (R26 , ( ( indx (R26 , R25 , C138) ) + 1 ) , ( indx (R26 , R25 , ( C138 + 1 )) )) ) ) = D44 by L1138 , L1187 , L1158 , L1195 , L1196 , L1190 , L1201 , FINSEQ_6:118;
let C146 being Nat;
assume that
L1207: 1 <= C146
and
L1208: C146 <= ( len C144 );
L1209: C146 in ( Seg ( len C144 ) ) by L1207 , L1208 , FINSEQ_1:1;
L1210: C146 in ( dom C144 ) by L1209 , FINSEQ_1:def 3;
L1211: ( ( indx (R26 , R25 , C138) ) + C146 ) in ( dom D40 ) by L1210 , L1162 , L1164 , FINSEQ_1:28;
L1212: ( ( indx (R26 , R25 , C138) ) + C146 ) in ( dom ( ( upper_volume (R27 , R26) ) | ( Seg ( indx (R26 , R25 , ( C138 + 1 )) ) ) ) ) by L1211 , FINSEQ_1:def 15;
L1213: ( C144 . C146 ) = ( D40 . ( ( indx (R26 , R25 , C138) ) + C146 ) ) by L1162 , L1164 , L1210 , FINSEQ_1:def 7
.= ( ( ( upper_volume (R27 , R26) ) | ( Seg ( indx (R26 , R25 , ( C138 + 1 )) ) ) ) . ( ( indx (R26 , R25 , C138) ) + C146 ) ) by FINSEQ_1:def 15
.= ( ( upper_volume (R27 , R26) ) . ( ( indx (R26 , R25 , C138) ) + C146 ) ) by L1212 , FUNCT_1:47
.= ( ( upper_bound ( rng ( R27 | ( divset (R26 , ( ( indx (R26 , R25 , C138) ) + C146 )) ) ) ) ) * ( vol ( divset (R26 , ( ( indx (R26 , R25 , C138) ) + C146 )) ) ) ) by L1211 , L1205 , L155;
L1214: ( ( indx (R26 , R25 , C138) ) + C146 ) in ( Seg ( len R26 ) ) by L1211 , L1204;
L1215: ( ( indx (R26 , R25 , C138) ) + C146 ) in ( dom R26 ) by L1214 , FINSEQ_1:def 3;
L1216: ( ( indx (R26 , R25 , C138) ) + C146 ) <= ( indx (R26 , R25 , ( C138 + 1 )) ) by L1203 , L1211 , FINSEQ_1:1;
L1217: C146 <= D44 by L1216 , L1188 , XREAL_1:19;
L1218: C146 in ( Seg D44 ) by L1217 , L1207 , FINSEQ_1:1;
L1219: C146 in ( dom D51 ) by L1218 , L1206 , FINSEQ_1:def 3;
L1220: C146 in ( Seg ( len ( mid (R26 , ( ( indx (R26 , R25 , C138) ) + 1 ) , ( indx (R26 , R25 , ( C138 + 1 )) )) ) ) ) by L1207 , L1217 , L1206 , FINSEQ_1:1;
L1221: C146 in ( dom ( mid (R26 , ( ( indx (R26 , R25 , C138) ) + 1 ) , ( indx (R26 , R25 , ( C138 + 1 )) )) ) ) by L1220 , FINSEQ_1:def 3;
L1222: 1 <= ( ( indx (R26 , R25 , C138) ) + C146 ) by L1203 , L1211 , FINSEQ_1:1;
L1223: (( divset (D51 , C146) ) = ( divset (R26 , ( ( indx (R26 , R25 , C138) ) + C146 )) ) & ( divset (R26 , ( ( indx (R26 , R25 , C138) ) + C146 )) ) c= ( divset (R25 , ( C138 + 1 )) ))
proof
L1224:
now
per cases ;
suppose L1225: C146 = 1;

L1226: ( ( indx (R26 , R25 , C138) ) + 1 ) <= ( len R26 ) by L1225 , L1211 , L1204 , FINSEQ_1:1;
L1227: 1 <= ( ( indx (R26 , R25 , C138) ) + 1 ) by L1203 , L1211 , L1225 , FINSEQ_1:1;
L1228: ( upper_bound ( divset (D51 , 1) ) ) = ( ( mid (R26 , ( ( indx (R26 , R25 , C138) ) + 1 ) , ( indx (R26 , R25 , ( C138 + 1 )) )) ) . 1 ) by L1219 , L1225 , L102
.= ( R26 . ( 1 + ( indx (R26 , R25 , C138) ) ) ) by L1138 , L1187 , L1227 , L1226 , FINSEQ_6:118;
L1229: ( ( indx (R26 , R25 , C138) ) + 1 ) <> 1 by L1167 , NAT_1:13;
L1230: ( ( C138 + 1 ) - 1 ) = C138;
L1231: ( lower_bound ( divset (D51 , 1) ) ) = ( lower_bound ( divset (R25 , ( C138 + 1 )) ) ) by L1219 , L1225 , L102
.= ( R25 . C138 ) by L1102 , L1109 , L1230 , L102;
L1232: ( divset (R26 , ( ( indx (R26 , R25 , C138) ) + C146 )) ) = [. ( lower_bound ( divset (R26 , ( ( indx (R26 , R25 , C138) ) + 1 )) ) ) , ( upper_bound ( divset (R26 , ( ( indx (R26 , R25 , C138) ) + 1 )) ) ) .] by L1225 , L11
.= [. ( R26 . ( ( ( indx (R26 , R25 , C138) ) + 1 ) - 1 ) ) , ( upper_bound ( divset (R26 , ( ( indx (R26 , R25 , C138) ) + 1 )) ) ) .] by L1198 , L1229 , L102
.= [. ( R26 . ( indx (R26 , R25 , C138) ) ) , ( R26 . ( ( indx (R26 , R25 , C138) ) + 1 ) ) .] by L1198 , L1229 , L102
.= [. ( R25 . C138 ) , ( R26 . ( ( indx (R26 , R25 , C138) ) + 1 ) ) .] by L900 , L1143 , L723;
thus L1233: ( divset (D51 , C146) ) = ( divset (R26 , ( ( indx (R26 , R25 , C138) ) + C146 )) ) by L1232 , L1225 , L1231 , L1228 , L11;
L1234: ( divset (D51 , C146) ) = [. ( R25 . C138 ) , ( R26 . ( ( indx (R26 , R25 , C138) ) + 1 ) ) .] by L1225 , L1231 , L1228 , L11;
thus L1235: thesis by L1234 , L1219 , L1232 , L127;
end;
suppose L1236: C146 <> 1;

L1237: ( ( indx (R26 , R25 , C138) ) + C146 ) <> 1
proof
assume L1238: ( ( indx (R26 , R25 , C138) ) + C146 ) = 1;
L1239: ( indx (R26 , R25 , C138) ) = ( 1 - C146 ) by L1238;
L1240: ( C146 + 1 ) <= 1 by L1239 , L1167 , XREAL_1:19;
L1241: C146 <= ( 1 - 1 ) by L1240 , XREAL_1:19;
thus L1242: contradiction by L1241 , L1207 , NAT_1:3;
end;
L1243: ( divset (R26 , ( ( indx (R26 , R25 , C138) ) + C146 )) ) = [. ( lower_bound ( divset (R26 , ( ( indx (R26 , R25 , C138) ) + C146 )) ) ) , ( upper_bound ( divset (R26 , ( ( indx (R26 , R25 , C138) ) + C146 )) ) ) .] by L11
.= [. ( R26 . ( ( ( indx (R26 , R25 , C138) ) + C146 ) - 1 ) ) , ( upper_bound ( divset (R26 , ( ( indx (R26 , R25 , C138) ) + C146 )) ) ) .] by L1215 , L1237 , L102
.= [. ( R26 . ( ( ( indx (R26 , R25 , C138) ) + C146 ) - 1 ) ) , ( R26 . ( ( indx (R26 , R25 , C138) ) + C146 ) ) .] by L1215 , L1237 , L102;
L1244: C146 <= ( C146 + 1 ) by NAT_1:12;
L1245: ( C146 - 1 ) <= C146 by L1244 , XREAL_1:20;
L1246: ( C146 - 1 ) <= ( len D51 ) by L1245 , L1217 , L1206 , XXREAL_0:2;
consider C147 being Nat such that L1247: C146 = ( 1 + C147 ) by L1207 , NAT_1:10;
L1248: C146 is non  trivial by L1207 , L1236 , NAT_2:def 1;
L1249: C146 >= ( 1 + 1 ) by L1248 , NAT_2:29;
L1250: 1 <= ( C146 - 1 ) by L1249 , XREAL_1:19;
L1251: ( ( indx (R26 , R25 , C138) ) + 1 ) <= ( indx (R26 , R25 , ( C138 + 1 )) ) by L1145 , NAT_1:13;
reconsider D52 = C147 as (Element of ( NAT )) by ORDINAL1:def 12;
L1252: ( ( D52 + ( ( indx (R26 , R25 , C138) ) + 1 ) ) -' 1 ) = ( ( ( indx (R26 , R25 , C138) ) + C146 ) - 1 ) by L1222 , L1247 , XREAL_1:233;
L1253: ( ( C146 + ( ( indx (R26 , R25 , C138) ) + 1 ) ) -' 1 ) = ( ( ( C146 + ( indx (R26 , R25 , C138) ) ) + 1 ) - 1 ) by NAT_1:11 , XREAL_1:233
.= ( ( indx (R26 , R25 , C138) ) + C146 );
L1254: ( lower_bound ( divset (D51 , C146) ) ) = ( D51 . ( C146 - 1 ) ) by L1219 , L1236 , L102
.= ( R26 . ( ( ( indx (R26 , R25 , C138) ) + C146 ) - 1 ) ) by L1138 , L1187 , L1196 , L1190 , L1251 , L1247 , L1252 , L1250 , L1246 , FINSEQ_6:118;
L1255: ( upper_bound ( divset (D51 , C146) ) ) = ( D51 . C146 ) by L1219 , L1236 , L102
.= ( R26 . ( ( indx (R26 , R25 , C138) ) + C146 ) ) by L1138 , L1187 , L1196 , L1190 , L1207 , L1209 , L1217 , L1206 , L1251 , L1253 , FINSEQ_6:118;
thus L1256: ( divset (D51 , C146) ) = ( divset (R26 , ( ( indx (R26 , R25 , C138) ) + C146 )) ) by L1255 , L1254 , L1243 , L11;
L1257: ( divset (D51 , C146) ) = [. ( R26 . ( ( ( indx (R26 , R25 , C138) ) + C146 ) - 1 ) ) , ( R26 . ( ( indx (R26 , R25 , C138) ) + C146 ) ) .] by L1254 , L1255 , L11;
thus L1258: thesis by L1257 , L1219 , L1243 , L127;
end;
end;
thus L1260: thesis by L1224;
end;
L1261: ( D50 | ( divset (D51 , C146) ) ) = ( R27 | ( divset (R26 , ( ( indx (R26 , R25 , C138) ) + C146 )) ) ) by L1223 , FUNCT_1:51;
thus L1262: thesis by L1261 , L1221 , L1213 , L1223 , L155;
end;
L1263: ( ( C138 + 1 ) - 1 ) = C138;
L1264: ( lower_bound D48 ) = ( R25 . C138 ) by L1263 , L1102 , L1109 , L102;
L1265: ( R25 . ( C138 + 1 ) ) = ( upper_bound D48 ) by L1102 , L1109 , L102;
reconsider D53 = D47 as (Division of D48) by L1265 , L1102 , L1115 , L1143 , L1264 , L847 , SEQ_4:137;
L1266: ( D50 | ( divset (R25 , ( C138 + 1 )) ) ) is  bounded_above
proof
consider C148 being  real number such that L1267: (for B107 being set holds (B107 in ( R21 /\ ( dom R27 ) ) implies ( R27 . B107 ) <= C148)) by L901 , RFUNCT_1:70;
L1268: (for B108 being set holds (B108 in ( ( divset (R25 , ( C138 + 1 )) ) /\ ( dom D50 ) ) implies ( D50 . B108 ) <= C148))
proof
let C149 being set;
L1269: ( dom D50 ) c= ( dom R27 ) by RELAT_1:60;
assume L1270: C149 in ( ( divset (R25 , ( C138 + 1 )) ) /\ ( dom D50 ) );
L1271: C149 in ( dom D50 ) by L1270 , XBOOLE_0:def 4;
L1272: ( R21 /\ ( dom R27 ) ) = ( dom R27 ) by XBOOLE_1:28;
L1273: C149 in ( R21 /\ ( dom R27 ) ) by L1272 , L1271 , L1269;
reconsider D54 = C149 as (Element of R21) by L1273;
L1274: ( R27 . D54 ) <= C148 by L1267 , L1271 , L1272 , L1269;
thus L1275: thesis by L1274 , L1271 , FUNCT_1:47;
end;
thus L1276: thesis by L1268 , RFUNCT_1:70;
end;
L1277: ( len D53 ) = ( ( ( C138 + 1 ) -' ( C138 + 1 ) ) + 1 ) by L1104 , L1105 , FINSEQ_6:118;
L1278: ( len D53 ) = ( ( ( C138 + 1 ) - ( C138 + 1 ) ) + 1 ) by L1277 , XREAL_1:233;
L1279: ( dom C140 ) = ( dom D53 ) by L1278 , L1113 , FINSEQ_3:29;
L1280: (for B109 being Nat holds ((1 <= B109 & B109 <= ( len C140 )) implies ( C140 . B109 ) = ( ( upper_volume (D50 , D53) ) . B109 )))
proof
L1281: ( C138 + 1 ) in ( Seg ( len D42 ) ) by L1111 , FINSEQ_1:4;
L1282: ( C138 + 1 ) in ( dom D42 ) by L1281 , FINSEQ_1:def 3;
L1283: ( C138 + 1 ) in ( dom ( ( upper_volume (R27 , R25) ) | ( Seg ( C138 + 1 ) ) ) ) by L1282 , FINSEQ_1:def 15;
L1284: ( D53 . 1 ) = ( R25 . ( C138 + 1 ) ) by L1104 , L1105 , FINSEQ_6:118;
L1285: 1 in ( Seg ( len D53 ) ) by L1278 , FINSEQ_1:3;
L1286: 1 in ( dom D53 ) by L1285 , FINSEQ_1:def 3;
L1287: ( divset (D53 , 1) ) = [. ( lower_bound ( divset (D53 , 1) ) ) , ( upper_bound ( divset (D53 , 1) ) ) .] by L11;
L1288: ( divset (D53 , 1) ) = [. ( lower_bound D48 ) , ( upper_bound ( divset (D53 , 1) ) ) .] by L1287 , L1286 , L102
.= [. ( lower_bound D48 ) , ( R25 . ( C138 + 1 ) ) .] by L1286 , L1284 , L102;
L1289: ( ( C138 + 1 ) - 1 ) = C138;
L1290: ( lower_bound D48 ) = ( R25 . C138 ) by L1289 , L1102 , L1109 , L102;
let C150 being Nat;
assume that
L1291: 1 <= C150
and
L1292: C150 <= ( len C140 );
L1293: C150 = 1 by L1113 , L1291 , L1292 , XXREAL_0:1;
L1294: C150 in ( Seg ( len C140 ) ) by L1291 , L1292 , FINSEQ_1:1;
L1295: C150 in ( dom C140 ) by L1294 , FINSEQ_1:def 3;
L1296: ( upper_bound D48 ) = ( R25 . ( C138 + 1 ) ) by L1102 , L1109 , L102;
L1297: ( divset (R25 , ( C138 + 1 )) ) = [. ( R25 . C138 ) , ( R25 . ( C138 + 1 ) ) .] by L1296 , L1290 , L11;
L1298: ( ( upper_volume (D50 , D53) ) . C150 ) = ( ( upper_bound ( rng ( D50 | ( divset (R25 , ( C138 + 1 )) ) ) ) ) * ( vol ( divset (R25 , ( C138 + 1 )) ) ) ) by L1297 , L1279 , L1293 , L1295 , L1288 , L1290 , L155;
L1299: ( D42 . ( C138 + 1 ) ) = ( ( ( upper_volume (R27 , R25) ) | ( Seg ( C138 + 1 ) ) ) . ( C138 + 1 ) ) by FINSEQ_1:def 15
.= ( ( upper_volume (R27 , R25) ) . ( C138 + 1 ) ) by L1283 , FUNCT_1:47;
L1300: ( C140 . C150 ) = ( ( upper_volume (R27 , R25) ) . ( C138 + 1 ) ) by L1299 , L1112 , L1114 , L1293 , L1295 , FINSEQ_1:def 7
.= ( ( upper_bound ( rng ( R27 | ( divset (R25 , ( C138 + 1 )) ) ) ) ) * ( vol ( divset (R25 , ( C138 + 1 )) ) ) ) by L1102 , L155;
thus L1301: thesis by L1300 , L1298;
end;
L1302: ( len C140 ) = ( len ( upper_volume (D50 , D53) ) ) by L1113 , L1278 , L155;
L1303: C140 = ( upper_volume (D50 , D53) ) by L1302 , L1280 , FINSEQ_1:14;
L1304: ( dom D50 ) = ( ( dom R27 ) /\ ( divset (R25 , ( C138 + 1 )) ) ) by RELAT_1:61;
L1305: ( dom D50 ) = ( R21 /\ ( divset (R25 , ( C138 + 1 )) ) ) by L1304 , FUNCT_2:def 1;
L1306: ( dom D50 ) = ( divset (R25 , ( C138 + 1 )) ) by L1305 , L1102 , L127 , XBOOLE_1:28;
L1307: D50 is  total by L1306 , PARTFUN1:def 2;
L1308: ( len D53 ) = ( ( ( C138 + 1 ) -' ( C138 + 1 ) ) + 1 ) by L1104 , L1105 , FINSEQ_6:118;
L1309: ( len D53 ) = ( ( ( C138 + 1 ) - ( C138 + 1 ) ) + 1 ) by L1308 , XREAL_1:233;
L1310: ( upper_sum (D50 , D53) ) >= ( upper_sum (D50 , D51) ) by L1309 , L1266 , L1307 , L678;
L1311: ( len ( upper_volume (D50 , D51) ) ) = ( len ( mid (R26 , ( ( indx (R26 , R25 , C138) ) + 1 ) , ( indx (R26 , R25 , ( C138 + 1 )) )) ) ) by L155
.= ( ( indx (R26 , R25 , ( C138 + 1 )) ) - ( indx (R26 , R25 , C138) ) ) by L1138 , L1187 , L1195 , L1196 , L1190 , L1201 , FINSEQ_6:118;
thus L1312: thesis by L1311 , L1163 , L1303 , L1202 , L1310 , FINSEQ_1:14;
end;
L1313: ( Sum D42 ) = ( ( Sum C139 ) + ( Sum C140 ) ) by L1114 , RVSUM_1:75;
L1314: ( Sum C140 ) = ( ( Sum D42 ) - ( Sum C139 ) ) by L1313;
L1315: ( Sum D42 ) >= ( ( Sum C144 ) + ( Sum C139 ) ) by L1314 , L1189 , XREAL_1:19;
L1316: ( ( Sum D42 ) - ( Sum C144 ) ) >= ( Sum C139 ) by L1315 , XREAL_1:19;
L1317: ( ( Sum D42 ) - ( Sum C144 ) ) >= ( Sum C143 ) by L1316 , L1101 , L1142 , L1135 , L1186 , FINSEQ_1:def 3 , XXREAL_0:2;
thus L1318: thesis by L1317 , L1168 , XREAL_1:19;
end;
end;
thus L1320: thesis by L1106;
end;
thus L1321: (for B110 being non  empty Nat holds S4[ B110 ]) from NAT_1:sch 10(L903 , L1100);
end;
thus L1322: thesis by L902;
end;
theorem
L1323: (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R25 being (Division of R21) holds (for R26 being (Division of R21) holds (for R27 being (Function of R21 , ( REAL )) holds ((R25 <= R26 & ( R27 | R21 ) is  bounded_below) implies (for B111 being non  empty (Element of ( NAT )) holds (B111 in ( dom R25 ) implies ( Sum ( ( lower_volume (R27 , R25) ) | B111 ) ) <= ( Sum ( ( lower_volume (R27 , R26) ) | ( indx (R26 , R25 , B111) ) ) ))))))))
proof
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R25 being (Division of R21);
let R26 being (Division of R21);
let R27 being (Function of R21 , ( REAL ));
assume that
L1324: R25 <= R26
and
L1325: ( R27 | R21 ) is  bounded_below;
L1326: (for B112 being non  empty Nat holds (B112 in ( dom R25 ) implies ( Sum ( ( lower_volume (R27 , R25) ) | B112 ) ) <= ( Sum ( ( lower_volume (R27 , R26) ) | ( indx (R26 , R25 , B112) ) ) )))
proof
defpred S5[ Nat ] means ($1 in ( dom R25 ) implies ( Sum ( ( lower_volume (R27 , R25) ) | $1 ) ) <= ( Sum ( ( lower_volume (R27 , R26) ) | ( indx (R26 , R25 , $1) ) ) ));
L1327: S5[ 1 ]
proof
set D55 = ( R27 | ( divset (R25 , 1) ) );
set D56 = ( divset (R25 , 1) );
set D57 = ( mid (R26 , 1 , ( indx (R26 , R25 , 1) )) );
set D58 = ( mid (R25 , 1 , 1) );
reconsider D59 = D55 as (PartFunc of ( divset (R25 , 1) ) , ( REAL )) by PARTFUN1:10;
L1328: ( dom D59 ) = ( ( dom R27 ) /\ ( divset (R25 , 1) ) ) by RELAT_1:61;
assume L1329: 1 in ( dom R25 );
L1330: ( R25 . 1 ) = ( upper_bound D56 ) by L1329 , L102;
L1331: ( R26 . ( indx (R26 , R25 , 1) ) ) = ( upper_bound D56 ) by L1330 , L1324 , L1329 , L723;
L1332: ( lower_bound D56 ) <= ( upper_bound D56 ) by SEQ_4:11;
reconsider D60 = D58 as (Division of D56) by L1332 , L1329 , L1330 , L847;
L1333: 1 in ( Seg ( len R25 ) ) by L1329 , FINSEQ_1:def 3;
L1334: 1 <= ( len R25 ) by L1333 , FINSEQ_1:1;
L1335: ( len ( mid (R25 , 1 , 1) ) ) = ( ( 1 -' 1 ) + 1 ) by L1334 , FINSEQ_6:118;
L1336: ( len ( lower_volume (D59 , D60) ) ) = ( len D60 ) by L171
.= 1 by L1335 , XREAL_1:235;
L1337: ( len ( mid (R25 , 1 , 1) ) ) = 1 by L1335 , XREAL_1:235;
L1338: ( len ( mid (R25 , 1 , 1) ) ) = ( len ( R25 | 1 ) ) by L1337 , L1334 , FINSEQ_1:59;
L1339: (for B113 being Nat holds ((1 <= B113 & B113 <= ( len ( mid (R25 , 1 , 1) ) )) implies ( ( mid (R25 , 1 , 1) ) . B113 ) = ( ( R25 | 1 ) . B113 )))
proof
let C151 being Nat;
assume that
L1340: 1 <= C151
and
L1341: C151 <= ( len ( mid (R25 , 1 , 1) ) );
L1342: C151 in ( Seg ( len ( R25 | 1 ) ) ) by L1338 , L1340 , L1341 , FINSEQ_1:1;
L1343: C151 in ( dom ( R25 | 1 ) ) by L1342 , FINSEQ_1:def 3;
L1344: C151 in ( dom ( R25 | ( Seg 1 ) ) ) by L1343 , FINSEQ_1:def 15;
L1345: ( ( R25 | ( Seg 1 ) ) . C151 ) = ( R25 . C151 ) by L1344 , FUNCT_1:47;
L1346: C151 = 1 by L1337 , L1340 , L1341 , XXREAL_0:1;
L1347: ( ( mid (R25 , 1 , 1) ) . C151 ) = ( R25 . ( ( 1 + 1 ) - 1 ) ) by L1346 , L1334 , FINSEQ_6:118;
thus L1348: thesis by L1347 , L1346 , L1345 , FINSEQ_1:def 15;
end;
L1349: ( mid (R25 , 1 , 1) ) = ( R25 | 1 ) by L1339 , L1338 , FINSEQ_1:14;
L1350: (for B114 being Nat holds ((1 <= B114 & B114 <= ( len ( lower_volume (D59 , D60) ) )) implies ( ( lower_volume (D59 , D60) ) . B114 ) = ( ( ( lower_volume (R27 , R25) ) | 1 ) . B114 )))
proof
let C152 being Nat;
assume that
L1351: 1 <= C152
and
L1352: C152 <= ( len ( lower_volume (D59 , D60) ) );
L1353: 1 in ( Seg 1 ) by FINSEQ_1:3;
L1354: ( dom ( R25 | ( Seg 1 ) ) ) = ( ( dom R25 ) /\ ( Seg 1 ) ) by RELAT_1:61;
L1355: 1 in ( dom ( R25 | ( Seg 1 ) ) ) by L1354 , L1329 , L1353 , XBOOLE_0:def 4;
L1356: ( dom ( lower_volume (R27 , R25) ) ) = ( Seg ( len ( lower_volume (R27 , R25) ) ) ) by FINSEQ_1:def 3
.= ( Seg ( len R25 ) ) by L171;
L1357: ( dom ( ( lower_volume (R27 , R25) ) | ( Seg 1 ) ) ) = ( ( Seg ( len R25 ) ) /\ ( Seg 1 ) ) by L1356 , RELAT_1:61
.= ( Seg 1 ) by L1334 , FINSEQ_1:7;
L1358: ( len D60 ) = 1 by L1335 , XREAL_1:235;
L1359: 1 in ( dom D60 ) by L1358 , L1353 , FINSEQ_1:def 3;
L1360: ( ( ( lower_volume (R27 , R25) ) | 1 ) . C152 ) = ( ( ( lower_volume (R27 , R25) ) | ( Seg 1 ) ) . C152 ) by FINSEQ_1:def 15
.= ( ( ( lower_volume (R27 , R25) ) | ( Seg 1 ) ) . 1 ) by L1336 , L1351 , L1352 , XXREAL_0:1
.= ( ( lower_volume (R27 , R25) ) . 1 ) by L1357 , FINSEQ_1:3 , FUNCT_1:47
.= ( ( lower_bound ( rng ( R27 | ( divset (R25 , 1) ) ) ) ) * ( vol ( divset (R25 , 1) ) ) ) by L1329 , L171;
L1361: ( divset (R25 , 1) ) = [. ( lower_bound ( divset (R25 , 1) ) ) , ( upper_bound ( divset (R25 , 1) ) ) .] by L11
.= [. ( lower_bound R21 ) , ( upper_bound ( divset (R25 , 1) ) ) .] by L1329 , L102
.= [. ( lower_bound R21 ) , ( R25 . 1 ) .] by L1329 , L102;
L1362: ( ( lower_volume (D59 , D60) ) . C152 ) = ( ( lower_volume (D59 , D60) ) . 1 ) by L1336 , L1351 , L1352 , XXREAL_0:1
.= ( ( lower_bound ( rng ( D59 | ( divset (D60 , 1) ) ) ) ) * ( vol ( divset (D60 , 1) ) ) ) by L1359 , L171;
L1363: ( divset (D60 , 1) ) = [. ( lower_bound ( divset (D60 , 1) ) ) , ( upper_bound ( divset (D60 , 1) ) ) .] by L11
.= [. ( lower_bound D56 ) , ( upper_bound ( divset (D60 , 1) ) ) .] by L1359 , L102
.= [. ( lower_bound D56 ) , ( D60 . 1 ) .] by L1359 , L102
.= [. ( lower_bound R21 ) , ( ( R25 | 1 ) . 1 ) .] by L1329 , L1349 , L102
.= [. ( lower_bound R21 ) , ( ( R25 | ( Seg 1 ) ) . 1 ) .] by FINSEQ_1:def 15
.= [. ( lower_bound R21 ) , ( R25 . 1 ) .] by L1355 , FUNCT_1:47;
thus L1364: thesis by L1363 , L1328 , L1362 , L1361 , L1360 , RELAT_1:68;
end;
L1365: ( D59 | ( divset (R25 , 1) ) ) is  bounded_below
proof
consider C153 being  real number such that L1366: (for B115 being set holds (B115 in ( R21 /\ ( dom R27 ) ) implies C153 <= ( R27 . B115 ))) by L1325 , RFUNCT_1:71;
L1367: (for B116 being set holds (B116 in ( ( divset (R25 , 1) ) /\ ( dom D59 ) ) implies C153 <= ( D59 . B116 )))
proof
let C154 being set;
L1368: ( dom D59 ) c= ( dom R27 ) by RELAT_1:60;
assume L1369: C154 in ( ( divset (R25 , 1) ) /\ ( dom D59 ) );
L1370: C154 in ( dom D59 ) by L1369 , XBOOLE_0:def 4;
L1371: ( R21 /\ ( dom R27 ) ) = ( dom R27 ) by XBOOLE_1:28;
reconsider D61 = C154 as (Element of R21) by L1371 , L1370 , L1368 , XBOOLE_0:def 4;
L1372: C153 <= ( R27 . D61 ) by L1366 , L1370 , L1371 , L1368;
thus L1373: thesis by L1372 , L1370 , FUNCT_1:47;
end;
thus L1374: thesis by L1367 , RFUNCT_1:71;
end;
L1375: ( rng R26 ) c= R21 by L39;
L1376: ( indx (R26 , R25 , 1) ) in ( dom R26 ) by L1324 , L1329 , L723;
L1377: ( indx (R26 , R25 , 1) ) in ( Seg ( len R26 ) ) by L1376 , FINSEQ_1:def 3;
L1378: 1 <= ( indx (R26 , R25 , 1) ) by L1377 , FINSEQ_1:1;
L1379: ( indx (R26 , R25 , 1) ) <= ( len R26 ) by L1377 , FINSEQ_1:1;
L1380: 1 <= ( len R26 ) by L1379 , L1378 , XXREAL_0:2;
L1381: 1 in ( Seg ( len R26 ) ) by L1380 , FINSEQ_1:1;
L1382: 1 in ( dom R26 ) by L1381 , FINSEQ_1:def 3;
L1383: ( R26 . 1 ) in ( rng R26 ) by L1382 , FUNCT_1:def 3;
L1384: ( R26 . 1 ) in R21 by L1383 , L1375;
L1385: ( R26 . 1 ) in [. ( lower_bound R21 ) , ( upper_bound R21 ) .] by L1384 , L11;
L1386: ( R26 . 1 ) in { R1 where R1 is Real : (( lower_bound R21 ) <= R1 & R1 <= ( upper_bound R21 )) } by L1385 , RCOMP_1:def 1;
L1387: (ex R1 being Real st (( R26 . 1 ) = R1 & ( lower_bound R21 ) <= R1 & R1 <= ( upper_bound R21 ))) by L1386;
L1388: ( R26 . 1 ) >= ( lower_bound D56 ) by L1387 , L1329 , L102;
reconsider D62 = D57 as (Division of D56) by L1388 , L1376 , L1378 , L1382 , L1331 , L847;
L1389: ( indx (R26 , R25 , 1) ) in ( dom R26 ) by L1324 , L1329 , L723;
L1390: ( indx (R26 , R25 , 1) ) in ( Seg ( len R26 ) ) by L1389 , FINSEQ_1:def 3;
L1391: 1 <= ( indx (R26 , R25 , 1) ) by L1390 , FINSEQ_1:1;
L1392: ( indx (R26 , R25 , 1) ) <= ( len R26 ) by L1390 , FINSEQ_1:1;
L1393: 1 <= ( len R26 ) by L1392 , L1391 , XXREAL_0:2;
L1394: ( len ( mid (R26 , 1 , ( indx (R26 , R25 , 1) )) ) ) = ( ( ( indx (R26 , R25 , 1) ) -' 1 ) + 1 ) by L1393 , L1391 , L1392 , FINSEQ_6:118;
L1395: ( len ( mid (R26 , 1 , ( indx (R26 , R25 , 1) )) ) ) = ( ( ( indx (R26 , R25 , 1) ) - 1 ) + 1 ) by L1394 , L1391 , XREAL_1:233;
L1396: ( len ( mid (R26 , 1 , ( indx (R26 , R25 , 1) )) ) ) = ( len ( R26 | ( indx (R26 , R25 , 1) ) ) ) by L1395 , L1392 , FINSEQ_1:59;
L1397: (for B117 being Nat holds ((1 <= B117 & B117 <= ( len ( mid (R26 , 1 , ( indx (R26 , R25 , 1) )) ) )) implies ( ( mid (R26 , 1 , ( indx (R26 , R25 , 1) )) ) . B117 ) = ( ( R26 | ( indx (R26 , R25 , 1) ) ) . B117 )))
proof
let C155 being Nat;
assume that
L1398: 1 <= C155
and
L1399: C155 <= ( len ( mid (R26 , 1 , ( indx (R26 , R25 , 1) )) ) );
L1400: C155 in ( Seg ( len ( R26 | ( indx (R26 , R25 , 1) ) ) ) ) by L1396 , L1398 , L1399 , FINSEQ_1:1;
L1401: C155 in ( dom ( R26 | ( indx (R26 , R25 , 1) ) ) ) by L1400 , FINSEQ_1:def 3;
L1402: C155 in ( dom ( R26 | ( Seg ( indx (R26 , R25 , 1) ) ) ) ) by L1401 , FINSEQ_1:def 15;
L1403: ( ( R26 | ( Seg ( indx (R26 , R25 , 1) ) ) ) . C155 ) = ( R26 . C155 ) by L1402 , FUNCT_1:47;
L1404: ( ( mid (R26 , 1 , ( indx (R26 , R25 , 1) )) ) . C155 ) = ( R26 . ( ( C155 + 1 ) -' 1 ) ) by L1391 , L1392 , L1393 , L1398 , L1399 , L1400 , FINSEQ_6:118;
L1405: ( ( mid (R26 , 1 , ( indx (R26 , R25 , 1) )) ) . C155 ) = ( R26 . ( ( C155 + 1 ) - 1 ) ) by L1404 , NAT_1:11 , XREAL_1:233;
thus L1406: thesis by L1405 , L1403 , FINSEQ_1:def 15;
end;
L1407: ( mid (R26 , 1 , ( indx (R26 , R25 , 1) )) ) = ( R26 | ( indx (R26 , R25 , 1) ) ) by L1397 , L1396 , FINSEQ_1:14;
L1408: (for B118 being Nat holds ((1 <= B118 & B118 <= ( len ( lower_volume (D59 , D62) ) )) implies ( ( lower_volume (D59 , D62) ) . B118 ) = ( ( ( lower_volume (R27 , R26) ) | ( indx (R26 , R25 , 1) ) ) . B118 )))
proof
let C156 being Nat;
assume that
L1409: 1 <= C156
and
L1410: C156 <= ( len ( lower_volume (D59 , D62) ) );
L1411: C156 <= ( len D62 ) by L1410 , L171;
L1412: C156 in ( Seg ( len D62 ) ) by L1411 , L1409 , FINSEQ_1:1;
L1413: C156 in ( dom D62 ) by L1412 , FINSEQ_1:def 3;
L1414: ( divset (D62 , C156) ) = ( divset (R26 , C156) )
proof
L1415: ( Seg ( indx (R26 , R25 , 1) ) ) c= ( Seg ( len R26 ) ) by L1392 , FINSEQ_1:5;
L1416: C156 in ( Seg ( len R26 ) ) by L1415 , L1395 , L1412;
L1417: C156 in ( dom R26 ) by L1416 , FINSEQ_1:def 3;
L1418:
now
per cases ;
suppose L1419: C156 = 1;

L1420: 1 in ( dom ( R26 | ( Seg ( indx (R26 , R25 , 1) ) ) ) ) by L1419 , L1407 , L1413 , FINSEQ_1:def 15;
L1421: 1 in ( ( dom R26 ) /\ ( Seg ( indx (R26 , R25 , 1) ) ) ) by L1420 , RELAT_1:61;
L1422: 1 in ( dom R26 ) by L1421 , XBOOLE_0:def 4;
L1423: ( divset (R26 , C156) ) = [. ( lower_bound ( divset (R26 , 1) ) ) , ( upper_bound ( divset (R26 , 1) ) ) .] by L1419 , L11
.= [. ( lower_bound R21 ) , ( upper_bound ( divset (R26 , 1) ) ) .] by L1422 , L102
.= [. ( lower_bound R21 ) , ( R26 . 1 ) .] by L1422 , L102;
L1424: ( divset (D62 , C156) ) = [. ( lower_bound ( divset (D62 , 1) ) ) , ( upper_bound ( divset (D62 , 1) ) ) .] by L1419 , L11
.= [. ( lower_bound D56 ) , ( upper_bound ( divset (D62 , 1) ) ) .] by L1413 , L1419 , L102
.= [. ( lower_bound D56 ) , ( D62 . 1 ) .] by L1413 , L1419 , L102
.= [. ( lower_bound D56 ) , ( ( R26 | ( indx (R26 , R25 , 1) ) ) . 1 ) .] by L1397 , L1411 , L1419
.= [. ( lower_bound D56 ) , ( ( R26 | ( Seg ( indx (R26 , R25 , 1) ) ) ) . 1 ) .] by FINSEQ_1:def 15
.= [. ( lower_bound D56 ) , ( R26 . 1 ) .] by L1420 , FUNCT_1:47
.= [. ( lower_bound R21 ) , ( R26 . 1 ) .] by L1329 , L102;
thus L1425: thesis by L1424 , L1423;
end;
suppose L1426: C156 <> 1;

L1427: ( C156 - 1 ) in ( dom ( R26 | ( Seg ( indx (R26 , R25 , 1) ) ) ) )
proof
L1428: C156 is non  trivial by L1409 , L1426 , NAT_2:def 1;
L1429: C156 >= ( 1 + 1 ) by L1428 , NAT_2:29;
L1430: 1 <= ( C156 - 1 ) by L1429 , XREAL_1:19;
L1431: (ex B119 being Nat st C156 = ( 1 + B119 )) by L1409 , NAT_1:10;
L1432: ( C156 - 1 ) <= ( ( indx (R26 , R25 , 1) ) - ( 0 ) ) by L1395 , L1411 , XREAL_1:13;
L1433: ( C156 - 1 ) <= ( len R26 ) by L1432 , L1379 , XXREAL_0:2;
L1434: ( C156 - 1 ) in ( Seg ( len R26 ) ) by L1433 , L1431 , L1430 , FINSEQ_1:1;
L1435: ( C156 - 1 ) in ( dom R26 ) by L1434 , FINSEQ_1:def 3;
L1436: ( C156 - 1 ) >= 1 by L1429 , XREAL_1:19;
L1437: ( C156 - 1 ) in ( Seg ( indx (R26 , R25 , 1) ) ) by L1436 , L1431 , L1432 , FINSEQ_1:1;
L1438: ( C156 - 1 ) in ( ( dom R26 ) /\ ( Seg ( indx (R26 , R25 , 1) ) ) ) by L1437 , L1435 , XBOOLE_0:def 4;
thus L1439: thesis by L1438 , RELAT_1:61;
end;
L1440: ( D62 . ( C156 - 1 ) ) = ( ( R26 | ( indx (R26 , R25 , 1) ) ) . ( C156 - 1 ) ) by L1396 , L1397 , FINSEQ_1:14
.= ( ( R26 | ( Seg ( indx (R26 , R25 , 1) ) ) ) . ( C156 - 1 ) ) by FINSEQ_1:def 15;
L1441: ( D62 . ( C156 - 1 ) ) = ( R26 . ( C156 - 1 ) ) by L1440 , L1427 , FUNCT_1:47;
L1442: C156 <= ( len R26 ) by L1395 , L1379 , L1411 , XXREAL_0:2;
L1443: C156 in ( Seg ( len R26 ) ) by L1442 , L1409 , FINSEQ_1:1;
L1444: C156 in ( dom R26 ) by L1443 , FINSEQ_1:def 3;
L1445: C156 in ( ( dom R26 ) /\ ( Seg ( indx (R26 , R25 , 1) ) ) ) by L1444 , L1395 , L1412 , XBOOLE_0:def 4;
L1446: C156 in ( dom ( R26 | ( Seg ( indx (R26 , R25 , 1) ) ) ) ) by L1445 , RELAT_1:61;
L1447: ( D62 . C156 ) = ( ( R26 | ( indx (R26 , R25 , 1) ) ) . C156 ) by L1396 , L1397 , FINSEQ_1:14
.= ( ( R26 | ( Seg ( indx (R26 , R25 , 1) ) ) ) . C156 ) by FINSEQ_1:def 15;
L1448: ( D62 . C156 ) = ( R26 . C156 ) by L1447 , L1446 , FUNCT_1:47;
L1449: ( divset (R26 , C156) ) = [. ( lower_bound ( divset (R26 , C156) ) ) , ( upper_bound ( divset (R26 , C156) ) ) .] by L11
.= [. ( R26 . ( C156 - 1 ) ) , ( upper_bound ( divset (R26 , C156) ) ) .] by L1417 , L1426 , L102
.= [. ( R26 . ( C156 - 1 ) ) , ( R26 . C156 ) .] by L1417 , L1426 , L102;
L1450: ( divset (D62 , C156) ) = [. ( lower_bound ( divset (D62 , C156) ) ) , ( upper_bound ( divset (D62 , C156) ) ) .] by L11
.= [. ( D62 . ( C156 - 1 ) ) , ( upper_bound ( divset (D62 , C156) ) ) .] by L1413 , L1426 , L102
.= [. ( R26 . ( C156 - 1 ) ) , ( R26 . C156 ) .] by L1413 , L1426 , L1441 , L1448 , L102;
thus L1451: thesis by L1450 , L1449;
end;
end;
thus L1453: thesis by L1418;
end;
L1454: ( ( lower_volume (D59 , D62) ) . C156 ) = ( ( lower_bound ( rng ( D59 | ( divset (R26 , C156) ) ) ) ) * ( vol ( divset (R26 , C156) ) ) ) by L1414 , L1413 , L171;
L1455: ( Seg ( indx (R26 , R25 , 1) ) ) c= ( Seg ( len R26 ) ) by L1392 , FINSEQ_1:5;
L1456: C156 in ( Seg ( len R26 ) ) by L1455 , L1395 , L1412;
L1457: C156 in ( dom R26 ) by L1456 , FINSEQ_1:def 3;
L1458: C156 in ( dom D62 ) by L1412 , FINSEQ_1:def 3;
L1459:
now
per cases ;
suppose L1460: C156 = 1;

L1461: 1 in ( dom ( R26 | ( Seg ( indx (R26 , R25 , 1) ) ) ) ) by L1460 , L1407 , L1458 , FINSEQ_1:def 15;
L1462: 1 in ( ( dom R26 ) /\ ( Seg ( indx (R26 , R25 , 1) ) ) ) by L1461 , RELAT_1:61;
L1463: 1 in ( dom R26 ) by L1462 , XBOOLE_0:def 4;
L1464: ( R26 . 1 ) <= ( R26 . ( indx (R26 , R25 , 1) ) ) by L1463 , L1376 , L1378 , SEQ_4:137;
L1465: ( R26 . 1 ) <= ( R25 . 1 ) by L1464 , L1324 , L1329 , L723;
L1466: ( lower_bound ( divset (R26 , C156) ) ) = ( lower_bound R21 ) by L1460 , L1463 , L102;
L1467: ( lower_bound ( divset (R26 , C156) ) ) = ( lower_bound ( divset (R25 , 1) ) ) by L1466 , L1329 , L102;
L1468: ( upper_bound ( divset (R26 , C156) ) ) = ( R26 . 1 ) by L1460 , L1463 , L102;
L1469: ( upper_bound ( divset (R26 , C156) ) ) <= ( upper_bound ( divset (R25 , 1) ) ) by L1468 , L1329 , L1465 , L102;
L1470: ( lower_bound ( divset (R25 , 1) ) ) <= ( upper_bound ( divset (R25 , 1) ) ) by SEQ_4:11;
thus L1471: ( lower_bound ( divset (R26 , C156) ) ) in [. ( lower_bound ( divset (R25 , 1) ) ) , ( upper_bound ( divset (R25 , 1) ) ) .] by L1470 , L1467 , XXREAL_1:1;
L1472: ( lower_bound ( divset (R26 , C156) ) ) <= ( upper_bound ( divset (R26 , C156) ) ) by SEQ_4:11;
L1473: ( upper_bound ( divset (R26 , C156) ) ) in { R23 where R23 is Real : (( lower_bound ( divset (R25 , 1) ) ) <= R23 & R23 <= ( upper_bound ( divset (R25 , 1) ) )) } by L1472 , L1467 , L1469;
thus L1474: ( upper_bound ( divset (R26 , C156) ) ) in [. ( lower_bound ( divset (R25 , 1) ) ) , ( upper_bound ( divset (R25 , 1) ) ) .] by L1473 , RCOMP_1:def 1;
end;
suppose L1475: C156 <> 1;

L1476: C156 is non  trivial by L1475 , L1409 , NAT_2:def 1;
L1477: C156 >= ( 1 + 1 ) by L1476 , NAT_2:29;
L1478: 1 <= ( C156 - 1 ) by L1477 , XREAL_1:19;
L1479: (ex B120 being Nat st C156 = ( 1 + B120 )) by L1409 , NAT_1:10;
L1480: ( rng R26 ) c= R21 by L39;
L1481: ( lower_bound ( divset (R26 , C156) ) ) = ( R26 . ( C156 - 1 ) ) by L1457 , L1475 , L102;
L1482: ( lower_bound ( divset (R25 , 1) ) ) = ( lower_bound R21 ) by L1329 , L102;
L1483: ( C156 - 1 ) <= ( ( indx (R26 , R25 , 1) ) - ( 0 ) ) by L1395 , L1411 , XREAL_1:13;
L1484: ( C156 - 1 ) <= ( len R26 ) by L1483 , L1379 , XXREAL_0:2;
L1485: ( C156 - 1 ) in ( Seg ( len R26 ) ) by L1484 , L1479 , L1478 , FINSEQ_1:1;
L1486: ( C156 - 1 ) in ( dom R26 ) by L1485 , FINSEQ_1:def 3;
L1487: ( R26 . ( C156 - 1 ) ) in ( rng R26 ) by L1486 , FUNCT_1:def 3;
L1488: ( lower_bound ( divset (R26 , C156) ) ) >= ( lower_bound ( divset (R25 , 1) ) ) by L1487 , L1481 , L1482 , L1480 , SEQ_4:def 2;
L1489: ( upper_bound ( divset (R25 , 1) ) ) = ( R25 . 1 ) by L1329 , L102;
L1490: ( R26 . ( C156 - 1 ) ) <= ( R26 . ( indx (R26 , R25 , 1) ) ) by L1376 , L1483 , L1486 , SEQ_4:137;
L1491: ( lower_bound ( divset (R26 , C156) ) ) <= ( upper_bound ( divset (R25 , 1) ) ) by L1490 , L1324 , L1329 , L1481 , L1489 , L723;
L1492: ( lower_bound ( divset (R26 , C156) ) ) in { R23 where R23 is Real : (( lower_bound ( divset (R25 , 1) ) ) <= R23 & R23 <= ( upper_bound ( divset (R25 , 1) ) )) } by L1491 , L1488;
thus L1493: ( lower_bound ( divset (R26 , C156) ) ) in [. ( lower_bound ( divset (R25 , 1) ) ) , ( upper_bound ( divset (R25 , 1) ) ) .] by L1492 , RCOMP_1:def 1;
L1494: ( upper_bound ( divset (R26 , C156) ) ) = ( R26 . C156 ) by L1457 , L1475 , L102;
L1495: ( R26 . C156 ) in ( rng R26 ) by L1457 , FUNCT_1:def 3;
L1496: ( upper_bound ( divset (R26 , C156) ) ) >= ( lower_bound ( divset (R25 , 1) ) ) by L1495 , L1494 , L1482 , L1480 , SEQ_4:def 2;
L1497: ( R26 . C156 ) <= ( R26 . ( indx (R26 , R25 , 1) ) ) by L1395 , L1376 , L1411 , L1457 , SEQ_4:137;
L1498: ( upper_bound ( divset (R26 , C156) ) ) <= ( upper_bound ( divset (R25 , 1) ) ) by L1497 , L1324 , L1329 , L1494 , L1489 , L723;
L1499: ( upper_bound ( divset (R26 , C156) ) ) in { R23 where R23 is Real : (( lower_bound ( divset (R25 , 1) ) ) <= R23 & R23 <= ( upper_bound ( divset (R25 , 1) ) )) } by L1498 , L1496;
thus L1500: ( upper_bound ( divset (R26 , C156) ) ) in [. ( lower_bound ( divset (R25 , 1) ) ) , ( upper_bound ( divset (R25 , 1) ) ) .] by L1499 , RCOMP_1:def 1;
end;
end;
L1502: ( divset (R25 , 1) ) = [. ( lower_bound ( divset (R25 , 1) ) ) , ( upper_bound ( divset (R25 , 1) ) ) .] by L11;
L1503: ( Seg ( indx (R26 , R25 , 1) ) ) c= ( Seg ( len R26 ) ) by L1392 , FINSEQ_1:5;
L1504: C156 in ( Seg ( len R26 ) ) by L1503 , L1395 , L1412;
L1505: C156 in ( dom R26 ) by L1504 , FINSEQ_1:def 3;
L1506: ( divset (R26 , C156) ) = [. ( lower_bound ( divset (R26 , C156) ) ) , ( upper_bound ( divset (R26 , C156) ) ) .] by L11;
L1507: ( divset (R26 , C156) ) c= ( divset (R25 , 1) ) by L1506 , L1502 , L1459 , XXREAL_2:def 12;
L1508: ( dom ( ( lower_volume (R27 , R26) ) | ( Seg ( indx (R26 , R25 , 1) ) ) ) ) = ( ( dom ( lower_volume (R27 , R26) ) ) /\ ( Seg ( indx (R26 , R25 , 1) ) ) ) by RELAT_1:61
.= ( ( Seg ( len ( lower_volume (R27 , R26) ) ) ) /\ ( Seg ( indx (R26 , R25 , 1) ) ) ) by FINSEQ_1:def 3
.= ( ( Seg ( len R26 ) ) /\ ( Seg ( indx (R26 , R25 , 1) ) ) ) by L171
.= ( Seg ( indx (R26 , R25 , 1) ) ) by L1503 , XBOOLE_1:28;
L1509: ( ( ( lower_volume (R27 , R26) ) | ( indx (R26 , R25 , 1) ) ) . C156 ) = ( ( ( lower_volume (R27 , R26) ) | ( Seg ( indx (R26 , R25 , 1) ) ) ) . C156 ) by FINSEQ_1:def 15
.= ( ( lower_volume (R27 , R26) ) . C156 ) by L1395 , L1412 , L1508 , FUNCT_1:47
.= ( ( lower_bound ( rng ( R27 | ( divset (R26 , C156) ) ) ) ) * ( vol ( divset (R26 , C156) ) ) ) by L1505 , L171;
thus L1510: thesis by L1509 , L1454 , L1507 , FUNCT_1:51;
end;
L1511: 1 <= ( len ( lower_volume (R27 , R25) ) ) by L1334 , L171;
L1512: ( len ( lower_volume (D59 , D60) ) ) = ( len ( ( lower_volume (R27 , R25) ) | 1 ) ) by L1511 , L1336 , FINSEQ_1:59;
L1513: ( lower_volume (D59 , D60) ) = ( ( lower_volume (R27 , R25) ) | 1 ) by L1512 , L1350 , FINSEQ_1:14;
L1514: ( indx (R26 , R25 , 1) ) <= ( len ( lower_volume (R27 , R26) ) ) by L1392 , L171;
L1515: ( len ( lower_volume (D59 , D62) ) ) = ( indx (R26 , R25 , 1) ) by L1395 , L171;
L1516: ( len ( lower_volume (D59 , D62) ) ) = ( len ( ( lower_volume (R27 , R26) ) | ( indx (R26 , R25 , 1) ) ) ) by L1515 , L1514 , FINSEQ_1:59;
L1517: ( dom D59 ) = ( R21 /\ ( divset (R25 , 1) ) ) by L1328 , FUNCT_2:def 1;
L1518: ( dom D59 ) = ( divset (R25 , 1) ) by L1517 , L1329 , L127 , XBOOLE_1:28;
L1519: D59 is  total by L1518 , PARTFUN1:def 2;
L1520: ( lower_sum (D59 , D60) ) <= ( lower_sum (D59 , D62) ) by L1519 , L1337 , L1365 , L691;
thus L1521: thesis by L1520 , L1513 , L1516 , L1408 , FINSEQ_1:14;
end;
L1522: (for B121 being non  empty Nat holds (S5[ B121 ] implies S5[ ( B121 + 1 ) ]))
proof
let C157 being non  empty Nat;
assume L1523: (C157 in ( dom R25 ) implies ( Sum ( ( lower_volume (R27 , R25) ) | C157 ) ) <= ( Sum ( ( lower_volume (R27 , R26) ) | ( indx (R26 , R25 , C157) ) ) ));
assume L1524: ( C157 + 1 ) in ( dom R25 );
L1525: ( C157 + 1 ) in ( Seg ( len R25 ) ) by L1524 , FINSEQ_1:def 3;
L1526: 1 <= ( C157 + 1 ) by L1525 , FINSEQ_1:1;
L1527: ( C157 + 1 ) <= ( len R25 ) by L1525 , FINSEQ_1:1;
L1528:
now
per cases ;
suppose L1529: 1 = ( C157 + 1 );

thus L1530: thesis by L1529 , L1327 , L1524;
end;
suppose L1531: 1 <> ( C157 + 1 );

set D63 = ( indx (R26 , R25 , C157) );
set D64 = ( indx (R26 , R25 , ( C157 + 1 )) );
set D65 = ( ( lower_volume (R27 , R26) ) | ( indx (R26 , R25 , ( C157 + 1 )) ) );
set D66 = ( ( lower_volume (R27 , R25) ) | C157 );
set D67 = ( ( lower_volume (R27 , R25) ) | ( C157 + 1 ) );
set D68 = ( C157 + 1 );
L1532: ( C157 + 1 ) <= ( len ( lower_volume (R27 , R25) ) ) by L1527 , L171;
L1533: ( len D67 ) = ( C157 + 1 ) by L1532 , FINSEQ_1:59;
consider C158 , C159 being (FinSequence of ( REAL )) such that L1534: ( len C158 ) = C157 and L1535: ( len C159 ) = 1 and L1536: D67 = ( C158 ^ C159 ) by L1533 , FINSEQ_2:23;
L1537: C157 <= ( C157 + 1 ) by NAT_1:11;
L1538: C157 <= ( len R25 ) by L1537 , L1527 , XXREAL_0:2;
L1539: C157 <= ( len ( lower_volume (R27 , R25) ) ) by L1538 , L171;
L1540: ( len C158 ) = ( len D66 ) by L1539 , L1534 , FINSEQ_1:59;
L1541: (for B122 being Nat holds ((1 <= B122 & B122 <= ( len C158 )) implies ( C158 . B122 ) = ( D66 . B122 )))
proof
let C160 being Nat;
assume that
L1542: 1 <= C160
and
L1543: C160 <= ( len C158 );
L1544: C160 in ( Seg ( len C158 ) ) by L1542 , L1543 , FINSEQ_1:1;
L1545: C160 in ( dom D66 ) by L1544 , L1540 , FINSEQ_1:def 3;
L1546: C160 in ( dom ( ( lower_volume (R27 , R25) ) | ( Seg C157 ) ) ) by L1545 , FINSEQ_1:def 15;
L1547: C157 <= ( C157 + 1 ) by NAT_1:11;
L1548: ( Seg C157 ) c= ( Seg ( C157 + 1 ) ) by L1547 , FINSEQ_1:5;
L1549: ( dom D67 ) = ( Seg ( len D67 ) ) by FINSEQ_1:def 3
.= ( Seg ( C157 + 1 ) ) by L1532 , FINSEQ_1:59;
L1550: ( dom D66 ) = ( Seg ( len D66 ) ) by FINSEQ_1:def 3
.= ( Seg C157 ) by L1539 , FINSEQ_1:59;
L1551: C160 in ( dom D67 ) by L1550 , L1545 , L1548 , L1549;
L1552: C160 in ( dom ( ( lower_volume (R27 , R25) ) | ( Seg ( C157 + 1 ) ) ) ) by L1551 , FINSEQ_1:def 15;
L1553: ( D67 . C160 ) = ( ( ( lower_volume (R27 , R25) ) | ( Seg ( C157 + 1 ) ) ) . C160 ) by FINSEQ_1:def 15
.= ( ( lower_volume (R27 , R25) ) . C160 ) by L1552 , FUNCT_1:47;
L1554: ( D66 . C160 ) = ( ( ( lower_volume (R27 , R25) ) | ( Seg C157 ) ) . C160 ) by FINSEQ_1:def 15
.= ( ( lower_volume (R27 , R25) ) . C160 ) by L1546 , FUNCT_1:47;
L1555: C160 in ( dom C158 ) by L1544 , FINSEQ_1:def 3;
thus L1556: thesis by L1555 , L1536 , L1554 , L1553 , FINSEQ_1:def 7;
end;
L1557: C158 = D66 by L1541 , L1540 , FINSEQ_1:14;
L1558: ( indx (R26 , R25 , ( C157 + 1 )) ) in ( dom R26 ) by L1324 , L1524 , L723;
L1559: ( indx (R26 , R25 , ( C157 + 1 )) ) in ( Seg ( len R26 ) ) by L1558 , FINSEQ_1:def 3;
L1560: 1 <= ( indx (R26 , R25 , ( C157 + 1 )) ) by L1559 , FINSEQ_1:1;
L1561: D68 is non  trivial by L1531 , NAT_2:def 1;
L1562: D68 >= 2 by L1561 , NAT_2:29;
L1563: C157 >= ( ( 1 + 1 ) - 1 ) by L1562 , XREAL_1:20;
L1564: C157 in ( Seg ( len R25 ) ) by L1563 , L1538 , FINSEQ_1:1;
L1565: C157 in ( dom R25 ) by L1564 , FINSEQ_1:def 3;
L1566: ( indx (R26 , R25 , C157) ) in ( dom R26 ) by L1565 , L1324 , L723;
L1567: ( indx (R26 , R25 , C157) ) < ( indx (R26 , R25 , ( C157 + 1 )) )
proof
L1568: C157 < ( C157 + 1 ) by NAT_1:13;
L1569: ( R25 . C157 ) < ( R25 . ( C157 + 1 ) ) by L1568 , L1524 , L1565 , SEQM_3:def 1;
assume L1570: ( indx (R26 , R25 , C157) ) >= ( indx (R26 , R25 , ( C157 + 1 )) );
L1571: ( R26 . ( indx (R26 , R25 , C157) ) ) >= ( R26 . ( indx (R26 , R25 , ( C157 + 1 )) ) ) by L1570 , L1566 , L1558 , SEQ_4:137;
L1572: ( R25 . C157 ) = ( R26 . ( indx (R26 , R25 , C157) ) ) by L1324 , L1565 , L723;
thus L1573: contradiction by L1572 , L1324 , L1524 , L1571 , L1569 , L723;
end;
L1574: ( indx (R26 , R25 , ( C157 + 1 )) ) >= ( indx (R26 , R25 , C157) )
proof
assume L1575: ( indx (R26 , R25 , ( C157 + 1 )) ) < ( indx (R26 , R25 , C157) );
L1576: ( R26 . ( indx (R26 , R25 , ( C157 + 1 )) ) ) < ( R26 . ( indx (R26 , R25 , C157) ) ) by L1575 , L1566 , L1558 , SEQM_3:def 1;
L1577: ( R25 . ( C157 + 1 ) ) = ( R26 . ( indx (R26 , R25 , ( C157 + 1 )) ) ) by L1324 , L1524 , L723;
L1578: ( R25 . ( C157 + 1 ) ) < ( R25 . C157 ) by L1577 , L1324 , L1565 , L1576 , L723;
thus L1579: contradiction by L1578 , L1524 , L1565 , NAT_1:11 , SEQ_4:137;
end;
consider C161 being Nat such that L1580: ( indx (R26 , R25 , ( C157 + 1 )) ) = ( ( indx (R26 , R25 , C157) ) + C161 ) by L1574 , NAT_1:10;
reconsider D69 = C161 as (Element of ( NAT )) by ORDINAL1:def 12;
L1581: ( len ( lower_volume (R27 , R26) ) ) = ( len R26 ) by L171;
L1582: ( indx (R26 , R25 , ( C157 + 1 )) ) <= ( len ( lower_volume (R27 , R26) ) ) by L1581 , L1559 , FINSEQ_1:1;
L1583: ( len D65 ) = ( D63 + ( D64 - D63 ) ) by L1582 , FINSEQ_1:59;
consider C162 , C163 being (FinSequence of ( REAL )) such that L1584: ( len C162 ) = D63 and L1585: ( len C163 ) = ( D64 - D63 ) and L1586: D65 = ( C162 ^ C163 ) by L1583 , L1580 , FINSEQ_2:23;
L1587: ( indx (R26 , R25 , ( C157 + 1 )) ) <= ( len R26 ) by L1559 , FINSEQ_1:1;
L1588: ( indx (R26 , R25 , C157) ) in ( dom R26 ) by L1324 , L1565 , L723;
L1589: ( indx (R26 , R25 , C157) ) in ( Seg ( len R26 ) ) by L1588 , FINSEQ_1:def 3;
L1590: 1 <= ( indx (R26 , R25 , C157) ) by L1589 , FINSEQ_1:1;
L1591: ( Sum C159 ) <= ( Sum C163 )
proof
set D70 = ( mid (R26 , ( ( indx (R26 , R25 , C157) ) + 1 ) , ( indx (R26 , R25 , ( C157 + 1 )) )) );
set D71 = ( mid (R25 , ( C157 + 1 ) , ( C157 + 1 )) );
set D72 = ( divset (R25 , ( C157 + 1 )) );
set D73 = ( R27 | D72 );
L1592: 1 <= ( ( indx (R26 , R25 , C157) ) + 1 ) by NAT_1:11;
reconsider D74 = D73 as (PartFunc of D72 , ( REAL )) by PARTFUN1:10;
L1593: ( ( C157 + 1 ) - 1 ) = C157;
L1594: ( lower_bound D72 ) = ( R25 . C157 ) by L1593 , L1524 , L1531 , L102;
L1595: ( dom D74 ) = ( ( dom R27 ) /\ ( divset (R25 , ( C157 + 1 )) ) ) by RELAT_1:61;
L1596: ( dom D74 ) = ( R21 /\ ( divset (R25 , ( C157 + 1 )) ) ) by L1595 , FUNCT_2:def 1;
L1597: ( dom D74 ) = ( divset (R25 , ( C157 + 1 )) ) by L1596 , L1524 , L127 , XBOOLE_1:28;
L1598: D74 is  total by L1597 , PARTFUN1:def 2;
L1599: ( upper_bound ( divset (R25 , ( C157 + 1 )) ) ) = ( R25 . ( C157 + 1 ) ) by L1524 , L1531 , L102;
L1600: ( R26 . ( indx (R26 , R25 , ( C157 + 1 )) ) ) = ( R25 . ( C157 + 1 ) ) by L1324 , L1524 , L723;
L1601: ( ( indx (R26 , R25 , C157) ) + 1 ) <= ( indx (R26 , R25 , ( C157 + 1 )) ) by L1567 , NAT_1:13;
L1602: ( ( indx (R26 , R25 , C157) ) + 1 ) <= ( len R26 ) by L1601 , L1587 , XXREAL_0:2;
L1603: ( ( indx (R26 , R25 , C157) ) + 1 ) in ( Seg ( len R26 ) ) by L1602 , L1592 , FINSEQ_1:1;
L1604: ( ( indx (R26 , R25 , C157) ) + 1 ) in ( dom R26 ) by L1603 , FINSEQ_1:def 3;
L1605: ( R26 . ( ( indx (R26 , R25 , C157) ) + 1 ) ) >= ( R26 . ( indx (R26 , R25 , C157) ) ) by L1604 , L1566 , NAT_1:11 , SEQ_4:137;
L1606: ( R26 . ( ( indx (R26 , R25 , C157) ) + 1 ) ) >= ( lower_bound D72 ) by L1605 , L1324 , L1565 , L1594 , L723;
reconsider D75 = D70 as (Division of D72) by L1606 , L1558 , L1601 , L1604 , L1600 , L1599 , L847;
L1607: ( ( ( indx (R26 , R25 , ( C157 + 1 )) ) -' ( ( indx (R26 , R25 , C157) ) + 1 ) ) + 1 ) = ( ( ( indx (R26 , R25 , ( C157 + 1 )) ) - ( ( indx (R26 , R25 , C157) ) + 1 ) ) + 1 ) by L1601 , XREAL_1:233
.= ( ( indx (R26 , R25 , ( C157 + 1 )) ) - ( indx (R26 , R25 , C157) ) );
L1608: (for B123 being Nat holds ((1 <= B123 & B123 <= ( len C163 )) implies ( C163 . B123 ) = ( ( lower_volume (D74 , D75) ) . B123 )))
proof
let C164 being Nat;
assume that
L1609: 1 <= C164
and
L1610: C164 <= ( len C163 );
L1611: C164 in ( Seg ( len C163 ) ) by L1609 , L1610 , FINSEQ_1:1;
L1612: C164 in ( dom C163 ) by L1611 , FINSEQ_1:def 3;
L1613: ( ( indx (R26 , R25 , C157) ) + C164 ) in ( dom D65 ) by L1612 , L1584 , L1586 , FINSEQ_1:28;
L1614: ( ( indx (R26 , R25 , C157) ) + C164 ) in ( dom ( ( lower_volume (R27 , R26) ) | ( Seg ( indx (R26 , R25 , ( C157 + 1 )) ) ) ) ) by L1613 , FINSEQ_1:def 15;
L1615: ( len ( mid (R26 , ( ( indx (R26 , R25 , C157) ) + 1 ) , ( indx (R26 , R25 , ( C157 + 1 )) )) ) ) = D69 by L1560 , L1587 , L1580 , L1601 , L1602 , L1592 , L1607 , FINSEQ_6:118;
L1616: ( dom D65 ) = ( Seg ( len D65 ) ) by FINSEQ_1:def 3
.= ( Seg ( indx (R26 , R25 , ( C157 + 1 )) ) ) by L1582 , FINSEQ_1:59;
L1617: ( ( indx (R26 , R25 , C157) ) + C164 ) <= ( indx (R26 , R25 , ( C157 + 1 )) ) by L1616 , L1613 , FINSEQ_1:1;
L1618: C164 <= ( ( indx (R26 , R25 , ( C157 + 1 )) ) - ( indx (R26 , R25 , C157) ) ) by L1617 , XREAL_1:19;
L1619: C164 in ( Seg ( len ( mid (R26 , ( ( indx (R26 , R25 , C157) ) + 1 ) , ( indx (R26 , R25 , ( C157 + 1 )) )) ) ) ) by L1618 , L1580 , L1609 , L1615 , FINSEQ_1:1;
L1620: C164 in ( dom D75 ) by L1619 , FINSEQ_1:def 3;
L1621: ( Seg ( indx (R26 , R25 , ( C157 + 1 )) ) ) c= ( Seg ( len R26 ) ) by L1587 , FINSEQ_1:5;
L1622: ( ( indx (R26 , R25 , C157) ) + C164 ) in ( Seg ( len R26 ) ) by L1621 , L1616 , L1613;
L1623: ( ( indx (R26 , R25 , C157) ) + C164 ) in ( dom R26 ) by L1622 , FINSEQ_1:def 3;
L1624: ( C163 . C164 ) = ( D65 . ( ( indx (R26 , R25 , C157) ) + C164 ) ) by L1584 , L1586 , L1612 , FINSEQ_1:def 7
.= ( ( ( lower_volume (R27 , R26) ) | ( Seg ( indx (R26 , R25 , ( C157 + 1 )) ) ) ) . ( ( indx (R26 , R25 , C157) ) + C164 ) ) by FINSEQ_1:def 15
.= ( ( lower_volume (R27 , R26) ) . ( ( indx (R26 , R25 , C157) ) + C164 ) ) by L1614 , FUNCT_1:47
.= ( ( lower_bound ( rng ( R27 | ( divset (R26 , ( ( indx (R26 , R25 , C157) ) + C164 )) ) ) ) ) * ( vol ( divset (R26 , ( ( indx (R26 , R25 , C157) ) + C164 )) ) ) ) by L1623 , L171;
L1625: 1 <= ( ( indx (R26 , R25 , C157) ) + C164 ) by L1616 , L1613 , FINSEQ_1:1;
L1626: (( divset (D75 , C164) ) = ( divset (R26 , ( ( indx (R26 , R25 , C157) ) + C164 )) ) & ( divset (R26 , ( ( indx (R26 , R25 , C157) ) + C164 )) ) c= ( divset (R25 , ( C157 + 1 )) ))
proof
L1627:
now
per cases ;
suppose L1628: C164 = 1;

L1629: 1 <= ( ( indx (R26 , R25 , C157) ) + 1 ) by L1628 , L1616 , L1613 , FINSEQ_1:1;
L1630: ( ( indx (R26 , R25 , C157) ) + 1 ) <= ( len R26 ) by L1616 , L1613 , L1621 , L1628 , FINSEQ_1:1;
L1631: ( upper_bound ( divset (D75 , 1) ) ) = ( ( mid (R26 , ( ( indx (R26 , R25 , C157) ) + 1 ) , ( indx (R26 , R25 , ( C157 + 1 )) )) ) . 1 ) by L1620 , L1628 , L102
.= ( R26 . ( 1 + ( indx (R26 , R25 , C157) ) ) ) by L1560 , L1587 , L1629 , L1630 , FINSEQ_6:118;
L1632: ( ( indx (R26 , R25 , C157) ) + 1 ) <> 1 by L1590 , NAT_1:13;
L1633: ( ( C157 + 1 ) - 1 ) = C157;
L1634: ( lower_bound ( divset (D75 , 1) ) ) = ( lower_bound ( divset (R25 , ( C157 + 1 )) ) ) by L1620 , L1628 , L102
.= ( R25 . C157 ) by L1524 , L1531 , L1633 , L102;
L1635: ( divset (R26 , ( ( indx (R26 , R25 , C157) ) + C164 )) ) = [. ( lower_bound ( divset (R26 , ( ( indx (R26 , R25 , C157) ) + 1 )) ) ) , ( upper_bound ( divset (R26 , ( ( indx (R26 , R25 , C157) ) + 1 )) ) ) .] by L1628 , L11
.= [. ( R26 . ( ( ( indx (R26 , R25 , C157) ) + 1 ) - 1 ) ) , ( upper_bound ( divset (R26 , ( ( indx (R26 , R25 , C157) ) + 1 )) ) ) .] by L1604 , L1632 , L102
.= [. ( R26 . ( indx (R26 , R25 , C157) ) ) , ( R26 . ( ( indx (R26 , R25 , C157) ) + 1 ) ) .] by L1604 , L1632 , L102
.= [. ( R25 . C157 ) , ( R26 . ( ( indx (R26 , R25 , C157) ) + 1 ) ) .] by L1324 , L1565 , L723;
thus L1636: ( divset (D75 , C164) ) = ( divset (R26 , ( ( indx (R26 , R25 , C157) ) + C164 )) ) by L1635 , L1628 , L1634 , L1631 , L11;
L1637: ( divset (D75 , C164) ) = [. ( R25 . C157 ) , ( R26 . ( ( indx (R26 , R25 , C157) ) + 1 ) ) .] by L1628 , L1634 , L1631 , L11;
thus L1638: thesis by L1637 , L1620 , L1635 , L127;
end;
suppose L1639: C164 <> 1;

L1640: ( ( indx (R26 , R25 , C157) ) + C164 ) <> 1
proof
assume L1641: ( ( indx (R26 , R25 , C157) ) + C164 ) = 1;
L1642: ( indx (R26 , R25 , C157) ) = ( 1 - C164 ) by L1641;
L1643: ( C164 + 1 ) <= 1 by L1642 , L1590 , XREAL_1:19;
L1644: C164 <= ( 1 - 1 ) by L1643 , XREAL_1:19;
thus L1645: contradiction by L1644 , L1609 , NAT_1:3;
end;
L1646: ( divset (R26 , ( ( indx (R26 , R25 , C157) ) + C164 )) ) = [. ( lower_bound ( divset (R26 , ( ( indx (R26 , R25 , C157) ) + C164 )) ) ) , ( upper_bound ( divset (R26 , ( ( indx (R26 , R25 , C157) ) + C164 )) ) ) .] by L11
.= [. ( R26 . ( ( ( indx (R26 , R25 , C157) ) + C164 ) - 1 ) ) , ( upper_bound ( divset (R26 , ( ( indx (R26 , R25 , C157) ) + C164 )) ) ) .] by L1623 , L1640 , L102
.= [. ( R26 . ( ( ( indx (R26 , R25 , C157) ) + C164 ) - 1 ) ) , ( R26 . ( ( indx (R26 , R25 , C157) ) + C164 ) ) .] by L1623 , L1640 , L102;
L1647: C164 <= ( C164 + 1 ) by NAT_1:12;
L1648: ( C164 - 1 ) <= C164 by L1647 , XREAL_1:20;
L1649: ( C164 - 1 ) <= ( len D75 ) by L1648 , L1580 , L1618 , L1615 , XXREAL_0:2;
L1650: ( ( indx (R26 , R25 , C157) ) + 1 ) <= ( indx (R26 , R25 , ( C157 + 1 )) ) by L1567 , NAT_1:13;
L1651: C164 is non  trivial by L1609 , L1639 , NAT_2:def 1;
L1652: C164 >= ( 1 + 1 ) by L1651 , NAT_2:29;
L1653: 1 <= ( C164 - 1 ) by L1652 , XREAL_1:19;
consider C165 being Nat such that L1654: C164 = ( 1 + C165 ) by L1609 , NAT_1:10;
reconsider D76 = C165 as (Element of ( NAT )) by ORDINAL1:def 12;
L1655: ( ( D76 + ( ( indx (R26 , R25 , C157) ) + 1 ) ) -' 1 ) = ( ( ( indx (R26 , R25 , C157) ) + C164 ) - 1 ) by L1625 , L1654 , XREAL_1:233;
L1656: ( ( C164 + ( ( indx (R26 , R25 , C157) ) + 1 ) ) -' 1 ) = ( ( ( C164 + ( indx (R26 , R25 , C157) ) ) + 1 ) - 1 ) by NAT_1:11 , XREAL_1:233
.= ( ( indx (R26 , R25 , C157) ) + C164 );
L1657: ( lower_bound ( divset (D75 , C164) ) ) = ( D75 . ( C164 - 1 ) ) by L1620 , L1639 , L102
.= ( R26 . ( ( ( indx (R26 , R25 , C157) ) + C164 ) - 1 ) ) by L1560 , L1587 , L1602 , L1592 , L1650 , L1654 , L1655 , L1653 , L1649 , FINSEQ_6:118;
L1658: ( upper_bound ( divset (D75 , C164) ) ) = ( D75 . C164 ) by L1620 , L1639 , L102
.= ( R26 . ( ( indx (R26 , R25 , C157) ) + C164 ) ) by L1560 , L1587 , L1580 , L1602 , L1592 , L1609 , L1611 , L1618 , L1615 , L1650 , L1656 , FINSEQ_6:118;
thus L1659: ( divset (D75 , C164) ) = ( divset (R26 , ( ( indx (R26 , R25 , C157) ) + C164 )) ) by L1658 , L1657 , L1646 , L11;
L1660: ( divset (D75 , C164) ) = [. ( R26 . ( ( ( indx (R26 , R25 , C157) ) + C164 ) - 1 ) ) , ( R26 . ( ( indx (R26 , R25 , C157) ) + C164 ) ) .] by L1657 , L1658 , L11;
thus L1661: thesis by L1660 , L1620 , L1646 , L127;
end;
end;
thus L1663: thesis by L1627;
end;
L1664: ( D74 | ( divset (D75 , C164) ) ) = ( R27 | ( divset (R26 , ( ( indx (R26 , R25 , C157) ) + C164 )) ) ) by L1626 , FUNCT_1:51;
thus L1665: thesis by L1664 , L1620 , L1624 , L1626 , L171;
end;
L1666: ( ( C157 + 1 ) - 1 ) = C157;
L1667: ( lower_bound D72 ) = ( R25 . C157 ) by L1666 , L1524 , L1531 , L102;
L1668: ( R25 . ( C157 + 1 ) ) = ( upper_bound D72 ) by L1524 , L1531 , L102;
reconsider D77 = D71 as (Division of D72) by L1668 , L1524 , L1537 , L1565 , L1667 , L847 , SEQ_4:137;
L1669: ( D74 | ( divset (R25 , ( C157 + 1 )) ) ) is  bounded_below
proof
consider C166 being  real number such that L1670: (for B124 being set holds (B124 in ( R21 /\ ( dom R27 ) ) implies C166 <= ( R27 . B124 ))) by L1325 , RFUNCT_1:71;
L1671: (for B125 being set holds (B125 in ( ( divset (R25 , ( C157 + 1 )) ) /\ ( dom D74 ) ) implies C166 <= ( D74 . B125 )))
proof
let C167 being set;
L1672: ( dom D74 ) c= ( dom R27 ) by RELAT_1:60;
assume L1673: C167 in ( ( divset (R25 , ( C157 + 1 )) ) /\ ( dom D74 ) );
L1674: C167 in ( dom D74 ) by L1673 , XBOOLE_0:def 4;
L1675: ( R21 /\ ( dom R27 ) ) = ( dom R27 ) by XBOOLE_1:28;
reconsider D78 = C167 as (Element of R21) by L1675 , L1674 , L1672 , XBOOLE_0:def 4;
L1676: C166 <= ( R27 . D78 ) by L1670 , L1674 , L1675 , L1672;
thus L1677: thesis by L1676 , L1674 , FUNCT_1:47;
end;
thus L1678: thesis by L1671 , RFUNCT_1:71;
end;
L1679: ( len D77 ) = ( ( ( C157 + 1 ) -' ( C157 + 1 ) ) + 1 ) by L1526 , L1527 , FINSEQ_6:118;
L1680: ( len D77 ) = ( ( ( C157 + 1 ) - ( C157 + 1 ) ) + 1 ) by L1679 , XREAL_1:233;
L1681: (for B126 being Nat holds ((1 <= B126 & B126 <= ( len C159 )) implies ( C159 . B126 ) = ( ( lower_volume (D74 , D77) ) . B126 )))
proof
L1682: ( C157 + 1 ) in ( Seg ( len D67 ) ) by L1533 , FINSEQ_1:4;
L1683: ( C157 + 1 ) in ( dom D67 ) by L1682 , FINSEQ_1:def 3;
L1684: ( C157 + 1 ) in ( dom ( ( lower_volume (R27 , R25) ) | ( Seg ( C157 + 1 ) ) ) ) by L1683 , FINSEQ_1:def 15;
L1685: ( D67 . ( C157 + 1 ) ) = ( ( ( lower_volume (R27 , R25) ) | ( Seg ( C157 + 1 ) ) ) . ( C157 + 1 ) ) by FINSEQ_1:def 15
.= ( ( lower_volume (R27 , R25) ) . ( C157 + 1 ) ) by L1684 , FUNCT_1:47;
L1686: ( D77 . 1 ) = ( R25 . ( C157 + 1 ) ) by L1526 , L1527 , FINSEQ_6:118;
L1687: 1 in ( Seg 1 ) by FINSEQ_1:3;
L1688: 1 in ( dom D77 ) by L1687 , L1680 , FINSEQ_1:def 3;
L1689: ( upper_bound ( divset (D77 , 1) ) ) = ( D77 . 1 ) by L1688 , L102;
let C168 being Nat;
assume that
L1690: 1 <= C168
and
L1691: C168 <= ( len C159 );
L1692: C168 = 1 by L1535 , L1690 , L1691 , XXREAL_0:1;
L1693: ( lower_bound ( divset (D77 , 1) ) ) = ( lower_bound D72 ) by L1688 , L102;
L1694: ( divset (D77 , 1) ) = [. ( lower_bound D72 ) , ( R25 . ( C157 + 1 ) ) .] by L1693 , L1689 , L1686 , L11;
L1695: ( ( C157 + 1 ) - 1 ) = C157;
L1696: ( lower_bound D72 ) = ( R25 . C157 ) by L1695 , L1524 , L1531 , L102;
L1697: ( upper_bound D72 ) = ( R25 . ( C157 + 1 ) ) by L1524 , L1531 , L102;
L1698: ( divset (R25 , ( C157 + 1 )) ) = [. ( R25 . C157 ) , ( R25 . ( C157 + 1 ) ) .] by L1697 , L1696 , L11;
L1699: C168 in ( Seg ( len C159 ) ) by L1690 , L1691 , FINSEQ_1:1;
L1700: C168 in ( dom D77 ) by L1699 , L1535 , L1680 , FINSEQ_1:def 3;
L1701: ( ( lower_volume (D74 , D77) ) . C168 ) = ( ( lower_bound ( rng ( D74 | ( divset (R25 , ( C157 + 1 )) ) ) ) ) * ( vol ( divset (R25 , ( C157 + 1 )) ) ) ) by L1700 , L1692 , L1694 , L1696 , L1698 , L171;
L1702: C168 in ( dom C159 ) by L1699 , FINSEQ_1:def 3;
L1703: ( C159 . C168 ) = ( ( lower_volume (R27 , R25) ) . ( C157 + 1 ) ) by L1702 , L1534 , L1536 , L1692 , L1685 , FINSEQ_1:def 7
.= ( ( lower_bound ( rng ( R27 | ( divset (R25 , ( C157 + 1 )) ) ) ) ) * ( vol ( divset (R25 , ( C157 + 1 )) ) ) ) by L1524 , L171;
thus L1704: thesis by L1703 , L1701;
end;
L1705: ( len C159 ) = ( len ( lower_volume (D74 , D77) ) ) by L1535 , L1680 , L171;
L1706: C159 = ( lower_volume (D74 , D77) ) by L1705 , L1681 , FINSEQ_1:14;
L1707: ( len D77 ) = ( ( ( C157 + 1 ) -' ( C157 + 1 ) ) + 1 ) by L1526 , L1527 , FINSEQ_6:118;
L1708: ( len D77 ) = ( ( ( C157 + 1 ) - ( C157 + 1 ) ) + 1 ) by L1707 , XREAL_1:233;
L1709: ( lower_sum (D74 , D77) ) <= ( lower_sum (D74 , D75) ) by L1708 , L1669 , L1598 , L691;
L1710: ( len ( lower_volume (D74 , D75) ) ) = ( len ( mid (R26 , ( ( indx (R26 , R25 , C157) ) + 1 ) , ( indx (R26 , R25 , ( C157 + 1 )) )) ) ) by L171
.= ( ( indx (R26 , R25 , ( C157 + 1 )) ) - ( indx (R26 , R25 , C157) ) ) by L1560 , L1587 , L1601 , L1602 , L1592 , L1607 , FINSEQ_6:118;
thus L1711: thesis by L1710 , L1585 , L1706 , L1608 , L1709 , FINSEQ_1:14;
end;
set D79 = ( ( lower_volume (R27 , R26) ) | ( indx (R26 , R25 , C157) ) );
L1712: ( Sum D65 ) = ( ( Sum C162 ) + ( Sum C163 ) ) by L1586 , RVSUM_1:75;
L1713: ( indx (R26 , R25 , C157) ) <= ( len ( lower_volume (R27 , R26) ) ) by L1581 , L1589 , FINSEQ_1:1;
L1714: ( len C162 ) = ( len D79 ) by L1713 , L1584 , FINSEQ_1:59;
L1715: (for B127 being Nat holds ((1 <= B127 & B127 <= ( len C162 )) implies ( C162 . B127 ) = ( D79 . B127 )))
proof
let C169 being Nat;
assume that
L1716: 1 <= C169
and
L1717: C169 <= ( len C162 );
L1718: C169 in ( Seg ( len C162 ) ) by L1716 , L1717 , FINSEQ_1:1;
L1719: C169 in ( dom D79 ) by L1718 , L1714 , FINSEQ_1:def 3;
L1720: C169 in ( dom ( ( lower_volume (R27 , R26) ) | ( Seg ( indx (R26 , R25 , C157) ) ) ) ) by L1719 , FINSEQ_1:def 15;
L1721: ( dom D65 ) = ( Seg ( len D65 ) ) by FINSEQ_1:def 3
.= ( Seg ( indx (R26 , R25 , ( C157 + 1 )) ) ) by L1582 , FINSEQ_1:59;
L1722: ( Seg ( indx (R26 , R25 , C157) ) ) c= ( Seg ( indx (R26 , R25 , ( C157 + 1 )) ) ) by L1574 , FINSEQ_1:5;
L1723: ( dom D79 ) = ( Seg ( len D79 ) ) by FINSEQ_1:def 3
.= ( Seg ( indx (R26 , R25 , C157) ) ) by L1713 , FINSEQ_1:59;
L1724: C169 in ( dom D65 ) by L1723 , L1719 , L1722 , L1721;
L1725: C169 in ( dom ( ( lower_volume (R27 , R26) ) | ( Seg ( indx (R26 , R25 , ( C157 + 1 )) ) ) ) ) by L1724 , FINSEQ_1:def 15;
L1726: ( D65 . C169 ) = ( ( ( lower_volume (R27 , R26) ) | ( Seg ( indx (R26 , R25 , ( C157 + 1 )) ) ) ) . C169 ) by FINSEQ_1:def 15
.= ( ( lower_volume (R27 , R26) ) . C169 ) by L1725 , FUNCT_1:47;
L1727: ( D79 . C169 ) = ( ( ( lower_volume (R27 , R26) ) | ( Seg ( indx (R26 , R25 , C157) ) ) ) . C169 ) by FINSEQ_1:def 15
.= ( ( lower_volume (R27 , R26) ) . C169 ) by L1720 , FUNCT_1:47;
L1728: C169 in ( dom C162 ) by L1718 , FINSEQ_1:def 3;
thus L1729: thesis by L1728 , L1586 , L1727 , L1726 , FINSEQ_1:def 7;
end;
L1730: C162 = D79 by L1715 , L1714 , FINSEQ_1:14;
L1731: ( Sum D67 ) = ( ( Sum C158 ) + ( Sum C159 ) ) by L1536 , RVSUM_1:75;
L1732: ( Sum C159 ) = ( ( Sum D67 ) - ( Sum C158 ) ) by L1731;
L1733: ( Sum D67 ) <= ( ( Sum C163 ) + ( Sum C158 ) ) by L1732 , L1591 , XREAL_1:20;
L1734: ( ( Sum D67 ) - ( Sum C163 ) ) <= ( Sum C158 ) by L1733 , XREAL_1:20;
L1735: ( ( Sum D67 ) - ( Sum C163 ) ) <= ( Sum C162 ) by L1734 , L1523 , L1564 , L1557 , L1730 , FINSEQ_1:def 3 , XXREAL_0:2;
thus L1736: thesis by L1735 , L1712 , XREAL_1:20;
end;
end;
thus L1738: thesis by L1528;
end;
thus L1739: (for B128 being non  empty Nat holds S5[ B128 ]) from NAT_1:sch 10(L1327 , L1522);
end;
thus L1740: thesis by L1326;
end;
theorem
L1741: (for R10 being (Element of ( NAT )) holds (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R25 being (Division of R21) holds (for R26 being (Division of R21) holds (for R27 being (Function of R21 , ( REAL )) holds ((R25 <= R26 & R10 in ( dom R25 ) & ( R27 | R21 ) is  bounded_above) implies ( ( PartSums ( upper_volume (R27 , R25) ) ) . R10 ) >= ( ( PartSums ( upper_volume (R27 , R26) ) ) . ( indx (R26 , R25 , R10) ) )))))))
proof
let R10 being (Element of ( NAT ));
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R25 being (Division of R21);
let R26 being (Division of R21);
let R27 being (Function of R21 , ( REAL ));
assume that
L1742: R25 <= R26
and
L1743: R10 in ( dom R25 )
and
L1744: ( R27 | R21 ) is  bounded_above;
L1745: ( len ( upper_volume (R27 , R26) ) ) = ( len R26 ) by L155;
L1746: R10 in ( Seg ( len R25 ) ) by L1743 , FINSEQ_1:def 3;
L1747: R10 in ( Seg ( len ( upper_volume (R27 , R25) ) ) ) by L1746 , L155;
L1748: R10 in ( dom ( upper_volume (R27 , R25) ) ) by L1747 , FINSEQ_1:def 3;
L1749: ( ( PartSums ( upper_volume (R27 , R25) ) ) . R10 ) = ( Sum ( ( upper_volume (R27 , R25) ) | R10 ) ) by L1748 , L881;
L1750: ( indx (R26 , R25 , R10) ) in ( dom R26 ) by L1742 , L1743 , L723;
L1751: ( indx (R26 , R25 , R10) ) in ( Seg ( len ( upper_volume (R27 , R26) ) ) ) by L1750 , L1745 , FINSEQ_1:def 3;
L1752: ( indx (R26 , R25 , R10) ) in ( dom ( upper_volume (R27 , R26) ) ) by L1751 , FINSEQ_1:def 3;
L1753: R10 in ( Seg ( len R25 ) ) by L1743 , FINSEQ_1:def 3;
L1754: R10 is non  empty non  empty non  empty non  empty (Element of ( NAT )) by L1753 , FINSEQ_1:1;
L1755: ( ( PartSums ( upper_volume (R27 , R25) ) ) . R10 ) >= ( Sum ( ( upper_volume (R27 , R26) ) | ( indx (R26 , R25 , R10) ) ) ) by L1754 , L1742 , L1743 , L1744 , L1749 , L899;
thus L1756: thesis by L1755 , L1752 , L881;
end;
theorem
L1757: (for R10 being (Element of ( NAT )) holds (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R25 being (Division of R21) holds (for R26 being (Division of R21) holds (for R27 being (Function of R21 , ( REAL )) holds ((R25 <= R26 & R10 in ( dom R25 ) & ( R27 | R21 ) is  bounded_below) implies ( ( PartSums ( lower_volume (R27 , R25) ) ) . R10 ) <= ( ( PartSums ( lower_volume (R27 , R26) ) ) . ( indx (R26 , R25 , R10) ) )))))))
proof
let R10 being (Element of ( NAT ));
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R25 being (Division of R21);
let R26 being (Division of R21);
let R27 being (Function of R21 , ( REAL ));
assume that
L1758: R25 <= R26
and
L1759: R10 in ( dom R25 )
and
L1760: ( R27 | R21 ) is  bounded_below;
L1761: ( len ( lower_volume (R27 , R26) ) ) = ( len R26 ) by L171;
L1762: R10 in ( Seg ( len R25 ) ) by L1759 , FINSEQ_1:def 3;
L1763: R10 in ( Seg ( len ( lower_volume (R27 , R25) ) ) ) by L1762 , L171;
L1764: R10 in ( dom ( lower_volume (R27 , R25) ) ) by L1763 , FINSEQ_1:def 3;
L1765: ( ( PartSums ( lower_volume (R27 , R25) ) ) . R10 ) = ( Sum ( ( lower_volume (R27 , R25) ) | R10 ) ) by L1764 , L881;
L1766: ( indx (R26 , R25 , R10) ) in ( dom R26 ) by L1758 , L1759 , L723;
L1767: ( indx (R26 , R25 , R10) ) in ( Seg ( len ( lower_volume (R27 , R26) ) ) ) by L1766 , L1761 , FINSEQ_1:def 3;
L1768: ( indx (R26 , R25 , R10) ) in ( dom ( lower_volume (R27 , R26) ) ) by L1767 , FINSEQ_1:def 3;
L1769: R10 in ( Seg ( len R25 ) ) by L1759 , FINSEQ_1:def 3;
L1770: R10 is non  empty non  empty non  empty non  empty (Element of ( NAT )) by L1769 , FINSEQ_1:1;
L1771: ( ( PartSums ( lower_volume (R27 , R25) ) ) . R10 ) <= ( Sum ( ( lower_volume (R27 , R26) ) | ( indx (R26 , R25 , R10) ) ) ) by L1770 , L1758 , L1759 , L1760 , L1765 , L1323;
thus L1772: thesis by L1771 , L1768 , L881;
end;
theorem
L1773: (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R24 being (Division of R21) holds (for R27 being (Function of R21 , ( REAL )) holds ( ( PartSums ( upper_volume (R27 , R24) ) ) . ( len R24 ) ) = ( upper_sum (R27 , R24) ))))
proof
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R24 being (Division of R21);
let R27 being (Function of R21 , ( REAL ));
L1774: ( len ( upper_volume (R27 , R24) ) ) = ( len R24 ) by L155;
L1775: ( len R24 ) in ( Seg ( len ( upper_volume (R27 , R24) ) ) ) by L1774 , FINSEQ_1:3;
L1776: ( len R24 ) in ( dom ( upper_volume (R27 , R24) ) ) by L1775 , FINSEQ_1:def 3;
L1777: ( ( PartSums ( upper_volume (R27 , R24) ) ) . ( len R24 ) ) = ( Sum ( ( upper_volume (R27 , R24) ) | ( len R24 ) ) ) by L1776 , L881;
L1778: ( dom ( upper_volume (R27 , R24) ) ) = ( Seg ( len ( upper_volume (R27 , R24) ) ) ) by FINSEQ_1:def 3;
L1779: ( dom ( upper_volume (R27 , R24) ) ) = ( Seg ( len R24 ) ) by L1778 , L155;
L1780: ( ( upper_volume (R27 , R24) ) | ( Seg ( len R24 ) ) ) = ( upper_volume (R27 , R24) ) by L1779 , RELAT_1:68;
thus L1781: thesis by L1780 , L1777 , FINSEQ_1:def 15;
end;
theorem
L1782: (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R24 being (Division of R21) holds (for R27 being (Function of R21 , ( REAL )) holds ( ( PartSums ( lower_volume (R27 , R24) ) ) . ( len R24 ) ) = ( lower_sum (R27 , R24) ))))
proof
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R24 being (Division of R21);
let R27 being (Function of R21 , ( REAL ));
L1783: ( len ( lower_volume (R27 , R24) ) ) = ( len R24 ) by L171;
L1784: ( len R24 ) in ( Seg ( len ( lower_volume (R27 , R24) ) ) ) by L1783 , FINSEQ_1:3;
L1785: ( len R24 ) in ( dom ( lower_volume (R27 , R24) ) ) by L1784 , FINSEQ_1:def 3;
L1786: ( ( PartSums ( lower_volume (R27 , R24) ) ) . ( len R24 ) ) = ( Sum ( ( lower_volume (R27 , R24) ) | ( len R24 ) ) ) by L1785 , L881;
L1787: ( dom ( lower_volume (R27 , R24) ) ) = ( Seg ( len ( lower_volume (R27 , R24) ) ) ) by FINSEQ_1:def 3;
L1788: ( dom ( lower_volume (R27 , R24) ) ) = ( Seg ( len R24 ) ) by L1787 , L171;
L1789: ( ( lower_volume (R27 , R24) ) | ( Seg ( len R24 ) ) ) = ( lower_volume (R27 , R24) ) by L1788 , RELAT_1:68;
thus L1790: thesis by L1789 , L1786 , FINSEQ_1:def 15;
end;
theorem
L1791: (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R25 being (Division of R21) holds (for R26 being (Division of R21) holds (R25 <= R26 implies ( indx (R26 , R25 , ( len R25 )) ) = ( len R26 )))))
proof
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R25 being (Division of R21);
let R26 being (Division of R21);
L1792: ( len R25 ) in ( Seg ( len R25 ) ) by FINSEQ_1:3;
L1793: ( len R25 ) in ( dom R25 ) by L1792 , FINSEQ_1:def 3;
assume L1794: R25 <= R26;
L1795: ( R25 . ( len R25 ) ) = ( R26 . ( indx (R26 , R25 , ( len R25 )) ) ) by L1794 , L1793 , L723;
L1796: ( R26 . ( indx (R26 , R25 , ( len R25 )) ) ) = ( upper_bound R21 ) by L1795 , L39;
L1797: ( len R26 ) in ( Seg ( len R26 ) ) by FINSEQ_1:3;
L1798: ( len R26 ) in ( dom R26 ) by L1797 , FINSEQ_1:def 3;
assume L1799: ( indx (R26 , R25 , ( len R25 )) ) <> ( len R26 );
L1800: ( indx (R26 , R25 , ( len R25 )) ) in ( dom R26 ) by L1794 , L1793 , L723;
L1801: ( indx (R26 , R25 , ( len R25 )) ) in ( Seg ( len R26 ) ) by L1800 , FINSEQ_1:def 3;
L1802: ( indx (R26 , R25 , ( len R25 )) ) <= ( len R26 ) by L1801 , FINSEQ_1:1;
L1803: ( indx (R26 , R25 , ( len R25 )) ) < ( len R26 ) by L1802 , L1799 , XXREAL_0:1;
L1804: ( R26 . ( indx (R26 , R25 , ( len R25 )) ) ) < ( R26 . ( len R26 ) ) by L1803 , L1798 , L1800 , SEQM_3:def 1;
thus L1805: contradiction by L1804 , L1796 , L39;
end;
theorem
L1806: (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R25 being (Division of R21) holds (for R26 being (Division of R21) holds (for R27 being (Function of R21 , ( REAL )) holds ((R25 <= R26 & ( R27 | R21 ) is  bounded_above) implies ( upper_sum (R27 , R26) ) <= ( upper_sum (R27 , R25) ))))))
proof
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R25 being (Division of R21);
let R26 being (Division of R21);
let R27 being (Function of R21 , ( REAL ));
assume that
L1807: R25 <= R26
and
L1808: ( R27 | R21 ) is  bounded_above;
L1809: ( len R25 ) in ( Seg ( len R25 ) ) by FINSEQ_1:3;
L1810: ( len R25 ) in ( dom R25 ) by L1809 , FINSEQ_1:def 3;
L1811: ( ( PartSums ( upper_volume (R27 , R25) ) ) . ( len R25 ) ) >= ( ( PartSums ( upper_volume (R27 , R26) ) ) . ( indx (R26 , R25 , ( len R25 )) ) ) by L1810 , L1807 , L1808 , L1741;
L1812: ( upper_sum (R27 , R25) ) >= ( ( PartSums ( upper_volume (R27 , R26) ) ) . ( indx (R26 , R25 , ( len R25 )) ) ) by L1811 , L1773;
L1813: ( upper_sum (R27 , R25) ) >= ( ( PartSums ( upper_volume (R27 , R26) ) ) . ( len R26 ) ) by L1812 , L1807 , L1791;
thus L1814: thesis by L1813 , L1773;
end;
theorem
L1815: (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R25 being (Division of R21) holds (for R26 being (Division of R21) holds (for R27 being (Function of R21 , ( REAL )) holds ((R25 <= R26 & ( R27 | R21 ) is  bounded_below) implies ( lower_sum (R27 , R26) ) >= ( lower_sum (R27 , R25) ))))))
proof
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R25 being (Division of R21);
let R26 being (Division of R21);
let R27 being (Function of R21 , ( REAL ));
assume that
L1816: R25 <= R26
and
L1817: ( R27 | R21 ) is  bounded_below;
L1818: ( len R25 ) in ( Seg ( len R25 ) ) by FINSEQ_1:3;
L1819: ( len R25 ) in ( dom R25 ) by L1818 , FINSEQ_1:def 3;
L1820: ( ( PartSums ( lower_volume (R27 , R25) ) ) . ( len R25 ) ) <= ( ( PartSums ( lower_volume (R27 , R26) ) ) . ( indx (R26 , R25 , ( len R25 )) ) ) by L1819 , L1816 , L1817 , L1757;
L1821: ( lower_sum (R27 , R25) ) <= ( ( PartSums ( lower_volume (R27 , R26) ) ) . ( indx (R26 , R25 , ( len R25 )) ) ) by L1820 , L1782;
L1822: ( lower_sum (R27 , R25) ) <= ( ( PartSums ( lower_volume (R27 , R26) ) ) . ( len R26 ) ) by L1821 , L1816 , L1791;
thus L1823: thesis by L1822 , L1782;
end;
theorem
L1824: (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R25 being (Division of R21) holds (for R26 being (Division of R21) holds (ex B129 being (Division of R21) st (R25 <= B129 & R26 <= B129)))))
proof
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R25 being (Division of R21);
let R26 being (Division of R21);
consider C170 being (FinSequence of ( REAL )) such that L1825: ( rng C170 ) = ( rng ( R25 ^ R26 ) ) and L1826: ( len C170 ) = ( card ( rng ( R25 ^ R26 ) ) ) and L1827: C170 is  increasing by SEQ_4:140;
reconsider D80 = C170 as non  empty  increasing (FinSequence of ( REAL )) by L1825 , L1827;
L1828: ( rng R26 ) c= R21 by L39;
L1829: ( rng R25 ) c= R21 by L39;
L1830: ( ( rng R25 ) \/ ( rng R26 ) ) c= R21 by L1829 , L1828 , XBOOLE_1:8;
L1831: ( rng D80 ) c= R21 by L1830 , L1825 , FINSEQ_1:31;
L1832: ( D80 . ( len D80 ) ) = ( upper_bound R21 )
proof
assume L1833: ( D80 . ( len D80 ) ) <> ( upper_bound R21 );
L1834:
now
per cases  by L1833 , XXREAL_0:1;
suppose L1835: ( D80 . ( len D80 ) ) > ( upper_bound R21 );

L1836: ( len D80 ) in ( Seg ( len D80 ) ) by FINSEQ_1:3;
L1837: ( len D80 ) in ( dom D80 ) by L1836 , FINSEQ_1:def 3;
L1838: ( D80 . ( len D80 ) ) in ( rng D80 ) by L1837 , FUNCT_1:def 3;
L1839: ( D80 . ( len D80 ) ) in R21 by L1838 , L1831;
L1840: ( D80 . ( len D80 ) ) in [. ( lower_bound R21 ) , ( upper_bound R21 ) .] by L1839 , L11;
L1841: ( D80 . ( len D80 ) ) in { R23 where R23 is Real : (( lower_bound R21 ) <= R23 & R23 <= ( upper_bound R21 )) } by L1840 , RCOMP_1:def 1;
L1842: (ex R1 being Real st (R1 = ( D80 . ( len D80 ) ) & ( lower_bound R21 ) <= R1 & R1 <= ( upper_bound R21 ))) by L1841;
thus L1843: contradiction by L1842 , L1835;
end;
suppose L1844: ( D80 . ( len D80 ) ) < ( upper_bound R21 );

L1845: ( rng R25 ) c= ( rng ( R25 ^ R26 ) ) by FINSEQ_1:29;
L1846: ( len R25 ) in ( Seg ( len R25 ) ) by FINSEQ_1:3;
L1847: ( len R25 ) in ( dom R25 ) by L1846 , FINSEQ_1:def 3;
L1848: ( len D80 ) in ( Seg ( len D80 ) ) by FINSEQ_1:3;
L1849: ( len D80 ) in ( dom D80 ) by L1848 , FINSEQ_1:def 3;
L1850: ( R25 . ( len R25 ) ) = ( upper_bound R21 ) by L39;
L1851: ( upper_bound R21 ) in ( rng R25 ) by L1850 , L1847 , FUNCT_1:def 3;
consider C171 being Nat such that L1852: C171 in ( dom D80 ) and L1853: ( D80 . C171 ) = ( upper_bound R21 ) by L1851 , L1825 , L1845 , FINSEQ_2:10;
L1854: C171 in ( Seg ( len D80 ) ) by L1852 , FINSEQ_1:def 3;
L1855: C171 <= ( len D80 ) by L1854 , FINSEQ_1:1;
thus L1856: contradiction by L1855 , L1844 , L1849 , L1852 , L1853 , SEQ_4:137;
end;
end;
thus L1858: thesis by L1834;
end;
reconsider D81 = D80 as (Division of R21) by L1832 , L1831 , L39;
L1859: ( len R26 ) = ( card ( rng R26 ) ) by FINSEQ_4:62;
L1860: ( len R26 ) <= ( len D81 ) by L1859 , L1826 , FINSEQ_1:30 , NAT_1:43;
take D81;
L1861: ( rng R25 ) c= ( rng ( R25 ^ R26 ) ) by FINSEQ_1:29;
L1862: ( rng R26 ) c= ( rng ( R25 ^ R26 ) ) by FINSEQ_1:30;
L1863: ( len R25 ) = ( card ( rng R25 ) ) by FINSEQ_4:62;
L1864: ( len R25 ) <= ( len D81 ) by L1863 , L1826 , FINSEQ_1:29 , NAT_1:43;
thus L1865: thesis by L1864 , L1825 , L1861 , L1862 , L1860 , L663;
end;
theorem
L1866: (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R25 being (Division of R21) holds (for R26 being (Division of R21) holds (for R27 being (Function of R21 , ( REAL )) holds (( R27 | R21 ) is  bounded implies ( lower_sum (R27 , R25) ) <= ( upper_sum (R27 , R26) ))))))
proof
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R25 being (Division of R21);
let R26 being (Division of R21);
let R27 being (Function of R21 , ( REAL ));
consider R24 being (Division of R21) such that L1867: R25 <= R24 and L1868: R26 <= R24 by L1824;
assume L1869: ( R27 | R21 ) is  bounded;
L1870: ( lower_sum (R27 , R24) ) <= ( upper_sum (R27 , R24) ) by L1869 , L639;
L1871: ( upper_sum (R27 , R24) ) <= ( upper_sum (R27 , R26) ) by L1869 , L1868 , L1806;
L1872: ( lower_sum (R27 , R24) ) <= ( upper_sum (R27 , R26) ) by L1871 , L1870 , XXREAL_0:2;
L1873: ( lower_sum (R27 , R25) ) <= ( lower_sum (R27 , R24) ) by L1869 , L1867 , L1815;
thus L1874: thesis by L1873 , L1872 , XXREAL_0:2;
end;
begin
theorem
L1875: (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R27 being (Function of R21 , ( REAL )) holds (( R27 | R21 ) is  bounded implies ( upper_integral R27 ) >= ( lower_integral R27 ))))
proof
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R27 being (Function of R21 , ( REAL ));
assume L1876: ( R27 | R21 ) is  bounded;
L1877: (for B130 being  real number holds (B130 in ( rng ( upper_sum_set R27 ) ) implies ( lower_integral R27 ) <= B130))
proof
let C172 being  real number;
assume L1878: C172 in ( rng ( upper_sum_set R27 ) );
consider C173 being (Element of ( divs R21 )) such that L1879: C173 in ( dom ( upper_sum_set R27 ) ) and L1880: C172 = ( ( upper_sum_set R27 ) . C173 ) by L1878 , PARTFUN1:3;
reconsider D82 = C173 as (Division of R21) by L57;
L1881: (for B131 being  real number holds (B131 in ( rng ( lower_sum_set R27 ) ) implies B131 <= ( upper_sum (R27 , D82) )))
proof
let C174 being  real number;
assume L1882: C174 in ( rng ( lower_sum_set R27 ) );
consider C175 being (Element of ( divs R21 )) such that L1883: C175 in ( dom ( lower_sum_set R27 ) ) and L1884: C174 = ( ( lower_sum_set R27 ) . C175 ) by L1882 , PARTFUN1:3;
reconsider D83 = C175 as (Division of R21) by L57;
L1885: C174 = ( lower_sum (R27 , D83) ) by L1884 , L198;
thus L1886: thesis by L1885 , L1876 , L1866;
end;
L1887: C172 = ( upper_sum (R27 , D82) ) by L1880 , L189;
thus L1888: thesis by L1887 , L1881 , SEQ_4:45;
end;
thus L1889: thesis by L1877 , SEQ_4:43;
end;
theorem
L1890: (for B132 , B133 being (Subset of ( REAL )) holds ( ( -- B132 ) ++ ( -- B133 ) ) = ( -- ( B132 ++ B133 ) ))
proof
let C176 , C177 being (Subset of ( REAL ));
L1891: (for B134 being set holds (B134 in ( -- ( C176 ++ C177 ) ) implies B134 in ( ( -- C176 ) ++ ( -- C177 ) )))
proof
let C178 being set;
assume L1892: C178 in ( -- ( C176 ++ C177 ) );
reconsider D84 = ( C176 ++ C177 ) as (Subset of ( REAL )) by MEMBERED:3;
L1893: C178 in ( -- D84 ) by L1892;
consider C179 being Real such that L1894: C179 in D84 and L1895: C178 = ( - C179 ) by L1893 , MEASURE6:72;
consider C180 , C181 being Real such that L1896: C180 in C176 and L1897: C181 in C177 and L1898: C179 = ( C180 + C181 ) by L1894 , MEASURE6:21;
L1899: ( - C180 ) in ( -- C176 ) by L1896 , MEMBER_1:11;
L1900: ( - C181 ) in ( -- C177 ) by L1897 , MEMBER_1:11;
L1901: C178 = ( ( - C180 ) + ( - C181 ) ) by L1895 , L1898;
thus L1902: thesis by L1901 , L1899 , L1900 , MEMBER_1:46;
end;
L1903: ( -- ( C176 ++ C177 ) ) c= ( ( -- C176 ) ++ ( -- C177 ) ) by L1891 , TARSKI:def 3;
L1904: (for B135 being set holds (B135 in ( ( -- C176 ) ++ ( -- C177 ) ) implies B135 in ( -- ( C176 ++ C177 ) )))
proof
let C182 being set;
assume L1905: C182 in ( ( -- C176 ) ++ ( -- C177 ) );
L1906: ( ( -- C176 ) ++ ( -- C177 ) ) c= ( REAL ) by MEMBERED:3;
consider C183 , C184 being Real such that L1907: C183 in ( -- C176 ) and L1908: C184 in ( -- C177 ) and L1909: C182 = ( C183 + C184 ) by L1906 , L1905 , MEASURE6:21;
consider C185 being Real such that L1910: C185 in C177 and L1911: C184 = ( - C185 ) by L1908 , MEASURE6:72;
reconsider D85 = C176 as (Subset of ( REAL ));
consider C186 being Real such that L1912: C186 in D85 and L1913: C183 = ( - C186 ) by L1907 , MEASURE6:72;
L1914: ( C186 + C185 ) in ( D85 ++ C177 ) by L1912 , L1910 , MEMBER_1:46;
L1915: C182 = ( - ( C186 + C185 ) ) by L1909 , L1913 , L1911;
thus L1916: thesis by L1915 , L1914 , MEMBER_1:11;
end;
L1917: ( ( -- C176 ) ++ ( -- C177 ) ) c= ( -- ( C176 ++ C177 ) ) by L1904 , TARSKI:def 3;
thus L1918: thesis by L1917 , L1903 , XBOOLE_0:def 10;
end;
theorem
L1919: (for B136 , B137 being (Subset of ( REAL )) holds ((B136 is  bounded_above & B137 is  bounded_above) implies ( B136 ++ B137 ) is  bounded_above))
proof
let C187 , C188 being (Subset of ( REAL ));
assume that
L1920: C187 is  bounded_above
and
L1921: C188 is  bounded_above;
L1922: ( -- C188 ) is  bounded_below by L1921 , MEASURE6:41;
L1923: ( -- C187 ) is  bounded_below by L1920 , MEASURE6:41;
L1924: ( ( -- C187 ) ++ ( -- C188 ) ) is  bounded_below by L1923 , L1922 , SEQ_4:124;
reconsider D86 = ( C187 ++ C188 ) as (Subset of ( REAL )) by MEMBERED:3;
L1925: ( -- D86 ) is  bounded_below by L1890 , L1924;
thus L1926: thesis by L1925 , MEASURE6:41;
end;
theorem
L1927: (for B138 , B139 being non  empty (Subset of ( REAL )) holds ((B138 is  bounded_above & B139 is  bounded_above) implies ( upper_bound ( B138 ++ B139 ) ) = ( ( upper_bound B138 ) + ( upper_bound B139 ) )))
proof
let C189 , C190 being non  empty (Subset of ( REAL ));
assume that
L1928: C189 is  bounded_above
and
L1929: C190 is  bounded_above;
L1930: ( -- C190 ) is  bounded_below by L1929 , MEASURE6:41;
L1931: ( -- C189 ) is  bounded_below by L1928 , MEASURE6:41;
L1932: ( lower_bound ( ( -- C189 ) ++ ( -- C190 ) ) ) = ( ( lower_bound ( -- C189 ) ) + ( lower_bound ( -- C190 ) ) ) by L1931 , L1930 , SEQ_4:125;
L1933: ( lower_bound ( ( -- C189 ) ++ ( -- C190 ) ) ) = ( ( - ( upper_bound ( -- ( -- C189 ) ) ) ) + ( lower_bound ( -- C190 ) ) ) by L1932 , L1931 , MEASURE6:43
.= ( ( - ( upper_bound C189 ) ) + ( - ( upper_bound ( -- ( -- C190 ) ) ) ) ) by L1930 , MEASURE6:43
.= ( - ( ( upper_bound C189 ) + ( upper_bound C190 ) ) );
L1934: ( ( -- C189 ) ++ ( -- C190 ) ) = ( -- ( C189 ++ C190 ) ) by L1890;
L1935: ( -- ( C189 ++ C190 ) ) is  bounded_below by L1934 , L1931 , L1930 , SEQ_4:124;
reconsider D87 = ( C189 ++ C190 ) as (Subset of ( REAL )) by MEMBERED:3;
L1936: ( - ( upper_bound ( -- ( -- D87 ) ) ) ) = ( - ( ( upper_bound C189 ) + ( upper_bound C190 ) ) ) by L1934 , L1933 , L1935 , MEASURE6:43;
L1937: ( upper_bound D87 ) = ( ( upper_bound C189 ) + ( upper_bound C190 ) ) by L1936;
thus L1938: thesis by L1937;
end;
theorem
L1939: (for R10 being (Element of ( NAT )) holds (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R24 being (Division of R21) holds (for R27 being (Function of R21 , ( REAL )) holds (for R28 being (Function of R21 , ( REAL )) holds ((R10 in ( dom R24 ) & ( R27 | R21 ) is  bounded_above & ( R28 | R21 ) is  bounded_above) implies ( ( upper_volume (( R27 + R28 ) , R24) ) . R10 ) <= ( ( ( upper_volume (R27 , R24) ) . R10 ) + ( ( upper_volume (R28 , R24) ) . R10 ) )))))))
proof
let R10 being (Element of ( NAT ));
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R24 being (Division of R21);
let R27 being (Function of R21 , ( REAL ));
let R28 being (Function of R21 , ( REAL ));
assume L1940: R10 in ( dom R24 );
L1941: ( dom ( R27 + R28 ) ) = ( R21 /\ R21 ) by FUNCT_2:def 1;
L1942: ( dom ( ( R27 + R28 ) | ( divset (R24 , R10) ) ) ) = ( divset (R24 , R10) ) by L1941 , L1940 , L127 , RELAT_1:62;
L1943: ( rng ( ( R27 + R28 ) | ( divset (R24 , R10) ) ) ) is non  empty by L1942 , RELAT_1:42;
L1944: ( ( R27 + R28 ) | ( divset (R24 , R10) ) ) = ( ( R27 | ( divset (R24 , R10) ) ) + ( R28 | ( divset (R24 , R10) ) ) ) by RFUNCT_1:44;
L1945: ( rng ( ( R27 + R28 ) | ( divset (R24 , R10) ) ) ) c= ( ( rng ( R27 | ( divset (R24 , R10) ) ) ) ++ ( rng ( R28 | ( divset (R24 , R10) ) ) ) ) by L1944 , L216;
assume L1946: ( R27 | R21 ) is  bounded_above;
L1947: ( rng R27 ) is  bounded_above by L1946 , L247;
L1948: ( rng ( R27 | ( divset (R24 , R10) ) ) ) is  bounded_above by L1947 , RELAT_1:70 , XXREAL_2:43;
L1949: ( dom R28 ) = R21 by FUNCT_2:def 1;
L1950: ( dom ( R28 | ( divset (R24 , R10) ) ) ) = ( divset (R24 , R10) ) by L1949 , L1940 , L127 , RELAT_1:62;
L1951: ( rng ( R28 | ( divset (R24 , R10) ) ) ) is non  empty by L1950 , RELAT_1:42;
L1952: ( 0 ) <= ( vol ( divset (R24 , R10) ) ) by SEQ_4:11 , XREAL_1:48;
assume L1953: ( R28 | R21 ) is  bounded_above;
L1954: ( rng R28 ) is  bounded_above by L1953 , L247;
L1955: ( rng ( R28 | ( divset (R24 , R10) ) ) ) is  bounded_above by L1954 , RELAT_1:70 , XXREAL_2:43;
L1956: ( ( rng ( R27 | ( divset (R24 , R10) ) ) ) ++ ( rng ( R28 | ( divset (R24 , R10) ) ) ) ) is  bounded_above by L1955 , L1948 , L1919;
L1957: ( dom R27 ) = R21 by FUNCT_2:def 1;
L1958: ( dom ( R27 | ( divset (R24 , R10) ) ) ) = ( divset (R24 , R10) ) by L1957 , L1940 , L127 , RELAT_1:62;
L1959: ( rng ( R27 | ( divset (R24 , R10) ) ) ) is non  empty by L1958 , RELAT_1:42;
L1960: ( upper_bound ( ( rng ( R27 | ( divset (R24 , R10) ) ) ) ++ ( rng ( R28 | ( divset (R24 , R10) ) ) ) ) ) = ( ( upper_bound ( rng ( R27 | ( divset (R24 , R10) ) ) ) ) + ( upper_bound ( rng ( R28 | ( divset (R24 , R10) ) ) ) ) ) by L1959 , L1948 , L1955 , L1951 , L1927;
L1961: ( ( upper_bound ( rng ( ( R27 + R28 ) | ( divset (R24 , R10) ) ) ) ) * ( vol ( divset (R24 , R10) ) ) ) <= ( ( ( upper_bound ( rng ( R27 | ( divset (R24 , R10) ) ) ) ) + ( upper_bound ( rng ( R28 | ( divset (R24 , R10) ) ) ) ) ) * ( vol ( divset (R24 , R10) ) ) ) by L1960 , L1956 , L1943 , L1952 , L1945 , SEQ_4:48 , XREAL_1:64;
L1962: ( ( upper_volume (( R27 + R28 ) , R24) ) . R10 ) <= ( ( ( upper_bound ( rng ( R27 | ( divset (R24 , R10) ) ) ) ) * ( vol ( divset (R24 , R10) ) ) ) + ( ( upper_bound ( rng ( R28 | ( divset (R24 , R10) ) ) ) ) * ( vol ( divset (R24 , R10) ) ) ) ) by L1961 , L1940 , L155;
L1963: ( ( upper_volume (( R27 + R28 ) , R24) ) . R10 ) <= ( ( ( upper_volume (R27 , R24) ) . R10 ) + ( ( upper_bound ( rng ( R28 | ( divset (R24 , R10) ) ) ) ) * ( vol ( divset (R24 , R10) ) ) ) ) by L1962 , L1940 , L155;
thus L1964: thesis by L1963 , L1940 , L155;
end;
theorem
L1965: (for R10 being (Element of ( NAT )) holds (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R24 being (Division of R21) holds (for R27 being (Function of R21 , ( REAL )) holds (for R28 being (Function of R21 , ( REAL )) holds ((R10 in ( dom R24 ) & ( R27 | R21 ) is  bounded_below & ( R28 | R21 ) is  bounded_below) implies ( ( ( lower_volume (R27 , R24) ) . R10 ) + ( ( lower_volume (R28 , R24) ) . R10 ) ) <= ( ( lower_volume (( R27 + R28 ) , R24) ) . R10 )))))))
proof
let R10 being (Element of ( NAT ));
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R24 being (Division of R21);
let R27 being (Function of R21 , ( REAL ));
let R28 being (Function of R21 , ( REAL ));
assume that
L1966: R10 in ( dom R24 )
and
L1967: ( R27 | R21 ) is  bounded_below
and
L1968: ( R28 | R21 ) is  bounded_below;
L1969: ( 0 ) <= ( vol ( divset (R24 , R10) ) ) by SEQ_4:11 , XREAL_1:48;
L1970: ( dom ( R27 + R28 ) ) = ( R21 /\ R21 ) by FUNCT_2:def 1;
L1971: ( dom ( ( R27 + R28 ) | ( divset (R24 , R10) ) ) ) = ( divset (R24 , R10) ) by L1970 , L1966 , L127 , RELAT_1:62;
L1972: ( rng ( ( R27 + R28 ) | ( divset (R24 , R10) ) ) ) is non  empty by L1971 , RELAT_1:42;
L1973: ( rng R28 ) is  bounded_below by L1968 , L229;
L1974: ( rng ( R28 | ( divset (R24 , R10) ) ) ) is  bounded_below by L1973 , RELAT_1:70 , XXREAL_2:44;
L1975: ( dom R28 ) = R21 by FUNCT_2:def 1;
L1976: ( dom ( R28 | ( divset (R24 , R10) ) ) ) = ( divset (R24 , R10) ) by L1975 , L1966 , L127 , RELAT_1:62;
L1977: ( rng ( R28 | ( divset (R24 , R10) ) ) ) is non  empty by L1976 , RELAT_1:42;
L1978: ( ( R27 + R28 ) | ( divset (R24 , R10) ) ) = ( ( R27 | ( divset (R24 , R10) ) ) + ( R28 | ( divset (R24 , R10) ) ) ) by RFUNCT_1:44;
L1979: ( rng ( ( R27 + R28 ) | ( divset (R24 , R10) ) ) ) c= ( ( rng ( R27 | ( divset (R24 , R10) ) ) ) ++ ( rng ( R28 | ( divset (R24 , R10) ) ) ) ) by L1978 , L216;
L1980: ( rng R27 ) is  bounded_below by L1967 , L229;
L1981: ( rng ( R27 | ( divset (R24 , R10) ) ) ) is  bounded_below by L1980 , RELAT_1:70 , XXREAL_2:44;
L1982: ( ( rng ( R27 | ( divset (R24 , R10) ) ) ) ++ ( rng ( R28 | ( divset (R24 , R10) ) ) ) ) is  bounded_below by L1981 , L1974 , SEQ_4:124;
L1983: ( dom R27 ) = R21 by FUNCT_2:def 1;
L1984: ( dom ( R27 | ( divset (R24 , R10) ) ) ) = ( divset (R24 , R10) ) by L1983 , L1966 , L127 , RELAT_1:62;
L1985: ( rng ( R27 | ( divset (R24 , R10) ) ) ) is non  empty by L1984 , RELAT_1:42;
L1986: ( lower_bound ( ( rng ( R27 | ( divset (R24 , R10) ) ) ) ++ ( rng ( R28 | ( divset (R24 , R10) ) ) ) ) ) = ( ( lower_bound ( rng ( R27 | ( divset (R24 , R10) ) ) ) ) + ( lower_bound ( rng ( R28 | ( divset (R24 , R10) ) ) ) ) ) by L1985 , L1981 , L1974 , L1977 , SEQ_4:125;
L1987: ( ( lower_bound ( rng ( ( R27 + R28 ) | ( divset (R24 , R10) ) ) ) ) * ( vol ( divset (R24 , R10) ) ) ) >= ( ( ( lower_bound ( rng ( R27 | ( divset (R24 , R10) ) ) ) ) + ( lower_bound ( rng ( R28 | ( divset (R24 , R10) ) ) ) ) ) * ( vol ( divset (R24 , R10) ) ) ) by L1986 , L1982 , L1972 , L1969 , L1979 , SEQ_4:47 , XREAL_1:64;
L1988: ( ( lower_volume (( R27 + R28 ) , R24) ) . R10 ) >= ( ( ( lower_bound ( rng ( R27 | ( divset (R24 , R10) ) ) ) ) * ( vol ( divset (R24 , R10) ) ) ) + ( ( lower_bound ( rng ( R28 | ( divset (R24 , R10) ) ) ) ) * ( vol ( divset (R24 , R10) ) ) ) ) by L1987 , L1966 , L171;
L1989: ( ( lower_volume (( R27 + R28 ) , R24) ) . R10 ) >= ( ( ( lower_volume (R27 , R24) ) . R10 ) + ( ( lower_bound ( rng ( R28 | ( divset (R24 , R10) ) ) ) ) * ( vol ( divset (R24 , R10) ) ) ) ) by L1988 , L1966 , L171;
thus L1990: thesis by L1989 , L1966 , L171;
end;
theorem
L1991: (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R24 being (Division of R21) holds (for R27 being (Function of R21 , ( REAL )) holds (for R28 being (Function of R21 , ( REAL )) holds ((( R27 | R21 ) is  bounded_above & ( R28 | R21 ) is  bounded_above) implies ( upper_sum (( R27 + R28 ) , R24) ) <= ( ( upper_sum (R27 , R24) ) + ( upper_sum (R28 , R24) ) ))))))
proof
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R24 being (Division of R21);
let R27 being (Function of R21 , ( REAL ));
let R28 being (Function of R21 , ( REAL ));
assume that
L1992: ( R27 | R21 ) is  bounded_above
and
L1993: ( R28 | R21 ) is  bounded_above;
set D88 = ( upper_volume (( R27 + R28 ) , R24) );
set D89 = ( upper_volume (R28 , R24) );
set D90 = ( upper_volume (R27 , R24) );
L1994: ( len D89 ) = ( len R24 ) by L155;
L1995: D89 is (Element of ( ( len R24 ) -tuples_on ( REAL ) )) by L1994 , FINSEQ_2:92;
L1996: ( len D90 ) = ( len R24 ) by L155;
L1997: D90 is (Element of ( ( len R24 ) -tuples_on ( REAL ) )) by L1996 , FINSEQ_2:92;
L1998: (for B140 being Nat holds (B140 in ( Seg ( len R24 ) ) implies ( D88 . B140 ) <= ( ( D90 + D89 ) . B140 )))
proof
let C191 being Nat;
assume L1999: C191 in ( Seg ( len R24 ) );
L2000: C191 in ( dom R24 ) by L1999 , FINSEQ_1:def 3;
L2001: ( ( upper_volume (( R27 + R28 ) , R24) ) . C191 ) <= ( ( ( upper_volume (R27 , R24) ) . C191 ) + ( ( upper_volume (R28 , R24) ) . C191 ) ) by L2000 , L1992 , L1993 , L1939;
thus L2002: thesis by L2001 , L1997 , L1995 , RVSUM_1:11;
end;
L2003: ( len D88 ) = ( len R24 ) by L155;
L2004: D88 is (Element of ( ( len R24 ) -tuples_on ( REAL ) )) by L2003 , FINSEQ_2:92;
L2005: ( D90 + D89 ) is (Element of ( ( len R24 ) -tuples_on ( REAL ) )) by L1997 , L1995 , FINSEQ_2:120;
L2006: ( Sum D88 ) <= ( Sum ( D90 + D89 ) ) by L2005 , L2004 , L1998 , RVSUM_1:82;
thus L2007: thesis by L2006 , L1997 , L1995 , RVSUM_1:89;
end;
theorem
L2008: (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R24 being (Division of R21) holds (for R27 being (Function of R21 , ( REAL )) holds (for R28 being (Function of R21 , ( REAL )) holds ((( R27 | R21 ) is  bounded_below & ( R28 | R21 ) is  bounded_below) implies ( ( lower_sum (R27 , R24) ) + ( lower_sum (R28 , R24) ) ) <= ( lower_sum (( R27 + R28 ) , R24) ))))))
proof
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R24 being (Division of R21);
let R27 being (Function of R21 , ( REAL ));
let R28 being (Function of R21 , ( REAL ));
assume that
L2009: ( R27 | R21 ) is  bounded_below
and
L2010: ( R28 | R21 ) is  bounded_below;
set D91 = ( lower_volume (( R27 + R28 ) , R24) );
set D92 = ( lower_volume (R28 , R24) );
set D93 = ( lower_volume (R27 , R24) );
L2011: ( len D92 ) = ( len R24 ) by L171;
L2012: D92 is (Element of ( ( len R24 ) -tuples_on ( REAL ) )) by L2011 , FINSEQ_2:92;
L2013: ( len D93 ) = ( len R24 ) by L171;
L2014: D93 is (Element of ( ( len R24 ) -tuples_on ( REAL ) )) by L2013 , FINSEQ_2:92;
L2015: (for B141 being Nat holds (B141 in ( Seg ( len R24 ) ) implies ( ( D93 + D92 ) . B141 ) <= ( D91 . B141 )))
proof
let C192 being Nat;
assume L2016: C192 in ( Seg ( len R24 ) );
L2017: C192 in ( dom R24 ) by L2016 , FINSEQ_1:def 3;
L2018: ( ( ( lower_volume (R27 , R24) ) . C192 ) + ( ( lower_volume (R28 , R24) ) . C192 ) ) <= ( ( lower_volume (( R27 + R28 ) , R24) ) . C192 ) by L2017 , L2009 , L2010 , L1965;
thus L2019: thesis by L2018 , L2014 , L2012 , RVSUM_1:11;
end;
L2020: ( len D91 ) = ( len R24 ) by L171;
L2021: D91 is (Element of ( ( len R24 ) -tuples_on ( REAL ) )) by L2020 , FINSEQ_2:92;
L2022: ( D93 + D92 ) is (Element of ( ( len R24 ) -tuples_on ( REAL ) )) by L2014 , L2012 , FINSEQ_2:120;
L2023: ( Sum ( D93 + D92 ) ) <= ( Sum D91 ) by L2022 , L2021 , L2015 , RVSUM_1:82;
thus L2024: thesis by L2023 , L2014 , L2012 , RVSUM_1:89;
end;
theorem
L2025: (for R21 being non  empty  closed_interval (Subset of ( REAL )) holds (for R27 being (Function of R21 , ( REAL )) holds (for R28 being (Function of R21 , ( REAL )) holds ((( R27 | R21 ) is  bounded & ( R28 | R21 ) is  bounded & R27 is  integrable & R28 is  integrable) implies (( R27 + R28 ) is  integrable & ( integral ( R27 + R28 ) ) = ( ( integral R27 ) + ( integral R28 ) ))))))
proof
let R21 being non  empty  closed_interval (Subset of ( REAL ));
let R27 being (Function of R21 , ( REAL ));
let R28 being (Function of R21 , ( REAL ));
assume that
L2026: ( R27 | R21 ) is  bounded
and
L2027: ( R28 | R21 ) is  bounded
and
L2028: R27 is  integrable
and
L2029: R28 is  integrable;
L2030: ( ( lower_integral R27 ) + ( lower_integral R28 ) ) = ( ( upper_integral R27 ) + ( lower_integral R28 ) ) by L2028 , L213
.= ( ( integral R27 ) + ( integral R28 ) ) by L2029 , L213;
L2031: ( ( R27 + R28 ) | ( R21 /\ R21 ) ) is  bounded by L2026 , L2027 , RFUNCT_1:83;
L2032: (for B142 being set holds (B142 in ( ( divs R21 ) /\ ( dom ( lower_sum_set ( R27 + R28 ) ) ) ) implies ( ( lower_sum_set ( R27 + R28 ) ) . B142 ) <= ( ( ( upper_bound ( rng R27 ) ) * ( vol R21 ) ) + ( ( upper_bound ( rng R28 ) ) * ( vol R21 ) ) )))
proof
let C193 being set;
assume L2033: C193 in ( ( divs R21 ) /\ ( dom ( lower_sum_set ( R27 + R28 ) ) ) );
reconsider D94 = C193 as (Division of R21) by L2033 , L57;
L2034: ( ( lower_sum_set ( R27 + R28 ) ) . D94 ) = ( lower_sum (( R27 + R28 ) , D94) ) by L198;
L2035: ( ( lower_sum_set ( R27 + R28 ) ) . D94 ) <= ( upper_sum (( R27 + R28 ) , D94) ) by L2034 , L2031 , L639;
L2036: ( upper_sum (R27 , D94) ) <= ( ( upper_bound ( rng R27 ) ) * ( vol R21 ) ) by L2026 , L598;
L2037: ( ( upper_sum (R27 , D94) ) + ( upper_sum (R28 , D94) ) ) <= ( ( ( upper_bound ( rng R27 ) ) * ( vol R21 ) ) + ( upper_sum (R28 , D94) ) ) by L2036 , XREAL_1:6;
L2038: ( upper_sum (R28 , D94) ) <= ( ( upper_bound ( rng R28 ) ) * ( vol R21 ) ) by L2027 , L598;
L2039: ( ( ( upper_bound ( rng R27 ) ) * ( vol R21 ) ) + ( upper_sum (R28 , D94) ) ) <= ( ( ( upper_bound ( rng R27 ) ) * ( vol R21 ) ) + ( ( upper_bound ( rng R28 ) ) * ( vol R21 ) ) ) by L2038 , XREAL_1:6;
L2040: ( upper_sum (( R27 + R28 ) , D94) ) <= ( ( upper_sum (R27 , D94) ) + ( upper_sum (R28 , D94) ) ) by L2026 , L2027 , L1991;
L2041: ( ( lower_sum_set ( R27 + R28 ) ) . D94 ) <= ( ( upper_sum (R27 , D94) ) + ( upper_sum (R28 , D94) ) ) by L2040 , L2035 , XXREAL_0:2;
L2042: ( ( lower_sum_set ( R27 + R28 ) ) . D94 ) <= ( ( ( upper_bound ( rng R27 ) ) * ( vol R21 ) ) + ( upper_sum (R28 , D94) ) ) by L2041 , L2037 , XXREAL_0:2;
thus L2043: thesis by L2042 , L2039 , XXREAL_0:2;
end;
L2044: ( ( lower_sum_set ( R27 + R28 ) ) | ( divs R21 ) ) is  bounded_above by L2032 , RFUNCT_1:70;
L2045: ( rng ( lower_sum_set ( R27 + R28 ) ) ) is  bounded_above by L2044 , L247;
L2046: ( R27 + R28 ) is  lower_integrable by L2045 , L209;
L2047: (for B143 being set holds (B143 in ( ( divs R21 ) /\ ( dom ( upper_sum_set ( R27 + R28 ) ) ) ) implies ( ( ( lower_bound ( rng R27 ) ) * ( vol R21 ) ) + ( ( lower_bound ( rng R28 ) ) * ( vol R21 ) ) ) <= ( ( upper_sum_set ( R27 + R28 ) ) . B143 )))
proof
let C194 being set;
assume L2048: C194 in ( ( divs R21 ) /\ ( dom ( upper_sum_set ( R27 + R28 ) ) ) );
reconsider D95 = C194 as (Division of R21) by L2048 , L57;
L2049: ( ( upper_sum_set ( R27 + R28 ) ) . D95 ) = ( upper_sum (( R27 + R28 ) , D95) ) by L189;
L2050: ( lower_sum (( R27 + R28 ) , D95) ) <= ( ( upper_sum_set ( R27 + R28 ) ) . D95 ) by L2049 , L2031 , L639;
L2051: ( ( lower_bound ( rng R27 ) ) * ( vol R21 ) ) <= ( lower_sum (R27 , D95) ) by L2026 , L549;
L2052: ( ( ( lower_bound ( rng R27 ) ) * ( vol R21 ) ) + ( lower_sum (R28 , D95) ) ) <= ( ( lower_sum (R27 , D95) ) + ( lower_sum (R28 , D95) ) ) by L2051 , XREAL_1:6;
L2053: ( ( lower_bound ( rng R28 ) ) * ( vol R21 ) ) <= ( lower_sum (R28 , D95) ) by L2027 , L549;
L2054: ( ( ( lower_bound ( rng R27 ) ) * ( vol R21 ) ) + ( ( lower_bound ( rng R28 ) ) * ( vol R21 ) ) ) <= ( ( ( lower_bound ( rng R27 ) ) * ( vol R21 ) ) + ( lower_sum (R28 , D95) ) ) by L2053 , XREAL_1:6;
L2055: ( ( lower_sum (R27 , D95) ) + ( lower_sum (R28 , D95) ) ) <= ( lower_sum (( R27 + R28 ) , D95) ) by L2026 , L2027 , L2008;
L2056: ( ( lower_sum (R27 , D95) ) + ( lower_sum (R28 , D95) ) ) <= ( ( upper_sum_set ( R27 + R28 ) ) . D95 ) by L2055 , L2050 , XXREAL_0:2;
L2057: ( ( ( lower_bound ( rng R27 ) ) * ( vol R21 ) ) + ( lower_sum (R28 , D95) ) ) <= ( ( upper_sum_set ( R27 + R28 ) ) . D95 ) by L2056 , L2052 , XXREAL_0:2;
thus L2058: thesis by L2057 , L2054 , XXREAL_0:2;
end;
L2059: ( ( upper_sum_set ( R27 + R28 ) ) | ( divs R21 ) ) is  bounded_below by L2047 , RFUNCT_1:71;
L2060: ( rng ( upper_sum_set ( R27 + R28 ) ) ) is  bounded_below by L2059 , L229;
L2061: (for R24 being (Division of R21) holds (R24 in ( ( divs R21 ) /\ ( dom ( upper_sum_set ( R27 + R28 ) ) ) ) implies ( ( ( upper_sum_set R27 ) . R24 ) + ( ( upper_sum_set R28 ) . R24 ) ) >= ( upper_integral ( R27 + R28 ) )))
proof
let R24 being (Division of R21);
L2062: ( ( upper_sum (R27 , R24) ) + ( upper_sum (R28 , R24) ) ) >= ( upper_sum (( R27 + R28 ) , R24) ) by L2026 , L2027 , L1991;
L2063: ( ( ( upper_sum_set R27 ) . R24 ) + ( upper_sum (R28 , R24) ) ) >= ( upper_sum (( R27 + R28 ) , R24) ) by L2062 , L189;
assume L2064: R24 in ( ( divs R21 ) /\ ( dom ( upper_sum_set ( R27 + R28 ) ) ) );
L2065: R24 in ( dom ( upper_sum_set ( R27 + R28 ) ) ) by L2064 , XBOOLE_0:def 4;
L2066: ( ( upper_sum_set ( R27 + R28 ) ) . R24 ) in ( rng ( upper_sum_set ( R27 + R28 ) ) ) by L2065 , FUNCT_1:def 3;
L2067: ( ( upper_sum_set ( R27 + R28 ) ) . R24 ) >= ( upper_integral ( R27 + R28 ) ) by L2066 , L2060 , SEQ_4:def 2;
L2068: ( ( ( upper_sum_set R27 ) . R24 ) + ( ( upper_sum_set R28 ) . R24 ) ) >= ( upper_sum (( R27 + R28 ) , R24) ) by L2063 , L189;
L2069: ( ( ( upper_sum_set R27 ) . R24 ) + ( ( upper_sum_set R28 ) . R24 ) ) >= ( ( upper_sum_set ( R27 + R28 ) ) . R24 ) by L2068 , L189;
thus L2070: thesis by L2069 , L2067 , XXREAL_0:2;
end;
L2071: ( dom ( upper_sum_set ( R27 + R28 ) ) ) = ( divs R21 ) by FUNCT_2:def 1;
L2072: (for B144 being  real number holds (B144 in ( rng ( upper_sum_set R27 ) ) implies B144 >= ( ( upper_integral ( R27 + R28 ) ) - ( upper_integral R28 ) )))
proof
let C195 being  real number;
assume L2073: C195 in ( rng ( upper_sum_set R27 ) );
consider C196 being (Element of ( divs R21 )) such that L2074: C196 in ( dom ( upper_sum_set R27 ) ) and L2075: C195 = ( ( upper_sum_set R27 ) . C196 ) by L2073 , PARTFUN1:3;
reconsider D96 = C196 as (Division of R21) by L57;
L2076: C195 = ( upper_sum (R27 , D96) ) by L2075 , L189;
L2077: (for B145 being  real number holds (B145 in ( rng ( upper_sum_set R28 ) ) implies B145 >= ( ( upper_integral ( R27 + R28 ) ) - C195 )))
proof
let C197 being  real number;
assume L2078: C197 in ( rng ( upper_sum_set R28 ) );
consider C198 being (Element of ( divs R21 )) such that L2079: C198 in ( dom ( upper_sum_set R28 ) ) and L2080: C197 = ( ( upper_sum_set R28 ) . C198 ) by L2078 , PARTFUN1:3;
reconsider D97 = C198 as (Division of R21) by L57;
consider R24 being (Division of R21) such that L2081: D96 <= R24 and L2082: D97 <= R24 by L1824;
L2083: R24 in ( divs R21 ) by L57;
L2084: ( ( upper_sum_set R28 ) . R24 ) = ( upper_sum (R28 , R24) ) by L189;
L2085: ( ( upper_sum_set R28 ) . R24 ) <= ( upper_sum (R28 , D97) ) by L2084 , L2027 , L2082 , L1806;
L2086: ( ( upper_sum_set R27 ) . R24 ) = ( upper_sum (R27 , R24) ) by L189;
L2087: ( ( upper_sum_set R27 ) . R24 ) <= ( upper_sum (R27 , D96) ) by L2086 , L2026 , L2081 , L1806;
L2088: ( ( ( upper_sum_set R27 ) . R24 ) + ( ( upper_sum_set R28 ) . R24 ) ) <= ( ( upper_sum (R27 , D96) ) + ( upper_sum (R28 , D97) ) ) by L2087 , L2085 , XREAL_1:7;
L2089: ( ( ( upper_sum_set R27 ) . R24 ) + ( ( upper_sum_set R28 ) . R24 ) ) >= ( upper_integral ( R27 + R28 ) ) by L2071 , L2061 , L2083;
L2090: ( ( upper_sum (R27 , D96) ) + ( upper_sum (R28 , D97) ) ) >= ( upper_integral ( R27 + R28 ) ) by L2089 , L2088 , XXREAL_0:2;
L2091: C197 = ( upper_sum (R28 , D97) ) by L2080 , L189;
thus L2092: thesis by L2091 , L2076 , L2090 , XREAL_1:20;
end;
L2093: ( lower_bound ( rng ( upper_sum_set R28 ) ) ) >= ( ( upper_integral ( R27 + R28 ) ) - C195 ) by L2077 , SEQ_4:43;
L2094: ( C195 + ( lower_bound ( rng ( upper_sum_set R28 ) ) ) ) >= ( upper_integral ( R27 + R28 ) ) by L2093 , XREAL_1:20;
thus L2095: thesis by L2094 , XREAL_1:20;
end;
L2096: ( upper_integral R27 ) >= ( ( upper_integral ( R27 + R28 ) ) - ( upper_integral R28 ) ) by L2072 , SEQ_4:43;
L2097: ( ( integral R27 ) + ( upper_integral R28 ) ) >= ( upper_integral ( R27 + R28 ) ) by L2096 , XREAL_1:20;
L2098: (for R24 being (Division of R21) holds (R24 in ( ( divs R21 ) /\ ( dom ( lower_sum_set ( R27 + R28 ) ) ) ) implies ( ( ( lower_sum_set R27 ) . R24 ) + ( ( lower_sum_set R28 ) . R24 ) ) <= ( lower_integral ( R27 + R28 ) )))
proof
let R24 being (Division of R21);
L2099: ( ( lower_sum (R27 , R24) ) + ( lower_sum (R28 , R24) ) ) <= ( lower_sum (( R27 + R28 ) , R24) ) by L2026 , L2027 , L2008;
L2100: ( ( ( lower_sum_set R27 ) . R24 ) + ( lower_sum (R28 , R24) ) ) <= ( lower_sum (( R27 + R28 ) , R24) ) by L2099 , L198;
assume L2101: R24 in ( ( divs R21 ) /\ ( dom ( lower_sum_set ( R27 + R28 ) ) ) );
L2102: R24 in ( dom ( lower_sum_set ( R27 + R28 ) ) ) by L2101 , XBOOLE_0:def 4;
L2103: ( ( lower_sum_set ( R27 + R28 ) ) . R24 ) in ( rng ( lower_sum_set ( R27 + R28 ) ) ) by L2102 , FUNCT_1:def 3;
L2104: ( ( lower_sum_set ( R27 + R28 ) ) . R24 ) <= ( lower_integral ( R27 + R28 ) ) by L2103 , L2045 , SEQ_4:def 1;
L2105: ( ( ( lower_sum_set R27 ) . R24 ) + ( ( lower_sum_set R28 ) . R24 ) ) <= ( lower_sum (( R27 + R28 ) , R24) ) by L2100 , L198;
L2106: ( ( ( lower_sum_set R27 ) . R24 ) + ( ( lower_sum_set R28 ) . R24 ) ) <= ( ( lower_sum_set ( R27 + R28 ) ) . R24 ) by L2105 , L198;
thus L2107: thesis by L2106 , L2104 , XXREAL_0:2;
end;
L2108: ( dom ( lower_sum_set ( R27 + R28 ) ) ) = ( divs R21 ) by FUNCT_2:def 1;
L2109: (for B146 being  real number holds (B146 in ( rng ( lower_sum_set R27 ) ) implies B146 <= ( ( lower_integral ( R27 + R28 ) ) - ( lower_integral R28 ) )))
proof
let C199 being  real number;
assume L2110: C199 in ( rng ( lower_sum_set R27 ) );
consider C200 being (Element of ( divs R21 )) such that L2111: C200 in ( dom ( lower_sum_set R27 ) ) and L2112: C199 = ( ( lower_sum_set R27 ) . C200 ) by L2110 , PARTFUN1:3;
reconsider D98 = C200 as (Division of R21) by L57;
L2113: C199 = ( lower_sum (R27 , D98) ) by L2112 , L198;
L2114: (for B147 being  real number holds (B147 in ( rng ( lower_sum_set R28 ) ) implies B147 <= ( ( lower_integral ( R27 + R28 ) ) - C199 )))
proof
let C201 being  real number;
assume L2115: C201 in ( rng ( lower_sum_set R28 ) );
consider C202 being (Element of ( divs R21 )) such that L2116: C202 in ( dom ( lower_sum_set R28 ) ) and L2117: C201 = ( ( lower_sum_set R28 ) . C202 ) by L2115 , PARTFUN1:3;
reconsider D99 = C202 as (Division of R21) by L57;
consider R24 being (Division of R21) such that L2118: D98 <= R24 and L2119: D99 <= R24 by L1824;
L2120: R24 in ( divs R21 ) by L57;
L2121: ( ( lower_sum_set R28 ) . R24 ) = ( lower_sum (R28 , R24) ) by L198;
L2122: ( ( lower_sum_set R28 ) . R24 ) >= ( lower_sum (R28 , D99) ) by L2121 , L2027 , L2119 , L1815;
L2123: ( ( lower_sum_set R27 ) . R24 ) = ( lower_sum (R27 , R24) ) by L198;
L2124: ( ( lower_sum_set R27 ) . R24 ) >= ( lower_sum (R27 , D98) ) by L2123 , L2026 , L2118 , L1815;
L2125: ( ( ( lower_sum_set R27 ) . R24 ) + ( ( lower_sum_set R28 ) . R24 ) ) >= ( ( lower_sum (R27 , D98) ) + ( lower_sum (R28 , D99) ) ) by L2124 , L2122 , XREAL_1:7;
L2126: ( ( ( lower_sum_set R27 ) . R24 ) + ( ( lower_sum_set R28 ) . R24 ) ) <= ( lower_integral ( R27 + R28 ) ) by L2108 , L2098 , L2120;
L2127: ( ( lower_sum (R27 , D98) ) + ( lower_sum (R28 , D99) ) ) <= ( lower_integral ( R27 + R28 ) ) by L2126 , L2125 , XXREAL_0:2;
L2128: C201 = ( lower_sum (R28 , D99) ) by L2117 , L198;
thus L2129: thesis by L2128 , L2113 , L2127 , XREAL_1:19;
end;
L2130: ( upper_bound ( rng ( lower_sum_set R28 ) ) ) <= ( ( lower_integral ( R27 + R28 ) ) - C199 ) by L2114 , SEQ_4:45;
L2131: ( C199 + ( upper_bound ( rng ( lower_sum_set R28 ) ) ) ) <= ( lower_integral ( R27 + R28 ) ) by L2130 , XREAL_1:19;
thus L2132: thesis by L2131 , XREAL_1:19;
end;
L2133: ( upper_bound ( rng ( lower_sum_set R27 ) ) ) <= ( ( lower_integral ( R27 + R28 ) ) - ( lower_integral R28 ) ) by L2109 , SEQ_4:45;
L2134: ( ( lower_integral R27 ) + ( lower_integral R28 ) ) <= ( lower_integral ( R27 + R28 ) ) by L2133 , XREAL_1:19;
L2135: ( upper_integral ( R27 + R28 ) ) >= ( lower_integral ( R27 + R28 ) ) by L2031 , L1875;
L2136: ( ( integral R27 ) + ( integral R28 ) ) <= ( upper_integral ( R27 + R28 ) ) by L2135 , L2134 , L2030 , XXREAL_0:2;
L2137: ( upper_integral ( R27 + R28 ) ) = ( ( integral R27 ) + ( integral R28 ) ) by L2136 , L2097 , XXREAL_0:1;
L2138: ( upper_integral ( R27 + R28 ) ) = ( lower_integral ( R27 + R28 ) ) by L2137 , L2134 , L2135 , L2030 , XXREAL_0:1;
L2139: ( R27 + R28 ) is  upper_integrable by L2060 , L208;
thus L2140: thesis by L2139 , L2046 , L2134 , L2030 , L2097 , L2138 , L213 , XXREAL_0:1;
end;
theorem
L2141: (for R10 being (Element of ( NAT )) holds (for R11 being (Element of ( NAT )) holds (for B148 being FinSequence holds ((R10 in ( dom B148 ) & R11 in ( dom B148 ) & R10 <= R11) implies ( len ( mid (B148 , R10 , R11) ) ) = ( ( R11 - R10 ) + 1 ))))) by L784;
