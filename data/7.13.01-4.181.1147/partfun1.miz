:: Partial Functions
::  by Czes{\l}aw Byli\'nski
::
:: Received September 18, 1989
:: Copyright (c) 1990-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies FUNCT_1, RELAT_1, XBOOLE_0, TARSKI, SUBSET_1, ZFMISC_1, RELAT_2,
      PARTFUN1;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, RELAT_1, RELAT_2, RELSET_1,
      FUNCT_1;
 constructors FUNCT_1, RELAT_2, RELSET_1;
 registrations XBOOLE_0, SUBSET_1, RELAT_1, FUNCT_1, RELSET_1;
 requirements SUBSET, BOOLE;
 definitions TARSKI, FUNCT_1, XBOOLE_0, RELAT_1, RELAT_2;
 theorems TARSKI, FUNCT_1, GRFUNC_1, ZFMISC_1, RELAT_1, RELSET_1, XBOOLE_0,
      XBOOLE_1, RELAT_2, XTUPLE_0;
 schemes FUNCT_1, XBOOLE_0;

begin
theorem
L1: (for B1 , B2 being Function holds ((for R1 being set holds (R1 in ( ( dom B1 ) /\ ( dom B2 ) ) implies ( B1 . R1 ) = ( B2 . R1 ))) implies (ex B3 being Function st ( B1 \/ B2 ) = B3)))
proof
let C1 , C2 being Function;
assume that
L2: (for R1 being set holds (R1 in ( ( dom C1 ) /\ ( dom C2 ) ) implies ( C1 . R1 ) = ( C2 . R1 )));
defpred S1[ set , set ] means [ $1 , $2 ] in ( C1 \/ C2 );
L3: (for R1 being set holds (for R6 being set holds (for R7 being set holds ((S1[ R1 , R6 ] & S1[ R1 , R7 ]) implies R6 = R7))))
proof
let R1 being set;
let R6 being set;
let R7 being set;
assume that
L4: [ R1 , R6 ] in ( C1 \/ C2 )
and
L5: [ R1 , R7 ] in ( C1 \/ C2 );
L6:
now
L7: ([ R1 , R6 ] in C1 or [ R1 , R6 ] in C2) by L4 , XBOOLE_0:def 3;
L8: ((R1 in ( dom C1 ) & ( C1 . R1 ) = R6) or (R1 in ( dom C2 ) & ( C2 . R1 ) = R6)) by L7 , FUNCT_1:1;
L9: ([ R1 , R7 ] in C1 or [ R1 , R7 ] in C2) by L5 , XBOOLE_0:def 3;
L10: ((R1 in ( dom C1 ) & ( C1 . R1 ) = R7) or (R1 in ( dom C2 ) & ( C2 . R1 ) = R7)) by L9 , FUNCT_1:1;
per cases  by L9 , XTUPLE_0:def 12;
suppose L11: (R1 in ( dom C1 ) & R1 in ( dom C2 ));

L12: R1 in ( ( dom C1 ) /\ ( dom C2 ) ) by L11 , XBOOLE_0:def 4;
thus L13: thesis by L12 , L2 , L8 , L10;
end;
suppose L14: (R1 in ( dom C1 ) & (not R1 in ( dom C2 )));

thus L15: thesis by L14 , L9 , L8 , FUNCT_1:1;
end;
suppose L16: ((not R1 in ( dom C1 )) & R1 in ( dom C2 ));

thus L17: thesis by L16 , L9 , L8 , FUNCT_1:1;
end;
end;
thus L19: thesis by L6;
end;
consider C3 being Function such that L20: (for R1 being set holds (for R4 being set holds ([ R1 , R4 ] in C3 iff (R1 in ( ( dom C1 ) \/ ( dom C2 ) ) & S1[ R1 , R4 ])))) from FUNCT_1:sch 1(L3);
take C3;
let R1 being set;
let R4 being set;
thus L21: ([ R1 , R4 ] in ( C1 \/ C2 ) implies [ R1 , R4 ] in C3)
proof
assume L22: [ R1 , R4 ] in ( C1 \/ C2 );
L23: ([ R1 , R4 ] in C1 or [ R1 , R4 ] in C2) by L22 , XBOOLE_0:def 3;
L24: (R1 in ( dom C1 ) or R1 in ( dom C2 )) by L23 , XTUPLE_0:def 12;
L25: R1 in ( ( dom C1 ) \/ ( dom C2 ) ) by L24 , XBOOLE_0:def 3;
thus L26: thesis by L25 , L20 , L22;
end;

thus L27: thesis by L20;
end;
theorem
L28: (for B4 , B5 , B6 being Function holds (( B4 \/ B5 ) = B6 implies (for R1 being set holds (R1 in ( ( dom B4 ) /\ ( dom B5 ) ) implies ( B4 . R1 ) = ( B5 . R1 )))))
proof
let C4 , C5 , C6 being Function;
assume that
L29: ( C4 \/ C5 ) = C6;
let R1 being set;
assume L30: R1 in ( ( dom C4 ) /\ ( dom C5 ) );
L31: R1 in ( dom C4 ) by L30 , XBOOLE_0:def 4;
L32: ( C6 . R1 ) = ( C4 . R1 ) by L31 , L29 , GRFUNC_1:15;
L33: R1 in ( dom C5 ) by L30 , XBOOLE_0:def 4;
thus L34: thesis by L33 , L29 , L32 , GRFUNC_1:15;
end;
scheme LambdaC { F1() -> set , P1[set] , F2(set) -> set , F3(set) -> set } : (ex B7 being Function st (( dom B7 ) = F1() & (for R1 being set holds (R1 in F1() implies ((P1[ R1 ] implies ( B7 . R1 ) = F2(R1)) & ((not P1[ R1 ]) implies ( B7 . R1 ) = F3(R1)))))))
proof
defpred S2[ set , set ] means ((P1[ $1 ] implies $2 = F2($1)) & ((not P1[ $1 ]) implies $2 = F3($1)));
L35: (for R1 being set holds (R1 in F1() implies (ex R4 being set st S2[ R1 , R4 ])))
proof
let R1 being set;
L36: ((not P1[ R1 ]) implies ((P1[ R1 ] implies F3(R1) = F2(R1)) & ((not P1[ R1 ]) implies F3(R1) = F3(R1))));
thus L37: thesis by L36;
end;
L38: (for R1 being set holds (for R6 being set holds (for R7 being set holds ((R1 in F1() & S2[ R1 , R6 ] & S2[ R1 , R7 ]) implies R6 = R7))));
thus L39: (ex B8 being Function st (( dom B8 ) = F1() & (for R1 being set holds (R1 in F1() implies S2[ R1 , ( B8 . R1 ) ])))) from FUNCT_1:sch 2(L38 , L35);
end;
L40:
now
let R12 being set;
let R15 being set;
take D1 = ( {} );
thus L41: (( dom D1 ) c= R12 & ( rng D1 ) c= R15) by XBOOLE_1:2;
end;
registration
let R12 being set;
let R15 being set;
cluster  Function-like for (Relation of R12 , R15);
existence
proof
consider C7 being Function such that L42: (( dom C7 ) c= R12 & ( rng C7 ) c= R15) by L40;
reconsider D2 = C7 as (Relation of R12 , R15) by L42 , RELSET_1:4;
take D2;
thus L43: thesis;
end;
end;
definition
let R12 being set;
let R15 being set;
mode PartFunc of R12 , R15
 is  Function-like (Relation of R12 , R15);
end;
theorem
L46: (for R4 being set holds (for R12 being set holds (for R15 being set holds (for B9 being (PartFunc of R12 , R15) holds (R4 in ( rng B9 ) implies (ex B10 being (Element of R12) st (B10 in ( dom B9 ) & R4 = ( B9 . B10 ))))))))
proof
let R4 being set;
let R12 being set;
let R15 being set;
let C8 being (PartFunc of R12 , R15);
assume L47: R4 in ( rng C8 );
L48: (ex R1 being set st (R1 in ( dom C8 ) & R4 = ( C8 . R1 ))) by L47 , FUNCT_1:def 3;
thus L49: thesis by L48;
end;
theorem
L50: (for R1 being set holds (for R15 being set holds (for B11 being R15 -valued Function holds (R1 in ( dom B11 ) implies ( B11 . R1 ) in R15))))
proof
let R1 being set;
let R15 being set;
let C9 being R15 -valued Function;
assume L51: R1 in ( dom C9 );
L52: ( C9 . R1 ) in ( rng C9 ) by L51 , FUNCT_1:def 3;
L53: ( rng C9 ) c= R15 by RELAT_1:def 19;
thus L54: thesis by L53 , L52;
end;
theorem
L55: (for R12 being set holds (for R15 being set holds (for B12 , B13 being (PartFunc of R12 , R15) holds ((( dom B12 ) = ( dom B13 ) & (for B14 being (Element of R12) holds (B14 in ( dom B12 ) implies ( B12 . B14 ) = ( B13 . B14 )))) implies B12 = B13))))
proof
let R12 being set;
let R15 being set;
let C10 , C11 being (PartFunc of R12 , R15);
assume that
L56: ( dom C10 ) = ( dom C11 )
and
L57: (for B15 being (Element of R12) holds (B15 in ( dom C10 ) implies ( C10 . B15 ) = ( C11 . B15 )));
L58: (for R1 being set holds (R1 in ( dom C10 ) implies ( C10 . R1 ) = ( C11 . R1 ))) by L57;
thus L59: thesis by L58 , L56 , FUNCT_1:2;
end;
scheme PartFuncEx { F4 , F5() -> set , P2[set , set] } : (ex B16 being (PartFunc of F4() , F5()) st ((for R1 being set holds (R1 in ( dom B16 ) iff (R1 in F4() & (ex R4 being set st P2[ R1 , R4 ])))) & (for R1 being set holds (R1 in ( dom B16 ) implies P2[ R1 , ( B16 . R1 ) ]))))
provided
L60: (for R1 being set holds (for R4 being set holds ((R1 in F4() & P2[ R1 , R4 ]) implies R4 in F5())))
and
L61: (for R1 being set holds (for R6 being set holds (for R7 being set holds ((R1 in F4() & P2[ R1 , R6 ] & P2[ R1 , R7 ]) implies R6 = R7))))
proof
L62:
now
defpred S3[ set ] means (ex R4 being set st P2[ $1 , R4 ]);
set D3 = the set;
assume L63: F5() <> ( {} );
defpred S4[ set , set ] means (((ex R4 being set st P2[ $1 , R4 ]) implies P2[ $1 , $2 ]) & ((for R4 being set holds (not P2[ $1 , R4 ])) implies $2 = D3));
L64: (for R1 being set holds (R1 in F4() implies (ex R8 being set st S4[ R1 , R8 ])))
proof
let R1 being set;
assume that
L65: R1 in F4();
L66: ((for R4 being set holds (not P2[ R1 , R4 ])) implies (((ex R4 being set st P2[ R1 , R4 ]) implies P2[ R1 , D3 ]) & ((for R4 being set holds (not P2[ R1 , R4 ])) implies D3 = D3)));
thus L67: thesis by L66;
end;
L68: (for R1 being set holds (for R9 being set holds (for R10 being set holds ((R1 in F4() & S4[ R1 , R9 ] & S4[ R1 , R10 ]) implies R9 = R10)))) by L61;
consider C12 being Function such that L69: ( dom C12 ) = F4() and L70: (for R1 being set holds (R1 in F4() implies S4[ R1 , ( C12 . R1 ) ])) from FUNCT_1:sch 2(L68 , L64);
consider C13 being set such that L71: (for R1 being set holds (R1 in C13 iff (R1 in F4() & S3[ R1 ]))) from XBOOLE_0:sch 1;
set D4 = ( C12 | C13 );
L72: ( dom D4 ) c= F4() by L69 , RELAT_1:60;
L73: ( rng D4 ) c= F5()
proof
let R4 being set;
assume L74: R4 in ( rng D4 );
consider R1 being set such that L75: R1 in ( dom D4 ) and L76: R4 = ( D4 . R1 ) by L74 , FUNCT_1:def 3;
L77: ( dom D4 ) c= C13 by RELAT_1:58;
L78: (R1 in F4() & (ex R4 being set st P2[ R1 , R4 ])) by L77 , L71 , L75;
L79: P2[ R1 , ( C12 . R1 ) ] by L78 , L70;
L80: P2[ R1 , R4 ] by L79 , L75 , L76 , FUNCT_1:47;
L81: R1 in F4() by L71 , L75 , L77;
thus L82: thesis by L81 , L60 , L80;
end;
reconsider D5 = D4 as (PartFunc of F4() , F5()) by L73 , L72 , RELSET_1:4;
take D6 = D5;
thus L83: (for R1 being set holds (R1 in ( dom D6 ) iff (R1 in F4() & (ex R4 being set st P2[ R1 , R4 ]))))
proof
let R1 being set;
L84: ( dom D6 ) c= C13 by RELAT_1:58;
thus L85: (R1 in ( dom D6 ) implies (R1 in F4() & (ex R4 being set st P2[ R1 , R4 ]))) by L84 , L71;
assume that
L86: R1 in F4()
and
L87: (ex R4 being set st P2[ R1 , R4 ]);
L88: R1 in C13 by L71 , L86 , L87;
L89: R1 in ( ( dom C12 ) /\ C13 ) by L88 , L69 , L86 , XBOOLE_0:def 4;
thus L90: thesis by L89 , RELAT_1:61;
end;

let R1 being set;
assume L91: R1 in ( dom D6 );
L92: ( dom D6 ) c= C13 by RELAT_1:58;
L93: (ex R4 being set st P2[ R1 , R4 ]) by L92 , L71 , L91;
L94: P2[ R1 , ( C12 . R1 ) ] by L93 , L70 , L91;
thus L95: P2[ R1 , ( D6 . R1 ) ] by L94 , L91 , FUNCT_1:47;
end;
L96:
now
consider C14 being Function such that L97: (( dom C14 ) c= F4() & ( rng C14 ) c= F5()) by L40;
reconsider D7 = C14 as (PartFunc of F4() , F5()) by L97 , RELSET_1:4;
assume L98: F5() = ( {} );
take D8 = D7;
thus L99: (for R1 being set holds (R1 in ( dom D8 ) iff (R1 in F4() & (ex R4 being set st P2[ R1 , R4 ])))) by L60 , L98;
thus L100: (for R1 being set holds (R1 in ( dom D8 ) implies P2[ R1 , ( D8 . R1 ) ])) by L98;
end;
thus L101: thesis by L96 , L62;
end;
scheme LambdaR { F6 , F7() -> set , F8(set) -> set , P3[set] } : (ex B17 being (PartFunc of F6() , F7()) st ((for R1 being set holds (R1 in ( dom B17 ) iff (R1 in F6() & P3[ R1 ]))) & (for R1 being set holds (R1 in ( dom B17 ) implies ( B17 . R1 ) = F8(R1)))))
provided
L102: (for R1 being set holds (P3[ R1 ] implies F8(R1) in F7()))
proof
defpred S5[ set , set ] means (P3[ $1 ] & $2 = F8($1));
L103: (for R1 being set holds (for R6 being set holds (for R7 being set holds ((R1 in F6() & S5[ R1 , R6 ] & S5[ R1 , R7 ]) implies R6 = R7))));
L104: (for R1 being set holds (for R4 being set holds ((R1 in F6() & S5[ R1 , R4 ]) implies R4 in F7()))) by L102;
consider C15 being (PartFunc of F6() , F7()) such that L105: (for R1 being set holds (R1 in ( dom C15 ) iff (R1 in F6() & (ex R4 being set st S5[ R1 , R4 ])))) and L106: (for R1 being set holds (R1 in ( dom C15 ) implies S5[ R1 , ( C15 . R1 ) ])) from PartFuncEx(L104 , L103);
take C15;
thus L107: (for R1 being set holds (R1 in ( dom C15 ) iff (R1 in F6() & P3[ R1 ])))
proof
let R1 being set;
thus L108: (R1 in ( dom C15 ) implies (R1 in F6() & P3[ R1 ]))
proof
assume L109: R1 in ( dom C15 );
L110: (ex R4 being set st (P3[ R1 ] & R4 = F8(R1))) by L109 , L105;
thus L111: thesis by L110 , L109;
end;

assume that
L112: R1 in F6()
and
L113: P3[ R1 ];
L114: (ex R4 being set st (P3[ R1 ] & R4 = F8(R1))) by L113;
thus L115: thesis by L114 , L105 , L112;
end;

thus L116: thesis by L106;
end;
definition
let R12 being set;
let R15 being set;
let R18 being set;
let R19 being set;
let C16 being (PartFunc of R12 , R15);
let C17 being (PartFunc of R18 , R19);
redefine func C17 * C16 -> (PartFunc of R12 , R19);

coherence
proof
L117: ( dom ( C17 * C16 ) ) c= R12;
L118: ( rng ( C17 * C16 ) ) c= R19 by RELAT_1:def 19;
thus L119: thesis by L118 , L117 , RELSET_1:4;
end;
end;
theorem
L121: (for R12 being set holds (for R15 being set holds (for B18 being (Relation of R12 , R15) holds ( ( id R12 ) * B18 ) = B18)))
proof
let R12 being set;
let R15 being set;
let C18 being (Relation of R12 , R15);
L122: ( dom C18 ) c= R12;
thus L123: thesis by L122 , RELAT_1:51;
end;
theorem
L124: (for R12 being set holds (for R15 being set holds (for B19 being (Relation of R12 , R15) holds ( B19 * ( id R15 ) ) = B19)))
proof
let R12 being set;
let R15 being set;
let C19 being (Relation of R12 , R15);
L125: ( rng C19 ) c= R15;
thus L126: thesis by L125 , RELAT_1:53;
end;
theorem
L127: (for R12 being set holds (for R15 being set holds (for B20 being (PartFunc of R12 , R15) holds ((for B21 , B22 being (Element of R12) holds ((B21 in ( dom B20 ) & B22 in ( dom B20 ) & ( B20 . B21 ) = ( B20 . B22 )) implies B21 = B22)) implies B20 is  one-to-one))))
proof
let R12 being set;
let R15 being set;
let C20 being (PartFunc of R12 , R15);
assume L128: (for B23 , B24 being (Element of R12) holds ((B23 in ( dom C20 ) & B24 in ( dom C20 ) & ( C20 . B23 ) = ( C20 . B24 )) implies B23 = B24));
L129: (for R2 being set holds (for R3 being set holds ((R2 in ( dom C20 ) & R3 in ( dom C20 ) & ( C20 . R2 ) = ( C20 . R3 )) implies R2 = R3))) by L128;
thus L130: thesis by L129 , FUNCT_1:def 4;
end;
theorem
L131: (for R12 being set holds (for R15 being set holds (for B25 being (PartFunc of R12 , R15) holds (B25 is  one-to-one implies ( B25 " ) is (PartFunc of R15 , R12)))))
proof
let R12 being set;
let R15 being set;
let C21 being (PartFunc of R12 , R15);
assume that
L132: C21 is  one-to-one;
L133: ( rng C21 ) c= R15 by RELAT_1:def 19;
L134: ( dom ( C21 " ) ) c= R15 by L133 , L132 , FUNCT_1:33;
L135: ( dom C21 ) c= R12;
L136: ( rng ( C21 " ) ) c= R12 by L135 , L132 , FUNCT_1:33;
thus L137: thesis by L136 , L134 , RELSET_1:4;
end;
theorem
L138: (for R12 being set holds (for R15 being set holds (for R19 being set holds (for B26 being (PartFunc of R12 , R15) holds ( B26 | R19 ) is (PartFunc of R19 , R15)))))
proof
let R12 being set;
let R15 being set;
let R19 being set;
let C22 being (PartFunc of R12 , R15);
L139: (( dom ( C22 | R19 ) ) c= R19 & ( rng ( C22 | R19 ) ) c= R15) by RELAT_1:58 , RELAT_1:def 19;
thus L140: thesis by L139 , RELSET_1:4;
end;
theorem
L141: (for R12 being set holds (for R15 being set holds (for R19 being set holds (for B27 being (PartFunc of R12 , R15) holds ( B27 | R19 ) is (PartFunc of R12 , R15)))));
definition
let R12 being set;
let R15 being set;
let C23 being (PartFunc of R12 , R15);
let C24 being set;
redefine func C23 | C24 -> (PartFunc of R12 , R15);

coherence by L141;
end;
theorem
L143: (for R12 being set holds (for R15 being set holds (for R19 being set holds (for B28 being (PartFunc of R12 , R15) holds ( R19 |` B28 ) is (PartFunc of R12 , R19)))))
proof
let R12 being set;
let R15 being set;
let R19 being set;
let C25 being (PartFunc of R12 , R15);
L144: (( dom ( R19 |` C25 ) ) c= R12 & ( rng ( R19 |` C25 ) ) c= R19) by RELAT_1:85;
thus L145: thesis by L144 , RELSET_1:4;
end;
theorem
L146: (for R12 being set holds (for R15 being set holds (for R19 being set holds (for B29 being (PartFunc of R12 , R15) holds ( R19 |` B29 ) is (PartFunc of R12 , R15)))));
theorem
L147: (for R12 being set holds (for R15 being set holds (for B30 being Function holds ( ( R15 |` B30 ) | R12 ) is (PartFunc of R12 , R15))))
proof
let R12 being set;
let R15 being set;
let C26 being Function;
L148: ( ( R15 |` C26 ) | R12 ) = ( R15 |` ( C26 | R12 ) ) by RELAT_1:109;
L149: (( dom ( ( R15 |` C26 ) | R12 ) ) c= R12 & ( rng ( ( R15 |` C26 ) | R12 ) ) c= R15) by L148 , RELAT_1:58 , RELAT_1:85;
thus L150: thesis by L149 , RELSET_1:4;
end;
theorem
L151: (for R4 being set holds (for R12 being set holds (for R15 being set holds (for B31 being (PartFunc of R12 , R15) holds (R4 in ( B31 .: R12 ) implies (ex B32 being (Element of R12) st (B32 in ( dom B31 ) & R4 = ( B31 . B32 ))))))))
proof
let R4 being set;
let R12 being set;
let R15 being set;
let C27 being (PartFunc of R12 , R15);
assume L152: R4 in ( C27 .: R12 );
L153: (ex R1 being set st (R1 in ( dom C27 ) & R1 in R12 & R4 = ( C27 . R1 ))) by L152 , FUNCT_1:def 6;
thus L154: thesis by L153;
end;
theorem
L155: (for R1 being set holds (for R15 being set holds (for B33 being (PartFunc of { R1 } , R15) holds ( rng B33 ) c= { ( B33 . R1 ) })))
proof
let R1 being set;
let R15 being set;
let C28 being (PartFunc of { R1 } , R15);
L156: (( dom C28 ) = ( {} ) or ( dom C28 ) = { R1 }) by ZFMISC_1:33;
L157: (( rng C28 ) = ( {} ) or ( rng C28 ) = { ( C28 . R1 ) }) by L156 , FUNCT_1:4 , RELAT_1:42;
thus L158: thesis by L157 , ZFMISC_1:33;
end;
theorem
L159: (for R1 being set holds (for R15 being set holds (for B34 being (PartFunc of { R1 } , R15) holds B34 is  one-to-one)))
proof
let R1 being set;
let R15 being set;
let C29 being (PartFunc of { R1 } , R15);
let R2 being set;
let R3 being set;
assume that
L160: R2 in ( dom C29 )
and
L161: R3 in ( dom C29 );
L162: (( dom C29 ) <> ( {} ) implies (R2 = R1 & R3 = R1)) by L160 , L161 , TARSKI:def 1;
thus L163: thesis by L162 , L160;
end;
theorem
L164: (for R1 being set holds (for R11 being set holds (for R15 being set holds (for B35 being (PartFunc of { R1 } , R15) holds ( B35 .: R11 ) c= { ( B35 . R1 ) }))))
proof
let R1 being set;
let R11 being set;
let R15 being set;
let C30 being (PartFunc of { R1 } , R15);
L165: (( C30 .: R11 ) c= ( rng C30 ) & ( rng C30 ) c= { ( C30 . R1 ) }) by L155 , RELAT_1:111;
thus L166: thesis by L165 , XBOOLE_1:1;
end;
theorem
L167: (for R1 being set holds (for R12 being set holds (for R15 being set holds (for B36 being Function holds ((( dom B36 ) = { R1 } & R1 in R12 & ( B36 . R1 ) in R15) implies B36 is (PartFunc of R12 , R15))))))
proof
let R1 being set;
let R12 being set;
let R15 being set;
let C31 being Function;
assume that
L168: ( dom C31 ) = { R1 }
and
L169: R1 in R12
and
L170: ( C31 . R1 ) in R15;
L171: ( rng C31 ) = { ( C31 . R1 ) } by L168 , FUNCT_1:4;
L172: ( rng C31 ) c= R15 by L171 , L170 , ZFMISC_1:31;
L173: ( dom C31 ) c= R12 by L168 , L169 , ZFMISC_1:31;
thus L174: thesis by L173 , L172 , RELSET_1:4;
end;
theorem
L175: (for R1 being set holds (for R4 being set holds (for R12 being set holds (for B37 being (PartFunc of R12 , { R4 }) holds (R1 in ( dom B37 ) implies ( B37 . R1 ) = R4)))))
proof
let R1 being set;
let R4 being set;
let R12 being set;
let C32 being (PartFunc of R12 , { R4 });
L176: (R1 in ( dom C32 ) implies ( C32 . R1 ) in { R4 }) by L50;
thus L177: thesis by L176 , TARSKI:def 1;
end;
theorem
L178: (for R4 being set holds (for R12 being set holds (for B38 , B39 being (PartFunc of R12 , { R4 }) holds (( dom B38 ) = ( dom B39 ) implies B38 = B39))))
proof
let R4 being set;
let R12 being set;
let C33 , C34 being (PartFunc of R12 , { R4 });
assume that
L179: ( dom C33 ) = ( dom C34 );
L180: (for R1 being set holds (R1 in ( dom C33 ) implies ( C33 . R1 ) = ( C34 . R1 )))
proof
let R1 being set;
assume L181: R1 in ( dom C33 );
L182: ( C33 . R1 ) = R4 by L181 , L175;
thus L183: thesis by L182 , L179 , L181 , L175;
end;
thus L184: thesis by L180 , L179 , FUNCT_1:2;
end;
definition
let C35 being Function;
let C36 , C37 being set;
func <:C35 , C36 , C37 :> -> (PartFunc of C36 , C37) equals 
( ( C37 |` C35 ) | C36 );
coherence by L147;
end;
theorem
L186: (for R12 being set holds (for R15 being set holds (for B40 being Function holds <: B40 , R12 , R15 :> c= B40)))
proof
let R12 being set;
let R15 being set;
let C38 being Function;
L187: (( ( R15 |` C38 ) | R12 ) c= ( R15 |` C38 ) & ( R15 |` C38 ) c= C38) by RELAT_1:59 , RELAT_1:86;
thus L188: thesis by L187 , XBOOLE_1:1;
end;
theorem
L189: (for R12 being set holds (for R15 being set holds (for B41 being Function holds (( dom <: B41 , R12 , R15 :> ) c= ( dom B41 ) & ( rng <: B41 , R12 , R15 :> ) c= ( rng B41 )))))
proof
let R12 being set;
let R15 being set;
let C39 being Function;
L190: <: C39 , R12 , R15 :> c= C39 by L186;
thus L191: thesis by L190 , RELAT_1:11;
end;
theorem
L192: (for R1 being set holds (for R12 being set holds (for R15 being set holds (for B42 being Function holds (R1 in ( dom <: B42 , R12 , R15 :> ) iff (R1 in ( dom B42 ) & R1 in R12 & ( B42 . R1 ) in R15))))))
proof
let R1 being set;
let R12 being set;
let R15 being set;
let C40 being Function;
thus L193: (R1 in ( dom <: C40 , R12 , R15 :> ) implies (R1 in ( dom C40 ) & R1 in R12 & ( C40 . R1 ) in R15))
proof
assume L194: R1 in ( dom <: C40 , R12 , R15 :> );
L195: R1 in ( ( dom ( R15 |` C40 ) ) /\ R12 ) by L194 , RELAT_1:61;
L196: R1 in ( dom ( R15 |` C40 ) ) by L195 , XBOOLE_0:def 4;
thus L197: thesis by L196 , L194 , FUNCT_1:54;
end;

assume that
L198: R1 in ( dom C40 )
and
L199: R1 in R12
and
L200: ( C40 . R1 ) in R15;
L201: R1 in ( dom ( R15 |` C40 ) ) by L198 , L200 , FUNCT_1:54;
L202: R1 in ( ( dom ( R15 |` C40 ) ) /\ R12 ) by L201 , L199 , XBOOLE_0:def 4;
thus L203: thesis by L202 , RELAT_1:61;
end;
theorem
L204: (for R1 being set holds (for R12 being set holds (for R15 being set holds (for B43 being Function holds ((R1 in ( dom B43 ) & R1 in R12 & ( B43 . R1 ) in R15) implies ( <: B43 , R12 , R15 :> . R1 ) = ( B43 . R1 ))))))
proof
let R1 being set;
let R12 being set;
let R15 being set;
let C41 being Function;
assume that
L205: R1 in ( dom C41 )
and
L206: R1 in R12
and
L207: ( C41 . R1 ) in R15;
L208: R1 in ( dom ( R15 |` C41 ) ) by L205 , L207 , FUNCT_1:54;
L209: ( C41 . R1 ) = ( ( R15 |` C41 ) . R1 ) by L208 , FUNCT_1:55
.= ( ( ( R15 |` C41 ) | R12 ) . R1 ) by L206 , FUNCT_1:49;
thus L210: thesis by L209;
end;
theorem
L211: (for R1 being set holds (for R12 being set holds (for R15 being set holds (for B44 being Function holds (R1 in ( dom <: B44 , R12 , R15 :> ) implies ( <: B44 , R12 , R15 :> . R1 ) = ( B44 . R1 ))))))
proof
let R1 being set;
let R12 being set;
let R15 being set;
let C42 being Function;
assume L212: R1 in ( dom <: C42 , R12 , R15 :> );
L213: (R1 in ( dom C42 ) & ( C42 . R1 ) in R15) by L212 , L192;
thus L214: thesis by L213 , L212 , L204;
end;
theorem
L215: (for R12 being set holds (for R15 being set holds (for B45 , B46 being Function holds (B45 c= B46 implies <: B45 , R12 , R15 :> c= <: B46 , R12 , R15 :>))))
proof
let R12 being set;
let R15 being set;
let C43 , C44 being Function;
assume that
L216: C43 c= C44;
L217: ( dom <: C43 , R12 , R15 :> ) c= ( dom C43 ) by L189;
L218:
now
thus L219: ( dom <: C43 , R12 , R15 :> ) c= ( dom <: C44 , R12 , R15 :> )
proof
let R1 being set;
L220: ( dom C43 ) c= ( dom C44 ) by L216 , RELAT_1:11;
assume L221: R1 in ( dom <: C43 , R12 , R15 :> );
L222: ( C43 . R1 ) = ( C44 . R1 ) by L221 , L216 , L217 , GRFUNC_1:2;
L223: (R1 in ( dom C43 ) & ( C43 . R1 ) in R15) by L221 , L192;
thus L224: thesis by L223 , L221 , L220 , L222 , L192;
end;

let R1 being set;
assume L225: R1 in ( dom <: C43 , R12 , R15 :> );
L226: ( <: C43 , R12 , R15 :> . R1 ) = ( C43 . R1 ) by L225 , L211;
L227: ( <: C44 , R12 , R15 :> . R1 ) = ( C44 . R1 ) by L219 , L225 , L211;
thus L228: ( <: C43 , R12 , R15 :> . R1 ) = ( <: C44 , R12 , R15 :> . R1 ) by L227 , L216 , L217 , L225 , L226 , GRFUNC_1:2;
end;
thus L229: thesis by L218 , GRFUNC_1:2;
end;
theorem
L230: (for R12 being set holds (for R15 being set holds (for R19 being set holds (for B47 being Function holds (R19 c= R12 implies <: B47 , R19 , R15 :> c= <: B47 , R12 , R15 :>)))))
proof
let R12 being set;
let R15 being set;
let R19 being set;
let C45 being Function;
assume that
L231: R19 c= R12;
L232: ( dom <: C45 , R19 , R15 :> ) c= ( dom <: C45 , R12 , R15 :> )
proof
let R1 being set;
assume L233: R1 in ( dom <: C45 , R19 , R15 :> );
L234: ( C45 . R1 ) in R15 by L233 , L192;
L235: (R1 in R19 & R1 in ( dom C45 )) by L233 , L192;
thus L236: thesis by L235 , L231 , L234 , L192;
end;
L237:
now
let R1 being set;
assume L238: R1 in ( dom <: C45 , R19 , R15 :> );
L239: ( <: C45 , R19 , R15 :> . R1 ) = ( C45 . R1 ) by L238 , L211;
thus L240: ( <: C45 , R19 , R15 :> . R1 ) = ( <: C45 , R12 , R15 :> . R1 ) by L239 , L232 , L238 , L211;
end;
thus L241: thesis by L237 , L232 , GRFUNC_1:2;
end;
theorem
L242: (for R12 being set holds (for R15 being set holds (for R19 being set holds (for B48 being Function holds (R19 c= R15 implies <: B48 , R12 , R19 :> c= <: B48 , R12 , R15 :>)))))
proof
let R12 being set;
let R15 being set;
let R19 being set;
let C46 being Function;
assume that
L243: R19 c= R15;
L244: ( dom <: C46 , R12 , R19 :> ) c= ( dom <: C46 , R12 , R15 :> )
proof
let R1 being set;
assume L245: R1 in ( dom <: C46 , R12 , R19 :> );
L246: (( C46 . R1 ) in R19 & R1 in ( dom C46 )) by L245 , L192;
thus L247: thesis by L246 , L243 , L245 , L192;
end;
L248:
now
let R1 being set;
assume L249: R1 in ( dom <: C46 , R12 , R19 :> );
L250: ( <: C46 , R12 , R19 :> . R1 ) = ( C46 . R1 ) by L249 , L211;
thus L251: ( <: C46 , R12 , R19 :> . R1 ) = ( <: C46 , R12 , R15 :> . R1 ) by L250 , L244 , L249 , L211;
end;
thus L252: thesis by L248 , L244 , GRFUNC_1:2;
end;
theorem
L253: (for R13 being set holds (for R14 being set holds (for R16 being set holds (for R17 being set holds (for B49 being Function holds ((R13 c= R14 & R16 c= R17) implies <: B49 , R13 , R16 :> c= <: B49 , R14 , R17 :>))))))
proof
let R13 being set;
let R14 being set;
let R16 being set;
let R17 being set;
let C47 being Function;
assume L254: (R13 c= R14 & R16 c= R17);
L255: (<: C47 , R13 , R16 :> c= <: C47 , R14 , R16 :> & <: C47 , R14 , R16 :> c= <: C47 , R14 , R17 :>) by L254 , L230 , L242;
thus L256: thesis by L255 , XBOOLE_1:1;
end;
theorem
L257: (for R12 being set holds (for R15 being set holds (for B50 being Function holds ((( dom B50 ) c= R12 & ( rng B50 ) c= R15) implies B50 = <: B50 , R12 , R15 :>))))
proof
let R12 being set;
let R15 being set;
let C48 being Function;
assume that
L258: (( dom C48 ) c= R12 & ( rng C48 ) c= R15);
L259: ( dom C48 ) c= ( dom <: C48 , R12 , R15 :> )
proof
let R1 being set;
assume L260: R1 in ( dom C48 );
L261: ( C48 . R1 ) in ( rng C48 ) by L260 , FUNCT_1:def 3;
thus L262: thesis by L261 , L258 , L260 , L192;
end;
L263: ( dom <: C48 , R12 , R15 :> ) c= ( dom C48 ) by L189;
L264: ( dom C48 ) = ( dom <: C48 , R12 , R15 :> ) by L263 , L259 , XBOOLE_0:def 10;
L265: (for R1 being set holds (R1 in ( dom C48 ) implies ( C48 . R1 ) = ( <: C48 , R12 , R15 :> . R1 ))) by L259 , L211;
thus L266: thesis by L265 , L264 , FUNCT_1:2;
end;
theorem
L267: (for B51 being Function holds B51 = <: B51 , ( dom B51 ) , ( rng B51 ) :>);
theorem
L268: (for R12 being set holds (for R15 being set holds (for B52 being (PartFunc of R12 , R15) holds <: B52 , R12 , R15 :> = B52)))
proof
let R12 being set;
let R15 being set;
let C49 being (PartFunc of R12 , R15);
thus L269: thesis;
end;
theorem
L270: (for R12 being set holds (for R15 being set holds <: ( {} ) , R12 , R15 :> = ( {} )))
proof
let R12 being set;
let R15 being set;
L271: (( dom ( {} ) ) c= R12 & ( rng ( {} ) ) c= R15) by XBOOLE_1:2;
thus L272: thesis by L271 , L257;
end;
theorem
L273: (for R12 being set holds (for R15 being set holds (for R19 being set holds (for B53 , B54 being Function holds ( <: B54 , R15 , R19 :> * <: B53 , R12 , R15 :> ) c= <: ( B54 * B53 ) , R12 , R19 :>))))
proof
let R12 being set;
let R15 being set;
let R19 being set;
let C50 , C51 being Function;
L274: (for R1 being set holds (R1 in ( dom ( <: C51 , R15 , R19 :> * <: C50 , R12 , R15 :> ) ) implies ( ( <: C51 , R15 , R19 :> * <: C50 , R12 , R15 :> ) . R1 ) = ( <: ( C51 * C50 ) , R12 , R19 :> . R1 )))
proof
let R1 being set;
assume L275: R1 in ( dom ( <: C51 , R15 , R19 :> * <: C50 , R12 , R15 :> ) );
L276: R1 in ( dom <: C50 , R12 , R15 :> ) by L275 , FUNCT_1:11;
L277: R1 in ( dom C50 ) by L276 , L192;
L278: ( <: C50 , R12 , R15 :> . R1 ) in ( dom <: C51 , R15 , R19 :> ) by L275 , FUNCT_1:11;
L279: ( C50 . R1 ) in ( dom <: C51 , R15 , R19 :> ) by L278 , L276 , L211;
L280: ( C51 . ( C50 . R1 ) ) in R19 by L279 , L192;
L281: ( ( C51 * C50 ) . R1 ) in R19 by L280 , L277 , FUNCT_1:13;
L282: ( C50 . R1 ) in ( dom C51 ) by L279 , L192;
L283: R1 in ( dom ( C51 * C50 ) ) by L282 , L277 , FUNCT_1:11;
L284: R1 in ( dom <: ( C51 * C50 ) , R12 , R19 :> ) by L283 , L275 , L281 , L192;
thus L285: ( ( <: C51 , R15 , R19 :> * <: C50 , R12 , R15 :> ) . R1 ) = ( <: C51 , R15 , R19 :> . ( <: C50 , R12 , R15 :> . R1 ) ) by L275 , FUNCT_1:12
.= ( <: C51 , R15 , R19 :> . ( C50 . R1 ) ) by L276 , L211
.= ( C51 . ( C50 . R1 ) ) by L279 , L211
.= ( ( C51 * C50 ) . R1 ) by L277 , FUNCT_1:13
.= ( <: ( C51 * C50 ) , R12 , R19 :> . R1 ) by L284 , L211;
end;
L286: ( dom ( <: C51 , R15 , R19 :> * <: C50 , R12 , R15 :> ) ) c= ( dom <: ( C51 * C50 ) , R12 , R19 :> )
proof
let R1 being set;
assume L287: R1 in ( dom ( <: C51 , R15 , R19 :> * <: C50 , R12 , R15 :> ) );
L288: R1 in ( dom <: C50 , R12 , R15 :> ) by L287 , FUNCT_1:11;
L289: R1 in ( dom C50 ) by L288 , L192;
L290: ( <: C50 , R12 , R15 :> . R1 ) in ( dom <: C51 , R15 , R19 :> ) by L287 , FUNCT_1:11;
L291: ( C50 . R1 ) in ( dom <: C51 , R15 , R19 :> ) by L290 , L288 , L211;
L292: ( C51 . ( C50 . R1 ) ) in R19 by L291 , L192;
L293: ( ( C51 * C50 ) . R1 ) in R19 by L292 , L289 , FUNCT_1:13;
L294: ( C50 . R1 ) in ( dom C51 ) by L291 , L192;
L295: R1 in ( dom ( C51 * C50 ) ) by L294 , L289 , FUNCT_1:11;
thus L296: thesis by L295 , L287 , L293 , L192;
end;
thus L297: thesis by L286 , L274 , GRFUNC_1:2;
end;
theorem
L298: (for R12 being set holds (for R15 being set holds (for R19 being set holds (for B55 , B56 being Function holds (( ( rng B55 ) /\ ( dom B56 ) ) c= R15 implies ( <: B56 , R15 , R19 :> * <: B55 , R12 , R15 :> ) = <: ( B56 * B55 ) , R12 , R19 :>)))))
proof
let R12 being set;
let R15 being set;
let R19 being set;
let C52 , C53 being Function;
assume that
L299: ( ( rng C52 ) /\ ( dom C53 ) ) c= R15;
L300: ( dom <: ( C53 * C52 ) , R12 , R19 :> ) c= ( dom ( <: C53 , R15 , R19 :> * <: C52 , R12 , R15 :> ) )
proof
let R1 being set;
assume L301: R1 in ( dom <: ( C53 * C52 ) , R12 , R19 :> );
L302: R1 in ( dom ( C53 * C52 ) ) by L301 , L192;
L303: ( C52 . R1 ) in ( dom C53 ) by L302 , FUNCT_1:11;
L304: R1 in ( dom C52 ) by L302 , FUNCT_1:11;
L305: ( C52 . R1 ) in ( rng C52 ) by L304 , FUNCT_1:def 3;
L306: ( C52 . R1 ) in ( ( rng C52 ) /\ ( dom C53 ) ) by L305 , L303 , XBOOLE_0:def 4;
L307: ( ( C53 * C52 ) . R1 ) in R19 by L301 , L192;
L308: ( C53 . ( C52 . R1 ) ) in R19 by L307 , L302 , FUNCT_1:12;
L309: ( C52 . R1 ) in ( dom <: C53 , R15 , R19 :> ) by L308 , L299 , L303 , L306 , L192;
L310: (R1 in ( dom <: C52 , R12 , R15 :> ) & ( <: C52 , R12 , R15 :> . R1 ) = ( C52 . R1 )) by L299 , L301 , L304 , L306 , L192 , L204;
thus L311: thesis by L310 , L309 , FUNCT_1:11;
end;
L312: (for R1 being set holds (R1 in ( dom <: ( C53 * C52 ) , R12 , R19 :> ) implies ( <: ( C53 * C52 ) , R12 , R19 :> . R1 ) = ( ( <: C53 , R15 , R19 :> * <: C52 , R12 , R15 :> ) . R1 )))
proof
let R1 being set;
assume L313: R1 in ( dom <: ( C53 * C52 ) , R12 , R19 :> );
L314: R1 in ( dom ( C53 * C52 ) ) by L313 , L192;
L315: ( C52 . R1 ) in ( dom C53 ) by L314 , FUNCT_1:11;
L316: R1 in ( dom C52 ) by L314 , FUNCT_1:11;
L317: ( C52 . R1 ) in ( rng C52 ) by L316 , FUNCT_1:def 3;
L318: ( C52 . R1 ) in ( ( rng C52 ) /\ ( dom C53 ) ) by L317 , L315 , XBOOLE_0:def 4;
L319: ( ( C53 * C52 ) . R1 ) in R19 by L313 , L192;
L320: ( C53 . ( C52 . R1 ) ) in R19 by L319 , L314 , FUNCT_1:12;
L321: ( C52 . R1 ) in ( dom <: C53 , R15 , R19 :> ) by L320 , L299 , L315 , L318 , L192;
L322: R1 in ( dom C52 ) by L314 , FUNCT_1:11;
L323: R1 in ( dom <: C52 , R12 , R15 :> ) by L322 , L299 , L313 , L318 , L192;
thus L324: ( <: ( C53 * C52 ) , R12 , R19 :> . R1 ) = ( ( C53 * C52 ) . R1 ) by L313 , L211
.= ( C53 . ( C52 . R1 ) ) by L314 , FUNCT_1:12
.= ( <: C53 , R15 , R19 :> . ( C52 . R1 ) ) by L321 , L211
.= ( <: C53 , R15 , R19 :> . ( <: C52 , R12 , R15 :> . R1 ) ) by L323 , L211
.= ( ( <: C53 , R15 , R19 :> * <: C52 , R12 , R15 :> ) . R1 ) by L300 , L313 , FUNCT_1:12;
end;
L325: <: ( C53 * C52 ) , R12 , R19 :> c= ( <: C53 , R15 , R19 :> * <: C52 , R12 , R15 :> ) by L312 , L300 , GRFUNC_1:2;
L326: ( <: C53 , R15 , R19 :> * <: C52 , R12 , R15 :> ) c= <: ( C53 * C52 ) , R12 , R19 :> by L273;
thus L327: thesis by L326 , L325 , XBOOLE_0:def 10;
end;
theorem
L328: (for R12 being set holds (for R15 being set holds (for B57 being Function holds (B57 is  one-to-one implies <: B57 , R12 , R15 :> is  one-to-one))))
proof
let R12 being set;
let R15 being set;
let C54 being Function;
assume L329: C54 is  one-to-one;
L330: ( R15 |` C54 ) is  one-to-one by L329 , FUNCT_1:58;
thus L331: thesis by L330 , FUNCT_1:52;
end;
theorem
L332: (for R12 being set holds (for R15 being set holds (for B58 being Function holds (B58 is  one-to-one implies ( <: B58 , R12 , R15 :> " ) = <: ( B58 " ) , R15 , R12 :>))))
proof
let R12 being set;
let R15 being set;
let C55 being Function;
assume L333: C55 is  one-to-one;
L334: <: C55 , R12 , R15 :> is  one-to-one by L333 , L328;
L335: (for R4 being set holds (R4 in ( dom ( <: C55 , R12 , R15 :> " ) ) iff R4 in ( dom <: ( C55 " ) , R15 , R12 :> )))
proof
let R4 being set;
thus L336: (R4 in ( dom ( <: C55 , R12 , R15 :> " ) ) implies R4 in ( dom <: ( C55 " ) , R15 , R12 :> ))
proof
assume L337: R4 in ( dom ( <: C55 , R12 , R15 :> " ) );
L338: R4 in ( rng <: C55 , R12 , R15 :> ) by L337 , L334 , FUNCT_1:33;
consider R1 being set such that L339: R1 in ( dom <: C55 , R12 , R15 :> ) and L340: R4 = ( <: C55 , R12 , R15 :> . R1 ) by L338 , FUNCT_1:def 3;
L341: ( C55 . R1 ) = R4 by L339 , L340 , L211;
L342: R4 in R15 by L341 , L339 , L192;
L343: ( rng <: C55 , R12 , R15 :> ) c= ( rng C55 ) by L189;
L344: R4 in ( rng C55 ) by L343 , L338;
L345: R4 in ( dom ( C55 " ) ) by L344 , L333 , FUNCT_1:32;
L346: ( dom <: C55 , R12 , R15 :> ) c= ( dom C55 ) by L189;
L347: ( ( C55 " ) . R4 ) = R1 by L346 , L333 , L339 , L341 , FUNCT_1:32;
thus L348: thesis by L347 , L339 , L345 , L342 , L192;
end;

assume L349: R4 in ( dom <: ( C55 " ) , R15 , R12 :> );
L350: ( dom <: ( C55 " ) , R15 , R12 :> ) c= ( dom ( C55 " ) ) by L189;
L351: R4 in ( dom ( C55 " ) ) by L350 , L349;
L352: R4 in ( rng C55 ) by L351 , L333 , FUNCT_1:33;
consider R1 being set such that L353: R1 in ( dom C55 ) and L354: R4 = ( C55 . R1 ) by L352 , FUNCT_1:def 3;
L355: R1 = ( ( C55 " ) . ( C55 . R1 ) ) by L333 , L353 , FUNCT_1:34;
L356: R1 in R12 by L355 , L349 , L354 , L192;
L357: R1 in ( dom <: C55 , R12 , R15 :> ) by L356 , L349 , L353 , L354 , L192;
L358: (( <: C55 , R12 , R15 :> . R1 ) in ( rng <: C55 , R12 , R15 :> ) & ( <: C55 , R12 , R15 :> . R1 ) = ( C55 . R1 )) by L357 , L211 , FUNCT_1:def 3;
thus L359: thesis by L358 , L334 , L354 , FUNCT_1:33;
end;
L360: ( dom ( <: C55 , R12 , R15 :> " ) ) = ( dom <: ( C55 " ) , R15 , R12 :> ) by L335 , TARSKI:1;
L361: (for R4 being set holds (R4 in ( dom <: ( C55 " ) , R15 , R12 :> ) implies ( <: ( C55 " ) , R15 , R12 :> . R4 ) = ( ( <: C55 , R12 , R15 :> " ) . R4 )))
proof
let R4 being set;
L362: ( rng <: C55 , R12 , R15 :> ) c= ( rng C55 ) by L189;
assume L363: R4 in ( dom <: ( C55 " ) , R15 , R12 :> );
L364: R4 in ( rng <: C55 , R12 , R15 :> ) by L363 , L334 , L360 , FUNCT_1:33;
consider R1 being set such that L365: R1 in ( dom C55 ) and L366: R4 = ( C55 . R1 ) by L364 , L362 , FUNCT_1:def 3;
L367: R1 = ( ( C55 " ) . ( C55 . R1 ) ) by L333 , L365 , FUNCT_1:34;
L368: R1 in R12 by L367 , L363 , L366 , L192;
L369: R1 in ( dom <: C55 , R12 , R15 :> ) by L368 , L363 , L365 , L366 , L192;
L370: (( ( <: C55 , R12 , R15 :> " ) . ( <: C55 , R12 , R15 :> . R1 ) ) = R1 & ( <: C55 , R12 , R15 :> . R1 ) = ( C55 . R1 )) by L369 , L334 , L211 , FUNCT_1:34;
thus L371: thesis by L370 , L363 , L366 , L367 , L211;
end;
thus L372: thesis by L361 , L360 , FUNCT_1:2;
end;
theorem
L373: (for R12 being set holds (for R15 being set holds (for R19 being set holds (for B59 being Function holds ( R19 |` <: B59 , R12 , R15 :> ) = <: B59 , R12 , ( R19 /\ R15 ) :>))))
proof
let R12 being set;
let R15 being set;
let R19 being set;
let C56 being Function;
thus L374: ( R19 |` <: C56 , R12 , R15 :> ) = ( R19 |` ( R15 |` ( C56 | R12 ) ) ) by RELAT_1:109
.= ( ( R19 /\ R15 ) |` ( C56 | R12 ) ) by RELAT_1:96
.= <: C56 , R12 , ( R19 /\ R15 ) :> by RELAT_1:109;
end;
definition
let R12 being set;
let C57 being R12 -defined Relation;
attr C57 is  total
means
:L375: ( dom C57 ) = R12;
end;
registration
let C58 being  empty set;
let C59 being set;
cluster  ->  total for (Relation of C58 , C59);
coherence
proof
let C60 being (Relation of C58 , C59);
thus L377: ( dom C60 ) = C58;
end;
end;
registration
let C61 being non  empty set;
let C62 being  empty set;
cluster  -> non  total for (Relation of C61 , C62);
coherence
proof
let C63 being (Relation of C61 , C62);
assume L379: C63 is  total;
L380: ( dom C63 ) = C61 by L379 , L375;
thus L381: thesis by L380;
end;
end;
theorem
L383: (for R12 being set holds (for R15 being set holds (for B60 being Function holds (<: B60 , R12 , R15 :> is  total implies R12 c= ( dom B60 )))))
proof
let R12 being set;
let R15 being set;
let C64 being Function;
assume that
L384: ( dom <: C64 , R12 , R15 :> ) = R12;
L385: ( dom <: C64 , R12 , R15 :> ) c= ( dom C64 ) by L189;
let R1 being set;
assume L386: R1 in R12;
thus L387: thesis by L386 , L384 , L385;
end;
theorem
L388: (for R12 being set holds (for R15 being set holds (<: ( {} ) , R12 , R15 :> is  total implies R12 = ( {} ))))
proof
let R12 being set;
let R15 being set;
L389: ( dom ( {} ) ) = ( {} );
thus L390: thesis by L389 , L383 , XBOOLE_1:3;
end;
theorem
L391: (for R12 being set holds (for R15 being set holds (for B61 being Function holds ((R12 c= ( dom B61 ) & ( rng B61 ) c= R15) implies <: B61 , R12 , R15 :> is  total))))
proof
let R12 being set;
let R15 being set;
let C65 being Function;
assume that
L392: R12 c= ( dom C65 )
and
L393: ( rng C65 ) c= R15;
L394: R12 c= ( dom <: C65 , R12 , R15 :> )
proof
let R1 being set;
assume L395: R1 in R12;
L396: ( C65 . R1 ) in ( rng C65 ) by L395 , L392 , FUNCT_1:def 3;
thus L397: thesis by L396 , L392 , L393 , L395 , L192;
end;
thus L398: ( dom <: C65 , R12 , R15 :> ) = R12 by L394 , XBOOLE_0:def 10;
end;
theorem
L399: (for R12 being set holds (for R15 being set holds (for B62 being Function holds (<: B62 , R12 , R15 :> is  total implies ( B62 .: R12 ) c= R15))))
proof
let R12 being set;
let R15 being set;
let C66 being Function;
assume that
L400: ( dom <: C66 , R12 , R15 :> ) = R12;
let R4 being set;
L401: ( rng <: C66 , R12 , R15 :> ) c= R15 by RELAT_1:def 19;
assume L402: R4 in ( C66 .: R12 );
consider R1 being set such that L403: R1 in ( dom C66 ) and L404: (R1 in R12 & R4 = ( C66 . R1 )) by L402 , FUNCT_1:def 6;
L405: (( <: C66 , R12 , R15 :> . R1 ) = R4 & ( <: C66 , R12 , R15 :> . R1 ) in ( rng <: C66 , R12 , R15 :> )) by L400 , L404 , L211 , FUNCT_1:def 3;
thus L406: thesis by L405 , L401;
end;
theorem
L407: (for R12 being set holds (for R15 being set holds (for B63 being Function holds ((R12 c= ( dom B63 ) & ( B63 .: R12 ) c= R15) implies <: B63 , R12 , R15 :> is  total))))
proof
let R12 being set;
let R15 being set;
let C67 being Function;
assume that
L408: R12 c= ( dom C67 )
and
L409: ( C67 .: R12 ) c= R15;
L410: R12 c= ( dom <: C67 , R12 , R15 :> )
proof
let R1 being set;
assume L411: R1 in R12;
L412: ( C67 . R1 ) in ( C67 .: R12 ) by L411 , L408 , FUNCT_1:def 6;
thus L413: thesis by L412 , L408 , L409 , L411 , L192;
end;
thus L414: ( dom <: C67 , R12 , R15 :> ) = R12 by L410 , XBOOLE_0:def 10;
end;
definition
let R12 being set;
let R15 being set;
func PFuncs (R12 , R15) -> set means 
:L415: (for R1 being set holds (R1 in it iff (ex B64 being Function st (R1 = B64 & ( dom B64 ) c= R12 & ( rng B64 ) c= R15))));
existence
proof
defpred S6[ set ] means (ex B65 being Function st ($1 = B65 & ( dom B65 ) c= R12 & ( rng B65 ) c= R15));
consider C68 being set such that L416: (for R8 being set holds (R8 in C68 iff (R8 in ( bool [: R12 , R15 :] ) & S6[ R8 ]))) from XBOOLE_0:sch 1;
take C68;
let R8 being set;
thus L417: (R8 in C68 implies (ex B66 being Function st (R8 = B66 & ( dom B66 ) c= R12 & ( rng B66 ) c= R15))) by L416;
given C69 being Function such that
L418: R8 = C69
and
L419: (( dom C69 ) c= R12 & ( rng C69 ) c= R15);

L420: C69 c= [: R12 , R15 :]
proof
let R1 being set;
let R4 being set;
assume L421: [ R1 , R4 ] in C69;
L422: R1 in ( dom C69 ) by L421 , XTUPLE_0:def 12;
L423: R4 = ( C69 . R1 ) by L422 , L421 , FUNCT_1:def 2;
L424: R4 in ( rng C69 ) by L423 , L422 , FUNCT_1:def 3;
thus L425: thesis by L424 , L419 , L422 , ZFMISC_1:def 2;
end;
thus L426: thesis by L420 , L416 , L418 , L419;
end;
uniqueness
proof
let C70 , C71 being set;
assume that
L427: (for R1 being set holds (R1 in C70 iff (ex B67 being Function st (R1 = B67 & ( dom B67 ) c= R12 & ( rng B67 ) c= R15))))
and
L428: (for R1 being set holds (R1 in C71 iff (ex B68 being Function st (R1 = B68 & ( dom B68 ) c= R12 & ( rng B68 ) c= R15))));
L429: (for R1 being set holds (R1 in C70 iff R1 in C71))
proof
let R1 being set;
L430: (R1 in C70 iff (ex B69 being Function st (R1 = B69 & ( dom B69 ) c= R12 & ( rng B69 ) c= R15))) by L427;
thus L431: thesis by L430 , L428;
end;
thus L432: thesis by L429 , TARSKI:1;
end;
end;
registration
let R12 being set;
let R15 being set;
cluster ( PFuncs (R12 , R15) ) -> non  empty;
coherence
proof
L434: (ex B70 being Function st (( dom B70 ) c= R12 & ( rng B70 ) c= R15)) by L40;
thus L435: thesis by L434 , L415;
end;
end;
theorem
L437: (for R12 being set holds (for R15 being set holds (for B71 being (PartFunc of R12 , R15) holds B71 in ( PFuncs (R12 , R15) ))))
proof
let R12 being set;
let R15 being set;
let C72 being (PartFunc of R12 , R15);
L438: (( dom C72 ) c= R12 & ( rng C72 ) c= R15) by RELAT_1:def 19;
thus L439: thesis by L438 , L415;
end;
theorem
L440: (for R12 being set holds (for R15 being set holds (for B72 being set holds (B72 in ( PFuncs (R12 , R15) ) implies B72 is (PartFunc of R12 , R15)))))
proof
let R12 being set;
let R15 being set;
let C73 being set;
assume L441: C73 in ( PFuncs (R12 , R15) );
L442: (ex B73 being Function st (C73 = B73 & ( dom B73 ) c= R12 & ( rng B73 ) c= R15)) by L441 , L415;
thus L443: thesis by L442 , RELSET_1:4;
end;
theorem
L444: (for R12 being set holds (for R15 being set holds (for B74 being (Element of ( PFuncs (R12 , R15) )) holds B74 is (PartFunc of R12 , R15)))) by L440;
theorem
L445: (for R15 being set holds ( PFuncs (( {} ) , R15) ) = { ( {} ) })
proof
let R15 being set;
L446: (for R1 being set holds (R1 in ( PFuncs (( {} ) , R15) ) iff R1 = ( {} )))
proof
let R1 being set;
thus L447: (R1 in ( PFuncs (( {} ) , R15) ) implies R1 = ( {} ))
proof
assume L448: R1 in ( PFuncs (( {} ) , R15) );
L449: R1 is (PartFunc of ( {} ) , R15) by L448 , L440;
thus L450: thesis by L449;
end;

L451: ( {} ) is (PartFunc of ( {} ) , R15) by RELSET_1:12;
thus L452: thesis by L451 , L437;
end;
thus L453: thesis by L446 , TARSKI:def 1;
end;
theorem
L454: (for R12 being set holds ( PFuncs (R12 , ( {} )) ) = { ( {} ) })
proof
let R12 being set;
L455: (for R1 being set holds (R1 in ( PFuncs (R12 , ( {} )) ) iff R1 = ( {} )))
proof
let R1 being set;
thus L456: (R1 in ( PFuncs (R12 , ( {} )) ) implies R1 = ( {} ))
proof
assume L457: R1 in ( PFuncs (R12 , ( {} )) );
L458: R1 is (PartFunc of R12 , ( {} )) by L457 , L440;
thus L459: thesis by L458;
end;

L460: ( {} ) is (PartFunc of R12 , ( {} )) by RELSET_1:12;
thus L461: thesis by L460 , L437;
end;
thus L462: thesis by L455 , TARSKI:def 1;
end;
theorem
L463: (for R13 being set holds (for R14 being set holds (for R16 being set holds (for R17 being set holds ((R13 c= R14 & R16 c= R17) implies ( PFuncs (R13 , R16) ) c= ( PFuncs (R14 , R17) ))))))
proof
let R13 being set;
let R14 being set;
let R16 being set;
let R17 being set;
assume L464: (R13 c= R14 & R16 c= R17);
let C74 being set;
assume L465: C74 in ( PFuncs (R13 , R16) );
L466: C74 is (PartFunc of R13 , R16) by L465 , L440;
L467: C74 is (PartFunc of R14 , R17) by L466 , L464 , RELSET_1:7;
thus L468: thesis by L467 , L437;
end;
definition
let C75 , C76 being Function;
pred C75 tolerates C76
means
:L469: (for R1 being set holds (R1 in ( ( dom C75 ) /\ ( dom C76 ) ) implies ( C75 . R1 ) = ( C76 . R1 )))
;reflexivity
;
symmetry
;
end;
theorem
L471: (for B75 , B76 being Function holds (B75 tolerates B76 iff (ex B77 being Function st ( B75 \/ B76 ) = B77)))
proof
let C77 , C78 being Function;
L472: ((for R1 being set holds (R1 in ( ( dom C77 ) /\ ( dom C78 ) ) implies ( C77 . R1 ) = ( C78 . R1 ))) iff (ex B78 being Function st ( C77 \/ C78 ) = B78)) by L1 , L28;
thus L473: thesis by L472 , L469;
end;
theorem
L474: (for B79 , B80 being Function holds (B79 tolerates B80 iff (ex B81 being Function st (B79 c= B81 & B80 c= B81))))
proof
let C79 , C80 being Function;
L475:
now
thus L476: ((ex B82 being Function st (C79 c= B82 & C80 c= B82)) implies (ex B83 being Function st ( C79 \/ C80 ) = B83))
proof
given C81 being Function such that
L477: (C79 c= C81 & C80 c= C81);

L478: ( C79 \/ C80 ) is Function by L477 , GRFUNC_1:1 , XBOOLE_1:8;
thus L479: thesis by L478;
end;

given C82 being Function such that
L480: ( C79 \/ C80 ) = C82;

L481: (C79 c= C82 & C80 c= C82) by L480 , XBOOLE_1:7;
thus L482: (ex B84 being Function st (C79 c= B84 & C80 c= B84)) by L481;
end;
thus L483: thesis by L475 , L471;
end;
theorem
L484: (for B85 , B86 being Function holds (( dom B85 ) c= ( dom B86 ) implies (B85 tolerates B86 iff (for R1 being set holds (R1 in ( dom B85 ) implies ( B85 . R1 ) = ( B86 . R1 ))))))
proof
let C83 , C84 being Function;
assume L485: ( dom C83 ) c= ( dom C84 );
L486: ( ( dom C83 ) /\ ( dom C84 ) ) = ( dom C83 ) by L485 , XBOOLE_1:28;
thus L487: thesis by L486 , L469;
end;
theorem
L488: (for B87 , B88 being Function holds (B87 c= B88 implies B87 tolerates B88)) by L474;
theorem
L489: (for B89 , B90 being Function holds ((( dom B89 ) = ( dom B90 ) & B89 tolerates B90) implies B89 = B90))
proof
let C85 , C86 being Function;
assume that
L490: ( dom C85 ) = ( dom C86 )
and
L491: C85 tolerates C86;
L492: (for R1 being set holds (R1 in ( dom C85 ) implies ( C85 . R1 ) = ( C86 . R1 ))) by L490 , L491 , L484;
thus L493: thesis by L492 , L490 , FUNCT_1:2;
end;
theorem
L494: (for B91 , B92 being Function holds (( dom B91 ) misses ( dom B92 ) implies B91 tolerates B92))
proof
let C87 , C88 being Function;
assume L495: ( dom C87 ) misses ( dom C88 );
L496: ( C87 \/ C88 ) is Function by L495 , GRFUNC_1:13;
thus L497: thesis by L496 , L471;
end;
theorem
L498: (for B93 , B94 , B95 being Function holds ((B93 c= B95 & B94 c= B95) implies B93 tolerates B94)) by L474;
theorem
L499: (for R12 being set holds (for R15 being set holds (for B96 , B97 being (PartFunc of R12 , R15) holds (for B98 being Function holds ((B96 tolerates B98 & B97 c= B96) implies B97 tolerates B98)))))
proof
let R12 being set;
let R15 being set;
let C89 , C90 being (PartFunc of R12 , R15);
let C91 being Function;
assume that
L500: C89 tolerates C91
and
L501: C90 c= C89;
L502: ( dom C90 ) c= ( dom C89 ) by L501 , RELAT_1:11;
let R1 being set;
assume L503: R1 in ( ( dom C90 ) /\ ( dom C91 ) );
L504: R1 in ( dom C90 ) by L503 , XBOOLE_0:def 4;
L505: ( C89 . R1 ) = ( C90 . R1 ) by L504 , L501 , GRFUNC_1:2;
L506: R1 in ( dom C91 ) by L503 , XBOOLE_0:def 4;
L507: R1 in ( ( dom C89 ) /\ ( dom C91 ) ) by L506 , L504 , L502 , XBOOLE_0:def 4;
thus L508: thesis by L507 , L500 , L505 , L469;
end;
theorem
L509: (for B99 being Function holds ( {} ) tolerates B99)
proof
let C92 being Function;
L510: ( ( {} ) \/ C92 ) = C92;
thus L511: thesis by L510 , L471;
end;
theorem
L512: (for R12 being set holds (for R15 being set holds (for B100 being Function holds <: ( {} ) , R12 , R15 :> tolerates B100)))
proof
let R12 being set;
let R15 being set;
let C93 being Function;
L513: <: ( {} ) , R12 , R15 :> = ( {} ) by L270;
thus L514: thesis by L513 , L509;
end;
theorem
L515: (for R4 being set holds (for R12 being set holds (for B101 , B102 being (PartFunc of R12 , { R4 }) holds B101 tolerates B102)))
proof
let R4 being set;
let R12 being set;
let C94 , C95 being (PartFunc of R12 , { R4 });
let R1 being set;
assume L516: R1 in ( ( dom C94 ) /\ ( dom C95 ) );
L517: R1 in ( dom C94 ) by L516 , XBOOLE_0:def 4;
L518: ( C94 . R1 ) = R4 by L517 , L175;
L519: R1 in ( dom C95 ) by L516 , XBOOLE_0:def 4;
thus L520: thesis by L519 , L518 , L175;
end;
theorem
L521: (for R12 being set holds (for B103 being Function holds ( B103 | R12 ) tolerates B103))
proof
let R12 being set;
let C96 being Function;
L522: ( C96 | R12 ) c= C96 by RELAT_1:59;
thus L523: thesis by L522 , L474;
end;
theorem
L524: (for R15 being set holds (for B104 being Function holds ( R15 |` B104 ) tolerates B104))
proof
let R15 being set;
let C97 being Function;
L525: ( R15 |` C97 ) c= C97 by RELAT_1:86;
thus L526: thesis by L525 , L474;
end;
theorem
L527: (for R12 being set holds (for R15 being set holds (for B105 being Function holds ( ( R15 |` B105 ) | R12 ) tolerates B105)))
proof
let R12 being set;
let R15 being set;
let C98 being Function;
L528: (( ( R15 |` C98 ) | R12 ) c= ( R15 |` C98 ) & ( R15 |` C98 ) c= C98) by RELAT_1:59 , RELAT_1:86;
L529: ( ( R15 |` C98 ) | R12 ) c= C98 by L528 , XBOOLE_1:1;
thus L530: thesis by L529 , L474;
end;
theorem
L531: (for R12 being set holds (for R15 being set holds (for B106 being Function holds <: B106 , R12 , R15 :> tolerates B106))) by L527;
theorem
L532: (for R12 being set holds (for R15 being set holds (for B107 , B108 being (PartFunc of R12 , R15) holds ((B107 is  total & B108 is  total & B107 tolerates B108) implies B107 = B108))))
proof
let R12 being set;
let R15 being set;
let C99 , C100 being (PartFunc of R12 , R15);
assume L533: (( dom C99 ) = R12 & ( dom C100 ) = R12);
thus L534: thesis by L533 , L489;
end;
theorem
L535: (for R12 being set holds (for R15 being set holds (for B109 , B110 , B111 being (PartFunc of R12 , R15) holds ((B109 tolerates B111 & B110 tolerates B111 & B111 is  total) implies B109 tolerates B110))))
proof
let R12 being set;
let R15 being set;
let C101 , C102 , C103 being (PartFunc of R12 , R15);
assume that
L536: C101 tolerates C103
and
L537: C102 tolerates C103
and
L538: ( dom C103 ) = R12;
let R1 being set;
assume L539: R1 in ( ( dom C101 ) /\ ( dom C102 ) );
L540: R1 in ( dom C101 ) by L539 , XBOOLE_0:def 4;
L541: R1 in ( ( dom C101 ) /\ ( dom C103 ) ) by L540 , L538 , XBOOLE_0:def 4;
L542: ( C101 . R1 ) = ( C103 . R1 ) by L541 , L536 , L469;
L543: R1 in ( dom C102 ) by L539 , XBOOLE_0:def 4;
L544: R1 in ( ( dom C102 ) /\ ( dom C103 ) ) by L543 , L538 , XBOOLE_0:def 4;
thus L545: thesis by L544 , L537 , L542 , L469;
end;
theorem
L546: (for R12 being set holds (for R15 being set holds (for B112 , B113 being (PartFunc of R12 , R15) holds (((R15 = ( {} ) implies R12 = ( {} )) & B112 tolerates B113) implies (ex B114 being (PartFunc of R12 , R15) st (B114 is  total & B112 tolerates B114 & B113 tolerates B114))))))
proof
let R12 being set;
let R15 being set;
let C104 , C105 being (PartFunc of R12 , R15);
assume that
L547: (R15 = ( {} ) implies R12 = ( {} ))
and
L548: C104 tolerates C105;
L549:
now
per cases ;
suppose L550: R15 = ( {} );

L551: (C104 tolerates <: ( {} ) , R12 , R15 :> & C105 tolerates <: ( {} ) , R12 , R15 :>) by L550;
thus L552: thesis by L551 , L547 , L550;
end;
suppose L553: R15 <> ( {} );

set D9 = the (Element of R15);
defpred S7[ set , set ] means (($1 in ( dom C104 ) implies $2 = ( C104 . $1 )) & ($1 in ( dom C105 ) implies $2 = ( C105 . $1 )) & (((not $1 in ( dom C104 )) & (not $1 in ( dom C105 ))) implies $2 = D9));
L554: (for R1 being set holds (R1 in R12 implies (ex R5 being set st S7[ R1 , R5 ])))
proof
let R1 being set;
assume that
L555: R1 in R12;
L556:
now
per cases ;
suppose L557: (R1 in ( dom C104 ) & R1 in ( dom C105 ));

take D10 = ( C104 . R1 );
thus L558: (R1 in ( dom C104 ) implies D10 = ( C104 . R1 ));
L559: R1 in ( ( dom C104 ) /\ ( dom C105 ) ) by L557 , XBOOLE_0:def 4;
thus L560: (R1 in ( dom C105 ) implies D10 = ( C105 . R1 )) by L559 , L548 , L469;
thus L561: (((not R1 in ( dom C104 )) & (not R1 in ( dom C105 ))) implies D10 = D9) by L557;
end;
suppose L562: (R1 in ( dom C104 ) & (not R1 in ( dom C105 )));

take D11 = ( C104 . R1 );
thus L563: ((R1 in ( dom C104 ) implies D11 = ( C104 . R1 )) & (R1 in ( dom C105 ) implies D11 = ( C105 . R1 )) & (((not R1 in ( dom C104 )) & (not R1 in ( dom C105 ))) implies D11 = D9)) by L562;
end;
suppose L564: ((not R1 in ( dom C104 )) & R1 in ( dom C105 ));

take D12 = ( C105 . R1 );
thus L565: ((R1 in ( dom C104 ) implies D12 = ( C104 . R1 )) & (R1 in ( dom C105 ) implies D12 = ( C105 . R1 )) & (((not R1 in ( dom C104 )) & (not R1 in ( dom C105 ))) implies D12 = D9)) by L564;
end;
suppose L566: ((not R1 in ( dom C104 )) & (not R1 in ( dom C105 )));

thus L567: thesis by L566;
end;
end;
thus L569: thesis by L556;
end;
L570: (for R1 being set holds (for R6 being set holds (for R7 being set holds ((R1 in R12 & S7[ R1 , R6 ] & S7[ R1 , R7 ]) implies R6 = R7))));
consider C106 being Function such that L571: ( dom C106 ) = R12 and L572: (for R1 being set holds (R1 in R12 implies S7[ R1 , ( C106 . R1 ) ])) from FUNCT_1:sch 2(L570 , L554);
L573: ( rng C106 ) c= R15
proof
let R8 being set;
assume L574: R8 in ( rng C106 );
consider R1 being set such that L575: R1 in ( dom C106 ) and L576: R8 = ( C106 . R1 ) by L574 , FUNCT_1:def 3;
per cases ;
suppose L577: (R1 in ( dom C104 ) & R1 in ( dom C105 ));

L578: R8 = ( C104 . R1 ) by L577 , L572 , L576;
thus L579: thesis by L578 , L577 , L50;
end;
suppose L580: (R1 in ( dom C104 ) & (not R1 in ( dom C105 )));

L581: R8 = ( C104 . R1 ) by L580 , L572 , L576;
thus L582: thesis by L581 , L580 , L50;
end;
suppose L583: ((not R1 in ( dom C104 )) & R1 in ( dom C105 ));

L584: R8 = ( C105 . R1 ) by L583 , L572 , L576;
thus L585: thesis by L584 , L583 , L50;
end;
suppose L586: ((not R1 in ( dom C104 )) & (not R1 in ( dom C105 )));

L587: R8 = D9 by L586 , L571 , L572 , L575 , L576;
thus L588: thesis by L587 , L553;
end;
end;
reconsider D13 = C106 as (PartFunc of R12 , R15) by L573 , L571 , RELSET_1:4;
L590: C104 tolerates C106
proof
let R1 being set;
assume L591: R1 in ( ( dom C104 ) /\ ( dom C106 ) );
L592: R1 in ( dom C104 ) by L591 , XBOOLE_0:def 4;
thus L593: thesis by L592 , L572;
end;
L594: C105 tolerates C106
proof
let R1 being set;
assume L595: R1 in ( ( dom C105 ) /\ ( dom C106 ) );
L596: R1 in ( dom C105 ) by L595 , XBOOLE_0:def 4;
thus L597: thesis by L596 , L572;
end;
L598: D13 is  total by L571 , L375;
thus L599: thesis by L598 , L590 , L594;
end;
end;
thus L601: thesis by L549;
end;
definition
let R12 being set;
let R15 being set;
let C107 being (PartFunc of R12 , R15);
func TotFuncs C107 -> set means 
:L602: (for R1 being set holds (R1 in it iff (ex B115 being (PartFunc of R12 , R15) st (B115 = R1 & B115 is  total & C107 tolerates B115))));
existence
proof
defpred S8[ set ] means (ex B116 being (PartFunc of R12 , R15) st (B116 = $1 & B116 is  total & C107 tolerates B116));
L603:
now
consider C108 being set such that L604: (for R1 being set holds (R1 in C108 iff (R1 in ( PFuncs (R12 , R15) ) & S8[ R1 ]))) from XBOOLE_0:sch 1;
take D14 = C108;
let R1 being set;
thus L605: (R1 in D14 implies (ex B117 being (PartFunc of R12 , R15) st (B117 = R1 & B117 is  total & C107 tolerates B117))) by L604;
given C109 being (PartFunc of R12 , R15) such that
L606: (C109 = R1 & C109 is  total & C107 tolerates C109);

L607: C109 in ( PFuncs (R12 , R15) ) by L437;
thus L608: R1 in D14 by L607 , L604 , L606;
end;
thus L609: thesis by L603;
end;
uniqueness
proof
defpred S9[ set ] means (ex B118 being (PartFunc of R12 , R15) st (B118 = $1 & B118 is  total & C107 tolerates B118));
let C110 , C111 being set;
assume that
L610: (for R1 being set holds (R1 in C110 iff S9[ R1 ]))
and
L611: (for R1 being set holds (R1 in C111 iff S9[ R1 ]));
thus L612: thesis from XBOOLE_0:sch 2(L610 , L611);
end;
end;
theorem
L614: (for R12 being set holds (for R15 being set holds (for B119 being (PartFunc of R12 , R15) holds (for B120 being set holds (B120 in ( TotFuncs B119 ) implies B120 is (PartFunc of R12 , R15))))))
proof
let R12 being set;
let R15 being set;
let C112 being (PartFunc of R12 , R15);
let C113 being set;
assume L615: C113 in ( TotFuncs C112 );
L616: (ex B121 being (PartFunc of R12 , R15) st (B121 = C113 & B121 is  total & C112 tolerates B121)) by L615 , L602;
thus L617: thesis by L616;
end;
theorem
L618: (for R12 being set holds (for R15 being set holds (for B122 , B123 being (PartFunc of R12 , R15) holds (B123 in ( TotFuncs B122 ) implies B123 is  total))))
proof
let R12 being set;
let R15 being set;
let C114 , C115 being (PartFunc of R12 , R15);
assume L619: C115 in ( TotFuncs C114 );
L620: (ex B124 being (PartFunc of R12 , R15) st (B124 = C115 & B124 is  total & C114 tolerates B124)) by L619 , L602;
thus L621: thesis by L620;
end;
theorem
L622: (for R12 being set holds (for R15 being set holds (for B125 being (PartFunc of R12 , R15) holds (for B126 being Function holds (B126 in ( TotFuncs B125 ) implies B125 tolerates B126)))))
proof
let R12 being set;
let R15 being set;
let C116 being (PartFunc of R12 , R15);
let C117 being Function;
assume L623: C117 in ( TotFuncs C116 );
L624: (ex B127 being (PartFunc of R12 , R15) st (B127 = C117 & B127 is  total & C116 tolerates B127)) by L623 , L602;
thus L625: thesis by L624;
end;
registration
let C118 being non  empty set;
let C119 being  empty set;
let C120 being (PartFunc of C118 , C119);
cluster ( TotFuncs C120 ) ->  empty;
coherence
proof
set D15 = the (Element of ( TotFuncs C120 ));
assume L626: (not ( TotFuncs C120 ) is  empty);
L627: (ex B128 being (PartFunc of C118 , ( {} )) st (B128 = D15 & B128 is  total & C120 tolerates B128)) by L626 , L602;
thus L628: contradiction by L627;
end;
end;
theorem
L630: (for R12 being set holds (for R15 being set holds (for B129 being (PartFunc of R12 , R15) holds (B129 is  total iff ( TotFuncs B129 ) = { B129 }))))
proof
let R12 being set;
let R15 being set;
let C121 being (PartFunc of R12 , R15);
thus L631: (C121 is  total implies ( TotFuncs C121 ) = { C121 })
proof
assume L632: C121 is  total;
L633: (for B130 being set holds (B130 in ( TotFuncs C121 ) iff C121 = B130))
proof
let C122 being set;
thus L634: (C122 in ( TotFuncs C121 ) implies C121 = C122)
proof
assume L635: C122 in ( TotFuncs C121 );
L636: (ex B131 being (PartFunc of R12 , R15) st (B131 = C122 & B131 is  total & C121 tolerates B131)) by L635 , L602;
thus L637: thesis by L636 , L632 , L532;
end;

thus L638: thesis by L632 , L602;
end;
thus L639: thesis by L633 , TARSKI:def 1;
end;

assume L640: ( TotFuncs C121 ) = { C121 };
L641: C121 in ( TotFuncs C121 ) by L640 , TARSKI:def 1;
thus L642: thesis by L641 , L618;
end;
theorem
L643: (for R15 being set holds (for B132 being (PartFunc of ( {} ) , R15) holds ( TotFuncs B132 ) = { B132 })) by L630;
theorem
L644: (for R15 being set holds (for B133 being (PartFunc of ( {} ) , R15) holds ( TotFuncs B133 ) = { ( {} ) })) by L630;
theorem
L645: (for R12 being set holds (for R15 being set holds (for B134 , B135 being (PartFunc of R12 , R15) holds (( TotFuncs B134 ) meets ( TotFuncs B135 ) implies B134 tolerates B135))))
proof
let R12 being set;
let R15 being set;
let C123 , C124 being (PartFunc of R12 , R15);
set D16 = the (Element of ( ( TotFuncs C123 ) /\ ( TotFuncs C124 ) ));
assume L646: ( ( TotFuncs C123 ) /\ ( TotFuncs C124 ) ) <> ( {} );
L647: D16 in ( TotFuncs C123 ) by L646 , XBOOLE_0:def 4;
L648: D16 in ( TotFuncs C124 ) by L646 , XBOOLE_0:def 4;
reconsider D17 = D16 as (PartFunc of R12 , R15) by L647 , L614;
L649: C124 tolerates D17 by L648 , L622;
L650: C123 tolerates D17 by L647 , L622;
thus L651: thesis by L650 , L647 , L649 , L535 , L618;
end;
theorem
L652: (for R12 being set holds (for R15 being set holds (for B136 , B137 being (PartFunc of R12 , R15) holds (((R15 = ( {} ) implies R12 = ( {} )) & B136 tolerates B137) implies ( TotFuncs B136 ) meets ( TotFuncs B137 )))))
proof
let R12 being set;
let R15 being set;
let C125 , C126 being (PartFunc of R12 , R15);
assume L653: ((R15 = ( {} ) implies R12 = ( {} )) & C125 tolerates C126);
consider C127 being (PartFunc of R12 , R15) such that L654: (C127 is  total & C125 tolerates C127 & C126 tolerates C127) by L653 , L546;
L655: (C127 in ( TotFuncs C125 ) & C127 in ( TotFuncs C126 )) by L654 , L602;
thus L656: ( ( TotFuncs C125 ) /\ ( TotFuncs C126 ) ) <> ( {} ) by L655 , XBOOLE_0:def 4;
end;
begin
L657: (for R12 being set holds (for B138 being (Relation of R12) holds (B138 = ( id R12 ) implies B138 is  total)))
proof
let R12 being set;
let C128 being (Relation of R12);
assume L658: C128 = ( id R12 );
thus L659: ( dom C128 ) = R12 by L658 , RELAT_1:45;
end;
L660: (for R12 being set holds (for B139 being Relation holds (B139 = ( id R12 ) implies B139 is  reflexive  symmetric  antisymmetric  transitive)))
proof
let R12 being set;
let C129 being Relation;
assume L661: C129 = ( id R12 );
L662: (( dom C129 ) = R12 & ( rng C129 ) = R12) by L661 , RELAT_1:45;
thus L663: C129 is_reflexive_in ( field C129 )
proof
let R1 being set;
thus L664: thesis by L661 , L662 , RELAT_1:def 10;
end;

thus L665: C129 is_symmetric_in ( field C129 )
proof
let R1 being set;
let R4 being set;
assume that
L666: R1 in ( field C129 )
and
L667: R4 in ( field C129 );
assume L668: [ R1 , R4 ] in C129;
thus L669: thesis by L668 , L661 , RELAT_1:def 10;
end;

thus L670: C129 is_antisymmetric_in ( field C129 )
proof
let R1 being set;
thus L671: thesis by L661 , RELAT_1:def 10;
end;

thus L672: C129 is_transitive_in ( field C129 )
proof
let R1 being set;
thus L673: thesis by L661 , RELAT_1:def 10;
end;

end;
L673: (for R12 being set holds ( id R12 ) is (Relation of R12))
proof
let R12 being set;
L674: (( dom ( id R12 ) ) c= R12 & ( rng ( id R12 ) ) c= R12);
thus L675: thesis by L674 , RELSET_1:4;
end;
registration
let R12 being set;
cluster  total  reflexive  symmetric  antisymmetric  transitive for (Relation of R12);
existence
proof
reconsider D18 = ( id R12 ) as (Relation of R12) by L673;
take D18;
thus L676: thesis by L657 , L660;
end;
end;
registration
cluster  symmetric  transitive ->  reflexive for Relation;
coherence
proof
let C130 being Relation;
assume that
L678: C130 is_symmetric_in ( field C130 )
and
L679: C130 is_transitive_in ( field C130 );
let R1 being set;
assume L680: R1 in ( field C130 );
L681: (R1 in ( dom C130 ) or R1 in ( rng C130 )) by L680 , XBOOLE_0:def 3;
consider R4 being set such that L682: ([ R1 , R4 ] in C130 or [ R4 , R1 ] in C130) by L681 , XTUPLE_0:def 12 , XTUPLE_0:def 13;
L683: (R4 in ( rng C130 ) or R4 in ( dom C130 )) by L682 , XTUPLE_0:def 12 , XTUPLE_0:def 13;
L684: R4 in ( field C130 ) by L683 , XBOOLE_0:def 3;
L685: ([ R1 , R4 ] in C130 & [ R4 , R1 ] in C130) by L684 , L678 , L680 , L682 , RELAT_2:def 3;
thus L686: thesis by L685 , L679 , L680 , L684 , RELAT_2:def 8;
end;
end;
registration
let R12 being set;
cluster ( id R12 ) ->  symmetric  antisymmetric  transitive;
coherence by L660;
end;
definition
let R12 being set;
redefine func id R12 ->  total (Relation of R12);

coherence by L657 , L673;
end;
scheme LambdaC9 { F9() -> non  empty set , P4[set] , F10 , F11(set) -> set } : (ex B140 being Function st (( dom B140 ) = F9() & (for B141 being (Element of F9()) holds ((P4[ B141 ] implies ( B140 . B141 ) = F10(B141)) & ((not P4[ B141 ]) implies ( B140 . B141 ) = F11(B141))))))
proof
consider C131 being Function such that L690: (( dom C131 ) = F9() & (for B142 being set holds (B142 in F9() implies ((P4[ B142 ] implies ( C131 . B142 ) = F10(B142)) & ((not P4[ B142 ]) implies ( C131 . B142 ) = F11(B142)))))) from LambdaC;
take C131;
thus L691: thesis by L690;
end;
begin
theorem
L692: (for R1 being set holds (for R4 being set holds (for R8 being set holds (for R21 being Function holds (for R22 being Function holds ((R21 tolerates R22 & [ R1 , R4 ] in R21 & [ R1 , R8 ] in R22) implies R4 = R8))))))
proof
let R1 being set;
let R4 being set;
let R8 being set;
let R21 being Function;
let R22 being Function;
assume L693: R21 tolerates R22;
consider R23 being Function such that L694: R23 = ( R21 \/ R22 ) by L693 , L471;
assume L695: ([ R1 , R4 ] in R21 & [ R1 , R8 ] in R22);
L696: ([ R1 , R4 ] in R23 & [ R1 , R8 ] in R23) by L695 , L694 , XBOOLE_0:def 3;
thus L697: thesis by L696 , FUNCT_1:def 1;
end;
theorem
L698: (for R20 being set holds ((R20 is  functional & (for B143 , B144 being Function holds ((B143 in R20 & B144 in R20) implies B143 tolerates B144))) implies ( union R20 ) is Function))
proof
let R20 being set;
assume that
L699: (for R1 being set holds (R1 in R20 implies R1 is Function))
and
L700: (for B145 , B146 being Function holds ((B145 in R20 & B146 in R20) implies B145 tolerates B146));
L701:
now
let R1 being set;
let R4 being set;
let R8 being set;
assume that
L702: [ R1 , R4 ] in ( union R20 )
and
L703: [ R1 , R8 ] in ( union R20 );
consider C132 being set such that L704: [ R1 , R4 ] in C132 and L705: C132 in R20 by L702 , TARSKI:def 4;
consider C133 being set such that L706: [ R1 , R8 ] in C133 and L707: C133 in R20 by L703 , TARSKI:def 4;
reconsider D19 = C132 , D20 = C133 as Function by L699 , L705 , L707;
L708: D19 tolerates D20 by L700 , L705 , L707;
thus L709: R4 = R8 by L708 , L704 , L706 , L692;
end;
L710:
now
let R8 being set;
assume L711: R8 in ( union R20 );
consider C134 being set such that L712: R8 in C134 and L713: C134 in R20 by L711 , TARSKI:def 4;
reconsider D21 = C134 as Function by L699 , L713;
L714: D21 = D21;
thus L715: (ex R1 being set st (ex R4 being set st [ R1 , R4 ] = R8)) by L714 , L712 , RELAT_1:def 1;
end;
thus L716: thesis by L710 , L701 , FUNCT_1:def 1 , RELAT_1:def 1;
end;
definition
let C135 being set;
let C136 being C135 -valued Function;
let C137 being set;
assume L717: C137 in ( dom C136 );
func C136 /. C137 -> (Element of C135) equals 
:L718: ( C136 . C137 );
coherence by L717 , L50;
end;
registration
let C138 , C139 being non  empty set;
cluster non  empty for (PartFunc of C138 , C139);
existence
proof
reconsider D22 = { [ ( choose C138 ) , ( choose C139 ) ] } as (PartFunc of C138 , C139) by RELSET_1:3;
take D22;
thus L720: thesis;
end;
end;
registration
let C140 , C141 being set;
cluster ( PFuncs (C140 , C141) ) ->  functional;
coherence
proof
let C142 being set;
assume L722: C142 in ( PFuncs (C140 , C141) );
L723: (ex B147 being Function st (C142 = B147 & ( dom B147 ) c= C140 & ( rng B147 ) c= C141)) by L722 , L415;
thus L724: thesis by L723;
end;
end;
theorem
L726: (for B148 , B149 , B150 being Function holds ((( rng B150 ) c= ( dom B148 ) & ( rng B150 ) c= ( dom B149 ) & B148 tolerates B149) implies ( B148 * B150 ) = ( B149 * B150 )))
proof
let C143 , C144 , C145 being Function;
assume that
L727: ( rng C145 ) c= ( dom C143 )
and
L728: ( rng C145 ) c= ( dom C144 )
and
L729: C143 tolerates C144;
L730: ( dom ( C144 * C145 ) ) = ( dom C145 ) by L728 , RELAT_1:27;
L731: ( dom ( C143 * C145 ) ) = ( dom C145 ) by L727 , RELAT_1:27;
L732:
now
let C146 being set;
assume L733: C146 in ( dom C145 );
L734: ( ( C144 * C145 ) . C146 ) = ( C144 . ( C145 . C146 ) ) by L733 , L730 , FUNCT_1:12;
L735: ( C145 . C146 ) in ( rng C145 ) by L733 , FUNCT_1:def 3;
L736: ( C145 . C146 ) in ( ( dom C143 ) /\ ( dom C144 ) ) by L735 , L727 , L728 , XBOOLE_0:def 4;
L737: ( ( C143 * C145 ) . C146 ) = ( C143 . ( C145 . C146 ) ) by L731 , L733 , FUNCT_1:12;
thus L738: ( ( C143 * C145 ) . C146 ) = ( ( C144 * C145 ) . C146 ) by L737 , L729 , L734 , L736 , L469;
end;
thus L739: thesis by L732 , L731 , L730 , FUNCT_1:2;
end;
theorem
L740: (for R1 being set holds (for R12 being set holds (for R15 being set holds (for B151 being R15 -valued Function holds (R1 in ( dom ( B151 | R12 ) ) implies ( ( B151 | R12 ) /. R1 ) = ( B151 /. R1 ))))))
proof
let R1 being set;
let R12 being set;
let R15 being set;
let C147 being R15 -valued Function;
assume L741: R1 in ( dom ( C147 | R12 ) );
L742: R1 in ( dom C147 ) by L741 , RELAT_1:57;
thus L743: ( ( C147 | R12 ) /. R1 ) = ( ( C147 | R12 ) . R1 ) by L741 , L718
.= ( C147 . R1 ) by L741 , FUNCT_1:47
.= ( C147 /. R1 ) by L742 , L718;
end;
