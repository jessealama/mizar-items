:: The Vector Space of Subsets of a Set Based on Symmetric Difference
::  by Jesse Alama
::
:: Received October 9, 2007
:: Copyright (c) 2007-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, STRUCT_0, FINSEQ_1, SUBSET_1, RELAT_1, FUNCT_1, NAT_1,
      ORDINAL4, VECTSP_1, INT_3, CARD_1, SUPINF_2, MESFUNC1, ARYTM_3, INT_1,
      QC_LANG1, XBOOLE_0, TARSKI, BINOP_1, ZFMISC_1, RLVECT_1, ALGSTR_0,
      GROUP_1, RLVECT_2, XXREAL_0, CARD_3, RLVECT_3, REALSET1, VALUED_1,
      FINSEQ_2, PARTFUN1, FINSET_1, FUNCT_4, RLVECT_5, ORDINAL2, BSPACE;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, RELAT_1, DOMAIN_1, RELSET_1,
      FUNCT_1, NUMBERS, ORDINAL1, NAT_1, INT_1, PARTFUN1, FUNCT_2, BINOP_1,
      FUNCT_7, XXREAL_0, CARD_1, FINSET_1, FINSEQ_1, FINSEQ_2,
      FINSEQOP, CARD_2,
      STRUCT_0, ALGSTR_0, GROUP_1, RLVECT_1, VECTSP_1, VECTSP_6, VECTSP_7,
      MATRLIN, VECTSP_9, INT_3, RANKNULL;
 constructors FINSEQOP, VECTSP_7, VECTSP_9, REALSET1, WELLORD2, NAT_D, FUNCT_7,
      CARD_2, RANKNULL, INT_3, GR_CY_1, RELSET_1, BINOP_2, BINOP_1;
 registrations STRUCT_0, CARD_1, FINSET_1, FINSEQ_1, SUBSET_1, XBOOLE_0,
      VECTSP_1, ORDINAL1, XREAL_0, INT_1, VECTSP_7, RELSET_1;
 requirements NUMERALS, BOOLE, ARITHM, SUBSET, REAL;
 definitions TARSKI, FUNCT_1, FINSEQ_1, CARD_1, XBOOLE_0, VECTSP_1, RLVECT_1,
      STRUCT_0, FINSEQ_2, BINOP_1, INT_3, ALGSTR_0;
 theorems TARSKI, ZFMISC_1, FINSEQ_1, FUNCT_1, VECTSP_7, CARD_2, XBOOLE_1,
      FUNCT_2, SUBSET_1, XBOOLE_0, VECTSP_1, RLVECT_1, VECTSP_4, VECTSP_6,
      STRUCT_0, CARD_1, FUNCOP_1, FUNCT_7, FINSEQ_2, NAT_1, WELLORD2, RANKNULL,
      MATRIX_3, INT_2, INT_3, GR_CY_1, NAT_D, ORDINAL1, PARTFUN1, FINSEQ_3,
      MATRLIN;
 schemes FINSEQ_1, FINSET_1, BINOP_1, FINSEQ_2, CLASSES1;

begin
definition
let C1 being 1-sorted;
func <*> C1 -> (FinSequence of C1) equals 
( <*> ( [#] C1 ) );
coherence;
end;
theorem
L2: (for R1 being 1-sorted holds (for R2 being (Element of ( NAT )) holds (for B1 being (FinSequence of R1) holds (R2 in ( dom B1 ) implies ( B1 . R2 ) in R1))))
proof
let R1 being 1-sorted;
let R2 being (Element of ( NAT ));
let C2 being (FinSequence of R1);
assume L3: R2 in ( dom C2 );
thus L4: ( C2 . R2 ) in (the carrier of R1) by L3 , FINSEQ_2:11;
end;
theorem
L5: (for R1 being 1-sorted holds (for R3 being FinSequence holds ((for B2 being Nat holds (B2 in ( dom R3 ) implies ( R3 . B2 ) in R1)) implies R3 is (FinSequence of R1))))
proof
let R1 being 1-sorted;
let R3 being FinSequence;
assume L6: (for B3 being Nat holds (B3 in ( dom R3 ) implies ( R3 . B3 ) in R1));
L7: (for B4 being Nat holds (B4 in ( dom R3 ) implies ( R3 . B4 ) in (the carrier of R1)))
proof
let C3 being Nat;
assume L8: C3 in ( dom R3 );
L9: ( R3 . C3 ) in R1 by L8 , L6;
thus L10: thesis by L9 , STRUCT_0:def 5;
end;
thus L11: thesis by L7 , FINSEQ_2:12;
end;
scheme IndSeqS { F1() -> 1-sorted , P1[set] } : (for B5 being (FinSequence of F1()) holds P1[ B5 ])
provided
L12: P1[ ( <*> F1() ) ]
and
L13: (for B6 being (FinSequence of F1()) holds (for B7 being (Element of F1()) holds (P1[ B6 ] implies P1[ ( B6 ^ <* B7 *> ) ])))
proof
L14: P1[ ( <*> (the carrier of F1()) ) ] by L12;
thus L15: (for B8 being (FinSequence of (the carrier of F1())) holds P1[ B8 ]) from FINSEQ_2:sch 2(L14 , L13);
end;
begin
definition
func Z_2 -> Field equals 
( INT.Ring 2 );
coherence by INT_2:28 , INT_3:12;
end;
theorem
L17: ( [#] ( Z_2 ) ) = { ( 0 ) , 1 } by CARD_1:50;
theorem
L18: (for B9 being (Element of ( Z_2 )) holds (B9 = ( 0 ) or B9 = 1)) by CARD_1:50 , TARSKI:def 2;
theorem
L19: ( 0. ( Z_2 ) ) = ( 0 )
proof
L20: ( 0 ) in 2 by NAT_1:44;
thus L21: ( 0. ( Z_2 ) ) = ( 0 ) by L20 , FUNCT_7:def 1;
end;
theorem
L22: ( 1. ( Z_2 ) ) = 1 by INT_3:14;
theorem
L23: ( ( 1. ( Z_2 ) ) + ( 1. ( Z_2 ) ) ) = ( 0. ( Z_2 ) )
proof
L24: ( ( 1. ( Z_2 ) ) + ( 1. ( Z_2 ) ) ) = ( ( 1 + 1 ) mod 2 ) by L22 , GR_CY_1:def 4
.= ( 0 ) by NAT_D:25;
thus L25: thesis by L24 , FUNCT_7:def 1;
end;
theorem
L26: (for B10 being (Element of ( Z_2 )) holds (B10 = ( 0. ( Z_2 ) ) iff B10 <> ( 1. ( Z_2 ) ))) by L19 , L22 , CARD_1:50 , TARSKI:def 2;
begin
definition
let C4 , C5 being set;
func C4 @ C5 -> (Element of ( Z_2 )) equals 
:L27: ( 1. ( Z_2 ) ) if C5 in C4 otherwise ( 0. ( Z_2 ) );
coherence;
consistency;
end;
theorem
L29: (for B11 , B12 being set holds (( B11 @ B12 ) = ( 1. ( Z_2 ) ) iff B12 in B11)) by L27;
theorem
L30: (for B13 , B14 being set holds (( B13 @ B14 ) = ( 0. ( Z_2 ) ) iff (not B14 in B13))) by L27;
theorem
L31: (for B15 , B16 being set holds (( B15 @ B16 ) <> ( 0. ( Z_2 ) ) iff ( B15 @ B16 ) = ( 1. ( Z_2 ) ))) by L19 , L22 , CARD_1:50 , TARSKI:def 2;
theorem
L32: (for B17 , B18 , B19 being set holds (( B17 @ B18 ) = ( B17 @ B19 ) iff (B18 in B17 iff B19 in B17)))
proof
let C6 , C7 , C8 being set;
thus L33: (( C6 @ C7 ) = ( C6 @ C8 ) implies (C7 in C6 iff C8 in C6))
proof
assume L34: ( C6 @ C7 ) = ( C6 @ C8 );
thus L35: (C7 in C6 implies C8 in C6)
proof
assume L36: C7 in C6;
L37: ( C6 @ C7 ) = ( 1. ( Z_2 ) ) by L36 , L27;
thus L38: thesis by L37 , L34 , L27;
end;

assume L39: C8 in C6;
L40: ( C6 @ C8 ) = ( 1. ( Z_2 ) ) by L39 , L27;
thus L41: thesis by L40 , L34 , L27;
end;

assume L42: (C7 in C6 iff C8 in C6);
per cases  by L19 , L22 , CARD_1:50 , TARSKI:def 2;
suppose L43: ( C6 @ C7 ) = ( 0. ( Z_2 ) );

thus L44: thesis by L43 , L42 , L27;
end;
suppose L45: ( C6 @ C7 ) = ( 1. ( Z_2 ) );

thus L46: thesis by L45 , L42 , L27;
end;
end;
theorem
L48: (for B20 , B21 , B22 being set holds (( B20 @ B22 ) = ( B21 @ B22 ) iff (B22 in B20 iff B22 in B21)))
proof
let C9 , C10 , C11 being set;
thus L49: (( C9 @ C11 ) = ( C10 @ C11 ) implies (C11 in C9 iff C11 in C10))
proof
assume L50: ( C9 @ C11 ) = ( C10 @ C11 );
thus L51: (C11 in C9 implies C11 in C10)
proof
assume L52: C11 in C9;
L53: ( C9 @ C11 ) = ( 1. ( Z_2 ) ) by L52 , L27;
thus L54: thesis by L53 , L50 , L27;
end;

assume L55: C11 in C10;
L56: ( C10 @ C11 ) = ( 1. ( Z_2 ) ) by L55 , L27;
thus L57: thesis by L56 , L50 , L27;
end;

thus L58: ((C11 in C9 iff C11 in C10) implies ( C9 @ C11 ) = ( C10 @ C11 ))
proof
assume L59: (C11 in C9 iff C11 in C10);
per cases  by L19 , L22 , CARD_1:50 , TARSKI:def 2;
suppose L60: ( C9 @ C11 ) = ( 0. ( Z_2 ) );

thus L61: thesis by L60 , L59 , L27;
end;
suppose L62: ( C9 @ C11 ) = ( 1. ( Z_2 ) );

thus L63: thesis by L62 , L59 , L27;
end;
end;

end;
theorem
L59: (for B23 being set holds ( ( {} ) @ B23 ) = ( 0. ( Z_2 ) )) by L27;
theorem
L60: (for B24 being set holds (for B25 , B26 being (Subset of B24) holds (for B27 being (Element of B24) holds ( ( B25 \+\ B26 ) @ B27 ) = ( ( B25 @ B27 ) + ( B26 @ B27 ) ))))
proof
let C12 being set;
let C13 , C14 being (Subset of C12);
let C15 being (Element of C12);
per cases ;
suppose L61: C15 in ( C13 \+\ C14 );

L62: ( ( C13 \+\ C14 ) @ C15 ) = ( 1. ( Z_2 ) ) by L61 , L27;
per cases ;
suppose L63: C15 in C13;

L64: (not C15 in C14) by L63 , L61 , XBOOLE_0:1;
L65: ( C14 @ C15 ) = ( 0. ( Z_2 ) ) by L64 , L27;
L66: ( C13 @ C15 ) = ( 1. ( Z_2 ) ) by L63 , L27;
thus L67: thesis by L66 , L62 , L65 , RLVECT_1:4;
end;
suppose L68: (not C15 in C13);

L69: C15 in C14 by L68 , L61 , XBOOLE_0:1;
L70: ( C14 @ C15 ) = ( 1. ( Z_2 ) ) by L69 , L27;
L71: ( C13 @ C15 ) = ( 0. ( Z_2 ) ) by L68 , L27;
thus L72: thesis by L71 , L62 , L70 , RLVECT_1:4;
end;
end;
suppose L74: (not C15 in ( C13 \+\ C14 ));

L75: ( ( C13 \+\ C14 ) @ C15 ) = ( 0. ( Z_2 ) ) by L74 , L27;
per cases ;
suppose L76: C15 in C13;

L77: (C15 in C14 & ( C13 @ C15 ) = ( 1. ( Z_2 ) )) by L76 , L74 , L27 , XBOOLE_0:1;
thus L78: thesis by L77 , L75 , L27 , L23;
end;
suppose L79: (not C15 in C13);

L80: (not C15 in C14) by L79 , L74 , XBOOLE_0:1;
L81: ( C14 @ C15 ) = ( 0. ( Z_2 ) ) by L80 , L27;
L82: ( C13 @ C15 ) = ( 0. ( Z_2 ) ) by L79 , L27;
thus L83: thesis by L82 , L75 , L81 , RLVECT_1:4;
end;
end;
end;
theorem
L86: (for B28 , B29 being set holds (B28 = B29 iff (for B30 being set holds ( B28 @ B30 ) = ( B29 @ B30 ))))
proof
let C16 , C17 being set;
thus L87: (C16 = C17 implies (for B31 being set holds ( C16 @ B31 ) = ( C17 @ B31 )));
thus L88: ((for B32 being set holds ( C16 @ B32 ) = ( C17 @ B32 )) implies C16 = C17)
proof
assume L89: (for B33 being set holds ( C16 @ B33 ) = ( C17 @ B33 ));
thus L90: C16 c= C17
proof
let C18 being set;
assume L91: C18 in C16;
L92: ( C16 @ C18 ) = ( 1. ( Z_2 ) ) by L91 , L27;
L93: ( C17 @ C18 ) = ( 1. ( Z_2 ) ) by L92 , L89;
thus L94: thesis by L93 , L27;
end;

let C19 being set;
assume L95: C19 in C17;
L96: ( C17 @ C19 ) = ( 1. ( Z_2 ) ) by L95 , L27;
L97: ( C16 @ C19 ) = ( 1. ( Z_2 ) ) by L96 , L89;
thus L98: thesis by L97 , L27;
end;

end;
begin
definition
let C20 being set;
let C21 being (Element of ( Z_2 ));
let C22 being (Subset of C20);
func C21 \*\ C22 -> (Subset of C20) equals 
:L89: C22 if C21 = ( 1. ( Z_2 ) ) , ( {} C20 ) if C21 = ( 0. ( Z_2 ) );
consistency;
coherence;
end;
definition
let C23 being set;
func bspace-sum C23 -> (BinOp of ( bool C23 )) means 
:L91: (for B34 , B35 being (Subset of C23) holds ( it . (B34 , B35) ) = ( B34 \+\ B35 ));
existence
proof
defpred S1[ set , set , set ] means (ex B36 , B37 being (Subset of C23) st ($1 = B36 & $2 = B37 & $3 = ( B36 \+\ B37 )));
L92: (for B38 , B39 being set holds ((B38 in ( bool C23 ) & B39 in ( bool C23 )) implies (ex B40 being set st (B40 in ( bool C23 ) & S1[ B38 , B39 , B40 ]))))
proof
let C24 , C25 being set;
assume L93: (C24 in ( bool C23 ) & C25 in ( bool C23 ));
reconsider D1 = C24 , D2 = C25 as (Subset of C23) by L93;
set D3 = ( D1 \+\ D2 );
take D3;
thus L94: thesis;
end;
consider C26 being (Function of [: ( bool C23 ) , ( bool C23 ) :] , ( bool C23 )) such that L95: (for B41 , B42 being set holds ((B41 in ( bool C23 ) & B42 in ( bool C23 )) implies S1[ B41 , B42 , ( C26 . (B41 , B42) ) ])) from BINOP_1:sch 1(L92);
reconsider D4 = C26 as (BinOp of ( bool C23 ));
take D4;
L96: (for B43 , B44 being (Subset of C23) holds ( D4 . (B43 , B44) ) = ( B43 \+\ B44 ))
proof
let C27 , C28 being (Subset of C23);
L97: (ex B45 , B46 being (Subset of C23) st (C27 = B45 & C28 = B46 & ( D4 . (C27 , C28) ) = ( B45 \+\ B46 ))) by L95;
thus L98: thesis by L97;
end;
thus L99: thesis by L96;
end;
uniqueness
proof
let C29 , C30 being (BinOp of ( bool C23 ));
assume that
L100: ((for B47 , B48 being (Subset of C23) holds ( C29 . (B47 , B48) ) = ( B47 \+\ B48 )) & (for B49 , B50 being (Subset of C23) holds ( C30 . (B49 , B50) ) = ( B49 \+\ B50 )));
L101: (for B51 being set holds (B51 in ( dom C29 ) implies ( C29 . B51 ) = ( C30 . B51 )))
proof
let C31 being set;
assume L102: C31 in ( dom C29 );
consider C32 , C33 being set such that L103: C32 in ( bool C23 ) and L104: C33 in ( bool C23 ) and L105: C31 = [ C32 , C33 ] by L102 , ZFMISC_1:def 2;
reconsider D5 = C33 as (Subset of C23) by L104;
reconsider D6 = C32 as (Subset of C23) by L103;
L106: (( C29 . (D6 , D5) ) = ( D6 \+\ D5 ) & ( C30 . (D6 , D5) ) = ( D6 \+\ D5 )) by L100;
thus L107: thesis by L106 , L105;
end;
L108: ( dom C29 ) = [: ( bool C23 ) , ( bool C23 ) :] by FUNCT_2:def 1;
L109: ( dom C29 ) = ( dom C30 ) by L108 , FUNCT_2:def 1;
thus L110: thesis by L109 , L101 , FUNCT_1:2;
end;
end;
theorem
L112: (for R4 being set holds (for B52 being (Element of ( Z_2 )) holds (for B53 , B54 being (Subset of R4) holds ( B52 \*\ ( B53 \+\ B54 ) ) = ( ( B52 \*\ B53 ) \+\ ( B52 \*\ B54 ) ))))
proof
let R4 being set;
let C34 being (Element of ( Z_2 ));
let C35 , C36 being (Subset of R4);
per cases  by L19 , L22 , CARD_1:50 , TARSKI:def 2;
suppose L113: C34 = ( 0. ( Z_2 ) );

L114: (( C34 \*\ ( C35 \+\ C36 ) ) = ( {} R4 ) & ( C34 \*\ C35 ) = ( {} R4 )) by L113 , L89;
thus L115: thesis by L114 , L113 , L89;
end;
suppose L116: C34 = ( 1. ( Z_2 ) );

L117: (( C34 \*\ ( C35 \+\ C36 ) ) = ( C35 \+\ C36 ) & ( C34 \*\ C35 ) = C35) by L116 , L89;
thus L118: thesis by L117 , L116 , L89;
end;
end;
theorem
L120: (for R4 being set holds (for B55 , B56 being (Element of ( Z_2 )) holds (for B57 being (Subset of R4) holds ( ( B55 + B56 ) \*\ B57 ) = ( ( B55 \*\ B57 ) \+\ ( B56 \*\ B57 ) ))))
proof
let R4 being set;
let C37 , C38 being (Element of ( Z_2 ));
let C39 being (Subset of R4);
per cases  by L19 , L22 , CARD_1:50 , TARSKI:def 2;
suppose L121: C37 = ( 0. ( Z_2 ) );

L122: ( C37 \*\ C39 ) = ( {} R4 ) by L121 , L89;
thus L123: thesis by L122 , L121 , RLVECT_1:4;
end;
suppose L124: C37 = ( 1. ( Z_2 ) );

per cases  by L19 , L22 , CARD_1:50 , TARSKI:def 2;
suppose L125: C38 = ( 0. ( Z_2 ) );

L126: ( C38 \*\ C39 ) = ( {} R4 ) by L125 , L89;
thus L127: thesis by L126 , L125 , RLVECT_1:4;
end;
suppose L128: C38 = ( 1. ( Z_2 ) );

L129: ( C39 \+\ C39 ) = ( {} R4 ) by XBOOLE_1:92;
L130: ( C38 \*\ C39 ) = C39 by L128 , L89;
thus L131: thesis by L130 , L124 , L128 , L129 , L89 , L23;
end;
end;
end;
theorem
L134: (for R4 being set holds (for B58 being (Subset of R4) holds ( ( 1. ( Z_2 ) ) \*\ B58 ) = B58)) by L89;
theorem
L135: (for R4 being set holds (for B59 , B60 being (Element of ( Z_2 )) holds (for B61 being (Subset of R4) holds ( B59 \*\ ( B60 \*\ B61 ) ) = ( ( B59 * B60 ) \*\ B61 ))))
proof
let R4 being set;
let C40 , C41 being (Element of ( Z_2 ));
let C42 being (Subset of R4);
per cases  by L19 , L22 , CARD_1:50 , TARSKI:def 2;
suppose L136: C40 = ( 0. ( Z_2 ) );

L137: ( C40 \*\ ( C41 \*\ C42 ) ) = ( {} R4 ) by L136 , L89;
thus L138: thesis by L137 , L136 , L89 , VECTSP_1:7;
end;
suppose L139: C40 = ( 1. ( Z_2 ) );

L140: ( C40 \*\ ( C41 \*\ C42 ) ) = ( C41 \*\ C42 ) by L139 , L89;
thus L141: thesis by L140 , L139 , VECTSP_1:def 6;
end;
end;
definition
let C43 being set;
func bspace-scalar-mult C43 -> (Function of [: (the carrier of ( Z_2 )) , ( bool C43 ) :] , ( bool C43 )) means 
:L143: (for B62 being (Element of ( Z_2 )) holds (for B63 being (Subset of C43) holds ( it . (B62 , B63) ) = ( B62 \*\ B63 )));
existence
proof
defpred S2[ set , set , set ] means (ex B64 being (Element of ( Z_2 )) st (ex B65 being (Subset of C43) st ($1 = B64 & $2 = B65 & $3 = ( B64 \*\ B65 ))));
L144: (for B66 , B67 being set holds ((B66 in (the carrier of ( Z_2 )) & B67 in ( bool C43 )) implies (ex B68 being set st (B68 in ( bool C43 ) & S2[ B66 , B67 , B68 ]))))
proof
let C44 , C45 being set;
assume that
L145: C44 in (the carrier of ( Z_2 ))
and
L146: C45 in ( bool C43 );
reconsider D7 = C45 as (Subset of C43) by L146;
reconsider D8 = C44 as (Element of ( Z_2 )) by L145;
set D9 = ( D8 \*\ D7 );
take D9;
thus L147: thesis;
end;
consider C46 being (Function of [: (the carrier of ( Z_2 )) , ( bool C43 ) :] , ( bool C43 )) such that L148: (for B69 , B70 being set holds ((B69 in (the carrier of ( Z_2 )) & B70 in ( bool C43 )) implies S2[ B69 , B70 , ( C46 . (B69 , B70) ) ])) from BINOP_1:sch 1(L144);
take C46;
L149: (for B71 being (Element of ( Z_2 )) holds (for B72 being (Subset of C43) holds ( C46 . (B71 , B72) ) = ( B71 \*\ B72 )))
proof
let C47 being (Element of ( Z_2 ));
let C48 being (Subset of C43);
L150: (ex B73 being (Element of ( Z_2 )) st (ex B74 being (Subset of C43) st (C47 = B73 & C48 = B74 & ( C46 . (C47 , C48) ) = ( B73 \*\ B74 )))) by L148;
thus L151: thesis by L150;
end;
thus L152: thesis by L149;
end;
uniqueness
proof
let C49 , C50 being (Function of [: (the carrier of ( Z_2 )) , ( bool C43 ) :] , ( bool C43 ));
assume that
L153: ((for B75 being (Element of ( Z_2 )) holds (for B76 being (Subset of C43) holds ( C49 . (B75 , B76) ) = ( B75 \*\ B76 ))) & (for B77 being (Element of ( Z_2 )) holds (for B78 being (Subset of C43) holds ( C50 . (B77 , B78) ) = ( B77 \*\ B78 ))));
L154: (for B79 being set holds (B79 in ( dom C49 ) implies ( C49 . B79 ) = ( C50 . B79 )))
proof
let C51 being set;
assume L155: C51 in ( dom C49 );
consider C52 , C53 being set such that L156: C52 in (the carrier of ( Z_2 )) and L157: C53 in ( bool C43 ) and L158: C51 = [ C52 , C53 ] by L155 , ZFMISC_1:def 2;
reconsider D10 = C53 as (Subset of C43) by L157;
reconsider D11 = C52 as (Element of ( Z_2 )) by L156;
L159: (( C49 . (D11 , D10) ) = ( D11 \*\ D10 ) & ( C50 . (D11 , D10) ) = ( D11 \*\ D10 )) by L153;
thus L160: thesis by L159 , L158;
end;
L161: ( dom C49 ) = [: (the carrier of ( Z_2 )) , ( bool C43 ) :] by FUNCT_2:def 1;
L162: ( dom C49 ) = ( dom C50 ) by L161 , FUNCT_2:def 1;
thus L163: thesis by L162 , L154 , FUNCT_1:2;
end;
end;
definition
let C54 being set;
func bspace C54 -> non  empty VectSpStr over ( Z_2 ) equals 
VectSpStr (# ( bool C54 ) , ( bspace-sum C54 ) , ( {} C54 ) , ( bspace-scalar-mult C54 ) #);
coherence;
end;
L166: (for R4 being set holds (for B80 , B81 , B82 being (Element of ( bspace R4 )) holds (for B83 , B84 , B85 being (Subset of R4) holds ((B80 = B83 & B81 = B84 & B82 = B85) implies (( B80 + ( B81 + B82 ) ) = ( B83 \+\ ( B84 \+\ B85 ) ) & ( ( B80 + B81 ) + B82 ) = ( ( B83 \+\ B84 ) \+\ B85 ))))))
proof
let R4 being set;
let C55 , C56 , C57 being (Element of ( bspace R4 ));
let C58 , C59 , C60 being (Subset of R4);
assume that
L167: C55 = C58
and
L168: C56 = C59
and
L169: C57 = C60;
L170: ( C56 + C57 ) = ( C59 \+\ C60 ) by L168 , L169 , L91;
thus L171: ( C55 + ( C56 + C57 ) ) = ( C58 \+\ ( C59 \+\ C60 ) ) by L170 , L167 , L91;
L172: ( C55 + C56 ) = ( C58 \+\ C59 ) by L167 , L168 , L91;
thus L173: ( ( C55 + C56 ) + C57 ) = ( ( C58 \+\ C59 ) \+\ C60 ) by L172 , L169 , L91;
end;
L174: (for R4 being set holds (for B86 , B87 being (Element of ( Z_2 )) holds (for B88 , B89 being (Element of ( bspace R4 )) holds (for B90 , B91 being (Subset of R4) holds ((B88 = B90 & B89 = B91) implies (( ( B86 * B88 ) + ( B87 * B89 ) ) = ( ( B86 \*\ B90 ) \+\ ( B87 \*\ B91 ) ) & ( B86 * ( B88 + B89 ) ) = ( B86 \*\ ( B90 \+\ B91 ) ) & ( ( B86 + B87 ) * B88 ) = ( ( B86 + B87 ) \*\ B90 ) & ( ( B86 * B87 ) * B88 ) = ( ( B86 * B87 ) \*\ B90 ) & ( B86 * ( B87 * B88 ) ) = ( B86 \*\ ( B87 \*\ B90 ) )))))))
proof
let R4 being set;
let C61 , C62 being (Element of ( Z_2 ));
let C63 , C64 being (Element of ( bspace R4 ));
let C65 , C66 being (Subset of R4);
assume that
L175: C63 = C65
and
L176: C64 = C66;
L177: (( C61 * C63 ) = ( C61 \*\ C65 ) & ( C62 * C64 ) = ( C62 \*\ C66 )) by L175 , L176 , L143;
thus L178: ( ( C61 * C63 ) + ( C62 * C64 ) ) = ( ( C61 \*\ C65 ) \+\ ( C62 \*\ C66 ) ) by L177 , L91;
L179: ( C63 + C64 ) = ( C65 \+\ C66 ) by L175 , L176 , L91;
thus L180: ( C61 * ( C63 + C64 ) ) = ( C61 \*\ ( C65 \+\ C66 ) ) by L179 , L143;
thus L181: ( ( C61 + C62 ) * C63 ) = ( ( C61 + C62 ) \*\ C65 ) by L175 , L143;
thus L182: ( ( C61 * C62 ) * C63 ) = ( ( C61 * C62 ) \*\ C65 ) by L175 , L143;
L183: ( C62 * C63 ) = ( C62 \*\ C65 ) by L175 , L143;
thus L184: ( C61 * ( C62 * C63 ) ) = ( C61 \*\ ( C62 \*\ C65 ) ) by L183 , L143;
end;
theorem
L185: (for R4 being set holds ( bspace R4 ) is  Abelian)
proof
let R4 being set;
let C67 , C68 being (Element of ( bspace R4 ));
reconsider D12 = C67 , D13 = C68 as (Subset of R4);
L186: ( C67 + C68 ) = ( D13 \+\ D12 ) by L91
.= ( C68 + C67 ) by L91;
thus L187: thesis by L186;
end;
theorem
L188: (for R4 being set holds ( bspace R4 ) is  add-associative)
proof
let R4 being set;
let C69 , C70 , C71 being (Element of ( bspace R4 ));
reconsider D14 = C69 , D15 = C70 , D16 = C71 as (Subset of R4);
L189: ( C69 + ( C70 + C71 ) ) = ( D14 \+\ ( D15 \+\ D16 ) ) by L166
.= ( ( D14 \+\ D15 ) \+\ D16 ) by XBOOLE_1:91
.= ( ( C69 + C70 ) + C71 ) by L166;
thus L190: thesis by L189;
end;
theorem
L191: (for R4 being set holds ( bspace R4 ) is  right_zeroed)
proof
let R4 being set;
let C72 being (Element of ( bspace R4 ));
reconsider D17 = C72 as (Subset of R4);
reconsider D18 = ( 0. ( bspace R4 ) ) as (Subset of R4);
L192: ( C72 + ( 0. ( bspace R4 ) ) ) = ( D17 \+\ D18 ) by L91
.= C72;
thus L193: thesis by L192;
end;
theorem
L194: (for R4 being set holds ( bspace R4 ) is  right_complementable)
proof
let R4 being set;
let C73 being (Element of ( bspace R4 ));
reconsider D19 = C73 as (Subset of R4);
take C73;
L195: ( D19 \+\ D19 ) = ( {} R4 ) by XBOOLE_1:92;
thus L196: thesis by L195 , L91;
end;
theorem
L197: (for R4 being set holds (for B92 being (Element of ( Z_2 )) holds (for B93 , B94 being (Element of ( bspace R4 )) holds ( B92 * ( B93 + B94 ) ) = ( ( B92 * B93 ) + ( B92 * B94 ) ))))
proof
let R4 being set;
let C74 being (Element of ( Z_2 ));
let C75 , C76 being (Element of ( bspace R4 ));
reconsider D20 = C75 , D21 = C76 as (Subset of R4);
L198: ( C74 * ( C75 + C76 ) ) = ( C74 \*\ ( D20 \+\ D21 ) ) by L174
.= ( ( C74 \*\ D20 ) \+\ ( C74 \*\ D21 ) ) by L112
.= ( ( C74 * C75 ) + ( C74 * C76 ) ) by L174;
thus L199: thesis by L198;
end;
theorem
L200: (for R4 being set holds (for B95 , B96 being (Element of ( Z_2 )) holds (for B97 being (Element of ( bspace R4 )) holds ( ( B95 + B96 ) * B97 ) = ( ( B95 * B97 ) + ( B96 * B97 ) ))))
proof
let R4 being set;
let C77 , C78 being (Element of ( Z_2 ));
let C79 being (Element of ( bspace R4 ));
reconsider D22 = C79 as (Subset of R4);
L201: ( ( C77 + C78 ) * C79 ) = ( ( C77 + C78 ) \*\ D22 ) by L174
.= ( ( C77 \*\ D22 ) \+\ ( C78 \*\ D22 ) ) by L120
.= ( ( C77 * C79 ) + ( C78 * C79 ) ) by L174;
thus L202: thesis by L201;
end;
theorem
L203: (for R4 being set holds (for B98 , B99 being (Element of ( Z_2 )) holds (for B100 being (Element of ( bspace R4 )) holds ( ( B98 * B99 ) * B100 ) = ( B98 * ( B99 * B100 ) ))))
proof
let R4 being set;
let C80 , C81 being (Element of ( Z_2 ));
let C82 being (Element of ( bspace R4 ));
reconsider D23 = C82 as (Subset of R4);
L204: ( ( C80 * C81 ) * C82 ) = ( ( C80 * C81 ) \*\ D23 ) by L174
.= ( C80 \*\ ( C81 \*\ D23 ) ) by L135
.= ( C80 * ( C81 * C82 ) ) by L174;
thus L205: thesis by L204;
end;
theorem
L206: (for R4 being set holds (for B101 being (Element of ( bspace R4 )) holds ( ( 1_ ( Z_2 ) ) * B101 ) = B101))
proof
let R4 being set;
let C83 being (Element of ( bspace R4 ));
reconsider D24 = C83 as (Subset of R4);
L207: ( ( 1_ ( Z_2 ) ) * C83 ) = ( ( 1_ ( Z_2 ) ) \*\ D24 ) by L143
.= D24 by L89;
thus L208: thesis by L207;
end;
theorem
L209: (for R4 being set holds ( bspace R4 ) is  vector-distributive  scalar-distributive  scalar-associative  scalar-unital)
proof
let R4 being set;
thus L210: ( bspace R4 ) is  vector-distributive
proof
let C84 being (Element of ( Z_2 ));
let C85 , C86 being (Element of ( bspace R4 ));
thus L211: ( C84 * ( C85 + C86 ) ) = ( ( C84 * C85 ) + ( C84 * C86 ) ) by L197;
end;

thus L212: ( bspace R4 ) is  scalar-distributive
proof
let C87 , C88 being (Element of ( Z_2 ));
let C89 being (Element of ( bspace R4 ));
thus L213: ( ( C87 + C88 ) * C89 ) = ( ( C87 * C89 ) + ( C88 * C89 ) ) by L200;
end;

thus L214: ( bspace R4 ) is  scalar-associative
proof
let C90 , C91 being (Element of ( Z_2 ));
let C92 being (Element of ( bspace R4 ));
thus L215: ( ( C90 * C91 ) * C92 ) = ( C90 * ( C91 * C92 ) ) by L203;
end;

let C93 being (Element of ( bspace R4 ));
thus L216: ( ( 1. ( Z_2 ) ) * C93 ) = C93 by L206;
end;
registration
let C94 being set;
cluster ( bspace C94 ) ->  vector-distributive  scalar-distributive  scalar-associative  scalar-unital  Abelian  right_complementable  add-associative  right_zeroed;
coherence by L185 , L188 , L191 , L194 , L209;
end;
begin
definition
let C95 being set;
func singletons C95 equals 
{ B102 where B102 is (Subset of C95) : B102 is 1 -element };
coherence;
end;
definition
let C96 being set;
redefine func singletons C96 -> (Subset of ( bspace C96 ));

coherence
proof
set D25 = ( singletons C96 );
L219: D25 c= ( bool C96 )
proof
let C97 being set;
assume L220: C97 in D25;
L221: (ex B103 being (Subset of C96) st (C97 = B103 & B103 is 1 -element)) by L220;
reconsider D26 = C97 as (Subset of C96) by L221;
L222: D26 is (Element of ( bool C96 ));
thus L223: thesis by L222;
end;
thus L224: thesis by L219;
end;
end;
registration
let C98 being non  empty set;
cluster ( singletons C98 ) -> non  empty;
coherence
proof
set D27 = the (Element of C98);
L226: { D27 } in ( singletons C98 );
thus L227: thesis by L226;
end;
end;
theorem
L229: (for B104 being non  empty set holds (for B105 being (Subset of B104) holds (B105 is (Element of ( singletons B104 )) implies B105 is 1 -element)))
proof
let C99 being non  empty set;
let C100 being (Subset of C99);
assume L230: C100 is (Element of ( singletons C99 ));
L231: C100 in ( singletons C99 ) by L230;
L232: (ex B106 being (Subset of C99) st (B106 = C100 & B106 is 1 -element)) by L231;
thus L233: thesis by L232;
end;
definition
let C101 being Field;
let C102 being (VectSp of C101);
let C103 being (Linear_Combination of C102);
let C104 being (Element of C102);
redefine func C103 . C104 -> (Element of C101);

coherence
proof
L234: ( C103 . C104 ) in ( [#] C101 );
thus L235: thesis by L234;
end;
end;
definition
let C105 being non  empty set;
let C106 being (FinSequence of ( bspace C105 ));
let C107 being (Element of C105);
func C106 @ C107 -> (FinSequence of ( Z_2 )) means 
:L237: (( len it ) = ( len C106 ) & (for B107 being Nat holds ((1 <= B107 & B107 <= ( len C106 )) implies ( it . B107 ) = ( ( C106 . B107 ) @ C107 ))));
existence
proof
deffunc H1(set) = ( ( C106 . $1 ) @ C107 );
consider C108 being FinSequence such that L238: ( len C108 ) = ( len C106 ) and L239: (for B108 being Nat holds (B108 in ( dom C108 ) implies ( C108 . B108 ) = H1(B108))) from FINSEQ_1:sch 2;
L240: (for B109 being Nat holds ((1 <= B109 & B109 <= ( len C106 )) implies ( C108 . B109 ) = ( ( C106 . B109 ) @ C107 )))
proof
let C109 being Nat;
assume L241: (1 <= C109 & C109 <= ( len C106 ));
L242: C109 in ( dom C108 ) by L241 , L238 , FINSEQ_3:25;
thus L243: thesis by L242 , L239;
end;
L244: ( rng C108 ) c= (the carrier of ( Z_2 ))
proof
let C110 being set;
assume L245: C110 in ( rng C108 );
consider C111 being set such that L246: C111 in ( dom C108 ) and L247: ( C108 . C111 ) = C110 by L245 , FUNCT_1:def 3;
L248: ( C108 . C111 ) = ( ( C106 . C111 ) @ C107 ) by L239 , L246;
thus L249: thesis by L248 , L247;
end;
reconsider D28 = C108 as (FinSequence of ( Z_2 )) by L244 , FINSEQ_1:def 4;
take D28;
thus L250: thesis by L238 , L240;
end;
uniqueness
proof
let C112 , C113 being (FinSequence of ( Z_2 ));
assume that
L251: ( len C112 ) = ( len C106 )
and
L252: (for B110 being Nat holds ((1 <= B110 & B110 <= ( len C106 )) implies ( C112 . B110 ) = ( ( C106 . B110 ) @ C107 )))
and
L253: ( len C113 ) = ( len C106 )
and
L254: (for B111 being Nat holds ((1 <= B111 & B111 <= ( len C106 )) implies ( C113 . B111 ) = ( ( C106 . B111 ) @ C107 )));
L255: (for B112 being Nat holds ((1 <= B112 & B112 <= ( len C112 )) implies ( C112 . B112 ) = ( C113 . B112 )))
proof
let C114 being Nat;
assume that
L256: (1 <= C114 & C114 <= ( len C112 ));
L257: ( C112 . C114 ) = ( ( C106 . C114 ) @ C107 ) by L251 , L252 , L256;
thus L258: thesis by L257 , L251 , L254 , L256;
end;
thus L259: thesis by L255 , L251 , L253 , FINSEQ_1:14;
end;
end;
theorem
L261: (for B113 being non  empty set holds (for B114 being (Element of B113) holds ( ( <*> ( bspace B113 ) ) @ B114 ) = ( <*> ( Z_2 ) )))
proof
let C115 being non  empty set;
let C116 being (Element of C115);
set D29 = ( bspace C115 );
set D30 = ( ( <*> D29 ) @ C116 );
L262: ( len D30 ) = ( len ( <*> D29 ) ) by L237
.= ( 0 );
thus L263: thesis by L262;
end;
theorem
L264: (for B115 being set holds (for B116 , B117 being (Element of ( bspace B115 )) holds (for B118 being (Element of B115) holds ( ( B116 + B117 ) @ B118 ) = ( ( B116 @ B118 ) + ( B117 @ B118 ) ))))
proof
let C117 being set;
let C118 , C119 being (Element of ( bspace C117 ));
let C120 being (Element of C117);
reconsider D31 = C118 , D32 = C119 as (Subset of C117);
L265: ( ( C118 + C119 ) @ C120 ) = ( ( D31 \+\ D32 ) @ C120 ) by L91
.= ( ( D31 @ C120 ) + ( D32 @ C120 ) ) by L60;
thus L266: thesis by L265;
end;
theorem
L267: (for B119 being non  empty set holds (for B120 being (FinSequence of ( bspace B119 )) holds (for B121 being (Element of ( bspace B119 )) holds (for B122 being (Element of B119) holds ( ( B120 ^ <* B121 *> ) @ B122 ) = ( ( B120 @ B122 ) ^ <* ( B121 @ B122 ) *> )))))
proof
let C121 being non  empty set;
let C122 being (FinSequence of ( bspace C121 ));
let C123 being (Element of ( bspace C121 ));
let C124 being (Element of C121);
set D33 = ( ( C122 ^ <* C123 *> ) @ C124 );
set D34 = ( ( C122 @ C124 ) ^ <* ( C123 @ C124 ) *> );
L268: ( len D33 ) = ( len ( C122 ^ <* C123 *> ) ) by L237
.= ( ( len C122 ) + ( len <* C123 *> ) ) by FINSEQ_1:22
.= ( ( len C122 ) + 1 ) by FINSEQ_1:39;
L269: (for B123 being Nat holds ((1 <= B123 & B123 <= ( len D33 )) implies ( D33 . B123 ) = ( D34 . B123 )))
proof
let C125 being Nat;
assume that
L270: 1 <= C125
and
L271: C125 <= ( len D33 );
L272: C125 in ( NAT ) by ORDINAL1:def 12;
per cases  by L268 , L271 , NAT_1:8;
suppose L273: C125 <= ( len C122 );

L274: ( dom ( C122 @ C124 ) ) = ( Seg ( len ( C122 @ C124 ) ) ) by FINSEQ_1:def 3
.= ( Seg ( len C122 ) ) by L237;
L275: C125 in ( dom ( C122 @ C124 ) ) by L274 , L270 , L272 , L273;
L276: ( D34 . C125 ) = ( ( C122 @ C124 ) . C125 ) by L275 , FINSEQ_1:def 7
.= ( ( C122 . C125 ) @ C124 ) by L270 , L273 , L237;
L277: ( dom C122 ) = ( Seg ( len C122 ) ) by FINSEQ_1:def 3;
L278: C125 in ( dom C122 ) by L277 , L270 , L272 , L273;
L279: C125 <= ( len ( C122 ^ <* C123 *> ) ) by L271 , L237;
L280: ( D33 . C125 ) = ( ( ( C122 ^ <* C123 *> ) . C125 ) @ C124 ) by L279 , L270 , L237;
thus L281: thesis by L280 , L276 , L278 , FINSEQ_1:def 7;
end;
suppose L282: C125 = ( len D33 );

L283: ( dom <* ( C123 @ C124 ) *> ) = { 1 } by FINSEQ_1:2 , FINSEQ_1:def 8;
L284: 1 in ( dom <* ( C123 @ C124 ) *> ) by L283 , TARSKI:def 1;
L285: ( len ( C122 @ C124 ) ) = ( len C122 ) by L237;
L286: ( D34 . C125 ) = ( <* ( C123 @ C124 ) *> . 1 ) by L285 , L268 , L282 , L284 , FINSEQ_1:def 7
.= ( C123 @ C124 ) by FINSEQ_1:def 8;
L287: ( dom <* C123 *> ) = { 1 } by FINSEQ_1:2 , FINSEQ_1:def 8;
L288: 1 in ( dom <* C123 *> ) by L287 , TARSKI:def 1;
L289: ( ( C122 ^ <* C123 *> ) . C125 ) = ( <* C123 *> . 1 ) by L288 , L268 , L282 , FINSEQ_1:def 7
.= C123 by FINSEQ_1:def 8;
L290: C125 <= ( len ( C122 ^ <* C123 *> ) ) by L271 , L237;
thus L291: thesis by L290 , L270 , L286 , L289 , L237;
end;
end;
L293: ( len ( ( C122 @ C124 ) ^ <* ( C123 @ C124 ) *> ) ) = ( ( len ( C122 @ C124 ) ) + ( len <* ( C123 @ C124 ) *> ) ) by FINSEQ_1:22
.= ( ( len C122 ) + ( len <* ( C123 @ C124 ) *> ) ) by L237
.= ( ( len C122 ) + 1 ) by FINSEQ_1:39;
thus L294: thesis by L293 , L268 , L269 , FINSEQ_1:14;
end;
theorem
L295: (for B124 being non  empty set holds (for B125 being (FinSequence of ( bspace B124 )) holds (for B126 being (Element of B124) holds ( ( Sum B125 ) @ B126 ) = ( Sum ( B125 @ B126 ) ))))
proof
let C126 being non  empty set;
let C127 being (FinSequence of ( bspace C126 ));
let C128 being (Element of C126);
set D35 = ( bspace C126 );
defpred S3[ (FinSequence of D35) ] means ( ( Sum $1 ) @ C128 ) = ( Sum ( $1 @ C128 ) );
L296: S3[ ( <*> D35 ) ]
proof
reconsider D36 = ( 0. D35 ) as (Subset of C126);
set D37 = ( <*> D35 );
L297: ( D36 @ C128 ) = ( 0. ( Z_2 ) ) by L27;
L298: (( Sum D37 ) = ( 0. D35 ) & ( D37 @ C128 ) = ( <*> ( Z_2 ) )) by L261 , RLVECT_1:43;
thus L299: thesis by L298 , L297 , RLVECT_1:43;
end;
L300: (for B127 being (FinSequence of D35) holds (for B128 being (Element of D35) holds (S3[ B127 ] implies S3[ ( B127 ^ <* B128 *> ) ])))
proof
let C129 being (FinSequence of D35);
let C130 being (Element of D35);
assume that
L301: S3[ C129 ];
L302: ( ( Sum ( C129 ^ <* C130 *> ) ) @ C128 ) = ( ( ( Sum C129 ) + ( Sum <* C130 *> ) ) @ C128 ) by RLVECT_1:41
.= ( ( ( Sum C129 ) + C130 ) @ C128 ) by RLVECT_1:44
.= ( ( ( Sum C129 ) @ C128 ) + ( C130 @ C128 ) ) by L264
.= ( ( Sum ( C129 @ C128 ) ) + ( Sum <* ( C130 @ C128 ) *> ) ) by L301 , RLVECT_1:44
.= ( Sum ( ( C129 @ C128 ) ^ <* ( C130 @ C128 ) *> ) ) by RLVECT_1:41
.= ( Sum ( ( C129 ^ <* C130 *> ) @ C128 ) ) by L267;
thus L303: thesis by L302;
end;
L304: (for B129 being (FinSequence of D35) holds S3[ B129 ]) from IndSeqS(L296 , L300);
thus L305: thesis by L304;
end;
theorem
L306: (for B130 being non  empty set holds (for B131 being (Linear_Combination of ( bspace B130 )) holds (for B132 being (Element of ( bspace B130 )) holds (B132 in ( Carrier B131 ) implies ( B131 . B132 ) = ( 1_ ( Z_2 ) )))))
proof
let C131 being non  empty set;
let C132 being (Linear_Combination of ( bspace C131 ));
let C133 being (Element of ( bspace C131 ));
assume L307: C133 in ( Carrier C132 );
L308: ( C132 . C133 ) <> ( 0. ( Z_2 ) ) by L307 , VECTSP_6:2;
thus L309: thesis by L308 , L19 , L22 , CARD_1:50 , TARSKI:def 2;
end;
registration
let C134 being  empty set;
cluster ( singletons C134 ) ->  empty;
coherence
proof
assume L310: ( singletons C134 ) is non  empty;
consider C135 being set such that L311: C135 in ( singletons C134 ) by L310 , XBOOLE_0:def 1;
L312: (ex B133 being (Subset of C134) st (B133 = C135 & B133 is 1 -element)) by L311;
thus L313: thesis by L312;
end;
end;
theorem
L315: (for R4 being set holds ( singletons R4 ) is  linearly-independent)
proof
let R4 being set;
per cases ;
suppose L316: R4 is  empty;

thus L317: thesis by L316;
end;
suppose L318: R4 is non  empty;

reconsider D38 = R4 as non  empty set by L318;
set D39 = ( bspace D38 );
set D40 = ( singletons D38 );
L319: (for B134 being (Linear_Combination of D40) holds (( Sum B134 ) = ( 0. D39 ) implies ( Carrier B134 ) = ( {} )))
proof
let C136 being (Linear_Combination of D40);
assume that
L320: ( Sum C136 ) = ( 0. D39 );
reconsider D41 = ( Sum C136 ) as (Subset of D38);
set D42 = ( Carrier C136 );
L321: ( C136 ! ( Carrier C136 ) ) = C136 by RANKNULL:24;
assume L322: D42 <> ( {} );
consider C137 being (Element of D39) such that L323: C137 in D42 by L322 , SUBSET_1:4;
reconsider D43 = C137 as (Subset of D38);
reconsider D44 = D43 as (Element of D39);
L324: { D44 } c= ( Carrier C136 ) by L323 , ZFMISC_1:31;
reconsider D45 = ( C136 ! { D44 } ) as (Linear_Combination of { D44 });
reconsider D46 = ( C136 ! ( D42 \ { D44 } ) ) as (Linear_Combination of ( D42 \ { D44 } ));
reconsider D47 = C136 as (Linear_Combination of D42) by L321;
reconsider D48 = ( Sum D46 ) , D49 = ( Sum D45 ) as (Subset of D38);
L325: D44 in { D44 } by TARSKI:def 1;
L326: (( Sum D45 ) = ( ( D45 . D44 ) * D44 ) & ( D45 . D44 ) = ( D47 . D44 )) by L325 , RANKNULL:25 , VECTSP_6:17;
L327: ( D47 . D44 ) <> ( 0. ( Z_2 ) ) by L323 , VECTSP_6:2;
L328: ( D47 . D44 ) = ( 1_ ( Z_2 ) ) by L327 , L19 , L22 , CARD_1:50 , TARSKI:def 2;
L329: D49 = D43 by L328 , L326 , VECTSP_1:def 17;
L330: D42 c= D40 by VECTSP_6:def 4;
L331: D43 is 1 -element by L330 , L323 , L229;
consider C138 being (Element of D38) such that L332: D43 = { C138 } by L331 , CARD_1:65;
L333: C138 in D43 by L332 , TARSKI:def 1;
L334: ( D43 @ C138 ) = ( 1. ( Z_2 ) ) by L333 , L27;
L335: (for B135 being (Subset of D38) holds ((B135 <> D43 & B135 in D42) implies ( B135 @ C138 ) = ( 0. ( Z_2 ) )))
proof
let C139 being (Subset of D38);
assume that
L336: C139 <> D43
and
L337: C139 in D42;
L338: D42 c= D40 by VECTSP_6:def 4;
L339: C139 is 1 -element by L338 , L337 , L229;
consider C140 being (Element of D38) such that L340: C139 = { C140 } by L339 , CARD_1:65;
L341:
now
assume L342: ( C139 @ C138 ) <> ( 0. ( Z_2 ) );
L343: C138 in { C140 } by L342 , L340 , L27;
thus L344: contradiction by L343 , L332 , L336 , L340 , TARSKI:def 1;
end;
thus L345: thesis by L341;
end;
L346: ( D48 @ C138 ) = ( 0 )
proof
consider C141 being (FinSequence of D39) such that L347: (C141 is  one-to-one & ( rng C141 ) = ( Carrier D46 )) and L348: D48 = ( Sum ( D46 (#) C141 ) ) by VECTSP_6:def 6;
L349: ( ( Sum ( D46 (#) C141 ) ) @ C138 ) = ( Sum ( ( D46 (#) C141 ) @ C138 ) ) by L295;
L350: (for B136 being (FinSequence of D39) holds ((B136 is  one-to-one & ( rng B136 ) = ( Carrier D46 )) implies ( ( D46 (#) B136 ) @ C138 ) = ( ( len B136 ) |-> ( 0. ( Z_2 ) ) )))
proof
let C142 being (FinSequence of D39);
assume that
L351: C142 is  one-to-one
and
L352: ( rng C142 ) = ( Carrier D46 );
set D50 = ( ( len C142 ) |-> ( 0. ( Z_2 ) ) );
set D51 = ( ( D46 (#) C142 ) @ C138 );
L353: ( len ( D46 (#) C142 ) ) = ( len C142 ) by VECTSP_6:def 5;
L354: ( len D51 ) = ( len C142 ) by L353 , L237;
L355: (for B137 being Nat holds ((1 <= B137 & B137 <= ( len D51 )) implies ( D51 . B137 ) = ( D50 . B137 )))
proof
let C143 being Nat;
assume that
L356: (1 <= C143 & C143 <= ( len D51 ));
L357: C143 in ( NAT ) by ORDINAL1:def 12;
L358: C143 in ( Seg ( len C142 ) ) by L357 , L354 , L356;
L359: ( len ( D46 (#) C142 ) ) = ( len C142 ) by VECTSP_6:def 5;
L360: ( dom ( D46 (#) C142 ) ) = ( Seg ( len C142 ) ) by L359 , FINSEQ_1:def 3;
L361: C143 in ( dom ( D46 (#) C142 ) ) by L360 , L354 , L356 , L357;
L362: ( ( D46 (#) C142 ) . C143 ) = ( ( D46 . ( C142 /. C143 ) ) * ( C142 /. C143 ) ) by L361 , VECTSP_6:def 5;
reconsider D52 = ( C142 /. C143 ) as (Subset of D38);
L363: ( Carrier D46 ) c= ( D42 \ { D43 } ) by VECTSP_6:def 4;
L364: ( dom C142 ) = ( Seg ( len C142 ) ) by FINSEQ_1:def 3;
L365: C143 in ( dom C142 ) by L364 , L354 , L356 , L357;
L366: ( C142 /. C143 ) = ( C142 . C143 ) by L365 , PARTFUN1:def 6;
L367: ( D46 . ( C142 /. C143 ) ) = ( 1_ ( Z_2 ) ) by L366 , L352 , L365 , L306 , FUNCT_1:3;
L368: ( ( D46 (#) C142 ) . C143 ) = D52 by L367 , L362 , VECTSP_1:def 17;
L369: ( C142 /. C143 ) in ( Carrier D46 ) by L352 , L365 , L366 , FUNCT_1:3;
L370: D52 in D42 by L369 , L363 , XBOOLE_0:def 5;
L371: D52 <> D43
proof
assume L372: D52 = D43;
L373: (not D43 in { D43 }) by L372 , L369 , L363 , XBOOLE_0:def 5;
thus L374: contradiction by L373 , TARSKI:def 1;
end;
L375: ( D51 . C143 ) = ( ( ( D46 (#) C142 ) . C143 ) @ C138 ) by L353 , L354 , L356 , L237
.= ( 0. ( Z_2 ) ) by L335 , L368 , L371 , L370;
thus L376: thesis by L375 , L358 , FUNCOP_1:7;
end;
L377: ( dom D50 ) = ( Seg ( len C142 ) ) by FUNCOP_1:13;
L378: ( len D51 ) = ( len D50 ) by L377 , L354 , FINSEQ_1:def 3;
thus L379: thesis by L378 , L355 , FINSEQ_1:14;
end;
L380: ( ( D46 (#) C141 ) @ C138 ) = ( ( len C141 ) |-> ( 0. ( Z_2 ) ) ) by L350 , L347;
thus L381: thesis by L380 , L348 , L349 , L19 , MATRIX_3:11;
end;
L382: D47 = ( D45 + D46 ) by L324 , RANKNULL:27;
L383: ( Sum D47 ) = ( ( Sum D46 ) + ( Sum D45 ) ) by L382 , VECTSP_6:44;
L384: D41 = ( D48 \+\ D49 ) by L383 , L91;
L385: ( D41 @ C138 ) = ( ( D48 @ C138 ) + ( D49 @ C138 ) ) by L384 , L60;
L386: ( D41 @ C138 ) = ( 0. ( Z_2 ) ) by L320 , L27;
thus L387: thesis by L386 , L334 , L385 , L346 , L329 , L19 , RLVECT_1:4;
end;
thus L388: thesis by L319 , VECTSP_7:def 1;
end;
end;
theorem
L390: (for R4 being set holds (for B138 being (Element of ( bspace R4 )) holds ((ex B139 being set st (B139 in R4 & B138 = { B139 })) implies B138 in ( singletons R4 ))));
theorem
L391: (for B140 being  finite set holds (for B141 being (Subset of B140) holds (ex B142 being (Linear_Combination of ( singletons B140 )) st ( Sum B142 ) = B141)))
proof
let C144 being  finite set;
let C145 being (Subset of C144);
set D53 = ( bspace C144 );
set D54 = ( singletons C144 );
defpred S4[ set ] means ($1 is (Subset of C144) implies (ex B143 being (Linear_Combination of D54) st ( Sum B143 ) = $1));
L392: S4[ ( {} ) ]
proof
reconsider D55 = ( ZeroLC D53 ) as (Linear_Combination of D54) by VECTSP_6:5;
assume L393: ( {} ) is (Subset of C144);
take D55;
L394: ( Sum D55 ) = ( 0. D53 ) by VECTSP_6:15;
thus L395: thesis by L394;
end;
L396: (for B144 , B145 being set holds ((B144 in C145 & B145 c= C145 & S4[ B145 ]) implies S4[ ( B145 \/ { B144 } ) ]))
proof
let C146 , C147 being set;
assume that
L397: C146 in C145
and
L398: C147 c= C145
and
L399: S4[ C147 ];
assume L400: ( C147 \/ { C146 } ) is (Subset of C144);
reconsider D56 = C147 as (Subset of C144) by L400 , XBOOLE_1:11;
consider C148 being (Linear_Combination of D54) such that L401: ( Sum C148 ) = D56 by L399;
per cases ;
suppose L402: C146 in D56;

take C148;
thus L403: thesis by L401 , L402 , ZFMISC_1:40;
end;
suppose L404: (not C146 in D56);

L405: D56 misses { C146 } by L404 , ZFMISC_1:50;
reconsider D57 = ( ZeroLC D53 ) as (Linear_Combination of ( {} D53 )) by VECTSP_6:5;
reconsider D58 = { C146 } as (Element of D53) by L400 , XBOOLE_1:11;
reconsider D59 = D58 as (Subset of C144);
set D60 = ( D57 +* (D58 , ( 1_ ( Z_2 ) )) );
L406: D60 is (Linear_Combination of ( ( {} D53 ) \/ { D58 } )) by RANKNULL:23;
reconsider D61 = ( D57 +* (D58 , ( 1_ ( Z_2 ) )) ) as (Linear_Combination of { D58 }) by L406;
L407: ( dom D57 ) = ( [#] D53 ) by FUNCT_2:92;
L408: ( D61 . D58 ) = ( 1_ ( Z_2 ) ) by L407 , FUNCT_7:31;
L409: D58 in D54;
L410: { D58 } c= D54 by L409 , ZFMISC_1:31;
L411: D61 is (Linear_Combination of D54) by L410 , VECTSP_6:4;
reconsider D62 = ( C148 + D61 ) as (Linear_Combination of D54) by L411 , VECTSP_6:24;
take D62;
L412: ( Sum D62 ) = ( ( Sum C148 ) + ( Sum D61 ) ) by VECTSP_6:44
.= ( ( Sum C148 ) + ( ( D61 . D58 ) * D58 ) ) by VECTSP_6:17
.= ( ( Sum C148 ) + D58 ) by L408 , VECTSP_1:def 17
.= ( D56 \+\ D59 ) by L401 , L91
.= ( ( D56 \/ { C146 } ) \ ( D56 /\ { C146 } ) ) by XBOOLE_1:101
.= ( ( D56 \/ { C146 } ) \ ( {} ) ) by L405 , XBOOLE_0:def 7
.= ( D56 \/ { C146 } );
thus L413: thesis by L412;
end;
end;
L415: C145 is  finite;
L416: S4[ C145 ] from FINSET_1:sch 2(L415 , L392 , L396);
thus L417: thesis by L416;
end;
theorem
L418: (for B146 being  finite set holds ( Lin ( singletons B146 ) ) = ( bspace B146 ))
proof
let C149 being  finite set;
set D63 = ( bspace C149 );
set D64 = ( singletons C149 );
L419: (for B147 being (Element of D63) holds B147 in ( Lin D64 ))
proof
let C150 being (Element of D63);
reconsider D65 = C150 as (Subset of C149);
consider C151 being set such that L420: C151 c= C149 and L421: D65 = C151;
reconsider D66 = C151 as (Subset of C149) by L420;
L422: (ex B148 being (Linear_Combination of D64) st ( Sum B148 ) = D66) by L391;
thus L423: thesis by L422 , L421 , VECTSP_7:7;
end;
thus L424: thesis by L419 , VECTSP_4:32;
end;
theorem
L425: (for B149 being  finite set holds ( singletons B149 ) is (Basis of ( bspace B149 )))
proof
let C152 being  finite set;
L426: (( singletons C152 ) is  linearly-independent & ( Lin ( singletons C152 ) ) = ( bspace C152 )) by L315 , L418;
thus L427: thesis by L426 , VECTSP_7:def 3;
end;
registration
let C153 being  finite set;
cluster ( singletons C153 ) ->  finite;
coherence;
end;
registration
let C154 being  finite set;
cluster ( bspace C154 ) ->  finite-dimensional;
coherence
proof
set D67 = ( singletons C154 );
L429: D67 is (Basis of ( bspace C154 )) by L425;
thus L430: thesis by L429 , MATRLIN:def 1;
end;
end;
theorem
L432: (for R4 being set holds ( card ( singletons R4 ) ) = ( card R4 ))
proof
let R4 being set;
defpred S5[ set , set ] means ($1 in R4 & $2 = { $1 });
L433: (for B150 being set holds (B150 in R4 implies (ex B151 being set st S5[ B150 , B151 ])));
consider C155 being Function such that L434: ( dom C155 ) = R4 and L435: (for B152 being set holds (B152 in R4 implies S5[ B152 , ( C155 . B152 ) ])) from CLASSES1:sch 1(L433);
L436: ( rng C155 ) = ( singletons R4 )
proof
thus L437: ( rng C155 ) c= ( singletons R4 )
proof
let C156 being set;
assume L438: C156 in ( rng C155 );
consider C157 being set such that L439: C157 in ( dom C155 ) and L440: C156 = ( C155 . C157 ) by L438 , FUNCT_1:def 3;
L441: ( C155 . C157 ) = { C157 } by L434 , L435 , L439;
reconsider D68 = ( C155 . C157 ) as (Subset of R4) by L441 , L434 , L439 , ZFMISC_1:31;
L442: D68 is 1 -element by L441;
thus L443: thesis by L442 , L440;
end;

let C158 being set;
assume that
L444: C158 in ( singletons R4 );
reconsider D69 = R4 as non  empty set by L444;
L445: (ex B153 being (Subset of D69) st (C158 = B153 & B153 is 1 -element)) by L444;
reconsider D70 = C158 as 1 -element (Subset of D69) by L445;
consider C159 being (Element of D69) such that L446: D70 = { C159 } by CARD_1:65;
L447: D70 = ( C155 . C159 ) by L435 , L446;
thus L448: thesis by L447 , L434 , FUNCT_1:3;
end;
L449: C155 is  one-to-one
proof
let C160 , C161 being set;
assume that
L450: (C160 in ( dom C155 ) & C161 in ( dom C155 ))
and
L451: ( C155 . C160 ) = ( C155 . C161 );
L452: (S5[ C160 , ( C155 . C160 ) ] & S5[ C161 , ( C155 . C161 ) ]) by L434 , L435 , L450;
thus L453: thesis by L452 , L451 , ZFMISC_1:3;
end;
L454: R4 , ( singletons R4 ) are_equipotent  by L449 , L434 , L436 , WELLORD2:def 4;
thus L455: thesis by L454 , CARD_1:5;
end;
theorem
L456: (for R4 being set holds ( card ( [#] ( bspace R4 ) ) ) = ( exp (2 , ( card R4 )) )) by CARD_2:31;
theorem
L457: ( dim ( bspace ( {} ) ) ) = ( 0 )
proof
L458: ( card ( [#] ( bspace ( {} ) ) ) ) = 1 by CARD_2:42 , ZFMISC_1:1;
thus L459: thesis by L458 , RANKNULL:5;
end;
