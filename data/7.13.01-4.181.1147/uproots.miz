:: Little {B}ezout Theorem (Factor Theorem)
::  by Piotr Rudnicki
::
:: Received December 30, 2003
:: Copyright (c) 2003-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, FINSEQ_1, SUBSET_1, RELAT_1, FUNCT_1, CARD_1, CARD_3,
      FINSEQ_2, ARYTM_3, ORDINAL4, TARSKI, NAT_1, XXREAL_0, REAL_1, ARYTM_1,
      XBOOLE_0, ORDINAL1, RLVECT_1, ALGSTR_0, SUPINF_2, PARTFUN1, FINSET_1,
      FUNCT_2, MCART_1, ZFMISC_1, PRE_POLY, FUNCT_4, FUNCOP_1, VALUED_0,
      PBOOLE, XREAL_0, SGRAPH1, FINSOP_1, BINOP_1, GROUP_1, STRUCT_0, POLYNOM1,
      POLYNOM3, AFINSQ_1, MESFUNC1, ALGSEQ_1, VECTSP_1, POLYNOM5, LATTICES,
      VECTSP_2, COMPLFLD, POLYNOM2, FVSUM_1, MEMBERED, CLASSES1, UPROOTS;
 notations TARSKI, XBOOLE_0,
      XTUPLE_0, XCMPLX_0, XXREAL_0, SUBSET_1, ORDINAL1, CARD_1,
      NUMBERS, XREAL_0, ZFMISC_1, REAL_1, VECTSP_2, BINOP_1, RELAT_1, FUNCT_1,
      PBOOLE, RELSET_1, PARTFUN1, FINSEQ_1, FINSEQ_2, DOMAIN_1, FUNCT_2,
      XXREAL_2, VALUED_0, NAT_1, NAT_D, STRUCT_0, ALGSTR_0, RLVECT_1, VFUNCT_1,
      VECTSP_1, FINSOP_1, NORMSP_1, GROUP_4, RVSUM_1, ALGSEQ_1, COMPLFLD,
      POLYNOM3, POLYNOM4, POLYNOM5, FINSET_1, MCART_1, FUNCT_4, FUNCOP_1,
      CLASSES1, FVSUM_1, WSIERP_1, MEMBERED, GROUP_1, RECDEF_1, PRE_POLY;
 constructors WELLORD2, SETWISEO, REAL_1, FINSEQOP, FINSOP_1, NAT_D, WSIERP_1,
      VECTSP_2, REALSET2, ALGSTR_1, GROUP_4, MATRIX_2, GOBOARD1, POLYNOM2,
      POLYNOM4, POLYNOM5, SEQ_1, RECDEF_1, BINOP_2, CLASSES1, XXREAL_2,
      RELSET_1, FUNCT_7, FVSUM_1, VFUNCT_1, XTUPLE_0;
 registrations XBOOLE_0, SUBSET_1, RELAT_1, FUNCT_1, ORDINAL1, FINSET_1,
      NUMBERS, XXREAL_0, XREAL_0, NAT_1, INT_1, BINOP_2, CARD_1, MEMBERED,
      FINSEQ_1, STRUCT_0, VECTSP_1, COMPLFLD, ALGSTR_1, PRE_POLY, POLYNOM3,
      POLYNOM4, POLYNOM5, FINSEQ_2, VALUED_0, XXREAL_2, FUNCT_2, RELSET_1,
      GROUP_1, VFUNCT_1, XTUPLE_0;
 requirements NUMERALS, BOOLE, SUBSET, ARITHM, REAL;
 definitions TARSKI, VECTSP_2, FUNCT_1, POLYNOM3, POLYNOM5, FINSEQ_2, RVSUM_1,
      GROUP_4, RLVECT_1, FUNCOP_1, RELAT_1, STRUCT_0, XTUPLE_0;
 theorems GROUP_1, CARD_1, FINSEQ_1, ZFMISC_1, NAT_1, FUNCT_1, FUNCT_2,
      RELAT_1, TARSKI, XBOOLE_0, XBOOLE_1, VECTSP_1, POLYNOM5, INT_1, AXIOMS,
      RVSUM_1, FVSUM_1, FINSEQ_3, FINSEQ_2, POLYNOM4, POLYNOM3, FUNCT_7,
      ALGSEQ_1, RLVECT_1, PBOOLE, FUNCOP_1, MATRIX_3, VECTSP_2, CARD_2,
      FINSEQ_5, GRAPH_5, BAGORDER, RFINSEQ, WELLORD2, CARD_3, ORDINAL1,
      FINSOP_1, MONOID_0, INTEGRA1, FUNCT_4, MCART_1, XREAL_1, GROUP_4,
      XXREAL_0, PARTFUN1, XXREAL_2, NAT_D, FINSEQ_4, CLASSES1, PRE_POLY,
      TREES_9;
 schemes NAT_1, FUNCT_1, FUNCT_2, FRAENKEL, ALGSEQ_1, FINSEQ_1, RECDEF_1,
      CLASSES1, INT_1;

begin
theorem
L1: (for B1 being (FinSequence of ( NAT )) holds ((for B2 being (Element of ( NAT )) holds (B2 in ( dom B1 ) implies ( B1 . B2 ) <> ( 0 ))) implies (( Sum B1 ) = ( len B1 ) iff B1 = ( ( len B1 ) |-> 1 ))))
proof
defpred S1[ (Element of ( NAT )) ] means (for B3 being (FinSequence of ( NAT )) holds ((( len B3 ) = $1 & (for B4 being (Element of ( NAT )) holds (B4 in ( dom B3 ) implies ( B3 . B4 ) <> ( 0 )))) implies (( Sum B3 ) = ( len B3 ) iff B3 = ( ( len B3 ) |-> 1 ))));
let C1 being (FinSequence of ( NAT ));
L2: (for B5 being (Element of ( NAT )) holds (S1[ B5 ] implies S1[ ( B5 + 1 ) ]))
proof
let C2 being (Element of ( NAT ));
assume L3: S1[ C2 ];
let C3 being (FinSequence of ( NAT ));
assume that
L4: ( len C3 ) = ( C2 + 1 )
and
L5: (for B6 being (Element of ( NAT )) holds (B6 in ( dom C3 ) implies ( C3 . B6 ) <> ( 0 )));
consider C4 being (FinSequence of ( NAT )), C5 being (Element of ( NAT )) such that L6: C3 = ( C4 ^ <* C5 *> ) by L4 , FINSEQ_2:19;
L7:
now
let C6 being (Element of ( NAT ));
L8: ( dom C4 ) c= ( dom C3 ) by L6 , FINSEQ_1:26;
assume L9: C6 in ( dom C4 );
L10: ( C3 . C6 ) = ( C4 . C6 ) by L9 , L6 , FINSEQ_1:def 7;
thus L11: ( C4 . C6 ) <> ( 0 ) by L10 , L5 , L9 , L8;
end;
L12: ( C2 + 1 ) = ( ( len C4 ) + ( len <* C5 *> ) ) by L4 , L6 , FINSEQ_1:22;
L13: ( C2 + 1 ) = ( ( len C4 ) + 1 ) by L12 , FINSEQ_1:40;
L14: (( dom C3 ) = ( Seg ( len C3 ) ) & ( C3 . ( len C3 ) ) = C5) by L13 , L4 , L6 , FINSEQ_1:42 , FINSEQ_1:def 3;
L15: C5 <> ( 0 ) by L14 , L4 , L5 , FINSEQ_1:4;
L16: ( (( 0 ) qua Nat) + 1 ) <= C5 by L15 , NAT_1:13;
L17: C4 is (FinSequence of ( REAL )) by FINSEQ_2:24;
thus L18:now
reconsider D1 = ( ( len C4 ) |-> (1 qua Real) ) as (FinSequence of ( REAL ));
reconsider D2 = D1 as (Element of ( ( len D1 ) -tuples_on ( REAL ) )) by FINSEQ_2:92;
reconsider D3 = C4 as (Element of ( ( len C4 ) -tuples_on ( REAL ) )) by L17 , FINSEQ_2:92;
assume L19: ( Sum C3 ) = ( len C3 );
L20: ( Sum C4 ) = ( ( ( Sum C4 ) + C5 ) - C5 )
.= ( ( C2 + 1 ) - C5 ) by L4 , L6 , L19 , RVSUM_1:74;
L21:
now
let C7 being Nat;
reconsider D4 = C7 as (Element of ( NAT )) by ORDINAL1:def 12;
assume L22: C7 in ( Seg ( len C4 ) );
L23: C7 in ( dom C4 ) by L22 , FINSEQ_1:def 3;
L24: ( C4 . C7 ) <> ( 0 ) by L23 , L7;
L25: ( (( 0 ) qua Nat) + 1 ) <= ( C4 . D4 ) by L24 , NAT_1:13;
thus L26: ( D2 . C7 ) <= ( D3 . C7 ) by L25 , L22 , FUNCOP_1:7;
end;
L27: ( Sum D2 ) <= ( Sum D3 ) by L21 , RVSUM_1:82;
L28: ( Sum D1 ) = ( C2 * 1 ) by L13 , RVSUM_1:80
.= C2;
L29: ( C2 + C5 ) <= ( ( ( C2 + 1 ) - C5 ) + C5 ) by L28 , L27 , L20 , XREAL_1:6;
L30: C5 <= 1 by L29 , XREAL_1:6;
L31: C5 = 1 by L30 , L16 , XXREAL_0:1;
L32: C4 = ( ( len C4 ) |-> 1 ) by L31 , L3 , L13 , L7 , L20;
thus L33: C3 = ( ( len C3 ) |-> 1 ) by L32 , L4 , L6 , L13 , L31 , FINSEQ_2:60;
end;
assume L34: C3 = ( ( len C3 ) |-> 1 );
L35: C3 = ( ( C2 |-> 1 ) ^ ( 1 |-> 1 ) ) by L34 , L4 , FINSEQ_2:123
.= ( ( C2 |-> 1 ) ^ <* 1 *> ) by FINSEQ_2:59;
L36: C5 = 1 by L35 , L6 , FINSEQ_2:17;
L37: ( Sum C3 ) = ( ( Sum C4 ) + C5 ) by L6 , RVSUM_1:74;
L38: C4 = ( ( len C4 ) |-> 1 ) by L6 , L13 , L35 , FINSEQ_2:17;
thus L39: thesis by L38 , L3 , L4 , L13 , L7 , L37 , L36;
end;
L40: S1[ ( 0 ) ]
proof
let C8 being (FinSequence of ( NAT ));
assume that
L41: ( len C8 ) = ( 0 )
and
L42: (for B7 being (Element of ( NAT )) holds (B7 in ( dom C8 ) implies ( C8 . B7 ) <> ( 0 )));
thus L43:now
assume L44: ( Sum C8 ) = ( len C8 );
thus L45: C8 = ( {} ) by L41
.= ( ( len C8 ) |-> 1 ) by L41;
end;
assume L46: C8 = ( ( len C8 ) |-> 1 );
L47: C8 = ( {} ) by L41;
thus L48: thesis by L47 , RVSUM_1:72;
end;
L49: (for B8 being (Element of ( NAT )) holds S1[ B8 ]) from NAT_1:sch 1(L40 , L2);
thus L50: thesis by L49;
end;
scheme IndFinSeq0 { F1() -> Nat , P1[set] } : (for B9 being (Element of ( NAT )) holds ((1 <= B9 & B9 <= F1()) implies P1[ B9 ]))
provided
L51: P1[ 1 ]
and
L52: (for B10 being (Element of ( NAT )) holds ((1 <= B10 & B10 < F1()) implies (P1[ B10 ] implies P1[ ( B10 + 1 ) ])))
proof
defpred S2[ Nat ] means (1 <= $1 & $1 <= F1() & (not P1[ $1 ]));
assume L53: (not (for B11 being (Element of ( NAT )) holds ((1 <= B11 & B11 <= F1()) implies P1[ B11 ])));
L54: (ex B12 being Nat st S2[ B12 ]) by L53;
consider C9 being Nat such that L55: (S2[ C9 ] & (for B13 being Nat holds (S2[ B13 ] implies C9 <= B13))) from NAT_1:sch 5(L54);
per cases ;
suppose L56: C9 = 1;

thus L57: thesis by L56 , L51 , L55;
end;
suppose L58: C9 <> 1;

L59: ( 1 - 1 ) <= ( C9 - 1 ) by L55 , XREAL_1:9;
reconsider D5 = ( C9 - 1 ) as (Element of ( NAT )) by L59 , INT_1:3;
L60: ( ( C9 - 1 ) + 1 ) = ( C9 + (( 0 ) qua Nat) );
L61: 1 < C9 by L55 , L58 , XXREAL_0:1;
L62: 1 <= D5 by L61 , L60 , NAT_1:13;
L63: (D5 <= ( D5 + 1 ) & D5 <> ( D5 + 1 )) by NAT_1:11;
L64: D5 < C9 by L63 , XXREAL_0:1;
L65: D5 < F1() by L64 , L55 , XXREAL_0:2;
thus L66: thesis by L65 , L52 , L55 , L60 , L64 , L62;
end;
end;
theorem
L68: (for B14 being  add-associative  right_zeroed  right_complementable non  empty addLoopStr holds (for B15 being (FinSequence of B14) holds ((( len B15 ) >= 2 & (for B16 being (Element of ( NAT )) holds ((2 < B16 & B16 in ( dom B15 )) implies ( B15 . B16 ) = ( 0. B14 )))) implies ( Sum B15 ) = ( ( B15 /. 1 ) + ( B15 /. 2 ) ))))
proof
let C10 being  add-associative  right_zeroed  right_complementable non  empty addLoopStr;
let C11 being (FinSequence of C10);
assume that
L69: ( len C11 ) >= 2
and
L70: (for B17 being (Element of ( NAT )) holds ((2 < B17 & B17 in ( dom C11 )) implies ( C11 . B17 ) = ( 0. C10 )));
L71: 2 in ( dom C11 ) by L69 , FINSEQ_3:25;
L72: 1 <= ( len C11 ) by L69 , XXREAL_0:2;
L73: 1 in ( dom C11 ) by L72 , FINSEQ_3:25;
L74: (not C11 is  empty) by L69;
consider C12 being (Element of C10), C13 being (FinSequence of C10) such that L75: C12 = ( C11 . 1 ) and L76: C11 = ( <* C12 *> ^ C13 ) by L74 , FINSEQ_3:102;
L77: ( len <* C12 *> ) = 1 by FINSEQ_1:40;
L78: ( C11 . 2 ) = ( C13 . ( 2 - 1 ) ) by L77 , L69 , L76 , FINSEQ_1:24
.= ( C13 . 1 );
L79: ( len C11 ) = ( 1 + ( len C13 ) ) by L76 , L77 , FINSEQ_1:22;
L80:
now
assume L81: C13 is  empty;
L82: ( len C13 ) = ( 0 ) by L81;
thus L83: contradiction by L82 , L69 , L79;
end;
consider C14 being (Element of C10), C15 being (FinSequence of C10) such that L84: C14 = ( C13 . 1 ) and L85: C13 = ( <* C14 *> ^ C15 ) by L80 , FINSEQ_3:102;
L86: ( len <* C14 *> ) = 1 by FINSEQ_1:40;
L87:
now
let C16 being (Element of ( NAT ));
assume that
L88: C16 in ( dom C15 );
L89: ( 1 + C16 ) in ( dom C13 ) by L85 , L86 , L88 , FINSEQ_1:28;
L90: 1 <= C16 by L88 , FINSEQ_3:25;
L91: 1 < ( 1 + C16 ) by L90 , NAT_1:13;
L92: ( 1 + 1 ) < ( 1 + ( 1 + C16 ) ) by L91 , XREAL_1:8;
thus L93: ( C15 . C16 ) = ( C13 . ( 1 + C16 ) ) by L85 , L86 , L88 , FINSEQ_1:def 7
.= ( C11 . ( 1 + ( 1 + C16 ) ) ) by L76 , L77 , L89 , FINSEQ_1:def 7
.= ( 0. C10 ) by L70 , L76 , L77 , L89 , L92 , FINSEQ_1:28;
end;
thus L94: ( Sum C11 ) = ( C12 + ( Sum C13 ) ) by L76 , FVSUM_1:72
.= ( C12 + ( C14 + ( Sum C15 ) ) ) by L85 , FVSUM_1:72
.= ( C12 + ( C14 + ( 0. C10 ) ) ) by L87 , POLYNOM3:1
.= ( C12 + C14 ) by RLVECT_1:def 4
.= ( ( C11 /. 1 ) + C14 ) by L75 , L73 , PARTFUN1:def 6
.= ( ( C11 /. 1 ) + ( C11 /. 2 ) ) by L84 , L71 , L78 , PARTFUN1:def 6;
end;
begin
registration
let C17 being  finite set;
cluster  one-to-one  onto for (FinSequence of C17);
existence
proof
defpred S3[ (Element of ( NAT )) , set , set ] means $3 = [ ( choose ( $2 `2 ) ) , ( ( $2 `2 ) \ { ( choose ( $2 `2 ) ) } ) ];
set D6 = ( card C17 );
L95: (for B18 being (Element of ( NAT )) holds ((1 <= B18 & B18 < D6) implies (for B19 being set holds (ex B20 being set st S3[ B18 , B19 , B20 ]))));
consider C18 being FinSequence such that L96: ( len C18 ) = D6 and L97: (( C18 . 1 ) = [ ( choose C17 ) , ( C17 \ { ( choose C17 ) } ) ] or D6 = ( 0 )) and L98: (for B21 being (Element of ( NAT )) holds ((1 <= B21 & B21 < D6) implies S3[ B21 , ( C18 . B21 ) , ( C18 . ( B21 + 1 ) ) ])) from RECDEF_1:sch 3(L95);
defpred S4[ (Element of ( NAT )) ] means ($1 in ( dom C18 ) implies (( C18 . $1 ) in [: C17 , ( bool C17 ) :] & (ex B22 being  finite set st (B22 = ( ( C18 . $1 ) `2 ) & ( ( card B22 ) + $1 ) = D6))));
L99: (for B23 being (Element of ( NAT )) holds ((1 <= B23 & B23 < ( len C18 ) & S4[ B23 ]) implies S4[ ( B23 + 1 ) ]))
proof
let C19 being (Element of ( NAT ));
assume that
L100: 1 <= C19
and
L101: C19 < ( len C18 )
and
L102: S4[ C19 ]
and
L103: ( C19 + 1 ) in ( dom C18 );
L104: ( C18 . ( C19 + 1 ) ) = [ ( choose ( ( C18 . C19 ) `2 ) ) , ( ( ( C18 . C19 ) `2 ) \ { ( choose ( ( C18 . C19 ) `2 ) ) } ) ] by L96 , L98 , L100 , L101;
consider C20 , C21 being set such that L105: C20 in C17 and L106: C21 in ( bool C17 ) and L107: ( C18 . C19 ) = [ C20 , C21 ] by L100 , L101 , L102 , FINSEQ_3:25 , ZFMISC_1:def 2;
L108: ( ( C18 . C19 ) `2 ) = C21 by L107 , MCART_1:7;
L109: ( ( ( C18 . C19 ) `2 ) \ { ( choose ( ( C18 . C19 ) `2 ) ) } ) c= C17 by L108 , L106 , XBOOLE_1:1;
L110:
now
assume L111: ( choose ( ( C18 . C19 ) `2 ) ) in ( ( ( C18 . C19 ) `2 ) \ { ( choose ( ( C18 . C19 ) `2 ) ) } );
L112: (not ( choose ( ( C18 . C19 ) `2 ) ) in { ( choose ( ( C18 . C19 ) `2 ) ) }) by L111 , XBOOLE_0:def 5;
thus L113: contradiction by L112 , TARSKI:def 1;
end;
consider C22 being  finite set such that L114: C22 = ( ( C18 . C19 ) `2 ) and L115: ( ( card C22 ) + C19 ) = D6 by L100 , L101 , L102 , FINSEQ_3:25;
L116: C22 <> ( {} ) by L96 , L101 , L115 , CARD_1:27;
L117: ( choose ( ( C18 . C19 ) `2 ) ) in ( ( C18 . C19 ) `2 ) by L116 , L114;
thus L118: ( C18 . ( C19 + 1 ) ) in [: C17 , ( bool C17 ) :] by L117 , L106 , L104 , L108 , L109 , ZFMISC_1:def 2;
reconsider D7 = ( ( ( C18 . C19 ) `2 ) \ { ( choose ( ( C18 . C19 ) `2 ) ) } ) as  finite set by L114;
take D7;
thus L119: D7 = ( ( C18 . ( C19 + 1 ) ) `2 ) by L104 , MCART_1:7;
L120: { ( choose ( ( C18 . C19 ) `2 ) ) } c= ( ( C18 . C19 ) `2 ) by L114 , L116 , ZFMISC_1:31;
L121: ( ( C18 . C19 ) `2 ) = ( { ( choose ( ( C18 . C19 ) `2 ) ) } \/ ( ( ( C18 . C19 ) `2 ) \ { ( choose ( ( C18 . C19 ) `2 ) ) } ) ) by L120 , XBOOLE_1:45;
L122: ( card C22 ) = ( ( card D7 ) + 1 ) by L121 , L114 , L110 , CARD_2:41;
thus L123: thesis by L122 , L115;
end;
L124: S4[ 1 ]
proof
reconsider D8 = ( C17 \ { ( choose C17 ) } ) as  finite set;
L125:
now
assume L126: ( choose C17 ) in ( C17 \ { ( choose C17 ) } );
L127: (not ( choose C17 ) in { ( choose C17 ) }) by L126 , XBOOLE_0:def 5;
thus L128: contradiction by L127 , TARSKI:def 1;
end;
assume L129: 1 in ( dom C18 );
L130: C17 <> ( {} ) by L129 , L96 , FINSEQ_3:25;
thus L131: ( C18 . 1 ) in [: C17 , ( bool C17 ) :] by L130 , L97 , ZFMISC_1:def 2;
take D8;
thus L132: D8 = ( ( C18 . 1 ) `2 ) by L96 , L97 , L129 , FINSEQ_3:25 , MCART_1:7;
L133: ( (( 0 ) qua Nat) + 1 ) <= ( len C18 ) by L129 , FINSEQ_3:25;
L134: { ( choose C17 ) } c= C17 by L133 , L96 , CARD_1:27 , ZFMISC_1:31;
L135: C17 = ( { ( choose C17 ) } \/ ( C17 \ { ( choose C17 ) } ) ) by L134 , XBOOLE_1:45;
thus L136: thesis by L135 , L125 , CARD_2:41;
end;
L137: (for B24 being (Element of ( NAT )) holds ((1 <= B24 & B24 <= ( len C18 )) implies S4[ B24 ])) from IndFinSeq0(L124 , L99);
L138: ( rng C18 ) c= [: C17 , ( bool C17 ) :]
proof
let C23 being set;
assume L139: C23 in ( rng C18 );
consider C24 being Nat such that L140: C24 in ( dom C18 ) and L141: C23 = ( C18 . C24 ) by L139 , FINSEQ_2:10;
L142: (1 <= C24 & C24 <= ( len C18 )) by L140 , FINSEQ_3:25;
thus L143: thesis by L142 , L137 , L140 , L141;
end;
reconsider D9 = C18 as (FinSequence of [: C17 , ( bool C17 ) :]) by L138 , FINSEQ_1:def 4;
deffunc H1(Nat) = ( ( D9 . $1 ) `1 );
consider C25 being FinSequence such that L144: ( len C25 ) = ( card C17 ) and L145: (for B25 being Nat holds (B25 in ( dom C25 ) implies ( C25 . B25 ) = H1(B25))) from FINSEQ_1:sch 2;
L146: ( dom C25 ) = ( dom D9 ) by L96 , L144 , FINSEQ_3:29;
L147: ( rng C25 ) c= C17
proof
let C26 being set;
assume L148: C26 in ( rng C25 );
consider C27 being Nat such that L149: C27 in ( dom C25 ) and L150: ( C25 . C27 ) = C26 by L148 , FINSEQ_2:10;
L151: (( C25 . C27 ) = ( ( D9 . C27 ) `1 ) & ( D9 . C27 ) in [: C17 , ( bool C17 ) :]) by L145 , L146 , L149 , FINSEQ_2:11;
thus L152: thesis by L151 , L150 , MCART_1:10;
end;
reconsider D10 = C25 as (FinSequence of C17) by L147 , FINSEQ_1:def 4;
L153: ( rng D10 ) = C17
proof
set D11 = D10;
per cases ;
suppose L154: C17 = ( {} );

thus L155: thesis by L154;
end;
suppose L156: C17 <> ( {} );

defpred S5[ (Element of ( NAT )) ] means (( ( rng ( D11 | ( Seg $1 ) ) ) \/ ( ( D9 . $1 ) `2 ) ) = C17 & (ex B26 being  finite set st (B26 = ( ( D9 . $1 ) `2 ) & ( ( card B26 ) + $1 ) = D6)));
L157: (for B27 being (Element of ( NAT )) holds ((1 <= B27 & B27 < ( len D9 ) & S5[ B27 ]) implies S5[ ( B27 + 1 ) ]))
proof
let C28 being (Element of ( NAT ));
assume that
L158: 1 <= C28
and
L159: C28 < ( len D9 )
and
L160: S5[ C28 ];
L161: ( D9 . ( C28 + 1 ) ) = [ ( choose ( ( D9 . C28 ) `2 ) ) , ( ( ( D9 . C28 ) `2 ) \ { ( choose ( ( D9 . C28 ) `2 ) ) } ) ] by L96 , L98 , L158 , L159;
consider C29 being  finite set such that L162: C29 = ( ( D9 . C28 ) `2 ) and L163: ( ( card C29 ) + C28 ) = D6 by L160;
reconsider D12 = ( ( ( D9 . C28 ) `2 ) \ { ( choose ( ( D9 . C28 ) `2 ) ) } ) as  finite set by L162;
L164: ( ( D9 . C28 ) `2 ) is non  empty by L96 , L159 , L162 , L163 , CARD_1:27;
L165: { ( choose ( ( D9 . C28 ) `2 ) ) } c= ( ( D9 . C28 ) `2 ) by L164 , ZFMISC_1:31;
L166: ( ( D9 . C28 ) `2 ) = ( { ( choose ( ( D9 . C28 ) `2 ) ) } \/ ( ( ( D9 . C28 ) `2 ) \ { ( choose ( ( D9 . C28 ) `2 ) ) } ) ) by L165 , XBOOLE_1:45;
reconsider D13 = ( D11 | ( Seg C28 ) ) , D14 = ( D11 | ( Seg ( C28 + 1 ) ) ) as (FinSequence of C17) by FINSEQ_1:18;
L167: ( C28 + 1 ) <= ( len D11 ) by L96 , L144 , L159 , NAT_1:13;
consider C30 being (Element of C17) such that L168: D14 = ( D13 ^ <* C30 *> ) by L167 , L156 , TREES_9:33;
L169: 1 <= ( C28 + 1 ) by NAT_1:12;
L170: ( C28 + 1 ) in ( dom D11 ) by L169 , L167 , FINSEQ_3:25;
L171: ( rng D14 ) = ( ( rng D13 ) \/ ( rng <* C30 *> ) ) by L168 , FINSEQ_1:31
.= ( ( rng D13 ) \/ { C30 } ) by FINSEQ_1:39;
L172: (( D11 . ( C28 + 1 ) ) = ( D14 . ( C28 + 1 ) ) & C28 = ( len D13 )) by L96 , L144 , L159 , FINSEQ_1:4 , FINSEQ_1:17 , FUNCT_1:49;
L173: C30 = ( D11 . ( C28 + 1 ) ) by L172 , L168 , FINSEQ_1:42
.= ( ( D9 . ( C28 + 1 ) ) `1 ) by L145 , L170
.= ( choose ( ( D9 . C28 ) `2 ) ) by L161 , MCART_1:7;
L174: ( ( D9 . ( C28 + 1 ) ) `2 ) = ( ( ( D9 . C28 ) `2 ) \ { C30 } ) by L173 , L161 , MCART_1:7;
thus L175: ( ( rng ( D11 | ( Seg ( C28 + 1 ) ) ) ) \/ ( ( D9 . ( C28 + 1 ) ) `2 ) ) = C17 by L174 , L160 , L166 , L171 , L173 , XBOOLE_1:4;
take D12;
thus L176: D12 = ( ( D9 . ( C28 + 1 ) ) `2 ) by L161 , MCART_1:7;
L177:
now
assume L178: ( choose ( ( D9 . C28 ) `2 ) ) in ( ( ( D9 . C28 ) `2 ) \ { ( choose ( ( D9 . C28 ) `2 ) ) } );
L179: (not ( choose ( ( D9 . C28 ) `2 ) ) in { ( choose ( ( D9 . C28 ) `2 ) ) }) by L178 , XBOOLE_0:def 5;
thus L180: contradiction by L179 , TARSKI:def 1;
end;
L181: ( card C29 ) = ( ( card D12 ) + 1 ) by L177 , L162 , L166 , CARD_2:41;
thus L182: thesis by L181 , L163;
end;
L183: ( ( 0 ) + 1 ) <= ( len D11 ) by L144 , L156 , NAT_1:13;
L184: 1 in ( dom D11 ) by L183 , FINSEQ_3:25;
L185: S5[ 1 ]
proof
reconsider D15 = ( C17 \ { ( choose C17 ) } ) as  finite set;
reconsider D16 = ( D11 | ( Seg 1 ) ) as (FinSequence of C17) by FINSEQ_1:18;
L186:
now
assume L187: ( choose C17 ) in ( C17 \ { ( choose C17 ) } );
L188: (not ( choose C17 ) in { ( choose C17 ) }) by L187 , XBOOLE_0:def 5;
thus L189: contradiction by L188 , TARSKI:def 1;
end;
L190: 1 in ( Seg ( (( 0 ) qua Nat) + 1 ) ) by FINSEQ_1:4;
L191: ( D16 . 1 ) = ( D11 . 1 ) by L190 , FUNCT_1:49
.= ( ( D9 . 1 ) `1 ) by L145 , L184
.= ( choose C17 ) by L97 , L156 , MCART_1:7;
L192: (ex B28 being (Element of C17) st D16 = <* B28 *>) by L156 , L183 , TREES_9:34;
L193: ( D11 | ( Seg 1 ) ) = <* ( choose C17 ) *> by L192 , L191 , FINSEQ_1:40;
L194: ( rng ( D11 | ( Seg 1 ) ) ) = { ( choose C17 ) } by L193 , FINSEQ_1:39;
L195: ( ( D9 . 1 ) `2 ) = ( C17 \ { ( choose C17 ) } ) by L97 , L156 , MCART_1:7;
thus L196: ( ( rng ( D11 | ( Seg 1 ) ) ) \/ ( ( D9 . 1 ) `2 ) ) = C17 by L195 , L194 , XBOOLE_1:45;
take D15;
thus L197: D15 = ( ( D9 . 1 ) `2 ) by L97 , L156 , MCART_1:7;
L198: { ( choose C17 ) } c= C17 by L156 , ZFMISC_1:31;
L199: C17 = ( { ( choose C17 ) } \/ ( C17 \ { ( choose C17 ) } ) ) by L198 , XBOOLE_1:45;
thus L200: thesis by L199 , L186 , CARD_2:41;
end;
L201: (for B29 being (Element of ( NAT )) holds ((1 <= B29 & B29 <= ( len D9 )) implies S5[ B29 ])) from IndFinSeq0(L185 , L157);
L202: ( len D11 ) >= 1 by L144 , L156 , NAT_1:14;
consider C31 being  finite set such that L203: C31 = ( ( D9 . ( len D11 ) ) `2 ) and L204: ( ( card C31 ) + ( len D9 ) ) = D6 by L202 , L96 , L144 , L201;
L205: D11 = ( D11 | ( Seg ( len D11 ) ) ) by FINSEQ_3:49;
L206: ( ( rng D11 ) \/ ( ( D9 . ( len D11 ) ) `2 ) ) = C17 by L205 , L96 , L144 , L201 , L202;
L207: C31 = ( {} ) by L96 , L204;
thus L208: thesis by L207 , L206 , L203;
end;
end;
L210: D10 is  onto by L153 , FUNCT_2:def 3;
take D10;
L211: D10 is  one-to-one by L144 , L153 , FINSEQ_4:62;
thus L212: thesis by L211 , L210;
end;
end;
definition
let C32 being  finite set;
func canFS C32 -> (FinSequence of C32) equals 
the  one-to-one  onto (FinSequence of C32);
coherence;
end;
registration
let C33 being  finite set;
cluster ( canFS C33 ) ->  one-to-one  onto;
coherence;
end;
theorem
L216: (for B30 being  finite set holds ( len ( canFS B30 ) ) = ( card B30 ))
proof
let C34 being  finite set;
L217: ( rng ( canFS C34 ) ) = C34 by FUNCT_2:def 3;
thus L218: thesis by L217 , FINSEQ_4:62;
end;
registration
let C35 being  finite non  empty set;
cluster ( canFS C35 ) -> non  empty;
coherence
proof
L219: ( len ( canFS C35 ) ) = ( card C35 ) by L216;
thus L220: thesis by L219;
end;
end;
theorem
L222: (for B31 being set holds ( canFS { B31 } ) = <* B31 *>)
proof
let C36 being set;
L223: ( rng ( canFS { C36 } ) ) = { C36 } by FUNCT_2:def 3;
L224: ( len ( canFS { C36 } ) ) = ( card { C36 } ) by L216
.= 1 by CARD_1:30;
thus L225: thesis by L224 , L223 , FINSEQ_1:39;
end;
theorem
L226: (for B32 being  finite set holds ( ( canFS B32 ) " ) is (Function of B32 , ( Seg ( card B32 ) )))
proof
let C37 being  finite set;
L227: ( len ( canFS C37 ) ) = ( card C37 ) by L216;
L228: ( dom ( canFS C37 ) ) = ( Seg ( card C37 ) ) by L227 , FINSEQ_1:def 3;
L229: ( rng ( ( canFS C37 ) " ) ) = ( Seg ( card C37 ) ) by L228 , FUNCT_1:33;
L230: ( rng ( canFS C37 ) ) = C37 by FUNCT_2:def 3;
L231: ( dom ( ( canFS C37 ) " ) ) = C37 by L230 , FUNCT_1:33;
thus L232: thesis by L231 , L229 , FUNCT_2:1;
end;
begin
definition
let C38 being set;
let C39 being  finite (Subset of C38);
let C40 being (Element of ( NAT ));
func (C39 , C40) -bag -> (Element of ( Bags C38 )) equals 
( ( EmptyBag C38 ) +* ( C39 --> C40 ) );
correctness
proof
set D17 = ( ( EmptyBag C38 ) +* ( C39 --> C40 ) );
L233: ( EmptyBag C38 ) = ( C38 --> ( 0 ) ) by PRE_POLY:def 13;
L234: ( dom ( C39 --> C40 ) ) = C39 by FUNCOP_1:13;
L235:
now
let C41 being set;
assume L236: (not C41 in C39);
thus L237: ( D17 . C41 ) = ( ( EmptyBag C38 ) . C41 ) by L236 , L234 , FUNCT_4:11
.= ( 0 ) by PRE_POLY:52;
end;
L238:
now
let C42 being set;
assume that
L239: C42 in C39;
thus L240: ( D17 . C42 ) = ( ( C39 --> C40 ) . C42 ) by L234 , L239 , FUNCT_4:13
.= C40 by L239 , FUNCOP_1:7;
end;
L241: ( support D17 ) is  finite
proof
per cases ;
suppose L242: C39 is  empty;

L243:
now
assume L244: ( support D17 ) is non  empty;
consider C43 being set such that L245: C43 in ( support D17 ) by L244 , XBOOLE_0:def 1;
L246: ( D17 . C43 ) <> ( 0 ) by L245 , PRE_POLY:def 7;
thus L247: contradiction by L246 , L235 , L242;
end;
thus L248: thesis by L243;
end;
suppose L249: (C39 is non  empty & C40 = ( 0 ));

L250:
now
assume L251: ( support D17 ) is non  empty;
consider C44 being set such that L252: C44 in ( support D17 ) by L251 , XBOOLE_0:def 1;
L253: ( D17 . C44 ) <> ( 0 ) by L252 , PRE_POLY:def 7;
L254: ( D17 . C44 ) = ( ( C39 --> C40 ) . C44 ) by L253 , L234 , L235 , FUNCT_4:13
.= ( 0 ) by L235 , L249 , L253 , FUNCOP_1:7;
thus L255: contradiction by L254 , L252 , PRE_POLY:def 7;
end;
thus L256: thesis by L250;
end;
suppose L257: (C39 is non  empty & C40 <> ( 0 ));

L258: (for B33 being set holds (B33 in C39 iff ( D17 . B33 ) <> ( 0 ))) by L257 , L235 , L238;
thus L259: thesis by L258 , PRE_POLY:def 7;
end;
end;
L261: ( dom D17 ) = ( ( dom ( EmptyBag C38 ) ) \/ ( dom ( C39 --> C40 ) ) ) by FUNCT_4:def 1
.= ( C38 \/ ( dom ( C39 --> C40 ) ) ) by L233 , FUNCOP_1:13
.= ( C38 \/ C39 ) by FUNCOP_1:13
.= C38 by XBOOLE_1:12;
L262: ( ( EmptyBag C38 ) +* ( C39 --> C40 ) ) is (bag of C38) by L261 , L241 , PARTFUN1:def 2 , PRE_POLY:def 8 , RELAT_1:def 18;
thus L263: thesis by L262 , PRE_POLY:def 12;
end;
end;
theorem
L265: (for B34 being set holds (for B35 being  finite (Subset of B34) holds (for B36 being (Element of ( NAT )) holds (for B37 being set holds ((not B37 in B35) implies ( ( (B35 , B36) -bag ) . B37 ) = ( 0 ))))))
proof
let C45 being set;
let C46 being  finite (Subset of C45);
let C47 being (Element of ( NAT ));
let C48 being set;
assume that
L266: (not C48 in C46);
L267: ( dom ( C46 --> C47 ) ) = C46 by FUNCOP_1:13;
thus L268: ( ( (C46 , C47) -bag ) . C48 ) = ( ( EmptyBag C45 ) . C48 ) by L267 , L266 , FUNCT_4:11
.= ( 0 ) by PRE_POLY:52;
end;
theorem
L269: (for B38 being set holds (for B39 being  finite (Subset of B38) holds (for B40 being (Element of ( NAT )) holds (for B41 being set holds (B41 in B39 implies ( ( (B39 , B40) -bag ) . B41 ) = B40)))))
proof
let C49 being set;
let C50 being  finite (Subset of C49);
let C51 being (Element of ( NAT ));
let C52 being set;
assume that
L270: C52 in C50;
L271: ( dom ( C50 --> C51 ) ) = C50 by FUNCOP_1:13;
thus L272: ( ( (C50 , C51) -bag ) . C52 ) = ( ( C50 --> C51 ) . C52 ) by L271 , L270 , FUNCT_4:13
.= C51 by L270 , FUNCOP_1:7;
end;
theorem
L273: (for B42 being set holds (for B43 being  finite (Subset of B42) holds (for B44 being (Element of ( NAT )) holds (B44 <> ( 0 ) implies ( support ( (B43 , B44) -bag ) ) = B43))))
proof
let C53 being set;
let C54 being  finite (Subset of C53);
let C55 being (Element of ( NAT ));
assume L274: C55 <> ( 0 );
L275: (for B45 being set holds (B45 in C54 iff ( ( (C54 , C55) -bag ) . B45 ) <> ( 0 ))) by L274 , L265 , L269;
thus L276: thesis by L275 , PRE_POLY:def 7;
end;
theorem
L277: (for B46 being set holds (for B47 being  finite (Subset of B46) holds (for B48 being (Element of ( NAT )) holds ((B47 is  empty or B48 = ( 0 )) implies ( (B47 , B48) -bag ) = ( EmptyBag B46 )))))
proof
let C56 being set;
let C57 being  finite (Subset of C56);
let C58 being (Element of ( NAT ));
assume that
L278: (C57 is  empty or C58 = ( 0 ));
L279:
now
let C59 being set;
assume L280: C59 in C56;
per cases ;
suppose L281: C59 in C57;

thus L282: ( ( (C57 , C58) -bag ) . C59 ) = ( 0 ) by L281 , L278 , L269
.= ( ( EmptyBag C56 ) . C59 ) by PRE_POLY:52;
end;
suppose L283: (not C59 in C57);

thus L284: ( ( (C57 , C58) -bag ) . C59 ) = ( 0 ) by L283 , L265
.= ( ( EmptyBag C56 ) . C59 ) by PRE_POLY:52;
end;
end;
thus L286: thesis by L279 , PBOOLE:3;
end;
theorem
L287: (for B49 being set holds (for B50 , B51 being  finite (Subset of B49) holds (for B52 being (Element of ( NAT )) holds (B50 misses B51 implies ( (( B50 \/ B51 ) , B52) -bag ) = ( ( (B50 , B52) -bag ) + ( (B51 , B52) -bag ) )))))
proof
let C60 being set;
let C61 , C62 being  finite (Subset of C60);
let C63 being (Element of ( NAT ));
assume L288: C61 misses C62;
L289: ( C61 /\ C62 ) = ( {} ) by L288 , XBOOLE_0:def 7;
L290:
now
let C64 being set;
assume that
L291: C64 in C60;
per cases  by XBOOLE_0:def 3;
suppose L292: (not C64 in ( C61 \/ C62 ));

L293: (not C64 in C62) by L292 , XBOOLE_0:def 3;
L294: (not C64 in C61) by L292 , XBOOLE_0:def 3;
thus L295: ( ( (( C61 \/ C62 ) , C63) -bag ) . C64 ) = ( 0 ) by L292 , L265
.= ( ( ( (C61 , C63) -bag ) . C64 ) + (( 0 ) qua Nat) ) by L294 , L265
.= ( ( ( (C61 , C63) -bag ) . C64 ) + ( ( (C62 , C63) -bag ) . C64 ) ) by L293 , L265
.= ( ( ( (C61 , C63) -bag ) + ( (C62 , C63) -bag ) ) . C64 ) by PRE_POLY:def 5;
end;
suppose L296: C64 in C61;

L297: (not C64 in C62) by L296 , L289 , XBOOLE_0:def 4;
L298: C64 in ( C61 \/ C62 ) by L296 , XBOOLE_0:def 3;
thus L299: ( ( (( C61 \/ C62 ) , C63) -bag ) . C64 ) = C63 by L298 , L269
.= ( ( ( (C61 , C63) -bag ) . C64 ) + (( 0 ) qua Nat) ) by L296 , L269
.= ( ( ( (C61 , C63) -bag ) . C64 ) + ( ( (C62 , C63) -bag ) . C64 ) ) by L297 , L265
.= ( ( ( (C61 , C63) -bag ) + ( (C62 , C63) -bag ) ) . C64 ) by PRE_POLY:def 5;
end;
suppose L300: C64 in C62;

L301: (not C64 in C61) by L300 , L289 , XBOOLE_0:def 4;
L302: C64 in ( C61 \/ C62 ) by L300 , XBOOLE_0:def 3;
thus L303: ( ( (( C61 \/ C62 ) , C63) -bag ) . C64 ) = C63 by L302 , L269
.= ( ( ( (C62 , C63) -bag ) . C64 ) + (( 0 ) qua Nat) ) by L300 , L269
.= ( ( ( (C61 , C63) -bag ) . C64 ) + ( ( (C62 , C63) -bag ) . C64 ) ) by L301 , L265
.= ( ( ( (C61 , C63) -bag ) + ( (C62 , C63) -bag ) ) . C64 ) by PRE_POLY:def 5;
end;
end;
thus L305: thesis by L290 , PBOOLE:3;
end;
definition
let C65 being set;
mode Rbag of C65
 is  real-valued  finite-support (ManySortedSet of C65);
end;
definition
let C66 being set;
let C67 being (Rbag of C66);
func Sum C67 ->  real number means 
:L307: (ex B53 being (FinSequence of ( REAL )) st (it = ( Sum B53 ) & B53 = ( C67 * ( canFS ( support C67 ) ) )));
existence
proof
set D18 = ( canFS ( support C67 ) );
set D19 = ( C67 * D18 );
L308: ( rng D19 ) c= ( REAL );
L309: (( support C67 ) c= ( dom C67 ) & ( rng D18 ) = ( support C67 )) by FUNCT_2:def 3 , PRE_POLY:37;
L310: ( dom D19 ) = ( dom D18 ) by L309 , RELAT_1:27;
L311: ( dom D19 ) = ( Seg ( len D18 ) ) by L310 , FINSEQ_1:def 3;
L312: D19 is FinSequence by L311 , FINSEQ_1:def 2;
reconsider D20 = D19 as (FinSequence of ( REAL )) by L312 , L308 , FINSEQ_1:def 4;
take ( Sum D20 );
thus L313: thesis;
end;
uniqueness;
end;
notation
let C68 being set;
let C69 being (bag of C68);
synonym degree C69 for Sum C69;
end;
definition
let C70 being set;
let C71 being (bag of C70);
redefine func degree C71 -> (Element of ( NAT )) means 
:L316: (ex B54 being (FinSequence of ( NAT )) st (it = ( Sum B54 ) & B54 = ( C71 * ( canFS ( support C71 ) ) )));
coherence
proof
consider C72 being (FinSequence of ( REAL )) such that L317: ( degree C71 ) = ( Sum C72 ) and L318: C72 = ( C71 * ( canFS ( support C71 ) ) ) by L307;
L319: ( rng C72 ) c= ( NAT )
proof
let C73 being set;
assume L320: C73 in ( rng C72 );
consider C74 being set such that L321: C74 in ( dom C72 ) and L322: C73 = ( C72 . C74 ) by L320 , FUNCT_1:def 3;
L323: ( C72 . C74 ) = ( C71 . ( ( canFS ( support C71 ) ) . C74 ) ) by L318 , L321 , FUNCT_1:12;
thus L324: thesis by L323 , L322;
end;
reconsider D21 = C72 as (FinSequence of ( NAT )) by L319 , FINSEQ_1:def 4;
L325: ( Sum D21 ) is (Element of ( NAT ));
thus L326: thesis by L325 , L317;
end;
compatibility
proof
set D22 = ( canFS ( support C71 ) );
let C75 being (Element of ( NAT ));
thus L327:now
consider C76 being (FinSequence of ( REAL )) such that L328: ( degree C71 ) = ( Sum C76 ) and L329: C76 = ( C71 * ( canFS ( support C71 ) ) ) by L307;
L330: ( rng C76 ) c= ( NAT )
proof
let C77 being set;
assume L331: C77 in ( rng C76 );
consider C78 being set such that L332: C78 in ( dom C76 ) and L333: C77 = ( C76 . C78 ) by L331 , FUNCT_1:def 3;
L334: ( C76 . C78 ) = ( C71 . ( ( canFS ( support C71 ) ) . C78 ) ) by L329 , L332 , FUNCT_1:12;
thus L335: thesis by L334 , L333;
end;
assume L336: C75 = ( degree C71 );
reconsider D23 = C76 as (FinSequence of ( NAT )) by L330 , FINSEQ_1:def 4;
take D24 = D23;
thus L337: (C75 = ( Sum D24 ) & D24 = ( C71 * D22 )) by L336 , L328 , L329;
end;
given C79 being (FinSequence of ( NAT )) such that
L338: (C75 = ( Sum C79 ) & C79 = ( C71 * D22 ));

L339: ( rng C79 ) c= ( REAL );
reconsider D25 = C79 as (FinSequence of ( REAL )) by L339 , FINSEQ_1:def 4;
L340: D25 = D25;
thus L341: thesis by L340 , L338 , L307;
end;
end;
theorem
L343: (for B55 being set holds (for B56 being (Rbag of B55) holds (B56 = ( EmptyBag B55 ) implies ( Sum B56 ) = ( 0 ))))
proof
let C80 being set;
let C81 being (Rbag of C80);
set D26 = ( canFS ( support C81 ) );
assume L344: C81 = ( EmptyBag C80 );
L345: ( support C81 ) = ( {} ) by L344 , BAGORDER:18;
L346: ( C81 * D26 ) = ( <*> ( NAT ) ) by L345;
thus L347: thesis by L346 , L307 , RVSUM_1:72;
end;
theorem
L348: (for B57 being set holds (for B58 being (bag of B57) holds (( Sum B58 ) = ( 0 ) implies B58 = ( EmptyBag B57 ))))
proof
let C82 being set;
let C83 being (bag of C82);
set D27 = ( canFS ( support C83 ) );
consider C84 being (FinSequence of ( NAT )) such that L349: ( degree C83 ) = ( Sum C84 ) and L350: C84 = ( C83 * ( canFS ( support C83 ) ) ) by L316;
assume L351: ( degree C83 ) = ( 0 );
L352:
now
assume L353: ( support C83 ) <> ( {} );
L354:
now
consider C85 being set such that L355: C85 in ( support C83 ) by L353 , XBOOLE_0:def 1;
L356: C85 in ( rng D27 ) by L355 , FUNCT_2:def 3;
consider C86 being Nat such that L357: C86 in ( dom D27 ) and L358: ( D27 . C86 ) = C85 by L356 , FINSEQ_2:10;
reconsider D28 = C86 as (Element of ( NAT )) by ORDINAL1:def 12;
L359: ( C84 . D28 ) = ( C83 . ( D27 . D28 ) ) by L350 , L357 , FUNCT_1:13;
L360: ( C84 . D28 ) <> ( 0 ) by L359 , L355 , L358 , PRE_POLY:def 7;
L361: ( support C83 ) c= ( dom C83 ) by PRE_POLY:37;
L362: D28 in ( dom C84 ) by L361 , L350 , L355 , L357 , L358 , FUNCT_1:11;
thus L363: (ex B59 being Nat st (B59 in ( dom C84 ) & ( 0 ) < ( C84 . B59 ))) by L362 , L360;
end;
L364: (for B60 being Nat holds (B60 in ( dom C84 ) implies ( 0 ) <= ( C84 . B60 )));
thus L365: contradiction by L364 , L351 , L349 , L354 , RVSUM_1:85;
end;
thus L366: thesis by L352 , BAGORDER:19;
end;
theorem
L367: (for B61 being set holds (for B62 being  finite (Subset of B61) holds (for B63 being (bag of B61) holds ((B62 = ( support B63 ) & ( degree B63 ) = ( card B62 )) iff B63 = ( (B62 , 1) -bag )))))
proof
let C87 being set;
let C88 being  finite (Subset of C87);
let C89 being (bag of C87);
set D29 = ( canFS C88 );
set D30 = ( C89 * D29 );
L368: ( dom C89 ) = C87 by PARTFUN1:def 2;
set D31 = ( ( card C88 ) |-> 1 );
L369: ( len D29 ) = ( card C88 ) by L216;
L370: ( rng D29 ) = C88 by FUNCT_2:def 3;
L371: ( dom D30 ) = ( dom D29 ) by L370 , L368 , RELAT_1:27;
L372: ( dom D30 ) = ( Seg ( len D29 ) ) by L371 , FINSEQ_1:def 3;
reconsider D32 = D30 as FinSequence by L372 , FINSEQ_1:def 2;
L373: ( len D29 ) = ( len D32 ) by L371 , FINSEQ_3:29;
thus L374:now
set D33 = ( (C88 , 1) -bag );
assume that
L375: C88 = ( support C89 )
and
L376: ( degree C89 ) = ( card C88 );
consider C90 being (FinSequence of ( NAT )) such that L377: ( degree C89 ) = ( Sum C90 ) and L378: C90 = ( C89 * D29 ) by L375 , L316;
L379:
now
let C91 being (Element of ( NAT ));
assume L380: C91 in ( dom C90 );
L381: (( C90 . C91 ) = ( C89 . ( D29 . C91 ) ) & ( D29 . C91 ) in ( rng D29 )) by L380 , L371 , L378 , FUNCT_1:3 , FUNCT_1:12;
thus L382: ( C90 . C91 ) <> ( 0 ) by L381 , L375 , PRE_POLY:def 7;
end;
L383: C90 = ( ( len C90 ) |-> 1 ) by L379 , L369 , L373 , L376 , L377 , L378 , L1;
L384: ( support C89 ) = ( support D33 ) by L375 , L273;
L385:
now
thus L386: ( dom C89 ) = ( dom D33 ) by L368 , PARTFUN1:def 2;
let C92 being set;
assume L387: C92 in ( dom C89 );
per cases ;
suppose L388: C92 in ( support C89 );

L389: ( ( D29 " ) . C92 ) in ( dom D29 ) by L388 , L370 , L375 , FUNCT_1:32;
L390: ( ( D29 " ) . C92 ) in ( Seg ( len C90 ) ) by L389 , L371 , L378 , FINSEQ_1:def 3;
L391: ( rng D29 ) = ( support C89 ) by L375 , FUNCT_2:def 3;
thus L392: ( C89 . C92 ) = ( C89 . ( D29 . ( ( D29 " ) . C92 ) ) ) by L391 , L388 , FUNCT_1:35
.= ( C90 . ( ( D29 " ) . C92 ) ) by L378 , L389 , FUNCT_1:13
.= 1 by L383 , L390 , FUNCOP_1:7
.= ( D33 . C92 ) by L375 , L388 , L269;
end;
suppose L393: (not C92 in ( support C89 ));

thus L394: ( C89 . C92 ) = ( 0 ) by L393 , PRE_POLY:def 7
.= ( D33 . C92 ) by L384 , L393 , PRE_POLY:def 7;
end;
end;
thus L396: C89 = ( (C88 , 1) -bag ) by L385 , FUNCT_1:2;
end;
L397: ( rng D32 ) c= ( NAT )
proof
let C93 being set;
assume L398: C93 in ( rng D32 );
consider C94 being set such that L399: C94 in ( dom D32 ) and L400: C93 = ( D32 . C94 ) by L398 , FUNCT_1:def 3;
L401: ( D32 . C94 ) = ( C89 . ( D29 . C94 ) ) by L399 , FUNCT_1:12;
thus L402: thesis by L401 , L400;
end;
reconsider D34 = D32 as (FinSequence of ( NAT )) by L397 , FINSEQ_1:def 4;
assume L403: C89 = ( (C88 , 1) -bag );
L404: ( rng D29 ) = C88 by FUNCT_2:def 3;
L405:
now
thus L406: ( len D34 ) = ( card C88 ) by L371 , L369 , FINSEQ_3:29;
thus L407: ( len D31 ) = ( card C88 ) by CARD_1:def 7;
let C95 being Nat;
L408: ( dom D34 ) = ( Seg ( card C88 ) ) by L371 , L369 , FINSEQ_1:def 3;
assume L409: C95 in ( dom D34 );
thus L410: ( D34 . C95 ) = ( C89 . ( D29 . C95 ) ) by L409 , FUNCT_1:12
.= 1 by L371 , L404 , L403 , L409 , L269 , FUNCT_1:3
.= ( D31 . C95 ) by L408 , L409 , FUNCOP_1:7;
end;
L411: D34 = D31 by L405 , FINSEQ_2:9;
thus L412: C88 = ( support C89 ) by L403 , L273;
L413: ( degree C89 ) = ( Sum D34 ) by L412 , L316;
thus L414: ( degree C89 ) = ( ( card C88 ) * 1 ) by L413 , L411 , RVSUM_1:80
.= ( card C88 );
end;
theorem
L415: (for B64 being set holds (for B65 being  finite (Subset of B64) holds (for B66 being (Rbag of B64) holds (( support B66 ) c= B65 implies (ex B67 being (FinSequence of ( REAL )) st (B67 = ( B66 * ( canFS B65 ) ) & ( Sum B66 ) = ( Sum B67 )))))))
proof
let C96 being set;
let C97 being  finite (Subset of C96);
let C98 being (Rbag of C96);
assume that
L416: ( support C98 ) c= C97;
L417: ( card ( support C98 ) ) <= ( card C97 ) by L416 , NAT_1:43;
set D35 = ( canFS ( support C98 ) );
L418: ( rng D35 ) = ( support C98 ) by FUNCT_2:def 3;
set D36 = ( canFS C97 );
set D37 = ( C98 * D36 );
L419: ( len D36 ) = ( card C97 ) by L216;
L420: ( dom D36 ) = ( Seg ( card C97 ) ) by L419 , FINSEQ_1:def 3;
L421: ( len D35 ) = ( card ( support C98 ) ) by L216;
L422: ( dom D35 ) = ( Seg ( card ( support C98 ) ) ) by L421 , FINSEQ_1:def 3;
consider C99 being (FinSequence of ( REAL )) such that L423: ( Sum C98 ) = ( Sum C99 ) and L424: C99 = ( C98 * D35 ) by L307;
L425: ( dom C98 ) = C96 by PARTFUN1:def 2;
L426: ( dom C99 ) = ( Seg ( card ( support C98 ) ) ) by L425 , L416 , L424 , L422 , L418 , RELAT_1:27 , XBOOLE_1:1;
L427: ( len C99 ) = ( card ( support C98 ) ) by L426 , FINSEQ_1:def 3;
L428: ( rng D36 ) = C97 by FUNCT_2:def 3;
L429: ( dom D37 ) = ( Seg ( card C97 ) ) by L428 , L420 , L425 , RELAT_1:27;
reconsider D38 = D37 as FinSequence by L429 , FINSEQ_1:def 2;
L430: ( rng D38 ) c= ( rng C98 ) by RELAT_1:26;
L431: ( rng D38 ) c= ( REAL ) by L430 , XBOOLE_1:1;
reconsider D39 = D38 as (FinSequence of ( REAL )) by L431 , FINSEQ_1:def 4;
take D39;
thus L432: D39 = ( C98 * ( canFS C97 ) );
per cases  by L417 , XXREAL_0:1;
suppose L433: ( card ( support C98 ) ) < ( card C97 );

set D40 = { B68 where B68 is (Element of ( NAT )) : (B68 in ( dom D39 ) & ( D39 . B68 ) = ( 0 )) };
L434:
now
consider C100 being set such that L435: (not (C100 in ( support C98 ) iff C100 in C97)) by L433 , TARSKI:1;
consider C101 being set such that L436: C101 in ( dom D36 ) and L437: ( D36 . C101 ) = C100 by L416 , L428 , L435 , FUNCT_1:def 3;
reconsider D41 = C101 as (Element of ( NAT )) by L436;
L438: ( D39 . D41 ) = ( C98 . C100 ) by L436 , L437 , FUNCT_1:13;
L439: ( D39 . D41 ) = ( 0 ) by L438 , L416 , L435 , PRE_POLY:def 7;
L440: D41 in D40 by L439 , L420 , L429 , L436;
thus L441: D40 is non  empty by L440;
end;
reconsider D42 = C99 as (FinSequence of ( REAL ));
L442: D40 c= ( dom D39 )
proof
let C102 being set;
assume L443: C102 in D40;
L444: (ex B69 being (Element of ( NAT )) st (C102 = B69 & B69 in ( dom D39 ) & ( D39 . B69 ) = ( 0 ))) by L443;
thus L445: thesis by L444;
end;
reconsider D43 = D40 as  finite non  empty set by L442 , L434;
consider C103 being (Element of ( NAT )) such that L446: ( card C97 ) = ( ( card ( support C98 ) ) + C103 ) and L447: 1 <= C103 by L433 , FINSEQ_4:84;
set D44 = ( C103 |-> (( 0 ) qua Real) );
set D45 = ( D42 ^ D44 );
L448: (( rng ( canFS D43 ) ) = D43 & D43 c= ( NAT )) by L442 , FUNCT_2:def 3 , XBOOLE_1:1;
reconsider D46 = ( canFS D43 ) as (FinSequence of ( NAT )) by L448 , FINSEQ_1:def 4;
set D47 = ( (D46 qua Function) " );
reconsider D48 = D47 as (Function of D43 , ( Seg ( card D43 ) )) by L226;
reconsider D49 = D48 as (Function of D43 , ( NAT )) by FUNCT_2:7;
deffunc H2(set) = ( ( D49 /. $1 ) + ( card ( support C98 ) ) );
consider C104 being Function such that L449: ( dom C104 ) = D43 and L450: (for B70 being set holds (B70 in D43 implies ( C104 . B70 ) = H2(B70))) from FUNCT_1:sch 3;
set D50 = ( ( ( D35 " ) * D36 ) +* C104 );
L451: ( dom D49 ) = D43 by FUNCT_2:def 1;
set D51 = ( D36 | ( ( dom D39 ) \ D43 ) );
L452:
now
let C105 being set;
thus L453:now
assume L454: C105 in ( rng D51 );
consider C106 being set such that L455: C106 in ( dom D51 ) and L456: C105 = ( D51 . C106 ) by L454 , FUNCT_1:def 3;
L457: ( D51 . C106 ) = ( D36 . C106 ) by L455 , FUNCT_1:47;
L458: C106 in ( dom D36 ) by L455 , RELAT_1:57;
reconsider D52 = C106 as (Element of ( NAT )) by L458;
L459: C106 in ( ( findom D39 ) \ D43 ) by L455;
L460: (not D52 in D43) by L459 , XBOOLE_0:def 5;
L461: ( D39 . D52 ) <> ( 0 ) by L460 , L459;
L462: C106 in ( dom D36 ) by L455 , RELAT_1:57;
L463: ( C98 . ( D36 . D52 ) ) <> ( 0 ) by L462 , L461 , FUNCT_1:13;
thus L464: C105 in ( support C98 ) by L463 , L456 , L457 , PRE_POLY:def 7;
end;
assume L465: C105 in ( support C98 );
consider C107 being set such that L466: C107 in ( dom D36 ) and L467: C105 = ( D36 . C107 ) by L465 , L416 , L428 , FUNCT_1:def 3;
L468:
now
assume L469: C107 in D43;
consider C108 being (Element of ( NAT )) such that L470: C108 = C107 and L471: (C108 in ( dom D39 ) & ( D39 . C108 ) = ( 0 )) by L469;
L472: ( 0 ) = ( C98 . ( D36 . C108 ) ) by L420 , L429 , L471 , FUNCT_1:13;
thus L473: contradiction by L472 , L465 , L467 , L470 , PRE_POLY:def 7;
end;
L474: C107 in ( ( dom D39 ) \ D43 ) by L468 , L420 , L429 , L466 , XBOOLE_0:def 5;
thus L475: C105 in ( rng D51 ) by L474 , L466 , L467 , FUNCT_1:50;
end;
L476: ( rng D51 ) = ( support C98 ) by L452 , TARSKI:1;
L477: ( ( ( findom D39 ) \ D43 ) /\ ( dom D39 ) ) = ( ( dom D39 ) \ D43 ) by XBOOLE_1:28;
L478: (D51 is  one-to-one & ( dom D51 ) = ( ( dom D39 ) \ D43 )) by L477 , L420 , L429 , FUNCT_1:52 , RELAT_1:61;
L479: ( support C98 ) , ( ( dom D39 ) \ D43 ) are_equipotent  by L478 , L476 , WELLORD2:def 4;
L480: ( card ( support C98 ) ) = ( card ( ( dom D39 ) \ D43 ) ) by L479 , CARD_1:5;
L481: ( card ( ( dom D39 ) \ D43 ) ) = ( ( card ( dom D39 ) ) - ( card D43 ) ) by L442 , CARD_2:44;
L482: ( ( card ( support C98 ) ) + ( card D43 ) ) = ( card C97 ) by L481 , L429 , L480 , FINSEQ_1:57;
L483:
now
L484: ( dom ( D35 " ) ) = ( support C98 ) by L418 , FUNCT_1:33;
assume L485: ( ( dom ( ( D35 " ) * D36 ) ) /\ ( dom C104 ) ) <> ( {} );
consider C109 being set such that L486: C109 in ( ( dom ( ( D35 " ) * D36 ) ) /\ ( dom C104 ) ) by L485 , XBOOLE_0:def 1;
L487: C109 in ( dom C104 ) by L486 , XBOOLE_0:def 4;
consider C110 being (Element of ( NAT )) such that L488: C110 = C109 and L489: C110 in ( dom D39 ) and L490: ( D39 . C110 ) = ( 0 ) by L487 , L449;
L491: C109 in ( dom ( ( D35 " ) * D36 ) ) by L486 , XBOOLE_0:def 4;
L492: C110 in ( dom D36 ) by L491 , L488 , FUNCT_1:11;
L493: ( D39 . C110 ) = ( C98 . ( D36 . C110 ) ) by L492 , FUNCT_1:13;
L494: (not ( D36 . C110 ) in ( support C98 )) by L493 , L490 , PRE_POLY:def 7;
thus L495: contradiction by L494 , L491 , L488 , L484 , FUNCT_1:11;
end;
L496: ( len D45 ) = ( ( len C99 ) + ( len D44 ) ) by FINSEQ_1:22
.= ( card C97 ) by L427 , L446 , CARD_1:def 7;
L497: ( dom D45 ) = ( Seg ( card C97 ) ) by L496 , FINSEQ_1:def 3;
L498:
now
let C111 being set;
thus L499:now
assume L500: C111 in ( ( dom ( ( D35 " ) * D36 ) ) \/ ( dom C104 ) );
per cases  by L500 , XBOOLE_0:def 3;
suppose L501: C111 in ( dom ( ( D35 " ) * D36 ) );

thus L502: C111 in ( dom D45 ) by L501 , L420 , L497 , FUNCT_1:11;
end;
suppose L503: C111 in ( dom C104 );

thus L504: C111 in ( dom D45 ) by L503 , L429 , L497 , L442 , L449;
end;
end;
assume L506: C111 in ( dom D45 );
reconsider D53 = C111 as (Element of ( NAT )) by L506;
per cases ;
suppose L507: ( D39 . C111 ) = ( 0 );

L508: D53 in ( dom C104 ) by L507 , L429 , L497 , L449 , L506;
thus L509: C111 in ( ( dom ( ( D35 " ) * D36 ) ) \/ ( dom C104 ) ) by L508 , XBOOLE_0:def 3;
end;
suppose L510: ( D39 . C111 ) <> ( 0 );

L511: ( D39 . D53 ) = ( C98 . ( D36 . D53 ) ) by L420 , L497 , L506 , FUNCT_1:13;
L512: ( D36 . D53 ) in ( support C98 ) by L511 , L510 , PRE_POLY:def 7;
L513: ( D36 . D53 ) in ( dom ( D35 " ) ) by L512 , L418 , FUNCT_1:33;
L514: D53 in ( dom ( ( D35 " ) * D36 ) ) by L513 , L420 , L497 , L506 , FUNCT_1:11;
thus L515: C111 in ( ( dom ( ( D35 " ) * D36 ) ) \/ ( dom C104 ) ) by L514 , XBOOLE_0:def 3;
end;
end;
L517: ( ( dom ( ( D35 " ) * D36 ) ) \/ ( dom C104 ) ) = ( dom D45 ) by L498 , TARSKI:1;
L518: ( dom D50 ) = ( dom D45 ) by L517 , FUNCT_4:def 1;
L519: ( len D46 ) = ( card D43 ) by L216;
L520: ( dom D46 ) = ( Seg C103 ) by L519 , L446 , L482 , FINSEQ_1:def 3;
L521: ( rng D49 ) = ( Seg C103 ) by L520 , FUNCT_1:33;
L522: ( rng C104 ) c= ( Seg ( card C97 ) )
proof
let C112 being set;
assume L523: C112 in ( rng C104 );
consider C113 being set such that L524: C113 in ( dom C104 ) and L525: C112 = ( C104 . C113 ) by L523 , FUNCT_1:def 3;
L526: (( D49 /. C113 ) = ( D49 . C113 ) & ( D49 . C113 ) in ( Seg C103 )) by L451 , L521 , L449 , L524 , FUNCT_1:3 , PARTFUN1:def 6;
L527: 1 <= ( D49 /. C113 ) by L526 , FINSEQ_1:1;
L528: 1 <= ( ( D49 /. C113 ) + ( card ( support C98 ) ) ) by L527 , NAT_1:12;
L529: ( D49 /. C113 ) <= C103 by L526 , FINSEQ_1:1;
L530: ( ( D49 /. C113 ) + ( card ( support C98 ) ) ) <= ( C103 + ( card ( support C98 ) ) ) by L529 , XREAL_1:6;
L531: C112 = ( ( D49 /. C113 ) + ( card ( support C98 ) ) ) by L449 , L450 , L524 , L525;
thus L532: thesis by L531 , L446 , L528 , L530 , FINSEQ_1:1;
end;
L533:
now
let C114 being set;
assume that
L534: C114 in ( dom D45 );
per cases  by L517 , L534 , XBOOLE_0:def 3;
suppose L535: C114 in ( dom ( ( D35 " ) * D36 ) );

L536: ( ( ( D35 " ) * D36 ) . C114 ) in ( rng ( ( D35 " ) * D36 ) ) by L535 , FUNCT_1:3;
L537: ( ( ( D35 " ) * D36 ) . C114 ) in ( rng ( D35 " ) ) by L536 , FUNCT_1:14;
L538: ( ( ( D35 " ) * D36 ) . C114 ) in ( dom D35 ) by L537 , FUNCT_1:33;
L539: (not C114 in ( dom C104 )) by L483 , L535 , XBOOLE_0:def 4;
L540: ( D50 . C114 ) = ( ( ( D35 " ) * D36 ) . C114 ) by L539 , FUNCT_4:11;
L541: ( Seg ( card ( support C98 ) ) ) c= ( Seg ( card C97 ) ) by L417 , FINSEQ_1:5;
thus L542: ( D50 . C114 ) in ( dom D45 ) by L541 , L422 , L497 , L540 , L538;
end;
suppose L543: C114 in ( dom C104 );

L544: (( D50 . C114 ) = ( C104 . C114 ) & ( C104 . C114 ) in ( rng C104 )) by L543 , FUNCT_1:3 , FUNCT_4:13;
thus L545: ( D50 . C114 ) in ( dom D45 ) by L544 , L497 , L522;
end;
end;
L547: ( dom D50 ) = ( ( dom ( ( D35 " ) * D36 ) ) \/ ( dom C104 ) ) by FUNCT_4:def 1;
reconsider D54 = D50 as (Function of ( dom D45 ) , ( dom D45 )) by L518 , L533 , FUNCT_2:3;
L548: ( len D44 ) = C103 by CARD_1:def 7;
L549: ( dom D44 ) = ( Seg C103 ) by L548 , FINSEQ_1:def 3;
L550: ( rng D46 ) = D43 by FUNCT_2:def 3;
L551:
now
let C115 being set;
thus L552:now
assume L553: C115 in ( rng D54 );
consider C116 being set such that L554: C116 in ( dom D54 ) and L555: C115 = ( D54 . C116 ) by L553 , FUNCT_1:def 3;
per cases  by L554 , FUNCT_4:12;
suppose L556: C116 in ( dom ( ( D35 " ) * D36 ) );

L557: ( D36 . C116 ) in ( dom ( D35 " ) ) by L556 , FUNCT_1:11;
L558: ( ( D35 " ) . ( D36 . C116 ) ) in ( rng ( D35 " ) ) by L557 , FUNCT_1:3;
L559: ( ( D35 " ) . ( D36 . C116 ) ) in ( dom D35 ) by L558 , FUNCT_1:33;
L560: (not C116 in ( dom C104 )) by L483 , L556 , XBOOLE_0:def 4;
L561: ( D54 . C116 ) = ( ( ( D35 " ) * D36 ) . C116 ) by L560 , FUNCT_4:11
.= ( ( D35 " ) . ( D36 . C116 ) ) by L556 , FUNCT_1:12;
L562: ( dom D35 ) c= ( dom D45 ) by L422 , L417 , L497 , FINSEQ_1:5;
thus L563: C115 in ( dom D45 ) by L562 , L555 , L561 , L559;
end;
suppose L564: C116 in ( dom C104 );

L565: (( C104 . C116 ) in ( rng C104 ) & ( D54 . C116 ) = ( C104 . C116 )) by L564 , FUNCT_1:3 , FUNCT_4:13;
thus L566: C115 in ( dom D45 ) by L565 , L497 , L522 , L555;
end;
end;
assume L568: C115 in ( dom D45 );
reconsider D55 = C115 as (Element of ( NAT )) by L568;
per cases  by L568 , FINSEQ_1:25;
suppose L569: D55 in ( dom D42 );

L570: ( D35 . D55 ) in ( support C98 ) by L569 , L422 , L418 , L426 , FUNCT_1:3;
L571: ( ( D36 " ) . ( D35 . D55 ) ) in ( Seg ( card C97 ) ) by L570 , L416 , L420 , L428 , FUNCT_1:32;
L572:
now
assume L573: ( ( D36 " ) . ( D35 . D55 ) ) in ( dom C104 );
L574: (ex B71 being (Element of ( NAT )) st (B71 = ( ( D36 " ) . ( D35 . D55 ) ) & B71 in ( dom D39 ) & ( D39 . B71 ) = ( 0 ))) by L573 , L449;
L575: ( ( C98 * D36 ) . ( ( D36 " ) . ( D35 . D55 ) ) ) = ( C98 . ( D36 . ( ( D36 " ) . ( D35 . D55 ) ) ) ) by L420 , L571 , FUNCT_1:13
.= ( C98 . ( D35 . D55 ) ) by L416 , L428 , L570 , FUNCT_1:35;
thus L576: contradiction by L575 , L570 , L574 , PRE_POLY:def 7;
end;
L577: ( D54 . ( ( D36 " ) . ( D35 . D55 ) ) ) = ( ( ( D35 " ) * D36 ) . ( ( D36 " ) . ( D35 . D55 ) ) ) by L572 , FUNCT_4:11
.= ( ( D35 " ) . ( D36 . ( ( D36 " ) . ( D35 . D55 ) ) ) ) by L420 , L571 , FUNCT_1:13
.= ( ( D35 " ) . ( D35 . D55 ) ) by L416 , L428 , L570 , FUNCT_1:35
.= D55 by L422 , L426 , L569 , FUNCT_1:34;
thus L578: C115 in ( rng D54 ) by L577 , L497 , L518 , L571 , FUNCT_1:3;
end;
suppose L579: (ex B72 being Nat st (B72 in ( dom D44 ) & D55 = ( ( len D42 ) + B72 )));

consider C117 being Nat such that L580: C117 in ( dom D44 ) and L581: D55 = ( ( len D42 ) + C117 ) by L579;
L582: ( D46 . C117 ) in D43 by L549 , L520 , L550 , L580 , FUNCT_1:3;
L583: ( D54 . ( D46 . C117 ) ) = ( C104 . ( D46 . C117 ) ) by L549 , L520 , L550 , L449 , L580 , FUNCT_1:3 , FUNCT_4:13
.= ( ( D49 /. ( D46 . C117 ) ) + ( card ( support C98 ) ) ) by L549 , L520 , L550 , L450 , L580 , FUNCT_1:3
.= ( ( D49 . ( D46 . C117 ) ) + ( card ( support C98 ) ) ) by L549 , L520 , L550 , L451 , L580 , FUNCT_1:3 , PARTFUN1:def 6
.= ( C117 + ( card ( support C98 ) ) ) by L549 , L520 , L580 , FUNCT_1:34
.= D55 by L426 , L581 , FINSEQ_1:def 3;
thus L584: C115 in ( rng D54 ) by L583 , L429 , L497 , L442 , L518 , L582 , FUNCT_1:3;
end;
end;
L586: ( rng D54 ) = ( dom D45 ) by L551 , TARSKI:1;
L587: ( dom ( D45 * D54 ) ) = ( dom D45 ) by L586 , L518 , RELAT_1:27;
L588:
now
let C118 being set;
assume L589: C118 in ( dom D39 );
per cases ;
suppose L590: ( D39 . C118 ) = ( 0 );

reconsider D56 = ( D49 /. C118 ) as (Element of ( NAT ));
reconsider D57 = ( D54 . C118 ) as (Element of ( NAT ));
reconsider D58 = C118 as (Element of ( NAT )) by L589;
L591: D58 in ( dom C104 ) by L449 , L589 , L590;
L592: ( D54 . C118 ) = ( C104 . C118 ) by L591 , FUNCT_4:13
.= ( ( D49 /. C118 ) + ( card ( support C98 ) ) ) by L449 , L450 , L591;
L593: ( D49 . C118 ) in ( Seg ( card D43 ) ) by L449 , L591 , FUNCT_2:5;
L594: ( dom D49 ) = D43 by FUNCT_2:def 1;
L595: ( D49 /. C118 ) = ( D49 . C118 ) by L594 , L449 , L591 , PARTFUN1:def 6;
thus L596: ( D39 . C118 ) = ( D44 . D56 ) by L590
.= ( D45 . D57 ) by L427 , L446 , L549 , L482 , L592 , L595 , L593 , FINSEQ_1:def 7
.= ( ( D45 * D54 ) . C118 ) by L429 , L497 , L587 , L589 , FUNCT_1:12;
end;
suppose L597: ( D39 . C118 ) <> ( 0 );

reconsider D59 = ( D54 . C118 ) as (Element of ( NAT ));
L598: ( D39 . C118 ) = ( C98 . ( D36 . C118 ) ) by L589 , FUNCT_1:12;
L599: ( D36 . C118 ) in ( support C98 ) by L598 , L597 , PRE_POLY:def 7;
L600: ( D36 . C118 ) in ( rng D35 ) by L599 , FUNCT_2:def 3;
L601: ( ( D35 " ) . ( D36 . C118 ) ) in ( dom D35 ) by L600 , FUNCT_1:32;
L602:
now
assume L603: C118 in D43;
L604: (ex B73 being (Element of ( NAT )) st (B73 = C118 & B73 in ( dom D39 ) & ( D39 . B73 ) = ( 0 ))) by L603;
thus L605: contradiction by L604 , L597;
end;
L606: ( D54 . C118 ) = ( ( ( D35 " ) * D36 ) . C118 ) by L602 , L449 , FUNCT_4:11
.= ( ( D35 " ) . ( D36 . C118 ) ) by L420 , L429 , L589 , FUNCT_1:13;
thus L607: ( D39 . C118 ) = ( C98 . ( D36 . C118 ) ) by L589 , FUNCT_1:12
.= ( C98 . ( D35 . D59 ) ) by L600 , L606 , FUNCT_1:32
.= ( C99 . D59 ) by L424 , L601 , L606 , FUNCT_1:13
.= ( D45 . D59 ) by L422 , L426 , L601 , L606 , FINSEQ_1:def 7
.= ( ( D45 * D54 ) . C118 ) by L429 , L497 , L587 , L589 , FUNCT_1:12;
end;
end;
L609: D39 = ( D45 * D54 ) by L588 , L420 , L428 , L425 , L497 , L587 , FUNCT_1:2 , RELAT_1:27;
L610: D54 is  one-to-one
proof
let C119 , C120 being set;
assume that
L611: (C119 in ( dom D54 ) & C120 in ( dom D54 ))
and
L612: ( D54 . C119 ) = ( D54 . C120 );
per cases  by L547 , L611 , XBOOLE_0:def 3;
suppose L613: (C119 in ( dom ( ( D35 " ) * D36 ) ) & C120 in ( dom ( ( D35 " ) * D36 ) ));

L614: ( D36 . C119 ) in ( dom ( D35 " ) ) by L613 , FUNCT_1:11;
L615: ( D36 . C119 ) in ( rng D35 ) by L614 , FUNCT_1:33;
L616: ( D35 . ( ( D35 " ) . ( D36 . C119 ) ) ) = ( D36 . C119 ) by L615 , FUNCT_1:35;
L617: C119 in ( dom D36 ) by L613 , FUNCT_1:11;
L618: ( ( D36 " ) . ( D36 . C119 ) ) = C119 by L617 , FUNCT_1:34;
L619: ( D36 . C120 ) in ( dom ( D35 " ) ) by L613 , FUNCT_1:11;
L620: ( D36 . C120 ) in ( rng D35 ) by L619 , FUNCT_1:33;
L621: (not C120 in ( dom C104 )) by L483 , L613 , XBOOLE_0:def 4;
L622: ( D54 . C120 ) = ( ( ( D35 " ) * D36 ) . C120 ) by L621 , FUNCT_4:11
.= ( ( D35 " ) . ( D36 . C120 ) ) by L613 , FUNCT_1:12;
L623: C120 in ( dom D36 ) by L613 , FUNCT_1:11;
L624: (not C119 in ( dom C104 )) by L483 , L613 , XBOOLE_0:def 4;
L625: ( D54 . C119 ) = ( ( ( D35 " ) * D36 ) . C119 ) by L624 , FUNCT_4:11
.= ( ( D35 " ) . ( D36 . C119 ) ) by L613 , FUNCT_1:12;
L626: ( ( D36 " ) . ( D36 . C119 ) ) = ( ( D36 " ) . ( D36 . C120 ) ) by L625 , L612 , L622 , L616 , L620 , FUNCT_1:35;
thus L627: thesis by L626 , L618 , L623 , FUNCT_1:34;
end;
suppose L628: (C119 in ( dom ( ( D35 " ) * D36 ) ) & C120 in ( dom C104 ));

L629: ( D36 . C119 ) in ( dom ( D35 " ) ) by L628 , FUNCT_1:11;
L630: ( ( D35 " ) . ( D36 . C119 ) ) in ( rng ( D35 " ) ) by L629 , FUNCT_1:3;
L631: ( ( D35 " ) . ( D36 . C119 ) ) in ( dom D35 ) by L630 , FUNCT_1:33;
L632: (not C119 in ( dom C104 )) by L483 , L628 , XBOOLE_0:def 4;
L633: ( D54 . C119 ) = ( ( ( D35 " ) * D36 ) . C119 ) by L632 , FUNCT_4:11
.= ( ( D35 " ) . ( D36 . C119 ) ) by L628 , FUNCT_1:12;
L634: ( D54 . C120 ) = ( C104 . C120 ) by L628 , FUNCT_4:13
.= ( ( D49 /. C120 ) + ( card ( support C98 ) ) ) by L449 , L450 , L628;
L635: ( ( D49 /. C120 ) + ( card ( support C98 ) ) ) <= ( (( 0 ) qua Nat) + ( card ( support C98 ) ) ) by L634 , L422 , L612 , L633 , L631 , FINSEQ_1:1;
L636: ( D49 /. C120 ) = ( 0 ) by L635 , XREAL_1:6;
L637: ( D49 . C120 ) = ( 0 ) by L636 , L451 , L449 , L628 , PARTFUN1:def 6;
L638: ( D49 . C120 ) in ( rng D49 ) by L451 , L449 , L628 , FUNCT_1:3;
thus L639: thesis by L638 , L521 , L637 , FINSEQ_1:1;
end;
suppose L640: (C119 in ( dom C104 ) & C120 in ( dom ( ( D35 " ) * D36 ) ));

L641: ( D36 . C120 ) in ( dom ( D35 " ) ) by L640 , FUNCT_1:11;
L642: ( ( D35 " ) . ( D36 . C120 ) ) in ( rng ( D35 " ) ) by L641 , FUNCT_1:3;
L643: ( ( D35 " ) . ( D36 . C120 ) ) in ( dom D35 ) by L642 , FUNCT_1:33;
L644: (not C120 in ( dom C104 )) by L483 , L640 , XBOOLE_0:def 4;
L645: ( D54 . C120 ) = ( ( ( D35 " ) * D36 ) . C120 ) by L644 , FUNCT_4:11
.= ( ( D35 " ) . ( D36 . C120 ) ) by L640 , FUNCT_1:12;
L646: ( D54 . C119 ) = ( C104 . C119 ) by L640 , FUNCT_4:13
.= ( ( D49 /. C119 ) + ( card ( support C98 ) ) ) by L449 , L450 , L640;
L647: ( ( D49 /. C119 ) + ( card ( support C98 ) ) ) <= ( (( 0 ) qua Nat) + ( card ( support C98 ) ) ) by L646 , L422 , L612 , L645 , L643 , FINSEQ_1:1;
L648: ( D49 /. C119 ) = ( 0 ) by L647 , XREAL_1:6;
L649: ( D49 . C119 ) = ( 0 ) by L648 , L451 , L449 , L640 , PARTFUN1:def 6;
L650: ( D49 . C119 ) in ( rng D49 ) by L451 , L449 , L640 , FUNCT_1:3;
thus L651: thesis by L650 , L521 , L649 , FINSEQ_1:1;
end;
suppose L652: (C119 in ( dom C104 ) & C120 in ( dom C104 ));

L653: (( D49 /. C119 ) = ( D49 . C119 ) & ( D49 /. C120 ) = ( D49 . C120 )) by L652 , L451 , L449 , PARTFUN1:def 6;
L654: ( D54 . C120 ) = ( C104 . C120 ) by L652 , FUNCT_4:13
.= ( ( D49 /. C120 ) + ( card ( support C98 ) ) ) by L449 , L450 , L652;
L655: ( D54 . C119 ) = ( C104 . C119 ) by L652 , FUNCT_4:13
.= ( ( D49 /. C119 ) + ( card ( support C98 ) ) ) by L449 , L450 , L652;
thus L656: thesis by L655 , L451 , L449 , L612 , L652 , L654 , L653 , FUNCT_1:def 4;
end;
end;
L658: ( Sum D44 ) = ( 0 ) by RVSUM_1:81;
L659: ( Sum D42 ) = ( ( Sum D42 ) + ( Sum D44 ) ) by L658
.= ( Sum D45 ) by RVSUM_1:75;
L660: D54 is  onto by L586 , FUNCT_2:def 3;
thus L661: thesis by L660 , L423 , L610 , L609 , L659 , FINSOP_1:7;
end;
suppose L662: ( card ( support C98 ) ) = ( card C97 );

thus L663: thesis by L662 , L416 , L423 , L424 , PRE_POLY:8;
end;
end;
theorem
L665: (for B74 being set holds (for B75 , B76 , B77 being (Rbag of B74) holds (B75 = ( B76 + B77 ) implies ( Sum B75 ) = ( ( Sum B76 ) + ( Sum B77 ) ))))
proof
let C121 being set;
let C122 , C123 , C124 being (Rbag of C121);
set D60 = ( support C122 );
set D61 = ( ( support C123 ) \/ ( support C124 ) );
L666: ( dom C124 ) = C121 by PARTFUN1:def 2;
L667: ( support C124 ) c= C121 by L666 , PRE_POLY:37;
L668: ( dom C123 ) = C121 by PARTFUN1:def 2;
L669: ( support C123 ) c= C121 by L668 , PRE_POLY:37;
reconsider D62 = D61 as  finite (Subset of C121) by L669 , L667 , XBOOLE_1:8;
set D63 = ( canFS D62 );
consider C125 being (FinSequence of ( REAL )) such that L670: C125 = ( C123 * ( canFS D62 ) ) and L671: ( Sum C123 ) = ( Sum C125 ) by L415 , XBOOLE_1:7;
L672: ( rng D63 ) = D62 by FUNCT_2:def 3;
L673: ( dom C125 ) = ( dom D63 ) by L672 , L668 , L670 , RELAT_1:27;
assume L674: C122 = ( C123 + C124 );
L675: D60 c= D62 by L674 , PRE_POLY:75;
consider C126 being (FinSequence of ( REAL )) such that L676: C126 = ( C122 * ( canFS D62 ) ) and L677: ( Sum C122 ) = ( Sum C126 ) by L675 , L415;
L678: ( dom C122 ) = C121 by PARTFUN1:def 2;
L679: ( dom C126 ) = ( dom D63 ) by L678 , L676 , L672 , RELAT_1:27;
L680: ( len C125 ) = ( len C126 ) by L679 , L673 , FINSEQ_3:29;
consider C127 being (FinSequence of ( REAL )) such that L681: C127 = ( C124 * ( canFS D62 ) ) and L682: ( Sum C124 ) = ( Sum C127 ) by L415 , XBOOLE_1:7;
L683: ( dom C127 ) = ( dom D63 ) by L666 , L681 , L672 , RELAT_1:27;
L684:
now
let C128 being (Element of ( NAT ));
assume that
L685: C128 in ( dom C125 );
L686: ( C125 /. C128 ) = ( C125 . C128 ) by L685 , PARTFUN1:def 6
.= ( C123 . ( D63 . C128 ) ) by L670 , L685 , FUNCT_1:12;
L687: ( C126 . C128 ) = ( C122 . ( D63 . C128 ) ) by L676 , L679 , L673 , L685 , FUNCT_1:12;
L688: ( C127 /. C128 ) = ( C127 . C128 ) by L673 , L683 , L685 , PARTFUN1:def 6
.= ( C124 . ( D63 . C128 ) ) by L681 , L673 , L683 , L685 , FUNCT_1:12;
thus L689: ( C126 . C128 ) = ( ( C125 /. C128 ) + ( C127 /. C128 ) ) by L688 , L674 , L686 , L687 , PRE_POLY:def 5;
end;
L690: ( len C125 ) = ( len C127 ) by L673 , L683 , FINSEQ_3:29;
thus L691: thesis by L690 , L677 , L671 , L682 , L680 , L684 , INTEGRA1:21;
end;
theorem
L692: (for B78 being  associative  commutative  unital non  empty multMagma holds (for B79 , B80 being (FinSequence of B78) holds (for B81 being (Permutation of ( dom B79 )) holds (B80 = ( B79 * B81 ) implies ( Product B80 ) = ( Product B79 )))))
proof
let C129 being  associative  commutative  unital non  empty multMagma;
let C130 , C131 being (FinSequence of C129);
let C132 being (Permutation of ( dom C130 ));
assume that
L693: C131 = ( C130 * C132 );
set D64 = (the multF of C129);
L694: (D64 is  commutative & D64 is  associative) by MONOID_0:def 11;
thus L695: thesis by L694 , L693 , FINSOP_1:7;
end;
begin
definition
let C133 being non  empty ZeroStr;
let C134 being (Polynomial of C133);
attr C134 is  non-zero
means
:L696: C134 <> ( 0_. C133 );
end;
theorem
L698: (for B82 being non  empty ZeroStr holds (for B83 being (Polynomial of B82) holds (B83 is  non-zero iff ( len B83 ) > ( 0 ))))
proof
let C135 being non  empty ZeroStr;
let C136 being (Polynomial of C135);
thus L699:now
assume L700: C136 is  non-zero;
L701: C136 <> ( 0_. C135 ) by L700 , L696;
L702: ( len C136 ) <> ( 0 ) by L701 , POLYNOM4:5;
thus L703: ( len C136 ) > ( 0 ) by L702;
end;
assume L704: ( len C136 ) > ( 0 );
L705: C136 <> ( 0_. C135 ) by L704 , POLYNOM4:3;
thus L706: thesis by L705 , L696;
end;
registration
let C137 being non  trivial ZeroStr;
cluster  non-zero for (Polynomial of C137);
existence
proof
set D65 = the (Element of ( NonZero C137 ));
reconsider D66 = D65 as (Element of C137);
take D67 = <% D66 %>;
L707: ((not D66 in { ( 0. C137 ) }) & ( ( 0_. C137 ) . ( 0 ) ) = ( 0. C137 )) by FUNCOP_1:7 , XBOOLE_0:def 5;
L708: ( D67 . ( 0 ) ) = D66 by POLYNOM5:32;
L709: D67 <> ( 0_. C137 ) by L708 , L707 , TARSKI:def 1;
thus L710: thesis by L709 , L696;
end;
end;
registration
let C138 being non  degenerated non  empty multLoopStr_0;
let C139 being (Element of C138);
cluster <% C139 , ( 1. C138 ) %> ->  non-zero;
correctness
proof
L712: ( len <% C139 , ( 1. C138 ) %> ) = 2 by POLYNOM5:40;
thus L713: thesis by L712 , L698;
end;
end;
theorem
L715: (for B84 being non  empty ZeroStr holds (for B85 being (Polynomial of B84) holds (( len B85 ) > ( 0 ) implies ( B85 . ( ( len B85 ) -' 1 ) ) <> ( 0. B84 ))))
proof
let C140 being non  empty ZeroStr;
let C141 being (Polynomial of C140);
assume L716: ( len C141 ) > ( 0 );
L717: (ex B86 being Nat st ( len C141 ) = ( B86 + 1 )) by L716 , NAT_1:6;
L718: ( len C141 ) = ( ( ( len C141 ) -' 1 ) + 1 ) by L717 , NAT_D:34;
thus L719: thesis by L718 , ALGSEQ_1:10;
end;
theorem
L720: (for B87 being non  empty ZeroStr holds (for B88 being (AlgSequence of B87) holds (( len B88 ) = 1 implies (B88 = <% ( B88 . ( 0 ) ) %> & ( B88 . ( 0 ) ) <> ( 0. B87 )))))
proof
let C142 being non  empty ZeroStr;
let C143 being (AlgSequence of C142);
assume that
L721: ( len C143 ) = 1;
thus L722: C143 = <% ( C143 . ( 0 ) ) %> by L721 , ALGSEQ_1:def 5;
thus L723: thesis by L722 , L721 , ALGSEQ_1:14;
end;
theorem
L724: (for B89 being  add-associative  right_zeroed  right_complementable  right-distributive non  empty doubleLoopStr holds (for B90 being (Polynomial of B89) holds ( B90 *' ( 0_. B89 ) ) = ( 0_. B89 )))
proof
let C144 being  add-associative  right_zeroed  right_complementable  right-distributive non  empty doubleLoopStr;
let C145 being (Polynomial of C144);
L725:
now
let C146 being (Element of ( NAT ));
consider C147 being (FinSequence of C144) such that L726: ( len C147 ) = ( C146 + 1 ) and L727: ( ( C145 *' ( 0_. C144 ) ) . C146 ) = ( Sum C147 ) and L728: (for B91 being (Element of ( NAT )) holds (B91 in ( dom C147 ) implies ( C147 . B91 ) = ( ( C145 . ( B91 -' 1 ) ) * ( ( 0_. C144 ) . ( ( C146 + 1 ) -' B91 ) ) ))) by POLYNOM3:def 9;
L729:
now
let C148 being (Element of ( NAT ));
assume L730: C148 in ( dom C147 );
thus L731: ( C147 . C148 ) = ( ( C145 . ( C148 -' 1 ) ) * ( ( 0_. C144 ) . ( ( C146 + 1 ) -' C148 ) ) ) by L730 , L728
.= ( ( C145 . ( C148 -' 1 ) ) * ( 0. C144 ) ) by FUNCOP_1:7
.= ( 0. C144 ) by VECTSP_1:6;
end;
thus L732: ( ( C145 *' ( 0_. C144 ) ) . C146 ) = ( 0. C144 ) by L729 , L727 , POLYNOM3:1
.= ( ( 0_. C144 ) . C146 ) by FUNCOP_1:7;
end;
thus L733: thesis by L725 , FUNCT_2:63;
end;
registration
cluster  algebraic-closed  add-associative  right_zeroed  right_complementable  Abelian  commutative  associative  distributive  domRing-like non  degenerated for  unital non  empty  unital non  empty  unital non  empty  unital non  empty doubleLoopStr;
existence
proof
take ( F_Complex );
thus L734: thesis;
end;
end;
theorem
L736: (for B92 being  add-associative  right_zeroed  right_complementable  distributive  domRing-like non  empty doubleLoopStr holds (for B93 , B94 being (Polynomial of B92) holds (( B93 *' B94 ) = ( 0_. B92 ) implies (B93 = ( 0_. B92 ) or B94 = ( 0_. B92 )))))
proof
let C149 being  add-associative  right_zeroed  right_complementable  distributive  domRing-like non  empty doubleLoopStr;
let C150 , C151 being (Polynomial of C149);
assume that
L737: ( C150 *' C151 ) = ( 0_. C149 )
and
L738: C150 <> ( 0_. C149 )
and
L739: C151 <> ( 0_. C149 );
consider C152 being Nat such that L740: ( len C150 ) = ( C152 + 1 ) by L738 , NAT_1:6 , POLYNOM4:5;
L741: ( len C150 ) <> ( 0 ) by L738 , POLYNOM4:5;
L742: ( (( 0 ) qua Nat) + 1 ) <= ( len C150 ) by L741 , NAT_1:13;
consider C153 being Nat such that L743: ( len C151 ) = ( C153 + 1 ) by L739 , NAT_1:6 , POLYNOM4:5;
reconsider D68 = C152 , D69 = C153 as (Element of ( NAT )) by ORDINAL1:def 12;
L744: ( C150 . D68 ) <> ( 0. C149 ) by L740 , ALGSEQ_1:10;
L745: ( C151 . D69 ) <> ( 0. C149 ) by L743 , ALGSEQ_1:10;
set D70 = ( D68 + D69 );
consider C154 being (FinSequence of C149) such that L746: ( len C154 ) = ( D70 + 1 ) and L747: ( ( C150 *' C151 ) . D70 ) = ( Sum C154 ) and L748: (for B95 being (Element of ( NAT )) holds (B95 in ( dom C154 ) implies ( C154 . B95 ) = ( ( C150 . ( B95 -' 1 ) ) * ( C151 . ( ( D70 + 1 ) -' B95 ) ) ))) by POLYNOM3:def 9;
L749: ( ( D70 + 1 ) -' ( len C150 ) ) = ( ( D69 + ( D68 + 1 ) ) -' ( len C150 ) )
.= D69 by L740 , NAT_D:34;
L750: ( len C150 ) <= ( ( D68 + 1 ) + D69 ) by L740 , NAT_1:12;
L751: ( len C150 ) in ( dom C154 ) by L750 , L746 , L742 , FINSEQ_3:25;
L752:
now
let C155 being Nat;
assume that
L753: C155 in ( dom C154 )
and
L754: C155 <> ( len C150 );
reconsider D71 = C155 as (Element of ( NAT )) by ORDINAL1:def 12;
L755: ( C154 . D71 ) = ( ( C150 . ( D71 -' 1 ) ) * ( C151 . ( ( D70 + 1 ) -' D71 ) ) ) by L748 , L753;
per cases  by L754 , XXREAL_0:1;
suppose L756: C155 < ( len C150 );

consider C156 being (Element of ( NAT )) such that L757: ( len C150 ) = ( D71 + C156 ) and L758: 1 <= C156 by L756 , FINSEQ_4:84;
L759: ( len C151 ) <= ( D69 + C156 ) by L743 , L758 , XREAL_1:6;
L760: ( ( D70 + 1 ) -' C155 ) = ( ( ( D69 + C156 ) + C155 ) -' C155 ) by L740 , L757
.= ( D69 + C156 ) by NAT_D:34;
thus L761: ( C154 . C155 ) = ( ( C150 . ( C155 -' 1 ) ) * ( 0. C149 ) ) by L760 , L755 , L759 , ALGSEQ_1:8
.= ( 0. C149 ) by VECTSP_1:6;
end;
suppose L762: C155 > ( len C150 );

L763: C155 >= ( ( len C150 ) + 1 ) by L762 , NAT_1:13;
L764: ( C155 -' 1 ) >= ( ( ( len C150 ) + 1 ) -' 1 ) by L763 , NAT_D:42;
L765: ( C155 -' 1 ) >= ( len C150 ) by L764 , NAT_D:34;
thus L766: ( C154 . C155 ) = ( ( 0. C149 ) * ( C151 . ( ( D70 + 1 ) -' C155 ) ) ) by L765 , L755 , ALGSEQ_1:8
.= ( 0. C149 ) by VECTSP_1:7;
end;
end;
L768: ( Sum C154 ) = ( C154 . ( len C150 ) ) by L752 , L751 , MATRIX_3:12
.= ( ( C150 . ( ( len C150 ) -' 1 ) ) * ( C151 . ( ( D70 + 1 ) -' ( len C150 ) ) ) ) by L748 , L751
.= ( ( C150 . D68 ) * ( C151 . D69 ) ) by L740 , L749 , NAT_D:34;
L769: ( Sum C154 ) <> ( 0. C149 ) by L768 , L744 , L745 , VECTSP_2:def 1;
thus L770: contradiction by L769 , L737 , L747 , FUNCOP_1:7;
end;
registration
let C157 being  add-associative  right_zeroed  right_complementable  distributive  domRing-like non  empty doubleLoopStr;
cluster ( Polynom-Ring C157 ) ->  domRing-like;
correctness
proof
set D72 = ( Polynom-Ring C157 );
let C158 , C159 being (Element of D72);
reconsider D73 = C158 , D74 = C159 as (Polynomial of C157) by POLYNOM3:def 10;
L771: ( 0_. C157 ) = ( 0. D72 ) by POLYNOM3:def 10;
assume L772: ( C158 * C159 ) = ( 0. D72 );
L773: ( D73 *' D74 ) = ( 0_. C157 ) by L772 , L771 , POLYNOM3:def 10;
thus L774: thesis by L773 , L771 , L736;
end;
end;
registration
let C160 being domRing;
let C161 , C162 being  non-zero (Polynomial of C160);
cluster ( C161 *' C162 ) ->  non-zero;
correctness
proof
L776: (C161 <> ( 0_. C160 ) & C162 <> ( 0_. C160 )) by L696;
L777: ( C161 *' C162 ) <> ( 0_. C160 ) by L776 , L736;
thus L778: thesis by L777 , L696;
end;
end;
theorem
L780: (for B96 being non  degenerated comRing holds (for B97 , B98 being (Polynomial of B96) holds ( ( Roots B97 ) \/ ( Roots B98 ) ) c= ( Roots ( B97 *' B98 ) )))
proof
let C163 being non  degenerated comRing;
let C164 , C165 being (Polynomial of C163);
let C166 being set;
assume L781: C166 in ( ( Roots C164 ) \/ ( Roots C165 ) );
per cases  by L781 , XBOOLE_0:def 3;
suppose L782: C166 in ( Roots C164 );

reconsider D75 = C166 as (Element of C163) by L782;
L783: D75 is_a_root_of C164 by L782 , POLYNOM5:def 9;
L784: ( eval (C164 , D75) ) = ( 0. C163 ) by L783 , POLYNOM5:def 6;
L785: ( ( eval (C164 , D75) ) * ( eval (C165 , D75) ) ) = ( 0. C163 ) by L784 , VECTSP_1:7;
L786: ( eval (( C164 *' C165 ) , D75) ) = ( 0. C163 ) by L785 , POLYNOM4:24;
L787: D75 is_a_root_of ( C164 *' C165 ) by L786 , POLYNOM5:def 6;
thus L788: thesis by L787 , POLYNOM5:def 9;
end;
suppose L789: C166 in ( Roots C165 );

reconsider D76 = C166 as (Element of C163) by L789;
L790: D76 is_a_root_of C165 by L789 , POLYNOM5:def 9;
L791: ( eval (C165 , D76) ) = ( 0. C163 ) by L790 , POLYNOM5:def 6;
L792: ( ( eval (C164 , D76) ) * ( eval (C165 , D76) ) ) = ( 0. C163 ) by L791 , VECTSP_1:6;
L793: ( eval (( C164 *' C165 ) , D76) ) = ( 0. C163 ) by L792 , POLYNOM4:24;
L794: D76 is_a_root_of ( C164 *' C165 ) by L793 , POLYNOM5:def 6;
thus L795: thesis by L794 , POLYNOM5:def 9;
end;
end;
theorem
L797: (for B99 being domRing holds (for B100 , B101 being (Polynomial of B99) holds ( Roots ( B100 *' B101 ) ) = ( ( Roots B100 ) \/ ( Roots B101 ) )))
proof
let C167 being domRing;
let C168 , C169 being (Polynomial of C167);
L798:
now
let C170 being set;
thus L799:now
assume L800: C170 in ( Roots ( C168 *' C169 ) );
reconsider D77 = C170 as (Element of C167) by L800;
L801: D77 is_a_root_of ( C168 *' C169 ) by L800 , POLYNOM5:def 9;
L802: ( eval (( C168 *' C169 ) , D77) ) = ( 0. C167 ) by L801 , POLYNOM5:def 6;
L803: ( ( eval (C168 , D77) ) * ( eval (C169 , D77) ) ) = ( 0. C167 ) by L802 , POLYNOM4:24;
per cases  by L803 , VECTSP_2:def 1;
suppose L804: ( eval (C168 , D77) ) = ( 0. C167 );

L805: D77 is_a_root_of C168 by L804 , POLYNOM5:def 6;
L806: D77 in ( Roots C168 ) by L805 , POLYNOM5:def 9;
thus L807: C170 in ( ( Roots C168 ) \/ ( Roots C169 ) ) by L806 , XBOOLE_0:def 3;
end;
suppose L808: ( eval (C169 , D77) ) = ( 0. C167 );

L809: D77 is_a_root_of C169 by L808 , POLYNOM5:def 6;
L810: D77 in ( Roots C169 ) by L809 , POLYNOM5:def 9;
thus L811: C170 in ( ( Roots C168 ) \/ ( Roots C169 ) ) by L810 , XBOOLE_0:def 3;
end;
end;
assume L813: C170 in ( ( Roots C168 ) \/ ( Roots C169 ) );
per cases  by L813 , XBOOLE_0:def 3;
suppose L814: C170 in ( Roots C168 );

reconsider D78 = C170 as (Element of C167) by L814;
L815: D78 is_a_root_of C168 by L814 , POLYNOM5:def 9;
L816: ( eval (C168 , D78) ) = ( 0. C167 ) by L815 , POLYNOM5:def 6;
L817: ( ( eval (C168 , D78) ) * ( eval (C169 , D78) ) ) = ( 0. C167 ) by L816 , VECTSP_1:7;
L818: ( eval (( C168 *' C169 ) , D78) ) = ( 0. C167 ) by L817 , POLYNOM4:24;
L819: D78 is_a_root_of ( C168 *' C169 ) by L818 , POLYNOM5:def 6;
thus L820: C170 in ( Roots ( C168 *' C169 ) ) by L819 , POLYNOM5:def 9;
end;
suppose L821: C170 in ( Roots C169 );

reconsider D79 = C170 as (Element of C167) by L821;
L822: D79 is_a_root_of C169 by L821 , POLYNOM5:def 9;
L823: ( eval (C169 , D79) ) = ( 0. C167 ) by L822 , POLYNOM5:def 6;
L824: ( ( eval (C168 , D79) ) * ( eval (C169 , D79) ) ) = ( 0. C167 ) by L823 , VECTSP_1:6;
L825: ( eval (( C168 *' C169 ) , D79) ) = ( 0. C167 ) by L824 , POLYNOM4:24;
L826: D79 is_a_root_of ( C168 *' C169 ) by L825 , POLYNOM5:def 6;
thus L827: C170 in ( Roots ( C168 *' C169 ) ) by L826 , POLYNOM5:def 9;
end;
end;
thus L829: thesis by L798 , TARSKI:1;
end;
theorem
L830: (for B102 being  add-associative  right_zeroed  right_complementable  distributive non  empty doubleLoopStr holds (for B103 being (Polynomial of B102) holds (for B104 being (Element of ( Polynom-Ring B102 )) holds (B103 = B104 implies ( - B103 ) = ( - B104 )))))
proof
let C171 being  add-associative  right_zeroed  right_complementable  distributive non  empty doubleLoopStr;
let C172 being (Polynomial of C171);
let C173 being (Element of ( Polynom-Ring C171 ));
assume that
L831: C172 = C173;
set D80 = ( Polynom-Ring C171 );
reconsider D81 = ( - C172 ) as (Element of D80) by POLYNOM3:def 10;
L832: ( C172 + ( - C172 ) ) = ( C172 - C172 )
.= ( 0_. C171 ) by POLYNOM3:29;
L833: ( C173 + D81 ) = ( 0_. C171 ) by L832 , L831 , POLYNOM3:def 10
.= ( 0. D80 ) by POLYNOM3:def 10;
thus L834: thesis by L833 , RLVECT_1:def 10;
end;
theorem
L835: (for B105 being  add-associative  right_zeroed  right_complementable  distributive non  empty doubleLoopStr holds (for B106 , B107 being (Polynomial of B105) holds (for B108 , B109 being (Element of ( Polynom-Ring B105 )) holds ((B106 = B108 & B107 = B109) implies ( B106 - B107 ) = ( B108 - B109 )))))
proof
let C174 being  add-associative  right_zeroed  right_complementable  distributive non  empty doubleLoopStr;
let C175 , C176 being (Polynomial of C174);
let C177 , C178 being (Element of ( Polynom-Ring C174 ));
assume that
L836: C175 = C177
and
L837: C176 = C178;
L838: ( - C176 ) = ( - C178 ) by L837 , L830;
thus L839: thesis by L838 , L836 , POLYNOM3:def 10;
end;
theorem
L840: (for B110 being  Abelian  add-associative  right_zeroed  right_complementable  distributive non  empty doubleLoopStr holds (for B111 , B112 , B113 being (Polynomial of B110) holds ( ( B111 *' B112 ) - ( B111 *' B113 ) ) = ( B111 *' ( B112 - B113 ) )))
proof
let C179 being  Abelian  add-associative  right_zeroed  right_complementable  distributive non  empty doubleLoopStr;
let C180 , C181 , C182 being (Polynomial of C179);
set D82 = ( Polynom-Ring C179 );
reconsider D83 = C180 , D84 = C181 , D85 = C182 as (Element of D82) by POLYNOM3:def 10;
L841: ( D84 - D85 ) = ( C181 - C182 ) by L835;
L842: (( C180 *' C181 ) = ( D83 * D84 ) & ( C180 *' C182 ) = ( D83 * D85 )) by POLYNOM3:def 10;
thus L843: ( ( C180 *' C181 ) - ( C180 *' C182 ) ) = ( ( D83 * D84 ) - ( D83 * D85 ) ) by L842 , L835
.= ( D83 * ( D84 - D85 ) ) by VECTSP_1:11
.= ( C180 *' ( C181 - C182 ) ) by L841 , POLYNOM3:def 10;
end;
theorem
L844: (for B114 being  add-associative  right_zeroed  right_complementable  distributive non  empty doubleLoopStr holds (for B115 , B116 being (Polynomial of B114) holds (( B115 - B116 ) = ( 0_. B114 ) implies B115 = B116)))
proof
let C183 being  add-associative  right_zeroed  right_complementable  distributive non  empty doubleLoopStr;
let C184 , C185 being (Polynomial of C183);
set D86 = ( Polynom-Ring C183 );
reconsider D87 = C184 , D88 = C185 as (Element of D86) by POLYNOM3:def 10;
assume L845: ( C184 - C185 ) = ( 0_. C183 );
L846: ( 0_. C183 ) = ( 0. D86 ) by POLYNOM3:def 10;
L847: ( D87 - D88 ) = ( 0. D86 ) by L846 , L845 , L835;
thus L848: thesis by L847 , VECTSP_1:27;
end;
theorem
L849: (for B117 being  Abelian  add-associative  right_zeroed  right_complementable  distributive  domRing-like non  empty doubleLoopStr holds (for B118 , B119 , B120 being (Polynomial of B117) holds ((B118 <> ( 0_. B117 ) & ( B118 *' B119 ) = ( B118 *' B120 )) implies B119 = B120)))
proof
let C186 being  Abelian  add-associative  right_zeroed  right_complementable  distributive  domRing-like non  empty doubleLoopStr;
let C187 , C188 , C189 being (Polynomial of C186);
assume L850: C187 <> ( 0_. C186 );
assume L851: ( C187 *' C188 ) = ( C187 *' C189 );
L852: ( ( C187 *' C188 ) - ( C187 *' C189 ) ) = ( 0_. C186 ) by L851 , POLYNOM3:29;
L853: ( C187 *' ( C188 - C189 ) ) = ( 0_. C186 ) by L852 , L840;
L854: ( C188 - C189 ) = ( 0_. C186 ) by L853 , L850 , L736;
thus L855: thesis by L854 , L844;
end;
theorem
L856: (for B121 being domRing holds (for B122 being (Element of ( NAT )) holds (for B123 being (Polynomial of B121) holds (B123 <> ( 0_. B121 ) implies ( B123 `^ B122 ) <> ( 0_. B121 )))))
proof
let C190 being domRing;
let C191 being (Element of ( NAT ));
let C192 being (Polynomial of C190);
defpred S6[ (Element of ( NAT )) ] means ( C192 `^ $1 ) <> ( 0_. C190 );
assume L857: C192 <> ( 0_. C190 );
L858: (for B124 being (Element of ( NAT )) holds (S6[ B124 ] implies S6[ ( B124 + 1 ) ]))
proof
let C193 being (Element of ( NAT ));
assume that
L859: S6[ C193 ];
L860: ( C192 `^ ( C193 + 1 ) ) = ( ( C192 `^ C193 ) *' C192 ) by POLYNOM5:19;
thus L861: thesis by L860 , L857 , L859 , L736;
end;
L862: (( ( 1_. C190 ) . ( 0 ) ) = ( 1. C190 ) & ( ( 0_. C190 ) . ( 0 ) ) = ( 0. C190 )) by FUNCOP_1:7 , POLYNOM3:30;
L863: S6[ ( 0 ) ] by L862 , POLYNOM5:15;
L864: (for B125 being (Element of ( NAT )) holds S6[ B125 ]) from NAT_1:sch 1(L863 , L858);
thus L865: thesis by L864;
end;
theorem
L866: (for B126 being comRing holds (for B127 , B128 being (Element of ( NAT )) holds (for B129 being (Polynomial of B126) holds ( ( B129 `^ B127 ) *' ( B129 `^ B128 ) ) = ( B129 `^ ( B127 + B128 ) ))))
proof
let C194 being comRing;
let C195 , C196 being (Element of ( NAT ));
let C197 being (Polynomial of C194);
defpred S7[ (Element of ( NAT )) ] means ( ( C197 `^ C195 ) *' ( C197 `^ $1 ) ) = ( C197 `^ ( C195 + $1 ) );
L867: (for B130 being (Element of ( NAT )) holds (S7[ B130 ] implies S7[ ( B130 + 1 ) ]))
proof
let C198 being (Element of ( NAT ));
assume that
L868: S7[ C198 ];
L869: ( ( C197 `^ C195 ) *' ( C197 `^ ( C198 + 1 ) ) ) = ( ( C197 `^ C195 ) *' ( ( C197 `^ C198 ) *' C197 ) ) by POLYNOM5:19
.= ( ( C197 `^ ( C195 + C198 ) ) *' C197 ) by L868 , POLYNOM3:33
.= ( C197 `^ ( ( C195 + C198 ) + 1 ) ) by POLYNOM5:19
.= ( C197 `^ ( C195 + ( C198 + 1 ) ) );
thus L870: thesis by L869;
end;
L871: ( ( C197 `^ C195 ) *' ( C197 `^ ( 0 ) ) ) = ( ( C197 `^ C195 ) *' ( 1_. C194 ) ) by POLYNOM5:15
.= ( C197 `^ ( C195 + (( 0 ) qua Nat) ) ) by POLYNOM3:35;
L872: S7[ ( 0 ) ] by L871;
L873: (for B131 being (Element of ( NAT )) holds S7[ B131 ]) from NAT_1:sch 1(L872 , L867);
thus L874: thesis by L873;
end;
theorem
L875: (for B132 being non  empty multLoopStr_0 holds ( 1_. B132 ) = <% ( 1. B132 ) %>)
proof
let C199 being non  empty multLoopStr_0;
L876: ( dom ( 0_. C199 ) ) = ( NAT ) by FUNCT_2:def 1;
L877:
now
let C200 being set;
assume L878: C200 in ( NAT );
reconsider D89 = C200 as (Element of ( NAT )) by L878;
per cases ;
suppose L879: C200 = ( 0 );

thus L880: ( ( 1_. C199 ) . C200 ) = ( 1. C199 ) by L879 , L876 , FUNCT_7:31
.= ( <% ( 1. C199 ) %> . C200 ) by L879 , ALGSEQ_1:def 5;
end;
suppose L881: D89 <> ( 0 );

L882: (D89 = 1 or D89 > 1) by L881 , NAT_1:53;
thus L883: ( ( 1_. C199 ) . C200 ) = ( ( 0_. C199 ) . D89 ) by L881 , FUNCT_7:32
.= ( 0. C199 ) by FUNCOP_1:7
.= ( <% ( 1. C199 ) %> . C200 ) by L882 , POLYNOM5:32;
end;
end;
thus L885: thesis by L877 , FUNCT_2:12;
end;
theorem
L886: (for B133 being  add-associative  right_zeroed  right_complementable  well-unital  right-distributive non  empty doubleLoopStr holds (for B134 being (Polynomial of B133) holds ( B134 *' <% ( 1. B133 ) %> ) = B134))
proof
let C201 being  add-associative  right_zeroed  right_complementable  well-unital  right-distributive non  empty doubleLoopStr;
let C202 being (Polynomial of C201);
thus L887: ( C202 *' <% ( 1. C201 ) %> ) = ( C202 *' ( 1_. C201 ) ) by L875
.= C202 by POLYNOM3:35;
end;
theorem
L888: (for B135 being  add-associative  right_zeroed  right_complementable  distributive non  empty doubleLoopStr holds (for B136 , B137 being (Polynomial of B135) holds ((( len B136 ) = ( 0 ) or ( len B137 ) = ( 0 )) implies ( len ( B136 *' B137 ) ) = ( 0 ))))
proof
let C203 being  add-associative  right_zeroed  right_complementable  distributive non  empty doubleLoopStr;
let C204 , C205 being (Polynomial of C203);
assume L889: (( len C204 ) = ( 0 ) or ( len C205 ) = ( 0 ));
per cases  by L889;
suppose L890: ( len C204 ) = ( 0 );

L891: C204 = ( 0_. C203 ) by L890 , POLYNOM4:5;
L892: ( C204 *' C205 ) = ( 0_. C203 ) by L891 , POLYNOM4:2;
thus L893: thesis by L892 , POLYNOM4:3;
end;
suppose L894: ( len C205 ) = ( 0 );

L895: C205 = ( 0_. C203 ) by L894 , POLYNOM4:5;
L896: ( C204 *' C205 ) = ( 0_. C203 ) by L895 , L724;
thus L897: thesis by L896 , POLYNOM4:3;
end;
end;
theorem
L899: (for B138 being  add-associative  right_zeroed  right_complementable  distributive non  empty doubleLoopStr holds (for B139 , B140 being (Polynomial of B138) holds (( B139 *' B140 ) is  non-zero implies (B139 is  non-zero & B140 is  non-zero))))
proof
let C206 being  add-associative  right_zeroed  right_complementable  distributive non  empty doubleLoopStr;
let C207 , C208 being (Polynomial of C206);
assume that
L900: ( C207 *' C208 ) is  non-zero
and
L901: (C207 is non  non-zero or C208 is non  non-zero);
L902: (( len C207 ) = ( 0 ) or ( len C208 ) = ( 0 )) by L901 , L698;
L903: ( len ( C207 *' C208 ) ) = ( 0 ) by L902 , L888;
thus L904: thesis by L903 , L900 , L698;
end;
theorem
L905: (for B141 being  add-associative  right_zeroed  right_complementable  distributive  commutative  associative  well-unital non  empty doubleLoopStr holds (for B142 , B143 being (Polynomial of B141) holds (( ( B142 . ( ( len B142 ) -' 1 ) ) * ( B143 . ( ( len B143 ) -' 1 ) ) ) <> ( 0. B141 ) implies ( 0 ) < ( len ( B142 *' B143 ) ))))
proof
let C209 being  add-associative  right_zeroed  right_complementable  distributive  commutative  associative  well-unital non  empty doubleLoopStr;
let C210 , C211 being (Polynomial of C209);
assume L906: ( ( C210 . ( ( len C210 ) -' 1 ) ) * ( C211 . ( ( len C211 ) -' 1 ) ) ) <> ( 0. C209 );
L907:
now
assume L908: ( len C211 ) <= ( 0 );
L909: ( len C211 ) = ( 0 ) by L908;
L910: C211 = ( 0_. C209 ) by L909 , POLYNOM4:5;
L911: ( C211 . ( ( len C211 ) -' 1 ) ) = ( 0. C209 ) by L910 , FUNCOP_1:7;
thus L912: contradiction by L911 , L906 , VECTSP_1:6;
end;
L913: ( (( 0 ) qua Nat) + 1 ) <= ( len C211 ) by L907 , NAT_1:13;
L914:
now
assume L915: ( len C210 ) <= ( 0 );
L916: ( len C210 ) = ( 0 ) by L915;
L917: C210 = ( 0_. C209 ) by L916 , POLYNOM4:5;
L918: ( C210 . ( ( len C210 ) -' 1 ) ) = ( 0. C209 ) by L917 , FUNCOP_1:7;
thus L919: contradiction by L918 , L906 , VECTSP_1:7;
end;
L920: ( (( 0 ) qua Nat) + 1 ) <= ( len C210 ) by L914 , NAT_1:13;
L921: ( ( len C210 ) + ( len C211 ) ) >= ( 1 + 1 ) by L920 , L913 , XREAL_1:7;
L922: ( ( ( len C210 ) + ( len C211 ) ) - 1 ) >= ( ( 1 + 1 ) - 1 ) by L921 , XREAL_1:9;
thus L923: thesis by L922 , L906 , POLYNOM4:10;
end;
theorem
L924: (for B144 being  add-associative  right_zeroed  right_complementable  distributive  commutative  associative  well-unital  domRing-like non  empty doubleLoopStr holds (for B145 , B146 being (Polynomial of B144) holds ((1 < ( len B145 ) & 1 < ( len B146 )) implies ( len B145 ) < ( len ( B145 *' B146 ) ))))
proof
let C212 being  add-associative  right_zeroed  right_complementable  distributive  commutative  associative  well-unital  domRing-like non  empty doubleLoopStr;
let C213 , C214 being (Polynomial of C212);
assume that
L925: 1 < ( len C213 )
and
L926: 1 < ( len C214 );
L927: (( C213 . ( ( len C213 ) -' 1 ) ) <> ( 0. C212 ) & ( C214 . ( ( len C214 ) -' 1 ) ) <> ( 0. C212 )) by L925 , L926 , L715;
L928: ( ( C213 . ( ( len C213 ) -' 1 ) ) * ( C214 . ( ( len C214 ) -' 1 ) ) ) <> ( 0. C212 ) by L927 , VECTSP_2:def 1;
L929: ( len ( C213 *' C214 ) ) = ( ( ( len C213 ) + ( len C214 ) ) - 1 ) by L928 , POLYNOM4:10;
L930: ( ( len C214 ) - 1 ) > ( 1 - 1 ) by L926 , XREAL_1:14;
L931: ( ( len C213 ) + ( ( len C214 ) - 1 ) ) > ( (( 0 ) qua Nat) + ( len C213 ) ) by L930 , XREAL_1:8;
thus L932: thesis by L931 , L929;
end;
theorem
L933: (for B147 being  add-associative  right_zeroed  right_complementable  left-distributive non  empty doubleLoopStr holds (for B148 , B149 being (Element of B147) holds (for B150 being (Polynomial of B147) holds (( ( <% B148 , B149 %> *' B150 ) . ( 0 ) ) = ( B148 * ( B150 . ( 0 ) ) ) & (for B151 being Nat holds ( ( <% B148 , B149 %> *' B150 ) . ( B151 + 1 ) ) = ( ( B148 * ( B150 . ( B151 + 1 ) ) ) + ( B149 * ( B150 . B151 ) ) ))))))
proof
let C215 being  add-associative  right_zeroed  right_complementable  left-distributive non  empty doubleLoopStr;
let C216 , C217 being (Element of C215);
let C218 being (Polynomial of C215);
set D90 = <% C216 , C217 %>;
consider C219 being (FinSequence of C215) such that L934: ( len C219 ) = ( (( 0 ) qua Nat) + 1 ) and L935: ( ( D90 *' C218 ) . ( 0 ) ) = ( Sum C219 ) and L936: (for B152 being (Element of ( NAT )) holds (B152 in ( dom C219 ) implies ( C219 . B152 ) = ( ( D90 . ( B152 -' 1 ) ) * ( C218 . ( ( (( 0 ) qua Nat) + 1 ) -' B152 ) ) ))) by POLYNOM3:def 9;
L937: 1 in ( dom C219 ) by L934 , FINSEQ_3:25;
reconsider D91 = ( C219 . 1 ) as (Element of C215) by L937 , FINSEQ_2:11;
L938: C219 = <* D91 *> by L934 , FINSEQ_1:40;
L939: ( Sum C219 ) = D91 by L938 , RLVECT_1:44
.= ( ( D90 . ( 1 -' 1 ) ) * ( C218 . ( ( (( 0 ) qua Nat) + 1 ) -' 1 ) ) ) by L936 , L937
.= ( ( D90 . ( 0 ) ) * ( C218 . ( ( (( 0 ) qua Nat) + 1 ) -' 1 ) ) ) by XREAL_1:232
.= ( ( D90 . ( 0 ) ) * ( C218 . ( 0 ) ) ) by NAT_D:34;
thus L940: ( ( <% C216 , C217 %> *' C218 ) . ( 0 ) ) = ( C216 * ( C218 . ( 0 ) ) ) by L939 , L935 , POLYNOM5:38;
let C220 being Nat;
consider C221 being (FinSequence of C215) such that L941: ( len C221 ) = ( ( C220 + 1 ) + 1 ) and L942: ( ( D90 *' C218 ) . ( C220 + 1 ) ) = ( Sum C221 ) and L943: (for B153 being (Element of ( NAT )) holds (B153 in ( dom C221 ) implies ( C221 . B153 ) = ( ( D90 . ( B153 -' 1 ) ) * ( C218 . ( ( ( C220 + 1 ) + 1 ) -' B153 ) ) ))) by POLYNOM3:def 9;
L944: ( len C221 ) = ( C220 + 2 ) by L941;
L945: ( (( 0 ) qua Nat) + 2 ) <= ( len C221 ) by L944 , XREAL_1:6;
L946: 2 in ( dom C221 ) by L945 , FINSEQ_3:25;
L947: ( C221 /. 2 ) = ( C221 . 2 ) by L946 , PARTFUN1:def 6
.= ( ( D90 . ( ( 1 + 1 ) -' 1 ) ) * ( C218 . ( ( ( C220 + 1 ) + 1 ) -' 2 ) ) ) by L943 , L946
.= ( ( D90 . 1 ) * ( C218 . ( ( ( C220 + 1 ) + 1 ) -' 2 ) ) ) by NAT_D:34
.= ( C217 * ( C218 . ( ( C220 + ( 1 + 1 ) ) -' 2 ) ) ) by POLYNOM5:38
.= ( C217 * ( C218 . C220 ) ) by NAT_D:34;
L948:
now
let C222 being (Element of ( NAT ));
assume that
L949: 2 < C222
and
L950: C222 in ( dom C221 );
consider C223 being Nat such that L951: C222 = ( C223 + 1 ) by L949 , NAT_1:6;
L952: 2 <= C223 by L949 , L951 , NAT_1:13;
reconsider D92 = C223 as (Element of ( NAT )) by ORDINAL1:def 12;
thus L953: ( C221 . C222 ) = ( ( D90 . ( C222 -' 1 ) ) * ( C218 . ( ( ( C220 + 1 ) + 1 ) -' C222 ) ) ) by L943 , L950
.= ( ( D90 . D92 ) * ( C218 . ( ( ( C220 + 1 ) + 1 ) -' C222 ) ) ) by L951 , NAT_D:34
.= ( ( 0. C215 ) * ( C218 . ( ( ( C220 + 1 ) + 1 ) -' C222 ) ) ) by L952 , POLYNOM5:38
.= ( 0. C215 ) by VECTSP_1:7;
end;
L954: 1 <= ( len C221 ) by L945 , XXREAL_0:2;
L955: 1 in ( dom C221 ) by L954 , FINSEQ_3:25;
L956: ( C221 /. 1 ) = ( C221 . 1 ) by L955 , PARTFUN1:def 6
.= ( ( D90 . ( 1 -' 1 ) ) * ( C218 . ( ( ( C220 + 1 ) + 1 ) -' 1 ) ) ) by L943 , L955
.= ( ( D90 . ( 0 ) ) * ( C218 . ( ( ( C220 + 1 ) + 1 ) -' 1 ) ) ) by XREAL_1:232
.= ( ( D90 . ( 0 ) ) * ( C218 . ( C220 + 1 ) ) ) by NAT_D:34
.= ( C216 * ( C218 . ( C220 + 1 ) ) ) by POLYNOM5:38;
thus L957: thesis by L956 , L942 , L945 , L947 , L948 , L68;
end;
theorem
L958: (for B154 being  add-associative  right_zeroed  right_complementable  distributive  well-unital  commutative  associative non  degenerated non  empty doubleLoopStr holds (for B155 being (Element of B154) holds (for B156 being  non-zero (Polynomial of B154) holds ( len ( <% B155 , ( 1. B154 ) %> *' B156 ) ) = ( ( len B156 ) + 1 ))))
proof
let C224 being  add-associative  right_zeroed  right_complementable  distributive  well-unital  commutative  associative non  degenerated non  empty doubleLoopStr;
let C225 being (Element of C224);
let C226 being  non-zero (Polynomial of C224);
set D93 = <% C225 , ( 1. C224 ) %>;
L959: ( ( D93 . ( ( len D93 ) -' 1 ) ) * ( C226 . ( ( len C226 ) -' 1 ) ) ) = ( ( D93 . ( ( 1 + 1 ) -' 1 ) ) * ( C226 . ( ( len C226 ) -' 1 ) ) ) by POLYNOM5:40
.= ( ( D93 . 1 ) * ( C226 . ( ( len C226 ) -' 1 ) ) ) by NAT_D:34
.= ( ( 1. C224 ) * ( C226 . ( ( len C226 ) -' 1 ) ) ) by POLYNOM5:38
.= ( C226 . ( ( len C226 ) -' 1 ) ) by VECTSP_1:def 8;
L960: (( len <% C225 , ( 1. C224 ) %> ) = 2 & ( len C226 ) > ( 0 )) by L698 , POLYNOM5:40;
thus L961: ( len ( <% C225 , ( 1. C224 ) %> *' C226 ) ) = ( ( ( len C226 ) + ( 1 + 1 ) ) - 1 ) by L960 , L959 , L715 , POLYNOM4:10
.= ( ( len C226 ) + 1 );
end;
theorem
L962: (for B157 being non  degenerated comRing holds (for B158 being (Element of B157) holds (for B159 being (Element of ( NAT )) holds ( len ( <% B158 , ( 1. B157 ) %> `^ B159 ) ) = ( B159 + 1 ))))
proof
let C227 being non  degenerated comRing;
let C228 being (Element of C227);
defpred S8[ (Element of ( NAT )) ] means ( len ( <% C228 , ( 1. C227 ) %> `^ $1 ) ) = ( $1 + 1 );
set D94 = <% C228 , ( 1. C227 ) %>;
L963: (for B160 being (Element of ( NAT )) holds (S8[ B160 ] implies S8[ ( B160 + 1 ) ]))
proof
let C229 being (Element of ( NAT ));
assume that
L964: S8[ C229 ];
reconsider D95 = ( D94 `^ C229 ) as  non-zero (Polynomial of C227) by L964 , L698;
thus L965: ( len ( D94 `^ ( C229 + 1 ) ) ) = ( len ( ( D94 `^ 1 ) *' D95 ) ) by L866
.= ( len ( D94 *' D95 ) ) by POLYNOM5:16
.= ( ( C229 + 1 ) + 1 ) by L964 , L958;
end;
L966: ( D94 `^ ( 0 ) ) = ( 1_. C227 ) by POLYNOM5:15;
L967: S8[ ( 0 ) ] by L966 , POLYNOM4:4;
thus L968: (for B161 being (Element of ( NAT )) holds S8[ B161 ]) from NAT_1:sch 1(L967 , L963);
end;
registration
let C230 being non  degenerated comRing;
let C231 being (Element of C230);
let C232 being (Element of ( NAT ));
cluster ( <% C231 , ( 1. C230 ) %> `^ C232 ) ->  non-zero;
correctness
proof
L969: ( len ( <% C231 , ( 1. C230 ) %> `^ C232 ) ) = ( C232 + 1 ) by L962;
thus L970: thesis by L969 , L698;
end;
end;
theorem
L972: (for B162 being non  degenerated comRing holds (for B163 being (Element of B162) holds (for B164 being  non-zero (Polynomial of B162) holds (for B165 being (Element of ( NAT )) holds ( len ( ( <% B163 , ( 1. B162 ) %> `^ B165 ) *' B164 ) ) = ( B165 + ( len B164 ) )))))
proof
let C233 being non  degenerated comRing;
let C234 being (Element of C233);
let C235 being  non-zero (Polynomial of C233);
set D96 = <% C234 , ( 1. C233 ) %>;
defpred S9[ (Element of ( NAT )) ] means ( len ( ( D96 `^ $1 ) *' C235 ) ) = ( $1 + ( len C235 ) );
L973: (for B166 being (Element of ( NAT )) holds (S9[ B166 ] implies S9[ ( B166 + 1 ) ]))
proof
let C236 being (Element of ( NAT ));
assume that
L974: S9[ C236 ];
L975: ( len C235 ) > ( 0 ) by L698;
L976: ( ( D96 `^ C236 ) *' C235 ) is  non-zero by L975 , L974 , L698;
thus L977: ( len ( ( D96 `^ ( C236 + 1 ) ) *' C235 ) ) = ( len ( ( ( D96 `^ 1 ) *' ( D96 `^ C236 ) ) *' C235 ) ) by L866
.= ( len ( ( D96 *' ( D96 `^ C236 ) ) *' C235 ) ) by POLYNOM5:16
.= ( len ( D96 *' ( ( D96 `^ C236 ) *' C235 ) ) ) by POLYNOM3:33
.= ( ( C236 + ( len C235 ) ) + 1 ) by L974 , L976 , L958
.= ( ( C236 + 1 ) + ( len C235 ) );
end;
L978: ( len ( ( D96 `^ ( 0 ) ) *' C235 ) ) = ( len ( ( 1_. C233 ) *' C235 ) ) by POLYNOM5:15
.= ( (( 0 ) qua Nat) + ( len C235 ) ) by POLYNOM3:35;
L979: S9[ ( 0 ) ] by L978;
thus L980: (for B167 being (Element of ( NAT )) holds S9[ B167 ]) from NAT_1:sch 1(L979 , L973);
end;
theorem
L981: (for B168 being  add-associative  right_zeroed  right_complementable  distributive  well-unital  commutative  associative non  degenerated non  empty doubleLoopStr holds (for B169 being (Element of B168) holds (for B170 , B171 being (Polynomial of B168) holds ((B170 = ( <% B169 , ( 1. B168 ) %> *' B171 ) & ( B170 . ( ( len B170 ) -' 1 ) ) = ( 1. B168 )) implies ( B171 . ( ( len B171 ) -' 1 ) ) = ( 1. B168 )))))
proof
let C237 being  add-associative  right_zeroed  right_complementable  distributive  well-unital  commutative  associative non  degenerated non  empty doubleLoopStr;
let C238 being (Element of C237);
let C239 , C240 being (Polynomial of C237);
assume that
L982: C239 = ( <% C238 , ( 1. C237 ) %> *' C240 )
and
L983: ( C239 . ( ( len C239 ) -' 1 ) ) = ( 1. C237 );
set D97 = ( ( len C239 ) -' 1 );
L984:
now
assume L985: C240 = ( 0_. C237 );
L986: C239 = ( 0_. C237 ) by L985 , L982 , POLYNOM3:34;
thus L987: contradiction by L986 , L983 , FUNCOP_1:7;
end;
L988: C240 is  non-zero by L984 , L696;
L989: ( len C239 ) = ( ( len C240 ) + 1 ) by L988 , L982 , L958;
L990: D97 = ( len C240 ) by L989 , NAT_D:34;
consider C241 being Nat such that L991: D97 = ( C241 + 1 ) by L990 , L984 , NAT_1:6 , POLYNOM4:5;
reconsider D98 = C241 as (Element of ( NAT )) by ORDINAL1:def 12;
L992: ( C240 . D97 ) = ( 0. C237 ) by L990 , ALGSEQ_1:8;
L993: ( ( <% C238 , ( 1. C237 ) %> *' C240 ) . D97 ) = ( ( C238 * ( C240 . D97 ) ) + ( ( 1. C237 ) * ( C240 . D98 ) ) ) by L991 , L933
.= ( ( 0. C237 ) + ( ( 1. C237 ) * ( C240 . D98 ) ) ) by L992 , VECTSP_1:6
.= ( ( 1. C237 ) * ( C240 . D98 ) ) by RLVECT_1:4
.= ( C240 . D98 ) by VECTSP_1:def 8;
thus L994: thesis by L993 , L982 , L983 , L990 , L991 , NAT_D:34;
end;
begin
definition
let C242 being non  empty ZeroStr;
let C243 being (Polynomial of C242);
let C244 being Nat;
func poly_shift (C243 , C244) -> (Polynomial of C242) means 
:L995: (for B172 being Nat holds ( it . B172 ) = ( C243 . ( C244 + B172 ) ));
existence
proof
deffunc H3(Nat) = ( C243 . ( C244 + $1 ) );
consider C245 being (AlgSequence of C242) such that L996: ( len C245 ) <= ( len C243 ) and L997: (for B173 being Nat holds (B173 < ( len C243 ) implies ( C245 . B173 ) = H3(B173))) from ALGSEQ_1:sch 1;
take C245;
let C246 being Nat;
per cases ;
suppose L998: C246 < ( len C243 );

thus L999: thesis by L998 , L997;
end;
suppose L1000: C246 >= ( len C243 );

thus L1001: ( C245 . C246 ) = ( 0. C242 ) by L1000 , L996 , ALGSEQ_1:8 , XXREAL_0:2
.= ( C243 . ( C244 + C246 ) ) by L1000 , ALGSEQ_1:8 , NAT_1:12;
end;
end;
uniqueness
proof
let C247 , C248 being (Polynomial of C242);
assume that
L1003: (for B174 being Nat holds ( C247 . B174 ) = ( C243 . ( C244 + B174 ) ))
and
L1004: (for B175 being Nat holds ( C248 . B175 ) = ( C243 . ( C244 + B175 ) ));
L1005:
now
let C249 being set;
assume L1006: C249 in ( NAT );
reconsider D99 = C249 as (Element of ( NAT )) by L1006;
thus L1007: ( C247 . C249 ) = ( C243 . ( C244 + D99 ) ) by L1003
.= ( C248 . C249 ) by L1004;
end;
thus L1008: C247 = C248 by L1005 , FUNCT_2:12;
end;
end;
theorem
L1010: (for B176 being non  empty ZeroStr holds (for B177 being (Polynomial of B176) holds ( poly_shift (B177 , ( 0 )) ) = B177))
proof
let C250 being non  empty ZeroStr;
let C251 being (Polynomial of C250);
set D100 = ( poly_shift (C251 , ( 0 )) );
L1011:
now
let C252 being set;
assume L1012: C252 in ( NAT );
reconsider D101 = C252 as (Element of ( NAT )) by L1012;
thus L1013: ( D100 . C252 ) = ( C251 . ( (( 0 ) qua Nat) + D101 ) ) by L995
.= ( C251 . C252 );
end;
thus L1014: thesis by L1011 , FUNCT_2:12;
end;
theorem
L1015: (for B178 being non  empty ZeroStr holds (for B179 being (Element of ( NAT )) holds (for B180 being (Polynomial of B178) holds (B179 >= ( len B180 ) implies ( poly_shift (B180 , B179) ) = ( 0_. B178 )))))
proof
let C253 being non  empty ZeroStr;
let C254 being (Element of ( NAT ));
let C255 being (Polynomial of C253);
set D102 = ( poly_shift (C255 , C254) );
assume L1016: C254 >= ( len C255 );
L1017:
now
let C256 being set;
assume L1018: C256 in ( dom D102 );
reconsider D103 = C256 as (Element of ( NAT )) by L1018;
thus L1019: ( D102 . C256 ) = ( C255 . ( C254 + D103 ) ) by L995
.= ( 0. C253 ) by L1016 , ALGSEQ_1:8 , NAT_1:12;
end;
L1020: ( dom D102 ) = ( NAT ) by FUNCT_2:def 1;
thus L1021: thesis by L1020 , L1017 , FUNCOP_1:11;
end;
theorem
L1022: (for B181 being non  degenerated non  empty multLoopStr_0 holds (for B182 being (Element of ( NAT )) holds (for B183 being (Polynomial of B181) holds (B182 <= ( len B183 ) implies ( ( len ( poly_shift (B183 , B182) ) ) + B182 ) = ( len B183 )))))
proof
let C257 being non  degenerated non  empty multLoopStr_0;
let C258 being (Element of ( NAT ));
let C259 being (Polynomial of C257);
assume that
L1023: C258 <= ( len C259 );
set D104 = ( poly_shift (C259 , C258) );
set D105 = ( ( len C259 ) - C258 );
L1024: ( C258 - C258 ) <= D105 by L1023 , XREAL_1:9;
reconsider D106 = D105 as (Element of ( NAT )) by L1024 , INT_1:3;
L1025:
now
let C260 being Nat;
assume that
L1026: C260 is_at_least_length_of D104
and
L1027: D106 > C260;
L1028: D106 >= ( C260 + 1 ) by L1027 , NAT_1:13;
L1029: ( D106 - 1 ) >= ( ( C260 + 1 ) - 1 ) by L1028 , XREAL_1:9;
reconsider D107 = ( D106 - 1 ) as (Element of ( NAT )) by L1029 , INT_1:3;
L1030: ( ( C258 + D107 ) + 1 ) = ( len C259 );
L1031: ( C259 . ( C258 + D107 ) ) <> ( 0. C257 ) by L1030 , ALGSEQ_1:10;
L1032: ( D104 . D107 ) = ( C259 . ( C258 + D107 ) ) by L995;
thus L1033: contradiction by L1032 , L1026 , L1029 , L1031 , ALGSEQ_1:def 2;
end;
L1034:
now
let C261 being Nat;
assume L1035: C261 >= D106;
L1036: ( C261 + C258 ) >= ( len C259 ) by L1035 , XREAL_1:20;
thus L1037: ( D104 . C261 ) = ( C259 . ( C258 + C261 ) ) by L995
.= ( 0. C257 ) by L1036 , ALGSEQ_1:8;
end;
L1038: D106 is_at_least_length_of D104 by L1034 , ALGSEQ_1:def 2;
thus L1039: ( ( len ( poly_shift (C259 , C258) ) ) + C258 ) = ( D106 + C258 ) by L1038 , L1025 , ALGSEQ_1:def 3
.= ( len C259 );
end;
theorem
L1040: (for B184 being non  degenerated comRing holds (for B185 being (Element of B184) holds (for B186 being (Element of ( NAT )) holds (for B187 being (Polynomial of B184) holds (B186 < ( len B187 ) implies ( eval (( poly_shift (B187 , B186) ) , B185) ) = ( ( B185 * ( eval (( poly_shift (B187 , ( B186 + 1 )) ) , B185) ) ) + ( B187 . B186 ) ))))))
proof
let C262 being non  degenerated comRing;
let C263 being (Element of C262);
let C264 being (Element of ( NAT ));
let C265 being (Polynomial of C262);
assume that
L1041: C264 < ( len C265 );
set D108 = ( poly_shift (C265 , C264) );
set D109 = ( poly_shift (C265 , ( C264 + 1 )) );
consider C266 being (FinSequence of C262) such that L1042: ( eval (D108 , C263) ) = ( Sum C266 ) and L1043: ( len C266 ) = ( len D108 ) and L1044: (for B188 being (Element of ( NAT )) holds (B188 in ( dom C266 ) implies ( C266 . B188 ) = ( ( D108 . ( B188 -' 1 ) ) * ( ( power C262 ) . (C263 , ( B188 -' 1 )) ) ))) by POLYNOM4:def 2;
consider C267 being (FinSequence of C262) such that L1045: ( eval (D109 , C263) ) = ( Sum C267 ) and L1046: ( len C267 ) = ( len D109 ) and L1047: (for B189 being (Element of ( NAT )) holds (B189 in ( dom C267 ) implies ( C267 . B189 ) = ( ( D109 . ( B189 -' 1 ) ) * ( ( power C262 ) . (C263 , ( B189 -' 1 )) ) ))) by POLYNOM4:def 2;
L1048: (( rng C267 ) c= (the carrier of C262) & ( dom ( C263 multfield ) ) = (the carrier of C262)) by FUNCT_2:def 1;
L1049: (( C263 * C267 ) = ( ( C263 multfield ) * C267 ) & ( dom ( ( C263 multfield ) * C267 ) ) = ( dom C267 )) by L1048 , FVSUM_1:def 6 , RELAT_1:27;
L1050: ( 1_ C262 ) = ( 1. C262 );
L1051:
now
L1052: ( C264 + 1 ) <= ( len C265 ) by L1041 , NAT_1:13;
L1053: ( ( ( len D109 ) + 1 ) + C264 ) = ( ( len D109 ) + ( C264 + 1 ) )
.= ( len C265 ) by L1052 , L1022
.= ( ( len D108 ) + C264 ) by L1041 , L1022;
thus L1054: ( len C266 ) = ( len C266 );
L1055: ( len <* ( C265 . C264 ) *> ) = 1 by FINSEQ_1:40;
L1056: ( len ( C263 * C267 ) ) = ( len C267 ) by L1049 , FINSEQ_3:29;
thus L1057: ( len ( <* ( C265 . C264 ) *> ^ ( C263 * C267 ) ) ) = ( len C266 ) by L1056 , L1043 , L1046 , L1053 , L1055 , FINSEQ_1:22;
let C268 being Nat;
assume that
L1058: C268 in ( dom C266 );
L1059: 1 <= C268 by L1058 , FINSEQ_3:25;
L1060: C268 <= ( len C266 ) by L1058 , FINSEQ_3:25;
per cases  by L1059 , XXREAL_0:1;
suppose L1061: C268 = 1;

L1062: 1 in ( dom <* ( C265 . C264 ) *> ) by L1055 , FINSEQ_3:25;
thus L1063: ( C266 . C268 ) = ( ( D108 . ( 1 -' 1 ) ) * ( ( power C262 ) . (C263 , ( 1 -' 1 )) ) ) by L1044 , L1058 , L1061
.= ( ( D108 . ( 0 ) ) * ( ( power C262 ) . (C263 , ( 1 -' 1 )) ) ) by XREAL_1:232
.= ( ( D108 . ( 0 ) ) * ( ( power C262 ) . (C263 , ( 0 )) ) ) by XREAL_1:232
.= ( ( D108 . ( 0 ) ) * ( 1. C262 ) ) by L1050 , GROUP_1:def 7
.= ( D108 . ( 0 ) ) by L1050 , GROUP_1:def 4
.= ( C265 . ( C264 + (( 0 ) qua Nat) ) ) by L995
.= ( <* ( C265 . C264 ) *> . 1 ) by FINSEQ_1:40
.= ( ( <* ( C265 . C264 ) *> ^ ( C263 * C267 ) ) . C268 ) by L1061 , L1062 , FINSEQ_1:def 7;
end;
suppose L1064: 1 < C268;

L1065: ( 1 - 1 ) <= ( C268 - 1 ) by L1059 , XREAL_1:9;
reconsider D110 = ( C268 - 1 ) as (Element of ( NAT )) by L1065 , INT_1:3;
L1066: ( 1 + 1 ) <= C268 by L1064 , NAT_1:13;
L1067: ( ( 1 + 1 ) - 1 ) <= ( C268 - 1 ) by L1066 , XREAL_1:9;
L1068: (ex B190 being Nat st D110 = ( B190 + 1 )) by L1067 , NAT_1:6;
L1069: ( ( D110 -' 1 ) + 1 ) = D110 by L1068 , NAT_D:34;
L1070: C268 = ( D110 + 1 );
L1071: D110 = ( C268 -' 1 ) by L1070 , NAT_D:34;
L1072: ( C268 - 1 ) <= ( ( ( len C267 ) + 1 ) - 1 ) by L1043 , L1046 , L1053 , L1060 , XREAL_1:9;
L1073: D110 in ( dom C267 ) by L1072 , L1067 , FINSEQ_3:25;
reconsider D111 = ( C267 . D110 ) as (Element of C262) by L1073 , FINSEQ_2:11;
thus L1074: ( C266 . C268 ) = ( ( D108 . ( C268 -' 1 ) ) * ( ( power C262 ) . (C263 , ( C268 -' 1 )) ) ) by L1044 , L1058
.= ( ( C265 . ( C264 + D110 ) ) * ( ( power C262 ) . (C263 , D110) ) ) by L1071 , L995
.= ( ( C265 . ( ( C264 + 1 ) + ( D110 -' 1 ) ) ) * ( ( ( power C262 ) . (C263 , ( D110 -' 1 )) ) * C263 ) ) by L1069 , GROUP_1:def 7
.= ( C263 * ( ( C265 . ( ( C264 + 1 ) + ( D110 -' 1 ) ) ) * ( ( power C262 ) . (C263 , ( D110 -' 1 )) ) ) ) by GROUP_1:def 3
.= ( C263 * ( ( D109 . ( D110 -' 1 ) ) * ( ( power C262 ) . (C263 , ( D110 -' 1 )) ) ) ) by L995
.= ( C263 * D111 ) by L1047 , L1073
.= ( ( C263 * C267 ) . D110 ) by L1049 , L1073 , FVSUM_1:50
.= ( ( <* ( C265 . C264 ) *> ^ ( C263 * C267 ) ) . C268 ) by L1043 , L1046 , L1053 , L1055 , L1056 , L1060 , L1066 , FINSEQ_1:23;
end;
end;
L1076: (( C263 * ( Sum C267 ) ) = ( Sum ( C263 * C267 ) ) & C266 = ( <* ( C265 . C264 ) *> ^ ( C263 * C267 ) )) by L1051 , FINSEQ_2:9 , FVSUM_1:73;
thus L1077: thesis by L1076 , L1042 , L1045 , FVSUM_1:72;
end;
theorem
L1078: (for B191 being non  degenerated comRing holds (for B192 being (Polynomial of B191) holds (( len B192 ) = 1 implies ( Roots B192 ) = ( {} ))))
proof
let C269 being non  degenerated comRing;
let C270 being (Polynomial of C269);
assume L1079: ( len C270 ) = 1;
L1080: (C270 = <% ( C270 . ( 0 ) ) %> & ( C270 . ( 0 ) ) <> ( 0. C269 )) by L1079 , L720;
assume L1081: ( Roots C270 ) <> ( {} );
consider C271 being set such that L1082: C271 in ( Roots C270 ) by L1081 , XBOOLE_0:def 1;
reconsider D112 = C271 as (Element of C269) by L1082;
L1083: D112 is_a_root_of C270 by L1082 , POLYNOM5:def 9;
L1084: ( eval (C270 , D112) ) = ( 0. C269 ) by L1083 , POLYNOM5:def 6;
thus L1085: contradiction by L1084 , L1080 , POLYNOM5:37;
end;
definition
let C272 being non  degenerated comRing;
let C273 being (Element of C272);
let C274 being (Polynomial of C272);
assume that
L1086: C273 is_a_root_of C274;
func poly_quotient (C274 , C273) -> (Polynomial of C272) means 
:L1087: (( ( len it ) + 1 ) = ( len C274 ) & (for B193 being Nat holds ( it . B193 ) = ( eval (( poly_shift (C274 , ( B193 + 1 )) ) , C273) ))) if ( len C274 ) > ( 0 ) otherwise it = ( 0_. C272 );
existence
proof
thus L1088:now
L1089: C273 in ( Roots C274 ) by L1086 , POLYNOM5:def 9;
L1090: ( len C274 ) <> 1 by L1089 , L1078;
deffunc H4(Nat) = ( eval (( poly_shift (C274 , ( $1 + 1 )) ) , C273) );
set D113 = ( ( len C274 ) -' 1 );
consider C275 being (sequence of C272) such that L1091: (for B194 being (Element of ( NAT )) holds ( C275 . B194 ) = H4(B194)) from FUNCT_2:sch 4;
reconsider D114 = C275 as (sequence of C272);
assume L1092: ( len C274 ) > ( 0 );
consider C276 being Nat such that L1093: ( len C274 ) = ( C276 + 1 ) by L1092 , NAT_1:6;
L1094: D113 = C276 by L1093 , NAT_D:34;
L1095: D113 < ( len C274 ) by L1094 , L1093 , NAT_1:13;
L1096: ( len C274 ) >= ( (( 0 ) qua Nat) + 1 ) by L1092 , NAT_1:13;
consider C277 being Nat such that L1097: D113 = ( C277 + 1 ) by L1096 , L1093 , L1094 , L1090 , NAT_1:6;
L1098:
now
let C278 being Nat;
assume L1099: C278 >= D113;
L1100: C278 >= C276 by L1099 , L1093 , NAT_D:34;
L1101: ( C278 + 1 ) >= ( len C274 ) by L1100 , L1093 , XREAL_1:6;
L1102: C278 in ( NAT ) by ORDINAL1:def 12;
thus L1103: ( D114 . C278 ) = ( eval (( poly_shift (C274 , ( C278 + 1 )) ) , C273) ) by L1102 , L1091
.= ( eval (( 0_. C272 ) , C273) ) by L1101 , L1015
.= ( 0. C272 ) by POLYNOM4:17;
end;
reconsider D115 = C277 as (Element of ( NAT )) by ORDINAL1:def 12;
L1104: ( D114 . D115 ) = ( eval (( poly_shift (C274 , ( D115 + 1 )) ) , C273) ) by L1091
.= ( ( C273 * ( eval (( poly_shift (C274 , ( len C274 )) ) , C273) ) ) + ( C274 . D113 ) ) by L1093 , L1094 , L1097 , L1095 , L1040
.= ( ( C273 * ( eval (( 0_. C272 ) , C273) ) ) + ( C274 . D113 ) ) by L1015
.= ( ( C273 * ( 0. C272 ) ) + ( C274 . D113 ) ) by POLYNOM4:17
.= ( ( 0. C272 ) + ( C274 . D113 ) ) by VECTSP_1:6
.= ( C274 . D113 ) by RLVECT_1:4;
L1105: ( D114 . D115 ) <> ( 0. C272 ) by L1104 , L1093 , L1094 , ALGSEQ_1:10;
reconsider D116 = D114 as (AlgSequence of C272) by L1098 , ALGSEQ_1:def 1;
L1106: D115 = ( D113 -' 1 ) by L1097 , NAT_D:34;
L1107:
now
let C279 being Nat;
assume L1108: C279 is_at_least_length_of D116;
assume L1109: D113 > C279;
consider C280 being Nat such that L1110: D113 = ( C280 + 1 ) by L1109 , NAT_1:6;
L1111: C280 >= C279 by L1109 , L1110 , NAT_1:13;
L1112: ( D113 -' 1 ) >= C279 by L1111 , L1110 , NAT_D:34;
thus L1113: contradiction by L1112 , L1106 , L1105 , L1108 , ALGSEQ_1:def 2;
end;
take D117 = D116;
L1114: D113 is_at_least_length_of D117 by L1098 , ALGSEQ_1:def 2;
thus L1115: ( ( len D117 ) + 1 ) = ( ( ( C276 + 1 ) -' 1 ) + 1 ) by L1114 , L1093 , L1107 , ALGSEQ_1:def 3
.= ( len C274 ) by L1093 , NAT_D:34;
let C281 being Nat;
L1116: C281 in ( NAT ) by ORDINAL1:def 12;
thus L1117: ( D117 . C281 ) = H4(C281) by L1116 , L1091;
end;
thus L1118: thesis;
end;
uniqueness
proof
let C282 , C283 being (Polynomial of C272);
thus L1119:now
assume L1120: ( len C274 ) > ( 0 );
assume that
L1121: ( ( len C282 ) + 1 ) = ( len C274 )
and
L1122: (for B195 being Nat holds ( C282 . B195 ) = ( eval (( poly_shift (C274 , ( B195 + 1 )) ) , C273) ))
and
L1123: ( ( len C283 ) + 1 ) = ( len C274 )
and
L1124: (for B196 being Nat holds ( C283 . B196 ) = ( eval (( poly_shift (C274 , ( B196 + 1 )) ) , C273) ));
L1125:
now
let C284 being Nat;
assume that
L1126: C284 < ( len C282 );
thus L1127: ( C282 . C284 ) = ( eval (( poly_shift (C274 , ( C284 + 1 )) ) , C273) ) by L1122
.= ( C283 . C284 ) by L1124;
end;
thus L1128: C282 = C283 by L1125 , L1121 , L1123 , ALGSEQ_1:12;
end;
thus L1129: thesis;
end;
consistency;
end;
theorem
L1131: (for B197 being non  degenerated comRing holds (for B198 being (Element of B197) holds (for B199 being  non-zero (Polynomial of B197) holds (B198 is_a_root_of B199 implies ( len ( poly_quotient (B199 , B198) ) ) > ( 0 )))))
proof
let C285 being non  degenerated comRing;
let C286 being (Element of C285);
let C287 being  non-zero (Polynomial of C285);
assume that
L1132: C286 is_a_root_of C287;
assume L1133: ( len ( poly_quotient (C287 , C286) ) ) <= ( 0 );
L1134: ( len ( poly_quotient (C287 , C286) ) ) = ( 0 ) by L1133;
L1135: ( len C287 ) > ( 0 ) by L698;
L1136: ( ( len ( poly_quotient (C287 , C286) ) ) + 1 ) = ( len C287 ) by L1135 , L1132 , L1087;
L1137: ( Roots C287 ) = ( {} ) by L1136 , L1134 , L1078;
thus L1138: contradiction by L1137 , L1132 , POLYNOM5:def 9;
end;
theorem
L1139: (for B200 being  add-associative  right_zeroed  right_complementable  left-distributive  well-unital non  empty doubleLoopStr holds (for B201 being (Element of B200) holds ( Roots <% ( - B201 ) , ( 1. B200 ) %> ) = { B201 }))
proof
let C288 being  add-associative  right_zeroed  right_complementable  left-distributive  well-unital non  empty doubleLoopStr;
let C289 being (Element of C288);
L1140:
now
let C290 being set;
thus L1141:now
assume L1142: C290 in ( Roots <% ( - C289 ) , ( 1. C288 ) %> );
reconsider D118 = C290 as (Element of C288) by L1142;
L1143: D118 is_a_root_of <% ( - C289 ) , ( 1. C288 ) %> by L1142 , POLYNOM5:def 9;
L1144: ( 0. C288 ) = ( eval (<% ( - C289 ) , ( 1. C288 ) %> , D118) ) by L1143 , POLYNOM5:def 6
.= ( ( - C289 ) + D118 ) by POLYNOM5:47;
L1145: ( - C289 ) = ( - D118 ) by L1144 , RLVECT_1:6;
thus L1146: C289 = C290 by L1145 , RLVECT_1:18;
end;
L1147: ( eval (<% ( - C289 ) , ( 1. C288 ) %> , C289) ) = ( ( - C289 ) + C289 ) by POLYNOM5:47
.= ( 0. C288 ) by RLVECT_1:5;
L1148: C289 is_a_root_of <% ( - C289 ) , ( 1. C288 ) %> by L1147 , POLYNOM5:def 6;
assume L1149: C290 = C289;
thus L1150: C290 in ( Roots <% ( - C289 ) , ( 1. C288 ) %> ) by L1149 , L1148 , POLYNOM5:def 9;
end;
thus L1151: thesis by L1140 , TARSKI:def 1;
end;
theorem
L1152: (for B202 being non  trivial comRing holds (for B203 being (Element of B202) holds (for B204 , B205 being (Polynomial of B202) holds (B204 = ( <% ( - B203 ) , ( 1. B202 ) %> *' B205 ) implies B203 is_a_root_of B204))))
proof
let C291 being non  trivial comRing;
let C292 being (Element of C291);
let C293 , C294 being (Polynomial of C291);
assume that
L1153: C293 = ( <% ( - C292 ) , ( 1. C291 ) %> *' C294 );
L1154: ( eval (<% ( - C292 ) , ( 1. C291 ) %> , C292) ) = ( ( - C292 ) + C292 ) by POLYNOM5:47
.= ( 0. C291 ) by RLVECT_1:5;
thus L1155: ( eval (C293 , C292) ) = ( ( eval (<% ( - C292 ) , ( 1. C291 ) %> , C292) ) * ( eval (C294 , C292) ) ) by L1153 , POLYNOM4:24
.= ( 0. C291 ) by L1154 , VECTSP_1:7;
end;
::$N Little Bezout Theorem (Factor Theorem)
theorem
L1156: (for B206 being non  degenerated comRing holds (for B207 being (Element of B206) holds (for B208 being (Polynomial of B206) holds (B207 is_a_root_of B208 implies B208 = ( <% ( - B207 ) , ( 1. B206 ) %> *' ( poly_quotient (B208 , B207) ) )))))
proof
let C295 being non  degenerated comRing;
let C296 being (Element of C295);
let C297 being (Polynomial of C295);
assume L1157: C296 is_a_root_of C297;
set D119 = <% ( - C296 ) , ( 1. C295 ) %>;
set D120 = ( poly_quotient (C297 , C296) );
per cases ;
suppose L1158: ( len C297 ) > ( 0 );

L1159: ( D119 . ( ( len D119 ) -' 1 ) ) = ( D119 . ( ( 1 + 1 ) -' 1 ) ) by POLYNOM5:40
.= ( D119 . 1 ) by NAT_D:34
.= ( 1. C295 ) by POLYNOM5:38;
L1160: ( ( D119 . ( ( len D119 ) -' 1 ) ) * ( D120 . ( ( len D120 ) -' 1 ) ) ) = ( D120 . ( ( len D120 ) -' 1 ) ) by L1159 , VECTSP_1:def 8;
L1161: C297 is  non-zero by L1158 , L698;
L1162: ( len D120 ) > ( 0 ) by L1161 , L1157 , L1131;
L1163:
now
L1164: ( len ( D119 *' D120 ) ) = ( ( ( len D119 ) + ( len D120 ) ) - 1 ) by L1162 , L1160 , L715 , POLYNOM4:10
.= ( ( ( len D120 ) + ( 1 + 1 ) ) - 1 ) by POLYNOM5:40
.= ( ( len D120 ) + 1 )
.= ( len C297 ) by L1157 , L1158 , L1087;
thus L1165: ( len C297 ) = ( len ( D119 *' D120 ) ) by L1164;
defpred S10[ Nat ] means ( C297 . $1 ) = ( ( D119 *' D120 ) . $1 );
let C298 being Nat;
assume L1166: C298 < ( len C297 );
L1167: ( 0. C295 ) = ( eval (C297 , C296) ) by L1157 , POLYNOM5:def 6
.= ( eval (( poly_shift (C297 , ( 0 )) ) , C296) ) by L1010
.= ( ( C296 * ( eval (( poly_shift (C297 , ( (( 0 ) qua Nat) + 1 )) ) , C296) ) ) + ( C297 . ( 0 ) ) ) by L1158 , L1040;
L1168: ( ( - C296 ) * ( eval (( poly_shift (C297 , ( (( 0 ) qua Nat) + 1 )) ) , C296) ) ) = ( ( ( - C296 ) * ( eval (( poly_shift (C297 , ( (( 0 ) qua Nat) + 1 )) ) , C296) ) ) + ( 0. C295 ) ) by RLVECT_1:def 4
.= ( ( ( ( - C296 ) * ( eval (( poly_shift (C297 , ( (( 0 ) qua Nat) + 1 )) ) , C296) ) ) + ( C296 * ( eval (( poly_shift (C297 , 1) ) , C296) ) ) ) + ( C297 . ( 0 ) ) ) by L1167 , RLVECT_1:def 3
.= ( ( ( - ( C296 * ( eval (( poly_shift (C297 , ( (( 0 ) qua Nat) + 1 )) ) , C296) ) ) ) + ( C296 * ( eval (( poly_shift (C297 , 1) ) , C296) ) ) ) + ( C297 . ( 0 ) ) ) by VECTSP_1:9
.= ( ( 0. C295 ) + ( C297 . ( 0 ) ) ) by RLVECT_1:5
.= ( C297 . ( 0 ) ) by RLVECT_1:4;
L1169: (for B209 being Nat holds (S10[ B209 ] implies S10[ ( B209 + 1 ) ]))
proof
let C299 being Nat;
assume L1170: S10[ C299 ];
L1171: ( D120 . ( C299 + 1 ) ) = ( eval (( poly_shift (C297 , ( ( C299 + 1 ) + 1 )) ) , C296) ) by L1157 , L1158 , L1087;
L1172: ( D120 . C299 ) = ( eval (( poly_shift (C297 , ( C299 + 1 )) ) , C296) ) by L1157 , L1158 , L1087;
per cases ;
suppose L1173: ( C299 + 1 ) >= ( len C297 );

L1174: ( D120 . ( C299 + 1 ) ) = ( eval (( 0_. C295 ) , C296) ) by L1173 , L1171 , L1015 , NAT_1:12
.= ( 0. C295 ) by POLYNOM4:17;
L1175: ( D120 . C299 ) = ( eval (( 0_. C295 ) , C296) ) by L1172 , L1173 , L1015
.= ( 0. C295 ) by POLYNOM4:17;
L1176: ( ( D119 *' D120 ) . ( C299 + 1 ) ) = ( ( ( - C296 ) * ( D120 . ( C299 + 1 ) ) ) + ( ( 1. C295 ) * ( D120 . C299 ) ) ) by L933
.= ( ( 0. C295 ) + ( ( 1. C295 ) * ( D120 . C299 ) ) ) by L1174 , VECTSP_1:6
.= ( ( 0. C295 ) + ( 0. C295 ) ) by L1175 , VECTSP_1:6
.= ( 0. C295 ) by RLVECT_1:4;
thus L1177: thesis by L1176 , L1173 , ALGSEQ_1:8;
end;
suppose L1178: ( C299 + 1 ) < ( len C297 );

L1179: ( D120 . C299 ) = ( ( C296 * ( eval (( poly_shift (C297 , ( ( C299 + 1 ) + 1 )) ) , C296) ) ) + ( C297 . ( C299 + 1 ) ) ) by L1178 , L1172 , L1040;
L1180: ( ( - ( C296 * ( D120 . ( C299 + 1 ) ) ) ) + ( D120 . C299 ) ) = ( ( ( - ( C296 * ( D120 . ( C299 + 1 ) ) ) ) + ( C296 * ( eval (( poly_shift (C297 , ( ( C299 + 1 ) + 1 )) ) , C296) ) ) ) + ( C297 . ( C299 + 1 ) ) ) by L1179 , RLVECT_1:def 3
.= ( ( 0. C295 ) + ( C297 . ( C299 + 1 ) ) ) by L1171 , RLVECT_1:5;
L1181: ( ( D119 *' D120 ) . ( C299 + 1 ) ) = ( ( ( - C296 ) * ( D120 . ( C299 + 1 ) ) ) + ( ( 1. C295 ) * ( D120 . C299 ) ) ) by L933
.= ( ( ( - C296 ) * ( D120 . ( C299 + 1 ) ) ) + ( D120 . C299 ) ) by VECTSP_1:def 8
.= ( ( - ( C296 * ( D120 . ( C299 + 1 ) ) ) ) + ( D120 . C299 ) ) by VECTSP_1:9;
thus L1182: thesis by L1181 , L1180 , RLVECT_1:4;
end;
end;
L1184: ( ( D119 *' D120 ) . ( 0 ) ) = ( ( - C296 ) * ( D120 . ( 0 ) ) ) by L933
.= ( ( - C296 ) * ( eval (( poly_shift (C297 , ( (( 0 ) qua Nat) + 1 )) ) , C296) ) ) by L1157 , L1158 , L1087;
L1185: S10[ ( 0 ) ] by L1184 , L1168;
L1186: (for B210 being Nat holds S10[ B210 ]) from NAT_1:sch 2(L1185 , L1169);
thus L1187: ( C297 . C298 ) = ( ( D119 *' D120 ) . C298 ) by L1186;
end;
thus L1188: thesis by L1163 , ALGSEQ_1:12;
end;
suppose L1189: ( len C297 ) = ( 0 );

L1190: (D120 = ( 0_. C295 ) & C297 = ( 0_. C295 )) by L1189 , L1157 , L1087 , POLYNOM4:5;
thus L1191: thesis by L1190 , POLYNOM3:34;
end;
end;
theorem
L1193: (for B211 being non  degenerated comRing holds (for B212 being (Element of B211) holds (for B213 , B214 being (Polynomial of B211) holds (B213 = ( <% ( - B212 ) , ( 1. B211 ) %> *' B214 ) implies B212 is_a_root_of B213))))
proof
let C300 being non  degenerated comRing;
let C301 being (Element of C300);
let C302 , C303 being (Polynomial of C300);
assume L1194: C302 = ( <% ( - C301 ) , ( 1. C300 ) %> *' C303 );
L1195: ( eval (C302 , C301) ) = ( ( eval (<% ( - C301 ) , ( 1. C300 ) %> , C301) ) * ( eval (C303 , C301) ) ) by L1194 , POLYNOM4:24
.= ( ( ( - C301 ) + C301 ) * ( eval (C303 , C301) ) ) by POLYNOM5:47
.= ( ( 0. C300 ) * ( eval (C303 , C301) ) ) by RLVECT_1:def 10
.= ( 0. C300 ) by VECTSP_1:7;
thus L1196: thesis by L1195 , POLYNOM5:def 6;
end;
L1197:
now
let C304 being domRing;
let C305 being  non-zero (Polynomial of C304);
defpred S11[ Nat ] means (for B215 being (Polynomial of C304) holds (( len B215 ) = $1 implies (( Roots B215 ) is  finite & (ex B216 being (Element of ( NAT )) st (B216 = ( card ( Roots B215 ) ) & B216 < ( len B215 ))))));
L1198: C305 <> ( 0_. C304 ) by L696;
L1199: ( len C305 ) <> ( 0 ) by L1198 , POLYNOM4:5;
L1200: ( len C305 ) >= ( (( 0 ) qua Nat) + 1 ) by L1199 , NAT_1:13;
L1201: (for B217 being Nat holds ((B217 >= 1 & S11[ B217 ]) implies S11[ ( B217 + 1 ) ]))
proof
let C306 being Nat;
assume that
L1202: C306 >= 1
and
L1203: S11[ C306 ];
let C307 being (Polynomial of C304);
assume L1204: ( len C307 ) = ( C306 + 1 );
per cases ;
suppose L1205: C307 is  with_roots;

consider C308 being (Element of C304) such that L1206: C308 is_a_root_of C307 by L1205 , POLYNOM5:def 7;
set D121 = <% ( - C308 ) , ( 1. C304 ) %>;
set D122 = ( poly_quotient (C307 , C308) );
L1207: C307 = ( <% ( - C308 ) , ( 1. C304 ) %> *' ( poly_quotient (C307 , C308) ) ) by L1206 , L1156;
L1208: ( Roots C307 ) = ( ( Roots D121 ) \/ ( Roots D122 ) ) by L1207 , L797;
L1209: ( Roots D121 ) = { C308 } by L1139;
reconsider D123 = ( Roots D121 ) as  finite set by L1209;
L1210: ( ( len D122 ) + 1 ) = ( len C307 ) by L1204 , L1206 , L1087;
consider C309 being (Element of ( NAT )) such that L1211: C309 = ( card ( Roots D122 ) ) and L1212: C309 < ( len D122 ) by L1210 , L1203 , L1204;
reconsider D124 = ( Roots D122 ) as  finite set by L1203 , L1204 , L1210;
reconsider D125 = ( D124 \/ D123 ) as  finite set;
L1213: ( card D123 ) = 1 by L1209 , CARD_1:30;
L1214: ( card D125 ) <= ( C309 + 1 ) by L1213 , L1211 , CARD_2:43;
L1215: ( Roots D122 ) is  finite by L1203 , L1204 , L1210;
thus L1216: ( Roots C307 ) is  finite by L1215 , L1209 , L1208;
take D126 = ( card D125 );
thus L1217: D126 = ( card ( Roots C307 ) ) by L1207 , L797;
L1218: ( C309 + 1 ) < ( C306 + 1 ) by L1204 , L1210 , L1212 , XREAL_1:8;
thus L1219: thesis by L1218 , L1204 , L1214 , XXREAL_0:2;
end;
suppose L1220: (not C307 is  with_roots);

L1221:
now
assume L1222: ( Roots C307 ) <> ( {} );
consider C310 being set such that L1223: C310 in ( Roots C307 ) by L1222 , XBOOLE_0:def 1;
reconsider D127 = C310 as (Element of C304) by L1223;
L1224: D127 is_a_root_of C307 by L1223 , POLYNOM5:def 9;
thus L1225: contradiction by L1224 , L1220 , POLYNOM5:def 7;
end;
thus L1226: ( Roots C307 ) is  finite by L1221;
take ( 0 );
thus L1227: ( 0 ) = ( card ( Roots C307 ) ) by L1221;
thus L1228: thesis by L1204;
end;
end;
L1230: S11[ 1 ]
proof
let C311 being (Polynomial of C304);
assume L1231: ( len C311 ) = 1;
thus L1232: ( Roots C311 ) is  finite by L1231 , L1078;
take ( 0 );
thus L1233: ( 0 ) = ( card ( Roots C311 ) ) by L1231 , L1078 , CARD_1:27;
thus L1234: thesis by L1231;
end;
L1235: (for B218 being Nat holds (B218 >= 1 implies S11[ B218 ])) from NAT_1:sch 8(L1230 , L1201);
thus L1236: (( Roots C305 ) is  finite & (ex B219 being (Element of ( NAT )) st (B219 = ( card ( Roots C305 ) ) & B219 < ( len C305 )))) by L1235 , L1200;
end;
begin
registration
let C312 being domRing;
let C313 being  non-zero (Polynomial of C312);
cluster ( Roots C313 ) ->  finite;
correctness by L1197;
end;
definition
let C314 being non  degenerated comRing;
let C315 being (Element of C314);
let C316 being  non-zero (Polynomial of C314);
func multiplicity (C316 , C315) -> (Element of ( NAT )) means 
:L1238: (ex B220 being  finite non  empty (Subset of ( NAT )) st (B220 = { B221 where B221 is (Element of ( NAT )) : (ex B222 being (Polynomial of C314) st C316 = ( ( <% ( - C315 ) , ( 1. C314 ) %> `^ B221 ) *' B222 )) } & it = ( max B220 )));
existence
proof
set D128 = <% ( - C315 ) , ( 1. C314 ) %>;
defpred S12[ (Element of ( NAT )) ] means (ex B223 being (Polynomial of C314) st C316 = ( ( D128 `^ $1 ) *' B223 ));
set D129 = { B224 where B224 is (Element of ( NAT )) : S12[ B224 ] };
L1239: D129 c= ( NAT ) from FRAENKEL:sch 10;
L1240: C316 = ( ( 1_. C314 ) *' C316 ) by POLYNOM3:35
.= ( ( D128 `^ ( 0 ) ) *' C316 ) by POLYNOM5:15;
L1241: ( 0 ) in D129 by L1240;
L1242: ( len C316 ) > ( 0 ) by L698;
L1243: D129 c= ( len C316 )
proof
let C317 being set;
assume L1244: C317 in D129;
consider C318 being (Element of ( NAT )) such that L1245: C317 = C318 and L1246: S12[ C318 ] by L1244;
consider C319 being (Polynomial of C314) such that L1247: C316 = ( ( D128 `^ C318 ) *' C319 ) by L1246;
L1248:
now
assume L1249: ( len C319 ) = ( 0 );
L1250: C319 = ( 0_. C314 ) by L1249 , POLYNOM4:5;
L1251: C316 = ( 0_. C314 ) by L1250 , L1247 , POLYNOM4:2;
thus L1252: contradiction by L1251 , L1242 , POLYNOM4:3;
end;
reconsider D130 = C319 as  non-zero (Polynomial of C314) by L1248 , L698;
L1253:
now
assume L1254: C318 >= ( len C316 );
L1255: ( C318 + ( len D130 ) ) > ( ( len C316 ) + (( 0 ) qua Nat) ) by L1254 , L1248 , XREAL_1:8;
thus L1256: contradiction by L1255 , L1247 , L972;
end;
L1257: C318 in { B225 where B225 is (Element of ( NAT )) : B225 < ( len C316 ) } by L1253;
thus L1258: thesis by L1257 , L1245 , AXIOMS:4;
end;
reconsider D131 = D129 as  finite non  empty (Subset of ( NAT )) by L1243 , L1241 , L1239;
reconsider D132 = D131 as  finite non  empty  natural-membered set;
reconsider D133 = ( max D132 ) as (Element of ( NAT )) by ORDINAL1:def 12;
take D133;
thus L1259: thesis;
end;
uniqueness;
end;
theorem
L1261: (for B226 being non  degenerated comRing holds (for B227 being  non-zero (Polynomial of B226) holds (for B228 being (Element of B226) holds (B228 is_a_root_of B227 iff ( multiplicity (B227 , B228) ) >= 1))))
proof
let C320 being non  degenerated comRing;
let C321 being  non-zero (Polynomial of C320);
let C322 being (Element of C320);
set D134 = <% ( - C322 ) , ( 1. C320 ) %>;
set D135 = ( multiplicity (C321 , C322) );
consider C323 being  finite non  empty (Subset of ( NAT )) such that L1262: C323 = { B229 where B229 is (Element of ( NAT )) : (ex B230 being (Polynomial of C320) st C321 = ( ( D134 `^ B229 ) *' B230 )) } and L1263: D135 = ( max C323 ) by L1238;
L1264: D135 in C323 by L1263 , XXREAL_2:def 8;
consider C324 being (Element of ( NAT )) such that L1265: D135 = C324 and L1266: (ex B231 being (Polynomial of C320) st C321 = ( ( D134 `^ C324 ) *' B231 )) by L1264 , L1262;
thus L1267:now
assume L1268: C322 is_a_root_of C321;
L1269: C321 = ( D134 *' ( poly_quotient (C321 , C322) ) ) by L1268 , L1156;
L1270: ( D134 `^ 1 ) = D134 by POLYNOM5:16;
L1271: 1 in C323 by L1270 , L1262 , L1269;
thus L1272: ( multiplicity (C321 , C322) ) >= 1 by L1271 , L1263 , XXREAL_2:def 8;
end;
consider C325 being (Polynomial of C320) such that L1273: C321 = ( ( D134 `^ C324 ) *' C325 ) by L1266;
assume L1274: ( multiplicity (C321 , C322) ) >= 1;
consider C326 being Nat such that L1275: C324 = ( C326 + 1 ) by L1274 , L1265 , NAT_1:6;
reconsider D136 = C326 as (Element of ( NAT )) by ORDINAL1:def 12;
L1276: C321 = ( ( D134 *' ( D134 `^ D136 ) ) *' C325 ) by L1273 , L1275 , POLYNOM5:19
.= ( D134 *' ( ( D134 `^ D136 ) *' C325 ) ) by POLYNOM3:33;
thus L1277: thesis by L1276 , L1152;
end;
theorem
L1278: (for B232 being non  degenerated comRing holds (for B233 being (Element of B232) holds ( multiplicity (<% ( - B233 ) , ( 1. B232 ) %> , B233) ) = 1))
proof
let C327 being non  degenerated comRing;
let C328 being (Element of C327);
set D137 = <% ( - C328 ) , ( 1. C327 ) %>;
set D138 = ( multiplicity (D137 , C328) );
consider C329 being  finite non  empty (Subset of ( NAT )) such that L1279: C329 = { B234 where B234 is (Element of ( NAT )) : (ex B235 being (Polynomial of C327) st D137 = ( ( D137 `^ B234 ) *' B235 )) } and L1280: ( multiplicity (D137 , C328) ) = ( max C329 ) by L1238;
L1281: D138 in C329 by L1280 , XXREAL_2:def 8;
consider C330 being (Element of ( NAT )) such that L1282: C330 = D138 and L1283: (ex B236 being (Polynomial of C327) st D137 = ( ( D137 `^ C330 ) *' B236 )) by L1281 , L1279;
consider C331 being (Polynomial of C327) such that L1284: D137 = ( ( D137 `^ C330 ) *' C331 ) by L1283;
L1285: ( len D137 ) = 2 by POLYNOM5:40;
L1286:
now
assume L1287: ( len C331 ) = ( 0 );
L1288: C331 = ( 0_. C327 ) by L1287 , POLYNOM4:5;
L1289: D137 = ( 0_. C327 ) by L1288 , L1284 , POLYNOM4:2;
thus L1290: contradiction by L1289 , L1285 , POLYNOM4:3;
end;
L1291: C331 is  non-zero by L1286 , L698;
L1292:
now
assume L1293: C330 > 1;
L1294: C330 >= ( 1 + 1 ) by L1293 , NAT_1:13;
L1295: ( C330 + ( len C331 ) ) > ( 2 + (( 0 ) qua Nat) ) by L1294 , L1286 , XREAL_1:8;
thus L1296: contradiction by L1295 , L1285 , L1284 , L1291 , L972;
end;
L1297: D137 = ( D137 `^ 1 ) by POLYNOM5:16;
L1298: D137 = ( ( D137 `^ 1 ) *' ( 1_. C327 ) ) by L1297 , POLYNOM3:35;
L1299: 1 in C329 by L1298 , L1279;
L1300: ( multiplicity (D137 , C328) ) >= 1 by L1299 , L1280 , XXREAL_2:def 8;
thus L1301: thesis by L1300 , L1282 , L1292 , XXREAL_0:1;
end;
definition
let C332 being domRing;
let C333 being  non-zero (Polynomial of C332);
func BRoots C333 -> (bag of (the carrier of C332)) means 
:L1302: (( support it ) = ( Roots C333 ) & (for B237 being (Element of C332) holds ( it . B237 ) = ( multiplicity (C333 , B237) )));
existence
proof
deffunc H5((Element of C332)) = ( multiplicity (C333 , $1) );
consider C334 being (Function of (the carrier of C332) , ( NAT )) such that L1303: (for B238 being (Element of C332) holds ( C334 . B238 ) = H5(B238)) from FUNCT_2:sch 4;
L1304: ( dom C334 ) = (the carrier of C332) by FUNCT_2:def 1;
L1305: ( support C334 ) c= (the carrier of C332) by L1304 , PRE_POLY:37;
L1306:
now
let C335 being set;
thus L1307:now
assume L1308: C335 in ( support C334 );
reconsider D139 = C335 as (Element of C332) by L1308 , L1305;
L1309: ( C334 . C335 ) <> ( 0 ) by L1308 , PRE_POLY:def 7;
L1310: ( C334 . D139 ) >= ( (( 0 ) qua Nat) + 1 ) by L1309 , NAT_1:13;
L1311: ( C334 . C335 ) = H5(D139) by L1303;
L1312: D139 is_a_root_of C333 by L1311 , L1310 , L1261;
thus L1313: C335 in ( Roots C333 ) by L1312 , POLYNOM5:def 9;
end;
assume L1314: C335 in ( Roots C333 );
reconsider D140 = C335 as (Element of C332) by L1314;
L1315: D140 is_a_root_of C333 by L1314 , POLYNOM5:def 9;
L1316: ( multiplicity (C333 , D140) ) >= 1 by L1315 , L1261;
L1317: ( C334 . D140 ) >= 1 by L1316 , L1303;
thus L1318: C335 in ( support C334 ) by L1317 , PRE_POLY:def 7;
end;
L1319: ( support C334 ) = ( Roots C333 ) by L1306 , TARSKI:1;
reconsider D141 = C334 as (bag of (the carrier of C332)) by L1319 , PRE_POLY:def 8;
take D141;
thus L1320: thesis by L1303 , L1306 , TARSKI:1;
end;
uniqueness
proof
let C336 , C337 being (bag of (the carrier of C332));
assume that
L1321: ( support C336 ) = ( Roots C333 )
and
L1322: (for B239 being (Element of C332) holds ( C336 . B239 ) = ( multiplicity (C333 , B239) ))
and
L1323: ( support C337 ) = ( Roots C333 )
and
L1324: (for B240 being (Element of C332) holds ( C337 . B240 ) = ( multiplicity (C333 , B240) ));
L1325:
now
let C338 being set;
assume L1326: C338 in (the carrier of C332);
reconsider D142 = C338 as (Element of C332) by L1326;
thus L1327: ( C336 . C338 ) = ( multiplicity (C333 , D142) ) by L1322
.= ( C337 . C338 ) by L1324;
end;
thus L1328: C336 = C337 by L1325 , PBOOLE:3;
end;
end;
theorem
L1330: (for B241 being domRing holds (for B242 being (Element of B241) holds ( BRoots <% ( - B242 ) , ( 1. B241 ) %> ) = ( ({ B242 } , 1) -bag )))
proof
let C339 being domRing;
let C340 being (Element of C339);
set D143 = <% ( - C340 ) , ( 1. C339 ) %>;
L1331: ( Roots D143 ) = { C340 } by L1139;
L1332: ( support ( BRoots D143 ) ) = { C340 } by L1331 , L1302;
L1333: C340 in { C340 } by TARSKI:def 1;
L1334:
now
let C341 being set;
assume L1335: C341 in (the carrier of C339);
reconsider D144 = C341 as (Element of C339) by L1335;
per cases ;
suppose L1336: C341 = C340;

thus L1337: ( ( BRoots D143 ) . C341 ) = ( multiplicity (D143 , D144) ) by L1302
.= 1 by L1336 , L1278
.= ( ( ({ C340 } , 1) -bag ) . C341 ) by L1333 , L1336 , L269;
end;
suppose L1338: C341 <> C340;

L1339: (not C341 in { C340 }) by L1338 , TARSKI:def 1;
thus L1340: ( ( BRoots D143 ) . C341 ) = ( 0 ) by L1339 , L1332 , PRE_POLY:def 7
.= ( ( ({ C340 } , 1) -bag ) . C341 ) by L1339 , L265;
end;
end;
thus L1342: thesis by L1334 , PBOOLE:3;
end;
theorem
L1343: (for B243 being domRing holds (for B244 being (Element of B243) holds (for B245 , B246 being  non-zero (Polynomial of B243) holds ( multiplicity (( B245 *' B246 ) , B244) ) = ( ( multiplicity (B245 , B244) ) + ( multiplicity (B246 , B244) ) ))))
proof
let C342 being domRing;
let C343 being (Element of C342);
let C344 , C345 being  non-zero (Polynomial of C342);
set D145 = <% ( - C343 ) , ( 1. C342 ) %>;
consider C346 being  finite non  empty (Subset of ( NAT )) such that L1344: C346 = { B247 where B247 is (Element of ( NAT )) : (ex B248 being (Polynomial of C342) st ( C344 *' C345 ) = ( ( D145 `^ B247 ) *' B248 )) } and L1345: ( multiplicity (( C344 *' C345 ) , C343) ) = ( max C346 ) by L1238;
consider C347 being  finite non  empty (Subset of ( NAT )) such that L1346: C347 = { B249 where B249 is (Element of ( NAT )) : (ex B250 being (Polynomial of C342) st C344 = ( ( D145 `^ B249 ) *' B250 )) } and L1347: ( multiplicity (C344 , C343) ) = ( max C347 ) by L1238;
L1348: ( max C347 ) in C347 by XXREAL_2:def 8;
consider C348 being (Element of ( NAT )) such that L1349: C348 = ( max C347 ) and L1350: (ex B251 being (Polynomial of C342) st C344 = ( ( D145 `^ C348 ) *' B251 )) by L1348 , L1346;
consider C349 being (Polynomial of C342) such that L1351: C344 = ( ( D145 `^ C348 ) *' C349 ) by L1350;
consider C350 being  finite non  empty (Subset of ( NAT )) such that L1352: C350 = { B252 where B252 is (Element of ( NAT )) : (ex B253 being (Polynomial of C342) st C345 = ( ( D145 `^ B252 ) *' B253 )) } and L1353: ( multiplicity (C345 , C343) ) = ( max C350 ) by L1238;
L1354: ( max C346 ) in C346 by XXREAL_2:def 8;
consider C351 being (Element of ( NAT )) such that L1355: C351 = ( max C346 ) and L1356: (ex B254 being (Polynomial of C342) st ( C344 *' C345 ) = ( ( D145 `^ C351 ) *' B254 )) by L1354 , L1344;
consider C352 being (Polynomial of C342) such that L1357: ( C344 *' C345 ) = ( ( D145 `^ C351 ) *' C352 ) by L1356;
L1358: ( max C350 ) in C350 by XXREAL_2:def 8;
consider C353 being (Element of ( NAT )) such that L1359: C353 = ( max C350 ) and L1360: (ex B255 being (Polynomial of C342) st C345 = ( ( D145 `^ C353 ) *' B255 )) by L1358 , L1352;
consider C354 being (Polynomial of C342) such that L1361: C345 = ( ( D145 `^ C353 ) *' C354 ) by L1360;
L1362: ( C344 *' C345 ) = ( ( ( ( D145 `^ C348 ) *' C349 ) *' ( D145 `^ C353 ) ) *' C354 ) by L1351 , L1361 , POLYNOM3:33
.= ( ( ( ( D145 `^ C348 ) *' ( D145 `^ C353 ) ) *' C349 ) *' C354 ) by POLYNOM3:33
.= ( ( ( D145 `^ ( C348 + C353 ) ) *' C349 ) *' C354 ) by L866
.= ( ( D145 `^ ( C348 + C353 ) ) *' ( C349 *' C354 ) ) by POLYNOM3:33;
L1363:
now
assume L1364: ( C348 + C353 ) < C351;
L1365: ( (( 0 ) qua Nat) + ( C348 + C353 ) ) < C351 by L1364;
L1366: ( 0 ) < ( C351 - ( C348 + C353 ) ) by L1365 , XREAL_1:20;
reconsider D146 = ( C351 - ( C348 + C353 ) ) as (Element of ( NAT )) by L1366 , INT_1:3;
consider C355 being Nat such that L1367: D146 = ( C355 + 1 ) by L1366 , NAT_1:6;
reconsider D147 = C355 as (Element of ( NAT )) by ORDINAL1:def 12;
L1368: ( D145 `^ D146 ) = ( ( D145 `^ 1 ) *' ( D145 `^ D147 ) ) by L1367 , L866
.= ( D145 *' ( D145 `^ D147 ) ) by POLYNOM5:16;
L1369: ( ( D145 `^ D146 ) *' C352 ) = ( D145 *' ( ( D145 `^ D147 ) *' C352 ) ) by L1368 , POLYNOM3:33;
L1370: (( ( 0_. C342 ) . 1 ) = ( 0. C342 ) & ( D145 . 1 ) = ( 1. C342 )) by FUNCOP_1:7 , POLYNOM5:38;
L1371: ( D145 `^ ( C348 + C353 ) ) <> ( 0_. C342 ) by L1370 , L856;
L1372: C351 = ( D146 + ( C348 + C353 ) );
L1373: ( C344 *' C345 ) = ( ( ( D145 `^ ( C348 + C353 ) ) *' ( D145 `^ D146 ) ) *' C352 ) by L1372 , L1357 , L866
.= ( ( D145 `^ ( C348 + C353 ) ) *' ( ( D145 `^ D146 ) *' C352 ) ) by POLYNOM3:33;
L1374: C343 is_a_root_of ( C349 *' C354 ) by L1373 , L1362 , L1371 , L1369 , L849 , L1152;
L1375: C343 in ( Roots ( C349 *' C354 ) ) by L1374 , POLYNOM5:def 9;
L1376: C343 in ( ( Roots C349 ) \/ ( Roots C354 ) ) by L1375 , L797;
per cases  by L1376 , XBOOLE_0:def 3;
suppose L1377: C343 in ( Roots C349 );

L1378: C343 is_a_root_of C349 by L1377 , POLYNOM5:def 9;
L1379: C349 = ( D145 *' ( poly_quotient (C349 , C343) ) ) by L1378 , L1156;
L1380: C344 = ( ( ( D145 `^ C348 ) *' D145 ) *' ( poly_quotient (C349 , C343) ) ) by L1379 , L1351 , POLYNOM3:33
.= ( ( ( D145 `^ C348 ) *' ( D145 `^ 1 ) ) *' ( poly_quotient (C349 , C343) ) ) by POLYNOM5:16
.= ( ( D145 `^ ( C348 + 1 ) ) *' ( poly_quotient (C349 , C343) ) ) by L866;
L1381: ( C348 + 1 ) in C347 by L1380 , L1346;
L1382: ( C348 + 1 ) <= C348 by L1381 , L1349 , XXREAL_2:def 8;
thus L1383: contradiction by L1382 , NAT_1:13;
end;
suppose L1384: C343 in ( Roots C354 );

L1385: C343 is_a_root_of C354 by L1384 , POLYNOM5:def 9;
L1386: C354 = ( D145 *' ( poly_quotient (C354 , C343) ) ) by L1385 , L1156;
L1387: C345 = ( ( ( D145 `^ C353 ) *' D145 ) *' ( poly_quotient (C354 , C343) ) ) by L1386 , L1361 , POLYNOM3:33
.= ( ( ( D145 `^ C353 ) *' ( D145 `^ 1 ) ) *' ( poly_quotient (C354 , C343) ) ) by POLYNOM5:16
.= ( ( D145 `^ ( C353 + 1 ) ) *' ( poly_quotient (C354 , C343) ) ) by L866;
L1388: ( C353 + 1 ) in C350 by L1387 , L1352;
L1389: ( C353 + 1 ) <= C353 by L1388 , L1359 , XXREAL_2:def 8;
thus L1390: contradiction by L1389 , NAT_1:13;
end;
end;
L1392: ( C348 + C353 ) in C346 by L1344 , L1362;
L1393: ( C348 + C353 ) <= C351 by L1392 , L1355 , XXREAL_2:def 8;
thus L1394: thesis by L1393 , L1345 , L1347 , L1353 , L1355 , L1349 , L1359 , L1363 , XXREAL_0:1;
end;
theorem
L1395: (for B256 being domRing holds (for B257 , B258 being  non-zero (Polynomial of B256) holds ( BRoots ( B257 *' B258 ) ) = ( ( BRoots B257 ) + ( BRoots B258 ) )))
proof
let C356 being domRing;
let C357 , C358 being  non-zero (Polynomial of C356);
L1396:
now
let C359 being set;
assume L1397: C359 in (the carrier of C356);
reconsider D148 = C359 as (Element of C356) by L1397;
thus L1398: ( ( BRoots ( C357 *' C358 ) ) . C359 ) = ( multiplicity (( C357 *' C358 ) , D148) ) by L1302
.= ( ( multiplicity (C357 , D148) ) + ( multiplicity (C358 , D148) ) ) by L1343
.= ( ( ( BRoots C357 ) . C359 ) + ( multiplicity (C358 , D148) ) ) by L1302
.= ( ( ( BRoots C357 ) . C359 ) + ( ( BRoots C358 ) . C359 ) ) by L1302
.= ( ( ( BRoots C357 ) + ( BRoots C358 ) ) . C359 ) by PRE_POLY:def 5;
end;
thus L1399: thesis by L1396 , PBOOLE:3;
end;
L1400:
now
let C360 being domRing;
let C361 , C362 being  non-zero (Polynomial of C360);
L1401: ( BRoots ( C361 *' C362 ) ) = ( ( BRoots C361 ) + ( BRoots C362 ) ) by L1395;
thus L1402: ( degree ( BRoots ( C361 *' C362 ) ) ) = ( ( degree ( BRoots C361 ) ) + ( degree ( BRoots C362 ) ) ) by L1401 , L665;
end;
theorem
L1403: (for B259 being domRing holds (for B260 being  non-zero (Polynomial of B259) holds (( len B260 ) = 1 implies ( degree ( BRoots B260 ) ) = ( 0 ))))
proof
let C363 being domRing;
let C364 being  non-zero (Polynomial of C363);
assume L1404: ( len C364 ) = 1;
L1405: ( Roots C364 ) = ( {} ) by L1404 , L1078;
L1406: ( support ( BRoots C364 ) ) = ( {} ) by L1405 , L1302;
L1407: ( BRoots C364 ) = ( EmptyBag (the carrier of C363) ) by L1406 , BAGORDER:19;
thus L1408: thesis by L1407 , L343;
end;
theorem
L1409: (for B261 being domRing holds (for B262 being (Element of B261) holds (for B263 being (Element of ( NAT )) holds ( degree ( BRoots ( <% ( - B262 ) , ( 1. B261 ) %> `^ B263 ) ) ) = B263)))
proof
let C365 being domRing;
let C366 being (Element of C365);
set D149 = <% ( - C366 ) , ( 1. C365 ) %>;
defpred S13[ (Element of ( NAT )) ] means ( degree ( BRoots ( D149 `^ $1 ) ) ) = $1;
L1410: (for B264 being (Element of ( NAT )) holds (S13[ B264 ] implies S13[ ( B264 + 1 ) ]))
proof
let C367 being (Element of ( NAT ));
assume that
L1411: S13[ C367 ];
L1412: ( D149 `^ ( C367 + 1 ) ) = ( ( D149 `^ C367 ) *' D149 ) by POLYNOM5:19;
L1413: ( degree ( BRoots ( D149 `^ ( C367 + 1 ) ) ) ) = ( ( degree ( BRoots ( D149 `^ C367 ) ) ) + ( degree ( BRoots D149 ) ) ) by L1412 , L1400
.= ( C367 + ( degree ( ({ C366 } , 1) -bag ) ) ) by L1411 , L1330;
L1414: ( card { C366 } ) = 1 by CARD_1:30;
thus L1415: thesis by L1414 , L1413 , L367;
end;
L1416: (( len ( 1_. C365 ) ) = 1 & ( D149 `^ ( 0 ) ) = ( 1_. C365 )) by POLYNOM4:4 , POLYNOM5:15;
L1417: S13[ ( 0 ) ] by L1416 , L1403;
thus L1418: (for B265 being (Element of ( NAT )) holds S13[ B265 ]) from NAT_1:sch 1(L1417 , L1410);
end;
theorem
L1419: (for B266 being  algebraic-closed domRing holds (for B267 being  non-zero (Polynomial of B266) holds ( degree ( BRoots B267 ) ) = ( ( len B267 ) -' 1 )))
proof
let C368 being  algebraic-closed domRing;
let C369 being  non-zero (Polynomial of C368);
defpred S14[ Nat ] means (for B268 being  non-zero (Polynomial of C368) holds ((( len B268 ) = $1 & $1 > ( 0 )) implies ( degree ( BRoots B268 ) ) = ( ( len B268 ) -' 1 )));
L1420: (for B269 being Nat holds ((for B270 being Nat holds (B270 < B269 implies S14[ B270 ])) implies S14[ B269 ]))
proof
let C370 being Nat;
assume L1421: (for B271 being Nat holds (B271 < C370 implies S14[ B271 ]));
let C371 being  non-zero (Polynomial of C368);
assume that
L1422: ( len C371 ) = C370
and
L1423: C370 > ( 0 );
L1424: C370 >= ( (( 0 ) qua Nat) + 1 ) by L1423 , NAT_1:13;
thus L1425: thesis
proof
per cases  by L1424 , XXREAL_0:1;
suppose L1426: C370 = 1;

thus L1427: ( degree ( BRoots C371 ) ) = ( 1 - 1 ) by L1426 , L1422 , L1403
.= ( ( len C371 ) -' 1 ) by L1422 , L1426 , XREAL_1:233;
end;
suppose L1428: C370 > 1;

L1429: C371 is  with_roots by L1428 , L1422 , POLYNOM5:def 8;
consider C372 being (Element of C368) such that L1430: C372 is_a_root_of C371 by L1429 , POLYNOM5:def 7;
L1431: ( multiplicity (C371 , C372) ) >= 1 by L1430 , L1261;
set D150 = <% ( - C372 ) , ( 1. C368 ) %>;
consider C373 being  finite non  empty (Subset of ( NAT )) such that L1432: C373 = { B272 where B272 is (Element of ( NAT )) : (ex B273 being (Polynomial of C368) st C371 = ( ( <% ( - C372 ) , ( 1. C368 ) %> `^ B272 ) *' B273 )) } and L1433: ( multiplicity (C371 , C372) ) = ( max C373 ) by L1238;
L1434: ( max C373 ) in C373 by XXREAL_2:def 8;
consider C374 being (Element of ( NAT )) such that L1435: C374 = ( max C373 ) and L1436: (ex B274 being (Polynomial of C368) st C371 = ( ( <% ( - C372 ) , ( 1. C368 ) %> `^ C374 ) *' B274 )) by L1434 , L1432;
set D151 = ( <% ( - C372 ) , ( 1. C368 ) %> `^ C374 );
consider C375 being (Polynomial of C368) such that L1437: C371 = ( ( <% ( - C372 ) , ( 1. C368 ) %> `^ C374 ) *' C375 ) by L1436;
reconsider D152 = C375 as  non-zero (Polynomial of C368) by L1437 , L899;
L1438: ( len D152 ) > ( 0 ) by L698;
L1439: ( len D152 ) >= ( (( 0 ) qua Nat) + 1 ) by L1438 , NAT_1:13;
thus L1440: thesis
proof
L1441: ( len D152 ) > ( 0 ) by L698;
L1442: ( D152 . ( ( len D152 ) -' 1 ) ) <> ( 0. C368 ) by L1441 , L715;
L1443: ( len D151 ) > ( 0 ) by L698;
L1444: ( D151 . ( ( len D151 ) -' 1 ) ) <> ( 0. C368 ) by L1443 , L715;
L1445: ( ( D151 . ( ( len D151 ) -' 1 ) ) * ( D152 . ( ( len D152 ) -' 1 ) ) ) <> ( 0. C368 ) by L1444 , L1442 , VECTSP_2:def 1;
L1446: ( ( ( C374 * 2 ) - C374 ) + 1 ) = ( C374 + 1 );
L1447: ( len D150 ) = 2 by POLYNOM5:40;
L1448: ( len D151 ) = ( ( ( C374 * 2 ) - C374 ) + 1 ) by L1447 , POLYNOM5:23;
L1449: ( len D151 ) > 1 by L1448 , L1431 , L1433 , L1435 , NAT_1:13;
per cases  by L1439 , XXREAL_0:1;
suppose L1450: ( len D152 ) = 1;

L1451: ( len C371 ) = ( ( ( len D151 ) + ( len D152 ) ) - 1 ) by L1437 , L1445 , POLYNOM4:10
.= ( len D151 ) by L1450;
thus L1452: ( degree ( BRoots C371 ) ) = ( ( degree ( BRoots D151 ) ) + ( degree ( BRoots D152 ) ) ) by L1437 , L1400
.= ( ( degree ( BRoots D151 ) ) + (( 0 ) qua Nat) ) by L1450 , L1403
.= ( ( ( ( 2 * C374 ) - C374 ) + 1 ) - 1 ) by L1409
.= ( ( len C371 ) -' 1 ) by L1422 , L1424 , L1448 , L1451 , XREAL_1:233;
end;
suppose L1453: ( len D152 ) > 1;

L1454: (( degree ( BRoots D151 ) ) = ( ( C374 + 1 ) -' 1 ) & ( degree ( BRoots D152 ) ) = ( ( len D152 ) -' 1 )) by L1453 , L1421 , L1422 , L1437 , L1448 , L1449 , L924;
thus L1455: ( degree ( BRoots C371 ) ) = ( ( degree ( BRoots D151 ) ) + ( degree ( BRoots D152 ) ) ) by L1437 , L1400
.= ( ( ( len D151 ) -' 1 ) + ( ( len D152 ) -' 1 ) ) by L1447 , L1446 , L1454 , POLYNOM5:23
.= ( ( ( len D151 ) - 1 ) + ( ( len D152 ) -' 1 ) ) by L1449 , XREAL_1:233
.= ( ( ( len D151 ) - 1 ) + ( ( len D152 ) - 1 ) ) by L1453 , XREAL_1:233
.= ( ( ( ( len D151 ) + ( len D152 ) ) - 1 ) - 1 )
.= ( ( len C371 ) - 1 ) by L1437 , L1445 , POLYNOM4:10
.= ( ( len C371 ) -' 1 ) by L1422 , L1428 , XREAL_1:233;
end;
end;

end;
end;

end;
L1426: (for B275 being Nat holds S14[ B275 ]) from NAT_1:sch 4(L1420);
L1427: ( len C369 ) > ( 0 ) by L698;
thus L1428: thesis by L1427 , L1426;
end;
definition
let C376 being  add-associative  right_zeroed  right_complementable  distributive non  empty doubleLoopStr;
let C377 being (Element of C376);
let C378 being (Element of ( NAT ));
func fpoly_mult_root (C377 , C378) -> (FinSequence of ( Polynom-Ring C376 )) means 
:L1429: (( len it ) = C378 & (for B276 being (Element of ( NAT )) holds (B276 in ( dom it ) implies ( it . B276 ) = <% ( - C377 ) , ( 1. C376 ) %>)));
existence
proof
L1430: <% ( - C377 ) , ( 1. C376 ) %> is (Element of ( Polynom-Ring C376 )) by POLYNOM3:def 10;
reconsider D153 = ( C378 |-> <% ( - C377 ) , ( 1. C376 ) %> ) as (FinSequence of ( Polynom-Ring C376 )) by L1430 , FINSEQ_2:63;
take D153;
thus L1431: ( len D153 ) = C378 by CARD_1:def 7;
let C379 being (Element of ( NAT ));
assume L1432: C379 in ( dom D153 );
L1433: C379 in ( Seg C378 ) by L1432 , L1431 , FINSEQ_1:def 3;
thus L1434: thesis by L1433 , FUNCOP_1:7;
end;
uniqueness
proof
let C380 , C381 being (FinSequence of ( Polynom-Ring C376 ));
assume that
L1435: ( len C380 ) = C378
and
L1436: (for B277 being (Element of ( NAT )) holds (B277 in ( dom C380 ) implies ( C380 . B277 ) = <% ( - C377 ) , ( 1. C376 ) %>))
and
L1437: ( len C381 ) = C378
and
L1438: (for B278 being (Element of ( NAT )) holds (B278 in ( dom C381 ) implies ( C381 . B278 ) = <% ( - C377 ) , ( 1. C376 ) %>));
L1439: ( dom C380 ) = ( dom C381 ) by L1435 , L1437 , FINSEQ_3:29;
L1440:
now
let C382 being Nat;
assume L1441: C382 in ( dom C380 );
thus L1442: ( C380 . C382 ) = <% ( - C377 ) , ( 1. C376 ) %> by L1441 , L1436
.= ( C381 . C382 ) by L1438 , L1439 , L1441;
end;
thus L1443: thesis by L1440 , L1439 , FINSEQ_1:13;
end;
end;
definition
let C383 being  add-associative  right_zeroed  right_complementable  distributive non  empty doubleLoopStr;
let C384 being (bag of (the carrier of C383));
func poly_with_roots C384 -> (Polynomial of C383) means 
:L1445: (ex B279 being (FinSequence of ( (the carrier of ( Polynom-Ring C383 )) * )) st (ex B280 being (FinSequence of C383) st (( len B279 ) = ( card ( support C384 ) ) & B280 = ( canFS ( support C384 ) ) & (for B281 being (Element of ( NAT )) holds (B281 in ( dom B279 ) implies ( B279 . B281 ) = ( fpoly_mult_root (( B280 /. B281 ) , ( C384 . ( B280 /. B281 ) )) ))) & it = ( Product ( FlattenSeq B279 ) ))));
existence
proof
L1446: (( support C384 ) c= ( dom C384 ) & ( dom C384 ) = (the carrier of C383)) by PARTFUN1:def 2 , PRE_POLY:37;
L1447: ( rng ( canFS ( support C384 ) ) ) c= (the carrier of C383) by L1446 , XBOOLE_1:1;
reconsider D154 = ( canFS ( support C384 ) ) as (FinSequence of C383) by L1447 , FINSEQ_1:def 4;
deffunc H6(set) = ( fpoly_mult_root (( D154 /. $1 ) , ( C384 . ( D154 /. $1 ) )) );
consider C385 being FinSequence such that L1448: ( len C385 ) = ( card ( support C384 ) ) and L1449: (for B282 being Nat holds (B282 in ( dom C385 ) implies ( C385 . B282 ) = H6(B282))) from FINSEQ_1:sch 2;
L1450: ( rng C385 ) c= ( (the carrier of ( Polynom-Ring C383 )) * )
proof
let C386 being set;
assume L1451: C386 in ( rng C385 );
consider C387 being Nat such that L1452: (C387 in ( dom C385 ) & ( C385 . C387 ) = C386) by L1451 , FINSEQ_2:10;
L1453: C386 = H6(C387) by L1449 , L1452;
thus L1454: thesis by L1453 , FINSEQ_1:def 11;
end;
reconsider D155 = C385 as (FinSequence of ( (the carrier of ( Polynom-Ring C383 )) * )) by L1450 , FINSEQ_1:def 4;
reconsider D156 = ( Product ( FlattenSeq D155 ) ) as (Polynomial of C383) by POLYNOM3:def 10;
take D156;
take D155;
take D154;
thus L1455: ( len D155 ) = ( card ( support C384 ) ) by L1448;
thus L1456: D154 = ( canFS ( support C384 ) );
thus L1457: (for B283 being (Element of ( NAT )) holds (B283 in ( dom D155 ) implies ( D155 . B283 ) = ( fpoly_mult_root (( D154 /. B283 ) , ( C384 . ( D154 /. B283 ) )) ))) by L1449;
thus L1458: thesis;
end;
uniqueness
proof
let C388 , C389 being (Polynomial of C383);
given C390 being (FinSequence of ( (the carrier of ( Polynom-Ring C383 )) * )) , C391 being (FinSequence of C383) such that
L1459: ( len C390 ) = ( card ( support C384 ) )
and
L1460: C391 = ( canFS ( support C384 ) )
and
L1461: (for B284 being (Element of ( NAT )) holds (B284 in ( dom C390 ) implies ( C390 . B284 ) = ( fpoly_mult_root (( C391 /. B284 ) , ( C384 . ( C391 /. B284 ) )) )))
and
L1462: C388 = ( Product ( FlattenSeq C390 ) );

given C392 being (FinSequence of ( (the carrier of ( Polynom-Ring C383 )) * )) , C393 being (FinSequence of C383) such that
L1463: ( len C392 ) = ( card ( support C384 ) )
and
L1464: (C393 = ( canFS ( support C384 ) ) & (for B285 being (Element of ( NAT )) holds (B285 in ( dom C392 ) implies ( C392 . B285 ) = ( fpoly_mult_root (( C393 /. B285 ) , ( C384 . ( C393 /. B285 ) )) ))))
and
L1465: C389 = ( Product ( FlattenSeq C392 ) );

L1466: ( dom C390 ) = ( dom C392 ) by L1459 , L1463 , FINSEQ_3:29;
L1467:
now
let C394 being Nat;
assume L1468: C394 in ( dom C390 );
thus L1469: ( C390 . C394 ) = ( fpoly_mult_root (( C391 /. C394 ) , ( C384 . ( C391 /. C394 ) )) ) by L1468 , L1461
.= ( C392 . C394 ) by L1460 , L1464 , L1466 , L1468;
end;
thus L1470: thesis by L1467 , L1459 , L1462 , L1463 , L1465 , FINSEQ_2:9;
end;
end;
theorem
L1472: (for B286 being  Abelian  add-associative  right_zeroed  right_complementable  commutative  distributive  well-unital non  empty doubleLoopStr holds ( poly_with_roots ( EmptyBag (the carrier of B286) ) ) = <% ( 1. B286 ) %>)
proof
let C395 being  Abelian  add-associative  right_zeroed  right_complementable  commutative  distributive  well-unital non  empty doubleLoopStr;
set D157 = ( EmptyBag (the carrier of C395) );
consider C396 being (FinSequence of ( (the carrier of ( Polynom-Ring C395 )) * )), C397 being (FinSequence of C395) such that L1473: ( len C396 ) = ( card ( support D157 ) ) and L1474: C397 = ( canFS ( support D157 ) ) and L1475: (for B287 being (Element of ( NAT )) holds (B287 in ( dom C396 ) implies ( C396 . B287 ) = ( fpoly_mult_root (( C397 /. B287 ) , ( D157 . ( C397 /. B287 ) )) ))) and L1476: ( poly_with_roots D157 ) = ( Product ( FlattenSeq C396 ) ) by L1445;
L1477: C396 = ( <*> ( (the carrier of ( Polynom-Ring C395 )) * ) ) by L1473 , BAGORDER:18 , CARD_1:27;
L1478: (( 1_ ( Polynom-Ring C395 ) ) = ( 1. ( Polynom-Ring C395 ) ) & ( FlattenSeq C396 ) = ( <*> (the carrier of ( Polynom-Ring C395 )) )) by L1477;
L1479: ( Product ( FlattenSeq C396 ) ) = ( 1. ( Polynom-Ring C395 ) ) by L1478 , GROUP_4:8
.= ( 1_. C395 ) by POLYNOM3:36;
thus L1480: thesis by L1479 , L1476 , L875;
end;
theorem
L1481: (for B288 being  add-associative  right_zeroed  right_complementable  distributive non  empty doubleLoopStr holds (for B289 being (Element of B288) holds ( poly_with_roots ( ({ B289 } , 1) -bag ) ) = <% ( - B289 ) , ( 1. B288 ) %>))
proof
let C398 being  add-associative  right_zeroed  right_complementable  distributive non  empty doubleLoopStr;
let C399 being (Element of C398);
set D158 = ( ({ C399 } , 1) -bag );
consider C400 being (FinSequence of ( (the carrier of ( Polynom-Ring C398 )) * )), C401 being (FinSequence of C398) such that L1482: ( len C400 ) = ( card ( support D158 ) ) and L1483: C401 = ( canFS ( support D158 ) ) and L1484: (for B290 being (Element of ( NAT )) holds (B290 in ( dom C400 ) implies ( C400 . B290 ) = ( fpoly_mult_root (( C401 /. B290 ) , ( D158 . ( C401 /. B290 ) )) ))) and L1485: ( poly_with_roots D158 ) = ( Product ( FlattenSeq C400 ) ) by L1445;
L1486: ( support D158 ) = { C399 } by L273;
L1487: C401 = <* C399 *> by L1486 , L1483 , L222;
L1488: ( card ( support D158 ) ) = 1 by L1486 , CARD_1:30;
L1489: 1 in ( dom C400 ) by L1488 , L1482 , FINSEQ_3:25;
L1490: ( C400 . 1 ) = ( C400 /. 1 ) by L1489 , PARTFUN1:def 6;
L1491: ( len C401 ) = 1 by L1483 , L1488 , L216;
L1492: 1 in ( dom C401 ) by L1491 , FINSEQ_3:25;
L1493: ( C401 /. 1 ) = ( C401 . 1 ) by L1492 , PARTFUN1:def 6
.= C399 by L1487 , FINSEQ_1:40;
set D159 = ( fpoly_mult_root (( C401 /. 1 ) , ( D158 . ( C401 /. 1 ) )) );
L1494: C399 in { C399 } by TARSKI:def 1;
L1495: ( D158 . ( C401 /. 1 ) ) = 1 by L1494 , L1493 , L269;
L1496: ( len D159 ) = 1 by L1495 , L1429;
L1497: 1 in ( dom D159 ) by L1496 , FINSEQ_3:25;
L1498: C400 = <* ( C400 /. 1 ) *> by L1482 , L1486 , CARD_1:30 , FINSEQ_5:14;
L1499: ( FlattenSeq C400 ) = ( C400 . 1 ) by L1498 , L1490 , PRE_POLY:1;
L1500: ( C400 . 1 ) = ( fpoly_mult_root (( C401 /. 1 ) , ( D158 . ( C401 /. 1 ) )) ) by L1484 , L1489;
L1501: D159 = <* ( D159 /. 1 ) *> by L1496 , FINSEQ_5:14;
thus L1502: ( poly_with_roots ( ({ C399 } , 1) -bag ) ) = ( D159 /. 1 ) by L1501 , L1485 , L1499 , L1500 , FINSOP_1:11
.= ( D159 . 1 ) by L1497 , PARTFUN1:def 6
.= <% ( - C399 ) , ( 1. C398 ) %> by L1493 , L1497 , L1429;
end;
theorem
L1503: (for B291 being  add-associative  right_zeroed  right_complementable  distributive non  empty doubleLoopStr holds (for B292 being (bag of (the carrier of B291)) holds (for B293 being (FinSequence of ( (the carrier of ( Polynom-Ring B291 )) * )) holds (for B294 being (FinSequence of B291) holds ((( len B293 ) = ( card ( support B292 ) ) & B294 = ( canFS ( support B292 ) ) & (for B295 being (Element of ( NAT )) holds (B295 in ( dom B293 ) implies ( B293 . B295 ) = ( fpoly_mult_root (( B294 /. B295 ) , ( B292 . ( B294 /. B295 ) )) )))) implies ( len ( FlattenSeq B293 ) ) = ( degree B292 ))))))
proof
let C402 being  add-associative  right_zeroed  right_complementable  distributive non  empty doubleLoopStr;
let C403 being (bag of (the carrier of C402));
let C404 being (FinSequence of ( (the carrier of ( Polynom-Ring C402 )) * ));
let C405 being (FinSequence of C402);
assume that
L1504: ( len C404 ) = ( card ( support C403 ) )
and
L1505: C405 = ( canFS ( support C403 ) )
and
L1506: (for B296 being (Element of ( NAT )) holds (B296 in ( dom C404 ) implies ( C404 . B296 ) = ( fpoly_mult_root (( C405 /. B296 ) , ( C403 . ( C405 /. B296 ) )) )));
reconsider D160 = ( Card C404 ) as (FinSequence of ( NAT ));
consider C406 being (FinSequence of ( NAT )) such that L1507: ( degree C403 ) = ( Sum C406 ) and L1508: C406 = ( C403 * ( canFS ( support C403 ) ) ) by L316;
L1509: ( len C405 ) = ( card ( support C403 ) ) by L1505 , L216;
L1510: ( dom C404 ) = ( dom C405 ) by L1509 , L1504 , FINSEQ_3:29;
L1511:
now
L1512: ( rng C405 ) c= ( dom C403 )
proof
let C407 being set;
assume L1513: C407 in ( rng C405 );
L1514: C407 in ( support C403 ) by L1513 , L1505 , FUNCT_2:def 3;
L1515: ( support C403 ) c= ( dom C403 ) by PRE_POLY:37;
thus L1516: thesis by L1515 , L1514;
end;
thus L1517: ( dom ( Card C404 ) ) = ( dom C404 ) by CARD_3:def 2
.= ( dom C406 ) by L1505 , L1510 , L1508 , L1512 , RELAT_1:27;
let C408 being Nat;
assume L1518: C408 in ( dom ( Card C404 ) );
L1519: C408 in ( dom C404 ) by L1518 , CARD_3:def 2;
L1520: ( C406 . C408 ) = ( C403 . ( C405 . C408 ) ) by L1519 , L1505 , L1510 , L1508 , FUNCT_1:13;
L1521: ( C404 . C408 ) = ( fpoly_mult_root (( C405 /. C408 ) , ( C403 . ( C405 /. C408 ) )) ) by L1506 , L1519;
L1522: ( len ( C404 . C408 ) ) = ( C403 . ( C405 /. C408 ) ) by L1521 , L1429;
thus L1523: ( D160 . C408 ) = ( card ( C404 . C408 ) ) by L1519 , CARD_3:def 2
.= ( C406 . C408 ) by L1510 , L1519 , L1522 , L1520 , PARTFUN1:def 6;
end;
L1524: ( len ( FlattenSeq C404 ) ) = ( Sum D160 ) by PRE_POLY:27;
thus L1525: thesis by L1524 , L1507 , L1511 , FINSEQ_1:13;
end;
theorem
L1526: (for B297 being  add-associative  right_zeroed  right_complementable  distributive non  empty doubleLoopStr holds (for B298 being (bag of (the carrier of B297)) holds (for B299 being (FinSequence of ( (the carrier of ( Polynom-Ring B297 )) * )) holds (for B300 being (FinSequence of B297) holds (for B301 being (Element of B297) holds ((( len B299 ) = ( card ( support B298 ) ) & B300 = ( canFS ( support B298 ) ) & (for B302 being (Element of ( NAT )) holds (B302 in ( dom B299 ) implies ( B299 . B302 ) = ( fpoly_mult_root (( B300 /. B302 ) , ( B298 . ( B300 /. B302 ) )) )))) implies ((B301 in ( support B298 ) implies ( card ( ( FlattenSeq B299 ) " { <% ( - B301 ) , ( 1. B297 ) %> } ) ) = ( B298 . B301 )) & ((not B301 in ( support B298 )) implies ( card ( ( FlattenSeq B299 ) " { <% ( - B301 ) , ( 1. B297 ) %> } ) ) = ( 0 )))))))))
proof
let C409 being  add-associative  right_zeroed  right_complementable  distributive non  empty doubleLoopStr;
let C410 being (bag of (the carrier of C409));
let C411 being (FinSequence of ( (the carrier of ( Polynom-Ring C409 )) * ));
let C412 being (FinSequence of C409);
let C413 being (Element of C409);
assume that
L1527: ( len C411 ) = ( card ( support C410 ) )
and
L1528: C412 = ( canFS ( support C410 ) )
and
L1529: (for B303 being (Element of ( NAT )) holds (B303 in ( dom C411 ) implies ( C411 . B303 ) = ( fpoly_mult_root (( C412 /. B303 ) , ( C410 . ( C412 /. B303 ) )) )));
L1530: ( len C411 ) = ( len C412 ) by L1527 , L1528 , L216;
L1531: ( dom C411 ) = ( dom C412 ) by L1530 , FINSEQ_3:29;
thus L1532:now
set D161 = { B304 where B304 is (Element of ( NAT )) : B304 < ( C410 . C413 ) };
set D162 = ( FlattenSeq C411 );
set D163 = ( D162 " { <% ( - C413 ) , ( 1. C409 ) %> } );
assume L1533: C413 in ( support C410 );
L1534: C413 in ( rng C412 ) by L1533 , L1528 , FUNCT_2:def 3;
consider C414 being Nat such that L1535: C414 in ( dom C412 ) and L1536: ( C412 . C414 ) = C413 by L1534 , FINSEQ_2:10;
defpred S15[ set , set ] means (ex B305 being (Element of ( NAT )) st (B305 = $1 & $2 = ( ( Sum ( Card ( C411 | ( C414 -' 1 ) ) ) ) + ( 1 + B305 ) )));
L1537: (for B306 being set holds (B306 in D161 implies (ex B307 being set st S15[ B306 , B307 ])))
proof
let C415 being set;
assume L1538: C415 in D161;
consider C416 being (Element of ( NAT )) such that L1539: C415 = C416 and L1540: C416 < ( C410 . C413 ) by L1538;
take ( ( Sum ( Card ( C411 | ( C414 -' 1 ) ) ) ) + ( 1 + C416 ) );
thus L1541: thesis by L1539;
end;
consider C417 being Function such that L1542: ( dom C417 ) = D161 and L1543: (for B308 being set holds (B308 in D161 implies S15[ B308 , ( C417 . B308 ) ])) from CLASSES1:sch 1(L1537);
L1544: ( C412 /. C414 ) = C413 by L1535 , L1536 , PARTFUN1:def 6;
L1545:
now
let C418 being set;
L1546: ( <% ( - C413 ) , ( 1. C409 ) %> . ( 0 ) ) = ( - C413 ) by POLYNOM5:38;
thus L1547:now
assume L1548: C418 in ( rng C417 );
consider C419 being set such that L1549: C419 in ( dom C417 ) and L1550: C418 = ( C417 . C419 ) by L1548 , FUNCT_1:def 3;
consider C420 being (Element of ( NAT )) such that L1551: C420 = C419 and L1552: ( C417 . C419 ) = ( ( Sum ( Card ( C411 | ( C414 -' 1 ) ) ) ) + ( 1 + C420 ) ) by L1542 , L1543 , L1549;
L1553: (ex B309 being (Element of ( NAT )) st (C419 = B309 & B309 < ( C410 . C413 ))) by L1542 , L1549;
L1554: (1 <= ( 1 + C420 ) & ( 1 + C420 ) <= ( C410 . C413 )) by L1553 , L1551 , NAT_1:12 , NAT_1:13;
L1555: ( C411 . C414 ) = ( fpoly_mult_root (( C412 /. C414 ) , ( C410 . ( C412 /. C414 ) )) ) by L1529 , L1531 , L1535;
L1556: ( len ( C411 . C414 ) ) = ( C410 . C413 ) by L1555 , L1544 , L1429;
L1557: ( 1 + C420 ) in ( dom ( C411 . C414 ) ) by L1556 , L1554 , FINSEQ_3:25;
L1558: ( ( C411 . C414 ) . ( 1 + C420 ) ) = <% ( - C413 ) , ( 1. C409 ) %> by L1557 , L1544 , L1555 , L1429;
L1559: ( ( C411 . C414 ) . ( 1 + C420 ) ) in { <% ( - C413 ) , ( 1. C409 ) %> } by L1558 , TARSKI:def 1;
L1560: (( ( Sum ( Card ( C411 | ( C414 -' 1 ) ) ) ) + ( 1 + C420 ) ) in ( dom D162 ) & ( ( C411 . C414 ) . ( 1 + C420 ) ) = ( D162 . ( ( Sum ( Card ( C411 | ( C414 -' 1 ) ) ) ) + ( 1 + C420 ) ) )) by L1531 , L1535 , L1557 , PRE_POLY:30;
thus L1561: C418 in D163 by L1560 , L1550 , L1552 , L1559 , FUNCT_1:def 7;
end;
assume L1562: C418 in D163;
reconsider D164 = C418 as (Element of ( NAT )) by L1562;
L1563: ( D162 . C418 ) in { <% ( - C413 ) , ( 1. C409 ) %> } by L1562 , FUNCT_1:def 7;
L1564: C418 in ( dom D162 ) by L1562 , FUNCT_1:def 7;
consider C421 , C422 being (Element of ( NAT )) such that L1565: C421 in ( dom C411 ) and L1566: C422 in ( dom ( C411 . C421 ) ) and L1567: D164 = ( ( Sum ( Card ( C411 | ( C421 -' 1 ) ) ) ) + C422 ) and L1568: ( ( C411 . C421 ) . C422 ) = ( D162 . D164 ) by L1564 , PRE_POLY:29;
L1569: ( C411 . C421 ) = ( fpoly_mult_root (( C412 /. C421 ) , ( C410 . ( C412 /. C421 ) )) ) by L1529 , L1565;
L1570: ( ( C411 . C421 ) . C422 ) = <% ( - ( C412 /. C421 ) ) , ( 1. C409 ) %> by L1569 , L1566 , L1429;
L1571: <% ( - C413 ) , ( 1. C409 ) %> = <% ( - ( C412 /. C421 ) ) , ( 1. C409 ) %> by L1570 , L1563 , L1568 , TARSKI:def 1;
L1572: C413 = ( C412 /. C421 ) by L1571 , L1546 , POLYNOM5:38 , RLVECT_1:18;
L1573: (C421 in ( dom C412 ) & ( C412 /. C421 ) = ( C412 . C421 )) by L1531 , L1565 , PARTFUN1:def 6;
L1574: C421 = C414 by L1573 , L1528 , L1535 , L1536 , L1572 , FUNCT_1:def 4;
consider C423 being Nat such that L1575: C422 = ( C423 + 1 ) by L1566 , FINSEQ_3:24 , NAT_1:6;
reconsider D165 = C423 as (Element of ( NAT )) by ORDINAL1:def 12;
L1576: ( len ( C411 . C421 ) ) = ( C410 . C413 ) by L1569 , L1572 , L1429;
L1577: C422 <= ( C410 . C413 ) by L1576 , L1566 , FINSEQ_3:25;
L1578: D165 < ( C410 . C413 ) by L1577 , L1575 , NAT_1:13;
L1579: D165 in D161 by L1578;
L1580: (ex B310 being (Element of ( NAT )) st (B310 = D165 & ( C417 . D165 ) = ( ( Sum ( Card ( C411 | ( C414 -' 1 ) ) ) ) + ( 1 + B310 ) ))) by L1579 , L1543;
thus L1581: C418 in ( rng C417 ) by L1580 , L1542 , L1567 , L1575 , L1574 , L1579 , FUNCT_1:3;
end;
L1582: ( rng C417 ) = D163 by L1545 , TARSKI:1;
L1583: C417 is  one-to-one
proof
let C424 , C425 being set;
assume that
L1584: (C424 in ( dom C417 ) & C425 in ( dom C417 ))
and
L1585: ( C417 . C424 ) = ( C417 . C425 );
L1586: ((ex B311 being (Element of ( NAT )) st (B311 = C424 & ( C417 . C424 ) = ( ( Sum ( Card ( C411 | ( C414 -' 1 ) ) ) ) + ( 1 + B311 ) ))) & (ex B312 being (Element of ( NAT )) st (B312 = C425 & ( C417 . C425 ) = ( ( Sum ( Card ( C411 | ( C414 -' 1 ) ) ) ) + ( 1 + B312 ) )))) by L1542 , L1543 , L1584;
thus L1587: thesis by L1586 , L1585;
end;
L1588: (( C410 . C413 ) = { B313 where B313 is (Element of ( NAT )) : B313 < ( C410 . C413 ) } & D161 , D163 are_equipotent ) by L1583 , L1542 , L1582 , AXIOMS:4 , WELLORD2:def 4;
thus L1589: ( card ( ( FlattenSeq C411 ) " { <% ( - C413 ) , ( 1. C409 ) %> } ) ) = ( C410 . C413 ) by L1588 , CARD_1:def 2;
end;
assume that
L1590: (not C413 in ( support C410 ))
and
L1591: ( card ( ( FlattenSeq C411 ) " { <% ( - C413 ) , ( 1. C409 ) %> } ) ) <> ( 0 );
consider C426 being set such that L1592: C426 in ( ( FlattenSeq C411 ) " { <% ( - C413 ) , ( 1. C409 ) %> } ) by L1591 , CARD_1:27 , XBOOLE_0:def 1;
L1593: C426 in ( dom ( FlattenSeq C411 ) ) by L1592 , FUNCT_1:def 7;
reconsider D166 = C426 as (Element of ( NAT )) by L1592;
consider C427 , C428 being (Element of ( NAT )) such that L1594: C427 in ( dom C411 ) and L1595: C428 in ( dom ( C411 . C427 ) ) and L1596: D166 = ( ( Sum ( Card ( C411 | ( C427 -' 1 ) ) ) ) + C428 ) and L1597: ( ( C411 . C427 ) . C428 ) = ( ( FlattenSeq C411 ) . D166 ) by L1593 , PRE_POLY:29;
L1598: (( C412 /. C427 ) = ( C412 . C427 ) & ( C412 . C427 ) in ( rng C412 )) by L1531 , L1594 , FUNCT_1:3 , PARTFUN1:def 6;
L1599: ( ( FlattenSeq C411 ) . D166 ) in { <% ( - C413 ) , ( 1. C409 ) %> } by L1592 , FUNCT_1:def 7;
L1600: ( ( FlattenSeq C411 ) . D166 ) = <% ( - C413 ) , ( 1. C409 ) %> by L1599 , TARSKI:def 1;
L1601: ( C411 . C427 ) = ( fpoly_mult_root (( C412 /. C427 ) , ( C410 . ( C412 /. C427 ) )) ) by L1529 , L1594;
L1602: ( ( C411 . C427 ) . C428 ) = <% ( - ( C412 /. C427 ) ) , ( 1. C409 ) %> by L1601 , L1595 , L1429;
L1603: ( <% ( - C413 ) , ( 1. C409 ) %> . ( 0 ) ) = ( - C413 ) by POLYNOM5:38;
L1604: C413 = ( C412 /. C427 ) by L1603 , L1597 , L1600 , L1602 , POLYNOM5:38 , RLVECT_1:18;
thus L1605: contradiction by L1604 , L1528 , L1590 , L1598 , FUNCT_2:def 3;
end;
theorem
L1606: (for B314 being comRing holds (for B315 , B316 being (bag of (the carrier of B314)) holds ( poly_with_roots ( B315 + B316 ) ) = ( ( poly_with_roots B315 ) *' ( poly_with_roots B316 ) )))
proof
let C429 being comRing;
let C430 , C431 being (bag of (the carrier of C429));
set D167 = ( C430 + C431 );
L1607: ( support D167 ) = ( ( support C430 ) \/ ( support C431 ) ) by PRE_POLY:38;
consider C432 being (FinSequence of ( (the carrier of ( Polynom-Ring C429 )) * )), C433 being (FinSequence of C429) such that L1608: ( len C432 ) = ( card ( support C431 ) ) and L1609: C433 = ( canFS ( support C431 ) ) and L1610: (for B317 being (Element of ( NAT )) holds (B317 in ( dom C432 ) implies ( C432 . B317 ) = ( fpoly_mult_root (( C433 /. B317 ) , ( C431 . ( C433 /. B317 ) )) ))) and L1611: ( poly_with_roots C431 ) = ( Product ( FlattenSeq C432 ) ) by L1445;
consider C434 being (FinSequence of ( (the carrier of ( Polynom-Ring C429 )) * )), C435 being (FinSequence of C429) such that L1612: ( len C434 ) = ( card ( support C430 ) ) and L1613: C435 = ( canFS ( support C430 ) ) and L1614: (for B318 being (Element of ( NAT )) holds (B318 in ( dom C434 ) implies ( C434 . B318 ) = ( fpoly_mult_root (( C435 /. B318 ) , ( C430 . ( C435 /. B318 ) )) ))) and L1615: ( poly_with_roots C430 ) = ( Product ( FlattenSeq C434 ) ) by L1445;
consider C436 being (FinSequence of ( (the carrier of ( Polynom-Ring C429 )) * )), C437 being (FinSequence of C429) such that L1616: ( len C436 ) = ( card ( support D167 ) ) and L1617: C437 = ( canFS ( support D167 ) ) and L1618: (for B319 being (Element of ( NAT )) holds (B319 in ( dom C436 ) implies ( C436 . B319 ) = ( fpoly_mult_root (( C437 /. B319 ) , ( D167 . ( C437 /. B319 ) )) ))) and L1619: ( poly_with_roots ( C430 + C431 ) ) = ( Product ( FlattenSeq C436 ) ) by L1445;
set D168 = ( FlattenSeq C436 );
set D169 = ( FlattenSeq C434 );
set D170 = ( FlattenSeq C432 );
L1620: ( len D168 ) = ( degree D167 ) by L1616 , L1617 , L1618 , L1503;
L1621: ( len D170 ) = ( degree C431 ) by L1608 , L1609 , L1610 , L1503;
set D171 = ( ( FlattenSeq C434 ) ^ ( FlattenSeq C432 ) );
L1622: ( len D171 ) = ( ( len D169 ) + ( len D170 ) ) by FINSEQ_1:22
.= ( ( degree C430 ) + ( degree C431 ) ) by L1612 , L1613 , L1614 , L1621 , L1503
.= ( degree D167 ) by L665;
L1623: ( dom D168 ) = ( dom D171 ) by L1622 , L1620 , FINSEQ_3:29;
L1624: ( len C437 ) = ( card ( support D167 ) ) by L1617 , L216;
L1625:
now
let C438 being set;
per cases ;
suppose L1626: C438 in ( rng D168 );

consider C439 being Nat such that L1627: C439 in ( dom D168 ) and L1628: ( D168 . C439 ) = C438 by L1626 , FINSEQ_2:10;
consider C440 , C441 being (Element of ( NAT )) such that L1629: C440 in ( dom C436 ) and L1630: C441 in ( dom ( C436 . C440 ) ) and L1631: C439 = ( ( Sum ( Card ( C436 | ( C440 -' 1 ) ) ) ) + C441 ) and L1632: ( ( C436 . C440 ) . C441 ) = ( D168 . C439 ) by L1627 , PRE_POLY:29;
L1633: ( C436 . C440 ) = ( fpoly_mult_root (( C437 /. C440 ) , ( D167 . ( C437 /. C440 ) )) ) by L1618 , L1629;
L1634: ( ( C436 . C440 ) . C441 ) = <% ( - ( C437 /. C440 ) ) , ( 1. C429 ) %> by L1633 , L1630 , L1429;
L1635: C440 in ( dom C437 ) by L1616 , L1624 , L1629 , FINSEQ_3:29;
L1636: (( C437 . C440 ) = ( C437 /. C440 ) & ( C437 . C440 ) in ( rng C437 )) by L1635 , FUNCT_1:3 , PARTFUN1:def 6;
L1637: ( C437 /. C440 ) in ( support D167 ) by L1636 , L1617 , FUNCT_2:def 3;
L1638: ( card ( D171 " { C438 } ) ) = ( ( card ( D169 " { C438 } ) ) + ( card ( D170 " { C438 } ) ) ) by FINSEQ_3:57;
per cases  by L1607 , L1637 , XBOOLE_0:def 3;
suppose L1639: (( C437 /. C440 ) in ( support C430 ) & (not ( C437 /. C440 ) in ( support C431 )));

L1640: ( card ( D170 " { C438 } ) ) = ( 0 ) by L1639 , L1608 , L1609 , L1610 , L1628 , L1632 , L1634 , L1526;
thus L1641: ( card ( Coim (D168 , C438) ) ) = ( D167 . ( C437 /. C440 ) ) by L1616 , L1617 , L1618 , L1628 , L1632 , L1634 , L1637 , L1526
.= ( ( C430 . ( C437 /. C440 ) ) + ( C431 . ( C437 /. C440 ) ) ) by PRE_POLY:def 5
.= ( ( C430 . ( C437 /. C440 ) ) + (( 0 ) qua Nat) ) by L1639 , PRE_POLY:def 7
.= ( card ( Coim (D171 , C438) ) ) by L1612 , L1613 , L1614 , L1628 , L1632 , L1634 , L1638 , L1639 , L1640 , L1526;
end;
suppose L1642: ((not ( C437 /. C440 ) in ( support C430 )) & ( C437 /. C440 ) in ( support C431 ));

L1643: ( card ( D170 " { C438 } ) ) = ( C431 . ( C437 /. C440 ) ) by L1642 , L1608 , L1609 , L1610 , L1628 , L1632 , L1634 , L1526;
thus L1644: ( card ( Coim (D168 , C438) ) ) = ( D167 . ( C437 /. C440 ) ) by L1616 , L1617 , L1618 , L1628 , L1632 , L1634 , L1637 , L1526
.= ( ( C430 . ( C437 /. C440 ) ) + ( C431 . ( C437 /. C440 ) ) ) by PRE_POLY:def 5
.= ( (( 0 ) qua Nat) + ( C431 . ( C437 /. C440 ) ) ) by L1642 , PRE_POLY:def 7
.= ( card ( Coim (D171 , C438) ) ) by L1612 , L1613 , L1614 , L1628 , L1632 , L1634 , L1638 , L1642 , L1643 , L1526;
end;
suppose L1645: (( C437 /. C440 ) in ( support C430 ) & ( C437 /. C440 ) in ( support C431 ));

L1646: ( card ( D170 " { C438 } ) ) = ( C431 . ( C437 /. C440 ) ) by L1645 , L1608 , L1609 , L1610 , L1628 , L1632 , L1634 , L1526;
thus L1647: ( card ( Coim (D168 , C438) ) ) = ( D167 . ( C437 /. C440 ) ) by L1616 , L1617 , L1618 , L1628 , L1632 , L1634 , L1637 , L1526
.= ( ( C430 . ( C437 /. C440 ) ) + ( C431 . ( C437 /. C440 ) ) ) by PRE_POLY:def 5
.= ( card ( Coim (D171 , C438) ) ) by L1612 , L1613 , L1614 , L1628 , L1632 , L1634 , L1638 , L1645 , L1646 , L1526;
end;
end;
suppose L1649: (not C438 in ( rng D168 ));

L1650:
now
assume L1651: C438 in ( rng D171 );
L1652: C438 in ( ( rng D169 ) \/ ( rng D170 ) ) by L1651 , FINSEQ_1:31;
per cases  by L1652 , XBOOLE_0:def 3;
suppose L1653: C438 in ( rng D169 );

consider C442 being Nat such that L1654: C442 in ( dom D169 ) and L1655: ( D169 . C442 ) = C438 by L1653 , FINSEQ_2:10;
consider C443 , C444 being (Element of ( NAT )) such that L1656: C443 in ( dom C434 ) and L1657: C444 in ( dom ( C434 . C443 ) ) and L1658: C442 = ( ( Sum ( Card ( C434 | ( C443 -' 1 ) ) ) ) + C444 ) and L1659: ( ( C434 . C443 ) . C444 ) = ( D169 . C442 ) by L1654 , PRE_POLY:29;
L1660: ( C434 . C443 ) = ( fpoly_mult_root (( C435 /. C443 ) , ( C430 . ( C435 /. C443 ) )) ) by L1614 , L1656;
L1661: ( ( C434 . C443 ) . C444 ) = <% ( - ( C435 /. C443 ) ) , ( 1. C429 ) %> by L1660 , L1657 , L1429;
L1662: ( len C435 ) = ( card ( support C430 ) ) by L1613 , L216;
L1663: C443 in ( dom C435 ) by L1662 , L1612 , L1656 , FINSEQ_3:29;
L1664: (( C435 . C443 ) = ( C435 /. C443 ) & ( C435 . C443 ) in ( rng C435 )) by L1663 , FUNCT_1:3 , PARTFUN1:def 6;
L1665: ( C435 /. C443 ) in ( support C430 ) by L1664 , L1613 , FUNCT_2:def 3;
L1666: ( C435 /. C443 ) in ( support D167 ) by L1665 , L1607 , XBOOLE_0:def 3;
L1667: ( D167 . ( C435 /. C443 ) ) <> ( 0 ) by L1666 , PRE_POLY:def 7;
L1668: ( (( 0 ) qua Nat) + 1 ) <= ( D167 . ( C435 /. C443 ) ) by L1667 , NAT_1:13;
L1669: ( C435 /. C443 ) in ( rng C437 ) by L1617 , L1666 , FUNCT_2:def 3;
consider C445 being Nat such that L1670: C445 in ( dom C437 ) and L1671: ( C437 . C445 ) = ( C435 /. C443 ) by L1669 , FINSEQ_2:10;
L1672: ( C437 . C445 ) = ( C437 /. C445 ) by L1670 , PARTFUN1:def 6;
L1673: C445 in ( dom C436 ) by L1616 , L1624 , L1670 , FINSEQ_3:29;
L1674: ( C436 . C445 ) = ( fpoly_mult_root (( C437 /. C445 ) , ( D167 . ( C437 /. C445 ) )) ) by L1673 , L1618;
L1675: ( len ( C436 . C445 ) ) = ( D167 . ( C437 /. C445 ) ) by L1674 , L1429;
L1676: 1 in ( dom ( C436 . C445 ) ) by L1675 , L1671 , L1672 , L1668 , FINSEQ_3:25;
L1677: (( ( Sum ( Card ( C436 | ( C445 -' 1 ) ) ) ) + 1 ) in ( dom D168 ) & ( ( C436 . C445 ) . 1 ) = ( D168 . ( ( Sum ( Card ( C436 | ( C445 -' 1 ) ) ) ) + 1 ) )) by L1676 , L1673 , PRE_POLY:30;
L1678: ( ( C436 . C445 ) . 1 ) in ( rng D168 ) by L1677 , FUNCT_1:3;
thus L1679: contradiction by L1678 , L1649 , L1655 , L1659 , L1661 , L1671 , L1674 , L1672 , L1676 , L1429;
end;
suppose L1680: C438 in ( rng D170 );

consider C446 being Nat such that L1681: C446 in ( dom D170 ) and L1682: ( D170 . C446 ) = C438 by L1680 , FINSEQ_2:10;
consider C447 , C448 being (Element of ( NAT )) such that L1683: C447 in ( dom C432 ) and L1684: C448 in ( dom ( C432 . C447 ) ) and L1685: C446 = ( ( Sum ( Card ( C432 | ( C447 -' 1 ) ) ) ) + C448 ) and L1686: ( ( C432 . C447 ) . C448 ) = ( D170 . C446 ) by L1681 , PRE_POLY:29;
L1687: ( C432 . C447 ) = ( fpoly_mult_root (( C433 /. C447 ) , ( C431 . ( C433 /. C447 ) )) ) by L1610 , L1683;
L1688: ( ( C432 . C447 ) . C448 ) = <% ( - ( C433 /. C447 ) ) , ( 1. C429 ) %> by L1687 , L1684 , L1429;
L1689: ( len C433 ) = ( card ( support C431 ) ) by L1609 , L216;
L1690: C447 in ( dom C433 ) by L1689 , L1608 , L1683 , FINSEQ_3:29;
L1691: (( C433 . C447 ) = ( C433 /. C447 ) & ( C433 . C447 ) in ( rng C433 )) by L1690 , FUNCT_1:3 , PARTFUN1:def 6;
L1692: ( C433 /. C447 ) in ( support C431 ) by L1691 , L1609 , FUNCT_2:def 3;
L1693: ( C433 /. C447 ) in ( support D167 ) by L1692 , L1607 , XBOOLE_0:def 3;
L1694: ( D167 . ( C433 /. C447 ) ) <> ( 0 ) by L1693 , PRE_POLY:def 7;
L1695: ( (( 0 ) qua Nat) + 1 ) <= ( D167 . ( C433 /. C447 ) ) by L1694 , NAT_1:13;
L1696: ( C433 /. C447 ) in ( rng C437 ) by L1617 , L1693 , FUNCT_2:def 3;
consider C449 being Nat such that L1697: C449 in ( dom C437 ) and L1698: ( C437 . C449 ) = ( C433 /. C447 ) by L1696 , FINSEQ_2:10;
L1699: ( C437 . C449 ) = ( C437 /. C449 ) by L1697 , PARTFUN1:def 6;
L1700: C449 in ( dom C436 ) by L1616 , L1624 , L1697 , FINSEQ_3:29;
L1701: ( C436 . C449 ) = ( fpoly_mult_root (( C437 /. C449 ) , ( D167 . ( C437 /. C449 ) )) ) by L1700 , L1618;
L1702: ( len ( C436 . C449 ) ) = ( D167 . ( C437 /. C449 ) ) by L1701 , L1429;
L1703: 1 in ( dom ( C436 . C449 ) ) by L1702 , L1698 , L1699 , L1695 , FINSEQ_3:25;
L1704: (( ( Sum ( Card ( C436 | ( C449 -' 1 ) ) ) ) + 1 ) in ( dom D168 ) & ( ( C436 . C449 ) . 1 ) = ( D168 . ( ( Sum ( Card ( C436 | ( C449 -' 1 ) ) ) ) + 1 ) )) by L1703 , L1700 , PRE_POLY:30;
L1705: ( ( C436 . C449 ) . 1 ) in ( rng D168 ) by L1704 , FUNCT_1:3;
thus L1706: contradiction by L1705 , L1649 , L1682 , L1686 , L1688 , L1698 , L1701 , L1699 , L1703 , L1429;
end;
end;
L1708: ( D171 " { C438 } ) = ( {} ) by L1650 , FUNCT_1:72;
thus L1709: ( card ( Coim (D168 , C438) ) ) = ( card ( Coim (D171 , C438) ) ) by L1708 , L1649 , FUNCT_1:72;
end;
end;
L1711: D168 , D171 are_fiberwise_equipotent  by L1625 , CLASSES1:def 9;
L1712: (ex B320 being (Permutation of ( dom ( FlattenSeq C436 ) )) st ( FlattenSeq C436 ) = ( ( ( FlattenSeq C434 ) ^ ( FlattenSeq C432 ) ) * B320 )) by L1711 , L1623 , RFINSEQ:4;
thus L1713: ( poly_with_roots ( C430 + C431 ) ) = ( Product ( ( FlattenSeq C434 ) ^ ( FlattenSeq C432 ) ) ) by L1712 , L1619 , L1623 , L692
.= ( ( Product ( FlattenSeq C434 ) ) * ( Product ( FlattenSeq C432 ) ) ) by GROUP_4:5
.= ( ( poly_with_roots C430 ) *' ( poly_with_roots C431 ) ) by L1615 , L1611 , POLYNOM3:def 10;
end;
theorem
L1714: (for B321 being  algebraic-closed domRing holds (for B322 being  non-zero (Polynomial of B321) holds (( B322 . ( ( len B322 ) -' 1 ) ) = ( 1. B321 ) implies B322 = ( poly_with_roots ( BRoots B322 ) ))))
proof
let C450 being  algebraic-closed domRing;
let C451 being  non-zero (Polynomial of C450);
assume L1715: ( C451 . ( ( len C451 ) -' 1 ) ) = ( 1. C450 );
defpred S16[ Nat ] means (for B323 being  non-zero (Polynomial of C450) holds ((( len B323 ) = $1 & $1 >= 1 & ( B323 . ( ( len B323 ) -' 1 ) ) = ( 1. C450 )) implies B323 = ( poly_with_roots ( BRoots B323 ) )));
L1716: ( len C451 ) > ( 0 ) by L698;
L1717: ( len C451 ) >= ( (( 0 ) qua Nat) + 1 ) by L1716 , NAT_1:13;
L1718: (for B324 being Nat holds ((B324 >= 1 & S16[ B324 ]) implies S16[ ( B324 + 1 ) ]))
proof
let C452 being Nat;
assume that
L1719: C452 >= 1
and
L1720: S16[ C452 ];
let C453 being  non-zero (Polynomial of C450);
assume that
L1721: ( len C453 ) = ( C452 + 1 )
and
L1722: ( C452 + 1 ) >= 1
and
L1723: ( C453 . ( ( len C453 ) -' 1 ) ) = ( 1. C450 );
L1724: ( C452 + 1 ) > 1 by L1719 , NAT_1:13;
L1725: C453 is  with_roots by L1724 , L1721 , POLYNOM5:def 8;
consider C454 being (Element of C450) such that L1726: C454 is_a_root_of C453 by L1725 , POLYNOM5:def 7;
set D172 = <% ( - C454 ) , ( 1. C450 ) %>;
set D173 = ( poly_quotient (C453 , C454) );
L1727: C453 = ( D172 *' D173 ) by L1726 , L1156;
reconsider D174 = D173 as  non-zero (Polynomial of C450) by L1727 , L899;
L1728: ( len D172 ) = 2 by POLYNOM5:40;
L1729: ( D172 . ( ( len D172 ) -' 1 ) ) <> ( 0. C450 ) by L1728 , L715;
L1730: ( len D174 ) > ( 0 ) by L698;
L1731: ( D174 . ( ( len D174 ) -' 1 ) ) <> ( 0. C450 ) by L1730 , L715;
L1732: ( ( D172 . ( ( len D172 ) -' 1 ) ) * ( D174 . ( ( len D174 ) -' 1 ) ) ) <> ( 0. C450 ) by L1731 , L1729 , VECTSP_2:def 1;
L1733: ( len C453 ) = ( ( ( len D174 ) + ( 1 + 1 ) ) - 1 ) by L1732 , L1727 , L1728 , POLYNOM4:10;
L1734: ( D174 . ( ( len D174 ) -' 1 ) ) = ( 1. C450 ) by L1723 , L1727 , L981;
L1735: D174 = ( poly_with_roots ( BRoots D174 ) ) by L1734 , L1719 , L1720 , L1721 , L1733;
L1736: ( poly_with_roots ( ({ C454 } , 1) -bag ) ) = <% ( - C454 ) , ( 1. C450 ) %> by L1481;
L1737: ( BRoots D172 ) = ( ({ C454 } , 1) -bag ) by L1330;
L1738: ( BRoots C453 ) = ( ( ({ C454 } , 1) -bag ) + ( BRoots D174 ) ) by L1737 , L1727 , L1395;
thus L1739: thesis by L1738 , L1727 , L1735 , L1736 , L1606;
end;
L1740: S16[ 1 ]
proof
let C455 being  non-zero (Polynomial of C450);
assume that
L1741: ( len C455 ) = 1
and
L1742: 1 >= 1
and
L1743: ( C455 . ( ( len C455 ) -' 1 ) ) = ( 1. C450 );
L1744: ( degree ( BRoots C455 ) ) = ( 0 ) by L1741 , L1403;
L1745: ( BRoots C455 ) = ( EmptyBag (the carrier of C450) ) by L1744 , L348;
L1746: ( ( len C455 ) -' 1 ) = ( 0 ) by L1741 , XREAL_1:232;
thus L1747: C455 = <% ( 1. C450 ) %> by L1746 , L1741 , L1743 , ALGSEQ_1:def 5
.= ( poly_with_roots ( BRoots C455 ) ) by L1745 , L1472;
end;
L1748: (for B325 being Nat holds (B325 >= 1 implies S16[ B325 ])) from NAT_1:sch 8(L1740 , L1718);
thus L1749: thesis by L1748 , L1715 , L1717;
end;
theorem
L1750: (for B326 being comRing holds (for B327 being non  empty  finite (Subset of B326) holds (for B328 being (FinSequence of ( Polynom-Ring B326 )) holds ((( len B328 ) = ( card B327 ) & (for B329 being (Element of ( NAT )) holds (for B330 being (Element of B326) holds ((B329 in ( dom B328 ) & B330 = ( ( canFS B327 ) . B329 )) implies ( B328 . B329 ) = <% ( - B330 ) , ( 1. B326 ) %>)))) implies ( poly_with_roots ( (B327 , 1) -bag ) ) = ( Product B328 )))))
proof
let C456 being comRing;
set D175 = (the carrier of C456);
set D176 = (the carrier of ( Polynom-Ring C456 ));
let C457 being non  empty  finite (Subset of D175);
let C458 being (FinSequence of D176);
assume that
L1751: ( len C458 ) = ( card C457 )
and
L1752: (for B331 being (Element of ( NAT )) holds (for B332 being (Element of D175) holds ((B331 in ( dom C458 ) & B332 = ( ( canFS C457 ) . B331 )) implies ( C458 . B331 ) = <% ( - B332 ) , ( 1. C456 ) %>)));
set D177 = ( canFS C457 );
L1753: ( rng D177 ) = C457 by FUNCT_2:def 3;
defpred S17[ (Element of ( NAT )) ] means (ex B333 being  finite (Subset of D175) st (ex B334 being (FinSequence of D176) st (B333 = ( rng ( D177 | ( Seg $1 ) ) ) & B334 = ( C458 | ( Seg $1 ) ) & ( poly_with_roots ( (B333 , 1) -bag ) ) = ( Product B334 ))));
L1754: ( len D177 ) = ( card C457 ) by L216;
L1755: ( dom C458 ) = ( dom D177 ) by L1754 , L1751 , FINSEQ_3:29;
L1756: (for B335 being (Element of ( NAT )) holds ((1 <= B335 & B335 < ( len C458 )) implies (S17[ B335 ] implies S17[ ( B335 + 1 ) ])))
proof
let C459 being (Element of ( NAT ));
assume that
L1757: 1 <= C459
and
L1758: C459 < ( len C458 );
reconsider D178 = ( C458 | ( Seg ( C459 + 1 ) ) ) as (FinSequence of D176) by FINSEQ_1:18;
L1759: ( C459 + 1 ) <= ( len C458 ) by L1758 , NAT_1:13;
L1760: (ex B336 being Nat st ( len C458 ) = ( ( C459 + 1 ) + B336 )) by L1759 , NAT_1:10;
L1761: ( len D178 ) = ( C459 + 1 ) by L1760 , FINSEQ_3:53;
L1762: 1 <= ( C459 + 1 ) by L1757 , NAT_1:13;
L1763: ( C459 + 1 ) in ( dom D177 ) by L1762 , L1751 , L1754 , L1759 , FINSEQ_3:25;
L1764: ( D177 . ( C459 + 1 ) ) in C457 by L1763 , FINSEQ_2:11;
reconsider D179 = ( D177 . ( C459 + 1 ) ) as (Element of D175) by L1764;
L1765: ( D178 . ( C459 + 1 ) ) = ( C458 . ( C459 + 1 ) ) by FINSEQ_1:4 , FUNCT_1:49
.= <% ( - D179 ) , ( 1. C456 ) %> by L1752 , L1755 , L1763;
reconsider D180 = ( D177 | ( Seg ( C459 + 1 ) ) ) as (FinSequence of C457) by FINSEQ_1:18;
reconsider D181 = ( D177 | ( Seg C459 ) ) as (FinSequence of C457) by FINSEQ_1:18;
given C460 being  finite (Subset of D175) , C461 being (FinSequence of D176) such that
L1766: C460 = ( rng ( D177 | ( Seg C459 ) ) )
and
L1767: C461 = ( C458 | ( Seg C459 ) )
and
L1768: ( poly_with_roots ( (C460 , 1) -bag ) ) = ( Product C461 );

L1769: C459 <= ( C459 + 1 ) by NAT_1:12;
L1770: ( Seg C459 ) c= ( Seg ( C459 + 1 ) ) by L1769 , FINSEQ_1:5;
L1771: C461 = ( D178 | ( Seg C459 ) ) by L1770 , L1767 , RELAT_1:74;
L1772: D178 = ( C461 ^ <* <% ( - D179 ) , ( 1. C456 ) %> *> ) by L1771 , L1761 , L1765 , FINSEQ_3:55;
reconsider D182 = ( poly_with_roots ( (C460 , 1) -bag ) ) as (Polynomial of C456);
set D183 = ( rng D180 );
L1773: ( Seg ( C459 + 1 ) ) = ( ( Seg C459 ) \/ { ( C459 + 1 ) } ) by FINSEQ_1:9;
L1774: D180 = ( D181 \/ ( D177 | { ( C459 + 1 ) } ) ) by L1773 , RELAT_1:78;
L1775: ( D177 | { ( C459 + 1 ) } ) = ( ( C459 + 1 ) .--> D179 ) by L1763 , FUNCT_7:6;
L1776: ( rng ( D177 | { ( C459 + 1 ) } ) ) = { D179 } by L1775 , FUNCOP_1:8;
L1777: D183 = ( C460 \/ { D179 } ) by L1776 , L1766 , L1774 , RELAT_1:12;
reconsider D184 = <% ( - D179 ) , ( 1. C456 ) %> as (Element of D176) by POLYNOM3:def 10;
reconsider D185 = ( poly_with_roots ( ({ D179 } , 1) -bag ) ) as (Polynomial of C456);
L1778: D185 = D184 by L1481;
reconsider D186 = D183 as  finite (Subset of D175) by L1777;
take D186;
take D178;
thus L1779: (D186 = ( rng ( D177 | ( Seg ( C459 + 1 ) ) ) ) & D178 = ( C458 | ( Seg ( C459 + 1 ) ) ));
L1780: C460 misses { D179 }
proof
assume L1781: (not thesis);
L1782: ( C460 /\ { D179 } ) <> ( {} ) by L1781 , XBOOLE_0:def 7;
consider C462 being set such that L1783: C462 in ( C460 /\ { D179 } ) by L1782 , XBOOLE_0:def 1;
L1784: C462 in { D179 } by L1783 , XBOOLE_0:def 4;
L1785: C462 = D179 by L1784 , TARSKI:def 1;
L1786: C462 in C460 by L1783 , XBOOLE_0:def 4;
consider C463 being set such that L1787: C463 in ( dom ( D177 | ( Seg C459 ) ) ) and L1788: C462 = ( ( D177 | ( Seg C459 ) ) . C463 ) by L1786 , L1766 , FUNCT_1:def 3;
L1789: C463 in ( Seg C459 ) by L1787 , RELAT_1:57;
reconsider D187 = C463 as (Element of ( NAT )) by L1787;
L1790: 1 <= D187 by L1789 , FINSEQ_1:1;
L1791: D187 <= C459 by L1789 , FINSEQ_1:1;
L1792: D187 < ( C459 + 1 ) by L1791 , NAT_1:13;
L1793: C462 = ( D177 . D187 ) by L1787 , L1788 , FUNCT_1:47;
thus L1794: contradiction by L1793 , L1751 , L1754 , L1753 , L1759 , L1785 , L1790 , L1792 , GRAPH_5:7;
end;
L1795: ( (D186 , 1) -bag ) = ( ( (C460 , 1) -bag ) + ( ({ D179 } , 1) -bag ) ) by L1780 , L1777 , L287;
thus L1796: ( poly_with_roots ( (D186 , 1) -bag ) ) = ( D182 *' D185 ) by L1795 , L1606
.= ( ( Product C461 ) * D184 ) by L1768 , L1778 , POLYNOM3:def 10
.= ( Product D178 ) by L1772 , GROUP_4:6;
end;
L1797: ( C458 | ( Seg ( len C458 ) ) ) is FinSequence by FINSEQ_1:18;
L1798: (( D177 | ( Seg ( len C458 ) ) ) is FinSequence & ( C458 | ( Seg ( len C458 ) ) ) = C458) by L1797 , FINSEQ_1:18 , FINSEQ_2:20;
L1799: ( (( 0 ) qua Nat) + 1 ) <= ( len C458 ) by L1751 , NAT_1:13;
L1800: S17[ 1 ]
proof
L1801: 1 in ( dom D177 ) by L1751 , L1754 , L1799 , FINSEQ_3:25;
reconsider D188 = ( D177 . 1 ) as (Element of C457) by L1801 , FINSEQ_2:11;
reconsider D189 = ( C458 | ( Seg 1 ) ) as (FinSequence of D176) by FINSEQ_1:18;
reconsider D190 = ( D177 | ( Seg 1 ) ) as (FinSequence of C457) by FINSEQ_1:18;
L1802: D188 in D175;
L1803: 1 in ( Seg 1 ) by FINSEQ_1:1;
L1804: ( D190 . 1 ) = D188 by L1803 , FUNCT_1:49;
reconsider D191 = ( D177 . 1 ) as (Element of D175) by L1802;
reconsider D192 = { D191 } as  finite (Subset of D175);
take D192;
take D189;
consider C464 being (Element of C457) such that L1805: D190 = <* C464 *> by L1751 , L1754 , L1799 , TREES_9:34;
L1806: ( D190 . 1 ) = C464 by L1805 , FINSEQ_1:40;
thus L1807: (D192 = ( rng ( D177 | ( Seg 1 ) ) ) & D189 = ( C458 | ( Seg 1 ) )) by L1806 , L1805 , L1804 , FINSEQ_1:39;
consider C465 being (Element of D176) such that L1808: D189 = <* C465 *> by L1799 , TREES_9:34;
L1809: (( D189 . 1 ) = C465 & ( Product D189 ) = C465) by L1808 , FINSEQ_1:40 , FINSOP_1:11;
L1810: 1 in ( dom C458 ) by L1799 , FINSEQ_3:25;
reconsider D193 = ( C458 . 1 ) as (Element of D176) by L1810 , FINSEQ_2:11;
L1811: ( D189 . 1 ) = D193 by L1803 , FUNCT_1:49;
L1812: D193 = <% ( - D191 ) , ( 1. C456 ) %> by L1752 , L1810;
thus L1813: thesis by L1812 , L1811 , L1809 , L1481;
end;
L1814: (for B337 being (Element of ( NAT )) holds ((1 <= B337 & B337 <= ( len C458 )) implies S17[ B337 ])) from INT_1:sch 7(L1800 , L1756);
L1815: (ex B338 being  finite (Subset of D175) st (ex B339 being (FinSequence of D176) st (B338 = ( rng ( D177 | ( Seg ( len C458 ) ) ) ) & B339 = ( C458 | ( Seg ( len C458 ) ) ) & ( poly_with_roots ( (B338 , 1) -bag ) ) = ( Product B339 )))) by L1814 , L1799;
thus L1816: thesis by L1815 , L1751 , L1754 , L1798 , L1753 , FINSEQ_2:20;
end;
theorem
L1817: (for B340 being non  trivial comRing holds (for B341 being non  empty  finite (Subset of B340) holds (for B342 being (Element of B340) holds (for B343 being (FinSequence of B340) holds ((( len B343 ) = ( card B341 ) & (for B344 being (Element of ( NAT )) holds (for B345 being (Element of B340) holds ((B344 in ( dom B343 ) & B345 = ( ( canFS B341 ) . B344 )) implies ( B343 . B344 ) = ( eval (<% ( - B345 ) , ( 1. B340 ) %> , B342) ))))) implies ( eval (( poly_with_roots ( (B341 , 1) -bag ) ) , B342) ) = ( Product B343 ))))))
proof
let C466 being non  trivial comRing;
set D194 = (the carrier of C466);
let C467 being non  empty  finite (Subset of D194);
let C468 being (Element of D194);
let C469 being (FinSequence of C466);
assume that
L1818: ( len C469 ) = ( card C467 )
and
L1819: (for B346 being (Element of ( NAT )) holds (for B347 being (Element of D194) holds ((B346 in ( dom C469 ) & B347 = ( ( canFS C467 ) . B346 )) implies ( C469 . B346 ) = ( eval (<% ( - B347 ) , ( 1. C466 ) %> , C468) ))));
set D195 = ( canFS C467 );
L1820: ( rng D195 ) = C467 by FUNCT_2:def 3;
defpred S18[ (Element of ( NAT )) ] means (ex B348 being  finite (Subset of D194) st (ex B349 being (FinSequence of D194) st (B348 = ( rng ( D195 | ( Seg $1 ) ) ) & B349 = ( C469 | ( Seg $1 ) ) & ( eval (( poly_with_roots ( (B348 , 1) -bag ) ) , C468) ) = ( Product B349 ))));
L1821: ( len D195 ) = ( card C467 ) by L216;
L1822: ( dom C469 ) = ( dom D195 ) by L1821 , L1818 , FINSEQ_3:29;
L1823: (for B350 being (Element of ( NAT )) holds ((1 <= B350 & B350 < ( len C469 )) implies (S18[ B350 ] implies S18[ ( B350 + 1 ) ])))
proof
let C470 being (Element of ( NAT ));
assume that
L1824: 1 <= C470
and
L1825: C470 < ( len C469 );
reconsider D196 = ( C469 | ( Seg ( C470 + 1 ) ) ) as (FinSequence of D194) by FINSEQ_1:18;
L1826: ( C470 + 1 ) <= ( len C469 ) by L1825 , NAT_1:13;
L1827: (ex B351 being Nat st ( len C469 ) = ( ( C470 + 1 ) + B351 )) by L1826 , NAT_1:10;
L1828: ( len D196 ) = ( C470 + 1 ) by L1827 , FINSEQ_3:53;
L1829: 1 <= ( C470 + 1 ) by L1824 , NAT_1:13;
L1830: ( C470 + 1 ) in ( dom D195 ) by L1829 , L1818 , L1821 , L1826 , FINSEQ_3:25;
L1831: ( D195 . ( C470 + 1 ) ) in C467 by L1830 , FINSEQ_2:11;
reconsider D197 = ( D195 . ( C470 + 1 ) ) as (Element of D194) by L1831;
L1832: ( D196 . ( C470 + 1 ) ) = ( C469 . ( C470 + 1 ) ) by FINSEQ_1:4 , FUNCT_1:49
.= ( eval (<% ( - D197 ) , ( 1. C466 ) %> , C468) ) by L1819 , L1822 , L1830;
reconsider D198 = ( D195 | ( Seg ( C470 + 1 ) ) ) as (FinSequence of C467) by FINSEQ_1:18;
reconsider D199 = ( D195 | ( Seg C470 ) ) as (FinSequence of C467) by FINSEQ_1:18;
given C471 being  finite (Subset of D194) , C472 being (FinSequence of D194) such that
L1833: C471 = ( rng ( D195 | ( Seg C470 ) ) )
and
L1834: C472 = ( C469 | ( Seg C470 ) )
and
L1835: ( eval (( poly_with_roots ( (C471 , 1) -bag ) ) , C468) ) = ( Product C472 );

L1836: C470 <= ( C470 + 1 ) by NAT_1:12;
L1837: ( Seg C470 ) c= ( Seg ( C470 + 1 ) ) by L1836 , FINSEQ_1:5;
L1838: C472 = ( D196 | ( Seg C470 ) ) by L1837 , L1834 , RELAT_1:74;
L1839: D196 = ( C472 ^ <* ( eval (<% ( - D197 ) , ( 1. C466 ) %> , C468) ) *> ) by L1838 , L1828 , L1832 , FINSEQ_3:55;
reconsider D200 = ( poly_with_roots ( (C471 , 1) -bag ) ) as (Polynomial of C466);
set D201 = ( rng D198 );
L1840: ( Seg ( C470 + 1 ) ) = ( ( Seg C470 ) \/ { ( C470 + 1 ) } ) by FINSEQ_1:9;
L1841: D198 = ( D199 \/ ( D195 | { ( C470 + 1 ) } ) ) by L1840 , RELAT_1:78;
L1842: ( D195 | { ( C470 + 1 ) } ) = ( ( C470 + 1 ) .--> D197 ) by L1830 , FUNCT_7:6;
L1843: ( rng ( D195 | { ( C470 + 1 ) } ) ) = { D197 } by L1842 , FUNCOP_1:8;
L1844: D201 = ( C471 \/ { D197 } ) by L1843 , L1833 , L1841 , RELAT_1:12;
reconsider D202 = D201 as  finite (Subset of D194) by L1844;
take D202;
take D196;
thus L1845: (D202 = ( rng ( D195 | ( Seg ( C470 + 1 ) ) ) ) & D196 = ( C469 | ( Seg ( C470 + 1 ) ) ));
reconsider D203 = ( poly_with_roots ( ({ D197 } , 1) -bag ) ) as (Polynomial of C466);
L1846: D203 = <% ( - D197 ) , ( 1. C466 ) %> by L1481;
L1847: C471 misses { D197 }
proof
assume L1848: (not thesis);
L1849: ( C471 /\ { D197 } ) <> ( {} ) by L1848 , XBOOLE_0:def 7;
consider C473 being set such that L1850: C473 in ( C471 /\ { D197 } ) by L1849 , XBOOLE_0:def 1;
L1851: C473 in { D197 } by L1850 , XBOOLE_0:def 4;
L1852: C473 = D197 by L1851 , TARSKI:def 1;
L1853: C473 in C471 by L1850 , XBOOLE_0:def 4;
consider C474 being set such that L1854: C474 in ( dom ( D195 | ( Seg C470 ) ) ) and L1855: C473 = ( ( D195 | ( Seg C470 ) ) . C474 ) by L1853 , L1833 , FUNCT_1:def 3;
L1856: C474 in ( Seg C470 ) by L1854 , RELAT_1:57;
reconsider D204 = C474 as (Element of ( NAT )) by L1854;
L1857: 1 <= D204 by L1856 , FINSEQ_1:1;
L1858: D204 <= C470 by L1856 , FINSEQ_1:1;
L1859: D204 < ( C470 + 1 ) by L1858 , NAT_1:13;
L1860: C473 = ( D195 . D204 ) by L1854 , L1855 , FUNCT_1:47;
thus L1861: contradiction by L1860 , L1818 , L1821 , L1820 , L1826 , L1852 , L1857 , L1859 , GRAPH_5:7;
end;
L1862: ( (D202 , 1) -bag ) = ( ( (C471 , 1) -bag ) + ( ({ D197 } , 1) -bag ) ) by L1847 , L1844 , L287;
L1863: ( poly_with_roots ( (D202 , 1) -bag ) ) = ( D200 *' D203 ) by L1862 , L1606;
thus L1864: ( eval (( poly_with_roots ( (D202 , 1) -bag ) ) , C468) ) = ( ( Product C472 ) * ( eval (D203 , C468) ) ) by L1863 , L1835 , POLYNOM4:24
.= ( Product D196 ) by L1839 , L1846 , GROUP_4:6;
end;
L1865: ( C469 | ( Seg ( len C469 ) ) ) is FinSequence by FINSEQ_1:18;
L1866: (( D195 | ( Seg ( len C469 ) ) ) is FinSequence & ( C469 | ( Seg ( len C469 ) ) ) = C469) by L1865 , FINSEQ_1:18 , FINSEQ_2:20;
L1867: ( (( 0 ) qua Nat) + 1 ) <= ( len C469 ) by L1818 , NAT_1:13;
L1868: S18[ 1 ]
proof
L1869: 1 in ( dom D195 ) by L1818 , L1821 , L1867 , FINSEQ_3:25;
reconsider D205 = ( D195 . 1 ) as (Element of C467) by L1869 , FINSEQ_2:11;
reconsider D206 = ( C469 | ( Seg 1 ) ) as (FinSequence of D194) by FINSEQ_1:18;
reconsider D207 = ( D195 | ( Seg 1 ) ) as (FinSequence of C467) by FINSEQ_1:18;
L1870: D205 in D194;
L1871: 1 in ( Seg 1 ) by FINSEQ_1:1;
L1872: ( D207 . 1 ) = D205 by L1871 , FUNCT_1:49;
reconsider D208 = ( D195 . 1 ) as (Element of D194) by L1870;
reconsider D209 = { D208 } as  finite (Subset of D194);
take D209;
take D206;
consider C475 being (Element of C467) such that L1873: D207 = <* C475 *> by L1818 , L1821 , L1867 , TREES_9:34;
L1874: ( D207 . 1 ) = C475 by L1873 , FINSEQ_1:40;
thus L1875: (D209 = ( rng ( D195 | ( Seg 1 ) ) ) & D206 = ( C469 | ( Seg 1 ) )) by L1874 , L1873 , L1872 , FINSEQ_1:39;
consider C476 being (Element of D194) such that L1876: D206 = <* C476 *> by L1867 , TREES_9:34;
L1877: (( D206 . 1 ) = C476 & ( Product D206 ) = C476) by L1876 , FINSEQ_1:40 , FINSOP_1:11;
L1878: 1 in ( dom C469 ) by L1867 , FINSEQ_3:25;
reconsider D210 = ( C469 . 1 ) as (Element of D194) by L1878 , FINSEQ_2:11;
L1879: ( D206 . 1 ) = D210 by L1871 , FUNCT_1:49;
L1880: D210 = ( eval (<% ( - D208 ) , ( 1. C466 ) %> , C468) ) by L1819 , L1878;
thus L1881: thesis by L1880 , L1879 , L1877 , L1481;
end;
L1882: (for B352 being (Element of ( NAT )) holds ((1 <= B352 & B352 <= ( len C469 )) implies S18[ B352 ])) from INT_1:sch 7(L1868 , L1823);
L1883: (ex B353 being  finite (Subset of D194) st (ex B354 being (FinSequence of D194) st (B353 = ( rng ( D195 | ( Seg ( len C469 ) ) ) ) & B354 = ( C469 | ( Seg ( len C469 ) ) ) & ( eval (( poly_with_roots ( (B353 , 1) -bag ) ) , C468) ) = ( Product B354 )))) by L1882 , L1867;
thus L1884: thesis by L1883 , L1818 , L1821 , L1866 , L1820 , FINSEQ_2:20;
end;
