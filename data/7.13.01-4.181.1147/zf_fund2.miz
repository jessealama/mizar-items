:: Mostowski's Fundamental Operations - Part II
::  by Grzegorz Bancerek and Andrzej Kondracki
::
:: Received February 15, 1991
:: Copyright (c) 1991-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, ZF_LANG, XBOOLE_0, SUBSET_1, FUNCT_1, ARYTM_3, CARD_1,
      ZF_MODEL, TARSKI, ORDINAL1, BVFUNC_2, XBOOLEAN, ZFMISC_1, CLASSES2,
      ZF_REFLE, CARD_3, RELAT_1, ORDINAL2, ZF_LANG1, ZFMODEL1, XXREAL_0,
      REALSET1, ZF_FUND1, FUNCT_2, ORDINAL4, NAT_1, ZF_FUND2;
 notations TARSKI, XBOOLE_0, ENUMSET1, ZFMISC_1, SUBSET_1, CARD_1, NUMBERS,
      ORDINAL1, NAT_1, RELAT_1, FUNCT_1, RELSET_1, PARTFUN1, FUNCT_2, ZF_LANG,
      ZF_MODEL, ZFMODEL1, ORDINAL2, CARD_3, ZF_LANG1, CLASSES2, ORDINAL4,
      ZF_REFLE, ZF_FUND1, XXREAL_0;
 constructors PARTFUN1, WELLORD2, DOMAIN_1, XXREAL_0, XREAL_0, NAT_1, CLASSES1,
      ZFMODEL1, ZF_LANG1, ZF_REFLE, ZF_FUND1, ORDINAL4, RELSET_1, ZF_MODEL;
 registrations ORDINAL1, RELSET_1, FINSET_1, XREAL_0, CARD_1, CLASSES2,
      ZF_LANG, ORDINAL4, FUNCT_1, ZF_FUND1, ZF_LANG1;
 requirements NUMERALS, REAL, SUBSET, BOOLE, ARITHM;
 definitions TARSKI, ORDINAL1, XBOOLE_0;
 theorems TARSKI, NAT_1, ENUMSET1, FUNCT_1, FUNCT_2, ORDINAL1, ORDINAL2,
      CARD_1, ZF_MODEL, ZFMODEL1, ZFMODEL2, ZF_LANG1, CARD_3, ZF_REFLE,
      ZFREFLE1, CLASSES2, ZFMISC_1, ZF_FUND1, GRFUNC_1, RELAT_1, CLASSES1,
      RELSET_1, XBOOLE_0, XBOOLE_1, XREAL_1, FUNCT_7;
 schemes ZF_REFLE, NAT_1;

begin
definition
let R1 being ZF-formula;
let R2 being non  empty set;
let R9 being (Function of ( VAR ) , R2);
func Section (R1 , R9) -> (Subset of R2) equals 
:L1: { R5 where R5 is (Element of R2) : R2 , ( R9 / (( x. ( 0 ) ) , R5) ) |= R1 } if ( x. ( 0 ) ) in ( Free R1 ) otherwise ( {} );
coherence
proof
thus L2: (( x. ( 0 ) ) in ( Free R1 ) implies { B1 where B1 is (Element of R2) : R2 , ( R9 / (( x. ( 0 ) ) , B1) ) |= R1 } is (Subset of R2))
proof
set D1 = { B2 where B2 is (Element of R2) : R2 , ( R9 / (( x. ( 0 ) ) , B2) ) |= R1 };
assume L3: ( x. ( 0 ) ) in ( Free R1 );
L4: D1 c= R2
proof
let R15 being set;
assume L5: R15 in D1;
L6: (ex B3 being (Element of R2) st (R15 = B3 & R2 , ( R9 / (( x. ( 0 ) ) , B3) ) |= R1)) by L5;
thus L7: thesis by L6;
end;
thus L8: thesis by L4;
end;

thus L9: thesis by XBOOLE_1:2;
end;
consistency;
end;
definition
let R2 being non  empty set;
attr R2 is  predicatively_closed
means
:L11: (for R1 being ZF-formula holds (for R3 being non  empty set holds (for R12 being (Function of ( VAR ) , R3) holds (R3 in R2 implies ( Section (R1 , R12) ) in R2))));
end;
theorem
L13: (for R3 being non  empty set holds (for R4 being (Element of R3) holds (for R12 being (Function of ( VAR ) , R3) holds (R3 is  epsilon-transitive implies ( Section (( All (( x. 2 ) , ( ( ( x. 2 ) 'in' ( x. ( 0 ) ) ) => ( ( x. 2 ) 'in' ( x. 1 ) ) )) ) , ( R12 / (( x. 1 ) , R4) )) ) = ( R3 /\ ( bool R4 ) )))))
proof
let R3 being non  empty set;
let R4 being (Element of R3);
let R12 being (Function of ( VAR ) , R3);
set D2 = ( All (( x. 2 ) , ( ( ( x. 2 ) 'in' ( x. ( 0 ) ) ) => ( ( x. 2 ) 'in' ( x. 1 ) ) )) );
set D3 = ( R12 / (( x. 1 ) , R4) );
set D4 = ( Section (D2 , D3) );
L14: ( Free D2 ) = ( ( Free ( ( ( x. 2 ) 'in' ( x. ( 0 ) ) ) => ( ( x. 2 ) 'in' ( x. 1 ) ) ) ) \ { ( x. 2 ) } ) by ZF_LANG1:62
.= ( ( ( Free ( ( x. 2 ) 'in' ( x. ( 0 ) ) ) ) \/ ( Free ( ( x. 2 ) 'in' ( x. 1 ) ) ) ) \ { ( x. 2 ) } ) by ZF_LANG1:64
.= ( ( ( Free ( ( x. 2 ) 'in' ( x. ( 0 ) ) ) ) \/ { ( x. 2 ) , ( x. 1 ) } ) \ { ( x. 2 ) } ) by ZF_LANG1:59
.= ( ( { ( x. 2 ) , ( x. ( 0 ) ) } \/ { ( x. 2 ) , ( x. 1 ) } ) \ { ( x. 2 ) } ) by ZF_LANG1:59
.= ( ( { ( x. 2 ) , ( x. ( 0 ) ) } \ { ( x. 2 ) } ) \/ ( { ( x. 2 ) , ( x. 1 ) } \ { ( x. 2 ) } ) ) by XBOOLE_1:42
.= ( ( { ( x. 2 ) , ( x. ( 0 ) ) } \ { ( x. 2 ) } ) \/ { ( x. 1 ) } ) by ZFMISC_1:17 , ZF_LANG1:76
.= ( { ( x. ( 0 ) ) } \/ { ( x. 1 ) } ) by ZFMISC_1:17 , ZF_LANG1:76
.= { ( x. ( 0 ) ) , ( x. 1 ) } by ENUMSET1:1;
L15: ( x. ( 0 ) ) in ( Free D2 ) by L14 , TARSKI:def 2;
L16: D4 = { B4 where B4 is (Element of R3) : R3 , ( D3 / (( x. ( 0 ) ) , B4) ) |= D2 } by L15 , L1;
assume L17: (for R22 being set holds (R22 in R3 implies R22 c= R3));
thus L18: D4 c= ( R3 /\ ( bool R4 ) )
proof
let R15 being set;
assume L19: R15 in D4;
consider C1 being (Element of R3) such that L20: R15 = C1 and L21: R3 , ( D3 / (( x. ( 0 ) ) , C1) ) |= D2 by L19 , L16;
L22: C1 c= R3 by L17;
L23: C1 c= R4
proof
let R16 being set;
assume L24: R16 in C1;
reconsider D5 = R16 as (Element of R3) by L24 , L22;
L25: ( ( ( D3 / (( x. ( 0 ) ) , C1) ) / (( x. 2 ) , D5) ) . ( x. 2 ) ) = D5 by FUNCT_7:128;
L26: R3 , ( ( D3 / (( x. ( 0 ) ) , C1) ) / (( x. 2 ) , D5) ) |= ( ( ( x. 2 ) 'in' ( x. ( 0 ) ) ) => ( ( x. 2 ) 'in' ( x. 1 ) ) ) by L21 , ZF_LANG1:71;
L27: (( ( ( D3 / (( x. ( 0 ) ) , C1) ) / (( x. 2 ) , D5) ) . ( x. 1 ) ) = ( ( D3 / (( x. ( 0 ) ) , C1) ) . ( x. 1 ) ) & ( D3 . ( x. 1 ) ) = ( ( D3 / (( x. ( 0 ) ) , C1) ) . ( x. 1 ) )) by FUNCT_7:32 , ZF_LANG1:76;
L28: (C1 = ( ( D3 / (( x. ( 0 ) ) , C1) ) . ( x. ( 0 ) ) ) & ( ( ( D3 / (( x. ( 0 ) ) , C1) ) / (( x. 2 ) , D5) ) . ( x. ( 0 ) ) ) = ( ( D3 / (( x. ( 0 ) ) , C1) ) . ( x. ( 0 ) ) )) by FUNCT_7:32 , FUNCT_7:128 , ZF_LANG1:76;
L29: R3 , ( ( D3 / (( x. ( 0 ) ) , C1) ) / (( x. 2 ) , D5) ) |= ( ( x. 2 ) 'in' ( x. ( 0 ) ) ) by L28 , L24 , L25 , ZF_MODEL:13;
L30: (( D3 . ( x. 1 ) ) = R4 & R3 , ( ( D3 / (( x. ( 0 ) ) , C1) ) / (( x. 2 ) , D5) ) |= ( ( x. 2 ) 'in' ( x. 1 ) )) by L29 , L26 , FUNCT_7:128 , ZF_MODEL:18;
thus L31: thesis by L30 , L25 , L27 , ZF_MODEL:13;
end;
L32: R15 in ( bool R4 ) by L23 , L20 , ZFMISC_1:def 1;
thus L33: thesis by L32 , L20 , XBOOLE_0:def 4;
end;

let R15 being set;
assume L34: R15 in ( R3 /\ ( bool R4 ) );
L35: R15 in ( bool R4 ) by L34 , XBOOLE_0:def 4;
reconsider D6 = R15 as (Element of R3) by L34 , XBOOLE_0:def 4;
L36:
now
L37: ( D3 . ( x. 1 ) ) = R4 by FUNCT_7:128;
let C2 being (Element of R3);
L38: ( ( ( D3 / (( x. ( 0 ) ) , D6) ) / (( x. 2 ) , C2) ) . ( x. 2 ) ) = C2 by FUNCT_7:128;
L39: (D6 = ( ( D3 / (( x. ( 0 ) ) , D6) ) . ( x. ( 0 ) ) ) & ( ( ( D3 / (( x. ( 0 ) ) , D6) ) / (( x. 2 ) , C2) ) . ( x. ( 0 ) ) ) = ( ( D3 / (( x. ( 0 ) ) , D6) ) . ( x. ( 0 ) ) )) by FUNCT_7:32 , FUNCT_7:128 , ZF_LANG1:76;
L40: (( ( ( D3 / (( x. ( 0 ) ) , D6) ) / (( x. 2 ) , C2) ) . ( x. 1 ) ) = ( ( D3 / (( x. ( 0 ) ) , D6) ) . ( x. 1 ) ) & ( D3 . ( x. 1 ) ) = ( ( D3 / (( x. ( 0 ) ) , D6) ) . ( x. 1 ) )) by FUNCT_7:32 , ZF_LANG1:76;
L41:
now
assume L42: R3 , ( ( D3 / (( x. ( 0 ) ) , D6) ) / (( x. 2 ) , C2) ) |= ( ( x. 2 ) 'in' ( x. ( 0 ) ) );
L43: C2 in D6 by L42 , L38 , L39 , ZF_MODEL:13;
thus L44: R3 , ( ( D3 / (( x. ( 0 ) ) , D6) ) / (( x. 2 ) , C2) ) |= ( ( x. 2 ) 'in' ( x. 1 ) ) by L43 , L35 , L38 , L40 , L37 , ZF_MODEL:13;
end;
thus L45: R3 , ( ( D3 / (( x. ( 0 ) ) , D6) ) / (( x. 2 ) , C2) ) |= ( ( ( x. 2 ) 'in' ( x. ( 0 ) ) ) => ( ( x. 2 ) 'in' ( x. 1 ) ) ) by L41 , ZF_MODEL:18;
end;
L46: R3 , ( D3 / (( x. ( 0 ) ) , D6) ) |= D2 by L36 , ZF_LANG1:71;
thus L47: thesis by L46 , L16;
end;
L48: (for R14 being Function holds (for R16 being set holds (R16 in ( Union R14 ) implies (ex R17 being set st (R17 in ( dom R14 ) & R16 in ( R14 . R17 ))))))
proof
let R14 being Function;
let R16 being set;
assume L49: R16 in ( Union R14 );
L50: R16 in ( union ( rng R14 ) ) by L49 , CARD_3:def 4;
consider R22 being set such that L51: R16 in R22 and L52: R22 in ( rng R14 ) by L50 , TARSKI:def 4;
consider R17 being set such that L53: (R17 in ( dom R14 ) & R22 = ( R14 . R17 )) by L52 , FUNCT_1:def 3;
take R17;
thus L54: thesis by L51 , L53;
end;
theorem
L55: (for R23 being Universe holds (for R30 being (DOMAIN-Sequence of R23) holds (((for R26 being (Ordinal of R23) holds (for R28 being (Ordinal of R23) holds (R26 in R28 implies ( R30 . R26 ) c= ( R30 . R28 )))) & (for R26 being (Ordinal of R23) holds (( R30 . R26 ) in ( Union R30 ) & ( R30 . R26 ) is  epsilon-transitive)) & ( Union R30 ) is  predicatively_closed) implies ( Union R30 ) |= ( the_axiom_of_power_sets ))))
proof
let R23 being Universe;
let R30 being (DOMAIN-Sequence of R23);
assume that
L56: (for R26 being (Ordinal of R23) holds (for R28 being (Ordinal of R23) holds (R26 in R28 implies ( R30 . R26 ) c= ( R30 . R28 ))))
and
L57: (for R26 being (Ordinal of R23) holds (( R30 . R26 ) in ( Union R30 ) & ( R30 . R26 ) is  epsilon-transitive))
and
L58: ( Union R30 ) is  predicatively_closed;
set D7 = ( Union R30 );
L59: (for R22 being set holds (for R26 being (Ordinal of R23) holds (R22 in ( R30 . R26 ) implies ( ( R30 . R26 ) /\ ( bool R22 ) ) in D7)))
proof
let R22 being set;
let R26 being (Ordinal of R23);
set D8 = the (Function of ( VAR ) , ( R30 . R26 ));
assume L60: R22 in ( R30 . R26 );
reconsider D9 = R22 as (Element of ( R30 . R26 )) by L60;
L61: ( R30 . R26 ) in D7 by L57;
L62: ( Section (( All (( x. 2 ) , ( ( ( x. 2 ) 'in' ( x. ( 0 ) ) ) => ( ( x. 2 ) 'in' ( x. 1 ) ) )) ) , ( D8 / (( x. 1 ) , D9) )) ) in D7 by L61 , L58 , L11;
L63: ( R30 . R26 ) is  epsilon-transitive by L57;
thus L64: thesis by L63 , L62 , L13;
end;
L65:
now
defpred S1[ set , set ] means $1 in ( R30 . $2 );
let R22 being set;
assume that
L66: R22 in D7;
L67: R22 in ( bool R22 ) by ZFMISC_1:def 1;
reconsider D10 = ( D7 /\ ( bool R22 ) ) as non  empty set by L67 , L66 , XBOOLE_0:def 4;
L68: R22 in ( D7 /\ ( bool R22 ) ) by L66 , L67 , XBOOLE_0:def 4;
L69: (for B5 being (Element of D10) holds (ex R26 being (Ordinal of R23) st S1[ B5 , R26 ]))
proof
let C3 being (Element of D10);
L70: C3 in D7 by XBOOLE_0:def 4;
consider R17 being set such that L71: R17 in ( dom R30 ) and L72: C3 in ( R30 . R17 ) by L70 , L48;
L73: R17 in ( On R23 ) by L71 , ZF_REFLE:def 2;
reconsider D11 = R17 as (Ordinal of R23) by L73 , ZF_REFLE:7;
take D11;
thus L74: thesis by L72;
end;
consider C4 being Function such that L75: (( dom C4 ) = D10 & (for B6 being (Element of D10) holds (ex R26 being (Ordinal of R23) st (R26 = ( C4 . B6 ) & S1[ B6 , R26 ] & (for R28 being (Ordinal of R23) holds (S1[ B6 , R28 ] implies R26 c= R28)))))) from ZF_REFLE:sch 1(L69);
L76: ( rng C4 ) c= R23
proof
let R15 being set;
assume L77: R15 in ( rng C4 );
consider R16 being set such that L78: R16 in D10 and L79: R15 = ( C4 . R16 ) by L77 , L75 , FUNCT_1:def 3;
reconsider D12 = R16 as (Element of D10) by L78;
L80: (ex R26 being (Ordinal of R23) st (R26 = ( C4 . D12 ) & D12 in ( R30 . R26 ) & (for R28 being (Ordinal of R23) holds (D12 in ( R30 . R28 ) implies R26 c= R28)))) by L75;
thus L81: thesis by L80 , L79;
end;
L82: ( D7 /\ ( bool R22 ) ) c= ( bool R22 ) by XBOOLE_1:17;
L83: ( bool R22 ) in R23 by L66 , CLASSES2:59;
L84: D10 in R23 by L83 , L82 , CLASSES1:def 1;
L85: (( rng C4 ) = ( C4 .: ( dom C4 ) ) & ( card D10 ) in ( card R23 )) by L84 , CLASSES2:1 , RELAT_1:113;
L86: ( card ( rng C4 ) ) in ( card R23 ) by L85 , L75 , CARD_1:67 , ORDINAL1:12;
L87: ( rng C4 ) in R23 by L86 , L76 , CLASSES1:1;
reconsider D13 = ( sup ( rng C4 ) ) as (Ordinal of R23) by L87 , ZF_REFLE:19;
L88: D10 c= ( R30 . D13 )
proof
let R17 being set;
assume L89: R17 in D10;
reconsider D14 = R17 as (Element of D10) by L89;
consider R29 being (Ordinal of R23) such that L90: R29 = ( C4 . D14 ) and L91: D14 in ( R30 . R29 ) and L92: (for R28 being (Ordinal of R23) holds (D14 in ( R30 . R28 ) implies R29 c= R28)) by L75;
L93: R29 in ( rng C4 ) by L75 , L90 , FUNCT_1:def 3;
L94: ( R30 . R29 ) c= ( R30 . D13 ) by L93 , L56 , ORDINAL2:19;
thus L95: thesis by L94 , L91;
end;
L96: ( ( R30 . D13 ) /\ ( bool R22 ) ) c= D10 by XBOOLE_1:26 , ZF_REFLE:16;
L97: ( D10 /\ ( bool R22 ) ) = ( D7 /\ ( ( bool R22 ) /\ ( bool R22 ) ) ) by XBOOLE_1:16;
L98: D10 c= ( ( R30 . D13 ) /\ ( bool R22 ) ) by L97 , L88 , XBOOLE_1:26;
L99: D10 = ( ( R30 . D13 ) /\ ( bool R22 ) ) by L98 , L96 , XBOOLE_0:def 10;
thus L100: ( D7 /\ ( bool R22 ) ) in D7 by L99 , L59 , L68 , L88;
end;
L101: ( Union R30 ) is  epsilon-transitive
proof
let R22 being set;
assume L102: R22 in ( Union R30 );
consider R15 being set such that L103: R15 in ( dom R30 ) and L104: R22 in ( R30 . R15 ) by L102 , L48;
reconsider D15 = R15 as Ordinal by L103;
L105: D15 in ( On R23 ) by L103 , ZF_REFLE:def 2;
reconsider D16 = D15 as (Ordinal of R23) by L105 , ZF_REFLE:7;
L106: ( R30 . D16 ) is  epsilon-transitive by L57;
L107: R22 c= ( R30 . D16 ) by L106 , L104 , ORDINAL1:def 2;
let R16 being set;
L108: ( R30 . D16 ) c= ( Union R30 ) by ZF_REFLE:16;
assume L109: R16 in R22;
L110: R16 in ( R30 . D16 ) by L109 , L107;
thus L111: thesis by L110 , L108;
end;
thus L112: thesis by L101 , L65 , ZFMODEL1:9;
end;
L113: (for R1 being ZF-formula holds (for R2 being non  empty set holds (for R9 being (Function of ( VAR ) , R2) holds (for R18 being Variable holds (((not R18 in ( variables_in R1 )) & { ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free R1 ) & R2 , R9 |= ( All (( x. 3 ) , ( Ex (( x. ( 0 ) ) , ( All (( x. 4 ) , ( R1 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) )) implies ({ ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free ( R1 / (( x. ( 0 ) ) , R18) ) ) & R2 , R9 |= ( All (( x. 3 ) , ( Ex (( x. ( 0 ) ) , ( All (( x. 4 ) , ( ( R1 / (( x. ( 0 ) ) , R18) ) <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) ) & ( def_func' (R1 , R9) ) = ( def_func' (( R1 / (( x. ( 0 ) ) , R18) ) , R9) )))))))
proof
let R1 being ZF-formula;
let R2 being non  empty set;
let R9 being (Function of ( VAR ) , R2);
let R18 being Variable;
assume that
L114: (not R18 in ( variables_in R1 ))
and
L115: { ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free R1 )
and
L116: R2 , R9 |= ( All (( x. 3 ) , ( Ex (( x. ( 0 ) ) , ( All (( x. 4 ) , ( R1 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) );
L117: ( x. ( 0 ) ) in { ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } by ENUMSET1:def 1;
L118: (not ( x. ( 0 ) ) in ( Free R1 )) by L117 , L115 , XBOOLE_0:3;
thus L119: { ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free ( R1 / (( x. ( 0 ) ) , R18) ) ) by L118 , L114 , L115 , ZFMODEL2:2;
L120: (not ( x. ( 0 ) ) in ( Free ( R1 / (( x. ( 0 ) ) , R18) ) )) by L114 , L118 , ZFMODEL2:2;
L121:
now
let C5 being (Element of R2);
consider C6 being (Element of R2) such that L122: (for R5 being (Element of R2) holds (R2 , ( ( R9 / (( x. 3 ) , C5) ) / (( x. 4 ) , R5) ) |= R1 iff R5 = C6)) by L116 , L118 , ZFMODEL2:19;
take D17 = C6;
let C7 being (Element of R2);
thus L123: (R2 , ( ( R9 / (( x. 3 ) , C5) ) / (( x. 4 ) , C7) ) |= ( R1 / (( x. ( 0 ) ) , R18) ) implies C7 = D17)
proof
assume L124: R2 , ( ( R9 / (( x. 3 ) , C5) ) / (( x. 4 ) , C7) ) |= ( R1 / (( x. ( 0 ) ) , R18) );
L125: R2 , ( ( ( R9 / (( x. 3 ) , C5) ) / (( x. 4 ) , C7) ) / (( x. ( 0 ) ) , ( ( ( R9 / (( x. 3 ) , C5) ) / (( x. 4 ) , C7) ) . R18 )) ) |= R1 by L124 , L114 , ZFMODEL2:12;
L126: R2 , ( ( R9 / (( x. 3 ) , C5) ) / (( x. 4 ) , C7) ) |= R1 by L125 , L118 , ZFMODEL2:9;
thus L127: thesis by L126 , L122;
end;

assume L128: C7 = D17;
L129: R2 , ( ( R9 / (( x. 3 ) , C5) ) / (( x. 4 ) , C7) ) |= R1 by L128 , L122;
L130: R2 , ( ( ( R9 / (( x. 3 ) , C5) ) / (( x. 4 ) , C7) ) / (( x. ( 0 ) ) , ( ( ( R9 / (( x. 3 ) , C5) ) / (( x. 4 ) , C7) ) . R18 )) ) |= R1 by L129 , L118 , ZFMODEL2:9;
thus L131: R2 , ( ( R9 / (( x. 3 ) , C5) ) / (( x. 4 ) , C7) ) |= ( R1 / (( x. ( 0 ) ) , R18) ) by L130 , L114 , ZFMODEL2:12;
end;
L132: ( Free R1 ) = ( Free ( R1 / (( x. ( 0 ) ) , R18) ) ) by L114 , L118 , ZFMODEL2:2;
thus L133: R2 , R9 |= ( All (( x. 3 ) , ( Ex (( x. ( 0 ) ) , ( All (( x. 4 ) , ( ( R1 / (( x. ( 0 ) ) , R18) ) <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) ) by L132 , L118 , L121 , ZFMODEL2:19;
L134:
now
let R15 being set;
assume L135: R15 in R2;
reconsider D18 = R15 as (Element of R2) by L135;
set D19 = ( ( def_func' (R1 , R9) ) . D18 );
L136: R2 , ( ( R9 / (( x. 3 ) , D18) ) / (( x. 4 ) , D19) ) |= R1 by L116 , L118 , ZFMODEL2:10;
L137: R2 , ( ( ( R9 / (( x. 3 ) , D18) ) / (( x. 4 ) , D19) ) / (( x. ( 0 ) ) , ( ( ( R9 / (( x. 3 ) , D18) ) / (( x. 4 ) , D19) ) . R18 )) ) |= R1 by L136 , L118 , ZFMODEL2:9;
L138: R2 , ( ( R9 / (( x. 3 ) , D18) ) / (( x. 4 ) , D19) ) |= ( R1 / (( x. ( 0 ) ) , R18) ) by L137 , L114 , ZFMODEL2:12;
thus L139: ( ( def_func' (R1 , R9) ) . R15 ) = ( ( def_func' (( R1 / (( x. ( 0 ) ) , R18) ) , R9) ) . R15 ) by L138 , L120 , L133 , ZFMODEL2:10;
end;
thus L140: thesis by L134 , FUNCT_2:12;
end;
L141: (for R1 being ZF-formula holds (for R2 being non  empty set holds (for R9 being (Function of ( VAR ) , R2) holds ((R2 , R9 |= ( All (( x. 3 ) , ( Ex (( x. ( 0 ) ) , ( All (( x. 4 ) , ( R1 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) ) & (not ( x. 4 ) in ( Free R1 ))) implies (for R5 being (Element of R2) holds ( ( def_func' (R1 , R9) ) .: R5 ) = ( {} ))))))
proof
let R1 being ZF-formula;
let R2 being non  empty set;
let R9 being (Function of ( VAR ) , R2);
set D20 = the (Element of R2);
assume that
L142: R2 , R9 |= ( All (( x. 3 ) , ( Ex (( x. ( 0 ) ) , ( All (( x. 4 ) , ( R1 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) )
and
L143: (not ( x. 4 ) in ( Free R1 ));
L144: R2 , ( R9 / (( x. 3 ) , D20) ) |= ( Ex (( x. ( 0 ) ) , ( All (( x. 4 ) , ( R1 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) ) by L142 , ZF_LANG1:71;
consider R6 being (Element of R2) such that L145: R2 , ( ( R9 / (( x. 3 ) , D20) ) / (( x. ( 0 ) ) , R6) ) |= ( All (( x. 4 ) , ( R1 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) ) by L144 , ZF_LANG1:73;
let R5 being (Element of R2);
set D21 = the (Element of ( ( def_func' (R1 , R9) ) .: R5 ));
assume L146: ( ( def_func' (R1 , R9) ) .: R5 ) <> ( {} );
consider R16 being set such that L147: R16 in ( dom ( def_func' (R1 , R9) ) ) and L148: R16 in R5 and L149: D21 = ( ( def_func' (R1 , R9) ) . R16 ) by L146 , FUNCT_1:def 6;
set D22 = ( ( R9 / (( x. 3 ) , D20) ) / (( x. ( 0 ) ) , R6) );
reconsider D23 = R16 as (Element of R2) by L147;
L150:
now
let R8 being (Element of R2);
L151: R2 , ( D22 / (( x. 4 ) , R8) ) |= ( R1 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) ) by L145 , ZF_LANG1:71;
L152: (R2 , ( D22 / (( x. 4 ) , R8) ) |= R1 iff R2 , ( D22 / (( x. 4 ) , R8) ) |= ( ( x. 4 ) '=' ( x. ( 0 ) ) )) by L151 , ZF_MODEL:19;
L153: (R2 , D22 |= R1 iff ( ( D22 / (( x. 4 ) , R8) ) . ( x. 4 ) ) = ( ( D22 / (( x. 4 ) , R8) ) . ( x. ( 0 ) ) )) by L152 , L143 , ZFMODEL2:9 , ZF_MODEL:12;
L154: (( ( D22 / (( x. 4 ) , R8) ) . ( x. 4 ) ) = R8 & ( D22 . ( x. ( 0 ) ) ) = R6) by FUNCT_7:128;
thus L155: (R2 , D22 |= R1 iff R8 = R6) by L154 , L153 , FUNCT_7:32 , ZF_LANG1:76;
end;
L156: R2 , D22 |= R1 by L150;
L157: (D23 = R6 & R5 = R6) by L156 , L150;
thus L158: contradiction by L157 , L148;
end;
L159: (for R1 being ZF-formula holds (for R18 being Variable holds (for R19 being Variable holds (((not R19 in ( variables_in R1 )) & R18 <> ( x. ( 0 ) ) & R19 <> ( x. ( 0 ) ) & R19 <> ( x. 4 )) implies (( x. 4 ) in ( Free R1 ) iff ( x. ( 0 ) ) in ( Free ( Ex (( x. 3 ) , ( ( ( x. 3 ) 'in' R18 ) '&' ( ( R1 / (( x. ( 0 ) ) , R19) ) / (( x. 4 ) , ( x. ( 0 ) )) ) )) ) ))))))
proof
let R1 being ZF-formula;
let R18 being Variable;
let R19 being Variable;
L160: ( x. ( 0 ) ) <> ( x. 3 ) by ZF_LANG1:76;
assume that
L161: (not R19 in ( variables_in R1 ))
and
L162: R18 <> ( x. ( 0 ) )
and
L163: R19 <> ( x. ( 0 ) )
and
L164: R19 <> ( x. 4 );
set D24 = ( ( R1 / (( x. ( 0 ) ) , R19) ) / (( x. 4 ) , ( x. ( 0 ) )) );
L165: ( Free ( Ex (( x. 3 ) , ( ( ( x. 3 ) 'in' R18 ) '&' D24 )) ) ) = ( ( Free ( ( ( x. 3 ) 'in' R18 ) '&' D24 ) ) \ { ( x. 3 ) } ) by ZF_LANG1:66
.= ( ( ( Free ( ( x. 3 ) 'in' R18 ) ) \/ ( Free D24 ) ) \ { ( x. 3 ) } ) by ZF_LANG1:61
.= ( ( { ( x. 3 ) , R18 } \/ ( Free D24 ) ) \ { ( x. 3 ) } ) by ZF_LANG1:59
.= ( ( { ( x. 3 ) , R18 } \ { ( x. 3 ) } ) \/ ( ( Free D24 ) \ { ( x. 3 ) } ) ) by XBOOLE_1:42;
L166: ( x. ( 0 ) ) <> ( x. 4 ) by ZF_LANG1:76;
L167:
now
assume L168: ( x. 4 ) in ( Free R1 );
L169: ( x. 4 ) in ( Free ( R1 / (( x. ( 0 ) ) , R19) ) )
proof
L170:
now
per cases ;
suppose L171: ( x. ( 0 ) ) in ( Free R1 );

L172: (not ( x. 4 ) in { ( x. ( 0 ) ) }) by L166 , TARSKI:def 1;
L173: ( x. 4 ) in ( ( Free R1 ) \ { ( x. ( 0 ) ) } ) by L172 , L168 , XBOOLE_0:def 5;
L174: ( Free ( R1 / (( x. ( 0 ) ) , R19) ) ) = ( ( ( Free R1 ) \ { ( x. ( 0 ) ) } ) \/ { R19 } ) by L161 , L171 , ZFMODEL2:2;
thus L175: thesis by L174 , L173 , XBOOLE_0:def 3;
end;
suppose L176: (not ( x. ( 0 ) ) in ( Free R1 ));

thus L177: thesis by L176 , L161 , L168 , ZFMODEL2:2;
end;
end;
thus L179: thesis by L170;
end;
L180: ( x. ( 0 ) ) in { ( x. ( 0 ) ) } by TARSKI:def 1;
L181: (not ( x. ( 0 ) ) in ( variables_in ( R1 / (( x. ( 0 ) ) , R19) ) )) by L163 , ZF_LANG1:184;
L182: ( Free D24 ) = ( ( ( Free ( R1 / (( x. ( 0 ) ) , R19) ) ) \ { ( x. 4 ) } ) \/ { ( x. ( 0 ) ) } ) by L181 , L169 , ZFMODEL2:2;
L183: ( x. ( 0 ) ) in ( Free D24 ) by L182 , L180 , XBOOLE_0:def 3;
L184: (not ( x. ( 0 ) ) in { ( x. 3 ) }) by L160 , TARSKI:def 1;
L185: ( x. ( 0 ) ) in ( ( Free D24 ) \ { ( x. 3 ) } ) by L184 , L183 , XBOOLE_0:def 5;
thus L186: ( x. ( 0 ) ) in ( Free ( Ex (( x. 3 ) , ( ( ( x. 3 ) 'in' R18 ) '&' D24 )) ) ) by L185 , L165 , XBOOLE_0:def 3;
end;
L187:
now
assume L188: ( x. ( 0 ) ) in ( Free ( Ex (( x. 3 ) , ( ( ( x. 3 ) 'in' R18 ) '&' D24 )) ) );
L189: (( x. ( 0 ) ) in ( { ( x. 3 ) , R18 } \ { ( x. 3 ) } ) or ( x. ( 0 ) ) in ( ( Free D24 ) \ { ( x. 3 ) } )) by L188 , L165 , XBOOLE_0:def 3;
L190: (( x. ( 0 ) ) in { ( x. 3 ) , R18 } or ( x. ( 0 ) ) in ( Free D24 )) by L189 , XBOOLE_0:def 5;
L191: (not ( x. ( 0 ) ) in ( variables_in ( R1 / (( x. ( 0 ) ) , R19) ) )) by L163 , ZF_LANG1:184;
L192:
now
assume L193: (not ( x. 4 ) in ( Free ( R1 / (( x. ( 0 ) ) , R19) ) ));
L194: ( x. ( 0 ) ) in ( Free ( R1 / (( x. ( 0 ) ) , R19) ) ) by L193 , L162 , L160 , L190 , L191 , TARSKI:def 2 , ZFMODEL2:2;
L195: ( Free ( R1 / (( x. ( 0 ) ) , R19) ) ) c= ( variables_in ( R1 / (( x. ( 0 ) ) , R19) ) ) by ZF_LANG1:151;
thus L196: contradiction by L195 , L163 , L194 , ZF_LANG1:184;
end;
L197: ( Free ( R1 / (( x. ( 0 ) ) , R19) ) ) c= ( ( ( Free R1 ) \ { ( x. ( 0 ) ) } ) \/ { R19 } ) by ZFMODEL2:1;
L198: (( x. 4 ) in ( ( Free R1 ) \ { ( x. ( 0 ) ) } ) or ( x. 4 ) in { R19 }) by L197 , L192 , XBOOLE_0:def 3;
thus L199: ( x. 4 ) in ( Free R1 ) by L198 , L164 , TARSKI:def 1 , XBOOLE_0:def 5;
end;
thus L200: thesis by L187 , L167;
end;
theorem
L201: (for R23 being Universe holds (for R30 being (DOMAIN-Sequence of R23) holds ((( omega ) in R23 & (for R26 being (Ordinal of R23) holds (for R28 being (Ordinal of R23) holds (R26 in R28 implies ( R30 . R26 ) c= ( R30 . R28 )))) & (for R26 being (Ordinal of R23) holds ((R26 <> ( {} ) & R26 is  limit_ordinal) implies ( R30 . R26 ) = ( Union ( R30 | R26 ) ))) & (for R26 being (Ordinal of R23) holds (( R30 . R26 ) in ( Union R30 ) & ( R30 . R26 ) is  epsilon-transitive)) & ( Union R30 ) is  predicatively_closed) implies (for R1 being ZF-formula holds ({ ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free R1 ) implies ( Union R30 ) |= ( the_axiom_of_substitution_for R1 ))))))
proof
let R23 being Universe;
let R30 being (DOMAIN-Sequence of R23);
assume that
L202: ( omega ) in R23
and
L203: (for R26 being (Ordinal of R23) holds (for R28 being (Ordinal of R23) holds (R26 in R28 implies ( R30 . R26 ) c= ( R30 . R28 ))))
and
L204: (for R26 being (Ordinal of R23) holds ((R26 <> ( {} ) & R26 is  limit_ordinal) implies ( R30 . R26 ) = ( Union ( R30 | R26 ) )))
and
L205: (for R26 being (Ordinal of R23) holds (( R30 . R26 ) in ( Union R30 ) & ( R30 . R26 ) is  epsilon-transitive))
and
L206: ( Union R30 ) is  predicatively_closed;
set D25 = ( Union R30 );
L207:
now
defpred S2[ set , set ] means $1 in ( R30 . $2 );
let R1 being ZF-formula;
let C8 being (Function of ( VAR ) , D25);
assume that
L208: { ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free R1 )
and
L209: D25 , C8 |= ( All (( x. 3 ) , ( Ex (( x. ( 0 ) ) , ( All (( x. 4 ) , ( R1 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) );
consider C9 being (Element of ( NAT )) such that L210: (for R20 being (Element of ( NAT )) holds (( x. R20 ) in ( variables_in R1 ) implies R20 < C9)) by ZFMODEL2:3;
set D26 = ( R1 / (( x. ( 0 ) ) , ( x. ( C9 + 5 ) )) );
L211: ( C9 + ( 0 ) ) = C9;
L212: (not ( x. ( C9 + 5 ) ) in ( variables_in R1 )) by L211 , L210 , XREAL_1:7;
L213: (D25 , C8 |= ( All (( x. 3 ) , ( Ex (( x. ( 0 ) ) , ( All (( x. 4 ) , ( D26 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) ) & ( def_func' (R1 , C8) ) = ( def_func' (D26 , C8) )) by L212 , L208 , L209 , L113;
set D27 = ( def_func' (R1 , C8) );
L214: (for B7 being (Element of (D25 qua non  empty set)) holds (ex R26 being (Ordinal of R23) st S2[ B7 , R26 ]))
proof
let C10 being (Element of (D25 qua non  empty set));
consider R15 being set such that L215: R15 in ( dom R30 ) and L216: C10 in ( R30 . R15 ) by L48;
L217: R15 in ( On R23 ) by L215 , ZF_REFLE:def 2;
reconsider D28 = R15 as (Ordinal of R23) by L217 , ZF_REFLE:7;
take D28;
thus L218: thesis by L216;
end;
consider C11 being Function such that L219: (( dom C11 ) = D25 & (for B8 being (Element of (D25 qua non  empty set)) holds (ex R26 being (Ordinal of R23) st (R26 = ( C11 . B8 ) & S2[ B8 , R26 ] & (for R28 being (Ordinal of R23) holds (S2[ B8 , R28 ] implies R26 c= R28)))))) from ZF_REFLE:sch 1(L214);
L220: ( rng C11 ) c= R23
proof
let R16 being set;
assume L221: R16 in ( rng C11 );
consider R17 being set such that L222: R17 in ( dom C11 ) and L223: R16 = ( C11 . R17 ) by L221 , FUNCT_1:def 3;
reconsider D29 = R17 as (Element of D25) by L219 , L222;
L224: (ex R26 being (Ordinal of R23) st (R26 = ( C11 . D29 ) & D29 in ( R30 . R26 ) & (for R28 being (Ordinal of R23) holds (D29 in ( R30 . R28 ) implies R26 c= R28)))) by L219;
thus L225: thesis by L224 , L223;
end;
L226: (( card ( VAR ) ) = ( omega ) & ( omega ) in ( card R23 )) by L202 , CARD_1:5 , CARD_1:47 , CLASSES2:1 , ZF_REFLE:17;
L227: ( card ( dom C8 ) ) in ( card R23 ) by L226 , FUNCT_2:def 1;
L228: ( rng C8 ) = ( C8 .: ( dom C8 ) ) by RELAT_1:113;
L229: ( card ( rng C8 ) ) in ( card R23 ) by L228 , L227 , CARD_1:67 , ORDINAL1:12;
L230: ( card ( C11 .: ( rng C8 ) ) ) in ( card R23 ) by L229 , CARD_1:67 , ORDINAL1:12;
L231: ( C11 .: ( rng C8 ) ) c= ( rng C11 ) by RELAT_1:111;
L232: ( C11 .: ( rng C8 ) ) c= R23 by L231 , L220 , XBOOLE_1:1;
L233: ( C11 .: ( rng C8 ) ) in R23 by L232 , L230 , CLASSES1:1;
reconsider D30 = ( sup ( C11 .: ( rng C8 ) ) ) as (Ordinal of R23) by L233 , ZF_REFLE:19;
L234: ( x. ( 0 ) ) in { ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } by ENUMSET1:def 1;
L235: { ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free D26 ) by L208 , L209 , L212 , L113;
L236: (not ( x. ( 0 ) ) in ( Free D26 )) by L235 , L234 , XBOOLE_0:3;
L237: (for R22 being set holds (for R26 being (Ordinal of R23) holds ((R22 c= D25 & ( sup ( C11 .: R22 ) ) c= R26) implies R22 c= ( R30 . R26 ))))
proof
let R22 being set;
let R26 being (Ordinal of R23);
assume that
L238: R22 c= D25
and
L239: ( sup ( C11 .: R22 ) ) c= R26;
let R16 being set;
assume L240: R16 in R22;
reconsider D31 = R16 as (Element of D25) by L240 , L238;
consider R28 being (Ordinal of R23) such that L241: R28 = ( C11 . D31 ) and L242: D31 in ( R30 . R28 ) and L243: (for R26 being (Ordinal of R23) holds (D31 in ( R30 . R26 ) implies R28 c= R26)) by L219;
L244: R28 in ( C11 .: R22 ) by L219 , L240 , L241 , FUNCT_1:def 6;
L245: R28 in ( sup ( C11 .: R22 ) ) by L244 , ORDINAL2:19;
L246: ( R30 . R28 ) c= ( R30 . R26 ) by L245 , L203 , L239;
thus L247: thesis by L246 , L242;
end;
let C12 being (Element of D25);
consider C13 being (Ordinal of R23) such that L248: C13 = ( C11 . C12 ) and L249: C12 in ( R30 . C13 ) and L250: (for R28 being (Ordinal of R23) holds (C12 in ( R30 . R28 ) implies C13 c= R28)) by L219;
L251: ( card C12 ) in ( card R23 ) by CLASSES2:1;
L252: ( C9 + ( 0 ) ) = C9;
L253: (( 0 ) <= C9 & C9 < ( C9 + 5 )) by L252 , NAT_1:2 , XREAL_1:6;
L254: (not ( x. ( 0 ) ) in ( variables_in D26 )) by L253 , ZF_LANG1:76 , ZF_LANG1:184;
L255: ( C11 .: ( D27 .: C12 ) ) c= ( rng C11 ) by RELAT_1:111;
L256: ( C11 .: ( D27 .: C12 ) ) c= R23 by L255 , L220 , XBOOLE_1:1;
L257: (( card ( C11 .: ( D27 .: C12 ) ) ) c= ( card ( D27 .: C12 ) ) & ( card ( D27 .: C12 ) ) c= ( card C12 )) by CARD_1:67;
L258: ( card ( C11 .: ( D27 .: C12 ) ) ) in ( card R23 ) by L257 , L251 , ORDINAL1:12 , XBOOLE_1:1;
L259: ( C11 .: ( D27 .: C12 ) ) in R23 by L258 , L256 , CLASSES1:1;
reconsider D32 = ( sup ( C11 .: ( D27 .: C12 ) ) ) as (Ordinal of R23) by L259 , ZF_REFLE:19;
set D33 = ( C13 \/ D32 );
set D34 = ( D33 \/ D30 );
L260: ( D27 .: C12 ) c= ( R30 . D33 ) by L237 , XBOOLE_1:7;
consider C14 being (Ordinal-Sequence of R23) such that L261: (C14 is  increasing & C14 is  continuous) and L262: (for R26 being (Ordinal of R23) holds ((( C14 . R26 ) = R26 & ( {} ) <> R26) implies (for B9 being (Function of ( VAR ) , ( R30 . R26 )) holds (D25 , ( D25 ! B9 ) |= ( D26 / (( x. 4 ) , ( x. ( 0 ) )) ) iff ( R30 . R26 ) , B9 |= ( D26 / (( x. 4 ) , ( x. ( 0 ) )) ))))) by L202 , L203 , L204 , ZF_REFLE:20;
consider R27 being (Ordinal of R23) such that L263: D34 in R27 and L264: ( C14 . R27 ) = R27 by L202 , L261 , ZFREFLE1:28;
L265: ( rng C8 ) c= ( R30 . R27 )
proof
let R15 being set;
L266: D30 c= D34 by XBOOLE_1:7;
assume L267: R15 in ( rng C8 );
consider R16 being set such that L268: R16 in ( dom C8 ) and L269: R15 = ( C8 . R16 ) by L267 , FUNCT_1:def 3;
reconsider D35 = R16 as Variable by L268;
consider C15 being (Ordinal of R23) such that L270: C15 = ( C11 . ( C8 . D35 ) ) and L271: ( C8 . D35 ) in ( R30 . C15 ) and L272: (for R28 being (Ordinal of R23) holds (( C8 . D35 ) in ( R30 . R28 ) implies C15 c= R28)) by L219;
L273: C15 in ( C11 .: ( rng C8 ) ) by L219 , L267 , L269 , L270 , FUNCT_1:def 6;
L274: C15 in D30 by L273 , ORDINAL2:19;
L275: ( R30 . C15 ) c= ( R30 . R27 ) by L274 , L203 , L263 , L266 , ORDINAL1:10;
thus L276: thesis by L275 , L269 , L271;
end;
set D36 = ( x. ( C9 + 10 ) );
L277: ( C9 + ( 0 ) ) = C9;
L278: (not ( C9 + 10 ) < C9) by L277 , XREAL_1:6;
L279: (not D36 in ( variables_in R1 )) by L278 , L210;
L280: (not D36 in ( ( variables_in R1 ) \ { ( x. ( 0 ) ) } )) by L279 , XBOOLE_0:def 5;
set D37 = ( Ex (( x. 3 ) , ( ( ( x. 3 ) 'in' D36 ) '&' ( D26 / (( x. 4 ) , ( x. ( 0 ) )) ) )) );
L281: 10 <= ( 10 + C9 ) by NAT_1:11;
L282: (C13 c= D33 & D33 c= D34) by XBOOLE_1:7;
L283: C13 c= D34 by L282 , XBOOLE_1:1;
L284: ( R30 . C13 ) c= ( R30 . R27 ) by L283 , L203 , L263 , ORDINAL1:12;
reconsider D38 = C12 as (Element of ( R30 . R27 )) by L284 , L249;
L285: ( dom C8 ) = ( VAR ) by FUNCT_2:def 1;
reconsider D39 = C8 as (Function of ( VAR ) , ( R30 . R27 )) by L285 , L265 , FUNCT_2:def 1 , RELSET_1:4;
set D40 = ( ( D39 / (( x. ( 0 ) ) , ( D39 . ( x. 4 ) )) ) / (D36 , D38) );
L286: (D36 <> ( x. ( C9 + 5 ) ) implies (not D36 in { ( x. ( C9 + 5 ) ) })) by TARSKI:def 1;
L287: (( variables_in D26 ) c= ( ( ( variables_in R1 ) \ { ( x. ( 0 ) ) } ) \/ { ( x. ( C9 + 5 ) ) } ) & ( C9 + 5 ) <> ( C9 + 10 )) by ZF_LANG1:187;
L288: (not D36 in ( variables_in D26 )) by L287 , L280 , L286 , XBOOLE_0:def 3 , ZF_LANG1:76;
L289: (( variables_in ( D26 / (( x. 4 ) , ( x. ( 0 ) )) ) ) c= ( ( ( variables_in D26 ) \ { ( x. 4 ) } ) \/ { ( x. ( 0 ) ) } ) & (not D36 in ( ( variables_in D26 ) \ { ( x. 4 ) } ))) by L288 , XBOOLE_0:def 5 , ZF_LANG1:187;
L290: 10 > ( 0 );
L291: D36 <> ( x. ( 0 ) ) by L290 , L281 , ZF_LANG1:76;
L292: (not D36 in { ( x. ( 0 ) ) }) by L291 , TARSKI:def 1;
L293: (not D36 in ( variables_in ( D26 / (( x. 4 ) , ( x. ( 0 ) )) ) )) by L292 , L289 , XBOOLE_0:def 3;
L294: 10 > 3;
L295: (( x. ( 0 ) ) <> ( x. 3 ) & D36 <> ( x. 3 )) by L294 , L281 , ZF_LANG1:76;
L296: D33 in R27 by L263 , ORDINAL1:12 , XBOOLE_1:7;
L297: ( R30 . D33 ) c= ( R30 . R27 ) by L296 , L203;
L298: ( D27 .: C12 ) c= ( R30 . R27 ) by L297 , L260 , XBOOLE_1:1;
L299: ( D27 .: C12 ) = ( Section (D37 , D40) )
proof
L300:
now
per cases ;
suppose L301: ( x. 4 ) in ( Free R1 );

L302: 4 <> ( C9 + 5 ) by NAT_1:11;
L303: ( x. ( C9 + 5 ) ) <> ( x. 4 ) by L302 , ZF_LANG1:76;
L304: ( x. ( C9 + 10 ) ) <> ( x. ( 0 ) ) by L290 , L281 , ZF_LANG1:76;
L305: ((not ( x. ( C9 + 5 ) ) in ( variables_in R1 )) & ( x. ( C9 + 5 ) ) <> ( x. ( 0 ) )) by L210 , L253 , ZF_LANG1:76;
L306: ( x. ( 0 ) ) in ( Free D37 ) by L305 , L301 , L304 , L303 , L159;
L307: ( D27 .: C12 ) c= ( Section (D37 , D40) )
proof
let R16 being set;
assume L308: R16 in ( D27 .: C12 );
consider R17 being set such that L309: R17 in ( dom D27 ) and L310: R17 in C12 and L311: R16 = ( D27 . R17 ) by L308 , FUNCT_1:def 6;
reconsider D41 = R16 as (Element of ( R30 . R27 )) by L298 , L308;
reconsider D42 = R17 as (Element of D25) by L309;
L312: ( R30 . R27 ) is  epsilon-transitive by L205;
L313: C12 c= ( R30 . R27 ) by L312 , L249 , L284 , ORDINAL1:def 2;
reconsider D43 = D42 as (Element of ( R30 . R27 )) by L313 , L310;
L314: ( ( C8 / (( x. 3 ) , D42) ) / (( x. ( 0 ) ) , ( D27 . D42 )) ) = ( D25 ! ( ( D39 / (( x. 3 ) , D43) ) / (( x. ( 0 ) ) , D41) ) ) by L311 , ZF_LANG1:def 1 , ZF_REFLE:16;
L315: (D25 , ( ( C8 / (( x. 3 ) , D42) ) / (( x. 4 ) , ( D27 . D42 )) ) |= D26 & ( ( ( C8 / (( x. 3 ) , D42) ) / (( x. 4 ) , ( D27 . D42 )) ) . ( x. 4 ) ) = ( D27 . D42 )) by L213 , L236 , FUNCT_7:128 , ZFMODEL2:10;
L316: D25 , ( ( ( C8 / (( x. 3 ) , D42) ) / (( x. 4 ) , ( D27 . D42 )) ) / (( x. ( 0 ) ) , ( D27 . D42 )) ) |= ( D26 / (( x. 4 ) , ( x. ( 0 ) )) ) by L315 , L254 , ZFMODEL2:13;
L317: D25 , ( ( ( C8 / (( x. 3 ) , D42) ) / (( x. ( 0 ) ) , ( D27 . D42 )) ) / (( x. 4 ) , ( D27 . D42 )) ) |= ( D26 / (( x. 4 ) , ( x. ( 0 ) )) ) by L316 , FUNCT_7:33 , ZF_LANG1:76;
L318: (not ( x. 4 ) in ( variables_in ( D26 / (( x. 4 ) , ( x. ( 0 ) )) ) )) by ZF_LANG1:76 , ZF_LANG1:184;
L319: D25 , ( ( C8 / (( x. 3 ) , D42) ) / (( x. ( 0 ) ) , ( D27 . D42 )) ) |= ( D26 / (( x. 4 ) , ( x. ( 0 ) )) ) by L318 , L317 , ZFMODEL2:5;
L320: ( R30 . R27 ) , ( ( D39 / (( x. 3 ) , D43) ) / (( x. ( 0 ) ) , D41) ) |= ( D26 / (( x. 4 ) , ( x. ( 0 ) )) ) by L319 , L262 , L263 , L264 , L314;
L321: ( R30 . R27 ) , ( ( ( D39 / (( x. 3 ) , D43) ) / (( x. ( 0 ) ) , D41) ) / (D36 , D38) ) |= ( D26 / (( x. 4 ) , ( x. ( 0 ) )) ) by L320 , L293 , ZFMODEL2:5;
L322: (( D40 . D36 ) = ( ( D40 / (( x. ( 0 ) ) , D41) ) . D36 ) & ( D40 . D36 ) = D38) by L290 , L281 , FUNCT_7:32 , FUNCT_7:128 , ZF_LANG1:76;
L323: (( ( ( D40 / (( x. ( 0 ) ) , D41) ) / (( x. 3 ) , D43) ) . ( x. 3 ) ) = D43 & ( ( ( D40 / (( x. ( 0 ) ) , D41) ) / (( x. 3 ) , D43) ) . D36 ) = ( ( D40 / (( x. ( 0 ) ) , D41) ) . D36 )) by L294 , L281 , FUNCT_7:32 , FUNCT_7:128 , ZF_LANG1:76;
L324: ( R30 . R27 ) , ( ( D40 / (( x. ( 0 ) ) , D41) ) / (( x. 3 ) , D43) ) |= ( ( x. 3 ) 'in' D36 ) by L323 , L310 , L322 , ZF_MODEL:13;
L325: ( D40 / (( x. ( 0 ) ) , D41) ) = ( ( D39 / (D36 , D38) ) / (( x. ( 0 ) ) , D41) ) by ZFMODEL2:8;
L326: ( R30 . R27 ) , ( ( D40 / (( x. ( 0 ) ) , D41) ) / (( x. 3 ) , D43) ) |= ( D26 / (( x. 4 ) , ( x. ( 0 ) )) ) by L325 , L291 , L295 , L321 , ZFMODEL2:6;
L327: ( R30 . R27 ) , ( ( D40 / (( x. ( 0 ) ) , D41) ) / (( x. 3 ) , D43) ) |= ( ( ( x. 3 ) 'in' D36 ) '&' ( D26 / (( x. 4 ) , ( x. ( 0 ) )) ) ) by L326 , L324 , ZF_MODEL:15;
L328: ( R30 . R27 ) , ( D40 / (( x. ( 0 ) ) , D41) ) |= D37 by L327 , ZF_LANG1:73;
L329: R16 in { B10 where B10 is (Element of ( R30 . R27 )) : ( R30 . R27 ) , ( D40 / (( x. ( 0 ) ) , B10) ) |= D37 } by L328;
thus L330: thesis by L329 , L306 , L1;
end;
L331: ( Section (D37 , D40) ) c= ( D27 .: C12 )
proof
let R16 being set;
L332: ( R30 . R27 ) c= D25 by ZF_REFLE:16;
assume L333: R16 in ( Section (D37 , D40) );
L334: R16 in { B11 where B11 is (Element of ( R30 . R27 )) : ( R30 . R27 ) , ( D40 / (( x. ( 0 ) ) , B11) ) |= D37 } by L333 , L306 , L1;
consider C16 being (Element of ( R30 . R27 )) such that L335: R16 = C16 and L336: ( R30 . R27 ) , ( D40 / (( x. ( 0 ) ) , C16) ) |= D37 by L334;
consider C17 being (Element of ( R30 . R27 )) such that L337: ( R30 . R27 ) , ( ( D40 / (( x. ( 0 ) ) , C16) ) / (( x. 3 ) , C17) ) |= ( ( ( x. 3 ) 'in' D36 ) '&' ( D26 / (( x. 4 ) , ( x. ( 0 ) )) ) ) by L336 , ZF_LANG1:73;
L338: (C16 in ( R30 . R27 ) & C17 in ( R30 . R27 ));
reconsider D44 = C16 , D45 = C17 as (Element of D25) by L338 , L332;
L339: ( D40 / (( x. ( 0 ) ) , C16) ) = ( ( D39 / (D36 , D38) ) / (( x. ( 0 ) ) , C16) ) by ZFMODEL2:8;
L340: ( R30 . R27 ) , ( ( D40 / (( x. ( 0 ) ) , C16) ) / (( x. 3 ) , C17) ) |= ( D26 / (( x. 4 ) , ( x. ( 0 ) )) ) by L337 , ZF_MODEL:15;
L341: ( R30 . R27 ) , ( ( ( D39 / (( x. 3 ) , C17) ) / (( x. ( 0 ) ) , C16) ) / (D36 , D38) ) |= ( D26 / (( x. 4 ) , ( x. ( 0 ) )) ) by L340 , L291 , L295 , L339 , ZFMODEL2:6;
L342: ( R30 . R27 ) , ( ( D39 / (( x. 3 ) , C17) ) / (( x. ( 0 ) ) , C16) ) |= ( D26 / (( x. 4 ) , ( x. ( 0 ) )) ) by L341 , L293 , ZFMODEL2:5;
L343: (( ( ( C8 / (( x. 3 ) , D45) ) / (( x. ( 0 ) ) , D44) ) / (( x. 4 ) , D44) ) = ( ( ( C8 / (( x. 3 ) , D45) ) / (( x. 4 ) , D44) ) / (( x. ( 0 ) ) , D44) ) & ( ( ( C8 / (( x. 3 ) , D45) ) / (( x. ( 0 ) ) , D44) ) . ( x. ( 0 ) ) ) = D44) by FUNCT_7:33 , FUNCT_7:128 , ZF_LANG1:76;
L344: ( ( C8 / (( x. 3 ) , D45) ) / (( x. ( 0 ) ) , D44) ) = ( D25 ! ( ( D39 / (( x. 3 ) , C17) ) / (( x. ( 0 ) ) , C16) ) ) by ZF_LANG1:def 1 , ZF_REFLE:16;
L345: D25 , ( ( C8 / (( x. 3 ) , D45) ) / (( x. ( 0 ) ) , D44) ) |= ( D26 / (( x. 4 ) , ( x. ( 0 ) )) ) by L344 , L262 , L263 , L264 , L342;
L346: D25 , ( ( ( C8 / (( x. 3 ) , D45) ) / (( x. 4 ) , D44) ) / (( x. ( 0 ) ) , D44) ) |= D26 by L345 , L254 , L343 , ZFMODEL2:12;
L347: D25 , ( ( C8 / (( x. 3 ) , D45) ) / (( x. 4 ) , D44) ) |= D26 by L346 , L254 , ZFMODEL2:5;
L348: ( D27 . D45 ) = D44 by L347 , L213 , L236 , ZFMODEL2:10;
L349: (( D40 . D36 ) = ( ( D40 / (( x. ( 0 ) ) , C16) ) . D36 ) & ( D40 . D36 ) = D38) by L290 , L281 , FUNCT_7:32 , FUNCT_7:128 , ZF_LANG1:76;
L350: ( R30 . R27 ) , ( ( D40 / (( x. ( 0 ) ) , C16) ) / (( x. 3 ) , C17) ) |= ( ( x. 3 ) 'in' D36 ) by L337 , ZF_MODEL:15;
L351: ( dom D27 ) = D25 by FUNCT_2:def 1;
L352: (( ( ( D40 / (( x. ( 0 ) ) , C16) ) / (( x. 3 ) , C17) ) . ( x. 3 ) ) = C17 & ( ( ( D40 / (( x. ( 0 ) ) , C16) ) / (( x. 3 ) , C17) ) . D36 ) = ( ( D40 / (( x. ( 0 ) ) , C16) ) . D36 )) by L294 , L281 , FUNCT_7:32 , FUNCT_7:128 , ZF_LANG1:76;
L353: C17 in C12 by L352 , L350 , L349 , ZF_MODEL:13;
thus L354: thesis by L353 , L335 , L348 , L351 , FUNCT_1:def 6;
end;
thus L355: thesis by L331 , L307 , XBOOLE_0:def 10;
end;
suppose L356: (not ( x. 4 ) in ( Free R1 ));

L357: 4 <> ( C9 + 5 ) by NAT_1:11;
L358: ( x. ( C9 + 5 ) ) <> ( x. 4 ) by L357 , ZF_LANG1:76;
L359: ( x. ( C9 + 10 ) ) <> ( x. ( 0 ) ) by L290 , L281 , ZF_LANG1:76;
L360: ((not ( x. ( C9 + 5 ) ) in ( variables_in R1 )) & ( x. ( C9 + 5 ) ) <> ( x. ( 0 ) )) by L210 , L253 , ZF_LANG1:76;
L361: (not ( x. ( 0 ) ) in ( Free D37 )) by L360 , L356 , L359 , L358 , L159;
L362: ( Section (D37 , D40) ) = ( {} ) by L361 , L1;
thus L363: thesis by L362 , L209 , L356 , L141;
end;
end;
thus L365: thesis by L300;
end;
L366: ( R30 . R27 ) in D25 by L205;
thus L367: ( ( def_func' (R1 , C8) ) .: C12 ) in D25 by L366 , L206 , L299 , L11;
end;
L368: ( Union R30 ) is  epsilon-transitive
proof
let R22 being set;
assume L369: R22 in ( Union R30 );
consider R15 being set such that L370: R15 in ( dom R30 ) and L371: R22 in ( R30 . R15 ) by L369 , L48;
reconsider D46 = R15 as Ordinal by L370;
L372: D46 in ( On R23 ) by L370 , ZF_REFLE:def 2;
reconsider D47 = D46 as (Ordinal of R23) by L372 , ZF_REFLE:7;
L373: ( R30 . D47 ) is  epsilon-transitive by L205;
L374: R22 c= ( R30 . D47 ) by L373 , L371 , ORDINAL1:def 2;
let R16 being set;
L375: ( R30 . D47 ) c= ( Union R30 ) by ZF_REFLE:16;
assume L376: R16 in R22;
L377: R16 in ( R30 . D47 ) by L376 , L374;
thus L378: thesis by L377 , L375;
end;
thus L379: thesis by L368 , L207 , ZFMODEL1:15;
end;
L380: (for R1 being ZF-formula holds (for R2 being non  empty set holds (for R5 being (Element of R2) holds (for R9 being (Function of ( VAR ) , R2) holds (for R20 being (Element of ( NAT )) holds (( x. R20 ) in ( Free R1 ) implies ( { [ R20 , R5 ] } \/ ( ( R9 * ( decode ) ) | ( ( code ( Free R1 ) ) \ { R20 } ) ) ) = ( ( ( R9 / (( x. R20 ) , R5) ) * ( decode ) ) | ( code ( Free R1 ) ) )))))))
proof
let R1 being ZF-formula;
let R2 being non  empty set;
let R5 being (Element of R2);
let R9 being (Function of ( VAR ) , R2);
let R20 being (Element of ( NAT ));
set D48 = ( ( R9 / (( x. R20 ) , R5) ) * ( decode ) );
set D49 = ( R9 * ( decode ) );
set D50 = ( D49 | ( ( code ( Free R1 ) ) \ { R20 } ) );
L381: R20 in { R20 } by TARSKI:def 1;
L382: ( dom ( D48 | { R20 } ) ) = ( ( dom D48 ) /\ { R20 } ) by RELAT_1:61
.= ( ( omega ) /\ { R20 } ) by ZF_FUND1:31
.= { R20 } by ZFMISC_1:46;
L383: ( D48 | { R20 } ) = { [ R20 , ( ( D48 | { R20 } ) . R20 ) ] } by L382 , GRFUNC_1:7
.= { [ R20 , ( D48 . R20 ) ] } by L381 , L382 , FUNCT_1:47
.= { [ R20 , ( D48 . ( x". ( x. R20 ) ) ) ] } by ZF_FUND1:def 3
.= { [ R20 , ( ( R9 / (( x. R20 ) , R5) ) . ( x. R20 ) ) ] } by ZF_FUND1:32
.= { [ R20 , R5 ] } by FUNCT_7:128;
L384: ( dom D50 ) = ( ( dom D49 ) /\ ( ( code ( Free R1 ) ) \ { R20 } ) ) by RELAT_1:61
.= ( ( omega ) /\ ( ( code ( Free R1 ) ) \ { R20 } ) ) by ZF_FUND1:31
.= ( ( dom D48 ) /\ ( ( code ( Free R1 ) ) \ { R20 } ) ) by ZF_FUND1:31
.= ( dom ( D48 | ( ( code ( Free R1 ) ) \ { R20 } ) ) ) by RELAT_1:61;
L385:
now
let R15 being set;
assume L386: R15 in ( dom D50 );
L387: R15 in ( ( dom D49 ) /\ ( ( code ( Free R1 ) ) \ { R20 } ) ) by L386 , RELAT_1:61;
L388: R15 in ( ( code ( Free R1 ) ) \ { R20 } ) by L387 , XBOOLE_0:def 4;
L389: R15 in ( code ( Free R1 ) ) by L388 , XBOOLE_0:def 5;
consider R18 being Variable such that L390: R18 in ( Free R1 ) and L391: R15 = ( x". R18 ) by L389 , ZF_FUND1:33;
L392: (not R15 in { R20 }) by L388 , XBOOLE_0:def 5;
L393: R20 <> ( x". R18 ) by L392 , L391 , TARSKI:def 1;
L394: R18 <> ( x. R20 ) by L393 , ZF_FUND1:def 3;
thus L395: ( D50 . R15 ) = ( D49 . R15 ) by L386 , FUNCT_1:47
.= ( R9 . R18 ) by L391 , ZF_FUND1:32
.= ( ( R9 / (( x. R20 ) , R5) ) . R18 ) by L394 , FUNCT_7:32
.= ( D48 . R15 ) by L391 , ZF_FUND1:32
.= ( ( D48 | ( ( code ( Free R1 ) ) \ { R20 } ) ) . R15 ) by L384 , L386 , FUNCT_1:47;
end;
L396: D50 = ( D48 | ( ( code ( Free R1 ) ) \ { R20 } ) ) by L385 , L384 , FUNCT_1:2;
assume L397: ( x. R20 ) in ( Free R1 );
L398: ( x". ( x. R20 ) ) in ( code ( Free R1 ) ) by L397 , ZF_FUND1:33;
L399: R20 in ( code ( Free R1 ) ) by L398 , ZF_FUND1:def 3;
L400: { R20 } c= ( code ( Free R1 ) ) by L399 , ZFMISC_1:31;
L401: ( D48 | ( code ( Free R1 ) ) ) = ( D48 | ( { R20 } \/ ( ( code ( Free R1 ) ) \ { R20 } ) ) ) by L400 , XBOOLE_1:45
.= ( { [ R20 , R5 ] } \/ D50 ) by L383 , L396 , RELAT_1:78;
thus L402: thesis by L401;
end;
theorem
L403: (for R1 being ZF-formula holds (for R2 being non  empty set holds (for R9 being (Function of ( VAR ) , R2) holds ( Section (R1 , R9) ) = { R5 where R5 is (Element of R2) : ( { [ ( {} ) , R5 ] } \/ ( ( R9 * ( decode ) ) | ( ( code ( Free R1 ) ) \ { ( {} ) } ) ) ) in ( Diagram (R1 , R2) ) })))
proof
let R1 being ZF-formula;
let R2 being non  empty set;
let R9 being (Function of ( VAR ) , R2);
set D51 = ( Section (R1 , R9) );
set D52 = { R5 where R5 is (Element of R2) : ( { [ ( {} ) , R5 ] } \/ ( ( R9 * ( decode ) ) | ( ( code ( Free R1 ) ) \ { ( {} ) } ) ) ) in ( Diagram (R1 , R2) ) };
L404:
now
per cases ;
suppose L405: ( x. ( 0 ) ) in ( Free R1 );

L406: D51 = { R5 where R5 is (Element of R2) : R2 , ( R9 / (( x. ( 0 ) ) , R5) ) |= R1 } by L405 , L1;
L407: D52 c= D51
proof
let R15 being set;
assume L408: R15 in D52;
consider R5 being (Element of R2) such that L409: R5 = R15 and L410: ( { [ ( {} ) , R5 ] } \/ ( ( R9 * ( decode ) ) | ( ( code ( Free R1 ) ) \ { ( {} ) } ) ) ) in ( Diagram (R1 , R2) ) by L408;
L411: ( ( ( R9 / (( x. ( 0 ) ) , R5) ) * ( decode ) ) | ( code ( Free R1 ) ) ) in ( Diagram (R1 , R2) ) by L405 , L410 , L380;
L412: (ex R10 being (Function of ( VAR ) , R2) st (( ( ( R9 / (( x. ( 0 ) ) , R5) ) * ( decode ) ) | ( code ( Free R1 ) ) ) = ( ( R10 * ( decode ) ) | ( code ( Free R1 ) ) ) & R10 in ( St (R1 , R2) ))) by L411 , ZF_FUND1:def 5;
L413: ( R9 / (( x. ( 0 ) ) , R5) ) in ( St (R1 , R2) ) by L412 , ZF_FUND1:36;
L414: R2 , ( R9 / (( x. ( 0 ) ) , R5) ) |= R1 by L413 , ZF_MODEL:def 4;
thus L415: thesis by L414 , L406 , L409;
end;
L416: D51 c= D52
proof
let R15 being set;
assume L417: R15 in D51;
consider R5 being (Element of R2) such that L418: R5 = R15 and L419: R2 , ( R9 / (( x. ( 0 ) ) , R5) ) |= R1 by L417 , L406;
L420: ( R9 / (( x. ( 0 ) ) , R5) ) in ( St (R1 , R2) ) by L419 , ZF_MODEL:def 4;
L421: ( ( ( R9 / (( x. ( 0 ) ) , R5) ) * ( decode ) ) | ( code ( Free R1 ) ) ) in ( Diagram (R1 , R2) ) by L420 , ZF_FUND1:def 5;
L422: ( { [ ( {} ) , R5 ] } \/ ( ( R9 * ( decode ) ) | ( ( code ( Free R1 ) ) \ { ( {} ) } ) ) ) in ( Diagram (R1 , R2) ) by L421 , L405 , L380;
thus L423: thesis by L422 , L418;
end;
thus L424: thesis by L416 , L407 , XBOOLE_0:def 10;
end;
suppose L425: (not ( x. ( 0 ) ) in ( Free R1 ));

L426:
now
set D53 = the (Element of D52);
assume L427: D52 <> ( {} );
L428: D53 in D52 by L427;
consider R5 being (Element of R2) such that L429: R5 = D53 and L430: ( { [ ( {} ) , R5 ] } \/ ( ( R9 * ( decode ) ) | ( ( code ( Free R1 ) ) \ { ( {} ) } ) ) ) in ( Diagram (R1 , R2) ) by L428;
consider R11 being (Function of ( VAR ) , R2) such that L431: ( { [ ( {} ) , R5 ] } \/ ( ( R9 * ( decode ) ) | ( ( code ( Free R1 ) ) \ { ( {} ) } ) ) ) = ( ( R11 * ( decode ) ) | ( code ( Free R1 ) ) ) and L432: R11 in ( St (R1 , R2) ) by L430 , ZF_FUND1:def 5;
reconsider D54 = ( { [ ( {} ) , R5 ] } \/ ( ( R9 * ( decode ) ) | ( ( code ( Free R1 ) ) \ { ( {} ) } ) ) ) as Function by L431;
L433: [ ( {} ) , R5 ] in { [ ( {} ) , R5 ] } by TARSKI:def 1;
L434: [ ( {} ) , R5 ] in D54 by L433 , XBOOLE_0:def 3;
L435: ( {} ) in ( dom D54 ) by L434 , FUNCT_1:1;
L436: ( {} ) in ( ( dom ( R11 * ( decode ) ) ) /\ ( code ( Free R1 ) ) ) by L435 , L431 , RELAT_1:61;
L437: ( {} ) in ( code ( Free R1 ) ) by L436 , XBOOLE_0:def 4;
L438: (ex R19 being Variable st (R19 in ( Free R1 ) & ( {} ) = ( x". R19 ))) by L437 , ZF_FUND1:33;
thus L439: contradiction by L438 , L425 , ZF_FUND1:def 3;
end;
thus L440: thesis by L426 , L425 , L1;
end;
end;
thus L442: thesis by L404;
end;
theorem
L443: (for R23 being Universe holds (for R25 being (Subclass of R23) holds ((R25 is  closed_wrt_A1-A7 & R25 is  epsilon-transitive) implies R25 is  predicatively_closed)))
proof
let R23 being Universe;
let R25 being (Subclass of R23);
assume that
L444: R25 is  closed_wrt_A1-A7
and
L445: R25 is  epsilon-transitive;
let R1 being ZF-formula;
let R3 being non  empty set;
let R12 being (Function of ( VAR ) , R3);
assume that
L446: R3 in R25;
L447:
now
per cases ;
suppose L448: (not ( x. ( 0 ) ) in ( Free R1 ));

L449: ( Section (R1 , R12) ) = ( {} ) by L448 , L1;
thus L450: thesis by L449 , L444 , ZF_FUND1:3;
end;
suppose L451: ( x. ( 0 ) ) in ( Free R1 );

reconsider D55 = R3 as (Element of R23) by L446;
reconsider D56 = ( {} ) as (Element of ( omega )) by ORDINAL1:def 11;
set D57 = ( ( code ( Free R1 ) ) \ { D56 } );
L452: ( Diagram (R1 , R3) ) in R25 by L444 , L446 , ZF_FUND1:22;
reconsider D58 = ( Diagram (R1 , R3) ) as (Element of R23) by L452;
L453: D58 c= ( Funcs (( D57 \/ { D56 } ) , D55) )
proof
let R15 being set;
assume L454: R15 in D58;
L455: (ex R13 being (Function of ( VAR ) , R3) st (R15 = ( ( R13 * ( decode ) ) | ( code ( Free R1 ) ) ) & R13 in ( St (R1 , R3) ))) by L454 , ZF_FUND1:def 5;
L456: R15 in ( Funcs (( code ( Free R1 ) ) , D55) ) by L455 , ZF_FUND1:31;
L457: ( x". ( x. ( 0 ) ) ) in ( code ( Free R1 ) ) by L451 , ZF_FUND1:33;
L458: D56 in ( code ( Free R1 ) ) by L457 , ZF_FUND1:def 3;
L459: { D56 } c= ( code ( Free R1 ) ) by L458 , ZFMISC_1:31;
thus L460: thesis by L459 , L456 , XBOOLE_1:45;
end;
L461: D56 in { D56 } by TARSKI:def 1;
L462: (not D56 in D57) by L461 , XBOOLE_0:def 5;
L463: ( ( R12 * ( decode ) ) | D57 ) in ( Funcs (D57 , D55) ) by ZF_FUND1:31;
L464: ( Funcs (D57 , D55) ) in R25 by L444 , L446 , ZF_FUND1:9;
reconsider D59 = ( ( R12 * ( decode ) ) | D57 ) as (Element of R23) by L464 , L463 , ZF_FUND1:1;
set D60 = { R4 where R4 is (Element of R3) : ( { [ D56 , R4 ] } \/ D59 ) in D58 };
set D61 = { R24 where R24 is (Element of R23) : (R24 in D55 & ( { [ D56 , R24 ] } \/ D59 ) in D58) };
L465: D61 = D60
proof
thus L466: D61 c= D60
proof
let R15 being set;
assume L467: R15 in D61;
L468: (ex R24 being (Element of R23) st (R15 = R24 & R24 in D55 & ( { [ D56 , R24 ] } \/ D59 ) in D58)) by L467;
thus L469: thesis by L468;
end;

let R15 being set;
assume L470: R15 in D60;
consider R4 being (Element of R3) such that L471: R15 = R4 and L472: ( { [ D56 , R4 ] } \/ D59 ) in D58 by L470;
reconsider D62 = R4 as (Element of R23) by L446 , ZF_FUND1:1;
L473: D62 in D61 by L472;
thus L474: thesis by L473 , L471;
end;
L475: D55 c= R25 by L445 , L446 , ORDINAL1:def 2;
L476: D61 in R25 by L475 , L444 , L446 , L452 , L463 , L462 , L453 , ZF_FUND1:16;
thus L477: thesis by L476 , L465 , L403;
end;
end;
thus L479: thesis by L447;
end;
theorem
L480: (for R23 being Universe holds (for R30 being (DOMAIN-Sequence of R23) holds ((( omega ) in R23 & (for R26 being (Ordinal of R23) holds (for R28 being (Ordinal of R23) holds (R26 in R28 implies ( R30 . R26 ) c= ( R30 . R28 )))) & (for R26 being (Ordinal of R23) holds ((R26 <> ( {} ) & R26 is  limit_ordinal) implies ( R30 . R26 ) = ( Union ( R30 | R26 ) ))) & (for R26 being (Ordinal of R23) holds (( R30 . R26 ) in ( Union R30 ) & ( R30 . R26 ) is  epsilon-transitive)) & ( Union R30 ) is  closed_wrt_A1-A7) implies ( Union R30 ) is  being_a_model_of_ZF)))
proof
let R23 being Universe;
let R30 being (DOMAIN-Sequence of R23);
assume that
L481: ( omega ) in R23
and
L482: (for R26 being (Ordinal of R23) holds (for R28 being (Ordinal of R23) holds (R26 in R28 implies ( R30 . R26 ) c= ( R30 . R28 ))))
and
L483: (for R26 being (Ordinal of R23) holds ((R26 <> ( {} ) & R26 is  limit_ordinal) implies ( R30 . R26 ) = ( Union ( R30 | R26 ) )))
and
L484: (for R26 being (Ordinal of R23) holds (( R30 . R26 ) in ( Union R30 ) & ( R30 . R26 ) is  epsilon-transitive))
and
L485: ( Union R30 ) is  closed_wrt_A1-A7;
L486: ( Union R30 ) is  epsilon-transitive
proof
let R22 being set;
assume L487: R22 in ( Union R30 );
consider R15 being set such that L488: R15 in ( dom R30 ) and L489: R22 in ( R30 . R15 ) by L487 , L48;
reconsider D63 = R15 as Ordinal by L488;
L490: D63 in ( On R23 ) by L488 , ZF_REFLE:def 2;
reconsider D64 = D63 as (Ordinal of R23) by L490 , ZF_REFLE:7;
L491: ( R30 . D64 ) is  epsilon-transitive by L484;
L492: R22 c= ( R30 . D64 ) by L491 , L489 , ORDINAL1:def 2;
let R16 being set;
L493: ( R30 . D64 ) c= ( Union R30 ) by ZF_REFLE:16;
assume L494: R16 in R22;
L495: R16 in ( R30 . D64 ) by L494 , L492;
thus L496: thesis by L495 , L493;
end;
L497: ( Union R30 ) is  predicatively_closed by L486 , L485 , L443;
L498: (( Union R30 ) |= ( the_axiom_of_power_sets ) & (for R1 being ZF-formula holds ({ ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free R1 ) implies ( Union R30 ) |= ( the_axiom_of_substitution_for R1 )))) by L497 , L481 , L482 , L483 , L484 , L55 , L201;
L499: (for R15 being set holds (R15 in ( Union R30 ) implies ( union R15 ) in ( Union R30 ))) by L485 , ZF_FUND1:2;
L500: ( Union R30 ) |= ( the_axiom_of_unions ) by L499 , L486 , ZFMODEL1:5;
L501: (for R16 being set holds (for R17 being set holds ((R16 in ( Union R30 ) & R17 in ( Union R30 )) implies { R16 , R17 } in ( Union R30 )))) by L485 , ZF_FUND1:6;
L502: ( Union R30 ) |= ( the_axiom_of_pairs ) by L501 , L486 , ZFMODEL1:3;
L503: (ex R15 being set st (R15 in ( Union R30 ) & R15 <> ( {} ) & (for R16 being set holds (R16 in R15 implies (ex R17 being set st (R16 c< R17 & R17 in R15))))))
proof
L504: ( card ( omega ) ) in ( card R23 ) by L481 , CLASSES2:1;
deffunc H1(set , set) = ( inf { R24 where R24 is (Element of R23) : ( R30 . $2 ) in ( R30 . R24 ) } );
consider C18 being Function such that L505: (( dom C18 ) = ( NAT ) & ( C18 . ( 0 ) ) = ( 0-element_of R23 ) & (for B12 being Nat holds ( C18 . ( B12 + 1 ) ) = H1(B12 , ( C18 . B12 )))) from NAT_1:sch 11;
L506: ( card ( rng C18 ) ) c= ( card ( NAT ) ) by L505 , CARD_1:12;
L507: ( card ( rng C18 ) ) in ( card R23 ) by L506 , L504 , ORDINAL1:12;
set D65 = ( sup ( rng C18 ) );
L508: (for R20 being (Element of ( NAT )) holds (( C18 . R20 ) in ( On R23 ) & ( C18 . R20 ) is (Ordinal of R23)))
proof
defpred S3[ (Element of ( NAT )) ] means (( C18 . $1 ) in ( On R23 ) & ( C18 . $1 ) is (Ordinal of R23));
L509:
now
let R20 being (Element of ( NAT ));
assume L510: S3[ R20 ];
reconsider D66 = ( C18 . R20 ) as (Ordinal of R23) by L510;
L511: ( C18 . ( R20 + 1 ) ) = ( inf { R24 where R24 is (Element of R23) : ( R30 . D66 ) in ( R30 . R24 ) } ) by L505;
consider R15 being set such that L512: R15 in ( dom R30 ) and L513: ( R30 . D66 ) in ( R30 . R15 ) by L484 , L48;
L514: ( dom R30 ) = ( On R23 ) by ZF_REFLE:def 2;
reconsider D67 = R15 as (Ordinal of R23) by L514 , L512 , ZF_REFLE:7;
L515: D67 in { R24 where R24 is (Element of R23) : ( R30 . D66 ) in ( R30 . R24 ) } by L513;
L516: ( inf { R24 where R24 is (Element of R23) : ( R30 . D66 ) in ( R30 . R24 ) } ) c= D67 by L515 , ORDINAL2:14;
L517: ( C18 . ( R20 + 1 ) ) in R23 by L516 , L511 , CLASSES1:def 1;
thus L518: S3[ ( R20 + 1 ) ] by L517 , L511 , ORDINAL1:def 9;
end;
L519: S3[ ( 0 ) ] by L505 , ZF_REFLE:7;
thus L520: (for R20 being (Element of ( NAT )) holds S3[ R20 ]) from NAT_1:sch 1(L519 , L509);
end;
L521: ( rng C18 ) c= R23
proof
let C19 being set;
assume L522: C19 in ( rng C18 );
consider C20 being set such that L523: C20 in ( dom C18 ) and L524: C19 = ( C18 . C20 ) by L522 , FUNCT_1:def 3;
reconsider D68 = C20 as (Element of ( NAT )) by L505 , L523;
L525: ( C18 . D68 ) in ( On R23 ) by L508;
thus L526: thesis by L525 , L524 , ORDINAL1:def 9;
end;
L527: ( rng C18 ) in R23 by L521 , L507 , CLASSES1:1;
reconsider D69 = D65 as (Ordinal of R23) by L527 , ZF_REFLE:19;
L528: (for R20 being (Element of ( NAT )) holds ( R30 . ( C18 . R20 ) ) in ( R30 . ( C18 . ( R20 + 1 ) ) ))
proof
let R20 being (Element of ( NAT ));
reconsider D70 = ( C18 . R20 ) as (Ordinal of R23) by L508;
consider C21 being set such that L529: C21 in ( dom R30 ) and L530: ( R30 . D70 ) in ( R30 . C21 ) by L484 , L48;
L531: C21 in ( On R23 ) by L529 , ZF_REFLE:def 2;
reconsider D71 = C21 as (Ordinal of R23) by L531 , ZF_REFLE:7;
L532: D71 in { R24 where R24 is (Element of R23) : ( R30 . D70 ) in ( R30 . R24 ) } by L530;
L533: ( C18 . ( R20 + 1 ) ) = ( inf { R24 where R24 is (Element of R23) : ( R30 . ( C18 . R20 ) ) in ( R30 . R24 ) } ) by L505;
L534: ( C18 . ( R20 + 1 ) ) in { R24 where R24 is (Element of R23) : ( R30 . ( C18 . R20 ) ) in ( R30 . R24 ) } by L533 , L532 , ORDINAL2:17;
L535: (ex R24 being (Element of R23) st (R24 = ( C18 . ( R20 + 1 ) ) & ( R30 . D70 ) in ( R30 . R24 ))) by L534;
thus L536: thesis by L535;
end;
L537: (for R20 being (Element of ( NAT )) holds ( C18 . R20 ) in ( C18 . ( R20 + 1 ) ))
proof
let R20 being (Element of ( NAT ));
reconsider D72 = ( C18 . ( R20 + 1 ) ) as (Ordinal of R23) by L508;
reconsider D73 = ( C18 . R20 ) as (Ordinal of R23) by L508;
assume L538: (not ( C18 . R20 ) in ( C18 . ( R20 + 1 ) ));
L539: (D72 = D73 or D72 in D73) by L538 , ORDINAL1:14;
L540: ( R30 . D72 ) c= ( R30 . D73 ) by L539 , L482;
thus L541: contradiction by L540 , L528 , ORDINAL1:5;
end;
L542: D69 c= ( union D69 )
proof
let C22 being Ordinal;
assume L543: C22 in D69;
consider C23 being Ordinal such that L544: C23 in ( rng C18 ) and L545: C22 c= C23 by L543 , ORDINAL2:21;
consider C24 being set such that L546: C24 in ( dom C18 ) and L547: C23 = ( C18 . C24 ) by L544 , FUNCT_1:def 3;
reconsider D74 = C24 as (Element of ( NAT )) by L505 , L546;
reconsider D75 = ( C18 . ( D74 + 1 ) ) as (Ordinal of R23) by L508;
L548: D75 in ( rng C18 ) by L505 , FUNCT_1:def 3;
L549: D75 in D69 by L548 , ORDINAL2:19;
L550: C22 in D75 by L537 , L545 , L547 , ORDINAL1:12;
thus L551: thesis by L550 , L549 , TARSKI:def 4;
end;
L552: ( union D69 ) c= D69 by ORDINAL2:5;
L553: D69 = ( union D69 ) by L552 , L542 , XBOOLE_0:def 10;
L554: D69 is  limit_ordinal by L553 , ORDINAL1:def 6;
L555: ( union { ( R30 . ( C18 . R21 ) ) where R21 is (Element of ( NAT )) : (not contradiction) } ) = ( R30 . D69 )
proof
set D76 = { ( R30 . ( C18 . R21 ) ) where R21 is (Element of ( NAT )) : (not contradiction) };
thus L556: ( union D76 ) c= ( R30 . D69 )
proof
let R16 being set;
assume L557: R16 in ( union D76 );
consider R22 being set such that L558: R16 in R22 and L559: R22 in D76 by L557 , TARSKI:def 4;
consider R21 being (Element of ( NAT )) such that L560: R22 = ( R30 . ( C18 . R21 ) ) by L559;
reconsider D77 = ( C18 . R21 ) as (Ordinal of R23) by L508;
L561: D77 in ( rng C18 ) by L505 , FUNCT_1:def 3;
L562: ( R30 . D77 ) c= ( R30 . D69 ) by L561 , L482 , ORDINAL2:19;
thus L563: thesis by L562 , L558 , L560;
end;

L564: ( 0-element_of R23 ) in ( rng C18 ) by L505 , FUNCT_1:def 3;
L565: D69 <> ( {} ) by L564 , ORDINAL2:19;
L566: ( R30 . D69 ) = ( Union ( R30 | D69 ) ) by L565 , L483 , L554;
let R16 being set;
assume L567: R16 in ( R30 . D69 );
consider R17 being set such that L568: R17 in ( dom ( R30 | D69 ) ) and L569: R16 in ( ( R30 | D69 ) . R17 ) by L567 , L566 , L48;
L570: R16 in ( R30 . R17 ) by L568 , L569 , FUNCT_1:47;
L571: R17 in ( ( dom R30 ) /\ D69 ) by L568 , RELAT_1:61;
L572: R17 in D69 by L571 , XBOOLE_0:def 4;
L573: R17 in ( dom R30 ) by L571 , XBOOLE_0:def 4;
L574: R17 in ( On R23 ) by L573 , ZF_REFLE:def 2;
reconsider D78 = R17 as (Ordinal of R23) by L574 , ZF_REFLE:7;
consider C25 being Ordinal such that L575: C25 in ( rng C18 ) and L576: D78 c= C25 by L572 , ORDINAL2:21;
consider C26 being set such that L577: C26 in ( dom C18 ) and L578: C25 = ( C18 . C26 ) by L575 , FUNCT_1:def 3;
reconsider D79 = C26 as (Element of ( NAT )) by L505 , L577;
L579: C25 = ( C18 . D79 ) by L578;
reconsider D80 = C25 as (Ordinal of R23) by L579 , L508;
L580: (D78 c< D80 iff (D78 c= D80 & D78 <> D80)) by XBOOLE_0:def 8;
L581: ( R30 . D78 ) c= ( R30 . D80 ) by L580 , L482 , L576 , ORDINAL1:11;
L582: ( R30 . ( C18 . D79 ) ) in D76;
thus L583: thesis by L582 , L570 , L578 , L581 , TARSKI:def 4;
end;
take D81 = ( R30 . D65 );
L584: ( R30 . D69 ) in ( Union R30 ) by L484;
thus L585: (D81 in ( Union R30 ) & D81 <> ( {} )) by L584;
let R16 being set;
assume L586: R16 in D81;
consider R17 being set such that L587: (R16 in R17 & R17 in { ( R30 . ( C18 . R21 ) ) where R21 is (Element of ( NAT )) : (not contradiction) }) by L586 , L555 , TARSKI:def 4;
take R17;
consider R20 being (Element of ( NAT )) such that L588: R17 = ( R30 . ( C18 . R20 ) ) by L587;
L589: R16 <> R17 by L587;
reconsider D82 = ( C18 . R20 ) as (Ordinal of R23) by L508;
L590: ( R30 . D82 ) is  epsilon-transitive by L484;
L591: R16 c= R17 by L590 , L587 , L588 , ORDINAL1:def 2;
thus L592: R16 c< R17 by L591 , L589 , XBOOLE_0:def 8;
L593: ( R30 . ( C18 . ( R20 + 1 ) ) ) in { ( R30 . ( C18 . R21 ) ) where R21 is (Element of ( NAT )) : (not contradiction) };
L594: ( R30 . ( C18 . R20 ) ) in ( R30 . ( C18 . ( R20 + 1 ) ) ) by L528;
thus L595: R17 in D81 by L594 , L555 , L588 , L593 , TARSKI:def 4;
end;
L596: ( Union R30 ) |= ( the_axiom_of_infinity ) by L503 , L486 , ZFMODEL1:7;
thus L597: thesis by L596 , L486 , L502 , L500 , L498 , ZF_MODEL:def 12;
end;
