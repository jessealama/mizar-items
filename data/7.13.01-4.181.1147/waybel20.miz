:: Kernel Projections and Quotient Lattices
::  by Piotr Rudnicki
::
:: Received July 6, 1998
:: Copyright (c) 1998-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies SUBSET_1, RELAT_1, XBOOLE_0, FUNCT_1, ZFMISC_1, EQREL_1, RELAT_2,
      ORDERS_2, STRUCT_0, TARSKI, YELLOW_0, LATTICES, LATTICE3, ORDINAL2,
      WAYBEL_0, WELLORD1, CAT_1, XXREAL_0, REWRITE1, WAYBEL_1, GROUP_6, SEQM_3,
      YELLOW_1, WAYBEL_3, PBOOLE, CARD_3, FINSET_1, FUNCT_4, WAYBEL16,
      WAYBEL_5, BINOP_1, SETFAM_1, WAYBEL20;
 notations TARSKI, XBOOLE_0, ZFMISC_1,
      XTUPLE_0, SUBSET_1, RELAT_1, SETFAM_1, RELAT_2,
      FUNCT_1, PBOOLE, RELSET_1, PARTFUN1, BINOP_1, FUNCT_2, FINSET_1,
      DOMAIN_1, EQREL_1, FUNCT_3, FUNCT_7, STRUCT_0, ORDERS_2, LATTICE3,
      QUANTAL1, YELLOW_0, YELLOW_1, YELLOW_2, YELLOW_3, WAYBEL_0, WAYBEL_1,
      WAYBEL_3, WAYBEL_5, WAYBEL16;
 constructors DOMAIN_1, FUNCT_7, MONOID_0, QUANTAL1, ORDERS_3, WAYBEL_1,
      YELLOW_3, WAYBEL16, RELSET_1, XTUPLE_0;
 registrations XBOOLE_0, SUBSET_1, RELAT_1, PARTFUN1, FUNCT_2, FINSET_1,
      STRUCT_0, LATTICE3, YELLOW_0, MONOID_0, WAYBEL_0, YELLOW_2, WAYBEL_1,
      YELLOW_3, WAYBEL_3, WAYBEL10, YELLOW_9, RELSET_1, XTUPLE_0;
 requirements SUBSET, BOOLE;
 definitions TARSKI, RELAT_2, LATTICE3, LATTICE5, YELLOW_0, WAYBEL_0, WAYBEL_1,
      WAYBEL_3, YELLOW_2, BINOP_1, STRUCT_0, XTUPLE_0;
 theorems TARSKI, ZFMISC_1, RELAT_1, RELAT_2, FUNCT_1, FUNCT_2, FUNCT_3,
      FUNCT_5, FUNCT_7, CARD_3, ORDERS_2, LATTICE3, LATTICE5, QUANTAL1,
      EQREL_1, YELLOW_0, YELLOW_2, YELLOW_3, YELLOW10, WAYBEL_0, WAYBEL_1,
      WAYBEL_3, WAYBEL_5, WAYBEL13, WAYBEL15, WAYBEL16, WAYBEL17, XBOOLE_0,
      XBOOLE_1, PARTFUN1, ORDERS_1, XTUPLE_0;
 schemes YELLOW_0, FUNCT_2, PBOOLE;

begin
theorem
L1: (for B1 being set holds (for B2 being (Subset of ( id B1 )) holds ( proj1 B2 ) = ( proj2 B2 )))
proof
let C1 being set;
let C2 being (Subset of ( id C1 ));
L2:
now
let C3 being set;
thus L3:now
assume L4: C3 in ( proj1 C2 );
consider C4 being set such that L5: [ C3 , C4 ] in C2 by L4 , XTUPLE_0:def 12;
L6: C3 = C4 by L5 , RELAT_1:def 10;
thus L7: C3 in ( proj2 C2 ) by L6 , L5 , XTUPLE_0:def 13;
end;
assume L8: C3 in ( proj2 C2 );
consider C5 being set such that L9: [ C5 , C3 ] in C2 by L8 , XTUPLE_0:def 13;
L10: C3 = C5 by L9 , RELAT_1:def 10;
thus L11: C3 in ( proj1 C2 ) by L10 , L9 , XTUPLE_0:def 12;
end;
thus L12: thesis by L2 , TARSKI:1;
end;
theorem
L13: (for B3 , B4 being non  empty set holds (for B5 being (Function of B3 , B4) holds ( [: B5 , B5 :] " ( id B4 ) ) is (Equivalence_Relation of B3)))
proof
let C6 , C7 being non  empty set;
let C8 being (Function of C6 , C7);
set D1 = ( [: C8 , C8 :] " ( id C7 ) );
L14: ( dom C8 ) = C6 by FUNCT_2:def 1;
reconsider D2 = D1 as (Relation of C6);
L15: ( dom [: C8 , C8 :] ) = [: ( dom C8 ) , ( dom C8 ) :] by FUNCT_3:def 8;
L16: D2 is_reflexive_in C6
proof
let C9 being set;
assume L17: C9 in C6;
reconsider D3 = C9 as (Element of C6) by L17;
L18: [ ( C8 . D3 ) , ( C8 . D3 ) ] in ( id C7 ) by RELAT_1:def 10;
L19: ([ C9 , C9 ] in ( dom [: C8 , C8 :] ) & [ ( C8 . C9 ) , ( C8 . C9 ) ] = ( [: C8 , C8 :] . (C9 , C9) )) by L15 , L14 , L17 , FUNCT_3:def 8 , ZFMISC_1:def 2;
thus L20: thesis by L19 , L18 , FUNCT_1:def 7;
end;
L21: (( dom D2 ) = C6 & ( field D2 ) = C6) by L16 , ORDERS_1:13;
L22: D2 is_symmetric_in C6
proof
let C10 , C11 being set;
assume that
L23: (C10 in C6 & C11 in C6)
and
L24: [ C10 , C11 ] in D2;
reconsider D4 = C10 , D5 = C11 as (Element of C6) by L23;
L25: ([ C11 , C10 ] in ( dom [: C8 , C8 :] ) & [ ( C8 . C11 ) , ( C8 . C10 ) ] = ( [: C8 , C8 :] . (C11 , C10) )) by L15 , L14 , L23 , FUNCT_3:def 8 , ZFMISC_1:def 2;
L26: (( [: C8 , C8 :] . [ C10 , C11 ] ) in ( id C7 ) & [ ( C8 . C10 ) , ( C8 . C11 ) ] = ( [: C8 , C8 :] . (C10 , C11) )) by L14 , L23 , L24 , FUNCT_1:def 7 , FUNCT_3:def 8;
L27: ( C8 . D4 ) = ( C8 . D5 ) by L26 , RELAT_1:def 10;
thus L28: thesis by L27 , L26 , L25 , FUNCT_1:def 7;
end;
L29: D2 is_transitive_in C6
proof
let C12 , C13 , C14 being set;
assume that
L30: C12 in C6
and
L31: C13 in C6
and
L32: C14 in C6
and
L33: [ C12 , C13 ] in D2
and
L34: [ C13 , C14 ] in D2;
L35: ([ C12 , C14 ] in ( dom [: C8 , C8 :] ) & [ ( C8 . C12 ) , ( C8 . C14 ) ] = ( [: C8 , C8 :] . (C12 , C14) )) by L15 , L14 , L30 , L32 , FUNCT_3:def 8 , ZFMISC_1:def 2;
reconsider D6 = C13 , D7 = C14 as (Element of C6) by L31 , L32;
L36: (( [: C8 , C8 :] . [ C13 , C14 ] ) in ( id C7 ) & [ ( C8 . C13 ) , ( C8 . C14 ) ] = ( [: C8 , C8 :] . (C13 , C14) )) by L14 , L31 , L32 , L34 , FUNCT_1:def 7 , FUNCT_3:def 8;
L37: ( C8 . D6 ) = ( C8 . D7 ) by L36 , RELAT_1:def 10;
L38: (( [: C8 , C8 :] . [ C12 , C13 ] ) in ( id C7 ) & [ ( C8 . C12 ) , ( C8 . C13 ) ] = ( [: C8 , C8 :] . (C12 , C13) )) by L14 , L30 , L31 , L33 , FUNCT_1:def 7 , FUNCT_3:def 8;
thus L39: thesis by L38 , L37 , L35 , FUNCT_1:def 7;
end;
thus L40: thesis by L29 , L21 , L22 , PARTFUN1:def 2 , RELAT_2:def 11 , RELAT_2:def 16;
end;
definition
let C15 , C16 , C17 , C18 being RelStr;
let C19 being (Function of C15 , C17);
let C20 being (Function of C16 , C18);
redefine func [:C19 , C20 :] -> (Function of [: C15 , C16 :] , [: C17 , C18 :]);

coherence
proof
L41: ((the carrier of [: C15 , C16 :]) = [: (the carrier of C15) , (the carrier of C16) :] & (the carrier of [: C17 , C18 :]) = [: (the carrier of C17) , (the carrier of C18) :]) by YELLOW_3:def 2;
thus L42: [: C19 , C20 :] is (Function of [: C15 , C16 :] , [: C17 , C18 :]) by L41;
end;
end;
theorem
L44: (for B6 , B7 being Function holds (for B8 being set holds (( proj1 ( [: B6 , B7 :] .: B8 ) ) c= ( B6 .: ( proj1 B8 ) ) & ( proj2 ( [: B6 , B7 :] .: B8 ) ) c= ( B7 .: ( proj2 B8 ) ))))
proof
let C21 , C22 being Function;
let C23 being set;
L45: ( dom [: C21 , C22 :] ) = [: ( dom C21 ) , ( dom C22 ) :] by FUNCT_3:def 8;
thus L46:now
let C24 being set;
assume L47: C24 in ( proj1 ( [: C21 , C22 :] .: C23 ) );
consider C25 being set such that L48: [ C24 , C25 ] in ( [: C21 , C22 :] .: C23 ) by L47 , XTUPLE_0:def 12;
consider C26 being set such that L49: C26 in ( dom [: C21 , C22 :] ) and L50: C26 in C23 and L51: [ C24 , C25 ] = ( [: C21 , C22 :] . C26 ) by L48 , FUNCT_1:def 6;
consider C27 , C28 being set such that L52: C27 in ( dom C21 ) and L53: C28 in ( dom C22 ) and L54: C26 = [ C27 , C28 ] by L45 , L49 , ZFMISC_1:def 2;
L55: [ C24 , C25 ] = ( [: C21 , C22 :] . (C27 , C28) ) by L51 , L54
.= [ ( C21 . C27 ) , ( C22 . C28 ) ] by L52 , L53 , FUNCT_3:def 8;
L56: C24 = ( C21 . C27 ) by L55 , XTUPLE_0:1;
L57: C27 in ( proj1 C23 ) by L50 , L54 , XTUPLE_0:def 12;
thus L58: C24 in ( C21 .: ( proj1 C23 ) ) by L57 , L52 , L56 , FUNCT_1:def 6;
end;
let C29 being set;
assume L59: C29 in ( proj2 ( [: C21 , C22 :] .: C23 ) );
consider C30 being set such that L60: [ C30 , C29 ] in ( [: C21 , C22 :] .: C23 ) by L59 , XTUPLE_0:def 13;
consider C31 being set such that L61: C31 in ( dom [: C21 , C22 :] ) and L62: C31 in C23 and L63: [ C30 , C29 ] = ( [: C21 , C22 :] . C31 ) by L60 , FUNCT_1:def 6;
consider C32 , C33 being set such that L64: C32 in ( dom C21 ) and L65: C33 in ( dom C22 ) and L66: C31 = [ C32 , C33 ] by L45 , L61 , ZFMISC_1:def 2;
L67: [ C30 , C29 ] = ( [: C21 , C22 :] . (C32 , C33) ) by L63 , L66
.= [ ( C21 . C32 ) , ( C22 . C33 ) ] by L64 , L65 , FUNCT_3:def 8;
L68: C29 = ( C22 . C33 ) by L67 , XTUPLE_0:1;
L69: C33 in ( proj2 C23 ) by L62 , L66 , XTUPLE_0:def 13;
thus L70: thesis by L69 , L65 , L68 , FUNCT_1:def 6;
end;
theorem
L71: (for B9 , B10 being Function holds (for B11 being set holds (B11 c= [: ( dom B9 ) , ( dom B10 ) :] implies (( proj1 ( [: B9 , B10 :] .: B11 ) ) = ( B9 .: ( proj1 B11 ) ) & ( proj2 ( [: B9 , B10 :] .: B11 ) ) = ( B10 .: ( proj2 B11 ) )))))
proof
let C34 , C35 being Function;
let C36 being set;
assume that
L72: C36 c= [: ( dom C34 ) , ( dom C35 ) :];
L73: ( dom [: C34 , C35 :] ) = [: ( dom C34 ) , ( dom C35 ) :] by FUNCT_3:def 8;
L74: ( proj1 ( [: C34 , C35 :] .: C36 ) ) c= ( C34 .: ( proj1 C36 ) ) by L44;
L75:
now
let C37 being set;
thus L76: (C37 in ( proj1 ( [: C34 , C35 :] .: C36 ) ) implies C37 in ( C34 .: ( proj1 C36 ) )) by L74;
assume L77: C37 in ( C34 .: ( proj1 C36 ) );
consider C38 being set such that L78: C38 in ( dom C34 ) and L79: C38 in ( proj1 C36 ) and L80: C37 = ( C34 . C38 ) by L77 , FUNCT_1:def 6;
consider C39 being set such that L81: [ C38 , C39 ] in C36 by L79 , XTUPLE_0:def 12;
L82: C39 in ( dom C35 ) by L72 , L81 , ZFMISC_1:87;
L83: ( [: C34 , C35 :] . (C38 , C39) ) = [ ( C34 . C38 ) , ( C35 . C39 ) ] by L82 , L78 , FUNCT_3:def 8;
L84: [ C37 , ( C35 . C39 ) ] in ( [: C34 , C35 :] .: C36 ) by L83 , L72 , L73 , L80 , L81 , FUNCT_1:def 6;
thus L85: C37 in ( proj1 ( [: C34 , C35 :] .: C36 ) ) by L84 , XTUPLE_0:def 12;
end;
thus L86: ( proj1 ( [: C34 , C35 :] .: C36 ) ) = ( C34 .: ( proj1 C36 ) ) by L75 , TARSKI:1;
L87: ( proj2 ( [: C34 , C35 :] .: C36 ) ) c= ( C35 .: ( proj2 C36 ) ) by L44;
L88:
now
let C40 being set;
thus L89: (C40 in ( proj2 ( [: C34 , C35 :] .: C36 ) ) implies C40 in ( C35 .: ( proj2 C36 ) )) by L87;
assume L90: C40 in ( C35 .: ( proj2 C36 ) );
consider C41 being set such that L91: C41 in ( dom C35 ) and L92: C41 in ( proj2 C36 ) and L93: C40 = ( C35 . C41 ) by L90 , FUNCT_1:def 6;
consider C42 being set such that L94: [ C42 , C41 ] in C36 by L92 , XTUPLE_0:def 13;
L95: C42 in ( dom C34 ) by L72 , L94 , ZFMISC_1:87;
L96: ( [: C34 , C35 :] . (C42 , C41) ) = [ ( C34 . C42 ) , ( C35 . C41 ) ] by L95 , L91 , FUNCT_3:def 8;
L97: [ ( C34 . C42 ) , C40 ] in ( [: C34 , C35 :] .: C36 ) by L96 , L72 , L73 , L93 , L94 , FUNCT_1:def 6;
thus L98: C40 in ( proj2 ( [: C34 , C35 :] .: C36 ) ) by L97 , XTUPLE_0:def 13;
end;
thus L99: thesis by L88 , TARSKI:1;
end;
theorem
L100: (for B12 being non  empty  antisymmetric RelStr holds ( ex_inf_of ( {} ) , B12 implies B12 is  upper-bounded))
proof
let C43 being non  empty  antisymmetric RelStr;
assume L101:  ex_inf_of ( {} ) , C43;
take ( Top C43 );
let C44 being (Element of C43);
L102: ( {} ) is_>=_than C44 by YELLOW_0:6;
thus L103: thesis by L102 , L101 , YELLOW_0:31;
end;
theorem
L104: (for B13 being non  empty  antisymmetric RelStr holds ( ex_sup_of ( {} ) , B13 implies B13 is  lower-bounded))
proof
let C45 being non  empty  antisymmetric RelStr;
assume L105:  ex_sup_of ( {} ) , C45;
take ( Bottom C45 );
let C46 being (Element of C45);
L106: ( {} ) is_<=_than C46 by YELLOW_0:6;
thus L107: thesis by L106 , L105 , YELLOW_0:30;
end;
theorem
L108: (for B14 , B15 being  antisymmetric non  empty RelStr holds (for B16 being (Subset of [: B14 , B15 :]) holds ( ex_inf_of B16 , [: B14 , B15 :] implies ( inf B16 ) = [ ( inf ( proj1 B16 ) ) , ( inf ( proj2 B16 ) ) ])))
proof
let C47 , C48 being  antisymmetric non  empty RelStr;
let C49 being (Subset of [: C47 , C48 :]);
assume that
L109:  ex_inf_of C49 , [: C47 , C48 :];
per cases ;
suppose L110: C49 <> ( {} );

thus L111: thesis by L110 , L109 , YELLOW_3:47;
end;
suppose L112: C49 = ( {} );

L113:  ex_inf_of ( {} ) , C48 by L112 , L109 , FUNCT_5:8 , YELLOW_3:42;
L114: C48 is  upper-bounded by L113 , L100;
L115:  ex_inf_of ( {} ) , C47 by L109 , L112 , FUNCT_5:8 , YELLOW_3:42;
L116: C47 is  upper-bounded by L115 , L100;
thus L117: thesis by L116 , L109 , L114 , YELLOW10:6;
end;
end;
theorem
L119: (for B17 , B18 being  antisymmetric non  empty RelStr holds (for B19 being (Subset of [: B17 , B18 :]) holds ( ex_sup_of B19 , [: B17 , B18 :] implies ( sup B19 ) = [ ( sup ( proj1 B19 ) ) , ( sup ( proj2 B19 ) ) ])))
proof
let C50 , C51 being  antisymmetric non  empty RelStr;
let C52 being (Subset of [: C50 , C51 :]);
assume that
L120:  ex_sup_of C52 , [: C50 , C51 :];
per cases ;
suppose L121: C52 <> ( {} );

thus L122: thesis by L121 , L120 , YELLOW_3:46;
end;
suppose L123: C52 = ( {} );

L124:  ex_sup_of ( {} ) , C51 by L123 , L120 , FUNCT_5:8 , YELLOW_3:41;
L125: C51 is  lower-bounded by L124 , L104;
L126:  ex_sup_of ( {} ) , C50 by L120 , L123 , FUNCT_5:8 , YELLOW_3:41;
L127: C50 is  lower-bounded by L126 , L104;
thus L128: thesis by L127 , L120 , L125 , YELLOW10:5;
end;
end;
theorem
L130: (for B20 , B21 , B22 , B23 being  antisymmetric non  empty RelStr holds (for B24 being (Function of B20 , B22) holds (for B25 being (Function of B21 , B23) holds ((B24 is  infs-preserving & B25 is  infs-preserving) implies [: B24 , B25 :] is  infs-preserving))))
proof
let C53 , C54 , C55 , C56 being  antisymmetric non  empty RelStr;
let C57 being (Function of C53 , C55);
let C58 being (Function of C54 , C56);
assume that
L131: C57 is  infs-preserving
and
L132: C58 is  infs-preserving;
let C59 being (Subset of [: C53 , C54 :]);
L133: C57 preserves_inf_of ( proj1 C59 ) by L131 , WAYBEL_0:def 32;
L134: C58 preserves_inf_of ( proj2 C59 ) by L132 , WAYBEL_0:def 32;
set D8 = ( [: C57 , C58 :] .: C59 );
L135: (( dom C57 ) = (the carrier of C53) & ( dom C58 ) = (the carrier of C54)) by FUNCT_2:def 1;
assume L136:  ex_inf_of C59 , [: C53 , C54 :];
L137:  ex_inf_of ( proj1 C59 ) , C53 by L136 , YELLOW_3:42;
L138:  ex_inf_of ( proj2 C59 ) , C54 by L136 , YELLOW_3:42;
L139: C59 c= (the carrier of [: C53 , C54 :]);
L140: C59 c= [: (the carrier of C53) , (the carrier of C54) :] by L139 , YELLOW_3:def 2;
L141: ( proj2 D8 ) = ( C58 .: ( proj2 C59 ) ) by L140 , L135 , L71;
L142:  ex_inf_of ( proj2 D8 ) , C56 by L141 , L134 , L138 , WAYBEL_0:def 30;
L143: ( proj1 D8 ) = ( C57 .: ( proj1 C59 ) ) by L135 , L140 , L71;
L144:  ex_inf_of ( proj1 D8 ) , C55 by L143 , L133 , L137 , WAYBEL_0:def 30;
thus L145:  ex_inf_of ( [: C57 , C58 :] .: C59 ) , [: C55 , C56 :] by L144 , L142 , YELLOW_3:42;
thus L146: ( inf ( [: C57 , C58 :] .: C59 ) ) = [ ( inf ( C57 .: ( proj1 C59 ) ) ) , ( inf ( C58 .: ( proj2 C59 ) ) ) ] by L145 , L143 , L141 , L108
.= [ ( C57 . ( inf ( proj1 C59 ) ) ) , ( inf ( C58 .: ( proj2 C59 ) ) ) ] by L133 , L137 , WAYBEL_0:def 30
.= [ ( C57 . ( inf ( proj1 C59 ) ) ) , ( C58 . ( inf ( proj2 C59 ) ) ) ] by L134 , L138 , WAYBEL_0:def 30
.= ( [: C57 , C58 :] . (( inf ( proj1 C59 ) ) , ( inf ( proj2 C59 ) )) ) by L135 , FUNCT_3:def 8
.= ( [: C57 , C58 :] . ( inf C59 ) ) by L136 , L108;
end;
theorem
L147: (for B26 , B27 , B28 , B29 being  antisymmetric  reflexive non  empty RelStr holds (for B30 being (Function of B26 , B28) holds (for B31 being (Function of B27 , B29) holds ((B30 is  filtered-infs-preserving & B31 is  filtered-infs-preserving) implies [: B30 , B31 :] is  filtered-infs-preserving))))
proof
let C60 , C61 , C62 , C63 being  antisymmetric  reflexive non  empty RelStr;
let C64 being (Function of C60 , C62);
let C65 being (Function of C61 , C63);
assume that
L148: C64 is  filtered-infs-preserving
and
L149: C65 is  filtered-infs-preserving;
let C66 being (Subset of [: C60 , C61 :]);
assume L150: C66 is non  empty  filtered;
L151: ( proj1 C66 ) is non  empty  filtered by L150 , YELLOW_3:21 , YELLOW_3:24;
L152: C64 preserves_inf_of ( proj1 C66 ) by L151 , L148 , WAYBEL_0:def 36;
L153: ( proj2 C66 ) is non  empty  filtered by L150 , YELLOW_3:21 , YELLOW_3:24;
L154: C65 preserves_inf_of ( proj2 C66 ) by L153 , L149 , WAYBEL_0:def 36;
set D9 = ( [: C64 , C65 :] .: C66 );
L155: (( dom C64 ) = (the carrier of C60) & ( dom C65 ) = (the carrier of C61)) by FUNCT_2:def 1;
assume L156:  ex_inf_of C66 , [: C60 , C61 :];
L157:  ex_inf_of ( proj1 C66 ) , C60 by L156 , YELLOW_3:42;
L158: C66 c= (the carrier of [: C60 , C61 :]);
L159: C66 c= [: (the carrier of C60) , (the carrier of C61) :] by L158 , YELLOW_3:def 2;
L160: ( proj2 D9 ) = ( C65 .: ( proj2 C66 ) ) by L159 , L155 , L71;
L161:  ex_inf_of ( proj2 C66 ) , C61 by L156 , YELLOW_3:42;
L162:  ex_inf_of ( proj2 D9 ) , C63 by L161 , L154 , L160 , WAYBEL_0:def 30;
L163: ( proj1 D9 ) = ( C64 .: ( proj1 C66 ) ) by L155 , L159 , L71;
L164:  ex_inf_of ( proj1 D9 ) , C62 by L163 , L152 , L157 , WAYBEL_0:def 30;
thus L165:  ex_inf_of ( [: C64 , C65 :] .: C66 ) , [: C62 , C63 :] by L164 , L162 , YELLOW_3:42;
thus L166: ( inf ( [: C64 , C65 :] .: C66 ) ) = [ ( inf ( C64 .: ( proj1 C66 ) ) ) , ( inf ( C65 .: ( proj2 C66 ) ) ) ] by L165 , L163 , L160 , L108
.= [ ( C64 . ( inf ( proj1 C66 ) ) ) , ( inf ( C65 .: ( proj2 C66 ) ) ) ] by L152 , L157 , WAYBEL_0:def 30
.= [ ( C64 . ( inf ( proj1 C66 ) ) ) , ( C65 . ( inf ( proj2 C66 ) ) ) ] by L154 , L161 , WAYBEL_0:def 30
.= ( [: C64 , C65 :] . (( inf ( proj1 C66 ) ) , ( inf ( proj2 C66 ) )) ) by L155 , FUNCT_3:def 8
.= ( [: C64 , C65 :] . ( inf C66 ) ) by L156 , L108;
end;
theorem
L167: (for B32 , B33 , B34 , B35 being  antisymmetric non  empty RelStr holds (for B36 being (Function of B32 , B34) holds (for B37 being (Function of B33 , B35) holds ((B36 is  sups-preserving & B37 is  sups-preserving) implies [: B36 , B37 :] is  sups-preserving))))
proof
let C67 , C68 , C69 , C70 being  antisymmetric non  empty RelStr;
let C71 being (Function of C67 , C69);
let C72 being (Function of C68 , C70);
assume that
L168: C71 is  sups-preserving
and
L169: C72 is  sups-preserving;
let C73 being (Subset of [: C67 , C68 :]);
L170: C71 preserves_sup_of ( proj1 C73 ) by L168 , WAYBEL_0:def 33;
L171: C72 preserves_sup_of ( proj2 C73 ) by L169 , WAYBEL_0:def 33;
set D10 = ( [: C71 , C72 :] .: C73 );
L172: (( dom C71 ) = (the carrier of C67) & ( dom C72 ) = (the carrier of C68)) by FUNCT_2:def 1;
assume L173:  ex_sup_of C73 , [: C67 , C68 :];
L174:  ex_sup_of ( proj1 C73 ) , C67 by L173 , YELLOW_3:41;
L175:  ex_sup_of ( proj2 C73 ) , C68 by L173 , YELLOW_3:41;
L176: C73 c= (the carrier of [: C67 , C68 :]);
L177: C73 c= [: (the carrier of C67) , (the carrier of C68) :] by L176 , YELLOW_3:def 2;
L178: ( proj2 D10 ) = ( C72 .: ( proj2 C73 ) ) by L177 , L172 , L71;
L179:  ex_sup_of ( proj2 D10 ) , C70 by L178 , L171 , L175 , WAYBEL_0:def 31;
L180: ( proj1 D10 ) = ( C71 .: ( proj1 C73 ) ) by L172 , L177 , L71;
L181:  ex_sup_of ( proj1 D10 ) , C69 by L180 , L170 , L174 , WAYBEL_0:def 31;
thus L182:  ex_sup_of ( [: C71 , C72 :] .: C73 ) , [: C69 , C70 :] by L181 , L179 , YELLOW_3:41;
thus L183: ( sup ( [: C71 , C72 :] .: C73 ) ) = [ ( sup ( C71 .: ( proj1 C73 ) ) ) , ( sup ( C72 .: ( proj2 C73 ) ) ) ] by L182 , L180 , L178 , L119
.= [ ( C71 . ( sup ( proj1 C73 ) ) ) , ( sup ( C72 .: ( proj2 C73 ) ) ) ] by L170 , L174 , WAYBEL_0:def 31
.= [ ( C71 . ( sup ( proj1 C73 ) ) ) , ( C72 . ( sup ( proj2 C73 ) ) ) ] by L171 , L175 , WAYBEL_0:def 31
.= ( [: C71 , C72 :] . (( sup ( proj1 C73 ) ) , ( sup ( proj2 C73 ) )) ) by L172 , FUNCT_3:def 8
.= ( [: C71 , C72 :] . ( sup C73 ) ) by L173 , L119;
end;
theorem
L184: (for B38 , B39 , B40 , B41 being  antisymmetric  reflexive non  empty RelStr holds (for B42 being (Function of B38 , B40) holds (for B43 being (Function of B39 , B41) holds ((B42 is  directed-sups-preserving & B43 is  directed-sups-preserving) implies [: B42 , B43 :] is  directed-sups-preserving))))
proof
let C74 , C75 , C76 , C77 being  antisymmetric  reflexive non  empty RelStr;
let C78 being (Function of C74 , C76);
let C79 being (Function of C75 , C77);
assume that
L185: C78 is  directed-sups-preserving
and
L186: C79 is  directed-sups-preserving;
let C80 being (Subset of [: C74 , C75 :]);
assume L187: C80 is non  empty  directed;
L188: ( proj1 C80 ) is non  empty  directed by L187 , YELLOW_3:21 , YELLOW_3:22;
L189: C78 preserves_sup_of ( proj1 C80 ) by L188 , L185 , WAYBEL_0:def 37;
L190: ( proj2 C80 ) is non  empty  directed by L187 , YELLOW_3:21 , YELLOW_3:22;
L191: C79 preserves_sup_of ( proj2 C80 ) by L190 , L186 , WAYBEL_0:def 37;
set D11 = ( [: C78 , C79 :] .: C80 );
L192: (( dom C78 ) = (the carrier of C74) & ( dom C79 ) = (the carrier of C75)) by FUNCT_2:def 1;
assume L193:  ex_sup_of C80 , [: C74 , C75 :];
L194:  ex_sup_of ( proj1 C80 ) , C74 by L193 , YELLOW_3:41;
L195: C80 c= (the carrier of [: C74 , C75 :]);
L196: C80 c= [: (the carrier of C74) , (the carrier of C75) :] by L195 , YELLOW_3:def 2;
L197: ( proj2 D11 ) = ( C79 .: ( proj2 C80 ) ) by L196 , L192 , L71;
L198:  ex_sup_of ( proj2 C80 ) , C75 by L193 , YELLOW_3:41;
L199:  ex_sup_of ( proj2 D11 ) , C77 by L198 , L191 , L197 , WAYBEL_0:def 31;
L200: ( proj1 D11 ) = ( C78 .: ( proj1 C80 ) ) by L192 , L196 , L71;
L201:  ex_sup_of ( proj1 D11 ) , C76 by L200 , L189 , L194 , WAYBEL_0:def 31;
thus L202:  ex_sup_of ( [: C78 , C79 :] .: C80 ) , [: C76 , C77 :] by L201 , L199 , YELLOW_3:41;
thus L203: ( sup ( [: C78 , C79 :] .: C80 ) ) = [ ( sup ( C78 .: ( proj1 C80 ) ) ) , ( sup ( C79 .: ( proj2 C80 ) ) ) ] by L202 , L200 , L197 , L119
.= [ ( C78 . ( sup ( proj1 C80 ) ) ) , ( sup ( C79 .: ( proj2 C80 ) ) ) ] by L189 , L194 , WAYBEL_0:def 31
.= [ ( C78 . ( sup ( proj1 C80 ) ) ) , ( C79 . ( sup ( proj2 C80 ) ) ) ] by L191 , L198 , WAYBEL_0:def 31
.= ( [: C78 , C79 :] . (( sup ( proj1 C80 ) ) , ( sup ( proj2 C80 ) )) ) by L192 , FUNCT_3:def 8
.= ( [: C78 , C79 :] . ( sup C80 ) ) by L193 , L119;
end;
theorem
L204: (for B44 being  antisymmetric non  empty RelStr holds (for B45 being (Subset of [: B44 , B44 :]) holds ((B45 c= ( id (the carrier of B44) ) &  ex_inf_of B45 , [: B44 , B44 :]) implies ( inf B45 ) in ( id (the carrier of B44) ))))
proof
let C81 being  antisymmetric non  empty RelStr;
let C82 being (Subset of [: C81 , C81 :]);
assume L205: (C82 c= ( id (the carrier of C81) ) &  ex_inf_of C82 , [: C81 , C81 :]);
L206: (( inf C82 ) = [ ( inf ( proj1 C82 ) ) , ( inf ( proj2 C82 ) ) ] & ( inf ( proj1 C82 ) ) = ( inf ( proj2 C82 ) )) by L205 , L1 , L108;
thus L207: thesis by L206 , RELAT_1:def 10;
end;
theorem
L208: (for B46 being  antisymmetric non  empty RelStr holds (for B47 being (Subset of [: B46 , B46 :]) holds ((B47 c= ( id (the carrier of B46) ) &  ex_sup_of B47 , [: B46 , B46 :]) implies ( sup B47 ) in ( id (the carrier of B46) ))))
proof
let C83 being  antisymmetric non  empty RelStr;
let C84 being (Subset of [: C83 , C83 :]);
assume L209: (C84 c= ( id (the carrier of C83) ) &  ex_sup_of C84 , [: C83 , C83 :]);
L210: (( sup C84 ) = [ ( sup ( proj1 C84 ) ) , ( sup ( proj2 C84 ) ) ] & ( sup ( proj1 C84 ) ) = ( sup ( proj2 C84 ) )) by L209 , L1 , L119;
thus L211: thesis by L210 , RELAT_1:def 10;
end;
theorem
L212: (for B48 , B49 being non  empty RelStr holds ((B48 , B49 are_isomorphic  & B48 is  reflexive) implies B49 is  reflexive))
proof
let C85 , C86 being non  empty RelStr;
assume that
L213: C85 , C86 are_isomorphic 
and
L214: C85 is  reflexive;
let C87 being (Element of C86);
L215: C86 , C85 are_isomorphic  by L213 , WAYBEL_1:6;
consider C88 being (Function of C86 , C85) such that L216: C88 is  isomorphic by L215 , WAYBEL_1:def 8;
reconsider D12 = ( C88 . C87 ) as (Element of C85);
L217: D12 <= D12 by L214 , YELLOW_0:def 1;
thus L218: thesis by L217 , L216 , WAYBEL_0:66;
end;
theorem
L219: (for B50 , B51 being non  empty RelStr holds ((B50 , B51 are_isomorphic  & B50 is  transitive) implies B51 is  transitive))
proof
let C89 , C90 being non  empty RelStr;
assume that
L220: C89 , C90 are_isomorphic 
and
L221: C89 is  transitive;
L222: C90 , C89 are_isomorphic  by L220 , WAYBEL_1:6;
consider C91 being (Function of C90 , C89) such that L223: C91 is  isomorphic by L222 , WAYBEL_1:def 8;
let C92 , C93 , C94 being (Element of C90);
assume that
L224: (C92 <= C93 & C93 <= C94);
reconsider D13 = ( C91 . C94 ) as (Element of C89);
reconsider D14 = ( C91 . C93 ) as (Element of C89);
reconsider D15 = ( C91 . C92 ) as (Element of C89);
L225: (D15 <= D14 & D14 <= D13) by L223 , L224 , WAYBEL_0:66;
L226: D15 <= D13 by L225 , L221 , YELLOW_0:def 2;
thus L227: thesis by L226 , L223 , WAYBEL_0:66;
end;
theorem
L228: (for B52 , B53 being non  empty RelStr holds ((B52 , B53 are_isomorphic  & B52 is  antisymmetric) implies B53 is  antisymmetric))
proof
let C95 , C96 being non  empty RelStr;
assume that
L229: C95 , C96 are_isomorphic 
and
L230: C95 is  antisymmetric;
L231: C96 , C95 are_isomorphic  by L229 , WAYBEL_1:6;
consider C97 being (Function of C96 , C95) such that L232: C97 is  isomorphic by L231 , WAYBEL_1:def 8;
let C98 , C99 being (Element of C96);
assume that
L233: (C98 <= C99 & C99 <= C98);
reconsider D16 = ( C97 . C99 ) as (Element of C95);
reconsider D17 = ( C97 . C98 ) as (Element of C95);
L234: (D17 <= D16 & D16 <= D17) by L232 , L233 , WAYBEL_0:66;
L235: (( dom C97 ) = (the carrier of C96) & D17 = D16) by L234 , L230 , FUNCT_2:def 1 , YELLOW_0:def 3;
thus L236: thesis by L235 , L232 , FUNCT_1:def 4;
end;
theorem
L237: (for B54 , B55 being non  empty RelStr holds ((B54 , B55 are_isomorphic  & B54 is  complete) implies B55 is  complete))
proof
let C100 , C101 being non  empty RelStr;
assume that
L238: C100 , C101 are_isomorphic 
and
L239: C100 is  complete;
let C102 being (Subset of C101);
L240: C101 , C100 are_isomorphic  by L238 , WAYBEL_1:6;
consider C103 being (Function of C101 , C100) such that L241: C103 is  isomorphic by L240 , WAYBEL_1:def 8;
reconsider D18 = ( C103 .: C102 ) as (Subset of C100);
consider C104 being (Element of C100) such that L242: C104 is_<=_than D18 and L243: (for B56 being (Element of C100) holds (B56 is_<=_than D18 implies B56 <= C104)) by L239 , LATTICE5:def 2;
set D19 = ( ( (C103 qua Function) " ) . C104 );
L244: ( rng C103 ) = (the carrier of C100) by L241 , WAYBEL_0:66;
L245: D19 in ( dom C103 ) by L244 , L241 , FUNCT_1:32;
reconsider D20 = D19 as (Element of C101) by L245;
L246: C104 = ( C103 . D20 ) by L241 , L244 , FUNCT_1:35;
take D20;
L247: ( dom C103 ) = (the carrier of C101) by FUNCT_2:def 1;
thus L248:now
let C105 being (Element of C101);
assume that
L249: C105 in C102;
reconsider D21 = ( C103 . C105 ) as (Element of C100);
L250: D21 in D18 by L247 , L249 , FUNCT_1:def 6;
L251: C104 <= D21 by L250 , L242 , LATTICE3:def 8;
thus L252: D20 <= C105 by L251 , L241 , L246 , WAYBEL_0:66;
end;
let C106 being (Element of C101);
assume that
L253: C106 is_<=_than C102;
reconsider D22 = ( C103 . C106 ) as (Element of C100);
L254: D22 is_<=_than D18
proof
let C107 being (Element of C100);
assume L255: C107 in D18;
consider C108 being set such that L256: C108 in ( dom C103 ) and L257: C108 in C102 and L258: C107 = ( C103 . C108 ) by L255 , FUNCT_1:def 6;
reconsider D23 = C108 as (Element of C101) by L256;
L259: C106 <= D23 by L253 , L257 , LATTICE3:def 8;
thus L260: thesis by L259 , L241 , L258 , WAYBEL_0:66;
end;
L261: D22 <= C104 by L254 , L243;
thus L262: thesis by L261 , L241 , L246 , WAYBEL_0:66;
end;
theorem
L263: (for B57 being non  empty  transitive RelStr holds (for B58 being (Function of B57 , B57) holds (B58 is  infs-preserving implies ( corestr B58 ) is  infs-preserving)))
proof
let C109 being non  empty  transitive RelStr;
let C110 being (Function of C109 , C109);
assume that
L264: C110 is  infs-preserving;
let C111 being (Subset of C109);
assume L265:  ex_inf_of C111 , C109;
set D24 = ( corestr C110 );
L266: C110 = ( corestr C110 ) by WAYBEL_1:30;
L267: C110 preserves_inf_of C111 by L264 , WAYBEL_0:def 32;
L268:  ex_inf_of ( C110 .: C111 ) , C109 by L267 , L265 , WAYBEL_0:def 30;
reconsider D25 = ( D24 .: C111 ) as (Subset of ( Image C110 ));
L269: ( dom C110 ) = (the carrier of C109) by FUNCT_2:def 1;
L270: (( rng C110 ) = (the carrier of ( Image C110 )) & ( C110 . ( inf C111 ) ) in ( rng C110 )) by L269 , FUNCT_1:def 3 , YELLOW_0:def 15;
L271: ( "/\" (D25 , C109) ) is (Element of ( Image C110 )) by L270 , L267 , L266 , L265 , WAYBEL_0:def 30;
thus L272:  ex_inf_of ( D24 .: C111 ) , ( Image C110 ) by L271 , L266 , L268 , YELLOW_0:63;
L273: ( inf ( C110 .: C111 ) ) = ( C110 . ( inf C111 ) ) by L267 , L265 , WAYBEL_0:def 30;
thus L274: thesis by L273 , L266 , L268 , YELLOW_0:63;
end;
theorem
L275: (for B59 being non  empty  transitive RelStr holds (for B60 being (Function of B59 , B59) holds (B60 is  filtered-infs-preserving implies ( corestr B60 ) is  filtered-infs-preserving)))
proof
let C112 being non  empty  transitive RelStr;
let C113 being (Function of C112 , C112);
assume that
L276: C113 is  filtered-infs-preserving;
let C114 being (Subset of C112);
assume L277: C114 is non  empty  filtered;
L278: C113 preserves_inf_of C114 by L277 , L276 , WAYBEL_0:def 36;
set D26 = ( corestr C113 );
L279: C113 = ( corestr C113 ) by WAYBEL_1:30;
assume L280:  ex_inf_of C114 , C112;
L281:  ex_inf_of ( C113 .: C114 ) , C112 by L280 , L278 , WAYBEL_0:def 30;
reconsider D27 = ( D26 .: C114 ) as (Subset of ( Image C113 ));
L282: ( dom C113 ) = (the carrier of C112) by FUNCT_2:def 1;
L283: (( rng C113 ) = (the carrier of ( Image C113 )) & ( C113 . ( inf C114 ) ) in ( rng C113 )) by L282 , FUNCT_1:def 3 , YELLOW_0:def 15;
L284: ( "/\" (D27 , C112) ) is (Element of ( Image C113 )) by L283 , L278 , L279 , L280 , WAYBEL_0:def 30;
thus L285:  ex_inf_of ( D26 .: C114 ) , ( Image C113 ) by L284 , L279 , L281 , YELLOW_0:63;
L286: ( inf ( C113 .: C114 ) ) = ( C113 . ( inf C114 ) ) by L278 , L280 , WAYBEL_0:def 30;
thus L287: thesis by L286 , L279 , L281 , YELLOW_0:63;
end;
theorem
L288: (for B61 being non  empty  transitive RelStr holds (for B62 being (Function of B61 , B61) holds (B62 is  sups-preserving implies ( corestr B62 ) is  sups-preserving)))
proof
let C115 being non  empty  transitive RelStr;
let C116 being (Function of C115 , C115);
assume that
L289: C116 is  sups-preserving;
let C117 being (Subset of C115);
assume L290:  ex_sup_of C117 , C115;
set D28 = ( corestr C116 );
L291: C116 = ( corestr C116 ) by WAYBEL_1:30;
L292: C116 preserves_sup_of C117 by L289 , WAYBEL_0:def 33;
L293:  ex_sup_of ( C116 .: C117 ) , C115 by L292 , L290 , WAYBEL_0:def 31;
reconsider D29 = ( D28 .: C117 ) as (Subset of ( Image C116 ));
L294: ( dom C116 ) = (the carrier of C115) by FUNCT_2:def 1;
L295: (( rng C116 ) = (the carrier of ( Image C116 )) & ( C116 . ( sup C117 ) ) in ( rng C116 )) by L294 , FUNCT_1:def 3 , YELLOW_0:def 15;
L296: ( "\/" (D29 , C115) ) is (Element of ( Image C116 )) by L295 , L292 , L291 , L290 , WAYBEL_0:def 31;
thus L297:  ex_sup_of ( D28 .: C117 ) , ( Image C116 ) by L296 , L291 , L293 , YELLOW_0:64;
L298: ( sup ( C116 .: C117 ) ) = ( C116 . ( sup C117 ) ) by L292 , L290 , WAYBEL_0:def 31;
thus L299: thesis by L298 , L291 , L293 , YELLOW_0:64;
end;
theorem
L300: (for B63 being non  empty  transitive RelStr holds (for B64 being (Function of B63 , B63) holds (B64 is  directed-sups-preserving implies ( corestr B64 ) is  directed-sups-preserving)))
proof
let C118 being non  empty  transitive RelStr;
let C119 being (Function of C118 , C118);
assume that
L301: C119 is  directed-sups-preserving;
let C120 being (Subset of C118);
assume L302: C120 is non  empty  directed;
L303: C119 preserves_sup_of C120 by L302 , L301 , WAYBEL_0:def 37;
set D30 = ( corestr C119 );
L304: C119 = ( corestr C119 ) by WAYBEL_1:30;
assume L305:  ex_sup_of C120 , C118;
L306:  ex_sup_of ( C119 .: C120 ) , C118 by L305 , L303 , WAYBEL_0:def 31;
reconsider D31 = ( D30 .: C120 ) as (Subset of ( Image C119 ));
L307: ( dom C119 ) = (the carrier of C118) by FUNCT_2:def 1;
L308: (( rng C119 ) = (the carrier of ( Image C119 )) & ( C119 . ( sup C120 ) ) in ( rng C119 )) by L307 , FUNCT_1:def 3 , YELLOW_0:def 15;
L309: ( "\/" (D31 , C118) ) is (Element of ( Image C119 )) by L308 , L303 , L304 , L305 , WAYBEL_0:def 31;
thus L310:  ex_sup_of ( D30 .: C120 ) , ( Image C119 ) by L309 , L304 , L306 , YELLOW_0:64;
L311: ( sup ( C119 .: C120 ) ) = ( C119 . ( sup C120 ) ) by L303 , L305 , WAYBEL_0:def 31;
thus L312: thesis by L311 , L304 , L306 , YELLOW_0:64;
end;
theorem
L313: (for B65 , B66 being  reflexive  antisymmetric non  empty RelStr holds (for B67 being (Function of B65 , B66) holds (B67 is  filtered-infs-preserving implies B67 is  monotone)))
proof
let C121 , C122 being  reflexive  antisymmetric non  empty RelStr;
let C123 being (Function of C121 , C122);
assume L314: C123 is  filtered-infs-preserving;
let C124 , C125 being (Element of C121);
assume that
L315: C124 <= C125;
L316: ( dom C123 ) = (the carrier of C121) by FUNCT_2:def 1;
L317: (for B68 being (Element of C121) holds ({ C124 , C125 } is_>=_than B68 implies C124 >= B68)) by YELLOW_0:8;
L318: C124 <= C124;
L319: { C124 , C125 } is_>=_than C124 by L318 , L315 , YELLOW_0:8;
L320:  ex_inf_of { C124 , C125 } , C121 by L319 , L317 , YELLOW_0:31;
L321: (for B69 , B70 being (Element of C121) holds ((B69 in { C124 , C125 } & B70 in { C124 , C125 }) implies (ex B71 being (Element of C121) st (B71 in { C124 , C125 } & B69 >= B71 & B70 >= B71))))
proof
let C126 , C127 being (Element of C121);
assume that
L322: (C126 in { C124 , C125 } & C127 in { C124 , C125 });
take C124;
thus L323: C124 in { C124 , C125 } by TARSKI:def 2;
thus L324: thesis by L315 , L318 , L322 , TARSKI:def 2;
end;
L325: { C124 , C125 } is  filtered non  empty by L321 , WAYBEL_0:def 2;
L326: C123 preserves_inf_of { C124 , C125 } by L325 , L314 , WAYBEL_0:def 36;
L327: C124 = ( inf { C124 , C125 } ) by L319 , L317 , YELLOW_0:31;
L328: ( inf ( C123 .: { C124 , C125 } ) ) = ( C123 . C124 ) by L327 , L320 , L326 , WAYBEL_0:def 30;
L329: ( C123 . C124 ) = ( inf { ( C123 . C124 ) , ( C123 . C125 ) } ) by L328 , L316 , FUNCT_1:60;
L330: ( C123 .: { C124 , C125 } ) = { ( C123 . C124 ) , ( C123 . C125 ) } by L316 , FUNCT_1:60;
L331:  ex_inf_of { ( C123 . C124 ) , ( C123 . C125 ) } , C122 by L330 , L320 , L326 , WAYBEL_0:def 30;
L332: { ( C123 . C124 ) , ( C123 . C125 ) } is_>=_than ( C123 . C124 ) by L331 , L329 , YELLOW_0:def 10;
thus L333: ( C123 . C124 ) <= ( C123 . C125 ) by L332 , YELLOW_0:8;
end;
theorem
L334: (for B72 , B73 being non  empty RelStr holds (for B74 being (Function of B72 , B73) holds (B74 is  monotone implies (for B75 being (Subset of B72) holds (B75 is  filtered implies ( B74 .: B75 ) is  filtered)))))
proof
let C128 , C129 being non  empty RelStr;
let C130 being (Function of C128 , C129);
assume L335: C130 is  monotone;
let C131 being (Subset of C128);
assume that
L336: C131 is  filtered;
let C132 , C133 being (Element of C129);
assume L337: C132 in ( C130 .: C131 );
consider C134 being set such that L338: C134 in (the carrier of C128) and L339: C134 in C131 and L340: C132 = ( C130 . C134 ) by L337 , FUNCT_2:64;
assume L341: C133 in ( C130 .: C131 );
consider C135 being set such that L342: C135 in (the carrier of C128) and L343: C135 in C131 and L344: C133 = ( C130 . C135 ) by L341 , FUNCT_2:64;
reconsider D32 = C134 , D33 = C135 as (Element of C128) by L338 , L342;
consider C136 being (Element of C128) such that L345: C136 in C131 and L346: (C136 <= D32 & C136 <= D33) by L336 , L339 , L343 , WAYBEL_0:def 2;
take D34 = ( C130 . C136 );
thus L347: D34 in ( C130 .: C131 ) by L345 , FUNCT_2:35;
thus L348: thesis by L335 , L340 , L344 , L346 , WAYBEL_1:def 2;
end;
theorem
L349: (for B76 , B77 , B78 being non  empty RelStr holds (for B79 being (Function of B76 , B77) holds (for B80 being (Function of B77 , B78) holds ((B79 is  infs-preserving & B80 is  infs-preserving) implies ( B80 * B79 ) is  infs-preserving))))
proof
let C137 , C138 , C139 being non  empty RelStr;
let C140 being (Function of C137 , C138);
let C141 being (Function of C138 , C139);
assume that
L350: C140 is  infs-preserving
and
L351: C141 is  infs-preserving;
set D35 = ( C141 * C140 );
let C142 being (Subset of C137);
assume that
L352:  ex_inf_of C142 , C137;
set D36 = ( C140 .: C142 );
set D37 = ( D35 .: C142 );
L353: C140 preserves_inf_of C142 by L350 , WAYBEL_0:def 32;
L354: (D37 = ( C141 .: ( C140 .: C142 ) ) &  ex_inf_of D36 , C138) by L353 , L352 , RELAT_1:126 , WAYBEL_0:def 30;
L355: ( dom C140 ) = (the carrier of C137) by FUNCT_2:def 1;
L356: C141 preserves_inf_of D36 by L351 , WAYBEL_0:def 32;
thus L357:  ex_inf_of D37 , C139 by L356 , L354 , WAYBEL_0:def 30;
thus L358: ( inf D37 ) = ( C141 . ( inf D36 ) ) by L356 , L354 , WAYBEL_0:def 30
.= ( C141 . ( C140 . ( inf C142 ) ) ) by L352 , L353 , WAYBEL_0:def 30
.= ( D35 . ( inf C142 ) ) by L355 , FUNCT_1:13;
end;
theorem
L359: (for B81 , B82 , B83 being non  empty  reflexive  antisymmetric RelStr holds (for B84 being (Function of B81 , B82) holds (for B85 being (Function of B82 , B83) holds ((B84 is  filtered-infs-preserving & B85 is  filtered-infs-preserving) implies ( B85 * B84 ) is  filtered-infs-preserving))))
proof
let C143 , C144 , C145 being non  empty  reflexive  antisymmetric RelStr;
let C146 being (Function of C143 , C144);
let C147 being (Function of C144 , C145);
assume that
L360: C146 is  filtered-infs-preserving
and
L361: C147 is  filtered-infs-preserving;
set D38 = ( C147 * C146 );
let C148 being (Subset of C143);
assume that
L362: C148 is non  empty  filtered
and
L363:  ex_inf_of C148 , C143;
set D39 = the (Element of C148);
set D40 = ( C146 .: C148 );
set D41 = ( D38 .: C148 );
L364: C146 preserves_inf_of C148 by L360 , L362 , WAYBEL_0:def 36;
L365: (D41 = ( C147 .: ( C146 .: C148 ) ) &  ex_inf_of D40 , C144) by L364 , L363 , RELAT_1:126 , WAYBEL_0:def 30;
L366: D39 in C148 by L362;
L367: ( C146 . D39 ) in D40 by L366 , FUNCT_2:35;
L368: D40 is non  empty  filtered by L367 , L360 , L362 , L313 , L334;
L369: C147 preserves_inf_of D40 by L368 , L361 , WAYBEL_0:def 36;
thus L370:  ex_inf_of D41 , C145 by L369 , L365 , WAYBEL_0:def 30;
L371: ( dom C146 ) = (the carrier of C143) by FUNCT_2:def 1;
thus L372: ( inf D41 ) = ( C147 . ( inf D40 ) ) by L369 , L365 , WAYBEL_0:def 30
.= ( C147 . ( C146 . ( inf C148 ) ) ) by L363 , L364 , WAYBEL_0:def 30
.= ( D38 . ( inf C148 ) ) by L371 , FUNCT_1:13;
end;
theorem
L373: (for B86 , B87 , B88 being non  empty RelStr holds (for B89 being (Function of B86 , B87) holds (for B90 being (Function of B87 , B88) holds ((B89 is  sups-preserving & B90 is  sups-preserving) implies ( B90 * B89 ) is  sups-preserving))))
proof
let C149 , C150 , C151 being non  empty RelStr;
let C152 being (Function of C149 , C150);
let C153 being (Function of C150 , C151);
assume that
L374: C152 is  sups-preserving
and
L375: C153 is  sups-preserving;
set D42 = ( C153 * C152 );
let C154 being (Subset of C149);
assume that
L376:  ex_sup_of C154 , C149;
set D43 = ( C152 .: C154 );
set D44 = ( D42 .: C154 );
L377: C152 preserves_sup_of C154 by L374 , WAYBEL_0:def 33;
L378: (D44 = ( C153 .: ( C152 .: C154 ) ) &  ex_sup_of D43 , C150) by L377 , L376 , RELAT_1:126 , WAYBEL_0:def 31;
L379: ( dom C152 ) = (the carrier of C149) by FUNCT_2:def 1;
L380: C153 preserves_sup_of D43 by L375 , WAYBEL_0:def 33;
thus L381:  ex_sup_of D44 , C151 by L380 , L378 , WAYBEL_0:def 31;
thus L382: ( sup D44 ) = ( C153 . ( sup D43 ) ) by L380 , L378 , WAYBEL_0:def 31
.= ( C153 . ( C152 . ( sup C154 ) ) ) by L376 , L377 , WAYBEL_0:def 31
.= ( D42 . ( sup C154 ) ) by L379 , FUNCT_1:13;
end;
theorem
L383: (for B91 , B92 , B93 being non  empty  reflexive  antisymmetric RelStr holds (for B94 being (Function of B91 , B92) holds (for B95 being (Function of B92 , B93) holds ((B94 is  directed-sups-preserving & B95 is  directed-sups-preserving) implies ( B95 * B94 ) is  directed-sups-preserving))))
proof
let C155 , C156 , C157 being non  empty  reflexive  antisymmetric RelStr;
let C158 being (Function of C155 , C156);
let C159 being (Function of C156 , C157);
assume that
L384: C158 is  directed-sups-preserving
and
L385: C159 is  directed-sups-preserving;
set D45 = ( C159 * C158 );
let C160 being (Subset of C155);
assume that
L386: C160 is non  empty  directed
and
L387:  ex_sup_of C160 , C155;
set D46 = the (Element of C160);
set D47 = ( C158 .: C160 );
set D48 = ( D45 .: C160 );
L388: C158 preserves_sup_of C160 by L384 , L386 , WAYBEL_0:def 37;
L389: (D48 = ( C159 .: ( C158 .: C160 ) ) &  ex_sup_of D47 , C156) by L388 , L387 , RELAT_1:126 , WAYBEL_0:def 31;
L390: D46 in C160 by L386;
L391: ( C158 . D46 ) in D47 by L390 , FUNCT_2:35;
L392: D47 is non  empty  directed by L391 , L384 , L386 , WAYBEL17:3 , YELLOW_2:15;
L393: C159 preserves_sup_of D47 by L392 , L385 , WAYBEL_0:def 37;
thus L394:  ex_sup_of D48 , C157 by L393 , L389 , WAYBEL_0:def 31;
L395: ( dom C158 ) = (the carrier of C155) by FUNCT_2:def 1;
thus L396: ( sup D48 ) = ( C159 . ( sup D47 ) ) by L393 , L389 , WAYBEL_0:def 31
.= ( C159 . ( C158 . ( sup C160 ) ) ) by L387 , L388 , WAYBEL_0:def 31
.= ( D45 . ( sup C160 ) ) by L395 , FUNCT_1:13;
end;
begin
theorem
L397: (for B96 being non  empty set holds (for B97 being  RelStr-yielding  non-Empty (ManySortedSet of B96) holds ((for B98 being (Element of B96) holds ( B97 . B98 ) is  lower-bounded  antisymmetric  lower-bounded  antisymmetric  lower-bounded  antisymmetric  lower-bounded  antisymmetric RelStr) implies ( product B97 ) is  lower-bounded)))
proof
let C161 being non  empty set;
let C162 being  RelStr-yielding  non-Empty (ManySortedSet of C161);
assume that
L398: (for B99 being (Element of C161) holds ( C162 . B99 ) is  lower-bounded  antisymmetric  lower-bounded  antisymmetric  lower-bounded  antisymmetric  lower-bounded  antisymmetric RelStr);
deffunc H1((Element of C161)) = ( Bottom ( C162 . $1 ) );
consider C163 being (ManySortedSet of C161) such that L399: (for B100 being (Element of C161) holds ( C163 . B100 ) = H1(B100)) from PBOOLE:sch 5;
L400:
now
let C164 being (Element of C161);
L401: ( C163 . C164 ) = ( Bottom ( C162 . C164 ) ) by L399;
thus L402: ( C163 . C164 ) is (Element of ( C162 . C164 )) by L401;
end;
L403: ( dom C163 ) = C161 by PARTFUN1:def 2;
reconsider D49 = C163 as (Element of ( product C162 )) by L403 , L400 , WAYBEL_3:27;
take D49;
let C165 being (Element of ( product C162 ));
assume that
L404: C165 in (the carrier of ( product C162 ));
L405:
now
let C166 being (Element of C161);
L406: (( D49 . C166 ) = ( Bottom ( C162 . C166 ) ) & ( C162 . C166 ) is  lower-bounded  antisymmetric non  empty  lower-bounded  antisymmetric non  empty  lower-bounded  antisymmetric non  empty  lower-bounded  antisymmetric non  empty RelStr) by L398 , L399;
thus L407: ( D49 . C166 ) <= ( C165 . C166 ) by L406 , YELLOW_0:44;
end;
thus L408: thesis by L405 , WAYBEL_3:28;
end;
theorem
L409: (for B101 being non  empty set holds (for B102 being  RelStr-yielding  non-Empty (ManySortedSet of B101) holds ((for B103 being (Element of B101) holds ( B102 . B103 ) is  upper-bounded  antisymmetric  upper-bounded  antisymmetric  upper-bounded  antisymmetric  upper-bounded  antisymmetric RelStr) implies ( product B102 ) is  upper-bounded)))
proof
let C167 being non  empty set;
let C168 being  RelStr-yielding  non-Empty (ManySortedSet of C167);
assume that
L410: (for B104 being (Element of C167) holds ( C168 . B104 ) is  upper-bounded  antisymmetric  upper-bounded  antisymmetric  upper-bounded  antisymmetric  upper-bounded  antisymmetric RelStr);
deffunc H2((Element of C167)) = ( Top ( C168 . $1 ) );
consider C169 being (ManySortedSet of C167) such that L411: (for B105 being (Element of C167) holds ( C169 . B105 ) = H2(B105)) from PBOOLE:sch 5;
L412:
now
let C170 being (Element of C167);
L413: ( C169 . C170 ) = ( Top ( C168 . C170 ) ) by L411;
thus L414: ( C169 . C170 ) is (Element of ( C168 . C170 )) by L413;
end;
L415: ( dom C169 ) = C167 by PARTFUN1:def 2;
reconsider D50 = C169 as (Element of ( product C168 )) by L415 , L412 , WAYBEL_3:27;
take D50;
let C171 being (Element of ( product C168 ));
assume that
L416: C171 in (the carrier of ( product C168 ));
L417:
now
let C172 being (Element of C167);
L418: (( D50 . C172 ) = ( Top ( C168 . C172 ) ) & ( C168 . C172 ) is  upper-bounded  antisymmetric non  empty  upper-bounded  antisymmetric non  empty  upper-bounded  antisymmetric non  empty  upper-bounded  antisymmetric non  empty RelStr) by L410 , L411;
thus L419: ( D50 . C172 ) >= ( C171 . C172 ) by L418 , YELLOW_0:45;
end;
thus L420: thesis by L417 , WAYBEL_3:28;
end;
theorem
L421: (for B106 being non  empty set holds (for B107 being  RelStr-yielding  non-Empty (ManySortedSet of B106) holds ((for B108 being (Element of B106) holds ( B107 . B108 ) is  lower-bounded  antisymmetric  lower-bounded  antisymmetric  lower-bounded  antisymmetric  lower-bounded  antisymmetric RelStr) implies (for B109 being (Element of B106) holds ( ( Bottom ( product B107 ) ) . B109 ) = ( Bottom ( B107 . B109 ) )))))
proof
let C173 being non  empty set;
let C174 being  RelStr-yielding  non-Empty (ManySortedSet of C173);
assume that
L422: (for B110 being (Element of C173) holds ( C174 . B110 ) is  lower-bounded  antisymmetric  lower-bounded  antisymmetric  lower-bounded  antisymmetric  lower-bounded  antisymmetric RelStr);
deffunc H3((Element of C173)) = ( Bottom ( C174 . $1 ) );
consider C175 being (ManySortedSet of C173) such that L423: (for B111 being (Element of C173) holds ( C175 . B111 ) = H3(B111)) from PBOOLE:sch 5;
L424:
now
let C176 being (Element of C173);
L425: ( C175 . C176 ) = ( Bottom ( C174 . C176 ) ) by L423;
thus L426: ( C175 . C176 ) is (Element of ( C174 . C176 )) by L425;
end;
L427: ( dom C175 ) = C173 by PARTFUN1:def 2;
reconsider D51 = C175 as (Element of ( product C174 )) by L427 , L424 , WAYBEL_3:27;
let C177 being (Element of C173);
L428: ( {} ) is_<=_than D51 by YELLOW_0:6;
L429:
now
let C178 being (Element of ( product C174 ));
assume that
L430: ( {} ) is_<=_than C178
and
L431: (for B112 being (Element of ( product C174 )) holds (( {} ) is_<=_than B112 implies B112 >= C178));
L432:
now
let C179 being (Element of C173);
L433: (( D51 . C179 ) = ( Bottom ( C174 . C179 ) ) & ( C174 . C179 ) is  lower-bounded  antisymmetric non  empty  lower-bounded  antisymmetric non  empty  lower-bounded  antisymmetric non  empty  lower-bounded  antisymmetric non  empty RelStr) by L422 , L423;
thus L434: ( D51 . C179 ) <= ( C178 . C179 ) by L433 , YELLOW_0:44;
end;
L435: D51 <= C178 by L432 , WAYBEL_3:28;
L436: (for B113 being (Element of C173) holds ( C174 . B113 ) is  antisymmetric) by L422;
L437: ( product C174 ) is  antisymmetric by L436 , WAYBEL_3:30;
L438: C178 <= D51 by L431 , YELLOW_0:6;
thus L439: C178 = D51 by L438 , L437 , L435 , YELLOW_0:def 3;
end;
L440:
now
let C180 being (Element of ( product C174 ));
assume that
L441: ( {} ) is_<=_than C180;
L442:
now
let C181 being (Element of C173);
L443: (( D51 . C181 ) = ( Bottom ( C174 . C181 ) ) & ( C174 . C181 ) is  lower-bounded  antisymmetric non  empty  lower-bounded  antisymmetric non  empty  lower-bounded  antisymmetric non  empty  lower-bounded  antisymmetric non  empty RelStr) by L422 , L423;
thus L444: ( D51 . C181 ) <= ( C180 . C181 ) by L443 , YELLOW_0:44;
end;
thus L445: D51 <= C180 by L442 , WAYBEL_3:28;
end;
L446:
now
let C182 being (Element of ( product C174 ));
assume that
L447: ( {} ) is_<=_than C182;
L448:
now
let C183 being (Element of C173);
L449: (( D51 . C183 ) = ( Bottom ( C174 . C183 ) ) & ( C174 . C183 ) is  lower-bounded  antisymmetric non  empty  lower-bounded  antisymmetric non  empty  lower-bounded  antisymmetric non  empty  lower-bounded  antisymmetric non  empty RelStr) by L422 , L423;
thus L450: ( D51 . C183 ) <= ( C182 . C183 ) by L449 , YELLOW_0:44;
end;
thus L451: D51 <= C182 by L448 , WAYBEL_3:28;
end;
L452:  ex_sup_of ( {} ) , ( product C174 ) by L446 , L428 , L429 , YELLOW_0:def 7;
L453: D51 = ( "\/" (( {} ) , ( product C174 )) ) by L452 , L428 , L440 , YELLOW_0:def 9;
thus L454: thesis by L453 , L423;
end;
theorem
L455: (for B114 being non  empty set holds (for B115 being  RelStr-yielding  non-Empty (ManySortedSet of B114) holds ((for B116 being (Element of B114) holds ( B115 . B116 ) is  upper-bounded  antisymmetric  upper-bounded  antisymmetric  upper-bounded  antisymmetric  upper-bounded  antisymmetric RelStr) implies (for B117 being (Element of B114) holds ( ( Top ( product B115 ) ) . B117 ) = ( Top ( B115 . B117 ) )))))
proof
let C184 being non  empty set;
let C185 being  RelStr-yielding  non-Empty (ManySortedSet of C184);
assume that
L456: (for B118 being (Element of C184) holds ( C185 . B118 ) is  upper-bounded  antisymmetric  upper-bounded  antisymmetric  upper-bounded  antisymmetric  upper-bounded  antisymmetric RelStr);
deffunc H4((Element of C184)) = ( Top ( C185 . $1 ) );
consider C186 being (ManySortedSet of C184) such that L457: (for B119 being (Element of C184) holds ( C186 . B119 ) = H4(B119)) from PBOOLE:sch 5;
L458:
now
let C187 being (Element of C184);
L459: ( C186 . C187 ) = ( Top ( C185 . C187 ) ) by L457;
thus L460: ( C186 . C187 ) is (Element of ( C185 . C187 )) by L459;
end;
L461: ( dom C186 ) = C184 by PARTFUN1:def 2;
reconsider D52 = C186 as (Element of ( product C185 )) by L461 , L458 , WAYBEL_3:27;
let C188 being (Element of C184);
L462: ( {} ) is_>=_than D52 by YELLOW_0:6;
L463:
now
let C189 being (Element of ( product C185 ));
assume that
L464: ( {} ) is_>=_than C189
and
L465: (for B120 being (Element of ( product C185 )) holds (( {} ) is_>=_than B120 implies B120 <= C189));
L466:
now
let C190 being (Element of C184);
L467: (( D52 . C190 ) = ( Top ( C185 . C190 ) ) & ( C185 . C190 ) is  upper-bounded  antisymmetric non  empty  upper-bounded  antisymmetric non  empty  upper-bounded  antisymmetric non  empty  upper-bounded  antisymmetric non  empty RelStr) by L456 , L457;
thus L468: ( D52 . C190 ) >= ( C189 . C190 ) by L467 , YELLOW_0:45;
end;
L469: D52 >= C189 by L466 , WAYBEL_3:28;
L470: (for B121 being (Element of C184) holds ( C185 . B121 ) is  antisymmetric) by L456;
L471: ( product C185 ) is  antisymmetric by L470 , WAYBEL_3:30;
L472: C189 >= D52 by L465 , YELLOW_0:6;
thus L473: C189 = D52 by L472 , L471 , L469 , YELLOW_0:def 3;
end;
L474:
now
let C191 being (Element of ( product C185 ));
assume that
L475: ( {} ) is_>=_than C191;
L476:
now
let C192 being (Element of C184);
L477: (( D52 . C192 ) = ( Top ( C185 . C192 ) ) & ( C185 . C192 ) is  upper-bounded  antisymmetric non  empty  upper-bounded  antisymmetric non  empty  upper-bounded  antisymmetric non  empty  upper-bounded  antisymmetric non  empty RelStr) by L456 , L457;
thus L478: ( D52 . C192 ) >= ( C191 . C192 ) by L477 , YELLOW_0:45;
end;
thus L479: D52 >= C191 by L476 , WAYBEL_3:28;
end;
L480:
now
let C193 being (Element of ( product C185 ));
assume that
L481: ( {} ) is_>=_than C193;
L482:
now
let C194 being (Element of C184);
L483: (( D52 . C194 ) = ( Top ( C185 . C194 ) ) & ( C185 . C194 ) is  upper-bounded  antisymmetric non  empty  upper-bounded  antisymmetric non  empty  upper-bounded  antisymmetric non  empty  upper-bounded  antisymmetric non  empty RelStr) by L456 , L457;
thus L484: ( D52 . C194 ) >= ( C193 . C194 ) by L483 , YELLOW_0:45;
end;
thus L485: D52 >= C193 by L482 , WAYBEL_3:28;
end;
L486:  ex_inf_of ( {} ) , ( product C185 ) by L480 , L462 , L463 , YELLOW_0:def 8;
L487: D52 = ( "/\" (( {} ) , ( product C185 )) ) by L486 , L462 , L474 , YELLOW_0:def 10;
thus L488: thesis by L487 , L457;
end;
theorem
L489: (for B122 being non  empty set holds (for B123 being  RelStr-yielding  non-Empty  reflexive-yielding (ManySortedSet of B122) holds ((for B124 being (Element of B122) holds ( B123 . B124 ) is  continuous  complete  continuous  complete  continuous  complete  continuous  complete LATTICE) implies ( product B123 ) is  continuous)))
proof
let C195 being non  empty set;
let C196 being  RelStr-yielding  non-Empty  reflexive-yielding (ManySortedSet of C195);
assume that
L490: (for B125 being (Element of C195) holds ( C196 . B125 ) is  continuous  complete  continuous  complete  continuous  complete  continuous  complete LATTICE);
L491: (for B126 being (Element of C195) holds ( C196 . B126 ) is  complete  complete  complete  complete LATTICE) by L490;
set D53 = ( product C196 );
reconsider D54 = D53 as  complete LATTICE by L491 , WAYBEL_3:31;
thus L492:now
let C197 being (Element of D53);
reconsider D55 = C197 as (Element of D54);
L493: ( waybelow D55 ) is non  empty;
thus L494: ( waybelow C197 ) is non  empty by L493;
L495: ( waybelow D55 ) is  directed;
thus L496: ( waybelow C197 ) is  directed by L495;
end;
L497: D54 is  up-complete;
thus L498: D53 is  up-complete by L497;
let C198 being (Element of D53);
set D56 = ( sup ( waybelow C198 ) );
L499:
now
thus L500: ( dom C198 ) = C195 by WAYBEL_3:27;
thus L501: ( dom D56 ) = C195 by WAYBEL_3:27;
let C199 being set;
assume L502: C199 in C195;
reconsider D57 = C199 as (Element of C195) by L502;
L503:
now
reconsider D58 = { D57 } as  finite (Subset of C195);
deffunc H5((Element of C195)) = ( Bottom ( C196 . $1 ) );
let C200 being set;
consider C201 being (ManySortedSet of C195) such that L504: (for B127 being (Element of C195) holds ( C201 . B127 ) = H5(B127)) from PBOOLE:sch 5;
set D59 = ( C201 +* (C199 , C200) );
thus L505:now
assume L506: C200 in ( pi (( waybelow C198 ) , D57) );
consider C202 being Function such that L507: C202 in ( waybelow C198 ) and L508: C200 = ( C202 . C199 ) by L506 , CARD_3:def 6;
reconsider D60 = C202 as (Element of D53) by L507;
L509: D60 << C198 by L507 , WAYBEL_3:7;
L510: ( D60 . D57 ) << ( C198 . D57 ) by L509 , L491 , WAYBEL_3:33;
thus L511: C200 in ( waybelow ( C198 . D57 ) ) by L510 , L508;
end;
L512: ( dom C201 ) = C195 by PARTFUN1:def 2;
L513: ( dom D59 ) = C195 by L512 , FUNCT_7:30;
assume L514: C200 in ( waybelow ( C198 . D57 ) );
L515:
now
let C203 being (Element of C195);
per cases ;
suppose L516: D57 = C203;

thus L517: ( D59 . C203 ) is (Element of ( C196 . C203 )) by L516 , L514 , L512 , FUNCT_7:31;
end;
suppose L518: D57 <> C203;

L519: ( D59 . C203 ) = ( C201 . C203 ) by L518 , FUNCT_7:32
.= ( Bottom ( C196 . C203 ) ) by L504;
thus L520: ( D59 . C203 ) is (Element of ( C196 . C203 )) by L519;
end;
end;
reconsider D61 = D59 as (Element of D53) by L515 , L513 , WAYBEL_3:27;
L522:
now
let C204 being (Element of C195);
per cases ;
suppose L523: D57 = C204;

L524: ( D61 . D57 ) = C200 by L512 , FUNCT_7:31;
thus L525: ( D61 . C204 ) << ( C198 . C204 ) by L524 , L514 , L523 , WAYBEL_3:7;
end;
suppose L526: D57 <> C204;

L527: ( C196 . C204 ) is  complete  complete  complete  complete LATTICE by L490;
L528: ( D61 . C204 ) = ( C201 . C204 ) by L526 , FUNCT_7:32
.= ( Bottom ( C196 . C204 ) ) by L504;
thus L529: ( D61 . C204 ) << ( C198 . C204 ) by L528 , L527 , WAYBEL_3:4;
end;
end;
L531:
now
let C205 being (Element of C195);
assume L532: (not C205 in D58);
L533: C205 <> D57 by L532 , TARSKI:def 1;
thus L534: ( D61 . C205 ) = ( C201 . C205 ) by L533 , FUNCT_7:32
.= ( Bottom ( C196 . C205 ) ) by L504;
end;
L535: D61 << C198 by L531 , L491 , L522 , WAYBEL_3:33;
L536: D61 in ( waybelow C198 ) by L535;
L537: C200 = ( D61 . D57 ) by L512 , FUNCT_7:31;
thus L538: C200 in ( pi (( waybelow C198 ) , D57) ) by L537 , L536 , CARD_3:def 6;
end;
L539: ( pi (( waybelow C198 ) , D57) ) = ( waybelow ( C198 . D57 ) ) by L503 , TARSKI:1;
L540: (( D56 . D57 ) = ( sup ( pi (( waybelow C198 ) , D57) ) ) & ( C196 . D57 ) is  satisfying_axiom_of_approximation) by L490 , L491 , WAYBEL_3:32;
thus L541: ( C198 . C199 ) = ( D56 . C199 ) by L540 , L539 , WAYBEL_3:def 5;
end;
thus L542: thesis by L499 , FUNCT_1:2;
end;
begin
theorem
L543: (for B128 , B129 being  continuous  complete LATTICE holds (for B130 being (CLHomomorphism of B128 , B129) holds (for B131 being (Subset of [: B128 , B128 :]) holds (B131 = ( [: B130 , B130 :] " ( id (the carrier of B129) ) ) implies ( subrelstr B131 ) is (CLSubFrame of [: B128 , B128 :])))))
proof
let C206 , C207 being  continuous  complete LATTICE;
let C208 being (CLHomomorphism of C206 , C207);
let C209 being (Subset of [: C206 , C206 :]);
assume that
L544: C209 = ( [: C208 , C208 :] " ( id (the carrier of C207) ) );
set D62 = the (Element of C206);
L545: ( dom C208 ) = (the carrier of C206) by FUNCT_2:def 1;
L546: [ D62 , D62 ] in [: ( dom C208 ) , ( dom C208 ) :] by L545 , ZFMISC_1:87;
L547: [ ( C208 . D62 ) , ( C208 . D62 ) ] in ( id (the carrier of C207) ) by RELAT_1:def 10;
L548: (( dom [: C208 , C208 :] ) = [: ( dom C208 ) , ( dom C208 ) :] & ( [: C208 , C208 :] . (D62 , D62) ) in ( id (the carrier of C207) )) by L547 , L545 , FUNCT_3:def 8;
reconsider D63 = C209 as non  empty (Subset of [: C206 , C206 :]) by L548 , L544 , L546 , FUNCT_1:def 7;
set D64 = [: C206 , C206 :];
set D65 = [: C208 , C208 :];
L549: C208 is  infs-preserving  directed-sups-preserving by WAYBEL16:def 1;
L550: (the carrier of D64) = [: (the carrier of C206) , (the carrier of C206) :] by YELLOW_3:def 2;
L551: ( subrelstr D63 ) is non  empty;
L552: ( subrelstr C209 ) is  directed-sups-inheriting
proof
let C210 being  directed (Subset of ( subrelstr C209 ));
assume that
L553: C210 <> ( {} )
and
L554:  ex_sup_of C210 , D64;
reconsider D66 = C210 as  directed non  empty (Subset of D64) by L551 , L553 , YELLOW_2:7;
L555: D65 is  directed-sups-preserving by L549 , L184;
L556: D65 preserves_sup_of D66 by L555 , WAYBEL_0:def 37;
L557: ( sup ( D65 .: D66 ) ) = ( D65 . ( sup D66 ) ) by L556 , L554 , WAYBEL_0:def 31;
L558: C210 c= (the carrier of ( subrelstr C209 ));
L559: C210 c= C209 by L558 , YELLOW_0:def 15;
L560: ( D65 .: C210 ) c= ( D65 .: C209 ) by L559 , RELAT_1:123;
L561: (( D65 .: C209 ) c= ( id (the carrier of C207) ) &  ex_sup_of ( D65 .: D66 ) , [: C207 , C207 :]) by L544 , FUNCT_1:75 , YELLOW_0:17;
L562: ( sup ( D65 .: D66 ) ) in ( id (the carrier of C207) ) by L561 , L560 , L208 , XBOOLE_1:1;
consider C211 , C212 being set such that L563: (C211 in (the carrier of C206) & C212 in (the carrier of C206)) and L564: ( sup D66 ) = [ C211 , C212 ] by L550 , ZFMISC_1:def 2;
L565: [ C211 , C212 ] in [: ( dom C208 ) , ( dom C208 ) :] by L545 , L563 , ZFMISC_1:87;
L566: [ C211 , C212 ] in ( dom [: C208 , C208 :] ) by L565 , FUNCT_3:def 8;
L567: [ C211 , C212 ] in ( [: C208 , C208 :] " ( id (the carrier of C207) ) ) by L566 , L564 , L557 , L562 , FUNCT_1:def 7;
thus L568: thesis by L567 , L544 , L564 , YELLOW_0:def 15;
end;
L569: ( subrelstr C209 ) is  infs-inheriting
proof
let C213 being (Subset of ( subrelstr C209 ));
assume that
L570:  ex_inf_of C213 , D64;
L571: C213 c= (the carrier of ( subrelstr C209 ));
L572: C213 c= C209 by L571 , YELLOW_0:def 15;
reconsider D67 = C213 as (Subset of D64) by L572 , XBOOLE_1:1;
L573: (( D65 .: C209 ) c= ( id (the carrier of C207) ) &  ex_inf_of ( D65 .: D67 ) , [: C207 , C207 :]) by L544 , FUNCT_1:75 , YELLOW_0:17;
L574: D65 is  infs-preserving by L549 , L130;
L575: D65 preserves_inf_of D67 by L574 , WAYBEL_0:def 32;
L576: ( inf ( D65 .: D67 ) ) = ( D65 . ( inf D67 ) ) by L575 , L570 , WAYBEL_0:def 30;
L577: ( D65 .: C213 ) c= ( D65 .: C209 ) by L572 , RELAT_1:123;
L578: ( inf ( D65 .: D67 ) ) in ( id (the carrier of C207) ) by L577 , L573 , L204 , XBOOLE_1:1;
consider C214 , C215 being set such that L579: (C214 in (the carrier of C206) & C215 in (the carrier of C206)) and L580: ( inf D67 ) = [ C214 , C215 ] by L550 , ZFMISC_1:def 2;
L581: [ C214 , C215 ] in [: ( dom C208 ) , ( dom C208 ) :] by L545 , L579 , ZFMISC_1:87;
L582: [ C214 , C215 ] in ( dom [: C208 , C208 :] ) by L581 , FUNCT_3:def 8;
L583: [ C214 , C215 ] in ( [: C208 , C208 :] " ( id (the carrier of C207) ) ) by L582 , L580 , L576 , L578 , FUNCT_1:def 7;
thus L584: thesis by L583 , L544 , L580 , YELLOW_0:def 15;
end;
thus L585: thesis by L569 , L552;
end;
definition
let C216 being RelStr;
let C217 being (Subset of [: C216 , C216 :]);
assume that
L586: C217 is (Equivalence_Relation of (the carrier of C216));
func EqRel C217 -> (Equivalence_Relation of (the carrier of C216)) equals 
:L587: C217;
correctness by L586;
end;
definition
let C218 being non  empty RelStr;
let C219 being (Subset of [: C218 , C218 :]);
attr C219 is  CLCongruence
means
:L589: (C219 is (Equivalence_Relation of (the carrier of C218)) & ( subrelstr C219 ) is (CLSubFrame of [: C218 , C218 :]));
end;
theorem
L591: (for B132 being  complete LATTICE holds (for B133 being non  empty (Subset of [: B132 , B132 :]) holds (B133 is  CLCongruence implies (for B134 being (Element of B132) holds [ ( inf ( Class (( EqRel B133 ) , B134) ) ) , B134 ] in B133))))
proof
let C220 being  complete LATTICE;
let C221 being non  empty (Subset of [: C220 , C220 :]);
assume L592: C221 is  CLCongruence;
let C222 being (Element of C220);
set D68 = ( Class (( EqRel C221 ) , C222) );
reconsider D69 = [: D68 , { C222 } :] as (Subset of [: C220 , C220 :]);
L593: C221 is (Equivalence_Relation of (the carrier of C220)) by L592 , L589;
L594: C221 = ( EqRel C221 ) by L593 , L587;
L595: D69 c= (the carrier of ( subrelstr C221 ))
proof
let C223 being set;
assume L596: C223 in D69;
consider C224 , C225 being set such that L597: C224 in D68 and L598: C225 in { C222 } and L599: C223 = [ C224 , C225 ] by L596 , ZFMISC_1:def 2;
L600: C225 = C222 by L598 , TARSKI:def 1;
L601: C223 in C221 by L600 , L594 , L597 , L599 , EQREL_1:19;
thus L602: thesis by L601 , YELLOW_0:def 15;
end;
reconsider D70 = D69 as (Subset of ( subrelstr C221 )) by L595;
L603:  ex_inf_of D69 , [: C220 , C220 :] by YELLOW_0:17;
L604: ( subrelstr C221 ) is (CLSubFrame of [: C220 , C220 :]) by L592 , L589;
L605: ( "/\" (D70 , [: C220 , C220 :]) ) in (the carrier of ( subrelstr C221 )) by L604 , L603 , YELLOW_0:def 18;
L606: C222 in D68 by EQREL_1:20;
L607: ( inf D69 ) = [ ( inf ( proj1 D69 ) ) , ( inf ( proj2 D69 ) ) ] by L108 , YELLOW_0:17
.= [ ( inf D68 ) , ( inf ( proj2 D69 ) ) ] by FUNCT_5:9
.= [ ( inf D68 ) , ( inf { C222 } ) ] by L606 , FUNCT_5:9
.= [ ( inf D68 ) , C222 ] by YELLOW_0:39;
thus L608: thesis by L607 , L605 , YELLOW_0:def 15;
end;
definition
let C226 being  complete LATTICE;
let C227 being non  empty (Subset of [: C226 , C226 :]);
assume that
L609: C227 is  CLCongruence;
func kernel_op C227 ->  kernel (Function of C226 , C226) means 
:L610: (for B135 being (Element of C226) holds ( it . B135 ) = ( inf ( Class (( EqRel C227 ) , B135) ) ));
existence
proof
deffunc H6((Element of C226)) = ( inf ( Class (( EqRel C227 ) , $1) ) );
consider C228 being (Function of (the carrier of C226) , (the carrier of C226)) such that L611: (for B136 being (Element of C226) holds ( C228 . B136 ) = H6(B136)) from FUNCT_2:sch 4;
reconsider D71 = C228 as (Function of C226 , C226);
L612: C227 is (Equivalence_Relation of (the carrier of C226)) by L609 , L589;
L613: C227 = ( EqRel C227 ) by L612 , L587;
L614: ( subrelstr C227 ) is (CLSubFrame of [: C226 , C226 :]) by L609 , L589;
L615: D71 is  monotone
proof
let C229 , C230 being (Element of C226);
assume that
L616: C229 <= C230;
set D72 = ( Class (( EqRel C227 ) , C230) );
set D73 = ( Class (( EqRel C227 ) , C229) );
reconsider D74 = { [ ( inf D73 ) , C229 ] , [ ( inf D72 ) , C230 ] } as (Subset of [: C226 , C226 :]);
L617: ( inf D74 ) = [ ( inf ( proj1 D74 ) ) , ( inf ( proj2 D74 ) ) ] by L108 , YELLOW_0:17
.= [ ( inf { ( inf D73 ) , ( inf D72 ) } ) , ( inf ( proj2 D74 ) ) ] by FUNCT_5:13
.= [ ( inf { ( inf D73 ) , ( inf D72 ) } ) , ( inf { C229 , C230 } ) ] by FUNCT_5:13;
L618: ([ ( inf D73 ) , C229 ] in C227 & [ ( inf D72 ) , C230 ] in C227) by L609 , L591;
L619: D74 c= C227 by L618 , ZFMISC_1:32;
reconsider D75 = D74 as (Subset of ( subrelstr C227 )) by L619 , YELLOW_0:def 15;
L620:  ex_inf_of D74 , [: C226 , C226 :] by YELLOW_0:17;
L621: ( "/\" (D75 , [: C226 , C226 :]) ) in (the carrier of ( subrelstr C227 )) by L620 , L614 , YELLOW_0:def 18;
L622: ( inf { C229 , C230 } ) = ( C229 "/\" C230 ) by YELLOW_0:40
.= C229 by L616 , YELLOW_0:25;
L623: [ ( inf { ( inf D73 ) , ( inf D72 ) } ) , C229 ] in C227 by L622 , L617 , L621 , YELLOW_0:def 15;
L624: ( inf { ( inf D73 ) , ( inf D72 ) } ) in D73 by L623 , L613 , EQREL_1:19;
L625: ( inf D73 ) <= ( inf { ( inf D73 ) , ( inf D72 ) } ) by L624 , YELLOW_2:22;
L626: ( inf D72 ) in { ( inf D73 ) , ( inf D72 ) } by TARSKI:def 2;
L627: ( inf { ( inf D73 ) , ( inf D72 ) } ) <= ( inf D72 ) by L626 , YELLOW_2:22;
L628: (( D71 . C229 ) = ( inf D73 ) & ( D71 . C230 ) = ( inf D72 )) by L611;
thus L629: ( D71 . C229 ) <= ( D71 . C230 ) by L628 , L625 , L627 , YELLOW_0:def 2;
end;
L630:
now
let C231 being (Element of C226);
set D76 = ( Class (( EqRel C227 ) , C231) );
L631: [ ( inf D76 ) , C231 ] in C227 by L609 , L591;
L632: ( inf D76 ) in D76 by L631 , L613 , EQREL_1:19;
L633: ( Class (( EqRel C227 ) , ( inf D76 )) ) = D76 by L632 , EQREL_1:23;
L634: ( D71 . C231 ) = ( inf D76 ) by L611;
L635: ( D71 . ( D71 . C231 ) ) = ( inf ( Class (( EqRel C227 ) , ( inf D76 )) ) ) by L634 , L611;
thus L636: ( ( D71 * D71 ) . C231 ) = ( D71 . C231 ) by L635 , L634 , L633 , FUNCT_2:15;
end;
L637: ( D71 * D71 ) = D71 by L630 , FUNCT_2:63;
L638: D71 is  idempotent by L637 , QUANTAL1:def 9;
L639: D71 is  projection by L638 , L615 , WAYBEL_1:def 13;
L640:
now
let C232 being (Element of C226);
set D77 = ( Class (( EqRel C227 ) , C232) );
L641: (C232 in D77 & ( inf D77 ) is_<=_than D77) by EQREL_1:20 , YELLOW_0:33;
L642: ( inf D77 ) <= C232 by L641 , LATTICE3:def 8;
L643: ( D71 . C232 ) = ( inf ( Class (( EqRel C227 ) , C232) ) ) by L611;
thus L644: ( D71 . C232 ) <= ( ( id C226 ) . C232 ) by L643 , L642 , FUNCT_1:18;
end;
L645: D71 <= ( id C226 ) by L640 , YELLOW_2:9;
reconsider D78 = D71 as  kernel (Function of C226 , C226) by L645 , L639 , WAYBEL_1:def 15;
take D78;
thus L646: thesis by L611;
end;
uniqueness
proof
let C233 , C234 being  kernel (Function of C226 , C226);
assume that
L647: (for B137 being (Element of C226) holds ( C233 . B137 ) = ( inf ( Class (( EqRel C227 ) , B137) ) ))
and
L648: (for B138 being (Element of C226) holds ( C234 . B138 ) = ( inf ( Class (( EqRel C227 ) , B138) ) ));
L649:
now
let C235 being set;
assume L650: C235 in (the carrier of C226);
reconsider D79 = C235 as (Element of C226) by L650;
thus L651: ( C233 . C235 ) = ( inf ( Class (( EqRel C227 ) , D79) ) ) by L647
.= ( C234 . C235 ) by L648;
end;
thus L652: C233 = C234 by L649 , FUNCT_2:12;
end;
end;
theorem
L654: (for B139 being  complete LATTICE holds (for B140 being non  empty (Subset of [: B139 , B139 :]) holds (B140 is  CLCongruence implies (( kernel_op B140 ) is  directed-sups-preserving & B140 = ( [: ( kernel_op B140 ) , ( kernel_op B140 ) :] " ( id (the carrier of B139) ) )))))
proof
let C236 being  complete LATTICE;
let C237 being non  empty (Subset of [: C236 , C236 :]);
set D80 = ( kernel_op C237 );
set D81 = (the carrier of C236);
L655: ( dom D80 ) = D81 by FUNCT_2:def 1;
assume L656: C237 is  CLCongruence;
L657: C237 is (Equivalence_Relation of (the carrier of C236)) by L656 , L589;
L658: ( EqRel C237 ) = C237 by L657 , L587;
L659: ( subrelstr C237 ) is (CLSubFrame of [: C236 , C236 :]) by L656 , L589;
thus L660: D80 is  directed-sups-preserving
proof
let C238 being (Subset of C236);
assume that
L661: C238 is non  empty  directed
and
L662:  ex_sup_of C238 , C236;
consider C239 being set such that L663: C239 in C238 by L661 , XBOOLE_0:def 1;
set D82 = { [ ( D80 . B141 ) , B141 ] where B141 is (Element of C236) : B141 in C238 };
L664: D82 c= C237
proof
let C240 being set;
assume L665: C240 in D82;
consider C241 being (Element of C236) such that L666: C240 = [ ( D80 . C241 ) , C241 ] and L667: C241 in C238 by L665;
L668: ( D80 . C241 ) = ( inf ( Class (( EqRel C237 ) , C241) ) ) by L656 , L610;
thus L669: thesis by L668 , L656 , L666 , L591;
end;
reconsider D83 = D82 as (Subset of ( subrelstr C237 )) by L664 , YELLOW_0:def 15;
reconsider D84 = D82 as (Subset of [: C236 , C236 :]) by L664 , XBOOLE_1:1;
thus L670:  ex_sup_of ( D80 .: C238 ) , C236 by YELLOW_0:17;
set D85 = ( sup C238 );
set D86 = ( sup ( D80 .: C238 ) );
L671: ((the carrier of ( subrelstr C237 )) = C237 &  ex_sup_of D84 , [: C236 , C236 :]) by YELLOW_0:17 , YELLOW_0:def 15;
reconsider D87 = C239 as (Element of C236) by L663;
L672: [ ( D80 . D87 ) , D87 ] in D84 by L663;
L673: D83 is  directed
proof
let C242 , C243 being (Element of ( subrelstr C237 ));
assume that
L674: C242 in D83
and
L675: C243 in D83;
consider C244 being (Element of C236) such that L676: C242 = [ ( D80 . C244 ) , C244 ] and L677: C244 in C238 by L674;
consider C245 being (Element of C236) such that L678: C243 = [ ( D80 . C245 ) , C245 ] and L679: C245 in C238 by L675;
consider C246 being (Element of C236) such that L680: C246 in C238 and L681: C244 <= C246 and L682: C245 <= C246 by L661 , L677 , L679 , WAYBEL_0:def 1;
set D88 = [ ( D80 . C246 ) , C246 ];
L683: D88 in D83 by L680;
reconsider D89 = D88 as (Element of ( subrelstr C237 )) by L683;
take D89;
thus L684: D89 in D83 by L680;
L685: ( D80 . C244 ) <= ( D80 . C246 ) by L681 , WAYBEL_1:def 2;
L686: [ ( D80 . C244 ) , C244 ] <= [ ( D80 . C246 ) , C246 ] by L685 , L681 , YELLOW_3:11;
thus L687: C242 <= D89 by L686 , L676 , YELLOW_0:60;
L688: ( D80 . C245 ) <= ( D80 . C246 ) by L682 , WAYBEL_1:def 2;
L689: [ ( D80 . C245 ) , C245 ] <= [ ( D80 . C246 ) , C246 ] by L688 , L682 , YELLOW_3:11;
thus L690: C243 <= D89 by L689 , L678 , YELLOW_0:60;
end;
L691:
now
let C247 being set;
thus L692:now
assume L693: C247 in ( proj1 D84 );
consider C248 being set such that L694: [ C247 , C248 ] in D84 by L693 , XTUPLE_0:def 12;
consider C249 being (Element of C236) such that L695: [ C247 , C248 ] = [ ( D80 . C249 ) , C249 ] and L696: C249 in C238 by L694;
L697: C247 = ( D80 . C249 ) by L695 , XTUPLE_0:1;
thus L698: C247 in ( D80 .: C238 ) by L697 , L655 , L696 , FUNCT_1:def 6;
end;
assume L699: C247 in ( D80 .: C238 );
consider C250 being set such that L700: C250 in ( dom D80 ) and L701: C250 in C238 and L702: C247 = ( D80 . C250 ) by L699 , FUNCT_1:def 6;
reconsider D90 = C250 as (Element of C236) by L700;
L703: [ ( D80 . D90 ) , D90 ] in D84 by L701;
thus L704: C247 in ( proj1 D84 ) by L703 , L702 , XTUPLE_0:def 12;
end;
L705: ( proj1 D84 ) = ( D80 .: C238 ) by L691 , TARSKI:1;
L706:
now
let C251 being set;
thus L707:now
assume L708: C251 in ( proj2 D84 );
consider C252 being set such that L709: [ C252 , C251 ] in D84 by L708 , XTUPLE_0:def 13;
L710: (ex B142 being (Element of C236) st ([ C252 , C251 ] = [ ( D80 . B142 ) , B142 ] & B142 in C238)) by L709;
thus L711: C251 in C238 by L710 , XTUPLE_0:1;
end;
assume L712: C251 in C238;
reconsider D91 = C251 as (Element of C236) by L712;
L713: [ ( D80 . D91 ) , D91 ] in D84 by L712;
thus L714: C251 in ( proj2 D84 ) by L713 , XTUPLE_0:def 13;
end;
L715: ( proj2 D84 ) = C238 by L706 , TARSKI:1;
L716: ( sup D84 ) = [ D86 , D85 ] by L715 , L705 , L119 , YELLOW_0:17;
L717: [ D86 , D85 ] in C237 by L716 , L659 , L671 , L672 , L673 , WAYBEL_0:def 4;
L718: D86 in ( Class (( EqRel C237 ) , D85) ) by L717 , L658 , EQREL_1:19;
L719: ( D80 .: C238 ) is_<=_than ( D80 . D85 )
proof
let C253 being (Element of C236);
assume L720: C253 in ( D80 .: C238 );
consider C254 being set such that L721: C254 in ( dom D80 ) and L722: C254 in C238 and L723: C253 = ( D80 . C254 ) by L720 , FUNCT_1:def 6;
reconsider D92 = C254 as (Element of C236) by L721;
L724: C238 is_<=_than D85 by YELLOW_0:32;
L725: D92 <= D85 by L724 , L722 , LATTICE3:def 9;
thus L726: C253 <= ( D80 . D85 ) by L725 , L723 , WAYBEL_1:def 2;
end;
L727: D86 <= ( D80 . D85 ) by L719 , YELLOW_0:32;
L728: ( D80 . D85 ) = ( inf ( Class (( EqRel C237 ) , D85) ) ) by L656 , L610;
L729: ( D80 . D85 ) <= D86 by L728 , L718 , YELLOW_2:22;
thus L730: thesis by L729 , L727 , YELLOW_0:def 3;
end;

L731:
now
let C255 being set;
thus L732:now
assume L733: C255 in C237;
L734: C255 in (the carrier of [: C236 , C236 :]) by L733;
L735: C255 in [: D81 , D81 :] by L734 , YELLOW_3:def 2;
consider C256 , C257 being set such that L736: (C256 in D81 & C257 in D81) and L737: C255 = [ C256 , C257 ] by L735 , ZFMISC_1:def 2;
reconsider D93 = C256 , D94 = C257 as (Element of C236) by L736;
L738: (( D80 . D93 ) = ( inf ( Class (( EqRel C237 ) , D93) ) ) & ( D80 . D94 ) = ( inf ( Class (( EqRel C237 ) , D94) ) )) by L656 , L610;
L739: D93 in ( Class (( EqRel C237 ) , D94) ) by L658 , L733 , L737 , EQREL_1:19;
L740: ( D80 . D93 ) = ( D80 . D94 ) by L739 , L738 , EQREL_1:23;
L741: [ ( D80 . D93 ) , ( D80 . D94 ) ] in ( id D81 ) by L740 , RELAT_1:def 10;
L742: ( dom [: D80 , D80 :] ) = [: ( dom D80 ) , ( dom D80 ) :] by FUNCT_3:def 8;
L743: [ D93 , D94 ] in ( dom [: D80 , D80 :] ) by L742 , L655 , ZFMISC_1:87;
L744: ( [: D80 , D80 :] . (D93 , D94) ) = [ ( D80 . D93 ) , ( D80 . D94 ) ] by L655 , FUNCT_3:def 8;
thus L745: C255 in ( [: D80 , D80 :] " ( id D81 ) ) by L744 , L737 , L741 , L743 , FUNCT_1:def 7;
end;
assume L746: C255 in ( [: D80 , D80 :] " ( id D81 ) );
L747: ( [: D80 , D80 :] . C255 ) in ( id D81 ) by L746 , FUNCT_1:def 7;
L748: C255 in ( dom [: D80 , D80 :] ) by L746 , FUNCT_1:def 7;
L749: C255 in [: ( dom D80 ) , ( dom D80 ) :] by L748 , FUNCT_3:def 8;
consider C258 , C259 being set such that L750: (C258 in ( dom D80 ) & C259 in ( dom D80 )) and L751: C255 = [ C258 , C259 ] by L749 , ZFMISC_1:def 2;
reconsider D95 = C258 , D96 = C259 as (Element of C236) by L750;
L752: ( [: D80 , D80 :] . (D95 , D96) ) = [ ( D80 . D95 ) , ( D80 . D96 ) ] by L750 , FUNCT_3:def 8;
L753: ( D80 . D95 ) = ( D80 . D96 ) by L752 , L747 , L751 , RELAT_1:def 10;
L754: ( D80 . D95 ) = ( inf ( Class (( EqRel C237 ) , D95) ) ) by L656 , L610;
L755: [ ( D80 . D95 ) , D95 ] in C237 by L754 , L656 , L591;
L756: [ D95 , ( D80 . D95 ) ] in C237 by L755 , L657 , EQREL_1:6;
L757: ( D80 . D96 ) = ( inf ( Class (( EqRel C237 ) , D96) ) ) by L656 , L610;
L758: [ ( D80 . D96 ) , D96 ] in C237 by L757 , L656 , L591;
thus L759: C255 in C237 by L758 , L657 , L751 , L753 , L756 , EQREL_1:7;
end;
thus L760: thesis by L731 , TARSKI:1;
end;
theorem
L761: (for B143 being  continuous  complete LATTICE holds (for B144 being (Subset of [: B143 , B143 :]) holds (for B145 being  kernel (Function of B143 , B143) holds ((B145 is  directed-sups-preserving & B144 = ( [: B145 , B145 :] " ( id (the carrier of B143) ) )) implies (ex B146 being  continuous  complete  strict LATTICE st ((the carrier of B146) = ( Class ( EqRel B144 ) ) & (the InternalRel of B146) = { [ ( Class (( EqRel B144 ) , B147) ) , ( Class (( EqRel B144 ) , B148) ) ] where B147 , B148 is (Element of B143) : ( B145 . B147 ) <= ( B145 . B148 ) } & (for B149 being (Function of B143 , B146) holds ((for B150 being (Element of B143) holds ( B149 . B150 ) = ( Class (( EqRel B144 ) , B150) )) implies B149 is (CLHomomorphism of B143 , B146)))))))))
proof
let C260 being  continuous  complete LATTICE;
let C261 being (Subset of [: C260 , C260 :]);
let C262 being  kernel (Function of C260 , C260);
assume that
L762: C262 is  directed-sups-preserving
and
L763: C261 = ( [: C262 , C262 :] " ( id (the carrier of C260) ) );
set D97 = ( EqRel C261 );
L764: C261 is (Equivalence_Relation of (the carrier of C260)) by L763 , L13;
L765: D97 = C261 by L764 , L587;
reconsider D98 = ( rng C262 ) as non  empty set;
defpred S1[ set , set ] means (ex B151 , B152 being (Element of C260) st ($1 = ( Class (D97 , B151) ) & $2 = ( Class (D97 , B152) ) & ( C262 . B151 ) <= ( C262 . B152 )));
set D99 = the (Element of C260);
set D100 = (the carrier of C260);
L766: ( Class (D97 , D99) ) in ( Class D97 ) by EQREL_1:def 3;
reconsider D101 = ( Class D97 ) as non  empty (Subset-Family of D100) by L766;
consider C263 being non  empty  strict RelStr such that L767: (the carrier of C263) = D101 and L768: (for B153 , B154 being (Element of C263) holds (B153 <= B154 iff S1[ B153 , B154 ])) from YELLOW_0:sch 1;
defpred S2[ set , set ] means (ex B155 being (Element of D100) st ($1 = ( Class (D97 , B155) ) & $2 = ( C262 . B155 )));
L769: ( dom C262 ) = D100 by FUNCT_2:def 1;
L770: (for B156 being (Element of D101) holds (ex B157 being (Element of D98) st S2[ B156 , B157 ]))
proof
let C264 being (Element of D101);
consider C265 being set such that L771: C265 in D100 and L772: C264 = ( Class (D97 , C265) ) by EQREL_1:def 3;
reconsider D102 = C265 as (Element of C260) by L771;
reconsider D103 = ( C262 . D102 ) as (Element of D98) by L769 , FUNCT_1:def 3;
take D103;
thus L773: thesis by L772;
end;
consider C266 being (Function of D101 , D98) such that L774: (for B158 being (Element of D101) holds S2[ B158 , ( C266 . B158 ) ]) from FUNCT_2:sch 3(L770);
L775: ( dom [: C262 , C262 :] ) = [: D100 , D100 :] by L769 , FUNCT_3:def 8;
L776: (for B159 , B160 being (Element of D100) holds (( Class (D97 , B159) ) = ( Class (D97 , B160) ) iff ( C262 . B159 ) = ( C262 . B160 )))
proof
let C267 , C268 being (Element of D100);
thus L777:now
assume L778: ( Class (D97 , C267) ) = ( Class (D97 , C268) );
L779: C267 in ( Class (D97 , C268) ) by L778 , EQREL_1:23;
L780: [ C267 , C268 ] in C261 by L779 , L765 , EQREL_1:19;
L781: ( [: C262 , C262 :] . (C267 , C268) ) in ( id D100 ) by L780 , L763 , FUNCT_1:def 7;
L782: [ ( C262 . C267 ) , ( C262 . C268 ) ] in ( id D100 ) by L781 , L769 , FUNCT_3:def 8;
thus L783: ( C262 . C267 ) = ( C262 . C268 ) by L782 , RELAT_1:def 10;
end;
assume L784: ( C262 . C267 ) = ( C262 . C268 );
L785: [ ( C262 . C267 ) , ( C262 . C268 ) ] in ( id D100 ) by L784 , RELAT_1:def 10;
L786: ([ C267 , C268 ] in [: D100 , D100 :] & ( [: C262 , C262 :] . (C267 , C268) ) in ( id D100 )) by L785 , L769 , FUNCT_3:def 8 , ZFMISC_1:def 2;
L787: [ C267 , C268 ] in D97 by L786 , L763 , L765 , L775 , FUNCT_1:def 7;
L788: C267 in ( Class (D97 , C268) ) by L787 , EQREL_1:19;
thus L789: thesis by L788 , EQREL_1:23;
end;
L790: (for B161 being (Element of C260) holds ( C266 . ( Class (D97 , B161) ) ) = ( C262 . B161 ))
proof
let C269 being (Element of C260);
reconsider D104 = ( Class (D97 , C269) ) as (Element of D101) by EQREL_1:def 3;
L791: (ex B162 being (Element of D100) st (D104 = ( Class (D97 , B162) ) & ( C266 . D104 ) = ( C262 . B162 ))) by L774;
thus L792: thesis by L791 , L776;
end;
L793: (for B163 being (Element of C263) holds (ex B164 being (Element of C260) st B163 = ( Class (D97 , B164) )))
proof
let C270 being (Element of C263);
L794: C270 in D101 by L767;
consider C271 being set such that L795: C271 in D100 and L796: C270 = ( Class (D97 , C271) ) by L794 , EQREL_1:def 3;
reconsider D105 = C271 as (Element of C260) by L795;
take D105;
thus L797: thesis by L796;
end;
L798:
now
let C272 , C273 being set;
assume that
L799: C272 in D101
and
L800: C273 in D101
and
L801: ( C266 . C272 ) = ( C266 . C273 );
reconsider D106 = C272 as (Element of C263) by L767 , L799;
consider C274 being (Element of C260) such that L802: D106 = ( Class (D97 , C274) ) by L793;
reconsider D107 = C273 as (Element of C263) by L767 , L800;
consider C275 being (Element of C260) such that L803: D107 = ( Class (D97 , C275) ) by L793;
L804: ( C266 . D107 ) = ( C262 . C275 ) by L790 , L803;
L805: ( C266 . D106 ) = ( C262 . C274 ) by L790 , L802;
thus L806: C272 = C273 by L805 , L776 , L801 , L802 , L803 , L804;
end;
L807: C266 is  one-to-one by L798 , FUNCT_2:19;
set D108 = (the InternalRel of C263);
L808: ( dom C266 ) = D101 by FUNCT_2:def 1;
reconsider D109 = C266 as (Function of C263 , ( Image C262 )) by L767 , YELLOW_0:def 15;
L809:
now
let C276 being set;
thus L810:now
assume L811: C276 in ( rng D109 );
consider C277 being set such that L812: C277 in ( dom D109 ) and L813: C276 = ( D109 . C277 ) by L811 , FUNCT_1:def 3;
reconsider D110 = C277 as (Element of C263) by L812;
consider C278 being (Element of C260) such that L814: D110 = ( Class (D97 , C278) ) by L793;
L815: ( D109 . D110 ) = ( C262 . C278 ) by L790 , L814;
thus L816: C276 in D98 by L815 , L769 , L813 , FUNCT_1:def 3;
end;
assume L817: C276 in D98;
consider C279 being set such that L818: C279 in ( dom C262 ) and L819: C276 = ( C262 . C279 ) by L817 , FUNCT_1:def 3;
reconsider D111 = C279 as (Element of C260) by L818;
L820: (( Class (D97 , D111) ) in D101 & ( D109 . ( Class (D97 , D111) ) ) = ( C262 . D111 )) by L790 , EQREL_1:def 3;
thus L821: C276 in ( rng D109 ) by L820 , L808 , L819 , FUNCT_1:def 3;
end;
L822: ((the carrier of ( Image C262 )) = D98 & ( rng D109 ) = D98) by L809 , TARSKI:1 , YELLOW_0:def 15;
L823: (for B165 , B166 being (Element of C263) holds (B165 <= B166 iff ( D109 . B165 ) <= ( D109 . B166 )))
proof
let C280 , C281 being (Element of C263);
L824: C280 in D101 by L767;
consider C282 being set such that L825: C282 in D100 and L826: C280 = ( Class (D97 , C282) ) by L824 , EQREL_1:def 3;
thus L827:now
assume L828: C280 <= C281;
consider C283 , C284 being (Element of C260) such that L829: (C280 = ( Class (D97 , C283) ) & C281 = ( Class (D97 , C284) )) and L830: ( C262 . C283 ) <= ( C262 . C284 ) by L828 , L768;
L831: (( D109 . C280 ) = ( C262 . C283 ) & ( D109 . C281 ) = ( C262 . C284 )) by L790 , L829;
thus L832: ( D109 . C280 ) <= ( D109 . C281 ) by L831 , L830 , YELLOW_0:60;
end;
reconsider D112 = C282 as (Element of C260) by L825;
assume L833: ( D109 . C280 ) <= ( D109 . C281 );
L834: C281 in D101 by L767;
consider C285 being set such that L835: C285 in D100 and L836: C281 = ( Class (D97 , C285) ) by L834 , EQREL_1:def 3;
reconsider D113 = C285 as (Element of C260) by L835;
L837: ( D109 . C281 ) = ( C262 . D113 ) by L790 , L836;
L838: ( D109 . C280 ) = ( C262 . D112 ) by L790 , L826;
L839: ( C262 . D112 ) <= ( C262 . D113 ) by L838 , L837 , L833 , YELLOW_0:59;
thus L840: thesis by L839 , L768 , L826 , L836;
end;
L841: D109 is  isomorphic by L823 , L807 , L822 , WAYBEL_0:66;
L842: C263 , ( Image C262 ) are_isomorphic  by L841 , WAYBEL_1:def 8;
L843: ( Image C262 ) , C263 are_isomorphic  by L842 , WAYBEL_1:6;
reconsider D114 = C263 as non  empty  strict Poset by L843 , L212 , L219 , L228;
L844: ( Image C262 ) is  complete by WAYBEL_1:54;
reconsider D115 = D114 as  complete non  empty  strict Poset by L844 , L842 , L237 , WAYBEL_1:6;
reconsider D116 = D115 as  complete  strict LATTICE;
L845: ( Image C262 ) is  continuous  continuous  continuous  continuous LATTICE by L762 , WAYBEL15:14;
reconsider D117 = D116 as  continuous  complete  strict LATTICE by L845 , L842 , WAYBEL15:9 , WAYBEL_1:6;
reconsider D118 = ( (D109 qua Function) " ) as (Function of ( Image C262 ) , D117) by L807 , L822 , FUNCT_2:25;
set D119 = { [ ( Class (D97 , B167) ) , ( Class (D97 , B168) ) ] where B167 , B168 is (Element of C260) : ( C262 . B167 ) <= ( C262 . B168 ) };
L846: D118 is  isomorphic by L841 , WAYBEL_0:68;
L847: (( corestr C262 ) is  infs-preserving & D118 is  infs-preserving) by L846 , WAYBEL13:20 , WAYBEL_1:56;
take D117;
thus L848: (the carrier of D117) = ( Class D97 ) by L767;
L849:
now
let C286 being set;
thus L850:now
assume L851: C286 in D108;
consider C287 , C288 being set such that L852: (C287 in D101 & C288 in D101) and L853: C286 = [ C287 , C288 ] by L851 , L767 , ZFMISC_1:def 2;
reconsider D120 = C287 , D121 = C288 as (Element of D117) by L767 , L852;
L854: D120 <= D121 by L851 , L853 , ORDERS_2:def 5;
L855: (ex B169 , B170 being (Element of C260) st (D120 = ( Class (D97 , B169) ) & D121 = ( Class (D97 , B170) ) & ( C262 . B169 ) <= ( C262 . B170 ))) by L854 , L768;
thus L856: C286 in D119 by L855 , L853;
end;
assume L857: C286 in D119;
consider C289 , C290 being (Element of C260) such that L858: C286 = [ ( Class (D97 , C289) ) , ( Class (D97 , C290) ) ] and L859: ( C262 . C289 ) <= ( C262 . C290 ) by L857;
reconsider D122 = ( Class (D97 , C290) ) as (Element of D117) by L767 , EQREL_1:def 3;
reconsider D123 = ( Class (D97 , C289) ) as (Element of D117) by L767 , EQREL_1:def 3;
L860: D123 <= D122 by L768 , L859;
thus L861: C286 in D108 by L860 , L858 , ORDERS_2:def 5;
end;
thus L862: (the InternalRel of D117) = { [ ( Class (D97 , B171) ) , ( Class (D97 , B172) ) ] where B171 , B172 is (Element of C260) : ( C262 . B171 ) <= ( C262 . B172 ) } by L849 , TARSKI:1;
let C291 being (Function of C260 , D117);
assume that
L863: (for B173 being (Element of C260) holds ( C291 . B173 ) = ( Class (D97 , B173) ));
L864:
now
let C292 being set;
assume L865: C292 in D100;
reconsider D124 = C292 as (Element of C260) by L865;
L866: (( D109 . ( Class (D97 , D124) ) ) = ( C262 . D124 ) & ( Class (D97 , D124) ) in D101) by L790 , EQREL_1:def 3;
L867: ( dom ( corestr C262 ) ) = D100 by FUNCT_2:def 1;
thus L868: ( ( D118 * ( corestr C262 ) ) . C292 ) = ( D118 . ( ( corestr C262 ) . C292 ) ) by L867 , L865 , FUNCT_1:13
.= ( D118 . ( C262 . C292 ) ) by WAYBEL_1:30
.= ( Class (D97 , D124) ) by L808 , L807 , L866 , FUNCT_1:32
.= ( C291 . C292 ) by L863;
end;
L869: C291 = ( D118 * ( corestr C262 ) ) by L864 , FUNCT_2:12;
L870: ( corestr C262 ) is  directed-sups-preserving by L762 , L300;
reconsider D125 = D118 as  sups-preserving (Function of ( Image C262 ) , D117) by L846 , WAYBEL13:20;
L871: D125 is  directed-sups-preserving;
L872: C291 is  directed-sups-preserving by L871 , L869 , L870 , WAYBEL15:11;
L873: C291 is  infs-preserving by L869 , L847 , L349;
thus L874: thesis by L873 , L872 , WAYBEL16:def 1;
end;
theorem
L875: (for B174 being  continuous  complete LATTICE holds (for B175 being (Subset of [: B174 , B174 :]) holds ((B175 is (Equivalence_Relation of (the carrier of B174)) & (ex B176 being  continuous  complete LATTICE st ((the carrier of B176) = ( Class ( EqRel B175 ) ) & (for B177 being (Function of B174 , B176) holds ((for B178 being (Element of B174) holds ( B177 . B178 ) = ( Class (( EqRel B175 ) , B178) )) implies B177 is (CLHomomorphism of B174 , B176)))))) implies ( subrelstr B175 ) is (CLSubFrame of [: B174 , B174 :]))))
proof
let C293 being  continuous  complete LATTICE;
let C294 being (Subset of [: C293 , C293 :]);
assume L876: C294 is (Equivalence_Relation of (the carrier of C293));
L877: ( EqRel C294 ) = C294 by L876 , L587;
set D126 = ( EqRel C294 );
given C295 being  continuous  complete LATTICE such that
L878: (the carrier of C295) = ( Class ( EqRel C294 ) )
and
L879: (for B179 being (Function of C293 , C295) holds ((for B180 being (Element of C293) holds ( B179 . B180 ) = ( Class (( EqRel C294 ) , B180) )) implies B179 is (CLHomomorphism of C293 , C295)));

deffunc H7(set) = ( Class (D126 , $1) );
set D127 = ( Class D126 );
set D128 = (the carrier of C293);
set D129 = (the carrier of C295);
L880: (for B181 being set holds (B181 in D128 implies H7(B181) in D127)) by EQREL_1:def 3;
consider C296 being (Function of D128 , D127) such that L881: (for B182 being set holds (B182 in D128 implies ( C296 . B182 ) = H7(B182))) from FUNCT_2:sch 2(L880);
reconsider D130 = C296 as (Function of C293 , C295) by L878;
set D131 = D130;
L882: ( dom D130 ) = D128 by FUNCT_2:def 1;
L883:
now
let C297 being set;
thus L884:now
assume L885: C297 in C294;
L886: C297 in (the carrier of [: C293 , C293 :]) by L885;
L887: C297 in [: D128 , D128 :] by L886 , YELLOW_3:def 2;
consider C298 , C299 being set such that L888: (C298 in D128 & C299 in D128) and L889: C297 = [ C298 , C299 ] by L887 , ZFMISC_1:def 2;
reconsider D132 = C298 , D133 = C299 as (Element of C293) by L888;
L890: (( D131 . D132 ) = ( Class (( EqRel C294 ) , D132) ) & ( D131 . D133 ) = ( Class (( EqRel C294 ) , D133) )) by L881;
L891: D132 in ( Class (( EqRel C294 ) , D133) ) by L877 , L885 , L889 , EQREL_1:19;
L892: ( D131 . D132 ) = ( D131 . D133 ) by L891 , L890 , EQREL_1:23;
L893: [ ( D131 . D132 ) , ( D131 . D133 ) ] in ( id D129 ) by L892 , RELAT_1:def 10;
L894: ( dom [: D131 , D131 :] ) = [: ( dom D131 ) , ( dom D131 ) :] by FUNCT_3:def 8;
L895: [ D132 , D133 ] in ( dom [: D131 , D131 :] ) by L894 , L882 , ZFMISC_1:87;
L896: ( [: D131 , D131 :] . (D132 , D133) ) = [ ( D131 . D132 ) , ( D131 . D133 ) ] by L882 , FUNCT_3:def 8;
thus L897: C297 in ( [: D131 , D131 :] " ( id D129 ) ) by L896 , L889 , L893 , L895 , FUNCT_1:def 7;
end;
assume L898: C297 in ( [: D131 , D131 :] " ( id D129 ) );
L899: ( [: D131 , D131 :] . C297 ) in ( id D129 ) by L898 , FUNCT_1:def 7;
L900: C297 in ( dom [: D131 , D131 :] ) by L898 , FUNCT_1:def 7;
L901: C297 in [: ( dom D131 ) , ( dom D131 ) :] by L900 , FUNCT_3:def 8;
consider C300 , C301 being set such that L902: (C300 in ( dom D131 ) & C301 in ( dom D131 )) and L903: C297 = [ C300 , C301 ] by L901 , ZFMISC_1:def 2;
reconsider D134 = C300 , D135 = C301 as (Element of C293) by L902;
L904: (( D131 . D134 ) = ( Class (( EqRel C294 ) , D134) ) & ( D131 . D135 ) = ( Class (( EqRel C294 ) , D135) )) by L881;
L905: ( [: D131 , D131 :] . (D134 , D135) ) = [ ( D131 . D134 ) , ( D131 . D135 ) ] by L902 , FUNCT_3:def 8;
L906: ( D131 . D134 ) = ( D131 . D135 ) by L905 , L899 , L903 , RELAT_1:def 10;
L907: D134 in ( Class (D126 , D135) ) by L906 , L904 , EQREL_1:23;
thus L908: C297 in C294 by L907 , L877 , L903 , EQREL_1:19;
end;
L909: C294 = ( [: D130 , D130 :] " ( id (the carrier of C295) ) ) by L883 , TARSKI:1;
L910: (for B183 being (Element of C293) holds ( D130 . B183 ) = ( Class (( EqRel C294 ) , B183) )) by L881;
L911: D130 is (CLHomomorphism of C293 , C295) by L910 , L879;
thus L912: thesis by L911 , L909 , L543;
end;
registration
let C302 being non  empty  reflexive RelStr;
cluster  directed-sups-preserving  kernel for (Function of C302 , C302);
existence
proof
reconsider D136 = ( id C302 ) as  directed-sups-preserving  kernel (Function of C302 , C302);
take D136;
thus L913: thesis;
end;
end;
definition
let C303 being non  empty  reflexive RelStr;
let C304 being  kernel (Function of C303 , C303);
func kernel_congruence C304 -> non  empty (Subset of [: C303 , C303 :]) equals 
( [: C304 , C304 :] " ( id (the carrier of C303) ) );
coherence
proof
set D137 = (the carrier of C303);
set D138 = the (Element of D137);
L915: ( dom C304 ) = D137 by FUNCT_2:def 1;
L916: ([ ( C304 . D138 ) , ( C304 . D138 ) ] in ( id D137 ) & ( [: C304 , C304 :] . (D138 , D138) ) = [ ( C304 . D138 ) , ( C304 . D138 ) ]) by L915 , FUNCT_3:def 8 , RELAT_1:def 10;
L917: ( dom [: C304 , C304 :] ) = [: ( dom C304 ) , ( dom C304 ) :] by FUNCT_3:def 8;
L918: [ D138 , D138 ] in ( dom [: C304 , C304 :] ) by L917 , L915 , ZFMISC_1:def 2;
thus L919: thesis by L918 , L916 , FUNCT_1:def 7;
end;
end;
theorem
L921: (for B184 being non  empty  reflexive RelStr holds (for B185 being  kernel (Function of B184 , B184) holds ( kernel_congruence B185 ) is (Equivalence_Relation of (the carrier of B184)))) by L13;
theorem
L922: (for B186 being  continuous  complete LATTICE holds (for B187 being  directed-sups-preserving  kernel (Function of B186 , B186) holds ( kernel_congruence B187 ) is  CLCongruence))
proof
let C305 being  continuous  complete LATTICE;
let C306 being  directed-sups-preserving  kernel (Function of C305 , C305);
set D139 = ( kernel_congruence C306 );
thus L923: D139 is (Equivalence_Relation of (the carrier of C305)) by L13;
L924: (ex B188 being  continuous  complete  strict LATTICE st ((the carrier of B188) = ( Class ( EqRel D139 ) ) & (the InternalRel of B188) = { [ ( Class (( EqRel D139 ) , B189) ) , ( Class (( EqRel D139 ) , B190) ) ] where B189 , B190 is (Element of C305) : ( C306 . B189 ) <= ( C306 . B190 ) } & (for B191 being (Function of C305 , B188) holds ((for B192 being (Element of C305) holds ( B191 . B192 ) = ( Class (( EqRel D139 ) , B192) )) implies B191 is (CLHomomorphism of C305 , B188))))) by L761;
thus L925: thesis by L924 , L923 , L875;
end;
definition
let C307 being  continuous  complete LATTICE;
let C308 being non  empty (Subset of [: C307 , C307 :]);
assume that
L926: C308 is  CLCongruence;
func C307 ./. C308 ->  continuous  complete  strict LATTICE means 
:L927: ((the carrier of it) = ( Class ( EqRel C308 ) ) & (for B193 , B194 being (Element of it) holds (B193 <= B194 iff ( "/\" (B193 , C307) ) <= ( "/\" (B194 , C307) ))));
existence
proof
set D140 = ( kernel_op C308 );
L928: (D140 is  directed-sups-preserving & C308 = ( [: D140 , D140 :] " ( id (the carrier of C307) ) )) by L926 , L654;
consider C309 being  continuous  complete  strict LATTICE such that L929: (the carrier of C309) = ( Class ( EqRel C308 ) ) and L930: (the InternalRel of C309) = { [ ( Class (( EqRel C308 ) , B195) ) , ( Class (( EqRel C308 ) , B196) ) ] where B195 , B196 is (Element of C307) : ( D140 . B195 ) <= ( D140 . B196 ) } and L931: (for B197 being (Function of C307 , C309) holds ((for B198 being (Element of C307) holds ( B197 . B198 ) = ( Class (( EqRel C308 ) , B198) )) implies B197 is (CLHomomorphism of C307 , C309))) by L928 , L761;
take C309;
thus L932: (the carrier of C309) = ( Class ( EqRel C308 ) ) by L929;
let C310 , C311 being (Element of C309);
L933: C310 in (the carrier of C309);
consider C312 being set such that L934: C312 in (the carrier of C307) and L935: C310 = ( Class (( EqRel C308 ) , C312) ) by L933 , L929 , EQREL_1:def 3;
L936: C311 in (the carrier of C309);
consider C313 being set such that L937: C313 in (the carrier of C307) and L938: C311 = ( Class (( EqRel C308 ) , C313) ) by L936 , L929 , EQREL_1:def 3;
thus L939:now
assume L940: C310 <= C311;
L941: [ C310 , C311 ] in (the InternalRel of C309) by L940 , ORDERS_2:def 5;
consider C314 , C315 being (Element of C307) such that L942: [ C310 , C311 ] = [ ( Class (( EqRel C308 ) , C314) ) , ( Class (( EqRel C308 ) , C315) ) ] and L943: ( D140 . C314 ) <= ( D140 . C315 ) by L941 , L930;
L944: (C310 = ( Class (( EqRel C308 ) , C314) ) & C311 = ( Class (( EqRel C308 ) , C315) )) by L942 , XTUPLE_0:1;
L945: ( D140 . C314 ) = ( inf ( Class (( EqRel C308 ) , C314) ) ) by L926 , L610;
thus L946: ( "/\" (C310 , C307) ) <= ( "/\" (C311 , C307) ) by L945 , L926 , L943 , L944 , L610;
end;
assume L947: ( "/\" (C310 , C307) ) <= ( "/\" (C311 , C307) );
reconsider D141 = C312 , D142 = C313 as (Element of C307) by L934 , L937;
L948: (( D140 . D141 ) = ( inf ( Class (( EqRel C308 ) , D141) ) ) & ( D140 . D142 ) = ( inf ( Class (( EqRel C308 ) , D142) ) )) by L926 , L610;
L949: [ C310 , C311 ] in (the InternalRel of C309) by L948 , L930 , L935 , L938 , L947;
thus L950: thesis by L949 , ORDERS_2:def 5;
end;
uniqueness
proof
let C316 , C317 being  continuous  complete  strict LATTICE;
assume that
L951: (the carrier of C316) = ( Class ( EqRel C308 ) )
and
L952: (for B199 , B200 being (Element of C316) holds (B199 <= B200 iff ( "/\" (B199 , C307) ) <= ( "/\" (B200 , C307) )))
and
L953: (the carrier of C317) = ( Class ( EqRel C308 ) )
and
L954: (for B201 , B202 being (Element of C317) holds (B201 <= B202 iff ( "/\" (B201 , C307) ) <= ( "/\" (B202 , C307) )));
set D143 = (the carrier of C317);
set D144 = (the carrier of C316);
L955:
now
let C318 being set;
thus L956:now
assume L957: C318 in (the InternalRel of C316);
consider C319 , C320 being set such that L958: (C319 in D144 & C320 in D144) and L959: C318 = [ C319 , C320 ] by L957 , ZFMISC_1:def 2;
reconsider D145 = C319 , D146 = C320 as (Element of C316) by L958;
reconsider D147 = D145 , D148 = D146 as (Element of C317) by L951 , L953;
L960: D145 <= D146 by L957 , L959 , ORDERS_2:def 5;
L961: ( "/\" (D145 , C307) ) <= ( "/\" (D146 , C307) ) by L960 , L952;
L962: D147 <= D148 by L961 , L954;
thus L963: C318 in (the InternalRel of C317) by L962 , L959 , ORDERS_2:def 5;
end;
assume L964: C318 in (the InternalRel of C317);
consider C321 , C322 being set such that L965: (C321 in D143 & C322 in D143) and L966: C318 = [ C321 , C322 ] by L964 , ZFMISC_1:def 2;
reconsider D149 = C321 , D150 = C322 as (Element of C317) by L965;
reconsider D151 = D149 , D152 = D150 as (Element of C316) by L951 , L953;
L967: D149 <= D150 by L964 , L966 , ORDERS_2:def 5;
L968: ( "/\" (D149 , C307) ) <= ( "/\" (D150 , C307) ) by L967 , L954;
L969: D151 <= D152 by L968 , L952;
thus L970: C318 in (the InternalRel of C316) by L969 , L966 , ORDERS_2:def 5;
end;
thus L971: thesis by L955 , L951 , L953 , TARSKI:1;
end;
end;
theorem
L973: (for B203 being  continuous  complete LATTICE holds (for B204 being non  empty (Subset of [: B203 , B203 :]) holds (B204 is  CLCongruence implies (for B205 being set holds (B205 is (Element of ( B203 ./. B204 )) iff (ex B206 being (Element of B203) st B205 = ( Class (( EqRel B204 ) , B206) )))))))
proof
let C323 being  continuous  complete LATTICE;
let C324 being non  empty (Subset of [: C323 , C323 :]);
assume L974: C324 is  CLCongruence;
L975: (the carrier of ( C323 ./. C324 )) = ( Class ( EqRel C324 ) ) by L974 , L927;
let C325 being set;
thus L976:now
assume L977: C325 is (Element of ( C323 ./. C324 ));
L978: C325 in ( Class ( EqRel C324 ) ) by L977 , L975;
consider C326 being set such that L979: C326 in (the carrier of C323) and L980: C325 = ( Class (( EqRel C324 ) , C326) ) by L978 , EQREL_1:def 3;
reconsider D153 = C326 as (Element of C323) by L979;
take D154 = D153;
thus L981: C325 = ( Class (( EqRel C324 ) , D154) ) by L980;
end;
given C327 being (Element of C323) such that
L982: C325 = ( Class (( EqRel C324 ) , C327) );

thus L983: thesis by L975 , L982 , EQREL_1:def 3;
end;
theorem
L984: (for B207 being  continuous  complete LATTICE holds (for B208 being non  empty (Subset of [: B207 , B207 :]) holds (B208 is  CLCongruence implies B208 = ( kernel_congruence ( kernel_op B208 ) )))) by L654;
theorem
L985: (for B209 being  continuous  complete LATTICE holds (for B210 being  directed-sups-preserving  kernel (Function of B209 , B209) holds B210 = ( kernel_op ( kernel_congruence B210 ) )))
proof
let C328 being  continuous  complete LATTICE;
let C329 being  directed-sups-preserving  kernel (Function of C328 , C328);
set D155 = ( kernel_congruence C329 );
set D156 = (the carrier of C328);
set D157 = ( kernel_op D155 );
L986: ( dom C329 ) = D156 by FUNCT_2:def 1;
L987: D157 <= ( id C328 ) by WAYBEL_1:def 15;
L988: C329 <= ( id C328 ) by WAYBEL_1:def 15;
L989: D155 is  CLCongruence by L922;
L990: D155 = ( [: D157 , D157 :] " ( id D156 ) ) by L989 , L654;
reconsider D158 = D155 as (Equivalence_Relation of D156) by L989 , L589;
L991: ( field D158 ) = D156 by ORDERS_1:12;
L992: D158 is_transitive_in D156 by L991 , RELAT_2:def 16;
L993: ( dom [: D157 , D157 :] ) = [: ( dom D157 ) , ( dom D157 ) :] by FUNCT_3:def 8;
L994: ( dom D157 ) = D156 by FUNCT_2:def 1;
L995: ( dom [: C329 , C329 :] ) = [: ( dom C329 ) , ( dom C329 ) :] by FUNCT_3:def 8;
L996:
now
let C330 being set;
assume L997: C330 in D156;
reconsider D159 = C330 as (Element of C328) by L997;
L998: ( C329 . ( C329 . D159 ) ) = ( ( C329 * C329 ) . D159 ) by L986 , FUNCT_1:13
.= ( C329 . D159 ) by QUANTAL1:def 9;
L999: ([ ( C329 . D159 ) , ( C329 . D159 ) ] in ( id D156 ) & ( [: C329 , C329 :] . (( C329 . D159 ) , D159) ) = [ ( C329 . ( C329 . D159 ) ) , ( C329 . D159 ) ]) by L986 , FUNCT_3:def 8 , RELAT_1:def 10;
L1000: [ ( C329 . D159 ) , D159 ] in ( dom [: C329 , C329 :] ) by L986 , L995 , ZFMISC_1:def 2;
L1001: [ ( C329 . D159 ) , D159 ] in D155 by L1000 , L998 , L999 , FUNCT_1:def 7;
L1002: ( D157 . ( D157 . D159 ) ) = ( ( D157 * D157 ) . D159 ) by L994 , FUNCT_1:13
.= ( D157 . D159 ) by QUANTAL1:def 9;
L1003: ( D157 . ( C329 . D159 ) ) <= ( ( id C328 ) . ( C329 . D159 ) ) by L987 , YELLOW_2:9;
L1004: ( D157 . ( C329 . D159 ) ) <= ( C329 . D159 ) by L1003 , FUNCT_1:18;
L1005: ([ ( D157 . D159 ) , ( D157 . D159 ) ] in ( id D156 ) & ( [: D157 , D157 :] . (D159 , ( D157 . D159 )) ) = [ ( D157 . D159 ) , ( D157 . ( D157 . D159 ) ) ]) by L994 , FUNCT_3:def 8 , RELAT_1:def 10;
L1006: [ D159 , ( D157 . D159 ) ] in ( dom [: D157 , D157 :] ) by L994 , L993 , ZFMISC_1:def 2;
L1007: [ D159 , ( D157 . D159 ) ] in D155 by L1006 , L990 , L1002 , L1005 , FUNCT_1:def 7;
L1008: [ ( C329 . D159 ) , ( D157 . D159 ) ] in D155 by L1007 , L992 , L1001 , RELAT_2:def 8;
L1009: ( [: C329 , C329 :] . (( C329 . D159 ) , ( D157 . D159 )) ) in ( id D156 ) by L1008 , FUNCT_1:def 7;
L1010: [ ( C329 . ( C329 . D159 ) ) , ( C329 . ( D157 . D159 ) ) ] in ( id D156 ) by L1009 , L986 , FUNCT_3:def 8;
L1011: ( C329 . ( D157 . D159 ) ) = ( C329 . ( C329 . D159 ) ) by L1010 , RELAT_1:def 10
.= ( ( C329 * C329 ) . D159 ) by L986 , FUNCT_1:13
.= ( C329 . D159 ) by QUANTAL1:def 9;
L1012: ( [: D157 , D157 :] . (( C329 . D159 ) , ( D157 . D159 )) ) in ( id D156 ) by L990 , L1008 , FUNCT_1:def 7;
L1013: [ ( D157 . ( C329 . D159 ) ) , ( D157 . ( D157 . D159 ) ) ] in ( id D156 ) by L1012 , L994 , FUNCT_3:def 8;
L1014: ( D157 . ( C329 . D159 ) ) = ( D157 . ( D157 . D159 ) ) by L1013 , RELAT_1:def 10
.= ( ( D157 * D157 ) . D159 ) by L994 , FUNCT_1:13
.= ( D157 . D159 ) by QUANTAL1:def 9;
L1015: ( C329 . ( D157 . D159 ) ) <= ( ( id C328 ) . ( D157 . D159 ) ) by L988 , YELLOW_2:9;
L1016: ( C329 . ( D157 . D159 ) ) <= ( D157 . D159 ) by L1015 , FUNCT_1:18;
thus L1017: ( C329 . C330 ) = ( D157 . C330 ) by L1016 , L1011 , L1014 , L1004 , YELLOW_0:def 3;
end;
thus L1018: thesis by L996 , FUNCT_2:12;
end;
theorem
L1019: (for B211 being  continuous  complete LATTICE holds (for B212 being  projection (Function of B211 , B211) holds (B212 is  infs-preserving implies (( Image B212 ) is  continuous  continuous  continuous  continuous LATTICE & ( Image B212 ) is  infs-inheriting))))
proof
let C331 being  continuous  complete LATTICE;
let C332 being  projection (Function of C331 , C331);
assume that
L1020: C332 is  infs-preserving;
reconsider D160 = { B213 where B213 is (Element of C331) : B213 <= ( C332 . B213 ) } as non  empty (Subset of C331) by WAYBEL_1:43;
reconsider D161 = ( C332 | D160 ) as (Function of ( subrelstr D160 ) , ( subrelstr D160 )) by WAYBEL_1:45;
L1021: ( subrelstr D160 ) is  infs-inheriting by L1020 , WAYBEL_1:51;
L1022: ( subrelstr D160 ) is  complete by L1021 , YELLOW_2:30;
L1023: D161 is  infs-preserving
proof
let C333 being (Subset of ( subrelstr D160 ));
assume L1024:  ex_inf_of C333 , ( subrelstr D160 );
thus L1025:  ex_inf_of ( D161 .: C333 ) , ( subrelstr D160 ) by L1022 , YELLOW_0:17;
L1026: (the carrier of ( subrelstr D160 )) = D160 by YELLOW_0:def 15;
reconsider D162 = C333 as (Subset of C331) by L1026 , XBOOLE_1:1;
L1027: ( ex_inf_of D162 , C331 & C332 preserves_inf_of D162) by L1020 , WAYBEL_0:def 32 , YELLOW_0:17;
L1028: C333 c= (the carrier of ( subrelstr D160 ));
L1029: C333 c= D160 by L1028 , YELLOW_0:def 15;
L1030: ( D161 .: C333 ) = ( C332 .: C333 ) by L1029 , RELAT_1:129;
L1031:  ex_inf_of C333 , C331 by YELLOW_0:17;
L1032: ( "/\" (D162 , C331) ) in (the carrier of ( subrelstr D160 )) by L1031 , L1021 , YELLOW_0:def 18;
L1033: (( dom D161 ) = (the carrier of ( subrelstr D160 )) & ( inf D162 ) = ( inf C333 )) by L1032 , L1031 , FUNCT_2:def 1 , YELLOW_0:63;
L1034: ( ex_inf_of ( C332 .: C333 ) , C331 & ( "/\" (( D161 .: C333 ) , C331) ) in (the carrier of ( subrelstr D160 ))) by L1021 , YELLOW_0:17 , YELLOW_0:def 18;
thus L1035: ( inf ( D161 .: C333 ) ) = ( inf ( C332 .: C333 ) ) by L1034 , L1030 , YELLOW_0:63
.= ( C332 . ( inf D162 ) ) by L1027 , WAYBEL_0:def 30
.= ( D161 . ( inf C333 ) ) by L1033 , FUNCT_1:47;
end;
reconsider D163 = ( corestr D161 ) as (Function of ( subrelstr D160 ) , ( Image D161 ));
L1036: (the carrier of ( subrelstr ( rng C332 ) )) = ( rng C332 ) by YELLOW_0:def 15
.= ( rng D161 ) by WAYBEL_1:44
.= (the carrier of ( subrelstr ( rng D161 ) )) by YELLOW_0:def 15;
L1037: ( subrelstr ( rng D161 ) ) is  full  full  full  full (SubRelStr of C331) by WAYBEL15:1;
L1038: ( Image C332 ) = ( Image D161 ) by L1037 , L1036 , YELLOW_0:57;
L1039: D161 is  closure by WAYBEL_1:47;
L1040: D163 is  sups-preserving by L1039 , WAYBEL_1:55;
L1041: ( subrelstr D160 ) is  sups-inheriting  sups-inheriting  sups-inheriting  sups-inheriting (SubRelStr of C331) by WAYBEL_1:49;
L1042: ( subrelstr D160 ) is  continuous  continuous  continuous  continuous LATTICE by L1041 , L1021 , WAYBEL_5:28;
thus L1043: ( Image C332 ) is  continuous  continuous  continuous  continuous LATTICE by L1042 , L1022 , L1038 , L1023 , L1040 , L263 , WAYBEL_5:33;
thus L1044: thesis by L1020 , L1021 , WAYBEL_1:51;
end;
