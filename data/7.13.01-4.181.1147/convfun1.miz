:: Definition of Convex Function and {J}ensen's Inequality
::  by Grigory E. Ivanov
::
:: Received July 17, 2003
:: Copyright (c) 2003-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, XBOOLE_0, RLVECT_1, BINOP_1, ZFMISC_1, STRUCT_0,
      SUBSET_1, FUNCT_1, ALGSTR_0, REAL_1, SUPINF_2, RELAT_1, ARYTM_3, XREAL_0,
      ORDINAL1, FINSEQ_1, CARD_3, CARD_1, XXREAL_0, TARSKI, PARTFUN1, ORDINAL4,
      BINOP_2, ARYTM_1, SUPINF_1, NAT_1, FUNCT_2, RFINSEQ, MEASURE6, CONVEX1,
      RFUNCT_3, FINSET_1, CLASSES1, CONVFUN1;
 notations TARSKI, XBOOLE_0, SUBSET_1, CARD_1, ORDINAL1, NUMBERS, XXREAL_0,
      XREAL_0, REAL_1, FUNCT_1, RELSET_1, PARTFUN1, SUPINF_1, ZFMISC_1,
      MEASURE6, BINOP_1, FUNCT_2, SUPINF_2, SEQ_1, DOMAIN_1, BINOP_2, FINSET_1,
      CLASSES1, RFINSEQ, RFUNCT_3, NAT_1, RVSUM_1, EXTREAL1, FINSEQ_1,
      FINSEQ_4, STRUCT_0, ALGSTR_0, RLVECT_1, CONVEX1;
 constructors BINOP_1, DOMAIN_1, REAL_1, FINSEQ_4, FINSOP_1, RVSUM_1, SUPINF_2,
      RFINSEQ, RFUNCT_3, MEASURE6, EXTREAL1, CONVEX1, SEQ_1, BINOP_2, SUPINF_1,
      CLASSES1, RELSET_1;
 registrations XBOOLE_0, SUBSET_1, RELSET_1, FUNCT_2, FINSET_1, NUMBERS,
      XXREAL_0, XREAL_0, NAT_1, MEMBERED, FINSEQ_1, STRUCT_0, RLVECT_1,
      VALUED_0, ALGSTR_0, CARD_1, XXREAL_3;
 requirements REAL, NUMERALS, BOOLE, SUBSET, ARITHM;
 definitions BINOP_1, RLVECT_1, RVSUM_1, STRUCT_0, ALGSTR_0, MEASURE6;
 theorems ZFMISC_1, BINOP_1, FUNCT_2, CONVEX1, SUPINF_2, EXTREAL1, RLVECT_1,
      RFUNCT_3, RVSUM_1, FINSEQ_1, FINSEQ_2, FINSEQ_3, FINSEQ_4, FINSEQ_5,
      NAT_1, TARSKI, FUNCT_1, CARD_2, INT_1, XCMPLX_1, XBOOLE_0, RFINSEQ,
      RLVECT_2, RELAT_1, XBOOLE_1, BINOP_2, XREAL_1, XXREAL_0, XREAL_0,
      FINSOP_1, PARTFUN1, ALGSTR_0, VALUED_1, XXREAL_3, XTUPLE_0;
 schemes BINOP_1, DOMAIN_1, FINSEQ_2, FRAENKEL, NAT_1, RECDEF_1;

begin
definition
let C1 , C2 being non  empty RLSStruct;
func Add_in_Prod_of_RLS (C1 , C2) -> (BinOp of [: (the carrier of C1) , (the carrier of C2) :]) means 
:L1: (for B1 , B2 being (Element of [: (the carrier of C1) , (the carrier of C2) :]) holds (for B3 , B4 being (VECTOR of C1) holds (for B5 , B6 being (VECTOR of C2) holds ((B1 = [ B3 , B5 ] & B2 = [ B4 , B6 ]) implies ( it . (B1 , B2) ) = [ ( (the addF of C1) . [ B3 , B4 ] ) , ( (the addF of C2) . [ B5 , B6 ] ) ]))));
existence
proof
defpred S1[ set , set , set ] means (for B7 , B8 being (VECTOR of C1) holds (for B9 , B10 being (VECTOR of C2) holds (($1 = [ B7 , B9 ] & $2 = [ B8 , B10 ]) implies $3 = [ ( (the addF of C1) . [ B7 , B8 ] ) , ( (the addF of C2) . [ B9 , B10 ] ) ])));
set D1 = [: (the carrier of C1) , (the carrier of C2) :];
L2: (for B11 , B12 being (Element of D1) holds (ex B13 being (Element of D1) st S1[ B11 , B12 , B13 ]))
proof
let C3 , C4 being (Element of D1);
consider C5 being set, C6 being set such that L3: C5 in (the carrier of C1) and L4: C6 in (the carrier of C2) and L5: C3 = [ C5 , C6 ] by ZFMISC_1:def 2;
consider C7 being set, C8 being set such that L6: C7 in (the carrier of C1) and L7: C8 in (the carrier of C2) and L8: C4 = [ C7 , C8 ] by ZFMISC_1:def 2;
reconsider D2 = C6 , D3 = C8 as (VECTOR of C2) by L4 , L7;
reconsider D4 = C5 , D5 = C7 as (VECTOR of C1) by L3 , L6;
reconsider D6 = [ ( (the addF of C1) . [ D4 , D5 ] ) , ( (the addF of C2) . [ D2 , D3 ] ) ] as (Element of D1);
take D6;
let C9 , C10 being (VECTOR of C1);
let C11 , C12 being (VECTOR of C2);
assume that
L9: C3 = [ C9 , C11 ]
and
L10: C4 = [ C10 , C12 ];
L11: C10 = D5 by L8 , L10 , XTUPLE_0:1;
L12: C11 = D2 by L5 , L9 , XTUPLE_0:1;
L13: C9 = D4 by L5 , L9 , XTUPLE_0:1;
thus L14: thesis by L13 , L8 , L10 , L11 , L12 , XTUPLE_0:1;
end;
thus L15: (ex B14 being (BinOp of D1) st (for B15 , B16 being (Element of D1) holds S1[ B15 , B16 , ( B14 . (B15 , B16) ) ])) from BINOP_1:sch 3(L2);
end;
uniqueness
proof
let C13 , C14 being (BinOp of [: (the carrier of C1) , (the carrier of C2) :]);
assume L16: (for B17 , B18 being (Element of [: (the carrier of C1) , (the carrier of C2) :]) holds (for B19 , B20 being (VECTOR of C1) holds (for B21 , B22 being (VECTOR of C2) holds ((B17 = [ B19 , B21 ] & B18 = [ B20 , B22 ]) implies ( C13 . (B17 , B18) ) = [ ( (the addF of C1) . [ B19 , B20 ] ) , ( (the addF of C2) . [ B21 , B22 ] ) ]))));
assume L17: (for B23 , B24 being (Element of [: (the carrier of C1) , (the carrier of C2) :]) holds (for B25 , B26 being (VECTOR of C1) holds (for B27 , B28 being (VECTOR of C2) holds ((B23 = [ B25 , B27 ] & B24 = [ B26 , B28 ]) implies ( C14 . (B23 , B24) ) = [ ( (the addF of C1) . [ B25 , B26 ] ) , ( (the addF of C2) . [ B27 , B28 ] ) ]))));
L18: (for B29 , B30 being (Element of [: (the carrier of C1) , (the carrier of C2) :]) holds ( C13 . (B29 , B30) ) = ( C14 . (B29 , B30) ))
proof
let C15 , C16 being (Element of [: (the carrier of C1) , (the carrier of C2) :]);
consider C17 being set, C18 being set such that L19: C17 in (the carrier of C1) and L20: C18 in (the carrier of C2) and L21: C15 = [ C17 , C18 ] by ZFMISC_1:def 2;
consider C19 being set, C20 being set such that L22: C19 in (the carrier of C1) and L23: C20 in (the carrier of C2) and L24: C16 = [ C19 , C20 ] by ZFMISC_1:def 2;
reconsider D7 = C18 , D8 = C20 as (VECTOR of C2) by L20 , L23;
reconsider D9 = C17 , D10 = C19 as (VECTOR of C1) by L19 , L22;
L25: ( C13 . (C15 , C16) ) = [ ( (the addF of C1) . [ D9 , D10 ] ) , ( (the addF of C2) . [ D7 , D8 ] ) ] by L16 , L21 , L24;
thus L26: thesis by L25 , L17 , L21 , L24;
end;
thus L27: thesis by L18 , BINOP_1:2;
end;
end;
definition
let C21 , C22 being non  empty RLSStruct;
func Mult_in_Prod_of_RLS (C21 , C22) -> (Function of [: ( REAL ) , [: (the carrier of C21) , (the carrier of C22) :] :] , [: (the carrier of C21) , (the carrier of C22) :]) means 
:L29: (for B31 being Real holds (for B32 being (Element of [: (the carrier of C21) , (the carrier of C22) :]) holds (for B33 being (VECTOR of C21) holds (for B34 being (VECTOR of C22) holds (B32 = [ B33 , B34 ] implies ( it . (B31 , B32) ) = [ ( (the Mult of C21) . [ B31 , B33 ] ) , ( (the Mult of C22) . [ B31 , B34 ] ) ])))));
existence
proof
defpred S2[ set , set , set ] means (for B35 being (VECTOR of C21) holds (for B36 being (VECTOR of C22) holds ($2 = [ B35 , B36 ] implies $3 = [ ( (the Mult of C21) . [ $1 , B35 ] ) , ( (the Mult of C22) . [ $1 , B36 ] ) ])));
L30: (for B37 being (Element of ( REAL )) holds (for B38 being (Element of [: (the carrier of C21) , (the carrier of C22) :]) holds (ex B39 being (Element of [: (the carrier of C21) , (the carrier of C22) :]) st S2[ B37 , B38 , B39 ])))
proof
let C23 being (Element of ( REAL ));
let C24 being (Element of [: (the carrier of C21) , (the carrier of C22) :]);
consider C25 being set, C26 being set such that L31: C25 in (the carrier of C21) and L32: C26 in (the carrier of C22) and L33: C24 = [ C25 , C26 ] by ZFMISC_1:def 2;
reconsider D11 = C26 as (VECTOR of C22) by L32;
reconsider D12 = C25 as (VECTOR of C21) by L31;
reconsider D13 = [ ( (the Mult of C21) . [ C23 , D12 ] ) , ( (the Mult of C22) . [ C23 , D11 ] ) ] as (Element of [: (the carrier of C21) , (the carrier of C22) :]);
take D13;
L34: (for B40 being (VECTOR of C21) holds (for B41 being (VECTOR of C22) holds (C24 = [ B40 , B41 ] implies D13 = [ ( (the Mult of C21) . [ C23 , B40 ] ) , ( (the Mult of C22) . [ C23 , B41 ] ) ])))
proof
let C27 being (VECTOR of C21);
let C28 being (VECTOR of C22);
assume L35: C24 = [ C27 , C28 ];
L36: C27 = D12 by L35 , L33 , XTUPLE_0:1;
thus L37: thesis by L36 , L33 , L35 , XTUPLE_0:1;
end;
thus L38: thesis by L34;
end;
consider C29 being (Function of [: ( REAL ) , [: (the carrier of C21) , (the carrier of C22) :] :] , [: (the carrier of C21) , (the carrier of C22) :]) such that L39: (for B42 being (Element of ( REAL )) holds (for B43 being (Element of [: (the carrier of C21) , (the carrier of C22) :]) holds S2[ B42 , B43 , ( C29 . (B42 , B43) ) ])) from BINOP_1:sch 3(L30);
take C29;
let C30 being Real;
let C31 being (Element of [: (the carrier of C21) , (the carrier of C22) :]);
thus L40: thesis by L39;
end;
uniqueness
proof
let C32 , C33 being (Function of [: ( REAL ) , [: (the carrier of C21) , (the carrier of C22) :] :] , [: (the carrier of C21) , (the carrier of C22) :]);
assume L41: (for B44 being Real holds (for B45 being (Element of [: (the carrier of C21) , (the carrier of C22) :]) holds (for B46 being (VECTOR of C21) holds (for B47 being (VECTOR of C22) holds (B45 = [ B46 , B47 ] implies ( C32 . (B44 , B45) ) = [ ( (the Mult of C21) . [ B44 , B46 ] ) , ( (the Mult of C22) . [ B44 , B47 ] ) ])))));
assume L42: (for B48 being Real holds (for B49 being (Element of [: (the carrier of C21) , (the carrier of C22) :]) holds (for B50 being (VECTOR of C21) holds (for B51 being (VECTOR of C22) holds (B49 = [ B50 , B51 ] implies ( C33 . (B48 , B49) ) = [ ( (the Mult of C21) . [ B48 , B50 ] ) , ( (the Mult of C22) . [ B48 , B51 ] ) ])))));
L43: (for B52 being Real holds (for B53 being (Element of [: (the carrier of C21) , (the carrier of C22) :]) holds ( C32 . (B52 , B53) ) = ( C33 . (B52 , B53) )))
proof
let C34 being Real;
let C35 being (Element of [: (the carrier of C21) , (the carrier of C22) :]);
consider C36 being set, C37 being set such that L44: C36 in (the carrier of C21) and L45: C37 in (the carrier of C22) and L46: C35 = [ C36 , C37 ] by ZFMISC_1:def 2;
reconsider D14 = C37 as (VECTOR of C22) by L45;
reconsider D15 = C36 as (VECTOR of C21) by L44;
L47: ( C32 . (C34 , C35) ) = [ ( (the Mult of C21) . [ C34 , D15 ] ) , ( (the Mult of C22) . [ C34 , D14 ] ) ] by L41 , L46;
thus L48: thesis by L47 , L42 , L46;
end;
thus L49: thesis by L43 , BINOP_1:2;
end;
end;
definition
let C38 , C39 being non  empty RLSStruct;
func Prod_of_RLS (C38 , C39) -> RLSStruct equals 
RLSStruct (# [: (the carrier of C38) , (the carrier of C39) :] , [ ( 0. C38 ) , ( 0. C39 ) ] , ( Add_in_Prod_of_RLS (C38 , C39) ) , ( Mult_in_Prod_of_RLS (C38 , C39) ) #);
correctness;
end;
registration
let C40 , C41 being non  empty RLSStruct;
cluster ( Prod_of_RLS (C40 , C41) ) -> non  empty;
coherence;
end;
theorem
L53: (for B54 , B55 being non  empty RLSStruct holds (for B56 being (VECTOR of B54) holds (for B57 being (VECTOR of B55) holds (for B58 being (VECTOR of ( Prod_of_RLS (B54 , B55) )) holds (for B59 being Real holds (B58 = [ B56 , B57 ] implies ( B59 * B58 ) = [ ( B59 * B56 ) , ( B59 * B57 ) ])))))) by L29;
theorem
L54: (for B60 , B61 being non  empty RLSStruct holds (for B62 , B63 being (VECTOR of B60) holds (for B64 , B65 being (VECTOR of B61) holds (for B66 , B67 being (VECTOR of ( Prod_of_RLS (B60 , B61) )) holds ((B66 = [ B62 , B64 ] & B67 = [ B63 , B65 ]) implies ( B66 + B67 ) = [ ( B62 + B63 ) , ( B64 + B65 ) ]))))) by L1;
registration
let C42 , C43 being  Abelian non  empty RLSStruct;
cluster ( Prod_of_RLS (C42 , C43) ) ->  Abelian;
coherence
proof
L55: (for B68 , B69 being (Element of ( Prod_of_RLS (C42 , C43) )) holds ( B68 + B69 ) = ( B69 + B68 ))
proof
let C44 , C45 being (Element of ( Prod_of_RLS (C42 , C43) ));
consider C46 , C47 being set such that L56: C46 in (the carrier of C42) and L57: C47 in (the carrier of C43) and L58: C44 = [ C46 , C47 ] by ZFMISC_1:def 2;
reconsider D16 = C47 as (VECTOR of C43) by L57;
reconsider D17 = C46 as (VECTOR of C42) by L56;
consider C48 , C49 being set such that L59: C48 in (the carrier of C42) and L60: C49 in (the carrier of C43) and L61: C45 = [ C48 , C49 ] by ZFMISC_1:def 2;
reconsider D18 = C49 as (VECTOR of C43) by L60;
reconsider D19 = C48 as (VECTOR of C42) by L59;
L62: ( C44 + C45 ) = [ ( D19 + D17 ) , ( D18 + D16 ) ] by L58 , L61 , L54;
thus L63: thesis by L62 , L58 , L61 , L1;
end;
thus L64: thesis by L55 , RLVECT_1:def 2;
end;
end;
registration
let C50 , C51 being  add-associative non  empty RLSStruct;
cluster ( Prod_of_RLS (C50 , C51) ) ->  add-associative;
coherence
proof
L66: (for B70 , B71 , B72 being (Element of ( Prod_of_RLS (C50 , C51) )) holds ( ( B70 + B71 ) + B72 ) = ( B70 + ( B71 + B72 ) ))
proof
let C52 , C53 , C54 being (Element of ( Prod_of_RLS (C50 , C51) ));
consider C55 , C56 being set such that L67: C55 in (the carrier of C50) and L68: C56 in (the carrier of C51) and L69: C52 = [ C55 , C56 ] by ZFMISC_1:def 2;
reconsider D20 = C56 as (VECTOR of C51) by L68;
consider C57 , C58 being set such that L70: C57 in (the carrier of C50) and L71: C58 in (the carrier of C51) and L72: C54 = [ C57 , C58 ] by ZFMISC_1:def 2;
reconsider D21 = C58 as (VECTOR of C51) by L71;
reconsider D22 = C57 as (VECTOR of C50) by L70;
reconsider D23 = C55 as (VECTOR of C50) by L67;
consider C59 , C60 being set such that L73: C59 in (the carrier of C50) and L74: C60 in (the carrier of C51) and L75: C53 = [ C59 , C60 ] by ZFMISC_1:def 2;
reconsider D24 = C60 as (VECTOR of C51) by L74;
reconsider D25 = C59 as (VECTOR of C50) by L73;
L76: ( C52 + C53 ) = [ ( D23 + D25 ) , ( D20 + D24 ) ] by L69 , L75 , L1;
L77: ( ( C52 + C53 ) + C54 ) = [ ( ( D23 + D25 ) + D22 ) , ( ( D20 + D24 ) + D21 ) ] by L76 , L72 , L1;
L78: ( C53 + C54 ) = [ ( D25 + D22 ) , ( D24 + D21 ) ] by L75 , L72 , L1;
L79: ( C52 + ( C53 + C54 ) ) = [ ( D23 + ( D25 + D22 ) ) , ( D20 + ( D24 + D21 ) ) ] by L78 , L69 , L1;
L80: ( ( D23 + D25 ) + D22 ) = ( D23 + ( D25 + D22 ) ) by RLVECT_1:def 3;
thus L81: thesis by L80 , L77 , L79 , RLVECT_1:def 3;
end;
thus L82: thesis by L66 , RLVECT_1:def 3;
end;
end;
registration
let C61 , C62 being  right_zeroed non  empty RLSStruct;
cluster ( Prod_of_RLS (C61 , C62) ) ->  right_zeroed;
coherence
proof
L84: (for B73 being (Element of ( Prod_of_RLS (C61 , C62) )) holds ( B73 + ( 0. ( Prod_of_RLS (C61 , C62) ) ) ) = B73)
proof
let C63 being (Element of ( Prod_of_RLS (C61 , C62) ));
consider C64 , C65 being set such that L85: C64 in (the carrier of C61) and L86: C65 in (the carrier of C62) and L87: C63 = [ C64 , C65 ] by ZFMISC_1:def 2;
reconsider D26 = C65 as (VECTOR of C62) by L86;
reconsider D27 = C64 as (VECTOR of C61) by L85;
L88: ( D26 + ( 0. C62 ) ) = D26 by RLVECT_1:def 4;
L89: ( D27 + ( 0. C61 ) ) = D27 by RLVECT_1:def 4;
thus L90: thesis by L89 , L87 , L88 , L1;
end;
thus L91: thesis by L84 , RLVECT_1:def 4;
end;
end;
registration
let C66 , C67 being  right_complementable non  empty RLSStruct;
cluster ( Prod_of_RLS (C66 , C67) ) ->  right_complementable;
coherence
proof
let C68 being (Element of ( Prod_of_RLS (C66 , C67) ));
consider C69 , C70 being set such that L93: C69 in (the carrier of C66) and L94: C70 in (the carrier of C67) and L95: C68 = [ C69 , C70 ] by ZFMISC_1:def 2;
reconsider D28 = C69 as (VECTOR of C66) by L93;
consider C71 being (VECTOR of C66) such that L96: ( D28 + C71 ) = ( 0. C66 ) by ALGSTR_0:def 11;
reconsider D29 = C70 as (VECTOR of C67) by L94;
consider C72 being (VECTOR of C67) such that L97: ( D29 + C72 ) = ( 0. C67 ) by ALGSTR_0:def 11;
set D30 = [ C71 , C72 ];
reconsider D31 = D30 as (Element of ( Prod_of_RLS (C66 , C67) ));
take D31;
thus L98: thesis by L95 , L96 , L97 , L1;
end;
end;
registration
let C73 , C74 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct;
cluster ( Prod_of_RLS (C73 , C74) ) ->  vector-distributive  scalar-distributive  scalar-associative  scalar-unital;
coherence
proof
L100: (for B74 being  real number holds (for B75 , B76 being (VECTOR of ( Prod_of_RLS (C73 , C74) )) holds ( B74 * ( B75 + B76 ) ) = ( ( B74 * B75 ) + ( B74 * B76 ) )))
proof
let C75 being  real number;
reconsider D32 = C75 as Real by XREAL_0:def 1;
let C76 , C77 being (VECTOR of ( Prod_of_RLS (C73 , C74) ));
consider C78 , C79 being set such that L101: C78 in (the carrier of C73) and L102: C79 in (the carrier of C74) and L103: C76 = [ C78 , C79 ] by ZFMISC_1:def 2;
reconsider D33 = C78 as (VECTOR of C73) by L101;
consider C80 , C81 being set such that L104: C80 in (the carrier of C73) and L105: C81 in (the carrier of C74) and L106: C77 = [ C80 , C81 ] by ZFMISC_1:def 2;
reconsider D34 = C81 as (VECTOR of C74) by L105;
reconsider D35 = C80 as (VECTOR of C73) by L104;
reconsider D36 = C79 as (VECTOR of C74) by L102;
L107: ( D32 * ( D33 + D35 ) ) = ( ( D32 * D33 ) + ( D32 * D35 ) ) by RLVECT_1:def 5;
L108: ( C76 + C77 ) = [ ( D33 + D35 ) , ( D36 + D34 ) ] by L103 , L106 , L1;
L109: ( D32 * ( C76 + C77 ) ) = [ ( D32 * ( D33 + D35 ) ) , ( D32 * ( D36 + D34 ) ) ] by L108 , L29;
L110: ( D32 * ( D36 + D34 ) ) = ( ( D32 * D36 ) + ( D32 * D34 ) ) by RLVECT_1:def 5;
L111: ( D32 * C77 ) = [ ( D32 * D35 ) , ( D32 * D34 ) ] by L106 , L29;
L112: ( D32 * C76 ) = [ ( D32 * D33 ) , ( D32 * D36 ) ] by L103 , L29;
thus L113: thesis by L112 , L109 , L111 , L107 , L110 , L1;
end;
L114: (for B77 , B78 being  real number holds (for B79 being (VECTOR of ( Prod_of_RLS (C73 , C74) )) holds ( ( B77 * B78 ) * B79 ) = ( B77 * ( B78 * B79 ) )))
proof
let C82 , C83 being  real number;
reconsider D37 = C82 , D38 = C83 as Real by XREAL_0:def 1;
let C84 being (VECTOR of ( Prod_of_RLS (C73 , C74) ));
consider C85 , C86 being set such that L115: C85 in (the carrier of C73) and L116: C86 in (the carrier of C74) and L117: C84 = [ C85 , C86 ] by ZFMISC_1:def 2;
reconsider D39 = C86 as (VECTOR of C74) by L116;
reconsider D40 = C85 as (VECTOR of C73) by L115;
L118: ( D38 * C84 ) = [ ( D38 * D40 ) , ( D38 * D39 ) ] by L117 , L29;
L119: ( D37 * ( D38 * C84 ) ) = [ ( D37 * ( D38 * D40 ) ) , ( D37 * ( D38 * D39 ) ) ] by L118 , L29;
L120: ( ( D37 * D38 ) * D39 ) = ( D37 * ( D38 * D39 ) ) by RLVECT_1:def 7;
L121: ( ( D37 * D38 ) * D40 ) = ( D37 * ( D38 * D40 ) ) by RLVECT_1:def 7;
thus L122: thesis by L121 , L117 , L119 , L120 , L29;
end;
L123: (for B80 , B81 being  real number holds (for B82 being (VECTOR of ( Prod_of_RLS (C73 , C74) )) holds ( ( B80 + B81 ) * B82 ) = ( ( B80 * B82 ) + ( B81 * B82 ) )))
proof
let C87 , C88 being  real number;
reconsider D41 = C87 , D42 = C88 as Real by XREAL_0:def 1;
let C89 being (VECTOR of ( Prod_of_RLS (C73 , C74) ));
consider C90 , C91 being set such that L124: C90 in (the carrier of C73) and L125: C91 in (the carrier of C74) and L126: C89 = [ C90 , C91 ] by ZFMISC_1:def 2;
reconsider D43 = C91 as (VECTOR of C74) by L125;
reconsider D44 = C90 as (VECTOR of C73) by L124;
L127: ( D42 * C89 ) = [ ( D42 * D44 ) , ( D42 * D43 ) ] by L126 , L29;
L128: ( D41 * C89 ) = [ ( D41 * D44 ) , ( D41 * D43 ) ] by L126 , L29;
L129: ( ( D41 * C89 ) + ( D42 * C89 ) ) = [ ( ( D41 * D44 ) + ( D42 * D44 ) ) , ( ( D41 * D43 ) + ( D42 * D43 ) ) ] by L128 , L127 , L1;
L130: ( ( D41 + D42 ) * D43 ) = ( ( D41 * D43 ) + ( D42 * D43 ) ) by RLVECT_1:def 6;
L131: ( ( D41 + D42 ) * D44 ) = ( ( D41 * D44 ) + ( D42 * D44 ) ) by RLVECT_1:def 6;
thus L132: thesis by L131 , L126 , L129 , L130 , L29;
end;
L133: (for B83 being (VECTOR of ( Prod_of_RLS (C73 , C74) )) holds ( 1 * B83 ) = B83)
proof
let C92 being (VECTOR of ( Prod_of_RLS (C73 , C74) ));
consider C93 , C94 being set such that L134: C93 in (the carrier of C73) and L135: C94 in (the carrier of C74) and L136: C92 = [ C93 , C94 ] by ZFMISC_1:def 2;
reconsider D45 = C94 as (VECTOR of C74) by L135;
reconsider D46 = C93 as (VECTOR of C73) by L134;
L137: ( 1 * D45 ) = D45 by RLVECT_1:def 8;
L138: ( 1 * D46 ) = D46 by RLVECT_1:def 8;
thus L139: thesis by L138 , L136 , L137 , L29;
end;
thus L140: thesis by L133 , L100 , L123 , L114 , RLVECT_1:def 5 , RLVECT_1:def 6 , RLVECT_1:def 7 , RLVECT_1:def 8;
end;
end;
theorem
L142: (for B84 , B85 being RealLinearSpace holds (for B86 being (Element of ( NAT )) holds (for B87 being (FinSequence of (the carrier of B84)) holds (for B88 being (FinSequence of (the carrier of B85)) holds (for B89 being (FinSequence of (the carrier of ( Prod_of_RLS (B84 , B85) ))) holds ((( len B87 ) = B86 & ( len B88 ) = B86 & ( len B89 ) = B86 & (for B90 being (Element of ( NAT )) holds (B90 in ( Seg B86 ) implies ( B89 . B90 ) = [ ( B87 . B90 ) , ( B88 . B90 ) ]))) implies ( Sum B89 ) = [ ( Sum B87 ) , ( Sum B88 ) ]))))))
proof
let C95 , C96 being RealLinearSpace;
defpred S3[ (Element of ( NAT )) ] means (for B91 being (FinSequence of (the carrier of C95)) holds (for B92 being (FinSequence of (the carrier of C96)) holds (for B93 being (FinSequence of (the carrier of ( Prod_of_RLS (C95 , C96) ))) holds ((( len B91 ) = $1 & ( len B92 ) = $1 & ( len B93 ) = $1 & (for B94 being (Element of ( NAT )) holds (B94 in ( Seg $1 ) implies ( B93 . B94 ) = [ ( B91 . B94 ) , ( B92 . B94 ) ]))) implies ( Sum B93 ) = [ ( Sum B91 ) , ( Sum B92 ) ]))));
L143: (for B95 being (Element of ( NAT )) holds (S3[ B95 ] implies S3[ ( B95 + 1 ) ]))
proof
let C97 being (Element of ( NAT ));
assume L144: S3[ C97 ];
thus L145: S3[ ( C97 + 1 ) ]
proof
let C98 being (FinSequence of (the carrier of C95));
let C99 being (FinSequence of (the carrier of C96));
let C100 being (FinSequence of (the carrier of ( Prod_of_RLS (C95 , C96) )));
assume that
L146: ( len C98 ) = ( C97 + 1 )
and
L147: ( len C99 ) = ( C97 + 1 )
and
L148: ( len C100 ) = ( C97 + 1 )
and
L149: (for B96 being (Element of ( NAT )) holds (B96 in ( Seg ( C97 + 1 ) ) implies ( C100 . B96 ) = [ ( C98 . B96 ) , ( C99 . B96 ) ]));
L150: ( ( 0 ) + C97 ) <= ( 1 + C97 ) by XREAL_1:6;
L151: ( len ( C99 | C97 ) ) = C97 by L150 , L147 , FINSEQ_1:59;
L152: ( Seg C97 ) c= ( Seg ( C97 + 1 ) ) by L150 , FINSEQ_1:5;
L153: (for B97 being (Element of ( NAT )) holds (B97 in ( Seg C97 ) implies ( ( C100 | C97 ) . B97 ) = [ ( ( C98 | C97 ) . B97 ) , ( ( C99 | C97 ) . B97 ) ]))
proof
let C101 being (Element of ( NAT ));
assume L154: C101 in ( Seg C97 );
L155: C101 <= C97 by L154 , FINSEQ_1:1;
L156: ( ( C99 | C97 ) . C101 ) = ( C99 . C101 ) by L155 , FINSEQ_3:112;
L157: ( ( C100 | C97 ) . C101 ) = ( C100 . C101 ) by L155 , FINSEQ_3:112;
L158: ( ( C98 | C97 ) . C101 ) = ( C98 . C101 ) by L155 , FINSEQ_3:112;
thus L159: thesis by L158 , L149 , L152 , L154 , L156 , L157;
end;
L160: (for B98 being (Element of ( NAT )) holds (B98 in ( Seg ( C97 + 1 ) ) implies (( C98 /. B98 ) = ( C98 . B98 ) & ( C99 /. B98 ) = ( C99 . B98 ) & ( C100 /. B98 ) = ( C100 . B98 ))))
proof
let C102 being (Element of ( NAT ));
assume L161: C102 in ( Seg ( C97 + 1 ) );
L162: C102 <= ( C97 + 1 ) by L161 , FINSEQ_1:1;
L163: 1 <= C102 by L161 , FINSEQ_1:1;
thus L164: thesis by L163 , L146 , L147 , L148 , L162 , FINSEQ_4:15;
end;
L165: ( C97 + 1 ) in ( Seg ( C97 + 1 ) ) by FINSEQ_1:4;
L166: ( C99 /. ( C97 + 1 ) ) = ( C99 . ( C97 + 1 ) ) by L165 , L160;
L167: ( C100 | C97 ) = ( C100 | ( Seg C97 ) ) by FINSEQ_1:def 15;
L168: C100 = ( ( C100 | C97 ) ^ <* ( C100 . ( C97 + 1 ) ) *> ) by L167 , L148 , FINSEQ_3:55;
L169: C100 = ( ( C100 | C97 ) ^ <* ( C100 /. ( C97 + 1 ) ) *> ) by L168 , L160 , L165;
L170: ( Sum C100 ) = ( ( Sum ( C100 | C97 ) ) + ( Sum <* ( C100 /. ( C97 + 1 ) ) *> ) ) by L169 , RLVECT_1:41
.= ( ( Sum ( C100 | C97 ) ) + ( C100 /. ( C97 + 1 ) ) ) by RLVECT_1:44;
L171: ( C99 | C97 ) = ( C99 | ( Seg C97 ) ) by FINSEQ_1:def 15;
L172: C99 = ( ( C99 | C97 ) ^ <* ( C99 . ( C97 + 1 ) ) *> ) by L171 , L147 , FINSEQ_3:55;
L173: C99 = ( ( C99 | C97 ) ^ <* ( C99 /. ( C97 + 1 ) ) *> ) by L172 , L160 , L165;
L174: ( Sum C99 ) = ( ( Sum ( C99 | C97 ) ) + ( Sum <* ( C99 /. ( C97 + 1 ) ) *> ) ) by L173 , RLVECT_1:41
.= ( ( Sum ( C99 | C97 ) ) + ( C99 /. ( C97 + 1 ) ) ) by RLVECT_1:44;
L175: ( C98 | C97 ) = ( C98 | ( Seg C97 ) ) by FINSEQ_1:def 15;
L176: C98 = ( ( C98 | C97 ) ^ <* ( C98 . ( C97 + 1 ) ) *> ) by L175 , L146 , FINSEQ_3:55;
L177: C98 = ( ( C98 | C97 ) ^ <* ( C98 /. ( C97 + 1 ) ) *> ) by L176 , L160 , L165;
L178: ( Sum C98 ) = ( ( Sum ( C98 | C97 ) ) + ( Sum <* ( C98 /. ( C97 + 1 ) ) *> ) ) by L177 , RLVECT_1:41
.= ( ( Sum ( C98 | C97 ) ) + ( C98 /. ( C97 + 1 ) ) ) by RLVECT_1:44;
L179: ( C100 /. ( C97 + 1 ) ) = ( C100 . ( C97 + 1 ) ) by L160 , L165;
L180: ( C98 /. ( C97 + 1 ) ) = ( C98 . ( C97 + 1 ) ) by L160 , L165;
L181: ( C100 /. ( C97 + 1 ) ) = [ ( C98 /. ( C97 + 1 ) ) , ( C99 /. ( C97 + 1 ) ) ] by L180 , L149 , L166 , L179 , FINSEQ_1:4;
L182: ( len ( C100 | C97 ) ) = C97 by L148 , L150 , FINSEQ_1:59;
L183: ( len ( C98 | C97 ) ) = C97 by L146 , L150 , FINSEQ_1:59;
L184: ( Sum ( C100 | C97 ) ) = [ ( Sum ( C98 | C97 ) ) , ( Sum ( C99 | C97 ) ) ] by L183 , L144 , L151 , L182 , L153;
thus L185: thesis by L184 , L181 , L178 , L174 , L170 , L1;
end;

end;
L146: S3[ ( 0 ) ]
proof
let C103 being (FinSequence of (the carrier of C95));
let C104 being (FinSequence of (the carrier of C96));
let C105 being (FinSequence of (the carrier of ( Prod_of_RLS (C95 , C96) )));
assume that
L147: ( len C103 ) = ( 0 )
and
L148: ( len C104 ) = ( 0 )
and
L149: ( len C105 ) = ( 0 )
and
L150: (for B99 being (Element of ( NAT )) holds (B99 in ( Seg ( 0 ) ) implies ( C105 . B99 ) = [ ( C103 . B99 ) , ( C104 . B99 ) ]));
L151: C103 = ( <*> (the carrier of C95) ) by L147;
L152: ( Sum C103 ) = ( 0. C95 ) by L151 , RLVECT_1:43;
L153: C105 = ( <*> (the carrier of ( Prod_of_RLS (C95 , C96) )) ) by L149;
L154: ( Sum C105 ) = ( 0. ( Prod_of_RLS (C95 , C96) ) ) by L153 , RLVECT_1:43;
L155: C104 = ( <*> (the carrier of C96) ) by L148;
thus L156: thesis by L155 , L152 , L154 , RLVECT_1:43;
end;
thus L157: (for B100 being (Element of ( NAT )) holds S3[ B100 ]) from NAT_1:sch 1(L146 , L143);
end;
begin
definition
func RLS_Real -> non  empty RLSStruct equals 
RLSStruct (# ( REAL ) , ( 0 ) , ( addreal ) , ( multreal ) #);
correctness;
end;
registration
cluster ( RLS_Real ) ->  Abelian  add-associative  right_zeroed  right_complementable  vector-distributive  scalar-distributive  scalar-associative  scalar-unital;
coherence
proof
thus L159: ( RLS_Real ) is  Abelian
proof
let C106 , C107 being (VECTOR of ( RLS_Real ));
reconsider D47 = C106 as Real;
reconsider D48 = C107 as Real;
thus L160: ( C106 + C107 ) = ( D47 + D48 ) by BINOP_2:def 9
.= ( C107 + C106 ) by BINOP_2:def 9;
end;

thus L161: ( RLS_Real ) is  add-associative
proof
let C108 , C109 , C110 being (VECTOR of ( RLS_Real ));
reconsider D49 = C108 as Real;
reconsider D50 = C109 as Real;
reconsider D51 = C110 as Real;
L162: ( C109 + C110 ) = ( D50 + D51 ) by BINOP_2:def 9;
L163: ( C108 + ( C109 + C110 ) ) = ( D49 + ( D50 + D51 ) ) by L162 , BINOP_2:def 9;
L164: ( C108 + C109 ) = ( D49 + D50 ) by BINOP_2:def 9;
L165: ( ( C108 + C109 ) + C110 ) = ( ( D49 + D50 ) + D51 ) by L164 , BINOP_2:def 9;
thus L166: thesis by L165 , L163;
end;

thus L167: ( RLS_Real ) is  right_zeroed
proof
let C111 being (VECTOR of ( RLS_Real ));
reconsider D52 = C111 as Real;
thus L168: ( C111 + ( 0. ( RLS_Real ) ) ) = ( D52 + ( 0 ) ) by BINOP_2:def 9
.= C111;
end;

thus L169: ( RLS_Real ) is  right_complementable
proof
let C112 being (VECTOR of ( RLS_Real ));
reconsider D53 = C112 as Real;
reconsider D54 = ( - D53 ) as (VECTOR of ( RLS_Real ));
take D54;
thus L170: ( C112 + D54 ) = ( D53 + ( - D53 ) ) by BINOP_2:def 9
.= ( 0. ( RLS_Real ) );
end;

thus L171: (for B101 being  real number holds (for B102 , B103 being (VECTOR of ( RLS_Real )) holds ( B101 * ( B102 + B103 ) ) = ( ( B101 * B102 ) + ( B101 * B103 ) )))
proof
let C113 being  real number;
reconsider D55 = C113 as Real by XREAL_0:def 1;
let C114 , C115 being (VECTOR of ( RLS_Real ));
reconsider D56 = C114 as Real;
reconsider D57 = C115 as Real;
L172: ( D55 * C114 ) = ( D55 * D56 ) by BINOP_2:def 11;
L173: ( D55 * C115 ) = ( D55 * D57 ) by BINOP_2:def 11;
L174: ( C114 + C115 ) = ( D56 + D57 ) by BINOP_2:def 9;
L175: ( D55 * ( C114 + C115 ) ) = ( D55 * ( D56 + D57 ) ) by L174 , BINOP_2:def 11
.= ( ( D55 * D56 ) + ( D55 * D57 ) )
.= ( ( D55 * C114 ) + ( D55 * C115 ) ) by L172 , L173 , BINOP_2:def 9;
thus L176: thesis by L175;
end;

thus L177: (for B104 , B105 being  real number holds (for B106 being (VECTOR of ( RLS_Real )) holds ( ( B104 + B105 ) * B106 ) = ( ( B104 * B106 ) + ( B105 * B106 ) )))
proof
let C116 , C117 being  real number;
reconsider D58 = C116 , D59 = C117 as Real by XREAL_0:def 1;
let C118 being (VECTOR of ( RLS_Real ));
reconsider D60 = C118 as Real;
L178: ( D59 * C118 ) = ( D59 * D60 ) by BINOP_2:def 11;
L179: ( D58 * C118 ) = ( D58 * D60 ) by BINOP_2:def 11;
L180: ( ( D58 * C118 ) + ( D59 * C118 ) ) = ( ( D58 * D60 ) + ( D59 * D60 ) ) by L179 , L178 , BINOP_2:def 9
.= ( ( D58 + D59 ) * D60 )
.= ( ( D58 + D59 ) * C118 ) by BINOP_2:def 11;
thus L181: thesis by L180;
end;

thus L182: (for B107 , B108 being  real number holds (for B109 being (VECTOR of ( RLS_Real )) holds ( ( B107 * B108 ) * B109 ) = ( B107 * ( B108 * B109 ) )))
proof
let C119 , C120 being  real number;
reconsider D61 = C119 , D62 = C120 as Real by XREAL_0:def 1;
let C121 being (VECTOR of ( RLS_Real ));
reconsider D63 = C121 as Real;
L183: ( D62 * C121 ) = ( D62 * D63 ) by BINOP_2:def 11;
L184: ( D61 * ( D62 * C121 ) ) = ( D61 * ( D62 * D63 ) ) by L183 , BINOP_2:def 11
.= ( ( D61 * D62 ) * D63 )
.= ( ( D61 * D62 ) * C121 ) by BINOP_2:def 11;
thus L185: thesis by L184;
end;

let C122 being (VECTOR of ( RLS_Real ));
reconsider D64 = C122 as Real;
thus L186: ( 1 * C122 ) = ( 1 * D64 ) by BINOP_2:def 11
.= C122;
end;
end;
L188: (for B110 being non  empty RLSStruct holds (for B111 being (VECTOR of B110) holds (for B112 being (VECTOR of ( Prod_of_RLS (B110 , ( RLS_Real )) )) holds (for B113 , B114 being Real holds (B112 = [ B111 , B114 ] implies ( B113 * B112 ) = [ ( B113 * B111 ) , ( B113 * B114 ) ])))))
proof
let C123 being non  empty RLSStruct;
let C124 being (VECTOR of C123);
let C125 being (VECTOR of ( Prod_of_RLS (C123 , ( RLS_Real )) ));
let C126 , C127 being Real;
reconsider D65 = C127 as (VECTOR of ( RLS_Real ));
assume L189: C125 = [ C124 , C127 ];
L190: ( C126 * D65 ) = ( C126 * C127 ) by BINOP_2:def 11;
thus L191: thesis by L190 , L189 , L29;
end;
L192: (for B115 being non  empty RLSStruct holds (for B116 , B117 being (VECTOR of B115) holds (for B118 , B119 being Real holds (for B120 , B121 being (VECTOR of ( Prod_of_RLS (B115 , ( RLS_Real )) )) holds ((B120 = [ B116 , B118 ] & B121 = [ B117 , B119 ]) implies ( B120 + B121 ) = [ ( B116 + B117 ) , ( B118 + B119 ) ])))))
proof
let C128 being non  empty RLSStruct;
let C129 , C130 being (VECTOR of C128);
let C131 , C132 being Real;
let C133 , C134 being (VECTOR of ( Prod_of_RLS (C128 , ( RLS_Real )) ));
reconsider D66 = C131 as (VECTOR of ( RLS_Real ));
reconsider D67 = C132 as (VECTOR of ( RLS_Real ));
assume that
L193: C133 = [ C129 , C131 ]
and
L194: C134 = [ C130 , C132 ];
L195: ( D66 + D67 ) = ( C131 + C132 ) by BINOP_2:def 9;
thus L196: thesis by L195 , L193 , L194 , L1;
end;
L197: (for B122 being (FinSequence of (the carrier of ( RLS_Real ))) holds (for B123 being (FinSequence of ( REAL )) holds ((( len B122 ) = ( len B123 ) & (for B124 being (Element of ( NAT )) holds (B124 in ( dom B122 ) implies ( B122 . B124 ) = ( B123 . B124 )))) implies ( Sum B122 ) = ( Sum B123 ))))
proof
let C135 being (FinSequence of (the carrier of ( RLS_Real )));
let C136 being (FinSequence of ( REAL ));
defpred S4[ (Element of ( NAT )) ] means (for B125 being (FinSequence of (the carrier of ( RLS_Real ))) holds (for B126 being (FinSequence of ( REAL )) holds ((( len B125 ) = $1 & ( len B126 ) = $1 & (for B127 being (Element of ( NAT )) holds (B127 in ( dom B125 ) implies ( B125 . B127 ) = ( B126 . B127 )))) implies ( Sum B125 ) = ( Sum B126 ))));
L198: (for B128 being (Element of ( NAT )) holds (S4[ B128 ] implies S4[ ( B128 + 1 ) ]))
proof
let C137 being (Element of ( NAT ));
assume L199: S4[ C137 ];
thus L200: S4[ ( C137 + 1 ) ]
proof
let C138 being (FinSequence of (the carrier of ( RLS_Real )));
let C139 being (FinSequence of ( REAL ));
assume that
L201: ( len C138 ) = ( C137 + 1 )
and
L202: ( len C139 ) = ( C137 + 1 )
and
L203: (for B129 being (Element of ( NAT )) holds (B129 in ( dom C138 ) implies ( C138 . B129 ) = ( C139 . B129 )));
L204: ( ( 0 ) + C137 ) <= ( 1 + C137 ) by XREAL_1:6;
L205: ( len ( C138 | C137 ) ) = C137 by L204 , L201 , FINSEQ_1:59;
L206: ( dom C138 ) = ( Seg ( C137 + 1 ) ) by L201 , FINSEQ_1:def 3;
L207: (for B130 being (Element of ( NAT )) holds (B130 in ( Seg ( C137 + 1 ) ) implies (( C138 . B130 ) = ( C138 /. B130 ) & ( C138 /. B130 ) = ( C139 . B130 ))))
proof
let C140 being (Element of ( NAT ));
assume L208: C140 in ( Seg ( C137 + 1 ) );
L209: C140 <= ( C137 + 1 ) by L208 , FINSEQ_1:1;
L210: 1 <= C140 by L208 , FINSEQ_1:1;
L211: ( C138 /. C140 ) = ( C138 . C140 ) by L210 , L201 , L209 , FINSEQ_4:15;
thus L212: thesis by L211 , L203 , L206 , L208;
end;
L213: ( Seg C137 ) c= ( Seg ( C137 + 1 ) ) by L204 , FINSEQ_1:5;
L214: (for B131 being (Element of ( NAT )) holds (B131 in ( dom ( C138 | C137 ) ) implies ( ( C138 | C137 ) . B131 ) = ( ( C139 | C137 ) . B131 )))
proof
let C141 being (Element of ( NAT ));
assume L215: C141 in ( dom ( C138 | C137 ) );
L216: C141 in ( Seg C137 ) by L215 , L205 , FINSEQ_1:def 3;
L217: C141 <= C137 by L216 , FINSEQ_1:1;
L218: ( ( C139 | C137 ) . C141 ) = ( C139 . C141 ) by L217 , FINSEQ_3:112;
L219: ( ( C138 | C137 ) . C141 ) = ( C138 . C141 ) by L217 , FINSEQ_3:112;
thus L220: thesis by L219 , L203 , L206 , L213 , L216 , L218;
end;
L221: ( len ( C139 | C137 ) ) = C137 by L202 , L204 , FINSEQ_1:59;
L222: ( Sum ( C138 | C137 ) ) = ( Sum ( C139 | C137 ) ) by L221 , L199 , L205 , L214;
L223: ( C139 | C137 ) = ( C139 | ( Seg C137 ) ) by FINSEQ_1:def 15;
L224: C139 = ( ( C139 | C137 ) ^ <* ( C139 . ( C137 + 1 ) ) *> ) by L223 , L202 , FINSEQ_3:55;
L225: ( C137 + 1 ) in ( Seg ( C137 + 1 ) ) by FINSEQ_1:4;
L226: ( C138 /. ( C137 + 1 ) ) = ( C139 . ( C137 + 1 ) ) by L225 , L207;
L227: ( C138 | C137 ) = ( C138 | ( Seg C137 ) ) by FINSEQ_1:def 15;
L228: C138 = ( ( C138 | C137 ) ^ <* ( C138 . ( C137 + 1 ) ) *> ) by L227 , L201 , FINSEQ_3:55;
L229: C138 = ( ( C138 | C137 ) ^ <* ( C138 /. ( C137 + 1 ) ) *> ) by L228 , L207 , L225;
L230: ( Sum C138 ) = ( ( Sum ( C138 | C137 ) ) + ( Sum <* ( C138 /. ( C137 + 1 ) ) *> ) ) by L229 , RLVECT_1:41
.= ( ( Sum ( C138 | C137 ) ) + ( C138 /. ( C137 + 1 ) ) ) by RLVECT_1:44
.= ( ( Sum ( C139 | C137 ) ) + ( C139 . ( C137 + 1 ) ) ) by L222 , L226 , BINOP_2:def 9;
thus L231: thesis by L230 , L224 , RVSUM_1:74;
end;

end;
L201: S4[ ( 0 ) ]
proof
let C142 being (FinSequence of (the carrier of ( RLS_Real )));
let C143 being (FinSequence of ( REAL ));
assume that
L202: ( len C142 ) = ( 0 )
and
L203: ( len C143 ) = ( 0 )
and
L204: (for B132 being (Element of ( NAT )) holds (B132 in ( dom C142 ) implies ( C142 . B132 ) = ( C143 . B132 )));
L205: C142 = ( <*> (the carrier of ( RLS_Real )) ) by L202;
L206: ( Sum C142 ) = ( 0. ( RLS_Real ) ) by L205 , RLVECT_1:43;
L207: C143 = ( <*> ( REAL ) ) by L203;
thus L208: thesis by L207 , L206 , RVSUM_1:72;
end;
L209: (for B133 being (Element of ( NAT )) holds S4[ B133 ]) from NAT_1:sch 1(L201 , L198);
thus L210: thesis by L209;
end;
begin
L211: (for B134 being (FinSequence of ( ExtREAL )) holds (for B135 being (Element of ( ExtREAL )) holds ( Sum ( B134 ^ <* B135 *> ) ) = ( ( Sum B134 ) + B135 )))
proof
let C144 being (FinSequence of ( ExtREAL ));
let C145 being (Element of ( ExtREAL ));
consider C146 being (Function of ( NAT ) , ( ExtREAL )) such that L212: ( Sum ( C144 ^ <* C145 *> ) ) = ( C146 . ( len ( C144 ^ <* C145 *> ) ) ) and L213: ( C146 . ( 0 ) ) = ( 0. ) and L214: (for B136 being (Element of ( NAT )) holds (B136 < ( len ( C144 ^ <* C145 *> ) ) implies ( C146 . ( B136 + 1 ) ) = ( ( C146 . B136 ) + ( ( C144 ^ <* C145 *> ) . ( B136 + 1 ) ) ))) by EXTREAL1:def 2;
L215: ( len ( C144 ^ <* C145 *> ) ) = ( ( len C144 ) + ( len <* C145 *> ) ) by FINSEQ_1:22
.= ( ( len C144 ) + 1 ) by FINSEQ_1:39;
L216: (for B137 being (Element of ( NAT )) holds (B137 < ( len C144 ) implies ( C146 . ( B137 + 1 ) ) = ( ( C146 . B137 ) + ( C144 . ( B137 + 1 ) ) )))
proof
let C147 being (Element of ( NAT ));
L217: 1 <= ( C147 + 1 ) by NAT_1:11;
assume L218: C147 < ( len C144 );
L219: ( C147 + 1 ) <= ( len C144 ) by L218 , INT_1:7;
L220: ( C147 + 1 ) in ( Seg ( len C144 ) ) by L219 , L217 , FINSEQ_1:1;
L221: ( C147 + 1 ) in ( dom C144 ) by L220 , FINSEQ_1:def 3;
L222: C147 < ( len ( C144 ^ <* C145 *> ) ) by L215 , L218 , NAT_1:13;
L223: ( C146 . ( C147 + 1 ) ) = ( ( C146 . C147 ) + ( ( C144 ^ <* C145 *> ) . ( C147 + 1 ) ) ) by L222 , L214;
thus L224: thesis by L223 , L221 , FINSEQ_1:def 7;
end;
L225: ( Sum C144 ) = ( C146 . ( len C144 ) ) by L216 , L213 , EXTREAL1:def 2;
L226: ( len C144 ) < ( len ( C144 ^ <* C145 *> ) ) by L215 , NAT_1:13;
L227: ( C146 . ( ( len C144 ) + 1 ) ) = ( ( C146 . ( len C144 ) ) + ( ( C144 ^ <* C145 *> ) . ( ( len C144 ) + 1 ) ) ) by L226 , L214;
thus L228: thesis by L227 , L212 , L215 , L225 , FINSEQ_1:42;
end;
L229: (for B138 being (FinSequence of ( ExtREAL )) holds ((not ( -infty ) in ( rng B138 )) implies ( Sum B138 ) <> ( -infty )))
proof
defpred S5[ (FinSequence of ( ExtREAL )) ] means ((not ( -infty ) in ( rng $1 )) implies ( Sum $1 ) <> ( -infty ));
L230: (for B139 being (FinSequence of ( ExtREAL )) holds (for B140 being (Element of ( ExtREAL )) holds (S5[ B139 ] implies S5[ ( B139 ^ <* B140 *> ) ])))
proof
let C148 being (FinSequence of ( ExtREAL ));
let C149 being (Element of ( ExtREAL ));
assume L231: S5[ C148 ];
L232: ( Sum ( C148 ^ <* C149 *> ) ) = ( ( Sum C148 ) + C149 ) by L211;
assume L233: (not ( -infty ) in ( rng ( C148 ^ <* C149 *> ) ));
L234: (not ( -infty ) in ( ( rng C148 ) \/ ( rng <* C149 *> ) )) by L233 , FINSEQ_1:31;
L235: (not ( -infty ) in ( rng <* C149 *> )) by L234 , XBOOLE_0:def 3;
L236: (not ( -infty ) in { C149 }) by L235 , FINSEQ_1:38;
L237: C149 <> ( -infty ) by L236 , TARSKI:def 1;
thus L238: thesis by L237 , L231 , L234 , L232 , XBOOLE_0:def 3 , XXREAL_3:17;
end;
L239: S5[ ( <*> ( ExtREAL ) ) ] by EXTREAL1:7;
thus L240: (for B141 being (FinSequence of ( ExtREAL )) holds S5[ B141 ]) from FINSEQ_2:sch 2(L239 , L230);
end;
L241: (for B142 being (FinSequence of ( ExtREAL )) holds ((( +infty ) in ( rng B142 ) & (not ( -infty ) in ( rng B142 ))) implies ( Sum B142 ) = ( +infty )))
proof
defpred S6[ (FinSequence of ( ExtREAL )) ] means ((( +infty ) in ( rng $1 ) & (not ( -infty ) in ( rng $1 ))) implies ( Sum $1 ) = ( +infty ));
L242: (for B143 being (FinSequence of ( ExtREAL )) holds (for B144 being (Element of ( ExtREAL )) holds (S6[ B143 ] implies S6[ ( B143 ^ <* B144 *> ) ])))
proof
let C150 being (FinSequence of ( ExtREAL ));
let C151 being (Element of ( ExtREAL ));
assume L243: S6[ C150 ];
assume that
L244: ( +infty ) in ( rng ( C150 ^ <* C151 *> ) )
and
L245: (not ( -infty ) in ( rng ( C150 ^ <* C151 *> ) ));
L246: ( Sum ( C150 ^ <* C151 *> ) ) = ( ( Sum C150 ) + C151 ) by L211;
L247: ( +infty ) in ( ( rng C150 ) \/ ( rng <* C151 *> ) ) by L244 , FINSEQ_1:31;
L248: (( +infty ) in ( rng C150 ) or ( +infty ) in ( rng <* C151 *> )) by L247 , XBOOLE_0:def 3;
L249: (( +infty ) in ( rng C150 ) or ( +infty ) in { C151 }) by L248 , FINSEQ_1:38;
L250: (not ( -infty ) in ( ( rng C150 ) \/ ( rng <* C151 *> ) )) by L245 , FINSEQ_1:31;
L251: (not ( -infty ) in ( rng C150 )) by L250 , XBOOLE_0:def 3;
L252: ( Sum C150 ) <> ( -infty ) by L251 , L229;
L253: (not ( -infty ) in ( rng <* C151 *> )) by L250 , XBOOLE_0:def 3;
L254: (not ( -infty ) in { C151 }) by L253 , FINSEQ_1:38;
L255: C151 <> ( -infty ) by L254 , TARSKI:def 1;
per cases  by L249 , TARSKI:def 1;
suppose L256: ( +infty ) in ( rng C150 );

thus L257: thesis by L256 , L243 , L250 , L255 , L246 , XBOOLE_0:def 3 , XXREAL_3:def 2;
end;
suppose L258: ( +infty ) = C151;

thus L259: thesis by L258 , L246 , L252 , XXREAL_3:def 2;
end;
end;
L261: S6[ ( <*> ( ExtREAL ) ) ];
thus L262: (for B145 being (FinSequence of ( ExtREAL )) holds S6[ B145 ]) from FINSEQ_2:sch 2(L261 , L242);
end;
L263: (for B146 being (FinSequence of ( ExtREAL )) holds (for B147 being (FinSequence of ( REAL )) holds ((( len B146 ) = ( len B147 ) & (for B148 being (Element of ( NAT )) holds (B148 in ( dom B146 ) implies ( B146 . B148 ) = ( B147 . B148 )))) implies ( Sum B146 ) = ( Sum B147 ))))
proof
let C152 being (FinSequence of ( ExtREAL ));
let C153 being (FinSequence of ( REAL ));
defpred S7[ (Element of ( NAT )) ] means (for B149 being (FinSequence of ( ExtREAL )) holds (for B150 being (FinSequence of ( REAL )) holds ((( len B149 ) = $1 & ( len B150 ) = $1 & (for B151 being (Element of ( NAT )) holds (B151 in ( dom B149 ) implies ( B149 . B151 ) = ( B150 . B151 )))) implies ( Sum B149 ) = ( Sum B150 ))));
L264: (for B152 being (Element of ( NAT )) holds (S7[ B152 ] implies S7[ ( B152 + 1 ) ]))
proof
let C154 being (Element of ( NAT ));
assume L265: S7[ C154 ];
thus L266: S7[ ( C154 + 1 ) ]
proof
let C155 being (FinSequence of ( ExtREAL ));
let C156 being (FinSequence of ( REAL ));
assume that
L267: ( len C155 ) = ( C154 + 1 )
and
L268: ( len C156 ) = ( C154 + 1 )
and
L269: (for B153 being (Element of ( NAT )) holds (B153 in ( dom C155 ) implies ( C155 . B153 ) = ( C156 . B153 )));
L270: ( dom C155 ) = ( Seg ( C154 + 1 ) ) by L267 , FINSEQ_1:def 3;
L271: ( C155 . ( C154 + 1 ) ) = ( C156 . ( C154 + 1 ) ) by L270 , L269 , FINSEQ_1:4;
L272: ( ( 0 ) + C154 ) <= ( 1 + C154 ) by XREAL_1:6;
L273: ( len ( C155 | C154 ) ) = C154 by L272 , L267 , FINSEQ_1:59;
L274: ( Seg C154 ) c= ( Seg ( C154 + 1 ) ) by L272 , FINSEQ_1:5;
L275: (for B154 being (Element of ( NAT )) holds (B154 in ( dom ( C155 | C154 ) ) implies ( ( C155 | C154 ) . B154 ) = ( ( C156 | C154 ) . B154 )))
proof
let C157 being (Element of ( NAT ));
assume L276: C157 in ( dom ( C155 | C154 ) );
L277: C157 in ( Seg C154 ) by L276 , L273 , FINSEQ_1:def 3;
L278: C157 <= C154 by L277 , FINSEQ_1:1;
L279: ( ( C156 | C154 ) . C157 ) = ( C156 . C157 ) by L278 , FINSEQ_3:112;
L280: ( ( C155 | C154 ) . C157 ) = ( C155 . C157 ) by L278 , FINSEQ_3:112;
thus L281: thesis by L280 , L269 , L270 , L274 , L277 , L279;
end;
L282: ( len ( C156 | C154 ) ) = C154 by L268 , L272 , FINSEQ_1:59;
L283: ( Sum ( C155 | C154 ) ) = ( Sum ( C156 | C154 ) ) by L282 , L265 , L273 , L275;
L284: ( C156 | C154 ) = ( C156 | ( Seg C154 ) ) by FINSEQ_1:def 15;
L285: C156 = ( ( C156 | C154 ) ^ <* ( C156 . ( C154 + 1 ) ) *> ) by L284 , L268 , FINSEQ_3:55;
L286: ( C155 | C154 ) = ( C155 | ( Seg C154 ) ) by FINSEQ_1:def 15;
L287: C155 = ( ( C155 | C154 ) ^ <* ( C155 . ( C154 + 1 ) ) *> ) by L286 , L267 , FINSEQ_3:55;
L288: ( Sum C155 ) = ( ( Sum ( C155 | C154 ) ) + ( C155 . ( C154 + 1 ) ) ) by L287 , L211
.= ( ( Sum ( C156 | C154 ) ) + ( C156 . ( C154 + 1 ) ) ) by L283 , L271 , SUPINF_2:1;
thus L289: thesis by L288 , L285 , RVSUM_1:74;
end;

end;
L267: S7[ ( 0 ) ]
proof
let C158 being (FinSequence of ( ExtREAL ));
let C159 being (FinSequence of ( REAL ));
assume that
L268: ( len C158 ) = ( 0 )
and
L269: ( len C159 ) = ( 0 )
and
L270: (for B155 being (Element of ( NAT )) holds (B155 in ( dom C158 ) implies ( C158 . B155 ) = ( C159 . B155 )));
L271: C158 = ( <*> ( ExtREAL ) ) by L268;
L272: ( Sum C158 ) = ( 0. ) by L271 , EXTREAL1:7;
L273: C159 = ( <*> ( ExtREAL ) ) by L269;
thus L274: thesis by L273 , L272 , RVSUM_1:72;
end;
L275: (for B156 being (Element of ( NAT )) holds S7[ B156 ]) from NAT_1:sch 1(L267 , L264);
thus L276: thesis by L275;
end;
L277: (for B157 being (Element of ( NAT )) holds (for B158 being (FinSequence of ( ExtREAL )) holds (for B159 being (FinSequence of (the carrier of ( RLS_Real ))) holds ((( len B158 ) = B157 & ( len B159 ) = B157 & (for B160 being (Element of ( NAT )) holds (B160 in ( Seg B157 ) implies ( B158 . B160 ) = ( B159 . B160 )))) implies ( Sum B158 ) = ( Sum B159 )))))
proof
let C160 being (Element of ( NAT ));
let C161 being (FinSequence of ( ExtREAL ));
let C162 being (FinSequence of (the carrier of ( RLS_Real )));
assume that
L278: ( len C161 ) = C160
and
L279: ( len C162 ) = C160
and
L280: (for B161 being (Element of ( NAT )) holds (B161 in ( Seg C160 ) implies ( C161 . B161 ) = ( C162 . B161 )));
set D68 = C162;
reconsider D69 = D68 as (FinSequence of ( REAL ));
L281: ( dom C161 ) = ( Seg C160 ) by L278 , FINSEQ_1:def 3;
L282: ( Sum C161 ) = ( Sum D69 ) by L281 , L278 , L279 , L280 , L263;
L283: (for B162 being (Element of ( NAT )) holds (B162 in ( dom C162 ) implies ( C162 . B162 ) = ( D69 . B162 )));
L284: ( len C162 ) = ( len D69 );
thus L285: thesis by L284 , L282 , L283 , L197;
end;
L286: (for B163 being (FinSequence of ( ExtREAL )) holds (( rng B163 ) c= { ( 0. ) } implies ( Sum B163 ) = ( 0. )))
proof
let C163 being (FinSequence of ( ExtREAL ));
defpred S8[ (FinSequence of ( ExtREAL )) ] means (( rng $1 ) c= { ( 0. ) } implies ( Sum $1 ) = ( 0. ));
assume L287: ( rng C163 ) c= { ( 0. ) };
L288: (for B164 being (FinSequence of ( ExtREAL )) holds (for B165 being (Element of ( ExtREAL )) holds (S8[ B164 ] implies S8[ ( B164 ^ <* B165 *> ) ])))
proof
let C164 being (FinSequence of ( ExtREAL ));
let C165 being (Element of ( ExtREAL ));
assume L289: S8[ C164 ];
assume L290: ( rng ( C164 ^ <* C165 *> ) ) c= { ( 0. ) };
L291: ( ( rng C164 ) \/ ( rng <* C165 *> ) ) c= { ( 0. ) } by L290 , FINSEQ_1:31;
L292: ( rng <* C165 *> ) c= { ( 0. ) } by L291 , XBOOLE_1:11;
L293: { C165 } c= { ( 0. ) } by L292 , FINSEQ_1:38;
L294: C165 in { ( 0. ) } by L293 , ZFMISC_1:31;
L295: C165 = ( 0. ) by L294 , TARSKI:def 1;
thus L296: ( Sum ( C164 ^ <* C165 *> ) ) = ( ( Sum C164 ) + C165 ) by L211
.= ( 0. ) by L289 , L291 , L295 , XBOOLE_1:11;
end;
L297: S8[ ( <*> ( ExtREAL ) ) ] by EXTREAL1:7;
L298: (for B166 being (FinSequence of ( ExtREAL )) holds S8[ B166 ]) from FINSEQ_2:sch 2(L297 , L288);
thus L299: thesis by L298 , L287;
end;
L300: (for B167 being (FinSequence of ( REAL )) holds (( rng B167 ) c= { ( 0 ) } implies ( Sum B167 ) = ( 0 )))
proof
let C166 being (FinSequence of ( REAL ));
defpred S9[ (FinSequence of ( REAL )) ] means (( rng $1 ) c= { ( 0 ) } implies ( Sum $1 ) = ( 0 ));
L301: (for B168 being (FinSequence of ( REAL )) holds (for B169 being (Element of ( REAL )) holds (S9[ B168 ] implies S9[ ( B168 ^ <* B169 *> ) ])))
proof
let C167 being (FinSequence of ( REAL ));
let C168 being (Element of ( REAL ));
assume L302: S9[ C167 ];
assume L303: ( rng ( C167 ^ <* C168 *> ) ) c= { ( 0 ) };
L304: ( ( rng C167 ) \/ ( rng <* C168 *> ) ) c= { ( 0 ) } by L303 , FINSEQ_1:31;
L305: ( rng <* C168 *> ) c= { ( 0 ) } by L304 , XBOOLE_1:11;
L306: { C168 } c= { ( 0 ) } by L305 , FINSEQ_1:38;
L307: C168 in { ( 0 ) } by L306 , ZFMISC_1:31;
thus L308: ( Sum ( C167 ^ <* C168 *> ) ) = ( ( Sum C167 ) + C168 ) by RVSUM_1:74
.= ( 0 ) by L302 , L304 , L307 , TARSKI:def 1 , XBOOLE_1:11;
end;
assume L309: ( rng C166 ) c= { ( 0 ) };
L310: S9[ ( <*> ( REAL ) ) ] by RVSUM_1:72;
L311: (for B170 being (FinSequence of ( REAL )) holds S9[ B170 ]) from FINSEQ_2:sch 2(L310 , L301);
thus L312: thesis by L311 , L309;
end;
L313: (for B171 being RealLinearSpace holds (for B172 being (FinSequence of (the carrier of B171)) holds (( rng B172 ) c= { ( 0. B171 ) } implies ( Sum B172 ) = ( 0. B171 ))))
proof
let C169 being RealLinearSpace;
defpred S10[ (FinSequence of (the carrier of C169)) ] means (( rng $1 ) c= { ( 0. C169 ) } implies ( Sum $1 ) = ( 0. C169 ));
L314: (for B173 being (FinSequence of (the carrier of C169)) holds (for B174 being (Element of C169) holds (S10[ B173 ] implies S10[ ( B173 ^ <* B174 *> ) ])))
proof
let C170 being (FinSequence of (the carrier of C169));
let C171 being (Element of C169);
assume L315: S10[ C170 ];
assume L316: ( rng ( C170 ^ <* C171 *> ) ) c= { ( 0. C169 ) };
L317: ( ( rng C170 ) \/ ( rng <* C171 *> ) ) c= { ( 0. C169 ) } by L316 , FINSEQ_1:31;
L318: ( rng <* C171 *> ) c= { ( 0. C169 ) } by L317 , XBOOLE_1:11;
L319: { C171 } c= { ( 0. C169 ) } by L318 , FINSEQ_1:38;
L320: C171 in { ( 0. C169 ) } by L319 , ZFMISC_1:31;
L321: C171 = ( 0. C169 ) by L320 , TARSKI:def 1;
thus L322: ( Sum ( C170 ^ <* C171 *> ) ) = ( ( Sum C170 ) + ( Sum <* C171 *> ) ) by RLVECT_1:41
.= ( ( Sum C170 ) + C171 ) by RLVECT_1:44
.= ( 0. C169 ) by L315 , L317 , L321 , RLVECT_1:def 4 , XBOOLE_1:11;
end;
let C172 being (FinSequence of (the carrier of C169));
assume L323: ( rng C172 ) c= { ( 0. C169 ) };
L324: S10[ ( <*> (the carrier of C169) ) ] by RLVECT_1:43;
L325: (for B175 being (FinSequence of (the carrier of C169)) holds S10[ B175 ]) from FINSEQ_2:sch 2(L324 , L314);
thus L326: thesis by L325 , L323;
end;
begin
definition
let C173 being non  empty RLSStruct;
let C174 being (Function of (the carrier of C173) , ( ExtREAL ));
func epigraph C174 -> (Subset of ( Prod_of_RLS (C173 , ( RLS_Real )) )) equals 
{ [ B176 , B177 ] where B176 is (Element of C173) , B177 is (Element of ( REAL )) : ( C174 . B176 ) <= ( R_EAL B177 ) };
coherence
proof
deffunc H1((Element of C173) , (Element of ( REAL ))) = [ $1 , $2 ];
defpred S11[ (Element of C173) , (Element of ( REAL )) ] means ( C174 . $1 ) <= ( R_EAL $2 );
L327: { H1(B178 , B179) where B178 is (Element of C173) , B179 is (Element of ( REAL )) : S11[ B178 , B179 ] } is (Subset of [: (the carrier of C173) , ( REAL ) :]) from DOMAIN_1:sch 9;
thus L328: thesis by L327;
end;
end;
definition
let C175 being non  empty RLSStruct;
let C176 being (Function of (the carrier of C175) , ( ExtREAL ));
attr C176 is  convex
means
:L330: ( epigraph C176 ) is  convex;
end;
L332: (for B180 , B181 being R_eal holds (for B182 , B183 , B184 , B185 being Real holds ((B180 = B182 & B181 = B183) implies ( ( B184 * B182 ) + ( B185 * B183 ) ) = ( ( ( R_EAL B184 ) * B180 ) + ( ( R_EAL B185 ) * B181 ) ))))
proof
let C177 , C178 being R_eal;
let C179 , C180 , C181 , C182 being Real;
assume that
L333: C177 = C179
and
L334: C178 = C180;
L335: ( C182 * C180 ) = ( ( R_EAL C182 ) * C178 ) by L334 , EXTREAL1:1;
L336: ( C181 * C179 ) = ( ( R_EAL C181 ) * C177 ) by L333 , EXTREAL1:1;
thus L337: thesis by L336 , L335 , SUPINF_2:1;
end;
theorem
L338: (for B186 being non  empty RLSStruct holds (for B187 being (Function of (the carrier of B186) , ( ExtREAL )) holds ((for B188 being (VECTOR of B186) holds ( B187 . B188 ) <> ( -infty )) implies (B187 is  convex iff (for B189 , B190 being (VECTOR of B186) holds (for B191 being Real holds ((( 0 ) < B191 & B191 < 1) implies ( B187 . ( ( B191 * B189 ) + ( ( 1 - B191 ) * B190 ) ) ) <= ( ( ( R_EAL B191 ) * ( B187 . B189 ) ) + ( ( R_EAL ( 1 - B191 ) ) * ( B187 . B190 ) ) ))))))))
proof
let C183 being non  empty RLSStruct;
let C184 being (Function of (the carrier of C183) , ( ExtREAL ));
assume L339: (for B192 being (VECTOR of C183) holds ( C184 . B192 ) <> ( -infty ));
thus L340: (C184 is  convex implies (for B193 , B194 being (VECTOR of C183) holds (for B195 being Real holds ((( 0 ) < B195 & B195 < 1) implies ( C184 . ( ( B195 * B193 ) + ( ( 1 - B195 ) * B194 ) ) ) <= ( ( ( R_EAL B195 ) * ( C184 . B193 ) ) + ( ( R_EAL ( 1 - B195 ) ) * ( C184 . B194 ) ) )))))
proof
assume L341: C184 is  convex;
L342: ( epigraph C184 ) is  convex by L341 , L330;
let C185 , C186 being (VECTOR of C183);
let C187 being Real;
assume that
L343: ( 0 ) < C187
and
L344: C187 < 1;
set D70 = ( R_EAL ( 1 - C187 ) );
set D71 = ( R_EAL C187 );
L345: ( 1 - C187 ) > ( 0 ) by L344 , XREAL_1:50;
per cases  by L339 , XXREAL_0:14;
suppose L346: (( C184 . C185 ) in ( REAL ) & ( C184 . C186 ) in ( REAL ));

reconsider D72 = ( C184 . C186 ) as Real by L346;
reconsider D73 = ( C184 . C185 ) as Real by L346;
reconsider D74 = [ C185 , D73 ] as (VECTOR of ( Prod_of_RLS (C183 , ( RLS_Real )) ));
reconsider D75 = [ C186 , D72 ] as (VECTOR of ( Prod_of_RLS (C183 , ( RLS_Real )) ));
L347: ( C184 . C186 ) <= ( R_EAL D72 );
L348: [ C186 , D72 ] in ( epigraph C184 ) by L347;
L349: ( C187 * D74 ) = [ ( C187 * C185 ) , ( C187 * D73 ) ] by L188;
L350: ( ( 1 - C187 ) * D75 ) = [ ( ( 1 - C187 ) * C186 ) , ( ( 1 - C187 ) * D72 ) ] by L188;
L351: ( C184 . C185 ) <= ( R_EAL D73 );
L352: [ C185 , D73 ] in ( epigraph C184 ) by L351;
L353: ( ( C187 * D74 ) + ( ( 1 - C187 ) * D75 ) ) in ( epigraph C184 ) by L352 , L342 , L343 , L344 , L348 , CONVEX1:def 2;
L354: [ ( ( C187 * C185 ) + ( ( 1 - C187 ) * C186 ) ) , ( ( C187 * D73 ) + ( ( 1 - C187 ) * D72 ) ) ] in ( epigraph C184 ) by L353 , L349 , L350 , L192;
consider C188 being (Element of C183), C189 being (Element of ( REAL )) such that L355: [ ( ( C187 * C185 ) + ( ( 1 - C187 ) * C186 ) ) , ( ( C187 * D73 ) + ( ( 1 - C187 ) * D72 ) ) ] = [ C188 , C189 ] and L356: ( C184 . C188 ) <= ( R_EAL C189 ) by L354;
L357: C189 = ( ( C187 * D73 ) + ( ( 1 - C187 ) * D72 ) ) by L355 , XTUPLE_0:1;
L358: C188 = ( ( C187 * C185 ) + ( ( 1 - C187 ) * C186 ) ) by L355 , XTUPLE_0:1;
thus L359: thesis by L358 , L356 , L357 , L332;
end;
suppose L360: (( C184 . C185 ) = ( +infty ) & ( C184 . C186 ) in ( REAL ));

L361: ( D70 * ( C184 . C186 ) ) in ( REAL )
proof
reconsider D76 = ( C184 . C186 ) as Real by L360;
L362: ( D70 * ( C184 . C186 ) ) = ( ( 1 - C187 ) * D76 ) by EXTREAL1:1;
thus L363: thesis by L362;
end;
L364: ( D71 * ( C184 . C185 ) ) = ( +infty ) by L343 , L360 , XXREAL_3:def 5;
L365: ( ( D71 * ( C184 . C185 ) ) + ( D70 * ( C184 . C186 ) ) ) = ( +infty ) by L364 , L361 , XXREAL_3:def 2;
thus L366: thesis by L365 , XXREAL_0:4;
end;
suppose L367: (( C184 . C185 ) in ( REAL ) & ( C184 . C186 ) = ( +infty ));

L368: ( D71 * ( C184 . C185 ) ) in ( REAL )
proof
reconsider D77 = ( C184 . C185 ) as Real by L367;
L369: ( D71 * ( C184 . C185 ) ) = ( C187 * D77 ) by EXTREAL1:1;
thus L370: thesis by L369;
end;
L371: ( D70 * ( C184 . C186 ) ) = ( +infty ) by L345 , L367 , XXREAL_3:def 5;
L372: ( ( D71 * ( C184 . C185 ) ) + ( D70 * ( C184 . C186 ) ) ) = ( +infty ) by L371 , L368 , XXREAL_3:def 2;
thus L373: thesis by L372 , XXREAL_0:4;
end;
suppose L374: (( C184 . C185 ) = ( +infty ) & ( C184 . C186 ) = ( +infty ));

L375: ( D70 * ( C184 . C186 ) ) = ( +infty ) by L374 , L345 , XXREAL_3:def 5;
L376: ( ( D71 * ( C184 . C185 ) ) + ( D70 * ( C184 . C186 ) ) ) = ( +infty ) by L375 , L343 , L374 , XXREAL_3:def 2;
thus L377: thesis by L376 , XXREAL_0:4;
end;
end;

assume L379: (for B196 , B197 being (VECTOR of C183) holds (for B198 being Real holds ((( 0 ) < B198 & B198 < 1) implies ( C184 . ( ( B198 * B196 ) + ( ( 1 - B198 ) * B197 ) ) ) <= ( ( ( R_EAL B198 ) * ( C184 . B196 ) ) + ( ( R_EAL ( 1 - B198 ) ) * ( C184 . B197 ) ) ))));
L380: (for B199 , B200 being (VECTOR of ( Prod_of_RLS (C183 , ( RLS_Real )) )) holds (for B201 being Real holds ((( 0 ) < B201 & B201 < 1 & B199 in ( epigraph C184 ) & B200 in ( epigraph C184 )) implies ( ( B201 * B199 ) + ( ( 1 - B201 ) * B200 ) ) in ( epigraph C184 ))))
proof
let C190 , C191 being (VECTOR of ( Prod_of_RLS (C183 , ( RLS_Real )) ));
let C192 being Real;
assume that
L381: ( 0 ) < C192
and
L382: C192 < 1
and
L383: C190 in ( epigraph C184 )
and
L384: C191 in ( epigraph C184 );
thus L385: ( ( C192 * C190 ) + ( ( 1 - C192 ) * C191 ) ) in ( epigraph C184 )
proof
consider C193 being (Element of C183), C194 being (Element of ( REAL )) such that L386: C191 = [ C193 , C194 ] and L387: ( C184 . C193 ) <= ( R_EAL C194 ) by L384;
L388: ( ( 1 - C192 ) * C191 ) = [ ( ( 1 - C192 ) * C193 ) , ( ( 1 - C192 ) * C194 ) ] by L386 , L188;
L389: ( C184 . C193 ) <> ( +infty ) by L387 , XXREAL_0:9;
reconsider D78 = ( C184 . C193 ) as Real by L389 , L339 , XXREAL_0:14;
consider C195 being (Element of C183), C196 being (Element of ( REAL )) such that L390: C190 = [ C195 , C196 ] and L391: ( C184 . C195 ) <= ( R_EAL C196 ) by L383;
L392: ( C184 . C195 ) <> ( +infty ) by L391 , XXREAL_0:9;
reconsider D79 = ( C184 . C195 ) as Real by L392 , L339 , XXREAL_0:14;
L393: ( 1 - C192 ) > ( 0 ) by L382 , XREAL_1:50;
L394: ( ( 1 - C192 ) * D78 ) <= ( ( 1 - C192 ) * C194 ) by L393 , L387 , XREAL_1:64;
L395: ( ( C192 * D79 ) + ( ( 1 - C192 ) * D78 ) ) <= ( ( C192 * D79 ) + ( ( 1 - C192 ) * C194 ) ) by L394 , XREAL_1:6;
L396: ( C192 * D79 ) <= ( C192 * C196 ) by L381 , L391 , XREAL_1:64;
L397: ( ( C192 * D79 ) + ( ( 1 - C192 ) * C194 ) ) <= ( ( C192 * C196 ) + ( ( 1 - C192 ) * C194 ) ) by L396 , XREAL_1:6;
L398: ( ( C192 * D79 ) + ( ( 1 - C192 ) * D78 ) ) <= ( ( C192 * C196 ) + ( ( 1 - C192 ) * C194 ) ) by L397 , L395 , XXREAL_0:2;
L399: ( R_EAL ( ( C192 * D79 ) + ( ( 1 - C192 ) * D78 ) ) ) = ( ( ( R_EAL C192 ) * ( C184 . C195 ) ) + ( ( R_EAL ( 1 - C192 ) ) * ( C184 . C193 ) ) ) by L332;
L400: ( C184 . ( ( C192 * C195 ) + ( ( 1 - C192 ) * C193 ) ) ) <> ( +infty ) by L399 , L379 , L381 , L382 , XXREAL_0:9;
reconsider D80 = ( C184 . ( ( C192 * C195 ) + ( ( 1 - C192 ) * C193 ) ) ) as Real by L400 , L339 , XXREAL_0:14;
L401: D80 <= ( ( C192 * D79 ) + ( ( 1 - C192 ) * D78 ) ) by L379 , L381 , L382 , L399;
L402: ( C184 . ( ( C192 * C195 ) + ( ( 1 - C192 ) * C193 ) ) ) <= ( R_EAL ( ( C192 * C196 ) + ( ( 1 - C192 ) * C194 ) ) ) by L401 , L398 , XXREAL_0:2;
L403: [ ( ( C192 * C195 ) + ( ( 1 - C192 ) * C193 ) ) , ( ( C192 * C196 ) + ( ( 1 - C192 ) * C194 ) ) ] in { [ B202 , B203 ] where B202 is (Element of C183) , B203 is (Element of ( REAL )) : ( C184 . B202 ) <= ( R_EAL B203 ) } by L402;
L404: ( C192 * C190 ) = [ ( C192 * C195 ) , ( C192 * C196 ) ] by L390 , L188;
thus L405: thesis by L404 , L403 , L388 , L192;
end;

end;
L386: ( epigraph C184 ) is  convex by L380 , CONVEX1:def 2;
thus L387: thesis by L386 , L330;
end;
theorem
L388: (for B204 being RealLinearSpace holds (for B205 being (Function of (the carrier of B204) , ( ExtREAL )) holds ((for B206 being (VECTOR of B204) holds ( B205 . B206 ) <> ( -infty )) implies (B205 is  convex iff (for B207 , B208 being (VECTOR of B204) holds (for B209 being Real holds ((( 0 ) <= B209 & B209 <= 1) implies ( B205 . ( ( B209 * B207 ) + ( ( 1 - B209 ) * B208 ) ) ) <= ( ( ( R_EAL B209 ) * ( B205 . B207 ) ) + ( ( R_EAL ( 1 - B209 ) ) * ( B205 . B208 ) ) ))))))))
proof
let C197 being RealLinearSpace;
let C198 being (Function of (the carrier of C197) , ( ExtREAL ));
assume L389: (for B210 being (VECTOR of C197) holds ( C198 . B210 ) <> ( -infty ));
thus L390: (C198 is  convex implies (for B211 , B212 being (VECTOR of C197) holds (for B213 being Real holds ((( 0 ) <= B213 & B213 <= 1) implies ( C198 . ( ( B213 * B211 ) + ( ( 1 - B213 ) * B212 ) ) ) <= ( ( ( R_EAL B213 ) * ( C198 . B211 ) ) + ( ( R_EAL ( 1 - B213 ) ) * ( C198 . B212 ) ) )))))
proof
assume L391: C198 is  convex;
let C199 , C200 being (VECTOR of C197);
let C201 being Real;
assume that
L392: ( 0 ) <= C201
and
L393: C201 <= 1;
per cases ;
suppose L394: C201 = ( 0 );

L395: ( ( 1 - C201 ) * C200 ) = C200 by L394 , RLVECT_1:def 8;
L396: ( C201 * C199 ) = ( 0. C197 ) by L394 , RLVECT_1:10;
L397: ( ( C201 * C199 ) + ( ( 1 - C201 ) * C200 ) ) = C200 by L396 , L395 , RLVECT_1:4;
L398: ( ( R_EAL ( 1 - C201 ) ) * ( C198 . C200 ) ) = ( C198 . C200 ) by L394 , XXREAL_3:81;
L399: ( ( R_EAL C201 ) * ( C198 . C199 ) ) = ( 0. ) by L394;
thus L400: thesis by L399 , L397 , L398 , XXREAL_3:4;
end;
suppose L401: C201 = 1;

L402: ( ( 1 - C201 ) * C200 ) = ( 0. C197 ) by L401 , RLVECT_1:10;
L403: ( C201 * C199 ) = C199 by L401 , RLVECT_1:def 8;
L404: ( ( C201 * C199 ) + ( ( 1 - C201 ) * C200 ) ) = C199 by L403 , L402 , RLVECT_1:4;
L405: ( ( R_EAL C201 ) * ( C198 . C199 ) ) = ( C198 . C199 ) by L401 , XXREAL_3:81;
L406: ( ( R_EAL ( 1 - C201 ) ) * ( C198 . C200 ) ) = ( 0. ) by L401;
thus L407: thesis by L406 , L404 , L405 , XXREAL_3:4;
end;
suppose L408: (C201 <> ( 0 ) & C201 <> 1);

L409: C201 < 1 by L408 , L393 , XXREAL_0:1;
thus L410: thesis by L409 , L389 , L391 , L392 , L408 , L338;
end;
end;

assume L412: (for B214 , B215 being (VECTOR of C197) holds (for B216 being Real holds ((( 0 ) <= B216 & B216 <= 1) implies ( C198 . ( ( B216 * B214 ) + ( ( 1 - B216 ) * B215 ) ) ) <= ( ( ( R_EAL B216 ) * ( C198 . B214 ) ) + ( ( R_EAL ( 1 - B216 ) ) * ( C198 . B215 ) ) ))));
L413: (for B217 , B218 being (VECTOR of C197) holds (for B219 being Real holds ((( 0 ) < B219 & B219 < 1) implies ( C198 . ( ( B219 * B217 ) + ( ( 1 - B219 ) * B218 ) ) ) <= ( ( ( R_EAL B219 ) * ( C198 . B217 ) ) + ( ( R_EAL ( 1 - B219 ) ) * ( C198 . B218 ) ) )))) by L412;
thus L414: thesis by L413 , L389 , L338;
end;
begin
theorem
L415: (for B220 being (PartFunc of ( REAL ) , ( REAL )) holds (for B221 being (Function of (the carrier of ( RLS_Real )) , ( ExtREAL )) holds (for B222 being (Subset of ( RLS_Real )) holds ((B222 c= ( dom B220 ) & (for B223 being Real holds ((B223 in B222 implies ( B221 . B223 ) = ( B220 . B223 )) & ((not B223 in B222) implies ( B221 . B223 ) = ( +infty ))))) implies (B221 is  convex iff (B220 is_convex_on B222 & B222 is  convex))))))
proof
let C202 being (PartFunc of ( REAL ) , ( REAL ));
let C203 being (Function of (the carrier of ( RLS_Real )) , ( ExtREAL ));
let C204 being (Subset of ( RLS_Real ));
assume that
L416: C204 c= ( dom C202 )
and
L417: (for B224 being Real holds ((B224 in C204 implies ( C203 . B224 ) = ( C202 . B224 )) & ((not B224 in C204) implies ( C203 . B224 ) = ( +infty ))));
L418: (for B225 being (VECTOR of ( RLS_Real )) holds ( C203 . B225 ) <> ( -infty ))
proof
let C205 being (VECTOR of ( RLS_Real ));
reconsider D81 = C205 as Real;
L419: ( C202 . D81 ) in ( REAL );
thus L420: thesis by L419 , L417;
end;
L421: (for B226 being (VECTOR of ( RLS_Real )) holds (B226 in C204 implies ( C203 . B226 ) in ( REAL )))
proof
let C206 being (VECTOR of ( RLS_Real ));
reconsider D82 = C206 as Real;
assume L422: C206 in C204;
L423: ( C203 . D82 ) = ( C202 . D82 ) by L422 , L417;
thus L424: thesis by L423;
end;
thus L425: (C203 is  convex implies (C202 is_convex_on C204 & C204 is  convex))
proof
assume L426: C203 is  convex;
L427: (for B227 being Real holds ((( 0 ) <= B227 & B227 <= 1) implies (for B228 , B229 being Real holds ((B228 in C204 & B229 in C204 & ( ( B227 * B228 ) + ( ( 1 - B227 ) * B229 ) ) in C204) implies ( C202 . ( ( B227 * B228 ) + ( ( 1 - B227 ) * B229 ) ) ) <= ( ( B227 * ( C202 . B228 ) ) + ( ( 1 - B227 ) * ( C202 . B229 ) ) )))))
proof
let C207 being Real;
assume that
L428: ( 0 ) <= C207
and
L429: C207 <= 1;
let C208 , C209 being Real;
assume that
L430: C208 in C204
and
L431: C209 in C204
and
L432: ( ( C207 * C208 ) + ( ( 1 - C207 ) * C209 ) ) in C204;
L433: ( C202 . C208 ) = ( C203 . C208 ) by L417 , L430;
L434: ( C202 . ( ( C207 * C208 ) + ( ( 1 - C207 ) * C209 ) ) ) = ( C203 . ( ( C207 * C208 ) + ( ( 1 - C207 ) * C209 ) ) ) by L417 , L432;
L435: ( C202 . C209 ) = ( C203 . C209 ) by L417 , L431;
per cases ;
suppose L436: C207 = ( 0 );

thus L437: thesis by L436;
end;
suppose L438: C207 = 1;

thus L439: thesis by L438;
end;
suppose L440: (C207 <> ( 0 ) & C207 <> 1);

reconsider D83 = C209 as (VECTOR of ( RLS_Real ));
reconsider D84 = C208 as (VECTOR of ( RLS_Real ));
L441: ( ( 1 - C207 ) * D83 ) = ( ( 1 - C207 ) * C209 ) by BINOP_2:def 11;
L442: ( C207 * D84 ) = ( C207 * C208 ) by BINOP_2:def 11;
L443: ( C203 . ( ( C207 * D84 ) + ( ( 1 - C207 ) * D83 ) ) ) = ( C202 . ( ( C207 * C208 ) + ( ( 1 - C207 ) * C209 ) ) ) by L442 , L434 , L441 , BINOP_2:def 9;
L444: C207 < 1 by L429 , L440 , XXREAL_0:1;
L445: ( ( C207 * ( C202 . D84 ) ) + ( ( 1 - C207 ) * ( C202 . D83 ) ) ) = ( ( ( R_EAL C207 ) * ( C203 . D84 ) ) + ( ( R_EAL ( 1 - C207 ) ) * ( C203 . D83 ) ) ) by L433 , L435 , L332;
thus L446: thesis by L445 , L418 , L426 , L428 , L440 , L444 , L443 , L338;
end;
end;
thus L448: C202 is_convex_on C204 by L427 , L416 , RFUNCT_3:def 12;
L449: (for B230 , B231 being (VECTOR of ( RLS_Real )) holds (for B232 being Real holds ((( 0 ) < B232 & B232 < 1 & B230 in C204 & B231 in C204) implies ( ( B232 * B230 ) + ( ( 1 - B232 ) * B231 ) ) in C204)))
proof
let C210 , C211 being (VECTOR of ( RLS_Real ));
let C212 being Real;
assume that
L450: ( 0 ) < C212
and
L451: C212 < 1
and
L452: C210 in C204
and
L453: C211 in C204;
reconsider D85 = ( C203 . C210 ) , D86 = ( C203 . C211 ) as Real by L421 , L452 , L453;
L454: ( ( C212 * D85 ) + ( ( 1 - C212 ) * D86 ) ) = ( ( ( R_EAL C212 ) * ( C203 . C210 ) ) + ( ( R_EAL ( 1 - C212 ) ) * ( C203 . C211 ) ) ) by L332;
L455: ( C203 . ( ( C212 * C210 ) + ( ( 1 - C212 ) * C211 ) ) ) <= ( ( ( R_EAL C212 ) * ( C203 . C210 ) ) + ( ( R_EAL ( 1 - C212 ) ) * ( C203 . C211 ) ) ) by L418 , L426 , L450 , L451 , L338;
L456: ( C203 . ( ( C212 * C210 ) + ( ( 1 - C212 ) * C211 ) ) ) <> ( +infty ) by L455 , L454 , XXREAL_0:9;
thus L457: thesis by L456 , L417;
end;
thus L458: C204 is  convex by L449 , CONVEX1:def 2;
end;

thus L459: ((C202 is_convex_on C204 & C204 is  convex) implies C203 is  convex)
proof
assume that
L460: C202 is_convex_on C204
and
L461: C204 is  convex;
L462: (for B233 , B234 being (VECTOR of ( RLS_Real )) holds (for B235 being Real holds ((( 0 ) < B235 & B235 < 1) implies ( C203 . ( ( B235 * B233 ) + ( ( 1 - B235 ) * B234 ) ) ) <= ( ( ( R_EAL B235 ) * ( C203 . B233 ) ) + ( ( R_EAL ( 1 - B235 ) ) * ( C203 . B234 ) ) ))))
proof
let C213 , C214 being (VECTOR of ( RLS_Real ));
let C215 being Real;
assume that
L463: ( 0 ) < C215
and
L464: C215 < 1;
reconsider D87 = C214 as Real;
reconsider D88 = C213 as Real;
L465: ( 1 - C215 ) > ( 0 ) by L464 , XREAL_1:50;
per cases ;
suppose L466: (C213 in C204 & C214 in C204);

L467: ( C202 . D87 ) = ( C203 . C214 ) by L466 , L417;
L468: ( C202 . D88 ) = ( C203 . C213 ) by L417 , L466;
L469: ( ( C215 * ( C202 . D88 ) ) + ( ( 1 - C215 ) * ( C202 . D87 ) ) ) = ( ( ( R_EAL C215 ) * ( C203 . C213 ) ) + ( ( R_EAL ( 1 - C215 ) ) * ( C203 . C214 ) ) ) by L468 , L467 , L332;
L470: ( ( 1 - C215 ) * C214 ) = ( ( 1 - C215 ) * D87 ) by BINOP_2:def 11;
L471: ( C215 * C213 ) = ( C215 * D88 ) by BINOP_2:def 11;
L472: ( ( C215 * C213 ) + ( ( 1 - C215 ) * C214 ) ) = ( ( C215 * D88 ) + ( ( 1 - C215 ) * D87 ) ) by L471 , L470 , BINOP_2:def 9;
L473: ( ( C215 * C213 ) + ( ( 1 - C215 ) * C214 ) ) in C204 by L461 , L463 , L464 , L466 , CONVEX1:def 2;
L474: ( C202 . ( ( C215 * D88 ) + ( ( 1 - C215 ) * D87 ) ) ) = ( C203 . ( ( C215 * C213 ) + ( ( 1 - C215 ) * C214 ) ) ) by L473 , L417 , L472;
thus L475: thesis by L474 , L460 , L463 , L464 , L466 , L473 , L472 , L469 , RFUNCT_3:def 12;
end;
suppose L476: (C213 in C204 & (not C214 in C204));

L477: ( C203 . D87 ) = ( +infty ) by L476 , L417;
L478: ( ( R_EAL ( 1 - C215 ) ) * ( C203 . C214 ) ) = ( +infty ) by L477 , L465 , XXREAL_3:def 5;
reconsider D89 = ( C203 . D88 ) as Real by L421 , L476;
L479: ( C215 * D89 ) = ( ( R_EAL C215 ) * ( C203 . C213 ) ) by EXTREAL1:1;
L480: ( ( ( R_EAL C215 ) * ( C203 . C213 ) ) + ( ( R_EAL ( 1 - C215 ) ) * ( C203 . C214 ) ) ) = ( +infty ) by L479 , L478 , XXREAL_3:def 2;
thus L481: thesis by L480 , XXREAL_0:4;
end;
suppose L482: ((not C213 in C204) & C214 in C204);

L483: ( C203 . D88 ) = ( +infty ) by L482 , L417;
L484: ( ( R_EAL C215 ) * ( C203 . C213 ) ) = ( +infty ) by L483 , L463 , XXREAL_3:def 5;
reconsider D90 = ( C203 . D87 ) as Real by L421 , L482;
L485: ( ( 1 - C215 ) * D90 ) = ( ( R_EAL ( 1 - C215 ) ) * ( C203 . C214 ) ) by EXTREAL1:1;
L486: ( ( ( R_EAL C215 ) * ( C203 . C213 ) ) + ( ( R_EAL ( 1 - C215 ) ) * ( C203 . C214 ) ) ) = ( +infty ) by L485 , L484 , XXREAL_3:def 2;
thus L487: thesis by L486 , XXREAL_0:4;
end;
suppose L488: ((not C213 in C204) & (not C214 in C204));

L489: ( C203 . D87 ) = ( +infty ) by L488 , L417;
L490: ( ( R_EAL ( 1 - C215 ) ) * ( C203 . C214 ) ) = ( +infty ) by L489 , L465 , XXREAL_3:def 5;
L491: ( C203 . D88 ) = ( +infty ) by L417 , L488;
L492: ( ( ( R_EAL C215 ) * ( C203 . C213 ) ) + ( ( R_EAL ( 1 - C215 ) ) * ( C203 . C214 ) ) ) = ( +infty ) by L491 , L463 , L490 , XXREAL_3:def 2;
thus L493: thesis by L492 , XXREAL_0:4;
end;
end;
thus L495: thesis by L462 , L418 , L338;
end;

end;
begin
theorem
L460: (for B236 being RealLinearSpace holds (for B237 being (Subset of B236) holds (B237 is  convex iff (for B238 being non  empty Nat holds (for B239 being (FinSequence of ( REAL )) holds (for B240 , B241 being (FinSequence of (the carrier of B236)) holds ((( len B239 ) = B238 & ( len B240 ) = B238 & ( len B241 ) = B238 & ( Sum B239 ) = 1 & (for B242 being Nat holds (B242 in ( Seg B238 ) implies (( B239 . B242 ) > ( 0 ) & ( B241 . B242 ) = ( ( B239 . B242 ) * ( B240 /. B242 ) ) & ( B240 /. B242 ) in B237)))) implies ( Sum B241 ) in B237)))))))
proof
let C216 being RealLinearSpace;
let C217 being (Subset of C216);
thus L461: (C217 is  convex implies (for B243 being non  empty Nat holds (for B244 being (FinSequence of ( REAL )) holds (for B245 , B246 being (FinSequence of (the carrier of C216)) holds ((( len B244 ) = B243 & ( len B245 ) = B243 & ( len B246 ) = B243 & ( Sum B244 ) = 1 & (for B247 being Nat holds (B247 in ( Seg B243 ) implies (( B244 . B247 ) > ( 0 ) & ( B246 . B247 ) = ( ( B244 . B247 ) * ( B245 /. B247 ) ) & ( B245 /. B247 ) in C217)))) implies ( Sum B246 ) in C217)))))
proof
defpred S12[ Nat ] means (for B248 being (FinSequence of ( REAL )) holds (for B249 , B250 being (FinSequence of (the carrier of C216)) holds ((( len B248 ) = $1 & ( len B249 ) = $1 & ( len B250 ) = $1 & ( Sum B248 ) = 1 & (for B251 being Nat holds (B251 in ( Seg $1 ) implies (( B248 . B251 ) > ( 0 ) & ( B250 . B251 ) = ( ( B248 . B251 ) * ( B249 /. B251 ) ) & ( B249 /. B251 ) in C217)))) implies ( Sum B250 ) in C217)));
assume L462: C217 is  convex;
L463: (for B252 being non  empty Nat holds (S12[ B252 ] implies S12[ ( B252 + 1 ) ]))
proof
let C218 being non  empty Nat;
assume L464: S12[ C218 ];
thus L465: (for B253 being (FinSequence of ( REAL )) holds (for B254 , B255 being (FinSequence of (the carrier of C216)) holds ((( len B253 ) = ( C218 + 1 ) & ( len B254 ) = ( C218 + 1 ) & ( len B255 ) = ( C218 + 1 ) & ( Sum B253 ) = 1 & (for B256 being Nat holds (B256 in ( Seg ( C218 + 1 ) ) implies (( B253 . B256 ) > ( 0 ) & ( B255 . B256 ) = ( ( B253 . B256 ) * ( B254 /. B256 ) ) & ( B254 /. B256 ) in C217)))) implies ( Sum B255 ) in C217)))
proof
let C219 being (FinSequence of ( REAL ));
let C220 , C221 being (FinSequence of (the carrier of C216));
assume that
L466: ( len C219 ) = ( C218 + 1 )
and
L467: ( len C220 ) = ( C218 + 1 )
and
L468: ( len C221 ) = ( C218 + 1 )
and
L469: ( Sum C219 ) = 1
and
L470: (for B257 being Nat holds (B257 in ( Seg ( C218 + 1 ) ) implies (( C219 . B257 ) > ( 0 ) & ( C221 . B257 ) = ( ( C219 . B257 ) * ( C220 /. B257 ) ) & ( C220 /. B257 ) in C217)));
set D91 = ( 1 - ( C219 . ( C218 + 1 ) ) );
L471: ( dom ( C219 | C218 ) ) = ( Seg ( len ( C219 | C218 ) ) ) by FINSEQ_1:def 3;
L472: 1 <= ( C218 + 1 ) by NAT_1:14;
L473: 1 in ( Seg ( C218 + 1 ) ) by L472 , FINSEQ_1:1;
L474: ( C219 . 1 ) > ( 0 ) by L473 , L470;
L475: ( ( C219 | C218 ) . 1 ) > ( 0 ) by L474 , FINSEQ_3:112 , NAT_1:14;
L476: ( C219 | C218 ) = ( C219 | ( Seg C218 ) ) by FINSEQ_1:def 15;
L477: C219 = ( ( C219 | C218 ) ^ <* ( C219 . ( C218 + 1 ) ) *> ) by L476 , L466 , FINSEQ_3:55;
L478: 1 = ( ( Sum ( C219 | C218 ) ) + ( C219 . ( C218 + 1 ) ) ) by L477 , L469 , RVSUM_1:74;
L479: ( ( 0 ) + C218 ) <= ( 1 + C218 ) by XREAL_1:6;
L480: ( len ( C219 | C218 ) ) = C218 by L479 , L466 , FINSEQ_1:59;
L481: ( dom ( C219 | C218 ) ) = ( Seg C218 ) by L480 , FINSEQ_1:def 3;
L482: ( Seg C218 ) c= ( Seg ( C218 + 1 ) ) by L479 , FINSEQ_1:5;
L483: (for B258 being Nat holds (B258 in ( dom ( C219 | C218 ) ) implies ( 0 ) <= ( ( C219 | C218 ) . B258 )))
proof
let C222 being Nat;
assume L484: C222 in ( dom ( C219 | C218 ) );
L485: C222 <= C218 by L484 , L481 , FINSEQ_1:1;
L486: ( C219 . C222 ) > ( 0 ) by L470 , L481 , L482 , L484;
thus L487: thesis by L486 , L485 , FINSEQ_3:112;
end;
set D92 = ( C220 | C218 );
set D93 = ( ( 1 / D91 ) * ( C219 | C218 ) );
deffunc H2(Nat) = ( ( D93 . $1 ) * ( D92 /. $1 ) );
consider C223 being (FinSequence of (the carrier of C216)) such that L488: ( len C223 ) = C218 and L489: (for B259 being Nat holds (B259 in ( dom C223 ) implies ( C223 . B259 ) = H2(B259))) from FINSEQ_2:sch 1;
L490: ( len D92 ) = C218 by L467 , L479 , FINSEQ_1:59;
L491: ( dom D92 ) = ( Seg C218 ) by L490 , FINSEQ_1:def 3;
L492: (for B260 being (Element of ( NAT )) holds (for B261 being (VECTOR of C216) holds ((B260 in ( dom C223 ) & B261 = ( ( C221 | C218 ) . B260 )) implies ( C223 . B260 ) = ( ( 1 / D91 ) * B261 ))))
proof
let C224 being (Element of ( NAT ));
let C225 being (VECTOR of C216);
assume that
L493: C224 in ( dom C223 )
and
L494: C225 = ( ( C221 | C218 ) . C224 );
L495: C224 in ( Seg C218 ) by L488 , L493 , FINSEQ_1:def 3;
L496: ( D92 /. C224 ) = ( C220 /. C224 ) by L495 , L491 , FINSEQ_4:70;
L497: C224 <= C218 by L495 , FINSEQ_1:1;
L498: ( ( C221 | C218 ) . C224 ) = ( C221 . C224 ) by L497 , FINSEQ_3:112;
L499: ( C223 . C224 ) = ( ( D93 . C224 ) * ( D92 /. C224 ) ) by L489 , L493
.= ( ( ( 1 / D91 ) * ( ( C219 | C218 ) . C224 ) ) * ( D92 /. C224 ) ) by RVSUM_1:44
.= ( ( ( 1 / D91 ) * ( C219 . C224 ) ) * ( D92 /. C224 ) ) by L497 , FINSEQ_3:112
.= ( ( 1 / D91 ) * ( ( C219 . C224 ) * ( D92 /. C224 ) ) ) by RLVECT_1:def 7
.= ( ( 1 / D91 ) * C225 ) by L470 , L482 , L494 , L495 , L498 , L496;
thus L500: thesis by L499;
end;
L501: 1 <= C218 by NAT_1:14;
L502: 1 in ( Seg C218 ) by L501 , FINSEQ_1:1;
L503: D91 > ( 0 ) by L502 , L478 , L481 , L483 , L475 , RVSUM_1:85;
L504: ( dom D93 ) = ( Seg ( len D93 ) ) by FINSEQ_1:def 3;
L505: ( Seg ( len D93 ) ) = ( Seg ( len ( C219 | C218 ) ) ) by L504 , L471 , VALUED_1:def 5;
L506: ( len D93 ) = C218 by L505 , L480 , FINSEQ_1:6;
L507: ( C218 + 1 ) in ( Seg ( C218 + 1 ) ) by FINSEQ_1:4;
L508: ( C220 /. ( C218 + 1 ) ) in C217 by L507 , L470;
L509: D91 < 1 by L470 , L507 , XREAL_1:44;
L510: ( C221 | C218 ) = ( C221 | ( Seg C218 ) ) by FINSEQ_1:def 15;
L511: C221 = ( ( C221 | C218 ) ^ <* ( C221 . ( C218 + 1 ) ) *> ) by L510 , L468 , FINSEQ_3:55;
L512: ( C221 . ( C218 + 1 ) ) = ( ( C219 . ( C218 + 1 ) ) * ( C220 /. ( C218 + 1 ) ) ) by L470 , L507;
L513: ( Sum C221 ) = ( ( Sum ( C221 | C218 ) ) + ( Sum <* ( ( C219 . ( C218 + 1 ) ) * ( C220 /. ( C218 + 1 ) ) ) *> ) ) by L512 , L511 , RLVECT_1:41
.= ( ( Sum ( C221 | C218 ) ) + ( ( 1 - D91 ) * ( C220 /. ( C218 + 1 ) ) ) ) by RLVECT_1:44;
L514: ( dom C223 ) = ( Seg C218 ) by L488 , FINSEQ_1:def 3;
L515: (for B262 being Nat holds (B262 in ( Seg C218 ) implies (( D93 . B262 ) > ( 0 ) & ( C223 . B262 ) = ( ( D93 . B262 ) * ( D92 /. B262 ) ) & ( D92 /. B262 ) in C217)))
proof
L516: ( D91 " ) > ( 0 ) by L503;
L517: ( 1 / D91 ) > ( 0 ) by L516 , XCMPLX_1:215;
let C226 being Nat;
assume L518: C226 in ( Seg C218 );
L519: C226 <= C218 by L518 , FINSEQ_1:1;
L520: ( D93 . C226 ) = ( ( 1 / D91 ) * ( ( C219 | C218 ) . C226 ) ) by RVSUM_1:44
.= ( ( 1 / D91 ) * ( C219 . C226 ) ) by L519 , FINSEQ_3:112;
L521: ( Seg C218 ) c= ( Seg ( C218 + 1 ) ) by L479 , FINSEQ_1:5;
L522: ( C219 . C226 ) > ( 0 ) by L521 , L470 , L518;
thus L523: ( D93 . C226 ) > ( 0 ) by L522 , L517 , L520 , XREAL_1:129;
thus L524: ( C223 . C226 ) = ( ( D93 . C226 ) * ( D92 /. C226 ) ) by L489 , L514 , L518;
L525: ( C220 /. C226 ) in C217 by L470 , L518 , L521;
thus L526: thesis by L525 , L491 , L518 , FINSEQ_4:70;
end;
L527: ( len ( C221 | C218 ) ) = C218 by L468 , L479 , FINSEQ_1:59;
L528: ( D91 * ( Sum C223 ) ) = ( D91 * ( ( 1 / D91 ) * ( Sum ( C221 | C218 ) ) ) ) by L527 , L488 , L492 , RLVECT_1:39
.= ( ( D91 * ( 1 / D91 ) ) * ( Sum ( C221 | C218 ) ) ) by RLVECT_1:def 7
.= ( 1 * ( Sum ( C221 | C218 ) ) ) by L503 , XCMPLX_1:106
.= ( Sum ( C221 | C218 ) ) by RLVECT_1:def 8;
L529: ( Sum D93 ) = ( ( 1 / D91 ) * D91 ) by L478 , RVSUM_1:87
.= 1 by L503 , XCMPLX_1:106;
L530: ( Sum C223 ) in C217 by L529 , L464 , L488 , L506 , L490 , L515;
thus L531: thesis by L530 , L462 , L508 , L509 , L503 , L513 , L528 , CONVEX1:def 2;
end;

end;
L466: S12[ 1 ]
proof
let C227 being (FinSequence of ( REAL ));
let C228 , C229 being (FinSequence of (the carrier of C216));
assume that
L467: ( len C227 ) = 1
and
L468: ( len C228 ) = 1
and
L469: ( len C229 ) = 1
and
L470: ( Sum C227 ) = 1
and
L471: (for B263 being Nat holds (B263 in ( Seg 1 ) implies (( C227 . B263 ) > ( 0 ) & ( C229 . B263 ) = ( ( C227 . B263 ) * ( C228 /. B263 ) ) & ( C228 /. B263 ) in C217)));
L472: C227 = <* ( C227 . 1 ) *> by L467 , FINSEQ_1:40;
L473: ( C227 . 1 ) = 1 by L472 , L470 , FINSOP_1:11;
L474: 1 in ( Seg 1 ) by FINSEQ_1:2 , TARSKI:def 1;
L475: ( C229 . 1 ) = ( ( C227 . 1 ) * ( C228 /. 1 ) ) by L474 , L471;
L476: ( C229 . 1 ) = ( C228 /. 1 ) by L475 , L473 , RLVECT_1:def 8;
L477: C229 = <* ( C229 . 1 ) *> by L469 , FINSEQ_1:40;
L478: ( C228 /. 1 ) in C217 by L471 , L474;
thus L479: thesis by L478 , L477 , L476 , RLVECT_1:44;
end;
thus L480: (for B264 being non  empty Nat holds S12[ B264 ]) from NAT_1:sch 10(L466 , L463);
end;

thus L481: ((for B265 being non  empty Nat holds (for B266 being (FinSequence of ( REAL )) holds (for B267 , B268 being (FinSequence of (the carrier of C216)) holds ((( len B266 ) = B265 & ( len B267 ) = B265 & ( len B268 ) = B265 & ( Sum B266 ) = 1 & (for B269 being Nat holds (B269 in ( Seg B265 ) implies (( B266 . B269 ) > ( 0 ) & ( B268 . B269 ) = ( ( B266 . B269 ) * ( B267 /. B269 ) ) & ( B267 /. B269 ) in C217)))) implies ( Sum B268 ) in C217)))) implies C217 is  convex)
proof
assume L482: (for B270 being non  empty Nat holds (for B271 being (FinSequence of ( REAL )) holds (for B272 , B273 being (FinSequence of (the carrier of C216)) holds ((( len B271 ) = B270 & ( len B272 ) = B270 & ( len B273 ) = B270 & ( Sum B271 ) = 1 & (for B274 being Nat holds (B274 in ( Seg B270 ) implies (( B271 . B274 ) > ( 0 ) & ( B273 . B274 ) = ( ( B271 . B274 ) * ( B272 /. B274 ) ) & ( B272 /. B274 ) in C217)))) implies ( Sum B273 ) in C217))));
L483: (for B275 , B276 being (VECTOR of C216) holds (for B277 being Real holds ((( 0 ) < B277 & B277 < 1 & B275 in C217 & B276 in C217) implies ( ( B277 * B275 ) + ( ( 1 - B277 ) * B276 ) ) in C217)))
proof
let C230 , C231 being (VECTOR of C216);
let C232 being Real;
assume that
L484: ( 0 ) < C232
and
L485: C232 < 1
and
L486: C230 in C217
and
L487: C231 in C217;
set D94 = <* ( C232 * C230 ) , ( ( 1 - C232 ) * C231 ) *>;
set D95 = <* C230 , C231 *>;
set D96 = <* C232 , ( 1 - C232 ) *>;
L488: (for B278 being Nat holds (B278 in ( Seg 2 ) implies (( D96 . B278 ) > ( 0 ) & ( D94 . B278 ) = ( ( D96 . B278 ) * ( D95 /. B278 ) ) & ( D95 /. B278 ) in C217)))
proof
let C233 being Nat;
assume L489: C233 in ( Seg 2 );
per cases  by L489 , FINSEQ_1:2 , TARSKI:def 2;
suppose L490: C233 = 1;

L491: ( D95 /. C233 ) = C230 by L490 , FINSEQ_4:17;
L492: ( D96 . C233 ) = C232 by L490 , FINSEQ_1:44;
thus L493: thesis by L492 , L484 , L486 , L490 , L491 , FINSEQ_1:44;
end;
suppose L494: C233 = 2;

L495: ( D95 /. C233 ) = C231 by L494 , FINSEQ_4:17;
L496: ( D96 . C233 ) = ( 1 - C232 ) by L494 , FINSEQ_1:44;
thus L497: thesis by L496 , L485 , L487 , L494 , L495 , FINSEQ_1:44 , XREAL_1:50;
end;
end;
L499: ( len D95 ) = 2 by FINSEQ_1:44;
L500: ( Sum D96 ) = ( C232 + ( 1 - C232 ) ) by RVSUM_1:77
.= 1;
L501: ( len D94 ) = 2 by FINSEQ_1:44;
L502: ( len D96 ) = 2 by FINSEQ_1:44;
L503: ( Sum D94 ) in C217 by L502 , L482 , L499 , L501 , L500 , L488;
thus L504: thesis by L503 , RLVECT_1:45;
end;
thus L505: thesis by L483 , CONVEX1:def 2;
end;

end;
begin
L482: (for B279 being RealLinearSpace holds (for B280 being (Function of (the carrier of B279) , ( ExtREAL )) holds (for B281 being non  empty (Element of ( NAT )) holds (for B282 being (FinSequence of ( REAL )) holds (for B283 being (FinSequence of ( ExtREAL )) holds (for B284 being (FinSequence of (the carrier of B279)) holds ((( len B283 ) = B281 & (for B285 being (VECTOR of B279) holds ( B280 . B285 ) <> ( -infty )) & (for B286 being (Element of ( NAT )) holds (B286 in ( Seg B281 ) implies (( B282 . B286 ) >= ( 0 ) & ( B283 . B286 ) = ( ( R_EAL ( B282 . B286 ) ) * ( B280 . ( B284 /. B286 ) ) ))))) implies (not ( -infty ) in ( rng B283 )))))))))
proof
let C234 being RealLinearSpace;
let C235 being (Function of (the carrier of C234) , ( ExtREAL ));
let C236 being non  empty (Element of ( NAT ));
let C237 being (FinSequence of ( REAL ));
let C238 being (FinSequence of ( ExtREAL ));
let C239 being (FinSequence of (the carrier of C234));
assume that
L483: ( len C238 ) = C236
and
L484: (for B287 being (VECTOR of C234) holds ( C235 . B287 ) <> ( -infty ))
and
L485: (for B288 being (Element of ( NAT )) holds (B288 in ( Seg C236 ) implies (( C237 . B288 ) >= ( 0 ) & ( C238 . B288 ) = ( ( R_EAL ( C237 . B288 ) ) * ( C235 . ( C239 /. B288 ) ) ))));
L486: (for B289 being set holds (B289 in ( dom C238 ) implies ( C238 . B289 ) <> ( -infty )))
proof
let C240 being set;
assume L487: C240 in ( dom C238 );
reconsider D97 = C240 as (Element of ( NAT )) by L487;
L488: D97 in ( Seg C236 ) by L483 , L487 , FINSEQ_1:def 3;
L489: ( C237 . D97 ) >= ( 0 ) by L488 , L485;
L490: ( C238 . D97 ) = ( ( R_EAL ( C237 . D97 ) ) * ( C235 . ( C239 /. D97 ) ) ) by L485 , L488;
per cases ;
suppose L491: ( R_EAL ( C237 . D97 ) ) = ( 0. );

thus L492: thesis by L491 , L490;
end;
suppose L493: ( C235 . ( C239 /. D97 ) ) <> ( +infty );

reconsider D98 = ( C235 . ( C239 /. D97 ) ) as Real by L493 , L484 , XXREAL_0:14;
L494: ( C238 . D97 ) = ( ( C237 . D97 ) * D98 ) by L490 , EXTREAL1:1;
thus L495: thesis by L494;
end;
suppose L496: (( R_EAL ( C237 . D97 ) ) <> ( 0. ) & ( C235 . ( C239 /. D97 ) ) = ( +infty ));

thus L497: thesis by L496 , L489 , L490;
end;
end;
thus L499: thesis by L486 , FUNCT_1:def 3;
end;
theorem
L500: (for B290 being RealLinearSpace holds (for B291 being (Function of (the carrier of B290) , ( ExtREAL )) holds ((for B292 being (VECTOR of B290) holds ( B291 . B292 ) <> ( -infty )) implies (B291 is  convex iff (for B293 being non  empty (Element of ( NAT )) holds (for B294 being (FinSequence of ( REAL )) holds (for B295 being (FinSequence of ( ExtREAL )) holds (for B296 , B297 being (FinSequence of (the carrier of B290)) holds ((( len B294 ) = B293 & ( len B295 ) = B293 & ( len B296 ) = B293 & ( len B297 ) = B293 & ( Sum B294 ) = 1 & (for B298 being (Element of ( NAT )) holds (B298 in ( Seg B293 ) implies (( B294 . B298 ) > ( 0 ) & ( B297 . B298 ) = ( ( B294 . B298 ) * ( B296 /. B298 ) ) & ( B295 . B298 ) = ( ( R_EAL ( B294 . B298 ) ) * ( B291 . ( B296 /. B298 ) ) ))))) implies ( B291 . ( Sum B297 ) ) <= ( Sum B295 ))))))))))
proof
let C241 being RealLinearSpace;
let C242 being (Function of (the carrier of C241) , ( ExtREAL ));
assume L501: (for B299 being (VECTOR of C241) holds ( C242 . B299 ) <> ( -infty ));
thus L502: (C242 is  convex implies (for B300 being non  empty (Element of ( NAT )) holds (for B301 being (FinSequence of ( REAL )) holds (for B302 being (FinSequence of ( ExtREAL )) holds (for B303 , B304 being (FinSequence of (the carrier of C241)) holds ((( len B301 ) = B300 & ( len B302 ) = B300 & ( len B303 ) = B300 & ( len B304 ) = B300 & ( Sum B301 ) = 1 & (for B305 being (Element of ( NAT )) holds (B305 in ( Seg B300 ) implies (( B301 . B305 ) > ( 0 ) & ( B304 . B305 ) = ( ( B301 . B305 ) * ( B303 /. B305 ) ) & ( B302 . B305 ) = ( ( R_EAL ( B301 . B305 ) ) * ( C242 . ( B303 /. B305 ) ) ))))) implies ( C242 . ( Sum B304 ) ) <= ( Sum B302 )))))))
proof
assume L503: C242 is  convex;
let C243 being non  empty (Element of ( NAT ));
let C244 being (FinSequence of ( REAL ));
let C245 being (FinSequence of ( ExtREAL ));
let C246 , C247 being (FinSequence of (the carrier of C241));
assume that
L504: ( len C244 ) = C243
and
L505: ( len C245 ) = C243
and
L506: ( len C246 ) = C243
and
L507: ( len C247 ) = C243
and
L508: ( Sum C244 ) = 1
and
L509: (for B306 being (Element of ( NAT )) holds (B306 in ( Seg C243 ) implies (( C244 . B306 ) > ( 0 ) & ( C247 . B306 ) = ( ( C244 . B306 ) * ( C246 /. B306 ) ) & ( C245 . B306 ) = ( ( R_EAL ( C244 . B306 ) ) * ( C242 . ( C246 /. B306 ) ) ))));
L510: (for B307 being (Element of ( NAT )) holds (B307 in ( Seg C243 ) implies (( C244 . B307 ) >= ( 0 ) & ( C245 . B307 ) = ( ( R_EAL ( C244 . B307 ) ) * ( C242 . ( C246 /. B307 ) ) )))) by L509;
L511: (not ( -infty ) in ( rng C245 )) by L510 , L501 , L505 , L482;
per cases ;
suppose L512: (for B308 being (Element of ( NAT )) holds (B308 in ( Seg C243 ) implies ( C242 . ( C246 /. B308 ) ) <> ( +infty )));

defpred S13[ set , set ] means $2 = [ ( C246 /. $1 ) , ( C242 . ( C246 /. $1 ) ) ];
reconsider D99 = ( Prod_of_RLS (C241 , ( RLS_Real )) ) as RealLinearSpace;
L513: (for B309 being (Element of ( NAT )) holds (B309 in ( Seg C243 ) implies ( C242 . ( C246 /. B309 ) ) in ( REAL )))
proof
let C248 being (Element of ( NAT ));
assume L514: C248 in ( Seg C243 );
L515: ( C242 . ( C246 /. C248 ) ) <> ( +infty ) by L514 , L512;
thus L516: thesis by L515 , L501 , XXREAL_0:14;
end;
L517: (for B310 being (Element of ( NAT )) holds (B310 in ( Seg C243 ) implies (ex B311 being (Element of D99) st S13[ B310 , B311 ])))
proof
let C249 being (Element of ( NAT ));
assume L518: C249 in ( Seg C243 );
reconsider D100 = ( C242 . ( C246 /. C249 ) ) as Real by L518 , L513;
set D101 = [ ( C246 /. C249 ) , D100 ];
reconsider D102 = D101 as (Element of D99);
take D102;
thus L519: thesis;
end;
consider C250 being (FinSequence of (the carrier of D99)) such that L520: ( dom C250 ) = ( Seg C243 ) and L521: (for B312 being (Element of ( NAT )) holds (B312 in ( Seg C243 ) implies S13[ B312 , ( C250 /. B312 ) ])) from RECDEF_1:sch 17(L517);
L522: ( len C250 ) = C243 by L520 , FINSEQ_1:def 3;
defpred S14[ set , set ] means $2 = ( C245 . $1 );
L523: (for B313 being (Element of ( NAT )) holds (B313 in ( Seg C243 ) implies (ex B314 being (Element of ( RLS_Real )) st S14[ B313 , B314 ])))
proof
let C251 being (Element of ( NAT ));
assume L524: C251 in ( Seg C243 );
reconsider D103 = ( C242 . ( C246 /. C251 ) ) as Real by L524 , L513;
L525: ( C245 . C251 ) = ( ( R_EAL ( C244 . C251 ) ) * ( C242 . ( C246 /. C251 ) ) ) by L509 , L524;
L526: ( C245 . C251 ) = ( ( C244 . C251 ) * D103 ) by L525 , EXTREAL1:1;
reconsider D104 = ( C245 . C251 ) as (Element of ( RLS_Real )) by L526;
take D104;
thus L527: thesis;
end;
consider C252 being (FinSequence of (the carrier of ( RLS_Real ))) such that L528: ( dom C252 ) = ( Seg C243 ) and L529: (for B315 being (Element of ( NAT )) holds (B315 in ( Seg C243 ) implies S14[ B315 , ( C252 /. B315 ) ])) from RECDEF_1:sch 17(L523);
L530: ( len C252 ) = C243 by L528 , FINSEQ_1:def 3;
reconsider D105 = ( epigraph C242 ) as (Subset of D99);
deffunc H3(Nat) = ( ( C244 . $1 ) * ( C250 /. $1 ) );
consider C253 being (FinSequence of (the carrier of D99)) such that L531: ( len C253 ) = C243 and L532: (for B316 being Nat holds (B316 in ( dom C253 ) implies ( C253 . B316 ) = H3(B316))) from FINSEQ_2:sch 1;
L533: ( dom C253 ) = ( Seg C243 ) by L531 , FINSEQ_1:def 3;
L534: (for B317 being Nat holds (B317 in ( Seg C243 ) implies (( C244 . B317 ) > ( 0 ) & ( C253 . B317 ) = ( ( C244 . B317 ) * ( C250 /. B317 ) ) & ( C250 /. B317 ) in D105)))
proof
let C254 being Nat;
assume L535: C254 in ( Seg C243 );
thus L536: ( C244 . C254 ) > ( 0 ) by L535 , L509;
thus L537: ( C253 . C254 ) = ( ( C244 . C254 ) * ( C250 /. C254 ) ) by L532 , L533 , L535;
reconsider D106 = ( C242 . ( C246 /. C254 ) ) as Real by L513 , L535;
L538: ( C242 . ( C246 /. C254 ) ) = ( R_EAL D106 );
L539: [ ( C246 /. C254 ) , D106 ] in { [ B318 , B319 ] where B318 is (Element of C241) , B319 is (Element of ( REAL )) : ( C242 . B318 ) <= ( R_EAL B319 ) } by L538;
thus L540: thesis by L539 , L521 , L535;
end;
L541: D105 is  convex by L503 , L330;
L542: ( Sum C253 ) in D105 by L541 , L504 , L508 , L522 , L531 , L534 , L460;
L543: (for B320 being (Element of ( NAT )) holds (B320 in ( Seg C243 ) implies ( C252 . B320 ) = ( C245 . B320 )))
proof
let C255 being (Element of ( NAT ));
assume L544: C255 in ( Seg C243 );
L545: ( C252 /. C255 ) = ( C252 . C255 ) by L544 , L528 , PARTFUN1:def 6;
thus L546: thesis by L545 , L529 , L544;
end;
L547: (for B321 being (Element of ( NAT )) holds (B321 in ( Seg C243 ) implies ( C253 . B321 ) = [ ( C247 . B321 ) , ( C252 . B321 ) ]))
proof
let C256 being (Element of ( NAT ));
assume L548: C256 in ( Seg C243 );
reconsider D107 = ( C242 . ( C246 /. C256 ) ) as Real by L548 , L513;
L549: ( C250 /. C256 ) = [ ( C246 /. C256 ) , D107 ] by L521 , L548;
L550: ( ( C244 . C256 ) * ( C250 /. C256 ) ) = [ ( ( C244 . C256 ) * ( C246 /. C256 ) ) , ( ( C244 . C256 ) * D107 ) ] by L549 , L188;
L551: ( C253 . C256 ) = [ ( ( C244 . C256 ) * ( C246 /. C256 ) ) , ( ( C244 . C256 ) * D107 ) ] by L550 , L532 , L533 , L548;
L552: ( C253 . C256 ) = [ ( C247 . C256 ) , ( ( C244 . C256 ) * D107 ) ] by L551 , L509 , L548;
L553: ( C245 . C256 ) = ( ( R_EAL ( C244 . C256 ) ) * ( C242 . ( C246 /. C256 ) ) ) by L509 , L548;
L554: ( C245 . C256 ) = ( ( C244 . C256 ) * D107 ) by L553 , EXTREAL1:1;
thus L555: thesis by L554 , L543 , L548 , L552;
end;
L556: ( Sum C253 ) = [ ( Sum C247 ) , ( Sum C252 ) ] by L547 , L507 , L531 , L530 , L142;
L557: [ ( Sum C247 ) , ( Sum C245 ) ] in D105 by L556 , L505 , L542 , L543 , L530 , L277;
consider C257 being (Element of C241), C258 being (Element of ( REAL )) such that L558: [ ( Sum C247 ) , ( Sum C245 ) ] = [ C257 , C258 ] and L559: ( C242 . C257 ) <= ( R_EAL C258 ) by L557;
L560: C257 = ( Sum C247 ) by L558 , XTUPLE_0:1;
thus L561: thesis by L560 , L558 , L559 , XTUPLE_0:1;
end;
suppose L562: (ex B322 being (Element of ( NAT )) st (B322 in ( Seg C243 ) & ( C242 . ( C246 /. B322 ) ) = ( +infty )));

consider C259 being (Element of ( NAT )) such that L563: C259 in ( Seg C243 ) and L564: ( C242 . ( C246 /. C259 ) ) = ( +infty ) by L562;
L565: ( C245 . C259 ) = ( ( R_EAL ( C244 . C259 ) ) * ( C242 . ( C246 /. C259 ) ) ) by L509 , L563;
L566: C259 in ( dom C245 ) by L505 , L563 , FINSEQ_1:def 3;
L567: ( C244 . C259 ) > ( 0 ) by L509 , L563;
L568: ( C245 . C259 ) = ( +infty ) by L567 , L564 , L565 , XXREAL_3:def 5;
L569: ( Sum C245 ) = ( +infty ) by L568 , L511 , L566 , L241 , FUNCT_1:3;
thus L570: thesis by L569 , XXREAL_0:4;
end;
end;

thus L572: ((for B323 being non  empty (Element of ( NAT )) holds (for B324 being (FinSequence of ( REAL )) holds (for B325 being (FinSequence of ( ExtREAL )) holds (for B326 , B327 being (FinSequence of (the carrier of C241)) holds ((( len B324 ) = B323 & ( len B325 ) = B323 & ( len B326 ) = B323 & ( len B327 ) = B323 & ( Sum B324 ) = 1 & (for B328 being (Element of ( NAT )) holds (B328 in ( Seg B323 ) implies (( B324 . B328 ) > ( 0 ) & ( B327 . B328 ) = ( ( B324 . B328 ) * ( B326 /. B328 ) ) & ( B325 . B328 ) = ( ( R_EAL ( B324 . B328 ) ) * ( C242 . ( B326 /. B328 ) ) ))))) implies ( C242 . ( Sum B327 ) ) <= ( Sum B325 )))))) implies C242 is  convex)
proof
assume L573: (for B329 being non  empty (Element of ( NAT )) holds (for B330 being (FinSequence of ( REAL )) holds (for B331 being (FinSequence of ( ExtREAL )) holds (for B332 , B333 being (FinSequence of (the carrier of C241)) holds ((( len B330 ) = B329 & ( len B331 ) = B329 & ( len B332 ) = B329 & ( len B333 ) = B329 & ( Sum B330 ) = 1 & (for B334 being (Element of ( NAT )) holds (B334 in ( Seg B329 ) implies (( B330 . B334 ) > ( 0 ) & ( B333 . B334 ) = ( ( B330 . B334 ) * ( B332 /. B334 ) ) & ( B331 . B334 ) = ( ( R_EAL ( B330 . B334 ) ) * ( C242 . ( B332 /. B334 ) ) ))))) implies ( C242 . ( Sum B333 ) ) <= ( Sum B331 ))))));
L574: (for B335 , B336 being (VECTOR of C241) holds (for B337 being Real holds ((( 0 ) < B337 & B337 < 1) implies ( C242 . ( ( B337 * B335 ) + ( ( 1 - B337 ) * B336 ) ) ) <= ( ( ( R_EAL B337 ) * ( C242 . B335 ) ) + ( ( R_EAL ( 1 - B337 ) ) * ( C242 . B336 ) ) ))))
proof
set D108 = 2;
let C260 , C261 being (VECTOR of C241);
let C262 being Real;
assume that
L575: ( 0 ) < C262
and
L576: C262 < 1;
reconsider D109 = <* ( ( R_EAL C262 ) * ( C242 . C260 ) ) , ( ( R_EAL ( 1 - C262 ) ) * ( C242 . C261 ) ) *> as (FinSequence of ( ExtREAL ));
reconsider D110 = <* ( C262 * C260 ) , ( ( 1 - C262 ) * C261 ) *> as (FinSequence of (the carrier of C241));
reconsider D111 = <* C260 , C261 *> as (FinSequence of (the carrier of C241));
reconsider D112 = <* C262 , ( 1 - C262 ) *> as (FinSequence of ( REAL ));
L577: (for B338 being (Element of ( NAT )) holds (B338 in ( Seg D108 ) implies (( D112 . B338 ) > ( 0 ) & ( D110 . B338 ) = ( ( D112 . B338 ) * ( D111 /. B338 ) ) & ( D109 . B338 ) = ( ( R_EAL ( D112 . B338 ) ) * ( C242 . ( D111 /. B338 ) ) ))))
proof
let C263 being (Element of ( NAT ));
assume L578: C263 in ( Seg D108 );
per cases  by L578 , FINSEQ_1:2 , TARSKI:def 2;
suppose L579: C263 = 1;

L580: ( D111 /. C263 ) = C260 by L579 , FINSEQ_4:17;
L581: ( D112 . C263 ) = C262 by L579 , FINSEQ_1:44;
thus L582: thesis by L581 , L575 , L579 , L580 , FINSEQ_1:44;
end;
suppose L583: C263 = 2;

L584: ( D111 /. C263 ) = C261 by L583 , FINSEQ_4:17;
L585: ( D112 . C263 ) = ( 1 - C262 ) by L583 , FINSEQ_1:44;
thus L586: thesis by L585 , L576 , L583 , L584 , FINSEQ_1:44 , XREAL_1:50;
end;
end;
L588: ( len D112 ) = D108 by FINSEQ_1:44;
L589: ( Sum D112 ) = ( C262 + ( 1 - C262 ) ) by RVSUM_1:77
.= 1;
L590: ( len D110 ) = D108 by FINSEQ_1:44;
L591: ( Sum D110 ) = ( ( C262 * C260 ) + ( ( 1 - C262 ) * C261 ) ) by RLVECT_1:45;
L592: ( len D111 ) = D108 by FINSEQ_1:44;
L593: ( len D109 ) = D108 by FINSEQ_1:44;
L594: ( Sum D109 ) = ( ( ( R_EAL C262 ) * ( C242 . C260 ) ) + ( ( R_EAL ( 1 - C262 ) ) * ( C242 . C261 ) ) ) by EXTREAL1:9;
thus L595: thesis by L594 , L573 , L588 , L593 , L592 , L590 , L589 , L577 , L591;
end;
thus L596: thesis by L574 , L501 , L338;
end;

end;
L573: (for B339 being (FinSequence of ( REAL )) holds (ex B340 being (Permutation of ( dom B339 )) st (ex B341 being (Element of ( NAT )) st (for B342 being (Element of ( NAT )) holds (B342 in ( dom B339 ) implies (B342 in ( Seg B341 ) iff ( B339 . ( B340 . B342 ) ) <> ( 0 )))))))
proof
deffunc H4(Nat) = $1;
let C264 being (FinSequence of ( REAL ));
defpred S15[ Nat ] means ( C264 . $1 ) <> ( 0 );
defpred S16[ Nat ] means ( C264 . $1 ) = ( 0 );
set D113 = { H4(B343) where B343 is (Element of ( NAT )) : (H4(B343) in ( dom C264 ) & S15[ B343 ]) };
set D114 = { H4(B344) where B344 is (Element of ( NAT )) : (H4(B344) in ( dom C264 ) & S16[ B344 ]) };
set D115 = ( len C264 );
L574: D113 c= ( dom C264 ) from FRAENKEL:sch 17;
L575: D113 c= ( Seg D115 ) by L574 , FINSEQ_1:def 3;
reconsider D116 = D113 as  finite set by L574;
L576: ( rng ( Sgm D116 ) ) = D116 by L575 , FINSEQ_1:def 13;
L577: D114 c= ( dom C264 ) from FRAENKEL:sch 17;
L578: D114 c= ( Seg D115 ) by L577 , FINSEQ_1:def 3;
reconsider D117 = D114 as  finite set by L577;
L579: ( rng ( Sgm D117 ) ) = D117 by L578 , FINSEQ_1:def 13;
L580: (for B345 being set holds (not B345 in ( D116 /\ D117 )))
proof
let C265 being set;
assume L581: C265 in ( D116 /\ D117 );
L582: C265 in D117 by L581 , XBOOLE_0:def 4;
L583: (ex B346 being (Element of ( NAT )) st (C265 = B346 & B346 in ( dom C264 ) & ( C264 . B346 ) = ( 0 ))) by L582;
L584: C265 in D116 by L581 , XBOOLE_0:def 4;
L585: (ex B347 being (Element of ( NAT )) st (C265 = B347 & B347 in ( dom C264 ) & ( C264 . B347 ) <> ( 0 ))) by L584;
thus L586: contradiction by L585 , L583;
end;
L587: ( D116 /\ D117 ) = ( {} ) by L580 , XBOOLE_0:def 1;
L588: D116 misses D117 by L587 , XBOOLE_0:def 7;
set D118 = ( ( Sgm D116 ) ^ ( Sgm D117 ) );
L589: ( Sgm D117 ) is  one-to-one by L578 , FINSEQ_3:92;
L590: ( Sgm D116 ) is  one-to-one by L575 , FINSEQ_3:92;
L591: D118 is  one-to-one by L590 , L576 , L579 , L588 , L589 , FINSEQ_3:91;
set D119 = ( len ( Sgm D116 ) );
L592: ( len ( Sgm D116 ) ) = ( card D116 ) by L575 , FINSEQ_3:39;
L593: (for B348 being set holds (B348 in ( dom C264 ) iff (B348 in D116 or B348 in D117)))
proof
let C266 being set;
thus L594: (C266 in ( dom C264 ) implies (C266 in D116 or C266 in D117))
proof
assume L595: C266 in ( dom C264 );
reconsider D120 = C266 as (Element of ( NAT )) by L595;
per cases ;
suppose L596: ( C264 . D120 ) <> ( 0 );

thus L597: thesis by L596 , L595;
end;
suppose L598: ( C264 . D120 ) = ( 0 );

thus L599: thesis by L598 , L595;
end;
end;

thus L601: thesis by L574 , L577;
end;
L602: ( D116 \/ D117 ) = ( dom C264 ) by L593 , XBOOLE_0:def 3;
L603: ( rng D118 ) = ( dom C264 ) by L602 , L576 , L579 , FINSEQ_1:31;
L604: ( len ( Sgm D117 ) ) = ( card D117 ) by L578 , FINSEQ_3:39;
L605: ( len D118 ) = ( ( card D116 ) + ( card D117 ) ) by L604 , L592 , FINSEQ_1:22
.= ( card ( D116 \/ D117 ) ) by L588 , CARD_2:40
.= ( card ( Seg D115 ) ) by L602 , FINSEQ_1:def 3;
L606: ( len D118 ) = D115 by L605 , FINSEQ_1:57;
L607: ( dom D118 ) = ( Seg D115 ) by L606 , FINSEQ_1:def 3;
L608: (for B349 being (Element of ( NAT )) holds ((B349 in ( dom C264 ) & (not B349 in ( Seg D119 ))) implies (ex B350 being (Element of ( NAT )) st (B349 = ( B350 + D119 ) & B350 in ( dom ( Sgm D117 ) ) & ( D118 . B349 ) = ( ( Sgm D117 ) . B350 )))))
proof
let C267 being (Element of ( NAT ));
assume that
L609: C267 in ( dom C264 )
and
L610: (not C267 in ( Seg D119 ));
L611: C267 in ( Seg D115 ) by L609 , FINSEQ_1:def 3;
L612: (not (1 <= C267 & C267 <= D119)) by L610 , FINSEQ_1:1;
L613: ( D119 + 1 ) <= C267 by L612 , L611 , FINSEQ_1:1 , INT_1:7;
L614: ( ( D119 + 1 ) - D119 ) <= ( C267 - D119 ) by L613 , XREAL_1:9;
reconsider D121 = ( C267 - D119 ) as (Element of ( NAT )) by L614 , INT_1:3;
take D121;
L615: ( len D118 ) = ( D119 + ( len ( Sgm D117 ) ) ) by FINSEQ_1:22;
L616: ( D115 - D119 ) = ( len ( Sgm D117 ) ) by L615 , L606;
L617: C267 <= D115 by L611 , FINSEQ_1:1;
L618: D121 <= ( len ( Sgm D117 ) ) by L617 , L616 , XREAL_1:9;
L619: D121 in ( Seg ( len ( Sgm D117 ) ) ) by L618 , L614 , FINSEQ_1:1;
L620: D121 in ( Seg ( card D117 ) ) by L619 , L578 , FINSEQ_3:39;
L621: D121 in ( dom ( Sgm D117 ) ) by L620 , L578 , FINSEQ_3:40;
L622: C267 = ( D121 + D119 );
thus L623: thesis by L622 , L621 , FINSEQ_1:def 7;
end;
L624: ( dom C264 ) = ( Seg D115 ) by FINSEQ_1:def 3;
reconsider D122 = D118 as (Function of ( dom C264 ) , ( dom C264 )) by L624 , L603 , L607 , FUNCT_2:1;
L625: D122 is  onto by L603 , FUNCT_2:def 3;
reconsider D123 = D122 as (Permutation of ( dom C264 )) by L625 , L591;
take D123;
take D119;
let C268 being (Element of ( NAT ));
assume L626: C268 in ( dom C264 );
thus L627: (C268 in ( Seg D119 ) implies ( C264 . ( D123 . C268 ) ) <> ( 0 ))
proof
assume L628: C268 in ( Seg D119 );
L629: C268 in ( dom ( Sgm D116 ) ) by L628 , FINSEQ_1:def 3;
L630: ( D123 . C268 ) = ( ( Sgm D116 ) . C268 ) by L629 , FINSEQ_1:def 7;
L631: ( D123 . C268 ) in D116 by L630 , L576 , L629 , FUNCT_1:3;
L632: (ex B351 being (Element of ( NAT )) st (( D123 . C268 ) = B351 & B351 in ( dom C264 ) & ( C264 . B351 ) <> ( 0 ))) by L631;
thus L633: thesis by L632;
end;

thus L634: (( C264 . ( D123 . C268 ) ) <> ( 0 ) implies C268 in ( Seg D119 ))
proof
assume L635: ( C264 . ( D123 . C268 ) ) <> ( 0 );
assume L636: (not C268 in ( Seg D119 ));
L637: (ex B352 being (Element of ( NAT )) st (C268 = ( B352 + D119 ) & B352 in ( dom ( Sgm D117 ) ) & ( D123 . C268 ) = ( ( Sgm D117 ) . B352 ))) by L636 , L608 , L626;
L638: ( D123 . C268 ) in ( rng ( Sgm D117 ) ) by L637 , FUNCT_1:3;
L639: (ex B353 being (Element of ( NAT )) st (( D123 . C268 ) = B353 & B353 in ( dom C264 ) & ( C264 . B353 ) = ( 0 ))) by L638 , L579;
thus L640: thesis by L639 , L635;
end;

end;
theorem
L635: (for B354 being RealLinearSpace holds (for B355 being (Function of (the carrier of B354) , ( ExtREAL )) holds ((for B356 being (VECTOR of B354) holds ( B355 . B356 ) <> ( -infty )) implies (B355 is  convex iff (for B357 being non  empty (Element of ( NAT )) holds (for B358 being (FinSequence of ( REAL )) holds (for B359 being (FinSequence of ( ExtREAL )) holds (for B360 , B361 being (FinSequence of (the carrier of B354)) holds ((( len B358 ) = B357 & ( len B359 ) = B357 & ( len B360 ) = B357 & ( len B361 ) = B357 & ( Sum B358 ) = 1 & (for B362 being (Element of ( NAT )) holds (B362 in ( Seg B357 ) implies (( B358 . B362 ) >= ( 0 ) & ( B361 . B362 ) = ( ( B358 . B362 ) * ( B360 /. B362 ) ) & ( B359 . B362 ) = ( ( R_EAL ( B358 . B362 ) ) * ( B355 . ( B360 /. B362 ) ) ))))) implies ( B355 . ( Sum B361 ) ) <= ( Sum B359 ))))))))))
proof
let C269 being RealLinearSpace;
let C270 being (Function of (the carrier of C269) , ( ExtREAL ));
assume L636: (for B363 being (VECTOR of C269) holds ( C270 . B363 ) <> ( -infty ));
thus L637: (C270 is  convex implies (for B364 being non  empty (Element of ( NAT )) holds (for B365 being (FinSequence of ( REAL )) holds (for B366 being (FinSequence of ( ExtREAL )) holds (for B367 , B368 being (FinSequence of (the carrier of C269)) holds ((( len B365 ) = B364 & ( len B366 ) = B364 & ( len B367 ) = B364 & ( len B368 ) = B364 & ( Sum B365 ) = 1 & (for B369 being (Element of ( NAT )) holds (B369 in ( Seg B364 ) implies (( B365 . B369 ) >= ( 0 ) & ( B368 . B369 ) = ( ( B365 . B369 ) * ( B367 /. B369 ) ) & ( B366 . B369 ) = ( ( R_EAL ( B365 . B369 ) ) * ( C270 . ( B367 /. B369 ) ) ))))) implies ( C270 . ( Sum B368 ) ) <= ( Sum B366 )))))))
proof
assume L638: C270 is  convex;
let C271 being non  empty (Element of ( NAT ));
let C272 being (FinSequence of ( REAL ));
let C273 being (FinSequence of ( ExtREAL ));
let C274 , C275 being (FinSequence of (the carrier of C269));
assume that
L639: ( len C272 ) = C271
and
L640: ( len C273 ) = C271
and
L641: ( len C274 ) = C271
and
L642: ( len C275 ) = C271
and
L643: ( Sum C272 ) = 1
and
L644: (for B370 being (Element of ( NAT )) holds (B370 in ( Seg C271 ) implies (( C272 . B370 ) >= ( 0 ) & ( C275 . B370 ) = ( ( C272 . B370 ) * ( C274 /. B370 ) ) & ( C273 . B370 ) = ( ( R_EAL ( C272 . B370 ) ) * ( C270 . ( C274 /. B370 ) ) ))));
consider C276 being (Permutation of ( dom C272 )), C277 being (Element of ( NAT )) such that L645: (for B371 being (Element of ( NAT )) holds (B371 in ( dom C272 ) implies (B371 in ( Seg C277 ) iff ( C272 . ( C276 . B371 ) ) <> ( 0 )))) by L573;
L646: ( dom C272 ) = ( Seg C271 ) by L639 , FINSEQ_1:def 3;
reconsider D124 = C276 as (FinSequence of ( Seg C271 )) by L646 , FINSEQ_2:25;
L647: ( dom C273 ) = ( Seg C271 ) by L640 , FINSEQ_1:def 3;
L648: C273 is (Function of ( Seg C271 ) , ( ExtREAL )) by L647 , FINSEQ_2:26;
reconsider D125 = ( C273 * D124 ) as (FinSequence of ( ExtREAL )) by L648 , FINSEQ_2:32;
L649: D125 = ( ( D125 | C277 ) ^ ( D125 /^ C277 ) ) by RFINSEQ:8;
L650: (for B372 being (Element of ( NAT )) holds ((1 <= B372 & B372 <= ( C271 - C277 )) implies (( B372 + C277 ) in ( Seg C271 ) & ( C272 . ( C276 . ( B372 + C277 ) ) ) = ( 0 ))))
proof
let C278 being (Element of ( NAT ));
assume that
L651: 1 <= C278
and
L652: C278 <= ( C271 - C277 );
L653: C278 <= ( C278 + C277 ) by INT_1:6;
L654: 1 <= ( C278 + C277 ) by L653 , L651 , XXREAL_0:2;
L655: ( ( 0 ) + C277 ) < ( C278 + C277 ) by L651 , XREAL_1:6;
L656: (not ( C278 + C277 ) in ( Seg C277 )) by L655 , FINSEQ_1:1;
L657: ( C278 + C277 ) <= ( ( C271 - C277 ) + C277 ) by L652 , XREAL_1:6;
L658: ( C278 + C277 ) in ( dom C272 ) by L657 , L646 , L654 , FINSEQ_1:1;
thus L659: thesis by L658 , L645 , L657 , L654 , L656 , FINSEQ_1:1;
end;
L660: ( dom C275 ) = ( Seg C271 ) by L642 , FINSEQ_1:def 3;
L661: C275 is (Function of ( Seg C271 ) , (the carrier of C269)) by L660 , FINSEQ_2:26;
reconsider D126 = ( C275 * D124 ) as (FinSequence of (the carrier of C269)) by L661 , FINSEQ_2:32;
L662: ( dom C276 ) = ( Seg C271 ) by L646 , FUNCT_2:def 1;
L663: ( len D124 ) = C271 by L662 , FINSEQ_1:def 3;
L664: ( len D126 ) = C271 by L663 , L661 , FINSEQ_2:33;
L665: ( Sum ( D126 /^ C277 ) ) = ( 0. C269 )
proof
per cases ;
suppose L666: C277 >= C271;

L667: ( D126 /^ C277 ) = ( <*> (the carrier of C269) ) by L666 , L664 , FINSEQ_5:32;
thus L668: thesis by L667 , RLVECT_1:43;
end;
suppose L669: C277 < C271;

L670: (for B373 being set holds (B373 in ( rng ( D126 /^ C277 ) ) implies B373 in { ( 0. C269 ) }))
proof
reconsider D127 = ( C271 - C277 ) as (Element of ( NAT )) by L669 , INT_1:5;
let C279 being set;
assume L671: C279 in ( rng ( D126 /^ C277 ) );
consider C280 being set such that L672: C280 in ( dom ( D126 /^ C277 ) ) and L673: ( ( D126 /^ C277 ) . C280 ) = C279 by L671 , FUNCT_1:def 3;
reconsider D128 = C280 as (Element of ( NAT )) by L672;
L674: ( len ( D126 /^ C277 ) ) = D127 by L664 , L669 , RFINSEQ:def 1;
L675: D128 in ( Seg D127 ) by L674 , L672 , FINSEQ_1:def 3;
L676: 1 <= D128 by L675 , FINSEQ_1:1;
L677: D128 <= ( C271 - C277 ) by L675 , FINSEQ_1:1;
L678: ( C276 . ( D128 + C277 ) ) in ( Seg C271 ) by L677 , L646 , L650 , L676 , FUNCT_2:5;
L679: ( C275 . ( C276 . ( D128 + C277 ) ) ) = ( ( C272 . ( C276 . ( D128 + C277 ) ) ) * ( C274 /. ( C276 . ( D128 + C277 ) ) ) ) by L678 , L644;
L680: ( C275 . ( C276 . ( D128 + C277 ) ) ) = ( 0. C269 ) by L679 , L650 , L676 , L677 , RLVECT_1:10;
L681: ( D128 + C277 ) in ( Seg C271 ) by L650 , L676 , L677;
L682: ( D128 + C277 ) in ( dom D126 ) by L681 , L664 , FINSEQ_1:def 3;
L683: ( D126 . ( D128 + C277 ) ) = ( 0. C269 ) by L682 , L680 , FUNCT_1:12;
L684: C279 = ( 0. C269 ) by L683 , L664 , L669 , L672 , L673 , RFINSEQ:def 1;
thus L685: thesis by L684 , TARSKI:def 1;
end;
L686: ( rng ( D126 /^ C277 ) ) c= { ( 0. C269 ) } by L670 , TARSKI:def 3;
thus L687: thesis by L686 , L313;
end;
end;
L689: C272 is (Function of ( Seg C271 ) , ( REAL )) by L646 , FINSEQ_2:26;
reconsider D129 = ( C272 * D124 ) as (FinSequence of ( REAL )) by L689 , FINSEQ_2:32;
set D130 = ( min (C277 , C271) );
reconsider D131 = D130 as (Element of ( NAT ));
L690: D129 = ( ( D129 | C277 ) ^ ( D129 /^ C277 ) ) by RFINSEQ:8;
L691: ( Sum D129 ) = ( ( Sum ( D129 | C277 ) ) + ( Sum ( D129 /^ C277 ) ) ) by L690 , RVSUM_1:75;
L692: ( len D125 ) = C271 by L663 , L648 , FINSEQ_2:33;
L693: ( Sum ( D125 /^ C277 ) ) = ( 0. )
proof
per cases ;
suppose L694: C277 >= C271;

thus L695: thesis by L694 , L692 , EXTREAL1:7 , FINSEQ_5:32;
end;
suppose L696: C277 < C271;

L697: (for B374 being set holds (B374 in ( rng ( D125 /^ C277 ) ) implies B374 in { ( 0. ) }))
proof
reconsider D132 = ( C271 - C277 ) as (Element of ( NAT )) by L696 , INT_1:5;
let C281 being set;
assume L698: C281 in ( rng ( D125 /^ C277 ) );
consider C282 being set such that L699: C282 in ( dom ( D125 /^ C277 ) ) and L700: ( ( D125 /^ C277 ) . C282 ) = C281 by L698 , FUNCT_1:def 3;
reconsider D133 = C282 as (Element of ( NAT )) by L699;
L701: ( len ( D125 /^ C277 ) ) = D132 by L692 , L696 , RFINSEQ:def 1;
L702: D133 in ( Seg D132 ) by L701 , L699 , FINSEQ_1:def 3;
L703: 1 <= D133 by L702 , FINSEQ_1:1;
L704: D133 <= ( C271 - C277 ) by L702 , FINSEQ_1:1;
L705: ( C272 . ( C276 . ( D133 + C277 ) ) ) = ( 0 ) by L704 , L650 , L703;
L706: ( D133 + C277 ) in ( Seg C271 ) by L650 , L703 , L704;
L707: ( D133 + C277 ) in ( dom D125 ) by L706 , L692 , FINSEQ_1:def 3;
L708: ( C276 . ( D133 + C277 ) ) in ( Seg C271 ) by L646 , L650 , L703 , L704 , FUNCT_2:5;
L709: ( C273 . ( C276 . ( D133 + C277 ) ) ) = ( ( R_EAL ( 0 ) ) * ( C270 . ( C274 /. ( C276 . ( D133 + C277 ) ) ) ) ) by L708 , L644 , L705;
L710: ( D125 . ( D133 + C277 ) ) = ( 0. ) by L709 , L707 , FUNCT_1:12;
L711: C281 = ( 0. ) by L710 , L692 , L696 , L699 , L700 , RFINSEQ:def 1;
thus L712: thesis by L711 , TARSKI:def 1;
end;
L713: ( rng ( D125 /^ C277 ) ) c= { ( 0. ) } by L697 , TARSKI:def 3;
thus L714: thesis by L713 , L286;
end;
end;
L716: ( D125 | C277 ) = ( D125 | ( Seg C277 ) ) by FINSEQ_1:def 15;
L717: ( len ( D125 | C277 ) ) = D131 by L716 , L692 , FINSEQ_2:21;
L718: (for B375 being (Element of ( NAT )) holds (B375 in ( Seg C271 ) implies (( C272 . B375 ) >= ( 0 ) & ( C273 . B375 ) = ( ( R_EAL ( C272 . B375 ) ) * ( C270 . ( C274 /. B375 ) ) )))) by L644;
L719: (not ( -infty ) in ( rng C273 )) by L718 , L636 , L640 , L482;
L720: (not ( -infty ) in ( rng D125 )) by L719 , FUNCT_1:14;
L721: (not ( -infty ) in ( ( rng ( D125 | C277 ) ) \/ ( rng ( D125 /^ C277 ) ) )) by L720 , L649 , FINSEQ_1:31;
L722: (not ( -infty ) in ( rng ( D125 /^ C277 ) )) by L721 , XBOOLE_0:def 3;
L723: ( D126 | C277 ) = ( D126 | ( Seg C277 ) ) by FINSEQ_1:def 15;
L724: ( len ( D126 | C277 ) ) = D131 by L723 , L664 , FINSEQ_2:21;
L725: ( len D129 ) = C271 by L663 , L689 , FINSEQ_2:33;
L726: ( Sum ( D129 /^ C277 ) ) = ( 0 )
proof
per cases ;
suppose L727: C277 >= C271;

thus L728: thesis by L727 , L725 , FINSEQ_5:32 , RVSUM_1:72;
end;
suppose L729: C277 < C271;

L730: (for B376 being set holds (B376 in ( rng ( D129 /^ C277 ) ) implies B376 in { ( 0 ) }))
proof
reconsider D134 = ( C271 - C277 ) as (Element of ( NAT )) by L729 , INT_1:5;
let C283 being set;
assume L731: C283 in ( rng ( D129 /^ C277 ) );
consider C284 being set such that L732: C284 in ( dom ( D129 /^ C277 ) ) and L733: ( ( D129 /^ C277 ) . C284 ) = C283 by L731 , FUNCT_1:def 3;
reconsider D135 = C284 as (Element of ( NAT )) by L732;
L734: ( len ( D129 /^ C277 ) ) = D134 by L725 , L729 , RFINSEQ:def 1;
L735: D135 in ( Seg D134 ) by L734 , L732 , FINSEQ_1:def 3;
L736: 1 <= D135 by L735 , FINSEQ_1:1;
L737: D135 <= ( C271 - C277 ) by L735 , FINSEQ_1:1;
L738: ( D135 + C277 ) in ( Seg C271 ) by L737 , L650 , L736;
L739: ( D135 + C277 ) in ( dom D129 ) by L738 , L725 , FINSEQ_1:def 3;
L740: ( C272 . ( C276 . ( D135 + C277 ) ) ) = ( 0 ) by L650 , L736 , L737;
L741: ( D129 . ( D135 + C277 ) ) = ( 0 ) by L740 , L739 , FUNCT_1:12;
L742: C283 = ( 0 ) by L741 , L725 , L729 , L732 , L733 , RFINSEQ:def 1;
thus L743: thesis by L742 , TARSKI:def 1;
end;
L744: ( rng ( D129 /^ C277 ) ) c= { ( 0 ) } by L730 , TARSKI:def 3;
thus L745: thesis by L744 , L300;
end;
end;
L747: ( D129 | C277 ) = ( D129 | ( Seg C277 ) ) by FINSEQ_1:def 15;
L748: ( len ( D129 | C277 ) ) = D131 by L747 , L725 , FINSEQ_2:21;
L749: (not ( -infty ) in ( rng ( D125 | C277 ) )) by L721 , XBOOLE_0:def 3;
L750: ( Sum D125 ) = ( ( Sum ( D125 | C277 ) ) + ( Sum ( D125 /^ C277 ) ) ) by L749 , L649 , L722 , EXTREAL1:10;
L751: ( Sum D125 ) = ( Sum C273 ) by L646 , L647 , L719 , EXTREAL1:11;
L752: ( Sum ( D125 | C277 ) ) = ( Sum C273 ) by L751 , L750 , L693 , XXREAL_3:4;
L753: D126 = ( ( D126 | C277 ) ^ ( D126 /^ C277 ) ) by RFINSEQ:8;
L754: ( Sum D126 ) = ( ( Sum ( D126 | C277 ) ) + ( Sum ( D126 /^ C277 ) ) ) by L753 , RLVECT_1:41;
L755: ( Sum D126 ) = ( Sum C275 ) by L646 , L660 , RLVECT_2:7;
L756: ( Sum ( D126 | C277 ) ) = ( Sum C275 ) by L755 , L754 , L665 , RLVECT_1:def 4;
L757: ( dom C274 ) = ( Seg C271 ) by L641 , FINSEQ_1:def 3;
L758: C274 is (Function of ( Seg C271 ) , (the carrier of C269)) by L757 , FINSEQ_2:26;
reconsider D136 = ( C274 * D124 ) as (FinSequence of (the carrier of C269)) by L758 , FINSEQ_2:32;
L759: ( D136 | C277 ) = ( D136 | ( Seg C277 ) ) by FINSEQ_1:def 15;
L760: ( len D136 ) = C271 by L663 , L758 , FINSEQ_2:33;
L761: ( len ( D136 | C277 ) ) = D131 by L760 , L759 , FINSEQ_2:21;
L762: D129 , C272 are_fiberwise_equipotent  by RFINSEQ:4;
L763: ( D129 | C277 ) <> ( {} ) by L762 , L643 , L691 , L726 , RFINSEQ:9 , RVSUM_1:72;
reconsider D137 = D131 as non  empty (Element of ( NAT )) by L763 , L748;
L764: (for B377 being (Element of ( NAT )) holds (B377 in ( Seg D137 ) implies (( ( D129 | C277 ) . B377 ) > ( 0 ) & ( ( D126 | C277 ) . B377 ) = ( ( ( D129 | C277 ) . B377 ) * ( ( D136 | C277 ) /. B377 ) ) & ( ( D125 | C277 ) . B377 ) = ( ( R_EAL ( ( D129 | C277 ) . B377 ) ) * ( C270 . ( ( D136 | C277 ) /. B377 ) ) ))))
proof
let C285 being (Element of ( NAT ));
assume L765: C285 in ( Seg D137 );
L766: C285 in ( dom ( D129 | C277 ) ) by L765 , L748 , FINSEQ_1:def 3;
L767: ( ( D129 | C277 ) /. C285 ) = ( D129 /. C285 ) by L766 , FINSEQ_4:70;
L768: ( dom ( D129 | C277 ) ) = ( ( dom D129 ) /\ ( Seg C277 ) ) by L747 , RELAT_1:61;
L769: C285 in ( dom D129 ) by L768 , L766 , XBOOLE_0:def 4;
L770: ( D129 . C285 ) = ( C272 . ( C276 . C285 ) ) by L769 , FUNCT_1:12;
L771: ( D129 /. C285 ) = ( D129 . C285 ) by L769 , PARTFUN1:def 6;
L772: ( ( D129 | C277 ) . C285 ) = ( C272 . ( C276 . C285 ) ) by L771 , L766 , L767 , L770 , PARTFUN1:def 6;
L773: C285 in ( dom ( D136 | C277 ) ) by L761 , L765 , FINSEQ_1:def 3;
L774: ( ( D136 | C277 ) /. C285 ) = ( D136 /. C285 ) by L773 , FINSEQ_4:70;
L775: ( dom ( D136 | C277 ) ) = ( ( dom D136 ) /\ ( Seg C277 ) ) by L759 , RELAT_1:61;
L776: C285 in ( dom D136 ) by L775 , L773 , XBOOLE_0:def 4;
L777: ( D136 . C285 ) = ( C274 . ( C276 . C285 ) ) by L776 , FUNCT_1:12;
L778: C285 in ( dom ( D125 | C277 ) ) by L717 , L765 , FINSEQ_1:def 3;
L779: ( ( D125 | C277 ) /. C285 ) = ( D125 /. C285 ) by L778 , FINSEQ_4:70;
L780: ( dom ( D125 | C277 ) ) = ( ( dom D125 ) /\ ( Seg C277 ) ) by L716 , RELAT_1:61;
L781: C285 in ( dom D125 ) by L780 , L778 , XBOOLE_0:def 4;
L782: ( D125 . C285 ) = ( C273 . ( C276 . C285 ) ) by L781 , FUNCT_1:12;
L783: ( D125 /. C285 ) = ( D125 . C285 ) by L781 , PARTFUN1:def 6;
L784: ( ( D125 | C277 ) . C285 ) = ( C273 . ( C276 . C285 ) ) by L783 , L778 , L779 , L782 , PARTFUN1:def 6;
L785: C285 in ( dom ( D126 | C277 ) ) by L724 , L765 , FINSEQ_1:def 3;
L786: ( ( D126 | C277 ) /. C285 ) = ( D126 /. C285 ) by L785 , FINSEQ_4:70;
L787: ( dom ( D126 | C277 ) ) = ( ( dom D126 ) /\ ( Seg C277 ) ) by L723 , RELAT_1:61;
L788: C285 in ( dom D126 ) by L787 , L785 , XBOOLE_0:def 4;
L789: ( D126 . C285 ) = ( C275 . ( C276 . C285 ) ) by L788 , FUNCT_1:12;
L790: ( D126 /. C285 ) = ( D126 . C285 ) by L788 , PARTFUN1:def 6;
L791: ( ( D126 | C277 ) . C285 ) = ( C275 . ( C276 . C285 ) ) by L790 , L785 , L786 , L789 , PARTFUN1:def 6;
L792: C285 in ( Seg C271 ) by L725 , L769 , FINSEQ_1:def 3;
L793: D137 <= C277 by XXREAL_0:17;
L794: ( Seg D137 ) c= ( Seg C277 ) by L793 , FINSEQ_1:5;
L795: ( C272 . ( C276 . C285 ) ) <> ( 0 ) by L794 , L645 , L646 , L765 , L792;
L796: ( D136 /. C285 ) = ( D136 . C285 ) by L776 , PARTFUN1:def 6;
L797: ( ( D136 | C277 ) /. C285 ) = ( C274 /. ( C276 . C285 ) ) by L796 , L646 , L757 , L774 , L777 , L792 , FUNCT_2:5 , PARTFUN1:def 6;
L798: ( C276 . C285 ) in ( Seg C271 ) by L646 , L792 , FUNCT_2:5;
thus L799: thesis by L798 , L644 , L772 , L797 , L791 , L784 , L795;
end;
L800: ( Sum ( D129 | C277 ) ) = 1 by L643 , L691 , L726 , L762 , RFINSEQ:9;
thus L801: thesis by L800 , L636 , L638 , L756 , L752 , L748 , L761 , L724 , L717 , L764 , L500;
end;

thus L802: ((for B378 being non  empty (Element of ( NAT )) holds (for B379 being (FinSequence of ( REAL )) holds (for B380 being (FinSequence of ( ExtREAL )) holds (for B381 , B382 being (FinSequence of (the carrier of C269)) holds ((( len B379 ) = B378 & ( len B380 ) = B378 & ( len B381 ) = B378 & ( len B382 ) = B378 & ( Sum B379 ) = 1 & (for B383 being (Element of ( NAT )) holds (B383 in ( Seg B378 ) implies (( B379 . B383 ) >= ( 0 ) & ( B382 . B383 ) = ( ( B379 . B383 ) * ( B381 /. B383 ) ) & ( B380 . B383 ) = ( ( R_EAL ( B379 . B383 ) ) * ( C270 . ( B381 /. B383 ) ) ))))) implies ( C270 . ( Sum B382 ) ) <= ( Sum B380 )))))) implies C270 is  convex)
proof
assume L803: (for B384 being non  empty (Element of ( NAT )) holds (for B385 being (FinSequence of ( REAL )) holds (for B386 being (FinSequence of ( ExtREAL )) holds (for B387 , B388 being (FinSequence of (the carrier of C269)) holds ((( len B385 ) = B384 & ( len B386 ) = B384 & ( len B387 ) = B384 & ( len B388 ) = B384 & ( Sum B385 ) = 1 & (for B389 being (Element of ( NAT )) holds (B389 in ( Seg B384 ) implies (( B385 . B389 ) >= ( 0 ) & ( B388 . B389 ) = ( ( B385 . B389 ) * ( B387 /. B389 ) ) & ( B386 . B389 ) = ( ( R_EAL ( B385 . B389 ) ) * ( C270 . ( B387 /. B389 ) ) ))))) implies ( C270 . ( Sum B388 ) ) <= ( Sum B386 ))))));
L804: (for B390 being non  empty (Element of ( NAT )) holds (for B391 being (FinSequence of ( REAL )) holds (for B392 being (FinSequence of ( ExtREAL )) holds (for B393 , B394 being (FinSequence of (the carrier of C269)) holds ((( len B391 ) = B390 & ( len B392 ) = B390 & ( len B393 ) = B390 & ( len B394 ) = B390 & ( Sum B391 ) = 1 & (for B395 being (Element of ( NAT )) holds (B395 in ( Seg B390 ) implies (( B391 . B395 ) > ( 0 ) & ( B394 . B395 ) = ( ( B391 . B395 ) * ( B393 /. B395 ) ) & ( B392 . B395 ) = ( ( R_EAL ( B391 . B395 ) ) * ( C270 . ( B393 /. B395 ) ) ))))) implies ( C270 . ( Sum B394 ) ) <= ( Sum B392 ))))))
proof
let C286 being non  empty (Element of ( NAT ));
let C287 being (FinSequence of ( REAL ));
let C288 being (FinSequence of ( ExtREAL ));
let C289 , C290 being (FinSequence of (the carrier of C269));
assume that
L805: ( len C287 ) = C286
and
L806: ( len C288 ) = C286
and
L807: ( len C289 ) = C286
and
L808: ( len C290 ) = C286
and
L809: ( Sum C287 ) = 1
and
L810: (for B396 being (Element of ( NAT )) holds (B396 in ( Seg C286 ) implies (( C287 . B396 ) > ( 0 ) & ( C290 . B396 ) = ( ( C287 . B396 ) * ( C289 /. B396 ) ) & ( C288 . B396 ) = ( ( R_EAL ( C287 . B396 ) ) * ( C270 . ( C289 /. B396 ) ) ))));
L811: (for B397 being (Element of ( NAT )) holds (B397 in ( Seg C286 ) implies (( C287 . B397 ) >= ( 0 ) & ( C290 . B397 ) = ( ( C287 . B397 ) * ( C289 /. B397 ) ) & ( C288 . B397 ) = ( ( R_EAL ( C287 . B397 ) ) * ( C270 . ( C289 /. B397 ) ) )))) by L810;
thus L812: thesis by L811 , L803 , L805 , L806 , L807 , L808 , L809;
end;
thus L813: thesis by L804 , L636 , L500;
end;

end;
