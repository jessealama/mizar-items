:: Product of Family of Universal Algebras
::  by Beata Madras
::
:: Received October 12, 1993
:: Copyright (c) 1993-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies UNIALG_1, NAT_1, XBOOLE_0, FINSEQ_1, ZFMISC_1, MCART_1, RELAT_1,
      FUNCT_1, FUNCT_2, PARTFUN1, FINSEQ_2, SUBSET_1, TARSKI, NUMBERS,
      STRUCT_0, CQC_SIM1, UNIALG_2, PBOOLE, FUNCOP_1, RLVECT_2, CARD_3, CARD_1,
      FINSEQ_4, FUNCT_5, PRALG_1;
 notations TARSKI, XBOOLE_0, ZFMISC_1,
      XTUPLE_0, SUBSET_1, ORDINAL1, NUMBERS, NAT_1,
      STRUCT_0, RELAT_1, FUNCT_1, FINSEQ_1, FUNCT_2, BINOP_1, FUNCOP_1,
      MCART_1, DOMAIN_1, PARTFUN1, FINSEQ_2, FUNCT_4, FUNCT_5, CARD_3,
      MARGREL1, DTCONSTR, UNIALG_1, UNIALG_2, PBOOLE;
 constructors BINOP_1, DOMAIN_1, FUNCT_4, FUNCT_5, CARD_3, PBOOLE, UNIALG_2,
      DTCONSTR, STRUCT_0, RELSET_1, XTUPLE_0;
 registrations XBOOLE_0, SUBSET_1, RELAT_1, FUNCT_1, ORDINAL1, PARTFUN1,
      FUNCOP_1, FINSEQ_1, FINSEQ_2, CARD_3, PBOOLE, STRUCT_0, UNIALG_1, CARD_1,
      RELSET_1, MARGREL1, XTUPLE_0;
 requirements BOOLE, SUBSET;
 definitions TARSKI, UNIALG_1, UNIALG_2, FUNCT_1, PBOOLE, XBOOLE_0, BINOP_1,
      FINSEQ_2, FUNCOP_1, PARTFUN1, MARGREL1, XTUPLE_0;
 theorems TARSKI, FUNCT_1, PARTFUN1, FINSEQ_1, FINSEQ_2, FUNCOP_1, UNIALG_1,
      DOMAIN_1, ZFMISC_1, MCART_1, UNIALG_2, FUNCT_2, PBOOLE, FUNCT_5, CARD_3,
      FUNCT_4, FINSEQ_3, RELAT_1, RELSET_1, ORDINAL1, XBOOLE_0, XBOOLE_1,
      MARGREL1, CARD_1, XTUPLE_0;
 schemes FINSEQ_1, PARTFUN1, FUNCT_2, FUNCT_1, CLASSES1;

begin
definition
let R9 being non  empty set;
let R10 being non  empty set;
let R11 being (FinSequence of [: R9 , R10 :]);
redefine func pr1 R11 -> (FinSequence of R9) means 
:L1: (( len it ) = ( len R11 ) & (for R4 being Nat holds (R4 in ( dom it ) implies ( it . R4 ) = ( ( R11 . R4 ) `1 ))));
compatibility
proof
let C1 being (FinSequence of R9);
thus L2:now
assume L3: C1 = ( pr1 R11 );
L4: ( dom C1 ) = ( dom R11 ) by L3 , MCART_1:def 12;
thus L5: ( len C1 ) = ( len R11 ) by L4 , FINSEQ_3:29;
let R4 being Nat;
thus L6: (R4 in ( dom C1 ) implies ( C1 . R4 ) = ( ( R11 . R4 ) `1 )) by L3 , L4 , MCART_1:def 12;
end;
assume L7: (( len C1 ) = ( len R11 ) & (for R4 being Nat holds (R4 in ( dom C1 ) implies ( C1 . R4 ) = ( ( R11 . R4 ) `1 ))));
L8: (( dom C1 ) = ( dom R11 ) & (for B1 being set holds (B1 in ( dom C1 ) implies ( C1 . B1 ) = ( ( R11 . B1 ) `1 )))) by L7 , FINSEQ_3:29;
thus L9: thesis by L8 , MCART_1:def 12;
end;
coherence
proof
thus L10: ( pr1 R11 ) is (FinSequence of R9);
end;
redefine func pr2 R11 -> (FinSequence of R10) means 
:L11: (( len it ) = ( len R11 ) & (for R4 being Nat holds (R4 in ( dom it ) implies ( it . R4 ) = ( ( R11 . R4 ) `2 ))));
compatibility
proof
let C2 being (FinSequence of R10);
thus L12:now
assume L13: C2 = ( pr2 R11 );
L14: ( dom C2 ) = ( dom R11 ) by L13 , MCART_1:def 13;
thus L15: ( len C2 ) = ( len R11 ) by L14 , FINSEQ_3:29;
let R4 being Nat;
thus L16: (R4 in ( dom C2 ) implies ( C2 . R4 ) = ( ( R11 . R4 ) `2 )) by L13 , L14 , MCART_1:def 13;
end;
assume L17: (( len C2 ) = ( len R11 ) & (for R4 being Nat holds (R4 in ( dom C2 ) implies ( C2 . R4 ) = ( ( R11 . R4 ) `2 ))));
L18: (( dom C2 ) = ( dom R11 ) & (for B2 being set holds (B2 in ( dom C2 ) implies ( C2 . B2 ) = ( ( R11 . B2 ) `2 )))) by L17 , FINSEQ_3:29;
thus L19: thesis by L18 , MCART_1:def 13;
end;
coherence
proof
thus L20: ( pr2 R11 ) is (FinSequence of R10);
end;
end;
definition
let R9 being non  empty set;
let R10 being non  empty set;
let C3 being  homogeneous  quasi_total non  empty (PartFunc of ( R9 * ) , R9);
let C4 being  homogeneous  quasi_total non  empty (PartFunc of ( R10 * ) , R10);
assume L22: ( arity C3 ) = ( arity C4 );
func [[:C3 , C4 :]] ->  homogeneous  quasi_total non  empty (PartFunc of ( [: R9 , R10 :] * ) , [: R9 , R10 :]) means 
:L23: (( dom it ) = ( ( arity C3 ) -tuples_on [: R9 , R10 :] ) & (for B3 being (FinSequence of [: R9 , R10 :]) holds (B3 in ( dom it ) implies ( it . B3 ) = [ ( C3 . ( pr1 B3 ) ) , ( C4 . ( pr2 B3 ) ) ])));
existence
proof
set D1 = ( ( arity C3 ) -tuples_on [: R9 , R10 :] );
set D2 = { B4 where B4 is (Element of ( [: R9 , R10 :] * )) : ( len B4 ) = ( arity C3 ) };
defpred S1[ set , set ] means (for B5 being (FinSequence of [: R9 , R10 :]) holds ($1 = B5 implies $2 = [ ( C3 . ( pr1 B5 ) ) , ( C4 . ( pr2 B5 ) ) ]));
L24: ( dom C4 ) = ( ( arity C4 ) -tuples_on R10 ) by MARGREL1:22;
L25: (( rng C3 ) c= R9 & ( rng C4 ) c= R10) by RELAT_1:def 19;
L26: ( dom C3 ) = ( ( arity C3 ) -tuples_on R9 ) by MARGREL1:22;
L27: (for R6 being set holds (for R7 being set holds ((R6 in D1 & S1[ R6 , R7 ]) implies R7 in [: R9 , R10 :])))
proof
let R6 being set;
let R7 being set;
assume that
L28: R6 in D1
and
L29: S1[ R6 , R7 ];
consider C5 being (Element of ( [: R9 , R10 :] * )) such that L30: R6 = C5 and L31: ( len C5 ) = ( arity C3 ) by L28;
reconsider D3 = ( pr1 C5 ) as (Element of ( R9 * )) by FINSEQ_1:def 11;
L32: ( len ( pr1 C5 ) ) = ( len C5 ) by L1;
L33: D3 in { B6 where B6 is (Element of ( R9 * )) : ( len B6 ) = ( arity C3 ) } by L32 , L31;
L34: ( C3 . D3 ) in ( rng C3 ) by L33 , L26 , FUNCT_1:def 3;
reconsider D4 = ( pr2 C5 ) as (Element of ( R10 * )) by FINSEQ_1:def 11;
L35: ( len ( pr2 C5 ) ) = ( len C5 ) by L11;
L36: D4 in { B7 where B7 is (Element of ( R10 * )) : ( len B7 ) = ( arity C4 ) } by L35 , L22 , L31;
L37: ( C4 . D4 ) in ( rng C4 ) by L36 , L24 , FUNCT_1:def 3;
L38: R7 = [ ( C3 . ( pr1 C5 ) ) , ( C4 . ( pr2 C5 ) ) ] by L29 , L30;
thus L39: thesis by L38 , L25 , L34 , L37 , ZFMISC_1:87;
end;
L40: (for R6 being set holds (for R7 being set holds (for R8 being set holds ((R6 in D1 & S1[ R6 , R7 ] & S1[ R6 , R8 ]) implies R7 = R8))))
proof
let R6 being set;
let R7 being set;
let R8 being set;
assume that
L41: R6 in D1
and
L42: S1[ R6 , R7 ]
and
L43: S1[ R6 , R8 ];
consider C6 being (Element of ( [: R9 , R10 :] * )) such that L44: R6 = C6 and L45: ( len C6 ) = ( arity C3 ) by L41;
L46: R7 = [ ( C3 . ( pr1 C6 ) ) , ( C4 . ( pr2 C6 ) ) ] by L42 , L44;
thus L47: thesis by L46 , L43 , L44;
end;
consider C7 being (PartFunc of D1 , [: R9 , R10 :]) such that L48: (for R6 being set holds (R6 in ( dom C7 ) iff (R6 in D1 & (ex R7 being set st S1[ R6 , R7 ])))) and L49: (for R6 being set holds (R6 in ( dom C7 ) implies S1[ R6 , ( C7 . R6 ) ])) from PARTFUN1:sch 2(L27 , L40);
L50: ( dom C7 ) = D1
proof
thus L51: ( dom C7 ) c= D1
proof
let R6 being set;
assume L52: R6 in ( dom C7 );
thus L53: thesis by L52 , L48;
end;

let R6 being set;
assume L54: R6 in D1;
consider C8 being (Element of ( [: R9 , R10 :] * )) such that L55: R6 = C8 and L56: ( len C8 ) = ( arity C3 ) by L54;
L57:
now
take D5 = [ ( C3 . ( pr1 C8 ) ) , ( C4 . ( pr2 C8 ) ) ];
let C9 being (FinSequence of [: R9 , R10 :]);
assume L58: C9 = R6;
thus L59: D5 = [ ( C3 . ( pr1 C9 ) ) , ( C4 . ( pr2 C9 ) ) ] by L58 , L55;
end;
thus L60: thesis by L57 , L48 , L54;
end;
L61: D1 in { ( B8 -tuples_on [: R9 , R10 :] ) where B8 is (Element of ( NAT )) : (not contradiction) };
L62: D1 c= ( union { ( B9 -tuples_on [: R9 , R10 :] ) where B9 is (Element of ( NAT )) : (not contradiction) } ) by L61 , ZFMISC_1:74;
L63: D1 c= ( [: R9 , R10 :] * ) by L62 , FINSEQ_2:108;
reconsider D6 = C7 as (PartFunc of ( [: R9 , R10 :] * ) , [: R9 , R10 :]) by L63 , RELSET_1:7;
L64: D6 is  quasi_total
proof
let C10 , C11 being (FinSequence of [: R9 , R10 :]);
assume that
L65: ( len C10 ) = ( len C11 )
and
L66: C10 in ( dom D6 );
reconsider D7 = C11 as (Element of ( [: R9 , R10 :] * )) by FINSEQ_1:def 11;
L67: (ex B10 being (Element of ( [: R9 , R10 :] * )) st (B10 = C10 & ( len B10 ) = ( arity C3 ))) by L50 , L66;
L68: D7 in D2 by L67 , L65;
thus L69: thesis by L68 , L50;
end;
L70: D6 is  homogeneous
proof
let C12 , C13 being FinSequence;
assume L71: (C12 in ( dom D6 ) & C13 in ( dom D6 ));
L72: ((ex B11 being (Element of ( [: R9 , R10 :] * )) st (B11 = C12 & ( len B11 ) = ( arity C3 ))) & (ex B12 being (Element of ( [: R9 , R10 :] * )) st (B12 = C13 & ( len B12 ) = ( arity C3 )))) by L71 , L50;
thus L73: thesis by L72;
end;
reconsider D8 = D6 as  homogeneous  quasi_total non  empty (PartFunc of ( [: R9 , R10 :] * ) , [: R9 , R10 :]) by L70 , L50 , L64;
take D8;
thus L74: ( dom D8 ) = D1 by L50;
let C14 being (FinSequence of [: R9 , R10 :]);
assume L75: C14 in ( dom D8 );
thus L76: thesis by L75 , L49;
end;
uniqueness
proof
let C15 , C16 being  homogeneous  quasi_total non  empty (PartFunc of ( [: R9 , R10 :] * ) , [: R9 , R10 :]);
assume that
L77: ( dom C15 ) = ( ( arity C3 ) -tuples_on [: R9 , R10 :] )
and
L78: (for B13 being (FinSequence of [: R9 , R10 :]) holds (B13 in ( dom C15 ) implies ( C15 . B13 ) = [ ( C3 . ( pr1 B13 ) ) , ( C4 . ( pr2 B13 ) ) ]))
and
L79: ( dom C16 ) = ( ( arity C3 ) -tuples_on [: R9 , R10 :] )
and
L80: (for B14 being (FinSequence of [: R9 , R10 :]) holds (B14 in ( dom C16 ) implies ( C16 . B14 ) = [ ( C3 . ( pr1 B14 ) ) , ( C4 . ( pr2 B14 ) ) ]));
L81:
now
let C17 being (Element of ( [: R9 , R10 :] * ));
reconsider D9 = C17 as (FinSequence of [: R9 , R10 :]);
assume L82: C17 in ( dom C15 );
L83: ( C15 . D9 ) = [ ( C3 . ( pr1 D9 ) ) , ( C4 . ( pr2 D9 ) ) ] by L82 , L78;
thus L84: ( C15 . C17 ) = ( C16 . C17 ) by L83 , L77 , L79 , L80 , L82;
end;
thus L85: thesis by L81 , L77 , L79 , PARTFUN1:5;
end;
end;
definition
let R1 being Universal_Algebra;
let R2 being Universal_Algebra;
assume L87: R1 , R2 are_similar ;
func Opers (R1 , R2) -> (PFuncFinSequence of [: (the carrier of R1) , (the carrier of R2) :]) means 
:L88: (( len it ) = ( len (the charact of R1) ) & (for R4 being Nat holds (R4 in ( dom it ) implies (for R12 being  homogeneous  quasi_total non  empty (PartFunc of ( (the carrier of R1) * ) , (the carrier of R1)) holds (for R13 being  homogeneous  quasi_total non  empty (PartFunc of ( (the carrier of R2) * ) , (the carrier of R2)) holds ((R12 = ( (the charact of R1) . R4 ) & R13 = ( (the charact of R2) . R4 )) implies ( it . R4 ) = [[: R12 , R13 :]]))))));
existence
proof
defpred S2[ Nat , set ] means (for R12 being  homogeneous  quasi_total non  empty (PartFunc of ( (the carrier of R1) * ) , (the carrier of R1)) holds (for R13 being  homogeneous  quasi_total non  empty (PartFunc of ( (the carrier of R2) * ) , (the carrier of R2)) holds ((R12 = ( (the charact of R1) . $1 ) & R13 = ( (the charact of R2) . $1 )) implies $2 = [[: R12 , R13 :]])));
set D10 = ( len (the charact of R1) );
set D11 = [: (the carrier of R1) , (the carrier of R2) :];
L89: ( dom (the charact of R2) ) = ( Seg ( len (the charact of R2) ) ) by FINSEQ_1:def 3;
L90: ( Seg D10 ) = ( dom (the charact of R1) ) by FINSEQ_1:def 3;
L91: (for B15 being Nat holds (B15 in ( Seg D10 ) implies (ex B16 being (Element of ( PFuncs (( D11 * ) , D11) )) st S2[ B15 , B16 ])))
proof
let C18 being Nat;
assume L92: C18 in ( Seg D10 );
reconsider D12 = ( (the charact of R1) . C18 ) as  homogeneous  quasi_total non  empty (PartFunc of ( (the carrier of R1) * ) , (the carrier of R1)) by L92 , L90 , MARGREL1:def 24 , UNIALG_1:1;
L93: ( len (the charact of R1) ) = ( len (the charact of R2) ) by L87 , UNIALG_2:1;
reconsider D13 = ( (the charact of R2) . C18 ) as  homogeneous  quasi_total non  empty (PartFunc of ( (the carrier of R2) * ) , (the carrier of R2)) by L93 , L89 , L92 , MARGREL1:def 24 , UNIALG_1:1;
reconsider D14 = [[: D12 , D13 :]] as (Element of ( PFuncs (( D11 * ) , D11) )) by PARTFUN1:45;
take D14;
let R12 being  homogeneous  quasi_total non  empty (PartFunc of ( (the carrier of R1) * ) , (the carrier of R1));
let R13 being  homogeneous  quasi_total non  empty (PartFunc of ( (the carrier of R2) * ) , (the carrier of R2));
assume L94: (R12 = ( (the charact of R1) . C18 ) & R13 = ( (the charact of R2) . C18 ));
thus L95: thesis by L94;
end;
consider C19 being (FinSequence of ( PFuncs (( D11 * ) , D11) )) such that L96: ( dom C19 ) = ( Seg D10 ) and L97: (for B17 being Nat holds (B17 in ( Seg D10 ) implies S2[ B17 , ( C19 . B17 ) ])) from FINSEQ_1:sch 5(L91);
reconsider D15 = C19 as (PFuncFinSequence of D11);
take D15;
thus L98: ( len D15 ) = ( len (the charact of R1) ) by L96 , FINSEQ_1:def 3;
let R4 being Nat;
assume L99: R4 in ( dom D15 );
thus L100: thesis by L99 , L96 , L97;
end;
uniqueness
proof
let C20 , C21 being (PFuncFinSequence of [: (the carrier of R1) , (the carrier of R2) :]);
assume that
L101: ( len C20 ) = ( len (the charact of R1) )
and
L102: (for R4 being Nat holds (R4 in ( dom C20 ) implies (for R12 being  homogeneous  quasi_total non  empty (PartFunc of ( (the carrier of R1) * ) , (the carrier of R1)) holds (for R13 being  homogeneous  quasi_total non  empty (PartFunc of ( (the carrier of R2) * ) , (the carrier of R2)) holds ((R12 = ( (the charact of R1) . R4 ) & R13 = ( (the charact of R2) . R4 )) implies ( C20 . R4 ) = [[: R12 , R13 :]])))))
and
L103: ( len C21 ) = ( len (the charact of R1) )
and
L104: (for R4 being Nat holds (R4 in ( dom C21 ) implies (for R12 being  homogeneous  quasi_total non  empty (PartFunc of ( (the carrier of R1) * ) , (the carrier of R1)) holds (for R13 being  homogeneous  quasi_total non  empty (PartFunc of ( (the carrier of R2) * ) , (the carrier of R2)) holds ((R12 = ( (the charact of R1) . R4 ) & R13 = ( (the charact of R2) . R4 )) implies ( C21 . R4 ) = [[: R12 , R13 :]])))));
L105: ( dom C20 ) = ( Seg ( len (the charact of R1) ) ) by L101 , FINSEQ_1:def 3;
L106:
now
let C22 being Nat;
assume L107: C22 in ( dom C20 );
L108: C22 in ( dom (the charact of R1) ) by L107 , L105 , FINSEQ_1:def 3;
reconsider D16 = ( (the charact of R1) . C22 ) as  homogeneous  quasi_total non  empty (PartFunc of ( (the carrier of R1) * ) , (the carrier of R1)) by L108 , MARGREL1:def 24 , UNIALG_1:1;
L109: ( Seg ( len (the charact of R2) ) ) = ( Seg ( len (the charact of R1) ) ) by L87 , UNIALG_2:1;
L110: C22 in ( dom (the charact of R2) ) by L109 , L105 , L107 , FINSEQ_1:def 3;
reconsider D17 = ( (the charact of R2) . C22 ) as  homogeneous  quasi_total non  empty (PartFunc of ( (the carrier of R2) * ) , (the carrier of R2)) by L110 , MARGREL1:def 24 , UNIALG_1:1;
L111: (C22 in ( dom C21 ) & ( C20 . C22 ) = [[: D16 , D17 :]]) by L102 , L103 , L105 , L107 , FINSEQ_1:def 3;
thus L112: ( C20 . C22 ) = ( C21 . C22 ) by L111 , L104;
end;
thus L113: thesis by L106 , L101 , L103 , FINSEQ_2:9;
end;
end;
theorem
L115: (for R1 being Universal_Algebra holds (for R2 being Universal_Algebra holds (R1 , R2 are_similar  implies UAStr (# [: (the carrier of R1) , (the carrier of R2) :] , ( Opers (R1 , R2) ) #) is  strict  strict  strict  strict Universal_Algebra)))
proof
let R1 being Universal_Algebra;
let R2 being Universal_Algebra;
set D18 = UAStr (# [: (the carrier of R1) , (the carrier of R2) :] , ( Opers (R1 , R2) ) #);
L116: ( dom ( Opers (R1 , R2) ) ) = ( Seg ( len ( Opers (R1 , R2) ) ) ) by FINSEQ_1:def 3;
assume L117: R1 , R2 are_similar ;
L118: (( dom (the charact of R2) ) = ( Seg ( len (the charact of R2) ) ) & ( len (the charact of R2) ) = ( len (the charact of R1) )) by L117 , FINSEQ_1:def 3 , UNIALG_2:1;
L119: ( len ( Opers (R1 , R2) ) ) = ( len (the charact of R1) ) by L117 , L88;
L120: ( dom (the charact of R1) ) = ( Seg ( len (the charact of R1) ) ) by FINSEQ_1:def 3;
L121: (the charact of D18) is  quasi_total
proof
let R4 being Nat;
let C23 being (PartFunc of ( (the carrier of D18) * ) , (the carrier of D18));
assume that
L122: R4 in ( dom (the charact of D18) )
and
L123: C23 = ( (the charact of D18) . R4 );
reconsider D19 = ( (the charact of R2) . R4 ) as  homogeneous  quasi_total non  empty (PartFunc of ( (the carrier of R2) * ) , (the carrier of R2)) by L116 , L119 , L118 , L122 , MARGREL1:def 24 , UNIALG_1:1;
reconsider D20 = ( (the charact of R1) . R4 ) as  homogeneous  quasi_total non  empty (PartFunc of ( (the carrier of R1) * ) , (the carrier of R1)) by L116 , L120 , L119 , L122 , MARGREL1:def 24 , UNIALG_1:1;
L124: C23 = [[: D20 , D19 :]] by L117 , L122 , L123 , L88;
thus L125: thesis by L124;
end;
L126: (the charact of D18) is  non-empty
proof
let C24 being set;
set D21 = ( (the charact of D18) . C24 );
assume L127: C24 in ( dom (the charact of D18) );
reconsider D22 = C24 as (Element of ( NAT )) by L127;
reconsider D23 = ( (the charact of R2) . D22 ) as  homogeneous  quasi_total non  empty (PartFunc of ( (the carrier of R2) * ) , (the carrier of R2)) by L116 , L119 , L118 , L127 , MARGREL1:def 24 , UNIALG_1:1;
reconsider D24 = ( (the charact of R1) . D22 ) as  homogeneous  quasi_total non  empty (PartFunc of ( (the carrier of R1) * ) , (the carrier of R1)) by L116 , L120 , L119 , L127 , MARGREL1:def 24 , UNIALG_1:1;
L128: D21 = [[: D24 , D23 :]] by L117 , L127 , L88;
thus L129: thesis by L128;
end;
L130: (the charact of D18) is  homogeneous
proof
let R4 being Nat;
let C25 being (PartFunc of ( (the carrier of D18) * ) , (the carrier of D18));
assume that
L131: R4 in ( dom (the charact of D18) )
and
L132: C25 = ( (the charact of D18) . R4 );
reconsider D25 = ( (the charact of R2) . R4 ) as  homogeneous  quasi_total non  empty (PartFunc of ( (the carrier of R2) * ) , (the carrier of R2)) by L116 , L119 , L118 , L131 , MARGREL1:def 24 , UNIALG_1:1;
reconsider D26 = ( (the charact of R1) . R4 ) as  homogeneous  quasi_total non  empty (PartFunc of ( (the carrier of R1) * ) , (the carrier of R1)) by L116 , L120 , L119 , L131 , MARGREL1:def 24 , UNIALG_1:1;
L133: C25 = [[: D26 , D25 :]] by L117 , L131 , L132 , L88;
thus L134: thesis by L133;
end;
L135: (the charact of D18) <> ( {} ) by L119;
thus L136: thesis by L135 , L121 , L130 , L126 , UNIALG_1:def 1 , UNIALG_1:def 2 , UNIALG_1:def 3;
end;
definition
let R1 being Universal_Algebra;
let R2 being Universal_Algebra;
assume L137: R1 , R2 are_similar ;
func [:R1 , R2 :] ->  strict Universal_Algebra equals 
:L138: UAStr (# [: (the carrier of R1) , (the carrier of R2) :] , ( Opers (R1 , R2) ) #);
coherence by L137 , L115;
end;
definition
let C26 , C27 being non  empty set;
func Inv (C26 , C27) -> (Function of [: C26 , C27 :] , [: C27 , C26 :]) means 
:L140: (for B18 being (Element of [: C26 , C27 :]) holds ( it . B18 ) = [ ( B18 `2 ) , ( B18 `1 ) ]);
existence
proof
deffunc H1((Element of [: C26 , C27 :])) = [ ( $1 `2 ) , ( $1 `1 ) ];
thus L141: (ex B19 being (Function of [: C26 , C27 :] , [: C27 , C26 :]) st (for B20 being (Element of [: C26 , C27 :]) holds ( B19 . B20 ) = H1(B20))) from FUNCT_2:sch 4;
end;
uniqueness
proof
let C28 , C29 being (Function of [: C26 , C27 :] , [: C27 , C26 :]);
assume that
L142: (for B21 being (Element of [: C26 , C27 :]) holds ( C28 . B21 ) = [ ( B21 `2 ) , ( B21 `1 ) ])
and
L143: (for B22 being (Element of [: C26 , C27 :]) holds ( C29 . B22 ) = [ ( B22 `2 ) , ( B22 `1 ) ]);
L144:
now
let C30 being (Element of [: C26 , C27 :]);
L145: ( C28 . C30 ) = [ ( C30 `2 ) , ( C30 `1 ) ] by L142;
thus L146: ( C28 . C30 ) = ( C29 . C30 ) by L145 , L143;
end;
thus L147: thesis by L144 , FUNCT_2:63;
end;
end;
theorem
L149: (for B23 , B24 being non  empty set holds ( rng ( Inv (B23 , B24) ) ) = [: B24 , B23 :])
proof
let C31 , C32 being non  empty set;
thus L150: ( rng ( Inv (C31 , C32) ) ) c= [: C32 , C31 :];
let R6 being set;
L151: ( dom ( Inv (C31 , C32) ) ) = [: C31 , C32 :] by FUNCT_2:def 1;
assume L152: R6 in [: C32 , C31 :];
reconsider D27 = R6 as (Element of [: C32 , C31 :]) by L152;
L153: ( ( Inv (C31 , C32) ) . [ ( D27 `2 ) , ( D27 `1 ) ] ) = [ ( [ ( D27 `2 ) , ( D27 `1 ) ] `2 ) , ( [ ( D27 `2 ) , ( D27 `1 ) ] `1 ) ] by L140
.= [ ( D27 `1 ) , ( [ ( D27 `2 ) , ( D27 `1 ) ] `1 ) ]
.= [ ( D27 `1 ) , ( D27 `2 ) ]
.= D27 by MCART_1:21;
thus L154: thesis by L153 , L151 , FUNCT_1:def 3;
end;
theorem
L155: (for B25 , B26 being non  empty set holds ( Inv (B25 , B26) ) is  one-to-one)
proof
let C33 , C34 being non  empty set;
let R6 being set;
let R7 being set;
assume that
L156: (R6 in ( dom ( Inv (C33 , C34) ) ) & R7 in ( dom ( Inv (C33 , C34) ) ))
and
L157: ( ( Inv (C33 , C34) ) . R6 ) = ( ( Inv (C33 , C34) ) . R7 );
reconsider D28 = R6 , D29 = R7 as (Element of [: C33 , C34 :]) by L156 , FUNCT_2:def 1;
L158: (( ( Inv (C33 , C34) ) . D28 ) = [ ( D28 `2 ) , ( D28 `1 ) ] & ( ( Inv (C33 , C34) ) . D29 ) = [ ( D29 `2 ) , ( D29 `1 ) ]) by L140;
L159: (( D28 `1 ) = ( D29 `1 ) & ( D28 `2 ) = ( D29 `2 )) by L158 , L157 , XTUPLE_0:1;
thus L160: thesis by L159 , DOMAIN_1:2;
end;
theorem
L161: (for R1 being Universal_Algebra holds (for R2 being Universal_Algebra holds (R1 , R2 are_similar  implies ( Inv ((the carrier of R1) , (the carrier of R2)) ) is (Function of (the carrier of [: R1 , R2 :]) , (the carrier of [: R2 , R1 :])))))
proof
let R1 being Universal_Algebra;
let R2 being Universal_Algebra;
assume L162: R1 , R2 are_similar ;
L163: ([: R1 , R2 :] = UAStr (# [: (the carrier of R1) , (the carrier of R2) :] , ( Opers (R1 , R2) ) #) & [: R2 , R1 :] = UAStr (# [: (the carrier of R2) , (the carrier of R1) :] , ( Opers (R2 , R1) ) #)) by L162 , L138;
thus L164: thesis by L163;
end;
theorem
L165: (for R1 being Universal_Algebra holds (for R2 being Universal_Algebra holds (R1 , R2 are_similar  implies (for B27 being (operation of R1) holds (for B28 being (operation of R2) holds (for B29 being (operation of [: R1 , R2 :]) holds (for B30 being Nat holds ((B27 = ( (the charact of R1) . B30 ) & B28 = ( (the charact of R2) . B30 ) & B29 = ( (the charact of [: R1 , R2 :]) . B30 ) & B30 in ( dom (the charact of R1) )) implies (( arity B29 ) = ( arity B27 ) & ( arity B29 ) = ( arity B28 ) & B29 = [[: B27 , B28 :]])))))))))
proof
let R1 being Universal_Algebra;
let R2 being Universal_Algebra;
assume L166: R1 , R2 are_similar ;
L167: ( dom ( Opers (R1 , R2) ) ) = ( Seg ( len ( Opers (R1 , R2) ) ) ) by FINSEQ_1:def 3;
L168: ( dom (the charact of R1) ) = ( Seg ( len (the charact of R1) ) ) by FINSEQ_1:def 3;
let C35 being (operation of R1);
let C36 being (operation of R2);
let C37 being (operation of [: R1 , R2 :]);
let C38 being Nat;
assume that
L169: C35 = ( (the charact of R1) . C38 )
and
L170: C36 = ( (the charact of R2) . C38 )
and
L171: C37 = ( (the charact of [: R1 , R2 :]) . C38 )
and
L172: C38 in ( dom (the charact of R1) );
L173: (( dom ( signature R1 ) ) = ( Seg ( len ( signature R1 ) ) ) & ( len ( signature R1 ) ) = ( len (the charact of R1) )) by FINSEQ_1:def 3 , UNIALG_1:def 4;
L174: ( ( signature R1 ) . C38 ) = ( arity C35 ) by L173 , L169 , L172 , L168 , UNIALG_1:def 4;
L175: ( signature R1 ) = ( signature R2 ) by L166 , UNIALG_2:def 1;
L176: ( ( signature R2 ) . C38 ) = ( arity C36 ) by L175 , L170 , L172 , L168 , L173 , UNIALG_1:def 4;
L177: ([: R1 , R2 :] = UAStr (# [: (the carrier of R1) , (the carrier of R2) :] , ( Opers (R1 , R2) ) #) & ( len (the charact of R1) ) = ( len ( Opers (R1 , R2) ) )) by L166 , L88 , L138;
L178: C37 = [[: C35 , C36 :]] by L177 , L166 , L169 , L170 , L171 , L172 , L168 , L167 , L88;
L179: ( dom C37 ) = ( ( arity C35 ) -tuples_on [: (the carrier of R1) , (the carrier of R2) :] ) by L178 , L175 , L174 , L176 , L23;
L180: ((ex B31 being FinSequence st B31 in ( dom C37 )) & (for B32 being FinSequence holds (B32 in ( dom C37 ) implies ( len B32 ) = ( arity C35 ))))
proof
set D30 = the (Element of ( ( arity C35 ) -tuples_on [: (the carrier of R1) , (the carrier of R2) :] ));
L181: D30 in ( dom C37 ) by L179;
thus L182: (ex B33 being FinSequence st B33 in ( dom C37 )) by L181;
let C39 being FinSequence;
assume L183: C39 in ( dom C37 );
L184: (ex B34 being (Element of ( [: (the carrier of R1) , (the carrier of R2) :] * )) st (B34 = C39 & ( len B34 ) = ( arity C35 ))) by L183 , L179;
thus L185: thesis by L184;
end;
thus L186: thesis by L180 , L166 , L169 , L170 , L171 , L172 , L168 , L167 , L177 , L175 , L174 , L176 , L88 , MARGREL1:def 25;
end;
theorem
L187: (for R1 being Universal_Algebra holds (for R2 being Universal_Algebra holds (R1 , R2 are_similar  implies [: R1 , R2 :] , R1 are_similar )))
proof
let R1 being Universal_Algebra;
let R2 being Universal_Algebra;
L188: ( dom ( signature R1 ) ) = ( Seg ( len ( signature R1 ) ) ) by FINSEQ_1:def 3;
L189: ( dom ( signature R1 ) ) = ( Seg ( len ( signature R1 ) ) ) by FINSEQ_1:def 3;
L190: ( dom (the charact of [: R1 , R2 :]) ) = ( Seg ( len (the charact of [: R1 , R2 :]) ) ) by FINSEQ_1:def 3;
L191: ( dom (the charact of R2) ) = ( Seg ( len (the charact of R2) ) ) by FINSEQ_1:def 3;
L192: ( dom (the charact of R1) ) = ( Seg ( len (the charact of R1) ) ) by FINSEQ_1:def 3;
assume L193: R1 , R2 are_similar ;
L194: [: R1 , R2 :] = UAStr (# [: (the carrier of R1) , (the carrier of R2) :] , ( Opers (R1 , R2) ) #) by L193 , L138;
L195: ( len (the charact of [: R1 , R2 :]) ) = ( len (the charact of R1) ) by L194 , L193 , L88;
L196: ( len ( signature [: R1 , R2 :] ) ) = ( len (the charact of R1) ) by L195 , UNIALG_1:def 4
.= ( len ( signature R1 ) ) by UNIALG_1:def 4;
L197: ( dom ( signature [: R1 , R2 :] ) ) = ( Seg ( len ( signature [: R1 , R2 :] ) ) ) by FINSEQ_1:def 3;
L198:
now
let C40 being Nat;
assume L199: C40 in ( dom ( signature R1 ) );
L200: C40 in ( dom (the charact of [: R1 , R2 :]) ) by L199 , L196 , L188 , L190 , UNIALG_1:def 4;
reconsider D31 = ( (the charact of [: R1 , R2 :]) . C40 ) as (operation of [: R1 , R2 :]) by L200 , FUNCT_1:def 3;
L201: ( len ( signature R1 ) ) = ( len ( signature R2 ) ) by L193 , UNIALG_2:def 1
.= ( len (the charact of R2) ) by UNIALG_1:def 4;
reconsider D32 = ( (the charact of R2) . C40 ) as (operation of R2) by L201 , L188 , L191 , L199 , FUNCT_1:def 3;
L202: D32 = ( (the charact of R2) . C40 );
L203: C40 in ( Seg ( len (the charact of R1) ) ) by L189 , L199 , UNIALG_1:def 4;
L204: C40 in ( dom (the charact of R1) ) by L203 , FINSEQ_1:def 3;
reconsider D33 = ( (the charact of R1) . C40 ) as (operation of R1) by L204 , FUNCT_1:def 3;
L205: (( ( signature R1 ) . C40 ) = ( arity D33 ) & ( ( signature [: R1 , R2 :] ) . C40 ) = ( arity D31 )) by L196 , L188 , L197 , L199 , UNIALG_1:def 4;
thus L206: ( ( signature R1 ) . C40 ) = ( ( signature [: R1 , R2 :] ) . C40 ) by L205 , L193 , L192 , L203 , L202 , L165;
end;
L207: ( signature R1 ) = ( signature [: R1 , R2 :] ) by L198 , L196 , FINSEQ_2:9;
thus L208: thesis by L207 , UNIALG_2:def 1;
end;
theorem
L209: (for B35 , B36 , B37 , B38 being Universal_Algebra holds ((B35 is (SubAlgebra of B36) & B37 is (SubAlgebra of B38) & B36 , B38 are_similar ) implies [: B35 , B37 :] is (SubAlgebra of [: B36 , B38 :])))
proof
let C41 , C42 , C43 , C44 being Universal_Algebra;
assume that
L210: C41 is (SubAlgebra of C42)
and
L211: C43 is (SubAlgebra of C44)
and
L212: C42 , C44 are_similar ;
L213: [: C42 , C44 :] = UAStr (# [: (the carrier of C42) , (the carrier of C44) :] , ( Opers (C42 , C44) ) #) by L212 , L138;
L214: C41 , C42 are_similar  by L210 , UNIALG_2:13;
L215: C41 , C44 are_similar  by L214 , L212 , UNIALG_2:2;
L216: C43 , C44 are_similar  by L211 , UNIALG_2:13;
L217: [: C41 , C43 :] = UAStr (# [: (the carrier of C41) , (the carrier of C43) :] , ( Opers (C41 , C43) ) #) by L216 , L215 , L138 , UNIALG_2:2;
L218: ((the carrier of C41) is (Subset of C42) & (the carrier of C43) is (Subset of C44)) by L210 , L211 , UNIALG_2:def 7;
thus L219: (the carrier of [: C41 , C43 :]) is (Subset of [: C42 , C44 :]) by L218 , L217 , L213 , ZFMISC_1:96;
let C45 being non  empty (Subset of [: C42 , C44 :]);
assume L220: C45 = (the carrier of [: C41 , C43 :]);
L221: ( signature C44 ) = ( signature C42 ) by L212 , UNIALG_2:def 1;
L222: ( len (the charact of C44) ) = ( len ( signature C42 ) ) by L221 , UNIALG_1:def 4;
L223: (( dom (the charact of C44) ) = ( Seg ( len (the charact of C44) ) ) & ( len (the charact of C44) ) = ( len (the charact of C42) )) by L222 , FINSEQ_1:def 3 , UNIALG_1:def 4;
L224: ( dom (the charact of C41) ) = ( Seg ( len (the charact of C41) ) ) by FINSEQ_1:def 3;
L225: ( dom (the charact of C42) ) = ( Seg ( len (the charact of C42) ) ) by FINSEQ_1:def 3;
L226: C41 , C43 are_similar  by L216 , L215 , UNIALG_2:2;
L227: ( len (the charact of [: C41 , C43 :]) ) = ( len (the charact of C41) ) by L226 , L217 , L88;
L228: ( signature C41 ) = ( signature C43 ) by L226 , UNIALG_2:def 1;
L229: ( len (the charact of C41) ) = ( len ( signature C43 ) ) by L228 , UNIALG_1:def 4;
L230: (( dom (the charact of C43) ) = ( Seg ( len (the charact of C43) ) ) & ( len (the charact of C41) ) = ( len (the charact of C43) )) by L229 , FINSEQ_1:def 3 , UNIALG_1:def 4;
L231: ( dom ( Opers ([: C42 , C44 :] , C45) ) ) = ( Seg ( len ( Opers ([: C42 , C44 :] , C45) ) ) ) by FINSEQ_1:def 3;
L232: ( dom (the charact of [: C42 , C44 :]) ) = ( dom ( Opers ([: C42 , C44 :] , C45) ) ) by UNIALG_2:def 6;
L233: ( len (the charact of [: C42 , C44 :]) ) = ( len ( Opers ([: C42 , C44 :] , C45) ) ) by L232 , FINSEQ_3:29;
L234: ( len (the charact of C42) ) = ( len ( Opers ([: C42 , C44 :] , C45) ) ) by L233 , L212 , L213 , L88;
L235: ( signature C41 ) = ( signature C42 ) by L214 , UNIALG_2:def 1;
L236: ( len (the charact of C41) ) = ( len ( signature C42 ) ) by L235 , UNIALG_1:def 4;
L237: ( len (the charact of [: C41 , C43 :]) ) = ( len ( Opers ([: C42 , C44 :] , C45) ) ) by L236 , L234 , L227 , UNIALG_1:def 4;
reconsider D34 = (the carrier of C43) as non  empty (Subset of C44) by L211 , UNIALG_2:def 7;
L238: D34 is  opers_closed by L211 , UNIALG_2:def 7;
reconsider D35 = (the carrier of C41) as non  empty (Subset of C42) by L210 , UNIALG_2:def 7;
L239: D35 is  opers_closed by L210 , UNIALG_2:def 7;
L240: [: (the carrier of C41) , (the carrier of C43) :] c= [: (the carrier of C42) , (the carrier of C44) :] by L218 , ZFMISC_1:96;
L241: (for B39 being (operation of [: C42 , C44 :]) holds C45 is_closed_on B39)
proof
let C46 being (operation of [: C42 , C44 :]);
let C47 being (FinSequence of C45);
reconsider D36 = C47 as (Element of ( [: (the carrier of C41) , (the carrier of C43) :] * )) by L217 , L220 , FINSEQ_1:def 11;
consider C48 being Nat such that L242: C48 in ( dom (the charact of [: C42 , C44 :]) ) and L243: ( (the charact of [: C42 , C44 :]) . C48 ) = C46 by FINSEQ_2:10;
reconsider D37 = ( pr2 D36 ) as (Element of ( D34 * )) by FINSEQ_1:def 11;
reconsider D38 = ( pr1 D36 ) as (Element of ( D35 * )) by FINSEQ_1:def 11;
L244: ( len (the charact of [: C42 , C44 :]) ) = ( len (the charact of C42) ) by L212 , L213 , L88;
L245: C48 in ( Seg ( len (the charact of [: C42 , C44 :]) ) ) by L242 , FINSEQ_1:def 3;
L246: C48 in ( dom (the charact of C42) ) by L245 , L244 , FINSEQ_1:def 3;
reconsider D39 = ( (the charact of C42) . C48 ) as (operation of C42) by L246 , FUNCT_1:def 3;
L247: ( len (the charact of C44) ) = ( len (the charact of C42) ) by L212 , UNIALG_2:1;
L248: C48 in ( dom (the charact of C44) ) by L247 , L245 , L244 , FINSEQ_1:def 3;
reconsider D40 = ( (the charact of C44) . C48 ) as (operation of C44) by L248 , FUNCT_1:def 3;
L249: C46 = [[: D39 , D40 :]] by L212 , L243 , L246 , L165;
L250: D40 = ( (the charact of C44) . C48 );
L251: ( arity C46 ) = ( arity D39 ) by L250 , L212 , L243 , L246 , L165;
L252: ( rng D36 ) c= [: (the carrier of C41) , (the carrier of C43) :] by FINSEQ_1:def 4;
L253: ( rng D36 ) c= [: (the carrier of C42) , (the carrier of C44) :] by L252 , L240 , XBOOLE_1:1;
L254: D36 is (FinSequence of [: (the carrier of C42) , (the carrier of C44) :]) by L253 , FINSEQ_1:def 4;
reconsider D41 = D36 as (Element of ( [: (the carrier of C42) , (the carrier of C44) :] * )) by L254 , FINSEQ_1:def 11;
L255: D39 = ( (the charact of C42) . C48 );
L256: ( arity C46 ) = ( arity D40 ) by L255 , L212 , L243 , L246 , L165;
assume L257: ( len C47 ) = ( arity C46 );
L258: D41 in { B40 where B40 is (Element of ( [: (the carrier of C42) , (the carrier of C44) :] * )) : ( len B40 ) = ( arity D39 ) } by L257 , L251;
L259: (D34 is_closed_on D40 & ( len D37 ) = ( len D36 )) by L238 , L11 , UNIALG_2:def 4;
L260: ( D40 . D37 ) in D34 by L259 , L257 , L256 , UNIALG_2:def 3;
L261: (D35 is_closed_on D39 & ( len D38 ) = ( len D36 )) by L239 , L1 , UNIALG_2:def 4;
L262: ( D39 . D38 ) in D35 by L261 , L257 , L251 , UNIALG_2:def 3;
L263: ( dom [[: D39 , D40 :]] ) = ( ( arity D39 ) -tuples_on [: (the carrier of C42) , (the carrier of C44) :] ) by L251 , L256 , L23;
L264: ( C46 . C47 ) = [ ( D39 . ( pr1 D41 ) ) , ( D40 . ( pr2 D41 ) ) ] by L263 , L251 , L256 , L249 , L258 , L23;
thus L265: thesis by L264 , L217 , L220 , L262 , L260 , ZFMISC_1:87;
end;
L266: ( dom (the charact of C44) ) = ( dom ( Opers (C44 , D34) ) ) by UNIALG_2:def 6;
L267: ( dom (the charact of [: C41 , C43 :]) ) = ( Seg ( len (the charact of [: C41 , C43 :]) ) ) by FINSEQ_1:def 3;
L268: ( dom (the charact of C42) ) = ( dom ( Opers (C42 , D35) ) ) by UNIALG_2:def 6;
L269: (for B41 being Nat holds (B41 in ( dom (the charact of [: C41 , C43 :]) ) implies ( (the charact of [: C41 , C43 :]) . B41 ) = ( ( Opers ([: C42 , C44 :] , C45) ) . B41 )))
proof
let C49 being Nat;
assume L270: C49 in ( dom (the charact of [: C41 , C43 :]) );
reconsider D42 = ( (the charact of C42) . C49 ) as (operation of C42) by L270 , L234 , L237 , L225 , L267 , FUNCT_1:def 3;
reconsider D43 = ( (the charact of C44) . C49 ) as (operation of C44) by L234 , L237 , L267 , L223 , L270 , FUNCT_1:def 3;
reconsider D44 = ( (the charact of [: C42 , C44 :]) . C49 ) as (operation of [: C42 , C44 :]) by L232 , L237 , L267 , L231 , L270 , FUNCT_1:def 3;
L271: D44 = [[: D42 , D43 :]] by L212 , L234 , L237 , L225 , L267 , L270 , L165;
reconsider D45 = ( (the charact of C43) . C49 ) as (operation of C43) by L227 , L267 , L230 , L270 , FUNCT_1:def 3;
L272: ( ( Opers (C44 , D34) ) . C49 ) = ( D43 /. D34 ) by L234 , L237 , L267 , L223 , L266 , L270 , UNIALG_2:def 6;
L273: D45 = ( D43 /. D34 ) by L272 , L211 , UNIALG_2:def 7;
L274: D42 = ( (the charact of C42) . C49 );
L275: ( arity D44 ) = ( arity D43 ) by L274 , L212 , L234 , L237 , L225 , L267 , L270 , L165;
reconsider D46 = ( (the charact of C41) . C49 ) as (operation of C41) by L227 , L224 , L267 , L270 , FUNCT_1:def 3;
L276: ( ( Opers (C42 , D35) ) . C49 ) = ( D42 /. D35 ) by L234 , L237 , L225 , L267 , L268 , L270 , UNIALG_2:def 6;
L277: D46 = ( D42 /. D35 ) by L276 , L210 , UNIALG_2:def 7;
L278: D34 is_closed_on D43 by L238 , UNIALG_2:def 4;
L279: ( arity ( D43 /. D34 ) ) = ( arity D43 ) by L278 , UNIALG_2:5;
L280: D43 = ( (the charact of C44) . C49 );
L281: ( arity D44 ) = ( arity D42 ) by L280 , L212 , L234 , L237 , L225 , L267 , L270 , L165;
L282: ( dom ( [[: D42 , D43 :]] | ( ( arity D44 ) -tuples_on C45 ) ) ) = ( ( dom [[: D42 , D43 :]] ) /\ ( ( arity D42 ) -tuples_on C45 ) ) by L281 , RELAT_1:61
.= ( ( ( arity D42 ) -tuples_on (the carrier of [: C42 , C44 :]) ) /\ ( ( arity D42 ) -tuples_on C45 ) ) by L213 , L275 , L281 , L23
.= ( ( arity D42 ) -tuples_on C45 ) by MARGREL1:21;
L283: D35 is_closed_on D42 by L239 , UNIALG_2:def 4;
L284: ( arity ( D42 /. D35 ) ) = ( arity D42 ) by L283 , UNIALG_2:5;
L285: ( dom [[: ( D42 /. D35 ) , ( D43 /. D34 ) :]] ) = ( ( arity D42 ) -tuples_on C45 ) by L284 , L217 , L220 , L275 , L281 , L279 , L23;
L286:
now
let R6 being set;
L287: ( dom ( [[: D42 , D43 :]] | ( ( arity D44 ) -tuples_on C45 ) ) ) c= ( dom [[: D42 , D43 :]] ) by RELAT_1:60;
assume L288: R6 in ( ( arity D42 ) -tuples_on C45 );
consider C50 being (Element of ( C45 * )) such that L289: C50 = R6 and L290: ( len C50 ) = ( arity D42 ) by L288;
L291: ( rng C50 ) c= C45 by FINSEQ_1:def 4;
L292: ( rng C50 ) c= [: (the carrier of C42) , (the carrier of C44) :] by L291 , L213 , XBOOLE_1:1;
reconsider D47 = C50 as (FinSequence of [: (the carrier of C42) , (the carrier of C44) :]) by L292 , FINSEQ_1:def 4;
L293: ( ( [[: D42 , D43 :]] | ( ( arity D44 ) -tuples_on C45 ) ) . R6 ) = ( [[: D42 , D43 :]] . D47 ) by L282 , L288 , L289 , FUNCT_1:47
.= [ ( D42 . ( pr1 D47 ) ) , ( D43 . ( pr2 D47 ) ) ] by L275 , L281 , L282 , L288 , L289 , L287 , L23;
reconsider D48 = C50 as (FinSequence of [: (D35 qua non  empty set) , (D34 qua non  empty set) :]) by L217 , L220;
reconsider D49 = ( pr1 D48 ) as (Element of ( D35 * )) by FINSEQ_1:def 11;
L294: ( len ( pr1 D48 ) ) = ( len D48 ) by L1;
L295: D49 in { B42 where B42 is (Element of ( D35 * )) : ( len B42 ) = ( arity D42 ) } by L294 , L290;
reconsider D50 = ( pr2 D48 ) as (Element of ( D34 * )) by FINSEQ_1:def 11;
L296: ( len ( pr2 D48 ) ) = ( len D48 ) by L11;
L297: D50 in { B43 where B43 is (Element of ( D34 * )) : ( len B43 ) = ( arity D43 ) } by L296 , L275 , L281 , L290;
L298: ( dom ( D43 | ( ( arity D43 ) -tuples_on D34 ) ) ) = ( ( dom D43 ) /\ ( ( arity D43 ) -tuples_on D34 ) ) by RELAT_1:61
.= ( ( ( arity D43 ) -tuples_on (the carrier of C44) ) /\ ( ( arity D43 ) -tuples_on D34 ) ) by MARGREL1:22
.= ( ( arity D43 ) -tuples_on D34 ) by MARGREL1:21;
L299: ( dom ( D42 | ( ( arity D42 ) -tuples_on D35 ) ) ) = ( ( dom D42 ) /\ ( ( arity D42 ) -tuples_on D35 ) ) by RELAT_1:61
.= ( ( ( arity D42 ) -tuples_on (the carrier of C42) ) /\ ( ( arity D42 ) -tuples_on D35 ) ) by MARGREL1:22
.= ( ( arity D42 ) -tuples_on D35 ) by MARGREL1:21;
L300: ( [[: ( D42 /. D35 ) , ( D43 /. D34 ) :]] . R6 ) = [ ( ( D42 /. D35 ) . ( pr1 D48 ) ) , ( ( D43 /. D34 ) . ( pr2 D48 ) ) ] by L275 , L281 , L284 , L279 , L285 , L288 , L289 , L23
.= [ ( ( D42 | ( ( arity D42 ) -tuples_on D35 ) ) . D49 ) , ( ( D43 /. D34 ) . ( pr2 D48 ) ) ] by L283 , UNIALG_2:def 5
.= [ ( D42 . ( pr1 D48 ) ) , ( ( D43 /. D34 ) . ( pr2 D48 ) ) ] by L295 , L299 , FUNCT_1:47
.= [ ( D42 . ( pr1 D48 ) ) , ( ( D43 | ( ( arity D43 ) -tuples_on D34 ) ) . ( pr2 D48 ) ) ] by L278 , UNIALG_2:def 5
.= [ ( D42 . ( pr1 D48 ) ) , ( D43 . ( pr2 D48 ) ) ] by L297 , L298 , FUNCT_1:47;
thus L301: ( [[: ( D42 /. D35 ) , ( D43 /. D34 ) :]] . R6 ) = ( ( [[: D42 , D43 :]] | ( ( arity D44 ) -tuples_on C45 ) ) . R6 ) by L300 , L293;
end;
thus L302: ( ( Opers ([: C42 , C44 :] , C45) ) . C49 ) = ( D44 /. C45 ) by L237 , L267 , L231 , L270 , UNIALG_2:def 6
.= ( [[: D42 , D43 :]] | ( ( arity D44 ) -tuples_on C45 ) ) by L241 , L271 , UNIALG_2:def 5
.= [[: ( D42 /. D35 ) , ( D43 /. D34 ) :]] by L285 , L282 , L286 , FUNCT_1:2
.= ( (the charact of [: C41 , C43 :]) . C49 ) by L226 , L217 , L270 , L277 , L273 , L88;
end;
thus L303: thesis by L269 , L241 , L237 , FINSEQ_2:9 , UNIALG_2:def 4;
end;
begin
definition
let C51 being Nat;
func TrivialOp C51 -> (PartFunc of ( { ( {} ) } * ) , { ( {} ) }) means 
:L304: (( dom it ) = { ( C51 |-> ( {} ) ) } & ( rng it ) = { ( {} ) });
existence
proof
consider C52 being Function such that L305: ( dom C52 ) = { ( C51 |-> ( {} ) ) } and L306: ( rng C52 ) = { ( {} ) } by FUNCT_1:5;
L307: ( dom C52 ) c= ( { ( {} ) } * )
proof
reconsider D51 = ( {} ) as (Element of { ( {} ) }) by TARSKI:def 1;
let R6 being set;
assume L308: R6 in ( dom C52 );
L309: R6 = ( C51 |-> D51 ) by L308 , L305 , TARSKI:def 1;
thus L310: thesis by L309 , FINSEQ_1:def 11;
end;
reconsider D52 = C52 as (PartFunc of ( { ( {} ) } * ) , { ( {} ) }) by L307 , L306 , RELSET_1:4;
take D52;
thus L311: thesis by L305 , L306;
end;
uniqueness by FUNCT_1:7;
end;
registration
let C53 being Nat;
cluster ( TrivialOp C53 ) ->  homogeneous  quasi_total non  empty;
coherence
proof
set D53 = ( TrivialOp C53 );
L313: ( dom D53 ) = { ( C53 |-> ( {} ) ) } by L304;
thus L314: D53 is  homogeneous
proof
let C54 , C55 being FinSequence;
assume that
L315: C54 in ( dom D53 )
and
L316: C55 in ( dom D53 );
L317: C54 = ( C53 |-> ( {} ) ) by L313 , L315 , TARSKI:def 1;
thus L318: thesis by L317 , L313 , L316 , TARSKI:def 1;
end;

L319:
now
let C56 , C57 being (FinSequence of { ( {} ) });
assume that
L320: ( len C56 ) = ( len C57 )
and
L321: C56 in ( dom D53 );
L322: ( dom C56 ) = ( Seg ( len C56 ) ) by FINSEQ_1:def 3;
L323: C56 = ( C53 |-> ( {} ) ) by L313 , L321 , TARSKI:def 1;
L324:
now
let C58 being Nat;
assume L325: C58 in ( dom C56 );
L326: C58 in ( dom C57 ) by L325 , L320 , L322 , FINSEQ_1:def 3;
L327: ( C57 . C58 ) in { ( {} ) } by L326 , FINSEQ_2:11;
L328: ( C56 . C58 ) = ( {} ) by L323;
thus L329: ( C56 . C58 ) = ( C57 . C58 ) by L328 , L327 , TARSKI:def 1;
end;
thus L330: C57 in ( dom D53 ) by L324 , L320 , L321 , FINSEQ_2:9;
end;
thus L331: thesis by L319 , L313 , MARGREL1:def 22;
end;
end;
theorem
L333: (for B44 being Nat holds ( arity ( TrivialOp B44 ) ) = B44)
proof
let C59 being Nat;
L334:
now
L335: ( dom ( TrivialOp C59 ) ) = { ( C59 |-> ( {} ) ) } by L304;
L336: ( C59 |-> ( {} ) ) in ( dom ( TrivialOp C59 ) ) by L335 , TARSKI:def 1;
thus L337: (ex B45 being FinSequence st B45 in ( dom ( TrivialOp C59 ) )) by L336;
let C60 being FinSequence;
assume L338: C60 in ( dom ( TrivialOp C59 ) );
L339: C60 in { ( C59 |-> ( {} ) ) } by L338 , L304;
L340: C60 = ( C59 |-> ( {} ) ) by L339 , TARSKI:def 1;
thus L341: ( len C60 ) = C59 by L340 , CARD_1:def 7;
end;
thus L342: thesis by L334 , MARGREL1:def 25;
end;
definition
let C61 being (FinSequence of ( NAT ));
func TrivialOps C61 -> (PFuncFinSequence of { ( {} ) }) means 
:L343: (( len it ) = ( len C61 ) & (for R4 being Nat holds (R4 in ( dom it ) implies (for R5 being Nat holds (R5 = ( C61 . R4 ) implies ( it . R4 ) = ( TrivialOp R5 ))))));
existence
proof
defpred S3[ set , set ] means (for R5 being Nat holds (R5 = ( C61 . $1 ) implies $2 = ( TrivialOp R5 )));
L344: (for B46 being Nat holds (B46 in ( Seg ( len C61 ) ) implies (ex B47 being (Element of ( PFuncs (( { ( {} ) } * ) , { ( {} ) }) )) st S3[ B46 , B47 ])))
proof
let C62 being Nat;
assume L345: C62 in ( Seg ( len C61 ) );
L346: C62 in ( dom C61 ) by L345 , FINSEQ_1:def 3;
reconsider D54 = ( C61 . C62 ) as (Element of ( NAT )) by L346 , FINSEQ_2:11;
reconsider D55 = ( TrivialOp D54 ) as (Element of ( PFuncs (( { ( {} ) } * ) , { ( {} ) }) )) by PARTFUN1:45;
take D55;
let R5 being Nat;
assume L347: R5 = ( C61 . C62 );
thus L348: thesis by L347;
end;
consider C63 being (FinSequence of ( PFuncs (( { ( {} ) } * ) , { ( {} ) }) )) such that L349: (( dom C63 ) = ( Seg ( len C61 ) ) & (for B48 being Nat holds (B48 in ( Seg ( len C61 ) ) implies S3[ B48 , ( C63 . B48 ) ]))) from FINSEQ_1:sch 5(L344);
reconsider D56 = C63 as (PFuncFinSequence of { ( {} ) });
take D56;
thus L350: ( len D56 ) = ( len C61 ) by L349 , FINSEQ_1:def 3;
let R4 being Nat;
assume L351: R4 in ( dom D56 );
thus L352: thesis by L351 , L349;
end;
uniqueness
proof
let C64 , C65 being (PFuncFinSequence of { ( {} ) });
assume that
L353: ( len C64 ) = ( len C61 )
and
L354: (for R4 being Nat holds (R4 in ( dom C64 ) implies (for R5 being Nat holds (R5 = ( C61 . R4 ) implies ( C64 . R4 ) = ( TrivialOp R5 )))))
and
L355: ( len C65 ) = ( len C61 )
and
L356: (for R4 being Nat holds (R4 in ( dom C65 ) implies (for R5 being Nat holds (R5 = ( C61 . R4 ) implies ( C65 . R4 ) = ( TrivialOp R5 )))));
L357: ( dom C64 ) = ( Seg ( len C61 ) ) by L353 , FINSEQ_1:def 3;
L358:
now
let C66 being Nat;
assume L359: C66 in ( dom C64 );
L360: C66 in ( dom C61 ) by L359 , L357 , FINSEQ_1:def 3;
reconsider D57 = ( C61 . C66 ) as (Element of ( NAT )) by L360 , FINSEQ_2:11;
L361: (C66 in ( dom C65 ) & ( C64 . C66 ) = ( TrivialOp D57 )) by L354 , L355 , L357 , L359 , FINSEQ_1:def 3;
thus L362: ( C64 . C66 ) = ( C65 . C66 ) by L361 , L356;
end;
thus L363: thesis by L358 , L353 , L355 , FINSEQ_2:9;
end;
end;
theorem
L365: (for B49 being (FinSequence of ( NAT )) holds ( TrivialOps B49 ) is  homogeneous  quasi_total  non-empty)
proof
let C67 being (FinSequence of ( NAT ));
L366: (for B50 being Nat holds (for B51 being (PartFunc of ( { ( {} ) } * ) , { ( {} ) }) holds ((B50 in ( dom ( TrivialOps C67 ) ) & B51 = ( ( TrivialOps C67 ) . B50 )) implies B51 is  quasi_total)))
proof
let C68 being Nat;
let C69 being (PartFunc of ( { ( {} ) } * ) , { ( {} ) });
assume that
L367: C68 in ( dom ( TrivialOps C67 ) )
and
L368: ( ( TrivialOps C67 ) . C68 ) = C69;
L369: ( dom ( TrivialOps C67 ) ) = ( Seg ( len ( TrivialOps C67 ) ) ) by FINSEQ_1:def 3
.= ( Seg ( len C67 ) ) by L343
.= ( dom C67 ) by FINSEQ_1:def 3;
reconsider D58 = ( C67 . C68 ) as (Element of ( NAT )) by L369 , L367 , FINSEQ_2:11;
L370: ( ( TrivialOps C67 ) . C68 ) = ( TrivialOp D58 ) by L367 , L343;
thus L371: thesis by L370 , L368;
end;
L372: (for B52 being set holds (B52 in ( dom ( TrivialOps C67 ) ) implies ( ( TrivialOps C67 ) . B52 ) is non  empty))
proof
let C70 being set;
assume L373: C70 in ( dom ( TrivialOps C67 ) );
reconsider D59 = C70 as (Element of ( NAT )) by L373;
L374: ( dom ( TrivialOps C67 ) ) = ( Seg ( len ( TrivialOps C67 ) ) ) by FINSEQ_1:def 3
.= ( Seg ( len C67 ) ) by L343
.= ( dom C67 ) by FINSEQ_1:def 3;
reconsider D60 = ( C67 . D59 ) as (Element of ( NAT )) by L374 , L373 , FINSEQ_2:11;
L375: ( ( TrivialOps C67 ) . D59 ) = ( TrivialOp D60 ) by L373 , L343;
thus L376: thesis by L375;
end;
L377: (for B53 being Nat holds (for B54 being (PartFunc of ( { ( {} ) } * ) , { ( {} ) }) holds ((B53 in ( dom ( TrivialOps C67 ) ) & B54 = ( ( TrivialOps C67 ) . B53 )) implies B54 is  homogeneous)))
proof
let C71 being Nat;
let C72 being (PartFunc of ( { ( {} ) } * ) , { ( {} ) });
assume that
L378: C71 in ( dom ( TrivialOps C67 ) )
and
L379: ( ( TrivialOps C67 ) . C71 ) = C72;
L380: ( dom ( TrivialOps C67 ) ) = ( Seg ( len ( TrivialOps C67 ) ) ) by FINSEQ_1:def 3
.= ( Seg ( len C67 ) ) by L343
.= ( dom C67 ) by FINSEQ_1:def 3;
reconsider D61 = ( C67 . C71 ) as (Element of ( NAT )) by L380 , L378 , FINSEQ_2:11;
L381: ( ( TrivialOps C67 ) . C71 ) = ( TrivialOp D61 ) by L378 , L343;
thus L382: thesis by L381 , L379;
end;
thus L383: thesis by L377 , L366 , L372 , FUNCT_1:def 9 , MARGREL1:def 23 , MARGREL1:def 24;
end;
theorem
L384: (for B55 being (FinSequence of ( NAT )) holds (B55 <> ( {} ) implies UAStr (# { ( {} ) } , ( TrivialOps B55 ) #) is  strict  strict  strict  strict Universal_Algebra))
proof
let C73 being (FinSequence of ( NAT ));
assume L385: C73 <> ( {} );
set D62 = UAStr (# { ( {} ) } , ( TrivialOps C73 ) #);
L386: (the charact of D62) is  homogeneous  quasi_total  non-empty by L365;
L387: ( len (the charact of D62) ) = ( len C73 ) by L343;
L388: (the charact of D62) <> ( {} ) by L387 , L385;
thus L389: thesis by L388 , L386 , UNIALG_1:def 1 , UNIALG_1:def 2 , UNIALG_1:def 3;
end;
registration
let C74 being non  empty set;
cluster non  empty for (Element of ( C74 * ));
existence
proof
set D63 = the (Element of C74);
reconsider D64 = <* D63 *> as (Element of ( C74 * )) by FINSEQ_1:def 11;
take D64;
thus L390: thesis;
end;
end;
definition
let C75 being non  empty (FinSequence of ( NAT ));
func Trivial_Algebra C75 ->  strict Universal_Algebra equals 
UAStr (# { ( {} ) } , ( TrivialOps C75 ) #);
coherence by L384;
end;
begin
definition
let C76 being Function;
attr C76 is  Univ_Alg-yielding
means
:L393: (for R6 being set holds (R6 in ( dom C76 ) implies ( C76 . R6 ) is Universal_Algebra));
end;
definition
let C77 being Function;
attr C77 is  1-sorted-yielding
means
:L395: (for R6 being set holds (R6 in ( dom C77 ) implies ( C77 . R6 ) is 1-sorted));
end;
registration
cluster  Univ_Alg-yielding for Function;
existence
proof
reconsider D65 = ( {} ) as Function;
take D65;
let R6 being set;
thus L397: thesis;
end;
end;
registration
cluster  Univ_Alg-yielding ->  1-sorted-yielding for Function;
coherence
proof
let C78 being Function;
assume L399: C78 is  Univ_Alg-yielding;
L400: (for R6 being set holds (R6 in ( dom C78 ) implies ( C78 . R6 ) is 1-sorted)) by L399 , L393;
thus L401: thesis by L400 , L395;
end;
end;
registration
let C79 being set;
cluster  1-sorted-yielding for (ManySortedSet of C79);
existence
proof
set D66 = the 1-sorted;
set D67 = ( C79 --> D66 );
L403: ( dom D67 ) = C79 by FUNCOP_1:13;
reconsider D68 = D67 as (ManySortedSet of C79);
take D68;
L404: (for B56 being set holds (B56 in ( dom D68 ) implies ( D68 . B56 ) is 1-sorted)) by L403 , FUNCOP_1:7;
thus L405: thesis by L404 , L395;
end;
end;
definition
let C80 being Function;
attr C80 is  equal-signature
means
:L407: (for R6 being set holds (for R7 being set holds ((R6 in ( dom C80 ) & R7 in ( dom C80 )) implies (for R1 being Universal_Algebra holds (for R2 being Universal_Algebra holds ((R1 = ( C80 . R6 ) & R2 = ( C80 . R7 )) implies ( signature R1 ) = ( signature R2 )))))));
end;
registration
let C81 being non  empty set;
cluster  equal-signature  Univ_Alg-yielding for (ManySortedSet of C81);
existence
proof
set D69 = the Universal_Algebra;
set D70 = ( C81 --> D69 );
L409: ( dom D70 ) = C81 by FUNCOP_1:13;
reconsider D71 = D70 as (ManySortedSet of C81);
take D71;
L410: (for R6 being set holds (for R7 being set holds ((R6 in ( dom D71 ) & R7 in ( dom D71 )) implies (for R1 being Universal_Algebra holds (for R2 being Universal_Algebra holds ((R1 = ( D71 . R6 ) & R2 = ( D71 . R7 )) implies ( signature R1 ) = ( signature R2 )))))))
proof
let R6 being set;
let R7 being set;
assume that
L411: R6 in ( dom D71 )
and
L412: R7 in ( dom D71 );
let R2 being Universal_Algebra;
let R3 being Universal_Algebra;
assume L413: (R2 = ( D71 . R6 ) & R3 = ( D71 . R7 ));
L414: ( D71 . R6 ) = D69 by L409 , L411 , FUNCOP_1:7;
thus L415: thesis by L414 , L409 , L412 , L413 , FUNCOP_1:7;
end;
thus L416: D71 is  equal-signature by L410 , L407;
L417: (for R6 being set holds (R6 in ( dom D71 ) implies ( D71 . R6 ) is Universal_Algebra)) by L409 , FUNCOP_1:7;
thus L418: thesis by L417 , L393;
end;
end;
definition
let C82 being non  empty set;
let C83 being  1-sorted-yielding (ManySortedSet of C82);
let C84 being (Element of C82);
redefine func C83 . C84 -> 1-sorted;

coherence
proof
L420: ( dom C83 ) = C82 by PARTFUN1:def 2;
thus L421: thesis by L420 , L395;
end;
end;
definition
let C85 being non  empty set;
let C86 being  Univ_Alg-yielding (ManySortedSet of C85);
let C87 being (Element of C85);
redefine func C86 . C87 -> Universal_Algebra;

coherence
proof
L423: ( dom C86 ) = C85 by PARTFUN1:def 2;
thus L424: thesis by L423 , L393;
end;
end;
definition
let C88 being set;
let C89 being  1-sorted-yielding (ManySortedSet of C88);
func Carrier C89 -> (ManySortedSet of C88) means 
:L426: (for B57 being set holds (B57 in C88 implies (ex B58 being 1-sorted st (B58 = ( C89 . B57 ) & ( it . B57 ) = (the carrier of B58)))));
existence
proof
defpred S4[ set , set ] means (ex B59 being 1-sorted st (B59 = ( C89 . $1 ) & $2 = (the carrier of B59)));
L427: (for B60 being set holds (B60 in C88 implies (ex B61 being set st S4[ B60 , B61 ])))
proof
let C90 being set;
assume L428: C90 in C88;
reconsider D72 = C88 as non  empty set by L428;
reconsider D73 = C90 as (Element of D72) by L428;
reconsider D74 = C89 as  1-sorted-yielding (ManySortedSet of D72);
take (the carrier of ( D74 . D73 ));
take ( D74 . D73 );
thus L429: thesis;
end;
consider C91 being Function such that L430: ( dom C91 ) = C88 and L431: (for B62 being set holds (B62 in C88 implies S4[ B62 , ( C91 . B62 ) ])) from CLASSES1:sch 1(L427);
reconsider D75 = C91 as (ManySortedSet of C88) by L430 , PARTFUN1:def 2 , RELAT_1:def 18;
take D75;
thus L432: thesis by L431;
end;
uniqueness
proof
let C92 , C93 being (ManySortedSet of C88);
assume L433: ((for B63 being set holds (B63 in C88 implies (ex B64 being 1-sorted st (B64 = ( C89 . B63 ) & ( C92 . B63 ) = (the carrier of B64))))) & (for B65 being set holds (B65 in C88 implies (ex B66 being 1-sorted st (B66 = ( C89 . B65 ) & ( C93 . B65 ) = (the carrier of B66))))));
L434: (for B67 being set holds (B67 in C88 implies ( C92 . B67 ) = ( C93 . B67 )))
proof
let C94 being set;
assume L435: C94 in C88;
L436: ((ex B68 being 1-sorted st (B68 = ( C89 . C94 ) & ( C92 . C94 ) = (the carrier of B68))) & (ex B69 being 1-sorted st (B69 = ( C89 . C94 ) & ( C93 . C94 ) = (the carrier of B69)))) by L435 , L433;
thus L437: thesis by L436;
end;
thus L438: thesis by L434 , PBOOLE:3;
end;
end;
registration
let C95 being non  empty set;
let C96 being  Univ_Alg-yielding (ManySortedSet of C95);
cluster ( Carrier C96 ) ->  non-empty;
coherence
proof
let C97 being set;
assume L440: C97 in C95;
consider C98 being 1-sorted such that L441: C98 = ( C96 . C97 ) and L442: ( ( Carrier C96 ) . C97 ) = (the carrier of C98) by L440 , L426;
L443: ( dom C96 ) = C95 by PARTFUN1:def 2;
L444: C98 is Universal_Algebra by L443 , L440 , L441 , L393;
thus L445: thesis by L444 , L442;
end;
end;
definition
let C99 being non  empty set;
let C100 being  equal-signature  Univ_Alg-yielding (ManySortedSet of C99);
func ComSign C100 -> (FinSequence of ( NAT )) means 
:L447: (for B70 being (Element of C99) holds it = ( signature ( C100 . B70 ) ));
existence
proof
set D76 = the (Element of C99);
reconsider D77 = ( C100 . D76 ) as Universal_Algebra;
take ( signature D77 );
let C101 being (Element of C99);
L448: ( dom C100 ) = C99 by PARTFUN1:def 2;
thus L449: thesis by L448 , L407;
end;
uniqueness
proof
set D78 = the (Element of C99);
let C102 , C103 being (FinSequence of ( NAT ));
assume that
L450: (for B71 being (Element of C99) holds C102 = ( signature ( C100 . B71 ) ))
and
L451: (for B72 being (Element of C99) holds C103 = ( signature ( C100 . B72 ) ));
reconsider D79 = ( C100 . D78 ) as Universal_Algebra;
L452: C102 = ( signature D79 ) by L450;
thus L453: thesis by L452 , L451;
end;
end;
registration
let C104 being non  empty set;
let C105 being  non-empty (ManySortedSet of C104);
cluster ( product C105 ) -> non  empty;
coherence;
end;
definition
let C106 being non  empty set;
let C107 being  non-empty (ManySortedSet of C106);
mode ManySortedOperation of C107
 -> (ManySortedFunction of C106)
means :L456: (for B73 being (Element of C106) holds ( it . B73 ) is  homogeneous  quasi_total non  empty  homogeneous  quasi_total non  empty  homogeneous  quasi_total non  empty  homogeneous  quasi_total non  empty (PartFunc of ( ( C107 . B73 ) * ) , ( C107 . B73 )));
existence
proof
defpred S5[ set , set ] means $2 in ( C107 . $1 );
L457: (for R6 being set holds (R6 in C106 implies (ex R7 being set st S5[ R6 , R7 ]))) by XBOOLE_0:def 1;
consider C108 being Function such that L458: (( dom C108 ) = C106 & (for R6 being set holds (R6 in C106 implies S5[ R6 , ( C108 . R6 ) ]))) from CLASSES1:sch 1(L457);
deffunc H2(set) = ( ( <*> ( C107 . $1 ) ) .--> ( C108 . $1 ) );
consider C109 being Function such that L459: (( dom C109 ) = C106 & (for R6 being set holds (R6 in C106 implies ( C109 . R6 ) = H2(R6)))) from FUNCT_1:sch 3;
reconsider D80 = C109 as (ManySortedSet of C106) by L459 , PARTFUN1:def 2 , RELAT_1:def 18;
L460: (for R6 being set holds (R6 in ( dom D80 ) implies ( D80 . R6 ) is Function))
proof
let R6 being set;
assume L461: R6 in ( dom D80 );
L462: ( D80 . R6 ) = ( ( <*> ( C107 . R6 ) ) .--> ( C108 . R6 ) ) by L461 , L459;
thus L463: thesis by L462;
end;
reconsider D81 = D80 as (ManySortedFunction of C106) by L460 , FUNCOP_1:def 6;
take D81;
let C110 being (Element of C106);
reconsider D82 = ( C108 . C110 ) as (Element of ( C107 . C110 )) by L458;
L464: ( D81 . C110 ) = ( ( <*> ( C107 . C110 ) ) .--> D82 ) by L459;
thus L465: thesis by L464 , MARGREL1:18;
end;
end;
definition
let C111 being non  empty set;
let C112 being  non-empty (ManySortedSet of C111);
let C113 being (ManySortedOperation of C112);
let C114 being (Element of C111);
redefine func C113 . C114 ->  homogeneous  quasi_total non  empty (PartFunc of ( ( C112 . C114 ) * ) , ( C112 . C114 ));

coherence by L456;
end;
definition
let C115 being Function;
attr C115 is  equal-arity
means
:L468: (for B74 , B75 being set holds ((B74 in ( dom C115 ) & B75 in ( dom C115 )) implies (for B76 , B77 being Function holds ((( C115 . B74 ) = B76 & ( C115 . B75 ) = B77) implies (for B78 , B79 being Nat holds (for B80 , B81 being non  empty set holds ((( dom B76 ) = ( B78 -tuples_on B80 ) & ( dom B77 ) = ( B79 -tuples_on B81 )) implies (for B82 being  homogeneous  quasi_total non  empty (PartFunc of ( B80 * ) , B80) holds (for B83 being  homogeneous  quasi_total non  empty (PartFunc of ( B81 * ) , B81) holds ((B76 = B82 & B77 = B83) implies ( arity B82 ) = ( arity B83 )))))))))));
end;
registration
let C116 being non  empty set;
let C117 being  non-empty (ManySortedSet of C116);
cluster  equal-arity for (ManySortedOperation of C117);
existence
proof
defpred S6[ set , set ] means $2 in ( C117 . $1 );
L470: (for R6 being set holds (R6 in C116 implies (ex R7 being set st S6[ R6 , R7 ]))) by XBOOLE_0:def 1;
consider C118 being Function such that L471: (( dom C118 ) = C116 & (for R6 being set holds (R6 in C116 implies S6[ R6 , ( C118 . R6 ) ]))) from CLASSES1:sch 1(L470);
deffunc H3(set) = ( ( <*> ( C117 . $1 ) ) .--> ( C118 . $1 ) );
consider C119 being Function such that L472: (( dom C119 ) = C116 & (for R6 being set holds (R6 in C116 implies ( C119 . R6 ) = H3(R6)))) from FUNCT_1:sch 3;
reconsider D83 = C119 as (ManySortedSet of C116) by L472 , PARTFUN1:def 2 , RELAT_1:def 18;
L473: (for R6 being set holds (R6 in ( dom D83 ) implies ( D83 . R6 ) is Function))
proof
let R6 being set;
assume L474: R6 in ( dom D83 );
L475: ( D83 . R6 ) = ( ( <*> ( C117 . R6 ) ) .--> ( C118 . R6 ) ) by L474 , L472;
thus L476: thesis by L475;
end;
reconsider D84 = D83 as (ManySortedFunction of C116) by L473 , FUNCOP_1:def 6;
L477:
now
let C120 being (Element of C116);
reconsider D85 = ( C118 . C120 ) as (Element of ( C117 . C120 )) by L471;
L478: ( D84 . C120 ) = ( ( <*> ( C117 . C120 ) ) .--> D85 ) by L472;
thus L479: ( D84 . C120 ) is  homogeneous  quasi_total non  empty  homogeneous  quasi_total non  empty  homogeneous  quasi_total non  empty  homogeneous  quasi_total non  empty (PartFunc of ( ( C117 . C120 ) * ) , ( C117 . C120 )) by L478 , MARGREL1:18;
end;
reconsider D86 = D84 as (ManySortedOperation of C117) by L477 , L456;
take D86;
L480: (for B84 , B85 being set holds ((B84 in ( dom D86 ) & B85 in ( dom D86 )) implies (for B86 , B87 being Function holds ((( D86 . B84 ) = B86 & ( D86 . B85 ) = B87) implies (for B88 , B89 being Nat holds (for B90 , B91 being non  empty set holds ((( dom B86 ) = ( B88 -tuples_on B90 ) & ( dom B87 ) = ( B89 -tuples_on B91 )) implies (for B92 being  homogeneous  quasi_total non  empty (PartFunc of ( B90 * ) , B90) holds (for B93 being  homogeneous  quasi_total non  empty (PartFunc of ( B91 * ) , B91) holds ((B86 = B92 & B87 = B93) implies ( arity B92 ) = ( arity B93 )))))))))))
proof
let R6 being set;
let R7 being set;
assume that
L481: R6 in ( dom D86 )
and
L482: R7 in ( dom D86 );
reconsider D87 = R6 , D88 = R7 as (Element of C116) by L472 , L481 , L482;
let C121 , C122 being Function;
assume that
L483: ( D86 . R6 ) = C121
and
L484: ( D86 . R7 ) = C122;
reconsider D89 = ( C118 . D87 ) as (Element of ( C117 . D87 )) by L471;
let C123 , C124 being Nat;
let C125 , C126 being non  empty set;
assume that
L485: ( dom C121 ) = ( C123 -tuples_on C125 )
and
L486: ( dom C122 ) = ( C124 -tuples_on C126 );
let C127 being  homogeneous  quasi_total non  empty (PartFunc of ( C125 * ) , C125);
let C128 being  homogeneous  quasi_total non  empty (PartFunc of ( C126 * ) , C126);
assume that
L487: C121 = C127
and
L488: C122 = C128;
reconsider D90 = ( ( <*> ( C117 . D87 ) ) .--> D89 ) as  homogeneous  quasi_total non  empty (PartFunc of ( ( C117 . D87 ) * ) , ( C117 . D87 )) by MARGREL1:18;
L489: ( dom D90 ) = { ( {} ( C117 . D87 ) ) } by FUNCOP_1:13;
consider C129 being set such that L490: C129 in ( dom C127 ) by XBOOLE_0:def 1;
L491: ( dom C127 ) c= ( C125 * ) by RELAT_1:def 18;
reconsider D91 = C129 as (Element of ( C125 * )) by L491 , L490;
L492: C127 = ( ( <*> ( C117 . R6 ) ) .--> ( C118 . R6 ) ) by L472 , L481 , L483 , L487;
L493: D91 = ( <*> ( C117 . D87 ) ) by L492 , L489 , L490 , TARSKI:def 1;
L494: ( len D91 ) = ( 0 ) by L493;
L495: ( arity C127 ) = ( 0 ) by L494 , L490 , MARGREL1:def 25;
reconsider D92 = ( C118 . D88 ) as (Element of ( C117 . D88 )) by L471;
reconsider D93 = ( ( <*> ( C117 . D88 ) ) .--> D92 ) as  homogeneous  quasi_total non  empty (PartFunc of ( ( C117 . D88 ) * ) , ( C117 . D88 )) by MARGREL1:18;
L496: ( dom D93 ) = { ( {} ( C117 . D88 ) ) } by FUNCOP_1:13;
consider C130 being set such that L497: C130 in ( dom C128 ) by XBOOLE_0:def 1;
L498: ( dom C128 ) c= ( C126 * ) by RELAT_1:def 18;
reconsider D94 = C130 as (Element of ( C126 * )) by L498 , L497;
L499: C128 = ( ( <*> ( C117 . R7 ) ) .--> ( C118 . R7 ) ) by L472 , L482 , L484 , L488;
L500: D94 = ( <*> ( C117 . D88 ) ) by L499 , L496 , L497 , TARSKI:def 1;
L501: ( len D94 ) = ( 0 ) by L500;
thus L502: thesis by L501 , L495 , L497 , MARGREL1:def 25;
end;
thus L503: thesis by L480 , L468;
end;
end;
theorem
L505: (for B94 being non  empty set holds (for B95 being  non-empty (ManySortedSet of B94) holds (for B96 being (ManySortedOperation of B95) holds (B96 is  equal-arity iff (for B97 , B98 being (Element of B94) holds ( arity ( B96 . B97 ) ) = ( arity ( B96 . B98 ) ))))))
proof
let C131 being non  empty set;
let C132 being  non-empty (ManySortedSet of C131);
let C133 being (ManySortedOperation of C132);
thus L506: (C133 is  equal-arity implies (for B99 , B100 being (Element of C131) holds ( arity ( C133 . B99 ) ) = ( arity ( C133 . B100 ) )))
proof
assume L507: C133 is  equal-arity;
let C134 , C135 being (Element of C131);
L508: ( dom ( C133 . C135 ) ) = ( ( arity ( C133 . C135 ) ) -tuples_on ( C132 . C135 ) ) by MARGREL1:22;
L509: (( dom C133 ) = C131 & ( dom ( C133 . C134 ) ) = ( ( arity ( C133 . C134 ) ) -tuples_on ( C132 . C134 ) )) by MARGREL1:22 , PARTFUN1:def 2;
thus L510: thesis by L509 , L507 , L508 , L468;
end;

assume L511: (for B101 , B102 being (Element of C131) holds ( arity ( C133 . B101 ) ) = ( arity ( C133 . B102 ) ));
let C136 , C137 being set;
assume L512: (C136 in ( dom C133 ) & C137 in ( dom C133 ));
reconsider D95 = C136 , D96 = C137 as (Element of C131) by L512 , PARTFUN1:def 2;
let C138 , C139 being Function;
assume that
L513: ( C133 . C136 ) = C138
and
L514: ( C133 . C137 ) = C139;
L515: ( arity ( C133 . D95 ) ) = ( arity ( C133 . D96 ) ) by L511;
L516: ( dom C139 ) = ( ( arity ( C133 . D95 ) ) -tuples_on ( C132 . D96 ) ) by L515 , L514 , MARGREL1:22;
let C140 , C141 being Nat;
let C142 , C143 being non  empty set;
assume that
L517: ( dom C138 ) = ( C140 -tuples_on C142 )
and
L518: ( dom C139 ) = ( C141 -tuples_on C143 );
L519: ( dom C138 ) = ( ( arity ( C133 . D95 ) ) -tuples_on ( C132 . D95 ) ) by L513 , MARGREL1:22;
L520: C140 = ( arity ( C133 . D95 ) ) by L519 , L517 , FINSEQ_2:110;
set D97 = the (Element of ( C140 -tuples_on C142 ));
set D98 = the (Element of ( C141 -tuples_on C143 ));
let C144 being  homogeneous  quasi_total non  empty (PartFunc of ( C142 * ) , C142);
let C145 being  homogeneous  quasi_total non  empty (PartFunc of ( C143 * ) , C143);
assume that
L521: C138 = C144
and
L522: C139 = C145;
L523: ( arity C145 ) = ( len D98 ) by L518 , L522 , MARGREL1:def 25
.= C141 by CARD_1:def 7;
L524: ( arity C144 ) = ( len D97 ) by L517 , L521 , MARGREL1:def 25
.= C140 by CARD_1:def 7;
thus L525: thesis by L524 , L518 , L516 , L520 , L523 , FINSEQ_2:110;
end;
definition
let C146 being  Function-yielding Function;
let C147 being Function;
func C146 .. C147 -> Function means 
:L526: (( dom it ) = ( dom C146 ) & (for B103 being set holds (B103 in ( dom C146 ) implies ( it . B103 ) = ( ( C146 . B103 ) . ( C147 . B103 ) ))));
existence
proof
set D99 = ( dom C146 );
defpred S7[ set , set ] means $2 = ( ( C146 . $1 ) . ( C147 . $1 ) );
L527: (for B104 being set holds (B104 in D99 implies (ex B105 being set st S7[ B104 , B105 ])));
consider C148 being Function such that L528: (( dom C148 ) = D99 & (for B106 being set holds (B106 in D99 implies S7[ B106 , ( C148 . B106 ) ]))) from CLASSES1:sch 1(L527);
take C148;
thus L529: thesis by L528;
end;
uniqueness
proof
let C149 , C150 being Function;
assume that
L530: ( dom C149 ) = ( dom C146 )
and
L531: (for B107 being set holds (B107 in ( dom C146 ) implies ( C149 . B107 ) = ( ( C146 . B107 ) . ( C147 . B107 ) )))
and
L532: ( dom C150 ) = ( dom C146 )
and
L533: (for B108 being set holds (B108 in ( dom C146 ) implies ( C150 . B108 ) = ( ( C146 . B108 ) . ( C147 . B108 ) )));
L534: (for B109 being set holds (B109 in ( dom C149 ) implies ( C149 . B109 ) = ( C150 . B109 )))
proof
let R6 being set;
consider C151 being set such that L535: C151 = ( C146 . R6 );
reconsider D100 = C151 as Function by L535;
assume L536: R6 in ( dom C149 );
L537: ( C149 . R6 ) = ( D100 . ( C147 . R6 ) ) by L536 , L530 , L531 , L535;
thus L538: thesis by L537 , L530 , L533 , L536 , L535;
end;
thus L539: thesis by L534 , L530 , L532 , FUNCT_1:2;
end;
end;
registration
let C152 being set;
let C153 being (ManySortedFunction of C152);
let C154 being (ManySortedSet of C152);
cluster ( C153 .. C154 ) -> C152 -defined;
coherence
proof
L541: ( dom ( C153 .. C154 ) ) = ( dom C153 ) by L526
.= C152 by PARTFUN1:def 2;
thus L542: thesis by L541 , RELAT_1:def 18;
end;
end;
registration
let C155 being set;
let C156 being (ManySortedFunction of C155);
let C157 being (ManySortedSet of C155);
cluster ( C156 .. C157 ) ->  total for C155 -defined C155 -defined C155 -defined C155 -defined Function;
coherence
proof
L544: ( dom ( C156 .. C157 ) ) = ( dom C156 ) by L526
.= C155 by PARTFUN1:def 2;
thus L545: thesis by L544 , PARTFUN1:def 2;
end;
end;
definition
let C158 being set;
let C159 being (ManySortedFunction of C158);
let C160 being (ManySortedSet of C158);
redefine func C159 .. C160 means 
:L547: (( dom it ) = C158 & (for B110 being set holds (B110 in C158 implies (for B111 being Function holds (B111 = ( C159 . B110 ) implies ( it . B110 ) = ( B111 . ( C160 . B110 ) ))))));
compatibility
proof
let C161 being Function;
thus L548:now
assume L549: C161 = ( C159 .. C160 );
thus L550: ( dom C161 ) = C158 by L549 , PARTFUN1:def 2;
L551: ( dom C161 ) = ( dom C159 ) by L549 , L526;
thus L552: (for B112 being set holds (B112 in C158 implies (for B113 being Function holds (B113 = ( C159 . B112 ) implies ( C161 . B112 ) = ( B113 . ( C160 . B112 ) ))))) by L551 , L549 , L550 , L526;
end;
assume that
L553: ( dom C161 ) = C158
and
L554: (for B114 being set holds (B114 in C158 implies (for B115 being Function holds (B115 = ( C159 . B114 ) implies ( C161 . B114 ) = ( B115 . ( C160 . B114 ) )))));
L555: ( dom C159 ) = C158 by PARTFUN1:def 2;
L556: (for B116 being set holds (B116 in ( dom C159 ) implies ( C161 . B116 ) = ( ( C159 . B116 ) . ( C160 . B116 ) ))) by L555 , L554;
thus L557: thesis by L556 , L553 , L555 , L526;
end;
end;
registration
let C162 being non  empty set;
let C163 being  non-empty (ManySortedSet of C162);
let C164 being (FinSequence of ( product C163 ));
cluster ( uncurry C164 ) -> [: ( dom C164 ) , C162 :] -defined;
coherence
proof
L559:
now
set D101 = the (Element of C162);
L560: ( dom C163 ) = C162 by PARTFUN1:def 2;
L561: ( C163 . D101 ) in ( rng C163 ) by L560 , FUNCT_1:def 3;
reconsider D102 = ( union ( rng C163 ) ) as non  empty set by L561 , XBOOLE_1:3 , ZFMISC_1:74;
L562: ( rng C164 ) c= ( Funcs (C162 , D102) )
proof
let R6 being set;
L563: ( rng C164 ) c= ( product C163 ) by FINSEQ_1:def 4;
assume L564: R6 in ( rng C164 );
consider C165 being Function such that L565: R6 = C165 and L566: ( dom C165 ) = ( dom C163 ) and L567: (for R7 being set holds (R7 in ( dom C163 ) implies ( C165 . R7 ) in ( C163 . R7 ))) by L564 , L563 , CARD_3:def 5;
L568: ( rng C165 ) c= D102
proof
let R8 being set;
assume L569: R8 in ( rng C165 );
consider R7 being set such that L570: R7 in ( dom C165 ) and L571: R8 = ( C165 . R7 ) by L569 , FUNCT_1:def 3;
L572: ( C163 . R7 ) in ( rng C163 ) by L566 , L570 , FUNCT_1:def 3;
L573: ( C163 . R7 ) c= ( union ( rng C163 ) ) by L572 , ZFMISC_1:74;
L574: R8 in ( C163 . R7 ) by L566 , L567 , L570 , L571;
thus L575: thesis by L574 , L573;
end;
L576: ( dom C163 ) = C162 by PARTFUN1:def 2;
thus L577: thesis by L576 , L565 , L566 , L568 , FUNCT_2:def 2;
end;
L578: ( dom ( uncurry C164 ) ) = [: ( dom C164 ) , C162 :] by L562 , FUNCT_5:26;
thus L579: thesis by L578 , RELAT_1:def 18;
end;
thus L580: thesis by L559;
end;
end;
registration
let C166 being non  empty set;
let C167 being  non-empty (ManySortedSet of C166);
let C168 being (FinSequence of ( product C167 ));
cluster ( uncurry C168 ) ->  total for [: ( dom C168 ) , C166 :] -defined [: ( dom C168 ) , C166 :] -defined [: ( dom C168 ) , C166 :] -defined [: ( dom C168 ) , C166 :] -defined Function;
coherence
proof
L582:
now
set D103 = the (Element of C166);
L583: ( dom C167 ) = C166 by PARTFUN1:def 2;
L584: ( C167 . D103 ) in ( rng C167 ) by L583 , FUNCT_1:def 3;
reconsider D104 = ( union ( rng C167 ) ) as non  empty set by L584 , XBOOLE_1:3 , ZFMISC_1:74;
L585: ( rng C168 ) c= ( Funcs (C166 , D104) )
proof
let R6 being set;
L586: ( rng C168 ) c= ( product C167 ) by FINSEQ_1:def 4;
assume L587: R6 in ( rng C168 );
consider C169 being Function such that L588: R6 = C169 and L589: ( dom C169 ) = ( dom C167 ) and L590: (for R7 being set holds (R7 in ( dom C167 ) implies ( C169 . R7 ) in ( C167 . R7 ))) by L587 , L586 , CARD_3:def 5;
L591: ( rng C169 ) c= D104
proof
let R8 being set;
assume L592: R8 in ( rng C169 );
consider R7 being set such that L593: R7 in ( dom C169 ) and L594: R8 = ( C169 . R7 ) by L592 , FUNCT_1:def 3;
L595: ( C167 . R7 ) in ( rng C167 ) by L589 , L593 , FUNCT_1:def 3;
L596: ( C167 . R7 ) c= ( union ( rng C167 ) ) by L595 , ZFMISC_1:74;
L597: R8 in ( C167 . R7 ) by L589 , L590 , L593 , L594;
thus L598: thesis by L597 , L596;
end;
L599: ( dom C167 ) = C166 by PARTFUN1:def 2;
thus L600: thesis by L599 , L588 , L589 , L591 , FUNCT_2:def 2;
end;
L601: ( dom ( uncurry C168 ) ) = [: ( dom C168 ) , C166 :] by L585 , FUNCT_5:26;
thus L602: thesis by L601 , PARTFUN1:def 2;
end;
thus L603: thesis by L582;
end;
end;
registration
let C170 , C171 being set;
let C172 being (ManySortedSet of [: C170 , C171 :]);
cluster ( ~ C172 ) -> [: C171 , C170 :] -defined;
coherence
proof
L605: ( dom C172 ) = [: C170 , C171 :] by PARTFUN1:def 2;
L606: ( dom ( ~ C172 ) ) = [: C171 , C170 :] by L605 , FUNCT_4:46;
thus L607: thesis by L606 , RELAT_1:def 18;
end;
end;
registration
let C173 , C174 being set;
let C175 being (ManySortedSet of [: C173 , C174 :]);
cluster ( ~ C175 ) ->  total for [: C174 , C173 :] -defined [: C174 , C173 :] -defined [: C174 , C173 :] -defined [: C174 , C173 :] -defined Function;
coherence
proof
L609: ( dom C175 ) = [: C173 , C174 :] by PARTFUN1:def 2;
L610: ( dom ( ~ C175 ) ) = [: C174 , C173 :] by L609 , FUNCT_4:46;
thus L611: thesis by L610 , PARTFUN1:def 2;
end;
end;
registration
let C176 being set;
let C177 being non  empty set;
let C178 being (ManySortedSet of [: C176 , C177 :]);
cluster ( curry C178 ) -> C176 -defined;
coherence
proof
set D105 = ( curry C178 );
L613: (( dom C178 ) = [: C176 , C177 :] & ( dom D105 ) = ( proj1 ( dom C178 ) )) by FUNCT_5:def 1 , PARTFUN1:def 2;
L614: ( dom D105 ) = C176 by L613 , FUNCT_5:9;
thus L615: thesis by L614 , RELAT_1:def 18;
end;
end;
registration
let C179 being set;
let C180 being non  empty set;
let C181 being (ManySortedSet of [: C179 , C180 :]);
cluster ( curry C181 ) ->  total for C179 -defined C179 -defined C179 -defined C179 -defined Function;
coherence
proof
set D106 = ( curry C181 );
L617: (( dom C181 ) = [: C179 , C180 :] & ( dom D106 ) = ( proj1 ( dom C181 ) )) by FUNCT_5:def 1 , PARTFUN1:def 2;
L618: ( dom D106 ) = C179 by L617 , FUNCT_5:9;
thus L619: thesis by L618 , PARTFUN1:def 2;
end;
end;
definition
let C182 being non  empty set;
let C183 being  non-empty (ManySortedSet of C182);
let C184 being  equal-arity (ManySortedOperation of C183);
func ComAr C184 -> Nat means 
:L621: (for B117 being (Element of C182) holds it = ( arity ( C184 . B117 ) ));
existence
proof
set D107 = the (Element of C182);
take ( arity ( C184 . D107 ) );
let C185 being (Element of C182);
thus L622: thesis by L505;
end;
uniqueness
proof
set D108 = the (Element of C182);
let C186 , C187 being Nat;
assume that
L623: (for B118 being (Element of C182) holds C186 = ( arity ( C184 . B118 ) ))
and
L624: (for B119 being (Element of C182) holds C187 = ( arity ( C184 . B119 ) ));
L625: C186 = ( arity ( C184 . D108 ) ) by L623;
thus L626: thesis by L625 , L624;
end;
end;
definition
let C188 being set;
let C189 being (ManySortedSet of C188);
func EmptySeq C189 -> (ManySortedSet of C188) means 
:L628: (for B120 being set holds (B120 in C188 implies ( it . B120 ) = ( {} ( C189 . B120 ) )));
existence
proof
deffunc H4(set) = ( {} ( C189 . $1 ) );
consider C190 being Function such that L629: (( dom C190 ) = C188 & (for R6 being set holds (R6 in C188 implies ( C190 . R6 ) = H4(R6)))) from FUNCT_1:sch 3;
reconsider D109 = C190 as (ManySortedSet of C188) by L629 , PARTFUN1:def 2 , RELAT_1:def 18;
take D109;
thus L630: thesis by L629;
end;
uniqueness
proof
let C191 , C192 being (ManySortedSet of C188);
assume that
L631: (for B121 being set holds (B121 in C188 implies ( C191 . B121 ) = ( {} ( C189 . B121 ) )))
and
L632: (for B122 being set holds (B122 in C188 implies ( C192 . B122 ) = ( {} ( C189 . B122 ) )));
L633: (for B123 being set holds (B123 in C188 implies ( C191 . B123 ) = ( C192 . B123 )))
proof
let C193 being set;
assume L634: C193 in C188;
L635: ( C191 . C193 ) = ( {} ( C189 . C193 ) ) by L634 , L631;
thus L636: thesis by L635 , L632 , L634;
end;
thus L637: thesis by L633 , PBOOLE:3;
end;
end;
definition
let C194 being non  empty set;
let C195 being  non-empty (ManySortedSet of C194);
let C196 being  equal-arity (ManySortedOperation of C195);
func [[:C196 :]] ->  homogeneous  quasi_total non  empty (PartFunc of ( ( product C195 ) * ) , ( product C195 )) means 
(( dom it ) = ( ( ComAr C196 ) -tuples_on ( product C195 ) ) & (for B124 being (Element of ( ( product C195 ) * )) holds (B124 in ( dom it ) implies ((( dom B124 ) = ( {} ) implies ( it . B124 ) = ( C196 .. ( EmptySeq C195 ) )) & (( dom B124 ) <> ( {} ) implies (for B125 being non  empty set holds (for B126 being (ManySortedSet of [: C194 , B125 :]) holds ((B125 = ( dom B124 ) & B126 = ( ~ ( uncurry B124 ) )) implies ( it . B124 ) = ( C196 .. ( curry B126 ) )))))))));
existence
proof
set D110 = ( product C195 );
set D111 = ( ComAr C196 );
set D112 = ( D111 -tuples_on D110 );
defpred S8[ set , set ] means (for B127 being (Element of ( D110 * )) holds (B127 = $1 implies ((( dom B127 ) = ( {} ) implies $2 = ( C196 .. ( EmptySeq C195 ) )) & (( dom B127 ) <> ( {} ) implies (for B128 being non  empty set holds (for B129 being (ManySortedSet of [: C194 , B128 :]) holds ((B128 = ( dom B127 ) & B129 = ( ~ ( uncurry B127 ) )) implies $2 = ( C196 .. ( curry B129 ) ))))))));
set D113 = { B130 where B130 is (Element of ( D110 * )) : ( len B130 ) = D111 };
L639: (for R6 being set holds (R6 in D112 implies (ex R7 being set st (R7 in D110 & S8[ R6 , R7 ]))))
proof
let R6 being set;
assume L640: R6 in D112;
consider C197 being (Element of ( D110 * )) such that L641: R6 = C197 and L642: ( len C197 ) = D111 by L640;
L643:
now
per cases ;
case L644: ( dom C197 ) = ( {} );
L645: (for R8 being set holds (R8 in ( dom C195 ) implies ( ( C196 .. ( EmptySeq C195 ) ) . R8 ) in ( C195 . R8 )))
proof
let R8 being set;
assume L646: R8 in ( dom C195 );
reconsider D114 = R8 as (Element of C194) by L646 , PARTFUN1:def 2;
L647: ( rng ( C196 . D114 ) ) c= ( C195 . D114 ) by RELAT_1:def 19;
L648: C197 = ( {} ) by L644;
L649: ( arity ( C196 . D114 ) ) = ( 0 ) by L648 , L642 , L621;
L650: ( dom ( C196 . D114 ) ) = ( ( 0 ) -tuples_on ( C195 . D114 ) ) by L649 , MARGREL1:22
.= { ( <*> ( C195 . D114 ) ) } by FINSEQ_2:94;
L651: ( {} ( C195 . D114 ) ) in ( dom ( C196 . D114 ) ) by L650 , TARSKI:def 1;
L652: ( ( C196 . D114 ) . ( {} ( C195 . D114 ) ) ) in ( rng ( C196 . D114 ) ) by L651 , FUNCT_1:def 3;
L653: ( ( C196 .. ( EmptySeq C195 ) ) . R8 ) = ( ( C196 . D114 ) . ( ( EmptySeq C195 ) . D114 ) ) by L547
.= ( ( C196 . D114 ) . ( {} ( C195 . D114 ) ) ) by L628;
thus L654: thesis by L653 , L652 , L647;
end;
take D115 = ( C196 .. ( EmptySeq C195 ) );
L655: ( dom ( C196 .. ( EmptySeq C195 ) ) ) = C194 by PARTFUN1:def 2
.= ( dom C195 ) by PARTFUN1:def 2;
thus L656: D115 in D110 by L655 , L645 , CARD_3:def 5;
let C198 being (Element of ( D110 * ));
assume L657: C198 = R6;
thus L658: ((( dom C198 ) = ( {} ) implies D115 = ( C196 .. ( EmptySeq C195 ) )) & (( dom C198 ) <> ( {} ) implies (for B131 being non  empty set holds (for B132 being (ManySortedSet of [: C194 , B131 :]) holds ((B131 = ( dom C198 ) & B132 = ( ~ ( uncurry C198 ) )) implies D115 = ( C196 .. ( curry B132 ) )))))) by L657 , L641 , L644;
end;
case L659: ( dom C197 ) <> ( {} );
reconsider D116 = ( dom C197 ) as non  empty set by L659;
reconsider D117 = ( ~ ( uncurry C197 ) ) as (ManySortedSet of [: C194 , D116 :]);
take D118 = ( C196 .. ( curry D117 ) );
L660: (for R8 being set holds (R8 in ( dom C195 ) implies ( ( C196 .. ( curry D117 ) ) . R8 ) in ( C195 . R8 )))
proof
let R8 being set;
assume L661: R8 in ( dom C195 );
reconsider D119 = R8 as (Element of C194) by L661 , PARTFUN1:def 2;
L662: ( dom D117 ) = [: C194 , D116 :] by PARTFUN1:def 2;
L663: ( proj1 ( dom D117 ) ) = C194 by L662 , FUNCT_5:9;
consider C199 being Function such that L664: ( ( curry D117 ) . D119 ) = C199 and L665: ( dom C199 ) = ( proj2 ( ( dom D117 ) /\ [: { D119 } , ( proj2 ( dom D117 ) ) :] ) ) and L666: (for R7 being set holds (R7 in ( dom C199 ) implies ( C199 . R7 ) = ( D117 . (D119 , R7) ))) by L663 , FUNCT_5:def 1;
L667: ( proj2 ( dom D117 ) ) = D116 by L662 , FUNCT_5:9;
L668: ( dom C199 ) = ( proj2 [: ( C194 /\ { D119 } ) , ( D116 /\ D116 ) :] ) by L667 , L662 , L665 , ZFMISC_1:100
.= ( proj2 [: { D119 } , D116 :] ) by ZFMISC_1:46
.= ( dom C197 ) by FUNCT_5:9
.= ( Seg ( len C197 ) ) by FINSEQ_1:def 3;
reconsider D120 = C199 as FinSequence by L668 , FINSEQ_1:def 2;
L669: ( rng D120 ) c= ( C195 . D119 )
proof
let R7 being set;
assume L670: R7 in ( rng D120 );
consider R6 being set such that L671: R6 in ( dom D120 ) and L672: ( D120 . R6 ) = R7 by L670 , FUNCT_1:def 3;
L673: (( dom ( uncurry C197 ) ) = [: ( dom C197 ) , C194 :] & ( dom D120 ) = ( dom C197 )) by L668 , FINSEQ_1:def 3 , PARTFUN1:def 2;
L674: [ R6 , D119 ] in ( dom ( uncurry C197 ) ) by L673 , L671 , ZFMISC_1:87;
consider C200 being set, C201 being Function, C202 being set such that L675: [ R6 , D119 ] = [ C200 , C202 ] and L676: C200 in ( dom C197 ) and L677: C201 = ( C197 . C200 ) and L678: C202 in ( dom C201 ) by L674 , FUNCT_5:def 2;
L679: R7 = ( ( ~ ( uncurry C197 ) ) . (D119 , R6) ) by L666 , L671 , L672;
L680: R7 = ( ( uncurry C197 ) . (R6 , D119) ) by L679 , L674 , FUNCT_4:def 2;
L681: (( [ C200 , C202 ] `1 ) = C200 & ( [ C200 , C202 ] `2 ) = D119) by L675 , MCART_1:7;
L682: R7 = ( C201 . D119 ) by L681 , L674 , L680 , L675 , L677 , FUNCT_5:def 2;
L683: D119 = C202 by L675 , XTUPLE_0:1;
L684: (( rng C197 ) c= D110 & ( C197 . C200 ) in ( rng C197 )) by L676 , FINSEQ_1:def 4 , FUNCT_1:def 3;
L685: ( dom C201 ) = ( dom C195 ) by L684 , L677 , CARD_3:9;
thus L686: thesis by L685 , L677 , L678 , L683 , L684 , L682 , CARD_3:9;
end;
reconsider D121 = D120 as (FinSequence of ( C195 . D119 )) by L669 , FINSEQ_1:def 4;
reconsider D122 = D121 as (Element of ( ( C195 . D119 ) * )) by FINSEQ_1:def 11;
L687: ( arity ( C196 . D119 ) ) = D111 by L621;
L688: ( dom ( C196 . D119 ) ) = ( D111 -tuples_on ( C195 . D119 ) ) by L687 , MARGREL1:22
.= { B133 where B133 is (Element of ( ( C195 . D119 ) * )) : ( len B133 ) = D111 };
L689: ( len D122 ) = ( len C197 ) by L668 , FINSEQ_1:def 3;
L690: D122 in ( dom ( C196 . D119 ) ) by L689 , L642 , L688;
L691: ( ( C196 . D119 ) . D122 ) in ( rng ( C196 . D119 ) ) by L690 , FUNCT_1:def 3;
L692: (( ( C196 .. ( curry D117 ) ) . R8 ) = ( ( C196 . D119 ) . ( ( curry D117 ) . D119 ) ) & ( rng ( C196 . D119 ) ) c= ( C195 . D119 )) by L547 , RELAT_1:def 19;
thus L693: thesis by L692 , L664 , L691;
end;
L694: ( dom ( C196 .. ( curry D117 ) ) ) = C194 by PARTFUN1:def 2
.= ( dom C195 ) by PARTFUN1:def 2;
thus L695: D118 in D110 by L694 , L660 , CARD_3:def 5;
let C203 being (Element of ( D110 * ));
assume L696: C203 = R6;
thus L697: ((( dom C203 ) = ( {} ) implies D118 = ( C196 .. ( EmptySeq C195 ) )) & (( dom C203 ) <> ( {} ) implies (for B134 being non  empty set holds (for B135 being (ManySortedSet of [: C194 , B134 :]) holds ((B134 = ( dom C203 ) & B135 = ( ~ ( uncurry C203 ) )) implies D118 = ( C196 .. ( curry B135 ) )))))) by L696 , L641;
end;
end;
thus L699: thesis by L643;
end;
consider C204 being Function such that L700: (( dom C204 ) = D112 & ( rng C204 ) c= D110 & (for R6 being set holds (R6 in D112 implies S8[ R6 , ( C204 . R6 ) ]))) from FUNCT_1:sch 5(L639);
L701: D111 in ( NAT ) by ORDINAL1:def 12;
L702: D112 in { ( B136 -tuples_on D110 ) where B136 is (Element of ( NAT )) : (not contradiction) } by L701;
L703: D112 c= ( union { ( B137 -tuples_on D110 ) where B137 is (Element of ( NAT )) : (not contradiction) } ) by L702 , ZFMISC_1:74;
L704: ( dom C204 ) c= ( D110 * ) by L703 , L700 , FINSEQ_2:108;
reconsider D123 = C204 as (PartFunc of ( D110 * ) , D110) by L704 , L700 , RELSET_1:4;
L705: D123 is  homogeneous
proof
let C205 , C206 being FinSequence;
assume L706: (C205 in ( dom D123 ) & C206 in ( dom D123 ));
reconsider D124 = C205 , D125 = C206 as (Element of ( D110 * )) by L706 , L700 , L703 , FINSEQ_2:108;
L707: ((ex B138 being (Element of ( D110 * )) st (D124 = B138 & ( len B138 ) = D111)) & (ex B139 being (Element of ( D110 * )) st (D125 = B139 & ( len B139 ) = D111))) by L700 , L706;
thus L708: thesis by L707;
end;
L709: D123 is  quasi_total
proof
let C207 , C208 being (FinSequence of D110);
assume that
L710: ( len C207 ) = ( len C208 )
and
L711: C207 in ( dom D123 );
reconsider D126 = C207 , D127 = C208 as (Element of ( D110 * )) by FINSEQ_1:def 11;
L712: (ex B140 being (Element of ( D110 * )) st (D126 = B140 & ( len B140 ) = D111)) by L700 , L711;
L713: D127 in D113 by L712 , L710;
thus L714: thesis by L713 , L700;
end;
reconsider D128 = D123 as  homogeneous  quasi_total non  empty (PartFunc of ( D110 * ) , D110) by L709 , L700 , L705;
take D128;
thus L715: ( dom D128 ) = D112 by L700;
let C209 being (Element of ( D110 * ));
assume L716: C209 in ( dom D128 );
thus L717: thesis by L716 , L700;
end;
uniqueness
proof
set D129 = ( product C195 );
set D130 = ( ComAr C196 );
let C210 , C211 being  homogeneous  quasi_total non  empty (PartFunc of ( D129 * ) , D129);
assume that
L718: ( dom C210 ) = ( D130 -tuples_on D129 )
and
L719: (for B141 being (Element of ( D129 * )) holds (B141 in ( dom C210 ) implies ((( dom B141 ) = ( {} ) implies ( C210 . B141 ) = ( C196 .. ( EmptySeq C195 ) )) & (( dom B141 ) <> ( {} ) implies (for B142 being non  empty set holds (for B143 being (ManySortedSet of [: C194 , B142 :]) holds ((B142 = ( dom B141 ) & B143 = ( ~ ( uncurry B141 ) )) implies ( C210 . B141 ) = ( C196 .. ( curry B143 ) ))))))))
and
L720: ( dom C211 ) = ( D130 -tuples_on D129 )
and
L721: (for B144 being (Element of ( D129 * )) holds (B144 in ( dom C211 ) implies ((( dom B144 ) = ( {} ) implies ( C211 . B144 ) = ( C196 .. ( EmptySeq C195 ) )) & (( dom B144 ) <> ( {} ) implies (for B145 being non  empty set holds (for B146 being (ManySortedSet of [: C194 , B145 :]) holds ((B145 = ( dom B144 ) & B146 = ( ~ ( uncurry B144 ) )) implies ( C211 . B144 ) = ( C196 .. ( curry B146 ) ))))))));
L722: (for R6 being set holds (R6 in ( D130 -tuples_on D129 ) implies ( C210 . R6 ) = ( C211 . R6 )))
proof
let R6 being set;
assume L723: R6 in ( D130 -tuples_on D129 );
consider C212 being (Element of ( D129 * )) such that L724: R6 = C212 and L725: ( len C212 ) = D130 by L723;
L726:
now
per cases ;
case L727: ( dom C212 ) = ( {} );
L728: ( C210 . C212 ) = ( C196 .. ( EmptySeq C195 ) ) by L727 , L718 , L719 , L723 , L724;
thus L729: thesis by L728 , L720 , L721 , L723 , L724 , L727;
end;
case L730: ( dom C212 ) <> ( {} );
reconsider D131 = ( dom C212 ) as non  empty set by L730;
reconsider D132 = ( ~ ( uncurry C212 ) ) as (ManySortedSet of [: C194 , D131 :]);
L731: ( C210 . C212 ) = ( C196 .. ( curry D132 ) ) by L718 , L719 , L723 , L724;
thus L732: thesis by L731 , L720 , L721 , L723 , L724;
end;
end;
thus L734: thesis by L726;
end;
thus L735: thesis by L722 , L718 , L720 , FUNCT_1:2;
end;
end;
definition
let C213 being non  empty set;
let C214 being  equal-signature  Univ_Alg-yielding (ManySortedSet of C213);
let C215 being Nat;
assume L737: C215 in ( dom ( ComSign C214 ) );
func ProdOp (C214 , C215) ->  equal-arity (ManySortedOperation of ( Carrier C214 )) means 
(for B147 being (Element of C213) holds (for B148 being (operation of ( C214 . B147 )) holds (( (the charact of ( C214 . B147 )) . C215 ) = B148 implies ( it . B147 ) = B148)));
existence
proof
defpred S9[ set , set ] means (for B149 being (Element of C213) holds ($1 = B149 implies (for B150 being (operation of ( C214 . B149 )) holds (( (the charact of ( C214 . B149 )) . C215 ) = B150 implies $2 = B150))));
L738: (for R6 being set holds (R6 in C213 implies (ex R7 being set st S9[ R6 , R7 ])))
proof
let R6 being set;
assume L739: R6 in C213;
reconsider D133 = R6 as (Element of C213) by L739;
L740: C215 in ( dom ( signature ( C214 . D133 ) ) ) by L737 , L447;
L741: C215 in ( Seg ( len ( signature ( C214 . D133 ) ) ) ) by L740 , FINSEQ_1:def 3;
L742: C215 in ( Seg ( len (the charact of ( C214 . D133 )) ) ) by L741 , UNIALG_1:def 4;
L743: C215 in ( dom (the charact of ( C214 . D133 )) ) by L742 , FINSEQ_1:def 3;
reconsider D134 = ( (the charact of ( C214 . D133 )) . C215 ) as (operation of ( C214 . D133 )) by L743 , FUNCT_1:def 3;
take D134;
let C216 being (Element of C213);
assume L744: R6 = C216;
let C217 being (operation of ( C214 . C216 ));
assume L745: ( (the charact of ( C214 . C216 )) . C215 ) = C217;
thus L746: thesis by L745 , L744;
end;
consider C218 being Function such that L747: (( dom C218 ) = C213 & (for R6 being set holds (R6 in C213 implies S9[ R6 , ( C218 . R6 ) ]))) from CLASSES1:sch 1(L738);
reconsider D135 = C218 as (ManySortedSet of C213) by L747 , PARTFUN1:def 2 , RELAT_1:def 18;
L748: (for R6 being set holds (R6 in ( dom D135 ) implies ( D135 . R6 ) is Function))
proof
let R6 being set;
assume L749: R6 in ( dom D135 );
reconsider D136 = R6 as (Element of C213) by L749 , L747;
L750: C215 in ( dom ( signature ( C214 . D136 ) ) ) by L737 , L447;
L751: C215 in ( Seg ( len ( signature ( C214 . D136 ) ) ) ) by L750 , FINSEQ_1:def 3;
L752: C215 in ( Seg ( len (the charact of ( C214 . D136 )) ) ) by L751 , UNIALG_1:def 4;
L753: C215 in ( dom (the charact of ( C214 . D136 )) ) by L752 , FINSEQ_1:def 3;
reconsider D137 = ( (the charact of ( C214 . D136 )) . C215 ) as (operation of ( C214 . D136 )) by L753 , FUNCT_1:def 3;
L754: ( D135 . R6 ) = D137 by L747;
thus L755: thesis by L754;
end;
reconsider D138 = D135 as (ManySortedFunction of C213) by L748 , FUNCOP_1:def 6;
L756: (for B151 being (Element of C213) holds ( D138 . B151 ) is  homogeneous  quasi_total non  empty  homogeneous  quasi_total non  empty  homogeneous  quasi_total non  empty  homogeneous  quasi_total non  empty (PartFunc of ( ( ( Carrier C214 ) . B151 ) * ) , ( ( Carrier C214 ) . B151 )))
proof
let C219 being (Element of C213);
L757: C215 in ( dom ( signature ( C214 . C219 ) ) ) by L737 , L447;
L758: C215 in ( Seg ( len ( signature ( C214 . C219 ) ) ) ) by L757 , FINSEQ_1:def 3;
L759: C215 in ( Seg ( len (the charact of ( C214 . C219 )) ) ) by L758 , UNIALG_1:def 4;
L760: C215 in ( dom (the charact of ( C214 . C219 )) ) by L759 , FINSEQ_1:def 3;
reconsider D139 = ( (the charact of ( C214 . C219 )) . C215 ) as (operation of ( C214 . C219 )) by L760 , FUNCT_1:def 3;
L761: ((ex B152 being 1-sorted st (B152 = ( C214 . C219 ) & ( ( Carrier C214 ) . C219 ) = (the carrier of B152))) & ( D138 . C219 ) = D139) by L747 , L426;
thus L762: thesis by L761;
end;
reconsider D140 = D138 as (ManySortedOperation of ( Carrier C214 )) by L756 , L456;
L763: (for B153 , B154 being (Element of C213) holds ( arity ( D140 . B153 ) ) = ( arity ( D140 . B154 ) ))
proof
let C220 , C221 being (Element of C213);
L764: C215 in ( dom ( signature ( C214 . C221 ) ) ) by L737 , L447;
L765: C215 in ( Seg ( len ( signature ( C214 . C221 ) ) ) ) by L764 , FINSEQ_1:def 3;
L766: C215 in ( Seg ( len (the charact of ( C214 . C221 )) ) ) by L765 , UNIALG_1:def 4;
L767: C215 in ( dom (the charact of ( C214 . C221 )) ) by L766 , FINSEQ_1:def 3;
reconsider D141 = ( (the charact of ( C214 . C221 )) . C215 ) as (operation of ( C214 . C221 )) by L767 , FUNCT_1:def 3;
L768: ( ( signature ( C214 . C221 ) ) . C215 ) = ( arity D141 ) by L764 , UNIALG_1:def 4;
L769: ( dom C214 ) = C213 by PARTFUN1:def 2;
L770: ( signature ( C214 . C220 ) ) = ( signature ( C214 . C221 ) ) by L769 , L407;
L771: C215 in ( Seg ( len (the charact of ( C214 . C220 )) ) ) by L770 , L765 , UNIALG_1:def 4;
L772: C215 in ( dom (the charact of ( C214 . C220 )) ) by L771 , FINSEQ_1:def 3;
reconsider D142 = ( (the charact of ( C214 . C220 )) . C215 ) as (operation of ( C214 . C220 )) by L772 , FUNCT_1:def 3;
L773: (( arity ( D140 . C221 ) ) = ( arity D141 ) & ( D140 . C220 ) = D142) by L747;
thus L774: thesis by L773 , L770 , L764 , L768 , UNIALG_1:def 4;
end;
reconsider D143 = D140 as  equal-arity (ManySortedOperation of ( Carrier C214 )) by L763 , L505;
take D143;
let C222 being (Element of C213);
let C223 being (operation of ( C214 . C222 ));
assume L775: ( (the charact of ( C214 . C222 )) . C215 ) = C223;
thus L776: thesis by L775 , L747;
end;
uniqueness
proof
let C224 , C225 being  equal-arity (ManySortedOperation of ( Carrier C214 ));
assume that
L777: (for B155 being (Element of C213) holds (for B156 being (operation of ( C214 . B155 )) holds (( (the charact of ( C214 . B155 )) . C215 ) = B156 implies ( C224 . B155 ) = B156)))
and
L778: (for B157 being (Element of C213) holds (for B158 being (operation of ( C214 . B157 )) holds (( (the charact of ( C214 . B157 )) . C215 ) = B158 implies ( C225 . B157 ) = B158)));
L779: (for R6 being set holds (R6 in C213 implies ( C224 . R6 ) = ( C225 . R6 )))
proof
let R6 being set;
assume L780: R6 in C213;
reconsider D144 = R6 as (Element of C213) by L780;
L781: C215 in ( dom ( signature ( C214 . D144 ) ) ) by L737 , L447;
L782: C215 in ( Seg ( len ( signature ( C214 . D144 ) ) ) ) by L781 , FINSEQ_1:def 3;
L783: C215 in ( Seg ( len (the charact of ( C214 . D144 )) ) ) by L782 , UNIALG_1:def 4;
L784: C215 in ( dom (the charact of ( C214 . D144 )) ) by L783 , FINSEQ_1:def 3;
reconsider D145 = ( (the charact of ( C214 . D144 )) . C215 ) as (operation of ( C214 . D144 )) by L784 , FUNCT_1:def 3;
L785: ( C224 . D144 ) = D145 by L777;
thus L786: thesis by L785 , L778;
end;
thus L787: thesis by L779 , PBOOLE:3;
end;
end;
definition
let C226 being non  empty set;
let C227 being  equal-signature  Univ_Alg-yielding (ManySortedSet of C226);
func ProdOpSeq C227 -> (PFuncFinSequence of ( product ( Carrier C227 ) )) means 
:L789: (( len it ) = ( len ( ComSign C227 ) ) & (for R4 being Nat holds (R4 in ( dom it ) implies ( it . R4 ) = [[: ( ProdOp (C227 , R4) ) :]])));
existence
proof
set D146 = ( ComSign C227 );
defpred S10[ Nat , set ] means $2 = [[: ( ProdOp (C227 , $1) ) :]];
L790: (for B159 being Nat holds (B159 in ( Seg ( len D146 ) ) implies (ex B160 being (Element of ( PFuncs (( ( product ( Carrier C227 ) ) * ) , ( product ( Carrier C227 ) )) )) st S10[ B159 , B160 ])))
proof
let C228 being Nat;
assume L791: C228 in ( Seg ( len D146 ) );
reconsider D147 = [[: ( ProdOp (C227 , C228) ) :]] as (Element of ( PFuncs (( ( product ( Carrier C227 ) ) * ) , ( product ( Carrier C227 ) )) )) by PARTFUN1:45;
take D147;
thus L792: thesis;
end;
consider C229 being (FinSequence of ( PFuncs (( ( product ( Carrier C227 ) ) * ) , ( product ( Carrier C227 ) )) )) such that L793: (( dom C229 ) = ( Seg ( len D146 ) ) & (for B161 being Nat holds (B161 in ( Seg ( len D146 ) ) implies S10[ B161 , ( C229 . B161 ) ]))) from FINSEQ_1:sch 5(L790);
reconsider D148 = C229 as (PFuncFinSequence of ( product ( Carrier C227 ) ));
take D148;
thus L794: ( len D148 ) = ( len D146 ) by L793 , FINSEQ_1:def 3;
let R4 being Nat;
assume L795: R4 in ( dom D148 );
thus L796: thesis by L795 , L793;
end;
uniqueness
proof
let C230 , C231 being (PFuncFinSequence of ( product ( Carrier C227 ) ));
assume that
L797: ( len C230 ) = ( len ( ComSign C227 ) )
and
L798: (for R4 being Nat holds (R4 in ( dom C230 ) implies ( C230 . R4 ) = [[: ( ProdOp (C227 , R4) ) :]]))
and
L799: ( len C231 ) = ( len ( ComSign C227 ) )
and
L800: (for R4 being Nat holds (R4 in ( dom C231 ) implies ( C231 . R4 ) = [[: ( ProdOp (C227 , R4) ) :]]));
L801: ( dom C230 ) = ( Seg ( len ( ComSign C227 ) ) ) by L797 , FINSEQ_1:def 3;
L802:
now
let C232 being Nat;
assume L803: C232 in ( dom C230 );
L804: (C232 in ( dom C231 ) & ( C230 . C232 ) = [[: ( ProdOp (C227 , C232) ) :]]) by L803 , L798 , L799 , L801 , FINSEQ_1:def 3;
thus L805: ( C230 . C232 ) = ( C231 . C232 ) by L804 , L800;
end;
thus L806: thesis by L802 , L797 , L799 , FINSEQ_2:9;
end;
end;
definition
let C233 being non  empty set;
let C234 being  equal-signature  Univ_Alg-yielding (ManySortedSet of C233);
func ProdUnivAlg C234 ->  strict Universal_Algebra equals 
UAStr (# ( product ( Carrier C234 ) ) , ( ProdOpSeq C234 ) #);
coherence
proof
set D149 = the (Element of C233);
set D150 = UAStr (# ( product ( Carrier C234 ) ) , ( ProdOpSeq C234 ) #);
set D151 = ( product ( Carrier C234 ) );
L808: (for B162 being Nat holds (for B163 being (PartFunc of ( D151 * ) , D151) holds ((B162 in ( dom (the charact of D150) ) & B163 = ( (the charact of D150) . B162 )) implies B163 is  quasi_total)))
proof
let C235 being Nat;
let C236 being (PartFunc of ( D151 * ) , D151);
assume that
L809: C235 in ( dom (the charact of D150) )
and
L810: ( (the charact of D150) . C235 ) = C236;
L811: ( (the charact of D150) . C235 ) = [[: ( ProdOp (C234 , C235) ) :]] by L809 , L789;
thus L812: thesis by L811 , L810;
end;
L813: (the charact of D150) is  quasi_total by L808 , MARGREL1:def 24;
L814: (for B164 being Nat holds (for B165 being (PartFunc of ( D151 * ) , D151) holds ((B164 in ( dom (the charact of D150) ) & B165 = ( (the charact of D150) . B164 )) implies B165 is  homogeneous)))
proof
let C237 being Nat;
let C238 being (PartFunc of ( D151 * ) , D151);
assume that
L815: C237 in ( dom (the charact of D150) )
and
L816: ( (the charact of D150) . C237 ) = C238;
L817: ( (the charact of D150) . C237 ) = [[: ( ProdOp (C234 , C237) ) :]] by L815 , L789;
thus L818: thesis by L817 , L816;
end;
L819: (the charact of D150) is  homogeneous by L814 , MARGREL1:def 23;
L820: (for B166 being set holds (B166 in ( dom (the charact of D150) ) implies ( (the charact of D150) . B166 ) is non  empty))
proof
let C239 being set;
assume L821: C239 in ( dom (the charact of D150) );
reconsider D152 = C239 as (Element of ( NAT )) by L821;
L822: ( (the charact of D150) . C239 ) = [[: ( ProdOp (C234 , D152) ) :]] by L821 , L789;
thus L823: thesis by L822;
end;
L824: (the charact of D150) is  non-empty by L820 , FUNCT_1:def 9;
L825: ( len (the charact of D150) ) = ( len ( ComSign C234 ) ) by L789
.= ( len ( signature ( C234 . D149 ) ) ) by L447
.= ( len (the charact of ( C234 . D149 )) ) by UNIALG_1:def 4;
L826: (the charact of D150) <> ( {} ) by L825;
thus L827: thesis by L826 , L813 , L819 , L824 , UNIALG_1:def 1 , UNIALG_1:def 2 , UNIALG_1:def 3;
end;
end;
