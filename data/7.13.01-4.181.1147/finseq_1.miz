:: Segments of Natural Numbers and Finite Sequences
::  by Grzegorz Bancerek and Krzysztof Hryniewiecki
::
:: Received April 1, 1989
:: Copyright (c) 1990-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, NAT_1, FUNCT_1, SUBSET_1, XXREAL_0, TARSKI, XCMPLX_0,
      XBOOLE_0, CARD_1, ARYTM_3, RELAT_1, FINSET_1, ZFMISC_1, ORDINAL1,
      PARTFUN1, FUNCOP_1, ORDINAL4, ARYTM_1, REAL_1, FINSEQ_1, ORDINAL2,
      VALUED_0;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, XCMPLX_0, RELAT_1, FUNCT_1,
      FUNCOP_1, WELLORD2, ORDINAL1, REAL_1, NAT_1, CARD_1, NUMBERS, PARTFUN1,
      FINSET_1, XXREAL_0, FUNCT_2, INT_1, VALUED_0;
 constructors WELLORD2, FUNCOP_1, FUNCT_4, XXREAL_0, XREAL_0, NAT_1, CARD_1,
      RELSET_1, XCMPLX_0, INT_1, VALUED_0;
 registrations XBOOLE_0, SUBSET_1, RELAT_1, FUNCT_1, ORDINAL1, FINSET_1,
      XXREAL_0, XREAL_0, NAT_1, CARD_1, NUMBERS, RELSET_1, INT_1, XCMPLX_0,
      VALUED_0;
 requirements REAL, NUMERALS, SUBSET, BOOLE, ARITHM;
 definitions TARSKI, FINSET_1, FUNCT_1, WELLORD2, XBOOLE_0, RELAT_1, CARD_1;
 theorems TARSKI, AXIOMS, FUNCT_1, NAT_1, ZFMISC_1, RELAT_1, RELSET_1,
      WELLORD2, ORDINAL1, CARD_1, FINSET_1, XBOOLE_0, XBOOLE_1, FUNCOP_1,
      XREAL_1, XXREAL_0, SETFAM_1, ORDINAL3, SUBSET_1, VALUED_0, XTUPLE_0;
 schemes FUNCT_1, SUBSET_1, NAT_1, XBOOLE_0, RELAT_1, CLASSES1;

begin
definition
let C1 being Nat;
func Seg C1 -> set equals 
{ B1 where B1 is (Element of ( NAT )) : (1 <= B1 & B1 <= C1) };
correctness;
end;
definition
let C2 being Nat;
redefine func Seg C2 -> (Subset of ( NAT ));

coherence
proof
set D1 = ( Seg C2 );
L2: D1 c= ( NAT )
proof
let R10 being set;
assume L3: R10 in D1;
L4: (ex B2 being (Element of ( NAT )) st (R10 = B2 & 1 <= B2 & B2 <= C2)) by L3;
thus L5: thesis by L4;
end;
thus L6: thesis by L2;
end;
end;
theorem
L8: (for R6 being Nat holds (for R7 being Nat holds (R6 in ( Seg R7 ) iff (1 <= R6 & R6 <= R7))))
proof
let R6 being Nat;
let R7 being Nat;
L9: R6 in ( NAT ) by ORDINAL1:def 12;
L10: (R6 in { B3 where B3 is (Element of ( NAT )) : (1 <= B3 & B3 <= R7) } iff (ex B4 being (Element of ( NAT )) st (R6 = B4 & 1 <= B4 & B4 <= R7)));
thus L11: thesis by L10 , L9;
end;
registration
let C3 being  zero Nat;
cluster ( Seg C3 ) ->  empty;
coherence
proof
assume L12: (not ( Seg C3 ) is  empty);
consider C4 being set such that L13: C4 in ( Seg C3 ) by L12 , XBOOLE_0:def 1;
L14: (ex B5 being (Element of ( NAT )) st (B5 = C4 & 1 <= B5 & B5 <= ( 0 ))) by L13;
thus L15: contradiction by L14;
end;
end;
theorem
L17: (( Seg 1 ) = { 1 } & ( Seg 2 ) = { 1 , 2 })
proof
L18:
now
let R10 being set;
thus L19: (R10 in ( Seg 1 ) implies R10 in { 1 })
proof
assume L20: R10 in ( Seg 1 );
consider C5 being (Element of ( NAT )) such that L21: R10 = C5 and L22: (1 <= C5 & C5 <= 1) by L20;
L23: C5 = 1 by L22 , XXREAL_0:1;
thus L24: thesis by L23 , L21 , TARSKI:def 1;
end;

assume L25: R10 in { 1 };
L26: R10 = 1 by L25 , TARSKI:def 1;
thus L27: R10 in ( Seg 1 ) by L26;
end;
thus L28: ( Seg 1 ) = { 1 } by L18 , TARSKI:1;
L29:
now
let R10 being set;
thus L30: (R10 in ( Seg 2 ) implies R10 in { 1 , 2 })
proof
assume L31: R10 in ( Seg 2 );
consider C6 being (Element of ( NAT )) such that L32: R10 = C6 and L33: 1 <= C6 and L34: C6 <= 2 by L31;
L35: C6 <= ( 1 + 1 ) by L34;
L36: (C6 = 1 or C6 = 2) by L35 , L33 , NAT_1:9;
thus L37: thesis by L36 , L32 , TARSKI:def 2;
end;

assume L38: R10 in { 1 , 2 };
L39: (R10 = 1 or R10 = 2) by L38 , TARSKI:def 2;
thus L40: R10 in ( Seg 2 ) by L39;
end;
thus L41: thesis by L29 , TARSKI:1;
end;
theorem
L42: (for R6 being Nat holds (R6 = ( 0 ) or R6 in ( Seg R6 )))
proof
let R6 being Nat;
assume L43: R6 <> ( 0 );
L44: (ex B6 being Nat st R6 = ( B6 + 1 )) by L43 , NAT_1:6;
L45: (R6 in ( NAT ) & 1 <= R6) by L44 , NAT_1:11;
thus L46: thesis by L45;
end;
registration
let C7 being non  zero Nat;
cluster ( Seg C7 ) -> non  empty;
coherence by L42;
end;
theorem
L48: (for R6 being Nat holds ( R6 + 1 ) in ( Seg ( R6 + 1 ) )) by L42;
theorem
L49: (for R6 being Nat holds (for R7 being Nat holds (R6 <= R7 iff ( Seg R6 ) c= ( Seg R7 ))))
proof
let R6 being Nat;
let R7 being Nat;
thus L50: (R6 <= R7 implies ( Seg R6 ) c= ( Seg R7 ))
proof
assume L51: R6 <= R7;
let R10 being set;
assume L52: R10 in ( Seg R6 );
reconsider D2 = R10 as (Element of ( NAT )) by L52;
L53: 1 <= D2 by L52 , L8;
L54: D2 <= R6 by L52 , L8;
L55: D2 <= R7 by L54 , L51 , XXREAL_0:2;
thus L56: thesis by L55 , L53;
end;

assume L57: ( Seg R6 ) c= ( Seg R7 );
L58:
now
assume L59: R6 <> ( 0 );
L60: R6 in ( Seg R6 ) by L59 , L42;
thus L61: thesis by L60 , L57 , L8;
end;
thus L62: thesis by L58;
end;
theorem
L63: (for R6 being Nat holds (for R7 being Nat holds (( Seg R6 ) = ( Seg R7 ) implies R6 = R7)))
proof
let R6 being Nat;
let R7 being Nat;
assume L64: ( Seg R6 ) = ( Seg R7 );
L65: (R6 <= R7 & R7 <= R6) by L64 , L49;
thus L66: thesis by L65 , XXREAL_0:1;
end;
theorem
L67: (for R6 being Nat holds (for R8 being Nat holds (R8 <= R6 implies ( Seg R8 ) = ( ( Seg R6 ) /\ ( Seg R8 ) ))))
proof
let R6 being Nat;
let R8 being Nat;
assume L68: R8 <= R6;
L69: ( Seg R8 ) c= ( Seg R6 ) by L68 , L49;
thus L70: thesis by L69 , XBOOLE_1:28;
end;
theorem
L71: (for R6 being Nat holds (for R8 being Nat holds (( Seg R8 ) = ( ( Seg R8 ) /\ ( Seg R6 ) ) implies R8 <= R6))) by L63 , L67;
theorem
L72: (for R6 being Nat holds ( ( Seg R6 ) \/ { ( R6 + 1 ) } ) = ( Seg ( R6 + 1 ) ))
proof
let R6 being Nat;
thus L73: ( ( Seg R6 ) \/ { ( R6 + 1 ) } ) c= ( Seg ( R6 + 1 ) )
proof
L74: ( R6 + ( 0 ) ) <= ( R6 + 1 ) by XREAL_1:7;
L75: ( Seg R6 ) c= ( Seg ( R6 + 1 ) ) by L74 , L49;
let R10 being set;
assume L76: R10 in ( ( Seg R6 ) \/ { ( R6 + 1 ) } );
L77: (R10 in ( Seg R6 ) or R10 in { ( R6 + 1 ) }) by L76 , XBOOLE_0:def 3;
L78: (R10 in ( Seg ( R6 + 1 ) ) or R10 = ( R6 + 1 )) by L77 , L75 , TARSKI:def 1;
thus L79: thesis by L78 , L42;
end;

let R10 being set;
assume L80: R10 in ( Seg ( R6 + 1 ) );
reconsider D3 = R10 as (Element of ( NAT )) by L80;
L81: D3 <= ( R6 + 1 ) by L80 , L8;
L82: 1 <= D3 by L80 , L8;
L83: (D3 <= R6 or D3 = ( R6 + 1 )) by L81 , NAT_1:8;
L84: (D3 in ( Seg R6 ) or D3 in { ( R6 + 1 ) }) by L83 , L82 , TARSKI:def 1;
thus L85: thesis by L84 , XBOOLE_0:def 3;
end;
theorem
L86: (for B7 being Nat holds ( Seg B7 ) = ( ( Seg ( B7 + 1 ) ) \ { ( B7 + 1 ) } ))
proof
let C8 being Nat;
L87: ( Seg ( C8 + 1 ) ) = ( ( Seg C8 ) \/ { ( C8 + 1 ) } ) by L72;
L88: ( Seg C8 ) misses { ( C8 + 1 ) }
proof
assume L89: (not thesis);
L90: ( ( Seg C8 ) /\ { ( C8 + 1 ) } ) <> ( {} ) by L89 , XBOOLE_0:def 7;
set D4 = the (Element of ( ( Seg C8 ) /\ { ( C8 + 1 ) } ));
L91: D4 in ( Seg C8 ) by L90 , XBOOLE_0:def 4;
reconsider D5 = D4 as (Element of ( NAT )) by L91;
L92: D5 in { ( C8 + 1 ) } by L90 , XBOOLE_0:def 4;
L93: D5 = ( C8 + 1 ) by L92 , TARSKI:def 1;
L94: D5 <= C8 by L91 , L8;
thus L95: thesis by L94 , L93 , XREAL_1:29;
end;
thus L96: thesis by L88 , L87 , XBOOLE_1:88;
end;
definition
let C9 being Relation;
attr C9 is  FinSequence-like
means
:L97: (ex R4 being Nat st ( dom C9 ) = ( Seg R4 ));
end;
registration
cluster  empty ->  FinSequence-like for Relation;
coherence
proof
let C10 being Relation;
assume L99: C10 is  empty;
take ( 0 );
thus L100: thesis by L99;
end;
end;
definition
mode FinSequence
 is  FinSequence-like Function;
end;
defpred S1[ set , set ] means (ex R1 being Nat st ($1 = R1 & $2 = ( R1 + 1 )));
registration
let C11 being Nat;
cluster ( Seg C11 ) ->  finite;
coherence
proof
L103: ( Seg C11 ) is  finite
proof
L104: C11 = { B8 where B8 is (Element of ( NAT )) : B8 < C11 } by AXIOMS:4;
L105: (for R10 being set holds (R10 in C11 implies (ex R11 being set st S1[ R10 , R11 ])))
proof
let R10 being set;
assume L106: R10 in C11;
L107: (ex B9 being (Element of ( NAT )) st (R10 = B9 & B9 < C11)) by L106 , L104;
reconsider D6 = R10 as Nat by L107;
take ( D6 + 1 );
thus L108: thesis;
end;
consider R17 being Function such that L109: ( dom R17 ) = C11 and L110: (for R10 being set holds (R10 in C11 implies S1[ R10 , ( R17 . R10 ) ])) from CLASSES1:sch 1(L105);
take R17;
thus L111: ( rng R17 ) = ( Seg C11 )
proof
thus L112: ( rng R17 ) c= ( Seg C11 )
proof
let R10 being set;
assume L113: R10 in ( rng R17 );
consider C12 being set such that L114: C12 in ( dom R17 ) and L115: R10 = ( R17 . C12 ) by L113 , FUNCT_1:def 3;
consider R1 being Nat such that L116: C12 = R1 and L117: R10 = ( R1 + 1 ) by L109 , L110 , L114 , L115;
L118: (ex B10 being (Element of ( NAT )) st (B10 = C12 & B10 < C11)) by L104 , L109 , L114;
L119: (1 <= ( R1 + 1 ) & ( R1 + 1 ) <= C11) by L118 , L116 , NAT_1:11 , NAT_1:13;
thus L120: thesis by L119 , L117;
end;

let R10 being set;
assume L121: R10 in ( Seg C11 );
consider C13 being (Element of ( NAT )) such that L122: R10 = C13 and L123: 1 <= C13 and L124: C13 <= C11 by L121;
consider C14 being Nat such that L125: ( 1 + C14 ) = C13 by L123 , NAT_1:10;
L126: (C14 in ( NAT ) & C14 < C11) by L124 , L125 , NAT_1:13 , ORDINAL1:def 12;
L127: C14 in C11 by L126 , L104;
L128: S1[ C14 , ( R17 . C14 ) ] by L127 , L110;
thus L129: thesis by L128 , L109 , L122 , L125 , L127 , FUNCT_1:def 3;
end;

thus L130: thesis by L109 , ORDINAL1:def 12;
end;
thus L131: thesis by L103;
end;
end;
registration
cluster  FinSequence-like ->  finite for Function;
coherence
proof
let C15 being Function;
given R4 being Nat such that
L133: ( dom C15 ) = ( Seg R4 );

L134: ( rng C15 ) is  finite by L133 , FINSET_1:8;
L135: [: ( dom C15 ) , ( rng C15 ) :] is  finite by L134 , L133;
thus L136: thesis by L135 , FINSET_1:1 , RELAT_1:7;
end;
end;
L138: (for R4 being Nat holds ( Seg R4 ) , R4 are_equipotent )
proof
let R4 being Nat;
defpred S2[ Nat ] means ( Seg $1 ) , $1 are_equipotent ;
L139: S2[ ( 0 ) ];
L140: (for R4 being Nat holds (S2[ R4 ] implies S2[ ( R4 + 1 ) ]))
proof
let R4 being Nat;
assume that
L141: ( Seg R4 ) , R4 are_equipotent ;
L142: ( R4 + 1 ) = ( succ R4 ) by NAT_1:38
.= ( R4 \/ { R4 } ) by ORDINAL1:def 1;
L143: (( Seg ( R4 + 1 ) ) = ( ( Seg R4 ) \/ { ( R4 + 1 ) } ) & { ( R4 + 1 ) } , { R4 } are_equipotent ) by L72 , CARD_1:28;
L144:
now
assume L145: R4 meets { R4 };
consider C16 being set such that L146: C16 in R4 and L147: C16 in { R4 } by L145 , XBOOLE_0:3;
L148: C16 = R4 by L147 , TARSKI:def 1;
thus L149: contradiction by L148 , L146;
end;
L150:
now
assume L151: ( Seg R4 ) meets { ( R4 + 1 ) };
consider C17 being set such that L152: C17 in ( Seg R4 ) and L153: C17 in { ( R4 + 1 ) } by L151 , XBOOLE_0:3;
L154: C17 = ( R4 + 1 ) by L153 , TARSKI:def 1;
L155: (not ( R4 + 1 ) <= R4) by NAT_1:13;
thus L156: contradiction by L155 , L152 , L154 , L8;
end;
thus L157: thesis by L150 , L141 , L142 , L143 , L144 , CARD_1:31;
end;
L158: (for R4 being Nat holds S2[ R4 ]) from NAT_1:sch 2(L139 , L140);
thus L159: thesis by L158;
end;
L160: (for R4 being Nat holds ( card ( Seg R4 ) ) = ( card R4 ))
proof
let R4 being Nat;
L161: ( Seg R4 ) , R4 are_equipotent  by L138;
thus L162: thesis by L161 , CARD_1:5;
end;
registration
let R4 being Nat;
cluster ( Seg R4 ) -> R4 -element;
coherence
proof
L163: ( card ( Seg R4 ) ) = ( card R4 ) by L160;
thus L164: ( card ( Seg R4 ) ) = R4 by L163 , CARD_1:def 2;
end;
end;
notation
let R19 being FinSequence;
synonym len R19 for card R19;
end;
definition
let R19 being FinSequence;
redefine func len R19 -> (Element of ( NAT )) means 
:L167: ( Seg it ) = ( dom R19 );
coherence
proof
L168: ( card R19 ) = ( card R19 );
thus L169: thesis by L168;
end;
compatibility
proof
let C18 being (Element of ( NAT ));
consider R4 being Nat such that L170: ( dom R19 ) = ( Seg R4 ) by L97;
L171: ( dom R19 ) , R19 are_equipotent 
proof
deffunc H1(set) = [ $1 , ( R19 . $1 ) ];
consider C19 being Function such that L172: ( dom C19 ) = ( dom R19 ) and L173: (for R10 being set holds (R10 in ( dom R19 ) implies ( C19 . R10 ) = H1(R10))) from FUNCT_1:sch 3;
take C19;
thus L174: C19 is  one-to-one
proof
let R10 being set;
let R11 being set;
assume that
L175: R10 in ( dom C19 )
and
L176: R11 in ( dom C19 );
assume L177: ( C19 . R10 ) = ( C19 . R11 );
L178: [ R10 , ( R19 . R10 ) ] = ( C19 . R11 ) by L177 , L172 , L173 , L175
.= [ R11 , ( R19 . R11 ) ] by L172 , L173 , L176;
thus L179: thesis by L178 , XTUPLE_0:1;
end;

thus L180: ( dom C19 ) = ( dom R19 ) by L172;
thus L181: ( rng C19 ) c= R19
proof
let C20 being set;
assume L182: C20 in ( rng C19 );
consider R10 being set such that L183: R10 in ( dom C19 ) and L184: ( C19 . R10 ) = C20 by L182 , FUNCT_1:def 3;
L185: ( C19 . R10 ) = [ R10 , ( R19 . R10 ) ] by L172 , L173 , L183;
thus L186: thesis by L185 , L172 , L183 , L184 , FUNCT_1:1;
end;

let C21 , C22 being set;
assume L187: [ C21 , C22 ] in R19;
L188: C21 in ( dom R19 ) by L187 , FUNCT_1:1;
L189: C22 = ( R19 . C21 ) by L187 , FUNCT_1:1;
L190: ( C19 . C21 ) = [ C21 , C22 ] by L189 , L173 , L188;
thus L191: thesis by L190 , L172 , L188 , FUNCT_1:def 3;
end;
L192: ( card R19 ) = ( card ( dom R19 ) ) by L171 , CARD_1:5;
thus L193: (C18 = ( card R19 ) implies ( Seg C18 ) = ( dom R19 ))
proof
assume L194: C18 = ( card R19 );
L195: C18 = ( card R4 ) by L194 , L170 , L192 , L160;
thus L196: thesis by L195 , L170 , CARD_1:def 2;
end;

assume L197: ( Seg C18 ) = ( dom R19 );
thus L198: C18 = ( card C18 ) by CARD_1:def 2
.= ( card R19 ) by L192 , L197 , L160;
end;
end;
definition
let R19 being FinSequence;
redefine func dom R19 -> (Subset of ( NAT ));

coherence
proof
L200: ( dom R19 ) = ( Seg ( len R19 ) ) by L167;
thus L201: thesis by L200;
end;
end;
theorem
L203: (for R17 being Function holds ((ex R1 being Nat st ( dom R17 ) c= ( Seg R1 )) implies (ex R19 being FinSequence st R17 c= R19)))
proof
let R17 being Function;
given R1 being Nat such that
L204: ( dom R17 ) c= ( Seg R1 );

deffunc H2(set) = ( R17 . $1 );
consider R18 being Function such that L205: (( dom R18 ) = ( Seg R1 ) & (for R10 being set holds (R10 in ( Seg R1 ) implies ( R18 . R10 ) = H2(R10)))) from FUNCT_1:sch 3;
reconsider D7 = R18 as FinSequence by L205 , L97;
take D7;
let C23 , C24 being set;
assume L206: [ C23 , C24 ] in R17;
L207: C23 in ( dom R17 ) by L206 , XTUPLE_0:def 12;
L208: ( R17 . C23 ) = C24 by L207 , L206 , FUNCT_1:def 2;
L209: [ C23 , ( D7 . C23 ) ] in D7 by L204 , L205 , L207 , FUNCT_1:1;
thus L210: thesis by L209 , L204 , L205 , L207 , L208;
end;
scheme SeqEx { F1() -> Nat , P1[set , set] } : (ex R19 being FinSequence st (( dom R19 ) = ( Seg F1() ) & (for R1 being Nat holds (R1 in ( Seg F1() ) implies P1[ R1 , ( R19 . R1 ) ]))))
provided
L211: (for R1 being Nat holds (R1 in ( Seg F1() ) implies (ex R10 being set st P1[ R1 , R10 ])))
proof
L212: (for R10 being set holds (R10 in ( Seg F1() ) implies (ex R11 being set st P1[ R10 , R11 ]))) by L211;
consider C25 being Function such that L213: (( dom C25 ) = ( Seg F1() ) & (for R10 being set holds (R10 in ( Seg F1() ) implies P1[ R10 , ( C25 . R10 ) ]))) from CLASSES1:sch 1(L212);
reconsider D8 = C25 as FinSequence by L213 , L97;
take D8;
thus L214: thesis by L213;
end;
scheme SeqLambda { F2() -> Nat , F3(set) -> set } : (ex B11 being FinSequence st (( len B11 ) = F2() & (for R1 being Nat holds (R1 in ( dom B11 ) implies ( B11 . R1 ) = F3(R1)))))
proof
consider C26 being Function such that L215: (( dom C26 ) = ( Seg F2() ) & (for R10 being set holds (R10 in ( Seg F2() ) implies ( C26 . R10 ) = F3(R10)))) from FUNCT_1:sch 3;
L216: F2() in ( NAT ) by ORDINAL1:def 12;
reconsider D9 = C26 as FinSequence by L215 , L97;
take D9;
thus L217: thesis by L215 , L216 , L167;
end;
theorem
L218: (for R12 being set holds (for R19 being FinSequence holds (R12 in R19 implies (ex R1 being Nat st (R1 in ( dom R19 ) & R12 = [ R1 , ( R19 . R1 ) ])))))
proof
let R12 being set;
let R19 being FinSequence;
assume L219: R12 in R19;
consider R10 being set, R11 being set such that L220: R12 = [ R10 , R11 ] by L219 , RELAT_1:def 1;
L221: R10 in ( dom R19 ) by L219 , L220 , FUNCT_1:1;
reconsider D10 = R10 as Nat by L221;
take D10;
thus L222: thesis by L219 , L220 , FUNCT_1:1;
end;
theorem
L223: (for R19 being FinSequence holds (for R20 being FinSequence holds ((( dom R19 ) = ( dom R20 ) & (for R1 being Nat holds (R1 in ( dom R19 ) implies ( R19 . R1 ) = ( R20 . R1 )))) implies R19 = R20)))
proof
let R19 being FinSequence;
let R20 being FinSequence;
assume that
L224: ( dom R19 ) = ( dom R20 )
and
L225: (for R1 being Nat holds (R1 in ( dom R19 ) implies ( R19 . R1 ) = ( R20 . R1 )));
L226: (for R10 being set holds (R10 in ( dom R19 ) implies ( R19 . R10 ) = ( R20 . R10 ))) by L225;
thus L227: thesis by L226 , L224 , FUNCT_1:2;
end;
theorem
L228: (for R19 being FinSequence holds (for R20 being FinSequence holds ((( len R19 ) = ( len R20 ) & (for R1 being Nat holds ((1 <= R1 & R1 <= ( len R19 )) implies ( R19 . R1 ) = ( R20 . R1 )))) implies R19 = R20)))
proof
let R19 being FinSequence;
let R20 being FinSequence;
assume that
L229: ( len R19 ) = ( len R20 )
and
L230: (for R1 being Nat holds ((1 <= R1 & R1 <= ( len R19 )) implies ( R19 . R1 ) = ( R20 . R1 )));
L231: ( dom R19 ) = ( Seg ( len R19 ) ) by L167;
L232: ( dom R20 ) = ( Seg ( len R20 ) ) by L167;
L233:
now
let R10 being set;
assume L234: R10 in ( dom R19 );
reconsider D11 = R10 as Nat by L234;
L235: (1 <= D11 & D11 <= ( len R19 )) by L231 , L234 , L8;
thus L236: ( R19 . R10 ) = ( R20 . R10 ) by L235 , L230;
end;
thus L237: thesis by L233 , L229 , L231 , L232 , FUNCT_1:2;
end;
theorem
L238: (for R6 being Nat holds (for R19 being FinSequence holds ( R19 | ( Seg R6 ) ) is FinSequence))
proof
let R6 being Nat;
let R19 being FinSequence;
L239: ( dom ( R19 | ( Seg R6 ) ) ) = ( ( dom R19 ) /\ ( Seg R6 ) ) by RELAT_1:61
.= ( ( Seg ( len R19 ) ) /\ ( Seg R6 ) ) by L167;
L240: (( len R19 ) <= R6 or R6 <= ( len R19 ));
L241: (( dom ( R19 | ( Seg R6 ) ) ) = ( Seg ( len R19 ) ) or ( dom ( R19 | ( Seg R6 ) ) ) = ( Seg R6 )) by L240 , L239 , L67;
thus L242: thesis by L241 , L97;
end;
theorem
L243: (for R17 being Function holds (for R19 being FinSequence holds (( rng R19 ) c= ( dom R17 ) implies ( R17 * R19 ) is FinSequence)))
proof
let R17 being Function;
let R19 being FinSequence;
assume L244: ( rng R19 ) c= ( dom R17 );
L245: ( dom ( R17 * R19 ) ) = ( dom R19 ) by L244 , RELAT_1:27
.= ( Seg ( len R19 ) ) by L167;
thus L246: thesis by L245 , L97;
end;
theorem
L247: (for R6 being Nat holds (for R19 being FinSequence holds (for R20 being FinSequence holds ((R6 <= ( len R19 ) & R20 = ( R19 | ( Seg R6 ) )) implies (( len R20 ) = R6 & ( dom R20 ) = ( Seg R6 ))))))
proof
let R6 being Nat;
let R19 being FinSequence;
let R20 being FinSequence;
assume that
L248: R6 <= ( len R19 )
and
L249: R20 = ( R19 | ( Seg R6 ) );
L250: ( Seg R6 ) c= ( Seg ( len R19 ) ) by L248 , L49;
L251: ( Seg R6 ) c= ( dom R19 ) by L250 , L167;
L252: (R6 in ( NAT ) & ( dom R20 ) = ( Seg R6 )) by L251 , L249 , ORDINAL1:def 12 , RELAT_1:62;
thus L253: thesis by L252 , L167;
end;
definition
let C27 being set;
mode FinSequence of C27
 -> FinSequence
means :L254: ( rng it ) c= C27;
existence
proof
L255: ( rng ( {} ) ) c= C27 by XBOOLE_1:2;
thus L256: thesis by L255;
end;
end;
registration
let C28 being set;
cluster  -> C28 -valued for (FinSequence of C28);
coherence
proof
let C29 being (FinSequence of C28);
thus L258: ( rng C29 ) c= C28 by L254;
end;
end;
L260: (for B12 being set holds (for B13 being (FinSequence of B12) holds B13 is (PartFunc of ( NAT ) , B12)))
proof
let C30 being set;
let C31 being (FinSequence of C30);
L261: (( dom C31 ) c= ( NAT ) & ( rng C31 ) c= C30) by L254;
thus L262: thesis by L261 , RELSET_1:4;
end;
registration
cluster  empty ->  FinSequence-like for Relation;
coherence;
end;
registration
let C32 being set;
cluster  FinSequence-like for (PartFunc of ( NAT ) , C32);
existence
proof
L264: ( {} ) is (PartFunc of ( NAT ) , C32) by RELSET_1:12;
thus L265: thesis by L264;
end;
end;
definition
let C33 being set;
redefine mode FinSequence of C33
 ->  FinSequence-like (PartFunc of ( NAT ) , C33);
coherence by L260;
end;
theorem
L268: (for R6 being Nat holds (for R24 being set holds (for B14 being (FinSequence of R24) holds ( B14 | ( Seg R6 ) ) is (FinSequence of R24))))
proof
let R6 being Nat;
let R24 being set;
let C34 being (FinSequence of R24);
L269: ( C34 | ( Seg R6 ) ) is FinSequence by L238;
L270: (( rng ( C34 | ( Seg R6 ) ) ) c= ( rng C34 ) & ( rng C34 ) c= R24) by L254 , RELAT_1:70;
L271: ( rng ( C34 | ( Seg R6 ) ) ) c= R24 by L270 , XBOOLE_1:1;
thus L272: thesis by L271 , L269 , L254;
end;
theorem
L273: (for R6 being Nat holds (for B15 being non  empty set holds (ex B16 being (FinSequence of B15) st ( len B16 ) = R6)))
proof
let R6 being Nat;
let C35 being non  empty set;
reconsider D12 = R6 as (Element of ( NAT )) by ORDINAL1:def 12;
set D13 = the (Element of C35);
set D14 = ( ( Seg D12 ) --> D13 );
L274: ( dom D14 ) = ( Seg D12 ) by FUNCOP_1:13;
reconsider D15 = D14 as FinSequence by L274 , L97;
L275: (( rng D15 ) c= { D13 } & { D13 } c= C35) by FUNCOP_1:13 , ZFMISC_1:31;
L276: ( rng D15 ) c= C35 by L275 , XBOOLE_1:1;
reconsider D16 = D15 as (FinSequence of C35) by L276 , L254;
take D16;
thus L277: thesis by L274 , L167;
end;
L278: (for R20 being FinSequence holds (R20 = ( {} ) iff ( len R20 ) = ( 0 )));
theorem
L279: (for R19 being FinSequence holds (R19 <> ( {} ) iff ( len R19 ) >= 1))
proof
let R19 being FinSequence;
thus L280:now
assume L281: R19 <> ( {} );
L282: ( ( len R19 ) + 1 ) > ( ( 0 ) + 1 ) by L281 , XREAL_1:8;
thus L283: ( len R19 ) >= 1 by L282 , NAT_1:13;
end;
assume L284: ( len R19 ) >= 1;
thus L285: thesis by L284;
end;
definition
let R10 being set;
func <*R10 *> -> set equals 
{ [ 1 , R10 ] };
coherence;
end;
definition
let C36 being set;
func <*> C36 -> (FinSequence of C36) equals 
( {} );
coherence
proof
L287: ( rng ( {} ) ) c= C36 by XBOOLE_1:2;
thus L288: thesis by L287 , L254;
end;
end;
registration
let C37 being set;
cluster ( <*> C37 ) ->  empty;
coherence;
end;
registration
let C38 being set;
cluster  empty for (FinSequence of C38);
existence
proof
take ( <*> C38 );
thus L291: thesis;
end;
end;
definition
let R19 being FinSequence;
let R20 being FinSequence;
func R19 ^ R20 -> FinSequence means 
:L293: (( dom it ) = ( Seg ( ( len R19 ) + ( len R20 ) ) ) & (for R1 being Nat holds (R1 in ( dom R19 ) implies ( it . R1 ) = ( R19 . R1 ))) & (for R1 being Nat holds (R1 in ( dom R20 ) implies ( it . ( ( len R19 ) + R1 ) ) = ( R20 . R1 ))));
existence
proof
defpred S3[ set , set ] means ((for R1 being Nat holds ((R1 = $1 & 1 <= R1 & R1 <= ( len R19 )) implies $2 = ( R19 . R1 ))) & (for R1 being Nat holds ((R1 = $1 & ( ( len R19 ) + 1 ) <= R1 & R1 <= ( ( len R19 ) + ( len R20 ) )) implies $2 = ( R20 . ( R1 - ( len R19 ) ) ))));
L294: (for R10 being set holds (R10 in ( Seg ( ( len R19 ) + ( len R20 ) ) ) implies (ex R11 being set st S3[ R10 , R11 ])))
proof
let R10 being set;
assume L295: R10 in ( Seg ( ( len R19 ) + ( len R20 ) ) );
reconsider D17 = R10 as (Element of ( NAT )) by L295;
L296:
now
assume L297: ( ( len R19 ) + 1 ) <= D17;
set D18 = ( R20 . ( D17 - ( len R19 ) ) );
L298: (for R1 being Nat holds ((R1 = R10 & 1 <= R1 & R1 <= ( len R19 )) implies D18 = ( R19 . R1 )))
proof
let R1 being Nat;
assume that
L299: R1 = R10
and
L300: 1 <= R1
and
L301: R1 <= ( len R19 );
L302: ( D17 + ( ( len R19 ) + 1 ) ) <= ( D17 + ( len R19 ) ) by L297 , L299 , L301 , XREAL_1:7;
L303: ( ( D17 + ( len R19 ) ) + 1 ) <= ( ( D17 + ( len R19 ) ) + ( 0 ) ) by L302;
thus L304: thesis by L303 , XREAL_1:6;
end;
L305: (for R1 being Nat holds ((R1 = R10 & ( ( len R19 ) + 1 ) <= R1 & R1 <= ( ( len R19 ) + ( len R20 ) )) implies D18 = ( R20 . ( R1 - ( len R19 ) ) )));
thus L306: thesis by L305 , L298;
end;
L307:
now
assume L308: (not ( ( len R19 ) + 1 ) <= D17);
set D19 = ( R19 . D17 );
L309: ((for R1 being Nat holds ((R1 = R10 & 1 <= R1 & R1 <= ( len R19 )) implies D19 = ( R19 . R1 ))) & (for R1 being Nat holds ((R1 = R10 & ( ( len R19 ) + 1 ) <= R1 & R1 <= ( ( len R19 ) + ( len R20 ) )) implies D19 = ( R20 . ( R1 - ( len R19 ) ) )))) by L308;
thus L310: thesis by L309;
end;
thus L311: thesis by L307 , L296;
end;
consider R17 being Function such that L312: (( dom R17 ) = ( Seg ( ( len R19 ) + ( len R20 ) ) ) & (for R10 being set holds (R10 in ( Seg ( ( len R19 ) + ( len R20 ) ) ) implies S3[ R10 , ( R17 . R10 ) ]))) from CLASSES1:sch 1(L294);
L313: (for R1 being Nat holds (R1 in ( dom R19 ) implies ( R17 . R1 ) = ( R19 . R1 )))
proof
let R1 being Nat;
assume L314: R1 in ( dom R19 );
L315: R1 in ( Seg ( len R19 ) ) by L314 , L167;
L316: (1 <= R1 & R1 <= ( len R19 )) by L315 , L8;
L317: ( len R19 ) <= ( ( len R19 ) + ( len R20 ) ) by NAT_1:11;
L318: ( Seg ( len R19 ) ) c= ( Seg ( ( len R19 ) + ( len R20 ) ) ) by L317 , L49;
thus L319: thesis by L318 , L312 , L315 , L316;
end;
L320: (for R4 being Nat holds (R4 in ( dom R20 ) implies ( R17 . ( ( len R19 ) + R4 ) ) = ( R20 . R4 )))
proof
let R4 being Nat;
assume L321: R4 in ( dom R20 );
L322: R4 in ( Seg ( len R20 ) ) by L321 , L167;
L323: 1 <= R4 by L322 , L8;
L324: R4 <= ( len R20 ) by L322 , L8;
L325: ( ( len R19 ) + 1 ) <= ( ( len R19 ) + R4 ) by L323 , XREAL_1:7;
L326: ( ( len R19 ) + R4 ) <= ( ( len R19 ) + ( len R20 ) ) by L324 , XREAL_1:7;
reconsider D20 = R4 as (Element of ( NAT )) by ORDINAL1:def 12;
L327: ( ( len R19 ) + D20 ) <= ( ( ( len R19 ) + D20 ) + ( len R19 ) ) by NAT_1:11;
L328: ( ( len R19 ) + 1 ) <= ( ( ( len R19 ) + D20 ) + ( len R19 ) ) by L327 , L325 , XXREAL_0:2;
L329: 1 <= ( ( len R19 ) + D20 ) by L328 , XREAL_1:6;
L330: ( ( len R19 ) + D20 ) in ( Seg ( ( len R19 ) + ( len R20 ) ) ) by L329 , L326;
L331: ( R17 . ( ( len R19 ) + D20 ) ) = ( R20 . ( ( D20 + ( len R19 ) ) - ( len R19 ) ) ) by L330 , L312 , L325 , L326;
thus L332: thesis by L331;
end;
reconsider D21 = R17 as FinSequence by L312 , L97;
take D21;
thus L333: thesis by L312 , L313 , L320;
end;
uniqueness
proof
let C39 , C40 being FinSequence;
assume that
L334: ( dom C39 ) = ( Seg ( ( len R19 ) + ( len R20 ) ) )
and
L335: (for R1 being Nat holds (R1 in ( dom R19 ) implies ( C39 . R1 ) = ( R19 . R1 )))
and
L336: (for R1 being Nat holds (R1 in ( dom R20 ) implies ( C39 . ( ( len R19 ) + R1 ) ) = ( R20 . R1 )))
and
L337: ( dom C40 ) = ( Seg ( ( len R19 ) + ( len R20 ) ) )
and
L338: (for R1 being Nat holds (R1 in ( dom R19 ) implies ( C40 . R1 ) = ( R19 . R1 )))
and
L339: (for R1 being Nat holds (R1 in ( dom R20 ) implies ( C40 . ( ( len R19 ) + R1 ) ) = ( R20 . R1 )));
L340: (for R10 being set holds (R10 in ( Seg ( ( len R19 ) + ( len R20 ) ) ) implies ( C39 . R10 ) = ( C40 . R10 )))
proof
let R10 being set;
assume L341: R10 in ( Seg ( ( len R19 ) + ( len R20 ) ) );
reconsider D22 = R10 as (Element of ( NAT )) by L341;
L342: 1 <= D22 by L341 , L8;
L343:
now
assume L344: ( ( len R19 ) + 1 ) <= D22;
consider C41 being Nat such that L345: ( ( ( len R19 ) + 1 ) + C41 ) = D22 by L344 , NAT_1:10;
reconsider D23 = C41 as (Element of ( NAT )) by ORDINAL1:def 12;
L346: ( ( len R19 ) + ( 1 + D23 ) ) <= ( ( len R19 ) + ( len R20 ) ) by L341 , L345 , L8;
L347: (( 1 + ( 0 ) ) <= ( 1 + D23 ) & ( 1 + D23 ) <= ( len R20 )) by L346 , XREAL_1:6;
L348: ( 1 + D23 ) in ( Seg ( len R20 ) ) by L347;
L349: ( 1 + D23 ) in ( dom R20 ) by L348 , L167;
L350: ( C40 . ( ( len R19 ) + ( 1 + D23 ) ) ) = ( R20 . ( 1 + D23 ) ) by L349 , L339;
thus L351: thesis by L350 , L336 , L345 , L349;
end;
L352:
now
assume L353: (not ( ( len R19 ) + 1 ) <= D22);
L354: D22 <= ( len R19 ) by L353 , NAT_1:8;
L355: D22 in ( Seg ( len R19 ) ) by L354 , L342;
L356: D22 in ( dom R19 ) by L355 , L167;
L357: ( C39 . D22 ) = ( R19 . D22 ) by L356 , L335;
thus L358: thesis by L357 , L338 , L356;
end;
thus L359: thesis by L352 , L343;
end;
thus L360: thesis by L340 , L334 , L337 , FUNCT_1:2;
end;
end;
theorem
L362: (for R19 being FinSequence holds (for R20 being FinSequence holds R19 = ( ( R19 ^ R20 ) | ( dom R19 ) )))
proof
let R19 being FinSequence;
let R20 being FinSequence;
L363: ( dom ( R19 ^ R20 ) ) = ( Seg ( ( len R19 ) + ( len R20 ) ) ) by L293;
L364: ( dom R19 ) = ( Seg ( len R19 ) ) by L167;
L365: ( dom R19 ) = ( ( dom ( R19 ^ R20 ) ) /\ ( Seg ( len R19 ) ) ) by L364 , L363 , L67 , NAT_1:12;
L366: (for R10 being set holds (R10 in ( dom R19 ) implies ( R19 . R10 ) = ( ( R19 ^ R20 ) . R10 ))) by L293;
thus L367: thesis by L366 , L364 , L365 , FUNCT_1:46;
end;
theorem
L368: (for R19 being FinSequence holds (for R20 being FinSequence holds ( len ( R19 ^ R20 ) ) = ( ( len R19 ) + ( len R20 ) )))
proof
let R19 being FinSequence;
let R20 being FinSequence;
L369: ( dom ( R19 ^ R20 ) ) = ( Seg ( ( len R19 ) + ( len R20 ) ) ) by L293;
thus L370: thesis by L369 , L167;
end;
theorem
L371: (for R19 being FinSequence holds (for R20 being FinSequence holds (for B17 being Nat holds ((( ( len R19 ) + 1 ) <= B17 & B17 <= ( ( len R19 ) + ( len R20 ) )) implies ( ( R19 ^ R20 ) . B17 ) = ( R20 . ( B17 - ( len R19 ) ) )))))
proof
let R19 being FinSequence;
let R20 being FinSequence;
let C42 being Nat;
assume that
L372: ( ( len R19 ) + 1 ) <= C42
and
L373: C42 <= ( ( len R19 ) + ( len R20 ) );
consider C43 being Nat such that L374: ( ( ( len R19 ) + 1 ) + C43 ) = C42 by L372 , NAT_1:10;
reconsider D24 = C43 as (Element of ( NAT )) by ORDINAL1:def 12;
L375: ( ( len R19 ) + ( 1 + D24 ) ) = C42 by L374;
L376: ( 1 + D24 ) = ( C42 - ( len R19 ) ) by L374;
L377: 1 <= ( 1 + D24 ) by L376 , L372 , XREAL_1:19;
L378: ( C42 - ( len R19 ) ) <= ( len R20 ) by L373 , XREAL_1:20;
L379: ( 1 + D24 ) in ( Seg ( len R20 ) ) by L378 , L374 , L377;
L380: ( 1 + D24 ) in ( dom R20 ) by L379 , L167;
thus L381: thesis by L380 , L375 , L293;
end;
theorem
L382: (for R19 being FinSequence holds (for R20 being FinSequence holds (for B18 being Nat holds ((( len R19 ) < B18 & B18 <= ( len ( R19 ^ R20 ) )) implies ( ( R19 ^ R20 ) . B18 ) = ( R20 . ( B18 - ( len R19 ) ) )))))
proof
let R19 being FinSequence;
let R20 being FinSequence;
let C44 being Nat;
assume L383: (( len R19 ) < C44 & C44 <= ( len ( R19 ^ R20 ) ));
L384: (( ( len R19 ) + 1 ) <= C44 & C44 <= ( ( len R19 ) + ( len R20 ) )) by L383 , L368 , NAT_1:13;
thus L385: thesis by L384 , L371;
end;
theorem
L386: (for R19 being FinSequence holds (for R20 being FinSequence holds (for B19 being Nat holds (B19 in ( dom ( R19 ^ R20 ) ) implies (B19 in ( dom R19 ) or (ex R4 being Nat st (R4 in ( dom R20 ) & B19 = ( ( len R19 ) + R4 ))))))))
proof
let R19 being FinSequence;
let R20 being FinSequence;
let C45 being Nat;
assume L387: C45 in ( dom ( R19 ^ R20 ) );
L388: C45 in ( Seg ( len ( R19 ^ R20 ) ) ) by L387 , L167;
L389: C45 in ( Seg ( ( len R19 ) + ( len R20 ) ) ) by L388 , L368;
L390: (C45 in ( NAT ) & 1 <= C45) by L388 , L8;
L391:
now
assume L392: (not ( ( len R19 ) + 1 ) <= C45);
L393: C45 <= ( len R19 ) by L392 , NAT_1:8;
L394: C45 in ( Seg ( len R19 ) ) by L393 , L390;
thus L395: thesis by L394 , L167;
end;
L396:
now
assume L397: ( ( len R19 ) + 1 ) <= C45;
consider C46 being Nat such that L398: C45 = ( ( ( len R19 ) + 1 ) + C46 ) by L397 , NAT_1:10;
reconsider D25 = C46 as (Element of ( NAT )) by ORDINAL1:def 12;
L399: ( ( len R19 ) + ( 1 + D25 ) ) <= ( ( len R19 ) + ( len R20 ) ) by L389 , L398 , L8;
L400: ( 1 + D25 ) <= ( len R20 ) by L399 , XREAL_1:6;
L401: 1 <= ( 1 + D25 ) by NAT_1:11;
L402: ( 1 + D25 ) in ( Seg ( len R20 ) ) by L401 , L400;
L403: ( 1 + D25 ) in ( dom R20 ) by L402 , L167;
L404: C45 = ( ( len R19 ) + ( 1 + D25 ) ) by L398;
thus L405: thesis by L404 , L403;
end;
thus L406: thesis by L396 , L391;
end;
theorem
L407: (for R19 being FinSequence holds (for R20 being FinSequence holds ( dom R19 ) c= ( dom ( R19 ^ R20 ) )))
proof
let R19 being FinSequence;
let R20 being FinSequence;
L408: ( len R19 ) <= ( ( len R19 ) + ( len R20 ) ) by NAT_1:11;
L409: ( Seg ( len R19 ) ) c= ( Seg ( ( len R19 ) + ( len R20 ) ) ) by L408 , L49;
L410: ( Seg ( len R19 ) ) c= ( dom ( R19 ^ R20 ) ) by L409 , L293;
thus L411: thesis by L410 , L167;
end;
theorem
L412: (for R10 being set holds (for R19 being FinSequence holds (for R20 being FinSequence holds (R10 in ( dom R20 ) implies (ex R1 being Nat st (R1 = R10 & ( ( len R19 ) + R1 ) in ( dom ( R19 ^ R20 ) )))))))
proof
let R10 being set;
let R19 being FinSequence;
let R20 being FinSequence;
assume L413: R10 in ( dom R20 );
L414: R10 in ( Seg ( len R20 ) ) by L413 , L167;
reconsider D26 = R10 as (Element of ( NAT )) by L413;
take D26;
L415: 1 <= D26 by L414 , L8;
L416: D26 <= ( len R20 ) by L414 , L8;
L417: D26 <= ( ( len R19 ) + D26 ) by NAT_1:11;
L418: 1 <= ( ( len R19 ) + D26 ) by L417 , L415 , XXREAL_0:2;
L419: ( ( len R19 ) + D26 ) <= ( ( len R19 ) + ( len R20 ) ) by L416 , XREAL_1:7;
L420: ( ( len R19 ) + D26 ) in ( Seg ( ( len R19 ) + ( len R20 ) ) ) by L419 , L418;
thus L421: thesis by L420 , L293;
end;
theorem
L422: (for R1 being Nat holds (for R19 being FinSequence holds (for R20 being FinSequence holds (R1 in ( dom R20 ) implies ( ( len R19 ) + R1 ) in ( dom ( R19 ^ R20 ) )))))
proof
let R1 being Nat;
let R19 being FinSequence;
let R20 being FinSequence;
assume L423: R1 in ( dom R20 );
L424: (ex R4 being Nat st (R4 = R1 & ( ( len R19 ) + R4 ) in ( dom ( R19 ^ R20 ) ))) by L423 , L412;
thus L425: thesis by L424;
end;
theorem
L426: (for R19 being FinSequence holds (for R20 being FinSequence holds ( rng R19 ) c= ( rng ( R19 ^ R20 ) )))
proof
let R19 being FinSequence;
let R20 being FinSequence;
L427:
now
let R10 being set;
assume L428: R10 in ( rng R19 );
consider R11 being set such that L429: R11 in ( dom R19 ) and L430: R10 = ( R19 . R11 ) by L428 , FUNCT_1:def 3;
reconsider D27 = R11 as (Element of ( NAT )) by L429;
L431: ( dom R19 ) c= ( dom ( R19 ^ R20 ) ) by L407;
L432: ( ( R19 ^ R20 ) . D27 ) = ( R19 . D27 ) by L429 , L293;
thus L433: R10 in ( rng ( R19 ^ R20 ) ) by L432 , L429 , L430 , L431 , FUNCT_1:def 3;
end;
thus L434: thesis by L427 , TARSKI:def 3;
end;
theorem
L435: (for R19 being FinSequence holds (for R20 being FinSequence holds ( rng R20 ) c= ( rng ( R19 ^ R20 ) )))
proof
let R19 being FinSequence;
let R20 being FinSequence;
L436:
now
let R10 being set;
assume L437: R10 in ( rng R20 );
consider R11 being set such that L438: R11 in ( dom R20 ) and L439: R10 = ( R20 . R11 ) by L437 , FUNCT_1:def 3;
reconsider D28 = R11 as (Element of ( NAT )) by L438;
L440: (( ( len R19 ) + D28 ) in ( dom ( R19 ^ R20 ) ) & ( ( R19 ^ R20 ) . ( ( len R19 ) + D28 ) ) = ( R20 . D28 )) by L438 , L293 , L422;
thus L441: R10 in ( rng ( R19 ^ R20 ) ) by L440 , L439 , FUNCT_1:def 3;
end;
thus L442: thesis by L436 , TARSKI:def 3;
end;
theorem
L443: (for R19 being FinSequence holds (for R20 being FinSequence holds ( rng ( R19 ^ R20 ) ) = ( ( rng R19 ) \/ ( rng R20 ) )))
proof
let R19 being FinSequence;
let R20 being FinSequence;
L444:
now
let R10 being set;
assume L445: R10 in ( rng ( R19 ^ R20 ) );
consider R11 being set such that L446: R11 in ( dom ( R19 ^ R20 ) ) and L447: R10 = ( ( R19 ^ R20 ) . R11 ) by L445 , FUNCT_1:def 3;
L448: R11 in ( Seg ( ( len R19 ) + ( len R20 ) ) ) by L446 , L293;
reconsider D29 = R11 as (Element of ( NAT )) by L446;
L449: 1 <= D29 by L448 , L8;
L450: D29 <= ( ( len R19 ) + ( len R20 ) ) by L448 , L8;
L451:
now
assume L452: ( ( len R19 ) + 1 ) <= D29;
L453: ( R20 . ( D29 - ( len R19 ) ) ) = R10 by L452 , L447 , L450 , L371;
consider C47 being Nat such that L454: ( ( ( len R19 ) + 1 ) + C47 ) = D29 by L452 , NAT_1:10;
reconsider D30 = C47 as (Element of ( NAT )) by ORDINAL1:def 12;
L455: ( ( len R19 ) + ( 1 + D30 ) ) = D29 by L454;
L456: (( 1 + ( 0 ) ) <= ( 1 + D30 ) & ( 1 + D30 ) <= ( len R20 )) by L455 , L450 , XREAL_1:6;
L457: ( 1 + D30 ) in ( Seg ( len R20 ) ) by L456;
L458: ( D29 - ( len R19 ) ) in ( dom R20 ) by L457 , L454 , L167;
thus L459: R10 in ( rng R20 ) by L458 , L453 , FUNCT_1:def 3;
end;
L460:
now
assume L461: (not ( ( len R19 ) + 1 ) <= D29);
L462: D29 <= ( len R19 ) by L461 , NAT_1:8;
L463: D29 in ( Seg ( len R19 ) ) by L462 , L449;
L464: D29 in ( dom R19 ) by L463 , L167;
L465: ( R19 . D29 ) = R10 by L464 , L447 , L293;
thus L466: R10 in ( rng R19 ) by L465 , L464 , FUNCT_1:def 3;
end;
thus L467: R10 in ( ( rng R19 ) \/ ( rng R20 ) ) by L460 , L451 , XBOOLE_0:def 3;
end;
L468: ( rng ( R19 ^ R20 ) ) c= ( ( rng R19 ) \/ ( rng R20 ) ) by L444 , TARSKI:def 3;
L469: (( rng R19 ) c= ( rng ( R19 ^ R20 ) ) & ( rng R20 ) c= ( rng ( R19 ^ R20 ) )) by L426 , L435;
L470: ( ( rng R19 ) \/ ( rng R20 ) ) c= ( rng ( R19 ^ R20 ) ) by L469 , XBOOLE_1:8;
thus L471: thesis by L470 , L468 , XBOOLE_0:def 10;
end;
theorem
L472: (for R19 being FinSequence holds (for R20 being FinSequence holds (for R21 being FinSequence holds ( ( R19 ^ R20 ) ^ R21 ) = ( R19 ^ ( R20 ^ R21 ) ))))
proof
let R19 being FinSequence;
let R20 being FinSequence;
let R21 being FinSequence;
L473: ( dom ( ( R19 ^ R20 ) ^ R21 ) ) = ( Seg ( ( len ( R19 ^ R20 ) ) + ( len R21 ) ) ) by L293
.= ( Seg ( ( ( len R19 ) + ( len R20 ) ) + ( len R21 ) ) ) by L368
.= ( Seg ( ( len R19 ) + ( ( len R20 ) + ( len R21 ) ) ) )
.= ( Seg ( ( len R19 ) + ( len ( R20 ^ R21 ) ) ) ) by L368;
L474: (for R1 being Nat holds (R1 in ( dom R19 ) implies ( ( ( R19 ^ R20 ) ^ R21 ) . R1 ) = ( R19 . R1 )))
proof
let R1 being Nat;
assume L475: R1 in ( dom R19 );
L476: ( dom R19 ) c= ( dom ( R19 ^ R20 ) ) by L407;
thus L477: ( ( ( R19 ^ R20 ) ^ R21 ) . R1 ) = ( ( R19 ^ R20 ) . R1 ) by L476 , L475 , L293
.= ( R19 . R1 ) by L475 , L293;
end;
L478: (for R1 being Nat holds (R1 in ( dom ( R20 ^ R21 ) ) implies ( ( ( R19 ^ R20 ) ^ R21 ) . ( ( len R19 ) + R1 ) ) = ( ( R20 ^ R21 ) . R1 )))
proof
let R1 being Nat;
assume L479: R1 in ( dom ( R20 ^ R21 ) );
L480:
now
assume L481: R1 in ( dom R20 );
L482: ( ( len R19 ) + R1 ) in ( dom ( R19 ^ R20 ) ) by L481 , L422;
thus L483: ( ( ( R19 ^ R20 ) ^ R21 ) . ( ( len R19 ) + R1 ) ) = ( ( R19 ^ R20 ) . ( ( len R19 ) + R1 ) ) by L482 , L293
.= ( R20 . R1 ) by L481 , L293
.= ( ( R20 ^ R21 ) . R1 ) by L481 , L293;
end;
L484:
now
assume L485: (not R1 in ( dom R20 ));
consider R4 being Nat such that L486: R4 in ( dom R21 ) and L487: R1 = ( ( len R20 ) + R4 ) by L485 , L479 , L386;
thus L488: ( ( ( R19 ^ R20 ) ^ R21 ) . ( ( len R19 ) + R1 ) ) = ( ( ( R19 ^ R20 ) ^ R21 ) . ( ( ( len R19 ) + ( len R20 ) ) + R4 ) ) by L487
.= ( ( ( R19 ^ R20 ) ^ R21 ) . ( ( len ( R19 ^ R20 ) ) + R4 ) ) by L368
.= ( R21 . R4 ) by L486 , L293
.= ( ( R20 ^ R21 ) . R1 ) by L486 , L487 , L293;
end;
thus L489: thesis by L484 , L480;
end;
thus L490: thesis by L478 , L473 , L474 , L293;
end;
theorem
L491: (for R19 being FinSequence holds (for R20 being FinSequence holds (for R21 being FinSequence holds ((( R19 ^ R21 ) = ( R20 ^ R21 ) or ( R21 ^ R19 ) = ( R21 ^ R20 )) implies R19 = R20))))
proof
let R19 being FinSequence;
let R20 being FinSequence;
let R21 being FinSequence;
assume L492: (( R19 ^ R21 ) = ( R20 ^ R21 ) or ( R21 ^ R19 ) = ( R21 ^ R20 ));
L493:
now
assume L494: ( R19 ^ R21 ) = ( R20 ^ R21 );
L495: ( ( len R19 ) + ( len R21 ) ) = ( len ( R20 ^ R21 ) ) by L494 , L368;
L496: ( ( len R19 ) + ( len R21 ) ) = ( ( len R20 ) + ( len R21 ) ) by L495 , L368;
L497: ( dom R19 ) = ( Seg ( len R20 ) ) by L496 , L167
.= ( dom R20 ) by L167;
L498: (for R1 being Nat holds (R1 in ( dom R19 ) implies ( R19 . R1 ) = ( R20 . R1 )))
proof
let R1 being Nat;
assume L499: R1 in ( dom R19 );
thus L500: ( R19 . R1 ) = ( ( R20 ^ R21 ) . R1 ) by L499 , L494 , L293
.= ( R20 . R1 ) by L497 , L499 , L293;
end;
thus L501: thesis by L498 , L497 , L223;
end;
L502:
now
assume L503: ( R21 ^ R19 ) = ( R21 ^ R20 );
L504: ( ( len R21 ) + ( len R19 ) ) = ( len ( R21 ^ R20 ) ) by L503 , L368
.= ( ( len R21 ) + ( len R20 ) ) by L368;
L505: ( dom R19 ) = ( Seg ( len R20 ) ) by L504 , L167
.= ( dom R20 ) by L167;
L506: (for R1 being Nat holds (R1 in ( dom R19 ) implies ( R19 . R1 ) = ( R20 . R1 )))
proof
let R1 being Nat;
assume L507: R1 in ( dom R19 );
thus L508: ( R19 . R1 ) = ( ( R21 ^ R20 ) . ( ( len R21 ) + R1 ) ) by L507 , L503 , L293
.= ( R20 . R1 ) by L505 , L507 , L293;
end;
thus L509: thesis by L506 , L505 , L223;
end;
thus L510: thesis by L502 , L492 , L493;
end;
theorem
L511: (for R19 being FinSequence holds (( R19 ^ ( {} ) ) = R19 & ( ( {} ) ^ R19 ) = R19))
proof
let R19 being FinSequence;
L512: ( dom ( R19 ^ ( {} ) ) ) = ( Seg ( len ( R19 ^ ( {} ) ) ) ) by L167
.= ( Seg ( ( len R19 ) + ( len ( {} ) ) ) ) by L368
.= ( dom R19 ) by L167;
L513: (for R1 being Nat holds (R1 in ( dom R19 ) implies ( R19 . R1 ) = ( ( R19 ^ ( {} ) ) . R1 ))) by L293;
thus L514: ( R19 ^ ( {} ) ) = R19 by L513 , L512 , L223;
L515: ( dom ( ( {} ) ^ R19 ) ) = ( Seg ( len ( ( {} ) ^ R19 ) ) ) by L167
.= ( Seg ( ( len ( {} ) ) + ( len R19 ) ) ) by L368
.= ( dom R19 ) by L167;
L516: (for R1 being Nat holds (R1 in ( dom R19 ) implies ( R19 . R1 ) = ( ( ( {} ) ^ R19 ) . R1 )))
proof
let R1 being Nat;
assume L517: R1 in ( dom R19 );
thus L518: ( ( ( {} ) ^ R19 ) . R1 ) = ( ( ( {} ) ^ R19 ) . ( ( len ( {} ) ) + R1 ) )
.= ( R19 . R1 ) by L517 , L293;
end;
thus L519: ( ( {} ) ^ R19 ) = R19 by L516 , L515 , L223;
end;
theorem
L520: (for R19 being FinSequence holds (for R20 being FinSequence holds (( R19 ^ R20 ) = ( {} ) implies (R19 = ( {} ) & R20 = ( {} )))))
proof
let R19 being FinSequence;
let R20 being FinSequence;
assume L521: ( R19 ^ R20 ) = ( {} );
L522: ( 0 ) = ( len ( R19 ^ R20 ) ) by L521
.= ( ( len R19 ) + ( len R20 ) ) by L368;
thus L523: thesis by L522;
end;
definition
let C48 being set;
let C49 , C50 being (FinSequence of C48);
redefine func C49 ^ C50 -> (FinSequence of C48);

coherence
proof
L524: (( rng ( C49 ^ C50 ) ) = ( ( rng C49 ) \/ ( rng C50 ) ) & ( rng C49 ) c= C48) by L254 , L443;
L525: ( rng C50 ) c= C48 by L254;
thus L526: ( rng ( C49 ^ C50 ) ) c= C48 by L525 , L524 , XBOOLE_1:8;
end;
end;
L528: (for R10 being set holds (for R11 being set holds (for B20 , B21 being set holds ([ R10 , R11 ] in { [ B20 , B21 ] } implies (R10 = B20 & R11 = B21)))))
proof
let R10 being set;
let R11 being set;
let C51 , C52 being set;
assume L529: [ R10 , R11 ] in { [ C51 , C52 ] };
L530: [ R10 , R11 ] = [ C51 , C52 ] by L529 , TARSKI:def 1;
thus L531: thesis by L530 , XTUPLE_0:1;
end;
definition
let R10 being set;
redefine func <*R10 *> -> Function means 
:L532: (( dom it ) = ( Seg 1 ) & ( it . 1 ) = R10);
coherence;
compatibility
proof
let C53 being Function;
thus L533:now
assume L534: C53 = <* R10 *>;
thus L535: ( dom C53 ) = ( Seg 1 ) by L534 , L17 , RELAT_1:9;
L536: [ 1 , R10 ] in C53 by L534 , TARSKI:def 1;
thus L537: ( C53 . 1 ) = R10 by L536 , FUNCT_1:1;
end;
assume that
L538: ( dom C53 ) = ( Seg 1 )
and
L539: ( C53 . 1 ) = R10;
reconsider D31 = { [ 1 , ( C53 . 1 ) ] } as Function;
L540: (for R11 being set holds (for R12 being set holds ([ R11 , R12 ] in C53 iff [ R11 , R12 ] in D31)))
proof
let R11 being set;
let R12 being set;
thus L541:now
assume L542: [ R11 , R12 ] in C53;
L543: R11 in { 1 } by L542 , L538 , L17 , XTUPLE_0:def 12;
L544: R12 in ( rng C53 ) by L542 , XTUPLE_0:def 13;
L545: ( rng C53 ) = { ( C53 . 1 ) } by L538 , L17 , FUNCT_1:4;
L546: R11 = 1 by L543 , TARSKI:def 1;
L547: R12 = ( C53 . 1 ) by L544 , L545 , TARSKI:def 1;
thus L548: [ R11 , R12 ] in D31 by L547 , L546 , TARSKI:def 1;
end;
assume L549: [ R11 , R12 ] in D31;
L550: (R11 = 1 & R12 = ( C53 . 1 )) by L549 , L528;
L551: 1 in ( dom C53 ) by L538;
thus L552: thesis by L551 , L550 , FUNCT_1:def 2;
end;
thus L553: thesis by L540 , L539 , RELAT_1:def 2;
end;
end;
registration
let R10 being set;
cluster <* R10 *> ->  Function-like  Relation-like;
coherence;
end;
registration
let R10 being set;
cluster <* R10 *> ->  FinSequence-like;
coherence
proof
take 1;
thus L556: thesis by L532;
end;
end;
theorem
L558: (for R19 being FinSequence holds (for R20 being FinSequence holds (for R24 being set holds (( R19 ^ R20 ) is (FinSequence of R24) implies (R19 is (FinSequence of R24) & R20 is (FinSequence of R24))))))
proof
let R19 being FinSequence;
let R20 being FinSequence;
let R24 being set;
assume L559: ( R19 ^ R20 ) is (FinSequence of R24);
L560: ( rng ( R19 ^ R20 ) ) c= R24 by L559 , L254;
L561: ( ( rng R19 ) \/ ( rng R20 ) ) c= R24 by L560 , L443;
L562: ( rng R19 ) c= ( ( rng R19 ) \/ ( rng R20 ) ) by XBOOLE_1:7;
L563: ( rng R19 ) c= R24 by L562 , L561 , XBOOLE_1:1;
thus L564: R19 is (FinSequence of R24) by L563 , L254;
L565: ( rng R20 ) c= ( ( rng R19 ) \/ ( rng R20 ) ) by XBOOLE_1:7;
L566: ( rng R20 ) c= R24 by L565 , L561 , XBOOLE_1:1;
thus L567: thesis by L566 , L254;
end;
definition
let R10 being set;
let R11 being set;
func <*R10 , R11 *> -> set equals 
( <* R10 *> ^ <* R11 *> );
correctness;
let R12 being set;
func <*R10 , R11 , R12 *> -> set equals 
( ( <* R10 *> ^ <* R11 *> ) ^ <* R12 *> );
correctness;
end;
registration
let R10 being set;
let R11 being set;
cluster <* R10 , R11 *> ->  Function-like  Relation-like;
coherence;
let R12 being set;
cluster <* R10 , R11 , R12 *> ->  Function-like  Relation-like;
coherence;
end;
registration
let R10 being set;
let R11 being set;
cluster <* R10 , R11 *> ->  FinSequence-like;
coherence;
let R12 being set;
cluster <* R10 , R11 , R12 *> ->  FinSequence-like;
coherence;
end;
theorem
L571: (for R10 being set holds <* R10 *> = { [ 1 , R10 ] });
theorem
L572: (for R10 being set holds (for R19 being FinSequence holds (R19 = <* R10 *> iff (( dom R19 ) = ( Seg 1 ) & ( rng R19 ) = { R10 }))))
proof
let R10 being set;
let R19 being FinSequence;
thus L573: (R19 = <* R10 *> implies (( dom R19 ) = ( Seg 1 ) & ( rng R19 ) = { R10 }))
proof
assume L574: R19 = <* R10 *>;
thus L575: ( dom R19 ) = ( Seg 1 ) by L574 , L532;
L576: ( dom R19 ) = { 1 } by L574 , L532 , L17;
L577: ( rng R19 ) = { ( R19 . 1 ) } by L576 , FUNCT_1:4;
thus L578: thesis by L577 , L574 , L532;
end;

assume that
L579: ( dom R19 ) = ( Seg 1 )
and
L580: ( rng R19 ) = { R10 };
L581: 1 in ( dom R19 ) by L579;
L582: ( R19 . 1 ) in { R10 } by L581 , L580 , FUNCT_1:def 3;
L583: ( R19 . 1 ) = R10 by L582 , TARSKI:def 1;
thus L584: thesis by L583 , L579 , L532;
end;
theorem
L585: (for R10 being set holds (for R19 being FinSequence holds (R19 = <* R10 *> iff (( len R19 ) = 1 & ( rng R19 ) = { R10 }))))
proof
let R10 being set;
let R19 being FinSequence;
L586: (( len R19 ) = 1 iff ( dom R19 ) = ( Seg 1 )) by L167;
thus L587: thesis by L586 , L572;
end;
theorem
L588: (for R10 being set holds (for R19 being FinSequence holds (R19 = <* R10 *> iff (( len R19 ) = 1 & ( R19 . 1 ) = R10))))
proof
let R10 being set;
let R19 being FinSequence;
L589: (( len R19 ) = 1 iff ( dom R19 ) = ( Seg 1 )) by L167;
thus L590: thesis by L589 , L532;
end;
theorem
L591: (for R10 being set holds (for R19 being FinSequence holds ( ( <* R10 *> ^ R19 ) . 1 ) = R10))
proof
let R10 being set;
let R19 being FinSequence;
L592: 1 in ( Seg 1 );
L593: 1 in ( dom <* R10 *> ) by L592 , L532;
L594: ( ( <* R10 *> ^ R19 ) . 1 ) = ( <* R10 *> . 1 ) by L593 , L293;
thus L595: thesis by L594 , L532;
end;
theorem
L596: (for R10 being set holds (for R19 being FinSequence holds ( ( R19 ^ <* R10 *> ) . ( ( len R19 ) + 1 ) ) = R10))
proof
let R10 being set;
let R19 being FinSequence;
L597: ( dom <* R10 *> ) = ( Seg 1 ) by L532;
L598: 1 in ( dom <* R10 *> ) by L597;
thus L599: ( ( R19 ^ <* R10 *> ) . ( ( len R19 ) + 1 ) ) = ( <* R10 *> . 1 ) by L598 , L293
.= R10 by L532;
end;
theorem
L600: (for R10 being set holds (for R11 being set holds (for R12 being set holds (<* R10 , R11 , R12 *> = ( <* R10 *> ^ <* R11 , R12 *> ) & <* R10 , R11 , R12 *> = ( <* R10 , R11 *> ^ <* R12 *> ))))) by L472;
theorem
L601: (for R10 being set holds (for R11 being set holds (for R19 being FinSequence holds (R19 = <* R10 , R11 *> iff (( len R19 ) = 2 & ( R19 . 1 ) = R10 & ( R19 . 2 ) = R11)))))
proof
let R10 being set;
let R11 being set;
let R19 being FinSequence;
thus L602: (R19 = <* R10 , R11 *> implies (( len R19 ) = 2 & ( R19 . 1 ) = R10 & ( R19 . 2 ) = R11))
proof
assume L603: R19 = <* R10 , R11 *>;
thus L604: ( len R19 ) = ( ( len <* R10 *> ) + ( len <* R11 *> ) ) by L603 , L368
.= ( 1 + ( len <* R11 *> ) ) by L585
.= ( 1 + 1 ) by L585
.= 2;
L605: 1 in { 1 } by TARSKI:def 1;
L606: 1 in ( dom <* R10 *> ) by L605 , L532 , L17;
thus L607: ( R19 . 1 ) = ( <* R10 *> . 1 ) by L606 , L603 , L293
.= R10 by L532;
L608: 1 in ( dom <* R11 *> ) by L605 , L532 , L17;
thus L609: ( R19 . 2 ) = ( ( <* R10 *> ^ <* R11 *> ) . ( 1 + 1 ) ) by L603
.= ( ( <* R10 *> ^ <* R11 *> ) . ( ( len <* R10 *> ) + 1 ) ) by L585
.= ( <* R11 *> . 1 ) by L608 , L293
.= R11 by L532;
end;

assume that
L610: ( len R19 ) = 2
and
L611: ( R19 . 1 ) = R10
and
L612: ( R19 . 2 ) = R11;
L613: ( dom R19 ) = ( Seg ( 1 + 1 ) ) by L610 , L167
.= ( Seg ( ( len <* R10 *> ) + 1 ) ) by L585
.= ( Seg ( ( len <* R10 *> ) + ( len <* R11 *> ) ) ) by L585;
L614: (for R1 being Nat holds (R1 in ( dom <* R10 *> ) implies ( R19 . R1 ) = ( <* R10 *> . R1 )))
proof
let R1 being Nat;
assume L615: R1 in ( dom <* R10 *> );
L616: R1 in { 1 } by L615 , L532 , L17;
L617: R1 = 1 by L616 , TARSKI:def 1;
thus L618: thesis by L617 , L611 , L532;
end;
L619: (for R1 being Nat holds (R1 in ( dom <* R11 *> ) implies ( R19 . ( ( len <* R10 *> ) + R1 ) ) = ( <* R11 *> . R1 )))
proof
let R1 being Nat;
assume L620: R1 in ( dom <* R11 *> );
L621: R1 in { 1 } by L620 , L532 , L17;
thus L622: ( R19 . ( ( len <* R10 *> ) + R1 ) ) = ( R19 . ( 1 + R1 ) ) by L585
.= ( R19 . ( 1 + 1 ) ) by L621 , TARSKI:def 1
.= ( <* R11 *> . 1 ) by L612 , L532
.= ( <* R11 *> . R1 ) by L621 , TARSKI:def 1;
end;
thus L623: thesis by L619 , L613 , L614 , L293;
end;
theorem
L624: (for R10 being set holds (for R11 being set holds (for R12 being set holds (for R19 being FinSequence holds (R19 = <* R10 , R11 , R12 *> iff (( len R19 ) = 3 & ( R19 . 1 ) = R10 & ( R19 . 2 ) = R11 & ( R19 . 3 ) = R12))))))
proof
let R10 being set;
let R11 being set;
let R12 being set;
let R19 being FinSequence;
thus L625: (R19 = <* R10 , R11 , R12 *> implies (( len R19 ) = 3 & ( R19 . 1 ) = R10 & ( R19 . 2 ) = R11 & ( R19 . 3 ) = R12))
proof
assume L626: R19 = <* R10 , R11 , R12 *>;
thus L627: ( len R19 ) = ( ( len <* R10 , R11 *> ) + ( len <* R12 *> ) ) by L626 , L368
.= ( 2 + ( len <* R12 *> ) ) by L601
.= ( 2 + 1 ) by L585
.= 3;
L628: 1 in { 1 } by TARSKI:def 1;
L629: 1 in ( dom <* R10 *> ) by L628 , L532 , L17;
thus L630: ( R19 . 1 ) = ( ( <* R10 *> ^ <* R11 , R12 *> ) . 1 ) by L626 , L472
.= ( <* R10 *> . 1 ) by L629 , L293
.= R10 by L532;
L631: (2 in ( Seg 2 ) & ( len <* R10 , R11 *> ) = 2) by L601;
L632: 2 in ( dom <* R10 , R11 *> ) by L631 , L167;
thus L633: ( R19 . 2 ) = ( <* R10 , R11 *> . 2 ) by L632 , L626 , L293
.= R11 by L601;
L634: 1 in ( dom <* R12 *> ) by L628 , L532 , L17;
thus L635: ( R19 . 3 ) = ( ( <* R10 , R11 *> ^ <* R12 *> ) . ( 2 + 1 ) ) by L626
.= ( ( <* R10 , R11 *> ^ <* R12 *> ) . ( ( len <* R10 , R11 *> ) + 1 ) ) by L601
.= ( <* R12 *> . 1 ) by L634 , L293
.= R12 by L532;
end;

assume that
L636: ( len R19 ) = 3
and
L637: ( R19 . 1 ) = R10
and
L638: ( R19 . 2 ) = R11
and
L639: ( R19 . 3 ) = R12;
L640: ( dom R19 ) = ( Seg ( 2 + 1 ) ) by L636 , L167
.= ( Seg ( ( len <* R10 , R11 *> ) + 1 ) ) by L601
.= ( Seg ( ( len <* R10 , R11 *> ) + ( len <* R12 *> ) ) ) by L585;
L641: (for R1 being Nat holds (R1 in ( dom <* R10 , R11 *> ) implies ( R19 . R1 ) = ( <* R10 , R11 *> . R1 )))
proof
let R1 being Nat;
assume that
L642: R1 in ( dom <* R10 , R11 *> );
L643: ( len <* R10 , R11 *> ) = 2 by L601;
L644: R1 in ( Seg 2 ) by L643 , L642 , L167;
L645: (R1 = 1 implies ( R19 . R1 ) = ( <* R10 , R11 *> . R1 )) by L637 , L601;
L646: (R1 = 2 implies ( R19 . R1 ) = ( <* R10 , R11 *> . R1 )) by L638 , L601;
thus L647: thesis by L646 , L644 , L645 , L17 , TARSKI:def 2;
end;
L648: (for R1 being Nat holds (R1 in ( dom <* R12 *> ) implies ( R19 . ( ( len <* R10 , R11 *> ) + R1 ) ) = ( <* R12 *> . R1 )))
proof
let R1 being Nat;
assume L649: R1 in ( dom <* R12 *> );
L650: R1 in { 1 } by L649 , L532 , L17;
L651: R1 = 1 by L650 , TARSKI:def 1;
thus L652: ( R19 . ( ( len <* R10 , R11 *> ) + R1 ) ) = ( R19 . ( 2 + 1 ) ) by L651 , L601
.= ( <* R12 *> . R1 ) by L639 , L651 , L532;
end;
thus L653: thesis by L648 , L640 , L641 , L293;
end;
theorem
L654: (for R19 being FinSequence holds (R19 <> ( {} ) implies (ex R20 being FinSequence st (ex R10 being set st R19 = ( R20 ^ <* R10 *> )))))
proof
let R19 being FinSequence;
assume L655: R19 <> ( {} );
consider C54 being Nat such that L656: ( len R19 ) = ( C54 + 1 ) by L655 , NAT_1:6;
reconsider D32 = C54 as (Element of ( NAT )) by ORDINAL1:def 12;
reconsider D33 = ( R19 | ( Seg D32 ) ) as FinSequence by L238;
take D33;
take ( R19 . ( len R19 ) );
L657: ( dom D33 ) = ( ( dom R19 ) /\ ( Seg D32 ) ) by RELAT_1:61
.= ( ( Seg ( len R19 ) ) /\ ( Seg D32 ) ) by L167;
L658: D32 <= ( len R19 ) by L656 , NAT_1:11;
L659: ( Seg D32 ) c= ( Seg ( len R19 ) ) by L658 , L49;
L660: ( dom D33 ) = ( Seg D32 ) by L659 , L657 , XBOOLE_1:28;
L661: ( dom ( D33 ^ <* ( R19 . ( len R19 ) ) *> ) ) = ( Seg ( len ( D33 ^ <* ( R19 . ( len R19 ) ) *> ) ) ) by L167
.= ( Seg ( ( len D33 ) + ( len <* ( R19 . ( len R19 ) ) *> ) ) ) by L368
.= ( Seg ( ( len D33 ) + 1 ) ) by L585
.= ( Seg ( len R19 ) ) by L656 , L660 , L167
.= ( dom R19 ) by L167;
L662: (for R10 being set holds (R10 in ( dom R19 ) implies ( R19 . R10 ) = ( ( D33 ^ <* ( R19 . ( len R19 ) ) *> ) . R10 )))
proof
let R10 being set;
assume L663: R10 in ( dom R19 );
reconsider D34 = R10 as (Element of ( NAT )) by L663;
L664: D34 in ( Seg ( D32 + 1 ) ) by L656 , L663 , L167;
L665: D34 in ( ( Seg D32 ) \/ { ( D32 + 1 ) } ) by L664 , L72;
L666:
now
assume L667: D34 in ( Seg D32 );
thus L668: ( R19 . D34 ) = ( D33 . D34 ) by L667 , L660 , FUNCT_1:47
.= ( ( D33 ^ <* ( R19 . ( len R19 ) ) *> ) . D34 ) by L660 , L667 , L293;
end;
L669:
now
assume L670: D34 in { ( D32 + 1 ) };
L671: 1 in ( Seg 1 );
L672: 1 in ( dom <* ( R19 . ( len R19 ) ) *> ) by L671 , L532;
thus L673: ( ( D33 ^ <* ( R19 . ( len R19 ) ) *> ) . D34 ) = ( ( D33 ^ <* ( R19 . ( len R19 ) ) *> ) . ( D32 + 1 ) ) by L670 , TARSKI:def 1
.= ( ( D33 ^ <* ( R19 . ( len R19 ) ) *> ) . ( ( len D33 ) + 1 ) ) by L660 , L167
.= ( <* ( R19 . ( len R19 ) ) *> . 1 ) by L672 , L293
.= ( R19 . ( D32 + 1 ) ) by L656 , L532
.= ( R19 . D34 ) by L670 , TARSKI:def 1;
end;
thus L674: thesis by L669 , L665 , L666 , XBOOLE_0:def 3;
end;
thus L675: ( D33 ^ <* ( R19 . ( len R19 ) ) *> ) = R19 by L662 , L661 , FUNCT_1:2;
end;
definition
let C55 being non  empty set;
let C56 being (Element of C55);
redefine func <*C56 *> -> (FinSequence of C55);

coherence
proof
let R11 being set;
assume L676: R11 in ( rng <* C56 *> );
L677: R11 in { C56 } by L676 , L585;
L678: R11 = C56 by L677 , TARSKI:def 1;
thus L679: thesis by L678;
end;
end;
scheme IndSeq { P2[FinSequence] } : (for R19 being FinSequence holds P2[ R19 ])
provided
L681: P2[ ( {} ) ]
and
L682: (for R19 being FinSequence holds (for R10 being set holds (P2[ R19 ] implies P2[ ( R19 ^ <* R10 *> ) ])))
proof
let R19 being FinSequence;
defpred S4[ set ] means (for R19 being FinSequence holds (( len R19 ) = $1 implies P2[ R19 ]));
consider C57 being (Subset of ( REAL )) such that L683: (for B22 being Real holds (B22 in C57 iff S4[ B22 ])) from SUBSET_1:sch 3;
L684: (for R1 being Nat holds R1 in C57)
proof
defpred S5[ Nat ] means $1 in C57;
L685: (for R20 being FinSequence holds (( len R20 ) = ( 0 ) implies P2[ R20 ])) by L681 , L278;
L686: S5[ ( 0 ) ] by L685 , L683;
L687:
now
let R4 being Nat;
assume that
L688: R4 in C57;
L689:
now
let R20 being FinSequence;
assume L690: ( len R20 ) = ( R4 + 1 );
L691: R20 <> ( {} ) by L690;
consider R21 being FinSequence, R10 being set such that L692: R20 = ( R21 ^ <* R10 *> ) by L691 , L654;
L693: ( len R20 ) = ( ( len R21 ) + ( len <* R10 *> ) ) by L692 , L368
.= ( ( len R21 ) + 1 ) by L585;
L694: P2[ R21 ] by L693 , L683 , L688 , L690;
thus L695: P2[ R20 ] by L694 , L682 , L692;
end;
thus L696: ( R4 + 1 ) in C57 by L689 , L683;
end;
L697: (for R4 being Nat holds (S5[ R4 ] implies S5[ ( R4 + 1 ) ])) by L687;
thus L698: (for R4 being Nat holds S5[ R4 ]) from NAT_1:sch 2(L686 , L697);
end;
L699: ( len R19 ) in C57 by L684;
thus L700: thesis by L699 , L683;
end;
theorem
L701: (for B23 , B24 , B25 , B26 being FinSequence holds ((( B23 ^ B24 ) = ( B25 ^ B26 ) & ( len B23 ) <= ( len B25 )) implies (ex B27 being FinSequence st ( B23 ^ B27 ) = B25)))
proof
defpred S6[ FinSequence ] means (for R19 being FinSequence holds (for R20 being FinSequence holds (for R22 being FinSequence holds ((( R19 ^ R20 ) = ( $1 ^ R22 ) & ( len R19 ) <= ( len $1 )) implies (ex R23 being FinSequence st ( R19 ^ R23 ) = $1)))));
L702: S6[ ( {} ) ]
proof
let R19 being FinSequence;
let R20 being FinSequence;
let R22 being FinSequence;
assume that
L703: ( R19 ^ R20 ) = ( ( {} ) ^ R22 )
and
L704: ( len R19 ) <= ( len ( {} ) );
take ( {} );
thus L705: ( R19 ^ ( {} ) ) = R19 by L511
.= ( {} ) by L704;
end;
L706: (for R21 being FinSequence holds (for R10 being set holds (S6[ R21 ] implies S6[ ( R21 ^ <* R10 *> ) ])))
proof
let R21 being FinSequence;
let R10 being set;
assume L707: (for R19 being FinSequence holds (for R20 being FinSequence holds (for R22 being FinSequence holds ((( R19 ^ R20 ) = ( R21 ^ R22 ) & ( len R19 ) <= ( len R21 )) implies (ex R23 being FinSequence st ( R19 ^ R23 ) = R21)))));
let R19 being FinSequence;
let R20 being FinSequence;
let R22 being FinSequence;
assume that
L708: ( R19 ^ R20 ) = ( ( R21 ^ <* R10 *> ) ^ R22 )
and
L709: ( len R19 ) <= ( len ( R21 ^ <* R10 *> ) );
L710:
now
assume L711: ( len R19 ) = ( len ( R21 ^ <* R10 *> ) );
L712: ( dom R19 ) = ( Seg ( len ( R21 ^ <* R10 *> ) ) ) by L711 , L167
.= ( dom ( R21 ^ <* R10 *> ) ) by L167;
L713: (for R1 being Nat holds (R1 in ( dom R19 ) implies ( R19 . R1 ) = ( ( R21 ^ <* R10 *> ) . R1 )))
proof
let R1 being Nat;
assume L714: R1 in ( dom R19 );
thus L715: ( R19 . R1 ) = ( ( ( R21 ^ <* R10 *> ) ^ R22 ) . R1 ) by L714 , L708 , L293
.= ( ( R21 ^ <* R10 *> ) . R1 ) by L712 , L714 , L293;
end;
L716: ( R19 ^ ( {} ) ) = R19 by L511
.= ( R21 ^ <* R10 *> ) by L712 , L713 , L223;
thus L717: thesis by L716;
end;
L718:
now
assume L719: ( len R19 ) <> ( len ( R21 ^ <* R10 *> ) );
L720: ( len R19 ) <> ( ( len R21 ) + ( len <* R10 *> ) ) by L719 , L368;
L721: ( len R19 ) <> ( ( len R21 ) + 1 ) by L720 , L585;
L722: ( len R19 ) <= ( ( len R21 ) + ( len <* R10 *> ) ) by L709 , L368;
L723: ( len R19 ) <= ( ( len R21 ) + 1 ) by L722 , L585;
L724: ( R19 ^ R20 ) = ( R21 ^ ( <* R10 *> ^ R22 ) ) by L708 , L472;
consider C58 being FinSequence such that L725: ( R19 ^ C58 ) = R21 by L724 , L707 , L721 , L723 , NAT_1:8;
L726: ( R19 ^ ( C58 ^ <* R10 *> ) ) = ( R21 ^ <* R10 *> ) by L725 , L472;
thus L727: thesis by L726;
end;
thus L728: thesis by L718 , L710;
end;
L729: (for R21 being FinSequence holds S6[ R21 ]) from IndSeq(L702 , L706);
thus L730: thesis by L729;
end;
registration
cluster  -> ( NAT ) -defined for FinSequence;
coherence
proof
let C59 being FinSequence;
thus L731: ( dom C59 ) c= ( NAT );
end;
end;
definition
let C60 being set;
func C60 * -> set means 
:L733: (for R10 being set holds (R10 in it iff R10 is (FinSequence of C60)));
existence
proof
defpred S7[ set ] means $1 is (FinSequence of C60);
consider R15 being set such that L734: (for R10 being set holds (R10 in R15 iff (R10 in ( bool [: ( NAT ) , C60 :] ) & S7[ R10 ]))) from XBOOLE_0:sch 1;
take R15;
let R10 being set;
thus L735: (R10 in R15 implies R10 is (FinSequence of C60)) by L734;
assume L736: R10 is (FinSequence of C60);
reconsider D35 = R10 as (FinSequence of C60) by L736;
L737: D35 c= [: ( NAT ) , C60 :];
thus L738: thesis by L737 , L734;
end;
uniqueness
proof
let C61 , C62 being set;
assume that
L739: (for R10 being set holds (R10 in C61 iff R10 is (FinSequence of C60)))
and
L740: (for R10 being set holds (R10 in C62 iff R10 is (FinSequence of C60)));
L741:
now
let R10 being set;
thus L742: (R10 in C61 implies R10 in C62)
proof
assume L743: R10 in C61;
L744: R10 is (FinSequence of C60) by L743 , L739;
thus L745: thesis by L744 , L740;
end;

assume L746: R10 in C62;
L747: R10 is (FinSequence of C60) by L746 , L740;
thus L748: R10 in C61 by L747 , L739;
end;
thus L749: thesis by L741 , TARSKI:1;
end;
end;
registration
let C63 being set;
cluster ( C63 * ) -> non  empty;
coherence
proof
set D36 = the (FinSequence of C63);
L751: D36 in ( C63 * ) by L733;
thus L752: thesis by L751;
end;
end;
theorem
L754: (for R19 being FinSequence holds (for R20 being FinSequence holds ((( rng R19 ) = ( rng R20 ) & R19 is  one-to-one & R20 is  one-to-one) implies ( len R19 ) = ( len R20 ))))
proof
let R19 being FinSequence;
let R20 being FinSequence;
defpred S8[ FinSequence ] means ($1 is  one-to-one implies (for R20 being FinSequence holds ((( rng $1 ) = ( rng R20 ) & R20 is  one-to-one) implies ( len $1 ) = ( len R20 ))));
L755: S8[ ( {} ) ] by RELAT_1:41;
L756:
now
let R19 being FinSequence;
let R10 being set;
assume L757: (R19 is  one-to-one implies (for R20 being FinSequence holds ((( rng R19 ) = ( rng R20 ) & R20 is  one-to-one) implies ( len R19 ) = ( len R20 ))));
assume L758: ( R19 ^ <* R10 *> ) is  one-to-one;
let R20 being FinSequence;
assume that
L759: ( rng ( R19 ^ <* R10 *> ) ) = ( rng R20 )
and
L760: R20 is  one-to-one;
L761: ( rng ( R19 ^ <* R10 *> ) ) = ( ( rng R19 ) \/ ( rng <* R10 *> ) ) by L443
.= ( ( rng R19 ) \/ { R10 } ) by L572;
L762: R10 in { R10 } by TARSKI:def 1;
L763: R10 in ( rng R20 ) by L762 , L759 , L761 , XBOOLE_0:def 3;
consider R11 being set such that L764: R11 in ( dom R20 ) and L765: R10 = ( R20 . R11 ) by L763 , FUNCT_1:def 3;
L766: R11 in ( Seg ( len R20 ) ) by L764 , L167;
reconsider D37 = R11 as (Element of ( NAT )) by L764;
L767: 1 <= D37 by L766 , L8;
consider C64 being Nat such that L768: ( 1 + C64 ) = D37 by L767 , NAT_1:10;
L769: D37 <= ( len R20 ) by L766 , L8;
consider C65 being Nat such that L770: ( D37 + C65 ) = ( len R20 ) by L769 , NAT_1:10;
reconsider D38 = C64 , D39 = C65 as (Element of ( NAT )) by ORDINAL1:def 12;
reconsider D40 = ( R20 | ( Seg D38 ) ) as FinSequence by L238;
defpred S9[ Nat , set ] means $2 = ( R20 . ( D37 + $1 ) );
L771: (for B28 being Nat holds (B28 in ( Seg D39 ) implies (ex R10 being set st S9[ B28 , R10 ])));
consider C66 being FinSequence such that L772: ( dom C66 ) = ( Seg D39 ) and L773: (for B29 being Nat holds (B29 in ( Seg D39 ) implies S9[ B29 , ( C66 . B29 ) ])) from SeqEx(L771);
L774: D38 <= D37 by L768 , NAT_1:12;
L775: D38 <= ( len R20 ) by L774 , L769 , XXREAL_0:2;
L776: ( len D40 ) = D38 by L775 , L247;
L777: ( ( len ( D40 ^ <* R10 *> ) ) + ( len C66 ) ) = ( ( ( len D40 ) + ( len <* R10 *> ) ) + ( len C66 ) ) by L368
.= ( ( D38 + 1 ) + ( len C66 ) ) by L776 , L585
.= ( len R20 ) by L768 , L770 , L772 , L167;
L778: ( dom R20 ) = ( Seg ( ( len ( D40 ^ <* R10 *> ) ) + ( len C66 ) ) ) by L777 , L167;
L779: ( rng ( D40 ^ C66 ) ) = ( ( rng R20 ) \ { R10 } )
proof
thus L780: ( rng ( D40 ^ C66 ) ) c= ( ( rng R20 ) \ { R10 } )
proof
let C67 being set;
assume L781: C67 in ( rng ( D40 ^ C66 ) );
L782: C67 in ( ( rng D40 ) \/ ( rng C66 ) ) by L781 , L443;
L783:
now
assume L784: C67 in ( rng D40 );
L785: (( rng D40 ) = ( R20 .: ( Seg D38 ) ) & ( R20 .: ( Seg D38 ) ) c= ( rng R20 )) by RELAT_1:111 , RELAT_1:115;
consider R13 being set such that L786: R13 in ( dom D40 ) and L787: ( D40 . R13 ) = C67 by L784 , FUNCT_1:def 3;
L788: ( D40 . R13 ) = ( R20 . R13 ) by L786 , FUNCT_1:47;
L789: R13 in ( Seg ( len D40 ) ) by L786 , L167;
reconsider D41 = R13 as (Element of ( NAT )) by L786;
L790: D41 <= D38 by L776 , L789 , L8;
L791: D38 < D37 by L768 , XREAL_1:29;
L792: ( Seg D38 ) c= ( Seg ( len R20 ) ) by L775 , L49;
L793: ( dom D40 ) c= ( Seg ( len R20 ) ) by L792 , L775 , L247;
L794: ( dom D40 ) c= ( dom R20 ) by L793 , L167;
L795: R10 <> C67 by L794 , L760 , L764 , L765 , L786 , L787 , L788 , L790 , L791 , FUNCT_1:def 4;
L796: (not C67 in { R10 }) by L795 , TARSKI:def 1;
thus L797: thesis by L796 , L784 , L785 , XBOOLE_0:def 5;
end;
L798:
now
assume L799: C67 in ( rng C66 );
consider R13 being set such that L800: R13 in ( dom C66 ) and L801: ( C66 . R13 ) = C67 by L799 , FUNCT_1:def 3;
reconsider D42 = R13 as (Element of ( NAT )) by L800;
L802: ( C66 . D42 ) = ( R20 . ( D37 + D42 ) ) by L772 , L773 , L800;
L803: 1 <= ( D37 + D42 ) by L767 , NAT_1:12;
L804: D42 <= D39 by L772 , L800 , L8;
L805: ( D37 + D42 ) <= ( len R20 ) by L804 , L770 , XREAL_1:7;
L806: ( D37 + D42 ) in ( Seg ( len R20 ) ) by L805 , L803;
L807: ( D37 + D42 ) in ( dom R20 ) by L806 , L167;
L808: C67 in ( rng R20 ) by L807 , L801 , L802 , FUNCT_1:def 3;
L809: D42 <> ( 0 ) by L772 , L800 , L8;
L810: D37 <> ( D37 + D42 ) by L809;
L811: R10 <> C67 by L810 , L760 , L764 , L765 , L801 , L802 , L807 , FUNCT_1:def 4;
L812: (not C67 in { R10 }) by L811 , TARSKI:def 1;
thus L813: thesis by L812 , L808 , XBOOLE_0:def 5;
end;
thus L814: thesis by L798 , L782 , L783 , XBOOLE_0:def 3;
end;

let C68 being set;
assume L815: C68 in ( ( rng R20 ) \ { R10 } );
consider R13 being set such that L816: R13 in ( dom R20 ) and L817: C68 = ( R20 . R13 ) by L815 , FUNCT_1:def 3;
L818: R13 in ( Seg ( len R20 ) ) by L816 , L167;
reconsider D43 = R13 as (Element of ( NAT )) by L816;
L819: (not C68 in { R10 }) by L815 , XBOOLE_0:def 5;
L820: D37 <> D43 by L819 , L765 , L817 , TARSKI:def 1;
L821:
now
assume L822: D37 < D43;
consider C69 being Nat such that L823: D43 = ( D37 + C69 ) by L822 , NAT_1:10;
reconsider D44 = C69 as (Element of ( NAT )) by ORDINAL1:def 12;
L824: 1 <= D44 by L822 , L823 , NAT_1:19;
L825: ( D37 + D44 ) <= ( len R20 ) by L818 , L823 , L8;
L826: D44 <= D39 by L825 , L770 , XREAL_1:6;
L827: D44 in ( Seg D39 ) by L826 , L824;
L828: C68 = ( C66 . D44 ) by L827 , L773 , L817 , L823;
thus L829: C68 in ( rng C66 ) by L828 , L772 , L827 , FUNCT_1:def 3;
end;
L830:
now
assume L831: D43 < D37;
L832: 1 <= D43 by L818 , L8;
L833: D43 <= D38 by L768 , L831 , NAT_1:13;
L834: D43 in ( Seg D38 ) by L833 , L832;
L835: D43 in ( dom D40 ) by L834 , L775 , L247;
L836: ( D40 . D43 ) = C68 by L835 , L817 , FUNCT_1:47;
thus L837: C68 in ( rng D40 ) by L836 , L835 , FUNCT_1:def 3;
end;
L838: C68 in ( ( rng D40 ) \/ ( rng C66 ) ) by L830 , L820 , L821 , XBOOLE_0:def 3 , XXREAL_0:1;
thus L839: thesis by L838 , L443;
end;
L840: R19 = ( ( R19 ^ <* R10 *> ) | ( dom R19 ) ) by L362;
L841: ( rng R19 ) = ( ( rng ( R19 ^ <* R10 *> ) ) \ { R10 } )
proof
thus L842: ( rng R19 ) c= ( ( rng ( R19 ^ <* R10 *> ) ) \ { R10 } )
proof
let C70 being set;
assume L843: C70 in ( rng R19 );
L844: ( rng R19 ) c= ( rng ( R19 ^ <* R10 *> ) ) by L840 , RELAT_1:70;
consider R13 being set such that L845: R13 in ( dom R19 ) and L846: ( R19 . R13 ) = C70 by L843 , FUNCT_1:def 3;
L847: R13 in ( Seg ( len R19 ) ) by L845 , L167;
reconsider D45 = R13 as (Element of ( NAT )) by L845;
L848: ( ( R19 ^ <* R10 *> ) . ( ( len R19 ) + 1 ) ) = R10 by L596;
L849: ( ( R19 ^ <* R10 *> ) . D45 ) = ( R19 . D45 ) by L840 , L845 , FUNCT_1:47;
L850: D45 <= ( len R19 ) by L847 , L8;
L851: ( len R19 ) < ( ( len R19 ) + 1 ) by XREAL_1:29;
L852: 1 <= D45 by L847 , L8;
L853: D45 <= ( ( len R19 ) + 1 ) by L850 , L851 , XXREAL_0:2;
L854: D45 in ( Seg ( ( len R19 ) + 1 ) ) by L853 , L852;
L855: ( ( len R19 ) + 1 ) in ( Seg ( ( len R19 ) + 1 ) ) by L42;
L856: D45 in ( Seg ( ( len R19 ) + ( len <* R10 *> ) ) ) by L854 , L588;
L857: ( ( len R19 ) + 1 ) in ( Seg ( ( len R19 ) + ( len <* R10 *> ) ) ) by L855 , L588;
L858: D45 in ( dom ( R19 ^ <* R10 *> ) ) by L856 , L293;
L859: ( ( len R19 ) + 1 ) in ( dom ( R19 ^ <* R10 *> ) ) by L857 , L293;
L860: R10 <> C70 by L859 , L758 , L846 , L848 , L849 , L850 , L851 , L858 , FUNCT_1:def 4;
L861: (not C70 in { R10 }) by L860 , TARSKI:def 1;
thus L862: thesis by L861 , L843 , L844 , XBOOLE_0:def 5;
end;

let C71 being set;
assume L863: C71 in ( ( rng ( R19 ^ <* R10 *> ) ) \ { R10 } );
L864: C71 in ( rng ( R19 ^ <* R10 *> ) ) by L863;
L865: (not C71 in { R10 }) by L863 , XBOOLE_0:def 5;
L866: C71 in ( ( rng R19 ) \/ ( rng <* R10 *> ) ) by L864 , L443;
L867: (C71 in ( rng R19 ) or C71 in ( rng <* R10 *> )) by L866 , XBOOLE_0:def 3;
thus L868: thesis by L867 , L865 , L572;
end;
L869: ( D40 ^ C66 ) is  one-to-one
proof
let R13 being set;
let R14 being set;
assume that
L870: (R13 in ( dom ( D40 ^ C66 ) ) & R14 in ( dom ( D40 ^ C66 ) ))
and
L871: ( ( D40 ^ C66 ) . R13 ) = ( ( D40 ^ C66 ) . R14 );
reconsider D46 = R13 , D47 = R14 as (Element of ( NAT )) by L870;
L872: D40 is  one-to-one by L760 , FUNCT_1:52;
L873:
now
assume L874: (D46 in ( dom D40 ) & D47 in ( dom D40 ));
L875: (( ( D40 ^ C66 ) . D46 ) = ( D40 . D46 ) & ( ( D40 ^ C66 ) . D47 ) = ( D40 . D47 )) by L874 , L293;
thus L876: thesis by L875 , L871 , L872 , L874 , FUNCT_1:def 4;
end;
L877:
now
assume L878: D46 in ( dom D40 );
given C72 being Nat such that
L879: C72 in ( dom C66 )
and
L880: D47 = ( ( len D40 ) + C72 );

reconsider D48 = C72 as (Element of ( NAT )) by ORDINAL1:def 12;
L881: ( ( D40 ^ C66 ) . D47 ) = ( C66 . D48 ) by L879 , L880 , L293;
L882: (( ( D40 ^ C66 ) . D46 ) = ( D40 . D46 ) & ( D40 . D46 ) = ( R20 . D46 )) by L878 , L293 , FUNCT_1:47;
L883: ( R20 . D46 ) = ( R20 . ( D37 + D48 ) ) by L882 , L772 , L773 , L871 , L879 , L881;
L884: 1 <= D48 by L772 , L879 , L8;
L885: 1 <= ( D37 + D48 ) by L884 , NAT_1:12;
L886: D48 <= D39 by L772 , L879 , L8;
L887: ( D37 + D48 ) <= ( len R20 ) by L886 , L770 , XREAL_1:7;
L888: ( D37 + D48 ) in ( Seg ( len R20 ) ) by L887 , L885;
L889: ( D37 + D48 ) in ( dom R20 ) by L888 , L167;
L890: D46 in ( Seg D38 ) by L775 , L878 , L247;
L891: D46 <= D38 by L890 , L8;
L892: D38 < D37 by L768 , XREAL_1:29;
L893: D46 < D37 by L892 , L891 , XXREAL_0:2;
L894: (( dom D40 ) c= ( dom R20 ) & D37 <= ( D37 + D48 )) by NAT_1:12 , RELAT_1:60;
thus L895: thesis by L894 , L760 , L878 , L883 , L889 , L893 , FUNCT_1:def 4;
end;
L896:
now
assume L897: D47 in ( dom D40 );
given C73 being Nat such that
L898: C73 in ( dom C66 )
and
L899: D46 = ( ( len D40 ) + C73 );

reconsider D49 = C73 as (Element of ( NAT )) by ORDINAL1:def 12;
L900: ( ( D40 ^ C66 ) . D46 ) = ( C66 . D49 ) by L898 , L899 , L293;
L901: (( ( D40 ^ C66 ) . D47 ) = ( D40 . D47 ) & ( D40 . D47 ) = ( R20 . D47 )) by L897 , L293 , FUNCT_1:47;
L902: ( R20 . D47 ) = ( R20 . ( D37 + D49 ) ) by L901 , L772 , L773 , L871 , L898 , L900;
L903: 1 <= D49 by L772 , L898 , L8;
L904: 1 <= ( D37 + D49 ) by L903 , NAT_1:12;
L905: D49 <= D39 by L772 , L898 , L8;
L906: ( D37 + D49 ) <= ( len R20 ) by L905 , L770 , XREAL_1:7;
L907: ( D37 + D49 ) in ( Seg ( len R20 ) ) by L906 , L904;
L908: ( D37 + D49 ) in ( dom R20 ) by L907 , L167;
L909: D47 in ( Seg D38 ) by L775 , L897 , L247;
L910: D47 <= D38 by L909 , L8;
L911: D38 < D37 by L768 , XREAL_1:29;
L912: D47 < D37 by L911 , L910 , XXREAL_0:2;
L913: (( dom D40 ) c= ( dom R20 ) & D37 <= ( D37 + D49 )) by NAT_1:12 , RELAT_1:60;
thus L914: thesis by L913 , L760 , L897 , L902 , L908 , L912 , FUNCT_1:def 4;
end;
L915:
now
given C74 being Nat such that
L916: C74 in ( dom C66 )
and
L917: D46 = ( ( len D40 ) + C74 );

given C75 being Nat such that
L918: C75 in ( dom C66 )
and
L919: D47 = ( ( len D40 ) + C75 );

reconsider D50 = C74 , D51 = C75 as (Element of ( NAT )) by ORDINAL1:def 12;
L920: ( ( D40 ^ C66 ) . D46 ) = ( C66 . D50 ) by L916 , L917 , L293;
L921: ( ( D40 ^ C66 ) . D47 ) = ( C66 . D51 ) by L918 , L919 , L293;
L922: ( ( D40 ^ C66 ) . D46 ) = ( R20 . ( D37 + D50 ) ) by L772 , L773 , L916 , L920;
L923: ( ( D40 ^ C66 ) . D47 ) = ( R20 . ( D37 + D51 ) ) by L772 , L773 , L918 , L921;
L924: 1 <= D50 by L772 , L916 , L8;
L925: 1 <= D51 by L772 , L918 , L8;
L926: 1 <= ( D37 + D50 ) by L924 , NAT_1:12;
L927: 1 <= ( D37 + D51 ) by L925 , NAT_1:12;
L928: D50 <= D39 by L772 , L916 , L8;
L929: D51 <= D39 by L772 , L918 , L8;
L930: ( D37 + D50 ) <= ( len R20 ) by L770 , L928 , XREAL_1:7;
L931: ( D37 + D51 ) <= ( len R20 ) by L770 , L929 , XREAL_1:7;
L932: ( D37 + D50 ) in ( Seg ( len R20 ) ) by L926 , L930;
L933: ( D37 + D51 ) in ( Seg ( len R20 ) ) by L927 , L931;
L934: ( D37 + D50 ) in ( dom R20 ) by L932 , L167;
L935: ( D37 + D51 ) in ( dom R20 ) by L933 , L167;
L936: ( D37 + D50 ) = ( D37 + D51 ) by L935 , L760 , L871 , L922 , L923 , L934 , FUNCT_1:def 4;
thus L937: thesis by L936 , L917 , L919;
end;
thus L938: thesis by L915 , L870 , L873 , L877 , L896 , L386;
end;
L939:
now
let C76 being Nat;
assume L940: C76 in ( dom ( D40 ^ <* R10 *> ) );
L941:
now
assume L942: C76 in ( dom D40 );
L943: ( ( D40 ^ <* R10 *> ) . C76 ) = ( D40 . C76 ) by L942 , L293;
thus L944: ( R20 . C76 ) = ( ( D40 ^ <* R10 *> ) . C76 ) by L943 , L942 , FUNCT_1:47;
end;
L945:
now
given C77 being Nat such that
L946: C77 in ( dom <* R10 *> )
and
L947: C76 = ( ( len D40 ) + C77 );

L948: C77 in { 1 } by L946 , L17 , L572;
L949: C77 = 1 by L948 , TARSKI:def 1;
thus L950: ( R20 . C76 ) = ( ( D40 ^ <* R10 *> ) . C76 ) by L949 , L765 , L768 , L776 , L947 , L596;
end;
thus L951: ( R20 . C76 ) = ( ( D40 ^ <* R10 *> ) . C76 ) by L945 , L940 , L941 , L386;
end;
L952:
now
let C78 being Nat;
assume L953: C78 in ( dom C66 );
thus L954: ( C66 . C78 ) = ( R20 . ( ( ( len D40 ) + 1 ) + C78 ) ) by L953 , L768 , L772 , L773 , L776
.= ( R20 . ( ( ( len D40 ) + ( len <* R10 *> ) ) + C78 ) ) by L585
.= ( R20 . ( ( len ( D40 ^ <* R10 *> ) ) + C78 ) ) by L368;
end;
L955: ( ( D40 ^ <* R10 *> ) ^ C66 ) = R20 by L952 , L778 , L939 , L293;
L956: ( len R20 ) = ( ( len ( D40 ^ <* R10 *> ) ) + ( len C66 ) ) by L955 , L368
.= ( ( ( len <* R10 *> ) + ( len D40 ) ) + ( len C66 ) ) by L368
.= ( ( 1 + ( len D40 ) ) + ( len C66 ) ) by L588
.= ( 1 + ( ( len D40 ) + ( len C66 ) ) )
.= ( ( len ( D40 ^ C66 ) ) + 1 ) by L368;
L957: ( len ( R19 ^ <* R10 *> ) ) = ( ( len R19 ) + ( len <* R10 *> ) ) by L368
.= ( ( len R19 ) + 1 ) by L588;
thus L958: ( len ( R19 ^ <* R10 *> ) ) = ( len R20 ) by L957 , L757 , L758 , L759 , L779 , L840 , L841 , L869 , L956 , FUNCT_1:52;
end;
L959: (for R19 being FinSequence holds (for R10 being set holds (S8[ R19 ] implies S8[ ( R19 ^ <* R10 *> ) ]))) by L756;
L960: (for R19 being FinSequence holds S8[ R19 ]) from IndSeq(L755 , L959);
thus L961: thesis by L960;
end;
theorem
L962: (for R24 being set holds ( {} ) in ( R24 * ))
proof
let R24 being set;
L963: ( {} ) = ( <*> R24 );
thus L964: thesis by L963 , L733;
end;
scheme SepSeq { F4() -> non  empty set , P3[FinSequence] } : (ex R15 being set st (for R10 being set holds (R10 in R15 iff (ex R19 being FinSequence st (R19 in ( F4() * ) & P3[ R19 ] & R10 = R19)))))
proof
defpred S10[ set ] means (ex R19 being FinSequence st (P3[ R19 ] & $1 = R19));
consider R16 being set such that L965: (for R10 being set holds (R10 in R16 iff (R10 in ( F4() * ) & S10[ R10 ]))) from XBOOLE_0:sch 1;
take R16;
L966: (for R10 being set holds (R10 in R16 iff (ex R19 being FinSequence st (R19 in ( F4() * ) & P3[ R19 ] & R10 = R19))))
proof
let R10 being set;
L967:
now
assume L968: R10 in R16;
L969: (R10 in ( F4() * ) & (ex R19 being FinSequence st (P3[ R19 ] & R10 = R19))) by L968 , L965;
thus L970: (ex R19 being FinSequence st (R19 in ( F4() * ) & P3[ R19 ] & R10 = R19)) by L969;
end;
thus L971: thesis by L967 , L965;
end;
thus L972: thesis by L966;
end;
definition
let C79 being Function;
attr C79 is  FinSubsequence-like
means
:L973: (ex R1 being Nat st ( dom C79 ) c= ( Seg R1 ));
end;
registration
cluster  FinSubsequence-like for Function;
existence
proof
take ( {} );
take ( len ( {} ) );
thus L975: thesis;
end;
end;
definition
mode FinSubsequence
 is  FinSubsequence-like Function;
end;
registration
cluster  FinSequence-like ->  FinSubsequence-like for Function;
coherence
proof
let C80 being Function;
assume L978: C80 is  FinSequence-like;
reconsider D52 = C80 as FinSequence by L978;
L979: ( dom D52 ) = ( Seg ( len D52 ) ) by L167;
thus L980: thesis by L979 , L973;
end;
let C81 being FinSubsequence;
let C82 being set;
cluster ( C81 | C82 ) ->  FinSubsequence-like;
coherence
proof
consider R1 being Nat such that L981: ( dom C81 ) c= ( Seg R1 ) by L973;
L982: ( dom ( C81 | C82 ) ) c= ( dom C81 ) by RELAT_1:60;
L983: ( dom ( C81 | C82 ) ) c= ( Seg R1 ) by L982 , L981 , XBOOLE_1:1;
thus L984: thesis by L983 , L973;
end;
cluster ( C82 |` C81 ) ->  FinSubsequence-like;
coherence
proof
consider R1 being Nat such that L985: ( dom C81 ) c= ( Seg R1 ) by L973;
L986: ( dom ( C82 |` C81 ) ) c= ( dom C81 ) by FUNCT_1:56;
L987: ( dom ( C82 |` C81 ) ) c= ( Seg R1 ) by L986 , L985 , XBOOLE_1:1;
thus L988: thesis by L987 , L973;
end;
end;
registration
cluster  -> ( NAT ) -defined for FinSubsequence;
coherence
proof
let C83 being FinSubsequence;
L990: (ex R4 being Nat st ( dom C83 ) c= ( Seg R4 )) by L973;
thus L991: ( dom C83 ) c= ( NAT ) by L990 , XBOOLE_1:1;
end;
end;
definition
let R15 being set;
given C84 being Nat such that
L993: R15 c= ( Seg C84 );

func Sgm R15 -> (FinSequence of ( NAT )) means 
:L994: (( rng it ) = R15 & (for B30 , B31 , B32 , B33 being Nat holds ((1 <= B30 & B30 < B31 & B31 <= ( len it ) & B32 = ( it . B30 ) & B33 = ( it . B31 )) implies B32 < B33)));
existence
proof
defpred S11[ Nat ] means (for R15 being set holds (R15 c= ( Seg $1 ) implies (ex B34 being (FinSequence of ( NAT )) st (( rng B34 ) = R15 & (for B35 , B36 , B37 , B38 being Nat holds ((1 <= B35 & B35 < B36 & B36 <= ( len B34 ) & B37 = ( B34 . B35 ) & B38 = ( B34 . B36 )) implies B37 < B38))))));
L995: S11[ ( 0 ) ]
proof
let R15 being set;
assume L996: R15 c= ( Seg ( 0 ) );
take ( <*> ( NAT ) );
thus L997: ( rng ( <*> ( NAT ) ) ) = R15 by L996;
thus L998: thesis;
end;
L999: (for B39 being Nat holds (S11[ B39 ] implies S11[ ( B39 + 1 ) ]))
proof
let C85 being Nat;
assume that
L1000: (for R15 being set holds (R15 c= ( Seg C85 ) implies (ex B40 being (FinSequence of ( NAT )) st (( rng B40 ) = R15 & (for B41 , B42 , B43 , B44 being Nat holds ((1 <= B41 & B41 < B42 & B42 <= ( len B40 ) & B43 = ( B40 . B41 ) & B44 = ( B40 . B42 )) implies B43 < B44))))));
let R15 being set;
assume L1001: R15 c= ( Seg ( C85 + 1 ) );
L1002:
now
assume L1003: (not R15 c= ( Seg C85 ));
consider R10 being set such that L1004: R10 in R15 and L1005: (not R10 in ( Seg C85 )) by L1003 , TARSKI:def 3;
L1006: R10 in ( Seg ( C85 + 1 ) ) by L1001 , L1004;
reconsider D53 = R10 as (Element of ( NAT )) by L1006;
L1007: D53 = ( C85 + 1 )
proof
assume L1008: D53 <> ( C85 + 1 );
L1009: D53 <= ( C85 + 1 ) by L1001 , L1004 , L8;
L1010: 1 <= D53 by L1001 , L1004 , L8;
L1011: D53 <= C85 by L1008 , L1009 , NAT_1:8;
thus L1012: contradiction by L1011 , L1005 , L1010;
end;
set D54 = ( R15 \ { ( C85 + 1 ) } );
L1013: D54 c= ( Seg C85 )
proof
let R10 being set;
assume L1014: R10 in D54;
L1015: R10 in R15 by L1014;
L1016: (not R10 in { ( C85 + 1 ) }) by L1014 , XBOOLE_0:def 5;
L1017: R10 in ( Seg ( C85 + 1 ) ) by L1001 , L1015;
L1018: R10 <> ( C85 + 1 ) by L1016 , TARSKI:def 1;
reconsider D55 = R10 as (Element of ( NAT )) by L1017;
L1019: D55 <= ( C85 + 1 ) by L1001 , L1015 , L8;
L1020: 1 <= D55 by L1001 , L1015 , L8;
L1021: D55 <= C85 by L1018 , L1019 , NAT_1:8;
thus L1022: thesis by L1021 , L1020;
end;
consider C86 being (FinSequence of ( NAT )) such that L1023: ( rng C86 ) = D54 and L1024: (for B45 , B46 , B47 , B48 being Nat holds ((1 <= B45 & B45 < B46 & B46 <= ( len C86 ) & B47 = ( C86 . B45 ) & B48 = ( C86 . B46 )) implies B47 < B48)) by L1013 , L1000;
reconsider D56 = C85 as (Element of ( NAT )) by ORDINAL1:def 12;
consider R20 being FinSequence such that L1025: R20 = ( C86 ^ <* ( D56 + 1 ) *> );
reconsider D57 = R20 as (FinSequence of ( NAT )) by L1025;
L1026: { ( D56 + 1 ) } c= R15 by L1004 , L1007 , ZFMISC_1:31;
L1027: ( rng D57 ) = ( ( rng C86 ) \/ ( rng <* ( D56 + 1 ) *> ) ) by L1025 , L443
.= ( D54 \/ { ( D56 + 1 ) } ) by L1023 , L572
.= ( R15 \/ { ( D56 + 1 ) } ) by XBOOLE_1:39
.= R15 by L1026 , XBOOLE_1:12;
L1028: (for B49 , B50 , B51 , B52 being Nat holds ((1 <= B49 & B49 < B50 & B50 <= ( len D57 ) & B51 = ( D57 . B49 ) & B52 = ( D57 . B50 )) implies B51 < B52))
proof
let C87 , C88 , C89 , C90 being Nat;
assume that
L1029: 1 <= C87
and
L1030: C87 < C88
and
L1031: C88 <= ( len D57 )
and
L1032: C89 = ( D57 . C87 )
and
L1033: C90 = ( D57 . C88 );
L1034: C87 < ( len ( C86 ^ <* ( D56 + 1 ) *> ) ) by L1025 , L1030 , L1031 , XXREAL_0:2;
L1035: C87 < ( ( len C86 ) + ( len <* ( D56 + 1 ) *> ) ) by L1034 , L368;
L1036: C87 < ( ( len C86 ) + 1 ) by L1035 , L585;
L1037: C87 <= ( len C86 ) by L1036 , NAT_1:13;
L1038: C87 in ( Seg ( len C86 ) ) by L1037 , L1029 , L8;
L1039: C87 in ( dom C86 ) by L1038 , L167;
L1040: 1 <= C88 by L1029 , L1030 , XXREAL_0:2;
L1041:
now
assume L1042: C88 = ( len D57 );
L1043: C89 = ( C86 . C87 ) by L1025 , L1032 , L1039 , L293;
L1044: C89 in D54 by L1043 , L1023 , L1039 , FUNCT_1:def 3;
L1045: C89 <= D56 by L1044 , L1013 , L8;
L1046: ( D57 . C88 ) = ( ( C86 ^ <* ( D56 + 1 ) *> ) . ( ( len C86 ) + ( len <* ( D56 + 1 ) *> ) ) ) by L1025 , L1042 , L368
.= ( ( C86 ^ <* ( D56 + 1 ) *> ) . ( ( len C86 ) + 1 ) ) by L585
.= ( D56 + 1 ) by L596;
thus L1047: thesis by L1046 , L1033 , L1045 , NAT_1:13;
end;
L1048:
now
assume L1049: C88 <> ( len D57 );
L1050: C88 < ( len ( C86 ^ <* ( D56 + 1 ) *> ) ) by L1049 , L1025 , L1031 , XXREAL_0:1;
L1051: C88 < ( ( len C86 ) + ( len <* ( D56 + 1 ) *> ) ) by L1050 , L368;
L1052: C88 < ( ( len C86 ) + 1 ) by L1051 , L585;
L1053: C88 <= ( len C86 ) by L1052 , NAT_1:13;
L1054: C88 in ( Seg ( len C86 ) ) by L1053 , L1040 , L8;
L1055: C88 in ( dom C86 ) by L1054 , L167;
L1056: C90 = ( C86 . C88 ) by L1055 , L1025 , L1033 , L293;
L1057: C89 = ( C86 . C87 ) by L1025 , L1032 , L1039 , L293;
thus L1058: thesis by L1057 , L1024 , L1029 , L1030 , L1053 , L1056;
end;
thus L1059: thesis by L1048 , L1041;
end;
thus L1060: thesis by L1028 , L1027;
end;
thus L1061: thesis by L1002 , L1000;
end;
L1062: (for B53 being Nat holds S11[ B53 ]) from NAT_1:sch 2(L995 , L999);
thus L1063: thesis by L1062 , L993;
end;
uniqueness
proof
let C91 , C92 being (FinSequence of ( NAT ));
assume that
L1064: (( rng C91 ) = R15 & (for B54 , B55 , B56 , B57 being Nat holds ((1 <= B54 & B54 < B55 & B55 <= ( len C91 ) & B56 = ( C91 . B54 ) & B57 = ( C91 . B55 )) implies B56 < B57)) & ( rng C92 ) = R15 & (for B58 , B59 , B60 , B61 being Nat holds ((1 <= B58 & B58 < B59 & B59 <= ( len C92 ) & B60 = ( C92 . B58 ) & B61 = ( C92 . B59 )) implies B60 < B61)));
defpred S12[ FinSequence ] means (for R15 being set holds ((ex B62 being Nat st R15 c= ( Seg B62 )) implies (($1 is (FinSequence of ( NAT )) & ( rng $1 ) = R15 & (for B63 , B64 , B65 , B66 being Nat holds ((1 <= B63 & B63 < B64 & B64 <= ( len $1 ) & B65 = ( $1 . B63 ) & B66 = ( $1 . B64 )) implies B65 < B66))) implies (for B67 being (FinSequence of ( NAT )) holds ((( rng B67 ) = R15 & (for B68 , B69 , B70 , B71 being Nat holds ((1 <= B68 & B68 < B69 & B69 <= ( len B67 ) & B70 = ( B67 . B68 ) & B71 = ( B67 . B69 )) implies B70 < B71))) implies B67 = $1)))));
L1065: S12[ ( {} ) ];
L1066: (for R19 being FinSequence holds (for R10 being set holds (S12[ R19 ] implies S12[ ( R19 ^ <* R10 *> ) ])))
proof
let R19 being FinSequence;
let R10 being set;
assume L1067: S12[ R19 ];
let R15 being set;
given C93 being Nat such that
L1068: R15 c= ( Seg C93 );

assume that
L1069: ( R19 ^ <* R10 *> ) is (FinSequence of ( NAT ))
and
L1070: ( rng ( R19 ^ <* R10 *> ) ) = R15
and
L1071: (for B72 , B73 , B74 , B75 being Nat holds ((1 <= B72 & B72 < B73 & B73 <= ( len ( R19 ^ <* R10 *> ) ) & B74 = ( ( R19 ^ <* R10 *> ) . B72 ) & B75 = ( ( R19 ^ <* R10 *> ) . B73 )) implies B74 < B75));
let C94 being (FinSequence of ( NAT ));
assume that
L1072: ( rng C94 ) = R15
and
L1073: (for B76 , B77 , B78 , B79 being Nat holds ((1 <= B76 & B76 < B77 & B77 <= ( len C94 ) & B78 = ( C94 . B76 ) & B79 = ( C94 . B77 )) implies B78 < B79));
L1074: 1 in ( Seg 1 );
L1075: 1 in ( dom <* R10 *> ) by L1074 , L532;
L1076: (ex R3 being Nat st (R3 = R10 & (for R2 being Nat holds ((R2 in R15 & R2 <> R10) implies R2 < R3))))
proof
L1077: <* R10 *> is (FinSequence of ( NAT )) by L1069 , L558;
L1078: ( rng <* R10 *> ) c= ( NAT ) by L1077 , L254;
L1079: { R10 } c= ( NAT ) by L1078 , L572;
reconsider D58 = R10 as (Element of ( NAT )) by L1079 , ZFMISC_1:31;
take D58;
thus L1080: D58 = R10;
thus L1081: (for R2 being Nat holds ((R2 in R15 & R2 <> R10) implies R2 < D58))
proof
let R2 being Nat;
assume that
L1082: R2 in R15
and
L1083: R2 <> R10;
consider R11 being set such that L1084: R11 in ( dom ( R19 ^ <* R10 *> ) ) and L1085: R2 = ( ( R19 ^ <* R10 *> ) . R11 ) by L1070 , L1082 , FUNCT_1:def 3;
L1086: R11 in ( Seg ( len ( R19 ^ <* R10 *> ) ) ) by L1084 , L167;
reconsider D59 = R11 as (Element of ( NAT )) by L1084;
L1087: D59 <= ( len ( R19 ^ <* R10 *> ) ) by L1086 , L8;
L1088: D59 <= ( ( len R19 ) + ( len <* R10 *> ) ) by L1087 , L368;
L1089: D59 <= ( ( len R19 ) + 1 ) by L1088 , L585;
L1090: D59 <> ( ( len R19 ) + 1 )
proof
assume L1091: D59 = ( ( len R19 ) + 1 );
L1092: ( ( R19 ^ <* R10 *> ) . D59 ) = ( <* R10 *> . 1 ) by L1091 , L1075 , L293
.= R10 by L532;
thus L1093: contradiction by L1092 , L1083 , L1085;
end;
L1094: 1 <= D59 by L1086 , L8;
L1095: D59 < ( ( len R19 ) + 1 ) by L1089 , L1090 , XXREAL_0:1;
L1096: D59 < ( ( len R19 ) + ( len <* R10 *> ) ) by L1095 , L585;
L1097: D59 < ( len ( R19 ^ <* R10 *> ) ) by L1096 , L368;
L1098: D58 = ( ( R19 ^ <* R10 *> ) . ( ( len R19 ) + 1 ) ) by L596
.= ( ( R19 ^ <* R10 *> ) . ( ( len R19 ) + ( len <* R10 *> ) ) ) by L585
.= ( ( R19 ^ <* R10 *> ) . ( len ( R19 ^ <* R10 *> ) ) ) by L368;
thus L1099: thesis by L1098 , L1071 , L1085 , L1094 , L1097;
end;

end;
reconsider D60 = R10 as Nat by L1076;
L1082: ( len C94 ) <> ( 0 )
proof
assume L1083: ( len C94 ) = ( 0 );
L1084: ( R19 ^ <* R10 *> ) = ( {} ) by L1083 , L1070 , L1072 , L278 , RELAT_1:38;
L1085: ( 0 ) = ( len ( R19 ^ <* R10 *> ) ) by L1084
.= ( ( len R19 ) + ( len <* R10 *> ) ) by L368
.= ( 1 + ( len R19 ) ) by L585;
thus L1086: contradiction by L1085;
end;
consider C95 being Nat such that L1087: ( len C94 ) = ( C95 + 1 ) by L1082 , NAT_1:6;
deffunc H3(Nat) = ( C94 . $1 );
L1088: (ex B80 being FinSequence st (( len B80 ) = C95 & (for R3 being Nat holds (R3 in ( dom B80 ) implies ( B80 . R3 ) = H3(R3))))) from SeqLambda;
consider C96 being FinSequence such that L1089: ( len C96 ) = C95 and L1090: (for R3 being Nat holds (R3 in ( dom C96 ) implies ( C96 . R3 ) = ( C94 . R3 ))) by L1088;
L1091:
now
let R10 being set;
assume L1092: R10 in ( rng C96 );
consider R11 being set such that L1093: R11 in ( dom C96 ) and L1094: R10 = ( C96 . R11 ) by L1092 , FUNCT_1:def 3;
L1095: R11 in ( Seg ( len C96 ) ) by L1093 , L167;
reconsider D61 = R11 as (Element of ( NAT )) by L1093;
L1096: D61 <= C95 by L1089 , L1095 , L8;
L1097: C95 <= ( C95 + 1 ) by NAT_1:11;
L1098: 1 <= D61 by L1095 , L8;
L1099: D61 <= ( C95 + 1 ) by L1096 , L1097 , XXREAL_0:2;
L1100: D61 in ( Seg ( C95 + 1 ) ) by L1099 , L1098;
L1101: D61 in ( dom C94 ) by L1100 , L1087 , L167;
L1102: ( C94 . D61 ) in ( rng C94 ) by L1101 , FUNCT_1:def 3;
L1103: ( rng C94 ) c= ( NAT ) by L254;
L1104: ( C94 . D61 ) in ( NAT ) by L1103 , L1102;
thus L1105: R10 in ( NAT ) by L1104 , L1090 , L1093 , L1094;
end;
L1106: ( rng C96 ) c= ( NAT ) by L1091 , TARSKI:def 3;
reconsider D62 = C96 as (FinSequence of ( NAT )) by L1106 , L254;
L1107: ( dom C94 ) = ( Seg ( C95 + 1 ) ) by L1087 , L167
.= ( Seg ( ( len C96 ) + ( len <* R10 *> ) ) ) by L1089 , L585;
L1108: (for R3 being Nat holds (R3 in ( dom <* R10 *> ) implies ( C94 . ( ( len C96 ) + R3 ) ) = ( <* R10 *> . R3 )))
proof
let R3 being Nat;
assume L1109: R3 in ( dom <* R10 *> );
L1110: R3 in { 1 } by L1109 , L532 , L17;
L1111: R3 = 1 by L1110 , TARSKI:def 1;
L1112: ( C94 . ( ( len C96 ) + R3 ) ) = R10
proof
assume L1113: ( C94 . ( ( len C96 ) + R3 ) ) <> R10;
L1114: ( C94 . ( len C94 ) ) <> R10 by L1113 , L1087 , L1089 , L1110 , TARSKI:def 1;
consider C97 being Nat such that L1115: C97 = R10 and L1116: (for R2 being Nat holds ((R2 in R15 & R2 <> R10) implies R2 < C97)) by L1076;
L1117: R10 in { R10 } by TARSKI:def 1;
L1118: R10 in ( rng <* R10 *> ) by L1117 , L572;
L1119: R10 in ( ( rng R19 ) \/ ( rng <* R10 *> ) ) by L1118 , XBOOLE_0:def 3;
L1120: R10 in ( rng C94 ) by L1119 , L1070 , L1072 , L443;
consider R11 being set such that L1121: R11 in ( dom C94 ) and L1122: R10 = ( C94 . R11 ) by L1120 , FUNCT_1:def 3;
L1123: R11 in ( Seg ( len C94 ) ) by L1121 , L167;
reconsider D63 = R11 as (Element of ( NAT )) by L1121;
L1124: 1 <= D63 by L1123 , L8;
L1125: D63 <= ( len C94 ) by L1123 , L8;
L1126: D63 < ( len C94 ) by L1125 , L1114 , L1122 , XXREAL_0:1;
L1127: 1 <= ( len C94 ) by L1124 , L1125 , XXREAL_0:2;
L1128: ( len C94 ) in ( Seg ( len C94 ) ) by L1127;
L1129: ( len C94 ) in ( dom C94 ) by L1128 , L167;
L1130: ( C94 . ( len C94 ) ) in R15 by L1072 , L1129 , FUNCT_1:def 3;
reconsider D64 = ( C94 . ( len C94 ) ) as Nat;
L1131: D64 < C97 by L1114 , L1116 , L1130;
thus L1132: contradiction by L1131 , L1073 , L1115 , L1122 , L1124 , L1126;
end;
thus L1133: thesis by L1112 , L1111 , L588;
end;
L1134: ( C96 ^ <* R10 *> ) = C94 by L1108 , L1090 , L1107 , L293;
L1135: (ex R3 being Nat st ( R15 \ { R10 } ) c= ( Seg R3 )) by L1068 , XBOOLE_1:1;
L1136: (not R10 in ( rng R19 ))
proof
assume L1137: R10 in ( rng R19 );
consider R11 being set such that L1138: R11 in ( dom R19 ) and L1139: R10 = ( R19 . R11 ) by L1137 , FUNCT_1:def 3;
L1140: R11 in ( Seg ( len R19 ) ) by L1138 , L167;
reconsider D65 = R11 as (Element of ( NAT )) by L1138;
L1141: D65 <= ( len R19 ) by L1140 , L8;
L1142: ( ( len R19 ) + 1 ) = ( ( len R19 ) + ( len <* R10 *> ) ) by L585
.= ( len ( R19 ^ <* R10 *> ) ) by L368;
L1143: 1 <= D65 by L1140 , L8;
L1144: D65 < ( ( len R19 ) + 1 ) by L1141 , NAT_1:13;
L1145: D60 = ( ( R19 ^ <* R10 *> ) . D65 ) by L1138 , L1139 , L293;
L1146: D60 = ( ( R19 ^ <* R10 *> ) . ( ( len R19 ) + 1 ) ) by L596;
thus L1147: contradiction by L1146 , L1071 , L1142 , L1143 , L1144 , L1145;
end;
L1148: R15 = ( ( rng R19 ) \/ ( rng <* R10 *> ) ) by L1070 , L443
.= ( ( rng R19 ) \/ { R10 } ) by L585;
L1149: (for R12 being set holds (R12 in ( ( ( rng R19 ) \/ { R10 } ) \ { R10 } ) iff R12 in ( rng R19 )))
proof
let R12 being set;
thus L1150: (R12 in ( ( ( rng R19 ) \/ { R10 } ) \ { R10 } ) implies R12 in ( rng R19 ))
proof
assume L1151: R12 in ( ( ( rng R19 ) \/ { R10 } ) \ { R10 } );
L1152: (not R12 in { R10 }) by L1151 , XBOOLE_0:def 5;
thus L1153: thesis by L1152 , L1151 , XBOOLE_0:def 3;
end;

assume L1154: R12 in ( rng R19 );
L1155: ((not R12 in { R10 }) & R12 in ( ( rng R19 ) \/ { R10 } )) by L1154 , L1136 , TARSKI:def 1 , XBOOLE_0:def 3;
thus L1156: thesis by L1155 , XBOOLE_0:def 5;
end;
L1157: (for B81 , B82 , B83 , B84 being Nat holds ((1 <= B81 & B81 < B82 & B82 <= ( len R19 ) & B83 = ( R19 . B81 ) & B84 = ( R19 . B82 )) implies B83 < B84))
proof
let C98 , C99 , C100 , C101 being Nat;
assume that
L1158: 1 <= C98
and
L1159: C98 < C99
and
L1160: C99 <= ( len R19 )
and
L1161: C100 = ( R19 . C98 )
and
L1162: C101 = ( R19 . C99 );
L1163: C98 <= ( len R19 ) by L1159 , L1160 , XXREAL_0:2;
L1164: C98 in ( Seg ( len R19 ) ) by L1163 , L1158 , L8;
L1165: C98 in ( dom R19 ) by L1164 , L167;
L1166: C100 = ( ( R19 ^ <* R10 *> ) . C98 ) by L1165 , L1161 , L293;
L1167: 1 <= C99 by L1158 , L1159 , XXREAL_0:2;
L1168: C99 in ( Seg ( len R19 ) ) by L1167 , L1160 , L8;
L1169: C99 in ( dom R19 ) by L1168 , L167;
L1170: C101 = ( ( R19 ^ <* R10 *> ) . C99 ) by L1169 , L1162 , L293;
L1171: ( len R19 ) <= ( ( len R19 ) + 1 ) by NAT_1:11;
L1172: C99 <= ( ( len R19 ) + 1 ) by L1171 , L1160 , XXREAL_0:2;
L1173: C99 <= ( ( len R19 ) + ( len <* R10 *> ) ) by L1172 , L585;
L1174: C99 <= ( len ( R19 ^ <* R10 *> ) ) by L1173 , L368;
thus L1175: thesis by L1174 , L1071 , L1158 , L1159 , L1166 , L1170;
end;
L1176: R19 is (FinSequence of ( NAT )) by L1069 , L558;
L1177: ( rng R19 ) = ( R15 \ { R10 } ) by L1148 , L1149 , TARSKI:1;
L1178: (not R10 in ( rng D62 ))
proof
assume L1179: R10 in ( rng D62 );
consider R11 being set such that L1180: R11 in ( dom D62 ) and L1181: R10 = ( D62 . R11 ) by L1179 , FUNCT_1:def 3;
L1182: R11 in ( Seg ( len D62 ) ) by L1180 , L167;
reconsider D66 = R11 as (Element of ( NAT )) by L1180;
L1183: D66 <= ( len D62 ) by L1182 , L8;
L1184: ( ( len D62 ) + 1 ) = ( ( len D62 ) + ( len <* R10 *> ) ) by L585
.= ( len ( D62 ^ <* R10 *> ) ) by L368;
L1185: 1 <= D66 by L1182 , L8;
L1186: D66 < ( ( len D62 ) + 1 ) by L1183 , NAT_1:13;
L1187: D60 = ( C94 . D66 ) by L1090 , L1180 , L1181;
L1188: D60 = ( C94 . ( ( len D62 ) + 1 ) ) by L1134 , L596;
thus L1189: contradiction by L1188 , L1073 , L1134 , L1184 , L1185 , L1186 , L1187;
end;
L1190: R15 = ( ( rng D62 ) \/ ( rng <* R10 *> ) ) by L1072 , L1134 , L443
.= ( ( rng D62 ) \/ { R10 } ) by L585;
L1191: (for R12 being set holds (R12 in ( ( ( rng D62 ) \/ { R10 } ) \ { R10 } ) iff R12 in ( rng D62 )))
proof
let R12 being set;
thus L1192: (R12 in ( ( ( rng D62 ) \/ { R10 } ) \ { R10 } ) implies R12 in ( rng D62 ))
proof
assume L1193: R12 in ( ( ( rng D62 ) \/ { R10 } ) \ { R10 } );
L1194: (not R12 in { R10 }) by L1193 , XBOOLE_0:def 5;
thus L1195: thesis by L1194 , L1193 , XBOOLE_0:def 3;
end;

assume L1196: R12 in ( rng D62 );
L1197: ((not R12 in { R10 }) & R12 in ( ( rng D62 ) \/ { R10 } )) by L1196 , L1178 , TARSKI:def 1 , XBOOLE_0:def 3;
thus L1198: thesis by L1197 , XBOOLE_0:def 5;
end;
L1199: (for B85 , B86 , B87 , B88 being Nat holds ((1 <= B85 & B85 < B86 & B86 <= ( len D62 ) & B87 = ( D62 . B85 ) & B88 = ( D62 . B86 )) implies B87 < B88))
proof
let C102 , C103 , C104 , C105 being Nat;
assume that
L1200: 1 <= C102
and
L1201: C102 < C103
and
L1202: C103 <= ( len D62 )
and
L1203: C104 = ( D62 . C102 )
and
L1204: C105 = ( D62 . C103 );
L1205: C103 <= ( len C94 ) by L1087 , L1089 , L1202 , NAT_1:13;
L1206: C102 <= C95 by L1089 , L1201 , L1202 , XXREAL_0:2;
L1207: C102 in ( Seg C95 ) by L1206 , L1200 , L8;
L1208: 1 <= C103 by L1200 , L1201 , XXREAL_0:2;
L1209: C103 in ( Seg C95 ) by L1208 , L1089 , L1202 , L8;
L1210: C102 in ( dom C96 ) by L1089 , L1207 , L167;
L1211: C103 in ( dom C96 ) by L1089 , L1209 , L167;
L1212: C104 = ( C94 . C102 ) by L1090 , L1203 , L1210;
L1213: C105 = ( C94 . C103 ) by L1090 , L1204 , L1211;
thus L1214: thesis by L1213 , L1073 , L1200 , L1201 , L1205 , L1212;
end;
L1215: ( rng D62 ) = ( R15 \ { R10 } ) by L1190 , L1191 , TARSKI:1;
L1216: C96 = R19 by L1215 , L1067 , L1135 , L1157 , L1176 , L1177 , L1199;
thus L1217: thesis by L1216 , L1090 , L1107 , L1108 , L293;
end;
L1218: (for R19 being FinSequence holds S12[ R19 ]) from IndSeq(L1065 , L1066);
thus L1219: thesis by L1218 , L993 , L1064;
end;
end;
theorem
L1221: (for R25 being FinSubsequence holds ( rng ( Sgm ( dom R25 ) ) ) = ( dom R25 ))
proof
let R25 being FinSubsequence;
L1222: (ex R1 being Nat st ( dom R25 ) c= ( Seg R1 )) by L973;
thus L1223: thesis by L1222 , L994;
end;
definition
let R25 being FinSubsequence;
func Seq R25 -> Function equals 
( R25 * ( Sgm ( dom R25 ) ) );
coherence;
end;
registration
let R25 being FinSubsequence;
cluster ( Seq R25 ) ->  FinSequence-like;
coherence
proof
L1225: ( rng ( Sgm ( dom R25 ) ) ) = ( dom R25 ) by L1221;
L1226: ( dom ( R25 * ( Sgm ( dom R25 ) ) ) ) = ( dom ( Sgm ( dom R25 ) ) ) by L1225 , RELAT_1:27
.= ( Seg ( len ( Sgm ( dom R25 ) ) ) ) by L167;
thus L1227: thesis by L1226 , L97;
end;
end;
theorem
L1229: (for R15 being set holds ((ex R1 being Nat st R15 c= ( Seg R1 )) implies (( Sgm R15 ) = ( {} ) iff R15 = ( {} ))))
proof
let R15 being set;
given R1 being Nat such that
L1230: R15 c= ( Seg R1 );

thus L1231: (( Sgm R15 ) = ( {} ) implies R15 = ( {} ))
proof
assume L1232: ( Sgm R15 ) = ( {} );
thus L1233: R15 = ( rng ( {} ) ) by L1232 , L1230 , L994
.= ( {} );
end;

assume L1234: R15 = ( {} );
L1235: ( rng ( Sgm R15 ) ) = ( {} ) by L1234 , L1230 , L994;
thus L1236: thesis by L1235;
end;
begin
theorem
L1237: (for R24 being set holds (R24 is  finite iff (ex R19 being FinSequence st R24 = ( rng R19 ))))
proof
let R24 being set;
thus L1238: (R24 is  finite implies (ex R19 being FinSequence st R24 = ( rng R19 )))
proof
given C106 being Function such that
L1239: ( rng C106 ) = R24
and
L1240: ( dom C106 ) in ( omega );

reconsider D67 = ( dom C106 ) as (Element of ( NAT )) by L1240;
defpred S13[ set , set ] means S1[ $2 , $1 ];
L1241: (for R10 being set holds (R10 in ( Seg D67 ) implies (ex R11 being set st S13[ R10 , R11 ])))
proof
let R10 being set;
assume L1242: R10 in ( Seg D67 );
reconsider D68 = R10 as (Element of ( NAT )) by L1242;
L1243: D68 >= 1 by L1242 , L8;
L1244: (ex B89 being Nat st D68 = ( 1 + B89 )) by L1243 , NAT_1:10;
thus L1245: thesis by L1244;
end;
consider R17 being Function such that L1246: ( dom R17 ) = ( Seg D67 ) and L1247: (for R10 being set holds (R10 in ( Seg D67 ) implies S13[ R10 , ( R17 . R10 ) ])) from CLASSES1:sch 1(L1241);
L1248: ( rng R17 ) = ( dom C106 )
proof
L1249: D67 = { B90 where B90 is (Element of ( NAT )) : B90 < D67 } by AXIOMS:4;
thus L1250: ( rng R17 ) c= ( dom C106 )
proof
let R10 being set;
assume L1251: R10 in ( rng R17 );
consider R11 being set such that L1252: R11 in ( dom R17 ) and L1253: R10 = ( R17 . R11 ) by L1251 , FUNCT_1:def 3;
consider R1 being Nat such that L1254: R10 = R1 and L1255: R11 = ( R1 + 1 ) by L1246 , L1247 , L1252 , L1253;
L1256: ( R1 + 1 ) <= D67 by L1246 , L1252 , L1255 , L8;
L1257: (R1 in ( NAT ) & R1 < D67) by L1256 , NAT_1:13 , ORDINAL1:def 12;
thus L1258: thesis by L1257 , L1249 , L1254;
end;

let R10 being set;
assume L1259: R10 in ( dom C106 );
consider C107 being (Element of ( NAT )) such that L1260: R10 = C107 and L1261: C107 < D67 by L1259 , L1249;
L1262: (1 <= ( C107 + 1 ) & ( C107 + 1 ) <= D67) by L1261 , NAT_1:11 , NAT_1:13;
L1263: ( C107 + 1 ) in ( Seg D67 ) by L1262;
L1264: (ex R5 being Nat st (( R17 . ( C107 + 1 ) ) = R5 & ( C107 + 1 ) = ( R5 + 1 ))) by L1263 , L1247;
thus L1265: thesis by L1264 , L1246 , L1260 , L1263 , FUNCT_1:def 3;
end;
L1266: ( dom ( C106 * R17 ) ) = ( Seg D67 ) by L1248 , L1246 , RELAT_1:27;
reconsider D69 = ( C106 * R17 ) as FinSequence by L1266 , L97;
take D69;
thus L1267: thesis by L1239 , L1248 , RELAT_1:28;
end;

given R19 being FinSequence such that
L1268: R24 = ( rng R19 );

consider R4 being Nat such that L1269: ( dom R19 ) = ( Seg R4 ) by L97;
L1270: R4 = { B91 where B91 is (Element of ( NAT )) : B91 < R4 } by AXIOMS:4;
L1271: (for R10 being set holds (R10 in R4 implies (ex R11 being set st S1[ R10 , R11 ])))
proof
let R10 being set;
assume L1272: R10 in R4;
L1273: (ex B92 being (Element of ( NAT )) st (R10 = B92 & B92 < R4)) by L1272 , L1270;
reconsider D70 = R10 as Nat by L1273;
take ( D70 + 1 );
thus L1274: thesis;
end;
consider R17 being Function such that L1275: ( dom R17 ) = R4 and L1276: (for R10 being set holds (R10 in R4 implies S1[ R10 , ( R17 . R10 ) ])) from CLASSES1:sch 1(L1271);
take ( R19 * R17 );
L1277: ( rng R17 ) = ( dom R19 )
proof
thus L1278: ( rng R17 ) c= ( dom R19 )
proof
let R10 being set;
assume L1279: R10 in ( rng R17 );
consider R11 being set such that L1280: R11 in ( dom R17 ) and L1281: R10 = ( R17 . R11 ) by L1279 , FUNCT_1:def 3;
consider R1 being Nat such that L1282: R11 = R1 and L1283: R10 = ( R1 + 1 ) by L1275 , L1276 , L1280 , L1281;
L1284: (ex B93 being (Element of ( NAT )) st (R1 = B93 & B93 < R4)) by L1270 , L1275 , L1280 , L1282;
L1285: (1 <= ( R1 + 1 ) & ( R1 + 1 ) <= R4) by L1284 , NAT_1:11 , NAT_1:13;
thus L1286: thesis by L1285 , L1269 , L1283;
end;

let R10 being set;
assume L1287: R10 in ( dom R19 );
reconsider D71 = R10 as (Element of ( NAT )) by L1287;
L1288: 1 <= D71 by L1269 , L1287 , L8;
consider C108 being Nat such that L1289: D71 = ( 1 + C108 ) by L1288 , NAT_1:10;
reconsider D72 = C108 as (Element of ( NAT )) by ORDINAL1:def 12;
L1290: D71 <= R4 by L1269 , L1287 , L8;
L1291: D72 < R4 by L1290 , L1289 , NAT_1:13;
L1292: D72 in R4 by L1291 , L1270;
L1293: (ex R1 being Nat st (D72 = R1 & ( R17 . D72 ) = ( R1 + 1 ))) by L1292 , L1276;
thus L1294: thesis by L1293 , L1275 , L1289 , L1292 , FUNCT_1:def 3;
end;
thus L1295: ( rng ( R19 * R17 ) ) = R24 by L1277 , L1268 , RELAT_1:28;
L1296: ( dom ( R19 * R17 ) ) = ( dom R17 ) by L1277 , RELAT_1:27;
thus L1297: thesis by L1296 , L1275 , ORDINAL1:def 12;
end;
begin
theorem
L1298: (for R3 being Nat holds (for R4 being Nat holds (( Seg R4 ) , ( Seg R3 ) are_equipotent  implies R4 = R3)))
proof
let R3 being Nat;
let R4 being Nat;
defpred S14[ Nat ] means (ex R4 being Nat st (( Seg R4 ) , ( Seg $1 ) are_equipotent  & R4 <> $1));
assume L1299: (( Seg R4 ) , ( Seg R3 ) are_equipotent  & R4 <> R3);
L1300: (ex B94 being Nat st S14[ B94 ]) by L1299;
consider C109 being Nat such that L1301: S14[ C109 ] and L1302: (for B95 being Nat holds (S14[ B95 ] implies C109 <= B95)) from NAT_1:sch 5(L1300);
consider R4 being Nat such that L1303: ( Seg R4 ) , ( Seg C109 ) are_equipotent  and L1304: R4 <> C109 by L1301;
L1305: (ex R17 being Function st (R17 is  one-to-one & ( dom R17 ) = ( Seg R4 ) & ( rng R17 ) = ( Seg C109 ))) by L1303 , WELLORD2:def 4;
L1306:
now
assume L1307: C109 = ( 0 );
L1308: ( Seg C109 ) = ( {} ) by L1307;
L1309: ( Seg C109 ) = ( Seg R4 ) by L1308 , L1305 , RELAT_1:42;
thus L1310: contradiction by L1309 , L1304 , L63;
end;
consider C110 being Nat such that L1311: C109 = ( C110 + 1 ) by L1306 , NAT_1:6;
L1312:
now
assume L1313: R4 = ( 0 );
L1314: ( Seg R4 ) = ( {} ) by L1313;
L1315: ( Seg C109 ) = ( Seg R4 ) by L1314 , L1305 , RELAT_1:42;
thus L1316: contradiction by L1315 , L1304 , L63;
end;
consider C111 being Nat such that L1317: R4 = ( C111 + 1 ) by L1312 , NAT_1:6;
reconsider D73 = C110 , D74 = C111 as (Element of ( NAT )) by ORDINAL1:def 12;
L1318: R4 in ( Seg R4 ) by L1312 , L42;
L1319: C109 in ( Seg C109 ) by L1306 , L42;
L1320: (not ( D74 + 1 ) <= D74) by NAT_1:13;
L1321: (not ( D73 + 1 ) <= D73) by NAT_1:13;
L1322: (not R4 in ( Seg D74 )) by L1317 , L1320 , L8;
L1323: (not C109 in ( Seg D73 )) by L1311 , L1321 , L8;
L1324: ( ( Seg D74 ) /\ { R4 } ) c= ( {} )
proof
let R10 being set;
assume L1325: R10 in ( ( Seg D74 ) /\ { R4 } );
L1326: (R10 in ( Seg D74 ) & R10 in { R4 }) by L1325 , XBOOLE_0:def 4;
thus L1327: thesis by L1326 , L1322 , TARSKI:def 1;
end;
L1328: ( ( Seg D73 ) /\ { C109 } ) c= ( {} )
proof
let R10 being set;
assume L1329: R10 in ( ( Seg D73 ) /\ { C109 } );
L1330: (R10 in ( Seg D73 ) & R10 in { C109 }) by L1329 , XBOOLE_0:def 4;
thus L1331: thesis by L1330 , L1323 , TARSKI:def 1;
end;
L1332: ( Seg R4 ) = ( ( Seg D74 ) \/ { R4 } ) by L1317 , L72;
L1333: ( Seg C109 ) = ( ( Seg D73 ) \/ { C109 } ) by L1311 , L72;
L1334: ( ( Seg D74 ) /\ { R4 } ) = ( {} ) by L1324;
L1335: ( ( Seg D73 ) /\ { C109 } ) = ( {} ) by L1328;
L1336: (( ( Seg D74 ) \ { R4 } ) = ( ( ( Seg D74 ) \/ { R4 } ) \ { R4 } ) & ( Seg D74 ) misses { R4 }) by L1334 , XBOOLE_0:def 7 , XBOOLE_1:40;
L1337: (( ( Seg D73 ) \ { C109 } ) = ( ( ( Seg D73 ) \/ { C109 } ) \ { C109 } ) & ( Seg D73 ) misses { C109 }) by L1335 , XBOOLE_0:def 7 , XBOOLE_1:40;
L1338: ( ( Seg R4 ) \ { R4 } ) = ( Seg D74 ) by L1332 , L1336 , XBOOLE_1:83;
L1339: ( ( Seg C109 ) \ { C109 } ) = ( Seg D73 ) by L1333 , L1337 , XBOOLE_1:83;
thus L1340: contradiction by L1339 , L1302 , L1303 , L1304 , L1311 , L1317 , L1318 , L1319 , L1321 , L1338 , CARD_1:34;
end;
theorem
L1341: (for R4 being Nat holds ( Seg R4 ) , R4 are_equipotent ) by L138;
theorem
L1342: (for R4 being Nat holds ( card ( Seg R4 ) ) = ( card R4 )) by L160;
theorem
L1343: (for R15 being set holds (R15 is  finite implies (ex R4 being Nat st R15 , ( Seg R4 ) are_equipotent )))
proof
let R15 being set;
assume L1344: R15 is  finite;
consider C112 being Nat such that L1345: R15 , C112 are_equipotent  by L1344 , CARD_1:43;
take C112;
L1346: C112 , ( Seg C112 ) are_equipotent  by L138;
thus L1347: thesis by L1346 , L1345 , WELLORD2:15;
end;
theorem
L1348: (for B96 being Nat holds ( card ( Seg B96 ) ) = B96)
proof
let C113 being Nat;
L1349: ( Seg C113 ) , C113 are_equipotent  by L138;
thus L1350: thesis by L1349 , CARD_1:def 2;
end;
begin
registration
let C114 being set;
cluster <* C114 *> -> non  empty;
coherence;
end;
registration
cluster non  empty for FinSequence;
existence
proof
take <* ( 0 ) *>;
thus L1352: thesis;
end;
end;
registration
let C115 being FinSequence;
let C116 being non  empty FinSequence;
cluster ( C115 ^ C116 ) -> non  empty;
coherence by L520;
cluster ( C116 ^ C115 ) -> non  empty;
coherence by L520;
end;
registration
let C117 , C118 being set;
cluster <* C117 , C118 *> -> non  empty;
coherence;
let C119 being set;
cluster <* C117 , C118 , C119 *> -> non  empty;
coherence;
end;
scheme SeqDEx { F5() -> non  empty set , F6() -> Nat , P4[set , set] } : (ex B97 being (FinSequence of F5()) st (( dom B97 ) = ( Seg F6() ) & (for R1 being Nat holds (R1 in ( Seg F6() ) implies P4[ R1 , ( B97 . R1 ) ]))))
provided
L1356: (for R1 being Nat holds (R1 in ( Seg F6() ) implies (ex B98 being (Element of F5()) st P4[ R1 , B98 ])))
proof
L1357: (for B99 being set holds (B99 in ( Seg F6() ) implies (ex R10 being set st (R10 in F5() & P4[ B99 , R10 ]))))
proof
let R11 being set;
assume L1358: R11 in ( Seg F6() );
reconsider D75 = R11 as (Element of ( NAT )) by L1358;
consider C120 being (Element of F5()) such that L1359: P4[ D75 , C120 ] by L1356 , L1358;
take C120;
thus L1360: thesis by L1359;
end;
consider C121 being Function such that L1361: ( dom C121 ) = ( Seg F6() ) and L1362: ( rng C121 ) c= F5() and L1363: (for B100 being set holds (B100 in ( Seg F6() ) implies P4[ B100 , ( C121 . B100 ) ])) from FUNCT_1:sch 5(L1357);
reconsider D76 = C121 as FinSequence by L1361 , L97;
reconsider D77 = D76 as (FinSequence of F5()) by L1362 , L254;
take D77;
thus L1364: thesis by L1361 , L1363;
end;
definition
let R28 being Nat;
let C122 being FinSequence;
func C122 | R28 -> FinSequence equals 
( C122 | ( Seg R28 ) );
coherence by L238;
end;
definition
let R26 being set;
let R28 being Nat;
let R27 being (FinSequence of R26);
redefine func R27 | R28 -> (FinSequence of R26);

coherence by L268;
end;
registration
let C123 being FinSequence;
cluster ( C123 | ( 0 ) ) ->  empty;
coherence;
end;
theorem
L1368: (for R9 being Nat holds (for R20 being FinSequence holds (( len R20 ) <= R9 implies ( R20 | R9 ) = R20)))
proof
let R9 being Nat;
let R20 being FinSequence;
assume L1369: ( len R20 ) <= R9;
L1370: ( Seg ( len R20 ) ) c= ( Seg R9 ) by L1369 , L49;
L1371: ( dom R20 ) c= ( Seg R9 ) by L1370 , L167;
thus L1372: thesis by L1371 , RELAT_1:68;
end;
theorem
L1373: (for R9 being Nat holds (for R20 being FinSequence holds (R9 <= ( len R20 ) implies ( len ( R20 | R9 ) ) = R9)))
proof
let R9 being Nat;
let R20 being FinSequence;
assume L1374: R9 <= ( len R20 );
L1375: ( Seg R9 ) c= ( Seg ( len R20 ) ) by L1374 , L49;
L1376: ( Seg R9 ) c= ( dom R20 ) by L1375 , L167;
L1377: (R9 in ( NAT ) & ( Seg R9 ) = ( dom ( R20 | R9 ) )) by L1376 , ORDINAL1:def 12 , RELAT_1:62;
thus L1378: thesis by L1377 , L167;
end;
theorem
L1379: (for R4 being Nat holds (for R9 being Nat holds (for R28 being Nat holds (R9 in ( Seg R4 ) implies ( R9 + R28 ) in ( Seg ( R4 + R28 ) )))))
proof
let R4 being Nat;
let R9 being Nat;
let R28 being Nat;
assume L1380: R9 in ( Seg R4 );
L1381: 1 <= R9 by L1380 , L8;
L1382: R9 <= R4 by L1380 , L8;
L1383: R9 <= ( R9 + R28 ) by NAT_1:11;
L1384: 1 <= ( R9 + R28 ) by L1383 , L1381 , XXREAL_0:2;
L1385: ( R9 + R28 ) <= ( R4 + R28 ) by L1382 , XREAL_1:7;
thus L1386: thesis by L1385 , L1384 , L8;
end;
theorem
L1387: (for R4 being Nat holds (for R9 being Nat holds (for R28 being Nat holds ((R9 > ( 0 ) & ( R9 + R28 ) in ( Seg ( R4 + R28 ) )) implies (R9 in ( Seg R4 ) & R9 in ( Seg ( R4 + R28 ) ))))))
proof
let R4 being Nat;
let R9 being Nat;
let R28 being Nat;
assume that
L1388: R9 > ( 0 )
and
L1389: ( R9 + R28 ) in ( Seg ( R4 + R28 ) );
L1390: 1 = ( ( 0 ) + 1 );
L1391: 1 <= R9 by L1390 , L1388 , NAT_1:13;
L1392: ( R9 + R28 ) <= ( R4 + R28 ) by L1389 , L8;
L1393: R9 <= R4 by L1392 , XREAL_1:6;
thus L1394: R9 in ( Seg R4 ) by L1393 , L1391 , L8;
L1395: R9 <= ( R9 + R28 ) by NAT_1:11;
L1396: R9 <= ( R4 + R28 ) by L1395 , L1392 , XXREAL_0:2;
thus L1397: thesis by L1396 , L1391 , L8;
end;
definition
let C124 being Relation;
func C124 [*] -> Relation means 
(for B101 , B102 being set holds ([ B101 , B102 ] in it iff (B101 in ( field C124 ) & B102 in ( field C124 ) & (ex B103 being FinSequence st (( len B103 ) >= 1 & ( B103 . 1 ) = B101 & ( B103 . ( len B103 ) ) = B102 & (for B104 being Nat holds ((B104 >= 1 & B104 < ( len B103 )) implies [ ( B103 . B104 ) , ( B103 . ( B104 + 1 ) ) ] in C124)))))));
existence
proof
defpred S15[ set , set ] means (ex B105 being FinSequence st (( len B105 ) >= 1 & ( B105 . 1 ) = $1 & ( B105 . ( len B105 ) ) = $2 & (for B106 being Nat holds ((B106 >= 1 & B106 < ( len B105 )) implies [ ( B105 . B106 ) , ( B105 . ( B106 + 1 ) ) ] in C124))));
thus L1398: (ex B107 being Relation st (for B108 , B109 being set holds ([ B108 , B109 ] in B107 iff (B108 in ( field C124 ) & B109 in ( field C124 ) & S15[ B108 , B109 ])))) from RELAT_1:sch 1;
end;
uniqueness
proof
let C125 , C126 being Relation;
assume that
L1399: (for B110 , B111 being set holds ([ B110 , B111 ] in C125 iff (B110 in ( field C124 ) & B111 in ( field C124 ) & (ex B112 being FinSequence st (( len B112 ) >= 1 & ( B112 . 1 ) = B110 & ( B112 . ( len B112 ) ) = B111 & (for B113 being Nat holds ((B113 >= 1 & B113 < ( len B112 )) implies [ ( B112 . B113 ) , ( B112 . ( B113 + 1 ) ) ] in C124)))))))
and
L1400: (for B114 , B115 being set holds ([ B114 , B115 ] in C126 iff (B114 in ( field C124 ) & B115 in ( field C124 ) & (ex B116 being FinSequence st (( len B116 ) >= 1 & ( B116 . 1 ) = B114 & ( B116 . ( len B116 ) ) = B115 & (for B117 being Nat holds ((B117 >= 1 & B117 < ( len B116 )) implies [ ( B116 . B117 ) , ( B116 . ( B117 + 1 ) ) ] in C124)))))));
let C127 , C128 being set;
thus L1401: ([ C127 , C128 ] in C125 implies [ C127 , C128 ] in C126)
proof
assume L1402: [ C127 , C128 ] in C125;
L1403: (C127 in ( field C124 ) & C128 in ( field C124 )) by L1402 , L1399;
L1404: (ex B118 being FinSequence st (( len B118 ) >= 1 & ( B118 . 1 ) = C127 & ( B118 . ( len B118 ) ) = C128 & (for B119 being Nat holds ((B119 >= 1 & B119 < ( len B118 )) implies [ ( B118 . B119 ) , ( B118 . ( B119 + 1 ) ) ] in C124)))) by L1399 , L1402;
thus L1405: thesis by L1404 , L1400 , L1403;
end;

assume L1406: [ C127 , C128 ] in C126;
L1407: (C127 in ( field C124 ) & C128 in ( field C124 )) by L1406 , L1400;
L1408: (ex B120 being FinSequence st (( len B120 ) >= 1 & ( B120 . 1 ) = C127 & ( B120 . ( len B120 ) ) = C128 & (for B121 being Nat holds ((B121 >= 1 & B121 < ( len B120 )) implies [ ( B120 . B121 ) , ( B120 . ( B121 + 1 ) ) ] in C124)))) by L1400 , L1406;
thus L1409: thesis by L1408 , L1399 , L1407;
end;
end;
theorem
L1411: (for B122 , B123 being set holds (B122 c= B123 implies ( B122 * ) c= ( B123 * )))
proof
let C129 , C130 being set;
assume that
L1412: C129 c= C130;
let C131 being set;
assume L1413: C131 in ( C129 * );
reconsider D78 = C131 as (FinSequence of C129) by L1413 , L733;
L1414: ( rng D78 ) c= C129 by L254;
L1415: ( rng D78 ) c= C130 by L1414 , L1412 , XBOOLE_1:1;
L1416: C131 is (FinSequence of C130) by L1415 , L254;
thus L1417: thesis by L1416 , L733;
end;
registration
let C132 being set;
cluster ( C132 * ) ->  functional;
coherence
proof
let C133 being set;
thus L1418: thesis by L733;
end;
end;
theorem
L1420: (for B124 , B125 being FinSequence holds (B124 c= B125 implies ( len B124 ) <= ( len B125 )))
proof
let C134 , C135 being FinSequence;
assume L1421: C134 c= C135;
L1422: ( card C134 ) c= ( card C135 ) by L1421 , CARD_1:11;
thus L1423: thesis by L1422 , NAT_1:39;
end;
theorem
L1424: (for B126 , B127 being FinSequence holds (for B128 being Nat holds ((1 <= B128 & B128 <= ( len B126 )) implies ( ( B126 ^ B127 ) . B128 ) = ( B126 . B128 ))))
proof
let C136 , C137 being FinSequence;
let C138 being Nat;
assume L1425: (1 <= C138 & C138 <= ( len C136 ));
L1426: (C138 in ( NAT ) & ( Seg ( len C136 ) ) = ( dom C136 )) by L167 , ORDINAL1:def 12;
L1427: C138 in ( dom C136 ) by L1426 , L1425;
thus L1428: thesis by L1427 , L293;
end;
theorem
L1429: (for B129 , B130 being FinSequence holds (for B131 being Nat holds ((1 <= B131 & B131 <= ( len B130 )) implies ( ( B129 ^ B130 ) . ( ( len B129 ) + B131 ) ) = ( B130 . B131 ))))
proof
let C139 , C140 being FinSequence;
let C141 being Nat;
assume L1430: (1 <= C141 & C141 <= ( len C140 ));
L1431: (( ( len C139 ) + 1 ) <= ( ( len C139 ) + C141 ) & ( ( len C139 ) + C141 ) <= ( ( len C139 ) + ( len C140 ) )) by L1430 , XREAL_1:6;
thus L1432: ( ( C139 ^ C140 ) . ( ( len C139 ) + C141 ) ) = ( C140 . ( ( ( len C139 ) + C141 ) - ( len C139 ) ) ) by L1431 , L371
.= ( C140 . C141 );
end;
scheme FinSegRng { F7 , F8() -> Nat , F9(set) -> set , P5[set] } : { F9(B132) where B132 is (Element of ( NAT )) : (F7() <= B132 & B132 <= F8() & P5[ B132 ]) } is  finite
proof
set D79 = { F9(B133) where B133 is (Element of ( NAT )) : (F7() <= B133 & B133 <= F8() & P5[ B133 ]) };
deffunc H4(Nat) = F9(( $1 - 1 ));
consider C142 being FinSequence such that L1433: ( len C142 ) = ( F8() + 1 ) and L1434: (for R1 being Nat holds (R1 in ( dom C142 ) implies ( C142 . R1 ) = H4(R1))) from SeqLambda;
L1435: D79 c= ( rng C142 )
proof
let C143 being set;
assume L1436: C143 in D79;
consider C144 being (Element of ( NAT )) such that L1437: C143 = F9(C144) and L1438: F7() <= C144 and L1439: C144 <= F8() and L1440: P5[ C144 ] by L1436;
L1441: (1 <= ( C144 + 1 ) & ( C144 + 1 ) <= ( F8() + 1 )) by L1439 , NAT_1:11 , XREAL_1:6;
L1442: ( C144 + 1 ) in ( Seg ( F8() + 1 ) ) by L1441;
L1443: ( C144 + 1 ) in ( dom C142 ) by L1442 , L1433 , L167;
L1444: ( C142 . ( C144 + 1 ) ) = F9(( ( C144 + 1 ) - 1 )) by L1443 , L1434
.= F9(C144);
thus L1445: thesis by L1444 , L1437 , L1443 , FUNCT_1:def 3;
end;
thus L1446: thesis by L1435;
end;
L1447: (1 in ( Seg 3 ) & 2 in ( Seg 3 ));
L1448: 3 in ( Seg 3 );
L1449: (1 in ( Seg 4 ) & 2 in ( Seg 4 ));
L1450: (3 in ( Seg 4 ) & 4 in ( Seg 4 ));
L1451: (1 in ( Seg 5 ) & 2 in ( Seg 5 ));
L1452: (3 in ( Seg 5 ) & 4 in ( Seg 5 ));
L1453: 5 in ( Seg 5 );
L1454: (1 in ( Seg 6 ) & 2 in ( Seg 6 ));
L1455: (3 in ( Seg 6 ) & 4 in ( Seg 6 ));
L1456: (5 in ( Seg 6 ) & 6 in ( Seg 6 ));
L1457: (1 in ( Seg 7 ) & 2 in ( Seg 7 ));
L1458: (3 in ( Seg 7 ) & 4 in ( Seg 7 ));
L1459: (5 in ( Seg 7 ) & 6 in ( Seg 7 ));
L1460: 7 in ( Seg 7 );
L1461: (1 in ( Seg 8 ) & 2 in ( Seg 8 ));
L1462: (3 in ( Seg 8 ) & 4 in ( Seg 8 ));
L1463: (5 in ( Seg 8 ) & 6 in ( Seg 8 ));
L1464: (7 in ( Seg 8 ) & 8 in ( Seg 8 ));
theorem
L1465: (for B134 , B135 , B136 , B137 being set holds (for B138 being FinSequence holds (B138 = ( ( ( <* B134 *> ^ <* B135 *> ) ^ <* B136 *> ) ^ <* B137 *> ) implies (( len B138 ) = 4 & ( B138 . 1 ) = B134 & ( B138 . 2 ) = B135 & ( B138 . 3 ) = B136 & ( B138 . 4 ) = B137))))
proof
let C145 , C146 , C147 , C148 being set;
let C149 being FinSequence;
assume L1466: C149 = ( ( ( <* C145 *> ^ <* C146 *> ) ^ <* C147 *> ) ^ <* C148 *> );
set D80 = ( ( <* C145 *> ^ <* C146 *> ) ^ <* C147 *> );
L1467: D80 = <* C145 , C146 , C147 *>;
L1468: ( len D80 ) = 3 by L1467 , L624;
L1469: (( D80 . 1 ) = C145 & ( D80 . 2 ) = C146) by L1467 , L624;
L1470: ( D80 . 3 ) = C147 by L1467 , L624;
thus L1471: ( len C149 ) = ( ( len D80 ) + ( len <* C148 *> ) ) by L1466 , L368
.= ( 3 + 1 ) by L1468 , L588
.= 4;
L1472: ( dom D80 ) = ( Seg 3 ) by L1468 , L167;
thus L1473: (( C149 . 1 ) = C145 & ( C149 . 2 ) = C146 & ( C149 . 3 ) = C147) by L1472 , L1466 , L1469 , L1470 , L293 , L1447 , L1448;
thus L1474: ( C149 . 4 ) = ( C149 . ( ( len D80 ) + 1 ) ) by L1468
.= C148 by L1466 , L596;
end;
theorem
L1475: (for B139 , B140 , B141 , B142 , B143 being set holds (for B144 being FinSequence holds (B144 = ( ( ( ( <* B139 *> ^ <* B140 *> ) ^ <* B141 *> ) ^ <* B142 *> ) ^ <* B143 *> ) implies (( len B144 ) = 5 & ( B144 . 1 ) = B139 & ( B144 . 2 ) = B140 & ( B144 . 3 ) = B141 & ( B144 . 4 ) = B142 & ( B144 . 5 ) = B143))))
proof
let C150 , C151 , C152 , C153 , C154 being set;
let C155 being FinSequence;
assume L1476: C155 = ( ( ( ( <* C150 *> ^ <* C151 *> ) ^ <* C152 *> ) ^ <* C153 *> ) ^ <* C154 *> );
set D81 = ( ( ( <* C150 *> ^ <* C151 *> ) ^ <* C152 *> ) ^ <* C153 *> );
L1477: ( len D81 ) = 4 by L1465;
L1478: (( D81 . 1 ) = C150 & ( D81 . 2 ) = C151) by L1465;
L1479: (( D81 . 3 ) = C152 & ( D81 . 4 ) = C153) by L1465;
thus L1480: ( len C155 ) = ( ( len D81 ) + ( len <* C154 *> ) ) by L1476 , L368
.= ( 4 + 1 ) by L1477 , L588
.= 5;
L1481: ( dom D81 ) = ( Seg 4 ) by L1477 , L167;
thus L1482: (( C155 . 1 ) = C150 & ( C155 . 2 ) = C151 & ( C155 . 3 ) = C152 & ( C155 . 4 ) = C153) by L1481 , L1476 , L1478 , L1479 , L293 , L1449 , L1450;
thus L1483: ( C155 . 5 ) = ( C155 . ( ( len D81 ) + 1 ) ) by L1477
.= C154 by L1476 , L596;
end;
theorem
L1484: (for B145 , B146 , B147 , B148 , B149 , B150 being set holds (for B151 being FinSequence holds (B151 = ( ( ( ( ( <* B145 *> ^ <* B146 *> ) ^ <* B147 *> ) ^ <* B148 *> ) ^ <* B149 *> ) ^ <* B150 *> ) implies (( len B151 ) = 6 & ( B151 . 1 ) = B145 & ( B151 . 2 ) = B146 & ( B151 . 3 ) = B147 & ( B151 . 4 ) = B148 & ( B151 . 5 ) = B149 & ( B151 . 6 ) = B150))))
proof
let C156 , C157 , C158 , C159 , C160 , C161 being set;
let C162 being FinSequence;
assume L1485: C162 = ( ( ( ( ( <* C156 *> ^ <* C157 *> ) ^ <* C158 *> ) ^ <* C159 *> ) ^ <* C160 *> ) ^ <* C161 *> );
set D82 = ( ( ( ( <* C156 *> ^ <* C157 *> ) ^ <* C158 *> ) ^ <* C159 *> ) ^ <* C160 *> );
L1486: ( len D82 ) = 5 by L1475;
L1487: (( D82 . 1 ) = C156 & ( D82 . 2 ) = C157) by L1475;
L1488: (( D82 . 3 ) = C158 & ( D82 . 4 ) = C159) by L1475;
L1489: ( D82 . 5 ) = C160 by L1475;
thus L1490: ( len C162 ) = ( ( len D82 ) + ( len <* C161 *> ) ) by L1485 , L368
.= ( 5 + 1 ) by L1486 , L588
.= 6;
L1491: ( dom D82 ) = ( Seg 5 ) by L1486 , L167;
thus L1492: (( C162 . 1 ) = C156 & ( C162 . 2 ) = C157 & ( C162 . 3 ) = C158 & ( C162 . 4 ) = C159 & ( C162 . 5 ) = C160) by L1491 , L1485 , L1487 , L1488 , L1489 , L293 , L1451 , L1452 , L1453;
thus L1493: ( C162 . 6 ) = ( C162 . ( ( len D82 ) + 1 ) ) by L1486
.= C161 by L1485 , L596;
end;
theorem
L1494: (for B152 , B153 , B154 , B155 , B156 , B157 , B158 being set holds (for B159 being FinSequence holds (B159 = ( ( ( ( ( ( <* B152 *> ^ <* B153 *> ) ^ <* B154 *> ) ^ <* B155 *> ) ^ <* B156 *> ) ^ <* B157 *> ) ^ <* B158 *> ) implies (( len B159 ) = 7 & ( B159 . 1 ) = B152 & ( B159 . 2 ) = B153 & ( B159 . 3 ) = B154 & ( B159 . 4 ) = B155 & ( B159 . 5 ) = B156 & ( B159 . 6 ) = B157 & ( B159 . 7 ) = B158))))
proof
let C163 , C164 , C165 , C166 , C167 , C168 , C169 being set;
let C170 being FinSequence;
assume L1495: C170 = ( ( ( ( ( ( <* C163 *> ^ <* C164 *> ) ^ <* C165 *> ) ^ <* C166 *> ) ^ <* C167 *> ) ^ <* C168 *> ) ^ <* C169 *> );
set D83 = ( ( ( ( ( <* C163 *> ^ <* C164 *> ) ^ <* C165 *> ) ^ <* C166 *> ) ^ <* C167 *> ) ^ <* C168 *> );
L1496: ( len D83 ) = 6 by L1484;
L1497: (( D83 . 1 ) = C163 & ( D83 . 2 ) = C164) by L1484;
L1498: (( D83 . 3 ) = C165 & ( D83 . 4 ) = C166) by L1484;
L1499: (( D83 . 5 ) = C167 & ( D83 . 6 ) = C168) by L1484;
thus L1500: ( len C170 ) = ( ( len D83 ) + ( len <* C169 *> ) ) by L1495 , L368
.= ( 6 + 1 ) by L1496 , L588
.= 7;
L1501: ( dom D83 ) = ( Seg 6 ) by L1496 , L167;
thus L1502: (( C170 . 1 ) = C163 & ( C170 . 2 ) = C164 & ( C170 . 3 ) = C165 & ( C170 . 4 ) = C166 & ( C170 . 5 ) = C167 & ( C170 . 6 ) = C168) by L1501 , L1495 , L1497 , L1498 , L1499 , L293 , L1454 , L1455 , L1456;
thus L1503: ( C170 . 7 ) = ( C170 . ( ( len D83 ) + 1 ) ) by L1496
.= C169 by L1495 , L596;
end;
theorem
L1504: (for B160 , B161 , B162 , B163 , B164 , B165 , B166 , B167 being set holds (for B168 being FinSequence holds (B168 = ( ( ( ( ( ( ( <* B160 *> ^ <* B161 *> ) ^ <* B162 *> ) ^ <* B163 *> ) ^ <* B164 *> ) ^ <* B165 *> ) ^ <* B166 *> ) ^ <* B167 *> ) implies (( len B168 ) = 8 & ( B168 . 1 ) = B160 & ( B168 . 2 ) = B161 & ( B168 . 3 ) = B162 & ( B168 . 4 ) = B163 & ( B168 . 5 ) = B164 & ( B168 . 6 ) = B165 & ( B168 . 7 ) = B166 & ( B168 . 8 ) = B167))))
proof
let C171 , C172 , C173 , C174 , C175 , C176 , C177 , C178 being set;
let C179 being FinSequence;
assume L1505: C179 = ( ( ( ( ( ( ( <* C171 *> ^ <* C172 *> ) ^ <* C173 *> ) ^ <* C174 *> ) ^ <* C175 *> ) ^ <* C176 *> ) ^ <* C177 *> ) ^ <* C178 *> );
set D84 = ( ( ( ( ( ( <* C171 *> ^ <* C172 *> ) ^ <* C173 *> ) ^ <* C174 *> ) ^ <* C175 *> ) ^ <* C176 *> ) ^ <* C177 *> );
L1506: ( len D84 ) = 7 by L1494;
L1507: (( D84 . 1 ) = C171 & ( D84 . 2 ) = C172) by L1494;
L1508: (( D84 . 3 ) = C173 & ( D84 . 4 ) = C174) by L1494;
L1509: (( D84 . 5 ) = C175 & ( D84 . 6 ) = C176) by L1494;
L1510: ( D84 . 7 ) = C177 by L1494;
thus L1511: ( len C179 ) = ( ( len D84 ) + ( len <* C178 *> ) ) by L1505 , L368
.= ( 7 + 1 ) by L1506 , L588
.= 8;
L1512: ( dom D84 ) = ( Seg 7 ) by L1506 , L167;
thus L1513: (( C179 . 1 ) = C171 & ( C179 . 2 ) = C172 & ( C179 . 3 ) = C173 & ( C179 . 4 ) = C174 & ( C179 . 5 ) = C175 & ( C179 . 6 ) = C176 & ( C179 . 7 ) = C177) by L1512 , L1505 , L1507 , L1508 , L1509 , L1510 , L293 , L1457 , L1458 , L1459 , L1460;
thus L1514: ( C179 . 8 ) = ( C179 . ( ( len D84 ) + 1 ) ) by L1506
.= C178 by L1505 , L596;
end;
theorem
L1515: (for B169 , B170 , B171 , B172 , B173 , B174 , B175 , B176 , B177 being set holds (for B178 being FinSequence holds (B178 = ( ( ( ( ( ( ( ( <* B169 *> ^ <* B170 *> ) ^ <* B171 *> ) ^ <* B172 *> ) ^ <* B173 *> ) ^ <* B174 *> ) ^ <* B175 *> ) ^ <* B176 *> ) ^ <* B177 *> ) implies (( len B178 ) = 9 & ( B178 . 1 ) = B169 & ( B178 . 2 ) = B170 & ( B178 . 3 ) = B171 & ( B178 . 4 ) = B172 & ( B178 . 5 ) = B173 & ( B178 . 6 ) = B174 & ( B178 . 7 ) = B175 & ( B178 . 8 ) = B176 & ( B178 . 9 ) = B177))))
proof
let C180 , C181 , C182 , C183 , C184 , C185 , C186 , C187 , C188 being set;
let C189 being FinSequence;
assume L1516: C189 = ( ( ( ( ( ( ( ( <* C180 *> ^ <* C181 *> ) ^ <* C182 *> ) ^ <* C183 *> ) ^ <* C184 *> ) ^ <* C185 *> ) ^ <* C186 *> ) ^ <* C187 *> ) ^ <* C188 *> );
set D85 = ( ( ( ( ( ( ( <* C180 *> ^ <* C181 *> ) ^ <* C182 *> ) ^ <* C183 *> ) ^ <* C184 *> ) ^ <* C185 *> ) ^ <* C186 *> ) ^ <* C187 *> );
L1517: ( len D85 ) = 8 by L1504;
L1518: (( D85 . 1 ) = C180 & ( D85 . 2 ) = C181) by L1504;
L1519: (( D85 . 3 ) = C182 & ( D85 . 4 ) = C183) by L1504;
L1520: (( D85 . 5 ) = C184 & ( D85 . 6 ) = C185) by L1504;
L1521: (( D85 . 7 ) = C186 & ( D85 . 8 ) = C187) by L1504;
thus L1522: ( len C189 ) = ( ( len D85 ) + ( len <* C188 *> ) ) by L1516 , L368
.= ( 8 + 1 ) by L1517 , L588
.= 9;
L1523: ( dom D85 ) = ( Seg 8 ) by L1517 , L167;
thus L1524: (( C189 . 1 ) = C180 & ( C189 . 2 ) = C181 & ( C189 . 3 ) = C182 & ( C189 . 4 ) = C183 & ( C189 . 5 ) = C184 & ( C189 . 6 ) = C185 & ( C189 . 7 ) = C186 & ( C189 . 8 ) = C187) by L1523 , L1516 , L1518 , L1519 , L1520 , L1521 , L293 , L1461 , L1462 , L1463 , L1464;
thus L1525: ( C189 . 9 ) = ( C189 . ( ( len D85 ) + 1 ) ) by L1517
.= C188 by L1516 , L596;
end;
theorem
L1526: (for B179 being FinSequence holds ( B179 | ( Seg ( 0 ) ) ) = ( {} ));
theorem
L1527: (for B180 , B181 being FinSequence holds ( B180 | ( Seg ( 0 ) ) ) = ( B181 | ( Seg ( 0 ) ) ));
theorem
L1528: (for B182 being non  empty set holds (for B183 being (Element of B182) holds <* B183 *> is (FinSequence of B182)));
theorem
L1529: (for B184 being set holds (for B185 , B186 being (FinSequence of B184) holds ( B185 ^ B186 ) is (FinSequence of B184)));
theorem
L1530: (for R29 being set holds (for R30 being set holds (<* R29 *> = <* R30 *> implies R29 = R30)))
proof
let R29 being set;
let R30 being set;
assume L1531: <* R29 *> = <* R30 *>;
thus L1532: R29 = ( <* R29 *> . 1 ) by L532
.= R30 by L1531 , L532;
end;
theorem
L1533: (for R29 being set holds (for R30 being set holds (for R31 being set holds (for R32 being set holds (<* R29 , R30 *> = <* R31 , R32 *> implies (R29 = R31 & R30 = R32))))))
proof
let R29 being set;
let R30 being set;
let R31 being set;
let R32 being set;
assume L1534: <* R29 , R30 *> = <* R31 , R32 *>;
thus L1535: R29 = ( <* R29 , R30 *> . 1 ) by L601
.= R31 by L1534 , L601;
thus L1536: R30 = ( <* R29 , R30 *> . 2 ) by L601
.= R32 by L1534 , L601;
end;
theorem
L1537: (for R29 being set holds (for R30 being set holds (for R31 being set holds (for R32 being set holds (for R33 being set holds (for R34 being set holds (<* R29 , R30 , R31 *> = <* R32 , R33 , R34 *> implies (R29 = R32 & R30 = R33 & R31 = R34))))))))
proof
let R29 being set;
let R30 being set;
let R31 being set;
let R32 being set;
let R33 being set;
let R34 being set;
assume L1538: <* R29 , R30 , R31 *> = <* R32 , R33 , R34 *>;
thus L1539: R29 = ( <* R29 , R30 , R31 *> . 1 ) by L624
.= R32 by L1538 , L624;
thus L1540: R30 = ( <* R29 , R30 , R31 *> . 2 ) by L624
.= R33 by L1538 , L624;
thus L1541: R31 = ( <* R29 , R30 , R31 *> . 3 ) by L624
.= R34 by L1538 , L624;
end;
registration
cluster non  empty  non-empty for FinSequence;
existence
proof
take <* { ( {} ) } *>;
thus L1542: <* { ( {} ) } *> is non  empty;
assume L1543: ( {} ) in ( rng <* { ( {} ) } *> );
L1544: ( {} ) in { { ( {} ) } } by L1543 , L572;
thus L1545: contradiction by L1544 , TARSKI:def 1;
end;
end;
theorem
L1547: (for R4 being Nat holds (for B187 , B188 being FinSequence holds (B188 = ( B187 | ( Seg R4 ) ) implies ( len B188 ) <= ( len B187 ))))
proof
let R4 being Nat;
let C190 , C191 being FinSequence;
assume L1548: C191 = ( C190 | ( Seg R4 ) );
L1549: ( dom C191 ) = ( ( dom C190 ) /\ ( Seg R4 ) ) by L1548 , RELAT_1:61;
L1550: (( Seg ( len C191 ) ) = ( dom C191 ) & ( Seg ( len C190 ) ) = ( dom C190 )) by L167;
L1551: ( Seg ( len C191 ) ) c= ( Seg ( len C190 ) ) by L1550 , L1549 , XBOOLE_1:17;
thus L1552: thesis by L1551 , L49;
end;
theorem
L1553: (for R4 being Nat holds (for B189 , B190 being FinSequence holds (B190 = ( B189 | ( Seg R4 ) ) implies (ex B191 being FinSequence st B189 = ( B190 ^ B191 )))))
proof
let R4 being Nat;
let C192 , C193 being FinSequence;
assume L1554: C193 = ( C192 | ( Seg R4 ) );
consider C194 being Nat such that L1555: ( len C192 ) = ( ( len C193 ) + C194 ) by L1554 , L1547 , NAT_1:10;
deffunc H5(Nat) = ( C192 . ( ( len C193 ) + $1 ) );
consider C195 being FinSequence such that L1556: (( len C195 ) = C194 & (for R1 being Nat holds (R1 in ( dom C195 ) implies ( C195 . R1 ) = H5(R1)))) from SeqLambda;
take C195;
L1557: ( len C192 ) = ( len ( C193 ^ C195 ) ) by L1555 , L1556 , L368;
L1558:
now
let R1 being Nat;
assume that
L1559: 1 <= R1
and
L1560: R1 <= ( len C192 );
L1561: R1 in ( NAT ) by ORDINAL1:def 12;
L1562:
now
assume L1563: R1 <= ( len C193 );
L1564: R1 in ( Seg ( len C193 ) ) by L1563 , L1559 , L1561;
L1565: ( dom C193 ) = ( Seg ( len C193 ) ) by L167;
L1566: ( ( C193 ^ C195 ) . R1 ) = ( C193 . R1 ) by L1565 , L1564 , L293;
thus L1567: ( C192 . R1 ) = ( ( C193 ^ C195 ) . R1 ) by L1566 , L1554 , L1564 , L1565 , FUNCT_1:47;
end;
L1568:
now
assume L1569: (not R1 <= ( len C193 ));
consider C196 being Nat such that L1570: R1 = ( ( len C193 ) + C196 ) by L1569 , NAT_1:10;
L1571: ( R1 - ( len C193 ) ) = C196 by L1570;
L1572: ( ( C193 ^ C195 ) . R1 ) = ( C195 . C196 ) by L1571 , L1557 , L1560 , L1569 , L382;
L1573: C196 <> ( 0 ) by L1569 , L1570;
L1574: ( ( 0 ) + 1 ) <= C196 by L1573 , NAT_1:13;
L1575: C196 <= ( len C195 ) by L1555 , L1556 , L1560 , L1570 , XREAL_1:6;
L1576: C196 in ( Seg C194 ) by L1575 , L1556 , L1574 , L8;
L1577: C196 in ( dom C195 ) by L1576 , L1556 , L167;
thus L1578: ( C192 . R1 ) = ( ( C193 ^ C195 ) . R1 ) by L1577 , L1556 , L1570 , L1572;
end;
thus L1579: ( C192 . R1 ) = ( ( C193 ^ C195 ) . R1 ) by L1568 , L1562;
end;
thus L1580: thesis by L1558 , L1557 , L228;
end;
registration
let C197 being non  empty set;
cluster non  empty for (FinSequence of C197);
existence
proof
set D86 = the (Element of C197);
take <* D86 *>;
thus L1581: thesis;
end;
end;
definition
let C198 , C199 being FinSequence;
redefine pred C198 = C199
means
(( len C198 ) = ( len C199 ) & (for R1 being Nat holds ((1 <= R1 & R1 <= ( len C198 )) implies ( C198 . R1 ) = ( C199 . R1 ))))
;compatibility by L228;
end;
theorem
L1584: (for B192 , B193 being set holds ((( card B192 ) = ( 0 ) & ( card B193 ) = ( 0 )) implies B192 = B193))
proof
let C200 , C201 being set;
assume that
L1585: ( card C200 ) = ( {} )
and
L1586: ( card C201 ) = ( {} );
L1587: C200 = ( {} ) by L1585;
thus L1588: thesis by L1587 , L1586;
end;
registration
let C202 being non  zero Nat;
cluster ( Seg C202 ) -> non  empty;
coherence;
end;
theorem
L1590: (for B194 being FinSequence holds (for B195 , B196 being Nat holds (B196 <= B195 implies ( ( B194 | B195 ) | B196 ) = ( B194 | B196 ))))
proof
let C203 being FinSequence;
let C204 , C205 being Nat;
assume L1591: C205 <= C204;
L1592: ( Seg C205 ) c= ( Seg C204 ) by L1591 , L49;
thus L1593: thesis by L1592 , RELAT_1:74;
end;
theorem
L1594: (for R4 being Nat holds ( Seg R4 ) = ( ( R4 + 1 ) \ { ( 0 ) } ))
proof
let R4 being Nat;
L1595: ( R4 + 1 ) = { R35 where R35 is (Element of ( NAT )) : R35 < ( R4 + 1 ) } by AXIOMS:4;
thus L1596: ( Seg R4 ) c= ( ( R4 + 1 ) \ { ( 0 ) } )
proof
let R10 being set;
assume L1597: R10 in ( Seg R4 );
consider C206 being (Element of ( NAT )) such that L1598: R10 = C206 and L1599: 1 <= C206 and L1600: C206 <= R4 by L1597;
L1601: C206 < ( R4 + 1 ) by L1600 , NAT_1:13;
L1602: R10 in ( R4 + 1 ) by L1601 , L1595 , L1598;
L1603: (not R10 in { ( 0 ) }) by L1598 , L1599 , TARSKI:def 1;
thus L1604: thesis by L1603 , L1602 , XBOOLE_0:def 5;
end;

let R10 being set;
assume L1605: R10 in ( ( R4 + 1 ) \ { ( 0 ) } );
L1606: R10 in ( R4 + 1 ) by L1605;
L1607: (not R10 in { ( 0 ) }) by L1605 , XBOOLE_0:def 5;
consider R35 being (Element of ( NAT )) such that L1608: R10 = R35 and L1609: R35 < ( R4 + 1 ) by L1595 , L1606;
L1610: R10 <> ( 0 ) by L1607 , TARSKI:def 1;
L1611: ( ( 0 ) + 1 ) = 1;
L1612: 1 <= R35 by L1611 , L1608 , L1610 , NAT_1:13;
L1613: R35 <= R4 by L1609 , NAT_1:13;
thus L1614: thesis by L1613 , L1608 , L1612;
end;
registration
let C207 being Nat;
cluster C207 -element for FinSequence;
existence
proof
set D87 = ( ( Seg C207 ) --> ( {} ) );
L1615: ( dom D87 ) = ( Seg C207 ) by FUNCOP_1:13;
reconsider D88 = D87 as FinSequence by L1615 , L97;
take D88;
L1616: ( Seg ( len D88 ) ) = ( dom D88 ) by L167;
thus L1617: ( len D88 ) = C207 by L1616 , L63 , FUNCOP_1:13;
end;
end;
registration
let C208 being set;
cluster <* C208 *> -> 1 -element;
coherence;
let C209 being set;
cluster <* C208 , C209 *> -> 2 -element;
coherence
proof
thus L1619: ( len <* C208 , C209 *> ) = 2 by L601;
end;
let C210 being set;
cluster <* C208 , C209 , C210 *> -> 3 -element;
coherence
proof
thus L1620: ( len <* C208 , C209 , C210 *> ) = 3 by L624;
end;
end;
definition
let C211 being set;
attr C211 is  FinSequence-membered
means
:L1622: (for R10 being set holds (R10 in C211 implies R10 is FinSequence));
end;
registration
cluster  empty ->  FinSequence-membered for set;
coherence
proof
let C212 being set;
assume that
L1624: C212 is  empty;
let R10 being set;
assume L1625: R10 in C212;
thus L1626: thesis by L1625 , L1624;
end;
end;
registration
cluster non  empty  FinSequence-membered for set;
existence
proof
take D89 = { the FinSequence };
thus L1628: D89 is non  empty;
let R10 being set;
thus L1629: thesis by TARSKI:def 1;
end;
end;
registration
let C213 being set;
cluster ( C213 * ) ->  FinSequence-membered;
coherence
proof
let R10 being set;
assume L1631: R10 in ( C213 * );
thus L1632: R10 is FinSequence by L1631 , L733;
end;
end;
theorem
L1634: (for R10 being set holds (for R26 being set holds (for B197 being Function holds ((B197 in ( R26 * ) & R10 in ( dom B197 )) implies ( B197 . R10 ) in R26))))
proof
let R10 being set;
let R26 being set;
let C214 being Function;
assume that
L1635: C214 in ( R26 * )
and
L1636: R10 in ( dom C214 );
L1637: C214 is (FinSequence of R26) by L1635 , L733;
L1638: ( rng C214 ) c= R26 by L1637 , L254;
L1639: ( C214 . R10 ) in ( rng C214 ) by L1636 , FUNCT_1:3;
thus L1640: ( C214 . R10 ) in R26 by L1639 , L1638;
end;
registration
cluster  FinSequence-membered ->  functional for set;
coherence
proof
let R15 being set;
assume that
L1641: R15 is  FinSequence-membered;
let C215 being set;
assume L1642: C215 in R15;
thus L1643: C215 is Function by L1642 , L1641 , L1622;
end;
end;
theorem
L1645: (for B198 being  FinSequence-membered set holds (ex B199 being non  empty set st B198 c= ( B199 * )))
proof
let C216 being  FinSequence-membered set;
set D90 = { ( rng B200 ) where B200 is (Element of C216) : B200 in C216 };
take D91 = ( succ ( union D90 ) );
let R10 being set;
assume L1646: R10 in C216;
reconsider D92 = R10 as FinSequence by L1646 , L1622;
L1647: ( rng D92 ) in { ( rng B201 ) where B201 is (Element of C216) : B201 in C216 } by L1646;
L1648: ( rng D92 ) c= D91 by L1647 , ORDINAL3:1 , SETFAM_1:41;
L1649: D92 is (FinSequence of D91) by L1648 , L254;
thus L1650: thesis by L1649 , L733;
end;
registration
let C217 being  FinSequence-membered set;
cluster  ->  FinSequence-like for (Element of C217);
coherence
proof
let C218 being (Element of C217);
L1651: (C217 is  empty or C217 is non  empty);
thus L1652: thesis by L1651 , L1622 , SUBSET_1:def 1;
end;
end;
registration
let C219 being  FinSequence-membered set;
cluster  ->  FinSequence-membered for (Subset of C219);
coherence
proof
let C220 being (Subset of C219);
let R10 being set;
assume L1654: R10 in C220;
thus L1655: R10 is FinSequence by L1654;
end;
end;
theorem
L1657: (for R4 being Nat holds (for B202 , B203 being FinSequence holds (B203 = ( B202 | ( Seg R4 ) ) implies ( len B203 ) <= R4)))
proof
let R4 being Nat;
let C221 , C222 being FinSequence;
assume L1658: C222 = ( C221 | ( Seg R4 ) );
L1659: ( dom C222 ) = ( ( dom C221 ) /\ ( Seg R4 ) ) by L1658 , RELAT_1:61;
L1660: ( Seg ( len C222 ) ) = ( dom C222 ) by L167;
L1661: ( Seg ( len C222 ) ) c= ( Seg R4 ) by L1660 , L1659 , XBOOLE_1:17;
thus L1662: thesis by L1661 , L49;
end;
theorem
L1663: (for B204 , B205 being FinSequence holds ((B204 = ( B204 ^ B205 ) or B204 = ( B205 ^ B204 )) implies B205 = ( {} )))
proof
let C223 , C224 being FinSequence;
assume that
L1664: (C223 = ( C223 ^ C224 ) or C223 = ( C224 ^ C223 ));
L1665: (( len ( C223 ^ C224 ) ) = ( ( len C223 ) + ( len C224 ) ) & ( len ( C224 ^ C223 ) ) = ( ( len C224 ) + ( len C223 ) )) by L368;
thus L1666: thesis by L1665 , L1664;
end;
theorem
L1667: (for R10 being set holds (for B206 , B207 being FinSequence holds (( B206 ^ B207 ) = <* R10 *> implies ((B206 = <* R10 *> & B207 = ( {} )) or (B206 = ( {} ) & B207 = <* R10 *>)))))
proof
let R10 being set;
let C225 , C226 being FinSequence;
assume L1668: ( C225 ^ C226 ) = <* R10 *>;
L1669: 1 = ( len ( C225 ^ C226 ) ) by L1668 , L588
.= ( ( len C225 ) + ( len C226 ) ) by L368;
L1670:
now
assume L1671: ( len C225 ) = ( 0 );
thus L1672: C225 = ( {} ) by L1671;
thus L1673: C226 = <* R10 *> by L1672 , L1668 , L511;
end;
L1674:
now
assume L1675: ( len C225 ) <> ( 0 );
L1676: ( ( 0 ) + 1 ) <= ( len C225 ) by L1675 , NAT_1:13;
L1677: ( len C225 ) <= 1 by L1669 , NAT_1:11;
L1678: ( len C225 ) = 1 by L1677 , L1676 , XXREAL_0:1;
thus L1679: C226 = ( {} ) by L1678 , L1669;
thus L1680: C225 = <* R10 *> by L1679 , L1668 , L511;
end;
thus L1681: thesis by L1674 , L1670;
end;
theorem
L1682: (for R4 being Nat holds (for B208 being R4 -element FinSequence holds ( dom B208 ) = ( Seg R4 )))
proof
let R4 being Nat;
let C227 being R4 -element FinSequence;
L1683: ( len C227 ) = R4 by CARD_1:def 7;
thus L1684: ( dom C227 ) = ( Seg R4 ) by L1683 , L167;
end;
registration
let R4 being Nat;
let R35 being (Element of ( NAT ));
let C228 being R4 -element FinSequence;
let C229 being R35 -element FinSequence;
cluster ( C228 ^ C229 ) -> ( R4 + R35 ) -element;
coherence
proof
L1685: (( len C228 ) = R4 & ( len C229 ) = R35) by CARD_1:def 7;
thus L1686: ( len ( C228 ^ C229 ) ) = ( R4 + R35 ) by L1685 , L368;
end;
end;
registration
cluster  increasing ->  one-to-one for  real-valued  real-valued  real-valued  real-valued FinSequence;
coherence
proof
let C230 being  real-valued FinSequence;
assume L1688: C230 is  increasing;
let C231 , C232 being set;
assume that
L1689: (C231 in ( dom C230 ) & C232 in ( dom C230 ))
and
L1690: ( C230 . C231 ) = ( C230 . C232 );
reconsider D93 = C231 , D94 = C232 as (Element of ( NAT )) by L1689;
L1691: (D93 <= D94 & D93 >= D94) by L1688 , L1689 , L1690 , VALUED_0:def 13;
thus L1692: thesis by L1691 , XXREAL_0:1;
end;
end;
theorem
L1694: (for B209 , B210 being set holds (B209 in ( dom <* B210 *> ) implies B209 = 1))
proof
let C233 , C234 being set;
assume L1695: C233 in ( dom <* C234 *> );
L1696: C233 in ( Seg 1 ) by L1695 , L572;
thus L1697: thesis by L1696 , L17 , TARSKI:def 1;
end;
registration
let R15 being set;
cluster R15 -valued for FinSequence;
existence
proof
take ( <*> R15 );
thus L1698: thesis;
end;
end;
registration
let C235 being  FinSequence-membered set;
let C236 being C235 -valued Function;
let C237 being set;
cluster ( C236 . C237 ) ->  FinSequence-like;
coherence
proof
per cases ;
suppose L1700: C237 in ( dom C236 );

L1701: ( C236 . C237 ) in ( rng C236 ) by L1700 , FUNCT_1:def 3;
L1702: ( rng C236 ) c= C235 by RELAT_1:def 19;
thus L1703: thesis by L1702 , L1701;
end;
suppose L1704: (not C237 in ( dom C236 ));

thus L1705: thesis by L1704 , FUNCT_1:def 2;
end;
end;
end;
