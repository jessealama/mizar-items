:: Filters - Part I. Implicative Lattices
::  by Grzegorz Bancerek
::
:: Received July 3, 1990
:: Copyright (c) 1990-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies LATTICES, SUBSET_1, XBOOLE_0, PBOOLE, EQREL_1, CARD_FIL,
      STRUCT_0, TARSKI, ORDINAL1, ZFMISC_1, SETFAM_1, INT_2, XBOOLEAN, BINOP_1,
      REALSET1, FUNCT_1, RELAT_1, MCART_1, XXREAL_2, RELAT_2, FILTER_0;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, SETFAM_1, FUNCT_1, XTUPLE_0,
      MCART_1, ORDINAL1, RELAT_2, FUNCT_2, BINOP_1, REALSET1, STRUCT_0,
      LATTICES, DOMAIN_1, RELAT_1, RELSET_1, EQREL_1;
 constructors SETFAM_1, RELAT_2, ORDINAL1, PARTFUN1, BINOP_1, REALSET1,
      LATTICES, RELSET_1, XTUPLE_0;
 registrations XBOOLE_0, SUBSET_1, RELSET_1, STRUCT_0, LATTICES, XTUPLE_0;
 requirements SUBSET, BOOLE;
 definitions TARSKI, XBOOLE_0, LATTICES, RELAT_1, RELAT_2, BINOP_1, REALSET1,
      STRUCT_0, XTUPLE_0;
 theorems TARSKI, ZFMISC_1, SETFAM_1, FUNCT_1, MCART_1, FUNCT_2, LATTICES,
      RELAT_1, ORDERS_1, RLSUB_2, WELLSET1, RELSET_1, ORDINAL1, XBOOLE_0,
      XBOOLE_1, PARTFUN1, RELAT_2, SUBSET_1;
 schemes RELAT_1, XBOOLE_0;

begin
theorem
L1: (for B1 being  join-associative  join-commutative  meet-commutative  join-absorbing  meet-absorbing non  empty LattStr holds (for B2 , B3 , B4 being (Element of B1) holds (B2 [= B3 implies ( B4 "\/" B2 ) [= ( B4 "\/" B3 ))))
proof
let C1 being  join-associative  join-commutative  meet-commutative  join-absorbing  meet-absorbing non  empty LattStr;
let C2 , C3 , C4 being (Element of C1);
assume L2: ( C2 "\/" C3 ) = C3;
thus L3: ( ( C4 "\/" C2 ) "\/" ( C4 "\/" C3 ) ) = ( ( C4 "\/" ( C4 "\/" C2 ) ) "\/" C3 ) by LATTICES:def 5
.= ( ( ( C4 "\/" C4 ) "\/" C2 ) "\/" C3 ) by LATTICES:def 5
.= ( ( C4 "\/" C2 ) "\/" C3 )
.= ( C4 "\/" C3 ) by L2 , LATTICES:def 5;
end;
theorem
L4: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R4 being (Element of R1) holds (for R6 being (Element of R1) holds (R2 [= R6 implies ( R2 "/\" R4 ) [= R6)))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
let R4 being (Element of R1);
let R6 being (Element of R1);
assume L5: R2 [= R6;
L6: ( R2 "/\" R4 ) [= ( R6 "/\" R4 ) by L5 , LATTICES:9;
L7: ( R6 "/\" R4 ) [= R6 by LATTICES:6;
thus L8: thesis by L7 , L6 , LATTICES:7;
end;
theorem
L9: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R4 being (Element of R1) holds (for R6 being (Element of R1) holds (R2 [= R6 implies R2 [= ( R4 "\/" R6 ))))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
let R4 being (Element of R1);
let R6 being (Element of R1);
assume L10: R2 [= R6;
L11: ( R2 "\/" R4 ) [= ( R6 "\/" R4 ) by L10 , L1;
L12: R2 [= ( R2 "\/" R4 ) by LATTICES:5;
thus L13: thesis by L12 , L11 , LATTICES:7;
end;
theorem
L14: (for B5 being  join-absorbing  join-commutative  join-associative non  empty LattStr holds (for B6 , B7 , B8 , B9 being (Element of B5) holds ((B6 [= B7 & B8 [= B9) implies ( B6 "\/" B8 ) [= ( B7 "\/" B9 ))))
proof
let C5 being  join-absorbing  join-commutative  join-associative non  empty LattStr;
let C6 , C7 , C8 , C9 being (Element of C5);
assume L15: C6 [= C7;
L16: C7 = ( C6 "\/" C7 ) by L15 , LATTICES:def 3;
assume L17: C8 [= C9;
L18: ( C7 "\/" C9 ) = ( ( C6 "\/" C7 ) "\/" ( C8 "\/" C9 ) ) by L17 , L16 , LATTICES:def 3
.= ( ( ( C7 "\/" C6 ) "\/" C8 ) "\/" C9 ) by LATTICES:def 5
.= ( ( C7 "\/" ( C6 "\/" C8 ) ) "\/" C9 ) by LATTICES:def 5
.= ( ( C6 "\/" C8 ) "\/" ( C7 "\/" C9 ) ) by LATTICES:def 5;
thus L19: thesis by L18 , LATTICES:def 3;
end;
theorem
L20: (for B10 being  meet-absorbing  meet-commutative  join-absorbing  meet-associative non  empty LattStr holds (for B11 , B12 , B13 , B14 being (Element of B10) holds ((B11 [= B12 & B13 [= B14) implies ( B11 "/\" B13 ) [= ( B12 "/\" B14 ))))
proof
let C10 being  meet-absorbing  meet-commutative  meet-associative  join-absorbing non  empty LattStr;
let C11 , C12 , C13 , C14 being (Element of C10);
assume L21: C11 [= C12;
L22: ( C11 "/\" C12 ) = C11 by L21 , LATTICES:4;
assume L23: C13 [= C14;
L24: ( C11 "/\" C13 ) = ( ( C11 "/\" C12 ) "/\" ( C13 "/\" C14 ) ) by L23 , L22 , LATTICES:4
.= ( ( ( C11 "/\" C12 ) "/\" C13 ) "/\" C14 ) by LATTICES:def 7
.= ( ( C12 "/\" ( C11 "/\" C13 ) ) "/\" C14 ) by LATTICES:def 7
.= ( ( C11 "/\" C13 ) "/\" ( C12 "/\" C14 ) ) by LATTICES:def 7;
thus L25: thesis by L24 , LATTICES:4;
end;
theorem
L26: (for B15 being  join-absorbing  join-commutative  join-associative  meet-absorbing  meet-commutative non  empty LattStr holds (for B16 , B17 , B18 being (Element of B15) holds ((B16 [= B18 & B17 [= B18) implies ( B16 "\/" B17 ) [= B18)))
proof
let C15 being  join-absorbing  join-commutative  join-associative  meet-absorbing  meet-commutative non  empty LattStr;
let C16 , C17 , C18 being (Element of C15);
L27: ( C18 "\/" C18 ) = C18;
thus L28: thesis by L27 , L14;
end;
theorem
L29: (for B19 being  meet-absorbing  meet-commutative  join-absorbing  meet-associative non  empty LattStr holds (for B20 , B21 , B22 being (Element of B19) holds ((B20 [= B21 & B20 [= B22) implies B20 [= ( B21 "/\" B22 ))))
proof
let C19 being  meet-absorbing  meet-commutative  join-absorbing  meet-associative non  empty LattStr;
let C20 , C21 , C22 being (Element of C19);
L30: ( C20 "/\" C20 ) = C20;
thus L31: thesis by L30 , L20;
end;
definition
let R1 being Lattice;
mode Filter of R1
 is non  empty  meet-closed  final (Subset of R1);
end;
theorem
L33: (for R1 being Lattice holds (for B23 being non  empty (Subset of R1) holds (B23 is (Filter of R1) iff (for B24 , B25 being (Element of R1) holds ((B24 in B23 & B25 in B23) iff ( B24 "/\" B25 ) in B23)))))
proof
let R1 being Lattice;
let C23 being non  empty (Subset of R1);
thus L34: (C23 is (Filter of R1) implies (for B26 , B27 being (Element of R1) holds ((B26 in C23 & B27 in C23) iff ( B26 "/\" B27 ) in C23)))
proof
assume L35: C23 is (Filter of R1);
let C24 , C25 being (Element of R1);
thus L36: ((C24 in C23 & C25 in C23) implies ( C24 "/\" C25 ) in C23) by L35 , LATTICES:def 24;
assume L37: ( C24 "/\" C25 ) in C23;
L38: (( C24 "/\" C25 ) [= C24 & ( C24 "/\" C25 ) [= C25) by LATTICES:6;
thus L39: (C24 in C23 & C25 in C23) by L38 , L35 , L37 , LATTICES:def 23;
end;

assume L40: (for B28 , B29 being (Element of R1) holds ((B28 in C23 & B29 in C23) iff ( B28 "/\" B29 ) in C23));
L41: C23 is  final
proof
let C26 , C27 being (Element of R1);
assume that
L42: C26 [= C27
and
L43: C26 in C23;
L44: ( C26 "/\" C27 ) = C26 by L42 , LATTICES:4;
thus L45: C27 in C23 by L44 , L40 , L43;
end;
thus L46: thesis by L41 , L40 , LATTICES:def 24;
end;
theorem
L47: (for R1 being Lattice holds (for B30 being non  empty (Subset of R1) holds (B30 is (Filter of R1) iff ((for R2 being (Element of R1) holds (for R4 being (Element of R1) holds ((R2 in B30 & R4 in B30) implies ( R2 "/\" R4 ) in B30))) & (for R2 being (Element of R1) holds (for R4 being (Element of R1) holds ((R2 in B30 & R2 [= R4) implies R4 in B30)))))))
proof
let R1 being Lattice;
let C28 being non  empty (Subset of R1);
thus L48: (C28 is (Filter of R1) implies ((for R2 being (Element of R1) holds (for R4 being (Element of R1) holds ((R2 in C28 & R4 in C28) implies ( R2 "/\" R4 ) in C28))) & (for R2 being (Element of R1) holds (for R4 being (Element of R1) holds ((R2 in C28 & R2 [= R4) implies R4 in C28))))) by LATTICES:def 23 , LATTICES:def 24;
assume L49: ((for R2 being (Element of R1) holds (for R4 being (Element of R1) holds ((R2 in C28 & R4 in C28) implies ( R2 "/\" R4 ) in C28))) & (for R2 being (Element of R1) holds (for R4 being (Element of R1) holds ((R2 in C28 & R2 [= R4) implies R4 in C28))));
L50: (for R2 being (Element of R1) holds (for R4 being (Element of R1) holds ((R2 [= R4 & R2 in C28) implies R4 in C28))) by L49;
thus L51: thesis by L50 , L49 , LATTICES:def 23 , LATTICES:def 24;
end;
theorem
L52: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R4 being (Element of R1) holds (for R16 being (Filter of R1) holds (R2 in R16 implies (( R2 "\/" R4 ) in R16 & ( R4 "\/" R2 ) in R16))))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
let R4 being (Element of R1);
let R16 being (Filter of R1);
L53: R2 [= ( R2 "\/" R4 ) by LATTICES:5;
thus L54: thesis by L53 , L47;
end;
theorem
L55: (for R1 being Lattice holds (for R16 being (Filter of R1) holds (R1 is 1_Lattice implies ( Top R1 ) in R16)))
proof
let R1 being Lattice;
let R16 being (Filter of R1);
assume L56: R1 is 1_Lattice;
reconsider D1 = R1 as 1_Lattice by L56;
consider C29 being (Element of D1) such that L57: C29 in R16 by SUBSET_1:4;
L58: C29 [= ( Top D1 ) by LATTICES:19;
thus L59: thesis by L58 , L57 , L47;
end;
theorem
L60: (for R1 being Lattice holds (R1 is 1_Lattice implies { ( Top R1 ) } is (Filter of R1)))
proof
let R1 being Lattice;
assume L61: R1 is 1_Lattice;
reconsider D2 = R1 as 1_Lattice by L61;
L62:
now
let C30 , C31 being (Element of D2);
L63: (C30 [= ( Top D2 ) & C31 [= ( Top D2 )) by LATTICES:19;
L64: (C30 in { ( Top D2 ) } iff C30 = ( Top D2 )) by TARSKI:def 1;
thus L65: ((C30 in { ( Top D2 ) } & C31 in { ( Top D2 ) }) implies ( C30 "/\" C31 ) in { ( Top D2 ) }) by L64 , LATTICES:17;
assume L66: ( C30 "/\" C31 ) in { ( Top D2 ) };
L67: ( C30 "/\" C31 ) = ( Top D2 ) by L66 , TARSKI:def 1;
L68: (( C30 "/\" C31 ) [= C30 & ( C31 "/\" C30 ) [= C31) by LATTICES:6;
thus L69: (C30 in { ( Top D2 ) } & C31 in { ( Top D2 ) }) by L68 , L64 , L67 , L63 , LATTICES:8;
end;
thus L70: thesis by L62 , L33;
end;
theorem
L71: (for R1 being Lattice holds (for R2 being (Element of R1) holds ({ R2 } is (Filter of R1) implies R1 is  upper-bounded)))
proof
let R1 being Lattice;
let R2 being (Element of R1);
assume L72: { R2 } is (Filter of R1);
reconsider D3 = { R2 } as (Filter of R1) by L72;
take R2;
let R4 being (Element of R1);
L73: R2 in D3 by TARSKI:def 1;
L74: ( R2 "\/" R4 ) in D3 by L73 , L52;
thus L75: thesis by L74 , TARSKI:def 1;
end;
theorem
L76: (for R1 being Lattice holds (the carrier of R1) is (Filter of R1))
proof
let R1 being Lattice;
L77: (the carrier of R1) = ( [#] R1 );
thus L78: thesis by L77;
end;
definition
let R1 being Lattice;
func <.R1 .) -> (Filter of R1) equals 
(the carrier of R1);
coherence by L76;
end;
definition
let R1 being Lattice;
let R2 being (Element of R1);
func <.R2 .) -> (Filter of R1) equals 
{ R4 where R4 is (Element of R1) : R2 [= R4 };
coherence
proof
set D4 = { R4 where R4 is (Element of R1) : R2 [= R4 };
L80: R2 in D4;
reconsider D5 = D4 as non  empty set by L80;
L81: D5 c= (the carrier of R1)
proof
let R8 being set;
assume L82: R8 in D5;
L83: (ex R4 being (Element of R1) st (R8 = R4 & R2 [= R4)) by L82;
thus L84: thesis by L83;
end;
reconsider D6 = D5 as non  empty (Subset of R1) by L81;
L85:
now
let R6 being (Element of R1);
let R4 being (Element of R1);
assume L86: R6 in D6;
L87: (ex R7 being (Element of R1) st (R6 = R7 & R2 [= R7)) by L86;
L88: ( R2 "/\" R2 ) [= ( R6 "/\" R2 ) by L87 , LATTICES:9;
assume L89: R4 in D6;
L90: (ex R5 being (Element of R1) st (R4 = R5 & R2 [= R5)) by L89;
L91: ( R2 "/\" R6 ) [= ( R4 "/\" R6 ) by L90 , LATTICES:9;
L92: R2 [= ( R6 "/\" R4 ) by L91 , L88 , LATTICES:7;
thus L93: ( R6 "/\" R4 ) in D6 by L92;
end;
L94:
now
let R6 being (Element of R1);
let R4 being (Element of R1);
assume L95: R6 in D6;
L96: (ex R7 being (Element of R1) st (R6 = R7 & R2 [= R7)) by L95;
assume L97: R6 [= R4;
L98: R2 [= R4 by L97 , L96 , LATTICES:7;
thus L99: R4 in D6 by L98;
end;
thus L100: thesis by L94 , L85 , L47;
end;
end;
theorem
L102: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R4 being (Element of R1) holds (R4 in <. R2 .) iff R2 [= R4))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
let R4 being (Element of R1);
L103: (R4 in <. R2 .) iff (ex R6 being (Element of R1) st (R4 = R6 & R2 [= R6)));
thus L104: thesis by L103;
end;
theorem
L105: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R4 being (Element of R1) holds (R2 in <. R2 .) & ( R2 "\/" R4 ) in <. R2 .) & ( R4 "\/" R2 ) in <. R2 .)))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
let R4 being (Element of R1);
L106: R2 [= ( R2 "\/" R4 ) by LATTICES:5;
thus L107: thesis by L106;
end;
theorem
L108: (for R1 being Lattice holds (R1 is 0_Lattice implies <. R1 .) = <. ( Bottom R1 ) .)))
proof
let R1 being Lattice;
assume L109: R1 is 0_Lattice;
reconsider D7 = R1 as 0_Lattice by L109;
thus L110: <. R1 .) c= <. ( Bottom R1 ) .)
proof
let R8 being set;
assume L111: R8 in <. R1 .);
reconsider D8 = R8 as (Element of D7) by L111;
L112: (( Bottom R1 ) in <. ( Bottom R1 ) .) & ( D8 "/\" ( Bottom D7 ) ) = ( Bottom D7 ));
thus L113: thesis by L112 , L33;
end;

thus L114: thesis;
end;
definition
let R1 being Lattice;
let R17 being (Filter of R1);
attr R17 is  being_ultrafilter
means
:L115: (R17 <> (the carrier of R1) & (for R16 being (Filter of R1) holds ((R17 c= R16 & R16 <> (the carrier of R1)) implies R17 = R16)));
end;
theorem
L117: (for R1 being Lattice holds (R1 is  lower-bounded implies (for R17 being (Filter of R1) holds (R17 <> (the carrier of R1) implies (ex R16 being (Filter of R1) st (R17 c= R16 & R16 is  being_ultrafilter))))))
proof
let R1 being Lattice;
given R6 being (Element of R1) such that
L118: (for R2 being (Element of R1) holds (( R6 "/\" R2 ) = R6 & ( R2 "/\" R6 ) = R6));

L119: (for R16 being (Filter of R1) holds (R6 in R16 implies R16 = (the carrier of R1)))
proof
let R16 being (Filter of R1);
assume L120: R6 in R16;
thus L121: R16 c= (the carrier of R1);
let R8 being set;
assume L122: R8 in (the carrier of R1);
reconsider D9 = R8 as (Element of R1) by L122;
L123: ( R6 "/\" D9 ) = R6 by L118;
L124: R6 [= D9 by L123 , LATTICES:4;
thus L125: thesis by L124 , L120 , L47;
end;
let R17 being (Filter of R1);
assume that
L126: R17 <> (the carrier of R1);
set D10 = { B31 where B31 is (Subset of R1) : (R17 c= B31 & B31 is (Filter of R1) & B31 <> (the carrier of R1)) };
L127: (for R8 being set holds (R8 in D10 implies (R8 is (Subset of R1) & R8 is (Filter of R1))))
proof
let R8 being set;
assume L128: R8 in D10;
L129: (ex B32 being (Subset of R1) st (R8 = B32 & R17 c= B32 & B32 is (Filter of R1) & B32 <> (the carrier of R1))) by L128;
thus L130: thesis by L129;
end;
L131: (for R14 being set holds (R14 in D10 implies (R17 , R14 are_c=-comparable  & R14 <> (the carrier of R1))))
proof
let R14 being set;
assume L132: R14 in D10;
L133: (ex B33 being (Subset of R1) st (R14 = B33 & R17 c= B33 & B33 is (Filter of R1) & B33 <> (the carrier of R1))) by L132;
thus L134: thesis by L133 , XBOOLE_0:def 9;
end;
L135: (for R13 being set holds ((R13 c= D10 & R13 is  c=-linear) implies (ex R12 being set st (R12 in D10 & (for R14 being set holds (R14 in R13 implies R14 c= R12))))))
proof
set D11 = the (Element of R17);
let R13 being set;
assume that
L136: R13 c= D10
and
L137: R13 is  c=-linear;
take D12 = ( union ( R13 \/ { R17 } ) );
L138: R17 in { R17 } by TARSKI:def 1;
L139: R17 in ( R13 \/ { R17 } ) by L138 , XBOOLE_0:def 3;
L140: D11 in R17;
reconsider D13 = D12 as non  empty set by L140 , L139 , TARSKI:def 4;
L141: D13 c= (the carrier of R1)
proof
let R8 being set;
assume L142: R8 in D13;
consider R14 being set such that L143: R8 in R14 and L144: R14 in ( R13 \/ { R17 } ) by L142 , TARSKI:def 4;
L145: (R14 in R13 or R14 in { R17 }) by L144 , XBOOLE_0:def 3;
L146: R14 is (Subset of R1) by L145 , L127 , L136;
thus L147: thesis by L146 , L143;
end;
reconsider D14 = D13 as non  empty (Subset of R1) by L141;
L148:
now
let R2 being (Element of R1);
let R4 being (Element of R1);
thus L149: ((R2 in D14 & R4 in D14) implies ( R2 "/\" R4 ) in D14)
proof
assume L150: R2 in D14;
consider R14 being set such that L151: R2 in R14 and L152: R14 in ( R13 \/ { R17 } ) by L150 , TARSKI:def 4;
L153: (R14 in R13 or R14 in { R17 }) by L152 , XBOOLE_0:def 3;
L154: ((R14 in D10 & R14 in R13) or R14 = R17) by L153 , L136 , TARSKI:def 1;
assume L155: R4 in D14;
consider R15 being set such that L156: R4 in R15 and L157: R15 in ( R13 \/ { R17 } ) by L155 , TARSKI:def 4;
L158: (R15 in R13 or R15 in { R17 }) by L157 , XBOOLE_0:def 3;
L159: ((R15 in D10 & R15 in R13) or R15 = R17) by L158 , L136 , TARSKI:def 1;
L160: R14 , R15 are_c=-comparable  by L159 , L131 , L137 , L154 , ORDINAL1:def 8;
L161: (R14 c= R15 or R15 c= R14) by L160 , XBOOLE_0:def 9;
L162: R14 is (Filter of R1) by L127 , L136 , L153 , TARSKI:def 1;
L163: R15 is (Filter of R1) by L127 , L136 , L158 , TARSKI:def 1;
L164: (( R2 "/\" R4 ) in R14 or ( R2 "/\" R4 ) in R15) by L163 , L151 , L156 , L161 , L162 , L47;
thus L165: thesis by L164 , L152 , L157 , TARSKI:def 4;
end;

assume L166: ( R2 "/\" R4 ) in D14;
consider R14 being set such that L167: ( R2 "/\" R4 ) in R14 and L168: R14 in ( R13 \/ { R17 } ) by L166 , TARSKI:def 4;
L169: (R14 in R13 or R14 in { R17 }) by L168 , XBOOLE_0:def 3;
L170: R14 is (Filter of R1) by L169 , L127 , L136 , TARSKI:def 1;
L171: (R2 in R14 & R4 in R14) by L170 , L167 , L33;
thus L172: (R2 in D14 & R4 in D14) by L171 , L168 , TARSKI:def 4;
end;
reconsider D15 = D14 as (Filter of R1) by L148 , L33;
L173:
now
assume L174: R6 in D15;
consider R14 being set such that L175: R6 in R14 and L176: R14 in ( R13 \/ { R17 } ) by L174 , TARSKI:def 4;
L177: (R14 in R13 or R14 in { R17 }) by L176 , XBOOLE_0:def 3;
L178: (R14 in D10 or R14 = R17) by L177 , L136 , TARSKI:def 1;
L179: (ex B34 being (Subset of R1) st (R14 = B34 & R17 c= B34 & B34 is (Filter of R1) & B34 <> (the carrier of R1))) by L178 , L126;
thus L180: contradiction by L179 , L119 , L175;
end;
L181: D15 <> (the carrier of R1) by L173;
L182: R17 c= D15
proof
let R8 being set;
thus L183: thesis by L139 , TARSKI:def 4;
end;
thus L184: D12 in D10 by L182 , L181;
let R14 being set;
assume L185: R14 in R13;
L186: R14 in ( R13 \/ { R17 } ) by L185 , XBOOLE_0:def 3;
thus L187: thesis by L186 , ZFMISC_1:74;
end;
L188: R17 in D10 by L126;
consider R12 being set such that L189: R12 in D10 and L190: (for R13 being set holds ((R13 in D10 & R13 <> R12) implies (not R12 c= R13))) by L188 , L135 , ORDERS_1:65;
consider C32 being (Subset of R1) such that L191: R12 = C32 and L192: R17 c= C32 and L193: C32 is (Filter of R1) and L194: C32 <> (the carrier of R1) by L189;
reconsider D16 = C32 as (Filter of R1) by L193;
take D16;
thus L195: (R17 c= D16 & D16 <> (the carrier of R1)) by L192 , L194;
let C33 being (Filter of R1);
assume that
L196: D16 c= C33
and
L197: C33 <> (the carrier of R1);
L198: R17 c= C33 by L192 , L196 , XBOOLE_1:1;
L199: C33 in D10 by L198 , L197;
thus L200: thesis by L199 , L190 , L191 , L196;
end;
theorem
L201: (for R1 being Lattice holds (for R2 being (Element of R1) holds ((ex R6 being (Element of R1) st ( R2 "/\" R6 ) <> R2) implies <. R2 .) <> (the carrier of R1))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
given R6 being (Element of R1) such that
L202: ( R2 "/\" R6 ) <> R2;

L203: ( R2 "/\" R6 ) [= R2 by LATTICES:6;
L204: (not R2 [= ( R2 "/\" R6 )) by L203 , L202 , LATTICES:8;
thus L205: thesis by L204 , L102;
end;
theorem
L206: (for R1 being Lattice holds (for R2 being (Element of R1) holds ((R1 is 0_Lattice & R2 <> ( Bottom R1 )) implies (ex R16 being (Filter of R1) st (R2 in R16 & R16 is  being_ultrafilter)))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
assume that
L207: R1 is 0_Lattice
and
L208: R2 <> ( Bottom R1 );
reconsider D17 = R1 as 0_Lattice by L207;
reconsider D18 = R2 as (Element of D17);
L209: ( D18 "/\" ( Bottom D17 ) ) = ( Bottom D17 );
consider R16 being (Filter of R1) such that L210: (<. R2 .) c= R16 & R16 is  being_ultrafilter) by L209 , L208 , L117 , L201;
take R16;
L211: R2 in <. R2 .);
thus L212: thesis by L211 , L210;
end;
definition
let R1 being Lattice;
let R18 being non  empty (Subset of R1);
func <.R18 .) -> (Filter of R1) means 
:L213: (R18 c= it & (for R17 being (Filter of R1) holds (R18 c= R17 implies it c= R17)));
existence
proof
set D19 = the (Element of R18);
defpred S1[ set ] means ($1 is (Filter of R1) & R18 c= $1);
consider R11 being set such that L214: (for R13 being set holds (R13 in R11 iff (R13 in ( bool (the carrier of R1) ) & S1[ R13 ]))) from XBOOLE_0:sch 1;
reconsider D20 = D19 as (Element of R1);
L215: <. R1 .) = (the carrier of R1);
L216: R11 <> ( {} ) by L215 , L214;
L217:
now
let R13 being set;
assume L218: R13 in R11;
L219: R18 c= R13 by L218 , L214;
thus L220: D20 in R13 by L219 , TARSKI:def 3;
end;
reconsider D21 = ( meet R11 ) as non  empty set by L217 , L216 , SETFAM_1:def 1;
L221: <. R1 .) in R11 by L214;
L222: D21 c= (the carrier of R1)
proof
let R8 being set;
thus L223: thesis by L221 , SETFAM_1:def 1;
end;
reconsider D22 = D21 as non  empty (Subset of R1) by L222;
L224:
now
let R2 being (Element of R1);
let R4 being (Element of R1);
thus L225: ((R2 in D22 & R4 in D22) implies ( R2 "/\" R4 ) in D22)
proof
assume L226: (R2 in D22 & R4 in D22);
L227: (for R13 being set holds (R13 in R11 implies ( R2 "/\" R4 ) in R13))
proof
let R13 being set;
assume L228: R13 in R11;
reconsider D23 = R13 as (Filter of R1) by L228 , L214;
L229: (R2 in D23 & R4 in D23) by L226 , L228 , SETFAM_1:def 1;
thus L230: thesis by L229 , L33;
end;
thus L231: thesis by L227 , L216 , SETFAM_1:def 1;
end;

assume L232: ( R2 "/\" R4 ) in D22;
L233:
now
let R13 being set;
assume L234: R13 in R11;
reconsider D24 = R13 as (Filter of R1) by L234 , L214;
L235: ( R2 "/\" R4 ) in D24 by L232 , L234 , SETFAM_1:def 1;
thus L236: R2 in R13 by L235 , L33;
end;
thus L237: R2 in D22 by L233 , L216 , SETFAM_1:def 1;
L238:
now
let R13 being set;
assume L239: R13 in R11;
reconsider D25 = R13 as (Filter of R1) by L239 , L214;
L240: ( R2 "/\" R4 ) in D25 by L232 , L239 , SETFAM_1:def 1;
thus L241: R4 in R13 by L240 , L33;
end;
thus L242: R4 in D22 by L238 , L216 , SETFAM_1:def 1;
end;
reconsider D26 = D22 as (Filter of R1) by L224 , L33;
take D26;
L243: (for R13 being set holds (R13 in R11 implies R18 c= R13)) by L214;
thus L244: R18 c= D26 by L243 , L216 , SETFAM_1:5;
let R16 being (Filter of R1);
assume L245: R18 c= R16;
L246: R16 in R11 by L245 , L214;
thus L247: thesis by L246 , SETFAM_1:3;
end;
uniqueness
proof
let C34 , C35 being (Filter of R1);
assume L248: (R18 c= C34 & (for R17 being (Filter of R1) holds (R18 c= R17 implies C34 c= R17)) & R18 c= C35 & (for R17 being (Filter of R1) holds (R18 c= R17 implies C35 c= R17)));
thus L249: (C34 c= C35 & C35 c= C34) by L248;
end;
end;
theorem
L251: (for R1 being Lattice holds (for R17 being (Filter of R1) holds <. R17 .) = R17))
proof
let R1 being Lattice;
let R17 being (Filter of R1);
L252: (for R16 being (Filter of R1) holds (R17 c= R16 implies R17 c= R16));
thus L253: thesis by L252 , L213;
end;
theorem
L254: (for R1 being Lattice holds (for R19 being non  empty (Subset of R1) holds (for R20 being non  empty (Subset of R1) holds (R19 c= R20 implies <. R19 .) c= <. R20 .)))))
proof
let R1 being Lattice;
let R19 being non  empty (Subset of R1);
let R20 being non  empty (Subset of R1);
assume L255: R19 c= R20;
L256: R20 c= <. R20 .) by L213;
L257: R19 c= <. R20 .) by L256 , L255 , XBOOLE_1:1;
thus L258: thesis by L257 , L213;
end;
theorem
L259: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R18 being non  empty (Subset of R1) holds (R2 in R18 implies <. R2 .) c= <. R18 .)))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
let R18 being non  empty (Subset of R1);
assume L260: R2 in R18;
let R8 being set;
L261: R18 c= <. R18 .) by L213;
assume L262: R8 in <. R2 .);
L263: (ex R4 being (Element of R1) st (R8 = R4 & R2 [= R4)) by L262;
thus L264: thesis by L263 , L260 , L261 , L47;
end;
theorem
L265: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R18 being non  empty (Subset of R1) holds (R18 = { R2 } implies <. R18 .) = <. R2 .)))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
let R18 being non  empty (Subset of R1);
assume L266: R18 = { R2 };
L267: R18 c= <. R2 .)
proof
let R8 being set;
assume L268: R8 in R18;
L269: R8 = R2 by L268 , L266 , TARSKI:def 1;
thus L270: thesis by L269;
end;
thus L271: <. R18 .) c= <. R2 .) by L267 , L213;
L272: R2 in R18 by L266 , TARSKI:def 1;
thus L273: thesis by L272 , L259;
end;
theorem
L274: (for R1 being Lattice holds (for R18 being non  empty (Subset of R1) holds ((R1 is 0_Lattice & ( Bottom R1 ) in R18) implies (<. R18 .) = <. R1 .) & <. R18 .) = (the carrier of R1)))))
proof
let R1 being Lattice;
let R18 being non  empty (Subset of R1);
assume that
L275: R1 is 0_Lattice
and
L276: ( Bottom R1 ) in R18;
L277: <. ( Bottom R1 ) .) = <. R1 .) by L275 , L108;
thus L278: (<. R18 .) c= <. R1 .) & <. R1 .) c= <. R18 .)) by L277 , L276 , L259;
thus L279: (<. R18 .) c= (the carrier of R1) & (the carrier of R1) c= <. R18 .)) by L276 , L277 , L259;
end;
theorem
L280: (for R1 being Lattice holds (for R17 being (Filter of R1) holds ((R1 is 0_Lattice & ( Bottom R1 ) in R17) implies (R17 = <. R1 .) & R17 = (the carrier of R1)))))
proof
let R1 being Lattice;
let R17 being (Filter of R1);
L281: R17 = <. R17 .) by L251;
thus L282: thesis by L281 , L274;
end;
definition
let R1 being Lattice;
let R17 being (Filter of R1);
attr R17 is  prime
means
(for R2 being (Element of R1) holds (for R4 being (Element of R1) holds (( R2 "\/" R4 ) in R17 iff (R2 in R17 or R4 in R17))));
end;
theorem
L284: (for R1 being Lattice holds (R1 is B_Lattice implies (for R2 being (Element of R1) holds (for R4 being (Element of R1) holds (( R2 "/\" ( ( R2 ` ) "\/" R4 ) ) [= R4 & (for R6 being (Element of R1) holds (( R2 "/\" R6 ) [= R4 implies R6 [= ( ( R2 ` ) "\/" R4 ))))))))
proof
let R1 being Lattice;
assume L285: R1 is B_Lattice;
reconsider D27 = R1 as B_Lattice by L285;
reconsider D28 = D27 as 1_Lattice;
reconsider D29 = D27 as 0_Lattice;
let R2 being (Element of R1);
let R4 being (Element of R1);
set D30 = ( ( R2 ` ) "\/" R4 );
reconsider D31 = R2 , D32 = R4 as (Element of D29);
reconsider D33 = R2 as (Element of D27);
L286: (( D33 "/\" ( D33 ` ) ) = ( Bottom R1 ) & ( ( Bottom D29 ) "\/" ( D31 "/\" D32 ) ) = ( D31 "/\" D32 )) by LATTICES:20;
reconsider D34 = D27 as D_Lattice;
reconsider D35 = R2 , D36 = R4 , D37 = D30 as (Element of D34);
L287: ( D35 "/\" D37 ) = ( ( D35 "/\" ( D35 ` ) ) "\/" ( D35 "/\" D36 ) ) by LATTICES:def 11;
thus L288: ( R2 "/\" D30 ) [= R4 by L287 , L286 , LATTICES:6;
let R7 being (Element of R1);
reconsider D38 = R7 as (Element of D34);
reconsider D39 = R2 , D40 = R7 as (Element of D28);
L289: (( ( D33 ` ) "\/" D33 ) = ( Top R1 ) & ( ( Top D28 ) "/\" ( ( D39 ` ) "\/" D40 ) ) = ( ( D39 ` ) "\/" D40 )) by LATTICES:21;
assume L290: ( R2 "/\" R7 ) [= R4;
L291: ( ( R2 ` ) "\/" ( R2 "/\" R7 ) ) [= D30 by L290 , L1;
L292: (( ( D35 ` ) "\/" ( D35 "/\" D38 ) ) = ( ( ( D35 ` ) "\/" D35 ) "/\" ( ( D35 ` ) "\/" D38 ) ) & R7 [= ( R7 "\/" ( R2 ` ) )) by LATTICES:5 , LATTICES:11;
thus L293: thesis by L292 , L291 , L289 , LATTICES:7;
end;
definition
let C36 being non  empty LattStr;
attr C36 is  implicative
means
:L294: (for B35 , B36 being (Element of C36) holds (ex B37 being (Element of C36) st (( B35 "/\" B37 ) [= B36 & (for B38 being (Element of C36) holds (( B35 "/\" B38 ) [= B36 implies B38 [= B37)))));
end;
registration
cluster  strict  implicative for Lattice;
existence
proof
set D41 = the  strict B_Lattice;
L296:
now
let C37 , C38 being (Element of D41);
reconsider D42 = ( ( C37 ` ) "\/" C38 ) as (Element of D41);
take D43 = D42;
thus L297: (( C37 "/\" D43 ) [= C38 & (for B39 being (Element of D41) holds (( C37 "/\" B39 ) [= C38 implies B39 [= D43))) by L284;
end;
L298: D41 is  implicative by L296 , L294;
thus L299: thesis by L298;
end;
end;
definition
mode I_Lattice
 is  implicative Lattice;
end;
definition
let R1 being Lattice;
let R2 being (Element of R1);
let R4 being (Element of R1);
assume L302: R1 is I_Lattice;
func R2 => R4 -> (Element of R1) means 
:L303: (( R2 "/\" it ) [= R4 & (for R6 being (Element of R1) holds (( R2 "/\" R6 ) [= R4 implies R6 [= it)));
existence by L302 , L294;
correctness
proof
let C39 , C40 being (Element of R1);
assume L304: (( R2 "/\" C39 ) [= R4 & (for R6 being (Element of R1) holds (( R2 "/\" R6 ) [= R4 implies R6 [= C39)) & ( R2 "/\" C40 ) [= R4 & (for R6 being (Element of R1) holds (( R2 "/\" R6 ) [= R4 implies R6 [= C40)));
L305: (C39 [= C40 & C40 [= C39) by L304;
thus L306: thesis by L305 , LATTICES:8;
end;
end;
registration
cluster  ->  upper-bounded for I_Lattice;
coherence
proof
let R21 being I_Lattice;
set D44 = the (Element of R21);
take D45 = ( D44 => D44 );
let R23 being (Element of R21);
L308: ( D44 "/\" R23 ) [= D44 by LATTICES:6;
L309: R23 [= D45 by L308 , L303;
L310: ( R23 "\/" D45 ) = ( D45 "\/" R23 );
thus L311: thesis by L310 , L309 , LATTICES:def 3;
end;
end;
theorem
L313: (for R21 being I_Lattice holds (for R22 being (Element of R21) holds ( R22 => R22 ) = ( Top R21 )))
proof
let R21 being I_Lattice;
let R22 being (Element of R21);
L314:
now
let R23 being (Element of R21);
L315: ( R22 "/\" R23 ) [= R22 by LATTICES:6;
L316: R23 [= ( R22 => R22 ) by L315 , L303;
thus L317: ( R23 "\/" ( R22 => R22 ) ) = ( R22 => R22 ) by L316 , LATTICES:def 3;
end;
thus L318: thesis by L314 , RLSUB_2:65;
end;
registration
cluster  ->  distributive for I_Lattice;
coherence
proof
let R21 being I_Lattice;
let R22 being (Element of R21);
let R23 being (Element of R21);
let R24 being (Element of R21);
L319: ( R22 "/\" R24 ) [= ( ( R22 "/\" R24 ) "\/" ( R22 "/\" R23 ) ) by LATTICES:5;
L320: R24 [= ( R22 => ( ( R22 "/\" R23 ) "\/" ( R22 "/\" R24 ) ) ) by L319 , L303;
L321: ( R22 "/\" R23 ) [= ( ( R22 "/\" R23 ) "\/" ( R22 "/\" R24 ) ) by LATTICES:5;
L322: R23 [= ( R22 => ( ( R22 "/\" R23 ) "\/" ( R22 "/\" R24 ) ) ) by L321 , L303;
L323: ( R23 "\/" R24 ) [= ( R22 => ( ( R22 "/\" R23 ) "\/" ( R22 "/\" R24 ) ) ) by L322 , L320 , L26;
L324: ( R22 "/\" ( R23 "\/" R24 ) ) [= ( R22 "/\" ( R22 => ( ( R22 "/\" R23 ) "\/" ( R22 "/\" R24 ) ) ) ) by L323 , LATTICES:9;
L325: (( R22 "/\" R23 ) [= ( R22 "/\" ( R23 "\/" R24 ) ) & ( R22 "/\" R24 ) [= ( R22 "/\" ( R23 "\/" R24 ) )) by LATTICES:5 , LATTICES:9;
L326: ( ( R22 "/\" R23 ) "\/" ( R22 "/\" R24 ) ) [= ( R22 "/\" ( R23 "\/" R24 ) ) by L325 , L26;
L327: ( R22 "/\" ( R22 => ( ( R22 "/\" R23 ) "\/" ( R22 "/\" R24 ) ) ) ) [= ( ( R22 "/\" R23 ) "\/" ( R22 "/\" R24 ) ) by L303;
L328: ( R22 "/\" ( R23 "\/" R24 ) ) [= ( ( R22 "/\" R23 ) "\/" ( R22 "/\" R24 ) ) by L327 , L324 , LATTICES:7;
thus L329: ( R22 "/\" ( R23 "\/" R24 ) ) = ( ( R22 "/\" R23 ) "\/" ( R22 "/\" R24 ) ) by L328 , L326 , LATTICES:8;
end;
end;
registration
cluster  ->  implicative for B_Lattice;
coherence
proof
let R25 being B_Lattice;
let C41 , C42 being (Element of R25);
take D46 = ( ( C41 ` ) "\/" C42 );
thus L331: (( C41 "/\" D46 ) [= C42 & (for B40 being (Element of R25) holds (( C41 "/\" B40 ) [= C42 implies B40 [= D46))) by L284;
end;
end;
registration
cluster  implicative ->  distributive for Lattice;
coherence;
end;
theorem
L334: (for R28 being I_Lattice holds (for R29 being (Element of R28) holds (for R30 being (Element of R28) holds (for R33 being (Filter of R28) holds ((R29 in R33 & ( R29 => R30 ) in R33) implies R30 in R33)))))
proof
let R28 being I_Lattice;
let R29 being (Element of R28);
let R30 being (Element of R28);
let R33 being (Filter of R28);
assume L335: (R29 in R33 & ( R29 => R30 ) in R33);
L336: ( R29 "/\" ( R29 => R30 ) ) in R33 by L335 , L33;
L337: ( R29 "/\" ( R29 => R30 ) ) [= R30 by L303;
thus L338: thesis by L337 , L336 , L47;
end;
theorem
L339: (for R28 being I_Lattice holds (for R29 being (Element of R28) holds (for R30 being (Element of R28) holds (for R33 being (Filter of R28) holds (R30 in R33 implies ( R29 => R30 ) in R33)))))
proof
let R28 being I_Lattice;
let R29 being (Element of R28);
let R30 being (Element of R28);
let R33 being (Filter of R28);
L340: ( R30 "/\" R29 ) [= R30 by LATTICES:6;
L341: R30 [= ( R29 => R30 ) by L340 , L303;
thus L342: thesis by L341 , L47;
end;
definition
let R1 being Lattice;
let R19 being non  empty (Subset of R1);
let R20 being non  empty (Subset of R1);
func R19 "/\" R20 -> (Subset of R1) equals 
{ ( R2 "/\" R4 ) where R2 is (Element of R1) , R4 is (Element of R1) : (R2 in R19 & R4 in R20) };
coherence
proof
set D47 = the (Element of R19);
set D48 = the (Element of R20);
reconsider D49 = D47 , D50 = D48 as (Element of R1);
L343: ( D49 "/\" D50 ) in { ( R2 "/\" R4 ) where R2 is (Element of R1) , R4 is (Element of R1) : (R2 in R19 & R4 in R20) };
reconsider D51 = { ( R2 "/\" R4 ) where R2 is (Element of R1) , R4 is (Element of R1) : (R2 in R19 & R4 in R20) } as non  empty set by L343;
L344: D51 c= (the carrier of R1)
proof
let R8 being set;
assume L345: R8 in D51;
L346: (ex R2 being (Element of R1) st (ex R4 being (Element of R1) st (R8 = ( R2 "/\" R4 ) & R2 in R19 & R4 in R20))) by L345;
thus L347: thesis by L346;
end;
thus L348: thesis by L344;
end;
end;
registration
let R1 being Lattice;
let R19 being non  empty (Subset of R1);
let R20 being non  empty (Subset of R1);
cluster ( R19 "/\" R20 ) -> non  empty;
coherence
proof
set D52 = the (Element of R19);
set D53 = the (Element of R20);
reconsider D54 = D52 , D55 = D53 as (Element of R1);
L350: ( D54 "/\" D55 ) in { ( R2 "/\" R4 ) where R2 is (Element of R1) , R4 is (Element of R1) : (R2 in R19 & R4 in R20) };
thus L351: thesis by L350;
end;
end;
theorem
L353: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R4 being (Element of R1) holds (for R19 being non  empty (Subset of R1) holds (for R20 being non  empty (Subset of R1) holds ((R2 in R19 & R4 in R20) implies (( R2 "/\" R4 ) in ( R19 "/\" R20 ) & ( R4 "/\" R2 ) in ( R19 "/\" R20 ))))))));
theorem
L354: (for R1 being Lattice holds (for R8 being set holds (for R19 being non  empty (Subset of R1) holds (for R20 being non  empty (Subset of R1) holds (R8 in ( R19 "/\" R20 ) implies (ex R2 being (Element of R1) st (ex R4 being (Element of R1) st (R8 = ( R2 "/\" R4 ) & R2 in R19 & R4 in R20))))))));
theorem
L355: (for R1 being Lattice holds (for R19 being non  empty (Subset of R1) holds (for R20 being non  empty (Subset of R1) holds ( R19 "/\" R20 ) = ( R20 "/\" R19 ))))
proof
let R1 being Lattice;
let R19 being non  empty (Subset of R1);
let R20 being non  empty (Subset of R1);
L356:
now
let R19 being non  empty (Subset of R1);
let R20 being non  empty (Subset of R1);
thus L357: ( R19 "/\" R20 ) c= ( R20 "/\" R19 )
proof
let R8 being set;
assume L358: R8 in ( R19 "/\" R20 );
L359: (ex R2 being (Element of R1) st (ex R4 being (Element of R1) st (R8 = ( R2 "/\" R4 ) & R2 in R19 & R4 in R20))) by L358;
thus L360: thesis by L359;
end;

end;
thus L358: (( R19 "/\" R20 ) c= ( R20 "/\" R19 ) & ( R20 "/\" R19 ) c= ( R19 "/\" R20 )) by L356;
end;
registration
let C43 being D_Lattice;
let C44 , C45 being (Filter of C43);
cluster ( C44 "/\" C45 ) ->  final  meet-closed;
coherence
proof
L359:
now
let C46 , C47 being (Element of C43);
L360: (C46 = ( C46 "\/" ( C46 "/\" C47 ) ) & C47 = ( C47 "\/" ( C46 "/\" C47 ) )) by LATTICES:def 8;
thus L361: ((C46 in ( C44 "/\" C45 ) & C47 in ( C44 "/\" C45 )) implies ( C46 "/\" C47 ) in ( C44 "/\" C45 ))
proof
assume L362: C46 in ( C44 "/\" C45 );
consider C48 , C49 being (Element of C43) such that L363: C46 = ( C48 "/\" C49 ) and L364: (C48 in C44 & C49 in C45) by L362;
assume L365: C47 in ( C44 "/\" C45 );
consider C50 , C51 being (Element of C43) such that L366: C47 = ( C50 "/\" C51 ) and L367: (C50 in C44 & C51 in C45) by L365;
L368: ( C46 "/\" C47 ) = ( ( ( C48 "/\" C49 ) "/\" C50 ) "/\" C51 ) by L363 , L366 , LATTICES:def 7
.= ( ( ( C48 "/\" C50 ) "/\" C49 ) "/\" C51 ) by LATTICES:def 7
.= ( ( C48 "/\" C50 ) "/\" ( C49 "/\" C51 ) ) by LATTICES:def 7;
L369: (( C48 "/\" C50 ) in C44 & ( C49 "/\" C51 ) in C45) by L364 , L367 , L33;
thus L370: thesis by L369 , L368;
end;

assume L371: ( C46 "/\" C47 ) in ( C44 "/\" C45 );
consider C52 , C53 being (Element of C43) such that L372: ( C46 "/\" C47 ) = ( C52 "/\" C53 ) and L373: (C52 in C44 & C53 in C45) by L371;
L374: (( C47 "\/" C52 ) in C44 & ( C47 "\/" C53 ) in C45) by L373 , L52;
L375: (( C46 "\/" ( C52 "/\" C53 ) ) = ( ( C46 "\/" C52 ) "/\" ( C46 "\/" C53 ) ) & ( C47 "\/" ( C52 "/\" C53 ) ) = ( ( C47 "\/" C52 ) "/\" ( C47 "\/" C53 ) )) by LATTICES:11;
L376: (( C46 "\/" C52 ) in C44 & ( C46 "\/" C53 ) in C45) by L373 , L52;
thus L377: (C46 in ( C44 "/\" C45 ) & C47 in ( C44 "/\" C45 )) by L376 , L372 , L360 , L375 , L374;
end;
thus L378: thesis by L359 , L33;
end;
end;
theorem
L380: (for R1 being Lattice holds (for R19 being non  empty (Subset of R1) holds (for R20 being non  empty (Subset of R1) holds (<. ( R19 \/ R20 ) .) = <. ( <. R19 .) \/ R20 ) .) & <. ( R19 \/ R20 ) .) = <. ( R19 \/ <. R20 .) ) .)))))
proof
let R1 being Lattice;
let R19 being non  empty (Subset of R1);
let R20 being non  empty (Subset of R1);
L381:
now
let R19 being non  empty (Subset of R1);
let R20 being non  empty (Subset of R1);
L382: (R20 c= ( R19 \/ R20 ) & ( R19 \/ R20 ) c= <. ( R19 \/ R20 ) .)) by L213 , XBOOLE_1:7;
L383: R20 c= <. ( R19 \/ R20 ) .) by L382 , XBOOLE_1:1;
L384: R19 c= <. R19 .) by L213;
L385: ( R19 \/ R20 ) c= ( <. R19 .) \/ R20 ) by L384 , XBOOLE_1:9;
thus L386: <. ( R19 \/ R20 ) .) c= <. ( <. R19 .) \/ R20 ) .) by L385 , L254;
L387: <. R19 .) c= <. ( R19 \/ R20 ) .) by L254 , XBOOLE_1:7;
L388: ( <. R19 .) \/ R20 ) c= <. ( R19 \/ R20 ) .) by L387 , L383 , XBOOLE_1:8;
thus L389: <. ( <. R19 .) \/ R20 ) .) c= <. ( R19 \/ R20 ) .) by L388 , L213;
end;
thus L390: (<. ( R19 \/ R20 ) .) c= <. ( <. R19 .) \/ R20 ) .) & <. ( <. R19 .) \/ R20 ) .) c= <. ( R19 \/ R20 ) .) & <. ( R19 \/ R20 ) .) c= <. ( R19 \/ <. R20 .) ) .) & <. ( R19 \/ <. R20 .) ) .) c= <. ( R19 \/ R20 ) .)) by L381;
end;
theorem
L391: (for R1 being Lattice holds (for R16 being (Filter of R1) holds (for R17 being (Filter of R1) holds <. ( R17 \/ R16 ) .) = { R6 where R6 is (Element of R1) : (ex R2 being (Element of R1) st (ex R4 being (Element of R1) st (( R2 "/\" R4 ) [= R6 & R2 in R17 & R4 in R16))) })))
proof
let R1 being Lattice;
let R16 being (Filter of R1);
let R17 being (Filter of R1);
set D56 = { R7 where R7 is (Element of R1) : (ex R2 being (Element of R1) st (ex R4 being (Element of R1) st (( R2 "/\" R4 ) [= R7 & R2 in R17 & R4 in R16))) };
consider R3 being (Element of R1) such that L392: R3 in R17 by SUBSET_1:4;
consider R5 being (Element of R1) such that L393: R5 in R16 by SUBSET_1:4;
L394: ( R3 "/\" R5 ) in D56 by L392 , L393;
reconsider D57 = D56 as non  empty set by L394;
L395: D57 c= (the carrier of R1)
proof
let R8 being set;
assume L396: R8 in D57;
L397: (ex R7 being (Element of R1) st (R8 = R7 & (ex R2 being (Element of R1) st (ex R4 being (Element of R1) st (( R2 "/\" R4 ) [= R7 & R2 in R17 & R4 in R16))))) by L396;
thus L398: thesis by L397;
end;
reconsider D58 = D57 as non  empty (Subset of R1) by L395;
L399: (for R2 being (Element of R1) holds (for R4 being (Element of R1) holds ((R2 in D58 & R2 [= R4) implies R4 in D58)))
proof
let R2 being (Element of R1);
let R4 being (Element of R1);
assume L400: R2 in D58;
L401: (ex R7 being (Element of R1) st (R2 = R7 & (ex R2 being (Element of R1) st (ex R4 being (Element of R1) st (( R2 "/\" R4 ) [= R7 & R2 in R17 & R4 in R16))))) by L400;
consider R3 being (Element of R1), R5 being (Element of R1) such that L402: ( R3 "/\" R5 ) [= R2 and L403: (R3 in R17 & R5 in R16) by L401;
assume L404: R2 [= R4;
L405: ( R3 "/\" R5 ) [= R4 by L404 , L402 , LATTICES:7;
thus L406: thesis by L405 , L403;
end;
L407: (for R2 being (Element of R1) holds (for R4 being (Element of R1) holds ((R2 in D58 & R4 in D58) implies ( R2 "/\" R4 ) in D58)))
proof
let R2 being (Element of R1);
let R4 being (Element of R1);
assume L408: R2 in D58;
L409: (ex B41 being (Element of R1) st (R2 = B41 & (ex R2 being (Element of R1) st (ex R4 being (Element of R1) st (( R2 "/\" R4 ) [= B41 & R2 in R17 & R4 in R16))))) by L408;
consider C54 , C55 being (Element of R1) such that L410: ( C54 "/\" C55 ) [= R2 and L411: (C54 in R17 & C55 in R16) by L409;
assume L412: R4 in D58;
L413: (ex B42 being (Element of R1) st (R4 = B42 & (ex R2 being (Element of R1) st (ex R4 being (Element of R1) st (( R2 "/\" R4 ) [= B42 & R2 in R17 & R4 in R16))))) by L412;
consider C56 , C57 being (Element of R1) such that L414: ( C56 "/\" C57 ) [= R4 and L415: (C56 in R17 & C57 in R16) by L413;
L416: ( R2 "/\" ( C56 "/\" C57 ) ) [= ( R2 "/\" R4 ) by L414 , LATTICES:9;
L417: ( ( C54 "/\" C55 ) "/\" ( C56 "/\" C57 ) ) [= ( R2 "/\" ( C56 "/\" C57 ) ) by L410 , LATTICES:9;
L418: ( ( C54 "/\" C55 ) "/\" ( C56 "/\" C57 ) ) [= ( R2 "/\" R4 ) by L417 , L416 , LATTICES:7;
L419: ( ( C54 "/\" C55 ) "/\" ( C56 "/\" C57 ) ) = ( ( ( C54 "/\" C55 ) "/\" C56 ) "/\" C57 ) by LATTICES:def 7
.= ( ( ( C54 "/\" C56 ) "/\" C55 ) "/\" C57 ) by LATTICES:def 7
.= ( ( C54 "/\" C56 ) "/\" ( C55 "/\" C57 ) ) by LATTICES:def 7;
L420: (( C54 "/\" C56 ) in R17 & ( C55 "/\" C57 ) in R16) by L411 , L415 , L33;
thus L421: thesis by L420 , L419 , L418;
end;
reconsider D59 = D58 as (Filter of R1) by L407 , L399 , L47;
L422: R16 c= D59
proof
let R8 being set;
assume L423: R8 in R16;
reconsider D60 = R8 as (Element of R16) by L423;
L424: ( D60 "/\" R3 ) [= D60 by LATTICES:6;
thus L425: thesis by L424 , L392;
end;
L426: R17 c= D59
proof
let R8 being set;
assume L427: R8 in R17;
reconsider D61 = R8 as (Element of R17) by L427;
L428: ( D61 "/\" R5 ) [= D61 by LATTICES:6;
thus L429: thesis by L428 , L393;
end;
L430: ( R17 \/ R16 ) c= D59 by L426 , L422 , XBOOLE_1:8;
thus L431: <. ( R17 \/ R16 ) .) c= D56 by L430 , L213;
let R8 being set;
assume L432: R8 in D56;
consider R6 being (Element of R1) such that L433: R8 = R6 and L434: (ex R2 being (Element of R1) st (ex R4 being (Element of R1) st (( R2 "/\" R4 ) [= R6 & R2 in R17 & R4 in R16))) by L432;
L435: ( R17 \/ R16 ) c= <. ( R17 \/ R16 ) .) by L213;
L436: R16 c= ( R17 \/ R16 ) by XBOOLE_1:7;
L437: R16 c= <. ( R17 \/ R16 ) .) by L436 , L435 , XBOOLE_1:1;
consider R2 being (Element of R1), R4 being (Element of R1) such that L438: ( R2 "/\" R4 ) [= R6 and L439: (R2 in R17 & R4 in R16) by L434;
L440: R17 c= ( R17 \/ R16 ) by XBOOLE_1:7;
L441: R17 c= <. ( R17 \/ R16 ) .) by L440 , L435 , XBOOLE_1:1;
L442: ( R2 "/\" R4 ) in <. ( R17 \/ R16 ) .) by L441 , L439 , L437 , L33;
thus L443: thesis by L442 , L433 , L438 , L47;
end;
theorem
L444: (for R1 being Lattice holds (for R16 being (Filter of R1) holds (for R17 being (Filter of R1) holds (R17 c= ( R17 "/\" R16 ) & R16 c= ( R17 "/\" R16 )))))
proof
let R1 being Lattice;
let R16 being (Filter of R1);
let R17 being (Filter of R1);
L445:
now
let R17 being (Filter of R1);
let R16 being (Filter of R1);
thus L446: R17 c= ( R17 "/\" R16 )
proof
let R8 being set;
assume L447: R8 in R17;
reconsider D62 = R8 as (Element of R1) by L447;
consider R2 being (Element of R1) such that L448: R2 in R16 by SUBSET_1:4;
L449: D62 [= ( D62 "\/" R2 ) by LATTICES:5;
L450: ( D62 "/\" ( D62 "\/" R2 ) ) = D62 by L449 , LATTICES:4;
L451: R2 [= ( R2 "\/" D62 ) by LATTICES:5;
L452: ( D62 "\/" R2 ) in R16 by L451 , L448 , L47;
thus L453: thesis by L452 , L447 , L450;
end;

end;
L447: ( R17 "/\" R16 ) = ( R16 "/\" R17 ) by L355;
thus L448: thesis by L447 , L445;
end;
theorem
L449: (for R1 being Lattice holds (for R16 being (Filter of R1) holds (for R17 being (Filter of R1) holds <. ( R17 \/ R16 ) .) = <. ( R17 "/\" R16 ) .))))
proof
let R1 being Lattice;
let R16 being (Filter of R1);
let R17 being (Filter of R1);
L450: (R17 c= ( R17 "/\" R16 ) & R16 c= ( R17 "/\" R16 )) by L444;
L451: ( R17 \/ R16 ) c= ( R17 "/\" R16 ) by L450 , XBOOLE_1:8;
thus L452: <. ( R17 \/ R16 ) .) c= <. ( R17 "/\" R16 ) .) by L451 , L254;
L453: ( R17 "/\" R16 ) c= <. ( R17 \/ R16 ) .)
proof
let R8 being set;
assume L454: R8 in ( R17 "/\" R16 );
consider R2 being (Element of R1), R4 being (Element of R1) such that L455: R8 = ( R2 "/\" R4 ) and L456: R2 in R17 and L457: R4 in R16 by L454;
L458: R16 c= ( R17 \/ R16 ) by XBOOLE_1:7;
L459: R4 in ( R17 \/ R16 ) by L458 , L457;
L460: ( R17 \/ R16 ) c= <. ( R17 \/ R16 ) .) by L213;
L461: R17 c= ( R17 \/ R16 ) by XBOOLE_1:7;
L462: R2 in ( R17 \/ R16 ) by L461 , L456;
thus L463: thesis by L462 , L455 , L459 , L460 , L47;
end;
L464: <. ( R17 "/\" R16 ) .) c= <. <. ( R17 \/ R16 ) .) .) by L453 , L254;
thus L465: thesis by L464 , L251;
end;
theorem
L466: (for R28 being I_Lattice holds (for R34 being (Filter of R28) holds (for R35 being (Filter of R28) holds <. ( R34 \/ R35 ) .) = ( R34 "/\" R35 ))))
proof
let R28 being I_Lattice;
let R34 being (Filter of R28);
let R35 being (Filter of R28);
L467: ( R34 "/\" R35 ) = <. ( R34 "/\" R35 ) .) by L251;
thus L468: thesis by L467 , L449;
end;
theorem
L469: (for R25 being B_Lattice holds (for R26 being (Filter of R25) holds (for R27 being (Filter of R25) holds <. ( R26 \/ R27 ) .) = ( R26 "/\" R27 ))))
proof
let R25 being B_Lattice;
let R26 being (Filter of R25);
let R27 being (Filter of R25);
L470: ( R26 "/\" R27 ) = <. ( R26 "/\" R27 ) .) by L251;
thus L471: thesis by L470 , L449;
end;
theorem
L472: (for R28 being I_Lattice holds (for R29 being (Element of R28) holds (for R30 being (Element of R28) holds (for R32 being non  empty (Subset of R28) holds (R30 in <. ( R32 \/ { R29 } ) .) implies ( R29 => R30 ) in <. R32 .))))))
proof
let R28 being I_Lattice;
let R29 being (Element of R28);
let R30 being (Element of R28);
let R32 being non  empty (Subset of R28);
assume L473: R30 in <. ( R32 \/ { R29 } ) .);
L474: <. ( R32 \/ { R29 } ) .) = <. ( <. R32 .) \/ { R29 } ) .) by L380
.= <. ( <. R32 .) \/ <. { R29 } .) ) .) by L380
.= <. ( <. R32 .) \/ <. R29 .) ) .) by L265
.= ( <. R32 .) "/\" <. R29 .) ) by L466;
consider C58 , C59 being (Element of R28) such that L475: R30 = ( C58 "/\" C59 ) and L476: C58 in <. R32 .) and L477: C59 in <. R29 .) by L474 , L473;
L478: R29 [= C59 by L477 , L102;
L479: ( C58 "/\" R29 ) [= ( C58 "/\" C59 ) by L478 , LATTICES:9;
L480: C58 [= ( R29 => R30 ) by L479 , L475 , L303;
thus L481: thesis by L480 , L476 , L47;
end;
theorem
L482: (for R28 being I_Lattice holds (for R29 being (Element of R28) holds (for R30 being (Element of R28) holds (for R31 being (Element of R28) holds (for R33 being (Filter of R28) holds ((( R29 => R30 ) in R33 & ( R30 => R31 ) in R33) implies ( R29 => R31 ) in R33))))))
proof
let R28 being I_Lattice;
let R29 being (Element of R28);
let R30 being (Element of R28);
let R31 being (Element of R28);
let R33 being (Filter of R28);
assume that
L483: ( R29 => R30 ) in R33
and
L484: ( R30 => R31 ) in R33;
L485: ( R33 \/ { R29 } ) c= <. ( R33 \/ { R29 } ) .) by L213;
L486: { R29 } c= ( R33 \/ { R29 } ) by XBOOLE_1:7;
L487: { R29 } c= <. ( R33 \/ { R29 } ) .) by L486 , L485 , XBOOLE_1:1;
L488: R33 c= ( R33 \/ { R29 } ) by XBOOLE_1:7;
L489: R33 c= <. ( R33 \/ { R29 } ) .) by L488 , L485 , XBOOLE_1:1;
L490: R29 in { R29 } by TARSKI:def 1;
L491: R30 in <. ( R33 \/ { R29 } ) .) by L490 , L483 , L489 , L487 , L334;
L492: R31 in <. ( R33 \/ { R29 } ) .) by L491 , L484 , L489 , L334;
L493: <. R33 .) = R33 by L251;
thus L494: thesis by L493 , L492 , L472;
end;
theorem
L495: (for R25 being B_Lattice holds (for R36 being (Element of R25) holds (for R37 being (Element of R25) holds ( R36 => R37 ) = ( ( R36 ` ) "\/" R37 ))))
proof
let R25 being B_Lattice;
let R36 being (Element of R25);
let R37 being (Element of R25);
L496: (( R36 "/\" ( ( R36 ` ) "\/" R37 ) ) [= R37 & (for R38 being (Element of R25) holds (( R36 "/\" R38 ) [= R37 implies R38 [= ( ( R36 ` ) "\/" R37 )))) by L284;
thus L497: thesis by L496 , L303;
end;
theorem
L498: (for R25 being B_Lattice holds (for R36 being (Element of R25) holds (for R37 being (Element of R25) holds (R36 [= R37 iff ( R36 "/\" ( R37 ` ) ) = ( Bottom R25 )))))
proof
let R25 being B_Lattice;
let R36 being (Element of R25);
let R37 being (Element of R25);
reconsider D63 = R25 as 0_Lattice;
reconsider D64 = R25 as 1_Lattice;
reconsider D65 = R25 as D_Lattice;
reconsider D66 = R36 , D67 = R37 , D68 = ( R36 "/\" ( R37 ` ) ) as (Element of D63);
reconsider D69 = R36 , D70 = R37 as (Element of D64);
reconsider D71 = R36 , D72 = R37 as (Element of D65);
thus L499: (R36 [= R37 implies ( R36 "/\" ( R37 ` ) ) = ( Bottom R25 ))
proof
assume L500: R36 [= R37;
L501: R36 = ( R36 "/\" R37 ) by L500 , LATTICES:4;
thus L502: ( R36 "/\" ( R37 ` ) ) = ( R36 "/\" ( R37 "/\" ( R37 ` ) ) ) by L501 , LATTICES:def 7
.= ( D66 "/\" ( Bottom D63 ) ) by LATTICES:20
.= ( Bottom R25 );
end;

assume L503: ( R36 "/\" ( R37 ` ) ) = ( Bottom R25 );
L504: R37 = ( D67 "\/" D68 ) by L503 , LATTICES:14
.= ( ( D72 "\/" D71 ) "/\" ( D72 "\/" ( D72 ` ) ) ) by LATTICES:11
.= ( ( D70 "\/" D69 ) "/\" ( Top D64 ) ) by LATTICES:21
.= ( R36 "\/" R37 );
thus L505: thesis by L504 , LATTICES:def 3;
end;
theorem
L506: (for R25 being B_Lattice holds (for R26 being (Filter of R25) holds (R26 is  being_ultrafilter iff (R26 <> (the carrier of R25) & (for R36 being (Element of R25) holds (R36 in R26 or ( R36 ` ) in R26))))))
proof
let R25 being B_Lattice;
let R26 being (Filter of R25);
thus L507: (R26 is  being_ultrafilter implies (R26 <> (the carrier of R25) & (for R36 being (Element of R25) holds (R36 in R26 or ( R36 ` ) in R26))))
proof
reconsider D73 = R25 as I_Lattice;
assume that
L508: R26 <> (the carrier of R25)
and
L509: (for R27 being (Filter of R25) holds ((R26 c= R27 & R27 <> (the carrier of R25)) implies R26 = R27));
thus L510: R26 <> (the carrier of R25) by L508;
let R36 being (Element of R25);
assume that
L511: (not R36 in R26);
L512: R36 in <. R36 .);
L513: ( R26 \/ <. R36 .) ) c= <. ( R26 \/ <. R36 .) ) .) by L213;
L514: <. R36 .) c= ( R26 \/ <. R36 .) ) by XBOOLE_1:7;
L515: <. R36 .) c= <. ( R26 \/ <. R36 .) ) .) by L514 , L513 , XBOOLE_1:1;
L516: (R26 c= ( R26 \/ <. R36 .) ) & R26 <> <. ( R26 \/ <. R36 .) ) .)) by L515 , L511 , L512 , XBOOLE_1:7;
L517: <. ( R26 \/ <. R36 .) ) .) = (the carrier of R25) by L516 , L509 , L513 , XBOOLE_1:1;
L518: ( R36 ` ) in <. ( R26 \/ <. R36 .) ) .) by L517;
reconsider D74 = R36 as (Element of D73);
reconsider D75 = R26 as (Filter of D73);
L519: ( R36 => ( R36 ` ) ) = ( ( R36 ` ) "\/" ( R36 ` ) ) by L495;
L520: <. { R36 } .) = <. R36 .) by L265;
L521: ( D74 ` ) in <. ( D75 \/ { D74 } ) .) by L520 , L518 , L380;
L522: R26 = <. R26 .) by L251;
L523: ( R36 => ( R36 ` ) ) in R26 by L522 , L521 , L472;
thus L524: thesis by L523 , L519;
end;

assume that
L525: R26 <> (the carrier of R25)
and
L526: (for R36 being (Element of R25) holds (R36 in R26 or ( R36 ` ) in R26));
thus L527: R26 <> (the carrier of R25) by L525;
let R27 being (Filter of R25);
assume that
L528: R26 c= R27
and
L529: R27 <> (the carrier of R25)
and
L530: R26 <> R27;
L531: (ex R8 being set st (not (R8 in R26 iff R8 in R27))) by L530 , TARSKI:1;
consider R8 being set such that L532: R8 in R27 and L533: (not R8 in R26) by L531 , L528;
reconsider D76 = R8 as (Element of R27) by L532;
L534: ( D76 ` ) in R26 by L526 , L533;
L535: ( ( D76 ` ) "/\" D76 ) in R27 by L534 , L528 , L33;
L536: ( Bottom R25 ) in R27 by L535 , LATTICES:20;
L537: R27 = <. R27 .) by L251;
thus L538: contradiction by L537 , L529 , L536 , L274;
end;
theorem
L539: (for R25 being B_Lattice holds (for R26 being (Filter of R25) holds ((R26 <> <. R25 .) & R26 is  prime) iff R26 is  being_ultrafilter)))
proof
let R25 being B_Lattice;
let R26 being (Filter of R25);
thus L540: ((R26 <> <. R25 .) & R26 is  prime) implies R26 is  being_ultrafilter)
proof
assume that
L541: R26 <> <. R25 .)
and
L542: (for R36 being (Element of R25) holds (for R37 being (Element of R25) holds (( R36 "\/" R37 ) in R26 iff (R36 in R26 or R37 in R26))));
L543:
now
let R36 being (Element of R25);
assume that
L544: (not R36 in R26);
L545: ( R36 "\/" ( R36 ` ) ) = ( Top R25 ) by LATTICES:21;
L546: ( R36 "\/" ( R36 ` ) ) in R26 by L545 , L55;
thus L547: ( R36 ` ) in R26 by L546 , L542 , L544;
end;
thus L548: thesis by L543 , L541 , L506;
end;

assume L549: R26 is  being_ultrafilter;
thus L550: R26 <> <. R25 .) by L549 , L506;
let R36 being (Element of R25);
let R37 being (Element of R25);
L551: R26 <> (the carrier of R25) by L549 , L506;
thus L552: (( R36 "\/" R37 ) in R26 implies (R36 in R26 or R37 in R26))
proof
assume that
L553: ( R36 "\/" R37 ) in R26
and
L554: ((not R36 in R26) & (not R37 in R26));
L555: (( R36 ` ) in R26 & ( R37 ` ) in R26) by L549 , L554 , L506;
L556: ( ( R36 ` ) "/\" ( R37 ` ) ) in R26 by L555 , L33;
L557: ( ( R36 "\/" R37 ) ` ) in R26 by L556 , LATTICES:24;
L558: ( ( R36 "\/" R37 ) "/\" ( ( R36 "\/" R37 ) ` ) ) in R26 by L557 , L553 , L33;
L559: ( Bottom R25 ) in R26 by L558 , LATTICES:20;
L560: R26 = <. R26 .) by L251;
thus L561: contradiction by L560 , L551 , L559 , L274;
end;

thus L562: thesis by L52;
end;
theorem
L563: (for R25 being B_Lattice holds (for R26 being (Filter of R25) holds (R26 is  being_ultrafilter implies (for R36 being (Element of R25) holds (R36 in R26 iff (not ( R36 ` ) in R26))))))
proof
let R25 being B_Lattice;
let R26 being (Filter of R25);
assume L564: R26 is  being_ultrafilter;
let R36 being (Element of R25);
thus L565: (R36 in R26 implies (not ( R36 ` ) in R26))
proof
assume L566: (R36 in R26 & ( R36 ` ) in R26);
L567: ( R36 "/\" ( R36 ` ) ) in R26 by L566 , L33;
L568: ( Bottom R25 ) in R26 by L567 , LATTICES:20;
L569: R26 = (the carrier of R25) by L568 , L280;
thus L570: contradiction by L569 , L564 , L115;
end;

thus L571: thesis by L564 , L506;
end;
theorem
L572: (for R25 being B_Lattice holds (for R36 being (Element of R25) holds (for R37 being (Element of R25) holds (R36 <> R37 implies (ex R26 being (Filter of R25) st (R26 is  being_ultrafilter & ((R36 in R26 & (not R37 in R26)) or ((not R36 in R26) & R37 in R26))))))))
proof
let R25 being B_Lattice;
let R36 being (Element of R25);
let R37 being (Element of R25);
assume L573: R36 <> R37;
L574: ((not R36 [= R37) or (not R37 [= R36)) by L573 , LATTICES:8;
L575: (( R36 "/\" ( R37 ` ) ) <> ( Bottom R25 ) or ( R37 "/\" ( R36 ` ) ) <> ( Bottom R25 )) by L574 , L498;
L576: ((ex R26 being (Filter of R25) st (( R36 "/\" ( R37 ` ) ) in R26 & R26 is  being_ultrafilter)) or (ex R26 being (Filter of R25) st (( R37 "/\" ( R36 ` ) ) in R26 & R26 is  being_ultrafilter))) by L575 , L206;
consider R26 being (Filter of R25) such that L577: R26 is  being_ultrafilter and L578: (( R36 "/\" ( R37 ` ) ) in R26 or ( R37 "/\" ( R36 ` ) ) in R26) by L576;
take R26;
thus L579: R26 is  being_ultrafilter by L577;
L580: ((R36 in R26 & ( R37 ` ) in R26) or (R37 in R26 & ( R36 ` ) in R26)) by L578 , L33;
thus L581: thesis by L580 , L577 , L563;
end;
definition
let R1 being Lattice;
let R17 being (Filter of R1);
func latt R17 -> Lattice means 
:L582: (ex R39 being (BinOp of R17) st (ex R40 being (BinOp of R17) st (R39 = ( (the L_join of R1) || R17 ) & R40 = ( (the L_meet of R1) || R17 ) & it = LattStr (# R17 , R39 , R40 #))));
uniqueness;
existence
proof
reconsider D77 = ( (the L_join of R1) || R17 ) , D78 = ( (the L_meet of R1) || R17 ) as (Function of [: R17 , R17 :] , (the carrier of R1)) by FUNCT_2:32;
L583: ( dom D77 ) = [: R17 , R17 :] by FUNCT_2:def 1;
L584: ( rng D77 ) c= R17
proof
let R9 being set;
assume L585: R9 in ( rng D77 );
consider R8 being set such that L586: R8 in ( dom D77 ) and L587: R9 = ( D77 . R8 ) by L585 , FUNCT_1:def 3;
reconsider D79 = ( R8 `1 ) , D80 = ( R8 `2 ) as (Element of R17) by L586 , MCART_1:10;
L588: R8 = [ ( R8 `1 ) , ( R8 `2 ) ] by L586 , MCART_1:21;
L589: ( D77 . R8 ) = ( D79 "\/" D80 ) by L588 , L586 , FUNCT_1:47;
thus L590: thesis by L589 , L587 , L52;
end;
reconsider D81 = D77 as (Function of [: R17 , (R17 qua non  empty set) :] , R17) by L584 , L583 , FUNCT_2:def 1 , RELSET_1:4;
L591: ( dom D78 ) = [: R17 , R17 :] by FUNCT_2:def 1;
L592: ( rng D78 ) c= R17
proof
let R9 being set;
assume L593: R9 in ( rng D78 );
consider R8 being set such that L594: R8 in ( dom D78 ) and L595: R9 = ( D78 . R8 ) by L593 , FUNCT_1:def 3;
reconsider D82 = ( R8 `1 ) , D83 = ( R8 `2 ) as (Element of R17) by L594 , MCART_1:10;
L596: R8 = [ ( R8 `1 ) , ( R8 `2 ) ] by L594 , MCART_1:21;
L597: ( D78 . R8 ) = ( D82 "/\" D83 ) by L596 , L594 , FUNCT_1:47;
thus L598: thesis by L597 , L595 , L33;
end;
reconsider D84 = D78 as (Function of [: R17 , (R17 qua non  empty set) :] , R17) by L592 , L591 , FUNCT_2:def 1 , RELSET_1:4;
reconsider D85 = LattStr (# R17 , D81 , D84 #) as non  empty LattStr;
L599: (for B43 , B44 being (Element of D85) holds (( (the L_join of D85) . (B43 , B44) ) = ( (the L_join of R1) . (B43 , B44) ) & ( (the L_meet of D85) . (B43 , B44) ) = ( (the L_meet of R1) . (B43 , B44) )))
proof
let C60 , C61 being (Element of D85);
L600: ( (the L_join of D85) . (C60 , C61) ) = ( (the L_join of D85) . [ C60 , C61 ] );
thus L601: thesis by L600 , L583 , L591 , FUNCT_1:47;
end;
L602: (for B45 , B46 , B47 being (Element of D85) holds ( B45 "/\" ( B46 "/\" B47 ) ) = ( ( B45 "/\" B46 ) "/\" B47 ))
proof
let C62 , C63 , C64 being (Element of D85);
reconsider D86 = C62 , D87 = C63 , D88 = C64 as (Element of R17);
thus L603: ( C62 "/\" ( C63 "/\" C64 ) ) = ( (the L_meet of R1) . (C62 , ( C63 "/\" C64 )) ) by L599
.= ( D86 "/\" ( D87 "/\" D88 ) ) by L599
.= ( ( D86 "/\" D87 ) "/\" D88 ) by LATTICES:def 7
.= ( (the L_meet of R1) . (( C62 "/\" C63 ) , C64) ) by L599
.= ( ( C62 "/\" C63 ) "/\" C64 ) by L599;
end;
L604: (for B48 , B49 being (Element of D85) holds ( B48 "/\" ( B48 "\/" B49 ) ) = B48)
proof
let C65 , C66 being (Element of D85);
reconsider D89 = C65 , D90 = C66 as (Element of R17);
thus L605: ( C65 "/\" ( C65 "\/" C66 ) ) = ( (the L_meet of R1) . (C65 , ( C65 "\/" C66 )) ) by L599
.= ( D89 "/\" ( D89 "\/" D90 ) ) by L599
.= C65 by LATTICES:def 9;
end;
L606: (for B50 , B51 being (Element of D85) holds ( B50 "/\" B51 ) = ( B51 "/\" B50 ))
proof
let C67 , C68 being (Element of D85);
reconsider D91 = C67 , D92 = C68 as (Element of R17);
thus L607: ( C67 "/\" C68 ) = ( (the L_meet of R1) . (D91 , D92) ) by L599
.= ( D92 "/\" D91 ) by LATTICES:def 2
.= ( C68 "/\" C67 ) by L599;
end;
L608: (for B52 , B53 being (Element of D85) holds ( ( B52 "/\" B53 ) "\/" B53 ) = B53)
proof
let C69 , C70 being (Element of D85);
reconsider D93 = C69 , D94 = C70 as (Element of R17);
thus L609: ( ( C69 "/\" C70 ) "\/" C70 ) = ( (the L_join of R1) . (( C69 "/\" C70 ) , C70) ) by L599
.= ( ( D93 "/\" D94 ) "\/" D94 ) by L599
.= C70 by LATTICES:def 8;
end;
L610: (for B54 , B55 being (Element of D85) holds ( B54 "\/" B55 ) = ( B55 "\/" B54 ))
proof
let C71 , C72 being (Element of D85);
reconsider D95 = C71 , D96 = C72 as (Element of R17);
thus L611: ( C71 "\/" C72 ) = ( (the L_join of R1) . (D95 , D96) ) by L599
.= ( D96 "\/" D95 ) by LATTICES:def 1
.= ( C72 "\/" C71 ) by L599;
end;
L612: (for B56 , B57 , B58 being (Element of D85) holds ( B56 "\/" ( B57 "\/" B58 ) ) = ( ( B56 "\/" B57 ) "\/" B58 ))
proof
let C73 , C74 , C75 being (Element of D85);
reconsider D97 = C73 , D98 = C74 , D99 = C75 as (Element of R17);
thus L613: ( C73 "\/" ( C74 "\/" C75 ) ) = ( (the L_join of R1) . (C73 , ( C74 "\/" C75 )) ) by L599
.= ( D97 "\/" ( D98 "\/" D99 ) ) by L599
.= ( ( D97 "\/" D98 ) "\/" D99 ) by LATTICES:def 5
.= ( (the L_join of R1) . (( C73 "\/" C74 ) , C75) ) by L599
.= ( ( C73 "\/" C74 ) "\/" C75 ) by L599;
end;
L614: D85 is  join-commutative  join-associative  meet-absorbing  meet-commutative  meet-associative  join-absorbing by L612 , L610 , L608 , L606 , L602 , L604 , LATTICES:def 4 , LATTICES:def 5 , LATTICES:def 6 , LATTICES:def 7 , LATTICES:def 8 , LATTICES:def 9;
reconsider D100 = D85 as Lattice by L614;
take D100;
take D81;
take D84;
thus L615: thesis;
end;
end;
registration
let R1 being Lattice;
let R17 being (Filter of R1);
cluster ( latt R17 ) ->  strict;
coherence
proof
L617: (ex R39 being (BinOp of R17) st (ex R40 being (BinOp of R17) st (R39 = ( (the L_join of R1) || R17 ) & R40 = ( (the L_meet of R1) || R17 ) & ( latt R17 ) = LattStr (# R17 , R39 , R40 #)))) by L582;
thus L618: thesis by L617;
end;
end;
theorem
L620: (for B59 being  strict Lattice holds ( latt <. B59 .) ) = B59)
proof
let C76 being  strict Lattice;
L621: ( dom (the L_meet of C76) ) = [: (the carrier of C76) , (the carrier of C76) :] by FUNCT_2:def 1;
L622: (the L_meet of C76) = ( (the L_meet of C76) || (the carrier of C76) ) by L621 , RELAT_1:68;
L623: ( dom (the L_join of C76) ) = [: (the carrier of C76) , (the carrier of C76) :] by FUNCT_2:def 1;
L624: (the L_join of C76) = ( (the L_join of C76) || (the carrier of C76) ) by L623 , RELAT_1:68;
thus L625: thesis by L624 , L622 , L582;
end;
theorem
L626: (for R1 being Lattice holds (for R17 being (Filter of R1) holds ((the carrier of ( latt R17 )) = R17 & (the L_join of ( latt R17 )) = ( (the L_join of R1) || R17 ) & (the L_meet of ( latt R17 )) = ( (the L_meet of R1) || R17 ))))
proof
let R1 being Lattice;
let R17 being (Filter of R1);
L627: (ex R39 being (BinOp of R17) st (ex R40 being (BinOp of R17) st (R39 = ( (the L_join of R1) || R17 ) & R40 = ( (the L_meet of R1) || R17 ) & ( latt R17 ) = LattStr (# R17 , R39 , R40 #)))) by L582;
thus L628: thesis by L627;
end;
theorem
L629: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R4 being (Element of R1) holds (for R17 being (Filter of R1) holds (for B60 , B61 being (Element of ( latt R17 )) holds ((R2 = B60 & R4 = B61) implies (( R2 "\/" R4 ) = ( B60 "\/" B61 ) & ( R2 "/\" R4 ) = ( B60 "/\" B61 ))))))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
let R4 being (Element of R1);
let R17 being (Filter of R1);
let C77 , C78 being (Element of ( latt R17 ));
assume that
L630: (R2 = C77 & R4 = C78);
consider R39 being (BinOp of R17), R40 being (BinOp of R17) such that L631: R39 = ( (the L_join of R1) || R17 ) and L632: R40 = ( (the L_meet of R1) || R17 ) and L633: ( latt R17 ) = LattStr (# R17 , R39 , R40 #) by L582;
L634: ( dom R39 ) = [: R17 , R17 :] by FUNCT_2:def 1;
L635: [ R2 , R4 ] in ( dom R39 ) by L634 , L630 , L633 , ZFMISC_1:87;
thus L636: ( R2 "\/" R4 ) = ( C77 "\/" C78 ) by L635 , L630 , L631 , L633 , FUNCT_1:47;
L637: ( dom R40 ) = [: R17 , R17 :] by FUNCT_2:def 1;
L638: [ R2 , R4 ] in ( dom R40 ) by L637 , L630 , L633 , ZFMISC_1:87;
thus L639: thesis by L638 , L630 , L632 , L633 , FUNCT_1:47;
end;
theorem
L640: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R4 being (Element of R1) holds (for R17 being (Filter of R1) holds (for B62 , B63 being (Element of ( latt R17 )) holds ((R2 = B62 & R4 = B63) implies (R2 [= R4 iff B62 [= B63)))))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
let R4 being (Element of R1);
let R17 being (Filter of R1);
let C79 , C80 being (Element of ( latt R17 ));
L641: (R2 [= R4 iff ( R2 "\/" R4 ) = R4) by LATTICES:def 3;
L642: (C79 [= C80 iff ( C79 "\/" C80 ) = C80) by LATTICES:def 3;
assume L643: (R2 = C79 & R4 = C80);
thus L644: thesis by L643 , L641 , L642 , L629;
end;
theorem
L645: (for R1 being Lattice holds (for R17 being (Filter of R1) holds (R1 is  upper-bounded implies ( latt R17 ) is  upper-bounded)))
proof
let R1 being Lattice;
let R17 being (Filter of R1);
given R2 being (Element of R1) such that
L646: (for R4 being (Element of R1) holds (( R2 "\/" R4 ) = R2 & ( R4 "\/" R2 ) = R2));

consider R4 being (Element of R1) such that L647: R4 in R17 by SUBSET_1:4;
L648: (ex R39 being (BinOp of R17) st (ex R40 being (BinOp of R17) st (R39 = ( (the L_join of R1) || R17 ) & R40 = ( (the L_meet of R1) || R17 ) & ( latt R17 ) = LattStr (# R17 , R39 , R40 #)))) by L582;
L649: ( R2 "\/" R4 ) = R2 by L646;
reconsider D101 = R2 as (Element of ( latt R17 )) by L649 , L647 , L648 , L52;
take D101;
let C81 being (Element of ( latt R17 ));
reconsider D102 = C81 as (Element of R17) by L648;
thus L650: ( D101 "\/" C81 ) = ( R2 "\/" D102 ) by L629
.= D101 by L646;
thus L651: thesis by L650;
end;
theorem
L652: (for R1 being Lattice holds (for R17 being (Filter of R1) holds (R1 is  modular implies ( latt R17 ) is  modular)))
proof
let R1 being Lattice;
let R17 being (Filter of R1);
assume L653: (for B64 , B65 , B66 being (Element of R1) holds (B64 [= B66 implies ( B64 "\/" ( B65 "/\" B66 ) ) = ( ( B64 "\/" B65 ) "/\" B66 )));
let C82 , C83 , C84 being (Element of ( latt R17 ));
assume that
L654: C82 [= C84;
reconsider D103 = C82 , D104 = C83 , D105 = C84 as (Element of R17) by L626;
L655: ( C83 "/\" C84 ) = ( D104 "/\" D105 ) by L629;
L656: ( C82 "\/" ( C83 "/\" C84 ) ) = ( D103 "\/" ( D104 "/\" D105 ) ) by L655 , L629;
L657: ( C82 "\/" C83 ) = ( D103 "\/" D104 ) by L629;
L658: ( ( C82 "\/" C83 ) "/\" C84 ) = ( ( D103 "\/" D104 ) "/\" D105 ) by L657 , L629;
L659: D103 [= D105 by L654 , L640;
thus L660: ( C82 "\/" ( C83 "/\" C84 ) ) = ( ( C82 "\/" C83 ) "/\" C84 ) by L659 , L653 , L656 , L658;
end;
theorem
L661: (for R1 being Lattice holds (for R17 being (Filter of R1) holds (R1 is  distributive implies ( latt R17 ) is  distributive)))
proof
let R1 being Lattice;
let R17 being (Filter of R1);
assume L662: (for R2 being (Element of R1) holds (for R4 being (Element of R1) holds (for R6 being (Element of R1) holds ( R2 "/\" ( R4 "\/" R6 ) ) = ( ( R2 "/\" R4 ) "\/" ( R2 "/\" R6 ) ))));
let C85 , C86 , C87 being (Element of ( latt R17 ));
reconsider D106 = C85 , D107 = C86 , D108 = C87 , D109 = ( C86 "\/" C87 ) as (Element of R17) by L626;
L663: (( C85 "/\" C86 ) = ( D106 "/\" D107 ) & ( C85 "/\" C87 ) = ( D106 "/\" D108 )) by L629;
thus L664: ( C85 "/\" ( C86 "\/" C87 ) ) = ( D106 "/\" D109 ) by L629
.= ( D106 "/\" ( D107 "\/" D108 ) ) by L629
.= ( ( D106 "/\" D107 ) "\/" ( D106 "/\" D108 ) ) by L662
.= ( ( C85 "/\" C86 ) "\/" ( C85 "/\" C87 ) ) by L663 , L629;
end;
theorem
L665: (for R1 being Lattice holds (for R17 being (Filter of R1) holds (R1 is I_Lattice implies ( latt R17 ) is  implicative)))
proof
let R1 being Lattice;
let R17 being (Filter of R1);
assume L666: R1 is I_Lattice;
reconsider D110 = R1 as I_Lattice by L666;
reconsider D111 = R17 as (Filter of D110);
let C88 , C89 being (Element of ( latt R17 ));
reconsider D112 = C88 , D113 = C89 as (Element of R17) by L626;
consider R6 being (Element of R1) such that L667: ( D112 "/\" R6 ) [= D113 and L668: (for R7 being (Element of R1) holds (( D112 "/\" R7 ) [= D113 implies R7 [= R6)) by L666 , L294;
reconsider D114 = D112 , D115 = D113 as (Element of D110);
L669: ( D114 => D115 ) in D111 by L339;
L670: ( D114 => D115 ) = R6 by L667 , L668 , L303;
reconsider D116 = R6 as (Element of ( latt R17 )) by L670 , L669 , L626;
take D116;
L671: ( D112 "/\" R6 ) = ( C88 "/\" D116 ) by L629;
thus L672: ( C88 "/\" D116 ) [= C89 by L671 , L667 , L640;
let C90 being (Element of ( latt R17 ));
assume that
L673: ( C88 "/\" C90 ) [= C89;
reconsider D117 = C90 as (Element of R17) by L626;
L674: ( D112 "/\" D117 ) = ( C88 "/\" C90 ) by L629;
L675: ( D112 "/\" D117 ) [= D113 by L674 , L673 , L640;
L676: D117 [= R6 by L675 , L668;
thus L677: thesis by L676 , L640;
end;
registration
let R1 being Lattice;
let R2 being (Element of R1);
cluster ( latt <. R2 .) ) ->  lower-bounded;
coherence
proof
L678: (the carrier of ( latt <. R2 .) )) = <. R2 .) by L626;
reconsider D118 = R2 as (Element of ( latt <. R2 .) )) by L678 , L105;
take D118;
let C91 being (Element of ( latt <. R2 .) ));
reconsider D119 = C91 as (Element of <. R2 .)) by L626;
L679: R2 [= D119 by L102;
L680: ( R2 "/\" D119 ) = R2 by L679 , LATTICES:4;
thus L681: thesis by L680 , L629;
end;
end;
theorem
L683: (for R1 being Lattice holds (for R2 being (Element of R1) holds ( Bottom ( latt <. R2 .) ) ) = R2))
proof
let R1 being Lattice;
let R2 being (Element of R1);
consider C92 being (Element of ( latt <. R2 .) )) such that L684: (for B67 being (Element of ( latt <. R2 .) )) holds (( C92 "/\" B67 ) = C92 & ( B67 "/\" C92 ) = C92)) by LATTICES:def 13;
L685: (the carrier of ( latt <. R2 .) )) = <. R2 .) by L626;
reconsider D120 = R2 as (Element of ( latt <. R2 .) )) by L685 , L105;
reconsider D121 = C92 as (Element of <. R2 .)) by L626;
L686: ( C92 "/\" D120 ) = C92 by L684;
L687: C92 [= D120 by L686 , LATTICES:4;
L688: D121 [= R2 by L687 , L640;
L689: R2 [= D121 by L102;
L690: C92 = ( Bottom ( latt <. R2 .) ) ) by L684 , RLSUB_2:64;
thus L691: thesis by L690 , L688 , L689 , LATTICES:8;
end;
theorem
L692: (for R1 being Lattice holds (for R2 being (Element of R1) holds (R1 is  upper-bounded implies ( Top ( latt <. R2 .) ) ) = ( Top R1 ))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
given R4 being (Element of R1) such that
L693: (for R6 being (Element of R1) holds (( R4 "\/" R6 ) = R4 & ( R6 "\/" R4 ) = R4));

L694: R1 is 1_Lattice by L693 , LATTICES:def 14;
L695: ( Top R1 ) in <. R2 .) by L694 , L55;
reconsider D122 = ( Top R1 ) as (Element of ( latt <. R2 .) )) by L695 , L626;
L696: R4 = ( Top R1 ) by L693 , RLSUB_2:65;
L697:
now
let C93 being (Element of ( latt <. R2 .) ));
reconsider D123 = C93 as (Element of <. R2 .)) by L626;
thus L698: ( C93 "\/" D122 ) = ( R4 "\/" D123 ) by L696 , L629
.= D122 by L693 , L696;
end;
thus L699: thesis by L697 , RLSUB_2:65;
end;
theorem
L700: (for R1 being Lattice holds (for R2 being (Element of R1) holds (R1 is 1_Lattice implies ( latt <. R2 .) ) is  bounded)))
proof
let R1 being Lattice;
let R2 being (Element of R1);
assume L701: R1 is 1_Lattice;
thus L702: (( latt <. R2 .) ) is  lower-bounded & ( latt <. R2 .) ) is  upper-bounded) by L701 , L645;
end;
theorem
L703: (for R1 being Lattice holds (for R2 being (Element of R1) holds ((R1 is C_Lattice & R1 is M_Lattice) implies ( latt <. R2 .) ) is C_Lattice)))
proof
let R1 being Lattice;
let R2 being (Element of R1);
assume that
L704: R1 is C_Lattice
and
L705: R1 is M_Lattice;
reconsider D124 = R1 as C_Lattice by L704;
reconsider D125 = ( latt <. R2 .) ) as 01_Lattice by L704 , L700;
L706: D125 is  complemented
proof
let C94 being (Element of D125);
reconsider D126 = C94 as (Element of <. R2 .)) by L626;
reconsider D127 = R2 as (Element of D124);
consider R4 being (Element of R1) such that L707: R4 is_a_complement_of D126 by L704 , LATTICES:def 19;
L708: (the carrier of ( latt <. R2 .) )) = <. R2 .) by L626;
reconsider D128 = ( R2 "\/" R4 ) as (Element of D125) by L708 , L105;
take D128;
thus L709: ( D128 "\/" C94 ) = ( ( R2 "\/" R4 ) "\/" D126 ) by L629
.= ( R2 "\/" ( R4 "\/" D126 ) ) by LATTICES:def 5
.= ( D127 "\/" ( Top D124 ) ) by L707 , LATTICES:def 18
.= ( Top R1 )
.= ( Top D125 ) by L704 , L692;
thus L710: ( C94 "\/" D128 ) = ( Top D125 ) by L709;
L711: R2 [= D126 by L102;
L712: ( ( R2 "\/" R4 ) "/\" D126 ) = ( R2 "\/" ( R4 "/\" D126 ) ) by L711 , L705 , LATTICES:def 12;
thus L713: ( D128 "/\" C94 ) = ( R2 "\/" ( R4 "/\" D126 ) ) by L712 , L629
.= ( D127 "\/" ( Bottom D124 ) ) by L707 , LATTICES:def 18
.= R2
.= ( Bottom D125 ) by L683;
thus L714: thesis by L713;
end;
thus L715: thesis by L706;
end;
theorem
L716: (for R1 being Lattice holds (for R2 being (Element of R1) holds (R1 is B_Lattice implies ( latt <. R2 .) ) is B_Lattice)))
proof
let R1 being Lattice;
let R2 being (Element of R1);
assume L717: R1 is B_Lattice;
L718: ( latt <. R2 .) ) is  bounded  complemented  distributive  bounded  complemented  distributive  bounded  complemented  distributive  bounded  complemented  distributive Lattice by L717 , L661 , L703;
thus L719: thesis by L718;
end;
definition
let R1 being Lattice;
let R2 being (Element of R1);
let R4 being (Element of R1);
func R2 <=> R4 -> (Element of R1) equals 
( ( R2 => R4 ) "/\" ( R4 => R2 ) );
correctness;
end;
theorem
L721: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R4 being (Element of R1) holds ( R2 <=> R4 ) = ( R4 <=> R2 ))));
theorem
L722: (for R28 being I_Lattice holds (for R29 being (Element of R28) holds (for R30 being (Element of R28) holds (for R31 being (Element of R28) holds (for R33 being (Filter of R28) holds ((( R29 <=> R30 ) in R33 & ( R30 <=> R31 ) in R33) implies ( R29 <=> R31 ) in R33))))))
proof
let R28 being I_Lattice;
let R29 being (Element of R28);
let R30 being (Element of R28);
let R31 being (Element of R28);
let R33 being (Filter of R28);
assume L723: (( R29 <=> R30 ) in R33 & ( R30 <=> R31 ) in R33);
L724: (( R30 => R29 ) in R33 & ( R31 => R30 ) in R33) by L723 , L33;
L725: ( R31 => R29 ) in R33 by L724 , L482;
L726: (( R29 => R30 ) in R33 & ( R30 => R31 ) in R33) by L723 , L33;
L727: ( R29 => R31 ) in R33 by L726 , L482;
thus L728: thesis by L727 , L725 , L33;
end;
definition
let R1 being Lattice;
let R17 being (Filter of R1);
func equivalence_wrt R17 -> Relation means 
:L729: (( field it ) c= (the carrier of R1) & (for R2 being (Element of R1) holds (for R4 being (Element of R1) holds ([ R2 , R4 ] in it iff ( R2 <=> R4 ) in R17))));
existence
proof
defpred S2[ set , set ] means (ex R2 being (Element of R1) st (ex R4 being (Element of R1) st ($1 = R2 & $2 = R4 & ( R2 <=> R4 ) in R17)));
consider C95 being Relation such that L730: (for R8 being set holds (for R9 being set holds ([ R8 , R9 ] in C95 iff (R8 in (the carrier of R1) & R9 in (the carrier of R1) & S2[ R8 , R9 ])))) from RELAT_1:sch 1;
take C95;
thus L731: ( field C95 ) c= (the carrier of R1)
proof
let R8 being set;
assume L732: R8 in ( field C95 );
L733: (ex R9 being set st ([ R8 , R9 ] in C95 or [ R9 , R8 ] in C95)) by L732 , WELLSET1:1;
thus L734: thesis by L733 , L730;
end;

let R2 being (Element of R1);
let R4 being (Element of R1);
thus L735: ([ R2 , R4 ] in C95 implies ( R2 <=> R4 ) in R17)
proof
assume L736: [ R2 , R4 ] in C95;
L737: (ex R3 being (Element of R1) st (ex R5 being (Element of R1) st (R2 = R3 & R4 = R5 & ( R3 <=> R5 ) in R17))) by L736 , L730;
thus L738: thesis by L737;
end;

thus L739: thesis by L730;
end;
uniqueness
proof
let C96 , C97 being Relation;
assume that
L740: ( field C96 ) c= (the carrier of R1)
and
L741: (for R2 being (Element of R1) holds (for R4 being (Element of R1) holds ([ R2 , R4 ] in C96 iff ( R2 <=> R4 ) in R17)))
and
L742: ( field C97 ) c= (the carrier of R1)
and
L743: (for R2 being (Element of R1) holds (for R4 being (Element of R1) holds ([ R2 , R4 ] in C97 iff ( R2 <=> R4 ) in R17)));
let R8 being set;
let R9 being set;
thus L744: ([ R8 , R9 ] in C96 implies [ R8 , R9 ] in C97)
proof
assume L745: [ R8 , R9 ] in C96;
L746: (R8 in ( field C96 ) & R9 in ( field C96 )) by L745 , RELAT_1:15;
reconsider D129 = R8 , D130 = R9 as (Element of R1) by L746 , L740;
L747: ( D129 <=> D130 ) in R17 by L741 , L745;
thus L748: thesis by L747 , L743;
end;

assume L749: [ R8 , R9 ] in C97;
L750: (R8 in ( field C97 ) & R9 in ( field C97 )) by L749 , RELAT_1:15;
reconsider D131 = R8 , D132 = R9 as (Element of R1) by L750 , L742;
L751: ( D131 <=> D132 ) in R17 by L743 , L749;
thus L752: thesis by L751 , L741;
end;
end;
theorem
L754: (for R1 being Lattice holds (for R17 being (Filter of R1) holds ( equivalence_wrt R17 ) is (Relation of (the carrier of R1))))
proof
let R1 being Lattice;
let R17 being (Filter of R1);
L755: ( equivalence_wrt R17 ) c= [: (the carrier of R1) , (the carrier of R1) :]
proof
let R9 being set;
let R10 being set;
assume L756: [ R9 , R10 ] in ( equivalence_wrt R17 );
L757: (R9 in ( field ( equivalence_wrt R17 ) ) & R10 in ( field ( equivalence_wrt R17 ) )) by L756 , RELAT_1:15;
L758: ( field ( equivalence_wrt R17 ) ) c= (the carrier of R1) by L729;
thus L759: thesis by L758 , L757 , ZFMISC_1:87;
end;
thus L760: thesis by L755;
end;
theorem
L761: (for R1 being Lattice holds (for R17 being (Filter of R1) holds (R1 is I_Lattice implies ( equivalence_wrt R17 ) is_reflexive_in (the carrier of R1))))
proof
let R1 being Lattice;
let R17 being (Filter of R1);
assume L762: R1 is I_Lattice;
let R8 being set;
assume L763: R8 in (the carrier of R1);
reconsider D133 = R8 as (Element of R1) by L763;
L764: ( D133 => D133 ) = ( Top R1 ) by L762 , L313;
L765: ( D133 <=> D133 ) = ( Top R1 ) by L764;
L766: ( D133 <=> D133 ) in R17 by L765 , L762 , L55;
thus L767: thesis by L766 , L729;
end;
theorem
L768: (for R1 being Lattice holds (for R17 being (Filter of R1) holds ( equivalence_wrt R17 ) is_symmetric_in (the carrier of R1)))
proof
let R1 being Lattice;
let R17 being (Filter of R1);
let R8 being set;
let R9 being set;
assume L769: (R8 in (the carrier of R1) & R9 in (the carrier of R1));
reconsider D134 = R8 , D135 = R9 as (Element of R1) by L769;
assume L770: [ R8 , R9 ] in ( equivalence_wrt R17 );
L771: ( D134 <=> D135 ) in R17 by L770 , L729;
L772: ( D135 <=> D134 ) in R17 by L771;
thus L773: thesis by L772 , L729;
end;
theorem
L774: (for R1 being Lattice holds (for R17 being (Filter of R1) holds (R1 is I_Lattice implies ( equivalence_wrt R17 ) is_transitive_in (the carrier of R1))))
proof
let R1 being Lattice;
let R17 being (Filter of R1);
assume L775: R1 is I_Lattice;
let R8 being set;
let R9 being set;
let R10 being set;
assume L776: (R8 in (the carrier of R1) & R9 in (the carrier of R1) & R10 in (the carrier of R1));
reconsider D136 = R8 , D137 = R9 , D138 = R10 as (Element of R1) by L776;
assume L777: ([ R8 , R9 ] in ( equivalence_wrt R17 ) & [ R9 , R10 ] in ( equivalence_wrt R17 ));
L778: (( D136 <=> D137 ) in R17 & ( D137 <=> D138 ) in R17) by L777 , L729;
L779: ( D136 <=> D138 ) in R17 by L778 , L775 , L722;
thus L780: thesis by L779 , L729;
end;
theorem
L781: (for R1 being Lattice holds (for R17 being (Filter of R1) holds (R1 is I_Lattice implies ( equivalence_wrt R17 ) is (Equivalence_Relation of (the carrier of R1)))))
proof
let R1 being Lattice;
let R17 being (Filter of R1);
reconsider D139 = ( equivalence_wrt R17 ) as (Relation of (the carrier of R1)) by L754;
L782: D139 is_symmetric_in (the carrier of R1) by L768;
assume L783: R1 is I_Lattice;
L784: D139 is_reflexive_in (the carrier of R1) by L783 , L761;
L785: (( field D139 ) = (the carrier of R1) & ( dom D139 ) = (the carrier of R1)) by L784 , ORDERS_1:13;
L786: D139 is_transitive_in (the carrier of R1) by L783 , L774;
thus L787: thesis by L786 , L785 , L782 , PARTFUN1:def 2 , RELAT_2:def 11 , RELAT_2:def 16;
end;
theorem
L788: (for R1 being Lattice holds (for R17 being (Filter of R1) holds (R1 is I_Lattice implies ( field ( equivalence_wrt R17 ) ) = (the carrier of R1))))
proof
let R1 being Lattice;
let R17 being (Filter of R1);
assume L789: R1 is I_Lattice;
L790: ( equivalence_wrt R17 ) is (Equivalence_Relation of (the carrier of R1)) by L789 , L781;
thus L791: thesis by L790 , ORDERS_1:12;
end;
definition
let R28 being I_Lattice;
let R33 being (Filter of R28);
redefine func equivalence_wrt R33 -> (Equivalence_Relation of (the carrier of R28));

coherence by L781;
end;
definition
let R25 being B_Lattice;
let R26 being (Filter of R25);
redefine func equivalence_wrt R26 -> (Equivalence_Relation of (the carrier of R25));

coherence by L781;
end;
definition
let R1 being Lattice;
let R17 being (Filter of R1);
let R2 being (Element of R1);
let R4 being (Element of R1);
pred R2 , R4 are_equivalence_wrt R17
means
:L794: ( R2 <=> R4 ) in R17
;end;
theorem
L796: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R4 being (Element of R1) holds (for R17 being (Filter of R1) holds (R2 , R4 are_equivalence_wrt R17 iff [ R2 , R4 ] in ( equivalence_wrt R17 ))))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
let R4 being (Element of R1);
let R17 being (Filter of R1);
L797: (R2 , R4 are_equivalence_wrt R17 iff ( R2 <=> R4 ) in R17) by L794;
thus L798: thesis by L797 , L729;
end;
theorem
L799: (for R25 being B_Lattice holds (for R26 being (Filter of R25) holds (for R28 being I_Lattice holds (for R29 being (Element of R28) holds (for R33 being (Filter of R28) holds (for R36 being (Element of R25) holds (R29 , R29 are_equivalence_wrt R33 & R36 , R36 are_equivalence_wrt R26)))))))
proof
let R25 being B_Lattice;
let R26 being (Filter of R25);
let R28 being I_Lattice;
let R29 being (Element of R28);
let R33 being (Filter of R28);
let R36 being (Element of R25);
L800: ( R36 => R36 ) = ( Top R25 ) by L313;
L801: (( R29 => R29 ) = ( Top R28 ) & ( ( Top R28 ) "/\" ( Top R28 ) ) = ( Top R28 )) by L313;
thus L802: (( R29 <=> R29 ) in R33 & ( R36 <=> R36 ) in R26) by L801 , L800 , L55;
end;
theorem
L803: (for R1 being Lattice holds (for R2 being (Element of R1) holds (for R4 being (Element of R1) holds (for R17 being (Filter of R1) holds (R2 , R4 are_equivalence_wrt R17 implies R4 , R2 are_equivalence_wrt R17)))))
proof
let R1 being Lattice;
let R2 being (Element of R1);
let R4 being (Element of R1);
let R17 being (Filter of R1);
assume L804: ( R2 <=> R4 ) in R17;
thus L805: ( R4 <=> R2 ) in R17 by L804;
end;
theorem
L806: (for R25 being B_Lattice holds (for R26 being (Filter of R25) holds (for R28 being I_Lattice holds (for R29 being (Element of R28) holds (for R30 being (Element of R28) holds (for R31 being (Element of R28) holds (for R33 being (Filter of R28) holds (for R36 being (Element of R25) holds (for R37 being (Element of R25) holds (for R38 being (Element of R25) holds (((R29 , R30 are_equivalence_wrt R33 & R30 , R31 are_equivalence_wrt R33) implies R29 , R31 are_equivalence_wrt R33) & ((R36 , R37 are_equivalence_wrt R26 & R37 , R38 are_equivalence_wrt R26) implies R36 , R38 are_equivalence_wrt R26))))))))))))
proof
let R25 being B_Lattice;
let R26 being (Filter of R25);
let R28 being I_Lattice;
let R29 being (Element of R28);
let R30 being (Element of R28);
let R31 being (Element of R28);
let R33 being (Filter of R28);
let R36 being (Element of R25);
let R37 being (Element of R25);
let R38 being (Element of R25);
thus L807: ((R29 , R30 are_equivalence_wrt R33 & R30 , R31 are_equivalence_wrt R33) implies R29 , R31 are_equivalence_wrt R33)
proof
assume L808: (( R29 <=> R30 ) in R33 & ( R30 <=> R31 ) in R33);
thus L809: ( R29 <=> R31 ) in R33 by L808 , L722;
end;

assume L810: (( R36 <=> R37 ) in R26 & ( R37 <=> R38 ) in R26);
thus L811: ( R36 <=> R38 ) in R26 by L810 , L722;
end;
begin
theorem
L812: (for B68 being  meet-absorbing  meet-commutative  meet-associative  join-absorbing  join-commutative non  empty LattStr holds (for B69 , B70 , B71 being (Element of B68) holds ((B71 [= B69 & B71 [= B70 & (for B72 being (Element of B68) holds ((B72 [= B69 & B72 [= B70) implies B72 [= B71))) implies B71 = ( B69 "/\" B70 ))))
proof
let C98 being  meet-absorbing  meet-commutative  meet-associative  join-absorbing  join-commutative non  empty LattStr;
let C99 , C100 , C101 being (Element of C98);
assume that
L813: (C101 [= C99 & C101 [= C100)
and
L814: (for B73 being (Element of C98) holds ((B73 [= C99 & B73 [= C100) implies B73 [= C101));
L815: (( C99 "/\" C100 ) [= C99 & ( C99 "/\" C100 ) [= C100) by LATTICES:6;
L816: ( C99 "/\" C100 ) [= C101 by L815 , L814;
L817: C101 [= ( C99 "/\" C100 ) by L813 , L29;
thus L818: thesis by L817 , L816 , LATTICES:8;
end;
theorem
L819: (for B74 being  meet-absorbing  meet-commutative  join-associative  join-absorbing  join-commutative non  empty LattStr holds (for B75 , B76 , B77 being (Element of B74) holds ((B75 [= B77 & B76 [= B77 & (for B78 being (Element of B74) holds ((B75 [= B78 & B76 [= B78) implies B77 [= B78))) implies B77 = ( B75 "\/" B76 ))))
proof
let C102 being  meet-absorbing  meet-commutative  join-associative  join-absorbing  join-commutative non  empty LattStr;
let C103 , C104 , C105 being (Element of C102);
assume that
L820: (C103 [= C105 & C104 [= C105)
and
L821: (for B79 being (Element of C102) holds ((C103 [= B79 & C104 [= B79) implies C105 [= B79));
L822: (C103 [= ( C103 "\/" C104 ) & C104 [= ( C103 "\/" C104 )) by LATTICES:5;
L823: C105 [= ( C103 "\/" C104 ) by L822 , L821;
L824: ( C103 "\/" C104 ) [= C105 by L820 , L26;
thus L825: thesis by L824 , L823 , LATTICES:8;
end;
