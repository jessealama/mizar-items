:: Subalgebras of a Order Sorted Algebra. {L}attice of Subalgebras
::  by Josef Urban
::
:: Received September 19, 2002
:: Copyright (c) 2002-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies XBOOLE_0, ORDERS_2, OSALG_1, PBOOLE, SUBSET_1, XXREAL_0, FUNCT_1,
      TARSKI, RELAT_1, MSUALG_1, MSUALG_2, SEQM_3, STRUCT_0, UNIALG_2, CARD_3,
      ZFMISC_1, QC_LANG1, SETFAM_1, BINOP_1, LATTICES, EQREL_1, XXREAL_2,
      OSALG_2;
 notations TARSKI, XBOOLE_0, SUBSET_1, RELAT_1, FUNCT_1, SETFAM_1, BINOP_1,
      CARD_3, MBOOLEAN, PBOOLE, FINSEQ_2, STRUCT_0, LATTICES, MSUALG_1,
      ORDERS_2, MSUALG_2, OSALG_1;
 constructors SETFAM_1, MBOOLEAN, MSUALG_2, ORDERS_3, OSALG_1, RELSET_1,
      CARD_3;
 registrations XBOOLE_0, SUBSET_1, RELSET_1, STRUCT_0, LATTICES, MSUALG_1,
      MSUALG_2, ORDERS_3, OSALG_1, FUNCT_1, RELAT_1, PBOOLE, FINSEQ_1;
 requirements BOOLE, SUBSET;
 definitions TARSKI, PBOOLE, LATTICES, OSALG_1, MSUALG_2;
 theorems TARSKI, XBOOLE_0, XBOOLE_1, FUNCT_1, PBOOLE, CARD_3, MSUALG_1,
      FUNCT_2, ZFMISC_1, SETFAM_1, BINOP_1, LATTICES, RELAT_1, OSALG_1,
      ORDERS_2, MSUALG_2, MBOOLEAN, PARTFUN1;
 schemes XBOOLE_0, BINOP_1, FUNCT_1;

begin
theorem
L1: (for R2 being non  empty Poset holds (for B1 , B2 being (OrderSortedSet of R2) holds ( B1 /\ B2 ) is (OrderSortedSet of R2)))
proof
let R2 being non  empty Poset;
let C1 , C2 being (OrderSortedSet of R2);
reconsider D1 = ( C1 /\ C2 ) as (ManySortedSet of R2);
L2: D1 is  order-sorted
proof
let C3 , C4 being (Element of R2);
assume L3: C3 <= C4;
L4: (( C1 . C3 ) c= ( C1 . C4 ) & ( C2 . C3 ) c= ( C2 . C4 )) by L3 , OSALG_1:def 16;
L5: (( ( C1 /\ C2 ) . C3 ) = ( ( C1 . C3 ) /\ ( C2 . C3 ) ) & ( ( C1 /\ C2 ) . C4 ) = ( ( C1 . C4 ) /\ ( C2 . C4 ) )) by PBOOLE:def 5;
thus L6: thesis by L5 , L4 , XBOOLE_1:27;
end;
thus L7: thesis by L2;
end;
theorem
L8: (for R2 being non  empty Poset holds (for B3 , B4 being (OrderSortedSet of R2) holds ( B3 \/ B4 ) is (OrderSortedSet of R2)))
proof
let R2 being non  empty Poset;
let C5 , C6 being (OrderSortedSet of R2);
reconsider D2 = ( C5 \/ C6 ) as (ManySortedSet of R2);
L9: D2 is  order-sorted
proof
let C7 , C8 being (Element of R2);
assume L10: C7 <= C8;
L11: (( C5 . C7 ) c= ( C5 . C8 ) & ( C6 . C7 ) c= ( C6 . C8 )) by L10 , OSALG_1:def 16;
L12: (( ( C5 \/ C6 ) . C7 ) = ( ( C5 . C7 ) \/ ( C6 . C7 ) ) & ( ( C5 \/ C6 ) . C8 ) = ( ( C5 . C8 ) \/ ( C6 . C8 ) )) by PBOOLE:def 4;
thus L13: thesis by L12 , L11 , XBOOLE_1:13;
end;
thus L14: thesis by L9;
end;
definition
let C9 being non  empty Poset;
let C10 being (OrderSortedSet of C9);
mode OrderSortedSubset of C10
 -> (ManySortedSubset of C10)
means :L15: it is (OrderSortedSet of C9);
existence
proof
reconsider D3 = C10 as (ManySortedSubset of C10) by PBOOLE:def 18;
take D3;
thus L16: thesis;
end;
end;
registration
let C11 being non  empty Poset;
let C12 being  non-empty (OrderSortedSet of C11);
cluster  non-empty for (OrderSortedSubset of C12);
existence
proof
reconsider D4 = C12 as (ManySortedSubset of C12) by PBOOLE:def 18;
reconsider D5 = D4 as (OrderSortedSubset of C12) by L15;
take D5;
thus L18: thesis;
end;
end;
begin
definition
let C13 being OrderSortedSign;
let C14 being (OSAlgebra of C13);
mode OSSubset of C14
 -> (ManySortedSubset of (the Sorts of C14))
means :L20: it is (OrderSortedSet of C13);
existence
proof
reconsider D6 = (the Sorts of C14) as (MSSubset of C14) by PBOOLE:def 18;
take D6;
thus L21: thesis by OSALG_1:17;
end;
end;
registration
let C15 being OrderSortedSign;
cluster  monotone  strict  non-empty for (OSAlgebra of C15);
existence
proof
set D7 = the (Element of { ( {} ) });
take ( TrivialOSA (C15 , { ( {} ) } , D7) );
thus L23: thesis;
end;
end;
registration
let C16 being OrderSortedSign;
let C17 being  non-empty (OSAlgebra of C16);
cluster  non-empty for (OSSubset of C17);
existence
proof
reconsider D8 = (the Sorts of C17) as (MSSubset of C17) by PBOOLE:def 18;
L25: (the Sorts of C17) is (OrderSortedSet of C16) by OSALG_1:17;
reconsider D9 = D8 as (OSSubset of C17) by L25 , L20;
take D9;
thus L26: thesis;
end;
end;
theorem
L28: (for B5 being non  void  all-with_const_op  strict non  empty ManySortedSign holds ( OSSign B5 ) is  all-with_const_op)
proof
let C18 being non  void  all-with_const_op  strict non  empty ManySortedSign;
let C19 being (Element of ( OSSign C18 ));
reconsider D10 = C19 as (Element of C18) by OSALG_1:def 5;
L29: D10 is  with_const_op by MSUALG_2:def 2;
consider C20 being (Element of (the carrier' of C18)) such that L30: (( (the Arity of C18) . C20 ) = ( {} ) & ( (the ResultSort of C18) . C20 ) = D10) by L29 , MSUALG_2:def 1;
L31: C20 is (Element of (the carrier' of ( OSSign C18 ))) by OSALG_1:def 5;
L32: (( (the Arity of ( OSSign C18 )) . C20 ) = ( {} ) & ( (the ResultSort of ( OSSign C18 )) . C20 ) = D10) by L30 , OSALG_1:def 5;
thus L33: thesis by L32 , L31 , MSUALG_2:def 1;
end;
registration
cluster  all-with_const_op  strict for OrderSortedSign;
existence
proof
set D11 = the non  void  all-with_const_op  strict non  empty ManySortedSign;
take ( OSSign D11 );
thus L34: thesis by L28;
end;
end;
begin
theorem
L36: (for B6 being OrderSortedSign holds (for B7 being (OSAlgebra of B6) holds MSAlgebra (# (the Sorts of B7) , (the Charact of B7) #) is  order-sorted))
proof
let C21 being OrderSortedSign;
let C22 being (OSAlgebra of C21);
L37: (the Sorts of C22) is (OrderSortedSet of C21) by OSALG_1:17;
thus L38: thesis by L37 , OSALG_1:17;
end;
registration
let C23 being OrderSortedSign;
let C24 being (OSAlgebra of C23);
cluster  order-sorted for (MSSubAlgebra of C24);
existence
proof
reconsider D12 = MSAlgebra (# (the Sorts of C24) , (the Charact of C24) #) as  strict (MSSubAlgebra of C24) by MSUALG_2:37;
take D12;
thus L39: thesis by L36;
end;
end;
definition
let C25 being OrderSortedSign;
let C26 being (OSAlgebra of C25);
mode OSSubAlgebra of C26
 is  order-sorted (MSSubAlgebra of C26);
end;
registration
let C27 being OrderSortedSign;
let C28 being (OSAlgebra of C27);
cluster  strict for (OSSubAlgebra of C28);
existence
proof
reconsider D13 = MSAlgebra (# (the Sorts of C28) , (the Charact of C28) #) as  order-sorted (MSSubAlgebra of C28) by L36 , MSUALG_2:37;
take D13;
thus L42: thesis;
end;
end;
registration
let C29 being OrderSortedSign;
let C30 being  non-empty (OSAlgebra of C29);
cluster  non-empty  strict for (OSSubAlgebra of C30);
existence
proof
set D14 = MSAlgebra (# (the Sorts of C30) , (the Charact of C30) #);
L44: (the Sorts of C30) is (OrderSortedSet of C29) by OSALG_1:17;
reconsider D15 = D14 as  strict (OSSubAlgebra of C30) by L44 , MSUALG_2:37 , OSALG_1:17;
take D15;
thus L45: thesis;
end;
end;
theorem
L47: (for B8 being OrderSortedSign holds (for B9 being (OSAlgebra of B8) holds (for B10 being MSAlgebra over B8 holds (B10 is (OSSubAlgebra of B9) iff ((the Sorts of B10) is (OSSubset of B9) & (for B11 being (OSSubset of B9) holds (B11 = (the Sorts of B10) implies (B11 is  opers_closed & (the Charact of B10) = ( Opers (B9 , B11) )))))))))
proof
let C31 being OrderSortedSign;
let C32 being (OSAlgebra of C31);
let C33 being MSAlgebra over C31;
thus L48:now
assume L49: C33 is (OSSubAlgebra of C32);
L50: ((the Sorts of C33) is (OrderSortedSet of C31) & (the Sorts of C33) is (MSSubset of C32)) by L49 , MSUALG_2:def 9 , OSALG_1:17;
thus L51: (the Sorts of C33) is (OSSubset of C32) by L50 , L20;
let C34 being (OSSubset of C32);
assume L52: C34 = (the Sorts of C33);
thus L53: (C34 is  opers_closed & (the Charact of C33) = ( Opers (C32 , C34) )) by L52 , L49 , MSUALG_2:def 9;
end;
assume L54: (the Sorts of C33) is (OSSubset of C32);
assume L55: (for B12 being (OSSubset of C32) holds (B12 = (the Sorts of C33) implies (B12 is  opers_closed & (the Charact of C33) = ( Opers (C32 , B12) ))));
L56: C33 is (MSSubAlgebra of C32)
proof
thus L57: (the Sorts of C33) is (MSSubset of C32) by L54;
let C35 being (MSSubset of C32);
assume that
L58: C35 = (the Sorts of C33);
reconsider D16 = C35 as (OSSubset of C32) by L54 , L58;
L59: D16 is  opers_closed by L55 , L58;
thus L60: thesis by L59 , L55 , L58;
end;
L61: (the Sorts of C33) is (OrderSortedSet of C31) by L54 , L20;
thus L62: thesis by L61 , L56 , OSALG_1:17;
end;
definition
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let R5 being (SortSymbol of R3);
func OSConstants (R4 , R5) -> (Subset of ( (the Sorts of R4) . R5 )) equals 
( union { ( Constants (R4 , R7) ) where R7 is (SortSymbol of R3) : R7 <= R5 } );
coherence
proof
set D17 = { ( Constants (R4 , R7) ) where R7 is (SortSymbol of R3) : R7 <= R5 };
L63: (for B13 being set holds (B13 in D17 implies B13 c= ( (the Sorts of R4) . R5 )))
proof
let C36 being set;
assume L64: C36 in D17;
consider R7 being (SortSymbol of R3) such that L65: C36 = ( Constants (R4 , R7) ) and L66: R7 <= R5 by L64;
L67: ( (the Sorts of R4) . R7 ) c= ( (the Sorts of R4) . R5 ) by L66 , OSALG_1:def 17;
thus L68: thesis by L67 , L65 , XBOOLE_1:1;
end;
thus L69: thesis by L63 , ZFMISC_1:76;
end;
end;
theorem
L71: (for R3 being OrderSortedSign holds (for R4 being (OSAlgebra of R3) holds (for R5 being (SortSymbol of R3) holds ( Constants (R4 , R5) ) c= ( OSConstants (R4 , R5) ))))
proof
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let R5 being (SortSymbol of R3);
L72: ( Constants (R4 , R5) ) in { ( Constants (R4 , R7) ) where R7 is (SortSymbol of R3) : R7 <= R5 };
thus L73: thesis by L72 , ZFMISC_1:74;
end;
definition
let R3 being OrderSortedSign;
let C37 being (ManySortedSet of (the carrier of R3));
func OSCl C37 -> (OrderSortedSet of R3) means 
:L74: (for B14 being (SortSymbol of R3) holds ( it . B14 ) = ( union { ( C37 . R6 ) where R6 is (SortSymbol of R3) : R6 <= B14 } ));
existence
proof
deffunc H1((Element of R3)) = ( union { ( C37 . R6 ) where R6 is (SortSymbol of R3) : R6 <= $1 } );
consider C38 being Function such that L75: (( dom C38 ) = (the carrier of R3) & (for B15 being (Element of R3) holds ( C38 . B15 ) = H1(B15))) from FUNCT_1:sch 4;
reconsider D18 = C38 as (ManySortedSet of (the carrier of R3)) by L75 , PARTFUN1:def 2 , RELAT_1:def 18;
reconsider D19 = D18 as (ManySortedSet of R3);
L76: D19 is  order-sorted
proof
let C39 , C40 being (Element of R3);
assume L77: C39 <= C40;
let C41 being set;
assume L78: C41 in ( D19 . C39 );
L79: C41 in ( union { ( C37 . R7 ) where R7 is (SortSymbol of R3) : R7 <= C39 } ) by L78 , L75;
consider C42 being set such that L80: (C41 in C42 & C42 in { ( C37 . R7 ) where R7 is (SortSymbol of R3) : R7 <= C39 }) by L79 , TARSKI:def 4;
consider R8 being (SortSymbol of R3) such that L81: C42 = ( C37 . R8 ) and L82: R8 <= C39 by L80;
L83: R8 <= C40 by L77 , L82 , ORDERS_2:3;
L84: C42 in { ( C37 . R7 ) where R7 is (SortSymbol of R3) : R7 <= C40 } by L83 , L81;
L85: C41 in ( union { ( C37 . R7 ) where R7 is (SortSymbol of R3) : R7 <= C40 } ) by L84 , L80 , TARSKI:def 4;
thus L86: thesis by L85 , L75;
end;
reconsider D20 = D19 as (OrderSortedSet of R3) by L76;
take D20;
thus L87: thesis by L75;
end;
uniqueness
proof
let C43 , C44 being (OrderSortedSet of R3);
assume L88: (for B16 being (SortSymbol of R3) holds ( C43 . B16 ) = ( union { ( C37 . R6 ) where R6 is (SortSymbol of R3) : R6 <= B16 } ));
assume L89: (for B17 being (SortSymbol of R3) holds ( C44 . B17 ) = ( union { ( C37 . R6 ) where R6 is (SortSymbol of R3) : R6 <= B17 } ));
L90: (for B18 being set holds (B18 in (the carrier of R3) implies ( C43 . B18 ) = ( C44 . B18 )))
proof
let C45 being set;
assume L91: C45 in (the carrier of R3);
reconsider D21 = C45 as (SortSymbol of R3) by L91;
L92: ( C43 . C45 ) = ( union { ( C37 . R6 ) where R6 is (SortSymbol of R3) : R6 <= D21 } ) by L88
.= ( C44 . C45 ) by L89;
thus L93: thesis by L92;
end;
thus L94: thesis by L90 , PBOOLE:3;
end;
end;
theorem
L96: (for R3 being OrderSortedSign holds (for B19 being (ManySortedSet of (the carrier of R3)) holds B19 c= ( OSCl B19 )))
proof
let R3 being OrderSortedSign;
let C46 being (ManySortedSet of (the carrier of R3));
let C47 being set;
assume L97: C47 in (the carrier of R3);
reconsider D22 = C47 as (SortSymbol of R3) by L97;
L98: ( C46 . D22 ) in { ( C46 . R6 ) where R6 is (SortSymbol of R3) : R6 <= D22 };
L99: ( C46 . D22 ) c= ( union { ( C46 . R6 ) where R6 is (SortSymbol of R3) : R6 <= D22 } ) by L98 , ZFMISC_1:74;
thus L100: thesis by L99 , L74;
end;
theorem
L101: (for R3 being OrderSortedSign holds (for B20 being (ManySortedSet of (the carrier of R3)) holds (for B21 being (OrderSortedSet of R3) holds (B20 c= B21 implies ( OSCl B20 ) c= B21))))
proof
let R3 being OrderSortedSign;
let C48 being (ManySortedSet of (the carrier of R3));
let C49 being (OrderSortedSet of R3);
assume L102: C48 c= C49;
assume L103: (not ( OSCl C48 ) c= C49);
consider C50 being set such that L104: C50 in (the carrier of R3) and L105: (not ( ( OSCl C48 ) . C50 ) c= ( C49 . C50 )) by L103 , PBOOLE:def 2;
reconsider D23 = C50 as (SortSymbol of R3) by L104;
consider C51 being set such that L106: C51 in ( ( OSCl C48 ) . C50 ) and L107: (not C51 in ( C49 . C50 )) by L105 , TARSKI:def 3;
L108: ( ( OSCl C48 ) . D23 ) = ( union { ( C48 . R7 ) where R7 is (SortSymbol of R3) : R7 <= D23 } ) by L74;
consider C52 being set such that L109: C51 in C52 and L110: C52 in { ( C48 . R7 ) where R7 is (SortSymbol of R3) : R7 <= D23 } by L108 , L106 , TARSKI:def 4;
consider C53 being (SortSymbol of R3) such that L111: C52 = ( C48 . C53 ) and L112: C53 <= D23 by L110;
L113: ( C48 . C53 ) c= ( C49 . C53 ) by L102 , PBOOLE:def 2;
L114: C51 in ( C49 . C53 ) by L113 , L109 , L111;
L115: ( C49 . C53 ) c= ( C49 . D23 ) by L112 , OSALG_1:def 16;
thus L116: contradiction by L115 , L107 , L114;
end;
theorem
L117: (for B22 being OrderSortedSign holds (for B23 being (OrderSortedSet of B22) holds ( OSCl B23 ) = B23))
proof
let C54 being OrderSortedSign;
let C55 being (OrderSortedSet of C54);
L118: (C55 c= ( OSCl C55 ) & ( OSCl C55 ) c= C55) by L96 , L101;
thus L119: thesis by L118 , PBOOLE:146;
end;
definition
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
func OSConstants R4 -> (OSSubset of R4) means 
:L120: (for B24 being (SortSymbol of R3) holds ( it . B24 ) = ( OSConstants (R4 , B24) ));
existence
proof
deffunc H2((Element of R3)) = ( union { ( Constants (R4 , R6) ) where R6 is (SortSymbol of R3) : R6 <= $1 } );
consider C56 being Function such that L121: (( dom C56 ) = (the carrier of R3) & (for B25 being (Element of R3) holds ( C56 . B25 ) = H2(B25))) from FUNCT_1:sch 4;
reconsider D24 = C56 as (ManySortedSet of (the carrier of R3)) by L121 , PARTFUN1:def 2 , RELAT_1:def 18;
L122: D24 c= (the Sorts of R4)
proof
let C57 being set;
assume L123: C57 in (the carrier of R3);
reconsider D25 = C57 as (SortSymbol of R3) by L123;
L124: ( D24 . D25 ) = ( OSConstants (R4 , D25) ) by L121;
thus L125: thesis by L124;
end;
reconsider D26 = D24 as (MSSubset of R4) by L122 , PBOOLE:def 18;
take D26;
reconsider D27 = D26 as (ManySortedSet of R3);
L126: D27 is  order-sorted
proof
let C58 , C59 being (Element of R3);
assume L127: C58 <= C59;
let C60 being set;
assume L128: C60 in ( D27 . C58 );
L129: C60 in ( union { ( Constants (R4 , R7) ) where R7 is (SortSymbol of R3) : R7 <= C58 } ) by L128 , L121;
consider C61 being set such that L130: (C60 in C61 & C61 in { ( Constants (R4 , R7) ) where R7 is (SortSymbol of R3) : R7 <= C58 }) by L129 , TARSKI:def 4;
consider R8 being (SortSymbol of R3) such that L131: C61 = ( Constants (R4 , R8) ) and L132: R8 <= C58 by L130;
L133: R8 <= C59 by L127 , L132 , ORDERS_2:3;
L134: C61 in { ( Constants (R4 , R7) ) where R7 is (SortSymbol of R3) : R7 <= C59 } by L133 , L131;
L135: C60 in ( union { ( Constants (R4 , R7) ) where R7 is (SortSymbol of R3) : R7 <= C59 } ) by L134 , L130 , TARSKI:def 4;
thus L136: thesis by L135 , L121;
end;
thus L137: D26 is (OSSubset of R4) by L126 , L20;
thus L138: thesis by L121;
end;
uniqueness
proof
let C62 , C63 being (OSSubset of R4);
assume that
L139: (for B26 being (SortSymbol of R3) holds ( C62 . B26 ) = ( OSConstants (R4 , B26) ))
and
L140: (for B27 being (SortSymbol of R3) holds ( C63 . B27 ) = ( OSConstants (R4 , B27) ));
L141: (for B28 being set holds (B28 in (the carrier of R3) implies ( C62 . B28 ) = ( C63 . B28 )))
proof
let C64 being set;
assume L142: C64 in (the carrier of R3);
reconsider D28 = C64 as (SortSymbol of R3) by L142;
L143: ( C62 . D28 ) = ( OSConstants (R4 , D28) ) by L139;
thus L144: thesis by L143 , L140;
end;
thus L145: thesis by L141 , PBOOLE:3;
end;
end;
theorem
L147: (for R3 being OrderSortedSign holds (for R4 being (OSAlgebra of R3) holds ( Constants R4 ) c= ( OSConstants R4 )))
proof
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C65 being set;
assume L148: C65 in (the carrier of R3);
reconsider D29 = C65 as (SortSymbol of R3) by L148;
L149: (( ( Constants R4 ) . D29 ) = ( Constants (R4 , D29) ) & ( ( OSConstants R4 ) . D29 ) = ( OSConstants (R4 , D29) )) by L120 , MSUALG_2:def 4;
thus L150: thesis by L149 , L71;
end;
theorem
L151: (for R3 being OrderSortedSign holds (for R4 being (OSAlgebra of R3) holds (for B29 being (OSSubset of R4) holds (( Constants R4 ) c= B29 implies ( OSConstants R4 ) c= B29))))
proof
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C66 being (OSSubset of R4);
assume L152: ( Constants R4 ) c= C66;
assume L153: (not ( OSConstants R4 ) c= C66);
consider C67 being set such that L154: C67 in (the carrier of R3) and L155: (not ( ( OSConstants R4 ) . C67 ) c= ( C66 . C67 )) by L153 , PBOOLE:def 2;
reconsider D30 = C67 as (SortSymbol of R3) by L154;
consider C68 being set such that L156: C68 in ( ( OSConstants R4 ) . C67 ) and L157: (not C68 in ( C66 . C67 )) by L155 , TARSKI:def 3;
L158: ( ( OSConstants R4 ) . D30 ) = ( OSConstants (R4 , D30) ) by L120
.= ( union { ( Constants (R4 , R7) ) where R7 is (SortSymbol of R3) : R7 <= D30 } );
consider C69 being set such that L159: C68 in C69 and L160: C69 in { ( Constants (R4 , R7) ) where R7 is (SortSymbol of R3) : R7 <= D30 } by L158 , L156 , TARSKI:def 4;
consider C70 being (SortSymbol of R3) such that L161: C69 = ( Constants (R4 , C70) ) and L162: C70 <= D30 by L160;
L163: ( ( Constants R4 ) . C70 ) c= ( C66 . C70 ) by L152 , PBOOLE:def 2;
L164: C68 in ( ( Constants R4 ) . C70 ) by L159 , L161 , MSUALG_2:def 4;
L165: C68 in ( C66 . C70 ) by L164 , L163;
L166: C66 is (OrderSortedSet of R3) by L20;
L167: ( C66 . C70 ) c= ( C66 . D30 ) by L166 , L162 , OSALG_1:def 16;
thus L168: contradiction by L167 , L157 , L165;
end;
theorem
L169: (for R3 being OrderSortedSign holds (for R4 being (OSAlgebra of R3) holds (for B30 being (OSSubset of R4) holds ( OSConstants R4 ) = ( OSCl ( Constants R4 ) ))))
proof
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C71 being (OSSubset of R4);
L170:
now
let C72 being set;
assume L171: C72 in (the carrier of R3);
reconsider D31 = C72 as (SortSymbol of R3) by L171;
set D32 = { ( ( Constants R4 ) . R6 ) where R6 is (SortSymbol of R3) : R6 <= D31 };
set D33 = { ( Constants (R4 , R6) ) where R6 is (SortSymbol of R3) : R6 <= D31 };
L172: (for B31 being set holds (B31 in D32 iff B31 in D33))
proof
let C73 being set;
thus L173:now
assume L174: C73 in D32;
consider R6 being (SortSymbol of R3) such that L175: C73 = ( ( Constants R4 ) . R6 ) and L176: R6 <= D31 by L174;
L177: C73 = ( Constants (R4 , R6) ) by L175 , MSUALG_2:def 4;
thus L178: C73 in D33 by L177 , L176;
end;
assume L179: C73 in D33;
consider R6 being (SortSymbol of R3) such that L180: C73 = ( Constants (R4 , R6) ) and L181: R6 <= D31 by L179;
L182: C73 = ( ( Constants R4 ) . R6 ) by L180 , MSUALG_2:def 4;
thus L183: thesis by L182 , L181;
end;
L184: D32 = D33 by L172 , TARSKI:1;
L185: ( ( OSConstants R4 ) . D31 ) = ( OSConstants (R4 , D31) ) by L120
.= ( ( OSCl ( Constants R4 ) ) . D31 ) by L184 , L74;
thus L186: ( ( OSConstants R4 ) . C72 ) = ( ( OSCl ( Constants R4 ) ) . C72 ) by L185;
end;
L187: (for B32 being set holds (B32 in (the carrier of R3) implies ( ( OSCl ( Constants R4 ) ) . B32 ) c= ( ( OSConstants R4 ) . B32 ))) by L170;
L188: ( OSCl ( Constants R4 ) ) c= ( OSConstants R4 ) by L187 , PBOOLE:def 2;
L189: (for B33 being set holds (B33 in (the carrier of R3) implies ( ( OSConstants R4 ) . B33 ) c= ( ( OSCl ( Constants R4 ) ) . B33 ))) by L170;
L190: ( OSConstants R4 ) c= ( OSCl ( Constants R4 ) ) by L189 , PBOOLE:def 2;
thus L191: thesis by L190 , L188 , PBOOLE:146;
end;
theorem
L192: (for R3 being OrderSortedSign holds (for R4 being (OSAlgebra of R3) holds (for B34 being (OSSubAlgebra of R4) holds ( OSConstants R4 ) is (OSSubset of B34))))
proof
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C74 being (OSSubAlgebra of R4);
L193: ( OSConstants R4 ) c= (the Sorts of C74)
proof
let C75 being set;
assume L194: C75 in (the carrier of R3);
reconsider D34 = C75 as (SortSymbol of R3) by L194;
L195: ( Constants R4 ) is (MSSubset of C74) by MSUALG_2:10;
L196: ( Constants R4 ) c= (the Sorts of C74) by L195 , PBOOLE:def 18;
L197: (for R7 being (SortSymbol of R3) holds (for R8 being (SortSymbol of R3) holds (R7 <= R8 implies ( ( Constants R4 ) . R7 ) c= ( (the Sorts of C74) . R8 ))))
proof
let R7 being (SortSymbol of R3);
let R8 being (SortSymbol of R3);
assume L198: R7 <= R8;
L199: ( (the Sorts of C74) . R7 ) c= ( (the Sorts of C74) . R8 ) by L198 , OSALG_1:def 17;
L200: ( ( Constants R4 ) . R7 ) c= ( (the Sorts of C74) . R7 ) by L196 , PBOOLE:def 2;
thus L201: thesis by L200 , L199 , XBOOLE_1:1;
end;
L202: (for B35 being set holds (B35 in { ( Constants (R4 , R6) ) where R6 is (SortSymbol of R3) : R6 <= D34 } implies B35 c= ( (the Sorts of C74) . D34 )))
proof
let C76 being set;
assume L203: C76 in { ( Constants (R4 , R6) ) where R6 is (SortSymbol of R3) : R6 <= D34 };
consider R9 being (SortSymbol of R3) such that L204: (C76 = ( Constants (R4 , R9) ) & R9 <= D34) by L203;
L205: ( Constants (R4 , R9) ) = ( ( Constants R4 ) . R9 ) by MSUALG_2:def 4;
thus L206: thesis by L205 , L197 , L204;
end;
L207: ( ( OSConstants R4 ) . C75 ) = ( OSConstants (R4 , D34) ) by L120
.= ( union { ( Constants (R4 , R6) ) where R6 is (SortSymbol of R3) : R6 <= D34 } );
thus L208: thesis by L207 , L202 , ZFMISC_1:76;
end;
L209: ( OSConstants R4 ) is (ManySortedSubset of (the Sorts of C74)) by L193 , PBOOLE:def 18;
L210: ( OSConstants R4 ) is (OrderSortedSet of R3) by L20;
thus L211: thesis by L210 , L209 , L20;
end;
theorem
L212: (for B36 being  all-with_const_op OrderSortedSign holds (for B37 being  non-empty (OSAlgebra of B36) holds (for B38 being  non-empty (OSSubAlgebra of B37) holds ( OSConstants B37 ) is  non-empty  non-empty  non-empty  non-empty (OSSubset of B38))))
proof
let C77 being  all-with_const_op OrderSortedSign;
let C78 being  non-empty (OSAlgebra of C77);
let C79 being  non-empty (OSSubAlgebra of C78);
L213: ( Constants C78 ) c= ( OSConstants C78 ) by L147;
thus L214: thesis by L213 , L192 , PBOOLE:131;
end;
begin
theorem
L215: (for B39 being set holds (for B40 being (ManySortedSet of B39) holds (for B41 being set holds (B41 is (ManySortedSubset of B40) iff B41 in ( product ( bool B40 ) )))))
proof
let C80 being set;
let C81 being (ManySortedSet of C80);
let C82 being set;
L216: C80 = ( dom ( bool C81 ) ) by PARTFUN1:def 2;
thus L217:now
assume L218: C82 is (ManySortedSubset of C81);
reconsider D35 = C82 as (ManySortedSubset of C81) by L218;
L219: (for B42 being set holds (B42 in ( dom ( bool C81 ) ) implies ( D35 . B42 ) in ( ( bool C81 ) . B42 )))
proof
let C83 being set;
assume that
L220: C83 in ( dom ( bool C81 ) );
L221: D35 c= C81 by PBOOLE:def 18;
L222: ( D35 . C83 ) c= ( C81 . C83 ) by L221 , L216 , L220 , PBOOLE:def 2;
L223: ( D35 . C83 ) in ( bool ( C81 . C83 ) ) by L222;
thus L224: thesis by L223 , L216 , L220 , MBOOLEAN:def 1;
end;
L225: ( dom D35 ) = C80 by PARTFUN1:def 2
.= ( dom ( bool C81 ) ) by PARTFUN1:def 2;
thus L226: C82 in ( product ( bool C81 ) ) by L225 , L219 , CARD_3:def 5;
end;
assume L227: C82 in ( product ( bool C81 ) );
consider C84 being Function such that L228: C82 = C84 and L229: ( dom C84 ) = ( dom ( bool C81 ) ) and L230: (for B43 being set holds (B43 in ( dom ( bool C81 ) ) implies ( C84 . B43 ) in ( ( bool C81 ) . B43 ))) by L227 , CARD_3:def 5;
L231: ( dom C84 ) = C80 by L229 , PARTFUN1:def 2;
reconsider D36 = C84 as (ManySortedSet of C80) by L231 , PARTFUN1:def 2 , RELAT_1:def 18;
L232: D36 c= C81
proof
let C85 being set;
assume that
L233: C85 in C80;
L234: ( D36 . C85 ) in ( ( bool C81 ) . C85 ) by L216 , L230 , L233;
L235: ( D36 . C85 ) in ( bool ( C81 . C85 ) ) by L234 , L233 , MBOOLEAN:def 1;
thus L236: thesis by L235;
end;
thus L237: thesis by L232 , L228 , PBOOLE:def 18;
end;
definition
let C86 being non  empty Poset;
let C87 being (OrderSortedSet of C86);
func OSbool C87 -> set means 
(for B44 being set holds (B44 in it iff B44 is (OrderSortedSubset of C87)));
existence
proof
defpred S1[ set ] means $1 is (OrderSortedSubset of C87);
set D37 = ( product ( bool C87 ) );
consider C88 being set such that L238: (for B45 being set holds (B45 in C88 iff (B45 in D37 & S1[ B45 ]))) from XBOOLE_0:sch 1;
take C88;
let C89 being set;
thus L239: (C89 in C88 implies C89 is (OrderSortedSubset of C87)) by L238;
assume L240: C89 is (OrderSortedSubset of C87);
L241: C89 in D37 by L240 , L215;
thus L242: thesis by L241 , L238 , L240;
end;
uniqueness
proof
defpred S2[ set ] means $1 is (OrderSortedSubset of C87);
thus L243: (for B46 , B47 being set holds (((for B48 being set holds (B48 in B46 iff S2[ B48 ])) & (for B49 being set holds (B49 in B47 iff S2[ B49 ]))) implies B46 = B47)) from XBOOLE_0:sch 3;
end;
end;
definition
let C90 being OrderSortedSign;
let C91 being (OSAlgebra of C90);
let C92 being (OSSubset of C91);
func OSSubSort C92 -> set equals 
{ B50 where B50 is (Element of ( SubSort C92 )) : B50 is (OrderSortedSet of C90) };
correctness;
end;
theorem
L246: (for R3 being OrderSortedSign holds (for R4 being (OSAlgebra of R3) holds (for B51 being (OSSubset of R4) holds ( OSSubSort B51 ) c= ( SubSort B51 ))))
proof
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C93 being (OSSubset of R4);
let C94 being set;
assume L247: C94 in ( OSSubSort C93 );
L248: (ex B52 being (Element of ( SubSort C93 )) st (C94 = B52 & B52 is (OrderSortedSet of R3))) by L247;
thus L249: thesis by L248;
end;
theorem
L250: (for R3 being OrderSortedSign holds (for R4 being (OSAlgebra of R3) holds (for B53 being (OSSubset of R4) holds (the Sorts of R4) in ( OSSubSort B53 ))))
proof
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C95 being (OSSubset of R4);
reconsider D38 = (the Sorts of R4) as (Element of ( SubSort C95 )) by MSUALG_2:38;
L251: (the Sorts of R4) is (OrderSortedSet of R3) by OSALG_1:17;
L252: D38 in { B54 where B54 is (Element of ( SubSort C95 )) : B54 is (OrderSortedSet of R3) } by L251;
thus L253: thesis by L252;
end;
registration
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C96 being (OSSubset of R4);
cluster ( OSSubSort C96 ) -> non  empty;
coherence by L250;
end;
definition
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
func OSSubSort R4 -> set equals 
{ B55 where B55 is (Element of ( SubSort R4 )) : B55 is (OrderSortedSet of R3) };
correctness;
end;
theorem
L256: (for R3 being OrderSortedSign holds (for R4 being (OSAlgebra of R3) holds (for B56 being (OSSubset of R4) holds ( OSSubSort B56 ) c= ( OSSubSort R4 ))))
proof
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C97 being (OSSubset of R4);
let C98 being set;
assume L257: C98 in ( OSSubSort C97 );
consider C99 being (Element of ( SubSort C97 )) such that L258: C99 = C98 and L259: C99 is (OrderSortedSet of R3) by L257;
L260: (C99 in ( SubSort C97 ) & ( SubSort C97 ) c= ( SubSort R4 )) by MSUALG_2:39;
reconsider D39 = C99 as (Element of ( SubSort R4 )) by L260;
L261: D39 in { B57 where B57 is (Element of ( SubSort R4 )) : B57 is (OrderSortedSet of R3) } by L259;
thus L262: thesis by L261 , L258;
end;
registration
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
cluster ( OSSubSort R4 ) -> non  empty;
coherence
proof
set D40 = the (OSSubset of R4);
L263: ( OSSubSort D40 ) c= ( OSSubSort R4 ) by L256;
thus L264: thesis by L263;
end;
end;
definition
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C100 being (Element of ( OSSubSort R4 ));
func @ C100 -> (OSSubset of R4) equals 
C100;
coherence
proof
L266: C100 in { B58 where B58 is (Element of ( SubSort R4 )) : B58 is (OrderSortedSet of R3) };
consider C101 being (Element of ( SubSort R4 )) such that L267: C100 = C101 and L268: C101 is (OrderSortedSet of R3) by L266;
reconsider D41 = ( @ C101 ) as (OSSubset of R4) by L268 , L20;
L269: D41 = C100 by L267;
thus L270: thesis by L269;
end;
end;
theorem
L272: (for R3 being OrderSortedSign holds (for R4 being (OSAlgebra of R3) holds (for B59 , B60 being (OSSubset of R4) holds (B60 in ( OSSubSort B59 ) iff (B60 is  opers_closed & ( OSConstants R4 ) c= B60 & B59 c= B60)))))
proof
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C102 , C103 being (OSSubset of R4);
thus L273: (C103 in ( OSSubSort C102 ) implies (C103 is  opers_closed & ( OSConstants R4 ) c= C103 & C102 c= C103))
proof
assume L274: C103 in ( OSSubSort C102 );
L275: (ex B61 being (Element of ( SubSort C102 )) st (B61 = C103 & B61 is (OrderSortedSet of R3))) by L274;
L276: ( Constants R4 ) c= C103 by L275 , MSUALG_2:13;
thus L277: thesis by L276 , L275 , L151 , MSUALG_2:13;
end;

assume that
L278: C103 is  opers_closed
and
L279: ( OSConstants R4 ) c= C103
and
L280: C102 c= C103;
L281: ( Constants R4 ) c= ( OSConstants R4 ) by L147;
L282: ( Constants R4 ) c= C103 by L281 , L279 , PBOOLE:13;
L283: C103 in ( SubSort C102 ) by L282 , L278 , L280 , MSUALG_2:13;
L284: C103 is (OrderSortedSet of R3) by L20;
thus L285: thesis by L284 , L283;
end;
theorem
L286: (for R3 being OrderSortedSign holds (for R4 being (OSAlgebra of R3) holds (for B62 being (OSSubset of R4) holds (B62 in ( OSSubSort R4 ) iff B62 is  opers_closed))))
proof
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C104 being (OSSubset of R4);
L287: (C104 in ( SubSort R4 ) iff C104 is  opers_closed) by MSUALG_2:14;
thus L288: (C104 in ( OSSubSort R4 ) implies C104 is  opers_closed)
proof
assume L289: C104 in ( OSSubSort R4 );
L290: (ex B63 being (Element of ( SubSort R4 )) st (B63 = C104 & B63 is (OrderSortedSet of R3))) by L289;
thus L291: thesis by L290 , MSUALG_2:14;
end;

assume L292: C104 is  opers_closed;
L293: C104 is (OrderSortedSet of R3) by L20;
thus L294: thesis by L293 , L287 , L292;
end;
definition
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C105 being (OSSubset of R4);
let C106 being (Element of R3);
func OSSubSort (C105 , C106) -> set means 
:L295: (for B64 being set holds (B64 in it iff (ex B65 being (OSSubset of R4) st (B65 in ( OSSubSort C105 ) & B64 = ( B65 . C106 )))));
existence
proof
defpred S3[ set ] means (ex B66 being (OSSubset of R4) st (B66 in ( OSSubSort C105 ) & $1 = ( B66 . C106 )));
set D42 = ( bool ( Union (the Sorts of R4) ) );
consider C107 being set such that L296: (for B67 being set holds (B67 in C107 iff (B67 in D42 & S3[ B67 ]))) from XBOOLE_0:sch 1;
take C107;
L297: D42 = ( bool ( union ( rng (the Sorts of R4) ) ) ) by CARD_3:def 4;
L298: (for B68 being set holds (B68 in C107 iff (ex B69 being (OSSubset of R4) st (B69 in ( OSSubSort C105 ) & B68 = ( B69 . C106 )))))
proof
L299: ( dom (the Sorts of R4) ) = (the carrier of R3) by PARTFUN1:def 2;
L300: ( (the Sorts of R4) . C106 ) in ( rng (the Sorts of R4) ) by L299 , FUNCT_1:def 3;
L301: ( (the Sorts of R4) . C106 ) c= ( union ( rng (the Sorts of R4) ) ) by L300 , ZFMISC_1:74;
let C108 being set;
thus L302: (C108 in C107 implies (ex B70 being (OSSubset of R4) st (B70 in ( OSSubSort C105 ) & C108 = ( B70 . C106 )))) by L296;
given C109 being (OSSubset of R4) such that
L303: C109 in ( OSSubSort C105 )
and
L304: C108 = ( C109 . C106 );

L305: C109 c= (the Sorts of R4) by PBOOLE:def 18;
L306: ( C109 . C106 ) c= ( (the Sorts of R4) . C106 ) by L305 , PBOOLE:def 2;
L307: C108 c= ( union ( rng (the Sorts of R4) ) ) by L306 , L304 , L301 , XBOOLE_1:1;
thus L308: thesis by L307 , L297 , L296 , L303 , L304;
end;
thus L309: thesis by L298;
end;
uniqueness
proof
defpred S4[ set ] means (ex B71 being (OSSubset of R4) st (B71 in ( OSSubSort C105 ) & $1 = ( B71 . C106 )));
thus L310: (for B72 , B73 being set holds (((for B74 being set holds (B74 in B72 iff S4[ B74 ])) & (for B75 being set holds (B75 in B73 iff S4[ B75 ]))) implies B72 = B73)) from XBOOLE_0:sch 3;
end;
end;
theorem
L312: (for R3 being OrderSortedSign holds (for R4 being (OSAlgebra of R3) holds (for B76 being (OSSubset of R4) holds (for B77 , B78 being (SortSymbol of R3) holds (B77 <= B78 implies ( OSSubSort (B76 , B78) ) is_coarser_than ( OSSubSort (B76 , B77) ))))))
proof
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C110 being (OSSubset of R4);
let C111 , C112 being (SortSymbol of R3);
assume L313: C111 <= C112;
L314: (for B79 being set holds (B79 in ( OSSubSort (C110 , C112) ) implies (ex B80 being set st (B80 in ( OSSubSort (C110 , C111) ) & B80 c= B79))))
proof
let C113 being set;
assume L315: C113 in ( OSSubSort (C110 , C112) );
consider C114 being (OSSubset of R4) such that L316: (C114 in ( OSSubSort C110 ) & C113 = ( C114 . C112 )) by L315 , L295;
take ( C114 . C111 );
L317: C114 is (OrderSortedSet of R3) by L20;
thus L318: thesis by L317 , L313 , L316 , L295 , OSALG_1:def 16;
end;
thus L319: thesis by L314 , SETFAM_1:def 3;
end;
theorem
L320: (for R3 being OrderSortedSign holds (for R4 being (OSAlgebra of R3) holds (for B81 being (OSSubset of R4) holds (for B82 being (SortSymbol of R3) holds ( OSSubSort (B81 , B82) ) c= ( SubSort (B81 , B82) )))))
proof
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C115 being (OSSubset of R4);
let C116 being (SortSymbol of R3);
let C117 being set;
assume L321: C117 in ( OSSubSort (C115 , C116) );
L322: (ex B83 being (OSSubset of R4) st (B83 in ( OSSubSort C115 ) & C117 = ( B83 . C116 ))) by L321 , L295;
L323: ( OSSubSort C115 ) c= ( SubSort C115 ) by L246;
thus L324: thesis by L323 , L322 , MSUALG_2:def 13;
end;
theorem
L325: (for R3 being OrderSortedSign holds (for R4 being (OSAlgebra of R3) holds (for B84 being (OSSubset of R4) holds (for B85 being (SortSymbol of R3) holds ( (the Sorts of R4) . B85 ) in ( OSSubSort (B84 , B85) )))))
proof
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C118 being (OSSubset of R4);
let C119 being (SortSymbol of R3);
L326: ((the Sorts of R4) is (ManySortedSubset of (the Sorts of R4)) & (the Sorts of R4) is (OrderSortedSet of R3)) by OSALG_1:17 , PBOOLE:def 18;
reconsider D43 = (the Sorts of R4) as (OSSubset of R4) by L326 , L20;
L327: (the Sorts of R4) in ( OSSubSort C118 ) by L250;
L328: ( D43 . C119 ) in ( OSSubSort (C118 , C119) ) by L327 , L295;
thus L329: thesis by L328;
end;
registration
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C120 being (OSSubset of R4);
let C121 being (SortSymbol of R3);
cluster ( OSSubSort (C120 , C121) ) -> non  empty;
coherence by L325;
end;
definition
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C122 being (OSSubset of R4);
func OSMSubSort C122 -> (OSSubset of R4) means 
:L331: (for B86 being (SortSymbol of R3) holds ( it . B86 ) = ( meet ( OSSubSort (C122 , B86) ) ));
existence
proof
deffunc H3((Element of R3)) = ( meet ( OSSubSort (C122 , $1) ) );
consider C123 being Function such that L332: (( dom C123 ) = (the carrier of R3) & (for B87 being (Element of R3) holds ( C123 . B87 ) = H3(B87))) from FUNCT_1:sch 4;
reconsider D44 = C123 as (ManySortedSet of (the carrier of R3)) by L332 , PARTFUN1:def 2 , RELAT_1:def 18;
L333: D44 c= (the Sorts of R4)
proof
reconsider D45 = (the Sorts of R4) as (MSSubset of R4) by PBOOLE:def 18;
let C124 being set;
assume L334: C124 in (the carrier of R3);
reconsider D46 = C124 as (SortSymbol of R3) by L334;
L335: ( D44 . D46 ) = ( meet ( OSSubSort (C122 , D46) ) ) by L332;
L336: D45 is (OrderSortedSet of R3) by OSALG_1:17;
L337: D45 is (OSSubset of R4) by L336 , L20;
L338: D45 in ( OSSubSort C122 ) by L250;
L339: ( (the Sorts of R4) . D46 ) in ( OSSubSort (C122 , D46) ) by L338 , L337 , L295;
thus L340: thesis by L339 , L335 , SETFAM_1:3;
end;
reconsider D47 = D44 as (MSSubset of R4) by L333 , PBOOLE:def 18;
take D47;
reconsider D48 = D47 as (ManySortedSet of R3);
L341: (for B88 , B89 being (Element of R3) holds (B88 <= B89 implies ( D48 . B88 ) c= ( D48 . B89 )))
proof
let C125 , C126 being (Element of R3);
assume L342: C125 <= C126;
L343: ( meet ( OSSubSort (C122 , C125) ) ) c= ( meet ( OSSubSort (C122 , C126) ) ) by L342 , L312 , SETFAM_1:14;
L344: ( D48 . C125 ) = ( meet ( OSSubSort (C122 , C125) ) ) by L332;
thus L345: thesis by L344 , L332 , L343;
end;
L346: D47 is (OrderSortedSet of R3) by L341 , OSALG_1:def 16;
thus L347: thesis by L346 , L332 , L20;
end;
uniqueness
proof
let C127 , C128 being (OSSubset of R4);
assume that
L348: (for B90 being (SortSymbol of R3) holds ( C127 . B90 ) = ( meet ( OSSubSort (C122 , B90) ) ))
and
L349: (for B91 being (SortSymbol of R3) holds ( C128 . B91 ) = ( meet ( OSSubSort (C122 , B91) ) ));
L350: (for B92 being set holds (B92 in (the carrier of R3) implies ( C127 . B92 ) = ( C128 . B92 )))
proof
let C129 being set;
assume L351: C129 in (the carrier of R3);
reconsider D49 = C129 as (SortSymbol of R3) by L351;
L352: ( C127 . D49 ) = ( meet ( OSSubSort (C122 , D49) ) ) by L348;
thus L353: thesis by L352 , L349;
end;
thus L354: thesis by L350 , PBOOLE:3;
end;
end;
registration
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
cluster  opers_closed for (OSSubset of R4);
existence
proof
set D50 = the (Element of ( OSSubSort R4 ));
L356: D50 in { B93 where B93 is (Element of ( SubSort R4 )) : B93 is (OrderSortedSet of R3) };
consider C130 being (Element of ( SubSort R4 )) such that L357: D50 = C130 and L358: C130 is (OrderSortedSet of R3) by L356;
reconsider D51 = C130 as (MSSubset of R4) by MSUALG_2:def 11;
reconsider D52 = D51 as (OSSubset of R4) by L358 , L20;
take D52;
thus L359: thesis by MSUALG_2:def 11;
end;
end;
theorem
L361: (for R3 being OrderSortedSign holds (for R4 being (OSAlgebra of R3) holds (for B94 being (OSSubset of R4) holds ( ( OSConstants R4 ) \/ B94 ) c= ( OSMSubSort B94 ))))
proof
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C131 being (OSSubset of R4);
let C132 being set;
assume L362: C132 in (the carrier of R3);
reconsider D53 = C132 as (SortSymbol of R3) by L362;
L363: (for B95 being set holds (B95 in ( OSSubSort (C131 , D53) ) implies ( ( ( OSConstants R4 ) \/ C131 ) . D53 ) c= B95))
proof
let C133 being set;
assume L364: C133 in ( OSSubSort (C131 , D53) );
consider C134 being (OSSubset of R4) such that L365: C134 in ( OSSubSort C131 ) and L366: C133 = ( C134 . D53 ) by L364 , L295;
L367: (( OSConstants R4 ) c= C134 & C131 c= C134) by L365 , L272;
L368: ( ( OSConstants R4 ) \/ C131 ) c= C134 by L367 , PBOOLE:16;
thus L369: thesis by L368 , L366 , PBOOLE:def 2;
end;
L370: ( ( OSMSubSort C131 ) . D53 ) = ( meet ( OSSubSort (C131 , D53) ) ) by L331;
thus L371: thesis by L370 , L363 , SETFAM_1:5;
end;
theorem
L372: (for R3 being OrderSortedSign holds (for R4 being (OSAlgebra of R3) holds (for B96 being (OSSubset of R4) holds (( ( OSConstants R4 ) \/ B96 ) is  non-empty implies ( OSMSubSort B96 ) is  non-empty))))
proof
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C135 being (OSSubset of R4);
assume L373: ( ( OSConstants R4 ) \/ C135 ) is  non-empty;
L374:
now
let C136 being set;
assume L375: C136 in (the carrier of R3);
reconsider D54 = C136 as (SortSymbol of R3) by L375;
L376: (for B97 being set holds (B97 in ( OSSubSort (C135 , D54) ) implies ( ( ( OSConstants R4 ) \/ C135 ) . D54 ) c= B97))
proof
let C137 being set;
assume L377: C137 in ( OSSubSort (C135 , D54) );
consider C138 being (OSSubset of R4) such that L378: C138 in ( OSSubSort C135 ) and L379: C137 = ( C138 . D54 ) by L377 , L295;
L380: (( OSConstants R4 ) c= C138 & C135 c= C138) by L378 , L272;
L381: ( ( OSConstants R4 ) \/ C135 ) c= C138 by L380 , PBOOLE:16;
thus L382: thesis by L381 , L379 , PBOOLE:def 2;
end;
L383: ( ( ( OSConstants R4 ) \/ C135 ) . D54 ) c= ( meet ( OSSubSort (C135 , D54) ) ) by L376 , SETFAM_1:5;
L384: (ex B98 being set st B98 in ( ( ( OSConstants R4 ) \/ C135 ) . D54 )) by L373 , XBOOLE_0:def 1;
thus L385: ( ( OSMSubSort C135 ) . C136 ) is non  empty by L384 , L383 , L331;
end;
thus L386: thesis by L374 , PBOOLE:def 13;
end;
theorem
L387: (for R3 being OrderSortedSign holds (for R4 being (OSAlgebra of R3) holds (for B99 being (OperSymbol of R3) holds (for B100 being (OSSubset of R4) holds (for B101 being (OSSubset of R4) holds (B101 in ( OSSubSort B100 ) implies ( ( ( ( OSMSubSort B100 ) # ) * (the Arity of R3) ) . B99 ) c= ( ( ( B101 # ) * (the Arity of R3) ) . B99 )))))))
proof
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C139 being (OperSymbol of R3);
let C140 being (OSSubset of R4);
let C141 being (OSSubset of R4);
assume L388: C141 in ( OSSubSort C140 );
L389: ( OSMSubSort C140 ) c= C141
proof
let C142 being set;
assume L390: C142 in (the carrier of R3);
reconsider D55 = C142 as (SortSymbol of R3) by L390;
L391: (( ( OSMSubSort C140 ) . D55 ) = ( meet ( OSSubSort (C140 , D55) ) ) & ( C141 . D55 ) in ( OSSubSort (C140 , D55) )) by L388 , L295 , L331;
thus L392: thesis by L391 , SETFAM_1:3;
end;
thus L393: thesis by L389 , MSUALG_2:2;
end;
theorem
L394: (for R3 being OrderSortedSign holds (for R4 being (OSAlgebra of R3) holds (for B102 being (OperSymbol of R3) holds (for B103 being (OSSubset of R4) holds (for B104 being (OSSubset of R4) holds (B104 in ( OSSubSort B103 ) implies ( rng ( ( Den (B102 , R4) ) | ( ( ( ( OSMSubSort B103 ) # ) * (the Arity of R3) ) . B102 ) ) ) c= ( ( B104 * (the ResultSort of R3) ) . B102 )))))))
proof
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C143 being (OperSymbol of R3);
let C144 being (OSSubset of R4);
let C145 being (OSSubset of R4);
set D56 = ( ( ( ( OSMSubSort C144 ) # ) * (the Arity of R3) ) . C143 );
set D57 = ( ( ( C145 # ) * (the Arity of R3) ) . C143 );
set D58 = ( Den (C143 , R4) );
assume L395: C145 in ( OSSubSort C144 );
L396: C145 is  opers_closed by L395 , L272;
L397: C145 is_closed_on C143 by L396 , MSUALG_2:def 6;
L398: ( rng ( D58 | D57 ) ) c= ( ( C145 * (the ResultSort of R3) ) . C143 ) by L397 , MSUALG_2:def 5;
L399: ( D57 /\ D56 ) = D56 by L395 , L387 , XBOOLE_1:28;
L400: ( D58 | D56 ) = ( ( D58 | D57 ) | D56 ) by L399 , RELAT_1:71;
L401: ( rng ( D58 | D56 ) ) c= ( rng ( D58 | D57 ) ) by L400 , RELAT_1:70;
thus L402: thesis by L401 , L398 , XBOOLE_1:1;
end;
theorem
L403: (for R3 being OrderSortedSign holds (for R4 being (OSAlgebra of R3) holds (for B105 being (OperSymbol of R3) holds (for B106 being (OSSubset of R4) holds ( rng ( ( Den (B105 , R4) ) | ( ( ( ( OSMSubSort B106 ) # ) * (the Arity of R3) ) . B105 ) ) ) c= ( ( ( OSMSubSort B106 ) * (the ResultSort of R3) ) . B105 )))))
proof
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C146 being (OperSymbol of R3);
let C147 being (OSSubset of R4);
let C148 being set;
assume that
L404: C148 in ( rng ( ( Den (C146 , R4) ) | ( ( ( ( OSMSubSort C147 ) # ) * (the Arity of R3) ) . C146 ) ) )
and
L405: (not C148 in ( ( ( OSMSubSort C147 ) * (the ResultSort of R3) ) . C146 ));
set D59 = ( the_result_sort_of C146 );
L406: (D59 = ( (the ResultSort of R3) . C146 ) & ( dom (the ResultSort of R3) ) = (the carrier' of R3)) by FUNCT_2:def 1 , MSUALG_1:def 2;
L407: ( ( ( OSMSubSort C147 ) * (the ResultSort of R3) ) . C146 ) = ( ( OSMSubSort C147 ) . D59 ) by L406 , FUNCT_1:13
.= ( meet ( OSSubSort (C147 , D59) ) ) by L331;
consider C149 being set such that L408: C149 in ( OSSubSort (C147 , D59) ) and L409: (not C148 in C149) by L407 , L405 , SETFAM_1:def 1;
consider C150 being (OSSubset of R4) such that L410: C150 in ( OSSubSort C147 ) and L411: ( C150 . D59 ) = C149 by L408 , L295;
L412: ( rng ( ( Den (C146 , R4) ) | ( ( ( ( OSMSubSort C147 ) # ) * (the Arity of R3) ) . C146 ) ) ) c= ( ( C150 * (the ResultSort of R3) ) . C146 ) by L410 , L394;
L413: C148 in ( ( C150 * (the ResultSort of R3) ) . C146 ) by L412 , L404;
thus L414: contradiction by L413 , L406 , L409 , L411 , FUNCT_1:13;
end;
theorem
L415: (for R3 being OrderSortedSign holds (for R4 being (OSAlgebra of R3) holds (for B107 being (OSSubset of R4) holds (( OSMSubSort B107 ) is  opers_closed & B107 c= ( OSMSubSort B107 )))))
proof
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C151 being (OSSubset of R4);
thus L416: ( OSMSubSort C151 ) is  opers_closed
proof
let C152 being (Element of (the carrier' of R3));
reconsider D60 = C152 as (OperSymbol of R3);
L417: ( rng ( ( Den (D60 , R4) ) | ( ( ( ( OSMSubSort C151 ) # ) * (the Arity of R3) ) . D60 ) ) ) c= ( ( ( OSMSubSort C151 ) * (the ResultSort of R3) ) . D60 ) by L403;
thus L418: thesis by L417 , MSUALG_2:def 5;
end;

L419: (C151 c= ( ( OSConstants R4 ) \/ C151 ) & ( ( OSConstants R4 ) \/ C151 ) c= ( OSMSubSort C151 )) by L361 , PBOOLE:14;
thus L420: thesis by L419 , PBOOLE:13;
end;
registration
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C153 being (OSSubset of R4);
cluster ( OSMSubSort C153 ) ->  opers_closed;
coherence by L415;
end;
begin
registration
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C154 being  opers_closed (OSSubset of R4);
cluster ( R4 | C154 ) ->  order-sorted;
coherence
proof
set D61 = MSAlgebra (# C154 , (( Opers (R4 , C154) ) qua (ManySortedFunction of ( ( C154 # ) * (the Arity of R3) ) , ( C154 * (the ResultSort of R3) ))) #);
L422: (( R4 | C154 ) = D61 & C154 is (OrderSortedSet of R3)) by L20 , MSUALG_2:def 15;
thus L423: thesis by L422 , OSALG_1:17;
end;
end;
registration
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C155 , C156 being (OSSubAlgebra of R4);
cluster ( C155 /\ C156 ) ->  order-sorted;
coherence
proof
reconsider D62 = (the Sorts of C155) , D63 = (the Sorts of C156) as (OrderSortedSet of R3) by OSALG_1:17;
L425: ( D62 /\ D63 ) is (OrderSortedSet of R3) by L1;
L426: (the Sorts of ( C155 /\ C156 )) is (OrderSortedSet of R3) by L425 , MSUALG_2:def 16;
thus L427: thesis by L426 , OSALG_1:17;
end;
end;
definition
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C157 being (OSSubset of R4);
func GenOSAlg C157 ->  strict (OSSubAlgebra of R4) means 
:L429: (C157 is (OSSubset of it) & (for B108 being (OSSubAlgebra of R4) holds (C157 is (OSSubset of B108) implies it is (OSSubAlgebra of B108))));
existence
proof
set D64 = ( OSMSubSort C157 );
reconsider D65 = ( R4 | D64 ) as  strict (OSSubAlgebra of R4);
take D65;
L430: D65 = MSAlgebra (# D64 , (( Opers (R4 , D64) ) qua (ManySortedFunction of ( ( D64 # ) * (the Arity of R3) ) , ( D64 * (the ResultSort of R3) ))) #) by MSUALG_2:def 15;
L431: C157 is (OrderSortedSet of R3) by L20;
L432: C157 c= D64 by L415;
L433: C157 is (MSSubset of D65) by L432 , L430 , PBOOLE:def 18;
thus L434: C157 is (OSSubset of D65) by L433 , L431 , L20;
let C158 being (OSSubAlgebra of R4);
reconsider D66 = (the Sorts of C158) as (MSSubset of R4) by MSUALG_2:def 9;
L435: D66 is (OrderSortedSet of R3) by OSALG_1:17;
reconsider D67 = D66 as (OSSubset of R4) by L435 , L20;
assume L436: C157 is (OSSubset of C158);
L437: (D67 is  opers_closed & C157 c= D67) by L436 , MSUALG_2:def 9 , PBOOLE:def 18;
L438: ( OSConstants R4 ) is (OSSubset of C158) by L192;
L439: ( OSConstants R4 ) c= D67 by L438 , PBOOLE:def 18;
L440: D67 in ( OSSubSort C157 ) by L439 , L437 , L272;
L441: (the Sorts of D65) c= (the Sorts of C158)
proof
let C159 being set;
assume L442: C159 in (the carrier of R3);
reconsider D68 = C159 as (SortSymbol of R3) by L442;
L443: (( (the Sorts of D65) . D68 ) = ( meet ( OSSubSort (C157 , D68) ) ) & ( D67 . D68 ) in ( OSSubSort (C157 , D68) )) by L430 , L440 , L295 , L331;
thus L444: thesis by L443 , SETFAM_1:3;
end;
thus L445: thesis by L441 , MSUALG_2:8;
end;
uniqueness
proof
let C160 , C161 being  strict (OSSubAlgebra of R4);
assume L446: (C157 is (OSSubset of C160) & (for B109 being (OSSubAlgebra of R4) holds (C157 is (OSSubset of B109) implies C160 is (OSSubAlgebra of B109))) & C157 is (OSSubset of C161) & (for B110 being (OSSubAlgebra of R4) holds (C157 is (OSSubset of B110) implies C161 is (OSSubAlgebra of B110))));
L447: (C160 is  strict  strict  strict  strict (OSSubAlgebra of C161) & C161 is  strict  strict  strict  strict (OSSubAlgebra of C160)) by L446;
thus L448: thesis by L447 , MSUALG_2:7;
end;
end;
theorem
L450: (for R3 being OrderSortedSign holds (for R4 being (OSAlgebra of R3) holds (for B111 being (OSSubset of R4) holds (( GenOSAlg B111 ) = ( R4 | ( OSMSubSort B111 ) ) & (the Sorts of ( GenOSAlg B111 )) = ( OSMSubSort B111 )))))
proof
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C162 being (OSSubset of R4);
set D69 = ( OSMSubSort C162 );
reconsider D70 = ( R4 | D69 ) as  strict (OSSubAlgebra of R4);
L451: D70 = MSAlgebra (# D69 , (( Opers (R4 , D69) ) qua (ManySortedFunction of ( ( D69 # ) * (the Arity of R3) ) , ( D69 * (the ResultSort of R3) ))) #) by MSUALG_2:def 15;
L452: C162 c= D69 by L415;
L453: C162 is (OrderSortedSet of R3) by L20;
L454: (C162 is (OSSubset of D70) & (for B112 being (OSSubAlgebra of R4) holds (C162 is (OSSubset of B112) implies D70 is (OSSubAlgebra of B112))))
proof
L455: C162 is (MSSubset of D70) by L452 , L451 , PBOOLE:def 18;
thus L456: C162 is (OSSubset of D70) by L455 , L453 , L20;
let C163 being (OSSubAlgebra of R4);
reconsider D71 = (the Sorts of C163) as (MSSubset of R4) by MSUALG_2:def 9;
L457: D71 is (OrderSortedSet of R3) by OSALG_1:17;
reconsider D72 = D71 as (OSSubset of R4) by L457 , L20;
assume L458: C162 is (OSSubset of C163);
L459: (D72 is  opers_closed & C162 c= D72) by L458 , MSUALG_2:def 9 , PBOOLE:def 18;
L460: ( OSConstants R4 ) is (OSSubset of C163) by L192;
L461: ( OSConstants R4 ) c= D72 by L460 , PBOOLE:def 18;
L462: D72 in ( OSSubSort C162 ) by L461 , L459 , L272;
L463: (the Sorts of D70) c= (the Sorts of C163)
proof
let C164 being set;
assume L464: C164 in (the carrier of R3);
reconsider D73 = C164 as (SortSymbol of R3) by L464;
L465: (( (the Sorts of D70) . D73 ) = ( meet ( OSSubSort (C162 , D73) ) ) & ( D72 . D73 ) in ( OSSubSort (C162 , D73) )) by L451 , L462 , L295 , L331;
thus L466: thesis by L465 , SETFAM_1:3;
end;
thus L467: thesis by L463 , MSUALG_2:8;
end;
thus L468: ( GenOSAlg C162 ) = ( R4 | D69 ) by L454 , L429;
thus L469: thesis by L451 , L454 , L429;
end;
theorem
L470: (for B113 being non  void non  empty ManySortedSign holds (for B114 being MSAlgebra over B113 holds (for B115 being (MSSubset of B114) holds (( GenMSAlg B115 ) = ( B114 | ( MSSubSort B115 ) ) & (the Sorts of ( GenMSAlg B115 )) = ( MSSubSort B115 )))))
proof
let C165 being non  void non  empty ManySortedSign;
let C166 being MSAlgebra over C165;
let C167 being (MSSubset of C166);
set D74 = ( MSSubSort C167 );
reconsider D75 = ( C166 | D74 ) as  strict (MSSubAlgebra of C166);
L471: D75 = MSAlgebra (# D74 , (( Opers (C166 , D74) ) qua (ManySortedFunction of ( ( D74 # ) * (the Arity of C165) ) , ( D74 * (the ResultSort of C165) ))) #) by MSUALG_2:20 , MSUALG_2:def 15;
L472: C167 c= D74 by MSUALG_2:20;
L473: (C167 is (MSSubset of D75) & (for B116 being (MSSubAlgebra of C166) holds (C167 is (MSSubset of B116) implies D75 is (MSSubAlgebra of B116))))
proof
thus L474: C167 is (MSSubset of D75) by L472 , L471 , PBOOLE:def 18;
let C168 being (MSSubAlgebra of C166);
reconsider D76 = (the Sorts of C168) as (MSSubset of C166) by MSUALG_2:def 9;
L475: ( Constants C166 ) is (MSSubset of C168) by MSUALG_2:10;
L476: ( Constants C166 ) c= D76 by L475 , PBOOLE:def 18;
assume L477: C167 is (MSSubset of C168);
L478: (D76 is  opers_closed & C167 c= D76) by L477 , MSUALG_2:def 9 , PBOOLE:def 18;
L479: D76 in ( SubSort C167 ) by L478 , L476 , MSUALG_2:13;
L480: (the Sorts of D75) c= (the Sorts of C168)
proof
let C169 being set;
assume L481: C169 in (the carrier of C165);
reconsider D77 = C169 as (SortSymbol of C165) by L481;
L482: (( (the Sorts of D75) . D77 ) = ( meet ( SubSort (C167 , D77) ) ) & ( D76 . D77 ) in ( SubSort (C167 , D77) )) by L471 , L479 , MSUALG_2:def 13 , MSUALG_2:def 14;
thus L483: thesis by L482 , SETFAM_1:3;
end;
thus L484: thesis by L480 , MSUALG_2:8;
end;
thus L485: ( GenMSAlg C167 ) = ( C166 | D74 ) by L473 , MSUALG_2:def 17;
thus L486: thesis by L471 , L473 , MSUALG_2:def 17;
end;
theorem
L487: (for R3 being OrderSortedSign holds (for R4 being (OSAlgebra of R3) holds (for B117 being (OSSubset of R4) holds (the Sorts of ( GenMSAlg B117 )) c= (the Sorts of ( GenOSAlg B117 )))))
proof
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C170 being (OSSubset of R4);
set D78 = ( GenMSAlg C170 );
set D79 = ( GenOSAlg C170 );
let C171 being set;
assume L488: C171 in (the carrier of R3);
reconsider D80 = C171 as (SortSymbol of R3) by L488;
L489: (the Sorts of D78) = ( MSSubSort C170 ) by L470;
L490: ( (the Sorts of D78) . D80 ) = ( meet ( SubSort (C170 , D80) ) ) by L489 , MSUALG_2:def 14;
L491: (the Sorts of D79) = ( OSMSubSort C170 ) by L450;
L492: ( (the Sorts of D79) . D80 ) = ( meet ( OSSubSort (C170 , D80) ) ) by L491 , L331;
thus L493: thesis by L492 , L490 , L320 , SETFAM_1:6;
end;
theorem
L494: (for R3 being OrderSortedSign holds (for R4 being (OSAlgebra of R3) holds (for B118 being (OSSubset of R4) holds ( GenMSAlg B118 ) is (MSSubAlgebra of ( GenOSAlg B118 ))))) by L487 , MSUALG_2:8;
theorem
L495: (for R3 being OrderSortedSign holds (for B119 being  strict (OSAlgebra of R3) holds (for B120 being (OSSubset of B119) holds (B120 = (the Sorts of B119) implies ( GenOSAlg B120 ) = B119))))
proof
let R3 being OrderSortedSign;
let C172 being  strict (OSAlgebra of R3);
let C173 being (OSSubset of C172);
assume L496: C173 = (the Sorts of C172);
L497: ( GenMSAlg C173 ) = C172 by L496 , MSUALG_2:21;
L498: ( GenMSAlg C173 ) is  strict  strict  strict  strict (MSSubAlgebra of ( GenOSAlg C173 )) by L487 , MSUALG_2:8;
thus L499: thesis by L498 , L497 , MSUALG_2:7;
end;
theorem
L500: (for R3 being OrderSortedSign holds (for R4 being (OSAlgebra of R3) holds (for B121 being  strict (OSSubAlgebra of R4) holds (for B122 being (OSSubset of R4) holds (B122 = (the Sorts of B121) implies ( GenOSAlg B122 ) = B121)))))
proof
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C174 being  strict (OSSubAlgebra of R4);
let C175 being (OSSubset of R4);
set D81 = ( GenOSAlg C175 );
assume L501: C175 = (the Sorts of C174);
L502: C175 is (MSSubset of C174) by L501 , PBOOLE:def 18;
L503: C175 is (OSSubset of D81) by L429;
L504: (the Sorts of C174) c= (the Sorts of D81) by L503 , L501 , PBOOLE:def 18;
L505: C174 is  strict  strict  strict  strict (MSSubAlgebra of D81) by L504 , MSUALG_2:8;
L506: C175 is (OrderSortedSet of R3) by L20;
L507: C175 is (OSSubset of C174) by L506 , L502 , L20;
L508: D81 is  strict  strict  strict  strict (OSSubAlgebra of C174) by L507 , L429;
thus L509: thesis by L508 , L505 , MSUALG_2:7;
end;
theorem
L510: (for R3 being OrderSortedSign holds (for B123 being  non-empty (OSAlgebra of R3) holds (for B124 being (OSSubAlgebra of B123) holds ( ( GenOSAlg ( OSConstants B123 ) ) /\ B124 ) = ( GenOSAlg ( OSConstants B123 ) ))))
proof
let R3 being OrderSortedSign;
let C176 being  non-empty (OSAlgebra of R3);
let C177 being (OSSubAlgebra of C176);
set D82 = ( OSConstants C176 );
set D83 = ( GenOSAlg D82 );
L511: D82 is (OSSubset of C177) by L192;
L512: D83 is  strict  strict  strict  strict (OSSubAlgebra of C177) by L511 , L429;
L513: (the Sorts of D83) is (MSSubset of C177) by L512 , MSUALG_2:def 9;
L514: ((the Sorts of ( D83 /\ C177 )) = ( (the Sorts of D83) /\ (the Sorts of C177) ) & (the Sorts of D83) c= (the Sorts of C177)) by L513 , MSUALG_2:def 16 , PBOOLE:def 18;
L515: (the Sorts of ( D83 /\ C177 )) = (the Sorts of D83) by L514 , PBOOLE:23;
thus L516: thesis by L515 , MSUALG_2:9;
end;
definition
let R3 being OrderSortedSign;
let C178 being  non-empty (OSAlgebra of R3);
let C179 , C180 being (OSSubAlgebra of C178);
func C179 "\/"_os C180 ->  strict (OSSubAlgebra of C178) means 
:L517: (for B125 being (OSSubset of C178) holds (B125 = ( (the Sorts of C179) \/ (the Sorts of C180) ) implies it = ( GenOSAlg B125 )));
existence
proof
set D84 = ( (the Sorts of C179) \/ (the Sorts of C180) );
L518: (the Sorts of C180) is (MSSubset of C178) by MSUALG_2:def 9;
L519: (the Sorts of C180) c= (the Sorts of C178) by L518 , PBOOLE:def 18;
L520: (the Sorts of C179) is (MSSubset of C178) by MSUALG_2:def 9;
L521: (the Sorts of C179) c= (the Sorts of C178) by L520 , PBOOLE:def 18;
L522: D84 c= (the Sorts of C178) by L521 , L519 , PBOOLE:16;
reconsider D85 = D84 as (MSSubset of C178) by L522 , PBOOLE:def 18;
reconsider D86 = (the Sorts of C179) , D87 = (the Sorts of C180) as (OrderSortedSet of R3) by OSALG_1:17;
L523: D85 = ( D86 \/ D87 );
L524: D85 is (OrderSortedSet of R3) by L523 , L8;
reconsider D88 = D85 as (OSSubset of C178) by L524 , L20;
take ( GenOSAlg D88 );
thus L525: thesis;
end;
uniqueness
proof
reconsider D89 = (the Sorts of C179) , D90 = (the Sorts of C180) as (OrderSortedSet of R3) by OSALG_1:17;
set D91 = ( (the Sorts of C179) \/ (the Sorts of C180) );
L526: (the Sorts of C180) is (MSSubset of C178) by MSUALG_2:def 9;
L527: (the Sorts of C180) c= (the Sorts of C178) by L526 , PBOOLE:def 18;
L528: (the Sorts of C179) is (MSSubset of C178) by MSUALG_2:def 9;
L529: (the Sorts of C179) c= (the Sorts of C178) by L528 , PBOOLE:def 18;
L530: D91 c= (the Sorts of C178) by L529 , L527 , PBOOLE:16;
reconsider D92 = D91 as (MSSubset of C178) by L530 , PBOOLE:def 18;
let C181 , C182 being  strict (OSSubAlgebra of C178);
assume that
L531: (for B126 being (OSSubset of C178) holds (B126 = ( (the Sorts of C179) \/ (the Sorts of C180) ) implies C181 = ( GenOSAlg B126 )))
and
L532: (for B127 being (OSSubset of C178) holds (B127 = ( (the Sorts of C179) \/ (the Sorts of C180) ) implies C182 = ( GenOSAlg B127 )));
L533: D92 = ( D89 \/ D90 );
L534: D92 is (OrderSortedSet of R3) by L533 , L8;
reconsider D93 = D92 as (OSSubset of C178) by L534 , L20;
L535: C181 = ( GenOSAlg D93 ) by L531;
thus L536: thesis by L535 , L532;
end;
end;
theorem
L538: (for R3 being OrderSortedSign holds (for B128 being  non-empty (OSAlgebra of R3) holds (for B129 being (OSSubAlgebra of B128) holds (for B130 , B131 being (OSSubset of B128) holds (B131 = ( B130 \/ (the Sorts of B129) ) implies ( ( GenOSAlg B130 ) "\/"_os B129 ) = ( GenOSAlg B131 ))))))
proof
let R3 being OrderSortedSign;
let C183 being  non-empty (OSAlgebra of R3);
let C184 being (OSSubAlgebra of C183);
let C185 , C186 being (OSSubset of C183);
assume L539: C186 = ( C185 \/ (the Sorts of C184) );
reconsider D94 = (the Sorts of C184) , D95 = (the Sorts of ( GenOSAlg C185 )) as (MSSubset of C183) by MSUALG_2:def 9;
L540: ((the Sorts of C184) is (OrderSortedSet of R3) & (the Sorts of ( GenOSAlg C185 )) is (OrderSortedSet of R3)) by OSALG_1:17;
reconsider D96 = D94 , D97 = D95 as (OSSubset of C183) by L540 , L20;
L541: (D97 c= (the Sorts of C183) & D96 c= (the Sorts of C183)) by PBOOLE:def 18;
L542: ( D97 \/ D96 ) c= (the Sorts of C183) by L541 , PBOOLE:16;
reconsider D98 = ( D97 \/ D96 ) as (MSSubset of C183) by L542 , PBOOLE:def 18;
L543: ( D97 \/ D96 ) is (OrderSortedSet of R3) by L540 , L8;
reconsider D99 = D98 as (OSSubset of C183) by L543 , L20;
L544: ( ( GenOSAlg C185 ) "\/"_os C184 ) = ( GenOSAlg D99 ) by L517;
L545: ( D97 \/ D96 ) is (OSSubset of ( ( GenOSAlg C185 ) "\/"_os C184 )) by L544 , L429;
L546: ( D97 \/ D96 ) c= (the Sorts of ( ( GenOSAlg C185 ) "\/"_os C184 )) by L545 , PBOOLE:def 18;
L547: C185 is (OSSubset of ( GenOSAlg C185 )) by L429;
L548: C185 c= (the Sorts of ( GenOSAlg C185 )) by L547 , PBOOLE:def 18;
L549: ( C185 \/ D96 ) c= ( D97 \/ D96 ) by L548 , PBOOLE:20;
L550: C186 c= (the Sorts of ( ( GenOSAlg C185 ) "\/"_os C184 )) by L549 , L539 , L546 , PBOOLE:13;
L551: C186 is (MSSubset of ( ( GenOSAlg C185 ) "\/"_os C184 )) by L550 , PBOOLE:def 18;
L552: C185 is (OrderSortedSet of R3) by L20;
L553: (the Sorts of ( ( GenOSAlg C185 ) /\ ( GenOSAlg C186 ) )) = ( (the Sorts of ( GenOSAlg C185 )) /\ (the Sorts of ( GenOSAlg C186 )) ) by MSUALG_2:def 16;
L554: C186 is (OSSubset of ( GenOSAlg C186 )) by L429;
L555: C186 c= (the Sorts of ( GenOSAlg C186 )) by L554 , PBOOLE:def 18;
L556: C185 c= C186 by L539 , PBOOLE:14;
L557: C185 c= (the Sorts of ( GenOSAlg C186 )) by L556 , L555 , PBOOLE:13;
L558: C185 c= ( (the Sorts of ( GenOSAlg C185 )) /\ (the Sorts of ( GenOSAlg C186 )) ) by L557 , L548 , PBOOLE:17;
L559: C185 is (MSSubset of ( ( GenOSAlg C185 ) /\ ( GenOSAlg C186 ) )) by L558 , L553 , PBOOLE:def 18;
L560: C185 is (OSSubset of ( ( GenOSAlg C185 ) /\ ( GenOSAlg C186 ) )) by L559 , L552 , L20;
L561: ( GenOSAlg C185 ) is (OSSubAlgebra of ( ( GenOSAlg C185 ) /\ ( GenOSAlg C186 ) )) by L560 , L429;
L562: D97 is (MSSubset of ( ( GenOSAlg C185 ) /\ ( GenOSAlg C186 ) )) by L561 , MSUALG_2:def 9;
L563: D97 c= ( (the Sorts of ( GenOSAlg C185 )) /\ (the Sorts of ( GenOSAlg C186 )) ) by L562 , L553 , PBOOLE:def 18;
L564: ( (the Sorts of ( GenOSAlg C185 )) /\ (the Sorts of ( GenOSAlg C186 )) ) c= D97 by PBOOLE:15;
L565: D97 = ( (the Sorts of ( GenOSAlg C185 )) /\ (the Sorts of ( GenOSAlg C186 )) ) by L564 , L563 , PBOOLE:146;
L566: D97 c= (the Sorts of ( GenOSAlg C186 )) by L565 , PBOOLE:15;
L567: D96 c= C186 by L539 , PBOOLE:14;
L568: D96 c= (the Sorts of ( GenOSAlg C186 )) by L567 , L555 , PBOOLE:13;
L569: D99 c= (the Sorts of ( GenOSAlg C186 )) by L568 , L566 , PBOOLE:16;
L570: D99 is (MSSubset of ( GenOSAlg C186 )) by L569 , PBOOLE:def 18;
L571: D99 is (OSSubset of ( GenOSAlg C186 )) by L570 , L543 , L20;
L572: ( GenOSAlg D99 ) is  strict  strict  strict  strict (OSSubAlgebra of ( GenOSAlg C186 )) by L571 , L429;
L573: C186 is (OrderSortedSet of R3) by L20;
L574: C186 is (OSSubset of ( ( GenOSAlg C185 ) "\/"_os C184 )) by L573 , L551 , L20;
L575: ( GenOSAlg C186 ) is  strict  strict  strict  strict (OSSubAlgebra of ( ( GenOSAlg C185 ) "\/"_os C184 )) by L574 , L429;
thus L576: thesis by L575 , L544 , L572 , MSUALG_2:7;
end;
theorem
L577: (for R3 being OrderSortedSign holds (for B132 being  non-empty (OSAlgebra of R3) holds (for B133 being (OSSubAlgebra of B132) holds (for B134 being (OSSubset of B132) holds (B134 = (the Sorts of B132) implies ( ( GenOSAlg B134 ) "\/"_os B133 ) = ( GenOSAlg B134 ))))))
proof
let R3 being OrderSortedSign;
let C187 being  non-empty (OSAlgebra of R3);
let C188 being (OSSubAlgebra of C187);
let C189 being (OSSubset of C187);
L578: (the Sorts of C188) is (MSSubset of C187) by MSUALG_2:def 9;
assume L579: C189 = (the Sorts of C187);
L580: (the Sorts of C188) c= C189 by L579 , L578 , PBOOLE:def 18;
L581: ( C189 \/ (the Sorts of C188) ) = C189 by L580 , PBOOLE:22;
thus L582: thesis by L581 , L538;
end;
theorem
L583: (for R3 being OrderSortedSign holds (for B135 being  non-empty (OSAlgebra of R3) holds (for B136 , B137 being (OSSubAlgebra of B135) holds ( B136 "\/"_os B137 ) = ( B137 "\/"_os B136 ))))
proof
let R3 being OrderSortedSign;
let C190 being  non-empty (OSAlgebra of R3);
let C191 , C192 being (OSSubAlgebra of C190);
reconsider D100 = (the Sorts of C191) , D101 = (the Sorts of C192) as (MSSubset of C190) by MSUALG_2:def 9;
L584: (D100 c= (the Sorts of C190) & D101 c= (the Sorts of C190)) by PBOOLE:def 18;
L585: ( D100 \/ D101 ) c= (the Sorts of C190) by L584 , PBOOLE:16;
reconsider D102 = ( D100 \/ D101 ) as (MSSubset of C190) by L585 , PBOOLE:def 18;
L586: (D100 is (OrderSortedSet of R3) & D101 is (OrderSortedSet of R3)) by OSALG_1:17;
L587: D102 is (OrderSortedSet of R3) by L586 , L8;
reconsider D103 = D102 as (OSSubset of C190) by L587 , L20;
L588: ( C191 "\/"_os C192 ) = ( GenOSAlg D103 ) by L517;
thus L589: thesis by L588 , L517;
end;
theorem
L590: (for R3 being OrderSortedSign holds (for B138 being  non-empty (OSAlgebra of R3) holds (for B139 , B140 being  strict (OSSubAlgebra of B138) holds ( B139 /\ ( B139 "\/"_os B140 ) ) = B139)))
proof
let R3 being OrderSortedSign;
let C193 being  non-empty (OSAlgebra of R3);
let C194 , C195 being  strict (OSSubAlgebra of C193);
reconsider D104 = (the Sorts of C194) , D105 = (the Sorts of C195) as (MSSubset of C193) by MSUALG_2:def 9;
reconsider D106 = (the Sorts of ( C194 /\ ( C194 "\/"_os C195 ) )) as (MSSubset of C193) by MSUALG_2:def 9;
L591: (the Charact of ( C194 /\ ( C194 "\/"_os C195 ) )) = ( Opers (C193 , D106) ) by MSUALG_2:def 16;
L592: (D104 c= (the Sorts of C193) & D105 c= (the Sorts of C193)) by PBOOLE:def 18;
L593: ( D104 \/ D105 ) c= (the Sorts of C193) by L592 , PBOOLE:16;
reconsider D107 = ( D104 \/ D105 ) as (MSSubset of C193) by L593 , PBOOLE:def 18;
L594: (D104 is (OrderSortedSet of R3) & D105 is (OrderSortedSet of R3)) by OSALG_1:17;
L595: D107 is (OrderSortedSet of R3) by L594 , L8;
reconsider D108 = D107 as (OSSubset of C193) by L595 , L20;
L596: (the Sorts of ( C194 /\ ( C194 "\/"_os C195 ) )) = ( (the Sorts of C194) /\ (the Sorts of ( C194 "\/"_os C195 )) ) by MSUALG_2:def 16;
L597: ( C194 "\/"_os C195 ) = ( GenOSAlg D108 ) by L517;
L598: D108 is (OSSubset of ( C194 "\/"_os C195 )) by L597 , L429;
L599: D108 c= (the Sorts of ( C194 "\/"_os C195 )) by L598 , PBOOLE:def 18;
L600: (the Sorts of C194) c= D108 by PBOOLE:14;
L601: (the Sorts of C194) c= (the Sorts of ( C194 "\/"_os C195 )) by L600 , L599 , PBOOLE:13;
L602: (the Sorts of C194) c= (the Sorts of ( C194 /\ ( C194 "\/"_os C195 ) )) by L601 , L596 , PBOOLE:17;
L603: (the Sorts of ( C194 /\ ( C194 "\/"_os C195 ) )) c= (the Sorts of C194) by L596 , PBOOLE:15;
L604: (the Sorts of ( C194 /\ ( C194 "\/"_os C195 ) )) = (the Sorts of C194) by L603 , L602 , PBOOLE:146;
thus L605: thesis by L604 , L591 , MSUALG_2:def 9;
end;
theorem
L606: (for R3 being OrderSortedSign holds (for B141 being  non-empty (OSAlgebra of R3) holds (for B142 , B143 being  strict (OSSubAlgebra of B141) holds ( ( B142 /\ B143 ) "\/"_os B143 ) = B143)))
proof
let R3 being OrderSortedSign;
let C196 being  non-empty (OSAlgebra of R3);
let C197 , C198 being  strict (OSSubAlgebra of C196);
reconsider D109 = (the Sorts of ( C197 /\ C198 )) , D110 = (the Sorts of C198) as (MSSubset of C196) by MSUALG_2:def 9;
L607: (D109 is (OrderSortedSet of R3) & D110 is (OrderSortedSet of R3)) by OSALG_1:17;
reconsider D111 = D109 , D112 = D110 as (OSSubset of C196) by L607 , L20;
L608: (D111 c= (the Sorts of C196) & D112 c= (the Sorts of C196)) by PBOOLE:def 18;
L609: ( D111 \/ D112 ) c= (the Sorts of C196) by L608 , PBOOLE:16;
reconsider D113 = ( D111 \/ D112 ) as (MSSubset of C196) by L609 , PBOOLE:def 18;
L610: D113 is (OrderSortedSet of R3) by L607 , L8;
reconsider D114 = ( D111 \/ D112 ) as (OSSubset of C196) by L610 , L20;
L611: D111 = ( (the Sorts of C197) /\ (the Sorts of C198) ) by MSUALG_2:def 16;
L612: D111 c= D112 by L611 , PBOOLE:15;
L613: D114 = D112 by L612 , PBOOLE:22;
L614: ( ( C197 /\ C198 ) "\/"_os C198 ) = ( GenOSAlg D114 ) by L517;
thus L615: thesis by L614 , L613 , L500;
end;
begin
definition
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
func OSSub R4 -> set means 
:L616: (for R1 being set holds (R1 in it iff R1 is  strict  strict  strict  strict (OSSubAlgebra of R4)));
existence
proof
set D115 = { ( GenOSAlg ( @ B144 ) ) where B144 is (Element of ( OSSubSort R4 )) : (not contradiction) };
take D115;
let R1 being set;
thus L617: (R1 in D115 implies R1 is  strict  strict  strict  strict (OSSubAlgebra of R4))
proof
assume L618: R1 in D115;
L619: (ex B145 being (Element of ( OSSubSort R4 )) st R1 = ( GenOSAlg ( @ B145 ) )) by L618;
thus L620: thesis by L619;
end;

assume L621: R1 is  strict  strict  strict  strict (OSSubAlgebra of R4);
reconsider D116 = R1 as  strict (OSSubAlgebra of R4) by L621;
reconsider D117 = (the Sorts of D116) as (OSSubset of R4) by L47;
L622: D117 is  opers_closed by L47;
reconsider D118 = D117 as (Element of ( OSSubSort R4 )) by L622 , L286;
L623: D116 = ( GenOSAlg ( @ D118 ) ) by L500;
thus L624: thesis by L623;
end;
uniqueness
proof
defpred S5[ set ] means $1 is  strict  strict  strict  strict (OSSubAlgebra of R4);
thus L625: (for B146 , B147 being set holds (((for B148 being set holds (B148 in B146 iff S5[ B148 ])) & (for B149 being set holds (B149 in B147 iff S5[ B149 ]))) implies B146 = B147)) from XBOOLE_0:sch 3;
end;
end;
theorem
L627: (for R3 being OrderSortedSign holds (for R4 being (OSAlgebra of R3) holds ( OSSub R4 ) c= ( MSSub R4 )))
proof
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
let C199 being set;
assume L628: C199 in ( OSSub R4 );
L629: C199 is  strict  strict  strict  strict (MSSubAlgebra of R4) by L628 , L616;
thus L630: thesis by L629 , MSUALG_2:def 19;
end;
registration
let C200 being OrderSortedSign;
let C201 being (OSAlgebra of C200);
cluster ( OSSub C201 ) -> non  empty;
coherence
proof
set D119 = the  strict (OSSubAlgebra of C201);
L631: D119 in ( OSSub C201 ) by L616;
thus L632: thesis by L631;
end;
end;
definition
let R3 being OrderSortedSign;
let R4 being (OSAlgebra of R3);
redefine func OSSub R4 -> (Subset of ( MSSub R4 ));

coherence by L627;
end;
definition
let R3 being OrderSortedSign;
let C202 being  non-empty (OSAlgebra of R3);
func OSAlg_join C202 -> (BinOp of ( OSSub C202 )) means 
:L635: (for B150 , B151 being (Element of ( OSSub C202 )) holds (for B152 , B153 being  strict (OSSubAlgebra of C202) holds ((B150 = B152 & B151 = B153) implies ( it . (B150 , B151) ) = ( B152 "\/"_os B153 ))));
existence
proof
defpred S6[ (Element of ( OSSub C202 )) , (Element of ( OSSub C202 )) , set ] means (for B154 , B155 being  strict (OSSubAlgebra of C202) holds (($1 = B154 & $2 = B155) implies $3 = ( B154 "\/"_os B155 )));
L636: (for B156 , B157 being (Element of ( OSSub C202 )) holds (ex B158 being (Element of ( OSSub C202 )) st S6[ B156 , B157 , B158 ]))
proof
let C203 , C204 being (Element of ( OSSub C202 ));
reconsider D120 = C203 , D121 = C204 as  strict (OSSubAlgebra of C202) by L616;
reconsider D122 = ( D120 "\/"_os D121 ) as (Element of ( OSSub C202 )) by L616;
take D122;
thus L637: thesis;
end;
consider C205 being (BinOp of ( OSSub C202 )) such that L638: (for B159 , B160 being (Element of ( OSSub C202 )) holds S6[ B159 , B160 , ( C205 . (B159 , B160) ) ]) from BINOP_1:sch 3(L636);
take C205;
thus L639: thesis by L638;
end;
uniqueness
proof
let C206 , C207 being (BinOp of ( OSSub C202 ));
assume that
L640: (for B161 , B162 being (Element of ( OSSub C202 )) holds (for B163 , B164 being  strict (OSSubAlgebra of C202) holds ((B161 = B163 & B162 = B164) implies ( C206 . (B161 , B162) ) = ( B163 "\/"_os B164 ))))
and
L641: (for B165 , B166 being (Element of ( OSSub C202 )) holds (for B167 , B168 being  strict (OSSubAlgebra of C202) holds ((B165 = B167 & B166 = B168) implies ( C207 . (B165 , B166) ) = ( B167 "\/"_os B168 ))));
L642: (for B169 being (Element of ( OSSub C202 )) holds (for B170 being (Element of ( OSSub C202 )) holds ( C206 . (B169 , B170) ) = ( C207 . (B169 , B170) )))
proof
let C208 , C209 being (Element of ( OSSub C202 ));
reconsider D123 = C208 , D124 = C209 as  strict (OSSubAlgebra of C202) by L616;
L643: ( C206 . (C208 , C209) ) = ( D123 "\/"_os D124 ) by L640;
thus L644: thesis by L643 , L641;
end;
thus L645: thesis by L642 , BINOP_1:2;
end;
end;
definition
let R3 being OrderSortedSign;
let C210 being  non-empty (OSAlgebra of R3);
func OSAlg_meet C210 -> (BinOp of ( OSSub C210 )) means 
:L647: (for B171 , B172 being (Element of ( OSSub C210 )) holds (for B173 , B174 being  strict (OSSubAlgebra of C210) holds ((B171 = B173 & B172 = B174) implies ( it . (B171 , B172) ) = ( B173 /\ B174 ))));
existence
proof
defpred S7[ (Element of ( OSSub C210 )) , (Element of ( OSSub C210 )) , set ] means (for B175 , B176 being  strict (OSSubAlgebra of C210) holds (($1 = B175 & $2 = B176) implies $3 = ( B175 /\ B176 )));
L648: (for B177 , B178 being (Element of ( OSSub C210 )) holds (ex B179 being (Element of ( OSSub C210 )) st S7[ B177 , B178 , B179 ]))
proof
let C211 , C212 being (Element of ( OSSub C210 ));
reconsider D125 = C211 , D126 = C212 as  strict (OSSubAlgebra of C210) by L616;
reconsider D127 = ( D125 /\ D126 ) as (Element of ( OSSub C210 )) by L616;
take D127;
thus L649: thesis;
end;
consider C213 being (BinOp of ( OSSub C210 )) such that L650: (for B180 , B181 being (Element of ( OSSub C210 )) holds S7[ B180 , B181 , ( C213 . (B180 , B181) ) ]) from BINOP_1:sch 3(L648);
take C213;
thus L651: thesis by L650;
end;
uniqueness
proof
let C214 , C215 being (BinOp of ( OSSub C210 ));
assume that
L652: (for B182 , B183 being (Element of ( OSSub C210 )) holds (for B184 , B185 being  strict (OSSubAlgebra of C210) holds ((B182 = B184 & B183 = B185) implies ( C214 . (B182 , B183) ) = ( B184 /\ B185 ))))
and
L653: (for B186 , B187 being (Element of ( OSSub C210 )) holds (for B188 , B189 being  strict (OSSubAlgebra of C210) holds ((B186 = B188 & B187 = B189) implies ( C215 . (B186 , B187) ) = ( B188 /\ B189 ))));
L654: (for B190 being (Element of ( OSSub C210 )) holds (for B191 being (Element of ( OSSub C210 )) holds ( C214 . (B190 , B191) ) = ( C215 . (B190 , B191) )))
proof
let C216 , C217 being (Element of ( OSSub C210 ));
reconsider D128 = C216 , D129 = C217 as  strict (OSSubAlgebra of C210) by L616;
L655: ( C214 . (C216 , C217) ) = ( D128 /\ D129 ) by L652;
thus L656: thesis by L655 , L653;
end;
thus L657: thesis by L654 , BINOP_1:2;
end;
end;
theorem
L659: (for R3 being OrderSortedSign holds (for B192 being  non-empty (OSAlgebra of R3) holds (for B193 , B194 being (Element of ( OSSub B192 )) holds ( ( OSAlg_meet B192 ) . (B193 , B194) ) = ( ( MSAlg_meet B192 ) . (B193 , B194) ))))
proof
let R3 being OrderSortedSign;
let C218 being  non-empty (OSAlgebra of R3);
let C219 , C220 being (Element of ( OSSub C218 ));
L660: (C219 is  strict  strict  strict  strict (OSSubAlgebra of C218) & C220 is  strict  strict  strict  strict (OSSubAlgebra of C218)) by L616;
consider C221 , C222 being  strict (OSSubAlgebra of C218) such that L661: (C219 = C221 & C220 = C222) by L660;
L662: ( ( OSAlg_meet C218 ) . (C219 , C220) ) = ( C221 /\ C222 ) by L661 , L647
.= ( ( MSAlg_meet C218 ) . (C219 , C220) ) by L661 , MSUALG_2:def 21;
thus L663: thesis by L662;
end;
theorem
L664: (for R3 being OrderSortedSign holds (for R10 being  non-empty (OSAlgebra of R3) holds ( OSAlg_join R10 ) is  commutative))
proof
let R3 being OrderSortedSign;
let R10 being  non-empty (OSAlgebra of R3);
set D130 = ( OSAlg_join R10 );
L665: (for B195 , B196 being (Element of ( OSSub R10 )) holds ( D130 . (B195 , B196) ) = ( D130 . (B196 , B195) ))
proof
let C223 , C224 being (Element of ( OSSub R10 ));
reconsider D131 = C223 , D132 = C224 as  strict (OSSubAlgebra of R10) by L616;
set D133 = ( (the Sorts of D131) \/ (the Sorts of D132) );
L666: (the Sorts of D132) is (MSSubset of R10) by MSUALG_2:def 9;
L667: (the Sorts of D132) c= (the Sorts of R10) by L666 , PBOOLE:def 18;
L668: (the Sorts of D131) is (MSSubset of R10) by MSUALG_2:def 9;
L669: (the Sorts of D131) c= (the Sorts of R10) by L668 , PBOOLE:def 18;
L670: D133 c= (the Sorts of R10) by L669 , L667 , PBOOLE:16;
L671: D133 is (MSSubset of R10) by L670 , PBOOLE:def 18;
L672: ((the Sorts of D131) is (OrderSortedSet of R3) & (the Sorts of D132) is (OrderSortedSet of R3)) by OSALG_1:17;
L673: D133 is (OrderSortedSet of R3) by L672 , L8;
reconsider D134 = D133 as (OSSubset of R10) by L673 , L671 , L20;
L674: ( D131 "\/"_os D132 ) = ( GenOSAlg D134 ) by L517;
L675: (( D130 . (C223 , C224) ) = ( D131 "\/"_os D132 ) & ( D130 . (C224 , C223) ) = ( D132 "\/"_os D131 )) by L635;
thus L676: thesis by L675 , L674 , L517;
end;
thus L677: thesis by L665 , BINOP_1:def 2;
end;
theorem
L678: (for R3 being OrderSortedSign holds (for R10 being  non-empty (OSAlgebra of R3) holds ( OSAlg_join R10 ) is  associative))
proof
let R3 being OrderSortedSign;
let R10 being  non-empty (OSAlgebra of R3);
set D135 = ( OSAlg_join R10 );
L679: (for B197 , B198 , B199 being (Element of ( OSSub R10 )) holds ( D135 . (B197 , ( D135 . (B198 , B199) )) ) = ( D135 . (( D135 . (B197 , B198) ) , B199) ))
proof
let C225 , C226 , C227 being (Element of ( OSSub R10 ));
reconsider D136 = C225 , D137 = C226 , D138 = C227 as  strict (OSSubAlgebra of R10) by L616;
set D139 = ( (the Sorts of D136) \/ ( (the Sorts of D137) \/ (the Sorts of D138) ) );
L680: (the Sorts of D137) is (OrderSortedSet of R3) by OSALG_1:17;
L681: (the Sorts of D137) is (MSSubset of R10) by MSUALG_2:def 9;
L682: (the Sorts of D137) c= (the Sorts of R10) by L681 , PBOOLE:def 18;
L683: (the Sorts of D138) is (MSSubset of R10) by MSUALG_2:def 9;
L684: (the Sorts of D138) c= (the Sorts of R10) by L683 , PBOOLE:def 18;
L685: ( (the Sorts of D137) \/ (the Sorts of D138) ) c= (the Sorts of R10) by L684 , L682 , PBOOLE:16;
reconsider D140 = ( (the Sorts of D137) \/ (the Sorts of D138) ) as (MSSubset of R10) by L685 , PBOOLE:def 18;
L686: (the Sorts of D138) is (OrderSortedSet of R3) by OSALG_1:17;
L687: ( (the Sorts of D137) \/ (the Sorts of D138) ) is (OrderSortedSet of R3) by L686 , L680 , L8;
reconsider D141 = D140 as (OSSubset of R10) by L687 , L20;
L688: (the Sorts of D136) is (OrderSortedSet of R3) by OSALG_1:17;
L689: D139 is (OrderSortedSet of R3) by L688 , L687 , L8;
L690: (the Sorts of D136) is (MSSubset of R10) by MSUALG_2:def 9;
L691: (the Sorts of D136) c= (the Sorts of R10) by L690 , PBOOLE:def 18;
L692: ( (the Sorts of D136) \/ (the Sorts of D137) ) c= (the Sorts of R10) by L691 , L682 , PBOOLE:16;
reconsider D142 = ( (the Sorts of D136) \/ (the Sorts of D137) ) as (MSSubset of R10) by L692 , PBOOLE:def 18;
L693: ( D135 . (C226 , C227) ) = ( D137 "\/"_os D138 ) by L635;
L694: ( D135 . (C225 , ( D135 . (C226 , C227) )) ) = ( D136 "\/"_os ( D137 "\/"_os D138 ) ) by L693 , L635;
L695: ( (the Sorts of D136) \/ (the Sorts of D137) ) is (OrderSortedSet of R3) by L688 , L680 , L8;
reconsider D143 = D142 as (OSSubset of R10) by L695 , L20;
L696: ( D135 . (C225 , C226) ) = ( D136 "\/"_os D137 ) by L635;
L697: D139 c= (the Sorts of R10) by L691 , L685 , PBOOLE:16;
L698: D139 is (MSSubset of R10) by L697 , PBOOLE:def 18;
reconsider D144 = D139 as (OSSubset of R10) by L698 , L689 , L20;
L699: D144 = ( D143 \/ (the Sorts of D138) ) by PBOOLE:28;
L700: ( ( D136 "\/"_os D137 ) "\/"_os D138 ) = ( ( GenOSAlg D143 ) "\/"_os D138 ) by L517
.= ( GenOSAlg D144 ) by L699 , L538;
L701: ( D136 "\/"_os ( D137 "\/"_os D138 ) ) = ( D136 "\/"_os ( GenOSAlg D141 ) ) by L517
.= ( ( GenOSAlg D141 ) "\/"_os D136 ) by L583
.= ( GenOSAlg D144 ) by L538;
thus L702: thesis by L701 , L696 , L694 , L700 , L635;
end;
thus L703: thesis by L679 , BINOP_1:def 3;
end;
theorem
L704: (for R3 being OrderSortedSign holds (for R10 being  non-empty (OSAlgebra of R3) holds ( OSAlg_meet R10 ) is  commutative))
proof
let R3 being OrderSortedSign;
let R10 being  non-empty (OSAlgebra of R3);
set D145 = ( OSAlg_meet R10 );
set D146 = ( MSAlg_meet R10 );
L705: D146 is  commutative by MSUALG_2:31;
L706: (for B200 , B201 being (Element of ( OSSub R10 )) holds ( D145 . (B200 , B201) ) = ( D145 . (B201 , B200) ))
proof
let C228 , C229 being (Element of ( OSSub R10 ));
L707: ( D145 . (C228 , C229) ) = ( D146 . (C228 , C229) ) by L659
.= ( D146 . (C229 , C228) ) by L705 , BINOP_1:def 2
.= ( D145 . (C229 , C228) ) by L659;
thus L708: thesis by L707;
end;
thus L709: thesis by L706 , BINOP_1:def 2;
end;
theorem
L710: (for R3 being OrderSortedSign holds (for R10 being  non-empty (OSAlgebra of R3) holds ( OSAlg_meet R10 ) is  associative))
proof
let R3 being OrderSortedSign;
let R10 being  non-empty (OSAlgebra of R3);
set D147 = ( OSAlg_meet R10 );
set D148 = ( MSAlg_meet R10 );
L711: D148 is  associative by MSUALG_2:32;
L712: (for B202 , B203 , B204 being (Element of ( OSSub R10 )) holds ( D147 . (B202 , ( D147 . (B203 , B204) )) ) = ( D147 . (( D147 . (B202 , B203) ) , B204) ))
proof
let C230 , C231 , C232 being (Element of ( OSSub R10 ));
L713: ( D147 . (C230 , C231) ) = ( D148 . (C230 , C231) ) by L659;
L714: ( D147 . (C231 , C232) ) = ( D148 . (C231 , C232) ) by L659;
L715: ( D147 . (C230 , ( D147 . (C231 , C232) )) ) = ( D148 . (C230 , ( D148 . (C231 , C232) )) ) by L714 , L659
.= ( D148 . (( D148 . (C230 , C231) ) , C232) ) by L711 , BINOP_1:def 3
.= ( D147 . (( D147 . (C230 , C231) ) , C232) ) by L713 , L659;
thus L716: thesis by L715;
end;
thus L717: thesis by L712 , BINOP_1:def 3;
end;
definition
let R3 being OrderSortedSign;
let C233 being  non-empty (OSAlgebra of R3);
func OSSubAlLattice C233 ->  strict Lattice equals 
LattStr (# ( OSSub C233 ) , ( OSAlg_join C233 ) , ( OSAlg_meet C233 ) #);
coherence
proof
set D149 = LattStr (# ( OSSub C233 ) , ( OSAlg_join C233 ) , ( OSAlg_meet C233 ) #);
L718: (for B205 , B206 , B207 being (Element of D149) holds ( B205 "\/" ( B206 "\/" B207 ) ) = ( ( B205 "\/" B206 ) "\/" B207 ))
proof
let C234 , C235 , C236 being (Element of D149);
L719: ( OSAlg_join C233 ) is  associative by L678;
thus L720: thesis by L719 , BINOP_1:def 3;
end;
L721: (for B208 , B209 being (Element of D149) holds ( B208 "/\" B209 ) = ( B209 "/\" B208 ))
proof
let C237 , C238 being (Element of D149);
L722: ( OSAlg_meet C233 ) is  commutative by L704;
thus L723: thesis by L722 , BINOP_1:def 2;
end;
L724: (for B210 , B211 being (Element of D149) holds ( B210 "/\" ( B210 "\/" B211 ) ) = B210)
proof
let C239 , C240 being (Element of D149);
reconsider D150 = C239 , D151 = C240 as (Element of ( OSSub C233 ));
L725: ( ( OSAlg_meet C233 ) . (D150 , ( ( OSAlg_join C233 ) . (D150 , D151) )) ) = D150
proof
reconsider D152 = D150 , D153 = D151 as  strict (OSSubAlgebra of C233) by L616;
L726: ( ( OSAlg_join C233 ) . (D150 , D151) ) = ( D152 "\/"_os D153 ) by L635;
thus L727: ( ( OSAlg_meet C233 ) . (D150 , ( ( OSAlg_join C233 ) . (D150 , D151) )) ) = ( D152 /\ ( D152 "\/"_os D153 ) ) by L726 , L647
.= D150 by L590;
end;
thus L728: thesis by L725;
end;
L729: (for B212 , B213 being (Element of D149) holds ( ( B212 "/\" B213 ) "\/" B213 ) = B213)
proof
let C241 , C242 being (Element of D149);
reconsider D154 = C241 , D155 = C242 as (Element of ( OSSub C233 ));
L730: ( ( OSAlg_join C233 ) . (( ( OSAlg_meet C233 ) . (D154 , D155) ) , D155) ) = D155
proof
reconsider D156 = D154 , D157 = D155 as  strict (OSSubAlgebra of C233) by L616;
L731: ( ( OSAlg_meet C233 ) . (D154 , D155) ) = ( D156 /\ D157 ) by L647;
thus L732: ( ( OSAlg_join C233 ) . (( ( OSAlg_meet C233 ) . (D154 , D155) ) , D155) ) = ( ( D156 /\ D157 ) "\/"_os D157 ) by L731 , L635
.= D155 by L606;
end;
thus L733: thesis by L730;
end;
L734: (for B214 , B215 , B216 being (Element of D149) holds ( B214 "/\" ( B215 "/\" B216 ) ) = ( ( B214 "/\" B215 ) "/\" B216 ))
proof
let C243 , C244 , C245 being (Element of D149);
L735: ( OSAlg_meet C233 ) is  associative by L710;
thus L736: thesis by L735 , BINOP_1:def 3;
end;
L737: (for B217 , B218 being (Element of D149) holds ( B217 "\/" B218 ) = ( B218 "\/" B217 ))
proof
let C246 , C247 being (Element of D149);
L738: ( OSAlg_join C233 ) is  commutative by L664;
thus L739: thesis by L738 , BINOP_1:def 2;
end;
L740: D149 is  strict  join-commutative  join-associative  meet-absorbing  meet-commutative  meet-associative  join-absorbing by L737 , L718 , L729 , L721 , L734 , L724 , LATTICES:def 4 , LATTICES:def 5 , LATTICES:def 6 , LATTICES:def 7 , LATTICES:def 8 , LATTICES:def 9;
thus L741: thesis by L740;
end;
end;
theorem
L743: (for R3 being OrderSortedSign holds (for B219 being  non-empty (OSAlgebra of R3) holds ( OSSubAlLattice B219 ) is  bounded))
proof
let R3 being OrderSortedSign;
let C248 being  non-empty (OSAlgebra of R3);
set D158 = ( OSSubAlLattice C248 );
thus L744: D158 is  lower-bounded
proof
set D159 = ( OSConstants C248 );
reconsider D160 = ( GenOSAlg D159 ) as (Element of ( OSSub C248 )) by L616;
reconsider D161 = D160 as (Element of D158);
take D161;
let C249 being (Element of D158);
reconsider D162 = C249 as (Element of ( OSSub C248 ));
reconsider D163 = D162 as  strict (OSSubAlgebra of C248) by L616;
thus L745: ( D161 "/\" C249 ) = ( ( GenOSAlg D159 ) /\ D163 ) by L647
.= D161 by L510;
thus L746: thesis by L745;
end;

thus L747: D158 is  upper-bounded
proof
reconsider D164 = (the Sorts of C248) as (MSSubset of C248) by PBOOLE:def 18;
L748: (the Sorts of C248) is (OrderSortedSet of R3) by OSALG_1:17;
reconsider D165 = D164 as (OSSubset of C248) by L748 , L20;
reconsider D166 = ( GenOSAlg D165 ) as (Element of ( OSSub C248 )) by L616;
reconsider D167 = D166 as (Element of D158);
take D167;
let C250 being (Element of D158);
reconsider D168 = C250 as (Element of ( OSSub C248 ));
reconsider D169 = D168 as  strict (OSSubAlgebra of C248) by L616;
thus L749: ( D167 "\/" C250 ) = ( ( GenOSAlg D165 ) "\/"_os D169 ) by L635
.= D167 by L577;
thus L750: thesis by L749;
end;

end;
registration
let R3 being OrderSortedSign;
let C251 being  non-empty (OSAlgebra of R3);
cluster ( OSSubAlLattice C251 ) ->  bounded;
coherence by L743;
end;
theorem
L749: (for R3 being OrderSortedSign holds (for B220 being  non-empty (OSAlgebra of R3) holds ( Bottom ( OSSubAlLattice B220 ) ) = ( GenOSAlg ( OSConstants B220 ) )))
proof
let R3 being OrderSortedSign;
let C252 being  non-empty (OSAlgebra of R3);
set D170 = ( OSConstants C252 );
reconsider D171 = ( GenOSAlg D170 ) as (Element of ( OSSub C252 )) by L616;
set D172 = ( OSSubAlLattice C252 );
reconsider D173 = D171 as (Element of D172);
L750:
now
let C253 being (Element of D172);
reconsider D174 = C253 as (Element of ( OSSub C252 ));
reconsider D175 = D174 as  strict (OSSubAlgebra of C252) by L616;
thus L751: ( D173 "/\" C253 ) = ( ( GenOSAlg D170 ) /\ D175 ) by L647
.= D173 by L510;
thus L752: ( C253 "/\" D173 ) = D173 by L751;
end;
thus L753: thesis by L750 , LATTICES:def 16;
end;
theorem
L754: (for R3 being OrderSortedSign holds (for B221 being  non-empty (OSAlgebra of R3) holds (for B222 being (OSSubset of B221) holds (B222 = (the Sorts of B221) implies ( Top ( OSSubAlLattice B221 ) ) = ( GenOSAlg B222 )))))
proof
let R3 being OrderSortedSign;
let C254 being  non-empty (OSAlgebra of R3);
let C255 being (OSSubset of C254);
reconsider D176 = ( GenOSAlg C255 ) as (Element of ( OSSub C254 )) by L616;
set D177 = ( OSSubAlLattice C254 );
reconsider D178 = D176 as (Element of D177);
assume L755: C255 = (the Sorts of C254);
L756:
now
let C256 being (Element of D177);
reconsider D179 = C256 as (Element of ( OSSub C254 ));
reconsider D180 = D179 as  strict (OSSubAlgebra of C254) by L616;
thus L757: ( D178 "\/" C256 ) = ( ( GenOSAlg C255 ) "\/"_os D180 ) by L635
.= D178 by L755 , L577;
thus L758: ( C256 "\/" D178 ) = D178 by L757;
end;
thus L759: thesis by L756 , LATTICES:def 17;
end;
theorem
L760: (for R3 being OrderSortedSign holds (for B223 being  strict  non-empty (OSAlgebra of R3) holds ( Top ( OSSubAlLattice B223 ) ) = B223))
proof
let R3 being OrderSortedSign;
let C257 being  strict  non-empty (OSAlgebra of R3);
reconsider D181 = (the Sorts of C257) as (MSSubset of C257) by PBOOLE:def 18;
L761: D181 is (OrderSortedSet of R3) by OSALG_1:17;
reconsider D182 = (the Sorts of C257) as (OSSubset of C257) by L761 , L20;
thus L762: ( Top ( OSSubAlLattice C257 ) ) = ( GenOSAlg D182 ) by L754
.= C257 by L495;
end;
