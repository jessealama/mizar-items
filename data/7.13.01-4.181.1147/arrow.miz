:: Arrow's Impossibility Theorem
::  by Freek Wiedijk
::
:: Received August 13, 2007
:: Copyright (c) 2007-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, XBOOLE_0, SUBSET_1, FUNCT_1, FINSET_1, CARD_1, XXREAL_0,
      TARSKI, ARYTM_1, RELAT_1, ZFMISC_1, RELAT_2, ORDERS_1, WELLORD1, FUNCT_2,
      NAT_1, FINSEQ_1, ARYTM_3, ARROW;
 notations ORDERS_1, RELAT_1, RELAT_2, RELSET_1, XBOOLE_0, SUBSET_1, TARSKI,
      FINSET_1, FUNCT_1, FUNCT_2, CARD_1, XXREAL_0, ZFMISC_1, ORDINAL1, NAT_1,
      NUMBERS, FINSEQ_1, XCMPLX_0, WELLORD1;
 constructors XXREAL_0, FUNCT_2, REAL_1, FINSEQ_1, INT_1, RELAT_2, PARTFUN1,
      WELLORD1, RELSET_1;
 registrations RELSET_1, FINSET_1, NAT_1, INT_1, XREAL_0, XBOOLE_0, ORDINAL1;
 requirements BOOLE, SUBSET, NUMERALS, ARITHM, REAL;
 definitions RELAT_1, FUNCT_2, WELLORD1;
 theorems RELSET_1, ZFMISC_1, TARSKI, FUNCT_2, FINSEQ_4, FINSEQ_1, FINSEQ_3,
      NAT_1, ORDINAL1, XREAL_1, FUNCT_1, XXREAL_0, PARTFUN1, INT_1, CARD_2,
      CARD_1, XBOOLE_0, SUBSET_1, RELAT_2, RELAT_1, ORDERS_1, XBOOLE_1,
      WELLORD2, WELLORD1, XTUPLE_0;
 schemes XBOOLE_0, FUNCT_2, NAT_1, RELSET_1;

begin
definition
let C1 , C2 being non  empty set;
let C3 being non  empty (Subset of C2);
let C4 being (Function of C1 , C3);
let C5 being (Element of C1);
redefine func C4 . C5 -> (Element of C3);

coherence
proof
thus L1: ( C4 . C5 ) is (Element of C3);
end;
end;
theorem
L3: (for B1 being  finite set holds (( card B1 ) >= 2 implies (for B2 being (Element of B1) holds (ex B3 being (Element of B1) st B3 <> B2))))
proof
let C6 being  finite set;
assume L4: ( card C6 ) >= 2;
reconsider D1 = C6 as  finite non  empty set by L4 , CARD_1:27;
let C7 being (Element of C6);
L5: { C7 } c= D1 by ZFMISC_1:31;
L6: ( card ( D1 \ { C7 } ) ) = ( ( card D1 ) - ( card { C7 } ) ) by L5 , CARD_2:44
.= ( ( card D1 ) - 1 ) by CARD_1:30;
L7: ( card ( D1 \ { C7 } ) ) <> ( 0 ) by L6 , L4;
consider C8 being set such that L8: C8 in ( D1 \ { C7 } ) by L7 , CARD_1:27 , XBOOLE_0:def 1;
reconsider D2 = C8 as (Element of C6) by L8;
take D2;
L9: (not D2 in { C7 }) by L8 , XBOOLE_0:def 5;
thus L10: thesis by L9 , TARSKI:def 1;
end;
theorem
L11: (for B4 being  finite set holds (( card B4 ) >= 3 implies (for B5 , B6 being (Element of B4) holds (ex B7 being (Element of B4) st (B7 <> B5 & B7 <> B6)))))
proof
let C9 being  finite set;
assume L12: ( card C9 ) >= 3;
reconsider D3 = C9 as  finite non  empty set by L12 , CARD_1:27;
let C10 , C11 being (Element of C9);
L13: { C10 , C11 } c= D3 by ZFMISC_1:32;
L14: ( card ( D3 \ { C10 , C11 } ) ) = ( ( card D3 ) - ( card { C10 , C11 } ) ) by L13 , CARD_2:44;
L15: ( card { C10 , C11 } ) <= 2 by CARD_2:50;
L16: ( card ( D3 \ { C10 , C11 } ) ) >= ( 3 - 2 ) by L15 , L12 , L14 , XREAL_1:13;
L17: ( card ( D3 \ { C10 , C11 } ) ) <> ( 0 ) by L16;
consider C12 being set such that L18: C12 in ( D3 \ { C10 , C11 } ) by L17 , CARD_1:27 , XBOOLE_0:def 1;
reconsider D4 = C12 as (Element of C9) by L18;
take D4;
L19: (not D4 in { C10 , C11 }) by L18 , XBOOLE_0:def 5;
thus L20: thesis by L19 , TARSKI:def 2;
end;
begin
definition
let R1 being non  empty set;
defpred S1[ set ] means ($1 is (Relation of R1) & (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds ([ R2 , R3 ] in $1 or [ R3 , R2 ] in $1))) & (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (for R4 being (Element of R1) holds (([ R2 , R3 ] in $1 & [ R3 , R4 ] in $1) implies [ R2 , R4 ] in $1)))));
defpred S2[ set ] means (for B8 being set holds (B8 in $1 iff S1[ B8 ]));
func LinPreorders R1 means 
:L21: (for B9 being set holds (B9 in it iff (B9 is (Relation of R1) & (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds ([ R2 , R3 ] in B9 or [ R3 , R2 ] in B9))) & (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (for R4 being (Element of R1) holds (([ R2 , R3 ] in B9 & [ R3 , R4 ] in B9) implies [ R2 , R4 ] in B9)))))));
existence
proof
consider C13 being set such that L22: (for B10 being set holds (B10 in C13 iff (B10 in ( bool [: R1 , R1 :] ) & S1[ B10 ]))) from XBOOLE_0:sch 1;
take C13;
let C14 being set;
thus L23: (C14 in C13 implies S1[ C14 ]) by L22;
assume L24: S1[ C14 ];
L25: [: R1 , R1 :] in ( bool [: R1 , R1 :] ) by ZFMISC_1:def 1;
thus L26: thesis by L25 , L22 , L24;
end;
uniqueness
proof
let C15 , C16 being set;
assume that
L27: S2[ C15 ]
and
L28: S2[ C16 ];
L29:
now
let C17 being set;
L30: (C17 in C15 iff S1[ C17 ]) by L27;
thus L31: (C17 in C15 iff C17 in C16) by L30 , L28;
end;
thus L32: thesis by L29 , TARSKI:1;
end;
end;
registration
let R1 being non  empty set;
cluster ( LinPreorders R1 ) -> non  empty;
coherence
proof
L34: [: R1 , R1 :] c= [: R1 , R1 :];
reconsider D5 = [: R1 , R1 :] as (Relation of R1) by L34;
L35: ((for R2 being (Element of R1) holds (for R3 being (Element of R1) holds ([ R2 , R3 ] in D5 or [ R3 , R2 ] in D5))) & (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (for R4 being (Element of R1) holds (([ R2 , R3 ] in D5 & [ R3 , R4 ] in D5) implies [ R2 , R4 ] in D5))))) by ZFMISC_1:87;
thus L36: thesis by L35 , L21;
end;
end;
definition
let R1 being non  empty set;
defpred S3[ set ] means (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (([ R2 , R3 ] in $1 & [ R3 , R2 ] in $1) implies R2 = R3)));
defpred S4[ set ] means (for B11 being (Element of ( LinPreorders R1 )) holds (B11 in $1 iff S3[ B11 ]));
func LinOrders R1 -> (Subset of ( LinPreorders R1 )) means 
:L38: (for B12 being (Element of ( LinPreorders R1 )) holds (B12 in it iff (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (([ R2 , R3 ] in B12 & [ R3 , R2 ] in B12) implies R2 = R3)))));
existence
proof
consider C18 being set such that L39: (for B13 being set holds (B13 in C18 iff (B13 in ( LinPreorders R1 ) & S3[ B13 ]))) from XBOOLE_0:sch 1;
L40: (for B14 being set holds (B14 in C18 implies B14 in ( LinPreorders R1 ))) by L39;
reconsider D6 = C18 as (Subset of ( LinPreorders R1 )) by L40 , TARSKI:def 3;
take D6;
let C19 being (Element of ( LinPreorders R1 ));
thus L41: (C19 in D6 implies S3[ C19 ]) by L39;
assume L42: S3[ C19 ];
thus L43: thesis by L42 , L39;
end;
uniqueness
proof
let C20 , C21 being (Subset of ( LinPreorders R1 ));
assume that
L44: S4[ C20 ]
and
L45: S4[ C21 ];
L46:
now
let C22 being (Element of ( LinPreorders R1 ));
L47: (C22 in C20 iff S3[ C22 ]) by L44;
thus L48: (C22 in C20 iff C22 in C21) by L47 , L45;
end;
thus L49: thesis by L46 , SUBSET_1:3;
end;
end;
registration
let C23 being set;
cluster  connected for (Order of C23);
existence
proof
consider C24 being Relation such that L51: C24 well_orders C23 by WELLORD2:17;
set D7 = ( C24 |_2 C23 );
L52: D7 is  well-ordering by L51 , WELLORD2:16;
reconsider D8 = D7 as (Relation of C23) by XBOOLE_1:17;
L53:
now
let C25 being set;
assume L54: C25 in C23;
L55: C24 is_reflexive_in C23 by L51 , WELLORD1:def 5;
L56: [ C25 , C25 ] in C24 by L55 , L54 , RELAT_2:def 1;
L57: [ C25 , C25 ] in [: C23 , C23 :] by L54 , ZFMISC_1:def 2;
L58: [ C25 , C25 ] in D8 by L57 , L56 , XBOOLE_0:def 4;
thus L59: C25 in ( dom D8 ) by L58 , XTUPLE_0:def 12;
end;
L60: C23 c= ( dom D8 ) by L53 , TARSKI:def 3;
L61: ( dom D8 ) = C23 by L60 , XBOOLE_0:def 10;
reconsider D9 = D8 as (Order of C23) by L61 , L52 , PARTFUN1:def 2 , WELLORD1:def 4;
take D9;
thus L62: thesis by L52 , WELLORD1:def 4;
end;
end;
definition
let R1 being non  empty set;
redefine func LinOrders R1 means 
:L64: (for B15 being set holds (B15 in it iff B15 is  connected  connected  connected  connected (Order of R1)));
compatibility
proof
L65:
now
let C26 being set;
assume L66: C26 in ( LinOrders R1 );
reconsider D10 = C26 as (Relation of R1) by L66 , L21;
L67:
now
let C27 being set;
assume L68: C27 in R1;
L69: [ C27 , C27 ] in C26 by L68 , L66 , L21;
thus L70: C27 in ( dom D10 ) by L69 , XTUPLE_0:def 12;
end;
L71: R1 c= ( dom D10 ) by L67 , TARSKI:def 3;
L72: ( dom D10 ) = R1 by L71 , XBOOLE_0:def 10;
L73:
now
let C28 being set;
assume L74: C28 in R1;
L75: [ C28 , C28 ] in C26 by L74 , L66 , L21;
thus L76: C28 in ( rng D10 ) by L75 , XTUPLE_0:def 13;
end;
L77: R1 c= ( rng D10 ) by L73 , TARSKI:def 3;
L78: ( field D10 ) = ( R1 \/ R1 ) by L77 , L72 , XBOOLE_0:def 10;
L79: (for B16 , B17 being set holds ((B16 in R1 & B17 in R1 & B16 <> B17) implies ([ B16 , B17 ] in C26 or [ B17 , B16 ] in C26))) by L66 , L21;
L80: D10 is_connected_in R1 by L79 , RELAT_2:def 6;
L81: (for B18 being set holds (B18 in R1 implies [ B18 , B18 ] in C26)) by L66 , L21;
L82: D10 is_reflexive_in R1 by L81 , RELAT_2:def 1;
L83: (for B19 , B20 being set holds ((B19 in R1 & B20 in R1 & [ B19 , B20 ] in C26 & [ B20 , B19 ] in C26) implies B19 = B20)) by L66 , L38;
L84: D10 is_antisymmetric_in R1 by L83 , RELAT_2:def 4;
L85: (for B21 , B22 , B23 being set holds ((B21 in R1 & B22 in R1 & B23 in R1 & [ B21 , B22 ] in C26 & [ B22 , B23 ] in C26) implies [ B21 , B23 ] in C26)) by L66 , L21;
L86: D10 is_transitive_in R1 by L85 , RELAT_2:def 8;
thus L87: C26 is  connected  connected  connected  connected (Order of R1) by L86 , L72 , L78 , L80 , L82 , L84 , PARTFUN1:def 2 , RELAT_2:def 9 , RELAT_2:def 12 , RELAT_2:def 14 , RELAT_2:def 16;
end;
L88:
now
let C29 being set;
assume L89: C29 is  connected  connected  connected  connected (Order of R1);
reconsider D11 = C29 as  connected (Order of R1) by L89;
L90:
now
let R2 being (Element of R1);
let R3 being (Element of R1);
L91: ( dom D11 ) = R1 by PARTFUN1:def 2;
L92: R1 c= ( ( dom D11 ) \/ ( rng D11 ) ) by L91 , XBOOLE_1:7;
L93: ( field D11 ) = R1 by L92 , XBOOLE_0:def 10;
L94: (D11 is_connected_in ( field D11 ) & D11 is_reflexive_in ( field D11 )) by RELAT_2:def 9 , RELAT_2:def 14;
L95: (R2 = R3 or R2 <> R3);
thus L96: ([ R2 , R3 ] in C29 or [ R3 , R2 ] in C29) by L95 , L93 , L94 , RELAT_2:def 1 , RELAT_2:def 6;
end;
L97: (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (for R4 being (Element of R1) holds (([ R2 , R3 ] in C29 & [ R3 , R4 ] in C29) implies [ R2 , R4 ] in C29)))) by L89 , ORDERS_1:5;
L98: C29 in ( LinPreorders R1 ) by L97 , L89 , L90 , L21;
L99: (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (([ R2 , R3 ] in C29 & [ R3 , R2 ] in C29) implies R2 = R3))) by L89 , ORDERS_1:4;
thus L100: C29 in ( LinOrders R1 ) by L99 , L98 , L38;
end;
let C30 being (Subset of ( LinPreorders R1 ));
thus L101: (C30 = ( LinOrders R1 ) implies (for B24 being set holds (B24 in C30 iff B24 is  connected  connected  connected  connected (Order of R1)))) by L65 , L88;
assume L102: (for B25 being set holds (B25 in C30 iff B25 is  connected  connected  connected  connected (Order of R1)));
L103:
now
let C31 being set;
L104: (C31 in C30 iff C31 is  connected  connected  connected  connected (Order of R1)) by L102;
thus L105: (C31 in C30 iff C31 in ( LinOrders R1 )) by L104 , L65 , L88;
end;
thus L106: thesis by L103 , TARSKI:1;
end;
end;
registration
let R1 being non  empty set;
cluster ( LinOrders R1 ) -> non  empty;
coherence
proof
set D12 = the  connected (Order of R1);
L108: D12 in ( LinOrders R1 ) by L64;
thus L109: thesis by L108;
end;
end;
registration
let R1 being non  empty set;
cluster  ->  Relation-like for (Element of ( LinPreorders R1 ));
coherence by L21;
cluster  ->  Relation-like for (Element of ( LinOrders R1 ));
coherence;
end;
definition
let C32 being Relation;
let C33 , C34 being set;
pred C33 <=_ C32 , C34
means
:L112: [ C33 , C34 ] in C32
;end;
notation
let C35 being Relation;
let C36 , C37 being set;
synonym C37 >=_ C35 , C36 for C36 <=_ C35 , C37;
antonym C37 <_ C35 , C36 for C36 <=_ C35 , C37;
antonym C36 >_ C35 , C37 for C36 <=_ C35 , C37;
end;
theorem
L115: (for R1 being non  empty set holds (for R2 being (Element of R1) holds (for R8 being (Element of ( LinPreorders R1 )) holds R2 <=_ R8 , R2)))
proof
let R1 being non  empty set;
let R2 being (Element of R1);
let R8 being (Element of ( LinPreorders R1 ));
thus L116: [ R2 , R2 ] in R8 by L21;
end;
theorem
L117: (for R1 being non  empty set holds (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (for R8 being (Element of ( LinPreorders R1 )) holds (R2 <=_ R8 , R3 or R3 <=_ R8 , R2)))))
proof
let R1 being non  empty set;
let R2 being (Element of R1);
let R3 being (Element of R1);
let R8 being (Element of ( LinPreorders R1 ));
L118: ([ R2 , R3 ] in R8 or [ R3 , R2 ] in R8) by L21;
thus L119: thesis by L118 , L112;
end;
theorem
L120: (for R1 being non  empty set holds (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (for R4 being (Element of R1) holds (for R8 being (Element of ( LinPreorders R1 )) holds (((R2 <=_ R8 , R3 or R2 <_ R8 , R3) & (R3 <=_ R8 , R4 or R3 <_ R8 , R4)) implies R2 <=_ R8 , R4))))))
proof
let R1 being non  empty set;
let R2 being (Element of R1);
let R3 being (Element of R1);
let R4 being (Element of R1);
let R8 being (Element of ( LinPreorders R1 ));
assume L121: (R2 <=_ R8 , R3 or R2 <_ R8 , R3);
L122: R2 <=_ R8 , R3 by L121 , L117;
L123: [ R2 , R3 ] in R8 by L122 , L112;
assume L124: (R3 <=_ R8 , R4 or R3 <_ R8 , R4);
L125: R3 <=_ R8 , R4 by L124 , L117;
L126: [ R3 , R4 ] in R8 by L125 , L112;
thus L127: [ R2 , R4 ] in R8 by L126 , L123 , L21;
end;
theorem
L128: (for R1 being non  empty set holds (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (for R10 being (Element of ( LinOrders R1 )) holds ((R2 <=_ R10 , R3 & R3 <=_ R10 , R2) implies R2 = R3)))))
proof
let R1 being non  empty set;
let R2 being (Element of R1);
let R3 being (Element of R1);
let R10 being (Element of ( LinOrders R1 ));
L129: (([ R2 , R3 ] in R10 & [ R3 , R2 ] in R10) implies R2 = R3) by L38;
thus L130: thesis by L129 , L112;
end;
theorem
L131: (for R1 being non  empty set holds (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (for R4 being (Element of R1) holds ((R2 <> R3 & R3 <> R4 & R2 <> R4) implies (ex R8 being (Element of ( LinPreorders R1 )) st (R2 <_ R8 , R3 & R3 <_ R8 , R4)))))))
proof
let R1 being non  empty set;
let R2 being (Element of R1);
let R3 being (Element of R1);
let R4 being (Element of R1);
assume that
L132: (R2 <> R3 & R3 <> R4)
and
L133: R2 <> R4;
defpred S5[ set , set ] means (($1 = R2 or $2 <> R2) & ($1 <> R4 or $2 = R4));
consider C38 being (Relation of R1) such that L134: (for R5 being (Element of R1) holds (for R6 being (Element of R1) holds ([ R5 , R6 ] in C38 iff S5[ R5 , R6 ]))) from RELSET_1:sch 2;
L135:
now
let R5 being (Element of R1);
let R6 being (Element of R1);
L136: (S5[ R5 , R6 ] or S5[ R6 , R5 ]) by L133;
thus L137: ([ R5 , R6 ] in C38 or [ R6 , R5 ] in C38) by L136 , L134;
end;
L138:
now
let R5 being (Element of R1);
let R6 being (Element of R1);
let R7 being (Element of R1);
assume L139: ([ R5 , R6 ] in C38 & [ R6 , R7 ] in C38);
L140: (S5[ R5 , R6 ] & S5[ R6 , R7 ]) by L139 , L134;
thus L141: [ R5 , R7 ] in C38 by L140 , L134;
end;
reconsider D13 = C38 as (Element of ( LinPreorders R1 )) by L138 , L135 , L21;
take D13;
L142: ((not [ R3 , R2 ] in C38) & (not [ R4 , R3 ] in C38)) by L132 , L134;
thus L143: thesis by L142 , L112;
end;
theorem
L144: (for R1 being non  empty set holds (for R3 being (Element of R1) holds (ex R8 being (Element of ( LinPreorders R1 )) st (for R2 being (Element of R1) holds (R2 <> R3 implies R3 <_ R8 , R2)))))
proof
let R1 being non  empty set;
let R3 being (Element of R1);
defpred S6[ set , set ] means ($1 = R3 or $2 <> R3);
consider C39 being (Relation of R1) such that L145: (for R5 being (Element of R1) holds (for R6 being (Element of R1) holds ([ R5 , R6 ] in C39 iff S6[ R5 , R6 ]))) from RELSET_1:sch 2;
L146:
now
let R5 being (Element of R1);
let R6 being (Element of R1);
L147: (S6[ R5 , R6 ] or S6[ R6 , R5 ]);
thus L148: ([ R5 , R6 ] in C39 or [ R6 , R5 ] in C39) by L147 , L145;
end;
L149:
now
let R5 being (Element of R1);
let R6 being (Element of R1);
let R7 being (Element of R1);
assume that
L150: [ R5 , R6 ] in C39
and
L151: [ R6 , R7 ] in C39;
L152: S6[ R6 , R7 ] by L145 , L151;
thus L153: [ R5 , R7 ] in C39 by L152 , L145 , L150;
end;
reconsider D14 = C39 as (Element of ( LinPreorders R1 )) by L149 , L146 , L21;
take D14;
let R2 being (Element of R1);
assume L154: R2 <> R3;
L155: (not [ R2 , R3 ] in C39) by L154 , L145;
thus L156: thesis by L155 , L112;
end;
theorem
L157: (for R1 being non  empty set holds (for R3 being (Element of R1) holds (ex R8 being (Element of ( LinPreorders R1 )) st (for R2 being (Element of R1) holds (R2 <> R3 implies R2 <_ R8 , R3)))))
proof
let R1 being non  empty set;
let R3 being (Element of R1);
defpred S7[ set , set ] means ($1 <> R3 or $2 = R3);
consider C40 being (Relation of R1) such that L158: (for R5 being (Element of R1) holds (for R6 being (Element of R1) holds ([ R5 , R6 ] in C40 iff S7[ R5 , R6 ]))) from RELSET_1:sch 2;
L159:
now
let R5 being (Element of R1);
let R6 being (Element of R1);
L160: (S7[ R5 , R6 ] or S7[ R6 , R5 ]);
thus L161: ([ R5 , R6 ] in C40 or [ R6 , R5 ] in C40) by L160 , L158;
end;
L162:
now
let R5 being (Element of R1);
let R6 being (Element of R1);
let R7 being (Element of R1);
assume that
L163: [ R5 , R6 ] in C40
and
L164: [ R6 , R7 ] in C40;
L165: S7[ R5 , R6 ] by L158 , L163;
thus L166: [ R5 , R7 ] in C40 by L165 , L158 , L164;
end;
reconsider D15 = C40 as (Element of ( LinPreorders R1 )) by L162 , L159 , L21;
take D15;
let R2 being (Element of R1);
assume L167: R2 <> R3;
L168: (not [ R3 , R2 ] in C40) by L167 , L158;
thus L169: thesis by L168 , L112;
end;
theorem
L170: (for R1 being non  empty set holds (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (for R4 being (Element of R1) holds (for R9 being (Element of ( LinPreorders R1 )) holds ((R2 <> R3 & R2 <> R4) implies (ex R8 being (Element of ( LinPreorders R1 )) st (R2 <_ R8 , R3 & R2 <_ R8 , R4 & (R3 <_ R8 , R4 iff R3 <_ R9 , R4) & (R4 <_ R8 , R3 iff R4 <_ R9 , R3)))))))))
proof
let R1 being non  empty set;
let R2 being (Element of R1);
let R3 being (Element of R1);
let R4 being (Element of R1);
let R9 being (Element of ( LinPreorders R1 ));
assume L171: (R2 <> R3 & R2 <> R4);
defpred S8[ (Element of R1) , (Element of R1) ] means ($1 = R2 or ($1 <=_ R9 , $2 & $2 <> R2));
consider C41 being (Relation of R1) such that L172: (for R5 being (Element of R1) holds (for R6 being (Element of R1) holds ([ R5 , R6 ] in C41 iff S8[ R5 , R6 ]))) from RELSET_1:sch 2;
L173:
now
let R5 being (Element of R1);
let R6 being (Element of R1);
L174: (S8[ R5 , R6 ] or S8[ R6 , R5 ]) by L117;
thus L175: ([ R5 , R6 ] in C41 or [ R6 , R5 ] in C41) by L174 , L172;
end;
L176:
now
let R5 being (Element of R1);
let R6 being (Element of R1);
let R7 being (Element of R1);
assume L177: ([ R5 , R6 ] in C41 & [ R6 , R7 ] in C41);
L178: (S8[ R5 , R6 ] & S8[ R6 , R7 ]) by L177 , L172;
L179: S8[ R5 , R7 ] by L178 , L120;
thus L180: [ R5 , R7 ] in C41 by L179 , L172;
end;
reconsider D16 = C41 as (Element of ( LinPreorders R1 )) by L176 , L173 , L21;
take D16;
L181: ((not [ R3 , R2 ] in C41) & (not [ R4 , R2 ] in C41)) by L171 , L172;
L182: ((not [ R4 , R3 ] in C41) iff R3 <_ R9 , R4) by L171 , L172;
L183: ((not [ R3 , R4 ] in C41) iff R4 <_ R9 , R3) by L171 , L172;
thus L184: thesis by L183 , L181 , L182 , L112;
end;
theorem
L185: (for R1 being non  empty set holds (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (for R4 being (Element of R1) holds (for R9 being (Element of ( LinPreorders R1 )) holds ((R2 <> R3 & R2 <> R4) implies (ex R8 being (Element of ( LinPreorders R1 )) st (R3 <_ R8 , R2 & R4 <_ R8 , R2 & (R3 <_ R8 , R4 iff R3 <_ R9 , R4) & (R4 <_ R8 , R3 iff R4 <_ R9 , R3)))))))))
proof
let R1 being non  empty set;
let R2 being (Element of R1);
let R3 being (Element of R1);
let R4 being (Element of R1);
let R9 being (Element of ( LinPreorders R1 ));
assume L186: (R2 <> R3 & R2 <> R4);
defpred S9[ (Element of R1) , (Element of R1) ] means (($1 <> R2 & $1 <=_ R9 , $2) or $2 = R2);
consider C42 being (Relation of R1) such that L187: (for R5 being (Element of R1) holds (for R6 being (Element of R1) holds ([ R5 , R6 ] in C42 iff S9[ R5 , R6 ]))) from RELSET_1:sch 2;
L188:
now
let R5 being (Element of R1);
let R6 being (Element of R1);
L189: (S9[ R5 , R6 ] or S9[ R6 , R5 ]) by L117;
thus L190: ([ R5 , R6 ] in C42 or [ R6 , R5 ] in C42) by L189 , L187;
end;
L191:
now
let R5 being (Element of R1);
let R6 being (Element of R1);
let R7 being (Element of R1);
assume L192: ([ R5 , R6 ] in C42 & [ R6 , R7 ] in C42);
L193: (S9[ R5 , R6 ] & S9[ R6 , R7 ]) by L192 , L187;
L194: S9[ R5 , R7 ] by L193 , L120;
thus L195: [ R5 , R7 ] in C42 by L194 , L187;
end;
reconsider D17 = C42 as (Element of ( LinPreorders R1 )) by L191 , L188 , L21;
take D17;
L196: ((not [ R2 , R3 ] in C42) & (not [ R2 , R4 ] in C42)) by L186 , L187;
L197: ((not [ R4 , R3 ] in C42) iff R3 <_ R9 , R4) by L186 , L187;
L198: ((not [ R3 , R4 ] in C42) iff R4 <_ R9 , R3) by L186 , L187;
thus L199: thesis by L198 , L196 , L197 , L112;
end;
theorem
L200: (for R1 being non  empty set holds (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (for B26 , B27 being (Element of ( LinOrders R1 )) holds (((R2 <_ B26 , R3 iff R2 <_ B27 , R3) & (R3 <_ B26 , R2 iff R3 <_ B27 , R2)) iff (R2 <_ B26 , R3 iff R2 <_ B27 , R3))))))
proof
let R1 being non  empty set;
let R2 being (Element of R1);
let R3 being (Element of R1);
let C43 , C44 being (Element of ( LinOrders R1 ));
thus L201: (((R2 <_ C43 , R3 iff R2 <_ C44 , R3) & (R3 <_ C43 , R2 iff R3 <_ C44 , R2)) implies (R2 <_ C43 , R3 iff R2 <_ C44 , R3));
assume L202: (R2 <_ C43 , R3 iff R2 <_ C44 , R3);
thus L203: (R2 <_ C43 , R3 iff R2 <_ C44 , R3) by L202;
thus L204:now
assume L205: R3 <_ C43 , R2;
L206: R2 <> R3 by L205 , L117;
thus L207: R3 <_ C44 , R2 by L206 , L202 , L205 , L117 , L128;
end;
assume L208: R3 <_ C44 , R2;
L209: R2 <> R3 by L208 , L117;
thus L210: thesis by L209 , L202 , L208 , L117 , L128;
end;
theorem
L211: (for R1 being non  empty set holds (for B28 being (Element of ( LinOrders R1 )) holds (for B29 being (Element of ( LinPreorders R1 )) holds ((for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (R2 <_ B28 , R3 implies R2 <_ B29 , R3))) iff (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (R2 <_ B28 , R3 iff R2 <_ B29 , R3)))))))
proof
let R1 being non  empty set;
let C45 being (Element of ( LinOrders R1 ));
let C46 being (Element of ( LinPreorders R1 ));
thus L212:now
assume L213: (for R2 being (Element of R1) holds (for R3 being (Element of R1) holds (R2 <_ C45 , R3 implies R2 <_ C46 , R3)));
let R2 being (Element of R1);
let R3 being (Element of R1);
per cases  by L128;
suppose L214: R2 <_ C45 , R3;

thus L215: (R2 <_ C45 , R3 iff R2 <_ C46 , R3) by L214 , L213;
end;
suppose L216: R2 = R3;

thus L217: (R2 <_ C45 , R3 iff R2 <_ C46 , R3) by L216 , L115;
end;
suppose L218: R3 <_ C45 , R2;

L219: R3 <_ C46 , R2 by L218 , L213;
thus L220: (R2 <_ C45 , R3 iff R2 <_ C46 , R3) by L219 , L218 , L117;
end;
end;
thus L222: thesis;
end;
begin
theorem
L223: (for R11 being  finite non  empty set holds (for R12 being  finite non  empty set holds (for R32 being (Function of ( Funcs (R12 , ( LinPreorders R11 )) ) , ( LinPreorders R11 )) holds (((for R26 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) holds (for R13 being (Element of R11) holds (for R14 being (Element of R11) holds ((for R19 being (Element of R12) holds R13 <_ ( R26 . R19 ) , R14) implies R13 <_ ( R32 . R26 ) , R14)))) & (for R26 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) holds (for R27 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) holds (for R13 being (Element of R11) holds (for R14 being (Element of R11) holds ((for R19 being (Element of R12) holds ((R13 <_ ( R26 . R19 ) , R14 iff R13 <_ ( R27 . R19 ) , R14) & (R14 <_ ( R26 . R19 ) , R13 iff R14 <_ ( R27 . R19 ) , R13))) implies (R13 <_ ( R32 . R26 ) , R14 iff R13 <_ ( R32 . R27 ) , R14)))))) & ( card R11 ) >= 3) implies (ex R20 being (Element of R12) st (for R26 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) holds (for R13 being (Element of R11) holds (for R14 being (Element of R11) holds (R13 <_ ( R26 . R20 ) , R14 implies R13 <_ ( R32 . R26 ) , R14)))))))))
proof
let R11 being  finite non  empty set;
let R12 being  finite non  empty set;
let R32 being (Function of ( Funcs (R12 , ( LinPreorders R11 )) ) , ( LinPreorders R11 ));
assume that
L224: (for R26 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) holds (for R13 being (Element of R11) holds (for R14 being (Element of R11) holds ((for R19 being (Element of R12) holds R13 <_ ( R26 . R19 ) , R14) implies R13 <_ ( R32 . R26 ) , R14))))
and
L225: (for R26 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) holds (for R27 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) holds (for R13 being (Element of R11) holds (for R14 being (Element of R11) holds ((for R19 being (Element of R12) holds ((R13 <_ ( R26 . R19 ) , R14 iff R13 <_ ( R27 . R19 ) , R14) & (R14 <_ ( R26 . R19 ) , R13 iff R14 <_ ( R27 . R19 ) , R13))) implies (R13 <_ ( R32 . R26 ) , R14 iff R13 <_ ( R32 . R27 ) , R14))))))
and
L226: ( card R11 ) >= 3;
defpred S10[ (Element of ( LinPreorders R11 )) , (Element of R11) ] means ((for R13 being (Element of R11) holds (R13 <> $2 implies $2 <_ $1 , R13)) or (for R13 being (Element of R11) holds (R13 <> $2 implies R13 <_ $1 , $2)));
L227: (for R26 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) holds (for R14 being (Element of R11) holds ((for R19 being (Element of R12) holds S10[ ( R26 . R19 ) , R14 ]) implies S10[ ( R32 . R26 ) , R14 ])))
proof
assume L228: (not thesis);
consider R26 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )), R14 being (Element of R11) such that L229: (ex R13 being (Element of R11) st (R13 <> R14 & R13 <=_ ( R32 . R26 ) , R14)) and L230: (ex R15 being (Element of R11) st (R15 <> R14 & R14 <=_ ( R32 . R26 ) , R15)) and L231: (for R19 being (Element of R12) holds S10[ ( R26 . R19 ) , R14 ]) by L228;
consider R17 being (Element of R11) such that L232: (R17 <> R14 & R17 <=_ ( R32 . R26 ) , R14) by L229;
consider R18 being (Element of R11) such that L233: (R14 <> R18 & R14 <=_ ( R32 . R26 ) , R18) by L230;
L234: (ex R13 being (Element of R11) st (ex R15 being (Element of R11) st (R13 <> R14 & R14 <> R15 & R13 <> R15 & R13 <=_ ( R32 . R26 ) , R14 & R14 <=_ ( R32 . R26 ) , R15)))
proof
per cases ;
suppose L235: R17 <> R18;

take R17;
take R18;
thus L236: thesis by L232 , L233 , L235;
end;
suppose L237: R17 = R18;

consider R16 being (Element of R11) such that L238: (R16 <> R14 & R16 <> R17) by L226 , L11;
per cases  by L117;
suppose L239: R16 <=_ ( R32 . R26 ) , R14;

take R16;
take R18;
thus L240: thesis by L233 , L237 , L238 , L239;
end;
suppose L241: R14 <=_ ( R32 . R26 ) , R16;

take R17;
take R16;
thus L242: thesis by L232 , L238 , L241;
end;
end;
end;
consider R13 being (Element of R11), R15 being (Element of R11) such that L245: (R13 <> R14 & R14 <> R15) and L246: R13 <> R15 and L247: (R13 <=_ ( R32 . R26 ) , R14 & R14 <=_ ( R32 . R26 ) , R15) by L234;
defpred S11[ (Element of R12) , (Element of ( LinPreorders R11 )) ] means ((R13 <_ ( R26 . $1 ) , R14 iff R13 <_ $2 , R14) & (R14 <_ ( R26 . $1 ) , R13 iff R14 <_ $2 , R13) & (R14 <_ ( R26 . $1 ) , R15 iff R14 <_ $2 , R15) & (R15 <_ ( R26 . $1 ) , R14 iff R15 <_ $2 , R14) & R15 <_ $2 , R13);
L248: (for R19 being (Element of R12) holds (ex R23 being (Element of ( LinPreorders R11 )) st S11[ R19 , R23 ]))
proof
let R19 being (Element of R12);
per cases  by L231;
suppose L249: (for R15 being (Element of R11) holds (R15 <> R14 implies R14 <_ ( R26 . R19 ) , R15));

L250: (R14 <_ ( R26 . R19 ) , R13 & R14 <_ ( R26 . R19 ) , R15) by L249 , L245;
consider R23 being (Element of ( LinPreorders R11 )) such that L251: (R14 <_ R23 , R15 & R15 <_ R23 , R13) by L245 , L246 , L131;
take R23;
thus L252: thesis by L250 , L251 , L117 , L120;
end;
suppose L253: (for R13 being (Element of R11) holds (R13 <> R14 implies R13 <_ ( R26 . R19 ) , R14));

L254: (R13 <_ ( R26 . R19 ) , R14 & R15 <_ ( R26 . R19 ) , R14) by L253 , L245;
consider R23 being (Element of ( LinPreorders R11 )) such that L255: (R15 <_ R23 , R13 & R13 <_ R23 , R14) by L245 , L246 , L131;
take R23;
thus L256: thesis by L254 , L255 , L117 , L120;
end;
end;
consider C47 being (Function of R12 , ( LinPreorders R11 )) such that L258: (for R19 being (Element of R12) holds S11[ R19 , ( C47 . R19 ) ]) from FUNCT_2:sch 3(L248);
reconsider D18 = C47 as (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) by FUNCT_2:8;
L259: (R13 <=_ ( R32 . D18 ) , R14 & R14 <=_ ( R32 . D18 ) , R15) by L225 , L247 , L258;
L260: R13 <=_ ( R32 . D18 ) , R15 by L259 , L120;
thus L261: contradiction by L260 , L224 , L258;
end;
L262: (for R14 being (Element of R11) holds (ex R21 being (Element of R12) st (ex R28 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) st (ex R29 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) st ((for R19 being (Element of R12) holds (R19 <> R21 implies ( R28 . R19 ) = ( R29 . R19 ))) & (for R19 being (Element of R12) holds S10[ ( R28 . R19 ) , R14 ]) & (for R19 being (Element of R12) holds S10[ ( R29 . R19 ) , R14 ]) & (for R13 being (Element of R11) holds (R13 <> R14 implies R14 <_ ( R28 . R21 ) , R13)) & (for R13 being (Element of R11) holds (R13 <> R14 implies R13 <_ ( R29 . R21 ) , R14)) & (for R13 being (Element of R11) holds (R13 <> R14 implies R14 <_ ( R32 . R28 ) , R13)) & (for R13 being (Element of R11) holds (R13 <> R14 implies R13 <_ ( R32 . R29 ) , R14)))))))
proof
consider C48 being FinSequence such that L263: ( rng C48 ) = R12 and L264: C48 is  one-to-one by FINSEQ_4:58;
reconsider D19 = C48 as (FinSequence of R12) by L263 , FINSEQ_1:def 4;
let R14 being (Element of R11);
consider R24 being (Element of ( LinPreorders R11 )) such that L265: (for R13 being (Element of R11) holds (R13 <> R14 implies R14 <_ R24 , R13)) by L144;
consider R25 being (Element of ( LinPreorders R11 )) such that L266: (for R13 being (Element of R11) holds (R13 <> R14 implies R13 <_ R25 , R14)) by L157;
L267: (for R34 being Nat holds (ex R26 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) st ((for R33 being Nat holds ((R33 in ( dom D19 ) & R33 < R34) implies ( R26 . ( D19 . R33 ) ) = R25)) & (for R33 being Nat holds ((R33 in ( dom D19 ) & R33 >= R34) implies ( R26 . ( D19 . R33 ) ) = R24)))))
proof
let R34 being Nat;
defpred S12[ (Element of R12) , (Element of ( LinPreorders R11 )) ] means (ex R33 being Nat st (R33 in ( dom D19 ) & $1 = ( D19 . R33 ) & (R33 < R34 implies $2 = R25) & (R33 >= R34 implies $2 = R24)));
L268: (for R19 being (Element of R12) holds (ex R23 being (Element of ( LinPreorders R11 )) st S12[ R19 , R23 ]))
proof
let R19 being (Element of R12);
consider C49 being set such that L269: C49 in ( dom D19 ) and L270: R19 = ( D19 . C49 ) by L263 , FUNCT_1:def 3;
reconsider D20 = C49 as Nat by L269;
per cases ;
suppose L271: D20 < R34;

take R25;
thus L272: thesis by L269 , L270 , L271;
end;
suppose L273: D20 >= R34;

take R24;
thus L274: thesis by L269 , L270 , L273;
end;
end;
consider C50 being (Function of R12 , ( LinPreorders R11 )) such that L276: (for R19 being (Element of R12) holds S12[ R19 , ( C50 . R19 ) ]) from FUNCT_2:sch 3(L268);
reconsider D21 = C50 as (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) by FUNCT_2:8;
take D21;
thus L277: (for R33 being Nat holds ((R33 in ( dom D19 ) & R33 < R34) implies ( D21 . ( D19 . R33 ) ) = R25))
proof
let R33 being Nat;
assume that
L278: R33 in ( dom D19 )
and
L279: R33 < R34;
reconsider D22 = ( D19 . R33 ) as (Element of R12) by L278 , PARTFUN1:4;
L280: S12[ D22 , ( D21 . D22 ) ] by L276;
thus L281: thesis by L280 , L264 , L278 , L279 , FUNCT_1:def 4;
end;

let R33 being Nat;
assume that
L282: R33 in ( dom D19 )
and
L283: R33 >= R34;
reconsider D23 = ( D19 . R33 ) as (Element of R12) by L282 , PARTFUN1:4;
L284: S12[ D23 , ( D21 . D23 ) ] by L276;
thus L285: thesis by L284 , L264 , L282 , L283 , FUNCT_1:def 4;
end;
defpred S13[ Nat ] means (for R26 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) holds (((for R33 being Nat holds ((R33 in ( dom D19 ) & R33 < $1) implies ( R26 . ( D19 . R33 ) ) = R25)) & (for R33 being Nat holds ((R33 in ( dom D19 ) & R33 >= $1) implies ( R26 . ( D19 . R33 ) ) = R24))) implies (for R13 being (Element of R11) holds (R13 <> R14 implies R13 <_ ( R32 . R26 ) , R14))));
reconsider D24 = ( ( len D19 ) + 1 ) as (Element of ( NAT )) by ORDINAL1:def 12;
L286: S13[ D24 ]
proof
let R26 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) ));
assume that
L287: (for R33 being Nat holds ((R33 in ( dom D19 ) & R33 < D24) implies ( R26 . ( D19 . R33 ) ) = R25))
and
L288: (for R33 being Nat holds ((R33 in ( dom D19 ) & R33 >= D24) implies ( R26 . ( D19 . R33 ) ) = R24));
let R13 being (Element of R11);
assume L289: R13 <> R14;
L290: (for R19 being (Element of R12) holds R13 <_ ( R26 . R19 ) , R14)
proof
let R19 being (Element of R12);
consider C51 being set such that L291: C51 in ( dom D19 ) and L292: R19 = ( D19 . C51 ) by L263 , FUNCT_1:def 3;
reconsider D25 = C51 as Nat by L291;
L293: D25 <= ( len D19 ) by L291 , FINSEQ_3:25;
L294: ( D25 + ( 0 ) ) < D24 by L293 , XREAL_1:8;
L295: ( R26 . R19 ) = R25 by L294 , L287 , L291 , L292;
thus L296: thesis by L295 , L266 , L289;
end;
thus L297: thesis by L290 , L224;
end;
L298: (ex B30 being Nat st S13[ B30 ]) by L286;
consider C52 being Nat such that L299: (S13[ C52 ] & (for B31 being Nat holds (S13[ B31 ] implies B31 >= C52))) from NAT_1:sch 5(L298);
consider R29 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) such that L300: (for R33 being Nat holds ((R33 in ( dom D19 ) & R33 < C52) implies ( R29 . ( D19 . R33 ) ) = R25)) and L301: (for R33 being Nat holds ((R33 in ( dom D19 ) & R33 >= C52) implies ( R29 . ( D19 . R33 ) ) = R24)) by L267;
L302: C52 > 1
proof
assume L303: C52 <= 1;
consider R13 being (Element of R11) such that L304: R13 <> R14 by L226 , L3 , XXREAL_0:2;
L305: (for R19 being (Element of R12) holds R14 <_ ( R29 . R19 ) , R13)
proof
let R19 being (Element of R12);
consider C53 being set such that L306: C53 in ( dom D19 ) and L307: R19 = ( D19 . C53 ) by L263 , FUNCT_1:def 3;
reconsider D26 = C53 as Nat by L306;
L308: D26 >= 1 by L306 , FINSEQ_3:25;
L309: ( R29 . R19 ) = R24 by L308 , L301 , L303 , L306 , L307 , XXREAL_0:2;
thus L310: thesis by L309 , L265 , L304;
end;
L311: R13 <_ ( R32 . R29 ) , R14 by L299 , L300 , L301 , L304;
L312: R14 <_ ( R32 . R29 ) , R13 by L224 , L305;
thus L313: contradiction by L312 , L311 , L117;
end;
reconsider D27 = ( C52 - 1 ) as Nat by L302 , NAT_1:20;
reconsider D28 = D27 as (Element of ( NAT )) by ORDINAL1:def 12;
L314: C52 = ( D28 + 1 );
L315: D28 > ( 1 - 1 ) by L302 , XREAL_1:9;
L316: D28 >= ( ( 0 ) + 1 ) by L315 , INT_1:7;
L317: C52 <= D24 by L286 , L299;
L318: D28 <= ( D24 - 1 ) by L317 , XREAL_1:9;
L319: D28 in ( dom D19 ) by L318 , L316 , FINSEQ_3:25;
reconsider D29 = ( D19 . D28 ) as (Element of R12) by L319 , PARTFUN1:4;
L320: ( D28 + ( 0 ) ) < C52 by L314 , XREAL_1:8;
consider R28 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) such that L321: (for R33 being Nat holds ((R33 in ( dom D19 ) & R33 < D28) implies ( R28 . ( D19 . R33 ) ) = R25)) and L322: (for R33 being Nat holds ((R33 in ( dom D19 ) & R33 >= D28) implies ( R28 . ( D19 . R33 ) ) = R24)) and L323: (not (for R13 being (Element of R11) holds (R13 <> R14 implies R13 <_ ( R32 . R28 ) , R14))) by L320 , L299;
take D29;
take R28;
take R29;
thus L324: (for R19 being (Element of R12) holds (R19 <> D29 implies ( R28 . R19 ) = ( R29 . R19 )))
proof
let R19 being (Element of R12);
assume L325: R19 <> D29;
consider C54 being set such that L326: C54 in ( dom D19 ) and L327: R19 = ( D19 . C54 ) by L263 , FUNCT_1:def 3;
reconsider D30 = C54 as Nat by L326;
per cases  by L325 , L327 , XXREAL_0:1;
suppose L328: D30 < D28;

L329: (( D30 + ( 0 ) ) < C52 & ( R28 . R19 ) = R25) by L328 , L314 , L321 , L326 , L327 , XREAL_1:8;
thus L330: thesis by L329 , L300 , L326 , L327;
end;
suppose L331: D30 > D28;

L332: (D30 >= C52 & ( R28 . R19 ) = R24) by L331 , L314 , L322 , L326 , L327 , INT_1:7;
thus L333: thesis by L332 , L301 , L326 , L327;
end;
end;

thus L335: (for R19 being (Element of R12) holds S10[ ( R28 . R19 ) , R14 ])
proof
let R19 being (Element of R12);
L336: (ex B32 being set st (B32 in ( dom D19 ) & R19 = ( D19 . B32 ))) by L263 , FUNCT_1:def 3;
L337: (( R28 . R19 ) = R25 or ( R28 . R19 ) = R24) by L336 , L321 , L322;
thus L338: thesis by L337 , L265 , L266;
end;

thus L339: (for R19 being (Element of R12) holds S10[ ( R29 . R19 ) , R14 ])
proof
let R19 being (Element of R12);
L340: (ex B33 being set st (B33 in ( dom D19 ) & R19 = ( D19 . B33 ))) by L263 , FUNCT_1:def 3;
L341: (( R29 . R19 ) = R25 or ( R29 . R19 ) = R24) by L340 , L300 , L301;
thus L342: thesis by L341 , L265 , L266;
end;

L343: ( R28 . D29 ) = R24 by L319 , L322;
thus L344: (for R13 being (Element of R11) holds (R13 <> R14 implies R14 <_ ( R28 . D29 ) , R13)) by L343 , L265;
L345: ( R29 . D29 ) = R25 by L300 , L319 , L320;
thus L346: (for R13 being (Element of R11) holds (R13 <> R14 implies R13 <_ ( R29 . D29 ) , R14)) by L345 , L266;
thus L347: (for R13 being (Element of R11) holds (R13 <> R14 implies R14 <_ ( R32 . R28 ) , R13)) by L227 , L323 , L335;
thus L348: thesis by L299 , L300 , L301;
end;
L349: (for R14 being (Element of R11) holds (ex R21 being (Element of R12) st (ex R28 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) st (ex R29 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) st ((for R19 being (Element of R12) holds (R19 <> R21 implies ( R28 . R19 ) = ( R29 . R19 ))) & (for R19 being (Element of R12) holds S10[ ( R28 . R19 ) , R14 ]) & (for R13 being (Element of R11) holds (R13 <> R14 implies R14 <_ ( R32 . R28 ) , R13)) & (for R13 being (Element of R11) holds (R13 <> R14 implies R13 <_ ( R32 . R29 ) , R14)) & (for R26 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) holds (for R13 being (Element of R11) holds (for R15 being (Element of R11) holds ((R13 <> R14 & R15 <> R14 & R13 <_ ( R26 . R21 ) , R15) implies R13 <_ ( R32 . R26 ) , R15)))))))))
proof
let R14 being (Element of R11);
consider R21 being (Element of R12), R28 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )), R29 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) such that L350: (for R19 being (Element of R12) holds (R19 <> R21 implies ( R28 . R19 ) = ( R29 . R19 ))) and L351: (for R19 being (Element of R12) holds S10[ ( R28 . R19 ) , R14 ]) and L352: (for R19 being (Element of R12) holds S10[ ( R29 . R19 ) , R14 ]) and L353: (for R13 being (Element of R11) holds (R13 <> R14 implies R14 <_ ( R28 . R21 ) , R13)) and L354: (for R13 being (Element of R11) holds (R13 <> R14 implies R13 <_ ( R29 . R21 ) , R14)) and L355: ((for R13 being (Element of R11) holds (R13 <> R14 implies R14 <_ ( R32 . R28 ) , R13)) & (for R13 being (Element of R11) holds (R13 <> R14 implies R13 <_ ( R32 . R29 ) , R14))) by L262;
take R21;
take R28;
take R29;
thus L356: ((for R19 being (Element of R12) holds (R19 <> R21 implies ( R28 . R19 ) = ( R29 . R19 ))) & (for R19 being (Element of R12) holds S10[ ( R28 . R19 ) , R14 ]) & (for R13 being (Element of R11) holds (R13 <> R14 implies R14 <_ ( R32 . R28 ) , R13)) & (for R13 being (Element of R11) holds (R13 <> R14 implies R13 <_ ( R32 . R29 ) , R14))) by L350 , L351 , L355;
let R26 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) ));
let R13 being (Element of R11);
let R15 being (Element of R11);
assume that
L357: R13 <> R14
and
L358: R15 <> R14
and
L359: R13 <_ ( R26 . R21 ) , R15;
L360: R13 <> R15 by L359 , L115;
defpred S14[ (Element of R12) , (Element of ( LinPreorders R11 )) ] means ((R13 <_ ( R26 . $1 ) , R15 iff R13 <_ $2 , R15) & (R15 <_ ( R26 . $1 ) , R13 iff R15 <_ $2 , R13) & ($1 = R21 implies (R13 <_ $2 , R14 & R14 <_ $2 , R15)) & ($1 <> R21 implies (((for R16 being (Element of R11) holds (R16 <> R14 implies R14 <_ ( R29 . $1 ) , R16)) implies (R14 <_ $2 , R13 & R14 <_ $2 , R15)) & ((for R16 being (Element of R11) holds (R16 <> R14 implies R16 <_ ( R29 . $1 ) , R14)) implies (R13 <_ $2 , R14 & R15 <_ $2 , R14)))));
L361: (for R19 being (Element of R12) holds (ex R23 being (Element of ( LinPreorders R11 )) st S14[ R19 , R23 ]))
proof
let R19 being (Element of R12);
per cases ;
suppose L362: R19 = R21;

consider R23 being (Element of ( LinPreorders R11 )) such that L363: (R13 <_ R23 , R14 & R14 <_ R23 , R15) by L357 , L358 , L360 , L131;
take R23;
thus L364: thesis by L359 , L362 , L363 , L117 , L120;
end;
suppose L365: R19 <> R21;

per cases  by L352;
suppose L366: (for R16 being (Element of R11) holds (R16 <> R14 implies R14 <_ ( R29 . R19 ) , R16));

L367: R14 <_ ( R29 . R19 ) , R13 by L366 , L357;
L368: (not R13 <_ ( R29 . R19 ) , R14) by L367 , L117;
consider R23 being (Element of ( LinPreorders R11 )) such that L369: (R14 <_ R23 , R13 & R14 <_ R23 , R15 & (R13 <_ R23 , R15 iff R13 <_ ( R26 . R19 ) , R15) & (R15 <_ R23 , R13 iff R15 <_ ( R26 . R19 ) , R13)) by L357 , L358 , L170;
take R23;
thus L370: thesis by L357 , L365 , L368 , L369;
end;
suppose L371: (for R16 being (Element of R11) holds (R16 <> R14 implies R16 <_ ( R29 . R19 ) , R14));

L372: R13 <_ ( R29 . R19 ) , R14 by L371 , L357;
L373: (not R14 <_ ( R29 . R19 ) , R13) by L372 , L117;
consider R23 being (Element of ( LinPreorders R11 )) such that L374: (R13 <_ R23 , R14 & R15 <_ R23 , R14 & (R13 <_ R23 , R15 iff R13 <_ ( R26 . R19 ) , R15) & (R15 <_ R23 , R13 iff R15 <_ ( R26 . R19 ) , R13)) by L357 , L358 , L185;
take R23;
thus L375: thesis by L357 , L365 , L373 , L374;
end;
end;
end;
consider C55 being (Function of R12 , ( LinPreorders R11 )) such that L378: (for R19 being (Element of R12) holds S14[ R19 , ( C55 . R19 ) ]) from FUNCT_2:sch 3(L361);
reconsider D31 = C55 as (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) by FUNCT_2:8;
L379: (for R19 being (Element of R12) holds ((R13 <_ ( R29 . R19 ) , R14 iff R13 <_ ( D31 . R19 ) , R14) & (R14 <_ ( R29 . R19 ) , R13 iff R14 <_ ( D31 . R19 ) , R13)))
proof
let R19 being (Element of R12);
per cases ;
suppose L380: R19 = R21;

L381: (R13 <_ ( R29 . R19 ) , R14 & R13 <_ ( D31 . R19 ) , R14) by L380 , L354 , L357 , L378;
thus L382: thesis by L381 , L117;
end;
suppose L383: R19 <> R21;

per cases  by L352;
suppose L384: (for R16 being (Element of R11) holds (R16 <> R14 implies R14 <_ ( R29 . R19 ) , R16));

L385: (R14 <_ ( R29 . R19 ) , R13 & R14 <_ ( D31 . R19 ) , R13) by L384 , L357 , L378 , L383;
thus L386: thesis by L385 , L117;
end;
suppose L387: (for R16 being (Element of R11) holds (R16 <> R14 implies R16 <_ ( R29 . R19 ) , R14));

L388: (R13 <_ ( R29 . R19 ) , R14 & R13 <_ ( D31 . R19 ) , R14) by L387 , L357 , L378 , L383;
thus L389: thesis by L388 , L117;
end;
end;
end;
L392: (R13 <_ ( R32 . R29 ) , R14 iff R13 <_ ( R32 . D31 ) , R14) by L379 , L225;
L393: (for R19 being (Element of R12) holds ((R14 <_ ( R28 . R19 ) , R15 iff R14 <_ ( D31 . R19 ) , R15) & (R15 <_ ( R28 . R19 ) , R14 iff R15 <_ ( D31 . R19 ) , R14)))
proof
let R19 being (Element of R12);
per cases ;
suppose L394: R19 = R21;

L395: (R14 <_ ( R28 . R19 ) , R15 & R14 <_ ( D31 . R19 ) , R15) by L394 , L353 , L358 , L378;
thus L396: thesis by L395 , L117;
end;
suppose L397: R19 <> R21;

per cases  by L352;
suppose L398: (for R16 being (Element of R11) holds (R16 <> R14 implies R14 <_ ( R29 . R19 ) , R16));

L399: R14 <_ ( R29 . R19 ) , R15 by L398 , L358;
L400: R14 <_ ( R28 . R19 ) , R15 by L399 , L350 , L397;
L401: R14 <_ ( D31 . R19 ) , R15 by L378 , L397 , L398;
thus L402: thesis by L401 , L400 , L117;
end;
suppose L403: (for R16 being (Element of R11) holds (R16 <> R14 implies R16 <_ ( R29 . R19 ) , R14));

L404: R15 <_ ( R29 . R19 ) , R14 by L403 , L358;
L405: R15 <_ ( R28 . R19 ) , R14 by L404 , L350 , L397;
L406: R15 <_ ( D31 . R19 ) , R14 by L378 , L397 , L403;
thus L407: thesis by L406 , L405 , L117;
end;
end;
end;
L410: (R14 <_ ( R32 . R28 ) , R15 iff R14 <_ ( R32 . D31 ) , R15) by L393 , L225;
L411: R13 <_ ( R32 . D31 ) , R15 by L410 , L355 , L357 , L392 , L120;
thus L412: thesis by L411 , L225 , L378;
end;
set D32 = the (Element of R11);
consider R21 being (Element of R12), R28 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )), R29 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) such that L413: (for R19 being (Element of R12) holds (R19 <> R21 implies ( R28 . R19 ) = ( R29 . R19 ))) and L414: (for R19 being (Element of R12) holds S10[ ( R28 . R19 ) , D32 ]) and L415: ((for R13 being (Element of R11) holds (R13 <> D32 implies D32 <_ ( R32 . R28 ) , R13)) & (for R13 being (Element of R11) holds (R13 <> D32 implies R13 <_ ( R32 . R29 ) , D32))) and L416: (for R26 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) holds (for R13 being (Element of R11) holds (for R15 being (Element of R11) holds ((R13 <> D32 & R15 <> D32 & R13 <_ ( R26 . R21 ) , R15) implies R13 <_ ( R32 . R26 ) , R15)))) by L349;
take R21;
let R26 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) ));
let R13 being (Element of R11);
let R17 being (Element of R11);
assume L417: R13 <_ ( R26 . R21 ) , R17;
L418: R13 <> R17 by L417 , L117;
per cases ;
suppose L419: (R13 <> D32 & R17 <> D32);

thus L420: thesis by L419 , L416 , L417;
end;
suppose L421: (R13 = D32 or R17 = D32);

consider R15 being (Element of R11) such that L422: (R15 <> R13 & R15 <> R17) by L226 , L11;
consider R22 being (Element of R12), R30 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )), R31 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) such that L423: (for R19 being (Element of R12) holds (R19 <> R22 implies ( R30 . R19 ) = ( R31 . R19 ))) and L424: (for R19 being (Element of R12) holds S10[ ( R30 . R19 ) , R15 ]) and L425: (for R13 being (Element of R11) holds (R13 <> R15 implies R15 <_ ( R32 . R30 ) , R13)) and L426: (for R13 being (Element of R11) holds (R13 <> R15 implies R13 <_ ( R32 . R31 ) , R15)) and L427: (for R26 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) holds (for R13 being (Element of R11) holds (for R17 being (Element of R11) holds ((R13 <> R15 & R17 <> R15 & R13 <_ ( R26 . R22 ) , R17) implies R13 <_ ( R32 . R26 ) , R17)))) by L349;
L428: R22 = R21
proof
per cases  by L421;
suppose L429: R13 = D32;

assume L430: R22 <> R21;
L431: (D32 <_ ( R28 . R22 ) , R17 or R17 <_ ( R28 . R22 ) , D32) by L414 , L418 , L429;
L432: ((D32 <_ ( R29 . R22 ) , R17 & R17 <_ ( R32 . R29 ) , D32) or (R17 <_ ( R28 . R22 ) , D32 & D32 <_ ( R32 . R28 ) , R17)) by L431 , L413 , L415 , L418 , L429 , L430;
L433: ((D32 <_ ( R29 . R22 ) , R17 & R17 <=_ ( R32 . R29 ) , D32) or (R17 <_ ( R28 . R22 ) , D32 & D32 <=_ ( R32 . R28 ) , R17)) by L432 , L117;
thus L434: contradiction by L433 , L422 , L427 , L429;
end;
suppose L435: R17 = D32;

assume L436: R22 <> R21;
L437: (D32 <_ ( R28 . R22 ) , R13 or R13 <_ ( R28 . R22 ) , D32) by L414 , L418 , L435;
L438: ((D32 <_ ( R29 . R22 ) , R13 & R13 <_ ( R32 . R29 ) , D32) or (R13 <_ ( R28 . R22 ) , D32 & D32 <_ ( R32 . R28 ) , R13)) by L437 , L413 , L415 , L418 , L435 , L436;
L439: ((D32 <_ ( R29 . R22 ) , R13 & R13 <=_ ( R32 . R29 ) , D32) or (R13 <_ ( R28 . R22 ) , D32 & D32 <=_ ( R32 . R28 ) , R13)) by L438 , L117;
thus L440: contradiction by L439 , L422 , L427 , L435;
end;
end;
thus L442: thesis by L428 , L417 , L422 , L427;
end;
end;
theorem
L444: (for R11 being  finite non  empty set holds (for R12 being  finite non  empty set holds (for R42 being (Function of ( Funcs (R12 , ( LinOrders R11 )) ) , ( LinPreorders R11 )) holds (((for R38 being (Element of ( Funcs (R12 , ( LinOrders R11 )) )) holds (for R13 being (Element of R11) holds (for R14 being (Element of R11) holds ((for R19 being (Element of R12) holds R13 <_ ( R38 . R19 ) , R14) implies R13 <_ ( R42 . R38 ) , R14)))) & (for R38 being (Element of ( Funcs (R12 , ( LinOrders R11 )) )) holds (for R39 being (Element of ( Funcs (R12 , ( LinOrders R11 )) )) holds (for R13 being (Element of R11) holds (for R14 being (Element of R11) holds ((for R19 being (Element of R12) holds (R13 <_ ( R38 . R19 ) , R14 iff R13 <_ ( R39 . R19 ) , R14)) implies (R13 <_ ( R42 . R38 ) , R14 iff R13 <_ ( R42 . R39 ) , R14)))))) & ( card R11 ) >= 3) implies (ex R20 being (Element of R12) st (for R38 being (Element of ( Funcs (R12 , ( LinOrders R11 )) )) holds (for R13 being (Element of R11) holds (for R14 being (Element of R11) holds (R13 <_ ( R38 . R20 ) , R14 iff R13 <_ ( R42 . R38 ) , R14)))))))))
proof
let R11 being  finite non  empty set;
let R12 being  finite non  empty set;
let R42 being (Function of ( Funcs (R12 , ( LinOrders R11 )) ) , ( LinPreorders R11 ));
assume that
L445: (for R38 being (Element of ( Funcs (R12 , ( LinOrders R11 )) )) holds (for R13 being (Element of R11) holds (for R14 being (Element of R11) holds ((for R19 being (Element of R12) holds R13 <_ ( R38 . R19 ) , R14) implies R13 <_ ( R42 . R38 ) , R14))))
and
L446: (for R38 being (Element of ( Funcs (R12 , ( LinOrders R11 )) )) holds (for R39 being (Element of ( Funcs (R12 , ( LinOrders R11 )) )) holds (for R13 being (Element of R11) holds (for R14 being (Element of R11) holds ((for R19 being (Element of R12) holds (R13 <_ ( R38 . R19 ) , R14 iff R13 <_ ( R39 . R19 ) , R14)) implies (R13 <_ ( R42 . R38 ) , R14 iff R13 <_ ( R42 . R39 ) , R14))))))
and
L447: ( card R11 ) >= 3;
set D33 = the (Element of ( LinOrders R11 ));
defpred S15[ (Element of ( LinPreorders R11 )) , (Element of R11) , (Element of R11) ] means ($2 <=_ $1 , $3 & ($2 <_ $1 , $3 or $2 <=_ D33 , $3));
defpred S16[ (Element of ( LinPreorders R11 )) , (Element of ( LinOrders R11 )) ] means (for R13 being (Element of R11) holds (for R14 being (Element of R11) holds (S15[ $1 , R13 , R14 ] iff R13 <=_ $2 , R14)));
L448: (for R37 being (Element of ( LinPreorders R11 )) holds (ex R36 being (Element of ( LinOrders R11 )) st S16[ R37 , R36 ]))
proof
let R37 being (Element of ( LinPreorders R11 ));
defpred S17[ (Element of R11) , (Element of R11) ] means S15[ R37 , $1 , $2 ];
consider C56 being (Relation of R11) such that L449: (for R13 being (Element of R11) holds (for R14 being (Element of R11) holds ([ R13 , R14 ] in C56 iff S17[ R13 , R14 ]))) from RELSET_1:sch 2;
L450:
now
let R13 being (Element of R11);
let R14 being (Element of R11);
L451: (S17[ R13 , R14 ] or S17[ R14 , R13 ]) by L117;
thus L452: ([ R13 , R14 ] in C56 or [ R14 , R13 ] in C56) by L451 , L449;
end;
L453:
now
let R13 being (Element of R11);
let R14 being (Element of R11);
let R15 being (Element of R11);
L454: ((S17[ R13 , R14 ] & S17[ R14 , R15 ]) implies S17[ R13 , R15 ]) by L120;
thus L455: (([ R13 , R14 ] in C56 & [ R14 , R15 ] in C56) implies [ R13 , R15 ] in C56) by L454 , L449;
end;
reconsider D34 = C56 as (Element of ( LinPreorders R11 )) by L453 , L450 , L21;
L456:
now
let R13 being (Element of R11);
let R14 being (Element of R11);
L457: ((S17[ R13 , R14 ] & S17[ R14 , R13 ]) implies R13 = R14) by L128;
thus L458: (([ R13 , R14 ] in D34 & [ R14 , R13 ] in D34) implies R13 = R14) by L457 , L449;
end;
reconsider D35 = D34 as (Element of ( LinOrders R11 )) by L456 , L38;
take D35;
let R13 being (Element of R11);
let R14 being (Element of R11);
L459: ([ R13 , R14 ] in D35 iff S17[ R13 , R14 ]) by L449;
thus L460: thesis by L459 , L112;
end;
defpred S18[ (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) , (Element of ( Funcs (R12 , ( LinOrders R11 )) )) ] means (for R19 being (Element of R12) holds S16[ ( $1 . R19 ) , ( $2 . R19 ) ]);
L461: (for R40 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) holds (for R38 being (Element of ( Funcs (R12 , ( LinOrders R11 )) )) holds (for R39 being (Element of ( Funcs (R12 , ( LinOrders R11 )) )) holds ((S18[ R40 , R38 ] & S18[ R40 , R39 ]) implies R38 = R39))))
proof
let R40 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) ));
let R38 being (Element of ( Funcs (R12 , ( LinOrders R11 )) ));
let R39 being (Element of ( Funcs (R12 , ( LinOrders R11 )) ));
assume that
L462: S18[ R40 , R38 ]
and
L463: S18[ R40 , R39 ];
let R19 being (Element of R12);
reconsider D36 = ( R38 . R19 ) as (Relation of R11) by L21;
reconsider D37 = ( R39 . R19 ) as (Relation of R11) by L21;
L464:
now
let R13 being (Element of R11);
let R14 being (Element of R11);
L465: (S15[ ( R40 . R19 ) , R13 , R14 ] iff R13 <=_ ( R38 . R19 ) , R14) by L462;
L466: (S15[ ( R40 . R19 ) , R13 , R14 ] iff R13 <=_ ( R39 . R19 ) , R14) by L463;
thus L467: ([ R13 , R14 ] in ( R38 . R19 ) iff [ R13 , R14 ] in ( R39 . R19 )) by L466 , L465 , L112;
end;
L468: D36 = D37 by L464 , RELSET_1:def 2;
thus L469: ( R38 . R19 ) = ( R39 . R19 ) by L468;
end;
L470: (for R40 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) holds (ex R38 being (Element of ( Funcs (R12 , ( LinOrders R11 )) )) st S18[ R40 , R38 ]))
proof
let R40 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) ));
defpred S19[ (Element of R12) , (Element of ( LinOrders R11 )) ] means S16[ ( R40 . $1 ) , $2 ];
L471: (for R19 being (Element of R12) holds (ex R36 being (Element of ( LinOrders R11 )) st S19[ R19 , R36 ])) by L448;
consider C57 being (Function of R12 , ( LinOrders R11 )) such that L472: (for R19 being (Element of R12) holds S19[ R19 , (( C57 . R19 ) qua (Element of ( LinOrders R11 ))) ]) from FUNCT_2:sch 3(L471);
reconsider D38 = C57 as (Element of ( Funcs (R12 , ( LinOrders R11 )) )) by FUNCT_2:8;
take D38;
thus L473: thesis by L472;
end;
defpred S20[ (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) , (Element of ( LinPreorders R11 )) ] means (ex R38 being (Element of ( Funcs (R12 , ( LinOrders R11 )) )) st (S18[ $1 , R38 ] & ( R42 . R38 ) = $2));
L474: (for R40 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) holds (ex R37 being (Element of ( LinPreorders R11 )) st S20[ R40 , R37 ]))
proof
let R40 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) ));
consider R38 being (Element of ( Funcs (R12 , ( LinOrders R11 )) )) such that L475: S18[ R40 , R38 ] by L470;
take ( R42 . R38 );
thus L476: thesis by L475;
end;
consider C58 being (Function of ( Funcs (R12 , ( LinPreorders R11 )) ) , ( LinPreorders R11 )) such that L477: (for R40 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) holds S20[ R40 , ( C58 . R40 ) ]) from FUNCT_2:sch 3(L474);
L478: (for R40 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) holds (for R13 being (Element of R11) holds (for R14 being (Element of R11) holds ((for R19 being (Element of R12) holds R13 <_ ( R40 . R19 ) , R14) implies R13 <_ ( C58 . R40 ) , R14))))
proof
let R40 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) ));
let R13 being (Element of R11);
let R14 being (Element of R11);
assume L479: (for R19 being (Element of R12) holds R13 <_ ( R40 . R19 ) , R14);
consider R38 being (Element of ( Funcs (R12 , ( LinOrders R11 )) )) such that L480: S18[ R40 , R38 ] and L481: ( R42 . R38 ) = ( C58 . R40 ) by L477;
L482:
now
let R19 being (Element of R12);
L483: (not S15[ ( R40 . R19 ) , R14 , R13 ]) by L479;
thus L484: R13 <_ ( R38 . R19 ) , R14 by L483 , L480;
end;
thus L485: thesis by L482 , L445 , L481;
end;
L486:
now
let R40 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) ));
let R41 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) ));
let R13 being (Element of R11);
let R14 being (Element of R11);
assume L487: (for R19 being (Element of R12) holds ((R13 <_ ( R40 . R19 ) , R14 iff R13 <_ ( R41 . R19 ) , R14) & (R14 <_ ( R40 . R19 ) , R13 iff R14 <_ ( R41 . R19 ) , R13)));
consider R38 being (Element of ( Funcs (R12 , ( LinOrders R11 )) )) such that L488: S18[ R40 , R38 ] and L489: ( R42 . R38 ) = ( C58 . R40 ) by L477;
consider R39 being (Element of ( Funcs (R12 , ( LinOrders R11 )) )) such that L490: S18[ R41 , R39 ] and L491: ( R42 . R39 ) = ( C58 . R41 ) by L477;
L492: (for R19 being (Element of R12) holds (R13 <_ ( R38 . R19 ) , R14 iff R13 <_ ( R39 . R19 ) , R14))
proof
let R19 being (Element of R12);
L493: (S15[ ( R40 . R19 ) , R14 , R13 ] iff S15[ ( R41 . R19 ) , R14 , R13 ]) by L487;
thus L494: thesis by L493 , L488 , L490;
end;
thus L495: (R13 <_ ( C58 . R40 ) , R14 iff R13 <_ ( C58 . R41 ) , R14) by L492 , L446 , L489 , L491;
end;
consider R20 being (Element of R12) such that L496: (for R40 being (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) holds (for R13 being (Element of R11) holds (for R14 being (Element of R11) holds (R13 <_ ( R40 . R20 ) , R14 implies R13 <_ ( C58 . R40 ) , R14)))) by L486 , L447 , L478 , L223;
take R20;
let R38 being (Element of ( Funcs (R12 , ( LinOrders R11 )) ));
L497:
now
L498: ( rng R38 ) c= ( LinOrders R11 ) by RELAT_1:def 19;
L499: (( dom R38 ) = R12 & ( rng R38 ) c= ( LinPreorders R11 )) by L498 , FUNCT_2:def 1 , XBOOLE_1:1;
reconsider D39 = R38 as (Element of ( Funcs (R12 , ( LinPreorders R11 )) )) by L499 , FUNCT_2:def 2;
L500: S18[ D39 , R38 ]
proof
let R19 being (Element of R12);
let R13 being (Element of R11);
let R14 being (Element of R11);
L501: (R13 <_ ( R38 . R19 ) , R14 or R13 = R14 or R13 >_ ( R38 . R19 ) , R14) by L128;
thus L502: thesis by L501 , L117;
end;
L503: (ex R39 being (Element of ( Funcs (R12 , ( LinOrders R11 )) )) st (S18[ D39 , R39 ] & ( R42 . R39 ) = ( C58 . D39 ))) by L477;
let R13 being (Element of R11);
let R14 being (Element of R11);
assume L504: R13 <_ ( R38 . R20 ) , R14;
L505: R13 <_ ( C58 . D39 ) , R14 by L504 , L496;
thus L506: R13 <_ ( R42 . R38 ) , R14 by L505 , L461 , L500 , L503;
end;
thus L507: thesis by L497 , L211;
end;
