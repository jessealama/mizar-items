:: K\"onig's Theorem
::  by Grzegorz Bancerek
::
:: Received April 10, 1990
:: Copyright (c) 1990-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies ORDINAL1, CARD_1, SUBSET_1, FUNCT_1, RELAT_1, FUNCOP_1, XBOOLE_0,
      ZFMISC_1, TARSKI, FUNCT_2, MCART_1, FINSET_1, NAT_1, WELLORD1, WELLORD2,
      RELAT_2, SETFAM_1, PARTFUN1, FUNCT_4, CARD_3, PBOOLE;
 notations TARSKI, XBOOLE_0, ZFMISC_1,
      XTUPLE_0, SUBSET_1, CARD_1, RELAT_1, RELAT_2,
      FUNCT_1, RELSET_1, PARTFUN1, FUNCT_2, SETFAM_1, ORDINAL1,
      WELLORD1, MCART_1, WELLORD2, FUNCOP_1, FUNCT_4, FINSET_1, FINSUB_1,
      PBOOLE;
 constructors SETFAM_1, RELAT_2, WELLORD1, PARTFUN1, WELLORD2, FUNCOP_1,
      FUNCT_4, CLASSES1, ORDINAL2, ORDINAL3, FINSET_1, CARD_1, FINSUB_1,
      RELSET_1, FUNCT_1, PBOOLE, XTUPLE_0;
 registrations XBOOLE_0, SUBSET_1, SETFAM_1, RELAT_1, FUNCT_1, ORDINAL1,
      FUNCOP_1, FUNCT_4, FINSET_1, CARD_1, FINSUB_1, PBOOLE, RELSET_1,
      XTUPLE_0;
 requirements NUMERALS, BOOLE, SUBSET;
 definitions TARSKI, FUNCT_1, RELAT_2, WELLORD1, WELLORD2, XBOOLE_0, FUNCOP_1,
      RELAT_1, ORDINAL1, PARTFUN1, XTUPLE_0;
 theorems TARSKI, ZFMISC_1, FUNCT_1, FUNCT_2, MCART_1, ORDINAL1, RELAT_1,
      RELAT_2, WELLORD1, WELLORD2, CARD_1, FUNCOP_1, FUNCT_5, GRFUNC_1,
      XBOOLE_0, XBOOLE_1, SETFAM_1, FUNCT_4, PARTFUN1, RELSET_1, SUBSET_1,
      ORDERS_1, FINSET_1, XTUPLE_0;
 schemes FUNCT_1, PARTFUN1, ORDINAL1, FUNCT_5, RELAT_1, XBOOLE_0, CLASSES1;

begin
definition
let C1 being Function;
attr C1 is  Cardinal-yielding
means
:L1: (for R8 being set holds (R8 in ( dom C1 ) implies ( C1 . R8 ) is Cardinal));
end;
registration
cluster  empty ->  Cardinal-yielding for Function;
coherence
proof
let R20 being Function;
assume that
L3: R20 is  empty;
let R8 being set;
thus L4: thesis by L3;
end;
end;
registration
cluster  Cardinal-yielding for Function;
existence
proof
take ( {} );
thus L6: thesis;
end;
end;
definition
mode Cardinal-Function
 is  Cardinal-yielding Function;
end;
registration
let R26 being Cardinal-Function;
let R14 being set;
cluster ( R26 | R14 ) ->  Cardinal-yielding;
coherence
proof
L9: ( R26 | R14 ) is  Cardinal-yielding
proof
let R8 being set;
assume L10: R8 in ( dom ( R26 | R14 ) );
L11: ( ( R26 | R14 ) . R8 ) = ( R26 . R8 ) by L10 , FUNCT_1:47;
L12: ( dom ( R26 | R14 ) ) = ( ( dom R26 ) /\ R14 ) by RELAT_1:61;
L13: R8 in ( dom R26 ) by L12 , L10 , XBOOLE_0:def 4;
thus L14: thesis by L13 , L11 , L1;
end;
thus L15: thesis by L9;
end;
end;
registration
let R14 being set;
let R4 being Cardinal;
cluster ( R14 --> R4 ) ->  Cardinal-yielding;
coherence
proof
let R8 being set;
assume L17: R8 in ( dom ( R14 --> R4 ) );
thus L18: thesis by L17 , FUNCOP_1:7;
end;
end;
registration
let R14 being set;
let R4 being Cardinal;
cluster ( R14 .--> R4 ) ->  Cardinal-yielding;
coherence;
end;
scheme CFLambda { F1() -> set , F2(set) -> Cardinal } : (ex R26 being Cardinal-Function st (( dom R26 ) = F1() & (for R8 being set holds (R8 in F1() implies ( R26 . R8 ) = F2(R8)))))
proof
consider R20 being Function such that L21: (( dom R20 ) = F1() & (for R8 being set holds (R8 in F1() implies ( R20 . R8 ) = F2(R8)))) from FUNCT_1:sch 3;
L22: R20 is  Cardinal-yielding
proof
let R8 being set;
assume L23: R8 in ( dom R20 );
L24: ( R20 . R8 ) = F2(R8) by L23 , L21;
thus L25: thesis by L24;
end;
reconsider D1 = R20 as Cardinal-Function by L22;
take D1;
thus L26: thesis by L21;
end;
definition
let R20 being Function;
func Card R20 -> Cardinal-Function means 
:L27: (( dom it ) = ( dom R20 ) & (for R8 being set holds (R8 in ( dom R20 ) implies ( it . R8 ) = ( card ( R20 . R8 ) ))));
existence
proof
deffunc H1(set) = ( card ( R20 . $1 ) );
thus L28: (ex B1 being Cardinal-Function st (( dom B1 ) = ( dom R20 ) & (for R8 being set holds (R8 in ( dom R20 ) implies ( B1 . R8 ) = H1(R8))))) from CFLambda;
end;
uniqueness
proof
let C2 , C3 being Cardinal-Function;
assume that
L29: ( dom C2 ) = ( dom R20 )
and
L30: (for R8 being set holds (R8 in ( dom R20 ) implies ( C2 . R8 ) = ( card ( R20 . R8 ) )))
and
L31: ( dom C3 ) = ( dom R20 )
and
L32: (for R8 being set holds (R8 in ( dom R20 ) implies ( C3 . R8 ) = ( card ( R20 . R8 ) )));
L33:
now
let R8 being set;
assume L34: R8 in ( dom R20 );
L35: ( C2 . R8 ) = ( card ( R20 . R8 ) ) by L34 , L30;
thus L36: ( C2 . R8 ) = ( C3 . R8 ) by L35 , L32 , L34;
end;
thus L37: thesis by L33 , L29 , L31 , FUNCT_1:2;
end;
func disjoin R20 -> Function means 
:L38: (( dom it ) = ( dom R20 ) & (for R8 being set holds (R8 in ( dom R20 ) implies ( it . R8 ) = [: ( R20 . R8 ) , { R8 } :])));
existence
proof
deffunc H2(set) = [: ( R20 . $1 ) , { $1 } :];
thus L39: (ex B2 being Function st (( dom B2 ) = ( dom R20 ) & (for R8 being set holds (R8 in ( dom R20 ) implies ( B2 . R8 ) = H2(R8))))) from FUNCT_1:sch 3;
end;
uniqueness
proof
let C4 , C5 being Function;
assume that
L40: ( dom C4 ) = ( dom R20 )
and
L41: (for R8 being set holds (R8 in ( dom R20 ) implies ( C4 . R8 ) = [: ( R20 . R8 ) , { R8 } :]))
and
L42: ( dom C5 ) = ( dom R20 )
and
L43: (for R8 being set holds (R8 in ( dom R20 ) implies ( C5 . R8 ) = [: ( R20 . R8 ) , { R8 } :]));
L44:
now
let R8 being set;
assume L45: R8 in ( dom R20 );
L46: ( C4 . R8 ) = [: ( R20 . R8 ) , { R8 } :] by L45 , L41;
thus L47: ( C4 . R8 ) = ( C5 . R8 ) by L46 , L43 , L45;
end;
thus L48: thesis by L44 , L40 , L42 , FUNCT_1:2;
end;
func Union R20 -> set equals 
( union ( rng R20 ) );
correctness;
defpred S1[ set ] means (ex R22 being Function st ($1 = R22 & ( dom R22 ) = ( dom R20 ) & (for R8 being set holds (R8 in ( dom R20 ) implies ( R22 . R8 ) in ( R20 . R8 )))));
func product R20 -> set means 
:L49: (for R8 being set holds (R8 in it iff (ex R22 being Function st (R8 = R22 & ( dom R22 ) = ( dom R20 ) & (for R9 being set holds (R9 in ( dom R20 ) implies ( R22 . R9 ) in ( R20 . R9 )))))));
existence
proof
consider R14 being set such that L50: (for R8 being set holds (R8 in R14 iff (R8 in ( Funcs (( dom R20 ) , ( union ( rng R20 ) )) ) & S1[ R8 ]))) from XBOOLE_0:sch 1;
take R14;
let R8 being set;
thus L51: (R8 in R14 implies (ex R22 being Function st (R8 = R22 & ( dom R22 ) = ( dom R20 ) & (for R8 being set holds (R8 in ( dom R20 ) implies ( R22 . R8 ) in ( R20 . R8 )))))) by L50;
given R22 being Function such that
L52: R8 = R22
and
L53: ( dom R22 ) = ( dom R20 )
and
L54: (for R8 being set holds (R8 in ( dom R20 ) implies ( R22 . R8 ) in ( R20 . R8 )));

L55: ( rng R22 ) c= ( union ( rng R20 ) )
proof
let R9 being set;
assume L56: R9 in ( rng R22 );
consider R12 being set such that L57: R12 in ( dom R22 ) and L58: R9 = ( R22 . R12 ) by L56 , FUNCT_1:def 3;
L59: R9 in ( R20 . R12 ) by L53 , L54 , L57 , L58;
L60: ( R20 . R12 ) in ( rng R20 ) by L53 , L57 , FUNCT_1:def 3;
thus L61: thesis by L60 , L59 , TARSKI:def 4;
end;
L62: R8 in ( Funcs (( dom R20 ) , ( union ( rng R20 ) )) ) by L55 , L52 , L53 , FUNCT_2:def 2;
thus L63: thesis by L62 , L50 , L52 , L53 , L54;
end;
uniqueness
proof
let C6 , C7 being set;
assume that
L64: (for R8 being set holds (R8 in C6 iff S1[ R8 ]))
and
L65: (for R8 being set holds (R8 in C7 iff S1[ R8 ]));
thus L66: thesis from XBOOLE_0:sch 2(L64 , L65);
end;
end;
theorem
L68: (for R26 being Cardinal-Function holds ( Card R26 ) = R26)
proof
let R26 being Cardinal-Function;
L69:
now
let R8 being set;
assume L70: R8 in ( dom R26 );
reconsider D2 = ( R26 . R8 ) as Cardinal by L70 , L1;
L71: ( card D2 ) = D2 by CARD_1:def 2;
thus L72: ( R26 . R8 ) = ( card ( R26 . R8 ) ) by L71;
end;
thus L73: thesis by L69 , L27;
end;
theorem
L74: (for R14 being set holds (for R15 being set holds ( Card ( R14 --> R15 ) ) = ( R14 --> ( card R15 ) )))
proof
let R14 being set;
let R15 being set;
L75: ( dom ( Card ( R14 --> R15 ) ) ) = ( dom ( R14 --> R15 ) ) by L27;
L76: ( dom ( Card ( R14 --> R15 ) ) ) = R14 by L75 , FUNCOP_1:13;
L77: ( dom ( R14 --> ( card R15 ) ) ) = R14 by FUNCOP_1:13;
L78:
now
let R8 being set;
assume L79: R8 in R14;
L80: ( ( Card ( R14 --> R15 ) ) . R8 ) = ( card ( ( R14 --> R15 ) . R8 ) ) by L79 , L75 , L76 , L27;
L81: ( ( R14 --> ( card R15 ) ) . R8 ) = ( card R15 ) by L79 , FUNCOP_1:7;
thus L82: ( ( Card ( R14 --> R15 ) ) . R8 ) = ( ( R14 --> ( card R15 ) ) . R8 ) by L81 , L79 , L80 , FUNCOP_1:7;
end;
thus L83: thesis by L78 , L76 , L77 , FUNCT_1:2;
end;
theorem
L84: ( disjoin ( {} ) ) = ( {} )
proof
L85: ( dom ( disjoin ( {} ) ) ) = ( {} ) by L38 , RELAT_1:38;
thus L86: thesis by L85;
end;
theorem
L87: (for R8 being set holds (for R14 being set holds ( disjoin ( R8 .--> R14 ) ) = ( R8 .--> [: R14 , { R8 } :] )))
proof
let R8 being set;
let R14 being set;
L88: ( dom ( disjoin ( { R8 } --> R14 ) ) ) = ( dom ( { R8 } --> R14 ) ) by L38;
L89: ( dom ( { R8 } --> R14 ) ) = { R8 } by FUNCOP_1:13;
L90: ( dom ( { R8 } --> [: R14 , { R8 } :] ) ) = { R8 } by FUNCOP_1:13;
L91:
now
let R9 being set;
assume L92: R9 in { R8 };
L93: ( ( disjoin ( { R8 } --> R14 ) ) . R9 ) = [: ( ( { R8 } --> R14 ) . R9 ) , { R9 } :] by L92 , L89 , L38;
L94: ( ( { R8 } --> R14 ) . R9 ) = R14 by L92 , FUNCOP_1:7;
L95: ( ( { R8 } --> [: R14 , { R8 } :] ) . R9 ) = [: R14 , { R8 } :] by L92 , FUNCOP_1:7;
thus L96: ( ( disjoin ( { R8 } --> R14 ) ) . R9 ) = ( ( { R8 } --> [: R14 , { R8 } :] ) . R9 ) by L95 , L92 , L93 , L94 , TARSKI:def 1;
end;
thus L97: thesis by L91 , L88 , L89 , L90 , FUNCT_1:2;
end;
theorem
L98: (for R8 being set holds (for R9 being set holds (for R20 being Function holds ((R8 in ( dom R20 ) & R9 in ( dom R20 ) & R8 <> R9) implies ( ( disjoin R20 ) . R8 ) misses ( ( disjoin R20 ) . R9 )))))
proof
let R8 being set;
let R9 being set;
let R20 being Function;
assume that
L99: R8 in ( dom R20 )
and
L100: R9 in ( dom R20 )
and
L101: R8 <> R9;
set D3 = the (Element of ( ( ( disjoin R20 ) . R8 ) /\ ( ( disjoin R20 ) . R9 ) ));
assume L102: ( ( ( disjoin R20 ) . R8 ) /\ ( ( disjoin R20 ) . R9 ) ) <> ( {} );
L103: ( ( disjoin R20 ) . R8 ) = [: ( R20 . R8 ) , { R8 } :] by L99 , L38;
L104: ( ( disjoin R20 ) . R9 ) = [: ( R20 . R9 ) , { R9 } :] by L100 , L38;
L105: D3 in ( ( disjoin R20 ) . R8 ) by L102 , XBOOLE_0:def 4;
L106: D3 in ( ( disjoin R20 ) . R9 ) by L102 , XBOOLE_0:def 4;
L107: ( D3 `2 ) in { R8 } by L103 , L105 , MCART_1:10;
L108: ( D3 `2 ) in { R9 } by L104 , L106 , MCART_1:10;
L109: ( D3 `2 ) = R8 by L107 , TARSKI:def 1;
thus L110: contradiction by L109 , L101 , L108 , TARSKI:def 1;
end;
theorem
L111: (for R14 being set holds (for R15 being set holds ( Union ( R14 --> R15 ) ) c= R15))
proof
let R14 being set;
let R15 being set;
let R8 being set;
assume L112: R8 in ( Union ( R14 --> R15 ) );
consider R16 being set such that L113: R8 in R16 and L114: R16 in ( rng ( R14 --> R15 ) ) by L112 , TARSKI:def 4;
L115: (ex R12 being set st (R12 in ( dom ( R14 --> R15 ) ) & R16 = ( ( R14 --> R15 ) . R12 ))) by L114 , FUNCT_1:def 3;
thus L116: thesis by L115 , L113 , FUNCOP_1:7;
end;
theorem
L117: (for R14 being set holds (for R15 being set holds (R14 <> ( {} ) implies ( Union ( R14 --> R15 ) ) = R15)))
proof
let R14 being set;
let R15 being set;
assume L118: R14 <> ( {} );
set D4 = the (Element of R14);
thus L119: ( Union ( R14 --> R15 ) ) c= R15 by L111;
L120: ( dom ( R14 --> R15 ) ) = R14 by FUNCOP_1:13;
L121: ( ( R14 --> R15 ) . D4 ) = R15 by L118 , FUNCOP_1:7;
L122: R15 in ( rng ( R14 --> R15 ) ) by L121 , L118 , L120 , FUNCT_1:def 3;
thus L123: thesis by L122 , ZFMISC_1:74;
end;
theorem
L124: (for R8 being set holds (for R15 being set holds ( Union ( R8 .--> R15 ) ) = R15)) by L117;
theorem
L125: (for R20 being Function holds (for R22 being Function holds (R22 in ( product R20 ) iff (( dom R22 ) = ( dom R20 ) & (for R8 being set holds (R8 in ( dom R20 ) implies ( R22 . R8 ) in ( R20 . R8 )))))))
proof
let R20 being Function;
let R22 being Function;
thus L126: (R22 in ( product R20 ) implies (( dom R22 ) = ( dom R20 ) & (for R8 being set holds (R8 in ( dom R20 ) implies ( R22 . R8 ) in ( R20 . R8 )))))
proof
assume L127: R22 in ( product R20 );
L128: (ex B3 being Function st (R22 = B3 & ( dom B3 ) = ( dom R20 ) & (for R8 being set holds (R8 in ( dom R20 ) implies ( B3 . R8 ) in ( R20 . R8 ))))) by L127 , L49;
thus L129: thesis by L128;
end;

thus L130: thesis by L49;
end;
theorem
L131: ( product ( {} ) ) = { ( {} ) }
proof
thus L132: ( product ( {} ) ) c= { ( {} ) }
proof
let R8 being set;
assume L133: R8 in ( product ( {} ) );
L134: (ex R22 being Function st (R8 = R22 & ( dom R22 ) = ( dom ( {} ) ) & (for R9 being set holds (R9 in ( dom ( {} ) ) implies ( R22 . R9 ) in ( ( {} ) . R9 ))))) by L133 , L49;
L135: R8 = ( {} ) by L134;
thus L136: thesis by L135 , TARSKI:def 1;
end;

let R8 being set;
assume L137: R8 in { ( {} ) };
L138: R8 = ( {} ) by L137 , TARSKI:def 1;
L139: (for R9 being set holds (R9 in ( dom ( {} ) ) implies ( ( {} ) . R9 ) in ( ( {} ) . R9 )));
thus L140: thesis by L139 , L138 , L125;
end;
theorem
L141: (for R14 being set holds (for R15 being set holds ( Funcs (R14 , R15) ) = ( product ( R14 --> R15 ) )))
proof
let R14 being set;
let R15 being set;
set D5 = ( R14 --> R15 );
L142: ( dom D5 ) = R14 by FUNCOP_1:13;
thus L143: ( Funcs (R14 , R15) ) c= ( product D5 )
proof
let R8 being set;
assume L144: R8 in ( Funcs (R14 , R15) );
consider R22 being Function such that L145: R8 = R22 and L146: ( dom R22 ) = R14 and L147: ( rng R22 ) c= R15 by L144 , FUNCT_2:def 2;
L148:
now
let R9 being set;
assume L149: R9 in ( dom D5 );
L150: ( D5 . R9 ) = R15 by L149 , FUNCOP_1:7;
L151: ( R22 . R9 ) in ( rng R22 ) by L146 , L149 , FUNCT_1:def 3;
thus L152: ( R22 . R9 ) in ( D5 . R9 ) by L151 , L147 , L150;
end;
thus L153: thesis by L148 , L142 , L145 , L146 , L49;
end;

let R8 being set;
assume L154: R8 in ( product D5 );
consider R22 being Function such that L155: R8 = R22 and L156: ( dom R22 ) = ( dom D5 ) and L157: (for R8 being set holds (R8 in ( dom D5 ) implies ( R22 . R8 ) in ( D5 . R8 ))) by L154 , L49;
L158: ( rng R22 ) c= R15
proof
let R9 being set;
assume L159: R9 in ( rng R22 );
consider R12 being set such that L160: R12 in ( dom R22 ) and L161: R9 = ( R22 . R12 ) by L159 , FUNCT_1:def 3;
L162: R9 in ( D5 . R12 ) by L156 , L157 , L160 , L161;
thus L163: thesis by L162 , L156 , L160 , FUNCOP_1:7;
end;
thus L164: thesis by L158 , L142 , L155 , L156 , FUNCT_2:def 2;
end;
defpred S2[ set ] means $1 is Function;
definition
let R8 being set;
let R14 being set;
defpred S3[ set , set ] means (ex R22 being Function st ($1 = R22 & $2 = ( R22 . R8 )));
func pi (R14 , R8) -> set means 
:L165: (for R9 being set holds (R9 in it iff (ex R20 being Function st (R20 in R14 & R9 = ( R20 . R8 )))));
existence
proof
consider R15 being set such that L166: (for R9 being set holds (R9 in R15 iff (R9 in R14 & S2[ R9 ]))) from XBOOLE_0:sch 1;
L167: (for R9 being set holds (R9 in R15 implies (ex R12 being set st S3[ R9 , R12 ])))
proof
let R9 being set;
assume L168: R9 in R15;
reconsider D6 = R9 as Function by L168 , L166;
take ( D6 . R8 );
take D6;
thus L169: thesis;
end;
consider R20 being Function such that L170: (( dom R20 ) = R15 & (for R9 being set holds (R9 in R15 implies S3[ R9 , ( R20 . R9 ) ]))) from CLASSES1:sch 1(L167);
take ( rng R20 );
let R9 being set;
thus L171: (R9 in ( rng R20 ) implies (ex R20 being Function st (R20 in R14 & R9 = ( R20 . R8 ))))
proof
assume L172: R9 in ( rng R20 );
consider R12 being set such that L173: R12 in ( dom R20 ) and L174: R9 = ( R20 . R12 ) by L172 , FUNCT_1:def 3;
consider R22 being Function such that L175: R12 = R22 and L176: ( R20 . R12 ) = ( R22 . R8 ) by L170 , L173;
take R22;
thus L177: thesis by L166 , L170 , L173 , L174 , L175 , L176;
end;

given R22 being Function such that
L178: R22 in R14
and
L179: R9 = ( R22 . R8 );

L180: R22 in R15 by L166 , L178;
L181: (ex R21 being Function st (R22 = R21 & ( R20 . R22 ) = ( R21 . R8 ))) by L180 , L170;
thus L182: thesis by L181 , L170 , L179 , L180 , FUNCT_1:def 3;
end;
uniqueness
proof
defpred S4[ set ] means (ex R20 being Function st (R20 in R14 & $1 = ( R20 . R8 )));
let C8 , C9 being set;
assume that
L183: (for R9 being set holds (R9 in C8 iff S4[ R9 ]))
and
L184: (for R9 being set holds (R9 in C9 iff S4[ R9 ]));
thus L185: thesis from XBOOLE_0:sch 2(L183 , L184);
end;
end;
theorem
L187: (for R8 being set holds (for R20 being Function holds ((R8 in ( dom R20 ) & ( product R20 ) <> ( {} )) implies ( pi (( product R20 ) , R8) ) = ( R20 . R8 ))))
proof
let R8 being set;
let R20 being Function;
assume that
L188: R8 in ( dom R20 )
and
L189: ( product R20 ) <> ( {} );
L190: ( pi (( product R20 ) , R8) ) c= ( R20 . R8 )
proof
let R9 being set;
assume L191: R9 in ( pi (( product R20 ) , R8) );
L192: (ex R22 being Function st (R22 in ( product R20 ) & R9 = ( R22 . R8 ))) by L191 , L165;
thus L193: thesis by L192 , L188 , L125;
end;
L194: ( R20 . R8 ) c= ( pi (( product R20 ) , R8) )
proof
set D7 = the (Element of ( product R20 ));
consider R22 being Function such that L195: D7 = R22 and L196: ( dom R22 ) = ( dom R20 ) and L197: (for R8 being set holds (R8 in ( dom R20 ) implies ( R22 . R8 ) in ( R20 . R8 ))) by L189 , L49;
let R9 being set;
deffunc H3(set) = R9;
deffunc H4(set) = ( R22 . $1 );
defpred S5[ set ] means R8 = $1;
consider C10 being Function such that L198: (( dom C10 ) = ( dom R22 ) & (for R12 being set holds (R12 in ( dom R22 ) implies ((S5[ R12 ] implies ( C10 . R12 ) = H3(R12)) & ((not S5[ R12 ]) implies ( C10 . R12 ) = H4(R12)))))) from PARTFUN1:sch 1;
assume L199: R9 in ( R20 . R8 );
L200:
now
let R12 being set;
assume L201: R12 in ( dom R20 );
L202: (R8 <> R12 implies ( R22 . R12 ) = ( C10 . R12 )) by L201 , L196 , L198;
thus L203: ( C10 . R12 ) in ( R20 . R12 ) by L202 , L196 , L197 , L198 , L199 , L201;
end;
L204: C10 in ( product R20 ) by L200 , L196 , L198 , L125;
L205: ( C10 . R8 ) = R9 by L188 , L196 , L198;
thus L206: thesis by L205 , L204 , L165;
end;
thus L207: thesis by L194 , L190 , XBOOLE_0:def 10;
end;
theorem
L208: (for R8 being set holds ( pi (( {} ) , R8) ) = ( {} ))
proof
let R8 being set;
set D8 = the (Element of ( pi (( {} ) , R8) ));
assume L209: (not thesis);
L210: (ex R20 being Function st (R20 in ( {} ) & D8 = ( R20 . R8 ))) by L209 , L165;
thus L211: contradiction by L210;
end;
theorem
L212: (for R8 being set holds (for R22 being Function holds ( pi ({ R22 } , R8) ) = { ( R22 . R8 ) }))
proof
let R8 being set;
let R22 being Function;
thus L213: ( pi ({ R22 } , R8) ) c= { ( R22 . R8 ) }
proof
let R9 being set;
assume L214: R9 in ( pi ({ R22 } , R8) );
consider R20 being Function such that L215: R20 in { R22 } and L216: R9 = ( R20 . R8 ) by L214 , L165;
L217: R20 = R22 by L215 , TARSKI:def 1;
thus L218: thesis by L217 , L216 , TARSKI:def 1;
end;

let R9 being set;
assume L219: R9 in { ( R22 . R8 ) };
L220: R22 in { R22 } by TARSKI:def 1;
L221: R9 = ( R22 . R8 ) by L219 , TARSKI:def 1;
thus L222: thesis by L221 , L220 , L165;
end;
theorem
L223: (for R8 being set holds (for R20 being Function holds (for R22 being Function holds ( pi ({ R20 , R22 } , R8) ) = { ( R20 . R8 ) , ( R22 . R8 ) })))
proof
let R8 being set;
let R20 being Function;
let R22 being Function;
thus L224: ( pi ({ R20 , R22 } , R8) ) c= { ( R20 . R8 ) , ( R22 . R8 ) }
proof
let R9 being set;
assume L225: R9 in ( pi ({ R20 , R22 } , R8) );
consider R21 being Function such that L226: R21 in { R20 , R22 } and L227: R9 = ( R21 . R8 ) by L225 , L165;
L228: (R21 = R20 or R21 = R22) by L226 , TARSKI:def 2;
thus L229: thesis by L228 , L227 , TARSKI:def 2;
end;

let R9 being set;
assume L230: R9 in { ( R20 . R8 ) , ( R22 . R8 ) };
L231: R20 in { R20 , R22 } by TARSKI:def 2;
L232: R22 in { R20 , R22 } by TARSKI:def 2;
L233: (R9 = ( R22 . R8 ) or R9 = ( R20 . R8 )) by L230 , TARSKI:def 2;
thus L234: thesis by L233 , L231 , L232 , L165;
end;
theorem
L235: (for R8 being set holds (for R14 being set holds (for R15 being set holds ( pi (( R14 \/ R15 ) , R8) ) = ( ( pi (R14 , R8) ) \/ ( pi (R15 , R8) ) ))))
proof
let R8 being set;
let R14 being set;
let R15 being set;
thus L236: ( pi (( R14 \/ R15 ) , R8) ) c= ( ( pi (R14 , R8) ) \/ ( pi (R15 , R8) ) )
proof
let R9 being set;
assume L237: R9 in ( pi (( R14 \/ R15 ) , R8) );
consider R20 being Function such that L238: R20 in ( R14 \/ R15 ) and L239: R9 = ( R20 . R8 ) by L237 , L165;
L240: (R20 in R14 or R20 in R15) by L238 , XBOOLE_0:def 3;
L241: (R9 in ( pi (R14 , R8) ) or R9 in ( pi (R15 , R8) )) by L240 , L239 , L165;
thus L242: thesis by L241 , XBOOLE_0:def 3;
end;

let R9 being set;
assume L243: R9 in ( ( pi (R14 , R8) ) \/ ( pi (R15 , R8) ) );
L244: (R9 in ( pi (R14 , R8) ) or R9 in ( pi (R15 , R8) )) by L243 , XBOOLE_0:def 3;
L245:
now
assume L246: R9 in ( pi (R14 , R8) );
consider R20 being Function such that L247: R20 in R14 and L248: R9 = ( R20 . R8 ) by L246 , L165;
L249: R20 in ( R14 \/ R15 ) by L247 , XBOOLE_0:def 3;
thus L250: thesis by L249 , L248 , L165;
end;
L251:
now
assume L252: (not R9 in ( pi (R14 , R8) ));
consider R20 being Function such that L253: R20 in R15 and L254: R9 = ( R20 . R8 ) by L252 , L244 , L165;
L255: R20 in ( R14 \/ R15 ) by L253 , XBOOLE_0:def 3;
thus L256: thesis by L255 , L254 , L165;
end;
thus L257: thesis by L251 , L245;
end;
theorem
L258: (for R8 being set holds (for R14 being set holds (for R15 being set holds ( pi (( R14 /\ R15 ) , R8) ) c= ( ( pi (R14 , R8) ) /\ ( pi (R15 , R8) ) ))))
proof
let R8 being set;
let R14 being set;
let R15 being set;
let R9 being set;
assume L259: R9 in ( pi (( R14 /\ R15 ) , R8) );
consider R20 being Function such that L260: R20 in ( R14 /\ R15 ) and L261: R9 = ( R20 . R8 ) by L259 , L165;
L262: R20 in R14 by L260 , XBOOLE_0:def 4;
L263: R20 in R15 by L260 , XBOOLE_0:def 4;
L264: R9 in ( pi (R14 , R8) ) by L261 , L262 , L165;
L265: R9 in ( pi (R15 , R8) ) by L261 , L263 , L165;
thus L266: thesis by L265 , L264 , XBOOLE_0:def 4;
end;
theorem
L267: (for R8 being set holds (for R14 being set holds (for R15 being set holds ( ( pi (R14 , R8) ) \ ( pi (R15 , R8) ) ) c= ( pi (( R14 \ R15 ) , R8) ))))
proof
let R8 being set;
let R14 being set;
let R15 being set;
let R9 being set;
assume L268: R9 in ( ( pi (R14 , R8) ) \ ( pi (R15 , R8) ) );
consider R20 being Function such that L269: R20 in R14 and L270: R9 = ( R20 . R8 ) by L268 , L165;
L271: (not R9 in ( pi (R15 , R8) )) by L268 , XBOOLE_0:def 5;
L272: (not R20 in R15) by L271 , L270 , L165;
L273: R20 in ( R14 \ R15 ) by L272 , L269 , XBOOLE_0:def 5;
thus L274: thesis by L273 , L270 , L165;
end;
theorem
L275: (for R8 being set holds (for R14 being set holds (for R15 being set holds ( ( pi (R14 , R8) ) \+\ ( pi (R15 , R8) ) ) c= ( pi (( R14 \+\ R15 ) , R8) ))))
proof
let R8 being set;
let R14 being set;
let R15 being set;
L276: ( ( pi (R14 , R8) ) \ ( pi (R15 , R8) ) ) c= ( pi (( R14 \ R15 ) , R8) ) by L267;
L277: ( ( pi (R15 , R8) ) \ ( pi (R14 , R8) ) ) c= ( pi (( R15 \ R14 ) , R8) ) by L267;
L278: ( ( pi (( R14 \ R15 ) , R8) ) \/ ( pi (( R15 \ R14 ) , R8) ) ) = ( pi (( ( R14 \ R15 ) \/ ( R15 \ R14 ) ) , R8) ) by L235;
thus L279: thesis by L278 , L276 , L277 , XBOOLE_1:13;
end;
theorem
L280: (for R8 being set holds (for R14 being set holds ( card ( pi (R14 , R8) ) ) c= ( card R14 )))
proof
let R8 being set;
let R14 being set;
consider R15 being set such that L281: (for R9 being set holds (R9 in R15 iff (R9 in R14 & S2[ R9 ]))) from XBOOLE_0:sch 1;
defpred S6[ set , set ] means (ex R22 being Function st ($1 = R22 & $2 = ( R22 . R8 )));
L282: (for R9 being set holds (R9 in R15 implies (ex R12 being set st S6[ R9 , R12 ])))
proof
let R9 being set;
assume L283: R9 in R15;
reconsider D9 = R9 as Function by L283 , L281;
take ( D9 . R8 );
take D9;
thus L284: thesis;
end;
consider R20 being Function such that L285: (( dom R20 ) = R15 & (for R9 being set holds (R9 in R15 implies S6[ R9 , ( R20 . R9 ) ]))) from CLASSES1:sch 1(L282);
L286:
now
let R9 being set;
thus L287: (R9 in ( rng R20 ) implies (ex R20 being Function st (R20 in R14 & R9 = ( R20 . R8 ))))
proof
assume L288: R9 in ( rng R20 );
consider R12 being set such that L289: R12 in ( dom R20 ) and L290: R9 = ( R20 . R12 ) by L288 , FUNCT_1:def 3;
consider R22 being Function such that L291: R12 = R22 and L292: ( R20 . R12 ) = ( R22 . R8 ) by L285 , L289;
take R22;
thus L293: thesis by L281 , L285 , L289 , L290 , L291 , L292;
end;

given R22 being Function such that
L294: R22 in R14
and
L295: R9 = ( R22 . R8 );

L296: R22 in R15 by L281 , L294;
L297: (ex R21 being Function st (R22 = R21 & ( R20 . R22 ) = ( R21 . R8 ))) by L296 , L285;
thus L298: R9 in ( rng R20 ) by L297 , L285 , L295 , L296 , FUNCT_1:def 3;
end;
L299: ( rng R20 ) = ( pi (R14 , R8) ) by L286 , L165;
L300: ( card ( pi (R14 , R8) ) ) c= ( card R15 ) by L299 , L285 , CARD_1:12;
L301: R15 c= R14
proof
let R8 being set;
thus L302: thesis by L281;
end;
L303: ( card R15 ) c= ( card R14 ) by L301 , CARD_1:11;
thus L304: thesis by L303 , L300 , XBOOLE_1:1;
end;
theorem
L305: (for R8 being set holds (for R20 being Function holds (R8 in ( Union ( disjoin R20 ) ) implies (ex R9 being set st (ex R12 being set st R8 = [ R9 , R12 ])))))
proof
let R8 being set;
let R20 being Function;
assume L306: R8 in ( Union ( disjoin R20 ) );
consider R14 being set such that L307: R8 in R14 and L308: R14 in ( rng ( disjoin R20 ) ) by L306 , TARSKI:def 4;
consider R9 being set such that L309: R9 in ( dom ( disjoin R20 ) ) and L310: R14 = ( ( disjoin R20 ) . R9 ) by L308 , FUNCT_1:def 3;
L311: R9 in ( dom R20 ) by L309 , L38;
L312: R14 = [: ( R20 . R9 ) , { R9 } :] by L311 , L310 , L38;
thus L313: thesis by L312 , L307 , RELAT_1:def 1;
end;
theorem
L314: (for R8 being set holds (for R20 being Function holds (R8 in ( Union ( disjoin R20 ) ) iff (( R8 `2 ) in ( dom R20 ) & ( R8 `1 ) in ( R20 . ( R8 `2 ) ) & R8 = [ ( R8 `1 ) , ( R8 `2 ) ]))))
proof
let R8 being set;
let R20 being Function;
thus L315: (R8 in ( Union ( disjoin R20 ) ) implies (( R8 `2 ) in ( dom R20 ) & ( R8 `1 ) in ( R20 . ( R8 `2 ) ) & R8 = [ ( R8 `1 ) , ( R8 `2 ) ]))
proof
assume L316: R8 in ( Union ( disjoin R20 ) );
consider R14 being set such that L317: R8 in R14 and L318: R14 in ( rng ( disjoin R20 ) ) by L316 , TARSKI:def 4;
consider R9 being set such that L319: R9 in ( dom ( disjoin R20 ) ) and L320: R14 = ( ( disjoin R20 ) . R9 ) by L318 , FUNCT_1:def 3;
L321: R9 in ( dom R20 ) by L319 , L38;
L322: R14 = [: ( R20 . R9 ) , { R9 } :] by L321 , L320 , L38;
L323: ( R8 `1 ) in ( R20 . R9 ) by L322 , L317 , MCART_1:10;
L324: ( R8 `2 ) in { R9 } by L317 , L322 , MCART_1:10;
thus L325: thesis by L324 , L317 , L321 , L322 , L323 , MCART_1:21 , TARSKI:def 1;
end;

assume that
L326: ( R8 `2 ) in ( dom R20 )
and
L327: ( R8 `1 ) in ( R20 . ( R8 `2 ) )
and
L328: R8 = [ ( R8 `1 ) , ( R8 `2 ) ];
L329: ( ( disjoin R20 ) . ( R8 `2 ) ) = [: ( R20 . ( R8 `2 ) ) , { ( R8 `2 ) } :] by L326 , L38;
L330: ( dom R20 ) = ( dom ( disjoin R20 ) ) by L38;
L331: ( R8 `2 ) in { ( R8 `2 ) } by TARSKI:def 1;
L332: R8 in [: ( R20 . ( R8 `2 ) ) , { ( R8 `2 ) } :] by L331 , L327 , L328 , ZFMISC_1:87;
L333: [: ( R20 . ( R8 `2 ) ) , { ( R8 `2 ) } :] in ( rng ( disjoin R20 ) ) by L326 , L329 , L330 , FUNCT_1:def 3;
thus L334: thesis by L333 , L332 , TARSKI:def 4;
end;
theorem
L335: (for R20 being Function holds (for R22 being Function holds (R20 c= R22 implies ( disjoin R20 ) c= ( disjoin R22 ))))
proof
let R20 being Function;
let R22 being Function;
assume L336: R20 c= R22;
L337: ( dom R20 ) c= ( dom R22 ) by L336 , GRFUNC_1:2;
L338: ( dom ( disjoin R20 ) ) = ( dom R20 ) by L38;
L339: ( dom ( disjoin R22 ) ) = ( dom R22 ) by L38;
L340:
now
let R8 being set;
assume L341: R8 in ( dom ( disjoin R20 ) );
L342: ( ( disjoin R20 ) . R8 ) = [: ( R20 . R8 ) , { R8 } :] by L341 , L338 , L38;
L343: ( R20 . R8 ) = ( R22 . R8 ) by L336 , L338 , L341 , GRFUNC_1:2;
thus L344: ( ( disjoin R20 ) . R8 ) = ( ( disjoin R22 ) . R8 ) by L343 , L337 , L338 , L341 , L342 , L38;
end;
thus L345: thesis by L340 , L337 , L338 , L339 , GRFUNC_1:2;
end;
theorem
L346: (for R20 being Function holds (for R22 being Function holds (R20 c= R22 implies ( Union R20 ) c= ( Union R22 ))))
proof
let R20 being Function;
let R22 being Function;
assume L347: R20 c= R22;
L348: ( dom R20 ) c= ( dom R22 ) by L347 , GRFUNC_1:2;
let R8 being set;
assume L349: R8 in ( Union R20 );
consider R14 being set such that L350: R8 in R14 and L351: R14 in ( rng R20 ) by L349 , TARSKI:def 4;
consider R9 being set such that L352: R9 in ( dom R20 ) and L353: R14 = ( R20 . R9 ) by L351 , FUNCT_1:def 3;
L354: ( R20 . R9 ) = ( R22 . R9 ) by L347 , L352 , GRFUNC_1:2;
L355: R14 in ( rng R22 ) by L354 , L348 , L352 , L353 , FUNCT_1:def 3;
thus L356: thesis by L355 , L350 , TARSKI:def 4;
end;
theorem
L357: (for R14 being set holds (for R15 being set holds ( Union ( disjoin ( R15 --> R14 ) ) ) = [: R14 , R15 :]))
proof
let R14 being set;
let R15 being set;
set D10 = ( R15 --> R14 );
L358: ( dom D10 ) = R15 by FUNCOP_1:13;
thus L359: ( Union ( disjoin D10 ) ) c= [: R14 , R15 :]
proof
let R8 being set;
assume L360: R8 in ( Union ( disjoin D10 ) );
consider R16 being set such that L361: R8 in R16 and L362: R16 in ( rng ( disjoin D10 ) ) by L360 , TARSKI:def 4;
consider R9 being set such that L363: R9 in ( dom ( disjoin D10 ) ) and L364: R16 = ( ( disjoin D10 ) . R9 ) by L362 , FUNCT_1:def 3;
L365: R9 in R15 by L358 , L363 , L38;
L366: R16 = [: ( D10 . R9 ) , { R9 } :] by L365 , L358 , L364 , L38;
L367: ( D10 . R9 ) = R14 by L365 , FUNCOP_1:7;
L368: { R9 } c= R15 by L365 , ZFMISC_1:31;
L369: R16 c= [: R14 , R15 :] by L368 , L366 , L367 , ZFMISC_1:95;
thus L370: thesis by L369 , L361;
end;

let C11 , C12 being set;
assume L371: [ C11 , C12 ] in [: R14 , R15 :];
L372: C11 in R14 by L371 , ZFMISC_1:87;
L373: C12 in R15 by L371 , ZFMISC_1:87;
L374: ( D10 . C12 ) = R14 by L373 , FUNCOP_1:7;
L375: ( ( disjoin D10 ) . C12 ) = [: ( D10 . C12 ) , { C12 } :] by L358 , L373 , L38;
L376: C12 in ( dom ( disjoin D10 ) ) by L358 , L373 , L38;
L377: C12 in { C12 } by TARSKI:def 1;
L378: [ C11 , C12 ] in [: ( D10 . C12 ) , { C12 } :] by L377 , L372 , L374 , ZFMISC_1:87;
L379: [: ( D10 . C12 ) , { C12 } :] in ( rng ( disjoin D10 ) ) by L375 , L376 , FUNCT_1:def 3;
thus L380: thesis by L379 , L378 , TARSKI:def 4;
end;
theorem
L381: (for R20 being Function holds (( product R20 ) = ( {} ) iff ( {} ) in ( rng R20 )))
proof
let R20 being Function;
thus L382: (( product R20 ) = ( {} ) implies ( {} ) in ( rng R20 ))
proof
assume that
L383: ( product R20 ) = ( {} )
and
L384: (not ( {} ) in ( rng R20 ));
L385:
now
assume L386: ( dom R20 ) = ( {} );
L387: (for R8 being set holds (R8 in ( dom R20 ) implies ( R20 . R8 ) in ( R20 . R8 ))) by L386;
thus L388: thesis by L387 , L383 , L49;
end;
L389:
now
assume L390: ( dom R20 ) <> ( {} );
reconsider D11 = ( rng R20 ) as non  empty set by L390 , RELAT_1:42;
L391: (for R14 being set holds (R14 in D11 implies R14 <> ( {} ))) by L384;
consider R21 being Function such that L392: ( dom R21 ) = D11 and L393: (for R14 being set holds (R14 in D11 implies ( R21 . R14 ) in R14)) by L391 , FUNCT_1:111;
deffunc H5(set) = ( R21 . ( R20 . $1 ) );
consider R22 being Function such that L394: (( dom R22 ) = ( dom R20 ) & (for R8 being set holds (R8 in ( dom R20 ) implies ( R22 . R8 ) = H5(R8)))) from FUNCT_1:sch 3;
L395:
now
let R8 being set;
assume L396: R8 in ( dom R20 );
L397: ( R20 . R8 ) in D11 by L396 , FUNCT_1:def 3;
L398: ( R22 . R8 ) = ( R21 . ( R20 . R8 ) ) by L394 , L396;
thus L399: ( R22 . R8 ) in ( R20 . R8 ) by L398 , L393 , L397;
end;
thus L400: thesis by L395 , L383 , L394 , L49;
end;
thus L401: thesis by L389 , L385;
end;

assume L402: ( {} ) in ( rng R20 );
L403: (ex R8 being set st (R8 in ( dom R20 ) & ( {} ) = ( R20 . R8 ))) by L402 , FUNCT_1:def 3;
assume L404: ( product R20 ) <> ( {} );
set D12 = the (Element of ( product R20 ));
L405: (ex R22 being Function st (D12 = R22 & ( dom R22 ) = ( dom R20 ) & (for R8 being set holds (R8 in ( dom R20 ) implies ( R22 . R8 ) in ( R20 . R8 ))))) by L404 , L49;
thus L406: contradiction by L405 , L403;
end;
theorem
L407: (for R20 being Function holds (for R22 being Function holds ((( dom R20 ) = ( dom R22 ) & (for R8 being set holds (R8 in ( dom R20 ) implies ( R20 . R8 ) c= ( R22 . R8 )))) implies ( product R20 ) c= ( product R22 ))))
proof
let R20 being Function;
let R22 being Function;
assume that
L408: ( dom R20 ) = ( dom R22 )
and
L409: (for R8 being set holds (R8 in ( dom R20 ) implies ( R20 . R8 ) c= ( R22 . R8 )));
let R8 being set;
assume L410: R8 in ( product R20 );
consider R21 being Function such that L411: R8 = R21 and L412: ( dom R21 ) = ( dom R20 ) and L413: (for R8 being set holds (R8 in ( dom R20 ) implies ( R21 . R8 ) in ( R20 . R8 ))) by L410 , L49;
L414:
now
let R8 being set;
assume L415: R8 in ( dom R22 );
L416: ( R21 . R8 ) in ( R20 . R8 ) by L415 , L408 , L413;
L417: ( R20 . R8 ) c= ( R22 . R8 ) by L408 , L409 , L415;
thus L418: ( R21 . R8 ) in ( R22 . R8 ) by L417 , L416;
end;
thus L419: thesis by L414 , L408 , L411 , L412 , L49;
end;
theorem
L420: (for R27 being Cardinal-Function holds (for R8 being set holds (R8 in ( dom R27 ) implies ( card ( R27 . R8 ) ) = ( R27 . R8 ))))
proof
let R27 being Cardinal-Function;
let R8 being set;
assume L421: R8 in ( dom R27 );
reconsider D13 = ( R27 . R8 ) as Cardinal by L421 , L1;
L422: ( card D13 ) = D13 by CARD_1:def 2;
thus L423: thesis by L422;
end;
theorem
L424: (for R27 being Cardinal-Function holds (for R8 being set holds (R8 in ( dom R27 ) implies ( card ( ( disjoin R27 ) . R8 ) ) = ( R27 . R8 ))))
proof
let R27 being Cardinal-Function;
let R8 being set;
assume L425: R8 in ( dom R27 );
reconsider D14 = ( R27 . R8 ) as Cardinal by L425 , L1;
L426: D14 , [: D14 , { R8 } :] are_equipotent  by CARD_1:69;
L427: D14 = ( card [: D14 , { R8 } :] ) by L426 , CARD_1:def 2;
thus L428: thesis by L427 , L425 , L38;
end;
definition
let R27 being Cardinal-Function;
func Sum R27 -> Cardinal equals 
( card ( Union ( disjoin R27 ) ) );
correctness;
func Product R27 -> Cardinal equals 
( card ( product R27 ) );
correctness;
end;
theorem
L430: (for R27 being Cardinal-Function holds (for R28 being Cardinal-Function holds ((( dom R27 ) = ( dom R28 ) & (for R8 being set holds (R8 in ( dom R27 ) implies ( R27 . R8 ) c= ( R28 . R8 )))) implies ( Sum R27 ) c= ( Sum R28 ))))
proof
let R27 being Cardinal-Function;
let R28 being Cardinal-Function;
assume that
L431: ( dom R27 ) = ( dom R28 )
and
L432: (for R8 being set holds (R8 in ( dom R27 ) implies ( R27 . R8 ) c= ( R28 . R8 )));
L433: ( Union ( disjoin R27 ) ) c= ( Union ( disjoin R28 ) )
proof
let R8 being set;
assume L434: R8 in ( Union ( disjoin R27 ) );
consider R14 being set such that L435: R8 in R14 and L436: R14 in ( rng ( disjoin R27 ) ) by L434 , TARSKI:def 4;
consider R9 being set such that L437: R9 in ( dom ( disjoin R27 ) ) and L438: R14 = ( ( disjoin R27 ) . R9 ) by L436 , FUNCT_1:def 3;
L439: R9 in ( dom R27 ) by L437 , L38;
L440: ( R27 . R9 ) c= ( R28 . R9 ) by L439 , L432;
L441: R14 = [: ( R27 . R9 ) , { R9 } :] by L438 , L439 , L38;
L442: ( ( disjoin R28 ) . R9 ) = [: ( R28 . R9 ) , { R9 } :] by L431 , L439 , L38;
L443: R9 in ( dom ( disjoin R28 ) ) by L431 , L439 , L38;
L444: R14 c= [: ( R28 . R9 ) , { R9 } :] by L440 , L441 , ZFMISC_1:95;
L445: [: ( R28 . R9 ) , { R9 } :] in ( rng ( disjoin R28 ) ) by L442 , L443 , FUNCT_1:def 3;
thus L446: thesis by L445 , L435 , L444 , TARSKI:def 4;
end;
thus L447: thesis by L433 , CARD_1:11;
end;
theorem
L448: (for R27 being Cardinal-Function holds (( {} ) in ( rng R27 ) iff ( Product R27 ) = ( 0 )))
proof
let R27 being Cardinal-Function;
thus L449: (( {} ) in ( rng R27 ) implies ( Product R27 ) = ( 0 )) by L381 , CARD_1:27;
assume L450: ( Product R27 ) = ( 0 );
L451: ( product R27 ) = ( {} ) by L450;
thus L452: thesis by L451 , L381;
end;
theorem
L453: (for R27 being Cardinal-Function holds (for R28 being Cardinal-Function holds ((( dom R27 ) = ( dom R28 ) & (for R8 being set holds (R8 in ( dom R27 ) implies ( R27 . R8 ) c= ( R28 . R8 )))) implies ( Product R27 ) c= ( Product R28 )))) by L407 , CARD_1:11;
theorem
L454: (for R27 being Cardinal-Function holds (for R28 being Cardinal-Function holds (R27 c= R28 implies ( Sum R27 ) c= ( Sum R28 ))))
proof
let R27 being Cardinal-Function;
let R28 being Cardinal-Function;
assume L455: R27 c= R28;
L456: ( disjoin R27 ) c= ( disjoin R28 ) by L455 , L335;
thus L457: thesis by L456 , L346 , CARD_1:11;
end;
theorem
L458: (for R27 being Cardinal-Function holds (for R28 being Cardinal-Function holds ((R27 c= R28 & (not ( 0 ) in ( rng R28 ))) implies ( Product R27 ) c= ( Product R28 ))))
proof
let R27 being Cardinal-Function;
let R28 being Cardinal-Function;
assume L459: R27 c= R28;
L460: ( dom R27 ) c= ( dom R28 ) by L459 , GRFUNC_1:2;
assume L461: (not ( 0 ) in ( rng R28 ));
deffunc H6(Function) = ( $1 | ( dom R27 ) );
consider R20 being Function such that L462: (( dom R20 ) = ( product R28 ) & (for R22 being Function holds (R22 in ( product R28 ) implies ( R20 . R22 ) = H6(R22)))) from FUNCT_5:sch 1;
L463: ( product R27 ) c= ( rng R20 )
proof
let R8 being set;
assume L464: R8 in ( product R27 );
consider R22 being Function such that L465: R8 = R22 and L466: ( dom R22 ) = ( dom R27 ) and L467: (for R8 being set holds (R8 in ( dom R27 ) implies ( R22 . R8 ) in ( R27 . R8 ))) by L464 , L49;
L468: ( product R28 ) <> ( {} ) by L461 , L381;
set D15 = the (Element of ( product R28 ));
consider R23 being Function such that L469: D15 = R23 and L470: ( dom R23 ) = ( dom R28 ) and L471: (for R8 being set holds (R8 in ( dom R28 ) implies ( R23 . R8 ) in ( R28 . R8 ))) by L468 , L49;
deffunc H7(set) = ( R22 . $1 );
deffunc H8(set) = ( R23 . $1 );
defpred S7[ set ] means $1 in ( dom R27 );
consider R21 being Function such that L472: (( dom R21 ) = ( dom R28 ) & (for R8 being set holds (R8 in ( dom R28 ) implies ((S7[ R8 ] implies ( R21 . R8 ) = H7(R8)) & ((not S7[ R8 ]) implies ( R21 . R8 ) = H8(R8)))))) from PARTFUN1:sch 1;
L473:
now
let R12 being set;
assume that
L474: R12 in ( dom R28 );
L475:
now
assume L476: R12 in ( dom R27 );
L477: ( R21 . R12 ) = ( R22 . R12 ) by L476 , L472 , L474;
L478: ( R22 . R12 ) in ( R27 . R12 ) by L467 , L476;
thus L479: ( R21 . R12 ) in ( R28 . R12 ) by L478 , L459 , L476 , L477 , GRFUNC_1:2;
end;
L480: ((not R12 in ( dom R27 )) implies ( R21 . R12 ) = ( R23 . R12 )) by L472 , L474;
thus L481: ( R21 . R12 ) in ( R28 . R12 ) by L480 , L471 , L474 , L475;
end;
L482: R21 in ( product R28 ) by L473 , L472 , L49;
L483: ( R20 . R21 ) = ( R21 | ( dom R27 ) ) by L482 , L462;
L484: ( dom ( R21 | ( dom R27 ) ) ) = ( dom R27 ) by L460 , L472 , RELAT_1:62;
L485:
now
let R12 being set;
assume L486: R12 in ( dom R27 );
L487: ( ( R21 | ( dom R27 ) ) . R12 ) = ( R21 . R12 ) by L486 , L484 , FUNCT_1:47;
thus L488: ( ( R21 | ( dom R27 ) ) . R12 ) = ( R22 . R12 ) by L487 , L460 , L472 , L486;
end;
L489: ( R20 . R21 ) = R22 by L485 , L466 , L483 , L484 , FUNCT_1:2;
thus L490: thesis by L489 , L462 , L465 , L482 , FUNCT_1:def 3;
end;
thus L491: thesis by L463 , L462 , CARD_1:12;
end;
theorem
L492: (for R4 being Cardinal holds ( Sum ( ( {} ) --> R4 ) ) = ( 0 ))
proof
let R4 being Cardinal;
L493: ( dom ( ( {} ) --> R4 ) ) = ( {} );
L494: ( dom ( disjoin ( ( {} ) --> R4 ) ) ) = ( {} ) by L493 , L38;
thus L495: thesis by L494 , CARD_1:27 , RELAT_1:42 , ZFMISC_1:2;
end;
theorem
L496: (for R4 being Cardinal holds ( Product ( ( {} ) --> R4 ) ) = 1) by L131 , CARD_1:30;
theorem
L497: (for R4 being Cardinal holds (for R8 being set holds ( Sum ( R8 .--> R4 ) ) = R4))
proof
let R4 being Cardinal;
let R8 being set;
thus L498: ( Sum ( R8 .--> R4 ) ) = ( card ( Union ( R8 .--> [: R4 , { R8 } :] ) ) ) by L87
.= ( card [: R4 , { R8 } :] ) by L117
.= ( card R4 ) by CARD_1:69
.= R4 by CARD_1:def 2;
end;
theorem
L499: (for R4 being Cardinal holds (for R8 being set holds ( Product ( R8 .--> R4 ) ) = R4))
proof
let R4 being Cardinal;
let R8 being set;
thus L500: ( Product ( R8 .--> R4 ) ) = ( card ( Funcs ({ R8 } , R4) ) ) by L141
.= ( card R4 ) by FUNCT_5:58
.= R4 by CARD_1:def 2;
end;
theorem
L501: (for R20 being Function holds ( card ( Union R20 ) ) c= ( Sum ( Card R20 ) ))
proof
let R20 being Function;
L502:
now
assume L503: ( dom R20 ) = ( {} );
L504: ( {} ) = ( Union R20 ) by L503 , RELAT_1:42 , ZFMISC_1:2;
thus L505: thesis by L504;
end;
L506:
now
assume L507: ( dom R20 ) <> ( {} );
defpred S8[ set , set ] means (for R8 being set holds (R8 in $2 iff (R8 in ( Funcs (( card $1 ) , $1) ) & (ex R22 being Function st (R8 = R22 & ( rng R22 ) = $1)))));
defpred S9[ set , set ] means S8[ ( R20 . $1 ) , $2 ];
L508: (for R8 being set holds (R8 in ( dom R20 ) implies (ex R9 being set st S9[ R8 , R9 ])))
proof
let R8 being set;
assume that
L509: R8 in ( dom R20 );
defpred S10[ set ] means (ex R22 being Function st ($1 = R22 & ( rng R22 ) = ( R20 . R8 )));
consider R15 being set such that L510: (for R12 being set holds (R12 in R15 iff (R12 in ( Funcs (( card ( R20 . R8 ) ) , ( R20 . R8 )) ) & S10[ R12 ]))) from XBOOLE_0:sch 1;
take R15;
thus L511: thesis by L510;
end;
consider C13 being Function such that L512: (( dom C13 ) = ( dom R20 ) & (for R8 being set holds (R8 in ( dom R20 ) implies S9[ R8 , ( C13 . R8 ) ]))) from CLASSES1:sch 1(L508);
reconsider D16 = ( rng C13 ) as non  empty set by L507 , L512 , RELAT_1:42;
L513:
now
let R14 being set;
assume L514: R14 in D16;
consider R8 being set such that L515: R8 in ( dom C13 ) and L516: R14 = ( C13 . R8 ) by L514 , FUNCT_1:def 3;
L517: ( card ( R20 . R8 ) ) , ( R20 . R8 ) are_equipotent  by CARD_1:def 2;
consider R22 being Function such that L518: R22 is  one-to-one and L519: ( dom R22 ) = ( card ( R20 . R8 ) ) and L520: ( rng R22 ) = ( R20 . R8 ) by L517 , WELLORD2:def 4;
L521: R22 in ( Funcs (( card ( R20 . R8 ) ) , ( R20 . R8 )) ) by L519 , L520 , FUNCT_2:def 2;
thus L522: R14 <> ( {} ) by L521 , L512 , L515 , L516 , L520;
end;
consider C14 being Function such that L523: ( dom C14 ) = D16 and L524: (for R14 being set holds (R14 in D16 implies ( C14 . R14 ) in R14)) by L513 , FUNCT_1:111;
set D17 = ( union ( rng ( disjoin ( Card R20 ) ) ) );
defpred S11[ set , set ] means (ex R22 being Function st (R22 = ( C14 . ( C13 . ( $1 `2 ) ) ) & $2 = ( R22 . ( $1 `1 ) )));
L525: (for R8 being set holds (R8 in D17 implies (ex R9 being set st S11[ R8 , R9 ])))
proof
let R8 being set;
assume L526: R8 in D17;
consider R14 being set such that L527: R8 in R14 and L528: R14 in ( rng ( disjoin ( Card R20 ) ) ) by L526 , TARSKI:def 4;
consider R9 being set such that L529: R9 in ( dom ( disjoin ( Card R20 ) ) ) and L530: R14 = ( ( disjoin ( Card R20 ) ) . R9 ) by L528 , FUNCT_1:def 3;
L531: ( dom ( disjoin ( Card R20 ) ) ) = ( dom ( Card R20 ) ) by L38;
L532: ( dom ( Card R20 ) ) = ( dom R20 ) by L27;
L533: R14 = [: ( ( Card R20 ) . R9 ) , { R9 } :] by L529 , L530 , L531 , L38;
L534: ( R8 `2 ) in { R9 } by L533 , L527 , MCART_1:10;
L535: ( R8 `2 ) in ( dom R20 ) by L534 , L529 , L531 , L532 , TARSKI:def 1;
L536: ( C13 . ( R8 `2 ) ) in D16 by L535 , L512 , FUNCT_1:def 3;
L537: ( C14 . ( C13 . ( R8 `2 ) ) ) in ( C13 . ( R8 `2 ) ) by L536 , L524;
L538: ( C14 . ( C13 . ( R8 `2 ) ) ) in ( Funcs (( card ( R20 . ( R8 `2 ) ) ) , ( R20 . ( R8 `2 ) )) ) by L537 , L512 , L535;
consider R22 being Function such that L539: ( C14 . ( C13 . ( R8 `2 ) ) ) = R22 and L540: ( dom R22 ) = ( card ( R20 . ( R8 `2 ) ) ) and L541: ( rng R22 ) c= ( R20 . ( R8 `2 ) ) by L538 , FUNCT_2:def 2;
take ( R22 . ( R8 `1 ) );
take R22;
thus L542: thesis by L539;
end;
consider C15 being Function such that L543: (( dom C15 ) = D17 & (for R8 being set holds (R8 in D17 implies S11[ R8 , ( C15 . R8 ) ]))) from CLASSES1:sch 1(L525);
L544: ( union ( rng R20 ) ) c= ( rng C15 )
proof
let R8 being set;
assume L545: R8 in ( union ( rng R20 ) );
consider R14 being set such that L546: R8 in R14 and L547: R14 in ( rng R20 ) by L545 , TARSKI:def 4;
consider R9 being set such that L548: R9 in ( dom R20 ) and L549: R14 = ( R20 . R9 ) by L547 , FUNCT_1:def 3;
L550: ( C13 . R9 ) in D16 by L512 , L548 , FUNCT_1:def 3;
L551: ( C14 . ( C13 . R9 ) ) in ( C13 . R9 ) by L550 , L524;
L552: ( C14 . ( C13 . R9 ) ) in ( Funcs (( card ( R20 . R9 ) ) , ( R20 . R9 )) ) by L551 , L512 , L548;
consider R22 being Function such that L553: ( C14 . ( C13 . R9 ) ) = R22 and L554: ( dom R22 ) = ( card ( R20 . R9 ) ) and L555: ( rng R22 ) c= ( R20 . R9 ) by L552 , FUNCT_2:def 2;
L556: (ex R22 being Function st (( C14 . ( C13 . R9 ) ) = R22 & ( rng R22 ) = ( R20 . R9 ))) by L512 , L548 , L551;
consider R12 being set such that L557: R12 in ( dom R22 ) and L558: R8 = ( R22 . R12 ) by L556 , L546 , L549 , L553 , FUNCT_1:def 3;
L559: ( ( Card R20 ) . R9 ) = ( card ( R20 . R9 ) ) by L548 , L27;
L560: ( dom ( Card R20 ) ) = ( dom R20 ) by L27;
L561: ( ( disjoin ( Card R20 ) ) . R9 ) = [: ( dom R22 ) , { R9 } :] by L560 , L548 , L554 , L559 , L38;
L562: R9 in { R9 } by TARSKI:def 1;
L563: ( dom ( disjoin ( Card R20 ) ) ) = ( dom R20 ) by L560 , L38;
L564: [ R12 , R9 ] in [: ( dom R22 ) , { R9 } :] by L557 , L562 , ZFMISC_1:87;
L565: [: ( dom R22 ) , { R9 } :] in ( rng ( disjoin ( Card R20 ) ) ) by L548 , L561 , L563 , FUNCT_1:def 3;
L566: [ R12 , R9 ] in D17 by L565 , L564 , TARSKI:def 4;
L567: ( [ R12 , R9 ] `1 ) = R12;
L568: ( [ R12 , R9 ] `2 ) = R9;
L569: (ex R22 being Function st (R22 = ( C14 . ( C13 . R9 ) ) & ( C15 . [ R12 , R9 ] ) = ( R22 . R12 ))) by L568 , L543 , L566 , L567;
thus L570: thesis by L569 , L543 , L553 , L558 , L566 , FUNCT_1:def 3;
end;
thus L571: thesis by L544 , L543 , CARD_1:12;
end;
thus L572: thesis by L506 , L502;
end;
theorem
L573: (for R27 being Cardinal-Function holds ( card ( Union R27 ) ) c= ( Sum R27 ))
proof
let R27 being Cardinal-Function;
L574: ( Card R27 ) = R27 by L68;
thus L575: thesis by L574 , L501;
end;
::$N Koenig Theorem
theorem
L576: (for R27 being Cardinal-Function holds (for R28 being Cardinal-Function holds ((( dom R27 ) = ( dom R28 ) & (for R8 being set holds (R8 in ( dom R27 ) implies ( R27 . R8 ) in ( R28 . R8 )))) implies ( Sum R27 ) in ( Product R28 ))))
proof
let R27 being Cardinal-Function;
let R28 being Cardinal-Function;
assume that
L577: ( dom R27 ) = ( dom R28 )
and
L578: (for R8 being set holds (R8 in ( dom R27 ) implies ( R27 . R8 ) in ( R28 . R8 )));
deffunc H9(set) = ( ( R28 . $1 ) \ ( R27 . $1 ) );
consider R20 being Function such that L579: (( dom R20 ) = ( dom R27 ) & (for R8 being set holds (R8 in ( dom R27 ) implies ( R20 . R8 ) = H9(R8)))) from FUNCT_1:sch 3;
L580:
now
assume L581: ( {} ) in ( rng R20 );
consider R8 being set such that L582: R8 in ( dom R20 ) and L583: ( {} ) = ( R20 . R8 ) by L581 , FUNCT_1:def 3;
reconsider D18 = ( R27 . R8 ) , D19 = ( R28 . R8 ) as Cardinal by L577 , L579 , L582 , L1;
L584: D18 in D19 by L578 , L579 , L582;
L585: (not D18 in D18);
L586: D18 in ( D19 \ D18 ) by L585 , L584 , XBOOLE_0:def 5;
thus L587: contradiction by L586 , L579 , L582 , L583;
end;
L588: ( product R20 ) <> ( {} ) by L580 , L381;
set D20 = the (Element of ( product R20 ));
consider C16 being Function such that L589: D20 = C16 and L590: ( dom C16 ) = ( dom R20 ) and L591: (for R8 being set holds (R8 in ( dom R20 ) implies ( C16 . R8 ) in ( R20 . R8 ))) by L588 , L49;
defpred S12[ set , Function ] means (( dom $2 ) = ( dom R27 ) & (for R8 being set holds (R8 in ( dom R27 ) implies ((( $1 `2 ) = R8 implies ( $2 . R8 ) = ( $1 `1 )) & (( $1 `2 ) <> R8 implies ( $2 . R8 ) = ( C16 . R8 ))))));
defpred S13[ set , set ] means (ex R22 being Function st ($2 = R22 & S12[ $1 , R22 ]));
L592: (for R8 being set holds (R8 in ( Union ( disjoin R27 ) ) implies (ex R9 being set st S13[ R8 , R9 ])))
proof
let R8 being set;
assume that
L593: R8 in ( Union ( disjoin R27 ) );
deffunc H10(set) = ( R8 `1 );
deffunc H11(set) = ( C16 . $1 );
defpred S14[ set ] means $1 = ( R8 `2 );
consider R22 being Function such that L594: (( dom R22 ) = ( dom R27 ) & (for R13 being set holds (R13 in ( dom R27 ) implies ((S14[ R13 ] implies ( R22 . R13 ) = H10(R13)) & ((not S14[ R13 ]) implies ( R22 . R13 ) = H11(R13)))))) from PARTFUN1:sch 1;
reconsider D21 = R22 as set;
take D21;
take R22;
thus L595: thesis by L594;
end;
consider R21 being Function such that L596: (( dom R21 ) = ( Union ( disjoin R27 ) ) & (for R8 being set holds (R8 in ( Union ( disjoin R27 ) ) implies S13[ R8 , ( R21 . R8 ) ]))) from CLASSES1:sch 1(L592);
L597: R21 is  one-to-one
proof
let R8 being set;
let R9 being set;
assume that
L598: R8 in ( dom R21 )
and
L599: R9 in ( dom R21 )
and
L600: ( R21 . R8 ) = ( R21 . R9 )
and
L601: R8 <> R9;
consider C17 being Function such that L602: ( R21 . R8 ) = C17 and L603: S12[ R8 , C17 ] by L596 , L598;
consider C18 being Function such that L604: ( R21 . R9 ) = C18 and L605: S12[ R9 , C18 ] by L596 , L599;
L606: ( R8 `2 ) in ( dom R27 ) by L596 , L598 , L314;
L607: ( R9 `2 ) in ( dom R27 ) by L596 , L599 , L314;
L608: ( R9 `1 ) in ( R27 . ( R9 `2 ) ) by L596 , L599 , L314;
L609: (ex B4 , B5 being set st R8 = [ B4 , B5 ]) by L596 , L598 , L305;
L610: (ex B6 , B7 being set st R9 = [ B6 , B7 ]) by L596 , L599 , L305;
L611: R8 = [ ( R8 `1 ) , ( R8 `2 ) ] by L609 , MCART_1:8;
L612: R9 = [ ( R9 `1 ) , ( R9 `2 ) ] by L610 , MCART_1:8;
L613:
now
assume L614: ( R8 `1 ) = ( R9 `1 );
L615: ( C18 . ( R9 `2 ) ) = ( R9 `1 ) by L605 , L607;
L616: ( C17 . ( R9 `2 ) ) = ( C16 . ( R9 `2 ) ) by L601 , L603 , L607 , L611 , L612 , L614;
L617: ( R20 . ( R9 `2 ) ) = ( ( R28 . ( R9 `2 ) ) \ ( R27 . ( R9 `2 ) ) ) by L579 , L607;
L618: ( C16 . ( R9 `2 ) ) in ( R20 . ( R9 `2 ) ) by L579 , L591 , L607;
thus L619: contradiction by L618 , L600 , L602 , L604 , L608 , L615 , L616 , L617 , XBOOLE_0:def 5;
end;
L620: (( R8 `2 ) = ( R9 `2 ) implies (( C17 . ( R8 `2 ) ) = ( R8 `1 ) & ( C18 . ( R8 `2 ) ) = ( R9 `1 ))) by L603 , L605 , L606;
L621: ( C17 . ( R9 `2 ) ) = ( R9 `1 ) by L600 , L602 , L604 , L605 , L607;
L622: ( C17 . ( R9 `2 ) ) = ( C16 . ( R9 `2 ) ) by L600 , L602 , L603 , L604 , L607 , L613 , L620;
L623: ( R20 . ( R9 `2 ) ) = ( ( R28 . ( R9 `2 ) ) \ ( R27 . ( R9 `2 ) ) ) by L579 , L607;
L624: ( C16 . ( R9 `2 ) ) in ( R20 . ( R9 `2 ) ) by L579 , L591 , L607;
thus L625: contradiction by L624 , L608 , L621 , L622 , L623 , XBOOLE_0:def 5;
end;
L626: ( rng R21 ) c= ( product R28 )
proof
let R8 being set;
assume L627: R8 in ( rng R21 );
consider R9 being set such that L628: R9 in ( dom R21 ) and L629: R8 = ( R21 . R9 ) by L627 , FUNCT_1:def 3;
consider R22 being Function such that L630: ( R21 . R9 ) = R22 and L631: S12[ R9 , R22 ] by L596 , L628;
L632:
now
let R8 being set;
assume L633: R8 in ( dom R28 );
reconsider D22 = ( R28 . R8 ) , D23 = ( R27 . R8 ) as Cardinal by L633 , L577 , L1;
L634: D23 in D22 by L577 , L578 , L633;
L635: (( R9 `2 ) = R8 implies ( R22 . R8 ) = ( R9 `1 )) by L577 , L631 , L633;
L636: (( R9 `2 ) <> R8 implies ( R22 . R8 ) = ( C16 . R8 )) by L577 , L631 , L633;
L637: ( C16 . R8 ) in ( R20 . R8 ) by L577 , L579 , L591 , L633;
L638: ( R20 . R8 ) = ( D22 \ D23 ) by L577 , L579 , L633;
L639: ( R9 `1 ) in ( R27 . ( R9 `2 ) ) by L596 , L628 , L314;
L640: D23 c= D22 by L634 , CARD_1:3;
thus L641: ( R22 . R8 ) in ( R28 . R8 ) by L640 , L635 , L636 , L637 , L638 , L639;
end;
thus L642: thesis by L632 , L577 , L629 , L630 , L631 , L49;
end;
L643: ( Sum R27 ) c= ( Product R28 ) by L626 , L596 , L597 , CARD_1:10;
L644:
now
assume L645: ( Sum R27 ) = ( Product R28 );
L646: ( Union ( disjoin R27 ) ) , ( product R28 ) are_equipotent  by L645 , CARD_1:5;
consider R20 being Function such that L647: R20 is  one-to-one and L648: ( dom R20 ) = ( Union ( disjoin R27 ) ) and L649: ( rng R20 ) = ( product R28 ) by L646 , WELLORD2:def 4;
deffunc H12(set) = ( ( R28 . $1 ) \ ( pi (( R20 .: ( ( disjoin R27 ) . $1 ) ) , $1) ) );
consider C19 being Function such that L650: (( dom C19 ) = ( dom R27 ) & (for R8 being set holds (R8 in ( dom R27 ) implies ( C19 . R8 ) = H12(R8)))) from FUNCT_1:sch 3;
L651:
now
assume L652: ( {} ) in ( rng C19 );
consider R8 being set such that L653: R8 in ( dom R27 ) and L654: ( {} ) = ( C19 . R8 ) by L652 , L650 , FUNCT_1:def 3;
L655: ( C19 . R8 ) = ( ( R28 . R8 ) \ ( pi (( R20 .: ( ( disjoin R27 ) . R8 ) ) , R8) ) ) by L650 , L653;
reconsider D24 = ( R27 . R8 ) , D25 = ( R28 . R8 ) as Cardinal by L577 , L653 , L1;
L656: ( card ( pi (( R20 .: ( ( disjoin R27 ) . R8 ) ) , R8) ) ) c= ( card ( R20 .: ( ( disjoin R27 ) . R8 ) ) ) by L280;
L657: ( card ( R20 .: ( ( disjoin R27 ) . R8 ) ) ) c= ( card ( ( disjoin R27 ) . R8 ) ) by CARD_1:67;
L658: ( card ( ( disjoin R27 ) . R8 ) ) = D24 by L653 , L424;
L659: ( card ( pi (( R20 .: ( ( disjoin R27 ) . R8 ) ) , R8) ) ) c= D24 by L658 , L656 , L657 , XBOOLE_1:1;
L660: D24 in D25 by L578 , L653;
L661: ( card D25 ) = D25 by CARD_1:def 2;
thus L662: contradiction by L661 , L654 , L655 , L659 , L660 , CARD_1:68 , ORDINAL1:12;
end;
L663: ( product C19 ) <> ( {} ) by L651 , L381;
set D26 = the (Element of ( product C19 ));
consider R22 being Function such that L664: D26 = R22 and L665: ( dom R22 ) = ( dom C19 ) and L666: (for R8 being set holds (R8 in ( dom C19 ) implies ( R22 . R8 ) in ( C19 . R8 ))) by L663 , L49;
L667:
now
let R8 being set;
assume L668: R8 in ( dom C19 );
L669: ( C19 . R8 ) = ( ( R28 . R8 ) \ ( pi (( R20 .: ( ( disjoin R27 ) . R8 ) ) , R8) ) ) by L668 , L650;
thus L670: ( C19 . R8 ) c= ( R28 . R8 ) by L669;
end;
L671: ( product C19 ) c= ( product R28 ) by L667 , L577 , L650 , L407;
L672: D26 in ( product R28 ) by L671 , L663 , TARSKI:def 3;
consider R9 being set such that L673: R9 in ( dom R20 ) and L674: D26 = ( R20 . R9 ) by L672 , L649 , FUNCT_1:def 3;
consider R14 being set such that L675: R9 in R14 and L676: R14 in ( rng ( disjoin R27 ) ) by L648 , L673 , TARSKI:def 4;
consider R8 being set such that L677: R8 in ( dom ( disjoin R27 ) ) and L678: R14 = ( ( disjoin R27 ) . R8 ) by L676 , FUNCT_1:def 3;
L679: R22 in ( R20 .: R14 ) by L664 , L673 , L674 , L675 , FUNCT_1:def 6;
L680: ( R22 . R8 ) in ( pi (( R20 .: ( ( disjoin R27 ) . R8 ) ) , R8) ) by L679 , L678 , L165;
L681: R8 in ( dom R27 ) by L677 , L38;
L682: (not ( R22 . R8 ) in ( ( R28 . R8 ) \ ( pi (( R20 .: ( ( disjoin R27 ) . R8 ) ) , R8) ) )) by L680 , XBOOLE_0:def 5;
L683: ( R22 . R8 ) in ( C19 . R8 ) by L650 , L666 , L681;
thus L684: contradiction by L683 , L650 , L681 , L682;
end;
thus L685: thesis by L644 , L643 , CARD_1:3;
end;
scheme FuncSeparation { F3() -> set , F4(set) -> set , P1[set , set] } : (ex R20 being Function st (( dom R20 ) = F3() & (for R8 being set holds (R8 in F3() implies (for R9 being set holds (R9 in ( R20 . R8 ) iff (R9 in F4(R8) & P1[ R8 , R9 ])))))))
proof
defpred S15[ set , set ] means (for R9 being set holds (R9 in $2 iff (R9 in F4($1) & P1[ $1 , R9 ])));
L686: (for R8 being set holds (R8 in F3() implies (ex R9 being set st S15[ R8 , R9 ])))
proof
let R8 being set;
assume that
L687: R8 in F3();
defpred S16[ set ] means P1[ R8 , $1 ];
consider R15 being set such that L688: (for R9 being set holds (R9 in R15 iff (R9 in F4(R8) & S16[ R9 ]))) from XBOOLE_0:sch 1;
take R15;
thus L689: thesis by L688;
end;
thus L690: (ex R20 being Function st (( dom R20 ) = F3() & (for R8 being set holds (R8 in F3() implies S15[ R8 , ( R20 . R8 ) ])))) from CLASSES1:sch 1(L686);
end;
L691: (for R8 being set holds (for R25 being Relation holds (R8 in ( field R25 ) implies (ex R9 being set st ([ R8 , R9 ] in R25 or [ R9 , R8 ] in R25)))))
proof
let R8 being set;
let R25 being Relation;
assume L692: R8 in ( field R25 );
L693: (R8 in ( dom R25 ) or R8 in ( rng R25 )) by L692 , XBOOLE_0:def 3;
thus L694: thesis by L693 , XTUPLE_0:def 12 , XTUPLE_0:def 13;
end;
theorem
L695: (for R14 being set holds (R14 is  finite implies ( card R14 ) in ( card ( omega ) )))
proof
let R14 being set;
assume L696: R14 is  finite;
L697: (ex B8 being Nat st ( card R14 ) = ( card B8 )) by L696 , CARD_1:48;
thus L698: thesis by L697 , CARD_1:47;
end;
theorem
L699: (for R1 being Ordinal holds (for R2 being Ordinal holds (( card R1 ) in ( card R2 ) implies R1 in R2)))
proof
let R1 being Ordinal;
let R2 being Ordinal;
assume that
L700: ( card R1 ) in ( card R2 )
and
L701: (not R1 in R2);
L702: (not ( card R2 ) c= ( card R1 )) by L700 , CARD_1:4;
thus L703: contradiction by L702 , L701 , CARD_1:11 , ORDINAL1:16;
end;
theorem
L704: (for R1 being Ordinal holds (for R6 being Cardinal holds (( card R1 ) in R6 implies R1 in R6)))
proof
let R1 being Ordinal;
let R6 being Cardinal;
L705: ( card R6 ) = R6 by CARD_1:def 2;
thus L706: thesis by L705 , L699;
end;
theorem
L707: (for R14 being set holds (R14 is  c=-linear implies (ex R15 being set st (R15 c= R14 & ( union R15 ) = ( union R14 ) & (for R16 being set holds ((R16 c= R15 & R16 <> ( {} )) implies (ex R17 being set st (R17 in R16 & (for R18 being set holds (R18 in R16 implies R17 c= R18))))))))))
proof
let R14 being set;
assume L708: R14 is  c=-linear;
consider R25 being Relation such that L709: R25 well_orders R14 by WELLORD2:17;
L710: ( R25 |_2 R14 ) is  well-ordering by L709 , WELLORD2:16;
L711: ( field ( R25 |_2 R14 ) ) = R14 by L709 , WELLORD2:16;
L712: ( R25 |_2 R14 ) , ( RelIncl ( order_type_of ( R25 |_2 R14 ) ) ) are_isomorphic  by L710 , WELLORD2:def 2;
L713: ( RelIncl ( order_type_of ( R25 |_2 R14 ) ) ) , ( R25 |_2 R14 ) are_isomorphic  by L712 , WELLORD1:40;
consider R20 being Function such that L714: R20 is_isomorphism_of ( RelIncl ( order_type_of ( R25 |_2 R14 ) ) ) , ( R25 |_2 R14 ) by L713 , WELLORD1:def 8;
L715: ( field ( RelIncl ( order_type_of ( R25 |_2 R14 ) ) ) ) = ( order_type_of ( R25 |_2 R14 ) ) by WELLORD2:def 1;
L716: ( dom R20 ) = ( order_type_of ( R25 |_2 R14 ) ) by L715 , L714 , WELLORD1:def 7;
L717: ( rng R20 ) = R14 by L711 , L714 , WELLORD1:def 7;
defpred S17[ set ] means (for R1 being Ordinal holds (for R2 being Ordinal holds ((R2 in R1 & $1 = R1) implies ( R20 . R2 ) c= ( R20 . R1 ))));
consider R15 being set such that L718: (for R8 being set holds (R8 in R15 iff (R8 in ( dom R20 ) & S17[ R8 ]))) from XBOOLE_0:sch 1;
take D27 = ( R20 .: R15 );
thus L719: D27 c= R14 by L717 , RELAT_1:111;
thus L720: ( union D27 ) c= ( union R14 ) by L717 , RELAT_1:111 , ZFMISC_1:77;
thus L721: ( union R14 ) c= ( union D27 )
proof
let R8 being set;
assume L722: R8 in ( union R14 );
consider R17 being set such that L723: R8 in R17 and L724: R17 in R14 by L722 , TARSKI:def 4;
consider R9 being set such that L725: R9 in ( dom R20 ) and L726: R17 = ( R20 . R9 ) by L717 , L724 , FUNCT_1:def 3;
reconsider D28 = R9 as Ordinal by L716 , L725;
defpred S18[ Ordinal ] means ($1 c= D28 & R8 in ( R20 . $1 ));
L727: (ex R1 being Ordinal st S18[ R1 ]) by L723 , L726;
consider R1 being Ordinal such that L728: (S18[ R1 ] & (for R2 being Ordinal holds (S18[ R2 ] implies R1 c= R2))) from ORDINAL1:sch 1(L727);
L729: R1 in ( dom R20 ) by L716 , L725 , L728 , ORDINAL1:12;
L730:
now
let R2 being Ordinal;
let R3 being Ordinal;
assume that
L731: R3 in R2
and
L732: R1 = R2;
L733: R3 in ( dom R20 ) by L716 , L725 , L728 , L731 , L732 , ORDINAL1:10;
L734: ((not R3 c= D28) or (not R8 in ( R20 . R3 ))) by L728 , L731 , L732 , ORDINAL1:5;
L735: ( R20 . R1 ) in R14 by L717 , L729 , FUNCT_1:def 3;
L736: ( R20 . R3 ) in R14 by L717 , L733 , FUNCT_1:def 3;
L737: ( R20 . R3 ) , ( R20 . R1 ) are_c=-comparable  by L736 , L708 , L735 , ORDINAL1:def 8;
L738: (( R20 . R3 ) c= ( R20 . R1 ) or ( R20 . R1 ) c= ( R20 . R3 )) by L737 , XBOOLE_0:def 9;
thus L739: ( R20 . R3 ) c= ( R20 . R2 ) by L738 , L728 , L731 , L732 , L734 , ORDINAL1:def 2;
end;
L740: R1 in R15 by L730 , L718 , L729;
L741: ( R20 . R1 ) in D27 by L740 , L729 , FUNCT_1:def 6;
thus L742: thesis by L741 , L728 , TARSKI:def 4;
end;

let C20 being set;
assume that
L743: C20 c= D27
and
L744: C20 <> ( {} );
set D29 = the (Element of C20);
L745: D29 in D27 by L743 , L744 , TARSKI:def 3;
consider R9 being set such that L746: R9 in ( dom R20 ) and L747: R9 in R15 and L748: D29 = ( R20 . R9 ) by L745 , FUNCT_1:def 6;
reconsider D30 = R9 as Ordinal by L716 , L746;
defpred S19[ Ordinal ] means ($1 in R15 & ( R20 . $1 ) in C20);
L749: D30 = D30;
L750: (ex R1 being Ordinal st S19[ R1 ]) by L749 , L744 , L747 , L748;
consider R1 being Ordinal such that L751: (S19[ R1 ] & (for R2 being Ordinal holds (S19[ R2 ] implies R1 c= R2))) from ORDINAL1:sch 1(L750);
take D31 = ( R20 . R1 );
thus L752: D31 in C20 by L751;
let R18 being set;
assume L753: R18 in C20;
consider R9 being set such that L754: R9 in ( dom R20 ) and L755: R9 in R15 and L756: R18 = ( R20 . R9 ) by L753 , L743 , FUNCT_1:def 6;
reconsider D32 = R9 as Ordinal by L716 , L754;
L757: (R1 c< D32 iff (R1 c= D32 & R1 <> D32)) by XBOOLE_0:def 8;
L758: (R1 = D32 or R1 in D32) by L757 , L751 , L753 , L755 , L756 , ORDINAL1:11;
thus L759: thesis by L758 , L718 , L755 , L756;
end;
theorem
L760: (for R6 being Cardinal holds (for R14 being set holds (((for R16 being set holds (R16 in R14 implies ( card R16 ) in R6)) & R14 is  c=-linear) implies ( card ( union R14 ) ) c= R6)))
proof
let R6 being Cardinal;
let R14 being set;
assume that
L761: (for R16 being set holds (R16 in R14 implies ( card R16 ) in R6))
and
L762: R14 is  c=-linear;
consider C21 being set such that L763: C21 c= R14 and L764: ( union C21 ) = ( union R14 ) and L765: (for R16 being set holds ((R16 c= C21 & R16 <> ( {} )) implies (ex R17 being set st (R17 in R16 & (for R18 being set holds (R18 in R16 implies R17 c= R18)))))) by L762 , L707;
L766:
now
let R17 being set;
let R18 being set;
assume that
L767: R17 in C21
and
L768: R18 in C21;
L769: R17 , R18 are_c=-comparable  by L762 , L763 , L767 , L768 , ORDINAL1:def 8;
thus L770: (R17 c= R18 or R18 c= R17) by L769 , XBOOLE_0:def 9;
end;
consider R25 being Relation such that L771: R25 well_orders ( union R14 ) by WELLORD2:17;
L772: R25 is_reflexive_in ( union R14 ) by L771 , WELLORD1:def 5;
L773: R25 is_transitive_in ( union R14 ) by L771 , WELLORD1:def 5;
L774: R25 is_antisymmetric_in ( union R14 ) by L771 , WELLORD1:def 5;
L775: R25 is_connected_in ( union R14 ) by L771 , WELLORD1:def 5;
defpred S20[ set , set ] means ((ex R17 being set st (R17 in C21 & $1 in R17 & (not $2 in R17))) or ((for R17 being set holds (R17 in C21 implies ($1 in R17 iff $2 in R17))) & [ $1 , $2 ] in R25));
consider R24 being Relation such that L776: (for R8 being set holds (for R9 being set holds ([ R8 , R9 ] in R24 iff (R8 in ( union R14 ) & R9 in ( union R14 ) & S20[ R8 , R9 ])))) from RELAT_1:sch 1;
L777: ( field R24 ) = ( union R14 )
proof
thus L778: ( field R24 ) c= ( union R14 )
proof
let R8 being set;
assume L779: R8 in ( field R24 );
L780: (ex R9 being set st ([ R8 , R9 ] in R24 or [ R9 , R8 ] in R24)) by L779 , L691;
thus L781: thesis by L780 , L776;
end;

let R8 being set;
assume L782: R8 in ( union R14 );
L783: [ R8 , R8 ] in R25 by L782 , L772 , RELAT_2:def 1;
L784: (for R17 being set holds (R17 in C21 implies (R8 in R17 iff R8 in R17)));
L785: [ R8 , R8 ] in R24 by L784 , L776 , L782 , L783;
thus L786: thesis by L785 , RELAT_1:15;
end;
L787: R24 is  reflexive
proof
let R8 being set;
assume L788: R8 in ( field R24 );
L789: [ R8 , R8 ] in R25 by L788 , L772 , L777 , RELAT_2:def 1;
L790: (for R17 being set holds (R17 in C21 implies (R8 in R17 iff R8 in R17)));
thus L791: thesis by L790 , L776 , L777 , L788 , L789;
end;
L792: R24 is  transitive
proof
let R8 being set;
let R9 being set;
let R12 being set;
assume that
L793: R8 in ( field R24 )
and
L794: R9 in ( field R24 )
and
L795: R12 in ( field R24 )
and
L796: [ R8 , R9 ] in R24
and
L797: [ R9 , R12 ] in R24;
L798:
now
given R17 being set such that
L799: R17 in C21
and
L800: R8 in R17
and
L801: (not R9 in R17);

given R18 being set such that
L802: R18 in C21
and
L803: R9 in R18
and
L804: (not R12 in R18);

L805: (R17 c= R18 or R18 c= R17) by L766 , L799 , L802;
thus L806: thesis by L805 , L776 , L777 , L793 , L795 , L800 , L801 , L802 , L803 , L804;
end;
L807:
now
given R17 being set such that
L808: R17 in C21
and
L809: R8 in R17
and
L810: (not R9 in R17);

assume that
L811: (for R17 being set holds (R17 in C21 implies (R9 in R17 iff R12 in R17)))
and
L812: [ R9 , R12 ] in R25;
L813: (not R12 in R17) by L808 , L810 , L811;
thus L814: thesis by L813 , L776 , L777 , L793 , L795 , L808 , L809;
end;
L815:
now
given R17 being set such that
L816: R17 in C21
and
L817: R9 in R17
and
L818: (not R12 in R17);

assume that
L819: (for R17 being set holds (R17 in C21 implies (R8 in R17 iff R9 in R17)))
and
L820: [ R8 , R9 ] in R25;
L821: R8 in R17 by L816 , L817 , L819;
thus L822: thesis by L821 , L776 , L777 , L793 , L795 , L816 , L818;
end;
L823:
now
assume that
L824: (for R17 being set holds (R17 in C21 implies (R8 in R17 iff R9 in R17)))
and
L825: [ R8 , R9 ] in R25
and
L826: (for R17 being set holds (R17 in C21 implies (R9 in R17 iff R12 in R17)))
and
L827: [ R9 , R12 ] in R25;
L828: [ R8 , R12 ] in R25 by L773 , L777 , L793 , L794 , L795 , L825 , L827 , RELAT_2:def 8;
L829:
now
let R16 being set;
assume L830: R16 in C21;
L831: (R8 in R16 iff R9 in R16) by L830 , L824;
thus L832: (R8 in R16 iff R12 in R16) by L831 , L826 , L830;
end;
thus L833: thesis by L829 , L776 , L777 , L793 , L795 , L828;
end;
thus L834: thesis by L823 , L776 , L796 , L797 , L798 , L807 , L815;
end;
L835: R24 is  antisymmetric
proof
let R8 being set;
let R9 being set;
assume that
L836: R8 in ( field R24 )
and
L837: R9 in ( field R24 )
and
L838: [ R8 , R9 ] in R24
and
L839: [ R9 , R8 ] in R24;
L840: ((ex R17 being set st (R17 in C21 & R8 in R17 & (not R9 in R17))) or ((for R17 being set holds (R17 in C21 implies (R8 in R17 iff R9 in R17))) & [ R8 , R9 ] in R25)) by L776 , L838;
L841: ((ex R17 being set st (R17 in C21 & R9 in R17 & (not R8 in R17))) or ((for R17 being set holds (R17 in C21 implies (R9 in R17 iff R8 in R17))) & [ R9 , R8 ] in R25)) by L776 , L839;
L842:
now
given R17 being set such that
L843: R17 in C21
and
L844: R8 in R17
and
L845: (not R9 in R17);

given R18 being set such that
L846: R18 in C21
and
L847: R9 in R18
and
L848: (not R8 in R18);

L849: (R17 c= R18 or R18 c= R17) by L766 , L843 , L846;
thus L850: thesis by L849 , L844 , L845 , L847 , L848;
end;
thus L851: thesis by L842 , L774 , L777 , L836 , L837 , L840 , L841 , RELAT_2:def 4;
end;
L852: R24 is  connected
proof
let R8 being set;
let R9 being set;
assume that
L853: R8 in ( field R24 )
and
L854: R9 in ( field R24 )
and
L855: R8 <> R9;
L856:
now
assume L857: (for R16 being set holds (R16 in C21 implies (R8 in R16 iff R9 in R16)));
L858: ([ R8 , R9 ] in R25 or [ R9 , R8 ] in R25) by L775 , L777 , L853 , L854 , L855 , RELAT_2:def 6;
L859: (for R16 being set holds (R16 in C21 implies (R9 in R16 iff R8 in R16))) by L857;
thus L860: thesis by L859 , L776 , L777 , L853 , L854 , L857 , L858;
end;
thus L861: thesis by L856 , L776 , L777 , L853 , L854;
end;
L862: R24 is  well_founded
proof
let R15 being set;
assume that
L863: R15 c= ( field R24 )
and
L864: R15 <> ( {} );
defpred S21[ set ] means ( $1 /\ R15 ) <> ( {} );
consider R16 being set such that L865: (for R8 being set holds (R8 in R16 iff (R8 in C21 & S21[ R8 ]))) from XBOOLE_0:sch 1;
L866: R16 c= C21
proof
let R8 being set;
thus L867: thesis by L865;
end;
set D33 = the (Element of R15);
L868: D33 in ( union C21 ) by L764 , L777 , L863 , L864 , TARSKI:def 3;
consider R17 being set such that L869: D33 in R17 and L870: R17 in C21 by L868 , TARSKI:def 4;
L871: ( R17 /\ R15 ) <> ( {} ) by L864 , L869 , XBOOLE_0:def 4;
L872: R16 <> ( {} ) by L871 , L865 , L870;
consider R17 being set such that L873: R17 in R16 and L874: (for R18 being set holds (R18 in R16 implies R17 c= R18)) by L872 , L765 , L866;
L875: R17 in C21 by L865 , L873;
L876: ( R17 /\ R15 ) c= R17 by XBOOLE_1:17;
L877: R17 c= ( union R14 ) by L763 , L875 , ZFMISC_1:74;
L878: ( R17 /\ R15 ) <> ( {} ) by L865 , L873;
consider R8 being set such that L879: R8 in ( R17 /\ R15 ) and L880: (for R9 being set holds (R9 in ( R17 /\ R15 ) implies [ R8 , R9 ] in R25)) by L878 , L771 , L876 , L877 , WELLORD1:5 , XBOOLE_1:1;
take R8;
thus L881: R8 in R15 by L879 , XBOOLE_0:def 4;
assume L882: ( ( R24 -Seg R8 ) /\ R15 ) <> ( {} );
set D34 = the (Element of ( ( R24 -Seg R8 ) /\ R15 ));
L883: R8 in R17 by L879 , XBOOLE_0:def 4;
L884: D34 in ( R24 -Seg R8 ) by L882 , XBOOLE_0:def 4;
L885: D34 in R15 by L882 , XBOOLE_0:def 4;
L886: D34 <> R8 by L884 , WELLORD1:1;
L887: [ D34 , R8 ] in R24 by L884 , WELLORD1:1;
L888:
now
given R18 being set such that
L889: R18 in C21
and
L890: D34 in R18
and
L891: (not R8 in R18);

L892: ( R18 /\ R15 ) <> ( {} ) by L885 , L890 , XBOOLE_0:def 4;
L893: R18 in R16 by L892 , L865 , L889;
L894: R17 c= R18 by L893 , L874;
thus L895: contradiction by L894 , L883 , L891;
end;
L896: D34 in R17 by L888 , L776 , L875 , L883 , L887;
L897: [ D34 , R8 ] in R25 by L776 , L887 , L888;
L898: D34 in ( R17 /\ R15 ) by L885 , L896 , XBOOLE_0:def 4;
L899: [ R8 , D34 ] in R25 by L898 , L880;
L900: R8 in ( union R14 ) by L776 , L887;
L901: D34 in ( union R14 ) by L776 , L887;
thus L902: contradiction by L901 , L774 , L886 , L897 , L899 , L900 , RELAT_2:def 4;
end;
L903: R24 is  well-ordering by L862 , L787 , L792 , L835 , L852 , WELLORD1:def 4;
L904: R24 , ( RelIncl ( order_type_of R24 ) ) are_isomorphic  by L903 , WELLORD2:def 2;
L905: ( RelIncl ( order_type_of R24 ) ) , R24 are_isomorphic  by L904 , WELLORD1:40;
consider R22 being Function such that L906: R22 is_isomorphism_of ( RelIncl ( order_type_of R24 ) ) , R24 by L905 , WELLORD1:def 8;
L907: ( field ( RelIncl ( order_type_of R24 ) ) ) = ( order_type_of R24 ) by WELLORD2:def 1;
L908: ( dom R22 ) = ( order_type_of R24 ) by L907 , L906 , WELLORD1:def 7;
L909: ( rng R22 ) = ( union R14 ) by L777 , L906 , WELLORD1:def 7;
L910: R22 is  one-to-one by L906 , WELLORD1:def 7;
L911: (for R16 being set holds (for R8 being set holds ((R16 in C21 & R8 in R16) implies ( R24 -Seg R8 ) c= R16)))
proof
let R16 being set;
let R8 being set;
assume that
L912: R16 in C21
and
L913: R8 in R16;
let R9 being set;
assume L914: R9 in ( R24 -Seg R8 );
L915: [ R9 , R8 ] in R24 by L914 , WELLORD1:1;
L916:
now
given R17 being set such that
L917: R17 in C21
and
L918: R9 in R17
and
L919: (not R8 in R17);

L920: (R17 c= R16 or R16 c= R17) by L766 , L912 , L917;
thus L921: thesis by L920 , L913 , L918 , L919;
end;
thus L922: thesis by L916 , L776 , L912 , L913 , L915;
end;
L923: (for R1 being Ordinal holds (R1 in ( order_type_of R24 ) implies ( card R1 ) = ( card ( R24 -Seg ( R22 . R1 ) ) )))
proof
let R1 being Ordinal;
assume that
L924: R1 in ( order_type_of R24 );
L925: R1 , ( R24 -Seg ( R22 . R1 ) ) are_equipotent 
proof
take D35 = ( R22 | R1 );
L926: R1 c= ( dom R22 ) by L908 , L924 , ORDINAL1:def 2;
thus L927: (D35 is  one-to-one & ( dom D35 ) = R1) by L926 , L910 , FUNCT_1:52 , RELAT_1:62;
thus L928: ( rng D35 ) c= ( R24 -Seg ( R22 . R1 ) )
proof
let R8 being set;
assume L929: R8 in ( rng D35 );
consider R9 being set such that L930: R9 in ( dom D35 ) and L931: R8 = ( D35 . R9 ) by L929 , FUNCT_1:def 3;
reconsider D36 = R9 as Ordinal by L927 , L930;
L932: D36 in ( order_type_of R24 ) by L924 , L927 , L930 , ORDINAL1:10;
L933: D36 c= R1 by L927 , L930 , ORDINAL1:def 2;
L934: [ D36 , R1 ] in ( RelIncl ( order_type_of R24 ) ) by L933 , L924 , L932 , WELLORD2:def 1;
L935: R8 = ( R22 . D36 ) by L930 , L931 , FUNCT_1:47;
L936: R1 <> D36 by L927 , L930;
L937: [ R8 , ( R22 . R1 ) ] in R24 by L906 , L934 , L935 , WELLORD1:def 7;
L938: R8 <> ( R22 . R1 ) by L908 , L910 , L924 , L932 , L935 , L936 , FUNCT_1:def 4;
thus L939: thesis by L938 , L937 , WELLORD1:1;
end;

let R8 being set;
assume L940: R8 in ( R24 -Seg ( R22 . R1 ) );
L941: [ R8 , ( R22 . R1 ) ] in R24 by L940 , WELLORD1:1;
L942: R8 in ( union R14 ) by L941 , L776;
consider R9 being set such that L943: R9 in ( dom R22 ) and L944: R8 = ( R22 . R9 ) by L942 , L909 , FUNCT_1:def 3;
reconsider D37 = R9 as Ordinal by L908 , L943;
L945: [ D37 , R1 ] in ( RelIncl ( order_type_of R24 ) ) by L906 , L907 , L908 , L924 , L941 , L943 , L944 , WELLORD1:def 7;
L946: D37 c= R1 by L945 , L908 , L924 , L943 , WELLORD2:def 1;
L947: D37 <> R1 by L940 , L944 , WELLORD1:1;
L948: D37 c< R1 by L947 , L946 , XBOOLE_0:def 8;
thus L949: thesis by L948 , L943 , L944 , FUNCT_1:50 , ORDINAL1:11;
end;
thus L950: thesis by L925 , CARD_1:5;
end;
L951: ( order_type_of R24 ) c= R6
proof
let C22 being Ordinal;
assume L952: C22 in ( order_type_of R24 );
reconsider D38 = C22 as Ordinal;
L953: ( R22 . C22 ) in ( union R14 ) by L908 , L909 , L952 , FUNCT_1:def 3;
consider R16 being set such that L954: ( R22 . C22 ) in R16 and L955: R16 in C21 by L953 , L764 , TARSKI:def 4;
L956: ( card ( R24 -Seg ( R22 . C22 ) ) ) c= ( card R16 ) by L911 , L954 , L955 , CARD_1:11;
L957: ( card ( R24 -Seg ( R22 . C22 ) ) ) = ( card D38 ) by L923 , L952;
L958: ( card ( R24 -Seg ( R22 . C22 ) ) ) in R6 by L761 , L763 , L955 , L956 , ORDINAL1:12;
thus L959: thesis by L958 , L957 , L704;
end;
L960: ( order_type_of R24 ) , ( union R14 ) are_equipotent  by L908 , L909 , L910 , WELLORD2:def 4;
L961: ( card ( order_type_of R24 ) ) = ( card ( union R14 ) ) by L960 , CARD_1:5;
L962: ( card R6 ) = R6 by CARD_1:def 2;
thus L963: thesis by L962 , L951 , L961 , CARD_1:11;
end;
begin
registration
let C23 being Function;
cluster ( product C23 ) ->  functional;
coherence
proof
set D39 = ( product C23 );
let C24 being set;
assume L964: C24 in D39;
L965: (ex B9 being Function st (C24 = B9 & ( dom B9 ) = ( dom C23 ) & (for B10 being set holds (B10 in ( dom C23 ) implies ( B9 . B10 ) in ( C23 . B10 ))))) by L964 , L49;
thus L966: thesis by L965;
end;
end;
registration
let C25 being set;
let C26 being  with_non-empty_elements set;
cluster  ->  non-empty for (Function of C25 , C26);
coherence
proof
let C27 being (Function of C25 , C26);
thus L968: (not ( {} ) in ( rng C27 ));
end;
end;
registration
let C28 being  non-empty Function;
cluster ( product C28 ) -> non  empty;
coherence
proof
L970: (not ( {} ) in ( rng C28 ));
thus L971: thesis by L970 , L381;
end;
end;
theorem
L973: (for B11 , B12 , B13 , B14 being set holds (B11 <> B12 implies ( product ( (B11 , B12) --> ({ B13 } , { B14 }) ) ) = { ( (B11 , B12) --> (B13 , B14) ) }))
proof
let C29 , C30 , C31 , C32 being set;
assume that
L974: C29 <> C30;
set D40 = { ( (C29 , C30) --> (C31 , C32) ) };
set D41 = ( (C29 , C30) --> ({ C31 } , { C32 }) );
L975: ( dom D41 ) = { C29 , C30 } by FUNCT_4:62;
L976:
now
let R8 being set;
thus L977: (R8 in D40 implies (ex B15 being Function st (R8 = B15 & ( dom B15 ) = ( dom D41 ) & (for R8 being set holds (R8 in ( dom D41 ) implies ( B15 . R8 ) in ( D41 . R8 ))))))
proof
assume L978: R8 in D40;
take D42 = ( (C29 , C30) --> (C31 , C32) );
thus L979: R8 = D42 by L978 , TARSKI:def 1;
thus L980: ( dom D42 ) = ( dom D41 ) by L975 , FUNCT_4:62;
let R8 being set;
assume L981: R8 in ( dom D41 );
L982: (R8 = C29 or R8 = C30) by L981 , L975 , TARSKI:def 2;
L983: ( D42 . C29 ) = C31 by L974 , FUNCT_4:63;
L984: ( D41 . C29 ) = { C31 } by L974 , FUNCT_4:63;
L985: ( D42 . C30 ) = C32 by FUNCT_4:63;
L986: ( D41 . C30 ) = { C32 } by FUNCT_4:63;
thus L987: thesis by L986 , L982 , L983 , L984 , L985 , TARSKI:def 1;
end;

given C33 being Function such that
L988: R8 = C33
and
L989: ( dom C33 ) = ( dom D41 )
and
L990: (for R8 being set holds (R8 in ( dom D41 ) implies ( C33 . R8 ) in ( D41 . R8 )));

L991: C29 in ( dom D41 ) by L975 , TARSKI:def 2;
L992: C30 in ( dom D41 ) by L975 , TARSKI:def 2;
L993: ( C33 . C29 ) in ( D41 . C29 ) by L990 , L991;
L994: ( C33 . C30 ) in ( D41 . C30 ) by L990 , L992;
L995: ( D41 . C29 ) = { C31 } by L974 , FUNCT_4:63;
L996: ( D41 . C30 ) = { C32 } by FUNCT_4:63;
L997: ( C33 . C29 ) = C31 by L993 , L995 , TARSKI:def 1;
L998: ( C33 . C30 ) = C32 by L994 , L996 , TARSKI:def 1;
L999: C33 = ( (C29 , C30) --> (C31 , C32) ) by L998 , L975 , L989 , L997 , FUNCT_4:66;
thus L1000: R8 in D40 by L999 , L988 , TARSKI:def 1;
end;
thus L1001: thesis by L976 , L49;
end;
theorem
L1002: (for R8 being set holds (for R20 being Function holds (R8 in ( product R20 ) implies R8 is Function)));
begin
definition
let C34 being Function;
func sproduct C34 -> set means 
:L1003: (for R8 being set holds (R8 in it iff (ex R22 being Function st (R8 = R22 & ( dom R22 ) c= ( dom C34 ) & (for R8 being set holds (R8 in ( dom R22 ) implies ( R22 . R8 ) in ( C34 . R8 )))))));
existence
proof
defpred S22[ set ] means (ex R22 being Function st ($1 = R22 & ( dom R22 ) c= ( dom C34 ) & (for R8 being set holds (R8 in ( dom R22 ) implies ( R22 . R8 ) in ( C34 . R8 )))));
consider C35 being set such that L1004: (for R8 being set holds (R8 in C35 iff (R8 in ( PFuncs (( dom C34 ) , ( union ( rng C34 ) )) ) & S22[ R8 ]))) from XBOOLE_0:sch 1;
L1005:
now
let R8 being set;
thus L1006: (R8 in C35 implies (ex R22 being Function st (R8 = R22 & ( dom R22 ) c= ( dom C34 ) & (for R8 being set holds (R8 in ( dom R22 ) implies ( R22 . R8 ) in ( C34 . R8 )))))) by L1004;
given R22 being Function such that
L1007: R8 = R22
and
L1008: ( dom R22 ) c= ( dom C34 )
and
L1009: (for R8 being set holds (R8 in ( dom R22 ) implies ( R22 . R8 ) in ( C34 . R8 )));

L1010: ( rng R22 ) c= ( union ( rng C34 ) )
proof
let C36 being set;
assume L1011: C36 in ( rng R22 );
consider C37 being set such that L1012: C37 in ( dom R22 ) and L1013: C36 = ( R22 . C37 ) by L1011 , FUNCT_1:def 3;
L1014: ( R22 . C37 ) in ( C34 . C37 ) by L1009 , L1012;
L1015: ( C34 . C37 ) in ( rng C34 ) by L1008 , L1012 , FUNCT_1:def 3;
thus L1016: thesis by L1015 , L1013 , L1014 , TARSKI:def 4;
end;
L1017: R8 in ( PFuncs (( dom C34 ) , ( union ( rng C34 ) )) ) by L1010 , L1007 , L1008 , PARTFUN1:def 3;
thus L1018: R8 in C35 by L1017 , L1004 , L1007 , L1008 , L1009;
end;
thus L1019: thesis by L1005;
end;
uniqueness
proof
defpred S23[ set ] means (ex R22 being Function st ($1 = R22 & ( dom R22 ) c= ( dom C34 ) & (for R8 being set holds (R8 in ( dom R22 ) implies ( R22 . R8 ) in ( C34 . R8 )))));
let C38 , C39 being set;
assume that
L1020: (for R8 being set holds (R8 in C38 iff S23[ R8 ]))
and
L1021: (for R8 being set holds (R8 in C39 iff S23[ R8 ]));
thus L1022: thesis from XBOOLE_0:sch 2(L1020 , L1021);
end;
end;
registration
let C40 being Function;
cluster ( sproduct C40 ) ->  functional non  empty;
coherence
proof
defpred S24[ set ] means (ex R22 being Function st ($1 = R22 & ( dom R22 ) c= ( dom C40 ) & (for R8 being set holds (R8 in ( dom R22 ) implies ( R22 . R8 ) in ( C40 . R8 )))));
consider C41 being set such that L1024: (for R8 being set holds (R8 in C41 iff (R8 in ( PFuncs (( dom C40 ) , ( union ( rng C40 ) )) ) & S24[ R8 ]))) from XBOOLE_0:sch 1;
L1025: ( {} ) is (PartFunc of ( dom C40 ) , ( union ( rng C40 ) )) by RELSET_1:12;
L1026: ( {} ) in ( PFuncs (( dom C40 ) , ( union ( rng C40 ) )) ) by L1025 , PARTFUN1:45;
L1027: ( dom ( {} ) ) c= ( dom C40 ) by XBOOLE_1:2;
L1028: (for R8 being set holds (R8 in ( dom ( {} ) ) implies ( ( {} ) . R8 ) in ( C40 . R8 )));
L1029:
now
let C42 being set;
assume L1030: C42 in C41;
L1031: (ex R22 being Function st (C42 = R22 & ( dom R22 ) c= ( dom C40 ) & (for R8 being set holds (R8 in ( dom R22 ) implies ( R22 . R8 ) in ( C40 . R8 ))))) by L1030 , L1024;
thus L1032: C42 is Function by L1031;
end;
reconsider D43 = C41 as  functional non  empty set by L1029 , L1024 , L1026 , L1027 , L1028 , FUNCT_1:def 13;
L1033:
now
let R8 being set;
thus L1034: (R8 in D43 implies (ex R22 being Function st (R8 = R22 & ( dom R22 ) c= ( dom C40 ) & (for R8 being set holds (R8 in ( dom R22 ) implies ( R22 . R8 ) in ( C40 . R8 )))))) by L1024;
given R22 being Function such that
L1035: R8 = R22
and
L1036: ( dom R22 ) c= ( dom C40 )
and
L1037: (for R8 being set holds (R8 in ( dom R22 ) implies ( R22 . R8 ) in ( C40 . R8 )));

L1038: ( rng R22 ) c= ( union ( rng C40 ) )
proof
let C43 being set;
assume L1039: C43 in ( rng R22 );
consider C44 being set such that L1040: C44 in ( dom R22 ) and L1041: C43 = ( R22 . C44 ) by L1039 , FUNCT_1:def 3;
L1042: ( R22 . C44 ) in ( C40 . C44 ) by L1037 , L1040;
L1043: ( C40 . C44 ) in ( rng C40 ) by L1036 , L1040 , FUNCT_1:def 3;
thus L1044: thesis by L1043 , L1041 , L1042 , TARSKI:def 4;
end;
L1045: R8 in ( PFuncs (( dom C40 ) , ( union ( rng C40 ) )) ) by L1038 , L1035 , L1036 , PARTFUN1:def 3;
thus L1046: R8 in D43 by L1045 , L1024 , L1035 , L1036 , L1037;
end;
thus L1047: thesis by L1033 , L1003;
end;
end;
theorem
L1049: (for R20 being Function holds (for R22 being Function holds (R22 in ( sproduct R20 ) implies (( dom R22 ) c= ( dom R20 ) & (for R8 being set holds (R8 in ( dom R22 ) implies ( R22 . R8 ) in ( R20 . R8 )))))))
proof
let R20 being Function;
let R22 being Function;
assume L1050: R22 in ( sproduct R20 );
L1051: (ex R23 being Function st (R22 = R23 & ( dom R23 ) c= ( dom R20 ) & (for R8 being set holds (R8 in ( dom R23 ) implies ( R23 . R8 ) in ( R20 . R8 ))))) by L1050 , L1003;
thus L1052: thesis by L1051;
end;
theorem
L1053: (for R20 being Function holds ( {} ) in ( sproduct R20 ))
proof
let R20 being Function;
L1054: ( dom ( {} ) ) c= ( dom R20 ) by XBOOLE_1:2;
L1055: (for R8 being set holds (R8 in ( dom ( {} ) ) implies ( ( {} ) . R8 ) in ( R20 . R8 )));
thus L1056: thesis by L1055 , L1054 , L1003;
end;
registration
let R20 being Function;
cluster  empty for (Element of ( sproduct R20 ));
existence
proof
L1057: ( {} ) in ( sproduct R20 ) by L1053;
thus L1058: thesis by L1057;
end;
end;
theorem
L1060: (for R20 being Function holds ( product R20 ) c= ( sproduct R20 ))
proof
let R20 being Function;
let R8 being set;
assume L1061: R8 in ( product R20 );
L1062: (ex R22 being Function st (R8 = R22 & ( dom R22 ) = ( dom R20 ) & (for R8 being set holds (R8 in ( dom R20 ) implies ( R22 . R8 ) in ( R20 . R8 ))))) by L1061 , L49;
thus L1063: thesis by L1062 , L1003;
end;
theorem
L1064: (for R8 being set holds (for R20 being Function holds (R8 in ( sproduct R20 ) implies R8 is (PartFunc of ( dom R20 ) , ( union ( rng R20 ) )))))
proof
let R8 being set;
let R20 being Function;
assume L1065: R8 in ( sproduct R20 );
consider R22 being Function such that L1066: R8 = R22 and L1067: ( dom R22 ) c= ( dom R20 ) and L1068: (for R8 being set holds (R8 in ( dom R22 ) implies ( R22 . R8 ) in ( R20 . R8 ))) by L1065 , L1003;
L1069: ( rng R22 ) c= ( union ( rng R20 ) )
proof
let C45 being set;
assume L1070: C45 in ( rng R22 );
consider C46 being set such that L1071: C46 in ( dom R22 ) and L1072: C45 = ( R22 . C46 ) by L1070 , FUNCT_1:def 3;
L1073: ( R22 . C46 ) in ( R20 . C46 ) by L1068 , L1071;
L1074: ( R20 . C46 ) in ( rng R20 ) by L1067 , L1071 , FUNCT_1:def 3;
thus L1075: thesis by L1074 , L1072 , L1073 , TARSKI:def 4;
end;
thus L1076: thesis by L1069 , L1066 , L1067 , RELSET_1:4;
end;
theorem
L1077: (for R20 being Function holds (for R22 being Function holds (for R23 being Function holds ((R22 in ( product R20 ) & R23 in ( sproduct R20 )) implies ( R22 +* R23 ) in ( product R20 )))))
proof
let R20 being Function;
let R22 being Function;
let R23 being Function;
assume L1078: R22 in ( product R20 );
L1079: ( dom R22 ) = ( dom R20 ) by L1078 , L125;
assume L1080: R23 in ( sproduct R20 );
L1081: ( ( dom R22 ) \/ ( dom R23 ) ) = ( dom R20 ) by L1080 , L1079 , L1049 , XBOOLE_1:12;
L1082: ( dom ( R22 +* R23 ) ) = ( dom R20 ) by L1081 , FUNCT_4:def 1;
L1083:
now
let R8 being set;
assume L1084: R8 in ( dom R20 );
L1085: ( ( ( dom R22 ) \ ( dom R23 ) ) \/ ( dom R23 ) ) = ( dom R20 ) by L1081 , XBOOLE_1:39;
L1086:
now
per cases  by L1084 , L1085 , XBOOLE_0:def 3;
case L1087: R8 in ( ( dom R22 ) \ ( dom R23 ) );
L1088: (not R8 in ( dom R23 )) by L1087 , XBOOLE_0:def 5;
thus L1089: (R8 in ( dom R20 ) & ( ( R22 +* R23 ) . R8 ) = ( R22 . R8 )) by L1088 , L1079 , L1087 , FUNCT_4:11;
end;
case L1090: R8 in ( dom R23 );
thus L1091: ( ( R22 +* R23 ) . R8 ) = ( R23 . R8 ) by L1090 , FUNCT_4:13;
end;
end;
thus L1093: ( ( R22 +* R23 ) . R8 ) in ( R20 . R8 ) by L1086 , L1078 , L1080 , L125 , L1049;
end;
thus L1094: thesis by L1083 , L1082 , L125;
end;
theorem
L1095: (for R20 being Function holds (for R22 being Function holds (( product R20 ) <> ( {} ) implies (R22 in ( sproduct R20 ) iff (ex R23 being Function st (R23 in ( product R20 ) & R22 c= R23))))))
proof
let R20 being Function;
let R22 being Function;
assume L1096: ( product R20 ) <> ( {} );
thus L1097: (R22 in ( sproduct R20 ) implies (ex R23 being Function st (R23 in ( product R20 ) & R22 c= R23)))
proof
assume L1098: R22 in ( sproduct R20 );
set D44 = the (Element of ( product R20 ));
reconsider D45 = D44 as Function;
take ( D45 +* R22 );
thus L1099: ( D45 +* R22 ) in ( product R20 ) by L1096 , L1098 , L1077;
thus L1100: thesis by FUNCT_4:25;
end;

given R23 being Function such that
L1101: R23 in ( product R20 )
and
L1102: R22 c= R23;

L1103: ( dom R23 ) = ( dom R20 ) by L1101 , L125;
L1104: ( dom R22 ) c= ( dom R23 ) by L1102 , RELAT_1:11;
L1105:
now
let R8 being set;
assume L1106: R8 in ( dom R22 );
L1107: ( R22 . R8 ) = ( R23 . R8 ) by L1106 , L1102 , GRFUNC_1:2;
thus L1108: ( R22 . R8 ) in ( R20 . R8 ) by L1107 , L1101 , L1103 , L1104 , L1106 , L125;
end;
thus L1109: thesis by L1105 , L1103 , L1104 , L1003;
end;
theorem
L1110: (for R20 being Function holds ( sproduct R20 ) c= ( PFuncs (( dom R20 ) , ( union ( rng R20 ) )) ))
proof
let R20 being Function;
let R8 being set;
assume L1111: R8 in ( sproduct R20 );
L1112: R8 is (PartFunc of ( dom R20 ) , ( union ( rng R20 ) )) by L1111 , L1064;
thus L1113: thesis by L1112 , PARTFUN1:45;
end;
theorem
L1114: (for R20 being Function holds (for R22 being Function holds (R20 c= R22 implies ( sproduct R20 ) c= ( sproduct R22 ))))
proof
let R20 being Function;
let R22 being Function;
assume L1115: R20 c= R22;
L1116: ( dom R20 ) c= ( dom R22 ) by L1115 , GRFUNC_1:2;
let R9 being set;
assume L1117: R9 in ( sproduct R20 );
consider R23 being Function such that L1118: R9 = R23 and L1119: ( dom R23 ) c= ( dom R20 ) and L1120: (for R8 being set holds (R8 in ( dom R23 ) implies ( R23 . R8 ) in ( R20 . R8 ))) by L1117 , L1003;
L1121: ( dom R23 ) c= ( dom R22 ) by L1116 , L1119 , XBOOLE_1:1;
L1122:
now
let R8 being set;
assume L1123: R8 in ( dom R23 );
L1124: ( R20 . R8 ) = ( R22 . R8 ) by L1123 , L1115 , L1119 , GRFUNC_1:2;
thus L1125: ( R23 . R8 ) in ( R22 . R8 ) by L1124 , L1120 , L1123;
end;
thus L1126: thesis by L1122 , L1118 , L1121 , L1003;
end;
theorem
L1127: ( sproduct ( {} ) ) = { ( {} ) }
proof
L1128: ( sproduct ( {} ) ) c= ( PFuncs (( {} ) , ( {} )) ) by L1110 , RELAT_1:38 , ZFMISC_1:2;
thus L1129: ( sproduct ( {} ) ) c= { ( {} ) } by L1128 , PARTFUN1:48;
let C47 being set;
assume L1130: C47 in { ( {} ) };
L1131: C47 = ( {} ) by L1130 , TARSKI:def 1;
thus L1132: thesis by L1131 , L1053;
end;
theorem
L1133: (for R29 being set holds (for R30 being set holds ( PFuncs (R29 , R30) ) = ( sproduct ( R29 --> R30 ) )))
proof
let R29 being set;
let R30 being set;
L1134:
now
per cases ;
case L1135: R29 = ( {} );
L1136: ( R29 --> R30 ) = ( ( {} ) --> R30 ) by L1135;
thus L1137: thesis by L1136 , L1135 , L1127 , PARTFUN1:48;
end;
case L1138: R29 <> ( {} );
L1139: ( rng ( R29 --> R30 ) ) = { R30 } by L1138 , FUNCOP_1:8;
L1140: ( dom ( R29 --> R30 ) ) = R29 by FUNCOP_1:13;
L1141: R30 = ( union ( rng ( R29 --> R30 ) ) ) by L1139 , ZFMISC_1:25;
thus L1142: ( PFuncs (R29 , R30) ) c= ( sproduct ( R29 --> R30 ) )
proof
let R8 being set;
assume L1143: R8 in ( PFuncs (R29 , R30) );
consider C48 being Function such that L1144: R8 = C48 and L1145: ( dom C48 ) c= R29 and L1146: ( rng C48 ) c= R30 by L1143 , PARTFUN1:def 3;
L1147: ( dom C48 ) c= ( dom ( R29 --> R30 ) ) by L1145 , FUNCOP_1:13;
L1148:
now
let R8 being set;
assume L1149: R8 in ( dom C48 );
L1150: ( C48 . R8 ) in ( rng C48 ) by L1149 , FUNCT_1:def 3;
L1151: ( C48 . R8 ) in R30 by L1150 , L1146;
thus L1152: ( C48 . R8 ) in ( ( R29 --> R30 ) . R8 ) by L1151 , L1145 , L1149 , FUNCOP_1:7;
end;
thus L1153: thesis by L1148 , L1144 , L1147 , L1003;
end;

thus L1154: ( sproduct ( R29 --> R30 ) ) c= ( PFuncs (R29 , R30) ) by L1140 , L1141 , L1110;
end;
end;
thus L1156: thesis by L1134 , XBOOLE_0:def 10;
end;
theorem
L1157: (for B16 , B17 being non  empty set holds (for B18 being (Function of B16 , B17) holds ( sproduct B18 ) = ( sproduct ( B18 | { B19 where B19 is (Element of B16) : ( B18 . B19 ) <> ( {} ) } ) )))
proof
let C49 , C50 being non  empty set;
let C51 being (Function of C49 , C50);
set D46 = { B20 where B20 is (Element of C49) : ( C51 . B20 ) <> ( {} ) };
thus L1158: ( sproduct C51 ) c= ( sproduct ( C51 | D46 ) )
proof
let R8 being set;
assume L1159: R8 in ( sproduct C51 );
consider R22 being Function such that L1160: R8 = R22 and L1161: ( dom R22 ) c= ( dom C51 ) and L1162: (for R8 being set holds (R8 in ( dom R22 ) implies ( R22 . R8 ) in ( C51 . R8 ))) by L1159 , L1003;
L1163:
now
let R8 being set;
assume L1164: R8 in ( dom R22 );
reconsider D47 = R8 as (Element of C49) by L1164 , L1161 , FUNCT_2:def 1;
L1165: ( C51 . D47 ) <> ( {} ) by L1162 , L1164;
thus L1166: R8 in D46 by L1165;
end;
L1167:
now
let R8 being set;
assume L1168: R8 in ( dom R22 );
L1169: R8 in D46 by L1168 , L1163;
thus L1170: R8 in ( ( dom C51 ) /\ D46 ) by L1169 , L1161 , L1168 , XBOOLE_0:def 4;
end;
L1171: ( dom R22 ) c= ( dom ( C51 | D46 ) )
proof
let R8 being set;
assume L1172: R8 in ( dom R22 );
L1173: R8 in ( ( dom C51 ) /\ D46 ) by L1172 , L1167;
thus L1174: thesis by L1173 , RELAT_1:61;
end;
L1175:
now
let R8 being set;
assume L1176: R8 in ( dom R22 );
L1177: ( R22 . R8 ) in ( C51 . R8 ) by L1176 , L1162;
thus L1178: ( R22 . R8 ) in ( ( C51 | D46 ) . R8 ) by L1177 , L1167 , L1176 , FUNCT_1:48;
end;
thus L1179: thesis by L1175 , L1160 , L1171 , L1003;
end;

thus L1180: thesis by L1114 , RELAT_1:59;
end;
theorem
L1181: (for R8 being set holds (for R9 being set holds (for R20 being Function holds ((R8 in ( dom R20 ) & R9 in ( R20 . R8 )) implies ( R8 .--> R9 ) in ( sproduct R20 )))))
proof
let R8 being set;
let R9 being set;
let R20 being Function;
assume that
L1182: R8 in ( dom R20 )
and
L1183: R9 in ( R20 . R8 );
L1184: ( dom ( R8 .--> R9 ) ) = { R8 } by FUNCOP_1:13;
L1185: ( dom ( R8 .--> R9 ) ) c= ( dom R20 ) by L1184 , L1182 , ZFMISC_1:31;
L1186:
now
let R12 being set;
assume L1187: R12 in ( dom ( R8 .--> R9 ) );
L1188: R12 = R8 by L1187 , TARSKI:def 1;
thus L1189: ( ( R8 .--> R9 ) . R12 ) in ( R20 . R12 ) by L1188 , L1183 , FUNCOP_1:72;
end;
thus L1190: thesis by L1186 , L1185 , L1003;
end;
theorem
L1191: (for R20 being Function holds (( sproduct R20 ) = { ( {} ) } iff (for R8 being set holds (R8 in ( dom R20 ) implies ( R20 . R8 ) = ( {} )))))
proof
let R20 being Function;
thus L1192: (( sproduct R20 ) = { ( {} ) } implies (for R8 being set holds (R8 in ( dom R20 ) implies ( R20 . R8 ) = ( {} ))))
proof
assume L1193: ( sproduct R20 ) = { ( {} ) };
let R8 being set;
assume L1194: R8 in ( dom R20 );
assume L1195: ( R20 . R8 ) <> ( {} );
set D48 = the (Element of ( R20 . R8 ));
L1196: ( R8 .--> D48 ) in ( sproduct R20 ) by L1194 , L1195 , L1181;
thus L1197: contradiction by L1196 , L1193 , TARSKI:def 1;
end;

assume L1198: (for R8 being set holds (R8 in ( dom R20 ) implies ( R20 . R8 ) = ( {} )));
L1199:
now
let R8 being set;
thus L1200: (R8 in ( sproduct R20 ) implies R8 = ( {} ))
proof
assume L1201: R8 in ( sproduct R20 );
consider R22 being Function such that L1202: R8 = R22 and L1203: ( dom R22 ) c= ( dom R20 ) and L1204: (for R9 being set holds (R9 in ( dom R22 ) implies ( R22 . R9 ) in ( R20 . R9 ))) by L1201 , L1003;
assume L1205: R8 <> ( {} );
set D49 = the (Element of ( dom R22 ));
L1206: ( R20 . D49 ) <> ( {} ) by L1202 , L1204 , L1205;
L1207: D49 in ( dom R20 ) by L1202 , L1203 , L1205 , TARSKI:def 3;
thus L1208: contradiction by L1207 , L1198 , L1206;
end;

thus L1209: (R8 = ( {} ) implies R8 in ( sproduct R20 )) by L1053;
end;
thus L1210: thesis by L1199 , TARSKI:def 1;
end;
theorem
L1211: (for R20 being Function holds (for R29 being set holds ((R29 c= ( sproduct R20 ) & (for B21 , B22 being Function holds ((B21 in R29 & B22 in R29) implies B21 tolerates B22))) implies ( union R29 ) in ( sproduct R20 ))))
proof
let R20 being Function;
let R29 being set;
assume that
L1212: R29 c= ( sproduct R20 )
and
L1213: (for B23 , B24 being Function holds ((B23 in R29 & B24 in R29) implies B23 tolerates B24));
reconsider D50 = ( union R29 ) as Function by L1212 , L1213 , PARTFUN1:78;
L1214: ( dom D50 ) c= ( dom R20 )
proof
let R8 being set;
assume L1215: R8 in ( dom D50 );
consider R9 being set such that L1216: [ R8 , R9 ] in D50 by L1215 , XTUPLE_0:def 12;
consider C52 being set such that L1217: [ R8 , R9 ] in C52 and L1218: C52 in R29 by L1216 , TARSKI:def 4;
reconsider D51 = C52 as Function by L1212 , L1218;
L1219: R8 in ( dom D51 ) by L1217 , XTUPLE_0:def 12;
L1220: ( dom D51 ) c= ( dom R20 ) by L1212 , L1218 , L1049;
thus L1221: thesis by L1220 , L1219;
end;
L1222:
now
let R8 being set;
assume L1223: R8 in ( dom D50 );
consider R9 being set such that L1224: [ R8 , R9 ] in D50 by L1223 , XTUPLE_0:def 12;
consider C53 being set such that L1225: [ R8 , R9 ] in C53 and L1226: C53 in R29 by L1224 , TARSKI:def 4;
reconsider D52 = C53 as Function by L1212 , L1226;
L1227: R8 in ( dom D52 ) by L1225 , XTUPLE_0:def 12;
L1228: ( D52 . R8 ) = R9 by L1225 , FUNCT_1:1
.= ( D50 . R8 ) by L1224 , FUNCT_1:1;
thus L1229: ( D50 . R8 ) in ( R20 . R8 ) by L1228 , L1212 , L1226 , L1227 , L1049;
end;
thus L1230: thesis by L1222 , L1214 , L1003;
end;
theorem
L1231: (for R20 being Function holds (for R22 being Function holds (for R23 being Function holds ((R22 tolerates R23 & R22 in ( sproduct R20 ) & R23 in ( sproduct R20 )) implies ( R22 \/ R23 ) in ( sproduct R20 )))))
proof
let R20 being Function;
let R22 being Function;
let R23 being Function;
assume that
L1232: R22 tolerates R23
and
L1233: R22 in ( sproduct R20 )
and
L1234: R23 in ( sproduct R20 );
L1235: { R22 , R23 } c= ( sproduct R20 ) by L1233 , L1234 , ZFMISC_1:32;
L1236:
now
let C54 , C55 being Function;
assume that
L1237: C54 in { R22 , R23 }
and
L1238: C55 in { R22 , R23 };
L1239: (C54 = R22 or C54 = R23) by L1237 , TARSKI:def 2;
L1240: (C55 = R22 or C55 = R23) by L1238 , TARSKI:def 2;
thus L1241: C54 tolerates C55 by L1240 , L1232 , L1239;
end;
L1242: ( union { R22 , R23 } ) = ( R22 \/ R23 ) by ZFMISC_1:75;
thus L1243: thesis by L1242 , L1235 , L1236 , L1211;
end;
theorem
L1244: (for R8 being set holds (for R20 being Function holds (for R23 being Function holds ((R8 c= R23 & R23 in ( sproduct R20 )) implies R8 in ( sproduct R20 )))))
proof
let R8 being set;
let R20 being Function;
let R23 being Function;
assume that
L1245: R8 c= R23
and
L1246: R23 in ( sproduct R20 );
reconsider D53 = R8 as Function by L1245;
L1247: ( dom D53 ) c= ( dom R23 ) by L1245 , GRFUNC_1:2;
L1248: ( dom R23 ) c= ( dom R20 ) by L1246 , L1049;
L1249: ( dom D53 ) c= ( dom R20 ) by L1248 , L1247 , XBOOLE_1:1;
L1250:
now
let R8 being set;
assume L1251: R8 in ( dom D53 );
L1252: ( R23 . R8 ) in ( R20 . R8 ) by L1251 , L1246 , L1247 , L1049;
thus L1253: ( D53 . R8 ) in ( R20 . R8 ) by L1252 , L1245 , L1251 , GRFUNC_1:2;
end;
thus L1254: thesis by L1250 , L1249 , L1003;
end;
theorem
L1255: (for R20 being Function holds (for R22 being Function holds (for R29 being set holds (R22 in ( sproduct R20 ) implies ( R22 | R29 ) in ( sproduct R20 ))))) by L1244 , RELAT_1:59;
theorem
L1256: (for R20 being Function holds (for R22 being Function holds (for R29 being set holds (R22 in ( sproduct R20 ) implies ( R22 | R29 ) in ( sproduct ( R20 | R29 ) )))))
proof
let R20 being Function;
let R22 being Function;
let R29 being set;
L1257: ( dom ( R22 | R29 ) ) = ( ( dom R22 ) /\ R29 ) by RELAT_1:61;
L1258: ( dom ( R20 | R29 ) ) = ( ( dom R20 ) /\ R29 ) by RELAT_1:61;
assume L1259: R22 in ( sproduct R20 );
L1260: ( dom ( R22 | R29 ) ) c= ( dom ( R20 | R29 ) ) by L1259 , L1257 , L1258 , L1049 , XBOOLE_1:26;
L1261:
now
let R8 being set;
assume L1262: R8 in ( dom ( R22 | R29 ) );
L1263: ( ( R22 | R29 ) . R8 ) = ( R22 . R8 ) by L1262 , FUNCT_1:47;
L1264: ( ( R20 | R29 ) . R8 ) = ( R20 . R8 ) by L1260 , L1262 , FUNCT_1:47;
L1265: R8 in ( dom R22 ) by L1257 , L1262 , XBOOLE_0:def 4;
thus L1266: ( ( R22 | R29 ) . R8 ) in ( ( R20 | R29 ) . R8 ) by L1265 , L1259 , L1263 , L1264 , L1049;
end;
thus L1267: thesis by L1261 , L1260 , L1003;
end;
theorem
L1268: (for R20 being Function holds (for R22 being Function holds (for R23 being Function holds (R23 in ( sproduct ( R20 +* R22 ) ) implies (ex B25 , B26 being Function st (B25 in ( sproduct R20 ) & B26 in ( sproduct R22 ) & R23 = ( B25 +* B26 )))))))
proof
let R20 being Function;
let R22 being Function;
let R23 being Function;
assume L1269: R23 in ( sproduct ( R20 +* R22 ) );
take ( R23 | ( ( dom R20 ) \ ( dom R22 ) ) );
take ( R23 | ( dom R22 ) );
L1270: ( R23 | ( ( dom R20 ) \ ( dom R22 ) ) ) in ( sproduct ( ( R20 +* R22 ) | ( ( dom R20 ) \ ( dom R22 ) ) ) ) by L1269 , L1256;
L1271: ( sproduct ( ( R20 +* R22 ) | ( ( dom R20 ) \ ( dom R22 ) ) ) ) c= ( sproduct R20 ) by L1114 , FUNCT_4:24;
thus L1272: ( R23 | ( ( dom R20 ) \ ( dom R22 ) ) ) in ( sproduct R20 ) by L1271 , L1270;
L1273: ( ( R20 +* R22 ) | ( dom R22 ) ) = R22 by FUNCT_4:23;
thus L1274: ( R23 | ( dom R22 ) ) in ( sproduct R22 ) by L1273 , L1269 , L1256;
L1275: ( dom R23 ) c= ( dom ( R20 +* R22 ) ) by L1269 , L1049;
L1276: ( dom R23 ) c= ( ( dom R20 ) \/ ( dom R22 ) ) by L1275 , FUNCT_4:def 1;
L1277: ( dom R23 ) c= ( ( ( dom R20 ) \ ( dom R22 ) ) \/ ( dom R22 ) ) by L1276 , XBOOLE_1:39;
thus L1278: thesis by L1277 , FUNCT_4:70;
end;
theorem
L1279: (for R20 being Function holds (for R22 being Function holds (for B27 , B28 being Function holds ((( dom R22 ) misses ( ( dom B27 ) \ ( dom B28 ) ) & B27 in ( sproduct R20 ) & B28 in ( sproduct R22 )) implies ( B27 +* B28 ) in ( sproduct ( R20 +* R22 ) )))))
proof
let R20 being Function;
let R22 being Function;
let C56 , C57 being Function;
assume that
L1280: ( dom R22 ) misses ( ( dom C56 ) \ ( dom C57 ) )
and
L1281: C56 in ( sproduct R20 )
and
L1282: C57 in ( sproduct R22 );
set D54 = ( C56 +* C57 );
L1283: ( dom C56 ) c= ( dom R20 ) by L1281 , L1049;
L1284: ( dom C57 ) c= ( dom R22 ) by L1282 , L1049;
L1285: ( ( dom C56 ) \/ ( dom C57 ) ) c= ( ( dom R20 ) \/ ( dom R22 ) ) by L1284 , L1283 , XBOOLE_1:13;
L1286: ( dom D54 ) = ( ( dom C56 ) \/ ( dom C57 ) ) by FUNCT_4:def 1;
L1287: ( dom D54 ) c= ( dom ( R20 +* R22 ) ) by L1286 , L1285 , FUNCT_4:def 1;
L1288: (for R8 being set holds (R8 in ( dom D54 ) implies ( D54 . R8 ) in ( ( R20 +* R22 ) . R8 )))
proof
let R8 being set;
assume L1289: R8 in ( dom D54 );
L1290: R8 in ( dom ( R20 +* R22 ) ) by L1289 , L1287;
L1291: R8 in ( ( dom R20 ) \/ ( dom R22 ) ) by L1290 , FUNCT_4:def 1;
L1292: R8 in ( ( ( dom C56 ) \ ( dom C57 ) ) \/ ( dom C57 ) ) by L1286 , L1289 , XBOOLE_1:39;
L1293: (R8 in ( ( dom C56 ) \ ( dom C57 ) ) or R8 in ( dom C57 )) by L1292 , XBOOLE_0:def 3;
L1294:
now
per cases ;
case L1295: R8 in ( dom R22 );
L1296: ( D54 . R8 ) = ( C57 . R8 ) by L1295 , L1280 , L1286 , L1289 , L1293 , FUNCT_4:def 1 , XBOOLE_0:3;
thus L1297: ( D54 . R8 ) in ( R22 . R8 ) by L1296 , L1280 , L1282 , L1293 , L1295 , L1049 , XBOOLE_0:3;
end;
case L1298: (not R8 in ( dom R22 ));
L1299: (not R8 in ( dom C57 )) by L1298 , L1284;
L1300: ( D54 . R8 ) = ( C56 . R8 ) by L1299 , L1286 , L1289 , FUNCT_4:def 1;
L1301: R8 in ( dom C56 ) by L1286 , L1289 , L1299 , XBOOLE_0:def 3;
thus L1302: ( D54 . R8 ) in ( R20 . R8 ) by L1301 , L1281 , L1300 , L1049;
end;
end;
thus L1304: thesis by L1294 , L1291 , FUNCT_4:def 1;
end;
thus L1305: thesis by L1288 , L1287 , L1003;
end;
theorem
L1306: (for R20 being Function holds (for R22 being Function holds (for B29 , B30 being Function holds ((( dom B29 ) misses ( ( dom R22 ) \ ( dom B30 ) ) & B29 in ( sproduct R20 ) & B30 in ( sproduct R22 )) implies ( B29 +* B30 ) in ( sproduct ( R20 +* R22 ) )))))
proof
let R20 being Function;
let R22 being Function;
let C58 , C59 being Function;
assume L1307: ( dom C58 ) misses ( ( dom R22 ) \ ( dom C59 ) );
L1308: ( dom R22 ) misses ( ( dom C58 ) \ ( dom C59 ) ) by L1307 , XBOOLE_1:81;
thus L1309: thesis by L1308 , L1279;
end;
theorem
L1310: (for R20 being Function holds (for R22 being Function holds (for R23 being Function holds ((R22 in ( sproduct R20 ) & R23 in ( sproduct R20 )) implies ( R22 +* R23 ) in ( sproduct R20 )))))
proof
let R20 being Function;
let R22 being Function;
let R23 being Function;
assume that
L1311: R22 in ( sproduct R20 )
and
L1312: R23 in ( sproduct R20 );
L1313: ( dom R22 ) c= ( dom R20 ) by L1311 , L1049;
L1314: ( dom R23 ) c= ( dom R20 ) by L1312 , L1049;
L1315: ( ( dom R22 ) \/ ( dom R23 ) ) c= ( dom R20 ) by L1314 , L1313 , XBOOLE_1:8;
L1316: ( dom ( R22 +* R23 ) ) c= ( dom R20 ) by L1315 , FUNCT_4:def 1;
L1317:
now
let R8 being set;
assume L1318: R8 in ( dom ( R22 +* R23 ) );
L1319: R8 in ( ( dom R22 ) \/ ( dom R23 ) ) by L1318 , FUNCT_4:def 1;
L1320: R8 in ( ( ( dom R22 ) \ ( dom R23 ) ) \/ ( dom R23 ) ) by L1319 , XBOOLE_1:39;
L1321:
now
per cases  by L1320 , XBOOLE_0:def 3;
suppose L1322: R8 in ( dom R23 );

L1323: ( R23 . R8 ) in ( R20 . R8 ) by L1322 , L1312 , L1049;
thus L1324: ( ( R22 +* R23 ) . R8 ) in ( R20 . R8 ) by L1323 , L1322 , FUNCT_4:13;
end;
suppose L1325: R8 in ( ( dom R22 ) \ ( dom R23 ) );

L1326: ( R22 . R8 ) in ( R20 . R8 ) by L1325 , L1311 , L1049;
L1327: (not R8 in ( dom R23 )) by L1325 , XBOOLE_0:def 5;
thus L1328: ( ( R22 +* R23 ) . R8 ) in ( R20 . R8 ) by L1327 , L1326 , FUNCT_4:11;
end;
end;
thus L1330: ( ( R22 +* R23 ) . R8 ) in ( R20 . R8 ) by L1321;
end;
thus L1331: thesis by L1317 , L1316 , L1003;
end;
theorem
L1332: (for R20 being Function holds (for B31 , B32 , B33 , B34 being set holds ((B31 in ( dom R20 ) & B33 in ( R20 . B31 ) & B32 in ( dom R20 ) & B34 in ( R20 . B32 )) implies ( (B31 , B32) --> (B33 , B34) ) in ( sproduct R20 ))))
proof
let R20 being Function;
let C60 , C61 , C62 , C63 being set;
assume that
L1333: C60 in ( dom R20 )
and
L1334: C62 in ( R20 . C60 );
L1335: ( C60 .--> C62 ) in ( sproduct R20 ) by L1333 , L1334 , L1181;
assume that
L1336: C61 in ( dom R20 )
and
L1337: C63 in ( R20 . C61 );
L1338: ( C61 .--> C63 ) in ( sproduct R20 ) by L1336 , L1337 , L1181;
L1339: ( (C60 , C61) --> (C62 , C63) ) = ( ( C60 .--> C62 ) +* ( C61 .--> C63 ) ) by FUNCT_4:def 4;
thus L1340: thesis by L1339 , L1335 , L1338 , L1310;
end;
begin
definition
let C64 being set;
attr C64 is  with_common_domain
means
:L1341: (for B35 , B36 being Function holds ((B35 in C64 & B36 in C64) implies ( dom B35 ) = ( dom B36 )));
end;
registration
cluster  with_common_domain  functional non  empty for set;
existence
proof
set D55 = the Function;
take D56 = { D55 };
L1343: (for B37 , B38 being Function holds ((B37 in D56 & B38 in D56) implies ( dom B37 ) = ( dom B38 )))
proof
let C65 , C66 being Function;
assume that
L1344: C65 in D56
and
L1345: C66 in D56;
L1346: C65 = D55 by L1344 , TARSKI:def 1;
thus L1347: thesis by L1346 , L1345 , TARSKI:def 1;
end;
thus L1348: D56 is  with_common_domain by L1343 , L1341;
thus L1349: D56 is  functional;
thus L1350: thesis;
end;
end;
registration
let R20 being Function;
cluster { R20 } ->  with_common_domain;
coherence
proof
let C67 , C68 being Function;
assume L1352: C67 in { R20 };
L1353: C67 = R20 by L1352 , TARSKI:def 1;
thus L1354: thesis by L1353 , TARSKI:def 1;
end;
end;
definition
let C69 being  functional set;
func DOM C69 -> set equals 
( meet { ( dom B39 ) where B39 is (Element of C69) : (not contradiction) } );
coherence;
end;
L1357: (for B40 being  functional  with_common_domain set holds (for B41 being Function holds (B41 in B40 implies ( dom B41 ) = ( DOM B40 ))))
proof
let C70 being  functional  with_common_domain set;
set D57 = { ( dom B42 ) where B42 is (Element of C70) : (not contradiction) };
let C71 being Function;
assume L1358: C71 in C70;
L1359: ( dom C71 ) in D57 by L1358;
L1360: { ( dom C71 ) } c= D57 by L1359 , ZFMISC_1:31;
L1361: D57 c= { ( dom C71 ) }
proof
let C72 being set;
assume L1362: C72 in D57;
consider C73 being (Element of C70) such that L1363: C72 = ( dom C73 ) by L1362;
L1364: C72 = ( dom C71 ) by L1363 , L1341 , L1358;
thus L1365: C72 in { ( dom C71 ) } by L1364 , TARSKI:def 1;
end;
L1366: D57 = { ( dom C71 ) } by L1361 , L1360 , XBOOLE_0:def 10;
thus L1367: ( dom C71 ) = ( DOM C70 ) by L1366 , SETFAM_1:10;
end;
theorem
L1368: (for B43 being  with_common_domain  functional set holds (B43 = { ( {} ) } implies ( DOM B43 ) = ( {} )))
proof
let C74 being  with_common_domain  functional set;
assume L1369: C74 = { ( {} ) };
L1370: ( {} ) in { ( {} ) } by TARSKI:def 1;
thus L1371: thesis by L1370 , L1369 , L1357 , RELAT_1:38;
end;
registration
let C75 being  empty set;
cluster ( DOM C75 ) ->  empty;
coherence
proof
set D58 = { ( dom B44 ) where B44 is (Element of C75) : (not contradiction) };
L1372: D58 c= { ( {} ) }
proof
let C76 being set;
assume L1373: C76 in D58;
L1374: (ex B45 being (Element of C75) st C76 = ( dom B45 )) by L1373;
L1375: C76 = ( dom ( {} ) ) by L1374 , SUBSET_1:def 1;
thus L1376: thesis by L1375 , TARSKI:def 1;
end;
L1377: { ( {} ) } c= D58
proof
let C77 being set;
assume L1378: C77 in { ( {} ) };
L1379: C77 = ( {} ) by L1378 , TARSKI:def 1;
L1380: C77 = ( dom ( {} ) ) by L1379;
L1381: C77 = ( dom the (Element of C75) ) by L1380 , SUBSET_1:def 1;
thus L1382: thesis by L1381;
end;
L1383: D58 = { ( {} ) } by L1377 , L1372 , XBOOLE_0:def 10;
thus L1384: thesis by L1383 , SETFAM_1:10;
end;
end;
begin
definition
let C78 being  functional set;
func product" C78 -> Function means 
:L1386: (( dom it ) = ( DOM C78 ) & (for B46 being set holds (B46 in ( dom it ) implies ( it . B46 ) = ( pi (C78 , B46) ))));
existence
proof
per cases ;
suppose L1387: C78 = ( {} );

take ( {} );
thus L1388: thesis by L1387;
end;
suppose L1389: C78 <> ( {} );

reconsider D59 = C78 as non  empty  functional set by L1389;
set D60 = { ( dom B47 ) where B47 is (Element of D59) : (not contradiction) };
defpred S25[ set , set ] means $2 = ( pi (C78 , $1) );
L1390: (for B48 being set holds (B48 in ( meet D60 ) implies (ex B49 being set st S25[ B48 , B49 ])));
consider C79 being Function such that L1391: ( dom C79 ) = ( meet D60 ) and L1392: (for B50 being set holds (B50 in ( meet D60 ) implies S25[ B50 , ( C79 . B50 ) ])) from CLASSES1:sch 1(L1390);
take C79;
thus L1393: thesis by L1391 , L1392;
end;
end;
uniqueness
proof
let C80 , C81 being Function;
assume that
L1395: ( dom C80 ) = ( DOM C78 )
and
L1396: (for B51 being set holds (B51 in ( dom C80 ) implies ( C80 . B51 ) = ( pi (C78 , B51) )))
and
L1397: ( dom C81 ) = ( DOM C78 )
and
L1398: (for B52 being set holds (B52 in ( dom C81 ) implies ( C81 . B52 ) = ( pi (C78 , B52) )));
L1399: (for R8 being set holds (R8 in ( dom C80 ) implies ( C80 . R8 ) = ( C81 . R8 )))
proof
let R8 being set;
assume L1400: R8 in ( dom C80 );
thus L1401: ( C80 . R8 ) = ( pi (C78 , R8) ) by L1400 , L1396
.= ( C81 . R8 ) by L1395 , L1397 , L1400 , L1398;
end;
thus L1402: C80 = C81 by L1399 , L1395 , L1397 , FUNCT_1:def 11;
end;
end;
canceled 1;
theorem
L1404: (for B53 being non  empty  functional set holds (for B54 being set holds (B54 in ( dom ( product" B53 ) ) implies ( ( product" B53 ) . B54 ) = { ( B55 . B54 ) where B55 is (Element of B53) : (not contradiction) })))
proof
let C82 being non  empty  functional set;
let C83 being set;
assume L1405: C83 in ( dom ( product" C82 ) );
thus L1406:now
let C84 being set;
assume L1407: C84 in ( ( product" C82 ) . C83 );
L1408: C84 in ( pi (C82 , C83) ) by L1407 , L1405 , L1386;
L1409: (ex B56 being Function st (B56 in C82 & C84 = ( B56 . C83 ))) by L1408 , L165;
thus L1410: C84 in { ( B57 . C83 ) where B57 is (Element of C82) : (not contradiction) } by L1409;
end;
let C85 being set;
assume L1411: C85 in { ( B58 . C83 ) where B58 is (Element of C82) : (not contradiction) };
L1412: (ex B59 being (Element of C82) st (C85 = ( B59 . C83 ) & (not contradiction))) by L1411;
L1413: C85 in ( pi (C82 , C83) ) by L1412 , L165;
thus L1414: thesis by L1413 , L1405 , L1386;
end;
definition
let C86 being set;
attr C86 is  product-like
means
:L1415: (ex B60 being Function st C86 = ( product B60 ));
end;
registration
let C87 being Function;
cluster ( product C87 ) ->  product-like;
coherence by L1415;
end;
registration
cluster  product-like ->  functional  with_common_domain for set;
coherence
proof
let C88 being set;
given C89 being Function such that
L1418: C88 = ( product C89 );

thus L1419: C88 is  functional by L1418;
let C90 , C91 being Function;
assume that
L1420: C90 in C88
and
L1421: C91 in C88;
thus L1422: ( dom C90 ) = ( dom C89 ) by L1418 , L1420 , L125
.= ( dom C91 ) by L1418 , L1421 , L125;
end;
end;
registration
cluster  product-like non  empty for set;
existence
proof
set D61 = the  with_non-empty_elements set;
set D62 = the (Function of ( 0 ) , D61);
take ( product D62 );
thus L1424: thesis;
end;
end;
canceled 2;
theorem
L1426: (for B61 being  functional  with_common_domain set holds B61 c= ( product ( product" B61 ) ))
proof
let C92 being  functional  with_common_domain set;
let C93 being set;
assume L1427: C93 in C92;
reconsider D63 = C93 as (Element of C92) by L1427;
L1428: ( dom D63 ) = ( DOM C92 ) by L1427 , L1357
.= ( dom ( product" C92 ) ) by L1386;
L1429: (for B62 being set holds (B62 in ( dom ( product" C92 ) ) implies ( D63 . B62 ) in ( ( product" C92 ) . B62 )))
proof
let C94 being set;
assume L1430: C94 in ( dom ( product" C92 ) );
L1431: ( ( product" C92 ) . C94 ) = ( pi (C92 , C94) ) by L1430 , L1386;
thus L1432: thesis by L1431 , L1427 , L165;
end;
thus L1433: thesis by L1429 , L1428 , L125;
end;
theorem
L1434: (for B63 being non  empty  product-like set holds B63 = ( product ( product" B63 ) ))
proof
let C95 being non  empty  product-like set;
thus L1435: C95 c= ( product ( product" C95 ) ) by L1426;
let C96 being set;
assume L1436: C96 in ( product ( product" C95 ) );
consider C97 being Function such that L1437: C96 = C97 and L1438: ( dom C97 ) = ( dom ( product" C95 ) ) and L1439: (for B64 being set holds (B64 in ( dom ( product" C95 ) ) implies ( C97 . B64 ) in ( ( product" C95 ) . B64 ))) by L1436 , L49;
consider C98 being Function such that L1440: C95 = ( product C98 ) by L1415;
set D64 = the (Element of C95);
L1441: ( dom C97 ) = ( DOM C95 ) by L1438 , L1386
.= ( dom D64 ) by L1357
.= ( dom C98 ) by L1440 , L125;
L1442: (for B65 being set holds (B65 in ( dom C98 ) implies ( C97 . B65 ) in ( C98 . B65 )))
proof
let C99 being set;
assume L1443: C99 in ( dom C98 );
L1444: ( C97 . C99 ) in ( ( product" C95 ) . C99 ) by L1443 , L1438 , L1439 , L1441;
L1445: ( C97 . C99 ) in ( pi (C95 , C99) ) by L1444 , L1438 , L1441 , L1443 , L1386;
L1446: (ex B66 being Function st (B66 in C95 & ( C97 . C99 ) = ( B66 . C99 ))) by L1445 , L165;
thus L1447: thesis by L1446 , L1440 , L1443 , L125;
end;
thus L1448: thesis by L1442 , L1437 , L1440 , L1441 , L125;
end;
theorem
L1449: (for B67 being Function holds (for B68 , B69 being (Element of ( product B67 )) holds (for B70 being set holds ( B68 +* ( B69 | B70 ) ) is (Element of ( product B67 )))))
proof
let C100 being Function;
let C101 , C102 being (Element of ( product C100 ));
let C103 being set;
per cases ;
suppose L1450: C100 is  non-empty;

L1451: ( product C100 ) <> ( {} ) by L1450;
L1452: C102 in ( product C100 ) by L1451;
L1453: ( product C100 ) c= ( sproduct C100 ) by L1060;
thus L1454: thesis by L1453 , L1452 , L1077 , L1255;
end;
suppose L1455: (not C100 is  non-empty);

L1456: ( {} ) in ( rng C100 ) by L1455 , RELAT_1:def 9;
L1457: ( product C100 ) = ( {} ) by L1456 , L381;
L1458: C101 = ( {} ) by L1457 , SUBSET_1:def 1;
L1459: C102 = ( {} ) by L1457 , SUBSET_1:def 1;
L1460: ( C102 | C103 ) = ( {} ) by L1459;
thus L1461: thesis by L1460 , L1458;
end;
end;
theorem
L1463: (for B71 being  non-empty Function holds (for B72 being (Element of ( sproduct B71 )) holds (ex B73 being (Element of ( product B71 )) st B72 c= B73)))
proof
let C104 being  non-empty Function;
let C105 being (Element of ( sproduct C104 ));
set D65 = the (Element of ( product C104 ));
reconsider D66 = ( D65 +* C105 ) as (Element of ( product C104 )) by L1077;
take D66;
thus L1464: thesis by FUNCT_4:25;
end;
theorem
L1465: (for R20 being Function holds (for R22 being Function holds (for R29 being set holds (R22 in ( product R20 ) implies ( R22 | R29 ) in ( sproduct R20 )))))
proof
let R20 being Function;
let R22 being Function;
let R29 being set;
L1466: ( product R20 ) c= ( sproduct R20 ) by L1060;
assume L1467: R22 in ( product R20 );
thus L1468: thesis by L1467 , L1466 , L1244 , RELAT_1:59;
end;
definition
let C106 being  non-empty Function;
let C107 being (Element of ( product C106 ));
let R14 being set;
redefine func C107 | R14 -> (Element of ( sproduct C106 ));

coherence by L1465;
end;
theorem
L1470: (for B74 being  non-empty Function holds (for B75 , B76 being (Element of ( product B74 )) holds (for B77 being set holds ( ( B76 +* ( B75 | B77 ) ) | B77 ) = ( B75 | B77 ))))
proof
let C108 being  non-empty Function;
let C109 , C110 being (Element of ( product C108 ));
let C111 being set;
L1471: ( dom C109 ) = ( dom C108 ) by L125
.= ( dom C110 ) by L125;
L1472: ( C111 /\ ( dom C110 ) ) c= ( C111 /\ ( dom C109 ) ) by L1471;
thus L1473: thesis by L1472 , FUNCT_4:88;
end;
theorem
L1474: (for B78 , B79 , B80 being Function holds (B79 in ( product B78 ) implies ( B79 * B80 ) in ( product ( B78 * B80 ) )))
proof
let C112 , C113 , C114 being Function;
assume L1475: C113 in ( product C112 );
set D67 = ( C113 * C114 );
set D68 = ( C112 * C114 );
L1476: (ex B81 being Function st (C113 = B81 & ( dom B81 ) = ( dom C112 ) & (for B82 being set holds (B82 in ( dom C112 ) implies ( B81 . B82 ) in ( C112 . B82 ))))) by L1475 , L49;
L1477: ( dom D67 ) = ( dom D68 ) by L1476 , RELAT_1:163;
L1478:
now
let C115 being set;
assume L1479: C115 in ( dom D68 );
L1480: C115 in ( dom C114 ) by L1479 , FUNCT_1:11;
L1481: ( C114 . C115 ) in ( dom C112 ) by L1479 , FUNCT_1:11;
L1482: ( D67 . C115 ) = ( C113 . ( C114 . C115 ) ) by L1480 , FUNCT_1:13;
L1483: ( D68 . C115 ) = ( C112 . ( C114 . C115 ) ) by L1480 , FUNCT_1:13;
thus L1484: ( D67 . C115 ) in ( D68 . C115 ) by L1483 , L1476 , L1481 , L1482;
end;
thus L1485: thesis by L1478 , L1477 , L49;
end;
theorem
L1486: (for R14 being set holds (R14 is  finite iff ( card R14 ) in ( omega ))) by L695 , CARD_1:47;
theorem
L1487: (for R31 being Ordinal holds (R31 is  infinite iff ( omega ) c= R31))
proof
let R31 being Ordinal;
L1488: (( omega ) c= R31 iff (not R31 in ( omega ))) by ORDINAL1:16;
thus L1489: thesis by L1488;
end;
theorem
L1490: (for R6 being Cardinal holds (for R7 being Cardinal holds ((R7 is  finite & (not R6 is  finite)) implies (R7 in R6 & R7 c= R6))))
proof
let R6 being Cardinal;
let R7 being Cardinal;
assume that
L1491: R7 is  finite
and
L1492: (not R6 is  finite);
L1493: R7 in ( omega ) by L1491 , CARD_1:61;
L1494: ( omega ) c= R6 by L1492 , L1487;
thus L1495: R7 in R6 by L1494 , L1493;
thus L1496: thesis by L1491 , L1492;
end;
theorem
L1497: (for R14 being set holds ((not R14 is  finite) iff (ex R15 being set st (R15 c= R14 & ( card R15 ) = ( omega )))))
proof
let R14 being set;
thus L1498: ((not R14 is  finite) implies (ex R15 being set st (R15 c= R14 & ( card R15 ) = ( omega ))))
proof
assume L1499: (not R14 is  finite);
L1500: (not ( card R14 ) in ( omega )) by L1499;
L1501: ( omega ) c= ( card R14 ) by L1500 , CARD_1:4;
L1502: ( card R14 ) , R14 are_equipotent  by CARD_1:def 2;
consider R20 being Function such that L1503: R20 is  one-to-one and L1504: ( dom R20 ) = ( card R14 ) and L1505: ( rng R20 ) = R14 by L1502 , WELLORD2:def 4;
take D69 = ( R20 .: ( omega ) );
thus L1506: D69 c= R14 by L1505 , RELAT_1:111;
L1507: ( omega ) , D69 are_equipotent 
proof
take ( R20 | ( omega ) );
thus L1508: thesis by L1501 , L1503 , L1504 , FUNCT_1:52 , RELAT_1:62 , RELAT_1:115;
end;
thus L1509: thesis by L1507 , CARD_1:def 2;
end;

given R15 being set such that
L1510: R15 c= R14
and
L1511: ( card R15 ) = ( omega );

thus L1512: thesis by L1510 , L1511;
end;
theorem
L1513: (for R14 being set holds (for R15 being set holds (( card R14 ) = ( card R15 ) iff ( nextcard R14 ) = ( nextcard R15 ))))
proof
let R14 being set;
let R15 being set;
thus L1514: (( card R14 ) = ( card R15 ) implies ( nextcard R14 ) = ( nextcard R15 )) by CARD_1:16;
assume that
L1515: ( nextcard R14 ) = ( nextcard R15 )
and
L1516: ( card R14 ) <> ( card R15 );
L1517: (( card R14 ) in ( card R15 ) or ( card R15 ) in ( card R14 )) by L1516 , ORDINAL1:14;
L1518: ((( nextcard R14 ) c= ( card R15 ) & ( card R15 ) in ( nextcard R15 )) or (( nextcard R15 ) c= ( card R14 ) & ( card R14 ) in ( nextcard R14 ))) by L1517 , CARD_1:def 3;
thus L1519: thesis by L1518 , L1515 , ORDINAL1:12;
end;
theorem
L1520: (for R6 being Cardinal holds (for R7 being Cardinal holds (( nextcard R7 ) = ( nextcard R6 ) implies R6 = R7)))
proof
let R6 being Cardinal;
let R7 being Cardinal;
L1521: ( card R7 ) = R7 by CARD_1:def 2;
L1522: ( card R6 ) = R6 by CARD_1:def 2;
thus L1523: thesis by L1522 , L1521 , L1513;
end;
theorem
L1524: (for R6 being Cardinal holds (for R7 being Cardinal holds (R7 in R6 iff ( nextcard R7 ) c= R6)))
proof
let R6 being Cardinal;
let R7 being Cardinal;
L1525: R7 in ( nextcard R7 ) by CARD_1:18;
L1526: ( card R7 ) = R7 by CARD_1:def 2;
thus L1527: thesis by L1526 , L1525 , CARD_1:def 3;
end;
theorem
L1528: (for R6 being Cardinal holds (for R7 being Cardinal holds (R7 in ( nextcard R6 ) iff R7 c= R6)))
proof
let R6 being Cardinal;
let R7 being Cardinal;
L1529: ((not R7 c= R6) iff R6 in R7) by CARD_1:4;
L1530: (R7 in ( nextcard R6 ) iff (not ( nextcard R6 ) c= R7)) by CARD_1:4;
thus L1531: thesis by L1530 , L1529 , L1524;
end;
theorem
L1532: (for R6 being Cardinal holds (for R7 being Cardinal holds ((R6 is  finite & (R7 c= R6 or R7 in R6)) implies R7 is  finite)))
proof
let R6 being Cardinal;
let R7 being Cardinal;
assume that
L1533: R6 is  finite
and
L1534: (R7 c= R6 or R7 in R6);
L1535: R7 c= R6 by L1534 , CARD_1:3;
thus L1536: thesis by L1535 , L1533;
end;
definition
let R14 being set;
attr R14 is  countable
means
:L1537: ( card R14 ) c= ( omega );
attr R14 is  denumerable
means
( card R14 ) = ( omega );
end;
registration
cluster  denumerable ->  countable  infinite for set;
coherence
proof
let C116 being set;
assume L1539: ( card C116 ) = ( omega );
thus L1540: ( card C116 ) c= ( omega ) by L1539;
thus L1541: thesis by L1539;
end;
cluster  countable  infinite ->  denumerable for set;
coherence
proof
let C117 being set;
assume L1542: ( card C117 ) c= ( omega );
assume L1543: C117 is  infinite;
L1544: ( omega ) c= ( card C117 ) by L1543 , L1487;
thus L1545: ( card C117 ) = ( omega ) by L1544 , L1542 , XBOOLE_0:def 10;
end;
end;
registration
cluster  finite ->  countable for set;
coherence
proof
let C118 being set;
assume L1547: C118 is  finite;
consider C119 being Nat such that L1548: C118 , C119 are_equipotent  by L1547 , CARD_1:43;
L1549: ( card C119 ) = ( card C118 ) by L1548 , CARD_1:5;
thus L1550: ( card C118 ) c= ( omega ) by L1549;
end;
end;
registration
cluster ( omega ) ->  denumerable;
coherence
proof
thus L1552: ( card ( omega ) ) = ( omega ) by CARD_1:47;
end;
end;
registration
cluster  denumerable for set;
existence
proof
take ( omega );
thus L1554: thesis;
end;
end;
theorem
L1556: (for R14 being set holds (R14 is  countable iff (ex R20 being Function st (( dom R20 ) = ( omega ) & R14 c= ( rng R20 )))))
proof
let R14 being set;
thus L1557: (R14 is  countable implies (ex R20 being Function st (( dom R20 ) = ( omega ) & R14 c= ( rng R20 ))))
proof
assume L1558: ( card R14 ) c= ( omega );
thus L1559: thesis by L1558 , CARD_1:12 , CARD_1:47;
end;

assume L1560: (ex R20 being Function st (( dom R20 ) = ( omega ) & R14 c= ( rng R20 )));
thus L1561: ( card R14 ) c= ( omega ) by L1560 , CARD_1:12 , CARD_1:47;
end;
registration
let C120 being  countable set;
cluster  ->  countable for (Subset of C120);
coherence
proof
let C121 being (Subset of C120);
L1562: ( card C121 ) c= ( card C120 ) by CARD_1:11;
L1563: ( card C120 ) c= ( omega ) by L1537;
thus L1564: ( card C121 ) c= ( omega ) by L1563 , L1562 , XBOOLE_1:1;
end;
end;
L1566: (for R14 being set holds (for R15 being set holds ((R15 c= R14 & R14 is  countable) implies R15 is  countable)));
theorem
L1567: (for R14 being set holds (for R15 being set holds (R14 is  countable implies ( R14 /\ R15 ) is  countable))) by L1566 , XBOOLE_1:17;
theorem
L1568: (for R14 being set holds (for R15 being set holds (R14 is  countable implies ( R14 \ R15 ) is  countable)));
theorem
L1569: (for B83 being non  empty  countable set holds (ex B84 being (Function of ( omega ) , B83) st ( rng B84 ) = B83))
proof
let C122 being non  empty  countable set;
consider C123 being Function such that L1570: ( dom C123 ) = ( omega ) and L1571: C122 c= ( rng C123 ) by L1556;
consider C124 being set such that L1572: C124 in C122 by XBOOLE_0:def 1;
set D70 = ( ( C123 | ( C123 " C122 ) ) +* ( ( ( omega ) \ ( C123 " C122 ) ) --> C124 ) );
L1573: (( rng D70 ) = C122 & ( dom D70 ) = ( omega ))
proof
L1574: ( C123 " C122 ) c= ( omega ) by L1570 , RELAT_1:132;
L1575: ( dom ( C123 | ( C123 " C122 ) ) ) = ( ( omega ) /\ ( C123 " C122 ) ) by L1570 , RELAT_1:61;
per cases ;
suppose L1576: ( omega ) = ( C123 " C122 );

L1577: ( ( omega ) \ ( C123 " C122 ) ) = ( {} ) by L1576 , XBOOLE_1:37;
L1578: ( ( dom ( C123 | ( C123 " C122 ) ) ) /\ ( dom ( ( ( omega ) \ ( C123 " C122 ) ) --> C124 ) ) ) = ( {} ) by L1577;
L1579: ( dom ( C123 | ( C123 " C122 ) ) ) misses ( dom ( ( ( omega ) \ ( C123 " C122 ) ) --> C124 ) ) by L1578 , XBOOLE_0:def 7;
L1580: D70 = ( ( C123 | ( C123 " C122 ) ) \/ ( ( ( omega ) \ ( C123 " C122 ) ) --> C124 ) ) by L1579 , FUNCT_4:31;
thus L1581: ( rng D70 ) = ( ( rng ( C123 | ( C123 " C122 ) ) ) \/ ( rng ( ( ( omega ) \ ( C123 " C122 ) ) --> C124 ) ) ) by L1580 , RELAT_1:12
.= ( ( rng ( C123 | ( C123 " C122 ) ) ) \/ ( {} ) ) by L1577
.= ( C123 .: ( C123 " C122 ) ) by RELAT_1:115
.= C122 by L1571 , FUNCT_1:77;
thus L1582: ( dom D70 ) = ( ( dom ( C123 | ( C123 " C122 ) ) ) \/ ( dom ( ( ( omega ) \ ( C123 " C122 ) ) --> C124 ) ) ) by FUNCT_4:def 1
.= ( ( dom ( C123 | ( C123 " C122 ) ) ) \/ ( {} ) ) by L1577
.= ( omega ) by L1575 , L1576;
end;
suppose L1583: ( omega ) <> ( C123 " C122 );

L1584:
now
assume L1585: ( ( omega ) \ ( C123 " C122 ) ) is  empty;
L1586: ( omega ) c= ( C123 " C122 ) by L1585 , XBOOLE_1:37;
thus L1587: contradiction by L1586 , L1574 , L1583 , XBOOLE_0:def 10;
end;
L1588: ( dom ( ( ( omega ) \ ( C123 " C122 ) ) --> C124 ) ) = ( ( omega ) \ ( C123 " C122 ) ) by FUNCOP_1:13;
L1589: D70 = ( ( C123 | ( C123 " C122 ) ) \/ ( ( ( omega ) \ ( C123 " C122 ) ) --> C124 ) ) by L1588 , L1575 , FUNCT_4:31 , XBOOLE_1:89;
thus L1590: ( rng D70 ) = ( ( rng ( C123 | ( C123 " C122 ) ) ) \/ ( rng ( ( ( omega ) \ ( C123 " C122 ) ) --> C124 ) ) ) by L1589 , RELAT_1:12
.= ( ( rng ( C123 | ( C123 " C122 ) ) ) \/ { C124 } ) by L1584 , FUNCOP_1:8
.= ( ( C123 .: ( C123 " C122 ) ) \/ { C124 } ) by RELAT_1:115
.= ( C122 \/ { C124 } ) by L1571 , FUNCT_1:77
.= C122 by L1572 , ZFMISC_1:40;
thus L1591: ( dom D70 ) = ( ( dom ( C123 | ( C123 " C122 ) ) ) \/ ( dom ( ( ( omega ) \ ( C123 " C122 ) ) --> C124 ) ) ) by FUNCT_4:def 1
.= ( ( ( omega ) /\ ( C123 " C122 ) ) \/ ( ( omega ) \ ( C123 " C122 ) ) ) by L1575 , FUNCOP_1:13
.= ( omega ) by XBOOLE_1:51;
end;
end;
reconsider D71 = D70 as (Function of ( omega ) , C122) by L1573 , FUNCT_2:def 1 , RELSET_1:4;
take D71;
thus L1593: thesis by L1573;
end;
theorem
L1594: (for B85 , B86 being  non-empty Function holds (for B87 being (Element of ( product B85 )) holds (for B88 being (Element of ( product B86 )) holds ( B87 +* B88 ) in ( product ( B85 +* B86 ) ))))
proof
let C125 , C126 being  non-empty Function;
let C127 being (Element of ( product C125 ));
let C128 being (Element of ( product C126 ));
L1595: ( dom C127 ) = ( dom C125 ) by L125;
L1596: ( dom C128 ) = ( dom C126 ) by L125;
L1597: ( dom ( C127 +* C128 ) ) = ( ( dom C125 ) \/ ( dom C126 ) ) by L1596 , L1595 , FUNCT_4:def 1;
L1598: ( dom ( C125 +* C126 ) ) = ( ( dom C125 ) \/ ( dom C126 ) ) by FUNCT_4:def 1;
L1599:
now
let C129 being set;
assume L1600: C129 in ( dom ( C125 +* C126 ) );
L1601: (C129 in ( dom C126 ) or ((not C129 in ( dom C126 )) & C129 in ( dom C125 ))) by L1600 , L1598 , XBOOLE_0:def 3;
L1602: ((( ( C127 +* C128 ) . C129 ) = ( C127 . C129 ) & ( ( C125 +* C126 ) . C129 ) = ( C125 . C129 ) & ( C127 . C129 ) in ( C125 . C129 )) or (( ( C127 +* C128 ) . C129 ) = ( C128 . C129 ) & ( ( C125 +* C126 ) . C129 ) = ( C126 . C129 ) & ( C128 . C129 ) in ( C126 . C129 ))) by L1601 , L1595 , L1596 , L1598 , L1600 , L125 , FUNCT_4:def 1;
thus L1603: ( ( C127 +* C128 ) . C129 ) in ( ( C125 +* C126 ) . C129 ) by L1602;
end;
thus L1604: thesis by L1599 , L1597 , L1598 , L125;
end;
theorem
L1605: (for B89 , B90 being  non-empty Function holds (for B91 being (Element of ( product ( B89 +* B90 ) )) holds ( B91 | ( dom B90 ) ) in ( product B90 )))
proof
let C130 , C131 being  non-empty Function;
let C132 being (Element of ( product ( C130 +* C131 ) ));
L1606: ( dom C132 ) = ( dom ( C130 +* C131 ) ) by L125;
L1607: ( dom ( C130 +* C131 ) ) = ( ( dom C130 ) \/ ( dom C131 ) ) by FUNCT_4:def 1;
L1608: ( dom C131 ) c= ( dom C132 ) by L1607 , L1606 , XBOOLE_1:7;
L1609: ( dom ( C132 | ( dom C131 ) ) ) = ( dom C131 ) by L1606 , L1607 , RELAT_1:62 , XBOOLE_1:7;
L1610:
now
let C133 being set;
assume L1611: C133 in ( dom ( C132 | ( dom C131 ) ) );
L1612: ( ( C132 | ( dom C131 ) ) . C133 ) = ( C132 . C133 ) by L1611 , FUNCT_1:47;
L1613: ( ( C130 +* C131 ) . C133 ) = ( C131 . C133 ) by L1609 , L1611 , FUNCT_4:13;
thus L1614: ( ( C132 | ( dom C131 ) ) . C133 ) in ( C131 . C133 ) by L1613 , L1606 , L1608 , L1609 , L1611 , L1612 , L125;
end;
thus L1615: thesis by L1610 , L1609 , L125;
end;
theorem
L1616: (for B92 , B93 being  non-empty Function holds (B92 tolerates B93 implies (for B94 being (Element of ( product ( B92 +* B93 ) )) holds ( B94 | ( dom B92 ) ) in ( product B92 ))))
proof
let C134 , C135 being  non-empty Function;
assume that
L1617: C134 tolerates C135;
let C136 being (Element of ( product ( C134 +* C135 ) ));
L1618: ( dom C136 ) = ( dom ( C134 +* C135 ) ) by L125;
L1619: ( dom ( C134 +* C135 ) ) = ( ( dom C134 ) \/ ( dom C135 ) ) by FUNCT_4:def 1;
L1620: ( dom C134 ) c= ( dom C136 ) by L1619 , L1618 , XBOOLE_1:7;
L1621: ( dom ( C136 | ( dom C134 ) ) ) = ( dom C134 ) by L1618 , L1619 , RELAT_1:62 , XBOOLE_1:7;
L1622:
now
let C137 being set;
assume L1623: C137 in ( dom ( C136 | ( dom C134 ) ) );
L1624: ( ( C136 | ( dom C134 ) ) . C137 ) = ( C136 . C137 ) by L1623 , FUNCT_1:47;
L1625: ( ( C134 +* C135 ) . C137 ) = ( C134 . C137 ) by L1617 , L1621 , L1623 , FUNCT_4:15;
thus L1626: ( ( C136 | ( dom C134 ) ) . C137 ) in ( C134 . C137 ) by L1625 , L1618 , L1620 , L1621 , L1623 , L1624 , L125;
end;
thus L1627: thesis by L1622 , L1621 , L125;
end;
theorem
L1628: (for B95 being  with_common_domain  functional set holds (for B96 being Function holds (B96 in B95 implies ( dom B96 ) = ( dom ( product" B95 ) ))))
proof
let C138 being  with_common_domain  functional set;
let C139 being Function;
assume that
L1629: C139 in C138;
thus L1630: ( dom C139 ) = ( DOM C138 ) by L1629 , L1357
.= ( dom ( product" C138 ) ) by L1386;
end;
theorem
L1631: (for B97 being  functional set holds (for B98 being Function holds (for B99 being set holds ((B98 in B97 & B99 in ( dom ( product" B97 ) )) implies ( B98 . B99 ) in ( ( product" B97 ) . B99 )))))
proof
let C140 being  functional set;
let C141 being Function;
let C142 being set;
assume that
L1632: C141 in C140;
assume L1633: C142 in ( dom ( product" C140 ) );
L1634: ( ( product" C140 ) . C142 ) = { ( B100 . C142 ) where B100 is (Element of C140) : (not contradiction) } by L1633 , L1632 , L1404;
thus L1635: ( C141 . C142 ) in ( ( product" C140 ) . C142 ) by L1634 , L1632;
end;
theorem
L1636: (for B101 being  with_common_domain  functional set holds (for B102 being Function holds (for B103 being set holds ((B102 in B101 & B103 in ( dom B102 )) implies ( B102 . B103 ) in ( ( product" B101 ) . B103 )))))
proof
let C143 being  with_common_domain  functional set;
let C144 being Function;
let C145 being set;
assume that
L1637: C144 in C143
and
L1638: C145 in ( dom C144 );
L1639: ( dom C144 ) = ( dom ( product" C143 ) ) by L1637 , L1628;
thus L1640: ( C144 . C145 ) in ( ( product" C143 ) . C145 ) by L1639 , L1637 , L1638 , L1631;
end;
registration
let C146 being  with_common_domain set;
cluster  ->  with_common_domain for (Subset of C146);
coherence
proof
let C147 being (Subset of C146);
let C148 , C149 being Function;
thus L1641: thesis by L1341;
end;
end;
definition
let C150 being Function;
let C151 being set;
func proj (C150 , C151) -> Function means 
:L1643: (( dom it ) = ( product C150 ) & (for B104 being Function holds (B104 in ( dom it ) implies ( it . B104 ) = ( B104 . C151 ))));
existence
proof
defpred S26[ set , set ] means (for B105 being Function holds ($1 = B105 implies $2 = ( B105 . C151 )));
L1644:
now
let C152 being set;
assume L1645: C152 in ( product C150 );
reconsider D72 = C152 as Function by L1645;
take D73 = ( D72 . C151 );
thus L1646: S26[ C152 , D73 ];
end;
consider C153 being Function such that L1647: (( dom C153 ) = ( product C150 ) & (for B106 being set holds (B106 in ( product C150 ) implies S26[ B106 , ( C153 . B106 ) ]))) from CLASSES1:sch 1(L1644);
take C153;
thus L1648: thesis by L1647;
end;
uniqueness
proof
let C154 , C155 being Function;
assume that
L1649: ( dom C154 ) = ( product C150 )
and
L1650: (for B107 being Function holds (B107 in ( dom C154 ) implies ( C154 . B107 ) = ( B107 . C151 )))
and
L1651: ( dom C155 ) = ( product C150 )
and
L1652: (for B108 being Function holds (B108 in ( dom C155 ) implies ( C155 . B108 ) = ( B108 . C151 )));
L1653:
now
let C156 being set;
assume L1654: C156 in ( product C150 );
reconsider D74 = C156 as Function by L1654;
thus L1655: ( C154 . C156 ) = ( D74 . C151 ) by L1649 , L1650 , L1654
.= ( C155 . C156 ) by L1651 , L1652 , L1654;
end;
thus L1656: thesis by L1653 , L1649 , L1651 , FUNCT_1:2;
end;
end;
registration
let C157 being Function;
let C158 being set;
cluster ( proj (C157 , C158) ) -> ( product C157 ) -defined;
coherence
proof
L1658: ( dom ( proj (C157 , C158) ) ) = ( product C157 ) by L1643;
thus L1659: thesis by L1658 , RELAT_1:def 18;
end;
end;
registration
let C159 being Function;
let C160 being set;
cluster ( proj (C159 , C160) ) ->  total;
coherence
proof
L1661: ( dom ( proj (C159 , C160) ) ) = ( product C159 ) by L1643;
thus L1662: thesis by L1661 , PARTFUN1:def 2;
end;
end;
registration
let C161 being  non-empty Function;
cluster  -> C161 -compatible for (Element of ( product C161 ));
coherence
proof
let C162 being (Element of ( product C161 ));
let R8 being set;
assume L1664: R8 in ( dom C162 );
L1665: R8 in ( dom C161 ) by L1664 , L125;
thus L1666: ( C162 . R8 ) in ( C161 . R8 ) by L1665 , L125;
end;
end;
registration
let C163 being set;
let C164 being C163 -defined  non-empty Function;
cluster  -> C163 -defined for (Element of ( product C164 ));
coherence;
end;
registration
let C165 being Function;
cluster  -> C165 -compatible for (Element of ( sproduct C165 ));
coherence
proof
let C166 being (Element of ( sproduct C165 ));
let R8 being set;
thus L1669: thesis by L1049;
end;
end;
registration
let C167 being set;
let C168 being C167 -defined Function;
cluster  -> C167 -defined for (Element of ( sproduct C168 ));
coherence;
end;
registration
let C169 being set;
let C170 being  total C169 -defined  non-empty Function;
cluster  ->  total for (Element of ( product C170 ));
coherence
proof
let C171 being (Element of ( product C170 ));
thus L1672: ( dom C171 ) = ( dom C170 ) by L125
.= C169 by PARTFUN1:def 2;
end;
end;
theorem
L1674: (for B109 being set holds (for B110 being  non-empty B109 -defined Function holds (for B111 being B110 -compatible B109 -defined Function holds B111 in ( sproduct B110 ))))
proof
let C172 being set;
let C173 being  non-empty C172 -defined Function;
let C174 being C173 -compatible C172 -defined Function;
L1675: ( dom C174 ) c= ( dom C173 ) by FUNCT_1:105;
L1676: (for B112 being set holds (B112 in ( dom C174 ) implies ( C174 . B112 ) in ( C173 . B112 ))) by FUNCT_1:def 14;
thus L1677: C174 in ( sproduct C173 ) by L1676 , L1675 , L1003;
end;
theorem
L1678: (for B113 being set holds (for B114 being  non-empty B113 -defined Function holds (for B115 being B114 -compatible B113 -defined Function holds (ex B116 being (Element of ( product B114 )) st B115 c= B116))))
proof
let C175 being set;
let C176 being  non-empty C175 -defined Function;
let C177 being C176 -compatible C175 -defined Function;
reconsider D75 = C177 as (Element of ( sproduct C176 )) by L1674;
set D76 = the (Element of ( product C176 ));
reconsider D77 = ( D76 +* D75 ) as (Element of ( product C176 )) by L1077;
take D77;
thus L1679: thesis by FUNCT_4:25;
end;
registration
let C178 being  infinite set;
let C179 being set;
cluster ( C178 --> C179 ) ->  infinite;
coherence;
end;
registration
cluster  infinite for Function;
existence
proof
take ( ( omega ) --> ( 0 ) );
thus L1681: thesis;
end;
end;
registration
let C180 being  infinite Relation;
cluster ( field C180 ) ->  infinite;
coherence by ORDERS_1:86;
end;
registration
let C181 being  infinite set;
cluster ( RelIncl C181 ) ->  infinite;
coherence by CARD_1:63;
end;
theorem
L1685: (for B117 , B118 being Relation holds ((B117 , B118 are_isomorphic  & B117 is  finite) implies B118 is  finite))
proof
let C182 , C183 being Relation;
given C184 being Function such that
L1686: C184 is_isomorphism_of C182 , C183;

assume L1687: C182 is  finite;
L1688: ( field C182 ) is  finite by L1687;
L1689: ( dom C184 ) is  finite by L1688 , L1686 , WELLORD1:def 7;
L1690: ( rng C184 ) is  finite by L1689 , FINSET_1:8;
L1691: ( field C183 ) is  finite by L1690 , L1686 , WELLORD1:def 7;
thus L1692: thesis by L1691;
end;
theorem
L1693: ( product" { ( {} ) } ) = ( {} )
proof
L1694: ( dom ( product" { ( {} ) } ) ) = ( DOM { ( {} ) } ) by L1386
.= ( {} ) by L1368;
thus L1695: thesis by L1694;
end;
theorem
L1696: (for B119 being set holds (for B120 being  non-empty (ManySortedSet of B119) holds (for B121 being B120 -compatible (ManySortedSet of B119) holds B121 in ( product B120 ))))
proof
let C185 being set;
let C186 being  non-empty (ManySortedSet of C185);
let C187 being C186 -compatible (ManySortedSet of C185);
L1697: ( dom C187 ) = C185 by PARTFUN1:def 2
.= ( dom C186 ) by PARTFUN1:def 2;
L1698: (for B122 being set holds (B122 in ( dom C186 ) implies ( C187 . B122 ) in ( C186 . B122 ))) by L1697 , FUNCT_1:def 14;
thus L1699: C187 in ( product C186 ) by L1698 , L1697 , L125;
end;
registration
let C188 being set;
let C189 being  non-empty (ManySortedSet of C188);
cluster  ->  total for (Element of ( product C189 ));
coherence;
end;
definition
let C190 being set;
let C191 being  non-empty (ManySortedSet of C190);
let C192 being C191 -compatible (ManySortedSet of C190);
func down C192 -> (Element of ( product C191 )) equals 
C192;
coherence by L1696;
end;
theorem
L1702: (for B123 being  functional  with_common_domain set holds (for B124 being Function holds (B124 in B123 implies ( dom B124 ) = ( DOM B123 )))) by L1357;
theorem
L1703: (for R8 being set holds (for B125 being non  empty  functional set holds ((for B126 being Function holds (B126 in B125 implies R8 in ( dom B126 ))) implies R8 in ( DOM B125 ))))
proof
let R8 being set;
let C193 being non  empty  functional set;
assume that
L1704: (for B127 being Function holds (B127 in C193 implies R8 in ( dom B127 )));
set D78 = { ( dom B128 ) where B128 is (Element of C193) : (not contradiction) };
consider C194 being set such that L1705: C194 in C193 by XBOOLE_0:def 1;
reconsider D79 = C194 as Function by L1705;
L1706: ( dom D79 ) in D78 by L1705;
L1707: (for R15 being set holds (R15 in D78 implies R8 in R15))
proof
let R15 being set;
assume L1708: R15 in D78;
L1709: (ex B129 being (Element of C193) st R15 = ( dom B129 )) by L1708;
thus L1710: R8 in R15 by L1709 , L1704;
end;
thus L1711: R8 in ( DOM C193 ) by L1707 , L1706 , SETFAM_1:def 1;
end;
