:: Representation theorem for free continuous lattices
::  by Piotr Rudnicki
::
:: Received July 21, 1998
:: Copyright (c) 1998-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies REWRITE1, WAYBEL_0, TARSKI, ZFMISC_1, STRUCT_0, LATTICES,
      ORDINAL2, SUBSET_1, EQREL_1, XBOOLE_0, YELLOW_1, ARYTM_0, ORDERS_2,
      WAYBEL16, RELAT_1, YELLOW_0, LATTICE3, WAYBEL_5, WELLORD2, CARD_FIL,
      WELLORD1, CAT_1, SETFAM_1, XXREAL_0, FUNCT_1, CARD_1, SEQM_3, PBOOLE,
      FUNCOP_1, YELLOW_2, CARD_3, FUNCT_6, WAYBEL22, FUNCT_2;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, SETFAM_1, RELAT_1, FUNCT_1,
      PBOOLE, RELSET_1, PARTFUN1, FUNCT_2, FUNCT_6, STRUCT_0, WELLORD1, CARD_1,
      CARD_3, ORDERS_2, LATTICE3, FUNCOP_1, YELLOW_0, YELLOW_1, YELLOW_2,
      YELLOW_7, WAYBEL_0, WAYBEL_1, WAYBEL_3, WAYBEL_5, WAYBEL16;
 constructors DOMAIN_1, TOLER_1, ORDERS_3, PRALG_3, WAYBEL_5, WAYBEL_8,
      WAYBEL16, RELSET_1, WAYBEL20;
 registrations XBOOLE_0, SUBSET_1, RELSET_1, FUNCT_2, FUNCOP_1, CARD_3, PBOOLE,
      STRUCT_0, LATTICE3, YELLOW_0, WAYBEL_0, YELLOW_1, WAYBEL_5, YELLOW_7,
      WAYBEL_8, WAYBEL16, FUNCT_1, RELAT_1;
 requirements SUBSET, BOOLE;
 definitions TARSKI, FUNCT_1, ORDERS_3, LATTICE3, WELLORD2, YELLOW_0, WAYBEL_0,
      STRUCT_0;
 theorems TARSKI, CARD_1, ZFMISC_1, SETFAM_1, RELAT_1, FUNCT_1, FUNCT_2,
      FUNCT_3, FUNCT_4, FUNCT_6, FUNCOP_1, WELLORD1, WELLORD2, CARD_3,
      LATTICE3, PBOOLE, YELLOW_0, YELLOW_1, YELLOW_2, WAYBEL_0, WAYBEL_1,
      WAYBEL_5, WAYBEL11, WAYBEL13, WAYBEL14, WAYBEL15, WAYBEL16, WAYBEL17,
      RELSET_1, WAYBEL_4, WAYBEL20, XBOOLE_0, XBOOLE_1, PARTFUN1;
 schemes CLASSES1, FUNCT_2, MSSUBFAM, YELLOW_3;

begin
L1: (for B1 being  complete LATTICE holds (for B2 being set holds (B2 c= ( bool (the carrier of B1) ) implies ( "/\" (( union B2 ) , B1) ) = ( "/\" ({ ( inf B3 ) where B3 is (Subset of B1) : B3 in B2 } , B1) ))))
proof
let C1 being  complete LATTICE;
let C2 being set;
assume that
L2: C2 c= ( bool (the carrier of C1) );
defpred S1[ (Subset of C1) ] means $1 in C2;
set D1 = { B4 where B4 is (Subset of C1) : S1[ B4 ] };
L3:
now
let C3 being set;
thus L4:now
assume L5: C3 in D1;
L6: (ex B5 being (Subset of C1) st (C3 = B5 & B5 in C2)) by L5;
thus L7: C3 in C2 by L6;
end;
assume L8: C3 in C2;
reconsider D2 = C3 as (Subset of C1) by L8 , L2;
L9: D2 in D1 by L8;
thus L10: C3 in D1 by L9;
end;
L11: ( "/\" ({ ( "/\" (B6 , C1) ) where B6 is (Subset of C1) : S1[ B6 ] } , C1) ) = ( "/\" (( union D1 ) , C1) ) from YELLOW_3:sch 3;
thus L12: thesis by L11 , L3 , TARSKI:1;
end;
L13: (for B7 being  complete LATTICE holds (for B8 being set holds (B8 c= ( bool (the carrier of B7) ) implies ( "\/" (( union B8 ) , B7) ) = ( "\/" ({ ( sup B9 ) where B9 is (Subset of B7) : B9 in B8 } , B7) ))))
proof
let C4 being  complete LATTICE;
let C5 being set;
assume that
L14: C5 c= ( bool (the carrier of C4) );
defpred S2[ set ] means $1 in C5;
set D3 = { B10 where B10 is (Subset of C4) : S2[ B10 ] };
L15:
now
let C6 being set;
thus L16:now
assume L17: C6 in D3;
L18: (ex B11 being (Subset of C4) st (C6 = B11 & B11 in C5)) by L17;
thus L19: C6 in C5 by L18;
end;
assume L20: C6 in C5;
reconsider D4 = C6 as (Subset of C4) by L20 , L14;
L21: D4 in D3 by L20;
thus L22: C6 in D3 by L21;
end;
L23: ( "\/" ({ ( "\/" (B12 , C4) ) where B12 is (Subset of C4) : S2[ B12 ] } , C4) ) = ( "\/" (( union D3 ) , C4) ) from YELLOW_3:sch 5;
thus L24: thesis by L23 , L15 , TARSKI:1;
end;
theorem
L25: (for B13 being  upper-bounded Semilattice holds (for B14 being non  empty  directed (Subset of ( InclPoset ( Filt B13 ) )) holds ( sup B14 ) = ( union B14 )))
proof
let C7 being  upper-bounded Semilattice;
let C8 being non  empty  directed (Subset of ( InclPoset ( Filt C7 ) ));
L26: ( Filt C7 ) = ( Ids ( C7 opp ) ) by WAYBEL16:7;
thus L27: thesis by L26 , WAYBEL13:9;
end;
theorem
L28: (for B15 , B16 , B17 being  complete non  empty Poset holds (for B18 being (CLHomomorphism of B15 , B16) holds (for B19 being (CLHomomorphism of B16 , B17) holds ( B19 * B18 ) is (CLHomomorphism of B15 , B17))))
proof
let C9 , C10 , C11 being  complete non  empty Poset;
let C12 being (CLHomomorphism of C9 , C10);
let C13 being (CLHomomorphism of C10 , C11);
L29: (C12 is  directed-sups-preserving & C13 is  directed-sups-preserving) by WAYBEL16:def 1;
L30: ( C13 * C12 ) is  directed-sups-preserving by L29 , WAYBEL20:28;
L31: (C12 is  infs-preserving & C13 is  infs-preserving) by WAYBEL16:def 1;
L32: ( C13 * C12 ) is  infs-preserving by L31 , WAYBEL20:25;
thus L33: thesis by L32 , L30 , WAYBEL16:def 1;
end;
theorem
L34: (for B20 being non  empty RelStr holds ( id B20 ) is  infs-preserving)
proof
let C14 being non  empty RelStr;
let C15 being (Subset of C14);
set D5 = ( id C14 );
assume L35:  ex_inf_of C15 , C14;
thus L36:  ex_inf_of ( D5 .: C15 ) , C14 by L35 , FUNCT_1:92;
L37: ( D5 .: C15 ) = C15 by FUNCT_1:92;
thus L38: thesis by L37 , FUNCT_1:18;
end;
theorem
L39: (for B21 being non  empty RelStr holds ( id B21 ) is  directed-sups-preserving)
proof
let C16 being non  empty RelStr;
let C17 being (Subset of C16);
assume that
L40: C17 is non  empty  directed;
set D6 = ( id C16 );
assume L41:  ex_sup_of C17 , C16;
thus L42:  ex_sup_of ( D6 .: C17 ) , C16 by L41 , FUNCT_1:92;
L43: ( D6 .: C17 ) = C17 by FUNCT_1:92;
thus L44: thesis by L43 , FUNCT_1:18;
end;
theorem
L45: (for B22 being  complete non  empty Poset holds ( id B22 ) is (CLHomomorphism of B22 , B22))
proof
let C18 being  complete non  empty Poset;
L46: (( id C18 ) is  directed-sups-preserving & ( id C18 ) is  infs-preserving) by L34 , L39;
thus L47: thesis by L46 , WAYBEL16:def 1;
end;
theorem
L48: (for B23 being  upper-bounded  with_infima non  empty Poset holds ( InclPoset ( Filt B23 ) ) is (CLSubFrame of ( BoolePoset (the carrier of B23) )))
proof
let C19 being  upper-bounded  with_infima non  empty Poset;
set D7 = (the carrier of C19);
set D8 = ( BoolePoset D7 );
set D9 = (the carrier of D8);
set D10 = (the InternalRel of D8);
set D11 = ( InclPoset ( Filt C19 ) );
set D12 = (the carrier of D11);
set D13 = (the InternalRel of D11);
L49: ( InclPoset ( bool D7 ) ) = RelStr (# ( bool D7 ) , ( RelIncl ( bool D7 ) ) #) by YELLOW_1:def 1;
L50: ( InclPoset ( Filt C19 ) ) = RelStr (# ( Filt C19 ) , ( RelIncl ( Filt C19 ) ) #) by YELLOW_1:def 1;
L51: ( BoolePoset D7 ) = ( InclPoset ( bool D7 ) ) by YELLOW_1:4;
L52: D12 c= D9
proof
let C20 being set;
assume L53: C20 in D12;
L54: (ex B24 being (Filter of C19) st C20 = B24) by L53 , L50;
thus L55: thesis by L54 , L51 , L49;
end;
L56: ( field D13 ) = ( Filt C19 ) by L50 , WELLORD2:def 1;
L57: D13 c= D10
proof
let C21 being set;
assume L58: C21 in D13;
consider C22 , C23 being set such that L59: C21 = [ C22 , C23 ] by L58 , RELAT_1:def 1;
L60: C23 in ( field D13 ) by L58 , L59 , RELAT_1:15;
consider C24 being (Filter of C19) such that L61: C23 = C24 by L60 , L56;
L62: C22 in ( field D13 ) by L58 , L59 , RELAT_1:15;
consider C25 being (Filter of C19) such that L63: C22 = C25 by L62 , L56;
L64: C25 c= C24 by L50 , L56 , L58 , L59 , L62 , L60 , L63 , L61 , WELLORD2:def 1;
thus L65: thesis by L64 , L51 , L49 , L59 , L63 , L61 , WELLORD2:def 1;
end;
reconsider D14 = D11 as (SubRelStr of D8) by L57 , L52 , YELLOW_0:def 13;
L66:
now
let C26 being set;
L67: ( D10 |_2 D12 ) = ( D10 /\ [: D12 , D12 :] ) by WELLORD1:def 6;
thus L68:now
assume L69: C26 in D13;
consider C27 , C28 being set such that L70: C26 = [ C27 , C28 ] by L69 , RELAT_1:def 1;
L71: C28 in ( field D13 ) by L69 , L70 , RELAT_1:15;
consider C29 being (Filter of C19) such that L72: C28 = C29 by L71 , L56;
L73: C27 in ( field D13 ) by L69 , L70 , RELAT_1:15;
consider C30 being (Filter of C19) such that L74: C27 = C30 by L73 , L56;
L75: C30 c= C29 by L50 , L56 , L69 , L70 , L73 , L71 , L74 , L72 , WELLORD2:def 1;
L76: C26 in D10 by L75 , L51 , L49 , L70 , L74 , L72 , WELLORD2:def 1;
thus L77: C26 in ( D10 |_2 D12 ) by L76 , L67 , L69 , XBOOLE_0:def 4;
end;
assume L78: C26 in ( D10 |_2 D12 );
L79: C26 in D10 by L78 , L67 , XBOOLE_0:def 4;
L80: C26 in [: D12 , D12 :] by L67 , L78 , XBOOLE_0:def 4;
consider C31 , C32 being set such that L81: (C31 in D12 & C32 in D12) and L82: C26 = [ C31 , C32 ] by L80 , ZFMISC_1:def 2;
L83: ((ex B25 being (Filter of C19) st C31 = B25) & (ex B26 being (Filter of C19) st C32 = B26)) by L50 , L81;
L84: C31 c= C32 by L83 , L51 , L49 , L79 , L82 , WELLORD2:def 1;
thus L85: C26 in D13 by L84 , L50 , L81 , L82 , WELLORD2:def 1;
end;
L86: D13 = ( D10 |_2 D12 ) by L66 , TARSKI:1;
reconsider D15 = D14 as  full (SubRelStr of D8) by L86 , YELLOW_0:def 14;
L87: ( Filt C19 ) c= ( bool D7 )
proof
let C33 being set;
assume L88: C33 in ( Filt C19 );
L89: (ex B27 being (Filter of C19) st C33 = B27) by L88;
thus L90: thesis by L89;
end;
L91: D15 is  directed-sups-inheriting
proof
let C34 being  directed (Subset of D15);
assume that
L92: C34 <> ( {} )
and
L93:  ex_sup_of C34 , D8;
consider C35 being set such that L94: C35 in C34 by L92 , XBOOLE_0:def 1;
reconsider D16 = C34 as (Subset-Family of D7) by L50 , L87 , XBOOLE_1:1;
L95: (for B28 , B29 being (Subset of C19) holds ((B28 in D16 & B29 in D16) implies (ex B30 being (Subset of C19) st (B30 in D16 & ( B28 \/ B29 ) c= B30))))
proof
let C36 , C37 being (Subset of C19);
assume L96: (C36 in D16 & C37 in D16);
reconsider D17 = C36 , D18 = C37 as (Element of D15) by L96;
consider C38 being (Element of D15) such that L97: C38 in C34 and L98: (D17 <= C38 & D18 <= C38) by L96 , WAYBEL_0:def 1;
L99: C38 in (the carrier of D15) by L97;
consider C39 being (Filter of C19) such that L100: C39 = C38 by L99 , L50;
take C39;
thus L101: C39 in D16 by L97 , L100;
L102: (D17 c= C38 & D18 c= C38) by L98 , YELLOW_1:3;
thus L103: thesis by L102 , L100 , XBOOLE_1:8;
end;
reconsider D19 = C34 as (Subset of D8) by L51 , L49 , L50 , L87 , XBOOLE_1:1;
set D20 = ( "\/" (C34 , D8) );
L104: ( sup D19 ) = ( union C34 ) by YELLOW_1:21;
reconsider D21 = D20 as (Subset of C19) by L49 , YELLOW_1:4;
L105: (for B31 being (Subset of C19) holds (B31 in D16 implies B31 is  upper  filtered))
proof
let C40 being (Subset of C19);
assume L106: C40 in D16;
L107: C40 in ( Filt C19 ) by L106 , L50;
L108: (ex B32 being (Filter of C19) st C40 = B32) by L107;
thus L109: thesis by L108;
end;
L110: (for B33 being (Subset of C19) holds (B33 in D16 implies B33 is  upper)) by L105;
L111: D21 is  upper by L110 , L104 , WAYBEL_0:28;
L112: (for B34 being (Subset of C19) holds (B34 in D16 implies B34 is  filtered)) by L105;
L113: D21 is  filtered by L112 , L104 , L95 , WAYBEL_0:47;
L114: C35 in ( Filt C19 ) by L50 , L94;
L115: (ex B35 being (Filter of C19) st C35 = B35) by L114;
L116: ( Top C19 ) in C35 by L115 , WAYBEL_4:22;
L117: D21 is non  empty by L116 , L104 , L94 , TARSKI:def 4;
thus L118: thesis by L117 , L50 , L111 , L113;
end;
L119: D15 is  infs-inheriting
proof
let C41 being (Subset of D15);
assume that
L120:  ex_inf_of C41 , D8;
set D22 = ( "/\" (C41 , D8) );
per cases ;
suppose L121: C41 is  empty;

L122: ( [#] C19 ) = D7;
L123: ( "/\" (C41 , D8) ) = ( Top D8 ) by L121
.= D7 by YELLOW_1:19;
thus L124: thesis by L123 , L50 , L122;
end;
suppose L125: C41 is non  empty;

reconsider D23 = C41 as (Subset-Family of D7) by L50 , L87 , XBOOLE_1:1;
reconsider D24 = D22 as (Subset of C19) by L49 , YELLOW_1:4;
reconsider D25 = C41 as (Subset of D8) by L51 , L49 , L50 , L87 , XBOOLE_1:1;
L126: ( inf D25 ) = ( meet C41 ) by L125 , YELLOW_1:20;
L127: (for B36 being (Subset of C19) holds (B36 in D23 implies B36 is  upper  filtered))
proof
let C42 being (Subset of C19);
assume L128: C42 in D23;
L129: C42 in ( Filt C19 ) by L128 , L50;
L130: (ex B37 being (Filter of C19) st C42 = B37) by L129;
thus L131: thesis by L130;
end;
L132: D24 is  filtered by L127 , L126 , YELLOW_2:39;
L133: (for B38 being (Subset of C19) holds (B38 in D23 implies B38 is  upper)) by L127;
L134: D24 is  upper by L133 , L126 , YELLOW_2:37;
L135: (for B39 being set holds (B39 in C41 implies ( Top C19 ) in B39))
proof
let C43 being set;
assume L136: C43 in C41;
L137: C43 in ( Filt C19 ) by L136 , L50;
L138: (ex B40 being (Filter of C19) st C43 = B40) by L137;
thus L139: thesis by L138 , WAYBEL_4:22;
end;
L140: D24 is non  empty by L135 , L125 , L126 , SETFAM_1:def 1;
thus L141: thesis by L140 , L50 , L134 , L132;
end;
end;
thus L143: thesis by L119 , L91;
end;
registration
let C44 being  upper-bounded  with_infima non  empty Poset;
cluster ( InclPoset ( Filt C44 ) ) ->  continuous;
coherence
proof
L144: ( InclPoset ( Filt C44 ) ) is (CLSubFrame of ( BoolePoset (the carrier of C44) )) by L48;
thus L145: thesis by L144 , WAYBEL_5:28;
end;
end;
registration
let C45 being  upper-bounded non  empty Poset;
cluster  -> non  empty for (Element of ( InclPoset ( Filt C45 ) ));
coherence
proof
let C46 being (Element of ( InclPoset ( Filt C45 ) ));
L147: ( InclPoset ( Filt C45 ) ) = RelStr (# ( Filt C45 ) , ( RelIncl ( Filt C45 ) ) #) by YELLOW_1:def 1;
L148: C46 in ( Filt C45 ) by L147;
L149: (ex B41 being (Filter of C45) st C46 = B41) by L148;
thus L150: thesis by L149;
end;
end;
begin
definition
let C47 being  continuous  complete non  empty Poset;
let C48 being set;
pred C48 is_FreeGen_set_of C47
means
:L152: (for B42 being  continuous  complete non  empty Poset holds (for B43 being (Function of C48 , (the carrier of B42)) holds (ex B44 being (CLHomomorphism of C47 , B42) st (( B44 | C48 ) = B43 & (for B45 being (CLHomomorphism of C47 , B42) holds (( B45 | C48 ) = B43 implies B45 = B44))))))
;end;
theorem
L154: (for B46 being  continuous  complete non  empty Poset holds (for B47 being set holds (B47 is_FreeGen_set_of B46 implies B47 is (Subset of B46))))
proof
set D26 = the  continuous  complete non  empty Poset;
let C49 being  continuous  complete non  empty Poset;
let C50 being set;
assume that
L155: C50 is_FreeGen_set_of C49;
set D27 = the (Function of C50 , (the carrier of D26));
consider C51 being (CLHomomorphism of C49 , D26) such that L156: ( C51 | C50 ) = D27 and L157: (for B48 being (CLHomomorphism of C49 , D26) holds (( B48 | C50 ) = D27 implies B48 = C51)) by L155 , L152;
L158: ( dom ( C51 | C50 ) ) = ( ( dom C51 ) /\ C50 ) by RELAT_1:61;
thus L159: thesis by L158 , L156 , FUNCT_2:def 1;
end;
theorem
L160: (for B49 being  continuous  complete non  empty Poset holds (for B50 being set holds (B50 is_FreeGen_set_of B49 implies (for B51 being (CLHomomorphism of B49 , B49) holds (( B51 | B50 ) = ( id B50 ) implies B51 = ( id B49 ))))))
proof
let C52 being  continuous  complete non  empty Poset;
let C53 being set;
assume that
L161: C53 is_FreeGen_set_of C52;
set D28 = C52;
L162: C53 is (Subset of D28) by L161 , L154;
L163: ( ( id D28 ) | C53 ) = ( id C53 ) by L162 , FUNCT_3:1;
L164: (( dom ( id C53 ) ) = C53 & ( rng ( id C53 ) ) = C53);
reconsider D29 = ( id C53 ) as (Function of C53 , (the carrier of D28)) by L164 , L162 , RELSET_1:4;
consider C54 being (CLHomomorphism of D28 , D28) such that L165: ( C54 | C53 ) = D29 and L166: (for B52 being (CLHomomorphism of D28 , D28) holds (( B52 | C53 ) = D29 implies B52 = C54)) by L161 , L152;
L167: ( id D28 ) is (CLHomomorphism of D28 , D28) by L45;
let C55 being (CLHomomorphism of C52 , C52);
assume L168: ( C55 | C53 ) = ( id C53 );
thus L169: C55 = C54 by L168 , L166
.= ( id D28 ) by L166 , L167 , L163;
end;
begin
definition
let R1 being set;
func FixedUltraFilters R1 -> (Subset-Family of ( BoolePoset R1 )) equals
{ ( uparrow R3 ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st R3 = { R4 }) };
coherence
proof
set D30 = { ( uparrow B53 ) where B53 is (Element of ( BoolePoset R1 )) : (ex B54 being (Element of R1) st B53 = { B54 }) };
L170: D30 c= ( bool (the carrier of ( BoolePoset R1 )) )
proof
let C56 being set;
assume L171: C56 in D30;
L172: (ex B55 being (Element of ( BoolePoset R1 )) st (C56 = ( uparrow B55 ) & (ex B56 being (Element of R1) st B55 = { B56 }))) by L171;
thus L173: thesis by L172;
end;
thus L174: thesis by L170;
end;
end;
theorem
L176: (for R1 being set holds ( FixedUltraFilters R1 ) c= ( Filt ( BoolePoset R1 ) ))
proof
let R1 being set;
let C57 being set;
assume L177: C57 in ( FixedUltraFilters R1 );
L178: (ex B57 being (Element of ( BoolePoset R1 )) st (C57 = ( uparrow B57 ) & (ex B58 being (Element of R1) st B57 = { B58 }))) by L177;
thus L179: thesis by L178;
end;
theorem
L180: (for R1 being set holds ( card ( FixedUltraFilters R1 ) ) = ( card R1 ))
proof
let R1 being set;
set D31 = { ( uparrow R3 ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st R3 = { R4 }) };
L181: ( BoolePoset R1 ) = ( InclPoset ( bool R1 ) ) by YELLOW_1:4;
L182: ( InclPoset ( bool R1 ) ) = RelStr (# ( bool R1 ) , ( RelIncl ( bool R1 ) ) #) by YELLOW_1:def 1;
L183: (the carrier of ( BoolePoset R1 )) = ( bool R1 ) by L182 , YELLOW_1:4;
L184: R1 , D31 are_equipotent
proof
defpred S3[ set , set ] means (ex B59 being (Element of R1) st (ex B60 being (Element of ( BoolePoset R1 )) st (B60 = { B59 } & $1 = B59 & $2 = ( uparrow B60 ))));
L185: (for B61 being set holds (B61 in R1 implies (ex B62 being set st S3[ B61 , B62 ])))
proof
let C58 being set;
assume L186: C58 in R1;
reconsider D32 = C58 as (Element of R1) by L186;
reconsider D33 = { C58 } as (Element of ( BoolePoset R1 )) by L181 , L182 , L186 , ZFMISC_1:31;
take ( uparrow D33 );
take D32;
take D33;
thus L187: thesis;
end;
consider C59 being Function such that L188: (( dom C59 ) = R1 & (for B63 being set holds (B63 in R1 implies S3[ B63 , ( C59 . B63 ) ]))) from CLASSES1:sch 1(L185);
take C59;
thus L189: C59 is  one-to-one
proof
let C60 , C61 being set;
assume that
L190: C60 in ( dom C59 )
and
L191: C61 in ( dom C59 )
and
L192: ( C59 . C60 ) = ( C59 . C61 );
consider C62 being (Element of R1), C63 being (Element of ( BoolePoset R1 )) such that L193: (C63 = { C62 } & C61 = C62) and L194: ( C59 . C61 ) = ( uparrow C63 ) by L188 , L191;
consider C64 being (Element of R1), C65 being (Element of ( BoolePoset R1 )) such that L195: (C65 = { C64 } & C60 = C64) and L196: ( C59 . C60 ) = ( uparrow C65 ) by L188 , L190;
L197: C65 = C63 by L192 , L196 , L194 , WAYBEL_0:20;
thus L198: thesis by L197 , L195 , L193 , ZFMISC_1:3;
end;

thus L199: ( dom C59 ) = R1 by L188;
L200:
now
let C66 being set;
thus L201:now
assume L202: C66 in ( rng C59 );
consider C67 being set such that L203: C67 in ( dom C59 ) and L204: C66 = ( C59 . C67 ) by L202 , FUNCT_1:def 3;
L205: (ex B64 being (Element of R1) st (ex B65 being (Element of ( BoolePoset R1 )) st (B65 = { B64 } & C67 = B64 & ( C59 . C67 ) = ( uparrow B65 )))) by L188 , L203;
thus L206: C66 in D31 by L205 , L204;
end;
assume L207: C66 in D31;
consider C68 being (Element of ( BoolePoset R1 )) such that L208: C66 = ( uparrow C68 ) and L209: (ex B66 being (Element of R1) st C68 = { B66 }) by L207;
consider C69 being (Element of R1) such that L210: C68 = { C69 } by L209;
L211: C69 in R1 by L183 , L210 , ZFMISC_1:31;
L212: (ex B67 being (Element of R1) st (ex B68 being (Element of ( BoolePoset R1 )) st (B68 = { B67 } & C69 = B67 & ( C59 . C69 ) = ( uparrow B68 )))) by L211 , L188;
thus L213: C66 in ( rng C59 ) by L212 , L188 , L208 , L210 , L211 , FUNCT_1:def 3;
end;
thus L214: thesis by L200 , TARSKI:1;
end;
thus L215: thesis by L184 , CARD_1:5;
end;
theorem
L216: (for R1 being set holds (for R2 being (Filter of ( BoolePoset R1 )) holds R2 = ( "\/" ({ ( "/\" ({ ( uparrow R3 ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B69)) } , ( InclPoset ( Filt ( BoolePoset R1 ) ) )) ) where B69 is (Subset of R1) : B69 in R2 } , ( InclPoset ( Filt ( BoolePoset R1 ) ) )) )))
proof
let R1 being set;
let R2 being (Filter of ( BoolePoset R1 ));
set D34 = ( BoolePoset R1 );
set D35 = ( InclPoset ( Filt D34 ) );
set D36 = (the carrier of D35);
set D37 = { ( "/\" ({ ( uparrow R3 ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B70)) } , D35) ) where B70 is (Subset of R1) : B70 in R2 };
set D38 = ( "\/" (D37 , D35) );
L217: ( InclPoset ( Filt D34 ) ) = RelStr (# ( Filt D34 ) , ( RelIncl ( Filt D34 ) ) #) by YELLOW_1:def 1;
L218: R2 in ( Filt D34 );
reconsider D39 = R2 as (Element of D35) by L218 , L217;
L219: D37 c= D36
proof
let C70 being set;
assume L220: C70 in D37;
L221: (ex B71 being (Subset of R1) st (C70 = ( "/\" ({ ( uparrow R3 ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B71)) } , D35) ) & B71 in R2)) by L220;
thus L222: thesis by L221;
end;
L223: (the carrier of D34) = (the carrier of ( LattPOSet ( BooleLatt R1 ) )) by YELLOW_1:def 2
.= ( bool R1 ) by LATTICE3:def 1;
L224:
now
consider C71 being set such that L225: C71 in R2 by XBOOLE_0:def 1;
L226: ( "/\" ({ ( uparrow R3 ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C71)) } , D35) ) in D37 by L223 , L225;
thus L227: D37 is non  empty by L226;
end;
reconsider D40 = D37 as non  empty (Subset of D35) by L224 , L219;
L228:  ex_sup_of D40 , D35 by YELLOW_0:17;
L229: R2 c= D38
proof
let C72 being set;
assume L230: C72 in R2;
reconsider D41 = C72 as (Element of R2) by L230;
set D42 = { ( uparrow B72 ) where B72 is (Element of D34) : (ex B73 being (Element of R1) st (B72 = { B73 } & B73 in D41)) };
L231: ( "/\" (D42 , D35) ) in D37 by L223;
per cases ;
suppose L232: D42 is  empty;

L233: C72 in (the carrier of D34) by L230;
L234: D40 is_<=_than D38 by L228 , YELLOW_0:def 9;
L235: ( "/\" (D42 , D35) ) <= D38 by L234 , L231 , LATTICE3:def 9;
L236: ( "/\" (D42 , D35) ) = ( Top D35 ) by L232
.= ( bool R1 ) by WAYBEL16:15;
L237: ( bool R1 ) c= D38 by L236 , L235 , YELLOW_1:3;
thus L238: thesis by L237 , L223 , L233;
end;
suppose L239: D42 is non  empty;

L240: D42 c= D36
proof
let C73 being set;
assume L241: C73 in D42;
L242: (ex B74 being (Element of D34) st (C73 = ( uparrow B74 ) & (ex B75 being (Element of R1) st (B74 = { B75 } & B75 in D41)))) by L241;
thus L243: thesis by L242 , L217;
end;
reconsider D43 = D42 as non  empty (Subset of D35) by L240 , L239;
L244: (for B76 being set holds (B76 in D43 implies D41 in B76))
proof
reconsider D44 = D41 as (Element of D34);
let C74 being set;
assume L245: C74 in D43;
consider C75 being (Element of D34) such that L246: C74 = ( uparrow C75 ) and L247: (ex B77 being (Element of R1) st (C75 = { B77 } & B77 in D41)) by L245;
L248: C75 c= D41 by L247 , ZFMISC_1:31;
L249: C75 <= D44 by L248 , YELLOW_1:2;
thus L250: thesis by L249 , L246 , WAYBEL_0:18;
end;
L251: (( "/\" (D43 , D35) ) = ( meet D43 ) & D41 in ( meet D43 )) by L244 , SETFAM_1:def 1 , WAYBEL16:10;
L252: C72 in ( union D37 ) by L251 , L231 , TARSKI:def 4;
L253: ( union D40 ) c= D38 by WAYBEL16:17 , YELLOW_0:17;
thus L254: thesis by L253 , L252;
end;
end;
L256: D39 <= D38 by L229 , YELLOW_1:3;
L257: D37 is_<=_than D39
proof
let C76 being (Element of D35);
assume L258: C76 in D37;
consider C77 being (Subset of R1) such that L259: C76 = ( "/\" ({ ( uparrow R3 ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C77)) } , D35) ) and L260: C77 in R2 by L258;
reconsider D45 = C77 as (Element of R2) by L260;
set D46 = { ( uparrow R3 ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C77)) };
per cases ;
suppose L261: C77 is  empty;

L262:
now
assume L263: D46 is non  empty;
consider C78 being set such that L264: C78 in D46 by L263 , XBOOLE_0:def 1;
L265: (ex B78 being (Element of D34) st (C78 = ( uparrow B78 ) & (ex B79 being (Element of R1) st (B78 = { B79 } & B79 in C77)))) by L264;
thus L266: contradiction by L265 , L261;
end;
L267: ( "/\" (D46 , D35) ) = ( Top D35 ) by L262
.= ( bool R1 ) by WAYBEL16:15;
L268: ( Bottom D34 ) = ( {} ) by YELLOW_1:18;
L269: ( uparrow ( Bottom D34 ) ) c= R2 by L268 , L260 , L261 , WAYBEL11:42;
L270: ( bool R1 ) c= R2 by L269 , L223 , WAYBEL14:10;
thus L271: C76 <= D39 by L270 , L223 , L259 , L267 , XBOOLE_0:def 10;
end;
suppose L272: C77 is non  empty;

L273:
now
consider C79 being set such that L274: C79 in C77 by L272 , XBOOLE_0:def 1;
reconsider D47 = C79 as (Element of R1) by L274;
reconsider D48 = { D47 } as (Element of D34) by L223 , L274 , ZFMISC_1:31;
L275: ( uparrow D48 ) in D46 by L274;
thus L276: D46 is non  empty by L275;
end;
L277: D46 c= D36
proof
let C80 being set;
assume L278: C80 in D46;
L279: (ex B80 being (Element of D34) st (C80 = ( uparrow B80 ) & (ex B81 being (Element of R1) st (B80 = { B81 } & B81 in C77)))) by L278;
thus L280: thesis by L279 , L217;
end;
reconsider D49 = D46 as non  empty (Subset of D35) by L277 , L273;
L281: ( "/\" (D49 , D35) ) = ( meet D49 ) by WAYBEL16:10;
L282: C76 c= D39
proof
let C81 being set;
L283: C76 in ( Filt D34 ) by L217;
consider C82 being (Filter of D34) such that L284: C76 = C82 by L283;
assume L285: C81 in C76;
reconsider D50 = C81 as (Element of C82) by L285 , L284;
reconsider D51 = D50 as (Element of D34);
L286: C77 c= D51
proof
let C83 being set;
assume L287: C83 in C77;
reconsider D52 = C83 as (Element of R1) by L287;
reconsider D53 = { D52 } as (Element of D34) by L223 , L287 , ZFMISC_1:31;
L288: ( uparrow D53 ) in D49 by L287;
L289: C81 in ( uparrow D53 ) by L288 , L259 , L281 , L285 , SETFAM_1:def 1;
L290: D53 <= D51 by L289 , WAYBEL_0:18;
L291: { D52 } c= C81 by L290 , YELLOW_1:2;
thus L292: thesis by L291 , ZFMISC_1:31;
end;
L293: D45 <= D51 by L286 , YELLOW_1:2;
L294: (( uparrow D45 ) c= D39 & C81 in ( uparrow D45 )) by L293 , WAYBEL11:42 , WAYBEL_0:18;
thus L295: thesis by L294;
end;
thus L296: C76 <= D39 by L282 , YELLOW_1:3;
end;
end;
L298: D38 <= D39 by L257 , L228 , YELLOW_0:def 9;
thus L299: thesis by L298 , L256 , YELLOW_0:def 3;
end;
definition
let R1 being set;
let C84 being  continuous  complete non  empty Poset;
let C85 being (Function of ( FixedUltraFilters R1 ) , (the carrier of C84));
func C85 -extension_to_hom -> (Function of ( InclPoset ( Filt ( BoolePoset R1 ) ) ) , C84) means
:L300: (for B82 being (Element of ( InclPoset ( Filt ( BoolePoset R1 ) ) )) holds ( it . B82 ) = ( "\/" ({ ( "/\" ({ ( C85 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B83)) } , C84) ) where B83 is (Subset of R1) : B83 in B82 } , C84) ));
existence
proof
set D54 = ( InclPoset ( Filt ( BoolePoset R1 ) ) );
deffunc H1((Element of D54)) = ( "\/" ({ ( "/\" ({ ( C85 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B84)) } , C84) ) where B84 is (Subset of R1) : B84 in $1 } , C84) );
consider C86 being (Function of (the carrier of D54) , (the carrier of C84)) such that L301: (for B85 being (Element of D54) holds ( C86 . B85 ) = H1(B85)) from FUNCT_2:sch 4;
reconsider D55 = C86 as (Function of D54 , C84);
take D55;
thus L302: thesis by L301;
end;
uniqueness
proof
set D56 = ( InclPoset ( Filt ( BoolePoset R1 ) ) );
let C87 , C88 being (Function of D56 , C84);
assume that
L303: (for B86 being (Element of D56) holds ( C87 . B86 ) = ( "\/" ({ ( "/\" ({ ( C85 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B87)) } , C84) ) where B87 is (Subset of R1) : B87 in B86 } , C84) ))
and
L304: (for B88 being (Element of D56) holds ( C88 . B88 ) = ( "\/" ({ ( "/\" ({ ( C85 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B89)) } , C84) ) where B89 is (Subset of R1) : B89 in B88 } , C84) ));
reconsider D57 = C88 as (Function of (the carrier of D56) , (the carrier of C84));
reconsider D58 = C87 as (Function of (the carrier of D56) , (the carrier of C84));
L305:
now
let C89 being (Element of D56);
thus L306: ( D58 . C89 ) = ( "\/" ({ ( "/\" ({ ( C85 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B90)) } , C84) ) where B90 is (Subset of R1) : B90 in C89 } , C84) ) by L303
.= ( D57 . C89 ) by L304;
end;
thus L307: C87 = C88 by L305 , FUNCT_2:63;
end;
end;
theorem
L309: (for R1 being set holds (for B91 being  continuous  complete non  empty Poset holds (for B92 being (Function of ( FixedUltraFilters R1 ) , (the carrier of B91)) holds ( B92 -extension_to_hom ) is  monotone)))
proof
let R1 being set;
let C90 being  continuous  complete non  empty Poset;
let C91 being (Function of ( FixedUltraFilters R1 ) , (the carrier of C90));
let C92 , C93 being (Element of ( InclPoset ( Filt ( BoolePoset R1 ) ) ));
set D59 = ( C91 -extension_to_hom );
set D60 = { ( "/\" ({ ( C91 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B93)) } , C90) ) where B93 is (Subset of R1) : B93 in C92 };
set D61 = { ( "/\" ({ ( C91 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B94)) } , C90) ) where B94 is (Subset of R1) : B94 in C93 };
L310: ( ex_sup_of D60 , C90 &  ex_sup_of D61 , C90) by YELLOW_0:17;
L311: ( D59 . C92 ) = ( "\/" ({ ( "/\" ({ ( C91 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B95)) } , C90) ) where B95 is (Subset of R1) : B95 in C92 } , C90) ) by L300;
assume L312: C92 <= C93;
L313: C92 c= C93 by L312 , YELLOW_1:3;
L314: D60 c= D61
proof
let C94 being set;
assume L315: C94 in D60;
L316: (ex B96 being (Subset of R1) st (C94 = ( "/\" ({ ( C91 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B96)) } , C90) ) & B96 in C92)) by L315;
thus L317: thesis by L316 , L313;
end;
L318: ( D59 . C93 ) = ( "\/" ({ ( "/\" ({ ( C91 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B97)) } , C90) ) where B97 is (Subset of R1) : B97 in C93 } , C90) ) by L300;
let C95 , C96 being (Element of C90);
assume L319: (C95 = ( D59 . C92 ) & C96 = ( D59 . C93 ));
thus L320: C95 <= C96 by L319 , L311 , L318 , L310 , L314 , YELLOW_0:34;
end;
theorem
L321: (for R1 being set holds (for B98 being  continuous  complete non  empty Poset holds (for B99 being (Function of ( FixedUltraFilters R1 ) , (the carrier of B98)) holds ( ( B99 -extension_to_hom ) . ( Top ( InclPoset ( Filt ( BoolePoset R1 ) ) ) ) ) = ( Top B98 ))))
proof
let R1 being set;
let C97 being  continuous  complete non  empty Poset;
let C98 being (Function of ( FixedUltraFilters R1 ) , (the carrier of C97));
set D62 = ( InclPoset ( Filt ( BoolePoset R1 ) ) );
set D63 = ( C98 -extension_to_hom );
reconsider D64 = ( Top D62 ) as (Element of D62);
reconsider D65 = ( {} ) as (Subset of R1) by XBOOLE_1:2;
set D66 = { ( "/\" ({ ( C98 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B100)) } , C97) ) where B100 is (Subset of R1) : B100 in D64 };
L322: { ( C98 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in D65)) } = ( {} )
proof
assume L323: (not thesis);
consider C99 being set such that L324: C99 in { ( C98 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in D65)) } by L323 , XBOOLE_0:def 1;
L325: (ex R3 being (Element of ( BoolePoset R1 )) st (C99 = ( C98 . ( uparrow R3 ) ) & (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in D65)))) by L324;
thus L326: contradiction by L325;
end;
L327: ( D63 . D64 ) = ( "\/" ({ ( "/\" ({ ( C98 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B101)) } , C97) ) where B101 is (Subset of R1) : B101 in D64 } , C97) ) by L300;
L328: D64 = ( bool R1 ) by WAYBEL16:15;
L329: ( "/\" ({ ( C98 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in D65)) } , C97) ) in D66 by L328;
L330: D66 is_<=_than ( "\/" (D66 , C97) ) by YELLOW_0:32;
L331: ( Top C97 ) <= ( "\/" (D66 , C97) ) by L330 , L329 , L322 , LATTICE3:def 9;
thus L332: thesis by L331 , L327 , WAYBEL15:3;
end;
registration
let R1 being set;
let C100 being  continuous  complete non  empty Poset;
let C101 being (Function of ( FixedUltraFilters R1 ) , (the carrier of C100));
cluster ( C101 -extension_to_hom ) ->  directed-sups-preserving;
coherence
proof
set D67 = ( C101 -extension_to_hom );
set D68 = ( InclPoset ( Filt ( BoolePoset R1 ) ) );
let C102 being (Subset of D68);
assume that
L333: C102 is non  empty  directed;
reconsider D69 = C102 as non  empty (Subset of D68) by L333;
set D70 = { { ( "/\" ({ ( C101 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B103)) } , C100) ) where B103 is (Subset of R1) : B103 in B102 } where B102 is (Element of D69) : (not contradiction) };
reconsider D71 = ( sup C102 ) as (Element of D68);
set D72 = { ( "/\" ({ ( C101 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B104)) } , C100) ) where B104 is (Subset of R1) : B104 in D71 };
L334: ( sup C102 ) = ( union C102 ) by L333 , L25;
L335:
now
let C103 being set;
thus L336:now
assume L337: C103 in D72;
consider C104 being (Subset of R1) such that L338: C103 = ( "/\" ({ ( C101 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C104)) } , C100) ) and L339: C104 in D71 by L337;
consider C105 being set such that L340: C104 in C105 and L341: C105 in C102 by L334 , L339 , TARSKI:def 4;
L342: { ( "/\" ({ ( C101 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B105)) } , C100) ) where B105 is (Subset of R1) : B105 in C105 } in D70 by L341;
L343: C103 in { ( "/\" ({ ( C101 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B106)) } , C100) ) where B106 is (Subset of R1) : B106 in C105 } by L338 , L340;
thus L344: C103 in ( union D70 ) by L343 , L342 , TARSKI:def 4;
end;
assume L345: C103 in ( union D70 );
consider C106 being set such that L346: C103 in C106 and L347: C106 in D70 by L345 , TARSKI:def 4;
consider C107 being (Element of D69) such that L348: C106 = { ( "/\" ({ ( C101 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B107)) } , C100) ) where B107 is (Subset of R1) : B107 in C107 } by L347;
consider C108 being (Subset of R1) such that L349: C103 = ( "/\" ({ ( C101 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C108)) } , C100) ) and L350: C108 in C107 by L346 , L348;
L351: C108 in D71 by L334 , L350 , TARSKI:def 4;
thus L352: C103 in D72 by L351 , L349;
end;
L353: D72 = ( union D70 ) by L335 , TARSKI:1;
set D73 = { ( sup B108 ) where B108 is (Subset of C100) : B108 in D70 };
assume L354:  ex_sup_of C102 , D68;
thus L355:  ex_sup_of ( D67 .: C102 ) , C100 by YELLOW_0:17;
L356: D70 c= ( bool (the carrier of C100) )
proof
let C109 being set;
assume L357: C109 in D70;
consider C110 being (Element of D69) such that L358: C109 = { ( "/\" ({ ( C101 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B109)) } , C100) ) where B109 is (Subset of R1) : B109 in C110 } by L357;
L359: C109 c= (the carrier of C100)
proof
let C111 being set;
assume L360: C111 in C109;
L361: (ex B110 being (Subset of R1) st (C111 = ( "/\" ({ ( C101 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B110)) } , C100) ) & B110 in C110)) by L360 , L358;
thus L362: thesis by L361;
end;
thus L363: thesis by L359;
end;
L364: ( "\/" (( union D70 ) , C100) ) = ( "\/" (D73 , C100) ) by L356 , L13;
L365:
now
let C112 being set;
thus L366:now
assume L367: C112 in ( D67 .: C102 );
consider C113 being set such that L368: C113 in (the carrier of D68) and L369: C113 in C102 and L370: ( D67 . C113 ) = C112 by L367 , FUNCT_2:64;
reconsider D74 = C113 as (Element of C102) by L369;
reconsider D75 = D74 as (Element of D68) by L368;
set D76 = { ( "/\" ({ ( C101 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B111)) } , C100) ) where B111 is (Subset of R1) : B111 in D75 };
L371: D76 c= (the carrier of C100)
proof
let C114 being set;
assume L372: C114 in D76;
L373: (ex B112 being (Subset of R1) st (C114 = ( "/\" ({ ( C101 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B112)) } , C100) ) & B112 in D75)) by L372;
thus L374: thesis by L373;
end;
reconsider D77 = D76 as (Subset of C100) by L371;
L375: D77 in D70;
L376: ( D67 . D75 ) = ( "\/" ({ ( "/\" ({ ( C101 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B113)) } , C100) ) where B113 is (Subset of R1) : B113 in D75 } , C100) ) by L300;
thus L377: C112 in D73 by L376 , L370 , L375;
end;
assume L378: C112 in D73;
consider C115 being (Subset of C100) such that L379: C112 = ( sup C115 ) and L380: C115 in D70 by L378;
consider C116 being (Element of C102) such that L381: C115 = { ( "/\" ({ ( C101 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B114)) } , C100) ) where B114 is (Subset of R1) : B114 in C116 } by L380;
reconsider D78 = C116 as (Element of D69);
reconsider D79 = D78 as (Element of D68);
L382: ( D67 . D79 ) = ( "\/" ({ ( "/\" ({ ( C101 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B115)) } , C100) ) where B115 is (Subset of R1) : B115 in D79 } , C100) ) by L300;
thus L383: C112 in ( D67 .: C102 ) by L382 , L379 , L381 , FUNCT_2:35;
end;
L384: ( D67 . D71 ) = ( "\/" ({ ( "/\" ({ ( C101 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B116)) } , C100) ) where B116 is (Subset of R1) : B116 in D71 } , C100) ) by L300;
thus L385: thesis by L384 , L364 , L353 , L365 , TARSKI:1;
end;
end;
registration
let R1 being set;
let C117 being  continuous  complete non  empty Poset;
let C118 being (Function of ( FixedUltraFilters R1 ) , (the carrier of C117));
cluster ( C118 -extension_to_hom ) ->  infs-preserving;
coherence
proof
set D80 = ( FixedUltraFilters R1 );
set D81 = (the carrier of C117);
set D82 = ( C118 -extension_to_hom );
set D83 = ( BoolePoset R1 );
set D84 = ( InclPoset ( Filt D83 ) );
set D85 = (the carrier of D84);
L387: ( InclPoset ( Filt D83 ) ) = RelStr (# ( Filt D83 ) , ( RelIncl ( Filt D83 ) ) #) by YELLOW_1:def 1;
let C119 being (Subset of D84);
assume L388:  ex_inf_of C119 , D84;
thus L389:  ex_inf_of ( D82 .: C119 ) , C117 by YELLOW_0:17;
L390: ( BoolePoset R1 ) = ( InclPoset ( bool R1 ) ) by YELLOW_1:4;
L391: ( InclPoset ( bool R1 ) ) = RelStr (# ( bool R1 ) , ( RelIncl ( bool R1 ) ) #) by YELLOW_1:def 1;
L392: (the carrier of ( BoolePoset R1 )) = ( bool R1 ) by L391 , YELLOW_1:4;
per cases ;
suppose L393: C119 is  empty;

L394: (( "/\" (( D82 .: C119 ) , C117) ) = ( Top C117 ) & ( "/\" (C119 , D84) ) = ( Top D84 )) by L393;
thus L395: thesis by L394 , L321;
end;
suppose L396: C119 is non  empty;

reconsider D86 = C119 as non  empty (Subset of D84) by L396;
defpred S4[ set , set , set ] means $1 = ( "/\" ({ ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in $2)) } , C117) );
deffunc H2((Element of D86)) = { ( "/\" ({ ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B117)) } , C117) ) where B117 is (Subset of R1) : B117 in $1 };
L397: (not ( {} ) in D86);
L398: D86 is  with_non-empty_elements by L397 , SETFAM_1:def 8;
reconsider D87 = ( id D86 ) as  non-empty (ManySortedSet of D86) by L398;
L399: (for B118 being set holds (B118 in D86 implies (for B119 being set holds (B119 in ( D87 . B118 ) implies (ex B120 being set st (B120 in ( ( D86 --> D81 ) . B118 ) & S4[ B120 , B119 , B118 ]))))))
proof
let C120 being set;
assume that
L400: C120 in D86;
let C121 being set;
assume that
L401: C121 in ( D87 . C120 );
take D88 = ( "/\" ({ ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C121)) } , C117) );
L402: D88 in D81;
thus L403: D88 in ( ( D86 --> D81 ) . C120 ) by L402 , L400 , FUNCOP_1:7;
thus L404: thesis;
end;
consider C122 being (ManySortedFunction of D87 , ( D86 --> D81 )) such that L405: (for B121 being set holds (B121 in D86 implies (ex B122 being (Function of ( D87 . B121 ) , ( ( D86 --> D81 ) . B121 )) st (B122 = ( C122 . B121 ) & (for B123 being set holds (B123 in ( D87 . B121 ) implies S4[ ( B122 . B123 ) , B123 , B121 ])))))) from MSSUBFAM:sch 1(L399);
defpred S5[ (Element of D86) ] means ( rng ( C122 . $1 ) ) = H2($1);
L406: (for B124 being (Element of D86) holds S5[ B124 ])
proof
let C123 being (Element of D86);
L407:
now
let C124 being set;
consider C125 being (Function of ( D87 . C123 ) , ( ( D86 --> D81 ) . C123 )) such that L408: C125 = ( C122 . C123 ) and L409: (for B125 being set holds (B125 in ( D87 . C123 ) implies S4[ ( C125 . B125 ) , B125 , C123 ])) by L405;
thus L410:now
assume L411: C124 in ( rng ( C122 . C123 ) );
consider C126 being set such that L412: C126 in ( dom ( C122 . C123 ) ) and L413: C124 = ( ( C122 . C123 ) . C126 ) by L411 , FUNCT_1:def 3;
consider C127 being (Function of ( D87 . C123 ) , ( ( D86 --> D81 ) . C123 )) such that L414: C127 = ( C122 . C123 ) and L415: (for B126 being set holds (B126 in ( D87 . C123 ) implies S4[ ( C127 . B126 ) , B126 , C123 ])) by L405;
L416: ( dom ( C122 . C123 ) ) = ( D87 . C123 ) by FUNCT_2:def 1;
L417: ( C127 . C126 ) = ( "/\" ({ ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C126)) } , C117) ) by L412 , L415;
L418: C123 in D85;
L419: (( D87 . C123 ) = C123 & (ex B127 being (Filter of D83) st C123 = B127)) by L418 , L387 , FUNCT_1:18;
reconsider D89 = C126 as (Subset of R1) by L419 , L391 , L412 , L416 , YELLOW_1:4;
L420: D89 in C123 by L412 , L416 , FUNCT_1:18;
thus L421: C124 in H2(C123) by L420 , L413 , L414 , L417;
end;
assume L422: C124 in H2(C123);
consider C128 being (Subset of R1) such that L423: C124 = ( "/\" ({ ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C128)) } , C117) ) and L424: C128 in C123 by L422;
L425: ( dom ( C122 . C123 ) ) = ( D87 . C123 ) by FUNCT_2:def 1;
L426: C128 in ( dom ( C122 . C123 ) ) by L425 , L424 , FUNCT_1:18;
L427: ( D87 . C123 ) = C123 by FUNCT_1:18;
L428: ( C125 . C128 ) = ( "/\" ({ ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C128)) } , C117) ) by L427 , L424 , L409;
thus L429: C124 in ( rng ( C122 . C123 ) ) by L428 , L423 , L426 , L408 , FUNCT_1:def 3;
end;
thus L430: thesis by L407 , TARSKI:1;
end;
L431: ( meet D86 ) is (Filter of ( BoolePoset R1 )) by WAYBEL16:9;
L432: ( meet D86 ) in ( Filt D83 ) by L431;
reconsider D90 = ( meet D86 ) as (Element of D85) by L432 , L387;
set D91 = { ( "/\" ({ ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B128)) } , C117) ) where B128 is (Subset of R1) : B128 in D90 };
L433: ( dom C122 ) = D86 by PARTFUN1:def 2;
reconsider D92 = C122 as (DoubleIndexedSet of D87 , C117);
L434:
now
let C129 being set;
thus L435:now
assume L436: C129 in ( D82 .: C119 );
consider C130 being set such that L437: C130 in D85 and L438: C130 in C119 and L439: ( D82 . C130 ) = C129 by L436 , FUNCT_2:64;
reconsider D93 = C130 as (Element of D85) by L437;
reconsider D94 = C130 as (Element of D86) by L438;
L440: S5[ D94 ] by L406;
L441: ( D82 . D93 ) = ( "\/" ({ ( "/\" ({ ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B129)) } , C117) ) where B129 is (Subset of R1) : B129 in D93 } , C117) ) by L300;
L442: C129 = ( Sup ( D92 . D94 ) ) by L441 , L439 , L440 , YELLOW_2:def 5;
thus L443: C129 in ( rng ( Sups D92 ) ) by L442 , WAYBEL_5:14;
end;
assume L444: C129 in ( rng ( Sups D92 ) );
consider C131 being (Element of D86) such that L445: C129 = ( Sup ( D92 . C131 ) ) by L444 , WAYBEL_5:14;
L446: S5[ C131 ] by L406;
L447: ( D82 . C131 ) = ( "\/" (( rng ( D92 . C131 ) ) , C117) ) by L446 , L300
.= ( Sup ( D92 . C131 ) ) by YELLOW_2:def 5;
thus L448: C129 in ( D82 .: C119 ) by L447 , L445 , FUNCT_2:35;
end;
L449: ( D82 .: C119 ) = ( rng ( Sups D92 ) ) by L434 , TARSKI:1;
L450: ( inf ( D82 .: C119 ) ) = ( Inf ( Sups D92 ) ) by L449 , YELLOW_2:def 6;
L451:
now
reconsider D95 = ( product ( doms D92 ) ) as non  empty  functional set;
let C132 being set;
reconsider D96 = ( ( product ( doms D92 ) ) --> D86 ) as (ManySortedSet of D95);
reconsider D97 = ( Frege D92 ) as (DoubleIndexedSet of D96 , C117);
deffunc H3((Element of D95)) = { ( "/\" ({ ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in ( $1 . B130 ))) } , C117) ) where B130 is (Element of D86) : B130 in ( dom ( D97 . $1 ) ) };
L452: ( dom D97 ) = D95 by PARTFUN1:def 2;
L453:
now
let C133 being (Element of D95);
L454: ( dom D92 ) = ( dom ( D97 . C133 ) ) by L452 , WAYBEL_5:8;
L455:
now
let C134 being set;
thus L456:now
assume L457: C134 in ( rng ( D97 . C133 ) );
consider C135 being set such that L458: C135 in ( dom ( D97 . C133 ) ) and L459: C134 = ( ( D97 . C133 ) . C135 ) by L457 , FUNCT_1:def 3;
L460: ( ( D97 . C133 ) . C135 ) = ( ( D92 . C135 ) . ( C133 . C135 ) ) by L452 , L454 , L458 , WAYBEL_5:9;
reconsider D98 = C135 as (Element of D86) by L454 , L458;
consider C136 being (Function of ( D87 . D98 ) , ( ( D86 --> D81 ) . D98 )) such that L461: C136 = ( D92 . D98 ) and L462: (for B131 being set holds (B131 in ( D87 . D98 ) implies S4[ ( C136 . B131 ) , B131 , D98 ])) by L405;
L463: ( dom ( D92 . D98 ) ) = ( D87 . D98 ) by FUNCT_2:def 1;
L464: ( C136 . ( C133 . D98 ) ) = ( "/\" ({ ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in ( C133 . D98 ))) } , C117) ) by L463 , L433 , L452 , L462 , WAYBEL_5:9;
thus L465: C134 in H3(C133) by L464 , L458 , L459 , L460 , L461;
end;
assume L466: C134 in H3(C133);
consider C137 being (Element of D86) such that L467: (C134 = ( "/\" ({ ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in ( C133 . C137 ))) } , C117) ) & C137 in ( dom ( D97 . C133 ) )) by L466;
reconsider D99 = C137 as (Element of D86);
consider C138 being (Function of ( D87 . D99 ) , ( ( D86 --> D81 ) . D99 )) such that L468: C138 = ( D92 . D99 ) and L469: (for B132 being set holds (B132 in ( D87 . D99 ) implies S4[ ( C138 . B132 ) , B132 , D99 ])) by L405;
L470: ( dom ( D92 . D99 ) ) = ( D87 . D99 ) by FUNCT_2:def 1;
L471: ( C138 . ( C133 . D99 ) ) = ( "/\" ({ ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in ( C133 . D99 ))) } , C117) ) by L470 , L433 , L452 , L469 , WAYBEL_5:9;
thus L472: C134 in ( rng ( D97 . C133 ) ) by L471 , L452 , L454 , L467 , L468 , WAYBEL_5:9;
end;
thus L473: ( rng ( D97 . C133 ) ) = H3(C133) by L455 , TARSKI:1;
end;
thus L474:now
assume L475: C132 in ( rng ( Infs ( Frege D92 ) ) );
consider C139 being (Element of D95) such that L476: C132 = ( Inf ( D97 . C139 ) ) by L475 , WAYBEL_5:14;
set D100 = { { ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in ( C139 . B133 ))) } where B133 is (Element of D86) : B133 in ( dom ( D97 . C139 ) ) };
L477: D100 c= ( bool (the carrier of C117) )
proof
let C140 being set;
assume L478: C140 in D100;
consider C141 being (Element of D86) such that L479: C140 = { ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in ( C139 . C141 ))) } and L480: C141 in ( dom ( D97 . C139 ) ) by L478;
L481: C140 c= D81
proof
let C142 being set;
assume L482: C142 in C140;
consider R3 being (Element of ( BoolePoset R1 )) such that L483: C142 = ( C118 . ( uparrow R3 ) ) and L484: (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in ( C139 . C141 ))) by L482 , L479;
L485: ( uparrow R3 ) in D80 by L484;
thus L486: thesis by L485 , L483 , FUNCT_2:5;
end;
thus L487: thesis by L481;
end;
L488:
now
let C143 being set;
thus L489:now
assume L490: C143 in H3(C139);
consider C144 being (Element of D86) such that L491: C143 = ( "/\" ({ ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in ( C139 . C144 ))) } , C117) ) and L492: C144 in ( dom ( D97 . C139 ) ) by L490;
L493: { ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in ( C139 . C144 ))) } c= D81
proof
let C145 being set;
assume L494: C145 in { ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in ( C139 . C144 ))) };
consider R3 being (Element of ( BoolePoset R1 )) such that L495: C145 = ( C118 . ( uparrow R3 ) ) and L496: (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in ( C139 . C144 ))) by L494;
L497: ( uparrow R3 ) in D80 by L496;
thus L498: thesis by L497 , L495 , FUNCT_2:5;
end;
reconsider D101 = { ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in ( C139 . C144 ))) } as (Subset of C117) by L493;
L499: D101 in D100 by L492;
thus L500: C143 in { ( inf B134 ) where B134 is (Subset of C117) : B134 in D100 } by L499 , L491;
end;
assume L501: C143 in { ( inf B135 ) where B135 is (Subset of C117) : B135 in D100 };
consider C146 being (Subset of C117) such that L502: C143 = ( inf C146 ) and L503: C146 in D100 by L501;
L504: (ex B136 being (Element of D86) st (C146 = { ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in ( C139 . B136 ))) } & B136 in ( dom ( D97 . C139 ) ))) by L503;
thus L505: C143 in H3(C139) by L504 , L502;
end;
L506: H3(C139) = { ( inf B137 ) where B137 is (Subset of C117) : B137 in D100 } by L488 , TARSKI:1;
L507: ( dom C139 ) = ( dom D92 ) by L452 , WAYBEL_5:8;
L508: ( union ( rng C139 ) ) c= R1
proof
let C147 being set;
assume L509: C147 in ( union ( rng C139 ) );
consider C148 being set such that L510: C147 in C148 and L511: C148 in ( rng C139 ) by L509 , TARSKI:def 4;
consider C149 being set such that L512: C149 in ( dom C139 ) and L513: C148 = ( C139 . C149 ) by L511 , FUNCT_1:def 3;
L514: ( D92 . C149 ) is (Function of ( D87 . C149 ) , D81) by L507 , L512 , WAYBEL_5:6;
L515: ( dom ( D92 . C149 ) ) = ( D87 . C149 ) by L514 , FUNCT_2:def 1
.= C149 by L507 , L512 , FUNCT_1:17;
L516: C148 in C149 by L515 , L452 , L507 , L512 , L513 , WAYBEL_5:9;
L517: C149 in D85 by L433 , L507 , L512;
L518: (ex B138 being (Filter of D83) st C149 = B138) by L517 , L387;
thus L519: thesis by L518 , L392 , L510 , L516;
end;
reconsider D102 = ( union ( rng C139 ) ) as (Subset of R1) by L508;
set D103 = { ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in D102)) };
L520: ( dom D92 ) = ( dom ( D97 . C139 ) ) by L452 , WAYBEL_5:8;
L521:
now
let C150 being set;
thus L522:now
assume L523: C150 in ( union D100 );
consider C151 being set such that L524: C150 in C151 and L525: C151 in D100 by L523 , TARSKI:def 4;
consider C152 being (Element of D86) such that L526: C151 = { ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in ( C139 . C152 ))) } and L527: C152 in ( dom ( D97 . C139 ) ) by L525;
consider R3 being (Element of ( BoolePoset R1 )) such that L528: C150 = ( C118 . ( uparrow R3 ) ) and L529: (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in ( C139 . C152 ))) by L524 , L526;
consider R4 being (Element of R1) such that L530: R3 = { R4 } and L531: R4 in ( C139 . C152 ) by L529;
L532: ( C139 . C152 ) in ( rng C139 ) by L520 , L507 , L527 , FUNCT_1:def 3;
L533: R4 in D102 by L532 , L531 , TARSKI:def 4;
thus L534: C150 in D103 by L533 , L528 , L530;
end;
assume L535: C150 in D103;
consider R3 being (Element of ( BoolePoset R1 )) such that L536: C150 = ( C118 . ( uparrow R3 ) ) and L537: (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in D102)) by L535;
consider R4 being (Element of R1) such that L538: R3 = { R4 } and L539: R4 in D102 by L537;
consider C153 being set such that L540: R4 in C153 and L541: C153 in ( rng C139 ) by L539 , TARSKI:def 4;
consider C154 being set such that L542: C154 in ( dom C139 ) and L543: C153 = ( C139 . C154 ) by L541 , FUNCT_1:def 3;
reconsider D104 = C154 as (Element of D86) by L507 , L542;
L544: { ( C118 . ( uparrow B139 ) ) where B139 is (Element of D83) : (ex R4 being (Element of R1) st (B139 = { R4 } & R4 in ( C139 . D104 ))) } in D100 by L520 , L507 , L542;
L545: C150 in { ( C118 . ( uparrow B140 ) ) where B140 is (Element of D83) : (ex R4 being (Element of R1) st (B140 = { R4 } & R4 in ( C139 . D104 ))) } by L536 , L538 , L540 , L543;
thus L546: C150 in ( union D100 ) by L545 , L544 , TARSKI:def 4;
end;
L547: ( union D100 ) = D103 by L521 , TARSKI:1;
L548:
now
reconsider D105 = D102 as (Element of D83) by L391 , YELLOW_1:4;
let C155 being set;
assume L549: C155 in D86;
L550: ( D92 . C155 ) is (Function of ( D87 . C155 ) , D81) by L549 , WAYBEL_5:6;
L551: ( dom ( D92 . C155 ) ) = ( D87 . C155 ) by L550 , FUNCT_2:def 1
.= C155 by L549 , FUNCT_1:17;
L552: ( C139 . C155 ) in ( rng C139 ) by L433 , L507 , L549 , FUNCT_1:def 3;
L553: ( C139 . C155 ) c= D102 by L552 , ZFMISC_1:74;
reconsider D106 = ( C139 . C155 ) as (Element of D83) by L553 , L390 , L391 , XBOOLE_1:1;
L554: D106 <= D105 by L553 , YELLOW_1:2;
L555: C155 in D85 by L549;
L556: (ex B141 being (Filter of D83) st C155 = B141) by L555 , L387;
L557: ( C139 . C155 ) in ( dom ( D92 . C155 ) ) by L433 , L452 , L549 , WAYBEL_5:9;
thus L558: D102 in C155 by L557 , L556 , L551 , L554 , WAYBEL_0:def 20;
end;
L559: D102 in D90 by L548 , SETFAM_1:def 1;
L560: ( "/\" (D103 , C117) ) in D91 by L559;
L561: ( "/\" (( rng ( D97 . C139 ) ) , C117) ) = ( "/\" (H3(C139) , C117) ) by L453
.= ( "/\" (( union D100 ) , C117) ) by L477 , L506 , L1;
thus L562: C132 in D91 by L561 , L476 , L560 , L547 , YELLOW_2:def 6;
end;
assume L563: C132 in D91;
consider C156 being (Subset of R1) such that L564: C132 = ( "/\" ({ ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C156)) } , C117) ) and L565: C156 in D90 by L563;
L566: ( "/\" ({ C132 } , C117) ) = C132 by L564 , YELLOW_0:39;
set D107 = ( D86 --> C156 );
L567: ( dom ( doms D92 ) ) = ( dom D92 ) by FUNCT_6:59
.= ( dom D107 ) by L433 , FUNCOP_1:13;
L568:
now
let C157 being set;
assume L569: C157 in ( dom ( doms D92 ) );
L570: ( D92 . C157 ) is (Function of ( D87 . C157 ) , ( ( D86 --> D81 ) . C157 )) by L569 , L567 , PBOOLE:def 15;
L571: ( dom ( D92 . C157 ) ) = ( D87 . C157 ) by L570 , L567 , L569 , FUNCT_2:def 1
.= C157 by L567 , L569 , FUNCT_1:18;
L572: (( ( doms D92 ) . C157 ) = ( dom ( D92 . C157 ) ) & ( D107 . C157 ) = C156) by L433 , L567 , L569 , FUNCOP_1:7 , FUNCT_6:22;
thus L573: ( D107 . C157 ) in ( ( doms D92 ) . C157 ) by L572 , L565 , L567 , L569 , L571 , SETFAM_1:def 1;
end;
set D108 = D107;
reconsider D109 = D107 as (Element of D95) by L567 , L568 , CARD_3:9;
L574:
now
set D110 = the (Element of D86);
let C158 being set;
L575: (( dom D108 ) = D86 & ( D109 . D110 ) = C156) by FUNCOP_1:7 , FUNCOP_1:13;
thus L576:now
assume L577: C158 in H3(D109);
consider C159 being (Element of D86) such that L578: C158 = ( "/\" ({ ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in ( D109 . C159 ))) } , C117) ) and L579: C159 in ( dom ( D97 . D109 ) ) by L577;
L580: ( D109 . C159 ) = C156 by FUNCOP_1:7;
thus L581: C158 in { C132 } by L580 , L564 , L578 , TARSKI:def 1;
end;
assume L582: C158 in { C132 };
L583: C158 = C132 by L582 , TARSKI:def 1;
L584: (( dom D92 ) = ( dom ( D97 . D109 ) ) & ( dom D109 ) = ( dom D92 )) by L452 , WAYBEL_5:8;
thus L585: C158 in H3(D109) by L584 , L564 , L583 , L575;
end;
L586: { ( "/\" ({ ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in ( D109 . B142 ))) } , C117) ) where B142 is (Element of D86) : B142 in ( dom ( D97 . D109 ) ) } = { C132 } by L574 , TARSKI:1;
L587: (( Inf ( D97 . D109 ) ) = ( "/\" (( rng ( D97 . D109 ) ) , C117) ) & ( rng ( D97 . D109 ) ) = H3(D109)) by L453 , YELLOW_2:def 6;
thus L588: C132 in ( rng ( Infs ( Frege D92 ) ) ) by L587 , L586 , L566 , WAYBEL_5:14;
end;
L589: (for B143 being (Element of D86) holds ( rng ( D92 . B143 ) ) is  directed)
proof
let C160 being (Element of D86);
let C161 , C162 being (Element of C117);
assume that
L590: C161 in ( rng ( D92 . C160 ) )
and
L591: C162 in ( rng ( D92 . C160 ) );
consider C163 being set such that L592: C163 in ( dom ( D92 . C160 ) ) and L593: ( ( D92 . C160 ) . C163 ) = C161 by L590 , FUNCT_1:def 3;
consider C164 being set such that L594: C164 in ( dom ( D92 . C160 ) ) and L595: ( ( D92 . C160 ) . C164 ) = C162 by L591 , FUNCT_1:def 3;
L596: ( D87 . C160 ) = C160 by FUNCT_1:18;
L597: C160 in D85;
consider C165 being (Filter of D83) such that L598: C160 = C165 by L597 , L387;
L599: ( dom ( D92 . C160 ) ) = ( D87 . C160 ) by FUNCT_2:def 1;
reconsider D111 = C163 as (Element of D83) by L599 , L592 , L596 , L598;
reconsider D112 = C164 as (Element of D83) by L594 , L599 , L596 , L598;
consider C166 being (Element of D83) such that L600: C166 in C165 and L601: C166 <= D111 and L602: C166 <= D112 by L592 , L594 , L596 , L598 , WAYBEL_0:def 2;
set D113 = ( ( D92 . C160 ) . C166 );
L603: D113 in ( rng ( D92 . C160 ) ) by L599 , L596 , L598 , L600 , FUNCT_1:def 3;
consider C167 being (Function of ( D87 . C160 ) , ( ( D86 --> D81 ) . C160 )) such that L604: C167 = ( D92 . C160 ) and L605: (for B144 being set holds (B144 in ( D87 . C160 ) implies S4[ ( C167 . B144 ) , B144 , C160 ])) by L405;
set D114 = { ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C166)) };
L606: ( C167 . C166 ) = ( "/\" (D114 , C117) ) by L596 , L598 , L600 , L605;
reconsider D115 = D113 as (Element of C117) by L603;
take D115;
thus L607: D115 in ( rng ( D92 . C160 ) ) by L599 , L596 , L598 , L600 , FUNCT_1:def 3;
L608:  ex_inf_of D114 , C117 by YELLOW_0:17;
set D116 = { ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in D112)) };
L609: C166 c= D112 by L602 , YELLOW_1:2;
L610: D114 c= D116
proof
let C168 being set;
assume L611: C168 in D114;
L612: (ex R3 being (Element of ( BoolePoset R1 )) st (C168 = ( C118 . ( uparrow R3 ) ) & (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C166)))) by L611;
thus L613: thesis by L612 , L609;
end;
L614:  ex_inf_of D116 , C117 by YELLOW_0:17;
set D117 = { ( C118 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in D111)) };
L615:  ex_inf_of D117 , C117 by YELLOW_0:17;
L616: C166 c= D111 by L601 , YELLOW_1:2;
L617: D114 c= D117
proof
let C169 being set;
assume L618: C169 in D114;
L619: (ex R3 being (Element of ( BoolePoset R1 )) st (C169 = ( C118 . ( uparrow R3 ) ) & (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C166)))) by L618;
thus L620: thesis by L619 , L616;
end;
L621: ( C167 . D111 ) = ( "/\" (D117 , C117) ) by L592 , L605;
thus L622: C161 <= D115 by L621 , L593 , L604 , L606 , L615 , L608 , L617 , YELLOW_0:35;
L623: ( C167 . D112 ) = ( "/\" (D116 , C117) ) by L594 , L605;
thus L624: C162 <= D115 by L623 , L595 , L604 , L606 , L608 , L614 , L610 , YELLOW_0:35;
end;
L625: ( Inf ( Sups D92 ) ) = ( Sup ( Infs ( Frege D92 ) ) ) by L589 , WAYBEL_5:19
.= ( "\/" (( rng ( Infs ( Frege D92 ) ) ) , C117) ) by YELLOW_2:def 5;
L626: (( inf D86 ) = ( meet D86 ) & ( D82 . ( meet D86 ) ) = ( "\/" (D91 , C117) )) by L300 , WAYBEL16:10;
thus L627: thesis by L626 , L450 , L625 , L451 , TARSKI:1;
end;
end;
end;
theorem
L630: (for R1 being set holds (for B145 being  continuous  complete non  empty Poset holds (for B146 being (Function of ( FixedUltraFilters R1 ) , (the carrier of B145)) holds ( ( B146 -extension_to_hom ) | ( FixedUltraFilters R1 ) ) = B146)))
proof
let R1 being set;
let C170 being  continuous  complete non  empty Poset;
let C171 being (Function of ( FixedUltraFilters R1 ) , (the carrier of C170));
set D118 = ( FixedUltraFilters R1 );
set D119 = ( BoolePoset R1 );
set D120 = ( InclPoset ( Filt D119 ) );
L631: ( InclPoset ( Filt D119 ) ) = RelStr (# ( Filt D119 ) , ( RelIncl ( Filt D119 ) ) #) by YELLOW_1:def 1;
set D121 = ( C171 -extension_to_hom );
L632: (the carrier of D119) = (the carrier of ( LattPOSet ( BooleLatt R1 ) )) by YELLOW_1:def 2
.= ( bool R1 ) by LATTICE3:def 1;
L633:
now
L634: ( dom D121 ) = (the carrier of D120) by FUNCT_2:def 1;
thus L635: D118 = ( dom ( D121 | D118 ) ) by L634 , L631 , L176 , RELAT_1:62;
thus L636: D118 = ( dom C171 ) by FUNCT_2:def 1;
let C172 being set;
assume L637: C172 in D118;
reconsider D122 = D118 as non  empty (Subset-Family of ( BoolePoset R1 )) by L637;
L638: ( ( D121 | D118 ) . C172 ) = ( D121 . C172 ) by L637 , FUNCT_1:49;
L639: D118 c= ( dom D121 ) by L631 , L634 , L176;
reconsider D123 = C172 as (Element of D120) by L639 , L637 , FUNCT_2:def 1;
reconsider D124 = C172 as (Element of D122) by L637;
set D125 = { ( "/\" ({ ( C171 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B147)) } , C170) ) where B147 is (Subset of R1) : B147 in D123 };
reconsider D126 = C171 as (Function of D122 , (the carrier of C170));
L640: ( D126 . D124 ) is (Element of C170);
reconsider D127 = ( C171 . D124 ) as (Element of C170) by L640;
consider C173 being (Element of ( BoolePoset R1 )) such that L641: C172 = ( uparrow C173 ) and L642: (ex B148 being (Element of R1) st C173 = { B148 }) by L637;
L643: D125 is_<=_than D127
proof
let C174 being (Element of C170);
assume L644: C174 in D125;
consider C175 being (Subset of R1) such that L645: C174 = ( "/\" ({ ( C171 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C175)) } , C170) ) and L646: C175 in D123 by L644;
set D128 = { ( C171 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C175)) };
L647:  ex_inf_of D128 , C170 by YELLOW_0:17;
L648: D128 is_>=_than C174 by L647 , L645 , YELLOW_0:def 10;
reconsider D129 = C175 as (Element of ( BoolePoset R1 )) by L641 , L646;
consider C176 being (Element of R1) such that L649: C173 = { C176 } by L642;
L650: C173 <= D129 by L641 , L646 , WAYBEL_0:18;
L651: C173 c= D129 by L650 , YELLOW_1:2;
L652: C176 in D129 by L651 , L649 , ZFMISC_1:31;
L653: D127 in D128 by L652 , L641 , L649;
thus L654: C174 <= D127 by L653 , L648 , LATTICE3:def 8;
end;
L655: (for B149 being (Element of C170) holds (D125 is_<=_than B149 implies D127 <= B149))
proof
L656: C173 <= C173;
reconsider D130 = C173 as (Element of D123) by L656 , L641 , WAYBEL_0:18;
set D131 = { ( C171 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in D130)) };
consider C177 being (Element of R1) such that L657: C173 = { C177 } by L642;
L658:
now
let C178 being set;
thus L659:now
assume L660: C178 in D131;
consider C179 being (Element of ( BoolePoset R1 )) such that L661: C178 = ( C171 . ( uparrow C179 ) ) and L662: (ex B150 being (Element of R1) st (C179 = { B150 } & B150 in D130)) by L660;
L663: C173 = C179 by L657 , L662 , TARSKI:def 1;
thus L664: C178 in { D127 } by L663 , L641 , L661 , TARSKI:def 1;
end;
assume L665: C178 in { D127 };
L666: C178 = D127 by L665 , TARSKI:def 1;
L667: C177 in D130 by L657 , TARSKI:def 1;
thus L668: C178 in D131 by L667 , L641 , L657 , L666;
end;
L669: D131 = { D127 } by L658 , TARSKI:1;
L670: D127 = ( "/\" (D131 , C170) ) by L669 , YELLOW_0:39;
L671: D127 in D125 by L670 , L632;
let C180 being (Element of C170);
assume L672: D125 is_<=_than C180;
thus L673: thesis by L672 , L671 , LATTICE3:def 9;
end;
L674:  ex_sup_of D125 , C170 by YELLOW_0:17;
L675: ( C171 . C172 ) = ( "\/" (D125 , C170) ) by L674 , L643 , L655 , YELLOW_0:def 9;
thus L676: ( ( D121 | D118 ) . C172 ) = ( C171 . C172 ) by L675 , L638 , L300;
end;
thus L677: thesis by L633 , FUNCT_1:2;
end;
theorem
L678: (for R1 being set holds (for B151 being  continuous  complete non  empty Poset holds (for B152 being (Function of ( FixedUltraFilters R1 ) , (the carrier of B151)) holds (for B153 being (CLHomomorphism of ( InclPoset ( Filt ( BoolePoset R1 ) ) ) , B151) holds (( B153 | ( FixedUltraFilters R1 ) ) = B152 implies B153 = ( B152 -extension_to_hom ))))))
proof
let R1 being set;
let C181 being  continuous  complete non  empty Poset;
let C182 being (Function of ( FixedUltraFilters R1 ) , (the carrier of C181));
let C183 being (CLHomomorphism of ( InclPoset ( Filt ( BoolePoset R1 ) ) ) , C181);
assume L679: ( C183 | ( FixedUltraFilters R1 ) ) = C182;
set D132 = ( C182 -extension_to_hom );
set D133 = (the carrier of C181);
set D134 = ( BoolePoset R1 );
set D135 = ( InclPoset ( Filt D134 ) );
set D136 = (the carrier of D135);
L680: ( InclPoset ( Filt D134 ) ) = RelStr (# ( Filt D134 ) , ( RelIncl ( Filt D134 ) ) #) by YELLOW_1:def 1;
reconsider D137 = D132 as (Function of D136 , D133);
reconsider D138 = C183 as (Function of D136 , D133);
L681: (the carrier of D134) = (the carrier of ( LattPOSet ( BooleLatt R1 ) )) by YELLOW_1:def 2
.= ( bool R1 ) by LATTICE3:def 1;
L682:
now
set D139 = ( FixedUltraFilters R1 );
let C184 being (Element of D136);
L683: C184 in ( Filt D134 ) by L680;
consider C185 being (Filter of D134) such that L684: C184 = C185 by L683;
set D140 = { ( "/\" ({ ( C182 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B154)) } , C181) ) where B154 is (Subset of R1) : B154 in C185 };
set D141 = { ( "/\" ({ ( uparrow R3 ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B155)) } , D135) ) where B155 is (Subset of R1) : B155 in C185 };
L685: D141 c= D136
proof
let C186 being set;
assume L686: C186 in D141;
L687: (ex B156 being (Subset of R1) st (C186 = ( "/\" ({ ( uparrow R3 ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B156)) } , D135) ) & B156 in C185)) by L686;
thus L688: thesis by L687;
end;
L689:
now
consider C187 being set such that L690: C187 in C185 by XBOOLE_0:def 1;
L691: ( "/\" ({ ( uparrow R3 ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C187)) } , D135) ) in D141 by L681 , L690;
thus L692: D141 is non  empty by L691;
end;
reconsider D142 = D141 as non  empty (Subset of D135) by L689 , L685;
L693:  ex_sup_of D142 , D135 by YELLOW_0:17;
L694: D142 is  directed
proof
let C188 , C189 being (Element of D135);
assume that
L695: C188 in D142
and
L696: C189 in D142;
consider C190 being (Subset of R1) such that L697: C189 = ( "/\" ({ ( uparrow R3 ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C190)) } , D135) ) and L698: C190 in C185 by L696;
reconsider D143 = C190 as (Element of C185) by L698;
set D144 = { ( uparrow R3 ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C190)) };
consider C191 being (Subset of R1) such that L699: C188 = ( "/\" ({ ( uparrow R3 ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C191)) } , D135) ) and L700: C191 in C185 by L695;
reconsider D145 = C191 as (Element of C185) by L700;
set D146 = { ( uparrow R3 ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C191)) };
per cases ;
suppose L701: D146 is  empty;

take C188;
thus L702: C188 in D142 by L695;
thus L703: C188 <= C188;
L704: ( "/\" (D146 , D135) ) = ( Top D135 ) by L701;
thus L705: C189 <= C188 by L704 , L699 , YELLOW_0:45;
end;
suppose L706: D144 is  empty;

take C189;
thus L707: C189 in D142 by L696;
L708: ( "/\" (D144 , D135) ) = ( Top D135 ) by L706;
thus L709: C188 <= C189 by L708 , L697 , YELLOW_0:45;
thus L710: C189 <= C189;
end;
suppose L711: (D146 is non  empty & D144 is non  empty);

L712: D144 c= D136
proof
let C192 being set;
assume L713: C192 in D144;
L714: (ex B157 being (Element of D134) st (C192 = ( uparrow B157 ) & (ex R4 being (Element of R1) st (B157 = { R4 } & R4 in C190)))) by L713;
thus L715: thesis by L714 , L680;
end;
reconsider D147 = D144 as non  empty (Subset of D135) by L712 , L711;
L716: D146 c= D136
proof
let C193 being set;
assume L717: C193 in D146;
L718: (ex B158 being (Element of D134) st (C193 = ( uparrow B158 ) & (ex R4 being (Element of R1) st (B158 = { R4 } & R4 in C191)))) by L717;
thus L719: thesis by L718 , L680;
end;
reconsider D148 = D146 as non  empty (Subset of D135) by L716 , L711;
L720: ( "/\" (D147 , D135) ) = ( meet D147 ) by WAYBEL16:10;
consider C194 being (Element of D134) such that L721: C194 in C185 and L722: C194 <= D145 and L723: C194 <= D143 by WAYBEL_0:def 2;
reconsider D149 = C194 as (Element of C185) by L721;
set D150 = ( "/\" ({ ( uparrow R3 ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in D149)) } , D135) );
set D151 = { ( uparrow R3 ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in D149)) };
L724: ( "/\" (D148 , D135) ) = ( meet D148 ) by WAYBEL16:10;
thus L725: thesis
proof
per cases ;
suppose L726: D151 is  empty;

take D150;
thus L727: D150 in D142 by L681;
L728: ( "/\" (D151 , D135) ) = ( Top D135 ) by L726;
thus L729: C188 <= D150 by L728 , YELLOW_0:45;
thus L730: C189 <= D150 by L728 , YELLOW_0:45;
end;
suppose L731: D151 is non  empty;

L732: D151 c= D136
proof
let C195 being set;
assume L733: C195 in D151;
L734: (ex B159 being (Element of D134) st (C195 = ( uparrow B159 ) & (ex R4 being (Element of R1) st (B159 = { R4 } & R4 in D149)))) by L733;
thus L735: thesis by L734 , L680;
end;
reconsider D152 = D151 as non  empty (Subset of D135) by L732 , L731;
take D150;
thus L736: D150 in D142 by L681;
L737: ( "/\" (D152 , D135) ) = ( meet D152 ) by WAYBEL16:10;
L738: C188 c= D150
proof
let C196 being set;
L739: D152 c= D148
proof
let C197 being set;
assume L740: C197 in D152;
L741: (ex B160 being (Element of D134) st (C197 = ( uparrow B160 ) & (ex R4 being (Element of R1) st (B160 = { R4 } & R4 in D149)))) by L740;
L742: D149 c= C191 by L722 , YELLOW_1:2;
thus L743: thesis by L742 , L741;
end;
L744: ( meet D148 ) c= ( meet D152 ) by L739 , SETFAM_1:6;
assume L745: C196 in C188;
thus L746: thesis by L745 , L699 , L724 , L737 , L744;
end;
thus L747: C188 <= D150 by L738 , YELLOW_1:3;
L748: C189 c= D150
proof
let C198 being set;
L749: D152 c= D147
proof
let C199 being set;
assume L750: C199 in D152;
L751: (ex B161 being (Element of D134) st (C199 = ( uparrow B161 ) & (ex R4 being (Element of R1) st (B161 = { R4 } & R4 in D149)))) by L750;
L752: D149 c= C190 by L723 , YELLOW_1:2;
thus L753: thesis by L752 , L751;
end;
L754: ( meet D147 ) c= ( meet D152 ) by L749 , SETFAM_1:6;
assume L755: C198 in C189;
thus L756: thesis by L755 , L697 , L720 , L737 , L754;
end;
thus L757: C189 <= D150 by L748 , YELLOW_1:3;
end;
end;

end;
end;
L727: C183 is  infs-preserving by WAYBEL16:def 1;
L728:
now
let C200 being set;
thus L729:now
assume L730: C200 in ( C183 .: D142 );
consider C201 being set such that L731: C201 in (the carrier of D135) and L732: C201 in D142 and L733: C200 = ( C183 . C201 ) by L730 , FUNCT_2:64;
consider C202 being (Subset of R1) such that L734: (C201 = ( "/\" ({ ( uparrow R3 ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C202)) } , D135) ) & C202 in C185) by L732;
set D153 = { ( uparrow R3 ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C202)) };
L735: D153 c= D136
proof
let C203 being set;
assume L736: C203 in D153;
L737: (ex B162 being (Element of D134) st (C203 = ( uparrow B162 ) & (ex B163 being (Element of R1) st (B162 = { B163 } & B163 in C202)))) by L736;
thus L738: thesis by L737 , L680;
end;
reconsider D154 = D153 as (Subset of D135) by L735;
set D155 = { ( C182 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C202)) };
L739:
now
let C204 being set;
thus L740:now
assume L741: C204 in ( C183 .: D154 );
consider C205 being set such that L742: C205 in (the carrier of D135) and L743: C205 in D154 and L744: C204 = ( C183 . C205 ) by L741 , FUNCT_2:64;
L745: (ex R3 being (Element of ( BoolePoset R1 )) st (C205 = ( uparrow R3 ) & (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C202)))) by L743;
L746: C205 in D139 by L745;
L747: ( C183 . C205 ) = ( C182 . C205 ) by L746 , L679 , FUNCT_1:49;
thus L748: C204 in D155 by L747 , L744 , L745;
end;
assume L749: C204 in D155;
consider R3 being (Element of ( BoolePoset R1 )) such that L750: C204 = ( C182 . ( uparrow R3 ) ) and L751: (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C202)) by L749;
L752: ( uparrow R3 ) in D139 by L751;
L753: ( C183 . ( uparrow R3 ) ) = ( C182 . ( uparrow R3 ) ) by L752 , L679 , FUNCT_1:49;
L754: ( uparrow R3 ) in D154 by L751;
thus L755: C204 in ( C183 .: D154 ) by L754 , L750 , L753 , FUNCT_2:35;
end;
L756: ( C183 .: D154 ) = D155 by L739 , TARSKI:1;
L757: (C183 preserves_inf_of D154 &  ex_inf_of D154 , D135) by L727 , WAYBEL_0:def 32 , YELLOW_0:17;
L758: ( inf ( C183 .: D154 ) ) = ( C183 . ( inf D154 ) ) by L757 , WAYBEL_0:def 30;
thus L759: C200 in D140 by L758 , L733 , L734 , L756;
end;
assume L760: C200 in D140;
consider C206 being (Subset of R1) such that L761: C200 = ( "/\" ({ ( C182 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C206)) } , C181) ) and L762: C206 in C185 by L760;
set D156 = { ( uparrow R3 ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C206)) };
L763: D156 c= D136
proof
let C207 being set;
assume L764: C207 in D156;
L765: (ex B164 being (Element of D134) st (C207 = ( uparrow B164 ) & (ex B165 being (Element of R1) st (B164 = { B165 } & B165 in C206)))) by L764;
thus L766: thesis by L765 , L680;
end;
reconsider D157 = D156 as (Subset of D135) by L763;
set D158 = { ( C182 . ( uparrow R3 ) ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C206)) };
L767: (C183 preserves_inf_of D157 &  ex_inf_of D157 , D135) by L727 , WAYBEL_0:def 32 , YELLOW_0:17;
L768: ( inf ( C183 .: D157 ) ) = ( C183 . ( inf D157 ) ) by L767 , WAYBEL_0:def 30;
L769:
now
let C208 being set;
thus L770:now
assume L771: C208 in ( C183 .: D157 );
consider C209 being set such that L772: C209 in (the carrier of D135) and L773: C209 in D157 and L774: C208 = ( C183 . C209 ) by L771 , FUNCT_2:64;
L775: (ex R3 being (Element of ( BoolePoset R1 )) st (C209 = ( uparrow R3 ) & (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C206)))) by L773;
L776: C209 in D139 by L775;
L777: ( C183 . C209 ) = ( C182 . C209 ) by L776 , L679 , FUNCT_1:49;
thus L778: C208 in D158 by L777 , L774 , L775;
end;
assume L779: C208 in D158;
consider R3 being (Element of ( BoolePoset R1 )) such that L780: C208 = ( C182 . ( uparrow R3 ) ) and L781: (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in C206)) by L779;
L782: ( uparrow R3 ) in D139 by L781;
L783: ( C183 . ( uparrow R3 ) ) = ( C182 . ( uparrow R3 ) ) by L782 , L679 , FUNCT_1:49;
L784: ( uparrow R3 ) in D157 by L781;
thus L785: C208 in ( C183 .: D157 ) by L784 , L780 , L783 , FUNCT_2:35;
end;
L786: ( C183 .: D157 ) = D158 by L769 , TARSKI:1;
L787: ( inf D157 ) in D142 by L762;
thus L788: C200 in ( C183 .: D142 ) by L787 , L761 , L768 , L786 , FUNCT_2:35;
end;
L789: ( C183 .: D142 ) = D140 by L728 , TARSKI:1;
L790: C185 = ( "\/" ({ ( "/\" ({ ( uparrow R3 ) where R3 is (Element of ( BoolePoset R1 )) : (ex R4 being (Element of R1) st (R3 = { R4 } & R4 in B166)) } , D135) ) where B166 is (Subset of R1) : B166 in C185 } , D135) ) by L216;
L791: C183 is  directed-sups-preserving by WAYBEL16:def 1;
L792: C183 preserves_sup_of D142 by L791 , L694 , WAYBEL_0:def 37;
thus L793: ( D138 . C184 ) = ( sup ( C183 .: D142 ) ) by L792 , L684 , L790 , L693 , WAYBEL_0:def 31
.= ( D137 . C184 ) by L684 , L789 , L300;
end;
thus L794: thesis by L682 , FUNCT_2:63;
end;
theorem
L795: (for R1 being set holds ( FixedUltraFilters R1 ) is_FreeGen_set_of ( InclPoset ( Filt ( BoolePoset R1 ) ) ))
proof
let R1 being set;
set D159 = ( FixedUltraFilters R1 );
set D160 = ( InclPoset ( Filt ( BoolePoset R1 ) ) );
let C210 being  continuous  complete non  empty Poset;
let C211 being (Function of D159 , (the carrier of C210));
reconsider D161 = ( C211 -extension_to_hom ) as (CLHomomorphism of D160 , C210) by WAYBEL16:def 1;
take D161;
thus L796: ( D161 | D159 ) = C211 by L630;
let C212 being (CLHomomorphism of D160 , C210);
assume L797: ( C212 | D159 ) = C211;
thus L798: thesis by L797 , L678;
end;
theorem
L799: (for B167 , B168 being  continuous  complete LATTICE holds (for B169 , B170 being set holds ((B169 is_FreeGen_set_of B167 & B170 is_FreeGen_set_of B168 & ( card B169 ) = ( card B170 )) implies B167 , B168 are_isomorphic )))
proof
let C213 , C214 being  continuous  complete LATTICE;
let C215 , C216 being set;
assume that
L800: C215 is_FreeGen_set_of C213
and
L801: C216 is_FreeGen_set_of C214
and
L802: ( card C215 ) = ( card C216 );
L803: C215 , C216 are_equipotent  by L802 , CARD_1:5;
consider C217 being Function such that L804: C217 is  one-to-one and L805: ( dom C217 ) = C215 and L806: ( rng C217 ) = C216 by L803 , WELLORD2:def 4;
set D162 = ( C217 " );
L807: ( dom D162 ) = C216 by L804 , L806 , FUNCT_1:33;
reconsider D163 = C216 as (Subset of C214) by L801 , L154;
L808: ( rng D162 ) = C215 by L804 , L805 , FUNCT_1:33;
reconsider D164 = C215 as (Subset of C213) by L800 , L154;
L809: D163 c= (the carrier of C214);
reconsider D165 = C217 as (Function of D164 , (the carrier of C214)) by L809 , L805 , L806 , FUNCT_2:def 1 , RELSET_1:4;
consider C218 being (CLHomomorphism of C213 , C214) such that L810: ( C218 | D164 ) = D165 and L811: (for B171 being (CLHomomorphism of C213 , C214) holds (( B171 | D164 ) = D165 implies B171 = C218)) by L800 , L152;
L812: D164 c= (the carrier of C213);
reconsider D166 = D162 as (Function of D163 , (the carrier of C213)) by L812 , L807 , L808 , FUNCT_2:def 1 , RELSET_1:4;
consider C219 being (CLHomomorphism of C214 , C213) such that L813: ( C219 | D163 ) = D166 and L814: (for B172 being (CLHomomorphism of C214 , C213) holds (( B172 | D163 ) = D166 implies B172 = C219)) by L801 , L152;
reconsider D167 = ( C219 * C218 ) as (CLHomomorphism of C213 , C213) by L28;
L815: ( D167 | D164 ) = ( C219 * D165 ) by L810 , RELAT_1:83
.= ( D166 * D165 ) by L806 , L813 , FUNCT_4:2
.= ( id D164 ) by L804 , L805 , FUNCT_1:39;
L816: D167 = ( id C213 ) by L815 , L800 , L160;
L817: C218 is  one-to-one by L816 , FUNCT_2:23;
reconsider D168 = ( C218 * C219 ) as (CLHomomorphism of C214 , C214) by L28;
L818: C218 is  directed-sups-preserving by WAYBEL16:def 1;
L819: C218 is  monotone by L818 , WAYBEL17:3;
L820: C219 is  directed-sups-preserving by WAYBEL16:def 1;
L821: C219 is  monotone by L820 , WAYBEL17:3;
L822: ( D168 | D163 ) = ( C218 * D166 ) by L813 , RELAT_1:83
.= ( D165 * D166 ) by L808 , L810 , FUNCT_4:2
.= ( id D163 ) by L804 , L806 , FUNCT_1:39;
L823: D168 = ( id C214 ) by L822 , L801 , L160;
L824: C218 is  onto by L823 , FUNCT_2:23;
L825: ( rng C218 ) = (the carrier of C214) by L824 , FUNCT_2:def 3;
L826: C219 = ( (C218 qua Function) " ) by L825 , L816 , L817 , FUNCT_2:30;
L827: C218 is  isomorphic by L826 , L817 , L819 , L821 , WAYBEL_0:def 38;
thus L828: thesis by L827 , WAYBEL_1:def 8;
end;
::$N Representation Theorem for Free Continuous Lattices
theorem
L829: (for R1 being set holds (for B173 being  continuous  complete LATTICE holds (for B174 being set holds ((B174 is_FreeGen_set_of B173 & ( card B174 ) = ( card R1 )) implies B173 , ( InclPoset ( Filt ( BoolePoset R1 ) ) ) are_isomorphic ))))
proof
let R1 being set;
L830: (( FixedUltraFilters R1 ) is_FreeGen_set_of ( InclPoset ( Filt ( BoolePoset R1 ) ) ) & ( card R1 ) = ( card ( FixedUltraFilters R1 ) )) by L180 , L795;
let C220 being  continuous  complete LATTICE;
let C221 being set;
assume L831: (C221 is_FreeGen_set_of C220 & ( card C221 ) = ( card R1 ));
thus L832: thesis by L831 , L830 , L799;
end;
