:: Irrationality of e
::  by Freek Wiedijk
::
:: Received July 2, 1999
:: Copyright (c) 1999-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, SUBSET_1, INT_1, XREAL_0, ORDINAL1, SEQ_1, FINSEQ_1,
      RAT_1, ORDINAL4, POWER, INT_2, SQUARE_1, XXREAL_0, CARD_1, ARYTM_3,
      RELAT_1, NAT_1, FUNCT_1, ARYTM_1, REALSET1, SEQ_2, ORDINAL2, COMPLEX1,
      VALUED_1, FUNCOP_1, SERIES_1, CARD_3, XBOOLE_0, RFINSEQ, PARTFUN1,
      FINSEQ_2, NEWTON, SIN_COS, IRRAT_1;
 notations XBOOLE_0, SUBSET_1, ORDINAL1, NUMBERS, XCMPLX_0, XXREAL_0, XREAL_0,
      INT_1, COMPLEX1, SQUARE_1,
      NAT_1, FUNCT_1, PARTFUN1, FUNCOP_1, VALUED_0, VALUED_1,
      SEQ_1, COMSEQ_2,
      SEQ_2, POWER, FINSEQ_1, RVSUM_1, SERIES_1, FINSEQ_2, RFINSEQ,
      SIN_COS, RAT_1, INT_2, PEPIN, NEWTON;
 constructors ARYTM_0, REAL_1, NAT_1, NAT_D, SEQ_2, PARTFUN1, RVSUM_1,
      LIMFUNC1, COMSEQ_3, RFINSEQ, BINARITH, SIN_COS, PEPIN, SEQ_1, SERIES_1,
      POWER, RELSET_1, COMSEQ_2;
 registrations ORDINAL1, RELSET_1, NUMBERS, XXREAL_0, XREAL_0, NAT_1, INT_1,
      MEMBERED, NEWTON, XBOOLE_0, VALUED_0, VALUED_1, FUNCT_2, POWER, SEQ_4,
      FINSEQ_1, COMSEQ_2;
 requirements REAL, NUMERALS, BOOLE, SUBSET, ARITHM;
 definitions SEQ_2, SQUARE_1, XCMPLX_0;
 theorems SEQ_1, POWER, NEWTON, NAT_1, SEQ_2, SEQ_4, ABSVALUE, RVSUM_1,
      FINSEQ_2, SERIES_1, RFINSEQ, FINSEQ_3, FINSEQ_5, SIN_COS, SQUARE_1,
      INT_1, RAT_1, INT_2, FUNCT_2, XCMPLX_0, XCMPLX_1, FUNCOP_1, XREAL_1,
      COMPLEX1, XXREAL_0, NAT_D, PARTFUN1, CARD_1, VALUED_0, ORDINAL1, XREAL_0;
 schemes SEQ_1, NAT_1;

begin
notation
let R8 being  real number;
antonym R8 is  irrational for R8 is  rational;
end;
notation
let R8 being  real number;
let R9 being  real number;
synonym R8 ^ R9 for R8 to_power R9;
end;
::$N The Irrationality of the Square Root of 2
theorem
L3: (for R4 being (Element of ( NAT )) holds (R4 is  prime implies ( sqrt R4 ) is  irrational))
proof
let R4 being (Element of ( NAT ));
assume L4: R4 is  prime;
L5: R4 > 1 by L4 , INT_2:def 4;
assume L6: ( sqrt R4 ) is  rational;
consider R7 being Integer, R3 being (Element of ( NAT )) such that L7: R3 <> ( 0 ) and L8: ( sqrt R4 ) = ( R7 / R3 ) and L9: (for B1 being Integer holds (for B2 being (Element of ( NAT )) holds ((B2 <> ( 0 ) & ( sqrt R4 ) = ( B1 / B2 )) implies R3 <= B2))) by L6 , RAT_1:9;
L10: R7 = ( ( sqrt R4 ) * R3 ) by L7 , L8 , XCMPLX_1:87;
L11: ( sqrt R4 ) >= ( 0 ) by SQUARE_1:def 2;
reconsider D1 = R7 as (Element of ( NAT )) by L11 , L10 , INT_1:3;
L12: ( D1 ^2 ) = ( ( ( sqrt R4 ) ^2 ) * ( R3 ^2 ) ) by L10
.= ( R4 * ( R3 ^2 ) ) by SQUARE_1:def 2;
L13: R4 divides ( D1 ^2 ) by L12 , NAT_D:def 3;
L14: R4 divides D1 by L13 , L4 , NEWTON:80;
consider C1 being Nat such that L15: D1 = ( R4 * C1 ) by L14 , NAT_D:def 3;
L16: ( R3 ^2 ) = ( ( R4 * ( R4 * ( C1 ^2 ) ) ) / R4 ) by L5 , L12 , L15 , XCMPLX_1:89
.= ( R4 * ( C1 ^2 ) ) by L5 , XCMPLX_1:89;
L17: R4 divides ( R3 ^2 ) by L16 , NAT_D:def 3;
L18: R4 divides R3 by L17 , L4 , NEWTON:80;
consider C2 being Nat such that L19: R3 = ( R4 * C2 ) by L18 , NAT_D:def 3;
L20: ( C1 / C2 ) = ( sqrt R4 ) by L5 , L8 , L15 , L19 , XCMPLX_1:91;
L21: C2 <> ( 0 ) by L7 , L19;
L22: ( R4 * C2 ) > ( 1 * C2 ) by L21 , L5 , XREAL_1:98;
thus L23: contradiction by L22 , L9 , L19 , L21 , L20;
end;
theorem
L24: (ex R8 being  real number st (ex R9 being  real number st (R8 is  irrational & R9 is  irrational & ( R8 ^ R9 ) is  rational)))
proof
set D2 = ( sqrt 2 );
L25: ( ( D2 ^ D2 ) ^ D2 ) = ( D2 ^ ( D2 ^2 ) ) by POWER:33 , SQUARE_1:19
.= ( D2 ^ 2 ) by SQUARE_1:def 2
.= ( D2 ^2 ) by POWER:46
.= 2 by SQUARE_1:def 2;
per cases ;
suppose L26: ( D2 ^ D2 ) is  rational;

take D2;
take D2;
thus L27: thesis by L26 , L3 , INT_2:28;
end;
suppose L28: ( D2 ^ D2 ) is  irrational;

take ( D2 ^ D2 );
take D2;
thus L29: thesis by L25 , L28 , L3 , INT_2:28;
end;
end;
begin
scheme LambdaRealSeq { F1(set) ->  real number } : ((ex R11 being Real_Sequence st (for R3 being (Element of ( NAT )) holds ( R11 . R3 ) = F1(R3))) & (for R12 being Real_Sequence holds (for R13 being Real_Sequence holds (((for R3 being (Element of ( NAT )) holds ( R12 . R3 ) = F1(R3)) & (for R3 being (Element of ( NAT )) holds ( R13 . R3 ) = F1(R3))) implies R12 = R13))))
proof
thus L31: (ex R11 being Real_Sequence st (for R3 being (Element of ( NAT )) holds ( R11 . R3 ) = F1(R3))) from SEQ_1:sch 1;
let R12 being Real_Sequence;
let R13 being Real_Sequence;
assume L32: (for R3 being (Element of ( NAT )) holds ( R12 . R3 ) = F1(R3));
assume L33: (for R3 being (Element of ( NAT )) holds ( R13 . R3 ) = F1(R3));
L34:
now
let R3 being (Element of ( NAT ));
thus L35: ( R12 . R3 ) = F1(R3) by L32
.= ( R13 . R3 ) by L33;
end;
thus L36: thesis by L34 , FUNCT_2:63;
end;
definition
let C3 being Nat;
func aseq C3 -> Real_Sequence means 
:L37: (for R3 being (Element of ( NAT )) holds ( it . R3 ) = ( ( R3 - C3 ) / R3 ));
correctness
proof
deffunc H1((Element of ( NAT ))) = ( ( $1 - C3 ) / $1 );
thus L38: ((ex B3 being Real_Sequence st (for B4 being (Element of ( NAT )) holds ( B3 . B4 ) = H1(B4))) & (for B5 , B6 being Real_Sequence holds (((for B7 being (Element of ( NAT )) holds ( B5 . B7 ) = H1(B7)) & (for B8 being (Element of ( NAT )) holds ( B6 . B8 ) = H1(B8))) implies B5 = B6))) from LambdaRealSeq;
end;
func bseq C3 -> Real_Sequence means 
:L39: (for R3 being (Element of ( NAT )) holds ( it . R3 ) = ( ( R3 choose C3 ) * ( R3 ^ ( - C3 ) ) ));
correctness
proof
deffunc H2((Element of ( NAT ))) = ( ( $1 choose C3 ) * ( $1 ^ ( - C3 ) ) );
thus L40: ((ex B9 being Real_Sequence st (for B10 being (Element of ( NAT )) holds ( B9 . B10 ) = H2(B10))) & (for B11 , B12 being Real_Sequence holds (((for B13 being (Element of ( NAT )) holds ( B11 . B13 ) = H2(B13)) & (for B14 being (Element of ( NAT )) holds ( B12 . B14 ) = H2(B14))) implies B11 = B12))) from LambdaRealSeq;
end;
end;
definition
let C4 being Nat;
func cseq C4 -> Real_Sequence means 
:L42: (for R1 being (Element of ( NAT )) holds ( it . R1 ) = ( ( C4 choose R1 ) * ( C4 ^ ( - R1 ) ) ));
correctness
proof
deffunc H3((Element of ( NAT ))) = ( ( C4 choose $1 ) * ( C4 ^ ( - $1 ) ) );
thus L43: ((ex B15 being Real_Sequence st (for B16 being (Element of ( NAT )) holds ( B15 . B16 ) = H3(B16))) & (for B17 , B18 being Real_Sequence holds (((for B19 being (Element of ( NAT )) holds ( B17 . B19 ) = H3(B19)) & (for B20 being (Element of ( NAT )) holds ( B18 . B20 ) = H3(B20))) implies B17 = B18))) from LambdaRealSeq;
end;
end;
theorem
L45: (for R1 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds ( ( cseq R3 ) . R1 ) = ( ( bseq R1 ) . R3 )))
proof
let R1 being (Element of ( NAT ));
let R3 being (Element of ( NAT ));
thus L46: ( ( cseq R3 ) . R1 ) = ( ( R3 choose R1 ) * ( R3 ^ ( - R1 ) ) ) by L42
.= ( ( bseq R1 ) . R3 ) by L39;
end;
definition
func dseq -> Real_Sequence means 
:L47: (for R3 being (Element of ( NAT )) holds ( it . R3 ) = ( ( 1 + ( 1 / R3 ) ) ^ R3 ));
correctness
proof
deffunc H4((Element of ( NAT ))) = ( ( 1 + ( 1 / $1 ) ) ^ $1 );
thus L48: ((ex B21 being Real_Sequence st (for B22 being (Element of ( NAT )) holds ( B21 . B22 ) = H4(B22))) & (for B23 , B24 being Real_Sequence holds (((for B25 being (Element of ( NAT )) holds ( B23 . B25 ) = H4(B25)) & (for B26 being (Element of ( NAT )) holds ( B24 . B26 ) = H4(B26))) implies B23 = B24))) from LambdaRealSeq;
end;
end;
definition
func eseq -> Real_Sequence means 
:L50: (for R1 being (Element of ( NAT )) holds ( it . R1 ) = ( 1 / ( R1 ! ) ));
correctness
proof
deffunc H5((Element of ( NAT ))) = ( 1 / ( $1 ! ) );
thus L51: ((ex B27 being Real_Sequence st (for B28 being (Element of ( NAT )) holds ( B27 . B28 ) = H5(B28))) & (for B29 , B30 being Real_Sequence holds (((for B31 being (Element of ( NAT )) holds ( B29 . B31 ) = H5(B31)) & (for B32 being (Element of ( NAT )) holds ( B30 . B32 ) = H5(B32))) implies B29 = B30))) from LambdaRealSeq;
end;
end;
theorem
L53: (for R1 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds (R3 > ( 0 ) implies ( R3 ^ ( - ( R1 + 1 ) ) ) = ( ( R3 ^ ( - R1 ) ) / R3 ))))
proof
let R1 being (Element of ( NAT ));
let R3 being (Element of ( NAT ));
assume L54: R3 > ( 0 );
thus L55: ( R3 ^ ( - ( R1 + 1 ) ) ) = ( R3 ^ ( ( - R1 ) - 1 ) )
.= ( ( R3 ^ ( - R1 ) ) / ( R3 ^ 1 ) ) by L54 , POWER:29
.= ( ( R3 ^ ( - R1 ) ) / R3 ) by POWER:25;
end;
theorem
L56: (for R1 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds ( R3 choose ( R1 + 1 ) ) = ( ( ( R3 - R1 ) / ( R1 + 1 ) ) * ( R3 choose R1 ) )))
proof
let R1 being (Element of ( NAT ));
let R3 being (Element of ( NAT ));
per cases ;
suppose L57: ( R1 + 1 ) <= R3;

reconsider D3 = ( R3 - ( R1 + 1 ) ) as (Element of ( NAT )) by L57 , INT_1:5;
L58: ( D3 + 1 ) = ( R3 - R1 );
reconsider D4 = ( R3 - R1 ) as (Element of ( NAT )) by L58;
L59: R1 <= ( R1 + 1 ) by NAT_1:11;
L60: R1 <= R3 by L59 , L57 , XXREAL_0:2;
thus L61: ( R3 choose ( R1 + 1 ) ) = ( ( R3 ! ) / ( ( ( R1 + 1 ) ! ) * ( D3 ! ) ) ) by L57 , NEWTON:def 3
.= ( ( R3 ! ) / ( ( ( R1 ! ) * ( R1 + 1 ) ) * ( D3 ! ) ) ) by NEWTON:15
.= ( ( R3 ! ) / ( ( ( R1 ! ) * ( R1 + 1 ) ) * ( ( ( D3 ! ) * ( D3 + 1 ) ) / ( D3 + 1 ) ) ) ) by XCMPLX_1:89
.= ( ( R3 ! ) / ( ( ( R1 ! ) * ( R1 + 1 ) ) * ( ( ( D3 + 1 ) ! ) / ( D3 + 1 ) ) ) ) by NEWTON:15
.= ( ( D4 / ( R1 + 1 ) ) * ( ( R3 ! ) / ( ( R1 ! ) * ( D4 ! ) ) ) ) by XCMPLX_1:233
.= ( ( ( R3 - R1 ) / ( R1 + 1 ) ) * ( R3 choose R1 ) ) by L60 , NEWTON:def 3;
end;
suppose L62: (( R1 + 1 ) > R3 & R1 <= R3);

L63: R1 >= R3 by L62 , NAT_1:13;
L64: R1 = R3 by L63 , L62 , XXREAL_0:1;
thus L65: thesis by L64 , L62 , NEWTON:def 3;
end;
suppose L66: (( R1 + 1 ) > R3 & R1 > R3);

thus L67: ( R3 choose ( R1 + 1 ) ) = ( ( ( R3 - R1 ) / ( R1 + 1 ) ) * ( 0 ) ) by L66 , NEWTON:def 3
.= ( ( ( R3 - R1 ) / ( R1 + 1 ) ) * ( R3 choose R1 ) ) by L66 , NEWTON:def 3;
end;
end;
theorem
L69: (for R1 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds (R3 > ( 0 ) implies ( ( bseq ( R1 + 1 ) ) . R3 ) = ( ( ( 1 / ( R1 + 1 ) ) * ( ( bseq R1 ) . R3 ) ) * ( ( aseq R1 ) . R3 ) ))))
proof
let R1 being (Element of ( NAT ));
let R3 being (Element of ( NAT ));
assume L70: R3 > ( 0 );
thus L71: ( ( bseq ( R1 + 1 ) ) . R3 ) = ( ( R3 choose ( R1 + 1 ) ) * ( R3 ^ ( - ( R1 + 1 ) ) ) ) by L39
.= ( ( ( ( R3 - R1 ) / ( R1 + 1 ) ) * ( R3 choose R1 ) ) * ( R3 ^ ( - ( R1 + 1 ) ) ) ) by L56
.= ( ( ( ( R3 - R1 ) / ( R1 + 1 ) ) * ( R3 choose R1 ) ) * ( ( R3 ^ ( - R1 ) ) / R3 ) ) by L70 , L53
.= ( ( ( ( R3 - R1 ) * ( ( R1 + 1 ) " ) ) * ( R3 choose R1 ) ) * ( ( R3 ^ ( - R1 ) ) / R3 ) )
.= ( ( ( ( R3 - R1 ) * ( ( R1 + 1 ) " ) ) * ( R3 choose R1 ) ) * ( ( R3 ^ ( - R1 ) ) * ( R3 " ) ) )
.= ( ( ( ( R1 + 1 ) " ) * ( ( R3 choose R1 ) * ( R3 ^ ( - R1 ) ) ) ) * ( ( R3 - R1 ) * ( R3 " ) ) )
.= ( ( ( 1 / ( R1 + 1 ) ) * ( ( R3 choose R1 ) * ( R3 ^ ( - R1 ) ) ) ) * ( ( R3 - R1 ) * ( R3 " ) ) )
.= ( ( ( 1 / ( R1 + 1 ) ) * ( ( R3 choose R1 ) * ( R3 ^ ( - R1 ) ) ) ) * ( ( R3 - R1 ) / R3 ) )
.= ( ( ( 1 / ( R1 + 1 ) ) * ( ( bseq R1 ) . R3 ) ) * ( ( R3 - R1 ) / R3 ) ) by L39
.= ( ( ( 1 / ( R1 + 1 ) ) * ( ( bseq R1 ) . R3 ) ) * ( ( aseq R1 ) . R3 ) ) by L37;
end;
theorem
L72: (for R1 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds (R3 > ( 0 ) implies ( ( aseq R1 ) . R3 ) = ( 1 - ( R1 / R3 ) ))))
proof
let R1 being (Element of ( NAT ));
let R3 being (Element of ( NAT ));
assume L73: R3 > ( 0 );
thus L74: ( ( aseq R1 ) . R3 ) = ( ( R3 - R1 ) / R3 ) by L37
.= ( ( R3 / R3 ) - ( R1 / R3 ) )
.= ( 1 - ( R1 / R3 ) ) by L73 , XCMPLX_1:60;
end;
theorem
L75: (for R1 being (Element of ( NAT )) holds (( aseq R1 ) is  convergent & ( lim ( aseq R1 ) ) = 1))
proof
let R1 being (Element of ( NAT ));
L76: (for B33 being  real number holds (( 0 ) < B33 implies (ex R6 being (Element of ( NAT )) st (for R3 being (Element of ( NAT )) holds (R6 <= R3 implies ( abs ( ( ( aseq R1 ) . R3 ) - 1 ) ) < B33)))))
proof
let C5 being  real number;
assume L77: C5 > ( 0 );
consider R6 being (Element of ( NAT )) such that L78: R6 > ( R1 / C5 ) by SEQ_4:3;
take R6;
let R3 being (Element of ( NAT ));
assume L79: R3 >= R6;
L80: R3 > ( R1 / C5 ) by L79 , L78 , XXREAL_0:2;
L81: ( ( R1 / C5 ) * C5 ) < ( R3 * C5 ) by L80 , L77 , XREAL_1:68;
L82: R1 < ( R3 * C5 ) by L81 , L77 , XCMPLX_1:87;
L83: R3 > ( 0 ) by L77 , L78 , L79;
L84: ( abs ( ( ( aseq R1 ) . R3 ) - 1 ) ) = ( abs ( ( 1 - ( R1 / R3 ) ) - 1 ) ) by L83 , L72
.= ( abs ( - ( R1 / R3 ) ) )
.= ( abs ( R1 / R3 ) ) by COMPLEX1:52
.= ( R1 / R3 ) by ABSVALUE:def 1;
thus L85: thesis by L84 , L83 , L82 , XREAL_1:83;
end;
thus L86: ( aseq R1 ) is  convergent
proof
take 1;
thus L87: thesis by L76;
end;

thus L88: thesis by L86 , L76 , SEQ_2:def 7;
end;
theorem
L89: (for R8 being  real number holds (for R11 being Real_Sequence holds ((for B34 being Nat holds ( R11 . B34 ) = R8) implies (R11 is  convergent & ( lim R11 ) = R8))))
proof
let R8 being  real number;
let R11 being Real_Sequence;
assume L90: (for B35 being Nat holds ( R11 . B35 ) = R8);
L91: R8 in ( REAL ) by XREAL_0:def 1;
L92: R11 is  constant by L91 , L90 , VALUED_0:def 18;
thus L93: R11 is  convergent by L92;
thus L94: ( lim R11 ) = ( R11 . ( 0 ) ) by L92 , SEQ_4:26
.= R8 by L90;
end;
theorem
L95: (for R3 being (Element of ( NAT )) holds ( ( bseq ( 0 ) ) . R3 ) = 1)
proof
let R3 being (Element of ( NAT ));
thus L96: ( ( bseq ( 0 ) ) . R3 ) = ( ( R3 choose ( 0 ) ) * ( R3 ^ ( - ( 0 ) ) ) ) by L39
.= ( 1 * ( R3 ^ ( - ( 0 ) ) ) ) by NEWTON:19
.= 1 by POWER:24;
end;
theorem
L97: (for R1 being (Element of ( NAT )) holds ( ( 1 / ( R1 + 1 ) ) * ( 1 / ( R1 ! ) ) ) = ( 1 / ( ( R1 + 1 ) ! ) ))
proof
let R1 being (Element of ( NAT ));
thus L98: ( ( 1 / ( R1 + 1 ) ) * ( 1 / ( R1 ! ) ) ) = ( 1 / ( ( R1 + 1 ) * ( R1 ! ) ) ) by XCMPLX_1:102
.= ( 1 / ( ( R1 + 1 ) ! ) ) by NEWTON:15;
end;
theorem
L99: (for R1 being (Element of ( NAT )) holds (( bseq R1 ) is  convergent & ( lim ( bseq R1 ) ) = ( 1 / ( R1 ! ) ) & ( lim ( bseq R1 ) ) = ( ( eseq ) . R1 )))
proof
let R1 being (Element of ( NAT ));
defpred S1[ Nat ] means (( bseq $1 ) is  convergent & ( lim ( bseq $1 ) ) = ( 1 / ( $1 ! ) ));
L100:
now
let R1 being (Element of ( NAT ));
assume L101: S1[ R1 ];
thus L102: S1[ ( R1 + 1 ) ]
proof
deffunc H6((Element of ( NAT ))) = ( ( 1 / ( R1 + 1 ) ) * ( ( bseq R1 ) . $1 ) );
consider R11 being Real_Sequence such that L103: (for R3 being (Element of ( NAT )) holds ( R11 . R3 ) = H6(R3)) from SEQ_1:sch 1;
deffunc H7((Element of ( NAT ))) = ( ( R11 . $1 ) * ( ( aseq R1 ) . $1 ) );
consider R12 being Real_Sequence such that L104: (for R3 being (Element of ( NAT )) holds ( R12 . R3 ) = H7(R3)) from SEQ_1:sch 1;
L105: (for R3 being (Element of ( NAT )) holds (R3 >= 1 implies ( ( bseq ( R1 + 1 ) ) . R3 ) = ( R12 . R3 )))
proof
let R3 being (Element of ( NAT ));
assume L106: R3 >= 1;
thus L107: ( ( bseq ( R1 + 1 ) ) . R3 ) = ( ( ( 1 / ( R1 + 1 ) ) * ( ( bseq R1 ) . R3 ) ) * ( ( aseq R1 ) . R3 ) ) by L106 , L69
.= ( ( R11 . R3 ) * ( ( aseq R1 ) . R3 ) ) by L103
.= ( R12 . R3 ) by L104;
end;
L108: R11 = ( ( 1 / ( R1 + 1 ) ) (#) ( bseq R1 ) ) by L103 , SEQ_1:9;
L109: R11 is  convergent by L108 , L101 , SEQ_2:7;
L110: ( lim R11 ) = ( ( 1 / ( R1 + 1 ) ) * ( 1 / ( R1 ! ) ) ) by L101 , L108 , SEQ_2:8
.= ( 1 / ( ( R1 + 1 ) ! ) ) by L97;
L111: ( aseq R1 ) is  convergent by L75;
L112: R12 = ( R11 (#) ( aseq R1 ) ) by L104 , SEQ_1:8;
L113: R12 is  convergent by L112 , L109 , L111 , SEQ_2:14;
thus L114: ( bseq ( R1 + 1 ) ) is  convergent by L113 , L105 , SEQ_4:18;
L115: ( lim R12 ) = ( ( lim R11 ) * ( lim ( aseq R1 ) ) ) by L109 , L112 , L111 , SEQ_2:15
.= ( 1 / ( ( R1 + 1 ) ! ) ) by L110 , L75;
thus L116: thesis by L115 , L113 , L105 , SEQ_4:19;
end;

end;
L103: S1[ ( 0 ) ]
proof
reconsider D5 = ( ( NAT ) --> 1 ) as Real_Sequence by FUNCOP_1:45;
L104: (for B36 being Nat holds ( D5 . B36 ) = 1)
proof
let C6 being Nat;
L105: C6 in ( NAT ) by ORDINAL1:def 12;
thus L106: thesis by L105 , FUNCOP_1:7;
end;
L107: D5 is  convergent by L104 , L89;
L108: (for R3 being (Element of ( NAT )) holds (R3 >= 1 implies ( ( bseq ( 0 ) ) . R3 ) = ( D5 . R3 )))
proof
let R3 being (Element of ( NAT ));
assume L109: R3 >= 1;
thus L110: ( ( bseq ( 0 ) ) . R3 ) = 1 by L95
.= ( D5 . R3 ) by FUNCOP_1:7;
end;
thus L111: ( bseq ( 0 ) ) is  convergent by L108 , L107 , SEQ_4:18;
L112: ( lim D5 ) = 1 by L104 , L89;
thus L113: thesis by L112 , L107 , L108 , NEWTON:12 , SEQ_4:19;
end;
L114: (for R1 being (Element of ( NAT )) holds S1[ R1 ]) from NAT_1:sch 1(L103 , L100);
thus L115: (( bseq R1 ) is  convergent & ( lim ( bseq R1 ) ) = ( 1 / ( R1 ! ) )) by L114;
thus L116: thesis by L115 , L50;
end;
theorem
L117: (for R1 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds (R1 < R3 implies (( 0 ) < ( ( aseq R1 ) . R3 ) & ( ( aseq R1 ) . R3 ) <= 1))))
proof
let R1 being (Element of ( NAT ));
let R3 being (Element of ( NAT ));
L118: ( ( aseq R1 ) . R3 ) = ( ( R3 - R1 ) / R3 ) by L37;
assume L119: R1 < R3;
L120: ( R3 - R1 ) > ( 0 ) by L119 , XREAL_1:50;
thus L121: ( ( aseq R1 ) . R3 ) > ( 0 ) by L120 , L119 , L118 , XREAL_1:139;
L122: ( 1 - ( R1 / R3 ) ) <= ( 1 - ( 0 ) ) by XREAL_1:6;
thus L123: thesis by L122 , L119 , L72;
end;
theorem
L124: (for R1 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds (R3 > ( 0 ) implies (( 0 ) <= ( ( bseq R1 ) . R3 ) & ( ( bseq R1 ) . R3 ) <= ( 1 / ( R1 ! ) ) & ( ( bseq R1 ) . R3 ) <= ( ( eseq ) . R1 ) & ( 0 ) <= ( ( cseq R3 ) . R1 ) & ( ( cseq R3 ) . R1 ) <= ( 1 / ( R1 ! ) ) & ( ( cseq R3 ) . R1 ) <= ( ( eseq ) . R1 )))))
proof
let R1 being (Element of ( NAT ));
let R3 being (Element of ( NAT ));
defpred S2[ (Element of ( NAT )) ] means ( ( bseq $1 ) . R3 ) <= ( 1 / ( $1 ! ) );
assume L125: R3 > ( 0 );
L126: ( R3 ^ ( - R1 ) ) > ( 0 ) by L125 , POWER:34;
L127:
now
let R1 being (Element of ( NAT ));
assume L128: S2[ R1 ];
thus L129: S2[ ( R1 + 1 ) ]
proof
per cases ;
suppose L130: R1 < R3;

L131: ( ( 1 / ( R1 + 1 ) ) * ( ( bseq R1 ) . R3 ) ) <= ( ( 1 / ( R1 + 1 ) ) * ( 1 / ( R1 ! ) ) ) by L128 , XREAL_1:64;
L132: ( ( 1 / ( R1 + 1 ) ) * ( ( bseq R1 ) . R3 ) ) <= ( 1 / ( ( R1 + 1 ) ! ) ) by L131 , L97;
L133: ( ( aseq R1 ) . R3 ) >= ( 0 ) by L130 , L117;
L134: ( ( ( 1 / ( R1 + 1 ) ) * ( ( bseq R1 ) . R3 ) ) * ( ( aseq R1 ) . R3 ) ) <= ( ( 1 / ( ( R1 + 1 ) ! ) ) * ( ( aseq R1 ) . R3 ) ) by L133 , L132 , XREAL_1:64;
L135: ( ( aseq R1 ) . R3 ) <= 1 by L130 , L117;
L136: ( ( 1 / ( ( R1 + 1 ) ! ) ) * ( ( aseq R1 ) . R3 ) ) <= ( 1 / ( ( R1 + 1 ) ! ) ) by L135 , XREAL_1:153;
L137: ( ( bseq ( R1 + 1 ) ) . R3 ) = ( ( ( 1 / ( R1 + 1 ) ) * ( ( bseq R1 ) . R3 ) ) * ( ( aseq R1 ) . R3 ) ) by L125 , L69;
thus L138: thesis by L137 , L134 , L136 , XXREAL_0:2;
end;
suppose L139: R1 >= R3;

L140: ( R1 + 1 ) > R3 by L139 , NAT_1:13;
L141: ( ( bseq ( R1 + 1 ) ) . R3 ) = ( ( R3 choose ( R1 + 1 ) ) * ( R3 ^ ( - ( R1 + 1 ) ) ) ) by L39
.= ( ( 0 ) * ( R3 ^ ( - ( R1 + 1 ) ) ) ) by L140 , NEWTON:def 3
.= ( 0 );
thus L142: thesis by L141;
end;
end;

end;
L130: ( ( bseq R1 ) . R3 ) = ( ( R3 choose R1 ) * ( R3 ^ ( - R1 ) ) ) by L39;
thus L131: ( 0 ) <= ( ( bseq R1 ) . R3 ) by L130 , L126;
L132: S2[ ( 0 ) ] by L95 , NEWTON:12;
L133: (for R1 being (Element of ( NAT )) holds S2[ R1 ]) from NAT_1:sch 1(L132 , L127);
thus L134: ( ( bseq R1 ) . R3 ) <= ( 1 / ( R1 ! ) ) by L133;
thus L135: ( ( bseq R1 ) . R3 ) <= ( ( eseq ) . R1 ) by L134 , L50;
thus L136: thesis by L135 , L130 , L126 , L134 , L45;
end;
theorem
L137: (for R11 being Real_Sequence holds (( R11 ^\ 1 ) is  summable implies (R11 is  summable & ( Sum R11 ) = ( ( R11 . ( 0 ) ) + ( Sum ( R11 ^\ 1 ) ) ))))
proof
let R11 being Real_Sequence;
assume L138: ( R11 ^\ 1 ) is  summable;
thus L139: R11 is  summable by L138 , SERIES_1:13;
thus L140: ( Sum R11 ) = ( ( ( Partial_Sums R11 ) . ( 0 ) ) + ( Sum ( R11 ^\ ( 1 + ( 0 ) ) ) ) ) by L138 , SERIES_1:13 , SERIES_1:15
.= ( ( R11 . ( 0 ) ) + ( Sum ( R11 ^\ 1 ) ) ) by SERIES_1:def 1;
end;
theorem
L141: (for R1 being (Element of ( NAT )) holds (for B37 being non  empty set holds (for B38 being (FinSequence of B37) holds ((1 <= R1 & R1 < ( len B38 )) implies ( ( B38 /^ 1 ) . R1 ) = ( B38 . ( R1 + 1 ) )))))
proof
let R1 being (Element of ( NAT ));
let C7 being non  empty set;
let C8 being (FinSequence of C7);
assume that
L142: 1 <= R1
and
L143: R1 < ( len C8 );
L144: ( len C8 ) = ( ( ( len C8 ) - 1 ) + 1 );
L145: ( R1 + 1 ) <= ( len C8 ) by L143 , NAT_1:13;
L146: R1 <= ( ( len C8 ) - 1 ) by L145 , L144 , XREAL_1:6;
L147: ( len C8 ) >= 1 by L142 , L143 , XXREAL_0:2;
L148: ( len ( C8 /^ 1 ) ) = ( ( len C8 ) - 1 ) by L147 , RFINSEQ:def 1;
L149: R1 in ( dom ( C8 /^ 1 ) ) by L148 , L142 , L146 , FINSEQ_3:25;
thus L150: thesis by L149 , L147 , RFINSEQ:def 1;
end;
theorem
L151: (for R14 being (FinSequence of ( REAL )) holds (( len R14 ) > ( 0 ) implies ( Sum R14 ) = ( ( R14 . 1 ) + ( Sum ( R14 /^ 1 ) ) )))
proof
let R14 being (FinSequence of ( REAL ));
assume L152: ( len R14 ) > ( 0 );
L153: ( ( 0 ) + 1 ) <= ( len R14 ) by L152 , NAT_1:13;
L154: 1 in ( dom R14 ) by L153 , FINSEQ_3:25;
thus L155: ( Sum R14 ) = ( Sum ( <* ( R14 /. 1 ) *> ^ ( R14 /^ 1 ) ) ) by L152 , CARD_1:27 , FINSEQ_5:29
.= ( Sum ( <* ( R14 . 1 ) *> ^ ( R14 /^ 1 ) ) ) by L154 , PARTFUN1:def 6
.= ( ( R14 . 1 ) + ( Sum ( R14 /^ 1 ) ) ) by RVSUM_1:76;
end;
theorem
L156: (for R3 being (Element of ( NAT )) holds (for R11 being Real_Sequence holds (for R14 being (FinSequence of ( REAL )) holds ((( len R14 ) = R3 & (for R1 being (Element of ( NAT )) holds (R1 < R3 implies ( R11 . R1 ) = ( R14 . ( R1 + 1 ) ))) & (for R1 being (Element of ( NAT )) holds (R1 >= R3 implies ( R11 . R1 ) = ( 0 )))) implies (R11 is  summable & ( Sum R11 ) = ( Sum R14 ))))))
proof
defpred S3[ (Element of ( NAT )) ] means (for R11 being Real_Sequence holds (for R14 being (FinSequence of ( REAL )) holds ((( len R14 ) = $1 & (for R1 being (Element of ( NAT )) holds (R1 < $1 implies ( R11 . R1 ) = ( R14 . ( R1 + 1 ) ))) & (for R1 being (Element of ( NAT )) holds (R1 >= $1 implies ( R11 . R1 ) = ( 0 )))) implies (R11 is  summable & ( Sum R11 ) = ( Sum R14 )))));
L157:
now
let R3 being (Element of ( NAT ));
assume L158: (for R11 being Real_Sequence holds (for R14 being (FinSequence of ( REAL )) holds ((( len R14 ) = R3 & (for R1 being (Element of ( NAT )) holds (R1 < R3 implies ( R11 . R1 ) = ( R14 . ( R1 + 1 ) ))) & (for R1 being (Element of ( NAT )) holds (R1 >= R3 implies ( R11 . R1 ) = ( 0 )))) implies (R11 is  summable & ( Sum R11 ) = ( Sum R14 )))));
let R11 being Real_Sequence;
let R14 being (FinSequence of ( REAL ));
assume that
L159: ( len R14 ) = ( R3 + 1 )
and
L160: (for R1 being (Element of ( NAT )) holds (R1 < ( R3 + 1 ) implies ( R11 . R1 ) = ( R14 . ( R1 + 1 ) )))
and
L161: (for R1 being (Element of ( NAT )) holds (R1 >= ( R3 + 1 ) implies ( R11 . R1 ) = ( 0 )));
L162:
now
let R1 being (Element of ( NAT ));
L163: ( R1 + 1 ) >= ( ( 0 ) + 1 ) by XREAL_1:6;
assume L164: R1 < R3;
L165: ( R1 + 1 ) < ( R3 + 1 ) by L164 , XREAL_1:6;
thus L166: ( ( R11 ^\ 1 ) . R1 ) = ( R11 . ( R1 + 1 ) ) by NAT_1:def 3
.= ( R14 . ( ( R1 + 1 ) + 1 ) ) by L160 , L165
.= ( ( R14 /^ 1 ) . ( R1 + 1 ) ) by L159 , L165 , L163 , L141;
end;
L167:
now
let R1 being (Element of ( NAT ));
assume L168: R1 >= R3;
L169: ( R1 + 1 ) >= ( R3 + 1 ) by L168 , XREAL_1:6;
thus L170: ( ( R11 ^\ 1 ) . R1 ) = ( R11 . ( R1 + 1 ) ) by NAT_1:def 3
.= ( 0 ) by L161 , L169;
end;
L171: ( R3 + 1 ) >= ( ( 0 ) + 1 ) by XREAL_1:6;
L172: ( len ( R14 /^ 1 ) ) = ( ( len R14 ) - 1 ) by L171 , L159 , RFINSEQ:def 1
.= R3 by L159;
L173: ( Sum ( R11 ^\ 1 ) ) = ( Sum ( R14 /^ 1 ) ) by L172 , L158 , L162 , L167;
L174: ( R11 ^\ 1 ) is  summable by L158 , L172 , L162 , L167;
thus L175: R11 is  summable by L174 , L137;
thus L176: ( Sum R11 ) = ( ( R11 . ( 0 ) ) + ( Sum ( R11 ^\ 1 ) ) ) by L174 , L137
.= ( ( R14 . ( ( 0 ) + 1 ) ) + ( Sum ( R11 ^\ 1 ) ) ) by L160
.= ( Sum R14 ) by L159 , L173 , L151;
end;
L177: (for R1 being (Element of ( NAT )) holds (S3[ R1 ] implies S3[ ( R1 + 1 ) ])) by L157;
L178:
now
let R11 being Real_Sequence;
let R14 being (FinSequence of ( REAL ));
assume that
L179: ( len R14 ) = ( 0 )
and
L180: (for R1 being (Element of ( NAT )) holds (R1 < ( 0 ) implies ( R11 . R1 ) = ( R14 . ( R1 + 1 ) )))
and
L181: (for R1 being (Element of ( NAT )) holds (R1 >= ( 0 ) implies ( R11 . R1 ) = ( 0 )));
L182: R14 is (Element of ( ( 0 ) -tuples_on ( REAL ) )) by L179 , FINSEQ_2:92;
L183: ( Sum R14 ) = ( 0 ) by L182 , RVSUM_1:79;
defpred S4[ Nat ] means ( ( Partial_Sums R11 ) . $1 ) = ( 0 );
L184:
now
let C9 being Nat;
L185: C9 in ( NAT ) by ORDINAL1:def 12;
L186: ( ( Partial_Sums R11 ) . ( C9 + 1 ) ) = ( ( ( Partial_Sums R11 ) . C9 ) + ( R11 . ( C9 + 1 ) ) ) by L185 , SERIES_1:def 1;
assume L187: S4[ C9 ];
thus L188: S4[ ( C9 + 1 ) ] by L187 , L181 , L186;
end;
L189: ( R11 . ( 0 ) ) = ( 0 ) by L181;
L190: S4[ ( 0 ) ] by L189 , SERIES_1:def 1;
L191: (for B39 being Nat holds S4[ B39 ]) from NAT_1:sch 2(L190 , L184);
L192: ( Partial_Sums R11 ) is  convergent by L191 , L89;
thus L193: R11 is  summable by L192 , SERIES_1:def 2;
L194: ( lim ( Partial_Sums R11 ) ) = ( 0 ) by L191 , L89;
thus L195: ( Sum R11 ) = ( Sum R14 ) by L194 , L183 , SERIES_1:def 3;
end;
L196: S3[ ( 0 ) ] by L178;
thus L197: (for R3 being (Element of ( NAT )) holds S3[ R3 ]) from NAT_1:sch 1(L196 , L177);
end;
theorem
L198: (for R1 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds (for R8 being  real number holds (for R9 being  real number holds (R1 <= R3 implies ( ( (R8 , R9) In_Power R3 ) . ( R1 + 1 ) ) = ( ( ( R3 choose R1 ) * ( R8 ^ ( R3 - R1 ) ) ) * ( R9 ^ R1 ) ))))))
proof
let R1 being (Element of ( NAT ));
let R3 being (Element of ( NAT ));
let R8 being  real number;
let R9 being  real number;
reconsider D6 = ( ( R1 + 1 ) - 1 ) as (Element of ( NAT ));
L199: (( R1 + 1 ) >= ( ( 0 ) + 1 ) & ( len ( (R8 , R9) In_Power R3 ) ) = ( R3 + 1 )) by NEWTON:def 4 , XREAL_1:6;
assume L200: R1 <= R3;
reconsider D7 = ( R3 - D6 ) as (Element of ( NAT )) by L200 , INT_1:5;
L201: ( R1 + 1 ) <= ( R3 + 1 ) by L200 , XREAL_1:6;
L202: ( R1 + 1 ) in ( dom ( (R8 , R9) In_Power R3 ) ) by L201 , L199 , FINSEQ_3:25;
thus L203: ( ( (R8 , R9) In_Power R3 ) . ( R1 + 1 ) ) = ( ( ( R3 choose D6 ) * ( R8 ^ D7 ) ) * ( R9 |^ D6 ) ) by L202 , NEWTON:def 4
.= ( ( ( R3 choose R1 ) * ( R8 ^ ( R3 - R1 ) ) ) * ( R9 ^ R1 ) );
end;
theorem
L204: (for R1 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds ((R3 > ( 0 ) & R1 <= R3) implies ( ( cseq R3 ) . R1 ) = ( ( (1 , ( 1 / R3 )) In_Power R3 ) . ( R1 + 1 ) ))))
proof
let R1 being (Element of ( NAT ));
let R3 being (Element of ( NAT ));
assume that
L205: R3 > ( 0 )
and
L206: R1 <= R3;
thus L207: ( ( (1 , ( 1 / R3 )) In_Power R3 ) . ( R1 + 1 ) ) = ( ( ( R3 choose R1 ) * ( 1 ^ ( R3 - R1 ) ) ) * ( ( 1 / R3 ) ^ R1 ) ) by L206 , L198
.= ( ( ( R3 choose R1 ) * 1 ) * ( ( 1 / R3 ) ^ R1 ) ) by POWER:26
.= ( ( R3 choose R1 ) * ( R3 ^ ( - R1 ) ) ) by L205 , POWER:32
.= ( ( cseq R3 ) . R1 ) by L42;
end;
theorem
L208: (for R3 being (Element of ( NAT )) holds (R3 > ( 0 ) implies (( cseq R3 ) is  summable & ( Sum ( cseq R3 ) ) = ( ( 1 + ( 1 / R3 ) ) ^ R3 ) & ( Sum ( cseq R3 ) ) = ( ( dseq ) . R3 ))))
proof
let R3 being (Element of ( NAT ));
L209:
now
let R1 being (Element of ( NAT ));
assume L210: R1 >= ( R3 + 1 );
L211: R1 > R3 by L210 , NAT_1:13;
thus L212: ( ( cseq R3 ) . R1 ) = ( ( R3 choose R1 ) * ( R3 ^ ( - R1 ) ) ) by L42
.= ( ( 0 ) * ( R3 ^ ( - R1 ) ) ) by L211 , NEWTON:def 3
.= ( 0 );
end;
assume L213: R3 > ( 0 );
L214:
now
let R1 being (Element of ( NAT ));
assume L215: R1 < ( R3 + 1 );
L216: R1 <= R3 by L215 , NAT_1:13;
thus L217: ( ( cseq R3 ) . R1 ) = ( ( (1 , ( 1 / R3 )) In_Power R3 ) . ( R1 + 1 ) ) by L216 , L213 , L204;
end;
L218: ( len ( (1 , ( 1 / R3 )) In_Power R3 ) ) = ( R3 + 1 ) by NEWTON:def 4;
thus L219: ( cseq R3 ) is  summable by L218 , L214 , L209 , L156;
thus L220: ( ( 1 + ( 1 / R3 ) ) ^ R3 ) = ( Sum ( (1 , ( 1 / R3 )) In_Power R3 ) ) by NEWTON:30
.= ( Sum ( cseq R3 ) ) by L218 , L214 , L209 , L156;
thus L221: thesis by L220 , L47;
end;
theorem
L222: (( dseq ) is  convergent & ( lim ( dseq ) ) = ( number_e ))
proof
L223:
now
let R3 being (Element of ( NAT ));
thus L224: ( ( ( dseq ) ^\ 1 ) . R3 ) = ( ( dseq ) . ( R3 + 1 ) ) by NAT_1:def 3
.= ( ( 1 + ( 1 / ( R3 + 1 ) ) ) ^ ( R3 + 1 ) ) by L47;
end;
L225: ( ( dseq ) ^\ 1 ) is  convergent by L223 , POWER:59;
thus L226: ( dseq ) is  convergent by L225 , SEQ_4:21;
L227: ( number_e ) = ( lim ( ( dseq ) ^\ 1 ) ) by L223 , POWER:def 4;
thus L228: thesis by L227 , L225 , SEQ_4:22;
end;
theorem
L229: (( eseq ) is  summable & ( Sum ( eseq ) ) = ( exp_R 1 ))
proof
L230:
now
let R1 being (Element of ( NAT ));
thus L231: ( ( eseq ) . R1 ) = ( 1 / ( R1 ! ) ) by L50
.= ( ( 1 |^ R1 ) / ( R1 ! ) ) by NEWTON:10
.= ( ( 1 rExpSeq ) . R1 ) by SIN_COS:def 5;
end;
L232: ( eseq ) = ( 1 rExpSeq ) by L230 , FUNCT_2:63;
thus L233: ( eseq ) is  summable by L232 , SIN_COS:45;
thus L234: ( exp_R 1 ) = ( ( exp_R ) . 1 ) by SIN_COS:def 23
.= ( Sum ( eseq ) ) by L232 , SIN_COS:def 22;
end;
theorem
L235: (for R5 being (Element of ( NAT )) holds (for B40 being Real_Sequence holds ((for R3 being (Element of ( NAT )) holds ( B40 . R3 ) = ( ( Partial_Sums ( cseq R3 ) ) . R5 )) implies (B40 is  convergent & ( lim B40 ) = ( ( Partial_Sums ( eseq ) ) . R5 )))))
proof
defpred S5[ (Element of ( NAT )) ] means (for B41 being Real_Sequence holds ((for R3 being (Element of ( NAT )) holds ( B41 . R3 ) = ( ( Partial_Sums ( cseq R3 ) ) . $1 )) implies (B41 is  convergent & ( lim B41 ) = ( ( Partial_Sums ( eseq ) ) . $1 ))));
L236:
now
let R5 being (Element of ( NAT ));
deffunc H8((Element of ( NAT ))) = ( ( Partial_Sums ( cseq $1 ) ) . R5 );
consider C10 being Real_Sequence such that L237: (for R3 being (Element of ( NAT )) holds ( C10 . R3 ) = H8(R3)) from SEQ_1:sch 1;
assume L238: (for B42 being Real_Sequence holds ((for R3 being (Element of ( NAT )) holds ( B42 . R3 ) = ( ( Partial_Sums ( cseq R3 ) ) . R5 )) implies (B42 is  convergent & ( lim B42 ) = ( ( Partial_Sums ( eseq ) ) . R5 ))));
L239: C10 is  convergent by L238 , L237;
let C11 being Real_Sequence;
assume L240: (for R3 being (Element of ( NAT )) holds ( C11 . R3 ) = ( ( Partial_Sums ( cseq R3 ) ) . ( R5 + 1 ) ));
L241:
now
let R3 being (Element of ( NAT ));
thus L242: ( C11 . R3 ) = ( ( Partial_Sums ( cseq R3 ) ) . ( R5 + 1 ) ) by L240
.= ( ( ( Partial_Sums ( cseq R3 ) ) . R5 ) + ( ( cseq R3 ) . ( R5 + 1 ) ) ) by SERIES_1:def 1
.= ( ( C10 . R3 ) + ( ( cseq R3 ) . ( R5 + 1 ) ) ) by L237
.= ( ( C10 . R3 ) + ( ( bseq ( R5 + 1 ) ) . R3 ) ) by L45
.= ( ( C10 + ( bseq ( R5 + 1 ) ) ) . R3 ) by SEQ_1:7;
end;
L243: C11 = ( C10 + ( bseq ( R5 + 1 ) ) ) by L241 , FUNCT_2:63;
L244: ( lim C10 ) = ( ( Partial_Sums ( eseq ) ) . R5 ) by L238 , L237;
L245: ( bseq ( R5 + 1 ) ) is  convergent by L99;
thus L246: C11 is  convergent by L245 , L239 , L243 , SEQ_2:5;
thus L247: ( lim C11 ) = ( ( lim C10 ) + ( lim ( bseq ( R5 + 1 ) ) ) ) by L239 , L243 , L245 , SEQ_2:6
.= ( ( ( Partial_Sums ( eseq ) ) . R5 ) + ( ( eseq ) . ( R5 + 1 ) ) ) by L244 , L99
.= ( ( Partial_Sums ( eseq ) ) . ( R5 + 1 ) ) by SERIES_1:def 1;
end;
L248: (for R3 being (Element of ( NAT )) holds (S5[ R3 ] implies S5[ ( R3 + 1 ) ])) by L236;
L249:
now
let C12 being Real_Sequence;
assume L250: (for R3 being (Element of ( NAT )) holds ( C12 . R3 ) = ( ( Partial_Sums ( cseq R3 ) ) . ( 0 ) ));
L251:
now
let R3 being (Element of ( NAT ));
thus L252: ( C12 . R3 ) = ( ( Partial_Sums ( cseq R3 ) ) . ( 0 ) ) by L250
.= ( ( cseq R3 ) . ( 0 ) ) by SERIES_1:def 1
.= ( ( bseq ( 0 ) ) . R3 ) by L45;
end;
L253: C12 = ( bseq ( 0 ) ) by L251 , FUNCT_2:63;
thus L254: C12 is  convergent by L253 , L99;
thus L255: ( lim C12 ) = ( ( eseq ) . ( 0 ) ) by L253 , L99
.= ( ( Partial_Sums ( eseq ) ) . ( 0 ) ) by SERIES_1:def 1;
end;
L256: S5[ ( 0 ) ] by L249;
thus L257: (for R3 being (Element of ( NAT )) holds S5[ R3 ]) from NAT_1:sch 1(L256 , L248);
end;
theorem
L258: (for R8 being  real number holds (for R11 being Real_Sequence holds ((R11 is  convergent & ( lim R11 ) = R8) implies (for R10 being  real number holds (R10 > ( 0 ) implies (ex R6 being (Element of ( NAT )) st (for R3 being (Element of ( NAT )) holds (R3 >= R6 implies ( R11 . R3 ) > ( R8 - R10 )))))))))
proof
let R8 being  real number;
let R11 being Real_Sequence;
assume L259: (R11 is  convergent & ( lim R11 ) = R8);
let R10 being  real number;
assume L260: R10 > ( 0 );
consider R6 being (Element of ( NAT )) such that L261: (for R3 being (Element of ( NAT )) holds (R3 >= R6 implies ( abs ( ( R11 . R3 ) - R8 ) ) < R10)) by L260 , L259 , SEQ_2:def 7;
take R6;
let R3 being (Element of ( NAT ));
assume L262: R3 >= R6;
L263: ( abs ( ( R11 . R3 ) - R8 ) ) < R10 by L262 , L261;
L264: ( ( R11 . R3 ) - R8 ) > ( - R10 ) by L263 , SEQ_2:1;
L265: ( ( ( R11 . R3 ) - R8 ) + R8 ) > ( ( - R10 ) + R8 ) by L264 , XREAL_1:6;
thus L266: thesis by L265;
end;
theorem
L267: (for R8 being  real number holds (for R11 being Real_Sequence holds (((for R10 being  real number holds (R10 > ( 0 ) implies (ex R6 being (Element of ( NAT )) st (for R3 being (Element of ( NAT )) holds (R3 >= R6 implies ( R11 . R3 ) > ( R8 - R10 )))))) & (ex R6 being (Element of ( NAT )) st (for R3 being (Element of ( NAT )) holds (R3 >= R6 implies ( R11 . R3 ) <= R8)))) implies (R11 is  convergent & ( lim R11 ) = R8))))
proof
let R8 being  real number;
let R11 being Real_Sequence;
assume that
L268: (for R10 being  real number holds (R10 > ( 0 ) implies (ex R6 being (Element of ( NAT )) st (for R3 being (Element of ( NAT )) holds (R3 >= R6 implies ( R11 . R3 ) > ( R8 - R10 ))))))
and
L269: (ex R6 being (Element of ( NAT )) st (for R3 being (Element of ( NAT )) holds (R3 >= R6 implies ( R11 . R3 ) <= R8)));
L270: (for B43 being  real number holds (B43 > ( 0 ) implies (ex R6 being (Element of ( NAT )) st (for R3 being (Element of ( NAT )) holds (R3 >= R6 implies ( abs ( ( R11 . R3 ) - R8 ) ) < B43)))))
proof
let C13 being  real number;
assume L271: C13 > ( 0 );
L272: ( R8 + C13 ) > ( R8 + ( 0 ) ) by L271 , XREAL_1:6;
consider C14 being (Element of ( NAT )) such that L273: (for R3 being (Element of ( NAT )) holds (R3 >= C14 implies ( R11 . R3 ) <= R8)) by L269;
consider C15 being (Element of ( NAT )) such that L274: (for R3 being (Element of ( NAT )) holds (R3 >= C15 implies ( R11 . R3 ) > ( R8 - C13 ))) by L268 , L271;
take D8 = ( max (C15 , C14) );
let R3 being (Element of ( NAT ));
assume L275: R3 >= D8;
L276: R3 >= C15 by L275 , XXREAL_0:30;
L277: ( R11 . R3 ) > ( R8 - C13 ) by L276 , L274;
L278: ( ( R11 . R3 ) - R8 ) > ( ( R8 - C13 ) - R8 ) by L277 , XREAL_1:9;
L279: ( R11 . R3 ) <= R8 by L273 , L275 , XXREAL_0:30;
L280: ( R11 . R3 ) < ( R8 + C13 ) by L279 , L272 , XXREAL_0:2;
L281: ( ( R11 . R3 ) - R8 ) < C13 by L280 , XREAL_1:19;
thus L282: thesis by L281 , L278 , SEQ_2:1;
end;
thus L283: R11 is  convergent by L270 , SEQ_2:def 6;
thus L284: thesis by L283 , L270 , SEQ_2:def 7;
end;
theorem
L285: (for R11 being Real_Sequence holds (R11 is  summable implies (for R10 being  real number holds (R10 > ( 0 ) implies (ex R5 being (Element of ( NAT )) st ( ( Partial_Sums R11 ) . R5 ) > ( ( Sum R11 ) - R10 ))))))
proof
let R11 being Real_Sequence;
assume L286: R11 is  summable;
L287: ( Partial_Sums R11 ) is  convergent by L286 , SERIES_1:def 2;
let R10 being  real number;
assume L288: R10 > ( 0 );
consider R5 being (Element of ( NAT )) such that L289: (for R1 being (Element of ( NAT )) holds (R1 >= R5 implies ( ( Partial_Sums R11 ) . R1 ) > ( ( lim ( Partial_Sums R11 ) ) - R10 ))) by L288 , L287 , L258;
take R5;
L290: ( Sum R11 ) = ( lim ( Partial_Sums R11 ) ) by SERIES_1:def 3;
thus L291: thesis by L290 , L289;
end;
theorem
L292: (for R3 being (Element of ( NAT )) holds (R3 >= 1 implies ( ( dseq ) . R3 ) <= ( Sum ( eseq ) )))
proof
let R3 being (Element of ( NAT ));
assume L293: R3 >= 1;
L294: (for R1 being (Element of ( NAT )) holds (( 0 ) <= ( ( cseq R3 ) . R1 ) & ( ( cseq R3 ) . R1 ) <= ( ( eseq ) . R1 ))) by L293 , L124;
L295: ( Sum ( cseq R3 ) ) <= ( Sum ( eseq ) ) by L294 , L229 , SERIES_1:20;
thus L296: thesis by L295 , L293 , L208;
end;
theorem
L297: (for R5 being (Element of ( NAT )) holds (for R11 being Real_Sequence holds ((R11 is  summable & (for R1 being (Element of ( NAT )) holds ( R11 . R1 ) >= ( 0 ))) implies ( Sum R11 ) >= ( ( Partial_Sums R11 ) . R5 ))))
proof
let R5 being (Element of ( NAT ));
let R11 being Real_Sequence;
assume that
L298: R11 is  summable
and
L299: (for R1 being (Element of ( NAT )) holds ( R11 . R1 ) >= ( 0 ));
L300:
now
let R1 being (Element of ( NAT ));
L301: ( ( R11 ^\ ( R5 + 1 ) ) . R1 ) = ( R11 . ( ( R5 + 1 ) + R1 ) ) by NAT_1:def 3;
thus L302: ( ( R11 ^\ ( R5 + 1 ) ) . R1 ) >= ( 0 ) by L301 , L299;
end;
L303: ( R11 ^\ ( R5 + 1 ) ) is  summable by L298 , SERIES_1:12;
L304: ( Sum ( R11 ^\ ( R5 + 1 ) ) ) >= ( 0 ) by L303 , L300 , SERIES_1:18;
L305: ( ( ( Partial_Sums R11 ) . R5 ) + ( Sum ( R11 ^\ ( R5 + 1 ) ) ) ) >= ( ( ( Partial_Sums R11 ) . R5 ) + ( 0 ) ) by L304 , XREAL_1:6;
thus L306: thesis by L305 , L298 , SERIES_1:15;
end;
theorem
L307: (( dseq ) is  convergent & ( lim ( dseq ) ) = ( Sum ( eseq ) ))
proof
L308: (for R10 being  real number holds (R10 > ( 0 ) implies (ex R6 being (Element of ( NAT )) st (for R3 being (Element of ( NAT )) holds (R3 >= R6 implies ( ( dseq ) . R3 ) > ( ( Sum ( eseq ) ) - R10 ))))))
proof
let R10 being  real number;
assume L309: R10 > ( 0 );
consider R5 being (Element of ( NAT )) such that L310: ( ( Partial_Sums ( eseq ) ) . R5 ) > ( ( Sum ( eseq ) ) - ( R10 / 2 ) ) by L309 , L229 , L285 , XREAL_1:139;
L311: ( ( ( Partial_Sums ( eseq ) ) . R5 ) - ( R10 / 2 ) ) > ( ( ( Sum ( eseq ) ) - ( R10 / 2 ) ) - ( R10 / 2 ) ) by L310 , XREAL_1:9;
deffunc H9((Element of ( NAT ))) = ( ( Partial_Sums ( cseq $1 ) ) . R5 );
consider C16 being Real_Sequence such that L312: (for R3 being (Element of ( NAT )) holds ( C16 . R3 ) = H9(R3)) from SEQ_1:sch 1;
L313: (C16 is  convergent & ( lim C16 ) = ( ( Partial_Sums ( eseq ) ) . R5 )) by L312 , L235;
consider R6 being (Element of ( NAT )) such that L314: (for R3 being (Element of ( NAT )) holds (R3 >= R6 implies ( C16 . R3 ) > ( ( ( Partial_Sums ( eseq ) ) . R5 ) - ( R10 / 2 ) ))) by L313 , L309 , L258 , XREAL_1:139;
take D9 = ( R6 + 1 );
let R3 being (Element of ( NAT ));
assume L315: R3 >= D9;
L316: ((for R1 being (Element of ( NAT )) holds ( ( cseq R3 ) . R1 ) >= ( 0 )) & ( cseq R3 ) is  summable) by L315 , L124 , L208;
L317: ( Sum ( cseq R3 ) ) >= ( ( Partial_Sums ( cseq R3 ) ) . R5 ) by L316 , L297;
L318: ( ( dseq ) . R3 ) >= ( ( Partial_Sums ( cseq R3 ) ) . R5 ) by L317 , L315 , L208;
L319: ( ( dseq ) . R3 ) >= ( C16 . R3 ) by L318 , L312;
L320: ( R6 + 1 ) >= ( R6 + ( 0 ) ) by XREAL_1:6;
L321: R3 >= R6 by L320 , L315 , XXREAL_0:2;
L322: ( C16 . R3 ) > ( ( ( Partial_Sums ( eseq ) ) . R5 ) - ( R10 / 2 ) ) by L321 , L314;
L323: ( ( dseq ) . R3 ) > ( ( ( Partial_Sums ( eseq ) ) . R5 ) - ( R10 / 2 ) ) by L322 , L319 , XXREAL_0:2;
thus L324: thesis by L323 , L311 , XXREAL_0:2;
end;
thus L325: thesis by L308 , L267 , L292;
end;
definition
redefine func number_e equals 
( Sum ( eseq ) );
compatibility by L222 , L307;
end;
definition
redefine func number_e equals 
( exp_R 1 );
compatibility by L229;
end;
begin
theorem
L328: (for R8 being  real number holds (R8 is  rational implies (ex R3 being (Element of ( NAT )) st (R3 >= 2 & ( ( R3 ! ) * R8 ) is  integer))))
proof
let R8 being  real number;
assume L329: R8 is  rational;
consider R7 being Integer, R3 being (Element of ( NAT )) such that L330: R3 <> ( 0 ) and L331: R8 = ( R7 / R3 ) by L329 , RAT_1:8;
per cases ;
suppose L332: R3 < ( 1 + 1 );

L333: R3 >= ( ( 0 ) + 1 ) by L330 , NAT_1:13;
L334: R3 <= 1 by L332 , NAT_1:13;
L335: R3 = 1 by L334 , L333 , XXREAL_0:1;
reconsider D10 = R8 as Integer by L335 , L331;
take D11 = 2;
L336: ( ( D11 ! ) * D10 ) is  integer;
thus L337: thesis by L336;
end;
suppose L338: R3 >= 2;

take R3;
thus L339: R3 >= 2 by L338;
reconsider D12 = ( R3 - 1 ) as (Element of ( NAT )) by L338 , INT_1:5 , XXREAL_0:2;
L340: ( ( R3 ! ) * R8 ) = ( ( ( D12 + 1 ) * ( D12 ! ) ) * R8 ) by NEWTON:15
.= ( ( R3 * R8 ) * ( D12 ! ) )
.= ( R7 * ( D12 ! ) ) by L330 , L331 , XCMPLX_1:87;
thus L341: thesis by L340;
end;
end;
theorem
L343: (for R1 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds ( ( R3 ! ) * ( ( eseq ) . R1 ) ) = ( ( R3 ! ) / ( R1 ! ) )))
proof
let R1 being (Element of ( NAT ));
let R3 being (Element of ( NAT ));
thus L344: ( ( R3 ! ) * ( ( eseq ) . R1 ) ) = ( ( R3 ! ) * ( 1 / ( R1 ! ) ) ) by L50
.= ( ( R3 ! ) / ( R1 ! ) );
end;
theorem
L345: (for R1 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds ( ( R3 ! ) / ( R1 ! ) ) > ( 0 ))) by XREAL_1:139;
theorem
L346: (for R11 being Real_Sequence holds ((R11 is  summable & (for R3 being (Element of ( NAT )) holds ( R11 . R3 ) > ( 0 ))) implies ( Sum R11 ) > ( 0 )))
proof
let R11 being Real_Sequence;
assume that
L347: R11 is  summable
and
L348: (for R3 being (Element of ( NAT )) holds ( R11 . R3 ) > ( 0 ));
L349: ( Sum R11 ) = ( ( ( Partial_Sums R11 ) . ( 0 ) ) + ( Sum ( R11 ^\ ( ( 0 ) + 1 ) ) ) ) by L347 , SERIES_1:15
.= ( ( R11 . ( 0 ) ) + ( Sum ( R11 ^\ 1 ) ) ) by SERIES_1:def 1;
L350:
now
let R3 being (Element of ( NAT ));
L351: ( ( R11 ^\ 1 ) . R3 ) = ( R11 . ( 1 + R3 ) ) by NAT_1:def 3;
thus L352: ( ( R11 ^\ 1 ) . R3 ) >= ( 0 ) by L351 , L348;
end;
L353: ( R11 ^\ 1 ) is  summable by L347 , SERIES_1:12;
L354: ( Sum ( R11 ^\ 1 ) ) >= ( 0 ) by L353 , L350 , SERIES_1:18;
L355: ( Sum R11 ) > ( ( 0 ) + ( 0 ) ) by L354 , L348 , L349 , XREAL_1:8;
thus L356: thesis by L355;
end;
theorem
L357: (for R3 being (Element of ( NAT )) holds ( ( R3 ! ) * ( Sum ( ( eseq ) ^\ ( R3 + 1 ) ) ) ) > ( 0 ))
proof
let R3 being (Element of ( NAT ));
L358:
now
let R1 being (Element of ( NAT ));
L359: ( ( ( eseq ) ^\ ( R3 + 1 ) ) . R1 ) = ( ( eseq ) . ( ( R3 + 1 ) + R1 ) ) by NAT_1:def 3
.= ( 1 / ( ( ( R3 + 1 ) + R1 ) ! ) ) by L50;
thus L360: ( ( ( eseq ) ^\ ( R3 + 1 ) ) . R1 ) > ( 0 ) by L359;
end;
L361: ( ( eseq ) ^\ ( R3 + 1 ) ) is  summable by L229 , SERIES_1:12;
L362: (( R3 ! ) > ( 0 ) & ( Sum ( ( eseq ) ^\ ( R3 + 1 ) ) ) > ( 0 )) by L361 , L358 , L346;
thus L363: thesis by L362 , XREAL_1:129;
end;
theorem
L364: (for R1 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds (R1 <= R3 implies ( ( R3 ! ) / ( R1 ! ) ) is  integer)))
proof
let R1 being (Element of ( NAT ));
let R3 being (Element of ( NAT ));
defpred S6[ (Element of ( NAT )) ] means ( ( ( $1 + R1 ) ! ) / ( R1 ! ) ) is  integer;
assume L365: R1 <= R3;
reconsider D13 = ( R3 - R1 ) as (Element of ( NAT )) by L365 , INT_1:5;
L366: R3 = ( D13 + R1 );
L367:
now
let R2 being (Element of ( NAT ));
L368: ( ( ( ( R2 + 1 ) + R1 ) ! ) / ( R1 ! ) ) = ( ( ( ( R2 + R1 ) + 1 ) * ( ( R2 + R1 ) ! ) ) * ( ( R1 ! ) " ) ) by NEWTON:15
.= ( ( ( R2 + R1 ) + 1 ) * ( ( ( R2 + R1 ) ! ) * ( ( R1 ! ) " ) ) )
.= ( ( ( R2 + R1 ) + 1 ) * ( ( ( R2 + R1 ) ! ) / ( R1 ! ) ) );
assume L369: ( ( ( R2 + R1 ) ! ) / ( R1 ! ) ) is  integer;
reconsider D14 = ( ( ( R2 + R1 ) ! ) / ( R1 ! ) ) as Integer by L369;
L370: ( ( ( R2 + R1 ) + 1 ) * D14 ) is Integer;
thus L371: ( ( ( ( R2 + 1 ) + R1 ) ! ) / ( R1 ! ) ) is  integer by L370 , L368;
end;
L372: (for B44 being (Element of ( NAT )) holds (S6[ B44 ] implies S6[ ( B44 + 1 ) ])) by L367;
L373: S6[ ( 0 ) ] by XCMPLX_1:60;
L374: (for B45 being (Element of ( NAT )) holds S6[ B45 ]) from NAT_1:sch 1(L373 , L372);
thus L375: thesis by L374 , L366;
end;
theorem
L376: (for R3 being (Element of ( NAT )) holds ( ( R3 ! ) * ( ( Partial_Sums ( eseq ) ) . R3 ) ) is  integer)
proof
let R3 being (Element of ( NAT ));
defpred S7[ (Element of ( NAT )) ] means ($1 <= R3 implies ( ( R3 ! ) * ( ( Partial_Sums ( eseq ) ) . $1 ) ) is  integer);
L377:
now
let R1 being (Element of ( NAT ));
assume L378: (R1 <= R3 implies ( ( R3 ! ) * ( ( Partial_Sums ( eseq ) ) . R1 ) ) is  integer);
assume L379: ( R1 + 1 ) <= R3;
L380: ( R1 + ( 0 ) ) <= ( R1 + 1 ) by XREAL_1:6;
reconsider D15 = ( ( R3 ! ) * ( ( Partial_Sums ( eseq ) ) . R1 ) ) as Integer by L380 , L378 , L379 , XXREAL_0:2;
L381: ( ( R3 ! ) * ( ( eseq ) . ( R1 + 1 ) ) ) = ( ( R3 ! ) / ( ( R1 + 1 ) ! ) ) by L343;
reconsider D16 = ( ( R3 ! ) * ( ( eseq ) . ( R1 + 1 ) ) ) as Integer by L381 , L379 , L364;
L382: ( D15 + D16 ) is Integer;
L383: ( ( R3 ! ) * ( ( Partial_Sums ( eseq ) ) . ( R1 + 1 ) ) ) = ( ( R3 ! ) * ( ( ( Partial_Sums ( eseq ) ) . R1 ) + ( ( eseq ) . ( R1 + 1 ) ) ) ) by SERIES_1:def 1
.= ( ( ( R3 ! ) * ( ( Partial_Sums ( eseq ) ) . R1 ) ) + ( ( R3 ! ) * ( ( eseq ) . ( R1 + 1 ) ) ) );
thus L384: ( ( R3 ! ) * ( ( Partial_Sums ( eseq ) ) . ( R1 + 1 ) ) ) is  integer by L383 , L382;
end;
L385: (for R1 being (Element of ( NAT )) holds (S7[ R1 ] implies S7[ ( R1 + 1 ) ])) by L377;
L386:
now
assume L387: ( 0 ) <= R3;
L388: ( ( R3 ! ) * ( ( Partial_Sums ( eseq ) ) . ( 0 ) ) ) = ( ( R3 ! ) * ( ( eseq ) . ( 0 ) ) ) by SERIES_1:def 1
.= ( ( R3 ! ) / ( ( 0 ) ! ) ) by L343;
thus L389: ( ( R3 ! ) * ( ( Partial_Sums ( eseq ) ) . ( 0 ) ) ) is  integer by L388 , L364;
end;
L390: S7[ ( 0 ) ] by L386;
L391: (for R1 being (Element of ( NAT )) holds S7[ R1 ]) from NAT_1:sch 1(L390 , L385);
thus L392: thesis by L391;
end;
theorem
L393: (for R1 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds (for R8 being  real number holds (R8 = ( 1 / ( R3 + 1 ) ) implies ( ( R3 ! ) / ( ( ( R3 + R1 ) + 1 ) ! ) ) <= ( R8 ^ ( R1 + 1 ) )))))
proof
let R1 being (Element of ( NAT ));
let R3 being (Element of ( NAT ));
let R8 being  real number;
defpred S8[ (Element of ( NAT )) ] means ( ( R3 ! ) / ( ( ( R3 + $1 ) + 1 ) ! ) ) <= ( R8 ^ ( $1 + 1 ) );
assume L394: R8 = ( 1 / ( R3 + 1 ) );
L395:
now
let R1 being (Element of ( NAT ));
assume L396: S8[ R1 ];
L397: ( ( R3 ! ) / ( ( ( R3 + ( R1 + 1 ) ) + 1 ) ! ) ) = ( ( R3 ! ) * ( ( ( ( R3 + ( R1 + 1 ) ) + 1 ) ! ) " ) )
.= ( ( R3 ! ) * ( ( ( ( R3 + ( R1 + 1 ) ) + 1 ) * ( ( ( R3 + R1 ) + 1 ) ! ) ) " ) ) by NEWTON:15
.= ( ( R3 ! ) * ( ( ( ( R3 + ( R1 + 1 ) ) + 1 ) " ) * ( ( ( ( R3 + R1 ) + 1 ) ! ) " ) ) ) by XCMPLX_1:204
.= ( ( ( R3 ! ) * ( ( ( ( R3 + R1 ) + 1 ) ! ) " ) ) * ( ( ( R3 + ( R1 + 1 ) ) + 1 ) " ) )
.= ( ( ( R3 ! ) / ( ( ( R3 + R1 ) + 1 ) ! ) ) * ( ( ( R3 + ( R1 + 1 ) ) + 1 ) " ) );
L398: ( R3 + ( R1 + 1 ) ) >= ( R3 + ( 0 ) ) by XREAL_1:6;
L399: ( ( R3 + ( R1 + 1 ) ) + 1 ) >= ( R3 + 1 ) by L398 , XREAL_1:6;
L400: ( ( ( R3 + ( R1 + 1 ) ) + 1 ) " ) <= ( 1 / ( R3 + 1 ) ) by L399 , XREAL_1:85;
L401: ( ( R8 ^ ( R1 + 1 ) ) * R8 ) = ( ( R8 ^ ( R1 + 1 ) ) * ( R8 ^ 1 ) ) by POWER:25
.= ( R8 ^ ( ( R1 + 1 ) + 1 ) ) by L394 , POWER:27;
thus L402: S8[ ( R1 + 1 ) ] by L401 , L394 , L396 , L400 , L397 , XREAL_1:66;
end;
L403: ( ( R3 ! ) / ( ( R3 + 1 ) ! ) ) = ( ( R3 ! ) / ( ( R3 + 1 ) * ( R3 ! ) ) ) by NEWTON:15
.= ( ( R3 ! ) * ( ( ( R3 + 1 ) * ( R3 ! ) ) " ) )
.= ( ( R3 ! ) * ( ( ( R3 + 1 ) " ) * ( ( R3 ! ) " ) ) ) by XCMPLX_1:204
.= ( ( ( R3 ! ) * ( ( R3 ! ) " ) ) * ( ( R3 + 1 ) " ) )
.= ( 1 * ( ( R3 + 1 ) " ) ) by XCMPLX_0:def 7
.= R8 by L394;
L404: S8[ ( 0 ) ] by L403 , POWER:25;
L405: (for R3 being (Element of ( NAT )) holds S8[ R3 ]) from NAT_1:sch 1(L404 , L395);
thus L406: thesis by L405;
end;
theorem
L407: (for R3 being (Element of ( NAT )) holds (for R8 being  real number holds ((R3 > ( 0 ) & R8 = ( 1 / ( R3 + 1 ) )) implies ( ( R3 ! ) * ( Sum ( ( eseq ) ^\ ( R3 + 1 ) ) ) ) <= ( R8 / ( 1 - R8 ) ))))
proof
let R3 being (Element of ( NAT ));
let R8 being  real number;
assume that
L408: R3 > ( 0 )
and
L409: R8 = ( 1 / ( R3 + 1 ) );
deffunc H10((Element of ( NAT ))) = ( R8 ^ ( $1 + 1 ) );
consider C17 being Real_Sequence such that L410: (for R1 being (Element of ( NAT )) holds ( C17 . R1 ) = H10(R1)) from SEQ_1:sch 1;
L411:
now
let R1 being (Element of ( NAT ));
L412: ( ( ( R3 ! ) (#) ( ( eseq ) ^\ ( R3 + 1 ) ) ) . R1 ) = ( ( R3 ! ) * ( ( ( eseq ) ^\ ( R3 + 1 ) ) . R1 ) ) by SEQ_1:9
.= ( ( R3 ! ) * ( ( eseq ) . ( ( R3 + 1 ) + R1 ) ) ) by NAT_1:def 3
.= ( ( R3 ! ) * ( 1 / ( ( ( R3 + R1 ) + 1 ) ! ) ) ) by L50
.= ( ( R3 ! ) / ( ( ( R3 + R1 ) + 1 ) ! ) );
thus L413: ( ( ( R3 ! ) (#) ( ( eseq ) ^\ ( R3 + 1 ) ) ) . R1 ) >= ( 0 ) by L412;
L414: ( C17 . R1 ) = ( R8 ^ ( R1 + 1 ) ) by L410;
thus L415: ( ( ( R3 ! ) (#) ( ( eseq ) ^\ ( R3 + 1 ) ) ) . R1 ) <= ( C17 . R1 ) by L414 , L409 , L412 , L393;
end;
L416: ( C17 . ( 0 ) ) = ( R8 ^ ( ( 0 ) + 1 ) ) by L410
.= R8 by POWER:25;
L417: ( ( eseq ) ^\ ( R3 + 1 ) ) is  summable by L229 , SERIES_1:12;
L418: ( R3 + 1 ) > ( ( 0 ) + 1 ) by L408 , XREAL_1:6;
L419: R8 < 1 by L418 , L409 , XREAL_1:212;
L420:
now
let R1 being (Element of ( NAT ));
thus L421: ( C17 . ( R1 + 1 ) ) = ( R8 ^ ( ( R1 + 1 ) + 1 ) ) by L410
.= ( ( R8 ^ 1 ) * ( R8 ^ ( R1 + 1 ) ) ) by L409 , POWER:27
.= ( R8 * ( R8 ^ ( R1 + 1 ) ) ) by POWER:25
.= ( R8 * ( C17 . R1 ) ) by L410;
end;
L422: ( abs R8 ) = R8 by L409 , ABSVALUE:def 1;
L423: C17 is  summable by L422 , L419 , L420 , SERIES_1:25;
L424: ( Sum ( ( R3 ! ) (#) ( ( eseq ) ^\ ( R3 + 1 ) ) ) ) <= ( Sum C17 ) by L423 , L411 , SERIES_1:20;
L425: ( abs R8 ) < 1 by L409 , L419 , ABSVALUE:def 1;
L426: ( Sum C17 ) = ( R8 / ( 1 - R8 ) ) by L425 , L416 , L420 , SERIES_1:25;
thus L427: thesis by L426 , L417 , L424 , SERIES_1:10;
end;
theorem
L428: (for R8 being  real number holds (for B46 being  real number holds ((B46 >= 2 & R8 = ( 1 / ( B46 + 1 ) )) implies ( R8 / ( 1 - R8 ) ) < 1)))
proof
let R8 being  real number;
let C18 being  real number;
assume that
L429: C18 >= 2
and
L430: R8 = ( 1 / ( C18 + 1 ) );
L431: ( C18 + 1 ) > C18 by XREAL_1:29;
L432: 2 < ( C18 + 1 ) by L431 , L429 , XXREAL_0:2;
L433: ( 2 / ( C18 + 1 ) ) < 1 by L432 , XREAL_1:189;
L434: ( R8 + R8 ) < 1 by L433 , L430;
L435: R8 < ( 1 - R8 ) by L434 , XREAL_1:20;
thus L436: thesis by L435 , L429 , L430 , XREAL_1:189;
end;
::$N Irrationality of e
theorem
L437: ( number_e ) is  irrational
proof
assume L438: ( number_e ) is  rational;
consider R3 being (Element of ( NAT )) such that L439: R3 >= 2 and L440: ( ( R3 ! ) * ( number_e ) ) is  integer by L438 , L328;
reconsider D17 = ( ( R3 ! ) * ( number_e ) ) as Integer by L440;
set D18 = ( 1 / ( R3 + 1 ) );
reconsider D19 = ( ( R3 ! ) * ( ( Partial_Sums ( eseq ) ) . R3 ) ) as Integer by L376;
L441: ( ( R3 ! ) * ( number_e ) ) = ( ( R3 ! ) * ( ( ( Partial_Sums ( eseq ) ) . R3 ) + ( Sum ( ( eseq ) ^\ ( R3 + 1 ) ) ) ) ) by L229 , SERIES_1:15
.= ( ( ( R3 ! ) * ( ( Partial_Sums ( eseq ) ) . R3 ) ) + ( ( R3 ! ) * ( Sum ( ( eseq ) ^\ ( R3 + 1 ) ) ) ) );
L442: ( ( R3 ! ) * ( Sum ( ( eseq ) ^\ ( R3 + 1 ) ) ) ) = ( D17 - D19 ) by L441;
L443: (( D18 / ( 1 - D18 ) ) < 1 & ( ( R3 ! ) * ( Sum ( ( eseq ) ^\ ( R3 + 1 ) ) ) ) <= ( D18 / ( 1 - D18 ) )) by L439 , L407 , L428;
L444: ( ( R3 ! ) * ( Sum ( ( eseq ) ^\ ( R3 + 1 ) ) ) ) < ( ( 0 ) + 1 ) by L443 , XXREAL_0:2;
thus L445: contradiction by L444 , L442 , L357 , INT_1:7;
end;
