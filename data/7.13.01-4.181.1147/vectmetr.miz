:: Real Linear-Metric Space and Isometric Functions
::  by Robert Milewski
::
:: Received November 3, 1998
:: Copyright (c) 1998-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, XBOOLE_0, METRIC_1, CONVEX1, SUBSET_1, REAL_1, CARD_1,
      XXREAL_0, RELAT_1, ARYTM_1, FINSEQ_1, STRUCT_0, PARTFUN1, ARYTM_3,
      COMPLEX1, CARD_3, ZFMISC_1, BINTREE1, TREES_2, FUNCT_1, TREES_4,
      ORDINAL4, CAT_1, TREES_1, POWER, INT_1, NAT_1, FINSEQ_2, MARGREL1,
      EUCLID, XBOOLEAN, MCART_1, BINTREE2, ABIAN, TARSKI, RELAT_2, FUNCT_2,
      RLVECT_1, ALGSTR_0, BINOP_1, UNIALG_1, SUPINF_2, XREAL_0, ORDINAL1,
      PRE_TOPC, GROUP_1, GROUP_2, VECTMETR;
 notations TARSKI, XBOOLE_0, ZFMISC_1,
      XTUPLE_0, SUBSET_1, NUMBERS, MCART_1, ORDINAL1,
      XCMPLX_0, XREAL_0, COMPLEX1, REAL_1, RELAT_2, XXREAL_0, INT_1, NAT_1,
      NAT_D, POWER, ABIAN, SERIES_1, RELAT_1, RELSET_1, MARGREL1, BINOP_1,
      DOMAIN_1, FUNCT_1, PARTFUN1, FUNCT_2, STRUCT_0, ALGSTR_0, PRE_TOPC,
      FINSEQ_1, FINSEQ_2, FINSEQ_4, BINARITH, TREES_1, TREES_2, TREES_4,
      BINTREE1, BINTREE2, RVSUM_1, RLVECT_1, GROUP_1, GROUP_2, TOPS_2,
      METRIC_1, EUCLID;
 constructors REAL_1, NAT_D, FINSEQOP, FINSEQ_4, FINSOP_1, SERIES_1, REALSET1,
      BINARITH, ABIAN, TOPS_2, GROUP_2, EUCLID, BINTREE2, RVSUM_1, RELSET_1,
      XTUPLE_0;
 registrations XBOOLE_0, SUBSET_1, FUNCT_1, RELSET_1, FUNCT_2, NUMBERS,
      XXREAL_0, NAT_1, FINSEQ_1, BINOP_2, MEMBERED, MARGREL1, FINSEQ_2,
      TREES_2, STRUCT_0, METRIC_1, GROUP_2, BINTREE1, BINTREE2, VALUED_0,
      XREAL_0, RELAT_1, INT_1, EUCLID, XTUPLE_0;
 requirements REAL, NUMERALS, BOOLE, SUBSET, ARITHM;
 definitions FUNCT_2, STRUCT_0, TARSKI, XBOOLE_0, MARGREL1, XBOOLEAN, RLVECT_1,
      RVSUM_1, EUCLID, FINSEQ_2, ALGSTR_0, VALUED_1, XTUPLE_0;
 theorems STRUCT_0, TARSKI, MCART_1, NAT_1, NAT_2, ZFMISC_1, BINOP_1, RELAT_1,
      FUNCT_1, FUNCT_2, POWER, FINSEQ_1, FINSEQ_2, FINSEQ_4, FINSEQ_5,
      BINARI_2, BINARI_3, ABSVALUE, TOPS_2, FUNCOP_1, BINTREE2, PRE_FF,
      RLVECT_1, METRIC_1, RVSUM_1, EUCLID, GROUP_1, GROUP_2, RELAT_2, XCMPLX_1,
      PARTFUN1, INT_1, ORDERS_1, XREAL_1, FINSEQOP, XXREAL_0, FINSOP_1, NAT_D,
      ORDINAL1, XREAL_0, XTUPLE_0;
 schemes BINOP_1, NAT_1, FINSEQ_2, BINTREE2, RELSET_1, XBOOLE_0;

begin
definition
let C1 being non  empty MetrStruct;
attr C1 is  convex
means
:L1: (for B1 , B2 being (Element of C1) holds (for B3 being Real holds ((( 0 ) <= B3 & B3 <= 1) implies (ex B4 being (Element of C1) st (( dist (B1 , B4) ) = ( B3 * ( dist (B1 , B2) ) ) & ( dist (B4 , B2) ) = ( ( 1 - B3 ) * ( dist (B1 , B2) ) ))))));
end;
definition
let C2 being non  empty MetrStruct;
attr C2 is  internal
means
(for B5 , B6 being (Element of C2) holds (for B7 , B8 being Real holds ((B7 > ( 0 ) & B8 > ( 0 )) implies (ex B9 being (FinSequence of (the carrier of C2)) st (( B9 /. 1 ) = B5 & ( B9 /. ( len B9 ) ) = B6 & (for B10 being (Element of ( NAT )) holds ((1 <= B10 & B10 <= ( ( len B9 ) - 1 )) implies ( dist (( B9 /. B10 ) , ( B9 /. ( B10 + 1 ) )) ) < B7)) & (for B11 being (FinSequence of ( REAL )) holds ((( len B11 ) = ( ( len B9 ) - 1 ) & (for B12 being (Element of ( NAT )) holds ((1 <= B12 & B12 <= ( len B11 )) implies ( B11 /. B12 ) = ( dist (( B9 /. B12 ) , ( B9 /. ( B12 + 1 ) )) )))) implies ( abs ( ( dist (B5 , B6) ) - ( Sum B11 ) ) ) < B8)))))));
end;
theorem
L4: (for B13 being non  empty MetrSpace holds (B13 is  convex implies (for B14 , B15 being (Element of B13) holds (for B16 being Real holds (B16 > ( 0 ) implies (ex B17 being (FinSequence of (the carrier of B13)) st (( B17 /. 1 ) = B14 & ( B17 /. ( len B17 ) ) = B15 & (for B18 being (Element of ( NAT )) holds ((1 <= B18 & B18 <= ( ( len B17 ) - 1 )) implies ( dist (( B17 /. B18 ) , ( B17 /. ( B18 + 1 ) )) ) < B16)) & (for B19 being (FinSequence of ( REAL )) holds ((( len B19 ) = ( ( len B17 ) - 1 ) & (for B20 being (Element of ( NAT )) holds ((1 <= B20 & B20 <= ( len B19 )) implies ( B19 /. B20 ) = ( dist (( B17 /. B20 ) , ( B17 /. ( B20 + 1 ) )) )))) implies ( dist (B14 , B15) ) = ( Sum B19 ))))))))))
proof
let C3 being non  empty MetrSpace;
assume L5: C3 is  convex;
set D1 = (the carrier of C3);
let C4 , C5 being (Element of C3);
defpred S1[ set , set , set ] means (for B21 , B22 being (Element of D1) holds ($1 = [ B21 , B22 ] implies (ex B23 being (Element of D1) st ($2 = [ B21 , B23 ] & $3 = [ B23 , B22 ] & ( dist (B21 , B22) ) = ( 2 * ( dist (B21 , B23) ) ) & ( dist (B21 , B22) ) = ( 2 * ( dist (B23 , B22) ) )))));
L6: (for B24 being (Element of [: D1 , D1 :]) holds (ex B25 , B26 being (Element of [: D1 , D1 :]) st S1[ B24 , B25 , B26 ]))
proof
let C6 being (Element of [: D1 , D1 :]);
consider C7 , C8 being set such that L7: (C7 in D1 & C8 in D1) and L8: C6 = [ C7 , C8 ] by ZFMISC_1:def 2;
reconsider D2 = C7 , D3 = C8 as (Element of D1) by L7;
consider C9 being (Element of D1) such that L9: ( dist (D2 , C9) ) = ( ( 1 / 2 ) * ( dist (D2 , D3) ) ) and L10: ( dist (C9 , D3) ) = ( ( 1 - ( 1 / 2 ) ) * ( dist (D2 , D3) ) ) by L5 , L1;
take D4 = [ D2 , C9 ];
take D5 = [ C9 , D3 ];
let C10 , C11 being (Element of D1);
assume L11: C6 = [ C10 , C11 ];
take C9;
thus L12: D4 = [ C10 , C9 ] by L8 , L11 , XTUPLE_0:1;
thus L13: D5 = [ C9 , C11 ] by L8 , L11 , XTUPLE_0:1;
L14: C10 = D2 by L8 , L11 , XTUPLE_0:1;
thus L15: ( dist (C10 , C11) ) = ( 2 * ( dist (C10 , C9) ) ) by L14 , L8 , L9 , L11 , XTUPLE_0:1;
L16: C11 = D3 by L8 , L11 , XTUPLE_0:1;
thus L17: thesis by L16 , L8 , L10 , L11 , XTUPLE_0:1;
end;
consider C12 being  binary (DecoratedTree of [: D1 , D1 :]) such that L18: ( dom C12 ) = ( { ( 0 ) , 1 } * ) and L19: ( C12 . ( {} ) ) = [ C4 , C5 ] and L20: (for B27 being (Node of C12) holds S1[ ( C12 . B27 ) , ( C12 . ( B27 ^ <* ( 0 ) *> ) ) , ( C12 . ( B27 ^ <* 1 *> ) ) ]) from BINTREE2:sch 1(L6);
reconsider D6 = ( dom C12 ) as  full Tree by L18 , BINTREE2:def 2;
let C13 being Real;
assume that
L21: C13 > ( 0 );
per cases ;
suppose L22: ( dist (C4 , C5) ) >= C13;

L23: ( ( dist (C4 , C5) ) / C13 ) >= 1 by L22 , L21 , XREAL_1:181;
L24: ( log (2 , ( ( dist (C4 , C5) ) / C13 )) ) >= ( log (2 , 1) ) by L23 , PRE_FF:10;
L25: ( log (2 , ( ( dist (C4 , C5) ) / C13 )) ) >= ( 0 ) by L24 , POWER:51;
reconsider D7 = [\ ( log (2 , ( ( dist (C4 , C5) ) / C13 )) ) /] as (Element of ( NAT )) by L25 , INT_1:53;
defpred S2[ Nat ] means (for B28 being (Tuple of $1 , ( BOOLEAN )) holds (B28 = ( 0* $1 ) implies ( ( C12 . ( 'not' B28 ) ) `2 ) = C5));
defpred S3[ (Element of ( NAT )) ] means ( ( C12 . ( 0* $1 ) ) `1 ) = C4;
reconsider D8 = ( D7 + 1 ) as non  empty (Element of ( NAT ));
reconsider D9 = ( 2 to_power D8 ) as non  empty (Element of ( NAT )) by POWER:34;
set D10 = ( ( dist (C4 , C5) ) / D9 );
reconsider D11 = ( FinSeqLevel (D8 , D6) ) as (FinSequence of ( dom C12 )) by FINSEQ_2:24;
deffunc H1(Nat) = ( C12 . ( D11 /. $1 ) );
consider C14 being (FinSequence of [: D1 , D1 :]) such that L26: ( len C14 ) = D9 and L27: (for B29 being Nat holds (B29 in ( dom C14 ) implies ( C14 . B29 ) = H1(B29))) from FINSEQ_2:sch 1;
L28: ( dom C14 ) = ( Seg D9 ) by L26 , FINSEQ_1:def 3;
L29: (for B30 being (Element of ( NAT )) holds (S3[ B30 ] implies S3[ ( B30 + 1 ) ]))
proof
let C15 being (Element of ( NAT ));
assume L30: ( ( C12 . ( 0* C15 ) ) `1 ) = C4;
reconsider D12 = ( 0* C15 ) as (Node of C12) by L18 , BINARI_3:4;
consider C16 , C17 being set such that L31: (C16 in D1 & C17 in D1) and L32: ( C12 . D12 ) = [ C16 , C17 ] by ZFMISC_1:def 2;
reconsider D13 = C16 , D14 = C17 as (Element of D1) by L31;
L33: (ex B31 being (Element of D1) st (( C12 . ( D12 ^ <* ( 0 ) *> ) ) = [ D13 , B31 ] & ( C12 . ( D12 ^ <* 1 *> ) ) = [ B31 , D14 ] & ( dist (D13 , D14) ) = ( 2 * ( dist (D13 , B31) ) ) & ( dist (D13 , D14) ) = ( 2 * ( dist (B31 , D14) ) ))) by L20 , L32;
thus L34: ( ( C12 . ( 0* ( C15 + 1 ) ) ) `1 ) = ( ( C12 . ( D12 ^ <* ( 0 ) *> ) ) `1 ) by FINSEQ_2:60
.= D13 by L33 , MCART_1:7
.= C4 by L32 , L30 , MCART_1:7;
end;
L35: S3[ ( 0 ) ] by L19 , MCART_1:7;
L36: (for B32 being (Element of ( NAT )) holds S3[ B32 ]) from NAT_1:sch 1(L35 , L29);
L37: ( 2 to_power D8 ) > ( 0 ) by POWER:34;
L38: ( ( 0 ) + 1 ) <= ( 2 to_power D8 ) by L37 , NAT_1:13;
L39: 1 <= ( len ( FinSeqLevel (D8 , D6) ) ) by L38 , BINTREE2:19;
L40: (for B33 being non  empty Nat holds (S2[ B33 ] implies S2[ ( B33 + 1 ) ]))
proof
let C18 being non  empty Nat;
assume L41: (for B34 being (Tuple of C18 , ( BOOLEAN )) holds (B34 = ( 0* C18 ) implies ( ( C12 . ( 'not' B34 ) ) `2 ) = C5));
let C19 being (Tuple of ( C18 + 1 ) , ( BOOLEAN ));
consider C20 being (Element of ( C18 -tuples_on ( BOOLEAN ) )), C21 being (Element of ( BOOLEAN )) such that L42: C19 = ( C20 ^ <* C21 *> ) by FINSEQ_2:117;
assume L43: C19 = ( 0* ( C18 + 1 ) );
L44: C19 = ( ( 0* C18 ) ^ <* ( 0 ) *> ) by L43 , FINSEQ_2:60;
L45: C20 = ( 0* C18 ) by L44 , L42 , FINSEQ_2:17;
L46: ( ( C12 . ( 'not' C20 ) ) `2 ) = C5 by L45 , L41;
L47: C21 = ( C19 . ( ( len C20 ) + 1 ) ) by L42 , FINSEQ_1:42
.= ( ( ( C18 + 1 ) |-> (( 0 ) qua Real) ) . ( C18 + 1 ) ) by L43
.= ( FALSE );
L48: ( 'not' C21 ) = 1 by L47;
L49: ( 'not' C19 ) = ( ( 'not' C20 ) ^ <* 1 *> ) by L48 , L42 , BINARI_2:9;
reconsider D15 = ( 'not' C20 ) as (Node of C12) by L18 , FINSEQ_1:def 11;
consider C22 , C23 being set such that L50: (C22 in D1 & C23 in D1) and L51: ( C12 . D15 ) = [ C22 , C23 ] by ZFMISC_1:def 2;
reconsider D16 = C22 , D17 = C23 as (Element of D1) by L50;
L52: (ex B35 being (Element of D1) st (( C12 . ( D15 ^ <* ( 0 ) *> ) ) = [ D16 , B35 ] & ( C12 . ( D15 ^ <* 1 *> ) ) = [ B35 , D17 ] & ( dist (D16 , D17) ) = ( 2 * ( dist (D16 , B35) ) ) & ( dist (D16 , D17) ) = ( 2 * ( dist (B35 , D17) ) ))) by L20 , L51;
thus L53: ( ( C12 . ( 'not' C19 ) ) `2 ) = D17 by L52 , L49 , MCART_1:7
.= C5 by L51 , L46 , MCART_1:7;
end;
L54: S2[ 1 ]
proof
reconsider D18 = ( <*> { ( 0 ) , 1 } ) as (Node of C12) by L18 , FINSEQ_1:def 11;
let C24 being (Tuple of 1 , ( BOOLEAN ));
L55: (ex B36 being (Element of D1) st (( C12 . ( D18 ^ <* ( 0 ) *> ) ) = [ C4 , B36 ] & ( C12 . ( D18 ^ <* 1 *> ) ) = [ B36 , C5 ] & ( dist (C4 , C5) ) = ( 2 * ( dist (C4 , B36) ) ) & ( dist (C4 , C5) ) = ( 2 * ( dist (B36 , C5) ) ))) by L19 , L20;
assume L56: C24 = ( 0* 1 );
L57: C24 = <* ( FALSE ) *> by L56 , FINSEQ_2:59;
thus L58: ( ( C12 . ( 'not' C24 ) ) `2 ) = ( ( C12 . ( D18 ^ <* 1 *> ) ) `2 ) by L57 , BINARI_3:14 , FINSEQ_1:34
.= C5 by L55 , MCART_1:7;
end;
L59: (for B37 being non  empty Nat holds S2[ B37 ]) from NAT_1:sch 10(L54 , L40);
deffunc H2(Nat) = ( ( C14 /. $1 ) `1 );
consider C25 being (FinSequence of (the carrier of C3)) such that L60: ( len C25 ) = D9 and L61: (for B38 being Nat holds (B38 in ( dom C25 ) implies ( C25 . B38 ) = H2(B38))) from FINSEQ_2:sch 1;
L62: ( dom C25 ) = ( Seg D9 ) by L60 , FINSEQ_1:def 3;
L63: 1 <= D9 by NAT_1:14;
L64: 1 in ( Seg D9 ) by L63 , FINSEQ_1:1;
L65: 1 in ( dom C25 ) by L64 , L60 , FINSEQ_1:def 3;
take D19 = ( C25 ^ <* C5 *> );
L66: ( len D19 ) = ( ( len C25 ) + ( len <* C5 *> ) ) by FINSEQ_1:22
.= ( ( len C25 ) + 1 ) by FINSEQ_1:39;
L67: 1 <= ( D9 + 1 ) by NAT_1:11;
thus L68: ( D19 /. 1 ) = ( D19 . 1 ) by L67 , L60 , L66 , FINSEQ_4:15
.= ( C25 . 1 ) by L65 , FINSEQ_1:def 7
.= ( ( C14 /. 1 ) `1 ) by L61 , L62 , L64
.= ( ( C14 . 1 ) `1 ) by L26 , L63 , FINSEQ_4:15
.= ( ( C12 . ( D11 /. 1 ) ) `1 ) by L27 , L28 , L64
.= ( ( C12 . ( ( FinSeqLevel (D8 , D6) ) . 1 ) ) `1 ) by L39 , FINSEQ_4:15
.= ( ( C12 . ( 0* D8 ) ) `1 ) by BINTREE2:15
.= C4 by L36;
L69: ( len D19 ) in ( Seg ( len D19 ) ) by L66 , FINSEQ_1:4;
L70: ( len D19 ) in ( dom D19 ) by L69 , FINSEQ_1:def 3;
thus L71: ( D19 /. ( len D19 ) ) = ( ( C25 ^ <* C5 *> ) . ( ( len C25 ) + 1 ) ) by L70 , L66 , PARTFUN1:def 6
.= C5 by FINSEQ_1:42;
L72: (for B39 being (Element of ( NAT )) holds ((1 <= B39 & B39 <= ( ( len D19 ) - 1 )) implies ( dist (( D19 /. B39 ) , ( D19 /. ( B39 + 1 ) )) ) = D10))
proof
L73: ( 0* D8 ) in ( ( BOOLEAN ) * ) by BINARI_3:4;
reconsider D20 = ( 0* D8 ) as (Tuple of D8 , ( BOOLEAN )) by L73 , FINSEQ_1:def 11;
reconsider D21 = D20 as (Element of ( D8 -tuples_on ( BOOLEAN ) )) by FINSEQ_2:131;
defpred S4[ non  empty Nat ] means (for B40 being non  empty (Element of ( NAT )) holds (B40 <= ( 2 to_power $1 ) implies (for B41 , B42 being (Element of C3) holds ((B41 = ( ( C12 . ( ( FinSeqLevel ($1 , D6) ) . B40 ) ) `1 ) & B42 = ( ( C12 . ( ( FinSeqLevel ($1 , D6) ) . B40 ) ) `2 )) implies ( dist (B41 , B42) ) = ( ( dist (C4 , C5) ) / ( 2 to_power $1 ) )))));
let C26 being (Element of ( NAT ));
assume that
L74: 1 <= C26
and
L75: C26 <= ( ( len D19 ) - 1 );
L76: ( len D11 ) = D9 by BINTREE2:19;
L77:
now
per cases  by L75 , XXREAL_0:1;
suppose L78: C26 < ( ( len D19 ) - 1 );

L79: C26 < ( ( len D19 ) -' 1 ) by L78 , L66 , NAT_1:11 , XREAL_1:233;
L80: ( C26 + 1 ) <= ( ( len D19 ) -' 1 ) by L79 , NAT_1:13;
L81: ( C26 + 1 ) <= ( ( len D19 ) - 1 ) by L80 , L66 , NAT_1:11 , XREAL_1:233;
L82: ( ( C26 + 1 ) - 1 ) <= ( ( 2 to_power D8 ) - 1 ) by L81 , L60 , L66 , XREAL_1:9;
defpred S5[ non  empty Nat ] means (for B43 being Nat holds ((1 <= B43 & B43 <= ( ( 2 to_power $1 ) - 1 )) implies ( ( C12 . ( ( FinSeqLevel ($1 , D6) ) . ( B43 + 1 ) ) ) `1 ) = ( ( C12 . ( ( FinSeqLevel ($1 , D6) ) . B43 ) ) `2 )));
L83: (for B44 being non  empty Nat holds (S5[ B44 ] implies S5[ ( B44 + 1 ) ]))
proof
let C27 being non  empty Nat;
reconsider D22 = C27 as non  empty (Element of ( NAT )) by ORDINAL1:def 12;
reconsider D23 = ( D6 -level C27 ) as non  empty set by L18 , BINTREE2:10;
assume L84: (for B45 being Nat holds ((1 <= B45 & B45 <= ( ( 2 to_power C27 ) - 1 )) implies ( ( C12 . ( ( FinSeqLevel (C27 , D6) ) . ( B45 + 1 ) ) ) `1 ) = ( ( C12 . ( ( FinSeqLevel (C27 , D6) ) . B45 ) ) `2 )));
let C28 being Nat;
assume that
L85: 1 <= C28
and
L86: C28 <= ( ( 2 to_power ( C27 + 1 ) ) - 1 );
reconsider D24 = C28 as (Element of ( NAT )) by ORDINAL1:def 12;
L87: ( 1 + 1 ) <= ( C28 + 1 ) by L85 , XREAL_1:6;
L88: ( ( C28 + 1 ) div 2 ) >= 1 by L87 , NAT_2:13;
L89: ( 2 to_power ( C27 + 1 ) ) > ( 0 ) by POWER:34;
L90: ( 2 to_power ( C27 + 1 ) ) >= ( ( 0 ) + 1 ) by L89 , NAT_1:13;
L91: C28 <= ( ( 2 to_power ( C27 + 1 ) ) -' 1 ) by L90 , L86 , XREAL_1:233;
L92: C28 < ( ( ( 2 to_power ( C27 + 1 ) ) -' 1 ) + 1 ) by L91 , NAT_1:13;
L93: C28 < ( ( ( 2 to_power ( C27 + 1 ) ) - 1 ) + 1 ) by L92 , L90 , XREAL_1:233;
L94: ( C28 + 1 ) <= ( 2 to_power ( C27 + 1 ) ) by L93 , NAT_1:13;
L95: ( C28 + 1 ) <= ( ( 2 to_power C27 ) * ( 2 to_power 1 ) ) by L94 , POWER:27;
L96: ( C28 + 1 ) <= ( ( 2 to_power C27 ) * 2 ) by L95 , POWER:25;
L97: ( ( ( C28 + 1 ) + 1 ) div 2 ) <= ( 2 to_power C27 ) by L96 , NAT_2:25;
L98: ( C28 + 1 ) <= ( ( C28 + 1 ) + 1 ) by NAT_1:11;
L99: 2 <= ( ( C28 + 1 ) + 1 ) by L98 , L87 , XXREAL_0:2;
L100: ( ( ( C28 + 1 ) + 1 ) div 2 ) >= 1 by L99 , NAT_2:13;
L101: ( ( ( C28 + 1 ) + 1 ) div 2 ) in ( Seg ( 2 to_power C27 ) ) by L100 , L97 , FINSEQ_1:1;
L102: ( ( ( C28 + 1 ) + 1 ) div 2 ) in ( dom ( FinSeqLevel (D22 , D6) ) ) by L101 , BINTREE2:20;
L103: ( ( FinSeqLevel (C27 , D6) ) . ( ( ( C28 + 1 ) + 1 ) div 2 ) ) in D23 by L102 , FINSEQ_2:11;
reconsider D25 = ( ( FinSeqLevel (D22 , D6) ) . ( ( ( C28 + 1 ) + 1 ) div 2 ) ) as (Tuple of C27 , ( BOOLEAN )) by L103 , BINTREE2:5;
reconsider D26 = D25 as (Element of ( C27 -tuples_on ( BOOLEAN ) )) by FINSEQ_2:131;
reconsider D27 = D26 as (Node of C12) by L18 , FINSEQ_1:def 11;
consider C29 , C30 being set such that L104: (C29 in D1 & C30 in D1) and L105: ( C12 . D27 ) = [ C29 , C30 ] by ZFMISC_1:def 2;
L106: C28 <= ( ( 2 to_power C27 ) * ( 2 to_power 1 ) ) by L93 , POWER:27;
L107: C28 <= ( ( 2 to_power C27 ) * 2 ) by L106 , POWER:25;
L108: ( ( C28 + 1 ) div 2 ) <= ( 2 to_power C27 ) by L107 , NAT_2:25;
L109: ( ( C28 + 1 ) div 2 ) in ( Seg ( 2 to_power C27 ) ) by L108 , L88 , FINSEQ_1:1;
L110: ( ( C28 + 1 ) div 2 ) in ( dom ( FinSeqLevel (D22 , D6) ) ) by L109 , BINTREE2:20;
L111: ( ( FinSeqLevel (C27 , D6) ) . ( ( C28 + 1 ) div 2 ) ) in D23 by L110 , FINSEQ_2:11;
reconsider D28 = ( ( FinSeqLevel (D22 , D6) ) . ( ( C28 + 1 ) div 2 ) ) as (Tuple of C27 , ( BOOLEAN )) by L111 , BINTREE2:5;
reconsider D29 = D28 as (Element of ( C27 -tuples_on ( BOOLEAN ) )) by FINSEQ_2:131;
reconsider D30 = D29 as (Node of C12) by L18 , FINSEQ_1:def 11;
consider C31 , C32 being set such that L112: (C31 in D1 & C32 in D1) and L113: ( C12 . D30 ) = [ C31 , C32 ] by ZFMISC_1:def 2;
reconsider D31 = C31 , D32 = C32 , D33 = C29 , D34 = C30 as (Element of D1) by L112 , L104;
consider C33 being (Element of D1) such that L114: ( C12 . ( D30 ^ <* ( 0 ) *> ) ) = [ D31 , C33 ] and L115: ( C12 . ( D30 ^ <* 1 *> ) ) = [ C33 , D32 ] and L116: ( dist (D31 , D32) ) = ( 2 * ( dist (D31 , C33) ) ) and L117: ( dist (D31 , D32) ) = ( 2 * ( dist (C33 , D32) ) ) by L20 , L113;
consider C34 being (Element of D1) such that L118: ( C12 . ( D27 ^ <* ( 0 ) *> ) ) = [ D33 , C34 ] and L119: ( C12 . ( D27 ^ <* 1 *> ) ) = [ C34 , D34 ] and L120: ( dist (D33 , D34) ) = ( 2 * ( dist (D33 , C34) ) ) and L121: ( dist (D33 , D34) ) = ( 2 * ( dist (C34 , D34) ) ) by L20 , L105;
L122: C28 = ( ( C28 + 1 ) - 1 )
.= ( ( C28 + 1 ) -' 1 ) by NAT_1:11 , XREAL_1:233;
L123:
now
per cases ;
suppose L124: C28 is  odd;

L125: ( C28 mod 2 ) = 1 by L124 , NAT_2:22;
L126: ( ( C28 + 1 ) mod 2 ) = ( 0 ) by L125 , L122 , NAT_2:18;
L127: ( C28 + 1 ) is  even by L126 , NAT_2:21;
L128: ( ( C28 + 1 ) div 2 ) = ( ( ( C28 + 1 ) + 1 ) div 2 ) by L127 , NAT_2:26;
L129: C33 = C34 by L128 , L114 , L118 , XTUPLE_0:1;
thus L130: ( ( C12 . ( ( FinSeqLevel (( C27 + 1 ) , D6) ) . ( C28 + 1 ) ) ) `1 ) = ( ( C12 . ( D26 ^ <* ( ( ( 2 * 1 ) + C28 ) mod 2 ) *> ) ) `1 ) by L94 , BINTREE2:24
.= ( ( C12 . ( D26 ^ <* 1 *> ) ) `1 ) by L125 , NAT_D:21
.= C33 by L119 , L129 , MCART_1:7
.= ( ( C12 . ( D29 ^ <* ( 0 ) *> ) ) `2 ) by L114 , MCART_1:7
.= ( ( C12 . ( D29 ^ <* ( ( D24 + 1 ) mod 2 ) *> ) ) `2 ) by L122 , L125 , NAT_2:18
.= ( ( C12 . ( ( FinSeqLevel (( C27 + 1 ) , D6) ) . D24 ) ) `2 ) by L85 , L93 , BINTREE2:24;
end;
suppose L131: C28 is  even;

L132: ( C28 mod 2 ) = ( 0 ) by L131 , NAT_2:21;
L133: 1 = ( ( C28 -' 1 ) mod 2 ) by L132 , L85 , NAT_2:18
.= ( ( ( C28 -' 1 ) + ( 2 * 1 ) ) mod 2 ) by NAT_D:21
.= ( ( ( ( C28 -' 1 ) + 1 ) + 1 ) mod 2 )
.= ( ( C28 + 1 ) mod 2 ) by L85 , XREAL_1:235;
L134: ( 1 + ( 1 + C28 ) ) >= 1 by NAT_1:11;
L135: ( ( 1 + 1 ) + ( C28 -' 1 ) ) = ( ( 1 + 1 ) + ( C28 - 1 ) ) by L85 , XREAL_1:233
.= ( ( ( 1 + 1 ) + C28 ) - 1 );
L136: 1 = ( ( ( ( 1 + 1 ) + C28 ) -' 1 ) mod 2 ) by L135 , L133 , L134 , XREAL_1:233;
L137: ( ( ( 1 + 1 ) + C28 ) mod 2 ) = ( 0 ) by L136 , NAT_2:18;
L138: ( ( C28 + 1 ) + 1 ) = ( ( 2 * ( ( ( C28 + 1 ) + 1 ) div 2 ) ) + ( 0 ) ) by L137 , NAT_D:2;
L139: 2 divides ( ( C28 + 1 ) + 1 ) by L138 , NAT_D:3;
L140: 1 <= ( ( C28 + 1 ) + 1 ) by NAT_1:11;
L141: ( ( ( ( C28 + 1 ) + 1 ) -' 1 ) div 2 ) = ( ( ( ( C28 + 1 ) + 1 ) div 2 ) - 1 ) by L140 , L139 , NAT_2:15;
L142: ( ( C28 + 1 ) div 2 ) = ( ( ( ( C28 + 1 ) + 1 ) div 2 ) - 1 ) by L141 , NAT_D:34;
L143: ( ( ( C28 + 1 ) div 2 ) + 1 ) = ( ( ( C28 + 1 ) + 1 ) div 2 ) by L142;
L144: ( ( C28 + 1 ) div 2 ) <= ( ( 2 to_power C27 ) - 1 ) by L143 , L97 , XREAL_1:19;
L145: C29 = ( ( C12 . ( ( FinSeqLevel (C27 , D6) ) . ( ( ( C28 + 1 ) + 1 ) div 2 ) ) ) `1 ) by L105 , MCART_1:7
.= ( ( C12 . ( ( FinSeqLevel (C27 , D6) ) . ( ( C28 + 1 ) div 2 ) ) ) `2 ) by L84 , L88 , L143 , L144
.= C32 by L113 , MCART_1:7;
thus L146: ( ( C12 . ( ( FinSeqLevel (( C27 + 1 ) , D6) ) . ( C28 + 1 ) ) ) `1 ) = ( ( C12 . ( D26 ^ <* ( ( ( 2 * 1 ) + C28 ) mod 2 ) *> ) ) `1 ) by L94 , BINTREE2:24
.= ( ( C12 . ( D26 ^ <* ( 0 ) *> ) ) `1 ) by L132 , NAT_D:21
.= D33 by L118 , MCART_1:7
.= ( ( C12 . ( D29 ^ <* 1 *> ) ) `2 ) by L115 , L145 , MCART_1:7
.= ( ( C12 . ( ( FinSeqLevel (( C27 + 1 ) , D6) ) . D24 ) ) `2 ) by L85 , L93 , L133 , BINTREE2:24;
end;
end;
thus L148: thesis by L123;
end;
L149: S5[ 1 ]
proof
reconsider D35 = ( <*> { ( 0 ) , 1 } ) as (Node of C12) by L18 , FINSEQ_1:def 11;
let C35 being Nat;
L150: ( ( 2 to_power 1 ) - 1 ) = ( ( 1 + 1 ) - 1 ) by POWER:25
.= 1;
consider C36 being (Element of D1) such that L151: ( C12 . ( D35 ^ <* ( 0 ) *> ) ) = [ C4 , C36 ] and L152: ( C12 . ( D35 ^ <* 1 *> ) ) = [ C36 , C5 ] and L153: ( dist (C4 , C5) ) = ( 2 * ( dist (C4 , C36) ) ) and L154: ( dist (C4 , C5) ) = ( 2 * ( dist (C36 , C5) ) ) by L19 , L20;
assume L155: (1 <= C35 & C35 <= ( ( 2 to_power 1 ) - 1 ));
L156: C35 = 1 by L155 , L150 , XXREAL_0:1;
thus L157: ( ( C12 . ( ( FinSeqLevel (1 , D6) ) . ( C35 + 1 ) ) ) `1 ) = ( ( C12 . <* 1 *> ) `1 ) by L156 , BINTREE2:23
.= ( ( C12 . ( D35 ^ <* 1 *> ) ) `1 ) by FINSEQ_1:34
.= C36 by L152 , MCART_1:7
.= ( ( C12 . ( D35 ^ <* ( 0 ) *> ) ) `2 ) by L151 , MCART_1:7
.= ( ( C12 . <* ( 0 ) *> ) `2 ) by FINSEQ_1:34
.= ( ( C12 . ( ( FinSeqLevel (1 , D6) ) . C35 ) ) `2 ) by L156 , BINTREE2:22;
end;
L158: (for B46 being non  empty Nat holds S5[ B46 ]) from NAT_1:sch 10(L149 , L83);
L159: 1 <= ( 1 + C26 ) by NAT_1:11;
L160: ( C26 + 1 ) in ( Seg ( len C25 ) ) by L159 , L66 , L81 , FINSEQ_1:1;
L161: ( C26 + 1 ) in ( dom C25 ) by L160 , FINSEQ_1:def 3;
thus L162: ( D19 /. ( C26 + 1 ) ) = ( C25 /. ( C26 + 1 ) ) by L161 , FINSEQ_4:68
.= ( C25 . ( C26 + 1 ) ) by L66 , L81 , L159 , FINSEQ_4:15
.= ( ( C14 /. ( C26 + 1 ) ) `1 ) by L60 , L61 , L62 , L160
.= ( ( C14 . ( C26 + 1 ) ) `1 ) by L26 , L60 , L66 , L81 , L159 , FINSEQ_4:15
.= ( ( C12 . ( D11 /. ( C26 + 1 ) ) ) `1 ) by L27 , L28 , L60 , L160
.= ( ( C12 . ( ( FinSeqLevel (D8 , D6) ) . ( C26 + 1 ) ) ) `1 ) by L60 , L66 , L76 , L81 , L159 , FINSEQ_4:15
.= ( ( C12 . ( ( FinSeqLevel (D8 , D6) ) . C26 ) ) `2 ) by L74 , L82 , L158;
end;
suppose L163: C26 = ( ( len D19 ) - 1 );

thus L164: ( D19 /. ( C26 + 1 ) ) = ( ( C12 . ( 'not' D21 ) ) `2 ) by L163 , L59 , L71
.= ( ( C12 . ( ( FinSeqLevel (D8 , D6) ) . C26 ) ) `2 ) by L60 , L66 , L163 , BINTREE2:16;
end;
end;
L166: (for B47 being non  empty Nat holds (S4[ B47 ] implies S4[ ( B47 + 1 ) ]))
proof
let C37 being non  empty Nat;
reconsider D36 = ( D6 -level C37 ) as non  empty set by L18 , BINTREE2:10;
reconsider D37 = C37 as non  empty (Element of ( NAT )) by ORDINAL1:def 12;
reconsider D38 = ( D6 -level ( C37 + 1 ) ) as non  empty set by L18 , BINTREE2:10;
assume L167: (for B48 being non  empty (Element of ( NAT )) holds (B48 <= ( 2 to_power C37 ) implies (for B49 , B50 being (Element of C3) holds ((B49 = ( ( C12 . ( ( FinSeqLevel (C37 , D6) ) . B48 ) ) `1 ) & B50 = ( ( C12 . ( ( FinSeqLevel (C37 , D6) ) . B48 ) ) `2 )) implies ( dist (B49 , B50) ) = ( ( dist (C4 , C5) ) / ( 2 to_power C37 ) )))));
let C38 being non  empty (Element of ( NAT ));
L168: ( ( C38 + 1 ) div 2 ) <> ( 0 )
proof
assume L169: ( ( C38 + 1 ) div 2 ) = ( 0 );
L170: ( C38 + 1 ) < ( 1 + 1 ) by L169 , NAT_2:12;
L171: C38 < 1 by L170 , XREAL_1:6;
thus L172: contradiction by L171 , NAT_1:14;
end;
reconsider D39 = ( ( C38 + 1 ) div 2 ) as non  empty (Element of ( NAT )) by L168;
assume L173: C38 <= ( 2 to_power ( C37 + 1 ) );
L174: C38 <= ( ( 2 to_power C37 ) * ( 2 to_power 1 ) ) by L173 , POWER:27;
L175: C38 <= ( ( 2 to_power C37 ) * 2 ) by L174 , POWER:25;
L176: (D39 >= 1 & D39 <= ( 2 to_power C37 )) by L175 , NAT_1:14 , NAT_2:25;
L177: D39 in ( Seg ( 2 to_power C37 ) ) by L176 , FINSEQ_1:1;
L178: ( ( C38 + 1 ) div 2 ) in ( dom ( FinSeqLevel (D37 , D6) ) ) by L177 , BINTREE2:20;
L179: ( ( FinSeqLevel (C37 , D6) ) . ( ( C38 + 1 ) div 2 ) ) in D36 by L178 , FINSEQ_2:11;
reconsider D40 = ( ( FinSeqLevel (D37 , D6) ) . ( ( C38 + 1 ) div 2 ) ) as (Tuple of C37 , ( BOOLEAN )) by L179 , BINTREE2:5;
reconsider D41 = D40 as (Element of ( C37 -tuples_on ( BOOLEAN ) )) by FINSEQ_2:131;
L180: ( FinSeqLevel (( C37 + 1 ) , D6) ) is (FinSequence of ( dom C12 )) by FINSEQ_2:24;
L181: C38 >= 1 by NAT_1:14;
L182: C38 in ( Seg ( 2 to_power ( C37 + 1 ) ) ) by L181 , L173 , FINSEQ_1:1;
L183: C38 in ( dom ( FinSeqLevel (( C37 + 1 ) , D6) ) ) by L182 , BINTREE2:20;
reconsider D42 = ( ( FinSeqLevel (( C37 + 1 ) , D6) ) . C38 ) as (Element of ( dom C12 )) by L183 , L180 , FINSEQ_2:11;
L184: ( ( FinSeqLevel (( C37 + 1 ) , D6) ) . C38 ) in D38 by L183 , FINSEQ_2:11;
reconsider D43 = ( ( FinSeqLevel (( C37 + 1 ) , D6) ) . C38 ) as (Tuple of ( C37 + 1 ) , ( BOOLEAN )) by L184 , BINTREE2:5;
consider C39 being (Element of ( C37 -tuples_on ( BOOLEAN ) )), C40 being (Element of ( BOOLEAN )) such that L185: D43 = ( C39 ^ <* C40 *> ) by FINSEQ_2:117;
let C41 , C42 being (Element of C3);
assume L186: (C41 = ( ( C12 . ( ( FinSeqLevel (( C37 + 1 ) , D6) ) . C38 ) ) `1 ) & C42 = ( ( C12 . ( ( FinSeqLevel (( C37 + 1 ) , D6) ) . C38 ) ) `2 ));
L187: ( C12 . D42 ) = [ C41 , C42 ] by L186 , MCART_1:21;
reconsider D44 = C39 as (Node of C12) by L18 , FINSEQ_1:def 11;
consider C43 , C44 being set such that L188: (C43 in D1 & C44 in D1) and L189: ( C12 . D44 ) = [ C43 , C44 ] by ZFMISC_1:def 2;
reconsider D45 = C43 , D46 = C44 as (Element of D1) by L188;
consider C45 being (Element of D1) such that L190: ( C12 . ( D44 ^ <* ( 0 ) *> ) ) = [ D45 , C45 ] and L191: ( C12 . ( D44 ^ <* 1 *> ) ) = [ C45 , D46 ] and L192: ( dist (D45 , D46) ) = ( 2 * ( dist (D45 , C45) ) ) and L193: ( dist (D45 , D46) ) = ( 2 * ( dist (C45 , D46) ) ) by L20 , L189;
L194: ( ( FinSeqLevel (( D37 + 1 ) , D6) ) . C38 ) = ( D41 ^ <* ( ( C38 + 1 ) mod 2 ) *> ) by L173 , BINTREE2:24;
L195: C39 = D41 by L194 , L185 , FINSEQ_2:17;
L196: (D45 = ( ( C12 . ( ( FinSeqLevel (C37 , D6) ) . D39 ) ) `1 ) & D46 = ( ( C12 . ( ( FinSeqLevel (C37 , D6) ) . D39 ) ) `2 )) by L195 , L189 , MCART_1:7;
L197: C40 = ( ( C38 + 1 ) mod 2 ) by L185 , L194 , FINSEQ_2:17;
L198:
now
per cases  by L197 , NAT_D:12;
suppose L199: C40 = ( 0 );

L200: (C41 = D45 & C42 = C45) by L199 , L187 , L185 , L190 , XTUPLE_0:1;
L201: ( 2 * ( dist (C41 , C42) ) ) = ( ( ( ( dist (C4 , C5) ) / ( 2 to_power C37 ) ) / 2 ) * 2 ) by L200 , L167 , L175 , L192 , L196 , NAT_2:25;
thus L202: ( dist (C41 , C42) ) = ( ( dist (C4 , C5) ) / ( ( 2 to_power C37 ) * 2 ) ) by L201 , XCMPLX_1:78
.= ( ( dist (C4 , C5) ) / ( ( 2 to_power C37 ) * ( 2 to_power 1 ) ) ) by POWER:25
.= ( ( dist (C4 , C5) ) / ( 2 to_power ( C37 + 1 ) ) ) by POWER:27;
end;
suppose L203: C40 = 1;

L204: (C41 = C45 & C42 = D46) by L203 , L187 , L185 , L191 , XTUPLE_0:1;
L205: ( 2 * ( dist (C41 , C42) ) ) = ( ( ( ( dist (C4 , C5) ) / ( 2 to_power C37 ) ) / 2 ) * 2 ) by L204 , L167 , L175 , L193 , L196 , NAT_2:25;
thus L206: ( dist (C41 , C42) ) = ( ( dist (C4 , C5) ) / ( ( 2 to_power C37 ) * 2 ) ) by L205 , XCMPLX_1:78
.= ( ( dist (C4 , C5) ) / ( ( 2 to_power C37 ) * ( 2 to_power 1 ) ) ) by POWER:25
.= ( ( dist (C4 , C5) ) / ( 2 to_power ( C37 + 1 ) ) ) by POWER:27;
end;
end;
thus L208: thesis by L198;
end;
L209: S4[ 1 ]
proof
reconsider D47 = ( <*> { ( 0 ) , 1 } ) as (Node of C12) by L18 , FINSEQ_1:def 11;
let C46 being non  empty (Element of ( NAT ));
assume L210: C46 <= ( 2 to_power 1 );
L211: ( FinSeqLevel (1 , D6) ) is (FinSequence of ( dom C12 )) by FINSEQ_2:24;
L212: C46 >= 1 by NAT_1:14;
L213: C46 in ( Seg ( 2 to_power 1 ) ) by L212 , L210 , FINSEQ_1:1;
L214: C46 in ( dom ( FinSeqLevel (1 , D6) ) ) by L213 , BINTREE2:20;
reconsider D48 = ( ( FinSeqLevel (1 , D6) ) . C46 ) as (Element of ( dom C12 )) by L214 , L211 , FINSEQ_2:11;
let C47 , C48 being (Element of C3);
assume L215: (C47 = ( ( C12 . ( ( FinSeqLevel (1 , D6) ) . C46 ) ) `1 ) & C48 = ( ( C12 . ( ( FinSeqLevel (1 , D6) ) . C46 ) ) `2 ));
L216: (( 2 to_power 1 ) = 2 & C46 >= 1) by NAT_1:14 , POWER:25;
L217: C46 in ( Seg 2 ) by L216 , L210 , FINSEQ_1:1;
L218:
now
per cases  by L217 , FINSEQ_1:2 , TARSKI:def 2;
suppose L219: C46 = 1;

L220: (ex B51 being (Element of D1) st (( C12 . ( D47 ^ <* ( 0 ) *> ) ) = [ C4 , B51 ] & ( C12 . ( D47 ^ <* 1 *> ) ) = [ B51 , C5 ] & ( dist (C4 , C5) ) = ( 2 * ( dist (C4 , B51) ) ) & ( dist (C4 , C5) ) = ( 2 * ( dist (B51 , C5) ) ))) by L19 , L20;
L221: ( C12 . ( D47 ^ <* ( 0 ) *> ) ) = ( C12 . <* ( 0 ) *> ) by FINSEQ_1:34
.= ( C12 . D48 ) by L219 , BINTREE2:22
.= [ C47 , C48 ] by L215 , MCART_1:21;
L222: C47 = C4 by L221 , L220 , XTUPLE_0:1;
thus L223: ( dist (C47 , C48) ) = ( ( dist (C4 , C5) ) / 2 ) by L222 , L221 , L220 , XTUPLE_0:1;
end;
suppose L224: C46 = 2;

consider C49 being (Element of D1) such that L225: ( C12 . ( D47 ^ <* ( 0 ) *> ) ) = [ C4 , C49 ] and L226: ( C12 . ( D47 ^ <* 1 *> ) ) = [ C49 , C5 ] and L227: ( dist (C4 , C5) ) = ( 2 * ( dist (C4 , C49) ) ) and L228: ( dist (C4 , C5) ) = ( 2 * ( dist (C49 , C5) ) ) by L19 , L20;
L229: ( C12 . ( D47 ^ <* 1 *> ) ) = ( C12 . <* 1 *> ) by FINSEQ_1:34
.= ( C12 . D48 ) by L224 , BINTREE2:23
.= [ C47 , C48 ] by L215 , MCART_1:21;
L230: C47 = C49 by L229 , L226 , XTUPLE_0:1;
thus L231: ( dist (C47 , C48) ) = ( ( dist (C4 , C5) ) / 2 ) by L230 , L229 , L226 , L228 , XTUPLE_0:1;
end;
end;
thus L233: thesis by L218 , POWER:25;
end;
L234: (for B52 being non  empty Nat holds S4[ B52 ]) from NAT_1:sch 10(L209 , L166);
L235: C26 in ( Seg ( len C25 ) ) by L66 , L74 , L75 , FINSEQ_1:1;
L236: C26 in ( dom C25 ) by L235 , FINSEQ_1:def 3;
L237: ( D19 /. C26 ) = ( C25 /. C26 ) by L236 , FINSEQ_4:68
.= ( C25 . C26 ) by L66 , L74 , L75 , FINSEQ_4:15
.= ( ( C14 /. C26 ) `1 ) by L60 , L61 , L62 , L235
.= ( ( C14 . C26 ) `1 ) by L26 , L60 , L66 , L74 , L75 , FINSEQ_4:15
.= ( ( C12 . ( D11 /. C26 ) ) `1 ) by L27 , L28 , L60 , L235
.= ( ( C12 . ( ( FinSeqLevel (D8 , D6) ) . C26 ) ) `1 ) by L60 , L66 , L74 , L75 , L76 , FINSEQ_4:15;
thus L238: thesis by L237 , L60 , L66 , L74 , L75 , L77 , L234;
end;
L239: ( log (2 , ( ( dist (C4 , C5) ) / C13 )) ) < ( D8 * 1 ) by INT_1:29;
L240: ( log (2 , ( ( dist (C4 , C5) ) / C13 )) ) < ( D8 * ( log (2 , 2) ) ) by L239 , POWER:52;
L241: ( log (2 , ( ( dist (C4 , C5) ) / C13 )) ) < ( log (2 , ( 2 to_power D8 )) ) by L240 , POWER:55;
L242: ( ( dist (C4 , C5) ) / C13 ) < D9 by L241 , PRE_FF:10;
L243: ( ( ( dist (C4 , C5) ) / C13 ) * C13 ) < ( D9 * C13 ) by L242 , L21 , XREAL_1:68;
L244: ( dist (C4 , C5) ) < ( D9 * C13 ) by L243 , L21 , XCMPLX_1:87;
L245: ( ( dist (C4 , C5) ) / D9 ) < ( ( D9 * C13 ) / D9 ) by L244 , XREAL_1:74;
L246: ( ( dist (C4 , C5) ) / D9 ) < ( ( C13 / D9 ) * D9 ) by L245 , XCMPLX_1:74;
L247: D10 < C13 by L246 , XCMPLX_1:87;
thus L248: (for B53 being (Element of ( NAT )) holds ((1 <= B53 & B53 <= ( ( len D19 ) - 1 )) implies ( dist (( D19 /. B53 ) , ( D19 /. ( B53 + 1 ) )) ) < C13)) by L247 , L72;
let C50 being (FinSequence of ( REAL ));
assume that
L249: ( len C50 ) = ( ( len D19 ) - 1 )
and
L250: (for B54 being (Element of ( NAT )) holds ((1 <= B54 & B54 <= ( len C50 )) implies ( C50 /. B54 ) = ( dist (( D19 /. B54 ) , ( D19 /. ( B54 + 1 ) )) )));
L251: ( rng C50 ) = { D10 }
proof
thus L252: ( rng C50 ) c= { D10 }
proof
let C51 being set;
assume L253: C51 in ( rng C50 );
consider C52 being set such that L254: C52 in ( dom C50 ) and L255: ( C50 . C52 ) = C51 by L253 , FUNCT_1:def 3;
L256: C52 in ( Seg ( len C50 ) ) by L254 , FINSEQ_1:def 3;
L257: C52 in { B55 where B55 is (Element of ( NAT )) : (1 <= B55 & B55 <= ( len C50 )) } by L256 , FINSEQ_1:def 1;
consider C53 being (Element of ( NAT )) such that L258: C53 = C52 and L259: (1 <= C53 & C53 <= ( len C50 )) by L257;
L260: C51 = ( C50 /. C53 ) by L255 , L258 , L259 , FINSEQ_4:15
.= ( dist (( D19 /. C53 ) , ( D19 /. ( C53 + 1 ) )) ) by L250 , L259
.= D10 by L72 , L249 , L259;
thus L261: thesis by L260 , TARSKI:def 1;
end;

let C54 being set;
assume L262: C54 in { D10 };
L263: C54 = D10 by L262 , TARSKI:def 1;
L264: C54 = ( dist (( D19 /. 1 ) , ( D19 /. ( 1 + 1 ) )) ) by L263 , L60 , L66 , L63 , L72
.= ( C50 /. 1 ) by L60 , L66 , L63 , L249 , L250
.= ( C50 . 1 ) by L60 , L66 , L63 , L249 , FINSEQ_4:15;
L265: 1 in ( Seg ( len C50 ) ) by L60 , L66 , L63 , L249 , FINSEQ_1:1;
L266: 1 in ( dom C50 ) by L265 , FINSEQ_1:def 3;
thus L267: thesis by L266 , L264 , FUNCT_1:def 3;
end;
L268: ( dom C50 ) = ( Seg ( len C50 ) ) by FINSEQ_1:def 3;
L269: C50 = ( ( len C50 ) |-> D10 ) by L268 , L251 , FUNCOP_1:9;
thus L270: ( Sum C50 ) = ( ( ( D9 + 1 ) - 1 ) * D10 ) by L269 , L60 , L66 , L249 , RVSUM_1:80
.= ( dist (C4 , C5) ) by XCMPLX_1:87;
end;
suppose L271: ( dist (C4 , C5) ) < C13;

take D49 = <* C4 , C5 *>;
thus L272: ( D49 /. 1 ) = C4 by FINSEQ_4:17;
L273: ( len D49 ) = 2 by FINSEQ_1:44;
thus L274: ( D49 /. ( len D49 ) ) = C5 by L273 , FINSEQ_4:17;
L275: ( ( len D49 ) - 1 ) = ( ( 1 + 1 ) - 1 ) by FINSEQ_1:44
.= 1;
thus L276: (for B56 being (Element of ( NAT )) holds ((1 <= B56 & B56 <= ( ( len D49 ) - 1 )) implies ( dist (( D49 /. B56 ) , ( D49 /. ( B56 + 1 ) )) ) < C13))
proof
let C55 being (Element of ( NAT ));
assume L277: (1 <= C55 & C55 <= ( ( len D49 ) - 1 ));
L278: C55 in ( Seg 1 ) by L277 , L275 , FINSEQ_1:1;
L279: C55 = 1 by L278 , FINSEQ_1:2 , TARSKI:def 1;
thus L280: thesis by L279 , L271 , L272 , FINSEQ_4:17;
end;

let C56 being (FinSequence of ( REAL ));
assume that
L281: ( len C56 ) = ( ( len D49 ) - 1 )
and
L282: (for B57 being (Element of ( NAT )) holds ((1 <= B57 & B57 <= ( len C56 )) implies ( C56 /. B57 ) = ( dist (( D49 /. B57 ) , ( D49 /. ( B57 + 1 ) )) )));
L283: ( C56 /. 1 ) = ( dist (( D49 /. 1 ) , ( D49 /. ( 1 + 1 ) )) ) by L275 , L281 , L282
.= ( dist (C4 , C5) ) by L272 , FINSEQ_4:17;
L284: C56 = <* ( dist (C4 , C5) ) *> by L283 , L275 , L281 , FINSEQ_5:14;
thus L285: thesis by L284 , FINSOP_1:11;
end;
end;
registration
cluster  convex ->  internal for non  empty non  empty non  empty non  empty MetrSpace;
coherence
proof
let C57 being non  empty MetrSpace;
assume L287: C57 is  convex;
let C58 , C59 being (Element of C57);
let C60 , C61 being Real;
assume that
L288: C60 > ( 0 )
and
L289: C61 > ( 0 );
consider C62 being (FinSequence of (the carrier of C57)) such that L290: (( C62 /. 1 ) = C58 & ( C62 /. ( len C62 ) ) = C59 & (for B58 being (Element of ( NAT )) holds ((1 <= B58 & B58 <= ( ( len C62 ) - 1 )) implies ( dist (( C62 /. B58 ) , ( C62 /. ( B58 + 1 ) )) ) < C60))) and L291: (for B59 being (FinSequence of ( REAL )) holds ((( len B59 ) = ( ( len C62 ) - 1 ) & (for B60 being (Element of ( NAT )) holds ((1 <= B60 & B60 <= ( len B59 )) implies ( B59 /. B60 ) = ( dist (( C62 /. B60 ) , ( C62 /. ( B60 + 1 ) )) )))) implies ( dist (C58 , C59) ) = ( Sum B59 ))) by L287 , L288 , L4;
take C62;
thus L292: (( C62 /. 1 ) = C58 & ( C62 /. ( len C62 ) ) = C59 & (for B61 being (Element of ( NAT )) holds ((1 <= B61 & B61 <= ( ( len C62 ) - 1 )) implies ( dist (( C62 /. B61 ) , ( C62 /. ( B61 + 1 ) )) ) < C60))) by L290;
let C63 being (FinSequence of ( REAL ));
assume L293: (( len C63 ) = ( ( len C62 ) - 1 ) & (for B62 being (Element of ( NAT )) holds ((1 <= B62 & B62 <= ( len C63 )) implies ( C63 /. B62 ) = ( dist (( C62 /. B62 ) , ( C62 /. ( B62 + 1 ) )) ))));
L294: ( dist (C58 , C59) ) = ( Sum C63 ) by L293 , L291;
thus L295: ( abs ( ( dist (C58 , C59) ) - ( Sum C63 ) ) ) < C61 by L294 , L289 , ABSVALUE:2;
end;
end;
registration
cluster  convex for non  empty non  empty non  empty non  empty MetrSpace;
existence
proof
reconsider D50 = { ( 0 ) } as non  empty set;
deffunc H3((Element of D50) , (Element of D50)) = ( 0 );
consider C64 being (Function of [: D50 , D50 :] , ( REAL )) such that L297: (for B63 , B64 being (Element of D50) holds ( C64 . (B63 , B64) ) = H3(B63 , B64)) from BINOP_1:sch 4;
reconsider D51 = MetrStruct (# D50 , C64 #) as non  empty MetrStruct;
L298:
now
let C65 , C66 being (Element of D51);
thus L299: ( dist (C65 , C66) ) = ( C64 . (C65 , C66) ) by METRIC_1:def 1
.= ( 0 ) by L297
.= ( C64 . (C66 , C65) ) by L297
.= ( dist (C66 , C65) ) by METRIC_1:def 1;
end;
L300:
now
let C67 being (Element of D51);
thus L301: ( dist (C67 , C67) ) = ( C64 . (C67 , C67) ) by METRIC_1:def 1
.= ( 0 ) by L297;
end;
L302:
now
let C68 , C69 , C70 being (Element of D51);
L303: C70 = ( 0 ) by TARSKI:def 1;
L304: C68 = ( 0 ) by TARSKI:def 1;
L305: (C69 = ( 0 ) & ( dist (C68 , C70) ) = ( 0 )) by L304 , L300 , L303 , TARSKI:def 1;
thus L306: ( dist (C68 , C70) ) <= ( ( dist (C68 , C69) ) + ( dist (C69 , C70) ) ) by L305 , L300 , L303;
end;
L307:
now
let C71 , C72 being (Element of D51);
assume L308: ( dist (C71 , C72) ) = ( 0 );
L309: C71 = ( 0 ) by TARSKI:def 1;
thus L310: C71 = C72 by L309 , TARSKI:def 1;
end;
reconsider D52 = D51 as  discerning  Reflexive  symmetric  triangle non  empty MetrStruct by L307 , L300 , L298 , L302 , METRIC_1:1 , METRIC_1:2 , METRIC_1:3 , METRIC_1:4;
take D52;
let C73 , C74 being (Element of D52);
let C75 being Real;
assume that
L311: ( 0 ) <= C75
and
L312: C75 <= 1;
take D53 = C73;
L313: ( dist (D53 , C74) ) = ( C64 . (D53 , C74) ) by METRIC_1:def 1
.= ( 0 ) by L297;
L314: ( dist (C73 , D53) ) = ( C64 . (C73 , D53) ) by METRIC_1:def 1
.= ( 0 ) by L297;
thus L315: (( dist (C73 , D53) ) = ( C75 * ( dist (C73 , C74) ) ) & ( dist (D53 , C74) ) = ( ( 1 - C75 ) * ( dist (C73 , C74) ) )) by L314 , L313;
end;
end;
begin
definition
let C76 being non  empty MetrStruct;
let C77 being (Function of C76 , C76);
attr C77 is  isometric
means
:L317: (for B65 , B66 being (Element of C76) holds ( dist (B65 , B66) ) = ( dist (( C77 . B65 ) , ( C77 . B66 )) ));
end;
registration
let C78 being non  empty MetrStruct;
cluster ( id C78 ) ->  onto  isometric;
coherence
proof
thus L319: ( rng ( id C78 ) ) = (the carrier of C78) by RELAT_1:45;
let C79 , C80 being (Element of C78);
thus L320: ( dist (C79 , C80) ) = ( dist (( ( id C78 ) . C79 ) , C80) ) by FUNCT_1:18
.= ( dist (( ( id C78 ) . C79 ) , ( ( id C78 ) . C80 )) ) by FUNCT_1:18;
end;
end;
theorem
L322: (for B67 being non  empty MetrStruct holds ( id B67 ) is  onto  isometric);
registration
let C81 being non  empty MetrStruct;
cluster  onto  isometric for (Function of C81 , C81);
existence
proof
take D54 = ( id (the carrier of C81) );
thus L323: ( rng D54 ) = (the carrier of C81) by RELAT_1:45;
let C82 , C83 being (Element of C81);
thus L324: ( dist (C82 , C83) ) = ( dist (( D54 . C82 ) , C83) ) by FUNCT_1:18
.= ( dist (( D54 . C82 ) , ( D54 . C83 )) ) by FUNCT_1:18;
end;
end;
definition
let C84 being non  empty MetrStruct;
defpred S6[ set ] means $1 is  onto  isometric  onto  isometric  onto  isometric  onto  isometric (Function of C84 , C84);
func ISOM C84 -> set means 
:L326: (for B68 being set holds (B68 in it iff B68 is  onto  isometric  onto  isometric  onto  isometric  onto  isometric (Function of C84 , C84)));
existence
proof
consider C85 being set such that L327: (for B69 being set holds (B69 in C85 iff (B69 in ( Funcs ((the carrier of C84) , (the carrier of C84)) ) & S6[ B69 ]))) from XBOOLE_0:sch 1;
take C85;
let C86 being set;
thus L328: (C86 in C85 implies C86 is  onto  isometric  onto  isometric  onto  isometric  onto  isometric (Function of C84 , C84)) by L327;
assume L329: C86 is  onto  isometric  onto  isometric  onto  isometric  onto  isometric (Function of C84 , C84);
L330: C86 in ( Funcs ((the carrier of C84) , (the carrier of C84)) ) by L329 , FUNCT_2:8;
thus L331: thesis by L330 , L327 , L329;
end;
uniqueness
proof
thus L332: (for B70 , B71 being set holds (((for B72 being set holds (B72 in B70 iff S6[ B72 ])) & (for B73 being set holds (B73 in B71 iff S6[ B73 ]))) implies B70 = B71)) from XBOOLE_0:sch 3;
end;
end;
definition
let C87 being non  empty MetrStruct;
redefine func ISOM C87 -> (Subset of ( Funcs ((the carrier of C87) , (the carrier of C87)) ));

coherence
proof
L334:
now
let C88 being set;
assume L335: C88 in ( ISOM C87 );
L336: C88 is (Function of C87 , C87) by L335 , L326;
thus L337: C88 in ( Funcs ((the carrier of C87) , (the carrier of C87)) ) by L336 , FUNCT_2:8;
end;
thus L338: thesis by L334 , TARSKI:def 3;
end;
end;
registration
let C89 being  discerning  Reflexive non  empty MetrStruct;
cluster  isometric ->  one-to-one for (Function of C89 , C89);
coherence
proof
let C90 being (Function of C89 , C89);
assume L340: C90 is  isometric;
L341:
now
let C91 , C92 being set;
assume that
L342: (C91 in ( dom C90 ) & C92 in ( dom C90 ))
and
L343: ( C90 . C91 ) = ( C90 . C92 );
reconsider D55 = C91 , D56 = C92 as (Element of C89) by L342;
L344: ( dist (D55 , D56) ) = ( dist (( C90 . D55 ) , ( C90 . D56 )) ) by L340 , L317
.= ( 0 ) by L343 , METRIC_1:1;
thus L345: C91 = C92 by L344 , METRIC_1:2;
end;
thus L346: thesis by L341 , FUNCT_1:def 4;
end;
end;
theorem
L348: (for B74 being  discerning  Reflexive non  empty MetrStruct holds (for B75 being (Function of B74 , B74) holds (B75 is  isometric implies B75 is  one-to-one)));
registration
let C93 being  discerning  Reflexive non  empty MetrStruct;
let C94 being  onto  isometric (Function of C93 , C93);
cluster ( C94 " ) ->  onto  isometric;
coherence
proof
L349: ( rng C94 ) = ( [#] C93 ) by FUNCT_2:def 3;
thus L350: ( rng ( C94 " ) ) = (the carrier of C93) by L349 , TOPS_2:49;
let C95 , C96 being (Element of C93);
L351: ( rng C94 ) = (the carrier of C93) by L349;
L352: ( dom ( C94 " ) ) = ( [#] C93 ) by L351 , TOPS_2:49;
L353: C96 = ( ( id ( rng C94 ) ) . C96 ) by L351 , FUNCT_1:18
.= ( ( C94 * ( C94 " ) ) . C96 ) by L349 , TOPS_2:52
.= ( C94 . ( ( C94 " ) . C96 ) ) by L352 , FUNCT_1:13;
L354: C95 = ( ( id ( rng C94 ) ) . C95 ) by L351 , FUNCT_1:18
.= ( ( C94 * ( C94 " ) ) . C95 ) by L349 , TOPS_2:52
.= ( C94 . ( ( C94 " ) . C95 ) ) by L352 , FUNCT_1:13;
thus L355: thesis by L354 , L353 , L317;
end;
end;
theorem
L357: (for B76 being  discerning  Reflexive non  empty MetrStruct holds (for B77 being  onto  isometric (Function of B76 , B76) holds ( B77 " ) is  onto  isometric));
registration
let C97 being non  empty MetrStruct;
let C98 , C99 being  onto  isometric (Function of C97 , C97);
cluster ( C98 * C99 ) ->  onto  isometric for (Function of C97 , C97);
coherence
proof
L358: ( C98 * C99 ) is  onto  isometric
proof
L359: ( rng C99 ) = (the carrier of C97) by FUNCT_2:def 3
.= ( dom C98 ) by FUNCT_2:def 1;
thus L360: ( rng ( C98 * C99 ) ) = ( rng C98 ) by L359 , RELAT_1:28
.= (the carrier of C97) by FUNCT_2:def 3;
let C100 , C101 being (Element of C97);
L361: C100 in (the carrier of C97);
L362: C100 in ( dom C99 ) by L361 , FUNCT_2:def 1;
L363: C101 in (the carrier of C97);
L364: C101 in ( dom C99 ) by L363 , FUNCT_2:def 1;
thus L365: ( dist (C100 , C101) ) = ( dist (( C99 . C100 ) , ( C99 . C101 )) ) by L317
.= ( dist (( C98 . ( C99 . C100 ) ) , ( C98 . ( C99 . C101 ) )) ) by L317
.= ( dist (( ( C98 * C99 ) . C100 ) , ( C98 . ( C99 . C101 ) )) ) by L362 , FUNCT_1:13
.= ( dist (( ( C98 * C99 ) . C100 ) , ( ( C98 * C99 ) . C101 )) ) by L364 , FUNCT_1:13;
end;
thus L366: thesis by L358;
end;
end;
theorem
L368: (for B78 being non  empty MetrStruct holds (for B79 , B80 being  onto  isometric (Function of B78 , B78) holds ( B79 * B80 ) is  onto  isometric));
registration
let C102 being non  empty MetrStruct;
cluster ( ISOM C102 ) -> non  empty;
coherence
proof
L369: ( id C102 ) is  onto  isometric;
thus L370: thesis by L369 , L326;
end;
end;
begin
definition
struct (RLSStruct , MetrStruct) RLSMetrStruct(# carrier -> set , distance -> (Function of [: the carrier , the carrier :] , ( REAL )) , ZeroF -> (Element of the carrier) , addF -> (BinOp of the carrier) , Mult -> (Function of [: ( REAL ) , the carrier :] , the carrier) #);
end;
registration
cluster non  empty  strict for RLSMetrStruct;
existence
proof
set D57 = the non  empty set;
set D58 = the (Function of [: D57 , D57 :] , ( REAL ));
set D59 = the (Element of D57);
set D60 = the (BinOp of D57);
set D61 = the (Function of [: ( REAL ) , D57 :] , D57);
take RLSMetrStruct (# D57 , D58 , D59 , D60 , D61 #);
thus L373: (the carrier of RLSMetrStruct (# D57 , D58 , D59 , D60 , D61 #)) is non  empty;
thus L374: thesis;
end;
end;
registration
let C103 being non  empty set;
let C104 being (Function of [: C103 , C103 :] , ( REAL ));
let C105 being (Element of C103);
let C106 being (BinOp of C103);
let C107 being (Function of [: ( REAL ) , C103 :] , C103);
cluster RLSMetrStruct (# C103 , C104 , C105 , C106 , C107 #) -> non  empty;
coherence;
end;
definition
let C108 being non  empty RLSMetrStruct;
attr C108 is  homogeneous
means
:L377: (for B81 being Real holds (for B82 , B83 being (Element of C108) holds ( dist (( B81 * B82 ) , ( B81 * B83 )) ) = ( ( abs B81 ) * ( dist (B82 , B83) ) )));
end;
definition
let C109 being non  empty RLSMetrStruct;
attr C109 is  translatible
means
:L379: (for B84 , B85 , B86 being (Element of C109) holds ( dist (B86 , B85) ) = ( dist (( B86 + B84 ) , ( B85 + B84 )) ));
end;
definition
let C110 being non  empty RLSMetrStruct;
let C111 being (Element of C110);
func Norm C111 -> Real equals 
( dist (( 0. C110 ) , C111) );
coherence;
end;
registration
cluster  strict  Abelian  add-associative  right_zeroed  right_complementable  vector-distributive  scalar-distributive  scalar-associative  scalar-unital  Reflexive  discerning  symmetric  triangle  homogeneous  translatible for non  empty non  empty non  empty non  empty RLSMetrStruct;
existence
proof
reconsider D62 = { ( 0 ) } as non  empty set;
reconsider D63 = ( 0 ) as (Element of D62) by TARSKI:def 1;
deffunc H4((Element of D62) , (Element of D62)) = ( 0 );
consider C112 being (Function of [: D62 , D62 :] , ( REAL )) such that L382: (for B87 , B88 being (Element of D62) holds ( C112 . (B87 , B88) ) = H4(B87 , B88)) from BINOP_1:sch 4;
deffunc H5( real number , (Element of D62)) = D63;
deffunc H6((Element of D62) , (Element of D62)) = D63;
consider C113 being (BinOp of D62) such that L383: (for B89 , B90 being (Element of D62) holds ( C113 . (B89 , B90) ) = H6(B89 , B90)) from BINOP_1:sch 4;
consider C114 being (Function of [: ( REAL ) , D62 :] , D62) such that L384: (for B91 being (Element of ( REAL )) holds (for B92 being (Element of D62) holds ( C114 . (B91 , B92) ) = H5(B91 , B92))) from BINOP_1:sch 4;
set D64 = RLSMetrStruct (# D62 , C112 , D63 , C113 , C114 #);
L385: (for B93 , B94 being  real number holds (for B95 being (VECTOR of D64) holds ( ( B93 + B94 ) * B95 ) = ( ( B93 * B95 ) + ( B94 * B95 ) )))
proof
let C115 , C116 being  real number;
reconsider D65 = C115 , D66 = C116 as Real by XREAL_0:def 1;
let C117 being (VECTOR of D64);
set D67 = ( D65 + D66 );
reconsider D68 = C117 as (Element of D62);
L386: ( D67 * C117 ) = H5(D67 , D68) by L384;
thus L387: thesis by L386 , L383;
end;
take D64;
thus L388: D64 is  strict;
L389: (for B96 , B97 being (VECTOR of D64) holds ( B96 + B97 ) = ( B97 + B96 ))
proof
let C118 , C119 being (VECTOR of D64);
reconsider D69 = C118 , D70 = C119 as (Element of D62);
L390: ( C118 + C119 ) = H6(D69 , D70) by L383;
thus L391: thesis by L390 , L383;
end;
thus L392: D64 is  Abelian by L389 , RLVECT_1:def 2;
L393: (for B98 , B99 , B100 being (VECTOR of D64) holds ( ( B98 + B99 ) + B100 ) = ( B98 + ( B99 + B100 ) ))
proof
let C120 , C121 , C122 being (VECTOR of D64);
reconsider D71 = C120 , D72 = C121 , D73 = C122 as (Element of D62);
L394: ( ( C120 + C121 ) + C122 ) = H6(H6(D71 , D72) , D73) by L383;
thus L395: thesis by L394 , L383;
end;
thus L396: D64 is  add-associative by L393 , RLVECT_1:def 3;
L397: (for B101 being (VECTOR of D64) holds ( B101 + ( 0. D64 ) ) = B101)
proof
let C123 being (VECTOR of D64);
reconsider D74 = C123 as (Element of D62);
L398: ( C123 + ( 0. D64 ) ) = H6(D74 , D63) by L383;
thus L399: thesis by L398 , TARSKI:def 1;
end;
thus L400: D64 is  right_zeroed by L397 , RLVECT_1:def 4;
thus L401: D64 is  right_complementable
proof
reconsider D75 = D63 as (VECTOR of D64);
let C124 being (VECTOR of D64);
take D75;
thus L402: thesis by L383;
end;

L403: (for B102 being  real number holds (for B103 , B104 being (VECTOR of D64) holds ( B102 * ( B103 + B104 ) ) = ( ( B102 * B103 ) + ( B102 * B104 ) )))
proof
let C125 being  real number;
reconsider D76 = C125 as Real by XREAL_0:def 1;
let C126 , C127 being (VECTOR of D64);
reconsider D77 = C126 , D78 = C127 as (Element of D62);
L404: ( ( D76 * C126 ) + ( D76 * C127 ) ) = H6(H5(D76 , D77) , H5(D76 , D78)) by L383;
thus L405: thesis by L404 , L384;
end;
L406: (for B105 , B106 being  real number holds (for B107 being (VECTOR of D64) holds ( ( B105 * B106 ) * B107 ) = ( B105 * ( B106 * B107 ) )))
proof
let C128 , C129 being  real number;
reconsider D79 = C128 , D80 = C129 as Real by XREAL_0:def 1;
let C130 being (VECTOR of D64);
set D81 = ( D79 * D80 );
reconsider D82 = C130 as (Element of D62);
L407: ( D81 * C130 ) = H5(D81 , D82) by L384;
thus L408: thesis by L407 , L384;
end;
L409: (for B108 being (VECTOR of D64) holds ( 1 * B108 ) = B108)
proof
reconsider D83 = 1 as (Element of ( REAL ));
let C131 being (VECTOR of D64);
reconsider D84 = C131 as (Element of D62);
L410: ( 1 * C131 ) = H5(D83 , D84) by L384;
thus L411: thesis by L410 , TARSKI:def 1;
end;
thus L412: D64 is  vector-distributive  scalar-distributive  scalar-associative  scalar-unital by L409 , L403 , L385 , L406 , RLVECT_1:def 5 , RLVECT_1:def 6 , RLVECT_1:def 7 , RLVECT_1:def 8;
L413: (for B109 , B110 , B111 being (Point of D64) holds (( dist (B109 , B109) ) = ( 0 ) & (( dist (B109 , B110) ) = ( 0 ) implies B109 = B110) & ( dist (B109 , B110) ) = ( dist (B110 , B109) ) & ( dist (B109 , B111) ) <= ( ( dist (B109 , B110) ) + ( dist (B110 , B111) ) )))
proof
let C132 , C133 , C134 being (Point of D64);
L414: ( dist (C132 , C132) ) = ( C112 . (C132 , C132) ) by METRIC_1:def 1
.= ( 0 ) by L382;
thus L415: ( dist (C132 , C132) ) = ( 0 ) by L414;
L416: C132 = ( 0 ) by TARSKI:def 1;
thus L417: (( dist (C132 , C133) ) = ( 0 ) implies C132 = C133) by L416 , TARSKI:def 1;
L418: C133 = ( 0 ) by TARSKI:def 1;
thus L419: ( dist (C132 , C133) ) = ( dist (C133 , C132) ) by L418 , L416;
thus L420: thesis by L416 , L418 , L414;
end;
thus L421: D64 is  Reflexive by L413 , METRIC_1:1;
thus L422: D64 is  discerning by L413 , METRIC_1:2;
thus L423: D64 is  symmetric by L413 , METRIC_1:3;
thus L424: D64 is  triangle by L413 , METRIC_1:4;
L425: (for B112 being (Element of ( REAL )) holds (for B113 , B114 being (VECTOR of D64) holds ( dist (( B112 * B113 ) , ( B112 * B114 )) ) = ( ( abs B112 ) * ( dist (B113 , B114) ) )))
proof
let C135 being (Element of ( REAL ));
let C136 , C137 being (VECTOR of D64);
reconsider D85 = C136 , D86 = C137 as (Element of D62);
L426: ( C112 . (D85 , D86) ) = H4(D85 , D86) by L382;
thus L427: ( dist (( C135 * C136 ) , ( C135 * C137 )) ) = ( C112 . (( C135 * C136 ) , ( C135 * C137 )) ) by METRIC_1:def 1
.= ( ( abs C135 ) * ( 0 ) ) by L382
.= ( ( abs C135 ) * H4(D85 , D86) )
.= ( ( abs C135 ) * ( C112 . (D85 , D86) ) ) by L426
.= ( ( abs C135 ) * ( dist (C136 , C137) ) ) by METRIC_1:def 1;
end;
thus L428: D64 is  homogeneous by L425 , L377;
L429: (for B115 , B116 , B117 being (VECTOR of D64) holds ( dist (B117 , B116) ) = ( dist (( B117 + B115 ) , ( B116 + B115 )) ))
proof
let C138 , C139 , C140 being (VECTOR of D64);
thus L430: ( dist (( C140 + C138 ) , ( C139 + C138 )) ) = ( C112 . (( C140 + C138 ) , ( C139 + C138 )) ) by METRIC_1:def 1
.= ( 0 ) by L382
.= ( C112 . (C140 , C139) ) by L382
.= ( dist (C140 , C139) ) by METRIC_1:def 1;
end;
thus L431: thesis by L429 , L379;
end;
end;
definition
mode RealLinearMetrSpace
 is  Abelian  add-associative  right_zeroed  right_complementable  vector-distributive  scalar-distributive  scalar-associative  scalar-unital  Reflexive  discerning  symmetric  triangle  homogeneous  translatible non  empty RLSMetrStruct;
end;
theorem
L434: (for B118 being  homogeneous  Abelian  add-associative  right_zeroed  right_complementable  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSMetrStruct holds (for B119 being Real holds (for B120 being (Element of B118) holds ( Norm ( B119 * B120 ) ) = ( ( abs B119 ) * ( Norm B120 ) ))))
proof
let C141 being  homogeneous  Abelian  add-associative  right_zeroed  right_complementable  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSMetrStruct;
let C142 being Real;
let C143 being (Element of C141);
thus L435: ( Norm ( C142 * C143 ) ) = ( dist (( C142 * ( 0. C141 ) ) , ( C142 * C143 )) ) by RLVECT_1:10
.= ( ( abs C142 ) * ( Norm C143 ) ) by L377;
end;
theorem
L436: (for B121 being  translatible  Abelian  add-associative  right_zeroed  right_complementable  triangle non  empty RLSMetrStruct holds (for B122 , B123 being (Element of B121) holds ( Norm ( B122 + B123 ) ) <= ( ( Norm B122 ) + ( Norm B123 ) )))
proof
let C144 being  translatible  Abelian  add-associative  right_zeroed  right_complementable  triangle non  empty RLSMetrStruct;
let C145 , C146 being (Element of C144);
L437: ( Norm ( C145 + C146 ) ) <= ( ( dist (( 0. C144 ) , C145) ) + ( dist (C145 , ( C145 + C146 )) ) ) by METRIC_1:4;
L438: ( Norm ( C145 + C146 ) ) <= ( ( Norm C145 ) + ( dist (( C145 + ( - C145 ) ) , ( ( C145 + C146 ) + ( - C145 ) )) ) ) by L437 , L379;
L439: ( Norm ( C145 + C146 ) ) <= ( ( Norm C145 ) + ( dist (( 0. C144 ) , ( ( C145 + C146 ) + ( - C145 ) )) ) ) by L438 , RLVECT_1:5;
L440: ( Norm ( C145 + C146 ) ) <= ( ( Norm C145 ) + ( dist (( 0. C144 ) , ( C146 + ( ( - C145 ) + C145 ) )) ) ) by L439 , RLVECT_1:def 3;
L441: ( Norm ( C145 + C146 ) ) <= ( ( Norm C145 ) + ( dist (( 0. C144 ) , ( C146 + ( 0. C144 ) )) ) ) by L440 , RLVECT_1:5;
thus L442: thesis by L441 , RLVECT_1:4;
end;
theorem
L443: (for B124 being  translatible  add-associative  right_zeroed  right_complementable non  empty RLSMetrStruct holds (for B125 , B126 being (Element of B124) holds ( dist (B125 , B126) ) = ( Norm ( B126 - B125 ) )))
proof
let C147 being  translatible  add-associative  right_zeroed  right_complementable non  empty RLSMetrStruct;
let C148 , C149 being (Element of C147);
thus L444: ( dist (C148 , C149) ) = ( dist (( C148 + ( - C148 ) ) , ( C149 + ( - C148 ) )) ) by L379
.= ( Norm ( C149 - C148 ) ) by RLVECT_1:5;
end;
definition
let C150 being (Element of ( NAT ));
func RLMSpace C150 ->  strict RealLinearMetrSpace means 
:L445: ((the carrier of it) = ( REAL C150 ) & (the distance of it) = ( Pitag_dist C150 ) & ( 0. it ) = ( 0* C150 ) & (for B127 , B128 being (Element of ( REAL C150 )) holds ( (the addF of it) . (B127 , B128) ) = ( B127 + B128 )) & (for B129 being (Element of ( REAL C150 )) holds (for B130 being (Element of ( REAL )) holds ( (the Mult of it) . (B130 , B129) ) = ( B130 * B129 ))));
existence
proof
deffunc H7((Element of ( REAL )) , (Element of ( REAL C150 ))) = ( $1 * $2 );
deffunc H8((Element of ( REAL C150 )) , (Element of ( REAL C150 ))) = ( $1 + $2 );
consider C151 being (BinOp of ( REAL C150 )) such that L446: (for B131 , B132 being (Element of ( REAL C150 )) holds ( C151 . (B131 , B132) ) = H8(B131 , B132)) from BINOP_1:sch 4;
consider C152 being (Function of [: ( REAL ) , ( REAL C150 ) :] , ( REAL C150 )) such that L447: (for B133 being (Element of ( REAL )) holds (for B134 being (Element of ( REAL C150 )) holds ( C152 . (B133 , B134) ) = H7(B133 , B134))) from BINOP_1:sch 4;
set D87 = RLSMetrStruct (# ( REAL C150 ) , ( Pitag_dist C150 ) , ( 0* C150 ) , C151 , C152 #);
L448:
now
let C153 , C154 , C155 being (Element of D87);
reconsider D88 = C153 , D89 = C154 , D90 = C155 as (Element of ( REAL C150 ));
thus L449: ( ( C153 + C154 ) + C155 ) = ( C151 . (( D88 + D89 ) , C155) ) by L446
.= ( ( D88 + D89 ) + D90 ) by L446
.= ( D88 + ( D89 + D90 ) ) by FINSEQOP:28
.= ( C151 . (C153 , ( D89 + D90 )) ) by L446
.= ( C153 + ( C154 + C155 ) ) by L446;
end;
L450:
now
let C156 , C157 being (Element of D87);
reconsider D91 = C156 , D92 = C157 as (Element of ( REAL C150 ));
thus L451: ( C156 + C157 ) = ( D91 + D92 ) by L446
.= ( C157 + C156 ) by L446;
end;
L452:
now
let C158 being (Element of D87);
reconsider D93 = C158 as (Element of ( C150 -tuples_on ( REAL ) ));
thus L453: ( C158 + ( 0. D87 ) ) = ( D93 + ( C150 |-> (( 0 ) qua Real) ) ) by L446
.= C158 by RVSUM_1:16;
end;
L454:
now
let C159 being Real;
let C160 , C161 being (VECTOR of D87);
reconsider D94 = C160 , D95 = C161 as (Element of ( REAL C150 ));
reconsider D96 = D94 , D97 = D95 as (Element of ( C150 -tuples_on ( REAL ) ));
L455: ( dist (C160 , C161) ) = ( ( Pitag_dist C150 ) . (C160 , C161) ) by METRIC_1:def 1
.= |. ( D94 - D95 ) .| by EUCLID:def 6;
L456: (( C159 * C160 ) = ( C159 * D94 ) & ( C159 * C161 ) = ( C159 * D95 )) by L447;
thus L457: ( dist (( C159 * C160 ) , ( C159 * C161 )) ) = ( ( Pitag_dist C150 ) . (( C159 * C160 ) , ( C159 * C161 )) ) by METRIC_1:def 1
.= |. ( ( C159 * D96 ) - ( C159 * D97 ) ) .| by L456 , EUCLID:def 6
.= |. ( ( C159 * D96 ) + ( ( ( - 1 ) * C159 ) * D97 ) ) .| by RVSUM_1:49
.= |. ( ( C159 * D96 ) + ( C159 * ( - D97 ) ) ) .| by RVSUM_1:49
.= |. ( C159 * ( D94 - D95 ) ) .| by RVSUM_1:51
.= ( ( abs C159 ) * ( dist (C160 , C161) ) ) by L455 , EUCLID:11;
end;
L458:
now
let C162 , C163 , C164 being (VECTOR of D87);
reconsider D98 = C162 , D99 = C163 , D100 = C164 as (Element of ( REAL C150 ));
reconsider D101 = D98 , D102 = D99 , D103 = D100 as (Element of ( C150 -tuples_on ( REAL ) ));
L459: (( C164 + C162 ) = ( D100 + D98 ) & ( C163 + C162 ) = ( D99 + D98 )) by L446;
thus L460: ( dist (C164 , C163) ) = ( ( Pitag_dist C150 ) . (C164 , C163) ) by METRIC_1:def 1
.= |. ( D100 - D99 ) .| by EUCLID:def 6
.= |. ( ( ( D103 + D101 ) - D101 ) - D102 ) .| by RVSUM_1:42
.= |. ( ( D103 + D101 ) - ( D101 + D102 ) ) .| by RVSUM_1:39
.= ( ( Pitag_dist C150 ) . (( D100 + D98 ) , ( D99 + D98 )) ) by EUCLID:def 6
.= ( dist (( C164 + C162 ) , ( C163 + C162 )) ) by L459 , METRIC_1:def 1;
end;
L461: D87 is  right_complementable
proof
let C165 being (Element of D87);
reconsider D104 = C165 as (Element of ( C150 -tuples_on ( REAL ) ));
reconsider D105 = ( - D104 ) as (Element of D87);
take D105;
thus L462: ( C165 + D105 ) = ( D104 - D104 ) by L446
.= ( 0. D87 ) by RVSUM_1:37;
end;
L463:
now
thus L464:now
let C166 being  real number;
let C167 , C168 being (VECTOR of D87);
reconsider D106 = C166 as Real by XREAL_0:def 1;
reconsider D107 = C167 , D108 = C168 as (Element of ( REAL C150 ));
reconsider D109 = D107 , D110 = D108 as (Element of ( C150 -tuples_on ( REAL ) ));
L465: ( D106 * ( C167 + C168 ) ) = ( C152 . (D106 , ( D107 + D108 )) ) by L446
.= ( D106 * ( D109 + D110 ) ) by L447
.= ( ( D106 * D107 ) + ( D106 * D108 ) ) by RVSUM_1:51
.= ( C151 . (( D106 * D107 ) , ( D106 * D108 )) ) by L446
.= ( C151 . (( C152 . (D106 , C167) ) , ( D106 * D108 )) ) by L447
.= ( ( D106 * C167 ) + ( D106 * C168 ) ) by L447;
thus L466: ( C166 * ( C167 + C168 ) ) = ( ( C166 * C167 ) + ( C166 * C168 ) ) by L465;
end;
thus L467:now
let C169 , C170 being  real number;
let C171 being (VECTOR of D87);
reconsider D111 = C169 , D112 = C170 as Real by XREAL_0:def 1;
reconsider D113 = C171 as (Element of ( REAL C150 ));
reconsider D114 = D113 as (Element of ( C150 -tuples_on ( REAL ) ));
L468: ( ( D111 + D112 ) * C171 ) = ( ( D111 + D112 ) * D114 ) by L447
.= ( ( D111 * D113 ) + ( D112 * D113 ) ) by RVSUM_1:50
.= ( C151 . (( D111 * D113 ) , ( D112 * D113 )) ) by L446
.= ( C151 . (( C152 . (D111 , C171) ) , ( D112 * D113 )) ) by L447
.= ( ( D111 * C171 ) + ( D112 * C171 ) ) by L447;
thus L469: ( ( C169 + C170 ) * C171 ) = ( ( C169 * C171 ) + ( C170 * C171 ) ) by L468;
end;
thus L470:now
let C172 , C173 being  real number;
let C174 being (VECTOR of D87);
reconsider D115 = C172 , D116 = C173 as Real by XREAL_0:def 1;
reconsider D117 = C174 as (Element of ( REAL C150 ));
reconsider D118 = D117 as (Element of ( C150 -tuples_on ( REAL ) ));
L471: ( ( D115 * D116 ) * C174 ) = ( ( D115 * D116 ) * D118 ) by L447
.= ( D115 * ( D116 * D117 ) ) by RVSUM_1:49
.= ( C152 . (D115 , ( D116 * D117 )) ) by L447
.= ( D115 * ( D116 * C174 ) ) by L447;
thus L472: ( ( C172 * C173 ) * C174 ) = ( C172 * ( C173 * C174 ) ) by L471;
end;
thus L473:now
let C175 being (VECTOR of D87);
reconsider D119 = C175 as (Element of ( C150 -tuples_on ( REAL ) ));
thus L474: ( 1 * C175 ) = ( 1 * D119 ) by L447
.= C175 by RVSUM_1:52;
end;
end;
L474:
now
let C176 , C177 , C178 being (VECTOR of D87);
reconsider D120 = C176 , D121 = C177 , D122 = C178 as (Element of ( REAL C150 ));
thus L475: (( dist (C176 , C177) ) = ( 0 ) implies C176 = C177)
proof
assume L476: ( dist (C176 , C177) ) = ( 0 );
L477: ( ( Pitag_dist C150 ) . (C176 , C177) ) = ( 0 ) by L476 , METRIC_1:def 1;
L478: |. ( D120 - D121 ) .| = ( 0 ) by L477 , EUCLID:def 6;
thus L479: thesis by L478 , EUCLID:16;
end;

L480: ( dist (C176 , C178) ) = ( ( Pitag_dist C150 ) . (C176 , C178) ) by METRIC_1:def 1
.= |. ( D120 - D122 ) .| by EUCLID:def 6;
L481: |. ( D120 - D120 ) .| = ( 0 );
L482: ( ( Pitag_dist C150 ) . (C176 , C176) ) = ( 0 ) by L481 , EUCLID:def 6;
thus L483: ( dist (C176 , C176) ) = ( 0 ) by L482 , METRIC_1:def 1;
thus L484: ( dist (C176 , C177) ) = ( ( Pitag_dist C150 ) . (C176 , C177) ) by METRIC_1:def 1
.= |. ( D120 - D121 ) .| by EUCLID:def 6
.= |. ( D121 - D120 ) .| by EUCLID:18
.= ( ( Pitag_dist C150 ) . (C177 , C176) ) by EUCLID:def 6
.= ( dist (C177 , C176) ) by METRIC_1:def 1;
L485: ( dist (C177 , C178) ) = ( ( Pitag_dist C150 ) . (C177 , C178) ) by METRIC_1:def 1
.= |. ( D121 - D122 ) .| by EUCLID:def 6;
L486: ( dist (C176 , C177) ) = ( ( Pitag_dist C150 ) . (C176 , C177) ) by METRIC_1:def 1
.= |. ( D120 - D121 ) .| by EUCLID:def 6;
thus L487: ( dist (C176 , C178) ) <= ( ( dist (C176 , C177) ) + ( dist (C177 , C178) ) ) by L486 , L480 , L485 , EUCLID:19;
end;
reconsider D123 = D87 as  strict  Abelian  add-associative  right_zeroed  right_complementable  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSMetrStruct by L450 , L448 , L452 , L461 , L463 , RLVECT_1:def 2 , RLVECT_1:def 3 , RLVECT_1:def 4 , RLVECT_1:def 5 , RLVECT_1:def 6 , RLVECT_1:def 7 , RLVECT_1:def 8;
reconsider D124 = D123 as  strict RealLinearMetrSpace by L474 , L454 , L458 , L377 , L379 , METRIC_1:1 , METRIC_1:2 , METRIC_1:3 , METRIC_1:4;
take D124;
thus L488: thesis by L446 , L447;
end;
uniqueness
proof
let C179 , C180 being  strict RealLinearMetrSpace;
assume that
L489: (the carrier of C179) = ( REAL C150 )
and
L490: ((the distance of C179) = ( Pitag_dist C150 ) & ( 0. C179 ) = ( 0* C150 ))
and
L491: (for B135 , B136 being (Element of ( REAL C150 )) holds ( (the addF of C179) . (B135 , B136) ) = ( B135 + B136 ))
and
L492: (for B137 being (Element of ( REAL C150 )) holds (for B138 being (Element of ( REAL )) holds ( (the Mult of C179) . (B138 , B137) ) = ( B138 * B137 )))
and
L493: (the carrier of C180) = ( REAL C150 )
and
L494: ((the distance of C180) = ( Pitag_dist C150 ) & ( 0. C180 ) = ( 0* C150 ))
and
L495: (for B139 , B140 being (Element of ( REAL C150 )) holds ( (the addF of C180) . (B139 , B140) ) = ( B139 + B140 ))
and
L496: (for B141 being (Element of ( REAL C150 )) holds (for B142 being (Element of ( REAL )) holds ( (the Mult of C180) . (B142 , B141) ) = ( B142 * B141 )));
L497:
now
let C181 , C182 being (Element of C179);
reconsider D125 = C181 , D126 = C182 as (Element of ( REAL C150 )) by L489;
thus L498: ( (the addF of C179) . (C181 , C182) ) = ( D125 + D126 ) by L491
.= ( (the addF of C180) . (C181 , C182) ) by L495;
end;
L499: (the addF of C179) = (the addF of C180) by L497 , L489 , L493 , BINOP_1:2;
L500:
now
let C183 being (Element of ( REAL ));
let C184 being (Element of C179);
reconsider D127 = C184 as (Element of ( REAL C150 )) by L489;
thus L501: ( (the Mult of C179) . (C183 , C184) ) = ( C183 * D127 ) by L492
.= ( (the Mult of C180) . (C183 , C184) ) by L496;
end;
thus L502: thesis by L500 , L489 , L490 , L493 , L494 , L499 , BINOP_1:2;
end;
end;
theorem
L504: (for B143 being (Element of ( NAT )) holds (for B144 being  onto  isometric (Function of ( RLMSpace B143 ) , ( RLMSpace B143 )) holds ( rng B144 ) = ( REAL B143 )))
proof
let C185 being (Element of ( NAT ));
let C186 being  onto  isometric (Function of ( RLMSpace C185 ) , ( RLMSpace C185 ));
thus L505: ( rng C186 ) = (the carrier of ( RLMSpace C185 )) by FUNCT_2:def 3
.= ( REAL C185 ) by L445;
end;
begin
definition
let C187 being (Element of ( NAT ));
func IsomGroup C187 ->  strict multMagma means 
:L506: ((the carrier of it) = ( ISOM ( RLMSpace C187 ) ) & (for B145 , B146 being Function holds ((B145 in ( ISOM ( RLMSpace C187 ) ) & B146 in ( ISOM ( RLMSpace C187 ) )) implies ( (the multF of it) . (B145 , B146) ) = ( B145 * B146 ))));
existence
proof
defpred S7[ set , set , set ] means (ex B147 , B148 being Function st (B147 = $1 & B148 = $2 & $3 = ( B147 * B148 )));
L507: (for B149 , B150 being (Element of ( ISOM ( RLMSpace C187 ) )) holds (ex B151 being (Element of ( ISOM ( RLMSpace C187 ) )) st S7[ B149 , B150 , B151 ]))
proof
let C188 , C189 being (Element of ( ISOM ( RLMSpace C187 ) ));
reconsider D128 = C188 as  onto  isometric (Function of ( RLMSpace C187 ) , ( RLMSpace C187 )) by L326;
reconsider D129 = C189 as  onto  isometric (Function of ( RLMSpace C187 ) , ( RLMSpace C187 )) by L326;
reconsider D130 = ( D128 * D129 ) as (Element of ( ISOM ( RLMSpace C187 ) )) by L326;
take D130;
take D128;
take D129;
thus L508: thesis;
end;
consider C190 being (BinOp of ( ISOM ( RLMSpace C187 ) )) such that L509: (for B152 , B153 being (Element of ( ISOM ( RLMSpace C187 ) )) holds S7[ B152 , B153 , ( C190 . (B152 , B153) ) ]) from BINOP_1:sch 3(L507);
take D131 = multMagma (# ( ISOM ( RLMSpace C187 ) ) , C190 #);
L510: (for B154 , B155 being Function holds ((B154 in ( ISOM ( RLMSpace C187 ) ) & B155 in ( ISOM ( RLMSpace C187 ) )) implies ( (the multF of D131) . (B154 , B155) ) = ( B154 * B155 )))
proof
let C191 , C192 being Function;
assume L511: (C191 in ( ISOM ( RLMSpace C187 ) ) & C192 in ( ISOM ( RLMSpace C187 ) ));
L512: (ex B156 , B157 being Function st (B156 = C191 & B157 = C192 & ( C190 . (C191 , C192) ) = ( B156 * B157 ))) by L511 , L509;
thus L513: thesis by L512;
end;
thus L514: thesis by L510;
end;
uniqueness
proof
set D132 = ( RLMSpace C187 );
let C193 , C194 being  strict multMagma;
assume that
L515: (the carrier of C193) = ( ISOM D132 )
and
L516: (for B158 , B159 being Function holds ((B158 in ( ISOM D132 ) & B159 in ( ISOM D132 )) implies ( (the multF of C193) . (B158 , B159) ) = ( B158 * B159 )))
and
L517: (the carrier of C194) = ( ISOM D132 )
and
L518: (for B160 , B161 being Function holds ((B160 in ( ISOM D132 ) & B161 in ( ISOM D132 )) implies ( (the multF of C194) . (B160 , B161) ) = ( B160 * B161 )));
L519:
now
let C195 , C196 being (Element of C193);
reconsider D133 = C195 as (Function of ( RLMSpace C187 ) , ( RLMSpace C187 )) by L515 , L326;
reconsider D134 = C196 as (Function of ( RLMSpace C187 ) , ( RLMSpace C187 )) by L515 , L326;
thus L520: ( (the multF of C193) . (C195 , C196) ) = ( D133 * D134 ) by L515 , L516
.= ( (the multF of C194) . (C195 , C196) ) by L515 , L518;
end;
thus L521: thesis by L519 , L515 , L517 , BINOP_1:2;
end;
end;
registration
let C197 being (Element of ( NAT ));
cluster ( IsomGroup C197 ) -> non  empty;
coherence
proof
L523: (the carrier of ( IsomGroup C197 )) = ( ISOM ( RLMSpace C197 ) ) by L506;
thus L524: thesis by L523;
end;
end;
registration
let C198 being (Element of ( NAT ));
cluster ( IsomGroup C198 ) ->  associative  Group-like;
coherence
proof
L526:
now
let C199 , C200 , C201 being (Element of ( IsomGroup C198 ));
L527: C199 in (the carrier of ( IsomGroup C198 ));
L528: C199 in ( ISOM ( RLMSpace C198 ) ) by L527 , L506;
reconsider D135 = C199 as  onto  isometric (Function of ( RLMSpace C198 ) , ( RLMSpace C198 )) by L528 , L326;
L529: C200 in (the carrier of ( IsomGroup C198 ));
L530: C200 in ( ISOM ( RLMSpace C198 ) ) by L529 , L506;
reconsider D136 = C200 as  onto  isometric (Function of ( RLMSpace C198 ) , ( RLMSpace C198 )) by L530 , L326;
L531: ( D135 * D136 ) in ( ISOM ( RLMSpace C198 ) ) by L326;
L532: C201 in (the carrier of ( IsomGroup C198 ));
L533: C201 in ( ISOM ( RLMSpace C198 ) ) by L532 , L506;
reconsider D137 = C201 as  onto  isometric (Function of ( RLMSpace C198 ) , ( RLMSpace C198 )) by L533 , L326;
L534: ( D136 * D137 ) in ( ISOM ( RLMSpace C198 ) ) by L326;
thus L535: ( ( C199 * C200 ) * C201 ) = ( (the multF of ( IsomGroup C198 )) . (( D135 * D136 ) , C201) ) by L528 , L530 , L506
.= ( ( D135 * D136 ) * D137 ) by L533 , L531 , L506
.= ( D135 * ( D136 * D137 ) ) by RELAT_1:36
.= ( (the multF of ( IsomGroup C198 )) . (C199 , ( D136 * D137 )) ) by L528 , L534 , L506
.= ( C199 * ( C200 * C201 ) ) by L530 , L533 , L506;
end;
thus L536: ( IsomGroup C198 ) is  associative by L526 , GROUP_1:def 3;
L537: (ex B162 being (Element of ( IsomGroup C198 )) st (for B163 being (Element of ( IsomGroup C198 )) holds (( B163 * B162 ) = B163 & ( B162 * B163 ) = B163 & (ex B164 being (Element of ( IsomGroup C198 )) st (( B163 * B164 ) = B162 & ( B164 * B163 ) = B162)))))
proof
L538: ( id ( RLMSpace C198 ) ) in ( ISOM ( RLMSpace C198 ) ) by L326;
reconsider D138 = ( id ( RLMSpace C198 ) ) as (Element of ( IsomGroup C198 )) by L538 , L506;
take D138;
let C202 being (Element of ( IsomGroup C198 ));
L539: C202 in (the carrier of ( IsomGroup C198 ));
L540: C202 in ( ISOM ( RLMSpace C198 ) ) by L539 , L506;
reconsider D139 = C202 as  onto  isometric (Function of ( RLMSpace C198 ) , ( RLMSpace C198 )) by L540 , L326;
thus L541: ( C202 * D138 ) = ( D139 * ( id (the carrier of ( RLMSpace C198 )) ) ) by L538 , L540 , L506
.= C202 by FUNCT_2:17;
thus L542: ( D138 * C202 ) = ( ( id (the carrier of ( RLMSpace C198 )) ) * D139 ) by L538 , L540 , L506
.= C202 by FUNCT_2:17;
L543: ( rng D139 ) = ( [#] ( RLMSpace C198 ) ) by FUNCT_2:def 3;
L544: ( D139 " ) in ( ISOM ( RLMSpace C198 ) ) by L326;
reconsider D140 = ( D139 " ) as (Element of ( IsomGroup C198 )) by L544 , L506;
take D140;
thus L545: ( C202 * D140 ) = ( D139 * ( D139 " ) ) by L540 , L544 , L506
.= D138 by L543 , TOPS_2:52;
thus L546: ( D140 * C202 ) = ( ( D139 " ) * D139 ) by L540 , L544 , L506
.= ( id ( dom D139 ) ) by L543 , TOPS_2:52
.= D138 by FUNCT_2:def 1;
end;
thus L547: thesis by L537 , GROUP_1:def 2;
end;
end;
theorem
L549: (for B165 being (Element of ( NAT )) holds ( 1_ ( IsomGroup B165 ) ) = ( id ( RLMSpace B165 ) ))
proof
let C203 being (Element of ( NAT ));
L550: ( id ( RLMSpace C203 ) ) in ( ISOM ( RLMSpace C203 ) ) by L326;
reconsider D141 = ( id ( RLMSpace C203 ) ) as (Element of ( IsomGroup C203 )) by L550 , L506;
L551:
now
let C204 being (Element of ( IsomGroup C203 ));
L552: C204 in (the carrier of ( IsomGroup C203 ));
L553: C204 in ( ISOM ( RLMSpace C203 ) ) by L552 , L506;
reconsider D142 = C204 as (Function of ( RLMSpace C203 ) , ( RLMSpace C203 )) by L553 , L326;
thus L554: ( C204 * D141 ) = ( D142 * ( id (the carrier of ( RLMSpace C203 )) ) ) by L550 , L553 , L506
.= C204 by FUNCT_2:17;
thus L555: ( D141 * C204 ) = ( ( id (the carrier of ( RLMSpace C203 )) ) * D142 ) by L550 , L553 , L506
.= C204 by FUNCT_2:17;
end;
thus L556: thesis by L551 , GROUP_1:4;
end;
theorem
L557: (for B166 being (Element of ( NAT )) holds (for B167 being (Element of ( IsomGroup B166 )) holds (for B168 being (Function of ( RLMSpace B166 ) , ( RLMSpace B166 )) holds (B167 = B168 implies ( B167 " ) = ( B168 " )))))
proof
let C205 being (Element of ( NAT ));
let C206 being (Element of ( IsomGroup C205 ));
let C207 being (Function of ( RLMSpace C205 ) , ( RLMSpace C205 ));
L558: C206 in (the carrier of ( IsomGroup C205 ));
L559: C206 in ( ISOM ( RLMSpace C205 ) ) by L558 , L506;
reconsider D143 = C206 as  onto  isometric (Function of ( RLMSpace C205 ) , ( RLMSpace C205 )) by L559 , L326;
assume L560: C206 = C207;
L561: D143 = C207 by L560;
L562: ( C207 " ) in ( ISOM ( RLMSpace C205 ) ) by L561 , L326;
reconsider D144 = ( C207 " ) as (Element of ( IsomGroup C205 )) by L562 , L506;
L563: ( rng D143 ) = ( [#] ( RLMSpace C205 ) ) by FUNCT_2:def 3;
L564: ( D144 * C206 ) = ( ( C207 " ) * D143 ) by L559 , L562 , L506
.= ( id ( dom D143 ) ) by L560 , L563 , TOPS_2:52
.= ( id ( RLMSpace C205 ) ) by FUNCT_2:def 1
.= ( 1_ ( IsomGroup C205 ) ) by L549;
L565: ( C206 * D144 ) = ( D143 * ( C207 " ) ) by L559 , L562 , L506
.= ( id ( RLMSpace C205 ) ) by L560 , L563 , TOPS_2:52
.= ( 1_ ( IsomGroup C205 ) ) by L549;
thus L566: thesis by L565 , L564 , GROUP_1:5;
end;
definition
let C208 being (Element of ( NAT ));
let C209 being (Subgroup of ( IsomGroup C208 ));
func SubIsomGroupRel C209 -> (Relation of (the carrier of ( RLMSpace C208 ))) means 
:L567: (for B169 , B170 being (Element of ( RLMSpace C208 )) holds ([ B169 , B170 ] in it iff (ex B171 being Function st (B171 in (the carrier of C209) & ( B171 . B169 ) = B170))));
existence
proof
defpred S8[ set , set ] means (ex B172 being Function st (B172 in (the carrier of C209) & ( B172 . $1 ) = $2));
consider C210 being (Relation of (the carrier of ( RLMSpace C208 )) , (the carrier of ( RLMSpace C208 ))) such that L568: (for B173 , B174 being set holds ([ B173 , B174 ] in C210 iff (B173 in (the carrier of ( RLMSpace C208 )) & B174 in (the carrier of ( RLMSpace C208 )) & S8[ B173 , B174 ]))) from RELSET_1:sch 1;
take C210;
let C211 , C212 being (Element of ( RLMSpace C208 ));
thus L569: thesis by L568;
end;
uniqueness
proof
let C213 , C214 being (Relation of (the carrier of ( RLMSpace C208 )));
assume that
L570: (for B175 , B176 being (Element of ( RLMSpace C208 )) holds ([ B175 , B176 ] in C213 iff (ex B177 being Function st (B177 in (the carrier of C209) & ( B177 . B175 ) = B176))))
and
L571: (for B178 , B179 being (Element of ( RLMSpace C208 )) holds ([ B178 , B179 ] in C214 iff (ex B180 being Function st (B180 in (the carrier of C209) & ( B180 . B178 ) = B179))));
L572:
now
let C215 , C216 being set;
thus L573: ([ C215 , C216 ] in C213 implies [ C215 , C216 ] in C214)
proof
assume L574: [ C215 , C216 ] in C213;
reconsider D145 = C215 , D146 = C216 as (Element of ( RLMSpace C208 )) by L574 , ZFMISC_1:87;
L575: (ex B181 being Function st (B181 in (the carrier of C209) & ( B181 . D145 ) = D146)) by L570 , L574;
thus L576: thesis by L575 , L571;
end;

assume L577: [ C215 , C216 ] in C214;
reconsider D147 = C215 , D148 = C216 as (Element of ( RLMSpace C208 )) by L577 , ZFMISC_1:87;
L578: (ex B182 being Function st (B182 in (the carrier of C209) & ( B182 . D147 ) = D148)) by L571 , L577;
thus L579: [ C215 , C216 ] in C213 by L578 , L570;
end;
thus L580: C213 = C214 by L572 , RELAT_1:def 2;
end;
end;
registration
let C217 being (Element of ( NAT ));
let C218 being (Subgroup of ( IsomGroup C217 ));
cluster ( SubIsomGroupRel C218 ) ->  total  symmetric  transitive;
coherence
proof
set D149 = ( SubIsomGroupRel C218 );
set D150 = (the carrier of ( RLMSpace C217 ));
L582:
now
let C219 being set;
assume L583: C219 in D150;
reconsider D151 = C219 as (Element of ( RLMSpace C217 )) by L583;
L584: ( 1_ ( IsomGroup C217 ) ) = ( id ( RLMSpace C217 ) ) by L549;
L585: ( id ( RLMSpace C217 ) ) in C218 by L584 , GROUP_2:46;
L586: ( id ( RLMSpace C217 ) ) in (the carrier of C218) by L585 , STRUCT_0:def 5;
L587: ( ( id ( RLMSpace C217 ) ) . D151 ) = D151 by FUNCT_1:18;
thus L588: [ C219 , C219 ] in D149 by L587 , L586 , L567;
end;
L589: D149 is_reflexive_in D150 by L582 , RELAT_2:def 1;
L590: ( field D149 ) = D150 by L589 , ORDERS_1:13;
L591: ( dom D149 ) = D150 by L589 , ORDERS_1:13;
thus L592: D149 is  total by L591 , PARTFUN1:def 2;
L593:
now
let C220 , C221 being set;
assume that
L594: (C220 in D150 & C221 in D150)
and
L595: [ C220 , C221 ] in D149;
reconsider D152 = C220 , D153 = C221 as (Element of ( RLMSpace C217 )) by L594;
consider C222 being Function such that L596: C222 in (the carrier of C218) and L597: ( C222 . D152 ) = D153 by L595 , L567;
reconsider D154 = C222 as (Element of C218) by L596;
L598: (the carrier of C218) c= (the carrier of ( IsomGroup C217 )) by GROUP_2:def 5;
reconsider D155 = D154 as (Element of ( IsomGroup C217 )) by L598 , TARSKI:def 3;
L599: C222 in (the carrier of ( IsomGroup C217 )) by L596 , L598;
L600: C222 in ( ISOM ( RLMSpace C217 ) ) by L599 , L506;
reconsider D156 = C222 as  onto  isometric (Function of ( RLMSpace C217 ) , ( RLMSpace C217 )) by L600 , L326;
L601: D152 in (the carrier of ( RLMSpace C217 ));
L602: D152 in ( dom D156 ) by L601 , FUNCT_2:def 1;
L603: ( ( C222 " ) . D153 ) = D152 by L602 , L597 , FUNCT_1:34;
L604: ( D154 " ) = ( D155 " ) by GROUP_2:48
.= ( D156 " ) by L557
.= ( C222 " ) by TOPS_2:def 4;
thus L605: [ C221 , C220 ] in D149 by L604 , L603 , L567;
end;
L606: D149 is_symmetric_in D150 by L593 , RELAT_2:def 3;
thus L607: D149 is  symmetric by L606 , L590 , RELAT_2:def 11;
L608:
now
let C223 , C224 , C225 being set;
assume that
L609: (C223 in D150 & C224 in D150 & C225 in D150)
and
L610: [ C223 , C224 ] in D149
and
L611: [ C224 , C225 ] in D149;
reconsider D157 = C223 , D158 = C224 , D159 = C225 as (Element of ( RLMSpace C217 )) by L609;
consider C226 being Function such that L612: C226 in (the carrier of C218) and L613: ( C226 . D157 ) = D158 by L610 , L567;
reconsider D160 = C226 as (Element of C218) by L612;
L614: (the carrier of C218) c= (the carrier of ( IsomGroup C217 )) by GROUP_2:def 5;
reconsider D161 = D160 as (Element of ( IsomGroup C217 )) by L614 , TARSKI:def 3;
L615: C226 in (the carrier of ( IsomGroup C217 )) by L612 , L614;
L616: C226 in ( ISOM ( RLMSpace C217 ) ) by L615 , L506;
consider C227 being Function such that L617: C227 in (the carrier of C218) and L618: ( C227 . D158 ) = D159 by L611 , L567;
reconsider D162 = C227 as (Element of C218) by L617;
L619: D157 in (the carrier of ( RLMSpace C217 ));
reconsider D163 = D162 as (Element of ( IsomGroup C217 )) by L614 , TARSKI:def 3;
L620: (D160 in C218 & D162 in C218) by STRUCT_0:def 5;
L621: ( D163 * D161 ) in C218 by L620 , GROUP_2:50;
L622: C227 in (the carrier of ( IsomGroup C217 )) by L617 , L614;
L623: C227 in ( ISOM ( RLMSpace C217 ) ) by L622 , L506;
L624: ( D163 * D161 ) = ( C227 * C226 ) by L623 , L616 , L506;
L625: ( C227 * C226 ) in (the carrier of C218) by L624 , L621 , STRUCT_0:def 5;
L626: C226 is  onto  isometric  onto  isometric  onto  isometric  onto  isometric (Function of ( RLMSpace C217 ) , ( RLMSpace C217 )) by L616 , L326;
L627: D157 in ( dom C226 ) by L626 , L619 , FUNCT_2:def 1;
L628: ( ( C227 * C226 ) . D157 ) = D159 by L627 , L613 , L618 , FUNCT_1:13;
thus L629: [ C223 , C225 ] in D149 by L628 , L625 , L567;
end;
L630: D149 is_transitive_in D150 by L608 , RELAT_2:def 8;
thus L631: thesis by L630 , L590 , RELAT_2:def 16;
end;
end;
