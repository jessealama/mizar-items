:: The Well Ordering Relations
::  by Grzegorz Bancerek
::
:: Received April 4, 1989
:: Copyright (c) 1990-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies RELAT_1, RELAT_2, XBOOLE_0, SUBSET_1, TARSKI, FUNCT_1, ZFMISC_1,
      WELLORD1;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, RELAT_1, RELAT_2, FUNCT_1;
 constructors TARSKI, SUBSET_1, FUNCT_1, RELAT_2, XTUPLE_0;
 registrations FUNCT_1, RELAT_1;
 requirements SUBSET, BOOLE;
 definitions TARSKI, XBOOLE_0, FUNCT_1, RELAT_1;
 theorems TARSKI, XBOOLE_0, FUNCT_1, RELAT_1, RELAT_2, ZFMISC_1, XBOOLE_1,
      XTUPLE_0;
 schemes XBOOLE_0, FUNCT_1;

begin
L1: (for R11 being Relation holds (R11 is  reflexive iff (for R5 being set holds (R5 in ( field R11 ) implies [ R5 , R5 ] in R11))))
proof
let R11 being Relation;
L2: (R11 is  reflexive iff R11 is_reflexive_in ( field R11 )) by RELAT_2:def 9;
thus L3: thesis by L2 , RELAT_2:def 1;
end;
L4: (for R11 being Relation holds (R11 is  transitive iff (for R5 being set holds (for R6 being set holds (for R7 being set holds (([ R5 , R6 ] in R11 & [ R6 , R7 ] in R11) implies [ R5 , R7 ] in R11))))))
proof
let R11 being Relation;
thus L5: (R11 is  transitive implies (for R5 being set holds (for R6 being set holds (for R7 being set holds (([ R5 , R6 ] in R11 & [ R6 , R7 ] in R11) implies [ R5 , R7 ] in R11)))))
proof
assume L6: R11 is  transitive;
L7: R11 is_transitive_in ( field R11 ) by L6 , RELAT_2:def 16;
let R5 being set;
let R6 being set;
let R7 being set;
assume that
L8: [ R5 , R6 ] in R11
and
L9: [ R6 , R7 ] in R11;
L10: R7 in ( field R11 ) by L9 , RELAT_1:15;
L11: (R5 in ( field R11 ) & R6 in ( field R11 )) by L8 , RELAT_1:15;
thus L12: thesis by L11 , L7 , L8 , L9 , L10 , RELAT_2:def 8;
end;

assume L13: (for R5 being set holds (for R6 being set holds (for R7 being set holds (([ R5 , R6 ] in R11 & [ R6 , R7 ] in R11) implies [ R5 , R7 ] in R11))));
L14: (for R5 being set holds (for R6 being set holds (for R7 being set holds ((R5 in ( field R11 ) & R6 in ( field R11 ) & R7 in ( field R11 ) & [ R5 , R6 ] in R11 & [ R6 , R7 ] in R11) implies [ R5 , R7 ] in R11)))) by L13;
L15: R11 is_transitive_in ( field R11 ) by L14 , RELAT_2:def 8;
thus L16: thesis by L15 , RELAT_2:def 16;
end;
L17: (for R11 being Relation holds (R11 is  antisymmetric iff (for R5 being set holds (for R6 being set holds (([ R5 , R6 ] in R11 & [ R6 , R5 ] in R11) implies R5 = R6)))))
proof
let R11 being Relation;
thus L18: (R11 is  antisymmetric implies (for R5 being set holds (for R6 being set holds (([ R5 , R6 ] in R11 & [ R6 , R5 ] in R11) implies R5 = R6))))
proof
assume L19: R11 is  antisymmetric;
L20: R11 is_antisymmetric_in ( field R11 ) by L19 , RELAT_2:def 12;
let R5 being set;
let R6 being set;
assume that
L21: [ R5 , R6 ] in R11
and
L22: [ R6 , R5 ] in R11;
L23: (R5 in ( field R11 ) & R6 in ( field R11 )) by L21 , RELAT_1:15;
thus L24: thesis by L23 , L20 , L21 , L22 , RELAT_2:def 4;
end;

assume L25: (for R5 being set holds (for R6 being set holds (([ R5 , R6 ] in R11 & [ R6 , R5 ] in R11) implies R5 = R6)));
L26: (for R5 being set holds (for R6 being set holds ((R5 in ( field R11 ) & R6 in ( field R11 ) & [ R5 , R6 ] in R11 & [ R6 , R5 ] in R11) implies R5 = R6))) by L25;
L27: R11 is_antisymmetric_in ( field R11 ) by L26 , RELAT_2:def 4;
thus L28: thesis by L27 , RELAT_2:def 12;
end;
L29: (for R11 being Relation holds (R11 is  connected iff (for R5 being set holds (for R6 being set holds ((R5 in ( field R11 ) & R6 in ( field R11 ) & R5 <> R6) implies ([ R5 , R6 ] in R11 or [ R6 , R5 ] in R11))))))
proof
let R11 being Relation;
L30: (R11 is  connected iff R11 is_connected_in ( field R11 )) by RELAT_2:def 14;
thus L31: thesis by L30 , RELAT_2:def 6;
end;
definition
let R11 being Relation;
let R1 being set;
func R11 -Seg R1 equals 
( ( Coim (R11 , R1) ) \ { R1 } );
coherence;
end;
theorem
L33: (for R1 being set holds (for R5 being set holds (for R11 being Relation holds (R5 in ( R11 -Seg R1 ) iff (R5 <> R1 & [ R5 , R1 ] in R11)))))
proof
let R1 being set;
let R5 being set;
let R11 being Relation;
thus L34:now
assume L35: R5 in ( R11 -Seg R1 );
thus L36: R5 <> R1 by L35 , ZFMISC_1:56;
L37: (ex R6 being set st ([ R5 , R6 ] in R11 & R6 in { R1 })) by L35 , RELAT_1:def 14;
thus L38: [ R5 , R1 ] in R11 by L37 , TARSKI:def 1;
end;
assume that
L39: R5 <> R1
and
L40: [ R5 , R1 ] in R11;
L41: R1 in { R1 } by TARSKI:def 1;
L42: R5 in ( Coim (R11 , R1) ) by L41 , L40 , RELAT_1:def 14;
thus L43: thesis by L42 , L39 , ZFMISC_1:56;
end;
theorem
L44: (for R5 being set holds (for R11 being Relation holds (R5 in ( field R11 ) or ( R11 -Seg R5 ) = ( {} ))))
proof
let R5 being set;
let R11 being Relation;
assume L45: (not R5 in ( field R11 ));
set D1 = the (Element of ( R11 -Seg R5 ));
assume L46: ( R11 -Seg R5 ) <> ( {} );
L47: [ D1 , R5 ] in R11 by L46 , L33;
thus L48: contradiction by L47 , L45 , RELAT_1:15;
end;
definition
let R11 being Relation;
attr R11 is  well_founded
means
:L49: (for R9 being set holds ((R9 c= ( field R11 ) & R9 <> ( {} )) implies (ex R1 being set st (R1 in R9 & ( R11 -Seg R1 ) misses R9))));
let R8 being set;
pred R11 is_well_founded_in R8
means
:L50: (for R9 being set holds ((R9 c= R8 & R9 <> ( {} )) implies (ex R1 being set st (R1 in R9 & ( R11 -Seg R1 ) misses R9))))
;end;
theorem
L52: (for R11 being Relation holds (R11 is  well_founded iff R11 is_well_founded_in ( field R11 )))
proof
let R11 being Relation;
thus L53: (R11 is  well_founded implies R11 is_well_founded_in ( field R11 ))
proof
assume L54: (for R9 being set holds ((R9 c= ( field R11 ) & R9 <> ( {} )) implies (ex R1 being set st (R1 in R9 & ( R11 -Seg R1 ) misses R9))));
thus L55: (for R9 being set holds ((R9 c= ( field R11 ) & R9 <> ( {} )) implies (ex R1 being set st (R1 in R9 & ( R11 -Seg R1 ) misses R9)))) by L54;
end;

assume L56: (for R9 being set holds ((R9 c= ( field R11 ) & R9 <> ( {} )) implies (ex R1 being set st (R1 in R9 & ( R11 -Seg R1 ) misses R9))));
thus L57: (for R9 being set holds ((R9 c= ( field R11 ) & R9 <> ( {} )) implies (ex R1 being set st (R1 in R9 & ( R11 -Seg R1 ) misses R9)))) by L56;
end;
definition
let R11 being Relation;
attr R11 is  well-ordering
means
:L58: (R11 is  reflexive & R11 is  transitive & R11 is  antisymmetric & R11 is  connected & R11 is  well_founded);
let R8 being set;
pred R11 well_orders R8
means
:L59: (R11 is_reflexive_in R8 & R11 is_transitive_in R8 & R11 is_antisymmetric_in R8 & R11 is_connected_in R8 & R11 is_well_founded_in R8)
;end;
registration
cluster  well-ordering ->  reflexive  transitive  antisymmetric  connected  well_founded for Relation;
coherence by L58;
cluster  reflexive  transitive  antisymmetric  connected  well_founded ->  well-ordering for Relation;
coherence by L58;
end;
theorem
L62: (for R11 being Relation holds (R11 well_orders ( field R11 ) iff R11 is  well-ordering))
proof
let R11 being Relation;
thus L63: (R11 well_orders ( field R11 ) implies R11 is  well-ordering)
proof
assume L64: (R11 is_reflexive_in ( field R11 ) & R11 is_transitive_in ( field R11 ) & R11 is_antisymmetric_in ( field R11 ) & R11 is_connected_in ( field R11 ) & R11 is_well_founded_in ( field R11 ));
thus L65: (R11 is  reflexive & R11 is  transitive & R11 is  antisymmetric & R11 is  connected & R11 is  well_founded) by L64 , L52 , RELAT_2:def 9 , RELAT_2:def 12 , RELAT_2:def 14 , RELAT_2:def 16;
end;

assume L66: (R11 is  reflexive & R11 is  transitive & R11 is  antisymmetric & R11 is  connected & R11 is  well_founded);
thus L67: (R11 is_reflexive_in ( field R11 ) & R11 is_transitive_in ( field R11 ) & R11 is_antisymmetric_in ( field R11 ) & R11 is_connected_in ( field R11 ) & R11 is_well_founded_in ( field R11 )) by L66 , L52 , RELAT_2:def 9 , RELAT_2:def 12 , RELAT_2:def 14 , RELAT_2:def 16;
end;
theorem
L68: (for R8 being set holds (for R11 being Relation holds (R11 well_orders R8 implies (for R9 being set holds ((R9 c= R8 & R9 <> ( {} )) implies (ex R1 being set st (R1 in R9 & (for R2 being set holds (R2 in R9 implies [ R1 , R2 ] in R11)))))))))
proof
let R8 being set;
let R11 being Relation;
assume L69: R11 well_orders R8;
L70: R11 is_reflexive_in R8 by L69 , L59;
L71: R11 is_connected_in R8 by L69 , L59;
let R9 being set;
assume that
L72: R9 c= R8
and
L73: R9 <> ( {} );
L74: R11 is_well_founded_in R8 by L69 , L59;
consider R1 being set such that L75: R1 in R9 and L76: ( R11 -Seg R1 ) misses R9 by L74 , L72 , L73 , L50;
take R1;
thus L77: R1 in R9 by L75;
let R2 being set;
assume L78: R2 in R9;
L79: (not R2 in ( R11 -Seg R1 )) by L78 , L76 , XBOOLE_0:3;
L80: (R1 = R2 or (not [ R2 , R1 ] in R11)) by L79 , L33;
L81: (R1 <> R2 implies [ R1 , R2 ] in R11) by L80 , L71 , L72 , L75 , L78 , RELAT_2:def 6;
thus L82: thesis by L81 , L70 , L72 , L75 , RELAT_2:def 1;
end;
theorem
L83: (for R11 being Relation holds (R11 is  well-ordering implies (for R9 being set holds ((R9 c= ( field R11 ) & R9 <> ( {} )) implies (ex R1 being set st (R1 in R9 & (for R2 being set holds (R2 in R9 implies [ R1 , R2 ] in R11))))))))
proof
let R11 being Relation;
assume L84: R11 is  well-ordering;
let R9 being set;
assume that
L85: R9 c= ( field R11 )
and
L86: R9 <> ( {} );
consider R1 being set such that L87: R1 in R9 and L88: ( R11 -Seg R1 ) misses R9 by L84 , L85 , L86 , L49;
take R1;
thus L89: R1 in R9 by L87;
let R2 being set;
assume L90: R2 in R9;
L91: (not R2 in ( R11 -Seg R1 )) by L90 , L88 , XBOOLE_0:3;
L92: (R1 = R2 or (not [ R2 , R1 ] in R11)) by L91 , L33;
L93: (R1 <> R2 implies [ R1 , R2 ] in R11) by L92 , L84 , L85 , L87 , L90 , L29;
thus L94: thesis by L93 , L84 , L85 , L87 , L1;
end;
theorem
L95: (for R11 being Relation holds ((R11 is  well-ordering & ( field R11 ) <> ( {} )) implies (ex R1 being set st (R1 in ( field R11 ) & (for R2 being set holds (R2 in ( field R11 ) implies [ R1 , R2 ] in R11)))))) by L83;
theorem
L96: (for R11 being Relation holds (R11 is  well-ordering implies (for R1 being set holds (R1 in ( field R11 ) implies ((for R2 being set holds (R2 in ( field R11 ) implies [ R2 , R1 ] in R11)) or (ex R2 being set st (R2 in ( field R11 ) & [ R1 , R2 ] in R11 & (for R3 being set holds ((R3 in ( field R11 ) & [ R1 , R3 ] in R11) implies (R3 = R1 or [ R2 , R3 ] in R11))))))))))
proof
let R11 being Relation;
assume L97: R11 is  well-ordering;
let R1 being set;
assume that
L98: R1 in ( field R11 );
defpred S1[ set ] means (not [ $1 , R1 ] in R11);
given R2 being set such that
L99: (R2 in ( field R11 ) & (not [ R2 , R1 ] in R11));

consider R10 being set such that L100: (for R3 being set holds (R3 in R10 iff (R3 in ( field R11 ) & S1[ R3 ]))) from XBOOLE_0:sch 1;
L101: (for R2 being set holds (R2 in R10 implies R2 in ( field R11 ))) by L100;
L102: R10 c= ( field R11 ) by L101 , TARSKI:def 3;
L103: R10 <> ( {} ) by L99 , L100;
consider R4 being set such that L104: R4 in R10 and L105: (for R3 being set holds (R3 in R10 implies [ R4 , R3 ] in R11)) by L103 , L97 , L102 , L83;
take R4;
thus L106: R4 in ( field R11 ) by L100 , L104;
L107: (not [ R4 , R1 ] in R11) by L100 , L104;
L108: R1 <> R4 by L107 , L104 , L105;
thus L109: [ R1 , R4 ] in R11 by L108 , L97 , L98 , L106 , L107 , L29;
let R3 being set;
assume that
L110: R3 in ( field R11 )
and
L111: [ R1 , R3 ] in R11;
assume L112: R3 <> R1;
L113: (not [ R3 , R1 ] in R11) by L112 , L97 , L111 , L17;
L114: R3 in R10 by L113 , L100 , L110;
thus L115: thesis by L114 , L105;
end;
theorem
L116: (for R1 being set holds (for R11 being Relation holds ( R11 -Seg R1 ) c= ( field R11 )))
proof
let R1 being set;
let R11 being Relation;
let R2 being set;
assume L117: R2 in ( R11 -Seg R1 );
L118: [ R2 , R1 ] in R11 by L117 , L33;
thus L119: thesis by L118 , RELAT_1:15;
end;
definition
let R11 being Relation;
let R9 being set;
func R11 |_2 R9 -> Relation equals 
( R11 /\ [: R9 , R9 :] );
coherence;
end;
theorem
L121: (for R8 being set holds (for R11 being Relation holds ( R11 |_2 R8 ) = ( ( R8 |` R11 ) | R8 )))
proof
let R8 being set;
let R11 being Relation;
let R5 being set;
let R6 being set;
thus L122: ([ R5 , R6 ] in ( R11 |_2 R8 ) implies [ R5 , R6 ] in ( ( R8 |` R11 ) | R8 ))
proof
assume L123: [ R5 , R6 ] in ( R11 |_2 R8 );
L124: [ R5 , R6 ] in [: R8 , R8 :] by L123 , XBOOLE_0:def 4;
L125: R5 in R8 by L124 , ZFMISC_1:87;
L126: R6 in R8 by L124 , ZFMISC_1:87;
L127: [ R5 , R6 ] in R11 by L123 , XBOOLE_0:def 4;
L128: [ R5 , R6 ] in ( R8 |` R11 ) by L127 , L126 , RELAT_1:def 12;
thus L129: thesis by L128 , L125 , RELAT_1:def 11;
end;

assume L130: [ R5 , R6 ] in ( ( R8 |` R11 ) | R8 );
L131: [ R5 , R6 ] in ( R8 |` R11 ) by L130 , RELAT_1:def 11;
L132: [ R5 , R6 ] in R11 by L131 , RELAT_1:def 12;
L133: R6 in R8 by L131 , RELAT_1:def 12;
L134: R5 in R8 by L130 , RELAT_1:def 11;
L135: [ R5 , R6 ] in [: R8 , R8 :] by L134 , L133 , ZFMISC_1:87;
thus L136: thesis by L135 , L132 , XBOOLE_0:def 4;
end;
theorem
L137: (for R8 being set holds (for R11 being Relation holds ( R11 |_2 R8 ) = ( R8 |` ( R11 | R8 ) )))
proof
let R8 being set;
let R11 being Relation;
thus L138: ( R11 |_2 R8 ) = ( ( R8 |` R11 ) | R8 ) by L121
.= ( R8 |` ( R11 | R8 ) ) by RELAT_1:109;
end;
L139: (for R8 being set holds (for R11 being Relation holds ( dom ( R8 |` R11 ) ) c= ( dom R11 )))
proof
let R8 being set;
let R11 being Relation;
let R5 being set;
assume L140: R5 in ( dom ( R8 |` R11 ) );
consider R6 being set such that L141: [ R5 , R6 ] in ( R8 |` R11 ) by L140 , XTUPLE_0:def 12;
L142: [ R5 , R6 ] in R11 by L141 , RELAT_1:def 12;
thus L143: thesis by L142 , XTUPLE_0:def 12;
end;
theorem
L144: (for R5 being set holds (for R8 being set holds (for R11 being Relation holds (R5 in ( field ( R11 |_2 R8 ) ) implies (R5 in ( field R11 ) & R5 in R8)))))
proof
let R5 being set;
let R8 being set;
let R11 being Relation;
L145: (( dom ( ( R8 |` R11 ) | R8 ) ) = ( ( dom ( R8 |` R11 ) ) /\ R8 ) & ( rng ( R8 |` ( R11 | R8 ) ) ) = ( ( rng ( R11 | R8 ) ) /\ R8 )) by RELAT_1:61 , RELAT_1:88;
assume L146: R5 in ( field ( R11 |_2 R8 ) );
L147: (R5 in ( dom ( R11 |_2 R8 ) ) or R5 in ( rng ( R11 |_2 R8 ) )) by L146 , XBOOLE_0:def 3;
L148: (( dom ( R8 |` R11 ) ) c= ( dom R11 ) & ( rng ( R11 | R8 ) ) c= ( rng R11 )) by L139 , RELAT_1:70;
L149: (( R11 |_2 R8 ) = ( ( R8 |` R11 ) | R8 ) & ( R11 |_2 R8 ) = ( R8 |` ( R11 | R8 ) )) by L121 , L137;
L150: ((R5 in ( dom ( R8 |` R11 ) ) & R5 in R8) or (R5 in ( rng ( R11 | R8 ) ) & R5 in R8)) by L149 , L147 , L145 , XBOOLE_0:def 4;
thus L151: thesis by L150 , L148 , XBOOLE_0:def 3;
end;
theorem
L152: (for R8 being set holds (for R11 being Relation holds (( field ( R11 |_2 R8 ) ) c= ( field R11 ) & ( field ( R11 |_2 R8 ) ) c= R8)))
proof
let R8 being set;
let R11 being Relation;
L153: ((for R5 being set holds (R5 in ( field ( R11 |_2 R8 ) ) implies R5 in ( field R11 ))) & (for R5 being set holds (R5 in ( field ( R11 |_2 R8 ) ) implies R5 in R8))) by L144;
thus L154: thesis by L153 , TARSKI:def 3;
end;
theorem
L155: (for R1 being set holds (for R8 being set holds (for R11 being Relation holds ( ( R11 |_2 R8 ) -Seg R1 ) c= ( R11 -Seg R1 ))))
proof
let R1 being set;
let R8 being set;
let R11 being Relation;
let R5 being set;
assume L156: R5 in ( ( R11 |_2 R8 ) -Seg R1 );
L157: [ R5 , R1 ] in ( R11 |_2 R8 ) by L156 , L33;
L158: [ R5 , R1 ] in R11 by L157 , XBOOLE_0:def 4;
L159: R5 <> R1 by L156 , L33;
thus L160: thesis by L159 , L158 , L33;
end;
theorem
L161: (for R8 being set holds (for R11 being Relation holds (R11 is  reflexive implies ( R11 |_2 R8 ) is  reflexive)))
proof
let R8 being set;
let R11 being Relation;
assume L162: R11 is  reflexive;
L163:
now
let R1 being set;
assume L164: R1 in ( field ( R11 |_2 R8 ) );
L165: R1 in R8 by L164 , L144;
L166: [ R1 , R1 ] in [: R8 , R8 :] by L165 , ZFMISC_1:87;
L167: R1 in ( field R11 ) by L164 , L144;
L168: [ R1 , R1 ] in R11 by L167 , L162 , L1;
thus L169: [ R1 , R1 ] in ( R11 |_2 R8 ) by L168 , L166 , XBOOLE_0:def 4;
end;
thus L170: thesis by L163 , L1;
end;
theorem
L171: (for R9 being set holds (for R11 being Relation holds (R11 is  connected implies ( R11 |_2 R9 ) is  connected)))
proof
let R9 being set;
let R11 being Relation;
assume L172: R11 is  connected;
L173:
now
let R1 being set;
let R2 being set;
assume that
L174: (R1 in ( field ( R11 |_2 R9 ) ) & R2 in ( field ( R11 |_2 R9 ) ))
and
L175: R1 <> R2;
L176: (R1 in R9 & R2 in R9) by L174 , L144;
L177: ([ R1 , R2 ] in [: R9 , R9 :] & [ R2 , R1 ] in [: R9 , R9 :]) by L176 , ZFMISC_1:87;
L178: (R1 in ( field R11 ) & R2 in ( field R11 )) by L174 , L144;
L179: ([ R1 , R2 ] in R11 or [ R2 , R1 ] in R11) by L178 , L172 , L175 , L29;
thus L180: ([ R1 , R2 ] in ( R11 |_2 R9 ) or [ R2 , R1 ] in ( R11 |_2 R9 )) by L179 , L177 , XBOOLE_0:def 4;
end;
thus L181: thesis by L173 , L29;
end;
theorem
L182: (for R9 being set holds (for R11 being Relation holds (R11 is  transitive implies ( R11 |_2 R9 ) is  transitive)))
proof
let R9 being set;
let R11 being Relation;
assume L183: R11 is  transitive;
L184:
now
let R1 being set;
let R2 being set;
let R3 being set;
assume that
L185: [ R1 , R2 ] in ( R11 |_2 R9 )
and
L186: [ R2 , R3 ] in ( R11 |_2 R9 );
L187: ([ R1 , R2 ] in R11 & [ R2 , R3 ] in R11) by L185 , L186 , XBOOLE_0:def 4;
L188: [ R1 , R3 ] in R11 by L187 , L183 , L4;
L189: [ R2 , R3 ] in [: R9 , R9 :] by L186 , XBOOLE_0:def 4;
L190: R3 in R9 by L189 , ZFMISC_1:87;
L191: [ R1 , R2 ] in [: R9 , R9 :] by L185 , XBOOLE_0:def 4;
L192: R1 in R9 by L191 , ZFMISC_1:87;
L193: [ R1 , R3 ] in [: R9 , R9 :] by L192 , L190 , ZFMISC_1:87;
thus L194: [ R1 , R3 ] in ( R11 |_2 R9 ) by L193 , L188 , XBOOLE_0:def 4;
end;
thus L195: thesis by L184 , L4;
end;
theorem
L196: (for R9 being set holds (for R11 being Relation holds (R11 is  antisymmetric implies ( R11 |_2 R9 ) is  antisymmetric)))
proof
let R9 being set;
let R11 being Relation;
assume L197: R11 is  antisymmetric;
L198:
now
let R1 being set;
let R2 being set;
assume L199: ([ R1 , R2 ] in ( R11 |_2 R9 ) & [ R2 , R1 ] in ( R11 |_2 R9 ));
L200: ([ R1 , R2 ] in R11 & [ R2 , R1 ] in R11) by L199 , XBOOLE_0:def 4;
thus L201: R1 = R2 by L200 , L197 , L17;
end;
thus L202: thesis by L198 , L17;
end;
theorem
L203: (for R8 being set holds (for R9 being set holds (for R11 being Relation holds ( ( R11 |_2 R8 ) |_2 R9 ) = ( R11 |_2 ( R8 /\ R9 ) ))))
proof
let R8 being set;
let R9 being set;
let R11 being Relation;
thus L204: ( ( R11 |_2 R8 ) |_2 R9 ) = ( R11 /\ ( [: R8 , R8 :] /\ [: R9 , R9 :] ) ) by XBOOLE_1:16
.= ( R11 |_2 ( R8 /\ R9 ) ) by ZFMISC_1:100;
end;
theorem
L205: (for R8 being set holds (for R9 being set holds (for R11 being Relation holds ( ( R11 |_2 R8 ) |_2 R9 ) = ( ( R11 |_2 R9 ) |_2 R8 ))))
proof
let R8 being set;
let R9 being set;
let R11 being Relation;
thus L206: ( ( R11 |_2 R8 ) |_2 R9 ) = ( R11 |_2 ( R9 /\ R8 ) ) by L203
.= ( ( R11 |_2 R9 ) |_2 R8 ) by L203;
end;
theorem
L207: (for R9 being set holds (for R11 being Relation holds ( ( R11 |_2 R9 ) |_2 R9 ) = ( R11 |_2 R9 )))
proof
let R9 being set;
let R11 being Relation;
let R1 being set;
let R2 being set;
thus L208: ([ R1 , R2 ] in ( ( R11 |_2 R9 ) |_2 R9 ) implies [ R1 , R2 ] in ( R11 |_2 R9 )) by XBOOLE_0:def 4;
assume L209: [ R1 , R2 ] in ( R11 |_2 R9 );
L210: [ R1 , R2 ] in [: R9 , R9 :] by L209 , XBOOLE_0:def 4;
thus L211: thesis by L210 , L209 , XBOOLE_0:def 4;
end;
theorem
L212: (for R9 being set holds (for R10 being set holds (for R11 being Relation holds (R10 c= R9 implies ( ( R11 |_2 R9 ) |_2 R10 ) = ( R11 |_2 R10 )))))
proof
let R9 being set;
let R10 being set;
let R11 being Relation;
assume L213: R10 c= R9;
let R1 being set;
let R2 being set;
thus L214: ([ R1 , R2 ] in ( ( R11 |_2 R9 ) |_2 R10 ) implies [ R1 , R2 ] in ( R11 |_2 R10 ))
proof
assume L215: [ R1 , R2 ] in ( ( R11 |_2 R9 ) |_2 R10 );
L216: [ R1 , R2 ] in ( R11 |_2 R9 ) by L215 , XBOOLE_0:def 4;
L217: [ R1 , R2 ] in R11 by L216 , XBOOLE_0:def 4;
L218: [ R1 , R2 ] in [: R10 , R10 :] by L215 , XBOOLE_0:def 4;
thus L219: thesis by L218 , L217 , XBOOLE_0:def 4;
end;

assume L220: [ R1 , R2 ] in ( R11 |_2 R10 );
L221: [ R1 , R2 ] in R11 by L220 , XBOOLE_0:def 4;
L222: [ R1 , R2 ] in [: R10 , R10 :] by L220 , XBOOLE_0:def 4;
L223: (R1 in R10 & R2 in R10) by L222 , ZFMISC_1:87;
L224: [ R1 , R2 ] in [: R9 , R9 :] by L223 , L213 , ZFMISC_1:87;
L225: [ R1 , R2 ] in ( R11 |_2 R9 ) by L224 , L221 , XBOOLE_0:def 4;
thus L226: thesis by L225 , L222 , XBOOLE_0:def 4;
end;
theorem
L227: (for R11 being Relation holds ( R11 |_2 ( field R11 ) ) = R11)
proof
let R11 being Relation;
let R5 being set;
let R6 being set;
thus L228: ([ R5 , R6 ] in ( R11 |_2 ( field R11 ) ) implies [ R5 , R6 ] in R11) by XBOOLE_0:def 4;
assume L229: [ R5 , R6 ] in R11;
L230: (R5 in ( field R11 ) & R6 in ( field R11 )) by L229 , RELAT_1:15;
L231: [ R5 , R6 ] in [: ( field R11 ) , ( field R11 ) :] by L230 , ZFMISC_1:87;
thus L232: thesis by L231 , L229 , XBOOLE_0:def 4;
end;
theorem
L233: (for R8 being set holds (for R11 being Relation holds (R11 is  well_founded implies ( R11 |_2 R8 ) is  well_founded)))
proof
let R8 being set;
let R11 being Relation;
assume L234: (for R9 being set holds ((R9 c= ( field R11 ) & R9 <> ( {} )) implies (ex R1 being set st (R1 in R9 & ( R11 -Seg R1 ) misses R9))));
L235: ( field ( R11 |_2 R8 ) ) c= ( field R11 ) by L152;
let R9 being set;
assume L236: (R9 c= ( field ( R11 |_2 R8 ) ) & R9 <> ( {} ));
consider R1 being set such that L237: R1 in R9 and L238: ( R11 -Seg R1 ) misses R9 by L236 , L234 , L235 , XBOOLE_1:1;
take R1;
thus L239: R1 in R9 by L237;
assume L240: (not thesis);
L241: (ex B1 being set st (B1 in ( ( R11 |_2 R8 ) -Seg R1 ) & B1 in R9)) by L240 , XBOOLE_0:3;
L242: ( ( R11 |_2 R8 ) -Seg R1 ) c= ( R11 -Seg R1 ) by L155;
thus L243: contradiction by L242 , L238 , L241 , XBOOLE_0:3;
end;
theorem
L244: (for R9 being set holds (for R11 being Relation holds (R11 is  well-ordering implies ( R11 |_2 R9 ) is  well-ordering)))
proof
let R9 being set;
let R11 being Relation;
assume L245: R11 is  well-ordering;
thus L246: ( R11 |_2 R9 ) is  reflexive  transitive  antisymmetric  connected  well_founded by L245 , L161 , L171 , L182 , L196 , L233;
end;
theorem
L247: (for R1 being set holds (for R2 being set holds (for R11 being Relation holds (R11 is  well-ordering implies ( R11 -Seg R1 ) , ( R11 -Seg R2 ) are_c=-comparable ))))
proof
let R1 being set;
let R2 being set;
let R11 being Relation;
assume L248: R11 is  well-ordering;
L249:
now
assume L250: (R1 in ( field R11 ) & R2 in ( field R11 ));
L251:
now
assume L252: R1 <> R2;
L253:
now
assume L254: [ R2 , R1 ] in R11;
L255:
now
let R3 being set;
assume L256: R3 in ( R11 -Seg R2 );
L257: [ R3 , R2 ] in R11 by L256 , L33;
L258: [ R3 , R1 ] in R11 by L257 , L248 , L254 , L4;
L259: R3 <> R2 by L256 , L33;
L260: R3 <> R1 by L259 , L248 , L254 , L257 , L17;
thus L261: R3 in ( R11 -Seg R1 ) by L260 , L258 , L33;
end;
thus L262: ( R11 -Seg R2 ) c= ( R11 -Seg R1 ) by L255 , TARSKI:def 3;
end;
L263:
now
assume L264: [ R1 , R2 ] in R11;
L265:
now
let R3 being set;
assume L266: R3 in ( R11 -Seg R1 );
L267: [ R3 , R1 ] in R11 by L266 , L33;
L268: [ R3 , R2 ] in R11 by L267 , L248 , L264 , L4;
L269: R3 <> R1 by L266 , L33;
L270: R3 <> R2 by L269 , L248 , L264 , L267 , L17;
thus L271: R3 in ( R11 -Seg R2 ) by L270 , L268 , L33;
end;
thus L272: ( R11 -Seg R1 ) c= ( R11 -Seg R2 ) by L265 , TARSKI:def 3;
end;
thus L273: thesis by L263 , L248 , L250 , L253 , L29 , XBOOLE_0:def 9;
end;
thus L274: thesis by L251;
end;
L275:
now
assume L276: (( R11 -Seg R1 ) = ( {} ) or ( R11 -Seg R2 ) = ( {} ));
L277: (( R11 -Seg R1 ) c= ( R11 -Seg R2 ) or ( R11 -Seg R2 ) c= ( R11 -Seg R1 )) by L276 , XBOOLE_1:2;
thus L278: thesis by L277 , XBOOLE_0:def 9;
end;
thus L279: thesis by L275 , L249 , L44;
end;
theorem
L280: (for R1 being set holds (for R2 being set holds (for R11 being Relation holds ((R11 is  well-ordering & R2 in ( R11 -Seg R1 )) implies ( ( R11 |_2 ( R11 -Seg R1 ) ) -Seg R2 ) = ( R11 -Seg R2 )))))
proof
let R1 being set;
let R2 being set;
let R11 being Relation;
assume that
L281: R11 is  well-ordering
and
L282: R2 in ( R11 -Seg R1 );
set D2 = ( R11 |_2 ( R11 -Seg R1 ) );
L283:
now
let R3 being set;
assume L284: R3 in ( R11 -Seg R2 );
L285: [ R3 , R2 ] in R11 by L284 , L33;
L286: [ R2 , R1 ] in R11 by L282 , L33;
L287: [ R3 , R1 ] in R11 by L286 , L281 , L285 , L4;
L288: R3 <> R2 by L284 , L33;
L289: R3 <> R1 by L288 , L281 , L285 , L286 , L17;
L290: R3 in ( R11 -Seg R1 ) by L289 , L287 , L33;
L291: [ R3 , R2 ] in [: ( R11 -Seg R1 ) , ( R11 -Seg R1 ) :] by L290 , L282 , ZFMISC_1:87;
L292: [ R3 , R2 ] in D2 by L291 , L285 , XBOOLE_0:def 4;
thus L293: R3 in ( D2 -Seg R2 ) by L292 , L288 , L33;
end;
L294: ( R11 -Seg R2 ) c= ( D2 -Seg R2 ) by L283 , TARSKI:def 3;
L295:
now
let R3 being set;
assume L296: R3 in ( D2 -Seg R2 );
L297: [ R3 , R2 ] in D2 by L296 , L33;
L298: [ R3 , R2 ] in R11 by L297 , XBOOLE_0:def 4;
L299: R3 <> R2 by L296 , L33;
thus L300: R3 in ( R11 -Seg R2 ) by L299 , L298 , L33;
end;
L301: ( D2 -Seg R2 ) c= ( R11 -Seg R2 ) by L295 , TARSKI:def 3;
thus L302: thesis by L301 , L294 , XBOOLE_0:def 10;
end;
theorem
L303: (for R9 being set holds (for R11 being Relation holds ((R11 is  well-ordering & R9 c= ( field R11 )) implies ((R9 = ( field R11 ) or (ex R1 being set st (R1 in ( field R11 ) & R9 = ( R11 -Seg R1 )))) iff (for R1 being set holds (R1 in R9 implies (for R2 being set holds ([ R2 , R1 ] in R11 implies R2 in R9))))))))
proof
let R9 being set;
let R11 being Relation;
assume that
L304: R11 is  well-ordering
and
L305: R9 c= ( field R11 );
L306:
now
given R1 being set such that
L307: R1 in ( field R11 )
and
L308: R9 = ( R11 -Seg R1 );

let R2 being set;
assume that
L309: R2 in R9;
L310: [ R2 , R1 ] in R11 by L308 , L309 , L33;
let R3 being set;
assume that
L311: [ R3 , R2 ] in R11;
L312: [ R3 , R1 ] in R11 by L304 , L311 , L310 , L4;
L313: R2 <> R1 by L308 , L309 , L33;
L314: R3 <> R1 by L313 , L304 , L311 , L310 , L17;
thus L315: R3 in R9 by L314 , L308 , L312 , L33;
end;
thus L316: ((R9 = ( field R11 ) or (ex R1 being set st (R1 in ( field R11 ) & R9 = ( R11 -Seg R1 )))) implies (for R1 being set holds (R1 in R9 implies (for R2 being set holds ([ R2 , R1 ] in R11 implies R2 in R9))))) by L306 , RELAT_1:15;
assume L317: (for R1 being set holds (R1 in R9 implies (for R2 being set holds ([ R2 , R1 ] in R11 implies R2 in R9))));
assume L318: R9 <> ( field R11 );
L319: (ex R4 being set st (not (R4 in ( field R11 ) iff R4 in R9))) by L318 , TARSKI:1;
L320: ( ( field R11 ) \ R9 ) <> ( {} ) by L319 , L305 , XBOOLE_0:def 5;
consider R1 being set such that L321: R1 in ( ( field R11 ) \ R9 ) and L322: (for R2 being set holds (R2 in ( ( field R11 ) \ R9 ) implies [ R1 , R2 ] in R11)) by L320 , L304 , L83;
L323:
now
let R2 being set;
assume L324: R2 in ( R11 -Seg R1 );
L325: [ R2 , R1 ] in R11 by L324 , L33;
assume L326: (not R2 in R9);
L327: R2 in ( field R11 ) by L325 , RELAT_1:15;
L328: R2 in ( ( field R11 ) \ R9 ) by L327 , L326 , XBOOLE_0:def 5;
L329: [ R1 , R2 ] in R11 by L328 , L322;
L330: R2 <> R1 by L324 , L33;
thus L331: contradiction by L330 , L304 , L325 , L329 , L17;
end;
take R1;
thus L332: R1 in ( field R11 ) by L321;
L333:
now
L334: (not R1 in R9) by L321 , XBOOLE_0:def 5;
let R2 being set;
assume L335: R2 in R9;
assume L336: (not R2 in ( R11 -Seg R1 ));
L337: ((not [ R2 , R1 ] in R11) or R1 = R2) by L336 , L33;
L338: R1 <> R2 by L321 , L335 , XBOOLE_0:def 5;
L339: [ R1 , R2 ] in R11 by L338 , L305 , L304 , L321 , L335 , L337 , L29;
thus L340: contradiction by L339 , L317 , L335 , L334;
end;
thus L341: R9 = ( R11 -Seg R1 ) by L333 , L323 , TARSKI:1;
end;
theorem
L342: (for R1 being set holds (for R2 being set holds (for R11 being Relation holds ((R11 is  well-ordering & R1 in ( field R11 ) & R2 in ( field R11 )) implies ([ R1 , R2 ] in R11 iff ( R11 -Seg R1 ) c= ( R11 -Seg R2 ))))))
proof
let R1 being set;
let R2 being set;
let R11 being Relation;
assume that
L343: R11 is  well-ordering
and
L344: R1 in ( field R11 )
and
L345: R2 in ( field R11 );
thus L346: ([ R1 , R2 ] in R11 implies ( R11 -Seg R1 ) c= ( R11 -Seg R2 ))
proof
assume L347: [ R1 , R2 ] in R11;
let R3 being set;
assume L348: R3 in ( R11 -Seg R1 );
L349: [ R3 , R1 ] in R11 by L348 , L33;
L350: [ R3 , R2 ] in R11 by L349 , L343 , L347 , L4;
L351: R3 <> R1 by L348 , L33;
L352: R3 <> R2 by L351 , L343 , L347 , L349 , L17;
thus L353: thesis by L352 , L350 , L33;
end;

assume L354: ( R11 -Seg R1 ) c= ( R11 -Seg R2 );
L355:
now
assume L356: R1 <> R2;
assume L357: (not [ R1 , R2 ] in R11);
L358: [ R2 , R1 ] in R11 by L357 , L344 , L345 , L343 , L356 , L29;
L359: R2 in ( R11 -Seg R1 ) by L358 , L356 , L33;
thus L360: contradiction by L359 , L354 , L33;
end;
thus L361: thesis by L355 , L343 , L344 , L1;
end;
theorem
L362: (for R1 being set holds (for R2 being set holds (for R11 being Relation holds ((R11 is  well-ordering & R1 in ( field R11 ) & R2 in ( field R11 )) implies (( R11 -Seg R1 ) c= ( R11 -Seg R2 ) iff (R1 = R2 or R1 in ( R11 -Seg R2 )))))))
proof
let R1 being set;
let R2 being set;
let R11 being Relation;
assume L363: (R11 is  well-ordering & R1 in ( field R11 ) & R2 in ( field R11 ));
thus L364: (( R11 -Seg R1 ) c= ( R11 -Seg R2 ) implies (R1 = R2 or R1 in ( R11 -Seg R2 )))
proof
assume L365: ( R11 -Seg R1 ) c= ( R11 -Seg R2 );
L366: [ R1 , R2 ] in R11 by L365 , L363 , L342;
thus L367: thesis by L366 , L33;
end;

L368:
now
assume L369: R1 in ( R11 -Seg R2 );
L370: [ R1 , R2 ] in R11 by L369 , L33;
thus L371: ( R11 -Seg R1 ) c= ( R11 -Seg R2 ) by L370 , L363 , L342;
end;
thus L372: thesis by L368;
end;
theorem
L373: (for R8 being set holds (for R11 being Relation holds ((R11 is  well-ordering & R8 c= ( field R11 )) implies ( field ( R11 |_2 R8 ) ) = R8)))
proof
let R8 being set;
let R11 being Relation;
assume that
L374: R11 is  well-ordering
and
L375: R8 c= ( field R11 );
thus L376: ( field ( R11 |_2 R8 ) ) c= R8 by L152;
let R5 being set;
assume L377: R5 in R8;
L378: [ R5 , R5 ] in [: R8 , R8 :] by L377 , ZFMISC_1:87;
L379: [ R5 , R5 ] in R11 by L374 , L375 , L377 , L1;
L380: [ R5 , R5 ] in ( R11 |_2 R8 ) by L379 , L378 , XBOOLE_0:def 4;
thus L381: thesis by L380 , RELAT_1:15;
end;
theorem
L382: (for R1 being set holds (for R11 being Relation holds (R11 is  well-ordering implies ( field ( R11 |_2 ( R11 -Seg R1 ) ) ) = ( R11 -Seg R1 ))))
proof
let R1 being set;
let R11 being Relation;
L383: ( R11 -Seg R1 ) c= ( field R11 ) by L116;
thus L384: thesis by L383 , L373;
end;
theorem
L385: (for R11 being Relation holds (R11 is  well-ordering implies (for R10 being set holds ((for R1 being set holds ((R1 in ( field R11 ) & ( R11 -Seg R1 ) c= R10) implies R1 in R10)) implies ( field R11 ) c= R10))))
proof
let R11 being Relation;
assume L386: R11 is  well-ordering;
let R10 being set;
assume that
L387: (for R1 being set holds ((R1 in ( field R11 ) & ( R11 -Seg R1 ) c= R10) implies R1 in R10));
L388:
now
let R1 being set;
assume that
L389: R1 in ( field R11 )
and
L390: (for R2 being set holds (([ R2 , R1 ] in R11 & R1 <> R2) implies R2 in R10));
L391:
now
let R2 being set;
assume L392: R2 in ( R11 -Seg R1 );
L393: ([ R2 , R1 ] in R11 & R2 <> R1) by L392 , L33;
thus L394: R2 in R10 by L393 , L390;
end;
L395: ( R11 -Seg R1 ) c= R10 by L391 , TARSKI:def 3;
thus L396: R1 in R10 by L395 , L387 , L389;
end;
given R1 being set such that
L397: (R1 in ( field R11 ) & (not R1 in R10));

L398: ( ( field R11 ) \ R10 ) <> ( {} ) by L397 , XBOOLE_0:def 5;
consider R1 being set such that L399: R1 in ( ( field R11 ) \ R10 ) and L400: (for R2 being set holds (R2 in ( ( field R11 ) \ R10 ) implies [ R1 , R2 ] in R11)) by L398 , L386 , L83;
L401: (not R1 in R10) by L399 , XBOOLE_0:def 5;
consider R2 being set such that L402: [ R2 , R1 ] in R11 and L403: R2 <> R1 and L404: (not R2 in R10) by L401 , L388 , L399;
L405: R2 in ( field R11 ) by L402 , RELAT_1:15;
L406: R2 in ( ( field R11 ) \ R10 ) by L405 , L404 , XBOOLE_0:def 5;
L407: [ R1 , R2 ] in R11 by L406 , L400;
thus L408: contradiction by L407 , L386 , L402 , L403 , L17;
end;
theorem
L409: (for R1 being set holds (for R2 being set holds (for R11 being Relation holds ((R11 is  well-ordering & R1 in ( field R11 ) & R2 in ( field R11 ) & (for R3 being set holds (R3 in ( R11 -Seg R1 ) implies ([ R3 , R2 ] in R11 & R3 <> R2)))) implies [ R1 , R2 ] in R11))))
proof
let R1 being set;
let R2 being set;
let R11 being Relation;
assume that
L410: (R11 is  well-ordering & R1 in ( field R11 ) & R2 in ( field R11 ))
and
L411: (for R3 being set holds (R3 in ( R11 -Seg R1 ) implies ([ R3 , R2 ] in R11 & R3 <> R2)));
assume L412: (not [ R1 , R2 ] in R11);
L413: R1 <> R2 by L410 , L412 , L1;
L414: [ R2 , R1 ] in R11 by L413 , L410 , L412 , L29;
L415: R2 in ( R11 -Seg R1 ) by L414 , L412 , L33;
thus L416: contradiction by L415 , L411;
end;
theorem
L417: (for R11 being Relation holds (for R14 being Function holds ((R11 is  well-ordering & ( dom R14 ) = ( field R11 ) & ( rng R14 ) c= ( field R11 ) & (for R1 being set holds (for R2 being set holds (([ R1 , R2 ] in R11 & R1 <> R2) implies ([ ( R14 . R1 ) , ( R14 . R2 ) ] in R11 & ( R14 . R1 ) <> ( R14 . R2 )))))) implies (for R1 being set holds (R1 in ( field R11 ) implies [ R1 , ( R14 . R1 ) ] in R11)))))
proof
let R11 being Relation;
let R14 being Function;
assume that
L418: (R11 is  well-ordering & ( dom R14 ) = ( field R11 ) & ( rng R14 ) c= ( field R11 ))
and
L419: (for R1 being set holds (for R2 being set holds (([ R1 , R2 ] in R11 & R1 <> R2) implies ([ ( R14 . R1 ) , ( R14 . R2 ) ] in R11 & ( R14 . R1 ) <> ( R14 . R2 )))));
defpred S2[ set ] means [ $1 , ( R14 . $1 ) ] in R11;
consider R10 being set such that L420: (for R1 being set holds (R1 in R10 iff (R1 in ( field R11 ) & S2[ R1 ]))) from XBOOLE_0:sch 1;
L421:
now
let R1 being set;
assume L422: R1 in ( field R11 );
assume L423: ( R11 -Seg R1 ) c= R10;
L424:
now
let R2 being set;
assume L425: R2 in ( R11 -Seg R1 );
L426: [ R2 , ( R14 . R2 ) ] in R11 by L425 , L420 , L423;
L427: ([ R2 , R1 ] in R11 & R2 <> R1) by L425 , L33;
L428: [ ( R14 . R2 ) , ( R14 . R1 ) ] in R11 by L427 , L419;
thus L429: [ R2 , ( R14 . R1 ) ] in R11 by L428 , L418 , L426 , L4;
L430: ( R14 . R2 ) <> ( R14 . R1 ) by L419 , L427;
thus L431: R2 <> ( R14 . R1 ) by L430 , L418 , L426 , L428 , L17;
end;
L432: ( R14 . R1 ) in ( rng R14 ) by L418 , L422 , FUNCT_1:def 3;
L433: [ R1 , ( R14 . R1 ) ] in R11 by L432 , L418 , L422 , L424 , L409;
thus L434: R1 in R10 by L433 , L420 , L422;
end;
L435: ( field R11 ) c= R10 by L421 , L418 , L385;
let R1 being set;
assume L436: R1 in ( field R11 );
thus L437: thesis by L436 , L420 , L435;
end;
definition
let R11 being Relation;
let R12 being Relation;
let R14 being Function;
pred R14 is_isomorphism_of R11 , R12
means
:L438: (( dom R14 ) = ( field R11 ) & ( rng R14 ) = ( field R12 ) & R14 is  one-to-one & (for R1 being set holds (for R2 being set holds ([ R1 , R2 ] in R11 iff (R1 in ( field R11 ) & R2 in ( field R11 ) & [ ( R14 . R1 ) , ( R14 . R2 ) ] in R12)))))
;end;
theorem
L440: (for R11 being Relation holds (for R12 being Relation holds (for R14 being Function holds (R14 is_isomorphism_of R11 , R12 implies (for R1 being set holds (for R2 being set holds (([ R1 , R2 ] in R11 & R1 <> R2) implies ([ ( R14 . R1 ) , ( R14 . R2 ) ] in R12 & ( R14 . R1 ) <> ( R14 . R2 )))))))))
proof
let R11 being Relation;
let R12 being Relation;
let R14 being Function;
assume L441: R14 is_isomorphism_of R11 , R12;
L442: (( dom R14 ) = ( field R11 ) & R14 is  one-to-one) by L441 , L438;
let R1 being set;
let R2 being set;
assume that
L443: [ R1 , R2 ] in R11
and
L444: R1 <> R2;
L445: (R1 in ( field R11 ) & R2 in ( field R11 )) by L441 , L443 , L438;
thus L446: thesis by L445 , L441 , L442 , L443 , L444 , L438 , FUNCT_1:def 4;
end;
definition
let R11 being Relation;
let R12 being Relation;
pred R11 , R12 are_isomorphic 
means
:L447: (ex R14 being Function st R14 is_isomorphism_of R11 , R12)
;end;
theorem
L449: (for R11 being Relation holds ( id ( field R11 ) ) is_isomorphism_of R11 , R11)
proof
let R11 being Relation;
L450:
now
let R1 being set;
let R2 being set;
thus L451: ([ R1 , R2 ] in R11 implies (R1 in ( field R11 ) & R2 in ( field R11 ) & [ ( ( id ( field R11 ) ) . R1 ) , ( ( id ( field R11 ) ) . R2 ) ] in R11))
proof
assume L452: [ R1 , R2 ] in R11;
thus L453: (R1 in ( field R11 ) & R2 in ( field R11 )) by L452 , RELAT_1:15;
L454: ( ( id ( field R11 ) ) . R1 ) = R1 by L453 , FUNCT_1:18;
thus L455: thesis by L454 , L452 , L453 , FUNCT_1:18;
end;

assume that
L456: R1 in ( field R11 )
and
L457: (R2 in ( field R11 ) & [ ( ( id ( field R11 ) ) . R1 ) , ( ( id ( field R11 ) ) . R2 ) ] in R11);
L458: ( ( id ( field R11 ) ) . R1 ) = R1 by L456 , FUNCT_1:18;
thus L459: [ R1 , R2 ] in R11 by L458 , L457 , FUNCT_1:18;
end;
L460: (( dom ( id ( field R11 ) ) ) = ( field R11 ) & ( rng ( id ( field R11 ) ) ) = ( field R11 ));
thus L461: thesis by L460 , L450 , L438;
end;
theorem
L462: (for R11 being Relation holds R11 , R11 are_isomorphic )
proof
let R11 being Relation;
take ( id ( field R11 ) );
thus L463: thesis by L449;
end;
theorem
L464: (for R11 being Relation holds (for R12 being Relation holds (for R14 being Function holds (R14 is_isomorphism_of R11 , R12 implies ( R14 " ) is_isomorphism_of R12 , R11))))
proof
let R11 being Relation;
let R12 being Relation;
let R14 being Function;
assume L465: R14 is_isomorphism_of R11 , R12;
L466: R14 is  one-to-one by L465 , L438;
L467: ( rng R14 ) = ( field R12 ) by L465 , L438;
thus L468: ( dom ( R14 " ) ) = ( field R12 ) by L467 , L466 , FUNCT_1:33;
L469: ( dom R14 ) = ( field R11 ) by L465 , L438;
thus L470: ( rng ( R14 " ) ) = ( field R11 ) by L469 , L466 , FUNCT_1:33;
thus L471: ( R14 " ) is  one-to-one by L466;
let R1 being set;
let R2 being set;
thus L472: ([ R1 , R2 ] in R12 implies (R1 in ( field R12 ) & R2 in ( field R12 ) & [ ( ( R14 " ) . R1 ) , ( ( R14 " ) . R2 ) ] in R11))
proof
L473: ( dom R14 ) = ( rng ( R14 " ) ) by L466 , FUNCT_1:33;
assume L474: [ R1 , R2 ] in R12;
thus L475: (R1 in ( field R12 ) & R2 in ( field R12 )) by L474 , RELAT_1:15;
L476: (( ( R14 " ) . R1 ) in ( rng ( R14 " ) ) & ( ( R14 " ) . R2 ) in ( rng ( R14 " ) )) by L475 , L468 , FUNCT_1:def 3;
L477: (R1 = ( R14 . ( ( R14 " ) . R1 ) ) & R2 = ( R14 . ( ( R14 " ) . R2 ) )) by L467 , L466 , L475 , FUNCT_1:35;
thus L478: thesis by L477 , L465 , L469 , L474 , L473 , L476 , L438;
end;

assume that
L479: (R1 in ( field R12 ) & R2 in ( field R12 ))
and
L480: [ ( ( R14 " ) . R1 ) , ( ( R14 " ) . R2 ) ] in R11;
L481: (( R14 . ( ( R14 " ) . R1 ) ) = R1 & ( R14 . ( ( R14 " ) . R2 ) ) = R2) by L467 , L466 , L479 , FUNCT_1:35;
thus L482: thesis by L481 , L465 , L480 , L438;
end;
theorem
L483: (for R11 being Relation holds (for R12 being Relation holds (R11 , R12 are_isomorphic  implies R12 , R11 are_isomorphic )))
proof
let R11 being Relation;
let R12 being Relation;
given R14 being Function such that
L484: R14 is_isomorphism_of R11 , R12;

take ( R14 " );
thus L485: thesis by L484 , L464;
end;
theorem
L486: (for R11 being Relation holds (for R12 being Relation holds (for R13 being Relation holds (for R14 being Function holds (for R15 being Function holds ((R14 is_isomorphism_of R11 , R12 & R15 is_isomorphism_of R12 , R13) implies ( R15 * R14 ) is_isomorphism_of R11 , R13))))))
proof
let R11 being Relation;
let R12 being Relation;
let R13 being Relation;
let R14 being Function;
let R15 being Function;
assume that
L487: ( dom R14 ) = ( field R11 )
and
L488: ( rng R14 ) = ( field R12 )
and
L489: R14 is  one-to-one
and
L490: (for R1 being set holds (for R2 being set holds ([ R1 , R2 ] in R11 iff (R1 in ( field R11 ) & R2 in ( field R11 ) & [ ( R14 . R1 ) , ( R14 . R2 ) ] in R12))));
assume that
L491: ( dom R15 ) = ( field R12 )
and
L492: ( rng R15 ) = ( field R13 )
and
L493: R15 is  one-to-one
and
L494: (for R1 being set holds (for R2 being set holds ([ R1 , R2 ] in R12 iff (R1 in ( field R12 ) & R2 in ( field R12 ) & [ ( R15 . R1 ) , ( R15 . R2 ) ] in R13))));
thus L495: ( dom ( R15 * R14 ) ) = ( field R11 ) by L487 , L488 , L491 , RELAT_1:27;
thus L496: ( rng ( R15 * R14 ) ) = ( field R13 ) by L488 , L491 , L492 , RELAT_1:28;
thus L497: ( R15 * R14 ) is  one-to-one by L489 , L493;
let R1 being set;
let R2 being set;
thus L498: ([ R1 , R2 ] in R11 implies (R1 in ( field R11 ) & R2 in ( field R11 ) & [ ( ( R15 * R14 ) . R1 ) , ( ( R15 * R14 ) . R2 ) ] in R13))
proof
assume L499: [ R1 , R2 ] in R11;
thus L500: (R1 in ( field R11 ) & R2 in ( field R11 )) by L499 , RELAT_1:15;
L501: (( ( R15 * R14 ) . R1 ) = ( R15 . ( R14 . R1 ) ) & ( ( R15 * R14 ) . R2 ) = ( R15 . ( R14 . R2 ) )) by L500 , L487 , FUNCT_1:13;
L502: [ ( R14 . R1 ) , ( R14 . R2 ) ] in R12 by L490 , L499;
thus L503: thesis by L502 , L494 , L501;
end;

assume that
L504: (R1 in ( field R11 ) & R2 in ( field R11 ))
and
L505: [ ( ( R15 * R14 ) . R1 ) , ( ( R15 * R14 ) . R2 ) ] in R13;
L506: (( ( R15 * R14 ) . R1 ) = ( R15 . ( R14 . R1 ) ) & ( ( R15 * R14 ) . R2 ) = ( R15 . ( R14 . R2 ) )) by L487 , L504 , FUNCT_1:13;
L507: (( R14 . R1 ) in ( field R12 ) & ( R14 . R2 ) in ( field R12 )) by L487 , L488 , L504 , FUNCT_1:def 3;
L508: [ ( R14 . R1 ) , ( R14 . R2 ) ] in R12 by L507 , L494 , L505 , L506;
thus L509: thesis by L508 , L490 , L504;
end;
theorem
L510: (for R11 being Relation holds (for R12 being Relation holds (for R13 being Relation holds ((R11 , R12 are_isomorphic  & R12 , R13 are_isomorphic ) implies R11 , R13 are_isomorphic ))))
proof
let R11 being Relation;
let R12 being Relation;
let R13 being Relation;
given R14 being Function such that
L511: R14 is_isomorphism_of R11 , R12;

given R15 being Function such that
L512: R15 is_isomorphism_of R12 , R13;

take ( R15 * R14 );
thus L513: thesis by L511 , L512 , L486;
end;
theorem
L514: (for R11 being Relation holds (for R12 being Relation holds (for R14 being Function holds (R14 is_isomorphism_of R11 , R12 implies ((R11 is  reflexive implies R12 is  reflexive) & (R11 is  transitive implies R12 is  transitive) & (R11 is  connected implies R12 is  connected) & (R11 is  antisymmetric implies R12 is  antisymmetric) & (R11 is  well_founded implies R12 is  well_founded))))))
proof
let R11 being Relation;
let R12 being Relation;
let R14 being Function;
assume L515: R14 is_isomorphism_of R11 , R12;
L516: ( dom R14 ) = ( field R11 ) by L515 , L438;
L517: ( rng R14 ) = ( field R12 ) by L515 , L438;
L518: R14 is  one-to-one by L515 , L438;
L519: (( rng ( R14 " ) ) = ( dom R14 ) & ( dom ( R14 " ) ) = ( rng R14 )) by L518 , FUNCT_1:33;
thus L520: (R11 is  reflexive implies R12 is  reflexive)
proof
assume L521: R11 is  reflexive;
L522:
now
let R1 being set;
assume L523: R1 in ( field R12 );
L524: ( ( R14 " ) . R1 ) in ( field R11 ) by L523 , L516 , L517 , L519 , FUNCT_1:def 3;
L525: [ ( ( R14 " ) . R1 ) , ( ( R14 " ) . R1 ) ] in R11 by L524 , L521 , L1;
L526: R1 = ( R14 . ( ( R14 " ) . R1 ) ) by L517 , L518 , L523 , FUNCT_1:35;
thus L527: [ R1 , R1 ] in R12 by L526 , L515 , L525 , L438;
end;
thus L528: thesis by L522 , L1;
end;

thus L529: (R11 is  transitive implies R12 is  transitive)
proof
assume L530: R11 is  transitive;
L531:
now
let R1 being set;
let R2 being set;
let R3 being set;
assume that
L532: [ R1 , R2 ] in R12
and
L533: [ R2 , R3 ] in R12;
L534: R3 in ( field R12 ) by L533 , RELAT_1:15;
L535: R3 = ( R14 . ( ( R14 " ) . R3 ) ) by L534 , L517 , L518 , FUNCT_1:35;
L536: R2 in ( field R12 ) by L532 , RELAT_1:15;
L537: (R2 = ( R14 . ( ( R14 " ) . R2 ) ) & ( ( R14 " ) . R2 ) in ( field R11 )) by L536 , L516 , L517 , L518 , L519 , FUNCT_1:35 , FUNCT_1:def 3;
L538: ( ( R14 " ) . R3 ) in ( field R11 ) by L516 , L517 , L519 , L534 , FUNCT_1:def 3;
L539: [ ( ( R14 " ) . R2 ) , ( ( R14 " ) . R3 ) ] in R11 by L538 , L515 , L533 , L535 , L537 , L438;
L540: R1 in ( field R12 ) by L532 , RELAT_1:15;
L541: R1 = ( R14 . ( ( R14 " ) . R1 ) ) by L540 , L517 , L518 , FUNCT_1:35;
L542: ( ( R14 " ) . R1 ) in ( field R11 ) by L516 , L517 , L519 , L540 , FUNCT_1:def 3;
L543: [ ( ( R14 " ) . R1 ) , ( ( R14 " ) . R2 ) ] in R11 by L542 , L515 , L532 , L541 , L537 , L438;
L544: [ ( ( R14 " ) . R1 ) , ( ( R14 " ) . R3 ) ] in R11 by L543 , L530 , L539 , L4;
thus L545: [ R1 , R3 ] in R12 by L544 , L515 , L541 , L535 , L438;
end;
thus L546: thesis by L531 , L4;
end;

thus L547: (R11 is  connected implies R12 is  connected)
proof
assume L548: R11 is  connected;
L549:
now
let R1 being set;
let R2 being set;
assume that
L550: (R1 in ( field R12 ) & R2 in ( field R12 ))
and
L551: R1 <> R2;
L552: (R1 = ( R14 . ( ( R14 " ) . R1 ) ) & R2 = ( R14 . ( ( R14 " ) . R2 ) )) by L517 , L518 , L550 , FUNCT_1:35;
L553: (( ( R14 " ) . R1 ) in ( field R11 ) & ( ( R14 " ) . R2 ) in ( field R11 )) by L516 , L517 , L519 , L550 , FUNCT_1:def 3;
L554: ([ ( ( R14 " ) . R1 ) , ( ( R14 " ) . R2 ) ] in R11 or [ ( ( R14 " ) . R2 ) , ( ( R14 " ) . R1 ) ] in R11) by L553 , L548 , L551 , L552 , L29;
thus L555: ([ R1 , R2 ] in R12 or [ R2 , R1 ] in R12) by L554 , L515 , L552 , L438;
end;
thus L556: thesis by L549 , L29;
end;

thus L557: (R11 is  antisymmetric implies R12 is  antisymmetric)
proof
assume L558: R11 is  antisymmetric;
L559:
now
let R1 being set;
let R2 being set;
assume that
L560: [ R1 , R2 ] in R12
and
L561: [ R2 , R1 ] in R12;
L562: R1 in ( field R12 ) by L560 , RELAT_1:15;
L563: R1 = ( R14 . ( ( R14 " ) . R1 ) ) by L562 , L517 , L518 , FUNCT_1:35;
L564: R2 in ( field R12 ) by L560 , RELAT_1:15;
L565: R2 = ( R14 . ( ( R14 " ) . R2 ) ) by L564 , L517 , L518 , FUNCT_1:35;
L566: ( ( R14 " ) . R2 ) in ( field R11 ) by L516 , L517 , L519 , L564 , FUNCT_1:def 3;
L567: ( ( R14 " ) . R1 ) in ( field R11 ) by L516 , L517 , L519 , L562 , FUNCT_1:def 3;
L568: ([ ( ( R14 " ) . R1 ) , ( ( R14 " ) . R2 ) ] in R11 & [ ( ( R14 " ) . R2 ) , ( ( R14 " ) . R1 ) ] in R11) by L567 , L515 , L560 , L561 , L563 , L565 , L566 , L438;
thus L569: R1 = R2 by L568 , L558 , L563 , L565 , L17;
end;
thus L570: thesis by L559 , L17;
end;

assume L571: (for R9 being set holds ((R9 c= ( field R11 ) & R9 <> ( {} )) implies (ex R5 being set st (R5 in R9 & ( R11 -Seg R5 ) misses R9))));
let R10 being set;
assume that
L572: R10 c= ( field R12 )
and
L573: R10 <> ( {} );
L574: ( R14 " R10 ) c= ( dom R14 ) by RELAT_1:132;
consider R5 being set such that L575: R5 in ( R14 " R10 ) and L576: ( R11 -Seg R5 ) misses ( R14 " R10 ) by L574 , L516 , L517 , L571 , L572 , L573 , RELAT_1:139;
take ( R14 . R5 );
thus L577: ( R14 . R5 ) in R10 by L575 , FUNCT_1:def 7;
assume L578: (not thesis);
consider C1 being set such that L579: C1 in ( R12 -Seg ( R14 . R5 ) ) and L580: C1 in R10 by L578 , XBOOLE_0:3;
L581: ( ( R14 " ) . C1 ) in ( dom R14 ) by L517 , L519 , L572 , L580 , FUNCT_1:def 3;
L582: [ C1 , ( R14 . R5 ) ] in R12 by L579 , L33;
L583: C1 = ( R14 . ( ( R14 " ) . C1 ) ) by L517 , L518 , L572 , L580 , FUNCT_1:35;
L584: ( ( R14 " ) . C1 ) in ( R14 " R10 ) by L583 , L580 , L581 , FUNCT_1:def 7;
L585: (not ( ( R14 " ) . C1 ) in ( R11 -Seg R5 )) by L584 , L576 , XBOOLE_0:3;
L586: ((not [ ( ( R14 " ) . C1 ) , R5 ] in R11) or ( ( R14 " ) . C1 ) = R5) by L585 , L33;
thus L587: contradiction by L586 , L515 , L516 , L574 , L575 , L579 , L583 , L581 , L582 , L33 , L438;
end;
theorem
L588: (for R11 being Relation holds (for R12 being Relation holds (for R14 being Function holds ((R11 is  well-ordering & R14 is_isomorphism_of R11 , R12) implies R12 is  well-ordering))))
proof
let R11 being Relation;
let R12 being Relation;
let R14 being Function;
assume L589: (R11 is  reflexive  transitive  antisymmetric  connected  well_founded & R14 is_isomorphism_of R11 , R12);
thus L590: R12 is  reflexive  transitive  antisymmetric  connected  well_founded by L589 , L514;
end;
theorem
L591: (for R11 being Relation holds (for R12 being Relation holds (R11 is  well-ordering implies (for R14 being Function holds (for R15 being Function holds ((R14 is_isomorphism_of R11 , R12 & R15 is_isomorphism_of R11 , R12) implies R14 = R15))))))
proof
let R11 being Relation;
let R12 being Relation;
assume L592: R11 is  well-ordering;
let R14 being Function;
let R15 being Function;
assume that
L593: R14 is_isomorphism_of R11 , R12
and
L594: R15 is_isomorphism_of R11 , R12;
L595: ( dom R14 ) = ( field R11 ) by L593 , L438;
L596: R12 is  well-ordering by L592 , L593 , L588;
L597: ( rng R14 ) = ( field R12 ) by L593 , L438;
L598: R15 is  one-to-one by L594 , L438;
L599: ( dom R15 ) = ( field R11 ) by L594 , L438;
L600: ( R15 " ) is_isomorphism_of R12 , R11 by L594 , L464;
L601: ( R15 " ) is  one-to-one by L600 , L438;
L602: R14 is  one-to-one by L593 , L438;
L603: ( rng R15 ) = ( field R12 ) by L594 , L438;
L604: ( R14 " ) is_isomorphism_of R12 , R11 by L593 , L464;
L605: ( R14 " ) is  one-to-one by L604 , L438;
L606: (for R1 being set holds (R1 in ( field R11 ) implies ( R14 . R1 ) = ( R15 . R1 )))
proof
L607: ( dom ( R14 " ) ) = ( field R12 ) by L597 , L602 , FUNCT_1:33;
L608: ( dom ( ( R14 " ) * R15 ) ) = ( field R11 ) by L607 , L599 , L603 , RELAT_1:27;
L609:
now
let R1 being set;
let R2 being set;
assume that
L610: [ R1 , R2 ] in R11
and
L611: R1 <> R2;
L612: [ ( R15 . R1 ) , ( R15 . R2 ) ] in R12 by L594 , L610 , L438;
L613: R2 in ( field R11 ) by L610 , RELAT_1:15;
L614: ( ( R14 " ) . ( R15 . R2 ) ) = ( ( ( R14 " ) * R15 ) . R2 ) by L613 , L599 , FUNCT_1:13;
L615: R1 in ( field R11 ) by L610 , RELAT_1:15;
L616: ( ( R14 " ) . ( R15 . R1 ) ) = ( ( ( R14 " ) * R15 ) . R1 ) by L615 , L599 , FUNCT_1:13;
thus L617: [ ( ( ( R14 " ) * R15 ) . R1 ) , ( ( ( R14 " ) * R15 ) . R2 ) ] in R11 by L616 , L604 , L612 , L614 , L438;
thus L618: ( ( ( R14 " ) * R15 ) . R1 ) <> ( ( ( R14 " ) * R15 ) . R2 ) by L605 , L598 , L608 , L611 , L615 , L613 , FUNCT_1:def 4;
end;
L619: ( dom ( R15 " ) ) = ( field R12 ) by L603 , L598 , FUNCT_1:33;
L620: ( dom ( ( R15 " ) * R14 ) ) = ( field R11 ) by L619 , L595 , L597 , RELAT_1:27;
L621:
now
let R1 being set;
let R2 being set;
assume that
L622: [ R1 , R2 ] in R11
and
L623: R1 <> R2;
L624: [ ( R14 . R1 ) , ( R14 . R2 ) ] in R12 by L593 , L622 , L438;
L625: R2 in ( field R11 ) by L622 , RELAT_1:15;
L626: ( ( R15 " ) . ( R14 . R2 ) ) = ( ( ( R15 " ) * R14 ) . R2 ) by L625 , L595 , FUNCT_1:13;
L627: R1 in ( field R11 ) by L622 , RELAT_1:15;
L628: ( ( R15 " ) . ( R14 . R1 ) ) = ( ( ( R15 " ) * R14 ) . R1 ) by L627 , L595 , FUNCT_1:13;
thus L629: [ ( ( ( R15 " ) * R14 ) . R1 ) , ( ( ( R15 " ) * R14 ) . R2 ) ] in R11 by L628 , L600 , L624 , L626 , L438;
thus L630: ( ( ( R15 " ) * R14 ) . R1 ) <> ( ( ( R15 " ) * R14 ) . R2 ) by L602 , L601 , L620 , L623 , L627 , L625 , FUNCT_1:def 4;
end;
let R1 being set;
assume that
L631: R1 in ( field R11 );
L632: ( ( R14 " ) . ( R15 . R1 ) ) = ( ( ( R14 " ) * R15 ) . R1 ) by L599 , L631 , FUNCT_1:13;
L633: ( R15 . R1 ) in ( rng R14 ) by L597 , L599 , L603 , L631 , FUNCT_1:def 3;
L634: ( R14 . ( ( R14 " ) . ( R15 . R1 ) ) ) = ( R15 . R1 ) by L633 , L602 , FUNCT_1:35;
L635: ( rng ( R14 " ) ) = ( field R11 ) by L595 , L602 , FUNCT_1:33;
L636: ( rng ( ( R14 " ) * R15 ) ) = ( field R11 ) by L635 , L603 , L607 , RELAT_1:28;
L637: [ R1 , ( ( ( R14 " ) * R15 ) . R1 ) ] in R11 by L636 , L592 , L631 , L608 , L609 , L417;
L638: [ ( R14 . R1 ) , ( R15 . R1 ) ] in R12 by L637 , L593 , L632 , L634 , L438;
L639: ( R14 . R1 ) in ( rng R15 ) by L595 , L597 , L603 , L631 , FUNCT_1:def 3;
L640: ( R15 . ( ( R15 " ) . ( R14 . R1 ) ) ) = ( R14 . R1 ) by L639 , L598 , FUNCT_1:35;
L641: ( ( R15 " ) . ( R14 . R1 ) ) = ( ( ( R15 " ) * R14 ) . R1 ) by L595 , L631 , FUNCT_1:13;
L642: ( rng ( R15 " ) ) = ( field R11 ) by L599 , L598 , FUNCT_1:33;
L643: ( rng ( ( R15 " ) * R14 ) ) = ( field R11 ) by L642 , L597 , L619 , RELAT_1:28;
L644: [ R1 , ( ( ( R15 " ) * R14 ) . R1 ) ] in R11 by L643 , L592 , L631 , L620 , L621 , L417;
L645: [ ( R15 . R1 ) , ( R14 . R1 ) ] in R12 by L644 , L594 , L641 , L640 , L438;
thus L646: thesis by L645 , L596 , L638 , L17;
end;
thus L647: thesis by L606 , L595 , L599 , FUNCT_1:2;
end;
definition
let R11 being Relation;
let R12 being Relation;
assume that
L648: R11 is  well-ordering
and
L649: R11 , R12 are_isomorphic ;
func canonical_isomorphism_of (R11 , R12) -> Function means 
:L650: it is_isomorphism_of R11 , R12;
existence by L649 , L447;
uniqueness by L648 , L591;
end;
theorem
L652: (for R11 being Relation holds (R11 is  well-ordering implies (for R1 being set holds (R1 in ( field R11 ) implies (not R11 , ( R11 |_2 ( R11 -Seg R1 ) ) are_isomorphic )))))
proof
let R11 being Relation;
assume L653: R11 is  well-ordering;
let R1 being set;
assume that
L654: R1 in ( field R11 );
set D3 = ( R11 |_2 ( R11 -Seg R1 ) );
set D4 = ( canonical_isomorphism_of (R11 , D3) );
assume L655: R11 , ( R11 |_2 ( R11 -Seg R1 ) ) are_isomorphic ;
L656: D4 is_isomorphism_of R11 , D3 by L655 , L653 , L650;
L657: ( dom D4 ) = ( field R11 ) by L656 , L438;
L658: D4 is  one-to-one by L656 , L438;
L659:
now
let R2 being set;
let R3 being set;
assume that
L660: [ R2 , R3 ] in R11
and
L661: R2 <> R3;
L662: [ ( D4 . R2 ) , ( D4 . R3 ) ] in ( R11 |_2 ( R11 -Seg R1 ) ) by L656 , L660 , L438;
thus L663: [ ( D4 . R2 ) , ( D4 . R3 ) ] in R11 by L662 , XBOOLE_0:def 4;
L664: (R2 in ( field R11 ) & R3 in ( field R11 )) by L660 , RELAT_1:15;
thus L665: ( D4 . R2 ) <> ( D4 . R3 ) by L664 , L657 , L658 , L661 , FUNCT_1:def 4;
end;
L666: ( rng D4 ) = ( field D3 ) by L656 , L438;
L667: ( field D3 ) = ( R11 -Seg R1 ) by L653 , L382;
L668: ( D4 . R1 ) in ( R11 -Seg R1 ) by L667 , L654 , L657 , L666 , FUNCT_1:def 3;
L669: ([ ( D4 . R1 ) , R1 ] in R11 & ( D4 . R1 ) <> R1) by L668 , L33;
L670: ( rng D4 ) c= ( field R11 ) by L666 , L152;
L671: [ R1 , ( D4 . R1 ) ] in R11 by L670 , L653 , L654 , L657 , L659 , L417;
thus L672: contradiction by L671 , L653 , L669 , L17;
end;
theorem
L673: (for R1 being set holds (for R2 being set holds (for R11 being Relation holds ((R11 is  well-ordering & R1 in ( field R11 ) & R2 in ( field R11 ) & R1 <> R2) implies (not ( R11 |_2 ( R11 -Seg R1 ) ) , ( R11 |_2 ( R11 -Seg R2 ) ) are_isomorphic )))))
proof
let R1 being set;
let R2 being set;
let R11 being Relation;
assume that
L674: R11 is  well-ordering
and
L675: (R1 in ( field R11 ) & R2 in ( field R11 ))
and
L676: R1 <> R2;
L677:
now
set D5 = ( R11 |_2 ( R11 -Seg R1 ) );
assume L678: ( R11 -Seg R2 ) c= ( R11 -Seg R1 );
L679: ( D5 |_2 ( R11 -Seg R2 ) ) = ( R11 |_2 ( R11 -Seg R2 ) ) by L678 , L212;
L680: ( field D5 ) = ( R11 -Seg R1 ) by L674 , L382;
L681: R2 in ( R11 -Seg R1 )
proof
assume L682: (not R2 in ( R11 -Seg R1 ));
L683: (not [ R2 , R1 ] in R11) by L682 , L676 , L33;
L684: [ R1 , R2 ] in R11 by L683 , L675 , L676 , L674 , L29;
L685: R1 in ( R11 -Seg R2 ) by L684 , L676 , L33;
thus L686: contradiction by L685 , L678 , L33;
end;
L687: ( R11 -Seg R2 ) = ( D5 -Seg R2 ) by L681 , L674 , L280;
thus L688: thesis by L687 , L674 , L680 , L681 , L679 , L244 , L652;
end;
L689:
now
set D6 = ( R11 |_2 ( R11 -Seg R2 ) );
assume L690: ( R11 -Seg R1 ) c= ( R11 -Seg R2 );
L691: ( D6 |_2 ( R11 -Seg R1 ) ) = ( R11 |_2 ( R11 -Seg R1 ) ) by L690 , L212;
L692: (( field D6 ) = ( R11 -Seg R2 ) & D6 is  well-ordering) by L674 , L244 , L382;
L693: R1 in ( R11 -Seg R2 )
proof
assume L694: (not R1 in ( R11 -Seg R2 ));
L695: (not [ R1 , R2 ] in R11) by L694 , L676 , L33;
L696: [ R2 , R1 ] in R11 by L695 , L675 , L676 , L674 , L29;
L697: R2 in ( R11 -Seg R1 ) by L696 , L676 , L33;
thus L698: contradiction by L697 , L690 , L33;
end;
L699: ( R11 -Seg R1 ) = ( D6 -Seg R1 ) by L693 , L674 , L280;
thus L700: thesis by L699 , L693 , L691 , L692 , L483 , L652;
end;
L701: ( R11 -Seg R1 ) , ( R11 -Seg R2 ) are_c=-comparable  by L674 , L247;
thus L702: thesis by L701 , L689 , L677 , XBOOLE_0:def 9;
end;
theorem
L703: (for R10 being set holds (for R11 being Relation holds (for R12 being Relation holds (for R14 being Function holds ((R11 is  well-ordering & R10 c= ( field R11 ) & R14 is_isomorphism_of R11 , R12) implies (( R14 | R10 ) is_isomorphism_of ( R11 |_2 R10 ) , ( R12 |_2 ( R14 .: R10 ) ) & ( R11 |_2 R10 ) , ( R12 |_2 ( R14 .: R10 ) ) are_isomorphic ))))))
proof
let R10 being set;
let R11 being Relation;
let R12 being Relation;
let R14 being Function;
assume that
L704: R11 is  well-ordering
and
L705: R10 c= ( field R11 )
and
L706: R14 is_isomorphism_of R11 , R12;
L707: ( R14 .: R10 ) c= ( rng R14 ) by RELAT_1:111;
L708: ( rng R14 ) = ( field R12 ) by L706 , L438;
L709: ( R14 .: R10 ) = ( field ( R12 |_2 ( R14 .: R10 ) ) ) by L708 , L704 , L706 , L707 , L373 , L588;
L710: R14 is  one-to-one by L706 , L438;
L711: R10 = ( field ( R11 |_2 R10 ) ) by L704 , L705 , L373;
L712: ( dom R14 ) = ( field R11 ) by L706 , L438;
thus L713: ( R14 | R10 ) is_isomorphism_of ( R11 |_2 R10 ) , ( R12 |_2 ( R14 .: R10 ) )
proof
thus L714: ( dom ( R14 | R10 ) ) = ( field ( R11 |_2 R10 ) ) by L705 , L712 , L711 , RELAT_1:62;
thus L715: ( rng ( R14 | R10 ) ) = ( field ( R12 |_2 ( R14 .: R10 ) ) ) by L709 , RELAT_1:115;
thus L716: ( R14 | R10 ) is  one-to-one by L710 , FUNCT_1:52;
let R1 being set;
let R2 being set;
thus L717: ([ R1 , R2 ] in ( R11 |_2 R10 ) implies (R1 in ( field ( R11 |_2 R10 ) ) & R2 in ( field ( R11 |_2 R10 ) ) & [ ( ( R14 | R10 ) . R1 ) , ( ( R14 | R10 ) . R2 ) ] in ( R12 |_2 ( R14 .: R10 ) )))
proof
assume L718: [ R1 , R2 ] in ( R11 |_2 R10 );
L719: [ R1 , R2 ] in R11 by L718 , XBOOLE_0:def 4;
L720: [ ( R14 . R1 ) , ( R14 . R2 ) ] in R12 by L719 , L706 , L438;
thus L721: (R1 in ( field ( R11 |_2 R10 ) ) & R2 in ( field ( R11 |_2 R10 ) )) by L718 , RELAT_1:15;
L722: (( ( R14 | R10 ) . R1 ) in ( rng ( R14 | R10 ) ) & ( ( R14 | R10 ) . R2 ) in ( rng ( R14 | R10 ) )) by L721 , L714 , FUNCT_1:def 3;
L723: [ ( ( R14 | R10 ) . R1 ) , ( ( R14 | R10 ) . R2 ) ] in [: ( R14 .: R10 ) , ( R14 .: R10 ) :] by L722 , L709 , L715 , ZFMISC_1:87;
L724: (( R14 . R1 ) = ( ( R14 | R10 ) . R1 ) & ( R14 . R2 ) = ( ( R14 | R10 ) . R2 )) by L714 , L721 , FUNCT_1:47;
thus L725: thesis by L724 , L720 , L723 , XBOOLE_0:def 4;
end;

assume that
L726: (R1 in ( field ( R11 |_2 R10 ) ) & R2 in ( field ( R11 |_2 R10 ) ))
and
L727: [ ( ( R14 | R10 ) . R1 ) , ( ( R14 | R10 ) . R2 ) ] in ( R12 |_2 ( R14 .: R10 ) );
L728: (( R14 . R1 ) = ( ( R14 | R10 ) . R1 ) & ( R14 . R2 ) = ( ( R14 | R10 ) . R2 )) by L714 , L726 , FUNCT_1:47;
L729: [ ( R14 . R1 ) , ( R14 . R2 ) ] in R12 by L728 , L727 , XBOOLE_0:def 4;
L730: [ R1 , R2 ] in [: R10 , R10 :] by L711 , L726 , ZFMISC_1:87;
L731: (R1 in ( field R11 ) & R2 in ( field R11 )) by L726 , L144;
L732: [ R1 , R2 ] in R11 by L731 , L706 , L729 , L438;
thus L733: thesis by L732 , L730 , XBOOLE_0:def 4;
end;

thus L734: thesis by L713 , L447;
end;
theorem
L735: (for R11 being Relation holds (for R12 being Relation holds (for R14 being Function holds (R14 is_isomorphism_of R11 , R12 implies (for R1 being set holds (R1 in ( field R11 ) implies (ex R2 being set st (R2 in ( field R12 ) & ( R14 .: ( R11 -Seg R1 ) ) = ( R12 -Seg R2 )))))))))
proof
let R11 being Relation;
let R12 being Relation;
let R14 being Function;
assume L736: R14 is_isomorphism_of R11 , R12;
L737: ( dom R14 ) = ( field R11 ) by L736 , L438;
let R1 being set;
assume L738: R1 in ( field R11 );
take D7 = ( R14 . R1 );
L739: ( rng R14 ) = ( field R12 ) by L736 , L438;
thus L740: D7 in ( field R12 ) by L739 , L738 , L737 , FUNCT_1:def 3;
L741: R14 is  one-to-one by L736 , L438;
L742: (for R3 being set holds (R3 in ( R12 -Seg D7 ) implies R3 in ( R14 .: ( R11 -Seg R1 ) )))
proof
let R3 being set;
assume L743: R3 in ( R12 -Seg D7 );
L744: R3 <> D7 by L743 , L33;
L745: [ R3 , D7 ] in R12 by L743 , L33;
L746: R3 in ( field R12 ) by L745 , RELAT_1:15;
L747: R3 = ( R14 . ( ( R14 " ) . R3 ) ) by L746 , L739 , L741 , FUNCT_1:35;
L748: (( rng ( R14 " ) ) = ( dom R14 ) & ( dom ( R14 " ) ) = ( rng R14 )) by L741 , FUNCT_1:33;
L749: ( ( R14 " ) . R3 ) in ( field R11 ) by L748 , L737 , L739 , L746 , FUNCT_1:def 3;
L750: [ ( ( R14 " ) . R3 ) , R1 ] in R11 by L749 , L736 , L738 , L745 , L747 , L438;
L751: ( ( R14 " ) . R3 ) in ( R11 -Seg R1 ) by L750 , L744 , L747 , L33;
thus L752: thesis by L751 , L737 , L747 , L749 , FUNCT_1:def 6;
end;
L753: (for R3 being set holds (R3 in ( R14 .: ( R11 -Seg R1 ) ) implies R3 in ( R12 -Seg D7 )))
proof
let R3 being set;
assume L754: R3 in ( R14 .: ( R11 -Seg R1 ) );
consider R4 being set such that L755: R4 in ( dom R14 ) and L756: R4 in ( R11 -Seg R1 ) and L757: R3 = ( R14 . R4 ) by L754 , FUNCT_1:def 6;
L758: [ R4 , R1 ] in R11 by L756 , L33;
L759: [ R3 , D7 ] in R12 by L758 , L736 , L757 , L438;
L760: R4 <> R1 by L756 , L33;
L761: R3 <> D7 by L760 , L738 , L737 , L741 , L755 , L757 , FUNCT_1:def 4;
thus L762: thesis by L761 , L759 , L33;
end;
thus L763: thesis by L753 , L742 , TARSKI:1;
end;
theorem
L764: (for R11 being Relation holds (for R12 being Relation holds (for R14 being Function holds ((R11 is  well-ordering & R14 is_isomorphism_of R11 , R12) implies (for R1 being set holds (R1 in ( field R11 ) implies (ex R2 being set st (R2 in ( field R12 ) & ( R11 |_2 ( R11 -Seg R1 ) ) , ( R12 |_2 ( R12 -Seg R2 ) ) are_isomorphic ))))))))
proof
let R11 being Relation;
let R12 being Relation;
let R14 being Function;
assume that
L765: R11 is  well-ordering
and
L766: R14 is_isomorphism_of R11 , R12;
let R1 being set;
assume L767: R1 in ( field R11 );
consider R2 being set such that L768: (R2 in ( field R12 ) & ( R14 .: ( R11 -Seg R1 ) ) = ( R12 -Seg R2 )) by L767 , L766 , L735;
take R2;
L769: ( R11 -Seg R1 ) c= ( field R11 ) by L116;
thus L770: thesis by L769 , L765 , L766 , L768 , L703;
end;
theorem
L771: (for R1 being set holds (for R2 being set holds (for R3 being set holds (for R11 being Relation holds (for R12 being Relation holds ((R11 is  well-ordering & R12 is  well-ordering & R1 in ( field R11 ) & R2 in ( field R12 ) & R3 in ( field R12 ) & R11 , ( R12 |_2 ( R12 -Seg R2 ) ) are_isomorphic  & ( R11 |_2 ( R11 -Seg R1 ) ) , ( R12 |_2 ( R12 -Seg R3 ) ) are_isomorphic ) implies (( R12 -Seg R3 ) c= ( R12 -Seg R2 ) & [ R3 , R2 ] in R12)))))))
proof
let R1 being set;
let R2 being set;
let R3 being set;
let R11 being Relation;
let R12 being Relation;
assume that
L772: R11 is  well-ordering
and
L773: R12 is  well-ordering
and
L774: R1 in ( field R11 )
and
L775: R2 in ( field R12 )
and
L776: R3 in ( field R12 )
and
L777: R11 , ( R12 |_2 ( R12 -Seg R2 ) ) are_isomorphic 
and
L778: ( R11 |_2 ( R11 -Seg R1 ) ) , ( R12 |_2 ( R12 -Seg R3 ) ) are_isomorphic ;
set D8 = ( R12 |_2 ( R12 -Seg R2 ) );
set D9 = ( canonical_isomorphism_of (R11 , D8) );
L779: D9 is_isomorphism_of R11 , D8 by L772 , L777 , L650;
consider R4 being set such that L780: R4 in ( field D8 ) and L781: ( D9 .: ( R11 -Seg R1 ) ) = ( D8 -Seg R4 ) by L779 , L774 , L735;
L782: ( R12 -Seg R2 ) = ( field D8 ) by L773 , L382;
L783: ( D8 -Seg R4 ) = ( R12 -Seg R4 ) by L782 , L773 , L780 , L280;
L784: ( rng D9 ) = ( R12 -Seg R2 ) by L779 , L782 , L438;
L785: ( D8 -Seg R4 ) c= ( R12 -Seg R2 ) by L784 , L781 , RELAT_1:111;
set D10 = ( R12 |_2 ( R12 -Seg R3 ) );
set D11 = ( R11 |_2 ( R11 -Seg R1 ) );
L786: D10 , D11 are_isomorphic  by L778 , L483;
L787: R4 in ( field R12 ) by L780 , L144;
L788: ( R11 -Seg R1 ) c= ( field R11 ) by L116;
L789: D11 , ( D8 |_2 ( D9 .: ( R11 -Seg R1 ) ) ) are_isomorphic  by L788 , L772 , L779 , L703;
L790: D10 , ( D8 |_2 ( D8 -Seg R4 ) ) are_isomorphic  by L789 , L781 , L786 , L510;
L791: D10 , ( R12 |_2 ( R12 -Seg R4 ) ) are_isomorphic  by L790 , L781 , L783 , L784 , L212 , RELAT_1:111;
thus L792: ( R12 -Seg R3 ) c= ( R12 -Seg R2 ) by L791 , L773 , L776 , L783 , L785 , L787 , L673;
thus L793: thesis by L792 , L773 , L775 , L776 , L342;
end;
theorem
L794: (for R11 being Relation holds (for R12 being Relation holds ((R11 is  well-ordering & R12 is  well-ordering) implies (R11 , R12 are_isomorphic  or (ex R1 being set st (R1 in ( field R11 ) & ( R11 |_2 ( R11 -Seg R1 ) ) , R12 are_isomorphic )) or (ex R1 being set st (R1 in ( field R12 ) & R11 , ( R12 |_2 ( R12 -Seg R1 ) ) are_isomorphic ))))))
proof
let R11 being Relation;
let R12 being Relation;
assume that
L795: R11 is  well-ordering
and
L796: R12 is  well-ordering;
defpred S3[ set ] means (ex R2 being set st (R2 in ( field R12 ) & ( R11 |_2 ( R11 -Seg $1 ) ) , ( R12 |_2 ( R12 -Seg R2 ) ) are_isomorphic ));
consider R10 being set such that L797: (for R1 being set holds (R1 in R10 iff (R1 in ( field R11 ) & S3[ R1 ]))) from XBOOLE_0:sch 1;
L798: R10 c= ( field R11 )
proof
let R5 being set;
thus L799: thesis by L797;
end;
defpred S4[ set , set ] means ($2 in ( field R12 ) & ( R11 |_2 ( R11 -Seg $1 ) ) , ( R12 |_2 ( R12 -Seg $2 ) ) are_isomorphic );
L800: (for R1 being set holds (for R2 being set holds (for R3 being set holds ((S4[ R1 , R2 ] & S4[ R1 , R3 ]) implies R2 = R3))))
proof
let R1 being set;
let R2 being set;
let R3 being set;
assume that
L801: R2 in ( field R12 )
and
L802: ( R11 |_2 ( R11 -Seg R1 ) ) , ( R12 |_2 ( R12 -Seg R2 ) ) are_isomorphic 
and
L803: (R3 in ( field R12 ) & ( R11 |_2 ( R11 -Seg R1 ) ) , ( R12 |_2 ( R12 -Seg R3 ) ) are_isomorphic );
L804: ( R12 |_2 ( R12 -Seg R2 ) ) , ( R11 |_2 ( R11 -Seg R1 ) ) are_isomorphic  by L802 , L483;
thus L805: thesis by L804 , L796 , L801 , L803 , L510 , L673;
end;
consider R14 being Function such that L806: (for R1 being set holds (for R2 being set holds ([ R1 , R2 ] in R14 iff (R1 in ( field R11 ) & S4[ R1 , R2 ])))) from FUNCT_1:sch 1(L800);
L807: R10 = ( dom R14 )
proof
thus L808: (for R1 being set holds (R1 in R10 implies R1 in ( dom R14 )))
proof
let R1 being set;
assume L809: R1 in R10;
consider R2 being set such that L810: (R2 in ( field R12 ) & ( R11 |_2 ( R11 -Seg R1 ) ) , ( R12 |_2 ( R12 -Seg R2 ) ) are_isomorphic ) by L809 , L797;
L811: R1 in ( field R11 ) by L797 , L809;
L812: [ R1 , R2 ] in R14 by L811 , L806 , L810;
thus L813: thesis by L812 , XTUPLE_0:def 12;
end;

let R1 being set;
assume L814: R1 in ( dom R14 );
consider R2 being set such that L815: [ R1 , R2 ] in R14 by L814 , XTUPLE_0:def 12;
L816: ( R11 |_2 ( R11 -Seg R1 ) ) , ( R12 |_2 ( R12 -Seg R2 ) ) are_isomorphic  by L806 , L815;
L817: (R1 in ( field R11 ) & R2 in ( field R12 )) by L806 , L815;
thus L818: thesis by L817 , L797 , L816;
end;
L819: ( rng R14 ) c= ( field R12 )
proof
let R1 being set;
assume L820: R1 in ( rng R14 );
consider R2 being set such that L821: (R2 in ( dom R14 ) & R1 = ( R14 . R2 )) by L820 , FUNCT_1:def 3;
L822: [ R2 , R1 ] in R14 by L821 , FUNCT_1:1;
thus L823: thesis by L822 , L806;
end;
L824: R14 is_isomorphism_of ( R11 |_2 ( dom R14 ) ) , ( R12 |_2 ( rng R14 ) )
proof
thus L825: (( dom R14 ) = ( field ( R11 |_2 ( dom R14 ) ) ) & ( rng R14 ) = ( field ( R12 |_2 ( rng R14 ) ) )) by L795 , L796 , L798 , L819 , L807 , L373;
thus L826: R14 is  one-to-one
proof
let R1 being set;
let R2 being set;
assume that
L827: R1 in ( dom R14 )
and
L828: R2 in ( dom R14 )
and
L829: ( R14 . R1 ) = ( R14 . R2 );
L830: [ R2 , ( R14 . R2 ) ] in R14 by L828 , FUNCT_1:1;
L831: ( R11 |_2 ( R11 -Seg R2 ) ) , ( R12 |_2 ( R12 -Seg ( R14 . R1 ) ) ) are_isomorphic  by L830 , L806 , L829;
L832: ( R12 |_2 ( R12 -Seg ( R14 . R1 ) ) ) , ( R11 |_2 ( R11 -Seg R2 ) ) are_isomorphic  by L831 , L483;
L833: [ R1 , ( R14 . R1 ) ] in R14 by L827 , FUNCT_1:1;
L834: (R1 in ( field R11 ) & ( R11 |_2 ( R11 -Seg R1 ) ) , ( R12 |_2 ( R12 -Seg ( R14 . R1 ) ) ) are_isomorphic ) by L833 , L806;
L835: R2 in ( field R11 ) by L806 , L830;
thus L836: thesis by L835 , L795 , L834 , L832 , L510 , L673;
end;

let R1 being set;
let R2 being set;
set D12 = ( R11 |_2 ( R11 -Seg R1 ) );
L837: (( field D12 ) = ( R11 -Seg R1 ) & D12 is  well-ordering) by L795 , L244 , L382;
thus L838: ([ R1 , R2 ] in ( R11 |_2 ( dom R14 ) ) implies (R1 in ( field ( R11 |_2 ( dom R14 ) ) ) & R2 in ( field ( R11 |_2 ( dom R14 ) ) ) & [ ( R14 . R1 ) , ( R14 . R2 ) ] in ( R12 |_2 ( rng R14 ) )))
proof
assume L839: [ R1 , R2 ] in ( R11 |_2 ( dom R14 ) );
thus L840: (R1 in ( field ( R11 |_2 ( dom R14 ) ) ) & R2 in ( field ( R11 |_2 ( dom R14 ) ) )) by L839 , RELAT_1:15;
L841: R1 in ( dom R14 ) by L840 , L144;
L842: [ R1 , ( R14 . R1 ) ] in R14 by L841 , FUNCT_1:1;
L843: ( R14 . R1 ) in ( field R12 ) by L842 , L806;
L844: R2 in ( dom R14 ) by L840 , L144;
L845: [ R2 , ( R14 . R2 ) ] in R14 by L844 , FUNCT_1:1;
L846: R2 in ( field R11 ) by L845 , L806;
L847: (( R14 . R2 ) in ( field R12 ) & ( R11 |_2 ( R11 -Seg R2 ) ) , ( R12 |_2 ( R12 -Seg ( R14 . R2 ) ) ) are_isomorphic ) by L806 , L845;
L848: [ R1 , R2 ] in R11 by L839 , XBOOLE_0:def 4;
L849: ( R14 . R2 ) in ( rng R14 ) by L844 , FUNCT_1:def 3;
L850: ( R14 . R1 ) in ( rng R14 ) by L841 , FUNCT_1:def 3;
L851: [ ( R14 . R1 ) , ( R14 . R2 ) ] in [: ( rng R14 ) , ( rng R14 ) :] by L850 , L849 , ZFMISC_1:87;
L852: R1 in ( field R11 ) by L806 , L842;
L853: ( R11 -Seg R1 ) c= ( R11 -Seg R2 ) by L852 , L795 , L846 , L848 , L342;
L854: ( R11 |_2 ( R11 -Seg R1 ) ) , ( R12 |_2 ( R12 -Seg ( R14 . R1 ) ) ) are_isomorphic  by L806 , L842;
L855:
now
set D13 = ( R11 |_2 ( R11 -Seg R2 ) );
L856: (( field D13 ) = ( R11 -Seg R2 ) & D13 is  well-ordering) by L795 , L244 , L382;
assume L857: R1 <> R2;
L858: R1 in ( R11 -Seg R2 ) by L857 , L848 , L33;
L859: ( D13 -Seg R1 ) = ( R11 -Seg R1 ) by L858 , L795 , L280;
L860: ( D13 |_2 ( D13 -Seg R1 ) ) , ( R12 |_2 ( R12 -Seg ( R14 . R1 ) ) ) are_isomorphic  by L859 , L854 , L853 , L212;
L861: [ ( R14 . R1 ) , ( R14 . R2 ) ] in R12 by L860 , L796 , L843 , L847 , L858 , L856 , L771;
thus L862: thesis by L861 , L851 , XBOOLE_0:def 4;
end;
L863: (R1 = R2 implies thesis)
proof
assume L864: R1 = R2;
L865: [ ( R14 . R1 ) , ( R14 . R2 ) ] in R12 by L864 , L796 , L843 , L1;
thus L866: thesis by L865 , L851 , XBOOLE_0:def 4;
end;
thus L867: thesis by L863 , L855;
end;

assume that
L868: R1 in ( field ( R11 |_2 ( dom R14 ) ) )
and
L869: R2 in ( field ( R11 |_2 ( dom R14 ) ) )
and
L870: [ ( R14 . R1 ) , ( R14 . R2 ) ] in ( R12 |_2 ( rng R14 ) );
L871: [ ( R14 . R1 ) , ( R14 . R2 ) ] in R12 by L870 , XBOOLE_0:def 4;
L872: R1 in ( dom R14 ) by L868 , L144;
L873: [ R1 , ( R14 . R1 ) ] in R14 by L872 , FUNCT_1:1;
L874: R1 in ( field R11 ) by L873 , L806;
assume L875: (not [ R1 , R2 ] in ( R11 |_2 ( dom R14 ) ));
L876: ((not [ R1 , R2 ] in R11) or (not [ R1 , R2 ] in [: ( dom R14 ) , ( dom R14 ) :])) by L875 , XBOOLE_0:def 4;
L877: R1 <> R2 by L876 , L795 , L872 , L874 , L1 , ZFMISC_1:87;
L878: R2 in ( dom R14 ) by L869 , L144;
L879: [ R2 , ( R14 . R2 ) ] in R14 by L878 , FUNCT_1:1;
L880: ( R11 |_2 ( R11 -Seg R2 ) ) , ( R12 |_2 ( R12 -Seg ( R14 . R2 ) ) ) are_isomorphic  by L879 , L806;
L881: R2 in ( field R11 ) by L806 , L879;
L882: [ R2 , R1 ] in R11 by L881 , L795 , L872 , L878 , L876 , L874 , L877 , L29 , ZFMISC_1:87;
L883: ( R11 -Seg R2 ) c= ( R11 -Seg R1 ) by L882 , L795 , L874 , L881 , L342;
L884: R2 in ( R11 -Seg R1 ) by L872 , L878 , L876 , L882 , L33 , ZFMISC_1:87;
L885: ( D12 -Seg R2 ) = ( R11 -Seg R2 ) by L884 , L795 , L280;
L886: ( D12 |_2 ( D12 -Seg R2 ) ) , ( R12 |_2 ( R12 -Seg ( R14 . R2 ) ) ) are_isomorphic  by L885 , L880 , L883 , L212;
L887: ( R14 . R2 ) in ( field R12 ) by L806 , L879;
L888: (( R14 . R1 ) in ( field R12 ) & ( R11 |_2 ( R11 -Seg R1 ) ) , ( R12 |_2 ( R12 -Seg ( R14 . R1 ) ) ) are_isomorphic ) by L806 , L873;
L889: [ ( R14 . R2 ) , ( R14 . R1 ) ] in R12 by L888 , L796 , L887 , L884 , L837 , L886 , L771;
L890: ( R14 . R1 ) = ( R14 . R2 ) by L889 , L796 , L871 , L17;
thus L891: contradiction by L890 , L826 , L872 , L878 , L877 , FUNCT_1:def 4;
end;
L892:
now
given R1 being set such that
L893: R1 in ( field R11 )
and
L894: R10 = ( R11 -Seg R1 );

given R2 being set such that
L895: R2 in ( field R12 )
and
L896: ( rng R14 ) = ( R12 -Seg R2 );

L897: ( R11 |_2 ( R11 -Seg R1 ) ) , ( R12 |_2 ( R12 -Seg R2 ) ) are_isomorphic  by L807 , L824 , L894 , L896 , L447;
L898: R1 in R10 by L897 , L797 , L893 , L895;
thus L899: contradiction by L898 , L894 , L33;
end;
L900:
now
let R1 being set;
assume that
L901: R1 in R10;
consider R3 being set such that L902: R3 in ( field R12 ) and L903: ( R11 |_2 ( R11 -Seg R1 ) ) , ( R12 |_2 ( R12 -Seg R3 ) ) are_isomorphic  by L797 , L901;
let R2 being set;
assume that
L904: [ R2 , R1 ] in R11;
L905: R1 in ( field R11 ) by L797 , L901;
L906:
now
set D14 = ( R12 |_2 ( R12 -Seg R3 ) );
set D15 = ( R11 |_2 ( R11 -Seg R1 ) );
L907: D15 is  well-ordering by L795 , L244;
L908: ( canonical_isomorphism_of (D15 , D14) ) is_isomorphism_of D15 , D14 by L907 , L903 , L650;
assume L909: R1 <> R2;
L910: R2 in ( R11 -Seg R1 ) by L909 , L904 , L33;
L911: ( D15 -Seg R2 ) = ( R11 -Seg R2 ) by L910 , L795 , L280;
L912: R2 in ( field R11 ) by L904 , RELAT_1:15;
L913: ( R11 -Seg R2 ) c= ( R11 -Seg R1 ) by L912 , L795 , L905 , L910 , L362;
L914: ( D15 |_2 ( R11 -Seg R2 ) ) = ( R11 |_2 ( R11 -Seg R2 ) ) by L913 , L212;
L915: ( field D15 ) = ( R11 -Seg R1 ) by L795 , L382;
consider R4 being set such that L916: R4 in ( field D14 ) and L917: ( D15 |_2 ( D15 -Seg R2 ) ) , ( D14 |_2 ( D14 -Seg R4 ) ) are_isomorphic  by L915 , L795 , L908 , L910 , L244 , L764;
L918: ( R12 -Seg R3 ) = ( field D14 ) by L796 , L382;
L919: ( D14 -Seg R4 ) = ( R12 -Seg R4 ) by L918 , L796 , L916 , L280;
L920: [ R4 , R3 ] in R12 by L916 , L918 , L33;
L921: R4 in ( field R12 ) by L920 , RELAT_1:15;
L922: ( R12 -Seg R4 ) c= ( R12 -Seg R3 ) by L921 , L796 , L902 , L916 , L918 , L362;
L923: ( R11 |_2 ( R11 -Seg R2 ) ) , ( R12 |_2 ( R12 -Seg R4 ) ) are_isomorphic  by L922 , L917 , L911 , L919 , L914 , L212;
thus L924: R2 in R10 by L923 , L797 , L912 , L921;
end;
thus L925: R2 in R10 by L906 , L901;
end;
L926: ( R11 |_2 R10 ) , ( R12 |_2 ( rng R14 ) ) are_isomorphic  by L807 , L824 , L447;
L927:
now
assume L928: R10 = ( field R11 );
given R1 being set such that
L929: R1 in ( field R12 )
and
L930: ( rng R14 ) = ( R12 -Seg R1 );

take D16 = R1;
thus L931: D16 in ( field R12 ) by L929;
thus L932: R11 , ( R12 |_2 ( R12 -Seg D16 ) ) are_isomorphic  by L926 , L928 , L930 , L227;
end;
L933:
now
let R1 being set;
assume that
L934: R1 in ( rng R14 );
consider R3 being set such that L935: (R3 in ( dom R14 ) & R1 = ( R14 . R3 )) by L934 , FUNCT_1:def 3;
L936: [ R3 , R1 ] in R14 by L935 , FUNCT_1:1;
L937: R1 in ( field R12 ) by L936 , L806;
let R2 being set;
assume that
L938: [ R2 , R1 ] in R12;
L939: ( R11 |_2 ( R11 -Seg R3 ) ) , ( R12 |_2 ( R12 -Seg R1 ) ) are_isomorphic  by L806 , L936;
L940: R3 in ( field R11 ) by L806 , L936;
L941:
now
set D17 = ( R12 |_2 ( R12 -Seg R1 ) );
set D18 = ( R11 |_2 ( R11 -Seg R3 ) );
assume L942: R1 <> R2;
L943: R2 in ( R12 -Seg R1 ) by L942 , L938 , L33;
L944: ( D17 -Seg R2 ) = ( R12 -Seg R2 ) by L943 , L796 , L280;
L945: R2 in ( field R12 ) by L938 , RELAT_1:15;
L946: ( R12 -Seg R2 ) c= ( R12 -Seg R1 ) by L945 , L796 , L937 , L943 , L362;
L947: ( D17 |_2 ( R12 -Seg R2 ) ) = ( R12 |_2 ( R12 -Seg R2 ) ) by L946 , L212;
L948: (D17 , D18 are_isomorphic  & D17 is  well-ordering) by L796 , L939 , L244 , L483;
L949: ( canonical_isomorphism_of (D17 , D18) ) is_isomorphism_of D17 , D18 by L948 , L650;
L950: ( field D17 ) = ( R12 -Seg R1 ) by L796 , L382;
consider R4 being set such that L951: R4 in ( field D18 ) and L952: ( D17 |_2 ( D17 -Seg R2 ) ) , ( D18 |_2 ( D18 -Seg R4 ) ) are_isomorphic  by L950 , L796 , L949 , L943 , L244 , L764;
L953: ( R11 -Seg R3 ) = ( field D18 ) by L795 , L382;
L954: ( D18 -Seg R4 ) = ( R11 -Seg R4 ) by L953 , L795 , L951 , L280;
L955: [ R4 , R3 ] in R11 by L951 , L953 , L33;
L956: R4 in ( field R11 ) by L955 , RELAT_1:15;
L957: ( R11 -Seg R4 ) c= ( R11 -Seg R3 ) by L956 , L795 , L940 , L951 , L953 , L362;
L958: ( R12 |_2 ( R12 -Seg R2 ) ) , ( R11 |_2 ( R11 -Seg R4 ) ) are_isomorphic  by L957 , L952 , L944 , L954 , L947 , L212;
L959: ( R11 |_2 ( R11 -Seg R4 ) ) , ( R12 |_2 ( R12 -Seg R2 ) ) are_isomorphic  by L958 , L483;
L960: [ R4 , R2 ] in R14 by L959 , L806 , L945 , L956;
L961: (R4 in ( dom R14 ) & R2 = ( R14 . R4 )) by L960 , FUNCT_1:1;
thus L962: R2 in ( rng R14 ) by L961 , FUNCT_1:def 3;
end;
thus L963: R2 in ( rng R14 ) by L941 , L934;
end;
L964:
now
assume L965: ( rng R14 ) = ( field R12 );
given R1 being set such that
L966: R1 in ( field R11 )
and
L967: R10 = ( R11 -Seg R1 );

take D19 = R1;
thus L968: D19 in ( field R11 ) by L966;
thus L969: ( R11 |_2 ( R11 -Seg D19 ) ) , R12 are_isomorphic  by L926 , L965 , L967 , L227;
end;
L970:
now
assume L971: (R10 = ( field R11 ) & ( rng R14 ) = ( field R12 ));
L972: (( R11 |_2 ( field R11 ) ) = R11 & ( R12 |_2 ( field R12 ) ) = R12) by L227;
thus L973: R11 , R12 are_isomorphic  by L972 , L807 , L824 , L971 , L447;
end;
thus L974: thesis by L970 , L795 , L796 , L798 , L819 , L900 , L933 , L892 , L927 , L964 , L303;
end;
theorem
L975: (for R9 being set holds (for R11 being Relation holds ((R9 c= ( field R11 ) & R11 is  well-ordering) implies (R11 , ( R11 |_2 R9 ) are_isomorphic  or (ex R1 being set st (R1 in ( field R11 ) & ( R11 |_2 ( R11 -Seg R1 ) ) , ( R11 |_2 R9 ) are_isomorphic ))))))
proof
let R9 being set;
let R11 being Relation;
assume that
L976: R9 c= ( field R11 )
and
L977: R11 is  well-ordering;
L978:
now
given R1 being set such that
L979: R1 in ( field ( R11 |_2 R9 ) )
and
L980: R11 , ( ( R11 |_2 R9 ) |_2 ( ( R11 |_2 R9 ) -Seg R1 ) ) are_isomorphic ;

consider R14 being Function such that L981: R14 is_isomorphism_of R11 , ( ( R11 |_2 R9 ) |_2 ( ( R11 |_2 R9 ) -Seg R1 ) ) by L980 , L447;
L982:
now
let R3 being set;
let R2 being set;
assume L983: ([ R3 , R2 ] in R11 & R3 <> R2);
L984: [ ( R14 . R3 ) , ( R14 . R2 ) ] in ( ( R11 |_2 R9 ) |_2 ( ( R11 |_2 R9 ) -Seg R1 ) ) by L983 , L981 , L440;
L985: [ ( R14 . R3 ) , ( R14 . R2 ) ] in ( R11 |_2 R9 ) by L984 , XBOOLE_0:def 4;
thus L986: ([ ( R14 . R3 ) , ( R14 . R2 ) ] in R11 & ( R14 . R3 ) <> ( R14 . R2 )) by L985 , L981 , L983 , L440 , XBOOLE_0:def 4;
end;
L987: ( field ( R11 |_2 R9 ) ) = R9 by L976 , L977 , L373;
L988: ( field ( ( R11 |_2 R9 ) |_2 ( ( R11 |_2 R9 ) -Seg R1 ) ) ) = ( ( R11 |_2 R9 ) -Seg R1 ) by L977 , L244 , L382;
L989: ( rng R14 ) = ( ( R11 |_2 R9 ) -Seg R1 ) by L988 , L981 , L438;
L990: ( dom R14 ) = ( field R11 ) by L981 , L438;
L991: ( R14 . R1 ) in ( rng R14 ) by L990 , L976 , L979 , L987 , FUNCT_1:def 3;
L992: ( R14 . R1 ) <> R1 by L991 , L989 , L33;
L993: [ ( R14 . R1 ) , R1 ] in ( R11 |_2 R9 ) by L989 , L991 , L33;
L994: [ ( R14 . R1 ) , R1 ] in R11 by L993 , XBOOLE_0:def 4;
L995: ( ( R11 |_2 R9 ) -Seg R1 ) c= R9 by L987 , L116;
L996: ( rng R14 ) c= ( field R11 ) by L995 , L976 , L989 , XBOOLE_1:1;
L997: [ R1 , ( R14 . R1 ) ] in R11 by L996 , L976 , L977 , L979 , L987 , L990 , L982 , L417;
thus L998: contradiction by L997 , L992 , L994 , L977 , L17;
end;
L999: ( R11 |_2 R9 ) is  well-ordering by L977 , L244;
thus L1000: thesis by L999 , L977 , L978 , L794;
end;
theorem
L1001: (for R11 being Relation holds (for R12 being Relation holds ((R11 , R12 are_isomorphic  & R11 is  well-ordering) implies R12 is  well-ordering)))
proof
let R11 being Relation;
let R12 being Relation;
assume L1002: R11 , R12 are_isomorphic ;
L1003: (ex B2 being Function st B2 is_isomorphism_of R11 , R12) by L1002 , L447;
thus L1004: thesis by L1003 , L588;
end;
