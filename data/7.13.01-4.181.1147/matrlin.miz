:: Associated Matrix of Linear Map
::  by Robert Milewski
::
:: Received June 30, 1995
:: Copyright (c) 1995-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, NAT_1, XBOOLE_0, MATRIX_1, FINSEQ_3, RELAT_1, FINSEQ_1,
      TARSKI, ARYTM_3, XXREAL_0, CARD_1, TREES_1, FUNCT_1, INCSP_1, ORDINAL4,
      SUBSET_1, VECTSP_1, RLVECT_2, RLVECT_3, CARD_3, ARYTM_1, SUPINF_2,
      RLVECT_5, FINSET_1, STRUCT_0, RLSUB_1, ALGSTR_0, PARTFUN1, RLVECT_1,
      ZFMISC_1, QC_LANG1, FUNCT_2, VALUED_1, PRE_POLY, FINSEQ_2, RVSUM_1,
      FINSEQ_4, FVSUM_1, MATRLIN, MSSUBFAM, UNIALG_1;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, NUMBERS, XCMPLX_0, ORDINAL1,
      NAT_1, MOD_2, FINSEQ_1, RELAT_1, FUNCT_1, PARTFUN1, FUNCT_2, FUNCT_3,
      STRUCT_0, ALGSTR_0, MATRIX_1, MATRIX_3, FVSUM_1, RLVECT_1, VECTSP_1,
      VECTSP_4, VECTSP_6, VECTSP_7, FINSET_1, FINSEQ_3, FINSEQ_2, FINSEQOP,
      BINOP_1, XXREAL_0, PRE_POLY, GRCAT_1;
 constructors PARTFUN1, BINOP_1, FUNCT_3, SQUARE_1, NAT_1, VECTSP_6, VECTSP_7,
      MOD_2, FVSUM_1, MATRIX_3, RELSET_1, PRE_POLY, GRCAT_1;
 registrations XBOOLE_0, SUBSET_1, ORDINAL1, RELSET_1, FUNCT_2, FINSET_1,
      XXREAL_0, XREAL_0, NAT_1, FINSEQ_1, STRUCT_0, VECTSP_1, MATRIX_1, CARD_1,
      VECTSP_7, MOD_2, GRCAT_1, PRE_POLY, RELAT_1, FUNCT_1, FINSEQ_4;
 requirements REAL, NUMERALS, BOOLE, SUBSET, ARITHM;
 definitions TARSKI, FVSUM_1, FUNCOP_1, ALGSTR_0, PRE_POLY;
 theorems TARSKI, FINSEQ_1, FINSEQ_2, FINSEQ_3, FINSEQ_4, VECTSP_1, VECTSP_4,
      VECTSP_6, VECTSP_7, RLVECT_1, FUNCT_1, FUNCT_2, FUNCT_3, MATRIX_1,
      MATRIX_2, MATRIX_3, MOD_2, ZFMISC_1, NAT_1, FVSUM_1, SUBSET_1, FINSEQOP,
      FUNCOP_1, RELAT_1, PARTFUN2, XBOOLE_0, XBOOLE_1, RLVECT_2, ORDINAL1,
      PARTFUN1, PRE_POLY;
 schemes FINSEQ_1, FINSEQ_2, FUNCT_2, MATRIX_1, NAT_1, FINSEQ_4;

begin
definition
let C1 being non  empty set;
let R1 being Nat;
let C2 being (Matrix of C1);
redefine func Del (C2 , R1) -> (Matrix of C1);

coherence
proof
L1: (ex R6 being Nat st (for R7 being set holds (R7 in ( rng ( Del (C2 , R1) ) ) implies (ex B1 being (FinSequence of C1) st (R7 = B1 & ( len B1 ) = R6)))))
proof
consider R6 being Nat such that L2: (for R7 being set holds (R7 in ( rng C2 ) implies (ex B2 being (FinSequence of C1) st (R7 = B2 & ( len B2 ) = R6)))) by MATRIX_1:9;
take R6;
let R7 being set;
assume that
L3: R7 in ( rng ( Del (C2 , R1) ) );
L4: ( Del (C2 , R1) ) is (FinSequence of ( C1 * )) by FINSEQ_3:105;
L5: ( rng ( Del (C2 , R1) ) ) c= ( C1 * ) by L4 , FINSEQ_1:def 4;
reconsider D1 = R7 as (FinSequence of C1) by L5 , L3 , FINSEQ_1:def 11;
take D1;
L6: ( rng ( Del (C2 , R1) ) ) c= ( rng C2 ) by FINSEQ_3:106;
L7: (ex B3 being (FinSequence of C1) st (R7 = B3 & ( len B3 ) = R6)) by L6 , L2 , L3;
thus L8: thesis by L7;
end;
thus L9: thesis by L1 , MATRIX_1:9;
end;
end;
theorem
L11: (for R6 being Nat holds (for B4 being FinSequence holds (( len B4 ) = ( R6 + 1 ) implies ( len ( Del (B4 , ( R6 + 1 )) ) ) = R6)))
proof
let R6 being Nat;
let C3 being FinSequence;
assume L12: ( len C3 ) = ( R6 + 1 );
L13: ( R6 + 1 ) in ( Seg ( len C3 ) ) by L12 , FINSEQ_1:4;
L14: ( R6 + 1 ) in ( dom C3 ) by L13 , FINSEQ_1:def 3;
thus L15: thesis by L14 , L12 , FINSEQ_3:109;
end;
theorem
L16: (for R5 being Nat holds (for R6 being Nat holds (for R11 being non  empty set holds (for B5 being (Matrix of ( R6 + 1 ) , R5 , R11) holds (for B6 being (Matrix of R11) holds ((R6 > ( 0 ) implies ( width B5 ) = ( width ( Del (B5 , ( R6 + 1 )) ) )) & (B6 = <* ( B5 . ( R6 + 1 ) ) *> implies ( width B5 ) = ( width B6 ))))))))
proof
let R5 being Nat;
let R6 being Nat;
let R11 being non  empty set;
let C4 being (Matrix of ( R6 + 1 ) , R5 , R11);
let C5 being (Matrix of R11);
L17: ( len C4 ) = ( R6 + 1 ) by MATRIX_1:def 2;
L18: ( R6 + 1 ) in ( Seg ( len C4 ) ) by L17 , FINSEQ_1:4;
L19: ( R6 + 1 ) in ( dom C4 ) by L18 , FINSEQ_1:def 3;
L20: ( C4 . ( R6 + 1 ) ) = ( Line (C4 , ( R6 + 1 )) ) by L19 , MATRIX_2:16;
L21:
now
assume L22: R6 > ( 0 );
L23: ( len ( Del (C4 , ( R6 + 1 )) ) ) = R6 by L17 , L11;
consider C6 being FinSequence such that L24: C6 in ( rng ( Del (C4 , ( R6 + 1 )) ) ) and L25: ( len C6 ) = ( width ( Del (C4 , ( R6 + 1 )) ) ) by L23 , L22 , MATRIX_1:def 3;
consider C7 being Nat such that L26: (for R7 being set holds (R7 in ( rng C4 ) implies (ex B7 being (FinSequence of R11) st (R7 = B7 & ( len B7 ) = C7)))) by MATRIX_1:9;
consider C8 being FinSequence such that L27: C8 in ( rng C4 ) and L28: ( len C8 ) = ( width C4 ) by L17 , MATRIX_1:def 3;
L29: (ex B8 being (FinSequence of R11) st (C8 = B8 & ( len B8 ) = C7)) by L27 , L26;
L30: ( rng ( Del (C4 , ( R6 + 1 )) ) ) c= ( rng C4 ) by FINSEQ_3:106;
L31: (ex B9 being (FinSequence of R11) st (C6 = B9 & ( len B9 ) = C7)) by L30 , L24 , L26;
thus L32: ( width C4 ) = ( width ( Del (C4 , ( R6 + 1 )) ) ) by L31 , L25 , L28 , L29;
end;
thus L33: (R6 > ( 0 ) implies ( width C4 ) = ( width ( Del (C4 , ( R6 + 1 )) ) )) by L21;
assume L34: C5 = <* ( C4 . ( R6 + 1 ) ) *>;
reconsider D2 = C5 as (Matrix of 1 , ( len ( Line (C4 , ( R6 + 1 )) ) ) , R11) by L34 , L20 , MATRIX_1:11;
thus L35: ( width C4 ) = ( len ( Line (C4 , ( R6 + 1 )) ) ) by MATRIX_1:def 7
.= ( width D2 ) by MATRIX_1:23
.= ( width C5 );
end;
theorem
L36: (for R5 being Nat holds (for R6 being Nat holds (for R11 being non  empty set holds (for B10 being (Matrix of ( R6 + 1 ) , R5 , R11) holds ( Del (B10 , ( R6 + 1 )) ) is (Matrix of R6 , R5 , R11)))))
proof
let R5 being Nat;
let R6 being Nat;
let R11 being non  empty set;
let C9 being (Matrix of ( R6 + 1 ) , R5 , R11);
L37: ( len C9 ) = ( R6 + 1 ) by MATRIX_1:def 2;
L38: ( len ( Del (C9 , ( R6 + 1 )) ) ) = R6 by L37 , L11;
per cases ;
suppose L39: R6 = ( 0 );

L40: ( Del (C9 , ( R6 + 1 )) ) = ( {} ) by L39 , L38;
thus L41: thesis by L40 , L39 , MATRIX_1:13;
end;
suppose L42: R6 > ( 0 );

L43: ( width C9 ) = R5 by L37 , MATRIX_1:20;
L44: ( width ( Del (C9 , ( R6 + 1 )) ) ) = R5 by L43 , L42 , L16;
thus L45: thesis by L44 , L38 , L42 , MATRIX_1:20;
end;
end;
theorem
L47: (for B11 being FinSequence holds (B11 <> ( {} ) implies B11 = ( ( Del (B11 , ( len B11 )) ) ^ <* ( B11 . ( len B11 ) ) *> )))
proof
let C10 being FinSequence;
assume L48: C10 <> ( {} );
consider C11 being FinSequence, R7 being set such that L49: C10 = ( C11 ^ <* R7 *> ) by L48 , FINSEQ_1:46;
L50: ( len C10 ) = ( ( len C11 ) + ( len <* R7 *> ) ) by L49 , FINSEQ_1:22
.= ( ( len C11 ) + 1 ) by FINSEQ_1:39;
L51: ( len ( Del (C10 , ( len C10 )) ) ) = ( len C11 ) by L50 , L11;
L52: ( dom C11 ) = ( Seg ( len C11 ) ) by FINSEQ_1:def 3;
L53:
now
let C12 being Nat;
assume L54: C12 in ( dom C11 );
L55: C12 <= ( len C11 ) by L54 , L52 , FINSEQ_1:1;
L56: (C12 in ( NAT ) & C12 < ( len C10 )) by L55 , L50 , NAT_1:13 , ORDINAL1:def 12;
thus L57: ( ( Del (C10 , ( len C10 )) ) . C12 ) = ( C10 . C12 ) by L56 , FINSEQ_3:110
.= ( C11 . C12 ) by L49 , L54 , FINSEQ_1:def 7;
end;
L58: ( C10 . ( len C10 ) ) = R7 by L49 , L50 , FINSEQ_1:42;
thus L59: thesis by L58 , L49 , L51 , L53 , FINSEQ_2:9;
end;
definition
let R11 being non  empty set;
let C13 being (FinSequence of R11);
redefine func <*C13 *> -> (Matrix of 1 , ( len C13 ) , R11);

coherence by MATRIX_1:11;
end;
begin
begin
theorem
L61: (for R12 being Field holds (for R13 being (VectSp of R12) holds (for R16 being (Linear_Combination of R13) holds (for R17 being (Linear_Combination of R13) holds (for R19 being (Subset of R13) holds ((R19 is  linearly-independent & ( Carrier R16 ) c= R19 & ( Carrier R17 ) c= R19 & ( Sum R16 ) = ( Sum R17 )) implies R16 = R17))))))
proof
let R12 being Field;
let R13 being (VectSp of R12);
let R16 being (Linear_Combination of R13);
let R17 being (Linear_Combination of R13);
let R19 being (Subset of R13);
assume that
L62: R19 is  linearly-independent
and
L63: (( Carrier R16 ) c= R19 & ( Carrier R17 ) c= R19)
and
L64: ( Sum R16 ) = ( Sum R17 );
L65: ( ( Sum R16 ) - ( Sum R17 ) ) = ( 0. R13 ) by L64 , VECTSP_1:19;
L66: (( R16 - R17 ) is (Linear_Combination of ( Carrier ( R16 - R17 ) )) & ( Sum ( R16 - R17 ) ) = ( 0. R13 )) by L65 , VECTSP_6:7 , VECTSP_6:47;
L67: ( Carrier ( R16 - R17 ) ) c= ( ( Carrier R16 ) \/ ( Carrier R17 ) ) by VECTSP_6:41;
L68: ( ( Carrier R16 ) \/ ( Carrier R17 ) ) c= R19 by L63 , XBOOLE_1:8;
L69: ( Carrier ( R16 - R17 ) ) is  linearly-independent by L68 , L62 , L67 , VECTSP_7:1 , XBOOLE_1:1;
L70:
now
let C14 being (Vector of R13);
L71: (not C14 in ( Carrier ( R16 - R17 ) )) by L69 , L66 , VECTSP_7:def 1;
L72: ( ( R16 - R17 ) . C14 ) = ( 0. R12 ) by L71 , VECTSP_6:2;
L73: ( ( R16 . C14 ) - ( R17 . C14 ) ) = ( 0. R12 ) by L72 , VECTSP_6:40;
thus L74: ( R16 . C14 ) = ( R17 . C14 ) by L73 , RLVECT_1:21;
end;
thus L75: thesis by L70 , VECTSP_6:def 7;
end;
theorem
L76: (for R12 being Field holds (for R13 being (VectSp of R12) holds (for R16 being (Linear_Combination of R13) holds (for R17 being (Linear_Combination of R13) holds (for R18 being (Linear_Combination of R13) holds (for R19 being (Subset of R13) holds ((R19 is  linearly-independent & ( Carrier R16 ) c= R19 & ( Carrier R17 ) c= R19 & ( Carrier R18 ) c= R19 & ( Sum R16 ) = ( ( Sum R17 ) + ( Sum R18 ) )) implies R16 = ( R17 + R18 ))))))))
proof
let R12 being Field;
let R13 being (VectSp of R12);
let R16 being (Linear_Combination of R13);
let R17 being (Linear_Combination of R13);
let R18 being (Linear_Combination of R13);
let R19 being (Subset of R13);
assume that
L77: (R19 is  linearly-independent & ( Carrier R16 ) c= R19)
and
L78: (( Carrier R17 ) c= R19 & ( Carrier R18 ) c= R19)
and
L79: ( Sum R16 ) = ( ( Sum R17 ) + ( Sum R18 ) );
L80: (( Carrier ( R17 + R18 ) ) c= ( ( Carrier R17 ) \/ ( Carrier R18 ) ) & ( ( Carrier R17 ) \/ ( Carrier R18 ) ) c= R19) by L78 , VECTSP_6:23 , XBOOLE_1:8;
L81: ( Carrier ( R17 + R18 ) ) c= R19 by L80 , XBOOLE_1:1;
L82: ( Sum R16 ) = ( Sum ( R17 + R18 ) ) by L79 , VECTSP_6:44;
thus L83: thesis by L82 , L77 , L81 , L61;
end;
theorem
L84: (for R12 being Field holds (for R13 being (VectSp of R12) holds (for R14 being (Element of R12) holds (for R16 being (Linear_Combination of R13) holds (for R17 being (Linear_Combination of R13) holds (for R19 being (Subset of R13) holds ((R19 is  linearly-independent & ( Carrier R16 ) c= R19 & ( Carrier R17 ) c= R19 & R14 <> ( 0. R12 ) & ( Sum R16 ) = ( R14 * ( Sum R17 ) )) implies R16 = ( R14 * R17 ))))))))
proof
let R12 being Field;
let R13 being (VectSp of R12);
let R14 being (Element of R12);
let R16 being (Linear_Combination of R13);
let R17 being (Linear_Combination of R13);
let R19 being (Subset of R13);
assume that
L85: (R19 is  linearly-independent & ( Carrier R16 ) c= R19)
and
L86: (( Carrier R17 ) c= R19 & R14 <> ( 0. R12 ) & ( Sum R16 ) = ( R14 * ( Sum R17 ) ));
L87: (( Carrier ( R14 * R17 ) ) c= R19 & ( Sum R16 ) = ( Sum ( R14 * R17 ) )) by L86 , VECTSP_6:29 , VECTSP_6:45;
thus L88: thesis by L87 , L85 , L61;
end;
theorem
L89: (for R12 being Field holds (for R13 being (VectSp of R12) holds (for R15 being (Element of R13) holds (for B12 being (Basis of R13) holds (ex B13 being (Linear_Combination of R13) st (R15 = ( Sum B13 ) & ( Carrier B13 ) c= B12))))))
proof
let R12 being Field;
let R13 being (VectSp of R12);
let R15 being (Element of R13);
let C15 being (Basis of R13);
L90: R15 in ( the VectSpStr of R13 ) by RLVECT_1:1;
L91: R15 in ( Lin C15 ) by L90 , VECTSP_7:def 3;
consider C16 being (Linear_Combination of C15) such that L92: R15 = ( Sum C16 ) by L91 , VECTSP_7:7;
take D3 = C16;
thus L93: R15 = ( Sum D3 ) by L92;
thus L94: thesis by VECTSP_6:def 4;
end;
definition
let C17 being Field;
let C18 being (VectSp of C17);
attr C18 is  finite-dimensional
means
:L95: (ex B14 being  finite (Subset of C18) st B14 is (Basis of C18));
end;
registration
let C19 being Field;
cluster  strict  finite-dimensional for (VectSp of C19);
existence
proof
set D4 = the (VectSp of C19);
take ( (0). D4 );
thus L97: ( (0). D4 ) is  strict;
take D5 = ( {} (the carrier of ( (0). D4 )) );
L98: ( Lin D5 ) = ( (0). ( (0). D4 ) ) by VECTSP_7:9;
L99: ( Lin D5 ) = ( the VectSpStr of ( (0). D4 ) ) by L98 , VECTSP_4:36;
thus L100: thesis by L99 , VECTSP_7:def 3;
end;
end;
definition
let C20 being Field;
let C21 being  finite-dimensional (VectSp of C20);
mode OrdBasis of C21
 -> (FinSequence of C21)
means :L102: (it is  one-to-one & ( rng it ) is (Basis of C21));
existence
proof
consider C22 being  finite (Subset of C21) such that L103: C22 is (Basis of C21) by L95;
consider C23 being FinSequence such that L104: ( rng C23 ) = C22 and L105: C23 is  one-to-one by FINSEQ_4:58;
reconsider D6 = C23 as (FinSequence of C21) by L104 , FINSEQ_1:def 4;
take D7 = D6;
thus L106: D7 is  one-to-one by L105;
thus L107: thesis by L103 , L104;
end;
end;
definition
let C24 being non  empty doubleLoopStr;
let C25 , C26 being non  empty VectSpStr over C24;
let C27 , C28 being (Function of C25 , C26);
func C27 + C28 -> (Function of C25 , C26) means 
:L109: (for B15 being (Element of C25) holds ( it . B15 ) = ( ( C27 . B15 ) + ( C28 . B15 ) ));
existence
proof
deffunc H1((Element of C25)) = ( ( C27 . $1 ) + ( C28 . $1 ) );
consider C29 being (Function of C25 , C26) such that L110: (for B16 being (Element of C25) holds ( C29 . B16 ) = H1(B16)) from FUNCT_2:sch 4;
reconsider D8 = C29 as (Function of C25 , C26);
take D8;
thus L111: thesis by L110;
end;
uniqueness
proof
let C30 , C31 being (Function of C25 , C26);
assume that
L112: (for B17 being (Element of C25) holds ( C30 . B17 ) = ( ( C27 . B17 ) + ( C28 . B17 ) ))
and
L113: (for B18 being (Element of C25) holds ( C31 . B18 ) = ( ( C27 . B18 ) + ( C28 . B18 ) ));
L114:
now
let C32 being (Element of C25);
thus L115: ( C30 . C32 ) = ( ( C27 . C32 ) + ( C28 . C32 ) ) by L112
.= ( C31 . C32 ) by L113;
end;
thus L116: C30 = C31 by L114 , FUNCT_2:63;
end;
end;
definition
let C33 being non  empty doubleLoopStr;
let C34 , C35 being non  empty VectSpStr over C33;
let C36 being (Function of C34 , C35);
let C37 being (Element of C33);
func C37 * C36 -> (Function of C34 , C35) means 
:L118: (for B19 being (Element of C34) holds ( it . B19 ) = ( C37 * ( C36 . B19 ) ));
existence
proof
deffunc H2((Element of C34)) = ( C37 * ( C36 . $1 ) );
consider C38 being (Function of C34 , C35) such that L119: (for B20 being (Element of C34) holds ( C38 . B20 ) = H2(B20)) from FUNCT_2:sch 4;
reconsider D9 = C38 as (Function of C34 , C35);
take D9;
thus L120: thesis by L119;
end;
uniqueness
proof
let C39 , C40 being (Function of C34 , C35);
assume that
L121: (for B21 being (Element of C34) holds ( C39 . B21 ) = ( C37 * ( C36 . B21 ) ))
and
L122: (for B22 being (Element of C34) holds ( C40 . B22 ) = ( C37 * ( C36 . B22 ) ));
L123:
now
let C41 being (Element of C34);
thus L124: ( C39 . C41 ) = ( C37 * ( C36 . C41 ) ) by L121
.= ( C40 . C41 ) by L122;
end;
thus L125: C39 = C40 by L123 , FUNCT_2:63;
end;
end;
theorem
L127: (for R12 being Field holds (for R21 being  finite-dimensional (VectSp of R12) holds (for B23 being (Element of R21) holds (for B24 being (FinSequence of R21) holds (for B25 being (FinSequence of R12) holds ((( len B24 ) = ( len B25 ) & (for R1 being Nat holds (for B26 being (Element of R12) holds ((R1 in ( dom B24 ) & B26 = ( B25 . R1 )) implies ( B24 . R1 ) = ( B26 * B23 ))))) implies ( Sum B24 ) = ( ( Sum B25 ) * B23 )))))))
proof
let R12 being Field;
let R21 being  finite-dimensional (VectSp of R12);
let C42 being (Element of R21);
let C43 being (FinSequence of R21);
let C44 being (FinSequence of R12);
defpred S1[ Nat ] means (for B27 being (FinSequence of R21) holds (for B28 being (FinSequence of R12) holds ((( len B27 ) = ( len B28 ) & ( len B27 ) = $1 & (for R1 being Nat holds (for B29 being (Element of R12) holds ((R1 in ( dom B27 ) & B29 = ( B28 . R1 )) implies ( B27 . R1 ) = ( B29 * C42 ))))) implies ( Sum B27 ) = ( ( Sum B28 ) * C42 ))));
L128: (for R6 being Nat holds (S1[ R6 ] implies S1[ ( R6 + 1 ) ]))
proof
let R6 being Nat;
assume L129: (for B30 being (FinSequence of R21) holds (for B31 being (FinSequence of R12) holds ((( len B30 ) = ( len B31 ) & ( len B30 ) = R6 & (for R1 being Nat holds (for B32 being (Element of R12) holds ((R1 in ( dom B30 ) & B32 = ( B31 . R1 )) implies ( B30 . R1 ) = ( B32 * C42 ))))) implies ( Sum B30 ) = ( ( Sum B31 ) * C42 ))));
let C45 being (FinSequence of R21);
let C46 being (FinSequence of R12);
assume that
L130: ( len C45 ) = ( len C46 )
and
L131: ( len C45 ) = ( R6 + 1 )
and
L132: (for R1 being Nat holds (for B33 being (Element of R12) holds ((R1 in ( dom C45 ) & B33 = ( C46 . R1 )) implies ( C45 . R1 ) = ( B33 * C42 ))));
reconsider D10 = ( C46 | ( Seg R6 ) ) as (FinSequence of R12) by FINSEQ_1:18;
reconsider D11 = ( C45 | ( Seg R6 ) ) as (FinSequence of R21) by FINSEQ_1:18;
L133: R6 <= ( R6 + 1 ) by NAT_1:12;
L134: ( len D11 ) = R6 by L133 , L131 , FINSEQ_1:17;
L135: ( dom D11 ) = ( Seg R6 ) by L131 , L133 , FINSEQ_1:17;
L136: ( len D10 ) = R6 by L130 , L131 , L133 , FINSEQ_1:17;
L137: ( dom D10 ) = ( Seg R6 ) by L130 , L131 , L133 , FINSEQ_1:17;
L138:
now
L139: ( len D11 ) <= ( len C45 ) by L131 , L133 , FINSEQ_1:17;
L140: ( dom D11 ) c= ( dom C45 ) by L139 , FINSEQ_3:30;
let R1 being Nat;
let C47 being (Element of R12);
assume that
L141: R1 in ( dom D11 )
and
L142: C47 = ( D10 . R1 );
L143: ( C46 . R1 ) = ( D10 . R1 ) by L135 , L137 , L141 , FUNCT_1:47;
L144: ( C45 . R1 ) = ( C47 * C42 ) by L143 , L132 , L141 , L142 , L140;
thus L145: ( D11 . R1 ) = ( C47 * C42 ) by L144 , L141 , FUNCT_1:47;
end;
reconsider D12 = R6 as (Element of ( NAT )) by ORDINAL1:def 12;
L146: ( D12 + 1 ) in ( Seg ( D12 + 1 ) ) by FINSEQ_1:4;
L147: ( D12 + 1 ) in ( dom C45 ) by L146 , L131 , FINSEQ_1:def 3;
reconsider D13 = ( C45 . ( D12 + 1 ) ) as (Element of R21) by L147 , FINSEQ_2:11;
L148: ( dom C45 ) = ( dom C46 ) by L130 , FINSEQ_3:29;
reconsider D14 = ( C46 . ( D12 + 1 ) ) as (Element of R12) by L148 , L147 , FINSEQ_2:11;
L149: D13 = ( D14 * C42 ) by L132 , L147;
thus L150: ( Sum C45 ) = ( ( Sum D11 ) + D13 ) by L131 , L134 , L135 , RLVECT_1:38
.= ( ( ( Sum D10 ) * C42 ) + ( D14 * C42 ) ) by L129 , L134 , L136 , L138 , L149
.= ( ( ( Sum D10 ) + D14 ) * C42 ) by VECTSP_1:def 15
.= ( ( Sum C46 ) * C42 ) by L130 , L131 , L136 , L137 , RLVECT_1:38;
end;
L151: S1[ ( 0 ) ]
proof
let C48 being (FinSequence of R21);
let C49 being (FinSequence of R12);
assume that
L152: ( len C48 ) = ( len C49 )
and
L153: ( len C48 ) = ( 0 )
and
L154: (for R1 being Nat holds (for B34 being (Element of R12) holds ((R1 in ( dom C48 ) & B34 = ( C49 . R1 )) implies ( C48 . R1 ) = ( B34 * C42 ))));
L155: C48 = ( <*> (the carrier of R21) ) by L153;
L156: ( Sum C48 ) = ( 0. R21 ) by L155 , RLVECT_1:43;
L157: C49 = ( <*> (the carrier of R12) ) by L152 , L153;
L158: ( Sum C49 ) = ( 0. R12 ) by L157 , RLVECT_1:43;
thus L159: thesis by L158 , L156 , VECTSP_1:14;
end;
L160: (for R6 being Nat holds S1[ R6 ]) from NAT_1:sch 2(L151 , L128);
thus L161: thesis by L160;
end;
theorem
L162: (for R12 being Field holds (for R21 being  finite-dimensional (VectSp of R12) holds (for B35 being (Element of R21) holds (for B36 being (FinSequence of R12) holds (for B37 being (FinSequence of R21) holds ((( len B36 ) = ( len B37 ) & (for R1 being Nat holds (R1 in ( dom B36 ) implies ( B37 . R1 ) = ( ( B36 /. R1 ) * B35 )))) implies ( Sum B37 ) = ( ( Sum B36 ) * B35 )))))))
proof
let R12 being Field;
let R21 being  finite-dimensional (VectSp of R12);
let C50 being (Element of R21);
let C51 being (FinSequence of R12);
let C52 being (FinSequence of R21);
assume that
L163: ( len C51 ) = ( len C52 )
and
L164: (for R1 being Nat holds (R1 in ( dom C51 ) implies ( C52 . R1 ) = ( ( C51 /. R1 ) * C50 )));
L165:
now
let R1 being Nat;
let C53 being (Element of R12);
assume that
L166: R1 in ( dom C52 )
and
L167: C53 = ( C51 . R1 );
L168: R1 in ( dom C51 ) by L163 , L166 , FINSEQ_3:29;
L169: C53 = ( C51 /. R1 ) by L168 , L167 , PARTFUN1:def 6;
thus L170: ( C52 . R1 ) = ( C53 * C50 ) by L169 , L164 , L168;
end;
thus L171: thesis by L165 , L163 , L127;
end;
theorem
L172: (for B38 being  add-associative  right_zeroed  right_complementable non  empty addLoopStr holds (for B39 being (FinSequence of B38) holds ((for R1 being Nat holds (R1 in ( dom B39 ) implies ( B39 /. R1 ) = ( 0. B38 ))) implies ( Sum B39 ) = ( 0. B38 ))))
proof
let C54 being  add-associative  right_zeroed  right_complementable non  empty addLoopStr;
let C55 being (FinSequence of C54);
assume L173: (for R1 being Nat holds (R1 in ( dom C55 ) implies ( C55 /. R1 ) = ( 0. C54 )));
defpred S2[ (FinSequence of C54) ] means ((for R1 being Nat holds (R1 in ( dom $1 ) implies ( $1 /. R1 ) = ( 0. C54 ))) implies ( Sum $1 ) = ( 0. C54 ));
L174: (for B40 being (FinSequence of C54) holds (for B41 being (Element of C54) holds (S2[ B40 ] implies S2[ ( B40 ^ <* B41 *> ) ])))
proof
let C56 being (FinSequence of C54);
let C57 being (Element of C54);
assume L175: ((for R1 being Nat holds (R1 in ( dom C56 ) implies ( C56 /. R1 ) = ( 0. C54 ))) implies ( Sum C56 ) = ( 0. C54 ));
L176: ( ( len C56 ) + 1 ) in ( Seg ( ( len C56 ) + 1 ) ) by FINSEQ_1:4;
assume L177: (for R1 being Nat holds (R1 in ( dom ( C56 ^ <* C57 *> ) ) implies ( ( C56 ^ <* C57 *> ) /. R1 ) = ( 0. C54 )));
L178: (for R1 being Nat holds (R1 in ( dom C56 ) implies ( C56 /. R1 ) = ( 0. C54 )))
proof
L179: ( dom C56 ) c= ( dom ( C56 ^ <* C57 *> ) ) by FINSEQ_1:26;
let R1 being Nat;
assume that
L180: R1 in ( dom C56 );
reconsider D15 = R1 as (Element of ( NAT )) by ORDINAL1:def 12;
thus L181: ( C56 /. R1 ) = ( C56 . R1 ) by L180 , PARTFUN1:def 6
.= ( ( C56 ^ <* C57 *> ) . D15 ) by L180 , FINSEQ_1:def 7
.= ( ( C56 ^ <* C57 *> ) /. R1 ) by L180 , L179 , PARTFUN1:def 6
.= ( 0. C54 ) by L177 , L180 , L179;
end;
L182: ( len ( C56 ^ <* C57 *> ) ) = ( ( len C56 ) + ( len <* C57 *> ) ) by FINSEQ_1:22
.= ( ( len C56 ) + 1 ) by FINSEQ_1:39;
L183: ( ( len C56 ) + 1 ) in ( dom ( C56 ^ <* C57 *> ) ) by L182 , L176 , FINSEQ_1:def 3;
L184: C57 = ( ( C56 ^ <* C57 *> ) . ( ( len C56 ) + 1 ) ) by FINSEQ_1:42;
thus L185: ( Sum ( C56 ^ <* C57 *> ) ) = ( ( Sum C56 ) + ( Sum <* C57 *> ) ) by RLVECT_1:41
.= ( ( Sum C56 ) + C57 ) by RLVECT_1:44
.= ( ( Sum C56 ) + ( ( C56 ^ <* C57 *> ) /. ( ( len C56 ) + 1 ) ) ) by L183 , L184 , PARTFUN1:def 6
.= ( ( 0. C54 ) + ( 0. C54 ) ) by L175 , L177 , L178 , L183
.= ( 0. C54 ) by RLVECT_1:def 4;
end;
L186: S2[ ( <*> (the carrier of C54) ) ] by RLVECT_1:43;
L187: (for B42 being (FinSequence of C54) holds S2[ B42 ]) from FINSEQ_2:sch 2(L186 , L174);
thus L188: thesis by L187 , L173;
end;
definition
let R12 being Field;
let R21 being  finite-dimensional (VectSp of R12);
let R37 being (FinSequence of R12);
let R35 being (FinSequence of R21);
func lmlt (R37 , R35) -> (FinSequence of R21) equals 
( (the lmult of R21) .: (R37 , R35) );
coherence;
end;
theorem
L190: (for R12 being Field holds (for R21 being  finite-dimensional (VectSp of R12) holds (for R35 being (FinSequence of R21) holds (for R37 being (FinSequence of R12) holds (( dom R37 ) = ( dom R35 ) implies ( dom ( lmlt (R37 , R35) ) ) = ( dom R37 ))))))
proof
let R12 being Field;
let R21 being  finite-dimensional (VectSp of R12);
let R35 being (FinSequence of R21);
let R37 being (FinSequence of R12);
assume L191: ( dom R37 ) = ( dom R35 );
L192: (( rng R37 ) c= (the carrier of R12) & ( rng R35 ) c= (the carrier of R21)) by FINSEQ_1:def 4;
L193: [: ( rng R37 ) , ( rng R35 ) :] c= [: (the carrier of R12) , (the carrier of R21) :] by L192 , ZFMISC_1:96;
L194: (( rng <: R37 , R35 :> ) c= [: ( rng R37 ) , ( rng R35 ) :] & [: (the carrier of R12) , (the carrier of R21) :] = ( dom (the lmult of R21) )) by FUNCT_2:def 1 , FUNCT_3:51;
thus L195: ( dom ( lmlt (R37 , R35) ) ) = ( dom <: R37 , R35 :> ) by L194 , L193 , RELAT_1:27 , XBOOLE_1:1
.= ( ( dom R37 ) /\ ( dom R35 ) ) by FUNCT_3:def 7
.= ( dom R37 ) by L191;
end;
definition
let C58 being non  empty addLoopStr;
let C59 being (FinSequence of ( (the carrier of C58) * ));
func Sum C59 -> (FinSequence of C58) means 
:L196: (( len it ) = ( len C59 ) & (for R1 being Nat holds (R1 in ( dom it ) implies ( it /. R1 ) = ( Sum ( C59 /. R1 ) ))));
existence
proof
deffunc H3(Nat) = ( Sum ( C59 /. $1 ) );
consider C60 being (FinSequence of C58) such that L197: (( len C60 ) = ( len C59 ) & (for B43 being Nat holds (B43 in ( dom C60 ) implies ( C60 . B43 ) = H3(B43)))) from FINSEQ_2:sch 1;
take C60;
thus L198: ( len C60 ) = ( len C59 ) by L197;
thus L199:now
let R1 being Nat;
assume L200: R1 in ( dom C60 );
thus L201: ( C60 /. R1 ) = ( C60 . R1 ) by L200 , PARTFUN1:def 6
.= ( Sum ( C59 /. R1 ) ) by L197 , L200;
end;
end;
uniqueness
proof
let C61 , C62 being (FinSequence of C58);
assume that
L200: ( len C61 ) = ( len C59 )
and
L201: (for R1 being Nat holds (R1 in ( dom C61 ) implies ( C61 /. R1 ) = ( Sum ( C59 /. R1 ) )))
and
L202: ( len C62 ) = ( len C59 )
and
L203: (for R1 being Nat holds (R1 in ( dom C62 ) implies ( C62 /. R1 ) = ( Sum ( C59 /. R1 ) )));
L204: ( dom C61 ) = ( Seg ( len C61 ) ) by FINSEQ_1:def 3;
L205:
now
let C63 being Nat;
assume L206: C63 in ( dom C61 );
L207: C63 in ( dom C62 ) by L206 , L200 , L202 , L204 , FINSEQ_1:def 3;
thus L208: ( C61 . C63 ) = ( C61 /. C63 ) by L206 , PARTFUN1:def 6
.= ( Sum ( C59 /. C63 ) ) by L201 , L206
.= ( C62 /. C63 ) by L203 , L207
.= ( C62 . C63 ) by L207 , PARTFUN1:def 6;
end;
thus L209: thesis by L205 , L200 , L202 , FINSEQ_2:9;
end;
end;
theorem
L211: (for R12 being Field holds (for R21 being  finite-dimensional (VectSp of R12) holds (for B44 being (Matrix of (the carrier of R21)) holds (( len B44 ) = ( 0 ) implies ( Sum ( Sum B44 ) ) = ( 0. R21 )))))
proof
let R12 being Field;
let R21 being  finite-dimensional (VectSp of R12);
let C64 being (Matrix of (the carrier of R21));
assume L212: ( len C64 ) = ( 0 );
L213: ( len ( Sum C64 ) ) = ( 0 ) by L212 , L196;
L214: ( Sum C64 ) = ( <*> (the carrier of R21) ) by L213;
thus L215: thesis by L214 , RLVECT_1:43;
end;
theorem
L216: (for R5 being Nat holds (for R12 being Field holds (for R21 being  finite-dimensional (VectSp of R12) holds (for B45 being (Matrix of ( R5 + 1 ) , ( 0 ) , (the carrier of R21)) holds ( Sum ( Sum B45 ) ) = ( 0. R21 )))))
proof
let R5 being Nat;
let R12 being Field;
let R21 being  finite-dimensional (VectSp of R12);
let C65 being (Matrix of ( R5 + 1 ) , ( 0 ) , (the carrier of R21));
L217: (for R1 being Nat holds (R1 in ( dom ( Sum C65 ) ) implies ( ( Sum C65 ) /. R1 ) = ( 0. R21 )))
proof
let R1 being Nat;
assume that
L218: R1 in ( dom ( Sum C65 ) );
reconsider D16 = R1 as (Element of ( NAT )) by ORDINAL1:def 12;
L219: ( len C65 ) = ( len ( Sum C65 ) ) by L196;
L220: ( dom C65 ) = ( dom ( Sum C65 ) ) by L219 , FINSEQ_3:29;
L221: ( C65 /. D16 ) in ( rng C65 ) by L220 , L218 , PARTFUN2:2;
L222: ( len ( C65 /. R1 ) ) = ( 0 ) by L221 , MATRIX_1:def 2;
L223: ( C65 /. R1 ) = ( <*> (the carrier of R21) ) by L222;
thus L224: ( ( Sum C65 ) /. R1 ) = ( Sum ( C65 /. R1 ) ) by L218 , L196
.= ( 0. R21 ) by L223 , RLVECT_1:43;
end;
thus L225: thesis by L217 , L172;
end;
theorem
L226: (for R11 being non  empty set holds (for B46 being (Element of R11) holds <* <* B46 *> *> = ( <* <* B46 *> *> @ )))
proof
let R11 being non  empty set;
let C66 being (Element of R11);
set D17 = <* <* C66 *> *>;
set D18 = ( <* <* C66 *> *> @ );
L227: ( len D17 ) = 1 by FINSEQ_1:40;
L228: ( width D17 ) = ( len <* C66 *> ) by L227 , MATRIX_1:20
.= 1 by FINSEQ_1:40;
L229: ( len D18 ) = 1 by L228 , MATRIX_2:10;
L230:
now
let R3 being Nat;
let R4 being Nat;
assume L231: [ R3 , R4 ] in ( Indices D17 );
L232: [ R3 , R4 ] in [: ( dom D17 ) , ( Seg 1 ) :] by L231 , L228 , MATRIX_1:def 4;
L233: R3 in ( dom D17 ) by L232 , ZFMISC_1:87;
L234: R3 in ( Seg 1 ) by L233 , L227 , FINSEQ_1:def 3;
L235: R3 = 1 by L234 , FINSEQ_1:2 , TARSKI:def 1;
L236: R4 in ( Seg 1 ) by L232 , ZFMISC_1:87;
L237: R4 = 1 by L236 , FINSEQ_1:2 , TARSKI:def 1;
thus L238: ( D17 * (R3 , R4) ) = ( D18 * (R3 , R4) ) by L237 , L231 , L235 , MATRIX_1:def 6;
end;
L239: ( width D18 ) = 1 by L227 , L228 , MATRIX_2:10;
thus L240: thesis by L239 , L227 , L228 , L229 , L230 , MATRIX_1:21;
end;
theorem
L241: (for R12 being Field holds (for B47 , B48 being (VectSp of R12) holds (for B49 being (Function of B47 , B48) holds (for B50 being (FinSequence of B47) holds (B49 is  additive  homogeneous implies ( B49 . ( Sum B50 ) ) = ( Sum ( B49 * B50 ) ))))))
proof
let R12 being Field;
let C67 , C68 being (VectSp of R12);
let C69 being (Function of C67 , C68);
let C70 being (FinSequence of C67);
defpred S3[ (FinSequence of C67) ] means ( C69 . ( Sum $1 ) ) = ( Sum ( C69 * $1 ) );
assume L242: C69 is  additive  homogeneous;
L243: (for B51 being (FinSequence of C67) holds (for B52 being (Element of C67) holds (S3[ B51 ] implies S3[ ( B51 ^ <* B52 *> ) ])))
proof
let C71 being (FinSequence of C67);
let C72 being (Element of C67);
assume that
L244: ( C69 . ( Sum C71 ) ) = ( Sum ( C69 * C71 ) );
thus L245: ( C69 . ( Sum ( C71 ^ <* C72 *> ) ) ) = ( C69 . ( ( Sum C71 ) + ( Sum <* C72 *> ) ) ) by RLVECT_1:41
.= ( ( Sum ( C69 * C71 ) ) + ( C69 . ( Sum <* C72 *> ) ) ) by L242 , L244 , VECTSP_1:def 20
.= ( ( Sum ( C69 * C71 ) ) + ( C69 . C72 ) ) by RLVECT_1:44
.= ( ( Sum ( C69 * C71 ) ) + ( Sum <* ( C69 . C72 ) *> ) ) by RLVECT_1:44
.= ( Sum ( ( C69 * C71 ) ^ <* ( C69 . C72 ) *> ) ) by RLVECT_1:41
.= ( Sum ( C69 * ( C71 ^ <* C72 *> ) ) ) by FINSEQOP:8;
end;
L246: ( C69 . ( Sum ( <*> (the carrier of C67) ) ) ) = ( C69 . ( 0. C67 ) ) by RLVECT_1:43
.= ( C69 . ( ( 0. R12 ) * ( 0. C67 ) ) ) by VECTSP_1:14
.= ( ( 0. R12 ) * ( C69 . ( 0. C67 ) ) ) by L242 , MOD_2:def 2
.= ( 0. C68 ) by VECTSP_1:14
.= ( Sum ( <*> (the carrier of C68) ) ) by RLVECT_1:43
.= ( Sum ( C69 * ( <*> (the carrier of C67) ) ) );
L247: S3[ ( <*> (the carrier of C67) ) ] by L246;
L248: (for B53 being (FinSequence of C67) holds S3[ B53 ]) from FINSEQ_2:sch 2(L247 , L243);
thus L249: thesis by L248;
end;
theorem
L250: (for R12 being Field holds (for R21 being  finite-dimensional (VectSp of R12) holds (for R22 being  finite-dimensional (VectSp of R12) holds (for R24 being (Function of R21 , R22) holds (for B54 being (FinSequence of R12) holds (for B55 being (FinSequence of R21) holds (( len B55 ) = ( len B54 ) implies (R24 is  additive  homogeneous implies ( R24 * ( lmlt (B54 , B55) ) ) = ( lmlt (B54 , ( R24 * B55 )) )))))))))
proof
let R12 being Field;
let R21 being  finite-dimensional (VectSp of R12);
let R22 being  finite-dimensional (VectSp of R12);
let R24 being (Function of R21 , R22);
let C73 being (FinSequence of R12);
let C74 being (FinSequence of R21);
assume L251: ( len C74 ) = ( len C73 );
L252: ( dom C74 ) = ( dom C73 ) by L251 , FINSEQ_3:29;
L253: ( dom R24 ) = (the carrier of R21) by FUNCT_2:def 1;
L254: ( rng C74 ) c= ( dom R24 ) by L253 , FINSEQ_1:def 4;
L255: ( dom C74 ) = ( dom ( R24 * C74 ) ) by L254 , RELAT_1:27;
assume L256: R24 is  additive  homogeneous;
L257:
now
set D19 = ( R24 * C74 );
let C75 being Nat;
assume L258: C75 in ( dom ( R24 * ( lmlt (C73 , C74) ) ) );
L259: ( dom ( R24 * ( lmlt (C73 , C74) ) ) ) c= ( dom ( lmlt (C73 , C74) ) ) by RELAT_1:25;
L260: C75 in ( dom ( lmlt (C73 , C74) ) ) by L259 , L258;
L261: C75 in ( dom C74 ) by L260 , L252 , L190;
L262: ( C74 /. C75 ) = ( C74 . C75 ) by L261 , PARTFUN1:def 6;
L263: C75 in ( dom ( lmlt (C73 , ( R24 * C74 )) ) ) by L252 , L255 , L261 , L190;
L264: ( C73 /. C75 ) = ( C73 . C75 ) by L252 , L261 , PARTFUN1:def 6;
L265: ( D19 /. C75 ) = ( ( R24 * C74 ) . C75 ) by L255 , L261 , PARTFUN1:def 6;
thus L266: ( ( R24 * ( lmlt (C73 , C74) ) ) . C75 ) = ( R24 . ( ( lmlt (C73 , C74) ) . C75 ) ) by L258 , FUNCT_1:12
.= ( R24 . ( (the lmult of R21) . (( C73 . C75 ) , ( C74 . C75 )) ) ) by L258 , L259 , FUNCOP_1:22
.= ( R24 . ( ( C73 /. C75 ) * ( C74 /. C75 ) ) ) by L264 , L262 , VECTSP_1:def 12
.= ( ( C73 /. C75 ) * ( R24 . ( C74 /. C75 ) ) ) by L256 , MOD_2:def 2
.= ( ( C73 /. C75 ) * ( D19 /. C75 ) ) by L261 , L262 , L265 , FUNCT_1:13
.= ( (the lmult of R22) . (( C73 . C75 ) , ( ( R24 * C74 ) . C75 )) ) by L264 , L265 , VECTSP_1:def 12
.= ( ( lmlt (C73 , ( R24 * C74 )) ) . C75 ) by L263 , FUNCOP_1:22;
end;
L267: ( dom ( lmlt (C73 , C74) ) ) = ( dom C74 ) by L252 , L190
.= ( dom ( lmlt (C73 , ( R24 * C74 )) ) ) by L252 , L255 , L190;
L268: ( len ( lmlt (C73 , C74) ) ) = ( len ( lmlt (C73 , ( R24 * C74 )) ) ) by L267 , FINSEQ_3:29;
L269: ( len ( R24 * ( lmlt (C73 , C74) ) ) ) = ( len ( lmlt (C73 , ( R24 * C74 )) ) ) by L268 , FINSEQ_2:33;
thus L270: thesis by L269 , L257 , FINSEQ_2:9;
end;
theorem
L271: (for R12 being Field holds (for R22 being  finite-dimensional (VectSp of R12) holds (for R23 being  finite-dimensional (VectSp of R12) holds (for R27 being (Function of R22 , R23) holds (for R29 being (OrdBasis of R22) holds (for B56 being (FinSequence of R12) holds ((( len B56 ) = ( len R29 ) & R27 is  additive  homogeneous) implies ( R27 . ( Sum ( lmlt (B56 , R29) ) ) ) = ( Sum ( lmlt (B56 , ( R27 * R29 )) ) ))))))))
proof
let R12 being Field;
let R22 being  finite-dimensional (VectSp of R12);
let R23 being  finite-dimensional (VectSp of R12);
let R27 being (Function of R22 , R23);
let R29 being (OrdBasis of R22);
let C76 being (FinSequence of R12);
assume that
L272: ( len C76 ) = ( len R29 )
and
L273: R27 is  additive  homogeneous;
thus L274: ( R27 . ( Sum ( lmlt (C76 , R29) ) ) ) = ( Sum ( R27 * ( lmlt (C76 , R29) ) ) ) by L273 , L241
.= ( Sum ( lmlt (C76 , ( R27 * R29 )) ) ) by L272 , L273 , L250;
end;
theorem
L275: (for R12 being Field holds (for R21 being  finite-dimensional (VectSp of R12) holds (for B57 , B58 being (FinSequence of R21) holds (for B59 being (Linear_Combination of R21) holds (for B60 being (Permutation of ( dom B57 )) holds (B58 = ( B57 * B60 ) implies ( B59 (#) B58 ) = ( ( B59 (#) B57 ) * B60 )))))))
proof
let R12 being Field;
let R21 being  finite-dimensional (VectSp of R12);
let C77 , C78 being (FinSequence of R21);
let C79 being (Linear_Combination of R21);
let C80 being (Permutation of ( dom C77 ));
assume that
L276: C78 = ( C77 * C80 );
L277: ( dom C77 ) = ( Seg ( len C77 ) ) by FINSEQ_1:def 3;
L278: ( dom C77 ) = ( Seg ( len ( C79 (#) C77 ) ) ) by L277 , VECTSP_6:def 5;
L279: ( dom C77 ) = ( dom ( C79 (#) C77 ) ) by L278 , FINSEQ_1:def 3;
reconsider D20 = ( ( C79 (#) C77 ) * C80 ) as (FinSequence of R21) by L279 , FINSEQ_2:47;
L280: ( len ( C79 (#) C78 ) ) = ( len C78 ) by VECTSP_6:def 5
.= ( len C77 ) by L276 , FINSEQ_2:44
.= ( len ( C79 (#) C77 ) ) by VECTSP_6:def 5
.= ( len D20 ) by L279 , FINSEQ_2:44;
L281: ( dom ( C79 (#) C78 ) ) = ( dom ( ( C79 (#) C77 ) * C80 ) ) by L280 , FINSEQ_3:29;
L282: ( len ( C79 (#) C78 ) ) = ( len C78 ) by VECTSP_6:def 5;
L283: ( dom ( C79 (#) C78 ) ) = ( dom C78 ) by L282 , FINSEQ_3:29;
L284:
now
let C81 being Nat;
reconsider D21 = C81 as (Element of ( NAT )) by ORDINAL1:def 12;
assume L285: C81 in ( dom ( C79 (#) C78 ) );
L286: C81 in ( dom C80 ) by L285 , L281 , FUNCT_1:11;
L287: ( C80 . C81 ) in ( rng C80 ) by L286 , FUNCT_1:def 3;
L288: ( C80 . C81 ) in ( dom C77 ) by L287 , FUNCT_2:def 3;
reconsider D22 = ( C80 . D21 ) as (Element of ( NAT )) by L288 , FINSEQ_3:23;
L289: ( C78 /. C81 ) = ( C78 . C81 ) by L283 , L285 , PARTFUN1:def 6
.= ( C77 . ( C80 . C81 ) ) by L276 , L283 , L285 , FUNCT_1:12
.= ( C77 /. ( C80 . C81 ) ) by L288 , PARTFUN1:def 6;
thus L290: ( ( C79 (#) C78 ) . C81 ) = ( ( C79 . ( C77 /. D22 ) ) * ( C77 /. D22 ) ) by L289 , L285 , VECTSP_6:def 5
.= ( ( C79 (#) C77 ) . D22 ) by L279 , L288 , VECTSP_6:def 5
.= ( D20 . C81 ) by L281 , L285 , FUNCT_1:12;
end;
thus L291: thesis by L284 , L281 , FINSEQ_1:13;
end;
theorem
L292: (for R12 being Field holds (for R21 being  finite-dimensional (VectSp of R12) holds (for R36 being (FinSequence of R21) holds (for R39 being (Linear_Combination of R21) holds ((R36 is  one-to-one & ( Carrier R39 ) c= ( rng R36 )) implies ( Sum ( R39 (#) R36 ) ) = ( Sum R39 ))))))
proof
let R12 being Field;
let R21 being  finite-dimensional (VectSp of R12);
let R36 being (FinSequence of R21);
let R39 being (Linear_Combination of R21);
assume L293: R36 is  one-to-one;
assume L294: ( Carrier R39 ) c= ( rng R36 );
reconsider D23 = ( Carrier R39 ) as (Subset of ( rng R36 )) by L294;
consider C82 being (Permutation of ( dom R36 )) such that L295: ( ( R36 - ( D23 ` ) ) ^ ( R36 - D23 ) ) = ( R36 * C82 ) by FINSEQ_3:115;
reconsider D24 = ( R36 - ( D23 ` ) ) , D25 = ( R36 - D23 ) as (FinSequence of R21) by FINSEQ_3:86;
L296: D24 is  one-to-one by L293 , FINSEQ_3:87;
L297: ( len ( R39 (#) R36 ) ) = ( len R36 ) by VECTSP_6:def 5;
L298: ( dom ( R39 (#) R36 ) ) = ( dom R36 ) by L297 , FINSEQ_3:29;
reconsider D26 = C82 as (Permutation of ( dom ( R39 (#) R36 ) )) by L298;
L299: ( rng D24 ) = ( ( rng R36 ) \ ( D23 ` ) ) by FINSEQ_3:65
.= ( ( rng R36 ) \ ( ( rng R36 ) \ ( Carrier R39 ) ) ) by SUBSET_1:def 4
.= ( ( rng R36 ) /\ ( Carrier R39 ) ) by XBOOLE_1:48
.= ( Carrier R39 ) by L294 , XBOOLE_1:28;
L300: (for R1 being Nat holds (R1 in ( dom ( R39 (#) D25 ) ) implies ( ( R39 (#) D25 ) /. R1 ) = ( 0. R21 )))
proof
let R1 being Nat;
assume that
L301: R1 in ( dom ( R39 (#) D25 ) );
L302: ( len ( R39 (#) D25 ) ) = ( len D25 ) by VECTSP_6:def 5;
L303: ( dom ( R39 (#) D25 ) ) = ( dom D25 ) by L302 , FINSEQ_3:29;
L304: ( D25 . R1 ) in ( rng D25 ) by L303 , L301 , FUNCT_1:def 3;
L305: ( D25 . R1 ) in ( ( rng R36 ) \ ( Carrier R39 ) ) by L304 , FINSEQ_3:65;
L306: (not ( D25 . R1 ) in ( Carrier R39 )) by L305 , XBOOLE_0:def 5;
L307: (not ( D25 /. R1 ) in ( Carrier R39 )) by L306 , L301 , L303 , PARTFUN1:def 6;
reconsider D27 = R1 as (Element of ( NAT )) by ORDINAL1:def 12;
thus L308: ( ( R39 (#) D25 ) /. R1 ) = ( ( R39 (#) D25 ) . R1 ) by L301 , PARTFUN1:def 6
.= ( ( R39 . ( D25 /. D27 ) ) * ( D25 /. D27 ) ) by L301 , VECTSP_6:def 5
.= ( ( 0. R12 ) * ( D25 /. R1 ) ) by L307 , VECTSP_6:2
.= ( 0. R21 ) by VECTSP_1:14;
end;
L309: ( Sum ( R39 (#) D25 ) ) = ( 0. R21 ) by L300 , L172;
L310: ( R39 (#) ( D24 ^ D25 ) ) = ( ( R39 (#) R36 ) * D26 ) by L295 , L275;
thus L311: ( Sum ( R39 (#) R36 ) ) = ( Sum ( R39 (#) ( D24 ^ D25 ) ) ) by L310 , RLVECT_2:7
.= ( Sum ( ( R39 (#) D24 ) ^ ( R39 (#) D25 ) ) ) by VECTSP_6:13
.= ( ( Sum ( R39 (#) D24 ) ) + ( Sum ( R39 (#) D25 ) ) ) by RLVECT_1:41
.= ( ( Sum R39 ) + ( 0. R21 ) ) by L296 , L299 , L309 , VECTSP_6:def 6
.= ( Sum R39 ) by RLVECT_1:4;
end;
theorem
L312: (for R12 being Field holds (for R21 being  finite-dimensional (VectSp of R12) holds (for R22 being  finite-dimensional (VectSp of R12) holds (for R25 being (Function of R21 , R22) holds (for R26 being (Function of R21 , R22) holds (for B61 being set holds (for B62 being (FinSequence of R21) holds (( rng B62 ) c= B61 implies ((R25 is  additive  homogeneous & R26 is  additive  homogeneous & (for R33 being (Element of R21) holds (R33 in B61 implies ( R25 . R33 ) = ( R26 . R33 )))) implies ( R25 . ( Sum B62 ) ) = ( R26 . ( Sum B62 ) ))))))))))
proof
let R12 being Field;
let R21 being  finite-dimensional (VectSp of R12);
let R22 being  finite-dimensional (VectSp of R12);
let R25 being (Function of R21 , R22);
let R26 being (Function of R21 , R22);
let C83 being set;
let C84 being (FinSequence of R21);
assume that
L313: ( rng C84 ) c= C83;
defpred S4[ (FinSequence of R21) ] means (( rng $1 ) c= C83 implies ( R25 . ( Sum $1 ) ) = ( R26 . ( Sum $1 ) ));
assume L314: R25 is  additive  homogeneous;
assume L315: R26 is  additive  homogeneous;
assume L316: (for R33 being (Element of R21) holds (R33 in C83 implies ( R25 . R33 ) = ( R26 . R33 )));
L317: (for B63 being (FinSequence of R21) holds (for B64 being (Element of R21) holds (S4[ B63 ] implies S4[ ( B63 ^ <* B64 *> ) ])))
proof
let C85 being (FinSequence of R21);
let C86 being (Element of R21);
assume that
L318: (( rng C85 ) c= C83 implies ( R25 . ( Sum C85 ) ) = ( R26 . ( Sum C85 ) ));
L319: ( rng C85 ) c= ( ( rng C85 ) \/ ( rng <* C86 *> ) ) by XBOOLE_1:7;
assume L320: ( rng ( C85 ^ <* C86 *> ) ) c= C83;
L321: ( ( rng C85 ) \/ ( rng <* C86 *> ) ) c= C83 by L320 , FINSEQ_1:31;
L322: ( rng <* C86 *> ) c= ( ( rng C85 ) \/ ( rng <* C86 *> ) ) by XBOOLE_1:7;
L323: ( rng <* C86 *> ) c= C83 by L322 , L321 , XBOOLE_1:1;
L324: { C86 } c= C83 by L323 , FINSEQ_1:39;
L325: C86 in C83 by L324 , ZFMISC_1:31;
thus L326: ( R25 . ( Sum ( C85 ^ <* C86 *> ) ) ) = ( R25 . ( ( Sum C85 ) + ( Sum <* C86 *> ) ) ) by RLVECT_1:41
.= ( ( R26 . ( Sum C85 ) ) + ( R25 . ( Sum <* C86 *> ) ) ) by L314 , L318 , L321 , L319 , VECTSP_1:def 20 , XBOOLE_1:1
.= ( ( R26 . ( Sum C85 ) ) + ( R25 . C86 ) ) by RLVECT_1:44
.= ( ( R26 . ( Sum C85 ) ) + ( R26 . C86 ) ) by L316 , L325
.= ( ( R26 . ( Sum C85 ) ) + ( R26 . ( Sum <* C86 *> ) ) ) by RLVECT_1:44
.= ( R26 . ( ( Sum C85 ) + ( Sum <* C86 *> ) ) ) by L315 , VECTSP_1:def 20
.= ( R26 . ( Sum ( C85 ^ <* C86 *> ) ) ) by RLVECT_1:41;
end;
L327: S4[ ( <*> (the carrier of R21) ) ]
proof
assume L328: ( rng ( <*> (the carrier of R21) ) ) c= C83;
thus L329: ( R25 . ( Sum ( <*> (the carrier of R21) ) ) ) = ( R25 . ( 0. R21 ) ) by RLVECT_1:43
.= ( R25 . ( ( 0. R12 ) * ( 0. R21 ) ) ) by VECTSP_1:14
.= ( ( 0. R12 ) * ( R25 . ( 0. R21 ) ) ) by L314 , MOD_2:def 2
.= ( 0. R22 ) by VECTSP_1:14
.= ( ( 0. R12 ) * ( R26 . ( 0. R21 ) ) ) by VECTSP_1:14
.= ( R26 . ( ( 0. R12 ) * ( 0. R21 ) ) ) by L315 , MOD_2:def 2
.= ( R26 . ( 0. R21 ) ) by VECTSP_1:14
.= ( R26 . ( Sum ( <*> (the carrier of R21) ) ) ) by RLVECT_1:43;
end;
L330: (for B65 being (FinSequence of R21) holds S4[ B65 ]) from FINSEQ_2:sch 2(L327 , L317);
thus L331: thesis by L330 , L313;
end;
theorem
L332: (for R12 being Field holds (for R21 being  finite-dimensional (VectSp of R12) holds (for R22 being  finite-dimensional (VectSp of R12) holds (for R25 being (Function of R21 , R22) holds (for R26 being (Function of R21 , R22) holds ((R25 is  additive  homogeneous & R26 is  additive  homogeneous) implies (for B66 being (OrdBasis of R21) holds (( len B66 ) > ( 0 ) implies (( R25 * B66 ) = ( R26 * B66 ) implies R25 = R26)))))))))
proof
let R12 being Field;
let R21 being  finite-dimensional (VectSp of R12);
let R22 being  finite-dimensional (VectSp of R12);
let R25 being (Function of R21 , R22);
let R26 being (Function of R21 , R22);
assume that
L333: R25 is  additive  homogeneous
and
L334: R26 is  additive  homogeneous;
let C87 being (OrdBasis of R21);
assume that
L335: ( len C87 ) > ( 0 );
reconsider D28 = ( rng C87 ) as (Basis of R21) by L102;
assume L336: ( R25 * C87 ) = ( R26 * C87 );
L337:
now
L338: ( len C87 ) in ( Seg ( len C87 ) ) by L335 , FINSEQ_1:3;
reconsider D29 = ( dom C87 ) as non  empty set by L338 , FINSEQ_1:def 3;
let C88 being (Element of R21);
L339: ( Lin D28 ) = ( the VectSpStr of R21 ) by VECTSP_7:def 3;
L340: C88 in ( Lin D28 ) by L339 , RLVECT_1:1;
consider C89 being (Linear_Combination of D28) such that L341: C88 = ( Sum C89 ) by L340 , VECTSP_7:7;
set D30 = ( C89 (#) C87 );
set D31 = { ( ( C89 . ( C87 /. B67 ) ) * ( C87 /. B67 ) ) where B67 is (Element of D29) : (not contradiction) };
L342: ( rng D30 ) c= D31
proof
let R7 being set;
assume L343: R7 in ( rng D30 );
consider C90 being Nat such that L344: C90 in ( dom D30 ) and L345: ( D30 . C90 ) = R7 by L343 , FINSEQ_2:10;
L346: ( dom D30 ) = ( Seg ( len D30 ) ) by FINSEQ_1:def 3;
L347: C90 in ( Seg ( len C87 ) ) by L346 , L344 , VECTSP_6:def 5;
L348: C90 in ( dom C87 ) by L347 , FINSEQ_1:def 3;
L349: ( ( C89 (#) C87 ) . C90 ) = ( ( C89 . ( C87 /. C90 ) ) * ( C87 /. C90 ) ) by L344 , VECTSP_6:def 5;
thus L350: thesis by L349 , L345 , L348;
end;
L351: (for R34 being (Element of R21) holds (R34 in D31 implies ( R25 . R34 ) = ( R26 . R34 )))
proof
let R34 being (Element of R21);
assume L352: R34 in D31;
consider C91 being (Element of D29) such that L353: R34 = ( ( C89 . ( C87 /. C91 ) ) * ( C87 /. C91 ) ) by L352;
L354: ( R25 . ( C87 /. C91 ) ) = ( R25 . ( C87 . C91 ) ) by PARTFUN1:def 6
.= ( ( R26 * C87 ) . C91 ) by L336 , FUNCT_1:13
.= ( R26 . ( C87 . C91 ) ) by FUNCT_1:13
.= ( R26 . ( C87 /. C91 ) ) by PARTFUN1:def 6;
L355: ( R25 . ( ( C89 . ( C87 /. C91 ) ) * ( C87 /. C91 ) ) ) = ( ( C89 . ( C87 /. C91 ) ) * ( R26 . ( C87 /. C91 ) ) ) by L354 , L333 , MOD_2:def 2
.= ( R26 . ( ( C89 . ( C87 /. C91 ) ) * ( C87 /. C91 ) ) ) by L334 , MOD_2:def 2;
thus L356: thesis by L355 , L353;
end;
L357: (C87 is  one-to-one & ( Carrier C89 ) c= ( rng C87 )) by L102 , VECTSP_6:def 4;
thus L358: ( R25 . C88 ) = ( R25 . ( Sum ( C89 (#) C87 ) ) ) by L357 , L341 , L292
.= ( R26 . ( Sum D30 ) ) by L333 , L334 , L342 , L351 , L312
.= ( R26 . C88 ) by L341 , L357 , L292;
end;
thus L359: thesis by L337 , FUNCT_2:63;
end;
registration
let C92 being non  empty set;
cluster  ->  FinSequence-yielding for (Matrix of C92);
coherence;
end;
definition
let C93 being non  empty set;
let C94 , C95 being (Matrix of C93);
redefine func C94 ^^ C95 -> (Matrix of C93);

coherence
proof
reconsider D32 = ( C94 ^^ C95 ) as FinSequence;
L361: (ex R6 being Nat st (for R7 being set holds (R7 in ( rng D32 ) implies (ex B68 being (FinSequence of C93) st (R7 = B68 & ( len B68 ) = R6)))))
proof
take D33 = ( ( width C94 ) + ( width C95 ) );
let R7 being set;
L362: (( rng C94 ) c= ( C93 * ) & ( rng C95 ) c= ( C93 * )) by FINSEQ_1:def 4;
assume L363: R7 in ( rng D32 );
consider R8 being set such that L364: R8 in ( dom D32 ) and L365: R7 = ( D32 . R8 ) by L363 , FUNCT_1:def 3;
L366: ( dom D32 ) = ( ( dom C94 ) /\ ( dom C95 ) ) by PRE_POLY:def 4;
L367: R8 in ( dom C95 ) by L366 , L364 , XBOOLE_0:def 4;
L368: ( C95 . R8 ) in ( rng C95 ) by L367 , FUNCT_1:def 3;
L369: R8 in ( dom C94 ) by L364 , L366 , XBOOLE_0:def 4;
L370: ( C94 . R8 ) in ( rng C94 ) by L369 , FUNCT_1:def 3;
reconsider D34 = ( C94 . R8 ) , D35 = ( C95 . R8 ) as (FinSequence of C93) by L370 , L368 , L362 , FINSEQ_1:def 11;
reconsider D36 = R8 as Nat by L364 , FINSEQ_3:23;
L371: ( C95 . D36 ) = ( Line (C95 , D36) ) by L367 , MATRIX_2:16;
L372: R7 = ( D34 ^ D35 ) by L364 , L365 , PRE_POLY:def 4;
reconsider D37 = R7 as (FinSequence of C93) by L372;
take D37;
thus L373: R7 = D37;
L374: ( C94 . D36 ) = ( Line (C94 , D36) ) by L369 , MATRIX_2:16;
thus L375: ( len D37 ) = ( ( len ( Line (C94 , D36) ) ) + ( len ( Line (C95 , D36) ) ) ) by L374 , L372 , L371 , FINSEQ_1:22
.= ( ( width C94 ) + ( len ( Line (C95 , D36) ) ) ) by MATRIX_1:def 7
.= D33 by MATRIX_1:def 7;
end;
thus L376: thesis by L361 , MATRIX_1:9;
end;
end;
definition
let C96 being non  empty set;
let R6 being Nat;
let R5 being Nat;
let R1 being Nat;
let C97 being (Matrix of R6 , R1 , C96);
let C98 being (Matrix of R5 , R1 , C96);
redefine func C97 ^ C98 -> (Matrix of ( R6 + R5 ) , R1 , C96);

coherence
proof
per cases ;
suppose L378: R6 = ( 0 );

L379: ( len C97 ) = ( 0 ) by L378 , MATRIX_1:def 2;
L380: C97 = ( {} ) by L379;
thus L381: thesis by L380 , L378 , FINSEQ_1:34;
end;
suppose L382: R5 = ( 0 );

L383: ( len C98 ) = ( 0 ) by L382 , MATRIX_1:def 2;
L384: C98 = ( {} ) by L383;
thus L385: thesis by L384 , L382 , FINSEQ_1:34;
end;
suppose that L386: R6 <> ( 0 )
and
L387: R5 <> ( 0 );
L388: ( len C98 ) = R5 by MATRIX_1:def 2;
L389: ( width C98 ) = R1 by L388 , L387 , MATRIX_1:20;
L390: ( len C97 ) = R6 by MATRIX_1:def 2;
L391: ( width C97 ) = R1 by L390 , L386 , MATRIX_1:20;
L392: (ex R6 being Nat st (for R7 being set holds (R7 in ( rng ( C97 ^ C98 ) ) implies (ex B69 being (FinSequence of C96) st (R7 = B69 & ( len B69 ) = R6)))))
proof
take R1;
let R7 being set;
assume that
L393: R7 in ( rng ( C97 ^ C98 ) );
L394: ( rng ( C97 ^ C98 ) ) c= ( C96 * ) by FINSEQ_1:def 4;
reconsider D38 = R7 as (FinSequence of C96) by L394 , L393 , FINSEQ_1:def 11;
take D38;
L395: R7 in ( ( rng C97 ) \/ ( rng C98 ) ) by L393 , FINSEQ_1:31;
L396:
now
per cases  by L395 , XBOOLE_0:def 3;
suppose L397: R7 in ( rng C97 );

consider R9 being set such that L398: R9 in ( dom C97 ) and L399: R7 = ( C97 . R9 ) by L397 , FUNCT_1:def 3;
reconsider D39 = R9 as Nat by L398 , FINSEQ_3:23;
L400: R7 = ( Line (C97 , D39) ) by L398 , L399 , MATRIX_2:16;
thus L401: ( len D38 ) = R1 by L400 , L391 , MATRIX_1:def 7;
end;
suppose L402: R7 in ( rng C98 );

consider R10 being set such that L403: R10 in ( dom C98 ) and L404: R7 = ( C98 . R10 ) by L402 , FUNCT_1:def 3;
reconsider D40 = R10 as Nat by L403 , FINSEQ_3:23;
L405: R7 = ( Line (C98 , D40) ) by L403 , L404 , MATRIX_2:16;
thus L406: ( len D38 ) = R1 by L405 , L389 , MATRIX_1:def 7;
end;
end;
thus L408: thesis by L396;
end;
reconsider D41 = ( C97 ^ C98 ) as (Matrix of C96) by L392 , MATRIX_1:9;
L409: (( len C97 ) = R6 & ( len C98 ) = R5) by MATRIX_1:def 2;
L410: ( len D41 ) = ( R6 + R5 ) by L409 , FINSEQ_1:22;
consider C99 being FinSequence such that L411: C99 in ( rng D41 ) and L412: ( len C99 ) = ( width D41 ) by L410 , L386 , MATRIX_1:def 3;
L413: C99 in ( ( rng C97 ) \/ ( rng C98 ) ) by L411 , FINSEQ_1:31;
L414:
now
per cases  by L413 , XBOOLE_0:def 3;
suppose L415: C99 in ( rng C97 );

consider R9 being set such that L416: R9 in ( dom C97 ) and L417: C99 = ( C97 . R9 ) by L415 , FUNCT_1:def 3;
reconsider D42 = R9 as Nat by L416 , FINSEQ_3:23;
L418: C99 = ( Line (C97 , D42) ) by L416 , L417 , MATRIX_2:16;
thus L419: ( width D41 ) = R1 by L418 , L391 , L412 , MATRIX_1:def 7;
end;
suppose L420: C99 in ( rng C98 );

consider R10 being set such that L421: R10 in ( dom C98 ) and L422: C99 = ( C98 . R10 ) by L420 , FUNCT_1:def 3;
reconsider D43 = R10 as Nat by L421 , FINSEQ_3:23;
L423: C99 = ( Line (C98 , D43) ) by L421 , L422 , MATRIX_2:16;
thus L424: ( width D41 ) = R1 by L423 , L389 , L412 , MATRIX_1:def 7;
end;
end;
thus L426: thesis by L414 , L386 , L410 , MATRIX_1:20;
end;
end;
end;
theorem
L429: (for R1 being Nat holds (for R3 being Nat holds (for R5 being Nat holds (for R6 being Nat holds (for R11 being non  empty set holds (for B70 being (Matrix of R6 , R1 , R11) holds (for B71 being (Matrix of R5 , R1 , R11) holds (R3 in ( dom B70 ) implies ( Line (( B70 ^ B71 ) , R3) ) = ( Line (B70 , R3) )))))))))
proof
let R1 being Nat;
let R3 being Nat;
let R5 being Nat;
let R6 being Nat;
let R11 being non  empty set;
let C100 being (Matrix of R6 , R1 , R11);
let C101 being (Matrix of R5 , R1 , R11);
assume that
L430: R3 in ( dom C100 );
reconsider D44 = R3 as (Element of ( NAT )) by ORDINAL1:def 12;
L431: ( dom C100 ) c= ( dom ( C100 ^ C101 ) ) by FINSEQ_1:26;
thus L432: ( Line (( C100 ^ C101 ) , R3) ) = ( ( C100 ^ C101 ) . R3 ) by L431 , L430 , MATRIX_2:16
.= ( C100 . D44 ) by L430 , FINSEQ_1:def 7
.= ( Line (C100 , R3) ) by L430 , MATRIX_2:16;
end;
theorem
L433: (for R1 being Nat holds (for R5 being Nat holds (for R6 being Nat holds (for R11 being non  empty set holds (for B72 being (Matrix of R6 , R1 , R11) holds (for B73 being (Matrix of R5 , R1 , R11) holds (( width B72 ) = ( width B73 ) implies ( width ( B72 ^ B73 ) ) = ( width B72 ))))))))
proof
let R1 being Nat;
let R5 being Nat;
let R6 being Nat;
let R11 being non  empty set;
let C102 being (Matrix of R6 , R1 , R11);
let C103 being (Matrix of R5 , R1 , R11);
assume that
L434: ( width C102 ) = ( width C103 );
consider R6 being Nat such that L435: (for R7 being set holds (R7 in ( rng ( C102 ^ C103 ) ) implies (ex B74 being (FinSequence of R11) st (R7 = B74 & ( len B74 ) = R6)))) by MATRIX_1:9;
per cases ;
suppose L436: ( len ( C102 ^ C103 ) ) = ( 0 );

L437: ( ( len C102 ) + ( len C103 ) ) = ( 0 ) by L436 , FINSEQ_1:22;
L438: ( len C102 ) = ( 0 ) by L437;
L439: ( width ( C102 ^ C103 ) ) = ( 0 ) by L436 , MATRIX_1:def 3
.= ( width C102 ) by L438 , MATRIX_1:def 3;
thus L440: thesis by L439;
end;
suppose L441: ( len ( C102 ^ C103 ) ) > ( 0 );

L442: ( ( len C102 ) + ( len C103 ) ) > ( ( 0 ) + ( 0 ) ) by L441 , FINSEQ_1:22;
consider C104 being FinSequence such that L443: C104 in ( rng ( C102 ^ C103 ) ) and L444: ( len C104 ) = ( width ( C102 ^ C103 ) ) by L441 , MATRIX_1:def 3;
L445: (ex B75 being (FinSequence of R11) st (C104 = B75 & ( len B75 ) = R6)) by L435 , L443;
per cases  by L442;
suppose L446: ( len C102 ) > ( 0 );

consider C105 being FinSequence such that L447: C105 in ( rng C102 ) and L448: ( len C105 ) = ( width C102 ) by L446 , MATRIX_1:def 3;
L449: ( rng C102 ) c= ( rng ( C102 ^ C103 ) ) by FINSEQ_1:29;
L450: (ex B76 being (FinSequence of R11) st (C105 = B76 & ( len B76 ) = R6)) by L449 , L435 , L447;
thus L451: thesis by L450 , L444 , L445 , L448;
end;
suppose L452: ( len C103 ) > ( 0 );

consider C106 being FinSequence such that L453: C106 in ( rng C103 ) and L454: ( len C106 ) = ( width C103 ) by L452 , MATRIX_1:def 3;
L455: ( rng C103 ) c= ( rng ( C102 ^ C103 ) ) by FINSEQ_1:30;
L456: (ex B77 being (FinSequence of R11) st (C106 = B77 & ( len B77 ) = R6)) by L455 , L435 , L453;
thus L457: thesis by L456 , L434 , L444 , L445 , L454;
end;
end;
end;
theorem
L460: (for R1 being Nat holds (for R2 being Nat holds (for R3 being Nat holds (for R5 being Nat holds (for R6 being Nat holds (for R11 being non  empty set holds (for B78 being (Matrix of R2 , R1 , R11) holds (for B79 being (Matrix of R5 , R1 , R11) holds ((R6 in ( dom B79 ) & R3 = ( ( len B78 ) + R6 )) implies ( Line (( B78 ^ B79 ) , R3) ) = ( Line (B79 , R6) ))))))))))
proof
let R1 being Nat;
let R2 being Nat;
let R3 being Nat;
let R5 being Nat;
let R6 being Nat;
let R11 being non  empty set;
let C107 being (Matrix of R2 , R1 , R11);
let C108 being (Matrix of R5 , R1 , R11);
assume that
L461: R6 in ( dom C108 )
and
L462: R3 = ( ( len C107 ) + R6 );
reconsider D45 = R6 as (Element of ( NAT )) by ORDINAL1:def 12;
L463: R3 in ( dom ( C107 ^ C108 ) ) by L461 , L462 , FINSEQ_1:28;
thus L464: ( Line (( C107 ^ C108 ) , R3) ) = ( ( C107 ^ C108 ) . R3 ) by L463 , MATRIX_2:16
.= ( C108 . D45 ) by L461 , L462 , FINSEQ_1:def 7
.= ( Line (C108 , R6) ) by L461 , MATRIX_2:16;
end;
theorem
L465: (for R1 being Nat holds (for R5 being Nat holds (for R6 being Nat holds (for R11 being non  empty set holds (for B80 being (Matrix of R6 , R1 , R11) holds (for B81 being (Matrix of R5 , R1 , R11) holds (( width B80 ) = ( width B81 ) implies (for R3 being Nat holds (R3 in ( Seg ( width B80 ) ) implies ( Col (( B80 ^ B81 ) , R3) ) = ( ( Col (B80 , R3) ) ^ ( Col (B81 , R3) ) ))))))))))
proof
let R1 being Nat;
let R5 being Nat;
let R6 being Nat;
let R11 being non  empty set;
let C109 being (Matrix of R6 , R1 , R11);
let C110 being (Matrix of R5 , R1 , R11);
assume that
L466: ( width C109 ) = ( width C110 );
let R3 being Nat;
assume that
L467: R3 in ( Seg ( width C109 ) );
L468: ( dom ( Col (( C109 ^ C110 ) , R3) ) ) = ( Seg ( len ( Col (( C109 ^ C110 ) , R3) ) ) ) by FINSEQ_1:def 3;
L469: ( len ( Col (( C109 ^ C110 ) , R3) ) ) = ( len ( C109 ^ C110 ) ) by MATRIX_1:def 8
.= ( ( len C109 ) + ( len C110 ) ) by FINSEQ_1:22
.= ( ( len C109 ) + ( len ( Col (C110 , R3) ) ) ) by MATRIX_1:def 8
.= ( ( len ( Col (C109 , R3) ) ) + ( len ( Col (C110 , R3) ) ) ) by MATRIX_1:def 8
.= ( len ( ( Col (C109 , R3) ) ^ ( Col (C110 , R3) ) ) ) by FINSEQ_1:22;
L470:
now
let C111 being Nat;
assume L471: C111 in ( dom ( Col (( C109 ^ C110 ) , R3) ) );
L472: C111 in ( Seg ( len ( C109 ^ C110 ) ) ) by L471 , L468 , MATRIX_1:def 8;
L473: C111 in ( dom ( C109 ^ C110 ) ) by L472 , FINSEQ_1:def 3;
L474: R3 in ( Seg ( width ( C109 ^ C110 ) ) ) by L466 , L467 , L433;
L475: [ C111 , R3 ] in [: ( dom ( C109 ^ C110 ) ) , ( Seg ( width ( C109 ^ C110 ) ) ) :] by L474 , L473 , ZFMISC_1:87;
L476: [ C111 , R3 ] in ( Indices ( C109 ^ C110 ) ) by L475 , MATRIX_1:def 4;
consider C112 being (FinSequence of R11) such that L477: C112 = ( ( C109 ^ C110 ) . C111 ) and L478: ( ( C109 ^ C110 ) * (C111 , R3) ) = ( C112 . R3 ) by L476 , MATRIX_1:def 5;
L479: C111 in ( dom ( ( Col (C109 , R3) ) ^ ( Col (C110 , R3) ) ) ) by L469 , L468 , L471 , FINSEQ_1:def 3;
L480:
now
per cases  by L479 , FINSEQ_1:25;
suppose L481: C111 in ( dom ( Col (C109 , R3) ) );

L482: C111 in ( Seg ( len ( Col (C109 , R3) ) ) ) by L481 , FINSEQ_1:def 3;
L483: C111 in ( Seg ( len C109 ) ) by L482 , MATRIX_1:def 8;
L484: C111 in ( dom C109 ) by L483 , FINSEQ_1:def 3;
L485: [ C111 , R3 ] in [: ( dom C109 ) , ( Seg ( width C109 ) ) :] by L484 , L467 , ZFMISC_1:87;
L486: [ C111 , R3 ] in ( Indices C109 ) by L485 , MATRIX_1:def 4;
consider C113 being (FinSequence of R11) such that L487: C113 = ( C109 . C111 ) and L488: ( C109 * (C111 , R3) ) = ( C113 . R3 ) by L486 , MATRIX_1:def 5;
L489: C112 = C113 by L477 , L484 , L487 , FINSEQ_1:def 7;
thus L490: ( ( Col (( C109 ^ C110 ) , R3) ) . C111 ) = ( C109 * (C111 , R3) ) by L489 , L473 , L478 , L488 , MATRIX_1:def 8
.= ( ( Col (C109 , R3) ) . C111 ) by L484 , MATRIX_1:def 8
.= ( ( ( Col (C109 , R3) ) ^ ( Col (C110 , R3) ) ) . C111 ) by L481 , FINSEQ_1:def 7;
end;
suppose L491: (ex B82 being Nat st (B82 in ( dom ( Col (C110 , R3) ) ) & C111 = ( ( len ( Col (C109 , R3) ) ) + B82 )));

consider C114 being Nat such that L492: C114 in ( dom ( Col (C110 , R3) ) ) and L493: C111 = ( ( len ( Col (C109 , R3) ) ) + C114 ) by L491;
L494: C114 in ( Seg ( len ( Col (C110 , R3) ) ) ) by L492 , FINSEQ_1:def 3;
L495: C114 in ( Seg ( len C110 ) ) by L494 , MATRIX_1:def 8;
L496: C114 in ( dom C110 ) by L495 , FINSEQ_1:def 3;
L497: [ C114 , R3 ] in [: ( dom C110 ) , ( Seg ( width C110 ) ) :] by L496 , L466 , L467 , ZFMISC_1:87;
L498: [ C114 , R3 ] in ( Indices C110 ) by L497 , MATRIX_1:def 4;
consider C115 being (FinSequence of R11) such that L499: C115 = ( C110 . C114 ) and L500: ( C110 * (C114 , R3) ) = ( C115 . R3 ) by L498 , MATRIX_1:def 5;
L501: ( len ( Col (C110 , R3) ) ) = ( len C110 ) by MATRIX_1:def 8;
L502: (( len ( Col (C109 , R3) ) ) = ( len C109 ) & ( dom ( Col (C110 , R3) ) ) = ( dom C110 )) by L501 , FINSEQ_3:29 , MATRIX_1:def 8;
L503: C112 = C115 by L502 , L477 , L492 , L493 , L499 , FINSEQ_1:def 7;
thus L504: ( ( Col (( C109 ^ C110 ) , R3) ) . C111 ) = ( C110 * (C114 , R3) ) by L503 , L473 , L478 , L500 , MATRIX_1:def 8
.= ( ( Col (C110 , R3) ) . C114 ) by L496 , MATRIX_1:def 8
.= ( ( ( Col (C109 , R3) ) ^ ( Col (C110 , R3) ) ) . C111 ) by L492 , L493 , FINSEQ_1:def 7;
end;
end;
thus L506: ( ( Col (( C109 ^ C110 ) , R3) ) . C111 ) = ( ( ( Col (C109 , R3) ) ^ ( Col (C110 , R3) ) ) . C111 ) by L480;
end;
thus L507: thesis by L470 , L469 , FINSEQ_2:9;
end;
theorem
L508: (for R1 being Nat holds (for R5 being Nat holds (for R6 being Nat holds (for R12 being Field holds (for R13 being (VectSp of R12) holds (for B83 being (Matrix of R6 , R1 , (the carrier of R13)) holds (for B84 being (Matrix of R5 , R1 , (the carrier of R13)) holds ( Sum ( B83 ^ B84 ) ) = ( ( Sum B83 ) ^ ( Sum B84 ) ))))))))
proof
let R1 being Nat;
let R5 being Nat;
let R6 being Nat;
let R12 being Field;
let R13 being (VectSp of R12);
let C116 being (Matrix of R6 , R1 , (the carrier of R13));
let C117 being (Matrix of R5 , R1 , (the carrier of R13));
L509: ( dom ( Sum ( C116 ^ C117 ) ) ) = ( Seg ( len ( Sum ( C116 ^ C117 ) ) ) ) by FINSEQ_1:def 3;
L510:
now
let C118 being Nat;
assume L511: C118 in ( dom ( Sum ( C116 ^ C117 ) ) );
L512: C118 in ( Seg ( len ( C116 ^ C117 ) ) ) by L511 , L509 , L196;
L513: C118 in ( dom ( C116 ^ C117 ) ) by L512 , FINSEQ_1:def 3;
L514:
now
per cases  by L513 , FINSEQ_1:25;
suppose L515: C118 in ( dom C116 );

L516: ( len C116 ) = ( len ( Sum C116 ) ) by L196;
L517: ( dom C116 ) = ( dom ( Sum C116 ) ) by L516 , FINSEQ_3:29;
thus L518: ( ( Sum ( C116 ^ C117 ) ) . C118 ) = ( ( Sum ( C116 ^ C117 ) ) /. C118 ) by L511 , PARTFUN1:def 6
.= ( Sum ( ( C116 ^ C117 ) /. C118 ) ) by L511 , L196
.= ( Sum ( C116 /. C118 ) ) by L515 , FINSEQ_4:68
.= ( ( Sum C116 ) /. C118 ) by L515 , L517 , L196
.= ( ( Sum C116 ) . C118 ) by L515 , L517 , PARTFUN1:def 6
.= ( ( ( Sum C116 ) ^ ( Sum C117 ) ) . C118 ) by L515 , L517 , FINSEQ_1:def 7;
end;
suppose L519: (ex B85 being Nat st (B85 in ( dom C117 ) & C118 = ( ( len C116 ) + B85 )));

L520: ( len C116 ) = ( len ( Sum C116 ) ) by L196;
L521: ( len C117 ) = ( len ( Sum C117 ) ) by L196;
L522: ( dom C117 ) = ( dom ( Sum C117 ) ) by L521 , FINSEQ_3:29;
consider C119 being Nat such that L523: C119 in ( dom C117 ) and L524: C118 = ( ( len C116 ) + C119 ) by L519;
thus L525: ( ( Sum ( C116 ^ C117 ) ) . C118 ) = ( ( Sum ( C116 ^ C117 ) ) /. C118 ) by L511 , PARTFUN1:def 6
.= ( Sum ( ( C116 ^ C117 ) /. C118 ) ) by L511 , L196
.= ( Sum ( C117 /. C119 ) ) by L523 , L524 , FINSEQ_4:69
.= ( ( Sum C117 ) /. C119 ) by L523 , L522 , L196
.= ( ( Sum C117 ) . C119 ) by L523 , L522 , PARTFUN1:def 6
.= ( ( ( Sum C116 ) ^ ( Sum C117 ) ) . C118 ) by L523 , L524 , L520 , L522 , FINSEQ_1:def 7;
end;
end;
thus L527: ( ( Sum ( C116 ^ C117 ) ) . C118 ) = ( ( ( Sum C116 ) ^ ( Sum C117 ) ) . C118 ) by L514;
end;
L528: ( len ( Sum ( C116 ^ C117 ) ) ) = ( len ( C116 ^ C117 ) ) by L196
.= ( ( len C116 ) + ( len C117 ) ) by FINSEQ_1:22
.= ( ( len ( Sum C116 ) ) + ( len C117 ) ) by L196
.= ( ( len ( Sum C116 ) ) + ( len ( Sum C117 ) ) ) by L196
.= ( len ( ( Sum C116 ) ^ ( Sum C117 ) ) ) by FINSEQ_1:22;
thus L529: thesis by L528 , L510 , FINSEQ_2:9;
end;
theorem
L530: (for R1 being Nat holds (for R5 being Nat holds (for R6 being Nat holds (for R11 being non  empty set holds (for B86 being (Matrix of R6 , R1 , R11) holds (for B87 being (Matrix of R5 , R1 , R11) holds (( width B86 ) = ( width B87 ) implies ( ( B86 ^ B87 ) @ ) = ( ( B86 @ ) ^^ ( B87 @ ) ))))))))
proof
let R1 being Nat;
let R5 being Nat;
let R6 being Nat;
let R11 being non  empty set;
let C120 being (Matrix of R6 , R1 , R11);
let C121 being (Matrix of R5 , R1 , R11);
assume that
L531: ( width C120 ) = ( width C121 );
L532: ( Seg ( len ( ( C120 @ ) ^^ ( C121 @ ) ) ) ) = ( dom ( ( C120 @ ) ^^ ( C121 @ ) ) ) by FINSEQ_1:def 3
.= ( ( dom ( C120 @ ) ) /\ ( dom ( C121 @ ) ) ) by PRE_POLY:def 4
.= ( ( dom ( C120 @ ) ) /\ ( Seg ( len ( C121 @ ) ) ) ) by FINSEQ_1:def 3
.= ( ( Seg ( len ( C120 @ ) ) ) /\ ( Seg ( len ( C121 @ ) ) ) ) by FINSEQ_1:def 3
.= ( ( Seg ( width C120 ) ) /\ ( Seg ( len ( C121 @ ) ) ) ) by MATRIX_1:def 6
.= ( ( Seg ( width C120 ) ) /\ ( Seg ( width C121 ) ) ) by MATRIX_1:def 6
.= ( Seg ( width C120 ) ) by L531;
L533: ( dom ( ( C120 ^ C121 ) @ ) ) = ( Seg ( len ( ( C120 ^ C121 ) @ ) ) ) by FINSEQ_1:def 3;
L534: ( len ( ( C120 ^ C121 ) @ ) ) = ( width ( C120 ^ C121 ) ) by MATRIX_1:def 6
.= ( width C120 ) by L531 , L433
.= ( len ( ( C120 @ ) ^^ ( C121 @ ) ) ) by L532 , FINSEQ_1:6;
L535:
now
let C122 being Nat;
assume L536: C122 in ( dom ( ( C120 ^ C121 ) @ ) );
L537: C122 in ( Seg ( width ( C120 ^ C121 ) ) ) by L536 , L533 , MATRIX_1:def 6;
L538: C122 in ( dom ( ( C120 @ ) ^^ ( C121 @ ) ) ) by L534 , L533 , L536 , FINSEQ_1:def 3;
L539: C122 in ( ( dom ( C120 @ ) ) /\ ( dom ( C121 @ ) ) ) by L538 , PRE_POLY:def 4;
L540: C122 in ( dom ( C121 @ ) ) by L539 , XBOOLE_0:def 4;
L541: C122 in ( dom ( C120 @ ) ) by L539 , XBOOLE_0:def 4;
reconsider D46 = ( ( C120 @ ) . C122 ) , D47 = ( ( C121 @ ) . C122 ) as FinSequence;
L542: C122 in ( ( Seg ( len ( C120 @ ) ) ) /\ ( dom ( C121 @ ) ) ) by L539 , FINSEQ_1:def 3;
L543: C122 in ( ( Seg ( len ( C120 @ ) ) ) /\ ( Seg ( len ( C121 @ ) ) ) ) by L542 , FINSEQ_1:def 3;
L544: C122 in ( ( Seg ( width C120 ) ) /\ ( Seg ( len ( C121 @ ) ) ) ) by L543 , MATRIX_1:def 6;
L545: C122 in ( ( Seg ( width C120 ) ) /\ ( Seg ( width C121 ) ) ) by L544 , MATRIX_1:def 6;
thus L546: ( ( ( C120 ^ C121 ) @ ) . C122 ) = ( Line (( ( C120 ^ C121 ) @ ) , C122) ) by L536 , MATRIX_2:16
.= ( Col (( C120 ^ C121 ) , C122) ) by L537 , MATRIX_2:15
.= ( ( Col (C120 , C122) ) ^ ( Col (C121 , C122) ) ) by L531 , L545 , L465
.= ( ( Line (( C120 @ ) , C122) ) ^ ( Col (C121 , C122) ) ) by L531 , L545 , MATRIX_2:15
.= ( ( Line (( C120 @ ) , C122) ) ^ ( Line (( C121 @ ) , C122) ) ) by L531 , L545 , MATRIX_2:15
.= ( ( Line (( C120 @ ) , C122) ) ^ D47 ) by L540 , MATRIX_2:16
.= ( D46 ^ D47 ) by L541 , MATRIX_2:16
.= ( ( ( C120 @ ) ^^ ( C121 @ ) ) . C122 ) by L538 , PRE_POLY:def 4;
end;
thus L547: thesis by L535 , L534 , FINSEQ_2:9;
end;
theorem
L548: (for R12 being Field holds (for R21 being  finite-dimensional (VectSp of R12) holds (for B88 , B89 being (Matrix of (the carrier of R21)) holds ( ( Sum B88 ) + ( Sum B89 ) ) = ( Sum ( B88 ^^ B89 ) ))))
proof
let R12 being Field;
let R21 being  finite-dimensional (VectSp of R12);
let C123 , C124 being (Matrix of (the carrier of R21));
reconsider D48 = ( min (( len C123 ) , ( len C124 )) ) as (Element of ( NAT )) by FINSEQ_2:1;
L549: ( Seg D48 ) = ( ( Seg ( len C123 ) ) /\ ( Seg ( len C124 ) ) ) by FINSEQ_2:2
.= ( ( Seg ( len C123 ) ) /\ ( dom C124 ) ) by FINSEQ_1:def 3
.= ( ( dom C123 ) /\ ( dom C124 ) ) by FINSEQ_1:def 3
.= ( dom ( C123 ^^ C124 ) ) by PRE_POLY:def 4
.= ( Seg ( len ( C123 ^^ C124 ) ) ) by FINSEQ_1:def 3;
L550: ( len ( ( Sum C123 ) + ( Sum C124 ) ) ) = ( min (( len ( Sum C123 ) ) , ( len ( Sum C124 ) )) ) by FINSEQ_2:71
.= ( min (( len C123 ) , ( len ( Sum C124 ) )) ) by L196
.= ( min (( len C123 ) , ( len C124 )) ) by L196
.= ( len ( C123 ^^ C124 ) ) by L549 , FINSEQ_1:6
.= ( len ( Sum ( C123 ^^ C124 ) ) ) by L196;
L551: ( dom ( ( Sum C123 ) + ( Sum C124 ) ) ) = ( Seg ( len ( ( Sum C123 ) + ( Sum C124 ) ) ) ) by FINSEQ_1:def 3;
L552:
now
let C125 being Nat;
assume L553: C125 in ( dom ( ( Sum C123 ) + ( Sum C124 ) ) );
L554: C125 in ( dom ( Sum ( C123 ^^ C124 ) ) ) by L553 , L550 , L551 , FINSEQ_1:def 3;
L555: C125 in ( Seg ( len ( C123 ^^ C124 ) ) ) by L550 , L551 , L553 , L196;
L556: C125 in ( dom ( C123 ^^ C124 ) ) by L555 , FINSEQ_1:def 3;
L557: C125 in ( ( dom C123 ) /\ ( dom C124 ) ) by L556 , PRE_POLY:def 4;
L558: C125 in ( dom C123 ) by L557 , XBOOLE_0:def 4;
L559: C125 in ( dom C124 ) by L557 , XBOOLE_0:def 4;
reconsider D49 = ( C123 . C125 ) , D50 = ( C124 . C125 ) as FinSequence;
L560: ( ( C123 /. C125 ) ^ ( C124 /. C125 ) ) = ( D49 ^ ( C124 /. C125 ) ) by L558 , PARTFUN1:def 6
.= ( D49 ^ D50 ) by L559 , PARTFUN1:def 6
.= ( ( C123 ^^ C124 ) . C125 ) by L556 , PRE_POLY:def 4
.= ( ( C123 ^^ C124 ) /. C125 ) by L556 , PARTFUN1:def 6;
L561: C125 in ( Seg ( len C124 ) ) by L559 , FINSEQ_1:def 3;
L562: C125 in ( Seg ( len ( Sum C124 ) ) ) by L561 , L196;
L563: C125 in ( dom ( Sum C124 ) ) by L562 , FINSEQ_1:def 3;
L564: ( ( Sum C124 ) /. C125 ) = ( ( Sum C124 ) . C125 ) by L563 , PARTFUN1:def 6;
L565: C125 in ( Seg ( len C123 ) ) by L558 , FINSEQ_1:def 3;
L566: C125 in ( Seg ( len ( Sum C123 ) ) ) by L565 , L196;
L567: C125 in ( dom ( Sum C123 ) ) by L566 , FINSEQ_1:def 3;
L568: ( ( Sum C123 ) /. C125 ) = ( ( Sum C123 ) . C125 ) by L567 , PARTFUN1:def 6;
thus L569: ( ( ( Sum C123 ) + ( Sum C124 ) ) . C125 ) = ( ( ( Sum C123 ) /. C125 ) + ( ( Sum C124 ) /. C125 ) ) by L568 , L553 , L564 , FUNCOP_1:22
.= ( ( Sum ( C123 /. C125 ) ) + ( ( Sum C124 ) /. C125 ) ) by L567 , L196
.= ( ( Sum ( C123 /. C125 ) ) + ( Sum ( C124 /. C125 ) ) ) by L563 , L196
.= ( Sum ( ( C123 ^^ C124 ) /. C125 ) ) by L560 , RLVECT_1:41
.= ( ( Sum ( C123 ^^ C124 ) ) /. C125 ) by L554 , L196
.= ( ( Sum ( C123 ^^ C124 ) ) . C125 ) by L554 , PARTFUN1:def 6;
end;
thus L570: thesis by L552 , L550 , FINSEQ_2:9;
end;
theorem
L571: (for R12 being Field holds (for R21 being  finite-dimensional (VectSp of R12) holds (for B90 , B91 being (FinSequence of R21) holds (( len B90 ) = ( len B91 ) implies ( Sum ( B90 + B91 ) ) = ( ( Sum B90 ) + ( Sum B91 ) )))))
proof
let R12 being Field;
let R21 being  finite-dimensional (VectSp of R12);
let C126 , C127 being (FinSequence of R21);
assume L572: ( len C126 ) = ( len C127 );
reconsider D51 = C126 , D52 = C127 as (Element of ( ( len C126 ) -tuples_on (the carrier of R21) )) by L572 , FINSEQ_2:92;
thus L573: ( Sum ( C126 + C127 ) ) = ( Sum ( D51 + D52 ) )
.= ( ( Sum C126 ) + ( Sum C127 ) ) by FVSUM_1:76;
end;
theorem
L574: (for R12 being Field holds (for R21 being  finite-dimensional (VectSp of R12) holds (for B92 , B93 being (Matrix of (the carrier of R21)) holds (( len B92 ) = ( len B93 ) implies ( ( Sum ( Sum B92 ) ) + ( Sum ( Sum B93 ) ) ) = ( Sum ( Sum ( B92 ^^ B93 ) ) )))))
proof
let R12 being Field;
let R21 being  finite-dimensional (VectSp of R12);
let C128 , C129 being (Matrix of (the carrier of R21));
assume that
L575: ( len C128 ) = ( len C129 );
L576: ( len ( Sum C128 ) ) = ( len C128 ) by L196
.= ( len ( Sum C129 ) ) by L575 , L196;
thus L577: ( ( Sum ( Sum C128 ) ) + ( Sum ( Sum C129 ) ) ) = ( Sum ( ( Sum C128 ) + ( Sum C129 ) ) ) by L576 , L571
.= ( Sum ( Sum ( C128 ^^ C129 ) ) ) by L548;
end;
theorem
L578: (for R12 being Field holds (for R21 being  finite-dimensional (VectSp of R12) holds (for B94 being (Matrix of (the carrier of R21)) holds ( Sum ( Sum B94 ) ) = ( Sum ( Sum ( B94 @ ) ) ))))
proof
let R12 being Field;
let R21 being  finite-dimensional (VectSp of R12);
defpred S5[ Nat ] means (for B95 being (Matrix of (the carrier of R21)) holds (( len B95 ) = $1 implies ( Sum ( Sum B95 ) ) = ( Sum ( Sum ( B95 @ ) ) )));
let C130 being (Matrix of (the carrier of R21));
L579: (for B96 being (FinSequence of R21) holds ( Sum ( Sum <* B96 *> ) ) = ( Sum ( Sum ( <* B96 *> @ ) ) ))
proof
defpred S6[ (FinSequence of R21) ] means ( Sum ( Sum <* $1 *> ) ) = ( Sum ( Sum ( <* $1 *> @ ) ) );
let C131 being (FinSequence of R21);
L580: ( len <* ( <*> (the carrier of R21) ) *> ) = 1 by MATRIX_1:def 2;
L581: ( width <* ( <*> (the carrier of R21) ) *> ) = ( 0 ) by L580 , MATRIX_1:20;
L582: ( len ( <* ( <*> (the carrier of R21) ) *> @ ) ) = ( 0 ) by L581 , MATRIX_1:def 6;
L583: (for B97 being (FinSequence of R21) holds (for B98 being (Element of R21) holds (S6[ B97 ] implies S6[ ( B97 ^ <* B98 *> ) ])))
proof
let C132 being (FinSequence of R21);
let C133 being (Element of R21);
assume that
L584: ( Sum ( Sum <* C132 *> ) ) = ( Sum ( Sum ( <* C132 *> @ ) ) );
L585: ( Seg ( len ( <* C132 *> ^^ <* <* C133 *> *> ) ) ) = ( dom ( <* C132 *> ^^ <* <* C133 *> *> ) ) by FINSEQ_1:def 3
.= ( ( dom <* C132 *> ) /\ ( dom <* <* C133 *> *> ) ) by PRE_POLY:def 4
.= ( ( Seg 1 ) /\ ( dom <* <* C133 *> *> ) ) by FINSEQ_1:38
.= ( ( Seg 1 ) /\ ( Seg 1 ) ) by FINSEQ_1:38
.= ( Seg 1 );
L586: ( len ( <* C132 *> ^^ <* <* C133 *> *> ) ) = 1 by L585 , FINSEQ_1:6
.= ( len <* ( C132 ^ <* C133 *> ) *> ) by FINSEQ_1:39;
L587: ( dom ( <* C132 *> ^^ <* <* C133 *> *> ) ) = ( Seg ( len <* ( C132 ^ <* C133 *> ) *> ) ) by L586 , FINSEQ_1:def 3;
L588:
now
let C134 being Nat;
assume L589: C134 in ( dom ( <* C132 *> ^^ <* <* C133 *> *> ) );
L590: C134 in { 1 } by L589 , L587 , FINSEQ_1:2 , FINSEQ_1:40;
L591: C134 = 1 by L590 , TARSKI:def 1;
reconsider D53 = ( <* C132 *> . C134 ) , D54 = ( <* <* C133 *> *> . C134 ) as FinSequence;
thus L592: ( ( <* C132 *> ^^ <* <* C133 *> *> ) . C134 ) = ( D53 ^ D54 ) by L589 , PRE_POLY:def 4
.= ( C132 ^ D54 ) by L591 , FINSEQ_1:40
.= ( C132 ^ <* C133 *> ) by L591 , FINSEQ_1:40
.= ( <* ( C132 ^ <* C133 *> ) *> . C134 ) by L591 , FINSEQ_1:40;
end;
per cases ;
suppose L593: ( len C132 ) = ( 0 );

L594: C132 = ( {} ) by L593;
thus L595: ( Sum ( Sum <* ( C132 ^ <* C133 *> ) *> ) ) = ( Sum ( Sum <* <* C133 *> *> ) ) by L594 , FINSEQ_1:34
.= ( Sum ( Sum ( <* <* C133 *> *> @ ) ) ) by L226
.= ( Sum ( Sum ( <* ( C132 ^ <* C133 *> ) *> @ ) ) ) by L594 , FINSEQ_1:34;
end;
suppose L596: ( len C132 ) <> ( 0 );

L597: ( len <* <* C133 *> *> ) = 1 by FINSEQ_1:40;
L598: ( width <* <* C133 *> *> ) = ( len <* C133 *> ) by L597 , MATRIX_1:20
.= 1 by FINSEQ_1:40;
L599: ( len ( <* <* C133 *> *> @ ) ) = 1 by L598 , MATRIX_1:def 6;
L600: ( len <* C132 *> ) = 1 by FINSEQ_1:40;
L601: ( width <* C132 *> ) = ( len C132 ) by L600 , MATRIX_1:20;
L602: ( len ( <* C132 *> @ ) ) = ( len C132 ) by L601 , MATRIX_1:def 6;
L603: ( width ( <* C132 *> @ ) ) = 1 by L596 , L600 , L601 , MATRIX_2:10;
reconsider D55 = ( <* C132 *> @ ) as (Matrix of ( len C132 ) , 1 , (the carrier of R21)) by L603 , L596 , L602 , MATRIX_1:20;
L604: ( len <* ( C132 ^ <* C133 *> ) *> ) = 1 by FINSEQ_1:40;
L605: ( width <* ( C132 ^ <* C133 *> ) *> ) = ( len ( C132 ^ <* C133 *> ) ) by L604 , MATRIX_1:20
.= ( ( len C132 ) + ( len <* C133 *> ) ) by FINSEQ_1:22
.= ( ( len C132 ) + 1 ) by FINSEQ_1:40;
L606: ( ( <* <* C133 *> *> @ ) @ ) = <* <* C133 *> *> by L597 , L598 , MATRIX_2:13;
L607: ( width ( <* C132 *> @ ) ) = ( len <* C132 *> ) by L596 , L601 , MATRIX_2:10
.= ( width ( <* <* C133 *> *> @ ) ) by L600 , L597 , L598 , MATRIX_2:10;
L608: ( width ( <* <* C133 *> *> @ ) ) = 1 by L607 , L596 , L600 , L601 , MATRIX_2:10;
reconsider D56 = ( <* <* C133 *> *> @ ) as (Matrix of 1 , 1 , (the carrier of R21)) by L608 , L599 , MATRIX_1:20;
L609: ( ( D55 ^ D56 ) @ ) = ( ( ( <* C132 *> @ ) @ ) ^^ ( ( <* <* C133 *> *> @ ) @ ) ) by L607 , L530
.= ( <* C132 *> ^^ <* <* C133 *> *> ) by L596 , L600 , L601 , L606 , MATRIX_2:13
.= <* ( C132 ^ <* C133 *> ) *> by L586 , L588 , FINSEQ_2:9
.= ( ( <* ( C132 ^ <* C133 *> ) *> @ ) @ ) by L604 , L605 , MATRIX_2:13;
L610: ( len ( ( <* C132 *> @ ) ^ ( <* <* C133 *> *> @ ) ) ) = ( ( len ( <* C132 *> @ ) ) + ( len ( <* <* C133 *> *> @ ) ) ) by FINSEQ_1:22
.= ( ( width <* C132 *> ) + ( len ( <* <* C133 *> *> @ ) ) ) by MATRIX_1:def 6
.= ( ( width <* C132 *> ) + ( width <* <* C133 *> *> ) ) by MATRIX_1:def 6
.= ( len ( <* ( C132 ^ <* C133 *> ) *> @ ) ) by L601 , L598 , L605 , MATRIX_1:def 6;
thus L611: ( Sum ( Sum <* ( C132 ^ <* C133 *> ) *> ) ) = ( Sum ( Sum ( <* C132 *> ^^ <* <* C133 *> *> ) ) ) by L586 , L588 , FINSEQ_2:9
.= ( ( Sum ( Sum ( <* C132 *> @ ) ) ) + ( Sum ( Sum <* <* C133 *> *> ) ) ) by L584 , L600 , L597 , L574
.= ( ( Sum ( Sum ( <* C132 *> @ ) ) ) + ( Sum ( Sum ( <* <* C133 *> *> @ ) ) ) ) by L226
.= ( Sum ( ( Sum D55 ) ^ ( Sum D56 ) ) ) by RLVECT_1:41
.= ( Sum ( Sum ( D55 ^ D56 ) ) ) by L508
.= ( Sum ( Sum ( <* ( C132 ^ <* C133 *> ) *> @ ) ) ) by L610 , L609 , MATRIX_2:9;
end;
end;
L613: <* ( <*> (the carrier of R21) ) *> is (Matrix of ( ( 0 ) + 1 ) , ( 0 ) , (the carrier of R21));
L614: ( Sum ( Sum <* ( <*> (the carrier of R21) ) *> ) ) = ( 0. R21 ) by L613 , L216
.= ( Sum ( Sum ( <* ( <*> (the carrier of R21) ) *> @ ) ) ) by L582 , L211;
L615: S6[ ( <*> (the carrier of R21) ) ] by L614;
L616: (for B99 being (FinSequence of R21) holds S6[ B99 ]) from FINSEQ_2:sch 2(L615 , L583);
thus L617: thesis by L616;
end;
L618: (for R6 being Nat holds (S5[ R6 ] implies S5[ ( R6 + 1 ) ]))
proof
let R6 being Nat;
assume that
L619: (for B100 being (Matrix of (the carrier of R21)) holds (( len B100 ) = R6 implies ( Sum ( Sum B100 ) ) = ( Sum ( Sum ( B100 @ ) ) )));
thus L620: (for B101 being (Matrix of (the carrier of R21)) holds (( len B101 ) = ( R6 + 1 ) implies ( Sum ( Sum B101 ) ) = ( Sum ( Sum ( B101 @ ) ) )))
proof
let C135 being (Matrix of (the carrier of R21));
assume that
L621: ( len C135 ) = ( R6 + 1 );
L622: C135 <> ( {} ) by L621;
L623: ( dom C135 ) = ( Seg ( len C135 ) ) by FINSEQ_1:def 3;
per cases ;
suppose L624: R6 = ( 0 );

L625: ( C135 . 1 ) = ( Line (C135 , 1) ) by L624 , L621 , L623 , FINSEQ_1:4 , MATRIX_2:16;
reconsider D57 = ( C135 . 1 ) as (FinSequence of R21) by L625;
L626: C135 = <* D57 *> by L621 , L624 , FINSEQ_1:40;
thus L627: thesis by L626 , L579;
end;
suppose L628: R6 > ( 0 );

L629: ( C135 . ( R6 + 1 ) ) = ( Line (C135 , ( R6 + 1 )) ) by L621 , L623 , FINSEQ_1:4 , MATRIX_2:16;
reconsider D58 = ( C135 . ( R6 + 1 ) ) as (FinSequence of R21) by L629;
reconsider D59 = <* D58 *> as (Matrix of 1 , ( width C135 ) , (the carrier of R21)) by L629 , MATRIX_1:def 7;
reconsider D60 = C135 as (Matrix of ( R6 + 1 ) , ( width C135 ) , (the carrier of R21)) by L621 , MATRIX_1:20;
reconsider D61 = ( Del (D60 , ( R6 + 1 )) ) as (Matrix of R6 , ( width C135 ) , (the carrier of R21)) by L36;
L630: ( width D61 ) = ( width D60 ) by L628 , L16
.= ( width D59 ) by L16;
L631: ( len ( D61 @ ) ) = ( width D61 ) by MATRIX_1:def 6
.= ( len ( D59 @ ) ) by L630 , MATRIX_1:def 6;
L632: ( len ( Del (C135 , ( R6 + 1 )) ) ) = R6 by L621 , L11;
thus L633: ( Sum ( Sum C135 ) ) = ( Sum ( Sum ( D61 ^ D59 ) ) ) by L622 , L47 , L621
.= ( Sum ( ( Sum D61 ) ^ ( Sum D59 ) ) ) by L508
.= ( ( Sum ( Sum ( Del (C135 , ( R6 + 1 )) ) ) ) + ( Sum ( Sum D59 ) ) ) by RLVECT_1:41
.= ( ( Sum ( Sum ( ( Del (C135 , ( R6 + 1 )) ) @ ) ) ) + ( Sum ( Sum D59 ) ) ) by L619 , L632
.= ( ( Sum ( Sum ( ( Del (C135 , ( R6 + 1 )) ) @ ) ) ) + ( Sum ( Sum ( D59 @ ) ) ) ) by L579
.= ( Sum ( Sum ( ( D61 @ ) ^^ ( D59 @ ) ) ) ) by L631 , L574
.= ( Sum ( Sum ( ( D61 ^ D59 ) @ ) ) ) by L630 , L530
.= ( Sum ( Sum ( C135 @ ) ) ) by L622 , L47 , L621;
end;
end;

end;
L621: S5[ ( 0 ) ]
proof
let C136 being (Matrix of (the carrier of R21));
assume L622: ( len C136 ) = ( 0 );
L623: ( width C136 ) = ( 0 ) by L622 , MATRIX_1:def 3;
L624: ( len ( C136 @ ) ) = ( 0 ) by L623 , MATRIX_1:def 6;
thus L625: ( Sum ( Sum C136 ) ) = ( 0. R21 ) by L622 , L211
.= ( Sum ( Sum ( C136 @ ) ) ) by L624 , L211;
end;
L626: (for R6 being Nat holds S5[ R6 ]) from NAT_1:sch 2(L621 , L618);
L627: S5[ ( len C130 ) ] by L626;
thus L628: thesis by L627;
end;
theorem
L629: (for R5 being Nat holds (for R6 being Nat holds (for R12 being Field holds (for R21 being  finite-dimensional (VectSp of R12) holds (for B102 being (Matrix of R6 , R5 , (the carrier of R12)) holds ((R6 > ( 0 ) & R5 > ( 0 )) implies (for B103 , B104 being (FinSequence of R12) holds ((( len B103 ) = R6 & ( len B104 ) = R5 & (for R4 being Nat holds (R4 in ( dom B104 ) implies ( B104 /. R4 ) = ( Sum ( mlt (B103 , ( Col (B102 , R4) )) ) )))) implies (for B105 , B106 being (FinSequence of R21) holds ((( len B105 ) = R5 & ( len B106 ) = R6 & (for R3 being Nat holds (R3 in ( dom B106 ) implies ( B106 /. R3 ) = ( Sum ( lmlt (( Line (B102 , R3) ) , B105) ) )))) implies ( Sum ( lmlt (B103 , B106) ) ) = ( Sum ( lmlt (B104 , B105) ) )))))))))))
proof
let R5 being Nat;
let R6 being Nat;
let R12 being Field;
let R21 being  finite-dimensional (VectSp of R12);
let C137 being (Matrix of R6 , R5 , (the carrier of R12));
assume that
L630: R6 > ( 0 )
and
L631: R5 > ( 0 );
L632: ( len C137 ) = R6 by L630 , MATRIX_1:23;
reconsider D62 = R6 , D63 = R5 as (Element of ( NAT )) by ORDINAL1:def 12;
let C138 , C139 being (FinSequence of R12);
assume that
L633: ( len C138 ) = R6
and
L634: ( len C139 ) = R5
and
L635: (for R4 being Nat holds (R4 in ( dom C139 ) implies ( C139 /. R4 ) = ( Sum ( mlt (C138 , ( Col (C137 , R4) )) ) )));
let C140 , C141 being (FinSequence of R21);
assume that
L636: ( len C140 ) = R5
and
L637: ( len C141 ) = R6
and
L638: (for R3 being Nat holds (R3 in ( dom C141 ) implies ( C141 /. R3 ) = ( Sum ( lmlt (( Line (C137 , R3) ) , C140) ) )));
deffunc H4(Nat , Nat) = ( ( ( C138 /. $1 ) * ( C137 * ($1 , $2) ) ) * ( C140 /. $2 ) );
consider C142 being (Matrix of D62 , D63 , (the carrier of R21)) such that L639: (for R3 being Nat holds (for R4 being Nat holds ([ R3 , R4 ] in ( Indices C142 ) implies ( C142 * (R3 , R4) ) = H4(R3 , R4)))) from MATRIX_1:sch 1;
L640: ( width C142 ) = ( len ( C142 @ ) ) by MATRIX_1:def 6
.= ( len ( Sum ( C142 @ ) ) ) by L196;
L641: ( dom C139 ) = ( dom C140 ) by L634 , L636 , FINSEQ_3:29;
L642: ( dom ( lmlt (C139 , C140) ) ) = ( dom C140 ) by L641 , L190;
L643: ( len ( lmlt (C139 , C140) ) ) = ( len C140 ) by L642 , FINSEQ_3:29
.= ( len ( Sum ( C142 @ ) ) ) by L630 , L636 , L640 , MATRIX_1:23;
L644: ( dom ( lmlt (C139 , C140) ) ) = ( Seg ( len ( Sum ( C142 @ ) ) ) ) by L643 , FINSEQ_1:def 3;
L645: ( width C142 ) = R5 by L630 , MATRIX_1:23;
L646: ( len C142 ) = R6 by L630 , MATRIX_1:23;
L647: ( dom ( lmlt (C139 , C140) ) ) = ( dom C139 ) by L641 , L190;
L648:
now
L649: ( Seg ( len ( Sum ( C142 @ ) ) ) ) = ( dom ( Sum ( C142 @ ) ) ) by FINSEQ_1:def 3;
let C143 being Nat;
assume that
L650: C143 in ( dom ( lmlt (C139 , C140) ) );
L651: C143 in ( dom ( Sum ( C142 @ ) ) ) by L644 , L650 , FINSEQ_1:def 3;
L652: C143 in ( dom C139 ) by L641 , L650 , L190;
L653: (( C139 /. C143 ) = ( C139 . C143 ) & ( C140 /. C143 ) = ( C140 . C143 )) by L647 , L642 , L650 , PARTFUN1:def 6;
L654: ( len ( Sum ( C142 @ ) ) ) = ( len ( C142 @ ) ) by L196;
L655: ( dom ( Sum ( C142 @ ) ) ) = ( dom ( C142 @ ) ) by L654 , FINSEQ_3:29;
L656: ( ( C142 @ ) /. C143 ) = ( ( C142 @ ) . C143 ) by L655 , L651 , PARTFUN1:def 6
.= ( Line (( C142 @ ) , C143) ) by L651 , L655 , MATRIX_2:16;
reconsider D64 = ( mlt (C138 , ( Col (C137 , C143) )) ) as (FinSequence of R12);
deffunc H5(Nat) = ( ( D64 /. $1 ) * ( C140 /. C143 ) );
consider C144 being (FinSequence of R21) such that L657: (( len C144 ) = ( len C138 ) & (for B107 being Nat holds (B107 in ( dom C144 ) implies ( C144 . B107 ) = H5(B107)))) from FINSEQ_2:sch 1;
L658: ( len C138 ) = ( len ( Col (C137 , C143) ) ) by L633 , L632 , MATRIX_1:def 8;
L659: ( len ( (the multF of R12) .: (C138 , ( Col (C137 , C143) )) ) ) = ( len C138 ) by L658 , FINSEQ_2:72;
L660: ( dom D64 ) = ( dom C144 ) by L659 , L657 , FINSEQ_3:29;
L661: ( dom C138 ) = ( dom C144 ) by L657 , FINSEQ_3:29;
L662: ( len ( Line (( C142 @ ) , C143) ) ) = ( width ( C142 @ ) ) by MATRIX_1:def 7
.= ( len ( ( C142 @ ) @ ) ) by MATRIX_1:def 6
.= ( len C144 ) by L630 , L631 , L633 , L646 , L645 , L657 , MATRIX_2:13;
L663: ( dom ( Line (( C142 @ ) , C143) ) ) = ( Seg ( len C144 ) ) by L662 , FINSEQ_1:def 3;
L664: ( dom C144 ) = ( Seg ( len C138 ) ) by L657 , FINSEQ_1:def 3;
L665:
now
let C145 being Nat;
L666: ( dom C137 ) = ( Seg ( len C137 ) ) by FINSEQ_1:def 3;
assume L667: C145 in ( dom ( Line (( C142 @ ) , C143) ) );
L668: C145 in ( Seg ( len ( (the multF of R12) .: (C138 , ( Col (C137 , C143) )) ) ) ) by L667 , L657 , L658 , L663 , FINSEQ_2:72;
L669: C145 in ( dom D64 ) by L668 , FINSEQ_1:def 3;
L670: C145 in ( dom ( (the multF of R12) .: (C138 , ( Col (C137 , C143) )) ) ) by L668 , FINSEQ_1:def 3;
L671: ( Seg ( len C144 ) ) = ( dom C144 ) by FINSEQ_1:def 3;
L672: ( ( C138 /. C145 ) * ( C137 * (C145 , C143) ) ) = ( (the multF of R12) . (( C138 . C145 ) , ( C137 * (C145 , C143) )) ) by L671 , L661 , L663 , L667 , PARTFUN1:def 6
.= ( (the multF of R12) . (( C138 . C145 ) , ( ( Col (C137 , C143) ) . C145 )) ) by L633 , L632 , L657 , L663 , L667 , L666 , MATRIX_1:def 8
.= ( ( (the multF of R12) .: (C138 , ( Col (C137 , C143) )) ) . C145 ) by L670 , FUNCOP_1:22
.= ( D64 /. C145 ) by L669 , PARTFUN1:def 6;
L673: ( dom C142 ) = ( dom C144 ) by L633 , L646 , L657 , FINSEQ_3:29;
L674: [ C145 , C143 ] in [: ( dom C142 ) , ( Seg ( width C142 ) ) :] by L673 , L640 , L644 , L650 , L663 , L667 , L671 , ZFMISC_1:87;
L675: [ C145 , C143 ] in ( Indices C142 ) by L674 , MATRIX_1:def 4;
L676: C145 in ( Seg ( width ( C142 @ ) ) ) by L662 , L663 , L667 , MATRIX_1:def 7;
thus L677: ( ( Line (( C142 @ ) , C143) ) . C145 ) = ( ( C142 @ ) * (C143 , C145) ) by L676 , MATRIX_1:def 7
.= ( C142 * (C145 , C143) ) by L675 , MATRIX_1:def 6
.= ( ( D64 /. C145 ) * ( C140 /. C143 ) ) by L639 , L675 , L672
.= ( C144 . C145 ) by L657 , L664 , L663 , L667;
end;
thus L678: ( ( lmlt (C139 , C140) ) . C143 ) = ( (the lmult of R21) . (( C139 . C143 ) , ( C140 . C143 )) ) by L650 , FUNCOP_1:22
.= ( ( C139 /. C143 ) * ( C140 /. C143 ) ) by L653 , VECTSP_1:def 12
.= ( ( Sum D64 ) * ( C140 /. C143 ) ) by L635 , L652
.= ( Sum C144 ) by L657 , L659 , L660 , L162
.= ( Sum ( ( C142 @ ) /. C143 ) ) by L662 , L665 , L656 , FINSEQ_2:9
.= ( ( Sum ( C142 @ ) ) /. C143 ) by L651 , L196
.= ( ( Sum ( C142 @ ) ) . C143 ) by L644 , L650 , L649 , PARTFUN1:def 6;
end;
L679: ( dom C138 ) = ( dom C141 ) by L633 , L637 , FINSEQ_3:29;
L680: ( dom ( lmlt (C138 , C141) ) ) = ( dom C138 ) by L679 , L190;
L681: ( len ( lmlt (C138 , C141) ) ) = ( len C138 ) by L680 , FINSEQ_3:29
.= ( len C142 ) by L633 , MATRIX_1:def 2
.= ( len ( Sum C142 ) ) by L196;
L682:
now
let C146 being Nat;
assume that
L683: C146 in ( dom ( Sum C142 ) );
L684: C146 in ( dom C141 ) by L679 , L680 , L681 , L683 , FINSEQ_3:29;
L685: (( C141 . C146 ) = ( C141 /. C146 ) & ( C138 . C146 ) = ( C138 /. C146 )) by L684 , L679 , PARTFUN1:def 6;
L686: C146 in ( Seg ( len ( Sum C142 ) ) ) by L683 , FINSEQ_1:def 3;
L687: C146 in ( Seg ( len C142 ) ) by L686 , L196;
L688: C146 in ( dom C142 ) by L687 , FINSEQ_1:def 3;
L689: ( C142 /. C146 ) = ( C142 . C146 ) by L688 , PARTFUN1:def 6
.= ( Line (C142 , C146) ) by L688 , MATRIX_2:16;
deffunc H6(Nat) = ( ( C138 /. C146 ) * ( ( lmlt (( Line (C137 , C146) ) , C140) ) /. $1 ) );
consider C147 being (FinSequence of R21) such that L690: (( len C147 ) = ( len C140 ) & (for B108 being Nat holds (B108 in ( dom C147 ) implies ( C147 . B108 ) = H6(B108)))) from FINSEQ_2:sch 1;
L691: ( len C147 ) = ( width C137 ) by L630 , L636 , L690 , MATRIX_1:23;
L692: ( dom ( Line (C137 , C146) ) ) = ( Seg ( len ( Line (C137 , C146) ) ) ) by FINSEQ_1:def 3
.= ( Seg ( len C147 ) ) by L691 , MATRIX_1:def 7
.= ( dom C140 ) by L690 , FINSEQ_1:def 3;
L693: ( dom ( lmlt (( Line (C137 , C146) ) , C140) ) ) = ( dom C140 ) by L692 , L190;
L694: (( len C147 ) = ( len ( lmlt (( Line (C137 , C146) ) , C140) ) ) & ( dom C147 ) = ( dom ( lmlt (( Line (C137 , C146) ) , C140) ) )) by L693 , L690 , FINSEQ_3:29;
L695: ( len C147 ) = ( width C142 ) by L630 , L636 , L690 , MATRIX_1:23;
L696: ( len ( Line (C142 , C146) ) ) = ( len C147 ) by L695 , MATRIX_1:def 7;
L697: ( dom ( C142 /. C146 ) ) = ( Seg ( len C147 ) ) by L696 , L689 , FINSEQ_1:def 3;
L698: ( dom C147 ) = ( Seg ( len C140 ) ) by L690 , FINSEQ_1:def 3;
L699:
now
let C148 being Nat;
assume L700: C148 in ( dom ( C142 /. C146 ) );
L701: ( ( Line (C137 , C146) ) . C148 ) = ( C137 * (C146 , C148) ) by L700 , L691 , L697 , MATRIX_1:def 7;
L702: [ C146 , C148 ] in [: ( dom C142 ) , ( Seg ( width C142 ) ) :] by L695 , L688 , L697 , L700 , ZFMISC_1:87;
L703: [ C146 , C148 ] in ( Indices C142 ) by L702 , MATRIX_1:def 4;
L704: C148 in ( dom C140 ) by L690 , L697 , L700 , FINSEQ_1:def 3;
L705: ( C140 . C148 ) = ( C140 /. C148 ) by L704 , PARTFUN1:def 6;
L706: C148 in ( dom ( lmlt (( Line (C137 , C146) ) , C140) ) ) by L692 , L704 , L190;
L707: ( ( lmlt (( Line (C137 , C146) ) , C140) ) /. C148 ) = ( ( lmlt (( Line (C137 , C146) ) , C140) ) . C148 ) by L706 , PARTFUN1:def 6
.= ( (the lmult of R21) . (( ( Line (C137 , C146) ) . C148 ) , ( C140 . C148 )) ) by L706 , FUNCOP_1:22
.= ( ( C137 * (C146 , C148) ) * ( C140 /. C148 ) ) by L705 , L701 , VECTSP_1:def 12;
thus L708: ( ( C142 /. C146 ) . C148 ) = ( C142 * (C146 , C148) ) by L695 , L689 , L697 , L700 , MATRIX_1:def 7
.= ( ( ( C138 /. C146 ) * ( C137 * (C146 , C148) ) ) * ( C140 /. C148 ) ) by L639 , L703
.= ( ( C138 /. C146 ) * ( ( lmlt (( Line (C137 , C146) ) , C140) ) /. C148 ) ) by L707 , VECTSP_1:def 16
.= ( C147 . C148 ) by L690 , L698 , L697 , L700;
end;
L709: (for B109 being (Element of ( NAT )) holds (B109 in ( dom C147 ) implies ( C147 . B109 ) = ( ( C138 /. C146 ) * ( ( lmlt (( Line (C137 , C146) ) , C140) ) /. B109 ) ))) by L690;
L710: C146 in ( dom ( (the lmult of R21) .: (C138 , C141) ) ) by L681 , L683 , FINSEQ_3:29;
thus L711: ( ( lmlt (C138 , C141) ) . C146 ) = ( (the lmult of R21) . (( C138 . C146 ) , ( C141 . C146 )) ) by L710 , FUNCOP_1:22
.= ( ( C138 /. C146 ) * ( C141 /. C146 ) ) by L685 , VECTSP_1:def 12
.= ( ( C138 /. C146 ) * ( Sum ( lmlt (( Line (C137 , C146) ) , C140) ) ) ) by L638 , L684
.= ( Sum C147 ) by L694 , L709 , RLVECT_2:67
.= ( Sum ( C142 /. C146 ) ) by L696 , L689 , L699 , FINSEQ_2:9
.= ( ( Sum C142 ) /. C146 ) by L683 , L196
.= ( ( Sum C142 ) . C146 ) by L683 , PARTFUN1:def 6;
end;
thus L712: ( Sum ( lmlt (C138 , C141) ) ) = ( Sum ( Sum C142 ) ) by L682 , L681 , FINSEQ_2:9
.= ( Sum ( Sum ( C142 @ ) ) ) by L578
.= ( Sum ( lmlt (C139 , C140) ) ) by L643 , L648 , FINSEQ_2:9;
end;
begin
definition
let C149 being Field;
let C150 being  finite-dimensional (VectSp of C149);
let C151 being (OrdBasis of C150);
let C152 being (Element of C150);
func C152 |-- C151 -> (FinSequence of C149) means 
:L713: (( len it ) = ( len C151 ) & (ex B110 being (Linear_Combination of C150) st (C152 = ( Sum B110 ) & ( Carrier B110 ) c= ( rng C151 ) & (for R1 being Nat holds ((1 <= R1 & R1 <= ( len it )) implies ( it /. R1 ) = ( B110 . ( C151 /. R1 ) ))))));
existence
proof
reconsider D65 = ( rng C151 ) as (Basis of C150) by L102;
consider C153 being (Linear_Combination of C150) such that L714: C152 = ( Sum C153 ) and L715: ( Carrier C153 ) c= D65 by L89;
deffunc H7(Nat) = ( C153 . ( C151 /. $1 ) );
consider C154 being (FinSequence of C149) such that L716: ( len C154 ) = ( len C151 ) and L717: (for B111 being Nat holds (B111 in ( dom C154 ) implies ( C154 . B111 ) = H7(B111))) from FINSEQ_2:sch 1;
take C154;
thus L718: ( len C154 ) = ( len C151 ) by L716;
take C153;
thus L719: C152 = ( Sum C153 ) by L714;
thus L720: ( Carrier C153 ) c= ( rng C151 ) by L715;
let R1 being Nat;
L721: ( dom C154 ) = ( Seg ( len C151 ) ) by L716 , FINSEQ_1:def 3;
assume L722: (1 <= R1 & R1 <= ( len C154 ));
L723: R1 in ( Seg ( len C151 ) ) by L722 , L716 , FINSEQ_1:1;
L724: R1 in ( dom C154 ) by L723 , L716 , FINSEQ_1:def 3;
L725: ( C154 . R1 ) = ( C154 /. R1 ) by L724 , PARTFUN1:def 6;
thus L726: thesis by L725 , L717 , L721 , L723;
end;
uniqueness
proof
reconsider D66 = ( rng C151 ) as (Basis of C150) by L102;
let C155 , C156 being (FinSequence of C149);
assume L727: ( len C155 ) = ( len C151 );
given C157 being (Linear_Combination of C150) such that
L728: (C152 = ( Sum C157 ) & ( Carrier C157 ) c= ( rng C151 ))
and
L729: (for R1 being Nat holds ((1 <= R1 & R1 <= ( len C155 )) implies ( C155 /. R1 ) = ( C157 . ( C151 /. R1 ) )));

assume L730: ( len C156 ) = ( len C151 );
given C158 being (Linear_Combination of C150) such that
L731: (C152 = ( Sum C158 ) & ( Carrier C158 ) c= ( rng C151 ))
and
L732: (for R1 being Nat holds ((1 <= R1 & R1 <= ( len C156 )) implies ( C156 /. R1 ) = ( C158 . ( C151 /. R1 ) )));

L733: D66 is  linearly-independent by VECTSP_7:def 3;
L734: (for B112 being Nat holds ((1 <= B112 & B112 <= ( len C155 )) implies ( C155 . B112 ) = ( C156 . B112 )))
proof
let C159 being Nat;
assume L735: (1 <= C159 & C159 <= ( len C155 ));
L736: C159 in ( dom C156 ) by L735 , L727 , L730 , FINSEQ_3:25;
L737: C159 in ( dom C155 ) by L735 , FINSEQ_3:25;
thus L738: ( C155 . C159 ) = ( C155 /. C159 ) by L737 , PARTFUN1:def 6
.= ( C157 . ( C151 /. C159 ) ) by L729 , L735
.= ( C158 . ( C151 /. C159 ) ) by L728 , L731 , L733 , L61
.= ( C156 /. C159 ) by L727 , L730 , L732 , L735
.= ( C156 . C159 ) by L736 , PARTFUN1:def 6;
end;
thus L739: thesis by L734 , L727 , L730 , FINSEQ_1:14;
end;
end;
L741: (for B113 being Field holds (for B114 being  finite-dimensional (VectSp of B113) holds (for B115 being (OrdBasis of B114) holds (for B116 being (Element of B114) holds ( dom ( B116 |-- B115 ) ) = ( dom B115 )))))
proof
let C160 being Field;
let C161 being  finite-dimensional (VectSp of C160);
let C162 being (OrdBasis of C161);
let C163 being (Element of C161);
L742: ( len ( C163 |-- C162 ) ) = ( len C162 ) by L713;
thus L743: thesis by L742 , FINSEQ_3:29;
end;
theorem
L744: (for R12 being Field holds (for R22 being  finite-dimensional (VectSp of R12) holds (for R29 being (OrdBasis of R22) holds (for R31 being (Vector of R22) holds (for R32 being (Vector of R22) holds (( R31 |-- R29 ) = ( R32 |-- R29 ) implies R31 = R32))))))
proof
let R12 being Field;
let R22 being  finite-dimensional (VectSp of R12);
let R29 being (OrdBasis of R22);
let R31 being (Vector of R22);
let R32 being (Vector of R22);
consider C164 being (Linear_Combination of R22) such that L745: R31 = ( Sum C164 ) and L746: ( Carrier C164 ) c= ( rng R29 ) and L747: (for R2 being Nat holds ((1 <= R2 & R2 <= ( len ( R31 |-- R29 ) )) implies ( ( R31 |-- R29 ) /. R2 ) = ( C164 . ( R29 /. R2 ) ))) by L713;
consider C165 being (Linear_Combination of R22) such that L748: R32 = ( Sum C165 ) and L749: ( Carrier C165 ) c= ( rng R29 ) and L750: (for R2 being Nat holds ((1 <= R2 & R2 <= ( len ( R32 |-- R29 ) )) implies ( ( R32 |-- R29 ) /. R2 ) = ( C165 . ( R29 /. R2 ) ))) by L713;
assume L751: ( R31 |-- R29 ) = ( R32 |-- R29 );
L752:
now
let C166 being Nat;
assume L753: (1 <= C166 & C166 <= ( len ( R31 |-- R29 ) ));
thus L754: ( C164 . ( R29 /. C166 ) ) = ( ( R32 |-- R29 ) /. C166 ) by L753 , L751 , L747
.= ( C165 . ( R29 /. C166 ) ) by L751 , L750 , L753;
end;
L755: ( ( Carrier C164 ) \/ ( Carrier C165 ) ) c= ( rng R29 ) by L746 , L749 , XBOOLE_1:8;
L756:
now
let C167 being (Vector of R22);
per cases ;
suppose L757: (not C167 in ( ( Carrier C164 ) \/ ( Carrier C165 ) ));

L758: (not C167 in ( Carrier C165 )) by L757 , XBOOLE_0:def 3;
L759: ( C165 . C167 ) = ( 0. R12 ) by L758 , VECTSP_6:2;
L760: (not C167 in ( Carrier C164 )) by L757 , XBOOLE_0:def 3;
thus L761: ( C164 . C167 ) = ( C165 . C167 ) by L760 , L759 , VECTSP_6:2;
end;
suppose L762: C167 in ( ( Carrier C164 ) \/ ( Carrier C165 ) );

consider R7 being set such that L763: R7 in ( dom R29 ) and L764: C167 = ( R29 . R7 ) by L762 , L755 , FUNCT_1:def 3;
reconsider D67 = R7 as Nat by L763 , FINSEQ_3:23;
L765: D67 <= ( len R29 ) by L763 , FINSEQ_3:25;
L766: D67 <= ( len ( R31 |-- R29 ) ) by L765 , L713;
L767: (C167 = ( R29 /. D67 ) & 1 <= D67) by L763 , L764 , FINSEQ_3:25 , PARTFUN1:def 6;
thus L768: ( C164 . C167 ) = ( C165 . C167 ) by L767 , L752 , L766;
end;
end;
thus L770: thesis by L756 , L745 , L748 , VECTSP_6:def 7;
end;
theorem
L771: (for R12 being Field holds (for R21 being  finite-dimensional (VectSp of R12) holds (for R28 being (OrdBasis of R21) holds (for R33 being (Element of R21) holds R33 = ( Sum ( lmlt (( R33 |-- R28 ) , R28) ) )))))
proof
let R12 being Field;
let R21 being  finite-dimensional (VectSp of R12);
let R28 being (OrdBasis of R21);
let R33 being (Element of R21);
consider C168 being (Linear_Combination of R21) such that L772: (R33 = ( Sum C168 ) & ( Carrier C168 ) c= ( rng R28 )) and L773: (for R1 being Nat holds ((1 <= R1 & R1 <= ( len ( R33 |-- R28 ) )) implies ( ( R33 |-- R28 ) /. R1 ) = ( C168 . ( R28 /. R1 ) ))) by L713;
L774: ( len ( R33 |-- R28 ) ) = ( len R28 ) by L713;
L775: ( dom ( R33 |-- R28 ) ) = ( dom R28 ) by L774 , FINSEQ_3:29;
L776: ( dom R28 ) = ( dom ( lmlt (( R33 |-- R28 ) , R28) ) ) by L775 , L190;
L777: ( len ( C168 (#) R28 ) ) = ( len R28 ) by VECTSP_6:def 5
.= ( len ( lmlt (( R33 |-- R28 ) , R28) ) ) by L776 , FINSEQ_3:29;
L778: ( dom ( C168 (#) R28 ) ) = ( dom ( lmlt (( R33 |-- R28 ) , R28) ) ) by L777 , FINSEQ_3:29;
L779:
now
let C169 being Nat;
assume L780: C169 in ( dom ( lmlt (( R33 |-- R28 ) , R28) ) );
L781: ( R28 /. C169 ) = ( R28 . C169 ) by L780 , L776 , PARTFUN1:def 6;
L782: C169 in ( dom ( R33 |-- R28 ) ) by L775 , L780 , L190;
L783: C169 <= ( len ( R33 |-- R28 ) ) by L782 , FINSEQ_3:25;
L784: 1 <= C169 by L780 , FINSEQ_3:25;
L785: ( ( R33 |-- R28 ) /. C169 ) = ( ( R33 |-- R28 ) . C169 ) by L784 , L783 , FINSEQ_4:15;
L786: C169 in ( dom ( C168 (#) R28 ) ) by L778 , L780;
thus L787: ( ( C168 (#) R28 ) . C169 ) = ( ( C168 . ( R28 /. C169 ) ) * ( R28 /. C169 ) ) by L786 , VECTSP_6:def 5
.= ( ( ( R33 |-- R28 ) /. C169 ) * ( R28 /. C169 ) ) by L773 , L784 , L783
.= ( (the lmult of R21) . (( ( R33 |-- R28 ) . C169 ) , ( R28 . C169 )) ) by L781 , L785 , VECTSP_1:def 12
.= ( ( lmlt (( R33 |-- R28 ) , R28) ) . C169 ) by L780 , FUNCOP_1:22;
end;
L788: R28 is  one-to-one by L102;
thus L789: R33 = ( Sum ( C168 (#) R28 ) ) by L788 , L772 , L292
.= ( Sum ( lmlt (( R33 |-- R28 ) , R28) ) ) by L778 , L779 , FINSEQ_1:13;
end;
theorem
L790: (for R12 being Field holds (for R21 being  finite-dimensional (VectSp of R12) holds (for R28 being (OrdBasis of R21) holds (for R38 being (FinSequence of R12) holds (( len R38 ) = ( len R28 ) implies R38 = ( ( Sum ( lmlt (R38 , R28) ) ) |-- R28 ))))))
proof
let R12 being Field;
let R21 being  finite-dimensional (VectSp of R12);
let R28 being (OrdBasis of R21);
let R38 being (FinSequence of R12);
reconsider D68 = ( rng R28 ) as  finite (Subset of R21) by L102;
defpred S7[ (Element of R21) , (Element of R12) ] means (($1 in ( rng R28 ) implies (for R1 being Nat holds ((R1 in ( dom R28 ) & ( R28 /. R1 ) = $1) implies $2 = ( R38 /. R1 )))) & ((not $1 in ( rng R28 )) implies $2 = ( 0. R12 )));
L791: (for R33 being (Element of R21) holds (ex B117 being (Element of R12) st S7[ R33 , B117 ]))
proof
let C170 being (Element of R21);
per cases ;
suppose L792: C170 in ( rng R28 );

consider C171 being (Element of ( NAT )) such that L793: C171 in ( dom R28 ) and L794: ( R28 /. C171 ) = C170 by L792 , PARTFUN2:2;
take D69 = ( R38 /. C171 );
L795:
now
L796: R28 is  one-to-one by L102;
let R3 being Nat;
assume that
L797: R3 in ( dom R28 )
and
L798: ( R28 /. R3 ) = C170;
L799: ( R28 . R3 ) = ( R28 /. C171 ) by L794 , L797 , L798 , PARTFUN1:def 6
.= ( R28 . C171 ) by L793 , PARTFUN1:def 6;
thus L800: D69 = ( R38 /. R3 ) by L799 , L793 , L797 , L796 , FUNCT_1:def 4;
end;
thus L801: thesis by L795 , L792;
end;
suppose L802: (not C170 in ( rng R28 ));

take ( 0. R12 );
thus L803: thesis by L802;
end;
end;
consider C172 being (Function of R21 , R12) such that L805: (for R33 being (Element of R21) holds S7[ R33 , ( C172 . R33 ) ]) from FUNCT_2:sch 3(L791);
L806:
now
take D70 = D68;
let C173 being (Element of R21);
assume L807: (not C173 in D70);
thus L808: ( C172 . C173 ) = ( 0. R12 ) by L807 , L805;
end;
L809:
now
take D71 = C172;
thus L810: (C172 = D71 & ( dom D71 ) = (the carrier of R21) & ( rng D71 ) c= (the carrier of R12)) by FUNCT_2:def 1 , RELAT_1:def 19;
end;
L811: C172 in ( Funcs ((the carrier of R21) , (the carrier of R12)) ) by L809 , FUNCT_2:def 2;
reconsider D72 = C172 as (Linear_Combination of R21) by L811 , L806 , VECTSP_6:def 1;
assume L812: ( len R38 ) = ( len R28 );
L813:
now
take D73 = D72;
L814: R28 is  one-to-one by L102;
thus L815: (for R1 being Nat holds ((1 <= R1 & R1 <= ( len R38 )) implies ( R38 /. R1 ) = ( D73 . ( R28 /. R1 ) )))
proof
let R1 being Nat;
assume L816: (1 <= R1 & R1 <= ( len R38 ));
L817: R1 in ( dom R28 ) by L816 , L812 , FINSEQ_3:25;
L818: ( R28 . R1 ) = ( R28 /. R1 ) by L817 , PARTFUN1:def 6;
L819: ( R28 /. R1 ) in ( rng R28 ) by L818 , L817 , FUNCT_1:def 3;
thus L820: thesis by L819 , L805 , L817;
end;

L821: (for R7 being set holds (R7 in ( Carrier D73 ) implies R7 in ( rng R28 )))
proof
let R7 being set;
assume L822: R7 in ( Carrier D73 );
L823: (ex R33 being (Element of R21) st (R7 = R33 & ( D73 . R33 ) <> ( 0. R12 ))) by L822 , VECTSP_6:1;
assume L824: (not R7 in ( rng R28 ));
thus L825: contradiction by L824 , L805 , L823;
end;
thus L826: ( Carrier D73 ) c= ( rng R28 ) by L821 , TARSKI:def 3;
L827: ( dom R38 ) = ( dom R28 ) by L812 , FINSEQ_3:29;
L828: ( dom ( lmlt (R38 , R28) ) ) = ( dom R28 ) by L827 , L190;
L829: ( len ( lmlt (R38 , R28) ) ) = ( len R28 ) by L828 , FINSEQ_3:29
.= ( len ( D73 (#) R28 ) ) by VECTSP_6:def 5;
L830:
now
let C174 being Nat;
assume L831: C174 in ( dom ( lmlt (R38 , R28) ) );
L832: C174 in ( dom ( D73 (#) R28 ) ) by L831 , L829 , FINSEQ_3:29;
L833: (1 <= C174 & C174 <= ( len R38 )) by L812 , L828 , L831 , FINSEQ_3:25;
L834: (( R38 /. C174 ) = ( R38 . C174 ) & ( R28 /. C174 ) = ( R28 . C174 )) by L827 , L828 , L831 , PARTFUN1:def 6;
thus L835: ( ( lmlt (R38 , R28) ) . C174 ) = ( (the lmult of R21) . (( R38 . C174 ) , ( R28 . C174 )) ) by L831 , FUNCOP_1:22
.= ( ( R38 /. C174 ) * ( R28 /. C174 ) ) by L834 , VECTSP_1:def 12
.= ( ( D73 . ( R28 /. C174 ) ) * ( R28 /. C174 ) ) by L815 , L833
.= ( ( D73 (#) R28 ) . C174 ) by L832 , VECTSP_6:def 5;
end;
thus L836: ( Sum ( lmlt (R38 , R28) ) ) = ( Sum ( D73 (#) R28 ) ) by L830 , L829 , FINSEQ_2:9
.= ( Sum D73 ) by L826 , L814 , L292;
end;
thus L837: thesis by L813 , L812 , L713;
end;
L838: (for B118 being FinSequence holds (for B119 being set holds (B119 in ( dom B118 ) implies ( len B118 ) > ( 0 ))))
proof
let C175 being FinSequence;
let C176 being set;
assume L839: C176 in ( dom C175 );
L840: C175 <> ( {} ) by L839;
thus L841: thesis by L840;
end;
theorem
L842: (for R12 being Field holds (for R21 being  finite-dimensional (VectSp of R12) holds (for R22 being  finite-dimensional (VectSp of R12) holds (for R24 being (Function of R21 , R22) holds (for R28 being (OrdBasis of R21) holds (for R29 being (OrdBasis of R22) holds (for B120 , B121 being (FinSequence of R12) holds (( len B120 ) = ( len R28 ) implies (for B122 being Nat holds ((B122 in ( dom R29 ) & ( len B121 ) = ( len R28 ) & (for R1 being Nat holds (R1 in ( dom R28 ) implies ( B121 . R1 ) = ( ( ( R24 . ( R28 /. R1 ) ) |-- R29 ) /. B122 )))) implies (( len R28 ) > ( 0 ) implies ( ( ( Sum ( lmlt (B120 , ( R24 * R28 )) ) ) |-- R29 ) /. B122 ) = ( Sum ( mlt (B120 , B121) ) ))))))))))))
proof
let R12 being Field;
let R21 being  finite-dimensional (VectSp of R12);
let R22 being  finite-dimensional (VectSp of R12);
let R24 being (Function of R21 , R22);
let R28 being (OrdBasis of R21);
let R29 being (OrdBasis of R22);
let C177 , C178 being (FinSequence of R12);
assume that
L843: ( len C177 ) = ( len R28 );
reconsider D74 = ( R24 * R28 ) as (FinSequence of R22);
deffunc H8(Nat , Nat) = ( ( ( D74 /. $1 ) |-- R29 ) /. $2 );
consider C179 being (Matrix of ( len R28 ) , ( len R29 ) , (the carrier of R12)) such that L844: (for R3 being Nat holds (for R4 being Nat holds ([ R3 , R4 ] in ( Indices C179 ) implies ( C179 * (R3 , R4) ) = H8(R3 , R4)))) from MATRIX_1:sch 1;
deffunc H9(Nat) = ( Sum ( mlt (C177 , ( Col (C179 , $1) )) ) );
consider C180 being (FinSequence of R12) such that L845: (( len C180 ) = ( len R29 ) & (for B123 being Nat holds (B123 in ( dom C180 ) implies ( C180 /. B123 ) = H9(B123)))) from FINSEQ_4:sch 2;
let C181 being Nat;
assume that
L846: C181 in ( dom R29 );
L847: C181 in ( dom C180 ) by L846 , L845 , FINSEQ_3:29;
assume that
L848: ( len C178 ) = ( len R28 )
and
L849: (for R1 being Nat holds (R1 in ( dom R28 ) implies ( C178 . R1 ) = ( ( ( R24 . ( R28 /. R1 ) ) |-- R29 ) /. C181 )));
L850: ( len ( Col (C179 , C181) ) ) = ( len C179 ) by MATRIX_1:def 8
.= ( len C178 ) by L848 , MATRIX_1:def 2;
L851: ( len C179 ) = ( len R28 ) by MATRIX_1:def 2;
L852: ( dom C179 ) = ( dom R28 ) by L851 , FINSEQ_3:29;
L853: ( len R28 ) = ( len D74 ) by FINSEQ_2:33;
L854: ( dom R28 ) = ( dom D74 ) by L853 , FINSEQ_3:29;
assume L855: ( len R28 ) > ( 0 );
L856: ( width C179 ) = ( len R29 ) by L855 , MATRIX_1:23;
L857:
now
let R3 being Nat;
assume that
L858: R3 in ( dom D74 );
L859:
now
let C182 being Nat;
assume L860: C182 in ( dom ( ( D74 /. R3 ) |-- R29 ) );
L861: C182 in ( Seg ( len ( ( D74 /. R3 ) |-- R29 ) ) ) by L860 , FINSEQ_1:def 3;
L862: C182 in ( Seg ( width C179 ) ) by L861 , L856 , L713;
L863: [ R3 , C182 ] in [: ( dom C179 ) , ( Seg ( width C179 ) ) :] by L862 , L852 , L854 , L858 , ZFMISC_1:87;
L864: [ R3 , C182 ] in ( Indices C179 ) by L863 , MATRIX_1:def 4;
thus L865: ( ( Line (C179 , R3) ) . C182 ) = ( C179 * (R3 , C182) ) by L862 , MATRIX_1:def 7
.= ( ( ( D74 /. R3 ) |-- R29 ) /. C182 ) by L844 , L864
.= ( ( ( D74 /. R3 ) |-- R29 ) . C182 ) by L860 , PARTFUN1:def 6;
end;
L866: ( len ( Line (C179 , R3) ) ) = ( width C179 ) by MATRIX_1:def 7
.= ( len ( ( D74 /. R3 ) |-- R29 ) ) by L856 , L713;
thus L867: ( D74 /. R3 ) = ( Sum ( lmlt (( ( D74 /. R3 ) |-- R29 ) , R29) ) ) by L771
.= ( Sum ( lmlt (( Line (C179 , R3) ) , R29) ) ) by L866 , L859 , FINSEQ_2:9;
end;
L868: ( Seg ( len R29 ) ) = ( dom R29 ) by FINSEQ_1:def 3;
L869: C181 in ( Seg ( width C179 ) ) by L868 , L846 , L855 , MATRIX_1:23;
L870:
now
let C183 being Nat;
assume L871: C183 in ( dom C178 );
L872: C183 in ( dom R28 ) by L871 , L848 , FINSEQ_3:29;
L873: ( D74 /. C183 ) = ( D74 . C183 ) by L872 , L854 , PARTFUN1:def 6
.= ( R24 . ( R28 . C183 ) ) by L872 , FUNCT_1:13
.= ( R24 . ( R28 /. C183 ) ) by L872 , PARTFUN1:def 6;
L874: [ C183 , C181 ] in [: ( dom C179 ) , ( Seg ( width C179 ) ) :] by L852 , L869 , L872 , ZFMISC_1:87;
L875: [ C183 , C181 ] in ( Indices C179 ) by L874 , MATRIX_1:def 4;
thus L876: ( ( Col (C179 , C181) ) . C183 ) = ( C179 * (C183 , C181) ) by L852 , L872 , MATRIX_1:def 8
.= ( ( ( R24 . ( R28 /. C183 ) ) |-- R29 ) /. C181 ) by L844 , L873 , L875
.= ( C178 . C183 ) by L849 , L872;
end;
L877: ( len R29 ) > ( 0 ) by L846 , L838;
thus L878: ( ( ( Sum ( lmlt (C177 , ( R24 * R28 )) ) ) |-- R29 ) /. C181 ) = ( ( ( Sum ( lmlt (C180 , R29) ) ) |-- R29 ) /. C181 ) by L877 , L843 , L855 , L845 , L853 , L857 , L629
.= ( C180 /. C181 ) by L845 , L790
.= ( Sum ( mlt (C177 , ( Col (C179 , C181) )) ) ) by L845 , L847
.= ( Sum ( mlt (C177 , C178) ) ) by L850 , L870 , FINSEQ_2:9;
end;
begin
definition
let C184 being Field;
let C185 , C186 being  finite-dimensional (VectSp of C184);
let C187 being (Function of C185 , C186);
let C188 being (FinSequence of C185);
let C189 being (OrdBasis of C186);
func AutMt (C187 , C188 , C189) -> (Matrix of C184) means 
:L879: (( len it ) = ( len C188 ) & (for R1 being Nat holds (R1 in ( dom C188 ) implies ( it /. R1 ) = ( ( C187 . ( C188 /. R1 ) ) |-- C189 ))));
existence
proof
deffunc H10(Nat) = ( ( C187 . ( C188 /. $1 ) ) |-- C189 );
consider C190 being FinSequence such that L880: ( len C190 ) = ( len C188 ) and L881: (for B124 being Nat holds (B124 in ( dom C190 ) implies ( C190 . B124 ) = H10(B124))) from FINSEQ_1:sch 2;
L882: ( dom C190 ) = ( Seg ( len C188 ) ) by L880 , FINSEQ_1:def 3;
L883: (ex B125 being Nat st (for R7 being set holds (R7 in ( rng C190 ) implies (ex R20 being FinSequence st (R20 = R7 & ( len R20 ) = B125)))))
proof
take D75 = ( len ( ( C187 . ( C188 /. 1 ) ) |-- C189 ) );
let C191 being set;
assume L884: C191 in ( rng C190 );
consider R8 being set such that L885: R8 in ( dom C190 ) and L886: C191 = ( C190 . R8 ) by L884 , FUNCT_1:def 3;
reconsider D76 = R8 as Nat by L885 , FINSEQ_3:23;
L887: ( C190 . D76 ) = ( ( C187 . ( C188 /. D76 ) ) |-- C189 ) by L881 , L885;
reconsider D77 = ( C190 . D76 ) as FinSequence by L887;
take D77;
thus L888: D77 = C191 by L886;
thus L889: ( len D77 ) = ( len ( ( C187 . ( C188 /. D76 ) ) |-- C189 ) ) by L881 , L885
.= ( len C189 ) by L713
.= D75 by L713;
end;
reconsider D78 = C190 as  tabular FinSequence by L883 , MATRIX_1:def 1;
L890:
now
let R7 being set;
assume L891: R7 in ( rng D78 );
consider R8 being set such that L892: R8 in ( dom D78 ) and L893: R7 = ( D78 . R8 ) by L891 , FUNCT_1:def 3;
reconsider D79 = R8 as Nat by L892 , FINSEQ_3:23;
L894: ( D78 . D79 ) = ( ( C187 . ( C188 /. D79 ) ) |-- C189 ) by L881 , L892;
reconsider D80 = ( D78 . D79 ) as (FinSequence of C184) by L894;
L895: D80 = R7 by L893;
thus L896: R7 in ( (the carrier of C184) * ) by L895 , FINSEQ_1:def 11;
end;
L897: ( rng D78 ) c= ( (the carrier of C184) * ) by L890 , TARSKI:def 3;
reconsider D81 = D78 as (Matrix of C184) by L897 , FINSEQ_1:def 4;
take D82 = D81;
L898: (for R1 being Nat holds (R1 in ( dom C188 ) implies ( D82 /. R1 ) = ( ( C187 . ( C188 /. R1 ) ) |-- C189 )))
proof
let C192 being Nat;
assume L899: C192 in ( dom C188 );
L900: C192 in ( Seg ( len C188 ) ) by L899 , FINSEQ_1:def 3;
L901: ( dom D82 ) = ( dom C188 ) by L880 , FINSEQ_3:29;
thus L902: ( D82 /. C192 ) = ( D82 . C192 ) by L901 , L899 , PARTFUN1:def 6
.= ( ( C187 . ( C188 /. C192 ) ) |-- C189 ) by L881 , L882 , L900;
end;
thus L903: thesis by L898 , L880;
end;
uniqueness
proof
let C193 , C194 being (Matrix of C184);
assume that
L904: ( len C193 ) = ( len C188 )
and
L905: (for R1 being Nat holds (R1 in ( dom C188 ) implies ( C193 /. R1 ) = ( ( C187 . ( C188 /. R1 ) ) |-- C189 )))
and
L906: ( len C194 ) = ( len C188 )
and
L907: (for R1 being Nat holds (R1 in ( dom C188 ) implies ( C194 /. R1 ) = ( ( C187 . ( C188 /. R1 ) ) |-- C189 )));
L908: (for B126 being Nat holds ((1 <= B126 & B126 <= ( len C193 )) implies ( C193 . B126 ) = ( C194 . B126 )))
proof
let C195 being Nat;
assume L909: (1 <= C195 & C195 <= ( len C193 ));
L910: C195 in ( dom C188 ) by L909 , L904 , FINSEQ_3:25;
L911: C195 in ( dom C194 ) by L904 , L906 , L909 , FINSEQ_3:25;
L912: C195 in ( dom C193 ) by L909 , FINSEQ_3:25;
thus L913: ( C193 . C195 ) = ( C193 /. C195 ) by L912 , PARTFUN1:def 6
.= ( ( C187 . ( C188 /. C195 ) ) |-- C189 ) by L905 , L910
.= ( C194 /. C195 ) by L907 , L910
.= ( C194 . C195 ) by L911 , PARTFUN1:def 6;
end;
thus L914: thesis by L908 , L904 , L906 , FINSEQ_1:14;
end;
end;
L916: (for R12 being Field holds (for R21 being  finite-dimensional (VectSp of R12) holds (for R22 being  finite-dimensional (VectSp of R12) holds (for R24 being (Function of R21 , R22) holds (for R28 being (OrdBasis of R21) holds (for R29 being (OrdBasis of R22) holds ( dom ( AutMt (R24 , R28 , R29) ) ) = ( dom R28 )))))))
proof
let R12 being Field;
let R21 being  finite-dimensional (VectSp of R12);
let R22 being  finite-dimensional (VectSp of R12);
let R24 being (Function of R21 , R22);
let R28 being (OrdBasis of R21);
let R29 being (OrdBasis of R22);
L917: ( len ( AutMt (R24 , R28 , R29) ) ) = ( len R28 ) by L879;
thus L918: thesis by L917 , FINSEQ_3:29;
end;
theorem
L919: (for R12 being Field holds (for R21 being  finite-dimensional (VectSp of R12) holds (for R22 being  finite-dimensional (VectSp of R12) holds (for R24 being (Function of R21 , R22) holds (for R28 being (OrdBasis of R21) holds (for R29 being (OrdBasis of R22) holds (( len R28 ) = ( 0 ) implies ( AutMt (R24 , R28 , R29) ) = ( {} ))))))))
proof
let R12 being Field;
let R21 being  finite-dimensional (VectSp of R12);
let R22 being  finite-dimensional (VectSp of R12);
let R24 being (Function of R21 , R22);
let R28 being (OrdBasis of R21);
let R29 being (OrdBasis of R22);
assume L920: ( len R28 ) = ( 0 );
L921: ( len ( AutMt (R24 , R28 , R29) ) ) = ( 0 ) by L920 , L879;
thus L922: thesis by L921;
end;
theorem
L923: (for R12 being Field holds (for R21 being  finite-dimensional (VectSp of R12) holds (for R22 being  finite-dimensional (VectSp of R12) holds (for R24 being (Function of R21 , R22) holds (for R28 being (OrdBasis of R21) holds (for R29 being (OrdBasis of R22) holds (( len R28 ) > ( 0 ) implies ( width ( AutMt (R24 , R28 , R29) ) ) = ( len R29 ))))))))
proof
let R12 being Field;
let R21 being  finite-dimensional (VectSp of R12);
let R22 being  finite-dimensional (VectSp of R12);
let R24 being (Function of R21 , R22);
let R28 being (OrdBasis of R21);
let R29 being (OrdBasis of R22);
assume L924: ( len R28 ) > ( 0 );
L925: ( len ( AutMt (R24 , R28 , R29) ) ) > ( 0 ) by L924 , L879;
consider C196 being FinSequence such that L926: C196 in ( rng ( AutMt (R24 , R28 , R29) ) ) and L927: ( len C196 ) = ( width ( AutMt (R24 , R28 , R29) ) ) by L925 , MATRIX_1:def 3;
consider C197 being Nat such that L928: C197 in ( dom ( AutMt (R24 , R28 , R29) ) ) and L929: ( ( AutMt (R24 , R28 , R29) ) . C197 ) = C196 by L926 , FINSEQ_2:10;
L930: ( len ( AutMt (R24 , R28 , R29) ) ) = ( len R28 ) by L879;
L931: C197 in ( dom R28 ) by L930 , L928 , FINSEQ_3:29;
L932: C196 = ( ( AutMt (R24 , R28 , R29) ) /. C197 ) by L928 , L929 , PARTFUN1:def 6
.= ( ( R24 . ( R28 /. C197 ) ) |-- R29 ) by L931 , L879;
thus L933: thesis by L932 , L927 , L713;
end;
theorem
L934: (for R12 being Field holds (for R21 being  finite-dimensional (VectSp of R12) holds (for R22 being  finite-dimensional (VectSp of R12) holds (for R25 being (Function of R21 , R22) holds (for R26 being (Function of R21 , R22) holds (for R28 being (OrdBasis of R21) holds (for R29 being (OrdBasis of R22) holds ((R25 is  additive  homogeneous & R26 is  additive  homogeneous & ( AutMt (R25 , R28 , R29) ) = ( AutMt (R26 , R28 , R29) ) & ( len R28 ) > ( 0 )) implies R25 = R26))))))))
proof
let R12 being Field;
let R21 being  finite-dimensional (VectSp of R12);
let R22 being  finite-dimensional (VectSp of R12);
let R25 being (Function of R21 , R22);
let R26 being (Function of R21 , R22);
let R28 being (OrdBasis of R21);
let R29 being (OrdBasis of R22);
assume that
L935: (R25 is  additive  homogeneous & R26 is  additive  homogeneous)
and
L936: ( AutMt (R25 , R28 , R29) ) = ( AutMt (R26 , R28 , R29) )
and
L937: ( len R28 ) > ( 0 );
L938: ( rng R28 ) is (Basis of R21) by L102;
L939: ( rng R28 ) c= (the carrier of R21) by L938;
L940: ( rng R28 ) c= ( dom R26 ) by L939 , FUNCT_2:def 1;
L941: ( rng R28 ) c= ( dom R25 ) by L939 , FUNCT_2:def 1;
L942: ( dom ( R25 * R28 ) ) = ( dom R28 ) by L941 , RELAT_1:27
.= ( dom ( R26 * R28 ) ) by L940 , RELAT_1:27;
L943:
now
let C198 being set;
assume L944: C198 in ( dom ( R25 * R28 ) );
reconsider D83 = C198 as Nat by L944 , FINSEQ_3:23;
L945: ( dom ( R25 * R28 ) ) c= ( dom R28 ) by RELAT_1:25;
L946: ( ( R25 . ( R28 /. D83 ) ) |-- R29 ) = ( ( AutMt (R26 , R28 , R29) ) /. D83 ) by L945 , L936 , L944 , L879
.= ( ( R26 . ( R28 /. D83 ) ) |-- R29 ) by L944 , L945 , L879;
thus L947: ( ( R25 * R28 ) . C198 ) = ( R25 . ( R28 . C198 ) ) by L944 , FUNCT_1:12
.= ( R25 . ( R28 /. C198 ) ) by L944 , L945 , PARTFUN1:def 6
.= ( R26 . ( R28 /. C198 ) ) by L946 , L744
.= ( R26 . ( R28 . C198 ) ) by L944 , L945 , PARTFUN1:def 6
.= ( ( R26 * R28 ) . C198 ) by L942 , L944 , FUNCT_1:12;
end;
thus L948: thesis by L943 , L935 , L937 , L942 , L332 , FUNCT_1:2;
end;
theorem
L949: (for R12 being Field holds (for R21 being  finite-dimensional (VectSp of R12) holds (for R22 being  finite-dimensional (VectSp of R12) holds (for R23 being  finite-dimensional (VectSp of R12) holds (for R24 being (Function of R21 , R22) holds (for R27 being (Function of R22 , R23) holds (for R28 being (OrdBasis of R21) holds (for R29 being (OrdBasis of R22) holds (for R30 being (OrdBasis of R23) holds ((R27 is  additive  homogeneous & ( len R28 ) > ( 0 ) & ( len R29 ) > ( 0 )) implies ( AutMt (( R27 * R24 ) , R28 , R30) ) = ( ( AutMt (R24 , R28 , R29) ) * ( AutMt (R27 , R29 , R30) ) )))))))))))
proof
let R12 being Field;
let R21 being  finite-dimensional (VectSp of R12);
let R22 being  finite-dimensional (VectSp of R12);
let R23 being  finite-dimensional (VectSp of R12);
let R24 being (Function of R21 , R22);
let R27 being (Function of R22 , R23);
let R28 being (OrdBasis of R21);
let R29 being (OrdBasis of R22);
let R30 being (OrdBasis of R23);
assume L950: R27 is  additive  homogeneous;
assume that
L951: ( len R28 ) > ( 0 )
and
L952: ( len R29 ) > ( 0 );
L953: ( width ( AutMt (R24 , R28 , R29) ) ) = ( len R29 ) by L951 , L923
.= ( len ( AutMt (R27 , R29 , R30) ) ) by L879;
L954: ( width ( AutMt (( R27 * R24 ) , R28 , R30) ) ) = ( len R30 ) by L951 , L923
.= ( width ( AutMt (R27 , R29 , R30) ) ) by L952 , L923;
L955: ( width ( AutMt (( R27 * R24 ) , R28 , R30) ) ) = ( width ( ( AutMt (R24 , R28 , R29) ) * ( AutMt (R27 , R29 , R30) ) ) ) by L954 , L953 , MATRIX_3:def 4;
L956: ( len ( AutMt (( R27 * R24 ) , R28 , R30) ) ) = ( len R28 ) by L879
.= ( len ( AutMt (R24 , R28 , R29) ) ) by L879
.= ( len ( ( AutMt (R24 , R28 , R29) ) * ( AutMt (R27 , R29 , R30) ) ) ) by L953 , MATRIX_3:def 4;
L957: ( dom ( AutMt (( R27 * R24 ) , R28 , R30) ) ) = ( dom ( ( AutMt (R24 , R28 , R29) ) * ( AutMt (R27 , R29 , R30) ) ) ) by L956 , FINSEQ_3:29;
L958: (for R3 being Nat holds (for R4 being Nat holds ([ R3 , R4 ] in ( Indices ( AutMt (( R27 * R24 ) , R28 , R30) ) ) implies ( ( AutMt (( R27 * R24 ) , R28 , R30) ) * (R3 , R4) ) = ( ( ( AutMt (R24 , R28 , R29) ) * ( AutMt (R27 , R29 , R30) ) ) * (R3 , R4) ))))
proof
let R3 being Nat;
let R4 being Nat;
deffunc H11(Nat) = ( ( ( R27 . ( R29 /. $1 ) ) |-- R30 ) /. R4 );
consider C199 being (FinSequence of R12) such that L959: (( len C199 ) = ( len R29 ) & (for B127 being Nat holds (B127 in ( dom C199 ) implies ( C199 . B127 ) = H11(B127)))) from FINSEQ_2:sch 1;
assume L960: [ R3 , R4 ] in ( Indices ( AutMt (( R27 * R24 ) , R28 , R30) ) );
L961: [ R3 , R4 ] in [: ( dom ( AutMt (( R27 * R24 ) , R28 , R30) ) ) , ( Seg ( width ( AutMt (( R27 * R24 ) , R28 , R30) ) ) ) :] by L960 , MATRIX_1:def 4;
L962: R4 in ( Seg ( width ( AutMt (( R27 * R24 ) , R28 , R30) ) ) ) by L961 , ZFMISC_1:87;
L963: ( len ( Col (( AutMt (R27 , R29 , R30) ) , R4) ) ) = ( len ( AutMt (R27 , R29 , R30) ) ) by MATRIX_1:def 8
.= ( len C199 ) by L959 , L879;
L964: ( dom C199 ) = ( Seg ( len R29 ) ) by L959 , FINSEQ_1:def 3;
L965: [ R3 , R4 ] in ( Indices ( ( AutMt (R24 , R28 , R29) ) * ( AutMt (R27 , R29 , R30) ) ) ) by L957 , L955 , L961 , MATRIX_1:def 4;
L966: R3 in ( dom ( AutMt (( R27 * R24 ) , R28 , R30) ) ) by L961 , ZFMISC_1:87;
L967: ( width ( AutMt (( R27 * R24 ) , R28 , R30) ) ) <> ( {} ) by L962;
L968: ( len R28 ) = ( len ( AutMt (( R27 * R24 ) , R28 , R30) ) ) by L879;
L969: ( len R28 ) > ( 0 ) by L968 , L967 , MATRIX_1:def 3;
L970: R4 in ( Seg ( len R30 ) ) by L969 , L962 , L923;
L971: R4 in ( dom R30 ) by L970 , FINSEQ_1:def 3;
L972:
now
let C200 being Nat;
assume L973: (1 <= C200 & C200 <= ( len C199 ));
L974: C200 in ( dom C199 ) by L973 , FINSEQ_3:25;
L975: C200 in ( dom R29 ) by L959 , L973 , FINSEQ_3:25;
L976: ( len ( AutMt (R27 , R29 , R30) ) ) = ( len R29 ) by L879;
L977: C200 in ( dom ( AutMt (R27 , R29 , R30) ) ) by L976 , L959 , L973 , FINSEQ_3:25;
L978: R4 in ( Seg ( width ( AutMt (R27 , R29 , R30) ) ) ) by L954 , L961 , ZFMISC_1:87;
L979: [ C200 , R4 ] in [: ( dom ( AutMt (R27 , R29 , R30) ) ) , ( Seg ( width ( AutMt (R27 , R29 , R30) ) ) ) :] by L978 , L977 , ZFMISC_1:87;
L980: [ C200 , R4 ] in ( Indices ( AutMt (R27 , R29 , R30) ) ) by L979 , MATRIX_1:def 4;
consider C201 being (FinSequence of R12) such that L981: C201 = ( ( AutMt (R27 , R29 , R30) ) . C200 ) and L982: ( ( AutMt (R27 , R29 , R30) ) * (C200 , R4) ) = ( C201 . R4 ) by L980 , MATRIX_1:def 5;
L983: C201 = ( ( AutMt (R27 , R29 , R30) ) /. C200 ) by L977 , L981 , PARTFUN1:def 6
.= ( ( R27 . ( R29 /. C200 ) ) |-- R30 ) by L975 , L879;
L984: R4 in ( Seg ( len C201 ) ) by L983 , L970 , L713;
L985: R4 in ( dom C201 ) by L984 , FINSEQ_1:def 3;
L986: C200 in ( dom ( AutMt (R27 , R29 , R30) ) ) by L959 , L973 , L976 , FINSEQ_3:25;
thus L987: ( ( Col (( AutMt (R27 , R29 , R30) ) , R4) ) . C200 ) = ( C201 . R4 ) by L986 , L982 , MATRIX_1:def 8
.= ( ( ( R27 . ( R29 /. C200 ) ) |-- R30 ) /. R4 ) by L983 , L985 , PARTFUN1:def 6
.= ( C199 . C200 ) by L959 , L974;
end;
L988: ( R28 /. R3 ) in (the carrier of R21);
L989: ( R28 /. R3 ) in ( dom R24 ) by L988 , FUNCT_2:def 1;
consider C202 being (FinSequence of R12) such that L990: C202 = ( ( AutMt (( R27 * R24 ) , R28 , R30) ) . R3 ) and L991: ( ( AutMt (( R27 * R24 ) , R28 , R30) ) * (R3 , R4) ) = ( C202 . R4 ) by L960 , MATRIX_1:def 5;
L992: ( len ( ( R24 . ( R28 /. R3 ) ) |-- R29 ) ) = ( len R29 ) by L713;
L993: ( len ( AutMt (( R27 * R24 ) , R28 , R30) ) ) = ( len R28 ) by L879;
L994: R3 in ( dom R28 ) by L993 , L966 , FINSEQ_3:29;
L995: C202 = ( ( AutMt (( R27 * R24 ) , R28 , R30) ) /. R3 ) by L966 , L990 , PARTFUN1:def 6
.= ( ( ( R27 * R24 ) . ( R28 /. R3 ) ) |-- R30 ) by L994 , L879;
L996: ( len ( AutMt (R24 , R28 , R29) ) ) = ( len R28 ) by L879;
L997: R3 in ( dom ( AutMt (R24 , R28 , R29) ) ) by L996 , L966 , L993 , FINSEQ_3:29;
L998: ( Line (( AutMt (R24 , R28 , R29) ) , R3) ) = ( ( AutMt (R24 , R28 , R29) ) . R3 ) by L997 , MATRIX_2:16
.= ( ( AutMt (R24 , R28 , R29) ) /. R3 ) by L997 , PARTFUN1:def 6
.= ( ( R24 . ( R28 /. R3 ) ) |-- R29 ) by L994 , L879;
L999: ( Seg ( len R29 ) ) = ( dom R29 ) by FINSEQ_1:def 3;
L1000: R4 in ( Seg ( len ( ( ( R27 * R24 ) . ( R28 /. R3 ) ) |-- R30 ) ) ) by L970 , L713;
L1001: R4 in ( dom C202 ) by L1000 , L995 , FINSEQ_1:def 3;
thus L1002: ( ( AutMt (( R27 * R24 ) , R28 , R30) ) * (R3 , R4) ) = ( ( ( ( R27 * R24 ) . ( R28 /. R3 ) ) |-- R30 ) /. R4 ) by L1001 , L991 , L995 , PARTFUN1:def 6
.= ( ( ( R27 . ( R24 . ( R28 /. R3 ) ) ) |-- R30 ) /. R4 ) by L989 , FUNCT_1:13
.= ( ( ( R27 . ( Sum ( lmlt (( ( R24 . ( R28 /. R3 ) ) |-- R29 ) , R29) ) ) ) |-- R30 ) /. R4 ) by L771
.= ( ( ( Sum ( lmlt (( ( R24 . ( R28 /. R3 ) ) |-- R29 ) , ( R27 * R29 )) ) ) |-- R30 ) /. R4 ) by L950 , L992 , L271
.= ( Sum ( mlt (( ( R24 . ( R28 /. R3 ) ) |-- R29 ) , C199) ) ) by L952 , L971 , L959 , L964 , L999 , L992 , L842
.= ( ( Line (( AutMt (R24 , R28 , R29) ) , R3) ) "*" ( Col (( AutMt (R27 , R29 , R30) ) , R4) ) ) by L998 , L963 , L972 , FINSEQ_1:14
.= ( ( ( AutMt (R24 , R28 , R29) ) * ( AutMt (R27 , R29 , R30) ) ) * (R3 , R4) ) by L953 , L965 , MATRIX_3:def 4;
end;
thus L1003: thesis by L958 , L956 , L955 , MATRIX_1:21;
end;
theorem
L1004: (for R12 being Field holds (for R21 being  finite-dimensional (VectSp of R12) holds (for R22 being  finite-dimensional (VectSp of R12) holds (for R25 being (Function of R21 , R22) holds (for R26 being (Function of R21 , R22) holds (for R28 being (OrdBasis of R21) holds (for R29 being (OrdBasis of R22) holds ( AutMt (( R25 + R26 ) , R28 , R29) ) = ( ( AutMt (R25 , R28 , R29) ) + ( AutMt (R26 , R28 , R29) ) ))))))))
proof
let R12 being Field;
let R21 being  finite-dimensional (VectSp of R12);
let R22 being  finite-dimensional (VectSp of R12);
let R25 being (Function of R21 , R22);
let R26 being (Function of R21 , R22);
let R28 being (OrdBasis of R21);
let R29 being (OrdBasis of R22);
L1005: ( len ( AutMt (( R25 + R26 ) , R28 , R29) ) ) = ( len R28 ) by L879
.= ( len ( AutMt (R25 , R28 , R29) ) ) by L879;
L1006: ( dom ( AutMt (( R25 + R26 ) , R28 , R29) ) ) = ( dom ( AutMt (R25 , R28 , R29) ) ) by L1005 , FINSEQ_3:29;
L1007: ( width ( AutMt (R25 , R28 , R29) ) ) = ( width ( AutMt (R26 , R28 , R29) ) )
proof
per cases ;
suppose L1008: ( len R28 ) = ( 0 );

L1009: ( AutMt (R25 , R28 , R29) ) = ( {} ) by L1008 , L919
.= ( AutMt (R26 , R28 , R29) ) by L1008 , L919;
thus L1010: thesis by L1009;
end;
suppose L1011: ( len R28 ) > ( 0 );

thus L1012: ( width ( AutMt (R25 , R28 , R29) ) ) = ( len R29 ) by L1011 , L923
.= ( width ( AutMt (R26 , R28 , R29) ) ) by L1011 , L923;
end;
end;
L1014: ( width ( AutMt (( R25 + R26 ) , R28 , R29) ) ) = ( width ( AutMt (R25 , R28 , R29) ) )
proof
per cases ;
suppose L1015: ( len R28 ) = ( 0 );

L1016: ( AutMt (( R25 + R26 ) , R28 , R29) ) = ( {} ) by L1015 , L919
.= ( AutMt (R25 , R28 , R29) ) by L1015 , L919;
thus L1017: thesis by L1016;
end;
suppose L1018: ( len R28 ) > ( 0 );

thus L1019: ( width ( AutMt (( R25 + R26 ) , R28 , R29) ) ) = ( len R29 ) by L1018 , L923
.= ( width ( AutMt (R25 , R28 , R29) ) ) by L1018 , L923;
end;
end;
L1021: ( width ( AutMt (( R25 + R26 ) , R28 , R29) ) ) = ( width ( ( AutMt (R25 , R28 , R29) ) + ( AutMt (R26 , R28 , R29) ) ) ) by L1014 , MATRIX_3:def 3;
L1022: ( len ( AutMt (R25 , R28 , R29) ) ) = ( len R28 ) by L879
.= ( len ( AutMt (R26 , R28 , R29) ) ) by L879;
L1023: ( dom ( AutMt (R25 , R28 , R29) ) ) = ( dom ( AutMt (R26 , R28 , R29) ) ) by L1022 , FINSEQ_3:29;
L1024: (for R3 being Nat holds (for R4 being Nat holds ([ R3 , R4 ] in ( Indices ( AutMt (( R25 + R26 ) , R28 , R29) ) ) implies ( ( AutMt (( R25 + R26 ) , R28 , R29) ) * (R3 , R4) ) = ( ( ( AutMt (R25 , R28 , R29) ) + ( AutMt (R26 , R28 , R29) ) ) * (R3 , R4) ))))
proof
let R3 being Nat;
let R4 being Nat;
assume L1025: [ R3 , R4 ] in ( Indices ( AutMt (( R25 + R26 ) , R28 , R29) ) );
L1026: [ R3 , R4 ] in [: ( dom ( AutMt (( R25 + R26 ) , R28 , R29) ) ) , ( Seg ( width ( AutMt (( R25 + R26 ) , R28 , R29) ) ) ) :] by L1025 , MATRIX_1:def 4;
L1027: [ R3 , R4 ] in ( Indices ( AutMt (R25 , R28 , R29) ) ) by L1026 , L1006 , L1014 , MATRIX_1:def 4;
L1028: [ R3 , R4 ] in ( Indices ( AutMt (R26 , R28 , R29) ) ) by L1023 , L1007 , L1006 , L1014 , L1026 , MATRIX_1:def 4;
L1029: ( ( AutMt (( R25 + R26 ) , R28 , R29) ) * (R3 , R4) ) = ( ( ( AutMt (R25 , R28 , R29) ) * (R3 , R4) ) + ( ( AutMt (R26 , R28 , R29) ) * (R3 , R4) ) )
proof
consider C203 being (Linear_Combination of R22) such that L1030: (( R26 . ( R28 /. R3 ) ) = ( Sum C203 ) & ( Carrier C203 ) c= ( rng R29 )) and L1031: (for R2 being Nat holds ((1 <= R2 & R2 <= ( len ( ( R26 . ( R28 /. R3 ) ) |-- R29 ) )) implies ( ( ( R26 . ( R28 /. R3 ) ) |-- R29 ) /. R2 ) = ( C203 . ( R29 /. R2 ) ))) by L713;
consider C204 being (Linear_Combination of R22) such that L1032: (( R25 . ( R28 /. R3 ) ) = ( Sum C204 ) & ( Carrier C204 ) c= ( rng R29 )) and L1033: (for R2 being Nat holds ((1 <= R2 & R2 <= ( len ( ( R25 . ( R28 /. R3 ) ) |-- R29 ) )) implies ( ( ( R25 . ( R28 /. R3 ) ) |-- R29 ) /. R2 ) = ( C204 . ( R29 /. R2 ) ))) by L713;
L1034: R3 in ( dom ( AutMt (( R25 + R26 ) , R28 , R29) ) ) by L1026 , ZFMISC_1:87;
L1035: R3 in ( dom R28 ) by L1034 , L916;
reconsider D84 = ( rng R29 ) as (Basis of R22) by L102;
consider C205 being (FinSequence of R12) such that L1036: C205 = ( ( AutMt (( R25 + R26 ) , R28 , R29) ) . R3 ) and L1037: ( ( AutMt (( R25 + R26 ) , R28 , R29) ) * (R3 , R4) ) = ( C205 . R4 ) by L1025 , MATRIX_1:def 5;
consider C206 being (Linear_Combination of R22) such that L1038: (( ( R25 + R26 ) . ( R28 /. R3 ) ) = ( Sum C206 ) & ( Carrier C206 ) c= ( rng R29 )) and L1039: (for R2 being Nat holds ((1 <= R2 & R2 <= ( len ( ( ( R25 + R26 ) . ( R28 /. R3 ) ) |-- R29 ) )) implies ( ( ( ( R25 + R26 ) . ( R28 /. R3 ) ) |-- R29 ) /. R2 ) = ( C206 . ( R29 /. R2 ) ))) by L713;
L1040: (D84 is  linearly-independent & ( ( R25 + R26 ) . ( R28 /. R3 ) ) = ( ( R25 . ( R28 /. R3 ) ) + ( R26 . ( R28 /. R3 ) ) )) by L109 , VECTSP_7:def 3;
L1041: ( C206 . ( R29 /. R4 ) ) = ( ( C204 + C203 ) . ( R29 /. R4 ) ) by L1040 , L1038 , L1032 , L1030 , L76
.= ( ( C204 . ( R29 /. R4 ) ) + ( C203 . ( R29 /. R4 ) ) ) by VECTSP_6:22;
L1042: C205 = ( ( AutMt (( R25 + R26 ) , R28 , R29) ) /. R3 ) by L1036 , L1034 , PARTFUN1:def 6
.= ( ( ( R25 + R26 ) . ( R28 /. R3 ) ) |-- R29 ) by L1035 , L879;
consider C207 being (FinSequence of R12) such that L1043: C207 = ( ( AutMt (R26 , R28 , R29) ) . R3 ) and L1044: ( ( AutMt (R26 , R28 , R29) ) * (R3 , R4) ) = ( C207 . R4 ) by L1028 , MATRIX_1:def 5;
consider C208 being (FinSequence of R12) such that L1045: C208 = ( ( AutMt (R25 , R28 , R29) ) . R3 ) and L1046: ( ( AutMt (R25 , R28 , R29) ) * (R3 , R4) ) = ( C208 . R4 ) by L1027 , MATRIX_1:def 5;
L1047: R4 in ( Seg ( width ( AutMt (( R25 + R26 ) , R28 , R29) ) ) ) by L1026 , ZFMISC_1:87;
L1048: 1 <= R4 by L1047 , FINSEQ_1:1;
L1049: ( len R28 ) = ( len ( AutMt (( R25 + R26 ) , R28 , R29) ) ) by L879;
L1050: ( dom R28 ) = ( dom ( AutMt (( R25 + R26 ) , R28 , R29) ) ) by L1049 , FINSEQ_3:29;
L1051: ( dom R28 ) <> ( {} ) by L1050 , L1026 , ZFMISC_1:87;
L1052: ( Seg ( len R28 ) ) <> ( {} ) by L1051 , FINSEQ_1:def 3;
L1053: ( len R28 ) > ( 0 ) by L1052;
L1054: R4 in ( Seg ( len R29 ) ) by L1053 , L1047 , L923;
L1055: R4 <= ( len R29 ) by L1054 , FINSEQ_1:1;
L1056: R4 <= ( len ( ( ( R25 + R26 ) . ( R28 /. R3 ) ) |-- R29 ) ) by L1055 , L713;
L1057: ( C205 /. R4 ) = ( C206 . ( R29 /. R4 ) ) by L1056 , L1048 , L1042 , L1039;
L1058: R4 in ( dom R29 ) by L1054 , FINSEQ_1:def 3;
L1059: R3 in ( dom ( AutMt (R26 , R28 , R29) ) ) by L1035 , L916;
L1060: C207 = ( ( AutMt (R26 , R28 , R29) ) /. R3 ) by L1059 , L1043 , PARTFUN1:def 6
.= ( ( R26 . ( R28 /. R3 ) ) |-- R29 ) by L1035 , L879;
L1061: R4 in ( dom C207 ) by L1060 , L1058 , L741;
L1062: ( ( AutMt (R26 , R28 , R29) ) * (R3 , R4) ) = ( C207 /. R4 ) by L1061 , L1044 , PARTFUN1:def 6;
L1063: R3 in ( dom ( AutMt (R25 , R28 , R29) ) ) by L1035 , L916;
L1064: C208 = ( ( AutMt (R25 , R28 , R29) ) /. R3 ) by L1063 , L1045 , PARTFUN1:def 6
.= ( ( R25 . ( R28 /. R3 ) ) |-- R29 ) by L1035 , L879;
L1065: R4 in ( dom C208 ) by L1064 , L1058 , L741;
L1066: ( ( AutMt (R25 , R28 , R29) ) * (R3 , R4) ) = ( C208 /. R4 ) by L1065 , L1046 , PARTFUN1:def 6;
L1067: R4 <= ( len ( ( R26 . ( R28 /. R3 ) ) |-- R29 ) ) by L1055 , L713;
L1068: ( C207 /. R4 ) = ( C203 . ( R29 /. R4 ) ) by L1067 , L1048 , L1060 , L1031;
L1069: R4 <= ( len ( ( R25 . ( R28 /. R3 ) ) |-- R29 ) ) by L1055 , L713;
L1070: ( C208 /. R4 ) = ( C204 . ( R29 /. R4 ) ) by L1069 , L1048 , L1064 , L1033;
L1071: R4 in ( dom C205 ) by L1058 , L1042 , L741;
thus L1072: thesis by L1071 , L1037 , L1066 , L1062 , L1057 , L1070 , L1068 , L1041 , PARTFUN1:def 6;
end;
thus L1073: thesis by L1029 , L1027 , MATRIX_3:def 3;
end;
L1074: ( len ( AutMt (( R25 + R26 ) , R28 , R29) ) ) = ( len ( ( AutMt (R25 , R28 , R29) ) + ( AutMt (R26 , R28 , R29) ) ) ) by L1005 , MATRIX_3:def 3;
thus L1075: thesis by L1074 , L1021 , L1024 , MATRIX_1:21;
end;
theorem
L1076: (for R12 being Field holds (for R14 being (Element of R12) holds (for R21 being  finite-dimensional (VectSp of R12) holds (for R22 being  finite-dimensional (VectSp of R12) holds (for R24 being (Function of R21 , R22) holds (for R28 being (OrdBasis of R21) holds (for R29 being (OrdBasis of R22) holds (R14 <> ( 0. R12 ) implies ( AutMt (( R14 * R24 ) , R28 , R29) ) = ( R14 * ( AutMt (R24 , R28 , R29) ) )))))))))
proof
let R12 being Field;
let R14 being (Element of R12);
let R21 being  finite-dimensional (VectSp of R12);
let R22 being  finite-dimensional (VectSp of R12);
let R24 being (Function of R21 , R22);
let R28 being (OrdBasis of R21);
let R29 being (OrdBasis of R22);
assume L1077: R14 <> ( 0. R12 );
L1078: ( width ( AutMt (( R14 * R24 ) , R28 , R29) ) ) = ( width ( AutMt (R24 , R28 , R29) ) )
proof
per cases ;
suppose L1079: ( len R28 ) = ( 0 );

L1080: ( AutMt (( R14 * R24 ) , R28 , R29) ) = ( {} ) by L1079 , L919
.= ( AutMt (R24 , R28 , R29) ) by L1079 , L919;
thus L1081: thesis by L1080;
end;
suppose L1082: ( len R28 ) > ( 0 );

thus L1083: ( width ( AutMt (( R14 * R24 ) , R28 , R29) ) ) = ( len R29 ) by L1082 , L923
.= ( width ( AutMt (R24 , R28 , R29) ) ) by L1082 , L923;
end;
end;
L1085: ( width ( AutMt (( R14 * R24 ) , R28 , R29) ) ) = ( width ( R14 * ( AutMt (R24 , R28 , R29) ) ) ) by L1078 , MATRIX_3:def 5;
L1086: ( len ( AutMt (( R14 * R24 ) , R28 , R29) ) ) = ( len R28 ) by L879
.= ( len ( AutMt (R24 , R28 , R29) ) ) by L879;
L1087: ( dom ( AutMt (( R14 * R24 ) , R28 , R29) ) ) = ( dom ( AutMt (R24 , R28 , R29) ) ) by L1086 , FINSEQ_3:29;
L1088: (for R3 being Nat holds (for R4 being Nat holds ([ R3 , R4 ] in ( Indices ( AutMt (( R14 * R24 ) , R28 , R29) ) ) implies ( ( AutMt (( R14 * R24 ) , R28 , R29) ) * (R3 , R4) ) = ( ( R14 * ( AutMt (R24 , R28 , R29) ) ) * (R3 , R4) ))))
proof
let R3 being Nat;
let R4 being Nat;
assume L1089: [ R3 , R4 ] in ( Indices ( AutMt (( R14 * R24 ) , R28 , R29) ) );
L1090: [ R3 , R4 ] in [: ( dom ( AutMt (( R14 * R24 ) , R28 , R29) ) ) , ( Seg ( width ( AutMt (( R14 * R24 ) , R28 , R29) ) ) ) :] by L1089 , MATRIX_1:def 4;
L1091: [ R3 , R4 ] in ( Indices ( AutMt (R24 , R28 , R29) ) ) by L1090 , L1087 , L1078 , MATRIX_1:def 4;
L1092: ( ( AutMt (( R14 * R24 ) , R28 , R29) ) * (R3 , R4) ) = ( R14 * ( ( AutMt (R24 , R28 , R29) ) * (R3 , R4) ) )
proof
consider C209 being (FinSequence of R12) such that L1093: C209 = ( ( AutMt (R24 , R28 , R29) ) . R3 ) and L1094: ( ( AutMt (R24 , R28 , R29) ) * (R3 , R4) ) = ( C209 . R4 ) by L1091 , MATRIX_1:def 5;
L1095: R3 in ( dom ( AutMt (( R14 * R24 ) , R28 , R29) ) ) by L1090 , ZFMISC_1:87;
L1096: R3 in ( dom R28 ) by L1095 , L916;
L1097: R3 in ( dom ( AutMt (R24 , R28 , R29) ) ) by L1096 , L916;
L1098: C209 = ( ( AutMt (R24 , R28 , R29) ) /. R3 ) by L1097 , L1093 , PARTFUN1:def 6
.= ( ( R24 . ( R28 /. R3 ) ) |-- R29 ) by L1096 , L879;
reconsider D85 = ( rng R29 ) as (Basis of R22) by L102;
consider C210 being (FinSequence of R12) such that L1099: C210 = ( ( AutMt (( R14 * R24 ) , R28 , R29) ) . R3 ) and L1100: ( ( AutMt (( R14 * R24 ) , R28 , R29) ) * (R3 , R4) ) = ( C210 . R4 ) by L1089 , MATRIX_1:def 5;
consider C211 being (Linear_Combination of R22) such that L1101: (( ( R14 * R24 ) . ( R28 /. R3 ) ) = ( Sum C211 ) & ( Carrier C211 ) c= ( rng R29 )) and L1102: (for R2 being Nat holds ((1 <= R2 & R2 <= ( len ( ( ( R14 * R24 ) . ( R28 /. R3 ) ) |-- R29 ) )) implies ( ( ( ( R14 * R24 ) . ( R28 /. R3 ) ) |-- R29 ) /. R2 ) = ( C211 . ( R29 /. R2 ) ))) by L713;
consider C212 being (Linear_Combination of R22) such that L1103: (( R24 . ( R28 /. R3 ) ) = ( Sum C212 ) & ( Carrier C212 ) c= ( rng R29 )) and L1104: (for R2 being Nat holds ((1 <= R2 & R2 <= ( len ( ( R24 . ( R28 /. R3 ) ) |-- R29 ) )) implies ( ( ( R24 . ( R28 /. R3 ) ) |-- R29 ) /. R2 ) = ( C212 . ( R29 /. R2 ) ))) by L713;
L1105: (D85 is  linearly-independent & ( ( R14 * R24 ) . ( R28 /. R3 ) ) = ( R14 * ( R24 . ( R28 /. R3 ) ) )) by L118 , VECTSP_7:def 3;
L1106: ( C211 . ( R29 /. R4 ) ) = ( ( R14 * C212 ) . ( R29 /. R4 ) ) by L1105 , L1077 , L1101 , L1103 , L84
.= ( R14 * ( C212 . ( R29 /. R4 ) ) ) by VECTSP_6:def 9;
L1107: R4 in ( Seg ( width ( AutMt (( R14 * R24 ) , R28 , R29) ) ) ) by L1090 , ZFMISC_1:87;
L1108: 1 <= R4 by L1107 , FINSEQ_1:1;
L1109: ( len R28 ) = ( len ( AutMt (( R14 * R24 ) , R28 , R29) ) ) by L879;
L1110: ( dom R28 ) = ( dom ( AutMt (( R14 * R24 ) , R28 , R29) ) ) by L1109 , FINSEQ_3:29;
L1111: ( dom R28 ) <> ( {} ) by L1110 , L1090 , ZFMISC_1:87;
L1112: ( Seg ( len R28 ) ) <> ( {} ) by L1111 , FINSEQ_1:def 3;
L1113: ( len R28 ) > ( 0 ) by L1112;
L1114: R4 in ( Seg ( len R29 ) ) by L1113 , L1107 , L923;
L1115: R4 <= ( len R29 ) by L1114 , FINSEQ_1:1;
L1116: R4 <= ( len ( ( R24 . ( R28 /. R3 ) ) |-- R29 ) ) by L1115 , L713;
L1117: ( C209 /. R4 ) = ( C212 . ( R29 /. R4 ) ) by L1116 , L1108 , L1098 , L1104;
L1118: R4 in ( dom R29 ) by L1114 , FINSEQ_1:def 3;
L1119: R4 in ( dom ( ( R24 . ( R28 /. R3 ) ) |-- R29 ) ) by L1118 , L741;
L1120: ( ( AutMt (R24 , R28 , R29) ) * (R3 , R4) ) = ( C209 /. R4 ) by L1119 , L1094 , L1098 , PARTFUN1:def 6;
L1121: C210 = ( ( AutMt (( R14 * R24 ) , R28 , R29) ) /. R3 ) by L1099 , L1095 , PARTFUN1:def 6
.= ( ( ( R14 * R24 ) . ( R28 /. R3 ) ) |-- R29 ) by L1096 , L879;
L1122: R4 in ( dom C210 ) by L1121 , L1118 , L741;
L1123: R4 <= ( len ( ( ( R14 * R24 ) . ( R28 /. R3 ) ) |-- R29 ) ) by L1115 , L713;
L1124: ( C210 /. R4 ) = ( C211 . ( R29 /. R4 ) ) by L1123 , L1108 , L1121 , L1102;
thus L1125: thesis by L1124 , L1100 , L1122 , L1120 , L1117 , L1106 , PARTFUN1:def 6;
end;
thus L1126: thesis by L1092 , L1091 , MATRIX_3:def 5;
end;
L1127: ( len ( AutMt (( R14 * R24 ) , R28 , R29) ) ) = ( len ( R14 * ( AutMt (R24 , R28 , R29) ) ) ) by L1086 , MATRIX_3:def 5;
thus L1128: thesis by L1127 , L1085 , L1088 , MATRIX_1:21;
end;
