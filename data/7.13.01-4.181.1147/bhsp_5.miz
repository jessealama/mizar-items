:: Bessel's Inequality
::  by Hiroshi Yamazaki , Yasunari Shidama and Yatsuka Nakamura
::
:: Received January 30, 2003
:: Copyright (c) 2003-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, BHSP_1, PRE_TOPC, SUBSET_1, FINSEQ_1, FUNCT_1, RELAT_1,
      FUNCT_2, CARD_1, TARSKI, XBOOLE_0, BINOP_1, SETWISEO, FINSET_1, MEMBER_1,
      FINSOP_1, ALGSTR_0, SUPINF_2, NAT_1, DECOMP_1, REAL_1, STRUCT_0, BINOP_2,
      PROB_2, NORMSP_1, ARYTM_3, SQUARE_1, ARYTM_1, XXREAL_0, RVSUM_1,
      RLVECT_1, ORDINAL4, BHSP_5;
 notations TARSKI, SUBSET_1, XBOOLE_0, CARD_1, NUMBERS, XXREAL_0, ORDINAL1,
      STRUCT_0, ALGSTR_0, REAL_1, FUNCT_2, FINSET_1, RELAT_1, BINOP_2,
      PRE_TOPC, RLVECT_1, BHSP_1, SQUARE_1, BINOP_1, SETWISEO, FUNCT_1,
      FINSEQ_1, FINSOP_1;
 constructors BINOP_1, DOMAIN_1, SETWISEO, REAL_1, SQUARE_1, NAT_1, BINOP_2,
      MEMBERED, FINSOP_1, BHSP_1, RELSET_1;
 registrations XBOOLE_0, FUNCT_1, ORDINAL1, RELSET_1, FUNCT_2, FINSET_1,
      NUMBERS, BINOP_2, MEMBERED, STRUCT_0, CARD_1;
 requirements SUBSET, REAL, BOOLE, NUMERALS, ARITHM;
 definitions TARSKI, SQUARE_1, BINOP_1, RLVECT_1, ALGSTR_0;
 theorems XBOOLE_0, SUBSET_1, BHSP_1, SQUARE_1, TARSKI, INT_1, FINSEQ_1,
      FINSEQ_2, FINSEQ_3, FINSEQ_4, FUNCT_1, NAT_1, FUNCT_2, FINSOP_1,
      HILBASIS, XBOOLE_1, BINOP_2, XREAL_1, XXREAL_0, RELAT_1;
 schemes NAT_1, FINSEQ_1, FUNCT_2;

begin
theorem
L1: (for B1 being set holds (for B2 , B3 being (FinSequence of B1) holds ((B2 is  one-to-one & B3 is  one-to-one & ( rng B2 ) = ( rng B3 )) implies (( dom B2 ) = ( dom B3 ) & (ex B4 being (Permutation of ( dom B2 )) st (B3 = ( B2 * B4 ) & ( dom B4 ) = ( dom B2 ) & ( rng B4 ) = ( dom B2 )))))))
proof
let C1 being set;
let C2 , C3 being (FinSequence of C1);
assume that
L2: C2 is  one-to-one
and
L3: C3 is  one-to-one
and
L4: ( rng C2 ) = ( rng C3 );
set D1 = ( ( C2 " ) * C3 );
L5: ( len C2 ) = ( card ( rng C3 ) ) by L2 , L4 , FINSEQ_4:62
.= ( len C3 ) by L3 , FINSEQ_4:62;
L6: ( dom C2 ) = ( Seg ( len C3 ) ) by L5 , FINSEQ_1:def 3
.= ( dom C3 ) by FINSEQ_1:def 3;
L7:
now
let R6 being set;
L8: ( dom ( C2 " ) ) = ( rng C2 ) by L2 , FUNCT_1:33;
L9: (R6 in ( dom C3 ) implies ( C3 . R6 ) in ( dom ( C2 " ) )) by L8 , L4 , FUNCT_1:3;
thus L10: (R6 in ( dom D1 ) iff R6 in ( dom C3 )) by L9 , FUNCT_1:11;
end;
L11: ( dom D1 ) = ( dom C3 ) by L7 , TARSKI:1;
L12: ( rng ( C2 " ) ) = ( dom C2 ) by L2 , FUNCT_1:33;
L13: ( rng D1 ) c= ( dom C2 )
proof
let R6 being set;
assume L14: R6 in ( rng D1 );
thus L15: thesis by L14 , L12 , FUNCT_1:14;
end;
L16: ( dom C2 ) c= ( rng D1 )
proof
let R6 being set;
assume L17: R6 in ( dom C2 );
L18: R6 in ( rng ( C2 " ) ) by L17 , L2 , FUNCT_1:33;
consider C4 being set such that L19: C4 in ( dom ( C2 " ) ) and L20: R6 = ( ( C2 " ) . C4 ) by L18 , FUNCT_1:def 3;
L21: C4 in ( rng C3 ) by L2 , L4 , L19 , FUNCT_1:33;
consider C5 being set such that L22: C5 in ( dom C3 ) and L23: C4 = ( C3 . C5 ) by L21 , FUNCT_1:def 3;
L24: R6 = ( D1 . C5 ) by L20 , L22 , L23 , FUNCT_1:13;
thus L25: thesis by L24 , L11 , L22 , FUNCT_1:def 3;
end;
L26: ( dom D1 ) = ( dom C2 ) by L6 , L7 , TARSKI:1;
L27: ( rng D1 ) = ( dom C2 ) by L13 , L16 , XBOOLE_0:def 10;
L28: D1 is (Function of ( dom C2 ) , ( dom C2 )) by L27 , L26 , FUNCT_2:1;
L29: D1 is (Permutation of ( dom C2 )) by L28 , L2 , L3 , L27 , FUNCT_2:57;
L30:
now
let R6 being set;
L31: (R6 in ( dom D1 ) implies ( D1 . R6 ) in ( dom C2 )) by L27 , FUNCT_1:3;
thus L32: (R6 in ( dom ( C2 * D1 ) ) iff R6 in ( dom C2 )) by L31 , L26 , FUNCT_1:11;
end;
L33: ( dom C3 ) = ( dom ( C2 * D1 ) ) by L30 , L6 , TARSKI:1;
L34: (for R6 being set holds (R6 in ( dom C3 ) implies ( C3 . R6 ) = ( ( C2 * D1 ) . R6 )))
proof
let R6 being set;
assume L35: R6 in ( dom C3 );
L36: ( C3 . R6 ) in ( rng C2 ) by L35 , L4 , FUNCT_1:3;
L37: ( ( C2 * D1 ) . R6 ) = ( C2 . ( ( ( C2 " ) * C3 ) . R6 ) ) by L6 , L26 , L35 , FUNCT_1:13
.= ( C2 . ( ( C2 " ) . ( C3 . R6 ) ) ) by L35 , FUNCT_1:13
.= ( C3 . R6 ) by L2 , L36 , FUNCT_1:35;
thus L38: thesis by L37;
end;
thus L39: thesis by L34 , L6 , L26 , L27 , L29 , L33 , FUNCT_1:2;
end;
definition
let C6 being non  empty set;
let C7 being (BinOp of C6);
assume that
L40: C7 is  commutative  associative
and
L41: C7 is  having_a_unity;
let C8 being  finite (Subset of C6);
func C7 ++ C8 -> (Element of C6) means 
(ex B5 being (FinSequence of C6) st (B5 is  one-to-one & ( rng B5 ) = C8 & it = ( C7 "**" B5 )));
existence
proof
consider C9 being FinSequence such that L42: ( rng C9 ) = C8 and L43: C9 is  one-to-one by FINSEQ_4:58;
reconsider D2 = C9 as (FinSequence of C6) by L42 , FINSEQ_1:def 4;
L44: (ex B6 being (FinSequence of C6) st (B6 is  one-to-one & ( rng B6 ) = C8 & ( C7 "**" D2 ) = ( C7 "**" B6 ))) by L42 , L43;
thus L45: thesis by L44;
end;
uniqueness
proof
let C10 , C11 being (Element of C6);
assume that
L46: (ex B7 being (FinSequence of C6) st (B7 is  one-to-one & ( rng B7 ) = C8 & C10 = ( C7 "**" B7 )))
and
L47: (ex B8 being (FinSequence of C6) st (B8 is  one-to-one & ( rng B8 ) = C8 & C11 = ( C7 "**" B8 )));
consider C12 being (FinSequence of C6) such that L48: C12 is  one-to-one and L49: ( rng C12 ) = C8 and L50: C10 = ( C7 "**" C12 ) by L46;
consider C13 being (FinSequence of C6) such that L51: C13 is  one-to-one and L52: ( rng C13 ) = C8 and L53: C11 = ( C7 "**" C13 ) by L47;
L54: (ex B9 being (Permutation of ( dom C12 )) st (C13 = ( C12 * B9 ) & ( dom B9 ) = ( dom C12 ) & ( rng B9 ) = ( dom C12 ))) by L48 , L49 , L51 , L52 , L1;
thus L55: thesis by L54 , L40 , L41 , L50 , L53 , FINSOP_1:7;
end;
end;
definition
let R1 being RealUnitarySpace;
let C14 being  finite (Subset of R1);
func setop_SUM (C14 , R1) equals 
( (the addF of R1) ++ C14 ) if C14 <> ( {} ) otherwise ( 0. R1 );
correctness;
end;
definition
let R1 being RealUnitarySpace;
let R2 being (Point of R1);
let C15 being FinSequence;
let C16 being Nat;
func PO (C16 , C15 , R2) equals 
( (the scalar of R1) . [ R2 , ( C15 . C16 ) ] );
correctness;
end;
definition
let C17 , C18 being non  empty set;
let C19 being (Function of C18 , C17);
let C20 being (FinSequence of C18);
func Func_Seq (C19 , C20) -> (FinSequence of C17) equals 
( C19 * C20 );
correctness by FINSEQ_2:32;
end;
definition
let C21 , C22 being non  empty set;
let C23 being (BinOp of C21);
assume that
L60: C23 is  commutative  associative
and
L61: C23 is  having_a_unity;
let C24 being  finite (Subset of C22);
let C25 being (Function of C22 , C21);
assume that
L62: C24 c= ( dom C25 );
func setopfunc (C24 , C22 , C21 , C25 , C23) -> (Element of C21) means 
:L63: (ex B10 being (FinSequence of C22) st (B10 is  one-to-one & ( rng B10 ) = C24 & it = ( C23 "**" ( Func_Seq (C25 , B10) ) )));
existence
proof
consider C26 being FinSequence such that L64: ( rng C26 ) = C24 and L65: C26 is  one-to-one by FINSEQ_4:58;
reconsider D3 = C26 as (FinSequence of C22) by L64 , FINSEQ_1:def 4;
L66: (ex B11 being (FinSequence of C22) st (B11 is  one-to-one & ( rng B11 ) = C24 & ( C23 "**" ( Func_Seq (C25 , D3) ) ) = ( C23 "**" ( Func_Seq (C25 , B11) ) ))) by L64 , L65;
thus L67: thesis by L66;
end;
uniqueness
proof
let C27 , C28 being (Element of C21);
assume that
L68: (ex B12 being (FinSequence of C22) st (B12 is  one-to-one & ( rng B12 ) = C24 & C27 = ( C23 "**" ( Func_Seq (C25 , B12) ) )))
and
L69: (ex B13 being (FinSequence of C22) st (B13 is  one-to-one & ( rng B13 ) = C24 & C28 = ( C23 "**" ( Func_Seq (C25 , B13) ) )));
consider C29 being (FinSequence of C22) such that L70: C29 is  one-to-one and L71: ( rng C29 ) = C24 and L72: C27 = ( C23 "**" ( Func_Seq (C25 , C29) ) ) by L68;
consider C30 being (FinSequence of C22) such that L73: C30 is  one-to-one and L74: ( rng C30 ) = C24 and L75: C28 = ( C23 "**" ( Func_Seq (C25 , C30) ) ) by L69;
L76: ( dom C29 ) = ( dom C30 ) by L70 , L71 , L73 , L74 , L1;
consider C31 being (Permutation of ( dom C29 )) such that L77: C30 = ( C29 * C31 ) and L78: ( dom C31 ) = ( dom C29 ) and L79: ( rng C31 ) = ( dom C29 ) by L70 , L71 , L73 , L74 , L1;
L80:
now
let R6 being set;
L81: (R6 in ( dom C29 ) implies ( C29 . R6 ) in ( rng C29 )) by FUNCT_1:3;
thus L82: (R6 in ( dom ( Func_Seq (C25 , C29) ) ) iff R6 in ( dom C29 )) by L81 , L62 , L71 , FUNCT_1:11;
end;
L83: ( dom ( Func_Seq (C25 , C29) ) ) = ( dom C29 ) by L80 , TARSKI:1;
L84:
now
let R6 being set;
L85: (R6 in ( dom C30 ) implies ( C30 . R6 ) in ( rng C30 )) by FUNCT_1:3;
thus L86: (R6 in ( dom ( Func_Seq (C25 , C30) ) ) iff R6 in ( dom C30 )) by L85 , L62 , L74 , FUNCT_1:11;
end;
L87: ( dom ( Func_Seq (C25 , C30) ) ) = ( dom C30 ) by L84 , TARSKI:1;
L88: ( rng C31 ) = ( dom ( Func_Seq (C25 , C29) ) ) by L83 , FUNCT_2:def 3;
L89:
now
let R6 being set;
L90: (R6 in ( dom C31 ) implies ( C31 . R6 ) in ( dom ( Func_Seq (C25 , C29) ) )) by L88 , FUNCT_1:3;
L91: (R6 in ( dom ( ( Func_Seq (C25 , C29) ) * C31 ) ) iff R6 in ( dom C31 )) by L90 , FUNCT_1:11;
thus L92: (R6 in ( dom ( ( Func_Seq (C25 , C29) ) * C31 ) ) iff R6 in ( dom ( Func_Seq (C25 , C30) ) )) by L91 , L76 , L87 , FUNCT_2:52;
end;
L93: ( dom ( Func_Seq (C25 , C30) ) ) = ( dom ( ( Func_Seq (C25 , C29) ) * C31 ) ) by L89 , TARSKI:1;
L94:
now
let C32 being set;
assume L95: C32 in ( dom ( Func_Seq (C25 , C30) ) );
reconsider D4 = C32 as (Element of ( NAT )) by L95;
L96: D4 in ( dom C31 ) by L76 , L87 , L95 , FUNCT_2:52;
L97: ( C31 . D4 ) in ( rng C31 ) by L96 , FUNCT_1:3;
L98: ( C31 . D4 ) in ( dom ( Func_Seq (C25 , C30) ) ) by L97 , L76 , L87 , FUNCT_2:def 3;
reconsider D5 = ( C31 . D4 ) as (Element of ( NAT )) by L98;
L99: D5 in ( dom C29 ) by L97 , FUNCT_2:def 3;
L100: C32 in ( dom C31 ) by L76 , L87 , L95 , FUNCT_2:52;
L101: ( ( Func_Seq (C25 , C30) ) . C32 ) = ( C25 . ( C30 . D4 ) ) by L87 , L95 , FUNCT_1:13
.= ( C25 . ( C29 . ( C31 . D4 ) ) ) by L77 , L100 , FUNCT_1:13
.= ( ( Func_Seq (C25 , C29) ) . D5 ) by L99 , FUNCT_1:13
.= ( ( ( Func_Seq (C25 , C29) ) * C31 ) . C32 ) by L100 , FUNCT_1:13;
thus L102: ( ( Func_Seq (C25 , C30) ) . C32 ) = ( ( ( Func_Seq (C25 , C29) ) * C31 ) . C32 ) by L101;
end;
L103: ( Func_Seq (C25 , C30) ) = ( ( Func_Seq (C25 , C29) ) * C31 ) by L94 , L93 , FUNCT_1:2;
thus L104: thesis by L103 , L60 , L61 , L72 , L75 , L83 , FINSOP_1:7;
end;
end;
definition
let R1 being RealUnitarySpace;
let R2 being (Point of R1);
let C33 being  finite (Subset of R1);
func setop_xPre_PROD (R2 , C33 , R1) -> Real means 
(ex B14 being (FinSequence of (the carrier of R1)) st (B14 is  one-to-one & ( rng B14 ) = C33 & (ex B15 being (FinSequence of ( REAL )) st (( dom B15 ) = ( dom B14 ) & (for R7 being (Element of ( NAT )) holds (R7 in ( dom B15 ) implies ( B15 . R7 ) = ( PO (R7 , B14 , R2) ))) & it = ( ( addreal ) "**" B15 )))));
existence
proof
consider C34 being FinSequence such that L106: ( rng C34 ) = C33 and L107: C34 is  one-to-one by FINSEQ_4:58;
reconsider D6 = C34 as (FinSequence of (the carrier of R1)) by L106 , FINSEQ_1:def 4;
set D7 = ( len D6 );
deffunc H1(Nat) = ( PO ($1 , D6 , R2) );
consider C35 being FinSequence such that L108: (( len C35 ) = D7 & (for B16 being Nat holds (B16 in ( dom C35 ) implies ( C35 . B16 ) = H1(B16)))) from FINSEQ_1:sch 2;
L109: ( dom C35 ) = ( Seg D7 ) by L108 , FINSEQ_1:def 3;
L110: ( dom C35 ) = ( dom D6 ) by L108 , FINSEQ_3:29;
L111:
now
let C36 being Nat;
assume L112: C36 in ( dom C35 );
L113: ( C35 . C36 ) = ( PO (C36 , D6 , R2) ) by L112 , L108
.= ( (the scalar of R1) . [ R2 , ( D6 . C36 ) ] );
reconsider D8 = ( D6 . C36 ) as (Point of R1) by L110 , L112 , FINSEQ_2:11;
L114: ( (the scalar of R1) . [ R2 , ( D6 . C36 ) ] ) = ( R2 .|. D8 ) by BHSP_1:def 1;
thus L115: ( C35 . C36 ) in ( REAL ) by L114 , L113;
end;
reconsider D9 = C35 as (FinSequence of ( REAL )) by L111 , FINSEQ_2:12;
take ( ( addreal ) "**" D9 );
take D6;
thus L116: (D6 is  one-to-one & ( rng D6 ) = C33) by L106 , L107;
take D9;
thus L117: thesis by L108 , L109 , FINSEQ_1:def 3;
end;
uniqueness
proof
let C37 , C38 being (Element of ( REAL ));
assume that
L118: (ex B17 being (FinSequence of (the carrier of R1)) st (B17 is  one-to-one & ( rng B17 ) = C33 & (ex B18 being (FinSequence of ( REAL )) st (( dom B18 ) = ( dom B17 ) & (for R7 being (Element of ( NAT )) holds (R7 in ( dom B18 ) implies ( B18 . R7 ) = ( PO (R7 , B17 , R2) ))) & C37 = ( ( addreal ) "**" B18 )))))
and
L119: (ex B19 being (FinSequence of (the carrier of R1)) st (B19 is  one-to-one & ( rng B19 ) = C33 & (ex B20 being (FinSequence of ( REAL )) st (( dom B20 ) = ( dom B19 ) & (for R7 being (Element of ( NAT )) holds (R7 in ( dom B20 ) implies ( B20 . R7 ) = ( PO (R7 , B19 , R2) ))) & C38 = ( ( addreal ) "**" B20 )))));
consider C39 being (FinSequence of (the carrier of R1)) such that L120: C39 is  one-to-one and L121: ( rng C39 ) = C33 and L122: (ex B21 being (FinSequence of ( REAL )) st (( dom B21 ) = ( dom C39 ) & (for R7 being (Element of ( NAT )) holds (R7 in ( dom B21 ) implies ( B21 . R7 ) = ( PO (R7 , C39 , R2) ))) & C37 = ( ( addreal ) "**" B21 ))) by L118;
consider C40 being (FinSequence of (the carrier of R1)) such that L123: C40 is  one-to-one and L124: ( rng C40 ) = C33 and L125: (ex B22 being (FinSequence of ( REAL )) st (( dom B22 ) = ( dom C40 ) & (for R7 being (Element of ( NAT )) holds (R7 in ( dom B22 ) implies ( B22 . R7 ) = ( PO (R7 , C40 , R2) ))) & C38 = ( ( addreal ) "**" B22 ))) by L119;
consider C41 being (FinSequence of ( REAL )) such that L126: ( dom C41 ) = ( dom C39 ) and L127: (for R7 being (Element of ( NAT )) holds (R7 in ( dom C41 ) implies ( C41 . R7 ) = ( PO (R7 , C39 , R2) ))) and L128: C37 = ( ( addreal ) "**" C41 ) by L122;
consider C42 being (FinSequence of ( REAL )) such that L129: ( dom C42 ) = ( dom C40 ) and L130: (for R7 being (Element of ( NAT )) holds (R7 in ( dom C42 ) implies ( C42 . R7 ) = ( PO (R7 , C40 , R2) ))) and L131: C38 = ( ( addreal ) "**" C42 ) by L125;
L132: ( dom C39 ) = ( dom C40 ) by L120 , L121 , L123 , L124 , L1;
consider C43 being (Permutation of ( dom C39 )) such that L133: C40 = ( C39 * C43 ) and L134: ( dom C43 ) = ( dom C39 ) and L135: ( rng C43 ) = ( dom C39 ) by L120 , L121 , L123 , L124 , L1;
L136: ( rng C43 ) = ( dom C41 ) by L126 , FUNCT_2:def 3;
L137: ( dom C43 ) = ( dom C42 ) by L129 , L132 , FUNCT_2:52;
L138: ( rng C43 ) = ( dom C42 ) by L129 , L132 , FUNCT_2:def 3;
L139: ( dom C39 ) = ( dom C42 ) by L120 , L121 , L123 , L124 , L129 , L1;
L140:
now
let R6 being set;
L141: (R6 in ( dom C43 ) implies ( C43 . R6 ) in ( dom C41 )) by L136 , FUNCT_1:3;
thus L142: (R6 in ( dom ( C41 * C43 ) ) iff R6 in ( dom C42 )) by L141 , L137 , FUNCT_1:11;
end;
L143: ( dom C42 ) = ( dom ( C41 * C43 ) ) by L140 , TARSKI:1;
L144:
now
let C44 being set;
assume L145: C44 in ( dom C42 );
reconsider D10 = C44 as (Element of ( NAT )) by L145;
L146: ( C43 . D10 ) in ( dom C42 ) by L137 , L138 , L145 , FUNCT_1:3;
reconsider D11 = ( C43 . D10 ) as (Element of ( NAT )) by L146;
L147: C44 in ( dom C43 ) by L129 , L132 , L145 , FUNCT_2:52;
L148: ( C42 . C44 ) = ( PO (D10 , C40 , R2) ) by L130 , L145
.= ( PO (D11 , C39 , R2) ) by L133 , L147 , FUNCT_1:13
.= ( C41 . ( C43 . D10 ) ) by L126 , L127 , L137 , L138 , L139 , L145 , FUNCT_1:3
.= ( ( C41 * C43 ) . C44 ) by L147 , FUNCT_1:13;
thus L149: ( C42 . C44 ) = ( ( C41 * C43 ) . C44 ) by L148;
end;
L150: C42 = ( C41 * C43 ) by L144 , L143 , FUNCT_1:2;
thus L151: thesis by L150 , L126 , L128 , L131 , FINSOP_1:7;
end;
end;
definition
let R1 being RealUnitarySpace;
let R2 being (Point of R1);
let C45 being  finite (Subset of R1);
func setop_xPROD (R2 , C45 , R1) -> Real equals 
( setop_xPre_PROD (R2 , C45 , R1) ) if C45 <> ( {} ) otherwise ( 0 );
correctness;
end;
begin
definition
let R1 being RealUnitarySpace;
mode OrthogonalFamily of R1
 -> (Subset of R1)
means :L154: (for R2 being (Point of R1) holds (for R3 being (Point of R1) holds ((R2 in it & R3 in it & R2 <> R3) implies ( R2 .|. R3 ) = ( 0 ))));
existence
proof
take ( {} );
thus L155: thesis by SUBSET_1:1;
end;
end;
theorem
L157: (for R1 being RealUnitarySpace holds ( {} ) is (OrthogonalFamily of R1))
proof
let R1 being RealUnitarySpace;
L158: ( {} ) is (Subset of R1) by SUBSET_1:1;
L159: (for R2 being (Point of R1) holds (for R3 being (Point of R1) holds ((R2 in ( {} ) & R3 in ( {} ) & R2 <> R3) implies ( R2 .|. R3 ) = ( 0 ))));
thus L160: thesis by L159 , L158 , L154;
end;
registration
let R1 being RealUnitarySpace;
cluster  finite for (OrthogonalFamily of R1);
existence
proof
take ( {} );
thus L161: thesis by L157;
end;
end;
definition
let R1 being RealUnitarySpace;
mode OrthonormalFamily of R1
 -> (Subset of R1)
means :L163: (it is (OrthogonalFamily of R1) & (for R2 being (Point of R1) holds (R2 in it implies ( R2 .|. R2 ) = 1)));
existence
proof
take ( {} );
thus L164: thesis by L157;
end;
end;
theorem
L166: (for R1 being RealUnitarySpace holds ( {} ) is (OrthonormalFamily of R1))
proof
let R1 being RealUnitarySpace;
L167: ( {} ) is (OrthogonalFamily of R1) by L157;
L168: (for R2 being (Point of R1) holds (R2 in ( {} ) implies ( R2 .|. R2 ) = 1));
thus L169: thesis by L168 , L167 , L163;
end;
registration
let R1 being RealUnitarySpace;
cluster  finite for (OrthonormalFamily of R1);
existence
proof
take ( {} );
thus L170: thesis by L166;
end;
end;
theorem
L172: (for R1 being RealUnitarySpace holds (for R2 being (Point of R1) holds (R2 = ( 0. R1 ) iff (for R3 being (Point of R1) holds ( R2 .|. R3 ) = ( 0 )))))
proof
let R1 being RealUnitarySpace;
let R2 being (Point of R1);
L173:
now
assume L174: (for R3 being (Point of R1) holds ( R2 .|. R3 ) = ( 0 ));
L175: ( R2 .|. R2 ) = ( 0 ) by L174;
thus L176: R2 = ( 0. R1 ) by L175 , BHSP_1:def 2;
end;
thus L177: thesis by L173 , BHSP_1:14;
end;
begin
theorem
L178: (for R1 being RealUnitarySpace holds (for R2 being (Point of R1) holds (for R3 being (Point of R1) holds ( ( ||. ( R2 + R3 ) .|| ^2 ) + ( ||. ( R2 - R3 ) .|| ^2 ) ) = ( ( 2 * ( ||. R2 .|| ^2 ) ) + ( 2 * ( ||. R3 .|| ^2 ) ) ))))
proof
let R1 being RealUnitarySpace;
let R2 being (Point of R1);
let R3 being (Point of R1);
L179: ( ( R2 + R3 ) .|. ( R2 + R3 ) ) >= ( 0 ) by BHSP_1:def 2;
L180: ( ( R2 - R3 ) .|. ( R2 - R3 ) ) >= ( 0 ) by BHSP_1:def 2;
L181: ( R2 .|. R2 ) >= ( 0 ) by BHSP_1:def 2;
L182: ( R3 .|. R3 ) >= ( 0 ) by BHSP_1:def 2;
L183: ( ( ||. ( R2 + R3 ) .|| ^2 ) + ( ||. ( R2 - R3 ) .|| ^2 ) ) = ( ( ( sqrt ( ( R2 + R3 ) .|. ( R2 + R3 ) ) ) ^2 ) + ( ||. ( R2 - R3 ) .|| ^2 ) ) by BHSP_1:def 4
.= ( ( ( R2 + R3 ) .|. ( R2 + R3 ) ) + ( ||. ( R2 - R3 ) .|| ^2 ) ) by L179 , SQUARE_1:def 2
.= ( ( ( R2 + R3 ) .|. ( R2 + R3 ) ) + ( ( sqrt ( ( R2 - R3 ) .|. ( R2 - R3 ) ) ) ^2 ) ) by BHSP_1:def 4
.= ( ( ( R2 + R3 ) .|. ( R2 + R3 ) ) + ( ( R2 - R3 ) .|. ( R2 - R3 ) ) ) by L180 , SQUARE_1:def 2
.= ( ( ( ( R2 .|. R2 ) + ( 2 * ( R2 .|. R3 ) ) ) + ( R3 .|. R3 ) ) + ( ( R2 - R3 ) .|. ( R2 - R3 ) ) ) by BHSP_1:16
.= ( ( ( ( R2 .|. R2 ) + ( 2 * ( R2 .|. R3 ) ) ) + ( R3 .|. R3 ) ) + ( ( ( R2 .|. R2 ) - ( 2 * ( R2 .|. R3 ) ) ) + ( R3 .|. R3 ) ) ) by BHSP_1:18
.= ( ( 2 * ( R2 .|. R2 ) ) + ( 2 * ( R3 .|. R3 ) ) )
.= ( ( 2 * ( ( sqrt ( R2 .|. R2 ) ) ^2 ) ) + ( 2 * ( R3 .|. R3 ) ) ) by L181 , SQUARE_1:def 2
.= ( ( 2 * ( ( sqrt ( R2 .|. R2 ) ) ^2 ) ) + ( 2 * ( ( sqrt ( R3 .|. R3 ) ) ^2 ) ) ) by L182 , SQUARE_1:def 2
.= ( ( 2 * ( ||. R2 .|| ^2 ) ) + ( 2 * ( ( sqrt ( R3 .|. R3 ) ) ^2 ) ) ) by BHSP_1:def 4
.= ( ( 2 * ( ||. R2 .|| ^2 ) ) + ( 2 * ( ||. R3 .|| ^2 ) ) ) by BHSP_1:def 4;
thus L184: thesis by L183;
end;
theorem
L185: (for R1 being RealUnitarySpace holds (for R2 being (Point of R1) holds (for R3 being (Point of R1) holds (R2 , R3 are_orthogonal  implies ( ||. ( R2 + R3 ) .|| ^2 ) = ( ( ||. R2 .|| ^2 ) + ( ||. R3 .|| ^2 ) )))))
proof
let R1 being RealUnitarySpace;
let R2 being (Point of R1);
let R3 being (Point of R1);
assume L186: R2 , R3 are_orthogonal ;
L187: ( R2 .|. R3 ) = ( 0 ) by L186 , BHSP_1:def 3;
L188: ( ( R2 + R3 ) .|. ( R2 + R3 ) ) >= ( 0 ) by BHSP_1:def 2;
L189: ( R2 .|. R2 ) >= ( 0 ) by BHSP_1:def 2;
L190: ( R3 .|. R3 ) >= ( 0 ) by BHSP_1:def 2;
L191: ( ||. ( R2 + R3 ) .|| ^2 ) = ( ( sqrt ( ( R2 + R3 ) .|. ( R2 + R3 ) ) ) ^2 ) by BHSP_1:def 4
.= ( ( R2 + R3 ) .|. ( R2 + R3 ) ) by L188 , SQUARE_1:def 2
.= ( ( ( R2 .|. R2 ) + ( 2 * ( R2 .|. R3 ) ) ) + ( R3 .|. R3 ) ) by BHSP_1:16
.= ( ( ( sqrt ( R2 .|. R2 ) ) ^2 ) + ( R3 .|. R3 ) ) by L187 , L189 , SQUARE_1:def 2
.= ( ( ( sqrt ( R2 .|. R2 ) ) ^2 ) + ( ( sqrt ( R3 .|. R3 ) ) ^2 ) ) by L190 , SQUARE_1:def 2
.= ( ( ||. R2 .|| ^2 ) + ( ( sqrt ( R3 .|. R3 ) ) ^2 ) ) by BHSP_1:def 4
.= ( ( ||. R2 .|| ^2 ) + ( ||. R3 .|| ^2 ) ) by BHSP_1:def 4;
thus L192: thesis by L191;
end;
theorem
L193: (for R1 being RealUnitarySpace holds (for B23 being (FinSequence of (the carrier of R1)) holds ((( len B23 ) >= 1 & (for R7 being (Element of ( NAT )) holds (for R8 being (Element of ( NAT )) holds ((R7 in ( dom B23 ) & R8 in ( dom B23 ) & R7 <> R8) implies ( (the scalar of R1) . [ ( B23 . R7 ) , ( B23 . R8 ) ] ) = ( 0 ))))) implies (for B24 being (FinSequence of ( REAL )) holds ((( dom B23 ) = ( dom B24 ) & (for R7 being (Element of ( NAT )) holds (R7 in ( dom B24 ) implies ( B24 . R7 ) = ( (the scalar of R1) . [ ( B23 . R7 ) , ( B23 . R7 ) ] )))) implies ( ( (the addF of R1) "**" B23 ) .|. ( (the addF of R1) "**" B23 ) ) = ( ( addreal ) "**" B24 ))))))
proof
let R1 being RealUnitarySpace;
let C46 being (FinSequence of (the carrier of R1));
assume that
L194: ( len C46 ) >= 1
and
L195: (for R7 being (Element of ( NAT )) holds (for R8 being (Element of ( NAT )) holds ((R7 in ( dom C46 ) & R8 in ( dom C46 ) & R7 <> R8) implies ( (the scalar of R1) . [ ( C46 . R7 ) , ( C46 . R8 ) ] ) = ( 0 ))));
L196: 1 in ( dom C46 ) by L194 , FINSEQ_3:25;
let C47 being (FinSequence of ( REAL ));
assume that
L197: ( dom C46 ) = ( dom C47 )
and
L198: (for R7 being (Element of ( NAT )) holds (R7 in ( dom C47 ) implies ( C47 . R7 ) = ( (the scalar of R1) . [ ( C46 . R7 ) , ( C46 . R7 ) ] )));
consider C48 being (Function of ( NAT ) , (the carrier of R1)) such that L199: ( C48 . 1 ) = ( C46 . 1 ) and L200: (for B25 being (Element of ( NAT )) holds ((( 0 ) <> B25 & B25 < ( len C46 )) implies ( C48 . ( B25 + 1 ) ) = ( (the addF of R1) . (( C48 . B25 ) , ( C46 . ( B25 + 1 ) )) ))) and L201: ( (the addF of R1) "**" C46 ) = ( C48 . ( len C46 ) ) by L194 , FINSOP_1:1;
L202: ( ( (the addF of R1) "**" C46 ) .|. ( (the addF of R1) "**" C46 ) ) = ( (the scalar of R1) . [ ( C48 . ( len C46 ) ) , ( C48 . ( len C46 ) ) ] ) by L201 , BHSP_1:def 1;
L203: ( Seg ( len C47 ) ) = ( dom C46 ) by L197 , FINSEQ_1:def 3
.= ( Seg ( len C46 ) ) by FINSEQ_1:def 3;
L204: ( len C47 ) = ( len C46 ) by L203 , FINSEQ_1:6;
L205: ( len C47 ) >= 1 by L194 , L203 , FINSEQ_1:6;
consider C49 being (Function of ( NAT ) , ( REAL )) such that L206: ( C49 . 1 ) = ( C47 . 1 ) and L207: (for B26 being (Element of ( NAT )) holds ((( 0 ) <> B26 & B26 < ( len C47 )) implies ( C49 . ( B26 + 1 ) ) = ( ( addreal ) . (( C49 . B26 ) , ( C47 . ( B26 + 1 ) )) ))) and L208: ( ( addreal ) "**" C47 ) = ( C49 . ( len C47 ) ) by L205 , FINSOP_1:1;
defpred S1[ (Element of ( NAT )) ] means ((1 <= $1 & $1 <= ( len C47 )) implies ( C49 . $1 ) = ( (the scalar of R1) . [ ( C48 . $1 ) , ( C48 . $1 ) ] ));
L209: S1[ ( 0 ) ];
L210:
now
let R9 being (Element of ( NAT ));
assume that
L211: ((1 <= R9 & R9 <= ( len C47 )) implies ( C49 . R9 ) = ( (the scalar of R1) . [ ( C48 . R9 ) , ( C48 . R9 ) ] ));
L212:
now
assume that
L213: 1 <= ( R9 + 1 )
and
L214: ( R9 + 1 ) <= ( len C47 );
L215: R9 <= ( R9 + 1 ) by NAT_1:11;
per cases ;
suppose L216: R9 = ( 0 );

L217: 1 in ( Seg ( len C46 ) ) by L194 , FINSEQ_1:1;
L218: 1 in ( dom C47 ) by L217 , L197 , FINSEQ_1:def 3;
thus L219: ( C49 . ( R9 + 1 ) ) = ( (the scalar of R1) . [ ( C48 . ( R9 + 1 ) ) , ( C48 . ( R9 + 1 ) ) ] ) by L218 , L198 , L199 , L206 , L216;
end;
suppose L220: R9 <> ( 0 );

L221: ( 0 ) < R9 by L220 , NAT_1:3;
L222: ( ( 0 ) + 1 ) <= R9 by L221 , INT_1:7;
L223: R9 <= ( len C46 ) by L204 , L214 , L215 , XXREAL_0:2;
L224: ( ( R9 + 1 ) - 1 ) < ( ( len C47 ) - ( 0 ) ) by L214 , XREAL_1:15;
L225: R9 < ( len C46 ) by L224 , L203 , FINSEQ_1:6;
L226: ( R9 + 1 ) in ( Seg ( len C47 ) ) by L213 , L214 , FINSEQ_1:1;
L227: ( R9 + 1 ) in ( dom C47 ) by L226 , FINSEQ_1:def 3;
L228: ( R9 + 1 ) in ( dom C46 ) by L197 , L226 , FINSEQ_1:def 3;
L229: ( dom C48 ) = ( NAT ) by FUNCT_2:def 1;
L230: ( C48 . R9 ) in ( rng C48 ) by L229 , FUNCT_1:3;
L231: ( rng C48 ) c= (the carrier of R1) by RELAT_1:def 19;
reconsider D12 = ( C48 . R9 ) as (Element of R1) by L231 , L230;
L232: ( C46 . ( R9 + 1 ) ) in ( rng C46 ) by L228 , FUNCT_1:3;
L233: ( rng C46 ) c= (the carrier of R1) by RELAT_1:def 19;
reconsider D13 = ( C46 . ( R9 + 1 ) ) as (Element of R1) by L233 , L232;
L234: (for R7 being (Element of ( NAT )) holds ((1 <= R7 & R7 <= R9) implies ( (the scalar of R1) . [ ( C48 . R7 ) , D13 ] ) = ( 0 )))
proof
let R7 being (Element of ( NAT ));
defpred S2[ (Element of ( NAT )) ] means ((1 <= $1 & $1 <= R9) implies ( (the scalar of R1) . [ ( C48 . $1 ) , D13 ] ) = ( 0 ));
L235: S2[ ( 0 ) ];
L236: (for R7 being (Element of ( NAT )) holds (S2[ R7 ] implies S2[ ( R7 + 1 ) ]))
proof
let R7 being (Element of ( NAT ));
assume L237: S2[ R7 ];
L238: 1 <> ( R9 + 1 ) by L220;
assume that
L239: 1 <= ( R7 + 1 )
and
L240: ( R7 + 1 ) <= R9;
L241: ( R7 + 1 ) <= ( len C46 ) by L223 , L240 , XXREAL_0:2;
L242: ( R7 + 1 ) in ( dom C46 ) by L241 , L239 , FINSEQ_3:25;
per cases ;
suppose L243: R7 = ( 0 );

thus L244: thesis by L243 , L195 , L196 , L199 , L228 , L238;
end;
suppose L245: R7 <> ( 0 );

L246: ( C48 . R7 ) in ( rng C48 ) by L229 , FUNCT_1:3;
L247: ( rng C48 ) c= (the carrier of R1) by RELAT_1:def 19;
reconsider D14 = ( C48 . R7 ) as (Element of R1) by L247 , L246;
L248: ( R7 + 1 ) <= ( len C46 ) by L223 , L240 , XXREAL_0:2;
L249: ( R7 + 1 ) in ( dom C46 ) by L248 , L239 , FINSEQ_3:25;
L250: ( C46 . ( R7 + 1 ) ) in ( rng C46 ) by L249 , FUNCT_1:3;
L251: ( rng C46 ) c= (the carrier of R1) by RELAT_1:def 19;
reconsider D15 = ( C46 . ( R7 + 1 ) ) as (Element of R1) by L251 , L250;
L252: ( ( R7 + 1 ) - 1 ) < ( ( len C46 ) - ( 0 ) ) by L248 , XREAL_1:15;
L253: ( 0 ) < R7 by L245 , NAT_1:3;
L254: ( ( 0 ) + 1 ) <= R7 by L253 , INT_1:7;
L255: R7 < ( R7 + 1 ) by XREAL_1:29;
L256: ( D14 .|. D13 ) = ( 0 ) by L255 , L237 , L240 , L254 , BHSP_1:def 1 , XXREAL_0:2;
L257: ( ( R7 + 1 ) + ( 0 ) ) < ( R9 + 1 ) by L240 , XREAL_1:8;
L258: ( (the scalar of R1) . [ ( C48 . ( R7 + 1 ) ) , D13 ] ) = ( (the scalar of R1) . [ ( D14 + D15 ) , D13 ] ) by L200 , L245 , L252
.= ( ( D14 + D15 ) .|. D13 ) by BHSP_1:def 1
.= ( ( 0 ) + ( D15 .|. D13 ) ) by L256 , BHSP_1:2
.= ( (the scalar of R1) . [ D15 , D13 ] ) by BHSP_1:def 1
.= ( 0 ) by L195 , L228 , L242 , L257;
thus L259: thesis by L258;
end;
end;
L261: (for R7 being (Element of ( NAT )) holds S2[ R7 ]) from NAT_1:sch 1(L235 , L236);
thus L262: thesis by L261;
end;
L263: ( 0 ) = ( (the scalar of R1) . [ D12 , D13 ] ) by L234 , L222
.= ( D12 .|. D13 ) by BHSP_1:def 1;
thus L264: ( C49 . ( R9 + 1 ) ) = ( ( addreal ) . (( (the scalar of R1) . [ ( C48 . R9 ) , ( C48 . R9 ) ] ) , ( C47 . ( R9 + 1 ) )) ) by L207 , L211 , L220 , L222 , L224
.= ( ( addreal ) . (( (the scalar of R1) . [ ( C48 . R9 ) , ( C48 . R9 ) ] ) , ( (the scalar of R1) . [ ( C46 . ( R9 + 1 ) ) , ( C46 . ( R9 + 1 ) ) ] )) ) by L198 , L227
.= ( ( addreal ) . (( (the scalar of R1) . [ ( C48 . R9 ) , ( C48 . R9 ) ] ) , ( D13 .|. D13 )) ) by BHSP_1:def 1
.= ( ( addreal ) . (( D12 .|. D12 ) , ( D13 .|. D13 )) ) by BHSP_1:def 1
.= ( ( ( ( D12 .|. D12 ) + ( D12 .|. D13 ) ) + ( D13 .|. D12 ) ) + ( D13 .|. D13 ) ) by L263 , BINOP_2:def 9
.= ( ( ( D12 .|. ( D12 + D13 ) ) + ( D13 .|. D12 ) ) + ( D13 .|. D13 ) ) by BHSP_1:2
.= ( ( D12 .|. ( D12 + D13 ) ) + ( ( D13 .|. D12 ) + ( D13 .|. D13 ) ) )
.= ( ( D12 .|. ( D12 + D13 ) ) + ( D13 .|. ( D12 + D13 ) ) ) by BHSP_1:2
.= ( ( D12 + D13 ) .|. ( D12 + D13 ) ) by BHSP_1:2
.= ( (the scalar of R1) . [ ( (the addF of R1) . (( C48 . R9 ) , ( C46 . ( R9 + 1 ) )) ) , ( D12 + D13 ) ] ) by BHSP_1:def 1
.= ( (the scalar of R1) . [ ( (the addF of R1) . (( C48 . R9 ) , ( C46 . ( R9 + 1 ) )) ) , ( C48 . ( R9 + 1 ) ) ] ) by L200 , L220 , L225
.= ( (the scalar of R1) . [ ( C48 . ( R9 + 1 ) ) , ( C48 . ( R9 + 1 ) ) ] ) by L200 , L220 , L225;
end;
end;
thus L266: ((1 <= ( R9 + 1 ) & ( R9 + 1 ) <= ( len C47 )) implies ( C49 . ( R9 + 1 ) ) = ( (the scalar of R1) . [ ( C48 . ( R9 + 1 ) ) , ( C48 . ( R9 + 1 ) ) ] )) by L212;
end;
L267: (for R9 being (Element of ( NAT )) holds (S1[ R9 ] implies S1[ ( R9 + 1 ) ])) by L210;
L268: (for R9 being (Element of ( NAT )) holds S1[ R9 ]) from NAT_1:sch 1(L209 , L267);
thus L269: thesis by L268 , L194 , L202 , L204 , L208;
end;
theorem
L270: (for R1 being RealUnitarySpace holds (for R2 being (Point of R1) holds (for B27 being (FinSequence of (the carrier of R1)) holds (( len B27 ) >= 1 implies (for B28 being (FinSequence of ( REAL )) holds ((( dom B27 ) = ( dom B28 ) & (for R7 being (Element of ( NAT )) holds (R7 in ( dom B28 ) implies ( B28 . R7 ) = ( (the scalar of R1) . [ R2 , ( B27 . R7 ) ] )))) implies ( R2 .|. ( (the addF of R1) "**" B27 ) ) = ( ( addreal ) "**" B28 )))))))
proof
let R1 being RealUnitarySpace;
let R2 being (Point of R1);
let C50 being (FinSequence of (the carrier of R1));
assume that
L271: ( len C50 ) >= 1;
let C51 being (FinSequence of ( REAL ));
assume that
L272: ( dom C50 ) = ( dom C51 )
and
L273: (for R7 being (Element of ( NAT )) holds (R7 in ( dom C51 ) implies ( C51 . R7 ) = ( (the scalar of R1) . [ R2 , ( C50 . R7 ) ] )));
consider C52 being (Function of ( NAT ) , (the carrier of R1)) such that L274: ( C52 . 1 ) = ( C50 . 1 ) and L275: (for B29 being (Element of ( NAT )) holds ((( 0 ) <> B29 & B29 < ( len C50 )) implies ( C52 . ( B29 + 1 ) ) = ( (the addF of R1) . (( C52 . B29 ) , ( C50 . ( B29 + 1 ) )) ))) and L276: ( (the addF of R1) "**" C50 ) = ( C52 . ( len C50 ) ) by L271 , FINSOP_1:1;
L277: ( Seg ( len C51 ) ) = ( dom C50 ) by L272 , FINSEQ_1:def 3
.= ( Seg ( len C50 ) ) by FINSEQ_1:def 3;
L278: ( len C51 ) = ( len C50 ) by L277 , FINSEQ_1:6;
L279: ( len C51 ) >= 1 by L271 , L277 , FINSEQ_1:6;
consider C53 being (Function of ( NAT ) , ( REAL )) such that L280: ( C53 . 1 ) = ( C51 . 1 ) and L281: (for B30 being (Element of ( NAT )) holds ((( 0 ) <> B30 & B30 < ( len C51 )) implies ( C53 . ( B30 + 1 ) ) = ( ( addreal ) . (( C53 . B30 ) , ( C51 . ( B30 + 1 ) )) ))) and L282: ( ( addreal ) "**" C51 ) = ( C53 . ( len C51 ) ) by L279 , FINSOP_1:1;
defpred S3[ (Element of ( NAT )) ] means ((1 <= $1 & $1 <= ( len C51 )) implies ( C53 . $1 ) = ( (the scalar of R1) . [ R2 , ( C52 . $1 ) ] ));
L283: S3[ ( 0 ) ];
L284:
now
let R9 being (Element of ( NAT ));
assume L285: S3[ R9 ];
L286:
now
assume that
L287: 1 <= ( R9 + 1 )
and
L288: ( R9 + 1 ) <= ( len C51 );
per cases ;
suppose L289: R9 = ( 0 );

L290: 1 in ( Seg ( len C50 ) ) by L271 , FINSEQ_1:1;
L291: 1 in ( dom C51 ) by L290 , L272 , FINSEQ_1:def 3;
thus L292: ( C53 . ( R9 + 1 ) ) = ( (the scalar of R1) . [ R2 , ( C52 . ( R9 + 1 ) ) ] ) by L291 , L273 , L274 , L280 , L289;
end;
suppose L293: R9 <> ( 0 );

L294: ( 0 ) < R9 by L293 , NAT_1:3;
L295: ( ( 0 ) + 1 ) <= R9 by L294 , INT_1:7;
L296: ( ( R9 + 1 ) - 1 ) < ( ( len C51 ) - ( 0 ) ) by L288 , XREAL_1:15;
L297: ( R9 + 1 ) in ( Seg ( len C51 ) ) by L287 , L288 , FINSEQ_1:1;
L298: ( R9 + 1 ) in ( dom C51 ) by L297 , FINSEQ_1:def 3;
L299: ( R9 + 1 ) in ( dom C50 ) by L272 , L297 , FINSEQ_1:def 3;
L300: ( dom C52 ) = ( NAT ) by FUNCT_2:def 1;
L301: ( C52 . R9 ) in ( rng C52 ) by L300 , FUNCT_1:3;
L302: ( rng C52 ) c= (the carrier of R1) by RELAT_1:def 19;
reconsider D16 = ( C52 . R9 ) as (Element of R1) by L302 , L301;
L303: ( C50 . ( R9 + 1 ) ) in ( rng C50 ) by L299 , FUNCT_1:3;
L304: ( rng C50 ) c= (the carrier of R1) by RELAT_1:def 19;
reconsider D17 = ( C50 . ( R9 + 1 ) ) as (Element of R1) by L304 , L303;
thus L305: ( C53 . ( R9 + 1 ) ) = ( ( addreal ) . (( (the scalar of R1) . [ R2 , ( C52 . R9 ) ] ) , ( C51 . ( R9 + 1 ) )) ) by L281 , L285 , L293 , L295 , L296
.= ( ( addreal ) . (( (the scalar of R1) . [ R2 , ( C52 . R9 ) ] ) , ( (the scalar of R1) . [ R2 , ( C50 . ( R9 + 1 ) ) ] )) ) by L273 , L298
.= ( ( addreal ) . (( (the scalar of R1) . [ R2 , ( C52 . R9 ) ] ) , ( R2 .|. D17 )) ) by BHSP_1:def 1
.= ( ( addreal ) . (( R2 .|. D16 ) , ( R2 .|. D17 )) ) by BHSP_1:def 1
.= ( ( R2 .|. D16 ) + ( R2 .|. D17 ) ) by BINOP_2:def 9
.= ( R2 .|. ( D16 + D17 ) ) by BHSP_1:2
.= ( (the scalar of R1) . [ R2 , ( (the addF of R1) . (( C52 . R9 ) , ( C50 . ( R9 + 1 ) )) ) ] ) by BHSP_1:def 1
.= ( (the scalar of R1) . [ R2 , ( C52 . ( R9 + 1 ) ) ] ) by L275 , L278 , L293 , L296;
end;
end;
thus L307: ((1 <= ( R9 + 1 ) & ( R9 + 1 ) <= ( len C51 )) implies ( C53 . ( R9 + 1 ) ) = ( (the scalar of R1) . [ R2 , ( C52 . ( R9 + 1 ) ) ] )) by L286;
end;
L308: (for R9 being (Element of ( NAT )) holds (S3[ R9 ] implies S3[ ( R9 + 1 ) ])) by L284;
L309: (for R9 being (Element of ( NAT )) holds S3[ R9 ]) from NAT_1:sch 1(L283 , L308);
L310: 1 <= ( len C51 ) by L271 , L277 , FINSEQ_1:6;
L311: ( C53 . ( len C51 ) ) = ( (the scalar of R1) . [ R2 , ( C52 . ( len C51 ) ) ] ) by L310 , L309
.= ( (the scalar of R1) . [ R2 , ( C52 . ( len C50 ) ) ] ) by L277 , FINSEQ_1:6;
thus L312: thesis by L311 , L276 , L282 , BHSP_1:def 1;
end;
theorem
L313: (for R1 being RealUnitarySpace holds (for B31 being  finite non  empty (Subset of R1) holds (for B32 being (Function of (the carrier of R1) , (the carrier of R1)) holds ((B31 c= ( dom B32 ) & (for R4 being (Point of R1) holds (for R5 being (Point of R1) holds ((R4 in B31 & R5 in B31 & R4 <> R5) implies ( (the scalar of R1) . [ ( B32 . R4 ) , ( B32 . R5 ) ] ) = ( 0 ))))) implies (for B33 being (Function of (the carrier of R1) , ( REAL )) holds ((B31 c= ( dom B33 ) & (for R3 being (Point of R1) holds (R3 in B31 implies ( B33 . R3 ) = ( (the scalar of R1) . [ ( B32 . R3 ) , ( B32 . R3 ) ] )))) implies (for B34 being (FinSequence of (the carrier of R1)) holds ((B34 is  one-to-one & ( rng B34 ) = B31) implies ( (the scalar of R1) . [ ( (the addF of R1) "**" ( Func_Seq (B32 , B34) ) ) , ( (the addF of R1) "**" ( Func_Seq (B32 , B34) ) ) ] ) = ( ( addreal ) "**" ( Func_Seq (B33 , B34) ) )))))))))
proof
let R1 being RealUnitarySpace;
let C54 being  finite non  empty (Subset of R1);
let C55 being (Function of (the carrier of R1) , (the carrier of R1));
assume that
L314: C54 c= ( dom C55 )
and
L315: (for R4 being (Point of R1) holds (for R5 being (Point of R1) holds ((R4 in C54 & R5 in C54 & R4 <> R5) implies ( (the scalar of R1) . [ ( C55 . R4 ) , ( C55 . R5 ) ] ) = ( 0 ))));
let C56 being (Function of (the carrier of R1) , ( REAL ));
assume that
L316: C54 c= ( dom C56 )
and
L317: (for R3 being (Point of R1) holds (R3 in C54 implies ( C56 . R3 ) = ( (the scalar of R1) . [ ( C55 . R3 ) , ( C55 . R3 ) ] )));
let C57 being (FinSequence of (the carrier of R1));
assume that
L318: C57 is  one-to-one
and
L319: ( rng C57 ) = C54;
set D18 = ( Func_Seq (C55 , C57) );
set D19 = ( Func_Seq (C56 , C57) );
L320:
now
let C58 being set;
L321: (C58 in ( dom C57 ) implies ( C57 . C58 ) in ( rng C57 )) by FUNCT_1:3;
thus L322: (C58 in ( dom D18 ) iff C58 in ( dom C57 )) by L321 , L314 , L319 , FUNCT_1:11;
end;
L323: ( dom D18 ) = ( dom C57 ) by L320 , TARSKI:1;
L324: ( Seg ( len C57 ) ) = ( dom D18 ) by L323 , FINSEQ_1:def 3
.= ( Seg ( len D18 ) ) by FINSEQ_1:def 3;
L325: ( len C57 ) = ( card C54 ) by L318 , L319 , FINSEQ_4:62;
L326: ( 0 ) < ( card C54 ) by NAT_1:3;
L327: ( ( 0 ) + 1 ) <= ( card C54 ) by L326 , INT_1:7;
L328: 1 <= ( len D18 ) by L327 , L324 , L325 , FINSEQ_1:6;
L329: (for R7 being (Element of ( NAT )) holds (for R8 being (Element of ( NAT )) holds ((R7 in ( dom D18 ) & R8 in ( dom D18 ) & R7 <> R8) implies ( (the scalar of R1) . [ ( D18 . R7 ) , ( D18 . R8 ) ] ) = ( 0 ))))
proof
let R7 being (Element of ( NAT ));
let R8 being (Element of ( NAT ));
assume that
L330: R7 in ( dom D18 )
and
L331: R8 in ( dom D18 )
and
L332: R7 <> R8;
L333: ( C57 . R7 ) in C54 by L319 , L323 , L330 , FUNCT_1:3;
L334: ( C57 . R8 ) in C54 by L319 , L323 , L331 , FUNCT_1:3;
L335: ( D18 . R7 ) = ( C55 . ( C57 . R7 ) ) by L330 , FUNCT_1:12;
L336: ( D18 . R8 ) = ( C55 . ( C57 . R8 ) ) by L331 , FUNCT_1:12;
L337: ( C57 . R7 ) <> ( C57 . R8 ) by L318 , L323 , L330 , L331 , L332 , FUNCT_1:def 4;
thus L338: thesis by L337 , L315 , L333 , L334 , L335 , L336;
end;
L339:
now
let C59 being set;
L340: (C59 in ( dom C57 ) implies ( C57 . C59 ) in ( rng C57 )) by FUNCT_1:3;
thus L341: (C59 in ( dom D19 ) iff C59 in ( dom C57 )) by L340 , L316 , L319 , FUNCT_1:11;
end;
L342: ( dom D19 ) = ( dom C57 ) by L339 , TARSKI:1;
L343: (for R7 being (Element of ( NAT )) holds (R7 in ( dom D19 ) implies ( D19 . R7 ) = ( (the scalar of R1) . [ ( D18 . R7 ) , ( D18 . R7 ) ] )))
proof
let R7 being (Element of ( NAT ));
assume that
L344: R7 in ( dom D19 );
L345: ( C57 . R7 ) in C54 by L319 , L342 , L344 , FUNCT_1:3;
L346: ( D19 . R7 ) = ( C56 . ( C57 . R7 ) ) by L342 , L344 , FUNCT_1:13
.= ( (the scalar of R1) . [ ( C55 . ( C57 . R7 ) ) , ( C55 . ( C57 . R7 ) ) ] ) by L317 , L345
.= ( (the scalar of R1) . [ ( ( C55 * C57 ) . R7 ) , ( C55 . ( C57 . R7 ) ) ] ) by L342 , L344 , FUNCT_1:13
.= ( (the scalar of R1) . [ ( D18 . R7 ) , ( D18 . R7 ) ] ) by L342 , L344 , FUNCT_1:13;
thus L347: thesis by L346;
end;
L348: ( (the scalar of R1) . [ ( (the addF of R1) "**" ( Func_Seq (C55 , C57) ) ) , ( (the addF of R1) "**" ( Func_Seq (C55 , C57) ) ) ] ) = ( ( (the addF of R1) "**" D18 ) .|. ( (the addF of R1) "**" D18 ) ) by BHSP_1:def 1
.= ( ( addreal ) "**" ( Func_Seq (C56 , C57) ) ) by L323 , L328 , L329 , L342 , L343 , L193;
thus L349: thesis by L348;
end;
theorem
L350: (for R1 being RealUnitarySpace holds (for R2 being (Point of R1) holds (for B35 being  finite non  empty (Subset of R1) holds (for B36 being (Function of (the carrier of R1) , (the carrier of R1)) holds (B35 c= ( dom B36 ) implies (for B37 being (Function of (the carrier of R1) , ( REAL )) holds ((B35 c= ( dom B37 ) & (for R3 being (Point of R1) holds (R3 in B35 implies ( B37 . R3 ) = ( (the scalar of R1) . [ R2 , ( B36 . R3 ) ] )))) implies (for B38 being (FinSequence of (the carrier of R1)) holds ((B38 is  one-to-one & ( rng B38 ) = B35) implies ( (the scalar of R1) . [ R2 , ( (the addF of R1) "**" ( Func_Seq (B36 , B38) ) ) ] ) = ( ( addreal ) "**" ( Func_Seq (B37 , B38) ) ))))))))))
proof
let R1 being RealUnitarySpace;
let R2 being (Point of R1);
let C60 being  finite non  empty (Subset of R1);
let C61 being (Function of (the carrier of R1) , (the carrier of R1));
assume that
L351: C60 c= ( dom C61 );
let C62 being (Function of (the carrier of R1) , ( REAL ));
assume that
L352: C60 c= ( dom C62 )
and
L353: (for R3 being (Point of R1) holds (R3 in C60 implies ( C62 . R3 ) = ( (the scalar of R1) . [ R2 , ( C61 . R3 ) ] )));
let C63 being (FinSequence of (the carrier of R1));
assume that
L354: C63 is  one-to-one
and
L355: ( rng C63 ) = C60;
set D20 = ( Func_Seq (C61 , C63) );
set D21 = ( Func_Seq (C62 , C63) );
L356:
now
let R6 being set;
L357: (R6 in ( dom C63 ) implies ( C63 . R6 ) in ( rng C63 )) by FUNCT_1:3;
thus L358: (R6 in ( dom ( Func_Seq (C61 , C63) ) ) iff R6 in ( dom C63 )) by L357 , L351 , L355 , FUNCT_1:11;
end;
L359: ( dom ( Func_Seq (C61 , C63) ) ) = ( dom C63 ) by L356 , TARSKI:1;
L360:
now
let R6 being set;
L361: (R6 in ( dom C63 ) implies ( C63 . R6 ) in ( rng C63 )) by FUNCT_1:3;
thus L362: (R6 in ( dom ( Func_Seq (C62 , C63) ) ) iff R6 in ( dom C63 )) by L361 , L352 , L355 , FUNCT_1:11;
end;
L363: ( dom ( Func_Seq (C62 , C63) ) ) = ( dom C63 ) by L360 , TARSKI:1;
L364: (for R7 being (Element of ( NAT )) holds (R7 in ( dom D20 ) implies ( D21 . R7 ) = ( (the scalar of R1) . [ R2 , ( D20 . R7 ) ] )))
proof
let R7 being (Element of ( NAT ));
assume that
L365: R7 in ( dom D20 );
L366: ( C63 . R7 ) in C60 by L355 , L359 , L365 , FUNCT_1:3;
L367: ( D21 . R7 ) = ( C62 . ( C63 . R7 ) ) by L359 , L365 , FUNCT_1:13
.= ( (the scalar of R1) . [ R2 , ( C61 . ( C63 . R7 ) ) ] ) by L353 , L366
.= ( (the scalar of R1) . [ R2 , ( D20 . R7 ) ] ) by L359 , L365 , FUNCT_1:13;
thus L368: thesis by L367;
end;
L369: ( Seg ( len C63 ) ) = ( dom ( Func_Seq (C61 , C63) ) ) by L359 , FINSEQ_1:def 3
.= ( Seg ( len ( Func_Seq (C61 , C63) ) ) ) by FINSEQ_1:def 3;
L370: ( len C63 ) = ( card C60 ) by L354 , L355 , FINSEQ_4:62;
L371: ( 0 ) < ( card C60 ) by NAT_1:3;
L372: ( ( 0 ) + 1 ) <= ( card C60 ) by L371 , INT_1:7;
L373: ( len ( Func_Seq (C61 , C63) ) ) >= 1 by L372 , L369 , L370 , FINSEQ_1:6;
L374: ( R2 .|. ( (the addF of R1) "**" D20 ) ) = ( ( addreal ) "**" D21 ) by L373 , L359 , L363 , L364 , L270;
thus L375: thesis by L374 , BHSP_1:def 1;
end;
theorem
L376: (for R1 being RealUnitarySpace holds (((the addF of R1) is  commutative  associative & (the addF of R1) is  having_a_unity) implies (for R2 being (Point of R1) holds (for B39 being  finite (OrthonormalFamily of R1) holds (B39 is non  empty implies (for B40 being (Function of (the carrier of R1) , ( REAL )) holds ((B39 c= ( dom B40 ) & (for R3 being (Point of R1) holds (R3 in B39 implies ( B40 . R3 ) = ( ( R2 .|. R3 ) ^2 )))) implies (for B41 being (Function of (the carrier of R1) , (the carrier of R1)) holds ((B39 c= ( dom B41 ) & (for R3 being (Point of R1) holds (R3 in B39 implies ( B41 . R3 ) = ( ( R2 .|. R3 ) * R3 )))) implies ( R2 .|. ( setopfunc (B39 , (the carrier of R1) , (the carrier of R1) , B41 , (the addF of R1)) ) ) = ( setopfunc (B39 , (the carrier of R1) , ( REAL ) , B40 , ( addreal )) ))))))))))
proof
let R1 being RealUnitarySpace;
assume that
L377: (the addF of R1) is  commutative  associative
and
L378: (the addF of R1) is  having_a_unity;
let R2 being (Point of R1);
let C64 being  finite (OrthonormalFamily of R1);
assume that
L379: C64 is non  empty;
let C65 being (Function of (the carrier of R1) , ( REAL ));
assume that
L380: C64 c= ( dom C65 )
and
L381: (for R3 being (Point of R1) holds (R3 in C64 implies ( C65 . R3 ) = ( ( R2 .|. R3 ) ^2 )));
let C66 being (Function of (the carrier of R1) , (the carrier of R1));
assume that
L382: C64 c= ( dom C66 )
and
L383: (for R3 being (Point of R1) holds (R3 in C64 implies ( C66 . R3 ) = ( ( R2 .|. R3 ) * R3 )));
consider C67 being (FinSequence of (the carrier of R1)) such that L384: C67 is  one-to-one and L385: ( rng C67 ) = C64 and L386: ( setopfunc (C64 , (the carrier of R1) , (the carrier of R1) , C66 , (the addF of R1)) ) = ( (the addF of R1) "**" ( Func_Seq (C66 , C67) ) ) by L377 , L378 , L382 , L63;
L387: (for R3 being (Point of R1) holds (R3 in C64 implies ( C65 . R3 ) = ( (the scalar of R1) . [ R2 , ( C66 . R3 ) ] )))
proof
let R3 being (Point of R1);
assume that
L388: R3 in C64;
set D22 = ( R2 .|. R3 );
L389: ( C65 . R3 ) = ( ( R2 .|. R3 ) ^2 ) by L381 , L388
.= ( R2 .|. ( D22 * R3 ) ) by BHSP_1:3
.= ( (the scalar of R1) . [ R2 , ( D22 * R3 ) ] ) by BHSP_1:def 1
.= ( (the scalar of R1) . [ R2 , ( C66 . R3 ) ] ) by L383 , L388;
thus L390: thesis by L389;
end;
L391: ( setopfunc (C64 , (the carrier of R1) , ( REAL ) , C65 , ( addreal )) ) = ( ( addreal ) "**" ( Func_Seq (C65 , C67) ) ) by L380 , L384 , L385 , L63;
L392: ( R2 .|. ( setopfunc (C64 , (the carrier of R1) , (the carrier of R1) , C66 , (the addF of R1)) ) ) = ( (the scalar of R1) . [ R2 , ( (the addF of R1) "**" ( Func_Seq (C66 , C67) ) ) ] ) by L386 , BHSP_1:def 1;
thus L393: thesis by L392 , L379 , L380 , L382 , L384 , L385 , L387 , L391 , L350;
end;
theorem
L394: (for R1 being RealUnitarySpace holds (((the addF of R1) is  commutative  associative & (the addF of R1) is  having_a_unity) implies (for R2 being (Point of R1) holds (for B42 being  finite (OrthonormalFamily of R1) holds (B42 is non  empty implies (for B43 being (Function of (the carrier of R1) , (the carrier of R1)) holds ((B42 c= ( dom B43 ) & (for R3 being (Point of R1) holds (R3 in B42 implies ( B43 . R3 ) = ( ( R2 .|. R3 ) * R3 )))) implies (for B44 being (Function of (the carrier of R1) , ( REAL )) holds ((B42 c= ( dom B44 ) & (for R3 being (Point of R1) holds (R3 in B42 implies ( B44 . R3 ) = ( ( R2 .|. R3 ) ^2 )))) implies ( ( setopfunc (B42 , (the carrier of R1) , (the carrier of R1) , B43 , (the addF of R1)) ) .|. ( setopfunc (B42 , (the carrier of R1) , (the carrier of R1) , B43 , (the addF of R1)) ) ) = ( setopfunc (B42 , (the carrier of R1) , ( REAL ) , B44 , ( addreal )) ))))))))))
proof
let R1 being RealUnitarySpace;
assume that
L395: (the addF of R1) is  commutative  associative
and
L396: (the addF of R1) is  having_a_unity;
let R2 being (Point of R1);
let C68 being  finite (OrthonormalFamily of R1);
assume that
L397: C68 is non  empty;
let C69 being (Function of (the carrier of R1) , (the carrier of R1));
assume that
L398: C68 c= ( dom C69 )
and
L399: (for R3 being (Point of R1) holds (R3 in C68 implies ( C69 . R3 ) = ( ( R2 .|. R3 ) * R3 )));
let C70 being (Function of (the carrier of R1) , ( REAL ));
assume that
L400: C68 c= ( dom C70 )
and
L401: (for R3 being (Point of R1) holds (R3 in C68 implies ( C70 . R3 ) = ( ( R2 .|. R3 ) ^2 )));
consider C71 being (FinSequence of (the carrier of R1)) such that L402: C71 is  one-to-one and L403: ( rng C71 ) = C68 and L404: ( setopfunc (C68 , (the carrier of R1) , (the carrier of R1) , C69 , (the addF of R1)) ) = ( (the addF of R1) "**" ( Func_Seq (C69 , C71) ) ) by L395 , L396 , L398 , L63;
L405: (for R4 being (Point of R1) holds (for R5 being (Point of R1) holds ((R4 in C68 & R5 in C68 & R4 <> R5) implies ( (the scalar of R1) . [ ( C69 . R4 ) , ( C69 . R5 ) ] ) = ( 0 ))))
proof
let R4 being (Point of R1);
let R5 being (Point of R1);
assume that
L406: R4 in C68
and
L407: R5 in C68
and
L408: R4 <> R5;
set D23 = ( R2 .|. R4 );
set D24 = ( R2 .|. R5 );
L409: C68 is (OrthogonalFamily of R1) by L163;
L410: ( R4 .|. R5 ) = ( 0 ) by L409 , L406 , L407 , L408 , L154;
L411: ( (the scalar of R1) . [ ( C69 . R4 ) , ( C69 . R5 ) ] ) = ( (the scalar of R1) . [ ( ( R2 .|. R4 ) * R4 ) , ( C69 . R5 ) ] ) by L399 , L406
.= ( (the scalar of R1) . [ ( ( R2 .|. R4 ) * R4 ) , ( ( R2 .|. R5 ) * R5 ) ] ) by L399 , L407
.= ( ( D23 * R4 ) .|. ( D24 * R5 ) ) by BHSP_1:def 1
.= ( D24 * ( R5 .|. ( D23 * R4 ) ) ) by BHSP_1:3
.= ( D24 * ( D23 * ( R5 .|. R4 ) ) ) by BHSP_1:3
.= ( 0 ) by L410;
thus L412: thesis by L411;
end;
L413: (for R3 being (Point of R1) holds (R3 in C68 implies ( C70 . R3 ) = ( (the scalar of R1) . [ ( C69 . R3 ) , ( C69 . R3 ) ] )))
proof
let R3 being (Point of R1);
assume L414: R3 in C68;
L415: ( C69 . R3 ) = ( ( R2 .|. R3 ) * R3 ) by L414 , L399;
L416: ( C70 . R3 ) = ( ( R2 .|. R3 ) ^2 ) by L401 , L414
.= ( ( ( R2 .|. R3 ) * ( R2 .|. R3 ) ) * 1 )
.= ( ( ( R2 .|. R3 ) * ( R2 .|. R3 ) ) * ( R3 .|. R3 ) ) by L414 , L163
.= ( ( R2 .|. R3 ) * ( ( R2 .|. R3 ) * ( R3 .|. R3 ) ) )
.= ( ( R2 .|. R3 ) * ( ( ( R2 .|. R3 ) * R3 ) .|. R3 ) ) by BHSP_1:3
.= ( ( ( R2 .|. R3 ) * R3 ) .|. ( ( R2 .|. R3 ) * R3 ) ) by BHSP_1:3
.= ( (the scalar of R1) . [ ( C69 . R3 ) , ( C69 . R3 ) ] ) by L415 , BHSP_1:def 1;
thus L417: thesis by L416;
end;
L418: ( ( setopfunc (C68 , (the carrier of R1) , (the carrier of R1) , C69 , (the addF of R1)) ) .|. ( setopfunc (C68 , (the carrier of R1) , (the carrier of R1) , C69 , (the addF of R1)) ) ) = ( (the scalar of R1) . [ ( (the addF of R1) "**" ( Func_Seq (C69 , C71) ) ) , ( (the addF of R1) "**" ( Func_Seq (C69 , C71) ) ) ] ) by L404 , BHSP_1:def 1
.= ( ( addreal ) "**" ( Func_Seq (C70 , C71) ) ) by L397 , L398 , L400 , L402 , L403 , L405 , L413 , L313
.= ( setopfunc (C68 , (the carrier of R1) , ( REAL ) , C70 , ( addreal )) ) by L400 , L402 , L403 , L63;
thus L419: thesis by L418;
end;
theorem
L420: (for R1 being RealUnitarySpace holds (((the addF of R1) is  commutative  associative & (the addF of R1) is  having_a_unity) implies (for R2 being (Point of R1) holds (for B45 being  finite (OrthonormalFamily of R1) holds (B45 is non  empty implies (for B46 being (Function of (the carrier of R1) , ( REAL )) holds ((B45 c= ( dom B46 ) & (for R3 being (Point of R1) holds (R3 in B45 implies ( B46 . R3 ) = ( ( R2 .|. R3 ) ^2 )))) implies ( setopfunc (B45 , (the carrier of R1) , ( REAL ) , B46 , ( addreal )) ) <= ( ||. R2 .|| ^2 ))))))))
proof
let R1 being RealUnitarySpace;
assume that
L421: (the addF of R1) is  commutative  associative
and
L422: (the addF of R1) is  having_a_unity;
let R2 being (Point of R1);
let C72 being  finite (OrthonormalFamily of R1);
assume that
L423: C72 is non  empty;
let C73 being (Function of (the carrier of R1) , ( REAL ));
assume that
L424: C72 c= ( dom C73 )
and
L425: (for R3 being (Point of R1) holds (R3 in C72 implies ( C73 . R3 ) = ( ( R2 .|. R3 ) ^2 )));
L426:
now
deffunc H2(set) = ( (the Mult of R1) . [ ( (the scalar of R1) . [ R2 , $1 ] ) , $1 ] );
L427: (for B47 being set holds (B47 in (the carrier of R1) implies H2(B47) in (the carrier of R1)))
proof
let C74 being set;
assume that
L428: C74 in (the carrier of R1);
reconsider D25 = C74 as (Point of R1) by L428;
set D26 = R2;
L429: ( (the scalar of R1) . [ R2 , C74 ] ) = ( D26 .|. D25 ) by BHSP_1:def 1;
reconsider D27 = ( (the scalar of R1) . [ R2 , C74 ] ) as Real by L429;
reconsider D28 = C74 as (VECTOR of R1) by L428;
L430: ( (the Mult of R1) . (( (the scalar of R1) . [ R2 , C74 ] ) , C74) ) = ( D27 * D28 );
thus L431: thesis by L430;
end;
L432: (ex B48 being (Function of (the carrier of R1) , (the carrier of R1)) st (for B49 being set holds (B49 in (the carrier of R1) implies ( B48 . B49 ) = H2(B49)))) from FUNCT_2:sch 2(L427);
consider C75 being (Function of (the carrier of R1) , (the carrier of R1)) such that L433: (for B50 being set holds (B50 in (the carrier of R1) implies ( C75 . B50 ) = ( (the Mult of R1) . [ ( (the scalar of R1) . [ R2 , B50 ] ) , B50 ] ))) by L432;
L434: ( dom C75 ) = (the carrier of R1) by FUNCT_2:def 1;
L435:
now
let R3 being (Point of R1);
assume that
L436: R3 in C72;
thus L437: ( C75 . R3 ) = ( (the Mult of R1) . [ ( (the scalar of R1) . [ R2 , R3 ] ) , R3 ] ) by L433
.= ( ( R2 .|. R3 ) * R3 ) by BHSP_1:def 1;
end;
consider C76 being (Function of (the carrier of R1) , (the carrier of R1)) such that L438: C72 c= ( dom C76 ) and L439: (for R3 being (Point of R1) holds (R3 in C72 implies ( C76 . R3 ) = ( ( R2 .|. R3 ) * R3 ))) by L435 , L434;
set D29 = ( setopfunc (C72 , (the carrier of R1) , (the carrier of R1) , C76 , (the addF of R1)) );
L440: ( D29 .|. R2 ) = ( setopfunc (C72 , (the carrier of R1) , ( REAL ) , C73 , ( addreal )) ) by L421 , L422 , L423 , L424 , L425 , L438 , L439 , L376;
L441: ( R2 .|. D29 ) = ( D29 .|. D29 ) by L440 , L421 , L422 , L423 , L424 , L425 , L438 , L439 , L394;
L442: ( ( R2 - D29 ) .|. ( R2 - D29 ) ) = ( ( ( ( R2 .|. R2 ) - ( D29 .|. D29 ) ) - ( D29 .|. D29 ) ) + ( D29 .|. D29 ) ) by L441 , BHSP_1:13
.= ( ( R2 .|. R2 ) - ( setopfunc (C72 , (the carrier of R1) , ( REAL ) , C73 , ( addreal )) ) ) by L421 , L422 , L423 , L424 , L425 , L438 , L439 , L394;
thus L443: ( 0 ) <= ( ( R2 .|. R2 ) - ( setopfunc (C72 , (the carrier of R1) , ( REAL ) , C73 , ( addreal )) ) ) by L442 , BHSP_1:def 2;
end;
L444: ( ( 0 ) + ( setopfunc (C72 , (the carrier of R1) , ( REAL ) , C73 , ( addreal )) ) ) <= ( R2 .|. R2 ) by L426 , XREAL_1:19;
L445: ( 0 ) <= ( R2 .|. R2 ) by BHSP_1:def 2;
L446: ( setopfunc (C72 , (the carrier of R1) , ( REAL ) , C73 , ( addreal )) ) <= ( ( sqrt ( R2 .|. R2 ) ) ^2 ) by L445 , L444 , SQUARE_1:def 2;
thus L447: thesis by L446 , BHSP_1:def 4;
end;
theorem
L448: (for B51 , B52 being non  empty set holds (for B53 being (BinOp of B51) holds ((B53 is  commutative  associative & B53 is  having_a_unity) implies (for B54 , B55 being  finite (Subset of B52) holds (B54 misses B55 implies (for B56 being (Function of B52 , B51) holds ((B54 c= ( dom B56 ) & B55 c= ( dom B56 )) implies (for B57 being  finite (Subset of B52) holds (B57 = ( B54 \/ B55 ) implies ( setopfunc (B57 , B52 , B51 , B56 , B53) ) = ( B53 . (( setopfunc (B54 , B52 , B51 , B56 , B53) ) , ( setopfunc (B55 , B52 , B51 , B56 , B53) )) ))))))))))
proof
let C77 , C78 being non  empty set;
let C79 being (BinOp of C77);
assume that
L449: C79 is  commutative  associative
and
L450: C79 is  having_a_unity;
let C80 , C81 being  finite (Subset of C78);
assume that
L451: C80 misses C81;
let C82 being (Function of C78 , C77);
assume that
L452: C80 c= ( dom C82 )
and
L453: C81 c= ( dom C82 );
let C83 being  finite (Subset of C78);
assume L454: C83 = ( C80 \/ C81 );
L455: C83 c= ( dom C82 ) by L454 , L452 , L453 , XBOOLE_1:8;
consider C84 being (FinSequence of C78) such that L456: C84 is  one-to-one and L457: ( rng C84 ) = C80 and L458: ( setopfunc (C80 , C78 , C77 , C82 , C79) ) = ( C79 "**" ( Func_Seq (C82 , C84) ) ) by L449 , L450 , L452 , L63;
consider C85 being (FinSequence of C78) such that L459: C85 is  one-to-one and L460: ( rng C85 ) = C81 and L461: ( setopfunc (C81 , C78 , C77 , C82 , C79) ) = ( C79 "**" ( Func_Seq (C82 , C85) ) ) by L449 , L450 , L453 , L63;
set D30 = ( C84 ^ C85 );
L462: D30 is  one-to-one by L451 , L456 , L457 , L459 , L460 , FINSEQ_3:91;
L463: ( rng D30 ) = C83 by L454 , L457 , L460 , FINSEQ_1:31;
L464: ( setopfunc (C83 , C78 , C77 , C82 , C79) ) = ( C79 "**" ( Func_Seq (C82 , D30) ) ) by L463 , L449 , L450 , L455 , L462 , L63;
L465: (ex B58 , B59 being FinSequence st (B58 = ( C82 * C84 ) & B59 = ( C82 * C85 ) & ( C82 * ( C84 ^ C85 ) ) = ( B58 ^ B59 ))) by L452 , L453 , L454 , L457 , L460 , HILBASIS:1 , XBOOLE_1:8;
thus L466: thesis by L465 , L449 , L450 , L458 , L461 , L464 , FINSOP_1:5;
end;
