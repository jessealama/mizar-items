:: The Product of Matrices of Elements of a Field and Determinants
::  by Katarzyna Zawadzka
::
:: Received May 17, 1993
:: Copyright (c) 1993-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, NAT_1, XBOOLE_0, VECTSP_1, SUPINF_2, MATRIX_1, FINSEQ_2,
      ARYTM_1, FINSEQ_1, TREES_1, RELAT_1, ZFMISC_1, XXREAL_0, CARD_1, ARYTM_3,
      SUBSET_1, FUNCT_1, INCSP_1, FVSUM_1, RVSUM_1, ALGSTR_0, MESFUNC1,
      RLVECT_1, CARD_3, ORDINAL4, TARSKI, STRUCT_0, MATRIX_2, QC_LANG1,
      FINSUB_1, BINOP_1, SETWISEO, FUNCOP_1, PARTFUN1, FINSEQOP, FUNCT_5,
      FINSOP_1, ABIAN, MATRIX_3;
 notations TARSKI, XBOOLE_0, ZFMISC_1,
      XTUPLE_0, SUBSET_1, NUMBERS, XXREAL_0, RELAT_1,
      FUNCT_1, PARTFUN1, FUNCT_2, FINSEQ_1, BINOP_1, FINSEQ_4, STRUCT_0,
      ALGSTR_0, FUNCT_3, FUNCOP_1,
      RLVECT_1, GROUP_1, VECTSP_1, SETWISEO,
      FINSOP_1, SETWOP_2, FINSEQ_2, FINSEQOP, MATRIX_1, FINSUB_1, MATRIX_2,
      ORDINAL1, NAT_1, FVSUM_1, TREES_1, FUNCT_5;
 constructors RELAT_2, PARTFUN1, SETWISEO, SQUARE_1, NAT_1, FINSEQOP, FINSOP_1,
      SETWOP_2, FUNCT_5, ALGSTR_1, MATRIX_2, FVSUM_1, RELSET_1, FINSEQ_4,
      FUNCT_3, BINOP_1, XTUPLE_0;
 registrations XBOOLE_0, SUBSET_1, FUNCT_1, ORDINAL1, RELSET_1, PARTFUN1,
      FUNCT_2, FINSET_1, FINSUB_1, XXREAL_0, XREAL_0, NAT_1, STRUCT_0,
      VECTSP_1, MATRIX_2, FVSUM_1, RELAT_1, CARD_1, FINSEQ_1, FINSEQ_2,
      XTUPLE_0;
 requirements NUMERALS, REAL, BOOLE, SUBSET;
 definitions BINOP_1, FINSEQ_2, ALGSTR_0, MATRIX_1, XTUPLE_0;
 theorems FINSEQ_1, FINSEQ_2, TARSKI, FUNCT_2, NAT_1, BINOP_1, TREES_1,
      FUNCT_1, SETWISEO, VECTSP_1, ZFMISC_1, FVSUM_1, SETWOP_2, MATRIX_1,
      MATRIX_2, FUNCT_3, FINSEQOP, FUNCOP_1, FINSUB_1, FUNCT_5, FINSEQ_3,
      RLVECT_1, RELAT_1, FINSOP_1, XBOOLE_0, XBOOLE_1, XCMPLX_1, GROUP_1,
      ORDINAL1, XXREAL_0, CARD_1, XTUPLE_0;
 schemes FUNCT_2, FINSEQ_2, MATRIX_1, FINSEQ_1, FUNCT_3, SETWISEO, FUNCT_1,
      BINOP_1;

begin
definition
let R17 being Field;
let C1 , C2 being Nat;
func 0. (R17 , C1 , C2) -> (Matrix of C1 , C2 , R17) equals 
( C1 |-> ( C2 |-> ( 0. R17 ) ) );
coherence by MATRIX_1:10;
end;
definition
let R17 being Field;
let C3 being (Matrix of R17);
func - C3 -> (Matrix of R17) means 
:L2: (( len it ) = ( len C3 ) & ( width it ) = ( width C3 ) & (for R10 being Nat holds (for R11 being Nat holds ([ R10 , R11 ] in ( Indices C3 ) implies ( it * (R10 , R11) ) = ( - ( C3 * (R10 , R11) ) )))));
existence
proof
set D1 = ( len C3 );
deffunc H1(Nat , Nat) = ( - ( C3 * ($1 , $2) ) );
consider C4 being (Matrix of ( len C3 ) , ( width C3 ) , R17) such that L3: (for R10 being Nat holds (for R11 being Nat holds ([ R10 , R11 ] in ( Indices C4 ) implies ( C4 * (R10 , R11) ) = H1(R10 , R11)))) from MATRIX_1:sch 1;
reconsider D2 = C3 as (Matrix of D1 , ( width C3 ) , R17) by MATRIX_2:7;
L4: ( Indices D2 ) = [: ( Seg D1 ) , ( Seg ( width C3 ) ) :] by MATRIX_1:25;
L5:
now
per cases ;
case L6: D1 > ( 0 );
thus L7: (( len C4 ) = ( len C3 ) & ( width C4 ) = ( width C3 ) & ( Indices C3 ) = ( Indices C4 )) by L6 , L4 , MATRIX_1:23;
end;
case L8: D1 = ( 0 );
L9: ( len C4 ) = ( 0 ) by L8 , MATRIX_1:def 2;
L10: ( width C4 ) = ( 0 ) by L9 , MATRIX_1:def 3;
L11: ( width C3 ) = ( 0 ) by L8 , MATRIX_1:def 3;
thus L12: (( len C4 ) = ( len C3 ) & ( width C4 ) = ( width C3 ) & ( Indices C3 ) = ( Indices C4 )) by L11 , L4 , L10 , MATRIX_1:25;
end;
end;
reconsider D3 = C4 as (Matrix of R17);
take D3;
thus L14: thesis by L3 , L5;
end;
uniqueness
proof
let C5 , C6 being (Matrix of R17);
set D4 = ( len C3 );
assume that
L15: (( len C5 ) = ( len C3 ) & ( width C5 ) = ( width C3 ))
and
L16: (for R10 being Nat holds (for R11 being Nat holds ([ R10 , R11 ] in ( Indices C3 ) implies ( C5 * (R10 , R11) ) = ( - ( C3 * (R10 , R11) ) ))))
and
L17: (( len C6 ) = ( len C3 ) & ( width C6 ) = ( width C3 ))
and
L18: (for R10 being Nat holds (for R11 being Nat holds ([ R10 , R11 ] in ( Indices C3 ) implies ( C6 * (R10 , R11) ) = ( - ( C3 * (R10 , R11) ) ))));
reconsider D5 = C6 as (Matrix of D4 , ( width C3 ) , R17) by L17 , MATRIX_2:7;
reconsider D6 = C5 as (Matrix of D4 , ( width C3 ) , R17) by L15 , MATRIX_2:7;
reconsider D7 = C3 as (Matrix of D4 , ( width C3 ) , R17) by MATRIX_2:7;
L19: ( Indices D7 ) = [: ( Seg D4 ) , ( Seg ( width C3 ) ) :] by MATRIX_1:25;
L20: (( Indices D6 ) = [: ( Seg D4 ) , ( Seg ( width D6 ) ) :] & ( Indices D5 ) = [: ( Seg D4 ) , ( Seg ( width D5 ) ) :]) by MATRIX_1:25;
L21:
now
per cases ;
case L22: D4 > ( 0 );
L23: ( Indices D6 ) = [: ( Seg D4 ) , ( Seg ( width C3 ) ) :] by L22 , MATRIX_1:23;
thus L24: (( Indices C3 ) = ( Indices D6 ) & ( Indices D6 ) = ( Indices D5 )) by L23 , L19 , L22 , MATRIX_1:23;
end;
case L25: D4 = ( 0 );
L26: ( len D6 ) = ( 0 ) by L25 , MATRIX_1:def 2;
L27: ( width D6 ) = ( 0 ) by L26 , MATRIX_1:def 3;
L28: ( len D5 ) = ( 0 ) by L25 , MATRIX_1:def 2;
thus L29: (( Indices C3 ) = ( Indices D6 ) & ( Indices D6 ) = ( Indices D5 )) by L28 , L19 , L20 , L25 , L27 , MATRIX_1:def 3;
end;
end;
L31:
now
let R10 being Nat;
let R11 being Nat;
assume L32: [ R10 , R11 ] in ( Indices C3 );
L33: ( D6 * (R10 , R11) ) = ( - ( C3 * (R10 , R11) ) ) by L32 , L16;
thus L34: ( D6 * (R10 , R11) ) = ( D5 * (R10 , R11) ) by L33 , L18 , L32;
end;
thus L35: thesis by L31 , L21 , MATRIX_1:27;
end;
end;
definition
let R17 being Field;
let C7 , C8 being (Matrix of R17);
func C7 + C8 -> (Matrix of R17) means 
:L37: (( len it ) = ( len C7 ) & ( width it ) = ( width C7 ) & (for R10 being Nat holds (for R11 being Nat holds ([ R10 , R11 ] in ( Indices C7 ) implies ( it * (R10 , R11) ) = ( ( C7 * (R10 , R11) ) + ( C8 * (R10 , R11) ) )))));
existence
proof
set D8 = ( len C7 );
reconsider D9 = C7 as (Matrix of ( len C7 ) , ( width C7 ) , R17) by MATRIX_2:7;
deffunc H2(Nat , Nat) = ( ( C7 * ($1 , $2) ) + ( C8 * ($1 , $2) ) );
consider C9 being (Matrix of ( len C7 ) , ( width C7 ) , R17) such that L38: (for R10 being Nat holds (for R11 being Nat holds ([ R10 , R11 ] in ( Indices C9 ) implies ( C9 * (R10 , R11) ) = H2(R10 , R11)))) from MATRIX_1:sch 1;
L39: ( Indices D9 ) = [: ( Seg ( len C7 ) ) , ( Seg ( width C7 ) ) :] by MATRIX_1:25;
L40:
now
per cases ;
case L41: D8 > ( 0 );
thus L42: (( len C9 ) = ( len C7 ) & ( width C9 ) = ( width C7 ) & ( Indices C7 ) = ( Indices C9 )) by L41 , L39 , MATRIX_1:23;
end;
case L43: D8 = ( 0 );
L44: ( len C9 ) = ( 0 ) by L43 , MATRIX_1:def 2;
L45: ( width C9 ) = ( 0 ) by L44 , MATRIX_1:def 3;
L46: ( width C7 ) = ( 0 ) by L43 , MATRIX_1:def 3;
thus L47: (( len C9 ) = ( len C7 ) & ( width C9 ) = ( width C7 ) & ( Indices C7 ) = ( Indices C9 )) by L46 , L39 , L45 , MATRIX_1:25;
end;
end;
reconsider D10 = C9 as (Matrix of R17);
take D10;
thus L49: thesis by L38 , L40;
end;
uniqueness
proof
set D11 = ( len C7 );
let C10 , C11 being (Matrix of R17);
assume that
L50: (( len C10 ) = ( len C7 ) & ( width C10 ) = ( width C7 ))
and
L51: (for R10 being Nat holds (for R11 being Nat holds ([ R10 , R11 ] in ( Indices C7 ) implies ( C10 * (R10 , R11) ) = ( ( C7 * (R10 , R11) ) + ( C8 * (R10 , R11) ) ))))
and
L52: (( len C11 ) = ( len C7 ) & ( width C11 ) = ( width C7 ))
and
L53: (for R10 being Nat holds (for R11 being Nat holds ([ R10 , R11 ] in ( Indices C7 ) implies ( C11 * (R10 , R11) ) = ( ( C7 * (R10 , R11) ) + ( C8 * (R10 , R11) ) ))));
reconsider D12 = C11 as (Matrix of D11 , ( width C7 ) , R17) by L52 , MATRIX_2:7;
reconsider D13 = C10 as (Matrix of D11 , ( width C7 ) , R17) by L50 , MATRIX_2:7;
reconsider D14 = C7 as (Matrix of D11 , ( width C7 ) , R17) by MATRIX_2:7;
L54: ( Indices D14 ) = [: ( Seg D11 ) , ( Seg ( width C7 ) ) :] by MATRIX_1:25;
L55: (( Indices D13 ) = [: ( Seg D11 ) , ( Seg ( width D13 ) ) :] & ( Indices D12 ) = [: ( Seg D11 ) , ( Seg ( width D12 ) ) :]) by MATRIX_1:25;
L56:
now
per cases ;
case L57: D11 > ( 0 );
L58: ( Indices D13 ) = [: ( Seg D11 ) , ( Seg ( width C7 ) ) :] by L57 , MATRIX_1:23;
thus L59: (( Indices C7 ) = ( Indices D13 ) & ( Indices D13 ) = ( Indices D12 )) by L58 , L54 , L57 , MATRIX_1:23;
end;
case L60: D11 = ( 0 );
L61: ( len D13 ) = ( 0 ) by L60 , MATRIX_1:def 2;
L62: ( width D13 ) = ( 0 ) by L61 , MATRIX_1:def 3;
L63: ( len D12 ) = ( 0 ) by L60 , MATRIX_1:def 2;
thus L64: (( Indices C7 ) = ( Indices D13 ) & ( Indices D13 ) = ( Indices D12 )) by L63 , L54 , L55 , L60 , L62 , MATRIX_1:def 3;
end;
end;
L66:
now
let R10 being Nat;
let R11 being Nat;
assume L67: [ R10 , R11 ] in ( Indices C7 );
L68: ( D13 * (R10 , R11) ) = ( ( C7 * (R10 , R11) ) + ( C8 * (R10 , R11) ) ) by L67 , L51;
thus L69: ( D13 * (R10 , R11) ) = ( D12 * (R10 , R11) ) by L68 , L53 , L67;
end;
thus L70: thesis by L66 , L56 , MATRIX_1:27;
end;
end;
theorem
L72: (for R14 being Nat holds (for R15 being Nat holds (for R17 being Field holds (for R10 being Nat holds (for R11 being Nat holds ([ R10 , R11 ] in ( Indices ( 0. (R17 , R14 , R15) ) ) implies ( ( 0. (R17 , R14 , R15) ) * (R10 , R11) ) = ( 0. R17 )))))))
proof
let R14 being Nat;
let R15 being Nat;
let R17 being Field;
let R10 being Nat;
let R11 being Nat;
assume L73: [ R10 , R11 ] in ( Indices ( 0. (R17 , R14 , R15) ) );
L74: ( Indices ( 0. (R17 , R14 , R15) ) ) = [: ( Seg R14 ) , ( Seg ( width ( 0. (R17 , R14 , R15) ) ) ) :] by MATRIX_1:25;
per cases ;
suppose L75: R14 > ( 0 );

reconsider D15 = R15 as (Element of ( NAT )) by ORDINAL1:def 12;
L76: [ R10 , R11 ] in [: ( Seg R14 ) , ( Seg R15 ) :] by L73 , L75 , MATRIX_1:23;
L77: R11 in ( Seg R15 ) by L76 , ZFMISC_1:87;
L78: ( ( D15 |-> ( 0. R17 ) ) . R11 ) = ( 0. R17 ) by L77 , FUNCOP_1:7;
L79: R10 in ( Seg R14 ) by L76 , ZFMISC_1:87;
L80: ( ( 0. (R17 , R14 , R15) ) . R10 ) = ( R15 |-> ( 0. R17 ) ) by L79 , FUNCOP_1:7;
thus L81: thesis by L80 , L73 , L78 , MATRIX_1:def 5;
end;
suppose L82: R14 = ( 0 );

L83: ( Seg R14 ) = ( {} ) by L82;
thus L84: thesis by L83 , L73 , L74 , ZFMISC_1:90;
end;
end;
theorem
L86: (for R17 being Field holds (for B1 , B2 being (Matrix of R17) holds ((( len B1 ) = ( len B2 ) & ( width B1 ) = ( width B2 )) implies ( B1 + B2 ) = ( B2 + B1 ))))
proof
let R17 being Field;
let C12 , C13 being (Matrix of R17);
assume that
L87: ( len C12 ) = ( len C13 )
and
L88: ( width C12 ) = ( width C13 );
L89: ( width C12 ) = ( width ( C12 + C13 ) ) by L37;
L90: ( width ( C12 + C13 ) ) = ( width ( C13 + C12 ) ) by L89 , L88 , L37;
L91: ( len C12 ) = ( len ( C12 + C13 ) ) by L37;
L92: ( dom C12 ) = ( dom ( C12 + C13 ) ) by L91 , FINSEQ_3:29;
L93: ( Indices C12 ) = ( Indices ( C12 + C13 ) ) by L92 , L89;
L94: ( dom C12 ) = ( dom C13 ) by L87 , FINSEQ_3:29;
L95: ( Indices C13 ) = [: ( dom C12 ) , ( Seg ( width C12 ) ) :] by L94 , L88;
L96:
now
let R10 being Nat;
let R11 being Nat;
assume L97: [ R10 , R11 ] in ( Indices ( C12 + C13 ) );
thus L98: ( ( C12 + C13 ) * (R10 , R11) ) = ( ( C13 * (R10 , R11) ) + ( C12 * (R10 , R11) ) ) by L97 , L93 , L37
.= ( ( C13 + C12 ) * (R10 , R11) ) by L95 , L93 , L97 , L37;
end;
L99: ( len ( C12 + C13 ) ) = ( len ( C13 + C12 ) ) by L87 , L91 , L37;
thus L100: thesis by L99 , L90 , L96 , MATRIX_1:21;
end;
theorem
L101: (for R17 being Field holds (for B3 , B4 , B5 being (Matrix of R17) holds ((( len B3 ) = ( len B4 ) & ( width B3 ) = ( width B4 )) implies ( ( B3 + B4 ) + B5 ) = ( B3 + ( B4 + B5 ) ))))
proof
let R17 being Field;
let C14 , C15 , C16 being (Matrix of R17);
assume that
L102: ( len C14 ) = ( len C15 )
and
L103: ( width C14 ) = ( width C15 );
L104: ( dom C14 ) = ( dom C15 ) by L102 , FINSEQ_3:29;
L105: ( Indices C15 ) = [: ( dom C14 ) , ( Seg ( width C14 ) ) :] by L104 , L103;
L106: ( Indices C14 ) = [: ( dom C14 ) , ( Seg ( width C14 ) ) :];
L107: ( width ( ( C14 + C15 ) + C16 ) ) = ( width ( C14 + C15 ) ) by L37;
L108: ( width ( C14 + C15 ) ) = ( width C14 ) by L37;
L109: (( len ( C14 + ( C15 + C16 ) ) ) = ( len C14 ) & ( width ( C14 + ( C15 + C16 ) ) ) = ( width C14 )) by L37;
L110: ( len ( C14 + C15 ) ) = ( len C14 ) by L37;
L111: ( len ( ( C14 + C15 ) + C16 ) ) = ( len ( C14 + C15 ) ) by L37;
L112: ( dom C14 ) = ( dom ( ( C14 + C15 ) + C16 ) ) by L111 , L110 , FINSEQ_3:29;
L113: ( Indices ( ( C14 + C15 ) + C16 ) ) = [: ( dom C14 ) , ( Seg ( width C14 ) ) :] by L112 , L108 , L107;
L114: ( dom C14 ) = ( dom ( C14 + C15 ) ) by L110 , FINSEQ_3:29;
L115: ( Indices ( C14 + C15 ) ) = [: ( dom C14 ) , ( Seg ( width C14 ) ) :] by L114 , L108;
L116:
now
let R10 being Nat;
let R11 being Nat;
assume L117: [ R10 , R11 ] in ( Indices ( ( C14 + C15 ) + C16 ) );
thus L118: ( ( ( C14 + C15 ) + C16 ) * (R10 , R11) ) = ( ( ( C14 + C15 ) * (R10 , R11) ) + ( C16 * (R10 , R11) ) ) by L117 , L115 , L113 , L37
.= ( ( ( C14 * (R10 , R11) ) + ( C15 * (R10 , R11) ) ) + ( C16 * (R10 , R11) ) ) by L106 , L113 , L117 , L37
.= ( ( C14 * (R10 , R11) ) + ( ( C15 * (R10 , R11) ) + ( C16 * (R10 , R11) ) ) ) by RLVECT_1:def 3
.= ( ( C14 * (R10 , R11) ) + ( ( C15 + C16 ) * (R10 , R11) ) ) by L105 , L113 , L117 , L37
.= ( ( C14 + ( C15 + C16 ) ) * (R10 , R11) ) by L106 , L113 , L117 , L37;
end;
thus L119: thesis by L116 , L110 , L108 , L111 , L107 , L109 , MATRIX_1:21;
end;
theorem
L120: (for R14 being Nat holds (for R15 being Nat holds (for R17 being Field holds (for B6 being (Matrix of R14 , R15 , R17) holds ( B6 + ( 0. (R17 , R14 , R15) ) ) = B6))))
proof
let R14 being Nat;
let R15 being Nat;
let R17 being Field;
let C17 being (Matrix of R14 , R15 , R17);
per cases ;
suppose L121: R14 > ( 0 );

L122: ( width C17 ) = ( width ( C17 + ( 0. (R17 , R14 , R15) ) ) ) by L37;
L123: ( Indices C17 ) = [: ( Seg R14 ) , ( Seg R15 ) :] by L121 , MATRIX_1:23;
L124: ( len C17 ) = ( len ( C17 + ( 0. (R17 , R14 , R15) ) ) ) by L37;
L125: ( dom C17 ) = ( dom ( C17 + ( 0. (R17 , R14 , R15) ) ) ) by L124 , FINSEQ_3:29;
L126: ( Indices C17 ) = ( Indices ( C17 + ( 0. (R17 , R14 , R15) ) ) ) by L125 , L122;
L127: ( Indices ( 0. (R17 , R14 , R15) ) ) = [: ( Seg R14 ) , ( Seg R15 ) :] by L121 , MATRIX_1:23;
L128:
now
let R10 being Nat;
let R11 being Nat;
assume L129: [ R10 , R11 ] in ( Indices ( C17 + ( 0. (R17 , R14 , R15) ) ) );
thus L130: ( ( C17 + ( 0. (R17 , R14 , R15) ) ) * (R10 , R11) ) = ( ( C17 * (R10 , R11) ) + ( ( 0. (R17 , R14 , R15) ) * (R10 , R11) ) ) by L129 , L126 , L37
.= ( ( C17 * (R10 , R11) ) + ( 0. R17 ) ) by L123 , L127 , L126 , L129 , L72
.= ( C17 * (R10 , R11) ) by RLVECT_1:4;
end;
thus L131: thesis by L128 , L124 , L122 , MATRIX_1:21;
end;
suppose L132: R14 = ( 0 );

L133: ( width C17 ) = ( width ( C17 + ( 0. (R17 , R14 , R15) ) ) ) by L37;
L134: ( len C17 ) = ( len ( C17 + ( 0. (R17 , R14 , R15) ) ) ) by L37;
L135: ( dom C17 ) = ( dom ( C17 + ( 0. (R17 , R14 , R15) ) ) ) by L134 , FINSEQ_3:29;
L136: (( Indices C17 ) = [: ( dom C17 ) , ( Seg ( width C17 ) ) :] & ( Indices ( C17 + ( 0. (R17 , R14 , R15) ) ) ) = [: ( dom C17 ) , ( Seg ( width C17 ) ) :]) by L135 , L133;
L137: (for R10 being Nat holds (for R11 being Nat holds ([ R10 , R11 ] in ( Indices ( C17 + ( 0. (R17 , R14 , R15) ) ) ) implies ( ( C17 + ( 0. (R17 , R14 , R15) ) ) * (R10 , R11) ) = ( C17 * (R10 , R11) )))) by L136 , L132 , MATRIX_1:22;
thus L138: thesis by L137 , L134 , L133 , MATRIX_1:21;
end;
end;
theorem
L140: (for R14 being Nat holds (for R15 being Nat holds (for R17 being Field holds (for B7 being (Matrix of R14 , R15 , R17) holds ( B7 + ( - B7 ) ) = ( 0. (R17 , R14 , R15) )))))
proof
let R14 being Nat;
let R15 being Nat;
let R17 being Field;
let C18 being (Matrix of R14 , R15 , R17);
L141: ( width ( - C18 ) ) = ( width C18 ) by L2;
L142: ( len ( C18 + ( - C18 ) ) ) = ( len C18 ) by L37;
L143: ( width ( C18 + ( - C18 ) ) ) = ( width C18 ) by L37;
L144: ( len ( - C18 ) ) = ( len C18 ) by L2;
L145:
now
per cases ;
case L146: R14 > ( 0 );
L147: (( len ( C18 + ( - C18 ) ) ) = R14 & ( width ( C18 + ( - C18 ) ) ) = R15) by L146 , L142 , L143 , MATRIX_1:23;
thus L148: (( len ( 0. (R17 , R14 , R15) ) ) = ( len ( C18 + ( - C18 ) ) ) & ( width ( 0. (R17 , R14 , R15) ) ) = ( width ( C18 + ( - C18 ) ) )) by L147 , L146 , MATRIX_1:23;
L149: (( dom C18 ) = ( dom ( - C18 ) ) & ( dom C18 ) = ( dom ( C18 + ( - C18 ) ) )) by L144 , L142 , FINSEQ_3:29;
thus L150: (( Indices C18 ) = ( Indices ( - C18 ) ) & ( Indices C18 ) = ( Indices ( C18 + ( - C18 ) ) )) by L149 , L141 , L143;
end;
case L151: R14 = ( 0 );
L152: ( width C18 ) = ( 0 ) by L151 , MATRIX_1:22;
L153: ( Seg ( width ( - C18 ) ) ) = ( Seg ( 0 ) ) by L152 , L141;
L154: ( len C18 ) = ( 0 ) by L151 , MATRIX_1:22;
L155: ( dom ( - C18 ) ) = ( Seg ( 0 ) ) by L154 , L144 , FINSEQ_1:def 3;
L156: ( Indices ( - C18 ) ) = [: ( dom ( - C18 ) ) , ( Seg ( width ( - C18 ) ) ) :]
.= [: ( Seg ( 0 ) ) , ( Seg ( width ( - C18 ) ) ) :] by L155
.= [: ( Seg ( 0 ) ) , (( Seg ( 0 ) ) qua set) :] by L153;
L157: ( dom ( C18 + ( - C18 ) ) ) = ( Seg ( 0 ) ) by L142 , L154 , FINSEQ_1:def 3;
L158: ( Indices ( C18 + ( - C18 ) ) ) = [: ( Seg ( 0 ) ) , (( Seg ( 0 ) ) qua set) :] by L157 , L143 , L152;
L159: (( len ( 0. (R17 , R14 , R15) ) ) = ( 0 ) & ( width ( 0. (R17 , R14 , R15) ) ) = ( 0 )) by L151 , MATRIX_1:22;
thus L160: (( len ( 0. (R17 , R14 , R15) ) ) = ( len ( C18 + ( - C18 ) ) ) & ( width ( 0. (R17 , R14 , R15) ) ) = ( width ( C18 + ( - C18 ) ) )) by L159 , L154 , L152 , L37;
L161: ( Indices C18 ) = ( {} ) by L151 , MATRIX_1:22;
thus L162: (( Indices C18 ) = ( Indices ( - C18 ) ) & ( Indices C18 ) = ( Indices ( C18 + ( - C18 ) ) )) by L161 , L156 , L158 , ZFMISC_1:90;
end;
end;
L164: ( Indices C18 ) = ( Indices ( 0. (R17 , R14 , R15) ) ) by MATRIX_1:26;
L165:
now
let R10 being Nat;
let R11 being Nat;
assume L166: [ R10 , R11 ] in ( Indices C18 );
thus L167: ( ( C18 + ( - C18 ) ) * (R10 , R11) ) = ( ( C18 * (R10 , R11) ) + ( ( - C18 ) * (R10 , R11) ) ) by L166 , L37
.= ( ( C18 * (R10 , R11) ) + ( - ( C18 * (R10 , R11) ) ) ) by L166 , L2
.= ( 0. R17 ) by RLVECT_1:5
.= ( ( 0. (R17 , R14 , R15) ) * (R10 , R11) ) by L164 , L166 , L72;
end;
thus L168: thesis by L165 , L145 , MATRIX_1:21;
end;
definition
let R17 being Field;
let C19 , C20 being (Matrix of R17);
assume L169: ( width C19 ) = ( len C20 );
func C19 * C20 -> (Matrix of R17) means 
:L170: (( len it ) = ( len C19 ) & ( width it ) = ( width C20 ) & (for R10 being Nat holds (for R11 being Nat holds ([ R10 , R11 ] in ( Indices it ) implies ( it * (R10 , R11) ) = ( ( Line (C19 , R10) ) "*" ( Col (C20 , R11) ) )))));
existence
proof
deffunc H3(Nat , Nat) = ( ( Line (C19 , $1) ) "*" ( Col (C20 , $2) ) );
consider C21 being (Matrix of ( len C19 ) , ( width C20 ) , R17) such that L171: (for R10 being Nat holds (for R11 being Nat holds ([ R10 , R11 ] in ( Indices C21 ) implies ( C21 * (R10 , R11) ) = H3(R10 , R11)))) from MATRIX_1:sch 1;
take C21;
L172:
now
per cases ;
case L173: ( len C19 ) > ( 0 );
thus L174: (( len C21 ) = ( len C19 ) & ( width C21 ) = ( width C20 )) by L173 , MATRIX_1:23;
end;
case L175: ( len C19 ) = ( 0 );
L176: ( len C20 ) = ( 0 ) by L175 , L169 , MATRIX_1:def 3;
L177: ( width C20 ) = ( 0 ) by L176 , MATRIX_1:def 3;
L178: ( len C21 ) = ( 0 ) by L175 , MATRIX_1:25;
thus L179: (( len C21 ) = ( len C19 ) & ( width C21 ) = ( width C20 )) by L178 , L175 , L177 , MATRIX_1:def 3;
end;
end;
thus L181: thesis by L172 , L171;
end;
uniqueness
proof
let C22 , C23 being (Matrix of R17);
assume that
L182: ( len C22 ) = ( len C19 )
and
L183: ( width C22 ) = ( width C20 )
and
L184: (for R10 being Nat holds (for R11 being Nat holds ([ R10 , R11 ] in ( Indices C22 ) implies ( C22 * (R10 , R11) ) = ( ( Line (C19 , R10) ) "*" ( Col (C20 , R11) ) ))))
and
L185: ( len C23 ) = ( len C19 )
and
L186: ( width C23 ) = ( width C20 )
and
L187: (for R10 being Nat holds (for R11 being Nat holds ([ R10 , R11 ] in ( Indices C23 ) implies ( C23 * (R10 , R11) ) = ( ( Line (C19 , R10) ) "*" ( Col (C20 , R11) ) ))));
L188: ( dom C23 ) = ( dom C22 ) by L182 , L185 , FINSEQ_3:29;
L189: (( Indices C22 ) = [: ( dom C22 ) , ( Seg ( width C22 ) ) :] & ( Indices C23 ) = [: ( dom C22 ) , ( Seg ( width C22 ) ) :]) by L188 , L183 , L186;
L190:
now
let R10 being Nat;
let R11 being Nat;
assume L191: [ R10 , R11 ] in ( Indices C22 );
L192: ( C22 * (R10 , R11) ) = ( ( Line (C19 , R10) ) "*" ( Col (C20 , R11) ) ) by L191 , L184;
thus L193: ( C22 * (R10 , R11) ) = ( C23 * (R10 , R11) ) by L192 , L187 , L189 , L191;
end;
thus L194: thesis by L190 , L182 , L183 , L185 , L186 , MATRIX_1:21;
end;
end;
definition
let R14 being Nat;
let R12 being Nat;
let R15 being Nat;
let R17 being Field;
let C24 being (Matrix of R14 , R12 , R17);
let C25 being (Matrix of ( width C24 ) , R15 , R17);
redefine func C24 * C25 -> (Matrix of ( len C24 ) , ( width C25 ) , R17);

coherence
proof
L196: ( width C24 ) = ( len C25 ) by MATRIX_1:25;
L197: (( len ( C24 * C25 ) ) = ( len C24 ) & ( width ( C24 * C25 ) ) = ( width C25 )) by L196 , L170;
thus L198: thesis by L197 , MATRIX_2:7;
end;
end;
definition
let R17 being Field;
let C26 being (Matrix of R17);
let C27 being (Element of R17);
func C27 * C26 -> (Matrix of R17) means 
(( len it ) = ( len C26 ) & ( width it ) = ( width C26 ) & (for R10 being Nat holds (for R11 being Nat holds ([ R10 , R11 ] in ( Indices C26 ) implies ( it * (R10 , R11) ) = ( C27 * ( C26 * (R10 , R11) ) )))));
existence
proof
deffunc H4(Nat , Nat) = ( C27 * ( C26 * ($1 , $2) ) );
consider C28 being (Matrix of ( len C26 ) , ( width C26 ) , R17) such that L200: (for R10 being Nat holds (for R11 being Nat holds ([ R10 , R11 ] in ( Indices C28 ) implies ( C28 * (R10 , R11) ) = H4(R10 , R11)))) from MATRIX_1:sch 1;
take C28;
L201: ( len C28 ) = ( len C26 ) by MATRIX_1:def 2;
L202:
now
per cases ;
case L203: ( len C26 ) = ( 0 );
L204: ( width C28 ) = ( 0 ) by L203 , L201 , MATRIX_1:def 3;
thus L205: ( width C28 ) = ( width C26 ) by L204 , L203 , MATRIX_1:def 3;
end;
case L206: ( len C26 ) > ( 0 );
thus L207: ( width C28 ) = ( width C26 ) by L206 , MATRIX_1:23;
end;
end;
L209: ( dom C26 ) = ( dom C28 ) by L201 , FINSEQ_3:29;
L210: ( Indices C28 ) = [: ( dom C26 ) , ( Seg ( width C26 ) ) :] by L209 , L202;
thus L211: thesis by L210 , L200 , L202 , MATRIX_1:def 2;
end;
uniqueness
proof
let C29 , C30 being (Matrix of R17);
assume that
L212: ( len C29 ) = ( len C26 )
and
L213: ( width C29 ) = ( width C26 )
and
L214: (for R10 being Nat holds (for R11 being Nat holds ([ R10 , R11 ] in ( Indices C26 ) implies ( C29 * (R10 , R11) ) = ( C27 * ( C26 * (R10 , R11) ) ))))
and
L215: (( len C30 ) = ( len C26 ) & ( width C30 ) = ( width C26 ))
and
L216: (for R10 being Nat holds (for R11 being Nat holds ([ R10 , R11 ] in ( Indices C26 ) implies ( C30 * (R10 , R11) ) = ( C27 * ( C26 * (R10 , R11) ) ))));
L217:
now
let R10 being Nat;
let R11 being Nat;
L218: ( dom C29 ) = ( dom C26 ) by L212 , FINSEQ_3:29;
L219: ( Indices C29 ) = [: ( dom C26 ) , ( Seg ( width C26 ) ) :] by L218 , L213;
assume L220: [ R10 , R11 ] in ( Indices C29 );
thus L221: ( C29 * (R10 , R11) ) = ( C27 * ( C26 * (R10 , R11) ) ) by L220 , L214 , L219
.= ( C30 * (R10 , R11) ) by L216 , L220 , L219;
end;
thus L222: thesis by L217 , L212 , L213 , L215 , MATRIX_1:21;
end;
end;
definition
let R17 being Field;
let C31 being (Matrix of R17);
let C32 being (Element of R17);
func C31 * C32 -> (Matrix of R17) equals 
( C32 * C31 );
coherence;
end;
theorem
L225: (for R17 being Field holds (for B8 , B9 being (FinSequence of R17) holds (( len B8 ) = ( len B9 ) implies (( len ( mlt (B8 , B9) ) ) = ( len B8 ) & ( len ( mlt (B8 , B9) ) ) = ( len B9 )))))
proof
let R17 being Field;
let C33 , C34 being (FinSequence of R17);
reconsider D16 = ( mlt (C33 , C34) ) as (FinSequence of R17);
L226: D16 = ( (the multF of R17) .: (C33 , C34) ) by FVSUM_1:def 7;
assume L227: ( len C33 ) = ( len C34 );
thus L228: thesis by L227 , L226 , FINSEQ_2:72;
end;
theorem
L229: (for R14 being Nat holds (for R17 being Field holds (for R10 being Nat holds (for R13 being Nat holds (([ R10 , R13 ] in ( Indices ( 1. (R17 , R14) ) ) & R13 = R10) implies ( ( Line (( 1. (R17 , R14) ) , R10) ) . R13 ) = ( 1. R17 ))))))
proof
let R14 being Nat;
let R17 being Field;
let R10 being Nat;
let R13 being Nat;
assume that
L230: [ R10 , R13 ] in ( Indices ( 1. (R17 , R14) ) )
and
L231: R13 = R10;
L232: R13 in ( Seg ( width ( 1. (R17 , R14) ) ) ) by L230 , ZFMISC_1:87;
thus L233: ( ( Line (( 1. (R17 , R14) ) , R10) ) . R13 ) = ( ( 1. (R17 , R14) ) * (R10 , R13) ) by L232 , MATRIX_1:def 7
.= ( 1. R17 ) by L230 , L231 , MATRIX_1:def 11;
end;
theorem
L234: (for R14 being Nat holds (for R17 being Field holds (for R10 being Nat holds (for R13 being Nat holds (([ R10 , R13 ] in ( Indices ( 1. (R17 , R14) ) ) & R13 <> R10) implies ( ( Line (( 1. (R17 , R14) ) , R10) ) . R13 ) = ( 0. R17 ))))))
proof
let R14 being Nat;
let R17 being Field;
let R10 being Nat;
let R13 being Nat;
assume that
L235: [ R10 , R13 ] in ( Indices ( 1. (R17 , R14) ) )
and
L236: R13 <> R10;
L237: R13 in ( Seg ( width ( 1. (R17 , R14) ) ) ) by L235 , ZFMISC_1:87;
thus L238: ( ( Line (( 1. (R17 , R14) ) , R10) ) . R13 ) = ( ( 1. (R17 , R14) ) * (R10 , R13) ) by L237 , MATRIX_1:def 7
.= ( 0. R17 ) by L235 , L236 , MATRIX_1:def 11;
end;
theorem
L239: (for R14 being Nat holds (for R17 being Field holds (for R13 being Nat holds (for R11 being Nat holds (([ R13 , R11 ] in ( Indices ( 1. (R17 , R14) ) ) & R13 = R11) implies ( ( Col (( 1. (R17 , R14) ) , R11) ) . R13 ) = ( 1. R17 ))))))
proof
let R14 being Nat;
let R17 being Field;
let R13 being Nat;
let R11 being Nat;
assume that
L240: [ R13 , R11 ] in ( Indices ( 1. (R17 , R14) ) )
and
L241: R13 = R11;
L242: R13 in ( dom ( 1. (R17 , R14) ) ) by L240 , ZFMISC_1:87;
thus L243: ( ( Col (( 1. (R17 , R14) ) , R11) ) . R13 ) = ( ( 1. (R17 , R14) ) * (R13 , R11) ) by L242 , MATRIX_1:def 8
.= ( 1. R17 ) by L240 , L241 , MATRIX_1:def 11;
end;
theorem
L244: (for R14 being Nat holds (for R17 being Field holds (for R13 being Nat holds (for R11 being Nat holds (([ R13 , R11 ] in ( Indices ( 1. (R17 , R14) ) ) & R13 <> R11) implies ( ( Col (( 1. (R17 , R14) ) , R11) ) . R13 ) = ( 0. R17 ))))))
proof
let R14 being Nat;
let R17 being Field;
let R13 being Nat;
let R11 being Nat;
assume that
L245: [ R13 , R11 ] in ( Indices ( 1. (R17 , R14) ) )
and
L246: R13 <> R11;
L247: R13 in ( dom ( 1. (R17 , R14) ) ) by L245 , ZFMISC_1:87;
thus L248: ( ( Col (( 1. (R17 , R14) ) , R11) ) . R13 ) = ( ( 1. (R17 , R14) ) * (R13 , R11) ) by L247 , MATRIX_1:def 8
.= ( 0. R17 ) by L245 , L246 , MATRIX_1:def 11;
end;
L249: (for B10 being  add-associative  right_zeroed  right_complementable non  empty addLoopStr holds (for B11 being (FinSequence of B10) holds ((for B12 being (Element of ( NAT )) holds (B12 in ( dom B11 ) implies ( B11 . B12 ) = ( 0. B10 ))) implies ( Sum B11 ) = ( 0. B10 ))))
proof
let C35 being  add-associative  right_zeroed  right_complementable non  empty addLoopStr;
let C36 being (FinSequence of C35);
assume L250: (for B13 being (Element of ( NAT )) holds (B13 in ( dom C36 ) implies ( C36 . B13 ) = ( 0. C35 )));
defpred S1[ (FinSequence of C35) ] means ((for B14 being (Element of ( NAT )) holds (B14 in ( dom $1 ) implies ( $1 . B14 ) = ( 0. C35 ))) implies ( Sum $1 ) = ( 0. C35 ));
L251: (for B15 being (FinSequence of C35) holds (for B16 being (Element of C35) holds (S1[ B15 ] implies S1[ ( B15 ^ <* B16 *> ) ])))
proof
let C37 being (FinSequence of C35);
let C38 being (Element of C35);
assume L252: ((for B17 being (Element of ( NAT )) holds (B17 in ( dom C37 ) implies ( C37 . B17 ) = ( 0. C35 ))) implies ( Sum C37 ) = ( 0. C35 ));
L253: ( ( len C37 ) + 1 ) in ( Seg ( ( len C37 ) + 1 ) ) by FINSEQ_1:4;
assume L254: (for B18 being (Element of ( NAT )) holds (B18 in ( dom ( C37 ^ <* C38 *> ) ) implies ( ( C37 ^ <* C38 *> ) . B18 ) = ( 0. C35 )));
L255: (for B19 being (Element of ( NAT )) holds (B19 in ( dom C37 ) implies ( C37 . B19 ) = ( 0. C35 )))
proof
L256: ( dom C37 ) c= ( dom ( C37 ^ <* C38 *> ) ) by FINSEQ_1:26;
let C39 being (Element of ( NAT ));
assume that
L257: C39 in ( dom C37 );
thus L258: ( C37 . C39 ) = ( ( C37 ^ <* C38 *> ) . C39 ) by L257 , FINSEQ_1:def 7
.= ( 0. C35 ) by L254 , L257 , L256;
end;
L259: ( len ( C37 ^ <* C38 *> ) ) = ( ( len C37 ) + ( len <* C38 *> ) ) by FINSEQ_1:22
.= ( ( len C37 ) + 1 ) by FINSEQ_1:39;
L260: ( ( len C37 ) + 1 ) in ( dom ( C37 ^ <* C38 *> ) ) by L259 , L253 , FINSEQ_1:def 3;
L261: C38 = ( ( C37 ^ <* C38 *> ) . ( ( len C37 ) + 1 ) ) by FINSEQ_1:42;
thus L262: ( Sum ( C37 ^ <* C38 *> ) ) = ( ( Sum C37 ) + ( Sum <* C38 *> ) ) by RLVECT_1:41
.= ( ( Sum C37 ) + C38 ) by RLVECT_1:44
.= ( ( 0. C35 ) + ( 0. C35 ) ) by L252 , L254 , L255 , L260 , L261
.= ( 0. C35 ) by RLVECT_1:def 4;
end;
L263: S1[ ( <*> (the carrier of C35) ) ] by RLVECT_1:43;
L264: (for B20 being (FinSequence of C35) holds S1[ B20 ]) from FINSEQ_2:sch 2(L263 , L251);
thus L265: thesis by L264 , L250;
end;
theorem
L266: (for B21 being (Element of ( NAT )) holds (for B22 being  add-associative  right_zeroed  right_complementable non  empty addLoopStr holds ( Sum ( B21 |-> ( 0. B22 ) ) ) = ( 0. B22 )))
proof
let C40 being (Element of ( NAT ));
let C41 being  add-associative  right_zeroed  right_complementable non  empty addLoopStr;
set D17 = ( C40 |-> ( 0. C41 ) );
L267: (for B23 being (Element of ( NAT )) holds (B23 in ( dom D17 ) implies ( D17 . B23 ) = ( 0. C41 )))
proof
let C42 being (Element of ( NAT ));
assume L268: C42 in ( dom D17 );
L269: C42 in ( Seg C40 ) by L268 , FUNCOP_1:13;
thus L270: thesis by L269 , FUNCOP_1:7;
end;
thus L271: thesis by L267 , L249;
end;
theorem
L272: (for B24 being  add-associative  right_zeroed  right_complementable non  empty addLoopStr holds (for B25 being (FinSequence of B24) holds (for R10 being Nat holds ((R10 in ( dom B25 ) & (for R12 being Nat holds ((R12 in ( dom B25 ) & R12 <> R10) implies ( B25 . R12 ) = ( 0. B24 )))) implies ( Sum B25 ) = ( B25 . R10 )))))
proof
let C43 being  add-associative  right_zeroed  right_complementable non  empty addLoopStr;
let C44 being (FinSequence of C43);
let R10 being Nat;
assume that
L273: R10 in ( dom C44 )
and
L274: (for R12 being Nat holds ((R12 in ( dom C44 ) & R12 <> R10) implies ( C44 . R12 ) = ( 0. C43 )));
reconsider D18 = ( C44 . R10 ) as (Element of C43) by L273 , FINSEQ_2:11;
reconsider D19 = ( C44 | ( Seg R10 ) ) as (FinSequence of C43) by FINSEQ_1:18;
L275: R10 <> ( 0 ) by L273 , FINSEQ_3:25;
L276: R10 in ( Seg R10 ) by L275 , FINSEQ_1:3;
L277: R10 in ( ( dom C44 ) /\ ( Seg R10 ) ) by L276 , L273 , XBOOLE_0:def 4;
L278: R10 in ( dom D19 ) by L277 , RELAT_1:61;
L279: D19 <> ( {} ) by L278;
L280: ( len D19 ) <> ( 0 ) by L279;
consider C45 being (FinSequence of C43), C46 being (Element of C43) such that L281: D19 = ( C45 ^ <* C46 *> ) by L280 , FINSEQ_2:19;
L282: R10 in ( NAT ) by ORDINAL1:def 12;
L283: D19 is_a_prefix_of C44 by L282 , TREES_1:def 1;
consider C47 being FinSequence such that L284: C44 = ( D19 ^ C47 ) by L283 , TREES_1:1;
reconsider D20 = C47 as (FinSequence of C43) by L284 , FINSEQ_1:36;
L285: ( dom D20 ) = ( Seg ( len D20 ) ) by FINSEQ_1:def 3;
L286: (for R12 being Nat holds (R12 in ( Seg ( len D20 ) ) implies ( D20 . R12 ) = ( 0. C43 )))
proof
let R12 being Nat;
L287: (R10 <= ( len D19 ) & ( len D19 ) <= ( ( len D19 ) + R12 )) by L278 , FINSEQ_3:25 , NAT_1:12;
assume L288: R12 in ( Seg ( len D20 ) );
L289: R12 in ( dom D20 ) by L288 , FINSEQ_1:def 3;
L290: ( 0 ) <> R12 by L289 , FINSEQ_3:25;
L291: R10 <> ( ( len D19 ) + R12 ) by L290 , L287 , XCMPLX_1:3 , XXREAL_0:1;
thus L292: ( D20 . R12 ) = ( C44 . ( ( len D19 ) + R12 ) ) by L284 , L289 , FINSEQ_1:def 7
.= ( 0. C43 ) by L274 , L284 , L289 , L291 , FINSEQ_1:28;
end;
L293:
now
let C48 being Nat;
assume L294: C48 in ( dom D20 );
thus L295: ( D20 . C48 ) = ( 0. C43 ) by L294 , L286 , L285
.= ( ( ( len D20 ) |-> ( 0. C43 ) ) . C48 ) by L285 , L294 , FINSEQ_2:57;
end;
L296: ( dom C45 ) = ( Seg ( len C45 ) ) by FINSEQ_1:def 3;
L297: R10 <= ( len C44 ) by L273 , FINSEQ_3:25;
L298: R10 = ( len D19 ) by L297 , FINSEQ_1:17
.= ( ( len C45 ) + ( len <* C46 *> ) ) by L281 , FINSEQ_1:22
.= ( ( len C45 ) + 1 ) by FINSEQ_1:39;
L299: C46 = ( D19 . R10 ) by L298 , L281 , FINSEQ_1:42
.= D18 by L284 , L278 , FINSEQ_1:def 7;
L300: (for R12 being Nat holds (R12 in ( Seg ( len C45 ) ) implies ( C45 . R12 ) = ( 0. C43 )))
proof
let R12 being Nat;
assume L301: R12 in ( Seg ( len C45 ) );
L302: R12 <= ( len C45 ) by L301 , FINSEQ_1:1;
L303: R10 <> R12 by L302 , L298 , NAT_1:13;
L304: R12 in ( dom C45 ) by L301 , FINSEQ_1:def 3;
L305: R12 in ( dom D19 ) by L304 , L281 , FINSEQ_2:15;
thus L306: ( C45 . R12 ) = ( D19 . R12 ) by L281 , L304 , FINSEQ_1:def 7
.= ( C44 . R12 ) by L284 , L305 , FINSEQ_1:def 7
.= ( 0. C43 ) by L274 , L284 , L303 , L305 , FINSEQ_2:15;
end;
L307:
now
let C49 being Nat;
assume L308: C49 in ( dom C45 );
thus L309: ( C45 . C49 ) = ( 0. C43 ) by L308 , L300 , L296
.= ( ( ( len C45 ) |-> ( 0. C43 ) ) . C49 ) by L296 , L308 , FINSEQ_2:57;
end;
L310: ( len ( ( len C45 ) |-> ( 0. C43 ) ) ) = ( len C45 ) by CARD_1:def 7;
L311: C45 = ( ( len C45 ) |-> ( 0. C43 ) ) by L310 , L307 , FINSEQ_2:9;
L312: ( len ( ( len D20 ) |-> ( 0. C43 ) ) ) = ( len D20 ) by CARD_1:def 7;
L313: D20 = ( ( len D20 ) |-> ( 0. C43 ) ) by L312 , L293 , FINSEQ_2:9;
L314: ( Sum C44 ) = ( ( Sum ( C45 ^ <* C46 *> ) ) + ( Sum ( ( len D20 ) |-> ( 0. C43 ) ) ) ) by L313 , L284 , L281 , RLVECT_1:41
.= ( ( Sum ( C45 ^ <* C46 *> ) ) + ( 0. C43 ) ) by L266
.= ( Sum ( C45 ^ <* C46 *> ) ) by RLVECT_1:4
.= ( ( Sum ( ( len C45 ) |-> ( 0. C43 ) ) ) + C46 ) by L311 , FVSUM_1:71
.= ( ( 0. C43 ) + D18 ) by L299 , L266
.= ( C44 . R10 ) by RLVECT_1:4;
thus L315: thesis by L314;
end;
theorem
L316: (for R17 being Field holds (for B26 , B27 being (FinSequence of R17) holds ( len ( mlt (B26 , B27) ) ) = ( min (( len B26 ) , ( len B27 )) )))
proof
let R17 being Field;
let C50 , C51 being (FinSequence of R17);
reconsider D21 = ( mlt (C50 , C51) ) as (FinSequence of R17);
L317: D21 = ( (the multF of R17) .: (C50 , C51) ) by FVSUM_1:def 7;
thus L318: thesis by L317 , FINSEQ_2:71;
end;
theorem
L319: (for R17 being Field holds (for B28 , B29 being (FinSequence of R17) holds (for R10 being Nat holds ((( B28 . R10 ) = ( 1. R17 ) & (for R12 being Nat holds ((R12 in ( dom B28 ) & R12 <> R10) implies ( B28 . R12 ) = ( 0. R17 )))) implies (for R11 being Nat holds (R11 in ( dom ( mlt (B28 , B29) ) ) implies ((R10 = R11 implies ( ( mlt (B28 , B29) ) . R11 ) = ( B29 . R10 )) & (R10 <> R11 implies ( ( mlt (B28 , B29) ) . R11 ) = ( 0. R17 )))))))))
proof
let R17 being Field;
let C52 , C53 being (FinSequence of R17);
let R10 being Nat;
assume that
L320: ( C52 . R10 ) = ( 1. R17 )
and
L321: (for R12 being Nat holds ((R12 in ( dom C52 ) & R12 <> R10) implies ( C52 . R12 ) = ( 0. R17 )));
let R11 being Nat;
assume L322: R11 in ( dom ( mlt (C52 , C53) ) );
L323: (( dom C52 ) = ( Seg ( len C52 ) ) & ( dom C53 ) = ( Seg ( len C53 ) )) by FINSEQ_1:def 3;
reconsider D22 = R11 as (Element of ( NAT )) by ORDINAL1:def 12;
L324: (( dom ( mlt (C52 , C53) ) ) = ( Seg ( len ( mlt (C52 , C53) ) ) ) & ( len ( mlt (C52 , C53) ) ) = ( min (( len C52 ) , ( len C53 )) )) by L316 , FINSEQ_1:def 3;
L325: R11 in ( ( dom C52 ) /\ ( dom C53 ) ) by L324 , L322 , L323 , FINSEQ_2:2;
L326: R11 in ( dom C53 ) by L325 , XBOOLE_0:def 4;
reconsider D23 = ( C53 . D22 ) as (Element of R17) by L326 , FINSEQ_2:11;
thus L327: (R10 = R11 implies ( ( mlt (C52 , C53) ) . R11 ) = ( C53 . R10 ))
proof
reconsider D24 = ( C53 . D22 ) as (Element of R17) by L326 , FINSEQ_2:11;
assume L328: R10 = R11;
thus L329: ( ( mlt (C52 , C53) ) . R11 ) = ( D24 * ( 1. R17 ) ) by L328 , L320 , L322 , FVSUM_1:60
.= ( C53 . R10 ) by L328 , VECTSP_1:def 8;
end;

assume L330: R10 <> R11;
L331: R11 in ( dom C52 ) by L325 , XBOOLE_0:def 4;
L332: ( C52 . R11 ) = ( 0. R17 ) by L331 , L321 , L330;
thus L333: ( ( mlt (C52 , C53) ) . R11 ) = ( ( 0. R17 ) * D23 ) by L332 , L322 , FVSUM_1:60
.= ( 0. R17 ) by VECTSP_1:12;
end;
theorem
L334: (for R14 being Nat holds (for R17 being Field holds (for R10 being Nat holds (for R11 being Nat holds ([ R10 , R11 ] in ( Indices ( 1. (R17 , R14) ) ) implies ((R10 = R11 implies ( ( Line (( 1. (R17 , R14) ) , R10) ) . R11 ) = ( 1. R17 )) & (R10 <> R11 implies ( ( Line (( 1. (R17 , R14) ) , R10) ) . R11 ) = ( 0. R17 ))))))))
proof
let R14 being Nat;
let R17 being Field;
let R10 being Nat;
let R11 being Nat;
set D25 = ( 1. (R17 , R14) );
assume L335: [ R10 , R11 ] in ( Indices ( 1. (R17 , R14) ) );
L336: R11 in ( Seg ( width D25 ) ) by L335 , ZFMISC_1:87;
L337: ( ( Line (D25 , R10) ) . R11 ) = ( D25 * (R10 , R11) ) by L336 , MATRIX_1:def 7;
thus L338: (R10 = R11 implies ( ( Line (( 1. (R17 , R14) ) , R10) ) . R11 ) = ( 1. R17 )) by L337 , L335 , MATRIX_1:def 11;
thus L339: thesis by L335 , L337 , MATRIX_1:def 11;
end;
theorem
L340: (for R14 being Nat holds (for R17 being Field holds (for R10 being Nat holds (for R11 being Nat holds ([ R10 , R11 ] in ( Indices ( 1. (R17 , R14) ) ) implies ((R10 = R11 implies ( ( Col (( 1. (R17 , R14) ) , R11) ) . R10 ) = ( 1. R17 )) & (R10 <> R11 implies ( ( Col (( 1. (R17 , R14) ) , R11) ) . R10 ) = ( 0. R17 ))))))))
proof
let R14 being Nat;
let R17 being Field;
let R10 being Nat;
let R11 being Nat;
set D26 = ( 1. (R17 , R14) );
assume L341: [ R10 , R11 ] in ( Indices ( 1. (R17 , R14) ) );
L342: R10 in ( dom D26 ) by L341 , ZFMISC_1:87;
L343: ( ( Col (D26 , R11) ) . R10 ) = ( D26 * (R10 , R11) ) by L342 , MATRIX_1:def 8;
thus L344: (R10 = R11 implies ( ( Col (( 1. (R17 , R14) ) , R11) ) . R10 ) = ( 1. R17 )) by L343 , L341 , MATRIX_1:def 11;
thus L345: thesis by L341 , L343 , MATRIX_1:def 11;
end;
theorem
L346: (for R17 being Field holds (for B30 , B31 being (FinSequence of R17) holds (for R10 being Nat holds ((R10 in ( dom B30 ) & R10 in ( dom B31 ) & ( B30 . R10 ) = ( 1. R17 ) & (for R12 being Nat holds ((R12 in ( dom B30 ) & R12 <> R10) implies ( B30 . R12 ) = ( 0. R17 )))) implies ( Sum ( mlt (B30 , B31) ) ) = ( B31 . R10 )))))
proof
let R17 being Field;
let C54 , C55 being (FinSequence of R17);
let R10 being Nat;
assume that
L347: (R10 in ( dom C54 ) & R10 in ( dom C55 ))
and
L348: (( C54 . R10 ) = ( 1. R17 ) & (for R12 being Nat holds ((R12 in ( dom C54 ) & R12 <> R10) implies ( C54 . R12 ) = ( 0. R17 ))));
reconsider D27 = ( mlt (C54 , C55) ) as (FinSequence of R17);
L349: (for R12 being Nat holds ((R12 in ( dom D27 ) & R12 <> R10) implies ( D27 . R12 ) = ( 0. R17 ))) by L348 , L319;
L350: (( dom C54 ) = ( Seg ( len C54 ) ) & ( dom C55 ) = ( Seg ( len C55 ) )) by FINSEQ_1:def 3;
L351: (( dom ( mlt (C54 , C55) ) ) = ( Seg ( len ( mlt (C54 , C55) ) ) ) & ( len ( mlt (C54 , C55) ) ) = ( min (( len C54 ) , ( len C55 )) )) by L316 , FINSEQ_1:def 3;
L352: ( ( dom C54 ) /\ ( dom C55 ) ) = ( dom ( mlt (C54 , C55) ) ) by L351 , L350 , FINSEQ_2:2;
L353: R10 in ( dom D27 ) by L352 , L347 , XBOOLE_0:def 4;
L354: ( D27 . R10 ) = ( C55 . R10 ) by L353 , L348 , L319;
thus L355: thesis by L354 , L353 , L349 , L272;
end;
theorem
L356: (for R14 being Nat holds (for R17 being Field holds (for B32 being (Matrix of R14 , R17) holds ( ( 1. (R17 , R14) ) * B32 ) = B32)))
proof
let R14 being Nat;
let R17 being Field;
let C56 being (Matrix of R14 , R17);
set D28 = ( 1. (R17 , R14) );
L357: ( len D28 ) = R14 by MATRIX_1:24;
L358: ( len C56 ) = R14 by MATRIX_1:24;
L359: ( width D28 ) = R14 by MATRIX_1:24;
L360: ( len ( D28 * C56 ) ) = ( len D28 ) by L359 , L358 , L170;
L361:
now
L362: ( dom C56 ) = ( Seg ( len C56 ) ) by FINSEQ_1:def 3;
let R10 being Nat;
let R11 being Nat;
assume L363: [ R10 , R11 ] in ( Indices ( D28 * C56 ) );
L364: (( dom ( D28 * C56 ) ) = ( Seg ( len ( D28 * C56 ) ) ) & ( Indices ( D28 * C56 ) ) = [: ( dom ( D28 * C56 ) ) , ( Seg ( width ( D28 * C56 ) ) ) :]) by FINSEQ_1:def 3;
L365: R10 in ( Seg ( width D28 ) ) by L364 , L357 , L359 , L360 , L363 , ZFMISC_1:87;
L366: R10 in ( Seg ( len ( Line (D28 , R10) ) ) ) by L365 , MATRIX_1:def 7;
L367: R10 in ( dom ( Line (D28 , R10) ) ) by L366 , FINSEQ_1:def 3;
L368: ( dom D28 ) = ( Seg ( len D28 ) ) by FINSEQ_1:def 3;
L369: R10 in ( dom D28 ) by L368 , L360 , L363 , L364 , ZFMISC_1:87;
L370: [ R10 , R10 ] in [: ( dom D28 ) , ( Seg ( width D28 ) ) :] by L369 , L365 , ZFMISC_1:87;
L371: [ R10 , R10 ] in ( Indices D28 ) by L370;
L372: ( ( Line (D28 , R10) ) . R10 ) = ( 1. R17 ) by L371 , L334;
L373:
now
let R12 being Nat;
assume that
L374: R12 in ( dom ( Line (D28 , R10) ) )
and
L375: R12 <> R10;
L376: R12 in ( Seg ( len ( Line (D28 , R10) ) ) ) by L374 , FINSEQ_1:def 3;
L377: R12 in ( Seg ( width D28 ) ) by L376 , MATRIX_1:def 7;
L378: [ R10 , R12 ] in [: ( dom D28 ) , ( Seg ( width D28 ) ) :] by L377 , L369 , ZFMISC_1:87;
L379: [ R10 , R12 ] in ( Indices D28 ) by L378;
thus L380: ( ( Line (D28 , R10) ) . R12 ) = ( 0. R17 ) by L379 , L375 , L334;
end;
L381: R10 in ( Seg ( len ( Col (C56 , R11) ) ) ) by L359 , L358 , L365 , MATRIX_1:def 8;
L382: R10 in ( dom ( Col (C56 , R11) ) ) by L381 , FINSEQ_1:def 3;
thus L383: ( ( D28 * C56 ) * (R10 , R11) ) = ( ( Line (D28 , R10) ) "*" ( Col (C56 , R11) ) ) by L359 , L358 , L363 , L170
.= ( Sum ( mlt (( Line (D28 , R10) ) , ( Col (C56 , R11) )) ) ) by FVSUM_1:def 9
.= ( ( Col (C56 , R11) ) . R10 ) by L367 , L382 , L373 , L372 , L346
.= ( C56 * (R10 , R11) ) by L357 , L358 , L362 , L368 , L369 , MATRIX_1:def 8;
end;
L384: ( width ( D28 * C56 ) ) = ( width C56 ) by L359 , L358 , L170;
thus L385: thesis by L384 , L357 , L358 , L360 , L361 , MATRIX_1:21;
end;
theorem
L386: (for R14 being Nat holds (for R17 being Field holds (for B33 being (Matrix of R14 , R17) holds ( B33 * ( 1. (R17 , R14) ) ) = B33)))
proof
let R14 being Nat;
let R17 being Field;
let C57 being (Matrix of R14 , R17);
set D29 = ( 1. (R17 , R14) );
L387: ( width D29 ) = R14 by MATRIX_1:24;
L388: ( width C57 ) = R14 by MATRIX_1:24;
L389: ( len D29 ) = R14 by MATRIX_1:24;
L390: ( width ( C57 * D29 ) ) = ( width D29 ) by L389 , L388 , L170;
L391:
now
let R10 being Nat;
let R11 being Nat;
assume L392: [ R10 , R11 ] in ( Indices ( C57 * D29 ) );
L393: R11 in ( Seg ( width D29 ) ) by L392 , L390 , ZFMISC_1:87;
L394: R11 in ( Seg ( len ( Col (D29 , R11) ) ) ) by L393 , L389 , L387 , MATRIX_1:def 8;
L395: R11 in ( dom ( Col (D29 , R11) ) ) by L394 , FINSEQ_1:def 3;
L396: R11 in ( Seg ( width C57 ) ) by L387 , L388 , L390 , L392 , ZFMISC_1:87;
L397:
now
let R12 being Nat;
assume that
L398: R12 in ( dom ( Col (D29 , R11) ) )
and
L399: R12 <> R11;
L400: R12 in ( Seg ( len ( Col (D29 , R11) ) ) ) by L398 , FINSEQ_1:def 3;
L401: R12 in ( Seg ( len D29 ) ) by L400 , MATRIX_1:def 8;
L402: R12 in ( dom D29 ) by L401 , FINSEQ_1:def 3;
L403: [ R12 , R11 ] in [: ( dom D29 ) , ( Seg ( width D29 ) ) :] by L402 , L393 , ZFMISC_1:87;
L404: [ R12 , R11 ] in ( Indices D29 ) by L403;
thus L405: ( ( Col (D29 , R11) ) . R12 ) = ( 0. R17 ) by L404 , L399 , L340;
end;
L406: R11 in ( dom D29 ) by L389 , L387 , L393 , FINSEQ_1:def 3;
L407: [ R11 , R11 ] in [: ( dom D29 ) , ( Seg ( width D29 ) ) :] by L406 , L387 , L388 , L396 , ZFMISC_1:87;
L408: [ R11 , R11 ] in ( Indices D29 ) by L407;
L409: ( ( Col (D29 , R11) ) . R11 ) = ( 1. R17 ) by L408 , L340;
L410: R11 in ( Seg ( len ( Line (C57 , R10) ) ) ) by L387 , L388 , L393 , MATRIX_1:def 7;
L411: R11 in ( dom ( Line (C57 , R10) ) ) by L410 , FINSEQ_1:def 3;
thus L412: ( ( C57 * D29 ) * (R10 , R11) ) = ( ( Line (C57 , R10) ) "*" ( Col (D29 , R11) ) ) by L389 , L388 , L392 , L170
.= ( ( Col (D29 , R11) ) "*" ( Line (C57 , R10) ) ) by FVSUM_1:90
.= ( Sum ( mlt (( Col (D29 , R11) ) , ( Line (C57 , R10) )) ) ) by FVSUM_1:def 9
.= ( ( Line (C57 , R10) ) . R11 ) by L395 , L411 , L397 , L409 , L346
.= ( C57 * (R10 , R11) ) by L396 , MATRIX_1:def 7;
end;
L413: ( len ( C57 * D29 ) ) = ( len C57 ) by L389 , L388 , L170;
thus L414: thesis by L413 , L387 , L388 , L390 , L391 , MATRIX_1:21;
end;
theorem
L415: (for R17 being Field holds (for B34 , B35 being (Element of R17) holds ( <* <* B34 *> *> * <* <* B35 *> *> ) = <* <* ( B34 * B35 ) *> *>))
proof
let R17 being Field;
let C58 , C59 being (Element of R17);
reconsider D30 = <* <* C58 *> *> as (Matrix of 1 , R17);
reconsider D31 = <* <* C59 *> *> as (Matrix of 1 , R17);
reconsider D32 = ( D30 * D31 ) as (Matrix of R17);
L416: ( len ( Line (D30 , 1) ) ) = ( width D30 ) by MATRIX_1:def 7
.= 1 by MATRIX_1:24;
L417: ( width D30 ) = 1 by MATRIX_1:24;
L418: 1 in ( Seg ( width D30 ) ) by L417 , FINSEQ_1:2 , TARSKI:def 1;
L419: ( ( Line (D30 , 1) ) . 1 ) = ( <* <* C58 *> *> * (1 , 1) ) by L418 , MATRIX_1:def 7
.= C58 by MATRIX_2:5;
L420: ( Line (<* <* C58 *> *> , 1) ) = <* C58 *> by L419 , L416 , FINSEQ_1:40;
L421: ( len D31 ) = 1 by MATRIX_1:24;
L422: 1 in ( Seg ( len D31 ) ) by L421 , FINSEQ_1:2 , TARSKI:def 1;
L423: 1 in ( dom D31 ) by L422 , FINSEQ_1:def 3;
L424: ( ( Col (D31 , 1) ) . 1 ) = ( <* <* C59 *> *> * (1 , 1) ) by L423 , MATRIX_1:def 8
.= C59 by MATRIX_2:5;
L425: ( len D30 ) = 1 by MATRIX_1:24;
L426: ( len D32 ) = 1 by L425 , L417 , L421 , L170;
L427: ( width D31 ) = 1 by MATRIX_1:24;
L428: ( width D32 ) = 1 by L427 , L417 , L421 , L170;
reconsider D33 = D32 as (Matrix of 1 , R17) by L428 , L426 , MATRIX_2:7;
L429: ( Seg ( len D33 ) ) = ( dom D33 ) by FINSEQ_1:def 3;
L430: ( Indices D33 ) = [: ( Seg 1 ) , ( Seg 1 ) :] by L429 , L426 , L428;
L431: ( len ( Col (D31 , 1) ) ) = ( len D31 ) by MATRIX_1:def 8
.= 1 by MATRIX_1:24;
L432: ( Col (<* <* C59 *> *> , 1) ) = <* C59 *> by L431 , L424 , FINSEQ_1:40;
L433:
now
let R10 being Nat;
let R11 being Nat;
assume L434: [ R10 , R11 ] in ( Indices D33 );
L435: R11 in ( Seg 1 ) by L434 , L430 , ZFMISC_1:87;
L436: R11 = 1 by L435 , FINSEQ_1:2 , TARSKI:def 1;
L437: R10 in ( Seg 1 ) by L430 , L434 , ZFMISC_1:87;
L438: R10 = 1 by L437 , FINSEQ_1:2 , TARSKI:def 1;
thus L439: ( D33 * (R10 , R11) ) = ( <* C58 *> "*" <* C59 *> ) by L438 , L417 , L421 , L420 , L432 , L434 , L436 , L170
.= ( C58 * C59 ) by FVSUM_1:88
.= ( <* <* ( C58 * C59 ) *> *> * (R10 , R11) ) by L438 , L436 , MATRIX_2:5;
end;
thus L440: thesis by L433 , MATRIX_1:27;
end;
theorem
L441: (for R17 being Field holds (for B36 , B37 , B38 , B39 , B40 , B41 , B42 , B43 being (Element of R17) holds ( ( (B36 , B38) ][ (B40 , B42) ) * ( (B37 , B39) ][ (B41 , B43) ) ) = ( (( ( B36 * B37 ) + ( B38 * B41 ) ) , ( ( B36 * B39 ) + ( B38 * B43 ) )) ][ (( ( B40 * B37 ) + ( B42 * B41 ) ) , ( ( B40 * B39 ) + ( B42 * B43 ) )) )))
proof
let R17 being Field;
let C60 , C61 , C62 , C63 , C64 , C65 , C66 , C67 being (Element of R17);
reconsider D34 = ( (C60 , C62) ][ (C64 , C66) ) as (Matrix of 2 , R17);
reconsider D35 = ( (C61 , C63) ][ (C65 , C67) ) as (Matrix of 2 , R17);
reconsider D36 = ( (( ( C60 * C61 ) + ( C62 * C65 ) ) , ( ( C60 * C63 ) + ( C62 * C67 ) )) ][ (( ( C64 * C61 ) + ( C66 * C65 ) ) , ( ( C64 * C63 ) + ( C66 * C67 ) )) ) as (Matrix of 2 , R17);
L442: ( width D34 ) = 2 by MATRIX_1:24;
L443: 2 in { 1 , 2 } by TARSKI:def 2;
L444: ( ( Line (D34 , 2) ) . 2 ) = ( D34 * (2 , 2) ) by L443 , L442 , FINSEQ_1:2 , MATRIX_1:def 7
.= C66 by MATRIX_2:6;
L445: ( len ( Line (D34 , 2) ) ) = ( width D34 ) by MATRIX_1:def 7
.= 2 by MATRIX_1:24;
L446: 1 in { 1 , 2 } by TARSKI:def 2;
L447: ( ( Line (D34 , 2) ) . 1 ) = ( D34 * (2 , 1) ) by L446 , L442 , FINSEQ_1:2 , MATRIX_1:def 7
.= C64 by MATRIX_2:6;
L448: ( Line (D34 , 2) ) = <* C64 , C66 *> by L447 , L445 , L444 , FINSEQ_1:44;
L449: 2 in { 1 , 2 } by TARSKI:def 2;
L450: ( ( Line (D34 , 1) ) . 2 ) = ( D34 * (1 , 2) ) by L449 , L442 , FINSEQ_1:2 , MATRIX_1:def 7
.= C62 by MATRIX_2:6;
L451: ( len ( Line (D34 , 1) ) ) = ( width D34 ) by MATRIX_1:def 7
.= 2 by MATRIX_1:24;
L452: 1 in { 1 , 2 } by TARSKI:def 2;
L453: ( ( Line (D34 , 1) ) . 1 ) = ( D34 * (1 , 1) ) by L452 , L442 , FINSEQ_1:2 , MATRIX_1:def 7
.= C60 by MATRIX_2:6;
L454: ( Line (D34 , 1) ) = <* C60 , C62 *> by L453 , L451 , L450 , FINSEQ_1:44;
L455: ( len ( Col (D35 , 2) ) ) = ( len D35 ) by MATRIX_1:def 8
.= 2 by MATRIX_1:24;
L456: ( len ( Col (D35 , 1) ) ) = ( len D35 ) by MATRIX_1:def 8
.= 2 by MATRIX_1:24;
reconsider D37 = ( D34 * D35 ) as (Matrix of R17);
L457: ( len D35 ) = 2 by MATRIX_1:24;
L458: ( width D35 ) = 2 by MATRIX_1:24;
L459: ( width D37 ) = 2 by L458 , L442 , L457 , L170;
L460: ( len D34 ) = 2 by MATRIX_1:24;
L461: ( len D37 ) = 2 by L460 , L442 , L457 , L170;
reconsider D38 = D37 as (Matrix of 2 , R17) by L461 , L459 , MATRIX_2:7;
L462: ( Seg ( len D35 ) ) = ( dom D35 ) by FINSEQ_1:def 3;
L463: 2 in { 1 , 2 } by TARSKI:def 2;
L464: ( ( Col (D35 , 2) ) . 2 ) = ( D35 * (2 , 2) ) by L463 , L457 , L462 , FINSEQ_1:2 , MATRIX_1:def 8
.= C67 by MATRIX_2:6;
L465: 1 in { 1 , 2 } by TARSKI:def 2;
L466: ( ( Col (D35 , 2) ) . 1 ) = ( D35 * (1 , 2) ) by L465 , L457 , L462 , FINSEQ_1:2 , MATRIX_1:def 8
.= C63 by MATRIX_2:6;
L467: ( Col (D35 , 2) ) = <* C63 , C67 *> by L466 , L455 , L464 , FINSEQ_1:44;
L468: 2 in { 1 , 2 } by TARSKI:def 2;
L469: ( ( Col (D35 , 1) ) . 2 ) = ( D35 * (2 , 1) ) by L468 , L457 , L462 , FINSEQ_1:2 , MATRIX_1:def 8
.= C65 by MATRIX_2:6;
L470: 1 in { 1 , 2 } by TARSKI:def 2;
L471: ( ( Col (D35 , 1) ) . 1 ) = ( D35 * (1 , 1) ) by L470 , L457 , L462 , FINSEQ_1:2 , MATRIX_1:def 8
.= C61 by MATRIX_2:6;
L472: ( Col (D35 , 1) ) = <* C61 , C65 *> by L471 , L456 , L469 , FINSEQ_1:44;
L473: ( dom D38 ) = ( Seg ( len D38 ) ) by FINSEQ_1:def 3;
L474: ( Indices D38 ) = [: ( Seg 2 ) , ( Seg 2 ) :] by L473 , L461 , L459;
L475:
now
let R10 being Nat;
let R11 being Nat;
assume L476: [ R10 , R11 ] in ( Indices D38 );
L477: (R10 in ( Seg 2 ) & R11 in ( Seg 2 )) by L476 , L474 , ZFMISC_1:87;
L478:
now
per cases  by L477 , FINSEQ_1:2 , TARSKI:def 2;
case L479: (R10 = 1 & R11 = 1);
thus L480: ( D38 * (1 , 1) ) = ( <* C60 , C62 *> "*" <* C61 , C65 *> ) by L479 , L442 , L457 , L454 , L472 , L476 , L170
.= ( ( C60 * C61 ) + ( C62 * C65 ) ) by FVSUM_1:89
.= ( D36 * (1 , 1) ) by MATRIX_2:6;
end;
case L481: (R10 = 1 & R11 = 2);
thus L482: ( D38 * (1 , 2) ) = ( <* C60 , C62 *> "*" <* C63 , C67 *> ) by L481 , L442 , L457 , L454 , L467 , L476 , L170
.= ( ( C60 * C63 ) + ( C62 * C67 ) ) by FVSUM_1:89
.= ( D36 * (1 , 2) ) by MATRIX_2:6;
end;
case L483: (R10 = 2 & R11 = 1);
thus L484: ( D38 * (2 , 1) ) = ( <* C64 , C66 *> "*" <* C61 , C65 *> ) by L483 , L442 , L457 , L448 , L472 , L476 , L170
.= ( ( C64 * C61 ) + ( C66 * C65 ) ) by FVSUM_1:89
.= ( D36 * (2 , 1) ) by MATRIX_2:6;
end;
case L485: (R10 = 2 & R11 = 2);
thus L486: ( D38 * (2 , 2) ) = ( <* C64 , C66 *> "*" <* C63 , C67 *> ) by L485 , L442 , L457 , L448 , L467 , L476 , L170
.= ( ( C64 * C63 ) + ( C66 * C67 ) ) by FVSUM_1:89
.= ( D36 * (2 , 2) ) by MATRIX_2:6;
end;
end;
thus L488: ( D38 * (R10 , R11) ) = ( D36 * (R10 , R11) ) by L478;
end;
thus L489: thesis by L475 , MATRIX_1:27;
end;
theorem
L490: (for R17 being Field holds (for B44 , B45 being (Matrix of R17) holds ((( width B44 ) = ( len B45 ) & ( width B45 ) <> ( 0 )) implies ( ( B44 * B45 ) @ ) = ( ( B45 @ ) * ( B44 @ ) ))))
proof
let R17 being Field;
let C68 , C69 being (Matrix of R17);
assume that
L491: ( width C68 ) = ( len C69 )
and
L492: ( width C69 ) <> ( 0 );
L493: ( len ( C69 @ ) ) = ( width C69 ) by MATRIX_1:def 6;
L494: ( len ( C68 @ ) ) = ( width C68 ) by MATRIX_1:def 6;
L495: ( width ( C69 @ ) ) = ( len ( C68 @ ) ) by L494 , L491 , L492 , MATRIX_2:10;
L496: ( width ( ( C69 @ ) * ( C68 @ ) ) ) = ( width ( C68 @ ) ) by L495 , L170;
L497: ( width ( C68 * C69 ) ) > ( 0 ) by L491 , L492 , L170;
L498: ( width ( ( C68 * C69 ) @ ) ) = ( len ( C68 * C69 ) ) by L497 , MATRIX_2:10
.= ( len C68 ) by L491 , L170;
L499: ( width ( ( C69 @ ) * ( C68 @ ) ) ) = ( width ( C68 @ ) ) by L495 , L170;
L500: ( len ( ( C69 @ ) * ( C68 @ ) ) ) = ( len ( C69 @ ) ) by L495 , L170
.= ( width C69 ) by MATRIX_1:def 6;
L501: ( len ( ( C69 @ ) * ( C68 @ ) ) ) = ( len ( C69 @ ) ) by L495 , L170;
L502:
now
let R10 being Nat;
let R11 being Nat;
assume L503: [ R10 , R11 ] in ( Indices ( ( C69 @ ) * ( C68 @ ) ) );
L504: ( dom ( ( C69 @ ) * ( C68 @ ) ) ) = ( dom ( C69 @ ) ) by L501 , FINSEQ_3:29;
L505: [ R10 , R11 ] in [: ( dom ( C69 @ ) ) , ( Seg ( width ( C68 @ ) ) ) :] by L504 , L496 , L503;
per cases ;
suppose L506: ( width C68 ) = ( 0 );

thus L507: ( ( ( C69 @ ) * ( C68 @ ) ) * (R10 , R11) ) = ( ( ( C68 * C69 ) @ ) * (R10 , R11) ) by L506 , L491 , L492 , MATRIX_1:def 3;
end;
suppose L508: ( width C68 ) > ( 0 );

L509: ( width ( C68 @ ) ) = ( len C68 ) by L508 , MATRIX_2:10;
L510: ( Seg ( width ( C68 @ ) ) ) = ( dom C68 ) by L509 , FINSEQ_1:def 3;
L511: R11 in ( dom C68 ) by L510 , L505 , ZFMISC_1:87;
L512: ( Col (( C68 @ ) , R11) ) = ( Line (C68 , R11) ) by L511 , MATRIX_2:14;
L513: R11 in ( Seg ( len C68 ) ) by L511 , FINSEQ_1:def 3;
L514: R11 in ( Seg ( len ( C68 * C69 ) ) ) by L513 , L491 , L170;
L515: R11 in ( dom ( C68 * C69 ) ) by L514 , FINSEQ_1:def 3;
L516: ( Seg ( width C69 ) ) = ( dom ( C69 @ ) ) by L493 , FINSEQ_1:def 3;
L517: R10 in ( Seg ( width C69 ) ) by L516 , L505 , ZFMISC_1:87;
L518: R10 in ( Seg ( width ( C68 * C69 ) ) ) by L517 , L491 , L170;
L519: [ R11 , R10 ] in [: ( dom ( C68 * C69 ) ) , ( Seg ( width ( C68 * C69 ) ) ) :] by L518 , L515 , ZFMISC_1:87;
L520: [ R11 , R10 ] in ( Indices ( C68 * C69 ) ) by L519;
L521: ( Line (( C69 @ ) , R10) ) = ( Col (C69 , R10) ) by L517 , MATRIX_2:15;
thus L522: ( ( ( C69 @ ) * ( C68 @ ) ) * (R10 , R11) ) = ( ( Col (C69 , R10) ) "*" ( Line (C68 , R11) ) ) by L521 , L495 , L503 , L512 , L170
.= ( ( Line (C68 , R11) ) "*" ( Col (C69 , R10) ) ) by FVSUM_1:90
.= ( ( C68 * C69 ) * (R11 , R10) ) by L491 , L520 , L170
.= ( ( ( C68 * C69 ) @ ) * (R10 , R11) ) by L520 , MATRIX_1:def 6;
end;
end;
L524: ( width ( C68 @ ) ) = ( len C68 )
proof
per cases ;
suppose L525: ( width C68 ) = ( 0 );

thus L526: thesis by L525 , L491 , L492 , MATRIX_1:def 3;
end;
suppose L527: ( width C68 ) > ( 0 );

thus L528: thesis by L527 , MATRIX_2:10;
end;
end;
L530: ( len ( ( C68 * C69 ) @ ) ) = ( width ( C68 * C69 ) ) by MATRIX_1:def 6
.= ( width C69 ) by L491 , L170;
thus L531: thesis by L530 , L498 , L500 , L499 , L502 , L524 , MATRIX_1:21;
end;
begin
definition
let C70 , C71 being non  empty set;
let C72 being (Element of ( Fin C70 ));
let C73 being (Element of ( Fin C71 ));
redefine func [:C72 , C73 :] -> (Element of ( Fin [: C70 , C71 :] ));

coherence
proof
L532: (C72 c= C70 & C73 c= C71) by FINSUB_1:def 5;
L533: [: C72 , C73 :] c= [: C70 , C71 :] by L532 , ZFMISC_1:96;
thus L534: thesis by L533 , FINSUB_1:def 5;
end;
end;
definition
let C74 , C75 , C76 being non  empty set;
let C77 being (BinOp of C76);
let C78 being (Function of C74 , C76);
let C79 being (Function of C75 , C76);
redefine func C77 * (C78 , C79) -> (Function of [: C74 , C75 :] , C76);

coherence by FINSEQOP:79;
end;
theorem
L537: (for B46 , B47 , B48 being non  empty set holds (for B49 , B50 being (BinOp of B48) holds (for B51 being (Function of B46 , B48) holds (for B52 being (Function of B47 , B48) holds (for B53 being (Element of ( Fin B46 )) holds (for B54 being (Element of ( Fin B47 )) holds ((B49 is  commutative & B49 is  associative & ([: B54 , B53 :] <> ( {} ) or B49 is  having_a_unity) & B50 is  commutative) implies ( B49 $$ ([: B53 , B54 :] , ( B50 * (B51 , B52) )) ) = ( B49 $$ ([: B54 , B53 :] , ( B50 * (B52 , B51) )) ))))))))
proof
deffunc H5(set , set) = [ $2 , $1 ];
let C80 , C81 , C82 being non  empty set;
let C83 , C84 being (BinOp of C82);
let C85 being (Function of C80 , C82);
let C86 being (Function of C81 , C82);
let C87 being (Element of ( Fin C80 ));
let C88 being (Element of ( Fin C81 ));
assume L538: (C83 is  commutative & C83 is  associative & ([: C88 , C87 :] <> ( {} ) or C83 is  having_a_unity));
consider C89 being Function such that L539: (( dom C89 ) = [: C81 , C80 :] & (for R1 being set holds (for R2 being set holds ((R1 in C81 & R2 in C80) implies ( C89 . (R1 , R2) ) = H5(R1 , R2))))) from FUNCT_3:sch 2;
L540:
now
let R8 being set;
let R9 being set;
assume that
L541: R8 in ( dom C89 )
and
L542: R9 in ( dom C89 )
and
L543: ( C89 . R8 ) = ( C89 . R9 );
consider R5 being set, R7 being set such that L544: R9 = [ R5 , R7 ] by L539 , L542 , RELAT_1:def 1;
L545: (R5 in C81 & R7 in C80) by L539 , L542 , L544 , ZFMISC_1:87;
L546: ( C89 . (R5 , R7) ) = [ R7 , R5 ] by L545 , L539;
consider R4 being set, R6 being set such that L547: R8 = [ R4 , R6 ] by L539 , L541 , RELAT_1:def 1;
L548: (R4 in C81 & R6 in C80) by L539 , L541 , L547 , ZFMISC_1:87;
L549: ( C89 . (R4 , R6) ) = [ R6 , R4 ] by L548 , L539;
L550: R6 = R7 by L549 , L543 , L547 , L544 , L546 , XTUPLE_0:1;
thus L551: R8 = R9 by L550 , L543 , L547 , L544 , L549 , L546 , XTUPLE_0:1;
end;
L552: C89 is  one-to-one by L540 , FUNCT_1:def 4;
L553: (for R1 being set holds (R1 in [: C81 , C80 :] implies ( C89 . R1 ) in [: C80 , C81 :]))
proof
let R1 being set;
assume L554: R1 in [: C81 , C80 :];
consider R2 being set, R3 being set such that L555: R1 = [ R2 , R3 ] by L554 , RELAT_1:def 1;
L556: (R2 in C81 & R3 in C80) by L554 , L555 , ZFMISC_1:87;
L557: ( C89 . (R2 , R3) ) = [ R3 , R2 ] by L556 , L539;
thus L558: thesis by L557 , L555 , L556 , ZFMISC_1:87;
end;
assume L559: C84 is  commutative;
L560: ( C84 * (C86 , C85) ) = ( ( C84 * (C85 , C86) ) * C89 )
proof
reconsider D39 = C84 as (Function of [: C82 , C82 :] , C82);
L561: ( dom ( D39 * (C86 , C85) ) ) = [: C81 , C80 :] by FUNCT_2:def 1;
L562: ( dom ( D39 * (C85 , C86) ) ) = [: C80 , C81 :] by FUNCT_2:def 1;
L563: (for R1 being set holds (R1 in ( dom ( D39 * (C86 , C85) ) ) iff (R1 in ( dom C89 ) & ( C89 . R1 ) in ( dom ( D39 * (C85 , C86) ) ))))
proof
let R1 being set;
thus L564: (R1 in ( dom ( D39 * (C86 , C85) ) ) implies (R1 in ( dom C89 ) & ( C89 . R1 ) in ( dom ( D39 * (C85 , C86) ) )))
proof
assume L565: R1 in ( dom ( D39 * (C86 , C85) ) );
consider R2 being set, R3 being set such that L566: R1 = [ R2 , R3 ] by L565 , RELAT_1:def 1;
L567: (R2 in C81 & R3 in C80) by L561 , L565 , L566 , ZFMISC_1:87;
L568: ( C89 . (R2 , R3) ) = [ R3 , R2 ] by L567 , L539;
thus L569: thesis by L568 , L539 , L562 , L566 , L567 , ZFMISC_1:87;
end;

assume that
L570: R1 in ( dom C89 )
and
L571: ( C89 . R1 ) in ( dom ( D39 * (C85 , C86) ) );
thus L572: thesis by L539 , L570 , FUNCT_2:def 1;
end;
L573: (for R1 being set holds (R1 in ( dom ( D39 * (C86 , C85) ) ) implies ( ( D39 * (C86 , C85) ) . R1 ) = ( ( D39 * (C85 , C86) ) . ( C89 . R1 ) )))
proof
let R1 being set;
assume L574: R1 in ( dom ( D39 * (C86 , C85) ) );
consider R2 being set, R3 being set such that L575: R1 = [ R2 , R3 ] by L574 , RELAT_1:def 1;
reconsider D40 = R3 as (Element of C80) by L561 , L574 , L575 , ZFMISC_1:87;
reconsider D41 = R2 as (Element of C81) by L561 , L574 , L575 , ZFMISC_1:87;
L576: [ D40 , D41 ] in ( dom ( D39 * (C85 , C86) ) ) by L562 , ZFMISC_1:87;
L577: [ D41 , D40 ] in ( dom ( D39 * (C86 , C85) ) ) by L561 , ZFMISC_1:87;
thus L578: ( ( D39 * (C85 , C86) ) . ( C89 . R1 ) ) = ( ( D39 * (C85 , C86) ) . ( C89 . (D41 , D40) ) ) by L575
.= ( ( D39 * (C85 , C86) ) . (D40 , D41) ) by L539
.= ( D39 . (( C85 . D40 ) , ( C86 . D41 )) ) by L576 , FINSEQOP:77
.= ( D39 . (( C86 . D41 ) , ( C85 . D40 )) ) by L559 , BINOP_1:def 2
.= ( ( D39 * (C86 , C85) ) . (D41 , D40) ) by L577 , FINSEQOP:77
.= ( ( D39 * (C86 , C85) ) . R1 ) by L575;
end;
thus L579: thesis by L573 , L563 , FUNCT_1:10;
end;
L580: (C87 c= C80 & C88 c= C81) by FINSUB_1:def 5;
L581: (for R2 being set holds (R2 in [: C87 , C88 :] iff R2 in ( C89 .: [: C88 , C87 :] )))
proof
let R2 being set;
thus L582: (R2 in [: C87 , C88 :] implies R2 in ( C89 .: [: C88 , C87 :] ))
proof
assume L583: R2 in [: C87 , C88 :];
consider R6 being set, R4 being set such that L584: R2 = [ R6 , R4 ] by L583 , RELAT_1:def 1;
L585: (R6 in C87 & R4 in C88) by L583 , L584 , ZFMISC_1:87;
L586: ([ R4 , R6 ] in [: C88 , C87 :] & [ R4 , R6 ] in ( dom C89 )) by L585 , L580 , L539 , ZFMISC_1:87;
L587: ( C89 . (R4 , R6) ) = R2 by L580 , L539 , L584 , L585;
thus L588: thesis by L587 , L586 , FUNCT_1:def 6;
end;

assume L589: R2 in ( C89 .: [: C88 , C87 :] );
consider R1 being set such that L590: R1 in ( dom C89 ) and L591: R1 in [: C88 , C87 :] and L592: R2 = ( C89 . R1 ) by L589 , FUNCT_1:def 6;
consider R4 being set, R6 being set such that L593: R1 = [ R4 , R6 ] by L591 , RELAT_1:def 1;
L594: (R4 in C88 & R6 in C87) by L591 , L593 , ZFMISC_1:87;
L595: R2 = ( C89 . (R4 , R6) ) by L592 , L593;
L596: R2 = [ R6 , R4 ] by L595 , L580 , L539 , L594;
thus L597: thesis by L596 , L594 , ZFMISC_1:87;
end;
L598: ( C89 .: [: C88 , C87 :] ) = [: C87 , C88 :] by L581 , TARSKI:1;
reconsider D42 = C89 as (Function of [: C81 , C80 :] , [: C80 , C81 :]) by L539 , L553 , FUNCT_2:3;
L599: ( C83 $$ ([: C87 , C88 :] , ( C84 * (C85 , C86) )) ) = ( C83 $$ ([: C88 , C87 :] , ( ( C84 * (C85 , C86) ) * D42 )) ) by L538 , L552 , L598 , SETWOP_2:6
.= ( C83 $$ ([: C88 , C87 :] , ( C84 * (C86 , C85) )) ) by L560;
thus L600: thesis by L599;
end;
theorem
L601: (for R16 being non  empty set holds (for B55 , B56 being non  empty set holds (for B57 , B58 being (BinOp of R16) holds (for B59 being (Function of B55 , R16) holds (for B60 being (Function of B56 , R16) holds ((B57 is  commutative & B57 is  associative) implies (for B61 being (Element of B55) holds (for B62 being (Element of B56) holds ( B57 $$ ([: {. B61 .} , {. B62 .} :] , ( B58 * (B59 , B60) )) ) = ( B57 $$ ({. B61 .} , ( B58 [:] (B59 , ( B57 $$ ({. B62 .} , B60) )) )) )))))))))
proof
let R16 being non  empty set;
let C90 , C91 being non  empty set;
let C92 , C93 being (BinOp of R16);
let C94 being (Function of C90 , R16);
let C95 being (Function of C91 , R16);
assume L602: (C92 is  commutative & C92 is  associative);
reconsider D43 = C93 as (Function of [: R16 , R16 :] , R16);
L603: ( dom ( D43 * (C94 , C95) ) ) = [: C90 , C91 :] by FUNCT_2:def 1;
L604:
now
let C96 being (Element of C90);
let C97 being (Element of C91);
L605: [ C96 , C97 ] in [: C90 , C91 :] by ZFMISC_1:87;
reconsider D44 = ( C95 . C97 ) as (Element of R16);
reconsider D45 = [ C96 , C97 ] as (Element of [: C90 , C91 :]) by ZFMISC_1:87;
L606: ( dom <: C94 , ( ( dom C94 ) --> D44 ) :> ) = ( ( dom C94 ) /\ ( dom ( ( dom C94 ) --> D44 ) ) ) by FUNCT_3:def 7
.= ( ( dom C94 ) /\ ( dom C94 ) ) by FUNCOP_1:13
.= ( dom C94 );
L607: (( rng C94 ) c= R16 & ( rng ( ( dom C94 ) --> D44 ) ) c= R16) by RELAT_1:def 19;
L608: [: ( rng C94 ) , ( rng ( ( dom C94 ) --> D44 ) ) :] c= [: R16 , R16 :] by L607 , ZFMISC_1:96;
L609: ( dom C94 ) = C90 by FUNCT_2:def 1;
L610: C96 in ( dom <: C94 , ( ( dom C94 ) --> D44 ) :> ) by L609 , L606;
L611: (( dom D43 ) = [: R16 , R16 :] & ( rng <: C94 , ( ( dom C94 ) --> D44 ) :> ) c= [: ( rng C94 ) , ( rng ( ( dom C94 ) --> D44 ) ) :]) by FUNCT_2:def 1 , FUNCT_3:51;
L612: C96 in ( dom ( D43 * <: C94 , ( ( dom C94 ) --> D44 ) :> ) ) by L611 , L610 , L608 , RELAT_1:27 , XBOOLE_1:1;
L613: C96 in ( dom ( D43 [:] (C94 , D44) ) ) by L612 , FUNCOP_1:def 4;
L614: ( C92 $$ ({. C96 .} , ( D43 [:] (C94 , ( C92 $$ ({. C97 .} , C95) )) )) ) = ( ( D43 [:] (C94 , ( C92 $$ ({. C97 .} , C95) )) ) . C96 ) by L602 , SETWISEO:17
.= ( ( D43 [:] (C94 , ( C95 . C97 )) ) . C96 ) by L602 , SETWISEO:17
.= ( D43 . (( C94 . C96 ) , ( C95 . C97 )) ) by L613 , FUNCOP_1:27;
L615: ( C92 $$ ([: {. C96 .} , {. C97 .} :] , ( D43 * (C94 , C95) )) ) = ( C92 $$ ({. D45 .} , ( D43 * (C94 , C95) )) ) by ZFMISC_1:29
.= ( ( D43 * (C94 , C95) ) . (C96 , C97) ) by L602 , SETWISEO:17
.= ( D43 . (( C94 . C96 ) , ( C95 . C97 )) ) by L603 , L605 , FINSEQOP:77;
thus L616: ( C92 $$ ([: {. C96 .} , {. C97 .} :] , ( D43 * (C94 , C95) )) ) = ( C92 $$ ({. C96 .} , ( D43 [:] (C94 , ( C92 $$ ({. C97 .} , C95) )) )) ) by L615 , L614;
end;
thus L617: thesis by L604;
end;
theorem
L618: (for R16 being non  empty set holds (for B63 , B64 being non  empty set holds (for B65 , B66 being (BinOp of R16) holds (for B67 being (Function of B63 , R16) holds (for B68 being (Function of B64 , R16) holds (for B69 being (Element of ( Fin B63 )) holds (for B70 being (Element of ( Fin B64 )) holds ((B65 is  commutative & B65 is  associative & B65 is  having_a_unity & B65 is  having_an_inverseOp & B66 is_distributive_wrt B65) implies (for B71 being (Element of B63) holds ( B65 $$ ([: {. B71 .} , B70 :] , ( B66 * (B67 , B68) )) ) = ( B65 $$ ({. B71 .} , ( B66 [:] (B67 , ( B65 $$ (B70 , B68) )) )) ))))))))))
proof
let R16 being non  empty set;
let C98 , C99 being non  empty set;
let C100 , C101 being (BinOp of R16);
let C102 being (Function of C98 , R16);
let C103 being (Function of C99 , R16);
let C104 being (Element of ( Fin C98 ));
let C105 being (Element of ( Fin C99 ));
assume that
L619: C100 is  commutative
and
L620: C100 is  associative
and
L621: C100 is  having_a_unity
and
L622: C100 is  having_an_inverseOp
and
L623: C101 is_distributive_wrt C100;
L624:
now
let C106 being (Element of C98);
defpred S2[ (Element of ( Fin C99 )) ] means ( C100 $$ ([: {. C106 .} , $1 :] , ( C101 * (C102 , C103) )) ) = ( C100 $$ ({. C106 .} , ( C101 [:] (C102 , ( C100 $$ ($1 , C103) )) )) );
L625: S2[ ( {}. C99 ) ]
proof
set D46 = ( the_unity_wrt C100 );
reconsider D47 = ( {}. [: C98 , C99 :] ) as (Element of ( Fin [: C98 , C99 :] ));
L626: D47 = [: { C106 } , ( {}. C99 ) :] by ZFMISC_1:90;
L627: ( dom <: C102 , ( ( dom C102 ) --> D46 ) :> ) = ( ( dom C102 ) /\ ( dom ( ( dom C102 ) --> D46 ) ) ) by FUNCT_3:def 7
.= ( ( dom C102 ) /\ ( dom C102 ) ) by FUNCOP_1:13
.= ( dom C102 );
L628: (( rng C102 ) c= R16 & ( rng ( ( dom C102 ) --> D46 ) ) c= R16) by RELAT_1:def 19;
L629: [: ( rng C102 ) , ( rng ( ( dom C102 ) --> D46 ) ) :] c= [: R16 , R16 :] by L628 , ZFMISC_1:96;
L630: ( dom C102 ) = C98 by FUNCT_2:def 1;
L631: C106 in ( dom <: C102 , ( ( dom C102 ) --> D46 ) :> ) by L630 , L627;
L632: (( dom C101 ) = [: R16 , R16 :] & ( rng <: C102 , ( ( dom C102 ) --> D46 ) :> ) c= [: ( rng C102 ) , ( rng ( ( dom C102 ) --> D46 ) ) :]) by FUNCT_2:def 1 , FUNCT_3:51;
L633: C106 in ( dom ( C101 * <: C102 , ( ( dom C102 ) --> D46 ) :> ) ) by L632 , L631 , L629 , RELAT_1:27 , XBOOLE_1:1;
L634: C106 in ( dom ( C101 [:] (C102 , D46) ) ) by L633 , FUNCOP_1:def 4;
L635: ( C100 $$ ({. C106 .} , ( C101 [:] (C102 , ( C100 $$ (( {}. C99 ) , C103) )) )) ) = ( C100 $$ ({. C106 .} , ( C101 [:] (C102 , ( the_unity_wrt C100 )) )) ) by L619 , L620 , L621 , SETWISEO:31
.= ( ( C101 [:] (C102 , ( the_unity_wrt C100 )) ) . C106 ) by L619 , L620 , SETWISEO:17
.= ( C101 . (( C102 . C106 ) , ( the_unity_wrt C100 )) ) by L634 , FUNCOP_1:27
.= ( the_unity_wrt C100 ) by L620 , L621 , L622 , L623 , FINSEQOP:66;
thus L636: thesis by L635 , L619 , L620 , L621 , L626 , SETWISEO:31;
end;
L637: (for B72 being (Element of ( Fin C99 )) holds (for B73 being (Element of C99) holds (S2[ B72 ] implies S2[ ( B72 \/ {. B73 .} ) ])))
proof
let C107 being (Element of ( Fin C99 ));
let C108 being (Element of C99);
assume L638: ( C100 $$ ([: {. C106 .} , C107 :] , ( C101 * (C102 , C103) )) ) = ( C100 $$ ({. C106 .} , ( C101 [:] (C102 , ( C100 $$ (C107 , C103) )) )) );
reconsider D48 = {. C108 .} as (Element of ( Fin C99 ));
per cases ;
suppose L639: C108 in C107;

L640: ( C107 \/ { C108 } ) = C107 by L639 , ZFMISC_1:40;
thus L641: thesis by L640 , L638;
end;
suppose L642: (not C108 in C107);

L643: C107 misses { C108 } by L642 , ZFMISC_1:50;
L644: [: { C106 } , C107 :] misses [: { C106 } , D48 :] by L643 , ZFMISC_1:104;
thus L645: ( C100 $$ ([: {. C106 .} , ( C107 \/ {. C108 .} ) :] , ( C101 * (C102 , C103) )) ) = ( C100 $$ (( [: {. C106 .} , C107 :] \/ [: {. C106 .} , D48 :] ) , ( C101 * (C102 , C103) )) ) by ZFMISC_1:97
.= ( C100 . (( C100 $$ ([: {. C106 .} , C107 :] , ( C101 * (C102 , C103) )) ) , ( C100 $$ ([: {. C106 .} , D48 :] , ( C101 * (C102 , C103) )) )) ) by L619 , L620 , L621 , L644 , SETWOP_2:4
.= ( C100 . (( C100 $$ ({. C106 .} , ( C101 [:] (C102 , ( C100 $$ (C107 , C103) )) )) ) , ( C100 $$ ({. C106 .} , ( C101 [:] (C102 , ( C100 $$ (D48 , C103) )) )) )) ) by L619 , L620 , L638 , L601
.= ( C100 $$ ({. C106 .} , ( C100 .: (( C101 [:] (C102 , ( C100 $$ (C107 , C103) )) ) , ( C101 [:] (C102 , ( C100 $$ (D48 , C103) )) )) )) ) by L619 , L620 , L621 , SETWOP_2:10
.= ( C100 $$ ({. C106 .} , ( C101 [:] (C102 , ( C100 . (( C100 $$ (C107 , C103) ) , ( C100 $$ (D48 , C103) )) )) )) ) by L623 , FINSEQOP:36
.= ( C100 $$ ({. C106 .} , ( C101 [:] (C102 , ( C100 $$ (( C107 \/ {. C108 .} ) , C103) )) )) ) by L619 , L620 , L621 , L643 , SETWOP_2:4;
end;
end;
thus L647: (for B74 being (Element of ( Fin C99 )) holds S2[ B74 ]) from SETWISEO:sch 4(L625 , L637);
end;
thus L648: thesis by L624;
end;
theorem
L649: (for R16 being non  empty set holds (for B75 , B76 being non  empty set holds (for B77 , B78 being (BinOp of R16) holds (for B79 being (Function of B75 , R16) holds (for B80 being (Function of B76 , R16) holds (for B81 being (Element of ( Fin B75 )) holds (for B82 being (Element of ( Fin B76 )) holds ((B77 is  having_a_unity & B77 is  commutative & B77 is  associative & B77 is  having_an_inverseOp & B78 is_distributive_wrt B77) implies ( B77 $$ ([: B81 , B82 :] , ( B78 * (B79 , B80) )) ) = ( B77 $$ (B81 , ( B78 [:] (B79 , ( B77 $$ (B82 , B80) )) )) )))))))))
proof
let R16 being non  empty set;
let C109 , C110 being non  empty set;
let C111 , C112 being (BinOp of R16);
let C113 being (Function of C109 , R16);
let C114 being (Function of C110 , R16);
let C115 being (Element of ( Fin C109 ));
let C116 being (Element of ( Fin C110 ));
assume that
L650: (C111 is  having_a_unity & C111 is  commutative & C111 is  associative)
and
L651: (C111 is  having_an_inverseOp & C112 is_distributive_wrt C111);
defpred S3[ (Element of ( Fin C109 )) ] means ( C111 $$ ([: $1 , C116 :] , ( C112 * (C113 , C114) )) ) = ( C111 $$ ($1 , ( C112 [:] (C113 , ( C111 $$ (C116 , C114) )) )) );
L652: (for B83 being (Element of ( Fin C109 )) holds (for B84 being (Element of C109) holds (S3[ B83 ] implies S3[ ( B83 \/ {. B84 .} ) ])))
proof
let C117 being (Element of ( Fin C109 ));
let C118 being (Element of C109);
reconsider D49 = {. C118 .} as (Element of ( Fin C109 ));
assume L653: ( C111 $$ ([: C117 , C116 :] , ( C112 * (C113 , C114) )) ) = ( C111 $$ (C117 , ( C112 [:] (C113 , ( C111 $$ (C116 , C114) )) )) );
L654:
now
per cases ;
case L655: C118 in C117;
L656: ( C117 \/ { C118 } ) = C117 by L655 , ZFMISC_1:40;
thus L657: thesis by L656 , L653;
end;
case L658: (not C118 in C117);
L659: C117 misses { C118 } by L658 , ZFMISC_1:50;
L660: [: C117 , C116 :] misses [: D49 , C116 :] by L659 , ZFMISC_1:104;
thus L661: ( C111 $$ ([: ( C117 \/ {. C118 .} ) , C116 :] , ( C112 * (C113 , C114) )) ) = ( C111 $$ (( [: C117 , C116 :] \/ [: D49 , C116 :] ) , ( C112 * (C113 , C114) )) ) by ZFMISC_1:97
.= ( C111 . (( C111 $$ ([: C117 , C116 :] , ( C112 * (C113 , C114) )) ) , ( C111 $$ ([: D49 , C116 :] , ( C112 * (C113 , C114) )) )) ) by L650 , L660 , SETWOP_2:4
.= ( C111 . (( C111 $$ (C117 , ( C112 [:] (C113 , ( C111 $$ (C116 , C114) )) )) ) , ( C111 $$ (D49 , ( C112 [:] (C113 , ( C111 $$ (C116 , C114) )) )) )) ) by L650 , L651 , L653 , L618
.= ( C111 $$ (( C117 \/ {. C118 .} ) , ( C112 [:] (C113 , ( C111 $$ (C116 , C114) )) )) ) by L650 , L659 , SETWOP_2:4;
end;
end;
thus L663: thesis by L654;
end;
L664: S3[ ( {}. C109 ) ]
proof
reconsider D50 = ( {}. [: C109 , C110 :] ) as (Element of ( Fin [: C109 , C110 :] ));
L665: D50 = [: ( {}. C109 ) , C116 :] by ZFMISC_1:90;
L666: ( C111 $$ ([: ( {}. C109 ) , C116 :] , ( C112 * (C113 , C114) )) ) = ( the_unity_wrt C111 ) by L665 , L650 , SETWISEO:31;
thus L667: thesis by L666 , L650 , SETWISEO:31;
end;
L668: (for B85 being (Element of ( Fin C109 )) holds S3[ B85 ]) from SETWISEO:sch 4(L664 , L652);
thus L669: thesis by L668;
end;
theorem
L670: (for R16 being non  empty set holds (for B86 , B87 being non  empty set holds (for B88 , B89 being (BinOp of R16) holds (for B90 being (Function of B86 , R16) holds (for B91 being (Function of B87 , R16) holds ((B88 is  commutative  associative & B89 is  commutative) implies (for B92 being (Element of B86) holds (for B93 being (Element of B87) holds ( B88 $$ ([: {. B92 .} , {. B93 .} :] , ( B89 * (B90 , B91) )) ) = ( B88 $$ ({. B93 .} , ( B89 [;] (( B88 $$ ({. B92 .} , B90) ) , B91) )) )))))))))
proof
let R16 being non  empty set;
let C119 , C120 being non  empty set;
let C121 , C122 being (BinOp of R16);
let C123 being (Function of C119 , R16);
let C124 being (Function of C120 , R16);
assume that
L671: C121 is  commutative  associative
and
L672: C122 is  commutative;
L673:
now
let C125 being (Element of C119);
let C126 being (Element of C120);
thus L674: ( C121 $$ ([: {. C125 .} , {. C126 .} :] , ( C122 * (C123 , C124) )) ) = ( C121 $$ ([: {. C126 .} , {. C125 .} :] , ( C122 * (C124 , C123) )) ) by L671 , L672 , L537
.= ( C121 $$ ({. C126 .} , ( C122 [:] (C124 , ( C121 $$ ({. C125 .} , C123) )) )) ) by L671 , L601
.= ( C121 $$ ({. C126 .} , ( C122 [;] (( C121 $$ ({. C125 .} , C123) ) , C124) )) ) by L672 , FUNCOP_1:64;
end;
thus L675: thesis by L673;
end;
theorem
L676: (for R16 being non  empty set holds (for B94 , B95 being non  empty set holds (for B96 , B97 being (BinOp of R16) holds (for B98 being (Function of B94 , R16) holds (for B99 being (Function of B95 , R16) holds (for B100 being (Element of ( Fin B94 )) holds (for B101 being (Element of ( Fin B95 )) holds ((B96 is  having_a_unity & B96 is  commutative  associative & B96 is  having_an_inverseOp & B97 is_distributive_wrt B96 & B97 is  commutative) implies ( B96 $$ ([: B100 , B101 :] , ( B97 * (B98 , B99) )) ) = ( B96 $$ (B101 , ( B97 [;] (( B96 $$ (B100 , B98) ) , B99) )) )))))))))
proof
let R16 being non  empty set;
let C127 , C128 being non  empty set;
let C129 , C130 being (BinOp of R16);
let C131 being (Function of C127 , R16);
let C132 being (Function of C128 , R16);
let C133 being (Element of ( Fin C127 ));
let C134 being (Element of ( Fin C128 ));
assume that
L677: (C129 is  having_a_unity & C129 is  commutative & C129 is  associative)
and
L678: (C129 is  having_an_inverseOp & C130 is_distributive_wrt C129)
and
L679: C130 is  commutative;
thus L680: ( C129 $$ ([: C133 , C134 :] , ( C130 * (C131 , C132) )) ) = ( C129 $$ ([: C134 , C133 :] , ( C130 * (C132 , C131) )) ) by L677 , L679 , L537
.= ( C129 $$ (C134 , ( C130 [:] (C132 , ( C129 $$ (C133 , C131) )) )) ) by L677 , L678 , L649
.= ( C129 $$ (C134 , ( C130 [;] (( C129 $$ (C133 , C131) ) , C132) )) ) by L679 , FUNCOP_1:64;
end;
theorem
L681: (for R16 being non  empty set holds (for B102 , B103 being non  empty set holds (for B104 being (BinOp of R16) holds (for B105 being (Function of [: B102 , B103 :] , R16) holds (for B106 being (Function of B102 , R16) holds (for B107 being (Element of ( Fin B103 )) holds (B104 is  having_a_unity  commutative  associative implies (for B108 being (Element of B102) holds ((for B109 being (Element of B102) holds ( B106 . B109 ) = ( B104 $$ (B107 , ( ( curry B105 ) . B109 )) )) implies ( B104 $$ ([: {. B108 .} , B107 :] , B105) ) = ( B104 $$ ({. B108 .} , B106) ))))))))))
proof
let R16 being non  empty set;
let C135 , C136 being non  empty set;
let C137 being (BinOp of R16);
let C138 being (Function of [: C135 , C136 :] , R16);
let C139 being (Function of C135 , R16);
let C140 being (Element of ( Fin C136 ));
assume that
L682: C137 is  having_a_unity
and
L683: (C137 is  commutative & C137 is  associative);
L684:
now
let C141 being (Element of C135);
assume L685: (for B110 being (Element of C135) holds ( C139 . B110 ) = ( C137 $$ (C140 , ( ( curry C138 ) . B110 )) ));
deffunc H6(set) = [ C141 , $1 ];
consider C142 being Function such that L686: (( dom C142 ) = C136 & (for R2 being set holds (R2 in C136 implies ( C142 . R2 ) = H6(R2)))) from FUNCT_1:sch 3;
L687: (( dom ( ( curry C138 ) . C141 ) ) = C136 & ( dom ( C138 * C142 ) ) = C136 & ( rng C142 ) c= [: C135 , C136 :])
proof
L688: ( dom C138 ) = [: C135 , C136 :] by FUNCT_2:def 1;
L689: (ex B111 being Function st (B111 = ( ( curry C138 ) . C141 ) & ( dom B111 ) = C136 & ( rng B111 ) c= ( rng C138 ) & (for R2 being set holds (R2 in C136 implies ( B111 . R2 ) = ( C138 . (C141 , R2) ))))) by L688 , FUNCT_5:29;
thus L690: ( dom ( ( curry C138 ) . C141 ) ) = C136 by L689;
L691:
now
let R2 being set;
assume L692: R2 in ( rng C142 );
consider R3 being set such that L693: R3 in ( dom C142 ) and L694: R2 = ( C142 . R3 ) by L692 , FUNCT_1:def 3;
L695: R2 = [ C141 , R3 ] by L686 , L693 , L694;
thus L696: R2 in ( dom C138 ) by L695 , L686 , L688 , L693 , ZFMISC_1:87;
end;
L697: ( rng C142 ) c= ( dom C138 ) by L691 , TARSKI:def 3;
thus L698: thesis by L697 , L686 , FUNCT_2:def 1 , RELAT_1:27;
end;
L699: (for R2 being set holds (R2 in C136 implies ( ( ( curry C138 ) . C141 ) . R2 ) = ( ( C138 * C142 ) . R2 )))
proof
let R2 being set;
L700: ( dom C138 ) = [: C135 , C136 :] by FUNCT_2:def 1;
L701: (ex B112 being Function st (B112 = ( ( curry C138 ) . C141 ) & ( dom B112 ) = C136 & ( rng B112 ) c= ( rng C138 ) & (for R2 being set holds (R2 in C136 implies ( B112 . R2 ) = ( C138 . (C141 , R2) ))))) by L700 , FUNCT_5:29;
assume L702: R2 in C136;
thus L703: ( ( C138 * C142 ) . R2 ) = ( C138 . ( C142 . R2 ) ) by L702 , L687 , FUNCT_1:12
.= ( C138 . (C141 , R2) ) by L686 , L702
.= ( ( ( curry C138 ) . C141 ) . R2 ) by L702 , L701;
end;
L704: (for R2 being set holds (R2 in [: { C141 } , C140 :] iff R2 in ( C142 .: C140 )))
proof
let R2 being set;
thus L705: (R2 in [: { C141 } , C140 :] implies R2 in ( C142 .: C140 ))
proof
assume L706: R2 in [: { C141 } , C140 :];
consider R6 being set, R4 being set such that L707: R2 = [ R6 , R4 ] by L706 , RELAT_1:def 1;
L708: R6 in { C141 } by L706 , L707 , ZFMISC_1:87;
L709: (C140 c= C136 & R4 in C140) by L706 , L707 , FINSUB_1:def 5 , ZFMISC_1:87;
L710: ( C142 . R4 ) = [ C141 , R4 ] by L709 , L686
.= R2 by L707 , L708 , TARSKI:def 1;
thus L711: thesis by L710 , L686 , L709 , FUNCT_1:def 6;
end;

assume L712: R2 in ( C142 .: C140 );
consider R3 being set such that L713: R3 in ( dom C142 ) and L714: R3 in C140 and L715: R2 = ( C142 . R3 ) by L712 , FUNCT_1:def 6;
L716: R2 = [ C141 , R3 ] by L686 , L713 , L715;
thus L717: thesis by L716 , L714 , ZFMISC_1:105;
end;
L718: ( C142 .: C140 ) = [: { C141 } , C140 :] by L704 , TARSKI:1;
L719:
now
let R4 being set;
let R5 being set;
assume that
L720: R4 in ( dom C142 )
and
L721: R5 in ( dom C142 )
and
L722: ( C142 . R4 ) = ( C142 . R5 );
L723: [ C141 , R4 ] = ( C142 . R5 ) by L686 , L720 , L722
.= [ C141 , R5 ] by L686 , L721;
thus L724: R4 = R5 by L723 , XTUPLE_0:1;
end;
L725: C142 is  one-to-one by L719 , FUNCT_1:def 4;
reconsider D51 = C142 as (Function of C136 , [: C135 , C136 :]) by L686 , L687 , FUNCT_2:2;
thus L726: ( C137 $$ ([: {. C141 .} , C140 :] , C138) ) = ( C137 $$ (C140 , ( C138 * D51 )) ) by L682 , L683 , L725 , L718 , SETWOP_2:6
.= ( C137 $$ (C140 , ( ( curry C138 ) . C141 )) ) by L687 , L699 , FUNCT_1:2
.= ( C139 . C141 ) by L685
.= ( C137 $$ ({. C141 .} , C139) ) by L683 , SETWISEO:17;
end;
thus L727: thesis by L684;
end;
theorem
L728: (for R16 being non  empty set holds (for B113 , B114 being non  empty set holds (for B115 being (BinOp of R16) holds (for B116 being (Function of [: B113 , B114 :] , R16) holds (for B117 being (Function of B113 , R16) holds (for B118 being (Element of ( Fin B113 )) holds (for B119 being (Element of ( Fin B114 )) holds (((for B120 being (Element of B113) holds ( B117 . B120 ) = ( B115 $$ (B119 , ( ( curry B116 ) . B120 )) )) & B115 is  having_a_unity & B115 is  commutative & B115 is  associative) implies ( B115 $$ ([: B118 , B119 :] , B116) ) = ( B115 $$ (B118 , B117) )))))))))
proof
let R16 being non  empty set;
let C143 , C144 being non  empty set;
let C145 being (BinOp of R16);
let C146 being (Function of [: C143 , C144 :] , R16);
let C147 being (Function of C143 , R16);
let C148 being (Element of ( Fin C143 ));
let C149 being (Element of ( Fin C144 ));
assume that
L729: (for B121 being (Element of C143) holds ( C147 . B121 ) = ( C145 $$ (C149 , ( ( curry C146 ) . B121 )) ))
and
L730: (C145 is  having_a_unity & C145 is  commutative & C145 is  associative);
defpred S4[ (Element of ( Fin C143 )) ] means ( C145 $$ ([: $1 , C149 :] , C146) ) = ( C145 $$ ($1 , C147) );
L731: (for B122 being (Element of ( Fin C143 )) holds (for B123 being (Element of C143) holds (S4[ B122 ] implies S4[ ( B122 \/ {. B123 .} ) ])))
proof
let C150 being (Element of ( Fin C143 ));
let C151 being (Element of C143);
assume L732: ( C145 $$ ([: C150 , C149 :] , C146) ) = ( C145 $$ (C150 , C147) );
reconsider D52 = {. C151 .} as (Element of ( Fin C143 ));
per cases ;
suppose L733: C151 in C150;

L734: ( C150 \/ { C151 } ) = C150 by L733 , ZFMISC_1:40;
thus L735: thesis by L734 , L732;
end;
suppose L736: (not C151 in C150);

L737: C150 misses { C151 } by L736 , ZFMISC_1:50;
L738: [: C150 , C149 :] misses [: D52 , C149 :] by L737 , ZFMISC_1:104;
thus L739: ( C145 $$ ([: ( C150 \/ {. C151 .} ) , C149 :] , C146) ) = ( C145 $$ (( [: C150 , C149 :] \/ [: D52 , C149 :] ) , C146) ) by ZFMISC_1:97
.= ( C145 . (( C145 $$ ([: C150 , C149 :] , C146) ) , ( C145 $$ ([: D52 , C149 :] , C146) )) ) by L730 , L738 , SETWOP_2:4
.= ( C145 . (( C145 $$ (C150 , C147) ) , ( C145 $$ (D52 , C147) )) ) by L729 , L730 , L732 , L681
.= ( C145 $$ (( C150 \/ {. C151 .} ) , C147) ) by L730 , L737 , SETWOP_2:4;
end;
end;
L741: S4[ ( {}. C143 ) ]
proof
reconsider D53 = ( {}. [: C143 , C144 :] ) as (Element of ( Fin [: C143 , C144 :] ));
L742: D53 = [: ( {}. C143 ) , C149 :] by ZFMISC_1:90;
L743: ( C145 $$ ([: ( {}. C143 ) , C149 :] , C146) ) = ( the_unity_wrt C145 ) by L742 , L730 , SETWISEO:31;
thus L744: thesis by L743 , L730 , SETWISEO:31;
end;
L745: (for B124 being (Element of ( Fin C143 )) holds S4[ B124 ]) from SETWISEO:sch 4(L741 , L731);
thus L746: thesis by L745;
end;
theorem
L747: (for R16 being non  empty set holds (for B125 , B126 being non  empty set holds (for B127 being (BinOp of R16) holds (for B128 being (Function of [: B125 , B126 :] , R16) holds (for B129 being (Function of B126 , R16) holds (for B130 being (Element of ( Fin B125 )) holds ((B127 is  having_a_unity & B127 is  commutative & B127 is  associative) implies (for B131 being (Element of B126) holds ((for B132 being (Element of B126) holds ( B129 . B132 ) = ( B127 $$ (B130 , ( ( curry' B128 ) . B132 )) )) implies ( B127 $$ ([: B130 , {. B131 .} :] , B128) ) = ( B127 $$ ({. B131 .} , B129) ))))))))))
proof
let R16 being non  empty set;
let C152 , C153 being non  empty set;
let C154 being (BinOp of R16);
let C155 being (Function of [: C152 , C153 :] , R16);
let C156 being (Function of C153 , R16);
let C157 being (Element of ( Fin C152 ));
assume that
L748: C154 is  having_a_unity
and
L749: (C154 is  commutative & C154 is  associative);
L750:
now
let C158 being (Element of C153);
assume L751: (for B133 being (Element of C153) holds ( C156 . B133 ) = ( C154 $$ (C157 , ( ( curry' C155 ) . B133 )) ));
deffunc H7(set) = [ $1 , C158 ];
consider C159 being Function such that L752: (( dom C159 ) = C152 & (for R1 being set holds (R1 in C152 implies ( C159 . R1 ) = H7(R1)))) from FUNCT_1:sch 3;
L753: (( dom ( ( curry' C155 ) . C158 ) ) = C152 & ( dom ( C155 * C159 ) ) = C152 & ( rng C159 ) c= [: C152 , C153 :])
proof
L754: ( dom C155 ) = [: C152 , C153 :] by FUNCT_2:def 1;
L755: (ex B134 being Function st (B134 = ( ( curry' C155 ) . C158 ) & ( dom B134 ) = C152 & ( rng B134 ) c= ( rng C155 ) & (for R1 being set holds (R1 in C152 implies ( B134 . R1 ) = ( C155 . (R1 , C158) ))))) by L754 , FUNCT_5:32;
thus L756: ( dom ( ( curry' C155 ) . C158 ) ) = C152 by L755;
L757:
now
let R1 being set;
assume L758: R1 in ( rng C159 );
consider R3 being set such that L759: R3 in ( dom C159 ) and L760: R1 = ( C159 . R3 ) by L758 , FUNCT_1:def 3;
L761: R1 = [ R3 , C158 ] by L752 , L759 , L760;
thus L762: R1 in ( dom C155 ) by L761 , L752 , L754 , L759 , ZFMISC_1:87;
end;
L763: ( rng C159 ) c= ( dom C155 ) by L757 , TARSKI:def 3;
thus L764: thesis by L763 , L752 , FUNCT_2:def 1 , RELAT_1:27;
end;
L765: (for R1 being set holds (R1 in C152 implies ( ( ( curry' C155 ) . C158 ) . R1 ) = ( ( C155 * C159 ) . R1 )))
proof
let R1 being set;
L766: ( dom C155 ) = [: C152 , C153 :] by FUNCT_2:def 1;
L767: (ex B135 being Function st (B135 = ( ( curry' C155 ) . C158 ) & ( dom B135 ) = C152 & ( rng B135 ) c= ( rng C155 ) & (for R1 being set holds (R1 in C152 implies ( B135 . R1 ) = ( C155 . (R1 , C158) ))))) by L766 , FUNCT_5:32;
assume L768: R1 in C152;
thus L769: ( ( C155 * C159 ) . R1 ) = ( C155 . ( C159 . R1 ) ) by L768 , L753 , FUNCT_1:12
.= ( C155 . (R1 , C158) ) by L752 , L768
.= ( ( ( curry' C155 ) . C158 ) . R1 ) by L768 , L767;
end;
L770: (for R1 being set holds (R1 in [: C157 , { C158 } :] iff R1 in ( C159 .: C157 )))
proof
let R1 being set;
thus L771: (R1 in [: C157 , { C158 } :] implies R1 in ( C159 .: C157 ))
proof
assume L772: R1 in [: C157 , { C158 } :];
consider R4 being set, R6 being set such that L773: R1 = [ R4 , R6 ] by L772 , RELAT_1:def 1;
L774: R6 in { C158 } by L772 , L773 , ZFMISC_1:87;
L775: (C157 c= C152 & R4 in C157) by L772 , L773 , FINSUB_1:def 5 , ZFMISC_1:87;
L776: ( C159 . R4 ) = [ R4 , C158 ] by L775 , L752
.= R1 by L773 , L774 , TARSKI:def 1;
thus L777: thesis by L776 , L752 , L775 , FUNCT_1:def 6;
end;

assume L778: R1 in ( C159 .: C157 );
consider R3 being set such that L779: R3 in ( dom C159 ) and L780: R3 in C157 and L781: R1 = ( C159 . R3 ) by L778 , FUNCT_1:def 6;
L782: R1 = [ R3 , C158 ] by L752 , L779 , L781;
thus L783: thesis by L782 , L780 , ZFMISC_1:106;
end;
L784: ( C159 .: C157 ) = [: C157 , { C158 } :] by L770 , TARSKI:1;
L785:
now
let R4 being set;
let R5 being set;
assume that
L786: R4 in ( dom C159 )
and
L787: R5 in ( dom C159 )
and
L788: ( C159 . R4 ) = ( C159 . R5 );
L789: [ R4 , C158 ] = ( C159 . R5 ) by L752 , L786 , L788
.= [ R5 , C158 ] by L752 , L787;
thus L790: R4 = R5 by L789 , XTUPLE_0:1;
end;
L791: C159 is  one-to-one by L785 , FUNCT_1:def 4;
reconsider D54 = C159 as (Function of C152 , [: C152 , C153 :]) by L752 , L753 , FUNCT_2:2;
thus L792: ( C154 $$ ([: C157 , {. C158 .} :] , C155) ) = ( C154 $$ (C157 , ( C155 * D54 )) ) by L748 , L749 , L791 , L784 , SETWOP_2:6
.= ( C154 $$ (C157 , ( ( curry' C155 ) . C158 )) ) by L753 , L765 , FUNCT_1:2
.= ( C156 . C158 ) by L751
.= ( C154 $$ ({. C158 .} , C156) ) by L749 , SETWISEO:17;
end;
thus L793: thesis by L750;
end;
theorem
L794: (for R16 being non  empty set holds (for B136 , B137 being non  empty set holds (for B138 being (BinOp of R16) holds (for B139 being (Function of [: B136 , B137 :] , R16) holds (for B140 being (Function of B137 , R16) holds (for B141 being (Element of ( Fin B136 )) holds (for B142 being (Element of ( Fin B137 )) holds (((for B143 being (Element of B137) holds ( B140 . B143 ) = ( B138 $$ (B141 , ( ( curry' B139 ) . B143 )) )) & B138 is  having_a_unity & B138 is  commutative & B138 is  associative) implies ( B138 $$ ([: B141 , B142 :] , B139) ) = ( B138 $$ (B142 , B140) )))))))))
proof
let R16 being non  empty set;
let C160 , C161 being non  empty set;
let C162 being (BinOp of R16);
let C163 being (Function of [: C160 , C161 :] , R16);
let C164 being (Function of C161 , R16);
let C165 being (Element of ( Fin C160 ));
let C166 being (Element of ( Fin C161 ));
assume that
L795: (for B144 being (Element of C161) holds ( C164 . B144 ) = ( C162 $$ (C165 , ( ( curry' C163 ) . B144 )) ))
and
L796: (C162 is  having_a_unity & C162 is  commutative & C162 is  associative);
defpred S5[ (Element of ( Fin C161 )) ] means ( C162 $$ ([: C165 , $1 :] , C163) ) = ( C162 $$ ($1 , C164) );
L797: (for B145 being (Element of ( Fin C161 )) holds (for B146 being (Element of C161) holds (S5[ B145 ] implies S5[ ( B145 \/ {. B146 .} ) ])))
proof
let C167 being (Element of ( Fin C161 ));
let C168 being (Element of C161);
assume L798: ( C162 $$ ([: C165 , C167 :] , C163) ) = ( C162 $$ (C167 , C164) );
reconsider D55 = {. C168 .} as (Element of ( Fin C161 ));
per cases ;
suppose L799: C168 in C167;

L800: ( C167 \/ { C168 } ) = C167 by L799 , ZFMISC_1:40;
thus L801: thesis by L800 , L798;
end;
suppose L802: (not C168 in C167);

L803: C167 misses { C168 } by L802 , ZFMISC_1:50;
L804: [: C165 , C167 :] misses [: C165 , D55 :] by L803 , ZFMISC_1:104;
thus L805: ( C162 $$ ([: C165 , ( C167 \/ {. C168 .} ) :] , C163) ) = ( C162 $$ (( [: C165 , C167 :] \/ [: C165 , D55 :] ) , C163) ) by ZFMISC_1:97
.= ( C162 . (( C162 $$ ([: C165 , C167 :] , C163) ) , ( C162 $$ ([: C165 , D55 :] , C163) )) ) by L796 , L804 , SETWOP_2:4
.= ( C162 . (( C162 $$ (C167 , C164) ) , ( C162 $$ (D55 , C164) )) ) by L795 , L796 , L798 , L747
.= ( C162 $$ (( C167 \/ {. C168 .} ) , C164) ) by L796 , L803 , SETWOP_2:4;
end;
end;
L807: S5[ ( {}. C161 ) ]
proof
reconsider D56 = ( {}. [: C160 , C161 :] ) as (Element of ( Fin [: C160 , C161 :] ));
L808: D56 = [: C165 , ( {}. C161 ) :] by ZFMISC_1:90;
L809: ( C162 $$ ([: C165 , ( {}. C161 ) :] , C163) ) = ( the_unity_wrt C162 ) by L808 , L796 , SETWISEO:31;
thus L810: thesis by L809 , L796 , SETWISEO:31;
end;
L811: (for B147 being (Element of ( Fin C161 )) holds S5[ B147 ]) from SETWISEO:sch 4(L807 , L797);
thus L812: thesis by L811;
end;
theorem
L813: (for R17 being Field holds (for B148 , B149 , B150 being (Matrix of R17) holds ((( width B148 ) = ( len B149 ) & ( width B149 ) = ( len B150 )) implies ( ( B148 * B149 ) * B150 ) = ( B148 * ( B149 * B150 ) ))))
proof
let R17 being Field;
let C169 , C170 , C171 being (Matrix of R17);
assume that
L814: ( width C169 ) = ( len C170 )
and
L815: ( width C170 ) = ( len C171 );
L816: ( len ( C170 * C171 ) ) = ( width C169 ) by L814 , L815 , L170;
L817: ( width ( C170 * C171 ) ) = ( width C171 ) by L815 , L170;
L818: ( width ( C169 * ( C170 * C171 ) ) ) = ( width C171 ) by L817 , L816 , L170;
L819: ( dom ( C170 * C171 ) ) = ( dom C170 ) by L814 , L816 , FINSEQ_3:29;
L820: ( Indices ( C170 * C171 ) ) = [: ( dom C170 ) , ( Seg ( width C171 ) ) :] by L819 , L817;
L821: ( Seg ( len C170 ) ) = ( dom C170 ) by FINSEQ_1:def 3;
L822: ( len ( C169 * ( C170 * C171 ) ) ) = ( len C169 ) by L816 , L170;
L823: ( dom ( C169 * ( C170 * C171 ) ) ) = ( dom C169 ) by L822 , FINSEQ_3:29;
L824: ( Indices ( C169 * ( C170 * C171 ) ) ) = [: ( dom C169 ) , ( Seg ( width C171 ) ) :] by L823 , L818;
L825: ( 0. R17 ) is_a_unity_wrt (the addF of R17) by FVSUM_1:6;
L826: (the addF of R17) is  having_a_unity by L825 , SETWISEO:def 2;
L827: ( width ( C169 * C170 ) ) = ( len C171 ) by L814 , L815 , L170;
L828: ( width ( ( C169 * C170 ) * C171 ) ) = ( width C171 ) by L827 , L170;
L829: ( len ( C169 * C170 ) ) = ( len C169 ) by L814 , L170;
L830: ( dom ( C169 * C170 ) ) = ( dom C169 ) by L829 , FINSEQ_3:29;
L831: ( Indices ( C169 * C170 ) ) = [: ( dom C169 ) , ( Seg ( width C170 ) ) :] by L830 , L815 , L827;
L832: ( len ( ( C169 * C170 ) * C171 ) ) = ( len C169 ) by L829 , L827 , L170;
L833: ( dom ( ( C169 * C170 ) * C171 ) ) = ( dom C169 ) by L832 , FINSEQ_3:29;
L834: ( Indices ( ( C169 * C170 ) * C171 ) ) = [: ( dom C169 ) , ( Seg ( width C171 ) ) :] by L833 , L828;
L835: ( Indices ( ( C169 * C170 ) * C171 ) ) = [: ( dom C169 ) , ( Seg ( width C171 ) ) :] by L828 , L833;
L836:
now
reconsider D57 = ( findom C170 ) as (Element of ( Fin ( NAT ) ));
reconsider D58 = ( findom C171 ) as (Element of ( Fin ( NAT ) ));
let R10 being Nat;
let R11 being Nat;
deffunc H8((Element of ( NAT )) , (Element of ( NAT ))) = ( ( ( C169 * (R10 , $2) ) * ( C170 * ($2 , $1) ) ) * ( C171 * ($1 , R11) ) );
consider C172 being (Function of [: ( NAT ) , ( NAT ) :] , (the carrier of R17)) such that L837: (for B151 being (Element of ( NAT )) holds (for B152 being (Element of ( NAT )) holds ( C172 . (B151 , B152) ) = H8(B151 , B152))) from BINOP_1:sch 4;
L838: (for B153 being (Element of ( NAT )) holds (B153 in ( NAT ) implies ( ( ( curry C172 ) . B153 ) | ( dom C170 ) ) = ( ( C171 * (B153 , R11) ) * ( mlt (( Line (C169 , R10) ) , ( Col (C170 , B153) )) ) )))
proof
let C173 being (Element of ( NAT ));
assume L839: C173 in ( NAT );
L840: { C173 } c= ( NAT ) by ZFMISC_1:31;
reconsider D59 = ( C171 * (C173 , R11) ) as (Element of R17);
L841: ( dom ( curry C172 ) ) = ( NAT ) by FUNCT_2:def 1;
L842: ( dom C172 ) = [: ( NAT ) , ( NAT ) :] by FUNCT_2:def 1;
L843: ( dom ( ( curry C172 ) . C173 ) ) = ( proj2 ( [: ( NAT ) , ( NAT ) :] /\ [: { C173 } , ( proj2 [: ( NAT ) , ( NAT ) :] ) :] ) ) by L842 , L841 , FUNCT_5:31
.= ( proj2 ( [: { C173 } , ( NAT ) :] /\ [: ( NAT ) , ( NAT ) :] ) ) by FUNCT_5:9
.= ( proj2 [: { C173 } , ( NAT ) :] ) by L840 , ZFMISC_1:101
.= ( NAT ) by FUNCT_5:9;
L844: ( dom ( ( ( curry C172 ) . C173 ) | ( dom C170 ) ) ) = ( ( NAT ) /\ ( dom C170 ) ) by L843 , RELAT_1:61
.= ( dom C170 ) by XBOOLE_1:28;
reconsider D60 = ( mlt (( Line (C169 , R10) ) , ( Col (C170 , C173) )) ) as (FinSequence of R17);
L845: ( len ( mlt (( Line (C169 , R10) ) , ( Col (C170 , C173) )) ) ) = ( len ( (the multF of R17) .: (( Line (C169 , R10) ) , ( Col (C170 , C173) )) ) ) by FVSUM_1:def 7;
L846: ( len ( Line (C169 , R10) ) ) = ( len C170 ) by L814 , MATRIX_1:def 7
.= ( len ( Col (C170 , C173) ) ) by MATRIX_1:def 8;
L847: ( len ( (the multF of R17) .: (( Line (C169 , R10) ) , ( Col (C170 , C173) )) ) ) = ( len ( Line (C169 , R10) ) ) by L846 , FINSEQ_2:72
.= ( len C170 ) by L814 , MATRIX_1:def 7;
L848: ( dom ( D59 multfield ) ) = (the carrier of R17) by FUNCT_2:def 1;
L849: (( D59 * D60 ) = ( ( D59 multfield ) * D60 ) & ( rng D60 ) c= ( dom ( D59 multfield ) )) by L848 , FINSEQ_1:def 4 , FVSUM_1:def 6;
L850: ( dom ( D59 * D60 ) ) = ( dom D60 ) by L849 , RELAT_1:27;
L851: ( dom ( (the multF of R17) .: (( Line (C169 , R10) ) , ( Col (C170 , C173) )) ) ) = ( Seg ( len ( (the multF of R17) .: (( Line (C169 , R10) ) , ( Col (C170 , C173) )) ) ) ) by FINSEQ_1:def 3;
L852:
now
let C174 being set;
assume L853: C174 in ( dom C170 );
reconsider D61 = C174 as (Element of ( NAT )) by L853;
L854: C174 in ( dom ( D59 * D60 ) ) by L845 , L847 , L850 , L853 , FINSEQ_3:29;
L855: D61 in ( dom D60 ) by L845 , L847 , L853 , FINSEQ_3:29;
reconsider D62 = ( D60 . D61 ) as (Element of R17) by L855 , FINSEQ_2:11;
L856: D61 in ( dom ( (the multF of R17) .: (( Line (C169 , R10) ) , ( Col (C170 , C173) )) ) ) by L847 , L851 , L853 , FINSEQ_1:def 3;
thus L857: ( ( ( ( curry C172 ) . C173 ) | ( dom C170 ) ) . C174 ) = ( ( ( curry C172 ) . C173 ) . D61 ) by L853 , FUNCT_1:49
.= ( C172 . (C173 , D61) ) by L841 , L843 , FUNCT_5:31
.= ( ( ( C169 * (R10 , D61) ) * ( C170 * (D61 , C173) ) ) * ( C171 * (C173 , R11) ) ) by L837
.= ( (the multF of R17) . (( (the multF of R17) . (( ( Line (C169 , R10) ) . D61 ) , ( C170 * (D61 , C173) )) ) , ( C171 * (C173 , R11) )) ) by L814 , L821 , L853 , MATRIX_1:def 7
.= ( (the multF of R17) . (( (the multF of R17) . (( ( Line (C169 , R10) ) . D61 ) , ( ( Col (C170 , C173) ) . D61 )) ) , ( C171 * (C173 , R11) )) ) by L853 , MATRIX_1:def 8
.= ( (the multF of R17) . (( ( (the multF of R17) .: (( Line (C169 , R10) ) , ( Col (C170 , C173) )) ) . D61 ) , ( C171 * (C173 , R11) )) ) by L856 , FUNCOP_1:22
.= ( D62 * D59 ) by FVSUM_1:def 7
.= ( ( ( C171 * (C173 , R11) ) * ( mlt (( Line (C169 , R10) ) , ( Col (C170 , C173) )) ) ) . C174 ) by L854 , FVSUM_1:50;
end;
L858: ( dom ( ( C171 * (C173 , R11) ) * ( mlt (( Line (C169 , R10) ) , ( Col (C170 , C173) )) ) ) ) = ( dom C170 ) by L845 , L847 , L850 , FINSEQ_3:29;
thus L859: thesis by L858 , L844 , L852 , FUNCT_1:2;
end;
L860: ( 0. R17 ) = ( the_unity_wrt (the addF of R17) ) by FVSUM_1:7;
deffunc H9((Element of ( NAT ))) = ( (the addF of R17) $$ (D58 , ( ( curry' C172 ) . $1 )) );
deffunc H10((Element of ( NAT ))) = ( (the addF of R17) $$ (D57 , ( ( curry C172 ) . $1 )) );
consider C175 being (Function of ( NAT ) , (the carrier of R17)) such that L861: (for B154 being (Element of ( NAT )) holds ( C175 . B154 ) = H10(B154)) from FUNCT_2:sch 4;
L862: ( dom ( C175 | ( dom C171 ) ) ) = ( ( dom C175 ) /\ ( dom C171 ) ) by RELAT_1:61
.= ( ( NAT ) /\ ( dom C171 ) ) by FUNCT_2:def 1
.= ( dom C171 ) by XBOOLE_1:28;
L863: ( len ( Line (( C169 * C170 ) , R10) ) ) = ( width ( C169 * C170 ) ) by MATRIX_1:def 7
.= ( len C171 ) by L814 , L815 , L170
.= ( len ( Col (C171 , R11) ) ) by MATRIX_1:def 8;
L864: ( len ( (the multF of R17) .: (( Line (( C169 * C170 ) , R10) ) , ( Col (C171 , R11) )) ) ) = ( len ( Col (C171 , R11) ) ) by L863 , FINSEQ_2:72
.= ( len C171 ) by MATRIX_1:def 8;
assume L865: [ R10 , R11 ] in ( Indices ( ( C169 * C170 ) * C171 ) );
L866: R10 in ( dom C169 ) by L865 , L834 , ZFMISC_1:87;
L867:
now
let C176 being set;
assume L868: C176 in ( dom C171 );
reconsider D63 = C176 as (Element of ( NAT )) by L868;
L869: D63 in ( dom ( (the multF of R17) .: (( Line (( C169 * C170 ) , R10) ) , ( Col (C171 , R11) )) ) ) by L864 , L868 , FINSEQ_3:29;
reconsider D64 = ( mlt (( Line (C169 , R10) ) , ( Col (C170 , D63) )) ) as (FinSequence of R17);
reconsider D65 = ( C171 * (D63 , R11) ) as (Element of R17);
L870: ( dom ( D65 multfield ) ) = (the carrier of R17) by FUNCT_2:def 1;
L871: (( D65 * D64 ) = ( ( D65 multfield ) * D64 ) & ( rng D64 ) c= ( dom ( D65 multfield ) )) by L870 , FINSEQ_1:def 4 , FVSUM_1:def 6;
L872: ( dom ( D65 * D64 ) ) = ( dom D64 ) by L871 , RELAT_1:27;
L873: ( len ( Line (C169 , R10) ) ) = ( len C170 ) by L814 , MATRIX_1:def 7
.= ( len ( Col (C170 , D63) ) ) by MATRIX_1:def 8;
L874: ( len ( (the multF of R17) .: (( Line (C169 , R10) ) , ( Col (C170 , D63) )) ) ) = ( len ( Line (C169 , R10) ) ) by L873 , FINSEQ_2:72
.= ( len C170 ) by L814 , MATRIX_1:def 7;
L875: ( len C170 ) = ( len D64 ) by L874 , FVSUM_1:def 7;
L876: ( dom ( ( C171 * (D63 , R11) ) * ( mlt (( Line (C169 , R10) ) , ( Col (C170 , D63) )) ) ) ) = ( dom C170 ) by L875 , L872 , FINSEQ_3:29;
L877: ( ( [#] (( ( C171 * (D63 , R11) ) * ( mlt (( Line (C169 , R10) ) , ( Col (C170 , D63) )) ) ) , ( 0. R17 )) ) | ( dom C170 ) ) = ( ( C171 * (D63 , R11) ) * ( mlt (( Line (C169 , R10) ) , ( Col (C170 , D63) )) ) ) by L876 , SETWOP_2:21;
L878: ( ( [#] (( ( C171 * (D63 , R11) ) * ( mlt (( Line (C169 , R10) ) , ( Col (C170 , D63) )) ) ) , ( 0. R17 )) ) | ( dom C170 ) ) = ( ( ( curry C172 ) . D63 ) | ( dom C170 ) ) by L877 , L838;
L879: D63 in ( Seg ( width C170 ) ) by L815 , L868 , FINSEQ_1:def 3;
L880: [ R10 , D63 ] in ( Indices ( C169 * C170 ) ) by L879 , L831 , L866 , ZFMISC_1:87;
L881: D63 in ( Seg ( width ( C169 * C170 ) ) ) by L827 , L868 , FINSEQ_1:def 3;
thus L882: ( ( C175 | ( dom C171 ) ) . C176 ) = ( C175 . D63 ) by L862 , L868 , FUNCT_1:47
.= ( (the addF of R17) $$ (D57 , ( ( curry C172 ) . D63 )) ) by L861
.= ( (the addF of R17) $$ (D57 , ( [#] (( ( C171 * (D63 , R11) ) * ( mlt (( Line (C169 , R10) ) , ( Col (C170 , D63) )) ) ) , ( 0. R17 )) )) ) by L878 , FVSUM_1:8 , SETWOP_2:7
.= ( (the addF of R17) $$ ( D65 * D64 ) ) by L826 , L860 , L876 , SETWOP_2:def 2
.= ( Sum ( D65 * D64 ) ) by FVSUM_1:def 8
.= ( ( C171 * (D63 , R11) ) * ( Sum ( mlt (( Line (C169 , R10) ) , ( Col (C170 , D63) )) ) ) ) by FVSUM_1:73
.= ( ( C171 * (D63 , R11) ) * ( ( Line (C169 , R10) ) "*" ( Col (C170 , D63) ) ) ) by FVSUM_1:def 9
.= ( ( ( C169 * C170 ) * (R10 , D63) ) * ( C171 * (D63 , R11) ) ) by L814 , L880 , L170
.= ( (the multF of R17) . (( ( Line (( C169 * C170 ) , R10) ) . D63 ) , ( C171 * (D63 , R11) )) ) by L881 , MATRIX_1:def 7
.= ( (the multF of R17) . (( ( Line (( C169 * C170 ) , R10) ) . D63 ) , ( ( Col (C171 , R11) ) . D63 )) ) by L868 , MATRIX_1:def 8
.= ( ( (the multF of R17) .: (( Line (( C169 * C170 ) , R10) ) , ( Col (C171 , R11) )) ) . D63 ) by L869 , FUNCOP_1:22
.= ( ( mlt (( Line (( C169 * C170 ) , R10) ) , ( Col (C171 , R11) )) ) . C176 ) by FVSUM_1:def 7;
end;
L883: ( len ( (the multF of R17) .: (( Line (( C169 * C170 ) , R10) ) , ( Col (C171 , R11) )) ) ) = ( len ( mlt (( Line (( C169 * C170 ) , R10) ) , ( Col (C171 , R11) )) ) ) by FVSUM_1:def 7;
L884: ( dom C171 ) = ( dom ( mlt (( Line (( C169 * C170 ) , R10) ) , ( Col (C171 , R11) )) ) ) by L883 , L864 , FINSEQ_3:29;
L885: ( dom ( mlt (( Line (( C169 * C170 ) , R10) ) , ( Col (C171 , R11) )) ) ) = ( dom C171 ) by L864 , L883 , FINSEQ_3:29;
L886: ( ( [#] (( mlt (( Line (( C169 * C170 ) , R10) ) , ( Col (C171 , R11) )) ) , ( 0. R17 )) ) | ( dom C171 ) ) = ( mlt (( Line (( C169 * C170 ) , R10) ) , ( Col (C171 , R11) )) ) by L885 , SETWOP_2:21;
L887: ( len ( Col (( C170 * C171 ) , R11) ) ) = ( len ( C170 * C171 ) ) by MATRIX_1:def 8
.= ( width C169 ) by L814 , L815 , L170
.= ( len ( Line (C169 , R10) ) ) by MATRIX_1:def 7;
L888: ( len ( (the multF of R17) .: (( Line (C169 , R10) ) , ( Col (( C170 * C171 ) , R11) )) ) ) = ( len ( Line (C169 , R10) ) ) by L887 , FINSEQ_2:72
.= ( width C169 ) by MATRIX_1:def 7;
L889: ( len ( (the multF of R17) .: (( Line (C169 , R10) ) , ( Col (( C170 * C171 ) , R11) )) ) ) = ( len ( mlt (( Line (C169 , R10) ) , ( Col (( C170 * C171 ) , R11) )) ) ) by FVSUM_1:def 7;
L890: ( dom ( mlt (( Line (C169 , R10) ) , ( Col (( C170 * C171 ) , R11) )) ) ) = D57 by L889 , L814 , L888 , FINSEQ_3:29;
L891: ( dom ( mlt (( Line (C169 , R10) ) , ( Col (( C170 * C171 ) , R11) )) ) ) = ( dom C170 ) by L814 , L888 , L889 , FINSEQ_3:29;
L892: ( ( [#] (( mlt (( Line (C169 , R10) ) , ( Col (( C170 * C171 ) , R11) )) ) , ( 0. R17 )) ) | ( dom C170 ) ) = ( mlt (( Line (C169 , R10) ) , ( Col (( C170 * C171 ) , R11) )) ) by L891 , SETWOP_2:21;
consider C177 being (Function of ( NAT ) , (the carrier of R17)) such that L893: (for B155 being (Element of ( NAT )) holds ( C177 . B155 ) = H9(B155)) from FUNCT_2:sch 4;
L894: ( dom ( C177 | ( dom C170 ) ) ) = ( ( dom C177 ) /\ ( dom C170 ) ) by RELAT_1:61
.= ( ( NAT ) /\ ( dom C170 ) ) by FUNCT_2:def 1
.= ( dom C170 ) by XBOOLE_1:28;
L895: R11 in ( Seg ( width C171 ) ) by L834 , L865 , ZFMISC_1:87;
L896:
now
let C178 being set;
assume L897: C178 in ( dom C170 );
reconsider D66 = C178 as (Element of ( NAT )) by L897;
L898: D66 in ( Seg ( width C169 ) ) by L814 , L897 , FINSEQ_1:def 3;
L899: D66 in ( dom ( C170 * C171 ) ) by L814 , L816 , L897 , FINSEQ_3:29;
L900: [ D66 , R11 ] in ( Indices ( C170 * C171 ) ) by L820 , L895 , L897 , ZFMISC_1:87;
reconsider D67 = ( mlt (( Line (C170 , D66) ) , ( Col (C171 , R11) )) ) as (FinSequence of R17);
reconsider D68 = ( C169 * (R10 , D66) ) as (Element of R17);
L901: ( len ( mlt (( Line (C170 , D66) ) , ( Col (C171 , R11) )) ) ) = ( len ( (the multF of R17) .: (( Line (C170 , D66) ) , ( Col (C171 , R11) )) ) ) by FVSUM_1:def 7;
L902: ( dom C172 ) = [: ( NAT ) , ( NAT ) :] by FUNCT_2:def 1;
L903: (ex B156 being Function st (B156 = ( ( curry' C172 ) . D66 ) & ( dom B156 ) = ( NAT ) & ( rng B156 ) c= ( rng C172 ) & (for R1 being set holds (R1 in ( NAT ) implies ( B156 . R1 ) = ( C172 . (R1 , D66) ))))) by L902 , FUNCT_5:32;
L904: ( dom ( ( ( curry' C172 ) . D66 ) | ( dom C171 ) ) ) = ( ( NAT ) /\ ( dom C171 ) ) by L903 , RELAT_1:61
.= ( dom C171 ) by XBOOLE_1:28;
L905: D66 in ( dom ( (the multF of R17) .: (( Line (C169 , R10) ) , ( Col (( C170 * C171 ) , R11) )) ) ) by L814 , L888 , L897 , FINSEQ_3:29;
L906: ( len ( Line (C170 , D66) ) ) = ( len C171 ) by L815 , MATRIX_1:def 7
.= ( len ( Col (C171 , R11) ) ) by MATRIX_1:def 8;
L907: ( len ( (the multF of R17) .: (( Line (C170 , D66) ) , ( Col (C171 , R11) )) ) ) = ( len ( Line (C170 , D66) ) ) by L906 , FINSEQ_2:72
.= ( len C171 ) by L815 , MATRIX_1:def 7;
L908: ( dom ( D68 multfield ) ) = (the carrier of R17) by FUNCT_2:def 1;
L909: (( D68 * D67 ) = ( ( D68 multfield ) * D67 ) & ( rng D67 ) c= ( dom ( D68 multfield ) )) by L908 , FINSEQ_1:def 4 , FVSUM_1:def 6;
L910: ( dom ( D68 * D67 ) ) = ( dom D67 ) by L909 , RELAT_1:27;
L911: ( dom ( ( C169 * (R10 , D66) ) * ( mlt (( Line (C170 , D66) ) , ( Col (C171 , R11) )) ) ) ) = ( dom C171 ) by L910 , L901 , L907 , FINSEQ_3:29;
L912:
now
let C179 being set;
assume L913: C179 in ( dom C171 );
reconsider D69 = C179 as (Element of ( NAT )) by L913;
L914: D69 in ( dom ( (the multF of R17) .: (( Line (C170 , D66) ) , ( Col (C171 , R11) )) ) ) by L907 , L913 , FINSEQ_3:29;
L915: D69 in ( dom D67 ) by L901 , L907 , L913 , FINSEQ_3:29;
reconsider D70 = ( D67 . D69 ) as (Element of R17) by L915 , FINSEQ_2:11;
L916: D69 in ( Seg ( width C170 ) ) by L815 , L913 , FINSEQ_1:def 3;
L917: C179 in ( dom ( D68 * D67 ) ) by L901 , L907 , L910 , L913 , FINSEQ_3:29;
thus L918: ( ( ( ( curry' C172 ) . D66 ) | ( dom C171 ) ) . C179 ) = ( ( ( curry' C172 ) . D66 ) . D69 ) by L913 , FUNCT_1:49
.= ( C172 . (D69 , D66) ) by L903
.= ( ( ( C169 * (R10 , D66) ) * ( C170 * (D66 , D69) ) ) * ( C171 * (D69 , R11) ) ) by L837
.= ( ( C169 * (R10 , D66) ) * ( ( C170 * (D66 , D69) ) * ( C171 * (D69 , R11) ) ) ) by GROUP_1:def 3
.= ( (the multF of R17) . (( C169 * (R10 , D66) ) , ( (the multF of R17) . (( ( Line (C170 , D66) ) . D69 ) , ( C171 * (D69 , R11) )) )) ) by L916 , MATRIX_1:def 7
.= ( (the multF of R17) . (( C169 * (R10 , D66) ) , ( (the multF of R17) . (( ( Line (C170 , D66) ) . D69 ) , ( ( Col (C171 , R11) ) . D69 )) )) ) by L913 , MATRIX_1:def 8
.= ( (the multF of R17) . (( C169 * (R10 , D66) ) , ( ( (the multF of R17) .: (( Line (C170 , D66) ) , ( Col (C171 , R11) )) ) . D69 )) ) by L914 , FUNCOP_1:22
.= ( D68 * D70 ) by FVSUM_1:def 7
.= ( ( ( C169 * (R10 , D66) ) * ( mlt (( Line (C170 , D66) ) , ( Col (C171 , R11) )) ) ) . C179 ) by L917 , FVSUM_1:50;
end;
L919: ( ( [#] (( ( C169 * (R10 , D66) ) * ( mlt (( Line (C170 , D66) ) , ( Col (C171 , R11) )) ) ) , ( 0. R17 )) ) | ( dom C171 ) ) = ( ( C169 * (R10 , D66) ) * ( mlt (( Line (C170 , D66) ) , ( Col (C171 , R11) )) ) ) by L911 , SETWOP_2:21;
L920: ( ( [#] (( ( C169 * (R10 , D66) ) * ( mlt (( Line (C170 , D66) ) , ( Col (C171 , R11) )) ) ) , ( 0. R17 )) ) | ( dom C171 ) ) = ( ( ( curry' C172 ) . D66 ) | ( dom C171 ) ) by L919 , L904 , L911 , L912 , FUNCT_1:2;
thus L921: ( ( C177 | ( dom C170 ) ) . C178 ) = ( C177 . D66 ) by L894 , L897 , FUNCT_1:47
.= ( (the addF of R17) $$ (D58 , ( ( curry' C172 ) . D66 )) ) by L893
.= ( (the addF of R17) $$ (D58 , ( [#] (( ( C169 * (R10 , D66) ) * ( mlt (( Line (C170 , D66) ) , ( Col (C171 , R11) )) ) ) , ( 0. R17 )) )) ) by L920 , FVSUM_1:8 , SETWOP_2:7
.= ( (the addF of R17) $$ ( D68 * D67 ) ) by L826 , L860 , L911 , SETWOP_2:def 2
.= ( Sum ( D68 * D67 ) ) by FVSUM_1:def 8
.= ( ( C169 * (R10 , D66) ) * ( Sum ( mlt (( Line (C170 , D66) ) , ( Col (C171 , R11) )) ) ) ) by FVSUM_1:73
.= ( ( C169 * (R10 , D66) ) * ( ( Line (C170 , D66) ) "*" ( Col (C171 , R11) ) ) ) by FVSUM_1:def 9
.= ( ( C169 * (R10 , D66) ) * ( ( C170 * C171 ) * (D66 , R11) ) ) by L815 , L900 , L170
.= ( (the multF of R17) . (( ( Line (C169 , R10) ) . D66 ) , ( ( C170 * C171 ) * (D66 , R11) )) ) by L898 , MATRIX_1:def 7
.= ( (the multF of R17) . (( ( Line (C169 , R10) ) . D66 ) , ( ( Col (( C170 * C171 ) , R11) ) . D66 )) ) by L899 , MATRIX_1:def 8
.= ( ( (the multF of R17) .: (( Line (C169 , R10) ) , ( Col (( C170 * C171 ) , R11) )) ) . D66 ) by L905 , FUNCOP_1:22
.= ( ( mlt (( Line (C169 , R10) ) , ( Col (( C170 * C171 ) , R11) )) ) . C178 ) by FVSUM_1:def 7;
end;
L922: ( dom ( mlt (( Line (C169 , R10) ) , ( Col (( C170 * C171 ) , R11) )) ) ) = ( dom C170 ) by L814 , L888 , L889 , FINSEQ_3:29;
L923: ( C177 | ( dom C170 ) ) = ( mlt (( Line (C169 , R10) ) , ( Col (( C170 * C171 ) , R11) )) ) by L922 , L894 , L896 , FUNCT_1:2;
L924: ( dom ( mlt (( Line (( C169 * C170 ) , R10) ) , ( Col (C171 , R11) )) ) ) = ( dom C171 ) by L864 , L883 , FINSEQ_3:29;
L925: ( C175 | ( dom C171 ) ) = ( mlt (( Line (( C169 * C170 ) , R10) ) , ( Col (C171 , R11) )) ) by L924 , L862 , L867 , FUNCT_1:2;
thus L926: ( ( ( C169 * C170 ) * C171 ) * (R10 , R11) ) = ( ( Line (( C169 * C170 ) , R10) ) "*" ( Col (C171 , R11) ) ) by L827 , L865 , L170
.= ( Sum ( mlt (( Line (( C169 * C170 ) , R10) ) , ( Col (C171 , R11) )) ) ) by FVSUM_1:def 9
.= ( (the addF of R17) $$ ( mlt (( Line (( C169 * C170 ) , R10) ) , ( Col (C171 , R11) )) ) ) by FVSUM_1:def 8
.= ( (the addF of R17) $$ (( findom C171 ) , ( [#] (( mlt (( Line (( C169 * C170 ) , R10) ) , ( Col (C171 , R11) )) ) , ( 0. R17 )) )) ) by L826 , L860 , L884 , SETWOP_2:def 2
.= ( (the addF of R17) $$ (D58 , C175) ) by L826 , L886 , L925 , SETWOP_2:7
.= ( (the addF of R17) $$ ([: D58 , D57 :] , C172) ) by L826 , L861 , L728
.= ( (the addF of R17) $$ (D57 , C177) ) by L826 , L893 , L794
.= ( (the addF of R17) $$ (( findom ( mlt (( Line (C169 , R10) ) , ( Col (( C170 * C171 ) , R11) )) ) ) , ( [#] (( mlt (( Line (C169 , R10) ) , ( Col (( C170 * C171 ) , R11) )) ) , ( the_unity_wrt (the addF of R17) )) )) ) by L826 , L860 , L892 , L923 , L890 , SETWOP_2:7
.= ( (the addF of R17) $$ ( mlt (( Line (C169 , R10) ) , ( Col (( C170 * C171 ) , R11) )) ) ) by L826 , SETWOP_2:def 2
.= ( Sum ( mlt (( Line (C169 , R10) ) , ( Col (( C170 * C171 ) , R11) )) ) ) by FVSUM_1:def 8
.= ( ( Line (C169 , R10) ) "*" ( Col (( C170 * C171 ) , R11) ) ) by FVSUM_1:def 9
.= ( ( C169 * ( C170 * C171 ) ) * (R10 , R11) ) by L816 , L824 , L835 , L865 , L170;
end;
thus L927: thesis by L836 , L822 , L818 , L832 , L828 , MATRIX_1:21;
end;
begin
definition
let R14 being Nat;
let R17 being Field;
let C180 being (Matrix of R14 , R17);
let C181 being (Element of ( Permutations R14 ));
func Path_matrix (C181 , C180) -> (FinSequence of R17) means 
:L928: (( len it ) = R14 & (for R10 being Nat holds (for R11 being Nat holds ((R10 in ( dom it ) & R11 = ( C181 . R10 )) implies ( it . R10 ) = ( C180 * (R10 , R11) )))));
existence
proof
defpred S6[ Nat , set ] means (for R11 being Nat holds (R11 = ( C181 . $1 ) implies $2 = ( C180 * ($1 , R11) )));
reconsider D71 = R14 as (Element of ( NAT )) by ORDINAL1:def 12;
L929: (for B157 being Nat holds (B157 in ( Seg D71 ) implies (ex B158 being (Element of R17) st S6[ B157 , B158 ])))
proof
reconsider D72 = C181 as (Function of ( Seg R14 ) , ( Seg R14 )) by MATRIX_2:def 9;
let C182 being Nat;
assume L930: C182 in ( Seg D71 );
L931: ( D72 . C182 ) in ( Seg R14 ) by L930 , FUNCT_2:5;
reconsider D73 = ( D72 . C182 ) as (Element of ( NAT )) by L931;
reconsider D74 = ( C180 * (C182 , D73) ) as (Element of R17);
take D74;
thus L932: thesis;
end;
consider C183 being (FinSequence of R17) such that L933: ( dom C183 ) = ( Seg D71 ) and L934: (for B159 being Nat holds (B159 in ( Seg D71 ) implies S6[ B159 , ( C183 . B159 ) ])) from FINSEQ_1:sch 5(L929);
take C183;
thus L935: ( len C183 ) = R14 by L933 , FINSEQ_1:def 3;
let R10 being Nat;
let R11 being Nat;
assume L936: (R10 in ( dom C183 ) & R11 = ( C181 . R10 ));
thus L937: thesis by L936 , L933 , L934;
end;
uniqueness
proof
L938: (for B160 , B161 being (FinSequence of R17) holds ((( len B160 ) = R14 & (for R10 being Nat holds (for R11 being Nat holds ((R10 in ( dom B160 ) & R11 = ( C181 . R10 )) implies ( B160 . R10 ) = ( C180 * (R10 , R11) )))) & ( len B161 ) = R14 & (for R10 being Nat holds (for R11 being Nat holds ((R10 in ( dom B161 ) & R11 = ( C181 . R10 )) implies ( B161 . R10 ) = ( C180 * (R10 , R11) ))))) implies B160 = B161))
proof
let C184 , C185 being (FinSequence of R17);
assume that
L939: ( len C184 ) = R14
and
L940: (for R10 being Nat holds (for R11 being Nat holds ((R10 in ( dom C184 ) & R11 = ( C181 . R10 )) implies ( C184 . R10 ) = ( C180 * (R10 , R11) ))))
and
L941: ( len C185 ) = R14
and
L942: (for R10 being Nat holds (for R11 being Nat holds ((R10 in ( dom C185 ) & R11 = ( C181 . R10 )) implies ( C185 . R10 ) = ( C180 * (R10 , R11) ))));
L943: ( dom C185 ) = ( Seg R14 ) by L941 , FINSEQ_1:def 3;
L944: ( dom C184 ) = ( Seg R14 ) by L939 , FINSEQ_1:def 3;
L945: (for B162 being Nat holds (B162 in ( Seg R14 ) implies ( C184 . B162 ) = ( C185 . B162 )))
proof
reconsider D75 = C181 as (Function of ( Seg R14 ) , ( Seg R14 )) by MATRIX_2:def 9;
let C186 being Nat;
assume L946: C186 in ( Seg R14 );
L947: ( D75 . C186 ) in ( Seg R14 ) by L946 , FUNCT_2:5;
reconsider D76 = ( D75 . C186 ) as (Element of ( NAT )) by L947;
L948: ( C184 . C186 ) = ( C180 * (C186 , D76) ) by L940 , L944 , L946;
thus L949: thesis by L948 , L942 , L943 , L946;
end;
thus L950: thesis by L945 , L944 , L943 , FINSEQ_1:13;
end;
thus L951: thesis by L938;
end;
end;
definition
let R14 being Nat;
let R17 being Field;
let C187 being (Matrix of R14 , R17);
func Path_product C187 -> (Function of ( Permutations R14 ) , (the carrier of R17)) means 
:L953: (for B163 being (Element of ( Permutations R14 )) holds ( it . B163 ) = ( - (( (the multF of R17) $$ ( Path_matrix (B163 , C187) ) ) , B163) ));
existence
proof
deffunc H11((Element of ( Permutations R14 ))) = ( - (( (the multF of R17) $$ ( Path_matrix ($1 , C187) ) ) , $1) );
consider C188 being (Function of ( Permutations R14 ) , (the carrier of R17)) such that L954: (for B164 being (Element of ( Permutations R14 )) holds ( C188 . B164 ) = H11(B164)) from FUNCT_2:sch 4;
take C188;
thus L955: thesis by L954;
end;
uniqueness
proof
let C189 , C190 being (Function of ( Permutations R14 ) , (the carrier of R17));
assume that
L956: (for B165 being (Element of ( Permutations R14 )) holds ( C189 . B165 ) = ( - (( (the multF of R17) $$ ( Path_matrix (B165 , C187) ) ) , B165) ))
and
L957: (for B166 being (Element of ( Permutations R14 )) holds ( C190 . B166 ) = ( - (( (the multF of R17) $$ ( Path_matrix (B166 , C187) ) ) , B166) ));
L958:
now
let C191 being (Element of ( Permutations R14 ));
L959: ( C189 . C191 ) = ( - (( (the multF of R17) $$ ( Path_matrix (C191 , C187) ) ) , C191) ) by L956;
thus L960: ( C189 . C191 ) = ( C190 . C191 ) by L959 , L957;
end;
thus L961: thesis by L958 , FUNCT_2:63;
end;
end;
definition
let R14 being Nat;
let R17 being Field;
let C192 being (Matrix of R14 , R17);
func Det C192 -> (Element of R17) equals 
( (the addF of R17) $$ (( FinOmega ( Permutations R14 ) ) , ( Path_product C192 )) );
coherence;
end;
theorem
L964: (for R17 being Field holds (for R18 being (Element of R17) holds ( Det <* <* R18 *> *> ) = R18))
proof
let R17 being Field;
let R18 being (Element of R17);
set D77 = <* <* R18 *> *>;
L965: ( ( Path_product D77 ) . ( idseq 1 ) ) = R18
proof
reconsider D78 = ( idseq 1 ) as (Element of ( Permutations 1 )) by MATRIX_2:def 9;
L966: ( - (R18 , D78) ) = R18
proof
reconsider D79 = ( id ( Seg 1 ) ) as (Element of ( Permutations 1 )) by MATRIX_2:def 9;
L967: ( len ( Permutations 1 ) ) = 1 by MATRIX_2:18;
L968: D79 is  even by L967 , MATRIX_2:25;
thus L969: thesis by L968 , MATRIX_2:def 13;
end;
L970: ( len ( Path_matrix (D78 , D77) ) ) = 1 by L928;
L971: ( dom ( Path_matrix (D78 , D77) ) ) = ( Seg 1 ) by L970 , FINSEQ_1:def 3;
L972: 1 in ( dom ( Path_matrix (D78 , D77) ) ) by L971 , FINSEQ_1:2 , TARSKI:def 1;
L973: 1 = ( D78 . 1 ) by L972 , L971 , FUNCT_1:18;
L974: ( ( Path_matrix (D78 , D77) ) . 1 ) = ( D77 * (1 , 1) ) by L973 , L972 , L928;
L975: ( ( Path_matrix (D78 , D77) ) . 1 ) = R18 by L974 , MATRIX_2:5;
L976: ( Path_matrix (D78 , D77) ) = <* R18 *> by L975 , L970 , FINSEQ_1:40;
L977: (( ( Path_product D77 ) . D78 ) = ( - (( (the multF of R17) $$ ( Path_matrix (D78 , D77) ) ) , D78) ) & <* R18 *> = ( 1 |-> R18 )) by L953 , FINSEQ_2:59;
thus L978: thesis by L977 , L976 , L966 , FINSOP_1:16;
end;
L979: (( FinOmega ( Permutations 1 ) ) = { ( idseq 1 ) } & ( idseq 1 ) in ( Permutations 1 )) by MATRIX_2:19 , MATRIX_2:def 14 , TARSKI:def 1;
thus L980: thesis by L979 , L965 , SETWISEO:17;
end;
definition
let R14 being Nat;
let R17 being Field;
let C193 being (Matrix of R14 , R17);
func diagonal_of_Matrix C193 -> (FinSequence of R17) means 
(( len it ) = R14 & (for R10 being Nat holds (R10 in ( Seg R14 ) implies ( it . R10 ) = ( C193 * (R10 , R10) ))));
existence
proof
reconsider D80 = R14 as (Element of ( NAT )) by ORDINAL1:def 12;
deffunc H12(Nat) = ( C193 * ($1 , $1) );
consider C194 being (FinSequence of R17) such that L981: (( len C194 ) = D80 & (for B167 being Nat holds (B167 in ( dom C194 ) implies ( C194 . B167 ) = H12(B167)))) from FINSEQ_2:sch 1;
take C194;
L982: ( dom C194 ) = ( Seg D80 ) by L981 , FINSEQ_1:def 3;
thus L983: thesis by L982 , L981;
end;
uniqueness
proof
let C195 , C196 being (FinSequence of R17);
assume that
L984: ( len C195 ) = R14
and
L985: (for R10 being Nat holds (R10 in ( Seg R14 ) implies ( C195 . R10 ) = ( C193 * (R10 , R10) )))
and
L986: ( len C196 ) = R14
and
L987: (for R10 being Nat holds (R10 in ( Seg R14 ) implies ( C196 . R10 ) = ( C193 * (R10 , R10) )));
L988:
now
let C197 being Nat;
assume L989: C197 in ( Seg R14 );
L990: ( C195 . C197 ) = ( C193 * (C197 , C197) ) by L989 , L985;
thus L991: ( C195 . C197 ) = ( C196 . C197 ) by L990 , L987 , L989;
end;
L992: (( dom C195 ) = ( Seg R14 ) & ( dom C196 ) = ( Seg R14 )) by L984 , L986 , FINSEQ_1:def 3;
thus L993: thesis by L992 , L988 , FINSEQ_1:13;
end;
end;
