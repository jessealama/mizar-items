:: Affine Independence in Vector Spaces
::  by Karol P\c{a}k
::
:: Received December 18, 2009
:: Copyright (c) 2009-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies ALGSTR_0, ARYTM_1, ARYTM_3, XBOOLE_0, CARD_1, CONVEX1, CONVEX2,
      CONVEX3, FINSEQ_1, FINSEQ_2, FINSEQ_4, FINSET_1, FUNCT_1, FUNCT_2,
      MONOID_0, ORDERS_1, RELAT_1, RLSUB_1, RLVECT_1, RLVECT_2, RLVECT_3,
      RUSUB_4, SEMI_AF1, SETFAM_1, SUBSET_1, TARSKI, CLASSES1, SUPINF_2,
      RLVECT_5, REAL_1, NUMBERS, NAT_1, CARD_3, XXREAL_0, STRUCT_0, ZFMISC_1,
      RLAFFIN1, ORDINAL1, ORDINAL4, PARTFUN1;
 notations TARSKI, XBOOLE_0, SUBSET_1, ORDINAL1, ORDERS_1, CARD_1, NUMBERS,
      XXREAL_0, REAL_1, FINSET_1, SETFAM_1, DOMAIN_1, ALGSTR_0, RELAT_1,
      FUNCT_1, PARTFUN1, FUNCT_2, FINSEQ_1, STRUCT_0, FINSEQ_2, SEQ_1,
      FINSEQ_3, FINSEQOP, CLASSES1, RVSUM_1, RLVECT_1, RLVECT_2, RLVECT_3,
      RLVECT_5, RLSUB_1, RLSUB_2, RUSUB_4, CONVEX1, CONVEX2, CONVEX3;
 constructors BINOP_1, BINOP_2, CLASSES1, CONVEX1, CONVEX3, FINSEQOP, FINSOP_1,
      MATRLIN, ORDERS_1, REALSET1, REAL_1, RLVECT_3, RLVECT_5, RVSUM_1,
      RLSUB_2, RUSUB_5, SEQ_1, SETWISEO, RELSET_1;
 registrations BINOP_2, CARD_1, CONVEX1, FINSET_1, FINSEQ_2, FUNCT_1, FUNCT_2,
      MEMBERED, NAT_1, NUMBERS, RELAT_1, RLVECT_1, RLVECT_3, RUSUB_4, STRUCT_0,
      SUBSET_1, VALUED_0, XCMPLX_0, XREAL_0, XXREAL_0, RLVECT_5, RELSET_1,
      RLVECT_2;
 requirements REAL, NUMERALS, SUBSET, BOOLE, ARITHM;
 definitions CONVEX1, FINSEQ_1, RLVECT_2, RLVECT_3, RUSUB_4, RVSUM_1, STRUCT_0,
      SUBSET_1, TARSKI, XBOOLE_0;
 theorems CARD_2, CARD_FIN, CONVEX1, CONVEX3, ENUMSET1, FINSEQ_1, FINSEQ_2,
      FINSEQ_3, FINSEQ_4, FINSEQOP, FINSET_1, FINSOP_1, FUNCT_1, FUNCT_2,
      MATRPROB, NAT_1, ORDERS_1, ORDINAL1, PARTFUN1, RELAT_1, RFINSEQ,
      RLTOPSP1, RLVECT_1, RLVECT_2, RLVECT_3, RLVECT_4, RLVECT_5, RLSUB_1,
      RLSUB_2, RUSUB_4, RVSUM_1, SETFAM_1, STIRL2_1, STRUCT_0, TARSKI,
      XBOOLE_0, XBOOLE_1, XCMPLX_0, XCMPLX_1, XREAL_1, XREAL_0, XXREAL_0,
      ZFMISC_1, CARD_1;
 schemes FRAENKEL, FUNCT_1, FUNCT_2, NAT_1, TREES_2, XBOOLE_0;

begin
registration
let R15 being non  empty RLSStruct;
let C1 being  empty (Subset of R15);
cluster ( conv C1 ) ->  empty;
coherence
proof
L1: C1 = the  empty  convex (Subset of R15);
L2: C1 in ( Convex-Family C1 ) by L1 , CONVEX1:def 4;
thus L3: thesis by L2 , SETFAM_1:4;
end;
end;
L5: (for R15 being non  empty RLSStruct holds (for B1 being (Subset of R15) holds B1 c= ( conv B1 )))
proof
let R15 being non  empty RLSStruct;
let C2 being (Subset of R15);
let R1 being set;
assume L6: R1 in C2;
L7:
now
let R2 being set;
assume L8: R2 in ( Convex-Family C2 );
L9: C2 c= R2 by L8 , CONVEX1:def 4;
thus L10: R1 in R2 by L9 , L6;
end;
L11: ( [#] R15 ) is  convex by CONVEX1:16 , RUSUB_4:22;
L12: ( [#] R15 ) in ( Convex-Family C2 ) by L11 , CONVEX1:def 4;
thus L13: thesis by L12 , L7 , SETFAM_1:def 1;
end;
registration
let R15 being non  empty RLSStruct;
let C3 being non  empty (Subset of R15);
cluster ( conv C3 ) -> non  empty;
coherence
proof
L14: C3 c= ( conv C3 ) by L5;
thus L15: thesis by L14;
end;
end;
theorem
L17: (for R16 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct holds (for B2 being (Element of R16) holds ( conv { B2 } ) = { B2 }))
proof
let R16 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct;
let C4 being (Element of R16);
L18: { C4 } is  convex
proof
let C5 , C6 being (VECTOR of R16);
let R3 being Real;
assume that
L19: ( 0 ) < R3
and
L20: R3 < 1;
assume that
L21: C5 in { C4 }
and
L22: C6 in { C4 };
L23: (C5 = C4 & C6 = C4) by L21 , L22 , TARSKI:def 1;
L24: ( ( R3 * C5 ) + ( ( 1 - R3 ) * C6 ) ) = ( ( R3 + ( 1 - R3 ) ) * C5 ) by L23 , RLVECT_1:def 6
.= C5 by RLVECT_1:def 8;
thus L25: thesis by L24 , L21;
end;
L26: ( conv { C4 } ) c= { C4 } by L18 , CONVEX1:30;
thus L27: thesis by L26 , ZFMISC_1:33;
end;
theorem
L28: (for R15 being non  empty RLSStruct holds (for B3 being (Subset of R15) holds B3 c= ( conv B3 ))) by L5;
theorem
L29: (for R15 being non  empty RLSStruct holds (for B4 , B5 being (Subset of R15) holds (B4 c= B5 implies ( conv B4 ) c= ( conv B5 ))))
proof
let R15 being non  empty RLSStruct;
let C7 , C8 being (Subset of R15);
assume that
L30: C7 c= C8;
L31: ( Convex-Family C8 ) c= ( Convex-Family C7 )
proof
let R1 being set;
assume L32: R1 in ( Convex-Family C8 );
reconsider D1 = R1 as (Subset of R15) by L32;
L33: C8 c= D1 by L32 , CONVEX1:def 4;
L34: C7 c= D1 by L33 , L30 , XBOOLE_1:1;
L35: D1 is  convex by L32 , CONVEX1:def 4;
thus L36: thesis by L35 , L34 , CONVEX1:def 4;
end;
L37: ( [#] R15 ) is  convex by CONVEX1:16 , RUSUB_4:22;
L38: ( [#] R15 ) in ( Convex-Family C8 ) by L37 , CONVEX1:def 4;
L39: ( meet ( Convex-Family C7 ) ) c= ( meet ( Convex-Family C8 ) ) by L38 , L31 , SETFAM_1:6;
let R2 being set;
assume L40: R2 in ( conv C7 );
thus L41: thesis by L40 , L39;
end;
theorem
L42: (for R15 being non  empty RLSStruct holds (for B6 , B7 being (Subset of R15) holds (B7 c= ( conv B6 ) implies ( conv B6 ) = ( conv ( B6 \/ B7 ) ))))
proof
let R15 being non  empty RLSStruct;
let C9 , C10 being (Subset of R15);
assume that
L43: C10 c= ( conv C9 );
thus L44: ( conv C9 ) c= ( conv ( C9 \/ C10 ) ) by L29 , XBOOLE_1:7;
L45: C9 c= ( conv C9 ) by L5;
L46: ( C9 \/ C10 ) c= ( conv C9 ) by L45 , L43 , XBOOLE_1:8;
thus L47: thesis by L46 , CONVEX1:30;
end;
L48: (for B8 being  add-associative  right_zeroed  right_complementable non  empty addLoopStr holds (for B9 , B10 being (Subset of B8) holds (for B11 being (Element of B8) holds ( ( B11 + B9 ) \ ( B11 + B10 ) ) = ( B11 + ( B9 \ B10 ) ))))
proof
let C11 being  add-associative  right_zeroed  right_complementable non  empty addLoopStr;
let C12 , C13 being (Subset of C11);
let C14 being (Element of C11);
thus L49:now
let R1 being set;
assume L50: R1 in ( ( C14 + C12 ) \ ( C14 + C13 ) );
L51: R1 in ( C14 + C12 ) by L50 , XBOOLE_0:def 5;
consider C15 being (Element of C11) such that L52: R1 = ( C14 + C15 ) and L53: C15 in C12 by L51;
L54: (not R1 in ( C14 + C13 )) by L50 , XBOOLE_0:def 5;
L55: (not C15 in C13) by L54 , L52;
L56: C15 in ( C12 \ C13 ) by L55 , L53 , XBOOLE_0:def 5;
thus L57: R1 in ( C14 + ( C12 \ C13 ) ) by L56 , L52;
end;
let R1 being set;
assume L58: R1 in ( C14 + ( C12 \ C13 ) );
consider C16 being (Element of C11) such that L59: R1 = ( C14 + C16 ) and L60: C16 in ( C12 \ C13 ) by L58;
L61: (not R1 in ( C14 + C13 ))
proof
assume L62: R1 in ( C14 + C13 );
consider C17 being (Element of C11) such that L63: R1 = ( C14 + C17 ) and L64: C17 in C13 by L62;
L65: C17 = C16 by L59 , L63 , RLVECT_1:8;
thus L66: thesis by L65 , L60 , L64 , XBOOLE_0:def 5;
end;
L67: C16 in C12 by L60 , XBOOLE_0:def 5;
L68: R1 in ( C14 + C12 ) by L67 , L59;
thus L69: thesis by L68 , L61 , XBOOLE_0:def 5;
end;
L70: (for R5 being non  empty addLoopStr holds (for B12 , B13 being (Element of R5) holds { ( B12 + B13 ) } = ( B12 + { B13 } )))
proof
let R5 being non  empty addLoopStr;
let C18 , C19 being (Element of R5);
thus L71:now
let R1 being set;
assume L72: R1 in { ( C18 + C19 ) };
L73: R1 = ( C18 + C19 ) by L72 , TARSKI:def 1;
L74: C19 in { C19 } by TARSKI:def 1;
thus L75: R1 in ( C18 + { C19 } ) by L74 , L73;
end;
let R1 being set;
assume L76: R1 in ( C18 + { C19 } );
consider C20 being (Element of R5) such that L77: R1 = ( C18 + C20 ) and L78: C20 in { C19 } by L76;
L79: C20 = C19 by L78 , TARSKI:def 1;
thus L80: thesis by L79 , L77 , TARSKI:def 1;
end;
theorem
L81: (for B14 being  add-associative non  empty addLoopStr holds (for B15 being (Subset of B14) holds (for B16 , B17 being (Element of B14) holds ( ( B16 + B17 ) + B15 ) = ( B16 + ( B17 + B15 ) ))))
proof
let C21 being  add-associative non  empty addLoopStr;
let C22 being (Subset of C21);
let C23 , C24 being (Element of C21);
set D2 = ( C23 + C24 );
thus L82: ( D2 + C22 ) c= ( C23 + ( C24 + C22 ) )
proof
let R1 being set;
assume L83: R1 in ( D2 + C22 );
consider C25 being (Element of C21) such that L84: (R1 = ( D2 + C25 ) & C25 in C22) by L83;
L85: (( C24 + C25 ) in ( C24 + C22 ) & R1 = ( C23 + ( C24 + C25 ) )) by L84 , RLVECT_1:def 3;
thus L86: thesis by L85;
end;

let R1 being set;
assume L87: R1 in ( C23 + ( C24 + C22 ) );
consider C26 being (Element of C21) such that L88: R1 = ( C23 + C26 ) and L89: C26 in ( C24 + C22 ) by L87;
consider C27 being (Element of C21) such that L90: C26 = ( C24 + C27 ) and L91: C27 in C22 by L89;
L92: R1 = ( D2 + C27 ) by L88 , L90 , RLVECT_1:def 3;
thus L93: thesis by L92 , L91;
end;
theorem
L94: (for B18 being  Abelian  right_zeroed non  empty addLoopStr holds (for B19 being (Subset of B18) holds ( ( 0. B18 ) + B19 ) = B19))
proof
let C28 being  Abelian  right_zeroed non  empty addLoopStr;
let C29 being (Subset of C28);
thus L95: ( ( 0. C28 ) + C29 ) c= C29
proof
let R1 being set;
assume L96: R1 in ( ( 0. C28 ) + C29 );
L97: (ex B20 being (Element of C28) st (R1 = ( ( 0. C28 ) + B20 ) & B20 in C29)) by L96;
thus L98: thesis by L97 , RLVECT_1:def 4;
end;

let R1 being set;
assume L99: R1 in C29;
reconsider D3 = R1 as (Element of C28) by L99;
L100: ( ( 0. C28 ) + D3 ) = D3 by RLVECT_1:def 4;
thus L101: thesis by L100 , L99;
end;
L102: (for B21 being non  empty addLoopStr holds (for B22 being (Subset of B21) holds (for B23 being (Element of B21) holds ( card ( B23 + B22 ) ) c= ( card B22 ))))
proof
let C30 being non  empty addLoopStr;
let C31 being (Subset of C30);
let C32 being (Element of C30);
deffunc H1((Element of C30)) = ( C32 + $1 );
L103: ( card { H1(B24) where B24 is (Element of C30) : B24 in C31 } ) c= ( card C31 ) from TREES_2:sch 2;
thus L104: thesis by L103;
end;
theorem
L105: (for R9 being  Abelian  add-associative  right_zeroed  right_complementable non  empty addLoopStr holds (for R13 being (Element of R9) holds (for B25 being (Subset of R9) holds ( card B25 ) = ( card ( R13 + B25 ) ))))
proof
let R9 being  Abelian  add-associative  right_zeroed  right_complementable non  empty addLoopStr;
let R13 being (Element of R9);
let C33 being (Subset of R9);
L106: ( ( - R13 ) + ( R13 + C33 ) ) = ( ( ( - R13 ) + R13 ) + C33 ) by L81
.= ( ( 0. R9 ) + C33 ) by RLVECT_1:5
.= C33 by L94;
L107: ( card C33 ) c= ( card ( R13 + C33 ) ) by L106 , L102;
L108: ( card ( R13 + C33 ) ) c= ( card C33 ) by L102;
thus L109: thesis by L108 , L107 , XBOOLE_0:def 10;
end;
theorem
L110: (for R5 being non  empty addLoopStr holds (for B26 being (Element of R5) holds ( B26 + ( {} R5 ) ) = ( {} R5 )))
proof
let R5 being non  empty addLoopStr;
let C34 being (Element of R5);
assume L111: ( C34 + ( {} R5 ) ) <> ( {} R5 );
consider R1 being set such that L112: R1 in ( C34 + ( {} R5 ) ) by L111 , XBOOLE_0:def 1;
L113: (ex B27 being (Element of R5) st (R1 = ( C34 + B27 ) & B27 in ( {} R5 ))) by L112;
thus L114: contradiction by L113;
end;
theorem
L115: (for R3 being Real holds (for R15 being non  empty RLSStruct holds (for B28 , B29 being (Subset of R15) holds (B28 c= B29 implies ( R3 * B28 ) c= ( R3 * B29 )))))
proof
let R3 being Real;
let R15 being non  empty RLSStruct;
let C35 , C36 being (Subset of R15);
assume that
L116: C35 c= C36;
let R1 being set;
assume L117: R1 in ( R3 * C35 );
L118: (ex B30 being (Element of R15) st (R1 = ( R3 * B30 ) & B30 in C35)) by L117;
thus L119: thesis by L118 , L116;
end;
theorem
L120: (for R3 being Real holds (for R4 being Real holds (for R16 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct holds (for R17 being (Subset of R16) holds ( ( R3 * R4 ) * R17 ) = ( R3 * ( R4 * R17 ) )))))
proof
let R3 being Real;
let R4 being Real;
let R16 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct;
let R17 being (Subset of R16);
set D4 = ( R3 * R4 );
thus L121:now
let R1 being set;
assume L122: R1 in ( D4 * R17 );
consider C37 being (Element of R16) such that L123: (R1 = ( D4 * C37 ) & C37 in R17) by L122;
L124: (( R4 * C37 ) in ( R4 * R17 ) & R1 = ( R3 * ( R4 * C37 ) )) by L123 , RLVECT_1:def 7;
thus L125: R1 in ( R3 * ( R4 * R17 ) ) by L124;
end;
let R1 being set;
assume L126: R1 in ( R3 * ( R4 * R17 ) );
consider C38 being (Element of R16) such that L127: R1 = ( R3 * C38 ) and L128: C38 in ( R4 * R17 ) by L126;
consider C39 being (Element of R16) such that L129: C38 = ( R4 * C39 ) and L130: C39 in R17 by L128;
L131: ( D4 * C39 ) = R1 by L127 , L129 , RLVECT_1:def 7;
thus L132: thesis by L131 , L130;
end;
theorem
L133: (for R16 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct holds (for R17 being (Subset of R16) holds ( 1 * R17 ) = R17))
proof
let R16 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct;
let R17 being (Subset of R16);
thus L134:now
let R1 being set;
assume L135: R1 in ( 1 * R17 );
L136: (ex B31 being (Element of R16) st (R1 = ( 1 * B31 ) & B31 in R17)) by L135;
thus L137: R1 in R17 by L136 , RLVECT_1:def 8;
end;
let R1 being set;
assume that
L138: R1 in R17;
reconsider D5 = R1 as (Element of R16) by L138;
L139: R1 = ( 1 * D5 ) by RLVECT_1:def 8;
thus L140: thesis by L139 , L138;
end;
theorem
L141: (for R21 being RealLinearSpace holds (for R27 being (Subset of R21) holds ( ( 0 ) * R27 ) c= { ( 0. R21 ) }))
proof
let R21 being RealLinearSpace;
let R27 being (Subset of R21);
let R1 being set;
assume L142: R1 in ( ( 0 ) * R27 );
L143: (ex B32 being (Element of R21) st (R1 = ( ( 0 ) * B32 ) & B32 in R27)) by L142;
L144: R1 = ( 0. R21 ) by L143 , RLVECT_1:10;
thus L145: thesis by L144 , TARSKI:def 1;
end;
theorem
L146: (for R5 being non  empty addLoopStr holds (for R7 being (Linear_Combination of R5) holds (for R8 being (Linear_Combination of R5) holds (for B33 being (FinSequence of R5) holds ( ( R7 + R8 ) * B33 ) = ( ( R7 * B33 ) + ( R8 * B33 ) )))))
proof
let R5 being non  empty addLoopStr;
let R7 being (Linear_Combination of R5);
let R8 being (Linear_Combination of R5);
let C40 being (FinSequence of R5);
L147: ( len ( R7 * C40 ) ) = ( len C40 ) by FINSEQ_2:33;
L148: ( len ( R8 * C40 ) ) = ( len C40 ) by FINSEQ_2:33;
reconsider D6 = ( R7 * C40 ) , D7 = ( R8 * C40 ) as (Element of ( ( len C40 ) -tuples_on ( REAL ) )) by L148 , L147 , FINSEQ_2:92;
L149: ( len ( ( R7 + R8 ) * C40 ) ) = ( len C40 ) by FINSEQ_2:33;
L150:
now
let C41 being Nat;
assume L151: (1 <= C41 & C41 <= ( len C40 ));
L152: C41 in ( dom ( ( R7 + R8 ) * C40 ) ) by L151 , L149 , FINSEQ_3:25;
L153: ( ( ( R7 + R8 ) * C40 ) . C41 ) = ( ( R7 + R8 ) . ( C40 . C41 ) ) by L152 , FUNCT_1:12;
L154: C41 in ( dom D6 ) by L147 , L151 , FINSEQ_3:25;
L155: (( C40 . C41 ) in ( dom R7 ) & ( D6 . C41 ) = ( R7 . ( C40 . C41 ) )) by L154 , FUNCT_1:11 , FUNCT_1:12;
L156: C41 in ( dom D7 ) by L148 , L151 , FINSEQ_3:25;
L157: ( D7 . C41 ) = ( R8 . ( C40 . C41 ) ) by L156 , FUNCT_1:12;
L158: ( dom R7 ) = (the carrier of R5) by FUNCT_2:def 1;
thus L159: ( ( ( R7 + R8 ) * C40 ) . C41 ) = ( ( D6 . C41 ) + ( D7 . C41 ) ) by L158 , L153 , L157 , L155 , RLVECT_2:def 10
.= ( ( D6 + D7 ) . C41 ) by RVSUM_1:11;
end;
L160: ( len ( D6 + D7 ) ) = ( len C40 ) by CARD_1:def 7;
thus L161: thesis by L160 , L149 , L150 , FINSEQ_1:14;
end;
theorem
L162: (for R3 being Real holds (for R21 being RealLinearSpace holds (for R31 being (Linear_Combination of R21) holds (for B34 being (FinSequence of R21) holds ( ( R3 * R31 ) * B34 ) = ( R3 * ( R31 * B34 ) )))))
proof
let R3 being Real;
let R21 being RealLinearSpace;
let R31 being (Linear_Combination of R21);
let C42 being (FinSequence of R21);
L163: ( len ( ( R3 * R31 ) * C42 ) ) = ( len C42 ) by FINSEQ_2:33;
L164: ( len ( R31 * C42 ) ) = ( len C42 ) by FINSEQ_2:33;
reconsider D8 = ( ( R3 * R31 ) * C42 ) , D9 = ( R31 * C42 ) as (Element of ( ( len C42 ) -tuples_on ( REAL ) )) by L164 , L163 , FINSEQ_2:92;
L165:
now
let C43 being Nat;
assume L166: (1 <= C43 & C43 <= ( len C42 ));
L167: C43 in ( dom D9 ) by L166 , L164 , FINSEQ_3:25;
L168: (( D9 . C43 ) = ( R31 . ( C42 . C43 ) ) & ( C42 . C43 ) in ( dom R31 )) by L167 , FUNCT_1:11 , FUNCT_1:12;
L169: C43 in ( dom D8 ) by L163 , L166 , FINSEQ_3:25;
L170: ( D8 . C43 ) = ( ( R3 * R31 ) . ( C42 . C43 ) ) by L169 , FUNCT_1:12;
L171: (( ( R3 * D9 ) . C43 ) = ( R3 * ( D9 . C43 ) ) & ( dom R31 ) = (the carrier of R21)) by FUNCT_2:def 1 , RVSUM_1:44;
thus L172: ( D8 . C43 ) = ( ( R3 * D9 ) . C43 ) by L171 , L168 , L170 , RLVECT_2:def 11;
end;
L173: ( len ( R3 * D9 ) ) = ( len C42 ) by CARD_1:def 7;
thus L174: thesis by L173 , L163 , L165 , FINSEQ_1:14;
end;
theorem
L175: (for R21 being RealLinearSpace holds (for R27 being (Subset of R21) holds (for R28 being (Subset of R21) holds ((R27 is  linearly-independent & R27 c= R28 & ( Lin R28 ) = R21) implies (ex B35 being  linearly-independent (Subset of R21) st (R27 c= B35 & B35 c= R28 & ( Lin B35 ) = R21))))))
proof
let R21 being RealLinearSpace;
let R27 being (Subset of R21);
let R28 being (Subset of R21);
assume that
L176: (R27 is  linearly-independent & R27 c= R28)
and
L177: ( Lin R28 ) = R21;
defpred S1[ set ] means (ex B36 being (Subset of R21) st (B36 = $1 & R27 c= B36 & B36 c= R28 & B36 is  linearly-independent));
consider C44 being set such that L178: (for B37 being set holds (B37 in C44 iff (B37 in ( bool (the carrier of R21) ) & S1[ B37 ]))) from XBOOLE_0:sch 1;
L179:
now
let C45 being set;
assume that
L180: C45 <> ( {} )
and
L181: C45 c= C44
and
L182: C45 is  c=-linear;
set D10 = ( union C45 );
L183: D10 c= (the carrier of R21)
proof
let R1 being set;
assume L184: R1 in D10;
consider C46 being set such that L185: R1 in C46 and L186: C46 in C45 by L184 , TARSKI:def 4;
L187: C46 in ( bool (the carrier of R21) ) by L178 , L181 , L186;
thus L188: thesis by L187 , L185;
end;
reconsider D11 = D10 as (Subset of R21) by L183;
set D12 = the (Element of C45);
L189: D12 in C44 by L180 , L181 , TARSKI:def 3;
L190: (ex B38 being (Subset of R21) st (B38 = D12 & R27 c= B38 & B38 c= R28 & B38 is  linearly-independent)) by L189 , L178;
L191: D11 is  linearly-independent
proof
deffunc H2(set) = { B39 where B39 is (Subset of R21) : ($1 in B39 & B39 in C45) };
let C47 being (Linear_Combination of D11);
assume that
L192: ( Sum C47 ) = ( 0. R21 )
and
L193: ( Carrier C47 ) <> ( {} );
consider C48 being Function such that L194: ( dom C48 ) = ( Carrier C47 ) and L195: (for B40 being set holds (B40 in ( Carrier C47 ) implies ( C48 . B40 ) = H2(B40))) from FUNCT_1:sch 3;
reconsider D13 = ( rng C48 ) as non  empty set by L193 , L194 , RELAT_1:42;
L196:
now
assume L197: ( {} ) in D13;
consider C49 being set such that L198: C49 in ( dom C48 ) and L199: ( C48 . C49 ) = ( {} ) by L197 , FUNCT_1:def 3;
L200: ( Carrier C47 ) c= D11 by RLVECT_2:def 6;
consider C50 being set such that L201: C49 in C50 and L202: C50 in C45 by L200 , L194 , L198 , TARSKI:def 4;
reconsider D14 = C50 as (Subset of R21) by L178 , L181 , L202;
L203: D14 in { B41 where B41 is (Subset of R21) : (C49 in B41 & B41 in C45) } by L201 , L202;
thus L204: contradiction by L203 , L194 , L195 , L198 , L199;
end;
set D15 = the (Choice_Function of D13);
set D16 = ( rng D15 );
L205: the (Element of D13) in D13;
L206: ( union D13 ) <> ( {} ) by L205 , L196 , ORDERS_1:6;
L207: ( dom D15 ) = D13 by L206 , FUNCT_2:def 1;
L208:
now
let C51 being set;
assume L209: C51 in D16;
consider C52 being set such that L210: C52 in ( dom D15 ) and L211: ( D15 . C52 ) = C51 by L209 , FUNCT_1:def 3;
consider C53 being set such that L212: (C53 in ( dom C48 ) & ( C48 . C53 ) = C52) by L207 , L210 , FUNCT_1:def 3;
L213: C52 = { B42 where B42 is (Subset of R21) : (C53 in B42 & B42 in C45) } by L194 , L195 , L212;
L214: C51 in C52 by L196 , L207 , L210 , L211 , ORDERS_1:def 1;
L215: (ex B43 being (Subset of R21) st (B43 = C51 & C53 in B43 & B43 in C45)) by L214 , L213;
thus L216: C51 in C45 by L215;
end;
L217:
now
let C54 , C55 being set;
assume L218: (C54 in D16 & C55 in D16);
L219: (C54 in C45 & C55 in C45) by L218 , L208;
L220: C54 , C55 are_c=-comparable  by L219 , L182 , ORDINAL1:def 8;
thus L221: (C54 c= C55 or C55 c= C54) by L220 , XBOOLE_0:def 9;
end;
L222: ( dom D15 ) is  finite by L194 , L207 , FINSET_1:8;
L223: D16 is  finite by L222 , FINSET_1:8;
L224: ( union D16 ) in D16 by L223 , L206 , L217 , CARD_2:62;
L225: ( union D16 ) in C45 by L224 , L208;
consider C56 being (Subset of R21) such that L226: C56 = ( union D16 ) and L227: R27 c= C56 and L228: C56 c= R28 and L229: C56 is  linearly-independent by L225 , L178 , L181;
L230: ( Carrier C47 ) c= ( union D16 )
proof
let R1 being set;
assume L231: R1 in ( Carrier C47 );
L232: ( C48 . R1 ) = { B44 where B44 is (Subset of R21) : (R1 in B44 & B44 in C45) } by L231 , L195;
L233: ( C48 . R1 ) in D13 by L194 , L231 , FUNCT_1:def 3;
L234: ( D15 . ( C48 . R1 ) ) in ( C48 . R1 ) by L233 , L196 , ORDERS_1:def 1;
L235: (ex B45 being (Subset of R21) st (( D15 . ( C48 . R1 ) ) = B45 & R1 in B45 & B45 in C45)) by L234 , L232;
L236: ( D15 . ( C48 . R1 ) ) in D16 by L207 , L233 , FUNCT_1:def 3;
thus L237: thesis by L236 , L235 , TARSKI:def 4;
end;
L238: C47 is (Linear_Combination of C56) by L230 , L226 , RLVECT_2:def 6;
thus L239: thesis by L238 , L192 , L193 , L229 , RLVECT_3:def 1;
end;
L240: D11 c= R28
proof
let R1 being set;
assume L241: R1 in D11;
consider C57 being set such that L242: R1 in C57 and L243: C57 in C45 by L241 , TARSKI:def 4;
L244: (ex B46 being (Subset of R21) st (B46 = C57 & R27 c= B46 & B46 c= R28 & B46 is  linearly-independent)) by L178 , L181 , L243;
thus L245: thesis by L244 , L242;
end;
L246: D12 c= D11 by L180 , ZFMISC_1:74;
L247: R27 c= D11 by L246 , L190 , XBOOLE_1:1;
thus L248: ( union C45 ) in C44 by L247 , L178 , L191 , L240;
end;
L249: C44 <> ( {} ) by L176 , L178;
consider C58 being set such that L250: C58 in C44 and L251: (for B47 being set holds ((B47 in C44 & B47 <> C58) implies (not C58 c= B47))) by L249 , L179 , ORDERS_1:67;
consider C59 being (Subset of R21) such that L252: C59 = C58 and L253: R27 c= C59 and L254: C59 c= R28 and L255: C59 is  linearly-independent by L178 , L250;
reconsider D17 = C59 as  linearly-independent (Subset of R21) by L255;
take D17;
thus L256: (R27 c= D17 & D17 c= R28) by L253 , L254;
assume L257: ( Lin D17 ) <> R21;
L258:
now
assume L259: (for R22 being (VECTOR of R21) holds (R22 in R28 implies R22 in ( Lin D17 )));
L260:
now
let R22 being (VECTOR of R21);
assume L261: R22 in ( Lin R28 );
consider C60 being (Linear_Combination of R28) such that L262: R22 = ( Sum C60 ) by L261 , RLVECT_3:14;
L263: ( Carrier C60 ) c= (the carrier of ( Lin D17 ))
proof
let R1 being set;
assume L264: R1 in ( Carrier C60 );
reconsider D18 = R1 as (VECTOR of R21) by L264;
L265: ( Carrier C60 ) c= R28 by RLVECT_2:def 6;
L266: D18 in ( Lin D17 ) by L265 , L259 , L264;
thus L267: thesis by L266 , STRUCT_0:def 5;
end;
reconsider D19 = C60 as (Linear_Combination of ( Up ( Lin D17 ) )) by L263 , RLVECT_2:def 6;
L268: ( Sum D19 ) = R22 by L262;
L269: R22 in ( Lin ( Up ( Lin D17 ) ) ) by L268 , RLVECT_3:14;
thus L270: R22 in ( Lin D17 ) by L269 , RLVECT_3:18;
end;
L271: ( Lin R28 ) is (Subspace of ( Lin D17 )) by L260 , RLSUB_1:29;
thus L272: contradiction by L271 , L177 , L257 , RLSUB_1:26;
end;
consider R22 being (VECTOR of R21) such that L273: R22 in R28 and L274: (not R22 in ( Lin D17 )) by L258;
L275: (not R22 in D17) by L274 , RLVECT_3:15;
L276: { R22 } c= R28 by L273 , ZFMISC_1:31;
L277: ( D17 \/ { R22 } ) c= R28 by L276 , L254 , XBOOLE_1:8;
L278: R22 in { R22 } by TARSKI:def 1;
L279: R22 in ( D17 \/ { R22 } ) by L278 , XBOOLE_0:def 3;
L280: ( D17 \/ { R22 } ) is  linearly-independent
proof
let C61 being (Linear_Combination of ( D17 \/ { R22 } ));
assume L281: ( Sum C61 ) = ( 0. R21 );
per cases ;
suppose L282: R22 in ( Carrier C61 );

L283: ( - ( C61 . R22 ) ) <> ( 0 ) by L282 , RLVECT_2:19;
deffunc H3((VECTOR of R21)) = ( 0 );
deffunc H4((VECTOR of R21)) = ( C61 . $1 );
consider C62 being (Function of (the carrier of R21) , ( REAL )) such that L284: ( C62 . R22 ) = ( 0 ) and L285: (for B48 being (Element of R21) holds (B48 <> R22 implies ( C62 . B48 ) = H4(B48))) from FUNCT_2:sch 6;
reconsider D20 = C62 as (Element of ( Funcs ((the carrier of R21) , ( REAL )) )) by FUNCT_2:8;
L286:
now
let C63 being (Element of R21);
assume L287: (not C63 in ( ( Carrier C61 ) \ { R22 } ));
L288: ((not C63 in ( Carrier C61 )) or C63 in { R22 }) by L287 , XBOOLE_0:def 5;
L289: ((( C61 . C63 ) = ( 0 ) & C63 <> R22) or C63 = R22) by L288 , TARSKI:def 1;
thus L290: ( D20 . C63 ) = ( 0 ) by L289 , L284 , L285;
end;
reconsider D21 = D20 as (Linear_Combination of R21) by L286 , RLVECT_2:def 3;
L291: ( Carrier D21 ) c= D17
proof
let C64 being set;
assume L292: C64 in ( Carrier D21 );
consider C65 being (Element of R21) such that L293: C65 = C64 and L294: ( D21 . C65 ) <> ( 0 ) by L292;
L295: ( D21 . C65 ) = ( C61 . C65 ) by L284 , L285 , L294;
L296: (( Carrier C61 ) c= ( D17 \/ { R22 } ) & C65 in ( Carrier C61 )) by L295 , L294 , RLVECT_2:def 6;
L297: (C65 in D17 or C65 in { R22 }) by L296 , XBOOLE_0:def 3;
thus L298: thesis by L297 , L284 , L293 , L294 , TARSKI:def 1;
end;
reconsider D22 = D21 as (Linear_Combination of D17) by L291 , RLVECT_2:def 6;
consider C66 being (Function of (the carrier of R21) , ( REAL )) such that L299: ( C66 . R22 ) = ( - ( C61 . R22 ) ) and L300: (for B49 being (Element of R21) holds (B49 <> R22 implies ( C66 . B49 ) = H3(B49))) from FUNCT_2:sch 6;
reconsider D23 = C66 as (Element of ( Funcs ((the carrier of R21) , ( REAL )) )) by FUNCT_2:8;
L301:
now
let C67 being (Element of R21);
assume L302: (not C67 in { R22 });
L303: C67 <> R22 by L302 , TARSKI:def 1;
thus L304: ( D23 . C67 ) = ( 0 ) by L303 , L300;
end;
reconsider D24 = D23 as (Linear_Combination of R21) by L301 , RLVECT_2:def 3;
L305: ( Carrier D24 ) c= { R22 }
proof
let C68 being set;
assume L306: C68 in ( Carrier D24 );
L307: (ex B50 being (Element of R21) st (C68 = B50 & ( D24 . B50 ) <> ( 0 ))) by L306;
L308: C68 = R22 by L307 , L300;
thus L309: thesis by L308 , TARSKI:def 1;
end;
reconsider D25 = D24 as (Linear_Combination of { R22 }) by L305 , RLVECT_2:def 6;
L310: ( Sum D25 ) = ( ( - ( C61 . R22 ) ) * R22 ) by L299 , RLVECT_2:32;
L311:
now
let C69 being (Element of R21);
L312:
now
per cases ;
suppose L313: R22 = C69;

thus L314: ( ( D22 - D25 ) . C69 ) = ( ( D22 . C69 ) - ( D25 . C69 ) ) by RLVECT_2:54
.= ( C61 . C69 ) by L284 , L299 , L313;
end;
suppose L315: R22 <> C69;

thus L316: ( ( D22 - D25 ) . C69 ) = ( ( D22 . C69 ) - ( D25 . C69 ) ) by RLVECT_2:54
.= ( ( C61 . C69 ) - ( D25 . C69 ) ) by L285 , L315
.= ( ( C61 . C69 ) - ( 0 ) ) by L300 , L315
.= ( C61 . C69 );
end;
end;
thus L318: ( ( D22 - D25 ) . C69 ) = ( C61 . C69 ) by L312;
end;
L319: ( D22 - D25 ) = C61 by L311 , RLVECT_2:def 9;
L320: ( 0. R21 ) = ( ( Sum D22 ) - ( Sum D25 ) ) by L319 , L281 , RLVECT_3:4;
L321: ( Sum D22 ) = ( ( 0. R21 ) + ( Sum D25 ) ) by L320 , RLSUB_2:61
.= ( ( - ( C61 . R22 ) ) * R22 ) by L310 , RLVECT_1:4;
L322: ( ( - ( C61 . R22 ) ) * R22 ) in ( Lin D17 ) by L321 , RLVECT_3:14;
L323: ( ( ( - ( C61 . R22 ) ) " ) * ( ( - ( C61 . R22 ) ) * R22 ) ) = ( ( ( ( - ( C61 . R22 ) ) " ) * ( - ( C61 . R22 ) ) ) * R22 ) by RLVECT_1:def 7
.= ( 1 * R22 ) by L283 , XCMPLX_0:def 7
.= R22 by RLVECT_1:def 8;
thus L324: thesis by L323 , L274 , L322 , RLSUB_1:21;
end;
suppose L325: (not R22 in ( Carrier C61 ));

L326: ( Carrier C61 ) c= D17
proof
let C70 being set;
assume L327: C70 in ( Carrier C61 );
L328: ( Carrier C61 ) c= ( D17 \/ { R22 } ) by RLVECT_2:def 6;
L329: (C70 in D17 or C70 in { R22 }) by L328 , L327 , XBOOLE_0:def 3;
thus L330: thesis by L329 , L325 , L327 , TARSKI:def 1;
end;
L331: C61 is (Linear_Combination of D17) by L326 , RLVECT_2:def 6;
thus L332: thesis by L331 , L281 , RLVECT_3:def 1;
end;
end;
L334: R27 c= ( D17 \/ { R22 } ) by L253 , XBOOLE_1:10;
L335: ( D17 \/ { R22 } ) in C44 by L334 , L178 , L277 , L280;
thus L336: contradiction by L335 , L251 , L252 , L275 , L279 , XBOOLE_1:7;
end;
begin
definition
let R9 being  Abelian  add-associative  right_zeroed  right_complementable non  empty addLoopStr;
let R10 being (Linear_Combination of R9);
let R13 being (Element of R9);
func R13 + R10 -> (Linear_Combination of R9) means 
:L337: (for R14 being (Element of R9) holds ( it . R14 ) = ( R10 . ( R14 - R13 ) ));
existence
proof
deffunc H5((Element of R9)) = ( R13 + $1 );
set D26 = { H5(R14) where R14 is (Element of R9) : R14 in ( Carrier R10 ) };
L338: D26 c= (the carrier of R9)
proof
let R1 being set;
assume L339: R1 in D26;
L340: (ex R14 being (Element of R9) st (R1 = H5(R14) & R14 in ( Carrier R10 ))) by L339;
thus L341: thesis by L340;
end;
L342: ( Carrier R10 ) is  finite;
L343: D26 is  finite from FRAENKEL:sch 21(L342);
reconsider D27 = D26 as  finite (Subset of R9) by L343 , L338;
deffunc H6((Element of R9)) = ( R10 . ( $1 - R13 ) );
consider C71 being (Function of (the carrier of R9) , ( REAL )) such that L344: (for R14 being (Element of R9) holds ( C71 . R14 ) = H6(R14)) from FUNCT_2:sch 4;
reconsider D28 = C71 as (Element of ( Funcs ((the carrier of R9) , ( REAL )) )) by FUNCT_2:8;
L345:
now
let R14 being (Element of R9);
assume L346: (not R14 in D27);
assume L347: ( D28 . R14 ) <> ( 0 );
L348: ( R10 . ( R14 - R13 ) ) <> ( 0 ) by L347 , L344;
L349: ( R14 - R13 ) in ( Carrier R10 ) by L348;
L350: ( R13 + ( R14 - R13 ) ) = ( ( R14 + ( - R13 ) ) + R13 ) by RLVECT_1:def 11
.= ( R14 + ( R13 + ( - R13 ) ) ) by RLVECT_1:def 3
.= ( R14 + ( 0. R9 ) ) by RLVECT_1:def 10
.= R14 by RLVECT_1:4;
thus L351: contradiction by L350 , L346 , L349;
end;
reconsider D29 = D28 as (Linear_Combination of R9) by L345 , RLVECT_2:def 3;
take D29;
thus L352: thesis by L344;
end;
uniqueness
proof
let C72 , C73 being (Linear_Combination of R9);
assume that
L353: (for R14 being (Element of R9) holds ( C72 . R14 ) = ( R10 . ( R14 - R13 ) ))
and
L354: (for R14 being (Element of R9) holds ( C73 . R14 ) = ( R10 . ( R14 - R13 ) ));
L355:
now
let R14 being (Element of R9);
thus L356: ( C72 . R14 ) = ( R10 . ( R14 - R13 ) ) by L353
.= ( C73 . R14 ) by L354;
end;
thus L357: thesis by L355 , RLVECT_2:def 9;
end;
end;
theorem
L359: (for R9 being  Abelian  add-associative  right_zeroed  right_complementable non  empty addLoopStr holds (for R10 being (Linear_Combination of R9) holds (for R13 being (Element of R9) holds ( Carrier ( R13 + R10 ) ) = ( R13 + ( Carrier R10 ) ))))
proof
let R9 being  Abelian  add-associative  right_zeroed  right_complementable non  empty addLoopStr;
let R10 being (Linear_Combination of R9);
let R13 being (Element of R9);
thus L360: ( Carrier ( R13 + R10 ) ) c= ( R13 + ( Carrier R10 ) )
proof
let R1 being set;
assume that
L361: R1 in ( Carrier ( R13 + R10 ) );
reconsider D30 = R1 as (Element of R9) by L361;
L362: ( ( R13 + R10 ) . D30 ) <> ( 0 ) by L361 , RLVECT_2:19;
L363: ( R13 + ( D30 - R13 ) ) = ( ( D30 + ( - R13 ) ) + R13 ) by RLVECT_1:def 11
.= ( D30 + ( R13 + ( - R13 ) ) ) by RLVECT_1:def 3
.= ( D30 + ( 0. R9 ) ) by RLVECT_1:def 10
.= D30 by RLVECT_1:4;
L364: ( ( R13 + R10 ) . D30 ) = ( R10 . ( D30 - R13 ) ) by L337;
L365: ( D30 - R13 ) in ( Carrier R10 ) by L364 , L362;
thus L366: thesis by L365 , L363;
end;

let R1 being set;
assume L367: R1 in ( R13 + ( Carrier R10 ) );
consider C74 being (Element of R9) such that L368: R1 = ( R13 + C74 ) and L369: C74 in ( Carrier R10 ) by L367;
L370: ( ( R13 + C74 ) - R13 ) = ( ( R13 + C74 ) + ( - R13 ) ) by RLVECT_1:def 11
.= ( ( ( - R13 ) + R13 ) + C74 ) by RLVECT_1:def 3
.= ( ( 0. R9 ) + C74 ) by RLVECT_1:5
.= C74 by RLVECT_1:4;
L371: ( ( R13 + R10 ) . ( R13 + C74 ) ) = ( R10 . C74 ) by L370 , L337;
L372: ( R10 . C74 ) <> ( 0 ) by L369 , RLVECT_2:19;
thus L373: thesis by L372 , L368 , L371;
end;
theorem
L374: (for R9 being  Abelian  add-associative  right_zeroed  right_complementable non  empty addLoopStr holds (for R11 being (Linear_Combination of R9) holds (for R12 being (Linear_Combination of R9) holds (for R13 being (Element of R9) holds ( R13 + ( R11 + R12 ) ) = ( ( R13 + R11 ) + ( R13 + R12 ) )))))
proof
let R9 being  Abelian  add-associative  right_zeroed  right_complementable non  empty addLoopStr;
let R11 being (Linear_Combination of R9);
let R12 being (Linear_Combination of R9);
let R13 being (Element of R9);
L375:
now
let R14 being (Element of R9);
thus L376: ( ( R13 + ( R11 + R12 ) ) . R14 ) = ( ( R11 + R12 ) . ( R14 - R13 ) ) by L337
.= ( ( R11 . ( R14 - R13 ) ) + ( R12 . ( R14 - R13 ) ) ) by RLVECT_2:def 10
.= ( ( ( R13 + R11 ) . R14 ) + ( R12 . ( R14 - R13 ) ) ) by L337
.= ( ( ( R13 + R11 ) . R14 ) + ( ( R13 + R12 ) . R14 ) ) by L337
.= ( ( ( R13 + R11 ) + ( R13 + R12 ) ) . R14 ) by RLVECT_2:def 10;
end;
thus L377: thesis by L375 , RLVECT_2:def 9;
end;
theorem
L378: (for R3 being Real holds (for R21 being RealLinearSpace holds (for R22 being (VECTOR of R21) holds (for R31 being (Linear_Combination of R21) holds ( R22 + ( R3 * R31 ) ) = ( R3 * ( R22 + R31 ) )))))
proof
let R3 being Real;
let R21 being RealLinearSpace;
let R22 being (VECTOR of R21);
let R31 being (Linear_Combination of R21);
L379:
now
let R25 being (VECTOR of R21);
thus L380: ( ( R22 + ( R3 * R31 ) ) . R25 ) = ( ( R3 * R31 ) . ( R25 - R22 ) ) by L337
.= ( R3 * ( R31 . ( R25 - R22 ) ) ) by RLVECT_2:def 11
.= ( R3 * ( ( R22 + R31 ) . R25 ) ) by L337
.= ( ( R3 * ( R22 + R31 ) ) . R25 ) by RLVECT_2:def 11;
end;
thus L381: thesis by L379 , RLVECT_2:def 9;
end;
theorem
L382: (for R9 being  Abelian  add-associative  right_zeroed  right_complementable non  empty addLoopStr holds (for R10 being (Linear_Combination of R9) holds (for R13 being (Element of R9) holds (for R14 being (Element of R9) holds ( R13 + ( R14 + R10 ) ) = ( ( R13 + R14 ) + R10 )))))
proof
let R9 being  Abelian  add-associative  right_zeroed  right_complementable non  empty addLoopStr;
let R10 being (Linear_Combination of R9);
let R13 being (Element of R9);
let R14 being (Element of R9);
L383:
now
let C75 being (Element of R9);
thus L384: ( ( R13 + ( R14 + R10 ) ) . C75 ) = ( ( R14 + R10 ) . ( C75 - R13 ) ) by L337
.= ( R10 . ( ( C75 - R13 ) - R14 ) ) by L337
.= ( R10 . ( C75 - ( R13 + R14 ) ) ) by RLVECT_1:27
.= ( ( ( R13 + R14 ) + R10 ) . C75 ) by L337;
end;
thus L385: thesis by L383 , RLVECT_2:def 9;
end;
theorem
L386: (for R9 being  Abelian  add-associative  right_zeroed  right_complementable non  empty addLoopStr holds (for R13 being (Element of R9) holds ( R13 + ( ZeroLC R9 ) ) = ( ZeroLC R9 )))
proof
let R9 being  Abelian  add-associative  right_zeroed  right_complementable non  empty addLoopStr;
let R13 being (Element of R9);
L387: ( Carrier ( ZeroLC R9 ) ) = ( {} R9 ) by RLVECT_2:def 5;
L388: ( {} R9 ) = ( R13 + ( Carrier ( ZeroLC R9 ) ) ) by L387 , L110
.= ( Carrier ( R13 + ( ZeroLC R9 ) ) ) by L359;
thus L389: thesis by L388 , RLVECT_2:def 5;
end;
theorem
L390: (for R9 being  Abelian  add-associative  right_zeroed  right_complementable non  empty addLoopStr holds (for R10 being (Linear_Combination of R9) holds ( ( 0. R9 ) + R10 ) = R10))
proof
let R9 being  Abelian  add-associative  right_zeroed  right_complementable non  empty addLoopStr;
let R10 being (Linear_Combination of R9);
L391:
now
let R13 being (Element of R9);
thus L392: ( ( ( 0. R9 ) + R10 ) . R13 ) = ( R10 . ( R13 - ( 0. R9 ) ) ) by L337
.= ( R10 . R13 ) by RLVECT_1:13;
end;
thus L393: thesis by L391 , RLVECT_2:def 9;
end;
definition
let R16 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct;
let R18 being (Linear_Combination of R16);
let R3 being Real;
func R3 (*) R18 -> (Linear_Combination of R16) means 
:L394: (for B51 being (Element of R16) holds ( it . B51 ) = ( R18 . ( ( R3 " ) * B51 ) )) if R3 <> ( 0 ) otherwise it = ( ZeroLC R16 );
existence
proof
L395:
now
deffunc H7((Element of R16)) = ( R18 . ( ( R3 " ) * $1 ) );
deffunc H8((Element of R16)) = ( R3 * $1 );
consider C76 being (Function of (the carrier of R16) , ( REAL )) such that L396: (for B52 being (Element of R16) holds ( C76 . B52 ) = H7(B52)) from FUNCT_2:sch 4;
reconsider D31 = C76 as (Element of ( Funcs ((the carrier of R16) , ( REAL )) )) by FUNCT_2:8;
assume L397: R3 <> ( 0 );
L398:
now
let C77 being (Element of R16);
assume L399: (not C77 in ( R3 * ( Carrier R18 ) ));
L400: ( D31 . C77 ) = ( R18 . ( ( R3 " ) * C77 ) ) by L396;
L401: ( R3 * ( ( R3 " ) * C77 ) ) = ( ( R3 * ( R3 " ) ) * C77 ) by RLVECT_1:def 7
.= ( 1 * C77 ) by L397 , XCMPLX_0:def 7
.= C77 by RLVECT_1:def 8;
assume L402: ( D31 . C77 ) <> ( 0 );
L403: ( ( R3 " ) * C77 ) in ( Carrier R18 ) by L402 , L400;
thus L404: contradiction by L403 , L399 , L401;
end;
L405: ( Carrier R18 ) is  finite;
L406: { H8(B53) where B53 is (Element of R16) : B53 in ( Carrier R18 ) } is  finite from FRAENKEL:sch 21(L405);
reconsider D32 = D31 as (Linear_Combination of R16) by L406 , L398 , RLVECT_2:def 3;
take D33 = D32;
let C78 being (Element of R16);
L407: ( D33 . C78 ) = ( R18 . ( ( R3 " ) * C78 ) ) by L396;
thus L408: thesis by L407 , L396;
end;
thus L409: thesis by L395;
end;
uniqueness
proof
L410:
now
let C79 , C80 being (Linear_Combination of R16);
assume that
L411: (for B54 being (Element of R16) holds ( C79 . B54 ) = ( R18 . ( ( R3 " ) * B54 ) ))
and
L412: (for B55 being (Element of R16) holds ( C80 . B55 ) = ( R18 . ( ( R3 " ) * B55 ) ));
L413:
now
let C81 being (Element of R16);
thus L414: ( C79 . C81 ) = ( R18 . ( ( R3 " ) * C81 ) ) by L411
.= ( C80 . C81 ) by L412;
end;
thus L415: C79 = C80 by L413 , RLVECT_2:def 9;
end;
thus L416: thesis by L410;
end;
consistency;
end;
theorem
L418: (for R3 being Real holds (for R16 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct holds (for R18 being (Linear_Combination of R16) holds ( Carrier ( R3 (*) R18 ) ) c= ( R3 * ( Carrier R18 ) ))))
proof
let R3 being Real;
let R16 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct;
let R18 being (Linear_Combination of R16);
let R1 being set;
assume that
L419: R1 in ( Carrier ( R3 (*) R18 ) );
reconsider D34 = R1 as (Element of R16) by L419;
L420: ( ( R3 (*) R18 ) . D34 ) <> ( 0 ) by L419 , RLVECT_2:19;
L421: ( (( 0 ) qua Real) (*) R18 ) = ( ZeroLC R16 ) by L394;
L422: R3 <> ( 0 ) by L421 , L419 , RLVECT_2:def 5;
L423: ( ( R3 (*) R18 ) . D34 ) = ( R18 . ( ( R3 " ) * D34 ) ) by L422 , L394;
L424: ( ( R3 " ) * D34 ) in ( Carrier R18 ) by L423 , L420;
L425: ( R3 * ( ( R3 " ) * D34 ) ) = ( ( R3 * ( R3 " ) ) * D34 ) by RLVECT_1:def 7
.= ( 1 * D34 ) by L422 , XCMPLX_0:def 7
.= D34 by RLVECT_1:def 8;
thus L426: thesis by L425 , L424;
end;
theorem
L427: (for R3 being Real holds (for R16 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct holds (for R18 being (Linear_Combination of R16) holds (R3 <> ( 0 ) implies ( Carrier ( R3 (*) R18 ) ) = ( R3 * ( Carrier R18 ) )))))
proof
let R3 being Real;
let R16 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct;
let R18 being (Linear_Combination of R16);
assume L428: R3 <> ( 0 );
thus L429: ( Carrier ( R3 (*) R18 ) ) c= ( R3 * ( Carrier R18 ) ) by L418;
let R1 being set;
assume L430: R1 in ( R3 * ( Carrier R18 ) );
consider C82 being (Element of R16) such that L431: R1 = ( R3 * C82 ) and L432: C82 in ( Carrier R18 ) by L430;
L433: ( ( R3 " ) * ( R3 * C82 ) ) = ( ( ( R3 " ) * R3 ) * C82 ) by RLVECT_1:def 7
.= ( 1 * C82 ) by L428 , XCMPLX_0:def 7
.= C82 by RLVECT_1:def 8;
L434: ( R18 . C82 ) = ( ( R3 (*) R18 ) . R1 ) by L433 , L428 , L431 , L394;
L435: ( R18 . C82 ) <> ( 0 ) by L432 , RLVECT_2:19;
thus L436: thesis by L435 , L431 , L434;
end;
theorem
L437: (for R3 being Real holds (for R16 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct holds (for R19 being (Linear_Combination of R16) holds (for R20 being (Linear_Combination of R16) holds ( R3 (*) ( R19 + R20 ) ) = ( ( R3 (*) R19 ) + ( R3 (*) R20 ) )))))
proof
let R3 being Real;
let R16 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct;
let R19 being (Linear_Combination of R16);
let R20 being (Linear_Combination of R16);
per cases ;
suppose L438: R3 = ( 0 );

set D35 = ( ZeroLC R16 );
L439:
now
let C83 being (Element of R16);
thus L440: ( ( D35 + D35 ) . C83 ) = ( ( D35 . C83 ) + ( D35 . C83 ) ) by RLVECT_2:def 10
.= ( ( D35 . C83 ) + ( 0 ) ) by RLVECT_2:20
.= ( D35 . C83 );
end;
thus L441: ( R3 (*) ( R19 + R20 ) ) = D35 by L438 , L394
.= ( D35 + D35 ) by L439 , RLVECT_2:def 9
.= ( ( R3 (*) R19 ) + D35 ) by L438 , L394
.= ( ( R3 (*) R19 ) + ( R3 (*) R20 ) ) by L438 , L394;
end;
suppose L442: R3 <> ( 0 );

L443:
now
let C84 being (Element of R16);
thus L444: ( ( R3 (*) ( R19 + R20 ) ) . C84 ) = ( ( R19 + R20 ) . ( ( R3 " ) * C84 ) ) by L442 , L394
.= ( ( R19 . ( ( R3 " ) * C84 ) ) + ( R20 . ( ( R3 " ) * C84 ) ) ) by RLVECT_2:def 10
.= ( ( ( R3 (*) R19 ) . C84 ) + ( R20 . ( ( R3 " ) * C84 ) ) ) by L442 , L394
.= ( ( ( R3 (*) R19 ) . C84 ) + ( ( R3 (*) R20 ) . C84 ) ) by L442 , L394
.= ( ( ( R3 (*) R19 ) + ( R3 (*) R20 ) ) . C84 ) by RLVECT_2:def 10;
end;
thus L445: thesis by L443 , RLVECT_2:def 9;
end;
end;
theorem
L447: (for R3 being Real holds (for R4 being Real holds (for R21 being RealLinearSpace holds (for R31 being (Linear_Combination of R21) holds ( R3 * ( R4 (*) R31 ) ) = ( R4 (*) ( R3 * R31 ) )))))
proof
let R3 being Real;
let R4 being Real;
let R21 being RealLinearSpace;
let R31 being (Linear_Combination of R21);
per cases ;
suppose L448: R4 = ( 0 );

thus L449: ( R3 * ( R4 (*) R31 ) ) = ( R3 * ( ZeroLC R21 ) ) by L448 , L394
.= ( R3 * ( ( 0 ) * R31 ) ) by RLVECT_2:43
.= ( ( R3 * ( 0 ) ) * R31 ) by RLVECT_2:47
.= ( ZeroLC R21 ) by RLVECT_2:43
.= ( R4 (*) ( R3 * R31 ) ) by L448 , L394;
end;
suppose L450: R4 <> ( 0 );

L451:
now
let R22 being (VECTOR of R21);
thus L452: ( ( R3 * ( R4 (*) R31 ) ) . R22 ) = ( R3 * ( ( R4 (*) R31 ) . R22 ) ) by RLVECT_2:def 11
.= ( R3 * ( R31 . ( ( R4 " ) * R22 ) ) ) by L450 , L394
.= ( ( R3 * R31 ) . ( ( R4 " ) * R22 ) ) by RLVECT_2:def 11
.= ( ( R4 (*) ( R3 * R31 ) ) . R22 ) by L450 , L394;
end;
thus L453: thesis by L451 , RLVECT_2:def 9;
end;
end;
theorem
L455: (for R3 being Real holds (for R16 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct holds ( R3 (*) ( ZeroLC R16 ) ) = ( ZeroLC R16 )))
proof
let R3 being Real;
let R16 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct;
per cases ;
suppose L456: R3 = ( 0 );

thus L457: thesis by L456 , L394;
end;
suppose L458: R3 <> ( 0 );

L459:
now
let C85 being (Element of R16);
thus L460: ( ( R3 (*) ( ZeroLC R16 ) ) . C85 ) = ( ( ZeroLC R16 ) . ( ( R3 " ) * C85 ) ) by L458 , L394
.= ( 0 ) by RLVECT_2:20
.= ( ( ZeroLC R16 ) . C85 ) by RLVECT_2:20;
end;
thus L461: thesis by L459 , RLVECT_2:def 9;
end;
end;
theorem
L463: (for R3 being Real holds (for R4 being Real holds (for R16 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct holds (for R18 being (Linear_Combination of R16) holds ( R3 (*) ( R4 (*) R18 ) ) = ( ( R3 * R4 ) (*) R18 )))))
proof
let R3 being Real;
let R4 being Real;
let R16 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct;
let R18 being (Linear_Combination of R16);
per cases ;
suppose L464: (R3 = ( 0 ) or R4 = ( 0 ));

L465: ( ( R3 * R4 ) (*) R18 ) = ( ZeroLC R16 ) by L464 , L394;
thus L466: thesis by L465 , L464 , L394 , L455;
end;
suppose L467: (R3 <> ( 0 ) & R4 <> ( 0 ));

L468:
now
let C86 being (Element of R16);
thus L469: ( ( R3 (*) ( R4 (*) R18 ) ) . C86 ) = ( ( R4 (*) R18 ) . ( ( R3 " ) * C86 ) ) by L467 , L394
.= ( R18 . ( ( R4 " ) * ( ( R3 " ) * C86 ) ) ) by L467 , L394
.= ( R18 . ( ( ( R4 " ) * ( R3 " ) ) * C86 ) ) by RLVECT_1:def 7
.= ( R18 . ( ( ( R3 * R4 ) " ) * C86 ) ) by XCMPLX_1:204
.= ( ( ( R3 * R4 ) (*) R18 ) . C86 ) by L467 , L394;
end;
thus L470: thesis by L468 , RLVECT_2:def 9;
end;
end;
theorem
L472: (for R16 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct holds (for R18 being (Linear_Combination of R16) holds ( 1 (*) R18 ) = R18))
proof
let R16 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct;
let R18 being (Linear_Combination of R16);
L473:
now
let C87 being (Element of R16);
thus L474: ( ( 1 (*) R18 ) . C87 ) = ( R18 . ( ( 1 " ) * C87 ) ) by L394
.= ( R18 . C87 ) by RLVECT_1:def 8;
end;
thus L475: thesis by L473 , RLVECT_2:def 9;
end;
begin
definition
let R5 being non  empty addLoopStr;
let R6 being (Linear_Combination of R5);
func sum R6 -> Real means 
:L476: (ex B56 being (FinSequence of R5) st (B56 is  one-to-one & ( rng B56 ) = ( Carrier R6 ) & it = ( Sum ( R6 * B56 ) )));
existence
proof
consider C88 being FinSequence such that L477: ( rng C88 ) = ( Carrier R6 ) and L478: C88 is  one-to-one by FINSEQ_4:58;
reconsider D36 = C88 as (FinSequence of R5) by L477 , FINSEQ_1:def 4;
take ( Sum ( R6 * D36 ) );
thus L479: thesis by L477 , L478;
end;
uniqueness
proof
let C89 , C90 being Real;
given C91 being (FinSequence of R5) such that
L480: C91 is  one-to-one
and
L481: ( rng C91 ) = ( Carrier R6 )
and
L482: C89 = ( Sum ( R6 * C91 ) );

L483: ( dom ( C91 " ) ) = ( Carrier R6 ) by L480 , L481 , FUNCT_1:33;
L484: ( len C91 ) = ( card ( Carrier R6 ) ) by L480 , L481 , FINSEQ_4:62;
given C92 being (FinSequence of R5) such that
L485: C92 is  one-to-one
and
L486: ( rng C92 ) = ( Carrier R6 )
and
L487: C90 = ( Sum ( R6 * C92 ) );

set D37 = ( ( C91 " ) * C92 );
L488: (( dom C92 ) = ( Seg ( len C92 ) ) & ( len C92 ) = ( card ( Carrier R6 ) )) by L485 , L486 , FINSEQ_1:def 3 , FINSEQ_4:62;
L489: ( dom D37 ) = ( Seg ( len C91 ) ) by L488 , L483 , L484 , L486 , RELAT_1:27;
L490: ( dom C91 ) = ( Seg ( len C91 ) ) by FINSEQ_1:def 3;
L491: ( rng ( C91 " ) ) = ( Seg ( len C91 ) ) by L490 , L480 , FUNCT_1:33;
L492: ( rng D37 ) = ( Seg ( len C91 ) ) by L491 , L483 , L486 , RELAT_1:28;
reconsider D38 = D37 as (Function of ( Seg ( len C91 ) ) , ( Seg ( len C91 ) )) by L492 , L489 , FUNCT_2:1;
L493: D38 is  onto by L492 , FUNCT_2:def 3;
L494: ( len ( R6 * C91 ) ) = ( len C91 ) by FINSEQ_2:33;
L495: ( dom ( R6 * C91 ) ) = ( Seg ( len C91 ) ) by L494 , FINSEQ_1:def 3;
reconsider D39 = D38 as (Permutation of ( dom ( R6 * C91 ) )) by L495 , L480 , L485 , L493;
L496: ( ( R6 * C91 ) * D39 ) = ( R6 * ( C91 * D39 ) ) by RELAT_1:36
.= ( R6 * ( ( C91 * ( C91 " ) ) * C92 ) ) by RELAT_1:36
.= ( R6 * ( ( id ( Carrier R6 ) ) * C92 ) ) by L480 , L481 , FUNCT_1:39
.= ( R6 * C92 ) by L486 , RELAT_1:53;
thus L497: C89 = C90 by L496 , L482 , L487 , FINSOP_1:7;
end;
end;
theorem
L499: (for R5 being non  empty addLoopStr holds (for R6 being (Linear_Combination of R5) holds (for B57 being (FinSequence of R5) holds (( Carrier R6 ) misses ( rng B57 ) implies ( Sum ( R6 * B57 ) ) = ( 0 )))))
proof
let R5 being non  empty addLoopStr;
let R6 being (Linear_Combination of R5);
let C93 being (FinSequence of R5);
assume that
L500: ( Carrier R6 ) misses ( rng C93 );
set D40 = ( R6 * C93 );
set D41 = ( ( len D40 ) |-> (( 0 ) qua Real) );
L501:
now
let C94 being Nat;
assume L502: (1 <= C94 & C94 <= ( len D40 ));
L503: C94 in ( dom D40 ) by L502 , FINSEQ_3:25;
L504: C94 in ( dom C93 ) by L503 , FUNCT_1:11;
L505: ( C93 . C94 ) in ( rng C93 ) by L504 , FUNCT_1:def 3;
L506: (( dom R6 ) = (the carrier of R5) & (not ( C93 . C94 ) in ( Carrier R6 ))) by L505 , L500 , FUNCT_2:def 1 , XBOOLE_0:3;
L507: (( D40 . C94 ) = ( R6 . ( C93 . C94 ) ) & ( C93 . C94 ) in ( dom R6 )) by L503 , FUNCT_1:11 , FUNCT_1:12;
thus L508: ( D40 . C94 ) = ( D41 . C94 ) by L507 , L506;
end;
L509: ( len D41 ) = ( len D40 ) by CARD_1:def 7;
L510: D40 = D41 by L509 , L501 , FINSEQ_1:14;
thus L511: thesis by L510 , RVSUM_1:81;
end;
theorem
L512: (for R5 being non  empty addLoopStr holds (for R6 being (Linear_Combination of R5) holds (for B58 being (FinSequence of R5) holds ((B58 is  one-to-one & ( Carrier R6 ) c= ( rng B58 )) implies ( sum R6 ) = ( Sum ( R6 * B58 ) )))))
proof
let R5 being non  empty addLoopStr;
let R6 being (Linear_Combination of R5);
let C95 being (FinSequence of R5);
assume that
L513: C95 is  one-to-one
and
L514: ( Carrier R6 ) c= ( rng C95 );
consider C96 being (FinSequence of R5) such that L515: C96 is  one-to-one and L516: ( rng C96 ) = ( Carrier R6 ) and L517: ( sum R6 ) = ( Sum ( R6 * C96 ) ) by L476;
reconsider D42 = ( rng C96 ) as (Subset of ( rng C95 )) by L514 , L516;
reconsider D43 = ( C95 - D42 ) , D44 = ( C95 - ( D42 ` ) ) as (FinSequence of R5) by FINSEQ_3:86;
consider C97 being (Permutation of ( dom C95 )) such that L518: ( C95 * C97 ) = ( ( C95 - ( D42 ` ) ) ^ ( C95 - D42 ) ) by FINSEQ_3:115;
L519: ( ( rng C95 ) \ ( D42 ` ) ) = ( ( D42 ` ) ` )
.= D42;
L520: ( rng D44 ) = D42 by L519 , FINSEQ_3:65;
L521: D44 is  one-to-one by L513 , FINSEQ_3:87;
L522: D44 , C96 are_fiberwise_equipotent  by L521 , L515 , L520 , RFINSEQ:26;
consider C98 being (Permutation of ( dom C96 )) such that L523: D44 = ( C96 * C98 ) by L522 , RFINSEQ:4;
L524: ( len ( R6 * C96 ) ) = ( len C96 ) by FINSEQ_2:33;
L525: ( dom C96 ) = ( dom ( R6 * C96 ) ) by L524 , FINSEQ_3:29;
L526: ( ( R6 * C96 ) * C98 ) = ( R6 * D44 ) by L523 , RELAT_1:36;
L527: ( sum R6 ) = ( Sum ( R6 * D44 ) ) by L526 , L517 , L525 , FINSOP_1:7;
L528: ( len ( R6 * C95 ) ) = ( len C95 ) by FINSEQ_2:33;
L529: ( dom C95 ) = ( dom ( R6 * C95 ) ) by L528 , FINSEQ_3:29;
L530: ( ( rng C95 ) \ D42 ) = ( rng D43 ) by FINSEQ_3:65;
L531: ( rng D43 ) misses ( Carrier R6 ) by L530 , L516 , XBOOLE_1:79;
L532: (( R6 * ( D44 ^ D43 ) ) = ( ( R6 * D44 ) ^ ( R6 * D43 ) ) & ( Sum ( R6 * D43 ) ) = ( 0 )) by L531 , L499 , FINSEQOP:9;
L533: ( ( R6 * C95 ) * C97 ) = ( R6 * ( D44 ^ D43 ) ) by L518 , RELAT_1:36;
thus L534: ( Sum ( R6 * C95 ) ) = ( Sum ( R6 * ( D44 ^ D43 ) ) ) by L533 , L529 , FINSOP_1:7
.= ( ( sum R6 ) + ( 0 ) ) by L527 , L532 , RVSUM_1:75
.= ( sum R6 );
end;
theorem
L535: (for R5 being non  empty addLoopStr holds ( sum ( ZeroLC R5 ) ) = ( 0 ))
proof
let R5 being non  empty addLoopStr;
consider C99 being (FinSequence of R5) such that L536: C99 is  one-to-one and L537: ( rng C99 ) = ( Carrier ( ZeroLC R5 ) ) and L538: ( sum ( ZeroLC R5 ) ) = ( Sum ( ( ZeroLC R5 ) * C99 ) ) by L476;
L539: C99 = ( {} ) by L537 , RLVECT_2:def 5;
thus L540: thesis by L539 , L538 , RVSUM_1:72;
end;
theorem
L541: (for R5 being non  empty addLoopStr holds (for R6 being (Linear_Combination of R5) holds (for B59 being (Element of R5) holds (( Carrier R6 ) c= { B59 } implies ( sum R6 ) = ( R6 . B59 )))))
proof
let R5 being non  empty addLoopStr;
let R6 being (Linear_Combination of R5);
let C100 being (Element of R5);
consider C101 being FinSequence such that L542: ( rng C101 ) = { C100 } and L543: C101 is  one-to-one by FINSEQ_4:58;
reconsider D45 = C101 as (FinSequence of R5) by L542 , FINSEQ_1:def 4;
L544: (( dom R6 ) = (the carrier of R5) & D45 = <* C100 *>) by L542 , L543 , FINSEQ_3:97 , FUNCT_2:def 1;
L545: ( R6 * D45 ) = <* ( R6 . C100 ) *> by L544 , FINSEQ_2:34;
assume L546: ( Carrier R6 ) c= { C100 };
thus L547: ( sum R6 ) = ( Sum ( R6 * D45 ) ) by L546 , L542 , L543 , L512
.= ( R6 . C100 ) by L545 , RVSUM_1:73;
end;
theorem
L548: (for R5 being non  empty addLoopStr holds (for R6 being (Linear_Combination of R5) holds (for B60 , B61 being (Element of R5) holds ((( Carrier R6 ) c= { B60 , B61 } & B60 <> B61) implies ( sum R6 ) = ( ( R6 . B60 ) + ( R6 . B61 ) )))))
proof
let R5 being non  empty addLoopStr;
let R6 being (Linear_Combination of R5);
let C102 , C103 being (Element of R5);
consider C104 being FinSequence such that L549: ( rng C104 ) = { C102 , C103 } and L550: C104 is  one-to-one by FINSEQ_4:58;
reconsider D46 = C104 as (FinSequence of R5) by L549 , FINSEQ_1:def 4;
assume that
L551: ( Carrier R6 ) c= { C102 , C103 }
and
L552: C102 <> C103;
L553: ( dom R6 ) = (the carrier of R5) by FUNCT_2:def 1;
L554: ( Sum <* ( R6 . C102 ) *> ) = ( R6 . C102 ) by RVSUM_1:73;
L555: (D46 = <* C102 , C103 *> or D46 = <* C103 , C102 *>) by L549 , L550 , L552 , FINSEQ_3:99;
L556: (( R6 * D46 ) = <* ( R6 . C102 ) , ( R6 . C103 ) *> or ( R6 * D46 ) = <* ( R6 . C103 ) , ( R6 . C102 ) *>) by L555 , L553 , FINSEQ_2:125;
L557: (( Sum ( R6 * D46 ) ) = ( ( R6 . C102 ) + ( R6 . C103 ) ) or ( Sum ( R6 * D46 ) ) = ( ( R6 . C103 ) + ( R6 . C102 ) )) by L556 , L554 , RVSUM_1:74 , RVSUM_1:76;
thus L558: thesis by L557 , L549 , L550 , L551 , L512;
end;
theorem
L559: (for R5 being non  empty addLoopStr holds (for R7 being (Linear_Combination of R5) holds (for R8 being (Linear_Combination of R5) holds ( sum ( R7 + R8 ) ) = ( ( sum R7 ) + ( sum R8 ) ))))
proof
let R5 being non  empty addLoopStr;
let R7 being (Linear_Combination of R5);
let R8 being (Linear_Combination of R5);
set D47 = ( Carrier R7 );
set D48 = ( Carrier R8 );
consider C105 being FinSequence such that L560: ( rng C105 ) = ( D47 \ D48 ) and L561: C105 is  one-to-one by FINSEQ_4:58;
consider C106 being FinSequence such that L562: ( rng C106 ) = ( D47 /\ D48 ) and L563: C106 is  one-to-one by FINSEQ_4:58;
consider C107 being FinSequence such that L564: ( rng C107 ) = ( D48 \ D47 ) and L565: C107 is  one-to-one by FINSEQ_4:58;
reconsider D49 = C105 , D50 = C106 , D51 = C107 as (FinSequence of R5) by L560 , L562 , L564 , FINSEQ_1:def 4;
L566: ( D47 \ D48 ) misses ( D47 /\ D48 ) by XBOOLE_1:89;
L567: ( D49 ^ D50 ) is  one-to-one by L566 , L560 , L561 , L562 , L563 , FINSEQ_3:91;
set D52 = ( D49 ^ D50 );
L568: ( rng D52 ) = ( ( D47 \ D48 ) \/ ( D47 /\ D48 ) ) by L560 , L562 , FINSEQ_1:31
.= D47 by XBOOLE_1:51;
L569: ( rng ( ( D49 ^ D50 ) ^ D51 ) ) = ( D47 \/ ( D48 \ D47 ) ) by L568 , L564 , FINSEQ_1:31
.= ( D47 \/ D48 ) by XBOOLE_1:39;
set D53 = ( D50 ^ D51 );
L570: ( rng D53 ) = ( ( D47 /\ D48 ) \/ ( D48 \ D47 ) ) by L562 , L564 , FINSEQ_1:31
.= D48 by XBOOLE_1:51;
set D54 = ( D52 ^ D51 );
L571: D54 = ( D49 ^ D53 ) by FINSEQ_1:32;
L572: ( R8 * D54 ) = ( ( R8 * D49 ) ^ ( R8 * D53 ) ) by L571 , FINSEQOP:9;
L573: ( D48 \ D47 ) misses ( D47 /\ D48 ) by XBOOLE_1:89;
L574: ( D50 ^ D51 ) is  one-to-one by L573 , L562 , L563 , L564 , L565 , FINSEQ_3:91;
L575: D48 misses ( D47 \ D48 ) by XBOOLE_1:79;
L576: ( Sum ( R8 * D49 ) ) = ( 0 ) by L575 , L560 , L499;
L577: ( Sum ( R8 * D54 ) ) = ( ( 0 ) + ( Sum ( R8 * D53 ) ) ) by L576 , L572 , RVSUM_1:75
.= ( sum R8 ) by L570 , L574 , L476;
L578: (( len ( R7 * D54 ) ) = ( len D54 ) & ( len ( R8 * D54 ) ) = ( len D54 )) by FINSEQ_2:33;
reconsider D55 = ( R7 * D54 ) , D56 = ( R8 * D54 ) as (Element of ( ( len D54 ) -tuples_on ( REAL ) )) by L578 , FINSEQ_2:92;
L579: ( ( R7 + R8 ) * D54 ) = ( D55 + D56 ) by L146;
L580: D47 misses ( D48 \ D47 ) by XBOOLE_1:79;
L581: (( R7 * D54 ) = ( ( R7 * D52 ) ^ ( R7 * D51 ) ) & ( Sum ( R7 * D51 ) ) = ( 0 )) by L580 , L564 , L499 , FINSEQOP:9;
L582: ( Sum ( R7 * D54 ) ) = ( ( Sum ( R7 * D52 ) ) + ( 0 ) ) by L581 , RVSUM_1:75
.= ( sum R7 ) by L567 , L568 , L476;
L583: ( Carrier ( R7 + R8 ) ) c= ( D47 \/ D48 )
proof
let R1 being set;
assume L584: R1 in ( Carrier ( R7 + R8 ) );
consider C108 being (Element of R5) such that L585: R1 = C108 and L586: ( ( R7 + R8 ) . C108 ) <> ( 0 ) by L584;
L587: ( ( R7 + R8 ) . C108 ) = ( ( R7 . C108 ) + ( R8 . C108 ) ) by RLVECT_2:def 10;
L588: (( R7 . C108 ) <> ( 0 ) or ( R8 . C108 ) <> ( 0 )) by L587 , L586;
L589: (R1 in D47 or R1 in D48) by L588 , L585;
thus L590: thesis by L589 , XBOOLE_0:def 3;
end;
L591: ( ( D49 ^ D50 ) ^ D51 ) is  one-to-one by L564 , L565 , L567 , L568 , L580 , FINSEQ_3:91;
thus L592: ( sum ( R7 + R8 ) ) = ( Sum ( D55 + D56 ) ) by L591 , L569 , L579 , L583 , L512
.= ( ( sum R7 ) + ( sum R8 ) ) by L577 , L582 , RVSUM_1:89;
end;
theorem
L593: (for R3 being Real holds (for R21 being RealLinearSpace holds (for R31 being (Linear_Combination of R21) holds ( sum ( R3 * R31 ) ) = ( R3 * ( sum R31 ) ))))
proof
let R3 being Real;
let R21 being RealLinearSpace;
let R31 being (Linear_Combination of R21);
consider C109 being (FinSequence of R21) such that L594: C109 is  one-to-one and L595: ( rng C109 ) = ( Carrier R31 ) and L596: ( sum R31 ) = ( Sum ( R31 * C109 ) ) by L476;
L597: R31 is (Linear_Combination of ( Carrier R31 )) by RLVECT_2:def 6;
L598: ( R3 * R31 ) is (Linear_Combination of ( Carrier R31 )) by L597 , RLVECT_2:44;
L599: ( Carrier ( R3 * R31 ) ) c= ( rng C109 ) by L598 , L595 , RLVECT_2:def 6;
thus L600: ( R3 * ( sum R31 ) ) = ( Sum ( R3 * ( R31 * C109 ) ) ) by L596 , RVSUM_1:87
.= ( Sum ( ( R3 * R31 ) * C109 ) ) by L162
.= ( sum ( R3 * R31 ) ) by L594 , L599 , L512;
end;
theorem
L601: (for R21 being RealLinearSpace holds (for R32 being (Linear_Combination of R21) holds (for R33 being (Linear_Combination of R21) holds ( sum ( R32 - R33 ) ) = ( ( sum R32 ) - ( sum R33 ) ))))
proof
let R21 being RealLinearSpace;
let R32 being (Linear_Combination of R21);
let R33 being (Linear_Combination of R21);
thus L602: ( sum ( R32 - R33 ) ) = ( ( sum R32 ) + ( sum ( ( - 1 ) * R33 ) ) ) by L559
.= ( ( sum R32 ) + ( ( - 1 ) * ( sum R33 ) ) ) by L593
.= ( ( sum R32 ) - ( sum R33 ) );
end;
theorem
L603: (for R9 being  Abelian  add-associative  right_zeroed  right_complementable non  empty addLoopStr holds (for R10 being (Linear_Combination of R9) holds (for R13 being (Element of R9) holds ( sum R10 ) = ( sum ( R13 + R10 ) ))))
proof
let R9 being  Abelian  add-associative  right_zeroed  right_complementable non  empty addLoopStr;
let R10 being (Linear_Combination of R9);
let R13 being (Element of R9);
set D57 = ( R13 + R10 );
deffunc H9((Element of R9)) = ( $1 + R13 );
consider C110 being (Function of (the carrier of R9) , (the carrier of R9)) such that L604: (for R14 being (Element of R9) holds ( C110 . R14 ) = H9(R14)) from FUNCT_2:sch 4;
consider C111 being (FinSequence of R9) such that L605: C111 is  one-to-one and L606: ( rng C111 ) = ( Carrier R10 ) and L607: ( sum R10 ) = ( Sum ( R10 * C111 ) ) by L476;
L608: ( len ( C110 * C111 ) ) = ( len C111 ) by FINSEQ_2:33;
L609: ( len ( R10 * C111 ) ) = ( len C111 ) by FINSEQ_2:33;
L610: ( len ( D57 * ( C110 * C111 ) ) ) = ( len ( C110 * C111 ) ) by FINSEQ_2:33;
L611:
now
let C112 being Nat;
assume L612: (1 <= C112 & C112 <= ( len C111 ));
L613: C112 in ( dom C111 ) by L612 , FINSEQ_3:25;
L614: ( C111 /. C112 ) = ( C111 . C112 ) by L613 , PARTFUN1:def 6;
L615: C112 in ( dom ( R10 * C111 ) ) by L609 , L612 , FINSEQ_3:25;
L616: ( ( R10 * C111 ) . C112 ) = ( R10 . ( C111 . C112 ) ) by L615 , FUNCT_1:12;
L617: C112 in ( dom ( D57 * ( C110 * C111 ) ) ) by L608 , L610 , L612 , FINSEQ_3:25;
L618: ( ( D57 * ( C110 * C111 ) ) . C112 ) = ( D57 . ( ( C110 * C111 ) . C112 ) ) by L617 , FUNCT_1:12;
L619: C112 in ( dom ( C110 * C111 ) ) by L608 , L612 , FINSEQ_3:25;
L620: ( ( C110 * C111 ) . C112 ) = ( C110 . ( C111 . C112 ) ) by L619 , FUNCT_1:12;
L621: ( ( C110 * C111 ) . C112 ) = ( ( C111 /. C112 ) + R13 ) by L620 , L604 , L614;
thus L622: ( ( D57 * ( C110 * C111 ) ) . C112 ) = ( R10 . ( ( ( C111 /. C112 ) + R13 ) - R13 ) ) by L621 , L618 , L337
.= ( R10 . ( ( ( C111 /. C112 ) + R13 ) + ( - R13 ) ) ) by RLVECT_1:def 11
.= ( R10 . ( ( C111 /. C112 ) + ( R13 + ( - R13 ) ) ) ) by RLVECT_1:def 3
.= ( R10 . ( ( C111 /. C112 ) + ( 0. R9 ) ) ) by RLVECT_1:def 10
.= ( ( R10 * C111 ) . C112 ) by L614 , L616 , RLVECT_1:4;
end;
L623:
now
let C113 , C114 being set;
assume that
L624: C113 in ( dom ( C110 * C111 ) )
and
L625: C114 in ( dom ( C110 * C111 ) )
and
L626: ( ( C110 * C111 ) . C113 ) = ( ( C110 * C111 ) . C114 );
L627: ( C110 . ( C111 /. C113 ) ) = ( ( C111 /. C113 ) + R13 ) by L604;
L628: C113 in ( dom C111 ) by L624 , FUNCT_1:11;
L629: ( C111 . C113 ) = ( C111 /. C113 ) by L628 , PARTFUN1:def 6;
L630: C114 in ( dom C111 ) by L625 , FUNCT_1:11;
L631: ( C111 . C114 ) = ( C111 /. C114 ) by L630 , PARTFUN1:def 6;
L632: (( ( C110 * C111 ) . C113 ) = ( C110 . ( C111 . C113 ) ) & ( ( C110 * C111 ) . C114 ) = ( C110 . ( C111 . C114 ) )) by L624 , L625 , FUNCT_1:12;
L633: ( ( C111 /. C113 ) + R13 ) = ( ( C111 /. C114 ) + R13 ) by L632 , L604 , L626 , L627 , L629 , L631;
L634: ( C111 /. C113 ) = ( C111 /. C114 ) by L633 , RLVECT_1:8;
thus L635: C113 = C114 by L634 , L605 , L628 , L629 , L630 , L631 , FUNCT_1:def 4;
end;
L636: ( C110 * C111 ) is  one-to-one by L623 , FUNCT_1:def 4;
L637: ( Carrier D57 ) c= ( rng ( C110 * C111 ) )
proof
let R1 being set;
assume L638: R1 in ( Carrier D57 );
L639: R1 in ( R13 + ( Carrier R10 ) ) by L638 , L359;
consider R14 being (Element of R9) such that L640: R1 = ( R13 + R14 ) and L641: R14 in ( Carrier R10 ) by L639;
consider R2 being set such that L642: R2 in ( dom C111 ) and L643: ( C111 . R2 ) = R14 by L606 , L641 , FUNCT_1:def 3;
L644: ( C110 . ( C111 . R2 ) ) = R1 by L604 , L640 , L643;
L645: ( dom C110 ) = (the carrier of R9) by FUNCT_2:def 1;
L646: R2 in ( dom ( C110 * C111 ) ) by L645 , L642 , L643 , FUNCT_1:11;
L647: ( ( C110 * C111 ) . R2 ) in ( rng ( C110 * C111 ) ) by L646 , FUNCT_1:def 3;
thus L648: thesis by L647 , L644 , L646 , FUNCT_1:12;
end;
L649: ( sum D57 ) = ( Sum ( D57 * ( C110 * C111 ) ) ) by L637 , L636 , L512;
thus L650: thesis by L649 , L607 , L608 , L609 , L610 , L611 , FINSEQ_1:14;
end;
theorem
L651: (for R3 being Real holds (for R16 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct holds (for R18 being (Linear_Combination of R16) holds (R3 <> ( 0 ) implies ( sum R18 ) = ( sum ( R3 (*) R18 ) )))))
proof
let R3 being Real;
let R16 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct;
let R18 being (Linear_Combination of R16);
set D58 = ( R3 (*) R18 );
deffunc H10((Element of R16)) = ( R3 * $1 );
consider C115 being (Function of (the carrier of R16) , (the carrier of R16)) such that L652: (for B62 being (Element of R16) holds ( C115 . B62 ) = H10(B62)) from FUNCT_2:sch 4;
consider C116 being (FinSequence of R16) such that L653: C116 is  one-to-one and L654: ( rng C116 ) = ( Carrier R18 ) and L655: ( sum R18 ) = ( Sum ( R18 * C116 ) ) by L476;
assume L656: R3 <> ( 0 );
L657:
now
let C117 , C118 being set;
assume that
L658: C117 in ( dom ( C115 * C116 ) )
and
L659: C118 in ( dom ( C115 * C116 ) )
and
L660: ( ( C115 * C116 ) . C117 ) = ( ( C115 * C116 ) . C118 );
L661: ( C115 . ( C116 /. C117 ) ) = ( R3 * ( C116 /. C117 ) ) by L652;
L662: C117 in ( dom C116 ) by L658 , FUNCT_1:11;
L663: ( C116 . C117 ) = ( C116 /. C117 ) by L662 , PARTFUN1:def 6;
L664: C118 in ( dom C116 ) by L659 , FUNCT_1:11;
L665: ( C116 . C118 ) = ( C116 /. C118 ) by L664 , PARTFUN1:def 6;
L666: (( ( C115 * C116 ) . C117 ) = ( C115 . ( C116 . C117 ) ) & ( ( C115 * C116 ) . C118 ) = ( C115 . ( C116 . C118 ) )) by L658 , L659 , FUNCT_1:12;
L667: ( R3 * ( C116 /. C117 ) ) = ( R3 * ( C116 /. C118 ) ) by L666 , L652 , L660 , L661 , L663 , L665;
L668: ( C116 /. C117 ) = ( 1 * ( C116 /. C117 ) ) by RLVECT_1:def 8
.= ( ( ( R3 " ) * R3 ) * ( C116 /. C117 ) ) by L656 , XCMPLX_0:def 7
.= ( ( R3 " ) * ( R3 * ( C116 /. C118 ) ) ) by L667 , RLVECT_1:def 7
.= ( ( ( R3 " ) * R3 ) * ( C116 /. C118 ) ) by RLVECT_1:def 7
.= ( 1 * ( C116 /. C118 ) ) by L656 , XCMPLX_0:def 7
.= ( C116 /. C118 ) by RLVECT_1:def 8;
thus L669: C117 = C118 by L668 , L653 , L662 , L663 , L664 , L665 , FUNCT_1:def 4;
end;
L670: ( C115 * C116 ) is  one-to-one by L657 , FUNCT_1:def 4;
L671: ( len ( R18 * C116 ) ) = ( len C116 ) by FINSEQ_2:33;
L672: ( len ( C115 * C116 ) ) = ( len C116 ) by FINSEQ_2:33;
L673: ( len ( D58 * ( C115 * C116 ) ) ) = ( len ( C115 * C116 ) ) by FINSEQ_2:33;
L674:
now
let C119 being Nat;
assume L675: (1 <= C119 & C119 <= ( len C116 ));
L676: C119 in ( dom C116 ) by L675 , FINSEQ_3:25;
L677: ( C116 /. C119 ) = ( C116 . C119 ) by L676 , PARTFUN1:def 6;
L678: C119 in ( dom ( R18 * C116 ) ) by L671 , L675 , FINSEQ_3:25;
L679: ( ( R18 * C116 ) . C119 ) = ( R18 . ( C116 . C119 ) ) by L678 , FUNCT_1:12;
L680: C119 in ( dom ( C115 * C116 ) ) by L672 , L675 , FINSEQ_3:25;
L681: ( ( C115 * C116 ) . C119 ) = ( C115 . ( C116 . C119 ) ) by L680 , FUNCT_1:12;
L682: C119 in ( dom ( D58 * ( C115 * C116 ) ) ) by L672 , L673 , L675 , FINSEQ_3:25;
L683: ( ( D58 * ( C115 * C116 ) ) . C119 ) = ( D58 . ( ( C115 * C116 ) . C119 ) ) by L682 , FUNCT_1:12;
thus L684: ( ( D58 * ( C115 * C116 ) ) . C119 ) = ( D58 . ( R3 * ( C116 /. C119 ) ) ) by L683 , L652 , L677 , L681
.= ( R18 . ( ( R3 " ) * ( R3 * ( C116 /. C119 ) ) ) ) by L656 , L394
.= ( R18 . ( ( ( R3 " ) * R3 ) * ( C116 /. C119 ) ) ) by RLVECT_1:def 7
.= ( R18 . ( 1 * ( C116 /. C119 ) ) ) by L656 , XCMPLX_0:def 7
.= ( ( R18 * C116 ) . C119 ) by L677 , L679 , RLVECT_1:def 8;
end;
L685: ( R18 * C116 ) = ( D58 * ( C115 * C116 ) ) by L674 , L671 , L672 , L673 , FINSEQ_1:14;
L686: ( Carrier D58 ) c= ( rng ( C115 * C116 ) )
proof
let R1 being set;
assume L687: R1 in ( Carrier D58 );
L688: R1 in ( R3 * ( Carrier R18 ) ) by L687 , L656 , L427;
consider C120 being (Element of R16) such that L689: R1 = ( R3 * C120 ) and L690: C120 in ( Carrier R18 ) by L688;
consider C121 being set such that L691: C121 in ( dom C116 ) and L692: ( C116 . C121 ) = C120 by L654 , L690 , FUNCT_1:def 3;
L693: ( C115 . C120 ) = R1 by L652 , L689;
L694: ( dom C116 ) = ( dom ( C115 * C116 ) ) by L672 , FINSEQ_3:29;
L695: ( ( C115 * C116 ) . C121 ) = ( C115 . C120 ) by L694 , L691 , L692 , FUNCT_1:12;
thus L696: thesis by L695 , L691 , L693 , L694 , FUNCT_1:def 3;
end;
thus L697: thesis by L686 , L655 , L670 , L685 , L512;
end;
theorem
L698: (for R21 being RealLinearSpace holds (for R22 being (VECTOR of R21) holds (for R31 being (Linear_Combination of R21) holds ( Sum ( R22 + R31 ) ) = ( ( ( sum R31 ) * R22 ) + ( Sum R31 ) ))))
proof
let R21 being RealLinearSpace;
let R22 being (VECTOR of R21);
let R31 being (Linear_Combination of R21);
defpred S2[ Nat ] means (for B63 being (Linear_Combination of R21) holds (( card ( Carrier B63 ) ) <= $1 implies ( Sum ( R22 + B63 ) ) = ( ( ( sum B63 ) * R22 ) + ( Sum B63 ) )));
L699: (for B64 being Nat holds (S2[ B64 ] implies S2[ ( B64 + 1 ) ]))
proof
let C122 being Nat;
assume that
L700: S2[ C122 ];
let C123 being (Linear_Combination of R21);
assume that
L701: ( card ( Carrier C123 ) ) <= ( C122 + 1 );
per cases  by L701 , NAT_1:8;
suppose L702: ( card ( Carrier C123 ) ) <= C122;

thus L703: thesis by L702 , L700;
end;
suppose L704: ( card ( Carrier C123 ) ) = ( C122 + 1 );

L705: ( Carrier C123 ) is non  empty by L704;
consider C124 being set such that L706: C124 in ( Carrier C123 ) by L705 , XBOOLE_0:def 1;
reconsider D59 = C124 as (Element of R21) by L706;
L707: ( card ( ( Carrier C123 ) \ { D59 } ) ) = C122 by L704 , L706 , STIRL2_1:55;
consider C125 being (Linear_Combination of { D59 }) such that L708: ( C125 . D59 ) = ( C123 . D59 ) by RLVECT_4:37;
set D60 = ( C123 - C125 );
L709: ( D60 . D59 ) = ( ( C123 . D59 ) - ( C125 . D59 ) ) by RLVECT_2:54
.= ( 0 ) by L708;
L710: (not D59 in ( Carrier D60 )) by L709 , RLVECT_2:19;
L711: ( Carrier C125 ) c= { D59 } by RLVECT_2:def 6;
L712: (( Carrier D60 ) c= ( ( Carrier C123 ) \/ ( Carrier C125 ) ) & ( ( Carrier C123 ) \/ ( Carrier C125 ) ) c= ( ( Carrier C123 ) \/ { D59 } )) by L711 , RLVECT_2:55 , XBOOLE_1:9;
L713: ( ( Carrier C123 ) \/ { D59 } ) = ( Carrier C123 ) by L706 , ZFMISC_1:40;
L714: ( Carrier D60 ) c= ( Carrier C123 ) by L713 , L712 , XBOOLE_1:1;
L715: ( card ( Carrier D60 ) ) <= C122 by L714 , L710 , L707 , NAT_1:43 , ZFMISC_1:34;
L716: ( Sum ( R22 + D60 ) ) = ( ( ( sum D60 ) * R22 ) + ( Sum D60 ) ) by L715 , L700;
L717: ( D60 + C125 ) = ( C123 + ( C125 - C125 ) ) by RLVECT_2:40
.= ( C123 + ( ZeroLC R21 ) ) by RLVECT_2:57
.= C123 by RLVECT_2:41;
L718: ( Sum C123 ) = ( ( Sum D60 ) + ( Sum C125 ) ) by L717 , RLVECT_3:1
.= ( ( Sum D60 ) + ( ( C125 . D59 ) * D59 ) ) by RLVECT_2:32;
L719: ( R22 + ( Carrier C125 ) ) c= ( R22 + { D59 } ) by L711 , RLTOPSP1:8;
L720: ( R22 + ( Carrier C125 ) ) c= { ( R22 + D59 ) } by L719 , L70;
L721: ( Carrier ( R22 + C125 ) ) c= { ( R22 + D59 ) } by L720 , L359;
L722: ( R22 + C125 ) is (Linear_Combination of { ( R22 + D59 ) }) by L721 , RLVECT_2:def 6;
L723: ( Sum ( R22 + C125 ) ) = ( ( ( R22 + C125 ) . ( R22 + D59 ) ) * ( R22 + D59 ) ) by L722 , RLVECT_2:32
.= ( ( C125 . ( ( R22 + D59 ) - R22 ) ) * ( R22 + D59 ) ) by L337
.= ( ( C125 . D59 ) * ( R22 + D59 ) ) by RLVECT_4:1;
L724: ( sum C123 ) = ( ( sum D60 ) + ( sum C125 ) ) by L717 , L559
.= ( ( sum D60 ) + ( C125 . D59 ) ) by L711 , L541;
L725: ( R22 + C123 ) = ( ( R22 + D60 ) + ( R22 + C125 ) ) by L717 , L374;
thus L726: ( Sum ( R22 + C123 ) ) = ( ( Sum ( R22 + D60 ) ) + ( Sum ( R22 + C125 ) ) ) by L725 , RLVECT_3:1
.= ( ( ( ( sum D60 ) * R22 ) + ( Sum D60 ) ) + ( ( ( C125 . D59 ) * R22 ) + ( ( C125 . D59 ) * D59 ) ) ) by L716 , L723 , RLVECT_1:def 5
.= ( ( ( ( ( sum D60 ) * R22 ) + ( Sum D60 ) ) + ( ( C125 . D59 ) * R22 ) ) + ( ( C125 . D59 ) * D59 ) ) by RLVECT_1:def 3
.= ( ( ( ( ( sum D60 ) * R22 ) + ( ( C125 . D59 ) * R22 ) ) + ( Sum D60 ) ) + ( ( C125 . D59 ) * D59 ) ) by RLVECT_1:def 3
.= ( ( ( ( sum C123 ) * R22 ) + ( Sum D60 ) ) + ( ( C125 . D59 ) * D59 ) ) by L724 , RLVECT_1:def 6
.= ( ( ( sum C123 ) * R22 ) + ( Sum C123 ) ) by L718 , RLVECT_1:def 3;
end;
end;
L728: S2[ (( 0 ) qua Nat) ]
proof
let C126 being (Linear_Combination of R21);
assume L729: ( card ( Carrier C126 ) ) <= ( 0 );
L730: ( Carrier C126 ) = ( {} R21 ) by L729;
L731: (C126 = ( ZeroLC R21 ) & ( Sum C126 ) = ( 0. R21 )) by L730 , RLVECT_2:34 , RLVECT_2:def 5;
L732: ( R22 + ( Carrier C126 ) ) = ( {} ) by L730 , L110;
L733: ( Carrier ( R22 + C126 ) ) = ( {} ) by L732 , L359;
thus L734: ( Sum ( R22 + C126 ) ) = ( 0. R21 ) by L733 , RLVECT_2:34
.= ( ( 0. R21 ) + ( 0. R21 ) ) by RLVECT_1:4
.= ( ( ( sum C126 ) * R22 ) + ( Sum C126 ) ) by L731 , L535 , RLVECT_1:10;
end;
L735: (for B65 being Nat holds S2[ B65 ]) from NAT_1:sch 2(L728 , L699);
L736: S2[ ( card ( Carrier R31 ) ) ] by L735;
thus L737: thesis by L736;
end;
theorem
L738: (for R3 being Real holds (for R21 being RealLinearSpace holds (for R31 being (Linear_Combination of R21) holds ( Sum ( R3 (*) R31 ) ) = ( R3 * ( Sum R31 ) ))))
proof
let R3 being Real;
let R21 being RealLinearSpace;
let R31 being (Linear_Combination of R21);
defpred S3[ Nat ] means (for B66 being (Linear_Combination of R21) holds (( card ( Carrier B66 ) ) <= $1 implies ( Sum ( R3 (*) B66 ) ) = ( R3 * ( Sum B66 ) )));
L739: (for B67 being Nat holds (S3[ B67 ] implies S3[ ( B67 + 1 ) ]))
proof
let C127 being Nat;
assume that
L740: S3[ C127 ];
let C128 being (Linear_Combination of R21);
assume that
L741: ( card ( Carrier C128 ) ) <= ( C127 + 1 );
per cases ;
suppose L742: R3 = ( 0 );

L743: (( R3 (*) C128 ) = ( ZeroLC R21 ) & ( R3 * ( Sum C128 ) ) = ( 0. R21 )) by L742 , L394 , RLVECT_1:10;
thus L744: thesis by L743 , RLVECT_2:30;
end;
suppose L745: R3 <> ( 0 );

per cases  by L741 , NAT_1:8;
suppose L746: ( card ( Carrier C128 ) ) <= C127;

thus L747: thesis by L746 , L740;
end;
suppose L748: ( card ( Carrier C128 ) ) = ( C127 + 1 );

L749: ( Carrier C128 ) <> ( {} ) by L748;
consider C129 being set such that L750: C129 in ( Carrier C128 ) by L749 , XBOOLE_0:def 1;
reconsider D61 = C129 as (Element of R21) by L750;
L751: ( card ( ( Carrier C128 ) \ { D61 } ) ) = C127 by L748 , L750 , STIRL2_1:55;
consider C130 being (Linear_Combination of { D61 }) such that L752: ( C130 . D61 ) = ( C128 . D61 ) by RLVECT_4:37;
set D62 = ( C128 - C130 );
L753: ( D62 . D61 ) = ( ( C128 . D61 ) - ( C130 . D61 ) ) by RLVECT_2:54
.= ( 0 ) by L752;
L754: (not D61 in ( Carrier D62 )) by L753 , RLVECT_2:19;
L755: ( Carrier C130 ) c= { D61 } by RLVECT_2:def 6;
L756: (( Carrier D62 ) c= ( ( Carrier C128 ) \/ ( Carrier C130 ) ) & ( ( Carrier C128 ) \/ ( Carrier C130 ) ) c= ( ( Carrier C128 ) \/ { D61 } )) by L755 , RLVECT_2:55 , XBOOLE_1:9;
L757: ( R3 * ( Carrier C130 ) ) c= { ( R3 * D61 ) }
proof
let R1 being set;
assume L758: R1 in ( R3 * ( Carrier C130 ) );
consider C131 being (Element of R21) such that L759: R1 = ( R3 * C131 ) and L760: C131 in ( Carrier C130 ) by L758;
L761: C131 = D61 by L755 , L760 , TARSKI:def 1;
thus L762: thesis by L761 , L759 , TARSKI:def 1;
end;
L763: ( Carrier ( R3 (*) C130 ) ) c= { ( R3 * D61 ) } by L757 , L745 , L427;
L764: ( R3 (*) C130 ) is (Linear_Combination of { ( R3 * D61 ) }) by L763 , RLVECT_2:def 6;
L765: ( Sum ( R3 (*) C130 ) ) = ( ( ( R3 (*) C130 ) . ( R3 * D61 ) ) * ( R3 * D61 ) ) by L764 , RLVECT_2:32
.= ( ( C130 . ( ( R3 " ) * ( R3 * D61 ) ) ) * ( R3 * D61 ) ) by L745 , L394
.= ( ( C130 . ( ( ( R3 " ) * R3 ) * D61 ) ) * ( R3 * D61 ) ) by RLVECT_1:def 7
.= ( ( C130 . ( 1 * D61 ) ) * ( R3 * D61 ) ) by L745 , XCMPLX_0:def 7
.= ( ( C130 . D61 ) * ( R3 * D61 ) ) by RLVECT_1:def 8;
L766: ( D62 + C130 ) = ( C128 + ( C130 - C130 ) ) by RLVECT_2:40
.= ( C128 + ( ZeroLC R21 ) ) by RLVECT_2:57
.= C128 by RLVECT_2:41;
L767: ( Sum C128 ) = ( ( Sum D62 ) + ( Sum C130 ) ) by L766 , RLVECT_3:1
.= ( ( Sum D62 ) + ( ( C130 . D61 ) * D61 ) ) by RLVECT_2:32;
L768: ( ( Carrier C128 ) \/ { D61 } ) = ( Carrier C128 ) by L750 , ZFMISC_1:40;
L769: ( Carrier D62 ) c= ( Carrier C128 ) by L768 , L756 , XBOOLE_1:1;
L770: ( card ( Carrier D62 ) ) <= C127 by L769 , L754 , L751 , NAT_1:43 , ZFMISC_1:34;
L771: ( Sum ( R3 (*) D62 ) ) = ( R3 * ( Sum D62 ) ) by L770 , L740;
L772: ( R3 (*) C128 ) = ( ( R3 (*) D62 ) + ( R3 (*) C130 ) ) by L766 , L437;
thus L773: ( Sum ( R3 (*) C128 ) ) = ( ( Sum ( R3 (*) D62 ) ) + ( Sum ( R3 (*) C130 ) ) ) by L772 , RLVECT_3:1
.= ( ( R3 * ( Sum D62 ) ) + ( ( ( C130 . D61 ) * R3 ) * D61 ) ) by L765 , L771 , RLVECT_1:def 7
.= ( ( R3 * ( Sum D62 ) ) + ( R3 * ( ( C130 . D61 ) * D61 ) ) ) by RLVECT_1:def 7
.= ( R3 * ( Sum C128 ) ) by L767 , RLVECT_1:def 5;
end;
end;
end;
L776: S3[ (( 0 ) qua Nat) ]
proof
let R31 being (Linear_Combination of R21);
assume L777: ( card ( Carrier R31 ) ) <= ( 0 );
L778: ( Carrier R31 ) = ( {} ) by L777;
L779: R31 = ( ZeroLC R21 ) by L778 , RLVECT_2:def 5;
L780: (( R3 * ( 0. R21 ) ) = ( 0. R21 ) & ( Sum R31 ) = ( 0. R21 )) by L779 , RLVECT_1:10 , RLVECT_2:30;
thus L781: thesis by L780 , L779 , L455;
end;
L782: (for B68 being Nat holds S3[ B68 ]) from NAT_1:sch 2(L776 , L739);
L783: S3[ ( card ( Carrier R31 ) ) ] by L782;
thus L784: thesis by L783;
end;
begin
definition
let R21 being RealLinearSpace;
let R27 being (Subset of R21);
attr R27 is  affinely-independent
means
:L785: (R27 is  empty or (ex R22 being (VECTOR of R21) st (R22 in R27 & ( ( ( - R22 ) + R27 ) \ { ( 0. R21 ) } ) is  linearly-independent)));
end;
registration
let R21 being RealLinearSpace;
cluster  empty ->  affinely-independent for (Subset of R21);
coherence by L785;
let R22 being (VECTOR of R21);
cluster { R22 } ->  affinely-independent for (Subset of R21);
coherence
proof
L787: { R22 } is  affinely-independent
proof
assume L788: { R22 } is non  empty;
take R22;
thus L789: R22 in { R22 } by TARSKI:def 1;
L790: ( ( - R22 ) + R22 ) = ( 0. R21 ) by RLVECT_1:5;
L791: ( ( - R22 ) + { R22 } ) = { ( 0. R21 ) } by L790 , L70;
L792: ( ( ( - R22 ) + { R22 } ) \ { ( 0. R21 ) } ) = ( {} (the carrier of R21) ) by L791 , XBOOLE_1:37;
thus L793: thesis by L792 , RLVECT_3:7;
end;
thus L794: thesis by L787;
end;
let R25 being (VECTOR of R21);
cluster { R22 , R25 } ->  affinely-independent for (Subset of R21);
coherence
proof
per cases ;
suppose L795: R22 = R25;

L796: { R22 , R25 } = { R25 } by L795 , ENUMSET1:29;
thus L797: thesis by L796;
end;
suppose L798: R22 <> R25;

L799: ( ( - R22 ) + { R22 , R25 } ) c= { ( ( - R22 ) + R25 ) , ( 0. R21 ) }
proof
let R1 being set;
assume L800: R1 in ( ( - R22 ) + { R22 , R25 } );
consider C132 being (Element of R21) such that L801: R1 = ( ( - R22 ) + C132 ) and L802: C132 in { R22 , R25 } by L800;
per cases  by L802 , TARSKI:def 2;
suppose L803: C132 = R22;

L804: R1 = ( 0. R21 ) by L803 , L801 , RLVECT_1:5;
thus L805: thesis by L804 , TARSKI:def 2;
end;
suppose L806: C132 = R25;

thus L807: thesis by L806 , L801 , TARSKI:def 2;
end;
end;
L809: ( ( ( - R22 ) + { R22 , R25 } ) \ { ( 0. R21 ) } ) c= ( { ( ( - R22 ) + R25 ) , ( 0. R21 ) } \ { ( 0. R21 ) } ) by L799 , XBOOLE_1:33;
L810: ( - ( - R22 ) ) = R22 by RLVECT_1:17;
L811: ( R25 + ( - R22 ) ) <> ( 0. R21 ) by L810 , L798 , RLVECT_1:6;
L812: { ( ( - R22 ) + R25 ) } is  linearly-independent by L811 , RLVECT_3:8;
L813: { R22 , R25 } is  affinely-independent
proof
assume L814: { R22 , R25 } is non  empty;
take R22;
thus L815: R22 in { R22 , R25 } by TARSKI:def 2;
L816: (( 0. R21 ) in { ( 0. R21 ) } & (not ( ( - R22 ) + R25 ) in { ( 0. R21 ) })) by L811 , TARSKI:def 1;
L817: ( ( ( - R22 ) + { R22 , R25 } ) \ { ( 0. R21 ) } ) c= { ( ( - R22 ) + R25 ) } by L816 , L809 , ZFMISC_1:62;
thus L818: thesis by L817 , L812 , RLVECT_3:5;
end;
thus L819: thesis by L813;
end;
end;
end;
registration
let R21 being RealLinearSpace;
cluster 1 -element  affinely-independent for (Subset of R21);
existence
proof
take { the (Element of R21) };
thus L822: thesis;
end;
end;
L824: (for R21 being RealLinearSpace holds (for R27 being (Subset of R21) holds (R27 is  affinely-independent implies (for B69 being (Linear_Combination of R27) holds ((( Sum B69 ) = ( 0. R21 ) & ( sum B69 ) = ( 0 )) implies ( Carrier B69 ) = ( {} ))))))
proof
let R21 being RealLinearSpace;
let R27 being (Subset of R21);
assume L825: R27 is  affinely-independent;
let C133 being (Linear_Combination of R27);
assume that
L826: ( Sum C133 ) = ( 0. R21 )
and
L827: ( sum C133 ) = ( 0 );
per cases ;
suppose L828: R27 is  empty;

L829: ( Carrier C133 ) c= ( {} ) by L828 , RLVECT_2:def 6;
thus L830: thesis by L829;
end;
suppose L831: R27 is non  empty;

consider C134 being (VECTOR of R21) such that L832: C134 in R27 and L833: ( ( ( - C134 ) + R27 ) \ { ( 0. R21 ) } ) is  linearly-independent by L831 , L825 , L785;
L834: ( R27 \/ { C134 } ) = R27 by L832 , ZFMISC_1:40;
consider C135 being (Linear_Combination of { C134 }) such that L835: ( C135 . C134 ) = ( C133 . C134 ) by RLVECT_4:37;
set D63 = ( C133 - C135 );
L836: ( ( ( - C134 ) + D63 ) . ( 0. R21 ) ) = ( D63 . ( ( 0. R21 ) - ( - C134 ) ) ) by L337
.= ( D63 . ( - ( - C134 ) ) ) by RLVECT_1:14
.= ( D63 . C134 ) by RLVECT_1:17
.= ( ( C133 . C134 ) - ( C135 . C134 ) ) by RLVECT_2:54
.= ( 0 ) by L835;
L837: (not ( 0. R21 ) in ( Carrier ( ( - C134 ) + D63 ) )) by L836 , RLVECT_2:19;
L838: ( Carrier C135 ) c= { C134 } by RLVECT_2:def 6;
L839: (( Carrier C135 ) = { C134 } or ( Carrier C135 ) = ( {} )) by L838 , ZFMISC_1:33;
L840: ( Carrier C133 ) c= R27 by RLVECT_2:def 6;
L841: (( Carrier D63 ) c= ( ( Carrier C133 ) \/ ( Carrier C135 ) ) & ( ( Carrier C133 ) \/ ( Carrier C135 ) ) c= ( R27 \/ { C134 } )) by L840 , L838 , RLVECT_2:55 , XBOOLE_1:13;
L842: ( Carrier D63 ) c= R27 by L841 , L834 , XBOOLE_1:1;
L843: ( Carrier ( ( - C134 ) + D63 ) ) = ( ( - C134 ) + ( Carrier D63 ) ) by L359;
L844: ( Carrier ( ( - C134 ) + D63 ) ) c= ( ( - C134 ) + R27 ) by L843 , L842 , RLTOPSP1:8;
L845: ( Carrier ( ( - C134 ) + D63 ) ) c= ( ( ( - C134 ) + R27 ) \ { ( 0. R21 ) } ) by L844 , L837 , ZFMISC_1:34;
L846: ( ( - C134 ) + D63 ) is (Linear_Combination of ( ( ( - C134 ) + R27 ) \ { ( 0. R21 ) } )) by L845 , RLVECT_2:def 6;
L847: ( D63 + C135 ) = ( C133 + ( C135 - C135 ) ) by RLVECT_2:40
.= ( C133 + ( ZeroLC R21 ) ) by RLVECT_2:57
.= C133 by RLVECT_2:41;
L848: ( Sum ( ( - C134 ) + C135 ) ) = ( ( ( sum C135 ) * ( - C134 ) ) + ( Sum C135 ) ) by L698
.= ( ( ( sum C135 ) * ( - C134 ) ) + ( ( C135 . C134 ) * C134 ) ) by RLVECT_2:32
.= ( ( ( C135 . C134 ) * ( - C134 ) ) + ( ( C135 . C134 ) * C134 ) ) by L838 , L541
.= ( ( C135 . C134 ) * ( ( - C134 ) + C134 ) ) by RLVECT_1:def 5
.= ( ( C135 . C134 ) * ( 0. R21 ) ) by RLVECT_1:5
.= ( 0. R21 ) by RLVECT_1:10;
L849: ( Sum ( ( - C134 ) + C133 ) ) = ( ( ( sum C133 ) * ( - C134 ) ) + ( Sum C133 ) ) by L698
.= ( ( 0. R21 ) + ( 0. R21 ) ) by L826 , L827 , RLVECT_1:10
.= ( 0. R21 ) by RLVECT_1:4;
L850: ( 0. R21 ) = ( Sum ( ( ( - C134 ) + D63 ) + ( ( - C134 ) + C135 ) ) ) by L849 , L847 , L374
.= ( ( Sum ( ( - C134 ) + D63 ) ) + ( 0. R21 ) ) by L848 , RLVECT_3:1
.= ( Sum ( ( - C134 ) + D63 ) ) by RLVECT_1:4;
L851: ( {} ) = ( Carrier ( ( - C134 ) + D63 ) ) by L850 , L833 , L846 , RLVECT_3:def 1;
L852: ( ZeroLC R21 ) = ( ( - C134 ) + D63 ) by L851 , RLVECT_2:def 5;
L853: D63 = ( ( 0. R21 ) + D63 ) by L390
.= ( ( C134 + ( - C134 ) ) + D63 ) by RLVECT_1:5
.= ( C134 + ( ( - C134 ) + D63 ) ) by L382
.= ( ZeroLC R21 ) by L852 , L386;
L854: ( sum D63 ) = ( 0 ) by L853 , L535;
L855: ( 0 ) = ( ( 0 ) + ( sum C135 ) ) by L854 , L827 , L847 , L559
.= ( ( 0 ) + ( C135 . C134 ) ) by L838 , L541;
L856: (not C134 in ( Carrier C135 )) by L855 , RLVECT_2:19;
L857: ( ( Carrier D63 ) \/ ( Carrier C135 ) ) = ( {} ) by L856 , L839 , L853 , RLVECT_2:def 5 , TARSKI:def 1;
L858: ( Carrier C133 ) c= ( {} ) by L857 , L847 , RLVECT_2:37;
thus L859: thesis by L858;
end;
end;
L861: (for R21 being RealLinearSpace holds (for R27 being (Subset of R21) holds ((for B70 being (Linear_Combination of R27) holds ((( Sum B70 ) = ( 0. R21 ) & ( sum B70 ) = ( 0 )) implies ( Carrier B70 ) = ( {} ))) implies (for B71 being (VECTOR of R21) holds (B71 in R27 implies ( ( ( - B71 ) + R27 ) \ { ( 0. R21 ) } ) is  linearly-independent)))))
proof
let R21 being RealLinearSpace;
let R27 being (Subset of R21);
assume that
L862: (for B72 being (Linear_Combination of R27) holds ((( Sum B72 ) = ( 0. R21 ) & ( sum B72 ) = ( 0 )) implies ( Carrier B72 ) = ( {} )));
let C136 being (Element of R21);
assume that
L863: C136 in R27;
set D64 = ( ( - C136 ) + R27 );
set D65 = ( ( ( - C136 ) + R27 ) \ { ( 0. R21 ) } );
L864: ( ( - C136 ) + C136 ) = ( 0. R21 ) by RLVECT_1:5;
L865: ( 0. R21 ) in D64 by L864 , L863;
L866: ( D65 \/ { ( 0. R21 ) } ) = D64 by L865 , ZFMISC_1:116;
let C137 being (Linear_Combination of D65);
assume that
L867: ( Sum C137 ) = ( 0. R21 );
reconsider D66 = ( - ( sum C137 ) ) as Real;
consider C138 being (Linear_Combination of { ( 0. R21 ) }) such that L868: ( C138 . ( 0. R21 ) ) = D66 by RLVECT_4:37;
set D67 = ( C137 + C138 );
set D68 = ( C136 + D67 );
L869: ( Carrier C138 ) c= { ( 0. R21 ) } by RLVECT_2:def 6;
L870: ( C136 + D64 ) = ( ( C136 + ( - C136 ) ) + R27 ) by L81
.= ( ( 0. R21 ) + R27 ) by RLVECT_1:5
.= R27 by L94;
L871: ( Carrier D68 ) = ( C136 + ( Carrier D67 ) ) by L359;
L872: ( Carrier C137 ) c= D65 by RLVECT_2:def 6;
L873: (( Carrier D67 ) c= ( ( Carrier C137 ) \/ ( Carrier C138 ) ) & ( ( Carrier C137 ) \/ ( Carrier C138 ) ) c= ( D65 \/ { ( 0. R21 ) } )) by L872 , L869 , RLVECT_2:37 , XBOOLE_1:13;
L874: ( Carrier D67 ) c= D64 by L873 , L866 , XBOOLE_1:1;
L875: ( Carrier D68 ) c= R27 by L874 , L870 , L871 , RLTOPSP1:8;
L876: D68 is (Linear_Combination of R27) by L875 , RLVECT_2:def 6;
L877: ( sum D68 ) = ( sum D67 ) by L603;
L878: ( sum D67 ) = ( ( sum C137 ) + ( sum C138 ) ) by L559
.= ( ( sum C137 ) + D66 ) by L868 , L869 , L541
.= ( 0 );
L879: ( Sum D68 ) = ( ( ( 0 ) * C136 ) + ( Sum D67 ) ) by L878 , L698
.= ( ( 0. R21 ) + ( Sum D67 ) ) by RLVECT_1:10
.= ( Sum D67 ) by RLVECT_1:4
.= ( ( Sum C137 ) + ( Sum C138 ) ) by RLVECT_3:1
.= ( Sum C138 ) by L867 , RLVECT_1:4
.= ( ( C138 . ( 0. R21 ) ) * ( 0. R21 ) ) by RLVECT_2:32
.= ( 0. R21 ) by RLVECT_1:10;
L880: ( Carrier D68 ) = ( {} ) by L879 , L862 , L876 , L877 , L878;
L881: D68 = ( ZeroLC R21 ) by L880 , RLVECT_2:def 5;
L882: D67 = ( ( 0. R21 ) + D67 ) by L390
.= ( ( ( - C136 ) + C136 ) + D67 ) by RLVECT_1:5
.= ( ( - C136 ) + ( ZeroLC R21 ) ) by L881 , L382
.= ( ZeroLC R21 ) by L386;
assume L883: ( Carrier C137 ) <> ( {} );
consider C139 being set such that L884: C139 in ( Carrier C137 ) by L883 , XBOOLE_0:def 1;
reconsider D69 = C139 as (Element of R21) by L884;
L885: (not D69 in ( Carrier C138 )) by L869 , L872 , L884 , XBOOLE_0:def 5;
L886: ( C138 . D69 ) = ( 0 ) by L885;
L887: ( ( C137 . D69 ) + ( 0 ) ) = ( D67 . D69 ) by L886 , RLVECT_2:def 10
.= ( 0 ) by L882 , RLVECT_2:20;
thus L888: contradiction by L887 , L884 , RLVECT_2:19;
end;
theorem
L889: (for R21 being RealLinearSpace holds (for R27 being (Subset of R21) holds (R27 is  affinely-independent iff (for R22 being (VECTOR of R21) holds (R22 in R27 implies ( ( ( - R22 ) + R27 ) \ { ( 0. R21 ) } ) is  linearly-independent)))))
proof
let R21 being RealLinearSpace;
let R27 being (Subset of R21);
thus L890:now
assume L891: R27 is  affinely-independent;
L892: (for B73 being (Linear_Combination of R27) holds ((( Sum B73 ) = ( 0. R21 ) & ( sum B73 ) = ( 0 )) implies ( Carrier B73 ) = ( {} ))) by L891 , L824;
thus L893: (for R22 being (VECTOR of R21) holds (R22 in R27 implies ( ( ( - R22 ) + R27 ) \ { ( 0. R21 ) } ) is  linearly-independent)) by L892 , L861;
end;
assume L894: (for R22 being (VECTOR of R21) holds (R22 in R27 implies ( ( ( - R22 ) + R27 ) \ { ( 0. R21 ) } ) is  linearly-independent));
assume L895: R27 is non  empty;
consider C140 being set such that L896: C140 in R27 by L895 , XBOOLE_0:def 1;
reconsider D70 = C140 as (Element of R21) by L896;
take D70;
thus L897: thesis by L894 , L896;
end;
theorem
L898: (for R21 being RealLinearSpace holds (for R27 being (Subset of R21) holds (R27 is  affinely-independent iff (for B74 being (Linear_Combination of R27) holds ((( Sum B74 ) = ( 0. R21 ) & ( sum B74 ) = ( 0 )) implies ( Carrier B74 ) = ( {} ))))))
proof
let R21 being RealLinearSpace;
let R27 being (Subset of R21);
thus L899: (R27 is  affinely-independent implies (for B75 being (Linear_Combination of R27) holds ((( Sum B75 ) = ( 0. R21 ) & ( sum B75 ) = ( 0 )) implies ( Carrier B75 ) = ( {} )))) by L824;
assume L900: (for B76 being (Linear_Combination of R27) holds ((( Sum B76 ) = ( 0. R21 ) & ( sum B76 ) = ( 0 )) implies ( Carrier B76 ) = ( {} )));
L901: (for B77 being (VECTOR of R21) holds (B77 in R27 implies ( ( ( - B77 ) + R27 ) \ { ( 0. R21 ) } ) is  linearly-independent)) by L900 , L861;
thus L902: thesis by L901 , L889;
end;
theorem
L903: (for R21 being RealLinearSpace holds (for R27 being (Subset of R21) holds (for R28 being (Subset of R21) holds ((R27 is  affinely-independent & R28 c= R27) implies R28 is  affinely-independent))))
proof
let R21 being RealLinearSpace;
let R27 being (Subset of R21);
let R28 being (Subset of R21);
assume that
L904: R27 is  affinely-independent
and
L905: R28 c= R27;
L906:
now
let C141 being (Linear_Combination of R28);
assume that
L907: (( Sum C141 ) = ( 0. R21 ) & ( sum C141 ) = ( 0 ));
L908: C141 is (Linear_Combination of R27) by L905 , RLVECT_2:21;
thus L909: ( Carrier C141 ) = ( {} ) by L908 , L904 , L907 , L898;
end;
thus L910: thesis by L906 , L898;
end;
registration
let R21 being RealLinearSpace;
cluster  linearly-independent ->  affinely-independent for (Subset of R21);
coherence
proof
let R27 being (Subset of R21);
assume L911: R27 is  linearly-independent;
L912: (for B78 being (Linear_Combination of R27) holds ((( Sum B78 ) = ( 0. R21 ) & ( sum B78 ) = ( 0 )) implies ( Carrier B78 ) = ( {} ))) by L911 , RLVECT_3:def 1;
thus L913: thesis by L912 , L898;
end;
end;
registration
let R21 being RealLinearSpace;
let R34 being  affinely-independent (Subset of R21);
let R22 being (VECTOR of R21);
cluster ( R22 + R34 ) ->  affinely-independent;
coherence
proof
set D71 = ( R22 + R34 );
L915:
now
let C142 being (Linear_Combination of D71);
assume that
L916: ( Sum C142 ) = ( 0. R21 )
and
L917: ( sum C142 ) = ( 0 );
set D72 = ( ( - R22 ) + C142 );
L918: ( sum D72 ) = ( 0 ) by L917 , L603;
L919: (( Carrier D72 ) = ( ( - R22 ) + ( Carrier C142 ) ) & ( Carrier C142 ) c= D71) by L359 , RLVECT_2:def 6;
L920: ( ( - R22 ) + D71 ) = ( ( ( - R22 ) + R22 ) + R34 ) by L81
.= ( ( 0. R21 ) + R34 ) by RLVECT_1:5
.= R34 by L94;
L921: ( Carrier D72 ) c= R34 by L920 , L919 , RLTOPSP1:8;
L922: D72 is (Linear_Combination of R34) by L921 , RLVECT_2:def 6;
L923: ( Sum D72 ) = ( ( ( 0 ) * ( - R22 ) ) + ( 0. R21 ) ) by L916 , L917 , L698
.= ( ( 0. R21 ) + ( 0. R21 ) ) by RLVECT_1:10
.= ( 0. R21 ) by RLVECT_1:4;
L924: ( Carrier D72 ) = ( {} ) by L923 , L918 , L922 , L898;
L925: D72 = ( ZeroLC R21 ) by L924 , RLVECT_2:def 5;
L926: C142 = ( ( 0. R21 ) + C142 ) by L390
.= ( ( R22 + ( - R22 ) ) + C142 ) by RLVECT_1:5
.= ( R22 + ( ZeroLC R21 ) ) by L925 , L382
.= ( ZeroLC R21 ) by L386;
thus L927: ( Carrier C142 ) = ( {} ) by L926 , RLVECT_2:def 5;
end;
thus L928: thesis by L915 , L898;
end;
end;
theorem
L930: (for R21 being RealLinearSpace holds (for R22 being (VECTOR of R21) holds (for R27 being (Subset of R21) holds (( R22 + R27 ) is  affinely-independent implies R27 is  affinely-independent))))
proof
let R21 being RealLinearSpace;
let R22 being (VECTOR of R21);
let R27 being (Subset of R21);
assume L931: ( R22 + R27 ) is  affinely-independent;
L932: ( ( - R22 ) + ( R22 + R27 ) ) = ( ( ( - R22 ) + R22 ) + R27 ) by L81
.= ( ( 0. R21 ) + R27 ) by RLVECT_1:5
.= R27 by L94;
thus L933: thesis by L932 , L931;
end;
registration
let R21 being RealLinearSpace;
let R34 being  affinely-independent (Subset of R21);
let R3 being Real;
cluster ( R3 * R34 ) ->  affinely-independent;
coherence
proof
per cases ;
suppose L934: R3 = ( 0 );

L935: ( R3 * R34 ) c= { ( 0. R21 ) } by L934 , L141;
L936: (( R3 * R34 ) = ( {} R21 ) or ( R3 * R34 ) = { ( 0. R21 ) }) by L935 , ZFMISC_1:33;
thus L937: thesis by L936;
end;
suppose L938: R3 <> ( 0 );

L939:
now
let C143 being (Linear_Combination of ( R3 * R34 ));
assume that
L940: ( Sum C143 ) = ( 0. R21 )
and
L941: ( sum C143 ) = ( 0 );
set D73 = ( ( R3 " ) (*) C143 );
L942: ( Sum D73 ) = ( ( R3 " ) * ( 0. R21 ) ) by L940 , L738
.= ( 0. R21 ) by RLVECT_1:10;
L943: (( Carrier D73 ) = ( ( R3 " ) * ( Carrier C143 ) ) & ( Carrier C143 ) c= ( R3 * R34 )) by L938 , L427 , RLVECT_2:def 6;
L944: ( ( R3 " ) * ( R3 * R34 ) ) = ( ( ( R3 " ) * R3 ) * R34 ) by L120
.= ( 1 * R34 ) by L938 , XCMPLX_0:def 7
.= R34 by L133;
L945: ( Carrier D73 ) c= R34 by L944 , L943 , L115;
L946: D73 is (Linear_Combination of R34) by L945 , RLVECT_2:def 6;
L947: ( sum D73 ) = ( 0 ) by L938 , L941 , L651;
L948: ( Carrier D73 ) = ( {} ) by L947 , L942 , L946 , L898;
L949: D73 = ( ZeroLC R21 ) by L948 , RLVECT_2:def 5;
L950: C143 = ( 1 (*) C143 ) by L472
.= ( ( R3 * ( R3 " ) ) (*) C143 ) by L938 , XCMPLX_0:def 7
.= ( R3 (*) ( ZeroLC R21 ) ) by L949 , L463
.= ( ZeroLC R21 ) by L455;
thus L951: ( Carrier C143 ) = ( {} ) by L950 , RLVECT_2:def 5;
end;
thus L952: thesis by L939 , L898;
end;
end;
end;
theorem
L955: (for R3 being Real holds (for R21 being RealLinearSpace holds (for R27 being (Subset of R21) holds ((( R3 * R27 ) is  affinely-independent & R3 <> ( 0 )) implies R27 is  affinely-independent))))
proof
let R3 being Real;
let R21 being RealLinearSpace;
let R27 being (Subset of R21);
assume that
L956: ( R3 * R27 ) is  affinely-independent
and
L957: R3 <> ( 0 );
L958: ( ( R3 " ) * ( R3 * R27 ) ) = ( ( ( R3 " ) * R3 ) * R27 ) by L120
.= ( 1 * R27 ) by L957 , XCMPLX_0:def 7
.= R27 by L133;
thus L959: thesis by L958 , L956;
end;
theorem
L960: (for R21 being RealLinearSpace holds (for R27 being (Subset of R21) holds (( 0. R21 ) in R27 implies (R27 is  affinely-independent iff ( R27 \ { ( 0. R21 ) } ) is  linearly-independent))))
proof
let R21 being RealLinearSpace;
let R27 being (Subset of R21);
assume L961: ( 0. R21 ) in R27;
L962: ( ( - ( 0. R21 ) ) + R27 ) = ( ( 0. R21 ) + R27 ) by RLVECT_1:12
.= R27 by L94;
thus L963: (R27 is  affinely-independent implies ( R27 \ { ( 0. R21 ) } ) is  linearly-independent) by L962 , L961 , L889;
assume L964: ( R27 \ { ( 0. R21 ) } ) is  linearly-independent;
thus L965: thesis by L964 , L961 , L962 , L785;
end;
definition
let R21 being RealLinearSpace;
let C144 being (Subset-Family of R21);
attr C144 is  affinely-independent
means
:L966: (for R27 being (Subset of R21) holds (R27 in C144 implies R27 is  affinely-independent));
end;
registration
let R21 being RealLinearSpace;
cluster  empty ->  affinely-independent for (Subset-Family of R21);
coherence
proof
let C145 being (Subset-Family of R21);
assume L968: C145 is  empty;
let R27 being (Subset of R21);
assume L969: R27 in C145;
thus L970: thesis by L969 , L968;
end;
let R34 being  affinely-independent (Subset of R21);
cluster { R34 } ->  affinely-independent for (Subset-Family of R21);
coherence
proof
L971: (for R27 being (Subset of R21) holds (R27 in { R34 } implies R27 is  affinely-independent)) by TARSKI:def 1;
thus L972: thesis by L971 , L966;
end;
end;
registration
let R21 being RealLinearSpace;
cluster  empty  affinely-independent for (Subset-Family of R21);
existence
proof
take ( {} ( bool (the carrier of R21) ) );
thus L974: thesis;
end;
cluster non  empty  affinely-independent for (Subset-Family of R21);
existence
proof
take { the  affinely-independent (Subset of R21) };
thus L975: thesis;
end;
end;
theorem
L977: (for R21 being RealLinearSpace holds (for R29 being (Subset-Family of R21) holds (for R30 being (Subset-Family of R21) holds ((R29 is  affinely-independent & R30 is  affinely-independent) implies ( R29 \/ R30 ) is  affinely-independent))))
proof
let R21 being RealLinearSpace;
let R29 being (Subset-Family of R21);
let R30 being (Subset-Family of R21);
assume L978: (R29 is  affinely-independent & R30 is  affinely-independent);
let R27 being (Subset of R21);
assume L979: R27 in ( R29 \/ R30 );
L980: (R27 in R29 or R27 in R30) by L979 , XBOOLE_0:def 3;
thus L981: thesis by L980 , L978 , L966;
end;
theorem
L982: (for R21 being RealLinearSpace holds (for R29 being (Subset-Family of R21) holds (for R30 being (Subset-Family of R21) holds ((R29 c= R30 & R30 is  affinely-independent) implies R29 is  affinely-independent))))
proof
let R21 being RealLinearSpace;
let R29 being (Subset-Family of R21);
let R30 being (Subset-Family of R21);
assume L983: (R29 c= R30 & R30 is  affinely-independent);
let R27 being (Subset of R21);
assume L984: R27 in R29;
thus L985: thesis by L984 , L983 , L966;
end;
begin
definition
let R15 being non  empty RLSStruct;
let C146 being (Subset of R15);
func Affin C146 -> (Subset of R15) equals 
( meet { B79 where B79 is  Affine (Subset of R15) : C146 c= B79 } );
coherence
proof
set D74 = { B80 where B80 is  Affine (Subset of R15) : C146 c= B80 };
L986: D74 c= ( bool ( [#] R15 ) )
proof
let C147 being set;
assume L987: C147 in D74;
L988: (ex B81 being  Affine (Subset of R15) st (C147 = B81 & C146 c= B81)) by L987;
thus L989: thesis by L988;
end;
reconsider D75 = D74 as (Subset-Family of R15) by L986;
L990: ( meet D75 ) is (Subset of R15);
thus L991: thesis by L990;
end;
end;
registration
let R15 being non  empty RLSStruct;
let C148 being (Subset of R15);
cluster ( Affin C148 ) ->  Affine;
coherence
proof
set D76 = { B82 where B82 is  Affine (Subset of R15) : C148 c= B82 };
let C149 , C150 being (Element of R15);
let C151 being Real;
assume that
L993: C149 in ( Affin C148 )
and
L994: C150 in ( Affin C148 );
L995:
now
let C152 being set;
assume L996: C152 in D76;
consider C153 being  Affine (Subset of R15) such that L997: C152 = C153 and L998: C148 c= C153 by L996;
L999: (C149 in C153 & C150 in C153) by L993 , L994 , L996 , L997 , SETFAM_1:def 1;
thus L1000: ( ( ( 1 - C151 ) * C149 ) + ( C151 * C150 ) ) in C152 by L999 , L997 , RUSUB_4:def 4;
end;
L1001: D76 <> ( {} ) by L993 , SETFAM_1:def 1;
thus L1002: thesis by L1001 , L995 , SETFAM_1:def 1;
end;
end;
L1004: (for B83 being non  empty RLSStruct holds (for B84 being (Subset of B83) holds B84 c= ( Affin B84 )))
proof
let C154 being non  empty RLSStruct;
let C155 being (Subset of C154);
set D77 = { B85 where B85 is  Affine (Subset of C154) : C155 c= B85 };
L1005:
now
let C156 being set;
assume L1006: C156 in D77;
L1007: (ex B86 being  Affine (Subset of C154) st (C156 = B86 & C155 c= B86)) by L1006;
thus L1008: C155 c= C156 by L1007;
end;
L1009: ( [#] C154 ) is  Affine by RUSUB_4:22;
L1010: ( [#] C154 ) in D77 by L1009;
thus L1011: thesis by L1010 , L1005 , SETFAM_1:5;
end;
L1012: (for B87 being non  empty RLSStruct holds (for B88 being  Affine (Subset of B87) holds B88 = ( Affin B88 )))
proof
let C157 being non  empty RLSStruct;
let C158 being  Affine (Subset of C157);
set D78 = { B89 where B89 is  Affine (Subset of C157) : C158 c= B89 };
L1013: C158 in D78;
L1014: ( Affin C158 ) c= C158 by L1013 , SETFAM_1:3;
L1015: C158 c= ( Affin C158 ) by L1004;
thus L1016: thesis by L1015 , L1014 , XBOOLE_0:def 10;
end;
registration
let R15 being non  empty RLSStruct;
let C159 being  empty (Subset of R15);
cluster ( Affin C159 ) ->  empty;
coherence
proof
L1017: ( {} R15 ) is  Affine by RUSUB_4:22;
thus L1018: thesis by L1017 , L1012;
end;
end;
registration
let R15 being non  empty RLSStruct;
let C160 being non  empty (Subset of R15);
cluster ( Affin C160 ) -> non  empty;
coherence
proof
L1020: C160 c= ( Affin C160 ) by L1004;
thus L1021: thesis by L1020;
end;
end;
theorem
L1023: (for R15 being non  empty RLSStruct holds (for B90 being (Subset of R15) holds B90 c= ( Affin B90 ))) by L1004;
theorem
L1024: (for R15 being non  empty RLSStruct holds (for B91 being  Affine (Subset of R15) holds B91 = ( Affin B91 ))) by L1012;
theorem
L1025: (for R15 being non  empty RLSStruct holds (for B92 , B93 being (Subset of R15) holds ((B92 c= B93 & B93 is  Affine) implies ( Affin B92 ) c= B93)))
proof
let R15 being non  empty RLSStruct;
let C161 , C162 being (Subset of R15);
assume L1026: (C161 c= C162 & C162 is  Affine);
L1027: C162 in { B94 where B94 is  Affine (Subset of R15) : C161 c= B94 } by L1026;
thus L1028: thesis by L1027 , SETFAM_1:3;
end;
theorem
L1029: (for R15 being non  empty RLSStruct holds (for B95 , B96 being (Subset of R15) holds (B95 c= B96 implies ( Affin B95 ) c= ( Affin B96 ))))
proof
let R15 being non  empty RLSStruct;
let C163 , C164 being (Subset of R15);
assume L1030: C163 c= C164;
L1031: C164 c= ( Affin C164 ) by L1004;
L1032: C163 c= ( Affin C164 ) by L1031 , L1030 , XBOOLE_1:1;
thus L1033: thesis by L1032 , L1025;
end;
theorem
L1034: (for R21 being RealLinearSpace holds (for R22 being (VECTOR of R21) holds (for R27 being (Subset of R21) holds ( Affin ( R22 + R27 ) ) = ( R22 + ( Affin R27 ) ))))
proof
let R21 being RealLinearSpace;
let R22 being (VECTOR of R21);
let R27 being (Subset of R21);
L1035: ( R22 + R27 ) c= ( R22 + ( Affin R27 ) ) by L1004 , RLTOPSP1:8;
L1036: ( Affin ( R22 + R27 ) ) c= ( R22 + ( Affin R27 ) ) by L1035 , L1025 , RUSUB_4:31;
L1037: ( ( - R22 ) + ( R22 + R27 ) ) = ( ( ( - R22 ) + R22 ) + R27 ) by L81
.= ( ( 0. R21 ) + R27 ) by RLVECT_1:5
.= R27 by L94;
L1038: R27 c= ( ( - R22 ) + ( Affin ( R22 + R27 ) ) ) by L1037 , L1004 , RLTOPSP1:8;
L1039: ( Affin R27 ) c= ( ( - R22 ) + ( Affin ( R22 + R27 ) ) ) by L1038 , L1025 , RUSUB_4:31;
L1040: ( R22 + ( ( - R22 ) + ( Affin ( R22 + R27 ) ) ) ) = ( ( R22 + ( - R22 ) ) + ( Affin ( R22 + R27 ) ) ) by L81
.= ( ( 0. R21 ) + ( Affin ( R22 + R27 ) ) ) by RLVECT_1:5
.= ( Affin ( R22 + R27 ) ) by L94;
L1041: ( R22 + ( Affin R27 ) ) c= ( Affin ( R22 + R27 ) ) by L1040 , L1039 , RLTOPSP1:8;
thus L1042: thesis by L1041 , L1036 , XBOOLE_0:def 10;
end;
theorem
L1043: (for R3 being Real holds (for R16 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct holds (for R17 being (Subset of R16) holds (R17 is  Affine implies ( R3 * R17 ) is  Affine))))
proof
let R3 being Real;
let R16 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct;
let R17 being (Subset of R16);
assume L1044: R17 is  Affine;
let C165 , C166 being (VECTOR of R16);
let R4 being Real;
assume L1045: C165 in ( R3 * R17 );
consider C167 being (Element of R16) such that L1046: C165 = ( R3 * C167 ) and L1047: C167 in R17 by L1045;
assume L1048: C166 in ( R3 * R17 );
consider C168 being (Element of R16) such that L1049: C166 = ( R3 * C168 ) and L1050: C168 in R17 by L1048;
L1051: ( ( ( 1 - R4 ) * C167 ) + ( R4 * C168 ) ) in R17 by L1044 , L1047 , L1050 , RUSUB_4:def 4;
L1052: ( ( 1 - R4 ) * ( R3 * C167 ) ) = ( ( ( 1 - R4 ) * R3 ) * C167 ) by RLVECT_1:def 7
.= ( R3 * ( ( 1 - R4 ) * C167 ) ) by RLVECT_1:def 7;
L1053: ( R4 * ( R3 * C168 ) ) = ( ( R4 * R3 ) * C168 ) by RLVECT_1:def 7
.= ( R3 * ( R4 * C168 ) ) by RLVECT_1:def 7;
L1054: ( ( ( 1 - R4 ) * C165 ) + ( R4 * C166 ) ) = ( R3 * ( ( ( 1 - R4 ) * C167 ) + ( R4 * C168 ) ) ) by L1053 , L1046 , L1049 , L1052 , RLVECT_1:def 5;
thus L1055: thesis by L1054 , L1051;
end;
theorem
L1056: (for R3 being Real holds (for R16 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct holds (for R17 being (Subset of R16) holds (R3 <> ( 0 ) implies ( Affin ( R3 * R17 ) ) = ( R3 * ( Affin R17 ) )))))
proof
let R3 being Real;
let R16 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct;
let R17 being (Subset of R16);
assume L1057: R3 <> ( 0 );
L1058: ( ( R3 " ) * ( R3 * R17 ) ) = ( ( ( R3 " ) * R3 ) * R17 ) by L120
.= ( 1 * R17 ) by L1057 , XCMPLX_0:def 7
.= R17 by L133;
L1059: R17 c= ( ( R3 " ) * ( Affin ( R3 * R17 ) ) ) by L1058 , L1004 , L115;
L1060: ( Affin R17 ) c= ( ( R3 " ) * ( Affin ( R3 * R17 ) ) ) by L1059 , L1025 , L1043;
L1061: ( R3 * R17 ) c= ( R3 * ( Affin R17 ) ) by L1004 , L115;
L1062: ( Affin ( R3 * R17 ) ) c= ( R3 * ( Affin R17 ) ) by L1061 , L1025 , L1043;
L1063: ( R3 * ( ( R3 " ) * ( Affin ( R3 * R17 ) ) ) ) = ( ( R3 * ( R3 " ) ) * ( Affin ( R3 * R17 ) ) ) by L120
.= ( 1 * ( Affin ( R3 * R17 ) ) ) by L1057 , XCMPLX_0:def 7
.= ( Affin ( R3 * R17 ) ) by L133;
L1064: ( R3 * ( Affin R17 ) ) c= ( Affin ( R3 * R17 ) ) by L1063 , L1060 , L115;
thus L1065: thesis by L1064 , L1062 , XBOOLE_0:def 10;
end;
theorem
L1066: (for R3 being Real holds (for R21 being RealLinearSpace holds (for R27 being (Subset of R21) holds ( Affin ( R3 * R27 ) ) = ( R3 * ( Affin R27 ) ))))
proof
let R3 being Real;
let R21 being RealLinearSpace;
let R27 being (Subset of R21);
per cases ;
suppose L1067: R3 = ( 0 );

L1068: ( R3 * ( Affin R27 ) ) c= { ( 0. R21 ) } by L1067 , L141;
L1069: ( R3 * ( Affin R27 ) ) c= ( R3 * R27 )
proof
let R1 being set;
assume L1070: R1 in ( R3 * ( Affin R27 ) );
L1071: (ex B97 being (Element of R21) st (R1 = ( R3 * B97 ) & B97 in ( Affin R27 ))) by L1070;
L1072: R27 is non  empty by L1071;
consider C169 being set such that L1073: C169 in R27 by L1072 , XBOOLE_0:def 1;
reconsider D79 = C169 as (Element of R21) by L1073;
L1074: ( R3 * D79 ) in ( R3 * R27 ) by L1073;
L1075: R1 = ( 0. R21 ) by L1068 , L1070 , TARSKI:def 1;
thus L1076: thesis by L1075 , L1067 , L1074 , RLVECT_1:10;
end;
L1077: ( R3 * R27 ) c= { ( 0. R21 ) } by L1067 , L141;
L1078: (( R3 * R27 ) is  empty or ( R3 * R27 ) = { ( 0. R21 ) }) by L1077 , ZFMISC_1:33;
L1079: { ( 0. R21 ) } is  Affine by RUSUB_4:23;
L1080: ( Affin ( R3 * R27 ) ) = ( R3 * R27 ) by L1079 , L1078 , L1012;
L1081: ( R3 * R27 ) c= ( R3 * ( Affin R27 ) ) by L1004 , L115;
thus L1082: thesis by L1081 , L1069 , L1080 , XBOOLE_0:def 10;
end;
suppose L1083: R3 <> ( 0 );

thus L1084: thesis by L1083 , L1056;
end;
end;
theorem
L1086: (for R21 being RealLinearSpace holds (for R22 being (VECTOR of R21) holds (for R27 being (Subset of R21) holds (R22 in ( Affin R27 ) implies ( Affin R27 ) = ( R22 + ( Up ( Lin ( ( - R22 ) + R27 ) ) ) )))))
proof
let R21 being RealLinearSpace;
let R22 being (VECTOR of R21);
let R27 being (Subset of R21);
set D80 = ( ( - R22 ) + R27 );
set D81 = { B98 where B98 is  Affine (Subset of R21) : D80 c= B98 };
L1087: ( ( - R22 ) + R27 ) c= ( Up ( Lin ( ( - R22 ) + R27 ) ) )
proof
let R1 being set;
assume L1088: R1 in ( ( - R22 ) + R27 );
L1089: R1 in ( Lin ( ( - R22 ) + R27 ) ) by L1088 , RLVECT_3:15;
thus L1090: thesis by L1089 , STRUCT_0:def 5;
end;
L1091: ( Up ( Lin D80 ) ) is  Affine by RUSUB_4:24;
L1092: ( Up ( Lin D80 ) ) in D81 by L1091 , L1087;
L1093: ( Affin D80 ) c= ( Up ( Lin D80 ) ) by L1092 , SETFAM_1:3;
assume L1094: R22 in ( Affin R27 );
L1095: ( ( - R22 ) + R22 ) in ( ( - R22 ) + ( Affin R27 ) ) by L1094;
L1096: ( 0. R21 ) in ( ( - R22 ) + ( Affin R27 ) ) by L1095 , RLVECT_1:5;
L1097:
now
let C170 being set;
L1098: ( Affin D80 ) = ( ( - R22 ) + ( Affin R27 ) ) by L1034;
assume L1099: C170 in D81;
consider C171 being  Affine (Subset of R21) such that L1100: C170 = C171 and L1101: D80 c= C171 by L1099;
L1102: ( Lin D80 ) is (Subspace of ( Lin C171 )) by L1101 , RLVECT_3:20;
L1103: ( Affin D80 ) c= C171 by L1101 , L1025;
L1104: C171 = (the carrier of ( Lin C171 )) by L1103 , L1096 , L1098 , RUSUB_4:26;
thus L1105: ( Up ( Lin D80 ) ) c= C170 by L1104 , L1100 , L1102 , RLSUB_1:def 2;
end;
L1106: ( Up ( Lin ( ( - R22 ) + R27 ) ) ) c= ( Affin D80 ) by L1097 , L1092 , SETFAM_1:5;
L1107: ( Up ( Lin ( ( - R22 ) + R27 ) ) ) = ( Affin D80 ) by L1106 , L1093 , XBOOLE_0:def 10;
thus L1108: ( R22 + ( Up ( Lin ( ( - R22 ) + R27 ) ) ) ) = ( R22 + ( ( - R22 ) + ( Affin R27 ) ) ) by L1107 , L1034
.= ( ( R22 + ( - R22 ) ) + ( Affin R27 ) ) by L81
.= ( ( 0. R21 ) + ( Affin R27 ) ) by RLVECT_1:5
.= ( Affin R27 ) by L94;
end;
L1109: (for R21 being RealLinearSpace holds (for R27 being (Subset of R21) holds ( Lin ( R27 \/ { ( 0. R21 ) } ) ) = ( Lin R27 )))
proof
let R21 being RealLinearSpace;
let R27 being (Subset of R21);
L1110: { ( 0. R21 ) } = (the carrier of ( (0). R21 )) by RLSUB_1:def 3;
L1111: ( Lin { ( 0. R21 ) } ) = ( (0). R21 ) by L1110 , RLVECT_3:18;
thus L1112: ( Lin ( R27 \/ { ( 0. R21 ) } ) ) = ( ( Lin R27 ) + ( (0). R21 ) ) by L1111 , RLVECT_3:22
.= ( Lin R27 ) by RLSUB_2:9;
end;
theorem
L1113: (for R21 being RealLinearSpace holds (for R27 being (Subset of R21) holds (R27 is  affinely-independent iff (for R28 being (Subset of R21) holds ((R28 c= R27 & ( Affin R27 ) = ( Affin R28 )) implies R27 = R28)))))
proof
let R21 being RealLinearSpace;
let R27 being (Subset of R21);
thus L1114:now
assume L1115: R27 is  affinely-independent;
let R28 being (Subset of R21);
assume that
L1116: R28 c= R27
and
L1117: ( Affin R27 ) = ( Affin R28 );
assume L1118: R27 <> R28;
L1119: R28 c< R27 by L1118 , L1116 , XBOOLE_0:def 8;
consider C172 being set such that L1120: C172 in R27 and L1121: (not C172 in R28) by L1119 , XBOOLE_0:6;
reconsider D82 = C172 as (Element of R21) by L1120;
L1122: ( R27 \ { D82 } ) c= ( Affin ( R27 \ { D82 } ) ) by L1004;
L1123: R28 is non  empty by L1117 , L1120;
consider C173 being set such that L1124: C173 in R28 by L1123 , XBOOLE_0:def 1;
reconsider D83 = C173 as (Element of R21) by L1124;
L1125: ( - ( - D83 ) ) = D83 by RLVECT_1:17;
L1126: ( ( - D83 ) + D82 ) <> ( 0. R21 ) by L1125 , L1121 , L1124 , RLVECT_1:def 10;
set D84 = ( ( ( - D83 ) + R27 ) \ { ( 0. R21 ) } );
L1127: ( ( - D83 ) + D82 ) in ( ( - D83 ) + R27 ) by L1120;
L1128: ( ( - D83 ) + D82 ) in D84 by L1127 , L1126 , ZFMISC_1:56;
L1129: D84 is  linearly-independent by L1115 , L1116 , L1124 , L889;
L1130: (not ( ( - D83 ) + D82 ) in ( Lin ( D84 \ { ( ( - D83 ) + D82 ) } ) )) by L1129 , L1128 , RLVECT_5:17;
L1131: ( D83 + ( ( - D83 ) + D82 ) ) = ( ( D83 + ( - D83 ) ) + D82 ) by RLVECT_1:def 3
.= ( ( 0. R21 ) + D82 ) by RLVECT_1:5
.= D82 by RLVECT_1:4;
L1132: ( ( - D83 ) + D83 ) = ( 0. R21 ) by RLVECT_1:5;
L1133: ( 0. R21 ) in ( ( - D83 ) + R27 ) by L1132 , L1116 , L1124;
L1134: ( 0. R21 ) in ( ( ( - D83 ) + R27 ) \ { ( ( - D83 ) + D82 ) } ) by L1133 , L1126 , ZFMISC_1:56;
L1135: ( ( ( ( - D83 ) + R27 ) \ { ( 0. R21 ) } ) \ { ( ( - D83 ) + D82 ) } ) = ( ( ( - D83 ) + R27 ) \ ( { ( 0. R21 ) } \/ { ( ( - D83 ) + D82 ) } ) ) by XBOOLE_1:41
.= ( ( ( ( - D83 ) + R27 ) \ { ( ( - D83 ) + D82 ) } ) \ { ( 0. R21 ) } ) by XBOOLE_1:41;
L1136: ( Lin ( D84 \ { ( ( - D83 ) + D82 ) } ) ) = ( Lin ( ( ( ( ( - D83 ) + R27 ) \ { ( ( - D83 ) + D82 ) } ) \ { ( 0. R21 ) } ) \/ { ( 0. R21 ) } ) ) by L1135 , L1109
.= ( Lin ( ( ( - D83 ) + R27 ) \ { ( ( - D83 ) + D82 ) } ) ) by L1134 , ZFMISC_1:116
.= ( Lin ( ( ( - D83 ) + R27 ) \ ( ( - D83 ) + { D82 } ) ) ) by L70
.= ( Lin ( ( - D83 ) + ( R27 \ { D82 } ) ) ) by L48;
L1137: D83 in ( R27 \ { D82 } ) by L1116 , L1121 , L1124 , ZFMISC_1:56;
L1138: ( Affin ( R27 \ { D82 } ) ) = ( D83 + ( Up ( Lin ( D84 \ { ( ( - D83 ) + D82 ) } ) ) ) ) by L1137 , L1122 , L1136 , L1086;
L1139: (not D82 in ( Affin ( R27 \ { D82 } ) ))
proof
assume L1140: D82 in ( Affin ( R27 \ { D82 } ) );
consider C174 being (Element of R21) such that L1141: D82 = ( D83 + C174 ) and L1142: C174 in ( Up ( Lin ( D84 \ { ( ( - D83 ) + D82 ) } ) ) ) by L1140 , L1138;
L1143: ( ( - D83 ) + D82 ) = C174 by L1131 , L1141 , RLVECT_1:8;
thus L1144: thesis by L1143 , L1130 , L1142 , STRUCT_0:def 5;
end;
L1145: R28 c= ( R27 \ { D82 } ) by L1116 , L1121 , ZFMISC_1:34;
L1146: ( Affin R28 ) c= ( Affin ( R27 \ { D82 } ) ) by L1145 , L1029;
L1147: ( Affin ( R27 \ { D82 } ) ) c= ( Affin R27 ) by L1029 , XBOOLE_1:36;
L1148: ( Affin R27 ) = ( Affin ( R27 \ { D82 } ) ) by L1147 , L1117 , L1146 , XBOOLE_0:def 10;
L1149: R27 c= ( Affin R27 ) by L1004;
thus L1150: contradiction by L1149 , L1120 , L1139 , L1148;
end;
assume L1151: (for R28 being (Subset of R21) holds ((R28 c= R27 & ( Affin R27 ) = ( Affin R28 )) implies R27 = R28));
assume L1152: R27 is non  affinely-independent;
consider C175 being (Element of R21) such that L1153: C175 in R27 and L1154: ( ( ( - C175 ) + R27 ) \ { ( 0. R21 ) } ) is non  linearly-independent by L1152 , L889;
set D85 = ( Lin ( ( ( - C175 ) + R27 ) \ { ( 0. R21 ) } ) );
L1155: ( ( ( - C175 ) + R27 ) \ { ( 0. R21 ) } ) c= (the carrier of D85)
proof
let R1 being set;
assume L1156: R1 in ( ( ( - C175 ) + R27 ) \ { ( 0. R21 ) } );
L1157: R1 in D85 by L1156 , RLVECT_3:15;
thus L1158: thesis by L1157 , STRUCT_0:def 5;
end;
reconsider D86 = ( ( ( - C175 ) + R27 ) \ { ( 0. R21 ) } ) as (Subset of D85) by L1155;
L1159: ( ( - C175 ) + C175 ) = ( 0. R21 ) by RLVECT_1:5;
L1160: ( 0. R21 ) in ( ( - C175 ) + R27 ) by L1159 , L1153;
L1161: ( D86 \/ { ( 0. R21 ) } ) = ( ( - C175 ) + R27 ) by L1160 , ZFMISC_1:116;
L1162: ( Lin D86 ) = D85 by RLVECT_5:20;
consider C176 being (Subset of D85) such that L1163: C176 c= D86 and L1164: C176 is  linearly-independent and L1165: ( Lin C176 ) = D85 by L1162 , RLVECT_3:25;
reconsider D87 = C176 as  linearly-independent (Subset of R21) by L1164 , RLVECT_5:14;
L1166: ( D87 \/ { ( 0. R21 ) } ) c= ( D86 \/ { ( 0. R21 ) } ) by L1163 , XBOOLE_1:9;
L1167: ( 0. R21 ) in { ( 0. R21 ) } by TARSKI:def 1;
L1168: (( C175 + ( 0. R21 ) ) = C175 & ( 0. R21 ) in ( D87 \/ { ( 0. R21 ) } )) by L1167 , RLVECT_1:4 , XBOOLE_0:def 3;
L1169: C175 in ( C175 + ( D87 \/ { ( 0. R21 ) } ) ) by L1168;
L1170: ( C175 + ( D87 \/ { ( 0. R21 ) } ) ) c= ( Affin ( C175 + ( D87 \/ { ( 0. R21 ) } ) ) ) by L1004;
L1171: ( C175 + ( ( - C175 ) + R27 ) ) = ( ( C175 + ( - C175 ) ) + R27 ) by L81
.= ( ( 0. R21 ) + R27 ) by RLVECT_1:5
.= R27 by L94;
L1172: ( ( - C175 ) + ( C175 + ( D87 \/ { ( 0. R21 ) } ) ) ) = ( ( ( - C175 ) + C175 ) + ( D87 \/ { ( 0. R21 ) } ) ) by L81
.= ( ( 0. R21 ) + ( D87 \/ { ( 0. R21 ) } ) ) by RLVECT_1:5
.= ( D87 \/ { ( 0. R21 ) } ) by L94;
L1173: R27 c= ( Affin R27 ) by L1004;
L1174: ( Affin R27 ) = ( C175 + ( Up ( Lin ( ( - C175 ) + R27 ) ) ) ) by L1173 , L1153 , L1086
.= ( C175 + ( Up ( Lin ( ( ( ( - C175 ) + R27 ) \ { ( 0. R21 ) } ) \/ { ( 0. R21 ) } ) ) ) ) by L1160 , ZFMISC_1:116
.= ( C175 + ( Up D85 ) ) by L1109
.= ( C175 + ( Up ( Lin D87 ) ) ) by L1165 , RLVECT_5:20
.= ( C175 + ( Up ( Lin ( ( - C175 ) + ( C175 + ( D87 \/ { ( 0. R21 ) } ) ) ) ) ) ) by L1172 , L1109
.= ( Affin ( C175 + ( D87 \/ { ( 0. R21 ) } ) ) ) by L1169 , L1170 , L1086;
L1175: D86 = ( ( D87 \/ { ( 0. R21 ) } ) \ { ( 0. R21 ) } ) by L1174 , L1151 , L1161 , L1166 , L1171 , L1172 , RLTOPSP1:8
.= D87 by RLVECT_3:6 , ZFMISC_1:117;
thus L1176: contradiction by L1175 , L1154;
end;
theorem
L1177: (for R21 being RealLinearSpace holds (for R27 being (Subset of R21) holds ( Affin R27 ) = { ( Sum B99 ) where B99 is (Linear_Combination of R27) : ( sum B99 ) = 1 }))
proof
let R21 being RealLinearSpace;
let R27 being (Subset of R21);
set D88 = { ( Sum B100 ) where B100 is (Linear_Combination of R27) : ( sum B100 ) = 1 };
per cases ;
suppose L1178: R27 is  empty;

assume L1179: ( Affin R27 ) <> D88;
L1180: D88 is non  empty by L1179 , L1178;
consider R1 being set such that L1181: R1 in D88 by L1180 , XBOOLE_0:def 1;
consider C177 being (Linear_Combination of R27) such that L1182: R1 = ( Sum C177 ) and L1183: ( sum C177 ) = 1 by L1181;
L1184: R27 = ( {} (the carrier of R21) ) by L1178;
L1185: C177 = ( ZeroLC R21 ) by L1184 , RLVECT_2:23;
thus L1186: thesis by L1185 , L1183 , L535;
end;
suppose L1187: R27 is non  empty;

consider C178 being set such that L1188: C178 in R27 by L1187 , XBOOLE_0:def 1;
reconsider D89 = C178 as (Element of R21) by L1188;
L1189: R27 c= ( Affin R27 ) by L1004;
L1190: ( Affin R27 ) = ( D89 + ( Up ( Lin ( ( - D89 ) + R27 ) ) ) ) by L1189 , L1188 , L1086;
thus L1191: ( Affin R27 ) c= D88
proof
let R1 being set;
assume L1192: R1 in ( Affin R27 );
consider R22 being (VECTOR of R21) such that L1193: R1 = ( D89 + R22 ) and L1194: R22 in ( Up ( Lin ( ( - D89 ) + R27 ) ) ) by L1192 , L1190;
L1195: R22 in ( Lin ( ( - D89 ) + R27 ) ) by L1194 , STRUCT_0:def 5;
consider C179 being (Linear_Combination of ( ( - D89 ) + R27 )) such that L1196: ( Sum C179 ) = R22 by L1195 , RLVECT_3:14;
set D90 = ( D89 + C179 );
consider C180 being (Linear_Combination of { ( 0. R21 ) }) such that L1197: ( C180 . ( 0. R21 ) ) = ( 1 - ( sum C179 ) ) by RLVECT_4:37;
set D91 = ( D89 + ( C179 + C180 ) );
set D92 = ( D89 + C180 );
L1198: ( Carrier C180 ) c= { ( 0. R21 ) } by RLVECT_2:def 6;
L1199: ( D89 + ( Carrier C180 ) ) c= ( D89 + { ( 0. R21 ) } ) by L1198 , RLTOPSP1:8;
L1200: (( Carrier D90 ) = ( D89 + ( Carrier C179 ) ) & ( Carrier C179 ) c= ( ( - D89 ) + R27 )) by L359 , RLVECT_2:def 6;
L1201: ( D89 + ( ( - D89 ) + R27 ) ) = ( ( D89 + ( - D89 ) ) + R27 ) by L81
.= ( ( 0. R21 ) + R27 ) by RLVECT_1:5
.= R27 by L94;
L1202: ( Carrier D90 ) c= R27 by L1201 , L1200 , RLTOPSP1:8;
L1203: (( Carrier ( D90 + D92 ) ) c= ( ( Carrier D90 ) \/ ( Carrier D92 ) ) & D91 = ( D90 + D92 )) by L374 , RLVECT_2:37;
L1204: (( Carrier D92 ) = ( D89 + ( Carrier C180 ) ) & ( D89 + { ( 0. R21 ) } ) = { ( D89 + ( 0. R21 ) ) }) by L70 , L359;
L1205: ( Carrier D92 ) c= { D89 } by L1204 , L1199 , RLVECT_1:4;
L1206: ( ( Carrier D90 ) \/ ( Carrier D92 ) ) c= ( R27 \/ { D89 } ) by L1205 , L1202 , XBOOLE_1:13;
L1207: ( Carrier D91 ) c= ( R27 \/ { D89 } ) by L1206 , L1203 , XBOOLE_1:1;
L1208: ( Carrier D91 ) c= R27 by L1207 , L1188 , ZFMISC_1:40;
L1209: D91 is (Linear_Combination of R27) by L1208 , RLVECT_2:def 6;
L1210: ( sum D91 ) = ( sum ( C179 + C180 ) ) by L603;
L1211: ( sum ( C179 + C180 ) ) = ( ( sum C179 ) + ( sum C180 ) ) by L559
.= ( ( sum C179 ) + ( 1 - ( sum C179 ) ) ) by L1197 , L1198 , L541
.= 1;
L1212: ( Sum D91 ) = ( ( 1 * D89 ) + ( Sum ( C179 + C180 ) ) ) by L1211 , L698
.= ( ( 1 * D89 ) + ( R22 + ( Sum C180 ) ) ) by L1196 , RLVECT_3:1
.= ( ( 1 * D89 ) + ( R22 + ( ( C180 . ( 0. R21 ) ) * ( 0. R21 ) ) ) ) by RLVECT_2:32
.= ( ( 1 * D89 ) + ( R22 + ( 0. R21 ) ) ) by RLVECT_1:10
.= ( D89 + ( R22 + ( 0. R21 ) ) ) by RLVECT_1:def 8
.= R1 by L1193 , RLVECT_1:4;
thus L1213: thesis by L1212 , L1209 , L1210 , L1211;
end;

let R1 being set;
assume L1214: R1 in D88;
consider C181 being (Linear_Combination of R27) such that L1215: ( Sum C181 ) = R1 and L1216: ( sum C181 ) = 1 by L1214;
set D93 = ( ( - D89 ) + C181 );
L1217: ( Carrier C181 ) c= R27 by RLVECT_2:def 6;
L1218: ( ( - D89 ) + ( Carrier C181 ) ) c= ( ( - D89 ) + R27 ) by L1217 , RLTOPSP1:8;
L1219: ( ( - D89 ) + ( Carrier C181 ) ) = ( Carrier D93 ) by L359;
L1220: D93 is (Linear_Combination of ( ( - D89 ) + R27 )) by L1219 , L1218 , RLVECT_2:def 6;
L1221: ( Sum D93 ) in ( Lin ( ( - D89 ) + R27 ) ) by L1220 , RLVECT_3:14;
L1222: ( Sum D93 ) in ( Up ( Lin ( ( - D89 ) + R27 ) ) ) by L1221 , STRUCT_0:def 5;
L1223: ( D89 + ( Sum D93 ) ) = ( D89 + ( ( 1 * ( - D89 ) ) + ( Sum C181 ) ) ) by L1216 , L698
.= ( D89 + ( ( - D89 ) + ( Sum C181 ) ) ) by RLVECT_1:def 8
.= ( ( D89 + ( - D89 ) ) + ( Sum C181 ) ) by RLVECT_1:def 3
.= ( ( 0. R21 ) + ( Sum C181 ) ) by RLVECT_1:5
.= R1 by L1215 , RLVECT_1:4;
thus L1224: thesis by L1223 , L1190 , L1222;
end;
end;
theorem
L1226: (for R21 being RealLinearSpace holds (for R27 being (Subset of R21) holds (for R34 being  affinely-independent (Subset of R21) holds (R34 c= R27 implies (ex B101 being  affinely-independent (Subset of R21) st (R34 c= B101 & B101 c= R27 & ( Affin B101 ) = ( Affin R27 )))))))
proof
let R21 being RealLinearSpace;
let R27 being (Subset of R21);
let R34 being  affinely-independent (Subset of R21);
assume L1227: R34 c= R27;
L1228: R27 c= ( Affin R27 ) by L1004;
per cases ;
suppose L1229: R34 is  empty;

per cases ;
suppose L1230: R27 is  empty;

take R34;
thus L1231: thesis by L1229 , L1230;
end;
suppose L1232: R27 is non  empty;

consider C182 being set such that L1233: C182 in R27 by L1232 , XBOOLE_0:def 1;
reconsider D94 = C182 as (Element of R21) by L1233;
set D95 = ( Lin ( ( - D94 ) + R27 ) );
L1234: ( ( - D94 ) + R27 ) c= ( [#] D95 )
proof
let R1 being set;
assume L1235: R1 in ( ( - D94 ) + R27 );
L1236: R1 in ( Lin ( ( - D94 ) + R27 ) ) by L1235 , RLVECT_3:15;
thus L1237: thesis by L1236 , STRUCT_0:def 5;
end;
reconsider D96 = ( ( - D94 ) + R27 ) as (Subset of D95) by L1234;
L1238: D95 = ( Lin D96 ) by RLVECT_5:20;
consider C183 being (Subset of D95) such that L1239: C183 c= D96 and L1240: C183 is  linearly-independent and L1241: ( Lin C183 ) = D95 by L1238 , RLVECT_3:25;
L1242: ( [#] D95 ) c= ( [#] R21 ) by RLSUB_1:def 2;
reconsider D97 = C183 as (Subset of R21) by L1242 , XBOOLE_1:1;
set D98 = ( D97 \/ { ( 0. R21 ) } );
L1243: (not ( 0. R21 ) in D97) by L1240 , RLVECT_3:6 , RLVECT_5:14;
L1244: ( D98 \ { ( 0. R21 ) } ) = D97 by L1243 , ZFMISC_1:117;
L1245: ( 0. R21 ) in { ( 0. R21 ) } by TARSKI:def 1;
L1246: ( 0. R21 ) in D98 by L1245 , XBOOLE_0:def 3;
L1247: D97 is  linearly-independent by L1240 , RLVECT_5:14;
L1248: D98 is  affinely-independent by L1247 , L1244 , L1246 , L960;
reconsider D99 = ( D94 + D98 ) as  affinely-independent (Subset of R21) by L1248;
take D99;
thus L1249: R34 c= D99 by L1229 , XBOOLE_1:2;
thus L1250: D99 c= R27
proof
let R1 being set;
assume L1251: R1 in D99;
consider R22 being (VECTOR of R21) such that L1252: R1 = ( D94 + R22 ) and L1253: R22 in D98 by L1251;
per cases  by L1253 , XBOOLE_0:def 3;
suppose L1254: R22 in D97;

L1255: R22 in { ( ( - D94 ) + R25 ) where R25 is (VECTOR of R21) : R25 in R27 } by L1254 , L1239;
consider R25 being (VECTOR of R21) such that L1256: R22 = ( ( - D94 ) + R25 ) and L1257: R25 in R27 by L1255;
L1258: R1 = ( ( D94 + ( - D94 ) ) + R25 ) by L1252 , L1256 , RLVECT_1:def 3
.= ( ( 0. R21 ) + R25 ) by RLVECT_1:5
.= R25 by RLVECT_1:4;
thus L1259: thesis by L1258 , L1257;
end;
suppose L1260: R22 in { ( 0. R21 ) };

L1261: R22 = ( 0. R21 ) by L1260 , TARSKI:def 1;
thus L1262: thesis by L1261 , L1233 , L1252 , RLVECT_1:4;
end;
end;

L1264: D99 c= ( Affin D99 ) by L1004;
L1265: ( ( - D94 ) + D99 ) = ( ( ( - D94 ) + D94 ) + D98 ) by L81
.= ( ( 0. R21 ) + D98 ) by RLVECT_1:5
.= D98 by L94;
L1266: ( D94 + ( 0. R21 ) ) = D94 by RLVECT_1:def 4;
L1267: D94 in D99 by L1266 , L1246;
thus L1268: ( Affin D99 ) = ( D94 + ( Up ( Lin D98 ) ) ) by L1267 , L1264 , L1265 , L1086
.= ( D94 + ( Up ( Lin D97 ) ) ) by L1109
.= ( D94 + ( Up D95 ) ) by L1241 , RLVECT_5:20
.= ( Affin R27 ) by L1228 , L1233 , L1086;
end;
end;
suppose L1270: R34 is non  empty;

consider C184 being set such that L1271: C184 in R34 by L1270 , XBOOLE_0:def 1;
reconsider D100 = C184 as (Element of R21) by L1271;
L1272: ( ( ( - D100 ) + R34 ) \ { ( 0. R21 ) } ) is  linearly-independent by L1271 , L889;
L1273: ( ( - D100 ) + R34 ) c= ( ( - D100 ) + R27 ) by L1227 , RLTOPSP1:8;
set D101 = ( Lin ( ( - D100 ) + R27 ) );
L1274: ( ( ( - D100 ) + R34 ) \ { ( 0. R21 ) } ) c= ( ( - D100 ) + R34 ) by XBOOLE_1:36;
L1275: ( ( - D100 ) + R27 ) c= ( Up D101 )
proof
let C185 being set;
assume L1276: C185 in ( ( - D100 ) + R27 );
L1277: C185 in D101 by L1276 , RLVECT_3:15;
thus L1278: thesis by L1277 , STRUCT_0:def 5;
end;
L1279: ( ( - D100 ) + R34 ) c= ( Up D101 ) by L1275 , L1273 , XBOOLE_1:1;
reconsider D102 = ( ( ( - D100 ) + R34 ) \ { ( 0. R21 ) } ) , D103 = ( ( - D100 ) + R27 ) as (Subset of D101) by L1279 , L1274 , L1275 , XBOOLE_1:1;
L1280: (D101 = ( Lin D103 ) & D102 c= D103) by L1273 , L1274 , RLVECT_5:20 , XBOOLE_1:1;
consider C186 being  linearly-independent (Subset of D101) such that L1281: D102 c= C186 and L1282: C186 c= D103 and L1283: ( Lin C186 ) = D101 by L1280 , L1272 , L175 , RLVECT_5:15;
reconsider D104 = C186 as  linearly-independent (Subset of R21) by RLVECT_5:14;
set D105 = ( D104 \/ { ( 0. R21 ) } );
L1284: ( 0. R21 ) in { ( 0. R21 ) } by TARSKI:def 1;
L1285: (not ( 0. R21 ) in D104) by RLVECT_3:6;
L1286: (( D105 \ { ( 0. R21 ) } ) = D104 & ( 0. R21 ) in D105) by L1285 , L1284 , XBOOLE_0:def 3 , ZFMISC_1:117;
L1287: D105 is  affinely-independent by L1286 , L960;
reconsider D106 = ( D100 + D105 ) as  affinely-independent (Subset of R21) by L1287;
take D106;
L1288: ( ( - D100 ) + D100 ) = ( 0. R21 ) by RLVECT_1:5;
L1289: ( D100 + ( ( - D100 ) + R34 ) ) = ( ( 0. R21 ) + R34 ) by L1288 , L81
.= R34 by L94;
L1290: ( 0. R21 ) in { ( ( - D100 ) + B102 ) where B102 is (Element of R21) : B102 in R34 } by L1271 , L1288;
L1291: ( ( ( ( - D100 ) + R34 ) \ { ( 0. R21 ) } ) \/ { ( 0. R21 ) } ) = ( ( - D100 ) + R34 ) by L1290 , ZFMISC_1:116;
L1292: ( ( - D100 ) + R34 ) c= D105 by L1291 , L1281 , XBOOLE_1:9;
thus L1293: R34 c= D106 by L1292 , L1289 , RLTOPSP1:8;
L1294: ( D100 + ( ( - D100 ) + R34 ) ) c= D106 by L1292 , RLTOPSP1:8;
L1295: D100 in D106 by L1294 , L1271 , L1289;
thus L1296: D106 c= R27
proof
let R1 being set;
assume L1297: R1 in D106;
consider R22 being (VECTOR of R21) such that L1298: R1 = ( D100 + R22 ) and L1299: R22 in D105 by L1297;
per cases  by L1299 , XBOOLE_0:def 3;
suppose L1300: R22 in D104;

L1301: R22 in { ( ( - D100 ) + R25 ) where R25 is (VECTOR of R21) : R25 in R27 } by L1300 , L1282;
consider R25 being (VECTOR of R21) such that L1302: R22 = ( ( - D100 ) + R25 ) and L1303: R25 in R27 by L1301;
L1304: R1 = ( ( D100 + ( - D100 ) ) + R25 ) by L1298 , L1302 , RLVECT_1:def 3
.= ( ( 0. R21 ) + R25 ) by RLVECT_1:5
.= R25 by RLVECT_1:4;
thus L1305: thesis by L1304 , L1303;
end;
suppose L1306: R22 in { ( 0. R21 ) };

L1307: R22 = ( 0. R21 ) by L1306 , TARSKI:def 1;
L1308: R1 = D100 by L1307 , L1298 , RLVECT_1:4;
thus L1309: thesis by L1308 , L1227 , L1271;
end;
end;

L1311: D106 c= ( Affin D106 ) by L1004;
L1312: D100 in R27 by L1227 , L1271;
L1313: ( ( - D100 ) + D106 ) = ( ( 0. R21 ) + D105 ) by L1288 , L81
.= D105 by L94;
thus L1314: ( Affin D106 ) = ( D100 + ( Up ( Lin D105 ) ) ) by L1313 , L1295 , L1311 , L1086
.= ( D100 + ( Up ( Lin D104 ) ) ) by L1109
.= ( D100 + ( Up D101 ) ) by L1283 , RLVECT_5:20
.= ( Affin R27 ) by L1228 , L1312 , L1086;
end;
end;
theorem
L1316: (for R21 being RealLinearSpace holds (for B103 , B104 being  finite (Subset of R21) holds ((B103 is  affinely-independent & ( Affin B103 ) = ( Affin B104 ) & ( card B104 ) <= ( card B103 )) implies B104 is  affinely-independent)))
proof
let R21 being RealLinearSpace;
let C187 , C188 being  finite (Subset of R21);
assume that
L1317: C187 is  affinely-independent
and
L1318: ( Affin C187 ) = ( Affin C188 )
and
L1319: ( card C188 ) <= ( card C187 );
per cases ;
suppose L1320: C187 is  empty;

L1321: C188 is  empty by L1320 , L1319 , XXREAL_0:1;
thus L1322: thesis by L1321;
end;
suppose L1323: C187 is non  empty;

consider C189 being set such that L1324: C189 in C187 by L1323 , XBOOLE_0:def 1;
L1325: ( card C187 ) > ( 0 ) by L1324;
reconsider D107 = ( ( card C187 ) - 1 ) as (Element of ( NAT )) by L1325 , NAT_1:20;
L1326: C187 c= ( Affin C187 ) by L1004;
reconsider D108 = C189 as (Element of R21) by L1324;
set D109 = ( Lin ( ( - D108 ) + C187 ) );
L1327: ( {} R21 ) c= C188 by XBOOLE_1:2;
consider C190 being  affinely-independent (Subset of R21) such that L1328: ( {} R21 ) c= C190 and L1329: C190 c= C188 and L1330: ( Affin C190 ) = ( Affin C188 ) by L1327 , L1226;
L1331: C190 is non  empty by L1318 , L1324 , L1330;
consider C191 being set such that L1332: C191 in C190 by L1331 , XBOOLE_0:def 1;
L1333: ( ( - D108 ) + C187 ) c= ( [#] D109 )
proof
let R1 being set;
assume L1334: R1 in ( ( - D108 ) + C187 );
L1335: R1 in ( Lin ( ( - D108 ) + C187 ) ) by L1334 , RLVECT_3:15;
thus L1336: thesis by L1335 , STRUCT_0:def 5;
end;
reconsider D110 = ( ( - D108 ) + C187 ) as (Subset of D109) by L1333;
L1337: ( ( ( - D108 ) + C187 ) \ { ( 0. R21 ) } ) is  linearly-independent by L1317 , L1324 , L889;
L1338: ( D110 \ { ( 0. R21 ) } ) is  linearly-independent by L1337 , RLVECT_5:15;
L1339: ( ( - D108 ) + D108 ) = ( 0. R21 ) by RLVECT_1:5;
L1340: ( 0. R21 ) in D110 by L1339 , L1324;
L1341: D109 = ( Lin ( ( ( ( - D108 ) + C187 ) \ { ( 0. R21 ) } ) \/ { ( 0. R21 ) } ) ) by L1340 , ZFMISC_1:116
.= ( Lin ( ( ( - D108 ) + C187 ) \ { ( 0. R21 ) } ) ) by L1109
.= ( Lin ( D110 \ { ( 0. R21 ) } ) ) by RLVECT_5:20;
L1342: ( D110 \ { ( 0. R21 ) } ) is (Basis of D109) by L1341 , L1338 , RLVECT_3:def 3;
reconsider D111 = C190 as  finite set by L1329;
L1343: C190 c= ( Affin C190 ) by L1004;
reconsider D112 = C191 as (Element of R21) by L1332;
L1344: ( D108 + D109 ) = ( D108 + ( Up D109 ) ) by RUSUB_4:30
.= ( Affin C187 ) by L1324 , L1326 , L1086
.= ( D112 + ( Up ( Lin ( ( - D112 ) + C190 ) ) ) ) by L1318 , L1330 , L1332 , L1343 , L1086
.= ( D112 + ( Lin ( ( - D112 ) + C190 ) ) ) by RUSUB_4:30;
L1345: D109 = ( Lin ( ( - D112 ) + C190 ) ) by L1344 , RLSUB_1:69;
set D113 = ( ( - D112 ) + C190 );
L1346: D113 c= ( [#] ( Lin ( ( - D112 ) + C190 ) ) )
proof
let R1 being set;
assume L1347: R1 in D113;
L1348: R1 in ( Lin ( ( - D112 ) + C190 ) ) by L1347 , RLVECT_3:15;
thus L1349: thesis by L1348 , STRUCT_0:def 5;
end;
L1350: ( card D110 ) = ( D107 + 1 ) by L105;
L1351: ( card ( D110 \ { ( 0. R21 ) } ) ) = D107 by L1350 , L1340 , STIRL2_1:55;
L1352: ( D110 \ { ( 0. R21 ) } ) is  finite by L1351;
L1353: D109 is  finite-dimensional by L1352 , L1342 , RLVECT_5:def 1;
reconsider D114 = D113 as (Subset of ( Lin ( ( - D112 ) + C190 ) )) by L1346;
L1354: ( ( ( - D112 ) + C190 ) \ { ( 0. R21 ) } ) is  linearly-independent by L1332 , L889;
L1355: ( D114 \ { ( 0. R21 ) } ) is  linearly-independent by L1354 , RLVECT_5:15;
L1356: ( ( - D112 ) + D112 ) = ( 0. R21 ) by RLVECT_1:5;
L1357: ( 0. R21 ) in D114 by L1356 , L1332;
L1358: ( Lin ( ( - D112 ) + C190 ) ) = ( Lin ( ( ( ( - D112 ) + C190 ) \ { ( 0. R21 ) } ) \/ { ( 0. R21 ) } ) ) by L1357 , ZFMISC_1:116
.= ( Lin ( ( ( - D112 ) + C190 ) \ { ( 0. R21 ) } ) ) by L1109
.= ( Lin ( D114 \ { ( 0. R21 ) } ) ) by RLVECT_5:20;
L1359: ( D114 \ { ( 0. R21 ) } ) is (Basis of ( Lin ( ( - D112 ) + C190 ) )) by L1358 , L1355 , RLVECT_3:def 3;
L1360: ( card ( D114 \ { ( 0. R21 ) } ) ) = D107 by L1359 , L1342 , L1345 , L1351 , L1353 , RLVECT_5:25;
L1361: ((not ( 0. R21 ) in ( D114 \ { ( 0. R21 ) } )) & ( D114 \ { ( 0. R21 ) } ) is  finite) by L1360 , ZFMISC_1:56;
L1362: ( D107 + 1 ) = ( card ( ( D114 \ { ( 0. R21 ) } ) \/ { ( 0. R21 ) } ) ) by L1361 , L1360 , CARD_2:41
.= ( card D114 ) by L1357 , ZFMISC_1:116
.= ( card C190 ) by L105;
L1363: ( card D111 ) <= ( card C188 ) by L1329 , NAT_1:43;
thus L1364: thesis by L1363 , L1319 , L1329 , L1362 , CARD_FIN:1 , XXREAL_0:1;
end;
end;
theorem
L1366: (for R21 being RealLinearSpace holds (for R31 being (Linear_Combination of R21) holds (R31 is  convex iff (( sum R31 ) = 1 & (for R22 being (VECTOR of R21) holds ( 0 ) <= ( R31 . R22 ))))))
proof
let R21 being RealLinearSpace;
let R31 being (Linear_Combination of R21);
thus L1367:now
assume L1368: R31 is  convex;
consider C192 being (FinSequence of (the carrier of R21)) such that L1369: C192 is  one-to-one and L1370: ( rng C192 ) = ( Carrier R31 ) and L1371: (ex B105 being (FinSequence of ( REAL )) st (( len B105 ) = ( len C192 ) & ( Sum B105 ) = 1 & (for B106 being Nat holds (B106 in ( dom B105 ) implies (( B105 . B106 ) = ( R31 . ( C192 . B106 ) ) & ( B105 . B106 ) >= ( 0 )))))) by L1368 , CONVEX1:def 3;
consider C193 being (FinSequence of ( REAL )) such that L1372: ( len C193 ) = ( len C192 ) and L1373: ( Sum C193 ) = 1 and L1374: (for B107 being Nat holds (B107 in ( dom C193 ) implies (( C193 . B107 ) = ( R31 . ( C192 . B107 ) ) & ( C193 . B107 ) >= ( 0 )))) by L1371;
L1375: ( len ( R31 * C192 ) ) = ( len C192 ) by FINSEQ_2:33;
L1376:
now
let C194 being Nat;
assume L1377: (1 <= C194 & C194 <= ( len C192 ));
L1378: C194 in ( dom C193 ) by L1377 , L1372 , FINSEQ_3:25;
L1379: ( C193 . C194 ) = ( R31 . ( C192 . C194 ) ) by L1378 , L1374;
L1380: C194 in ( dom ( R31 * C192 ) ) by L1375 , L1377 , FINSEQ_3:25;
thus L1381: ( ( R31 * C192 ) . C194 ) = ( C193 . C194 ) by L1380 , L1379 , FUNCT_1:12;
end;
L1382: ( R31 * C192 ) = C193 by L1376 , L1372 , L1375 , FINSEQ_1:14;
thus L1383: ( sum R31 ) = 1 by L1382 , L1369 , L1370 , L1373 , L476;
let C195 being (Element of R21);
per cases ;
suppose L1384: C195 in ( Carrier R31 );

consider C196 being set such that L1385: C196 in ( dom C192 ) and L1386: ( C192 . C196 ) = C195 by L1384 , L1370 , FUNCT_1:def 3;
L1387: ( dom C193 ) = ( dom C192 ) by L1372 , FINSEQ_3:29;
L1388: ( C193 . C196 ) = ( R31 . ( C192 . C196 ) ) by L1387 , L1374 , L1385;
thus L1389: ( R31 . C195 ) >= ( 0 ) by L1388 , L1374 , L1385 , L1386 , L1387;
end;
suppose L1390: (not C195 in ( Carrier R31 ));

thus L1391: ( R31 . C195 ) >= ( 0 ) by L1390;
end;
end;
assume L1393: ( sum R31 ) = 1;
consider C197 being (FinSequence of R21) such that L1394: (C197 is  one-to-one & ( rng C197 ) = ( Carrier R31 )) and L1395: 1 = ( Sum ( R31 * C197 ) ) by L1393 , L476;
assume L1396: (for B108 being (Element of R21) holds ( R31 . B108 ) >= ( 0 ));
L1397:
now
take D115 = C197;
thus L1398: (D115 is  one-to-one & ( rng D115 ) = ( Carrier R31 )) by L1394;
take D116 = ( R31 * D115 );
thus L1399: (( len D116 ) = ( len D115 ) & ( Sum D116 ) = 1) by L1395 , FINSEQ_2:33;
L1400: ( dom D115 ) = ( dom D116 ) by L1399 , FINSEQ_3:29;
let C198 being Nat;
assume L1401: C198 in ( dom D116 );
L1402: ( D116 . C198 ) = ( R31 . ( D115 . C198 ) ) by L1401 , FUNCT_1:12;
L1403: ( D115 . C198 ) = ( D115 /. C198 ) by L1400 , L1401 , PARTFUN1:def 6;
thus L1404: (( D116 . C198 ) = ( R31 . ( D115 . C198 ) ) & ( D116 . C198 ) >= ( 0 )) by L1403 , L1396 , L1402;
end;
thus L1405: thesis by L1397 , CONVEX1:def 3;
end;
theorem
L1406: (for R1 being set holds (for R21 being RealLinearSpace holds (for R31 being (Linear_Combination of R21) holds (R31 is  convex implies ( R31 . R1 ) <= 1))))
proof
let R1 being set;
let R21 being RealLinearSpace;
let R31 being (Linear_Combination of R21);
assume L1407: R31 is  convex;
L1408: ( sum R31 ) = 1 by L1407 , L1366;
consider C199 being (FinSequence of R21) such that L1409: C199 is  one-to-one and L1410: ( rng C199 ) = ( Carrier R31 ) and L1411: 1 = ( Sum ( R31 * C199 ) ) by L1408 , L476;
assume L1412: ( R31 . R1 ) > 1;
L1413: R1 in ( dom R31 ) by L1412 , FUNCT_1:def 2;
reconsider D117 = R1 as (Element of R21) by L1413 , FUNCT_2:def 1;
L1414: D117 in ( Carrier R31 ) by L1412;
consider C200 being set such that L1415: C200 in ( dom C199 ) and L1416: ( C199 . C200 ) = D117 by L1414 , L1410 , FUNCT_1:def 3;
L1417: ( len ( R31 * C199 ) ) = ( len C199 ) by FINSEQ_2:33;
L1418: ( dom ( R31 * C199 ) ) = ( dom C199 ) by L1417 , FINSEQ_3:29;
L1419:
now
let C201 being Nat;
assume L1420: C201 in ( dom ( R31 * C199 ) );
L1421: (( ( R31 * C199 ) . C201 ) = ( R31 . ( C199 . C201 ) ) & ( C199 . C201 ) = ( C199 /. C201 )) by L1420 , L1418 , FUNCT_1:12 , PARTFUN1:def 6;
thus L1422: ( ( R31 * C199 ) . C201 ) >= ( 0 ) by L1421 , L1407 , L1366;
end;
reconsider D118 = C200 as Nat by L1415;
L1423: ( ( R31 * C199 ) . D118 ) = ( R31 . R1 ) by L1415 , L1416 , L1418 , FUNCT_1:12;
thus L1424: contradiction by L1423 , L1411 , L1412 , L1415 , L1418 , L1419 , MATRPROB:5;
end;
theorem
L1425: (for R1 being set holds (for R21 being RealLinearSpace holds (for R31 being (Linear_Combination of R21) holds ((R31 is  convex & ( R31 . R1 ) = 1) implies ( Carrier R31 ) = { R1 }))))
proof
let R1 being set;
let R21 being RealLinearSpace;
let R31 being (Linear_Combination of R21);
assume that
L1426: R31 is  convex
and
L1427: ( R31 . R1 ) = 1;
L1428: R1 in ( dom R31 ) by L1427 , FUNCT_1:def 2;
reconsider D119 = R1 as (Element of R21) by L1428 , FUNCT_2:def 1;
consider C202 being (Linear_Combination of { D119 }) such that L1429: ( C202 . D119 ) = 1 by RLVECT_4:37;
set D120 = ( R31 - C202 );
L1430: ( Carrier C202 ) c= { D119 } by RLVECT_2:def 6;
L1431: ( sum D120 ) = ( ( sum R31 ) - ( sum C202 ) ) by L601
.= ( ( sum R31 ) - 1 ) by L1429 , L1430 , L541
.= ( 1 - 1 ) by L1426 , L1366
.= ( 0 );
consider C203 being (FinSequence of R21) such that L1432: C203 is  one-to-one and L1433: ( rng C203 ) = ( Carrier D120 ) and L1434: ( 0 ) = ( Sum ( D120 * C203 ) ) by L1431 , L476;
L1435: ( len ( D120 * C203 ) ) = ( len C203 ) by FINSEQ_2:33;
L1436: ( dom ( D120 * C203 ) ) = ( dom C203 ) by L1435 , FINSEQ_3:29;
L1437: (for B109 being Nat holds (B109 in ( dom ( D120 * C203 ) ) implies ( 0 ) <= ( ( D120 * C203 ) . B109 )))
proof
let C204 being Nat;
assume L1438: C204 in ( dom ( D120 * C203 ) );
L1439: ( ( D120 * C203 ) . C204 ) = ( D120 . ( C203 . C204 ) ) by L1438 , FUNCT_1:12;
L1440: ( C203 . C204 ) in ( Carrier D120 ) by L1433 , L1436 , L1438 , FUNCT_1:def 3;
L1441: ( D120 . ( C203 . C204 ) ) = ( ( R31 . ( C203 . C204 ) ) - ( C202 . ( C203 . C204 ) ) ) by L1440 , RLVECT_2:54;
per cases ;
suppose L1442: ( C203 . C204 ) = D119;

thus L1443: thesis by L1442 , L1427 , L1429 , L1438 , L1441 , FUNCT_1:12;
end;
suppose L1444: ( C203 . C204 ) <> D119;

L1445: (not ( C203 . C204 ) in ( Carrier C202 )) by L1444 , L1430 , TARSKI:def 1;
L1446: ( C202 . ( C203 . C204 ) ) = ( 0 ) by L1445 , L1440;
thus L1447: thesis by L1446 , L1426 , L1439 , L1440 , L1441 , L1366;
end;
end;
L1449: ( Carrier D120 ) = ( {} )
proof
assume L1450: ( Carrier D120 ) <> ( {} );
consider C205 being set such that L1451: C205 in ( Carrier D120 ) by L1450 , XBOOLE_0:def 1;
reconsider D121 = C205 as (Element of R21) by L1451;
consider C206 being set such that L1452: C206 in ( dom C203 ) and L1453: ( C203 . C206 ) = D121 by L1433 , L1451 , FUNCT_1:def 3;
reconsider D122 = C206 as Nat by L1452;
L1454: ( ( D120 * C203 ) . D122 ) > ( 0 )
proof
L1455: ( D120 . D121 ) = ( ( R31 . D121 ) - ( C202 . D121 ) ) by RLVECT_2:54;
per cases ;
suppose L1456: D121 = D119;

L1457: ( D120 . D121 ) = ( 1 - 1 ) by L1456 , L1427 , L1429 , RLVECT_2:54;
thus L1458: thesis by L1457 , L1451 , RLVECT_2:19;
end;
suppose L1459: D121 <> D119;

L1460: (not D121 in ( Carrier C202 )) by L1459 , L1430 , TARSKI:def 1;
L1461: ( C202 . D121 ) = ( 0 ) by L1460;
L1462: ( D120 . D121 ) >= ( 0 ) by L1461 , L1426 , L1455 , L1366;
L1463: ( D120 . D121 ) <> ( 0 ) by L1451 , RLVECT_2:19;
thus L1464: thesis by L1463 , L1436 , L1452 , L1453 , L1462 , FUNCT_1:12;
end;
end;
thus L1466: thesis by L1454 , L1434 , L1436 , L1437 , L1452 , RVSUM_1:85;
end;
L1467: ( ZeroLC R21 ) = ( R31 + ( - C202 ) ) by L1449 , RLVECT_2:def 5;
L1468: ( - C202 ) = ( - R31 ) by L1467 , RLVECT_2:50;
L1469: D119 in ( Carrier R31 ) by L1427;
L1470: ( - ( - R31 ) ) = R31 by RLVECT_2:53;
L1471: C202 = R31 by L1470 , L1468 , RLVECT_2:53;
thus L1472: thesis by L1471 , L1430 , L1469 , ZFMISC_1:33;
end;
theorem
L1473: (for R21 being RealLinearSpace holds (for R27 being (Subset of R21) holds ( conv R27 ) c= ( Affin R27 )))
proof
let R21 being RealLinearSpace;
let R27 being (Subset of R21);
let R1 being set;
assume L1474: R1 in ( conv R27 );
reconsider D123 = R27 as non  empty (Subset of R21) by L1474;
L1475: ( conv D123 ) = { ( Sum B110 ) where B110 is (Convex_Combination of D123) : B110 in ( ConvexComb R21 ) } by CONVEX3:5;
consider C207 being (Convex_Combination of D123) such that L1476: ( Sum C207 ) = R1 and L1477: C207 in ( ConvexComb R21 ) by L1475 , L1474;
L1478: ( sum C207 ) = 1 by L1366;
L1479: R1 in { ( Sum B111 ) where B111 is (Linear_Combination of R27) : ( sum B111 ) = 1 } by L1478 , L1476;
thus L1480: thesis by L1479 , L1177;
end;
theorem
L1481: (for R1 being set holds (for R21 being RealLinearSpace holds (for R27 being (Subset of R21) holds ((R1 in ( conv R27 ) & ( ( conv R27 ) \ { R1 } ) is  convex) implies R1 in R27))))
proof
let R1 being set;
let R21 being RealLinearSpace;
let R27 being (Subset of R21);
assume that
L1482: R1 in ( conv R27 )
and
L1483: ( ( conv R27 ) \ { R1 } ) is  convex;
reconsider D124 = R27 as non  empty (Subset of R21) by L1482;
L1484: ( conv D124 ) = { ( Sum B112 ) where B112 is (Convex_Combination of D124) : B112 in ( ConvexComb R21 ) } by CONVEX3:5;
assume L1485: (not R1 in R27);
consider C208 being (Convex_Combination of D124) such that L1486: ( Sum C208 ) = R1 and L1487: C208 in ( ConvexComb R21 ) by L1482 , L1484;
set D125 = ( Carrier C208 );
L1488: D125 c= D124 by RLVECT_2:def 6;
L1489: D125 <> ( {} ) by CONVEX1:21;
consider C209 being set such that L1490: C209 in D125 by L1489 , XBOOLE_0:def 1;
reconsider D126 = C209 as (Element of R21) by L1490;
L1491: ( sum C208 ) = 1 by L1366;
L1492: ( D125 \ { D126 } ) <> ( {} )
proof
assume L1493: ( D125 \ { D126 } ) = ( {} );
L1494: D125 = { D126 } by L1493 , L1490 , ZFMISC_1:58;
L1495: ( C208 . D126 ) = 1 by L1494 , L1491 , L541;
L1496: ( Sum C208 ) = ( ( C208 . D126 ) * D126 ) by L1490 , L1493 , RLVECT_2:35 , ZFMISC_1:58;
L1497: R1 = D126 by L1496 , L1486 , L1495 , RLVECT_1:def 8;
thus L1498: thesis by L1497 , L1485 , L1488 , L1490;
end;
consider C210 being set such that L1499: C210 in ( D125 \ { D126 } ) by L1492 , XBOOLE_0:def 1;
reconsider D127 = C210 as (Element of R21) by L1499;
L1500: D127 in D125 by L1499 , XBOOLE_0:def 5;
L1501: ( C208 . D127 ) <> ( 0 ) by L1500 , RLVECT_2:19;
L1502: ( C208 . D127 ) > ( 0 ) by L1501 , L1366;
reconsider D128 = ( min (( C208 . D126 ) , ( C208 . D127 )) ) as Real by XREAL_0:def 1;
consider C211 being (Linear_Combination of { D127 }) such that L1503: ( C211 . D127 ) = D128 by RLVECT_4:37;
L1504: D126 <> D127 by L1499 , ZFMISC_1:56;
L1505: ( D126 - D127 ) <> ( 0. R21 ) by L1504 , RLVECT_1:21;
L1506: ( Carrier C211 ) c= { D127 } by RLVECT_2:def 6;
L1507: { D127 } c= R27 by L1488 , L1500 , ZFMISC_1:31;
L1508: ( Carrier C211 ) c= R27 by L1507 , L1506 , XBOOLE_1:1;
L1509: C211 is (Linear_Combination of R27) by L1508 , RLVECT_2:def 6;
consider C212 being (Linear_Combination of { D126 }) such that L1510: ( C212 . D126 ) = D128 by RLVECT_4:37;
L1511: ( Carrier C212 ) c= { D126 } by RLVECT_2:def 6;
L1512: { D126 } c= R27 by L1488 , L1490 , ZFMISC_1:31;
L1513: ( Carrier C212 ) c= R27 by L1512 , L1511 , XBOOLE_1:1;
L1514: C212 is (Linear_Combination of R27) by L1513 , RLVECT_2:def 6;
L1515: ( C212 - C211 ) is (Linear_Combination of R27) by L1514 , L1509 , RLVECT_2:56;
L1516: ( - ( C212 - C211 ) ) is (Linear_Combination of R27) by L1515 , RLVECT_2:52;
reconsider D129 = ( C208 + ( C212 - C211 ) ) , D130 = ( C208 - ( C212 - C211 ) ) as (Linear_Combination of D124) by L1516 , L1515 , RLVECT_2:38;
L1517: ( Sum D130 ) = ( ( Sum C208 ) - ( Sum ( C212 - C211 ) ) ) by RLVECT_3:4
.= ( ( Sum C208 ) + ( - ( Sum ( C212 - C211 ) ) ) ) by RLVECT_1:def 11;
L1518: ( C208 . D126 ) <> ( 0 ) by L1490 , RLVECT_2:19;
L1519: ( C208 . D126 ) > ( 0 ) by L1518 , L1366;
L1520: D128 > ( 0 ) by L1519 , L1502 , XXREAL_0:15;
L1521: (for R22 being (VECTOR of R21) holds ( D130 . R22 ) >= ( 0 ))
proof
let R22 being (VECTOR of R21);
L1522: ( D130 . R22 ) = ( ( C208 . R22 ) - ( ( C212 - C211 ) . R22 ) ) by RLVECT_2:54
.= ( ( C208 . R22 ) - ( ( C212 . R22 ) - ( C211 . R22 ) ) ) by RLVECT_2:54;
L1523: ( C208 . R22 ) >= ( 0 ) by L1366;
per cases ;
suppose L1524: R22 = D127;

L1525: (not R22 in ( Carrier C212 )) by L1524 , L1504 , L1511 , TARSKI:def 1;
L1526: ( C212 . R22 ) = ( 0 ) by L1525;
thus L1527: thesis by L1526 , L1520 , L1503 , L1522 , L1523 , L1524;
end;
suppose L1528: R22 = D126;

L1529: ( C208 . D126 ) >= D128 by XXREAL_0:17;
L1530: ( ( C208 . D126 ) - D128 ) >= ( D128 - D128 ) by L1529 , XREAL_1:9;
L1531: (not R22 in ( Carrier C211 )) by L1504 , L1506 , L1528 , TARSKI:def 1;
L1532: ( C211 . R22 ) = ( 0 ) by L1531;
thus L1533: thesis by L1532 , L1510 , L1522 , L1528 , L1530;
end;
suppose L1534: (R22 <> D126 & R22 <> D127);

L1535: (not R22 in ( Carrier C211 )) by L1534 , L1506 , TARSKI:def 1;
L1536: ( C211 . R22 ) = ( 0 ) by L1535;
L1537: (not R22 in ( Carrier C212 )) by L1511 , L1534 , TARSKI:def 1;
L1538: ( C212 . R22 ) = ( 0 ) by L1537;
thus L1539: thesis by L1538 , L1522 , L1536 , L1366;
end;
end;
L1541: ( Sum ( C212 - C211 ) ) = ( ( Sum C212 ) - ( Sum C211 ) ) by RLVECT_3:4
.= ( ( D128 * D126 ) - ( Sum C211 ) ) by L1510 , RLVECT_2:32
.= ( ( D128 * D126 ) - ( D128 * D127 ) ) by L1503 , RLVECT_2:32
.= ( D128 * ( D126 - D127 ) ) by RLVECT_1:34;
L1542: ( Sum ( C212 - C211 ) ) <> ( 0. R21 ) by L1541 , L1520 , L1505 , RLVECT_1:11;
L1543: ( sum ( C212 - C211 ) ) = ( ( sum C212 ) - ( sum C211 ) ) by L601
.= ( D128 - ( sum C211 ) ) by L1510 , L1511 , L541
.= ( D128 - D128 ) by L1503 , L1506 , L541
.= ( 0 );
L1544: (for R22 being (VECTOR of R21) holds ( D129 . R22 ) >= ( 0 ))
proof
let R22 being (VECTOR of R21);
L1545: ( D129 . R22 ) = ( ( C208 . R22 ) + ( ( C212 - C211 ) . R22 ) ) by RLVECT_2:def 10
.= ( ( C208 . R22 ) + ( ( C212 . R22 ) - ( C211 . R22 ) ) ) by RLVECT_2:54;
L1546: ( C208 . R22 ) >= ( 0 ) by L1366;
per cases ;
suppose L1547: R22 = D126;

L1548: (not R22 in ( Carrier C211 )) by L1547 , L1504 , L1506 , TARSKI:def 1;
L1549: ( D129 . R22 ) = ( ( C208 . R22 ) + ( D128 - ( 0 ) ) ) by L1548 , L1510 , L1545 , L1547;
thus L1550: thesis by L1549 , L1520 , L1546;
end;
suppose L1551: R22 = D127;

L1552: ( C208 . D127 ) >= D128 by XXREAL_0:17;
L1553: ( ( C208 . D127 ) - D128 ) >= ( D128 - D128 ) by L1552 , XREAL_1:9;
L1554: (not R22 in ( Carrier C212 )) by L1504 , L1511 , L1551 , TARSKI:def 1;
L1555: ( C212 . R22 ) = ( 0 ) by L1554;
thus L1556: thesis by L1555 , L1503 , L1545 , L1551 , L1553;
end;
suppose L1557: (R22 <> D126 & R22 <> D127);

L1558: (not R22 in ( Carrier C211 )) by L1557 , L1506 , TARSKI:def 1;
L1559: ( C211 . R22 ) = ( 0 ) by L1558;
L1560: (not R22 in ( Carrier C212 )) by L1511 , L1557 , TARSKI:def 1;
L1561: ( C212 . R22 ) = ( 0 ) by L1560;
thus L1562: thesis by L1561 , L1545 , L1559 , L1366;
end;
end;
L1564: ( sum D130 ) = ( ( sum C208 ) - ( sum ( C212 - C211 ) ) ) by L601
.= ( 1 + ( 0 ) ) by L1543 , L1366;
L1565: D130 is  convex by L1564 , L1521 , L1366;
L1566: D130 in ( ConvexComb R21 ) by L1565 , CONVEX3:def 1;
L1567: ( Sum D130 ) in ( conv D124 ) by L1566 , L1484 , L1565;
L1568: ( sum D129 ) = ( ( sum C208 ) + ( sum ( C212 - C211 ) ) ) by L559
.= ( 1 + ( 0 ) ) by L1543 , L1366;
L1569: D129 is  convex by L1568 , L1544 , L1366;
L1570: D129 in ( ConvexComb R21 ) by L1569 , CONVEX3:def 1;
L1571: ( Sum D129 ) in ( conv R27 ) by L1570 , L1484 , L1569;
L1572: ( 0. R21 ) = ( - ( 0. R21 ) ) by RLVECT_1:12;
L1573: ( - ( Sum ( C212 - C211 ) ) ) <> ( 0. R21 ) by L1572 , L1542 , RLVECT_1:18;
L1574: ( Sum D130 ) <> R1 by L1573 , L1486 , L1517 , RLVECT_1:9;
L1575: ( Sum D130 ) in ( ( conv R27 ) \ { R1 } ) by L1574 , L1567 , ZFMISC_1:56;
L1576: ( Sum D129 ) = ( ( Sum C208 ) + ( Sum ( C212 - C211 ) ) ) by RLVECT_3:1;
L1577: ( Sum D129 ) <> R1 by L1576 , L1486 , L1542 , RLVECT_1:9;
L1578: ( Sum D129 ) in ( ( conv R27 ) \ { R1 } ) by L1577 , L1571 , ZFMISC_1:56;
L1579: ( ( ( 1 / 2 ) * ( Sum D129 ) ) + ( ( 1 - ( 1 / 2 ) ) * ( Sum D130 ) ) ) = ( ( ( 1 / 2 ) * ( ( Sum C208 ) + ( Sum ( C212 - C211 ) ) ) ) + ( ( 1 / 2 ) * ( ( Sum C208 ) + ( - ( Sum ( C212 - C211 ) ) ) ) ) ) by L1517 , RLVECT_3:1
.= ( ( ( ( 1 / 2 ) * ( Sum C208 ) ) + ( ( 1 / 2 ) * ( Sum ( C212 - C211 ) ) ) ) + ( ( 1 / 2 ) * ( ( Sum C208 ) + ( - ( Sum ( C212 - C211 ) ) ) ) ) ) by RLVECT_1:def 5
.= ( ( ( ( 1 / 2 ) * ( Sum C208 ) ) + ( ( 1 / 2 ) * ( Sum ( C212 - C211 ) ) ) ) + ( ( ( 1 / 2 ) * ( Sum C208 ) ) + ( ( 1 / 2 ) * ( - ( Sum ( C212 - C211 ) ) ) ) ) ) by RLVECT_1:def 5
.= ( ( ( 1 / 2 ) * ( Sum C208 ) ) + ( ( ( 1 / 2 ) * ( Sum ( C212 - C211 ) ) ) + ( ( ( 1 / 2 ) * ( - ( Sum ( C212 - C211 ) ) ) ) + ( ( 1 / 2 ) * ( Sum C208 ) ) ) ) ) by RLVECT_1:def 3
.= ( ( ( 1 / 2 ) * ( Sum C208 ) ) + ( ( ( ( 1 / 2 ) * ( Sum ( C212 - C211 ) ) ) + ( ( 1 / 2 ) * ( - ( Sum ( C212 - C211 ) ) ) ) ) + ( ( 1 / 2 ) * ( Sum C208 ) ) ) ) by RLVECT_1:def 3
.= ( ( ( 1 / 2 ) * ( Sum C208 ) ) + ( ( ( 1 / 2 ) * ( ( Sum ( C212 - C211 ) ) + ( - ( Sum ( C212 - C211 ) ) ) ) ) + ( ( 1 / 2 ) * ( Sum C208 ) ) ) ) by RLVECT_1:def 5
.= ( ( ( 1 / 2 ) * ( Sum C208 ) ) + ( ( ( 1 / 2 ) * ( 0. R21 ) ) + ( ( 1 / 2 ) * ( Sum C208 ) ) ) ) by RLVECT_1:5
.= ( ( ( 1 / 2 ) * ( Sum C208 ) ) + ( ( 0. R21 ) + ( ( 1 / 2 ) * ( Sum C208 ) ) ) ) by RLVECT_1:10
.= ( ( ( 1 / 2 ) * ( Sum C208 ) ) + ( ( 1 / 2 ) * ( Sum C208 ) ) ) by RLVECT_1:def 4
.= ( ( ( 1 / 2 ) + ( 1 / 2 ) ) * ( Sum C208 ) ) by RLVECT_1:def 6
.= ( Sum C208 ) by RLVECT_1:def 8;
L1580: ( Sum C208 ) in ( ( conv R27 ) \ { R1 } ) by L1579 , L1483 , L1575 , L1578 , CONVEX1:def 2;
thus L1581: contradiction by L1580 , L1486 , ZFMISC_1:56;
end;
theorem
L1582: (for R21 being RealLinearSpace holds (for R27 being (Subset of R21) holds ( Affin ( conv R27 ) ) = ( Affin R27 )))
proof
let R21 being RealLinearSpace;
let R27 being (Subset of R21);
thus L1583: ( Affin ( conv R27 ) ) c= ( Affin R27 ) by L1025 , L1473;
let R1 being set;
assume L1584: R1 in ( Affin R27 );
L1585: R1 in { ( Sum B113 ) where B113 is (Linear_Combination of R27) : ( sum B113 ) = 1 } by L1584 , L1177;
consider C213 being (Linear_Combination of R27) such that L1586: R1 = ( Sum C213 ) and L1587: ( sum C213 ) = 1 by L1585;
reconsider D131 = C213 as (Linear_Combination of ( conv R27 )) by L5 , RLVECT_2:21;
L1588: ( Sum D131 ) in { ( Sum B114 ) where B114 is (Linear_Combination of ( conv R27 )) : ( sum B114 ) = 1 } by L1587;
thus L1589: thesis by L1588 , L1586 , L1177;
end;
theorem
L1590: (for R21 being RealLinearSpace holds (for R27 being (Subset of R21) holds (for R28 being (Subset of R21) holds (( conv R27 ) c= ( conv R28 ) implies ( Affin R27 ) c= ( Affin R28 )))))
proof
let R21 being RealLinearSpace;
let R27 being (Subset of R21);
let R28 being (Subset of R21);
L1591: (( Affin ( conv R27 ) ) = ( Affin R27 ) & ( Affin ( conv R28 ) ) = ( Affin R28 )) by L1582;
thus L1592: thesis by L1591 , L1029;
end;
theorem
L1593: (for R15 being non  empty RLSStruct holds (for B115 , B116 being (Subset of R15) holds (B115 c= ( Affin B116 ) implies ( Affin ( B115 \/ B116 ) ) = ( Affin B116 ))))
proof
let R15 being non  empty RLSStruct;
let C214 , C215 being (Subset of R15);
assume that
L1594: C214 c= ( Affin C215 );
set D132 = { B117 where B117 is  Affine (Subset of R15) : ( C214 \/ C215 ) c= B117 };
L1595: C215 c= ( Affin C215 ) by L1004;
L1596: ( C214 \/ C215 ) c= ( Affin C215 ) by L1595 , L1594 , XBOOLE_1:8;
L1597: ( Affin C215 ) in D132 by L1596;
L1598: ( Affin ( C214 \/ C215 ) ) c= ( Affin C215 ) by L1597 , SETFAM_1:3;
L1599: ( Affin C215 ) c= ( Affin ( C214 \/ C215 ) ) by L1029 , XBOOLE_1:7;
thus L1600: thesis by L1599 , L1598 , XBOOLE_0:def 10;
end;
begin
definition
let R21 being RealLinearSpace;
let R27 being (Subset of R21);
assume that
L1601: R27 is  affinely-independent;
let R1 being set;
assume that
L1602: R1 in ( Affin R27 );
func R1 |-- R27 -> (Linear_Combination of R27) means 
:L1603: (( Sum it ) = R1 & ( sum it ) = 1);
existence
proof
L1604: ( Affin R27 ) = { ( Sum B118 ) where B118 is (Linear_Combination of R27) : ( sum B118 ) = 1 } by L1177;
thus L1605: thesis by L1604 , L1602;
end;
uniqueness
proof
let C216 , C217 being (Linear_Combination of R27);
assume that
L1606: ( Sum C216 ) = R1
and
L1607: ( sum C216 ) = 1
and
L1608: ( Sum C217 ) = R1
and
L1609: ( sum C217 ) = 1;
L1610: ( Sum ( C216 - C217 ) ) = ( ( Sum C216 ) - ( Sum C216 ) ) by L1606 , L1608 , RLVECT_3:4
.= ( 0. R21 ) by RLVECT_1:15;
L1611: ( C216 - C217 ) is (Linear_Combination of R27) by RLVECT_2:56;
L1612: ( sum ( C216 - C217 ) ) = ( 1 - 1 ) by L1607 , L1609 , L601
.= ( 0 );
L1613: ( Carrier ( C216 - C217 ) ) = ( {} ) by L1612 , L1601 , L1610 , L1611 , L898;
L1614: ( ZeroLC R21 ) = ( C216 + ( - C217 ) ) by L1613 , RLVECT_2:def 5;
L1615: ( - C217 ) = ( - C216 ) by L1614 , RLVECT_2:50;
L1616: C216 = ( - ( - C216 ) ) by RLVECT_2:53;
thus L1617: thesis by L1616 , L1615 , RLVECT_2:53;
end;
end;
theorem
L1619: (for R3 being Real holds (for R21 being RealLinearSpace holds (for R23 being (VECTOR of R21) holds (for R24 being (VECTOR of R21) holds (for R34 being  affinely-independent (Subset of R21) holds ((R23 in ( Affin R34 ) & R24 in ( Affin R34 )) implies ( ( ( ( 1 - R3 ) * R23 ) + ( R3 * R24 ) ) |-- R34 ) = ( ( ( 1 - R3 ) * ( R23 |-- R34 ) ) + ( R3 * ( R24 |-- R34 ) ) )))))))
proof
let R3 being Real;
let R21 being RealLinearSpace;
let R23 being (VECTOR of R21);
let R24 being (VECTOR of R21);
let R34 being  affinely-independent (Subset of R21);
assume that
L1620: R23 in ( Affin R34 )
and
L1621: R24 in ( Affin R34 );
set D133 = ( ( ( 1 - R3 ) * R23 ) + ( R3 * R24 ) );
L1622: D133 in ( Affin R34 ) by L1620 , L1621 , RUSUB_4:def 4;
L1623: (( ( 1 - R3 ) * ( R23 |-- R34 ) ) is (Linear_Combination of R34) & ( R3 * ( R24 |-- R34 ) ) is (Linear_Combination of R34)) by RLVECT_2:44;
L1624: ( ( ( 1 - R3 ) * ( R23 |-- R34 ) ) + ( R3 * ( R24 |-- R34 ) ) ) is (Linear_Combination of R34) by L1623 , RLVECT_2:38;
L1625: ( Sum ( ( ( 1 - R3 ) * ( R23 |-- R34 ) ) + ( R3 * ( R24 |-- R34 ) ) ) ) = ( ( Sum ( ( 1 - R3 ) * ( R23 |-- R34 ) ) ) + ( Sum ( R3 * ( R24 |-- R34 ) ) ) ) by RLVECT_3:1
.= ( ( ( 1 - R3 ) * ( Sum ( R23 |-- R34 ) ) ) + ( Sum ( R3 * ( R24 |-- R34 ) ) ) ) by RLVECT_3:2
.= ( ( ( 1 - R3 ) * ( Sum ( R23 |-- R34 ) ) ) + ( R3 * ( Sum ( R24 |-- R34 ) ) ) ) by RLVECT_3:2
.= ( ( ( 1 - R3 ) * R23 ) + ( R3 * ( Sum ( R24 |-- R34 ) ) ) ) by L1620 , L1603
.= D133 by L1621 , L1603;
L1626: ( sum ( ( ( 1 - R3 ) * ( R23 |-- R34 ) ) + ( R3 * ( R24 |-- R34 ) ) ) ) = ( ( sum ( ( 1 - R3 ) * ( R23 |-- R34 ) ) ) + ( sum ( R3 * ( R24 |-- R34 ) ) ) ) by L559
.= ( ( ( 1 - R3 ) * ( sum ( R23 |-- R34 ) ) ) + ( sum ( R3 * ( R24 |-- R34 ) ) ) ) by L593
.= ( ( ( 1 - R3 ) * ( sum ( R23 |-- R34 ) ) ) + ( R3 * ( sum ( R24 |-- R34 ) ) ) ) by L593
.= ( ( ( 1 - R3 ) * 1 ) + ( R3 * ( sum ( R24 |-- R34 ) ) ) ) by L1620 , L1603
.= ( ( ( 1 - R3 ) * 1 ) + ( R3 * 1 ) ) by L1621 , L1603
.= 1;
thus L1627: thesis by L1626 , L1622 , L1624 , L1625 , L1603;
end;
theorem
L1628: (for R1 being set holds (for R21 being RealLinearSpace holds (for R22 being (VECTOR of R21) holds (for R34 being  affinely-independent (Subset of R21) holds (R1 in ( conv R34 ) implies (( R1 |-- R34 ) is  convex & ( 0 ) <= ( ( R1 |-- R34 ) . R22 ) & ( ( R1 |-- R34 ) . R22 ) <= 1))))))
proof
let R1 being set;
let R21 being RealLinearSpace;
let R22 being (VECTOR of R21);
let R34 being  affinely-independent (Subset of R21);
assume L1629: R1 in ( conv R34 );
reconsider D134 = R34 as non  empty (Subset of R21) by L1629;
L1630: ( conv D134 ) = { ( Sum B119 ) where B119 is (Convex_Combination of D134) : B119 in ( ConvexComb R21 ) } by CONVEX3:5;
consider C218 being (Convex_Combination of D134) such that L1631: ( Sum C218 ) = R1 and L1632: C218 in ( ConvexComb R21 ) by L1630 , L1629;
L1633: (( conv R34 ) c= ( Affin R34 ) & ( sum C218 ) = 1) by L1366 , L1473;
L1634: C218 = ( R1 |-- R34 ) by L1633 , L1629 , L1631 , L1603;
thus L1635: thesis by L1634 , L1366 , L1406;
end;
theorem
L1636: (for R1 being set holds (for R2 being set holds (for R21 being RealLinearSpace holds (for R34 being  affinely-independent (Subset of R21) holds (R1 in ( conv R34 ) implies (( ( R1 |-- R34 ) . R2 ) = 1 iff (R1 = R2 & R1 in R34)))))))
proof
let R1 being set;
let R2 being set;
let R21 being RealLinearSpace;
let R34 being  affinely-independent (Subset of R21);
assume L1637: R1 in ( conv R34 );
reconsider D135 = R1 as (Element of R21) by L1637;
thus L1638:now
assume L1639: ( ( R1 |-- R34 ) . R2 ) = 1;
L1640: ( R1 |-- R34 ) is  convex by L1637 , L1628;
L1641: ( Carrier ( R1 |-- R34 ) ) = { R2 } by L1640 , L1639 , L1425;
L1642: R2 in { R2 } by TARSKI:def 1;
reconsider D136 = R2 as (Element of R21) by L1642 , L1641;
L1643: ( conv R34 ) c= ( Affin R34 ) by L1473;
thus L1644: R1 = ( Sum ( R1 |-- R34 ) ) by L1643 , L1637 , L1603
.= ( ( ( R1 |-- R34 ) . D136 ) * D136 ) by L1641 , RLVECT_2:35
.= R2 by L1639 , RLVECT_1:def 8;
L1645: (( Carrier ( R1 |-- R34 ) ) c= R34 & D136 in ( Carrier ( R1 |-- R34 ) )) by L1639 , RLVECT_2:def 6;
thus L1646: R1 in R34 by L1645 , L1644;
end;
assume that
L1647: R1 = R2
and
L1648: R1 in R34;
consider C219 being (Linear_Combination of { D135 }) such that L1649: ( C219 . D135 ) = 1 by RLVECT_4:37;
L1650: ( Carrier C219 ) c= { D135 } by RLVECT_2:def 6;
L1651: ( sum C219 ) = 1 by L1650 , L1649 , L541;
L1652: R34 c= ( Affin R34 ) by L1004;
L1653: { D135 } c= R34 by L1648 , ZFMISC_1:31;
L1654: C219 is (Linear_Combination of R34) by L1653 , RLVECT_2:21;
L1655: ( Sum C219 ) = ( 1 * D135 ) by L1649 , RLVECT_2:32
.= D135 by RLVECT_1:def 8;
thus L1656: thesis by L1655 , L1647 , L1648 , L1649 , L1651 , L1652 , L1654 , L1603;
end;
theorem
L1657: (for R1 being set holds (for R21 being RealLinearSpace holds (for R34 being  affinely-independent (Subset of R21) holds ((R1 in ( Affin R34 ) & (for R22 being (VECTOR of R21) holds (R22 in R34 implies ( 0 ) <= ( ( R1 |-- R34 ) . R22 )))) implies R1 in ( conv R34 )))))
proof
let R1 being set;
let R21 being RealLinearSpace;
let R34 being  affinely-independent (Subset of R21);
assume that
L1658: R1 in ( Affin R34 )
and
L1659: (for R22 being (VECTOR of R21) holds (R22 in R34 implies ( 0 ) <= ( ( R1 |-- R34 ) . R22 )));
set D137 = ( R1 |-- R34 );
L1660: ( Sum D137 ) = R1 by L1658 , L1603;
reconsider D138 = R34 as non  empty (Subset of R21) by L1658;
L1661: (for R22 being (VECTOR of R21) holds ( 0 ) <= ( D137 . R22 ))
proof
let R22 being (VECTOR of R21);
L1662: (R22 in ( Carrier D137 ) or (not R22 in ( Carrier D137 )));
L1663: ( Carrier D137 ) c= R34 by RLVECT_2:def 6;
thus L1664: thesis by L1663 , L1659 , L1662;
end;
L1665: ( sum D137 ) = 1 by L1658 , L1603;
L1666: D137 is  convex by L1665 , L1661 , L1366;
L1667: (( conv D138 ) = { ( Sum B120 ) where B120 is (Convex_Combination of D138) : B120 in ( ConvexComb R21 ) } & D137 in ( ConvexComb R21 )) by L1666 , CONVEX3:5 , CONVEX3:def 1;
thus L1668: thesis by L1667 , L1660 , L1666;
end;
theorem
L1669: (for R1 being set holds (for R21 being RealLinearSpace holds (for R34 being  affinely-independent (Subset of R21) holds (R1 in R34 implies ( ( conv R34 ) \ { R1 } ) is  convex))))
proof
let R1 being set;
let R21 being RealLinearSpace;
let R34 being  affinely-independent (Subset of R21);
assume L1670: R1 in R34;
reconsider D139 = R1 as (Element of R21) by L1670;
L1671: ( conv R34 ) c= ( Affin R34 ) by L1473;
L1672:
now
let R23 being (VECTOR of R21);
let R24 being (VECTOR of R21);
let R3 being Real;
set D140 = ( ( R3 * R23 ) + ( ( 1 - R3 ) * R24 ) );
assume that
L1673: ( 0 ) < R3
and
L1674: R3 < 1;
assume that
L1675: R23 in ( ( conv R34 ) \ { R1 } )
and
L1676: R24 in ( ( conv R34 ) \ { R1 } );
L1677: ( 1 - R3 ) > ( 1 - 1 ) by L1674 , XREAL_1:10;
L1678: R24 in ( conv R34 ) by L1676 , ZFMISC_1:56;
L1679: ( ( R24 |-- R34 ) . D139 ) <= 1 by L1678 , L1628;
L1680: R23 in ( conv R34 ) by L1675 , ZFMISC_1:56;
L1681: ( ( R23 |-- R34 ) . D139 ) <= 1 by L1680 , L1628;
L1682: ( D140 |-- R34 ) = ( ( ( 1 - R3 ) * ( R24 |-- R34 ) ) + ( R3 * ( R23 |-- R34 ) ) ) by L1671 , L1680 , L1678 , L1619;
L1683:
now
let R25 being (VECTOR of R21);
assume L1684: R25 in R34;
L1685: ( ( D140 |-- R34 ) . R25 ) = ( ( ( ( 1 - R3 ) * ( R24 |-- R34 ) ) . R25 ) + ( ( R3 * ( R23 |-- R34 ) ) . R25 ) ) by L1682 , RLVECT_2:def 10
.= ( ( ( 1 - R3 ) * ( ( R24 |-- R34 ) . R25 ) ) + ( ( R3 * ( R23 |-- R34 ) ) . R25 ) ) by RLVECT_2:def 11
.= ( ( ( 1 - R3 ) * ( ( R24 |-- R34 ) . R25 ) ) + ( R3 * ( ( R23 |-- R34 ) . R25 ) ) ) by RLVECT_2:def 11;
L1686: (( ( R24 |-- R34 ) . R25 ) >= ( 0 ) & ( ( R23 |-- R34 ) . R25 ) >= ( 0 )) by L1680 , L1678 , L1628;
thus L1687: ( 0 ) <= ( ( D140 |-- R34 ) . R25 ) by L1686 , L1673 , L1677 , L1685;
end;
L1688: D140 in ( Affin R34 ) by L1671 , L1680 , L1678 , RUSUB_4:def 4;
L1689: D140 in ( conv R34 ) by L1688 , L1683 , L1657;
L1690: R23 <> R1 by L1675 , ZFMISC_1:56;
L1691: ( ( R23 |-- R34 ) . D139 ) <> 1 by L1690 , L1680 , L1636;
L1692: ( ( R23 |-- R34 ) . D139 ) < 1 by L1691 , L1681 , XXREAL_0:1;
L1693: ( R3 * ( ( R23 |-- R34 ) . D139 ) ) < ( R3 * 1 ) by L1692 , L1673 , XREAL_1:68;
L1694: R24 <> R1 by L1676 , ZFMISC_1:56;
L1695: ( ( R24 |-- R34 ) . D139 ) <> 1 by L1694 , L1678 , L1636;
L1696: ( ( R24 |-- R34 ) . D139 ) < 1 by L1695 , L1679 , XXREAL_0:1;
L1697: ( ( 1 - R3 ) * ( ( R24 |-- R34 ) . D139 ) ) < ( ( 1 - R3 ) * 1 ) by L1696 , L1677 , XREAL_1:68;
L1698: ( ( ( 1 - R3 ) * ( ( R24 |-- R34 ) . D139 ) ) + ( R3 * ( ( R23 |-- R34 ) . D139 ) ) ) < ( ( ( 1 - R3 ) * 1 ) + ( R3 * 1 ) ) by L1697 , L1693 , XREAL_1:8;
L1699: ( ( D140 |-- R34 ) . D139 ) = ( ( ( ( 1 - R3 ) * ( R24 |-- R34 ) ) . D139 ) + ( ( R3 * ( R23 |-- R34 ) ) . D139 ) ) by L1682 , RLVECT_2:def 10
.= ( ( ( 1 - R3 ) * ( ( R24 |-- R34 ) . D139 ) ) + ( ( R3 * ( R23 |-- R34 ) ) . D139 ) ) by RLVECT_2:def 11
.= ( ( ( 1 - R3 ) * ( ( R24 |-- R34 ) . D139 ) ) + ( R3 * ( ( R23 |-- R34 ) . D139 ) ) ) by RLVECT_2:def 11;
L1700: D140 <> D139 by L1699 , L1670 , L1689 , L1698 , L1636;
thus L1701: D140 in ( ( conv R34 ) \ { R1 } ) by L1700 , L1689 , ZFMISC_1:56;
end;
thus L1702: thesis by L1672 , CONVEX1:def 2;
end;
theorem
L1703: (for R1 being set holds (for R21 being RealLinearSpace holds (for R34 being  affinely-independent (Subset of R21) holds (for R28 being (Subset of R21) holds ((R1 in ( Affin R34 ) & (for R2 being set holds (R2 in R28 implies ( ( R1 |-- R34 ) . R2 ) = ( 0 )))) implies (R1 in ( Affin ( R34 \ R28 ) ) & ( R1 |-- R34 ) = ( R1 |-- ( R34 \ R28 ) )))))))
proof
let R1 being set;
let R21 being RealLinearSpace;
let R34 being  affinely-independent (Subset of R21);
let R28 being (Subset of R21);
assume that
L1704: R1 in ( Affin R34 )
and
L1705: (for R2 being set holds (R2 in R28 implies ( ( R1 |-- R34 ) . R2 ) = ( 0 )));
L1706: ( Affin R34 ) = { ( Sum B121 ) where B121 is (Linear_Combination of R34) : ( sum B121 ) = 1 } by L1177;
L1707: ( R34 \ R28 ) is  affinely-independent by L903 , XBOOLE_1:36;
consider C220 being (Linear_Combination of R34) such that L1708: (R1 = ( Sum C220 ) & ( sum C220 ) = 1) by L1704 , L1706;
L1709: ( R1 |-- R34 ) = C220 by L1704 , L1708 , L1603;
L1710: ( Carrier C220 ) c= ( R34 \ R28 )
proof
L1711: ( Carrier C220 ) c= R34 by RLVECT_2:def 6;
let C221 being set;
assume that
L1712: C221 in ( Carrier C220 );
assume L1713: (not C221 in ( R34 \ R28 ));
L1714: C221 in R28 by L1713 , L1711 , L1712 , XBOOLE_0:def 5;
L1715: ( C220 . C221 ) = ( 0 ) by L1714 , L1705 , L1709;
thus L1716: thesis by L1715 , L1712 , RLVECT_2:19;
end;
L1717: C220 is (Linear_Combination of ( R34 \ R28 )) by L1710 , RLVECT_2:def 6;
L1718: R1 in { ( Sum B122 ) where B122 is (Linear_Combination of ( R34 \ R28 )) : ( sum B122 ) = 1 } by L1717 , L1708;
L1719: R1 in ( Affin ( R34 \ R28 ) ) by L1718 , L1177;
thus L1720: thesis by L1719 , L1707 , L1708 , L1709 , L1717 , L1603;
end;
theorem
L1721: (for R1 being set holds (for R21 being RealLinearSpace holds (for R34 being  affinely-independent (Subset of R21) holds (for R28 being (Subset of R21) holds ((R1 in ( conv R34 ) & (for R2 being set holds (R2 in R28 implies ( ( R1 |-- R34 ) . R2 ) = ( 0 )))) implies R1 in ( conv ( R34 \ R28 ) ))))))
proof
let R1 being set;
let R21 being RealLinearSpace;
let R34 being  affinely-independent (Subset of R21);
let R28 being (Subset of R21);
assume that
L1722: R1 in ( conv R34 )
and
L1723: (for R2 being set holds (R2 in R28 implies ( ( R1 |-- R34 ) . R2 ) = ( 0 )));
set D141 = ( R34 \ R28 );
L1724: ( conv R34 ) c= ( Affin R34 ) by L1473;
L1725: ( R1 |-- R34 ) = ( R1 |-- D141 ) by L1724 , L1722 , L1723 , L1703;
L1726: (for R22 being (VECTOR of R21) holds (R22 in D141 implies ( 0 ) <= ( ( R1 |-- D141 ) . R22 ))) by L1725 , L1722 , L1628;
L1727: D141 is  affinely-independent by L903 , XBOOLE_1:36;
L1728: R1 in ( Affin D141 ) by L1722 , L1723 , L1724 , L1703;
thus L1729: thesis by L1728 , L1726 , L1727 , L1657;
end;
theorem
L1730: (for R1 being set holds (for R21 being RealLinearSpace holds (for R28 being (Subset of R21) holds (for R34 being  affinely-independent (Subset of R21) holds ((R28 c= R34 & R1 in ( Affin R28 )) implies ( R1 |-- R28 ) = ( R1 |-- R34 ))))))
proof
let R1 being set;
let R21 being RealLinearSpace;
let R28 being (Subset of R21);
let R34 being  affinely-independent (Subset of R21);
assume that
L1731: R28 c= R34
and
L1732: R1 in ( Affin R28 );
L1733: R28 is  affinely-independent by L1731 , L903;
L1734: (( Sum ( R1 |-- R28 ) ) = R1 & ( sum ( R1 |-- R28 ) ) = 1) by L1733 , L1732 , L1603;
L1735: (( Affin R28 ) c= ( Affin R34 ) & ( R1 |-- R28 ) is (Linear_Combination of R34)) by L1731 , L1029 , RLVECT_2:21;
thus L1736: thesis by L1735 , L1732 , L1734 , L1603;
end;
theorem
L1737: (for R3 being Real holds (for R4 being Real holds (for R21 being RealLinearSpace holds (for R23 being (VECTOR of R21) holds (for R24 being (VECTOR of R21) holds (for R27 being (Subset of R21) holds ((R23 in ( Affin R27 ) & R24 in ( Affin R27 ) & ( R3 + R4 ) = 1) implies ( ( R3 * R23 ) + ( R4 * R24 ) ) in ( Affin R27 ))))))))
proof
let R3 being Real;
let R4 being Real;
let R21 being RealLinearSpace;
let R23 being (VECTOR of R21);
let R24 being (VECTOR of R21);
let R27 being (Subset of R21);
L1738: ( Affin R27 ) = { ( Sum B123 ) where B123 is (Linear_Combination of R27) : ( sum B123 ) = 1 } by L1177;
assume L1739: R23 in ( Affin R27 );
consider C222 being (Linear_Combination of R27) such that L1740: R23 = ( Sum C222 ) and L1741: ( sum C222 ) = 1 by L1739 , L1738;
assume L1742: R24 in ( Affin R27 );
consider C223 being (Linear_Combination of R27) such that L1743: R24 = ( Sum C223 ) and L1744: ( sum C223 ) = 1 by L1742 , L1738;
L1745: ( Sum ( ( R3 * C222 ) + ( R4 * C223 ) ) ) = ( ( Sum ( R3 * C222 ) ) + ( Sum ( R4 * C223 ) ) ) by RLVECT_3:1
.= ( ( R3 * ( Sum C222 ) ) + ( Sum ( R4 * C223 ) ) ) by RLVECT_3:2
.= ( ( R3 * R23 ) + ( R4 * R24 ) ) by L1740 , L1743 , RLVECT_3:2;
L1746: (( R3 * C222 ) is (Linear_Combination of R27) & ( R4 * C223 ) is (Linear_Combination of R27)) by RLVECT_2:44;
L1747: ( ( R3 * C222 ) + ( R4 * C223 ) ) is (Linear_Combination of R27) by L1746 , RLVECT_2:38;
assume L1748: ( R3 + R4 ) = 1;
L1749: ( sum ( ( R3 * C222 ) + ( R4 * C223 ) ) ) = ( ( sum ( R3 * C222 ) ) + ( sum ( R4 * C223 ) ) ) by L559
.= ( ( R3 * ( sum C222 ) ) + ( sum ( R4 * C223 ) ) ) by L593
.= ( ( R3 * 1 ) + ( R4 * 1 ) ) by L1741 , L1744 , L593
.= 1 by L1748;
thus L1750: thesis by L1749 , L1738 , L1747 , L1745;
end;
theorem
L1751: (for R21 being RealLinearSpace holds (for B124 , B125 being  finite (Subset of R21) holds ((B124 is  affinely-independent & ( Affin B124 ) c= ( Affin B125 )) implies ( card B124 ) <= ( card B125 ))))
proof
let R21 being RealLinearSpace;
let C224 , C225 being  finite (Subset of R21);
assume that
L1752: C224 is  affinely-independent
and
L1753: ( Affin C224 ) c= ( Affin C225 );
per cases ;
suppose L1754: C224 is  empty;

thus L1755: thesis by L1754;
end;
suppose L1756: C224 is non  empty;

consider C226 being set such that L1757: C226 in C224 by L1756 , XBOOLE_0:def 1;
reconsider D142 = C226 as (Element of R21) by L1757;
L1758: C224 c= ( Affin C224 ) by L1004;
L1759: D142 in ( Affin C224 ) by L1758 , L1757;
set D143 = ( Lin ( ( - D142 ) + C224 ) );
L1760: ( card C224 ) = ( card ( ( - D142 ) + C224 ) ) by L105;
L1761: ( {} R21 ) c= C225 by XBOOLE_1:2;
consider C227 being  affinely-independent (Subset of R21) such that L1762: ( {} R21 ) c= C227 and L1763: C227 c= C225 and L1764: ( Affin C227 ) = ( Affin C225 ) by L1761 , L1226;
L1765: C227 is non  empty by L1753 , L1757 , L1764;
consider C228 being set such that L1766: C228 in C227 by L1765 , XBOOLE_0:def 1;
reconsider D144 = C228 as (Element of R21) by L1766;
set D145 = ( Lin ( ( - D144 ) + C227 ) );
L1767: ( card C227 ) = ( card ( ( - D144 ) + C227 ) ) by L105;
L1768: ( ( - D144 ) + C227 ) c= (the carrier of D145)
proof
let R1 being set;
assume L1769: R1 in ( ( - D144 ) + C227 );
L1770: R1 in D145 by L1769 , RLVECT_3:15;
thus L1771: thesis by L1770 , STRUCT_0:def 5;
end;
reconsider D146 = ( ( - D144 ) + C227 ) as  finite (Subset of D145) by L1768 , L1763 , L1767;
L1772: ( ( - D144 ) + D144 ) = ( 0. R21 ) by RLVECT_1:5;
L1773: ( 0. R21 ) in D146 by L1772 , L1766;
L1774: ( Lin ( ( - D144 ) + C227 ) ) = ( Lin ( ( ( ( - D144 ) + C227 ) \ { ( 0. R21 ) } ) \/ { ( 0. R21 ) } ) ) by L1773 , ZFMISC_1:116
.= ( Lin ( ( ( - D144 ) + C227 ) \ { ( 0. R21 ) } ) ) by L1109
.= ( Lin ( D146 \ { ( 0. R21 ) } ) ) by RLVECT_5:20;
L1775: ( ( ( - D144 ) + C227 ) \ { ( 0. R21 ) } ) is  linearly-independent by L1766 , L889;
L1776: ( D146 \ { ( 0. R21 ) } ) is  linearly-independent by L1775 , RLVECT_5:15;
L1777: ( D146 \ { ( 0. R21 ) } ) is (Basis of D145) by L1776 , L1774 , RLVECT_3:def 3;
reconsider D147 = D145 as  finite-dimensional (Subspace of R21) by L1777 , RLVECT_5:def 1;
L1778: C227 c= ( Affin C227 ) by L1004;
L1779: ( Affin C227 ) = ( D144 + ( Up D147 ) ) by L1778 , L1766 , L1086;
L1780: ( Affin C224 ) = ( D142 + ( Up D143 ) ) by L1757 , L1758 , L1086;
L1781: ( ( - D142 ) + C224 ) c= (the carrier of D147)
proof
let R1 being set;
L1782: ( 2 + ( - 1 ) ) = 1;
L1783: ( ( 2 * D144 ) + ( ( - 1 ) * D142 ) ) = ( ( ( 1 + 1 ) * D144 ) + ( ( - 1 ) * D142 ) )
.= ( ( ( 1 * D144 ) + ( 1 * D144 ) ) + ( ( - 1 ) * D142 ) ) by RLVECT_1:def 6
.= ( ( ( 1 * D144 ) + ( 1 * D144 ) ) + ( - D142 ) ) by RLVECT_1:16
.= ( ( ( 1 * D144 ) + D144 ) + ( - D142 ) ) by RLVECT_1:def 8
.= ( ( D144 + D144 ) + ( - D142 ) ) by RLVECT_1:def 8
.= ( ( D144 + D144 ) - D142 ) by RLVECT_1:def 11
.= ( ( D144 - D142 ) + D144 ) by RLVECT_1:28;
L1784: (( D144 + ( Up D147 ) ) = ( D144 + D147 ) & ( ( D144 - D142 ) + D144 ) in ( D144 + ( Up D147 ) )) by L1783 , L1753 , L1764 , L1759 , L1766 , L1778 , L1779 , L1782 , L1737 , RUSUB_4:30;
L1785: ( D144 - D142 ) in D147 by L1784 , RLSUB_1:61;
assume L1786: R1 in ( ( - D142 ) + C224 );
L1787: R1 in D143 by L1786 , RLVECT_3:15;
L1788: R1 in R21 by L1787 , RLSUB_1:9;
reconsider D148 = R1 as (Element of R21) by L1788 , STRUCT_0:def 5;
L1789: D148 in ( Up D143 ) by L1787 , STRUCT_0:def 5;
L1790: ( D142 + D148 ) in ( Affin C224 ) by L1789 , L1780;
L1791: ( D142 + D148 ) in ( D144 + ( Up D147 ) ) by L1790 , L1753 , L1764 , L1779;
consider C229 being (Element of R21) such that L1792: ( D142 + D148 ) = ( D144 + C229 ) and L1793: C229 in ( Up D147 ) by L1791;
L1794: D148 = ( ( D144 + C229 ) - D142 ) by L1792 , RLVECT_4:1
.= ( D144 + ( C229 - D142 ) ) by RLVECT_1:28
.= ( C229 - ( D142 - D144 ) ) by RLVECT_1:29
.= ( C229 + ( - ( D142 - D144 ) ) ) by RLVECT_1:def 11
.= ( C229 + ( D144 + ( - D142 ) ) ) by RLVECT_1:33
.= ( C229 + ( D144 - D142 ) ) by RLVECT_1:def 11;
L1795: C229 in D147 by L1793 , STRUCT_0:def 5;
L1796: D148 in D147 by L1795 , L1785 , L1794 , RLSUB_1:20;
thus L1797: thesis by L1796 , STRUCT_0:def 5;
end;
reconsider D149 = D143 as (Subspace of D147) by L1781 , RLVECT_5:19;
L1798: ( ( - D142 ) + C224 ) c= (the carrier of D149)
proof
let R1 being set;
assume L1799: R1 in ( ( - D142 ) + C224 );
L1800: R1 in D149 by L1799 , RLVECT_3:15;
thus L1801: thesis by L1800 , STRUCT_0:def 5;
end;
reconsider D150 = ( ( - D142 ) + C224 ) as  finite (Subset of D149) by L1798 , L1760;
L1802: ( ( - D142 ) + D142 ) = ( 0. R21 ) by RLVECT_1:5;
L1803: ( 0. R21 ) in D150 by L1802 , L1757;
L1804: { ( 0. R21 ) } c= D150 by L1803 , ZFMISC_1:31;
L1805: ( ( ( - D142 ) + C224 ) \ { ( 0. R21 ) } ) is  linearly-independent by L1752 , L1757 , L889;
L1806: ( card { ( 0. R21 ) } ) = 1 by CARD_1:30;
L1807: { ( 0. R21 ) } c= D146 by L1773 , ZFMISC_1:31;
L1808: ( dim D147 ) = ( card ( D146 \ { ( 0. R21 ) } ) ) by L1775 , L1774 , RLVECT_5:15 , RLVECT_5:29
.= ( ( card D146 ) - 1 ) by L1807 , L1806 , CARD_2:44;
L1809: ( Lin ( ( - D142 ) + C224 ) ) = ( Lin ( ( ( ( - D142 ) + C224 ) \ { ( 0. R21 ) } ) \/ { ( 0. R21 ) } ) ) by L1803 , ZFMISC_1:116
.= ( Lin ( ( ( - D142 ) + C224 ) \ { ( 0. R21 ) } ) ) by L1109
.= ( Lin ( D150 \ { ( 0. R21 ) } ) ) by RLVECT_5:20;
L1810: ( dim D149 ) = ( card ( D150 \ { ( 0. R21 ) } ) ) by L1809 , L1805 , RLVECT_5:15 , RLVECT_5:29
.= ( ( card C224 ) - 1 ) by L1760 , L1806 , L1804 , CARD_2:44;
L1811: ( ( card C224 ) - 1 ) <= ( ( card D146 ) - 1 ) by L1810 , L1808 , RLVECT_5:28;
L1812: ( card C224 ) <= ( card D146 ) by L1811 , XREAL_1:9;
L1813: ( card D146 ) <= ( card C225 ) by L1763 , L1767 , NAT_1:43;
thus L1814: thesis by L1813 , L1812 , XXREAL_0:2;
end;
end;
theorem
L1816: (for R21 being RealLinearSpace holds (for B126 , B127 being  finite (Subset of R21) holds ((B126 is  affinely-independent & ( Affin B126 ) c= ( Affin B127 ) & ( card B126 ) = ( card B127 )) implies B127 is  affinely-independent)))
proof
let R21 being RealLinearSpace;
let C230 , C231 being  finite (Subset of R21);
assume that
L1817: (C230 is  affinely-independent & ( Affin C230 ) c= ( Affin C231 ) & ( card C230 ) = ( card C231 ));
L1818: ( {} R21 ) c= C231 by XBOOLE_1:2;
consider C232 being  affinely-independent (Subset of R21) such that L1819: ( {} R21 ) c= C232 and L1820: C232 c= C231 and L1821: ( Affin C232 ) = ( Affin C231 ) by L1818 , L1226;
reconsider D151 = C232 as  finite (Subset of R21) by L1820;
L1822: ( card D151 ) <= ( card C231 ) by L1821 , L1751;
L1823: ( card C231 ) <= ( card D151 ) by L1817 , L1821 , L1751;
thus L1824: thesis by L1823 , L1820 , L1822 , CARD_FIN:1 , XXREAL_0:1;
end;
theorem
L1825: (for R3 being Real holds (for R4 being Real holds (for R21 being RealLinearSpace holds (for R22 being (VECTOR of R21) holds (for R32 being (Linear_Combination of R21) holds (for R33 being (Linear_Combination of R21) holds (( R32 . R22 ) <> ( R33 . R22 ) implies (( ( ( R3 * R32 ) + ( ( 1 - R3 ) * R33 ) ) . R22 ) = R4 iff R3 = ( ( ( R33 . R22 ) - R4 ) / ( ( R33 . R22 ) - ( R32 . R22 ) ) )))))))))
proof
let R3 being Real;
let R4 being Real;
let R21 being RealLinearSpace;
let R22 being (VECTOR of R21);
let R32 being (Linear_Combination of R21);
let R33 being (Linear_Combination of R21);
set D152 = ( R32 . R22 );
set D153 = ( R33 . R22 );
L1826: ( ( ( R3 * R32 ) + ( ( 1 - R3 ) * R33 ) ) . R22 ) = ( ( ( R3 * R32 ) . R22 ) + ( ( ( 1 - R3 ) * R33 ) . R22 ) ) by RLVECT_2:def 10
.= ( ( R3 * D152 ) + ( ( ( 1 - R3 ) * R33 ) . R22 ) ) by RLVECT_2:def 11
.= ( ( R3 * D152 ) + ( ( ( - R3 ) + 1 ) * D153 ) ) by RLVECT_2:def 11
.= ( ( R3 * ( D152 - D153 ) ) + D153 );
assume L1827: D152 <> D153;
L1828: ( D152 - D153 ) <> ( 0 ) by L1827;
L1829: ( D153 - D152 ) <> ( 0 ) by L1827;
thus L1830:now
assume L1831: ( ( ( R3 * R32 ) + ( ( 1 - R3 ) * R33 ) ) . R22 ) = R4;
L1832: ( R3 * ( D153 - D152 ) ) = ( ( D153 - R4 ) * 1 ) by L1831 , L1826;
L1833: ( R3 / 1 ) = ( ( D153 - R4 ) / ( D153 - D152 ) ) by L1832 , L1829 , XCMPLX_1:94;
thus L1834: R3 = ( ( D153 - R4 ) / ( D153 - D152 ) ) by L1833;
end;
assume L1835: R3 = ( ( D153 - R4 ) / ( D153 - D152 ) );
thus L1836: ( ( ( R3 * R32 ) + ( ( 1 - R3 ) * R33 ) ) . R22 ) = ( ( ( ( D153 - R4 ) / ( - ( D152 - D153 ) ) ) * ( D152 - D153 ) ) + D153 ) by L1835 , L1826
.= ( ( ( ( - ( D153 - R4 ) ) / ( D152 - D153 ) ) * ( D152 - D153 ) ) + D153 ) by XCMPLX_1:192
.= ( ( - ( D153 - R4 ) ) + D153 ) by L1828 , XCMPLX_1:87
.= R4;
end;
theorem
L1837: (for R21 being RealLinearSpace holds (for R22 being (VECTOR of R21) holds (for R27 being (Subset of R21) holds (( R27 \/ { R22 } ) is  affinely-independent iff (R27 is  affinely-independent & (R22 in R27 or (not R22 in ( Affin R27 ))))))))
proof
let R21 being RealLinearSpace;
let R22 being (VECTOR of R21);
let R27 being (Subset of R21);
set D154 = ( R27 \/ { R22 } );
L1838: R22 in { R22 } by TARSKI:def 1;
L1839: R22 in D154 by L1838 , XBOOLE_0:def 3;
L1840: R27 c= D154 by XBOOLE_1:7;
thus L1841:now
assume L1842: D154 is  affinely-independent;
thus L1843: R27 is  affinely-independent by L1842 , L903 , XBOOLE_1:7;
L1844: (R22 in ( Affin R27 ) implies R22 in R27)
proof
assume L1845: R22 in ( Affin R27 );
L1846: { R22 } c= ( Affin R27 ) by L1845 , ZFMISC_1:31;
L1847: ( Affin D154 ) = ( Affin R27 ) by L1846 , L1593;
thus L1848: thesis by L1847 , L1840 , L1839 , L1842 , L1113;
end;
thus L1849: (R22 in R27 or (not R22 in ( Affin R27 ))) by L1844;
end;
assume that
L1850: R27 is  affinely-independent
and
L1851: (R22 in R27 or (not R22 in ( Affin R27 )));
per cases  by L1851;
suppose L1852: R22 in R27;

thus L1853: thesis by L1852 , L1850 , ZFMISC_1:40;
end;
suppose L1854: ((not R22 in ( Affin R27 )) & (not R22 in R27));

consider C233 being  affinely-independent (Subset of R21) such that L1855: R27 c= C233 and L1856: C233 c= D154 and L1857: ( Affin C233 ) = ( Affin D154 ) by L1840 , L1850 , L1226;
assume L1858: (not D154 is  affinely-independent);
L1859: (not R22 in C233)
proof
assume L1860: R22 in C233;
L1861: { R22 } c= C233 by L1860 , ZFMISC_1:31;
thus L1862: contradiction by L1861 , L1855 , L1858 , L903 , XBOOLE_1:8;
end;
L1863: C233 c= ( D154 \ { R22 } ) by L1859 , L1856 , ZFMISC_1:34;
L1864: D154 c= ( Affin D154 ) by L1004;
L1865: ( D154 \ { R22 } ) = R27 by L1854 , ZFMISC_1:117;
L1866: C233 = R27 by L1865 , L1855 , L1863 , XBOOLE_0:def 10;
thus L1867: contradiction by L1866 , L1839 , L1854 , L1857 , L1864;
end;
end;
theorem
L1869: (for R3 being Real holds (for R4 being Real holds (for R21 being RealLinearSpace holds (for R23 being (VECTOR of R21) holds (for R24 being (VECTOR of R21) holds (for R25 being (VECTOR of R21) holds (for R27 being (Subset of R21) holds (((not R25 in ( Affin R27 )) & R23 in R27 & R24 in R27 & R3 <> 1 & ( ( R3 * R25 ) + ( ( 1 - R3 ) * R23 ) ) = ( ( R4 * R25 ) + ( ( 1 - R4 ) * R24 ) )) implies (R3 = R4 & R23 = R24)))))))))
proof
let R3 being Real;
let R4 being Real;
let R21 being RealLinearSpace;
let R23 being (VECTOR of R21);
let R24 being (VECTOR of R21);
let R25 being (VECTOR of R21);
let R27 being (Subset of R21);
assume that
L1870: ((not R25 in ( Affin R27 )) & R23 in R27 & R24 in R27)
and
L1871: R3 <> 1
and
L1872: ( ( R3 * R25 ) + ( ( 1 - R3 ) * R23 ) ) = ( ( R4 * R25 ) + ( ( 1 - R4 ) * R24 ) );
L1873: ( R3 * R25 ) = ( ( R3 * R25 ) + ( 0. R21 ) ) by RLVECT_1:4
.= ( ( R3 * R25 ) + ( ( ( 1 - R3 ) * R23 ) - ( ( 1 - R3 ) * R23 ) ) ) by RLVECT_1:15
.= ( ( ( R4 * R25 ) + ( ( 1 - R4 ) * R24 ) ) - ( ( 1 - R3 ) * R23 ) ) by L1872 , RLVECT_1:28
.= ( ( ( ( 1 - R4 ) * R24 ) - ( ( 1 - R3 ) * R23 ) ) + ( R4 * R25 ) ) by RLVECT_1:28;
L1874: ( ( R3 * R25 ) - ( R4 * R25 ) ) = ( ( ( 1 - R4 ) * R24 ) - ( ( 1 - R3 ) * R23 ) ) by L1873 , RLVECT_4:1;
L1875: ( ( R3 - R4 ) * R25 ) = ( ( ( 1 - R4 ) * R24 ) - ( ( 1 - R3 ) * R23 ) ) by L1874 , RLVECT_1:35;
L1876: R27 c= ( Affin R27 ) by L1004;
per cases ;
suppose L1877: R3 <> R4;

L1878: ( R3 - R4 ) <> ( 0 ) by L1877;
L1879: ( ( 1 / ( R3 - R4 ) ) * ( 1 - R4 ) ) = ( ( ( R3 - R4 ) - ( R3 - 1 ) ) / ( R3 - R4 ) ) by XCMPLX_1:99
.= ( ( ( R3 - R4 ) / ( R3 - R4 ) ) - ( ( R3 - 1 ) / ( R3 - R4 ) ) ) by XCMPLX_1:120
.= ( 1 - ( ( R3 - 1 ) / ( R3 - R4 ) ) ) by L1878 , XCMPLX_1:60;
L1880: ( - ( ( 1 / ( R3 - R4 ) ) * ( 1 - R3 ) ) ) = ( - ( ( 1 - R3 ) / ( R3 - R4 ) ) ) by XCMPLX_1:99
.= ( ( - ( 1 - R3 ) ) / ( R3 - R4 ) ) by XCMPLX_1:187;
L1881: 1 = ( ( R3 - R4 ) * ( 1 / ( R3 - R4 ) ) ) by L1878 , XCMPLX_1:106;
L1882: R25 = ( ( ( 1 / ( R3 - R4 ) ) * ( R3 - R4 ) ) * R25 ) by L1881 , RLVECT_1:def 8
.= ( ( 1 / ( R3 - R4 ) ) * ( ( R3 - R4 ) * R25 ) ) by RLVECT_1:def 7
.= ( ( ( 1 / ( R3 - R4 ) ) * ( ( 1 - R4 ) * R24 ) ) - ( ( 1 / ( R3 - R4 ) ) * ( ( 1 - R3 ) * R23 ) ) ) by L1875 , RLVECT_1:34
.= ( ( ( ( 1 / ( R3 - R4 ) ) * ( 1 - R4 ) ) * R24 ) - ( ( 1 / ( R3 - R4 ) ) * ( ( 1 - R3 ) * R23 ) ) ) by RLVECT_1:def 7
.= ( ( ( ( 1 / ( R3 - R4 ) ) * ( 1 - R4 ) ) * R24 ) - ( ( ( 1 / ( R3 - R4 ) ) * ( 1 - R3 ) ) * R23 ) ) by RLVECT_1:def 7
.= ( ( ( ( 1 / ( R3 - R4 ) ) * ( 1 - R4 ) ) * R24 ) + ( - ( ( ( 1 / ( R3 - R4 ) ) * ( 1 - R3 ) ) * R23 ) ) ) by RLVECT_1:def 11
.= ( ( ( 1 - ( ( R3 - 1 ) / ( R3 - R4 ) ) ) * R24 ) + ( ( ( R3 - 1 ) / ( R3 - R4 ) ) * R23 ) ) by L1879 , L1880 , RLVECT_4:3;
thus L1883: thesis by L1882 , L1870 , L1876 , RUSUB_4:def 4;
end;
suppose L1884: R3 = R4;

L1885: ( 1 - R3 ) <> ( 0 ) by L1871;
L1886: ( ( 1 - R3 ) * R23 ) = ( ( 1 - R3 ) * R24 ) by L1872 , L1884 , RLVECT_1:8;
thus L1887: thesis by L1886 , L1884 , L1885 , RLVECT_1:36;
end;
end;
theorem
L1889: (for R3 being Real holds (for R21 being RealLinearSpace holds (for R22 being (VECTOR of R21) holds (for R25 being (VECTOR of R21) holds (for R26 being (VECTOR of R21) holds (for R34 being  affinely-independent (Subset of R21) holds ((R22 in R34 & R25 in ( Affin R34 ) & R26 in ( Affin ( R34 \ { R22 } ) ) & R25 = ( ( R3 * R22 ) + ( ( 1 - R3 ) * R26 ) )) implies R3 = ( ( R25 |-- R34 ) . R22 ))))))))
proof
let R3 being Real;
let R21 being RealLinearSpace;
let R22 being (VECTOR of R21);
let R25 being (VECTOR of R21);
let R26 being (VECTOR of R21);
let R34 being  affinely-independent (Subset of R21);
assume that
L1890: R22 in R34
and
L1891: R25 in ( Affin R34 )
and
L1892: R26 in ( Affin ( R34 \ { R22 } ) )
and
L1893: R25 = ( ( R3 * R22 ) + ( ( 1 - R3 ) * R26 ) );
L1894: R34 c= ( conv R34 ) by CONVEX1:41;
L1895: ( Carrier ( R26 |-- ( R34 \ { R22 } ) ) ) c= ( R34 \ { R22 } ) by RLVECT_2:def 6;
L1896: (not R22 in ( Carrier ( R26 |-- ( R34 \ { R22 } ) ) )) by L1895 , ZFMISC_1:56;
L1897: ( ( R26 |-- ( R34 \ { R22 } ) ) . R22 ) = ( 0 ) by L1896;
L1898: ( R34 \ { R22 } ) c= R34 by XBOOLE_1:36;
L1899: (( Affin ( R34 \ { R22 } ) ) c= ( Affin R34 ) & R34 c= ( Affin R34 )) by L1898 , L1004 , L1029;
thus L1900: ( ( R25 |-- R34 ) . R22 ) = ( ( ( ( 1 - R3 ) * ( R26 |-- R34 ) ) + ( R3 * ( R22 |-- R34 ) ) ) . R22 ) by L1899 , L1890 , L1892 , L1893 , L1619
.= ( ( ( ( 1 - R3 ) * ( R26 |-- R34 ) ) . R22 ) + ( ( R3 * ( R22 |-- R34 ) ) . R22 ) ) by RLVECT_2:def 10
.= ( ( ( ( 1 - R3 ) * ( R26 |-- R34 ) ) . R22 ) + ( R3 * ( ( R22 |-- R34 ) . R22 ) ) ) by RLVECT_2:def 11
.= ( ( ( 1 - R3 ) * ( ( R26 |-- R34 ) . R22 ) ) + ( R3 * ( ( R22 |-- R34 ) . R22 ) ) ) by RLVECT_2:def 11
.= ( ( ( 1 - R3 ) * ( ( R26 |-- R34 ) . R22 ) ) + ( R3 * 1 ) ) by L1890 , L1894 , L1636
.= ( ( ( 1 - R3 ) * ( ( R26 |-- ( R34 \ { R22 } ) ) . R22 ) ) + ( R3 * 1 ) ) by L1892 , L1730 , XBOOLE_1:36
.= R3 by L1897;
end;
