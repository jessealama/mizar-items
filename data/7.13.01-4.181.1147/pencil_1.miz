:: On Segre's Product of Partial Line Spaces
::  by Adam Naumowicz
::
:: Received May 29, 2000
:: Copyright (c) 2000-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, FUNCT_1, CARD_3, RELAT_1, XBOOLE_0, TARSKI, CARD_1,
      ZFMISC_1, SUBSET_1, PRE_TOPC, STRUCT_0, RELAT_2, FINSEQ_1, NAT_1,
      XXREAL_0, ARYTM_3, FINSET_1, SETFAM_1, PRALG_1, PBOOLE, FUNCOP_1,
      WAYBEL_3, FUNCT_4, RLVECT_2, INTEGRA1, ARYTM_1, ORDINAL4, PENCIL_1;
 notations TARSKI, XBOOLE_0, ENUMSET1, ZFMISC_1, SUBSET_1, XCMPLX_0, SETFAM_1,
      CARD_1, NUMBERS, ORDINAL1, NAT_1, FINSET_1, RELAT_1, DOMAIN_1, STRUCT_0,
      FUNCT_1, PBOOLE, FUNCT_7, WAYBEL_3, FINSEQ_1, CARD_3, PRE_TOPC, PZFMISC1,
      FUNCOP_1, PRALG_1, XXREAL_0;
 constructors PZFMISC1, REALSET2, PRALG_1, WAYBEL_3, POLYNOM1, PBOOLE, FUNCT_7,
      FUNCT_4, RELSET_1;
 registrations XBOOLE_0, SUBSET_1, RELSET_1, FINSET_1, XREAL_0, CARD_3,
      PZFMISC1, STRUCT_0, YELLOW_6, ORDINAL1, CARD_1, ZFMISC_1, PRE_POLY,
      FUNCOP_1;
 requirements REAL, BOOLE, SUBSET, NUMERALS, ARITHM;
 definitions TARSKI, WAYBEL_3, PBOOLE, XBOOLE_0, PRALG_1, STRUCT_0;
 theorems TARSKI, FUNCT_1, FUNCOP_1, PBOOLE, CARD_3, PRALG_1, STRUCT_0, CARD_1,
      YELLOW11, ENUMSET1, FINSEQ_1, CARD_2, ZFMISC_1, NAT_1, FUNCT_7, YELLOW_6,
      PZFMISC1, PUA2MSS1, FINSEQ_3, RELAT_1, XBOOLE_0, XBOOLE_1, XREAL_1,
      XXREAL_0, ORDINAL1, PARTFUN1, PRE_POLY, SUBSET_1;
 schemes FINSEQ_1, XBOOLE_0;

begin
theorem
L1: (for B1 , B2 being Function holds (( product B1 ) = ( product B2 ) implies (B1 is  non-empty implies B2 is  non-empty)))
proof
let C1 , C2 being Function;
assume L2: ( product C1 ) = ( product C2 );
L3:
now
assume that
L4: C1 is  non-empty
and
L5: (not C2 is  non-empty);
L6: (ex B3 being set st (B3 in ( dom C2 ) & ( C2 . B3 ) is  empty)) by L5 , FUNCT_1:def 9;
L7: ( {} ) in ( rng C2 ) by L6 , FUNCT_1:def 3;
L8: ( product C2 ) = ( {} ) by L7 , CARD_3:26;
L9: ( {} ) in ( rng C1 ) by L8 , L2 , CARD_3:26;
L10: (ex B4 being set st (B4 in ( dom C1 ) & ( C1 . B4 ) = ( {} ))) by L9 , FUNCT_1:def 3;
thus L11: contradiction by L10 , L4 , FUNCT_1:def 9;
end;
thus L12: thesis by L3;
end;
theorem
L13: (for B5 being set holds (2 c= ( card B5 ) iff (ex B6 , B7 being set st (B6 in B5 & B7 in B5 & B6 <> B7))))
proof
let C3 being set;
thus L14: (2 c= ( card C3 ) implies (ex B8 , B9 being set st (B8 in C3 & B9 in C3 & B8 <> B9)))
proof
assume L15: 2 c= ( card C3 );
L16: ( card 2 ) c= ( card C3 ) by L15 , CARD_1:def 2;
consider C4 being Function such that L17: C4 is  one-to-one and L18: ( dom C4 ) = 2 and L19: ( rng C4 ) c= C3 by L16 , CARD_1:10;
take D1 = ( C4 . ( 0 ) );
take D2 = ( C4 . 1 );
L20: ( 0 ) in ( dom C4 ) by L18 , CARD_1:50 , TARSKI:def 2;
L21: ( C4 . ( 0 ) ) in ( rng C4 ) by L20 , FUNCT_1:def 3;
thus L22: D1 in C3 by L21 , L19;
L23: 1 in ( dom C4 ) by L18 , CARD_1:50 , TARSKI:def 2;
L24: ( C4 . 1 ) in ( rng C4 ) by L23 , FUNCT_1:def 3;
thus L25: D2 in C3 by L24 , L19;
thus L26: thesis by L17 , L20 , L23 , FUNCT_1:def 4;
end;

given C5 , C6 being set such that
L27: (C5 in C3 & C6 in C3)
and
L28: C5 <> C6;

L29: { C5 , C6 } c= C3
proof
let C7 being set;
assume L30: C7 in { C5 , C6 };
thus L31: thesis by L30 , L27 , TARSKI:def 2;
end;
L32: ( card { C5 , C6 } ) c= ( card C3 ) by L29 , CARD_1:11;
thus L33: thesis by L32 , L28 , CARD_2:57;
end;
theorem
L34: (for B10 being set holds (2 c= ( card B10 ) implies (for B11 being set holds (ex B12 being set st (B12 in B10 & B11 <> B12)))))
proof
let C8 being set;
assume L35: 2 c= ( card C8 );
consider C9 , C10 being set such that L36: C9 in C8 and L37: (C10 in C8 & C9 <> C10) by L35 , L13;
let C11 being set;
per cases ;
suppose L38: C11 = C9;

take C10;
thus L39: thesis by L37 , L38;
end;
suppose L40: C11 <> C9;

take C9;
thus L41: thesis by L36 , L40;
end;
end;
theorem
L43: (for B13 being set holds (2 c= ( card B13 ) iff B13 is non  trivial))
proof
let C12 being set;
set D3 = the (Element of C12);
thus L44: (2 c= ( card C12 ) implies C12 is non  trivial)
proof
assume L45: 2 c= ( card C12 );
consider C13 , C14 being set such that L46: C13 in C12 and L47: C14 in C12 and L48: C13 <> C14 by L45 , L13;
L49:
now
given C15 being set such that
L50: C12 = { C15 };

thus L51: C13 = C15 by L46 , L50 , TARSKI:def 1
.= C14 by L47 , L50 , TARSKI:def 1;
end;
thus L52: thesis by L49 , L46 , L48 , ZFMISC_1:131;
end;

assume L53: C12 is non  trivial;
L54: (C12 c= { D3 } implies C12 = { D3 }) by L53;
consider C16 being set such that L55: C16 in C12 and L56: (not C16 in { D3 }) by L54 , L53 , TARSKI:def 3;
L57: C16 <> D3 by L56 , TARSKI:def 1;
thus L58: thesis by L57 , L55 , L13;
end;
theorem
L59: (for B14 being set holds (3 c= ( card B14 ) iff (ex B15 , B16 , B17 being set st (B15 in B14 & B16 in B14 & B17 in B14 & B15 <> B16 & B15 <> B17 & B16 <> B17))))
proof
let C17 being set;
thus L60: (3 c= ( card C17 ) implies (ex B18 , B19 , B20 being set st (B18 in C17 & B19 in C17 & B20 in C17 & B18 <> B19 & B18 <> B20 & B19 <> B20)))
proof
assume L61: 3 c= ( card C17 );
L62: ( card 3 ) c= ( card C17 ) by L61 , CARD_1:def 2;
consider C18 being Function such that L63: C18 is  one-to-one and L64: ( dom C18 ) = 3 and L65: ( rng C18 ) c= C17 by L62 , CARD_1:10;
take D4 = ( C18 . ( 0 ) );
take D5 = ( C18 . 1 );
take D6 = ( C18 . 2 );
L66: ( 0 ) in ( dom C18 ) by L64 , ENUMSET1:def 1 , YELLOW11:1;
L67: ( C18 . ( 0 ) ) in ( rng C18 ) by L66 , FUNCT_1:def 3;
thus L68: D4 in C17 by L67 , L65;
L69: 1 in ( dom C18 ) by L64 , ENUMSET1:def 1 , YELLOW11:1;
L70: ( C18 . 1 ) in ( rng C18 ) by L69 , FUNCT_1:def 3;
thus L71: D5 in C17 by L70 , L65;
L72: 2 in ( dom C18 ) by L64 , ENUMSET1:def 1 , YELLOW11:1;
L73: ( C18 . 2 ) in ( rng C18 ) by L72 , FUNCT_1:def 3;
thus L74: D6 in C17 by L73 , L65;
thus L75: D4 <> D5 by L63 , L66 , L69 , FUNCT_1:def 4;
thus L76: D4 <> D6 by L63 , L66 , L72 , FUNCT_1:def 4;
thus L77: thesis by L63 , L69 , L72 , FUNCT_1:def 4;
end;

given C19 , C20 , C21 being set such that
L78: (C19 in C17 & C20 in C17 & C21 in C17)
and
L79: (C19 <> C20 & C19 <> C21 & C20 <> C21);

L80: { C19 , C20 , C21 } c= C17
proof
let C22 being set;
assume L81: C22 in { C19 , C20 , C21 };
thus L82: thesis by L81 , L78 , ENUMSET1:def 1;
end;
L83: ( card { C19 , C20 , C21 } ) c= ( card C17 ) by L80 , CARD_1:11;
thus L84: thesis by L83 , L79 , CARD_2:58;
end;
theorem
L85: (for B21 being set holds (3 c= ( card B21 ) implies (for B22 , B23 being set holds (ex B24 being set st (B24 in B21 & B22 <> B24 & B23 <> B24)))))
proof
let C23 being set;
assume L86: 3 c= ( card C23 );
consider C24 , C25 , C26 being set such that L87: C24 in C23 and L88: C25 in C23 and L89: C26 in C23 and L90: C24 <> C25 and L91: (C24 <> C26 & C25 <> C26) by L86 , L59;
let C27 , C28 being set;
per cases ;
suppose L92: (C27 <> C24 & C28 <> C24);

thus L93: thesis by L92 , L87;
end;
suppose L94: (C27 <> C24 & C28 = C24 & C27 = C25);

thus L95: thesis by L94 , L89 , L91;
end;
suppose L96: (C27 <> C24 & C28 = C24 & C27 <> C25);

thus L97: thesis by L96 , L88 , L90;
end;
suppose L98: (C27 = C24 & C28 <> C24 & C28 = C25);

thus L99: thesis by L98 , L89 , L91;
end;
suppose L100: (C27 = C24 & C28 <> C24 & C28 <> C25);

thus L101: thesis by L100 , L88 , L90;
end;
suppose L102: (C27 = C24 & C28 = C24);

thus L103: thesis by L102 , L88 , L90;
end;
end;
begin
definition
let C29 being TopStruct;
mode Block of C29
 is (Element of (the topology of C29));
end;
definition
let C30 being TopStruct;
let C31 , C32 being (Point of C30);
pred C31 , C32 are_collinear 
means
:L106: (C31 = C32 or (ex B25 being (Block of C30) st { C31 , C32 } c= B25))
;end;
definition
let C33 being TopStruct;
let C34 being (Subset of C33);
attr C34 is  closed_under_lines
means
:L108: (for B26 being (Block of C33) holds (2 c= ( card ( B26 /\ C34 ) ) implies B26 c= C34));
attr C34 is  strong
means
:L109: (for B27 , B28 being (Point of C33) holds ((B27 in C34 & B28 in C34) implies B27 , B28 are_collinear ));
end;
definition
let C35 being TopStruct;
attr C35 is  void
means
:L111: (the topology of C35) is  empty;
attr C35 is  degenerated
means
:L112: (the carrier of C35) is (Block of C35);
attr C35 is  with_non_trivial_blocks
means
:L113: (for B29 being (Block of C35) holds 2 c= ( card B29 ));
attr C35 is  identifying_close_blocks
means
:L114: (for B30 , B31 being (Block of C35) holds (2 c= ( card ( B30 /\ B31 ) ) implies B30 = B31));
attr C35 is  truly-partial
means
:L115: (ex B32 , B33 being (Point of C35) st (not B32 , B33 are_collinear ));
attr C35 is  without_isolated_points
means
:L116: (for B34 being (Point of C35) holds (ex B35 being (Block of C35) st B34 in B35));
attr C35 is  connected
means
(for B36 , B37 being (Point of C35) holds (ex B38 being (FinSequence of (the carrier of C35)) st (B36 = ( B38 . 1 ) & B37 = ( B38 . ( len B38 ) ) & (for B39 being Nat holds ((1 <= B39 & B39 < ( len B38 )) implies (for B40 , B41 being (Point of C35) holds ((B40 = ( B38 . B39 ) & B41 = ( B38 . ( B39 + 1 ) )) implies B40 , B41 are_collinear )))))));
attr C35 is  strongly_connected
means
:L117: (for B42 being (Point of C35) holds (for B43 being (Subset of C35) holds (B43 is  closed_under_lines  strong implies (ex B44 being (FinSequence of ( bool (the carrier of C35) )) st (B43 = ( B44 . 1 ) & B42 in ( B44 . ( len B44 ) ) & (for B45 being (Subset of C35) holds (B45 in ( rng B44 ) implies B45 is  closed_under_lines  strong)) & (for B46 being Nat holds ((1 <= B46 & B46 < ( len B44 )) implies 2 c= ( card ( ( B44 . B46 ) /\ ( B44 . ( B46 + 1 ) ) ) ))))))));
end;
theorem
L119: (for B47 being non  empty set holds (3 c= ( card B47 ) implies (for B48 being TopStruct holds (((the carrier of B48) = B47 & (the topology of B48) = { B49 where B49 is (Subset of B47) : 2 = ( card B49 ) }) implies B48 is non  empty non  void non  degenerated non  truly-partial  with_non_trivial_blocks  identifying_close_blocks  without_isolated_points))))
proof
let C36 being non  empty set;
assume L120: 3 c= ( card C36 );
L121: 2 c= 3 by NAT_1:39;
L122: 2 c= ( card C36 ) by L121 , L120 , XBOOLE_1:1;
consider C37 , C38 being set such that L123: (C37 in C36 & C38 in C36) and L124: C37 <> C38 by L122 , L13;
L125: { C37 , C38 } c= C36
proof
let C39 being set;
assume L126: C39 in { C37 , C38 };
thus L127: thesis by L126 , L123 , TARSKI:def 2;
end;
reconsider D7 = { C37 , C38 } as (Subset of C36) by L125;
let C40 being TopStruct;
assume that
L128: (the carrier of C40) = C36
and
L129: (the topology of C40) = { B50 where B50 is (Subset of C36) : 2 = ( card B50 ) };
thus L130: C40 is non  empty by L128;
L131: 2 = ( card D7 ) by L124 , CARD_2:57;
L132: D7 in (the topology of C40) by L131 , L129;
reconsider D8 = { B51 where B51 is (Subset of C36) : 2 = ( card B51 ) } as non  empty set by L132 , L129;
thus L133: C40 is non  void by L132 , L111;
L134:
now
assume L135: C36 in D8;
L136: (ex B52 being (Subset of C36) st (C36 = B52 & 2 = ( card B52 ))) by L135;
thus L137: contradiction by L136 , L120 , NAT_1:39;
end;
L138: (not C36 is (Element of D8)) by L134;
thus L139: C40 is non  degenerated by L138 , L128 , L129 , L112;
L140: (for B53 , B54 being (Point of C40) holds B53 , B54 are_collinear )
proof
let C41 , C42 being (Point of C40);
per cases ;
suppose L141: C41 = C42;

consider C43 being set such that L142: C43 in C36 and L143: C43 <> C41 by L120 , L121 , L34 , XBOOLE_1:1;
reconsider D9 = C43 as (Point of C40) by L128 , L142;
L144: { C41 , C42 } c= { C41 , D9 }
proof
let C44 being set;
assume L145: C44 in { C41 , C42 };
L146: (C44 = C41 or C44 = C42) by L145 , TARSKI:def 2;
thus L147: thesis by L146 , L141 , TARSKI:def 2;
end;
L148: { C41 , D9 } c= C36
proof
let C45 being set;
assume L149: C45 in { C41 , D9 };
L150: (C45 = C41 or C45 = D9) by L149 , TARSKI:def 2;
thus L151: thesis by L150 , L128;
end;
reconsider D10 = { C41 , D9 } as (Subset of C36) by L148;
L152: ( card D10 ) = 2 by L143 , CARD_2:57;
L153: D10 in (the topology of C40) by L152 , L129;
thus L154: thesis by L153 , L144 , L106;
end;
suppose L155: C41 <> C42;

L156: { C41 , C42 } c= C36
proof
let C46 being set;
assume L157: C46 in { C41 , C42 };
L158: (C46 = C41 or C46 = C42) by L157 , TARSKI:def 2;
thus L159: thesis by L158 , L128;
end;
reconsider D11 = { C41 , C42 } as (Subset of C36) by L156;
L160: ( card { C41 , C42 } ) = 2 by L155 , CARD_2:57;
L161: D11 in (the topology of C40) by L160 , L129;
thus L162: thesis by L161 , L106;
end;
end;
thus L164: C40 is non  truly-partial by L140 , L115;
thus L165: C40 is  with_non_trivial_blocks
proof
let C47 being (Block of C40);
L166: C47 in (the topology of C40) by L132;
L167: (ex B55 being (Subset of C36) st (B55 = C47 & ( card B55 ) = 2)) by L166 , L129;
thus L168: thesis by L167;
end;

thus L169: C40 is  identifying_close_blocks
proof
let C48 , C49 being (Block of C40);
assume L170: 2 c= ( card ( C48 /\ C49 ) );
consider C50 , C51 being set such that L171: (C50 in ( C48 /\ C49 ) & C51 in ( C48 /\ C49 )) and L172: C50 <> C51 by L170 , L13;
L173: { C50 , C51 } c= ( C48 /\ C49 )
proof
let C52 being set;
assume L174: C52 in { C50 , C51 };
thus L175: thesis by L174 , L171 , TARSKI:def 2;
end;
L176: C49 in (the topology of C40) by L132;
L177: (ex B56 being (Subset of C36) st (B56 = C49 & ( card B56 ) = 2)) by L176 , L129;
reconsider D12 = C49 as  finite set by L177;
L178: ( C48 /\ C49 ) c= D12 by XBOOLE_1:17;
L179: C48 in (the topology of C40) by L132;
L180: (ex B57 being (Subset of C36) st (B57 = C48 & ( card B57 ) = 2)) by L179 , L129;
reconsider D13 = C48 as  finite set by L180;
L181: ( card { C50 , C51 } ) = 2 by L172 , CARD_2:57;
L182: ( C48 /\ C49 ) c= D13 by XBOOLE_1:17;
L183: { C50 , C51 } = D13 by L182 , L180 , L173 , L181 , PRE_POLY:8 , XBOOLE_1:1;
thus L184: thesis by L183 , L173 , L181 , L177 , L178 , PRE_POLY:8 , XBOOLE_1:1;
end;

thus L185: C40 is  without_isolated_points
proof
let C53 being (Point of C40);
consider C54 being set such that L186: C54 in C36 and L187: C54 <> C53 by L120 , L121 , L34 , XBOOLE_1:1;
L188: { C53 , C54 } c= C36
proof
let C55 being set;
assume L189: C55 in { C53 , C54 };
L190: (C55 = C53 or C55 = C54) by L189 , TARSKI:def 2;
thus L191: thesis by L190 , L128 , L186;
end;
reconsider D14 = { C53 , C54 } as (Subset of C36) by L188;
L192: ( card { C53 , C54 } ) = 2 by L187 , CARD_2:57;
L193: D14 in (the topology of C40) by L192 , L129;
reconsider D15 = D14 as (Block of C40) by L193;
take D15;
thus L194: thesis by TARSKI:def 2;
end;

end;
theorem
L186: (for B58 being non  empty set holds (3 c= ( card B58 ) implies (for B59 being (Subset of B58) holds (( card B59 ) = 2 implies (for B60 being TopStruct holds (((the carrier of B60) = B58 & (the topology of B60) = ( { B61 where B61 is (Subset of B58) : 2 = ( card B61 ) } \ { B59 } )) implies B60 is non  empty non  void non  degenerated  truly-partial  with_non_trivial_blocks  identifying_close_blocks  without_isolated_points))))))
proof
let C56 being non  empty set;
assume L187: 3 c= ( card C56 );
let C57 being (Subset of C56);
assume L188: ( card C57 ) = 2;
reconsider D16 = C57 as  finite (Subset of C56) by L188;
consider C58 , C59 being set such that L189: C58 <> C59 and L190: D16 = { C58 , C59 } by L188 , CARD_2:60;
let C60 being TopStruct;
assume that
L191: (the carrier of C60) = C56
and
L192: (the topology of C60) = ( { B62 where B62 is (Subset of C56) : 2 = ( card B62 ) } \ { C57 } );
reconsider D17 = C58 , D18 = C59 as (Point of C60) by L191 , L190 , ZFMISC_1:32;
consider C61 being set such that L193: C61 in C56 and L194: C61 <> D17 and L195: C61 <> D18 by L187 , L85;
L196: { D17 , C61 } c= C56
proof
let C62 being set;
assume L197: C62 in { D17 , C61 };
L198: (C62 = D17 or C62 = C61) by L197 , TARSKI:def 2;
thus L199: thesis by L198 , L191 , L193;
end;
reconsider D19 = { D17 , C61 } as (Subset of C56) by L196;
L200: ( card D19 ) = 2 by L194 , CARD_2:57;
L201: (C61 in D19 & D19 in { B63 where B63 is (Subset of C56) : 2 = ( card B63 ) }) by L200 , TARSKI:def 2;
thus L202: C60 is non  empty by L191;
L203: (not C61 in D16) by L190 , L194 , L195 , TARSKI:def 2;
L204: (not { B64 where B64 is (Subset of C56) : 2 = ( card B64 ) } c= { C57 }) by L203 , L201 , TARSKI:def 1;
L205: ( { B65 where B65 is (Subset of C56) : 2 = ( card B65 ) } \ { C57 } ) is non  empty by L204 , XBOOLE_1:37;
thus L206: C60 is non  void by L205 , L192 , L111;
reconsider D20 = ( { B66 where B66 is (Subset of C56) : 2 = ( card B66 ) } \ { C57 } ) as non  empty set by L204 , XBOOLE_1:37;
L207:
now
assume L208: C56 in D20;
L209: C56 in { B67 where B67 is (Subset of C56) : 2 = ( card B67 ) } by L208;
L210: (ex B68 being (Subset of C56) st (C56 = B68 & 2 = ( card B68 ))) by L209;
thus L211: contradiction by L210 , L187 , NAT_1:39;
end;
L212: (not C56 is (Element of D20)) by L207;
thus L213: C60 is non  degenerated by L212 , L191 , L192 , L112;
thus L214: C60 is  truly-partial
proof
take D17;
take D18;
L215: (for B69 being (Block of C60) holds (not { D17 , D18 } c= B69))
proof
let C63 being (Block of C60);
L216: C63 in { B70 where B70 is (Subset of C56) : 2 = ( card B70 ) } by L192 , L205 , XBOOLE_0:def 5;
consider C64 being (Subset of C56) such that L217: C63 = C64 and L218: ( card C64 ) = 2 by L216;
reconsider D21 = C64 as  finite (Subset of C56) by L218;
consider C65 , C66 being set such that L219: C65 <> C66 and L220: D21 = { C65 , C66 } by L218 , CARD_2:60;
L221: (not C63 in { C57 }) by L192 , L205 , XBOOLE_0:def 5;
L222:
now
assume L223: { D17 , D18 } c= C63;
L224: D18 in D21 by L223 , L217 , ZFMISC_1:32;
L225: (D18 = C65 or D18 = C66) by L224 , L220 , TARSKI:def 2;
L226: D17 in D21 by L217 , L223 , ZFMISC_1:32;
L227: (D17 = C65 or D17 = C66) by L226 , L220 , TARSKI:def 2;
thus L228: contradiction by L227 , L189 , L190 , L221 , L217 , L220 , L225 , TARSKI:def 1;
end;
thus L229: thesis by L222;
end;
thus L230: thesis by L215 , L189 , L106;
end;

thus L231: C60 is  with_non_trivial_blocks
proof
let C67 being (Block of C60);
L232: C67 in { B71 where B71 is (Subset of C56) : 2 = ( card B71 ) } by L192 , L205 , XBOOLE_0:def 5;
L233: (ex B72 being (Subset of C56) st (B72 = C67 & ( card B72 ) = 2)) by L232;
thus L234: thesis by L233;
end;

thus L235: C60 is  identifying_close_blocks
proof
let C68 , C69 being (Block of C60);
assume L236: 2 c= ( card ( C68 /\ C69 ) );
consider C70 , C71 being set such that L237: (C70 in ( C68 /\ C69 ) & C71 in ( C68 /\ C69 )) and L238: C70 <> C71 by L236 , L13;
L239: { C70 , C71 } c= ( C68 /\ C69 )
proof
let C72 being set;
assume L240: C72 in { C70 , C71 };
thus L241: thesis by L240 , L237 , TARSKI:def 2;
end;
L242: C69 in { B73 where B73 is (Subset of C56) : 2 = ( card B73 ) } by L192 , L205 , XBOOLE_0:def 5;
L243: (ex B74 being (Subset of C56) st (B74 = C69 & ( card B74 ) = 2)) by L242;
reconsider D22 = C69 as  finite set by L243;
L244: ( C68 /\ C69 ) c= D22 by XBOOLE_1:17;
L245: C68 in { B75 where B75 is (Subset of C56) : 2 = ( card B75 ) } by L192 , L205 , XBOOLE_0:def 5;
L246: (ex B76 being (Subset of C56) st (B76 = C68 & ( card B76 ) = 2)) by L245;
reconsider D23 = C68 as  finite set by L246;
L247: ( card { C70 , C71 } ) = 2 by L238 , CARD_2:57;
L248: ( C68 /\ C69 ) c= D23 by XBOOLE_1:17;
L249: { C70 , C71 } = D23 by L248 , L246 , L239 , L247 , PRE_POLY:8 , XBOOLE_1:1;
thus L250: thesis by L249 , L239 , L247 , L243 , L244 , PRE_POLY:8 , XBOOLE_1:1;
end;

L251: 2 c= 3 by NAT_1:39;
thus L252: C60 is  without_isolated_points
proof
let C73 being (Point of C60);
per cases ;
suppose L253: (C73 <> D17 & C73 <> D18);

consider C74 being set such that L254: C74 in C56 and L255: C74 <> C73 by L187 , L251 , L34 , XBOOLE_1:1;
L256: { C73 , C74 } c= C56
proof
let C75 being set;
assume L257: C75 in { C73 , C74 };
L258: (C75 = C73 or C75 = C74) by L257 , TARSKI:def 2;
thus L259: thesis by L258 , L191 , L254;
end;
reconsider D24 = { C73 , C74 } as (Subset of C56) by L256;
L260: ( card { C73 , C74 } ) = 2 by L255 , CARD_2:57;
L261: D24 in { B77 where B77 is (Subset of C56) : 2 = ( card B77 ) } by L260;
L262: C73 in D24 by TARSKI:def 2;
L263: D24 <> C57 by L262 , L190 , L253 , TARSKI:def 2;
L264: (not D24 in { C57 }) by L263 , TARSKI:def 1;
reconsider D25 = D24 as (Block of C60) by L264 , L192 , L261 , XBOOLE_0:def 5;
take D25;
thus L265: thesis by TARSKI:def 2;
end;
suppose L266: (C73 = D17 or C73 = D18);

consider C76 being set such that L267: C76 in C56 and L268: (C76 <> D17 & C76 <> D18) by L187 , L85;
L269: { C73 , C76 } c= C56
proof
let C77 being set;
assume L270: C77 in { C73 , C76 };
L271: (C77 = C73 or C77 = C76) by L270 , TARSKI:def 2;
thus L272: thesis by L271 , L191 , L267;
end;
reconsider D26 = { C73 , C76 } as (Subset of C56) by L269;
L273: ( card { C73 , C76 } ) = 2 by L266 , L268 , CARD_2:57;
L274: D26 in { B78 where B78 is (Subset of C56) : 2 = ( card B78 ) } by L273;
L275: C76 in D26 by TARSKI:def 2;
L276: D26 <> C57 by L275 , L190 , L268 , TARSKI:def 2;
L277: (not D26 in { C57 }) by L276 , TARSKI:def 1;
reconsider D27 = D26 as (Block of C60) by L277 , L192 , L274 , XBOOLE_0:def 5;
take D27;
thus L278: thesis by TARSKI:def 2;
end;
end;

end;
registration
cluster  strict non  empty non  void non  degenerated non  truly-partial  with_non_trivial_blocks  identifying_close_blocks  without_isolated_points for TopStruct;
existence
proof
L253: { B79 where B79 is (Subset of 3) : 2 = ( card B79 ) } c= ( bool 3 )
proof
let C78 being set;
assume L254: C78 in { B80 where B80 is (Subset of 3) : 2 = ( card B80 ) };
L255: (ex B81 being (Subset of 3) st (C78 = B81 & 2 = ( card B81 ))) by L254;
thus L256: thesis by L255;
end;
reconsider D28 = { B82 where B82 is (Subset of 3) : 2 = ( card B82 ) } as (Subset-Family of 3) by L253;
take TopStruct (# 3 , D28 #);
L257: 3 = ( card 3 ) by CARD_1:def 2;
thus L258: thesis by L257 , L119;
end;
cluster  strict non  empty non  void non  degenerated  truly-partial  with_non_trivial_blocks  identifying_close_blocks  without_isolated_points for TopStruct;
existence
proof
L259: (2 c= 3 & ( card 2 ) = 2) by CARD_1:def 2 , NAT_1:39;
consider C79 being (Subset of 3) such that L260: ( card C79 ) = 2 by L259;
L261: { B83 where B83 is (Subset of 3) : 2 = ( card B83 ) } c= ( bool 3 )
proof
let C80 being set;
assume L262: C80 in { B84 where B84 is (Subset of 3) : 2 = ( card B84 ) };
L263: (ex B85 being (Subset of 3) st (C80 = B85 & 2 = ( card B85 ))) by L262;
thus L264: thesis by L263;
end;
reconsider D29 = ( { B86 where B86 is (Subset of 3) : 2 = ( card B86 ) } \ { C79 } ) as (Subset-Family of 3) by L261 , XBOOLE_1:1;
take TopStruct (# 3 , D29 #);
L265: 3 c= ( card 3 ) by CARD_1:def 2;
thus L266: thesis by L265 , L260 , L186;
end;
end;
registration
let C81 being non  void TopStruct;
cluster (the topology of C81) -> non  empty;
coherence by L111;
end;
definition
let C82 being  without_isolated_points TopStruct;
let C83 , C84 being (Point of C82);
redefine pred C83 , C84 are_collinear 
means
(ex B87 being (Block of C82) st { C83 , C84 } c= B87)
;compatibility
proof
thus L269: (C83 , C84 are_collinear  implies (ex B88 being (Block of C82) st { C83 , C84 } c= B88))
proof
assume L270: C83 , C84 are_collinear ;
per cases ;
suppose L271: C83 = C84;

consider C85 being (Block of C82) such that L272: C83 in C85 by L116;
take C85;
thus L273: thesis by L271 , L272 , ZFMISC_1:32;
end;
suppose L274: C83 <> C84;

thus L275: thesis by L274 , L270 , L106;
end;
end;

given C86 being (Block of C82) such that
L277: { C83 , C84 } c= C86;

thus L278: thesis by L277 , L106;
end;
end;
definition
mode PLS
 is non  empty non  void non  degenerated  with_non_trivial_blocks  identifying_close_blocks TopStruct;
end;
definition
let C87 being Relation;
attr C87 is  TopStruct-yielding
means
:L281: (for B89 being set holds (B89 in ( rng C87 ) implies B89 is TopStruct));
end;
registration
cluster  TopStruct-yielding ->  1-sorted-yielding for Function;
coherence
proof
let C88 being Function;
assume that
L283: C88 is  TopStruct-yielding;
let C89 being set;
assume L284: C89 in ( dom C88 );
L285: ( C88 . C89 ) in ( rng C88 ) by L284 , FUNCT_1:def 3;
thus L286: thesis by L285 , L283 , L281;
end;
end;
registration
let C90 being set;
cluster  TopStruct-yielding for (ManySortedSet of C90);
existence
proof
set D30 = the TopStruct;
take ( C90 --> D30 );
let C91 being set;
assume L288: C91 in ( rng ( C90 --> D30 ) );
L289: ( rng ( C90 --> D30 ) ) c= { D30 } by FUNCOP_1:13;
thus L290: thesis by L289 , L288 , TARSKI:def 1;
end;
end;
registration
cluster  TopStruct-yielding for Function;
existence
proof
set D31 = the  TopStruct-yielding (ManySortedSet of ( {} ));
take D31;
thus L292: thesis;
end;
end;
definition
let C92 being Relation;
attr C92 is  non-void-yielding
means
:L294: (for B90 being TopStruct holds (B90 in ( rng C92 ) implies B90 is non  void));
end;
definition
let C93 being  TopStruct-yielding Function;
redefine attr C93 is  non-void-yielding
means
(for B91 being set holds (B91 in ( rng C93 ) implies B91 is non  void non  void non  void non  void TopStruct));
compatibility
proof
thus L296: (C93 is  non-void-yielding implies (for B92 being set holds (B92 in ( rng C93 ) implies B92 is non  void non  void non  void non  void TopStruct))) by L281 , L294;
assume L297: (for B93 being set holds (B93 in ( rng C93 ) implies B93 is non  void non  void non  void non  void TopStruct));
let C94 being TopStruct;
thus L298: thesis by L297;
end;
end;
definition
let C95 being Relation;
attr C95 is  trivial-yielding
means
:L300: (for B94 being set holds (B94 in ( rng C95 ) implies B94 is  trivial));
end;
definition
let C96 being Relation;
attr C96 is  non-Trivial-yielding
means
:L302: (for B95 being 1-sorted holds (B95 in ( rng C96 ) implies B95 is non  trivial));
end;
registration
cluster  non-Trivial-yielding ->  non-Empty for Relation;
coherence
proof
let C97 being Relation;
assume that
L304: C97 is  non-Trivial-yielding;
let C98 being 1-sorted;
assume L305: C98 in ( rng C97 );
thus L306: thesis by L305 , L304 , L302;
end;
end;
definition
let C99 being  1-sorted-yielding Function;
redefine attr C99 is  non-Trivial-yielding
means
(for B96 being set holds (B96 in ( rng C99 ) implies B96 is non  trivial non  trivial non  trivial non  trivial 1-sorted));
compatibility
proof
thus L308:now
assume L309: C99 is  non-Trivial-yielding;
let C100 being set;
assume L310: C100 in ( rng C99 );
L311: (ex B97 being set st (B97 in ( dom C99 ) & C100 = ( C99 . B97 ))) by L310 , FUNCT_1:def 3;
thus L312: C100 is non  trivial non  trivial non  trivial non  trivial 1-sorted by L311 , L309 , L310 , L302 , PRALG_1:def 11;
end;
assume L313: (for B98 being set holds (B98 in ( rng C99 ) implies B98 is non  trivial non  trivial non  trivial non  trivial 1-sorted));
let C101 being 1-sorted;
thus L314: thesis by L313;
end;
end;
definition
let C102 being non  empty set;
let C103 being  TopStruct-yielding (ManySortedSet of C102);
let C104 being (Element of C102);
redefine func C103 . C104 -> TopStruct;

coherence
proof
L316: ( dom C103 ) = C102 by PARTFUN1:def 2;
L317: ( C103 . C104 ) in ( rng C103 ) by L316 , FUNCT_1:def 3;
thus L318: thesis by L317 , L281;
end;
end;
definition
let C105 being Relation;
attr C105 is  PLS-yielding
means
:L320: (for B99 being set holds (B99 in ( rng C105 ) implies B99 is PLS));
end;
registration
cluster  PLS-yielding ->  non-Empty  TopStruct-yielding for Function;
coherence
proof
let C106 being Function;
assume that
L322: C106 is  PLS-yielding;
thus L323: C106 is  non-Empty
proof
let C107 being 1-sorted;
assume L324: C107 in ( rng C106 );
thus L325: thesis by L324 , L322 , L320;
end;

let C108 being set;
assume L326: C108 in ( rng C106 );
thus L327: thesis by L326 , L322 , L320;
end;
cluster  PLS-yielding ->  non-void-yielding for  TopStruct-yielding  TopStruct-yielding  TopStruct-yielding  TopStruct-yielding Function;
coherence
proof
let C109 being  TopStruct-yielding Function;
assume that
L328: C109 is  PLS-yielding;
let C110 being set;
assume L329: C110 in ( rng C109 );
thus L330: thesis by L329 , L328 , L320;
end;
cluster  PLS-yielding ->  non-Trivial-yielding for  TopStruct-yielding  TopStruct-yielding  TopStruct-yielding  TopStruct-yielding Function;
coherence
proof
let C111 being  TopStruct-yielding Function;
assume that
L331: C111 is  PLS-yielding;
let C112 being set;
assume L332: C112 in ( rng C111 );
reconsider D32 = C112 as  with_non_trivial_blocks non  void non  empty TopStruct by L332 , L331 , L320;
consider C113 being set such that L333: C113 in (the topology of D32) by XBOOLE_0:def 1;
reconsider D33 = C113 as (Block of D32) by L333;
L334: 2 c= ( card D33 ) by L113;
L335: (ex B100 , B101 being set st (B100 in D33 & B101 in D33 & B100 <> B101)) by L334 , L13;
thus L336: thesis by L335 , L333 , STRUCT_0:def 10;
end;
end;
registration
let C114 being set;
cluster  PLS-yielding for (ManySortedSet of C114);
existence
proof
set D34 = the PLS;
take ( C114 --> D34 );
let C115 being set;
assume L338: C115 in ( rng ( C114 --> D34 ) );
L339: ( rng ( C114 --> D34 ) ) c= { D34 } by FUNCOP_1:13;
thus L340: thesis by L339 , L338 , TARSKI:def 1;
end;
end;
definition
let C116 being non  empty set;
let C117 being  PLS-yielding (ManySortedSet of C116);
let C118 being (Element of C116);
redefine func C117 . C118 -> PLS;

coherence
proof
L342: ( dom C117 ) = C116 by PARTFUN1:def 2;
L343: ( C117 . C118 ) in ( rng C117 ) by L342 , FUNCT_1:def 3;
thus L344: thesis by L343 , L320;
end;
end;
definition
let C119 being set;
let C120 being (ManySortedSet of C119);
attr C120 is  Segre-like
means
:L346: (ex B102 being (Element of C119) st (for B103 being (Element of C119) holds (B102 <> B103 implies ( C120 . B103 ) is 1 -element)));
end;
registration
let C121 being set;
let C122 being (ManySortedSet of C121);
cluster { C122 } ->  trivial-yielding;
coherence
proof
let C123 being set;
assume L348: C123 in ( rng { C122 } );
consider C124 being set such that L349: (C124 in ( dom { C122 } ) & C123 = ( { C122 } . C124 )) by L348 , FUNCT_1:def 3;
L350: ( dom { C122 } ) = C121 by PARTFUN1:def 2;
L351: C123 = { ( C122 . C124 ) } by L350 , L349 , PZFMISC1:def 1;
thus L352: thesis by L351;
end;
end;
theorem
L354: (for B104 being non  empty set holds (for B105 being (ManySortedSet of B104) holds (for B106 being (Element of B104) holds (for B107 being non  trivial set holds ( B105 +* (B106 , B107) ) is non  trivial-yielding))))
proof
let C125 being non  empty set;
let C126 being (ManySortedSet of C125);
let C127 being (Element of C125);
let C128 being non  trivial set;
take D35 = ( ( C126 +* (C127 , C128) ) . C127 );
L355: ( dom C126 ) = C125 by PARTFUN1:def 2;
L356: C127 in ( dom C126 ) by L355;
L357: C127 in ( dom ( C126 +* (C127 , C128) ) ) by L356 , FUNCT_7:30;
thus L358: D35 in ( rng ( C126 +* (C127 , C128) ) ) by L357 , FUNCT_1:def 3;
L359: ( dom C126 ) = C125 by PARTFUN1:def 2;
thus L360: thesis by L359 , FUNCT_7:31;
end;
registration
let C129 being non  empty set;
let C130 being (ManySortedSet of C129);
cluster { C130 } ->  Segre-like;
coherence
proof
set D36 = the (Element of C129);
take D36;
let C131 being (Element of C129);
assume that
L361: D36 <> C131;
L362: ( { C130 } . C131 ) = { ( C130 . C131 ) } by PZFMISC1:def 1;
thus L363: thesis by L362;
end;
end;
theorem
L365: (for B108 being non  empty set holds (for B109 being (ManySortedSet of B108) holds (for B110 , B111 being set holds ( { B109 } +* (B110 , B111) ) is  Segre-like)))
proof
let C132 being non  empty set;
let C133 being (ManySortedSet of C132);
let C134 , C135 being set;
per cases ;
suppose L366: (not C134 in C132);

L367: (not C134 in ( dom { C133 } )) by L366 , PARTFUN1:def 2;
thus L368: thesis by L367 , FUNCT_7:def 3;
end;
suppose L369: C134 in C132;

reconsider D37 = C134 as (Element of C132) by L369;
take D37;
let C136 being (Element of C132);
assume that
L370: D37 <> C136;
L371: ( { C133 } . C136 ) = { ( C133 . C136 ) } by PZFMISC1:def 1;
thus L372: thesis by L371 , L370 , FUNCT_7:32;
end;
end;
theorem
L374: (for B112 being non  empty set holds (for B113 being  non-Empty  1-sorted-yielding (ManySortedSet of B112) holds (for B114 being (Element of ( Carrier B113 )) holds { B114 } is (ManySortedSubset of ( Carrier B113 )))))
proof
let C137 being non  empty set;
let C138 being  non-Empty  1-sorted-yielding (ManySortedSet of C137);
let C139 being (Element of ( Carrier C138 ));
L375: { C139 } c= ( Carrier C138 )
proof
let C140 being set;
assume L376: C140 in C137;
reconsider D38 = C140 as (Element of C137) by L376;
L377: D38 in ( dom C138 ) by L376 , PARTFUN1:def 2;
L378: ( C138 . D38 ) in ( rng C138 ) by L377 , FUNCT_1:def 3;
L379: ( C138 . D38 ) is non  empty by L378 , YELLOW_6:def 2;
L380: ( C139 . D38 ) is (Element of ( ( Carrier C138 ) . D38 )) by PBOOLE:def 14;
L381: ( C139 . D38 ) is (Element of ( C138 . D38 )) by L380 , YELLOW_6:2;
L382: { ( C139 . D38 ) } c= (the carrier of ( C138 . D38 )) by L381 , L379 , ZFMISC_1:31;
L383: ( { C139 } . D38 ) c= (the carrier of ( C138 . D38 )) by L382 , PZFMISC1:def 1;
thus L384: thesis by L383 , YELLOW_6:2;
end;
thus L385: thesis by L375 , PBOOLE:def 18;
end;
registration
let C141 being non  empty set;
let C142 being  non-Empty  1-sorted-yielding (ManySortedSet of C141);
cluster  Segre-like  trivial-yielding  non-empty for (ManySortedSubset of ( Carrier C142 ));
existence
proof
set D39 = the (Element of ( Carrier C142 ));
reconsider D40 = { D39 } as (ManySortedSubset of ( Carrier C142 )) by L374;
take D40;
thus L386: thesis;
end;
end;
registration
let C143 being non  empty set;
let C144 being  non-Trivial-yielding  1-sorted-yielding (ManySortedSet of C143);
cluster  Segre-like non  trivial-yielding  non-empty for (ManySortedSubset of ( Carrier C144 ));
existence
proof
set D41 = the (Element of ( Carrier C144 ));
set D42 = the (Element of C143);
L388: (ex B115 being 1-sorted st (B115 = ( C144 . D42 ) & (the carrier of B115) = ( ( Carrier C144 ) . D42 ))) by PRALG_1:def 13;
reconsider D43 = ( D41 . D42 ) as (Element of ( C144 . D42 )) by L388 , PBOOLE:def 14;
reconsider D44 = D41 as (ManySortedSet of C143);
L389: ( dom C144 ) = C143 by PARTFUN1:def 2;
L390: ( C144 . D42 ) in ( rng C144 ) by L389 , FUNCT_1:def 3;
L391: ( C144 . D42 ) is non  trivial by L390 , L302;
reconsider D45 = (the carrier of ( C144 . D42 )) as non  trivial set by L391;
L392: (ex B116 , B117 being (Element of D45) st B116 <> B117) by SUBSET_1:def 7;
L393: 2 c= ( card (the carrier of ( C144 . D42 )) ) by L392 , L13;
consider C145 being set such that L394: C145 in (the carrier of ( C144 . D42 )) and L395: D43 <> C145 by L393 , L34;
reconsider D46 = C145 as (Element of ( C144 . D42 )) by L394;
set D47 = ( D44 +* (D42 , D46) );
L396: (for B118 being set holds (B118 in C143 implies ( D47 . B118 ) is (Element of ( ( Carrier C144 ) . B118 ))))
proof
let C146 being set;
assume that
L397: C146 in C143;
per cases ;
suppose L398: C146 <> D42;

L399: ( D47 . C146 ) = ( D44 . C146 ) by L398 , FUNCT_7:32;
thus L400: thesis by L399 , L397 , PBOOLE:def 14;
end;
suppose L401: C146 = D42;

L402: D42 in ( dom D44 ) by L401 , L397 , PARTFUN1:def 2;
thus L403: thesis by L402 , L388 , L401 , FUNCT_7:31;
end;
end;
L405: { D44 , D47 } c= ( Carrier C144 )
proof
let C147 being set;
assume L406: C147 in C143;
reconsider D48 = C147 as (Element of C143) by L406;
L407: D48 in ( dom C144 ) by L406 , PARTFUN1:def 2;
L408: ( C144 . D48 ) in ( rng C144 ) by L407 , FUNCT_1:def 3;
L409: ( C144 . D48 ) is non  empty by L408 , YELLOW_6:def 2;
L410: ( D44 . D48 ) is (Element of ( ( Carrier C144 ) . D48 )) by PBOOLE:def 14;
L411: ( D44 . D48 ) is (Element of ( C144 . D48 )) by L410 , YELLOW_6:2;
L412: ( D47 . D48 ) is (Element of ( ( Carrier C144 ) . D48 )) by L396;
L413: ( D47 . D48 ) is (Element of ( C144 . D48 )) by L412 , YELLOW_6:2;
L414: { ( D44 . D48 ) , ( D47 . D48 ) } c= (the carrier of ( C144 . D48 )) by L413 , L409 , L411 , ZFMISC_1:32;
L415: ( { D44 , D47 } . D48 ) c= (the carrier of ( C144 . D48 )) by L414 , PZFMISC1:def 2;
thus L416: thesis by L415 , YELLOW_6:2;
end;
reconsider D49 = { D44 , D47 } as (ManySortedSubset of ( Carrier C144 )) by L405 , PBOOLE:def 18;
L417: ( dom D44 ) = C143 by PARTFUN1:def 2;
L418: ( D47 . D42 ) = D46 by L417 , FUNCT_7:31;
L419: ( D49 . D42 ) = { D43 , D46 } by L418 , PZFMISC1:def 2;
L420:
now
assume L421: ( D49 . D42 ) is  trivial;
L422: (( D49 . D42 ) is  empty or (ex B119 being set st ( D49 . D42 ) = { B119 })) by L421 , ZFMISC_1:131;
thus L423: contradiction by L422 , L395 , L419 , ZFMISC_1:5;
end;
take D49;
thus L424: D49 is  Segre-like
proof
take D42;
let C148 being (Element of C143);
assume L425: D42 <> C148;
L426: ( D44 . C148 ) = ( D47 . C148 ) by L425 , FUNCT_7:32;
L427: ( D49 . C148 ) = { ( D44 . C148 ) , ( D44 . C148 ) } by L426 , PZFMISC1:def 2
.= { ( D44 . C148 ) } by ENUMSET1:29;
thus L428: thesis by L427;
end;

L429: ( dom D49 ) = C143 by PARTFUN1:def 2;
L430: ( D49 . D42 ) in ( rng D49 ) by L429 , FUNCT_1:def 3;
thus L431: D49 is non  trivial-yielding by L430 , L420 , L300;
thus L432: thesis;
end;
end;
registration
let C149 being non  empty set;
cluster  Segre-like non  trivial-yielding for (ManySortedSet of C149);
existence
proof
set D50 = the (ManySortedSet of C149);
set D51 = the (Element of C149);
take D52 = ( { D50 } +* (D51 , { ( 0 ) , 1 }) );
thus L434: D52 is  Segre-like
proof
take D51;
let C150 being (Element of C149);
assume L435: C150 <> D51;
L436: ( D52 . C150 ) = ( { D50 } . C150 ) by L435 , FUNCT_7:32;
L437: C150 in C149;
L438: C150 in ( dom { D50 } ) by L437 , PARTFUN1:def 2;
L439: ( D52 . C150 ) in ( rng { D50 } ) by L438 , L436 , FUNCT_1:def 3;
L440: ( D52 . C150 ) is non  empty  trivial by L439 , L438 , L436 , L300 , FUNCT_1:def 9;
thus L441: ( D52 . C150 ) is 1 -element by L440;
end;

thus L442: D52 is non  trivial-yielding
proof
take D53 = ( D52 . D51 );
L443: ( dom D52 ) = C149 by PARTFUN1:def 2;
thus L444: D53 in ( rng D52 ) by L443 , FUNCT_1:def 3;
L445: ( dom { D50 } ) = C149 by PARTFUN1:def 2;
L446: ( D52 . D51 ) = { ( 0 ) , 1 } by L445 , FUNCT_7:31;
L447: (( 0 ) in { ( 0 ) , 1 } & 1 in { ( 0 ) , 1 }) by TARSKI:def 2;
L448: 2 c= ( card { ( 0 ) , 1 } ) by L447 , L13;
thus L449: thesis by L448 , L446 , L43;
end;

end;
end;
definition
let C151 being non  empty set;
let C152 being  Segre-like non  trivial-yielding (ManySortedSet of C151);
func indx C152 -> (Element of C151) means 
:L444: ( C152 . it ) is non  trivial;
existence
proof
consider C153 being (Element of C151) such that L445: (for B120 being (Element of C151) holds (C153 <> B120 implies ( C152 . B120 ) is 1 -element)) by L346;
take C153;
L446:
now
assume L447: ( C152 . C153 ) is  trivial;
L448: (for B121 being set holds (B121 in ( rng C152 ) implies B121 is  trivial))
proof
let C154 being set;
assume L449: C154 in ( rng C152 );
consider C155 being set such that L450: C155 in ( dom C152 ) and L451: C154 = ( C152 . C155 ) by L449 , FUNCT_1:def 3;
reconsider D54 = C155 as (Element of C151) by L450 , PARTFUN1:def 2;
per cases ;
suppose L452: C153 = D54;

thus L453: thesis by L452 , L447 , L451;
end;
suppose L454: C153 <> D54;

L455: ( C152 . D54 ) is 1 -element by L454 , L445;
thus L456: thesis by L455 , L451;
end;
end;
thus L458: contradiction by L448 , L300;
end;
thus L459: thesis by L446;
end;
uniqueness
proof
let C156 , C157 being (Element of C151);
assume that
L460: ( C152 . C156 ) is non  trivial
and
L461: ( C152 . C157 ) is non  trivial;
consider C158 being (Element of C151) such that L462: (for B122 being (Element of C151) holds (C158 <> B122 implies ( C152 . B122 ) is 1 -element)) by L346;
L463: (not ( C152 . C157 ) is 1 -element) by L461;
L464: (not ( C152 . C156 ) is 1 -element) by L460;
thus L465: C156 = C158 by L464 , L462
.= C157 by L462 , L463;
end;
end;
theorem
L467: (for B123 being non  empty set holds (for B124 being  Segre-like non  trivial-yielding (ManySortedSet of B123) holds (for B125 being (Element of B123) holds (B125 <> ( indx B124 ) implies ( B124 . B125 ) is 1 -element))))
proof
let C159 being non  empty set;
let C160 being  Segre-like non  trivial-yielding (ManySortedSet of C159);
let C161 being (Element of C159);
consider C162 being (Element of C159) such that L468: (for B126 being (Element of C159) holds (B126 <> C162 implies ( C160 . B126 ) is 1 -element)) by L346;
L469:
now
assume L470: ( indx C160 ) <> C162;
L471: ( C160 . ( indx C160 ) ) is 1 -element by L470 , L468;
thus L472: contradiction by L471 , L444;
end;
assume L473: C161 <> ( indx C160 );
thus L474: thesis by L473 , L468 , L469;
end;
registration
let C163 being non  empty set;
cluster  Segre-like non  trivial-yielding ->  non-empty for (ManySortedSet of C163);
coherence
proof
let C164 being (ManySortedSet of C163);
assume L475: C164 is  Segre-like non  trivial-yielding;
reconsider D55 = C164 as  Segre-like non  trivial-yielding (ManySortedSet of C163) by L475;
L476:
now
assume L477: ( {} ) in ( rng D55 );
consider C165 being set such that L478: C165 in ( dom C164 ) and L479: ( D55 . C165 ) = ( {} ) by L477 , FUNCT_1:def 3;
reconsider D56 = C165 as (Element of C163) by L478 , PARTFUN1:def 2;
per cases ;
suppose L480: D56 = ( indx D55 );

thus L481: contradiction by L480 , L479 , L444;
end;
suppose L482: D56 <> ( indx D55 );

L483: ( D55 . D56 ) is 1 -element by L482 , L467;
thus L484: contradiction by L483 , L479;
end;
end;
thus L486: thesis by L476 , RELAT_1:def 9;
end;
end;
theorem
L488: (for B127 being non  empty set holds (for B128 being (ManySortedSet of B127) holds (2 c= ( card ( product B128 ) ) iff B128 is  non-empty non  trivial-yielding)))
proof
let C166 being non  empty set;
let C167 being (ManySortedSet of C166);
L489: ( dom C167 ) = C166 by PARTFUN1:def 2;
thus L490: (2 c= ( card ( product C167 ) ) implies C167 is  non-empty non  trivial-yielding)
proof
assume L491: 2 c= ( card ( product C167 ) );
consider C168 , C169 being set such that L492: C168 in ( product C167 ) and L493: C169 in ( product C167 ) and L494: C168 <> C169 by L491 , L13;
consider C170 being Function such that L495: (C168 = C170 & ( dom C170 ) = ( dom C167 )) and L496: (for B129 being set holds (B129 in ( dom C167 ) implies ( C170 . B129 ) in ( C167 . B129 ))) by L492 , CARD_3:def 5;
thus L497: C167 is  non-empty
proof
let C171 being set;
assume L498: C171 in C166;
thus L499: thesis by L498 , L489 , L496;
end;

consider C172 being Function such that L500: (C169 = C172 & ( dom C172 ) = ( dom C167 )) and L501: (for B130 being set holds (B130 in ( dom C167 ) implies ( C172 . B130 ) in ( C167 . B130 ))) by L493 , CARD_3:def 5;
consider C173 being set such that L502: C173 in ( dom C167 ) and L503: ( C172 . C173 ) <> ( C170 . C173 ) by L494 , L495 , L500 , FUNCT_1:2;
thus L504: C167 is non  trivial-yielding
proof
take ( C167 . C173 );
thus L505: ( C167 . C173 ) in ( rng C167 ) by L502 , FUNCT_1:def 3;
L506: (( C170 . C173 ) in ( C167 . C173 ) & ( C172 . C173 ) in ( C167 . C173 )) by L496 , L501 , L502;
L507: 2 c= ( card ( C167 . C173 ) ) by L506 , L503 , L13;
thus L508: thesis by L507 , L43;
end;

end;

assume L505: C167 is  non-empty non  trivial-yielding;
consider C174 being set such that L506: C174 in ( rng C167 ) and L507: C174 is non  trivial by L505 , L300;
L508:
now
assume L509: ( {} ) in ( rng C167 );
L510: (ex B131 being set st (B131 in ( dom C167 ) & ( C167 . B131 ) = ( {} ))) by L509 , FUNCT_1:def 3;
thus L511: contradiction by L510 , L489 , L505 , PBOOLE:def 13;
end;
L512: ( product C167 ) is non  empty by L508 , CARD_3:26;
consider C175 being set such that L513: C175 in ( product C167 ) by L512 , XBOOLE_0:def 1;
consider C176 being set such that L514: C176 in ( dom C167 ) and L515: C174 = ( C167 . C176 ) by L506 , FUNCT_1:def 3;
consider C177 being Function such that L516: C177 = C175 and L517: ( dom C177 ) = ( dom C167 ) and L518: (for B132 being set holds (B132 in ( dom C167 ) implies ( C177 . B132 ) in ( C167 . B132 ))) by L513 , CARD_3:def 5;
reconsider D57 = C177 as (ManySortedSet of C166) by L489 , L517 , PARTFUN1:def 2 , RELAT_1:def 18;
L519: 2 c= ( card C174 ) by L507 , L43;
consider C178 being set such that L520: C178 in C174 and L521: C178 <> ( D57 . C176 ) by L519 , L34;
reconsider D58 = C176 as (Element of C166) by L514 , PARTFUN1:def 2;
set D59 = ( D57 +* (D58 , C178) );
L522:
now
let C179 being set;
assume L523: C179 in ( dom C167 );
per cases ;
suppose L524: C179 <> D58;

L525: ( D59 . C179 ) = ( D57 . C179 ) by L524 , FUNCT_7:32;
thus L526: ( D59 . C179 ) in ( C167 . C179 ) by L525 , L518 , L523;
end;
suppose L527: C179 = D58;

thus L528: ( D59 . C179 ) in ( C167 . C179 ) by L527 , L517 , L514 , L515 , L520 , FUNCT_7:31;
end;
end;
L530: ( dom D59 ) = C166 by PARTFUN1:def 2
.= ( dom C167 ) by PARTFUN1:def 2;
L531: D59 in ( product C167 ) by L530 , L522 , CARD_3:9;
L532: ( D59 . D58 ) = C178 by L517 , L514 , FUNCT_7:31;
thus L533: thesis by L532 , L513 , L516 , L521 , L531 , L13;
end;
registration
let C180 being non  empty set;
let C181 being  Segre-like non  trivial-yielding (ManySortedSet of C180);
cluster ( product C181 ) -> non  trivial;
coherence
proof
consider C182 being set such that L534: C182 in ( product C181 ) by XBOOLE_0:def 1;
L535: (ex B133 being Function st (B133 = C182 & ( dom B133 ) = ( dom C181 ) & (for B134 being set holds (B134 in ( dom C181 ) implies ( B133 . B134 ) in ( C181 . B134 ))))) by L534 , CARD_3:def 5;
L536: ( dom C181 ) = C180 by PARTFUN1:def 2;
reconsider D60 = C182 as (ManySortedSet of C180) by L536 , L535 , PARTFUN1:def 2 , RELAT_1:def 18;
L537: ( C181 . ( indx C181 ) ) is non  trivial by L444;
L538: 2 c= ( card ( C181 . ( indx C181 ) ) ) by L537 , L43;
consider C183 being set such that L539: C183 in ( C181 . ( indx C181 ) ) and L540: C183 <> ( D60 . ( indx C181 ) ) by L538 , L34;
set D61 = ( D60 +* (( indx C181 ) , C183) );
L541: (for B135 being set holds (B135 in ( dom C181 ) implies ( D61 . B135 ) in ( C181 . B135 )))
proof
let C184 being set;
assume L542: C184 in ( dom C181 );
L543: C184 in C180 by L542 , PARTFUN1:def 2;
L544: C184 in ( dom D60 ) by L543 , PARTFUN1:def 2;
per cases ;
suppose L545: C184 = ( indx C181 );

thus L546: thesis by L545 , L539 , L544 , FUNCT_7:31;
end;
suppose L547: C184 <> ( indx C181 );

L548: ( D61 . C184 ) = ( D60 . C184 ) by L547 , FUNCT_7:32;
thus L549: thesis by L548 , L535 , L542;
end;
end;
L551: ( dom D60 ) = C180 by PARTFUN1:def 2;
L552: ( D61 . ( indx C181 ) ) = C183 by L551 , FUNCT_7:31;
L553: ( dom D61 ) = C180 by PARTFUN1:def 2
.= ( dom C181 ) by PARTFUN1:def 2;
L554: D61 in ( product C181 ) by L553 , L541 , CARD_3:def 5;
L555: 2 c= ( card ( product C181 ) ) by L554 , L534 , L540 , L552 , L13;
thus L556: thesis by L555 , L43;
end;
end;
begin
definition
let C185 being non  empty set;
let C186 being  non-Empty  TopStruct-yielding (ManySortedSet of C185);
func Segre_Blocks C186 -> (Subset-Family of ( product ( Carrier C186 ) )) means 
:L558: (for B136 being set holds (B136 in it iff (ex B137 being  Segre-like (ManySortedSubset of ( Carrier C186 )) st (B136 = ( product B137 ) & (ex B138 being (Element of C185) st ( B137 . B138 ) is (Block of ( C186 . B138 )))))));
existence
proof
defpred S1[ set ] means (ex B139 being  Segre-like (ManySortedSubset of ( Carrier C186 )) st ($1 = ( product B139 ) & (ex B140 being (Element of C185) st ( B139 . B140 ) is (Block of ( C186 . B140 )))));
consider C187 being set such that L559: (for B141 being set holds (B141 in C187 iff (B141 in ( bool ( product ( Carrier C186 ) ) ) & S1[ B141 ]))) from XBOOLE_0:sch 1;
L560: C187 c= ( bool ( product ( Carrier C186 ) ) )
proof
let C188 being set;
assume L561: C188 in C187;
thus L562: thesis by L561 , L559;
end;
reconsider D62 = C187 as (Subset-Family of ( product ( Carrier C186 ) )) by L560;
take D62;
let C189 being set;
thus L563: (C189 in D62 implies (ex B142 being  Segre-like (ManySortedSubset of ( Carrier C186 )) st (C189 = ( product B142 ) & (ex B143 being (Element of C185) st ( B142 . B143 ) is (Block of ( C186 . B143 )))))) by L559;
given C190 being  Segre-like (ManySortedSubset of ( Carrier C186 )) such that
L564: C189 = ( product C190 )
and
L565: (ex B144 being (Element of C185) st ( C190 . B144 ) is (Block of ( C186 . B144 )));

L566: C189 c= ( product ( Carrier C186 ) )
proof
let C191 being set;
assume L567: C191 in C189;
consider C192 being Function such that L568: C192 = C191 and L569: ( dom C192 ) = ( dom C190 ) and L570: (for B145 being set holds (B145 in ( dom C190 ) implies ( C192 . B145 ) in ( C190 . B145 ))) by L567 , L564 , CARD_3:def 5;
L571: (for B146 being set holds (B146 in ( dom ( Carrier C186 ) ) implies ( C192 . B146 ) in ( ( Carrier C186 ) . B146 )))
proof
let C193 being set;
assume L572: C193 in ( dom ( Carrier C186 ) );
L573: C193 in C185 by L572 , PARTFUN1:def 2;
L574: C193 in ( dom C192 ) by L573 , L569 , PARTFUN1:def 2;
L575: ( C192 . C193 ) in ( C190 . C193 ) by L574 , L569 , L570;
L576: C190 c= ( Carrier C186 ) by PBOOLE:def 18;
L577: ( C190 . C193 ) c= ( ( Carrier C186 ) . C193 ) by L576 , L573 , PBOOLE:def 2;
thus L578: thesis by L577 , L575;
end;
L579: ( dom C192 ) = C185 by L569 , PARTFUN1:def 2
.= ( dom ( Carrier C186 ) ) by PARTFUN1:def 2;
thus L580: thesis by L579 , L568 , L571 , CARD_3:def 5;
end;
thus L581: thesis by L566 , L559 , L564 , L565;
end;
uniqueness
proof
let C194 , C195 being (Subset-Family of ( product ( Carrier C186 ) ));
assume that
L582: (for B147 being set holds (B147 in C194 iff (ex B148 being  Segre-like (ManySortedSubset of ( Carrier C186 )) st (B147 = ( product B148 ) & (ex B149 being (Element of C185) st ( B148 . B149 ) is (Block of ( C186 . B149 )))))))
and
L583: (for B150 being set holds (B150 in C195 iff (ex B151 being  Segre-like (ManySortedSubset of ( Carrier C186 )) st (B150 = ( product B151 ) & (ex B152 being (Element of C185) st ( B151 . B152 ) is (Block of ( C186 . B152 )))))));
L584: (for B153 being set holds (B153 in C194 iff B153 in C195))
proof
let C196 being set;
L585: (C196 in C194 iff (ex B154 being  Segre-like (ManySortedSubset of ( Carrier C186 )) st (C196 = ( product B154 ) & (ex B155 being (Element of C185) st ( B154 . B155 ) is (Block of ( C186 . B155 )))))) by L582;
thus L586: thesis by L585 , L583;
end;
thus L587: thesis by L584 , TARSKI:1;
end;
end;
definition
let C197 being non  empty set;
let C198 being  non-Empty  TopStruct-yielding (ManySortedSet of C197);
func Segre_Product C198 -> non  empty TopStruct equals 
TopStruct (# ( product ( Carrier C198 ) ) , ( Segre_Blocks C198 ) #);
correctness;
end;
theorem
L590: (for B156 being non  empty set holds (for B157 being  non-Empty  TopStruct-yielding (ManySortedSet of B156) holds (for B158 being (Point of ( Segre_Product B157 )) holds B158 is (ManySortedSet of B156))))
proof
let C199 being non  empty set;
let C200 being  non-Empty  TopStruct-yielding (ManySortedSet of C199);
let C201 being (Point of ( Segre_Product C200 ));
L591: (ex B159 being Function st (C201 = B159 & ( dom B159 ) = ( dom ( Carrier C200 ) ) & (for B160 being set holds (B160 in ( dom ( Carrier C200 ) ) implies ( B159 . B160 ) in ( ( Carrier C200 ) . B160 ))))) by CARD_3:def 5;
thus L592: thesis by L591;
end;
theorem
L593: (for B161 being non  empty set holds (for B162 being  non-Empty  TopStruct-yielding (ManySortedSet of B161) holds ((ex B163 being (Element of B161) st ( B162 . B163 ) is non  void) implies ( Segre_Product B162 ) is non  void)))
proof
let C202 being non  empty set;
let C203 being  non-Empty  TopStruct-yielding (ManySortedSet of C202);
set D63 = the  trivial-yielding  non-empty (ManySortedSubset of ( Carrier C203 ));
given C204 being (Element of C202) such that
L594: ( C203 . C204 ) is non  void;

set D64 = the (Block of ( C203 . C204 ));
L595: (the topology of ( C203 . C204 )) is non  empty by L594;
L596: ( D63 +* (C204 , D64) ) c= ( Carrier C203 )
proof
let C205 being set;
assume L597: C205 in C202;
L598: C205 in ( dom D63 ) by L597 , PARTFUN1:def 2;
per cases ;
suppose L599: C204 = C205;

L600: ( ( D63 +* (C204 , D64) ) . C205 ) = D64 by L599 , L598 , FUNCT_7:31;
L601: ( ( D63 +* (C204 , D64) ) . C205 ) in (the topology of ( C203 . C204 )) by L600 , L595;
L602: (ex B164 being 1-sorted st (B164 = ( C203 . C205 ) & (the carrier of B164) = ( ( Carrier C203 ) . C205 ))) by L597 , PRALG_1:def 13;
thus L603: thesis by L602 , L599 , L601;
end;
suppose L604: C205 <> C204;

L605: D63 c= ( Carrier C203 ) by PBOOLE:def 18;
L606: ( ( D63 +* (C204 , D64) ) . C205 ) = ( D63 . C205 ) by L604 , FUNCT_7:32;
thus L607: thesis by L606 , L597 , L605 , PBOOLE:def 2;
end;
end;
L609: (for B165 being (Element of C202) holds (C204 <> B165 implies ( ( D63 +* (C204 , D64) ) . B165 ) is 1 -element))
proof
let C206 being (Element of C202);
assume L610: C204 <> C206;
L611: ( ( D63 +* (C204 , D64) ) . C206 ) = ( D63 . C206 ) by L610 , FUNCT_7:32;
L612: C206 in C202;
L613: C206 in ( dom D63 ) by L612 , PARTFUN1:def 2;
L614: ( ( D63 +* (C204 , D64) ) . C206 ) in ( rng D63 ) by L613 , L611 , FUNCT_1:def 3;
L615: ( ( D63 +* (C204 , D64) ) . C206 ) is non  empty  trivial by L614 , L613 , L611 , L300 , FUNCT_1:def 9;
thus L616: thesis by L615;
end;
reconsider D65 = ( D63 +* (C204 , D64) ) as  Segre-like (ManySortedSubset of ( Carrier C203 )) by L609 , L596 , L346 , PBOOLE:def 18;
L617: ( dom D63 ) = C202 by PARTFUN1:def 2;
L618: ( D65 . C204 ) is (Block of ( C203 . C204 )) by L617 , FUNCT_7:31;
L619: ( product D65 ) in ( Segre_Blocks C203 ) by L618 , L558;
thus L620: thesis by L619 , L111;
end;
theorem
L621: (for B166 being non  empty set holds (for B167 being  non-Empty  TopStruct-yielding (ManySortedSet of B166) holds ((for B168 being (Element of B166) holds (( B167 . B168 ) is non  degenerated & (ex B169 being (Element of B166) st ( B167 . B169 ) is non  void))) implies ( Segre_Product B167 ) is non  degenerated)))
proof
let C207 being non  empty set;
let C208 being  non-Empty  TopStruct-yielding (ManySortedSet of C207);
assume L622: (for B170 being (Element of C207) holds (( C208 . B170 ) is non  degenerated & (ex B171 being (Element of C207) st ( C208 . B171 ) is non  void)));
L623: ( Segre_Product C208 ) is non  void by L622 , L593;
reconsider D66 = ( Segre_Blocks C208 ) as non  empty set by L623;
L624:
now
assume L625: ( product ( Carrier C208 ) ) in D66;
consider C209 being  Segre-like (ManySortedSubset of ( Carrier C208 )) such that L626: ( product ( Carrier C208 ) ) = ( product C209 ) and L627: (ex B172 being (Element of C207) st ( C209 . B172 ) is (Block of ( C208 . B172 ))) by L625 , L558;
consider C210 being (Element of C207) such that L628: ( C209 . C210 ) is (Block of ( C208 . C210 )) by L627;
L629: C209 is  non-empty by L626 , L1;
L630: ((ex B173 being 1-sorted st (B173 = ( C208 . C210 ) & (the carrier of B173) = ( ( Carrier C208 ) . C210 ))) & ( ( Carrier C208 ) . C210 ) is (Block of ( C208 . C210 ))) by L629 , L626 , L628 , PRALG_1:def 13 , PUA2MSS1:2;
L631: ( C208 . C210 ) is  degenerated by L630 , L112;
thus L632: contradiction by L631 , L622;
end;
L633: (not ( product ( Carrier C208 ) ) is (Element of D66)) by L624;
thus L634: thesis by L633 , L112;
end;
theorem
L635: (for B174 being non  empty set holds (for B175 being  non-Empty  TopStruct-yielding (ManySortedSet of B174) holds ((for B176 being (Element of B174) holds (( B175 . B176 ) is  with_non_trivial_blocks & (ex B177 being (Element of B174) st ( B175 . B177 ) is non  void))) implies ( Segre_Product B175 ) is  with_non_trivial_blocks)))
proof
let C211 being non  empty set;
let C212 being  non-Empty  TopStruct-yielding (ManySortedSet of C211);
assume L636: (for B178 being (Element of C211) holds (( C212 . B178 ) is  with_non_trivial_blocks & (ex B179 being (Element of C211) st ( C212 . B179 ) is non  void)));
L637: (for B180 being (Block of ( Segre_Product C212 )) holds 2 c= ( card B180 ))
proof
let C213 being (Block of ( Segre_Product C212 ));
L638: ( Segre_Product C212 ) is non  void by L636 , L593;
consider C214 being  Segre-like (ManySortedSubset of ( Carrier C212 )) such that L639: C213 = ( product C214 ) and L640: (ex B181 being (Element of C211) st ( C214 . B181 ) is (Block of ( C212 . B181 ))) by L638 , L558;
consider C215 being (Element of C211) such that L641: ( C214 . C215 ) is (Block of ( C212 . C215 )) by L640;
L642: ( C212 . C215 ) is  with_non_trivial_blocks by L636;
L643: 2 c= ( card ( C214 . C215 ) ) by L642 , L641 , L113;
L644: ( C214 . C215 ) is non  trivial by L643 , L43;
L645: ( dom C214 ) = C211 by PARTFUN1:def 2;
L646: ( C214 . C215 ) in ( rng C214 ) by L645 , FUNCT_1:def 3;
reconsider D67 = C214 as  Segre-like non  trivial-yielding (ManySortedSet of C211) by L646 , L644 , L300;
L647: ( product D67 ) is non  trivial;
thus L648: thesis by L647 , L639 , L43;
end;
thus L649: thesis by L637 , L113;
end;
theorem
L650: (for B182 being non  empty set holds (for B183 being  non-Empty  TopStruct-yielding (ManySortedSet of B182) holds ((for B184 being (Element of B182) holds (( B183 . B184 ) is  identifying_close_blocks  with_non_trivial_blocks & (ex B185 being (Element of B182) st ( B183 . B185 ) is non  void))) implies ( Segre_Product B183 ) is  identifying_close_blocks)))
proof
let C216 being non  empty set;
let C217 being  non-Empty  TopStruct-yielding (ManySortedSet of C216);
assume L651: (for B186 being (Element of C216) holds (( C217 . B186 ) is  identifying_close_blocks  with_non_trivial_blocks & (ex B187 being (Element of C216) st ( C217 . B187 ) is non  void)));
L652: (for B188 , B189 being (Block of ( Segre_Product C217 )) holds (2 c= ( card ( B188 /\ B189 ) ) implies B188 = B189))
proof
let C218 , C219 being (Block of ( Segre_Product C217 ));
assume L653: 2 c= ( card ( C218 /\ C219 ) );
consider C220 , C221 being set such that L654: C220 in ( C218 /\ C219 ) and L655: C221 in ( C218 /\ C219 ) and L656: C220 <> C221 by L653 , L13;
L657: ( Segre_Product C217 ) is non  void by L651 , L593;
consider C222 being  Segre-like (ManySortedSubset of ( Carrier C217 )) such that L658: C218 = ( product C222 ) and L659: (ex B190 being (Element of C216) st ( C222 . B190 ) is (Block of ( C217 . B190 ))) by L657 , L558;
L660: C221 in ( product C222 ) by L658 , L655 , XBOOLE_0:def 4;
reconsider D68 = C221 as Function by L660 , CARD_3:48;
L661: ( dom D68 ) = ( dom C222 ) by L660 , CARD_3:9
.= C216 by PARTFUN1:def 2;
reconsider D69 = D68 as (ManySortedSet of C216) by L661 , PARTFUN1:def 2 , RELAT_1:def 18;
L662: C220 in ( product C222 ) by L658 , L654 , XBOOLE_0:def 4;
consider C223 being (Element of C216) such that L663: ( C222 . C223 ) is (Block of ( C217 . C223 )) by L659;
L664: (for B191 being (Element of C216) holds (B191 <> C223 implies ( C222 . B191 ) is 1 -element))
proof
let C224 being (Element of C216);
assume L665: C224 <> C223;
consider C225 being (Element of C216) such that L666: (for B192 being (Element of C216) holds (B192 <> C225 implies ( C222 . B192 ) is 1 -element)) by L346;
L667: ( C217 . C223 ) is  with_non_trivial_blocks by L651;
L668: 2 c= ( card ( C222 . C223 ) ) by L667 , L663 , L113;
L669: (not ( C222 . C223 ) is 1 -element) by L668 , L43;
L670: C225 = C223 by L669 , L666;
thus L671: thesis by L670 , L665 , L666;
end;
L672: ( Segre_Product C217 ) is non  void by L651 , L593;
consider C226 being  Segre-like (ManySortedSubset of ( Carrier C217 )) such that L673: C219 = ( product C226 ) and L674: (ex B193 being (Element of C216) st ( C226 . B193 ) is (Block of ( C217 . B193 ))) by L672 , L558;
L675: ( dom C226 ) = C216 by PARTFUN1:def 2;
consider C227 being (Element of C216) such that L676: ( C226 . C227 ) is (Block of ( C217 . C227 )) by L674;
reconsider D70 = C220 as Function by L662 , CARD_3:48;
L677: ( dom D70 ) = ( dom C222 ) by L662 , CARD_3:9
.= C216 by PARTFUN1:def 2;
reconsider D71 = D70 as (ManySortedSet of C216) by L677 , PARTFUN1:def 2 , RELAT_1:def 18;
consider C228 being set such that L678: C228 in C216 and L679: ( D71 . C228 ) <> ( D69 . C228 ) by L656 , L677 , L661 , FUNCT_1:2;
reconsider D72 = C228 as (Element of C216) by L678;
L680: ( dom C222 ) = C216 by PARTFUN1:def 2;
L681: ( D69 . D72 ) in ( C222 . D72 ) by L680 , L660 , CARD_3:9;
L682: ( dom C222 ) = C216 by PARTFUN1:def 2;
L683: ( D71 . D72 ) in ( C222 . D72 ) by L682 , L662 , CARD_3:9;
L684: 2 c= ( card ( C222 . D72 ) ) by L683 , L679 , L681 , L13;
L685: (not ( C222 . D72 ) is 1 -element) by L684 , L43;
L686: D72 = C223 by L685 , L664;
L687: D69 in ( product C226 ) by L673 , L655 , XBOOLE_0:def 4;
L688: ( D69 . D72 ) in ( C226 . D72 ) by L687 , L675 , CARD_3:9;
L689: D71 in ( product C226 ) by L673 , L654 , XBOOLE_0:def 4;
L690: (for B194 being (Element of C216) holds (C227 <> B194 implies ( C226 . B194 ) is 1 -element))
proof
let C229 being (Element of C216);
assume L691: C227 <> C229;
consider C230 being (Element of C216) such that L692: (for B195 being (Element of C216) holds (C230 <> B195 implies ( C226 . B195 ) is 1 -element)) by L346;
L693: ( C217 . C227 ) is  with_non_trivial_blocks by L651;
L694: 2 c= ( card ( C226 . C227 ) ) by L693 , L676 , L113;
L695: (not ( C226 . C227 ) is 1 -element) by L694 , L43;
L696: C230 = C227 by L695 , L692;
thus L697: thesis by L696 , L691 , L692;
end;
L698: ( dom C222 ) = C216 by PARTFUN1:def 2
.= ( dom C226 ) by PARTFUN1:def 2;
L699: ( dom C226 ) = C216 by PARTFUN1:def 2;
L700: ( D71 . D72 ) in ( C226 . D72 ) by L699 , L689 , CARD_3:9;
L701: 2 c= ( card ( C226 . D72 ) ) by L700 , L679 , L688 , L13;
L702: (not ( C226 . D72 ) is 1 -element) by L701 , L43;
L703: D72 = C227 by L702 , L690;
L704: (for B196 being set holds (B196 in ( dom C222 ) implies ( C222 . B196 ) c= ( C226 . B196 )))
proof
let C231 being set;
assume L705: C231 in ( dom C222 );
reconsider D73 = C231 as (Element of C216) by L705 , PARTFUN1:def 2;
per cases ;
suppose L706: D73 = D72;

reconsider D74 = ( C226 . D73 ) as (Block of ( C217 . D73 )) by L706 , L676 , L703;
reconsider D75 = ( C222 . D73 ) as (Block of ( C217 . D73 )) by L663 , L686 , L706;
L707: (( D71 . D73 ) in ( D75 /\ D74 ) & ( D69 . D73 ) in ( D75 /\ D74 )) by L683 , L681 , L700 , L688 , L706 , XBOOLE_0:def 4;
L708: 2 c= ( card ( D75 /\ D74 ) ) by L707 , L679 , L706 , L13;
L709: ( C217 . D73 ) is  identifying_close_blocks by L651;
thus L710: thesis by L709 , L708 , L114;
end;
suppose L711: C231 <> D72;

L712: ( C222 . D73 ) is 1 -element by L711 , L664 , L686;
consider C232 being set such that L713: ( C222 . D73 ) = { C232 } by L712 , ZFMISC_1:131;
L714: ( D71 . D73 ) in ( C226 . D73 ) by L689 , L698 , L705 , CARD_3:9;
L715: ( D71 . D73 ) in ( C222 . D73 ) by L662 , L705 , CARD_3:9;
L716: ( D71 . D73 ) = C232 by L715 , L713 , TARSKI:def 1;
thus L717: thesis by L716 , L713 , L714 , ZFMISC_1:31;
end;
end;
thus L719: C218 c= C219 by L704 , L658 , L673 , L698 , CARD_3:27;
L720: (for B197 being set holds (B197 in ( dom C226 ) implies ( C226 . B197 ) c= ( C222 . B197 )))
proof
let C233 being set;
assume L721: C233 in ( dom C226 );
reconsider D76 = C233 as (Element of C216) by L721 , PARTFUN1:def 2;
per cases ;
suppose L722: D76 = D72;

reconsider D77 = ( C226 . D76 ) as (Block of ( C217 . D76 )) by L722 , L676 , L703;
reconsider D78 = ( C222 . D76 ) as (Block of ( C217 . D76 )) by L663 , L686 , L722;
L723: (( D71 . D76 ) in ( D78 /\ D77 ) & ( D69 . D76 ) in ( D78 /\ D77 )) by L683 , L681 , L700 , L688 , L722 , XBOOLE_0:def 4;
L724: 2 c= ( card ( D78 /\ D77 ) ) by L723 , L679 , L722 , L13;
L725: ( C217 . D76 ) is  identifying_close_blocks by L651;
thus L726: thesis by L725 , L724 , L114;
end;
suppose L727: C233 <> D72;

L728: ( C226 . D76 ) is 1 -element by L727 , L690 , L703;
consider C234 being set such that L729: ( C226 . D76 ) = { C234 } by L728 , ZFMISC_1:131;
L730: ( D71 . D76 ) in ( C222 . D76 ) by L662 , L698 , L721 , CARD_3:9;
L731: ( D71 . D76 ) in ( C226 . D76 ) by L689 , L721 , CARD_3:9;
L732: ( D71 . D76 ) = C234 by L731 , L729 , TARSKI:def 1;
thus L733: thesis by L732 , L729 , L730 , ZFMISC_1:31;
end;
end;
thus L735: thesis by L720 , L658 , L673 , L698 , CARD_3:27;
end;
thus L736: thesis by L652 , L114;
end;
registration
let C235 being non  empty set;
let C236 being  PLS-yielding (ManySortedSet of C235);
cluster ( Segre_Product C236 ) -> non  void non  degenerated  with_non_trivial_blocks  identifying_close_blocks;
coherence
proof
L737: ((for B198 being (Element of C235) holds ( C236 . B198 ) is  with_non_trivial_blocks) & (for B199 being (Element of C235) holds ( C236 . B199 ) is  identifying_close_blocks));
L738: (( C236 . the (Element of C235) ) is non  void & (for B200 being (Element of C235) holds ( C236 . B200 ) is non  degenerated));
thus L739: thesis by L738 , L737 , L593 , L621 , L635 , L650;
end;
end;
theorem
L741: (for B201 being TopStruct holds (for B202 being (Subset of B201) holds (B202 is  trivial implies B202 is  strong  closed_under_lines)))
proof
let C237 being TopStruct;
let C238 being (Subset of C237);
assume L742: C238 is  trivial;
thus L743: C238 is  strong
proof
let C239 , C240 being (Point of C237);
assume L744: (C239 in C238 & C240 in C238);
thus L745: C239 , C240 are_collinear 
proof
per cases ;
suppose L746: C239 = C240;

thus L747: thesis by L746 , L106;
end;
suppose L748: C239 <> C240;

L749: 2 c= ( card C238 ) by L748 , L744 , L13;
thus L750: thesis by L749 , L742 , L43;
end;
end;

end;

thus L746: C238 is  closed_under_lines
proof
let C241 being (Block of C237);
L747: ( card ( C241 /\ C238 ) ) c= ( card C238 ) by CARD_1:11 , XBOOLE_1:17;
assume L748: 2 c= ( card ( C241 /\ C238 ) );
L749: 2 c= ( card C238 ) by L748 , L747 , XBOOLE_1:1;
thus L750: thesis by L749 , L742 , L43;
end;

end;
theorem
L747: (for B203 being  identifying_close_blocks TopStruct holds (for B204 being (Block of B203) holds (for B205 being (Subset of B203) holds (B205 = B204 implies B205 is  closed_under_lines))))
proof
let C242 being  identifying_close_blocks TopStruct;
let C243 being (Block of C242);
let C244 being (Subset of C242);
assume L748: C244 = C243;
thus L749: C244 is  closed_under_lines
proof
let C245 being (Block of C242);
assume L750: 2 c= ( card ( C245 /\ C244 ) );
thus L751: thesis by L750 , L748 , L114;
end;

end;
theorem
L750: (for B206 being TopStruct holds (for B207 being (Block of B206) holds (for B208 being (Subset of B206) holds (B208 = B207 implies B208 is  strong))))
proof
let C246 being TopStruct;
let C247 being (Block of C246);
let C248 being (Subset of C246);
assume L751: C248 = C247;
thus L752: C248 is  strong
proof
let C249 , C250 being (Point of C246);
assume L753: (C249 in C248 & C250 in C248);
L754: { C249 , C250 } c= C247 by L753 , L751 , ZFMISC_1:32;
thus L755: thesis by L754 , L106;
end;

end;
theorem
L753: (for B209 being non  void TopStruct holds ( [#] B209 ) is  closed_under_lines)
proof
let C251 being non  void TopStruct;
thus L754: ( [#] C251 ) is  closed_under_lines
proof
let C252 being (Block of C251);
assume L755: 2 c= ( card ( C252 /\ ( [#] C251 ) ) );
L756: C252 in (the topology of C251);
thus L757: thesis by L756;
end;

end;
theorem
L755: (for B210 being non  empty set holds (for B211 being  Segre-like non  trivial-yielding (ManySortedSet of B210) holds (for B212 , B213 being (ManySortedSet of B210) holds ((B212 in ( product B211 ) & B213 in ( product B211 )) implies (for B214 being set holds (B214 <> ( indx B211 ) implies ( B212 . B214 ) = ( B213 . B214 )))))))
proof
let C253 being non  empty set;
let C254 being  Segre-like non  trivial-yielding (ManySortedSet of C253);
let C255 , C256 being (ManySortedSet of C253);
assume that
L756: C255 in ( product C254 )
and
L757: C256 in ( product C254 );
let C257 being set;
L758: ( dom C254 ) = C253 by PARTFUN1:def 2;
assume L759: C257 <> ( indx C254 );
per cases ;
suppose L760: (not C257 in C253);

L761: (not C257 in ( dom C256 )) by L760 , PARTFUN1:def 2;
L762: (not C257 in ( dom C255 )) by L760 , PARTFUN1:def 2;
thus L763: ( C255 . C257 ) = ( {} ) by L762 , FUNCT_1:def 2
.= ( C256 . C257 ) by L761 , FUNCT_1:def 2;
end;
suppose L764: C257 in C253;

reconsider D79 = C257 as (Element of C253) by L764;
consider C258 being (Element of C253) such that L765: (for B215 being (Element of C253) holds (B215 <> C258 implies ( C254 . B215 ) is 1 -element)) by L346;
L766:
now
assume L767: C258 <> ( indx C254 );
L768: ( C254 . ( indx C254 ) ) is 1 -element by L767 , L765;
thus L769: contradiction by L768 , L444;
end;
L770: ( C254 . D79 ) is 1 -element by L766 , L759 , L765;
consider C259 being set such that L771: ( C254 . C257 ) = { C259 } by L770 , ZFMISC_1:131;
L772: ( C255 . D79 ) in ( C254 . D79 ) by L756 , L758 , CARD_3:9;
L773: ( C256 . D79 ) in ( C254 . D79 ) by L757 , L758 , CARD_3:9;
thus L774: ( C256 . C257 ) = C259 by L773 , L771 , TARSKI:def 1
.= ( C255 . C257 ) by L771 , L772 , TARSKI:def 1;
end;
end;
theorem
L776: (for B216 being non  empty set holds (for B217 being  PLS-yielding (ManySortedSet of B216) holds (for B218 being set holds (B218 is (Block of ( Segre_Product B217 )) iff (ex B219 being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier B217 )) st (B218 = ( product B219 ) & ( B219 . ( indx B219 ) ) is (Block of ( B217 . ( indx B219 ) ))))))))
proof
let C260 being non  empty set;
let C261 being  PLS-yielding (ManySortedSet of C260);
let C262 being set;
thus L777: (C262 is (Block of ( Segre_Product C261 )) implies (ex B220 being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier C261 )) st (C262 = ( product B220 ) & ( B220 . ( indx B220 ) ) is (Block of ( C261 . ( indx B220 ) )))))
proof
assume L778: C262 is (Block of ( Segre_Product C261 ));
consider C263 being  Segre-like (ManySortedSubset of ( Carrier C261 )) such that L779: C262 = ( product C263 ) and L780: (ex B221 being (Element of C260) st ( C263 . B221 ) is (Block of ( C261 . B221 ))) by L778 , L558;
L781: 2 c= ( card ( product C263 ) ) by L778 , L779 , L113;
reconsider D80 = C263 as  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier C261 )) by L781 , L488;
consider C264 being (Element of C260) such that L782: ( D80 . C264 ) is (Block of ( C261 . C264 )) by L780;
L783:
now
assume L784: C264 <> ( indx D80 );
L785: ( D80 . C264 ) is 1 -element by L784 , L467;
L786: 2 c= ( card ( D80 . C264 ) ) by L782 , L113;
thus L787: contradiction by L786 , L785 , L43;
end;
thus L788: thesis by L783 , L779 , L782;
end;

given C265 being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier C261 )) such that
L789: (C262 = ( product C265 ) & ( C265 . ( indx C265 ) ) is (Block of ( C261 . ( indx C265 ) )));

thus L790: thesis by L789 , L558;
end;
theorem
L791: (for B222 being non  empty set holds (for B223 being  PLS-yielding (ManySortedSet of B222) holds (for B224 being (ManySortedSet of B222) holds (B224 is (Point of ( Segre_Product B223 )) implies (for B225 being (Element of B222) holds (for B226 being (Point of ( B223 . B225 )) holds ( B224 +* (B225 , B226) ) is (Point of ( Segre_Product B223 ))))))))
proof
let C266 being non  empty set;
let C267 being  PLS-yielding (ManySortedSet of C266);
let C268 being (ManySortedSet of C266);
assume that
L792: C268 is (Point of ( Segre_Product C267 ));
let C269 being (Element of C266);
let C270 being (Point of ( C267 . C269 ));
L793: (for B227 being set holds (B227 in ( dom ( Carrier C267 ) ) implies ( ( C268 +* (C269 , C270) ) . B227 ) in ( ( Carrier C267 ) . B227 )))
proof
let C271 being set;
assume L794: C271 in ( dom ( Carrier C267 ) );
L795: C271 in C266 by L794 , PARTFUN1:def 2;
L796: C271 in ( dom C268 ) by L795 , PARTFUN1:def 2;
per cases ;
suppose L797: C271 <> C269;

L798: ( ( C268 +* (C269 , C270) ) . C271 ) = ( C268 . C271 ) by L797 , FUNCT_7:32;
thus L799: thesis by L798 , L792 , L794 , CARD_3:9;
end;
suppose L800: C271 = C269;

L801: C270 in (the carrier of ( C267 . C269 ));
L802: ( ( C268 +* (C269 , C270) ) . C271 ) = C270 by L796 , L800 , FUNCT_7:31;
thus L803: thesis by L802 , L800 , L801 , YELLOW_6:2;
end;
end;
L805: ( dom ( C268 +* (C269 , C270) ) ) = C266 by PARTFUN1:def 2
.= ( dom ( Carrier C267 ) ) by PARTFUN1:def 2;
thus L806: thesis by L805 , L793 , CARD_3:9;
end;
theorem
L807: (for B228 being non  empty set holds (for B229 , B230 being  Segre-like non  trivial-yielding (ManySortedSet of B228) holds (2 c= ( card ( ( product B229 ) /\ ( product B230 ) ) ) implies (( indx B229 ) = ( indx B230 ) & (for B231 being set holds (B231 <> ( indx B229 ) implies ( B229 . B231 ) = ( B230 . B231 )))))))
proof
let C272 being non  empty set;
let C273 , C274 being  Segre-like non  trivial-yielding (ManySortedSet of C272);
L808: ( dom C274 ) = C272 by PARTFUN1:def 2;
assume L809: 2 c= ( card ( ( product C273 ) /\ ( product C274 ) ) );
consider C275 , C276 being set such that L810: C275 in ( ( product C273 ) /\ ( product C274 ) ) and L811: C276 in ( ( product C273 ) /\ ( product C274 ) ) and L812: C275 <> C276 by L809 , L13;
L813: C276 in ( product C273 ) by L811 , XBOOLE_0:def 4;
consider C277 being Function such that L814: C277 = C276 and L815: ( dom C277 ) = ( dom C273 ) and L816: (for B232 being set holds (B232 in ( dom C273 ) implies ( C277 . B232 ) in ( C273 . B232 ))) by L813 , CARD_3:def 5;
L817: C275 in ( product C273 ) by L810 , XBOOLE_0:def 4;
consider C278 being Function such that L818: C278 = C275 and L819: ( dom C278 ) = ( dom C273 ) and L820: (for B233 being set holds (B233 in ( dom C273 ) implies ( C278 . B233 ) in ( C273 . B233 ))) by L817 , CARD_3:def 5;
consider C279 being set such that L821: C279 in ( dom C273 ) and L822: ( C278 . C279 ) <> ( C277 . C279 ) by L812 , L818 , L819 , L814 , L815 , FUNCT_1:2;
reconsider D81 = C279 as (Element of C272) by L821 , PARTFUN1:def 2;
L823: C276 in ( product C274 ) by L811 , XBOOLE_0:def 4;
L824: ( C277 . D81 ) in ( C274 . D81 ) by L823 , L814 , L808 , CARD_3:9;
L825: C275 in ( product C274 ) by L810 , XBOOLE_0:def 4;
L826: ( C278 . D81 ) in ( C274 . D81 ) by L825 , L818 , L808 , CARD_3:9;
L827: 2 c= ( card ( C274 . D81 ) ) by L826 , L822 , L824 , L13;
L828: ( C274 . D81 ) is non  trivial by L827 , L43;
L829: D81 = ( indx C274 ) by L828 , L444;
L830: ( C277 . D81 ) in ( C273 . D81 ) by L816 , L821;
L831: ( C278 . D81 ) in ( C273 . D81 ) by L820 , L821;
L832: 2 c= ( card ( C273 . D81 ) ) by L831 , L822 , L830 , L13;
L833: ( C273 . D81 ) is non  trivial by L832 , L43;
L834: D81 = ( indx C273 ) by L833 , L444;
thus L835: ( indx C273 ) = ( indx C274 ) by L834 , L828 , L444;
let C280 being set;
assume L836: C280 <> ( indx C273 );
per cases ;
suppose L837: C280 in C272;

L838: ( C274 . C280 ) is 1 -element by L837 , L834 , L829 , L836 , L467;
L839: (ex B234 being set st ( C274 . C280 ) = { B234 }) by L838 , ZFMISC_1:131;
L840: ( C273 . C280 ) is 1 -element by L836 , L837 , L467;
consider C281 being set such that L841: ( C273 . C280 ) = { C281 } by L840 , ZFMISC_1:131;
L842: ( dom C274 ) = C272 by PARTFUN1:def 2;
L843: ( C278 . C280 ) in ( C274 . C280 ) by L842 , L818 , L825 , L837 , CARD_3:9;
L844: ( dom C273 ) = C272 by PARTFUN1:def 2;
L845: ( C278 . C280 ) in ( C273 . C280 ) by L844 , L820 , L837;
L846: ( C278 . C280 ) = C281 by L845 , L841 , TARSKI:def 1;
thus L847: thesis by L846 , L841 , L839 , L843 , TARSKI:def 1;
end;
suppose L848: (not C280 in C272);

L849: (not C280 in ( dom C274 )) by L848 , PARTFUN1:def 2;
L850: (not C280 in ( dom C273 )) by L848 , PARTFUN1:def 2;
thus L851: ( C273 . C280 ) = ( {} ) by L850 , FUNCT_1:def 2
.= ( C274 . C280 ) by L849 , FUNCT_1:def 2;
end;
end;
theorem
L853: (for B235 being non  empty set holds (for B236 being  Segre-like non  trivial-yielding (ManySortedSet of B235) holds (for B237 being non  trivial set holds ( B236 +* (( indx B236 ) , B237) ) is  Segre-like non  trivial-yielding)))
proof
let C282 being non  empty set;
let C283 being  Segre-like non  trivial-yielding (ManySortedSet of C282);
let C284 being non  trivial set;
thus L854: ( C283 +* (( indx C283 ) , C284) ) is  Segre-like
proof
take ( indx C283 );
let C285 being (Element of C282);
assume L855: C285 <> ( indx C283 );
L856: ( ( C283 +* (( indx C283 ) , C284) ) . C285 ) = ( C283 . C285 ) by L855 , FUNCT_7:32;
thus L857: thesis by L856 , L855 , L467;
end;

thus L858: ( C283 +* (( indx C283 ) , C284) ) is non  trivial-yielding
proof
take ( ( C283 +* (( indx C283 ) , C284) ) . ( indx C283 ) );
L859: ( dom ( C283 +* (( indx C283 ) , C284) ) ) = C282 by PARTFUN1:def 2;
thus L860: ( ( C283 +* (( indx C283 ) , C284) ) . ( indx C283 ) ) in ( rng ( C283 +* (( indx C283 ) , C284) ) ) by L859 , FUNCT_1:def 3;
L861: C282 = ( dom C283 ) by PARTFUN1:def 2;
thus L862: thesis by L861 , FUNCT_7:31;
end;

end;
theorem
L859: (for B238 being non  empty non  void  identifying_close_blocks  without_isolated_points TopStruct holds (B238 is  strongly_connected implies B238 is  connected))
proof
let C286 being non  empty non  void  identifying_close_blocks  without_isolated_points TopStruct;
assume L860: C286 is  strongly_connected;
thus L861: C286 is  connected
proof
let C287 , C288 being (Point of C286);
L862: ( len <* C287 *> ) = 1 by FINSEQ_1:39;
L863: ( len <* C288 *> ) = 1 by FINSEQ_1:39;
consider C289 being (Block of C286) such that L864: C287 in C289 by L116;
L865: C289 in (the topology of C286);
reconsider D82 = C289 as (Subset of C286) by L865;
L866: D82 is  closed_under_lines  strong by L747 , L750;
consider C290 being (FinSequence of ( bool (the carrier of C286) )) such that L867: D82 = ( C290 . 1 ) and L868: C288 in ( C290 . ( len C290 ) ) and L869: (for B239 being (Subset of C286) holds (B239 in ( rng C290 ) implies B239 is  closed_under_lines  strong)) and L870: (for B240 being Nat holds ((1 <= B240 & B240 < ( len C290 )) implies 2 c= ( card ( ( C290 . B240 ) /\ ( C290 . ( B240 + 1 ) ) ) ))) by L866 , L860 , L117;
L871: ( len C290 ) in ( dom C290 ) by L868 , FUNCT_1:def 2;
L872: 1 in ( dom C290 ) by L864 , L867 , FUNCT_1:def 2;
reconsider D83 = ( ( len C290 ) - 1 ) as Nat by L872 , FINSEQ_3:26;
deffunc H1(Nat) = ( ( C290 . $1 ) /\ ( C290 . ( $1 + 1 ) ) );
reconsider D84 = D83 as (Element of ( NAT )) by ORDINAL1:def 12;
consider C291 being FinSequence such that L873: (( len C291 ) = D84 & (for B241 being Nat holds (B241 in ( dom C291 ) implies ( C291 . B241 ) = H1(B241)))) from FINSEQ_1:sch 2;
L874: ( dom C291 ) = ( Seg D84 ) by L873 , FINSEQ_1:def 3;
L875: ( ( len C291 ) + 1 ) = ( len C290 ) by L873;
L876:
now
assume L877: ( {} ) in ( rng C291 );
consider C292 being set such that L878: C292 in ( dom C291 ) and L879: ( C291 . C292 ) = ( {} ) by L877 , FUNCT_1:def 3;
reconsider D85 = C292 as (Element of ( NAT )) by L878;
L880: D85 <= ( len C291 ) by L878 , FINSEQ_3:25;
L881: D85 < ( len C290 ) by L880 , L875 , NAT_1:13;
L882: 1 <= D85 by L878 , FINSEQ_3:25;
L883: D85 in ( Seg D84 ) by L882 , L873 , L880 , FINSEQ_1:1;
L884: ( C291 . D85 ) = ( ( C290 . D85 ) /\ ( C290 . ( D85 + 1 ) ) ) by L883 , L873 , L874;
L885: 2 c= ( card ( C291 . D85 ) ) by L884 , L870 , L882 , L881;
thus L886: contradiction by L885 , L879;
end;
L887: ( product C291 ) <> ( {} ) by L876 , CARD_3:26;
consider C293 being set such that L888: C293 in ( product C291 ) by L887 , XBOOLE_0:def 1;
L889: (ex B242 being Function st (B242 = C293 & ( dom B242 ) = ( dom C291 ) & (for B243 being set holds (B243 in ( dom C291 ) implies ( B242 . B243 ) in ( C291 . B243 ))))) by L888 , CARD_3:def 5;
reconsider D86 = C293 as Function by L889;
L890: ( dom C291 ) = ( Seg D84 ) by L873 , FINSEQ_1:def 3;
reconsider D87 = D86 as FinSequence by L890 , L889 , FINSEQ_1:def 2;
L891: ( rng C290 ) c= ( bool (the carrier of C286) ) by FINSEQ_1:def 4;
L892: ( rng ( ( <* C287 *> ^ D87 ) ^ <* C288 *> ) ) c= (the carrier of C286)
proof
let C294 being set;
assume L893: C294 in ( rng ( ( <* C287 *> ^ D87 ) ^ <* C288 *> ) );
L894: C294 in ( ( rng ( <* C287 *> ^ D87 ) ) \/ ( rng <* C288 *> ) ) by L893 , FINSEQ_1:31;
L895: (C294 in ( rng ( <* C287 *> ^ D87 ) ) or C294 in ( rng <* C288 *> )) by L894 , XBOOLE_0:def 3;
L896: (C294 in ( ( rng <* C287 *> ) \/ ( rng D87 ) ) or C294 in ( rng <* C288 *> )) by L895 , FINSEQ_1:31;
per cases  by L896 , XBOOLE_0:def 3;
suppose L897: C294 in ( rng <* C287 *> );

L898: C294 in { C287 } by L897 , FINSEQ_1:38;
thus L899: thesis by L898;
end;
suppose L900: C294 in ( rng D87 );

consider C295 being set such that L901: C295 in ( dom D87 ) and L902: C294 = ( D87 . C295 ) by L900 , FUNCT_1:def 3;
reconsider D88 = C295 as (Element of ( NAT )) by L901;
L903: ( C291 . D88 ) = ( ( C290 . D88 ) /\ ( C290 . ( D88 + 1 ) ) ) by L873 , L889 , L901;
L904: C294 in ( ( C290 . D88 ) /\ ( C290 . ( D88 + 1 ) ) ) by L903 , L889 , L901 , L902;
L905: C294 in ( C290 . D88 ) by L904 , XBOOLE_0:def 4;
L906: ( len C291 ) <= ( len C290 ) by L875 , NAT_1:11;
L907: ( dom C291 ) c= ( dom C290 ) by L906 , FINSEQ_3:30;
L908: ( C290 . D88 ) in ( rng C290 ) by L907 , L889 , L901 , FUNCT_1:def 3;
thus L909: thesis by L908 , L891 , L905;
end;
suppose L910: C294 in ( rng <* C288 *> );

L911: C294 in { C288 } by L910 , FINSEQ_1:38;
thus L912: thesis by L911;
end;
end;
reconsider D89 = ( ( <* C287 *> ^ D87 ) ^ <* C288 *> ) as (FinSequence of (the carrier of C286)) by L892 , FINSEQ_1:def 4;
L914: ( len ( <* C287 *> ^ D87 ) ) = ( ( len <* C287 *> ) + ( len D87 ) ) by FINSEQ_1:22;
L915: ( len ( <* C287 *> ^ D87 ) ) = ( ( len D87 ) + 1 ) by L914 , FINSEQ_1:39;
take D89;
L916: D89 = ( <* C287 *> ^ ( D87 ^ <* C288 *> ) ) by FINSEQ_1:32;
thus L917: C287 = ( D89 . 1 ) by L916 , FINSEQ_1:41;
L918: ( len D89 ) = ( ( len ( <* C287 *> ^ D87 ) ) + ( len <* C288 *> ) ) by FINSEQ_1:22;
L919: ( ( len ( <* C287 *> ^ D87 ) ) + 1 ) = ( len D89 ) by L918 , FINSEQ_1:39;
thus L920: C288 = ( D89 . ( len D89 ) ) by L919 , FINSEQ_1:42;
let C296 being Nat;
assume that
L921: 1 <= C296
and
L922: C296 < ( len D89 );
L923: C296 <= ( len ( <* C287 *> ^ D87 ) ) by L919 , L922 , NAT_1:13;
let C297 , C298 being (Point of C286);
assume that
L924: C297 = ( D89 . C296 )
and
L925: C298 = ( D89 . ( C296 + 1 ) );
reconsider D90 = C296 as (Element of ( NAT )) by ORDINAL1:def 12;
per cases  by L915 , L921 , L923 , NAT_1:8 , XXREAL_0:1;
suppose L926: (D90 = 1 & D90 <= ( len D87 ));

L927: (( len ( D87 ^ <* C288 *> ) ) = ( ( len D87 ) + 1 ) & ( len ( <* C287 *> ^ ( D87 ^ <* C288 *> ) ) ) = ( ( len <* C287 *> ) + ( len ( D87 ^ <* C288 *> ) ) )) by L863 , FINSEQ_1:22;
L928: ( len ( <* C287 *> ^ ( D87 ^ <* C288 *> ) ) ) = ( ( 1 + 1 ) + ( len D87 ) ) by L927 , L862;
L929: 1 in ( dom D87 ) by L926 , FINSEQ_3:25;
L930: C298 = ( ( <* C287 *> ^ ( D87 ^ <* C288 *> ) ) . 2 ) by L925 , L926 , FINSEQ_1:32;
L931: C298 = ( ( D87 ^ <* C288 *> ) . ( 2 - ( len <* C287 *> ) ) ) by L930 , L862 , L928 , FINSEQ_1:24 , NAT_1:11;
L932: C298 = ( ( D87 ^ <* C288 *> ) . ( 2 - 1 ) ) by L931 , FINSEQ_1:39;
L933: C298 = ( D87 . 1 ) by L932 , L929 , FINSEQ_1:def 7;
L934: (( D87 . 1 ) in ( C291 . 1 ) & ( C291 . 1 ) = ( ( C290 . 1 ) /\ ( C290 . ( 1 + 1 ) ) )) by L873 , L889 , L929;
L935: C298 in ( C290 . 1 ) by L934 , L933 , XBOOLE_0:def 4;
L936: ( C290 . 1 ) in ( rng C290 ) by L872 , FUNCT_1:def 3;
reconsider D91 = ( C290 . 1 ) as (Subset of C286) by L936 , L891;
L937: D91 is  closed_under_lines  strong by L869 , L936;
L938: C297 = C287 by L916 , L924 , L926 , FINSEQ_1:41;
thus L939: thesis by L938 , L864 , L867 , L935 , L937 , L109;
end;
suppose L940: (D90 = 1 & D90 = ( ( len D87 ) + 1 ));

L941: ( C290 . 1 ) in ( rng C290 ) by L872 , FUNCT_1:def 3;
reconsider D92 = ( C290 . 1 ) as (Subset of C286) by L941 , L891;
L942: D92 is  closed_under_lines  strong by L869 , L941;
L943: ( len <* C287 *> ) = 1 by FINSEQ_1:39;
L944: ( len D89 ) = ( D90 + 1 ) by L943 , L919 , L940 , FINSEQ_1:22;
L945: ( len C291 ) = ( 0 ) by L889 , L940 , FINSEQ_3:29;
L946: C287 , C288 are_collinear  by L945 , L864 , L867 , L868 , L873 , L942 , L109;
thus L947: thesis by L946 , L916 , L920 , L924 , L925 , L940 , L944 , FINSEQ_1:41;
end;
suppose L948: (1 < D90 & D90 <= ( len D87 ));

L949: (( len C291 ) <= ( ( len C291 ) + 1 ) & ( len D87 ) = ( len C291 )) by L889 , FINSEQ_3:29 , NAT_1:11;
L950: D90 <= ( ( len C291 ) + 1 ) by L949 , L948 , XXREAL_0:2;
L951: D90 in ( dom C290 ) by L950 , L873 , L948 , FINSEQ_3:25;
reconsider D93 = ( D90 - 1 ) as Nat by L951 , FINSEQ_3:26;
L952: D90 <= ( ( len D87 ) + 1 ) by L948 , L949 , XXREAL_0:2;
L953: D90 in ( dom ( <* C287 *> ^ D87 ) ) by L952 , L915 , L948 , FINSEQ_3:25;
L954: C297 = ( ( <* C287 *> ^ D87 ) . D90 ) by L953 , L924 , FINSEQ_1:def 7;
L955: D90 <= ( len ( <* C287 *> ^ D87 ) ) by L914 , L862 , L948 , NAT_1:13;
L956: C297 = ( D87 . D93 ) by L955 , L862 , L948 , L954 , FINSEQ_1:24;
L957: ( D93 + 1 ) = D90;
L958: 1 <= D93 by L957 , L948 , NAT_1:13;
L959: ( C290 . D90 ) in ( rng C290 ) by L951 , FUNCT_1:def 3;
reconsider D94 = ( C290 . D90 ) as (Subset of C286) by L959 , L891;
L960: D93 <= ( D93 + 1 ) by NAT_1:11;
L961: (( len <* C287 *> ) < ( D90 + 1 ) & ( D90 + 1 ) <= ( ( len D87 ) + 1 )) by L862 , L948 , NAT_1:13 , XREAL_1:6;
L962: ( D90 + 1 ) in ( dom ( <* C287 *> ^ D87 ) ) by L961 , L914 , L862 , FINSEQ_3:25;
L963: C298 = ( ( <* C287 *> ^ D87 ) . ( D90 + 1 ) ) by L962 , L925 , FINSEQ_1:def 7;
L964: C298 = ( D87 . ( ( D90 + 1 ) - ( len <* C287 *> ) ) ) by L963 , L915 , L961 , FINSEQ_1:24;
L965: D90 <= ( len C291 ) by L889 , L948 , FINSEQ_3:29;
L966: D90 in ( Seg D84 ) by L965 , L873 , L948 , FINSEQ_1:1;
L967: ( D87 . D90 ) in ( C291 . D90 ) by L966 , L889 , L890;
L968: C298 in ( ( C290 . D90 ) /\ ( C290 . ( D90 + 1 ) ) ) by L967 , L873 , L874 , L862 , L966 , L964;
L969: C298 in D94 by L968 , XBOOLE_0:def 4;
L970: D90 <= ( len C291 ) by L889 , L948 , FINSEQ_3:29;
L971: D93 <= D84 by L970 , L873 , L960 , XXREAL_0:2;
L972: D93 in ( Seg D84 ) by L971 , L958 , FINSEQ_1:1;
L973: ( D87 . D93 ) in ( C291 . D93 ) by L972 , L889 , L890;
L974: C297 in ( ( C290 . D93 ) /\ ( C290 . ( D93 + 1 ) ) ) by L973 , L873 , L874 , L972 , L956;
L975: C297 in D94 by L974 , XBOOLE_0:def 4;
L976: D94 is  closed_under_lines  strong by L869 , L959;
thus L977: thesis by L976 , L975 , L969 , L109;
end;
suppose L978: (1 < D90 & D90 = ( ( len D87 ) + 1 ));

L979: ( ( 0 ) + 1 ) < ( ( len D87 ) + 1 ) by L978;
L980: (ex B244 being Nat st ( len D87 ) = ( B244 + 1 )) by L979 , NAT_1:6;
L981: 1 <= ( len D87 ) by L980 , NAT_1:11;
L982: ( len D87 ) in ( dom C291 ) by L981 , L889 , FINSEQ_3:25;
L983: ( len ( <* C287 *> ^ D87 ) ) = ( 1 + ( len D87 ) ) by L862 , FINSEQ_1:22;
L984: D90 in ( dom ( <* C287 *> ^ D87 ) ) by L983 , L978 , FINSEQ_3:25;
L985: C297 = ( ( <* C287 *> ^ D87 ) . D90 ) by L984 , L924 , FINSEQ_1:def 7
.= ( D87 . ( ( ( len D87 ) + 1 ) - 1 ) ) by L862 , L978 , L983 , FINSEQ_1:24
.= ( D87 . ( len D87 ) );
L986: C297 in ( C291 . ( len D87 ) ) by L985 , L889 , L982;
L987: C297 in ( ( C290 . ( len D87 ) ) /\ ( C290 . ( ( len D87 ) + 1 ) ) ) by L986 , L873 , L982;
L988: ( C290 . ( len C290 ) ) in ( rng C290 ) by L871 , FUNCT_1:def 3;
reconsider D95 = ( C290 . ( len C290 ) ) as (Subset of C286) by L988 , L891;
L989: D95 is  closed_under_lines  strong by L869 , L988;
L990: ( len D87 ) = ( len C291 ) by L889 , FINSEQ_3:29;
L991: C297 in D95 by L990 , L873 , L987 , XBOOLE_0:def 4;
L992: C298 = C288 by L925 , L978 , L983 , FINSEQ_1:42;
thus L993: thesis by L992 , L868 , L989 , L991 , L109;
end;
end;

end;
theorem
L862: (for B245 being non  empty set holds (for B246 being  PLS-yielding (ManySortedSet of B245) holds (for B247 being (Subset of ( Segre_Product B246 )) holds (B247 is non  trivial  strong  closed_under_lines iff (ex B248 being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier B246 )) st (B247 = ( product B248 ) & (for B249 being (Subset of ( B246 . ( indx B248 ) )) holds (B249 = ( B248 . ( indx B248 ) ) implies B249 is  strong  closed_under_lines))))))))
proof
let C299 being non  empty set;
let C300 being  PLS-yielding (ManySortedSet of C299);
let C301 being (Subset of ( Segre_Product C300 ));
thus L863: (C301 is non  trivial  strong  closed_under_lines implies (ex B250 being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier C300 )) st (C301 = ( product B250 ) & (for B251 being (Subset of ( C300 . ( indx B250 ) )) holds (B251 = ( B250 . ( indx B250 ) ) implies B251 is  strong  closed_under_lines)))))
proof
assume L864: C301 is non  trivial  strong  closed_under_lines;
L865: 2 c= ( card C301 ) by L864 , L43;
consider C302 , C303 being set such that L866: C302 in C301 and L867: C303 in C301 and L868: C302 <> C303 by L865 , L13;
reconsider D96 = C302 , D97 = C303 as (Point of ( Segre_Product C300 )) by L866 , L867;
L869: D96 , D97 are_collinear  by L864 , L866 , L867 , L109;
consider C304 being (Block of ( Segre_Product C300 )) such that L870: { D96 , D97 } c= C304 by L869 , L868 , L106;
consider C305 being  Segre-like (ManySortedSubset of ( Carrier C300 )) such that L871: C304 = ( product C305 ) and L872: (ex B252 being (Element of C299) st ( C305 . B252 ) is (Block of ( C300 . B252 ))) by L558;
L873: (D96 in ( product C305 ) & D97 in ( product C305 )) by L870 , L871 , ZFMISC_1:32;
L874: 2 c= ( card ( product C305 ) ) by L873 , L868 , L13;
reconsider D98 = C305 as  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier C300 )) by L874 , L488;
L875: ( dom D98 ) = C299 by PARTFUN1:def 2;
reconsider D99 = D96 , D100 = D97 as (ManySortedSet of C299) by L590;
L876: ( dom D99 ) = C299 by PARTFUN1:def 2;
L877: ( dom D100 ) = C299 by PARTFUN1:def 2;
L878:
now
assume L879: ( D99 . ( indx D98 ) ) = ( D100 . ( indx D98 ) );
L880: (for B253 being set holds (B253 in C299 implies ( D99 . B253 ) = ( D100 . B253 )))
proof
let C306 being set;
assume L881: C306 in C299;
per cases ;
suppose L882: C306 = ( indx D98 );

thus L883: thesis by L882 , L879;
end;
suppose L884: C306 <> ( indx D98 );

L885: (D99 in ( product D98 ) & D100 in ( product D98 )) by L870 , L871 , ZFMISC_1:32;
thus L886: thesis by L885 , L884 , L755;
end;
end;
thus L888: contradiction by L880 , L868 , L876 , L877 , FUNCT_1:2;
end;
L889: (for B254 being (ManySortedSet of C299) holds (B254 in C301 implies (for B255 being (Element of C299) holds (B255 <> ( indx D98 ) implies ( B254 . B255 ) in ( D98 . B255 )))))
proof
let C307 being (ManySortedSet of C299);
assume L890: C307 in C301;
reconsider D101 = C307 as (Point of ( Segre_Product C300 )) by L890;
let C308 being (Element of C299);
assume L891: C308 <> ( indx D98 );
L892:
now
L893: D100 in ( product D98 ) by L870 , L871 , ZFMISC_1:32;
L894: ( D100 . C308 ) in ( D98 . C308 ) by L893 , L875 , CARD_3:9;
assume L895: (not ( C307 . C308 ) in ( D98 . C308 ));
L896: D101 , D97 are_collinear  by L864 , L867 , L890 , L109;
consider C309 being (Block of ( Segre_Product C300 )) such that L897: { D101 , D97 } c= C309 by L896 , L895 , L894 , L106;
consider C310 being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier C300 )) such that L898: C309 = ( product C310 ) and L899: ( C310 . ( indx C310 ) ) is (Block of ( C300 . ( indx C310 ) )) by L776;
L900: D100 in ( product C310 ) by L897 , L898 , ZFMISC_1:32;
L901: C307 in ( product C310 ) by L897 , L898 , ZFMISC_1:32;
L902: ( indx C310 ) = C308 by L901 , L895 , L894 , L900 , L755;
L903: ( C310 . ( indx D98 ) ) is 1 -element by L902 , L891 , L467;
consider C311 being set such that L904: ( C310 . ( indx D98 ) ) = { C311 } by L903 , ZFMISC_1:131;
L905: ( dom C310 ) = C299 by PARTFUN1:def 2;
L906: ( D100 . ( indx D98 ) ) in { C311 } by L905 , L900 , L904 , CARD_3:9;
L907: ( D100 . ( indx D98 ) ) = C311 by L906 , TARSKI:def 1;
L908: D99 in ( product D98 ) by L870 , L871 , ZFMISC_1:32;
L909: ( D99 . C308 ) in ( D98 . C308 ) by L908 , L875 , CARD_3:9;
L910: D101 , D96 are_collinear  by L864 , L866 , L890 , L109;
consider C312 being (Block of ( Segre_Product C300 )) such that L911: { D101 , D96 } c= C312 by L910 , L895 , L909 , L106;
consider C313 being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier C300 )) such that L912: C312 = ( product C313 ) and L913: ( C313 . ( indx C313 ) ) is (Block of ( C300 . ( indx C313 ) )) by L776;
L914: D99 in ( product C313 ) by L911 , L912 , ZFMISC_1:32;
L915: C307 in ( product C313 ) by L911 , L912 , ZFMISC_1:32;
L916: ( indx C313 ) = C308 by L915 , L895 , L909 , L914 , L755;
L917: ( C313 . ( indx D98 ) ) is 1 -element by L916 , L891 , L467;
consider C314 being set such that L918: ( C313 . ( indx D98 ) ) = { C314 } by L917 , ZFMISC_1:131;
L919: ( dom C313 ) = C299 by PARTFUN1:def 2;
L920: ( D99 . ( indx D98 ) ) in { C314 } by L919 , L914 , L918 , CARD_3:9;
L921: C314 <> C311 by L920 , L878 , L907 , TARSKI:def 1;
L922: ( C307 . ( indx D98 ) ) in { C314 } by L915 , L918 , L919 , CARD_3:9;
L923: ( C307 . ( indx D98 ) ) <> C311 by L922 , L921 , TARSKI:def 1;
L924: ( C307 . ( indx D98 ) ) in { C311 } by L901 , L904 , L905 , CARD_3:9;
thus L925: contradiction by L924 , L923 , TARSKI:def 1;
end;
thus L926: thesis by L892;
end;
L927: (( D99 . ( indx D98 ) ) in ( pi (C301 , ( indx D98 )) ) & ( D100 . ( indx D98 ) ) in ( pi (C301 , ( indx D98 )) )) by L866 , L867 , CARD_3:def 6;
L928: 2 c= ( card ( pi (C301 , ( indx D98 )) ) ) by L927 , L878 , L13;
reconsider D102 = ( pi (C301 , ( indx D98 )) ) as non  trivial set by L928 , L43;
L929: ( D98 +* (( indx D98 ) , D102) ) c= ( Carrier C300 )
proof
let C315 being set;
assume L930: C315 in C299;
per cases ;
suppose L931: C315 <> ( indx D98 );

L932: D98 c= ( Carrier C300 ) by PBOOLE:def 18;
L933: ( ( D98 +* (( indx D98 ) , D102) ) . C315 ) = ( D98 . C315 ) by L931 , FUNCT_7:32;
thus L934: thesis by L933 , L930 , L932 , PBOOLE:def 2;
end;
suppose L935: C315 = ( indx D98 );

L936: D102 c= ( ( Carrier C300 ) . C315 )
proof
let C316 being set;
assume L937: C316 in D102;
L938: (ex B256 being Function st (B256 in C301 & C316 = ( B256 . C315 ))) by L937 , L935 , CARD_3:def 6;
L939: C315 in ( dom ( Carrier C300 ) ) by L930 , PARTFUN1:def 2;
thus L940: thesis by L939 , L938 , CARD_3:9;
end;
L941: ( dom D98 ) = C299 by PARTFUN1:def 2;
thus L942: thesis by L941 , L935 , L936 , FUNCT_7:31;
end;
end;
reconsider D103 = ( D98 +* (( indx D98 ) , D102) ) as  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier C300 )) by L929 , L853 , PBOOLE:def 18;
take D103;
L944: ( dom D103 ) = C299 by PARTFUN1:def 2;
L945: ( D103 . ( indx D98 ) ) = D102 by L875 , FUNCT_7:31;
thus L946: C301 = ( product D103 )
proof
thus L947: C301 c= ( product D103 )
proof
let C317 being set;
assume L948: C317 in C301;
reconsider D104 = C317 as (ManySortedSet of C299) by L948 , L590;
L949:
now
let C318 being set;
assume L950: C318 in C299;
reconsider D105 = C318 as (Element of C299) by L950;
per cases ;
suppose L951: D105 = ( indx D98 );

thus L952: ( D104 . C318 ) in ( D103 . C318 ) by L951 , L945 , L948 , CARD_3:def 6;
end;
suppose L953: D105 <> ( indx D98 );

L954: ( D104 . D105 ) in ( D98 . D105 ) by L953 , L889 , L948;
thus L955: ( D104 . C318 ) in ( D103 . C318 ) by L954 , L953 , FUNCT_7:32;
end;
end;
L957: ( dom D104 ) = C299 by PARTFUN1:def 2;
thus L958: thesis by L957 , L944 , L949 , CARD_3:9;
end;

let C319 being set;
assume L959: C319 in ( product D103 );
consider C320 being Function such that L960: (C319 = C320 & ( dom C320 ) = C299) and L961: (for B257 being set holds (B257 in C299 implies ( C320 . B257 ) in ( D103 . B257 ))) by L959 , L944 , CARD_3:def 5;
L962: ( C320 . ( indx D98 ) ) in D102 by L945 , L961;
consider C321 being Function such that L963: C321 in C301 and L964: ( C320 . ( indx D98 ) ) = ( C321 . ( indx D98 ) ) by L962 , CARD_3:def 6;
reconsider D106 = C321 as (ManySortedSet of C299) by L963;
L965:
now
let C322 being set;
assume L966: C322 in C299;
reconsider D107 = C322 as (Element of C299) by L966;
per cases ;
suppose L967: C322 = ( indx D98 );

thus L968: ( C320 . C322 ) = ( D106 . C322 ) by L967 , L964;
end;
suppose L969: C322 <> ( indx D98 );

L970: ( D98 . D107 ) is 1 -element by L969 , L467;
consider C323 being set such that L971: ( D98 . C322 ) = { C323 } by L970 , ZFMISC_1:131;
L972: ( D106 . D107 ) in ( D98 . D107 ) by L889 , L963 , L969;
L973: ( C320 . D107 ) in ( D103 . D107 ) by L961;
L974: ( C320 . D107 ) in { C323 } by L973 , L969 , L971 , FUNCT_7:32;
thus L975: ( C320 . C322 ) = C323 by L974 , TARSKI:def 1
.= ( D106 . C322 ) by L971 , L972 , TARSKI:def 1;
end;
end;
L977: ( dom D106 ) = C299 by PARTFUN1:def 2;
thus L978: thesis by L977 , L960 , L963 , L965 , FUNCT_1:2;
end;

let C324 being (Subset of ( C300 . ( indx D103 ) ));
assume L979: C324 = ( D103 . ( indx D103 ) );
thus L980: C324 is  strong
proof
let C325 , C326 being (Point of ( C300 . ( indx D103 ) ));
assume that
L981: C325 in C324
and
L982: C326 in C324;
thus L983: C325 , C326 are_collinear 
proof
per cases ;
suppose L984: C325 = C326;

thus L985: thesis by L984 , L106;
end;
suppose L986: C325 <> C326;

reconsider D108 = ( D99 +* (( indx D103 ) , C326) ) as (Point of ( Segre_Product C300 )) by L791;
reconsider D109 = ( D99 +* (( indx D103 ) , C325) ) as (Point of ( Segre_Product C300 )) by L791;
reconsider D110 = D109 , D111 = D108 as (ManySortedSet of C299);
L987:
now
L988: ( dom D99 ) = C299 by PARTFUN1:def 2;
L989: ( D110 . ( indx D103 ) ) = C325 by L988 , FUNCT_7:31;
L990: ( dom D99 ) = C299 by PARTFUN1:def 2;
assume L991: D109 = D108;
thus L992: contradiction by L991 , L986 , L989 , L990 , FUNCT_7:31;
end;
L993: (for B258 being set holds (B258 in ( dom D103 ) implies ( D110 . B258 ) in ( D103 . B258 )))
proof
let C327 being set;
assume L994: C327 in ( dom D103 );
L995: C327 in C299 by L994 , PARTFUN1:def 2;
L996: C327 in ( dom D99 ) by L995 , PARTFUN1:def 2;
per cases ;
suppose L997: C327 <> ( indx D103 );

L998: ( D110 . C327 ) = ( D99 . C327 ) by L997 , FUNCT_7:32;
thus L999: thesis by L998 , L866 , L946 , L994 , CARD_3:9;
end;
suppose L1000: C327 = ( indx D103 );

thus L1001: thesis by L1000 , L979 , L981 , L996 , FUNCT_7:31;
end;
end;
L1003: (for B259 being set holds (B259 in ( dom D103 ) implies ( D111 . B259 ) in ( D103 . B259 )))
proof
let C328 being set;
assume L1004: C328 in ( dom D103 );
L1005: C328 in C299 by L1004 , PARTFUN1:def 2;
L1006: C328 in ( dom D99 ) by L1005 , PARTFUN1:def 2;
per cases ;
suppose L1007: C328 <> ( indx D103 );

L1008: ( D111 . C328 ) = ( D99 . C328 ) by L1007 , FUNCT_7:32;
thus L1009: thesis by L1008 , L866 , L946 , L1004 , CARD_3:9;
end;
suppose L1010: C328 = ( indx D103 );

thus L1011: thesis by L1010 , L979 , L982 , L1006 , FUNCT_7:31;
end;
end;
L1013: ( dom D111 ) = C299 by PARTFUN1:def 2
.= ( dom D103 ) by PARTFUN1:def 2;
L1014: D108 in ( product D103 ) by L1013 , L1003 , CARD_3:9;
L1015: ( dom D110 ) = C299 by PARTFUN1:def 2
.= ( dom D103 ) by PARTFUN1:def 2;
L1016: D109 in ( product D103 ) by L1015 , L993 , CARD_3:9;
L1017: D109 , D108 are_collinear  by L1016 , L864 , L946 , L1014 , L109;
consider C329 being (Block of ( Segre_Product C300 )) such that L1018: { D109 , D108 } c= C329 by L1017 , L987 , L106;
L1019: ( dom D99 ) = C299 by PARTFUN1:def 2;
L1020: ( D111 . ( indx D103 ) ) = C326 by L1019 , FUNCT_7:31;
consider C330 being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier C300 )) such that L1021: C329 = ( product C330 ) and L1022: ( C330 . ( indx C330 ) ) is (Block of ( C300 . ( indx C330 ) )) by L776;
L1023: ( dom C330 ) = C299 by PARTFUN1:def 2;
L1024: D110 in ( product C330 ) by L1018 , L1021 , ZFMISC_1:32;
L1025: ( D110 . ( indx D103 ) ) in ( C330 . ( indx D103 ) ) by L1024 , L1023 , CARD_3:9;
L1026: ( dom C330 ) = C299 by PARTFUN1:def 2;
L1027: D111 in ( product C330 ) by L1018 , L1021 , ZFMISC_1:32;
L1028: ( D111 . ( indx D103 ) ) in ( C330 . ( indx D103 ) ) by L1027 , L1026 , CARD_3:9;
L1029:
now
L1030: ( dom D99 ) = C299 by PARTFUN1:def 2;
L1031: ( D110 . ( indx D103 ) ) = C325 by L1030 , FUNCT_7:31;
L1032: ( dom D99 ) = C299 by PARTFUN1:def 2;
assume L1033: ( D110 . ( indx D103 ) ) = ( D111 . ( indx D103 ) );
thus L1034: contradiction by L1033 , L986 , L1031 , L1032 , FUNCT_7:31;
end;
L1035: 2 c= ( card ( C330 . ( indx D103 ) ) ) by L1029 , L1025 , L1028 , L13;
L1036: ( C330 . ( indx D103 ) ) is non  trivial by L1035 , L43;
reconsider D112 = ( C330 . ( indx C330 ) ) as (Block of ( C300 . ( indx D103 ) )) by L1036 , L1022 , L444;
L1037: ( dom D99 ) = C299 by PARTFUN1:def 2;
L1038: ( D110 . ( indx D103 ) ) = C325 by L1037 , FUNCT_7:31;
L1039: ( indx D103 ) = ( indx C330 ) by L1036 , L444;
L1040: { C325 , C326 } c= D112 by L1039 , L1025 , L1028 , L1038 , L1020 , ZFMISC_1:32;
thus L1041: thesis by L1040 , L106;
end;
end;

end;

thus L984: C324 is  closed_under_lines
proof
let C331 being (Block of ( C300 . ( indx D103 ) ));
L985: ( dom D103 ) = C299 by PARTFUN1:def 2;
L986: 2 c= ( card C331 ) by L113;
reconsider D113 = C331 as non  trivial set by L986 , L43;
L987: C331 in (the topology of ( C300 . ( indx D103 ) ));
L988: C331 c= (the carrier of ( C300 . ( indx D103 ) )) by L987;
L989: ( D103 +* (( indx D103 ) , D113) ) c= ( Carrier C300 )
proof
let C332 being set;
assume L990: C332 in C299;
thus L991: ( ( D103 +* (( indx D103 ) , D113) ) . C332 ) c= ( ( Carrier C300 ) . C332 )
proof
per cases ;
suppose L992: C332 <> ( indx D103 );

L993: D103 c= ( Carrier C300 ) by PBOOLE:def 18;
L994: ( ( D103 +* (( indx D103 ) , D113) ) . C332 ) = ( D103 . C332 ) by L992 , FUNCT_7:32;
thus L995: thesis by L994 , L990 , L993 , PBOOLE:def 2;
end;
suppose L996: C332 = ( indx D103 );

L997: ( ( D103 +* (( indx D103 ) , D113) ) . C332 ) = C331 by L996 , L944 , FUNCT_7:31;
thus L998: thesis by L997 , L988 , L996 , YELLOW_6:2;
end;
end;

end;
reconsider D114 = ( D103 +* (( indx D103 ) , D113) ) as  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier C300 )) by L989 , L853 , PBOOLE:def 18;
L992: ( D114 . ( indx D103 ) ) = D113 by L944 , FUNCT_7:31;
L993: ( indx D103 ) = ( indx D114 ) by L992 , L444;
L994: ( D114 . ( indx D114 ) ) is (Block of ( C300 . ( indx D114 ) )) by L993 , L985 , FUNCT_7:31;
reconsider D115 = ( product D114 ) as (Block of ( Segre_Product C300 )) by L994 , L776;
assume L995: 2 c= ( card ( C331 /\ C324 ) );
consider C333 , C334 being set such that L996: C333 in ( C331 /\ C324 ) and L997: C334 in ( C331 /\ C324 ) and L998: C333 <> C334 by L995 , L13;
set D116 = ( D99 +* (( indx D103 ) , C334) );
L999: ( dom D116 ) = C299 by PARTFUN1:def 2;
L1000:
now
let C335 being set;
assume L1001: C335 in C299;
per cases ;
suppose L1002: C335 <> ( indx D103 );

L1003: ( D116 . C335 ) = ( D99 . C335 ) by L1002 , FUNCT_7:32;
thus L1004: ( D116 . C335 ) in ( D103 . C335 ) by L1003 , L866 , L944 , L946 , L1001 , CARD_3:9;
end;
suppose L1005: C335 = ( indx D103 );

L1006: ( D116 . C335 ) = C334 by L1005 , L876 , FUNCT_7:31;
thus L1007: ( D116 . C335 ) in ( D103 . C335 ) by L1006 , L979 , L997 , L1005 , XBOOLE_0:def 4;
end;
end;
L1009: D116 in C301 by L1000 , L944 , L946 , L999 , CARD_3:9;
L1010: ( dom D114 ) = C299 by PARTFUN1:def 2;
L1011:
now
let C336 being set;
assume L1012: C336 in ( dom D114 );
per cases ;
suppose L1013: C336 <> ( indx D103 );

L1014: ( D116 . C336 ) = ( D99 . C336 ) by L1013 , FUNCT_7:32;
L1015: ( D99 . C336 ) in ( D103 . C336 ) by L866 , L944 , L946 , L1010 , L1012 , CARD_3:9;
thus L1016: ( D116 . C336 ) in ( D114 . C336 ) by L1015 , L1013 , L1014 , FUNCT_7:32;
end;
suppose L1017: C336 = ( indx D103 );

L1018: ( D116 . C336 ) = C334 by L1017 , L876 , FUNCT_7:31;
thus L1019: ( D116 . C336 ) in ( D114 . C336 ) by L1018 , L997 , L992 , L1017 , XBOOLE_0:def 4;
end;
end;
L1021: D116 in D115 by L1011 , L1010 , L999 , CARD_3:9;
L1022: D116 in ( D115 /\ C301 ) by L1021 , L1009 , XBOOLE_0:def 4;
set D117 = ( D99 +* (( indx D103 ) , C333) );
L1023: ( dom D117 ) = C299 by PARTFUN1:def 2;
L1024:
now
let C337 being set;
assume L1025: C337 in C299;
per cases ;
suppose L1026: C337 <> ( indx D103 );

L1027: ( D117 . C337 ) = ( D99 . C337 ) by L1026 , FUNCT_7:32;
thus L1028: ( D117 . C337 ) in ( D103 . C337 ) by L1027 , L866 , L944 , L946 , L1025 , CARD_3:9;
end;
suppose L1029: C337 = ( indx D103 );

L1030: ( D117 . C337 ) = C333 by L1029 , L876 , FUNCT_7:31;
thus L1031: ( D117 . C337 ) in ( D103 . C337 ) by L1030 , L979 , L996 , L1029 , XBOOLE_0:def 4;
end;
end;
L1033: D117 in C301 by L1024 , L944 , L946 , L1023 , CARD_3:9;
L1034: (( D117 . ( indx D103 ) ) = C333 & ( D116 . ( indx D103 ) ) = C334) by L876 , FUNCT_7:31;
L1035:
now
let C338 being set;
assume L1036: C338 in ( dom D114 );
per cases ;
suppose L1037: C338 <> ( indx D103 );

L1038: ( D117 . C338 ) = ( D99 . C338 ) by L1037 , FUNCT_7:32;
L1039: ( D99 . C338 ) in ( D103 . C338 ) by L866 , L944 , L946 , L1010 , L1036 , CARD_3:9;
thus L1040: ( D117 . C338 ) in ( D114 . C338 ) by L1039 , L1037 , L1038 , FUNCT_7:32;
end;
suppose L1041: C338 = ( indx D103 );

L1042: ( D117 . C338 ) = C333 by L1041 , L876 , FUNCT_7:31;
thus L1043: ( D117 . C338 ) in ( D114 . C338 ) by L1042 , L996 , L992 , L1041 , XBOOLE_0:def 4;
end;
end;
L1045: D117 in D115 by L1035 , L1010 , L1023 , CARD_3:9;
L1046: D117 in ( D115 /\ C301 ) by L1045 , L1033 , XBOOLE_0:def 4;
L1047: 2 c= ( card ( D115 /\ C301 ) ) by L1046 , L998 , L1034 , L1022 , L13;
L1048: D115 c= C301 by L1047 , L864 , L108;
thus L1049: C331 c= C324
proof
let C339 being set;
consider C340 being set such that L1050: C340 in D115 by XBOOLE_0:def 1;
L1051: (ex B260 being Function st (B260 = C340 & ( dom B260 ) = C299 & (for B261 being set holds (B261 in C299 implies ( B260 . B261 ) in ( D114 . B261 ))))) by L1010 , L1050 , CARD_3:def 5;
reconsider D118 = C340 as (ManySortedSet of C299) by L1051 , PARTFUN1:def 2 , RELAT_1:def 18;
assume L1052: C339 in C331;
L1053:
now
let C341 being set;
assume L1054: C341 in ( dom D114 );
per cases ;
suppose L1055: C341 <> ( indx D103 );

L1056: ( ( D118 +* (( indx D103 ) , C339) ) . C341 ) = ( D118 . C341 ) by L1055 , FUNCT_7:32;
thus L1057: ( ( D118 +* (( indx D103 ) , C339) ) . C341 ) in ( D114 . C341 ) by L1056 , L1010 , L1051 , L1054;
end;
suppose L1058: C341 = ( indx D103 );

L1059: ( ( D118 +* (( indx D103 ) , C339) ) . C341 ) = C339 by L1058 , L1051 , FUNCT_7:31;
thus L1060: ( ( D118 +* (( indx D103 ) , C339) ) . C341 ) in ( D114 . C341 ) by L1059 , L944 , L1052 , L1058 , FUNCT_7:31;
end;
end;
L1062: ( dom ( D118 +* (( indx D103 ) , C339) ) ) = ( dom D114 ) by L1010 , PARTFUN1:def 2;
L1063: ( D118 +* (( indx D103 ) , C339) ) in D115 by L1062 , L1053 , CARD_3:9;
L1064: ( ( D118 +* (( indx D103 ) , C339) ) . ( indx D103 ) ) in ( D103 . ( indx D103 ) ) by L1063 , L944 , L946 , L1048 , CARD_3:9;
thus L1065: thesis by L1064 , L979 , L1051 , FUNCT_7:31;
end;

end;

end;

given C342 being  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier C300 )) such that
L985: C301 = ( product C342 )
and
L986: (for B262 being (Subset of ( C300 . ( indx C342 ) )) holds (B262 = ( C342 . ( indx C342 ) ) implies B262 is  strong  closed_under_lines));

thus L987: C301 is non  trivial by L985;
L988: ( dom C342 ) = C299 by PARTFUN1:def 2;
L989: ( dom ( Carrier C300 ) ) = C299 by PARTFUN1:def 2;
thus L990: C301 is  strong
proof
let C343 , C344 being (Point of ( Segre_Product C300 ));
assume that
L991: C343 in C301
and
L992: C344 in C301;
per cases ;
suppose L993: C343 = C344;

thus L994: thesis by L993 , L106;
end;
suppose L995: C343 <> C344;

consider C345 being Function such that L996: C345 = C344 and L997: ( dom C345 ) = ( dom ( Carrier C300 ) ) and L998: (for B263 being set holds (B263 in ( dom ( Carrier C300 ) ) implies ( C345 . B263 ) in ( ( Carrier C300 ) . B263 ))) by CARD_3:def 5;
L999: ( dom ( Carrier C300 ) ) = C299 by PARTFUN1:def 2;
reconsider D119 = C345 as (ManySortedSet of C299) by L999 , L997 , PARTFUN1:def 2 , RELAT_1:def 18;
consider C346 being Function such that L1000: C346 = C343 and L1001: ( dom C346 ) = ( dom ( Carrier C300 ) ) and L1002: (for B264 being set holds (B264 in ( dom ( Carrier C300 ) ) implies ( C346 . B264 ) in ( ( Carrier C300 ) . B264 ))) by CARD_3:def 5;
reconsider D120 = C346 as (ManySortedSet of C299) by L1001 , L999 , PARTFUN1:def 2 , RELAT_1:def 18;
L1003:
now
assume L1004: ( D120 . ( indx C342 ) ) = ( D119 . ( indx C342 ) );
L1005:
now
let C347 being set;
assume L1006: C347 in ( dom ( Carrier C300 ) );
per cases ;
suppose L1007: C347 <> ( indx C342 );

thus L1008: ( D120 . C347 ) = ( D119 . C347 ) by L1007 , L985 , L991 , L992 , L1000 , L996 , L755;
end;
suppose L1009: C347 = ( indx C342 );

thus L1010: ( D120 . C347 ) = ( D119 . C347 ) by L1009 , L1004;
end;
end;
thus L1012: contradiction by L1005 , L995 , L1000 , L1001 , L996 , L997 , FUNCT_1:2;
end;
L1013: C342 c= ( Carrier C300 ) by PBOOLE:def 18;
L1014: ( C342 . ( indx C342 ) ) c= ( ( Carrier C300 ) . ( indx C342 ) ) by L1013 , PBOOLE:def 2;
reconsider D121 = ( C342 . ( indx C342 ) ) as (Subset of ( C300 . ( indx C342 ) )) by L1014 , YELLOW_6:2;
L1015: D121 is  strong by L986;
L1016: ( D119 . ( indx C342 ) ) in ( ( Carrier C300 ) . ( indx C342 ) ) by L989 , L998;
reconsider D122 = ( D119 . ( indx C342 ) ) as (Point of ( C300 . ( indx C342 ) )) by L1016 , YELLOW_6:2;
L1017: D122 in D121 by L985 , L988 , L992 , L996 , CARD_3:9;
L1018: ( D120 . ( indx C342 ) ) in ( ( Carrier C300 ) . ( indx C342 ) ) by L989 , L1002;
reconsider D123 = ( D120 . ( indx C342 ) ) as (Point of ( C300 . ( indx C342 ) )) by L1018 , YELLOW_6:2;
L1019: D123 in D121 by L985 , L988 , L991 , L1000 , CARD_3:9;
L1020: D123 , D122 are_collinear  by L1019 , L1017 , L1015 , L109;
consider C348 being (Block of ( C300 . ( indx C342 ) )) such that L1021: { D123 , D122 } c= C348 by L1020 , L1003 , L106;
L1022: ( dom { D120 } ) = C299 by PARTFUN1:def 2;
L1023: (for B265 being set holds (B265 in ( dom ( { D120 } +* (( indx C342 ) , C348) ) ) implies ( D119 . B265 ) in ( ( { D120 } +* (( indx C342 ) , C348) ) . B265 )))
proof
let C349 being set;
assume L1024: C349 in ( dom ( { D120 } +* (( indx C342 ) , C348) ) );
L1025: C349 in C299 by L1024 , PARTFUN1:def 2;
per cases ;
suppose L1026: C349 = ( indx C342 );

L1027: ( ( { D120 } +* (( indx C342 ) , C348) ) . C349 ) = C348 by L1026 , L1022 , FUNCT_7:31;
thus L1028: thesis by L1027 , L1021 , L1026 , ZFMISC_1:32;
end;
suppose L1029: C349 <> ( indx C342 );

L1030: ( D120 . C349 ) in { ( D120 . C349 ) } by TARSKI:def 1;
L1031: ( D120 . C349 ) in ( { D120 } . C349 ) by L1030 , L1025 , PZFMISC1:def 1;
L1032: ( D119 . C349 ) in ( { D120 } . C349 ) by L1031 , L985 , L991 , L992 , L1000 , L996 , L1029 , L755;
thus L1033: thesis by L1032 , L1029 , FUNCT_7:32;
end;
end;
L1035: ( { D120 } +* (( indx C342 ) , C348) ) c= ( Carrier C300 )
proof
let C350 being set;
assume L1036: C350 in C299;
reconsider D124 = C350 as (Element of C299) by L1036;
thus L1037: ( ( { D120 } +* (( indx C342 ) , C348) ) . C350 ) c= ( ( Carrier C300 ) . C350 )
proof
per cases ;
suppose L1038: C350 = ( indx C342 );

L1039: ( ( { D120 } +* (( indx C342 ) , C348) ) . C350 ) = C348 by L1038 , L1022 , FUNCT_7:31;
L1040: ( ( { D120 } +* (( indx C342 ) , C348) ) . C350 ) in (the topology of ( C300 . ( indx C342 ) )) by L1039;
L1041: ( ( { D120 } +* (( indx C342 ) , C348) ) . C350 ) c= (the carrier of ( C300 . ( indx C342 ) )) by L1040;
thus L1042: thesis by L1041 , L1038 , YELLOW_6:2;
end;
suppose L1043: C350 <> ( indx C342 );

L1044: ( D120 . C350 ) in ( ( Carrier C300 ) . D124 ) by L989 , L1002;
L1045: ( D120 . C350 ) in (the carrier of ( C300 . D124 )) by L1044 , YELLOW_6:2;
L1046: { ( D120 . C350 ) } c= (the carrier of ( C300 . D124 )) by L1045 , ZFMISC_1:31;
L1047: ( ( { D120 } +* (( indx C342 ) , C348) ) . C350 ) = ( { D120 } . C350 ) by L1043 , FUNCT_7:32
.= { ( D120 . C350 ) } by L1036 , PZFMISC1:def 1;
thus L1048: thesis by L1047 , L1046 , YELLOW_6:2;
end;
end;

end;
L1038: ( { D120 } +* (( indx C342 ) , C348) ) is (ManySortedSubset of ( Carrier C300 )) by L1035 , PBOOLE:def 18;
L1039: (for B266 being (Element of C299) holds (B266 <> ( indx C342 ) implies ( ( { D120 } +* (( indx C342 ) , C348) ) . B266 ) is 1 -element))
proof
let C351 being (Element of C299);
assume L1040: C351 <> ( indx C342 );
L1041: ( ( { D120 } +* (( indx C342 ) , C348) ) . C351 ) = ( { D120 } . C351 ) by L1040 , FUNCT_7:32
.= { ( D120 . C351 ) } by PZFMISC1:def 1;
thus L1042: thesis by L1041;
end;
L1043: ( { D120 } +* (( indx C342 ) , C348) ) is  Segre-like by L1039 , L346;
L1044: (for B267 being set holds (B267 in ( dom ( { D120 } +* (( indx C342 ) , C348) ) ) implies ( D120 . B267 ) in ( ( { D120 } +* (( indx C342 ) , C348) ) . B267 )))
proof
let C352 being set;
assume L1045: C352 in ( dom ( { D120 } +* (( indx C342 ) , C348) ) );
L1046: C352 in C299 by L1045 , PARTFUN1:def 2;
per cases ;
suppose L1047: C352 = ( indx C342 );

L1048: ( ( { D120 } +* (( indx C342 ) , C348) ) . C352 ) = C348 by L1047 , L1022 , FUNCT_7:31;
thus L1049: thesis by L1048 , L1021 , L1047 , ZFMISC_1:32;
end;
suppose L1050: C352 <> ( indx C342 );

L1051: ( D120 . C352 ) in { ( D120 . C352 ) } by TARSKI:def 1;
L1052: ( D120 . C352 ) in ( { D120 } . C352 ) by L1051 , L1046 , PZFMISC1:def 1;
thus L1053: thesis by L1052 , L1050 , FUNCT_7:32;
end;
end;
L1055: ( ( { D120 } +* (( indx C342 ) , C348) ) . ( indx C342 ) ) is (Block of ( C300 . ( indx C342 ) )) by L1022 , FUNCT_7:31;
reconsider D125 = ( product ( { D120 } +* (( indx C342 ) , C348) ) ) as (Block of ( Segre_Product C300 )) by L1055 , L1043 , L1038 , L558;
L1056: ( dom D119 ) = C299 by PARTFUN1:def 2
.= ( dom ( { D120 } +* (( indx C342 ) , C348) ) ) by PARTFUN1:def 2;
L1057: D119 in D125 by L1056 , L1023 , CARD_3:9;
L1058: ( dom D120 ) = C299 by PARTFUN1:def 2
.= ( dom ( { D120 } +* (( indx C342 ) , C348) ) ) by PARTFUN1:def 2;
L1059: D120 in D125 by L1058 , L1044 , CARD_3:9;
L1060: { C343 , C344 } c= D125 by L1059 , L1000 , L996 , L1057 , ZFMISC_1:32;
thus L1061: thesis by L1060 , L106;
end;
end;

thus L1063: C301 is  closed_under_lines
proof
let C353 being (Block of ( Segre_Product C300 ));
consider C354 being  Segre-like (ManySortedSubset of ( Carrier C300 )) such that L1064: C353 = ( product C354 ) and L1065: (ex B268 being (Element of C299) st ( C354 . B268 ) is (Block of ( C300 . B268 ))) by L558;
assume L1066: 2 c= ( card ( C353 /\ C301 ) );
consider C355 , C356 being set such that L1067: C355 in ( C353 /\ C301 ) and L1068: C356 in ( C353 /\ C301 ) and L1069: C355 <> C356 by L1066 , L13;
L1070: ( card ( C353 /\ C301 ) ) c= ( card C353 ) by CARD_1:11 , XBOOLE_1:17;
L1071: 2 c= ( card C353 ) by L1070 , L1066 , XBOOLE_1:1;
reconsider D126 = C354 as  Segre-like non  trivial-yielding (ManySortedSubset of ( Carrier C300 )) by L1071 , L1064 , L488;
reconsider D127 = C355 , D128 = C356 as (ManySortedSet of C299) by L1067 , L1068 , L590;
L1072: ( dom D126 ) = C299 by PARTFUN1:def 2
.= ( dom C342 ) by PARTFUN1:def 2;
L1073: ( indx C342 ) = ( indx D126 ) by L985 , L1066 , L1064 , L807;
L1074: (for B269 being set holds (B269 in ( dom D126 ) implies ( D126 . B269 ) c= ( C342 . B269 )))
proof
let C357 being set;
assume L1075: C357 in ( dom D126 );
per cases ;
suppose L1076: C357 <> ( indx C342 );

thus L1077: thesis by L1076 , L985 , L1066 , L1064 , L807;
end;
suppose L1078: C357 = ( indx C342 );

L1079: C342 c= ( Carrier C300 ) by PBOOLE:def 18;
L1080: ( C342 . ( indx C342 ) ) c= ( ( Carrier C300 ) . ( indx C342 ) ) by L1079 , PBOOLE:def 2;
reconsider D129 = ( C342 . ( indx C342 ) ) as (Subset of ( C300 . ( indx C342 ) )) by L1080 , YELLOW_6:2;
consider C358 being (Element of C299) such that L1081: ( D126 . C358 ) is (Block of ( C300 . C358 )) by L1065;
L1082: 2 c= ( card ( D126 . C358 ) ) by L1081 , L113;
L1083: ( D126 . C358 ) is non  trivial by L1082 , L43;
L1084: C358 = ( indx D126 ) by L1083 , L444;
reconsider D130 = ( D126 . ( indx C342 ) ) as (Block of ( C300 . ( indx C342 ) )) by L1084 , L1073 , L1081;
L1085: D129 is  closed_under_lines by L986;
L1086: D127 in ( product D126 ) by L1067 , L1064 , XBOOLE_0:def 4;
L1087: ( D127 . ( indx C342 ) ) in ( D126 . ( indx C342 ) ) by L1086 , L988 , L1072 , CARD_3:9;
L1088: D128 in ( product D126 ) by L1068 , L1064 , XBOOLE_0:def 4;
L1089: ( D128 . ( indx C342 ) ) in ( D126 . ( indx C342 ) ) by L1088 , L988 , L1072 , CARD_3:9;
L1090: D128 in ( product C342 ) by L985 , L1068 , XBOOLE_0:def 4;
L1091: ( D128 . ( indx C342 ) ) in ( C342 . ( indx C342 ) ) by L1090 , L988 , CARD_3:9;
L1092: ( D128 . ( indx C342 ) ) in ( D130 /\ D129 ) by L1091 , L1089 , XBOOLE_0:def 4;
L1093: D127 in ( product C342 ) by L985 , L1067 , XBOOLE_0:def 4;
L1094:
now
assume L1095: ( D127 . ( indx C342 ) ) = ( D128 . ( indx C342 ) );
L1096: (for B270 being set holds (B270 in ( dom D127 ) implies ( D127 . B270 ) = ( D128 . B270 )))
proof
let C359 being set;
assume L1097: C359 in ( dom D127 );
per cases ;
suppose L1098: C359 <> ( indx C342 );

thus L1099: thesis by L1098 , L1093 , L1090 , L755;
end;
suppose L1100: C359 = ( indx C342 );

thus L1101: thesis by L1100 , L1095;
end;
end;
L1103: ( dom D127 ) = C299 by PARTFUN1:def 2
.= ( dom D128 ) by PARTFUN1:def 2;
thus L1104: contradiction by L1103 , L1069 , L1096 , FUNCT_1:2;
end;
L1105: ( D127 . ( indx C342 ) ) in ( C342 . ( indx C342 ) ) by L988 , L1093 , CARD_3:9;
L1106: ( D127 . ( indx C342 ) ) in ( D130 /\ D129 ) by L1105 , L1087 , XBOOLE_0:def 4;
L1107: 2 c= ( card ( D130 /\ D129 ) ) by L1106 , L1094 , L1092 , L13;
thus L1108: thesis by L1107 , L1078 , L1085 , L108;
end;
end;
thus L1110: thesis by L1074 , L985 , L1064 , L1072 , CARD_3:27;
end;

end;
