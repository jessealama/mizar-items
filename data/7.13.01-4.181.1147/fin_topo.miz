:: Finite Topological Spaces. Finite Topology Concepts and Neighbourhoods
::  by Hiroshi Imura and Masayoshi Eguchi
::
:: Received November 27, 1992
:: Copyright (c) 1992-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, FINSEQ_1, ZFMISC_1, SUBSET_1, XXREAL_0, ARYTM_3,
      PARTFUN1, TARSKI, NAT_1, CARD_1, XBOOLE_0, FINSET_1, FUNCT_1, RELAT_1,
      ORDINAL1, COMPLEX1, ARYTM_1, STRUCT_0, ORDERS_2, EQREL_1, FUNCOP_1,
      FUNCT_2, RELAT_2, SETFAM_1, RCOMP_1, FIN_TOPO;
 notations TARSKI, XBOOLE_0, SUBSET_1, ORDINAL1, CARD_1, NUMBERS, XCMPLX_0,
      FINSET_1, SETFAM_1, EQREL_1, FUNCT_1, PARTFUN1, FUNCT_2, FUNCOP_1,
      DOMAIN_1, RELSET_1, FINSEQ_1, INT_2, NAT_1, XXREAL_0, STRUCT_0, ORDERS_2;
 constructors DOMAIN_1, FUNCOP_1, REAL_1, INT_2, EQREL_1, FINSEQ_4, ORDERS_2,
      SEQ_1, RELSET_1;
 registrations XBOOLE_0, SUBSET_1, ORDINAL1, RELSET_1, FUNCOP_1, XXREAL_0,
      XREAL_0, NAT_1, INT_1, STRUCT_0, FINSET_1;
 requirements REAL, NUMERALS, SUBSET, BOOLE, ARITHM;
 definitions TARSKI, STRUCT_0, ORDINAL1, XBOOLE_0, SUBSET_1, RELAT_2, ORDERS_2,
      RELAT_1, FUNCOP_1, SETFAM_1;
 theorems NAT_1, TARSKI, FUNCOP_1, SUBSET_1, ZFMISC_1, FINSET_1, INT_1, CARD_1,
      FINSEQ_4, FUNCT_1, FUNCT_2, FINSEQ_1, ABSVALUE, RELSET_1, XBOOLE_0,
      XBOOLE_1, MEASURE2, XREAL_1, XXREAL_0, ORDINAL1, RELAT_1, EQREL_1,
      ORDERS_2, PARTFUN1;
 schemes NAT_1, FINSEQ_2, DOMAIN_1;

begin
theorem
L1: (for B1 being set holds (for B2 being (FinSequence of ( bool B1 )) holds ((for B3 being (Element of ( NAT )) holds ((1 <= B3 & B3 < ( len B2 )) implies ( B2 /. B3 ) c= ( B2 /. ( B3 + 1 ) ))) implies (for B4 , B5 being (Element of ( NAT )) holds ((B4 <= B5 & 1 <= B4 & B5 <= ( len B2 )) implies ( B2 /. B4 ) c= ( B2 /. B5 ))))))
proof
let C1 being set;
let C2 being (FinSequence of ( bool C1 ));
assume that
L2: (for B6 being (Element of ( NAT )) holds ((1 <= B6 & B6 < ( len C2 )) implies ( C2 /. B6 ) c= ( C2 /. ( B6 + 1 ) )));
let C3 , C4 being (Element of ( NAT ));
assume that
L3: C3 <= C4
and
L4: 1 <= C3
and
L5: C4 <= ( len C2 );
consider C5 being Nat such that L6: ( C3 + C5 ) = C4 by L3 , NAT_1:10;
defpred S1[ (Element of ( NAT )) ] means (( C3 + $1 ) <= C4 implies ( C2 /. C3 ) c= ( C2 /. ( C3 + $1 ) ));
L7:
now
let C6 being (Element of ( NAT ));
L8: ( ( C3 + C6 ) + 1 ) = ( C3 + ( C6 + 1 ) );
assume L9: S1[ C6 ];
thus L10: S1[ ( C6 + 1 ) ]
proof
L11: ( C3 + C6 ) >= C3 by NAT_1:11;
L12: ( C3 + C6 ) >= 1 by L11 , L4 , XXREAL_0:2;
assume L13: ( C3 + ( C6 + 1 ) ) <= C4;
L14: ( C3 + C6 ) < C4 by L13 , L8 , NAT_1:13;
L15: ( C3 + C6 ) < ( len C2 ) by L14 , L5 , XXREAL_0:2;
L16: ( C2 /. ( C3 + C6 ) ) c= ( C2 /. ( C3 + ( C6 + 1 ) ) ) by L15 , L2 , L8 , L12;
thus L17: thesis by L16 , L8 , L9 , L13 , NAT_1:13 , XBOOLE_1:1;
end;

end;
L11: S1[ ( 0 ) ];
L12: (for B7 being (Element of ( NAT )) holds S1[ B7 ]) from NAT_1:sch 1(L11 , L7);
L13: C5 in ( NAT ) by ORDINAL1:def 12;
thus L14: thesis by L13 , L12 , L6;
end;
theorem
L15: (for B8 being set holds (for B9 being (FinSequence of ( bool B8 )) holds ((for B10 being (Element of ( NAT )) holds ((1 <= B10 & B10 < ( len B9 )) implies ( B9 /. B10 ) c= ( B9 /. ( B10 + 1 ) ))) implies (for B11 , B12 being (Element of ( NAT )) holds ((1 <= B11 & B12 <= ( len B9 ) & ( B9 /. B12 ) c= ( B9 /. B11 )) implies (for B13 being (Element of ( NAT )) holds ((B11 <= B13 & B13 <= B12) implies ( B9 /. B12 ) = ( B9 /. B13 ))))))))
proof
let C7 being set;
let C8 being (FinSequence of ( bool C7 ));
assume that
L16: (for B14 being (Element of ( NAT )) holds ((1 <= B14 & B14 < ( len C8 )) implies ( C8 /. B14 ) c= ( C8 /. ( B14 + 1 ) )));
let C9 , C10 being (Element of ( NAT ));
assume that
L17: 1 <= C9
and
L18: C10 <= ( len C8 )
and
L19: ( C8 /. C10 ) c= ( C8 /. C9 );
let C11 being (Element of ( NAT ));
assume that
L20: C9 <= C11
and
L21: C11 <= C10;
L22: 1 <= C11 by L17 , L20 , XXREAL_0:2;
L23: ( C8 /. C11 ) c= ( C8 /. C10 ) by L22 , L16 , L18 , L21 , L1;
defpred S2[ (Element of ( NAT )) ] means (( C9 + $1 ) <= C10 implies ( C8 /. C10 ) c= ( C8 /. ( C9 + $1 ) ));
L24:
now
let C12 being (Element of ( NAT ));
assume L25: S2[ C12 ];
L26: ( ( C9 + C12 ) + 1 ) = ( C9 + ( C12 + 1 ) );
thus L27: S2[ ( C12 + 1 ) ]
proof
L28: ( C9 + C12 ) >= C9 by NAT_1:11;
L29: ( C9 + C12 ) >= 1 by L28 , L17 , XXREAL_0:2;
assume L30: ( C9 + ( C12 + 1 ) ) <= C10;
L31: ( C9 + C12 ) < C10 by L30 , L26 , NAT_1:13;
L32: ( C9 + C12 ) < ( len C8 ) by L31 , L18 , XXREAL_0:2;
L33: ( C8 /. ( C9 + C12 ) ) c= ( C8 /. ( ( C9 + C12 ) + 1 ) ) by L32 , L16 , L29;
thus L34: thesis by L33 , L25 , L30 , NAT_1:13 , XBOOLE_1:1;
end;

end;
L28: S2[ ( 0 ) ] by L19;
L29: (for B15 being (Element of ( NAT )) holds S2[ B15 ]) from NAT_1:sch 1(L28 , L24);
consider C13 being Nat such that L30: C11 = ( C9 + C13 ) by L20 , NAT_1:10;
reconsider D1 = C13 as (Element of ( NAT )) by ORDINAL1:def 12;
L31: C11 = ( C9 + D1 ) by L30;
L32: ( C8 /. C10 ) c= ( C8 /. C11 ) by L31 , L29 , L21;
thus L33: thesis by L32 , L23 , XBOOLE_0:def 10;
end;
scheme MaxFinSeqEx { F1() -> non  empty set , F2 , F3() -> (Subset of F1()) , F4((Subset of F1())) -> (Subset of F1()) } : (ex B16 being (FinSequence of ( bool F1() )) st (( len B16 ) > ( 0 ) & ( B16 /. 1 ) = F3() & (for B17 being (Element of ( NAT )) holds ((B17 > ( 0 ) & B17 < ( len B16 )) implies ( B16 /. ( B17 + 1 ) ) = F4(( B16 /. B17 )))) & F4(( B16 /. ( len B16 ) )) = ( B16 /. ( len B16 ) ) & (for B18 , B19 being (Element of ( NAT )) holds ((B18 > ( 0 ) & B18 < B19 & B19 <= ( len B16 )) implies (( B16 /. B18 ) c= F2() & ( B16 /. B18 ) c< ( B16 /. B19 ))))))
provided
L34: F2() is  finite
and
L35: F3() c= F2()
and
L36: (for B20 being (Subset of F1()) holds (B20 c= F2() implies (B20 c= F4(B20) & F4(B20) c= F2())))
proof
deffunc H1(Nat , (Subset of F1())) = F4($2);
consider C14 being (Function of ( NAT ) , ( bool F1() )) such that L37: ( C14 . ( 0 ) ) = F3() and L38: (for B21 being Nat holds ( C14 . ( B21 + 1 ) ) = H1(B21 , ( C14 . B21 ))) from NAT_1:sch 12;
defpred S3[ Nat ] means ( C14 . $1 ) c= F2();
L39:
now
let C15 being (Element of ( NAT ));
assume that
L40: S3[ C15 ];
L41: ( C14 . ( C15 + 1 ) ) = F4(( C14 . C15 )) by L38;
thus L42: S3[ ( C15 + 1 ) ] by L41 , L36 , L40;
end;
L43: S3[ ( 0 ) ] by L35 , L37;
L44: (for B22 being (Element of ( NAT )) holds S3[ B22 ]) from NAT_1:sch 1(L43 , L39);
L45: (for B23 being (Element of ( NAT )) holds ( C14 . B23 ) c= ( C14 . ( B23 + 1 ) ))
proof
let C16 being (Element of ( NAT ));
L46: (( C14 . ( C16 + 1 ) ) = F4(( C14 . C16 )) & ( C14 . C16 ) c= F2()) by L38 , L44;
thus L47: thesis by L46 , L36;
end;
L48: ( dom C14 ) = ( NAT ) by FUNCT_2:def 1;
L49: ( rng C14 ) is  c=-linear
proof
let C17 , C18 being set;
assume L50: C17 in ( rng C14 );
consider C19 being set such that L51: C19 in ( NAT ) and L52: C17 = ( C14 . C19 ) by L50 , L48 , FUNCT_1:def 3;
reconsider D2 = C19 as (Element of ( NAT )) by L51;
assume L53: C18 in ( rng C14 );
consider C20 being set such that L54: C20 in ( NAT ) and L55: C18 = ( C14 . C20 ) by L53 , L48 , FUNCT_1:def 3;
reconsider D3 = C20 as (Element of ( NAT )) by L54;
L56: (D2 <= D3 or D3 <= D2);
thus L57: (C17 c= C18 or C18 c= C17) by L56 , L45 , L52 , L55 , MEASURE2:18;
end;
L58: ( rng C14 ) c= ( bool F2() )
proof
let C21 being set;
assume L59: C21 in ( rng C14 );
L60: C21 in ( C14 .: ( NAT ) ) by L59 , RELSET_1:22;
L61: (ex B24 being (Element of ( NAT )) st (B24 in ( NAT ) & ( C14 . B24 ) = C21)) by L60 , FUNCT_2:65;
L62: C21 c= F2() by L61 , L44;
thus L63: thesis by L62;
end;
L64: ( rng C14 ) <> ( {} ) by L37 , L48 , FUNCT_1:def 3;
consider C22 being set such that L65: C22 in ( rng C14 ) and L66: (for B25 being set holds (B25 in ( rng C14 ) implies B25 c= C22)) by L64 , L34 , L58 , L49 , FINSET_1:12;
deffunc H2(Nat) = ( C14 . ( abs ( $1 - 1 ) ) );
defpred S4[ set ] means ($1 in ( NAT ) & ( C14 . $1 ) = C22);
L67: C22 in ( C14 .: ( NAT ) ) by L65 , RELSET_1:22;
L68: (ex B26 being (Element of ( NAT )) st S4[ B26 ]) by L67 , FUNCT_2:65;
L69: (ex B27 being Nat st S4[ B27 ]) by L68;
consider C23 being Nat such that L70: S4[ C23 ] and L71: (for B28 being Nat holds (S4[ B28 ] implies C23 <= B28)) from NAT_1:sch 5(L69);
consider C24 being (FinSequence of ( bool F1() )) such that L72: ( len C24 ) = ( C23 + 1 ) and L73: (for B29 being Nat holds (B29 in ( dom C24 ) implies ( C24 . B29 ) = H2(B29))) from FINSEQ_2:sch 1;
L74: ( ( 0 ) + 1 ) <= ( len C24 ) by L72 , NAT_1:13;
L75: 1 in ( Seg ( C23 + 1 ) ) by L74 , L72 , FINSEQ_1:1;
take C24;
thus L76: ( 0 ) < ( len C24 ) by L72;
L77: ( dom C24 ) = ( Seg ( C23 + 1 ) ) by L72 , FINSEQ_1:def 3;
thus L78: ( C24 /. 1 ) = ( C24 . 1 ) by L74 , FINSEQ_4:15
.= ( C14 . ( abs ( 1 - 1 ) ) ) by L73 , L77 , L75
.= F3() by L37 , ABSVALUE:2;
thus L79: (for B30 being (Element of ( NAT )) holds ((B30 > ( 0 ) & B30 < ( len C24 )) implies ( C24 /. ( B30 + 1 ) ) = F4(( C24 /. B30 ))))
proof
let C25 being (Element of ( NAT ));
assume that
L80: C25 > ( 0 )
and
L81: C25 < ( len C24 );
L82: (( ( 0 ) + 1 ) < ( C25 + 1 ) & ( C25 + 1 ) <= ( C23 + 1 )) by L72 , L80 , L81 , NAT_1:13 , XREAL_1:6;
L83: ( C25 + 1 ) in ( Seg ( C23 + 1 ) ) by L82 , FINSEQ_1:1;
L84: ( ( 0 ) + 1 ) <= C25 by L80 , NAT_1:13;
L85: C25 in ( Seg ( C23 + 1 ) ) by L84 , L72 , L81 , FINSEQ_1:1;
L86: (( C24 . C25 ) = ( C14 . ( abs ( C25 - 1 ) ) ) & C25 in ( dom C24 )) by L85 , L73 , L77;
L87: ( 1 - 1 ) <= ( C25 - 1 ) by L84 , XREAL_1:9;
L88: ( 0 ) <= ( ( C25 - 1 ) * 1 ) by L87;
thus L89: ( C24 /. ( C25 + 1 ) ) = ( C24 . ( C25 + 1 ) ) by L72 , L82 , FINSEQ_4:15
.= ( C14 . ( abs ( ( C25 + 1 ) - 1 ) ) ) by L73 , L77 , L83
.= ( C14 . ( abs ( ( C25 - 1 ) + 1 ) ) )
.= ( C14 . ( ( abs ( C25 - 1 ) ) + ( abs 1 ) ) ) by L88 , ABSVALUE:11
.= ( C14 . ( ( abs ( C25 - 1 ) ) + 1 ) ) by ABSVALUE:def 1
.= F4(( C14 . ( abs ( C25 - 1 ) ) )) by L38
.= F4(( C24 /. C25 )) by L86 , PARTFUN1:def 6;
end;

thus L90: F4(( C24 /. ( len C24 ) )) = ( C24 /. ( len C24 ) )
proof
L91: ( C23 + 1 ) in ( NAT );
L92: ( C23 + 1 ) in ( dom C14 ) by L91 , FUNCT_2:def 1;
L93: ( C14 . ( C23 + 1 ) ) in ( rng C14 ) by L92 , FUNCT_1:def 3;
L94: ( C14 . ( C23 + 1 ) ) c= ( C14 . C23 ) by L93 , L66 , L70;
reconsider D4 = C23 as (Element of ( NAT )) by ORDINAL1:def 12;
L95: C23 in ( NAT ) by ORDINAL1:def 12;
L96: ( C14 . C23 ) c= ( C14 . ( C23 + 1 ) ) by L95 , L45;
L97: (( len C24 ) = ( 0 ) or ( len C24 ) in ( Seg ( len C24 ) )) by FINSEQ_1:3;
L98: ( len C24 ) in ( dom C24 ) by L97 , L72 , FINSEQ_1:def 3;
L99: ( C24 . ( len C24 ) ) = ( C14 . ( abs ( ( C23 + 1 ) - 1 ) ) ) by L72 , L73 , L77 , FINSEQ_1:3
.= ( C14 . C23 ) by ABSVALUE:def 1;
thus L100: F4(( C24 /. ( len C24 ) )) = F4(( C14 . D4 )) by L99 , L98 , PARTFUN1:def 6
.= ( C14 . ( C23 + 1 ) ) by L38
.= ( C24 . ( len C24 ) ) by L96 , L94 , L99 , XBOOLE_0:def 10
.= ( C24 /. ( len C24 ) ) by L98 , PARTFUN1:def 6;
end;

let C26 , C27 being (Element of ( NAT ));
assume that
L101: ( 0 ) < C26
and
L102: C26 < C27
and
L103: C27 <= ( len C24 );
L104: ( ( 0 ) + 1 ) <= C26 by L101 , NAT_1:13;
reconsider D5 = ( C26 - 1 ) as (Element of ( NAT )) by L104 , INT_1:5;
L105: C26 <= ( len C24 ) by L102 , L103 , XXREAL_0:2;
L106: C26 in ( Seg ( C23 + 1 ) ) by L105 , L72 , L104 , FINSEQ_1:1;
L107: ( C24 /. C26 ) = ( C24 . C26 ) by L104 , L105 , FINSEQ_4:15
.= ( C14 . ( abs ( C26 - 1 ) ) ) by L73 , L77 , L106
.= ( C14 . D5 ) by ABSVALUE:def 1;
thus L108: ( C24 /. C26 ) c= F2() by L107 , L44;
L109: (for B31 being (Element of ( NAT )) holds ((1 <= B31 & B31 < ( len C24 )) implies ( C24 /. B31 ) c= ( C24 /. ( B31 + 1 ) )))
proof
let C28 being (Element of ( NAT ));
assume that
L110: 1 <= C28
and
L111: C28 < ( len C24 );
L112: C28 in ( Seg ( C23 + 1 ) ) by L72 , L110 , L111 , FINSEQ_1:1;
L113: ( 1 - 1 ) <= ( C28 - 1 ) by L110 , XREAL_1:9;
L114: ( C28 - 1 ) is (Element of ( NAT )) by L113 , INT_1:3;
L115: (1 <= ( C28 + 1 ) & ( C28 + 1 ) <= ( len C24 )) by L110 , L111 , NAT_1:13;
L116: ( C28 + 1 ) in ( Seg ( C23 + 1 ) ) by L115 , L72 , FINSEQ_1:1;
L117: ( C24 /. ( C28 + 1 ) ) = ( C24 . ( C28 + 1 ) ) by L115 , FINSEQ_4:15
.= ( C14 . ( abs ( ( C28 + 1 ) - 1 ) ) ) by L73 , L77 , L116
.= ( C14 . ( ( C28 - 1 ) + 1 ) ) by ABSVALUE:def 1;
L118: ( C24 /. C28 ) = ( C24 . C28 ) by L110 , L111 , FINSEQ_4:15
.= ( C14 . ( abs ( C28 - 1 ) ) ) by L73 , L77 , L112
.= ( C14 . ( C28 - 1 ) ) by L113 , ABSVALUE:def 1;
thus L119: thesis by L118 , L45 , L117 , L114;
end;
thus L120: ( C24 /. C26 ) c= ( C24 /. C27 ) by L109 , L102 , L103 , L104 , L1;
defpred S5[ (Element of ( NAT )) ] means (( C26 + $1 ) <= ( len C24 ) implies ( C24 /. C26 ) = ( C24 /. ( C26 + $1 ) ));
L121: (C26 <= ( C26 + 1 ) & ( C26 + 1 ) <= C27) by L102 , NAT_1:13;
L122: ( C23 + 1 ) in ( Seg ( C23 + 1 ) ) by FINSEQ_1:4;
L123: ( C23 + 1 ) in ( dom C24 ) by L122 , L72 , FINSEQ_1:def 3;
L124: C26 < ( len C24 ) by L102 , L103 , XXREAL_0:2;
assume L125: ( C24 /. C26 ) = ( C24 /. C27 );
L126: ( C24 /. C26 ) = ( C24 /. ( C26 + 1 ) ) by L125 , L103 , L104 , L109 , L121 , L15
.= F4(( C24 /. C26 )) by L79 , L101 , L124;
L127:
now
let C29 being (Element of ( NAT ));
assume that
L128: S5[ C29 ];
thus L129: S5[ ( C29 + 1 ) ]
proof
assume L130: ( C26 + ( C29 + 1 ) ) <= ( len C24 );
L131: ( ( C26 + C29 ) + 1 ) <= ( len C24 ) by L130;
L132: ( C26 + C29 ) < ( len C24 ) by L131 , NAT_1:13;
thus L133: ( C24 /. C26 ) = ( C24 /. ( ( C26 + C29 ) + 1 ) ) by L132 , L79 , L101 , L126 , L128
.= ( C24 /. ( C26 + ( C29 + 1 ) ) );
end;

end;
consider C30 being Nat such that L130: ( C26 + C30 ) = ( len C24 ) by L102 , L103 , NAT_1:10 , XXREAL_0:2;
reconsider D6 = C30 as (Element of ( NAT )) by ORDINAL1:def 12;
L131: ( C26 + D6 ) = ( len C24 ) by L130;
L132: S5[ ( 0 ) ];
L133: (for B32 being (Element of ( NAT )) holds S5[ B32 ]) from NAT_1:sch 1(L132 , L127);
L134: ( C14 . D5 ) = ( C24 /. ( C23 + 1 ) ) by L133 , L72 , L107 , L131
.= ( C24 . ( C23 + 1 ) ) by L123 , PARTFUN1:def 6
.= ( C14 . ( abs ( ( C23 + 1 ) - 1 ) ) ) by L73 , L77 , FINSEQ_1:4
.= C22 by L70 , ABSVALUE:def 1;
L135: C23 <= D5 by L134 , L71;
L136: ( len C24 ) <= ( D5 + 1 ) by L135 , L72 , XREAL_1:6;
thus L137: contradiction by L136 , L102 , L103 , XXREAL_0:2;
end;
registration
cluster non  empty  strict for RelStr;
existence
proof
set D7 = the non  empty set;
set D8 = the (Relation of D7);
take RelStr (# D7 , D8 #);
thus L138: (the carrier of RelStr (# D7 , D8 #)) is non  empty;
thus L139: thesis;
end;
end;
definition
let C31 being RelStr;
let C32 being (Element of C31);
func U_FT C32 -> (Subset of C31) equals 
( Class ((the InternalRel of C31) , C32) );
coherence;
end;
definition
let C33 being set;
let C34 being (Subset of { C33 });
redefine func C33 .--> C34 -> (Function of { C33 } , ( bool { C33 } ));

coherence
proof
L142: ( dom ( C33 .--> C34 ) ) = { C33 } by FUNCOP_1:13;
L143: ( rng ( C33 .--> C34 ) ) = { C34 } by FUNCOP_1:8;
reconsider D9 = ( C33 .--> C34 ) as (Relation of { C33 } , ( bool { C33 } )) by L143 , L142 , RELSET_1:4;
L144: D9 is  quasi_total by L142 , FUNCT_2:def 1;
thus L145: thesis by L144;
end;
end;
definition
let C35 being set;
func SinglRel C35 -> (Relation of { C35 }) equals 
{ [ C35 , C35 ] };
coherence
proof
L147: C35 in { C35 } by TARSKI:def 1;
thus L148: thesis by L147 , RELSET_1:3;
end;
end;
definition
func FT{0} ->  strict RelStr equals 
RelStr (# { ( 0 ) } , ( SinglRel ( 0 ) ) #);
coherence;
end;
registration
cluster ( FT{0} ) -> non  empty;
coherence;
end;
notation
let C36 being non  empty RelStr;
synonym C36 is  filled for C36 is  reflexive;
end;
definition
let C37 being non  empty RelStr;
redefine attr C37 is  filled
means
:L153: (for B33 being (Element of C37) holds B33 in ( U_FT B33 ));
compatibility
proof
thus L154: (C37 is  filled implies (for B34 being (Element of C37) holds B34 in ( U_FT B34 )))
proof
assume L155: C37 is  filled;
let C38 being (Element of C37);
L156: C38 <= C38 by L155 , ORDERS_2:1;
L157: [ C38 , C38 ] in (the InternalRel of C37) by L156 , ORDERS_2:def 5;
thus L158: thesis by L157 , EQREL_1:18;
end;

assume L159: (for B35 being (Element of C37) holds B35 in ( U_FT B35 ));
let C39 being set;
assume L160: C39 in (the carrier of C37);
reconsider D10 = C39 as (Element of C37) by L160;
L161: D10 in ( U_FT D10 ) by L159;
thus L162: thesis by L161 , EQREL_1:18;
end;
end;
theorem
L164: ( FT{0} ) is  filled
proof
let C40 being (Element of ( FT{0} ));
L165: (C40 = ( 0 ) & [ ( 0 ) , ( 0 ) ] in ( SinglRel ( 0 ) )) by TARSKI:def 1;
thus L166: thesis by L165 , RELAT_1:def 13;
end;
registration
cluster ( FT{0} ) ->  filled  finite;
coherence by L164;
end;
registration
cluster  finite  filled  strict for non  empty non  empty non  empty non  empty RelStr;
existence by L164;
end;
theorem
L169: (for B36 being  filled non  empty RelStr holds { ( U_FT B37 ) where B37 is (Element of B36) : (not contradiction) } is (Cover of B36))
proof
let C41 being  filled non  empty RelStr;
let C42 being set;
assume L170: C42 in (the carrier of C41);
reconsider D11 = C42 as (Element of C41) by L170;
L171: (D11 in ( U_FT D11 ) & ( U_FT D11 ) in { ( U_FT B38 ) where B38 is (Element of C41) : (not contradiction) }) by L153;
thus L172: thesis by L171 , TARSKI:def 4;
end;
definition
let R1 being non  empty RelStr;
let C43 being (Subset of R1);
func C43 ^delta -> (Subset of R1) equals 
{ R2 where R2 is (Element of R1) : (( U_FT R2 ) meets C43 & ( U_FT R2 ) meets ( C43 ` )) };
coherence
proof
defpred S6[ (Element of R1) ] means (( U_FT $1 ) meets C43 & ( U_FT $1 ) meets ( C43 ` ));
L173: { R2 where R2 is (Element of R1) : S6[ R2 ] } is (Subset of R1) from DOMAIN_1:sch 7;
thus L174: thesis by L173;
end;
end;
theorem
L176: (for R1 being non  empty RelStr holds (for R2 being (Element of R1) holds (for R5 being (Subset of R1) holds (R2 in ( R5 ^delta ) iff (( U_FT R2 ) meets R5 & ( U_FT R2 ) meets ( R5 ` ))))))
proof
let R1 being non  empty RelStr;
let R2 being (Element of R1);
let R5 being (Subset of R1);
thus L177: (R2 in ( R5 ^delta ) implies (( U_FT R2 ) meets R5 & ( U_FT R2 ) meets ( R5 ` )))
proof
assume L178: R2 in ( R5 ^delta );
L179: (ex R3 being (Element of R1) st (R3 = R2 & ( U_FT R3 ) meets R5 & ( U_FT R3 ) meets ( R5 ` ))) by L178;
thus L180: thesis by L179;
end;

assume L181: (( U_FT R2 ) meets R5 & ( U_FT R2 ) meets ( R5 ` ));
thus L182: thesis by L181;
end;
definition
let R1 being non  empty RelStr;
let C44 being (Subset of R1);
func C44 ^deltai -> (Subset of R1) equals 
( C44 /\ ( C44 ^delta ) );
coherence;
func C44 ^deltao -> (Subset of R1) equals 
( ( C44 ` ) /\ ( C44 ^delta ) );
coherence;
end;
theorem
L184: (for R1 being non  empty RelStr holds (for R5 being (Subset of R1) holds ( R5 ^delta ) = ( ( R5 ^deltai ) \/ ( R5 ^deltao ) )))
proof
let R1 being non  empty RelStr;
let R5 being (Subset of R1);
L185: (for B39 being set holds (B39 in ( R5 ^delta ) iff B39 in ( ( R5 ^deltai ) \/ ( R5 ^deltao ) )))
proof
let C45 being set;
thus L186: (C45 in ( R5 ^delta ) implies C45 in ( ( R5 ^deltai ) \/ ( R5 ^deltao ) ))
proof
assume L187: C45 in ( R5 ^delta );
L188: C45 in ( ( [#] (the carrier of R1) ) /\ ( R5 ^delta ) ) by L187 , XBOOLE_1:28;
L189: C45 in ( ( R5 \/ ( R5 ` ) ) /\ ( R5 ^delta ) ) by L188 , SUBSET_1:10;
thus L190: thesis by L189 , XBOOLE_1:23;
end;

assume L191: C45 in ( ( R5 ^deltai ) \/ ( R5 ^deltao ) );
L192: C45 in ( ( R5 \/ ( R5 ` ) ) /\ ( R5 ^delta ) ) by L191 , XBOOLE_1:23;
L193: C45 in ( ( [#] (the carrier of R1) ) /\ ( R5 ^delta ) ) by L192 , SUBSET_1:10;
thus L194: thesis by L193 , XBOOLE_1:28;
end;
thus L195: thesis by L185 , TARSKI:1;
end;
definition
let R1 being non  empty RelStr;
let C46 being (Subset of R1);
func C46 ^i -> (Subset of R1) equals 
{ R2 where R2 is (Element of R1) : ( U_FT R2 ) c= C46 };
coherence
proof
defpred S7[ (Element of R1) ] means ( U_FT $1 ) c= C46;
L196: { R2 where R2 is (Element of R1) : S7[ R2 ] } is (Subset of R1) from DOMAIN_1:sch 7;
thus L197: thesis by L196;
end;
func C46 ^b -> (Subset of R1) equals 
{ R2 where R2 is (Element of R1) : ( U_FT R2 ) meets C46 };
coherence
proof
defpred S8[ (Element of R1) ] means ( U_FT $1 ) meets C46;
L198: { R2 where R2 is (Element of R1) : S8[ R2 ] } is (Subset of R1) from DOMAIN_1:sch 7;
thus L199: thesis by L198;
end;
func C46 ^s -> (Subset of R1) equals 
{ R2 where R2 is (Element of R1) : (R2 in C46 & ( ( U_FT R2 ) \ { R2 } ) misses C46) };
coherence
proof
defpred S9[ (Element of R1) ] means ($1 in C46 & ( ( U_FT $1 ) \ { $1 } ) misses C46);
L200: { R2 where R2 is (Element of R1) : S9[ R2 ] } is (Subset of R1) from DOMAIN_1:sch 7;
thus L201: thesis by L200;
end;
end;
definition
let R1 being non  empty RelStr;
let C47 being (Subset of R1);
func C47 ^n -> (Subset of R1) equals 
( C47 \ ( C47 ^s ) );
coherence;
func C47 ^f -> (Subset of R1) equals 
{ R2 where R2 is (Element of R1) : (ex R3 being (Element of R1) st (R3 in C47 & R2 in ( U_FT R3 ))) };
coherence
proof
defpred S10[ (Element of R1) ] means (ex R3 being (Element of R1) st (R3 in C47 & $1 in ( U_FT R3 )));
L203: { R2 where R2 is (Element of R1) : S10[ R2 ] } is (Subset of R1) from DOMAIN_1:sch 7;
thus L204: thesis by L203;
end;
end;
definition
let C48 being non  empty RelStr;
attr C48 is  symmetric
means
:L206: (for B40 , B41 being (Element of C48) holds (B41 in ( U_FT B40 ) implies B40 in ( U_FT B41 )));
end;
theorem
L208: (for R1 being non  empty RelStr holds (for R2 being (Element of R1) holds (for R5 being (Subset of R1) holds (R2 in ( R5 ^i ) iff ( U_FT R2 ) c= R5))))
proof
let R1 being non  empty RelStr;
let R2 being (Element of R1);
let R5 being (Subset of R1);
thus L209: (R2 in ( R5 ^i ) implies ( U_FT R2 ) c= R5)
proof
assume L210: R2 in ( R5 ^i );
L211: (ex R3 being (Element of R1) st (R3 = R2 & ( U_FT R3 ) c= R5)) by L210;
thus L212: thesis by L211;
end;

assume L213: ( U_FT R2 ) c= R5;
thus L214: thesis by L213;
end;
theorem
L215: (for R1 being non  empty RelStr holds (for R2 being (Element of R1) holds (for R5 being (Subset of R1) holds (R2 in ( R5 ^b ) iff ( U_FT R2 ) meets R5))))
proof
let R1 being non  empty RelStr;
let R2 being (Element of R1);
let R5 being (Subset of R1);
thus L216: (R2 in ( R5 ^b ) implies ( U_FT R2 ) meets R5)
proof
assume L217: R2 in ( R5 ^b );
L218: (ex R3 being (Element of R1) st (R3 = R2 & ( U_FT R3 ) meets R5)) by L217;
thus L219: thesis by L218;
end;

assume L220: ( U_FT R2 ) meets R5;
thus L221: thesis by L220;
end;
theorem
L222: (for R1 being non  empty RelStr holds (for R2 being (Element of R1) holds (for R5 being (Subset of R1) holds (R2 in ( R5 ^s ) iff (R2 in R5 & ( ( U_FT R2 ) \ { R2 } ) misses R5)))))
proof
let R1 being non  empty RelStr;
let R2 being (Element of R1);
let R5 being (Subset of R1);
thus L223: (R2 in ( R5 ^s ) implies (R2 in R5 & ( ( U_FT R2 ) \ { R2 } ) misses R5))
proof
assume L224: R2 in ( R5 ^s );
L225: (ex R3 being (Element of R1) st (R3 = R2 & R3 in R5 & ( ( U_FT R3 ) \ { R3 } ) misses R5)) by L224;
thus L226: thesis by L225;
end;

assume L227: (R2 in R5 & ( ( U_FT R2 ) \ { R2 } ) misses R5);
thus L228: thesis by L227;
end;
theorem
L229: (for R1 being non  empty RelStr holds (for R2 being (Element of R1) holds (for R5 being (Subset of R1) holds (R2 in ( R5 ^n ) iff (R2 in R5 & ( ( U_FT R2 ) \ { R2 } ) meets R5)))))
proof
let R1 being non  empty RelStr;
let R2 being (Element of R1);
let R5 being (Subset of R1);
thus L230: (R2 in ( R5 ^n ) implies (R2 in R5 & ( ( U_FT R2 ) \ { R2 } ) meets R5))
proof
assume L231: R2 in ( R5 ^n );
L232: (R2 in R5 & (not R2 in ( R5 ^s ))) by L231 , XBOOLE_0:def 5;
thus L233: thesis by L232;
end;

assume that
L234: R2 in R5
and
L235: ( ( U_FT R2 ) \ { R2 } ) meets R5;
L236: (not R2 in ( R5 ^s )) by L235 , L222;
thus L237: thesis by L236 , L234 , XBOOLE_0:def 5;
end;
theorem
L238: (for R1 being non  empty RelStr holds (for R2 being (Element of R1) holds (for R5 being (Subset of R1) holds (R2 in ( R5 ^f ) iff (ex R3 being (Element of R1) st (R3 in R5 & R2 in ( U_FT R3 )))))))
proof
let R1 being non  empty RelStr;
let R2 being (Element of R1);
let R5 being (Subset of R1);
thus L239: (R2 in ( R5 ^f ) implies (ex R3 being (Element of R1) st (R3 in R5 & R2 in ( U_FT R3 ))))
proof
assume L240: R2 in ( R5 ^f );
L241: (ex R3 being (Element of R1) st (R3 = R2 & (ex R4 being (Element of R1) st (R4 in R5 & R3 in ( U_FT R4 ))))) by L240;
thus L242: thesis by L241;
end;

assume L243: (ex R4 being (Element of R1) st (R4 in R5 & R2 in ( U_FT R4 )));
thus L244: thesis by L243;
end;
theorem
L245: (for R1 being non  empty RelStr holds (R1 is  symmetric iff (for R5 being (Subset of R1) holds ( R5 ^b ) = ( R5 ^f ))))
proof
let R1 being non  empty RelStr;
thus L246: (R1 is  symmetric implies (for R5 being (Subset of R1) holds ( R5 ^b ) = ( R5 ^f )))
proof
assume L247: R1 is  symmetric;
let C49 being (Subset of R1);
thus L248: ( C49 ^b ) c= ( C49 ^f )
proof
let C50 being set;
assume L249: C50 in ( C49 ^b );
reconsider D12 = C50 as (Element of R1) by L249;
L250: ( U_FT D12 ) meets C49 by L249 , L215;
consider C51 being set such that L251: C51 in ( ( U_FT D12 ) /\ C49 ) by L250 , XBOOLE_0:4;
reconsider D13 = C51 as (Element of R1) by L251;
L252: D13 in ( U_FT D12 ) by L251 , XBOOLE_0:def 4;
L253: D12 in ( U_FT D13 ) by L252 , L247 , L206;
L254: D13 in C49 by L251 , XBOOLE_0:def 4;
thus L255: thesis by L254 , L253;
end;

let C52 being set;
assume L256: C52 in ( C49 ^f );
reconsider D14 = C52 as (Element of R1) by L256;
consider R4 being (Element of R1) such that L257: R4 in C49 and L258: D14 in ( U_FT R4 ) by L256 , L238;
L259: R4 in ( U_FT D14 ) by L247 , L258 , L206;
L260: ( U_FT D14 ) meets C49 by L259 , L257 , XBOOLE_0:3;
thus L261: thesis by L260;
end;

assume L262: (for B42 being (Subset of R1) holds ( B42 ^b ) = ( B42 ^f ));
let C53 , C54 being (Element of R1);
assume L263: C54 in ( U_FT C53 );
L264: ( U_FT C53 ) meets { C54 } by L263 , ZFMISC_1:48;
L265: C53 in ( { C54 } ^b ) by L264;
L266: C53 in ( { C54 } ^f ) by L265 , L262;
L267: (ex R4 being (Element of R1) st (R4 in { C54 } & C53 in ( U_FT R4 ))) by L266 , L238;
thus L268: thesis by L267 , TARSKI:def 1;
end;
definition
let R1 being non  empty RelStr;
let C55 being (Subset of R1);
attr C55 is  open
means
:L269: C55 = ( C55 ^i );
attr C55 is  closed
means
:L270: C55 = ( C55 ^b );
attr C55 is  connected
means
:L271: (for B43 , B44 being (Subset of R1) holds ((C55 = ( B43 \/ B44 ) & B43 <> ( {} ) & B44 <> ( {} ) & B43 misses B44) implies ( B43 ^b ) meets B44));
end;
definition
let R1 being non  empty RelStr;
let C56 being (Subset of R1);
func C56 ^fb -> (Subset of R1) equals 
( meet { R6 where R6 is (Subset of R1) : (C56 c= R6 & R6 is  closed) } );
coherence
proof
set D15 = { R6 where R6 is (Subset of R1) : (C56 c= R6 & R6 is  closed) };
L273: D15 c= ( bool (the carrier of R1) )
proof
let C57 being set;
assume L274: C57 in D15;
L275: (ex R6 being (Subset of R1) st (C57 = R6 & C56 c= R6 & R6 is  closed)) by L274;
thus L276: thesis by L275;
end;
reconsider D16 = D15 as (Subset-Family of R1) by L273;
L277: ( meet D16 ) is (Subset of R1);
thus L278: thesis by L277;
end;
func C56 ^fi -> (Subset of R1) equals 
( union { R6 where R6 is (Subset of R1) : (C56 c= R6 & R6 is  open) } );
coherence
proof
set D17 = { R6 where R6 is (Subset of R1) : (C56 c= R6 & R6 is  open) };
L279: D17 c= ( bool (the carrier of R1) )
proof
let C58 being set;
assume L280: C58 in D17;
L281: (ex R6 being (Subset of R1) st (C58 = R6 & C56 c= R6 & R6 is  open)) by L280;
thus L282: thesis by L281;
end;
reconsider D18 = D17 as (Subset-Family of R1) by L279;
L283: ( union D18 ) is (Subset of R1);
thus L284: thesis by L283;
end;
end;
theorem
L286: (for B45 being  filled non  empty RelStr holds (for B46 being (Subset of B45) holds B46 c= ( B46 ^b )))
proof
let C59 being  filled non  empty RelStr;
let C60 being (Subset of C59);
let C61 being set;
assume L287: C61 in C60;
reconsider D19 = C61 as (Element of C59) by L287;
L288: D19 in ( U_FT D19 ) by L153;
L289: ( U_FT D19 ) meets C60 by L288 , L287 , XBOOLE_0:3;
thus L290: thesis by L289;
end;
theorem
L291: (for B47 being non  empty RelStr holds (for B48 , B49 being (Subset of B47) holds (B48 c= B49 implies ( B48 ^b ) c= ( B49 ^b ))))
proof
let C62 being non  empty RelStr;
let C63 , C64 being (Subset of C62);
assume L292: C63 c= C64;
let C65 being set;
assume L293: C65 in ( C63 ^b );
reconsider D20 = C65 as (Element of C62) by L293;
L294: ( U_FT D20 ) meets C63 by L293 , L215;
L295: (ex B50 being set st (B50 in ( U_FT D20 ) & B50 in C63)) by L294 , XBOOLE_0:3;
L296: ( U_FT D20 ) meets C64 by L295 , L292 , XBOOLE_0:3;
thus L297: thesis by L296;
end;
theorem
L298: (for B51 being  filled  finite non  empty RelStr holds (for B52 being (Subset of B51) holds (B52 is  connected iff (for B53 being (Element of B51) holds (B53 in B52 implies (ex B54 being (FinSequence of ( bool (the carrier of B51) )) st (( len B54 ) > ( 0 ) & ( B54 /. 1 ) = { B53 } & (for B55 being (Element of ( NAT )) holds ((B55 > ( 0 ) & B55 < ( len B54 )) implies ( B54 /. ( B55 + 1 ) ) = ( ( ( B54 /. B55 ) ^b ) /\ B52 ))) & B52 c= ( B54 /. ( len B54 ) ))))))))
proof
let C66 being  filled  finite non  empty RelStr;
let C67 being (Subset of C66);
thus L299: (C67 is  connected implies (for B56 being (Element of C66) holds (B56 in C67 implies (ex B57 being (FinSequence of ( bool (the carrier of C66) )) st (( len B57 ) > ( 0 ) & ( B57 /. 1 ) = { B56 } & (for B58 being (Element of ( NAT )) holds ((B58 > ( 0 ) & B58 < ( len B57 )) implies ( B57 /. ( B58 + 1 ) ) = ( ( ( B57 /. B58 ) ^b ) /\ C67 ))) & C67 c= ( B57 /. ( len B57 ) ))))))
proof
deffunc H3((Subset of C66)) = ( ( $1 ^b ) /\ C67 );
assume L300: C67 is  connected;
let C68 being (Element of C66);
assume L301: C68 in C67;
L302: { C68 } c= C67 by L301 , ZFMISC_1:31;
L303: (for B59 being (Subset of C66) holds (B59 c= C67 implies (B59 c= H3(B59) & H3(B59) c= C67)))
proof
let C69 being (Subset of C66);
assume that
L304: C69 c= C67;
L305: C69 c= ( C69 ^b ) by L286;
thus L306: C69 c= ( ( C69 ^b ) /\ C67 ) by L305 , L304 , XBOOLE_1:19;
thus L307: thesis by XBOOLE_1:17;
end;
L308: C67 is  finite;
consider C70 being (FinSequence of ( bool (the carrier of C66) )) such that L309: ( len C70 ) > ( 0 ) and L310: ( C70 /. 1 ) = { C68 } and L311: (for B60 being (Element of ( NAT )) holds ((B60 > ( 0 ) & B60 < ( len C70 )) implies ( C70 /. ( B60 + 1 ) ) = H3(( C70 /. B60 )))) and L312: H3(( C70 /. ( len C70 ) )) = ( C70 /. ( len C70 ) ) and L313: (for B61 , B62 being (Element of ( NAT )) holds ((B61 > ( 0 ) & B61 < B62 & B62 <= ( len C70 )) implies (( C70 /. B61 ) c= C67 & ( C70 /. B61 ) c< ( C70 /. B62 )))) from MaxFinSeqEx(L308 , L302 , L303);
consider C71 being Nat such that L314: ( len C70 ) = ( C71 + 1 ) by L309 , NAT_1:6;
set D21 = ( C70 /. ( len C70 ) );
set D22 = ( C67 \ D21 );
L315: D21 misses ( C67 \ D21 ) by XBOOLE_1:79;
defpred S11[ (Element of ( NAT )) ] means ($1 < ( len C70 ) implies ( C70 /. ( $1 + 1 ) ) <> ( {} ));
L316:
now
let C72 being (Element of ( NAT ));
assume L317: S11[ C72 ];
thus L318: S11[ ( C72 + 1 ) ]
proof
assume L319: ( C72 + 1 ) < ( len C70 );
L320: (( C72 + 1 ) < ( ( C72 + 1 ) + 1 ) & ( ( C72 + 1 ) + 1 ) <= ( len C70 )) by L319 , NAT_1:13;
L321: ( C70 /. ( C72 + 1 ) ) c< ( C70 /. ( ( C72 + 1 ) + 1 ) ) by L320 , L313;
L322: ( C70 /. ( C72 + 1 ) ) c= ( C70 /. ( ( C72 + 1 ) + 1 ) ) by L321 , XBOOLE_0:def 8;
thus L323: thesis by L322 , L317 , L319 , NAT_1:13;
end;

end;
L319: S11[ ( 0 ) ] by L310;
L320: (for B63 being (Element of ( NAT )) holds S11[ B63 ]) from NAT_1:sch 1(L319 , L316);
reconsider D23 = C71 as (Element of ( NAT )) by ORDINAL1:def 12;
L321: D23 < ( len C70 ) by L314 , NAT_1:13;
L322: D21 <> ( {} ) by L321 , L320 , L314;
take C70;
thus L323: ( len C70 ) > ( 0 ) by L309;
thus L324: ( C70 /. 1 ) = { C68 } by L310;
thus L325: (for B64 being (Element of ( NAT )) holds ((B64 > ( 0 ) & B64 < ( len C70 )) implies ( C70 /. ( B64 + 1 ) ) = ( ( ( C70 /. B64 ) ^b ) /\ C67 ))) by L311;
assume L326: (not C67 c= ( C70 /. ( len C70 ) ));
L327: D22 <> ( {} ) by L326 , XBOOLE_1:37;
L328: ( ( D21 ^b ) /\ D22 ) = ( ( D21 ^b ) /\ ( C67 /\ ( C67 \ D21 ) ) ) by XBOOLE_1:28 , XBOOLE_1:36
.= ( D21 /\ ( C67 \ D21 ) ) by L312 , XBOOLE_1:16
.= ( {} ) by L315 , XBOOLE_0:def 7;
L329: (D21 misses D22 & ( D21 ^b ) misses D22) by L328 , XBOOLE_0:def 7 , XBOOLE_1:79;
L330: ( D21 \/ D22 ) = ( D21 \/ C67 ) by XBOOLE_1:39
.= C67 by L312 , XBOOLE_1:12 , XBOOLE_1:17;
thus L331: contradiction by L330 , L300 , L327 , L322 , L329 , L271;
end;

assume L332: (for B65 being (Element of C66) holds (B65 in C67 implies (ex B66 being (FinSequence of ( bool (the carrier of C66) )) st (( len B66 ) > ( 0 ) & ( B66 /. 1 ) = { B65 } & (for B67 being (Element of ( NAT )) holds ((B67 > ( 0 ) & B67 < ( len B66 )) implies ( B66 /. ( B67 + 1 ) ) = ( ( ( B66 /. B67 ) ^b ) /\ C67 ))) & C67 c= ( B66 /. ( len B66 ) )))));
given C73 , C74 being (Subset of C66) such that
L333: C67 = ( C73 \/ C74 )
and
L334: C73 <> ( {} )
and
L335: C74 <> ( {} )
and
L336: C73 misses C74
and
L337: ( C73 ^b ) misses C74;

set D24 = the (Element of C73);
L338: D24 in C67 by L333 , L334 , XBOOLE_0:def 3;
consider C75 being (FinSequence of ( bool (the carrier of C66) )) such that L339: ( len C75 ) > ( 0 ) and L340: ( C75 /. 1 ) = { D24 } and L341: (for B68 being (Element of ( NAT )) holds ((B68 > ( 0 ) & B68 < ( len C75 )) implies ( C75 /. ( B68 + 1 ) ) = ( ( ( C75 /. B68 ) ^b ) /\ C67 ))) and L342: C67 c= ( C75 /. ( len C75 ) ) by L338 , L332;
consider C76 being Nat such that L343: ( len C75 ) = ( C76 + 1 ) by L339 , NAT_1:6;
defpred S12[ (Element of ( NAT )) ] means ($1 < ( len C75 ) implies ( C75 /. ( $1 + 1 ) ) c= C73);
L344: ( ( C73 ^b ) /\ C74 ) = ( {} ) by L337 , XBOOLE_0:def 7;
L345: ( ( C73 ^b ) /\ C67 ) = ( ( ( C73 ^b ) /\ C73 ) \/ ( {} ) ) by L344 , L333 , XBOOLE_1:23
.= C73 by L286 , XBOOLE_1:28;
L346:
now
let C77 being (Element of ( NAT ));
assume L347: S12[ C77 ];
thus L348: S12[ ( C77 + 1 ) ]
proof
assume L349: ( C77 + 1 ) < ( len C75 );
L350: ( ( C75 /. ( C77 + 1 ) ) ^b ) c= ( C73 ^b ) by L349 , L347 , L291 , NAT_1:13;
L351: ( ( ( C75 /. ( C77 + 1 ) ) ^b ) /\ C67 ) c= ( ( C73 ^b ) /\ C67 ) by L350 , XBOOLE_1:26;
thus L352: thesis by L351 , L345 , L341 , L349;
end;

end;
L349: S12[ ( 0 ) ] by L334 , L340 , ZFMISC_1:31;
L350: (for B69 being (Element of ( NAT )) holds S12[ B69 ]) from NAT_1:sch 1(L349 , L346);
reconsider D25 = C76 as (Element of ( NAT )) by ORDINAL1:def 12;
L351: D25 < ( len C75 ) by L343 , NAT_1:13;
L352: ( C75 /. ( len C75 ) ) c= C73 by L351 , L350 , L343;
L353: C73 c= C67 by L333 , XBOOLE_1:7;
L354: ( C75 /. ( len C75 ) ) c= C67 by L353 , L352 , XBOOLE_1:1;
L355: ( C75 /. ( len C75 ) ) = C67 by L354 , L342 , XBOOLE_0:def 10;
L356: C67 = C73 by L355 , L353 , L352 , XBOOLE_0:def 10;
L357: ( C73 /\ C74 ) = ( {} ) by L336 , XBOOLE_0:def 7;
thus L358: contradiction by L357 , L333 , L335 , L356 , XBOOLE_1:7 , XBOOLE_1:28;
end;
theorem
L359: (for R1 being non  empty RelStr holds (for R5 being (Subset of R1) holds ( ( ( R5 ` ) ^i ) ` ) = ( R5 ^b )))
proof
let R1 being non  empty RelStr;
let R5 being (Subset of R1);
L360: (for B70 being set holds (B70 in ( ( ( R5 ` ) ^i ) ` ) iff B70 in ( R5 ^b )))
proof
let C78 being set;
thus L361: (C78 in ( ( ( R5 ` ) ^i ) ` ) implies C78 in ( R5 ^b ))
proof
assume L362: C78 in ( ( ( R5 ` ) ^i ) ` );
reconsider D26 = C78 as (Element of R1) by L362;
L363: (not D26 in ( ( R5 ` ) ^i )) by L362 , XBOOLE_0:def 5;
L364: (not ( U_FT D26 ) c= ( R5 ` )) by L363;
consider C79 being set such that L365: C79 in ( U_FT D26 ) and L366: (not C79 in ( R5 ` )) by L364 , TARSKI:def 3;
L367: C79 in R5 by L365 , L366 , SUBSET_1:29;
L368: ( U_FT D26 ) meets R5 by L367 , L365 , XBOOLE_0:3;
thus L369: thesis by L368;
end;

assume L370: C78 in ( R5 ^b );
reconsider D27 = C78 as (Element of R1) by L370;
L371: ( U_FT D27 ) meets R5 by L370 , L215;
L372: (ex B71 being set st (B71 in ( U_FT D27 ) & B71 in R5)) by L371 , XBOOLE_0:3;
L373: (not ( U_FT D27 ) c= ( R5 ` )) by L372 , XBOOLE_0:def 5;
L374: (not D27 in ( ( R5 ` ) ^i )) by L373 , L208;
thus L375: thesis by L374 , SUBSET_1:29;
end;
thus L376: thesis by L360 , TARSKI:1;
end;
theorem
L377: (for R1 being non  empty RelStr holds (for R5 being (Subset of R1) holds ( ( ( R5 ` ) ^b ) ` ) = ( R5 ^i )))
proof
let R1 being non  empty RelStr;
let R5 being (Subset of R1);
L378: (for B72 being set holds (B72 in ( ( ( R5 ` ) ^b ) ` ) iff B72 in ( R5 ^i )))
proof
let C80 being set;
thus L379: (C80 in ( ( ( R5 ` ) ^b ) ` ) implies C80 in ( R5 ^i ))
proof
assume L380: C80 in ( ( ( R5 ` ) ^b ) ` );
reconsider D28 = C80 as (Element of R1) by L380;
L381: (not D28 in ( ( R5 ` ) ^b )) by L380 , XBOOLE_0:def 5;
L382: ( U_FT D28 ) misses ( R5 ` ) by L381;
L383: ( ( U_FT D28 ) /\ ( R5 ` ) ) = ( {} ) by L382 , XBOOLE_0:def 7;
L384: ( ( U_FT D28 ) \ R5 ) = ( {} ) by L383 , SUBSET_1:13;
L385: ( U_FT D28 ) c= R5 by L384 , XBOOLE_1:37;
thus L386: thesis by L385;
end;

assume L387: C80 in ( R5 ^i );
reconsider D29 = C80 as (Element of R1) by L387;
L388: ( U_FT D29 ) c= R5 by L387 , L208;
L389: ( ( U_FT D29 ) \ R5 ) = ( {} ) by L388 , XBOOLE_1:37;
L390: ( ( U_FT D29 ) /\ ( R5 ` ) ) = ( {} ) by L389 , SUBSET_1:13;
L391: ( U_FT D29 ) misses ( R5 ` ) by L390 , XBOOLE_0:def 7;
L392: (not D29 in ( ( R5 ` ) ^b )) by L391 , L215;
thus L393: thesis by L392 , SUBSET_1:29;
end;
thus L394: thesis by L378 , TARSKI:1;
end;
theorem
L395: (for R1 being non  empty RelStr holds (for R5 being (Subset of R1) holds ( R5 ^delta ) = ( ( R5 ^b ) /\ ( ( R5 ` ) ^b ) )))
proof
let R1 being non  empty RelStr;
let R5 being (Subset of R1);
L396: (for B73 being set holds (B73 in ( R5 ^delta ) iff B73 in ( ( R5 ^b ) /\ ( ( R5 ` ) ^b ) )))
proof
let C81 being set;
thus L397: (C81 in ( R5 ^delta ) implies C81 in ( ( R5 ^b ) /\ ( ( R5 ` ) ^b ) ))
proof
assume L398: C81 in ( R5 ^delta );
reconsider D30 = C81 as (Element of R1) by L398;
L399: ( U_FT D30 ) meets ( R5 ` ) by L398 , L176;
L400: C81 in ( ( R5 ` ) ^b ) by L399;
L401: ( U_FT D30 ) meets R5 by L398 , L176;
L402: C81 in ( R5 ^b ) by L401;
thus L403: thesis by L402 , L400 , XBOOLE_0:def 4;
end;

assume L404: C81 in ( ( R5 ^b ) /\ ( ( R5 ` ) ^b ) );
reconsider D31 = C81 as (Element of R1) by L404;
L405: C81 in ( ( R5 ` ) ^b ) by L404 , XBOOLE_0:def 4;
L406: ( U_FT D31 ) meets ( R5 ` ) by L405 , L215;
L407: C81 in ( R5 ^b ) by L404 , XBOOLE_0:def 4;
L408: ( U_FT D31 ) meets R5 by L407 , L215;
thus L409: thesis by L408 , L406;
end;
thus L410: thesis by L396 , TARSKI:1;
end;
theorem
L411: (for R1 being non  empty RelStr holds (for R5 being (Subset of R1) holds ( ( R5 ` ) ^delta ) = ( R5 ^delta )))
proof
let R1 being non  empty RelStr;
let R5 being (Subset of R1);
L412: (for B74 being set holds (B74 in ( ( R5 ` ) ^delta ) iff B74 in ( R5 ^delta )))
proof
let C82 being set;
thus L413: (C82 in ( ( R5 ` ) ^delta ) implies C82 in ( R5 ^delta ))
proof
assume L414: C82 in ( ( R5 ` ) ^delta );
reconsider D32 = C82 as (Element of R1) by L414;
L415: (( U_FT D32 ) meets ( R5 ` ) & ( U_FT D32 ) meets ( ( R5 ` ) ` )) by L414 , L176;
thus L416: thesis by L415;
end;

assume L417: C82 in ( R5 ^delta );
reconsider D33 = C82 as (Element of R1) by L417;
L418: (( U_FT D33 ) meets ( ( R5 ` ) ` ) & ( U_FT D33 ) meets ( R5 ` )) by L417 , L176;
thus L419: thesis by L418;
end;
thus L420: thesis by L412 , TARSKI:1;
end;
theorem
L421: (for R1 being non  empty RelStr holds (for R2 being (Element of R1) holds (for R5 being (Subset of R1) holds (R2 in ( R5 ^s ) implies (not R2 in ( ( R5 \ { R2 } ) ^b ))))))
proof
let R1 being non  empty RelStr;
let R2 being (Element of R1);
let R5 being (Subset of R1);
assume L422: R2 in ( R5 ^s );
L423: R5 misses ( ( U_FT R2 ) \ { R2 } ) by L422 , L222;
L424: ( R5 /\ ( ( U_FT R2 ) \ { R2 } ) ) = ( {} ) by L423 , XBOOLE_0:def 7;
L425: ( ( R5 /\ ( U_FT R2 ) ) \ { R2 } ) = ( {} ) by L424 , XBOOLE_1:49;
L426:
now
per cases  by L425 , ZFMISC_1:58;
suppose L427: ( R5 /\ ( U_FT R2 ) ) = ( {} );

L428: R5 misses ( U_FT R2 ) by L427 , XBOOLE_0:def 7;
thus L429: ( R5 \ { R2 } ) misses ( U_FT R2 ) by L428 , XBOOLE_1:36 , XBOOLE_1:63;
end;
suppose L430: ( R5 /\ ( U_FT R2 ) ) = { R2 };

L431: ( ( ( U_FT R2 ) /\ R5 ) \ { R2 } ) = ( {} ) by L430 , XBOOLE_1:37;
L432: ( ( U_FT R2 ) /\ ( R5 \ { R2 } ) ) = ( {} ) by L431 , XBOOLE_1:49;
thus L433: ( R5 \ { R2 } ) misses ( U_FT R2 ) by L432 , XBOOLE_0:def 7;
end;
end;
thus L435: thesis by L426 , L215;
end;
theorem
L436: (for R1 being non  empty RelStr holds (for R5 being (Subset of R1) holds ((( R5 ^s ) <> ( {} ) & ( card R5 ) <> 1) implies (not R5 is  connected))))
proof
let R1 being non  empty RelStr;
let R5 being (Subset of R1);
assume that
L437: ( R5 ^s ) <> ( {} )
and
L438: ( card R5 ) <> 1;
consider C83 being (Element of R1) such that L439: C83 in ( R5 ^s ) by L437 , SUBSET_1:4;
set D34 = { C83 };
set D35 = ( R5 \ { C83 } );
L440: (( card { C83 } ) = 1 & R5 <> ( {} )) by L439 , L222 , CARD_1:30;
L441: D35 <> ( {} ) by L440 , L438 , ZFMISC_1:58;
L442: C83 in R5 by L439 , L222;
L443: { C83 } is (Subset of R5) by L442 , SUBSET_1:41;
L444: R5 = ( D35 \/ D34 ) by L443 , XBOOLE_1:45;
L445: ( ( U_FT C83 ) \ { C83 } ) misses R5 by L439 , L222;
L446: ( D35 ^b ) misses D34
proof
assume L447: ( D35 ^b ) meets D34;
consider C84 being set such that L448: C84 in ( D35 ^b ) and L449: C84 in D34 by L447 , XBOOLE_0:3;
reconsider D36 = C84 as (Element of R1) by L448;
L450: D36 = C83 by L449 , TARSKI:def 1;
L451: ( U_FT D36 ) meets D35 by L448 , L215;
consider C85 being set such that L452: C85 in ( U_FT D36 ) and L453: C85 in D35 by L451 , XBOOLE_0:3;
L454: (not D36 in D35) by L449 , XBOOLE_0:def 5;
L455: C85 in ( ( U_FT D36 ) \ { D36 } ) by L454 , L452 , L453 , ZFMISC_1:56;
L456: ( ( U_FT C83 ) \ { C83 } ) meets D35 by L455 , L453 , L450 , XBOOLE_0:3;
L457: (ex B75 being set st B75 in ( ( ( U_FT C83 ) \ { C83 } ) /\ D35 )) by L456 , XBOOLE_0:4;
L458: ( ( ( U_FT C83 ) \ { C83 } ) /\ D35 ) c= ( ( ( U_FT C83 ) \ { C83 } ) /\ R5 ) by XBOOLE_1:26 , XBOOLE_1:36;
thus L459: contradiction by L458 , L445 , L457 , XBOOLE_0:4;
end;
L460: D35 misses D34 by XBOOLE_1:79;
thus L461: thesis by L460 , L444 , L441 , L446 , L271;
end;
theorem
L462: (for B76 being  filled non  empty RelStr holds (for B77 being (Subset of B76) holds ( B77 ^i ) c= B77))
proof
let C86 being  filled non  empty RelStr;
let C87 being (Subset of C86);
let C88 being set;
assume L463: C88 in ( C87 ^i );
reconsider D37 = C88 as (Element of C86) by L463;
L464: D37 in ( U_FT D37 ) by L153;
L465: ( U_FT D37 ) c= C87 by L463 , L208;
thus L466: thesis by L465 , L464;
end;
theorem
L467: (for R1 being non  empty RelStr holds (for R5 being (Subset of R1) holds (R5 is  open implies ( R5 ` ) is  closed)))
proof
let R1 being non  empty RelStr;
let R5 being (Subset of R1);
assume L468: R5 is  open;
L469: R5 = ( R5 ^i ) by L468 , L269;
L470: ( R5 ^i ) = ( ( ( R5 ` ) ^b ) ` ) by L377;
thus L471: thesis by L470 , L469 , L270;
end;
theorem
L472: (for R1 being non  empty RelStr holds (for R5 being (Subset of R1) holds (R5 is  closed implies ( R5 ` ) is  open)))
proof
let R1 being non  empty RelStr;
let R5 being (Subset of R1);
assume L473: R5 is  closed;
L474: R5 = ( R5 ^b ) by L473 , L270;
L475: ( R5 ^b ) = ( ( ( R5 ` ) ^i ) ` ) by L359;
thus L476: thesis by L475 , L474 , L269;
end;
