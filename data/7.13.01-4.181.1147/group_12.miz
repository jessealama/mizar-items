:: Normal Subgroup of Product of Groups
::  by Hiroyuki Okazaki , Kenichi Arai and Yasunari Shidama
::
:: Received July 2, 2010
:: Copyright (c) 2010-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies FINSEQ_1, FUNCT_1, RELAT_1, RLVECT_2, CARD_3, TARSKI, BINOP_1,
      GROUP_1, XXREAL_0, GROUP_2, CARD_1, NUMBERS, FUNCT_4, GROUP_6, GROUP_7,
      FUNCOP_1, ALGSTR_0, GROUP_12, PARTFUN1, FUNCT_2, SUBSET_1, XBOOLE_0,
      STRUCT_0, NAT_1, ORDINAL4, PRE_TOPC, ARYTM_1, ARYTM_3;
 notations TARSKI, XBOOLE_0, SUBSET_1, XCMPLX_0, RELAT_1, FUNCT_1, RELSET_1,
      PARTFUN1, FUNCT_2, FUNCT_4, FUNCOP_1, CARD_3, ORDINAL1, NUMBERS,
      FINSEQ_1, XXREAL_0, STRUCT_0, ALGSTR_0, GROUP_1, GROUP_2, GROUP_3,
      GROUP_4, GROUP_6, PRALG_1, GROUP_7, FUNCT_7;
 constructors BINOP_1, REALSET1, FUNCT_4, GROUP_6, MONOID_0, PRALG_1, GROUP_4,
      GROUP_7, FUNCT_7, RELSET_1;
 registrations XBOOLE_0, XREAL_0, STRUCT_0, GROUP_2, MONOID_0, ORDINAL1, NAT_1,
      FUNCT_2, FUNCOP_1, CARD_1, CARD_3, GROUP_7, XXREAL_0, RELSET_1, FINSEQ_1;
 requirements NUMERALS, REAL, BOOLE, SUBSET, ARITHM;
 definitions GROUP_2, FINSEQ_1;
 theorems PRALG_1, FUNCT_1, CARD_3, FUNCT_2, TARSKI, GROUP_1, GROUP_2, GROUP_3,
      GROUP_4, GROUP_6, FINSEQ_2, XREAL_1, ORDINAL1, FINSEQ_1, FINSEQ_3, NAT_1,
      XBOOLE_0, RELAT_1, XXREAL_0, GROUP_7, FUNCT_7, YELLOW17, STRUCT_0,
      PARTFUN1;
 schemes NAT_1, SUBSET_1, FUNCT_2, XBOOLE_0, FINSEQ_1;

begin
registration
let C1 being non  empty set;
let C2 being  Group-like (multMagma-Family of C1);
let C3 being (Element of C1);
cluster ( C2 . C3 ) ->  Group-like for multMagma;
coherence by GROUP_7:def 6;
end;
registration
let C4 being non  empty set;
let C5 being  associative (multMagma-Family of C4);
let C6 being (Element of C4);
cluster ( C5 . C6 ) ->  associative for multMagma;
coherence by GROUP_7:def 7;
end;
registration
let C7 being non  empty set;
let C8 being  commutative (multMagma-Family of C7);
let C9 being (Element of C7);
cluster ( C8 . C9 ) ->  commutative for multMagma;
coherence by GROUP_7:def 8;
end;
theorem
L4: (for R1 being non  empty set holds (for R2 being  associative  Group-like (multMagma-Family of R1) holds (for R3 being (Element of R1) holds (for B1 being Function holds (for B2 being (Element of ( R2 . R3 )) holds ((( dom B1 ) = R1 & ( B1 . R3 ) = B2 & (for B3 being (Element of R1) holds (B3 <> R3 implies ( B1 . B3 ) = ( 1_ ( R2 . B3 ) )))) iff B1 = ( ( 1_ ( product R2 ) ) +* (R3 , B2) )))))))
proof
let R1 being non  empty set;
let R2 being  associative  Group-like (multMagma-Family of R1);
let R3 being (Element of R1);
let C10 being Function;
let C11 being (Element of ( R2 . R3 ));
L5:
now
assume L6: C10 = ( ( 1_ ( product R2 ) ) +* (R3 , C11) );
L7: (the carrier of ( product R2 )) = ( product ( Carrier R2 ) ) by GROUP_7:def 2;
thus L8: ( dom C10 ) = ( dom ( 1_ ( product R2 ) ) ) by L6 , FUNCT_7:30
.= R1 by L7 , PARTFUN1:def 2;
L9: ( dom C10 ) = ( dom ( 1_ ( product R2 ) ) ) by L6 , FUNCT_7:30;
thus L10: ( C10 . R3 ) = C11 by L9 , L6 , L8 , FUNCT_7:31;
thus L11: (for B4 being (Element of R1) holds (B4 <> R3 implies ( C10 . B4 ) = ( 1_ ( R2 . B4 ) )))
proof
let C12 being (Element of R1);
assume L12: C12 <> R3;
L13: ( C10 . C12 ) = ( ( 1_ ( product R2 ) ) . C12 ) by L12 , L6 , FUNCT_7:32;
thus L14: ( C10 . C12 ) = ( 1_ ( R2 . C12 ) ) by L13 , GROUP_7:6;
end;

end;
L12:
now
assume L13: (( dom C10 ) = R1 & ( C10 . R3 ) = C11 & (for B5 being (Element of R1) holds (B5 <> R3 implies ( C10 . B5 ) = ( 1_ ( R2 . B5 ) ))));
L14: (the carrier of ( product R2 )) = ( product ( Carrier R2 ) ) by GROUP_7:def 2;
L15: ( dom ( 1_ ( product R2 ) ) ) = R1 by L14 , PARTFUN1:def 2;
L16: ( dom ( ( 1_ ( product R2 ) ) +* (R3 , C11) ) ) = ( dom C10 ) by L13 , L15 , FUNCT_7:30;
set D1 = ( ( 1_ ( product R2 ) ) +* (R3 , C11) );
L17:
now
let C13 being set;
assume L18: C13 in ( dom C10 );
reconsider D2 = C13 as (Element of R1) by L18 , L13;
per cases ;
suppose L19: D2 <> R3;

L20: ( C10 . D2 ) = ( 1_ ( R2 . D2 ) ) by L19 , L13;
thus L21: ( C10 . C13 ) = ( ( 1_ ( product R2 ) ) . D2 ) by L20 , GROUP_7:6
.= ( D1 . C13 ) by L19 , FUNCT_7:32;
end;
suppose L22: D2 = R3;

thus L23: ( C10 . C13 ) = ( D1 . C13 ) by L22 , L15 , L13 , FUNCT_7:31;
end;
end;
thus L25: C10 = ( ( 1_ ( product R2 ) ) +* (R3 , C11) ) by L17 , L16 , FUNCT_1:2;
end;
thus L26: thesis by L12 , L5;
end;
definition
let C14 being non  empty set;
let C15 being  associative  Group-like (multMagma-Family of C14);
let C16 being (Element of C14);
func ProjSet (C15 , C16) -> (Subset of ( product C15 )) means 
:L27: (for B6 being set holds (B6 in it iff (ex B7 being (Element of ( C15 . C16 )) st B6 = ( ( 1_ ( product C15 ) ) +* (C16 , B7) ))));
existence
proof
set D3 = (the carrier of ( product C15 ));
defpred S1[ set ] means (ex B8 being (Element of ( C15 . C16 )) st $1 = ( ( 1_ ( product C15 ) ) +* (C16 , B8) ));
consider C17 being (Subset of D3) such that L28: (for B9 being set holds (B9 in C17 iff (B9 in D3 & S1[ B9 ]))) from SUBSET_1:sch 1;
take C17;
set D4 = ( C15 . C16 );
L29:
now
let C18 being set;
assume L30: S1[ C18 ];
L31: (the carrier of ( product C15 )) = ( product ( Carrier C15 ) ) by GROUP_7:def 2;
L32: (ex B10 being 1-sorted st (B10 = ( C15 . C16 ) & ( ( Carrier C15 ) . C16 ) = (the carrier of B10))) by PRALG_1:def 13;
thus L33: C18 in D3 by L32 , L30 , L31 , YELLOW17:2;
end;
let C19 being set;
L34: (C19 in C17 iff (C19 in D3 & S1[ C19 ])) by L28;
thus L35: thesis by L34 , L29;
end;
uniqueness
proof
let C20 , C21 being (Subset of ( product C15 ));
defpred S2[ set ] means (ex B11 being (Element of ( C15 . C16 )) st $1 = ( ( 1_ ( product C15 ) ) +* (C16 , B11) ));
assume L36: (for B12 being set holds (B12 in C20 iff S2[ B12 ]));
assume L37: (for B13 being set holds (B13 in C21 iff S2[ B13 ]));
thus L38: thesis from XBOOLE_0:sch 2(L36 , L37);
end;
end;
registration
let C22 being non  empty set;
let C23 being  associative  Group-like (multMagma-Family of C22);
let C24 being (Element of C22);
cluster ( ProjSet (C23 , C24) ) -> non  empty;
coherence
proof
set D5 = ( C23 . C24 );
L40: (the carrier of ( product C23 )) = ( product ( Carrier C23 ) ) by GROUP_7:def 2;
L41: ( dom ( 1_ ( product C23 ) ) ) = C22 by L40 , PARTFUN1:def 2;
L42: ( dom ( ( 1_ ( product C23 ) ) +* (C24 , ( 1_ D5 )) ) ) = ( dom ( 1_ ( product C23 ) ) ) by FUNCT_7:30;
set D6 = ( ( 1_ ( product C23 ) ) +* (C24 , ( 1_ D5 )) );
reconsider D7 = D6 as C22 -defined Function by L42 , L41 , RELAT_1:def 18;
L43:
now
let C25 being (Element of C22);
per cases ;
suppose L44: C25 <> C24;

thus L45: ( D7 . C25 ) = ( ( 1_ ( product C23 ) ) . C25 ) by L44 , FUNCT_7:32
.= ( 1_ ( C23 . C25 ) ) by GROUP_7:6;
end;
suppose L46: C25 = C24;

thus L47: ( D7 . C25 ) = ( 1_ ( C23 . C25 ) ) by L46 , L41 , FUNCT_7:31;
end;
end;
thus L49: thesis by L43 , L27;
end;
end;
theorem
L51: (for R1 being non  empty set holds (for R2 being  associative  Group-like (multMagma-Family of R1) holds (for R3 being (Element of R1) holds (for B14 being set holds (B14 in ( ProjSet (R2 , R3) ) iff (ex B15 being Function st (ex B16 being (Element of ( R2 . R3 )) st (B15 = B14 & ( dom B15 ) = R1 & ( B15 . R3 ) = B16 & (for B17 being (Element of R1) holds (B17 <> R3 implies ( B15 . B17 ) = ( 1_ ( R2 . B17 ) )))))))))))
proof
let R1 being non  empty set;
let R2 being  associative  Group-like (multMagma-Family of R1);
let R3 being (Element of R1);
let C26 being set;
defpred S3[ set ] means (ex B18 being (Element of ( R2 . R3 )) st $1 = ( ( 1_ ( product R2 ) ) +* (R3 , B18) ));
L52:
now
assume L53: C26 in ( ProjSet (R2 , R3) );
consider C27 being (Element of ( R2 . R3 )) such that L54: C26 = ( ( 1_ ( product R2 ) ) +* (R3 , C27) ) by L53 , L27;
reconsider D8 = C26 as Function by L54;
take D9 = D8;
take D10 = C27;
thus L55: D9 = C26;
thus L56: (( dom D9 ) = R1 & ( D9 . R3 ) = D10 & (for B19 being (Element of R1) holds (B19 <> R3 implies ( D9 . B19 ) = ( 1_ ( R2 . B19 ) )))) by L54 , L4;
end;
L57:
now
assume L58: (ex B20 being Function st (ex B21 being (Element of ( R2 . R3 )) st (B20 = C26 & ( dom B20 ) = R1 & ( B20 . R3 ) = B21 & (for B22 being (Element of R1) holds (B22 <> R3 implies ( B20 . B22 ) = ( 1_ ( R2 . B22 ) ))))));
thus L59: C26 in ( ProjSet (R2 , R3) )
proof
consider C28 being Function, C29 being (Element of ( R2 . R3 )) such that L60: (C28 = C26 & ( dom C28 ) = R1 & ( C28 . R3 ) = C29 & (for B23 being (Element of R1) holds (B23 <> R3 implies ( C28 . B23 ) = ( 1_ ( R2 . B23 ) )))) by L58;
L61: C28 = ( ( 1_ ( product R2 ) ) +* (R3 , C29) ) by L4 , L60;
thus L62: C26 in ( ProjSet (R2 , R3) ) by L61 , L27 , L60;
end;

end;
thus L60: thesis by L57 , L52;
end;
theorem
L61: (for R1 being non  empty set holds (for R2 being  associative  Group-like (multMagma-Family of R1) holds (for R3 being (Element of R1) holds (for B24 , B25 being (Element of ( product R2 )) holds (for B26 , B27 being (Element of ( R2 . R3 )) holds ((B24 = ( ( 1_ ( product R2 ) ) +* (R3 , B26) ) & B25 = ( ( 1_ ( product R2 ) ) +* (R3 , B27) )) implies ( B24 * B25 ) = ( ( 1_ ( product R2 ) ) +* (R3 , ( B26 * B27 )) )))))))
proof
let R1 being non  empty set;
let R2 being  associative  Group-like (multMagma-Family of R1);
let R3 being (Element of R1);
let C30 , C31 being (Element of ( product R2 ));
let C32 , C33 being (Element of ( R2 . R3 ));
assume L62: (C30 = ( ( 1_ ( product R2 ) ) +* (R3 , C32) ) & C31 = ( ( 1_ ( product R2 ) ) +* (R3 , C33) ));
set D11 = C30;
set D12 = C31;
L63: (D11 = C30 & ( dom D11 ) = R1 & ( D11 . R3 ) = C32 & (for B28 being (Element of R1) holds (B28 <> R3 implies ( D11 . B28 ) = ( 1_ ( R2 . B28 ) )))) by L4 , L62;
L64: (D12 = C31 & ( dom D12 ) = R1 & ( D12 . R3 ) = C33 & (for B29 being (Element of R1) holds (B29 <> R3 implies ( D12 . B29 ) = ( 1_ ( R2 . B29 ) )))) by L4 , L62;
set D13 = ( C30 * C31 );
L65: (the carrier of ( product R2 )) = ( product ( Carrier R2 ) ) by GROUP_7:def 2;
L66: ( dom D13 ) = R1 by L65 , PARTFUN1:def 2;
L67: ( D13 . R3 ) = ( C32 * C33 ) by L63 , L64 , GROUP_7:1;
L68: (for B30 being (Element of R1) holds (R3 <> B30 implies ( D13 . B30 ) = ( 1_ ( R2 . B30 ) )))
proof
let C34 being (Element of R1);
assume L69: R3 <> C34;
L70: ( D11 . C34 ) = ( 1_ ( R2 . C34 ) ) by L69 , L4 , L62;
L71: ( D12 . C34 ) = ( 1_ ( R2 . C34 ) ) by L69 , L4 , L62;
thus L72: ( D13 . C34 ) = ( ( 1_ ( R2 . C34 ) ) * ( 1_ ( R2 . C34 ) ) ) by L71 , L70 , GROUP_7:1
.= ( 1_ ( R2 . C34 ) ) by GROUP_1:def 4;
end;
thus L73: thesis by L68 , L66 , L67 , L4;
end;
theorem
L74: (for R1 being non  empty set holds (for R2 being  associative  Group-like (multMagma-Family of R1) holds (for R3 being (Element of R1) holds (for B31 being (Element of ( product R2 )) holds (for B32 being (Element of ( R2 . R3 )) holds (B31 = ( ( 1_ ( product R2 ) ) +* (R3 , B32) ) implies ( B31 " ) = ( ( 1_ ( product R2 ) ) +* (R3 , ( B32 " )) )))))))
proof
let R1 being non  empty set;
let R2 being  associative  Group-like (multMagma-Family of R1);
let R3 being (Element of R1);
let C35 being (Element of ( product R2 ));
let C36 being (Element of ( R2 . R3 ));
assume L75: C35 = ( ( 1_ ( product R2 ) ) +* (R3 , C36) );
set D14 = C35;
L76: (D14 = C35 & ( dom D14 ) = R1 & ( D14 . R3 ) = C36 & (for B33 being (Element of R1) holds (B33 <> R3 implies ( D14 . B33 ) = ( 1_ ( R2 . B33 ) )))) by L4 , L75;
set D15 = ( C35 " );
L77: (the carrier of ( product R2 )) = ( product ( Carrier R2 ) ) by GROUP_7:def 2;
L78: ( dom D15 ) = R1 by L77 , PARTFUN1:def 2;
L79: ( D15 . R3 ) = ( C36 " ) by L76 , GROUP_7:8;
L80: (for B34 being (Element of R1) holds (R3 <> B34 implies ( D15 . B34 ) = ( 1_ ( R2 . B34 ) )))
proof
let C37 being (Element of R1);
assume L81: R3 <> C37;
L82: ( D14 . C37 ) = ( 1_ ( R2 . C37 ) ) by L81 , L4 , L75;
thus L83: ( D15 . C37 ) = ( ( 1_ ( R2 . C37 ) ) " ) by L82 , GROUP_7:8
.= ( 1_ ( R2 . C37 ) ) by GROUP_1:8;
end;
thus L84: thesis by L78 , L79 , L80 , L4;
end;
theorem
L85: (for R1 being non  empty set holds (for R2 being  associative  Group-like (multMagma-Family of R1) holds (for R3 being (Element of R1) holds (for B35 , B36 being (Element of ( product R2 )) holds ((B35 in ( ProjSet (R2 , R3) ) & B36 in ( ProjSet (R2 , R3) )) implies ( B35 * B36 ) in ( ProjSet (R2 , R3) ))))))
proof
let R1 being non  empty set;
let R2 being  associative  Group-like (multMagma-Family of R1);
let R3 being (Element of R1);
let C38 , C39 being (Element of ( product R2 ));
assume L86: (C38 in ( ProjSet (R2 , R3) ) & C39 in ( ProjSet (R2 , R3) ));
consider C40 being (Element of ( R2 . R3 )) such that L87: C38 = ( ( 1_ ( product R2 ) ) +* (R3 , C40) ) by L27 , L86;
consider C41 being (Element of ( R2 . R3 )) such that L88: C39 = ( ( 1_ ( product R2 ) ) +* (R3 , C41) ) by L27 , L86;
L89: ( C38 * C39 ) = ( ( 1_ ( product R2 ) ) +* (R3 , ( C40 * C41 )) ) by L61 , L87 , L88;
thus L90: ( C38 * C39 ) in ( ProjSet (R2 , R3) ) by L89 , L27;
end;
theorem
L91: (for R1 being non  empty set holds (for R2 being  associative  Group-like (multMagma-Family of R1) holds (for R3 being (Element of R1) holds (for B37 being (Element of ( product R2 )) holds (B37 in ( ProjSet (R2 , R3) ) implies ( B37 " ) in ( ProjSet (R2 , R3) ))))))
proof
let R1 being non  empty set;
let R2 being  associative  Group-like (multMagma-Family of R1);
let R3 being (Element of R1);
let C42 being (Element of ( product R2 ));
assume L92: C42 in ( ProjSet (R2 , R3) );
consider C43 being (Element of ( R2 . R3 )) such that L93: C42 = ( ( 1_ ( product R2 ) ) +* (R3 , C43) ) by L27 , L92;
L94: ( C42 " ) = ( ( 1_ ( product R2 ) ) +* (R3 , ( C43 " )) ) by L74 , L93;
thus L95: ( C42 " ) in ( ProjSet (R2 , R3) ) by L94 , L27;
end;
definition
let C44 being non  empty set;
let C45 being  associative  Group-like (multMagma-Family of C44);
let C46 being (Element of C44);
func ProjGroup (C45 , C46) ->  strict (Subgroup of ( product C45 )) means 
:L96: (the carrier of it) = ( ProjSet (C45 , C46) );
existence
proof
L97: ((for B38 , B39 being (Element of ( product C45 )) holds ((B38 in ( ProjSet (C45 , C46) ) & B39 in ( ProjSet (C45 , C46) )) implies ( B38 * B39 ) in ( ProjSet (C45 , C46) ))) & (for B40 being (Element of ( product C45 )) holds (B40 in ( ProjSet (C45 , C46) ) implies ( B40 " ) in ( ProjSet (C45 , C46) )))) by L85 , L91;
thus L98: thesis by L97 , GROUP_2:52;
end;
uniqueness by GROUP_2:59;
end;
L100: (for R1 being non  empty set holds (for R2 being  associative  Group-like (multMagma-Family of R1) holds (for R3 being (Element of R1) holds (ex B41 being (Homomorphism of ( R2 . R3 ) , ( ProjGroup (R2 , R3) )) st (B41 is  bijective & (for B42 being (Element of ( R2 . R3 )) holds ( B41 . B42 ) = ( ( 1_ ( product R2 ) ) +* (R3 , B42) )))))))
proof
let R1 being non  empty set;
let R2 being  associative  Group-like (multMagma-Family of R1);
let R3 being (Element of R1);
L101: (the carrier of ( ProjGroup (R2 , R3) )) = ( ProjSet (R2 , R3) ) by L96;
defpred S4[ set , set ] means $2 = ( ( 1_ ( product R2 ) ) +* (R3 , $1) );
L102: (for B43 being (Element of ( R2 . R3 )) holds (ex B44 being (Element of ( ProjGroup (R2 , R3) )) st S4[ B43 , B44 ]))
proof
let C47 being (Element of ( R2 . R3 ));
L103: ( ( 1_ ( product R2 ) ) +* (R3 , C47) ) in ( ProjSet (R2 , R3) ) by L27;
thus L104: thesis by L103 , L101;
end;
consider C48 being (Function of ( R2 . R3 ) , (the carrier of ( ProjGroup (R2 , R3) ))) such that L105: (for B45 being (Element of (the carrier of ( R2 . R3 ))) holds S4[ B45 , ( C48 . B45 ) ]) from FUNCT_2:sch 3(L102);
L106: (for B46 , B47 being (Element of ( R2 . R3 )) holds ( C48 . ( B46 * B47 ) ) = ( ( C48 . B46 ) * ( C48 . B47 ) ))
proof
let C49 , C50 being (Element of ( R2 . R3 ));
L107: ( C48 . C49 ) = ( ( 1_ ( product R2 ) ) +* (R3 , C49) ) by L105;
L108: ( C48 . C50 ) = ( ( 1_ ( product R2 ) ) +* (R3 , C50) ) by L105;
L109: ( C48 . ( C49 * C50 ) ) = ( ( 1_ ( product R2 ) ) +* (R3 , ( C49 * C50 )) ) by L105;
L110: (the carrier of ( ProjGroup (R2 , R3) )) = ( ProjSet (R2 , R3) ) by L96;
reconsider D16 = ( C48 . C49 ) , D17 = ( C48 . C50 ) as (Element of ( product R2 )) by L110 , TARSKI:def 3;
thus L111: ( ( C48 . C49 ) * ( C48 . C50 ) ) = ( D16 * D17 ) by GROUP_2:43
.= ( C48 . ( C49 * C50 ) ) by L109 , L107 , L108 , L61;
end;
reconsider D18 = C48 as (Homomorphism of ( R2 . R3 ) , ( ProjGroup (R2 , R3) )) by L106 , GROUP_6:def 6;
take D18;
L112:
now
let C51 being set;
assume L113: C51 in (the carrier of ( ProjGroup (R2 , R3) ));
consider C52 being (Element of ( R2 . R3 )) such that L114: C51 = ( ( 1_ ( product R2 ) ) +* (R3 , C52) ) by L113 , L27 , L101;
L115: C51 = ( D18 . C52 ) by L114 , L105;
thus L116: C51 in ( rng D18 ) by L115 , FUNCT_2:4;
end;
L117: (the carrier of ( ProjGroup (R2 , R3) )) c= ( rng D18 ) by L112 , TARSKI:def 3;
L118: ( rng D18 ) = (the carrier of ( ProjGroup (R2 , R3) )) by L117 , XBOOLE_0:def 10;
L119: D18 is  onto by L118 , FUNCT_2:def 3;
L120: (for B48 , B49 being set holds ((B48 in (the carrier of ( R2 . R3 )) & B49 in (the carrier of ( R2 . R3 )) & ( D18 . B48 ) = ( D18 . B49 )) implies B48 = B49))
proof
let C53 , C54 being set;
assume L121: (C53 in (the carrier of ( R2 . R3 )) & C54 in (the carrier of ( R2 . R3 )) & ( D18 . C53 ) = ( D18 . C54 ));
reconsider D19 = C53 , D20 = C54 as (Element of (the carrier of ( R2 . R3 ))) by L121;
L122: ( D18 . D19 ) = ( ( 1_ ( product R2 ) ) +* (R3 , D19) ) by L105;
L123: ( ( 1_ ( product R2 ) ) +* (R3 , D19) ) = ( ( 1_ ( product R2 ) ) +* (R3 , D20) ) by L121 , L122 , L105;
L124: (the carrier of ( product R2 )) = ( product ( Carrier R2 ) ) by GROUP_7:def 2;
L125: ( dom ( 1_ ( product R2 ) ) ) = R1 by L124 , PARTFUN1:def 2;
thus L126: C53 = ( ( ( 1_ ( product R2 ) ) +* ( R3 .--> D19 ) ) . R3 ) by FUNCT_7:94
.= ( ( ( 1_ ( product R2 ) ) +* (R3 , D19) ) . R3 ) by L125 , FUNCT_7:def 3
.= ( ( ( 1_ ( product R2 ) ) +* ( R3 .--> D20 ) ) . R3 ) by L125 , L123 , FUNCT_7:def 3
.= C54 by FUNCT_7:94;
end;
L127: D18 is  one-to-one by L120 , FUNCT_2:19;
thus L128: D18 is  bijective by L127 , L119;
thus L129: thesis by L105;
end;
definition
let R1 being non  empty set;
let R2 being  associative  Group-like (multMagma-Family of R1);
let R3 being (Element of R1);
func 1ProdHom (R2 , R3) -> (Homomorphism of ( R2 . R3 ) , ( ProjGroup (R2 , R3) )) means 
:L130: (for B50 being (Element of ( R2 . R3 )) holds ( it . B50 ) = ( ( 1_ ( product R2 ) ) +* (R3 , B50) ));
existence
proof
L131: (ex B51 being (Homomorphism of ( R2 . R3 ) , ( ProjGroup (R2 , R3) )) st (B51 is  bijective & (for B52 being (Element of ( R2 . R3 )) holds ( B51 . B52 ) = ( ( 1_ ( product R2 ) ) +* (R3 , B52) )))) by L100;
thus L132: thesis by L131;
end;
uniqueness
proof
let C55 , C56 being (Homomorphism of ( R2 . R3 ) , ( ProjGroup (R2 , R3) ));
assume that
L133: (for B53 being (Element of ( R2 . R3 )) holds ( C55 . B53 ) = ( ( 1_ ( product R2 ) ) +* (R3 , B53) ))
and
L134: (for B54 being (Element of ( R2 . R3 )) holds ( C56 . B54 ) = ( ( 1_ ( product R2 ) ) +* (R3 , B54) ));
L135:
now
let C57 being (Element of ( R2 . R3 ));
thus L136: ( C55 . C57 ) = ( ( 1_ ( product R2 ) ) +* (R3 , C57) ) by L133
.= ( C56 . C57 ) by L134;
end;
thus L137: thesis by L135 , FUNCT_2:63;
end;
end;
registration
let R1 being non  empty set;
let R2 being  associative  Group-like (multMagma-Family of R1);
let R3 being (Element of R1);
cluster ( 1ProdHom (R2 , R3) ) ->  bijective;
coherence
proof
consider C58 being (Homomorphism of ( R2 . R3 ) , ( ProjGroup (R2 , R3) )) such that L139: (C58 is  bijective & (for B55 being (Element of ( R2 . R3 )) holds ( C58 . B55 ) = ( ( 1_ ( product R2 ) ) +* (R3 , B55) ))) by L100;
set D21 = ( 1ProdHom (R2 , R3) );
L140: (for B56 being (Element of ( R2 . R3 )) holds ( C58 . B56 ) = ( D21 . B56 )) by L130 , L139;
thus L141: thesis by L140 , L139 , FUNCT_2:63;
end;
end;
registration
let R1 being non  empty set;
let R2 being  associative  Group-like (multMagma-Family of R1);
let R3 being (Element of R1);
cluster ( ProjGroup (R2 , R3) ) ->  normal;
correctness
proof
set D22 = ( ProjGroup (R2 , R3) );
set D23 = ( product R2 );
L143: (for B57 being (Element of D23) holds ( ( B57 * D22 ) * ( B57 " ) ) c= (the carrier of D22))
proof
let C59 being (Element of D23);
L144:
now
let C60 being set;
assume L145: C60 in ( ( C59 * D22 ) * ( C59 " ) );
consider C61 being (Element of D23) such that L146: (C60 = ( C61 * ( C59 " ) ) & C61 in ( C59 * D22 )) by L145 , GROUP_2:28;
consider C62 being (Element of D23) such that L147: (C61 = ( C59 * C62 ) & C62 in D22) by L146 , GROUP_2:103;
L148: C62 in (the carrier of D22) by L147 , STRUCT_0:def 5;
L149: C62 in ( ProjSet (R2 , R3) ) by L148 , L96;
consider C63 being Function, C64 being (Element of ( R2 . R3 )) such that L150: (C63 = C62 & ( dom C63 ) = R1 & ( C63 . R3 ) = C64 & (for B58 being (Element of R1) holds (B58 <> R3 implies ( C63 . B58 ) = ( 1_ ( R2 . B58 ) )))) by L149 , L51;
set D24 = ( ( C59 * C62 ) * ( C59 " ) );
L151: (the carrier of ( product R2 )) = ( product ( Carrier R2 ) ) by GROUP_7:def 2;
L152: ( dom ( Carrier R2 ) ) = R1 by PARTFUN1:def 2;
L153: ( dom D24 ) = R1 by L151 , PARTFUN1:def 2;
set D25 = ( R2 . R3 );
consider C65 being 1-sorted such that L154: (C65 = ( R2 . R3 ) & ( ( Carrier R2 ) . R3 ) = (the carrier of C65)) by PRALG_1:def 13;
set D26 = ( C59 * C62 );
set D27 = ( C59 " );
reconsider D28 = ( C59 . R3 ) , D29 = ( C62 . R3 ) as (Element of D25) by L154 , L151 , L152 , CARD_3:9;
L155: ( D26 . R3 ) = ( D28 * D29 ) by GROUP_7:1;
L156: ( D27 . R3 ) = ( D28 " ) by GROUP_7:8;
L157: ( D24 . R3 ) = ( ( D28 * D29 ) * ( D28 " ) ) by L155 , L156 , GROUP_7:1;
L158:
now
let C66 being (Element of R1);
assume L159: C66 <> R3;
L160: ( C63 . C66 ) = ( 1_ ( R2 . C66 ) ) by L159 , L150;
set D30 = ( R2 . C66 );
consider C67 being 1-sorted such that L161: (C67 = ( R2 . C66 ) & ( ( Carrier R2 ) . C66 ) = (the carrier of C67)) by PRALG_1:def 13;
reconsider D31 = ( C59 . C66 ) , D32 = ( C62 . C66 ) as (Element of D30) by L161 , L151 , L152 , CARD_3:9;
L162: ( D26 . C66 ) = ( D31 * D32 ) by GROUP_7:1;
L163: ( D27 . C66 ) = ( D31 " ) by GROUP_7:8;
thus L164: ( D24 . C66 ) = ( ( D31 * D32 ) * ( D31 " ) ) by L162 , L163 , GROUP_7:1
.= ( D31 * ( D31 " ) ) by L160 , L150 , GROUP_1:def 4
.= ( 1_ D30 ) by GROUP_1:def 5;
end;
L165: D24 in ( ProjSet (R2 , R3) ) by L158 , L153 , L157 , L51;
thus L166: C60 in (the carrier of D22) by L165 , L96 , L146 , L147;
end;
thus L167: ( ( C59 * D22 ) * ( C59 " ) ) c= (the carrier of D22) by L144 , TARSKI:def 3;
end;
L168: (for B59 being (Element of D23) holds ( B59 * D22 ) c= ( D22 * B59 ))
proof
let C68 being (Element of D23);
L169: ( ( C68 * D22 ) * ( C68 " ) ) c= (the carrier of D22) by L143;
L170: ( ( C68 " ) * C68 ) = ( 1_ ( product R2 ) ) by GROUP_1:def 5;
L171: ( ( ( C68 * D22 ) * ( C68 " ) ) * C68 ) = ( ( C68 * ( D22 * ( C68 " ) ) ) * C68 ) by GROUP_2:106
.= ( C68 * ( ( D22 * ( C68 " ) ) * C68 ) ) by GROUP_2:33
.= ( C68 * ( D22 * ( ( C68 " ) * C68 ) ) ) by GROUP_2:107
.= ( C68 * D22 ) by L170 , GROUP_2:109;
thus L172: thesis by L171 , L169 , GROUP_3:5;
end;
L173: (for B60 being (Element of D23) holds ( D22 * B60 ) c= ( B60 * D22 ))
proof
let C69 being (Element of D23);
L174: ( ( ( C69 " ) * D22 ) * ( ( C69 " ) " ) ) c= (the carrier of D22) by L143;
L175: ( C69 * ( C69 " ) ) = ( 1_ ( product R2 ) ) by GROUP_1:def 5;
L176: ( C69 * ( ( ( C69 " ) * D22 ) * C69 ) ) = ( C69 * ( ( C69 " ) * ( D22 * C69 ) ) ) by GROUP_2:106
.= ( ( C69 * ( C69 " ) ) * ( D22 * C69 ) ) by GROUP_2:32
.= ( ( ( C69 * ( C69 " ) ) * D22 ) * C69 ) by GROUP_2:106
.= ( D22 * C69 ) by L175 , GROUP_2:109;
thus L177: thesis by L176 , L174 , GROUP_3:5;
end;
L178: (for B61 being (Element of D23) holds ( B61 * D22 ) = ( D22 * B61 ))
proof
let C70 being (Element of D23);
L179: ( C70 * D22 ) c= ( D22 * C70 ) by L168;
L180: ( D22 * C70 ) c= ( C70 * D22 ) by L173;
thus L181: thesis by L180 , L179 , XBOOLE_0:def 10;
end;
thus L182: thesis by L178 , GROUP_3:117;
end;
end;
theorem
L184: (for R1 being non  empty set holds (for R2 being  associative  Group-like (multMagma-Family of R1) holds (for R3 being (Element of R1) holds (for R4 being (Element of R1) holds (for B62 , B63 being (Element of ( product R2 )) holds ((R3 <> R4 & B62 in ( ProjGroup (R2 , R3) ) & B63 in ( ProjGroup (R2 , R4) )) implies ( B62 * B63 ) = ( B63 * B62 )))))))
proof
let R1 being non  empty set;
let R2 being  associative  Group-like (multMagma-Family of R1);
let R3 being (Element of R1);
let R4 being (Element of R1);
set D33 = ( product R2 );
let C71 , C72 being (Element of D33);
assume L185: (R3 <> R4 & C71 in ( ProjGroup (R2 , R3) ) & C72 in ( ProjGroup (R2 , R4) ));
L186: ((the carrier of ( ProjGroup (R2 , R3) )) = ( ProjSet (R2 , R3) ) & (the carrier of ( ProjGroup (R2 , R4) )) = ( ProjSet (R2 , R4) )) by L96;
L187: (C71 in ( ProjSet (R2 , R3) ) & C72 in ( ProjSet (R2 , R4) )) by L186 , L185 , STRUCT_0:def 5;
consider C73 being Function, C74 being (Element of ( R2 . R3 )) such that L188: (C73 = C71 & ( dom C73 ) = R1 & ( C73 . R3 ) = C74 & (for B64 being (Element of R1) holds (B64 <> R3 implies ( C73 . B64 ) = ( 1_ ( R2 . B64 ) )))) by L187 , L51;
consider C75 being Function, C76 being (Element of ( R2 . R4 )) such that L189: (C75 = C72 & ( dom C75 ) = R1 & ( C75 . R4 ) = C76 & (for B65 being (Element of R1) holds (B65 <> R4 implies ( C75 . B65 ) = ( 1_ ( R2 . B65 ) )))) by L187 , L51;
L190: (the carrier of ( product R2 )) = ( product ( Carrier R2 ) ) by GROUP_7:def 2;
set D34 = ( C71 * C72 );
set D35 = ( C72 * C71 );
L191: ( dom D34 ) = R1 by L190 , PARTFUN1:def 2;
L192: ( dom D35 ) = R1 by L190 , PARTFUN1:def 2;
L193: (for B66 being set holds (B66 in ( dom D34 ) implies ( D34 . B66 ) = ( D35 . B66 )))
proof
let C77 being set;
assume L194: C77 in ( dom D34 );
reconsider D36 = C77 as (Element of R1) by L194 , L190 , PARTFUN1:def 2;
per cases ;
suppose L195: (C77 <> R3 & C77 <> R4);

L196: ( C73 . D36 ) = ( 1_ ( R2 . D36 ) ) by L195 , L188;
L197: ( C75 . D36 ) = ( 1_ ( R2 . D36 ) ) by L195 , L189;
L198: ( D34 . D36 ) = ( ( 1_ ( R2 . D36 ) ) * ( 1_ ( R2 . D36 ) ) ) by L188 , L189 , L196 , L197 , GROUP_7:1
.= ( D35 . D36 ) by L188 , L189 , L196 , L197 , GROUP_7:1;
thus L199: ( D34 . C77 ) = ( D35 . C77 ) by L198;
end;
suppose L200: (C77 = R3 or C77 = R4);

per cases  by L200;
suppose L201: C77 = R3;

L202: ( C75 . D36 ) = ( 1_ ( R2 . D36 ) ) by L201 , L185 , L189;
reconsider D37 = C74 as (Element of ( R2 . D36 )) by L201;
L203: ( D34 . D36 ) = ( D37 * ( 1_ ( R2 . D36 ) ) ) by L188 , L189 , L202 , L201 , GROUP_7:1
.= D37 by GROUP_1:def 4
.= ( ( 1_ ( R2 . D36 ) ) * D37 ) by GROUP_1:def 4
.= ( D35 . D36 ) by L188 , L189 , L202 , L201 , GROUP_7:1;
thus L204: ( D34 . C77 ) = ( D35 . C77 ) by L203;
end;
suppose L205: C77 = R4;

L206: ( C73 . D36 ) = ( 1_ ( R2 . D36 ) ) by L205 , L185 , L188;
reconsider D38 = C76 as (Element of ( R2 . D36 )) by L205;
L207: ( D34 . D36 ) = ( ( 1_ ( R2 . D36 ) ) * D38 ) by L188 , L189 , L206 , L205 , GROUP_7:1
.= D38 by GROUP_1:def 4
.= ( D38 * ( 1_ ( R2 . D36 ) ) ) by GROUP_1:def 4
.= ( D35 . D36 ) by L188 , L189 , L206 , L205 , GROUP_7:1;
thus L208: ( D34 . C77 ) = ( D35 . C77 ) by L207;
end;
end;
end;
thus L211: thesis by L193 , L191 , L192 , FUNCT_1:2;
end;
theorem
L212: (for R5 being non  empty Nat holds (for B67 being  associative  Group-like (multMagma-Family of ( Seg R5 )) holds (for B68 being Nat holds (for B69 being Group holds ((1 <= B68 & B68 <= R5 & B69 = ( B67 . B68 )) implies (for B70 being (Element of ( product B67 )) holds (for B71 being (FinSequence of ( product B67 )) holds ((( len B71 ) < B68 & (for B72 being (Element of ( Seg R5 )) holds (B72 in ( dom B71 ) implies ( B71 . B72 ) in ( ProjGroup (B67 , B72) ))) & B70 = ( Product B71 )) implies ( B70 . B68 ) = ( 1_ B69 )))))))))
proof
let R5 being non  empty Nat;
let C78 being  associative  Group-like (multMagma-Family of ( Seg R5 ));
let C79 being Nat;
let C80 being Group;
assume L213: (1 <= C79 & C79 <= R5 & C80 = ( C78 . C79 ));
defpred S5[ Nat ] means (for B73 being (Element of ( product C78 )) holds (for B74 being (FinSequence of ( product C78 )) holds ((( len B74 ) < C79 & ( len B74 ) = $1 & (for B75 being (Element of ( Seg R5 )) holds (B75 in ( dom B74 ) implies ( B74 . B75 ) in ( ProjGroup (C78 , B75) ))) & B73 = ( Product B74 )) implies ( B73 . C79 ) = ( 1_ C80 ))));
L214: S5[ ( 0 ) ]
proof
let C81 being (Element of ( product C78 ));
let C82 being (FinSequence of ( product C78 ));
assume L215: (( len C82 ) < C79 & ( len C82 ) = ( 0 ) & (for B76 being (Element of ( Seg R5 )) holds (B76 in ( dom C82 ) implies ( C82 . B76 ) in ( ProjGroup (C78 , B76) ))) & C81 = ( Product C82 ));
L216: C82 = ( <*> (the carrier of ( product C78 )) ) by L215;
L217: C81 = ( 1_ ( product C78 ) ) by L216 , L215 , GROUP_4:8;
L218: C79 in ( Seg R5 ) by L213 , FINSEQ_1:1;
thus L219: ( C81 . C79 ) = ( 1_ C80 ) by L218 , L213 , L217 , GROUP_7:6;
end;
L220: (for B77 being (Element of ( NAT )) holds (S5[ B77 ] implies S5[ ( B77 + 1 ) ]))
proof
let C83 being (Element of ( NAT ));
assume L221: S5[ C83 ];
let C84 being (Element of ( product C78 ));
let C85 being (FinSequence of ( product C78 ));
assume L222: (( len C85 ) < C79 & ( len C85 ) = ( C83 + 1 ) & (for B78 being (Element of ( Seg R5 )) holds (B78 in ( dom C85 ) implies ( C85 . B78 ) in ( ProjGroup (C78 , B78) ))) & C84 = ( Product C85 ));
L223: C83 < ( C83 + 1 ) by NAT_1:13;
L224: 1 <= ( len C85 ) by L222 , NAT_1:11;
L225: (1 <= ( len C85 ) & ( len C85 ) <= R5) by L222 , L213 , NAT_1:11 , XXREAL_0:2;
L226: ( len C85 ) in ( Seg R5 ) by L225;
reconsider D39 = ( len C85 ) as (Element of ( Seg R5 )) by L226;
set D40 = ( C85 | C83 );
L227:
now
let C86 being (Element of ( Seg R5 ));
assume L228: C86 in ( dom D40 );
L229: ( D40 . C86 ) = ( C85 . C86 ) by L228 , FUNCT_1:47;
L230: C86 in ( dom C85 ) by L228 , RELAT_1:57;
thus L231: ( D40 . C86 ) in ( ProjGroup (C78 , C86) ) by L230 , L229 , L222;
end;
set D41 = ( Product D40 );
L232: ( dom C85 ) = ( Seg ( C83 + 1 ) ) by L222 , FINSEQ_1:def 3;
L233: ( Seg C83 ) c= ( dom C85 ) by L232 , L223 , FINSEQ_1:5;
L234: ( dom D40 ) = ( Seg C83 ) by L233 , RELAT_1:62;
L235: ( len D40 ) = C83 by L234 , FINSEQ_1:def 3;
L236: ( len D40 ) = ( ( len C85 ) - 1 ) by L234 , L222 , FINSEQ_1:def 3;
L237: ( D41 . C79 ) = ( 1_ C80 ) by L221 , L227 , L236 , L222 , XREAL_1:51;
L238: ( len C85 ) in ( Seg ( len C85 ) ) by L224;
L239: ( len C85 ) in ( dom C85 ) by L238 , FINSEQ_1:def 3;
reconsider D42 = ( C85 . ( len C85 ) ) as (Element of ( product C78 )) by L239 , FINSEQ_2:11;
L240: ( ( len D40 ) + 1 ) = ( len C85 ) by L234 , L222 , FINSEQ_1:def 3;
L241: ( len ( D40 ^ <* D42 *> ) ) = ( len C85 ) by L240 , FINSEQ_2:16;
L242: ( dom ( D40 ^ <* D42 *> ) ) = ( Seg ( len C85 ) ) by L241 , FINSEQ_1:def 3
.= ( dom C85 ) by FINSEQ_1:def 3;
L243: C85 = ( D40 ^ <* D42 *> )
proof
L244: (for B79 being Nat holds (B79 in ( dom C85 ) implies ( C85 . B79 ) = ( ( D40 ^ <* D42 *> ) . B79 )))
proof
let C87 being Nat;
assume L245: C87 in ( dom C85 );
L246: C87 in ( Seg ( ( len D40 ) + 1 ) ) by L245 , L240 , FINSEQ_1:def 3;
L247:
now
per cases  by L246 , FINSEQ_2:7;
case L248: C87 in ( Seg ( len D40 ) );
L249: C87 in ( dom D40 ) by L248 , FINSEQ_1:def 3;
L250: ( ( D40 ^ <* D42 *> ) . C87 ) = ( D40 . C87 ) by L249 , FINSEQ_1:def 7
.= ( C85 . C87 ) by L248 , L235 , FUNCT_1:49;
thus L251: thesis by L250;
end;
case L252: C87 = ( ( len D40 ) + 1 );
thus L253: thesis by L252 , L240 , FINSEQ_1:42;
end;
end;
thus L255: thesis by L247;
end;
thus L256: thesis by L244 , L242 , FINSEQ_1:13;
end;
L257: C84 = ( D41 * D42 ) by L243 , L222 , GROUP_4:6;
L258: ( C85 . ( len C85 ) ) in ( ProjGroup (C78 , D39) ) by L222 , L239;
L259: ( C85 . ( len C85 ) ) in (the carrier of ( ProjGroup (C78 , D39) )) by L258 , STRUCT_0:def 5;
L260: ( C85 . ( len C85 ) ) in ( ProjSet (C78 , D39) ) by L259 , L96;
consider C88 being Function, C89 being (Element of ( C78 . D39 )) such that L261: (C88 = D42 & ( dom C88 ) = ( Seg R5 ) & ( C88 . D39 ) = C89 & (for B80 being (Element of ( Seg R5 )) holds (B80 <> D39 implies ( C88 . B80 ) = ( 1_ ( C78 . B80 ) )))) by L260 , L51;
thus L262: ( C84 . C79 ) = ( 1_ C80 )
proof
reconsider D43 = C79 as (Element of ( Seg R5 )) by L213 , FINSEQ_1:1;
L263: ( C88 . D43 ) = ( 1_ ( C78 . D43 ) ) by L261 , L222;
thus L264: ( C84 . C79 ) = ( ( 1_ ( C78 . D43 ) ) * ( 1_ ( C78 . D43 ) ) ) by L237 , L261 , L263 , L257 , L213 , GROUP_7:1
.= ( 1_ C80 ) by L213 , GROUP_1:def 4;
end;

end;
L263: (for B81 being (Element of ( NAT )) holds S5[ B81 ]) from NAT_1:sch 1(L214 , L220);
thus L264: thesis by L263;
end;
theorem
L265: (for R5 being non  empty Nat holds (for B82 being  associative  Group-like (multMagma-Family of ( Seg R5 )) holds (for B83 being (Element of ( product B82 )) holds (for B84 being (FinSequence of ( product B82 )) holds ((( len B84 ) = R5 & (for B85 being (Element of ( Seg R5 )) holds ( B84 . B85 ) in ( ProjGroup (B82 , B85) )) & B83 = ( Product B84 )) implies (for B86 being Nat holds ((1 <= B86 & B86 <= R5) implies (ex B87 being (Element of ( product B82 )) st (B87 = ( B84 . B86 ) & ( B83 . B86 ) = ( B87 . B86 ))))))))))
proof
let R5 being non  empty Nat;
let C90 being  associative  Group-like (multMagma-Family of ( Seg R5 ));
defpred S6[ Nat ] means (for B88 being (Element of ( product C90 )) holds (for B89 being (FinSequence of ( product C90 )) holds ((1 <= ( len B89 ) & ( len B89 ) <= $1 & $1 <= R5 & (for B90 being (Element of ( Seg R5 )) holds (B90 in ( dom B89 ) implies ( B89 . B90 ) in ( ProjGroup (C90 , B90) ))) & B88 = ( Product B89 )) implies (for B91 being Nat holds ((1 <= B91 & B91 <= ( len B89 )) implies (ex B92 being (Element of ( product C90 )) st (B92 = ( B89 . B91 ) & ( B88 . B91 ) = ( B92 . B91 ))))))));
L266: S6[ ( 0 ) ];
L267: (for B93 being (Element of ( NAT )) holds (S6[ B93 ] implies S6[ ( B93 + 1 ) ]))
proof
let C91 being (Element of ( NAT ));
assume L268: S6[ C91 ];
let C92 being (Element of ( product C90 ));
let C93 being (FinSequence of ( product C90 ));
assume L269: (1 <= ( len C93 ) & ( len C93 ) <= ( C91 + 1 ) & ( C91 + 1 ) <= R5 & (for B94 being (Element of ( Seg R5 )) holds (B94 in ( dom C93 ) implies ( C93 . B94 ) in ( ProjGroup (C90 , B94) ))) & C92 = ( Product C93 ));
per cases ;
suppose L270: C91 = ( 0 );

L271: ( len C93 ) = 1 by L270 , L269 , XXREAL_0:1;
L272: C93 = <* ( C93 . 1 ) *> by L271 , FINSEQ_1:40;
thus L273: (for B95 being Nat holds ((1 <= B95 & B95 <= ( len C93 )) implies (ex B96 being (Element of ( product C90 )) st (B96 = ( C93 . B95 ) & ( C92 . B95 ) = ( B96 . B95 )))))
proof
let C94 being Nat;
assume L274: (1 <= C94 & C94 <= ( len C93 ));
L275: 1 in ( Seg ( len C93 ) ) by L269;
L276: 1 in ( dom C93 ) by L275 , FINSEQ_1:def 3;
reconsider D44 = ( C93 . 1 ) as (Element of ( product C90 )) by L276 , FINSEQ_2:11;
take D44;
thus L277: thesis by L274 , L272 , L269 , L271 , GROUP_4:9 , XXREAL_0:1;
end;

end;
suppose L274: C91 <> ( 0 );

L275:
now
per cases ;
suppose L276: ( len C93 ) <= C91;

L277: (1 <= ( len C93 ) & ( len C93 ) <= C91 & C91 <= R5)
proof
L278: ( ( C91 + 1 ) - 1 ) <= ( R5 - ( 0 ) ) by L269 , XREAL_1:13;
thus L279: thesis by L278 , L269 , L276;
end;
thus L280: (for B97 being Nat holds ((1 <= B97 & B97 <= ( len C93 )) implies (ex B98 being (Element of ( product C90 )) st (B98 = ( C93 . B97 ) & ( C92 . B97 ) = ( B98 . B97 ))))) by L277 , L268 , L269;
end;
suppose L281: ( len C93 ) > C91;

L282: ( len C93 ) = ( C91 + 1 ) by L269 , L281 , NAT_1:8;
L283: ( len C93 ) <= R5 by L269 , L281 , NAT_1:8;
L284: ( len C93 ) in ( Seg R5 ) by L283 , L269;
reconsider D45 = ( len C93 ) as (Element of ( Seg R5 )) by L284;
set D46 = ( C93 | C91 );
L285: C91 < ( C91 + 1 ) by NAT_1:13;
L286: ( dom C93 ) = ( Seg ( C91 + 1 ) ) by L282 , FINSEQ_1:def 3;
L287: ( Seg C91 ) c= ( dom C93 ) by L286 , L285 , FINSEQ_1:5;
L288: ( dom D46 ) = ( Seg C91 ) by L287 , RELAT_1:62;
L289: ( len D46 ) = C91 by L288 , FINSEQ_1:def 3;
L290: ( ( 0 ) + 1 ) <= C91 by L274 , NAT_1:13;
L291: ( ( C91 + 1 ) - 1 ) <= ( R5 - ( 0 ) ) by L269 , XREAL_1:13;
L292: (( dom C93 ) = ( Seg ( len C93 ) ) & ( dom D46 ) = ( Seg ( len D46 ) )) by FINSEQ_1:def 3;
L293:
now
let C95 being (Element of ( Seg R5 ));
assume L294: C95 in ( dom D46 );
L295: ( D46 . C95 ) = ( C93 . C95 ) by L294 , FUNCT_1:47;
L296: ( Seg ( len D46 ) ) c= ( Seg ( len C93 ) ) by L289 , L281 , FINSEQ_1:5;
thus L297: ( D46 . C95 ) in ( ProjGroup (C90 , C95) ) by L296 , L295 , L269 , L294 , L292;
end;
set D47 = ( Product D46 );
L298: ( len C93 ) in ( Seg ( len C93 ) ) by L269;
reconsider D48 = ( C93 . ( len C93 ) ) as (Element of ( product C90 )) by L298 , L292 , FINSEQ_2:11;
L299: C93 = ( D46 ^ <* D48 *> ) by L282 , FINSEQ_3:55;
L300: C92 = ( D47 * D48 ) by L299 , L269 , GROUP_4:6;
L301: ( C93 . ( len C93 ) ) in ( ProjGroup (C90 , D45) ) by L292 , L269 , L298;
L302: ( C93 . ( len C93 ) ) in (the carrier of ( ProjGroup (C90 , D45) )) by L301 , STRUCT_0:def 5;
L303: ( C93 . ( len C93 ) ) in ( ProjSet (C90 , D45) ) by L302 , L96;
set D49 = ( C90 . D45 );
consider C96 being Function, C97 being (Element of ( C90 . D45 )) such that L304: (C96 = D48 & ( dom C96 ) = ( Seg R5 ) & ( C96 . D45 ) = C97 & (for B99 being (Element of ( Seg R5 )) holds (B99 <> D45 implies ( C96 . B99 ) = ( 1_ ( C90 . B99 ) )))) by L303 , L51;
thus L305: (for B100 being Nat holds ((1 <= B100 & B100 <= ( len C93 )) implies (ex B101 being (Element of ( product C90 )) st (B101 = ( C93 . B100 ) & ( C92 . B100 ) = ( B101 . B100 )))))
proof
let C98 being Nat;
assume L306: (1 <= C98 & C98 <= ( len C93 ));
per cases ;
suppose L307: C98 <> ( len C93 );

L308: C98 < ( len C93 ) by L307 , L306 , XXREAL_0:1;
L309: ( len C93 ) = ( ( len D46 ) + ( len <* D48 *> ) ) by L299 , FINSEQ_1:22
.= ( ( len D46 ) + 1 ) by FINSEQ_1:40;
L310: (1 <= C98 & C98 <= ( len D46 )) by L309 , L306 , L308 , NAT_1:13;
consider C99 being (Element of ( product C90 )) such that L311: (C99 = ( D46 . C98 ) & ( D47 . C98 ) = ( C99 . C98 )) by L310 , L268 , L291 , L293 , L289 , L290;
L312: ( D46 . C98 ) = ( C93 . C98 ) by L310 , L299 , FINSEQ_1:64;
L313: (1 <= C98 & C98 <= R5) by L310 , L291 , L289 , XXREAL_0:2;
reconsider D50 = C98 as (Element of ( Seg R5 )) by L313 , FINSEQ_1:1;
L314: ( D48 . D50 ) = ( 1_ ( C90 . D50 ) ) by L304 , L307;
consider C100 being 1-sorted such that L315: (C100 = ( C90 . D50 ) & ( ( Carrier C90 ) . D50 ) = (the carrier of C100)) by PRALG_1:def 13;
L316: (the carrier of ( product C90 )) = ( product ( Carrier C90 ) ) by GROUP_7:def 2;
L317: ( dom ( Carrier C90 ) ) = ( Seg R5 ) by PARTFUN1:def 2;
reconsider D51 = ( C99 . C98 ) as (Element of ( C90 . D50 )) by L315 , L316 , L317 , CARD_3:9;
L318: ( C92 . C98 ) = ( D51 * ( 1_ ( C90 . D50 ) ) ) by L311 , L314 , L300 , GROUP_7:1
.= ( C99 . C98 ) by GROUP_1:def 4;
thus L319: thesis by L318 , L311 , L312;
end;
suppose L320: C98 = ( len C93 );

L321: ( D47 . C98 ) = ( 1_ D49 ) by L320 , L212 , L293 , L281 , L289 , L283 , L306;
L322: ( C92 . C98 ) = ( ( 1_ D49 ) * C97 ) by L320 , L321 , L304 , L300 , GROUP_7:1
.= ( D48 . C98 ) by L304 , L320 , GROUP_1:def 4;
thus L323: thesis by L322 , L320;
end;
end;

end;
end;
thus L307: (for B102 being Nat holds ((1 <= B102 & B102 <= ( len C93 )) implies (ex B103 being (Element of ( product C90 )) st (B103 = ( C93 . B102 ) & ( C92 . B102 ) = ( B103 . B102 ))))) by L275;
end;
end;
L309: (for B104 being (Element of ( NAT )) holds S6[ B104 ]) from NAT_1:sch 1(L266 , L267);
thus L310: (for B105 being (Element of ( product C90 )) holds (for B106 being (FinSequence of ( product C90 )) holds ((( len B106 ) = R5 & (for B107 being (Element of ( Seg R5 )) holds ( B106 . B107 ) in ( ProjGroup (C90 , B107) )) & B105 = ( Product B106 )) implies (for B108 being Nat holds ((1 <= B108 & B108 <= R5) implies (ex B109 being (Element of ( product C90 )) st (B109 = ( B106 . B108 ) & ( B105 . B108 ) = ( B109 . B108 ))))))))
proof
let C101 being (Element of ( product C90 ));
let C102 being (FinSequence of ( product C90 ));
assume L311: (( len C102 ) = R5 & (for B110 being (Element of ( Seg R5 )) holds ( C102 . B110 ) in ( ProjGroup (C90 , B110) )) & C101 = ( Product C102 ));
L312: (1 <= ( len C102 ) & ( len C102 ) <= R5) by L311 , NAT_1:14;
L313: (for B111 being (Element of ( Seg R5 )) holds (B111 in ( dom C102 ) implies ( C102 . B111 ) in ( ProjGroup (C90 , B111) ))) by L311;
thus L314: thesis by L313 , L311 , L312 , L309;
end;

end;
theorem
L311: (for R5 being non  empty Nat holds (for B112 being  associative  Group-like (multMagma-Family of ( Seg R5 )) holds (for B113 being (Element of ( product B112 )) holds (for B114 , B115 being (FinSequence of ( product B112 )) holds ((( len B114 ) = R5 & (for B116 being (Element of ( Seg R5 )) holds ( B114 . B116 ) in ( ProjGroup (B112 , B116) )) & B113 = ( Product B114 ) & ( len B115 ) = R5 & (for B117 being (Element of ( Seg R5 )) holds ( B115 . B117 ) in ( ProjGroup (B112 , B117) )) & B113 = ( Product B115 )) implies B114 = B115)))))
proof
let R5 being non  empty Nat;
let C103 being  associative  Group-like (multMagma-Family of ( Seg R5 ));
let C104 being (Element of ( product C103 ));
let C105 , C106 being (FinSequence of ( product C103 ));
set D52 = ( Seg R5 );
assume that
L312: ( len C105 ) = R5
and
L313: (for B118 being (Element of D52) holds ( C105 . B118 ) in ( ProjGroup (C103 , B118) ))
and
L314: C104 = ( Product C105 )
and
L315: ( len C106 ) = R5
and
L316: (for B119 being (Element of D52) holds ( C106 . B119 ) in ( ProjGroup (C103 , B119) ))
and
L317: C104 = ( Product C106 );
L318:
now
let C107 being Nat;
assume L319: (1 <= C107 & C107 <= R5);
reconsider D53 = C107 as (Element of D52) by L319 , FINSEQ_1:1;
consider C108 being (Element of ( product C103 )) such that L320: (C108 = ( C105 . C107 ) & ( C104 . C107 ) = ( C108 . C107 )) by L312 , L313 , L314 , L319 , L265;
consider C109 being (Element of ( product C103 )) such that L321: (C109 = ( C106 . C107 ) & ( C104 . C107 ) = ( C109 . C107 )) by L315 , L316 , L317 , L319 , L265;
L322: ( C105 . D53 ) in ( ProjGroup (C103 , D53) ) by L313;
L323: ( C105 . D53 ) in (the carrier of ( ProjGroup (C103 , D53) )) by L322 , STRUCT_0:def 5;
L324: ( C105 . D53 ) in ( ProjSet (C103 , D53) ) by L323 , L96;
consider C110 being Function, C111 being (Element of ( C103 . D53 )) such that L325: (C110 = C108 & ( dom C110 ) = D52 & ( C110 . D53 ) = C111 & (for B120 being (Element of D52) holds (B120 <> D53 implies ( C110 . B120 ) = ( 1_ ( C103 . B120 ) )))) by L320 , L324 , L51;
L326: ( C106 . D53 ) in ( ProjGroup (C103 , D53) ) by L316;
L327: ( C106 . D53 ) in (the carrier of ( ProjGroup (C103 , D53) )) by L326 , STRUCT_0:def 5;
L328: ( C106 . D53 ) in ( ProjSet (C103 , D53) ) by L327 , L96;
consider C112 being Function, C113 being (Element of ( C103 . D53 )) such that L329: (C112 = C109 & ( dom C112 ) = D52 & ( C112 . D53 ) = C113 & (for B121 being (Element of D52) holds (B121 <> D53 implies ( C112 . B121 ) = ( 1_ ( C103 . B121 ) )))) by L321 , L328 , L51;
L330:
now
let C114 being set;
assume L331: C114 in ( dom C110 );
reconsider D54 = C114 as (Element of D52) by L331 , L325;
per cases ;
suppose L332: D54 = C107;

thus L333: ( C110 . C114 ) = ( C112 . C114 ) by L332 , L320 , L321 , L325 , L329;
end;
suppose L334: D54 <> C107;

L335: ( C110 . D54 ) = ( 1_ ( C103 . D54 ) ) by L334 , L325;
thus L336: ( C110 . C114 ) = ( C112 . C114 ) by L335 , L334 , L329;
end;
end;
thus L338: ( C105 . C107 ) = ( C106 . C107 ) by L330 , L320 , L321 , L325 , L329 , FUNCT_1:2;
end;
thus L339: thesis by L318 , L312 , L315 , FINSEQ_1:14;
end;
theorem
L340: (for R5 being non  empty Nat holds (for B122 being  associative  Group-like (multMagma-Family of ( Seg R5 )) holds (for B123 being (Element of ( product B122 )) holds (ex B124 being (FinSequence of ( product B122 )) st (( len B124 ) = R5 & (for B125 being (Element of ( Seg R5 )) holds ( B124 . B125 ) in ( ProjGroup (B122 , B125) )) & B123 = ( Product B124 ))))))
proof
let R5 being non  empty Nat;
let C115 being  associative  Group-like (multMagma-Family of ( Seg R5 ));
let C116 being (Element of ( product C115 ));
set D55 = ( Seg R5 );
defpred S7[ Nat , set ] means (ex B126 being (Element of D55) st (ex B127 being (Element of ( C115 . B126 )) st (B126 = $1 & ( C116 . B126 ) = B127 & $2 = ( ( 1_ ( product C115 ) ) +* (B126 , B127) ))));
L341: (for B128 being Nat holds (B128 in ( Seg R5 ) implies (ex B129 being (Element of ( product C115 )) st S7[ B128 , B129 ])))
proof
let C117 being Nat;
assume L342: C117 in ( Seg R5 );
reconsider D56 = C117 as (Element of D55) by L342;
L343: (the carrier of ( product C115 )) = ( product ( Carrier C115 ) ) by GROUP_7:def 2;
L344: ( dom ( Carrier C115 ) ) = D55 by PARTFUN1:def 2;
consider C118 being 1-sorted such that L345: (C118 = ( C115 . D56 ) & ( ( Carrier C115 ) . D56 ) = (the carrier of C118)) by PRALG_1:def 13;
reconsider D57 = ( C116 . D56 ) as (Element of ( C115 . D56 )) by L345 , L344 , L343 , CARD_3:9;
L346: ( ( 1_ ( product C115 ) ) +* (D56 , D57) ) in ( ProjSet (C115 , D56) ) by L27;
reconsider D58 = ( ( 1_ ( product C115 ) ) +* (D56 , D57) ) as (Element of ( product C115 )) by L346;
take D58;
thus L347: S7[ C117 , D58 ];
end;
consider C119 being (FinSequence of ( product C115 )) such that L348: (( dom C119 ) = ( Seg R5 ) & (for B130 being Nat holds (B130 in ( Seg R5 ) implies S7[ B130 , ( C119 . B130 ) ]))) from FINSEQ_1:sch 5(L341);
take C119;
L349: R5 in ( NAT ) by ORDINAL1:def 12;
thus L350: ( len C119 ) = R5 by L349 , L348 , FINSEQ_1:def 3;
thus L351: (for B131 being (Element of D55) holds ( C119 . B131 ) in ( ProjGroup (C115 , B131) ))
proof
let C120 being (Element of ( Seg R5 ));
L352: (ex B132 being (Element of D55) st (ex B133 being (Element of ( C115 . B132 )) st (B132 = C120 & ( C116 . B132 ) = B133 & ( C119 . C120 ) = ( ( 1_ ( product C115 ) ) +* (B132 , B133) )))) by L348;
L353: ( C119 . C120 ) in ( ProjSet (C115 , C120) ) by L352 , L27;
L354: (the carrier of ( ProjGroup (C115 , C120) )) = ( ProjSet (C115 , C120) ) by L96;
thus L355: thesis by L354 , L353 , STRUCT_0:def 5;
end;

set D59 = ( Product C119 );
L356: (the carrier of ( product C115 )) = ( product ( Carrier C115 ) ) by GROUP_7:def 2;
L357: ( dom C116 ) = ( Seg R5 ) by L356 , PARTFUN1:def 2;
L358: ( dom D59 ) = ( Seg R5 ) by L356 , PARTFUN1:def 2;
L359: ( dom ( 1_ ( product C115 ) ) ) = D55 by L356 , PARTFUN1:def 2;
L360:
now
let C121 being set;
assume L361: C121 in ( dom C116 );
L362: C121 in ( Seg R5 ) by L361 , L356 , PARTFUN1:def 2;
reconsider D60 = C121 as Nat by L362;
L363: (1 <= D60 & D60 <= R5) by L362 , FINSEQ_1:1;
L364: (ex B134 being (Element of ( product C115 )) st (B134 = ( C119 . D60 ) & ( D59 . D60 ) = ( B134 . D60 ))) by L363 , L265 , L350 , L351;
L365: (ex B135 being (Element of D55) st (ex B136 being (Element of ( C115 . B135 )) st (B135 = D60 & ( C116 . B135 ) = B136 & ( C119 . D60 ) = ( ( 1_ ( product C115 ) ) +* (B135 , B136) )))) by L362 , L348;
thus L366: ( C116 . C121 ) = ( D59 . C121 ) by L365 , L359 , L364 , FUNCT_7:31;
end;
thus L367: thesis by L360 , L357 , L358 , FUNCT_1:2;
end;
theorem
L368: (for R5 being non  empty Nat holds (for B137 being  commutative Group holds (for B138 being  associative  Group-like (multMagma-Family of ( Seg R5 )) holds (((for B139 being (Element of ( Seg R5 )) holds ( B138 . B139 ) is (Subgroup of B137)) & (for B140 being (Element of B137) holds (ex B141 being (FinSequence of B137) st (( len B141 ) = R5 & (for B142 being (Element of ( Seg R5 )) holds ( B141 . B142 ) in ( B138 . B142 )) & B140 = ( Product B141 )))) & (for B143 , B144 being (FinSequence of B137) holds ((( len B143 ) = R5 & (for B145 being (Element of ( Seg R5 )) holds ( B143 . B145 ) in ( B138 . B145 )) & ( len B144 ) = R5 & (for B146 being (Element of ( Seg R5 )) holds ( B144 . B146 ) in ( B138 . B146 )) & ( Product B143 ) = ( Product B144 )) implies B143 = B144))) implies (ex B147 being (Homomorphism of ( product B138 ) , B137) st (B147 is  bijective & (for B148 being (Element of ( product B138 )) holds (ex B149 being (FinSequence of B137) st (( len B149 ) = R5 & (for B150 being (Element of ( Seg R5 )) holds ( B149 . B150 ) in ( B138 . B150 )) & B149 = B148 & ( B147 . B148 ) = ( Product B149 ))))))))))
proof
let R5 being non  empty Nat;
let C122 being  commutative Group;
let C123 being  associative  Group-like (multMagma-Family of ( Seg R5 ));
set D61 = ( Seg R5 );
assume that
L369: (for B151 being (Element of D61) holds ( C123 . B151 ) is (Subgroup of C122))
and
L370: (for B152 being (Element of C122) holds (ex B153 being (FinSequence of C122) st (( len B153 ) = R5 & (for B154 being (Element of D61) holds ( B153 . B154 ) in ( C123 . B154 )) & B152 = ( Product B153 ))))
and
L371: (for B155 , B156 being (FinSequence of C122) holds ((( len B155 ) = R5 & (for B157 being (Element of D61) holds ( B155 . B157 ) in ( C123 . B157 )) & ( len B156 ) = R5 & (for B158 being (Element of D61) holds ( B156 . B158 ) in ( C123 . B158 )) & ( Product B155 ) = ( Product B156 )) implies B155 = B156));
L372: (for B159 being (Element of ( product C123 )) holds (B159 is (FinSequence of C122) & ( dom B159 ) = D61 & ( dom B159 ) = ( dom ( Carrier C123 ) ) & (for B160 being set holds (B160 in ( dom ( Carrier C123 ) ) implies ( B159 . B160 ) in ( ( Carrier C123 ) . B160 )))))
proof
let C124 being (Element of ( product C123 ));
L373: (the carrier of ( product C123 )) = ( product ( Carrier C123 ) ) by GROUP_7:def 2;
L374: ( dom ( Carrier C123 ) ) = D61 by PARTFUN1:def 2;
L375: ( dom C124 ) = ( Seg R5 ) by L373 , PARTFUN1:def 2;
reconsider D62 = C124 as FinSequence by L375 , FINSEQ_1:def 2;
L376: (for B161 being (Element of D61) holds ( C124 . B161 ) in (the carrier of ( C123 . B161 )))
proof
let C125 being (Element of D61);
L377: (ex B162 being 1-sorted st (B162 = ( C123 . C125 ) & ( ( Carrier C123 ) . C125 ) = (the carrier of B162))) by PRALG_1:def 13;
thus L378: ( C124 . C125 ) in (the carrier of ( C123 . C125 )) by L377 , L374 , L373 , CARD_3:9;
end;
L379: (for B163 being Nat holds (B163 in ( dom D62 ) implies ( D62 . B163 ) in (the carrier of C122)))
proof
let C126 being Nat;
assume L380: C126 in ( dom D62 );
reconsider D63 = C126 as (Element of D61) by L380 , L373 , PARTFUN1:def 2;
L381: ( D62 . D63 ) in (the carrier of ( C123 . D63 )) by L376;
L382: ( C123 . D63 ) is (Subgroup of C122) by L369;
L383: (the carrier of ( C123 . D63 )) c= (the carrier of C122) by L382 , GROUP_2:def 5;
thus L384: ( D62 . C126 ) in (the carrier of C122) by L383 , L381;
end;
thus L385: thesis by L379 , L373 , CARD_3:9 , FINSEQ_2:12 , PARTFUN1:def 2;
end;
defpred S8[ set , set ] means (ex B164 being (FinSequence of C122) st (( len B164 ) = R5 & (for B165 being (Element of D61) holds ( B164 . B165 ) in ( C123 . B165 )) & B164 = $1 & $2 = ( Product B164 )));
L386: (for B166 being (Element of ( product C123 )) holds (ex B167 being (Element of C122) st S8[ B166 , B167 ]))
proof
let C127 being (Element of ( product C123 ));
L387: (C127 is (FinSequence of C122) & ( dom C127 ) = D61 & ( dom C127 ) = ( dom ( Carrier C123 ) ) & (for B168 being set holds (B168 in ( dom ( Carrier C123 ) ) implies ( C127 . B168 ) in ( ( Carrier C123 ) . B168 )))) by L372;
reconsider D64 = C127 as (FinSequence of C122) by L372;
L388: ( dom C127 ) = ( Seg R5 ) by L372;
L389: (for B169 being (Element of D61) holds ( C127 . B169 ) in (the carrier of ( C123 . B169 )))
proof
let C128 being (Element of D61);
L390: (ex B170 being 1-sorted st (B170 = ( C123 . C128 ) & ( ( Carrier C123 ) . C128 ) = (the carrier of B170))) by PRALG_1:def 13;
thus L391: ( C127 . C128 ) in (the carrier of ( C123 . C128 )) by L390 , L387;
end;
L392: R5 in ( NAT ) by ORDINAL1:def 12;
L393: ( len D64 ) = R5 by L392 , L388 , FINSEQ_1:def 3;
L394:
now
let C129 being (Element of D61);
L395: ( D64 . C129 ) in (the carrier of ( C123 . C129 )) by L389;
thus L396: ( D64 . C129 ) in ( C123 . C129 ) by L395 , STRUCT_0:def 5;
end;
take ( Product D64 );
thus L397: S8[ C127 , ( Product D64 ) ] by L393 , L394;
end;
consider C130 being (Function of ( product C123 ) , C122) such that L398: (for B171 being (Element of (the carrier of ( product C123 ))) holds S8[ B171 , ( C130 . B171 ) ]) from FUNCT_2:sch 3(L386);
L399: (for B172 , B173 being (Element of ( product C123 )) holds ( C130 . ( B172 * B173 ) ) = ( ( C130 . B172 ) * ( C130 . B173 ) ))
proof
let C131 , C132 being (Element of ( product C123 ));
L400: (C131 is (FinSequence of C122) & ( dom C131 ) = D61 & ( dom C131 ) = ( dom ( Carrier C123 ) ) & (for B174 being set holds (B174 in ( dom ( Carrier C123 ) ) implies ( C131 . B174 ) in ( ( Carrier C123 ) . B174 )))) by L372;
reconsider D65 = C131 as (FinSequence of C122) by L372;
L401: (C132 is (FinSequence of C122) & ( dom C132 ) = D61 & ( dom C132 ) = ( dom ( Carrier C123 ) ) & (for B175 being set holds (B175 in ( dom ( Carrier C123 ) ) implies ( C132 . B175 ) in ( ( Carrier C123 ) . B175 )))) by L372;
reconsider D66 = C132 as (FinSequence of C122) by L372;
reconsider D67 = ( C131 * C132 ) as (FinSequence of C122) by L372;
L402:
now
let C133 being (Element of ( NAT ));
assume L403: C133 in ( dom D67 );
reconsider D68 = C133 as (Element of D61) by L403 , L372;
L404: (ex B176 being 1-sorted st (B176 = ( C123 . D68 ) & ( ( Carrier C123 ) . D68 ) = (the carrier of B176))) by PRALG_1:def 13;
reconsider D69 = ( C131 . D68 ) as (Element of ( C123 . D68 )) by L404 , L400;
L405: (ex B177 being 1-sorted st (B177 = ( C123 . D68 ) & ( ( Carrier C123 ) . D68 ) = (the carrier of B177))) by PRALG_1:def 13;
reconsider D70 = ( C132 . D68 ) as (Element of ( C123 . D68 )) by L405 , L401;
L406: D69 = ( D65 /. D68 ) by L400 , PARTFUN1:def 6;
L407: D70 = ( D66 /. D68 ) by L401 , PARTFUN1:def 6;
L408: ( C123 . D68 ) is (Subgroup of C122) by L369;
thus L409: ( D67 . C133 ) = ( D69 * D70 ) by GROUP_7:1
.= ( ( D65 /. C133 ) * ( D66 /. C133 ) ) by L406 , L407 , L408 , GROUP_2:43;
end;
L410: (ex B178 being (FinSequence of C122) st (( len B178 ) = R5 & (for B179 being (Element of D61) holds ( B178 . B179 ) in ( C123 . B179 )) & B178 = C131 & ( C130 . C131 ) = ( Product B178 ))) by L398;
L411: (ex B180 being (FinSequence of C122) st (( len B180 ) = R5 & (for B181 being (Element of D61) holds ( B180 . B181 ) in ( C123 . B181 )) & B180 = C132 & ( C130 . C132 ) = ( Product B180 ))) by L398;
L412: (ex B182 being (FinSequence of C122) st (( len B182 ) = R5 & (for B183 being (Element of D61) holds ( B182 . B183 ) in ( C123 . B183 )) & B182 = ( C131 * C132 ) & ( C130 . ( C131 * C132 ) ) = ( Product B182 ))) by L398;
thus L413: thesis by L412 , L402 , L410 , L411 , GROUP_4:17;
end;
reconsider D71 = C130 as (Homomorphism of ( product C123 ) , C122) by L399 , GROUP_6:def 6;
take D71;
L414:
now
let C134 being set;
assume L415: C134 in (the carrier of C122);
consider C135 being (FinSequence of C122) such that L416: (( len C135 ) = R5 & (for B184 being (Element of D61) holds ( C135 . B184 ) in ( C123 . B184 )) & C134 = ( Product C135 )) by L415 , L370;
L417: (the carrier of ( product C123 )) = ( product ( Carrier C123 ) ) by GROUP_7:def 2;
L418: ( dom C135 ) = D61 by L416 , FINSEQ_1:def 3;
L419: ( dom ( Carrier C123 ) ) = D61 by PARTFUN1:def 2;
L420: (for B185 being set holds (B185 in ( dom ( Carrier C123 ) ) implies ( C135 . B185 ) in ( ( Carrier C123 ) . B185 )))
proof
let C136 being set;
assume L421: C136 in ( dom ( Carrier C123 ) );
reconsider D72 = C136 as (Element of D61) by L421;
L422: ( C135 . D72 ) in ( C123 . D72 ) by L416;
L423: (ex B186 being 1-sorted st (B186 = ( C123 . D72 ) & ( ( Carrier C123 ) . D72 ) = (the carrier of B186))) by PRALG_1:def 13;
thus L424: ( C135 . C136 ) in ( ( Carrier C123 ) . C136 ) by L423 , L422 , STRUCT_0:def 5;
end;
reconsider D73 = C135 as (Element of ( product C123 )) by L417 , L418 , L419 , L420 , CARD_3:9;
L425: (ex B187 being (FinSequence of C122) st (( len B187 ) = R5 & (for B188 being (Element of D61) holds ( B187 . B188 ) in ( C123 . B188 )) & B187 = D73 & ( D71 . D73 ) = ( Product B187 ))) by L398;
thus L426: C134 in ( rng D71 ) by L425 , L416 , FUNCT_2:4;
end;
L427: (the carrier of C122) c= ( rng D71 ) by L414 , TARSKI:def 3;
L428: ( rng D71 ) = (the carrier of C122) by L427 , XBOOLE_0:def 10;
L429: D71 is  onto by L428 , FUNCT_2:def 3;
L430: (for B189 , B190 being set holds ((B189 in (the carrier of ( product C123 )) & B190 in (the carrier of ( product C123 )) & ( D71 . B189 ) = ( D71 . B190 )) implies B189 = B190))
proof
let C137 , C138 being set;
assume L431: (C137 in (the carrier of ( product C123 )) & C138 in (the carrier of ( product C123 )) & ( D71 . C137 ) = ( D71 . C138 ));
consider C139 being (FinSequence of C122) such that L432: (( len C139 ) = R5 & (for B191 being (Element of D61) holds ( C139 . B191 ) in ( C123 . B191 )) & C139 = C137 & ( D71 . C137 ) = ( Product C139 )) by L398 , L431;
consider C140 being (FinSequence of C122) such that L433: (( len C140 ) = R5 & (for B192 being (Element of D61) holds ( C140 . B192 ) in ( C123 . B192 )) & C140 = C138 & ( D71 . C138 ) = ( Product C140 )) by L398 , L431;
thus L434: C137 = C138 by L371 , L432 , L431 , L433;
end;
L435: D71 is  one-to-one by L430 , FUNCT_2:19;
thus L436: thesis by L435 , L398 , L429;
end;
theorem
L437: (for R5 being non  empty Nat holds (for B193 , B194 being  associative  commutative  Group-like (multMagma-Family of ( Seg R5 )) holds ((for B195 being (Element of ( Seg R5 )) holds ( B194 . B195 ) = ( ProjGroup (B193 , B195) )) implies (ex B196 being (Homomorphism of ( product B194 ) , ( product B193 )) st (B196 is  bijective & (for B197 being (Element of ( product B194 )) holds (ex B198 being (FinSequence of ( product B193 )) st (( len B198 ) = R5 & (for B199 being (Element of ( Seg R5 )) holds ( B198 . B199 ) in ( B194 . B199 )) & B198 = B197 & ( B196 . B197 ) = ( Product B198 )))))))))
proof
let R5 being non  empty Nat;
let C141 , C142 being  associative  commutative  Group-like (multMagma-Family of ( Seg R5 ));
assume L438: (for B200 being (Element of ( Seg R5 )) holds ( C142 . B200 ) = ( ProjGroup (C141 , B200) ));
L439: (for B201 being (Element of ( Seg R5 )) holds ( C142 . B201 ) is (Subgroup of ( product C141 )))
proof
let C143 being (Element of ( Seg R5 ));
L440: ( C142 . C143 ) = ( ProjGroup (C141 , C143) ) by L438;
thus L441: thesis by L440;
end;
L442: (for B202 being (Element of ( product C141 )) holds (ex B203 being (FinSequence of ( product C141 )) st (( len B203 ) = R5 & (for B204 being (Element of ( Seg R5 )) holds ( B203 . B204 ) in ( C142 . B204 )) & B202 = ( Product B203 ))))
proof
let C144 being (Element of ( product C141 ));
consider C145 being (FinSequence of ( product C141 )) such that L443: (( len C145 ) = R5 & (for B205 being (Element of ( Seg R5 )) holds ( C145 . B205 ) in ( ProjGroup (C141 , B205) )) & C144 = ( Product C145 )) by L340;
take C145;
L444: (for B206 being (Element of ( Seg R5 )) holds ( C145 . B206 ) in ( C142 . B206 ))
proof
let C146 being (Element of ( Seg R5 ));
L445: ( C145 . C146 ) in ( ProjGroup (C141 , C146) ) by L443;
thus L446: thesis by L445 , L438;
end;
thus L447: thesis by L444 , L443;
end;
L448: (for B207 , B208 being (FinSequence of ( product C141 )) holds ((( len B207 ) = R5 & (for B209 being (Element of ( Seg R5 )) holds ( B207 . B209 ) in ( C142 . B209 )) & ( len B208 ) = R5 & (for B210 being (Element of ( Seg R5 )) holds ( B208 . B210 ) in ( C142 . B210 )) & ( Product B207 ) = ( Product B208 )) implies B207 = B208))
proof
let C147 , C148 being (FinSequence of ( product C141 ));
assume L449: (( len C147 ) = R5 & (for B211 being (Element of ( Seg R5 )) holds ( C147 . B211 ) in ( C142 . B211 )) & ( len C148 ) = R5 & (for B212 being (Element of ( Seg R5 )) holds ( C148 . B212 ) in ( C142 . B212 )) & ( Product C147 ) = ( Product C148 ));
L450: (for B213 being (Element of ( Seg R5 )) holds (( C148 . B213 ) in ( ProjGroup (C141 , B213) ) & ( C147 . B213 ) in ( ProjGroup (C141 , B213) )))
proof
let C149 being (Element of ( Seg R5 ));
L451: (( C147 . C149 ) in ( C142 . C149 ) & ( C148 . C149 ) in ( C142 . C149 )) by L449;
thus L452: thesis by L451 , L438;
end;
thus L453: thesis by L450 , L449 , L311;
end;
thus L454: thesis by L448 , L439 , L442 , L368;
end;
