:: On the Decomposition of Finite Sequences
::  by Andrzej Trybulec
::
:: Received May 24, 1995
:: Copyright (c) 1995-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, FINSEQ_1, ZFMISC_1, XBOOLE_0, FINSEQ_5, RELAT_1,
      ORDINAL4, NAT_1, TARSKI, FUNCT_1, XXREAL_0, SUBSET_1, ARYTM_3, FINSEQ_4,
      ARYTM_1, CARD_1, RFINSEQ, PARTFUN1, FINSEQ_6, JORDAN3;
 notations TARSKI, XBOOLE_0, ENUMSET1, SUBSET_1, ORDINAL1, CARD_1, NUMBERS,
      XCMPLX_0, XXREAL_0, ZFMISC_1, REAL_1, NAT_1, NAT_D, RELAT_1, PARTFUN1,
      RELSET_1, FUNCT_1, FINSEQ_1, FINSEQ_4, RFINSEQ, FINSEQ_5;
 constructors XXREAL_0, NAT_1, INT_1, PARTFUN1, FINSEQ_4, RFINSEQ, BINARITH,
      FINSEQ_5, REAL_1, RELSET_1, NAT_D, ENUMSET1;
 registrations XBOOLE_0, RELAT_1, FUNCT_1, XREAL_0, INT_1, FINSEQ_1, REALSET1,
      FINSEQ_5, ORDINAL1, NAT_1, CARD_1, XXREAL_0, ZFMISC_1;
 requirements REAL, NUMERALS, BOOLE, SUBSET, ARITHM;
 definitions TARSKI, XBOOLE_0;
 theorems NAT_1, FINSEQ_1, FINSEQ_4, FINSEQ_3, FINSEQ_2, FUNCT_1, ZFMISC_1,
      FINSEQ_5, RELAT_1, RFINSEQ, TARSKI, ENUMSET1, PARTFUN2, GRFUNC_1, INT_1,
      XBOOLE_0, XBOOLE_1, XREAL_1, XXREAL_0, ORDINAL1, PARTFUN1, NAT_D,
      XREAL_0, XTUPLE_0;

begin
registration
let R1 being set;
let R2 being set;
let R3 being set;
cluster <* R1 , R2 , R3 *> -> non  trivial;
coherence
proof
L1: ( len <* R1 , R2 , R3 *> ) = 3 by FINSEQ_1:45;
thus L2: thesis by L1 , NAT_D:60;
end;
end;
registration
let C1 being non  empty FinSequence;
cluster ( Rev C1 ) -> non  empty;
coherence
proof
L4: ( dom C1 ) <> ( {} );
thus L5: thesis by L4 , FINSEQ_5:57 , RELAT_1:38;
end;
end;
L7: (for R1 being set holds (for R2 being set holds ( rng <* R1 , R2 *> ) = { R1 , R2 }))
proof
let R1 being set;
let R2 being set;
L8: <* R1 , R2 *> = ( <* R1 *> ^ <* R2 *> ) by FINSEQ_1:def 9;
thus L9: ( rng <* R1 , R2 *> ) = ( ( rng <* R1 *> ) \/ ( rng <* R2 *> ) ) by L8 , FINSEQ_1:31
.= ( { R1 } \/ ( rng <* R2 *> ) ) by FINSEQ_1:38
.= ( { R1 } \/ { R2 } ) by FINSEQ_1:38
.= { R1 , R2 } by ENUMSET1:1;
end;
L10: (for R1 being set holds (for R2 being set holds (for R3 being set holds ( rng <* R1 , R2 , R3 *> ) = { R1 , R2 , R3 })))
proof
let R1 being set;
let R2 being set;
let R3 being set;
L11: <* R1 , R2 , R3 *> = ( <* R1 , R2 *> ^ <* R3 *> ) by FINSEQ_1:43;
thus L12: ( rng <* R1 , R2 , R3 *> ) = ( ( rng <* R1 , R2 *> ) \/ ( rng <* R3 *> ) ) by L11 , FINSEQ_1:31
.= ( { R1 , R2 } \/ ( rng <* R3 *> ) ) by L7
.= ( { R1 , R2 } \/ { R3 } ) by FINSEQ_1:38
.= { R1 , R2 , R3 } by ENUMSET1:3;
end;
begin
theorem
L13: (for B1 being set holds (for R12 being Nat holds ((B1 c= ( Seg R12 ) & 1 in B1) implies ( ( Sgm B1 ) . 1 ) = 1)))
proof
let C2 being set;
let R12 being Nat;
assume that
L14: C2 c= ( Seg R12 )
and
L15: 1 in C2;
L16: ( Sgm C2 ) <> ( {} ) by L14 , L15 , FINSEQ_1:51;
L17: ( len ( Sgm C2 ) ) >= 1 by L16 , NAT_1:14;
L18: 1 in ( dom ( Sgm C2 ) ) by L17 , FINSEQ_3:25;
L19: ( ( Sgm C2 ) . 1 ) in ( rng ( Sgm C2 ) ) by L18 , FUNCT_1:def 3;
L20: ( rng ( Sgm C2 ) ) c= ( NAT ) by FINSEQ_1:def 4;
reconsider D1 = ( ( Sgm C2 ) . 1 ) as (Element of ( NAT )) by L20 , L19;
assume L21: ( ( Sgm C2 ) . 1 ) <> 1;
L22: ( rng ( Sgm C2 ) ) = C2 by L14 , FINSEQ_1:def 13;
consider R1 being set such that L23: R1 in ( dom ( Sgm C2 ) ) and L24: ( ( Sgm C2 ) . R1 ) = 1 by L22 , L15 , FUNCT_1:def 3;
L25: D1 >= 1 by L14 , L22 , L19 , FINSEQ_1:1;
reconsider D2 = R1 as (Element of ( NAT )) by L23;
L26: D2 >= 1 by L23 , FINSEQ_3:25;
L27: 1 < D2 by L26 , L24 , L21 , XXREAL_0:1;
L28: D2 <= ( len ( Sgm C2 ) ) by L23 , FINSEQ_3:25;
thus L29: contradiction by L28 , L14 , L24 , L25 , L27 , FINSEQ_1:def 13;
end;
theorem
L30: (for R13 being Nat holds (for B2 being FinSequence holds ((R13 in ( dom B2 ) & (for R12 being Nat holds ((1 <= R12 & R12 < R13) implies ( B2 . R12 ) <> ( B2 . R13 )))) implies ( ( B2 . R13 ) .. B2 ) = R13)))
proof
let R13 being Nat;
let C3 being FinSequence;
assume that
L31: R13 in ( dom C3 )
and
L32: (for R12 being Nat holds ((1 <= R12 & R12 < R13) implies ( C3 . R12 ) <> ( C3 . R13 )));
assume L33: ( ( C3 . R13 ) .. C3 ) <> R13;
L34: ( ( C3 . R13 ) .. C3 ) <= R13 by L31 , FINSEQ_4:24;
L35: ( ( C3 . R13 ) .. C3 ) < R13 by L34 , L33 , XXREAL_0:1;
L36: ( C3 . R13 ) in ( rng C3 ) by L31 , FUNCT_1:def 3;
L37: ( C3 . ( ( C3 . R13 ) .. C3 ) ) = ( C3 . R13 ) by L36 , FINSEQ_4:19;
thus L38: contradiction by L37 , L32 , L36 , L35 , FINSEQ_4:21;
end;
theorem
L39: (for R9 being set holds (for R10 being set holds ( <* R9 , R10 *> | ( Seg 1 ) ) = <* R9 *>))
proof
let R9 being set;
let R10 being set;
set D3 = ( <* R9 , R10 *> | ( Seg 1 ) );
L40: ( len <* R9 , R10 *> ) = 2 by FINSEQ_1:44;
L41: 1 in ( dom <* R9 , R10 *> ) by L40 , FINSEQ_3:25;
L42: ( Seg 1 ) c= ( dom <* R9 , R10 *> ) by L41 , FINSEQ_1:2 , ZFMISC_1:31;
L43: ( dom D3 ) = ( ( dom <* R9 , R10 *> ) /\ ( Seg 1 ) ) by RELAT_1:61
.= ( Seg 1 ) by L42 , XBOOLE_1:28;
reconsider D4 = D3 as FinSequence by L43 , FINSEQ_1:def 2;
L44: 1 in ( dom D4 ) by L43 , FINSEQ_1:2 , TARSKI:def 1;
L45: ( D4 . 1 ) = ( <* R9 , R10 *> . 1 ) by L44 , FUNCT_1:47
.= R9 by FINSEQ_1:44;
L46: ( len D4 ) = 1 by L43 , FINSEQ_1:def 3;
thus L47: thesis by L46 , L45 , FINSEQ_1:40;
end;
theorem
L48: (for R9 being set holds (for R10 being set holds (for R11 being set holds ( <* R9 , R10 , R11 *> | ( Seg 1 ) ) = <* R9 *>)))
proof
let R9 being set;
let R10 being set;
let R11 being set;
set D5 = ( <* R9 , R10 , R11 *> | ( Seg 1 ) );
L49: ( len <* R9 , R10 , R11 *> ) = 3 by FINSEQ_1:45;
L50: 1 in ( dom <* R9 , R10 , R11 *> ) by L49 , FINSEQ_3:25;
L51: ( Seg 1 ) c= ( dom <* R9 , R10 , R11 *> ) by L50 , FINSEQ_1:2 , ZFMISC_1:31;
L52: ( dom D5 ) = ( ( dom <* R9 , R10 , R11 *> ) /\ ( Seg 1 ) ) by RELAT_1:61
.= ( Seg 1 ) by L51 , XBOOLE_1:28;
reconsider D6 = D5 as FinSequence by L52 , FINSEQ_1:def 2;
L53: 1 in ( dom D6 ) by L52 , FINSEQ_1:2 , TARSKI:def 1;
L54: ( D6 . 1 ) = ( <* R9 , R10 , R11 *> . 1 ) by L53 , FUNCT_1:47
.= R9 by FINSEQ_1:45;
L55: ( len D6 ) = 1 by L52 , FINSEQ_1:def 3;
thus L56: thesis by L55 , L54 , FINSEQ_1:40;
end;
theorem
L57: (for R9 being set holds (for R10 being set holds (for R11 being set holds ( <* R9 , R10 , R11 *> | ( Seg 2 ) ) = <* R9 , R10 *>)))
proof
let R9 being set;
let R10 being set;
let R11 being set;
set D7 = ( <* R9 , R10 , R11 *> | ( Seg 2 ) );
L58: ( len <* R9 , R10 , R11 *> ) = 3 by FINSEQ_1:45;
L59: 2 in ( dom <* R9 , R10 , R11 *> ) by L58 , FINSEQ_3:25;
L60: 1 in ( dom <* R9 , R10 , R11 *> ) by L58 , FINSEQ_3:25;
L61: ( Seg 2 ) c= ( dom <* R9 , R10 , R11 *> ) by L60 , L59 , FINSEQ_1:2 , ZFMISC_1:32;
L62: ( dom D7 ) = ( ( dom <* R9 , R10 , R11 *> ) /\ ( Seg 2 ) ) by RELAT_1:61
.= ( Seg 2 ) by L61 , XBOOLE_1:28;
reconsider D8 = D7 as FinSequence by L62 , FINSEQ_1:def 2;
L63: ( len D8 ) = 2 by L62 , FINSEQ_1:def 3;
L64: 2 in ( dom D8 ) by L63 , FINSEQ_3:25;
L65: ( D8 . 2 ) = ( <* R9 , R10 , R11 *> . 2 ) by L64 , FUNCT_1:47
.= R10 by FINSEQ_1:45;
L66: 1 in ( dom D8 ) by L63 , FINSEQ_3:25;
L67: ( D8 . 1 ) = ( <* R9 , R10 , R11 *> . 1 ) by L66 , FUNCT_1:47
.= R9 by FINSEQ_1:45;
thus L68: thesis by L67 , L63 , L65 , FINSEQ_1:44;
end;
theorem
L69: (for R5 being FinSequence holds (for R6 being FinSequence holds (for R8 being set holds (R8 in ( rng R5 ) implies ( R8 .. ( R5 ^ R6 ) ) = ( R8 .. R5 )))))
proof
let R5 being FinSequence;
let R6 being FinSequence;
let R8 being set;
L70: ( dom R5 ) c= ( dom ( R5 ^ R6 ) ) by FINSEQ_1:26;
assume L71: R8 in ( rng R5 );
L72: ( R8 .. R5 ) in ( dom R5 ) by L71 , FINSEQ_4:20;
L73:
now
L74: ( ( R5 ^ R6 ) . ( R8 .. R5 ) ) = ( R5 . ( R8 .. R5 ) ) by L72 , FINSEQ_1:def 7;
let R12 being Nat;
assume that
L75: 1 <= R12
and
L76: R12 < ( R8 .. R5 );
L77: ( R8 .. R5 ) <= ( len R5 ) by L71 , FINSEQ_4:21;
L78: R12 <= ( len R5 ) by L77 , L76 , XXREAL_0:2;
L79: R12 in ( dom R5 ) by L78 , L75 , FINSEQ_3:25;
L80: ( ( R5 ^ R6 ) . R12 ) = ( R5 . R12 ) by L79 , FINSEQ_1:def 7;
thus L81: ( ( R5 ^ R6 ) . R12 ) <> ( ( R5 ^ R6 ) . ( R8 .. R5 ) ) by L80 , L71 , L76 , L79 , L74 , FINSEQ_4:19 , FINSEQ_4:24;
end;
L82: ( R5 . ( R8 .. R5 ) ) = R8 by L71 , FINSEQ_4:19;
L83: ( ( R5 ^ R6 ) . ( R8 .. R5 ) ) = R8 by L82 , L72 , FINSEQ_1:def 7;
thus L84: thesis by L83 , L72 , L70 , L73 , L30;
end;
theorem
L85: (for R5 being FinSequence holds (for R6 being FinSequence holds (for R8 being set holds (R8 in ( ( rng R6 ) \ ( rng R5 ) ) implies ( R8 .. ( R5 ^ R6 ) ) = ( ( len R5 ) + ( R8 .. R6 ) )))))
proof
let R5 being FinSequence;
let R6 being FinSequence;
let R8 being set;
assume L86: R8 in ( ( rng R6 ) \ ( rng R5 ) );
L87: ( R8 .. R6 ) in ( dom R6 ) by L86 , FINSEQ_4:20;
L88: ( R6 . ( R8 .. R6 ) ) = R8 by L86 , FINSEQ_4:19;
L89: ( ( R5 ^ R6 ) . ( ( len R5 ) + ( R8 .. R6 ) ) ) = R8 by L88 , L87 , FINSEQ_1:def 7;
L90:
now
let R12 being Nat;
assume that
L91: 1 <= R12
and
L92: R12 < ( ( len R5 ) + ( R8 .. R6 ) );
per cases ;
suppose L93: R12 <= ( len R5 );

L94: R12 in ( dom R5 ) by L93 , L91 , FINSEQ_3:25;
assume L95: ( ( R5 ^ R6 ) . R12 ) = ( ( R5 ^ R6 ) . ( ( len R5 ) + ( R8 .. R6 ) ) );
L96: ( R5 . R12 ) = R8 by L95 , L89 , L94 , FINSEQ_1:def 7;
L97: R8 in ( rng R5 ) by L96 , L94 , FUNCT_1:def 3;
thus L98: contradiction by L97 , L86 , XBOOLE_0:def 5;
end;
suppose L99: R12 > ( len R5 );

reconsider D9 = ( R12 - ( len R5 ) ) as (Element of ( NAT )) by L99 , INT_1:5;
L100: D9 > ( 0 ) by L99 , XREAL_1:50;
L101: 1 <= D9 by L100 , NAT_1:14;
L102: R12 = ( D9 + ( len R5 ) );
L103: D9 < ( R8 .. R6 ) by L102 , L92 , XREAL_1:6;
L104: ( ( R5 ^ R6 ) . ( ( len R5 ) + ( R8 .. R6 ) ) ) = ( R6 . ( R8 .. R6 ) ) by L87 , FINSEQ_1:def 7;
L105: ( R8 .. R6 ) <= ( len R6 ) by L86 , FINSEQ_4:21;
L106: D9 <= ( R8 .. R6 ) by L92 , L102 , XREAL_1:6;
L107: D9 <= ( len R6 ) by L106 , L105 , XXREAL_0:2;
L108: D9 in ( dom R6 ) by L107 , L101 , FINSEQ_3:25;
L109: ( ( R5 ^ R6 ) . R12 ) = ( R6 . D9 ) by L108 , L102 , FINSEQ_1:def 7;
thus L110: ( ( R5 ^ R6 ) . R12 ) <> ( ( R5 ^ R6 ) . ( ( len R5 ) + ( R8 .. R6 ) ) ) by L109 , L86 , L103 , L108 , L104 , FINSEQ_4:19 , FINSEQ_4:24;
end;
end;
L112: ( ( len R5 ) + ( R8 .. R6 ) ) in ( dom ( R5 ^ R6 ) ) by L87 , FINSEQ_1:28;
thus L113: thesis by L112 , L89 , L90 , L30;
end;
theorem
L114: (for R5 being FinSequence holds (for R6 being FinSequence holds (for R8 being set holds (R8 in ( rng R5 ) implies ( ( R5 ^ R6 ) |-- R8 ) = ( ( R5 |-- R8 ) ^ R6 )))))
proof
let R5 being FinSequence;
let R6 being FinSequence;
let R8 being set;
assume L115: R8 in ( rng R5 );
L116: ( R8 .. R5 ) = ( R8 .. ( R5 ^ R6 ) ) by L115 , L69;
L117: ( len ( R5 |-- R8 ) ) = ( ( len R5 ) - ( R8 .. R5 ) ) by L115 , FINSEQ_4:def 6;
L118:
now
let R13 being Nat;
assume L119: R13 in ( dom ( ( R5 |-- R8 ) ^ R6 ) );
per cases  by L119 , FINSEQ_1:25;
suppose L120: R13 in ( dom ( R5 |-- R8 ) );

L121: ( len ( R5 |-- R8 ) ) = ( ( len R5 ) - ( R8 .. R5 ) ) by L115 , FINSEQ_4:def 6;
L122: ( ( len ( R5 |-- R8 ) ) + ( R8 .. R5 ) ) = ( len R5 ) by L121;
L123: R13 <= ( len ( R5 |-- R8 ) ) by L120 , FINSEQ_3:25;
L124: ( R13 + ( R8 .. R5 ) ) <= ( len R5 ) by L123 , L122 , XREAL_1:6;
L125: R13 <= ( R13 + ( R8 .. R5 ) ) by NAT_1:11;
L126: 1 <= R13 by L120 , FINSEQ_3:25;
L127: 1 <= ( R13 + ( R8 .. R5 ) ) by L126 , L125 , XXREAL_0:2;
L128: ( R13 + ( R8 .. R5 ) ) in ( dom R5 ) by L127 , L124 , FINSEQ_3:25;
thus L129: ( ( ( R5 |-- R8 ) ^ R6 ) . R13 ) = ( ( R5 |-- R8 ) . R13 ) by L120 , FINSEQ_1:def 7
.= ( R5 . ( R13 + ( R8 .. R5 ) ) ) by L115 , L120 , FINSEQ_4:def 6
.= ( ( R5 ^ R6 ) . ( R13 + ( R8 .. ( R5 ^ R6 ) ) ) ) by L116 , L128 , FINSEQ_1:def 7;
end;
suppose L130: (ex B3 being Nat st (B3 in ( dom R6 ) & R13 = ( ( len ( R5 |-- R8 ) ) + B3 )));

consider C4 being Nat such that L131: C4 in ( dom R6 ) and L132: R13 = ( ( len ( R5 |-- R8 ) ) + C4 ) by L130;
thus L133: ( ( ( R5 |-- R8 ) ^ R6 ) . R13 ) = ( R6 . C4 ) by L131 , L132 , FINSEQ_1:def 7
.= ( ( R5 ^ R6 ) . ( ( len R5 ) + C4 ) ) by L131 , FINSEQ_1:def 7
.= ( ( R5 ^ R6 ) . ( R13 + ( R8 .. ( R5 ^ R6 ) ) ) ) by L116 , L117 , L132;
end;
end;
L135: ( rng ( R5 ^ R6 ) ) = ( ( rng R5 ) \/ ( rng R6 ) ) by FINSEQ_1:31;
L136: R8 in ( rng ( R5 ^ R6 ) ) by L135 , L115 , XBOOLE_0:def 3;
L137: ( len ( ( R5 |-- R8 ) ^ R6 ) ) = ( ( ( len R5 ) - ( R8 .. R5 ) ) + ( len R6 ) ) by L117 , FINSEQ_1:22
.= ( ( ( len R5 ) + ( len R6 ) ) - ( R8 .. R5 ) )
.= ( ( len ( R5 ^ R6 ) ) - ( R8 .. ( R5 ^ R6 ) ) ) by L116 , FINSEQ_1:22;
thus L138: thesis by L137 , L136 , L118 , FINSEQ_4:def 6;
end;
theorem
L139: (for R5 being FinSequence holds (for R6 being FinSequence holds (for R8 being set holds (R8 in ( ( rng R6 ) \ ( rng R5 ) ) implies ( ( R5 ^ R6 ) |-- R8 ) = ( R6 |-- R8 )))))
proof
let R5 being FinSequence;
let R6 being FinSequence;
let R8 being set;
assume L140: R8 in ( ( rng R6 ) \ ( rng R5 ) );
L141: ( ( len R5 ) + ( R8 .. R6 ) ) = ( R8 .. ( R5 ^ R6 ) ) by L140 , L85;
L142:
now
let R13 being Nat;
L143: R13 <= ( R13 + ( R8 .. R6 ) ) by NAT_1:11;
L144: ( len ( R6 |-- R8 ) ) = ( ( len R6 ) - ( R8 .. R6 ) ) by L140 , FINSEQ_4:def 6;
L145: ( ( len ( R6 |-- R8 ) ) + ( R8 .. R6 ) ) = ( len R6 ) by L144;
assume L146: R13 in ( dom ( R6 |-- R8 ) );
L147: R13 <= ( len ( R6 |-- R8 ) ) by L146 , FINSEQ_3:25;
L148: ( R13 + ( R8 .. R6 ) ) <= ( len R6 ) by L147 , L145 , XREAL_1:6;
L149: 1 <= R13 by L146 , FINSEQ_3:25;
L150: 1 <= ( R13 + ( R8 .. R6 ) ) by L149 , L143 , XXREAL_0:2;
L151: ( R13 + ( R8 .. R6 ) ) in ( dom R6 ) by L150 , L148 , FINSEQ_3:25;
thus L152: ( ( R6 |-- R8 ) . R13 ) = ( R6 . ( R13 + ( R8 .. R6 ) ) ) by L140 , L146 , FINSEQ_4:def 6
.= ( ( R5 ^ R6 ) . ( ( len R5 ) + ( R13 + ( R8 .. R6 ) ) ) ) by L151 , FINSEQ_1:def 7
.= ( ( R5 ^ R6 ) . ( R13 + ( R8 .. ( R5 ^ R6 ) ) ) ) by L141;
end;
L153: ( rng ( R5 ^ R6 ) ) = ( ( rng R5 ) \/ ( rng R6 ) ) by FINSEQ_1:31;
L154: R8 in ( rng ( R5 ^ R6 ) ) by L153 , L140 , XBOOLE_0:def 3;
L155: ( len ( R6 |-- R8 ) ) = ( ( len R6 ) - ( R8 .. R6 ) ) by L140 , FINSEQ_4:def 6
.= ( ( ( len R5 ) + ( len R6 ) ) - ( ( len R5 ) + ( R8 .. R6 ) ) )
.= ( ( len ( R5 ^ R6 ) ) - ( R8 .. ( R5 ^ R6 ) ) ) by L141 , FINSEQ_1:22;
thus L156: thesis by L155 , L154 , L142 , FINSEQ_4:def 6;
end;
theorem
L157: (for R5 being FinSequence holds (for R6 being FinSequence holds R5 c= ( R5 ^ R6 )))
proof
let R5 being FinSequence;
let R6 being FinSequence;
L158: (for B4 being set holds (B4 in ( dom R5 ) implies ( R5 . B4 ) = ( ( R5 ^ R6 ) . B4 ))) by FINSEQ_1:def 7;
L159: ( dom R5 ) c= ( dom ( R5 ^ R6 ) ) by FINSEQ_1:26;
thus L160: thesis by L159 , L158 , GRFUNC_1:2;
end;
theorem
L161: (for R5 being FinSequence holds (for R6 being FinSequence holds (for B5 being set holds (B5 c= ( dom R5 ) implies ( ( R5 ^ R6 ) | B5 ) = ( R5 | B5 ))))) by L157 , GRFUNC_1:27;
theorem
L162: (for R5 being FinSequence holds (for R6 being FinSequence holds (for R8 being set holds (R8 in ( rng R5 ) implies ( ( R5 ^ R6 ) -| R8 ) = ( R5 -| R8 )))))
proof
let R5 being FinSequence;
let R6 being FinSequence;
let R8 being set;
assume L163: R8 in ( rng R5 );
consider C5 being Nat such that L164: C5 = ( ( R8 .. R5 ) - 1 ) and L165: ( R5 | ( Seg C5 ) ) = ( R5 -| R8 ) by L163 , FINSEQ_4:def 5;
L166: ( R8 .. R5 ) <= ( len R5 ) by L163 , FINSEQ_4:21;
L167: ( C5 + 1 ) = ( R8 .. R5 ) by L164;
L168: C5 <= ( R8 .. R5 ) by L167 , NAT_1:11;
L169: C5 <= ( len R5 ) by L168 , L166 , XXREAL_0:2;
L170: ( Seg C5 ) c= ( Seg ( len R5 ) ) by L169 , FINSEQ_1:5;
L171: ( Seg C5 ) c= ( dom R5 ) by L170 , FINSEQ_1:def 3;
L172: ( ( R5 ^ R6 ) | ( Seg C5 ) ) = ( R5 | ( Seg C5 ) ) by L171 , L157 , GRFUNC_1:27;
L173: ( rng ( R5 ^ R6 ) ) = ( ( rng R5 ) \/ ( rng R6 ) ) by FINSEQ_1:31;
L174: R8 in ( rng ( R5 ^ R6 ) ) by L173 , L163 , XBOOLE_0:def 3;
L175: C5 = ( ( R8 .. ( R5 ^ R6 ) ) - 1 ) by L163 , L164 , L69;
thus L176: thesis by L175 , L165 , L174 , L172 , FINSEQ_4:def 5;
end;
registration
let R5 being FinSequence;
let C6 being Nat;
cluster ( R5 | ( Seg C6 ) ) ->  FinSequence-like;
coherence by FINSEQ_1:15;
end;
theorem
L178: (for R5 being FinSequence holds (for R6 being FinSequence holds (for R7 being FinSequence holds (R5 c= R6 implies ( R7 ^ R5 ) c= ( R7 ^ R6 )))))
proof
let R5 being FinSequence;
let R6 being FinSequence;
let R7 being FinSequence;
assume L179: R5 c= R6;
L180: ( dom ( R7 ^ R5 ) ) c= ( dom ( R7 ^ R6 ) )
proof
let R1 being set;
assume L181: R1 in ( dom ( R7 ^ R5 ) );
reconsider D10 = R1 as (Element of ( NAT )) by L181;
per cases  by L181 , FINSEQ_1:25;
suppose L182: D10 in ( dom R7 );

L183: ( dom R7 ) c= ( dom ( R7 ^ R6 ) ) by FINSEQ_1:26;
thus L184: thesis by L183 , L182;
end;
suppose L185: (ex B6 being Nat st (B6 in ( dom R5 ) & D10 = ( ( len R7 ) + B6 )));

L186: ( dom R5 ) c= ( dom R6 ) by L179 , RELAT_1:11;
thus L187: thesis by L186 , L185 , FINSEQ_1:28;
end;
end;
L189: (for R1 being set holds (R1 in ( dom ( R7 ^ R5 ) ) implies ( ( R7 ^ R5 ) . R1 ) = ( ( R7 ^ R6 ) . R1 )))
proof
let R1 being set;
assume L190: R1 in ( dom ( R7 ^ R5 ) );
reconsider D11 = R1 as (Element of ( NAT )) by L190;
per cases  by L190 , FINSEQ_1:25;
suppose L191: D11 in ( dom R7 );

thus L192: ( ( R7 ^ R5 ) . R1 ) = ( R7 . D11 ) by L191 , FINSEQ_1:def 7
.= ( ( R7 ^ R6 ) . R1 ) by L191 , FINSEQ_1:def 7;
end;
suppose L193: (ex B7 being Nat st (B7 in ( dom R5 ) & D11 = ( ( len R7 ) + B7 )));

L194: ( dom R5 ) c= ( dom R6 ) by L179 , RELAT_1:11;
consider C7 being Nat such that L195: C7 in ( dom R5 ) and L196: D11 = ( ( len R7 ) + C7 ) by L193;
thus L197: ( ( R7 ^ R5 ) . R1 ) = ( R5 . C7 ) by L195 , L196 , FINSEQ_1:def 7
.= ( R6 . C7 ) by L179 , L195 , GRFUNC_1:2
.= ( ( R7 ^ R6 ) . R1 ) by L195 , L196 , L194 , FINSEQ_1:def 7;
end;
end;
thus L199: thesis by L189 , L180 , GRFUNC_1:2;
end;
theorem
L200: (for R5 being FinSequence holds (for R6 being FinSequence holds (for R12 being Nat holds ( ( R5 ^ R6 ) | ( Seg ( ( len R5 ) + R12 ) ) ) = ( R5 ^ ( R6 | ( Seg R12 ) ) ))))
proof
let R5 being FinSequence;
let R6 being FinSequence;
let R12 being Nat;
L201: ( dom ( R5 ^ ( R6 | ( Seg R12 ) ) ) ) c= ( Seg ( ( len R5 ) + R12 ) )
proof
let R1 being set;
assume L202: R1 in ( dom ( R5 ^ ( R6 | ( Seg R12 ) ) ) );
reconsider D12 = R1 as (Element of ( NAT )) by L202;
per cases  by L202 , FINSEQ_1:25;
suppose L203: D12 in ( dom R5 );

L204: ( len R5 ) <= ( ( len R5 ) + R12 ) by NAT_1:11;
L205: ( Seg ( len R5 ) ) c= ( Seg ( ( len R5 ) + R12 ) ) by L204 , FINSEQ_1:5;
L206: D12 in ( Seg ( len R5 ) ) by L203 , FINSEQ_1:def 3;
thus L207: thesis by L206 , L205;
end;
suppose L208: (ex B8 being Nat st (B8 in ( dom ( R6 | ( Seg R12 ) ) ) & D12 = ( ( len R5 ) + B8 )));

consider C8 being Nat such that L209: C8 in ( dom ( R6 | ( Seg R12 ) ) ) and L210: D12 = ( ( len R5 ) + C8 ) by L208;
L211: C8 <= D12 by L210 , NAT_1:11;
L212: ( dom ( R6 | ( Seg R12 ) ) ) = ( ( dom R6 ) /\ ( Seg R12 ) ) by RELAT_1:61;
L213: C8 in ( Seg R12 ) by L212 , L209 , XBOOLE_0:def 4;
L214: C8 <= R12 by L213 , FINSEQ_1:1;
L215: D12 <= ( ( len R5 ) + R12 ) by L214 , L210 , XREAL_1:6;
L216: 1 <= C8 by L209 , FINSEQ_3:25;
L217: 1 <= D12 by L216 , L211 , XXREAL_0:2;
thus L218: thesis by L217 , L215 , FINSEQ_1:1;
end;
end;
L220: ( ( dom ( R5 ^ R6 ) ) /\ ( Seg ( ( len R5 ) + R12 ) ) ) c= ( dom ( R5 ^ ( R6 | ( Seg R12 ) ) ) )
proof
let R1 being set;
assume L221: R1 in ( ( dom ( R5 ^ R6 ) ) /\ ( Seg ( ( len R5 ) + R12 ) ) );
L222: R1 in ( dom ( R5 ^ R6 ) ) by L221 , XBOOLE_0:def 4;
reconsider D13 = R1 as (Element of ( NAT )) by L221;
per cases  by L222 , FINSEQ_1:25;
suppose L223: D13 in ( dom R5 );

L224: ( dom R5 ) c= ( dom ( R5 ^ ( R6 | ( Seg R12 ) ) ) ) by FINSEQ_1:26;
thus L225: thesis by L224 , L223;
end;
suppose L226: (ex B9 being Nat st (B9 in ( dom R6 ) & D13 = ( ( len R5 ) + B9 )));

consider C9 being Nat such that L227: C9 in ( dom R6 ) and L228: D13 = ( ( len R5 ) + C9 ) by L226;
L229: 1 <= C9 by L227 , FINSEQ_3:25;
L230: ( dom ( R6 | ( Seg R12 ) ) ) = ( ( dom R6 ) /\ ( Seg R12 ) ) by RELAT_1:61;
L231: D13 in ( Seg ( ( len R5 ) + R12 ) ) by L221 , XBOOLE_0:def 4;
L232: D13 <= ( ( len R5 ) + R12 ) by L231 , FINSEQ_1:1;
L233: C9 <= R12 by L232 , L228 , XREAL_1:6;
L234: C9 in ( Seg R12 ) by L233 , L229 , FINSEQ_1:1;
L235: C9 in ( dom ( R6 | ( Seg R12 ) ) ) by L234 , L227 , L230 , XBOOLE_0:def 4;
thus L236: thesis by L235 , L228 , FINSEQ_1:28;
end;
end;
L238: ( dom ( ( R5 ^ R6 ) | ( Seg ( ( len R5 ) + R12 ) ) ) ) = ( ( dom ( R5 ^ R6 ) ) /\ ( Seg ( ( len R5 ) + R12 ) ) ) by RELAT_1:61;
L239:
now
let C10 being Nat;
assume L240: C10 in ( dom ( ( R5 ^ R6 ) | ( Seg ( ( len R5 ) + R12 ) ) ) );
L241: 1 <= C10 by L240 , FINSEQ_3:25;
per cases ;
suppose L242: C10 <= ( len R5 );

L243: C10 in ( dom R5 ) by L242 , L241 , FINSEQ_3:25;
thus L244: ( ( ( R5 ^ R6 ) | ( Seg ( ( len R5 ) + R12 ) ) ) . C10 ) = ( ( R5 ^ R6 ) . C10 ) by L240 , FUNCT_1:47
.= ( R5 . C10 ) by L243 , FINSEQ_1:def 7
.= ( ( R5 ^ ( R6 | ( Seg R12 ) ) ) . C10 ) by L243 , FINSEQ_1:def 7;
end;
suppose L245: C10 > ( len R5 );

reconsider D14 = ( C10 - ( len R5 ) ) as (Element of ( NAT )) by L245 , INT_1:5;
L246: D14 > ( 0 ) by L245 , XREAL_1:50;
L247: 1 <= D14 by L246 , NAT_1:14;
L248: C10 = ( ( len R5 ) + D14 );
L249: (not C10 in ( dom R5 )) by L245 , FINSEQ_3:25;
L250: C10 in ( dom ( R5 ^ R6 ) ) by L238 , L240 , XBOOLE_0:def 4;
L251: (ex B10 being Nat st (B10 in ( dom R6 ) & C10 = ( ( len R5 ) + B10 ))) by L250 , L249 , FINSEQ_1:25;
L252: C10 in ( Seg ( ( len R5 ) + R12 ) ) by L238 , L240 , XBOOLE_0:def 4;
L253: C10 <= ( ( len R5 ) + R12 ) by L252 , FINSEQ_1:1;
L254: D14 <= R12 by L253 , L248 , XREAL_1:6;
L255: D14 in ( Seg R12 ) by L254 , L247 , FINSEQ_1:1;
L256: ( dom ( R6 | ( Seg R12 ) ) ) = ( ( dom R6 ) /\ ( Seg R12 ) ) by RELAT_1:61;
L257: D14 in ( dom ( R6 | ( Seg R12 ) ) ) by L256 , L255 , L251 , XBOOLE_0:def 4;
thus L258: ( ( ( R5 ^ R6 ) | ( Seg ( ( len R5 ) + R12 ) ) ) . C10 ) = ( ( R5 ^ R6 ) . C10 ) by L240 , FUNCT_1:47
.= ( R6 . D14 ) by L251 , FINSEQ_1:def 7
.= ( ( R6 | ( Seg R12 ) ) . D14 ) by L257 , FUNCT_1:47
.= ( ( R5 ^ ( R6 | ( Seg R12 ) ) ) . C10 ) by L248 , L257 , FINSEQ_1:def 7;
end;
end;
L260: ( R5 ^ ( R6 | ( Seg R12 ) ) ) c= ( R5 ^ R6 ) by L178 , RELAT_1:59;
L261: ( dom ( R5 ^ ( R6 | ( Seg R12 ) ) ) ) c= ( dom ( R5 ^ R6 ) ) by L260 , RELAT_1:11;
L262: ( dom ( R5 ^ ( R6 | ( Seg R12 ) ) ) ) c= ( ( dom ( R5 ^ R6 ) ) /\ ( Seg ( ( len R5 ) + R12 ) ) ) by L261 , L201 , XBOOLE_1:19;
L263: ( dom ( ( R5 ^ R6 ) | ( Seg ( ( len R5 ) + R12 ) ) ) ) = ( dom ( R5 ^ ( R6 | ( Seg R12 ) ) ) ) by L262 , L238 , L220 , XBOOLE_0:def 10;
thus L264: thesis by L263 , L239 , FINSEQ_1:13;
end;
theorem
L265: (for R5 being FinSequence holds (for R6 being FinSequence holds (for R8 being set holds (R8 in ( ( rng R6 ) \ ( rng R5 ) ) implies ( ( R5 ^ R6 ) -| R8 ) = ( R5 ^ ( R6 -| R8 ) )))))
proof
let R5 being FinSequence;
let R6 being FinSequence;
let R8 being set;
assume L266: R8 in ( ( rng R6 ) \ ( rng R5 ) );
consider C11 being Nat such that L267: C11 = ( ( R8 .. R6 ) - 1 ) and L268: ( R6 | ( Seg C11 ) ) = ( R6 -| R8 ) by L266 , FINSEQ_4:def 5;
L269: ( R8 .. ( R5 ^ R6 ) ) = ( ( len R5 ) + ( R8 .. R6 ) ) by L266 , L85;
L270: ( ( len R5 ) + C11 ) = ( ( R8 .. ( R5 ^ R6 ) ) - 1 ) by L269 , L267;
L271: ( rng ( R5 ^ R6 ) ) = ( ( rng R5 ) \/ ( rng R6 ) ) by FINSEQ_1:31;
L272: R8 in ( rng ( R5 ^ R6 ) ) by L271 , L266 , XBOOLE_0:def 3;
L273: ( ( R5 ^ R6 ) | ( Seg ( ( len R5 ) + C11 ) ) ) = ( R5 ^ ( R6 -| R8 ) ) by L268 , L200;
thus L274: thesis by L273 , L272 , L270 , FINSEQ_4:def 5;
end;
theorem
L275: (for R5 being FinSequence holds (for R6 being FinSequence holds (for R8 being set holds (( R5 ^ R6 ) just_once_values R8 implies R8 in ( ( rng R5 ) \+\ ( rng R6 ) )))))
proof
let R5 being FinSequence;
let R6 being FinSequence;
let R8 being set;
L276: ( rng ( R5 ^ R6 ) ) = ( ( rng R5 ) \/ ( rng R6 ) ) by FINSEQ_1:31;
assume L277: ( R5 ^ R6 ) just_once_values R8;
L278:
now
assume L279: R8 in ( ( rng R5 ) /\ ( rng R6 ) );
L280: R8 in ( rng R5 ) by L279 , XBOOLE_0:def 4;
L281: ( ( R5 ^ R6 ) |-- R8 ) = ( ( R5 |-- R8 ) ^ R6 ) by L280 , L114;
L282: (not R8 in ( rng ( ( R5 |-- R8 ) ^ R6 ) )) by L281 , L277 , FINSEQ_4:45;
L283: ( rng ( ( R5 |-- R8 ) ^ R6 ) ) = ( ( rng ( R5 |-- R8 ) ) \/ ( rng R6 ) ) by FINSEQ_1:31;
L284: (not R8 in ( rng R6 )) by L283 , L282 , XBOOLE_0:def 3;
thus L285: contradiction by L284 , L279 , XBOOLE_0:def 4;
end;
L286: R8 in ( rng ( R5 ^ R6 ) ) by L277 , FINSEQ_4:5;
L287: R8 in ( ( ( rng R5 ) \/ ( rng R6 ) ) \ ( ( rng R5 ) /\ ( rng R6 ) ) ) by L286 , L276 , L278 , XBOOLE_0:def 5;
thus L288: thesis by L287 , XBOOLE_1:101;
end;
theorem
L289: (for R5 being FinSequence holds (for R6 being FinSequence holds (for R8 being set holds ((( R5 ^ R6 ) just_once_values R8 & R8 in ( rng R5 )) implies R5 just_once_values R8))))
proof
let R5 being FinSequence;
let R6 being FinSequence;
let R8 being set;
assume that
L290: ( R5 ^ R6 ) just_once_values R8
and
L291: R8 in ( rng R5 );
L292: ( ( R5 ^ R6 ) |-- R8 ) = ( ( R5 |-- R8 ) ^ R6 ) by L291 , L114;
L293: ( rng ( ( R5 ^ R6 ) |-- R8 ) ) = ( ( rng ( R5 |-- R8 ) ) \/ ( rng R6 ) ) by L292 , FINSEQ_1:31;
L294: (not R8 in ( rng ( ( R5 ^ R6 ) |-- R8 ) )) by L290 , FINSEQ_4:45;
L295: (not R8 in ( rng ( R5 |-- R8 ) )) by L294 , L293 , XBOOLE_0:def 3;
thus L296: thesis by L295 , L291 , FINSEQ_4:45;
end;
theorem
L297: (for R8 being set holds ( R8 .. <* R8 *> ) = 1)
proof
let R8 being set;
L298: (for R12 being Nat holds ((1 <= R12 & R12 < 1) implies ( <* R8 *> . R12 ) <> ( <* R8 *> . 1 )));
L299: ( dom <* R8 *> ) = ( Seg 1 ) by FINSEQ_1:38;
L300: 1 in ( dom <* R8 *> ) by L299 , FINSEQ_1:2 , TARSKI:def 1;
L301: ( <* R8 *> . 1 ) = R8 by FINSEQ_1:40;
thus L302: thesis by L301 , L300 , L298 , L30;
end;
theorem
L303: (for R9 being set holds (for R10 being set holds ( R9 .. <* R9 , R10 *> ) = 1))
proof
let R9 being set;
let R10 being set;
L304: (for R12 being Nat holds ((1 <= R12 & R12 < 1) implies ( <* R9 , R10 *> . R12 ) <> ( <* R9 , R10 *> . 1 )));
L305: ( len <* R9 , R10 *> ) = 2 by FINSEQ_1:44;
L306: 1 in ( dom <* R9 , R10 *> ) by L305 , FINSEQ_3:25;
L307: ( <* R9 , R10 *> . 1 ) = R9 by FINSEQ_1:44;
thus L308: thesis by L307 , L306 , L304 , L30;
end;
theorem
L309: (for R9 being set holds (for R10 being set holds (R9 <> R10 implies ( R10 .. <* R9 , R10 *> ) = 2)))
proof
let R9 being set;
let R10 being set;
L310: ( <* R9 , R10 *> . 2 ) = R10 by FINSEQ_1:44;
L311: ( <* R9 , R10 *> . 1 ) = R9 by FINSEQ_1:44;
assume L312: R9 <> R10;
L313:
now
let R12 being Nat;
assume L314: 1 <= R12;
assume L315: R12 < ( 1 + 1 );
L316: R12 <= 1 by L315 , NAT_1:13;
thus L317: ( <* R9 , R10 *> . R12 ) <> ( <* R9 , R10 *> . 2 ) by L316 , L312 , L310 , L311 , L314 , XXREAL_0:1;
end;
L318: 2 <= ( len <* R9 , R10 *> ) by FINSEQ_1:44;
L319: 2 in ( dom <* R9 , R10 *> ) by L318 , FINSEQ_3:25;
thus L320: thesis by L319 , L310 , L313 , L30;
end;
theorem
L321: (for R9 being set holds (for R10 being set holds (for R11 being set holds ( R9 .. <* R9 , R10 , R11 *> ) = 1)))
proof
let R9 being set;
let R10 being set;
let R11 being set;
L322: (for R12 being Nat holds ((1 <= R12 & R12 < 1) implies ( <* R9 , R10 , R11 *> . R12 ) <> ( <* R9 , R10 , R11 *> . 1 )));
L323: ( len <* R9 , R10 , R11 *> ) = 3 by FINSEQ_1:45;
L324: 1 in ( dom <* R9 , R10 , R11 *> ) by L323 , FINSEQ_3:25;
L325: ( <* R9 , R10 , R11 *> . 1 ) = R9 by FINSEQ_1:45;
thus L326: thesis by L325 , L324 , L322 , L30;
end;
theorem
L327: (for R9 being set holds (for R10 being set holds (for R11 being set holds (R9 <> R10 implies ( R10 .. <* R9 , R10 , R11 *> ) = 2))))
proof
let R9 being set;
let R10 being set;
let R11 being set;
L328: ( <* R9 , R10 , R11 *> . 2 ) = R10 by FINSEQ_1:45;
L329: ( <* R9 , R10 , R11 *> . 1 ) = R9 by FINSEQ_1:45;
assume L330: R9 <> R10;
L331:
now
let R12 being Nat;
assume L332: 1 <= R12;
assume L333: R12 < ( 1 + 1 );
L334: R12 <= 1 by L333 , NAT_1:13;
thus L335: ( <* R9 , R10 , R11 *> . R12 ) <> ( <* R9 , R10 , R11 *> . 2 ) by L334 , L330 , L328 , L329 , L332 , XXREAL_0:1;
end;
L336: ( len <* R9 , R10 , R11 *> ) = 3 by FINSEQ_1:45;
L337: 2 in ( dom <* R9 , R10 , R11 *> ) by L336 , FINSEQ_3:25;
thus L338: thesis by L337 , L328 , L331 , L30;
end;
theorem
L339: (for R9 being set holds (for R10 being set holds (for R11 being set holds ((R9 <> R11 & R10 <> R11) implies ( R11 .. <* R9 , R10 , R11 *> ) = 3))))
proof
let R9 being set;
let R10 being set;
let R11 being set;
assume that
L340: R9 <> R11
and
L341: R10 <> R11;
L342: ( <* R9 , R10 , R11 *> . 3 ) = R11 by FINSEQ_1:45;
L343: ( <* R9 , R10 , R11 *> . 1 ) = R9 by FINSEQ_1:45;
L344: ( <* R9 , R10 , R11 *> . 2 ) = R10 by FINSEQ_1:45;
L345:
now
let R12 being Nat;
assume L346: 1 <= R12;
L347: R12 <> ( 0 ) by L346;
assume L348: R12 < ( 2 + 1 );
L349: R12 <= 2 by L348 , NAT_1:13;
thus L350: ( <* R9 , R10 , R11 *> . R12 ) <> ( <* R9 , R10 , R11 *> . 3 ) by L349 , L340 , L341 , L342 , L344 , L343 , L347 , NAT_1:26;
end;
L351: 3 <= ( len <* R9 , R10 , R11 *> ) by FINSEQ_1:45;
L352: 3 in ( dom <* R9 , R10 , R11 *> ) by L351 , FINSEQ_3:25;
thus L353: thesis by L352 , L342 , L345 , L30;
end;
theorem
L354: (for R8 being set holds (for B11 being FinSequence holds ( Rev ( <* R8 *> ^ B11 ) ) = ( ( Rev B11 ) ^ <* R8 *> )))
proof
let R8 being set;
let C12 being FinSequence;
thus L355: ( Rev ( <* R8 *> ^ C12 ) ) = ( ( Rev C12 ) ^ ( Rev <* R8 *> ) ) by FINSEQ_5:64
.= ( ( Rev C12 ) ^ <* R8 *> ) by FINSEQ_5:60;
end;
theorem
L356: (for B12 being FinSequence holds ( Rev ( Rev B12 ) ) = B12);
theorem
L357: (for R1 being set holds (for R2 being set holds (R1 <> R2 implies ( <* R1 , R2 *> -| R2 ) = <* R1 *>)))
proof
let R1 being set;
let R2 being set;
assume L358: R1 <> R2;
L359: ( R2 .. <* R1 , R2 *> ) = ( 1 + 1 ) by L358 , L309;
L360: 1 = ( ( R2 .. <* R1 , R2 *> ) - 1 ) by L359;
L361: ( rng <* R1 , R2 *> ) = { R1 , R2 } by L7;
L362: R2 in ( rng <* R1 , R2 *> ) by L361 , TARSKI:def 2;
thus L363: ( <* R1 , R2 *> -| R2 ) = ( <* R1 , R2 *> | ( Seg 1 ) ) by L362 , L360 , FINSEQ_4:33
.= <* R1 *> by L39;
end;
theorem
L364: (for R1 being set holds (for R2 being set holds (for R3 being set holds (R1 <> R2 implies ( <* R1 , R2 , R3 *> -| R2 ) = <* R1 *>))))
proof
let R1 being set;
let R2 being set;
let R3 being set;
assume L365: R1 <> R2;
L366: ( R2 .. <* R1 , R2 , R3 *> ) = ( 1 + 1 ) by L365 , L327;
L367: 1 = ( ( R2 .. <* R1 , R2 , R3 *> ) - 1 ) by L366;
L368: ( rng <* R1 , R2 , R3 *> ) = { R1 , R2 , R3 } by L10;
L369: R2 in ( rng <* R1 , R2 , R3 *> ) by L368 , ENUMSET1:def 1;
thus L370: ( <* R1 , R2 , R3 *> -| R2 ) = ( <* R1 , R2 , R3 *> | ( Seg 1 ) ) by L369 , L367 , FINSEQ_4:33
.= <* R1 *> by L48;
end;
theorem
L371: (for R1 being set holds (for R2 being set holds (for R3 being set holds ((R1 <> R3 & R2 <> R3) implies ( <* R1 , R2 , R3 *> -| R3 ) = <* R1 , R2 *>))))
proof
let R1 being set;
let R2 being set;
let R3 being set;
assume that
L372: R1 <> R3
and
L373: R2 <> R3;
L374: ( rng <* R1 , R2 , R3 *> ) = { R1 , R2 , R3 } by L10;
L375: R3 in ( rng <* R1 , R2 , R3 *> ) by L374 , ENUMSET1:def 1;
L376: ( R3 .. <* R1 , R2 , R3 *> ) = ( 2 + 1 ) by L372 , L373 , L339;
L377: 2 = ( ( R3 .. <* R1 , R2 , R3 *> ) - 1 ) by L376;
thus L378: ( <* R1 , R2 , R3 *> -| R3 ) = ( <* R1 , R2 , R3 *> | ( Seg 2 ) ) by L377 , L375 , FINSEQ_4:33
.= <* R1 , R2 *> by L57;
end;
theorem
L379: (for R1 being set holds (for R2 being set holds ( <* R1 , R2 *> |-- R1 ) = <* R2 *>))
proof
let R1 being set;
let R2 being set;
L380: ( R1 .. <* R1 , R2 *> ) = 1 by L303;
L381: ( ( len <* R2 *> ) + ( R1 .. <* R1 , R2 *> ) ) = ( 1 + 1 ) by L380 , FINSEQ_1:40
.= ( len <* R1 , R2 *> ) by FINSEQ_1:44;
L382: ( len <* R2 *> ) = ( ( len <* R1 , R2 *> ) - ( R1 .. <* R1 , R2 *> ) ) by L381;
L383:
now
let R13 being Nat;
assume L384: R13 in ( dom <* R2 *> );
L385: R13 in ( Seg 1 ) by L384 , FINSEQ_1:38;
L386: R13 = 1 by L385 , FINSEQ_1:2 , TARSKI:def 1;
thus L387: ( <* R2 *> . R13 ) = R2 by L386 , FINSEQ_1:40
.= ( <* R1 , R2 *> . ( R13 + ( R1 .. <* R1 , R2 *> ) ) ) by L380 , L386 , FINSEQ_1:44;
end;
L388: R1 in { R1 , R2 } by TARSKI:def 2;
L389: R1 in ( rng <* R1 , R2 *> ) by L388 , L7;
thus L390: thesis by L389 , L382 , L383 , FINSEQ_4:def 6;
end;
theorem
L391: (for R1 being set holds (for R2 being set holds (for R3 being set holds (R1 <> R2 implies ( <* R1 , R2 , R3 *> |-- R2 ) = <* R3 *>))))
proof
let R1 being set;
let R2 being set;
let R3 being set;
assume L392: R1 <> R2;
L393: ( R2 .. <* R1 , R2 , R3 *> ) = 2 by L392 , L327;
L394: ( ( len <* R3 *> ) + ( R2 .. <* R1 , R2 , R3 *> ) ) = ( 1 + 2 ) by L393 , FINSEQ_1:40
.= ( len <* R1 , R2 , R3 *> ) by FINSEQ_1:45;
L395: ( len <* R3 *> ) = ( ( len <* R1 , R2 , R3 *> ) - ( R2 .. <* R1 , R2 , R3 *> ) ) by L394;
L396:
now
let R13 being Nat;
assume L397: R13 in ( dom <* R3 *> );
L398: R13 in ( Seg 1 ) by L397 , FINSEQ_1:38;
L399: R13 = 1 by L398 , FINSEQ_1:2 , TARSKI:def 1;
thus L400: ( <* R3 *> . R13 ) = R3 by L399 , FINSEQ_1:40
.= ( <* R1 , R2 , R3 *> . ( R13 + ( R2 .. <* R1 , R2 , R3 *> ) ) ) by L393 , L399 , FINSEQ_1:45;
end;
L401: R2 in { R1 , R2 , R3 } by ENUMSET1:def 1;
L402: R2 in ( rng <* R1 , R2 , R3 *> ) by L401 , L10;
thus L403: thesis by L402 , L395 , L396 , FINSEQ_4:def 6;
end;
theorem
L404: (for R1 being set holds (for R2 being set holds (for R3 being set holds ( <* R1 , R2 , R3 *> |-- R1 ) = <* R2 , R3 *>)))
proof
let R1 being set;
let R2 being set;
let R3 being set;
L405: ( R1 .. <* R1 , R2 , R3 *> ) = 1 by L321;
L406: ( ( len <* R2 , R3 *> ) + ( R1 .. <* R1 , R2 , R3 *> ) ) = ( 2 + 1 ) by L405 , FINSEQ_1:44
.= ( len <* R1 , R2 , R3 *> ) by FINSEQ_1:45;
L407: ( len <* R2 , R3 *> ) = ( ( len <* R1 , R2 , R3 *> ) - ( R1 .. <* R1 , R2 , R3 *> ) ) by L406;
L408: ( len <* R2 , R3 *> ) = 2 by FINSEQ_1:44;
L409:
now
let R13 being Nat;
assume L410: R13 in ( dom <* R2 , R3 *> );
L411: R13 in ( Seg 2 ) by L410 , L408 , FINSEQ_1:def 3;
per cases  by L411 , FINSEQ_1:2 , TARSKI:def 2;
suppose L412: R13 = 1;

thus L413: ( <* R2 , R3 *> . R13 ) = R2 by L412 , FINSEQ_1:44
.= ( <* R1 , R2 , R3 *> . ( R13 + ( R1 .. <* R1 , R2 , R3 *> ) ) ) by L405 , L412 , FINSEQ_1:45;
end;
suppose L414: R13 = 2;

thus L415: ( <* R2 , R3 *> . R13 ) = R3 by L414 , FINSEQ_1:44
.= ( <* R1 , R2 , R3 *> . ( R13 + ( R1 .. <* R1 , R2 , R3 *> ) ) ) by L405 , L414 , FINSEQ_1:45;
end;
end;
L417: R1 in { R1 , R2 , R3 } by ENUMSET1:def 1;
L418: R1 in ( rng <* R1 , R2 , R3 *> ) by L417 , L10;
thus L419: thesis by L418 , L407 , L409 , FINSEQ_4:def 6;
end;
theorem
L420: (for R3 being set holds (( <* R3 *> |-- R3 ) = ( {} ) & ( <* R3 *> -| R3 ) = ( {} )))
proof
let R3 being set;
L421: R3 in { R3 } by TARSKI:def 1;
L422: R3 in ( rng <* R3 *> ) by L421 , FINSEQ_1:39;
L423: ( R3 .. <* R3 *> ) = 1 by L297;
L424: ( len <* R3 *> ) = 1 by FINSEQ_1:39;
thus L425: ( <* R3 *> |-- R3 ) = ( {} ) by L424 , L422 , L423 , FINSEQ_4:49;
thus L426: thesis by L422 , L423 , FINSEQ_4:40;
end;
theorem
L427: (for R1 being set holds (for R2 being set holds (R1 <> R2 implies ( <* R1 , R2 *> |-- R2 ) = ( {} ))))
proof
let R1 being set;
let R2 being set;
L428: R2 in { R1 , R2 } by TARSKI:def 2;
L429: R2 in ( rng <* R1 , R2 *> ) by L428 , L7;
assume L430: R1 <> R2;
L431: ( R2 .. <* R1 , R2 *> ) = 2 by L430 , L309;
L432: ( len <* R1 , R2 *> ) = 2 by FINSEQ_1:44;
thus L433: thesis by L432 , L429 , L431 , FINSEQ_4:49;
end;
theorem
L434: (for R1 being set holds (for R2 being set holds (for R3 being set holds ((R1 <> R3 & R2 <> R3) implies ( <* R1 , R2 , R3 *> |-- R3 ) = ( {} )))))
proof
let R1 being set;
let R2 being set;
let R3 being set;
assume that
L435: R1 <> R3
and
L436: R2 <> R3;
L437: ( len <* R1 , R2 , R3 *> ) = 3 by FINSEQ_1:45;
L438: R3 in { R1 , R2 , R3 } by ENUMSET1:def 1;
L439: R3 in ( rng <* R1 , R2 , R3 *> ) by L438 , L10;
L440: ( R3 .. <* R1 , R2 , R3 *> ) = 3 by L435 , L436 , L339;
thus L441: thesis by L440 , L439 , L437 , FINSEQ_4:49;
end;
theorem
L442: (for R1 being set holds (for R2 being set holds (for R4 being FinSequence holds ((R1 in ( rng R4 ) & R2 in ( rng ( R4 -| R1 ) )) implies ( ( R4 -| R1 ) -| R2 ) = ( R4 -| R2 )))))
proof
let R1 being set;
let R2 being set;
let R4 being FinSequence;
assume that
L443: R1 in ( rng R4 )
and
L444: R2 in ( rng ( R4 -| R1 ) );
thus L445: ( R4 -| R2 ) = ( ( ( ( R4 -| R1 ) ^ <* R1 *> ) ^ ( R4 |-- R1 ) ) -| R2 ) by L443 , FINSEQ_4:51
.= ( ( ( R4 -| R1 ) ^ ( <* R1 *> ^ ( R4 |-- R1 ) ) ) -| R2 ) by FINSEQ_1:32
.= ( ( R4 -| R1 ) -| R2 ) by L444 , L162;
end;
theorem
L446: (for R1 being set holds (for R5 being FinSequence holds (for R6 being FinSequence holds ((not R1 in ( rng R5 )) implies ( R1 .. ( ( R5 ^ <* R1 *> ) ^ R6 ) ) = ( ( len R5 ) + 1 )))))
proof
let R1 being set;
let R5 being FinSequence;
let R6 being FinSequence;
L447: R1 in { R1 } by TARSKI:def 1;
L448: R1 in ( rng <* R1 *> ) by L447 , FINSEQ_1:38;
assume L449: (not R1 in ( rng R5 ));
L450: R1 in ( ( rng <* R1 *> ) \ ( rng R5 ) ) by L449 , L448 , XBOOLE_0:def 5;
L451: ( ( R5 ^ <* R1 *> ) |-- R1 ) = ( <* R1 *> |-- R1 ) by L450 , L139
.= ( {} ) by L420;
L452: ( rng ( R5 ^ <* R1 *> ) ) = ( ( rng R5 ) \/ ( rng <* R1 *> ) ) by FINSEQ_1:31;
L453: R1 in ( rng ( R5 ^ <* R1 *> ) ) by L452 , L448 , XBOOLE_0:def 3;
L454: ( ( len ( R5 ^ <* R1 *> ) ) - ( R1 .. ( R5 ^ <* R1 *> ) ) ) = ( len ( ( R5 ^ <* R1 *> ) |-- R1 ) ) by L453 , FINSEQ_4:def 6
.= ( 0 ) by L451;
thus L455: ( R1 .. ( ( R5 ^ <* R1 *> ) ^ R6 ) ) = ( len ( R5 ^ <* R1 *> ) ) by L454 , L453 , L69
.= ( ( len R5 ) + ( len <* R1 *> ) ) by FINSEQ_1:22
.= ( ( len R5 ) + 1 ) by FINSEQ_1:39;
end;
theorem
L456: (for R1 being set holds (for R4 being FinSequence holds (R4 just_once_values R1 implies ( ( R1 .. R4 ) + ( R1 .. ( Rev R4 ) ) ) = ( ( len R4 ) + 1 ))))
proof
let R1 being set;
let R4 being FinSequence;
assume L457: R4 just_once_values R1;
L458: R1 in ( rng R4 ) by L457 , FINSEQ_4:5;
L459: R4 = ( ( ( R4 -| R1 ) ^ <* R1 *> ) ^ ( R4 |-- R1 ) ) by L458 , FINSEQ_4:51;
L460: ( len R4 ) = ( ( len ( ( R4 -| R1 ) ^ <* R1 *> ) ) + ( len ( R4 |-- R1 ) ) ) by L459 , FINSEQ_1:22
.= ( ( ( len ( R4 -| R1 ) ) + ( len <* R1 *> ) ) + ( len ( R4 |-- R1 ) ) ) by FINSEQ_1:22
.= ( ( ( len ( R4 -| R1 ) ) + 1 ) + ( len ( R4 |-- R1 ) ) ) by FINSEQ_1:39;
L461: (not R1 in ( rng ( R4 |-- R1 ) )) by L457 , FINSEQ_4:45;
L462: (not R1 in ( rng ( Rev ( R4 |-- R1 ) ) )) by L461 , FINSEQ_5:57;
L463: ( Rev R4 ) = ( ( Rev ( R4 |-- R1 ) ) ^ ( Rev ( ( R4 -| R1 ) ^ <* R1 *> ) ) ) by L459 , FINSEQ_5:64
.= ( ( Rev ( R4 |-- R1 ) ) ^ ( <* R1 *> ^ ( Rev ( R4 -| R1 ) ) ) ) by FINSEQ_5:63
.= ( ( ( Rev ( R4 |-- R1 ) ) ^ <* R1 *> ) ^ ( Rev ( R4 -| R1 ) ) ) by FINSEQ_1:32;
L464: ( R1 .. ( Rev R4 ) ) = ( ( len ( Rev ( R4 |-- R1 ) ) ) + 1 ) by L463 , L462 , L446;
L465: ( ( len ( R4 -| R1 ) ) + 1 ) = ( ( ( R1 .. R4 ) - 1 ) + 1 ) by L458 , FINSEQ_4:34
.= ( R1 .. R4 );
thus L466: ( ( R1 .. R4 ) + ( R1 .. ( Rev R4 ) ) ) = ( ( ( ( len ( R4 -| R1 ) ) + 1 ) + ( len ( Rev ( R4 |-- R1 ) ) ) ) + 1 ) by L465 , L464
.= ( ( len R4 ) + 1 ) by L460 , FINSEQ_5:def 3;
end;
theorem
L467: (for R1 being set holds (for R4 being FinSequence holds (R4 just_once_values R1 implies ( Rev ( R4 -| R1 ) ) = ( ( Rev R4 ) |-- R1 ))))
proof
let R1 being set;
let R4 being FinSequence;
L468: ( len ( Rev ( R4 -| R1 ) ) ) = ( len ( R4 -| R1 ) ) by FINSEQ_5:def 3;
assume L469: R4 just_once_values R1;
L470: R1 in ( rng R4 ) by L469 , FINSEQ_4:5;
L471: R1 in ( rng ( Rev R4 ) ) by L470 , FINSEQ_5:57;
L472: ( ( R1 .. R4 ) + ( R1 .. ( Rev R4 ) ) ) = ( ( len R4 ) + 1 ) by L469 , L456;
L473:
now
let R13 being Nat;
consider C13 being Nat such that L474: C13 = ( ( R1 .. R4 ) - 1 ) and L475: ( R4 -| R1 ) = ( R4 | ( Seg C13 ) ) by L470 , FINSEQ_4:def 5;
assume L476: R13 in ( dom ( Rev ( R4 -| R1 ) ) );
L477: 1 <= R13 by L476 , FINSEQ_3:25;
L478: ( ( R1 .. R4 ) - R13 ) <= ( ( R1 .. R4 ) - 1 ) by L477 , XREAL_1:13;
L479: ( len ( R4 -| R1 ) ) = ( ( R1 .. R4 ) - 1 ) by L470 , FINSEQ_4:34;
L480: R13 in ( dom ( R4 -| R1 ) ) by L476 , FINSEQ_5:57;
L481: R13 <= ( ( R1 .. R4 ) - 1 ) by L480 , L479 , FINSEQ_3:25;
L482: ( R13 + 1 ) <= ( R1 .. R4 ) by L481 , XREAL_1:19;
L483: R13 < ( R1 .. R4 ) by L482 , NAT_1:13;
L484: ( R13 + ( R1 .. ( Rev R4 ) ) ) < ( ( len R4 ) + 1 ) by L483 , L472 , XREAL_1:6;
L485: ( R13 + ( R1 .. ( Rev R4 ) ) ) <= ( len R4 ) by L484 , NAT_1:13;
L486: ( R13 + ( R1 .. ( Rev R4 ) ) ) <= ( len ( Rev R4 ) ) by L485 , FINSEQ_5:def 3;
L487: 1 <= ( ( R1 .. R4 ) - R13 ) by L482 , XREAL_1:19;
L488: ( 0 ) <= ( ( R1 .. R4 ) - R13 ) by L487;
L489: ( ( R1 .. R4 ) - R13 ) is (Element of ( NAT )) by L488 , INT_1:5 , XREAL_1:49;
L490: ( ( ( ( R1 .. R4 ) - 1 ) - R13 ) + 1 ) in ( dom ( R4 | ( Seg C13 ) ) ) by L489 , L475 , L479 , L487 , L478 , FINSEQ_3:25;
L491: R13 <= ( R13 + ( R1 .. ( Rev R4 ) ) ) by NAT_1:11;
L492: 1 <= ( R13 + ( R1 .. ( Rev R4 ) ) ) by L491 , L477 , XXREAL_0:2;
L493: ( R13 + ( R1 .. ( Rev R4 ) ) ) in ( dom ( Rev R4 ) ) by L492 , L486 , FINSEQ_3:25;
thus L494: ( ( Rev ( R4 -| R1 ) ) . R13 ) = ( ( R4 -| R1 ) . ( ( ( ( R1 .. R4 ) - 1 ) - R13 ) + 1 ) ) by L476 , L479 , FINSEQ_5:def 3
.= ( R4 . ( ( ( len R4 ) - ( R13 + ( R1 .. ( Rev R4 ) ) ) ) + 1 ) ) by L472 , L475 , L490 , FUNCT_1:47
.= ( ( Rev R4 ) . ( R13 + ( R1 .. ( Rev R4 ) ) ) ) by L493 , FINSEQ_5:def 3;
end;
L495: ( len ( R4 -| R1 ) ) = ( ( R1 .. R4 ) - 1 ) by L470 , FINSEQ_4:34
.= ( ( len R4 ) - ( R1 .. ( Rev R4 ) ) ) by L472
.= ( ( len ( Rev R4 ) ) - ( R1 .. ( Rev R4 ) ) ) by FINSEQ_5:def 3;
thus L496: thesis by L495 , L471 , L468 , L473 , FINSEQ_4:def 6;
end;
theorem
L497: (for R1 being set holds (for R4 being FinSequence holds (R4 just_once_values R1 implies ( Rev R4 ) just_once_values R1)))
proof
let R1 being set;
let R4 being FinSequence;
assume L498: R4 just_once_values R1;
L499: R1 in ( rng R4 ) by L498 , FINSEQ_4:5;
L500: (not R1 in ( rng ( R4 -| R1 ) )) by L499 , FINSEQ_4:37;
L501: (not R1 in ( rng ( Rev ( R4 -| R1 ) ) )) by L500 , FINSEQ_5:57;
L502: (not R1 in ( rng ( ( Rev R4 ) |-- R1 ) )) by L501 , L498 , L467;
L503: R1 in ( rng ( Rev R4 ) ) by L499 , FINSEQ_5:57;
thus L504: thesis by L503 , L502 , FINSEQ_4:45;
end;
begin
theorem
L505: (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds (R15 in ( rng R19 ) implies ( R19 -: R15 ) = ( ( R19 -| R15 ) ^ <* R15 *> )))))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
assume L506: R15 in ( rng R19 );
thus L507: ( ( R19 -| R15 ) ^ <* R15 *> ) = ( R19 | ( R15 .. R19 ) ) by L506 , FINSEQ_5:24
.= ( R19 -: R15 ) by FINSEQ_5:def 1;
end;
theorem
L508: (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds (R15 in ( rng R19 ) implies ( R19 :- R15 ) = ( <* R15 *> ^ ( R19 |-- R15 ) )))))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
assume L509: R15 in ( rng R19 );
thus L510: ( <* R15 *> ^ ( R19 |-- R15 ) ) = ( <* R15 *> ^ ( R19 /^ ( R15 .. R19 ) ) ) by L509 , FINSEQ_5:35
.= ( R19 :- R15 ) by FINSEQ_5:def 2;
end;
theorem
L511: (for R14 being non  empty set holds (for R19 being (FinSequence of R14) holds (R19 <> ( {} ) implies ( R19 /. 1 ) in ( rng R19 ))))
proof
let R14 being non  empty set;
let R19 being (FinSequence of R14);
assume L512: R19 <> ( {} );
L513: 1 in ( dom R19 ) by L512 , FINSEQ_5:6;
thus L514: thesis by L513 , PARTFUN2:2;
end;
theorem
L515: (for R14 being non  empty set holds (for R19 being (FinSequence of R14) holds (R19 <> ( {} ) implies ( ( R19 /. 1 ) .. R19 ) = 1)))
proof
let R14 being non  empty set;
let R19 being (FinSequence of R14);
assume L516: R19 <> ( {} );
L517: 1 in ( dom R19 ) by L516 , FINSEQ_5:6;
L518: ( R19 /. 1 ) in { ( R19 /. 1 ) } by TARSKI:def 1;
L519: 1 in ( (R19 qua (Relation of ( NAT ) , R14)) " { ( R19 /. 1 ) } ) by L518 , L517 , PARTFUN2:26;
L520: ( R19 " { ( R19 /. 1 ) } ) c= ( dom R19 ) by RELAT_1:132;
L521: ( R19 " { ( R19 /. 1 ) } ) c= ( Seg ( len R19 ) ) by L520 , FINSEQ_1:def 3;
thus L522: ( ( R19 /. 1 ) .. R19 ) = ( ( Sgm ( R19 " { ( R19 /. 1 ) } ) ) . 1 ) by FINSEQ_4:def 4
.= 1 by L521 , L519 , L13;
end;
theorem
L523: (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds ((R19 <> ( {} ) & ( R19 /. 1 ) = R15) implies (( R19 -: R15 ) = <* R15 *> & ( R19 :- R15 ) = R19)))))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
assume that
L524: R19 <> ( {} )
and
L525: ( R19 /. 1 ) = R15;
L526: R15 in ( rng R19 ) by L524 , L525 , L511;
L527: ( R15 .. R19 ) = 1 by L524 , L525 , L515;
L528: ( R19 -| R15 ) = ( {} ) by L527 , L526 , FINSEQ_4:40;
thus L529: ( R19 -: R15 ) = ( ( {} ) ^ <* R15 *> ) by L528 , L526 , L505
.= <* R15 *> by FINSEQ_1:34;
thus L530: R19 = ( ( ( {} ) ^ <* R15 *> ) ^ ( R19 |-- R15 ) ) by L526 , L528 , FINSEQ_4:51
.= ( <* R15 *> ^ ( R19 |-- R15 ) ) by FINSEQ_1:34
.= ( R19 :- R15 ) by L526 , L508;
end;
theorem
L531: (for R14 being non  empty set holds (for R16 being (Element of R14) holds (for R19 being (FinSequence of R14) holds ( ( <* R16 *> ^ R19 ) /^ 1 ) = R19)))
proof
let R14 being non  empty set;
let R16 being (Element of R14);
let R19 being (FinSequence of R14);
L532: ( ( <* R16 *> ^ R19 ) /. 1 ) = R16 by FINSEQ_5:15;
L533: 1 in ( Seg 1 ) by FINSEQ_1:2 , TARSKI:def 1;
L534: 1 in ( dom <* R16 *> ) by L533 , FINSEQ_1:38;
L535: ( dom <* R16 *> ) c= ( dom ( <* R16 *> ^ R19 ) ) by FINSEQ_1:26;
L536: ( <* ( ( <* R16 *> ^ R19 ) /. ( ( 0 ) + 1 ) ) *> ^ ( ( <* R16 *> ^ R19 ) /^ 1 ) ) = ( ( <* R16 *> ^ R19 ) /^ ( 0 ) ) by L535 , L534 , FINSEQ_5:31
.= ( <* R16 *> ^ R19 ) by FINSEQ_5:28;
thus L537: thesis by L536 , L532 , FINSEQ_1:33;
end;
theorem
L538: (for R14 being non  empty set holds (for R16 being (Element of R14) holds (for R17 being (Element of R14) holds ( <* R16 , R17 *> /^ 1 ) = <* R17 *>)))
proof
let R14 being non  empty set;
let R16 being (Element of R14);
let R17 being (Element of R14);
L539: <* R16 , R17 *> = ( <* R16 *> ^ <* R17 *> ) by FINSEQ_1:def 9;
thus L540: thesis by L539 , L531;
end;
theorem
L541: (for R14 being non  empty set holds (for R16 being (Element of R14) holds (for R17 being (Element of R14) holds (for R18 being (Element of R14) holds ( <* R16 , R17 , R18 *> /^ 1 ) = <* R17 , R18 *>))))
proof
let R14 being non  empty set;
let R16 being (Element of R14);
let R17 being (Element of R14);
let R18 being (Element of R14);
L542: <* R16 , R17 , R18 *> = ( <* R16 *> ^ <* R17 , R18 *> ) by FINSEQ_1:43;
thus L543: thesis by L542 , L531;
end;
theorem
L544: (for R13 being Nat holds (for R14 being non  empty set holds (for R19 being (FinSequence of R14) holds ((R13 in ( dom R19 ) & (for R12 being Nat holds ((1 <= R12 & R12 < R13) implies ( R19 /. R12 ) <> ( R19 /. R13 )))) implies ( ( R19 /. R13 ) .. R19 ) = R13))))
proof
let R13 being Nat;
let R14 being non  empty set;
let R19 being (FinSequence of R14);
assume that
L545: R13 in ( dom R19 )
and
L546: (for R12 being Nat holds ((1 <= R12 & R12 < R13) implies ( R19 /. R12 ) <> ( R19 /. R13 )));
L547: ( R19 /. R13 ) in ( rng R19 ) by L545 , PARTFUN2:2;
assume L548: ( ( R19 /. R13 ) .. R19 ) <> R13;
L549: ( ( R19 /. R13 ) .. R19 ) <= R13 by L545 , FINSEQ_5:39;
L550: ( ( R19 /. R13 ) .. R19 ) < R13 by L549 , L548 , XXREAL_0:1;
L551: ( R19 /. ( ( R19 /. R13 ) .. R19 ) ) <> ( R19 /. R13 ) by L550 , L546 , L547 , FINSEQ_4:21;
thus L552: contradiction by L551 , L547 , FINSEQ_5:38;
end;
theorem
L553: (for R14 being non  empty set holds (for R16 being (Element of R14) holds (for R17 being (Element of R14) holds (R16 <> R17 implies ( <* R16 , R17 *> -: R17 ) = <* R16 , R17 *>))))
proof
let R14 being non  empty set;
let R16 being (Element of R14);
let R17 being (Element of R14);
assume L554: R16 <> R17;
L555: ( rng <* R16 , R17 *> ) = { R16 , R17 } by L7;
L556: R17 in ( rng <* R16 , R17 *> ) by L555 , TARSKI:def 2;
thus L557: ( <* R16 , R17 *> -: R17 ) = ( ( <* R16 , R17 *> -| R17 ) ^ <* R17 *> ) by L556 , L505
.= ( <* R16 *> ^ <* R17 *> ) by L554 , L357
.= <* R16 , R17 *> by FINSEQ_1:def 9;
end;
theorem
L558: (for R14 being non  empty set holds (for R16 being (Element of R14) holds (for R17 being (Element of R14) holds (for R18 being (Element of R14) holds (R16 <> R17 implies ( <* R16 , R17 , R18 *> -: R17 ) = <* R16 , R17 *>)))))
proof
let R14 being non  empty set;
let R16 being (Element of R14);
let R17 being (Element of R14);
let R18 being (Element of R14);
assume L559: R16 <> R17;
L560: ( rng <* R16 , R17 , R18 *> ) = { R16 , R17 , R18 } by L10;
L561: R17 in ( rng <* R16 , R17 , R18 *> ) by L560 , ENUMSET1:def 1;
thus L562: ( <* R16 , R17 , R18 *> -: R17 ) = ( ( <* R16 , R17 , R18 *> -| R17 ) ^ <* R17 *> ) by L561 , L505
.= ( <* R16 *> ^ <* R17 *> ) by L559 , L364
.= <* R16 , R17 *> by FINSEQ_1:def 9;
end;
theorem
L563: (for R14 being non  empty set holds (for R16 being (Element of R14) holds (for R17 being (Element of R14) holds (for R18 being (Element of R14) holds ((R16 <> R18 & R17 <> R18) implies ( <* R16 , R17 , R18 *> -: R18 ) = <* R16 , R17 , R18 *>)))))
proof
let R14 being non  empty set;
let R16 being (Element of R14);
let R17 being (Element of R14);
let R18 being (Element of R14);
assume that
L564: R16 <> R18
and
L565: R17 <> R18;
L566: ( rng <* R16 , R17 , R18 *> ) = { R16 , R17 , R18 } by L10;
L567: R18 in ( rng <* R16 , R17 , R18 *> ) by L566 , ENUMSET1:def 1;
thus L568: ( <* R16 , R17 , R18 *> -: R18 ) = ( ( <* R16 , R17 , R18 *> -| R18 ) ^ <* R18 *> ) by L567 , L505
.= ( <* R16 , R17 *> ^ <* R18 *> ) by L564 , L565 , L371
.= <* R16 , R17 , R18 *> by FINSEQ_1:43;
end;
theorem
L569: (for R14 being non  empty set holds (for R15 being (Element of R14) holds (( <* R15 *> :- R15 ) = <* R15 *> & ( <* R15 *> -: R15 ) = <* R15 *>)))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
L570: R15 in { R15 } by TARSKI:def 1;
L571: R15 in ( rng <* R15 *> ) by L570 , FINSEQ_1:39;
thus L572: ( <* R15 *> :- R15 ) = ( <* R15 *> ^ ( <* R15 *> |-- R15 ) ) by L571 , L508
.= ( <* R15 *> ^ ( {} ) ) by L420
.= <* R15 *> by FINSEQ_1:34;
thus L573: ( <* R15 *> -: R15 ) = ( ( <* R15 *> -| R15 ) ^ <* R15 *> ) by L571 , L505
.= ( ( {} ) ^ <* R15 *> ) by L420
.= <* R15 *> by FINSEQ_1:34;
end;
theorem
L574: (for R14 being non  empty set holds (for R16 being (Element of R14) holds (for R17 being (Element of R14) holds (R16 <> R17 implies ( <* R16 , R17 *> :- R17 ) = <* R17 *>))))
proof
let R14 being non  empty set;
let R16 being (Element of R14);
let R17 being (Element of R14);
assume L575: R16 <> R17;
L576: R17 in { R16 , R17 } by TARSKI:def 2;
L577: R17 in ( rng <* R16 , R17 *> ) by L576 , L7;
thus L578: ( <* R16 , R17 *> :- R17 ) = ( <* R17 *> ^ ( <* R16 , R17 *> |-- R17 ) ) by L577 , L508
.= ( <* R17 *> ^ ( {} ) ) by L575 , L427
.= <* R17 *> by FINSEQ_1:34;
end;
theorem
L579: (for R14 being non  empty set holds (for R16 being (Element of R14) holds (for R17 being (Element of R14) holds (for R18 being (Element of R14) holds (R16 <> R17 implies ( <* R16 , R17 , R18 *> :- R17 ) = <* R17 , R18 *>)))))
proof
let R14 being non  empty set;
let R16 being (Element of R14);
let R17 being (Element of R14);
let R18 being (Element of R14);
assume L580: R16 <> R17;
L581: R17 in { R16 , R17 , R18 } by ENUMSET1:def 1;
L582: R17 in ( rng <* R16 , R17 , R18 *> ) by L581 , L10;
thus L583: ( <* R16 , R17 , R18 *> :- R17 ) = ( <* R17 *> ^ ( <* R16 , R17 , R18 *> |-- R17 ) ) by L582 , L508
.= ( <* R17 *> ^ <* R18 *> ) by L580 , L391
.= <* R17 , R18 *> by FINSEQ_1:def 9;
end;
theorem
L584: (for R14 being non  empty set holds (for R16 being (Element of R14) holds (for R17 being (Element of R14) holds (for R18 being (Element of R14) holds ((R16 <> R18 & R17 <> R18) implies ( <* R16 , R17 , R18 *> :- R18 ) = <* R18 *>)))))
proof
let R14 being non  empty set;
let R16 being (Element of R14);
let R17 being (Element of R14);
let R18 being (Element of R14);
assume that
L585: R16 <> R18
and
L586: R17 <> R18;
L587: R18 in { R16 , R17 , R18 } by ENUMSET1:def 1;
L588: R18 in ( rng <* R16 , R17 , R18 *> ) by L587 , L10;
thus L589: ( <* R16 , R17 , R18 *> :- R18 ) = ( <* R18 *> ^ ( <* R16 , R17 , R18 *> |-- R18 ) ) by L588 , L508
.= ( <* R18 *> ^ ( {} ) ) by L585 , L586 , L434
.= <* R18 *> by FINSEQ_1:34;
end;
theorem
L590: (for R13 being Nat holds (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds ((R15 in ( rng R19 ) & ( R15 .. R19 ) > R13) implies ( R15 .. R19 ) = ( R13 + ( R15 .. ( R19 /^ R13 ) ) ))))))
proof
let R13 being Nat;
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
assume that
L591: R15 in ( rng R19 )
and
L592: ( R15 .. R19 ) > R13;
reconsider D15 = ( ( R15 .. R19 ) - R13 ) as (Element of ( NAT )) by L592 , INT_1:5;
L593: ( D15 + R13 ) <= ( len R19 ) by L591 , FINSEQ_4:21;
L594: D15 <= ( ( len R19 ) - R13 ) by L593 , XREAL_1:19;
L595: R13 <= ( R13 + D15 ) by NAT_1:11;
L596: R13 <= ( len R19 ) by L595 , L593 , XXREAL_0:2;
L597: D15 <= ( len ( R19 /^ R13 ) ) by L596 , L594 , RFINSEQ:def 1;
L598: D15 <> ( 0 ) by L592;
L599: 1 <= D15 by L598 , NAT_1:14;
L600: D15 in ( dom ( R19 /^ R13 ) ) by L599 , L597 , FINSEQ_3:25;
L601: ( R13 + D15 ) = ( R15 .. R19 );
L602:
now
let C14 being Nat;
assume that
L603: 1 <= C14
and
L604: C14 < D15;
reconsider D16 = C14 as (Element of ( NAT )) by ORDINAL1:def 12;
L605: ( R13 + C14 ) >= C14 by NAT_1:11;
L606: 1 <= ( R13 + C14 ) by L605 , L603 , XXREAL_0:2;
L607: C14 <= ( len ( R19 /^ R13 ) ) by L597 , L604 , XXREAL_0:2;
L608: C14 in ( dom ( R19 /^ R13 ) ) by L607 , L603 , FINSEQ_3:25;
L609: ( R19 /. ( R13 + C14 ) ) = ( ( R19 /^ R13 ) /. C14 ) by L608 , FINSEQ_5:27;
L610: ( R13 + D15 ) <= ( len R19 ) by L591 , FINSEQ_4:21;
L611: ( R13 + C14 ) < ( R13 + D15 ) by L604 , XREAL_1:6;
L612: ( R13 + C14 ) <= ( len R19 ) by L611 , L610 , XXREAL_0:2;
L613: ( R13 + D16 ) in ( dom R19 ) by L612 , L606 , FINSEQ_3:25;
L614: ( R13 + C14 ) < ( R15 .. R19 ) by L601 , L604 , XREAL_1:6;
L615: ( R19 /. ( R13 + C14 ) ) <> R15 by L614 , L613 , FINSEQ_5:39;
L616: ( R19 /. ( R13 + D15 ) ) = ( ( R19 /^ R13 ) /. D15 ) by L600 , FINSEQ_5:27;
thus L617: ( ( R19 /^ R13 ) /. C14 ) <> ( ( R19 /^ R13 ) /. D15 ) by L616 , L591 , L609 , L615 , FINSEQ_5:38;
end;
L618: ( ( R19 /^ R13 ) /. D15 ) = ( R19 /. ( R13 + D15 ) ) by L600 , FINSEQ_5:27
.= R15 by L591 , FINSEQ_5:38;
L619: ( ( R15 .. R19 ) - R13 ) = ( R15 .. ( R19 /^ R13 ) ) by L618 , L600 , L602 , L544;
thus L620: thesis by L619;
end;
theorem
L621: (for R13 being Nat holds (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds ((R15 in ( rng R19 ) & ( R15 .. R19 ) > R13) implies R15 in ( rng ( R19 /^ R13 ) ))))))
proof
let R13 being Nat;
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
assume that
L622: R15 in ( rng R19 )
and
L623: ( R15 .. R19 ) > R13;
L624: ( R13 + ( R15 .. ( R19 /^ R13 ) ) ) = ( R15 .. R19 ) by L622 , L623 , L590;
L625: ( R15 .. ( R19 /^ R13 ) ) <> ( 0 ) by L624 , L623;
L626: 1 <= ( R15 .. ( R19 /^ R13 ) ) by L625 , NAT_1:14;
L627: ( R15 .. R19 ) <= ( len R19 ) by L622 , FINSEQ_4:21;
L628: R13 <= ( len R19 ) by L627 , L623 , XXREAL_0:2;
L629: ( len ( R19 /^ R13 ) ) = ( ( len R19 ) - R13 ) by L628 , RFINSEQ:def 1;
L630: ( ( len ( R19 /^ R13 ) ) + R13 ) = ( len R19 ) by L629;
L631: ( R13 + ( R15 .. ( R19 /^ R13 ) ) ) <= ( len R19 ) by L622 , L624 , FINSEQ_4:21;
L632: ( R15 .. ( R19 /^ R13 ) ) <= ( len ( R19 /^ R13 ) ) by L631 , L630 , XREAL_1:6;
L633: ( R15 .. ( R19 /^ R13 ) ) in ( dom ( R19 /^ R13 ) ) by L632 , L626 , FINSEQ_3:25;
L634: ( ( R19 /^ R13 ) /. ( R15 .. ( R19 /^ R13 ) ) ) in ( rng ( R19 /^ R13 ) ) by L633 , PARTFUN2:2;
L635: ( R19 /. ( R13 + ( R15 .. ( R19 /^ R13 ) ) ) ) in ( rng ( R19 /^ R13 ) ) by L634 , L633 , FINSEQ_5:27;
thus L636: thesis by L635 , L622 , L624 , FINSEQ_5:38;
end;
theorem
L637: (for R12 being Nat holds (for R13 being Nat holds (for R14 being non  empty set holds (for R19 being (FinSequence of R14) holds ((R13 < R12 & R12 in ( dom R19 )) implies ( R19 /. R12 ) in ( rng ( R19 /^ R13 ) ))))))
proof
let R12 being Nat;
let R13 being Nat;
let R14 being non  empty set;
let R19 being (FinSequence of R14);
assume that
L638: R13 < R12
and
L639: R12 in ( dom R19 );
reconsider D17 = ( R12 - R13 ) as (Element of ( NAT )) by L638 , INT_1:5;
L640: D17 > ( 0 ) by L638 , XREAL_1:50;
L641: 1 <= D17 by L640 , NAT_1:14;
L642: R12 = ( D17 + R13 );
L643: R12 <= ( len R19 ) by L639 , FINSEQ_3:25;
L644: R13 <= ( len R19 ) by L643 , L638 , XXREAL_0:2;
L645: ( len ( R19 /^ R13 ) ) = ( ( len R19 ) - R13 ) by L644 , RFINSEQ:def 1;
L646: ( ( len ( R19 /^ R13 ) ) + R13 ) = ( len R19 ) by L645;
L647: D17 <= ( len ( R19 /^ R13 ) ) by L646 , L642 , L643 , XREAL_1:6;
L648: D17 in ( dom ( R19 /^ R13 ) ) by L647 , L641 , FINSEQ_3:25;
L649: ( R19 /. R12 ) = ( ( R19 /^ R13 ) /. D17 ) by L648 , L642 , FINSEQ_5:27;
thus L650: thesis by L649 , L648 , PARTFUN2:2;
end;
theorem
L651: (for R13 being Nat holds (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds ((R15 in ( rng R19 ) & ( R15 .. R19 ) > R13) implies ( ( R19 /^ R13 ) -: R15 ) = ( ( R19 -: R15 ) /^ R13 ))))))
proof
let R13 being Nat;
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
assume that
L652: R15 in ( rng R19 )
and
L653: ( R15 .. R19 ) > R13;
L654: R15 in ( rng ( R19 /^ R13 ) ) by L652 , L653 , L621;
L655: ( R15 .. R19 ) = ( R13 + ( R15 .. ( R19 /^ R13 ) ) ) by L652 , L653 , L590;
L656: ( len ( ( R19 /^ R13 ) -: R15 ) ) = ( ( R15 .. R19 ) - R13 ) by L655 , L654 , FINSEQ_5:42
.= ( ( len ( R19 -: R15 ) ) - R13 ) by L652 , FINSEQ_5:42;
L657:
now
let C15 being Nat;
L658: ( C15 + R13 ) >= C15 by NAT_1:11;
reconsider D18 = C15 as (Element of ( NAT )) by ORDINAL1:def 12;
assume L659: C15 in ( dom ( ( R19 /^ R13 ) -: R15 ) );
L660: C15 <= ( ( len ( R19 -: R15 ) ) - R13 ) by L659 , L656 , FINSEQ_3:25;
L661: ( C15 + R13 ) <= ( len ( R19 -: R15 ) ) by L660 , XREAL_1:19;
L662: 1 <= C15 by L659 , FINSEQ_3:25;
L663: 1 <= ( C15 + R13 ) by L662 , L658 , XXREAL_0:2;
L664: ( D18 + R13 ) in ( dom ( R19 -: R15 ) ) by L663 , L661 , FINSEQ_3:25;
L665: ( len ( ( R19 /^ R13 ) -: R15 ) ) = ( R15 .. ( R19 /^ R13 ) ) by L654 , FINSEQ_5:42;
L666: C15 in ( Seg ( R15 .. ( R19 /^ R13 ) ) ) by L665 , L659 , FINSEQ_1:def 3;
L667: ( ( R19 /^ R13 ) -: R15 ) = ( ( R19 /^ R13 ) | ( R15 .. ( R19 /^ R13 ) ) ) by FINSEQ_5:def 1;
L668: ( dom ( ( R19 /^ R13 ) -: R15 ) ) c= ( dom ( R19 /^ R13 ) ) by L667 , FINSEQ_5:18;
L669: ( len ( R19 -: R15 ) ) = ( R15 .. R19 ) by L652 , FINSEQ_5:42;
L670: ( C15 + R13 ) in ( Seg ( R15 .. R19 ) ) by L669 , L664 , FINSEQ_1:def 3;
thus L671: ( ( ( R19 /^ R13 ) -: R15 ) . C15 ) = ( ( ( R19 /^ R13 ) -: R15 ) /. C15 ) by L659 , PARTFUN1:def 6
.= ( ( R19 /^ R13 ) /. C15 ) by L654 , L666 , FINSEQ_5:43
.= ( R19 /. ( C15 + R13 ) ) by L659 , L668 , FINSEQ_5:27
.= ( ( R19 -: R15 ) /. ( D18 + R13 ) ) by L652 , L670 , FINSEQ_5:43
.= ( ( R19 -: R15 ) . ( C15 + R13 ) ) by L664 , PARTFUN1:def 6;
end;
L672: R13 <= ( len ( R19 -: R15 ) ) by L652 , L653 , FINSEQ_5:42;
thus L673: thesis by L672 , L656 , L657 , RFINSEQ:def 1;
end;
theorem
L674: (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds ((R15 in ( rng R19 ) & ( R15 .. R19 ) <> 1) implies ( ( R19 /^ 1 ) -: R15 ) = ( ( R19 -: R15 ) /^ 1 )))))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
assume that
L675: R15 in ( rng R19 )
and
L676: ( R15 .. R19 ) <> 1;
L677: ( R15 .. R19 ) >= 1 by L675 , FINSEQ_4:21;
L678: ( R15 .. R19 ) > 1 by L677 , L676 , XXREAL_0:1;
thus L679: thesis by L678 , L675 , L651;
end;
theorem
L680: (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds R15 in ( rng ( R19 :- R15 ) ))))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
L681: ( rng <* R15 *> ) = { R15 } by FINSEQ_1:39;
L682: R15 in ( rng <* R15 *> ) by L681 , TARSKI:def 1;
L683: ( R19 :- R15 ) = ( <* R15 *> ^ ( R19 /^ ( R15 .. R19 ) ) ) by FINSEQ_5:def 2;
L684: ( rng ( R19 :- R15 ) ) = ( ( rng <* R15 *> ) \/ ( rng ( R19 /^ ( R15 .. R19 ) ) ) ) by L683 , FINSEQ_1:31;
thus L685: thesis by L684 , L682 , XBOOLE_0:def 3;
end;
theorem
L686: (for R1 being set holds (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds ((R1 in ( rng R19 ) & R15 in ( rng R19 ) & ( R1 .. R19 ) >= ( R15 .. R19 )) implies R1 in ( rng ( R19 :- R15 ) ))))))
proof
let R1 being set;
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
assume that
L687: R1 in ( rng R19 )
and
L688: R15 in ( rng R19 )
and
L689: ( R1 .. R19 ) >= ( R15 .. R19 );
per cases  by L689 , XXREAL_0:1;
suppose L690: ( R1 .. R19 ) > ( R15 .. R19 );

L691: ( rng R19 ) c= R14 by FINSEQ_1:def 4;
reconsider D19 = R1 as (Element of R14) by L691 , L687;
L692: ( R19 :- R15 ) = ( <* R15 *> ^ ( R19 /^ ( R15 .. R19 ) ) ) by FINSEQ_5:def 2;
L693: ( rng ( R19 :- R15 ) ) = ( ( rng <* R15 *> ) \/ ( rng ( R19 /^ ( R15 .. R19 ) ) ) ) by L692 , FINSEQ_1:31;
L694: D19 in ( rng ( R19 /^ ( R15 .. R19 ) ) ) by L687 , L690 , L621;
thus L695: thesis by L694 , L693 , XBOOLE_0:def 3;
end;
suppose L696: ( R1 .. R19 ) = ( R15 .. R19 );

L697: R1 = ( R19 . ( R15 .. R19 ) ) by L696 , L687 , FINSEQ_4:19
.= R15 by L688 , FINSEQ_4:19;
thus L698: thesis by L697 , L680;
end;
end;
theorem
L700: (for R13 being Nat holds (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds ((R15 in ( rng R19 ) & R13 <= ( len R19 ) & R13 >= ( R15 .. R19 )) implies ( R19 /. R13 ) in ( rng ( R19 :- R15 ) ))))))
proof
let R13 being Nat;
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
assume that
L701: R15 in ( rng R19 )
and
L702: R13 <= ( len R19 )
and
L703: R13 >= ( R15 .. R19 );
set D20 = ( R19 /. R13 );
per cases  by L703 , XXREAL_0:1;
suppose L704: R13 > ( R15 .. R19 );

reconsider D21 = D20 as (Element of R14);
L705: 1 <= ( R15 .. R19 ) by L701 , FINSEQ_4:21;
L706: 1 <= R13 by L705 , L703 , XXREAL_0:2;
L707: R13 in ( dom R19 ) by L706 , L702 , FINSEQ_3:25;
L708: D21 in ( rng ( R19 /^ ( R15 .. R19 ) ) ) by L707 , L704 , L637;
L709: ( R19 :- R15 ) = ( <* R15 *> ^ ( R19 /^ ( R15 .. R19 ) ) ) by FINSEQ_5:def 2;
L710: ( rng ( R19 :- R15 ) ) = ( ( rng <* R15 *> ) \/ ( rng ( R19 /^ ( R15 .. R19 ) ) ) ) by L709 , FINSEQ_1:31;
thus L711: thesis by L710 , L708 , XBOOLE_0:def 3;
end;
suppose L712: R13 = ( R15 .. R19 );

L713: D20 = R15 by L712 , L701 , FINSEQ_5:38;
thus L714: thesis by L713 , L680;
end;
end;
theorem
L716: (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R20 being (FinSequence of R14) holds (for R21 being (FinSequence of R14) holds (R15 in ( rng R20 ) implies ( ( R20 ^ R21 ) :- R15 ) = ( ( R20 :- R15 ) ^ R21 ))))))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
let R20 being (FinSequence of R14);
let R21 being (FinSequence of R14);
assume L717: R15 in ( rng R20 );
L718: ( rng ( R20 ^ R21 ) ) = ( ( rng R20 ) \/ ( rng R21 ) ) by FINSEQ_1:31;
L719: R15 in ( rng ( R20 ^ R21 ) ) by L718 , L717 , XBOOLE_0:def 3;
thus L720: ( ( R20 ^ R21 ) :- R15 ) = ( <* R15 *> ^ ( ( R20 ^ R21 ) |-- R15 ) ) by L719 , L508
.= ( <* R15 *> ^ ( ( R20 |-- R15 ) ^ R21 ) ) by L717 , L114
.= ( ( <* R15 *> ^ ( R20 |-- R15 ) ) ^ R21 ) by FINSEQ_1:32
.= ( ( R20 :- R15 ) ^ R21 ) by L717 , L508;
end;
theorem
L721: (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R20 being (FinSequence of R14) holds (for R21 being (FinSequence of R14) holds (R15 in ( ( rng R21 ) \ ( rng R20 ) ) implies ( ( R20 ^ R21 ) :- R15 ) = ( R21 :- R15 ))))))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
let R20 being (FinSequence of R14);
let R21 being (FinSequence of R14);
assume L722: R15 in ( ( rng R21 ) \ ( rng R20 ) );
L723: ( rng ( R20 ^ R21 ) ) = ( ( rng R20 ) \/ ( rng R21 ) ) by FINSEQ_1:31;
L724: R15 in ( rng ( R20 ^ R21 ) ) by L723 , L722 , XBOOLE_0:def 3;
thus L725: ( ( R20 ^ R21 ) :- R15 ) = ( <* R15 *> ^ ( ( R20 ^ R21 ) |-- R15 ) ) by L724 , L508
.= ( <* R15 *> ^ ( R21 |-- R15 ) ) by L722 , L139
.= ( R21 :- R15 ) by L722 , L508;
end;
theorem
L726: (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R20 being (FinSequence of R14) holds (for R21 being (FinSequence of R14) holds (R15 in ( rng R20 ) implies ( ( R20 ^ R21 ) -: R15 ) = ( R20 -: R15 ))))))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
let R20 being (FinSequence of R14);
let R21 being (FinSequence of R14);
assume L727: R15 in ( rng R20 );
L728: ( rng ( R20 ^ R21 ) ) = ( ( rng R20 ) \/ ( rng R21 ) ) by FINSEQ_1:31;
L729: R15 in ( rng ( R20 ^ R21 ) ) by L728 , L727 , XBOOLE_0:def 3;
thus L730: ( ( R20 ^ R21 ) -: R15 ) = ( ( ( R20 ^ R21 ) -| R15 ) ^ <* R15 *> ) by L729 , L505
.= ( ( R20 -| R15 ) ^ <* R15 *> ) by L727 , L162
.= ( R20 -: R15 ) by L727 , L505;
end;
theorem
L731: (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R20 being (FinSequence of R14) holds (for R21 being (FinSequence of R14) holds (R15 in ( ( rng R21 ) \ ( rng R20 ) ) implies ( ( R20 ^ R21 ) -: R15 ) = ( R20 ^ ( R21 -: R15 ) ))))))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
let R20 being (FinSequence of R14);
let R21 being (FinSequence of R14);
assume L732: R15 in ( ( rng R21 ) \ ( rng R20 ) );
L733: ( rng ( R20 ^ R21 ) ) = ( ( rng R20 ) \/ ( rng R21 ) ) by FINSEQ_1:31;
L734: R15 in ( rng ( R20 ^ R21 ) ) by L733 , L732 , XBOOLE_0:def 3;
thus L735: ( ( R20 ^ R21 ) -: R15 ) = ( ( ( R20 ^ R21 ) -| R15 ) ^ <* R15 *> ) by L734 , L505
.= ( ( R20 ^ ( R21 -| R15 ) ) ^ <* R15 *> ) by L732 , L265
.= ( R20 ^ ( ( R21 -| R15 ) ^ <* R15 *> ) ) by FINSEQ_1:32
.= ( R20 ^ ( R21 -: R15 ) ) by L732 , L505;
end;
theorem
L736: (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds ( ( R19 :- R15 ) :- R15 ) = ( R19 :- R15 ))))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
L737: ( ( <* R15 *> ^ ( R19 /^ ( R15 .. R19 ) ) ) /. 1 ) = R15 by FINSEQ_5:15;
thus L738: ( ( R19 :- R15 ) :- R15 ) = ( ( <* R15 *> ^ ( R19 /^ ( R15 .. R19 ) ) ) :- R15 ) by FINSEQ_5:def 2
.= ( <* R15 *> ^ ( R19 /^ ( R15 .. R19 ) ) ) by L737 , L523
.= ( R19 :- R15 ) by FINSEQ_5:def 2;
end;
theorem
L739: (for R14 being non  empty set holds (for R16 being (Element of R14) holds (for R17 being (Element of R14) holds (for R19 being (FinSequence of R14) holds ((R16 in ( rng R19 ) & R17 in ( ( rng R19 ) \ ( rng ( R19 -: R16 ) ) )) implies ( R19 |-- R17 ) = ( ( R19 |-- R16 ) |-- R17 ))))))
proof
let R14 being non  empty set;
let R16 being (Element of R14);
let R17 being (Element of R14);
let R19 being (FinSequence of R14);
assume that
L740: R16 in ( rng R19 )
and
L741: R17 in ( ( rng R19 ) \ ( rng ( R19 -: R16 ) ) );
L742: (not R17 in ( rng ( R19 -: R16 ) )) by L741 , XBOOLE_0:def 5;
L743: (not R17 in ( rng ( ( R19 -| R16 ) ^ <* R16 *> ) )) by L742 , L740 , L505;
L744: R19 = ( ( ( R19 -| R16 ) ^ <* R16 *> ) ^ ( R19 |-- R16 ) ) by L740 , FINSEQ_4:51;
L745: ( rng R19 ) = ( ( rng ( ( R19 -| R16 ) ^ <* R16 *> ) ) \/ ( rng ( R19 |-- R16 ) ) ) by L744 , FINSEQ_1:31;
L746: R17 in ( rng ( R19 |-- R16 ) ) by L745 , L741 , L743 , XBOOLE_0:def 3;
L747: R17 in ( ( rng ( R19 |-- R16 ) ) \ ( rng ( ( R19 -| R16 ) ^ <* R16 *> ) ) ) by L746 , L743 , XBOOLE_0:def 5;
thus L748: ( R19 |-- R17 ) = ( ( ( ( R19 -| R16 ) ^ <* R16 *> ) ^ ( R19 |-- R16 ) ) |-- R17 ) by L740 , FINSEQ_4:51
.= ( ( R19 |-- R16 ) |-- R17 ) by L747 , L139;
end;
theorem
L749: (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds (R15 in ( rng R19 ) implies ( rng R19 ) = ( ( rng ( R19 -: R15 ) ) \/ ( rng ( R19 :- R15 ) ) )))))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
assume L750: R15 in ( rng R19 );
L751: ( R19 -: R15 ) = ( ( R19 -| R15 ) ^ <* R15 *> ) by L750 , L505;
L752: ( rng ( R19 -: R15 ) ) = ( ( rng ( R19 -| R15 ) ) \/ ( rng <* R15 *> ) ) by L751 , FINSEQ_1:31;
L753: ( R19 :- R15 ) = ( <* R15 *> ^ ( R19 |-- R15 ) ) by L750 , L508;
L754: ( rng ( R19 :- R15 ) ) = ( ( rng <* R15 *> ) \/ ( rng ( R19 |-- R15 ) ) ) by L753 , FINSEQ_1:31;
L755: R19 = ( ( ( R19 -| R15 ) ^ <* R15 *> ) ^ ( R19 |-- R15 ) ) by L750 , FINSEQ_4:51;
thus L756: ( rng R19 ) = ( ( rng ( ( R19 -| R15 ) ^ <* R15 *> ) ) \/ ( rng ( R19 |-- R15 ) ) ) by L755 , FINSEQ_1:31
.= ( ( ( rng ( R19 -| R15 ) ) \/ ( ( rng <* R15 *> ) \/ ( rng <* R15 *> ) ) ) \/ ( rng ( R19 |-- R15 ) ) ) by FINSEQ_1:31
.= ( ( ( ( rng ( R19 -| R15 ) ) \/ ( rng <* R15 *> ) ) \/ ( rng <* R15 *> ) ) \/ ( rng ( R19 |-- R15 ) ) ) by XBOOLE_1:4
.= ( ( rng ( R19 -: R15 ) ) \/ ( rng ( R19 :- R15 ) ) ) by L752 , L754 , XBOOLE_1:4;
end;
theorem
L757: (for R14 being non  empty set holds (for R16 being (Element of R14) holds (for R17 being (Element of R14) holds (for R19 being (FinSequence of R14) holds ((R16 in ( rng R19 ) & R17 in ( ( rng R19 ) \ ( rng ( R19 -: R16 ) ) )) implies ( ( R19 :- R16 ) :- R17 ) = ( R19 :- R17 ))))))
proof
let R14 being non  empty set;
let R16 being (Element of R14);
let R17 being (Element of R14);
let R19 being (FinSequence of R14);
assume that
L758: R16 in ( rng R19 )
and
L759: R17 in ( ( rng R19 ) \ ( rng ( R19 -: R16 ) ) );
L760: (not R17 in ( rng ( R19 -: R16 ) )) by L759 , XBOOLE_0:def 5;
L761: ( R19 -: R16 ) = ( ( R19 -| R16 ) ^ <* R16 *> ) by L758 , L505;
L762: ( rng ( R19 -: R16 ) ) = ( ( rng ( R19 -| R16 ) ) \/ ( rng <* R16 *> ) ) by L761 , FINSEQ_1:31;
L763: (not R17 in ( rng <* R16 *> )) by L762 , L760 , XBOOLE_0:def 3;
L764: ( rng R19 ) = ( ( rng ( R19 -: R16 ) ) \/ ( rng ( R19 :- R16 ) ) ) by L758 , L749;
L765: R17 in ( rng ( R19 :- R16 ) ) by L764 , L759 , L760 , XBOOLE_0:def 3;
L766: ( R19 :- R16 ) = ( <* R16 *> ^ ( R19 |-- R16 ) ) by L758 , L508;
L767: ( rng ( R19 :- R16 ) ) = ( ( rng <* R16 *> ) \/ ( rng ( R19 |-- R16 ) ) ) by L766 , FINSEQ_1:31;
L768: R17 in ( rng ( R19 |-- R16 ) ) by L767 , L765 , L763 , XBOOLE_0:def 3;
L769: R17 in ( ( rng ( R19 |-- R16 ) ) \ ( rng <* R16 *> ) ) by L768 , L763 , XBOOLE_0:def 5;
thus L770: ( ( R19 :- R16 ) :- R17 ) = ( <* R17 *> ^ ( ( R19 :- R16 ) |-- R17 ) ) by L765 , L508
.= ( <* R17 *> ^ ( ( <* R16 *> ^ ( R19 |-- R16 ) ) |-- R17 ) ) by L758 , L508
.= ( <* R17 *> ^ ( ( R19 |-- R16 ) |-- R17 ) ) by L769 , L139
.= ( <* R17 *> ^ ( R19 |-- R17 ) ) by L758 , L759 , L739
.= ( R19 :- R17 ) by L759 , L508;
end;
theorem
L771: (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds (R15 in ( rng R19 ) implies ( R15 .. ( R19 -: R15 ) ) = ( R15 .. R19 )))))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
assume L772: R15 in ( rng R19 );
L773: ( R15 .. R19 ) <= ( len ( R19 -: R15 ) ) by L772 , FINSEQ_5:42;
L774:
now
L775: ( R15 .. R19 ) <> ( 0 ) by L772 , FINSEQ_4:21;
L776: ( R15 .. R19 ) in ( Seg ( R15 .. R19 ) ) by L775 , FINSEQ_1:3;
L777: ( ( R19 -: R15 ) /. ( R15 .. R19 ) ) = ( R19 /. ( R15 .. R19 ) ) by L776 , L772 , FINSEQ_5:43;
let R12 being Nat;
assume that
L778: 1 <= R12
and
L779: R12 < ( R15 .. R19 );
L780: R12 in ( Seg ( R15 .. R19 ) ) by L778 , L779 , FINSEQ_1:1;
L781: ( ( R19 -: R15 ) /. R12 ) = ( R19 /. R12 ) by L780 , L772 , FINSEQ_5:43;
L782: ( R15 .. R19 ) <= ( len R19 ) by L772 , FINSEQ_4:21;
L783: R12 <= ( len R19 ) by L782 , L779 , XXREAL_0:2;
L784: R12 in ( dom R19 ) by L783 , L778 , FINSEQ_3:25;
L785: ( R19 /. ( R15 .. R19 ) ) = R15 by L772 , FINSEQ_5:38;
thus L786: ( ( R19 -: R15 ) /. R12 ) <> ( ( R19 -: R15 ) /. ( R15 .. R19 ) ) by L785 , L779 , L781 , L777 , L784 , FINSEQ_5:39;
end;
L787: 1 <= ( R15 .. R19 ) by L772 , FINSEQ_4:21;
L788: ( R15 .. R19 ) in ( dom ( R19 -: R15 ) ) by L787 , L773 , FINSEQ_3:25;
L789: ( ( R19 -: R15 ) /. ( R15 .. R19 ) ) = R15 by L772 , FINSEQ_5:45;
thus L790: thesis by L789 , L788 , L774 , L544;
end;
theorem
L791: (for R12 being Nat holds (for R14 being non  empty set holds (for R19 being (FinSequence of R14) holds ( ( R19 | R12 ) | R12 ) = ( R19 | R12 ))))
proof
let R12 being Nat;
let R14 being non  empty set;
let R19 being (FinSequence of R14);
L792: ( R19 | R12 ) = ( R19 | ( Seg R12 ) ) by FINSEQ_1:def 15;
thus L793: ( ( R19 | R12 ) | R12 ) = ( ( R19 | ( Seg R12 ) ) | ( Seg R12 ) ) by L792 , FINSEQ_1:def 15
.= ( R19 | ( ( Seg R12 ) /\ ( Seg R12 ) ) )
.= ( R19 | R12 ) by FINSEQ_1:def 15;
end;
theorem
L794: (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds (R15 in ( rng R19 ) implies ( ( R19 -: R15 ) -: R15 ) = ( R19 -: R15 )))))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
assume L795: R15 in ( rng R19 );
L796: ( R15 .. ( R19 -: R15 ) ) = ( R15 .. R19 ) by L795 , L771;
thus L797: ( ( R19 -: R15 ) -: R15 ) = ( ( R19 -: R15 ) | ( R15 .. ( R19 -: R15 ) ) ) by FINSEQ_5:def 1
.= ( ( R19 | ( R15 .. R19 ) ) | ( R15 .. R19 ) ) by L796 , FINSEQ_5:def 1
.= ( R19 | ( R15 .. R19 ) ) by L791
.= ( R19 -: R15 ) by FINSEQ_5:def 1;
end;
theorem
L798: (for R14 being non  empty set holds (for R16 being (Element of R14) holds (for R17 being (Element of R14) holds (for R19 being (FinSequence of R14) holds ((R16 in ( rng R19 ) & R17 in ( rng ( R19 -: R16 ) )) implies ( ( R19 -: R16 ) -: R17 ) = ( R19 -: R17 ))))))
proof
let R14 being non  empty set;
let R16 being (Element of R14);
let R17 being (Element of R14);
let R19 being (FinSequence of R14);
assume that
L799: R16 in ( rng R19 )
and
L800: R17 in ( rng ( R19 -: R16 ) );
per cases ;
suppose L801: R16 = R17;

thus L802: thesis by L801 , L799 , L794;
end;
suppose L803: R16 <> R17;

L804: (not R17 in { R16 }) by L803 , TARSKI:def 1;
L805: (not R17 in ( rng <* R16 *> )) by L804 , FINSEQ_1:39;
L806: ( R19 -: R16 ) = ( ( R19 -| R16 ) ^ <* R16 *> ) by L799 , L505;
L807: ( rng ( R19 -: R16 ) ) = ( ( rng ( R19 -| R16 ) ) \/ ( rng <* R16 *> ) ) by L806 , FINSEQ_1:31;
L808: R17 in ( rng ( R19 -| R16 ) ) by L807 , L800 , L805 , XBOOLE_0:def 3;
L809: ( rng ( R19 -| R16 ) ) c= ( rng R19 ) by L799 , FINSEQ_4:39;
thus L810: ( ( R19 -: R16 ) -: R17 ) = ( ( ( R19 -: R16 ) -| R17 ) ^ <* R17 *> ) by L800 , L505
.= ( ( ( ( R19 -| R16 ) ^ <* R16 *> ) -| R17 ) ^ <* R17 *> ) by L799 , L505
.= ( ( ( R19 -| R16 ) -| R17 ) ^ <* R17 *> ) by L808 , L162
.= ( ( R19 -| R17 ) ^ <* R17 *> ) by L799 , L808 , L442
.= ( R19 -: R17 ) by L808 , L809 , L505;
end;
end;
theorem
L812: (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds (R15 in ( rng R19 ) implies ( ( R19 -: R15 ) ^ ( ( R19 :- R15 ) /^ 1 ) ) = R19))))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
L813: ( rng R19 ) c= R14 by FINSEQ_1:def 4;
assume L814: R15 in ( rng R19 );
L815: ( rng ( R19 |-- R15 ) ) c= ( rng R19 ) by L814 , FINSEQ_4:44;
L816: ( rng ( R19 |-- R15 ) ) c= R14 by L815 , L813 , XBOOLE_1:1;
reconsider D22 = ( R19 |-- R15 ) as (FinSequence of R14) by L816 , FINSEQ_1:def 4;
thus L817: ( ( R19 -: R15 ) ^ ( ( R19 :- R15 ) /^ 1 ) ) = ( ( ( R19 -| R15 ) ^ <* R15 *> ) ^ ( ( R19 :- R15 ) /^ 1 ) ) by L814 , L505
.= ( ( ( R19 -| R15 ) ^ <* R15 *> ) ^ ( ( <* R15 *> ^ D22 ) /^ 1 ) ) by L814 , L508
.= ( ( ( R19 -| R15 ) ^ <* R15 *> ) ^ ( R19 |-- R15 ) ) by L531
.= R19 by L814 , FINSEQ_4:51;
end;
theorem
L818: (for R14 being non  empty set holds (for R20 being (FinSequence of R14) holds (for R21 being (FinSequence of R14) holds (R20 <> ( {} ) implies ( ( R20 ^ R21 ) /^ 1 ) = ( ( R20 /^ 1 ) ^ R21 )))))
proof
let R14 being non  empty set;
let R20 being (FinSequence of R14);
let R21 being (FinSequence of R14);
assume L819: R20 <> ( {} );
consider C16 being (Element of R14), C17 being (FinSequence of R14) such that L820: C16 = ( R20 . 1 ) and L821: R20 = ( <* C16 *> ^ C17 ) by L819 , FINSEQ_3:102;
thus L822: ( ( R20 ^ R21 ) /^ 1 ) = ( ( <* C16 *> ^ ( C17 ^ R21 ) ) /^ 1 ) by L821 , FINSEQ_1:32
.= ( C17 ^ R21 ) by L531
.= ( ( R20 /^ 1 ) ^ R21 ) by L821 , L531;
end;
theorem
L823: (for R14 being non  empty set holds (for R17 being (Element of R14) holds (for R19 being (FinSequence of R14) holds ((R17 in ( rng R19 ) & ( R17 .. R19 ) <> 1) implies R17 in ( rng ( R19 /^ 1 ) )))))
proof
let R14 being non  empty set;
let R17 being (Element of R14);
let R19 being (FinSequence of R14);
assume that
L824: R17 in ( rng R19 )
and
L825: ( R17 .. R19 ) <> 1;
L826: R19 = ( <* ( R19 /. 1 ) *> ^ ( R19 /^ 1 ) ) by L824 , FINSEQ_5:29 , RELAT_1:38;
L827: ( rng R19 ) = ( ( rng <* ( R19 /. 1 ) *> ) \/ ( rng ( R19 /^ 1 ) ) ) by L826 , FINSEQ_1:31;
assume L828: (not R17 in ( rng ( R19 /^ 1 ) ));
L829: R17 in ( rng <* ( R19 /. 1 ) *> ) by L828 , L824 , L827 , XBOOLE_0:def 3;
L830: R17 in { ( R19 /. 1 ) } by L829 , FINSEQ_1:39;
L831: R17 = ( R19 /. 1 ) by L830 , TARSKI:def 1;
thus L832: contradiction by L831 , L824 , L825 , L515 , RELAT_1:38;
end;
theorem
L833: (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds ( R15 .. ( R19 :- R15 ) ) = 1)))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
L834: ( ( R19 :- R15 ) /. 1 ) = R15 by FINSEQ_5:53;
thus L835: thesis by L834 , L515;
end;
L836: (for R12 being Nat holds (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds ((R15 in ( rng R19 ) & ( R15 .. R19 ) > R12) implies ( R12 + ( R15 .. ( R19 /^ R12 ) ) ) = ( R15 .. R19 ))))))
proof
let R12 being Nat;
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
assume that
L837: R15 in ( rng R19 )
and
L838: ( R15 .. R19 ) > R12;
reconsider D23 = ( ( R15 .. R19 ) - R12 ) as (Element of ( NAT )) by L838 , INT_1:5;
L839: ( R15 .. R19 ) <= ( len R19 ) by L837 , FINSEQ_4:21;
L840: R12 <= ( len R19 ) by L839 , L838 , XXREAL_0:2;
L841: ( ( R15 .. R19 ) - R12 ) <= ( ( len R19 ) - R12 ) by L839 , XREAL_1:9;
L842: D23 <= ( len ( R19 /^ R12 ) ) by L841 , L840 , RFINSEQ:def 1;
L843: D23 <> ( 0 ) by L838;
L844: 1 <= D23 by L843 , NAT_1:14;
L845: D23 in ( dom ( R19 /^ R12 ) ) by L844 , L842 , FINSEQ_3:25;
L846:
now
let C18 being Nat;
assume that
L847: 1 <= C18
and
L848: C18 < D23;
L849: C18 <= ( R12 + C18 ) by NAT_1:11;
L850: 1 <= ( R12 + C18 ) by L849 , L847 , XXREAL_0:2;
L851: ( R12 + D23 ) = ( R15 .. R19 );
L852: ( R12 + C18 ) < ( R15 .. R19 ) by L851 , L848 , XREAL_1:6;
L853: ( R12 + C18 ) <= ( len R19 ) by L852 , L839 , XXREAL_0:2;
L854: ( R12 + C18 ) in ( dom R19 ) by L853 , L850 , FINSEQ_3:25;
L855: C18 <= ( len ( R19 /^ R12 ) ) by L842 , L848 , XXREAL_0:2;
L856: C18 in ( dom ( R19 /^ R12 ) ) by L855 , L847 , FINSEQ_3:25;
L857: ( R19 . ( R12 + C18 ) ) = ( ( R19 /^ R12 ) . C18 ) by L856 , L840 , RFINSEQ:def 1;
L858: ( R19 . ( R12 + D23 ) ) = ( ( R19 /^ R12 ) . D23 ) by L840 , L845 , RFINSEQ:def 1;
thus L859: ( ( R19 /^ R12 ) . C18 ) <> ( ( R19 /^ R12 ) . D23 ) by L858 , L837 , L857 , L852 , L854 , FINSEQ_4:19 , FINSEQ_4:24;
end;
L860: ( ( R19 /^ R12 ) . D23 ) = ( R19 . ( D23 + R12 ) ) by L840 , L845 , RFINSEQ:def 1
.= R15 by L837 , FINSEQ_4:19;
L861: ( R15 .. ( R19 /^ R12 ) ) = D23 by L860 , L845 , L846 , L30;
thus L862: thesis by L861;
end;
theorem
L863: (for R13 being Nat holds (for R14 being non  empty set holds ( ( <*> R14 ) /^ R13 ) = ( <*> R14 )))
proof
let R13 being Nat;
let R14 being non  empty set;
per cases ;
suppose L864: R13 = ( 0 );

thus L865: thesis by L864 , FINSEQ_5:28;
end;
suppose L866: R13 > ( 0 );

L867: R13 > ( len ( <*> R14 ) ) by L866;
thus L868: thesis by L867 , RFINSEQ:def 1;
end;
end;
theorem
L870: (for R12 being Nat holds (for R13 being Nat holds (for R14 being non  empty set holds (for R19 being (FinSequence of R14) holds ( R19 /^ ( R12 + R13 ) ) = ( ( R19 /^ R12 ) /^ R13 )))))
proof
let R12 being Nat;
let R13 being Nat;
let R14 being non  empty set;
let R19 being (FinSequence of R14);
per cases ;
suppose L871: ( R12 + R13 ) <= ( len R19 );

L872: R12 <= ( R12 + R13 ) by NAT_1:11;
L873: R12 <= ( len R19 ) by L872 , L871 , XXREAL_0:2;
L874: ( len ( R19 /^ R12 ) ) = ( ( len R19 ) - R12 ) by L873 , RFINSEQ:def 1;
L875: R13 <= ( len ( R19 /^ R12 ) ) by L874 , L871 , XREAL_1:19;
L876:
now
let C19 being Nat;
assume L877: C19 in ( dom ( ( R19 /^ R12 ) /^ R13 ) );
L878: ( C19 + R13 ) in ( dom ( R19 /^ R12 ) ) by L877 , FINSEQ_5:26;
thus L879: ( ( ( R19 /^ R12 ) /^ R13 ) . C19 ) = ( ( R19 /^ R12 ) . ( C19 + R13 ) ) by L875 , L877 , RFINSEQ:def 1
.= ( R19 . ( ( C19 + R13 ) + R12 ) ) by L873 , L878 , RFINSEQ:def 1
.= ( R19 . ( C19 + ( R12 + R13 ) ) );
end;
L880: ( len ( ( R19 /^ R12 ) /^ R13 ) ) = ( ( len ( R19 /^ R12 ) ) - R13 ) by L875 , RFINSEQ:def 1
.= ( ( len R19 ) - ( R12 + R13 ) ) by L874;
thus L881: thesis by L880 , L871 , L876 , RFINSEQ:def 1;
end;
suppose that L882: ( R12 + R13 ) > ( len R19 )
and
L883: R12 <= ( len R19 );
L884: ( len ( R19 /^ R12 ) ) = ( ( len R19 ) - R12 ) by L883 , RFINSEQ:def 1;
L885: ( ( len ( R19 /^ R12 ) ) + R12 ) = ( len R19 ) by L884;
L886: R13 > ( len ( R19 /^ R12 ) ) by L885 , L882 , XREAL_1:6;
thus L887: ( R19 /^ ( R12 + R13 ) ) = ( <*> R14 ) by L882 , RFINSEQ:def 1
.= ( ( R19 /^ R12 ) /^ R13 ) by L886 , RFINSEQ:def 1;
end;
suppose that L888: ( R12 + R13 ) > ( len R19 )
and
L889: R12 > ( len R19 );
thus L890: ( R19 /^ ( R12 + R13 ) ) = ( <*> R14 ) by L888 , RFINSEQ:def 1
.= ( ( <*> R14 ) /^ R13 ) by L863
.= ( ( R19 /^ R12 ) /^ R13 ) by L889 , RFINSEQ:def 1;
end;
end;
theorem
L892: (for R13 being Nat holds (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds ((R15 in ( rng R19 ) & ( R15 .. R19 ) > R13) implies ( ( R19 /^ R13 ) :- R15 ) = ( R19 :- R15 ))))))
proof
let R13 being Nat;
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
assume that
L893: R15 in ( rng R19 )
and
L894: ( R15 .. R19 ) > R13;
thus L895: ( ( R19 /^ R13 ) :- R15 ) = ( <* R15 *> ^ ( ( R19 /^ R13 ) /^ ( R15 .. ( R19 /^ R13 ) ) ) ) by FINSEQ_5:def 2
.= ( <* R15 *> ^ ( R19 /^ ( R13 + ( R15 .. ( R19 /^ R13 ) ) ) ) ) by L870
.= ( <* R15 *> ^ ( R19 /^ ( R15 .. R19 ) ) ) by L893 , L894 , L836
.= ( R19 :- R15 ) by FINSEQ_5:def 2;
end;
theorem
L896: (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds ((R15 in ( rng R19 ) & ( R15 .. R19 ) <> 1) implies ( ( R19 /^ 1 ) :- R15 ) = ( R19 :- R15 )))))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
assume that
L897: R15 in ( rng R19 )
and
L898: ( R15 .. R19 ) <> 1;
L899: ( R15 .. R19 ) >= 1 by L897 , FINSEQ_4:21;
L900: ( R15 .. R19 ) > 1 by L899 , L898 , XXREAL_0:1;
thus L901: thesis by L900 , L897 , L892;
end;
theorem
L902: (for R12 being Nat holds (for R13 being Nat holds (for R14 being non  empty set holds (for R19 being (FinSequence of R14) holds (( R12 + R13 ) = ( len R19 ) implies ( Rev ( R19 /^ R13 ) ) = ( ( Rev R19 ) | R12 ))))))
proof
let R12 being Nat;
let R13 being Nat;
let R14 being non  empty set;
let R19 being (FinSequence of R14);
assume L903: ( R12 + R13 ) = ( len R19 );
L904: R13 <= ( len R19 ) by L903 , NAT_1:11;
L905: R12 <= ( len R19 ) by L903 , NAT_1:11;
L906: R12 <= ( len ( Rev R19 ) ) by L905 , FINSEQ_5:def 3;
L907: ( len ( ( Rev R19 ) | R12 ) ) = ( ( len R19 ) - R13 ) by L906 , L903 , FINSEQ_1:59
.= ( len ( R19 /^ R13 ) ) by L904 , RFINSEQ:def 1;
L908:
now
L909: ( len ( R19 /^ R13 ) ) = ( ( len R19 ) - R13 ) by L904 , RFINSEQ:def 1;
let C20 being Nat;
L910: ( dom ( ( Rev R19 ) | R12 ) ) c= ( dom ( Rev R19 ) ) by FINSEQ_5:18;
assume L911: C20 in ( dom ( ( Rev R19 ) | R12 ) );
L912: C20 <= ( len ( R19 /^ R13 ) ) by L911 , L907 , FINSEQ_3:25;
reconsider D24 = ( ( len ( R19 /^ R13 ) ) - C20 ) as (Element of ( NAT )) by L912 , INT_1:5;
L913: C20 >= 1 by L911 , FINSEQ_3:25;
L914: ( ( len ( R19 /^ R13 ) ) - C20 ) <= ( ( len ( R19 /^ R13 ) ) - 1 ) by L913 , XREAL_1:10;
L915: ( ( ( len ( R19 /^ R13 ) ) - C20 ) + 1 ) <= ( len ( R19 /^ R13 ) ) by L914 , XREAL_1:19;
L916: 1 <= ( D24 + 1 ) by NAT_1:11;
L917: ( D24 + 1 ) in ( dom ( R19 /^ R13 ) ) by L916 , L915 , FINSEQ_3:25;
thus L918: ( ( ( Rev R19 ) | R12 ) . C20 ) = ( ( ( Rev R19 ) | R12 ) /. C20 ) by L911 , PARTFUN1:def 6
.= ( ( Rev R19 ) /. C20 ) by L911 , FINSEQ_4:70
.= ( ( Rev R19 ) . C20 ) by L911 , L910 , PARTFUN1:def 6
.= ( R19 . ( ( ( ( len ( R19 /^ R13 ) ) + R13 ) - C20 ) + 1 ) ) by L911 , L910 , L909 , FINSEQ_5:def 3
.= ( R19 . ( ( D24 + 1 ) + R13 ) )
.= ( ( R19 /^ R13 ) . ( ( ( len ( R19 /^ R13 ) ) - C20 ) + 1 ) ) by L904 , L917 , RFINSEQ:def 1;
end;
thus L919: thesis by L908 , L907 , FINSEQ_5:def 3;
end;
theorem
L920: (for R12 being Nat holds (for R13 being Nat holds (for R14 being non  empty set holds (for R19 being (FinSequence of R14) holds (( R12 + R13 ) = ( len R19 ) implies ( Rev ( R19 | R13 ) ) = ( ( Rev R19 ) /^ R12 ))))))
proof
let R12 being Nat;
let R13 being Nat;
let R14 being non  empty set;
let R19 being (FinSequence of R14);
assume L921: ( R12 + R13 ) = ( len R19 );
L922: ( R12 + R13 ) = ( len ( Rev R19 ) ) by L921 , FINSEQ_5:def 3;
thus L923: ( Rev ( R19 | R13 ) ) = ( Rev ( ( Rev ( Rev R19 ) ) | R13 ) )
.= ( Rev ( Rev ( ( Rev R19 ) /^ R12 ) ) ) by L922 , L902
.= ( ( Rev R19 ) /^ R12 );
end;
theorem
L924: (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds (R19 just_once_values R15 implies ( Rev ( R19 |-- R15 ) ) = ( ( Rev R19 ) -| R15 )))))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
assume L925: R19 just_once_values R15;
L926: R15 in ( rng R19 ) by L925 , FINSEQ_4:5;
L927: R15 in ( rng ( Rev R19 ) ) by L926 , FINSEQ_5:57;
reconsider D25 = ( ( R15 .. ( Rev R19 ) ) - 1 ) as (Element of ( NAT )) by L927 , FINSEQ_4:21 , INT_1:5;
L928: ( ( R15 .. R19 ) + ( R15 .. ( Rev R19 ) ) ) = ( ( len R19 ) + 1 ) by L925 , L456;
L929: ( D25 + ( R15 .. R19 ) ) = ( len R19 ) by L928;
L930: ( Rev ( R19 |-- R15 ) ) = ( Rev ( R19 /^ ( R15 .. R19 ) ) ) by L926 , FINSEQ_5:35
.= ( ( Rev R19 ) | D25 ) by L929 , L902
.= ( ( Rev R19 ) | ( Seg D25 ) ) by FINSEQ_1:def 15;
thus L931: thesis by L930 , L927 , FINSEQ_4:def 5;
end;
theorem
L932: (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds (R19 just_once_values R15 implies ( Rev ( R19 :- R15 ) ) = ( ( Rev R19 ) -: R15 )))))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
assume L933: R19 just_once_values R15;
L934: R15 in ( rng R19 ) by L933 , FINSEQ_4:5;
L935: R15 in ( rng ( Rev R19 ) ) by L934 , FINSEQ_5:57;
thus L936: ( Rev ( R19 :- R15 ) ) = ( Rev ( <* R15 *> ^ ( R19 |-- R15 ) ) ) by L934 , L508
.= ( ( Rev ( R19 |-- R15 ) ) ^ <* R15 *> ) by L354
.= ( ( ( Rev R19 ) -| R15 ) ^ <* R15 *> ) by L933 , L924
.= ( ( Rev R19 ) -: R15 ) by L935 , L505;
end;
theorem
L937: (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds (R19 just_once_values R15 implies ( Rev ( R19 -: R15 ) ) = ( ( Rev R19 ) :- R15 )))))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
assume L938: R19 just_once_values R15;
L939: R15 in ( rng R19 ) by L938 , FINSEQ_4:5;
L940: R15 in ( rng ( Rev R19 ) ) by L939 , FINSEQ_5:57;
thus L941: ( Rev ( R19 -: R15 ) ) = ( Rev ( ( R19 -| R15 ) ^ <* R15 *> ) ) by L939 , L505
.= ( <* R15 *> ^ ( Rev ( R19 -| R15 ) ) ) by FINSEQ_5:63
.= ( <* R15 *> ^ ( ( Rev R19 ) |-- R15 ) ) by L938 , L467
.= ( ( Rev R19 ) :- R15 ) by L940 , L508;
end;
begin
definition
let C21 being non  empty set;
let C22 being (FinSequence of C21);
attr C22 is  circular
means
:L942: ( C22 /. 1 ) = ( C22 /. ( len C22 ) );
end;
definition
let R14 being non  empty set;
let R19 being (FinSequence of R14);
let R15 being (Element of R14);
func Rotate (R19 , R15) -> (FinSequence of R14) equals 
:L944: ( ( R19 :- R15 ) ^ ( ( R19 -: R15 ) /^ 1 ) ) if R15 in ( rng R19 ) otherwise R19;
correctness;
end;
registration
let R14 being non  empty set;
let C23 being non  empty (FinSequence of R14);
let C24 being (Element of R14);
cluster ( Rotate (C23 , C24) ) -> non  empty;
coherence
proof
per cases ;
suppose L946: C24 in ( rng C23 );

L947: ( ( C23 :- C24 ) ^ ( ( C23 -: C24 ) /^ 1 ) ) is non  empty;
thus L948: thesis by L947 , L946 , L944;
end;
suppose L949: (not C24 in ( rng C23 ));

thus L950: thesis by L949 , L944;
end;
end;
end;
registration
let R14 being non  empty set;
cluster  circular 1 -element for (FinSequence of R14);
existence
proof
set D26 = the (Element of R14);
take <* D26 *>;
L953: ( <* D26 *> /. 1 ) = ( <* D26 *> /. ( len <* D26 *> ) ) by FINSEQ_1:39;
thus L954: <* D26 *> is  circular by L953 , L942;
thus L955: thesis;
end;
cluster  circular non  trivial for (FinSequence of R14);
existence
proof
set D27 = the (Element of R14);
take <* D27 , D27 *>;
L956: ( len <* D27 , D27 *> ) = 2 by FINSEQ_1:44;
L957: ( <* D27 , D27 *> /. ( len <* D27 , D27 *> ) ) = D27 by L956 , FINSEQ_4:17
.= ( <* D27 , D27 *> /. 1 ) by FINSEQ_4:17;
thus L958: <* D27 , D27 *> is  circular by L957 , L942;
thus L959: thesis;
end;
end;
theorem
L961: (for R14 being non  empty set holds (for R19 being (FinSequence of R14) holds ( Rotate (R19 , ( R19 /. 1 )) ) = R19))
proof
let R14 being non  empty set;
let R19 being (FinSequence of R14);
L962: ( len <* ( R19 /. 1 ) *> ) = 1 by FINSEQ_1:39;
per cases ;
suppose L963: R19 is non  empty;

L964: ( R19 /. 1 ) in ( rng R19 ) by L963 , L511;
thus L965: ( Rotate (R19 , ( R19 /. 1 )) ) = ( ( R19 :- ( R19 /. 1 ) ) ^ ( ( R19 -: ( R19 /. 1 ) ) /^ 1 ) ) by L964 , L944
.= ( R19 ^ ( ( R19 -: ( R19 /. 1 ) ) /^ 1 ) ) by L963 , L523
.= ( R19 ^ ( <* ( R19 /. 1 ) *> /^ 1 ) ) by L963 , L523
.= ( R19 ^ ( {} ) ) by L962 , FINSEQ_5:32
.= R19 by FINSEQ_1:34;
end;
suppose L966: R19 is  empty;

thus L967: thesis by L966 , L944 , RELAT_1:38;
end;
end;
registration
let R14 being non  empty set;
let R15 being (Element of R14);
let C25 being  circular non  empty (FinSequence of R14);
cluster ( Rotate (C25 , R15) ) ->  circular;
coherence
proof
per cases ;
suppose L969: (not R15 in ( rng C25 ));

thus L970: thesis by L969 , L944;
end;
suppose that L971: R15 in ( rng C25 )
and
L972: R15 <> ( C25 /. 1 );
L973: ( R15 .. C25 ) >= 1 by L971 , FINSEQ_4:21;
L974: ( Rotate (C25 , R15) ) = ( ( C25 :- R15 ) ^ ( ( C25 -: R15 ) /^ 1 ) ) by L971 , L944;
L975: ( R15 .. C25 ) <> 1 by L971 , L972 , FINSEQ_5:38;
L976: ( R15 .. C25 ) > 1 by L975 , L973 , XXREAL_0:1;
L977: ( R15 .. C25 ) >= ( 1 + 1 ) by L976 , NAT_1:13;
L978: ( len ( C25 -: R15 ) ) >= ( 1 + 1 ) by L977 , L971 , FINSEQ_5:42;
L979: 1 <= ( len ( C25 -: R15 ) ) by L978 , XXREAL_0:2;
L980: ( len ( ( C25 -: R15 ) /^ 1 ) ) = ( ( len ( C25 -: R15 ) ) - 1 ) by L979 , RFINSEQ:def 1;
L981: ( ( len ( ( C25 -: R15 ) /^ 1 ) ) + 1 ) = ( len ( C25 -: R15 ) ) by L980;
L982: ( len ( ( C25 -: R15 ) /^ 1 ) ) >= 1 by L981 , L978 , XREAL_1:6;
L983: ( len ( ( C25 -: R15 ) /^ 1 ) ) in ( dom ( ( C25 -: R15 ) /^ 1 ) ) by L982 , FINSEQ_3:25;
L984: 1 in ( dom ( C25 :- R15 ) ) by FINSEQ_5:6;
thus L985: ( ( Rotate (C25 , R15) ) /. 1 ) = ( ( C25 :- R15 ) /. 1 ) by L984 , L974 , FINSEQ_4:68
.= R15 by FINSEQ_5:53
.= ( ( C25 -: R15 ) /. ( R15 .. C25 ) ) by L971 , FINSEQ_5:45
.= ( ( C25 -: R15 ) /. ( ( len ( ( C25 -: R15 ) /^ 1 ) ) + 1 ) ) by L971 , L980 , FINSEQ_5:42
.= ( ( ( C25 -: R15 ) /^ 1 ) /. ( len ( ( C25 -: R15 ) /^ 1 ) ) ) by L983 , FINSEQ_5:27
.= ( ( ( C25 :- R15 ) ^ ( ( C25 -: R15 ) /^ 1 ) ) /. ( ( len ( C25 :- R15 ) ) + ( len ( ( C25 -: R15 ) /^ 1 ) ) ) ) by L983 , FINSEQ_4:69
.= ( ( Rotate (C25 , R15) ) /. ( len ( Rotate (C25 , R15) ) ) ) by L974 , FINSEQ_1:22;
end;
suppose L986: (R15 in ( rng C25 ) & R15 = ( C25 /. 1 ));

thus L987: thesis by L986 , L961;
end;
end;
end;
theorem
L990: (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds ((R19 is  circular & R15 in ( rng R19 )) implies ( rng ( Rotate (R19 , R15) ) ) = ( rng R19 )))))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
assume that
L991: R19 is  circular
and
L992: R15 in ( rng R19 );
L993: ( Rotate (R19 , R15) ) = ( ( R19 :- R15 ) ^ ( ( R19 -: R15 ) /^ 1 ) ) by L992 , L944;
L994: ( rng ( ( R19 -: R15 ) /^ 1 ) ) c= ( rng ( R19 -: R15 ) ) by FINSEQ_5:33;
L995: ( rng ( R19 -: R15 ) ) c= ( rng R19 ) by FINSEQ_5:48;
L996: ( rng ( ( R19 -: R15 ) /^ 1 ) ) c= ( rng R19 ) by L995 , L994 , XBOOLE_1:1;
L997: ( rng ( ( R19 :- R15 ) ^ ( ( R19 -: R15 ) /^ 1 ) ) ) = ( ( rng ( R19 :- R15 ) ) \/ ( rng ( ( R19 -: R15 ) /^ 1 ) ) ) by FINSEQ_1:31;
L998: ( rng ( R19 :- R15 ) ) c= ( rng R19 ) by L992 , FINSEQ_5:55;
thus L999: ( rng ( Rotate (R19 , R15) ) ) c= ( rng R19 ) by L998 , L993 , L997 , L996 , XBOOLE_1:8;
let C26 being set;
assume L1000: C26 in ( rng R19 );
consider C27 being Nat such that L1001: C27 in ( dom R19 ) and L1002: ( R19 . C27 ) = C26 by L1000 , FINSEQ_2:10;
L1003: C26 = ( R19 /. C27 ) by L1001 , L1002 , PARTFUN1:def 6;
per cases ;
suppose L1004: C27 = 1;

L1005: ( len ( R19 :- R15 ) ) = ( len ( <* R15 *> ^ ( R19 /^ ( R15 .. R19 ) ) ) ) by FINSEQ_5:def 2
.= ( ( len <* R15 *> ) + ( len ( R19 /^ ( R15 .. R19 ) ) ) ) by FINSEQ_1:22
.= ( 1 + ( len ( R19 /^ ( R15 .. R19 ) ) ) ) by FINSEQ_1:39;
L1006: 1 <= ( len ( R19 :- R15 ) ) by L1005 , NAT_1:11;
L1007: ( len ( R19 :- R15 ) ) in ( dom ( R19 :- R15 ) ) by L1006 , FINSEQ_3:25;
L1008: C26 = ( R19 /. ( len R19 ) ) by L991 , L1003 , L1004 , L942
.= ( ( R19 :- R15 ) /. ( len ( R19 :- R15 ) ) ) by L992 , FINSEQ_5:54;
L1009: C26 in ( rng ( R19 :- R15 ) ) by L1008 , L1007 , PARTFUN2:2;
thus L1010: thesis by L1009 , L993 , L997 , XBOOLE_0:def 3;
end;
suppose that L1011: C27 <= ( R15 .. R19 )
and
L1012: C27 <> 1;
L1013: C27 <> ( 0 ) by L1001 , FINSEQ_3:25;
L1014: C27 > ( ( 0 ) + 1 ) by L1013 , L1012 , NAT_1:25;
L1015: C27 in ( Seg ( R15 .. R19 ) ) by L1014 , L1011 , FINSEQ_1:1;
consider C28 being Nat such that L1016: C27 = ( C28 + 1 ) by L1013 , NAT_1:6;
L1017: C28 >= 1 by L1014 , L1016 , NAT_1:14;
L1018: C27 <= ( len ( R19 -: R15 ) ) by L992 , L1011 , FINSEQ_5:42;
L1019: 1 <= ( len ( R19 -: R15 ) ) by L1018 , L1013 , NAT_1:25 , XXREAL_0:2;
L1020: ( len ( ( R19 -: R15 ) /^ 1 ) ) = ( ( len ( R19 -: R15 ) ) - 1 ) by L1019 , RFINSEQ:def 1;
L1021: ( ( len ( ( R19 -: R15 ) /^ 1 ) ) + 1 ) = ( len ( R19 -: R15 ) ) by L1020;
L1022: C28 <= ( len ( ( R19 -: R15 ) /^ 1 ) ) by L1021 , L1016 , L1018 , XREAL_1:6;
L1023: C28 in ( dom ( ( R19 -: R15 ) /^ 1 ) ) by L1022 , L1017 , FINSEQ_3:25;
L1024: ( len <* ( ( R19 -: R15 ) /. 1 ) *> ) = 1 by FINSEQ_1:39;
L1025: ( R19 -: R15 ) = ( <* ( ( R19 -: R15 ) /. 1 ) *> ^ ( ( R19 -: R15 ) /^ 1 ) ) by L992 , FINSEQ_5:29 , FINSEQ_5:47;
L1026: ( ( ( R19 -: R15 ) /^ 1 ) /. C28 ) = ( ( R19 -: R15 ) /. C27 ) by L1025 , L1016 , L1023 , L1024 , FINSEQ_4:69
.= ( R19 /. C27 ) by L992 , L1015 , FINSEQ_5:43;
L1027: C26 in ( rng ( ( R19 -: R15 ) /^ 1 ) ) by L1026 , L1003 , L1023 , PARTFUN2:2;
thus L1028: thesis by L1027 , L993 , L997 , XBOOLE_0:def 3;
end;
suppose L1029: C27 > ( R15 .. R19 );

reconsider D28 = ( C27 - ( R15 .. R19 ) ) as (Element of ( NAT )) by L1029 , INT_1:5;
L1030: ( D28 + 1 ) >= 1 by NAT_1:11;
L1031: C27 <= ( len R19 ) by L1001 , FINSEQ_3:25;
L1032: D28 <= ( ( len R19 ) - ( R15 .. R19 ) ) by L1031 , XREAL_1:9;
L1033: ( len ( R19 :- R15 ) ) = ( ( ( len R19 ) - ( R15 .. R19 ) ) + 1 ) by L992 , FINSEQ_5:50;
L1034: ( D28 + 1 ) <= ( len ( R19 :- R15 ) ) by L1033 , L1032 , XREAL_1:6;
L1035: ( D28 + 1 ) in ( dom ( R19 :- R15 ) ) by L1034 , L1030 , FINSEQ_3:25;
L1036: ( D28 + ( R15 .. R19 ) ) = C27;
L1037: ( R19 /. C27 ) = ( ( R19 :- R15 ) /. ( D28 + 1 ) ) by L1036 , L992 , L1035 , FINSEQ_5:52;
L1038: C26 in ( rng ( R19 :- R15 ) ) by L1037 , L1003 , L1035 , PARTFUN2:2;
thus L1039: thesis by L1038 , L993 , L997 , XBOOLE_0:def 3;
end;
end;
theorem
L1041: (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds (R15 in ( rng R19 ) implies R15 in ( rng ( Rotate (R19 , R15) ) )))))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
L1042: R15 in { R15 } by TARSKI:def 1;
L1043: R15 in ( rng <* R15 *> ) by L1042 , FINSEQ_1:39;
L1044: R15 in ( ( rng <* R15 *> ) \/ ( rng ( R19 /^ ( R15 .. R19 ) ) ) ) by L1043 , XBOOLE_0:def 3;
L1045: R15 in ( rng ( <* R15 *> ^ ( R19 /^ ( R15 .. R19 ) ) ) ) by L1044 , FINSEQ_1:31;
L1046: R15 in ( rng ( R19 :- R15 ) ) by L1045 , FINSEQ_5:def 2;
assume L1047: R15 in ( rng R19 );
L1048: ( Rotate (R19 , R15) ) = ( ( R19 :- R15 ) ^ ( ( R19 -: R15 ) /^ 1 ) ) by L1047 , L944;
L1049: ( rng ( Rotate (R19 , R15) ) ) = ( ( rng ( R19 :- R15 ) ) \/ ( rng ( ( R19 -: R15 ) /^ 1 ) ) ) by L1048 , FINSEQ_1:31;
thus L1050: thesis by L1049 , L1046 , XBOOLE_0:def 3;
end;
theorem
L1051: (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds (R15 in ( rng R19 ) implies ( ( Rotate (R19 , R15) ) /. 1 ) = R15))))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
assume L1052: R15 in ( rng R19 );
L1053: ( Rotate (R19 , R15) ) = ( ( R19 :- R15 ) ^ ( ( R19 -: R15 ) /^ 1 ) ) by L1052 , L944
.= ( ( <* R15 *> ^ ( R19 /^ ( R15 .. R19 ) ) ) ^ ( ( R19 -: R15 ) /^ 1 ) ) by FINSEQ_5:def 2
.= ( <* R15 *> ^ ( ( R19 /^ ( R15 .. R19 ) ) ^ ( ( R19 -: R15 ) /^ 1 ) ) ) by FINSEQ_1:32;
thus L1054: thesis by L1053 , FINSEQ_5:15;
end;
theorem
L1055: (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds ( Rotate (( Rotate (R19 , R15) ) , R15) ) = ( Rotate (R19 , R15) ))))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
per cases ;
suppose L1056: R15 in ( rng R19 );

reconsider D29 = R19 as non  empty (FinSequence of R14) by L1056;
L1057: ( ( Rotate (R19 , R15) ) /. 1 ) = R15 by L1056 , L1051;
L1058: ( ( Rotate (D29 , R15) ) :- R15 ) = ( Rotate (R19 , R15) ) by L1057 , L523;
L1059: R15 in ( rng ( Rotate (R19 , R15) ) ) by L1056 , L1041;
L1060: ( len <* R15 *> ) = 1 by FINSEQ_1:39;
L1061: ( ( Rotate (D29 , R15) ) -: R15 ) = <* R15 *> by L1057 , L523;
thus L1062: ( Rotate (( Rotate (R19 , R15) ) , R15) ) = ( ( Rotate (R19 , R15) ) ^ ( <* R15 *> /^ 1 ) ) by L1061 , L1058 , L1059 , L944
.= ( ( Rotate (R19 , R15) ) ^ ( {} ) ) by L1060 , FINSEQ_5:32
.= ( Rotate (R19 , R15) ) by FINSEQ_1:34;
end;
suppose L1063: (not R15 in ( rng R19 ));

thus L1064: thesis by L1063 , L944;
end;
end;
theorem
L1066: (for R14 being non  empty set holds (for R15 being (Element of R14) holds ( Rotate (<* R15 *> , R15) ) = <* R15 *>))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
L1067: ( <* R15 *> /. 1 ) = R15 by FINSEQ_4:16;
thus L1068: thesis by L1067 , L961;
end;
theorem
L1069: (for R14 being non  empty set holds (for R16 being (Element of R14) holds (for R17 being (Element of R14) holds ( Rotate (<* R16 , R17 *> , R16) ) = <* R16 , R17 *>)))
proof
let R14 being non  empty set;
let R16 being (Element of R14);
let R17 being (Element of R14);
L1070: ( <* R16 , R17 *> /. 1 ) = R16 by FINSEQ_4:17;
thus L1071: thesis by L1070 , L961;
end;
theorem
L1072: (for R14 being non  empty set holds (for R16 being (Element of R14) holds (for R17 being (Element of R14) holds ( Rotate (<* R16 , R17 *> , R17) ) = <* R17 , R17 *>)))
proof
let R14 being non  empty set;
let R16 being (Element of R14);
let R17 being (Element of R14);
per cases ;
suppose L1073: R16 = R17;

thus L1074: thesis by L1073 , L1069;
end;
suppose L1075: R16 <> R17;

L1076: ( rng <* R16 , R17 *> ) = { R16 , R17 } by L7;
L1077: R17 in ( rng <* R16 , R17 *> ) by L1076 , TARSKI:def 2;
thus L1078: ( Rotate (<* R16 , R17 *> , R17) ) = ( ( <* R16 , R17 *> :- R17 ) ^ ( ( <* R16 , R17 *> -: R17 ) /^ 1 ) ) by L1077 , L944
.= ( <* R17 *> ^ ( ( <* R16 , R17 *> -: R17 ) /^ 1 ) ) by L1075 , L574
.= ( <* R17 *> ^ ( <* R16 , R17 *> /^ 1 ) ) by L1075 , L553
.= ( <* R17 *> ^ <* R17 *> ) by L538
.= <* R17 , R17 *> by FINSEQ_1:def 9;
end;
end;
theorem
L1080: (for R14 being non  empty set holds (for R16 being (Element of R14) holds (for R17 being (Element of R14) holds (for R18 being (Element of R14) holds ( Rotate (<* R16 , R17 , R18 *> , R16) ) = <* R16 , R17 , R18 *>))))
proof
let R14 being non  empty set;
let R16 being (Element of R14);
let R17 being (Element of R14);
let R18 being (Element of R14);
L1081: ( <* R16 , R17 , R18 *> /. 1 ) = R16 by FINSEQ_4:18;
thus L1082: thesis by L1081 , L961;
end;
theorem
L1083: (for R14 being non  empty set holds (for R16 being (Element of R14) holds (for R17 being (Element of R14) holds (for R18 being (Element of R14) holds (R16 <> R17 implies ( Rotate (<* R16 , R17 , R18 *> , R17) ) = <* R17 , R18 , R17 *>)))))
proof
let R14 being non  empty set;
let R16 being (Element of R14);
let R17 being (Element of R14);
let R18 being (Element of R14);
assume L1084: R16 <> R17;
L1085: ( rng <* R16 , R17 , R18 *> ) = { R16 , R17 , R18 } by L10;
L1086: R17 in ( rng <* R16 , R17 , R18 *> ) by L1085 , ENUMSET1:def 1;
thus L1087: ( Rotate (<* R16 , R17 , R18 *> , R17) ) = ( ( <* R16 , R17 , R18 *> :- R17 ) ^ ( ( <* R16 , R17 , R18 *> -: R17 ) /^ 1 ) ) by L1086 , L944
.= ( <* R17 , R18 *> ^ ( ( <* R16 , R17 , R18 *> -: R17 ) /^ 1 ) ) by L1084 , L579
.= ( <* R17 , R18 *> ^ ( <* R16 , R17 *> /^ 1 ) ) by L1084 , L558
.= ( <* R17 , R18 *> ^ <* R17 *> ) by L538
.= <* R17 , R18 , R17 *> by FINSEQ_1:43;
end;
theorem
L1088: (for R14 being non  empty set holds (for R16 being (Element of R14) holds (for R17 being (Element of R14) holds (for R18 being (Element of R14) holds (R17 <> R18 implies ( Rotate (<* R16 , R17 , R18 *> , R18) ) = <* R18 , R17 , R18 *>)))))
proof
let R14 being non  empty set;
let R16 being (Element of R14);
let R17 being (Element of R14);
let R18 being (Element of R14);
assume L1089: R17 <> R18;
per cases ;
suppose L1090: R16 = R18;

thus L1091: thesis by L1090 , L1080;
end;
suppose L1092: R16 <> R18;

L1093: ( rng <* R16 , R17 , R18 *> ) = { R16 , R17 , R18 } by L10;
L1094: R18 in ( rng <* R16 , R17 , R18 *> ) by L1093 , ENUMSET1:def 1;
thus L1095: ( Rotate (<* R16 , R17 , R18 *> , R18) ) = ( ( <* R16 , R17 , R18 *> :- R18 ) ^ ( ( <* R16 , R17 , R18 *> -: R18 ) /^ 1 ) ) by L1094 , L944
.= ( <* R18 *> ^ ( ( <* R16 , R17 , R18 *> -: R18 ) /^ 1 ) ) by L1089 , L1092 , L584
.= ( <* R18 *> ^ ( <* R16 , R17 , R18 *> /^ 1 ) ) by L1089 , L1092 , L563
.= ( <* R18 *> ^ <* R17 , R18 *> ) by L541
.= <* R18 , R17 , R18 *> by FINSEQ_1:43;
end;
end;
theorem
L1097: (for R14 being non  empty set holds (for B13 being  circular non  trivial (FinSequence of R14) holds ( rng ( B13 /^ 1 ) ) = ( rng B13 )))
proof
let R14 being non  empty set;
let C29 being  circular non  trivial (FinSequence of R14);
thus L1098: ( rng ( C29 /^ 1 ) ) c= ( rng C29 ) by FINSEQ_5:33;
let C30 being set;
L1099: C29 = ( <* ( C29 /. 1 ) *> ^ ( C29 /^ 1 ) ) by FINSEQ_5:29;
L1100: ( rng C29 ) = ( ( rng <* ( C29 /. 1 ) *> ) \/ ( rng ( C29 /^ 1 ) ) ) by L1099 , FINSEQ_1:31;
assume L1101: C30 in ( rng C29 );
per cases  by L1100 , L1101 , XBOOLE_0:def 3;
suppose L1102: C30 in ( rng <* ( C29 /. 1 ) *> );

L1103: C30 in { ( C29 /. 1 ) } by L1102 , FINSEQ_1:39;
L1104: C30 = ( C29 /. 1 ) by L1103 , TARSKI:def 1;
L1105: C30 = ( C29 /. ( len C29 ) ) by L1104 , L942;
L1106: ( len C29 ) >= ( 1 + 1 ) by NAT_D:60;
L1107: ( len C29 ) >= 1 by L1106 , XXREAL_0:2;
L1108: ( len ( C29 /^ 1 ) ) = ( ( len C29 ) - 1 ) by L1107 , RFINSEQ:def 1;
L1109: 1 <= ( len ( C29 /^ 1 ) ) by L1108 , L1106 , XREAL_1:19;
L1110: ( len ( C29 /^ 1 ) ) in ( dom ( C29 /^ 1 ) ) by L1109 , FINSEQ_3:25;
L1111: ( ( len ( C29 /^ 1 ) ) + 1 ) = ( len C29 ) by L1108;
L1112: C30 = ( ( C29 /^ 1 ) /. ( len ( C29 /^ 1 ) ) ) by L1111 , L1105 , L1110 , FINSEQ_5:27;
thus L1113: thesis by L1112 , L1110 , PARTFUN2:2;
end;
suppose L1114: C30 in ( rng ( C29 /^ 1 ) );

thus L1115: thesis by L1114;
end;
end;
theorem
L1117: (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds ( rng ( R19 /^ 1 ) ) c= ( rng ( Rotate (R19 , R15) ) ))))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
per cases ;
suppose L1118: R15 in ( rng R19 );

L1119: ( Rotate (R19 , R15) ) = ( ( R19 :- R15 ) ^ ( ( R19 -: R15 ) /^ 1 ) ) by L1118 , L944;
L1120: ( rng ( Rotate (R19 , R15) ) ) = ( ( rng ( R19 :- R15 ) ) \/ ( rng ( ( R19 -: R15 ) /^ 1 ) ) ) by L1119 , FINSEQ_1:31;
thus L1121: thesis
proof
let C31 being set;
assume L1122: C31 in ( rng ( R19 /^ 1 ) );
L1123: ( rng ( R19 /^ 1 ) ) c= ( rng R19 ) by FINSEQ_5:33;
L1124: C31 in ( rng R19 ) by L1123 , L1122;
per cases ;
suppose that L1125: ( C31 .. R19 ) < ( R15 .. R19 )
and
L1126: ( C31 .. ( R19 /^ 1 ) ) >= ( R15 .. ( R19 /^ 1 ) );
L1127: ( R15 .. R19 ) >= 1 by L1118 , FINSEQ_4:21;
L1128: ( R15 .. R19 ) <> 1 by L1122 , L1123 , L1125 , FINSEQ_4:21;
L1129: ( R15 .. R19 ) > 1 by L1128 , L1127 , XXREAL_0:1;
L1130: ( R15 .. R19 ) = ( ( R15 .. ( R19 /^ 1 ) ) + 1 ) by L1129 , L1118 , L590;
L1131: ( ( C31 .. ( R19 /^ 1 ) ) + 1 ) >= ( R15 .. R19 ) by L1130 , L1126 , XREAL_1:6;
L1132: ( rng R19 ) c= R14 by FINSEQ_1:def 4;
reconsider D30 = C31 as (Element of R14) by L1132 , L1124;
L1133: ( C31 .. ( R19 /^ 1 ) ) in ( dom ( R19 /^ 1 ) ) by L1122 , FINSEQ_4:20;
L1134: R19 <> ( {} ) by L1118;
L1135: ( len R19 ) >= 1 by L1134 , NAT_1:14;
L1136: ( ( len R19 ) - 1 ) = ( len ( R19 /^ 1 ) ) by L1135 , RFINSEQ:def 1;
L1137: ( len R19 ) = ( ( len ( R19 /^ 1 ) ) + 1 ) by L1136;
L1138: ( C31 .. ( R19 /^ 1 ) ) <= ( len ( R19 /^ 1 ) ) by L1122 , FINSEQ_4:21;
L1139: ( ( C31 .. ( R19 /^ 1 ) ) + 1 ) <= ( len R19 ) by L1138 , L1137 , XREAL_1:6;
L1140: D30 = ( ( R19 /^ 1 ) /. ( D30 .. ( R19 /^ 1 ) ) ) by L1122 , FINSEQ_5:38
.= ( R19 /. ( ( D30 .. ( R19 /^ 1 ) ) + 1 ) ) by L1133 , FINSEQ_5:27;
L1141: C31 in ( rng ( R19 :- R15 ) ) by L1140 , L1118 , L1139 , L1131 , L700;
thus L1142: thesis by L1141 , L1120 , XBOOLE_0:def 3;
end;
suppose that L1143: ( C31 .. R19 ) < ( R15 .. R19 )
and
L1144: ( C31 .. ( R19 /^ 1 ) ) <= ( R15 .. ( R19 /^ 1 ) );
L1145: ( R15 .. R19 ) <> 1 by L1122 , L1123 , L1143 , FINSEQ_4:21;
L1146: ( R15 .. R19 ) >= 1 by L1118 , FINSEQ_4:21;
L1147: ( R15 .. R19 ) > 1 by L1146 , L1145 , XXREAL_0:1;
L1148: R15 in ( rng ( R19 /^ 1 ) ) by L1147 , L1118 , L621;
L1149: C31 in ( rng ( ( R19 /^ 1 ) -: R15 ) ) by L1148 , L1122 , L1144 , FINSEQ_5:46;
L1150: C31 in ( rng ( ( R19 -: R15 ) /^ 1 ) ) by L1149 , L1118 , L1145 , L674;
thus L1151: thesis by L1150 , L1120 , XBOOLE_0:def 3;
end;
suppose L1152: ( C31 .. R19 ) >= ( R15 .. R19 );

L1153: C31 in ( rng ( R19 :- R15 ) ) by L1152 , L1118 , L1122 , L1123 , L686;
thus L1154: thesis by L1153 , L1120 , XBOOLE_0:def 3;
end;
end;

end;
suppose L1122: (not R15 in ( rng R19 ));

L1123: ( Rotate (R19 , R15) ) = R19 by L1122 , L944;
thus L1124: thesis by L1123 , FINSEQ_5:33;
end;
end;
theorem
L1126: (for R14 being non  empty set holds (for R16 being (Element of R14) holds (for R17 being (Element of R14) holds (for R19 being (FinSequence of R14) holds (R17 in ( ( rng R19 ) \ ( rng ( R19 -: R16 ) ) ) implies ( Rotate (( Rotate (R19 , R16) ) , R17) ) = ( Rotate (R19 , R17) ))))))
proof
let R14 being non  empty set;
let R16 being (Element of R14);
let R17 being (Element of R14);
let R19 being (FinSequence of R14);
assume L1127: R17 in ( ( rng R19 ) \ ( rng ( R19 -: R16 ) ) );
per cases ;
suppose L1128: R16 in ( rng R19 );

L1129: ( Rotate (R19 , R16) ) = ( ( R19 :- R16 ) ^ ( ( R19 -: R16 ) /^ 1 ) ) by L1128 , L944;
L1130: ( R16 .. ( R19 :- R16 ) ) = 1 by L833;
L1131: ( rng ( ( R19 -: R16 ) /^ 1 ) ) c= ( rng ( R19 -: R16 ) ) by FINSEQ_5:33;
L1132: (not R17 in ( rng ( ( R19 -: R16 ) /^ 1 ) )) by L1131 , L1127 , XBOOLE_0:def 5;
L1133: ( rng ( R19 /^ 1 ) ) c= ( rng ( Rotate (R19 , R16) ) ) by L1117;
L1134: ( R19 -: R16 ) <> ( {} ) by L1128 , FINSEQ_5:47;
L1135: (not R17 in ( rng ( R19 -: R16 ) )) by L1127 , XBOOLE_0:def 5;
L1136: ( R16 .. R19 ) <= ( R16 .. R19 );
L1137: R16 <> R17 by L1136 , L1128 , L1135 , FINSEQ_5:46;
L1138: ( rng R19 ) = ( ( rng ( R19 -: R16 ) ) \/ ( rng ( R19 :- R16 ) ) ) by L1128 , L749;
L1139: R17 in ( rng ( R19 :- R16 ) ) by L1138 , L1127 , L1135 , XBOOLE_0:def 3;
L1140: R16 in ( rng ( R19 :- R16 ) ) by L680;
L1141: ( R17 .. ( R19 :- R16 ) ) <> 1 by L1140 , L1139 , L1137 , L1130 , FINSEQ_5:9;
L1142: R17 in ( rng ( ( R19 :- R16 ) /^ 1 ) ) by L1141 , L1139 , L823;
L1143: R17 in ( ( rng ( ( R19 :- R16 ) /^ 1 ) ) \ ( rng ( ( R19 -: R16 ) /^ 1 ) ) ) by L1142 , L1132 , XBOOLE_0:def 5;
L1144:
now
assume L1145: ( R17 .. R19 ) = 1;
L1146: ( R17 .. R19 ) <= ( R16 .. R19 ) by L1145 , L1128 , FINSEQ_4:21;
thus L1147: contradiction by L1146 , L1127 , L1128 , L1135 , FINSEQ_5:46;
end;
L1148: R17 in ( rng ( R19 /^ 1 ) ) by L1144 , L1127 , L823;
thus L1149: ( Rotate (( Rotate (R19 , R16) ) , R17) ) = ( ( ( ( R19 :- R16 ) ^ ( ( R19 -: R16 ) /^ 1 ) ) :- R17 ) ^ ( ( ( ( R19 :- R16 ) ^ ( ( R19 -: R16 ) /^ 1 ) ) -: R17 ) /^ 1 ) ) by L1148 , L1129 , L1133 , L944
.= ( ( ( ( R19 :- R16 ) :- R17 ) ^ ( ( R19 -: R16 ) /^ 1 ) ) ^ ( ( ( ( R19 :- R16 ) ^ ( ( R19 -: R16 ) /^ 1 ) ) -: R17 ) /^ 1 ) ) by L1139 , L716
.= ( ( ( R19 :- R17 ) ^ ( ( R19 -: R16 ) /^ 1 ) ) ^ ( ( ( ( R19 :- R16 ) ^ ( ( R19 -: R16 ) /^ 1 ) ) -: R17 ) /^ 1 ) ) by L1127 , L1128 , L757
.= ( ( ( R19 :- R17 ) ^ ( ( R19 -: R16 ) /^ 1 ) ) ^ ( ( ( R19 :- R16 ) -: R17 ) /^ 1 ) ) by L1139 , L726
.= ( ( ( R19 :- R17 ) ^ ( ( R19 -: R16 ) /^ 1 ) ) ^ ( ( ( R19 :- R16 ) /^ 1 ) -: R17 ) ) by L1139 , L1141 , L674
.= ( ( R19 :- R17 ) ^ ( ( ( R19 -: R16 ) /^ 1 ) ^ ( ( ( R19 :- R16 ) /^ 1 ) -: R17 ) ) ) by FINSEQ_1:32
.= ( ( R19 :- R17 ) ^ ( ( ( ( R19 -: R16 ) /^ 1 ) ^ ( ( R19 :- R16 ) /^ 1 ) ) -: R17 ) ) by L1143 , L731
.= ( ( R19 :- R17 ) ^ ( ( ( ( R19 -: R16 ) ^ ( ( R19 :- R16 ) /^ 1 ) ) /^ 1 ) -: R17 ) ) by L1134 , L818
.= ( ( R19 :- R17 ) ^ ( ( R19 /^ 1 ) -: R17 ) ) by L1128 , L812
.= ( ( R19 :- R17 ) ^ ( ( R19 -: R17 ) /^ 1 ) ) by L1127 , L1144 , L674
.= ( Rotate (R19 , R17) ) by L1127 , L944;
end;
suppose L1150: (not R16 in ( rng R19 ));

thus L1151: thesis by L1150 , L944;
end;
end;
theorem
L1153: (for R14 being non  empty set holds (for R16 being (Element of R14) holds (for R17 being (Element of R14) holds (for R19 being (FinSequence of R14) holds ((( R17 .. R19 ) <> 1 & R17 in ( ( rng R19 ) \ ( rng ( R19 :- R16 ) ) )) implies ( Rotate (( Rotate (R19 , R16) ) , R17) ) = ( Rotate (R19 , R17) ))))))
proof
let R14 being non  empty set;
let R16 being (Element of R14);
let R17 being (Element of R14);
let R19 being (FinSequence of R14);
assume that
L1154: ( R17 .. R19 ) <> 1
and
L1155: R17 in ( ( rng R19 ) \ ( rng ( R19 :- R16 ) ) );
per cases ;
suppose L1156: R16 in ( rng R19 );

L1157: ( R19 -: R16 ) <> ( {} ) by L1156 , FINSEQ_5:47;
L1158: (not R17 in ( rng ( R19 :- R16 ) )) by L1155 , XBOOLE_0:def 5;
L1159: ( rng R19 ) = ( ( rng ( R19 -: R16 ) ) \/ ( rng ( R19 :- R16 ) ) ) by L1156 , L749;
L1160: R17 in ( rng ( R19 -: R16 ) ) by L1159 , L1155 , L1158 , XBOOLE_0:def 3;
L1161: ( ( R19 -: R16 ) ^ ( ( R19 :- R16 ) /^ 1 ) ) = R19 by L1156 , L812;
L1162: ( R17 .. ( R19 -: R16 ) ) <> 1 by L1161 , L1154 , L1160 , L69;
L1163: R17 in ( rng ( ( R19 -: R16 ) /^ 1 ) ) by L1162 , L1160 , L823;
L1164: R17 in ( ( rng ( ( R19 -: R16 ) /^ 1 ) ) \ ( rng ( R19 :- R16 ) ) ) by L1163 , L1158 , XBOOLE_0:def 5;
L1165: ( Rotate (R19 , R16) ) = ( ( R19 :- R16 ) ^ ( ( R19 -: R16 ) /^ 1 ) ) by L1156 , L944;
L1166: ( rng ( Rotate (R19 , R16) ) ) = ( ( rng ( R19 :- R16 ) ) \/ ( rng ( ( R19 -: R16 ) /^ 1 ) ) ) by L1165 , FINSEQ_1:31;
L1167: R17 in ( rng ( Rotate (R19 , R16) ) ) by L1166 , L1163 , XBOOLE_0:def 3;
thus L1168: ( Rotate (( Rotate (R19 , R16) ) , R17) ) = ( ( ( ( R19 :- R16 ) ^ ( ( R19 -: R16 ) /^ 1 ) ) :- R17 ) ^ ( ( ( ( R19 :- R16 ) ^ ( ( R19 -: R16 ) /^ 1 ) ) -: R17 ) /^ 1 ) ) by L1167 , L1165 , L944
.= ( ( ( ( R19 -: R16 ) /^ 1 ) :- R17 ) ^ ( ( ( ( R19 :- R16 ) ^ ( ( R19 -: R16 ) /^ 1 ) ) -: R17 ) /^ 1 ) ) by L1164 , L721
.= ( ( ( ( R19 -: R16 ) /^ 1 ) :- R17 ) ^ ( ( ( R19 :- R16 ) ^ ( ( ( R19 -: R16 ) /^ 1 ) -: R17 ) ) /^ 1 ) ) by L1164 , L731
.= ( ( ( ( R19 -: R16 ) /^ 1 ) :- R17 ) ^ ( ( ( R19 :- R16 ) /^ 1 ) ^ ( ( ( R19 -: R16 ) /^ 1 ) -: R17 ) ) ) by L818
.= ( ( ( ( ( R19 -: R16 ) /^ 1 ) :- R17 ) ^ ( ( R19 :- R16 ) /^ 1 ) ) ^ ( ( ( R19 -: R16 ) /^ 1 ) -: R17 ) ) by FINSEQ_1:32
.= ( ( ( ( ( R19 -: R16 ) /^ 1 ) ^ ( ( R19 :- R16 ) /^ 1 ) ) :- R17 ) ^ ( ( ( R19 -: R16 ) /^ 1 ) -: R17 ) ) by L1163 , L716
.= ( ( ( ( ( R19 -: R16 ) ^ ( ( R19 :- R16 ) /^ 1 ) ) /^ 1 ) :- R17 ) ^ ( ( ( R19 -: R16 ) /^ 1 ) -: R17 ) ) by L1157 , L818
.= ( ( ( R19 /^ 1 ) :- R17 ) ^ ( ( ( R19 -: R16 ) /^ 1 ) -: R17 ) ) by L1156 , L812
.= ( ( R19 :- R17 ) ^ ( ( ( R19 -: R16 ) /^ 1 ) -: R17 ) ) by L1154 , L1155 , L896
.= ( ( R19 :- R17 ) ^ ( ( ( R19 -: R16 ) -: R17 ) /^ 1 ) ) by L1160 , L1162 , L674
.= ( ( R19 :- R17 ) ^ ( ( R19 -: R17 ) /^ 1 ) ) by L1156 , L1160 , L798
.= ( Rotate (R19 , R17) ) by L1155 , L944;
end;
suppose L1169: (not R16 in ( rng R19 ));

thus L1170: thesis by L1169 , L944;
end;
end;
theorem
L1172: (for R14 being non  empty set holds (for R16 being (Element of R14) holds (for R17 being (Element of R14) holds (for R19 being (FinSequence of R14) holds ((R17 in ( rng ( R19 /^ 1 ) ) & R19 just_once_values R17) implies ( Rotate (( Rotate (R19 , R16) ) , R17) ) = ( Rotate (R19 , R17) ))))))
proof
let R14 being non  empty set;
let R16 being (Element of R14);
let R17 being (Element of R14);
let R19 being (FinSequence of R14);
per cases ;
suppose L1173: R16 in ( rng R19 );

assume that
L1174: R17 in ( rng ( R19 /^ 1 ) )
and
L1175: R19 just_once_values R17;
L1176: R19 = ( ( ( R19 -| R16 ) ^ <* R16 *> ) ^ ( R19 |-- R16 ) ) by L1173 , FINSEQ_4:51;
L1177: R17 in ( ( rng ( ( R19 -| R16 ) ^ <* R16 *> ) ) \+\ ( rng ( R19 |-- R16 ) ) ) by L1176 , L1175 , L275;
L1178:
now
per cases  by L1177 , XBOOLE_0:1;
case that L1179: R17 in ( rng ( ( R19 -| R16 ) ^ <* R16 *> ) )
and
L1180: (not R17 in ( rng ( R19 |-- R16 ) ));
L1181:
now
per cases ;
case L1182: (not R17 in ( rng <* R16 *> ));
L1183: (not R17 in ( ( rng ( R19 |-- R16 ) ) \/ ( rng <* R16 *> ) )) by L1182 , L1180 , XBOOLE_0:def 3;
L1184: (not R17 in ( rng ( <* R16 *> ^ ( R19 |-- R16 ) ) )) by L1183 , FINSEQ_1:31;
thus L1185: (not R17 in ( rng ( R19 :- R16 ) )) by L1184 , L1173 , L508;
end;
case L1186: R17 in ( rng <* R16 *> );
L1187: R17 in { R16 } by L1186 , FINSEQ_1:39;
thus L1188: R17 = R16 by L1187 , TARSKI:def 1;
end;
end;
thus L1190: (R17 in ( rng ( R19 :- R16 ) ) implies R16 = R17) by L1181;
end;
case L1191: (not R17 in ( rng ( ( R19 -| R16 ) ^ <* R16 *> ) ));
thus L1192: (not R17 in ( rng ( R19 -: R16 ) )) by L1191 , L1173 , L505;
end;
end;
L1194: R17 in ( rng R19 ) by L1175 , FINSEQ_4:5;
L1195: R19 = ( <* ( R19 /. 1 ) *> ^ ( R19 /^ 1 ) ) by L1194 , FINSEQ_5:29 , RELAT_1:38;
L1196: R17 in ( ( rng <* ( R19 /. 1 ) *> ) \+\ ( rng ( R19 /^ 1 ) ) ) by L1195 , L1175 , L275;
L1197: (not R17 in ( rng <* ( R19 /. 1 ) *> )) by L1196 , L1174 , XBOOLE_0:1;
L1198: (not R17 in { ( R19 /. 1 ) }) by L1197 , FINSEQ_1:39;
L1199: R17 <> ( R19 /. 1 ) by L1198 , TARSKI:def 1;
L1200: ( R17 .. R19 ) <> 1 by L1199 , L1194 , FINSEQ_5:38;
L1201:
now
per cases  by L1194 , L1178 , XBOOLE_0:def 5;
suppose L1202: R16 = R17;

thus L1203: thesis by L1202 , L1055;
end;
suppose L1204: R17 in ( ( rng R19 ) \ ( rng ( R19 -: R16 ) ) );

thus L1205: thesis by L1204 , L1126;
end;
suppose L1206: R17 in ( ( rng R19 ) \ ( rng ( R19 :- R16 ) ) );

thus L1207: thesis by L1206 , L1200 , L1153;
end;
end;
thus L1209: thesis by L1201;
end;
suppose L1210: (not R16 in ( rng R19 ));

thus L1211: thesis by L1210 , L944;
end;
end;
theorem
L1213: (for R14 being non  empty set holds (for R16 being (Element of R14) holds (for R17 being (Element of R14) holds (for R19 being (FinSequence of R14) holds ((R19 is  circular & R19 just_once_values R17) implies ( Rotate (( Rotate (R19 , R16) ) , R17) ) = ( Rotate (R19 , R17) ))))))
proof
let R14 being non  empty set;
let R16 being (Element of R14);
let R17 being (Element of R14);
let R19 being (FinSequence of R14);
per cases ;
suppose L1214: R16 in ( rng R19 );

assume that
L1215: R19 is  circular
and
L1216: R19 just_once_values R17;
L1217: R17 in ( rng R19 ) by L1216 , FINSEQ_4:45;
L1218:
now
per cases ;
suppose L1219: ( rng R19 ) is  trivial;

L1220: R16 = R17 by L1219 , L1214 , L1217 , ZFMISC_1:def 10;
thus L1221: thesis by L1220 , L1055;
end;
suppose L1222: (not ( rng R19 ) is  trivial);

L1223: R19 = ( <* ( R19 /. 1 ) *> ^ ( R19 /^ 1 ) ) by L1222 , FINSEQ_5:29 , RELAT_1:38;
L1224: ( rng R19 ) = ( ( rng <* ( R19 /. 1 ) *> ) \/ ( rng ( R19 /^ 1 ) ) ) by L1223 , FINSEQ_1:31;
L1225:
now
L1226: (R19 qua set) is non  trivial by L1222;
L1227: ( len R19 ) >= ( 1 + 1 ) by L1226 , NAT_D:60;
L1228: 1 < ( len R19 ) by L1227 , NAT_1:13;
assume L1229: (not R17 in ( rng ( R19 /^ 1 ) ));
L1230: R17 in ( rng <* ( R19 /. 1 ) *> ) by L1229 , L1217 , L1224 , XBOOLE_0:def 3;
L1231: R17 in { ( R19 /. 1 ) } by L1230 , FINSEQ_1:39;
L1232: R17 = ( R19 /. 1 ) by L1231 , TARSKI:def 1;
L1233: R17 = ( R19 /. ( len R19 ) ) by L1232 , L1215 , L942;
L1234: ( len R19 ) in ( dom R19 ) by L1222 , FINSEQ_5:6 , RELAT_1:38;
thus L1235: contradiction by L1234 , L1229 , L1233 , L1228 , L637;
end;
thus L1236: thesis by L1225 , L1216 , L1172;
end;
end;
thus L1238: thesis by L1218;
end;
suppose L1239: (not R16 in ( rng R19 ));

thus L1240: thesis by L1239 , L944;
end;
end;
theorem
L1242: (for R14 being non  empty set holds (for R15 being (Element of R14) holds (for R19 being (FinSequence of R14) holds ((R19 is  circular & R19 just_once_values R15) implies ( Rev ( Rotate (R19 , R15) ) ) = ( Rotate (( Rev R19 ) , R15) )))))
proof
let R14 being non  empty set;
let R15 being (Element of R14);
let R19 being (FinSequence of R14);
assume that
L1243: R19 is  circular
and
L1244: R19 just_once_values R15;
reconsider D31 = ( ( len ( R19 :- R15 ) ) - 1 ) as (Element of ( NAT )) by INT_1:5 , NAT_1:14;
L1245: ( R19 /. 1 ) = ( R19 /. ( len R19 ) ) by L1243 , L942;
L1246: R15 in ( rng R19 ) by L1244 , FINSEQ_4:45;
L1247: ( R19 -: R15 ) = ( <* ( ( R19 -: R15 ) /. 1 ) *> ^ ( ( R19 -: R15 ) /^ 1 ) ) by L1246 , FINSEQ_5:29 , FINSEQ_5:47
.= ( <* ( R19 /. 1 ) *> ^ ( ( R19 -: R15 ) /^ 1 ) ) by L1246 , FINSEQ_5:44;
L1248: ( D31 + 1 ) = ( len ( R19 :- R15 ) );
L1249: ( R19 :- R15 ) = ( ( ( R19 :- R15 ) | D31 ) ^ <* ( ( R19 :- R15 ) /. ( len ( R19 :- R15 ) ) ) *> ) by L1248 , FINSEQ_5:21
.= ( ( ( R19 :- R15 ) | D31 ) ^ <* ( R19 /. ( len R19 ) ) *> ) by L1246 , FINSEQ_5:54;
L1250: R15 in ( rng ( Rev R19 ) ) by L1246 , FINSEQ_5:57;
thus L1251: ( Rev ( Rotate (R19 , R15) ) ) = ( Rev ( ( R19 :- R15 ) ^ ( ( R19 -: R15 ) /^ 1 ) ) ) by L1246 , L944
.= ( ( Rev ( ( R19 -: R15 ) /^ 1 ) ) ^ ( Rev ( R19 :- R15 ) ) ) by FINSEQ_5:64
.= ( ( Rev ( ( R19 -: R15 ) /^ 1 ) ) ^ ( <* ( R19 /. ( len R19 ) ) *> ^ ( Rev ( ( R19 :- R15 ) | D31 ) ) ) ) by L1249 , FINSEQ_5:63
.= ( ( ( Rev ( ( R19 -: R15 ) /^ 1 ) ) ^ <* ( R19 /. 1 ) *> ) ^ ( Rev ( ( R19 :- R15 ) | D31 ) ) ) by L1245 , FINSEQ_1:32
.= ( ( Rev ( R19 -: R15 ) ) ^ ( Rev ( ( R19 :- R15 ) | D31 ) ) ) by L1247 , L354
.= ( ( Rev ( R19 -: R15 ) ) ^ ( ( Rev ( R19 :- R15 ) ) /^ 1 ) ) by L1248 , L920
.= ( ( Rev ( R19 -: R15 ) ) ^ ( ( ( Rev R19 ) -: R15 ) /^ 1 ) ) by L1244 , L932
.= ( ( ( Rev R19 ) :- R15 ) ^ ( ( ( Rev R19 ) -: R15 ) /^ 1 ) ) by L1244 , L937
.= ( Rotate (( Rev R19 ) , R15) ) by L1250 , L944;
end;
begin
theorem
L1252: (for R14 being non  empty set holds (for B14 being  trivial (FinSequence of R14) holds (B14 is  empty or (ex B15 being (Element of R14) st B14 = <* B15 *>))))
proof
let R14 being non  empty set;
let C32 being  trivial (FinSequence of R14);
L1253: ( rng C32 ) c= R14 by FINSEQ_1:def 4;
assume L1254: C32 is non  empty;
consider C33 being set such that L1255: C32 = { C33 } by L1254 , ZFMISC_1:131;
L1256: 1 in ( dom C32 ) by L1255 , FINSEQ_5:6;
L1257: C33 in { C33 } by TARSKI:def 1;
consider C34 , C35 being set such that L1258: C33 = [ C34 , C35 ] by L1257 , L1255 , RELAT_1:def 1;
take C35;
L1259: C35 in ( rng C32 ) by L1255 , L1257 , L1258 , XTUPLE_0:def 13;
thus L1260: C35 is (Element of R14) by L1259 , L1253;
L1261: ( dom C32 ) = { C34 } by L1255 , L1258 , RELAT_1:9;
L1262: 1 = C34 by L1261 , L1256 , TARSKI:def 1;
thus L1263: C32 = <* C35 *> by L1262 , L1255 , L1258 , FINSEQ_1:def 5;
end;
begin
theorem
L1264: (for B16 being Nat holds (for B17 , B18 being FinSequence holds ((( len B17 ) < B16 & (B16 <= ( ( len B17 ) + ( len B18 ) ) or B16 <= ( len ( B17 ^ B18 ) ))) implies ( ( B17 ^ B18 ) . B16 ) = ( B18 . ( B16 - ( len B17 ) ) ))))
proof
let C36 being Nat;
let C37 , C38 being FinSequence;
assume that
L1265: ( len C37 ) < C36
and
L1266: (C36 <= ( ( len C37 ) + ( len C38 ) ) or C36 <= ( len ( C37 ^ C38 ) ));
L1267: C36 <= ( ( len C37 ) + ( len C38 ) ) by L1266 , FINSEQ_1:22;
L1268: ( C36 - ( len C37 ) ) <= ( ( ( len C37 ) + ( len C38 ) ) - ( len C37 ) ) by L1267 , XREAL_1:9;
L1269: ( ( len C37 ) + 1 ) <= C36 by L1265 , NAT_1:13;
L1270: ( ( ( len C37 ) + 1 ) - ( len C37 ) ) <= ( C36 - ( len C37 ) ) by L1269 , XREAL_1:9;
L1271: ( ( len C37 ) + ( C36 -' ( len C37 ) ) ) = ( ( len C37 ) + ( C36 - ( len C37 ) ) ) by L1270 , XREAL_0:def 2
.= C36;
L1272: ( C36 - ( len C37 ) ) = ( C36 -' ( len C37 ) ) by L1270 , XREAL_0:def 2;
L1273: ( C36 -' ( len C37 ) ) in ( dom C38 ) by L1272 , L1270 , L1268 , FINSEQ_3:25;
thus L1274: thesis by L1273 , L1271 , FINSEQ_1:def 7;
end;
theorem
L1275: (for R22 being non  empty set holds (for B19 being set holds (for B20 being (FinSequence of R22) holds (1 <= ( len B20 ) implies (( ( B20 ^ <* B19 *> ) . 1 ) = ( B20 . 1 ) & ( ( B20 ^ <* B19 *> ) . 1 ) = ( B20 /. 1 ) & ( ( <* B19 *> ^ B20 ) . ( ( len B20 ) + 1 ) ) = ( B20 . ( len B20 ) ) & ( ( <* B19 *> ^ B20 ) . ( ( len B20 ) + 1 ) ) = ( B20 /. ( len B20 ) ))))))
proof
let R22 being non  empty set;
let C39 being set;
let C40 being (FinSequence of R22);
assume L1276: 1 <= ( len C40 );
L1277: ( len C40 ) in ( dom C40 ) by L1276 , FINSEQ_3:25;
L1278: 1 in ( dom C40 ) by L1276 , FINSEQ_3:25;
L1279: ( ( C40 ^ <* C39 *> ) . 1 ) = ( C40 . 1 ) by L1278 , FINSEQ_1:def 7;
L1280: ( ( <* C39 *> ^ C40 ) . ( ( len C40 ) + 1 ) ) = ( ( <* C39 *> ^ C40 ) . ( ( len <* C39 *> ) + ( len C40 ) ) ) by FINSEQ_1:39
.= ( C40 . ( len C40 ) ) by L1277 , FINSEQ_1:def 7;
thus L1281: thesis by L1280 , L1276 , L1279 , FINSEQ_4:15;
end;
theorem
L1282: (for B21 being FinSequence holds (( len B21 ) = 1 implies ( Rev B21 ) = B21))
proof
let C41 being FinSequence;
assume L1283: ( len C41 ) = 1;
L1284: C41 = <* ( C41 . 1 ) *> by L1283 , FINSEQ_1:40;
thus L1285: thesis by L1284 , FINSEQ_5:60;
end;
theorem
L1286: (for R22 being non  empty set holds (for B22 being (FinSequence of R22) holds (for B23 being Nat holds ( len ( B22 /^ B23 ) ) = ( ( len B22 ) -' B23 )))) by RFINSEQ:29;
theorem
L1287: (for R22 being non  empty set holds (for B24 being (FinSequence of R22) holds (for B25 , B26 being Nat holds ( ( B24 /^ B25 ) | ( B26 -' B25 ) ) = ( ( B24 | B26 ) /^ B25 )))) by FINSEQ_5:80;
definition
let C42 being FinSequence;
let C43 , C44 being Nat;
func mid (C42 , C43 , C44) -> FinSequence equals 
:L1288: ( ( C42 /^ ( C43 -' 1 ) ) | ( ( C44 -' C43 ) + 1 ) ) if C43 <= C44 otherwise ( Rev ( ( C42 /^ ( C44 -' 1 ) ) | ( ( C43 -' C44 ) + 1 ) ) );
correctness;
end;
definition
let R22 being non  empty set;
let C45 being (FinSequence of R22);
let C46 , C47 being Nat;
redefine func mid (C45 , C46 , C47) -> (FinSequence of R22);

coherence
proof
L1290: (( mid (C45 , C46 , C47) ) = ( ( C45 /^ ( C46 -' 1 ) ) | ( ( C47 -' C46 ) + 1 ) ) or ( mid (C45 , C46 , C47) ) = ( Rev ( ( C45 /^ ( C47 -' 1 ) ) | ( ( C46 -' C47 ) + 1 ) ) )) by L1288;
thus L1291: thesis by L1290;
end;
end;
theorem
L1293: (for R22 being non  empty set holds (for B27 being (FinSequence of R22) holds (for B28 , B29 being (Element of ( NAT )) holds ((1 <= B28 & B28 <= ( len B27 ) & 1 <= B29 & B29 <= ( len B27 )) implies ( Rev ( mid (B27 , B28 , B29) ) ) = ( mid (( Rev B27 ) , ( ( ( len B27 ) -' B29 ) + 1 ) , ( ( ( len B27 ) -' B28 ) + 1 )) )))))
proof
let R22 being non  empty set;
let C48 being (FinSequence of R22);
let C49 , C50 being (Element of ( NAT ));
assume that
L1294: 1 <= C49
and
L1295: C49 <= ( len C48 )
and
L1296: 1 <= C50
and
L1297: C50 <= ( len C48 );
per cases ;
suppose L1298: C49 <= C50;

L1299: ( ( len C48 ) -' ( C49 -' 1 ) ) = ( ( len C48 ) - ( C49 -' 1 ) ) by L1295 , NAT_D:50 , XREAL_1:233
.= ( ( len C48 ) - ( C49 - 1 ) ) by L1294 , XREAL_1:233
.= ( ( ( len C48 ) - C49 ) + 1 )
.= ( ( ( len C48 ) -' C49 ) + 1 ) by L1295 , XREAL_1:233;
L1300: ( ( len C48 ) -' C49 ) = ( ( len C48 ) - C49 ) by L1295 , XREAL_1:233;
L1301: ( ( len C48 ) -' C50 ) = ( ( len C48 ) - C50 ) by L1297 , XREAL_1:233;
L1302: ( C50 - C49 ) <= ( ( len C48 ) - C49 ) by L1297 , XREAL_1:9;
L1303: ( C50 -' C49 ) <= ( ( len C48 ) - C49 ) by L1302 , L1298 , XREAL_1:233;
L1304: ( C50 -' C49 ) <= ( ( len C48 ) -' C49 ) by L1303 , L1295 , XREAL_1:233;
L1305: ( ( C50 -' C49 ) + 1 ) <= ( ( ( len C48 ) -' C49 ) + 1 ) by L1304 , XREAL_1:6;
L1306: ( ( ( len C48 ) -' ( C49 -' 1 ) ) -' ( ( C50 -' C49 ) + 1 ) ) = ( ( ( ( len C48 ) -' C49 ) + 1 ) - ( ( C50 -' C49 ) + 1 ) ) by L1305 , L1299 , XREAL_1:233
.= ( ( ( ( len C48 ) - C49 ) + 1 ) - ( ( C50 - C49 ) + 1 ) ) by L1298 , L1300 , XREAL_1:233
.= ( ( ( ( len C48 ) + 1 ) - 1 ) - C50 )
.= ( ( len C48 ) -' C50 ) by L1297 , XREAL_1:233;
L1307: ( ( ( len ( C48 /^ ( C49 -' 1 ) ) ) -' ( ( C50 -' C49 ) + 1 ) ) + ( ( C50 -' C49 ) + 1 ) ) = ( ( ( len C48 ) -' C50 ) + ( ( C50 -' C49 ) + 1 ) ) by L1306 , RFINSEQ:29
.= ( ( ( len C48 ) - C50 ) + ( ( C50 - C49 ) + 1 ) ) by L1298 , L1301 , XREAL_1:233
.= ( ( len C48 ) - ( C49 - 1 ) )
.= ( ( len C48 ) - ( C49 -' 1 ) ) by L1294 , XREAL_1:233
.= ( ( len C48 ) -' ( C49 -' 1 ) ) by L1295 , NAT_D:50 , XREAL_1:233
.= ( len ( C48 /^ ( C49 -' 1 ) ) ) by RFINSEQ:29;
L1308: ( ( len C48 ) -' C49 ) <= ( ( ( len C48 ) -' C49 ) + 1 ) by NAT_1:11;
L1309: ( ( len C48 ) -' C49 ) >= ( ( len C48 ) -' C50 ) by L1298 , NAT_D:41;
L1310: ( ( ( len C48 ) -' ( C49 -' 1 ) ) -' ( ( len C48 ) -' C50 ) ) = ( ( ( ( len C48 ) -' C49 ) + 1 ) - ( ( len C48 ) -' C50 ) ) by L1309 , L1299 , L1308 , XREAL_1:233 , XXREAL_0:2
.= ( ( ( ( len C48 ) - C49 ) + 1 ) - ( ( len C48 ) - C50 ) ) by L1297 , L1300 , XREAL_1:233
.= ( ( C50 - C49 ) + 1 )
.= ( ( C50 -' C49 ) + 1 ) by L1298 , XREAL_1:233;
L1311: ( ( ( len C48 ) -' ( C49 -' 1 ) ) + ( C49 -' 1 ) ) = ( ( ( len C48 ) - ( C49 -' 1 ) ) + ( C49 -' 1 ) ) by L1295 , NAT_D:50 , XREAL_1:233
.= ( len C48 );
L1312: ( ( len C48 ) -' C49 ) >= ( ( len C48 ) -' C50 ) by L1298 , NAT_D:41;
L1313: ( ( ( len C48 ) -' C49 ) + 1 ) >= ( ( ( len C48 ) -' C50 ) + 1 ) by L1312 , XREAL_1:6;
L1314: ( ( ( ( ( len C48 ) -' C49 ) + 1 ) -' ( ( ( len C48 ) -' C50 ) + 1 ) ) + 1 ) = ( ( ( ( ( len C48 ) -' C49 ) + 1 ) - ( ( ( len C48 ) -' C50 ) + 1 ) ) + 1 ) by L1313 , XREAL_1:233
.= ( ( ( ( ( len C48 ) - C49 ) + 1 ) - ( ( ( len C48 ) - C50 ) + 1 ) ) + 1 ) by L1297 , L1300 , XREAL_1:233
.= ( ( C50 - C49 ) + 1 )
.= ( ( C50 -' C49 ) + 1 ) by L1298 , XREAL_1:233;
L1315: ( ( len C48 ) -' C49 ) >= ( ( len C48 ) -' C50 ) by L1298 , NAT_D:41;
L1316: ( ( ( len C48 ) -' C49 ) + 1 ) >= ( ( ( len C48 ) -' C50 ) + 1 ) by L1315 , XREAL_1:6;
L1317: ( mid (( Rev C48 ) , ( ( ( len C48 ) -' C50 ) + 1 ) , ( ( ( len C48 ) -' C49 ) + 1 )) ) = ( ( ( Rev C48 ) /^ ( ( ( ( len C48 ) -' C50 ) + 1 ) -' 1 ) ) | ( ( C50 -' C49 ) + 1 ) ) by L1316 , L1314 , L1288
.= ( ( ( Rev C48 ) /^ ( ( len C48 ) -' C50 ) ) | ( ( ( len C48 ) -' ( C49 -' 1 ) ) -' ( ( len C48 ) -' C50 ) ) ) by L1310 , NAT_D:34
.= ( ( ( Rev C48 ) | ( ( len C48 ) -' ( C49 -' 1 ) ) ) /^ ( ( len C48 ) -' C50 ) ) by FINSEQ_5:80
.= ( ( ( Rev C48 ) | ( ( len C48 ) -' ( C49 -' 1 ) ) ) /^ ( ( len ( C48 /^ ( C49 -' 1 ) ) ) -' ( ( C50 -' C49 ) + 1 ) ) ) by L1306 , RFINSEQ:29
.= ( ( Rev ( C48 /^ ( C49 -' 1 ) ) ) /^ ( ( len ( C48 /^ ( C49 -' 1 ) ) ) -' ( ( C50 -' C49 ) + 1 ) ) ) by L1311 , L902
.= ( Rev ( ( C48 /^ ( C49 -' 1 ) ) | ( ( C50 -' C49 ) + 1 ) ) ) by L1307 , L920
.= ( Rev ( mid (C48 , C49 , C50) ) ) by L1298 , L1288;
thus L1318: thesis by L1317;
end;
suppose L1319: C49 > C50;

L1320: ( ( len C48 ) -' ( C50 -' 1 ) ) = ( ( len C48 ) - ( C50 -' 1 ) ) by L1297 , NAT_D:50 , XREAL_1:233
.= ( ( len C48 ) - ( C50 - 1 ) ) by L1296 , XREAL_1:233
.= ( ( ( len C48 ) - C50 ) + 1 )
.= ( ( ( len C48 ) -' C50 ) + 1 ) by L1297 , XREAL_1:233;
L1321: ( ( len C48 ) -' C50 ) = ( ( len C48 ) - C50 ) by L1297 , XREAL_1:233;
L1322: ( ( len C48 ) -' C50 ) >= ( ( len C48 ) -' C49 ) by L1319 , NAT_D:41;
L1323: ( ( ( len C48 ) -' C50 ) + 1 ) >= ( ( ( len C48 ) -' C49 ) + 1 ) by L1322 , XREAL_1:6;
L1324: ( ( ( ( ( len C48 ) -' C50 ) + 1 ) -' ( ( ( len C48 ) -' C49 ) + 1 ) ) + 1 ) = ( ( ( ( ( len C48 ) -' C50 ) + 1 ) - ( ( ( len C48 ) -' C49 ) + 1 ) ) + 1 ) by L1323 , XREAL_1:233
.= ( ( ( ( ( len C48 ) - C50 ) + 1 ) - ( ( ( len C48 ) - C49 ) + 1 ) ) + 1 ) by L1295 , L1321 , XREAL_1:233
.= ( ( C49 - C50 ) + 1 )
.= ( ( C49 -' C50 ) + 1 ) by L1319 , XREAL_1:233;
L1325: ( ( len C48 ) -' C49 ) = ( ( len C48 ) - C49 ) by L1295 , XREAL_1:233;
L1326: ( ( len C48 ) -' C50 ) <= ( ( ( len C48 ) -' C50 ) + 1 ) by NAT_1:11;
L1327: ( ( len C48 ) -' C50 ) >= ( ( len C48 ) -' C49 ) by L1319 , NAT_D:41;
L1328: ( ( ( len C48 ) -' ( C50 -' 1 ) ) -' ( ( len C48 ) -' C49 ) ) = ( ( ( ( len C48 ) -' C50 ) + 1 ) - ( ( len C48 ) -' C49 ) ) by L1327 , L1320 , L1326 , XREAL_1:233 , XXREAL_0:2
.= ( ( ( ( len C48 ) - C50 ) + 1 ) - ( ( len C48 ) - C49 ) ) by L1295 , L1321 , XREAL_1:233
.= ( ( C49 - C50 ) + 1 )
.= ( ( C49 -' C50 ) + 1 ) by L1319 , XREAL_1:233;
L1329: ( ( ( len C48 ) -' ( C50 -' 1 ) ) + ( C50 -' 1 ) ) = ( ( ( len C48 ) - ( C50 -' 1 ) ) + ( C50 -' 1 ) ) by L1297 , NAT_D:50 , XREAL_1:233
.= ( len C48 );
L1330: ( C49 - C50 ) <= ( ( len C48 ) - C50 ) by L1295 , XREAL_1:9;
L1331: ( C49 -' C50 ) <= ( ( len C48 ) - C50 ) by L1330 , L1319 , XREAL_1:233;
L1332: ( C49 -' C50 ) <= ( ( len C48 ) -' C50 ) by L1331 , L1297 , XREAL_1:233;
L1333: ( ( C49 -' C50 ) + 1 ) <= ( ( ( len C48 ) -' C50 ) + 1 ) by L1332 , XREAL_1:6;
L1334: ( ( ( len C48 ) -' ( C50 -' 1 ) ) -' ( ( C49 -' C50 ) + 1 ) ) = ( ( ( ( len C48 ) -' C50 ) + 1 ) - ( ( C49 -' C50 ) + 1 ) ) by L1333 , L1320 , XREAL_1:233
.= ( ( ( ( len C48 ) - C50 ) + 1 ) - ( ( C49 - C50 ) + 1 ) ) by L1319 , L1321 , XREAL_1:233
.= ( ( ( ( len C48 ) + 1 ) - 1 ) - C49 )
.= ( ( len C48 ) -' C49 ) by L1295 , XREAL_1:233;
L1335: ( ( ( len ( C48 /^ ( C50 -' 1 ) ) ) -' ( ( C49 -' C50 ) + 1 ) ) + ( ( C49 -' C50 ) + 1 ) ) = ( ( ( len C48 ) -' C49 ) + ( ( C49 -' C50 ) + 1 ) ) by L1334 , RFINSEQ:29
.= ( ( ( len C48 ) - C49 ) + ( ( C49 - C50 ) + 1 ) ) by L1319 , L1325 , XREAL_1:233
.= ( ( len C48 ) - ( C50 - 1 ) )
.= ( ( len C48 ) - ( C50 -' 1 ) ) by L1296 , XREAL_1:233
.= ( ( len C48 ) -' ( C50 -' 1 ) ) by L1297 , NAT_D:50 , XREAL_1:233
.= ( len ( C48 /^ ( C50 -' 1 ) ) ) by RFINSEQ:29;
L1336: ( ( len C48 ) - C50 ) > ( ( len C48 ) - C49 ) by L1319 , XREAL_1:10;
L1337: ( ( ( len C48 ) -' C50 ) + 1 ) > ( ( ( len C48 ) -' C49 ) + 1 ) by L1336 , L1321 , L1325 , XREAL_1:6;
L1338: ( mid (( Rev C48 ) , ( ( ( len C48 ) -' C50 ) + 1 ) , ( ( ( len C48 ) -' C49 ) + 1 )) ) = ( Rev ( ( ( Rev C48 ) /^ ( ( ( ( len C48 ) -' C49 ) + 1 ) -' 1 ) ) | ( ( C49 -' C50 ) + 1 ) ) ) by L1337 , L1324 , L1288
.= ( Rev ( ( ( Rev C48 ) /^ ( ( len C48 ) -' C49 ) ) | ( ( ( len C48 ) -' ( C50 -' 1 ) ) -' ( ( len C48 ) -' C49 ) ) ) ) by L1328 , NAT_D:34
.= ( Rev ( ( ( Rev C48 ) | ( ( len C48 ) -' ( C50 -' 1 ) ) ) /^ ( ( len C48 ) -' C49 ) ) ) by FINSEQ_5:80
.= ( Rev ( ( ( Rev C48 ) | ( ( len C48 ) -' ( C50 -' 1 ) ) ) /^ ( ( len ( C48 /^ ( C50 -' 1 ) ) ) -' ( ( C49 -' C50 ) + 1 ) ) ) ) by L1334 , RFINSEQ:29
.= ( Rev ( ( Rev ( C48 /^ ( C50 -' 1 ) ) ) /^ ( ( len ( C48 /^ ( C50 -' 1 ) ) ) -' ( ( C49 -' C50 ) + 1 ) ) ) ) by L1329 , L902
.= ( Rev ( Rev ( ( C48 /^ ( C50 -' 1 ) ) | ( ( C49 -' C50 ) + 1 ) ) ) ) by L1335 , L920
.= ( Rev ( mid (C48 , C49 , C50) ) ) by L1319 , L1288;
thus L1339: thesis by L1338;
end;
end;
theorem
L1341: (for R22 being non  empty set holds (for B30 , B31 being (Element of ( NAT )) holds (for B32 being (FinSequence of R22) holds ((1 <= B31 & ( B31 + B30 ) <= ( len B32 )) implies ( ( B32 /^ B30 ) . B31 ) = ( B32 . ( B31 + B30 ) )))))
proof
let R22 being non  empty set;
let C51 , C52 being (Element of ( NAT ));
let C53 being (FinSequence of R22);
assume that
L1342: 1 <= C52
and
L1343: ( C52 + C51 ) <= ( len C53 );
L1344: ( ( C52 + C51 ) - C51 ) <= ( ( len C53 ) - C51 ) by L1343 , XREAL_1:9;
L1345: C51 <= ( C51 + C52 ) by NAT_1:11;
L1346: C51 <= ( len C53 ) by L1345 , L1343 , XXREAL_0:2;
L1347: ( len ( C53 /^ C51 ) ) = ( ( len C53 ) - C51 ) by L1346 , RFINSEQ:def 1;
L1348: C52 in ( dom ( C53 /^ C51 ) ) by L1347 , L1342 , L1344 , FINSEQ_3:25;
thus L1349: thesis by L1348 , L1346 , RFINSEQ:def 1;
end;
theorem
L1350: (for R22 being non  empty set holds (for B33 being (Element of ( NAT )) holds (for B34 being (FinSequence of R22) holds ((1 <= B33 & B33 <= ( len B34 )) implies ( ( Rev B34 ) . B33 ) = ( B34 . ( ( ( len B34 ) - B33 ) + 1 ) )))))
proof
let R22 being non  empty set;
let C54 being (Element of ( NAT ));
let C55 being (FinSequence of R22);
assume that
L1351: 1 <= C54
and
L1352: C54 <= ( len C55 );
L1353: C54 in ( dom C55 ) by L1351 , L1352 , FINSEQ_3:25;
thus L1354: thesis by L1353 , FINSEQ_5:58;
end;
theorem
L1355: (for R22 being non  empty set holds (for B35 being (FinSequence of R22) holds (for B36 being Nat holds (1 <= B36 implies ( mid (B35 , 1 , B36) ) = ( B35 | B36 )))))
proof
let R22 being non  empty set;
let C56 being (FinSequence of R22);
let C57 being Nat;
L1356: ( 1 -' 1 ) = ( 0 ) by XREAL_1:232;
L1357: ( C56 /^ ( 1 -' 1 ) ) = C56 by L1356 , FINSEQ_5:28;
assume L1358: 1 <= C57;
L1359: ( mid (C56 , 1 , C57) ) = ( ( C56 /^ ( 1 -' 1 ) ) | ( ( C57 -' 1 ) + 1 ) ) by L1358 , L1288;
thus L1360: thesis by L1359 , L1358 , L1357 , XREAL_1:235;
end;
theorem
L1361: (for R22 being non  empty set holds (for B37 being (FinSequence of R22) holds (for B38 being (Element of ( NAT )) holds (B38 <= ( len B37 ) implies ( mid (B37 , B38 , ( len B37 )) ) = ( B37 /^ ( B38 -' 1 ) )))))
proof
let R22 being non  empty set;
let C58 being (FinSequence of R22);
let C59 being (Element of ( NAT ));
assume L1362: C59 <= ( len C58 );
L1363: ( mid (C58 , C59 , ( len C58 )) ) = ( ( C58 /^ ( C59 -' 1 ) ) | ( ( ( len C58 ) -' C59 ) + 1 ) ) by L1362 , L1288;
L1364: ( C59 -' 1 ) <= ( len C58 ) by L1362 , NAT_D:44;
L1365: ( len ( C58 /^ ( C59 -' 1 ) ) ) = ( ( len C58 ) - ( C59 -' 1 ) ) by L1364 , RFINSEQ:def 1;
L1366: ( ( ( len C58 ) -' C59 ) + 1 ) = ( ( ( len C58 ) - C59 ) + 1 ) by L1362 , XREAL_1:233
.= ( ( len C58 ) - ( C59 - 1 ) );
L1367:
now
per cases ;
case L1368: C59 = ( 0 );
L1369: ( ( 0 ) - 1 ) < ( 0 );
L1370: ( C59 -' 1 ) = ( 0 ) by L1369 , L1368 , XREAL_0:def 2;
L1371: ( C58 /^ ( C59 -' 1 ) ) = C58 by L1370 , FINSEQ_5:28;
L1372: ( ( ( len C58 ) -' C59 ) + 1 ) = ( ( len C58 ) + 1 ) by L1368 , NAT_D:40;
L1373: ( len C58 ) <= ( ( ( len C58 ) -' C59 ) + 1 ) by L1372 , NAT_1:11;
L1374: ( Seg ( len C58 ) ) c= ( Seg ( ( ( len C58 ) -' C59 ) + 1 ) ) by L1373 , FINSEQ_1:5;
L1375: ( dom ( C58 /^ ( C59 -' 1 ) ) ) c= ( Seg ( ( ( len C58 ) -' C59 ) + 1 ) ) by L1374 , L1371 , FINSEQ_1:def 3;
L1376: ( ( C58 /^ ( C59 -' 1 ) ) | ( Seg ( ( ( len C58 ) -' C59 ) + 1 ) ) ) = ( C58 /^ ( C59 -' 1 ) ) by L1375 , RELAT_1:68;
thus L1377: thesis by L1376 , L1363 , FINSEQ_1:def 15;
end;
case L1378: C59 <> ( 0 );
L1379: ( ( 0 ) + 1 ) <= C59 by L1378 , NAT_1:13;
L1380: ( len ( C58 /^ ( C59 -' 1 ) ) ) = ( ( ( len C58 ) -' C59 ) + 1 ) by L1379 , L1365 , L1366 , XREAL_1:233;
thus L1381: ( mid (C58 , C59 , ( len C58 )) ) = ( ( C58 /^ ( C59 -' 1 ) ) | ( Seg ( len ( C58 /^ ( C59 -' 1 ) ) ) ) ) by L1380 , L1363 , FINSEQ_1:def 15
.= ( ( C58 /^ ( C59 -' 1 ) ) | ( dom ( C58 /^ ( C59 -' 1 ) ) ) ) by FINSEQ_1:def 3
.= ( C58 /^ ( C59 -' 1 ) );
end;
end;
thus L1383: thesis by L1367;
end;
theorem
L1384: (for R22 being non  empty set holds (for B39 being (FinSequence of R22) holds (for B40 , B41 being (Element of ( NAT )) holds ((1 <= B40 & B40 <= ( len B39 ) & 1 <= B41 & B41 <= ( len B39 )) implies (( ( mid (B39 , B40 , B41) ) . 1 ) = ( B39 . B40 ) & (B40 <= B41 implies (( len ( mid (B39 , B40 , B41) ) ) = ( ( B41 -' B40 ) + 1 ) & (for B42 being (Element of ( NAT )) holds ((1 <= B42 & B42 <= ( len ( mid (B39 , B40 , B41) ) )) implies ( ( mid (B39 , B40 , B41) ) . B42 ) = ( B39 . ( ( B42 + B40 ) -' 1 ) ))))) & (B40 > B41 implies (( len ( mid (B39 , B40 , B41) ) ) = ( ( B40 -' B41 ) + 1 ) & (for B43 being (Element of ( NAT )) holds ((1 <= B43 & B43 <= ( len ( mid (B39 , B40 , B41) ) )) implies ( ( mid (B39 , B40 , B41) ) . B43 ) = ( B39 . ( ( B40 -' B43 ) + 1 ) ))))))))))
proof
let R22 being non  empty set;
let C60 being (FinSequence of R22);
let C61 , C62 being (Element of ( NAT ));
assume that
L1385: 1 <= C61
and
L1386: C61 <= ( len C60 )
and
L1387: 1 <= C62
and
L1388: C62 <= ( len C60 );
L1389: ( C62 -' 1 ) <= ( len C60 ) by L1388 , NAT_D:44;
L1390: ( len ( C60 /^ ( C62 -' 1 ) ) ) = ( ( len C60 ) - ( C62 -' 1 ) ) by L1389 , RFINSEQ:def 1;
L1391: ( C62 - 1 ) >= ( 0 ) by L1387 , XREAL_1:48;
L1392: ( C62 -' 1 ) = ( C62 - 1 ) by L1391 , XREAL_0:def 2;
L1393:
now
let C63 , C64 being (Element of ( NAT ));
L1394:
now
assume that
L1395: C63 <= C64
and
L1396: 1 <= C63
and
L1397: C63 <= ( len C60 );
L1398: ( ( mid (C60 , C63 , C64) ) . 1 ) = ( ( ( C60 /^ ( C63 -' 1 ) ) | ( ( C64 -' C63 ) + 1 ) ) . 1 ) by L1395 , L1288
.= ( ( ( C60 /^ ( C63 -' 1 ) ) | ( Seg ( ( C64 -' C63 ) + 1 ) ) ) . 1 ) by FINSEQ_1:def 15;
L1399: ( C63 - 1 ) >= ( 0 ) by L1396 , XREAL_1:48;
L1400: ( 1 + ( C63 -' 1 ) ) = ( 1 + ( C63 - 1 ) ) by L1399 , XREAL_0:def 2
.= C63;
L1401: ( 1 + ( C63 -' 1 ) ) <= ( ( ( len C60 ) - ( C63 -' 1 ) ) + ( C63 -' 1 ) ) by L1400 , L1397;
L1402: 1 <= ( ( len C60 ) - ( C63 -' 1 ) ) by L1401 , XREAL_1:6;
L1403: ( C63 -' 1 ) <= ( len C60 ) by L1397 , NAT_D:44;
L1404: ( len ( C60 /^ ( C63 -' 1 ) ) ) = ( ( len C60 ) - ( C63 -' 1 ) ) by L1403 , RFINSEQ:def 1;
L1405: 1 in ( Seg ( len ( C60 /^ ( C63 -' 1 ) ) ) ) by L1404 , L1402 , FINSEQ_1:1;
L1406: 1 in ( dom ( C60 /^ ( C63 -' 1 ) ) ) by L1405 , FINSEQ_1:def 3;
L1407: ( ( 0 ) + 1 ) <= ( ( C64 -' C63 ) + 1 ) by XREAL_1:6;
L1408: 1 in ( Seg ( ( C64 -' C63 ) + 1 ) ) by L1407 , FINSEQ_1:1;
L1409: 1 in ( ( dom ( C60 /^ ( C63 -' 1 ) ) ) /\ ( Seg ( ( C64 -' C63 ) + 1 ) ) ) by L1408 , L1406 , XBOOLE_0:def 4;
L1410: 1 in ( dom ( ( C60 /^ ( C63 -' 1 ) ) | ( Seg ( ( C64 -' C63 ) + 1 ) ) ) ) by L1409 , RELAT_1:61;
L1411: ( ( mid (C60 , C63 , C64) ) . 1 ) = ( ( C60 /^ ( C63 -' 1 ) ) . 1 ) by L1410 , L1398 , FUNCT_1:47;
thus L1412: ( ( mid (C60 , C63 , C64) ) . 1 ) = ( C60 . C63 ) by L1411 , L1400 , L1403 , L1406 , RFINSEQ:def 1;
end;
thus L1413: ((C63 <= C64 & 1 <= C63 & C63 <= ( len C60 )) implies ( ( mid (C60 , C63 , C64) ) . 1 ) = ( C60 . C63 )) by L1394;
end;
thus L1414: ( ( mid (C60 , C61 , C62) ) . 1 ) = ( C60 . C61 )
proof
per cases ;
suppose L1415: C61 <= C62;

thus L1416: thesis by L1415 , L1385 , L1386 , L1393;
end;
suppose L1417: C61 > C62;

L1418: ( C62 - 1 ) >= ( 0 ) by L1387 , XREAL_1:48;
L1419: ( C61 - C62 ) >= ( 0 ) by L1417 , XREAL_1:48;
L1420: ( C61 -' C62 ) = ( C61 - C62 ) by L1419 , XREAL_0:def 2;
L1421: ( ( C62 -' 1 ) + ( ( C61 -' C62 ) + 1 ) ) = ( ( C62 - 1 ) + ( C61 - ( C62 - 1 ) ) ) by L1420 , L1418 , XREAL_0:def 2
.= C61;
L1422: ( C62 -' 1 ) <= ( len C60 ) by L1388 , NAT_D:44;
L1423: ( len ( C60 /^ ( C62 -' 1 ) ) ) = ( ( len C60 ) - ( C62 -' 1 ) ) by L1422 , RFINSEQ:def 1;
L1424: 1 <= ( ( C61 -' C62 ) + 1 ) by NAT_1:11;
L1425: ( ( C61 -' C62 ) + 1 ) = ( ( C61 - C62 ) + 1 ) by L1419 , XREAL_0:def 2
.= ( C61 - ( C62 - 1 ) )
.= ( C61 - ( C62 -' 1 ) ) by L1418 , XREAL_0:def 2;
L1426: ( ( C61 -' C62 ) + 1 ) <= ( len ( C60 /^ ( C62 -' 1 ) ) ) by L1425 , L1386 , L1423 , XREAL_1:9;
L1427: ( len ( ( C60 /^ ( C62 -' 1 ) ) | ( ( C61 -' C62 ) + 1 ) ) ) = ( ( C61 -' C62 ) + 1 ) by L1426 , FINSEQ_1:59;
L1428: ( ( C61 -' C62 ) + 1 ) in ( dom ( ( C60 /^ ( C62 -' 1 ) ) | ( ( C61 -' C62 ) + 1 ) ) ) by L1427 , L1424 , FINSEQ_3:25;
L1429: ( ( C61 -' C62 ) + 1 ) in ( dom ( C60 /^ ( C62 -' 1 ) ) ) by L1424 , L1426 , FINSEQ_3:25;
L1430: ( ( ( C60 /^ ( C62 -' 1 ) ) | ( ( C61 -' C62 ) + 1 ) ) . ( len ( ( C60 /^ ( C62 -' 1 ) ) | ( ( C61 -' C62 ) + 1 ) ) ) ) = ( ( ( C60 /^ ( C62 -' 1 ) ) | ( ( C61 -' C62 ) + 1 ) ) /. ( ( C61 -' C62 ) + 1 ) ) by L1424 , L1427 , FINSEQ_4:15
.= ( ( C60 /^ ( C62 -' 1 ) ) /. ( ( C61 -' C62 ) + 1 ) ) by L1428 , FINSEQ_4:70
.= ( C60 /. ( ( C62 -' 1 ) + ( ( C61 -' C62 ) + 1 ) ) ) by L1429 , FINSEQ_5:27
.= ( C60 . C61 ) by L1385 , L1386 , L1421 , FINSEQ_4:15;
L1431: 1 in ( dom ( ( C60 /^ ( C62 -' 1 ) ) | ( ( C61 -' C62 ) + 1 ) ) ) by L1424 , L1427 , FINSEQ_3:25;
L1432: ( ( Rev ( ( C60 /^ ( C62 -' 1 ) ) | ( ( C61 -' C62 ) + 1 ) ) ) . 1 ) = ( ( ( C60 /^ ( C62 -' 1 ) ) | ( ( C61 -' C62 ) + 1 ) ) . ( ( ( len ( ( C60 /^ ( C62 -' 1 ) ) | ( ( C61 -' C62 ) + 1 ) ) ) - 1 ) + 1 ) ) by L1431 , FINSEQ_5:58
.= ( C60 . C61 ) by L1430;
thus L1433: thesis by L1432 , L1417 , L1288;
end;
end;

thus L1435: (C61 <= C62 implies (( len ( mid (C60 , C61 , C62) ) ) = ( ( C62 -' C61 ) + 1 ) & (for B44 being (Element of ( NAT )) holds ((1 <= B44 & B44 <= ( len ( mid (C60 , C61 , C62) ) )) implies ( ( mid (C60 , C61 , C62) ) . B44 ) = ( C60 . ( ( B44 + C61 ) -' 1 ) )))))
proof
L1436: ( C61 - 1 ) >= ( 0 ) by L1385 , XREAL_1:48;
L1437: ( C61 -' 1 ) = ( C61 - 1 ) by L1436 , XREAL_0:def 2;
L1438: ( C61 -' 1 ) <= ( len C60 ) by L1386 , NAT_D:44;
L1439: ( len ( C60 /^ ( C61 -' 1 ) ) ) = ( ( len C60 ) - ( C61 -' 1 ) ) by L1438 , RFINSEQ:def 1;
assume L1440: C61 <= C62;
L1441: ( mid (C60 , C61 , C62) ) = ( ( C60 /^ ( C61 -' 1 ) ) | ( ( C62 -' C61 ) + 1 ) ) by L1440 , L1288;
L1442: ( C62 - C61 ) >= ( 0 ) by L1440 , XREAL_1:48;
L1443: ( C62 -' C61 ) = ( C62 - C61 ) by L1442 , XREAL_0:def 2;
L1444: ( ( C62 -' C61 ) + 1 ) = ( ( C62 - C61 ) + 1 ) by L1442 , XREAL_0:def 2
.= ( C62 - ( C61 - 1 ) )
.= ( C62 - ( C61 -' 1 ) ) by L1436 , XREAL_0:def 2;
L1445: ( ( C62 -' C61 ) + 1 ) <= ( len ( C60 /^ ( C61 -' 1 ) ) ) by L1444 , L1388 , L1439 , XREAL_1:9;
L1446: ( len ( ( C60 /^ ( C61 -' 1 ) ) | ( ( C62 -' C61 ) + 1 ) ) ) = ( ( C62 -' C61 ) + 1 ) by L1445 , FINSEQ_1:59;
L1447: (for B45 being (Element of ( NAT )) holds ((1 <= B45 & B45 <= ( len ( mid (C60 , C61 , C62) ) )) implies ( ( mid (C60 , C61 , C62) ) . B45 ) = ( C60 . ( ( B45 + C61 ) -' 1 ) )))
proof
let C65 being (Element of ( NAT ));
assume that
L1448: 1 <= C65
and
L1449: C65 <= ( len ( mid (C60 , C61 , C62) ) );
L1450: C65 <= ( ( C62 -' C61 ) + 1 ) by L1441 , L1445 , L1449 , FINSEQ_1:59;
L1451: ( C65 + ( C61 - 1 ) ) <= ( ( C62 - ( C61 - 1 ) ) + ( C61 - 1 ) ) by L1441 , L1443 , L1446 , L1449 , XREAL_1:6;
L1452: ( C65 + ( C61 -' 1 ) ) <= ( len C60 ) by L1451 , L1388 , L1437 , XXREAL_0:2;
L1453: C61 <= ( C61 + C65 ) by NAT_1:11;
L1454: ( C65 + ( C61 -' 1 ) ) = ( C65 + ( C61 - 1 ) ) by L1436 , XREAL_0:def 2
.= ( ( C65 + C61 ) - 1 )
.= ( ( C65 + C61 ) -' 1 ) by L1385 , L1453 , XREAL_1:233 , XXREAL_0:2;
L1455: ( ( mid (C60 , C61 , C62) ) . C65 ) = ( ( ( C60 /^ ( C61 -' 1 ) ) | ( ( C62 -' C61 ) + 1 ) ) . C65 ) by L1440 , L1288
.= ( ( C60 /^ ( C61 -' 1 ) ) . C65 ) by L1450 , FINSEQ_3:112
.= ( C60 . ( C65 + ( C61 -' 1 ) ) ) by L1448 , L1452 , L1341;
thus L1456: thesis by L1455 , L1454;
end;
thus L1457: thesis by L1447 , L1441 , L1445 , FINSEQ_1:59;
end;

assume L1458: C61 > C62;
L1459: ( C61 - C62 ) >= ( 0 ) by L1458 , XREAL_1:48;
L1460: ( C61 -' C62 ) = ( C61 - C62 ) by L1459 , XREAL_0:def 2;
L1461: ( mid (C60 , C61 , C62) ) = ( Rev ( ( C60 /^ ( C62 -' 1 ) ) | ( ( C61 -' C62 ) + 1 ) ) ) by L1458 , L1288;
L1462: ( len ( mid (C60 , C61 , C62) ) ) = ( len ( ( C60 /^ ( C62 -' 1 ) ) | ( ( C61 -' C62 ) + 1 ) ) ) by L1461 , FINSEQ_5:def 3;
L1463: ( ( C61 -' C62 ) + 1 ) = ( ( C61 - C62 ) + 1 ) by L1459 , XREAL_0:def 2
.= ( C61 - ( C62 - 1 ) )
.= ( C61 - ( C62 -' 1 ) ) by L1391 , XREAL_0:def 2;
L1464: ( ( C61 -' C62 ) + 1 ) <= ( len ( C60 /^ ( C62 -' 1 ) ) ) by L1463 , L1386 , L1390 , XREAL_1:9;
thus L1465: ( len ( mid (C60 , C61 , C62) ) ) = ( ( C61 -' C62 ) + 1 ) by L1464 , L1462 , FINSEQ_1:59;
L1466: ( len ( ( C60 /^ ( C62 -' 1 ) ) | ( ( C61 -' C62 ) + 1 ) ) ) = ( ( C61 -' C62 ) + 1 ) by L1464 , FINSEQ_1:59;
thus L1467: (for B46 being (Element of ( NAT )) holds ((1 <= B46 & B46 <= ( len ( mid (C60 , C61 , C62) ) )) implies ( ( mid (C60 , C61 , C62) ) . B46 ) = ( C60 . ( ( C61 -' B46 ) + 1 ) )))
proof
let C66 being (Element of ( NAT ));
assume that
L1468: 1 <= C66
and
L1469: C66 <= ( len ( mid (C60 , C61 , C62) ) );
L1470: ( C66 + ( C62 - 1 ) ) <= ( ( C61 - ( C62 - 1 ) ) + ( C62 - 1 ) ) by L1460 , L1465 , L1469 , XREAL_1:6;
L1471: ( ( C61 -' C62 ) + 1 ) <= ( ( ( C61 -' C62 ) + 1 ) + ( C66 -' 1 ) ) by NAT_1:11;
L1472: ( ( C61 -' C62 ) + 1 ) <= ( ( ( C61 -' C62 ) + 1 ) + ( C66 - 1 ) ) by L1471 , L1468 , XREAL_1:233;
L1473: ( ( ( C61 -' C62 ) + 1 ) - ( C66 - 1 ) ) <= ( ( ( ( C61 -' C62 ) + 1 ) + ( C66 - 1 ) ) - ( C66 - 1 ) ) by L1472 , XREAL_1:9;
L1474: ( ( ( ( C61 -' C62 ) + 1 ) - C66 ) + 1 ) <= ( ( C61 -' C62 ) + 1 ) by L1473;
L1475: C66 <= ( ( C61 -' C62 ) + 1 ) by L1462 , L1464 , L1469 , FINSEQ_1:59;
L1476: ( ( ( ( C61 -' C62 ) + 1 ) -' C66 ) + 1 ) <= ( ( C61 -' C62 ) + 1 ) by L1475 , L1474 , XREAL_1:233;
L1477: ( C66 + C61 ) <= ( C66 + ( len C60 ) ) by L1386 , XREAL_1:6;
L1478: C66 <= ( C66 + ( C62 -' 1 ) ) by NAT_1:11;
L1479: ( ( ( ( ( C61 -' C62 ) + 1 ) -' C66 ) + 1 ) + ( C62 -' 1 ) ) = ( ( ( ( ( C61 -' C62 ) + 1 ) - C66 ) + 1 ) + ( C62 -' 1 ) ) by L1465 , L1469 , XREAL_1:233
.= ( ( ( ( C61 - ( C62 - 1 ) ) - C66 ) + 1 ) + ( C62 - 1 ) ) by L1391 , L1460 , XREAL_0:def 2
.= ( ( C61 - C66 ) + 1 )
.= ( ( C61 -' C66 ) + 1 ) by L1392 , L1470 , L1478 , XREAL_1:233 , XXREAL_0:2;
L1480: ( 1 + C61 ) <= ( C66 + C61 ) by L1468 , XREAL_1:6;
L1481: ( 1 + C61 ) <= ( C66 + ( len C60 ) ) by L1480 , L1477 , XXREAL_0:2;
L1482: ( ( 1 + C61 ) - C66 ) <= ( ( C66 + ( len C60 ) ) - C66 ) by L1481 , XREAL_1:9;
L1483: ( ( C61 - C66 ) + 1 ) <= ( len C60 ) by L1482;
L1484: ( ( ( ( ( C61 -' C62 ) + 1 ) -' C66 ) + 1 ) + ( C62 -' 1 ) ) <= ( len C60 ) by L1483 , L1392 , L1470 , L1478 , L1479 , XREAL_1:233 , XXREAL_0:2;
L1485: ( ( mid (C60 , C61 , C62) ) . C66 ) = ( ( ( C60 /^ ( C62 -' 1 ) ) | ( ( C61 -' C62 ) + 1 ) ) . ( ( ( len ( ( C60 /^ ( C62 -' 1 ) ) | ( ( C61 -' C62 ) + 1 ) ) ) - C66 ) + 1 ) ) by L1461 , L1462 , L1468 , L1469 , L1350
.= ( ( ( C60 /^ ( C62 -' 1 ) ) | ( ( C61 -' C62 ) + 1 ) ) . ( ( ( len ( ( C60 /^ ( C62 -' 1 ) ) | ( ( C61 -' C62 ) + 1 ) ) ) -' C66 ) + 1 ) ) by L1462 , L1469 , XREAL_1:233
.= ( ( C60 /^ ( C62 -' 1 ) ) . ( ( ( ( C61 -' C62 ) + 1 ) -' C66 ) + 1 ) ) by L1466 , L1476 , FINSEQ_3:112
.= ( C60 . ( ( C61 -' C66 ) + 1 ) ) by L1479 , L1484 , L1341 , NAT_1:11;
thus L1486: thesis by L1485;
end;

end;
theorem
L1468: (for R22 being non  empty set holds (for B47 being (FinSequence of R22) holds (for B48 , B49 being (Element of ( NAT )) holds ( rng ( mid (B47 , B48 , B49) ) ) c= ( rng B47 ))))
proof
let R22 being non  empty set;
let C67 being (FinSequence of R22);
let C68 , C69 being (Element of ( NAT ));
per cases ;
suppose L1469: C68 <= C69;

L1470: ( mid (C67 , C68 , C69) ) = ( ( C67 /^ ( C68 -' 1 ) ) | ( ( C69 -' C68 ) + 1 ) ) by L1469 , L1288;
L1471: ( rng ( mid (C67 , C68 , C69) ) ) c= ( rng ( C67 /^ ( C68 -' 1 ) ) ) by L1470 , FINSEQ_5:19;
L1472: ( rng ( C67 /^ ( C68 -' 1 ) ) ) c= ( rng C67 ) by FINSEQ_5:33;
thus L1473: thesis by L1472 , L1471 , XBOOLE_1:1;
end;
suppose L1474: C68 > C69;

L1475: ( mid (C67 , C68 , C69) ) = ( Rev ( ( C67 /^ ( C69 -' 1 ) ) | ( ( C68 -' C69 ) + 1 ) ) ) by L1474 , L1288;
L1476: ( rng ( mid (C67 , C68 , C69) ) ) = ( rng ( ( C67 /^ ( C69 -' 1 ) ) | ( ( C68 -' C69 ) + 1 ) ) ) by L1475 , FINSEQ_5:57;
L1477: ( rng ( mid (C67 , C68 , C69) ) ) c= ( rng ( C67 /^ ( C69 -' 1 ) ) ) by L1476 , FINSEQ_5:19;
L1478: ( rng ( C67 /^ ( C69 -' 1 ) ) ) c= ( rng C67 ) by FINSEQ_5:33;
thus L1479: thesis by L1478 , L1477 , XBOOLE_1:1;
end;
end;
theorem
L1481: (for R22 being non  empty set holds (for B50 being (FinSequence of R22) holds (1 <= ( len B50 ) implies ( mid (B50 , 1 , ( len B50 )) ) = B50)))
proof
let R22 being non  empty set;
let C70 being (FinSequence of R22);
assume L1482: 1 <= ( len C70 );
L1483: ( mid (C70 , 1 , ( len C70 )) ) = ( ( C70 /^ ( 1 -' 1 ) ) | ( ( ( len C70 ) -' 1 ) + 1 ) ) by L1482 , L1288
.= ( ( C70 /^ ( 0 ) ) | ( ( ( len C70 ) -' 1 ) + 1 ) ) by XREAL_1:232
.= ( C70 | ( ( ( len C70 ) -' 1 ) + 1 ) ) by FINSEQ_5:28
.= ( C70 | ( len C70 ) ) by L1482 , XREAL_1:235
.= C70 by FINSEQ_1:58;
thus L1484: thesis by L1483;
end;
theorem
L1485: (for R22 being non  empty set holds (for B51 being (FinSequence of R22) holds (1 <= ( len B51 ) implies ( mid (B51 , ( len B51 ) , 1) ) = ( Rev B51 ))))
proof
let R22 being non  empty set;
let C71 being (FinSequence of R22);
assume L1486: 1 <= ( len C71 );
L1487: ( 1 -' 1 ) = ( 0 ) by XREAL_1:232;
per cases ;
suppose L1488: ( len C71 ) <> 1;

L1489: 1 < ( len C71 ) by L1488 , L1486 , XXREAL_0:1;
L1490: ( mid (C71 , ( len C71 ) , 1) ) = ( Rev ( ( C71 /^ ( 1 -' 1 ) ) | ( ( ( len C71 ) -' 1 ) + 1 ) ) ) by L1489 , L1288
.= ( Rev ( ( C71 /^ ( 0 ) ) | ( len C71 ) ) ) by L1486 , L1487 , XREAL_1:235
.= ( Rev ( C71 | ( len C71 ) ) ) by FINSEQ_5:28
.= ( Rev C71 ) by FINSEQ_1:58;
thus L1491: thesis by L1490;
end;
suppose L1492: ( len C71 ) = 1;

L1493: ( C71 | 1 ) = C71 by L1492 , FINSEQ_1:58;
L1494: ( mid (C71 , ( len C71 ) , 1) ) = ( ( C71 /^ ( 1 -' 1 ) ) | ( ( 1 -' 1 ) + 1 ) ) by L1492 , L1288
.= ( C71 | 1 ) by L1487 , FINSEQ_5:28;
thus L1495: thesis by L1494 , L1486 , L1493 , L1282 , FINSEQ_1:59;
end;
end;
theorem
L1497: (for R22 being non  empty set holds (for B52 being (FinSequence of R22) holds (for B53 , B54 , B55 being (Element of ( NAT )) holds ((1 <= B53 & B53 <= B54 & B54 <= ( len B52 ) & 1 <= B55 & (B55 <= ( ( B54 -' B53 ) + 1 ) or B55 <= ( ( B54 - B53 ) + 1 ) or B55 <= ( ( B54 + 1 ) - B53 ))) implies (( ( mid (B52 , B53 , B54) ) . B55 ) = ( B52 . ( ( B55 + B53 ) -' 1 ) ) & ( ( mid (B52 , B53 , B54) ) . B55 ) = ( B52 . ( ( B55 -' 1 ) + B53 ) ) & ( ( mid (B52 , B53 , B54) ) . B55 ) = ( B52 . ( ( B55 + B53 ) - 1 ) ) & ( ( mid (B52 , B53 , B54) ) . B55 ) = ( B52 . ( ( B55 - 1 ) + B53 ) ))))))
proof
let R22 being non  empty set;
let C72 being (FinSequence of R22);
let C73 , C74 , C75 being (Element of ( NAT ));
assume that
L1498: 1 <= C73
and
L1499: C73 <= C74
and
L1500: C74 <= ( len C72 )
and
L1501: 1 <= C75
and
L1502: (C75 <= ( ( C74 -' C73 ) + 1 ) or C75 <= ( ( C74 - C73 ) + 1 ) or C75 <= ( ( C74 + 1 ) - C73 ));
L1503: C73 <= ( len C72 ) by L1499 , L1500 , XXREAL_0:2;
L1504: ( C75 + C73 ) >= ( 1 + C73 ) by L1501 , XREAL_1:6;
L1505: ( ( C75 + C73 ) - 1 ) >= ( ( 1 + C73 ) - 1 ) by L1504 , XREAL_1:9;
L1506: (C75 <= ( ( C74 - C73 ) + 1 ) implies C75 <= ( ( C74 -' C73 ) + 1 )) by L1499 , XREAL_1:233;
L1507: ( C75 - 1 ) >= ( 1 - 1 ) by L1501 , XREAL_1:9;
L1508: ( ( C75 -' 1 ) + C73 ) = ( ( C75 - 1 ) + C73 ) by L1507 , XREAL_0:def 2
.= ( ( C75 + C73 ) -' 1 ) by L1505 , XREAL_0:def 2;
L1509: 1 <= C74 by L1498 , L1499 , XXREAL_0:2;
L1510: ( len ( mid (C72 , C73 , C74) ) ) = ( ( C74 -' C73 ) + 1 ) by L1509 , L1498 , L1499 , L1500 , L1503 , L1384;
thus L1511: (( ( mid (C72 , C73 , C74) ) . C75 ) = ( C72 . ( ( C75 + C73 ) -' 1 ) ) & ( ( mid (C72 , C73 , C74) ) . C75 ) = ( C72 . ( ( C75 -' 1 ) + C73 ) )) by L1510 , L1498 , L1499 , L1500 , L1501 , L1502 , L1509 , L1503 , L1506 , L1508 , L1384;
thus L1512: ( ( mid (C72 , C73 , C74) ) . C75 ) = ( C72 . ( ( C75 + C73 ) - 1 ) ) by L1511 , L1505 , XREAL_0:def 2;
thus L1513: thesis by L1501 , L1511 , XREAL_1:233;
end;
theorem
L1514: (for R22 being non  empty set holds (for B56 being (FinSequence of R22) holds (for B57 , B58 being Nat holds ((1 <= B58 & B58 <= B57 & B57 <= ( len B56 )) implies ( ( mid (B56 , 1 , B57) ) . B58 ) = ( B56 . B58 )))))
proof
let R22 being non  empty set;
let C76 being (FinSequence of R22);
let C77 , C78 being Nat;
assume that
L1515: 1 <= C78
and
L1516: C78 <= C77
and
L1517: C77 <= ( len C76 );
L1518: C78 <= ( ( C77 - 1 ) + 1 ) by L1516;
L1519: C77 in ( NAT ) by ORDINAL1:def 12;
L1520: C78 in ( NAT ) by ORDINAL1:def 12;
L1521: 1 <= C77 by L1515 , L1516 , XXREAL_0:2;
L1522: ( ( mid (C76 , 1 , C77) ) . C78 ) = ( C76 . ( ( C78 + 1 ) -' 1 ) ) by L1521 , L1515 , L1517 , L1520 , L1519 , L1518 , L1497;
thus L1523: thesis by L1522 , NAT_D:34;
end;
theorem
L1524: (for R22 being non  empty set holds (for B59 being (FinSequence of R22) holds (for B60 , B61 being (Element of ( NAT )) holds ((1 <= B60 & B60 <= B61 & B61 <= ( len B59 )) implies ( len ( mid (B59 , B60 , B61) ) ) <= ( len B59 )))))
proof
let R22 being non  empty set;
let C79 being (FinSequence of R22);
let C80 , C81 being (Element of ( NAT ));
assume that
L1525: 1 <= C80
and
L1526: C80 <= C81
and
L1527: C81 <= ( len C79 );
L1528: C80 <= ( len C79 ) by L1526 , L1527 , XXREAL_0:2;
L1529: ( C81 - C80 ) >= ( 0 ) by L1526 , XREAL_1:48;
L1530: ( ( C81 -' C80 ) + 1 ) = ( ( C81 - C80 ) + 1 ) by L1529 , XREAL_0:def 2
.= ( C81 - ( C80 - 1 ) );
L1531: C81 <= ( C81 + ( C80 -' 1 ) ) by NAT_1:11;
L1532: ( C81 - ( C80 -' 1 ) ) <= ( ( C81 + ( C80 -' 1 ) ) - ( C80 -' 1 ) ) by L1531 , XREAL_1:9;
L1533: ( C80 - 1 ) >= ( 0 ) by L1525 , XREAL_1:48;
L1534: ( C80 - 1 ) = ( C80 -' 1 ) by L1533 , XREAL_0:def 2;
L1535: 1 <= C81 by L1525 , L1526 , XXREAL_0:2;
L1536: ( len ( mid (C79 , C80 , C81) ) ) = ( ( C81 -' C80 ) + 1 ) by L1535 , L1525 , L1526 , L1527 , L1528 , L1384;
thus L1537: thesis by L1536 , L1527 , L1530 , L1534 , L1532 , XXREAL_0:2;
end;
theorem
L1538: (for R22 being non  empty set holds (for B62 being (FinSequence of R22) holds (for B63 being (Element of ( NAT )) holds (for B64 being (Element of R22) holds ( ( <* B64 *> ^ B62 ) | ( B63 + 1 ) ) = ( <* B64 *> ^ ( B62 | B63 ) )))))
proof
let R22 being non  empty set;
let C82 being (FinSequence of R22);
let C83 being (Element of ( NAT ));
let C84 being (Element of R22);
L1539: ( C82 | ( Seg C83 ) ) = ( C82 | C83 ) by FINSEQ_1:def 15;
thus L1540: ( ( <* C84 *> ^ C82 ) | ( C83 + 1 ) ) = ( ( <* C84 *> ^ C82 ) | ( Seg ( C83 + 1 ) ) ) by FINSEQ_1:def 15
.= ( ( <* C84 *> ^ C82 ) | ( Seg ( C83 + ( len <* C84 *> ) ) ) ) by FINSEQ_1:39
.= ( <* C84 *> ^ ( C82 | C83 ) ) by L1539 , L200;
end;
theorem
L1541: (for R22 being non  empty set holds (for B65 being (FinSequence of R22) holds (for B66 , B67 being (Element of ( NAT )) holds ((B66 < B67 & B66 in ( dom B65 )) implies ( mid (B65 , B66 , B67) ) = ( <* ( B65 . B66 ) *> ^ ( mid (B65 , ( B66 + 1 ) , B67) ) )))))
proof
let R22 being non  empty set;
let C85 being (FinSequence of R22);
let C86 , C87 being (Element of ( NAT ));
assume L1542: C86 < C87;
L1543: ( C86 + 1 ) <= C87 by L1542 , NAT_1:13;
L1544: 1 <= ( C87 -' C86 )
proof
per cases  by L1543 , XXREAL_0:1;
suppose L1545: ( C86 + 1 ) = C87;

thus L1546: thesis by L1545 , NAT_D:34;
end;
suppose L1547: ( C86 + 1 ) < C87;

L1548: (( C87 -' C86 ) <= 1 implies C87 <= ( 1 + C86 ))
proof
assume L1549: ( C87 -' C86 ) <= 1;
L1550: ( ( C87 -' C86 ) + C86 ) <= ( 1 + C86 ) by L1549 , XREAL_1:6;
thus L1551: thesis by L1550 , L1542 , XREAL_1:235;
end;
thus L1552: thesis by L1548 , L1547;
end;
end;
L1554: ( C87 -' C86 ) = ( C87 - C86 ) by L1544 , NAT_D:39;
L1555: ( ( C87 -' C86 ) -' 1 ) = ( ( C87 - C86 ) - 1 ) by L1554 , L1544 , XREAL_1:233
.= ( C87 - ( C86 + 1 ) )
.= ( C87 -' ( C86 + 1 ) ) by L1543 , XREAL_1:233;
assume L1556: C86 in ( dom C85 );
L1557: ( C85 . C86 ) = ( C85 /. C86 ) by L1556 , PARTFUN1:def 6;
L1558: 1 <= C86 by L1556 , FINSEQ_3:25;
L1559: ( ( C86 -' 1 ) + 1 ) = C86 by L1558 , XREAL_1:235;
L1560: ( C85 /^ ( C86 -' 1 ) ) = ( <* ( C85 /. C86 ) *> ^ ( C85 /^ C86 ) ) by L1559 , L1556 , FINSEQ_5:31;
thus L1561: ( mid (C85 , C86 , C87) ) = ( ( <* ( C85 /. C86 ) *> ^ ( C85 /^ C86 ) ) | ( ( C87 -' C86 ) + 1 ) ) by L1560 , L1542 , L1288
.= ( <* ( C85 . C86 ) *> ^ ( ( C85 /^ C86 ) | ( C87 -' C86 ) ) ) by L1557 , L1538
.= ( <* ( C85 . C86 ) *> ^ ( ( C85 /^ C86 ) | ( ( C87 -' ( C86 + 1 ) ) + 1 ) ) ) by L1544 , L1555 , XREAL_1:235
.= ( <* ( C85 . C86 ) *> ^ ( ( C85 /^ ( ( C86 + 1 ) -' 1 ) ) | ( ( C87 -' ( C86 + 1 ) ) + 1 ) ) ) by NAT_D:34
.= ( <* ( C85 . C86 ) *> ^ ( mid (C85 , ( C86 + 1 ) , C87) ) ) by L1543 , L1288;
end;
