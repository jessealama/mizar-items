:: The Class of Series-Parallel Graphs, {I}
::  by Krzysztof Retel
::
:: Received November 18, 2002
:: Copyright (c) 2002-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, NAT_1, CARD_1, ZFMISC_1, XBOOLE_0, SUBSET_1, ARYTM_3,
      FUNCT_3, FUNCT_1, RELAT_1, FUNCT_2, FUNCT_4, TARSKI, FUNCOP_1, ORDERS_2,
      STRUCT_0, RELAT_2, XXREAL_0, ARYTM_1, WELLORD1, CAT_1, SEQM_3, FINSET_1,
      ORDINAL1, CARD_2, SQUARE_1, NECKLACE;
 notations TARSKI, XBOOLE_0, ENUMSET1, SUBSET_1, ZFMISC_1, CARD_1, CARD_2,
      WELLORD1, FINSET_1, SQUARE_1, QUIN_1, ORDINAL1, NUMBERS, XCMPLX_0,
      REAL_1, NAT_1, NAT_D, RELAT_1, RELAT_2, FUNCT_3, FUNCOP_1, RELSET_1,
      FUNCT_1, PARTFUN1, FUNCT_2, FUNCT_4, BINOP_1, XXREAL_0, STRUCT_0,
      ORDERS_2, WAYBEL_0, WAYBEL_1, ORDERS_3;
 constructors WELLORD1, REAL_1, SQUARE_1, NAT_1, QUIN_1, CARD_2, REALSET1,
      ORDERS_3, WAYBEL_1, NAT_D, RELSET_1;
 registrations SUBSET_1, FUNCT_1, ORDINAL1, RELSET_1, FUNCT_2, FUNCOP_1,
      FUNCT_4, FINSET_1, XXREAL_0, XREAL_0, SQUARE_1, STRUCT_0, ORDERS_2,
      HILBERT3, CARD_1, RELAT_1, ZFMISC_1;
 requirements BOOLE, SUBSET, NUMERALS, REAL, ARITHM;
 definitions WAYBEL_0, WAYBEL_1, ORDERS_3, STRUCT_0, FUNCT_1, RELAT_1, RELAT_2,
      XBOOLE_0, TARSKI, SQUARE_1, FUNCOP_1, WELLORD1, SUBSET_1, BINOP_1;
 theorems FUNCT_1, FUNCT_2, FUNCT_4, ENUMSET1, RELSET_1, ZFMISC_1, NAT_1,
      AXIOMS, CARD_1, WAYBEL_0, SUBSET_1, XBOOLE_0, XBOOLE_1, QUIN_1, WELLORD2,
      RELAT_1, FUNCT_3, TARSKI, FUNCOP_1, ORDERS_2, RELAT_2, ORDINAL1, CARD_2,
      SQUARE_1, WAYBEL_1, ORDERS_3, PARTFUN1, XREAL_1, XXREAL_0, FRECHET,
      XTUPLE_0;
 schemes NAT_1, FRAENKEL, FUNCT_7;

begin
theorem
L1: 4 = { ( 0 ) , 1 , 2 , 3 } by CARD_1:52;
theorem
L2: (for R6 being set holds (for R7 being set holds (for R8 being set holds (for R9 being set holds (for R10 being set holds (for R11 being set holds [: { R6 , R7 , R8 } , { R9 , R10 , R11 } :] = { [ R6 , R9 ] , [ R6 , R10 ] , [ R6 , R11 ] , [ R7 , R9 ] , [ R7 , R10 ] , [ R7 , R11 ] , [ R8 , R9 ] , [ R8 , R10 ] , [ R8 , R11 ] }))))))
proof
let R6 being set;
let R7 being set;
let R8 being set;
let R9 being set;
let R10 being set;
let R11 being set;
thus L3: [: { R6 , R7 , R8 } , { R9 , R10 , R11 } :] = [: ( { R6 } \/ { R7 , R8 } ) , { R9 , R10 , R11 } :] by ENUMSET1:2
.= [: ( { R6 } \/ { R7 , R8 } ) , ( { R9 } \/ { R10 , R11 } ) :] by ENUMSET1:2
.= ( ( ( [: { R6 } , { R9 } :] \/ [: { R6 } , { R10 , R11 } :] ) \/ [: { R7 , R8 } , { R9 } :] ) \/ [: { R7 , R8 } , { R10 , R11 } :] ) by ZFMISC_1:98
.= ( ( ( [: { R6 } , { R9 } :] \/ [: { R6 } , { R10 , R11 } :] ) \/ [: { R7 , R8 } , { R9 } :] ) \/ ( [: { R7 } , { R10 , R11 } :] \/ [: { R8 } , { R10 , R11 } :] ) ) by ZFMISC_1:109
.= ( ( ( { [ R6 , R9 ] } \/ [: { R6 } , { R10 , R11 } :] ) \/ [: { R7 , R8 } , { R9 } :] ) \/ ( [: { R7 } , { R10 , R11 } :] \/ [: { R8 } , { R10 , R11 } :] ) ) by ZFMISC_1:29
.= ( ( ( { [ R6 , R9 ] } \/ { [ R6 , R10 ] , [ R6 , R11 ] } ) \/ [: { R7 , R8 } , { R9 } :] ) \/ ( [: { R7 } , { R10 , R11 } :] \/ [: { R8 } , { R10 , R11 } :] ) ) by ZFMISC_1:30
.= ( ( ( { [ R6 , R9 ] } \/ { [ R6 , R10 ] , [ R6 , R11 ] } ) \/ { [ R7 , R9 ] , [ R8 , R9 ] } ) \/ ( [: { R7 } , { R10 , R11 } :] \/ [: { R8 } , { R10 , R11 } :] ) ) by ZFMISC_1:30
.= ( ( ( { [ R6 , R9 ] } \/ { [ R6 , R10 ] , [ R6 , R11 ] } ) \/ { [ R7 , R9 ] , [ R8 , R9 ] } ) \/ ( { [ R7 , R10 ] , [ R7 , R11 ] } \/ [: { R8 } , { R10 , R11 } :] ) ) by ZFMISC_1:30
.= ( ( ( { [ R6 , R9 ] } \/ { [ R6 , R10 ] , [ R6 , R11 ] } ) \/ { [ R7 , R9 ] , [ R8 , R9 ] } ) \/ ( { [ R7 , R10 ] , [ R7 , R11 ] } \/ { [ R8 , R10 ] , [ R8 , R11 ] } ) ) by ZFMISC_1:30
.= ( ( { [ R6 , R9 ] , [ R6 , R10 ] , [ R6 , R11 ] } \/ { [ R7 , R9 ] , [ R8 , R9 ] } ) \/ ( { [ R7 , R10 ] , [ R7 , R11 ] } \/ { [ R8 , R10 ] , [ R8 , R11 ] } ) ) by ENUMSET1:2
.= ( { [ R6 , R9 ] , [ R6 , R10 ] , [ R6 , R11 ] , [ R7 , R9 ] , [ R8 , R9 ] } \/ ( { [ R7 , R10 ] , [ R7 , R11 ] } \/ { [ R8 , R10 ] , [ R8 , R11 ] } ) ) by ENUMSET1:9
.= ( { [ R6 , R9 ] , [ R6 , R10 ] , [ R6 , R11 ] , [ R7 , R9 ] , [ R8 , R9 ] } \/ { [ R7 , R10 ] , [ R7 , R11 ] , [ R8 , R10 ] , [ R8 , R11 ] } ) by ENUMSET1:5
.= { [ R6 , R9 ] , [ R6 , R10 ] , [ R6 , R11 ] , [ R7 , R9 ] , [ R8 , R9 ] , [ R7 , R10 ] , [ R7 , R11 ] , [ R8 , R10 ] , [ R8 , R11 ] } by ENUMSET1:81
.= ( { [ R6 , R9 ] , [ R6 , R10 ] , [ R6 , R11 ] , [ R7 , R9 ] } \/ { [ R8 , R9 ] , [ R7 , R10 ] , [ R7 , R11 ] , [ R8 , R10 ] , [ R8 , R11 ] } ) by ENUMSET1:80
.= ( { [ R6 , R9 ] , [ R6 , R10 ] , [ R6 , R11 ] , [ R7 , R9 ] } \/ ( { [ R8 , R9 ] , [ R7 , R10 ] , [ R7 , R11 ] } \/ { [ R8 , R10 ] , [ R8 , R11 ] } ) ) by ENUMSET1:9
.= ( { [ R6 , R9 ] , [ R6 , R10 ] , [ R6 , R11 ] , [ R7 , R9 ] } \/ ( { [ R7 , R10 ] , [ R7 , R11 ] , [ R8 , R9 ] } \/ { [ R8 , R10 ] , [ R8 , R11 ] } ) ) by ENUMSET1:59
.= ( { [ R6 , R9 ] , [ R6 , R10 ] , [ R6 , R11 ] , [ R7 , R9 ] } \/ { [ R7 , R10 ] , [ R7 , R11 ] , [ R8 , R9 ] , [ R8 , R10 ] , [ R8 , R11 ] } ) by ENUMSET1:9
.= { [ R6 , R9 ] , [ R6 , R10 ] , [ R6 , R11 ] , [ R7 , R9 ] , [ R7 , R10 ] , [ R7 , R11 ] , [ R8 , R9 ] , [ R8 , R10 ] , [ R8 , R11 ] } by ENUMSET1:80;
end;
theorem
L4: (for B1 being set holds (for B2 being Nat holds (B1 in B2 implies B1 is Nat)))
proof
let C1 being set;
let C2 being Nat;
reconsider D1 = C2 as (Element of ( NAT )) by ORDINAL1:def 12;
assume L5: C1 in C2;
L6: C1 in { B3 where B3 is (Element of ( NAT )) : B3 < D1 } by L5 , AXIOMS:4;
L7: (ex B4 being (Element of ( NAT )) st (C1 = B4 & B4 < D1)) by L6;
thus L8: thesis by L7;
end;
theorem
L9: (for B5 being non  empty Nat holds ( 0 ) in B5)
proof
let C3 being non  empty Nat;
reconsider D2 = C3 as (Element of ( NAT )) by ORDINAL1:def 12;
L10: (D2 = { B6 where B6 is (Element of ( NAT )) : B6 < D2 } & ( 0 ) < D2) by AXIOMS:4 , NAT_1:3;
thus L11: thesis by L10;
end;
registration
let C4 being set;
cluster ( delta C4 ) ->  one-to-one;
coherence
proof
set D3 = ( delta C4 );
let C5 , C6 being set;
assume that
L12: (C5 in ( dom D3 ) & C6 in ( dom D3 ))
and
L13: ( D3 . C5 ) = ( D3 . C6 );
L14: (( D3 . C5 ) = [ C5 , C5 ] & ( D3 . C6 ) = [ C6 , C6 ]) by L12 , FUNCT_3:def 6;
thus L15: thesis by L14 , L13 , XTUPLE_0:1;
end;
end;
theorem
L17: (for B7 being set holds ( card ( id B7 ) ) = ( card B7 ))
proof
let C7 being set;
L18: ( id C7 ) in ( Funcs (C7 , C7) ) by FUNCT_2:9;
thus L19: thesis by L18 , CARD_2:3;
end;
registration
cluster  trivial ->  one-to-one for Function;
coherence
proof
let C8 being Function;
assume that
L20: C8 is  trivial;
let C9 , C10 being set;
assume that
L21: C9 in ( dom C8 )
and
L22: C10 in ( dom C8 )
and
L23: ( C8 . C9 ) = ( C8 . C10 );
reconsider D4 = C8 as  trivial Function by L20;
consider C11 being set such that L24: ( dom D4 ) = { C11 } by L21 , ZFMISC_1:131;
L25: C9 = C11 by L21 , L24 , TARSKI:def 1;
thus L26: thesis by L25 , L22 , L24 , TARSKI:def 1;
end;
end;
theorem
L28: (for B8 , B9 being Function holds (( dom B8 ) misses ( dom B9 ) implies ( rng ( B8 +* B9 ) ) = ( ( rng B8 ) \/ ( rng B9 ) ))) by FRECHET:35 , PARTFUN1:56;
theorem
L29: (for B10 , B11 being  one-to-one Function holds ((( dom B10 ) misses ( dom B11 ) & ( rng B10 ) misses ( rng B11 )) implies ( ( B10 +* B11 ) " ) = ( ( B10 " ) +* ( B11 " ) )))
proof
let C12 , C13 being  one-to-one Function;
assume that
L30: ( dom C12 ) misses ( dom C13 )
and
L31: ( rng C12 ) misses ( rng C13 );
L32: ( C12 +* C13 ) is  one-to-one by L31 , FUNCT_4:92;
L33: (for B12 , B13 being set holds ((B12 in ( rng ( C12 +* C13 ) ) & B13 = ( ( ( C12 " ) +* ( C13 " ) ) . B12 )) iff (B13 in ( dom ( C12 +* C13 ) ) & B12 = ( ( C12 +* C13 ) . B13 ))))
proof
let C14 , C15 being set;
thus L34: ((C14 in ( rng ( C12 +* C13 ) ) & C15 = ( ( ( C12 " ) +* ( C13 " ) ) . C14 )) implies (C15 in ( dom ( C12 +* C13 ) ) & C14 = ( ( C12 +* C13 ) . C15 )))
proof
L35: ( rng ( C12 +* C13 ) ) c= ( ( rng C12 ) \/ ( rng C13 ) ) by FUNCT_4:17;
assume that
L36: C14 in ( rng ( C12 +* C13 ) )
and
L37: C15 = ( ( ( C12 " ) +* ( C13 " ) ) . C14 );
per cases  by L36 , L35 , XBOOLE_0:def 3;
suppose L38: C14 in ( rng C12 );

consider C16 being set such that L39: C16 in ( dom C12 ) and L40: C14 = ( C12 . C16 ) by L38 , FUNCT_1:def 3;
L41: ( dom ( C12 +* C13 ) ) = ( ( dom C12 ) \/ ( dom C13 ) ) by FUNCT_4:def 1;
L42: C16 in ( dom ( C12 +* C13 ) ) by L41 , L39 , XBOOLE_0:def 3;
L43: (( dom ( C12 " ) ) = ( rng C12 ) & ( dom ( C13 " ) ) = ( rng C13 )) by FUNCT_1:33;
L44: (C14 = ( ( C12 +* C13 ) . C16 ) & C16 = ( ( C12 " ) . C14 )) by L30 , L39 , L40 , FUNCT_1:32 , FUNCT_4:16;
thus L45: thesis by L44 , L31 , L37 , L38 , L42 , L43 , FUNCT_4:16;
end;
suppose L46: C14 in ( rng C13 );

L47: (( dom ( C12 " ) ) = ( rng C12 ) & ( dom ( C13 " ) ) = ( rng C13 )) by FUNCT_1:33;
consider C17 being set such that L48: C17 in ( dom C13 ) and L49: C14 = ( C13 . C17 ) by L46 , FUNCT_1:def 3;
L50: C17 = ( ( C13 " ) . C14 ) by L48 , L49 , FUNCT_1:32;
L51: C17 = ( ( ( C13 " ) +* ( C12 " ) ) . C14 ) by L50 , L31 , L46 , L47 , FUNCT_4:16;
L52: C17 = C15 by L51 , L31 , L37 , L47 , FUNCT_4:35;
L53: (( dom ( C12 +* C13 ) ) = ( ( dom C12 ) \/ ( dom C13 ) ) & C14 = ( ( C13 +* C12 ) . C17 )) by L30 , L48 , L49 , FUNCT_4:16 , FUNCT_4:def 1;
thus L54: thesis by L53 , L30 , L48 , L52 , FUNCT_4:35 , XBOOLE_0:def 3;
end;
end;

thus L56: ((C15 in ( dom ( C12 +* C13 ) ) & C14 = ( ( C12 +* C13 ) . C15 )) implies (C14 in ( rng ( C12 +* C13 ) ) & C15 = ( ( ( C12 " ) +* ( C13 " ) ) . C14 )))
proof
L57: ( dom ( C12 +* C13 ) ) = ( ( dom C12 ) \/ ( dom C13 ) ) by FUNCT_4:def 1;
assume that
L58: C15 in ( dom ( C12 +* C13 ) )
and
L59: C14 = ( ( C12 +* C13 ) . C15 );
per cases  by L58 , L57 , XBOOLE_0:def 3;
suppose L60: C15 in ( dom C12 );

L61: (not C15 in ( dom C13 )) by L60 , L30 , XBOOLE_0:3;
L62: C14 = ( C12 . C15 ) by L61 , L59 , FUNCT_4:11;
L63: C15 = ( ( C12 " ) . C14 ) by L62 , L60 , FUNCT_1:32;
L64: (( dom ( C12 " ) ) = ( rng C12 ) & ( dom ( C13 " ) ) = ( rng C13 )) by FUNCT_1:33;
L65: C14 in ( rng C12 ) by L60 , L62 , FUNCT_1:def 3;
L66: C14 in ( ( rng C12 ) \/ ( rng C13 ) ) by L65 , XBOOLE_0:def 3;
thus L67: thesis by L66 , L30 , L31 , L65 , L63 , L64 , FRECHET:35 , FUNCT_4:16 , PARTFUN1:56;
end;
suppose L68: C15 in ( dom C13 );

L69: C14 = ( C13 . C15 ) by L68 , L59 , FUNCT_4:13;
L70: C14 in ( rng C13 ) by L69 , L68 , FUNCT_1:def 3;
L71: C14 in ( ( rng C12 ) \/ ( rng C13 ) ) by L70 , XBOOLE_0:def 3;
L72: (( dom ( C12 " ) ) = ( rng C12 ) & ( dom ( C13 " ) ) = ( rng C13 )) by FUNCT_1:33;
L73: C15 = ( ( C13 " ) . C14 ) by L68 , L69 , FUNCT_1:32;
L74: C15 = ( ( ( C13 " ) +* ( C12 " ) ) . C14 ) by L73 , L31 , L70 , L72 , FUNCT_4:16;
thus L75: thesis by L74 , L30 , L31 , L71 , L72 , FRECHET:35 , FUNCT_4:35 , PARTFUN1:56;
end;
end;

end;
L57: ( dom ( ( C12 " ) +* ( C13 " ) ) ) = ( ( dom ( C12 " ) ) \/ ( dom ( C13 " ) ) ) by FUNCT_4:def 1
.= ( ( rng C12 ) \/ ( dom ( C13 " ) ) ) by FUNCT_1:33
.= ( ( rng C12 ) \/ ( rng C13 ) ) by FUNCT_1:33
.= ( rng ( C12 +* C13 ) ) by L30 , FRECHET:35 , PARTFUN1:56;
thus L58: thesis by L57 , L32 , L33 , FUNCT_1:32;
end;
theorem
L59: (for B14 , B15 , B16 being set holds ( ( B14 --> B15 ) +* ( B14 --> B16 ) ) = ( B14 --> B16 ))
proof
let C18 , C19 , C20 being set;
set D5 = ( C18 --> C20 );
L60: ( dom D5 ) = C18 by FUNCOP_1:13;
L61: ( dom ( C18 --> C19 ) ) c= ( dom D5 ) by L60;
thus L62: thesis by L61 , FUNCT_4:19;
end;
theorem
L63: (for B17 , B18 being set holds ( ( B17 .--> B18 ) " ) = ( B18 .--> B17 ))
proof
let C21 , C22 being set;
set D6 = ( C21 .--> C22 );
set D7 = ( C22 .--> C21 );
L64: (for B19 , B20 being set holds ((B19 in ( rng D6 ) & B20 = ( D7 . B19 )) iff (B20 in ( dom D6 ) & B19 = ( D6 . B20 ))))
proof
let C23 , C24 being set;
thus L65: ((C23 in ( rng D6 ) & C24 = ( D7 . C23 )) implies (C24 in ( dom D6 ) & C23 = ( D6 . C24 )))
proof
assume that
L66: C23 in ( rng D6 )
and
L67: C24 = ( D7 . C23 );
L68: C23 in { C22 } by L66 , FUNCOP_1:8;
L69: C24 = ( D7 . C22 ) by L68 , L67 , TARSKI:def 1
.= C21 by FUNCOP_1:72;
L70: C24 in { C21 } by L69 , TARSKI:def 1;
L71: ( D6 . C24 ) = C22 by L69 , FUNCOP_1:72
.= C23 by L68 , TARSKI:def 1;
thus L72: thesis by L71 , L70 , FUNCOP_1:13;
end;

assume that
L73: C24 in ( dom D6 )
and
L74: C23 = ( D6 . C24 );
L75: C24 in { C21 } by L73;
L76: C23 = ( D6 . C21 ) by L75 , L74 , TARSKI:def 1
.= C22 by FUNCOP_1:72;
L77: C23 in { C22 } by L76 , TARSKI:def 1;
L78: ( D7 . C23 ) = C21 by L76 , FUNCOP_1:72
.= C24 by L75 , TARSKI:def 1;
thus L79: thesis by L78 , L77 , FUNCOP_1:8;
end;
L80: ( dom D7 ) = { C22 } by FUNCOP_1:13
.= ( rng D6 ) by FUNCOP_1:8;
thus L81: thesis by L80 , L64 , FUNCT_1:32;
end;
theorem
L82: (for B21 , B22 , B23 , B24 being set holds ((B21 = B22 iff B23 = B24) implies ( ( (B21 , B22) --> (B23 , B24) ) " ) = ( (B23 , B24) --> (B21 , B22) )))
proof
let C25 , C26 , C27 , C28 being set;
assume that
L83: (C25 = C26 iff C27 = C28);
per cases  by L83;
suppose L84: (C25 = C26 & C27 = C28);

L85: ( ( (C25 , C25) --> (C28 , C28) ) " ) = ( ( C25 .--> C28 ) " ) by FUNCT_4:81
.= ( C28 .--> C25 ) by L63
.= ( (C28 , C28) --> (C25 , C25) ) by FUNCT_4:81;
thus L86: thesis by L85 , L84;
end;
suppose L87: (C25 <> C26 & C27 <> C28);

set D8 = ( (C25 , C26) --> (C27 , C28) );
set D9 = ( (C27 , C28) --> (C25 , C26) );
L88: (for B25 , B26 being set holds ((B25 in ( rng D8 ) & B26 = ( D9 . B25 )) iff (B26 in ( dom D8 ) & B25 = ( D8 . B26 ))))
proof
let C29 , C30 being set;
L89: ((C30 in ( dom D8 ) & C29 = ( D8 . C30 )) implies (C29 in ( rng D8 ) & C30 = ( D9 . C29 )))
proof
assume that
L90: C30 in ( dom D8 )
and
L91: C29 = ( D8 . C30 );
L92: C30 in { C25 , C26 } by L90 , FUNCT_4:62;
per cases  by L92 , TARSKI:def 2;
suppose L93: C30 = C25;

L94: C29 = C27 by L93 , L87 , L91 , FUNCT_4:63;
L95: C29 in { C27 , C28 } by L94 , TARSKI:def 2;
thus L96: thesis by L95 , L87 , L93 , L94 , FUNCT_4:63 , FUNCT_4:64;
end;
suppose L97: C30 = C26;

L98: C29 = C28 by L97 , L91 , FUNCT_4:63;
L99: C29 in { C27 , C28 } by L98 , TARSKI:def 2;
thus L100: thesis by L99 , L87 , L97 , L98 , FUNCT_4:63 , FUNCT_4:64;
end;
end;
L102: ((C29 in ( rng D8 ) & C30 = ( D9 . C29 )) implies (C30 in ( dom D8 ) & C29 = ( D8 . C30 )))
proof
assume that
L103: C29 in ( rng D8 )
and
L104: C30 = ( D9 . C29 );
L105: C29 in { C27 , C28 } by L87 , L103 , FUNCT_4:64;
per cases  by L105 , TARSKI:def 2;
suppose L106: C29 = C27;

L107: C30 = C25 by L106 , L87 , L104 , FUNCT_4:63;
L108: C30 in { C25 , C26 } by L107 , TARSKI:def 2;
thus L109: thesis by L108 , L87 , L106 , L107 , FUNCT_4:62 , FUNCT_4:63;
end;
suppose L110: C29 = C28;

L111: C30 = C26 by L110 , L104 , FUNCT_4:63;
L112: C30 in { C25 , C26 } by L111 , TARSKI:def 2;
thus L113: thesis by L112 , L110 , L111 , FUNCT_4:62 , FUNCT_4:63;
end;
end;
thus L115: thesis by L102 , L89;
end;
L116: D8 is  one-to-one
proof
L117: ( dom D8 ) = { C25 , C26 } by FUNCT_4:62;
let C31 , C32 being set;
assume that
L118: (C31 in ( dom D8 ) & C32 in ( dom D8 ))
and
L119: ( D8 . C31 ) = ( D8 . C32 );
per cases  by L118 , L117 , TARSKI:def 2;
suppose L120: ((C31 = C25 & C32 = C25) or (C31 = C26 & C32 = C26));

thus L121: thesis by L120;
end;
suppose L122: (C31 = C25 & C32 = C26);

L123: ( D8 . C31 ) = C27 by L122 , L87 , FUNCT_4:63;
thus L124: thesis by L123 , L87 , L119 , L122 , FUNCT_4:63;
end;
suppose L125: (C31 = C26 & C32 = C25);

L126: ( D8 . C31 ) = C28 by L125 , FUNCT_4:63;
thus L127: thesis by L126 , L87 , L119 , L125 , FUNCT_4:63;
end;
end;
L129: ( dom D9 ) = { C27 , C28 } by FUNCT_4:62
.= ( rng D8 ) by L87 , FUNCT_4:64;
thus L130: thesis by L129 , L116 , L88 , FUNCT_1:32;
end;
end;
scheme Convers { F1() -> non  empty set , F2() -> Relation , F3 , F4(set) -> set , P1[set] } : ( F2() ~ ) = { [ F3(B27) , F4(B27) ] where B27 is (Element of F1()) : P1[ B27 ] }
provided
L132: F2() = { [ F4(B28) , F3(B28) ] where B28 is (Element of F1()) : P1[ B28 ] }
proof
set D10 = { [ F3(B29) , F4(B29) ] where B29 is (Element of F1()) : P1[ B29 ] };
L133: D10 is  Relation-like
proof
let C33 being set;
assume L134: C33 in D10;
L135: (ex B30 being (Element of F1()) st (C33 = [ F3(B30) , F4(B30) ] & P1[ B30 ])) by L134;
thus L136: thesis by L135;
end;
reconsider D11 = D10 as Relation by L133;
L137: (for B31 , B32 being set holds ([ B32 , B31 ] in F2() implies [ B31 , B32 ] in D11))
proof
let C34 , C35 being set;
assume L138: [ C35 , C34 ] in F2();
consider C36 being (Element of F1()) such that L139: [ C35 , C34 ] = [ F4(C36) , F3(C36) ] and L140: P1[ C36 ] by L138 , L132;
L141: (C35 = F4(C36) & C34 = F3(C36)) by L139 , XTUPLE_0:1;
thus L142: thesis by L141 , L140;
end;
L143: (for B33 , B34 being set holds ([ B33 , B34 ] in D11 implies [ B34 , B33 ] in F2()))
proof
let C37 , C38 being set;
assume L144: [ C37 , C38 ] in D11;
consider C39 being (Element of F1()) such that L145: [ C37 , C38 ] = [ F3(C39) , F4(C39) ] and L146: P1[ C39 ] by L144;
L147: (C37 = F3(C39) & C38 = F4(C39)) by L145 , XTUPLE_0:1;
thus L148: thesis by L147 , L132 , L146;
end;
thus L149: thesis by L143 , L137 , RELAT_1:def 7;
end;
theorem
L150: (for B35 , B36 , B37 being Nat holds ((B35 < B36 & B36 in B37) implies B35 in B37))
proof
let C40 , C41 , C42 being Nat;
assume that
L151: C40 < C41
and
L152: C41 in C42;
L153: C41 < C42 by L152 , NAT_1:44;
L154: C40 < C42 by L153 , L151 , XXREAL_0:2;
thus L155: thesis by L154 , NAT_1:44;
end;
begin
definition
let C43 , C44 being RelStr;
pred C44 embeds C43
means
:L156: (ex B38 being (Function of C43 , C44) st (B38 is  one-to-one & (for B39 , B40 being (Element of C43) holds ([ B39 , B40 ] in (the InternalRel of C43) iff [ ( B38 . B39 ) , ( B38 . B40 ) ] in (the InternalRel of C44)))))
;end;
definition
let C45 , C46 being non  empty RelStr;
redefine pred C46 embeds C45
;
reflexivity
proof
let C47 being non  empty RelStr;
set D12 = ( id (the carrier of C47) );
reconsider D13 = D12 as (Function of C47 , C47);
take D13;
thus L158: D13 is  one-to-one;
let C48 , C49 being (Element of C47);
L159: C48 = ( D13 . C48 ) by FUNCT_1:18;
thus L160: thesis by L159 , FUNCT_1:18;
end;
end;
theorem
L162: (for B41 , B42 , B43 being non  empty RelStr holds ((B41 embeds B42 & B42 embeds B43) implies B41 embeds B43))
proof
let C50 , C51 , C52 being non  empty RelStr;
assume L163: C50 embeds C51;
consider C53 being (Function of C51 , C50) such that L164: C53 is  one-to-one and L165: (for B44 , B45 being (Element of C51) holds ([ B44 , B45 ] in (the InternalRel of C51) iff [ ( C53 . B44 ) , ( C53 . B45 ) ] in (the InternalRel of C50))) by L163 , L156;
assume L166: C51 embeds C52;
consider C54 being (Function of C52 , C51) such that L167: C54 is  one-to-one and L168: (for B46 , B47 being (Element of C52) holds ([ B46 , B47 ] in (the InternalRel of C52) iff [ ( C54 . B46 ) , ( C54 . B47 ) ] in (the InternalRel of C51))) by L166 , L156;
reconsider D14 = ( C53 * C54 ) as (Function of C52 , C50);
take D14;
thus L169: D14 is  one-to-one by L164 , L167;
thus L170: (for B48 , B49 being (Element of C52) holds ([ B48 , B49 ] in (the InternalRel of C52) iff [ ( D14 . B48 ) , ( D14 . B49 ) ] in (the InternalRel of C50)))
proof
let C55 , C56 being (Element of C52);
thus L171: ([ C55 , C56 ] in (the InternalRel of C52) implies [ ( D14 . C55 ) , ( D14 . C56 ) ] in (the InternalRel of C50))
proof
assume L172: [ C55 , C56 ] in (the InternalRel of C52);
L173: [ ( C54 . C55 ) , ( C54 . C56 ) ] in (the InternalRel of C51) by L172 , L168;
L174: (( D14 . C55 ) = ( C53 . ( C54 . C55 ) ) & ( D14 . C56 ) = ( C53 . ( C54 . C56 ) )) by FUNCT_2:15;
thus L175: thesis by L174 , L165 , L173;
end;

thus L176: ([ ( D14 . C55 ) , ( D14 . C56 ) ] in (the InternalRel of C50) implies [ C55 , C56 ] in (the InternalRel of C52))
proof
L177: (( D14 . C55 ) = ( C53 . ( C54 . C55 ) ) & ( D14 . C56 ) = ( C53 . ( C54 . C56 ) )) by FUNCT_2:15;
assume L178: [ ( D14 . C55 ) , ( D14 . C56 ) ] in (the InternalRel of C50);
L179: [ ( C54 . C55 ) , ( C54 . C56 ) ] in (the InternalRel of C51) by L178 , L165 , L177;
thus L180: thesis by L179 , L168;
end;

end;

end;
definition
let C57 , C58 being non  empty RelStr;
pred C57 is_equimorphic_to C58
means
:L171: (C57 embeds C58 & C58 embeds C57)
;reflexivity
;
symmetry
;
end;
theorem
L173: (for B50 , B51 , B52 being non  empty RelStr holds ((B50 is_equimorphic_to B51 & B51 is_equimorphic_to B52) implies B50 is_equimorphic_to B52))
proof
let C59 , C60 , C61 being non  empty RelStr;
assume L174: (C59 is_equimorphic_to C60 & C60 is_equimorphic_to C61);
L175: (C60 embeds C59 & C61 embeds C60) by L174 , L171;
L176: C61 embeds C59 by L175 , L162;
L177: (C59 embeds C60 & C60 embeds C61) by L174 , L171;
L178: C59 embeds C61 by L177 , L162;
thus L179: thesis by L178 , L176 , L171;
end;
notation
let C62 being non  empty RelStr;
antonym C62 is  parallel for C62 is  connected;
end;
definition
let C63 being RelStr;
attr C63 is  symmetric
means
:L181: (the InternalRel of C63) is_symmetric_in (the carrier of C63);
end;
definition
let C64 being RelStr;
attr C64 is  asymmetric
means
:L183: (the InternalRel of C64) is  asymmetric;
end;
theorem
L185: (for B53 being RelStr holds (B53 is  asymmetric implies (the InternalRel of B53) misses ( (the InternalRel of B53) ~ )))
proof
let C65 being RelStr;
assume L186: C65 is  asymmetric;
L187: (the InternalRel of C65) is  asymmetric by L186 , L183;
L188: (the InternalRel of C65) is_asymmetric_in ( field (the InternalRel of C65) ) by L187 , RELAT_2:def 13;
assume L189: (the InternalRel of C65) meets ( (the InternalRel of C65) ~ );
consider C66 being set such that L190: C66 in (the InternalRel of C65) and L191: C66 in ( (the InternalRel of C65) ~ ) by L189 , XBOOLE_0:3;
consider C67 , C68 being set such that L192: C66 = [ C67 , C68 ] by L191 , RELAT_1:def 1;
L193: C68 in ( field (the InternalRel of C65) ) by L190 , L192 , RELAT_1:15;
L194: ([ C68 , C67 ] in (the InternalRel of C65) & C67 in ( field (the InternalRel of C65) )) by L190 , L191 , L192 , RELAT_1:15 , RELAT_1:def 7;
thus L195: contradiction by L194 , L190 , L192 , L188 , L193 , RELAT_2:def 5;
end;
definition
let C69 being RelStr;
attr C69 is  irreflexive
means
(for B54 being set holds (B54 in (the carrier of C69) implies (not [ B54 , B54 ] in (the InternalRel of C69))));
end;
definition
let C70 being Nat;
func C70 -SuccRelStr ->  strict RelStr means 
:L197: ((the carrier of it) = C70 & (the InternalRel of it) = { [ B55 , ( B55 + 1 ) ] where B55 is (Element of ( NAT )) : ( B55 + 1 ) < C70 });
existence
proof
set D15 = { [ B56 , ( B56 + 1 ) ] where B56 is (Element of ( NAT )) : ( B56 + 1 ) < C70 };
L198: D15 c= [: C70 , C70 :]
proof
let C71 being set;
assume L199: C71 in D15;
consider C72 being (Element of ( NAT )) such that L200: C71 = [ C72 , ( C72 + 1 ) ] and L201: ( C72 + 1 ) < C70 by L199;
L202: C72 <= ( C72 + 1 ) by NAT_1:11;
L203: C72 < C70 by L202 , L201 , XXREAL_0:2;
L204: C72 in C70 by L203 , NAT_1:44;
L205: ( C72 + 1 ) in C70 by L201 , NAT_1:44;
thus L206: thesis by L205 , L200 , L204 , ZFMISC_1:87;
end;
reconsider D16 = D15 as (Relation of C70) by L198;
take RelStr (# C70 , D16 #);
thus L207: thesis;
end;
uniqueness;
end;
theorem
L209: (for B57 being Nat holds ( B57 -SuccRelStr ) is  asymmetric)
proof
let C73 being Nat;
set D17 = ( C73 -SuccRelStr );
L210: (the InternalRel of D17) is_asymmetric_in ( field (the InternalRel of D17) )
proof
let C74 , C75 being set;
assume that
L211: C74 in ( field (the InternalRel of D17) )
and
L212: C75 in ( field (the InternalRel of D17) )
and
L213: [ C74 , C75 ] in (the InternalRel of D17);
L214: [ C74 , C75 ] in { [ B58 , ( B58 + 1 ) ] where B58 is (Element of ( NAT )) : ( B58 + 1 ) < C73 } by L213 , L197;
assume L215: [ C75 , C74 ] in (the InternalRel of D17);
L216: [ C75 , C74 ] in { [ B59 , ( B59 + 1 ) ] where B59 is (Element of ( NAT )) : ( B59 + 1 ) < C73 } by L215 , L197;
consider C76 being (Element of ( NAT )) such that L217: [ C75 , C74 ] = [ C76 , ( C76 + 1 ) ] and L218: ( C76 + 1 ) < C73 by L216;
L219: (C75 = C76 & C74 = ( C76 + 1 )) by L217 , XTUPLE_0:1;
consider C77 being (Element of ( NAT )) such that L220: [ C74 , C75 ] = [ C77 , ( C77 + 1 ) ] and L221: ( C77 + 1 ) < C73 by L214;
L222: (C74 = C77 & C75 = ( C77 + 1 )) by L220 , XTUPLE_0:1;
thus L223: contradiction by L222 , L219;
end;
thus L224: (the InternalRel of D17) is  asymmetric by L210 , RELAT_2:def 13;
end;
theorem
L225: (for R4 being Nat holds (R4 > ( 0 ) implies ( card (the InternalRel of ( R4 -SuccRelStr )) ) = ( R4 - 1 )))
proof
let R4 being Nat;
deffunc H1((Element of ( NAT ))) = [ $1 , ( $1 + 1 ) ];
defpred S1[ (Element of ( NAT )) ] means ( $1 + 1 ) < R4;
defpred S2[ set ] means $1 in ( R4 -' 1 );
L226: ( R4 -' 1 ) c= ( NAT );
assume L227: R4 > ( 0 );
L228: R4 >= ( ( 0 ) + 1 ) by L227 , NAT_1:13;
L229: (for R1 being Nat holds (R1 in ( R4 -' 1 ) implies ( R1 + 1 ) < R4))
proof
let R1 being Nat;
assume L230: R1 in ( R4 -' 1 );
L231: R1 < ( R4 -' 1 ) by L230 , NAT_1:44;
L232: R4 >= ( ( 0 ) + 1 ) by L227 , NAT_1:13;
L233: R1 < ( R4 - 1 ) by L232 , L231 , XREAL_1:233;
thus L234: thesis by L233 , XREAL_1:20;
end;
L235: (for B60 being (Element of ( NAT )) holds (S1[ B60 ] iff S2[ B60 ]))
proof
let C78 being (Element of ( NAT ));
thus L236: (( C78 + 1 ) < R4 implies C78 in ( R4 -' 1 ))
proof
assume L237: ( C78 + 1 ) < R4;
L238: C78 < ( R4 - 1 ) by L237 , XREAL_1:20;
L239: C78 < ( R4 -' 1 ) by L238 , L228 , XREAL_1:233;
thus L240: thesis by L239 , NAT_1:44;
end;

thus L241: thesis by L229;
end;
L242: { H1(B61) where B61 is (Element of ( NAT )) : S1[ B61 ] } = { H1(B62) where B62 is (Element of ( NAT )) : S2[ B62 ] } from FRAENKEL:sch 3(L235);
deffunc H2((Element of ( NAT ))) = [ $1 , ( $1 + 1 ) ];
L243: (for B63 , B64 being (Element of ( NAT )) holds (H2(B63) = H2(B64) implies B63 = B64)) by XTUPLE_0:1;
L244: ( R4 -' 1 ) , { H2(B65) where B65 is (Element of ( NAT )) : B65 in ( R4 -' 1 ) } are_equipotent  from FUNCT_7:sch 4(L226 , L243);
thus L245: ( card (the InternalRel of ( R4 -SuccRelStr )) ) = ( card { [ B66 , ( B66 + 1 ) ] where B66 is (Element of ( NAT )) : ( B66 + 1 ) < R4 } ) by L197
.= ( card ( R4 -' 1 ) ) by L242 , L244 , CARD_1:5
.= ( R4 -' 1 ) by CARD_1:def 2
.= ( R4 - 1 ) by L228 , XREAL_1:233;
end;
definition
let C79 being RelStr;
func SymRelStr C79 ->  strict RelStr means 
:L246: ((the carrier of it) = (the carrier of C79) & (the InternalRel of it) = ( (the InternalRel of C79) \/ ( (the InternalRel of C79) ~ ) ));
existence
proof
take RelStr (# (the carrier of C79) , ( (the InternalRel of C79) \/ ( (the InternalRel of C79) ~ ) ) #);
thus L247: thesis;
end;
uniqueness;
end;
registration
let C80 being RelStr;
cluster ( SymRelStr C80 ) ->  symmetric;
coherence
proof
let C81 , C82 being set;
assume that
L249: C81 in (the carrier of ( SymRelStr C80 ))
and
L250: C82 in (the carrier of ( SymRelStr C80 ))
and
L251: [ C81 , C82 ] in (the InternalRel of ( SymRelStr C80 ));
L252: [ C81 , C82 ] in ( (the InternalRel of C80) \/ ( (the InternalRel of C80) ~ ) ) by L251 , L246;
per cases  by L252 , XBOOLE_0:def 3;
suppose L253: [ C81 , C82 ] in (the InternalRel of C80);

L254: [ C82 , C81 ] in ( (the InternalRel of C80) ~ ) by L253 , RELAT_1:def 7;
L255: [ C82 , C81 ] in ( (the InternalRel of C80) \/ ( (the InternalRel of C80) ~ ) ) by L254 , XBOOLE_0:def 3;
thus L256: thesis by L255 , L246;
end;
suppose L257: [ C81 , C82 ] in ( (the InternalRel of C80) ~ );

L258: [ C82 , C81 ] in (the InternalRel of C80) by L257 , RELAT_1:def 7;
L259: [ C82 , C81 ] in ( (the InternalRel of C80) \/ ( (the InternalRel of C80) ~ ) ) by L258 , XBOOLE_0:def 3;
thus L260: thesis by L259 , L246;
end;
end;
end;
registration
cluster non  empty  symmetric for RelStr;
existence
proof
set D18 = { [ ( 0 ) , ( 0 ) ] };
L263: D18 c= [: { ( 0 ) } , { ( 0 ) } :] by ZFMISC_1:29;
reconsider D19 = { [ ( 0 ) , ( 0 ) ] } as (Relation of { ( 0 ) }) by L263;
take D20 = RelStr (# { ( 0 ) } , D19 #);
thus L264: D20 is non  empty;
thus L265: (the InternalRel of D20) is_symmetric_in (the carrier of D20)
proof
let C83 , C84 being set;
assume that
L266: C83 in (the carrier of D20)
and
L267: C84 in (the carrier of D20)
and
L268: [ C83 , C84 ] in (the InternalRel of D20);
L269: (C83 = ( 0 ) & C84 = ( 0 )) by L268 , ZFMISC_1:28;
L270: [ C84 , C83 ] in [: { ( 0 ) } , { ( 0 ) } :] by L269 , ZFMISC_1:28;
thus L271: thesis by L270 , ZFMISC_1:29;
end;

end;
end;
registration
let C85 being  symmetric RelStr;
cluster (the InternalRel of C85) ->  symmetric;
coherence
proof
let C86 , C87 being set;
assume L267: (C86 in ( field (the InternalRel of C85) ) & C87 in ( field (the InternalRel of C85) ) & [ C86 , C87 ] in (the InternalRel of C85));
L268: ((the InternalRel of C85) is_symmetric_in (the carrier of C85) & ( field (the InternalRel of C85) ) c= ( (the carrier of C85) \/ (the carrier of C85) )) by L181 , RELSET_1:8;
thus L269: thesis by L268 , L267 , RELAT_2:def 3;
end;
end;
L271: (for B67 , B68 being non  empty RelStr holds (B67 , B68 are_isomorphic  implies ( card (the InternalRel of B67) ) = ( card (the InternalRel of B68) )))
proof
let C88 , C89 being non  empty RelStr;
set D21 = (the carrier of C88);
set D22 = (the carrier of C89);
set D23 = (the InternalRel of C88);
set D24 = (the InternalRel of C89);
reconsider D25 = D23 as set;
assume L272: C88 , C89 are_isomorphic ;
consider C90 being (Function of C88 , C89) such that L273: C90 is  isomorphic by L272 , WAYBEL_1:def 8;
reconsider D26 = C90 as  one-to-one Function by L273 , WAYBEL_0:def 38;
L274: [: D26 , D26 :] is  one-to-one;
L275: ( dom C90 ) = D21 by FUNCT_2:def 1;
L276: ( rng C90 ) = D22 by L273 , WAYBEL_0:66;
L277: C90 is  monotone by L273 , WAYBEL_0:def 38;
L278: (the InternalRel of C88) , (the InternalRel of C89) are_equipotent 
proof
set D27 = [: C90 , C90 :];
set D28 = ( [: C90 , C90 :] | D25 );
set D29 = ( dom D28 );
L279: ( dom D28 ) = ( ( dom [: C90 , C90 :] ) /\ D25 ) by RELAT_1:61
.= ( [: ( dom C90 ) , ( dom C90 ) :] /\ D25 ) by FUNCT_3:def 8
.= D25 by L275 , XBOOLE_1:28;
L280: ( rng D28 ) c= D24
proof
let C91 being set;
assume L281: C91 in ( rng D28 );
consider C92 being set such that L282: C92 in ( dom D28 ) and L283: C91 = ( D28 . C92 ) by L281 , FUNCT_1:def 3;
consider C93 , C94 being set such that L284: C92 = [ C93 , C94 ] by L282 , RELAT_1:def 1;
L285: C92 in ( dom [: C90 , C90 :] ) by L282 , RELAT_1:57;
reconsider D30 = C93 , D31 = C94 as (Element of C88) by L285 , L284 , ZFMISC_1:87;
L286: D30 <= D31 by L282 , L284 , ORDERS_2:def 5;
L287: ( C90 . D30 ) <= ( C90 . D31 ) by L286 , L277 , ORDERS_3:def 5;
L288: C91 = ( D27 . (C93 , C94) ) by L282 , L283 , L284 , FUNCT_1:47;
L289: (C93 in ( dom C90 ) & C94 in ( dom C90 )) by L275 , L284 , L285 , ZFMISC_1:87;
L290: C91 = [ ( C90 . C93 ) , ( C90 . C94 ) ] by L289 , L288 , FUNCT_3:def 8;
thus L291: thesis by L290 , L287 , ORDERS_2:def 5;
end;
reconsider D32 = D28 as (Function of D29 , [: D22 , D22 :]) by L280 , FUNCT_2:2 , XBOOLE_1:1;
reconsider D33 = D32 as (Function of D29 , D24) by L280 , FUNCT_2:6;
L292: ( rng D33 ) = D24
proof
thus L293: ( rng D33 ) c= D24 by L280;
let C95 being set;
assume L294: C95 in D24;
consider C96 , C97 being set such that L295: C95 = [ C96 , C97 ] by L294 , RELAT_1:def 1;
reconsider D34 = C96 , D35 = C97 as (Element of D22) by L294 , L295 , ZFMISC_1:87;
L296: C96 in D22 by L294 , L295 , ZFMISC_1:87;
consider C98 being set such that L297: C98 in ( dom C90 ) and L298: C96 = ( C90 . C98 ) by L296 , L276 , FUNCT_1:def 3;
L299: C97 in D22 by L294 , L295 , ZFMISC_1:87;
consider C99 being set such that L300: C99 in ( dom C90 ) and L301: C97 = ( C90 . C99 ) by L299 , L276 , FUNCT_1:def 3;
reconsider D36 = C98 , D37 = C99 as (Element of C88) by L297 , L300;
L302: D34 <= D35 by L294 , L295 , ORDERS_2:def 5;
L303: D36 <= D37 by L302 , L273 , L298 , L301 , WAYBEL_0:66;
L304: [ C98 , C99 ] in D25 by L303 , ORDERS_2:def 5;
set D38 = [ C98 , C99 ];
L305: D38 in [: ( dom C90 ) , ( dom C90 ) :] by L297 , L300 , ZFMISC_1:87;
L306: C95 = ( [: C90 , C90 :] . (C98 , C99) ) by L305 , L295 , L298 , L301 , FUNCT_3:65
.= ( D33 . [ C98 , C99 ] ) by L279 , L304 , FUNCT_1:47;
thus L307: thesis by L306 , L279 , L304 , FUNCT_1:def 3;
end;
L308: D33 is  one-to-one by L274 , FUNCT_1:52;
thus L309: thesis by L308 , L279 , L292 , WELLORD2:def 4;
end;
thus L310: thesis by L278 , CARD_1:5;
end;
definition
let C100 being RelStr;
func ComplRelStr C100 ->  strict RelStr means 
:L311: ((the carrier of it) = (the carrier of C100) & (the InternalRel of it) = ( ( (the InternalRel of C100) ` ) \ ( id (the carrier of C100) ) ));
existence
proof
reconsider D39 = ( ( (the InternalRel of C100) ` ) \ ( id (the carrier of C100) ) ) as (Relation of (the carrier of C100));
take RelStr (# (the carrier of C100) , D39 #);
thus L312: thesis;
end;
uniqueness;
end;
registration
let C101 being non  empty RelStr;
cluster ( ComplRelStr C101 ) -> non  empty;
coherence
proof
L314: (the carrier of ( ComplRelStr C101 )) = (the carrier of C101) by L311;
thus L315: (the carrier of ( ComplRelStr C101 )) is non  empty by L314;
end;
end;
theorem
L317: (for B69 , B70 being RelStr holds (B69 , B70 are_isomorphic  implies ( card (the InternalRel of B69) ) = ( card (the InternalRel of B70) )))
proof
let C102 , C103 being RelStr;
assume L318: C102 , C103 are_isomorphic ;
L319: (ex B71 being (Function of C102 , C103) st B71 is  isomorphic) by L318 , WAYBEL_1:def 8;
per cases  by L319 , WAYBEL_0:def 38;
suppose L320: (C102 is non  empty & C103 is non  empty);

thus L321: thesis by L320 , L318 , L271;
end;
suppose L322: (C102 is  empty & C103 is  empty);

reconsider D40 = C102 , D41 = C103 as  empty RelStr by L322;
L323: ((the InternalRel of D40) = ( {} ) & (the InternalRel of D41) = ( {} ));
thus L324: thesis by L323;
end;
end;
begin
definition
let C104 being Nat;
func Necklace C104 ->  strict RelStr equals 
( SymRelStr ( C104 -SuccRelStr ) );
coherence;
end;
registration
let C105 being Nat;
cluster ( Necklace C105 ) ->  symmetric;
coherence;
end;
theorem
L328: (for R4 being Nat holds (the InternalRel of ( Necklace R4 )) = ( { [ B72 , ( B72 + 1 ) ] where B72 is (Element of ( NAT )) : ( B72 + 1 ) < R4 } \/ { [ ( B73 + 1 ) , B73 ] where B73 is (Element of ( NAT )) : ( B73 + 1 ) < R4 } ))
proof
let R4 being Nat;
set D42 = { [ B74 , ( B74 + 1 ) ] where B74 is (Element of ( NAT )) : ( B74 + 1 ) < R4 };
L329: D42 is  Relation-like
proof
let C106 being set;
assume L330: C106 in D42;
L331: (ex B75 being (Element of ( NAT )) st (C106 = [ B75 , ( B75 + 1 ) ] & ( B75 + 1 ) < R4)) by L330;
thus L332: thesis by L331;
end;
reconsider D43 = D42 as Relation by L329;
set D44 = ( R4 -SuccRelStr );
deffunc H3((Element of ( NAT ))) = $1;
deffunc H4((Element of ( NAT ))) = ( $1 + 1 );
defpred S3[ (Element of ( NAT )) ] means ( $1 + 1 ) < R4;
set D45 = { [ H4(B76) , H3(B76) ] where B76 is (Element of ( NAT )) : S3[ B76 ] };
L333: D43 = { [ H3(B77) , H4(B77) ] where B77 is (Element of ( NAT )) : S3[ B77 ] };
L334: ( D43 ~ ) = D45 from Convers(L333);
L335: (the InternalRel of D44) = D43 by L197;
thus L336: thesis by L335 , L334 , L246;
end;
theorem
L337: (for R4 being Nat holds (for B78 being set holds (B78 in (the InternalRel of ( Necklace R4 )) iff (ex B79 being (Element of ( NAT )) st (( B79 + 1 ) < R4 & (B78 = [ B79 , ( B79 + 1 ) ] or B78 = [ ( B79 + 1 ) , B79 ]))))))
proof
let R4 being Nat;
let C107 being set;
thus L338: (C107 in (the InternalRel of ( Necklace R4 )) implies (ex B80 being (Element of ( NAT )) st (( B80 + 1 ) < R4 & (C107 = [ B80 , ( B80 + 1 ) ] or C107 = [ ( B80 + 1 ) , B80 ]))))
proof
assume L339: C107 in (the InternalRel of ( Necklace R4 ));
L340: C107 in ( { [ B81 , ( B81 + 1 ) ] where B81 is (Element of ( NAT )) : ( B81 + 1 ) < R4 } \/ { [ ( B82 + 1 ) , B82 ] where B82 is (Element of ( NAT )) : ( B82 + 1 ) < R4 } ) by L339 , L328;
L341: (C107 in { [ B83 , ( B83 + 1 ) ] where B83 is (Element of ( NAT )) : ( B83 + 1 ) < R4 } or C107 in { [ ( B84 + 1 ) , B84 ] where B84 is (Element of ( NAT )) : ( B84 + 1 ) < R4 }) by L340 , XBOOLE_0:def 3;
L342: ((ex B85 being (Element of ( NAT )) st (C107 = [ B85 , ( B85 + 1 ) ] & ( B85 + 1 ) < R4)) or (ex B86 being (Element of ( NAT )) st (C107 = [ ( B86 + 1 ) , B86 ] & ( B86 + 1 ) < R4))) by L341;
thus L343: thesis by L342;
end;

thus L344: ((ex B87 being (Element of ( NAT )) st (( B87 + 1 ) < R4 & (C107 = [ B87 , ( B87 + 1 ) ] or C107 = [ ( B87 + 1 ) , B87 ]))) implies C107 in (the InternalRel of ( Necklace R4 )))
proof
given C108 being (Element of ( NAT )) such that
L345: (( C108 + 1 ) < R4 & (C107 = [ C108 , ( C108 + 1 ) ] or C107 = [ ( C108 + 1 ) , C108 ]));

per cases  by L345;
suppose L346: (( C108 + 1 ) < R4 & C107 = [ C108 , ( C108 + 1 ) ]);

L347: C107 in { [ B88 , ( B88 + 1 ) ] where B88 is (Element of ( NAT )) : ( B88 + 1 ) < R4 } by L346;
L348: C107 in ( { [ B89 , ( B89 + 1 ) ] where B89 is (Element of ( NAT )) : ( B89 + 1 ) < R4 } \/ { [ ( B90 + 1 ) , B90 ] where B90 is (Element of ( NAT )) : ( B90 + 1 ) < R4 } ) by L347 , XBOOLE_0:def 3;
thus L349: thesis by L348 , L328;
end;
suppose L350: (( C108 + 1 ) < R4 & C107 = [ ( C108 + 1 ) , C108 ]);

L351: C107 in { [ ( B91 + 1 ) , B91 ] where B91 is (Element of ( NAT )) : ( B91 + 1 ) < R4 } by L350;
L352: C107 in ( { [ ( B92 + 1 ) , B92 ] where B92 is (Element of ( NAT )) : ( B92 + 1 ) < R4 } \/ { [ B93 , ( B93 + 1 ) ] where B93 is (Element of ( NAT )) : ( B93 + 1 ) < R4 } ) by L351 , XBOOLE_0:def 3;
thus L353: thesis by L352 , L328;
end;
end;

end;
registration
let C109 being Nat;
cluster ( Necklace C109 ) ->  irreflexive;
coherence
proof
let C110 being set;
set D46 = ( Necklace C109 );
assume L345: C110 in (the carrier of D46);
L346: (the InternalRel of ( Necklace C109 )) = ( { [ B94 , ( B94 + 1 ) ] where B94 is (Element of ( NAT )) : ( B94 + 1 ) < C109 } \/ { [ ( B95 + 1 ) , B95 ] where B95 is (Element of ( NAT )) : ( B95 + 1 ) < C109 } ) by L328;
assume L347: [ C110 , C110 ] in (the InternalRel of D46);
per cases  by L347 , L346 , XBOOLE_0:def 3;
suppose L348: [ C110 , C110 ] in { [ B96 , ( B96 + 1 ) ] where B96 is (Element of ( NAT )) : ( B96 + 1 ) < C109 };

consider C111 being (Element of ( NAT )) such that L349: [ C110 , C110 ] = [ C111 , ( C111 + 1 ) ] and L350: ( C111 + 1 ) < C109 by L348;
L351: (C110 = C111 & C110 = ( C111 + 1 )) by L349 , XTUPLE_0:1;
thus L352: contradiction by L351;
end;
suppose L353: [ C110 , C110 ] in { [ ( B97 + 1 ) , B97 ] where B97 is (Element of ( NAT )) : ( B97 + 1 ) < C109 };

consider C112 being (Element of ( NAT )) such that L354: [ C110 , C110 ] = [ ( C112 + 1 ) , C112 ] and L355: ( C112 + 1 ) < C109 by L353;
L356: (C110 = ( C112 + 1 ) & C110 = C112) by L354 , XTUPLE_0:1;
thus L357: contradiction by L356;
end;
end;
end;
theorem
L360: (for B98 being Nat holds (the carrier of ( Necklace B98 )) = B98)
proof
let C113 being Nat;
L361: (the carrier of ( Necklace C113 )) = (the carrier of ( C113 -SuccRelStr )) by L246
.= C113 by L197;
thus L362: thesis by L361;
end;
registration
let C114 being non  empty Nat;
cluster ( Necklace C114 ) -> non  empty;
coherence by L360;
end;
registration
let C115 being Nat;
cluster (the carrier of ( Necklace C115 )) ->  finite;
coherence by L360;
end;
theorem
L365: (for B99 , B100 being Nat holds (( B100 + 1 ) < B99 implies [ B100 , ( B100 + 1 ) ] in (the InternalRel of ( Necklace B99 ))))
proof
let C116 , C117 being Nat;
assume that
L366: ( C117 + 1 ) < C116;
reconsider D47 = C117 as (Element of ( NAT )) by ORDINAL1:def 12;
L367: [ D47 , ( D47 + 1 ) ] in { [ B101 , ( B101 + 1 ) ] where B101 is (Element of ( NAT )) : ( B101 + 1 ) < C116 } by L366;
L368: (the InternalRel of ( Necklace C116 )) = ( { [ B102 , ( B102 + 1 ) ] where B102 is (Element of ( NAT )) : ( B102 + 1 ) < C116 } \/ { [ ( B103 + 1 ) , B103 ] where B103 is (Element of ( NAT )) : ( B103 + 1 ) < C116 } ) by L328;
thus L369: thesis by L368 , L367 , XBOOLE_0:def 3;
end;
theorem
L370: (for B104 being Nat holds (for B105 being Nat holds (B105 in (the carrier of ( Necklace B104 )) implies B105 < B104)))
proof
let C118 being Nat;
let C119 being Nat;
assume L371: C119 in (the carrier of ( Necklace C118 ));
L372: C119 in C118 by L371 , L360;
thus L373: thesis by L372 , NAT_1:44;
end;
theorem
L374: (for B106 being non  empty Nat holds ( Necklace B106 ) is  connected)
proof
let C120 being non  empty Nat;
given C121 , C122 being (Subset of ( Necklace C120 )) such that
L375: C121 <> ( {} )
and
L376: C122 <> ( {} )
and
L377: ( [#] ( Necklace C120 ) ) = ( C121 \/ C122 )
and
L378: C121 misses C122
and
L379: (the InternalRel of ( Necklace C120 )) = ( ( (the InternalRel of ( Necklace C120 )) |_2 C121 ) \/ ( (the InternalRel of ( Necklace C120 )) |_2 C122 ) );

L380: ((the carrier of ( Necklace C120 )) = C120 & ( 0 ) in C120) by L9 , L360;
per cases  by L377 , L380 , XBOOLE_0:def 3;
suppose L381: ( 0 ) in C121;

defpred S4[ Nat ] means $1 in C122;
consider C123 being (Element of ( Necklace C120 )) such that L382: C123 in C122 by L376 , SUBSET_1:4;
L383: C123 in (the carrier of ( Necklace C120 ));
L384: C123 in C120 by L383 , L360;
L385: C123 is  natural by L384 , L4;
L386: (ex B107 being Nat st S4[ B107 ]) by L385 , L382;
consider C124 being Nat such that L387: S4[ C124 ] and L388: (for B108 being Nat holds (S4[ B108 ] implies C124 <= B108)) from NAT_1:sch 5(L386);
L389: C124 <> ( 0 ) by L378 , L381 , L387 , XBOOLE_0:3;
consider C125 being Nat such that L390: C124 = ( C125 + 1 ) by L389 , NAT_1:6;
reconsider D48 = C125 as (Element of ( NAT )) by ORDINAL1:def 12;
L391: (not D48 in C122) by L388 , L390 , XREAL_1:29;
L392: (not ( D48 + 1 ) in C121) by L378 , L387 , L390 , XBOOLE_0:3;
L393: [ D48 , ( D48 + 1 ) ] in (the InternalRel of ( Necklace C120 )) by L387 , L390 , L365 , L370;
L394:
now
per cases  by L379 , L393 , XBOOLE_0:def 3;
suppose L395: [ D48 , ( D48 + 1 ) ] in ( (the InternalRel of ( Necklace C120 )) |_2 C121 );

L396: [ D48 , ( D48 + 1 ) ] in [: C121 , C121 :] by L395 , XBOOLE_0:def 4;
thus L397: contradiction by L396 , L392 , ZFMISC_1:87;
end;
suppose L398: [ D48 , ( D48 + 1 ) ] in ( (the InternalRel of ( Necklace C120 )) |_2 C122 );

L399: [ D48 , ( D48 + 1 ) ] in [: C122 , C122 :] by L398 , XBOOLE_0:def 4;
thus L400: contradiction by L399 , L391 , ZFMISC_1:87;
end;
end;
thus L402: contradiction by L394;
end;
suppose L403: ( 0 ) in C122;

defpred S5[ Nat ] means $1 in C121;
consider C126 being (Element of ( Necklace C120 )) such that L404: C126 in C121 by L375 , SUBSET_1:4;
L405: C126 in (the carrier of ( Necklace C120 ));
L406: C126 in C120 by L405 , L360;
L407: C126 is  natural by L406 , L4;
L408: (ex B109 being Nat st S5[ B109 ]) by L407 , L404;
consider C127 being Nat such that L409: S5[ C127 ] and L410: (for B110 being Nat holds (S5[ B110 ] implies C127 <= B110)) from NAT_1:sch 5(L408);
L411: C127 <> ( 0 ) by L378 , L403 , L409 , XBOOLE_0:3;
consider C128 being Nat such that L412: C127 = ( C128 + 1 ) by L411 , NAT_1:6;
reconsider D49 = C128 as (Element of ( NAT )) by ORDINAL1:def 12;
L413: (not D49 in C121) by L410 , L412 , XREAL_1:29;
L414: (not ( D49 + 1 ) in C122) by L378 , L409 , L412 , XBOOLE_0:3;
L415: [ D49 , ( D49 + 1 ) ] in (the InternalRel of ( Necklace C120 )) by L409 , L412 , L365 , L370;
L416:
now
per cases  by L379 , L415 , XBOOLE_0:def 3;
suppose L417: [ D49 , ( D49 + 1 ) ] in ( (the InternalRel of ( Necklace C120 )) |_2 C122 );

L418: [ D49 , ( D49 + 1 ) ] in [: C122 , C122 :] by L417 , XBOOLE_0:def 4;
thus L419: contradiction by L418 , L414 , ZFMISC_1:87;
end;
suppose L420: [ D49 , ( D49 + 1 ) ] in ( (the InternalRel of ( Necklace C120 )) |_2 C121 );

L421: [ D49 , ( D49 + 1 ) ] in [: C121 , C121 :] by L420 , XBOOLE_0:def 4;
thus L422: contradiction by L421 , L413 , ZFMISC_1:87;
end;
end;
thus L424: thesis by L416;
end;
end;
theorem
L426: (for R4 being Nat holds (for B111 , B112 being Nat holds ([ B111 , B112 ] in (the InternalRel of ( Necklace R4 )) implies (B111 = ( B112 + 1 ) or B112 = ( B111 + 1 )))))
proof
let R4 being Nat;
let C129 , C130 being Nat;
assume L427: [ C129 , C130 ] in (the InternalRel of ( Necklace R4 ));
L428: [ C129 , C130 ] in ( { [ B113 , ( B113 + 1 ) ] where B113 is (Element of ( NAT )) : ( B113 + 1 ) < R4 } \/ { [ ( B114 + 1 ) , B114 ] where B114 is (Element of ( NAT )) : ( B114 + 1 ) < R4 } ) by L427 , L328;
L429: ([ C129 , C130 ] in { [ B115 , ( B115 + 1 ) ] where B115 is (Element of ( NAT )) : ( B115 + 1 ) < R4 } or [ C129 , C130 ] in { [ ( B116 + 1 ) , B116 ] where B116 is (Element of ( NAT )) : ( B116 + 1 ) < R4 }) by L428 , XBOOLE_0:def 3;
L430: (( C129 + 1 ) = C130 or ( C130 + 1 ) = C129)
proof
per cases  by L429;
suppose L431: (ex B117 being (Element of ( NAT )) st ([ C129 , C130 ] = [ B117 , ( B117 + 1 ) ] & ( B117 + 1 ) < R4));

consider R3 being Nat such that L432: [ C129 , C130 ] = [ R3 , ( R3 + 1 ) ] and L433: ( R3 + 1 ) < R4 by L431;
L434: C129 = R3 by L432 , XTUPLE_0:1;
thus L435: thesis by L434 , L432 , XTUPLE_0:1;
end;
suppose L436: (ex B118 being (Element of ( NAT )) st ([ C129 , C130 ] = [ ( B118 + 1 ) , B118 ] & ( B118 + 1 ) < R4));

consider R3 being Nat such that L437: [ C129 , C130 ] = [ ( R3 + 1 ) , R3 ] and L438: ( R3 + 1 ) < R4 by L436;
L439: C129 = ( R3 + 1 ) by L437 , XTUPLE_0:1;
thus L440: thesis by L439 , L437 , XTUPLE_0:1;
end;
end;
thus L442: thesis by L430;
end;
theorem
L443: (for R4 being Nat holds (for B119 , B120 being Nat holds (((B119 = ( B120 + 1 ) or B120 = ( B119 + 1 )) & B119 in (the carrier of ( Necklace R4 )) & B120 in (the carrier of ( Necklace R4 ))) implies [ B119 , B120 ] in (the InternalRel of ( Necklace R4 )))))
proof
let R4 being Nat;
let C131 , C132 being Nat;
assume that
L444: (C131 = ( C132 + 1 ) or C132 = ( C131 + 1 ))
and
L445: C131 in (the carrier of ( Necklace R4 ))
and
L446: C132 in (the carrier of ( Necklace R4 ));
per cases  by L444;
suppose L447: C131 = ( C132 + 1 );

L448: [ C132 , ( C132 + 1 ) ] in (the InternalRel of ( Necklace R4 )) by L447 , L445 , L365 , L370;
L449: [ ( C132 + 1 ) , C132 ] in ( (the InternalRel of ( Necklace R4 )) ~ ) by L448 , RELAT_1:def 7;
thus L450: thesis by L449 , L447 , RELAT_2:13;
end;
suppose L451: C132 = ( C131 + 1 );

thus L452: thesis by L451 , L446 , L365 , L370;
end;
end;
theorem
L454: (for R4 being Nat holds (R4 > ( 0 ) implies ( card { [ ( B121 + 1 ) , B121 ] where B121 is (Element of ( NAT )) : ( B121 + 1 ) < R4 } ) = ( R4 - 1 )))
proof
let R4 being Nat;
deffunc H5((Element of ( NAT ))) = [ ( $1 + 1 ) , $1 ];
defpred S6[ (Element of ( NAT )) ] means ( $1 + 1 ) < R4;
defpred S7[ (Element of ( NAT )) ] means $1 in ( R4 -' 1 );
L455: (for B122 , B123 being (Element of ( NAT )) holds (H5(B122) = H5(B123) implies B122 = B123)) by XTUPLE_0:1;
assume L456: R4 > ( 0 );
L457: R4 >= ( ( 0 ) + 1 ) by L456 , NAT_1:13;
L458: (for R1 being Nat holds (R1 in ( R4 -' 1 ) implies ( R1 + 1 ) < R4))
proof
let R1 being Nat;
assume L459: R1 in ( R4 -' 1 );
L460: R1 < ( R4 -' 1 ) by L459 , NAT_1:44;
L461: R4 >= ( ( 0 ) + 1 ) by L456 , NAT_1:13;
L462: R1 < ( R4 - 1 ) by L461 , L460 , XREAL_1:233;
thus L463: thesis by L462 , XREAL_1:20;
end;
L464: (for B124 being (Element of ( NAT )) holds (S6[ B124 ] iff S7[ B124 ]))
proof
let C133 being (Element of ( NAT ));
thus L465: (( C133 + 1 ) < R4 implies C133 in ( R4 -' 1 ))
proof
assume L466: ( C133 + 1 ) < R4;
L467: C133 < ( R4 - 1 ) by L466 , XREAL_1:20;
L468: C133 < ( R4 -' 1 ) by L467 , L457 , XREAL_1:233;
thus L469: thesis by L468 , NAT_1:44;
end;

thus L470: thesis by L458;
end;
L471: { H5(B125) where B125 is (Element of ( NAT )) : S6[ B125 ] } = { H5(B126) where B126 is (Element of ( NAT )) : S7[ B126 ] } from FRAENKEL:sch 3(L464);
L472: ( R4 -' 1 ) c= ( NAT );
L473: ( R4 -' 1 ) , { H5(B127) where B127 is (Element of ( NAT )) : B127 in ( R4 -' 1 ) } are_equipotent  from FUNCT_7:sch 4(L472 , L455);
thus L474: ( card { [ ( B128 + 1 ) , B128 ] where B128 is (Element of ( NAT )) : ( B128 + 1 ) < R4 } ) = ( card ( R4 -' 1 ) ) by L473 , L471 , CARD_1:5
.= ( R4 -' 1 ) by CARD_1:def 2
.= ( R4 - 1 ) by L457 , XREAL_1:233;
end;
theorem
L475: (for R4 being Nat holds (R4 > ( 0 ) implies ( card (the InternalRel of ( Necklace R4 )) ) = ( 2 * ( R4 - 1 ) )))
proof
let R4 being Nat;
deffunc H6((Element of ( NAT ))) = ( $1 + 1 );
deffunc H7((Element of ( NAT ))) = $1;
defpred S8[ (Element of ( NAT )) ] means ( $1 + 1 ) < R4;
set D50 = { [ B129 , ( B129 + 1 ) ] where B129 is (Element of ( NAT )) : ( B129 + 1 ) < R4 };
set D51 = { [ H6(B130) , H7(B130) ] where B130 is (Element of ( NAT )) : S8[ B130 ] };
L476: D50 is  Relation-like
proof
let C134 being set;
assume L477: C134 in D50;
L478: (ex B131 being (Element of ( NAT )) st (C134 = [ B131 , ( B131 + 1 ) ] & ( B131 + 1 ) < R4)) by L477;
thus L479: thesis by L478;
end;
L480: (the InternalRel of ( Necklace R4 )) = ( D50 \/ D51 ) by L328;
assume L481: R4 > ( 0 );
L482: R4 >= ( ( 0 ) + 1 ) by L481 , NAT_1:13;
L483: ( R4 -' 1 ) = ( R4 - 1 ) by L482 , XREAL_1:233;
L484: D50 = (the InternalRel of ( R4 -SuccRelStr )) by L197;
L485: ( card D50 ) = ( R4 - 1 ) by L484 , L481 , L225;
reconsider D52 = D50 as Relation by L476;
L486: D52 = { [ H7(B132) , H6(B132) ] where B132 is (Element of ( NAT )) : S8[ B132 ] };
L487: ( D52 ~ ) = D51 from Convers(L486);
L488: D52 misses D51
proof
assume L489: D52 meets D51;
consider C135 being set such that L490: C135 in D52 and L491: C135 in D51 by L489 , XBOOLE_0:3;
consider C136 , C137 being set such that L492: C135 = [ C136 , C137 ] by L490 , RELAT_1:def 1;
L493: [ C137 , C136 ] in D52 by L487 , L491 , L492 , RELAT_1:def 7;
consider C138 being (Element of ( NAT )) such that L494: [ C137 , C136 ] = [ C138 , ( C138 + 1 ) ] and L495: ( C138 + 1 ) < R4 by L493;
L496: (C137 = C138 & C136 = ( C138 + 1 )) by L494 , XTUPLE_0:1;
consider C139 being (Element of ( NAT )) such that L497: [ C136 , C137 ] = [ C139 , ( C139 + 1 ) ] and L498: ( C139 + 1 ) < R4 by L490 , L492;
L499: (C136 = C139 & C137 = ( C139 + 1 )) by L497 , XTUPLE_0:1;
thus L500: contradiction by L499 , L496;
end;
L501: ( card D51 ) = ( R4 - 1 ) by L481 , L454;
L502: ( card (the InternalRel of ( Necklace R4 )) ) = ( ( card ( R4 - 1 ) ) +` ( card ( R4 - 1 ) ) ) by L501 , L480 , L485 , L488 , CARD_2:35
.= ( card ( ( R4 -' 1 ) + ( R4 -' 1 ) ) ) by L483 , CARD_2:38
.= ( 2 * ( R4 - 1 ) ) by L483 , CARD_1:def 2;
thus L503: thesis by L502;
end;
theorem
L504: ( Necklace 1 ) , ( ComplRelStr ( Necklace 1 ) ) are_isomorphic 
proof
set D53 = ( ( 0 ) .--> ( 0 ) );
set D54 = ( Necklace 1 );
set D55 = ( ComplRelStr D54 );
L505: (the carrier of D54) = (the carrier of D55) by L311;
L506: (the carrier of D54) = { ( 0 ) } by L360 , CARD_1:49;
reconsider D56 = D53 as (Function of D54 , D55) by L506 , L311;
L507: ( rng D56 ) = { ( 0 ) } by FUNCOP_1:8;
L508: ( dom D56 ) = { ( 0 ) } by FUNCOP_1:13;
L509: (for B133 , B134 being set holds ((B133 in ( rng D56 ) & B134 = ( D56 . B133 )) iff (B134 in ( dom D56 ) & B133 = ( D56 . B134 ))))
proof
let C140 , C141 being set;
L510: ((C140 in ( dom D56 ) & C141 = ( D56 . C140 )) implies (C141 in ( rng D56 ) & C140 = ( D56 . C141 )))
proof
assume that
L511: C140 in ( dom D56 )
and
L512: C141 = ( D56 . C140 );
L513: (the carrier of D54) = { ( 0 ) } by L360 , CARD_1:49;
L514: C140 = ( 0 ) by L513 , L511 , TARSKI:def 1;
L515: C141 = ( 0 ) by L514 , L512 , FUNCOP_1:72;
thus L516: thesis by L515 , L507 , L514 , FUNCOP_1:72 , TARSKI:def 1;
end;
L517: ((C141 in ( rng D56 ) & C140 = ( D56 . C141 )) implies (C140 in ( dom D56 ) & C141 = ( D56 . C140 )))
proof
assume that
L518: C141 in ( rng D56 )
and
L519: C140 = ( D56 . C141 );
L520: C141 = ( 0 ) by L507 , L518 , TARSKI:def 1;
L521: C140 = ( 0 ) by L520 , L519 , FUNCOP_1:72;
thus L522: thesis by L521 , L508 , L520 , FUNCOP_1:72 , TARSKI:def 1;
end;
thus L523: thesis by L517 , L507 , L510 , FUNCOP_1:13;
end;
reconsider D57 = ( D56 " ) as (Function of D55 , D54) by L509 , L505 , L508 , L507 , FUNCT_1:32;
L524: D57 is  monotone
proof
let C142 , C143 being (Element of D55);
assume L525: C142 <= C143;
L526: [ C142 , C143 ] in (the InternalRel of D55) by L525 , ORDERS_2:def 5;
L527: [ C142 , C143 ] in ( ( (the InternalRel of D54) ` ) \ ( id (the carrier of D54) ) ) by L526 , L311;
L528: (not [ C142 , C143 ] in ( id (the carrier of D54) )) by L527 , XBOOLE_0:def 5;
L529: ((not C142 in (the carrier of D54)) or C142 <> C143) by L528 , RELAT_1:def 10;
let C144 , C145 being (Element of D54);
assume that
L530: C144 = ( D57 . C142 )
and
L531: C145 = ( D57 . C143 );
L532: C142 in (the carrier of D55);
L533: (the carrier of D55) = 1 by L505 , L360;
reconsider D58 = C142 , D59 = C143 as Nat by L533 , L4;
L534: D59 = ( 0 ) by L533 , CARD_1:49 , TARSKI:def 1;
L535: D58 = ( 0 ) by L533 , CARD_1:49 , TARSKI:def 1;
L536: (( D58 + 1 ) <> D59 & ( D59 + 1 ) <> D58 & D58 <> D59)
proof
thus L537:now
assume L538: (( D58 + 1 ) = D59 or ( D59 + 1 ) = D58);
per cases  by L538;
suppose L539: ( D58 + 1 ) = D59;

thus L540: contradiction by L539 , L533 , L535 , NAT_1:44;
end;
suppose L541: ( D59 + 1 ) = D58;

thus L542: contradiction by L541 , L533 , L534 , NAT_1:44;
end;
end;
thus L544: thesis by L529 , L532 , L311;
end;
L545: C143 = ( 0 ) by L533 , CARD_1:49 , TARSKI:def 1;
L546: (the carrier of D55) = { ( 0 ) } by L505 , L360 , CARD_1:49;
thus L547: thesis by L546 , L536 , L545 , TARSKI:def 1;
end;
L548: D56 is  monotone
proof
let C146 , C147 being (Element of D54);
assume L549: C146 <= C147;
L550: [ C146 , C147 ] in (the InternalRel of D54) by L549 , ORDERS_2:def 5;
L551: (the carrier of D54) = 1 by L360;
reconsider D60 = C146 , D61 = C147 as Nat by L551 , L4;
let C148 , C149 being (Element of D55);
assume that
L552: C148 = ( D56 . C146 )
and
L553: C149 = ( D56 . C147 );
L554: (the carrier of D54) = { ( 0 ) } by L360 , CARD_1:49;
L555: (C146 = ( 0 ) & C147 = ( 0 )) by L554 , TARSKI:def 1;
L556: (D60 = ( D61 + 1 ) or D61 = ( D60 + 1 )) by L550 , L426;
thus L557: thesis by L556 , L555;
end;
L558: D56 is  isomorphic by L548 , L524 , WAYBEL_0:def 38;
thus L559: thesis by L558 , WAYBEL_1:def 8;
end;
theorem
L560: ( Necklace 4 ) , ( ComplRelStr ( Necklace 4 ) ) are_isomorphic 
proof
set D62 = ( (( 0 ) , 1) --> (1 , 3) );
set D63 = ( (2 , 3) --> (( 0 ) , 2) );
set D64 = ( D62 +* D63 );
set D65 = ( Necklace 4 );
set D66 = ( ComplRelStr ( Necklace 4 ) );
L561: ( rng D63 ) = { ( 0 ) , 2 } by FUNCT_4:64;
L562: ( rng D62 ) = { 1 , 3 } by FUNCT_4:64;
L563: ( rng D64 ) c= (the carrier of D66)
proof
let C150 being set;
assume L564: C150 in ( rng D64 );
L565: ( rng D64 ) c= ( ( rng D62 ) \/ ( rng D63 ) ) by FUNCT_4:17;
L566: ( ( rng D62 ) \/ ( rng D63 ) ) = { 1 , 3 , ( 0 ) , 2 } by L562 , L561 , ENUMSET1:5
.= { ( 0 ) , 1 , 2 , 3 } by ENUMSET1:69;
L567: C150 in 4 by L566 , L564 , L565 , CARD_1:52;
L568: C150 in (the carrier of D65) by L567 , L360;
thus L569: thesis by L568 , L311;
end;
L570: ( dom D64 ) = ( ( dom ( (( 0 ) , 1) --> (1 , 3) ) ) \/ ( dom ( (2 , 3) --> (( 0 ) , 2) ) ) ) by FUNCT_4:def 1
.= ( { ( 0 ) , 1 } \/ ( dom ( (2 , 3) --> (( 0 ) , 2) ) ) ) by FUNCT_4:62
.= ( { ( 0 ) , 1 } \/ { 2 , 3 } ) by FUNCT_4:62
.= { ( 0 ) , 1 , 2 , 3 } by ENUMSET1:5;
L571: ( dom D64 ) = (the carrier of D65) by L570 , L360 , CARD_1:52;
reconsider D67 = D64 as (Function of D65 , D66) by L571 , L563 , FUNCT_2:def 1 , RELSET_1:4;
take D67;
per cases ;
case that L572: D65 is non  empty
and
L573: D66 is non  empty;
set D68 = (the InternalRel of D66);
L574: ( rng ( ( 0 ) .--> 1 ) ) misses ( rng ( 1 .--> 3 ) )
proof
assume L575: ( rng ( ( 0 ) .--> 1 ) ) meets ( rng ( 1 .--> 3 ) );
consider C151 being set such that L576: C151 in ( rng ( ( 0 ) .--> 1 ) ) and L577: C151 in ( rng ( 1 .--> 3 ) ) by L575 , XBOOLE_0:3;
L578: ( rng ( ( 0 ) .--> 1 ) ) = { 1 } by FUNCOP_1:8;
L579: (( rng ( 1 .--> 3 ) ) = { 3 } & C151 = 1) by L578 , L576 , FUNCOP_1:8 , TARSKI:def 1;
thus L580: contradiction by L579 , L577 , TARSKI:def 1;
end;
L581: ( rng D62 ) misses ( rng D63 )
proof
assume L582: ( rng D62 ) meets ( rng D63 );
consider C152 being set such that L583: C152 in ( rng D62 ) and L584: C152 in ( rng D63 ) by L582 , XBOOLE_0:3;
L585: (C152 = 1 or C152 = 3) by L562 , L583 , TARSKI:def 2;
thus L586: contradiction by L585 , L561 , L584 , TARSKI:def 2;
end;
set D69 = { [ 1 , 3 ] , [ 3 , 1 ] , [ ( 0 ) , 2 ] , [ 2 , ( 0 ) ] , [ ( 0 ) , 3 ] , [ 3 , ( 0 ) ] };
L587: ( rng ( 2 .--> ( 0 ) ) ) misses ( rng ( 3 .--> 2 ) )
proof
assume L588: ( rng ( 2 .--> ( 0 ) ) ) meets ( rng ( 3 .--> 2 ) );
consider C153 being set such that L589: C153 in ( rng ( 2 .--> ( 0 ) ) ) and L590: C153 in ( rng ( 3 .--> 2 ) ) by L588 , XBOOLE_0:3;
L591: ( rng ( 2 .--> ( 0 ) ) ) = { ( 0 ) } by FUNCOP_1:8;
L592: (( rng ( 3 .--> 2 ) ) = { 2 } & C153 = ( 0 )) by L591 , L589 , FUNCOP_1:8 , TARSKI:def 1;
thus L593: contradiction by L592 , L590 , TARSKI:def 1;
end;
L594: D63 = ( ( 2 .--> ( 0 ) ) +* ( 3 .--> 2 ) ) by FUNCT_4:def 4;
L595: D63 is  one-to-one by L594 , L587 , FUNCT_4:92;
L596: ( dom D62 ) misses ( dom D63 )
proof
assume L597: ( dom D62 ) meets ( dom D63 );
consider C154 being set such that L598: C154 in ( dom D62 ) and L599: C154 in ( dom D63 ) by L597 , XBOOLE_0:3;
L600: (C154 = ( 0 ) or C154 = 1) by L598 , TARSKI:def 2;
thus L601: contradiction by L600 , L599 , TARSKI:def 2;
end;
L602: ( rng D67 ) = ( ( rng D62 ) \/ ( rng D63 ) ) by L596 , FRECHET:35 , PARTFUN1:56
.= { 1 , 3 , ( 0 ) , 2 } by L562 , L561 , ENUMSET1:5
.= { ( 0 ) , 1 , 2 , 3 } by ENUMSET1:69
.= (the carrier of D65) by L360 , CARD_1:52
.= (the carrier of D66) by L311;
L603: D62 = ( ( ( 0 ) .--> 1 ) +* ( 1 .--> 3 ) ) by FUNCT_4:def 4;
L604: D62 is  one-to-one by L603 , L574 , FUNCT_4:92;
thus L605: D67 is  one-to-one by L604 , L595 , L581 , FUNCT_4:92;
reconsider D70 = ( D67 " ) as (Function of D66 , D65) by L605 , L602 , FUNCT_2:25;
L606: D69 c= D68
proof
set D71 = (the carrier of D65);
let C155 being set;
assume L607: C155 in D69;
L608: (C155 = [ 1 , 3 ] or C155 = [ 3 , 1 ] or C155 = [ ( 0 ) , 2 ] or C155 = [ 2 , ( 0 ) ] or C155 = [ ( 0 ) , 3 ] or C155 = [ 3 , ( 0 ) ]) by L607 , ENUMSET1:def 4;
L609: (2 in D71 & 3 in D71) by L570 , L571 , ENUMSET1:def 2;
L610: (( 0 ) in D71 & 1 in D71) by L570 , L571 , ENUMSET1:def 2;
reconsider D72 = C155 as (Element of [: D71 , D71 :]) by L610 , L608 , L609 , ZFMISC_1:87;
L611: (not D72 in (the InternalRel of D65))
proof
assume L612: D72 in (the InternalRel of D65);
consider C156 being (Element of ( NAT )) such that L613: ( C156 + 1 ) < 4 and L614: (D72 = [ C156 , ( C156 + 1 ) ] or D72 = [ ( C156 + 1 ) , C156 ]) by L612 , L337;
L615: ((C156 = 1 & ( C156 + 1 ) = 3) or (C156 = 3 & ( C156 + 1 ) = 1) or (C156 = ( 0 ) & ( C156 + 1 ) = 2) or (C156 = 2 & ( C156 + 1 ) = ( 0 )) or (C156 = ( 0 ) & ( C156 + 1 ) = 3) or (C156 = 3 & ( C156 + 1 ) = ( 0 ))) by L608 , L614 , XTUPLE_0:1;
thus L616: contradiction by L615;
end;
L617: D72 in ( (the InternalRel of D65) ` ) by L611 , SUBSET_1:29;
L618: (not C155 in ( id (the carrier of D65) )) by L608 , RELAT_1:def 10;
L619: C155 in ( ( (the InternalRel of D65) ` ) \ ( id (the carrier of D65) ) ) by L618 , L617 , XBOOLE_0:def 5;
thus L620: thesis by L619 , L311;
end;
thus L621: D67 is  monotone
proof
L622: ( dom D63 ) = { 2 , 3 } by FUNCT_4:62;
L623: 2 in ( dom D63 ) by L622 , TARSKI:def 2;
L624: ( D67 . 2 ) = ( D63 . 2 ) by L623 , FUNCT_4:13
.= ( 0 ) by FUNCT_4:63;
L625: 3 in ( dom D63 ) by L622 , TARSKI:def 2;
L626: ( D67 . 3 ) = ( D63 . 3 ) by L625 , FUNCT_4:13
.= 2 by FUNCT_4:63;
L627: ( dom D62 ) = { ( 0 ) , 1 } by FUNCT_4:62;
L628: ( 0 ) in ( dom D62 ) by L627 , TARSKI:def 2;
L629: ( D67 . ( 0 ) ) = ( D62 . ( 0 ) ) by L628 , L596 , FUNCT_4:16
.= 1 by FUNCT_4:63;
L630: 1 in ( dom D62 ) by L627 , TARSKI:def 2;
L631: ( D67 . 1 ) = ( D62 . 1 ) by L630 , L596 , FUNCT_4:16
.= 3 by FUNCT_4:63;
let C157 , C158 being (Element of D65);
assume L632: C157 <= C158;
L633: [ C157 , C158 ] in (the InternalRel of D65) by L632 , ORDERS_2:def 5;
L634: (the carrier of D65) = 4 by L360;
reconsider D73 = C157 , D74 = C158 as Nat by L634 , L4;
L635: (D73 = ( D74 + 1 ) or D74 = ( D73 + 1 )) by L633 , L426;
let C159 , C160 being (Element of D66);
assume that
L636: (C159 = ( D67 . C157 ) & C160 = ( D67 . C158 ));
per cases  by L570 , L571 , ENUMSET1:def 2;
suppose L637: (C157 = ( 0 ) & C158 = ( 0 ));

thus L638: thesis by L637 , L635;
end;
suppose L639: (C157 = ( 0 ) & C158 = 1);

L640: [ C159 , C160 ] in D69 by L639 , L636 , L629 , L631 , ENUMSET1:def 4;
thus L641: thesis by L640 , L606 , ORDERS_2:def 5;
end;
suppose L642: (C157 = ( 0 ) & C158 = 2);

thus L643: thesis by L642 , L635;
end;
suppose L644: (C157 = ( 0 ) & C158 = 3);

thus L645: thesis by L644 , L635;
end;
suppose L646: (C157 = 1 & C158 = ( 0 ));

L647: [ C159 , C160 ] in D69 by L646 , L636 , L629 , L631 , ENUMSET1:def 4;
thus L648: thesis by L647 , L606 , ORDERS_2:def 5;
end;
suppose L649: (C157 = 1 & C158 = 1);

thus L650: thesis by L649 , L635;
end;
suppose L651: (C157 = 1 & C158 = 2);

L652: [ C159 , C160 ] in D69 by L651 , L636 , L631 , L624 , ENUMSET1:def 4;
thus L653: thesis by L652 , L606 , ORDERS_2:def 5;
end;
suppose L654: (C157 = 1 & C158 = 3);

thus L655: thesis by L654 , L635;
end;
suppose L656: (C157 = 2 & C158 = ( 0 ));

thus L657: thesis by L656 , L635;
end;
suppose L658: (C157 = 2 & C158 = 1);

L659: [ C159 , C160 ] in D69 by L658 , L636 , L631 , L624 , ENUMSET1:def 4;
thus L660: thesis by L659 , L606 , ORDERS_2:def 5;
end;
suppose L661: (C157 = 2 & C158 = 2);

thus L662: thesis by L661 , L635;
end;
suppose L663: (C157 = 2 & C158 = 3);

L664: [ C159 , C160 ] in D69 by L663 , L636 , L624 , L626 , ENUMSET1:def 4;
thus L665: thesis by L664 , L606 , ORDERS_2:def 5;
end;
suppose L666: (C157 = 3 & C158 = ( 0 ));

thus L667: thesis by L666 , L635;
end;
suppose L668: (C157 = 3 & C158 = 1);

thus L669: thesis by L668 , L635;
end;
suppose L670: (C157 = 3 & C158 = 2);

L671: [ C159 , C160 ] in D69 by L670 , L636 , L624 , L626 , ENUMSET1:def 4;
thus L672: thesis by L671 , L606 , ORDERS_2:def 5;
end;
suppose L673: (C157 = 3 & C158 = 3);

thus L674: thesis by L673 , L635;
end;
end;

take D70;
thus L676: D70 = ( D67 " );
thus L677: D70 is  monotone
proof
let C161 , C162 being (Element of D66);
assume L678: C161 <= C162;
L679: [ C161 , C162 ] in (the InternalRel of D66) by L678 , ORDERS_2:def 5;
L680: [ C161 , C162 ] in ( ( (the InternalRel of D65) ` ) \ ( id (the carrier of D65) ) ) by L679 , L311;
L681: (not [ C161 , C162 ] in ( id (the carrier of D65) )) by L680 , XBOOLE_0:def 5;
L682: ((not C161 in (the carrier of D65)) or C161 <> C162) by L681 , RELAT_1:def 10;
L683: ([ C161 , C162 ] in ( (the InternalRel of D65) ` ) implies (not [ C161 , C162 ] in (the InternalRel of D65))) by XBOOLE_0:def 5;
L684: (not [ C161 , C162 ] in ( { [ B135 , ( B135 + 1 ) ] where B135 is (Element of ( NAT )) : ( B135 + 1 ) < 4 } \/ { [ ( B136 + 1 ) , B136 ] where B136 is (Element of ( NAT )) : ( B136 + 1 ) < 4 } )) by L683 , L680 , L328 , XBOOLE_0:def 5;
L685: (not [ C161 , C162 ] in { [ ( B137 + 1 ) , B137 ] where B137 is (Element of ( NAT )) : ( B137 + 1 ) < 4 }) by L684 , XBOOLE_0:def 3;
L686: (the carrier of D66) = (the carrier of D65) by L311
.= 4 by L360;
L687: (C161 is  natural & C162 is  natural) by L686 , L4;
reconsider D75 = C161 , D76 = C162 as (Element of ( NAT )) by L687 , ORDINAL1:def 12;
L688: C161 in (the carrier of D66);
L689: (not [ C161 , C162 ] in { [ B138 , ( B138 + 1 ) ] where B138 is (Element of ( NAT )) : ( B138 + 1 ) < 4 }) by L684 , XBOOLE_0:def 3;
L690: (( D75 + 1 ) <> D76 & ( D76 + 1 ) <> D75 & D75 <> D76)
proof
thus L691:now
assume L692: (( D75 + 1 ) = D76 or ( D76 + 1 ) = D75);
per cases  by L692;
suppose L693: ( D75 + 1 ) = D76;

L694: ( D75 + 1 ) < 4 by L693 , L686 , NAT_1:44;
thus L695: contradiction by L694 , L689 , L693;
end;
suppose L696: ( D76 + 1 ) = D75;

L697: ( D76 + 1 ) < 4 by L696 , L686 , NAT_1:44;
thus L698: contradiction by L697 , L685 , L696;
end;
end;
thus L700: thesis by L682 , L688 , L311;
end;
L701: ( D63 " ) = ( (( 0 ) , 2) --> (2 , 3) ) by L82;
L702: ( dom ( D63 " ) ) = { ( 0 ) , 2 } by L701 , FUNCT_4:62;
L703: ( 0 ) in ( dom ( D63 " ) ) by L702 , TARSKI:def 2;
L704: ( D70 . ( 0 ) ) = ( ( ( D62 " ) +* ( D63 " ) ) . ( 0 ) ) by L604 , L595 , L596 , L581 , L29
.= ( ( D63 " ) . ( 0 ) ) by L703 , FUNCT_4:13
.= 2 by L701 , FUNCT_4:63;
L705: ( D62 " ) = ( (1 , 3) --> (( 0 ) , 1) ) by L82;
L706: ( dom ( D62 " ) ) = { 1 , 3 } by L705 , FUNCT_4:62;
L707: 1 in ( dom ( D62 " ) ) by L706 , TARSKI:def 2;
L708: ( dom ( D62 " ) ) misses ( dom ( D63 " ) )
proof
assume L709: ( dom ( D62 " ) ) meets ( dom ( D63 " ) );
consider C163 being set such that L710: C163 in ( dom ( D62 " ) ) and L711: C163 in ( dom ( D63 " ) ) by L709 , XBOOLE_0:3;
L712: (C163 = 1 or C163 = 3) by L706 , L710 , TARSKI:def 2;
thus L713: contradiction by L712 , L702 , L711 , TARSKI:def 2;
end;
L714: ( D70 . 1 ) = ( ( ( D62 " ) +* ( D63 " ) ) . 1 ) by L604 , L595 , L596 , L581 , L29
.= ( ( D62 " ) . 1 ) by L708 , L707 , FUNCT_4:16
.= ( 0 ) by L705 , FUNCT_4:63;
L715: 2 in ( dom ( D63 " ) ) by L702 , TARSKI:def 2;
L716: ( D70 . 2 ) = ( ( ( D62 " ) +* ( D63 " ) ) . 2 ) by L604 , L595 , L596 , L581 , L29
.= ( ( D63 " ) . 2 ) by L715 , FUNCT_4:13
.= 3 by L701 , FUNCT_4:63;
L717: 3 in ( dom ( D62 " ) ) by L706 , TARSKI:def 2;
L718: ( D70 . 3 ) = ( ( ( D62 " ) +* ( D63 " ) ) . 3 ) by L604 , L595 , L596 , L581 , L29
.= ( ( D62 " ) . 3 ) by L708 , L717 , FUNCT_4:16
.= 1 by L705 , FUNCT_4:63;
let C164 , C165 being (Element of D65);
assume that
L719: C164 = ( D70 . C161 )
and
L720: C165 = ( D70 . C162 );
per cases  by L686 , CARD_1:52 , ENUMSET1:def 2;
suppose L721: (C161 = ( 0 ) & C162 = ( 0 ));

thus L722: thesis by L721 , L690;
end;
suppose L723: (C161 = ( 0 ) & C162 = 1);

thus L724: thesis by L723 , L690;
end;
suppose L725: (C161 = ( 0 ) & C162 = 2);

L726: C165 = ( 2 + 1 ) by L725 , L720 , L716;
L727: [ C164 , C165 ] in (the InternalRel of D65) by L726 , L719 , L704 , L725 , L443;
thus L728: thesis by L727 , ORDERS_2:def 5;
end;
suppose L729: (C161 = ( 0 ) & C162 = 3);

L730: C164 = ( 1 + 1 ) by L729 , L719 , L704;
L731: [ C164 , C165 ] in (the InternalRel of D65) by L730 , L720 , L718 , L729 , L443;
thus L732: thesis by L731 , ORDERS_2:def 5;
end;
suppose L733: (C161 = 1 & C162 = ( 0 ));

thus L734: thesis by L733 , L690;
end;
suppose L735: (C161 = 1 & C162 = 1);

thus L736: thesis by L735 , L690;
end;
suppose L737: (C161 = 1 & C162 = 2);

thus L738: thesis by L737 , L690;
end;
suppose L739: (C161 = 1 & C162 = 3);

L740: C165 = ( ( 0 ) + 1 ) by L739 , L720 , L718;
L741: [ C164 , C165 ] in (the InternalRel of D65) by L740 , L719 , L714 , L739 , L443;
thus L742: thesis by L741 , ORDERS_2:def 5;
end;
suppose L743: (C161 = 2 & C162 = ( 0 ));

L744: C164 = ( 2 + 1 ) by L743 , L719 , L716;
L745: [ C164 , C165 ] in (the InternalRel of D65) by L744 , L720 , L704 , L743 , L443;
thus L746: thesis by L745 , ORDERS_2:def 5;
end;
suppose L747: (C161 = 2 & C162 = 1);

thus L748: thesis by L747 , L690;
end;
suppose L749: (C161 = 2 & C162 = 2);

thus L750: thesis by L749 , L690;
end;
suppose L751: (C161 = 2 & C162 = 3);

thus L752: thesis by L751 , L690;
end;
suppose L753: (C161 = 3 & C162 = ( 0 ));

L754: C165 = ( 1 + 1 ) by L753 , L720 , L704;
L755: [ C164 , C165 ] in (the InternalRel of D65) by L754 , L719 , L718 , L753 , L443;
thus L756: thesis by L755 , ORDERS_2:def 5;
end;
suppose L757: (C161 = 3 & C162 = 1);

L758: C164 = ( ( 0 ) + 1 ) by L757 , L719 , L718;
L759: [ C164 , C165 ] in (the InternalRel of D65) by L758 , L720 , L714 , L757 , L443;
thus L760: thesis by L759 , ORDERS_2:def 5;
end;
suppose L761: (C161 = 3 & C162 = 2);

thus L762: thesis by L761 , L690;
end;
suppose L763: (C161 = 3 & C162 = 3);

thus L764: thesis by L763 , L690;
end;
end;

end;
case L678: (D65 is  empty or D66 is  empty);
thus L679: thesis by L678;
end;
end;
theorem
L681: (for R4 being Nat holds (( Necklace R4 ) , ( ComplRelStr ( Necklace R4 ) ) are_isomorphic  implies (R4 = ( 0 ) or R4 = 1 or R4 = 4)))
proof
let R4 being Nat;
assume L682: ( Necklace R4 ) , ( ComplRelStr ( Necklace R4 ) ) are_isomorphic ;
set D77 = ( Necklace R4 );
set D78 = ( ComplRelStr D77 );
L683: ( card R4 ) = R4 by CARD_1:def 2;
L684: ( card [: R4 , R4 :] ) = ( R4 * R4 ) by L683 , CARD_2:46;
assume L685: (not thesis);
L686: (R4 = 2 or R4 = 3 or R4 > 4) by L685 , NAT_1:28;
L687: ( card (the InternalRel of D77) ) = ( 2 * ( R4 - 1 ) ) by L686 , L475;
L688: ( ( ( R4 * R4 ) - ( 2 * ( R4 - 1 ) ) ) - R4 ) <> ( 2 * ( R4 - 1 ) )
proof
L689: ( delta (1 , ( - 5 ) , 4) ) = ( ( ( - 5 ) ^2 ) - ( ( 4 * 1 ) * 4 ) ) by QUIN_1:def 1
.= 9;
assume L690: (not thesis);
L691: ( ( ( 1 * ( R4 ^2 ) ) + ( ( - 5 ) * R4 ) ) + 4 ) = ( 0 ) by L690;
L692: (R4 = ( ( ( - ( - 5 ) ) - ( sqrt ( delta (1 , ( - 5 ) , 4) ) ) ) / ( 2 * 1 ) ) or R4 = ( ( ( - ( - 5 ) ) + ( sqrt ( delta (1 , ( - 5 ) , 4) ) ) ) / ( 2 * 1 ) )) by L691 , L689 , QUIN_1:15;
L693: (R4 = ( ( 5 - ( sqrt ( 3 ^2 ) ) ) / 2 ) or R4 = ( ( 5 + ( sqrt ( 3 ^2 ) ) ) / 2 )) by L692 , L689;
L694: (R4 = ( ( 5 - 3 ) / 2 ) or R4 = ( ( 5 + 3 ) / 2 )) by L693 , SQUARE_1:22;
per cases  by L694;
suppose L695: R4 = 1;

thus L696: contradiction by L695 , L685;
end;
suppose L697: R4 = 4;

thus L698: contradiction by L697 , L685;
end;
end;
L700: ( id (the carrier of D77) ) misses (the InternalRel of D77)
proof
assume L701: (not thesis);
consider C166 being set such that L702: C166 in ( id (the carrier of D77) ) and L703: C166 in (the InternalRel of D77) by L701 , XBOOLE_0:3;
consider C167 being (Element of ( NAT )) such that L704: ( C167 + 1 ) < R4 and L705: (C166 = [ C167 , ( C167 + 1 ) ] or C166 = [ ( C167 + 1 ) , C167 ]) by L703 , L337;
consider C168 , C169 being set such that L706: C166 = [ C168 , C169 ] by L702 , RELAT_1:def 1;
L707: C168 = C169 by L702 , L706 , RELAT_1:def 10;
per cases  by L706 , L705;
suppose L708: [ C168 , C169 ] = [ C167 , ( C167 + 1 ) ];

L709: (C168 = C167 & C169 = ( C167 + 1 )) by L708 , XTUPLE_0:1;
thus L710: thesis by L709 , L707;
end;
suppose L711: [ C168 , C169 ] = [ ( C167 + 1 ) , C167 ];

L712: (C168 = ( C167 + 1 ) & C169 = C167) by L711 , XTUPLE_0:1;
thus L713: thesis by L712 , L707;
end;
end;
L715: (the carrier of D77) = R4 by L360;
L716: ( card ( (the InternalRel of D77) ` ) ) = ( ( R4 * R4 ) - ( 2 * ( R4 - 1 ) ) ) by L715 , L687 , L684 , CARD_2:44;
L717: ((the carrier of D77) = R4 & R4 = ( card R4 )) by L360 , CARD_1:def 2;
L718: ( card ( id (the carrier of D77) ) ) = R4 by L717 , L17;
L719: ( card (the InternalRel of D78) ) = ( card ( ( (the InternalRel of D77) ` ) \ ( id (the carrier of D77) ) ) ) by L311
.= ( ( ( R4 * R4 ) - ( 2 * ( R4 - 1 ) ) ) - R4 ) by L716 , L718 , L700 , CARD_2:44 , XBOOLE_1:86;
thus L720: thesis by L719 , L682 , L687 , L688 , L317;
end;
