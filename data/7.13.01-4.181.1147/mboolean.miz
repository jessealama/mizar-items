:: Definitions and Basic Properties of Boolean & Union of Many
:: Sorted Sets
::  by Artur Korni{\l}owicz
::
:: Received April 27, 1995
:: Copyright (c) 1995-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies PBOOLE, ZFMISC_1, FUNCT_1, RELAT_1, XBOOLE_0, FUNCT_4, FUNCOP_1,
      TARSKI, FUNCT_2, FINSET_1;
 notations TARSKI, XBOOLE_0, ZFMISC_1, RELAT_1, FUNCT_1, FUNCT_2, FINSET_1,
      FUNCT_4, FUNCOP_1, PBOOLE;
 constructors FUNCT_4, PBOOLE, FINSET_1, RELSET_1;
 registrations XBOOLE_0, SUBSET_1, FUNCOP_1, PRE_CIRC;
 requirements SUBSET, BOOLE;
 definitions PBOOLE, FUNCOP_1;
 theorems CARD_2, SETFAM_1, FUNCOP_1, FRAENKEL, FUNCT_4, PBOOLE, FINSET_1,
      TARSKI, ZFMISC_1, XBOOLE_0, XBOOLE_1, PARTFUN1, RELAT_1, FUNCT_1;
 schemes PBOOLE;

begin
definition
let R3 being set;
let R4 being (ManySortedSet of R3);
func bool R4 -> (ManySortedSet of R3) means 
:L1: (for B1 being set holds (B1 in R3 implies ( it . B1 ) = ( bool ( R4 . B1 ) )));
existence
proof
deffunc H1(set) = ( bool ( R4 . $1 ) );
thus L2: (ex B2 being (ManySortedSet of R3) st (for B3 being set holds (B3 in R3 implies ( B2 . B3 ) = H1(B3)))) from PBOOLE:sch 4;
end;
uniqueness
proof
let C1 , C2 being (ManySortedSet of R3);
assume that
L3: (for B4 being set holds (B4 in R3 implies ( C1 . B4 ) = ( bool ( R4 . B4 ) )))
and
L4: (for B5 being set holds (B5 in R3 implies ( C2 . B5 ) = ( bool ( R4 . B5 ) )));
L5:
now
let C3 being set;
assume L6: C3 in R3;
thus L7: ( C1 . C3 ) = ( bool ( R4 . C3 ) ) by L6 , L3
.= ( C2 . C3 ) by L4 , L6;
end;
thus L8: C1 = C2 by L5 , PBOOLE:3;
end;
end;
registration
let R3 being set;
let R4 being (ManySortedSet of R3);
cluster ( bool R4 ) ->  non-empty;
coherence
proof
let C4 being set;
assume that
L10: C4 in R3;
L11: ( bool ( R4 . C4 ) ) is non  empty;
thus L12: thesis by L11 , L10 , L1;
end;
end;
L14: (for B6 , B7 , B8 being set holds (for B9 being (ManySortedSet of B7) holds (B6 in B7 implies ( dom ( B9 +* ( B6 .--> B8 ) ) ) = B7)))
proof
let C5 , C6 , C7 being set;
let C8 being (ManySortedSet of C6);
assume that
L15: C5 in C6;
thus L16: ( dom ( C8 +* ( C5 .--> C7 ) ) ) = ( ( dom C8 ) \/ ( dom ( C5 .--> C7 ) ) ) by FUNCT_4:def 1
.= ( C6 \/ ( dom ( C5 .--> C7 ) ) ) by PARTFUN1:def 2
.= ( C6 \/ { C5 } ) by FUNCOP_1:13
.= C6 by L15 , ZFMISC_1:40;
end;
L17: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds (for R5 being (ManySortedSet of R3) holds (for B10 being set holds (B10 in R3 implies ( ( bool ( R4 \/ R5 ) ) . B10 ) = ( bool ( ( R4 . B10 ) \/ ( R5 . B10 ) ) ))))))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let R5 being (ManySortedSet of R3);
let C9 being set;
assume L18: C9 in R3;
thus L19: ( ( bool ( R4 \/ R5 ) ) . C9 ) = ( bool ( ( R4 \/ R5 ) . C9 ) ) by L18 , L1
.= ( bool ( ( R4 . C9 ) \/ ( R5 . C9 ) ) ) by L18 , PBOOLE:def 4;
end;
L20: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds (for R5 being (ManySortedSet of R3) holds (for B11 being set holds (B11 in R3 implies ( ( bool ( R4 /\ R5 ) ) . B11 ) = ( bool ( ( R4 . B11 ) /\ ( R5 . B11 ) ) ))))))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let R5 being (ManySortedSet of R3);
let C10 being set;
assume L21: C10 in R3;
thus L22: ( ( bool ( R4 /\ R5 ) ) . C10 ) = ( bool ( ( R4 /\ R5 ) . C10 ) ) by L21 , L1
.= ( bool ( ( R4 . C10 ) /\ ( R5 . C10 ) ) ) by L21 , PBOOLE:def 5;
end;
L23: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds (for R5 being (ManySortedSet of R3) holds (for B12 being set holds (B12 in R3 implies ( ( bool ( R4 \ R5 ) ) . B12 ) = ( bool ( ( R4 . B12 ) \ ( R5 . B12 ) ) ))))))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let R5 being (ManySortedSet of R3);
let C11 being set;
assume L24: C11 in R3;
thus L25: ( ( bool ( R4 \ R5 ) ) . C11 ) = ( bool ( ( R4 \ R5 ) . C11 ) ) by L24 , L1
.= ( bool ( ( R4 . C11 ) \ ( R5 . C11 ) ) ) by L24 , PBOOLE:def 6;
end;
L26: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds (for R5 being (ManySortedSet of R3) holds (for B13 being set holds (B13 in R3 implies ( ( bool ( R4 \+\ R5 ) ) . B13 ) = ( bool ( ( R4 . B13 ) \+\ ( R5 . B13 ) ) ))))))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let R5 being (ManySortedSet of R3);
let C12 being set;
assume L27: C12 in R3;
thus L28: ( ( bool ( R4 \+\ R5 ) ) . C12 ) = ( bool ( ( R4 \+\ R5 ) . C12 ) ) by L27 , L1
.= ( bool ( ( R4 . C12 ) \+\ ( R5 . C12 ) ) ) by L27 , PBOOLE:4;
end;
theorem
L29: (for R3 being set holds (for R6 being (ManySortedSet of R3) holds (for R7 being (ManySortedSet of R3) holds (R6 = ( bool R7 ) iff (for R4 being (ManySortedSet of R3) holds (R4 in R6 iff R4 c= R7))))))
proof
let R3 being set;
let R6 being (ManySortedSet of R3);
let R7 being (ManySortedSet of R3);
thus L30: (R6 = ( bool R7 ) implies (for R4 being (ManySortedSet of R3) holds (R4 in R6 iff R4 c= R7)))
proof
assume L31: R6 = ( bool R7 );
let R4 being (ManySortedSet of R3);
thus L32: (R4 in R6 implies R4 c= R7)
proof
assume L33: R4 in R6;
let C13 being set;
assume L34: C13 in R3;
L35: ( R4 . C13 ) in ( R6 . C13 ) by L34 , L33 , PBOOLE:def 1;
L36: ( R6 . C13 ) = ( bool ( R7 . C13 ) ) by L31 , L34 , L1;
thus L37: thesis by L36 , L35;
end;

assume L38: R4 c= R7;
let C14 being set;
assume L39: C14 in R3;
L40: ( R4 . C14 ) c= ( R7 . C14 ) by L39 , L38 , PBOOLE:def 2;
L41: ( R6 . C14 ) = ( bool ( R7 . C14 ) ) by L31 , L39 , L1;
thus L42: thesis by L41 , L40;
end;

assume L43: (for R4 being (ManySortedSet of R3) holds (R4 in R6 iff R4 c= R7));
L44:
now
let C15 being set;
assume that
L45: C15 in R3;
L46: ( [[0]] R3 ) c= R7 by PBOOLE:43;
L47: ( [[0]] R3 ) in R6 by L46 , L43;
L48: (for B14 being set holds (B14 in ( R6 . C15 ) iff B14 c= ( R7 . C15 )))
proof
let C16 being set;
L49: ( dom ( C15 .--> C16 ) ) = { C15 } by FUNCOP_1:13;
L50: ( dom ( ( [[0]] R3 ) +* ( C15 .--> C16 ) ) ) = R3 by L45 , L14;
reconsider D1 = ( ( [[0]] R3 ) +* ( C15 .--> C16 ) ) as (ManySortedSet of R3) by L50 , PARTFUN1:def 2 , RELAT_1:def 18;
L51: C15 in { C15 } by TARSKI:def 1;
L52: ( D1 . C15 ) = ( ( C15 .--> C16 ) . C15 ) by L51 , L49 , FUNCT_4:13
.= C16 by FUNCOP_1:72;
thus L53: (C16 in ( R6 . C15 ) implies C16 c= ( R7 . C15 ))
proof
assume L54: C16 in ( R6 . C15 );
L55: D1 in R6
proof
let C17 being set;
assume that
L56: C17 in R3;
L57:
now
per cases ;
case L58: C17 = C15;
thus L59: thesis by L58 , L52 , L54;
end;
case L60: C17 <> C15;
L61: (not C17 in ( dom ( C15 .--> C16 ) )) by L60 , L49 , TARSKI:def 1;
L62: ( D1 . C17 ) = ( ( [[0]] R3 ) . C17 ) by L61 , FUNCT_4:11;
thus L63: thesis by L62 , L47 , L56 , PBOOLE:def 1;
end;
end;
thus L65: thesis by L57;
end;
L66: D1 c= R7 by L55 , L43;
thus L67: thesis by L66 , L45 , L52 , PBOOLE:def 2;
end;

assume L68: C16 c= ( R7 . C15 );
L69: D1 c= R7
proof
let C18 being set;
assume that
L70: C18 in R3;
L71:
now
per cases ;
case L72: C18 = C15;
thus L73: thesis by L72 , L52 , L68;
end;
case L74: C18 <> C15;
L75: (not C18 in ( dom ( C15 .--> C16 ) )) by L74 , L49 , TARSKI:def 1;
L76: ( D1 . C18 ) = ( ( [[0]] R3 ) . C18 ) by L75 , FUNCT_4:11;
L77: ( [[0]] R3 ) c= R7 by PBOOLE:43;
thus L78: thesis by L77 , L70 , L76 , PBOOLE:def 2;
end;
end;
thus L80: thesis by L71;
end;
L81: D1 in R6 by L69 , L43;
thus L82: thesis by L81 , L45 , L52 , PBOOLE:def 1;
end;
L83: ( R6 . C15 ) = ( bool ( R7 . C15 ) ) by L48 , ZFMISC_1:def 1;
thus L84: ( R6 . C15 ) = ( ( bool R7 ) . C15 ) by L83 , L45 , L1;
end;
thus L85: thesis by L44 , PBOOLE:3;
end;
theorem
L86: (for R3 being set holds ( bool ( [[0]] R3 ) ) = ( R3 --> { ( {} ) } ))
proof
let R3 being set;
L87:
now
let C19 being set;
assume L88: C19 in R3;
L89: ( ( bool ( [[0]] R3 ) ) . C19 ) = ( bool ( ( [[0]] R3 ) . C19 ) ) by L88 , L1
.= { ( {} ) } by PBOOLE:5 , ZFMISC_1:1;
thus L90: ( ( bool ( [[0]] R3 ) ) . C19 ) = ( ( R3 --> { ( {} ) } ) . C19 ) by L89 , L88 , FUNCOP_1:7;
end;
thus L91: thesis by L87 , PBOOLE:3;
end;
theorem
L92: (for R1 being set holds (for R3 being set holds ( bool ( R3 --> R1 ) ) = ( R3 --> ( bool R1 ) )))
proof
let R1 being set;
let R3 being set;
L93:
now
let C20 being set;
assume L94: C20 in R3;
thus L95: ( ( bool ( R3 --> R1 ) ) . C20 ) = ( bool ( ( R3 --> R1 ) . C20 ) ) by L94 , L1
.= ( bool R1 ) by L94 , FUNCOP_1:7
.= ( ( R3 --> ( bool R1 ) ) . C20 ) by L94 , FUNCOP_1:7;
end;
thus L96: thesis by L93 , PBOOLE:3;
end;
theorem
L97: (for R1 being set holds (for R3 being set holds ( bool ( R3 --> { R1 } ) ) = ( R3 --> { ( {} ) , { R1 } } )))
proof
let R1 being set;
let R3 being set;
L98:
now
let C21 being set;
assume L99: C21 in R3;
thus L100: ( ( bool ( R3 --> { R1 } ) ) . C21 ) = ( bool ( ( R3 --> { R1 } ) . C21 ) ) by L99 , L1
.= ( bool { R1 } ) by L99 , FUNCOP_1:7
.= { ( {} ) , { R1 } } by ZFMISC_1:24
.= ( ( R3 --> { ( {} ) , { R1 } } ) . C21 ) by L99 , FUNCOP_1:7;
end;
thus L101: thesis by L98 , PBOOLE:3;
end;
theorem
L102: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds ( [[0]] R3 ) c= R4))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let C22 being set;
assume L103: C22 in R3;
L104: ( ( [[0]] R3 ) . C22 ) = ( {} ) by PBOOLE:5;
thus L105: thesis by L104 , XBOOLE_1:2;
end;
theorem
L106: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds (for R5 being (ManySortedSet of R3) holds (R4 c= R5 implies ( bool R4 ) c= ( bool R5 )))))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let R5 being (ManySortedSet of R3);
assume L107: R4 c= R5;
let C23 being set;
assume L108: C23 in R3;
L109: ( R4 . C23 ) c= ( R5 . C23 ) by L108 , L107 , PBOOLE:def 2;
L110: (( ( bool R4 ) . C23 ) = ( bool ( R4 . C23 ) ) & ( ( bool R5 ) . C23 ) = ( bool ( R5 . C23 ) )) by L108 , L1;
thus L111: thesis by L110 , L109 , ZFMISC_1:67;
end;
theorem
L112: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds (for R5 being (ManySortedSet of R3) holds ( ( bool R4 ) \/ ( bool R5 ) ) c= ( bool ( R4 \/ R5 ) ))))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let R5 being (ManySortedSet of R3);
let C24 being set;
assume L113: C24 in R3;
L114: ( ( bool ( R4 \/ R5 ) ) . C24 ) = ( bool ( ( R4 . C24 ) \/ ( R5 . C24 ) ) ) by L113 , L17;
L115: ( ( ( bool R4 ) \/ ( bool R5 ) ) . C24 ) = ( ( ( bool R4 ) . C24 ) \/ ( ( bool R5 ) . C24 ) ) by L113 , PBOOLE:def 4
.= ( ( bool ( R4 . C24 ) ) \/ ( ( bool R5 ) . C24 ) ) by L113 , L1
.= ( ( bool ( R4 . C24 ) ) \/ ( bool ( R5 . C24 ) ) ) by L113 , L1;
thus L116: thesis by L115 , L114 , ZFMISC_1:69;
end;
theorem
L117: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds (for R5 being (ManySortedSet of R3) holds (( ( bool R4 ) \/ ( bool R5 ) ) = ( bool ( R4 \/ R5 ) ) implies (for B15 being set holds (B15 in R3 implies ( R4 . B15 ) , ( R5 . B15 ) are_c=-comparable ))))))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let R5 being (ManySortedSet of R3);
assume L118: ( ( bool R4 ) \/ ( bool R5 ) ) = ( bool ( R4 \/ R5 ) );
let C25 being set;
assume that
L119: C25 in R3;
L120: ( bool ( ( R4 . C25 ) \/ ( R5 . C25 ) ) ) = ( ( ( bool R4 ) \/ ( bool R5 ) ) . C25 ) by L118 , L119 , L17
.= ( ( ( bool R4 ) . C25 ) \/ ( ( bool R5 ) . C25 ) ) by L119 , PBOOLE:def 4
.= ( ( ( bool R4 ) . C25 ) \/ ( bool ( R5 . C25 ) ) ) by L119 , L1
.= ( ( bool ( R4 . C25 ) ) \/ ( bool ( R5 . C25 ) ) ) by L119 , L1;
thus L121: thesis by L120 , ZFMISC_1:70;
end;
theorem
L122: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds (for R5 being (ManySortedSet of R3) holds ( bool ( R4 /\ R5 ) ) = ( ( bool R4 ) /\ ( bool R5 ) ))))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let R5 being (ManySortedSet of R3);
L123:
now
let C26 being set;
assume L124: C26 in R3;
thus L125: ( ( bool ( R4 /\ R5 ) ) . C26 ) = ( bool ( ( R4 . C26 ) /\ ( R5 . C26 ) ) ) by L124 , L20
.= ( ( bool ( R4 . C26 ) ) /\ ( bool ( R5 . C26 ) ) ) by ZFMISC_1:71
.= ( ( bool ( R4 . C26 ) ) /\ ( ( bool R5 ) . C26 ) ) by L124 , L1
.= ( ( ( bool R4 ) . C26 ) /\ ( ( bool R5 ) . C26 ) ) by L124 , L1
.= ( ( ( bool R4 ) /\ ( bool R5 ) ) . C26 ) by L124 , PBOOLE:def 5;
end;
thus L126: thesis by L123 , PBOOLE:3;
end;
theorem
L127: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds (for R5 being (ManySortedSet of R3) holds ( bool ( R4 \ R5 ) ) c= ( ( R3 --> { ( {} ) } ) \/ ( ( bool R4 ) \ ( bool R5 ) ) ))))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let R5 being (ManySortedSet of R3);
let C27 being set;
assume L128: C27 in R3;
L129: ( ( bool ( R4 \ R5 ) ) . C27 ) = ( bool ( ( R4 . C27 ) \ ( R5 . C27 ) ) ) by L128 , L23;
L130: ( ( ( R3 --> { ( {} ) } ) \/ ( ( bool R4 ) \ ( bool R5 ) ) ) . C27 ) = ( ( ( R3 --> { ( {} ) } ) . C27 ) \/ ( ( ( bool R4 ) \ ( bool R5 ) ) . C27 ) ) by L128 , PBOOLE:def 4
.= ( { ( {} ) } \/ ( ( ( bool R4 ) \ ( bool R5 ) ) . C27 ) ) by L128 , FUNCOP_1:7
.= ( { ( {} ) } \/ ( ( ( bool R4 ) . C27 ) \ ( ( bool R5 ) . C27 ) ) ) by L128 , PBOOLE:def 6
.= ( { ( {} ) } \/ ( ( bool ( R4 . C27 ) ) \ ( ( bool R5 ) . C27 ) ) ) by L128 , L1
.= ( { ( {} ) } \/ ( ( bool ( R4 . C27 ) ) \ ( bool ( R5 . C27 ) ) ) ) by L128 , L1;
thus L131: thesis by L130 , L129 , ZFMISC_1:72;
end;
theorem
L132: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds (for R5 being (ManySortedSet of R3) holds (for R6 being (ManySortedSet of R3) holds (R6 c= ( R4 \ R5 ) iff (R6 c= R4 & R6 misses R5))))))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let R5 being (ManySortedSet of R3);
let R6 being (ManySortedSet of R3);
thus L133: (R6 c= ( R4 \ R5 ) implies (R6 c= R4 & R6 misses R5))
proof
assume L134: R6 c= ( R4 \ R5 );
L135: R6 in ( bool ( R4 \ R5 ) ) by L134 , L29;
thus L136: R6 c= R4
proof
let C28 being set;
assume L137: C28 in R3;
L138: ( R6 . C28 ) in ( ( bool ( R4 \ R5 ) ) . C28 ) by L137 , L135 , PBOOLE:def 1;
L139: ( R6 . C28 ) in ( bool ( ( R4 . C28 ) \ ( R5 . C28 ) ) ) by L138 , L137 , L23;
thus L140: thesis by L139 , XBOOLE_1:106;
end;

let C29 being set;
assume L141: C29 in R3;
L142: ( R6 . C29 ) in ( ( bool ( R4 \ R5 ) ) . C29 ) by L141 , L135 , PBOOLE:def 1;
L143: ( R6 . C29 ) in ( bool ( ( R4 . C29 ) \ ( R5 . C29 ) ) ) by L142 , L141 , L23;
thus L144: thesis by L143 , XBOOLE_1:106;
end;

assume L145: (R6 c= R4 & R6 misses R5);
let C30 being set;
assume L146: C30 in R3;
L147: (( R6 . C30 ) c= ( R4 . C30 ) & ( R6 . C30 ) misses ( R5 . C30 )) by L146 , L145 , PBOOLE:def 2 , PBOOLE:def 8;
L148: ( R6 . C30 ) c= ( ( R4 . C30 ) \ ( R5 . C30 ) ) by L147 , XBOOLE_1:86;
thus L149: thesis by L148 , L146 , PBOOLE:def 6;
end;
theorem
L150: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds (for R5 being (ManySortedSet of R3) holds ( ( bool ( R4 \ R5 ) ) \/ ( bool ( R5 \ R4 ) ) ) c= ( bool ( R4 \+\ R5 ) ))))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let R5 being (ManySortedSet of R3);
let C31 being set;
assume L151: C31 in R3;
L152: ( ( bool ( R4 \+\ R5 ) ) . C31 ) = ( bool ( ( R4 . C31 ) \+\ ( R5 . C31 ) ) ) by L151 , L26;
L153: ( ( ( bool ( R4 \ R5 ) ) \/ ( bool ( R5 \ R4 ) ) ) . C31 ) = ( ( ( bool ( R4 \ R5 ) ) . C31 ) \/ ( ( bool ( R5 \ R4 ) ) . C31 ) ) by L151 , PBOOLE:def 4
.= ( ( bool ( ( R4 . C31 ) \ ( R5 . C31 ) ) ) \/ ( ( bool ( R5 \ R4 ) ) . C31 ) ) by L151 , L23
.= ( ( bool ( ( R4 . C31 ) \ ( R5 . C31 ) ) ) \/ ( bool ( ( R5 . C31 ) \ ( R4 . C31 ) ) ) ) by L151 , L23;
thus L154: thesis by L153 , L152 , ZFMISC_1:73;
end;
theorem
L155: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds (for R5 being (ManySortedSet of R3) holds (for R6 being (ManySortedSet of R3) holds (R6 c= ( R4 \+\ R5 ) iff (R6 c= ( R4 \/ R5 ) & R6 misses ( R4 /\ R5 )))))))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let R5 being (ManySortedSet of R3);
let R6 being (ManySortedSet of R3);
thus L156: (R6 c= ( R4 \+\ R5 ) implies (R6 c= ( R4 \/ R5 ) & R6 misses ( R4 /\ R5 )))
proof
assume L157: R6 c= ( R4 \+\ R5 );
L158: R6 in ( bool ( R4 \+\ R5 ) ) by L157 , L29;
thus L159: R6 c= ( R4 \/ R5 )
proof
let C32 being set;
assume L160: C32 in R3;
L161: ( R6 . C32 ) in ( ( bool ( R4 \+\ R5 ) ) . C32 ) by L160 , L158 , PBOOLE:def 1;
L162: ( R6 . C32 ) in ( bool ( ( R4 . C32 ) \+\ ( R5 . C32 ) ) ) by L161 , L160 , L26;
L163: ( R6 . C32 ) c= ( ( R4 . C32 ) \/ ( R5 . C32 ) ) by L162 , XBOOLE_1:107;
thus L164: thesis by L163 , L160 , PBOOLE:def 4;
end;

let C33 being set;
assume L165: C33 in R3;
L166: ( R6 . C33 ) in ( ( bool ( R4 \+\ R5 ) ) . C33 ) by L165 , L158 , PBOOLE:def 1;
L167: ( R6 . C33 ) in ( bool ( ( R4 . C33 ) \+\ ( R5 . C33 ) ) ) by L166 , L165 , L26;
L168: ( R6 . C33 ) misses ( ( R4 . C33 ) /\ ( R5 . C33 ) ) by L167 , XBOOLE_1:107;
thus L169: thesis by L168 , L165 , PBOOLE:def 5;
end;

assume that
L170: R6 c= ( R4 \/ R5 )
and
L171: R6 misses ( R4 /\ R5 );
let C34 being set;
assume L172: C34 in R3;
L173: ( R6 . C34 ) misses ( ( R4 /\ R5 ) . C34 ) by L172 , L171 , PBOOLE:def 8;
L174: ( R6 . C34 ) misses ( ( R4 . C34 ) /\ ( R5 . C34 ) ) by L173 , L172 , PBOOLE:def 5;
L175: ( R6 . C34 ) c= ( ( R4 \/ R5 ) . C34 ) by L170 , L172 , PBOOLE:def 2;
L176: ( R6 . C34 ) c= ( ( R4 . C34 ) \/ ( R5 . C34 ) ) by L175 , L172 , PBOOLE:def 4;
L177: ( R6 . C34 ) c= ( ( R4 . C34 ) \+\ ( R5 . C34 ) ) by L176 , L174 , XBOOLE_1:107;
thus L178: thesis by L177 , L172 , PBOOLE:4;
end;
theorem
L179: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds (for R6 being (ManySortedSet of R3) holds (for R7 being (ManySortedSet of R3) holds ((R6 c= R4 or R7 c= R4) implies ( R6 /\ R7 ) c= R4)))))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let R6 being (ManySortedSet of R3);
let R7 being (ManySortedSet of R3);
assume L180: (R6 c= R4 or R7 c= R4);
per cases  by L180;
suppose L181: R6 c= R4;

let C35 being set;
assume L182: C35 in R3;
L183: ( R6 . C35 ) c= ( R4 . C35 ) by L182 , L181 , PBOOLE:def 2;
L184: ( ( R6 . C35 ) /\ ( R7 . C35 ) ) c= ( R4 . C35 ) by L183 , XBOOLE_1:108;
thus L185: thesis by L184 , L182 , PBOOLE:def 5;
end;
suppose L186: R7 c= R4;

let C36 being set;
assume L187: C36 in R3;
L188: ( R7 . C36 ) c= ( R4 . C36 ) by L187 , L186 , PBOOLE:def 2;
L189: ( ( R6 . C36 ) /\ ( R7 . C36 ) ) c= ( R4 . C36 ) by L188 , XBOOLE_1:108;
thus L190: thesis by L189 , L187 , PBOOLE:def 5;
end;
end;
theorem
L192: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds (for R6 being (ManySortedSet of R3) holds (for R7 being (ManySortedSet of R3) holds (R6 c= R4 implies ( R6 \ R7 ) c= R4)))))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let R6 being (ManySortedSet of R3);
let R7 being (ManySortedSet of R3);
assume L193: R6 c= R4;
let C37 being set;
assume L194: C37 in R3;
L195: ( R6 . C37 ) c= ( R4 . C37 ) by L194 , L193 , PBOOLE:def 2;
L196: ( ( R6 . C37 ) \ ( R7 . C37 ) ) c= ( R4 . C37 ) by L195 , XBOOLE_1:109;
thus L197: thesis by L196 , L194 , PBOOLE:def 6;
end;
theorem
L198: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds (for R6 being (ManySortedSet of R3) holds (for R7 being (ManySortedSet of R3) holds ((R6 c= R4 & R7 c= R4) implies ( R6 \+\ R7 ) c= R4)))))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let R6 being (ManySortedSet of R3);
let R7 being (ManySortedSet of R3);
assume L199: (R6 c= R4 & R7 c= R4);
let C38 being set;
assume L200: C38 in R3;
L201: (( R6 . C38 ) c= ( R4 . C38 ) & ( R7 . C38 ) c= ( R4 . C38 )) by L200 , L199 , PBOOLE:def 2;
L202: ( ( R6 . C38 ) \+\ ( R7 . C38 ) ) c= ( R4 . C38 ) by L201 , XBOOLE_1:110;
L203: ( ( R6 . C38 ) \+\ ( R7 . C38 ) ) in ( bool ( R4 . C38 ) ) by L202;
L204: ( ( R6 \+\ R7 ) . C38 ) in ( bool ( R4 . C38 ) ) by L203 , L200 , PBOOLE:4;
thus L205: thesis by L204;
end;
theorem
L206: (for R3 being set holds (for R6 being (ManySortedSet of R3) holds (for R7 being (ManySortedSet of R3) holds [| R6 , R7 |] c= ( bool ( bool ( R6 \/ R7 ) ) ))))
proof
let R3 being set;
let R6 being (ManySortedSet of R3);
let R7 being (ManySortedSet of R3);
let C39 being set;
assume L207: C39 in R3;
L208: ( [| R6 , R7 |] . C39 ) = [: ( R6 . C39 ) , ( R7 . C39 ) :] by L207 , PBOOLE:def 16;
L209: ( ( bool ( bool ( R6 \/ R7 ) ) ) . C39 ) = ( bool ( ( bool ( R6 \/ R7 ) ) . C39 ) ) by L207 , L1
.= ( bool ( bool ( ( R6 . C39 ) \/ ( R7 . C39 ) ) ) ) by L207 , L17;
thus L210: thesis by L209 , L208 , ZFMISC_1:86;
end;
theorem
L211: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds (for R6 being (ManySortedSet of R3) holds (R6 c= R4 iff R6 in ( bool R4 )))))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let R6 being (ManySortedSet of R3);
thus L212: (R6 c= R4 implies R6 in ( bool R4 ))
proof
assume L213: R6 c= R4;
let C40 being set;
assume L214: C40 in R3;
L215: ( R6 . C40 ) c= ( R4 . C40 ) by L214 , L213 , PBOOLE:def 2;
L216: ( R6 . C40 ) in ( bool ( R4 . C40 ) ) by L215;
thus L217: thesis by L216 , L214 , L1;
end;

assume L218: R6 in ( bool R4 );
let C41 being set;
assume L219: C41 in R3;
L220: ( R6 . C41 ) in ( ( bool R4 ) . C41 ) by L219 , L218 , PBOOLE:def 1;
L221: ( R6 . C41 ) in ( bool ( R4 . C41 ) ) by L220 , L219 , L1;
thus L222: thesis by L221;
end;
theorem
L223: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds (for R5 being (ManySortedSet of R3) holds ( (Funcs) (R4 , R5) ) c= ( bool [| R4 , R5 |] ))))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let R5 being (ManySortedSet of R3);
let C42 being set;
assume L224: C42 in R3;
L225: ( ( (Funcs) (R4 , R5) ) . C42 ) = ( Funcs (( R4 . C42 ) , ( R5 . C42 )) ) by L224 , PBOOLE:def 17;
L226: ( ( bool [| R4 , R5 |] ) . C42 ) = ( bool ( [| R4 , R5 |] . C42 ) ) by L224 , L1
.= ( bool [: ( R4 . C42 ) , ( R5 . C42 ) :] ) by L224 , PBOOLE:def 16;
thus L227: thesis by L226 , L225 , FRAENKEL:2;
end;
begin
definition
let R3 being set;
let R4 being (ManySortedSet of R3);
func union R4 -> (ManySortedSet of R3) means 
:L228: (for B16 being set holds (B16 in R3 implies ( it . B16 ) = ( union ( R4 . B16 ) )));
existence
proof
deffunc H2(set) = ( union ( R4 . $1 ) );
thus L229: (ex B17 being (ManySortedSet of R3) st (for B18 being set holds (B18 in R3 implies ( B17 . B18 ) = H2(B18)))) from PBOOLE:sch 4;
end;
uniqueness
proof
let C43 , C44 being (ManySortedSet of R3);
assume that
L230: (for B19 being set holds (B19 in R3 implies ( C43 . B19 ) = ( union ( R4 . B19 ) )))
and
L231: (for B20 being set holds (B20 in R3 implies ( C44 . B20 ) = ( union ( R4 . B20 ) )));
L232:
now
let C45 being set;
assume L233: C45 in R3;
thus L234: ( C43 . C45 ) = ( union ( R4 . C45 ) ) by L233 , L230
.= ( C44 . C45 ) by L231 , L233;
end;
thus L235: C43 = C44 by L232 , PBOOLE:3;
end;
end;
registration
let R3 being set;
cluster ( union ( [[0]] R3 ) ) ->  empty-yielding;
coherence
proof
let C46 being set;
L237: ( union ( ( [[0]] R3 ) . C46 ) ) is  empty by PBOOLE:5 , ZFMISC_1:2;
assume L238: C46 in R3;
thus L239: thesis by L238 , L237 , L228;
end;
end;
L241: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds (for R5 being (ManySortedSet of R3) holds (for B21 being set holds (B21 in R3 implies ( ( union ( R4 \/ R5 ) ) . B21 ) = ( union ( ( R4 . B21 ) \/ ( R5 . B21 ) ) ))))))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let R5 being (ManySortedSet of R3);
let C47 being set;
assume L242: C47 in R3;
thus L243: ( ( union ( R4 \/ R5 ) ) . C47 ) = ( union ( ( R4 \/ R5 ) . C47 ) ) by L242 , L228
.= ( union ( ( R4 . C47 ) \/ ( R5 . C47 ) ) ) by L242 , PBOOLE:def 4;
end;
L244: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds (for R5 being (ManySortedSet of R3) holds (for B22 being set holds (B22 in R3 implies ( ( union ( R4 /\ R5 ) ) . B22 ) = ( union ( ( R4 . B22 ) /\ ( R5 . B22 ) ) ))))))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let R5 being (ManySortedSet of R3);
let C48 being set;
assume L245: C48 in R3;
thus L246: ( ( union ( R4 /\ R5 ) ) . C48 ) = ( union ( ( R4 /\ R5 ) . C48 ) ) by L245 , L228
.= ( union ( ( R4 . C48 ) /\ ( R5 . C48 ) ) ) by L245 , PBOOLE:def 5;
end;
theorem
L247: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds (for R6 being (ManySortedSet of R3) holds (R4 in ( union R6 ) iff (ex R7 being (ManySortedSet of R3) st (R4 in R7 & R7 in R6))))))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let R6 being (ManySortedSet of R3);
thus L248: (R4 in ( union R6 ) implies (ex R7 being (ManySortedSet of R3) st (R4 in R7 & R7 in R6)))
proof
defpred S1[ set , set ] means (( R4 . $1 ) in $2 & $2 in ( R6 . $1 ));
assume L249: R4 in ( union R6 );
L250: (for B23 being set holds (B23 in R3 implies (ex B24 being set st S1[ B23 , B24 ])))
proof
let C49 being set;
assume L251: C49 in R3;
L252: ( R4 . C49 ) in ( ( union R6 ) . C49 ) by L251 , L249 , PBOOLE:def 1;
L253: ( R4 . C49 ) in ( union ( R6 . C49 ) ) by L252 , L251 , L228;
thus L254: thesis by L253 , TARSKI:def 4;
end;
consider C50 being (ManySortedSet of R3) such that L255: (for B25 being set holds (B25 in R3 implies S1[ B25 , ( C50 . B25 ) ])) from PBOOLE:sch 3(L250);
take C50;
thus L256: R4 in C50
proof
let C51 being set;
assume L257: C51 in R3;
thus L258: thesis by L257 , L255;
end;

thus L259: C50 in R6
proof
let C52 being set;
assume L260: C52 in R3;
thus L261: thesis by L260 , L255;
end;

end;

given R7 being (ManySortedSet of R3) such that
L260: (R4 in R7 & R7 in R6);

let C53 being set;
assume L261: C53 in R3;
L262: (( R4 . C53 ) in ( R7 . C53 ) & ( R7 . C53 ) in ( R6 . C53 )) by L261 , L260 , PBOOLE:def 1;
L263: ( R4 . C53 ) in ( union ( R6 . C53 ) ) by L262 , TARSKI:def 4;
thus L264: thesis by L263 , L261 , L228;
end;
theorem
L265: (for R3 being set holds ( union ( [[0]] R3 ) ) = ( [[0]] R3 ))
proof
let R3 being set;
L266:
now
let C54 being set;
assume L267: C54 in R3;
thus L268: ( ( union ( [[0]] R3 ) ) . C54 ) = ( union ( ( [[0]] R3 ) . C54 ) ) by L267 , L228
.= ( {} ) by PBOOLE:5 , ZFMISC_1:2
.= ( ( [[0]] R3 ) . C54 ) by PBOOLE:5;
end;
thus L269: thesis by L266 , PBOOLE:3;
end;
theorem
L270: (for R1 being set holds (for R3 being set holds ( union ( R3 --> R1 ) ) = ( R3 --> ( union R1 ) )))
proof
let R1 being set;
let R3 being set;
L271:
now
let C55 being set;
assume L272: C55 in R3;
thus L273: ( ( union ( R3 --> R1 ) ) . C55 ) = ( union ( ( R3 --> R1 ) . C55 ) ) by L272 , L228
.= ( union R1 ) by L272 , FUNCOP_1:7
.= ( ( R3 --> ( union R1 ) ) . C55 ) by L272 , FUNCOP_1:7;
end;
thus L274: thesis by L271 , PBOOLE:3;
end;
theorem
L275: (for R1 being set holds (for R3 being set holds ( union ( R3 --> { R1 } ) ) = ( R3 --> R1 )))
proof
let R1 being set;
let R3 being set;
L276:
now
let C56 being set;
assume L277: C56 in R3;
thus L278: ( ( union ( R3 --> { R1 } ) ) . C56 ) = ( union ( ( R3 --> { R1 } ) . C56 ) ) by L277 , L228
.= ( union { R1 } ) by L277 , FUNCOP_1:7
.= R1 by ZFMISC_1:25
.= ( ( R3 --> R1 ) . C56 ) by L277 , FUNCOP_1:7;
end;
thus L279: thesis by L276 , PBOOLE:3;
end;
theorem
L280: (for R1 being set holds (for R2 being set holds (for R3 being set holds ( union ( R3 --> { { R1 } , { R2 } } ) ) = ( R3 --> { R1 , R2 } ))))
proof
let R1 being set;
let R2 being set;
let R3 being set;
L281:
now
let C57 being set;
assume L282: C57 in R3;
thus L283: ( ( union ( R3 --> { { R1 } , { R2 } } ) ) . C57 ) = ( union ( ( R3 --> { { R1 } , { R2 } } ) . C57 ) ) by L282 , L228
.= ( union { { R1 } , { R2 } } ) by L282 , FUNCOP_1:7
.= { R1 , R2 } by ZFMISC_1:26
.= ( ( R3 --> { R1 , R2 } ) . C57 ) by L282 , FUNCOP_1:7;
end;
thus L284: thesis by L281 , PBOOLE:3;
end;
theorem
L285: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds (for R6 being (ManySortedSet of R3) holds (R6 in R4 implies R6 c= ( union R4 )))))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let R6 being (ManySortedSet of R3);
assume L286: R6 in R4;
let C58 being set;
assume L287: C58 in R3;
L288: ( R6 . C58 ) in ( R4 . C58 ) by L287 , L286 , PBOOLE:def 1;
L289: ( R6 . C58 ) c= ( union ( R4 . C58 ) ) by L288 , ZFMISC_1:74;
thus L290: thesis by L289 , L287 , L228;
end;
theorem
L291: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds (for R5 being (ManySortedSet of R3) holds (R4 c= R5 implies ( union R4 ) c= ( union R5 )))))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let R5 being (ManySortedSet of R3);
assume L292: R4 c= R5;
let C59 being set;
assume L293: C59 in R3;
L294: ( R4 . C59 ) c= ( R5 . C59 ) by L293 , L292 , PBOOLE:def 2;
L295: ( union ( R4 . C59 ) ) c= ( union ( R5 . C59 ) ) by L294 , ZFMISC_1:77;
L296: ( ( union R4 ) . C59 ) c= ( union ( R5 . C59 ) ) by L295 , L293 , L228;
thus L297: thesis by L296 , L293 , L228;
end;
theorem
L298: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds (for R5 being (ManySortedSet of R3) holds ( union ( R4 \/ R5 ) ) = ( ( union R4 ) \/ ( union R5 ) ))))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let R5 being (ManySortedSet of R3);
L299:
now
let C60 being set;
assume L300: C60 in R3;
thus L301: ( ( union ( R4 \/ R5 ) ) . C60 ) = ( union ( ( R4 . C60 ) \/ ( R5 . C60 ) ) ) by L300 , L241
.= ( ( union ( R4 . C60 ) ) \/ ( union ( R5 . C60 ) ) ) by ZFMISC_1:78
.= ( ( ( union R4 ) . C60 ) \/ ( union ( R5 . C60 ) ) ) by L300 , L228
.= ( ( ( union R4 ) . C60 ) \/ ( ( union R5 ) . C60 ) ) by L300 , L228
.= ( ( ( union R4 ) \/ ( union R5 ) ) . C60 ) by L300 , PBOOLE:def 4;
end;
thus L302: thesis by L299 , PBOOLE:3;
end;
theorem
L303: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds (for R5 being (ManySortedSet of R3) holds ( union ( R4 /\ R5 ) ) c= ( ( union R4 ) /\ ( union R5 ) ))))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let R5 being (ManySortedSet of R3);
let C61 being set;
assume L304: C61 in R3;
L305: ( ( union ( R4 /\ R5 ) ) . C61 ) = ( union ( ( R4 . C61 ) /\ ( R5 . C61 ) ) ) by L304 , L244;
L306: ( ( ( union R4 ) /\ ( union R5 ) ) . C61 ) = ( ( ( union R4 ) . C61 ) /\ ( ( union R5 ) . C61 ) ) by L304 , PBOOLE:def 5
.= ( ( union ( R4 . C61 ) ) /\ ( ( union R5 ) . C61 ) ) by L304 , L228
.= ( ( union ( R4 . C61 ) ) /\ ( union ( R5 . C61 ) ) ) by L304 , L228;
thus L307: thesis by L306 , L305 , ZFMISC_1:79;
end;
theorem
L308: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds ( union ( bool R4 ) ) = R4))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
L309:
now
let C62 being set;
assume L310: C62 in R3;
thus L311: ( ( union ( bool R4 ) ) . C62 ) = ( union ( ( bool R4 ) . C62 ) ) by L310 , L228
.= ( union ( bool ( R4 . C62 ) ) ) by L310 , L1
.= ( R4 . C62 ) by ZFMISC_1:81;
end;
thus L312: thesis by L309 , PBOOLE:3;
end;
theorem
L313: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds R4 c= ( bool ( union R4 ) )))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let C63 being set;
assume L314: C63 in R3;
L315: ( ( bool ( union R4 ) ) . C63 ) = ( bool ( ( union R4 ) . C63 ) ) by L314 , L1
.= ( bool ( union ( R4 . C63 ) ) ) by L314 , L228;
thus L316: thesis by L315 , ZFMISC_1:82;
end;
theorem
L317: (for R3 being set holds (for R4 being (ManySortedSet of R3) holds (for R6 being (ManySortedSet of R3) holds (for R7 being (ManySortedSet of R3) holds ((( union R7 ) c= R4 & R6 in R7) implies R6 c= R4)))))
proof
let R3 being set;
let R4 being (ManySortedSet of R3);
let R6 being (ManySortedSet of R3);
let R7 being (ManySortedSet of R3);
assume that
L318: ( union R7 ) c= R4
and
L319: R6 in R7;
let C64 being set;
assume L320: C64 in R3;
L321: ( ( union R7 ) . C64 ) c= ( R4 . C64 ) by L320 , L318 , PBOOLE:def 2;
L322: ( union ( R7 . C64 ) ) c= ( R4 . C64 ) by L321 , L320 , L228;
L323: ( R6 . C64 ) in ( R7 . C64 ) by L319 , L320 , PBOOLE:def 1;
thus L324: thesis by L323 , L322 , SETFAM_1:41;
end;
theorem
L325: (for R3 being set holds (for B26 being (ManySortedSet of R3) holds (for B27 being  non-empty (ManySortedSet of R3) holds ((for B28 being (ManySortedSet of R3) holds (B28 in B27 implies B28 c= B26)) implies ( union B27 ) c= B26))))
proof
let R3 being set;
let C65 being (ManySortedSet of R3);
let C66 being  non-empty (ManySortedSet of R3);
assume L326: (for B29 being (ManySortedSet of R3) holds (B29 in C66 implies B29 c= C65));
let C67 being set;
assume that
L327: C67 in R3;
L328: (for B30 being set holds (B30 in ( C66 . C67 ) implies B30 c= ( C65 . C67 )))
proof
consider C68 being (ManySortedSet of R3) such that L329: C68 in C66 by PBOOLE:134;
let C69 being set;
assume that
L330: C69 in ( C66 . C67 );
L331: ( dom ( C68 +* ( C67 .--> C69 ) ) ) = R3 by L327 , L14;
reconsider D2 = ( C68 +* ( C67 .--> C69 ) ) as (ManySortedSet of R3) by L331 , PARTFUN1:def 2 , RELAT_1:def 18;
L332: ( dom ( C67 .--> C69 ) ) = { C67 } by FUNCOP_1:13;
L333: C67 in { C67 } by TARSKI:def 1;
L334: ( D2 . C67 ) = ( ( C67 .--> C69 ) . C67 ) by L333 , L332 , FUNCT_4:13
.= C69 by FUNCOP_1:72;
L335: D2 in C66
proof
let C70 being set;
assume that
L336: C70 in R3;
L337:
now
per cases ;
case L338: C70 = C67;
thus L339: thesis by L338 , L330 , L334;
end;
case L340: C70 <> C67;
L341: (not C70 in ( dom ( C67 .--> C69 ) )) by L340 , L332 , TARSKI:def 1;
L342: ( D2 . C70 ) = ( C68 . C70 ) by L341 , FUNCT_4:11;
thus L343: thesis by L342 , L329 , L336 , PBOOLE:def 1;
end;
end;
thus L345: thesis by L337;
end;
L346: D2 c= C65 by L335 , L326;
thus L347: thesis by L346 , L327 , L334 , PBOOLE:def 2;
end;
L348: ( union ( C66 . C67 ) ) c= ( C65 . C67 ) by L328 , ZFMISC_1:76;
thus L349: thesis by L348 , L327 , L228;
end;
theorem
L350: (for R3 being set holds (for B31 being (ManySortedSet of R3) holds (for B32 being  non-empty (ManySortedSet of R3) holds ((for B33 being (ManySortedSet of R3) holds (B33 in B32 implies ( B33 /\ B31 ) = ( [[0]] R3 ))) implies ( ( union B32 ) /\ B31 ) = ( [[0]] R3 )))))
proof
let R3 being set;
let C71 being (ManySortedSet of R3);
let C72 being  non-empty (ManySortedSet of R3);
assume L351: (for B34 being (ManySortedSet of R3) holds (B34 in C72 implies ( B34 /\ C71 ) = ( [[0]] R3 )));
L352:
now
let C73 being set;
assume that
L353: C73 in R3;
L354: (for B35 being set holds (B35 in ( C72 . C73 ) implies B35 misses ( C71 . C73 )))
proof
consider C74 being (ManySortedSet of R3) such that L355: C74 in C72 by PBOOLE:134;
let C75 being set;
assume that
L356: C75 in ( C72 . C73 );
L357: ( dom ( C74 +* ( C73 .--> C75 ) ) ) = R3 by L353 , L14;
reconsider D3 = ( C74 +* ( C73 .--> C75 ) ) as (ManySortedSet of R3) by L357 , PARTFUN1:def 2 , RELAT_1:def 18;
L358: ( dom ( C73 .--> C75 ) ) = { C73 } by FUNCOP_1:13;
L359: C73 in { C73 } by TARSKI:def 1;
L360: ( D3 . C73 ) = ( ( C73 .--> C75 ) . C73 ) by L359 , L358 , FUNCT_4:13
.= C75 by FUNCOP_1:72;
L361: D3 in C72
proof
let C76 being set;
assume that
L362: C76 in R3;
L363:
now
per cases ;
case L364: C76 = C73;
thus L365: thesis by L364 , L356 , L360;
end;
case L366: C76 <> C73;
L367: (not C76 in ( dom ( C73 .--> C75 ) )) by L366 , L358 , TARSKI:def 1;
L368: ( D3 . C76 ) = ( C74 . C76 ) by L367 , FUNCT_4:11;
thus L369: thesis by L368 , L355 , L362 , PBOOLE:def 1;
end;
end;
thus L371: thesis by L363;
end;
L372: ( D3 /\ C71 ) = ( [[0]] R3 ) by L361 , L351;
L373: ( ( D3 . C73 ) /\ ( C71 . C73 ) ) = ( ( [[0]] R3 ) . C73 ) by L372 , L353 , PBOOLE:def 5;
L374: ( C75 /\ ( C71 . C73 ) ) = ( {} ) by L373 , L360 , PBOOLE:5;
thus L375: thesis by L374 , XBOOLE_0:def 7;
end;
L376: ( union ( C72 . C73 ) ) misses ( C71 . C73 ) by L354 , ZFMISC_1:80;
L377: ( ( union ( C72 . C73 ) ) /\ ( C71 . C73 ) ) = ( {} ) by L376 , XBOOLE_0:def 7;
L378: ( ( ( union C72 ) . C73 ) /\ ( C71 . C73 ) ) = ( {} ) by L377 , L353 , L228;
L379: ( ( ( union C72 ) /\ C71 ) . C73 ) = ( {} ) by L378 , L353 , PBOOLE:def 5;
thus L380: ( ( ( union C72 ) /\ C71 ) . C73 ) = ( ( [[0]] R3 ) . C73 ) by L379 , PBOOLE:5;
end;
thus L381: thesis by L352 , PBOOLE:3;
end;
theorem
L382: (for R3 being set holds (for B36 , B37 being (ManySortedSet of R3) holds (( B36 \/ B37 ) is  non-empty implies ((for B38 , B39 being (ManySortedSet of R3) holds ((B38 <> B39 & B38 in ( B36 \/ B37 ) & B39 in ( B36 \/ B37 )) implies ( B38 /\ B39 ) = ( [[0]] R3 ))) implies ( union ( B36 /\ B37 ) ) = ( ( union B36 ) /\ ( union B37 ) )))))
proof
let R3 being set;
let C77 , C78 being (ManySortedSet of R3);
assume that
L383: ( C77 \/ C78 ) is  non-empty;
assume L384: (for B40 , B41 being (ManySortedSet of R3) holds ((B40 <> B41 & B40 in ( C77 \/ C78 ) & B41 in ( C77 \/ C78 )) implies ( B40 /\ B41 ) = ( [[0]] R3 )));
L385:
now
let C79 being set;
assume that
L386: C79 in R3;
L387: (for B42 , B43 being set holds ((B42 <> B43 & B42 in ( ( C77 . C79 ) \/ ( C78 . C79 ) ) & B43 in ( ( C77 . C79 ) \/ ( C78 . C79 ) )) implies B42 misses B43))
proof
consider C80 being (ManySortedSet of R3) such that L388: C80 in ( C77 \/ C78 ) by L383 , PBOOLE:134;
L389: C79 in { C79 } by TARSKI:def 1;
let C81 , C82 being set;
assume that
L390: C81 <> C82
and
L391: C81 in ( ( C77 . C79 ) \/ ( C78 . C79 ) )
and
L392: C82 in ( ( C77 . C79 ) \/ ( C78 . C79 ) );
L393: (( dom ( C80 +* ( C79 .--> C81 ) ) ) = R3 & ( dom ( C80 +* ( C79 .--> C82 ) ) ) = R3) by L386 , L14;
reconsider D4 = ( C80 +* ( C79 .--> C81 ) ) , D5 = ( C80 +* ( C79 .--> C82 ) ) as (ManySortedSet of R3) by L393 , PARTFUN1:def 2 , RELAT_1:def 18;
L394: ( dom ( C79 .--> C82 ) ) = { C79 } by FUNCOP_1:13;
L395: ( D5 . C79 ) = ( ( C79 .--> C82 ) . C79 ) by L394 , L389 , FUNCT_4:13
.= C82 by FUNCOP_1:72;
L396: D5 in ( C77 \/ C78 )
proof
let C83 being set;
assume that
L397: C83 in R3;
L398:
now
per cases ;
suppose L399: C83 = C79;

thus L400: thesis by L399 , L392 , L395 , L397 , PBOOLE:def 4;
end;
suppose L401: C83 <> C79;

L402: (not C83 in ( dom ( C79 .--> C82 ) )) by L401 , L394 , TARSKI:def 1;
L403: ( D5 . C83 ) = ( C80 . C83 ) by L402 , FUNCT_4:11;
thus L404: thesis by L403 , L388 , L397 , PBOOLE:def 1;
end;
end;
thus L406: thesis by L398;
end;
L407: ( dom ( C79 .--> C81 ) ) = { C79 } by FUNCOP_1:13;
L408: ( D4 . C79 ) = ( ( C79 .--> C81 ) . C79 ) by L407 , L389 , FUNCT_4:13
.= C81 by FUNCOP_1:72;
L409: D4 in ( C77 \/ C78 )
proof
let C84 being set;
assume that
L410: C84 in R3;
L411:
now
per cases ;
case L412: C84 = C79;
thus L413: thesis by L412 , L391 , L408 , L410 , PBOOLE:def 4;
end;
case L414: C84 <> C79;
L415: (not C84 in ( dom ( C79 .--> C81 ) )) by L414 , L407 , TARSKI:def 1;
L416: ( D4 . C84 ) = ( C80 . C84 ) by L415 , FUNCT_4:11;
thus L417: thesis by L416 , L388 , L410 , PBOOLE:def 1;
end;
end;
thus L419: thesis by L411;
end;
L420: ( D4 /\ D5 ) = ( [[0]] R3 ) by L409 , L384 , L390 , L408 , L395 , L396;
L421: ( ( D4 /\ D5 ) . C79 ) = ( {} ) by L420 , PBOOLE:5;
L422: ( C81 /\ C82 ) = ( {} ) by L421 , L386 , L408 , L395 , PBOOLE:def 5;
thus L423: thesis by L422 , XBOOLE_0:def 7;
end;
L424: ( union ( ( C77 . C79 ) /\ ( C78 . C79 ) ) ) = ( ( union ( C77 . C79 ) ) /\ ( union ( C78 . C79 ) ) ) by L387 , ZFMISC_1:83;
L425: ( union ( ( C77 . C79 ) /\ ( C78 . C79 ) ) ) = ( ( ( union C77 ) . C79 ) /\ ( union ( C78 . C79 ) ) ) by L424 , L386 , L228;
L426: ( union ( ( C77 . C79 ) /\ ( C78 . C79 ) ) ) = ( ( ( union C77 ) . C79 ) /\ ( ( union C78 ) . C79 ) ) by L425 , L386 , L228;
L427: ( union ( ( C77 . C79 ) /\ ( C78 . C79 ) ) ) = ( ( ( union C77 ) /\ ( union C78 ) ) . C79 ) by L426 , L386 , PBOOLE:def 5;
thus L428: ( ( union ( C77 /\ C78 ) ) . C79 ) = ( ( ( union C77 ) /\ ( union C78 ) ) . C79 ) by L427 , L386 , L244;
end;
thus L429: thesis by L385 , PBOOLE:3;
end;
theorem
L430: (for R3 being set holds (for B44 , B45 being (ManySortedSet of R3) holds (for B46 being  non-empty (ManySortedSet of R3) holds ((B45 c= ( union ( B44 \/ B46 ) ) & (for B47 being (ManySortedSet of R3) holds (B47 in B46 implies ( B47 /\ B45 ) = ( [[0]] R3 )))) implies B45 c= ( union B44 )))))
proof
let R3 being set;
let C85 , C86 being (ManySortedSet of R3);
let C87 being  non-empty (ManySortedSet of R3);
assume that
L431: C86 c= ( union ( C85 \/ C87 ) )
and
L432: (for B48 being (ManySortedSet of R3) holds (B48 in C87 implies ( B48 /\ C86 ) = ( [[0]] R3 )));
let C88 being set;
assume L433: C88 in R3;
L434: (for B49 being set holds (B49 in ( C87 . C88 ) implies B49 misses ( C86 . C88 )))
proof
consider C89 being (ManySortedSet of R3) such that L435: C89 in C87 by PBOOLE:134;
let C90 being set;
assume that
L436: C90 in ( C87 . C88 );
L437: ( dom ( C89 +* ( C88 .--> C90 ) ) ) = R3 by L433 , L14;
reconsider D6 = ( C89 +* ( C88 .--> C90 ) ) as (ManySortedSet of R3) by L437 , PARTFUN1:def 2 , RELAT_1:def 18;
L438: ( dom ( C88 .--> C90 ) ) = { C88 } by FUNCOP_1:13;
L439: C88 in { C88 } by TARSKI:def 1;
L440: ( D6 . C88 ) = ( ( C88 .--> C90 ) . C88 ) by L439 , L438 , FUNCT_4:13
.= C90 by FUNCOP_1:72;
L441: D6 in C87
proof
let C91 being set;
assume that
L442: C91 in R3;
L443:
now
per cases ;
case L444: C91 = C88;
thus L445: thesis by L444 , L436 , L440;
end;
case L446: C91 <> C88;
L447: (not C91 in ( dom ( C88 .--> C90 ) )) by L446 , L438 , TARSKI:def 1;
L448: ( D6 . C91 ) = ( C89 . C91 ) by L447 , FUNCT_4:11;
thus L449: thesis by L448 , L435 , L442 , PBOOLE:def 1;
end;
end;
thus L451: thesis by L443;
end;
L452: ( D6 /\ C86 ) = ( [[0]] R3 ) by L441 , L432;
L453: ( ( D6 /\ C86 ) . C88 ) = ( {} ) by L452 , PBOOLE:5;
L454: ( C90 /\ ( C86 . C88 ) ) = ( {} ) by L453 , L433 , L440 , PBOOLE:def 5;
thus L455: thesis by L454 , XBOOLE_0:def 7;
end;
L456: ( C86 . C88 ) c= ( ( union ( C85 \/ C87 ) ) . C88 ) by L431 , L433 , PBOOLE:def 2;
L457: ( C86 . C88 ) c= ( union ( ( C85 . C88 ) \/ ( C87 . C88 ) ) ) by L456 , L433 , L241;
L458: ( C86 . C88 ) c= ( union ( C85 . C88 ) ) by L457 , L434 , SETFAM_1:42;
thus L459: thesis by L458 , L433 , L228;
end;
theorem
L460: (for R3 being set holds (for B50 being  finite-yielding  non-empty (ManySortedSet of R3) holds ((for B51 , B52 being (ManySortedSet of R3) holds ((B51 in B50 & B52 in B50) implies (B51 c= B52 or B52 c= B51))) implies ( union B50 ) in B50)))
proof
let R3 being set;
let C92 being  finite-yielding  non-empty (ManySortedSet of R3);
assume that
L461: (for B53 , B54 being (ManySortedSet of R3) holds ((B53 in C92 & B54 in C92) implies (B53 c= B54 or B54 c= B53)));
let C93 being set;
assume L462: C93 in R3;
L463: C93 in ( dom C92 ) by L462 , PARTFUN1:def 2;
L464: ( C92 . C93 ) in ( rng C92 ) by L463 , FUNCT_1:3;
L465: ( C92 . C93 ) is  finite by L464 , FINSET_1:def 2;
L466: (for B55 , B56 being set holds ((B55 in ( C92 . C93 ) & B56 in ( C92 . C93 )) implies (B55 c= B56 or B56 c= B55)))
proof
let C94 , C95 being set;
assume that
L467: C94 in ( C92 . C93 )
and
L468: C95 in ( C92 . C93 );
consider C96 being (ManySortedSet of R3) such that L469: C96 in C92 by PBOOLE:134;
L470: (( dom ( C96 +* ( C93 .--> C95 ) ) ) = R3 & ( dom ( C96 +* ( C93 .--> C94 ) ) ) = R3) by L462 , L14;
reconsider D7 = ( C96 +* ( C93 .--> C94 ) ) , D8 = ( C96 +* ( C93 .--> C95 ) ) as (ManySortedSet of R3) by L470 , PARTFUN1:def 2 , RELAT_1:def 18;
assume L471: (not C94 c= C95);
L472: C93 in { C93 } by TARSKI:def 1;
L473: ( dom ( C93 .--> C95 ) ) = { C93 } by FUNCOP_1:13;
L474: ( D8 . C93 ) = ( ( C93 .--> C95 ) . C93 ) by L473 , L472 , FUNCT_4:13
.= C95 by FUNCOP_1:72;
L475: D8 in C92
proof
let C97 being set;
assume that
L476: C97 in R3;
L477:
now
per cases ;
case L478: C97 = C93;
thus L479: thesis by L478 , L468 , L474;
end;
case L480: C97 <> C93;
L481: (not C97 in ( dom ( C93 .--> C95 ) )) by L480 , L473 , TARSKI:def 1;
L482: ( D8 . C97 ) = ( C96 . C97 ) by L481 , FUNCT_4:11;
thus L483: thesis by L482 , L469 , L476 , PBOOLE:def 1;
end;
end;
thus L485: thesis by L477;
end;
L486: ( dom ( C93 .--> C94 ) ) = { C93 } by FUNCOP_1:13;
L487: ( D7 . C93 ) = ( ( C93 .--> C94 ) . C93 ) by L486 , L472 , FUNCT_4:13
.= C94 by FUNCOP_1:72;
L488: D7 in C92
proof
let C98 being set;
assume that
L489: C98 in R3;
L490:
now
per cases ;
case L491: C98 = C93;
thus L492: thesis by L491 , L467 , L487;
end;
case L493: C98 <> C93;
L494: (not C98 in ( dom ( C93 .--> C94 ) )) by L493 , L486 , TARSKI:def 1;
L495: ( D7 . C98 ) = ( C96 . C98 ) by L494 , FUNCT_4:11;
thus L496: thesis by L495 , L469 , L489 , PBOOLE:def 1;
end;
end;
thus L498: thesis by L490;
end;
L499: (D7 c= D8 or D8 c= D7) by L488 , L461 , L475;
thus L500: thesis by L499 , L462 , L471 , L487 , L474 , PBOOLE:def 2;
end;
L501: ( C92 . C93 ) <> ( {} ) by L462 , PBOOLE:def 13;
L502: ( union ( C92 . C93 ) ) in ( C92 . C93 ) by L501 , L465 , L466 , CARD_2:62;
thus L503: thesis by L502 , L462 , L228;
end;
