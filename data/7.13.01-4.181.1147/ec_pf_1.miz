:: Set of Points on Elliptic Curve in Projective Coordinates
::  by Yuichi Futa , Hiroyuki Okazaki and Yasunari Shidama
::
:: Received December 21, 2010
:: Copyright (c) 2010-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, CARD_1, FUNCT_1, RELAT_1, XBOOLE_0, ARYTM_3, NEWTON,
      TARSKI, FINSET_1, MCART_1, CARD_3, FINSEQ_1, SUBSET_1, ARYTM_1, XXREAL_0,
      FUNCT_2, PARTFUN1, INT_2, NAT_1, BINOP_1, BINOP_2, REALSET1, ZFMISC_1,
      INT_3, SUPINF_2, ALGSTR_0, GROUP_1, MESFUNC1, INT_1, VECTSP_1, STRUCT_0,
      GROUP_2, GRAPH_1, FINSEQ_2, EC_PF_1, RLVECT_1, LATTICES, EQREL_1,
      RELAT_2, UNIROOTS, PROB_2, REAL_1, MOD_2, RECDEF_2;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, RELAT_1, FUNCT_1, RELAT_2,
      RELSET_1, PARTFUN1, XTUPLE_0, MCART_1, FUNCT_2, BINOP_1, DOMAIN_1,
      FINSET_1, CARD_1, CARD_3, NUMBERS, XCMPLX_0, XXREAL_0, REAL_1, ORDINAL1,
      NAT_1, INT_1, NAT_D, REALSET1, FINSEQ_1, FINSEQ_2, EQREL_1, RVSUM_1,
      NEWTON, WSIERP_1, MOD_2, STRUCT_0, ALGSTR_0, RLVECT_1, GROUP_1, VECTSP_1,
      GROUP_2, GR_CY_1, INT_3, UNIROOTS, PROB_2, BINOM;
 constructors NAT_D, SEQ_1, REALSET1, GROUP_2, BINOP_1, GR_CY_1, INT_3,
      WSIERP_1, UPROOTS, BINOP_2, RELSET_1, FUNCT_7, UNIROOTS, PROB_2, BINOM,
      MOD_2, XTUPLE_0;
 registrations XBOOLE_0, STRUCT_0, XREAL_0, ORDINAL1, NAT_1, INT_1, GROUP_2,
      FINSET_1, ALGSTR_0, VECTSP_1, INT_3, XXREAL_0, NEWTON, SUBSET_1, CARD_1,
      BINOM, RELAT_2, VALUED_0, EQREL_1, RELSET_1, FINSEQ_2, UNIROOTS, NUMBERS,
      MEMBERED, XTUPLE_0;
 requirements REAL, NUMERALS, SUBSET, BOOLE, ARITHM;
 definitions STRUCT_0, GROUP_1, INT_3, CARD_1, ALGSTR_0, BINOP_1, FINSEQ_1,
      REALSET1, TARSKI, FINSEQ_2, VECTSP_1, RLVECT_1, EQREL_1, BINOM, CARD_3,
      XTUPLE_0;
 theorems TARSKI, XBOOLE_0, ZFMISC_1, ORDINAL1, FUNCT_1, FUNCT_2, VECTSP_1,
      INT_1, RELAT_1, RLVECT_1, GR_CY_1, FUNCT_7, NAT_1, INT_2, INT_3, PEPIN,
      NAT_D, NUMBERS, CARD_1, GROUP_1, GROUP_2, STRUCT_0, XREAL_1, NEWTON,
      XXREAL_0, ALGSEQ_1, NAT_3, RVSUM_1, CARD_2, EULER_1, XBOOLE_1, FINSEQ_1,
      RELSET_1, FUNCOP_1, PARTFUN1, FINSEQ_2, BINOP_1, ALGSTR_0, MCART_1,
      EQREL_1, UNIROOTS, RELAT_2, GR_CY_3, DIST_1, PROB_2, BINOM, MOD_2,
      XTUPLE_0;
 schemes NAT_1, FUNCT_2, INT_1, FINSEQ_1;

begin
definition
let C1 being Field;
mode Subfield of C1
 -> Field
means :L1: ((the carrier of it) c= (the carrier of C1) & (the addF of it) = ( (the addF of C1) || (the carrier of it) ) & (the multF of it) = ( (the multF of C1) || (the carrier of it) ) & ( 1. it ) = ( 1. C1 ) & ( 0. it ) = ( 0. C1 ));
existence
proof
take C1;
thus L2: thesis by RELSET_1:19;
end;
end;
theorem
L4: (for R8 being Field holds R8 is (Subfield of R8))
proof
let R8 being Field;
L5: (the addF of R8) = ( (the addF of R8) || (the carrier of R8) ) by RELSET_1:19;
L6: (the multF of R8) = ( (the multF of R8) || (the carrier of R8) ) by RELSET_1:19;
L7: ((the carrier of R8) c= (the carrier of R8) & ( 1. R8 ) = ( 1. R8 ) & ( 0. R8 ) = ( 0. R8 ));
thus L8: thesis by L7 , L5 , L6 , L1;
end;
theorem
L9: (for R8 being Field holds (for B1 being non  empty doubleLoopStr holds (((the carrier of B1) is (Subset of (the carrier of R8)) & (the addF of B1) = ( (the addF of R8) || (the carrier of B1) ) & (the multF of B1) = ( (the multF of R8) || (the carrier of B1) ) & ( 1. B1 ) = ( 1. R8 ) & ( 0. B1 ) = ( 0. R8 ) & B1 is  right_complementable  commutative  almost_left_invertible non  degenerated) implies B1 is (Subfield of R8))))
proof
let R8 being Field;
let C2 being non  empty doubleLoopStr;
assume that
L10: (the carrier of C2) is (Subset of (the carrier of R8))
and
L11: (the addF of C2) = ( (the addF of R8) || (the carrier of C2) )
and
L12: (the multF of C2) = ( (the multF of R8) || (the carrier of C2) )
and
L13: ( 1. C2 ) = ( 1. R8 )
and
L14: ( 0. C2 ) = ( 0. R8 )
and
L15: C2 is  right_complementable  commutative  almost_left_invertible non  degenerated;
set D1 = (the carrier of C2);
set D2 = (the addF of C2);
set D3 = (the multF of C2);
set D4 = ( 0. C2 );
set D5 = ( 1. C2 );
L16:
now
let C3 , C4 being (Element of C2);
L17: ( C3 * C4 ) = ( (the multF of R8) . [ C3 , C4 ] ) by L12 , FUNCT_1:49;
thus L18: ( C3 * C4 ) = ( (the multF of R8) . (C3 , C4) ) by L17;
end;
L19:
now
let C5 , C6 being (Element of C2);
L20: ( C5 + C6 ) = ( (the addF of R8) . [ C5 , C6 ] ) by L11 , FUNCT_1:49;
thus L21: ( C5 + C6 ) = ( (the addF of R8) . (C5 , C6) ) by L20;
end;
L22: C2 is  Abelian  add-associative  right_zeroed  associative  well-unital  distributive
proof
set D6 = (the multF of R8);
set D7 = (the addF of R8);
thus L23:now
let C7 , C8 being (Element of C2);
reconsider D8 = C7 , D9 = C8 as (Element of R8) by L10 , TARSKI:def 3;
L24: (( C7 + C8 ) = ( D8 + D9 ) & ( C8 + C7 ) = ( D9 + D8 )) by L19;
thus L25: ( C7 + C8 ) = ( C8 + C7 ) by L24;
end;
thus L26:now
let C9 , C10 , C11 being (Element of C2);
reconsider D10 = C9 , D11 = C10 , D12 = C11 as (Element of R8) by L10 , TARSKI:def 3;
L27: ( C9 + ( C10 + C11 ) ) = ( D7 . (D10 , ( C10 + C11 )) ) by L19;
L28: ( C9 + ( C10 + C11 ) ) = ( D10 + ( D11 + D12 ) ) by L27 , L19;
L29: ( ( C9 + C10 ) + C11 ) = ( D7 . (( C9 + C10 ) , D12) ) by L19;
L30: ( ( C9 + C10 ) + C11 ) = ( ( D10 + D11 ) + D12 ) by L29 , L19;
thus L31: ( ( C9 + C10 ) + C11 ) = ( C9 + ( C10 + C11 ) ) by L30 , L28 , RLVECT_1:def 3;
end;
thus L32:now
let C12 being (Element of C2);
reconsider D13 = C12 , D14 = ( 0. C2 ) as (Element of R8) by L10 , TARSKI:def 3;
L33: ( C12 + ( 0. C2 ) ) = ( D13 + ( 0. R8 ) ) by L14 , L19;
thus L34: ( C12 + ( 0. C2 ) ) = C12 by L33 , RLVECT_1:4;
end;
thus L35:now
let C13 , C14 , C15 being (Element of C2);
reconsider D15 = C15 , D16 = C13 , D17 = C14 as (Element of R8) by L10 , TARSKI:def 3;
L36: ( C13 * ( C14 * C15 ) ) = ( D6 . (C13 , ( C14 * C15 )) ) by L16;
L37: ( C13 * ( C14 * C15 ) ) = ( D16 * ( D17 * D15 ) ) by L36 , L16;
L38: ( C13 * C14 ) = ( D16 * D17 ) by L16;
L39: ( ( C13 * C14 ) * C15 ) = ( ( D16 * D17 ) * D15 ) by L38 , L16;
thus L40: ( ( C13 * C14 ) * C15 ) = ( C13 * ( C14 * C15 ) ) by L39 , L37 , GROUP_1:def 3;
end;
thus L41:now
let C16 being (Element of C2);
reconsider D18 = C16 as (Element of R8) by L10 , TARSKI:def 3;
L42: (( C16 * ( 1. C2 ) ) = ( D18 * ( 1. R8 ) ) & ( ( 1. C2 ) * C16 ) = ( ( 1. R8 ) * D18 )) by L13 , L16;
thus L43: (( C16 * ( 1. C2 ) ) = C16 & ( ( 1. C2 ) * C16 ) = C16) by L42 , VECTSP_1:def 6;
end;
thus L44:now
let C17 , C18 , C19 being (Element of C2);
reconsider D19 = C18 , D20 = C19 , D21 = C17 as (Element of R8) by L10 , TARSKI:def 3;
L45: ( ( C18 + C19 ) * C17 ) = ( D6 . (( C18 + C19 ) , C17) ) by L16;
L46: ( ( C18 + C19 ) * C17 ) = ( ( D19 + D20 ) * D21 ) by L45 , L19;
L47: ( ( C18 + C19 ) * C17 ) = ( ( D19 * D21 ) + ( D20 * D21 ) ) by L46 , VECTSP_1:def 7;
L48: ( ( C18 + C19 ) * C17 ) = ( D7 . (( D6 . (D19 , D21) ) , ( C19 * C17 )) ) by L47 , L16;
L49: ( ( C18 + C19 ) * C17 ) = ( D7 . (( C18 * C17 ) , ( C19 * C17 )) ) by L48 , L16;
L50: ( C17 * ( C18 + C19 ) ) = ( D6 . (C17 , ( C18 + C19 )) ) by L16;
L51: ( C17 * ( C18 + C19 ) ) = ( D21 * ( D19 + D20 ) ) by L50 , L19;
L52: ( C17 * ( C18 + C19 ) ) = ( ( D21 * D19 ) + ( D21 * D20 ) ) by L51 , VECTSP_1:def 7;
L53: ( C17 * ( C18 + C19 ) ) = ( D7 . (( D6 . (C17 , D19) ) , ( C17 * C19 )) ) by L52 , L16;
L54: ( C17 * ( C18 + C19 ) ) = ( D7 . (( C17 * C18 ) , ( C17 * C19 )) ) by L53 , L16;
thus L55: (( C17 * ( C18 + C19 ) ) = ( ( C17 * C18 ) + ( C17 * C19 ) ) & ( ( C18 + C19 ) * C17 ) = ( ( C18 * C17 ) + ( C19 * C17 ) )) by L54 , L19 , L49;
end;
end;
thus L45: thesis by L22 , L10 , L11 , L12 , L13 , L14 , L15 , L1;
end;
registration
let C20 being Field;
cluster  strict for (Subfield of C20);
existence
proof
set D22 = ( [#] C20 );
L46: ((the addF of C20) = ( (the addF of C20) || D22 ) & (the multF of C20) = ( (the multF of C20) || D22 )) by RELSET_1:19;
set D23 = doubleLoopStr (# (the carrier of C20) , (the addF of C20) , (the multF of C20) , ( 1. C20 ) , ( 0. C20 ) #);
L47: (( 0. D23 ) = ( 0. C20 ) & ( 1. D23 ) = ( 1. C20 ));
L48: D23 is  right_complementable  commutative  almost_left_invertible non  degenerated
proof
thus L49: D23 is  right_complementable
proof
let C21 being (Element of D23);
reconsider D24 = C21 as (Element of C20);
consider C22 being (Element of C20) such that L50: ( D24 + C22 ) = ( 0. C20 ) by ALGSTR_0:def 11;
reconsider D25 = C22 as (Element of D23);
take D25;
thus L51: thesis by L50;
end;

thus L52: D23 is  commutative
proof
let C23 , C24 being (Element of D23);
reconsider D26 = C23 , D27 = C24 as (Element of C20);
L53: (( C23 * C24 ) = ( D26 * D27 ) & ( C24 * C23 ) = ( D27 * D26 ));
thus L54: ( C23 * C24 ) = ( C24 * C23 ) by L53;
end;

thus L55: D23 is  almost_left_invertible
proof
let C25 being (Element of D23);
assume that
L56: C25 <> ( 0. D23 );
reconsider D28 = C25 as (Element of C20);
L57: D28 is  left_invertible by L56 , ALGSTR_0:def 39;
consider C26 being (Element of C20) such that L58: ( C26 * D28 ) = ( 1. C20 ) by L57 , ALGSTR_0:def 27;
reconsider D29 = C26 as (Element of D23);
take D29;
thus L59: thesis by L58;
end;

L60: (( 0. D23 ) = ( 0. C20 ) & ( 1. D23 ) = ( 1. C20 ) & ( 0. C20 ) <> ( 1. C20 ));
thus L61: thesis by L60 , STRUCT_0:def 8;
end;
L62: D23 is (Subfield of C20) by L48 , L46 , L47 , L9;
thus L63: thesis by L62;
end;
end;
theorem
L65: (for R9 being Field holds (for R10 being Field holds (R9 is (Subfield of R10) implies (for R1 being set holds (R1 in R9 implies R1 in R10)))))
proof
let R9 being Field;
let R10 being Field;
assume L66: R9 is (Subfield of R10);
L67: (the carrier of R9) c= (the carrier of R10) by L66 , L1;
L68: (for R1 being set holds (R1 in R9 implies R1 in R10))
proof
let R1 being set;
assume L69: R1 in R9;
L70: R1 in (the carrier of R9) by L69 , STRUCT_0:def 5;
thus L71: thesis by L70 , L67 , STRUCT_0:def 5;
end;
thus L72: thesis by L68;
end;
theorem
L73: (for B2 , B3 being  strict Field holds ((B2 is (Subfield of B3) & B3 is (Subfield of B2)) implies B2 = B3))
proof
let C27 , C28 being  strict Field;
assume L74: (C27 is (Subfield of C28) & C28 is (Subfield of C27));
L75: ((the carrier of C27) c= (the carrier of C28) & (the carrier of C28) c= (the carrier of C27)) by L74 , L1;
L76: (the carrier of C27) = (the carrier of C28) by L75 , XBOOLE_0:def 10;
L77: (the addF of C28) = ( (the addF of C28) || (the carrier of C27) ) by L76 , RELSET_1:19
.= (the addF of C27) by L74 , L1;
L78: (the multF of C28) = ( (the multF of C28) || (the carrier of C27) ) by L76 , RELSET_1:19
.= (the multF of C27) by L74 , L1;
L79: (( 1. C27 ) = ( 1. C28 ) & ( 0. C27 ) = ( 0. C28 )) by L74 , L1;
thus L80: thesis by L79 , L77 , L78 , L75 , XBOOLE_0:def 10;
end;
theorem
L81: (for B4 , B5 , B6 being  strict Field holds ((B4 is (Subfield of B5) & B5 is (Subfield of B6)) implies B4 is (Subfield of B6)))
proof
let C29 , C30 , C31 being  strict Field;
assume L82: (C29 is (Subfield of C30) & C30 is (Subfield of C31));
set D30 = (the carrier of C29);
set D31 = (the carrier of C30);
set D32 = (the carrier of C31);
set D33 = (the addF of C31);
set D34 = (the multF of C31);
L83: D30 c= D31 by L82 , L1;
L84: [: D30 , D30 :] c= [: D31 , D31 :] by L83 , ZFMISC_1:96;
L85: D31 c= D32 by L82 , L1;
L86: D30 c= D32 by L85 , L83 , XBOOLE_1:1;
L87: (the addF of C30) = ( D33 || D31 ) by L82 , L1;
L88: (the addF of C29) = ( (the addF of C30) || D30 ) by L82 , L1
.= ( D33 || D30 ) by L84 , L87 , FUNCT_1:51;
L89: (the multF of C30) = ( D34 || D31 ) by L82 , L1;
L90: (the multF of C29) = ( (the multF of C30) || D30 ) by L82 , L1
.= ( D34 || D30 ) by L84 , L89 , FUNCT_1:51;
L91: (( 1. C29 ) = ( 1. C30 ) & ( 0. C29 ) = ( 0. C30 )) by L82 , L1;
L92: (( 1. C29 ) = ( 1. C31 ) & ( 0. C29 ) = ( 0. C31 )) by L91 , L82 , L1;
thus L93: thesis by L92 , L86 , L88 , L90 , L1;
end;
theorem
L94: (for R8 being Field holds (for R12 being (Subfield of R8) holds (for R13 being (Subfield of R8) holds (R12 is (Subfield of R13) iff (the carrier of R12) c= (the carrier of R13)))))
proof
let R8 being Field;
let R12 being (Subfield of R8);
let R13 being (Subfield of R8);
set D35 = (the carrier of R12);
set D36 = (the carrier of R13);
set D37 = (the addF of R8);
set D38 = (the multF of R8);
thus L95: (R12 is (Subfield of R13) implies D35 c= D36) by L1;
assume L96: D35 c= D36;
L97: [: D35 , D35 :] c= [: D36 , D36 :] by L96 , ZFMISC_1:96;
L98: (the addF of R13) = ( D37 || D36 ) by L1;
L99: ( (the addF of R13) || D35 ) = ( D37 || D35 ) by L98 , L97 , FUNCT_1:51
.= (the addF of R12) by L1;
L100: (the multF of R13) = ( D38 || D36 ) by L1;
L101: ( (the multF of R13) || D35 ) = ( D38 || D35 ) by L100 , L97 , FUNCT_1:51
.= (the multF of R12) by L1;
L102: (( 1. R12 ) = ( 1. R8 ) & ( 0. R12 ) = ( 0. R8 )) by L1;
L103: (( 1. R12 ) = ( 1. R13 ) & ( 0. R12 ) = ( 0. R13 )) by L102 , L1;
thus L104: thesis by L103 , L96 , L99 , L101 , L1;
end;
theorem
L105: (for R8 being Field holds (for R12 being (Subfield of R8) holds (for R13 being (Subfield of R8) holds (R12 is (Subfield of R13) iff (for R1 being set holds (R1 in R12 implies R1 in R13))))))
proof
let R8 being Field;
let R12 being (Subfield of R8);
let R13 being (Subfield of R8);
thus L106: (R12 is (Subfield of R13) implies (for R1 being set holds (R1 in R12 implies R1 in R13))) by L65;
assume L107: (for R1 being set holds (R1 in R12 implies R1 in R13));
L108: (the carrier of R12) c= (the carrier of R13)
proof
let C32 being set;
assume L109: C32 in (the carrier of R12);
reconsider D39 = C32 as (Element of R12) by L109;
L110: D39 in R12 by STRUCT_0:def 5;
L111: D39 in R13 by L110 , L107;
thus L112: thesis by L111 , STRUCT_0:def 5;
end;
thus L113: thesis by L108 , L94;
end;
theorem
L114: (for R8 being Field holds (for B7 , B8 being  strict (Subfield of R8) holds (B7 = B8 iff (the carrier of B7) = (the carrier of B8))))
proof
let R8 being Field;
let C33 , C34 being  strict (Subfield of R8);
thus L115: (C33 = C34 implies (the carrier of C33) = (the carrier of C34));
assume L116: (the carrier of C33) = (the carrier of C34);
L117: C34 is  strict  strict  strict  strict (Subfield of C33) by L116 , L94;
L118: C33 is  strict  strict  strict  strict (Subfield of C34) by L116 , L94;
thus L119: thesis by L118 , L117 , L73;
end;
theorem
L120: (for R8 being Field holds (for B9 , B10 being  strict (Subfield of R8) holds (B9 = B10 iff (for R1 being set holds (R1 in B9 iff R1 in B10)))))
proof
let R8 being Field;
let C35 , C36 being  strict (Subfield of R8);
thus L121: (C35 = C36 implies (for R1 being set holds (R1 in C35 iff R1 in C36)));
assume L122: (for R1 being set holds (R1 in C35 iff R1 in C36));
L123: (C35 is  strict  strict  strict  strict (Subfield of C36) & C36 is  strict  strict  strict  strict (Subfield of C35)) by L122 , L105;
thus L124: thesis by L123 , L73;
end;
registration
let C37 being  finite Field;
cluster  finite for (Subfield of C37);
existence
proof
reconsider D40 = C37 as (Subfield of C37) by L4;
take D40;
thus L125: thesis;
end;
end;
definition
let C38 being  finite Field;
redefine func card C38 -> (Element of ( NAT ));

coherence
proof
L127: ( card (the carrier of C38) ) in ( NAT );
thus L128: thesis by L127;
end;
end;
registration
cluster  strict  finite for Field;
existence
proof
L130: ( Z_3 ) is  finite by MOD_2:def 20;
thus L131: thesis by L130 , MOD_2:27;
end;
end;
theorem
L133: (for B11 being  strict  finite Field holds (for B12 being  strict (Subfield of B11) holds (( card B11 ) = ( card B12 ) implies B12 = B11)))
proof
let C39 being  strict  finite Field;
let C40 being  strict (Subfield of C39);
assume L134: ( card C39 ) = ( card C40 );
L135: (the carrier of C40) = (the carrier of C39)
proof
assume L136: (the carrier of C40) <> (the carrier of C39);
L137: (the carrier of C40) c= (the carrier of C39) by L1;
L138: (the carrier of C40) c< (the carrier of C39) by L137 , L136 , XBOOLE_0:def 8;
thus L139: contradiction by L138 , L134 , L137 , CARD_2:48;
end;
L140: C39 is (Subfield of C39) by L4;
thus L141: thesis by L140 , L135 , L114;
end;
definition
let C41 being Field;
attr C41 is  prime
means
:L142: (for R9 being Field holds (R9 is  strict  strict  strict  strict (Subfield of C41) implies R9 = C41));
end;
notation
let C42 being Prime;
synonym GF C42 for INT.Ring C42;
end;
registration
let C43 being Prime;
cluster ( GF C43 ) ->  finite;
coherence;
end;
registration
let C44 being Prime;
cluster ( GF C44 ) ->  prime;
coherence
proof
set D41 = ( GF C44 );
L146: C44 > 1 by INT_2:def 4;
L147:
now
let C45 being  strict (Subfield of D41);
set D42 = (the carrier of D41);
set D43 = (the carrier of C45);
set D44 = ( C44 - 1 );
reconsider D45 = D44 as (Element of ( NAT )) by L146 , NAT_1:20;
L148: (for R1 being set holds (R1 in D41 implies R1 in C45))
proof
L149: (for B13 being (Element of ( NAT )) holds (B13 in ( Segm C44 ) implies B13 in D43))
proof
defpred S1[ Nat ] means $1 in D43;
L150: ( 0 ) in ( Segm C44 ) by NAT_1:44;
L151: ( 0. D41 ) = ( 0 ) by L150 , FUNCT_7:def 1;
L152: ( 0. C45 ) = ( 0 ) by L151 , L1;
L153: S1[ ( 0 ) ] by L152;
L154:
now
let C46 being (Element of ( NAT ));
assume that
L155: (( 0 ) <= C46 & C46 < D45);
assume L156: S1[ C46 ];
L157: ( 1. C45 ) = ( 1. D41 ) by L1
.= 1 by L146 , INT_3:14;
L158: [ 1 , C46 ] in [: D43 , D43 :] by L157 , L156 , ZFMISC_1:87;
L159: (the addF of C45) = ( (the addF of D41) || D43 ) by L1;
L160: ( 1 + C46 ) < ( D45 + 1 ) by L155 , XREAL_1:6;
L161: C46 < ( D45 + 1 ) by L155 , NAT_1:13;
L162: (1 in ( Segm C44 ) & C46 in ( Segm C44 )) by L161 , L146 , NAT_1:44;
L163: ( (the addF of C45) . (1 , C46) ) = ( ( addint C44 ) . (1 , C46) ) by L158 , L159 , FUNCT_1:49
.= ( ( 1 + C46 ) mod C44 ) by L162 , GR_CY_1:def 4
.= ( 1 + C46 ) by L160 , NAT_D:63;
thus L164: S1[ ( C46 + 1 ) ] by L163 , L156 , L157 , BINOP_1:17;
end;
L165: (for B14 being (Element of ( NAT )) holds ((( 0 ) <= B14 & B14 <= D45) implies S1[ B14 ])) from INT_1:sch 7(L153 , L154);
thus L166: (for B15 being (Element of ( NAT )) holds (B15 in ( Segm C44 ) implies S1[ B15 ]))
proof
let C47 being (Element of ( NAT ));
assume that
L167: C47 in ( Segm C44 );
L168: (( 0 ) <= C47 & C47 < ( D45 + 1 )) by L167 , ALGSEQ_1:1;
L169: (( 0 ) <= C47 & C47 <= D45) by L168 , NAT_1:13;
thus L170: S1[ C47 ] by L169 , L165;
end;

end;
thus L167: (for R1 being set holds (R1 in D41 implies R1 in C45))
proof
let C48 being set;
assume that
L168: C48 in D41;
L169: C48 in D42 by L168 , STRUCT_0:def 5;
L170: C48 in D43 by L169 , L149;
thus L171: C48 in C45 by L170 , STRUCT_0:def 5;
end;

end;
L168: D41 is  strict  strict  strict  strict (Subfield of D41) by L4;
L169: D41 is  strict  strict  strict  strict (Subfield of C45) by L168 , L148 , L105;
thus L170: C45 = D41 by L169 , L73;
end;
L171: (for R9 being Field holds (R9 is  strict  strict  strict  strict (Subfield of D41) implies R9 = D41)) by L147;
thus L172: thesis by L171 , L142;
end;
end;
registration
cluster  prime for Field;
existence
proof
take ( GF the Prime );
thus L174: thesis;
end;
end;
begin
L176: (for B16 being non  empty multMagma holds (for B17 being (Element of B16) holds (for B18 being Nat holds ( ( power B16 ) . (B17 , B18) ) is (Element of B16))))
proof
let C49 being non  empty multMagma;
let C50 being (Element of C49);
defpred S2[ Nat ] means ( ( power C49 ) . (C50 , $1) ) is (Element of C49);
L177: ( ( power C49 ) . (C50 , ( 0 )) ) = ( 1_ C49 ) by GROUP_1:def 7;
L178: S2[ ( 0 ) ] by L177;
L179:
now
let C51 being Nat;
assume L180: S2[ C51 ];
reconsider D46 = ( ( power C49 ) . (C50 , C51) ) as (Element of C49) by L180;
L181: ( C51 - ( 0 ) ) is (Element of ( NAT )) by NAT_1:21;
L182: ( ( power C49 ) . (C50 , ( C51 + 1 )) ) = ( D46 * C50 ) by L181 , GROUP_1:def 7;
thus L183: S2[ ( C51 + 1 ) ] by L182;
end;
L184: (for B19 being Nat holds S2[ B19 ]) from NAT_1:sch 2(L178 , L179);
thus L185: thesis by L184;
end;
theorem
L186: (for R17 being Prime holds ( 0 ) = ( 0. ( GF R17 ) ))
proof
let R17 being Prime;
L187: ( 0 ) in ( Segm R17 ) by NAT_1:44;
thus L188: ( 0 ) = ( 0. ( GF R17 ) ) by L187 , FUNCT_7:def 1;
end;
theorem
L189: (for R17 being Prime holds 1 = ( 1. ( GF R17 ) ))
proof
let R17 being Prime;
L190: 1 < R17 by INT_2:def 4;
L191: 1 in ( Segm R17 ) by L190 , NAT_1:44;
thus L192: thesis by L191 , FUNCT_7:def 1;
end;
theorem
L193: (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds (ex R5 being Nat st R18 = ( R5 mod R17 ))))
proof
let R17 being Prime;
let R18 being (Element of ( GF R17 ));
reconsider D47 = R18 as (Element of ( Segm R17 ));
L194: (( 0 ) <= D47 & D47 < R17) by ALGSEQ_1:1;
L195: D47 = ( D47 mod R17 ) by L194 , NAT_D:63;
thus L196: thesis by L195;
end;
theorem
L197: (for R2 being Integer holds (for R17 being Prime holds ( R2 mod R17 ) is (Element of ( GF R17 ))))
proof
let R2 being Integer;
let R17 being Prime;
reconsider D48 = ( R2 mod R17 ) as Integer;
L198: D48 in ( NAT ) by INT_1:3 , INT_1:57;
reconsider D49 = D48 as Nat by L198;
L199: D49 < R17 by INT_1:58;
L200: D49 in ( Segm R17 ) by L199 , ALGSEQ_1:1;
thus L201: thesis by L200;
end;
theorem
L202: (for R2 being Integer holds (for R3 being Integer holds (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds (for R19 being (Element of ( GF R17 )) holds ((R18 = ( R2 mod R17 ) & R19 = ( R3 mod R17 )) implies ( R18 + R19 ) = ( ( R2 + R3 ) mod R17 )))))))
proof
let R2 being Integer;
let R3 being Integer;
let R17 being Prime;
let R18 being (Element of ( GF R17 ));
let R19 being (Element of ( GF R17 ));
assume L203: (R18 = ( R2 mod R17 ) & R19 = ( R3 mod R17 ));
L204: ( R18 + R19 ) = ( ( ( R2 mod R17 ) + ( R3 mod R17 ) ) mod R17 ) by L203 , GR_CY_1:def 4;
thus L205: thesis by L204 , NAT_D:66;
end;
theorem
L206: (for R2 being Integer holds (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds (R18 = ( R2 mod R17 ) implies ( - R18 ) = ( ( R17 - R2 ) mod R17 )))))
proof
let R2 being Integer;
let R17 being Prime;
let R18 being (Element of ( GF R17 ));
assume L207: R18 = ( R2 mod R17 );
reconsider D50 = ( ( R17 - R2 ) mod R17 ) as (Element of ( GF R17 )) by L197;
L208: ( R18 + D50 ) = ( ( R2 + ( R17 - R2 ) ) mod R17 ) by L207 , L202
.= ( 0 ) by INT_1:50
.= ( 0. ( GF R17 ) ) by L186;
thus L209: thesis by L208 , VECTSP_1:16;
end;
theorem
L210: (for R2 being Integer holds (for R3 being Integer holds (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds (for R19 being (Element of ( GF R17 )) holds ((R18 = ( R2 mod R17 ) & R19 = ( R3 mod R17 )) implies ( R18 - R19 ) = ( ( R2 - R3 ) mod R17 )))))))
proof
let R2 being Integer;
let R3 being Integer;
let R17 being Prime;
let R18 being (Element of ( GF R17 ));
let R19 being (Element of ( GF R17 ));
assume L211: (R18 = ( R2 mod R17 ) & R19 = ( R3 mod R17 ));
L212: ( - R19 ) = ( ( R17 - R3 ) mod R17 ) by L211 , L206;
L213: ( R18 - R19 ) = ( ( R2 + ( R17 - R3 ) ) mod R17 ) by L211 , L212 , L202
.= ( ( ( R2 - R3 ) + ( 1 * R17 ) ) mod R17 );
thus L214: thesis by L213 , NAT_D:61;
end;
theorem
L215: (for R2 being Integer holds (for R3 being Integer holds (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds (for R19 being (Element of ( GF R17 )) holds ((R18 = ( R2 mod R17 ) & R19 = ( R3 mod R17 )) implies ( R18 * R19 ) = ( ( R2 * R3 ) mod R17 )))))))
proof
let R2 being Integer;
let R3 being Integer;
let R17 being Prime;
let R18 being (Element of ( GF R17 ));
let R19 being (Element of ( GF R17 ));
assume L216: (R18 = ( R2 mod R17 ) & R19 = ( R3 mod R17 ));
L217: ( R18 * R19 ) = ( ( ( R2 mod R17 ) * ( R3 mod R17 ) ) mod R17 ) by L216 , INT_3:def 10;
thus L218: thesis by L217 , NAT_D:67;
end;
theorem
L219: (for R2 being Integer holds (for R3 being Integer holds (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds ((R18 = ( R2 mod R17 ) & ( ( R2 * R3 ) mod R17 ) = 1) implies ( R18 " ) = ( R3 mod R17 ))))))
proof
let R2 being Integer;
let R3 being Integer;
let R17 being Prime;
let R18 being (Element of ( GF R17 ));
assume L220: (R18 = ( R2 mod R17 ) & ( ( R2 * R3 ) mod R17 ) = 1);
reconsider D51 = ( R3 mod R17 ) as (Element of ( GF R17 )) by L197;
L221: R17 > 1 by INT_2:def 4;
L222: ( D51 * R18 ) = 1 by L220 , L215
.= ( 1. ( GF R17 ) ) by L221 , INT_3:14;
L223: R18 <> ( 0. ( GF R17 ) ) by L222 , VECTSP_1:7;
thus L224: thesis by L223 , L222 , VECTSP_1:def 10;
end;
theorem
L225: (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds (for R19 being (Element of ( GF R17 )) holds ((R18 = ( 0 ) or R19 = ( 0 )) iff ( R18 * R19 ) = ( 0 )))))
proof
let R17 being Prime;
let R18 being (Element of ( GF R17 ));
let R19 being (Element of ( GF R17 ));
L226: ((R18 = ( 0. ( GF R17 ) ) or R19 = ( 0. ( GF R17 ) )) iff ( R18 * R19 ) = ( 0. ( GF R17 ) )) by VECTSP_1:12;
thus L227: thesis by L226 , L186;
end;
theorem
L228: (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds (( R18 |^ ( 0 ) ) = ( 1_ ( GF R17 ) ) & ( R18 |^ ( 0 ) ) = 1)))
proof
let R17 being Prime;
let R18 being (Element of ( GF R17 ));
thus L229: ( R18 |^ ( 0 ) ) = ( 1_ ( GF R17 ) ) by BINOM:8;
L230: R17 > 1 by INT_2:def 4;
thus L231: ( R18 |^ ( 0 ) ) = 1 by L230 , L229 , INT_3:14;
end;
L232: (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds ( ( power ( GF R17 ) ) . (R18 , 1) ) = R18)) by GROUP_1:50;
L233: (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds ( ( power ( GF R17 ) ) . (R18 , 2) ) = ( R18 * R18 ))) by GROUP_1:51;
theorem
L234: (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds ( R18 |^ 2 ) = ( R18 * R18 ))) by L233;
theorem
L235: (for R4 being Nat holds (for R5 being Nat holds (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds (R18 = ( R5 mod R17 ) implies ( R18 |^ R4 ) = ( ( R5 |^ R4 ) mod R17 ))))))
proof
let R4 being Nat;
let R5 being Nat;
let R17 being Prime;
let R18 being (Element of ( GF R17 ));
L236: R17 > 1 by INT_2:def 4;
assume L237: R18 = ( R5 mod R17 );
defpred S3[ Nat ] means ( ( power ( GF R17 ) ) . (R18 , $1) ) = ( ( R5 |^ $1 ) mod R17 );
L238: ( R18 |^ ( 0 ) ) = 1 by L228;
L239: ( R18 |^ ( 0 ) ) = ( 1 mod R17 ) by L238 , L236 , NAT_D:63;
L240: S3[ ( 0 ) ] by L239 , NEWTON:4;
L241:
now
let C52 being Nat;
assume L242: S3[ C52 ];
reconsider D52 = ( ( power ( GF R17 ) ) . (R18 , C52) ) as (Element of ( GF R17 )) by L176;
L243: ( C52 - ( 0 ) ) is (Element of ( NAT )) by NAT_1:21;
L244: ( ( power ( GF R17 ) ) . (R18 , ( C52 + 1 )) ) = ( D52 * R18 ) by L243 , GROUP_1:def 7
.= ( ( ( R5 |^ C52 ) * R5 ) mod R17 ) by L237 , L242 , L215
.= ( ( R5 |^ ( C52 + 1 ) ) mod R17 ) by NEWTON:6;
thus L245: S3[ ( C52 + 1 ) ] by L244;
end;
L246: (for B20 being Nat holds S3[ B20 ]) from NAT_1:sch 2(L240 , L241);
thus L247: thesis by L246;
end;
theorem
L248: (for B21 being  unital  associative non  empty multMagma holds (for B22 being (Element of B21) holds (for B23 being Nat holds ( B22 |^ ( B23 + 1 ) ) = ( ( B22 |^ B23 ) * B22 ))))
proof
let C53 being  unital  associative non  empty multMagma;
let C54 being (Element of C53);
let C55 being Nat;
L249: ( C54 |^ ( C55 + 1 ) ) = ( ( C54 |^ C55 ) * ( C54 |^ 1 ) ) by BINOM:10
.= ( ( C54 |^ C55 ) * C54 ) by BINOM:8;
thus L250: thesis by L249;
end;
theorem
L251: (for R4 being Nat holds (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds (R18 <> ( 0 ) implies ( R18 |^ R4 ) <> ( 0 )))))
proof
let R4 being Nat;
let R17 being Prime;
let R18 being (Element of ( GF R17 ));
assume L252: R18 <> ( 0 );
consider C56 being Nat such that L253: R18 = ( C56 mod R17 ) by L193;
L254: (not R17 divides C56) by L252 , L253 , INT_1:62;
L255: (not R17 divides ( C56 |^ R4 )) by L254 , NAT_3:5;
L256: ( ( C56 |^ R4 ) mod R17 ) <> ( 0 ) by L255 , INT_1:62;
thus L257: thesis by L256 , L253 , L235;
end;
theorem
L258: (for B24 being  Abelian  add-associative  right_zeroed  right_complementable  associative  commutative  well-unital  almost_left_invertible  distributive non  empty doubleLoopStr holds (for B25 , B26 being (Element of B24) holds (( B25 * B25 ) = ( B26 * B26 ) iff (B25 = B26 or B25 = ( - B26 )))))
proof
let C57 being  Abelian  add-associative  right_zeroed  right_complementable  associative  commutative  well-unital  almost_left_invertible  distributive non  empty doubleLoopStr;
let C58 , C59 being (Element of C57);
L259: ( ( C58 - C59 ) * ( C58 + C59 ) ) = ( ( ( C58 - C59 ) * C58 ) + ( ( C58 - C59 ) * C59 ) ) by VECTSP_1:4
.= ( ( ( C58 * C58 ) - ( C58 * C59 ) ) + ( ( C58 - C59 ) * C59 ) ) by VECTSP_1:11
.= ( ( ( C58 * C58 ) - ( C58 * C59 ) ) + ( ( C59 * C58 ) - ( C59 * C59 ) ) ) by VECTSP_1:11
.= ( ( ( ( C58 * C58 ) - ( C58 * C59 ) ) + ( C59 * C58 ) ) + ( - ( C59 * C59 ) ) ) by RLVECT_1:def 3
.= ( ( ( C58 * C58 ) + ( ( - ( C58 * C59 ) ) + ( C59 * C58 ) ) ) + ( - ( C59 * C59 ) ) ) by RLVECT_1:def 3
.= ( ( ( C58 * C58 ) + ( ( C59 * C58 ) - ( C58 * C59 ) ) ) + ( - ( C59 * C59 ) ) )
.= ( ( ( C58 * C58 ) + ( ( C58 - C58 ) * C59 ) ) + ( - ( C59 * C59 ) ) ) by VECTSP_1:11
.= ( ( ( C58 * C58 ) + ( ( 0. C57 ) * C59 ) ) - ( C59 * C59 ) ) by RLVECT_1:5
.= ( ( ( C58 * C58 ) + ( 0. C57 ) ) - ( C59 * C59 ) ) by VECTSP_1:7
.= ( ( C58 * C58 ) - ( C59 * C59 ) ) by RLVECT_1:def 4;
thus L260:now
assume L261: ( C58 * C58 ) = ( C59 * C59 );
L262: ( ( C58 - C59 ) * ( C58 + C59 ) ) = ( 0. C57 ) by L259 , L261 , RLVECT_1:5;
L263: (( C58 - C59 ) = ( 0. C57 ) or ( C58 + C59 ) = ( 0. C57 )) by L262 , VECTSP_1:12;
thus L264: (C58 = C59 or C58 = ( - C59 )) by L263 , RLVECT_1:6 , RLVECT_1:21;
end;
assume L265: (C58 = C59 or C58 = ( - C59 ));
L266: (( C58 - C59 ) = ( 0. C57 ) or ( C58 + C59 ) = ( 0. C57 )) by L265 , RLVECT_1:5;
thus L267: ( C58 * C58 ) = ( C59 * C59 ) by L266 , L259 , RLVECT_1:21 , VECTSP_1:6;
end;
theorem
L268: (for B27 being Prime holds (for B28 being (Element of ( GF B27 )) holds ((2 < B27 & ( B28 + B28 ) = ( 0. ( GF B27 ) )) implies B28 = ( 0. ( GF B27 ) ))))
proof
let C60 being Prime;
let C61 being (Element of ( GF C60 ));
assume L269: (2 < C60 & ( C61 + C61 ) = ( 0. ( GF C60 ) ));
L270: C61 in ( Segm C60 );
reconsider D53 = C61 as (Element of ( NAT )) by L270;
L271: 1 = ( 1. ( GF C60 ) ) by L189;
L272: ( 1 + 1 ) < C60 by L269;
L273: ( ( 1. ( GF C60 ) ) + ( 1. ( GF C60 ) ) ) = 2 by L271 , L272 , INT_3:7;
set D54 = ( ( 1. ( GF C60 ) ) + ( 1. ( GF C60 ) ) );
L274: ( D54 * C61 ) = ( ( 2 * D53 ) mod C60 ) by L273 , INT_3:def 10;
L275: ( C61 + C61 ) = ( ( ( 1. ( GF C60 ) ) * C61 ) + C61 ) by VECTSP_1:def 6
.= ( ( ( 1. ( GF C60 ) ) * C61 ) + ( ( 1. ( GF C60 ) ) * C61 ) ) by VECTSP_1:def 6
.= ( ( 2 * D53 ) mod C60 ) by L274 , VECTSP_1:def 7;
L276: ( ( 2 * D53 ) mod C60 ) = ( 0 ) by L275 , L269 , L186;
L277: ( ( 2 * D53 ) - ( ( ( 2 * D53 ) div C60 ) * C60 ) ) = ( 0 ) by L276 , INT_1:def 10;
L278: C60 divides ( 2 * D53 ) by L277 , INT_1:def 3;
L279: C60 divides D53 by L269 , L278 , EULER_1:13 , INT_2:28 , INT_2:30;
L280: D53 = ( C60 * ( D53 div C60 ) ) by L279 , NAT_D:3;
L281: ( D53 - ( ( D53 div C60 ) * C60 ) ) = ( 0 ) by L280;
L282: ( D53 mod C60 ) = ( 0 ) by L281 , INT_1:def 10;
L283: D53 < C60 by NAT_1:44;
L284: D53 = ( 0 ) by L283 , L282 , NAT_D:63;
thus L285: C61 = ( 0. ( GF C60 ) ) by L284 , L186;
end;
theorem
L286: (for R4 being Nat holds (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds (R18 <> ( 0 ) implies ( ( R18 " ) |^ R4 ) = ( ( R18 |^ R4 ) " )))))
proof
let R4 being Nat;
let R17 being Prime;
let R18 being (Element of ( GF R17 ));
assume L287: R18 <> ( 0 );
L288: R17 > 1 by INT_2:def 4;
consider C62 being Nat such that L289: R18 = ( C62 mod R17 ) by L193;
consider C63 being Nat such that L290: ( R18 " ) = ( C63 mod R17 ) by L193;
L291: ( R18 |^ R4 ) = ( ( C62 |^ R4 ) mod R17 ) by L289 , L235;
L292: ( ( R18 " ) |^ R4 ) = ( ( C63 |^ R4 ) mod R17 ) by L290 , L235;
L293: ( ( ( C62 * C63 ) |^ R4 ) mod R17 ) = ( ( ( C62 |^ R4 ) * ( C63 |^ R4 ) ) mod R17 ) by NEWTON:7
.= ( ( R18 |^ R4 ) * ( ( R18 " ) |^ R4 ) ) by L291 , L292 , L215;
L294: R18 <> ( 0. ( GF R17 ) ) by L287 , L186;
L295: ( ( R18 " ) * R18 ) = ( 1. ( GF R17 ) ) by L294 , VECTSP_1:def 10
.= 1 by L189;
L296: ( ( C62 * C63 ) mod R17 ) = 1 by L295 , L289 , L290 , L215;
L297: ( ( ( C62 * C63 ) |^ R4 ) mod R17 ) = 1 by L296 , L288 , PEPIN:35;
L298: ( ( ( R18 " ) |^ R4 ) * ( R18 |^ R4 ) ) = ( 1. ( GF R17 ) ) by L297 , L288 , L293 , INT_3:14;
L299: ( R18 |^ R4 ) <> ( 0. ( GF R17 ) ) by L298 , VECTSP_1:7;
thus L300: thesis by L299 , L298 , VECTSP_1:def 10;
end;
L301: (for R5 being Nat holds (for R6 being Nat holds (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds ( ( R18 |^ R5 ) * ( R18 |^ R6 ) ) = ( R18 |^ ( R5 + R6 ) ))))) by BINOM:10;
L302: (for R5 being Nat holds (for R6 being Nat holds (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds ( ( R18 |^ R5 ) |^ R6 ) = ( R18 |^ ( R5 * R6 ) ))))) by BINOM:11;
registration
let R17 being Prime;
cluster ( MultGroup ( GF R17 ) ) ->  cyclic;
coherence
proof
L303: ( MultGroup ( GF R17 ) ) is  finite  finite  finite  finite (Subgroup of ( MultGroup ( GF R17 ) )) by GROUP_2:54;
thus L304: thesis by L303 , GR_CY_3:38;
end;
end;
theorem
L306: (for R17 being Prime holds (for B29 being (Element of ( MultGroup ( GF R17 ) )) holds (for B30 being (Element of ( GF R17 )) holds (for B31 being Nat holds (B29 = B30 implies ( B29 |^ B31 ) = ( B30 |^ B31 ))))))
proof
let R17 being Prime;
let C64 being (Element of ( MultGroup ( GF R17 ) ));
let C65 being (Element of ( GF R17 ));
let C66 being Nat;
assume L307: C64 = C65;
defpred S4[ Nat ] means ( C64 |^ $1 ) = ( C65 |^ $1 );
L308: (for B32 being Nat holds (S4[ B32 ] implies S4[ ( B32 + 1 ) ]))
proof
let C67 being Nat;
L309: ( C64 |^ ( C67 + 1 ) ) = ( ( C64 |^ C67 ) * C64 ) by GROUP_1:34;
L310: ( C65 |^ ( C67 + 1 ) ) = ( ( C65 |^ C67 ) * C65 ) by L248;
assume L311: ( C64 |^ C67 ) = ( C65 |^ C67 );
thus L312: thesis by L311 , L307 , L309 , L310 , UNIROOTS:16;
end;
L313: ( C64 |^ ( 0 ) ) = ( 1_ ( MultGroup ( GF R17 ) ) ) by GROUP_1:25
.= ( 1_ ( GF R17 ) ) by UNIROOTS:17
.= ( C65 |^ ( 0 ) ) by L228;
L314: S4[ ( 0 ) ] by L313;
L315: (for B33 being Nat holds S4[ B33 ]) from NAT_1:sch 2(L314 , L308);
thus L316: thesis by L315;
end;
theorem
L317: (for R17 being Prime holds (ex B34 being (Element of ( GF R17 )) st (for B35 being (Element of ( GF R17 )) holds (B35 <> ( 0. ( GF R17 ) ) implies (ex B36 being Nat st B35 = ( B34 |^ B36 ))))))
proof
let R17 being Prime;
consider C68 being (Element of ( MultGroup ( GF R17 ) )) such that L318: (for B37 being (Element of ( MultGroup ( GF R17 ) )) holds (ex B38 being Nat st B37 = ( C68 |^ B38 ))) by GR_CY_1:18;
reconsider D55 = C68 as (Element of ( GF R17 )) by UNIROOTS:19;
take D55;
L319:
now
let C69 being (Element of ( GF R17 ));
assume L320: C69 <> ( 0. ( GF R17 ) );
L321: (not C69 in { ( 0. ( GF R17 ) ) }) by L320 , TARSKI:def 1;
L322: (the carrier of ( GF R17 )) = ( (the carrier of ( MultGroup ( GF R17 ) )) \/ { ( 0. ( GF R17 ) ) } ) by UNIROOTS:15;
reconsider D56 = C69 as (Element of ( MultGroup ( GF R17 ) )) by L322 , L321 , XBOOLE_0:def 3;
consider C70 being Nat such that L323: D56 = ( C68 |^ C70 ) by L318;
take D57 = C70;
thus L324: C69 = ( D55 |^ D57 ) by L323 , L306;
end;
thus L325: thesis by L319;
end;
begin
definition
let R17 being Prime;
let R18 being (Element of ( GF R17 ));
attr R18 is  quadratic_residue
means
:L326: (R18 <> ( 0 ) & (ex B39 being (Element of ( GF R17 )) st ( B39 |^ 2 ) = R18));
attr R18 is  not_quadratic_residue
means
:L327: (R18 <> ( 0 ) & (not (ex B40 being (Element of ( GF R17 )) st ( B40 |^ 2 ) = R18)));
end;
theorem
L329: (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds (R18 <> ( 0 ) implies ( R18 |^ 2 ) is  quadratic_residue)))
proof
let R17 being Prime;
let R18 being (Element of ( GF R17 ));
assume L330: R18 <> ( 0 );
reconsider D58 = ( R18 |^ 2 ) as (Element of ( GF R17 ));
L331: D58 <> ( 0 ) by L330 , L251;
thus L332: thesis by L331 , L326;
end;
registration
let C71 being Prime;
cluster ( 1. ( GF C71 ) ) ->  quadratic_residue;
correctness
proof
L333: C71 > 1 by INT_2:def 4;
reconsider D59 = ( 1. ( GF C71 ) ) as (Element of ( GF C71 ));
L334: D59 = 1 by L333 , INT_3:14;
L335: ( D59 |^ 2 ) = ( ( 1. ( GF C71 ) ) * ( 1. ( GF C71 ) ) ) by L233
.= ( 1_ ( GF C71 ) ) by GROUP_1:def 4;
thus L336: thesis by L335 , L334 , L329;
end;
end;
definition
let R17 being Prime;
let R18 being (Element of ( GF R17 ));
func Lege_p R18 -> Integer equals 
:L338: ( 0 ) if R18 = ( 0 ) , 1 if R18 is  quadratic_residue otherwise ( - 1 );
coherence;
consistency by L326;
end;
theorem
L340: (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds (R18 is  not_quadratic_residue iff ( Lege_p R18 ) = ( - 1 ))))
proof
let R17 being Prime;
let R18 being (Element of ( GF R17 ));
thus L341:now
assume L342: R18 is  not_quadratic_residue;
L343: (R18 <> ( 0 ) & (not (ex B41 being (Element of ( GF R17 )) st ( B41 |^ 2 ) = R18))) by L342 , L327;
L344: (R18 <> ( 0 ) & (not R18 is  quadratic_residue)) by L343 , L326;
thus L345: ( Lege_p R18 ) = ( - 1 ) by L344 , L338;
end;
assume L346: ( Lege_p R18 ) = ( - 1 );
L347: (R18 <> ( 0 ) & (not R18 is  quadratic_residue)) by L346 , L338;
L348: (R18 <> ( 0 ) & (not (ex B42 being (Element of ( GF R17 )) st ( B42 |^ 2 ) = R18))) by L347 , L326;
thus L349: thesis by L348 , L327;
end;
theorem
L350: (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds (R18 is  quadratic_residue iff ( Lege_p R18 ) = 1)))
proof
let R17 being Prime;
let R18 being (Element of ( GF R17 ));
thus L351: (R18 is  quadratic_residue implies ( Lege_p R18 ) = 1) by L338;
assume L352: ( Lege_p R18 ) = 1;
L353: (R18 <> ( 0 ) & ( Lege_p R18 ) <> ( - 1 )) by L352 , L338;
thus L354: thesis by L353 , L338;
end;
theorem
L355: (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds (R18 = ( 0 ) iff ( Lege_p R18 ) = ( 0 ))))
proof
let R17 being Prime;
let R18 being (Element of ( GF R17 ));
thus L356: (R18 = ( 0 ) implies ( Lege_p R18 ) = ( 0 )) by L338;
assume L357: ( Lege_p R18 ) = ( 0 );
L358: ((not R18 is  quadratic_residue) & ( Lege_p R18 ) <> ( - 1 )) by L357 , L338;
thus L359: R18 = ( 0 ) by L358 , L338;
end;
theorem
L360: (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds (R18 <> ( 0 ) implies ( Lege_p ( R18 |^ 2 ) ) = 1)))
proof
let R17 being Prime;
let R18 being (Element of ( GF R17 ));
assume L361: R18 <> ( 0 );
L362: ( R18 |^ 2 ) is  quadratic_residue by L361 , L329;
thus L363: ( Lege_p ( R18 |^ 2 ) ) = 1 by L362 , L350;
end;
theorem
L364: (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds (for R19 being (Element of ( GF R17 )) holds ( Lege_p ( R18 * R19 ) ) = ( ( Lege_p R18 ) * ( Lege_p R19 ) ))))
proof
let R17 being Prime;
let R18 being (Element of ( GF R17 ));
let R19 being (Element of ( GF R17 ));
per cases ;
suppose L365: R18 is  quadratic_residue;

L366: ( Lege_p R18 ) = 1 by L365 , L350;
per cases ;
suppose L367: R19 is  quadratic_residue;

L368: ( Lege_p R19 ) = 1 by L367 , L350;
L369: (R18 <> ( 0 ) & (ex B43 being (Element of ( GF R17 )) st ( B43 |^ 2 ) = R18)) by L365 , L326;
L370: (R19 <> ( 0 ) & (ex B44 being (Element of ( GF R17 )) st ( B44 |^ 2 ) = R19)) by L367 , L326;
L371: ( R18 * R19 ) <> ( 0 ) by L370 , L369 , L225;
L372: (ex B45 being (Element of ( GF R17 )) st ( B45 |^ 2 ) = ( R18 * R19 ))
proof
consider C72 being (Element of ( GF R17 )) such that L373: ( C72 |^ 2 ) = R18 by L365 , L326;
consider C73 being (Element of ( GF R17 )) such that L374: ( C73 |^ 2 ) = R19 by L367 , L326;
L375: ( ( C72 |^ 2 ) * ( C73 |^ 2 ) ) = ( ( C72 * C73 ) |^ 2 ) by BINOM:9;
thus L376: thesis by L375 , L373 , L374;
end;
L377: ( R18 * R19 ) is  quadratic_residue by L372 , L371 , L326;
thus L378: thesis by L377 , L366 , L368 , L350;
end;
suppose L379: R19 = ( 0 );

L380: ( Lege_p R19 ) = ( 0 ) by L379 , L338;
thus L381: thesis by L380 , L379 , L225;
end;
suppose L382: (R19 <> ( 0 ) & (not R19 is  quadratic_residue));

L383: ( Lege_p R19 ) = ( - 1 ) by L382 , L338;
L384: (R18 <> ( 0 ) & (ex B46 being (Element of ( GF R17 )) st ( B46 |^ 2 ) = R18)) by L365 , L326;
L385: ( R18 * R19 ) <> ( 0 ) by L382 , L384 , L225;
L386: (not (ex B47 being (Element of ( GF R17 )) st ( B47 |^ 2 ) = ( R18 * R19 )))
proof
given C74 being (Element of ( GF R17 )) such that
L387: ( C74 |^ 2 ) = ( R18 * R19 );

consider C75 being (Element of ( GF R17 )) such that L388: ( C75 |^ 2 ) = R18 by L365 , L326;
L389: ( C75 |^ 2 ) <> ( 0. ( GF R17 ) ) by L384 , L388 , L186;
L390: C75 <> ( 0 )
proof
assume L391: C75 = ( 0 );
L392: C75 = ( 0. ( GF R17 ) ) by L391 , L186;
L393: ( C75 * C75 ) = ( 0. ( GF R17 ) ) by L392 , VECTSP_1:12;
L394: ( C75 |^ 2 ) = ( 0. ( GF R17 ) ) by L393 , L233;
thus L395: contradiction by L394 , L388 , L384 , L186;
end;
L396: ( ( ( C75 " ) * C74 ) |^ 2 ) = ( ( ( C75 " ) |^ 2 ) * ( R18 * R19 ) ) by L387 , BINOM:9
.= ( ( ( ( C75 " ) |^ 2 ) * ( C75 |^ 2 ) ) * R19 ) by L388 , GROUP_1:def 3
.= ( ( ( ( C75 |^ 2 ) " ) * ( C75 |^ 2 ) ) * R19 ) by L286 , L390
.= ( ( 1. ( GF R17 ) ) * R19 ) by L389 , VECTSP_1:def 10
.= R19 by VECTSP_1:def 8;
thus L397: contradiction by L396 , L382 , L326;
end;
L398: ( R18 * R19 ) is  not_quadratic_residue by L386 , L385 , L327;
thus L399: thesis by L398 , L366 , L383 , L340;
end;
end;
suppose L401: (not R18 is  quadratic_residue);

L402:
now
per cases ;
suppose L403: R18 = ( 0 );

L404: ( Lege_p R18 ) = ( 0 ) by L403 , L355;
thus L405: thesis by L404 , L403 , L225;
end;
suppose L406: R18 <> ( 0 );

L407: ( Lege_p R18 ) = ( - 1 ) by L406 , L401 , L338;
per cases ;
suppose L408: R19 is  quadratic_residue;

L409: ( Lege_p R19 ) = 1 by L408 , L350;
L410: (R19 <> ( 0 ) & (ex B48 being (Element of ( GF R17 )) st ( B48 |^ 2 ) = R19)) by L408 , L326;
L411: ( R18 * R19 ) <> ( 0 ) by L410 , L406 , L225;
L412: (not (ex B49 being (Element of ( GF R17 )) st ( B49 |^ 2 ) = ( R18 * R19 )))
proof
given C76 being (Element of ( GF R17 )) such that
L413: ( C76 |^ 2 ) = ( R18 * R19 );

consider C77 being (Element of ( GF R17 )) such that L414: ( C77 |^ 2 ) = R19 by L408 , L326;
L415: ( C77 |^ 2 ) <> ( 0. ( GF R17 ) ) by L410 , L414 , L186;
L416: C77 <> ( 0 )
proof
assume L417: C77 = ( 0 );
L418: C77 = ( 0. ( GF R17 ) ) by L417 , L186;
L419: ( C77 * C77 ) = ( 0. ( GF R17 ) ) by L418 , VECTSP_1:12;
L420: ( C77 |^ 2 ) = ( 0. ( GF R17 ) ) by L419 , L233;
thus L421: contradiction by L420 , L414 , L410 , L186;
end;
L422: ( ( C76 * ( C77 " ) ) |^ 2 ) = ( ( R18 * R19 ) * ( ( C77 " ) |^ 2 ) ) by L413 , BINOM:9
.= ( R18 * ( ( C77 |^ 2 ) * ( ( C77 " ) |^ 2 ) ) ) by L414 , GROUP_1:def 3
.= ( R18 * ( ( C77 |^ 2 ) * ( ( C77 |^ 2 ) " ) ) ) by L286 , L416
.= ( R18 * ( 1. ( GF R17 ) ) ) by L415 , VECTSP_1:def 10
.= R18 by VECTSP_1:def 8;
thus L423: contradiction by L422 , L401 , L406 , L326;
end;
L424: ( R18 * R19 ) is  not_quadratic_residue by L412 , L411 , L327;
thus L425: thesis by L424 , L407 , L409 , L340;
end;
suppose L426: R19 = ( 0 );

L427: ( Lege_p R19 ) = ( 0 ) by L426 , L355;
thus L428: thesis by L427 , L426 , L225;
end;
suppose L429: (R19 <> ( 0 ) & (not R19 is  quadratic_residue));

L430: ( Lege_p R19 ) = ( - 1 ) by L429 , L338;
L431: ( R18 * R19 ) <> ( 0 ) by L406 , L429 , L225;
L432: (ex B50 being (Element of ( GF R17 )) st ( B50 |^ 2 ) = ( R18 * R19 ))
proof
consider C78 being (Element of ( GF R17 )) such that L433: (for B51 being (Element of ( GF R17 )) holds (B51 <> ( 0. ( GF R17 ) ) implies (ex B52 being Nat st B51 = ( C78 |^ B52 )))) by L317;
L434: R18 <> ( 0. ( GF R17 ) ) by L406 , L186;
consider C79 being Nat such that L435: R18 = ( C78 |^ C79 ) by L434 , L433;
L436: R19 <> ( 0. ( GF R17 ) ) by L429 , L186;
consider C80 being Nat such that L437: R19 = ( C78 |^ C80 ) by L436 , L433;
L438: C79 = ( ( ( C79 div 2 ) * 2 ) + ( C79 mod 2 ) ) by NAT_D:2;
L439: C80 = ( ( ( C80 div 2 ) * 2 ) + ( C80 mod 2 ) ) by NAT_D:2;
L440: ( C79 mod 2 ) <> ( 0 )
proof
assume L441: ( C79 mod 2 ) = ( 0 );
reconsider D60 = ( C79 div 2 ) as (Element of ( NAT ));
L442: R18 = ( ( C78 |^ D60 ) |^ 2 ) by L435 , L438 , L441 , L302;
thus L443: contradiction by L442 , L401 , L406 , L326;
end;
L444: ( C79 mod 2 ) = 1 by L440 , NAT_D:12;
L445: ( C80 mod 2 ) <> ( 0 )
proof
assume L446: ( C80 mod 2 ) = ( 0 );
reconsider D61 = ( C80 div 2 ) as (Element of ( NAT ));
L447: R19 = ( ( C78 |^ D61 ) |^ 2 ) by L437 , L439 , L446 , L302;
thus L448: contradiction by L447 , L429 , L326;
end;
L449: ( C80 mod 2 ) = 1 by L445 , NAT_D:12;
reconsider D62 = ( ( ( C79 div 2 ) + ( C80 div 2 ) ) + 1 ) as Nat;
L450: ( C79 + C80 ) = ( ( ( ( C79 div 2 ) * 2 ) + 1 ) + C80 ) by L444 , NAT_D:2
.= ( ( ( ( C79 div 2 ) * 2 ) + 1 ) + ( ( ( C80 div 2 ) * 2 ) + 1 ) ) by L449 , NAT_D:2
.= ( D62 * 2 );
L451: ( R18 * R19 ) = ( C78 |^ ( C79 + C80 ) ) by L435 , L437 , L301
.= ( ( C78 |^ D62 ) |^ 2 ) by L450 , L302;
thus L452: thesis by L451;
end;
L453: ( R18 * R19 ) is  quadratic_residue by L432 , L431 , L326;
thus L454: thesis by L453 , L407 , L430 , L350;
end;
end;
end;
thus L457: thesis by L402;
end;
end;
theorem
L459: (for R4 being Nat holds (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds ((R18 <> ( 0 ) & ( R4 mod 2 ) = ( 0 )) implies ( Lege_p ( R18 |^ R4 ) ) = 1))))
proof
let R4 being Nat;
let R17 being Prime;
let R18 being (Element of ( GF R17 ));
assume L460: (R18 <> ( 0 ) & ( R4 mod 2 ) = ( 0 ));
L461: R4 = ( ( ( R4 div 2 ) * 2 ) + ( R4 mod 2 ) ) by INT_1:59
.= ( ( R4 div 2 ) * 2 ) by L460;
reconsider D63 = ( R4 div 2 ) as Nat;
L462: ( ( R18 |^ D63 ) |^ 2 ) is  quadratic_residue by L460 , L329 , L251;
L463: ( R18 |^ R4 ) is  quadratic_residue by L462 , L461 , L302;
thus L464: thesis by L463 , L338;
end;
theorem
L465: (for R4 being Nat holds (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds (( R4 mod 2 ) = 1 implies ( Lege_p ( R18 |^ R4 ) ) = ( Lege_p R18 )))))
proof
let R4 being Nat;
let R17 being Prime;
let R18 being (Element of ( GF R17 ));
assume L466: ( R4 mod 2 ) = 1;
L467: R4 = ( ( ( R4 div 2 ) * 2 ) + 1 ) by L466 , INT_1:59;
reconsider D64 = ( R4 - 1 ) as Nat by L467;
L468: ( R18 |^ ( D64 + 1 ) ) = ( ( R18 |^ D64 ) * R18 ) by L248;
L469: ( Lege_p ( R18 |^ R4 ) ) = ( ( Lege_p ( R18 |^ D64 ) ) * ( Lege_p R18 ) ) by L468 , L364;
per cases ;
suppose L470: R18 = ( 0 );

L471: ( Lege_p R18 ) = ( 0 ) by L470 , L338;
thus L472: thesis by L471 , L469;
end;
suppose L473: R18 <> ( 0 );

L474: ( ( R4 - 1 ) mod 2 ) = ( ( ( 0 ) + ( ( R4 div 2 ) * 2 ) ) mod 2 ) by L467
.= ( ( 0 ) mod 2 ) by NAT_D:61
.= ( 0 ) by NAT_D:26;
L475: ( Lege_p ( R18 |^ D64 ) ) = 1 by L474 , L473 , L459;
thus L476: thesis by L475 , L469;
end;
end;
theorem
L478: (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds (2 < R17 implies ( card { R19 where R19 is (Element of ( GF R17 )) : ( R19 |^ 2 ) = R18 } ) = ( 1 + ( Lege_p R18 ) ))))
proof
let R17 being Prime;
let R18 being (Element of ( GF R17 ));
assume L479: 2 < R17;
per cases ;
suppose L480: R18 is  quadratic_residue;

consider C81 being (Element of ( GF R17 )) such that L481: ( C81 |^ 2 ) = R18 by L480 , L326;
L482: C81 in { R19 where R19 is (Element of ( GF R17 )) : ( R19 |^ 2 ) = R18 } by L481;
L483: ( ( - C81 ) |^ 2 ) = ( ( - C81 ) * ( - C81 ) ) by L233
.= ( C81 * C81 ) by VECTSP_1:10
.= R18 by L481 , L233;
L484: ( - C81 ) in { R19 where R19 is (Element of ( GF R17 )) : ( R19 |^ 2 ) = R18 } by L483;
L485: { C81 , ( - C81 ) } c= { R19 where R19 is (Element of ( GF R17 )) : ( R19 |^ 2 ) = R18 } by L484 , L482 , ZFMISC_1:32;
L486: C81 <> ( - C81 )
proof
assume L487: C81 = ( - C81 );
L488: ( C81 + C81 ) = ( 0. ( GF R17 ) ) by L487 , VECTSP_1:16;
L489: C81 = ( 0. ( GF R17 ) ) by L488 , L479 , L268;
L490: ( C81 |^ 2 ) = ( ( 0. ( GF R17 ) ) * ( 0. ( GF R17 ) ) ) by L489 , L233
.= ( 0. ( GF R17 ) ) by VECTSP_1:12
.= ( 0 ) by L186;
thus L491: contradiction by L490 , L481 , L480 , L326;
end;
L492:
now
let C82 being set;
assume L493: C82 in { R19 where R19 is (Element of ( GF R17 )) : ( R19 |^ 2 ) = R18 };
consider C83 being (Element of ( GF R17 )) such that L494: (C82 = C83 & ( C83 |^ 2 ) = R18) by L493;
L495: ( C83 * C83 ) = ( C83 |^ 2 ) by L233
.= ( C81 * C81 ) by L481 , L494 , L233;
L496: (C83 = C81 or C83 = ( - C81 )) by L495 , L258;
thus L497: C82 in { C81 , ( - C81 ) } by L496 , L494 , TARSKI:def 2;
end;
L498: { R19 where R19 is (Element of ( GF R17 )) : ( R19 |^ 2 ) = R18 } c= { C81 , ( - C81 ) } by L492 , TARSKI:def 3;
thus L499: ( card { R19 where R19 is (Element of ( GF R17 )) : ( R19 |^ 2 ) = R18 } ) = ( card { C81 , ( - C81 ) } ) by L498 , L485 , XBOOLE_0:def 10
.= ( 1 + 1 ) by L486 , CARD_2:57
.= ( 1 + ( Lege_p R18 ) ) by L480 , L338;
end;
suppose L500: (not R18 is  quadratic_residue);

L501:
now
per cases ;
suppose L502: R18 = ( 0 );

thus L503: ( card { R19 where R19 is (Element of ( GF R17 )) : ( R19 |^ 2 ) = R18 } ) = ( 1 + ( Lege_p R18 ) )
proof
L504:
now
let C84 being set;
assume L505: C84 in { R19 where R19 is (Element of ( GF R17 )) : ( R19 |^ 2 ) = R18 };
consider R19 being (Element of ( GF R17 )) such that L506: (C84 = R19 & ( R19 |^ 2 ) = ( 0 )) by L505 , L502;
L507: R19 = ( 0 ) by L251 , L506
.= ( 0. ( GF R17 ) ) by L186;
thus L508: C84 in { ( 0. ( GF R17 ) ) } by L507 , L506 , TARSKI:def 1;
end;
L509: { R19 where R19 is (Element of ( GF R17 )) : ( R19 |^ 2 ) = R18 } c= { ( 0. ( GF R17 ) ) } by L504 , TARSKI:def 3;
L510: ( ( 0. ( GF R17 ) ) |^ 2 ) = ( ( 0. ( GF R17 ) ) * ( 0. ( GF R17 ) ) ) by L233
.= ( 0. ( GF R17 ) ) by VECTSP_1:12
.= ( 0 ) by L186;
L511: ( 0. ( GF R17 ) ) in { R19 where R19 is (Element of ( GF R17 )) : ( R19 |^ 2 ) = R18 } by L510 , L502;
L512: { ( 0. ( GF R17 ) ) } c= { R19 where R19 is (Element of ( GF R17 )) : ( R19 |^ 2 ) = R18 } by L511 , ZFMISC_1:31;
L513: { R19 where R19 is (Element of ( GF R17 )) : ( R19 |^ 2 ) = R18 } = { ( 0. ( GF R17 ) ) } by L512 , L509 , XBOOLE_0:def 10;
thus L514: ( card { R19 where R19 is (Element of ( GF R17 )) : ( R19 |^ 2 ) = R18 } ) = ( 1 + ( 0 ) ) by L513 , CARD_2:42
.= ( 1 + ( Lege_p R18 ) ) by L502 , L338;
end;

end;
suppose L504: R18 <> ( 0 );

L505: { R19 where R19 is (Element of ( GF R17 )) : ( R19 |^ 2 ) = R18 } = ( {} )
proof
assume L506: { R19 where R19 is (Element of ( GF R17 )) : ( R19 |^ 2 ) = R18 } <> ( {} );
consider C85 being set such that L507: C85 in { R19 where R19 is (Element of ( GF R17 )) : ( R19 |^ 2 ) = R18 } by L506 , XBOOLE_0:def 1;
L508: (ex R19 being (Element of ( GF R17 )) st (C85 = R19 & ( R19 |^ 2 ) = R18)) by L507;
thus L509: contradiction by L508 , L500 , L326 , L504;
end;
thus L510: ( card { R19 where R19 is (Element of ( GF R17 )) : ( R19 |^ 2 ) = R18 } ) = ( 1 + ( - 1 ) ) by L505
.= ( 1 + ( Lege_p R18 ) ) by L500 , L504 , L338;
end;
end;
thus L512: ( card { R19 where R19 is (Element of ( GF R17 )) : ( R19 |^ 2 ) = R18 } ) = ( 1 + ( Lege_p R18 ) ) by L501;
end;
end;
begin
definition
let C86 being Field;
func ProjCo C86 -> non  empty (Subset of [: (the carrier of C86) , (the carrier of C86) , (the carrier of C86) :]) equals 
( [: (the carrier of C86) , (the carrier of C86) , (the carrier of C86) :] \ { [ ( 0. C86 ) , ( 0. C86 ) , ( 0. C86 ) ] } );
correctness
proof
L514: [ ( 1. C86 ) , ( 1. C86 ) , ( 1. C86 ) ] <> [ ( 0. C86 ) , ( 0. C86 ) , ( 0. C86 ) ] by XTUPLE_0:3;
L515: (not [ ( 1. C86 ) , ( 1. C86 ) , ( 1. C86 ) ] in { [ ( 0. C86 ) , ( 0. C86 ) , ( 0. C86 ) ] }) by L514 , TARSKI:def 1;
thus L516: thesis by L515 , XBOOLE_0:def 5;
end;
end;
theorem
L518: (for R17 being Prime holds ( ProjCo ( GF R17 ) ) = ( [: (the carrier of ( GF R17 )) , (the carrier of ( GF R17 )) , (the carrier of ( GF R17 )) :] \ { [ ( 0 ) , ( 0 ) , ( 0 ) ] } ))
proof
let R17 being Prime;
L519: ( 0. ( GF R17 ) ) = ( 0 ) by L186;
thus L520: thesis by L519;
end;
definition
let C87 being Prime;
let C88 , C89 being (Element of ( GF C87 ));
func Disc (C88 , C89 , C87) -> (Element of ( GF C87 )) means 
(for B53 , B54 being (Element of ( GF C87 )) holds ((B53 = ( 4 mod C87 ) & B54 = ( 27 mod C87 )) implies it = ( ( B53 * ( C88 |^ 3 ) ) + ( B54 * ( C89 |^ 2 ) ) )));
existence
proof
reconsider D65 = ( 4 mod C87 ) as (Element of ( GF C87 )) by L197;
reconsider D66 = ( 27 mod C87 ) as (Element of ( GF C87 )) by L197;
reconsider D67 = ( ( D65 * ( C88 |^ 3 ) ) + ( D66 * ( C89 |^ 2 ) ) ) as (Element of ( GF C87 ));
take D67;
thus L521: thesis;
end;
uniqueness
proof
let C90 , C91 being (Element of ( GF C87 ));
assume L522: (for B55 , B56 being (Element of ( GF C87 )) holds ((B55 = ( 4 mod C87 ) & B56 = ( 27 mod C87 )) implies C90 = ( ( B55 * ( C88 |^ 3 ) ) + ( B56 * ( C89 |^ 2 ) ) )));
assume L523: (for B57 , B58 being (Element of ( GF C87 )) holds ((B57 = ( 4 mod C87 ) & B58 = ( 27 mod C87 )) implies C91 = ( ( B57 * ( C88 |^ 3 ) ) + ( B58 * ( C89 |^ 2 ) ) )));
reconsider D68 = ( 4 mod C87 ) as (Element of ( GF C87 )) by L197;
reconsider D69 = ( 27 mod C87 ) as (Element of ( GF C87 )) by L197;
thus L524: C90 = ( ( D68 * ( C88 |^ 3 ) ) + ( D69 * ( C89 |^ 2 ) ) ) by L522
.= C91 by L523;
end;
end;
definition
let C92 being Prime;
let C93 , C94 being (Element of ( GF C92 ));
func EC_WEqProjCo (C93 , C94 , C92) -> (Function of [: (the carrier of ( GF C92 )) , (the carrier of ( GF C92 )) , (the carrier of ( GF C92 )) :] , ( GF C92 )) means 
:L526: (for B59 being (Element of [: (the carrier of ( GF C92 )) , (the carrier of ( GF C92 )) , (the carrier of ( GF C92 )) :]) holds ( it . B59 ) = ( ( ( ( B59 `2_3 ) |^ 2 ) * ( B59 `3_3 ) ) - ( ( ( ( B59 `1_3 ) |^ 3 ) + ( ( C93 * ( B59 `1_3 ) ) * ( ( B59 `3_3 ) |^ 2 ) ) ) + ( C94 * ( ( B59 `3_3 ) |^ 3 ) ) ) ));
existence
proof
set D70 = [: (the carrier of ( GF C92 )) , (the carrier of ( GF C92 )) , (the carrier of ( GF C92 )) :];
deffunc H1((Element of D70)) = ( ( ( ( $1 `2_3 ) |^ 2 ) * ( $1 `3_3 ) ) - ( ( ( ( $1 `1_3 ) |^ 3 ) + ( ( C93 * ( $1 `1_3 ) ) * ( ( $1 `3_3 ) |^ 2 ) ) ) + ( C94 * ( ( $1 `3_3 ) |^ 3 ) ) ) );
consider C95 being (Function of D70 , (the carrier of ( GF C92 ))) such that L527: (for B60 being (Element of D70) holds ( C95 . B60 ) = H1(B60)) from FUNCT_2:sch 4;
take C95;
thus L528: thesis by L527;
end;
uniqueness
proof
set D71 = [: (the carrier of ( GF C92 )) , (the carrier of ( GF C92 )) , (the carrier of ( GF C92 )) :];
deffunc H2((Element of D71)) = ( ( ( ( $1 `2_3 ) |^ 2 ) * ( $1 `3_3 ) ) - ( ( ( ( $1 `1_3 ) |^ 3 ) + ( ( C93 * ( $1 `1_3 ) ) * ( ( $1 `3_3 ) |^ 2 ) ) ) + ( C94 * ( ( $1 `3_3 ) |^ 3 ) ) ) );
let C96 , C97 being (Function of D71 , (the carrier of ( GF C92 )));
assume L529: (for B61 being (Element of D71) holds ( C96 . B61 ) = H2(B61));
assume L530: (for B62 being (Element of D71) holds ( C97 . B62 ) = H2(B62));
L531:
now
let C98 being (Element of D71);
thus L532: ( C96 . C98 ) = H2(C98) by L529
.= ( C97 . C98 ) by L530;
end;
thus L533: C96 = C97 by L531 , FUNCT_2:def 8;
end;
end;
theorem
L535: (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds (for R19 being (Element of ( GF R17 )) holds (for B63 , B64 , B65 being (Element of ( GF R17 )) holds ( ( EC_WEqProjCo (R18 , R19 , R17) ) . [ B63 , B64 , B65 ] ) = ( ( ( B64 |^ 2 ) * B65 ) - ( ( ( B63 |^ 3 ) + ( ( R18 * B63 ) * ( B65 |^ 2 ) ) ) + ( R19 * ( B65 |^ 3 ) ) ) )))))
proof
let R17 being Prime;
let R18 being (Element of ( GF R17 ));
let R19 being (Element of ( GF R17 ));
let C99 , C100 , C101 being (Element of ( GF R17 ));
set D72 = [: (the carrier of ( GF R17 )) , (the carrier of ( GF R17 )) , (the carrier of ( GF R17 )) :];
reconsider D73 = [ C99 , C100 , C101 ] as (Element of D72);
L536: (( D73 `1_3 ) = C99 & ( D73 `2_3 ) = C100 & ( D73 `3_3 ) = C101) by MCART_1:def 5 , MCART_1:def 6 , MCART_1:def 7;
thus L537: thesis by L536 , L526;
end;
L538: (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds (for R19 being (Element of ( GF R17 )) holds ([ ( 0 ) , 1 , ( 0 ) ] is (Element of ( ProjCo ( GF R17 ) )) & ( ( EC_WEqProjCo (R18 , R19 , R17) ) . [ ( 0 ) , 1 , ( 0 ) ] ) = ( 0. ( GF R17 ) )))))
proof
let R17 being Prime;
let R18 being (Element of ( GF R17 ));
let R19 being (Element of ( GF R17 ));
set D74 = [ ( 0 ) , 1 , ( 0 ) ];
thus L539:now
L540: D74 <> [ ( 0 ) , ( 0 ) , ( 0 ) ] by XTUPLE_0:3;
L541: (not D74 in { [ ( 0 ) , ( 0 ) , ( 0 ) ] }) by L540 , TARSKI:def 1;
L542: ( 0 ) in (the carrier of ( GF R17 )) by NAT_1:44;
L543: ( 1. ( GF R17 ) ) in (the carrier of ( GF R17 ));
L544: 1 in (the carrier of ( GF R17 )) by L543 , L189;
L545: D74 in [: (the carrier of ( GF R17 )) , (the carrier of ( GF R17 )) , (the carrier of ( GF R17 )) :] by L544 , L542 , MCART_1:69;
L546: D74 in ( [: (the carrier of ( GF R17 )) , (the carrier of ( GF R17 )) , (the carrier of ( GF R17 )) :] \ { [ ( 0 ) , ( 0 ) , ( 0 ) ] } ) by L545 , L541 , XBOOLE_0:def 5;
thus L547: D74 is (Element of ( ProjCo ( GF R17 ) )) by L546 , L518;
end;
reconsider D75 = [ ( 0 ) , 1 , ( 0 ) ] as (Element of ( ProjCo ( GF R17 ) )) by L539;
set D76 = ( D75 `1_3 );
set D77 = ( D75 `2_3 );
set D78 = ( D75 `3_3 );
L548: D75 = [ ( 0. ( GF R17 ) ) , 1 , ( 0 ) ] by L186
.= [ ( 0. ( GF R17 ) ) , ( 1. ( GF R17 ) ) , ( 0 ) ] by L189
.= [ ( 0. ( GF R17 ) ) , ( 1. ( GF R17 ) ) , ( 0. ( GF R17 ) ) ] by L186;
L549: D76 = ( 0. ( GF R17 ) ) by L548 , MCART_1:def 5;
L550: D78 = ( 0. ( GF R17 ) ) by L548 , MCART_1:def 7;
L551: ( D76 |^ 3 ) = ( D76 |^ ( 2 + 1 ) )
.= ( ( D76 |^ 2 ) * D76 ) by L248
.= ( 0. ( GF R17 ) ) by L549 , VECTSP_1:12;
L552: ( D78 |^ 3 ) = ( D78 |^ ( 2 + 1 ) )
.= ( ( D78 |^ 2 ) * D78 ) by L248
.= ( 0. ( GF R17 ) ) by L550 , VECTSP_1:12;
L553: ( D78 |^ 2 ) = ( D78 |^ ( 1 + 1 ) )
.= ( ( D78 |^ 1 ) * D78 ) by L248
.= ( 0. ( GF R17 ) ) by L550 , VECTSP_1:12;
L554: ( ( EC_WEqProjCo (R18 , R19 , R17) ) . D75 ) = ( ( ( D77 |^ 2 ) * D78 ) - ( ( ( D76 |^ 3 ) + ( ( R18 * D76 ) * ( D78 |^ 2 ) ) ) + ( R19 * ( D78 |^ 3 ) ) ) ) by L526
.= ( ( 0. ( GF R17 ) ) - ( ( ( D76 |^ 3 ) + ( ( R18 * D76 ) * ( D78 |^ 2 ) ) ) + ( R19 * ( D78 |^ 3 ) ) ) ) by L550 , VECTSP_1:12
.= ( - ( ( ( 0. ( GF R17 ) ) + ( ( R18 * D76 ) * ( D78 |^ 2 ) ) ) + ( R19 * ( D78 |^ 3 ) ) ) ) by L551 , RLVECT_1:4
.= ( - ( ( ( R18 * D76 ) * ( D78 |^ 2 ) ) + ( R19 * ( D78 |^ 3 ) ) ) ) by RLVECT_1:4
.= ( - ( ( 0. ( GF R17 ) ) + ( R19 * ( D78 |^ 3 ) ) ) ) by L553 , VECTSP_1:12
.= ( - ( R19 * ( D78 |^ 3 ) ) ) by RLVECT_1:4
.= ( - ( 0. ( GF R17 ) ) ) by L552 , VECTSP_1:12
.= ( ( 0. ( GF R17 ) ) - ( 0. ( GF R17 ) ) ) by RLVECT_1:4;
thus L555: thesis by L554 , VECTSP_1:19;
end;
definition
let C102 being Prime;
let C103 , C104 being (Element of ( GF C102 ));
func EC_SetProjCo (C103 , C104 , C102) -> non  empty (Subset of ( ProjCo ( GF C102 ) )) equals 
{ B66 where B66 is (Element of ( ProjCo ( GF C102 ) )) : ( ( EC_WEqProjCo (C103 , C104 , C102) ) . B66 ) = ( 0. ( GF C102 ) ) };
correctness
proof
L556:
now
let C105 being set;
assume L557: C105 in { B67 where B67 is (Element of ( ProjCo ( GF C102 ) )) : ( ( EC_WEqProjCo (C103 , C104 , C102) ) . B67 ) = ( 0. ( GF C102 ) ) };
L558: (ex B68 being (Element of ( ProjCo ( GF C102 ) )) st (C105 = B68 & ( ( EC_WEqProjCo (C103 , C104 , C102) ) . B68 ) = ( 0. ( GF C102 ) ))) by L557;
thus L559: C105 in ( ProjCo ( GF C102 ) ) by L558;
end;
reconsider D79 = [ ( 0 ) , 1 , ( 0 ) ] as (Element of ( ProjCo ( GF C102 ) )) by L538;
L560: ( ( EC_WEqProjCo (C103 , C104 , C102) ) . D79 ) = ( 0. ( GF C102 ) ) by L538;
L561: D79 in { B69 where B69 is (Element of ( ProjCo ( GF C102 ) )) : ( ( EC_WEqProjCo (C103 , C104 , C102) ) . B69 ) = ( 0. ( GF C102 ) ) } by L560;
thus L562: thesis by L561 , L556 , TARSKI:def 3;
end;
end;
L564: (for B70 being Prime holds (for B71 , B72 being (Element of ( GF B70 )) holds [ B71 , B72 , 1 ] is (Element of ( ProjCo ( GF B70 ) ))))
proof
let C106 being Prime;
let C107 , C108 being (Element of ( GF C106 ));
set D80 = [ C107 , C108 , 1 ];
L565: D80 <> [ ( 0 ) , ( 0 ) , ( 0 ) ] by XTUPLE_0:3;
L566: (not D80 in { [ ( 0 ) , ( 0 ) , ( 0 ) ] }) by L565 , TARSKI:def 1;
L567: ( 1. ( GF C106 ) ) in (the carrier of ( GF C106 ));
L568: 1 in (the carrier of ( GF C106 )) by L567 , L189;
L569: D80 in [: (the carrier of ( GF C106 )) , (the carrier of ( GF C106 )) , (the carrier of ( GF C106 )) :] by L568 , MCART_1:69;
L570: D80 in ( [: (the carrier of ( GF C106 )) , (the carrier of ( GF C106 )) , (the carrier of ( GF C106 )) :] \ { [ ( 0 ) , ( 0 ) , ( 0 ) ] } ) by L569 , L566 , XBOOLE_0:def 5;
thus L571: D80 is (Element of ( ProjCo ( GF C106 ) )) by L570 , L518;
end;
theorem
L572: (for R17 being Prime holds (for R18 being (Element of ( GF R17 )) holds (for R19 being (Element of ( GF R17 )) holds [ ( 0 ) , 1 , ( 0 ) ] is (Element of ( EC_SetProjCo (R18 , R19 , R17) )))))
proof
let R17 being Prime;
let R18 being (Element of ( GF R17 ));
let R19 being (Element of ( GF R17 ));
L573: ([ ( 0 ) , 1 , ( 0 ) ] is (Element of ( ProjCo ( GF R17 ) )) & ( ( EC_WEqProjCo (R18 , R19 , R17) ) . [ ( 0 ) , 1 , ( 0 ) ] ) = ( 0. ( GF R17 ) )) by L538;
L574: [ ( 0 ) , 1 , ( 0 ) ] in { B73 where B73 is (Element of ( ProjCo ( GF R17 ) )) : ( ( EC_WEqProjCo (R18 , R19 , R17) ) . B73 ) = ( 0. ( GF R17 ) ) } by L573;
thus L575: thesis by L574;
end;
theorem
L576: (for B74 being Prime holds (for B75 , B76 , B77 , B78 being (Element of ( GF B74 )) holds (( B78 |^ 2 ) = ( ( ( B77 |^ 3 ) + ( B75 * B77 ) ) + B76 ) iff [ B77 , B78 , 1 ] is (Element of ( EC_SetProjCo (B75 , B76 , B74) )))))
proof
let C109 being Prime;
let C110 , C111 , C112 , C113 being (Element of ( GF C109 ));
L577: 1 = ( 1. ( GF C109 ) ) by L189;
reconsider D81 = [ C112 , C113 , 1 ] as (Element of ( ProjCo ( GF C109 ) )) by L564;
L578: ( C113 |^ 2 ) = ( ( C113 |^ 2 ) * ( 1. ( GF C109 ) ) ) by VECTSP_1:def 6;
L579: ( C110 * C112 ) = ( ( C110 * C112 ) * ( 1. ( GF C109 ) ) ) by VECTSP_1:def 6
.= ( ( C110 * C112 ) * ( ( 1. ( GF C109 ) ) * ( 1. ( GF C109 ) ) ) ) by VECTSP_1:def 6
.= ( ( C110 * C112 ) * ( ( 1. ( GF C109 ) ) |^ 2 ) ) by L233;
L580: C111 = ( C111 * ( 1. ( GF C109 ) ) ) by VECTSP_1:def 6
.= ( C111 * ( ( 1. ( GF C109 ) ) * ( 1. ( GF C109 ) ) ) ) by VECTSP_1:def 6
.= ( C111 * ( ( 1. ( GF C109 ) ) |^ 2 ) ) by L233
.= ( C111 * ( ( ( 1. ( GF C109 ) ) |^ 2 ) * ( 1. ( GF C109 ) ) ) ) by VECTSP_1:def 6
.= ( C111 * ( ( 1. ( GF C109 ) ) |^ ( 2 + 1 ) ) ) by L248
.= ( C111 * ( ( 1. ( GF C109 ) ) |^ 3 ) );
thus L581:now
assume L582: ( C113 |^ 2 ) = ( ( ( C112 |^ 3 ) + ( C110 * C112 ) ) + C111 );
L583: ( ( C113 |^ 2 ) - ( ( ( C112 |^ 3 ) + ( C110 * C112 ) ) + C111 ) ) = ( 0. ( GF C109 ) ) by L582 , VECTSP_1:19;
L584: ( ( EC_WEqProjCo (C110 , C111 , C109) ) . D81 ) = ( 0. ( GF C109 ) ) by L583 , L577 , L578 , L579 , L580 , L535;
L585: D81 in { B79 where B79 is (Element of ( ProjCo ( GF C109 ) )) : ( ( EC_WEqProjCo (C110 , C111 , C109) ) . B79 ) = ( 0. ( GF C109 ) ) } by L584;
thus L586: [ C112 , C113 , 1 ] is (Element of ( EC_SetProjCo (C110 , C111 , C109) )) by L585;
end;
assume L587: [ C112 , C113 , 1 ] is (Element of ( EC_SetProjCo (C110 , C111 , C109) ));
L588: D81 in { B80 where B80 is (Element of ( ProjCo ( GF C109 ) )) : ( ( EC_WEqProjCo (C110 , C111 , C109) ) . B80 ) = ( 0. ( GF C109 ) ) } by L587;
L589: (ex B81 being (Element of ( ProjCo ( GF C109 ) )) st (B81 = D81 & ( ( EC_WEqProjCo (C110 , C111 , C109) ) . B81 ) = ( 0. ( GF C109 ) ))) by L588;
L590: ( ( C113 |^ 2 ) - ( ( ( C112 |^ 3 ) + ( C110 * C112 ) ) + C111 ) ) = ( 0. ( GF C109 ) ) by L589 , L577 , L578 , L579 , L580 , L535;
thus L591: ( C113 |^ 2 ) = ( ( ( C112 |^ 3 ) + ( C110 * C112 ) ) + C111 ) by L590 , VECTSP_1:19;
end;
definition
let C114 being Prime;
let C115 , C116 being (Element of ( ProjCo ( GF C114 ) ));
pred C115 _EQ_ C116
means
:L592: (ex B82 being (Element of ( GF C114 )) st (B82 <> ( 0. ( GF C114 ) ) & ( C115 `1_3 ) = ( B82 * ( C116 `1_3 ) ) & ( C115 `2_3 ) = ( B82 * ( C116 `2_3 ) ) & ( C115 `3_3 ) = ( B82 * ( C116 `3_3 ) )))
;reflexivity
proof
L593: (for B83 being (Element of ( ProjCo ( GF C114 ) )) holds (ex B84 being (Element of ( GF C114 )) st (B84 <> ( 0. ( GF C114 ) ) & ( B83 `1_3 ) = ( B84 * ( B83 `1_3 ) ) & ( B83 `2_3 ) = ( B84 * ( B83 `2_3 ) ) & ( B83 `3_3 ) = ( B84 * ( B83 `3_3 ) ))))
proof
let C117 being (Element of ( ProjCo ( GF C114 ) ));
reconsider D82 = ( 1. ( GF C114 ) ) as (Element of ( GF C114 ));
L594: (( C117 `1_3 ) = ( D82 * ( C117 `1_3 ) ) & ( C117 `2_3 ) = ( D82 * ( C117 `2_3 ) ) & ( C117 `3_3 ) = ( D82 * ( C117 `3_3 ) )) by VECTSP_1:def 6;
thus L595: thesis by L594;
end;
thus L596: thesis by L593;
end;
symmetry
proof
thus L597: (for B85 , B86 being (Element of ( ProjCo ( GF C114 ) )) holds ((ex B87 being (Element of ( GF C114 )) st (B87 <> ( 0. ( GF C114 ) ) & ( B85 `1_3 ) = ( B87 * ( B86 `1_3 ) ) & ( B85 `2_3 ) = ( B87 * ( B86 `2_3 ) ) & ( B85 `3_3 ) = ( B87 * ( B86 `3_3 ) ))) implies (ex B88 being (Element of ( GF C114 )) st (B88 <> ( 0. ( GF C114 ) ) & ( B86 `1_3 ) = ( B88 * ( B85 `1_3 ) ) & ( B86 `2_3 ) = ( B88 * ( B85 `2_3 ) ) & ( B86 `3_3 ) = ( B88 * ( B85 `3_3 ) )))))
proof
let C118 , C119 being (Element of ( ProjCo ( GF C114 ) ));
given C120 being (Element of ( GF C114 )) such that
L598: (C120 <> ( 0. ( GF C114 ) ) & ( C118 `1_3 ) = ( C120 * ( C119 `1_3 ) ) & ( C118 `2_3 ) = ( C120 * ( C119 `2_3 ) ) & ( C118 `3_3 ) = ( C120 * ( C119 `3_3 ) ));

take D83 = ( C120 " );
L599: D83 <> ( 0. ( GF C114 ) )
proof
assume L600: D83 = ( 0. ( GF C114 ) );
L601: ( D83 * C120 ) = ( 0. ( GF C114 ) ) by L600 , VECTSP_1:7;
L602: ( 1. ( GF C114 ) ) = ( 0. ( GF C114 ) ) by L601 , L598 , VECTSP_1:def 10;
thus L603: contradiction by L602;
end;
L604: ( C119 `1_3 ) = ( ( 1. ( GF C114 ) ) * ( C119 `1_3 ) ) by VECTSP_1:def 6
.= ( ( D83 * C120 ) * ( C119 `1_3 ) ) by L598 , VECTSP_1:def 10
.= ( D83 * ( C118 `1_3 ) ) by L598 , GROUP_1:def 3;
L605: ( C119 `2_3 ) = ( ( 1. ( GF C114 ) ) * ( C119 `2_3 ) ) by VECTSP_1:def 6
.= ( ( D83 * C120 ) * ( C119 `2_3 ) ) by L598 , VECTSP_1:def 10
.= ( D83 * ( C118 `2_3 ) ) by L598 , GROUP_1:def 3;
L606: ( C119 `3_3 ) = ( ( 1. ( GF C114 ) ) * ( C119 `3_3 ) ) by VECTSP_1:def 6
.= ( ( D83 * C120 ) * ( C119 `3_3 ) ) by L598 , VECTSP_1:def 10
.= ( D83 * ( C118 `3_3 ) ) by L598 , GROUP_1:def 3;
thus L607: thesis by L606 , L599 , L604 , L605;
end;

end;
end;
theorem
L599: (for B89 being Prime holds (for B90 , B91 , B92 being (Element of ( ProjCo ( GF B89 ) )) holds ((B90 _EQ_ B91 & B91 _EQ_ B92) implies B90 _EQ_ B92)))
proof
let C121 being Prime;
let C122 , C123 , C124 being (Element of ( ProjCo ( GF C121 ) ));
assume L600: (C122 _EQ_ C123 & C123 _EQ_ C124);
consider C125 being (Element of ( GF C121 )) such that L601: (C125 <> ( 0. ( GF C121 ) ) & ( C122 `1_3 ) = ( C125 * ( C123 `1_3 ) ) & ( C122 `2_3 ) = ( C125 * ( C123 `2_3 ) ) & ( C122 `3_3 ) = ( C125 * ( C123 `3_3 ) )) by L600 , L592;
consider C126 being (Element of ( GF C121 )) such that L602: (C126 <> ( 0. ( GF C121 ) ) & ( C123 `1_3 ) = ( C126 * ( C124 `1_3 ) ) & ( C123 `2_3 ) = ( C126 * ( C124 `2_3 ) ) & ( C123 `3_3 ) = ( C126 * ( C124 `3_3 ) )) by L592 , L600;
take D84 = ( C125 * C126 );
thus L603: thesis by L601 , L602 , GROUP_1:def 3 , VECTSP_1:12;
end;
theorem
L604: (for B93 being Prime holds (for B94 , B95 being (Element of ( GF B93 )) holds (for B96 , B97 being (Element of [: (the carrier of ( GF B93 )) , (the carrier of ( GF B93 )) , (the carrier of ( GF B93 )) :]) holds (for B98 being (Element of ( GF B93 )) holds ((B93 > 3 & ( Disc (B94 , B95 , B93) ) <> ( 0. ( GF B93 ) ) & B96 in ( EC_SetProjCo (B94 , B95 , B93) ) & B98 <> ( 0. ( GF B93 ) ) & ( B97 `1_3 ) = ( B98 * ( B96 `1_3 ) ) & ( B97 `2_3 ) = ( B98 * ( B96 `2_3 ) ) & ( B97 `3_3 ) = ( B98 * ( B96 `3_3 ) )) implies B97 in ( EC_SetProjCo (B94 , B95 , B93) ))))))
proof
let C127 being Prime;
let C128 , C129 being (Element of ( GF C127 ));
let C130 , C131 being (Element of [: (the carrier of ( GF C127 )) , (the carrier of ( GF C127 )) , (the carrier of ( GF C127 )) :]);
let C132 being (Element of ( GF C127 ));
assume L605: (C127 > 3 & ( Disc (C128 , C129 , C127) ) <> ( 0. ( GF C127 ) ) & C130 in ( EC_SetProjCo (C128 , C129 , C127) ) & C132 <> ( 0. ( GF C127 ) ) & ( C131 `1_3 ) = ( C132 * ( C130 `1_3 ) ) & ( C131 `2_3 ) = ( C132 * ( C130 `2_3 ) ) & ( C131 `3_3 ) = ( C132 * ( C130 `3_3 ) ));
set D85 = [: (the carrier of ( GF C127 )) , (the carrier of ( GF C127 )) , (the carrier of ( GF C127 )) :];
consider C133 being (Element of ( ProjCo ( GF C127 ) )) such that L606: (C130 = C133 & ( ( EC_WEqProjCo (C128 , C129 , C127) ) . C133 ) = ( 0. ( GF C127 ) )) by L605;
L607: ( ( EC_WEqProjCo (C128 , C129 , C127) ) . C130 ) = ( ( ( ( C130 `2_3 ) |^ 2 ) * ( C130 `3_3 ) ) - ( ( ( ( C130 `1_3 ) |^ 3 ) + ( ( C128 * ( C130 `1_3 ) ) * ( ( C130 `3_3 ) |^ 2 ) ) ) + ( C129 * ( ( C130 `3_3 ) |^ 3 ) ) ) ) by L526;
L608: ( ( EC_WEqProjCo (C128 , C129 , C127) ) . C131 ) = ( ( ( ( C132 * ( C130 `2_3 ) ) |^ 2 ) * ( C132 * ( C130 `3_3 ) ) ) - ( ( ( ( C132 * ( C130 `1_3 ) ) |^ 3 ) + ( ( C128 * ( C132 * ( C130 `1_3 ) ) ) * ( ( C132 * ( C130 `3_3 ) ) |^ 2 ) ) ) + ( C129 * ( ( C132 * ( C130 `3_3 ) ) |^ 3 ) ) ) ) by L605 , L526
.= ( ( ( ( C132 |^ 2 ) * ( ( C130 `2_3 ) |^ 2 ) ) * ( C132 * ( C130 `3_3 ) ) ) - ( ( ( ( C132 * ( C130 `1_3 ) ) |^ 3 ) + ( ( C128 * ( C132 * ( C130 `1_3 ) ) ) * ( ( C132 * ( C130 `3_3 ) ) |^ 2 ) ) ) + ( C129 * ( ( C132 * ( C130 `3_3 ) ) |^ 3 ) ) ) ) by BINOM:9
.= ( ( ( ( ( C132 |^ 2 ) * ( ( C130 `2_3 ) |^ 2 ) ) * C132 ) * ( C130 `3_3 ) ) - ( ( ( ( C132 * ( C130 `1_3 ) ) |^ 3 ) + ( ( C128 * ( C132 * ( C130 `1_3 ) ) ) * ( ( C132 * ( C130 `3_3 ) ) |^ 2 ) ) ) + ( C129 * ( ( C132 * ( C130 `3_3 ) ) |^ 3 ) ) ) ) by GROUP_1:def 3
.= ( ( ( ( ( C132 |^ 2 ) * C132 ) * ( ( C130 `2_3 ) |^ 2 ) ) * ( C130 `3_3 ) ) - ( ( ( ( C132 * ( C130 `1_3 ) ) |^ 3 ) + ( ( C128 * ( C132 * ( C130 `1_3 ) ) ) * ( ( C132 * ( C130 `3_3 ) ) |^ 2 ) ) ) + ( C129 * ( ( C132 * ( C130 `3_3 ) ) |^ 3 ) ) ) ) by GROUP_1:def 3
.= ( ( ( ( C132 |^ ( 2 + 1 ) ) * ( ( C130 `2_3 ) |^ 2 ) ) * ( C130 `3_3 ) ) - ( ( ( ( C132 * ( C130 `1_3 ) ) |^ 3 ) + ( ( C128 * ( C132 * ( C130 `1_3 ) ) ) * ( ( C132 * ( C130 `3_3 ) ) |^ 2 ) ) ) + ( C129 * ( ( C132 * ( C130 `3_3 ) ) |^ 3 ) ) ) ) by L248
.= ( ( ( ( C132 |^ 3 ) * ( ( C130 `2_3 ) |^ 2 ) ) * ( C130 `3_3 ) ) - ( ( ( ( C132 |^ 3 ) * ( ( C130 `1_3 ) |^ 3 ) ) + ( ( C128 * ( C132 * ( C130 `1_3 ) ) ) * ( ( C132 * ( C130 `3_3 ) ) |^ 2 ) ) ) + ( C129 * ( ( C132 * ( C130 `3_3 ) ) |^ 3 ) ) ) ) by BINOM:9
.= ( ( ( ( C132 |^ 3 ) * ( ( C130 `2_3 ) |^ 2 ) ) * ( C130 `3_3 ) ) - ( ( ( ( C132 |^ 3 ) * ( ( C130 `1_3 ) |^ 3 ) ) + ( ( C128 * ( C132 * ( C130 `1_3 ) ) ) * ( ( C132 |^ 2 ) * ( ( C130 `3_3 ) |^ 2 ) ) ) ) + ( C129 * ( ( C132 * ( C130 `3_3 ) ) |^ 3 ) ) ) ) by BINOM:9
.= ( ( ( ( C132 |^ 3 ) * ( ( C130 `2_3 ) |^ 2 ) ) * ( C130 `3_3 ) ) - ( ( ( ( C132 |^ 3 ) * ( ( C130 `1_3 ) |^ 3 ) ) + ( ( ( C128 * ( C132 * ( C130 `1_3 ) ) ) * ( C132 |^ 2 ) ) * ( ( C130 `3_3 ) |^ 2 ) ) ) + ( C129 * ( ( C132 * ( C130 `3_3 ) ) |^ 3 ) ) ) ) by GROUP_1:def 3
.= ( ( ( ( C132 |^ 3 ) * ( ( C130 `2_3 ) |^ 2 ) ) * ( C130 `3_3 ) ) - ( ( ( ( C132 |^ 3 ) * ( ( C130 `1_3 ) |^ 3 ) ) + ( ( C128 * ( ( C132 * ( C130 `1_3 ) ) * ( C132 |^ 2 ) ) ) * ( ( C130 `3_3 ) |^ 2 ) ) ) + ( C129 * ( ( C132 * ( C130 `3_3 ) ) |^ 3 ) ) ) ) by GROUP_1:def 3
.= ( ( ( ( C132 |^ 3 ) * ( ( C130 `2_3 ) |^ 2 ) ) * ( C130 `3_3 ) ) - ( ( ( ( C132 |^ 3 ) * ( ( C130 `1_3 ) |^ 3 ) ) + ( ( C128 * ( ( ( C132 |^ 2 ) * C132 ) * ( C130 `1_3 ) ) ) * ( ( C130 `3_3 ) |^ 2 ) ) ) + ( C129 * ( ( C132 * ( C130 `3_3 ) ) |^ 3 ) ) ) ) by GROUP_1:def 3
.= ( ( ( ( C132 |^ 3 ) * ( ( C130 `2_3 ) |^ 2 ) ) * ( C130 `3_3 ) ) - ( ( ( ( C132 |^ 3 ) * ( ( C130 `1_3 ) |^ 3 ) ) + ( ( C128 * ( ( C132 |^ ( 2 + 1 ) ) * ( C130 `1_3 ) ) ) * ( ( C130 `3_3 ) |^ 2 ) ) ) + ( C129 * ( ( C132 * ( C130 `3_3 ) ) |^ 3 ) ) ) ) by L248
.= ( ( ( ( C132 |^ 3 ) * ( ( C130 `2_3 ) |^ 2 ) ) * ( C130 `3_3 ) ) - ( ( ( ( C132 |^ 3 ) * ( ( C130 `1_3 ) |^ 3 ) ) + ( ( ( C132 |^ 3 ) * ( C128 * ( C130 `1_3 ) ) ) * ( ( C130 `3_3 ) |^ 2 ) ) ) + ( C129 * ( ( C132 * ( C130 `3_3 ) ) |^ 3 ) ) ) ) by GROUP_1:def 3
.= ( ( ( ( C132 |^ 3 ) * ( ( C130 `2_3 ) |^ 2 ) ) * ( C130 `3_3 ) ) - ( ( ( ( C132 |^ 3 ) * ( ( C130 `1_3 ) |^ 3 ) ) + ( ( ( C132 |^ 3 ) * ( C128 * ( C130 `1_3 ) ) ) * ( ( C130 `3_3 ) |^ 2 ) ) ) + ( C129 * ( ( C132 |^ 3 ) * ( ( C130 `3_3 ) |^ 3 ) ) ) ) ) by BINOM:9
.= ( ( ( ( C132 |^ 3 ) * ( ( C130 `2_3 ) |^ 2 ) ) * ( C130 `3_3 ) ) - ( ( ( ( C132 |^ 3 ) * ( ( C130 `1_3 ) |^ 3 ) ) + ( ( ( C132 |^ 3 ) * ( C128 * ( C130 `1_3 ) ) ) * ( ( C130 `3_3 ) |^ 2 ) ) ) + ( ( ( C132 |^ 3 ) * C129 ) * ( ( C130 `3_3 ) |^ 3 ) ) ) ) by GROUP_1:def 3
.= ( ( ( C132 |^ 3 ) * ( ( ( C130 `2_3 ) |^ 2 ) * ( C130 `3_3 ) ) ) - ( ( ( ( C132 |^ 3 ) * ( ( C130 `1_3 ) |^ 3 ) ) + ( ( ( C132 |^ 3 ) * ( C128 * ( C130 `1_3 ) ) ) * ( ( C130 `3_3 ) |^ 2 ) ) ) + ( ( ( C132 |^ 3 ) * C129 ) * ( ( C130 `3_3 ) |^ 3 ) ) ) ) by GROUP_1:def 3
.= ( ( ( C132 |^ 3 ) * ( ( ( C130 `2_3 ) |^ 2 ) * ( C130 `3_3 ) ) ) - ( ( ( ( C132 |^ 3 ) * ( ( C130 `1_3 ) |^ 3 ) ) + ( ( C132 |^ 3 ) * ( ( C128 * ( C130 `1_3 ) ) * ( ( C130 `3_3 ) |^ 2 ) ) ) ) + ( ( ( C132 |^ 3 ) * C129 ) * ( ( C130 `3_3 ) |^ 3 ) ) ) ) by GROUP_1:def 3
.= ( ( ( C132 |^ 3 ) * ( ( ( C130 `2_3 ) |^ 2 ) * ( C130 `3_3 ) ) ) - ( ( ( ( C132 |^ 3 ) * ( ( C130 `1_3 ) |^ 3 ) ) + ( ( C132 |^ 3 ) * ( ( C128 * ( C130 `1_3 ) ) * ( ( C130 `3_3 ) |^ 2 ) ) ) ) + ( ( C132 |^ 3 ) * ( C129 * ( ( C130 `3_3 ) |^ 3 ) ) ) ) ) by GROUP_1:def 3
.= ( ( ( C132 |^ 3 ) * ( ( ( C130 `2_3 ) |^ 2 ) * ( C130 `3_3 ) ) ) - ( ( ( C132 |^ 3 ) * ( ( ( C130 `1_3 ) |^ 3 ) + ( ( C128 * ( C130 `1_3 ) ) * ( ( C130 `3_3 ) |^ 2 ) ) ) ) + ( ( C132 |^ 3 ) * ( C129 * ( ( C130 `3_3 ) |^ 3 ) ) ) ) ) by VECTSP_1:4
.= ( ( ( C132 |^ 3 ) * ( ( ( C130 `2_3 ) |^ 2 ) * ( C130 `3_3 ) ) ) - ( ( C132 |^ 3 ) * ( ( ( ( C130 `1_3 ) |^ 3 ) + ( ( C128 * ( C130 `1_3 ) ) * ( ( C130 `3_3 ) |^ 2 ) ) ) + ( C129 * ( ( C130 `3_3 ) |^ 3 ) ) ) ) ) by VECTSP_1:4
.= ( ( C132 |^ 3 ) * ( ( ( ( C130 `2_3 ) |^ 2 ) * ( C130 `3_3 ) ) - ( ( ( ( C130 `1_3 ) |^ 3 ) + ( ( C128 * ( C130 `1_3 ) ) * ( ( C130 `3_3 ) |^ 2 ) ) ) + ( C129 * ( ( C130 `3_3 ) |^ 3 ) ) ) ) ) by VECTSP_1:11
.= ( 0. ( GF C127 ) ) by L606 , L607 , VECTSP_1:12;
L609: C133 in ( ProjCo ( GF C127 ) );
L610: C133 in ( [: (the carrier of ( GF C127 )) , (the carrier of ( GF C127 )) , (the carrier of ( GF C127 )) :] \ { [ ( 0 ) , ( 0 ) , ( 0 ) ] } ) by L609 , L518;
L611: (not C130 in { [ ( 0 ) , ( 0 ) , ( 0 ) ] }) by L610 , L606 , XBOOLE_0:def 5;
L612: C131 = [ ( C131 `1_3 ) , ( C131 `2_3 ) , ( C131 `3_3 ) ] by MCART_1:44;
L613: (( C130 `1_3 ) <> ( 0 ) or ( C130 `2_3 ) <> ( 0 ) or ( C130 `3_3 ) <> ( 0 ))
proof
assume L614: (not (( C130 `1_3 ) <> ( 0 ) or ( C130 `2_3 ) <> ( 0 ) or ( C130 `3_3 ) <> ( 0 )));
L615: C130 = [ ( 0 ) , ( 0 ) , ( 0 ) ] by L614 , MCART_1:44;
thus L616: contradiction by L615 , L611 , TARSKI:def 1;
end;
L617: (( C130 `1_3 ) <> ( 0. ( GF C127 ) ) or ( C130 `2_3 ) <> ( 0. ( GF C127 ) ) or ( C130 `3_3 ) <> ( 0. ( GF C127 ) )) by L613 , L186;
L618: (( C132 * ( C130 `1_3 ) ) <> ( 0. ( GF C127 ) ) or ( C132 * ( C130 `2_3 ) ) <> ( 0. ( GF C127 ) ) or ( C132 * ( C130 `3_3 ) ) <> ( 0. ( GF C127 ) )) by L617 , L605 , VECTSP_1:12;
L619: (( C131 `1_3 ) <> ( 0 ) or ( C131 `2_3 ) <> ( 0 ) or ( C131 `3_3 ) <> ( 0 )) by L618 , L605 , L186;
L620: [ ( C131 `1_3 ) , ( C131 `2_3 ) , ( C131 `3_3 ) ] <> [ ( 0 ) , ( 0 ) , ( 0 ) ] by L619 , XTUPLE_0:3;
L621: (not C131 in { [ ( 0 ) , ( 0 ) , ( 0 ) ] }) by L620 , L612 , TARSKI:def 1;
L622: C131 in ( [: (the carrier of ( GF C127 )) , (the carrier of ( GF C127 )) , (the carrier of ( GF C127 )) :] \ { [ ( 0 ) , ( 0 ) , ( 0 ) ] } ) by L621 , XBOOLE_0:def 5;
L623: C131 in ( ProjCo ( GF C127 ) ) by L622 , L518;
thus L624: thesis by L623 , L608;
end;
definition
let C134 being Prime;
func R_ProjCo C134 -> (Relation of ( ProjCo ( GF C134 ) )) equals 
{ [ B99 , B100 ] where B99 , B100 is (Element of ( ProjCo ( GF C134 ) )) : B99 _EQ_ B100 };
correctness
proof
set D86 = { [ B101 , B102 ] where B101 , B102 is (Element of ( ProjCo ( GF C134 ) )) : B101 _EQ_ B102 };
L625:
now
let C135 being set;
assume L626: C135 in D86;
consider C136 , C137 being (Element of ( ProjCo ( GF C134 ) )) such that L627: (C135 = [ C136 , C137 ] & C136 _EQ_ C137) by L626;
thus L628: C135 in [: ( ProjCo ( GF C134 ) ) , ( ProjCo ( GF C134 ) ) :] by L627;
end;
thus L629: thesis by L625 , TARSKI:def 3;
end;
end;
theorem
L631: (for B103 being Prime holds (for B104 , B105 being (Element of ( ProjCo ( GF B103 ) )) holds (B104 _EQ_ B105 iff [ B104 , B105 ] in ( R_ProjCo B103 ))))
proof
let C138 being Prime;
let C139 , C140 being (Element of ( ProjCo ( GF C138 ) ));
thus L632: (C139 _EQ_ C140 implies [ C139 , C140 ] in ( R_ProjCo C138 ));
assume L633: [ C139 , C140 ] in ( R_ProjCo C138 );
consider C141 , C142 being (Element of ( ProjCo ( GF C138 ) )) such that L634: ([ C139 , C140 ] = [ C141 , C142 ] & C141 _EQ_ C142) by L633;
L635: (C139 = C141 & C140 = C142) by L634 , XTUPLE_0:1;
thus L636: C139 _EQ_ C140 by L635 , L634;
end;
registration
let C143 being Prime;
cluster ( R_ProjCo C143 ) ->  total  symmetric  transitive;
coherence
proof
set D87 = ( R_ProjCo C143 );
L637: (for B106 being set holds (B106 in ( ProjCo ( GF C143 ) ) iff (ex B107 being set st [ B106 , B107 ] in D87)))
proof
let C144 being set;
thus L638:now
assume L639: C144 in ( ProjCo ( GF C143 ) );
reconsider D88 = C144 as (Element of ( ProjCo ( GF C143 ) )) by L639;
L640: D88 _EQ_ D88;
L641: [ C144 , C144 ] in D87 by L640;
thus L642: (ex B108 being set st [ C144 , B108 ] in D87) by L641;
end;
given C145 being set such that
L643: [ C144 , C145 ] in D87;

consider C146 , C147 being (Element of ( ProjCo ( GF C143 ) )) such that L644: ([ C144 , C145 ] = [ C146 , C147 ] & C146 _EQ_ C147) by L643;
L645: C144 = C146 by L644 , XTUPLE_0:1;
thus L646: C144 in ( ProjCo ( GF C143 ) ) by L645;
end;
L647: ( dom D87 ) = ( ProjCo ( GF C143 ) ) by L637 , XTUPLE_0:def 12;
thus L648: D87 is  total by L647 , PARTFUN1:def 2;
L649: (for B109 , B110 being set holds ((B109 in ( field D87 ) & B110 in ( field D87 ) & [ B109 , B110 ] in D87) implies [ B110 , B109 ] in D87))
proof
let C148 , C149 being set;
assume L650: (C148 in ( field D87 ) & C149 in ( field D87 ) & [ C148 , C149 ] in D87);
consider C150 , C151 being (Element of ( ProjCo ( GF C143 ) )) such that L651: ([ C148 , C149 ] = [ C150 , C151 ] & C150 _EQ_ C151) by L650;
L652: (C148 = C150 & C149 = C151) by L651 , XTUPLE_0:1;
thus L653: [ C149 , C148 ] in D87 by L652 , L651;
end;
L654: D87 is_symmetric_in ( field D87 ) by L649 , RELAT_2:def 3;
thus L655: D87 is  symmetric by L654 , RELAT_2:def 11;
L656: (for B111 , B112 , B113 being set holds ((B111 in ( field D87 ) & B112 in ( field D87 ) & B113 in ( field D87 ) & [ B111 , B112 ] in D87 & [ B112 , B113 ] in D87) implies [ B111 , B113 ] in D87))
proof
let C152 , C153 , C154 being set;
assume L657: (C152 in ( field D87 ) & C153 in ( field D87 ) & C154 in ( field D87 ) & [ C152 , C153 ] in D87 & [ C153 , C154 ] in D87);
consider C155 , C156 being (Element of ( ProjCo ( GF C143 ) )) such that L658: ([ C152 , C153 ] = [ C155 , C156 ] & C155 _EQ_ C156) by L657;
L659: (C152 = C155 & C153 = C156) by L658 , XTUPLE_0:1;
consider C157 , C158 being (Element of ( ProjCo ( GF C143 ) )) such that L660: ([ C153 , C154 ] = [ C157 , C158 ] & C157 _EQ_ C158) by L657;
L661: (C155 _EQ_ C156 & C156 _EQ_ C158) by L658 , L659 , L660 , XTUPLE_0:1;
L662: C155 _EQ_ C158 by L661 , L599;
L663: [ C152 , C154 ] = [ C155 , C158 ] by L659 , L660 , XTUPLE_0:1;
thus L664: [ C152 , C154 ] in D87 by L663 , L662;
end;
L665: D87 is_transitive_in ( field D87 ) by L656 , RELAT_2:def 8;
thus L666: D87 is  transitive by L665 , RELAT_2:def 16;
end;
end;
definition
let C159 being Prime;
let C160 , C161 being (Element of ( GF C159 ));
func R_EllCur (C160 , C161 , C159) -> (Equivalence_Relation of ( EC_SetProjCo (C160 , C161 , C159) )) equals 
( ( R_ProjCo C159 ) /\ ( nabla ( EC_SetProjCo (C160 , C161 , C159) ) ) );
correctness
proof
set D89 = ( R_ProjCo C159 );
set D90 = ( nabla ( EC_SetProjCo (C160 , C161 , C159) ) );
reconsider D91 = ( D89 /\ D90 ) as (Relation of ( EC_SetProjCo (C160 , C161 , C159) ));
L668: (for B114 being set holds (B114 in ( EC_SetProjCo (C160 , C161 , C159) ) iff (ex B115 being set st [ B114 , B115 ] in D91)))
proof
let C162 being set;
thus L669:now
assume L670: C162 in ( EC_SetProjCo (C160 , C161 , C159) );
reconsider D92 = C162 as (Element of ( ProjCo ( GF C159 ) )) by L670;
L671: D92 _EQ_ D92;
L672: [ C162 , C162 ] in D89 by L671;
L673: [ C162 , C162 ] in [: ( EC_SetProjCo (C160 , C161 , C159) ) , ( EC_SetProjCo (C160 , C161 , C159) ) :] by L670 , ZFMISC_1:87;
L674: [ C162 , C162 ] in D91 by L673 , L672 , XBOOLE_0:def 4;
thus L675: (ex B116 being set st [ C162 , B116 ] in D91) by L674;
end;
thus L676: thesis by ZFMISC_1:87;
end;
L677: ( dom D91 ) = ( EC_SetProjCo (C160 , C161 , C159) ) by L668 , XTUPLE_0:def 12;
thus L678: thesis by L677 , PARTFUN1:def 2;
end;
end;
theorem
L680: (for B117 being Prime holds (for B118 , B119 being (Element of ( GF B117 )) holds (for B120 , B121 being (Element of ( ProjCo ( GF B117 ) )) holds ((( Disc (B118 , B119 , B117) ) <> ( 0. ( GF B117 ) ) & B120 in ( EC_SetProjCo (B118 , B119 , B117) ) & B121 in ( EC_SetProjCo (B118 , B119 , B117) )) implies (B120 _EQ_ B121 iff [ B120 , B121 ] in ( R_EllCur (B118 , B119 , B117) ))))))
proof
let C163 being Prime;
let C164 , C165 being (Element of ( GF C163 ));
let C166 , C167 being (Element of ( ProjCo ( GF C163 ) ));
assume L681: (( Disc (C164 , C165 , C163) ) <> ( 0. ( GF C163 ) ) & C166 in ( EC_SetProjCo (C164 , C165 , C163) ) & C167 in ( EC_SetProjCo (C164 , C165 , C163) ));
thus L682:now
assume L683: C166 _EQ_ C167;
L684: [ C166 , C167 ] in ( R_ProjCo C163 ) by L683;
L685: [ C166 , C167 ] in [: ( EC_SetProjCo (C164 , C165 , C163) ) , ( EC_SetProjCo (C164 , C165 , C163) ) :] by L681 , ZFMISC_1:87;
thus L686: [ C166 , C167 ] in ( R_EllCur (C164 , C165 , C163) ) by L685 , L684 , XBOOLE_0:def 4;
end;
assume L687: [ C166 , C167 ] in ( R_EllCur (C164 , C165 , C163) );
L688: [ C166 , C167 ] in ( R_ProjCo C163 ) by L687 , XBOOLE_0:def 4;
thus L689: C166 _EQ_ C167 by L688 , L631;
end;
theorem
L690: (for B122 being Prime holds (for B123 , B124 being (Element of ( GF B122 )) holds (for B125 being (Element of ( ProjCo ( GF B122 ) )) holds ((B122 > 3 & ( Disc (B123 , B124 , B122) ) <> ( 0. ( GF B122 ) ) & B125 in ( EC_SetProjCo (B123 , B124 , B122) ) & ( B125 `3_3 ) <> ( 0 )) implies (ex B126 being (Element of ( ProjCo ( GF B122 ) )) st (B126 in ( EC_SetProjCo (B123 , B124 , B122) ) & B126 _EQ_ B125 & ( B126 `3_3 ) = 1))))))
proof
let C168 being Prime;
let C169 , C170 being (Element of ( GF C168 ));
let C171 being (Element of ( ProjCo ( GF C168 ) ));
assume L691: (C168 > 3 & ( Disc (C169 , C170 , C168) ) <> ( 0. ( GF C168 ) ) & C171 in ( EC_SetProjCo (C169 , C170 , C168) ) & ( C171 `3_3 ) <> ( 0 ));
set D93 = ( ( C171 `3_3 ) " );
L692: ( C171 `3_3 ) <> ( 0. ( GF C168 ) ) by L691 , L186;
L693: D93 <> ( 0. ( GF C168 ) )
proof
assume L694: D93 = ( 0. ( GF C168 ) );
L695: ( D93 * ( C171 `3_3 ) ) = ( 1_ ( GF C168 ) ) by L692 , VECTSP_1:def 10
.= 1 by L189;
L696: ( D93 * ( C171 `3_3 ) ) = ( 0. ( GF C168 ) ) by L694 , VECTSP_1:12
.= ( 0 ) by L186;
thus L697: contradiction by L696 , L695;
end;
reconsider D94 = [ ( D93 * ( C171 `1_3 ) ) , ( D93 * ( C171 `2_3 ) ) , ( D93 * ( C171 `3_3 ) ) ] as (Element of [: (the carrier of ( GF C168 )) , (the carrier of ( GF C168 )) , (the carrier of ( GF C168 )) :]);
L698: (( D94 `1_3 ) = ( D93 * ( C171 `1_3 ) ) & ( D94 `2_3 ) = ( D93 * ( C171 `2_3 ) ) & ( D94 `3_3 ) = ( D93 * ( C171 `3_3 ) )) by MCART_1:def 5 , MCART_1:def 6 , MCART_1:def 7;
L699: D94 in ( EC_SetProjCo (C169 , C170 , C168) ) by L698 , L691 , L693 , L604;
consider C172 being (Element of ( ProjCo ( GF C168 ) )) such that L700: (D94 = C172 & ( ( EC_WEqProjCo (C169 , C170 , C168) ) . C172 ) = ( 0. ( GF C168 ) )) by L699;
reconsider D95 = D94 as (Element of ( ProjCo ( GF C168 ) )) by L700;
take D95;
thus L701: D95 in ( EC_SetProjCo (C169 , C170 , C168) ) by L698 , L691 , L693 , L604;
thus L702: D95 _EQ_ C171 by L698 , L693 , L592;
thus L703: ( D95 `3_3 ) = ( D93 * ( C171 `3_3 ) ) by MCART_1:def 7
.= ( 1_ ( GF C168 ) ) by L692 , VECTSP_1:def 10
.= 1 by L189;
end;
theorem
L704: (for B127 being Prime holds (for B128 , B129 being (Element of ( GF B127 )) holds (for B130 being (Element of ( ProjCo ( GF B127 ) )) holds ((B127 > 3 & ( Disc (B128 , B129 , B127) ) <> ( 0. ( GF B127 ) ) & B130 in ( EC_SetProjCo (B128 , B129 , B127) ) & ( B130 `3_3 ) = ( 0 )) implies (ex B131 being (Element of ( ProjCo ( GF B127 ) )) st (B131 in ( EC_SetProjCo (B128 , B129 , B127) ) & B131 _EQ_ B130 & ( B131 `1_3 ) = ( 0 ) & ( B131 `2_3 ) = 1 & ( B131 `3_3 ) = ( 0 )))))))
proof
let C173 being Prime;
let C174 , C175 being (Element of ( GF C173 ));
let C176 being (Element of ( ProjCo ( GF C173 ) ));
assume L705: (C173 > 3 & ( Disc (C174 , C175 , C173) ) <> ( 0. ( GF C173 ) ) & C176 in ( EC_SetProjCo (C174 , C175 , C173) ) & ( C176 `3_3 ) = ( 0 ));
L706: ( C176 `3_3 ) = ( 0. ( GF C173 ) ) by L705 , L186;
set D96 = ( ( C176 `2_3 ) " );
L707: (ex B132 being (Element of ( ProjCo ( GF C173 ) )) st (C176 = B132 & ( ( EC_WEqProjCo (C174 , C175 , C173) ) . B132 ) = ( 0. ( GF C173 ) ))) by L705;
L708: ( ( C176 `3_3 ) |^ 3 ) = ( ( C176 `3_3 ) |^ ( 2 + 1 ) )
.= ( ( ( C176 `3_3 ) |^ 2 ) * ( C176 `3_3 ) ) by L248
.= ( 0. ( GF C173 ) ) by L706 , VECTSP_1:12;
L709: ( ( C176 `3_3 ) |^ 2 ) = ( ( C176 `3_3 ) |^ ( 1 + 1 ) )
.= ( ( ( C176 `3_3 ) |^ 1 ) * ( C176 `3_3 ) ) by L248
.= ( 0. ( GF C173 ) ) by L706 , VECTSP_1:12;
L710: ( 0. ( GF C173 ) ) = ( ( ( ( C176 `2_3 ) |^ 2 ) * ( C176 `3_3 ) ) - ( ( ( ( C176 `1_3 ) |^ 3 ) + ( ( C174 * ( C176 `1_3 ) ) * ( ( C176 `3_3 ) |^ 2 ) ) ) + ( C175 * ( ( C176 `3_3 ) |^ 3 ) ) ) ) by L707 , L526
.= ( ( 0. ( GF C173 ) ) - ( ( ( ( C176 `1_3 ) |^ 3 ) + ( ( C174 * ( C176 `1_3 ) ) * ( ( C176 `3_3 ) |^ 2 ) ) ) + ( C175 * ( ( C176 `3_3 ) |^ 3 ) ) ) ) by L706 , VECTSP_1:12
.= ( ( 0. ( GF C173 ) ) - ( ( ( ( C176 `1_3 ) |^ 3 ) + ( 0. ( GF C173 ) ) ) + ( C175 * ( ( C176 `3_3 ) |^ 3 ) ) ) ) by L709 , VECTSP_1:12
.= ( ( 0. ( GF C173 ) ) - ( ( ( ( C176 `1_3 ) |^ 3 ) + ( 0. ( GF C173 ) ) ) + ( 0. ( GF C173 ) ) ) ) by L708 , VECTSP_1:12
.= ( ( 0. ( GF C173 ) ) - ( ( ( C176 `1_3 ) |^ 3 ) + ( 0. ( GF C173 ) ) ) ) by RLVECT_1:4
.= ( ( 0. ( GF C173 ) ) - ( ( C176 `1_3 ) |^ 3 ) ) by RLVECT_1:4
.= ( - ( ( C176 `1_3 ) |^ 3 ) ) by RLVECT_1:14;
L711: ( ( C176 `1_3 ) |^ 3 ) = ( ( ( C176 `1_3 ) |^ 3 ) + ( - ( ( C176 `1_3 ) |^ 3 ) ) ) by L710 , RLVECT_1:4;
L712: ( C176 `1_3 ) = ( 0. ( GF C173 ) )
proof
assume L713: ( C176 `1_3 ) <> ( 0. ( GF C173 ) );
L714: ( ( C176 `1_3 ) * ( C176 `1_3 ) ) <> ( 0. ( GF C173 ) ) by L713 , VECTSP_1:12;
L715: ( ( ( C176 `1_3 ) |^ 1 ) * ( C176 `1_3 ) ) <> ( 0. ( GF C173 ) ) by L714 , L232;
L716: ( ( C176 `1_3 ) |^ ( 1 + 1 ) ) <> ( 0. ( GF C173 ) ) by L715 , L248;
L717: ( ( ( C176 `1_3 ) |^ 2 ) * ( C176 `1_3 ) ) <> ( 0. ( GF C173 ) ) by L716 , L713 , VECTSP_1:12;
L718: ( ( C176 `1_3 ) |^ ( 2 + 1 ) ) <> ( 0. ( GF C173 ) ) by L717 , L248;
thus L719: contradiction by L718 , L711 , RLVECT_1:5;
end;
L720: ( C176 `2_3 ) <> ( 0. ( GF C173 ) )
proof
assume L721: ( C176 `2_3 ) = ( 0. ( GF C173 ) );
L722: ( C176 `2_3 ) = ( 0 ) by L721 , L186;
L723: [ ( C176 `1_3 ) , ( C176 `2_3 ) , ( C176 `3_3 ) ] = [ ( 0 ) , ( 0 ) , ( 0 ) ] by L722 , L705 , L712 , L186;
L724: C176 = [ ( 0 ) , ( 0 ) , ( 0 ) ] by L723 , MCART_1:44;
L725: C176 in { [ ( 0 ) , ( 0 ) , ( 0 ) ] } by L724 , TARSKI:def 1;
L726: (not C176 in ( [: (the carrier of ( GF C173 )) , (the carrier of ( GF C173 )) , (the carrier of ( GF C173 )) :] \ { [ ( 0 ) , ( 0 ) , ( 0 ) ] } )) by L725 , XBOOLE_0:def 5;
L727: (not C176 in ( ProjCo ( GF C173 ) )) by L726 , L518;
thus L728: contradiction by L727;
end;
L729: D96 <> ( 0. ( GF C173 ) )
proof
assume L730: D96 = ( 0. ( GF C173 ) );
L731: ( D96 * ( C176 `2_3 ) ) = ( 1_ ( GF C173 ) ) by L720 , VECTSP_1:def 10
.= 1 by L189;
L732: ( D96 * ( C176 `2_3 ) ) = ( 0. ( GF C173 ) ) by L730 , VECTSP_1:12
.= ( 0 ) by L186;
thus L733: contradiction by L732 , L731;
end;
reconsider D97 = [ ( D96 * ( C176 `1_3 ) ) , ( D96 * ( C176 `2_3 ) ) , ( D96 * ( C176 `3_3 ) ) ] as (Element of [: (the carrier of ( GF C173 )) , (the carrier of ( GF C173 )) , (the carrier of ( GF C173 )) :]);
L734: (( D97 `1_3 ) = ( D96 * ( C176 `1_3 ) ) & ( D97 `2_3 ) = ( D96 * ( C176 `2_3 ) ) & ( D97 `3_3 ) = ( D96 * ( C176 `3_3 ) )) by MCART_1:def 5 , MCART_1:def 6 , MCART_1:def 7;
L735: D97 in ( EC_SetProjCo (C174 , C175 , C173) ) by L734 , L705 , L729 , L604;
consider C177 being (Element of ( ProjCo ( GF C173 ) )) such that L736: (D97 = C177 & ( ( EC_WEqProjCo (C174 , C175 , C173) ) . C177 ) = ( 0. ( GF C173 ) )) by L735;
reconsider D98 = D97 as (Element of ( ProjCo ( GF C173 ) )) by L736;
take D98;
thus L737: D98 in ( EC_SetProjCo (C174 , C175 , C173) ) by L734 , L705 , L729 , L604;
thus L738: D98 _EQ_ C176 by L734 , L729 , L592;
thus L739: ( D98 `1_3 ) = ( D96 * ( C176 `1_3 ) ) by MCART_1:def 5
.= ( 0. ( GF C173 ) ) by L712 , VECTSP_1:12
.= ( 0 ) by L186;
thus L740: ( D98 `2_3 ) = ( D96 * ( C176 `2_3 ) ) by MCART_1:def 6
.= ( 1_ ( GF C173 ) ) by L720 , VECTSP_1:def 10
.= 1 by L189;
thus L741: ( D98 `3_3 ) = ( D96 * ( C176 `3_3 ) ) by MCART_1:def 7
.= ( 0. ( GF C173 ) ) by L706 , VECTSP_1:12
.= ( 0 ) by L186;
end;
theorem
L742: (for B133 being Prime holds (for B134 , B135 being (Element of ( GF B133 )) holds (for B136 being set holds ((B133 > 3 & ( Disc (B134 , B135 , B133) ) <> ( 0. ( GF B133 ) ) & B136 in ( Class ( R_EllCur (B134 , B135 , B133) ) )) implies ((ex B137 being (Element of ( ProjCo ( GF B133 ) )) st (B137 in ( EC_SetProjCo (B134 , B135 , B133) ) & B137 = [ ( 0 ) , 1 , ( 0 ) ] & B136 = ( Class (( R_EllCur (B134 , B135 , B133) ) , B137) ))) or (ex B138 being (Element of ( ProjCo ( GF B133 ) )) st (ex B139 , B140 being (Element of ( GF B133 )) st (B138 in ( EC_SetProjCo (B134 , B135 , B133) ) & B138 = [ B139 , B140 , 1 ] & B136 = ( Class (( R_EllCur (B134 , B135 , B133) ) , B138) )))))))))
proof
let C178 being Prime;
let C179 , C180 being (Element of ( GF C178 ));
let C181 being set;
assume L743: (C178 > 3 & ( Disc (C179 , C180 , C178) ) <> ( 0. ( GF C178 ) ) & C181 in ( Class ( R_EllCur (C179 , C180 , C178) ) ));
consider C182 being (Element of ( EC_SetProjCo (C179 , C180 , C178) )) such that L744: C181 = ( Class (( R_EllCur (C179 , C180 , C178) ) , C182) ) by L743 , EQREL_1:36;
reconsider D99 = C182 as (Element of ( ProjCo ( GF C178 ) ));
per cases ;
suppose L745: ( D99 `3_3 ) = ( 0 );

consider C183 being (Element of ( ProjCo ( GF C178 ) )) such that L746: (C183 in ( EC_SetProjCo (C179 , C180 , C178) ) & C183 _EQ_ D99 & ( C183 `1_3 ) = ( 0 ) & ( C183 `2_3 ) = 1 & ( C183 `3_3 ) = ( 0 )) by L745 , L743 , L704;
L747: [ C183 , D99 ] in ( R_EllCur (C179 , C180 , C178) ) by L743 , L680 , L746;
L748: C181 = ( Class (( R_EllCur (C179 , C180 , C178) ) , C183) ) by L747 , L744 , L746 , EQREL_1:35;
thus L749: thesis by L748 , L746 , MCART_1:44;
end;
suppose L750: ( D99 `3_3 ) <> ( 0 );

consider C184 being (Element of ( ProjCo ( GF C178 ) )) such that L751: (C184 in ( EC_SetProjCo (C179 , C180 , C178) ) & C184 _EQ_ D99 & ( C184 `3_3 ) = 1) by L750 , L743 , L690;
set D100 = ( C184 `1_3 );
set D101 = ( C184 `2_3 );
L752: C184 = [ D100 , D101 , 1 ] by L751 , MCART_1:44;
L753: [ C184 , D99 ] in ( R_EllCur (C179 , C180 , C178) ) by L743 , L680 , L751;
L754: C181 = ( Class (( R_EllCur (C179 , C180 , C178) ) , C184) ) by L753 , L744 , L751 , EQREL_1:35;
thus L755: thesis by L754 , L752 , L751;
end;
end;
theorem
L757: (for B141 being Prime holds (for B142 , B143 being (Element of ( GF B141 )) holds ((B141 > 3 & ( Disc (B142 , B143 , B141) ) <> ( 0. ( GF B141 ) )) implies ( Class ( R_EllCur (B142 , B143 , B141) ) ) = ( { ( Class (( R_EllCur (B142 , B143 , B141) ) , [ ( 0 ) , 1 , ( 0 ) ]) ) } \/ { ( Class (( R_EllCur (B142 , B143 , B141) ) , B144) ) where B144 is (Element of ( ProjCo ( GF B141 ) )) : (B144 in ( EC_SetProjCo (B142 , B143 , B141) ) & (ex B145 , B146 being (Element of ( GF B141 )) st B144 = [ B145 , B146 , 1 ])) } ))))
proof
let C185 being Prime;
let C186 , C187 being (Element of ( GF C185 ));
assume L758: (C185 > 3 & ( Disc (C186 , C187 , C185) ) <> ( 0. ( GF C185 ) ));
set D102 = ( Class ( R_EllCur (C186 , C187 , C185) ) );
set D103 = ( { ( Class (( R_EllCur (C186 , C187 , C185) ) , [ ( 0 ) , 1 , ( 0 ) ]) ) } \/ { ( Class (( R_EllCur (C186 , C187 , C185) ) , B147) ) where B147 is (Element of ( ProjCo ( GF C185 ) )) : (B147 in ( EC_SetProjCo (C186 , C187 , C185) ) & (ex B148 , B149 being (Element of ( GF C185 )) st B147 = [ B148 , B149 , 1 ])) } );
reconsider D104 = [ ( 0 ) , 1 , ( 0 ) ] as (Element of ( EC_SetProjCo (C186 , C187 , C185) )) by L572;
L759: (for B150 being set holds (B150 in D102 iff B150 in D103))
proof
let C188 being set;
thus L760:now
assume L761: C188 in D102;
L762: ((ex B151 being (Element of ( ProjCo ( GF C185 ) )) st (B151 in ( EC_SetProjCo (C186 , C187 , C185) ) & B151 = [ ( 0 ) , 1 , ( 0 ) ] & C188 = ( Class (( R_EllCur (C186 , C187 , C185) ) , B151) ))) or (ex B152 being (Element of ( ProjCo ( GF C185 ) )) st (ex B153 , B154 being (Element of ( GF C185 )) st (B152 in ( EC_SetProjCo (C186 , C187 , C185) ) & B152 = [ B153 , B154 , 1 ] & C188 = ( Class (( R_EllCur (C186 , C187 , C185) ) , B152) ))))) by L761 , L758 , L742;
L763: (C188 in { ( Class (( R_EllCur (C186 , C187 , C185) ) , [ ( 0 ) , 1 , ( 0 ) ]) ) } or C188 in { ( Class (( R_EllCur (C186 , C187 , C185) ) , B155) ) where B155 is (Element of ( ProjCo ( GF C185 ) )) : (B155 in ( EC_SetProjCo (C186 , C187 , C185) ) & (ex B156 , B157 being (Element of ( GF C185 )) st B155 = [ B156 , B157 , 1 ])) }) by L762 , TARSKI:def 1;
thus L764: C188 in D103 by L763 , XBOOLE_0:def 3;
end;
assume L765: C188 in D103;
L766: (C188 in { ( Class (( R_EllCur (C186 , C187 , C185) ) , [ ( 0 ) , 1 , ( 0 ) ]) ) } or C188 in { ( Class (( R_EllCur (C186 , C187 , C185) ) , B158) ) where B158 is (Element of ( ProjCo ( GF C185 ) )) : (B158 in ( EC_SetProjCo (C186 , C187 , C185) ) & (ex B159 , B160 being (Element of ( GF C185 )) st B158 = [ B159 , B160 , 1 ])) }) by L765 , XBOOLE_0:def 3;
L767:
now
per cases  by L766 , TARSKI:def 1;
suppose L768: C188 = ( Class (( R_EllCur (C186 , C187 , C185) ) , [ ( 0 ) , 1 , ( 0 ) ]) );

L769: ( EqClass (( R_EllCur (C186 , C187 , C185) ) , D104) ) is (Element of D102);
thus L770: C188 in D102 by L769 , L768;
end;
suppose L771: (ex B161 being (Element of ( ProjCo ( GF C185 ) )) st (C188 = ( Class (( R_EllCur (C186 , C187 , C185) ) , B161) ) & B161 in ( EC_SetProjCo (C186 , C187 , C185) ) & (ex B162 , B163 being (Element of ( GF C185 )) st B161 = [ B162 , B163 , 1 ])));

consider C189 being (Element of ( ProjCo ( GF C185 ) )) such that L772: (C188 = ( Class (( R_EllCur (C186 , C187 , C185) ) , C189) ) & C189 in ( EC_SetProjCo (C186 , C187 , C185) ) & (ex B164 , B165 being (Element of ( GF C185 )) st C189 = [ B164 , B165 , 1 ])) by L771;
reconsider D105 = C189 as (Element of ( EC_SetProjCo (C186 , C187 , C185) )) by L772;
L773: ( EqClass (( R_EllCur (C186 , C187 , C185) ) , D105) ) is (Element of D102);
thus L774: C188 in D102 by L773 , L772;
end;
end;
thus L776: C188 in D102 by L767;
end;
thus L777: thesis by L759 , TARSKI:1;
end;
theorem
L778: (for B166 being Prime holds (for B167 , B168 , B169 , B170 , B171 , B172 being (Element of ( GF B166 )) holds ((B166 > 3 & ( Disc (B167 , B168 , B166) ) <> ( 0. ( GF B166 ) ) & [ B169 , B170 , 1 ] in ( EC_SetProjCo (B167 , B168 , B166) ) & [ B171 , B172 , 1 ] in ( EC_SetProjCo (B167 , B168 , B166) )) implies (( Class (( R_EllCur (B167 , B168 , B166) ) , [ B169 , B170 , 1 ]) ) = ( Class (( R_EllCur (B167 , B168 , B166) ) , [ B171 , B172 , 1 ]) ) iff (B169 = B171 & B170 = B172)))))
proof
let C190 being Prime;
let C191 , C192 , C193 , C194 , C195 , C196 being (Element of ( GF C190 ));
assume L779: (C190 > 3 & ( Disc (C191 , C192 , C190) ) <> ( 0. ( GF C190 ) ) & [ C193 , C194 , 1 ] in ( EC_SetProjCo (C191 , C192 , C190) ) & [ C195 , C196 , 1 ] in ( EC_SetProjCo (C191 , C192 , C190) ));
thus L780:now
assume L781: ( Class (( R_EllCur (C191 , C192 , C190) ) , [ C193 , C194 , 1 ]) ) = ( Class (( R_EllCur (C191 , C192 , C190) ) , [ C195 , C196 , 1 ]) );
L782: [ C195 , C196 , 1 ] in ( Class (( R_EllCur (C191 , C192 , C190) ) , [ C193 , C194 , 1 ]) ) by L781 , L779 , EQREL_1:23;
L783: [ [ C193 , C194 , 1 ] , [ C195 , C196 , 1 ] ] in ( R_EllCur (C191 , C192 , C190) ) by L782 , EQREL_1:18;
reconsider D106 = [ C193 , C194 , 1 ] , D107 = [ C195 , C196 , 1 ] as (Element of ( ProjCo ( GF C190 ) )) by L779;
L784: D106 _EQ_ D107 by L680 , L779 , L783;
consider C197 being (Element of ( GF C190 )) such that L785: (C197 <> ( 0. ( GF C190 ) ) & ( D107 `1_3 ) = ( C197 * ( D106 `1_3 ) ) & ( D107 `2_3 ) = ( C197 * ( D106 `2_3 ) ) & ( D107 `3_3 ) = ( C197 * ( D106 `3_3 ) )) by L784 , L592;
L786: C190 > 1 by INT_2:def 4;
L787: ( 1. ( GF C190 ) ) = 1 by L786 , INT_3:14
.= ( D106 `3_3 ) by MCART_1:def 7;
L788: ( 1. ( GF C190 ) ) = 1 by L786 , INT_3:14
.= ( C197 * ( D106 `3_3 ) ) by L785 , MCART_1:def 7
.= C197 by L787 , VECTSP_1:def 8;
thus L789: C195 = ( C197 * ( D106 `1_3 ) ) by L785 , MCART_1:def 5
.= ( D106 `1_3 ) by L788 , VECTSP_1:def 8
.= C193 by MCART_1:def 5;
thus L790: C196 = ( C197 * ( D106 `2_3 ) ) by L785 , MCART_1:def 6
.= ( D106 `2_3 ) by L788 , VECTSP_1:def 8
.= C194 by MCART_1:def 6;
end;
assume L791: (C193 = C195 & C194 = C196);
thus L792: thesis by L791;
end;
theorem
L793: (for B173 being Prime holds (for B174 , B175 being (Element of ( GF B173 )) holds (for B176 , B177 being set holds ((B173 > 3 & ( Disc (B174 , B175 , B173) ) <> ( 0. ( GF B173 ) ) & B176 = { ( Class (( R_EllCur (B174 , B175 , B173) ) , [ ( 0 ) , 1 , ( 0 ) ]) ) } & B177 = { ( Class (( R_EllCur (B174 , B175 , B173) ) , B178) ) where B178 is (Element of ( ProjCo ( GF B173 ) )) : (B178 in ( EC_SetProjCo (B174 , B175 , B173) ) & (ex B179 , B180 being (Element of ( GF B173 )) st B178 = [ B179 , B180 , 1 ])) }) implies B176 misses B177))))
proof
let C198 being Prime;
let C199 , C200 being (Element of ( GF C198 ));
let C201 , C202 being set;
assume L794: (C198 > 3 & ( Disc (C199 , C200 , C198) ) <> ( 0. ( GF C198 ) ) & C201 = { ( Class (( R_EllCur (C199 , C200 , C198) ) , [ ( 0 ) , 1 , ( 0 ) ]) ) } & C202 = { ( Class (( R_EllCur (C199 , C200 , C198) ) , B181) ) where B181 is (Element of ( ProjCo ( GF C198 ) )) : (B181 in ( EC_SetProjCo (C199 , C200 , C198) ) & (ex B182 , B183 being (Element of ( GF C198 )) st B181 = [ B182 , B183 , 1 ])) });
assume L795: C201 meets C202;
L796: ( C201 /\ C202 ) <> ( {} ) by L795 , XBOOLE_0:def 7;
consider C203 being set such that L797: C203 in ( C201 /\ C202 ) by L796 , XBOOLE_0:def 1;
L798: (C203 in C201 & C203 in C202) by L797 , XBOOLE_0:def 4;
consider C204 being (Element of ( ProjCo ( GF C198 ) )) such that L799: (C203 = ( Class (( R_EllCur (C199 , C200 , C198) ) , C204) ) & C204 in ( EC_SetProjCo (C199 , C200 , C198) ) & (ex B184 , B185 being (Element of ( GF C198 )) st C204 = [ B184 , B185 , 1 ])) by L794 , L798;
consider C205 , C206 being (Element of ( GF C198 )) such that L800: C204 = [ C205 , C206 , 1 ] by L799;
L801: C203 = ( Class (( R_EllCur (C199 , C200 , C198) ) , [ ( 0 ) , 1 , ( 0 ) ]) ) by L794 , L798 , TARSKI:def 1;
reconsider D108 = [ ( 0 ) , 1 , ( 0 ) ] as (Element of ( ProjCo ( GF C198 ) )) by L538;
L802: D108 is (Element of ( EC_SetProjCo (C199 , C200 , C198) )) by L572;
L803: D108 in ( Class (( R_EllCur (C199 , C200 , C198) ) , C204) ) by L799 , L801 , EQREL_1:23;
L804: [ C204 , D108 ] in ( R_EllCur (C199 , C200 , C198) ) by L803 , EQREL_1:18;
L805: C204 _EQ_ D108 by L804 , L680 , L794 , L802 , L799;
consider C207 being (Element of ( GF C198 )) such that L806: (C207 <> ( 0. ( GF C198 ) ) & ( D108 `1_3 ) = ( C207 * ( C204 `1_3 ) ) & ( D108 `2_3 ) = ( C207 * ( C204 `2_3 ) ) & ( D108 `3_3 ) = ( C207 * ( C204 `3_3 ) )) by L805 , L592;
L807: C198 > 1 by INT_2:def 4;
L808: ( 1. ( GF C198 ) ) = 1 by L807 , INT_3:14
.= ( C204 `3_3 ) by L800 , MCART_1:def 7;
L809: ( 0. ( GF C198 ) ) = ( 0 ) by L186
.= ( C207 * ( C204 `3_3 ) ) by L806 , MCART_1:def 7
.= C207 by L808 , VECTSP_1:def 8;
thus L810: contradiction by L809 , L806;
end;
theorem
L811: (for B186 being non  empty  finite set holds (for B187 being (Equivalence_Relation of B186) holds (for B188 being ( Class B187 ) -valued Function holds (for B189 being set holds (B189 in ( dom B188 ) implies ( B188 . B189 ) is  finite  finite  finite  finite (Subset of B186))))))
proof
let C208 being non  empty  finite set;
let C209 being (Equivalence_Relation of C208);
let C210 being ( Class C209 ) -valued Function;
let C211 being set;
assume L812: C211 in ( dom C210 );
L813: ( C210 . C211 ) in ( Class C209 ) by L812 , FUNCT_1:102;
thus L814: thesis by L813;
end;
theorem
L815: (for B190 being non  empty set holds (for B191 being (Equivalence_Relation of B190) holds (for B192 being ( Class B191 ) -valued Function holds (B192 is  one-to-one implies B192 is  disjoint_valued))))
proof
let C212 being non  empty set;
let C213 being (Equivalence_Relation of C212);
let C214 being ( Class C213 ) -valued Function;
assume L816: C214 is  one-to-one;
L817:
now
let C215 , C216 being set;
assume L818: C215 <> C216;
per cases ;
suppose L819: (C215 in ( dom C214 ) & C216 in ( dom C214 ));

L820: ( C214 . C215 ) <> ( C214 . C216 ) by L819 , L816 , L818 , FUNCT_1:def 4;
L821: (( C214 . C215 ) in ( Class C213 ) & ( C214 . C216 ) in ( Class C213 )) by L819 , FUNCT_1:102;
thus L822: ( C214 . C215 ) misses ( C214 . C216 ) by L821 , L820 , EQREL_1:def 4;
end;
suppose L823: (not (C215 in ( dom C214 ) & C216 in ( dom C214 )));

L824: (( C214 . C215 ) = ( {} ) or ( C214 . C216 ) = ( {} )) by L823 , FUNCT_1:def 2;
thus L825: ( C214 . C215 ) misses ( C214 . C216 ) by L824 , XBOOLE_1:65;
end;
end;
thus L827: thesis by L817 , PROB_2:def 2;
end;
theorem
L828: (for B193 being non  empty set holds (for B194 being (Equivalence_Relation of B193) holds (for B195 being ( Class B194 ) -valued Function holds (B195 is  onto implies ( Union B195 ) = B193))))
proof
let C217 being non  empty set;
let C218 being (Equivalence_Relation of C217);
let C219 being ( Class C218 ) -valued Function;
assume L829: C219 is  onto;
L830: ( union ( Class C218 ) ) = C217 by EQREL_1:def 4;
thus L831: thesis by L830 , L829 , FUNCT_2:def 3;
end;
theorem
L832: (for B196 being non  empty  finite set holds (for B197 being (Equivalence_Relation of B196) holds (for B198 being ( Class B197 ) -valued Function holds (for B199 being (FinSequence of ( NAT )) holds ((B198 is  one-to-one  onto & ( dom B198 ) = ( dom B199 ) & (for B200 being Nat holds (B200 in ( dom B198 ) implies ( B199 . B200 ) = ( card ( B198 . B200 ) )))) implies ( card B196 ) = ( Sum B199 ))))))
proof
let C220 being non  empty  finite set;
let C221 being (Equivalence_Relation of C220);
let C222 being ( Class C221 ) -valued Function;
let C223 being (FinSequence of ( NAT ));
assume L833: (C222 is  one-to-one  onto & ( dom C222 ) = ( dom C223 ) & (for B201 being Nat holds (B201 in ( dom C222 ) implies ( C223 . B201 ) = ( card ( C222 . B201 ) ))));
L834: C222 is  disjoint_valued by L833 , L815;
L835: (for B202 being Nat holds (B202 in ( dom C222 ) implies (( C222 . B202 ) is  finite & ( C223 . B202 ) = ( card ( C222 . B202 ) )))) by L833 , L811;
L836: ( Union C222 ) = C220 by L828 , L833;
thus L837: thesis by L836 , L833 , L834 , L835 , DIST_1:17;
end;
theorem
L838: (for B203 being Prime holds (for B204 , B205 , B206 being (Element of ( GF B203 )) holds (for B207 , B208 being set holds ((B203 > 3 & ( Disc (B204 , B205 , B203) ) <> ( 0. ( GF B203 ) ) & B207 = { B209 where B209 is (Element of ( GF B203 )) : ( B209 |^ 2 ) = ( ( ( B206 |^ 3 ) + ( B204 * B206 ) ) + B205 ) } & B207 <> ( {} ) & B208 = { ( Class (( R_EllCur (B204 , B205 , B203) ) , [ B206 , B210 , 1 ]) ) where B210 is (Element of ( GF B203 )) : [ B206 , B210 , 1 ] in ( EC_SetProjCo (B204 , B205 , B203) ) }) implies (ex B211 being (Function of B207 , B208) st (B211 is  onto & B211 is  one-to-one))))))
proof
let C224 being Prime;
let C225 , C226 , C227 being (Element of ( GF C224 ));
let C228 , C229 being set;
assume L839: (C224 > 3 & ( Disc (C225 , C226 , C224) ) <> ( 0. ( GF C224 ) ) & C228 = { B212 where B212 is (Element of ( GF C224 )) : ( B212 |^ 2 ) = ( ( ( C227 |^ 3 ) + ( C225 * C227 ) ) + C226 ) } & C228 <> ( {} ) & C229 = { ( Class (( R_EllCur (C225 , C226 , C224) ) , [ C227 , B213 , 1 ]) ) where B213 is (Element of ( GF C224 )) : [ C227 , B213 , 1 ] in ( EC_SetProjCo (C225 , C226 , C224) ) });
consider C230 being set such that L840: C230 in C228 by L839 , XBOOLE_0:def 1;
consider C231 being (Element of ( GF C224 )) such that L841: (C230 = C231 & ( C231 |^ 2 ) = ( ( ( C227 |^ 3 ) + ( C225 * C227 ) ) + C226 )) by L839 , L840;
L842: [ C227 , C231 , 1 ] is (Element of ( EC_SetProjCo (C225 , C226 , C224) )) by L841 , L576;
L843: ( Class (( R_EllCur (C225 , C226 , C224) ) , [ C227 , C231 , 1 ]) ) in C229 by L842 , L839;
deffunc H3(set) = ( Class (( R_EllCur (C225 , C226 , C224) ) , [ C227 , $1 , 1 ]) );
L844: (for B214 being set holds (B214 in C228 implies H3(B214) in C229))
proof
let C232 being set;
assume L845: C232 in C228;
consider C233 being (Element of ( GF C224 )) such that L846: (C232 = C233 & ( C233 |^ 2 ) = ( ( ( C227 |^ 3 ) + ( C225 * C227 ) ) + C226 )) by L845 , L839;
L847: [ C227 , C233 , 1 ] is (Element of ( EC_SetProjCo (C225 , C226 , C224) )) by L846 , L576;
thus L848: H3(C232) in C229 by L847 , L839 , L846;
end;
consider C234 being (Function of C228 , C229) such that L849: (for B215 being set holds (B215 in C228 implies ( C234 . B215 ) = H3(B215))) from FUNCT_2:sch 2(L844);
take C234;
L850:
now
let C235 being set;
assume L851: C235 in C229;
consider C236 being (Element of ( GF C224 )) such that L852: (C235 = ( Class (( R_EllCur (C225 , C226 , C224) ) , [ C227 , C236 , 1 ]) ) & [ C227 , C236 , 1 ] in ( EC_SetProjCo (C225 , C226 , C224) )) by L851 , L839;
L853: ( C236 |^ 2 ) = ( ( ( C227 |^ 3 ) + ( C225 * C227 ) ) + C226 ) by L852 , L576;
L854: C236 in C228 by L853 , L839;
L855: C235 = ( C234 . C236 ) by L854 , L849 , L852;
thus L856: C235 in ( rng C234 ) by L855 , L854 , L843 , FUNCT_2:112;
end;
L857: C229 c= ( rng C234 ) by L850 , TARSKI:def 3;
L858: C229 = ( rng C234 ) by L857 , XBOOLE_0:def 10;
thus L859: C234 is  onto by L858 , FUNCT_2:def 3;
L860:
now
let C237 , C238 being set;
assume that
L861: (C237 in ( dom C234 ) & C238 in ( dom C234 ) & ( C234 . C237 ) = ( C234 . C238 ));
L862: (C237 in C228 & C238 in C228) by L861;
consider C239 being (Element of ( GF C224 )) such that L863: (C237 = C239 & ( C239 |^ 2 ) = ( ( ( C227 |^ 3 ) + ( C225 * C227 ) ) + C226 )) by L862 , L839;
consider C240 being (Element of ( GF C224 )) such that L864: (C238 = C240 & ( C240 |^ 2 ) = ( ( ( C227 |^ 3 ) + ( C225 * C227 ) ) + C226 )) by L839 , L862;
L865: ( C234 . C237 ) = ( Class (( R_EllCur (C225 , C226 , C224) ) , [ C227 , C237 , 1 ]) ) by L861 , L849;
L866: ( Class (( R_EllCur (C225 , C226 , C224) ) , [ C227 , C237 , 1 ]) ) = ( Class (( R_EllCur (C225 , C226 , C224) ) , [ C227 , C238 , 1 ]) ) by L861 , L849 , L865;
L867: [ C227 , C240 , 1 ] is (Element of ( EC_SetProjCo (C225 , C226 , C224) )) by L576 , L864;
L868: [ C227 , C239 , 1 ] is (Element of ( EC_SetProjCo (C225 , C226 , C224) )) by L576 , L863;
thus L869: C237 = C238 by L868 , L839 , L863 , L864 , L866 , L867 , L778;
end;
thus L870: C234 is  one-to-one by L860 , FUNCT_1:def 4;
end;
theorem
L871: (for B216 being Prime holds (for B217 , B218 , B219 being (Element of ( GF B216 )) holds ((B216 > 3 & ( Disc (B217 , B218 , B216) ) <> ( 0. ( GF B216 ) )) implies ( card { ( Class (( R_EllCur (B217 , B218 , B216) ) , [ B219 , B220 , 1 ]) ) where B220 is (Element of ( GF B216 )) : [ B219 , B220 , 1 ] in ( EC_SetProjCo (B217 , B218 , B216) ) } ) = ( 1 + ( Lege_p ( ( ( B219 |^ 3 ) + ( B217 * B219 ) ) + B218 ) ) ))))
proof
let C241 being Prime;
let C242 , C243 , C244 being (Element of ( GF C241 ));
assume L872: (C241 > 3 & ( Disc (C242 , C243 , C241) ) <> ( 0. ( GF C241 ) ));
set D109 = { B221 where B221 is (Element of ( GF C241 )) : ( B221 |^ 2 ) = ( ( ( C244 |^ 3 ) + ( C242 * C244 ) ) + C243 ) };
set D110 = { ( Class (( R_EllCur (C242 , C243 , C241) ) , [ C244 , B222 , 1 ]) ) where B222 is (Element of ( GF C241 )) : [ C244 , B222 , 1 ] in ( EC_SetProjCo (C242 , C243 , C241) ) };
per cases ;
suppose L873: D109 = ( {} );

L874: D110 = ( {} )
proof
assume L875: D110 <> ( {} );
consider C245 being set such that L876: C245 in D110 by L875 , XBOOLE_0:def 1;
consider C246 being (Element of ( GF C241 )) such that L877: (C245 = ( Class (( R_EllCur (C242 , C243 , C241) ) , [ C244 , C246 , 1 ]) ) & [ C244 , C246 , 1 ] in ( EC_SetProjCo (C242 , C243 , C241) )) by L876;
L878: ( C246 |^ 2 ) = ( ( ( C244 |^ 3 ) + ( C242 * C244 ) ) + C243 ) by L877 , L576;
L879: C246 in D109 by L878;
thus L880: contradiction by L879 , L873;
end;
L881: 2 < C241 by L872 , XXREAL_0:2;
thus L882: thesis by L881 , L874 , L873 , L478;
end;
suppose L883: D109 <> ( {} );

consider C247 being set such that L884: C247 in D109 by L883 , XBOOLE_0:def 1;
consider C248 being (Element of ( GF C241 )) such that L885: (C247 = C248 & ( C248 |^ 2 ) = ( ( ( C244 |^ 3 ) + ( C242 * C244 ) ) + C243 )) by L884;
L886: [ C244 , C248 , 1 ] is (Element of ( EC_SetProjCo (C242 , C243 , C241) )) by L885 , L576;
L887: ( Class (( R_EllCur (C242 , C243 , C241) ) , [ C244 , C248 , 1 ]) ) in D110 by L886;
consider C249 being (Function of D109 , D110) such that L888: (C249 is  onto & C249 is  one-to-one) by L872 , L883 , L838;
L889: ( dom C249 ) = D109 by L887 , FUNCT_2:def 1;
L890: ( rng C249 ) = D110 by L888 , FUNCT_2:def 3;
L891: ( card D109 ) c= ( card D110 ) by L890 , L888 , L889 , CARD_1:10;
reconsider D111 = ( C249 " ) as (Function of D110 , D109) by L888 , L890 , FUNCT_2:25;
L892: (( ( C249 " ) * C249 ) = ( id D109 ) & ( C249 * ( C249 " ) ) = ( id D110 )) by L888 , L890 , L887 , FUNCT_2:29;
L893: (D111 is  onto & D111 is  one-to-one) by L892 , FUNCT_2:23;
L894: ( rng D111 ) = D109 by L893 , FUNCT_2:def 3;
L895: ( dom D111 ) = D110 by L883 , FUNCT_2:def 1;
L896: ( card D110 ) c= ( card D109 ) by L895 , L893 , L894 , CARD_1:10;
L897: ( card D109 ) = ( card D110 ) by L896 , L891 , XBOOLE_0:def 10;
L898: 2 < C241 by L872 , XXREAL_0:2;
thus L899: thesis by L898 , L897 , L478;
end;
end;
L901: (for B223 being Prime holds (for B224 being Nat holds (B224 in ( Seg B223 ) implies ( B224 - 1 ) is (Element of ( GF B223 )))))
proof
let C250 being Prime;
let C251 being Nat;
assume L902: C251 in ( Seg C250 );
L903: (1 <= C251 & C251 <= C250) by L902 , FINSEQ_1:1;
L904: (( 1 - 1 ) <= ( C251 - 1 ) & ( C251 - 1 ) <= ( C250 - 1 )) by L903 , XREAL_1:9;
L905: ( C251 - 1 ) is (Element of ( NAT )) by L904 , INT_1:3;
L906: ( C250 - 1 ) < ( C250 - ( 0 ) ) by XREAL_1:15;
L907: ( C251 - 1 ) < C250 by L906 , L904 , XXREAL_0:2;
thus L908: thesis by L907 , L905 , NAT_1:44;
end;
L909: (for B225 being Prime holds (for B226 , B227 , B228 , B229 being (Element of ( GF B225 )) holds ((B225 > 3 & ( Disc (B226 , B227 , B225) ) <> ( 0. ( GF B225 ) )) implies (ex B230 being Function st (( dom B230 ) = ( Seg B225 ) & (for B231 being Nat holds (B231 in ( dom B230 ) implies ( B230 . B231 ) = { ( Class (( R_EllCur (B226 , B227 , B225) ) , [ ( B231 - 1 ) , B232 , 1 ]) ) where B232 is (Element of ( GF B225 )) : [ ( B231 - 1 ) , B232 , 1 ] in ( EC_SetProjCo (B226 , B227 , B225) ) })) & B230 is  disjoint_valued & (for B233 being Nat holds (B233 in ( dom B230 ) implies ( B230 . B233 ) is  finite)) & ( Union B230 ) = { ( Class (( R_EllCur (B226 , B227 , B225) ) , B234) ) where B234 is (Element of ( ProjCo ( GF B225 ) )) : (B234 in ( EC_SetProjCo (B226 , B227 , B225) ) & (ex B235 , B236 being (Element of ( GF B225 )) st B234 = [ B235 , B236 , 1 ])) })))))
proof
let C252 being Prime;
let C253 , C254 , C255 , C256 being (Element of ( GF C252 ));
assume L910: (C252 > 3 & ( Disc (C253 , C254 , C252) ) <> ( 0. ( GF C252 ) ));
deffunc H4(Nat) = { ( Class (( R_EllCur (C253 , C254 , C252) ) , [ ( $1 - 1 ) , B237 , 1 ]) ) where B237 is (Element of ( GF C252 )) : [ ( $1 - 1 ) , B237 , 1 ] in ( EC_SetProjCo (C253 , C254 , C252) ) };
consider C257 being FinSequence such that L911: (( len C257 ) = C252 & (for B238 being Nat holds (B238 in ( dom C257 ) implies ( C257 . B238 ) = H4(B238)))) from FINSEQ_1:sch 2;
take C257;
thus L912: ( dom C257 ) = ( Seg C252 ) by L911 , FINSEQ_1:def 3;
thus L913: (for B239 being Nat holds (B239 in ( dom C257 ) implies ( C257 . B239 ) = { ( Class (( R_EllCur (C253 , C254 , C252) ) , [ ( B239 - 1 ) , B240 , 1 ]) ) where B240 is (Element of ( GF C252 )) : [ ( B239 - 1 ) , B240 , 1 ] in ( EC_SetProjCo (C253 , C254 , C252) ) })) by L911;
L914:
now
let C258 , C259 being set;
assume L915: C258 <> C259;
per cases ;
suppose L916: (C258 in ( dom C257 ) & C259 in ( dom C257 ));

reconsider D112 = C258 , D113 = C259 as Nat by L916;
L917: (C258 in ( Seg C252 ) & C259 in ( Seg C252 )) by L916 , L911 , FINSEQ_1:def 3;
L918: (( D112 - 1 ) is (Element of ( GF C252 )) & ( D113 - 1 ) is (Element of ( GF C252 ))) by L917 , L901;
L919: ( C257 . D112 ) = { ( Class (( R_EllCur (C253 , C254 , C252) ) , [ ( D112 - 1 ) , B241 , 1 ]) ) where B241 is (Element of ( GF C252 )) : [ ( D112 - 1 ) , B241 , 1 ] in ( EC_SetProjCo (C253 , C254 , C252) ) } by L916 , L911;
L920: ( C257 . D113 ) = { ( Class (( R_EllCur (C253 , C254 , C252) ) , [ ( D113 - 1 ) , B242 , 1 ]) ) where B242 is (Element of ( GF C252 )) : [ ( D113 - 1 ) , B242 , 1 ] in ( EC_SetProjCo (C253 , C254 , C252) ) } by L916 , L911;
thus L921: ( C257 . C258 ) misses ( C257 . C259 )
proof
assume L922: ( C257 . C258 ) meets ( C257 . C259 );
consider C260 being set such that L923: (C260 in ( C257 . C258 ) & C260 in ( C257 . C259 )) by L922 , XBOOLE_0:3;
consider C261 being (Element of ( GF C252 )) such that L924: (C260 = ( Class (( R_EllCur (C253 , C254 , C252) ) , [ ( D112 - 1 ) , C261 , 1 ]) ) & [ ( D112 - 1 ) , C261 , 1 ] in ( EC_SetProjCo (C253 , C254 , C252) )) by L919 , L923;
consider C262 being (Element of ( GF C252 )) such that L925: (C260 = ( Class (( R_EllCur (C253 , C254 , C252) ) , [ ( D113 - 1 ) , C262 , 1 ]) ) & [ ( D113 - 1 ) , C262 , 1 ] in ( EC_SetProjCo (C253 , C254 , C252) )) by L920 , L923;
L926: ( D112 - 1 ) = ( D113 - 1 ) by L778 , L910 , L924 , L925 , L918;
thus L927: contradiction by L926 , L915;
end;

end;
suppose L922: (not (C258 in ( dom C257 ) & C259 in ( dom C257 )));

L923: (( C257 . C258 ) = ( {} ) or ( C257 . C259 ) = ( {} )) by L922 , FUNCT_1:def 2;
thus L924: ( C257 . C258 ) misses ( C257 . C259 ) by L923 , XBOOLE_1:65;
end;
end;
thus L926: C257 is  disjoint_valued by L914 , PROB_2:def 2;
thus L927: (for B243 being Nat holds (B243 in ( dom C257 ) implies ( C257 . B243 ) is  finite))
proof
let C263 being Nat;
assume L928: C263 in ( dom C257 );
L929: ( C257 . C263 ) = { ( Class (( R_EllCur (C253 , C254 , C252) ) , [ ( C263 - 1 ) , B244 , 1 ]) ) where B244 is (Element of ( GF C252 )) : [ ( C263 - 1 ) , B244 , 1 ] in ( EC_SetProjCo (C253 , C254 , C252) ) } by L928 , L911;
L930: (1 <= C263 & C263 <= C252) by L928 , L912 , FINSEQ_1:1;
L931: (( 1 - 1 ) <= ( C263 - 1 ) & ( C263 - 1 ) <= ( C252 - 1 )) by L930 , XREAL_1:9;
L932: ( C263 - 1 ) is (Element of ( NAT )) by L931 , INT_1:3;
L933: ( C252 - 1 ) < ( C252 - ( 0 ) ) by XREAL_1:15;
L934: ( C263 - 1 ) < C252 by L933 , L931 , XXREAL_0:2;
reconsider D114 = ( C263 - 1 ) as (Element of ( GF C252 )) by L934 , L932 , NAT_1:44;
L935: ( card ( C257 . C263 ) ) = ( card { ( Class (( R_EllCur (C253 , C254 , C252) ) , [ D114 , B245 , 1 ]) ) where B245 is (Element of ( GF C252 )) : [ D114 , B245 , 1 ] in ( EC_SetProjCo (C253 , C254 , C252) ) } ) by L929
.= ( 1 + ( Lege_p ( ( ( D114 |^ 3 ) + ( C253 * D114 ) ) + C254 ) ) ) by L871 , L910;
L936: ( 0 ) <= ( 1 + ( Lege_p ( ( ( D114 |^ 3 ) + ( C253 * D114 ) ) + C254 ) ) )
proof
per cases ;
suppose L937: (not (( ( ( D114 |^ 3 ) + ( C253 * D114 ) ) + C254 ) = ( 0 ) or ( ( ( D114 |^ 3 ) + ( C253 * D114 ) ) + C254 ) is  quadratic_residue));

L938: ( Lege_p ( ( ( D114 |^ 3 ) + ( C253 * D114 ) ) + C254 ) ) = ( - 1 ) by L937 , L338;
thus L939: ( 0 ) <= ( 1 + ( Lege_p ( ( ( D114 |^ 3 ) + ( C253 * D114 ) ) + C254 ) ) ) by L938;
end;
suppose L940: (( ( ( D114 |^ 3 ) + ( C253 * D114 ) ) + C254 ) = ( 0 ) or ( ( ( D114 |^ 3 ) + ( C253 * D114 ) ) + C254 ) is  quadratic_residue);

L941:
now
per cases  by L940;
suppose L942: ( ( ( D114 |^ 3 ) + ( C253 * D114 ) ) + C254 ) = ( 0 );

L943: ( Lege_p ( ( ( D114 |^ 3 ) + ( C253 * D114 ) ) + C254 ) ) = ( 0 ) by L942 , L338;
thus L944: ( 0 ) <= ( 1 + ( Lege_p ( ( ( D114 |^ 3 ) + ( C253 * D114 ) ) + C254 ) ) ) by L943;
end;
suppose L945: ( ( ( D114 |^ 3 ) + ( C253 * D114 ) ) + C254 ) is  quadratic_residue;

L946: ( Lege_p ( ( ( D114 |^ 3 ) + ( C253 * D114 ) ) + C254 ) ) = 1 by L945 , L338;
thus L947: ( 0 ) <= ( 1 + ( Lege_p ( ( ( D114 |^ 3 ) + ( C253 * D114 ) ) + C254 ) ) ) by L946;
end;
end;
thus L949: ( 0 ) <= ( 1 + ( Lege_p ( ( ( D114 |^ 3 ) + ( C253 * D114 ) ) + C254 ) ) ) by L941;
end;
end;
L951: ( card ( C257 . C263 ) ) in ( NAT ) by L936 , L935 , INT_1:3;
thus L952: ( C257 . C263 ) is  finite by L951;
end;

set D115 = { ( Class (( R_EllCur (C253 , C254 , C252) ) , B246) ) where B246 is (Element of ( ProjCo ( GF C252 ) )) : (B246 in ( EC_SetProjCo (C253 , C254 , C252) ) & (ex B247 , B248 being (Element of ( GF C252 )) st B246 = [ B247 , B248 , 1 ])) };
L953: (for B249 being set holds (B249 in ( union ( rng C257 ) ) iff B249 in D115))
proof
let C264 being set;
thus L954:now
assume L955: C264 in ( union ( rng C257 ) );
consider C265 being set such that L956: (C264 in C265 & C265 in ( rng C257 )) by L955 , TARSKI:def 4;
consider C266 being set such that L957: (C266 in ( dom C257 ) & C265 = ( C257 . C266 )) by L956 , FUNCT_1:def 3;
reconsider D116 = C266 as Nat by L957;
L958: ( C257 . D116 ) = { ( Class (( R_EllCur (C253 , C254 , C252) ) , [ ( D116 - 1 ) , B250 , 1 ]) ) where B250 is (Element of ( GF C252 )) : [ ( D116 - 1 ) , B250 , 1 ] in ( EC_SetProjCo (C253 , C254 , C252) ) } by L957 , L911;
consider C267 being (Element of ( GF C252 )) such that L959: (C264 = ( Class (( R_EllCur (C253 , C254 , C252) ) , [ ( D116 - 1 ) , C267 , 1 ]) ) & [ ( D116 - 1 ) , C267 , 1 ] in ( EC_SetProjCo (C253 , C254 , C252) )) by L958 , L956 , L957;
L960: ( D116 - 1 ) is (Element of ( GF C252 )) by L912 , L957 , L901;
thus L961: C264 in D115 by L960 , L959;
end;
assume L962: C264 in D115;
consider C268 being (Element of ( ProjCo ( GF C252 ) )) such that L963: (C264 = ( Class (( R_EllCur (C253 , C254 , C252) ) , C268) ) & C268 in ( EC_SetProjCo (C253 , C254 , C252) ) & (ex B251 , B252 being (Element of ( GF C252 )) st C268 = [ B251 , B252 , 1 ])) by L962;
consider C269 , C270 being (Element of ( GF C252 )) such that L964: C268 = [ C269 , C270 , 1 ] by L963;
reconsider D117 = C269 as Nat;
L965: (( 0 ) <= D117 & D117 < C252) by NAT_1:44;
L966: ( (( 0 ) qua Nat) + 1 ) <= ( D117 + 1 ) by XREAL_1:6;
L967: ( D117 + 1 ) <= C252 by L965 , NAT_1:13;
set D118 = ( D117 + 1 );
L968: (D118 in ( Seg C252 ) & ( D118 - 1 ) = C269) by L966 , L967;
L969: C264 in { ( Class (( R_EllCur (C253 , C254 , C252) ) , [ ( D118 - 1 ) , B253 , 1 ]) ) where B253 is (Element of ( GF C252 )) : [ ( D118 - 1 ) , B253 , 1 ] in ( EC_SetProjCo (C253 , C254 , C252) ) } by L963 , L964;
L970: C264 in ( C257 . D118 ) by L969 , L968 , L911 , L912;
L971: ( C257 . D118 ) in ( rng C257 ) by L968 , L912 , FUNCT_1:3;
thus L972: C264 in ( union ( rng C257 ) ) by L971 , L970 , TARSKI:def 4;
end;
thus L973: thesis by L953 , TARSKI:1;
end;
theorem
L974: (for B254 being Prime holds (for B255 , B256 being (Element of ( GF B254 )) holds ((B254 > 3 & ( Disc (B255 , B256 , B254) ) <> ( 0. ( GF B254 ) )) implies (ex B257 being (FinSequence of ( NAT )) st (( len B257 ) = B254 & (for B258 being Nat holds (B258 in ( Seg B254 ) implies (ex B259 being (Element of ( GF B254 )) st (B259 = ( B258 - 1 ) & ( B257 . B258 ) = ( 1 + ( Lege_p ( ( ( B259 |^ 3 ) + ( B255 * B259 ) ) + B256 ) ) ))))) & ( card { ( Class (( R_EllCur (B255 , B256 , B254) ) , B260) ) where B260 is (Element of ( ProjCo ( GF B254 ) )) : (B260 in ( EC_SetProjCo (B255 , B256 , B254) ) & (ex B261 , B262 being (Element of ( GF B254 )) st B260 = [ B261 , B262 , 1 ])) } ) = ( Sum B257 ))))))
proof
let C271 being Prime;
let C272 , C273 being (Element of ( GF C271 ));
assume L975: (C271 > 3 & ( Disc (C272 , C273 , C271) ) <> ( 0. ( GF C271 ) ));
consider C274 being Function such that L976: (( dom C274 ) = ( Seg C271 ) & (for B263 being Nat holds (B263 in ( dom C274 ) implies ( C274 . B263 ) = { ( Class (( R_EllCur (C272 , C273 , C271) ) , [ ( B263 - 1 ) , B264 , 1 ]) ) where B264 is (Element of ( GF C271 )) : [ ( B263 - 1 ) , B264 , 1 ] in ( EC_SetProjCo (C272 , C273 , C271) ) })) & C274 is  disjoint_valued & (for B265 being Nat holds (B265 in ( dom C274 ) implies ( C274 . B265 ) is  finite)) & ( Union C274 ) = { ( Class (( R_EllCur (C272 , C273 , C271) ) , B266) ) where B266 is (Element of ( ProjCo ( GF C271 ) )) : (B266 in ( EC_SetProjCo (C272 , C273 , C271) ) & (ex B267 , B268 being (Element of ( GF C271 )) st B266 = [ B267 , B268 , 1 ])) }) by L975 , L909;
defpred S5[ Nat , Nat ] means $2 = ( card ( C274 . $1 ) );
L977:
now
let C275 being Nat;
assume L978: C275 in ( Seg C271 );
L979: ( C274 . C275 ) is  finite by L978 , L976;
reconsider D119 = ( card ( C274 . C275 ) ) as (Element of ( NAT )) by L979 , ORDINAL1:def 12;
take D120 = D119;
thus L980: S5[ C275 , D120 ];
end;
consider C276 being (FinSequence of ( NAT )) such that L981: (( dom C276 ) = ( Seg C271 ) & (for B269 being Nat holds (B269 in ( Seg C271 ) implies S5[ B269 , ( C276 . B269 ) ]))) from FINSEQ_1:sch 5(L977);
take C276;
L982: C271 is (Element of ( NAT )) by ORDINAL1:def 12;
thus L983: ( len C276 ) = C271 by L982 , L981 , FINSEQ_1:def 3;
L984:
now
let C277 being Nat;
assume L985: C277 in ( Seg C271 );
L986: (1 <= C277 & C277 <= C271) by L985 , FINSEQ_1:1;
L987: (( 1 - 1 ) <= ( C277 - 1 ) & ( C277 - 1 ) <= ( C271 - 1 )) by L986 , XREAL_1:9;
L988: ( C277 - 1 ) is (Element of ( NAT )) by L987 , INT_1:3;
L989: ( C271 - 1 ) < ( C271 - ( 0 ) ) by XREAL_1:15;
L990: ( C277 - 1 ) < C271 by L989 , L987 , XXREAL_0:2;
reconsider D121 = ( C277 - 1 ) as (Element of ( GF C271 )) by L990 , L988 , NAT_1:44;
take D122 = D121;
thus L991: D122 = ( C277 - 1 );
thus L992: ( C276 . C277 ) = ( card ( C274 . C277 ) ) by L981 , L985
.= ( card { ( Class (( R_EllCur (C272 , C273 , C271) ) , [ ( C277 - 1 ) , B270 , 1 ]) ) where B270 is (Element of ( GF C271 )) : [ ( C277 - 1 ) , B270 , 1 ] in ( EC_SetProjCo (C272 , C273 , C271) ) } ) by L976 , L985
.= ( card { ( Class (( R_EllCur (C272 , C273 , C271) ) , [ D122 , B271 , 1 ]) ) where B271 is (Element of ( GF C271 )) : [ D122 , B271 , 1 ] in ( EC_SetProjCo (C272 , C273 , C271) ) } )
.= ( 1 + ( Lege_p ( ( ( D122 |^ 3 ) + ( C272 * D122 ) ) + C273 ) ) ) by L871 , L975;
end;
L993: (for B272 being Nat holds (B272 in ( dom C274 ) implies (( C274 . B272 ) is  finite & ( C276 . B272 ) = ( card ( C274 . B272 ) )))) by L976 , L981;
thus L994: thesis by L993 , L976 , L981 , L984 , DIST_1:17;
end;
theorem
L995: (for B273 being Prime holds (for B274 , B275 being (Element of ( GF B273 )) holds ((B273 > 3 & ( Disc (B274 , B275 , B273) ) <> ( 0. ( GF B273 ) )) implies (ex B276 being (FinSequence of ( INT )) st (( len B276 ) = B273 & (for B277 being Nat holds (B277 in ( Seg B273 ) implies (ex B278 being (Element of ( GF B273 )) st (B278 = ( B277 - 1 ) & ( B276 . B277 ) = ( Lege_p ( ( ( B278 |^ 3 ) + ( B274 * B278 ) ) + B275 ) ))))) & ( card ( Class ( R_EllCur (B274 , B275 , B273) ) ) ) = ( ( 1 + B273 ) + ( Sum B276 ) ))))))
proof
let C278 being Prime;
let C279 , C280 being (Element of ( GF C278 ));
assume L996: (C278 > 3 & ( Disc (C279 , C280 , C278) ) <> ( 0. ( GF C278 ) ));
consider C281 being (FinSequence of ( NAT )) such that L997: (( len C281 ) = C278 & (for B279 being Nat holds (B279 in ( Seg C278 ) implies (ex B280 being (Element of ( GF C278 )) st (B280 = ( B279 - 1 ) & ( C281 . B279 ) = ( 1 + ( Lege_p ( ( ( B280 |^ 3 ) + ( C279 * B280 ) ) + C280 ) ) ))))) & ( card { ( Class (( R_EllCur (C279 , C280 , C278) ) , B281) ) where B281 is (Element of ( ProjCo ( GF C278 ) )) : (B281 in ( EC_SetProjCo (C279 , C280 , C278) ) & (ex B282 , B283 being (Element of ( GF C278 )) st B281 = [ B282 , B283 , 1 ])) } ) = ( Sum C281 )) by L996 , L974;
L998: C278 is (Element of ( NAT )) by ORDINAL1:def 12;
defpred S6[ Nat , set ] means (ex B284 being (Element of ( GF C278 )) st (B284 = ( $1 - 1 ) & $2 = ( Lege_p ( ( ( B284 |^ 3 ) + ( C279 * B284 ) ) + C280 ) )));
L999:
now
let C282 being Nat;
assume L1000: C282 in ( Seg C278 );
L1001: (1 <= C282 & C282 <= C278) by L1000 , FINSEQ_1:1;
L1002: (( 1 - 1 ) <= ( C282 - 1 ) & ( C282 - 1 ) <= ( C278 - 1 )) by L1001 , XREAL_1:9;
L1003: ( C282 - 1 ) is (Element of ( NAT )) by L1002 , INT_1:3;
L1004: ( C278 - 1 ) < ( C278 - ( 0 ) ) by XREAL_1:15;
L1005: ( C282 - 1 ) < C278 by L1004 , L1002 , XXREAL_0:2;
reconsider D123 = ( C282 - 1 ) as (Element of ( GF C278 )) by L1005 , L1003 , NAT_1:44;
reconsider D124 = ( Lege_p ( ( ( D123 |^ 3 ) + ( C279 * D123 ) ) + C280 ) ) as (Element of ( INT )) by INT_1:def 2;
take D125 = D124;
thus L1006: S6[ C282 , D125 ];
end;
consider C283 being (FinSequence of ( INT )) such that L1007: (( dom C283 ) = ( Seg C278 ) & (for B285 being Nat holds (B285 in ( Seg C278 ) implies S6[ B285 , ( C283 . B285 ) ]))) from FINSEQ_1:sch 5(L999);
take C283;
thus L1008: ( len C283 ) = C278 by L1007 , L998 , FINSEQ_1:def 3;
reconsider D126 = ( C278 |-> (1 qua Real) ) as (Element of ( C278 -tuples_on ( REAL ) ));
L1009: C283 is (FinSequence of ( REAL )) by FINSEQ_2:24 , NUMBERS:15;
reconsider D127 = C283 as (Element of ( C278 -tuples_on ( REAL ) )) by L1009 , L1008 , FINSEQ_2:92;
L1010:
now
let C284 being Nat;
assume L1011: (1 <= C284 & C284 <= C278);
L1012: C284 in ( Seg C278 ) by L1011 , FINSEQ_1:1;
L1013: (ex B286 being (Element of ( GF C278 )) st (B286 = ( C284 - 1 ) & ( C281 . C284 ) = ( 1 + ( Lege_p ( ( ( B286 |^ 3 ) + ( C279 * B286 ) ) + C280 ) ) ))) by L1012 , L997;
L1014: (ex B287 being (Element of ( GF C278 )) st (B287 = ( C284 - 1 ) & ( C283 . C284 ) = ( Lege_p ( ( ( B287 |^ 3 ) + ( C279 * B287 ) ) + C280 ) ))) by L1007 , L1012;
L1015: ( C281 . C284 ) = ( ( ( C278 |-> (1 qua Real) ) . C284 ) + ( C283 . C284 ) ) by L1014 , L1013 , L1012 , FUNCOP_1:7;
thus L1016: ( C281 . C284 ) = ( ( D126 + D127 ) . C284 ) by L1015 , RVSUM_1:11;
end;
L1017: ( len ( D126 + D127 ) ) = C278 by L998 , FINSEQ_2:132;
L1018: C281 = ( D126 + D127 ) by L1017 , L997 , L1010 , FINSEQ_1:14;
L1019: ( Sum C281 ) = ( ( Sum ( C278 |-> (1 qua Real) ) ) + ( Sum C283 ) ) by L1018 , RVSUM_1:89;
L1020: ( Sum C281 ) = ( ( C278 * 1 ) + ( Sum C283 ) ) by L1019 , RVSUM_1:80;
reconsider D128 = { ( Class (( R_EllCur (C279 , C280 , C278) ) , [ ( 0 ) , 1 , ( 0 ) ]) ) } as  finite set;
reconsider D129 = { ( Class (( R_EllCur (C279 , C280 , C278) ) , B288) ) where B288 is (Element of ( ProjCo ( GF C278 ) )) : (B288 in ( EC_SetProjCo (C279 , C280 , C278) ) & (ex B289 , B290 being (Element of ( GF C278 )) st B288 = [ B289 , B290 , 1 ])) } as  finite set by L997;
L1021: ( card D128 ) = 1 by CARD_2:42;
L1022: ( card ( Class ( R_EllCur (C279 , C280 , C278) ) ) ) = ( card ( D128 \/ D129 ) ) by L996 , L757
.= ( 1 + ( C278 + ( Sum C283 ) ) ) by L996 , L1021 , L997 , L1020 , L793 , CARD_2:40;
thus L1023: thesis by L1022 , L1007;
end;
