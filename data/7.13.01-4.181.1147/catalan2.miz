:: The {C}atalan Numbers. {P}art {II}
::  by Karol P\c{a}k
::
:: Received October 31, 2006
:: Copyright (c) 2006-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, SUBSET_1, FUNCT_1, NAT_1, TARSKI, ORDINAL1, FINSET_1,
      RELAT_1, AFINSQ_1, ARYTM_1, ARYTM_3, FINSEQ_1, XXREAL_0, CARD_1,
      XBOOLE_0, ORDINAL4, CARD_3, FINSOP_1, FUNCOP_1, BINOP_2, FUNCT_2,
      XREAL_0, SEQ_1, SERIES_1, VALUED_1, SQUARE_1, COMPLEX1, PARTFUN3,
      ZFMISC_1, CARD_FIN, REALSET1, CATALAN1, REAL_1, ORDINAL2, SEQ_2, NEWTON,
      PREPOWER, FUNCT_3, CATALAN2;
 notations TARSKI, XBOOLE_0, SUBSET_1, CARD_1, XREAL_0, NUMBERS, RELAT_1,
      FUNCT_1, REAL_1, NAT_1, FINSET_1, ORDINAL1, XXREAL_0, NAT_D, AFINSQ_1,
      SEQ_1, VALUED_1, RELSET_1, DOMAIN_1, FUNCT_2, FUNCOP_1, BINOP_1, BINOP_2,
      RECDEF_1, SERIES_1, PARTFUN3, AFINSQ_2, ZFMISC_1, SQUARE_1, NEWTON,
      STIRL2_1, CARD_FIN, CATALAN1, SEQ_2, PREPOWER, COMPLEX1, QUIN_1;
 constructors QUIN_1, PREPOWER, SERIES_1, PARTFUN3, BINOM, WELLORD2, DOMAIN_1,
      SETWISEO, REAL_1, NAT_D, YELLOW20, RECDEF_1, BINOP_2, RELSET_1, SEQ_1,
      SQUARE_1, CATALAN1, STIRL2_1, CARD_FIN, AFINSQ_2, ABIAN, SEQ_2, COMSEQ_2;
 registrations XBOOLE_0, SUBSET_1, RELAT_1, FUNCT_1, ORDINAL1, FUNCT_2,
      FUNCOP_1, FINSET_1, FRAENKEL, NUMBERS, XXREAL_0, XREAL_0, NAT_1, INT_1,
      BINOP_2, CARD_1, AFINSQ_1, RELSET_1, VALUED_1, VALUED_0, MEMBERED,
      NEWTON, AFINSQ_2, SERIES_1;
 requirements REAL, NUMERALS, SUBSET, BOOLE, ARITHM;
 definitions TARSKI, XBOOLE_0, FUNCT_1, QUIN_1, SQUARE_1;
 theorems CATALAN1, AFINSQ_1, TARSKI, XBOOLE_0, ZFMISC_1, RELAT_1, XBOOLE_1,
      NAT_1, FUNCT_2, XCMPLX_1, CARD_2, INT_1, ORDINAL1, WELLORD2, CARD_1,
      BINOP_2, NEWTON, XREAL_1, FUNCOP_1, STIRL2_1, FUNCT_1, CARD_FIN,
      SERIES_1, SEQ_1, SEQ_2, COMPLEX1, SQUARE_1, ABSVALUE, RSSPACE2, POWER,
      PREPOWER, WSIERP_1, FIB_NUM, TIETZE, XREAL_0, SERIES_2, XXREAL_0, NAT_D,
      AFINSQ_2, XTUPLE_0;
 schemes FUNCT_2, NAT_1, XBOOLE_0, STIRL2_1;

begin
definition
let R14 being (XFinSequence of ( NAT ));
let R15 being (XFinSequence of ( NAT ));
redefine func R14 ^ R15 -> (XFinSequence of ( NAT ));

coherence;
end;
theorem
L2: (for R6 being set holds (for R12 being Nat holds (for R17 being (XFinSequence of R6) holds (ex R18 being (XFinSequence of R6) st R17 = ( ( R17 | R12 ) ^ R18 )))))
proof
let R6 being set;
let R12 being Nat;
let R17 being (XFinSequence of R6);
consider R16 being XFinSequence such that L3: R17 = ( ( R17 | R12 ) ^ R16 ) by AFINSQ_1:60;
L4: ( rng R16 ) c= ( rng R17 ) by L3 , AFINSQ_1:25;
L5: ( rng R16 ) c= R6 by L4 , XBOOLE_1:1;
L6: R16 is (XFinSequence of R6) by L5 , RELAT_1:def 19;
thus L7: thesis by L6 , L3;
end;
definition
let R14 being (XFinSequence of ( NAT ));
attr R14 is  dominated_by_0
means
:L8: (( rng R14 ) c= { ( 0 ) , 1 } & (for R9 being Nat holds (R9 <= ( dom R14 ) implies ( 2 * ( Sum ( R14 | R9 ) ) ) <= R9)));
end;
theorem
L10: (for R9 being Nat holds (for R14 being (XFinSequence of ( NAT )) holds (R14 is  dominated_by_0 implies ( 2 * ( Sum ( R14 | R9 ) ) ) <= R9)))
proof
let R9 being Nat;
let R14 being (XFinSequence of ( NAT ));
assume L11: R14 is  dominated_by_0;
L12:
now
per cases ;
suppose L13: R9 <= ( dom R14 );

thus L14: thesis by L13 , L11 , L8;
end;
suppose L15: R9 > ( dom R14 );

L16: ( dom R14 ) c= R9 by L15 , NAT_1:39;
L17: ( R14 | R9 ) = R14 by L16 , RELAT_1:68;
L18: (( 2 * ( Sum ( R14 | ( len R14 ) ) ) ) <= ( dom R14 ) & ( R14 | ( len R14 ) ) = R14) by L11 , L8 , RELAT_1:68;
thus L19: thesis by L18 , L15 , L17 , XXREAL_0:2;
end;
end;
thus L21: thesis by L12;
end;
theorem
L22: (for R14 being (XFinSequence of ( NAT )) holds (R14 is  dominated_by_0 implies ( R14 . ( 0 ) ) = ( 0 )))
proof
let R14 being (XFinSequence of ( NAT ));
assume L23: R14 is  dominated_by_0;
L24:
now
per cases ;
suppose L25: (not ( 0 ) in ( dom R14 ));

thus L26: thesis by L25 , FUNCT_1:def 2;
end;
suppose L27: ( 0 ) in ( dom R14 );

L28: ( len R14 ) >= 1 by L27 , NAT_1:14;
L29: 1 c= ( len R14 ) by L28 , NAT_1:39;
L30: ( 0 ) in 1 by NAT_1:44;
L31: ( 0 ) in ( ( dom R14 ) /\ 1 ) by L30 , L29 , XBOOLE_0:def 4;
L32: ( ( R14 | 1 ) . ( 0 ) ) = ( R14 . ( 0 ) ) by L31 , FUNCT_1:48;
L33: ( Sum <% ( R14 . ( 0 ) ) %> ) = ( ( addnat ) "**" <% ( R14 . ( 0 ) ) %> ) by AFINSQ_2:51
.= ( R14 . ( 0 ) ) by AFINSQ_2:37;
L34: ( len ( R14 | 1 ) ) = 1 by L29 , RELAT_1:62;
L35: ( R14 | 1 ) = <% ( R14 . ( 0 ) ) %> by L34 , L32 , AFINSQ_1:34;
L36: ( 2 * ( R14 . ( 0 ) ) ) <= ( 1 + ( 0 ) ) by L35 , L23 , L33 , L10;
L37: (( 2 * ( R14 . ( 0 ) ) ) = 1 or ( 2 * ( R14 . ( 0 ) ) ) = ( 0 )) by L36 , NAT_1:9;
thus L38: thesis by L37 , NAT_1:15;
end;
end;
thus L40: thesis by L24;
end;
registration
let R1 being set;
let C1 being Nat;
cluster ( R1 --> C1 ) -> ( NAT ) -valued;
coherence
proof
L41: C1 in ( NAT ) by ORDINAL1:def 12;
L42: (( rng ( R1 --> C1 ) ) c= { C1 } & { C1 } c= ( NAT )) by L41 , ZFMISC_1:31;
L43: ( rng ( R1 --> C1 ) ) c= ( NAT ) by L42 , XBOOLE_1:1;
thus L44: thesis by L43 , RELAT_1:def 19;
end;
end;
L46: (for R9 being Nat holds (for R11 being Nat holds (for R12 being Nat holds (R12 <= R11 implies ( ( R11 --> R9 ) | R12 ) = ( R12 --> R9 )))))
proof
let R9 being Nat;
let R11 being Nat;
let R12 being Nat;
assume L47: R12 <= R11;
L48: R12 c= R11 by L47 , NAT_1:39;
L49: ( R12 /\ R11 ) = R12 by L48 , XBOOLE_1:28;
thus L50: thesis by L49 , FUNCOP_1:12;
end;
L51: (for R9 being Nat holds ( R9 --> ( 0 ) ) is  dominated_by_0)
proof
let R9 being Nat;
L52: ( dom ( R9 --> ( 0 ) ) ) = R9 by FUNCOP_1:13;
L53: (( rng ( R9 --> ( 0 ) ) ) c= { ( 0 ) } & { ( 0 ) } c= { ( 0 ) , 1 }) by FUNCOP_1:13 , ZFMISC_1:7;
thus L54: ( rng ( R9 --> ( 0 ) ) ) c= { ( 0 ) , 1 } by L53 , XBOOLE_1:1;
let R12 being Nat;
assume L55: R12 <= ( dom ( R9 --> ( 0 ) ) );
L56: ( ( R9 --> ( 0 ) ) | R12 ) = ( R12 --> ( 0 ) ) by L55 , L52 , L46;
L57: ( Sum ( R12 --> ( 0 ) ) ) = ( ( 0 ) * R12 ) by AFINSQ_2:58;
thus L58: thesis by L57 , L56;
end;
registration
cluster  empty  dominated_by_0 for (XFinSequence of ( NAT ));
existence
proof
L59: ( ( 0 ) --> ( 0 ) ) is  dominated_by_0 by L51;
thus L60: thesis by L59;
end;
cluster non  empty  dominated_by_0 for (XFinSequence of ( NAT ));
existence
proof
L61: ( 1 --> ( 0 ) ) is  dominated_by_0 by L51;
thus L62: thesis by L61;
end;
end;
theorem
L64: (for R12 being Nat holds ( R12 --> ( 0 ) ) is  dominated_by_0) by L51;
theorem
L65: (for R11 being Nat holds (for R12 being Nat holds (R12 >= R11 implies ( ( R12 --> ( 0 ) ) ^ ( R11 --> 1 ) ) is  dominated_by_0)))
proof
let R11 being Nat;
let R12 being Nat;
assume L66: R12 >= R11;
set D1 = ( ( R12 --> ( 0 ) ) ^ ( R11 --> 1 ) );
L67: (( rng ( R11 --> 1 ) ) c= { 1 } & { 1 } c= { ( 0 ) , 1 }) by FUNCOP_1:13 , ZFMISC_1:7;
L68: ( rng ( R11 --> 1 ) ) c= { ( 0 ) , 1 } by L67 , XBOOLE_1:1;
L69: (( rng ( R12 --> ( 0 ) ) ) c= { ( 0 ) } & { ( 0 ) } c= { ( 0 ) , 1 }) by FUNCOP_1:13 , ZFMISC_1:7;
L70: ( rng ( R12 --> ( 0 ) ) ) c= { ( 0 ) , 1 } by L69 , XBOOLE_1:1;
L71: ( ( rng ( R12 --> ( 0 ) ) ) \/ ( rng ( R11 --> 1 ) ) ) c= { ( 0 ) , 1 } by L70 , L68 , XBOOLE_1:8;
thus L72: ( rng D1 ) c= { ( 0 ) , 1 } by L71 , AFINSQ_1:26;
let R9 being Nat;
assume that
L73: R9 <= ( dom D1 );
L74:
now
per cases ;
suppose L75: R9 <= ( dom ( R12 --> ( 0 ) ) );

L76: ( dom ( R12 --> ( 0 ) ) ) = R12 by FUNCOP_1:13;
L77: ( ( R12 --> ( 0 ) ) | R9 ) = ( R9 --> ( 0 ) ) by L76 , L75 , L46;
L78: ( Sum ( R9 --> ( 0 ) ) ) = ( ( 0 ) * R9 ) by AFINSQ_2:58;
L79: ( D1 | R9 ) = ( ( R12 --> ( 0 ) ) | R9 ) by L75 , AFINSQ_1:58;
thus L80: thesis by L79 , L77 , L78;
end;
suppose L81: R9 > ( dom ( R12 --> ( 0 ) ) );

reconsider D2 = ( R9 - ( dom ( R12 --> ( 0 ) ) ) ) as (Element of ( NAT )) by L81 , NAT_1:21;
L82: ( dom ( R12 --> ( 0 ) ) ) = R12 by FUNCOP_1:13;
L83: ( dom D1 ) = ( len D1 );
L84: R9 <= ( ( len ( R12 --> ( 0 ) ) ) + ( len ( R11 --> 1 ) ) ) by L83 , L73 , AFINSQ_1:17;
L85: ( R9 - ( len ( R12 --> ( 0 ) ) ) ) <= ( ( ( len ( R11 --> 1 ) ) + ( len ( R12 --> ( 0 ) ) ) ) - ( len ( R12 --> ( 0 ) ) ) ) by L84 , XREAL_1:9;
L86: D2 <= R11 by L85 , FUNCOP_1:13;
L87: ( ( R11 --> 1 ) | D2 ) = ( D2 --> 1 ) by L86 , L46;
reconsider D3 = ( R11 --> 1 ) as (XFinSequence of ( NAT ));
L88: R9 = ( D2 + ( dom ( R12 --> ( 0 ) ) ) );
L89: ( D1 | R9 ) = ( ( R12 --> ( 0 ) ) ^ ( D3 | D2 ) ) by L88 , AFINSQ_1:59;
L90: ( Sum ( D1 | R9 ) ) = ( ( Sum ( R12 --> ( 0 ) ) ) + ( Sum ( D2 --> 1 ) ) ) by L89 , L87 , AFINSQ_2:55;
L91: (( dom D1 ) = ( ( len ( R12 --> ( 0 ) ) ) + ( len ( R11 --> 1 ) ) ) & ( dom ( R11 --> 1 ) ) = R11) by AFINSQ_1:def 3 , FUNCOP_1:13;
L92: ( R9 - R12 ) <= ( ( R11 + R12 ) - R12 ) by L91 , L73 , L82 , XREAL_1:9;
L93: ( R9 - R12 ) <= R12 by L92 , L66 , XXREAL_0:2;
L94: ( ( R9 - R12 ) + ( R9 - R12 ) ) <= ( R12 + ( R9 - R12 ) ) by L93 , XREAL_1:6;
L95: (( Sum ( R12 --> ( 0 ) ) ) = ( R12 * ( 0 ) ) & ( Sum ( D2 --> 1 ) ) = ( D2 * 1 )) by AFINSQ_2:58;
thus L96: thesis by L95 , L90 , L82 , L94;
end;
end;
thus L98: thesis by L74;
end;
theorem
L99: (for R12 being Nat holds (for R14 being (XFinSequence of ( NAT )) holds (R14 is  dominated_by_0 implies ( R14 | R12 ) is  dominated_by_0)))
proof
let R12 being Nat;
let R14 being (XFinSequence of ( NAT ));
assume L100: R14 is  dominated_by_0;
L101: (for R9 being Nat holds (R9 <= ( dom ( R14 | R12 ) ) implies ( 2 * ( Sum ( ( R14 | R12 ) | R9 ) ) ) <= R9))
proof
let R9 being Nat;
assume L102: R9 <= ( dom ( R14 | R12 ) );
L103: R9 c= ( dom ( R14 | R12 ) ) by L102 , NAT_1:39;
L104: ( dom ( R14 | R12 ) ) = ( ( dom R14 ) /\ R12 ) by RELAT_1:61;
L105: ( ( R14 | R12 ) | R9 ) = ( R14 | R9 ) by L104 , L103 , RELAT_1:74 , XBOOLE_1:18;
thus L106: thesis by L105 , L100 , L10;
end;
L107: (( rng ( R14 | R12 ) ) c= ( rng R14 ) & ( rng R14 ) c= { ( 0 ) , 1 }) by L100 , L8 , RELAT_1:70;
L108: ( rng ( R14 | R12 ) ) c= { ( 0 ) , 1 } by L107 , XBOOLE_1:1;
thus L109: thesis by L108 , L101 , L8;
end;
theorem
L110: (for R14 being (XFinSequence of ( NAT )) holds (for R15 being (XFinSequence of ( NAT )) holds ((R14 is  dominated_by_0 & R15 is  dominated_by_0) implies ( R14 ^ R15 ) is  dominated_by_0)))
proof
let R14 being (XFinSequence of ( NAT ));
let R15 being (XFinSequence of ( NAT ));
assume that
L111: R14 is  dominated_by_0
and
L112: R15 is  dominated_by_0;
L113: (( rng R14 ) c= { ( 0 ) , 1 } & ( rng R15 ) c= { ( 0 ) , 1 }) by L111 , L112 , L8;
L114: ( ( rng R14 ) \/ ( rng R15 ) ) c= { ( 0 ) , 1 } by L113 , XBOOLE_1:8;
thus L115: ( rng ( R14 ^ R15 ) ) c= { ( 0 ) , 1 } by L114 , AFINSQ_1:26;
let R9 being Nat;
assume that
L116: R9 <= ( dom ( R14 ^ R15 ) );
L117:
now
per cases ;
suppose L118: R9 <= ( dom R14 );

L119: ( ( R14 ^ R15 ) | R9 ) = ( R14 | R9 ) by L118 , AFINSQ_1:58;
thus L120: thesis by L119 , L111 , L118 , L8;
end;
suppose L121: R9 > ( dom R14 );

reconsider D4 = ( R9 - ( dom R14 ) ) as (Element of ( NAT )) by L121 , NAT_1:21;
L122: ( R14 | ( dom R14 ) ) = R14;
L123: R9 = ( D4 + ( dom R14 ) );
L124: ( ( R14 ^ R15 ) | R9 ) = ( R14 ^ ( R15 | D4 ) ) by L123 , AFINSQ_1:59;
L125: ( Sum ( ( R14 ^ R15 ) | R9 ) ) = ( ( Sum R14 ) + ( Sum ( R15 | D4 ) ) ) by L124 , AFINSQ_2:55;
L126: (( 2 * ( Sum ( R14 | ( len R14 ) ) ) ) <= ( len R14 ) & ( 2 * ( Sum ( R15 | D4 ) ) ) <= D4) by L111 , L112 , L10;
L127: ( ( 2 * ( Sum R14 ) ) + ( 2 * ( Sum ( R15 | D4 ) ) ) ) <= ( ( dom R14 ) + D4 ) by L126 , L122 , XREAL_1:7;
thus L128: thesis by L127 , L125;
end;
end;
thus L130: thesis by L117;
end;
theorem
L131: (for R12 being Nat holds (for R14 being (XFinSequence of ( NAT )) holds (R14 is  dominated_by_0 implies ( 2 * ( Sum ( R14 | ( ( 2 * R12 ) + 1 ) ) ) ) < ( ( 2 * R12 ) + 1 ))))
proof
let R12 being Nat;
let R14 being (XFinSequence of ( NAT ));
assume L132: R14 is  dominated_by_0;
L133: ( 2 * ( Sum ( R14 | ( ( 2 * R12 ) + 1 ) ) ) ) <= ( ( 2 * R12 ) + 1 ) by L132 , L10;
assume L134: ( 2 * ( Sum ( R14 | ( ( 2 * R12 ) + 1 ) ) ) ) >= ( ( 2 * R12 ) + 1 );
L135: ( 2 * ( Sum ( R14 | ( ( 2 * R12 ) + 1 ) ) ) ) = ( ( 2 * R12 ) + 1 ) by L134 , L133 , XXREAL_0:1;
L136: ( 2 * ( ( Sum ( R14 | ( ( 2 * R12 ) + 1 ) ) ) - R12 ) ) = 1 by L135;
thus L137: thesis by L136 , INT_1:9;
end;
theorem
L138: (for R12 being Nat holds (for R14 being (XFinSequence of ( NAT )) holds ((R14 is  dominated_by_0 & R12 <= ( ( len R14 ) - ( 2 * ( Sum R14 ) ) )) implies ( R14 ^ ( R12 --> 1 ) ) is  dominated_by_0)))
proof
let R12 being Nat;
let R14 being (XFinSequence of ( NAT ));
set D5 = ( R12 --> 1 );
assume that
L139: R14 is  dominated_by_0
and
L140: R12 <= ( ( len R14 ) - ( 2 * ( Sum R14 ) ) );
L141: (( rng D5 ) c= { 1 } & { 1 } c= { ( 0 ) , 1 }) by FUNCOP_1:13 , ZFMISC_1:7;
L142: ( rng D5 ) c= { ( 0 ) , 1 } by L141 , XBOOLE_1:1;
L143: ( rng R14 ) c= { ( 0 ) , 1 } by L139 , L8;
L144: ( ( rng R14 ) \/ ( rng D5 ) ) c= { ( 0 ) , 1 } by L143 , L142 , XBOOLE_1:8;
thus L145: ( rng ( R14 ^ D5 ) ) c= { ( 0 ) , 1 } by L144 , AFINSQ_1:26;
let R11 being Nat;
assume that
L146: R11 <= ( dom ( R14 ^ D5 ) );
L147:
now
per cases ;
suppose L148: R11 <= ( dom R14 );

L149: ( ( R14 ^ D5 ) | R11 ) = ( R14 | R11 ) by L148 , AFINSQ_1:58;
thus L150: thesis by L149 , L139 , L10;
end;
suppose L151: R11 > ( dom R14 );

reconsider D6 = ( R11 - ( dom R14 ) ) as (Element of ( NAT )) by L151 , NAT_1:21;
L152: R11 = ( ( dom R14 ) + D6 );
L153: ( Sum ( D6 --> 1 ) ) = ( D6 * 1 ) by AFINSQ_2:58;
L154: ( Sum ( R14 ^ ( D6 --> 1 ) ) ) = ( ( Sum R14 ) + D6 ) by L153 , AFINSQ_2:55;
L155: (( dom D5 ) = R12 & ( len D5 ) = ( dom D5 )) by FUNCOP_1:13;
L156: ( dom ( R14 ^ D5 ) ) = ( ( len R14 ) + R12 ) by L155 , AFINSQ_1:def 3;
L157: ( D6 + ( dom R14 ) ) <= ( R12 + ( dom R14 ) ) by L156 , L146;
L158: D6 <= R12 by L157 , XREAL_1:6;
L159: ( D5 | D6 ) = ( D6 --> 1 ) by L158 , L46;
L160: ( ( R14 ^ D5 ) | R11 ) = ( R14 ^ ( D6 --> 1 ) ) by L159 , L152 , AFINSQ_1:59;
L161: ( 2 * ( Sum ( ( R14 ^ D5 ) | R11 ) ) ) = ( ( ( ( 2 * ( Sum R14 ) ) + R11 ) - ( dom R14 ) ) + D6 ) by L160 , L154;
L162: ( 2 * ( Sum ( ( R14 ^ D5 ) | R11 ) ) ) <= ( ( ( ( 2 * ( Sum R14 ) ) + R11 ) - ( dom R14 ) ) + R12 ) by L161 , L158 , XREAL_1:6;
L163: ( R12 - R12 ) <= ( ( ( len R14 ) - ( 2 * ( Sum R14 ) ) ) - R12 ) by L140 , XREAL_1:9;
L164: ( R11 - ( ( ( len R14 ) - ( 2 * ( Sum R14 ) ) ) - R12 ) ) <= ( R11 - ( 0 ) ) by L163 , XREAL_1:10;
thus L165: thesis by L164 , L162 , XXREAL_0:2;
end;
end;
thus L167: thesis by L147;
end;
theorem
L168: (for R9 being Nat holds (for R12 being Nat holds (for R14 being (XFinSequence of ( NAT )) holds ((R14 is  dominated_by_0 & R12 <= ( ( R9 + ( len R14 ) ) - ( 2 * ( Sum R14 ) ) )) implies ( ( ( R9 --> ( 0 ) ) ^ R14 ) ^ ( R12 --> 1 ) ) is  dominated_by_0))))
proof
let R9 being Nat;
let R12 being Nat;
let R14 being (XFinSequence of ( NAT ));
assume that
L169: R14 is  dominated_by_0
and
L170: R12 <= ( ( R9 + ( len R14 ) ) - ( 2 * ( Sum R14 ) ) );
set D7 = ( R9 --> ( 0 ) );
L171: (( dom D7 ) = R9 & ( len D7 ) = ( dom D7 )) by FUNCOP_1:13;
L172: ( len ( D7 ^ R14 ) ) = ( R9 + ( len R14 ) ) by L171 , AFINSQ_1:17;
L173: ( Sum D7 ) = ( R9 * ( 0 ) ) by AFINSQ_2:58;
L174: ( Sum ( D7 ^ R14 ) ) = ( ( 0 ) + ( Sum R14 ) ) by L173 , AFINSQ_2:55;
L175: D7 is  dominated_by_0 by L51;
L176: ( D7 ^ R14 ) is  dominated_by_0 by L175 , L169 , L110;
thus L177: thesis by L176 , L170 , L172 , L174 , L138;
end;
theorem
L178: (for R9 being Nat holds (for R14 being (XFinSequence of ( NAT )) holds ((R14 is  dominated_by_0 & ( 2 * ( Sum ( R14 | R9 ) ) ) = R9) implies (R9 <= ( len R14 ) & ( len ( R14 | R9 ) ) = R9))))
proof
let R9 being Nat;
let R14 being (XFinSequence of ( NAT ));
assume L179: (R14 is  dominated_by_0 & ( 2 * ( Sum ( R14 | R9 ) ) ) = R9);
L180: R9 <= ( len R14 )
proof
L181: ( R14 | ( len R14 ) ) = R14 by RELAT_1:68;
assume L182: R9 > ( len R14 );
L183: ( len R14 ) c= R9 by L182 , NAT_1:39;
L184: ( R14 | R9 ) = R14 by L183 , RELAT_1:68;
thus L185: thesis by L184 , L179 , L182 , L181 , L10;
end;
L186: R9 c= ( len R14 ) by L180 , NAT_1:39;
L187: ( ( dom R14 ) /\ R9 ) = R9 by L186 , XBOOLE_1:28;
thus L188: thesis by L187 , L180 , RELAT_1:61;
end;
theorem
L189: (for R9 being Nat holds (for R14 being (XFinSequence of ( NAT )) holds (for R15 being (XFinSequence of ( NAT )) holds ((R14 is  dominated_by_0 & ( 2 * ( Sum ( R14 | R9 ) ) ) = R9 & R14 = ( ( R14 | R9 ) ^ R15 )) implies R15 is  dominated_by_0))))
proof
let R9 being Nat;
let R14 being (XFinSequence of ( NAT ));
let R15 being (XFinSequence of ( NAT ));
assume that
L190: R14 is  dominated_by_0
and
L191: ( 2 * ( Sum ( R14 | R9 ) ) ) = R9
and
L192: R14 = ( ( R14 | R9 ) ^ R15 );
L193: ( len ( R14 | R9 ) ) = R9 by L190 , L191 , L178;
L194: (( rng R15 ) c= ( rng R14 ) & ( rng R14 ) c= { ( 0 ) , 1 }) by L190 , L192 , L8 , AFINSQ_1:25;
thus L195: ( rng R15 ) c= { ( 0 ) , 1 } by L194 , XBOOLE_1:1;
let R12 being Nat;
assume that
L196: R12 <= ( dom R15 );
L197: ( R14 | ( ( len ( R14 | R9 ) ) + R12 ) ) = ( ( R14 | R9 ) ^ ( R15 | R12 ) ) by L192 , AFINSQ_1:59;
L198: ( Sum ( R14 | ( ( len ( R14 | R9 ) ) + R12 ) ) ) = ( ( Sum ( R14 | R9 ) ) + ( Sum ( R15 | R12 ) ) ) by L197 , AFINSQ_2:55;
L199: ( 2 * ( Sum ( R14 | ( ( len ( R14 | R9 ) ) + R12 ) ) ) ) <= ( ( len ( R14 | R9 ) ) + R12 ) by L190 , L10;
L200: ( R9 + ( 2 * ( Sum ( R15 | R12 ) ) ) ) <= ( ( len ( R14 | R9 ) ) + R12 ) by L199 , L191 , L198;
thus L201: thesis by L200 , L193 , XREAL_1:6;
end;
theorem
L202: (for R9 being Nat holds (for R12 being Nat holds (for R14 being (XFinSequence of ( NAT )) holds ((R14 is  dominated_by_0 & ( 2 * ( Sum ( R14 | R9 ) ) ) = R9 & R9 = ( R12 + 1 )) implies ( R14 | R9 ) = ( ( R14 | R12 ) ^ ( 1 --> 1 ) )))))
proof
let R9 being Nat;
let R12 being Nat;
let R14 being (XFinSequence of ( NAT ));
assume that
L203: R14 is  dominated_by_0
and
L204: ( 2 * ( Sum ( R14 | R9 ) ) ) = R9
and
L205: R9 = ( R12 + 1 );
reconsider D8 = ( R14 | R9 ) as (XFinSequence of ( NAT ));
L206: ( D8 . R12 ) = 1
proof
L207: ( Sum ( R14 | R9 ) ) <> ( 0 ) by L204 , L205;
reconsider D9 = ( ( Sum ( R14 | R9 ) ) - 1 ) as (Element of ( NAT )) by L207 , NAT_1:14 , NAT_1:21;
L208: D8 is  dominated_by_0 by L203 , L99;
L209: ( rng D8 ) c= { ( 0 ) , 1 } by L208 , L8;
L210: ( ( 2 * D9 ) + 1 ) = R12 by L204 , L205;
L211: (( Sum <% ( 0 ) %> ) = ( 0 ) & ( 2 * ( Sum ( D8 | R12 ) ) ) < R12) by L210 , L208 , L131 , AFINSQ_2:53;
L212: ( len D8 ) = ( R12 + 1 ) by L203 , L204 , L205 , L178;
L213: D8 = ( ( D8 | R12 ) ^ <% ( D8 . R12 ) %> ) by L212 , AFINSQ_1:56;
L214: R12 < ( R12 + 1 ) by NAT_1:13;
L215: R12 in ( R12 + 1 ) by L214 , NAT_1:44;
L216: ( D8 . R12 ) in ( rng D8 ) by L215 , L212 , FUNCT_1:3;
assume L217: ( D8 . R12 ) <> 1;
L218: ( D8 . R12 ) = ( 0 ) by L217 , L209 , L216 , TARSKI:def 2;
L219: ( Sum D8 ) = ( ( Sum ( D8 | R12 ) ) + ( Sum <% ( 0 ) %> ) ) by L218 , L213 , AFINSQ_2:55;
thus L220: thesis by L219 , L204 , L205 , L211 , NAT_1:13;
end;
L221: (( dom <% ( D8 . R12 ) %> ) = 1 & ( rng <% ( D8 . R12 ) %> ) = { 1 }) by L206 , AFINSQ_1:33;
L222: R12 <= ( R12 + 1 ) by NAT_1:11;
L223: R12 c= R9 by L222 , L205 , NAT_1:39;
L224: ( D8 | R12 ) = ( R14 | R12 ) by L223 , RELAT_1:74;
L225: ( len D8 ) = ( R12 + 1 ) by L203 , L204 , L205 , L178;
L226: D8 = ( ( D8 | R12 ) ^ <% ( D8 . R12 ) %> ) by L225 , AFINSQ_1:56;
thus L227: thesis by L226 , L224 , L221 , FUNCOP_1:9;
end;
theorem
L228: (for R11 being Nat holds (for R14 being (XFinSequence of ( NAT )) holds ((R11 = ( min* { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R14 | R13 ) ) ) = R13 & R13 > ( 0 )) } ) & R11 > ( 0 ) & R14 is  dominated_by_0) implies (ex R15 being (XFinSequence of ( NAT )) st (( R14 | R11 ) = ( ( ( 1 --> ( 0 ) ) ^ R15 ) ^ ( 1 --> 1 ) ) & R15 is  dominated_by_0)))))
proof
L229: (( dom <% ( 0 ) %> ) = 1 & ( rng <% ( 0 ) %> ) = { ( 0 ) }) by AFINSQ_1:33;
set D10 = ( 1 --> 1 );
set D11 = ( 1 --> ( 0 ) );
let R11 being Nat;
let R14 being (XFinSequence of ( NAT ));
assume that
L230: (R11 = ( min* { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R14 | R13 ) ) ) = R13 & R13 > ( 0 )) } ) & R11 > ( 0 ))
and
L231: R14 is  dominated_by_0;
reconsider D12 = { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R14 | R13 ) ) ) = R13 & R13 > ( 0 )) } as non  empty (Subset of ( NAT )) by L230 , NAT_1:def 1;
L232: ( min* D12 ) in D12 by NAT_1:def 1;
consider C2 being (Element of ( NAT )) such that L233: C2 = ( min* D12 ) and L234: ( 2 * ( Sum ( R14 | C2 ) ) ) = C2 and L235: C2 > ( 0 ) by L232;
reconsider D13 = ( C2 - 1 ) as (Element of ( NAT )) by L235 , NAT_1:20;
L236: ( Sum ( R14 | C2 ) ) <> ( 0 ) by L234 , L235;
L237: C2 >= ( 2 * 1 ) by L236 , L234 , NAT_1:14 , XREAL_1:64;
L238: D13 >= ( 2 - 1 ) by L237 , XREAL_1:9;
L239: 1 c= D13 by L238 , NAT_1:39;
L240: ( ( R14 | D13 ) | 1 ) = ( R14 | 1 ) by L239 , RELAT_1:74;
L241: D13 < ( D13 + 1 ) by NAT_1:13;
L242: C2 <= ( len R14 ) by L231 , L234 , L178;
L243: D13 < ( len R14 ) by L242 , L241 , XXREAL_0:2;
L244: 1 < ( len R14 ) by L243 , L238 , XXREAL_0:2;
L245: ( len ( R14 | 1 ) ) = 1 by L244 , AFINSQ_1:11;
L246: ( R14 | 1 ) = <% ( ( R14 | 1 ) . ( 0 ) ) %> by L245 , AFINSQ_1:34;
L247: ( R14 | 1 ) is  dominated_by_0 by L231 , L99;
L248: ( ( R14 | 1 ) . ( 0 ) ) = ( 0 ) by L247 , L22;
L249: ( R14 | 1 ) = ( 1 --> ( 0 ) ) by L248 , L246 , L229 , FUNCOP_1:9;
consider R15 being (XFinSequence of ( NAT )) such that L250: ( R14 | D13 ) = ( ( ( R14 | D13 ) | 1 ) ^ R15 ) by L2;
set D14 = ( ( D11 ^ R15 ) ^ D10 );
take R15;
L251: ( R14 | ( D13 + 1 ) ) = ( ( R14 | D13 ) ^ ( 1 --> 1 ) ) by L231 , L234 , L202;
thus L252: ( R14 | R11 ) = D14 by L251 , L230 , L233 , L250 , L239 , L249 , RELAT_1:74;
L253: (( rng R15 ) c= ( rng ( D11 ^ R15 ) ) & ( rng ( D11 ^ R15 ) ) c= ( rng D14 )) by AFINSQ_1:24 , AFINSQ_1:25;
L254: ( rng R15 ) c= ( rng D14 ) by L253 , XBOOLE_1:1;
L255: ( R14 | R11 ) is  dominated_by_0 by L231 , L99;
L256: ( rng D14 ) c= { ( 0 ) , 1 } by L255 , L230 , L233 , L250 , L249 , L240 , L251 , L8;
thus L257: ( rng R15 ) c= { ( 0 ) , 1 } by L256 , L254 , XBOOLE_1:1;
L258: ( dom D11 ) = 1 by FUNCOP_1:13;
L259: ( len ( R14 | D13 ) ) = D13 by L243 , AFINSQ_1:11;
L260: D13 = ( ( len D11 ) + ( len R15 ) ) by L259 , L250 , L249 , L240 , AFINSQ_1:17;
let R9 being Nat;
assume L261: R9 <= ( dom R15 );
L262: ( ( len D11 ) + R9 ) <= D13 by L261 , L260 , XREAL_1:6;
L263: ( ( len D11 ) + R9 ) c= D13 by L262 , NAT_1:39;
L264: ( ( R14 | D13 ) | ( 1 + R9 ) ) = ( R14 | ( 1 + R9 ) ) by L263 , L258 , RELAT_1:74;
L265: ( 1 + R9 ) < C2 by L251 , L262 , L258 , NAT_1:13;
L266: ( 2 * ( Sum ( R14 | ( 1 + R9 ) ) ) ) < ( 1 + R9 )
proof
assume L267: ( 2 * ( Sum ( R14 | ( 1 + R9 ) ) ) ) >= ( 1 + R9 );
L268: ( 2 * ( Sum ( R14 | ( R9 + 1 ) ) ) ) <= ( R9 + 1 ) by L231 , L10;
L269: ( 2 * ( Sum ( R14 | ( 1 + R9 ) ) ) ) = ( 1 + R9 ) by L268 , L267 , XXREAL_0:1;
L270: ( 1 + R9 ) in D12 by L269;
thus L271: thesis by L270 , L233 , L265 , NAT_1:def 1;
end;
L272: ( ( R14 | D13 ) | ( 1 + R9 ) ) = ( D11 ^ ( R15 | R9 ) ) by L250 , L249 , L240 , L258 , AFINSQ_1:59;
L273: ( Sum ( R14 | ( 1 + R9 ) ) ) = ( ( Sum D11 ) + ( Sum ( R15 | R9 ) ) ) by L272 , L264 , AFINSQ_2:55;
L274: ( Sum D11 ) = ( ( 0 ) * 1 ) by AFINSQ_2:58;
thus L275: thesis by L274 , L273 , L266 , NAT_1:13;
end;
theorem
L276: (for R14 being (XFinSequence of ( NAT )) holds ((( rng R14 ) c= { ( 0 ) , 1 } & (not R14 is  dominated_by_0)) implies (ex R9 being Nat st (( ( 2 * R9 ) + 1 ) = ( min* { R13 where R13 is (Element of ( NAT )) : ( 2 * ( Sum ( R14 | R13 ) ) ) > R13 } ) & ( ( 2 * R9 ) + 1 ) <= ( dom R14 ) & R9 = ( Sum ( R14 | ( 2 * R9 ) ) ) & ( R14 . ( 2 * R9 ) ) = 1))))
proof
let R14 being (XFinSequence of ( NAT ));
assume that
L277: ( rng R14 ) c= { ( 0 ) , 1 }
and
L278: (not R14 is  dominated_by_0);
set D15 = { R13 where R13 is (Element of ( NAT )) : ( 2 * ( Sum ( R14 | R13 ) ) ) > R13 };
L279: D15 c= ( NAT )
proof
let R1 being set;
assume L280: R1 in D15;
L281: (ex R13 being (Element of ( NAT )) st (R1 = R13 & ( 2 * ( Sum ( R14 | R13 ) ) ) > R13)) by L280;
thus L282: thesis by L281;
end;
reconsider D16 = D15 as (Subset of ( NAT )) by L279;
consider C3 being Nat such that L283: C3 <= ( dom R14 ) and L284: ( 2 * ( Sum ( R14 | C3 ) ) ) > C3 by L277 , L278 , L8;
reconsider D17 = C3 as (Element of ( NAT )) by ORDINAL1:def 12;
L285: D17 in D16 by L284;
reconsider D18 = D16 as non  empty (Subset of ( NAT )) by L285;
L286: ( min* D18 ) in D18 by NAT_1:def 1;
consider C4 being (Element of ( NAT )) such that L287: ( min* D18 ) = C4 and L288: ( 2 * ( Sum ( R14 | C4 ) ) ) > C4 by L286;
L289: C4 > ( 0 ) by L288;
reconsider D19 = ( C4 - 1 ) as (Element of ( NAT )) by L289 , NAT_1:20;
reconsider D20 = ( Sum ( R14 | D19 ) ) as (Element of ( NAT )) by ORDINAL1:def 12;
take D20;
L290: D17 in D18 by L284;
L291: D17 >= C4 by L290 , L287 , NAT_1:def 1;
L292: ( dom R14 ) >= C4 by L291 , L283 , XXREAL_0:2;
L293: ( 2 * ( Sum ( R14 | D19 ) ) ) = D19
proof
L294: D19 < ( D19 + 1 ) by NAT_1:13;
L295: D19 c= ( D19 + 1 ) by L294 , NAT_1:39;
L296: ( ( R14 | C4 ) | D19 ) = ( R14 | D19 ) by L295 , RELAT_1:74;
L297: ((C4 = ( len R14 ) & ( R14 | ( dom R14 ) ) = R14) or C4 < ( len R14 )) by L292 , XXREAL_0:1;
L298: ( len ( R14 | C4 ) ) = ( D19 + 1 ) by L297 , AFINSQ_1:11;
L299: D19 in ( len ( R14 | C4 ) ) by L298 , L294 , NAT_1:44;
L300: ( ( R14 | C4 ) . D19 ) in ( rng ( R14 | C4 ) ) by L299 , FUNCT_1:3;
L301: ( R14 | C4 ) = ( ( ( R14 | C4 ) | D19 ) ^ <% ( ( R14 | C4 ) . D19 ) %> ) by L298 , AFINSQ_1:56;
L302: ( Sum ( R14 | C4 ) ) = ( ( Sum ( R14 | D19 ) ) + ( Sum <% ( ( R14 | C4 ) . D19 ) %> ) ) by L301 , L296 , AFINSQ_2:55;
L303: ( ( 2 * ( Sum ( R14 | D19 ) ) ) + ( 2 * ( Sum <% ( ( R14 | C4 ) . D19 ) %> ) ) ) >= ( C4 + 1 ) by L302 , L288 , NAT_1:13;
L304: D19 < ( D19 + 1 ) by NAT_1:13;
L305: (not D19 in D18) by L304 , L287 , NAT_1:def 1;
L306: ( 2 * ( Sum ( R14 | D19 ) ) ) <= D19 by L305;
L307: ( rng ( R14 | C4 ) ) c= ( rng R14 ) by RELAT_1:70;
L308: ( ( R14 | C4 ) . D19 ) in { ( 0 ) , 1 } by L307 , L277 , L300 , TARSKI:def 3;
L309: (( ( R14 | C4 ) . D19 ) = ( 0 ) or ( ( R14 | C4 ) . D19 ) = 1) by L308 , TARSKI:def 2;
assume L310: ( 2 * ( Sum ( R14 | D19 ) ) ) <> D19;
L311: (( Sum <% ( ( R14 | C4 ) . D19 ) %> ) = ( ( R14 | C4 ) . D19 ) & ( 2 * ( Sum ( R14 | D19 ) ) ) < D19) by L310 , L306 , AFINSQ_2:53 , XXREAL_0:1;
L312: ( ( 2 * ( Sum ( R14 | D19 ) ) ) + ( 2 * ( Sum <% ( ( R14 | C4 ) . D19 ) %> ) ) ) < ( D19 + 2 ) by L311 , L309 , XREAL_1:8;
thus L313: contradiction by L312 , L303;
end;
L314: ( R14 . D19 ) = 1
proof
L315: C4 c= ( len R14 ) by L292 , NAT_1:39;
L316: ( dom ( R14 | C4 ) ) = ( D19 + 1 ) by L315 , RELAT_1:62;
L317: ( dom ( R14 | C4 ) ) = ( len ( R14 | C4 ) );
L318: (( Sum <% ( 0 ) %> ) = ( 0 ) & ( R14 | C4 ) = ( ( ( R14 | C4 ) | D19 ) ^ <% ( ( R14 | C4 ) . D19 ) %> )) by L317 , L316 , AFINSQ_1:56 , AFINSQ_2:53;
assume L319: ( R14 . D19 ) <> 1;
L320: D19 < ( D19 + 1 ) by NAT_1:13;
L321: D19 < ( dom R14 ) by L320 , L292 , XXREAL_0:2;
L322: D19 in ( dom R14 ) by L321 , NAT_1:44;
L323: D19 c= C4 by L320 , NAT_1:39;
L324: ( ( R14 | C4 ) | D19 ) = ( R14 | D19 ) by L323 , RELAT_1:74;
L325: D19 in C4 by L320 , NAT_1:44;
L326: D19 in ( ( dom R14 ) /\ C4 ) by L325 , L322 , XBOOLE_0:def 4;
L327: ( ( R14 | C4 ) . D19 ) = ( R14 . D19 ) by L326 , FUNCT_1:48;
L328: D19 < ( D19 + 1 ) by NAT_1:13;
L329: ( R14 . D19 ) in ( rng R14 ) by L322 , FUNCT_1:3;
L330: ( R14 . D19 ) = ( 0 ) by L329 , L277 , L319 , TARSKI:def 2;
L331: ( Sum ( R14 | C4 ) ) = ( ( Sum ( R14 | D19 ) ) + ( 0 ) ) by L330 , L318 , L327 , L324 , AFINSQ_2:55;
thus L332: thesis by L331 , L288 , L293 , L328;
end;
thus L333: thesis by L314 , L283 , L287 , L291 , L293 , XXREAL_0:2;
end;
theorem
L334: (for R14 being (XFinSequence of ( NAT )) holds (for R15 being (XFinSequence of ( NAT )) holds (for R9 being Nat holds ((( R14 | ( ( 2 * R9 ) + ( len R15 ) ) ) = ( ( ( R9 --> ( 0 ) ) ^ R15 ) ^ ( R9 --> 1 ) ) & R15 is  dominated_by_0 & ( 2 * ( Sum R15 ) ) = ( len R15 ) & R9 > ( 0 )) implies ( min* { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R14 | R13 ) ) ) = R13 & R13 > ( 0 )) } ) = ( ( 2 * R9 ) + ( len R15 ) )))))
proof
let R14 being (XFinSequence of ( NAT ));
let R15 being (XFinSequence of ( NAT ));
let R9 being Nat;
assume that
L335: ( R14 | ( ( 2 * R9 ) + ( len R15 ) ) ) = ( ( ( R9 --> ( 0 ) ) ^ R15 ) ^ ( R9 --> 1 ) )
and
L336: R15 is  dominated_by_0
and
L337: ( 2 * ( Sum R15 ) ) = ( len R15 )
and
L338: R9 > ( 0 );
set D21 = ( R9 --> ( 0 ) );
L339: ( Sum D21 ) = ( R9 * ( 0 ) ) by AFINSQ_2:58;
L340: ( 2 * R9 ) > ( 0 ) by L339 , L338 , XREAL_1:68;
reconsider D22 = ( R9 --> 1 ) as (XFinSequence of ( NAT ));
set D23 = { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R14 | R13 ) ) ) = R13 & R13 > ( 0 )) };
set D24 = ( ( D21 ^ R15 ) ^ D22 );
L341: ( Sum D24 ) = ( ( Sum ( D21 ^ R15 ) ) + ( Sum D22 ) ) by AFINSQ_2:55;
L342: ( Sum D24 ) = ( ( ( Sum D21 ) + ( Sum R15 ) ) + ( Sum D22 ) ) by L341 , AFINSQ_2:55;
L343: ( Sum D22 ) = ( R9 * 1 ) by AFINSQ_2:58;
L344: ( 2 * ( Sum ( R14 | ( ( 2 * R9 ) + ( len R15 ) ) ) ) ) = ( ( len R15 ) + ( 2 * R9 ) ) by L343 , L335 , L337 , L342 , L339;
L345: ( ( 2 * R9 ) + ( len R15 ) ) in D23 by L344 , L340;
L346: D23 c= ( NAT )
proof
let R4 being set;
assume L347: R4 in D23;
L348: (ex B1 being (Element of ( NAT )) st (B1 = R4 & ( 2 * ( Sum ( R14 | B1 ) ) ) = B1 & B1 > ( 0 ))) by L347;
thus L349: thesis by L348;
end;
reconsider D25 = D23 as non  empty (Subset of ( NAT )) by L346 , L345;
L350: ( min* D25 ) = ( ( 2 * R9 ) + ( len R15 ) )
proof
L351: D24 = ( D21 ^ ( R15 ^ D22 ) ) by AFINSQ_1:27;
L352: ( len D24 ) = ( ( len D21 ) + ( len ( R15 ^ D22 ) ) ) by L351 , AFINSQ_1:17;
L353: ( dom D21 ) = R9 by FUNCOP_1:13;
L354: ( len D24 ) = ( R9 + ( ( len R15 ) + ( len D22 ) ) ) by L353 , L352 , AFINSQ_1:17;
assume L355: ( min* D25 ) <> ( ( 2 * R9 ) + ( len R15 ) );
L356: ( min* D25 ) in D25 by NAT_1:def 1;
L357: (ex B2 being (Element of ( NAT )) st (B2 = ( min* D25 ) & ( 2 * ( Sum ( R14 | B2 ) ) ) = B2 & B2 > ( 0 ))) by L356;
L358: ( dom D22 ) = R9 by FUNCOP_1:13;
L359: ( ( 2 * R9 ) + ( len R15 ) ) >= ( min* D25 ) by L345 , NAT_1:def 1;
L360: ( min* D25 ) c= ( ( 2 * R9 ) + ( len R15 ) ) by L359 , NAT_1:39;
L361: ( R14 | ( min* D25 ) ) = ( D24 | ( min* D25 ) ) by L360 , L335 , RELAT_1:74;
L362:
now
per cases ;
suppose L363: ( min* D25 ) <= R9;

L364: (R9 = ( dom D21 ) & D24 = ( D21 ^ ( R15 ^ D22 ) )) by AFINSQ_1:27 , FUNCOP_1:13;
L365: ( D24 | ( min* D25 ) ) = ( D21 | ( min* D25 ) ) by L364 , L363 , AFINSQ_1:58;
L366: ( Sum ( ( min* D25 ) --> ( 0 ) ) ) = ( ( min* D25 ) * ( 0 ) ) by AFINSQ_2:58;
L367: ( D21 | ( min* D25 ) ) = ( ( min* D25 ) --> ( 0 ) ) by L363 , L46;
L368: ( Sum ( R14 | ( min* D25 ) ) ) = ( Sum ( ( min* D25 ) --> ( 0 ) ) ) by L367 , L335 , L360 , L365 , RELAT_1:74;
thus L369: contradiction by L368 , L357 , L366;
end;
suppose L370: ( min* D25 ) > R9;

reconsider D26 = ( ( min* D25 ) - R9 ) as (Element of ( NAT )) by L370 , NAT_1:21;
L371:
now
per cases ;
suppose L372: ( min* D25 ) <= ( R9 + ( len R15 ) );

L373: ( dom D21 ) = R9 by FUNCOP_1:13;
L374: ( min* D25 ) = ( D26 + R9 );
L375: ( ( D21 ^ R15 ) | ( min* D25 ) ) = ( D21 ^ ( R15 | D26 ) ) by L374 , L373 , AFINSQ_1:59;
L376: ( dom ( D21 ^ R15 ) ) = ( ( len D21 ) + ( len R15 ) ) by AFINSQ_1:def 3;
L377: ( D24 | ( min* D25 ) ) = ( ( D21 ^ R15 ) | ( min* D25 ) ) by L376 , L372 , L373 , AFINSQ_1:58;
L378: ( Sum ( R14 | ( min* D25 ) ) ) = ( ( Sum D21 ) + ( Sum ( R15 | D26 ) ) ) by L377 , L361 , L375 , AFINSQ_2:55;
L379: 1 <= R9 by L338 , NAT_1:14;
L380: ( Sum D21 ) = ( R9 * ( 0 ) ) by AFINSQ_2:58;
L381: ( D26 + R9 ) <= D26 by L380 , L336 , L357 , L378 , L10;
thus L382: contradiction by L381 , L379 , NAT_1:19;
end;
suppose L383: ( min* D25 ) > ( R9 + ( len R15 ) );

reconsider D27 = ( ( min* D25 ) - ( R9 + ( len R15 ) ) ) as (Element of ( NAT )) by L383 , NAT_1:21;
L384: ( 2 * ( Sum ( R14 | ( min* D25 ) ) ) ) = ( min* D25 ) by L357;
L385: (( dom ( D21 ^ R15 ) ) = ( ( len D21 ) + ( len R15 ) ) & ( dom D21 ) = R9) by AFINSQ_1:def 3 , FUNCOP_1:13;
L386: ( min* D25 ) = ( ( dom ( D21 ^ R15 ) ) + D27 ) by L385;
L387: ( D24 | ( min* D25 ) ) = ( ( D21 ^ R15 ) ^ ( D22 | D27 ) ) by L386 , AFINSQ_1:59;
L388: ( Sum ( R14 | ( min* D25 ) ) ) = ( ( Sum ( D21 ^ R15 ) ) + ( Sum ( D22 | D27 ) ) ) by L387 , L361 , AFINSQ_2:55;
L389: ( min* D25 ) < ( len D24 ) by L355 , L354 , L358 , L359 , XXREAL_0:1;
L390: D27 < ( ( ( 2 * R9 ) + ( len R15 ) ) - ( R9 + ( len R15 ) ) ) by L389 , L354 , L358 , XREAL_1:9;
L391: ( D22 | D27 ) = ( D27 --> 1 ) by L390 , L46;
L392: ( Sum ( D22 | D27 ) ) = ( D27 * 1 ) by L391 , AFINSQ_2:58;
L393: (( Sum ( D21 ^ R15 ) ) = ( ( Sum D21 ) + ( Sum R15 ) ) & ( Sum D21 ) = ( R9 * ( 0 ) )) by AFINSQ_2:55 , AFINSQ_2:58;
thus L394: contradiction by L393 , L337 , L355 , L388 , L392 , L384;
end;
end;
thus L396: contradiction by L371;
end;
end;
thus L398: contradiction by L362;
end;
thus L399: thesis by L350;
end;
theorem
L400: (for R14 being (XFinSequence of ( NAT )) holds ((R14 is  dominated_by_0 & { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R14 | R13 ) ) ) = R13 & R13 > ( 0 )) } = ( {} ) & ( len R14 ) > ( 0 )) implies (ex R15 being (XFinSequence of ( NAT )) st (R14 = ( <% ( 0 ) %> ^ R15 ) & R15 is  dominated_by_0))))
proof
let R14 being (XFinSequence of ( NAT ));
assume that
L401: R14 is  dominated_by_0
and
L402: ({ R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R14 | R13 ) ) ) = R13 & R13 > ( 0 )) } = ( {} ) & ( len R14 ) > ( 0 ));
set D28 = { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R14 | R13 ) ) ) = R13 & R13 > ( 0 )) };
consider R15 being (XFinSequence of ( NAT )) such that L403: R14 = ( ( R14 | 1 ) ^ R15 ) by L2;
take R15;
L404: ( rng R14 ) c= { ( 0 ) , 1 } by L401 , L8;
L405: ( rng R15 ) c= ( rng R14 ) by L403 , AFINSQ_1:25;
L406: ( rng R15 ) c= { ( 0 ) , 1 } by L405 , L404 , XBOOLE_1:1;
L407: ( len R14 ) >= 1 by L402 , NAT_1:14;
L408: 1 c= ( dom R14 ) by L407 , NAT_1:39;
L409: ( dom ( R14 | 1 ) ) = 1 by L408 , RELAT_1:62;
L410: ( len ( R14 | 1 ) ) = ( dom ( R14 | 1 ) );
L411: ( R14 | 1 ) = <% ( ( R14 | 1 ) . ( 0 ) ) %> by L410 , L409 , AFINSQ_1:34;
L412: ( 0 ) in 1 by NAT_1:44;
L413: ( ( R14 | 1 ) . ( 0 ) ) = ( R14 . ( 0 ) ) by L412 , L409 , FUNCT_1:47;
thus L414: R14 = ( <% ( 0 ) %> ^ R15 ) by L413 , L401 , L403 , L411 , L22;
assume L415: (not R15 is  dominated_by_0);
consider R7 being Nat such that L416: R7 <= ( dom R15 ) and L417: ( 2 * ( Sum ( R15 | R7 ) ) ) > R7 by L415 , L406 , L8;
reconsider D29 = R7 as (Element of ( NAT )) by ORDINAL1:def 12;
L418: ( R14 | ( 1 + D29 ) ) = ( ( R14 | 1 ) ^ ( R15 | D29 ) ) by L403 , L409 , AFINSQ_1:59;
L419: ( Sum ( R14 | ( 1 + D29 ) ) ) = ( ( Sum <% ( R14 . ( 0 ) ) %> ) + ( Sum ( R15 | D29 ) ) ) by L418 , L411 , L413 , AFINSQ_2:55;
L420: ( 2 * ( Sum ( R15 | D29 ) ) ) >= ( D29 + 1 ) by L417 , NAT_1:13;
L421: ( Sum <% ( R14 . ( 0 ) ) %> ) = ( R14 . ( 0 ) ) by AFINSQ_2:53;
L422: ( Sum ( R14 | ( 1 + D29 ) ) ) = ( ( 0 ) + ( Sum ( R15 | D29 ) ) ) by L421 , L401 , L419 , L22;
L423: ( 1 + D29 ) >= ( 2 * ( Sum ( R15 | D29 ) ) ) by L422 , L401 , L10;
L424: ( 1 + D29 ) = ( 2 * ( Sum ( R15 | D29 ) ) ) by L423 , L420 , XXREAL_0:1;
L425: ( 1 + D29 ) in D28 by L424 , L422;
thus L426: thesis by L425 , L402;
end;
theorem
L427: (for R14 being (XFinSequence of ( NAT )) holds (R14 is  dominated_by_0 implies (( <% ( 0 ) %> ^ R14 ) is  dominated_by_0 & { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( ( <% ( 0 ) %> ^ R14 ) | R13 ) ) ) = R13 & R13 > ( 0 )) } = ( {} ))))
proof
let R14 being (XFinSequence of ( NAT ));
reconsider D30 = ( 1 --> ( 0 ) ) as (XFinSequence of ( NAT ));
assume L428: R14 is  dominated_by_0;
L429: (( dom D30 ) = 1 & ( len D30 ) = ( dom D30 )) by FUNCOP_1:13;
L430: D30 = <% ( D30 . ( 0 ) ) %> by L429 , AFINSQ_1:34;
L431: D30 is  dominated_by_0 by L51;
L432: (D30 is  dominated_by_0 & ( D30 . ( 0 ) ) = ( 0 )) by L431 , L22;
thus L433: ( <% ( 0 ) %> ^ R14 ) is  dominated_by_0 by L432 , L428 , L430 , L110;
set D31 = { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( ( <% ( 0 ) %> ^ R14 ) | R13 ) ) ) = R13 & R13 > ( 0 )) };
assume L434: D31 <> ( {} );
consider R1 being set such that L435: R1 in D31 by L434 , XBOOLE_0:def 1;
consider C5 being (Element of ( NAT )) such that L436: R1 = C5 and L437: ( 2 * ( Sum ( ( <% ( 0 ) %> ^ R14 ) | C5 ) ) ) = C5 and L438: C5 > ( 0 ) by L435;
reconsider D32 = ( C5 - 1 ) as (Element of ( NAT )) by L438 , NAT_1:20;
L439: ( dom <% ( 0 ) %> ) = 1 by AFINSQ_1:33;
L440: C5 = ( ( dom <% ( 0 ) %> ) + D32 ) by L439;
L441: ( ( <% ( 0 ) %> ^ R14 ) | C5 ) = ( <% ( 0 ) %> ^ ( R14 | D32 ) ) by L440 , AFINSQ_1:59;
L442: ( Sum ( ( <% ( 0 ) %> ^ R14 ) | C5 ) ) = ( ( Sum <% ( 0 ) %> ) + ( Sum ( R14 | D32 ) ) ) by L441 , AFINSQ_2:55;
L443: (( Sum <% ( 0 ) %> ) = ( 0 ) & D32 < ( D32 + 1 )) by AFINSQ_2:53 , NAT_1:13;
thus L444: thesis by L443 , L428 , L437 , L442 , L10;
end;
theorem
L445: (for R9 being Nat holds (for R14 being (XFinSequence of ( NAT )) holds ((( rng R14 ) c= { ( 0 ) , 1 } & ( ( 2 * R9 ) + 1 ) = ( min* { R13 where R13 is (Element of ( NAT )) : ( 2 * ( Sum ( R14 | R13 ) ) ) > R13 } )) implies ( R14 | ( 2 * R9 ) ) is  dominated_by_0)))
proof
let R9 being Nat;
let R14 being (XFinSequence of ( NAT ));
set D33 = { R13 where R13 is (Element of ( NAT )) : ( 2 * ( Sum ( R14 | R13 ) ) ) > R13 };
set D34 = ( R14 | ( 2 * R9 ) );
assume that
L446: ( rng R14 ) c= { ( 0 ) , 1 }
and
L447: ( ( 2 * R9 ) + 1 ) = ( min* D33 );
L448: ( rng D34 ) c= ( rng R14 ) by RELAT_1:70;
thus L449: ( rng D34 ) c= { ( 0 ) , 1 } by L448 , L446 , XBOOLE_1:1;
reconsider D35 = D33 as non  empty (Subset of ( NAT )) by L447 , NAT_1:def 1;
let R11 being Nat;
assume L450: R11 <= ( dom D34 );
L451: R11 c= ( dom D34 ) by L450 , NAT_1:39;
L452: R11 c= ( 2 * R9 ) by L451 , XBOOLE_1:1;
L453: R11 <= ( 2 * R9 ) by L452 , NAT_1:39;
L454: R11 < ( ( 2 * R9 ) + 1 ) by L453 , NAT_1:13;
assume L455: ( 2 * ( Sum ( D34 | R11 ) ) ) > R11;
reconsider D36 = R11 as (Element of ( NAT )) by ORDINAL1:def 12;
L456: (( D34 | D36 ) = ( R14 | D36 ) & D36 in ( NAT )) by L451 , RELAT_1:74 , XBOOLE_1:1;
L457: D36 in D35 by L456 , L455;
thus L458: thesis by L457 , L447 , L454 , NAT_1:def 1;
end;
begin
definition
let C6 , C7 being Nat;
func Domin_0 (C6 , C7) -> (Subset of ( { ( 0 ) , 1 } ^omega )) means 
:L459: (for R1 being set holds (R1 in it iff (ex B3 being (XFinSequence of ( NAT )) st (B3 = R1 & B3 is  dominated_by_0 & ( dom B3 ) = C6 & ( Sum B3 ) = C7))));
existence
proof
defpred S1[ set ] means (ex R14 being (XFinSequence of ( NAT )) st (R14 = $1 & R14 is  dominated_by_0 & ( dom R14 ) = C6 & ( Sum R14 ) = C7));
consider R5 being set such that L460: (for R1 being set holds (R1 in R5 iff (R1 in ( bool [: ( NAT ) , ( NAT ) :] ) & S1[ R1 ]))) from XBOOLE_0:sch 1;
L461: R5 c= ( { ( 0 ) , 1 } ^omega )
proof
let R1 being set;
assume L462: R1 in R5;
consider R14 being (XFinSequence of ( NAT )) such that L463: R14 = R1 and L464: R14 is  dominated_by_0 and L465: ( dom R14 ) = C6 and L466: ( Sum R14 ) = C7 by L462 , L460;
L467: ( rng R14 ) c= { ( 0 ) , 1 } by L464 , L8;
L468: R14 is (XFinSequence of { ( 0 ) , 1 }) by L467 , RELAT_1:def 19;
thus L469: thesis by L468 , L463 , AFINSQ_1:42;
end;
reconsider D37 = R5 as (Subset of ( { ( 0 ) , 1 } ^omega )) by L461;
take D37;
let R1 being set;
thus L470: (R1 in D37 implies S1[ R1 ]) by L460;
given R14 being (XFinSequence of ( NAT )) such that
L471: (R14 = R1 & R14 is  dominated_by_0 & ( dom R14 ) = C6 & ( Sum R14 ) = C7);

L472: (R14 c= [: ( dom R14 ) , ( rng R14 ) :] & [: ( dom R14 ) , ( rng R14 ) :] c= [: ( NAT ) , ( NAT ) :]) by RELAT_1:7 , ZFMISC_1:96;
L473: R14 c= [: ( NAT ) , ( NAT ) :] by L472 , XBOOLE_1:1;
thus L474: thesis by L473 , L460 , L471;
end;
uniqueness
proof
let C8 , C9 being (Subset of ( { ( 0 ) , 1 } ^omega ));
assume that
L475: (for R1 being set holds (R1 in C8 iff (ex R14 being (XFinSequence of ( NAT )) st (R14 = R1 & R14 is  dominated_by_0 & ( dom R14 ) = C6 & ( Sum R14 ) = C7))))
and
L476: (for R1 being set holds (R1 in C9 iff (ex R14 being (XFinSequence of ( NAT )) st (R14 = R1 & R14 is  dominated_by_0 & ( dom R14 ) = C6 & ( Sum R14 ) = C7))));
L477: (for R1 being set holds (R1 in C8 iff R1 in C9))
proof
let R1 being set;
L478: (R1 in C8 iff (ex R14 being (XFinSequence of ( NAT )) st (R14 = R1 & R14 is  dominated_by_0 & ( dom R14 ) = C6 & ( Sum R14 ) = C7))) by L475;
thus L479: thesis by L478 , L476;
end;
thus L480: thesis by L477 , TARSKI:1;
end;
end;
theorem
L482: (for R11 being Nat holds (for R12 being Nat holds (for R14 being (XFinSequence of ( NAT )) holds (R14 in ( Domin_0 (R12 , R11) ) iff (R14 is  dominated_by_0 & ( dom R14 ) = R12 & ( Sum R14 ) = R11)))))
proof
let R11 being Nat;
let R12 being Nat;
let R14 being (XFinSequence of ( NAT ));
thus L483: (R14 in ( Domin_0 (R12 , R11) ) implies (R14 is  dominated_by_0 & ( dom R14 ) = R12 & ( Sum R14 ) = R11))
proof
assume L484: R14 in ( Domin_0 (R12 , R11) );
L485: (ex R15 being (XFinSequence of ( NAT )) st (R15 = R14 & R15 is  dominated_by_0 & ( dom R15 ) = R12 & ( Sum R15 ) = R11)) by L484 , L459;
thus L486: thesis by L485;
end;

thus L487: thesis by L459;
end;
theorem
L488: (for R11 being Nat holds (for R12 being Nat holds ( Domin_0 (R12 , R11) ) c= ( Choose (R12 , R11 , 1 , ( 0 )) )))
proof
let R11 being Nat;
let R12 being Nat;
let R1 being set;
assume L489: R1 in ( Domin_0 (R12 , R11) );
consider R14 being (XFinSequence of ( NAT )) such that L490: R14 = R1 and L491: R14 is  dominated_by_0 and L492: (( dom R14 ) = R12 & ( Sum R14 ) = R11) by L489 , L459;
L493: ( rng R14 ) c= { ( 0 ) , 1 } by L491 , L8;
thus L494: thesis by L493 , L490 , L492 , CARD_FIN:40;
end;
registration
let R12 being Nat;
let R11 being Nat;
cluster ( Domin_0 (R12 , R11) ) ->  finite;
coherence
proof
L495: ( Domin_0 (R12 , R11) ) c= ( Choose (R12 , R11 , 1 , ( 0 )) ) by L488;
thus L496: thesis by L495;
end;
end;
theorem
L498: (for R11 being Nat holds (for R12 being Nat holds (( Domin_0 (R12 , R11) ) is  empty iff ( 2 * R11 ) > R12)))
proof
let R11 being Nat;
let R12 being Nat;
thus L499: (( Domin_0 (R12 , R11) ) is  empty implies ( 2 * R11 ) > R12)
proof
set D38 = ( R11 --> 1 );
assume L500: ( Domin_0 (R12 , R11) ) is  empty;
assume L501: ( 2 * R11 ) <= R12;
L502: R11 <= ( R11 + R11 ) by NAT_1:12;
reconsider D39 = ( R12 - R11 ) as (Element of ( NAT )) by L502 , L501 , NAT_1:21 , XXREAL_0:2;
set D40 = ( D39 --> ( 0 ) );
L503: ( ( 2 * R11 ) - R11 ) <= D39 by L501 , XREAL_1:9;
L504: ( D40 ^ D38 ) is  dominated_by_0 by L503 , L65;
L505: (( dom ( D40 ^ D38 ) ) = ( ( len D40 ) + ( len D38 ) ) & ( dom D40 ) = D39) by AFINSQ_1:def 3 , FUNCOP_1:13;
L506: ( dom ( D40 ^ D38 ) ) = ( D39 + R11 ) by L505 , FUNCOP_1:13;
L507: ( Sum ( D40 ^ D38 ) ) = ( ( Sum D40 ) + ( Sum D38 ) ) by AFINSQ_2:55;
L508: (( Sum D40 ) = ( ( 0 ) * D39 ) & ( Sum D38 ) = ( 1 * R11 )) by AFINSQ_2:58;
thus L509: thesis by L508 , L500 , L507 , L506 , L504 , L459;
end;

assume L510: ( 2 * R11 ) > R12;
assume L511: ( Domin_0 (R12 , R11) ) is non  empty;
consider R1 being set such that L512: R1 in ( Domin_0 (R12 , R11) ) by L511 , XBOOLE_0:def 1;
consider R14 being (XFinSequence of ( NAT )) such that L513: R14 = R1 and L514: R14 is  dominated_by_0 and L515: ( dom R14 ) = R12 and L516: ( Sum R14 ) = R11 by L512 , L459;
L517: ( R14 | R12 ) = R14 by L515 , RELAT_1:69;
thus L518: thesis by L517 , L510 , L514 , L516 , L10;
end;
theorem
L519: (for R12 being Nat holds ( Domin_0 (R12 , ( 0 )) ) = { ( R12 --> ( 0 ) ) })
proof
let R12 being Nat;
set D41 = ( R12 --> ( 0 ) );
L520: ( Domin_0 (R12 , ( 0 )) ) c= { D41 }
proof
let R1 being set;
assume L521: R1 in ( Domin_0 (R12 , ( 0 )) );
consider R15 being (XFinSequence of ( NAT )) such that L522: R1 = R15 and L523: R15 is  dominated_by_0 and L524: ( dom R15 ) = R12 and L525: ( Sum R15 ) = ( 0 ) by L521 , L459;
L526: (( len R15 ) = R12 & R15 is  nonnegative-yielding) by L524;
L527: (R15 = ( R12 --> ( 0 ) ) or (R15 = ( {} ) & R12 = ( 0 ))) by L526 , L525 , AFINSQ_2:62;
L528: R15 = ( R12 --> ( 0 ) ) by L527;
thus L529: thesis by L528 , L522 , TARSKI:def 1;
end;
L530: { D41 } c= ( Domin_0 (R12 , ( 0 )) )
proof
L531: D41 is  dominated_by_0 by L51;
L532: (( dom D41 ) = R12 & ( Sum D41 ) = ( R12 * ( 0 ) )) by AFINSQ_2:58 , FUNCOP_1:13;
L533: D41 in ( Domin_0 (R12 , ( 0 )) ) by L532 , L531 , L459;
let R1 being set;
assume L534: R1 in { D41 };
thus L535: thesis by L534 , L533 , TARSKI:def 1;
end;
thus L536: thesis by L530 , L520 , XBOOLE_0:def 10;
end;
theorem
L537: (for R12 being Nat holds ( card ( Domin_0 (R12 , ( 0 )) ) ) = 1)
proof
let R12 being Nat;
L538: ( Domin_0 (R12 , ( 0 )) ) = { ( R12 --> ( 0 ) ) } by L519;
thus L539: thesis by L538 , CARD_1:30;
end;
theorem
L540: (for R14 being (XFinSequence of ( NAT )) holds (for R12 being Nat holds (( rng R14 ) c= { ( 0 ) , R12 } implies (ex R15 being (XFinSequence of ( NAT )) st (( len R14 ) = ( len R15 ) & ( rng R15 ) c= { ( 0 ) , R12 } & (for R9 being Nat holds (R9 <= ( len R14 ) implies ( ( Sum ( R14 | R9 ) ) + ( Sum ( R15 | R9 ) ) ) = ( R12 * R9 ))) & (for R9 being Nat holds (R9 in ( len R14 ) implies ( R15 . R9 ) = ( R12 - ( R14 . R9 ) ))))))))
proof
let R14 being (XFinSequence of ( NAT ));
let R12 being Nat;
assume that
L541: ( rng R14 ) c= { ( 0 ) , R12 };
reconsider D42 = R12 as (Element of ( NAT )) by ORDINAL1:def 12;
defpred S2[ set , set ] means (for R9 being Nat holds (R9 = $1 implies $2 = ( R12 - ( R14 . R9 ) )));
L542: (for R9 being Nat holds (R9 in ( len R14 ) implies (ex B4 being (Element of { ( 0 ) , R12 }) st S2[ R9 , B4 ])))
proof
let R9 being Nat;
assume L543: R9 in ( len R14 );
L544: ( R14 . R9 ) in ( rng R14 ) by L543 , FUNCT_1:3;
L545: (( R14 . R9 ) = ( 0 ) or ( R14 . R9 ) = R12) by L544 , L541 , TARSKI:def 2;
L546: ( R12 - ( R14 . R9 ) ) in { ( 0 ) , R12 } by L545 , TARSKI:def 2;
L547: S2[ R9 , ( R12 - ( R14 . R9 ) ) ];
thus L548: thesis by L547 , L546;
end;
consider C10 being (XFinSequence of { ( 0 ) , R12 }) such that L549: (( dom C10 ) = ( len R14 ) & (for R9 being Nat holds (R9 in ( len R14 ) implies S2[ R9 , ( C10 . R9 ) ]))) from STIRL2_1:sch 5(L542);
L550: ( rng C10 ) c= { ( 0 ) , D42 };
L551: ( rng C10 ) c= ( NAT ) by L550 , XBOOLE_1:1;
reconsider D43 = C10 as (XFinSequence of ( NAT )) by L551 , RELAT_1:def 19;
defpred S3[ Nat ] means ($1 <= ( len R14 ) implies ( ( Sum ( R14 | $1 ) ) + ( Sum ( D43 | $1 ) ) ) = ( R12 * $1 ));
L552: (for R9 being Nat holds (S3[ R9 ] implies S3[ ( R9 + 1 ) ]))
proof
let R9 being Nat;
assume that
L553: S3[ R9 ];
set D44 = ( R9 + 1 );
L554: R9 < ( R9 + 1 ) by NAT_1:13;
L555: R9 c= ( R9 + 1 ) by L554 , NAT_1:39;
L556: ( ( R14 | D44 ) | R9 ) = ( R14 | R9 ) by L555 , RELAT_1:74;
L557: ( ( D43 | D44 ) | R9 ) = ( D43 | R9 ) by L555 , RELAT_1:74;
assume L558: ( R9 + 1 ) <= ( len R14 );
L559: D44 c= ( len R14 ) by L558 , NAT_1:39;
L560: ( len ( D43 | D44 ) ) = D44 by L559 , L549 , RELAT_1:62;
L561: ( D43 | D44 ) = ( ( ( D43 | D44 ) | R9 ) ^ <% ( ( D43 | D44 ) . R9 ) %> ) by L560 , AFINSQ_1:56;
L562: ( dom ( R14 | D44 ) ) = D44 by L559 , RELAT_1:62;
L563: R9 in ( dom ( R14 | D44 ) ) by L562 , L554 , NAT_1:44;
L564: ( ( R14 | D44 ) . R9 ) = ( R14 . R9 ) by L563 , FUNCT_1:47;
L565: ( len ( R14 | D44 ) ) = D44 by L559 , RELAT_1:62;
L566: ( R14 | D44 ) = ( ( ( R14 | D44 ) | R9 ) ^ <% ( ( R14 | D44 ) . R9 ) %> ) by L565 , AFINSQ_1:56;
L567: ( Sum ( R14 | D44 ) ) = ( ( Sum ( R14 | R9 ) ) + ( Sum <% ( R14 . R9 ) %> ) ) by L566 , L564 , L556 , AFINSQ_2:55;
L568: ( Sum ( R14 | D44 ) ) = ( ( Sum ( R14 | R9 ) ) + ( R14 . R9 ) ) by L567 , AFINSQ_2:53;
L569: R9 < ( len R14 ) by L558 , NAT_1:13;
L570: R9 in ( len R14 ) by L569 , NAT_1:44;
L571: ( D43 . R9 ) = ( R12 - ( R14 . R9 ) ) by L570 , L549;
L572: ( ( D43 | D44 ) . R9 ) = ( D43 . R9 ) by L560 , L563 , FUNCT_1:47;
L573: ( Sum ( D43 | D44 ) ) = ( ( Sum ( D43 | R9 ) ) + ( Sum <% ( D43 . R9 ) %> ) ) by L572 , L561 , L557 , AFINSQ_2:55;
L574: ( Sum ( D43 | D44 ) ) = ( ( Sum ( D43 | R9 ) ) + ( R12 - ( R14 . R9 ) ) ) by L573 , L571 , AFINSQ_2:53;
thus L575: thesis by L574 , L553 , L558 , L568 , NAT_1:13;
end;
take D43;
thus L576: ( len R14 ) = ( len D43 ) by L549;
thus L577: ( rng D43 ) c= { ( 0 ) , R12 } by RELAT_1:def 19;
L578: S3[ ( 0 ) ];
L579: (for R9 being Nat holds S3[ R9 ]) from NAT_1:sch 2(L578 , L552);
thus L580: thesis by L579 , L549;
end;
theorem
L581: (for R11 being Nat holds (for R12 being Nat holds (R11 <= R12 implies ( R12 choose R11 ) > ( 0 ))))
proof
let R11 being Nat;
let R12 being Nat;
assume L582: R11 <= R12;
reconsider D45 = ( R12 - R11 ) as Nat by L582 , NAT_1:21;
L583: ( ( R11 ! ) * ( D45 ! ) ) > ( ( R11 ! ) * ( 0 ) ) by XREAL_1:68;
L584: ( R12 ! ) > ( ( 0 ) * ( ( R11 ! ) * ( D45 ! ) ) );
L585: ( ( R12 ! ) / ( ( R11 ! ) * ( D45 ! ) ) ) > ( 0 ) by L584 , L583 , XREAL_1:81;
thus L586: thesis by L585 , L582 , NEWTON:def 3;
end;
theorem
L587: (for R11 being Nat holds (for R12 being Nat holds (( 2 * ( R11 + 1 ) ) <= R12 implies ( card ( ( Choose (R12 , ( R11 + 1 ) , 1 , ( 0 )) ) \ ( Domin_0 (R12 , ( R11 + 1 )) ) ) ) = ( card ( Choose (R12 , R11 , 1 , ( 0 )) ) ))))
proof
let R11 being Nat;
let R12 being Nat;
defpred S4[ set , set ] means (for R14 being (XFinSequence of ( NAT )) holds (for R9 being Nat holds (($1 = R14 & ( ( 2 * R9 ) + 1 ) = ( min* { R13 where R13 is (Element of ( NAT )) : ( 2 * ( Sum ( R14 | R13 ) ) ) > R13 } )) implies (ex B5 , B6 being (XFinSequence of ( NAT )) st ($2 = ( B5 ^ B6 ) & ( len B5 ) = ( ( 2 * R9 ) + 1 ) & ( len B5 ) = ( len ( R14 | ( ( 2 * R9 ) + 1 ) ) ) & R14 = ( ( R14 | ( ( 2 * R9 ) + 1 ) ) ^ B6 ) & (for B7 being Nat holds (B7 < ( ( 2 * R9 ) + 1 ) implies ( B5 . B7 ) = ( 1 - ( R14 . B7 ) ))))))));
assume L588: ( 2 * ( R11 + 1 ) ) <= R12;
L589: ( card R12 ) = R12 by CARD_1:def 2;
L590: R11 <= ( R11 + R11 ) by XREAL_1:31;
L591: R11 <= ( R11 + 1 ) by NAT_1:13;
L592: ( 2 * R11 ) <= ( 2 * ( R11 + 1 ) ) by L591 , XREAL_1:64;
L593: ( 2 * R11 ) <= R12 by L592 , L588 , XXREAL_0:2;
L594: R11 <= R12 by L593 , L590 , XXREAL_0:2;
L595: ( ( card R12 ) choose R11 ) > ( 0 ) by L594 , L589 , L581;
reconsider D46 = ( Choose (R12 , R11 , 1 , ( 0 )) ) as non  empty  finite set by L595 , CARD_1:27 , CARD_FIN:16;
set D47 = ( Domin_0 (R12 , ( R11 + 1 )) );
set D48 = ( Choose (R12 , ( R11 + 1 ) , 1 , ( 0 )) );
L596: (for R1 being set holds (R1 in ( D48 \ D47 ) implies (ex R4 being set st (R4 in D46 & S4[ R1 , R4 ]))))
proof
let R1 being set;
assume that
L597: R1 in ( D48 \ D47 );
L598: R1 in D48 by L597 , XBOOLE_0:def 5;
consider C11 being (XFinSequence of ( NAT )) such that L599: C11 = R1 and L600: ( dom C11 ) = R12 and L601: ( rng C11 ) c= { ( 0 ) , 1 } and L602: ( Sum C11 ) = ( R11 + 1 ) by L598 , CARD_FIN:40;
L603: (not C11 in D47) by L597 , L599 , XBOOLE_0:def 5;
L604: (not C11 is  dominated_by_0) by L603 , L600 , L602 , L459;
consider C12 being Nat such that L605: (( ( 2 * C12 ) + 1 ) = ( min* { R13 where R13 is (Element of ( NAT )) : ( 2 * ( Sum ( C11 | R13 ) ) ) > R13 } ) & ( ( 2 * C12 ) + 1 ) <= ( dom C11 ) & C12 = ( Sum ( C11 | ( 2 * C12 ) ) ) & ( C11 . ( 2 * C12 ) ) = 1) by L604 , L601 , L276;
set D49 = ( C11 | ( ( 2 * C12 ) + 1 ) );
consider C13 being (XFinSequence of ( NAT )) such that L606: C11 = ( D49 ^ C13 ) by L2;
L607: ( rng D49 ) c= ( rng C11 ) by RELAT_1:70;
L608: ( rng D49 ) c= { ( 0 ) , 1 } by L607 , L601 , XBOOLE_1:1;
consider C14 being (XFinSequence of ( NAT )) such that L609: ( len D49 ) = ( len C14 ) and L610: ( rng C14 ) c= { ( 0 ) , 1 } and L611: (for R7 being Nat holds (R7 <= ( len D49 ) implies ( ( Sum ( D49 | R7 ) ) + ( Sum ( C14 | R7 ) ) ) = ( 1 * R7 ))) and L612: (for R7 being Nat holds (R7 in ( len D49 ) implies ( C14 . R7 ) = ( 1 - ( D49 . R7 ) ))) by L608 , L540;
take D50 = ( C14 ^ C13 );
L613: ( len C11 ) = ( ( len C14 ) + ( len C13 ) ) by L609 , L606 , AFINSQ_1:17;
L614: ( dom D50 ) = R12 by L613 , L600 , AFINSQ_1:def 3;
L615: ( rng C13 ) c= ( rng C11 ) by L606 , AFINSQ_1:25;
L616: ( rng C13 ) c= { ( 0 ) , 1 } by L615 , L601 , XBOOLE_1:1;
L617: ( ( rng C14 ) \/ ( rng C13 ) ) c= { ( 0 ) , 1 } by L616 , L610 , XBOOLE_1:8;
L618: ( rng D50 ) c= { ( 0 ) , 1 } by L617 , AFINSQ_1:26;
L619: (( D49 | ( dom D49 ) ) = D49 & ( C14 | ( dom C14 ) ) = C14);
L620: ( ( Sum D49 ) + ( Sum C14 ) ) = ( 1 * ( len D49 ) ) by L619 , L609 , L611;
L621: ( 2 * C12 ) < ( ( 2 * C12 ) + 1 ) by NAT_1:13;
L622: ( 2 * C12 ) c= ( ( 2 * C12 ) + 1 ) by L621 , NAT_1:39;
L623: ( D49 | ( 2 * C12 ) ) = ( C11 | ( 2 * C12 ) ) by L622 , RELAT_1:74;
L624: ( ( 2 * C12 ) + 1 ) c= ( dom C11 ) by L605 , NAT_1:39;
L625: ( dom D49 ) = ( ( 2 * C12 ) + 1 ) by L624 , RELAT_1:62;
L626: ( len D49 ) = ( ( 2 * C12 ) + 1 ) by L624 , RELAT_1:62;
L627: D49 = ( ( D49 | ( 2 * C12 ) ) ^ <% ( D49 . ( 2 * C12 ) ) %> ) by L626 , AFINSQ_1:56;
L628: ( 2 * C12 ) in ( ( 2 * C12 ) + 1 ) by L621 , NAT_1:44;
L629: ( D49 . ( 2 * C12 ) ) = ( C11 . ( 2 * C12 ) ) by L628 , L626 , FUNCT_1:47;
L630: ( Sum D49 ) = ( ( Sum ( C11 | ( 2 * C12 ) ) ) + ( Sum <% ( C11 . ( 2 * C12 ) ) %> ) ) by L629 , L627 , L623 , AFINSQ_2:55;
L631: ( Sum D49 ) = ( C12 + 1 ) by L630 , L605 , AFINSQ_2:53;
L632: ( R11 + 1 ) = ( ( Sum D49 ) + ( Sum C13 ) ) by L602 , L606 , AFINSQ_2:55;
L633: ( ( Sum C14 ) + ( Sum C13 ) ) = ( ( ( R11 + 1 ) - ( ( 2 * C12 ) + 1 ) ) + ( 2 * C12 ) ) by L632 , L620 , L625 , L631;
L634: ( Sum ( C14 ^ C13 ) ) = R11 by L633 , AFINSQ_2:55;
thus L635: D50 in D46 by L634 , L614 , L618 , CARD_FIN:40;
thus L636: S4[ R1 , D50 ]
proof
let C15 being (XFinSequence of ( NAT ));
let R9 being Nat;
assume that
L637: (R1 = C15 & ( ( 2 * R9 ) + 1 ) = ( min* { R13 where R13 is (Element of ( NAT )) : ( 2 * ( Sum ( C15 | R13 ) ) ) > R13 } ));
set D51 = ( C15 | ( ( 2 * R9 ) + 1 ) );
take C14;
take C13;
thus L638: (D50 = ( C14 ^ C13 ) & ( len C14 ) = ( ( 2 * R9 ) + 1 ) & ( len C14 ) = ( len D51 ) & C15 = ( D51 ^ C13 )) by L599 , L605 , L609 , L606 , L624 , L637 , RELAT_1:62;
thus L639: (for B8 being Nat holds (B8 < ( ( 2 * R9 ) + 1 ) implies ( C14 . B8 ) = ( 1 - ( C15 . B8 ) )))
proof
let C16 being Nat;
assume L640: C16 < ( ( 2 * R9 ) + 1 );
L641: C16 in ( len D49 ) by L640 , L599 , L605 , L625 , L637 , NAT_1:44;
L642: ( C14 . C16 ) = ( 1 - ( D49 . C16 ) ) by L641 , L612;
thus L643: thesis by L642 , L599 , L637 , L641 , FUNCT_1:47;
end;

end;

end;
consider C17 being (Function of ( D48 \ D47 ) , D46) such that L637: (for R1 being set holds (R1 in ( D48 \ D47 ) implies S4[ R1 , ( C17 . R1 ) ])) from FUNCT_2:sch 1(L596);
L638: D46 c= ( rng C17 )
proof
let R1 being set;
assume L639: R1 in D46;
consider R14 being (XFinSequence of ( NAT )) such that L640: R14 = R1 and L641: ( dom R14 ) = R12 and L642: ( rng R14 ) c= { ( 0 ) , 1 } and L643: ( Sum R14 ) = R11 by L639 , CARD_FIN:40;
set D52 = { R13 where R13 is (Element of ( NAT )) : ( 2 * ( Sum ( R14 | R13 ) ) ) < R13 };
L644: R11 < ( R11 + 1 ) by NAT_1:13;
L645: ( 2 * R11 ) < ( 2 * ( R11 + 1 ) ) by L644 , XREAL_1:68;
L646: ( 2 * R11 ) < R12 by L645 , L588 , XXREAL_0:2;
L647: (( 2 * ( Sum ( R14 | R12 ) ) ) < R12 & R12 in ( NAT )) by L646 , L641 , L643 , ORDINAL1:def 12 , RELAT_1:69;
L648: R12 in D52 by L647;
L649: D52 c= ( NAT )
proof
let R4 being set;
assume L650: R4 in D52;
L651: (ex B9 being (Element of ( NAT )) st (B9 = R4 & ( 2 * ( Sum ( R14 | B9 ) ) ) < B9)) by L650;
thus L652: thesis by L651;
end;
reconsider D53 = D52 as non  empty (Subset of ( NAT )) by L649 , L648;
L653: (ex R9 being Nat st (( ( 2 * R9 ) + 1 ) = ( min* D53 ) & ( Sum ( R14 | ( ( 2 * R9 ) + 1 ) ) ) = R9 & ( ( 2 * R9 ) + 1 ) <= ( dom R14 )))
proof
set D54 = ( min* D53 );
L654: D54 in D53 by NAT_1:def 1;
L655: (ex B10 being (Element of ( NAT )) st (D54 = B10 & ( 2 * ( Sum ( R14 | B10 ) ) ) < B10)) by L654;
reconsider D55 = ( D54 - 1 ) as (Element of ( NAT )) by L655 , NAT_1:20;
L656: ( 2 * ( Sum ( R14 | D54 ) ) ) < ( D55 + 1 ) by L655;
L657: D55 < ( D55 + 1 ) by NAT_1:13;
L658: D55 c= D54 by L657 , NAT_1:39;
L659: ( ( R14 | D54 ) | D55 ) = ( R14 | D55 ) by L658 , RELAT_1:74;
L660: D54 <= ( dom R14 ) by L641 , L648 , NAT_1:def 1;
L661: D54 c= ( dom R14 ) by L660 , NAT_1:39;
L662: ( dom ( R14 | D54 ) ) = D54 by L661 , RELAT_1:62;
L663: D55 in ( dom ( R14 | D54 ) ) by L662 , L657 , NAT_1:44;
L664: ( ( R14 | D54 ) . D55 ) = ( R14 . D55 ) by L663 , FUNCT_1:47;
L665: D55 < ( D55 + 1 ) by NAT_1:13;
L666: (not D55 in D53) by L665 , NAT_1:def 1;
L667: ( 2 * ( Sum ( R14 | D55 ) ) ) >= D55 by L666;
L668: (( Sum <% ( R14 . D55 ) %> ) = ( R14 . D55 ) & ( ( 2 * ( Sum ( R14 | D55 ) ) ) + ( 2 * ( R14 . D55 ) ) ) >= ( D55 + ( 0 ) )) by L667 , AFINSQ_2:53 , XREAL_1:7;
reconsider D56 = ( Sum ( R14 | D54 ) ) as (Element of ( NAT )) by ORDINAL1:def 12;
take D56;
L669: D54 <= ( dom R14 ) by L641 , L648 , NAT_1:def 1;
L670: ( len ( R14 | D54 ) ) = ( D55 + 1 ) by L661 , RELAT_1:62;
L671: ( R14 | D54 ) = ( ( ( R14 | D54 ) | D55 ) ^ <% ( ( R14 | D54 ) . D55 ) %> ) by L670 , AFINSQ_1:56;
L672: ( Sum ( R14 | D54 ) ) = ( ( Sum ( R14 | D55 ) ) + ( Sum <% ( R14 . D55 ) %> ) ) by L671 , L664 , L659 , AFINSQ_2:55;
thus L673: thesis by L672 , L669 , L668 , L656 , NAT_1:9;
end;
consider R9 being Nat such that L674: ( ( 2 * R9 ) + 1 ) = ( min* D53 ) and L675: ( Sum ( R14 | ( ( 2 * R9 ) + 1 ) ) ) = R9 and L676: ( ( 2 * R9 ) + 1 ) <= ( dom R14 ) by L653;
set D57 = ( ( 2 * R9 ) + 1 );
consider R15 being (XFinSequence of ( NAT )) such that L677: R14 = ( ( R14 | D57 ) ^ R15 ) by L2;
L678: ( rng ( R14 | D57 ) ) c= ( rng R14 ) by RELAT_1:70;
L679: ( rng ( R14 | D57 ) ) c= { ( 0 ) , 1 } by L678 , L642 , XBOOLE_1:1;
consider C18 being (XFinSequence of ( NAT )) such that L680: ( len C18 ) = ( len ( R14 | D57 ) ) and L681: ( rng C18 ) c= { ( 0 ) , 1 } and L682: (for R7 being Nat holds (R7 <= ( len ( R14 | D57 ) ) implies ( ( Sum ( ( R14 | D57 ) | R7 ) ) + ( Sum ( C18 | R7 ) ) ) = ( 1 * R7 ))) and L683: (for R7 being Nat holds (R7 in ( len ( R14 | D57 ) ) implies ( C18 . R7 ) = ( 1 - ( ( R14 | D57 ) . R7 ) ))) by L679 , L540;
set D58 = ( C18 ^ R15 );
L684: ( dom D58 ) = ( ( len ( R14 | D57 ) ) + ( len R15 ) ) by L680 , AFINSQ_1:def 3;
L685: R11 = ( R9 + ( Sum R15 ) ) by L643 , L675 , L677 , AFINSQ_2:55;
L686: ( dom D58 ) = ( ( len ( R14 | D57 ) ) + ( len R15 ) ) by L680 , AFINSQ_1:def 3;
L687: ( dom D58 ) = ( dom R14 ) by L686 , L677 , AFINSQ_1:def 3;
L688: (( ( R14 | D57 ) | ( dom ( R14 | D57 ) ) ) = ( R14 | D57 ) & ( C18 | ( dom C18 ) ) = C18);
L689: ( ( Sum ( R14 | D57 ) ) + ( Sum C18 ) ) = ( 1 * ( len ( R14 | D57 ) ) ) by L688 , L680 , L682;
L690: ( rng R15 ) c= ( rng R14 ) by L677 , AFINSQ_1:25;
L691: ( rng R15 ) c= { ( 0 ) , 1 } by L690 , L642 , XBOOLE_1:1;
L692: ( ( rng C18 ) \/ ( rng R15 ) ) c= { ( 0 ) , 1 } by L691 , L681 , XBOOLE_1:8;
L693: ( rng D58 ) c= { ( 0 ) , 1 } by L692 , AFINSQ_1:26;
L694: D57 c= ( dom R14 ) by L676 , NAT_1:39;
L695: ( len ( R14 | D57 ) ) = D57 by L694 , RELAT_1:62;
L696: ( ( C18 ^ R15 ) | D57 ) = C18 by L695 , L680 , AFINSQ_1:57;
L697: ( D57 + 1 ) > D57 by NAT_1:13;
L698: D57 < ( 2 * ( Sum C18 ) ) by L697 , L675 , L689 , L695;
L699: ( 2 * ( Sum C18 ) ) > D57 by L675 , L689 , L695 , L697;
consider C19 being Nat such that L700: (( ( 2 * C19 ) + 1 ) = ( min* { R13 where R13 is (Element of ( NAT )) : ( 2 * ( Sum ( D58 | R13 ) ) ) > R13 } ) & ( ( 2 * C19 ) + 1 ) <= ( dom D58 ) & C19 = ( Sum ( D58 | ( 2 * C19 ) ) ) & ( D58 . ( 2 * C19 ) ) = 1) by L699 , L693 , L696 , L10 , L276;
set D59 = ( ( 2 * C19 ) + 1 );
L701: ( len ( ( R14 | D57 ) ^ R15 ) ) = ( ( len ( R14 | D57 ) ) + ( len R15 ) ) by AFINSQ_1:def 3;
L702: (not D58 is  dominated_by_0) by L699 , L696 , L10;
L703: (not D58 in D47) by L702 , L482;
set D60 = ( D58 | ( ( 2 * C19 ) + 1 ) );
L704: ( Sum D58 ) = ( ( Sum C18 ) + ( Sum R15 ) ) by AFINSQ_2:55;
L705: D58 in D48 by L704 , L641 , L675 , L689 , L695 , L687 , L693 , L685 , CARD_FIN:40;
L706: D58 in ( D48 \ D47 ) by L705 , L703 , XBOOLE_0:def 5;
consider C20 , C21 being (XFinSequence of ( NAT )) such that L707: ( C17 . D58 ) = ( C20 ^ C21 ) and L708: ( len C20 ) = D59 and L709: (( len C20 ) = ( len D60 ) & D58 = ( D60 ^ C21 )) and L710: (for B11 being Nat holds (B11 < D59 implies ( C20 . B11 ) = ( 1 - ( D58 . B11 ) ))) by L706 , L637 , L700;
L711: ( dom D58 ) = ( ( len C20 ) + ( len C21 ) ) by L709 , AFINSQ_1:def 3;
L712: ( len ( C20 ^ C21 ) ) = ( len ( ( R14 | D57 ) ^ R15 ) ) by L711 , L684 , L701 , AFINSQ_1:17;
reconsider D61 = { R13 where R13 is (Element of ( NAT )) : ( 2 * ( Sum ( D58 | R13 ) ) ) > R13 } as non  empty (Subset of ( NAT )) by L700 , NAT_1:def 1;
L713: ( D58 | D57 ) = C18 by L680 , L695 , AFINSQ_1:57;
L714: D57 in D61 by L713 , L698;
L715: D57 >= D59 by L714 , L700 , NAT_1:def 1;
L716: D59 c= D57 by L715 , NAT_1:39;
L717: ( ( R14 | D57 ) | D59 ) = ( R14 | D59 ) by L716 , RELAT_1:74;
L718: D59 in D61 by L700 , NAT_1:def 1;
L719: (ex R13 being (Element of ( NAT )) st (R13 = D59 & ( 2 * ( Sum ( D58 | R13 ) ) ) > R13)) by L718;
L720: ( ( Sum ( ( R14 | D57 ) | D59 ) ) + ( Sum ( C18 | D59 ) ) ) = ( D59 * 1 ) by L682 , L695 , L715;
L721: ( 2 * ( Sum ( C18 | D59 ) ) ) = ( ( 2 * D59 ) - ( 2 * ( Sum ( R14 | D59 ) ) ) ) by L720 , L717;
L722: ( D59 + ( D59 - ( 2 * ( Sum ( R14 | D59 ) ) ) ) ) > ( ( 2 * ( Sum ( R14 | D59 ) ) ) + ( D59 - ( 2 * ( Sum ( R14 | D59 ) ) ) ) ) by L721 , L680 , L695 , L715 , L719 , AFINSQ_1:58;
L723: D59 > ( 2 * ( Sum ( R14 | D59 ) ) ) by L722 , XREAL_1:6;
L724: D59 in D53 by L723;
L725: D59 >= D57 by L724 , L674 , NAT_1:def 1;
L726: D59 = D57 by L725 , L715 , XXREAL_0:1;
L727: ( len ( ( R14 | D57 ) ^ R15 ) ) = ( len D58 ) by L684 , AFINSQ_1:def 3;
L728:
now
let C22 being Nat;
assume that
L729: C22 < ( len ( C20 ^ C21 ) );
L730:
now
per cases ;
suppose L731: C22 < ( len C20 );

L732: (C22 in ( dom C20 ) & ( C20 . C22 ) = ( 1 - ( D58 . C22 ) )) by L731 , L708 , L710 , NAT_1:44;
L733: C22 in ( len C20 ) by L731 , NAT_1:44;
L734: (( len C20 ) = ( len ( R14 | D57 ) ) & C22 in ( NAT )) by L694 , L708 , L726 , ORDINAL1:def 12 , RELAT_1:62;
L735: ( C18 . C22 ) = ( 1 - ( ( R14 | D57 ) . C22 ) ) by L734 , L683 , L733;
L736: (( ( ( R14 | D57 ) ^ R15 ) . C22 ) = ( ( R14 | D57 ) . C22 ) & ( D58 . C22 ) = ( C18 . C22 )) by L680 , L733 , L734 , AFINSQ_1:def 3;
thus L737: ( ( C20 ^ C21 ) . C22 ) = ( ( ( R14 | D57 ) ^ R15 ) . C22 ) by L736 , L735 , L732 , AFINSQ_1:def 3;
end;
suppose L738: C22 >= ( len C20 );

L739: ( ( ( R14 | D57 ) ^ R15 ) . C22 ) = ( R15 . ( C22 - ( len C18 ) ) ) by L738 , L680 , L695 , L708 , L726 , L712 , L729 , AFINSQ_1:19;
L740: (( ( C20 ^ C21 ) . C22 ) = ( C21 . ( C22 - ( len C20 ) ) ) & ( D58 . C22 ) = ( R15 . ( C22 - ( len C18 ) ) )) by L680 , L695 , L708 , L726 , L712 , L727 , L729 , L738 , AFINSQ_1:19;
thus L741: ( ( C20 ^ C21 ) . C22 ) = ( ( ( R14 | D57 ) ^ R15 ) . C22 ) by L740 , L709 , L712 , L727 , L729 , L738 , L739 , AFINSQ_1:19;
end;
end;
thus L743: ( ( C20 ^ C21 ) . C22 ) = ( ( ( R14 | D57 ) ^ R15 ) . C22 ) by L730;
end;
L744: ( C20 ^ C21 ) = ( ( R14 | D57 ) ^ R15 ) by L728 , L711 , L684 , L701 , AFINSQ_1:9 , AFINSQ_1:17;
L745: D58 in ( dom C17 ) by L706 , FUNCT_2:def 1;
thus L746: thesis by L745 , L640 , L677 , L707 , L744 , FUNCT_1:3;
end;
L747: ( rng C17 ) = D46 by L638 , XBOOLE_0:def 10;
L748: C17 is  one-to-one
proof
let R1 being set;
let R4 being set;
assume that
L749: R1 in ( dom C17 )
and
L750: R4 in ( dom C17 )
and
L751: ( C17 . R1 ) = ( C17 . R4 );
L752: R1 in D48 by L749 , XBOOLE_0:def 5;
consider R14 being (XFinSequence of ( NAT )) such that L753: R14 = R1 and L754: ( dom R14 ) = R12 and L755: ( rng R14 ) c= { ( 0 ) , 1 } and L756: ( Sum R14 ) = ( R11 + 1 ) by L752 , CARD_FIN:40;
L757: (not R14 in D47) by L749 , L753 , XBOOLE_0:def 5;
L758: (not R14 is  dominated_by_0) by L757 , L754 , L756 , L459;
consider C23 being Nat such that L759: (( ( 2 * C23 ) + 1 ) = ( min* { R13 where R13 is (Element of ( NAT )) : ( 2 * ( Sum ( R14 | R13 ) ) ) > R13 } ) & ( ( 2 * C23 ) + 1 ) <= ( dom R14 ) & C23 = ( Sum ( R14 | ( 2 * C23 ) ) ) & ( R14 . ( 2 * C23 ) ) = 1) by L758 , L755 , L276;
L760: R4 in D48 by L750 , XBOOLE_0:def 5;
consider R15 being (XFinSequence of ( NAT )) such that L761: R15 = R4 and L762: ( dom R15 ) = R12 and L763: ( rng R15 ) c= { ( 0 ) , 1 } and L764: ( Sum R15 ) = ( R11 + 1 ) by L760 , CARD_FIN:40;
L765: (not R15 in D47) by L750 , L761 , XBOOLE_0:def 5;
L766: (not R15 is  dominated_by_0) by L765 , L762 , L764 , L459;
consider C24 being Nat such that L767: (( ( 2 * C24 ) + 1 ) = ( min* { R13 where R13 is (Element of ( NAT )) : ( 2 * ( Sum ( R15 | R13 ) ) ) > R13 } ) & ( ( 2 * C24 ) + 1 ) <= ( dom R15 ) & C24 = ( Sum ( R15 | ( 2 * C24 ) ) ) & ( R15 . ( 2 * C24 ) ) = 1) by L766 , L763 , L276;
L768: ( len R15 ) = R12 by L762;
reconsider D62 = { R13 where R13 is (Element of ( NAT )) : ( 2 * ( Sum ( R15 | R13 ) ) ) > R13 } as non  empty (Subset of ( NAT )) by L767 , NAT_1:def 1;
set D63 = ( R15 | ( ( 2 * C24 ) + 1 ) );
consider C25 , C26 being (XFinSequence of ( NAT )) such that L769: ( C17 . R4 ) = ( C25 ^ C26 ) and L770: ( len C25 ) = ( ( 2 * C24 ) + 1 ) and L771: ( len C25 ) = ( len D63 ) and L772: R15 = ( D63 ^ C26 ) and L773: (for B12 being Nat holds (B12 < ( ( 2 * C24 ) + 1 ) implies ( C25 . B12 ) = ( 1 - ( R15 . B12 ) ))) by L637 , L750 , L761 , L767;
L774: ( len R15 ) = ( ( len D63 ) + ( len C26 ) ) by L772 , AFINSQ_1:17;
L775: ( len R15 ) = ( len ( C25 ^ C26 ) ) by L774 , L771 , AFINSQ_1:17;
reconsider D64 = { R13 where R13 is (Element of ( NAT )) : ( 2 * ( Sum ( R14 | R13 ) ) ) > R13 } as non  empty (Subset of ( NAT )) by L759 , NAT_1:def 1;
set D65 = ( R14 | ( ( 2 * C23 ) + 1 ) );
consider C27 , C28 being (XFinSequence of ( NAT )) such that L776: ( C17 . R1 ) = ( C27 ^ C28 ) and L777: ( len C27 ) = ( ( 2 * C23 ) + 1 ) and L778: ( len C27 ) = ( len ( R14 | ( ( 2 * C23 ) + 1 ) ) ) and L779: R14 = ( ( R14 | ( ( 2 * C23 ) + 1 ) ) ^ C28 ) and L780: (for B13 being Nat holds (B13 < ( ( 2 * C23 ) + 1 ) implies ( C27 . B13 ) = ( 1 - ( R14 . B13 ) ))) by L637 , L749 , L753 , L759;
assume L781: R1 <> R4;
consider C29 being Nat such that L782: C29 < ( len R14 ) and L783: ( R14 . C29 ) <> ( R15 . C29 ) by L781 , L753 , L754 , L761 , L762 , L774 , AFINSQ_1:9;
L784: ( len R14 ) = ( ( len D65 ) + ( len C28 ) ) by L779 , AFINSQ_1:17;
L785: ( len R14 ) = ( len ( C27 ^ C28 ) ) by L784 , L778 , AFINSQ_1:17;
L786:
now
per cases  by XXREAL_0:1;
suppose L787: C23 = C24;

L788:
now
per cases ;
suppose L789: C29 < ( len D65 );

L790: C29 in ( len D65 ) by L789 , NAT_1:44;
L791: (( C27 . C29 ) = ( ( C27 ^ C28 ) . C29 ) & ( C25 . C29 ) = ( ( C25 ^ C26 ) . C29 )) by L790 , L777 , L778 , L770 , L787 , AFINSQ_1:def 3;
L792: (( C27 . C29 ) = ( 1 - ( R14 . C29 ) ) & ( C25 . C29 ) = ( 1 - ( R15 . C29 ) )) by L777 , L778 , L780 , L773 , L787 , L789;
thus L793: contradiction by L792 , L751 , L776 , L769 , L783 , L791;
end;
suppose L794: C29 >= ( len D65 );

L795: ( ( C25 ^ C26 ) . C29 ) = ( C26 . ( C29 - ( len D65 ) ) ) by L794 , L754 , L777 , L778 , L762 , L770 , L775 , L782 , L787 , AFINSQ_1:19;
L796: (( R14 . C29 ) = ( C28 . ( C29 - ( len D65 ) ) ) & ( R15 . C29 ) = ( C26 . ( C29 - ( len D65 ) ) )) by L754 , L777 , L778 , L779 , L770 , L771 , L772 , L768 , L782 , L787 , L794 , AFINSQ_1:19;
thus L797: contradiction by L796 , L751 , L776 , L778 , L769 , L785 , L782 , L783 , L794 , L795 , AFINSQ_1:19;
end;
end;
thus L799: contradiction by L788;
end;
suppose L800: C23 > C24;

L801: ( len C25 ) <= ( len R14 ) by L754 , L762 , L771 , L774 , NAT_1:11;
L802: ( len C25 ) c= ( dom R14 ) by L801 , NAT_1:39;
L803: ( 2 * C24 ) < ( 2 * C23 ) by L800 , XREAL_1:68;
L804: ( len C25 ) < ( len C27 ) by L803 , L777 , L770 , XREAL_1:6;
L805: ( ( C25 ^ C26 ) | ( len C25 ) ) = ( C27 | ( len C25 ) ) by L804 , L751 , L776 , L769 , AFINSQ_1:58;
L806: C25 = ( C27 | ( len C25 ) ) by L805 , AFINSQ_1:57;
L807: (for B14 being Nat holds (B14 < ( len D63 ) implies ( D63 . B14 ) = ( ( R14 | ( len D63 ) ) . B14 )))
proof
let C30 being Nat;
assume that
L808: C30 < ( len D63 );
L809: C30 in ( len C25 ) by L771 , L808 , NAT_1:44;
L810: C30 in ( ( dom R15 ) /\ ( len C25 ) ) by L809 , L754 , L762 , L802 , XBOOLE_0:def 4;
L811: C30 in ( ( dom R14 ) /\ ( len C25 ) ) by L802 , L809 , XBOOLE_0:def 4;
L812: ( R14 . C30 ) = ( ( R14 | ( len D63 ) ) . C30 ) by L811 , L771 , FUNCT_1:48;
L813: C30 < ( len C27 ) by L771 , L804 , L808 , XXREAL_0:2;
L814: ( C27 . C30 ) = ( 1 - ( R14 . C30 ) ) by L813 , L777 , L780;
L815: C30 in ( dom C27 ) by L813 , NAT_1:44;
L816: C30 in ( ( dom C27 ) /\ ( len C25 ) ) by L815 , L809 , XBOOLE_0:def 4;
L817: ( C27 . C30 ) = ( ( C27 | ( len C25 ) ) . C30 ) by L816 , FUNCT_1:48;
L818: ( C25 . C30 ) = ( 1 - ( R15 . C30 ) ) by L770 , L771 , L773 , L808;
thus L819: thesis by L818 , L770 , L806 , L814 , L817 , L810 , L812 , FUNCT_1:48;
end;
L820: ( ( 2 * C24 ) + 1 ) in D62 by L767 , NAT_1:def 1;
L821: (ex R13 being (Element of ( NAT )) st (( ( 2 * C24 ) + 1 ) = R13 & ( 2 * ( Sum ( R15 | R13 ) ) ) > R13)) by L820;
L822: ( len D63 ) = ( len ( R14 | ( len D63 ) ) ) by L771 , L802 , RELAT_1:62;
L823: D63 = ( R14 | ( len D63 ) ) by L822 , L807 , AFINSQ_1:9;
L824: ( len D63 ) in D64 by L823 , L770 , L771 , L821;
thus L825: contradiction by L824 , L759 , L777 , L771 , L804 , NAT_1:def 1;
end;
suppose L826: C23 < C24;

L827: ( len C27 ) <= ( len R15 ) by L754 , L778 , L762 , L784 , NAT_1:11;
L828: ( len C27 ) c= ( dom R15 ) by L827 , NAT_1:39;
L829: ( 2 * C23 ) < ( 2 * C24 ) by L826 , XREAL_1:68;
L830: ( len C27 ) < ( len C25 ) by L829 , L777 , L770 , XREAL_1:6;
L831: ( ( C27 ^ C28 ) | ( len C27 ) ) = ( C25 | ( len C27 ) ) by L830 , L751 , L776 , L769 , AFINSQ_1:58;
L832: C27 = ( C25 | ( len C27 ) ) by L831 , AFINSQ_1:57;
L833: (for B15 being Nat holds (B15 < ( len D65 ) implies ( D65 . B15 ) = ( ( R15 | ( len D65 ) ) . B15 )))
proof
let C31 being Nat;
assume that
L834: C31 < ( len D65 );
L835: C31 in ( len C27 ) by L778 , L834 , NAT_1:44;
L836: C31 in ( ( dom R14 ) /\ ( len C27 ) ) by L835 , L754 , L762 , L828 , XBOOLE_0:def 4;
L837: C31 in ( ( dom R15 ) /\ ( len C27 ) ) by L828 , L835 , XBOOLE_0:def 4;
L838: ( R15 . C31 ) = ( ( R15 | ( len D65 ) ) . C31 ) by L837 , L778 , FUNCT_1:48;
L839: C31 < ( len C25 ) by L778 , L830 , L834 , XXREAL_0:2;
L840: ( C25 . C31 ) = ( 1 - ( R15 . C31 ) ) by L839 , L770 , L773;
L841: C31 in ( dom C25 ) by L839 , NAT_1:44;
L842: C31 in ( ( dom C25 ) /\ ( len C27 ) ) by L841 , L835 , XBOOLE_0:def 4;
L843: ( C25 . C31 ) = ( ( C25 | ( len C27 ) ) . C31 ) by L842 , FUNCT_1:48;
L844: ( C27 . C31 ) = ( 1 - ( R14 . C31 ) ) by L777 , L778 , L780 , L834;
thus L845: thesis by L844 , L777 , L832 , L840 , L843 , L836 , L838 , FUNCT_1:48;
end;
L846: ( ( 2 * C23 ) + 1 ) in D64 by L759 , NAT_1:def 1;
L847: (ex R13 being (Element of ( NAT )) st (( ( 2 * C23 ) + 1 ) = R13 & ( 2 * ( Sum ( R14 | R13 ) ) ) > R13)) by L846;
L848: ( len D65 ) = ( len ( R15 | ( len D65 ) ) ) by L778 , L828 , RELAT_1:62;
L849: D65 = ( R15 | ( len D65 ) ) by L848 , L833 , AFINSQ_1:9;
L850: ( len D65 ) in D62 by L849 , L777 , L778 , L847;
thus L851: contradiction by L850 , L778 , L767 , L770 , L830 , NAT_1:def 1;
end;
end;
thus L853: contradiction by L786;
end;
L854: ( dom C17 ) = ( D48 \ D47 ) by FUNCT_2:def 1;
L855: ( D48 \ D47 ) , D46 are_equipotent  by L854 , L748 , L747 , WELLORD2:def 4;
thus L856: thesis by L855 , CARD_1:5;
end;
theorem
L857: (for R11 being Nat holds (for R12 being Nat holds (( 2 * ( R11 + 1 ) ) <= R12 implies ( card ( Domin_0 (R12 , ( R11 + 1 )) ) ) = ( ( R12 choose ( R11 + 1 ) ) - ( R12 choose R11 ) ))))
proof
let R11 being Nat;
let R12 being Nat;
set D66 = ( Choose (R12 , ( R11 + 1 ) , 1 , ( 0 )) );
set D67 = ( Domin_0 (R12 , ( R11 + 1 )) );
set D68 = ( Choose (R12 , R11 , 1 , ( 0 )) );
L858: (( card D66 ) = ( ( card R12 ) choose ( R11 + 1 ) ) & ( card R12 ) = R12) by CARD_1:def 2 , CARD_FIN:16;
L859: ( card ( D66 \ D67 ) ) = ( ( card D66 ) - ( card D67 ) ) by L488 , CARD_2:44;
L860: ( card D67 ) = ( ( card D66 ) - ( card ( D66 \ D67 ) ) ) by L859;
assume L861: ( 2 * ( R11 + 1 ) ) <= R12;
L862: ( card D67 ) = ( ( card D66 ) - ( card D68 ) ) by L861 , L860 , L587;
thus L863: thesis by L862 , L858 , CARD_FIN:16;
end;
theorem
L864: (for R11 being Nat holds (for R12 being Nat holds (( 2 * R11 ) <= R12 implies ( card ( Domin_0 (R12 , R11) ) ) = ( ( ( ( R12 + 1 ) - ( 2 * R11 ) ) / ( ( R12 + 1 ) - R11 ) ) * ( R12 choose R11 ) ))))
proof
let R11 being Nat;
let R12 being Nat;
assume L865: ( 2 * R11 ) <= R12;
L866:
now
per cases ;
suppose L867: R11 = ( 0 );

L868: ( R12 choose R11 ) = 1 by L867 , NEWTON:19;
L869: ( ( ( ( R12 + 1 ) - ( 2 * R11 ) ) / ( ( R12 + 1 ) - R11 ) ) * ( R12 choose R11 ) ) = 1 by L868 , L867 , XCMPLX_1:60;
thus L870: thesis by L869 , L867 , L537;
end;
suppose L871: R11 > ( 0 );

L872: R11 <= ( R11 + R11 ) by NAT_1:11;
reconsider D69 = ( R12 - R11 ) as (Element of ( NAT )) by L872 , L865 , NAT_1:21 , XXREAL_0:2;
reconsider D70 = ( R11 - 1 ) as (Element of ( NAT )) by L871 , NAT_1:20;
set D71 = ( R12 ! );
set D72 = ( R11 ! );
set D73 = ( ( D69 + 1 ) ! );
set D74 = ( D69 ! );
L873: R11 <= R12 by L865 , L872 , XXREAL_0:2;
L874: ( R12 choose R11 ) = ( D71 / ( D72 * D74 ) ) by L873 , NEWTON:def 3;
L875: ( 2 * ( D70 + 1 ) ) <= R12 by L865;
set D75 = ( D70 ! );
L876: ( 1 / ( D75 * D73 ) ) = ( ( ( D70 + 1 ) * 1 ) / ( ( D75 * D73 ) * ( D70 + 1 ) ) ) by XCMPLX_1:91
.= ( R11 / ( D73 * ( D75 * ( D70 + 1 ) ) ) )
.= ( R11 / ( D73 * ( ( D70 + 1 ) ! ) ) ) by NEWTON:15
.= ( - ( ( - R11 ) / ( D73 * D72 ) ) ) by XCMPLX_1:190;
L877: ( 1 / ( D72 * D74 ) ) = ( ( ( D69 + 1 ) * 1 ) / ( ( D72 * D74 ) * ( D69 + 1 ) ) ) by XCMPLX_1:91
.= ( ( D69 + 1 ) / ( D72 * ( D74 * ( D69 + 1 ) ) ) )
.= ( ( D69 + 1 ) / ( D72 * D73 ) ) by NEWTON:15;
L878: ( ( 1 / ( D72 * D74 ) ) - ( 1 / ( D75 * D73 ) ) ) = ( ( ( D69 + 1 ) / ( D72 * D73 ) ) + ( ( - R11 ) / ( D72 * D73 ) ) ) by L877 , L876
.= ( ( ( D69 + 1 ) + ( - R11 ) ) / ( D72 * D73 ) ) by XCMPLX_1:62
.= ( ( ( R12 + 1 ) - ( 2 * R11 ) ) / ( D72 * ( D74 * ( D69 + 1 ) ) ) ) by NEWTON:15
.= ( ( 1 * ( ( R12 + 1 ) - ( 2 * R11 ) ) ) / ( ( D72 * D74 ) * ( D69 + 1 ) ) )
.= ( ( 1 / ( D72 * D74 ) ) * ( ( ( R12 + 1 ) - ( 2 * R11 ) ) / ( D69 + 1 ) ) ) by XCMPLX_1:76;
L879: D70 <= ( D70 + ( ( 1 + D70 ) + 1 ) ) by NAT_1:11;
L880: D70 <= R12 by L879 , L865 , XXREAL_0:2;
L881: ( R12 - D70 ) = ( D69 + 1 );
L882: ( R12 choose D70 ) = ( D71 / ( D75 * D73 ) ) by L881 , L880 , NEWTON:def 3;
L883: ( ( D71 / ( D72 * D74 ) ) - ( D71 / ( D75 * D73 ) ) ) = ( ( D71 * ( 1 / ( D72 * D74 ) ) ) - ( D71 / ( D75 * D73 ) ) ) by XCMPLX_1:99
.= ( ( D71 * ( 1 / ( D72 * D74 ) ) ) - ( D71 * ( 1 / ( D75 * D73 ) ) ) ) by XCMPLX_1:99
.= ( D71 * ( ( 1 / ( D72 * D74 ) ) - ( 1 / ( D75 * D73 ) ) ) )
.= ( D71 * ( ( 1 / ( D72 * D74 ) ) * ( ( ( R12 + 1 ) - ( 2 * R11 ) ) / ( D69 + 1 ) ) ) ) by L878
.= ( ( D71 * ( 1 / ( D72 * D74 ) ) ) * ( ( ( R12 + 1 ) - ( 2 * R11 ) ) / ( D69 + 1 ) ) )
.= ( ( ( D71 * 1 ) / ( D72 * D74 ) ) * ( ( ( R12 + 1 ) - ( 2 * R11 ) ) / ( D69 + 1 ) ) ) by XCMPLX_1:74;
thus L884: thesis by L883 , L874 , L882 , L875 , L857;
end;
end;
thus L886: thesis by L866;
end;
theorem
L887: (for R9 being Nat holds ( card ( Domin_0 (( 2 + R9 ) , 1) ) ) = ( R9 + 1 ))
proof
let R9 being Nat;
L888: ( card ( Domin_0 (( 2 + R9 ) , 1) ) ) = ( ( ( ( ( 2 + R9 ) + 1 ) - ( 2 * 1 ) ) / ( ( ( 2 + R9 ) + 1 ) - 1 ) ) * ( ( 2 + R9 ) choose 1 ) ) by L864 , NAT_1:11
.= ( ( ( R9 + 1 ) / ( 2 + R9 ) ) * ( 2 + R9 ) ) by STIRL2_1:51
.= ( R9 + 1 ) by XCMPLX_1:87;
thus L889: thesis by L888;
end;
theorem
L890: (for R9 being Nat holds ( card ( Domin_0 (( 4 + R9 ) , 2) ) ) = ( ( ( R9 + 1 ) * ( R9 + 4 ) ) / 2 ))
proof
let R9 being Nat;
L891: ( card ( Domin_0 (( 4 + R9 ) , 2) ) ) = ( ( ( ( ( 4 + R9 ) + 1 ) - ( 2 * 2 ) ) / ( ( ( 4 + R9 ) + 1 ) - 2 ) ) * ( ( 4 + R9 ) choose 2 ) ) by L864 , NAT_1:11
.= ( ( ( R9 + 1 ) / ( R9 + 3 ) ) * ( ( ( 4 + R9 ) * ( ( 4 + R9 ) - 1 ) ) / 2 ) ) by STIRL2_1:51
.= ( ( ( ( ( R9 + 1 ) / ( R9 + 3 ) ) * ( 3 + R9 ) ) * ( 4 + R9 ) ) / 2 )
.= ( ( ( R9 + 1 ) * ( 4 + R9 ) ) / 2 ) by XCMPLX_1:87;
thus L892: thesis by L891;
end;
theorem
L893: (for R9 being Nat holds ( card ( Domin_0 (( 6 + R9 ) , 3) ) ) = ( ( ( ( R9 + 1 ) * ( R9 + 5 ) ) * ( R9 + 6 ) ) / 6 ))
proof
let R9 being Nat;
L894: ( card ( Domin_0 (( 6 + R9 ) , 3) ) ) = ( ( ( ( ( 6 + R9 ) + 1 ) - ( 2 * 3 ) ) / ( ( ( 6 + R9 ) + 1 ) - 3 ) ) * ( ( 6 + R9 ) choose 3 ) ) by L864 , NAT_1:11
.= ( ( ( R9 + 1 ) / ( R9 + 4 ) ) * ( ( ( ( 6 + R9 ) * ( ( 6 + R9 ) - 1 ) ) * ( ( 6 + R9 ) - 2 ) ) / 6 ) ) by STIRL2_1:51
.= ( ( ( ( ( ( R9 + 1 ) / ( R9 + 4 ) ) * ( 4 + R9 ) ) * ( 5 + R9 ) ) * ( 6 + R9 ) ) / 6 )
.= ( ( ( ( R9 + 1 ) * ( 5 + R9 ) ) * ( 6 + R9 ) ) / 6 ) by XCMPLX_1:87;
thus L895: thesis by L894;
end;
theorem
L896: (for R12 being Nat holds ( card ( Domin_0 (( 2 * R12 ) , R12) ) ) = ( ( ( 2 * R12 ) choose R12 ) / ( R12 + 1 ) ))
proof
let R12 being Nat;
L897: ( card ( Domin_0 (( 2 * R12 ) , R12) ) ) = ( ( ( ( ( 2 * R12 ) + 1 ) - ( 2 * R12 ) ) / ( ( ( 2 * R12 ) + 1 ) - R12 ) ) * ( ( 2 * R12 ) choose R12 ) ) by L864
.= ( ( 1 * ( ( 2 * R12 ) choose R12 ) ) / ( R12 + 1 ) ) by XCMPLX_1:74;
thus L898: thesis by L897;
end;
theorem
L899: (for R12 being Nat holds ( card ( Domin_0 (( 2 * R12 ) , R12) ) ) = ( Catalan ( R12 + 1 ) ))
proof
let R12 being Nat;
L900: ( Catalan ( R12 + 1 ) ) = ( ( ( ( 2 * ( R12 + 1 ) ) -' 2 ) choose ( ( R12 + 1 ) -' 1 ) ) / ( R12 + 1 ) ) by CATALAN1:def 1;
L901: (( ( ( 2 * R12 ) + 2 ) -' 2 ) = ( ( ( 2 * R12 ) + 2 ) - 2 ) & ( ( R12 + 1 ) -' 1 ) = ( ( R12 + 1 ) - 1 )) by XREAL_0:def 2;
thus L902: thesis by L901 , L900 , L896;
end;
definition
let R6 being set;
mode OMEGA of R6
 ->  functional non  empty set
means :L903: (for R1 being set holds (R1 in it implies R1 is (XFinSequence of R6)));
existence
proof
reconsider D76 = ( R6 ^omega ) as  functional non  empty set;
take D76;
thus L904: thesis by AFINSQ_1:def 7;
end;
end;
definition
let R6 being set;
redefine func R6 ^omega -> (OMEGA of R6);

coherence
proof
L906: (( R6 ^omega ) is  functional & (for R1 being set holds (R1 in ( R6 ^omega ) implies R1 is (XFinSequence of R6)))) by AFINSQ_1:def 7;
thus L907: thesis by L906 , L903;
end;
end;
registration
let R6 being set;
let C32 being (OMEGA of R6);
cluster  ->  finite R6 -valued  T-Sequence-like for (Element of C32);
coherence by L903;
end;
theorem
L910: (for R12 being Nat holds ( card { R19 where R19 is (Element of ( ( NAT ) ^omega )) : (( dom R19 ) = ( 2 * R12 ) & R19 is  dominated_by_0) } ) = ( ( 2 * R12 ) choose R12 ))
proof
let R12 being Nat;
set D77 = ( bool ( { ( 0 ) , 1 } ^omega ) );
set D78 = ( 2 * R12 );
defpred S5[ set , set ] means (for R7 being Nat holds (R7 = $1 implies $2 = ( Domin_0 (D78 , R7) )));
set D79 = { R19 where R19 is (Element of ( ( NAT ) ^omega )) : (( dom R19 ) = ( 2 * R12 ) & R19 is  dominated_by_0) };
L911: (for R9 being Nat holds (R9 in ( R12 + 1 ) implies (ex B16 being (Element of D77) st S5[ R9 , B16 ])))
proof
let R9 being Nat;
assume that
L912: R9 in ( R12 + 1 );
reconsider D80 = ( Domin_0 (D78 , R9) ) as (Element of D77);
take D80;
thus L913: thesis;
end;
consider C33 being (XFinSequence of D77) such that L914: (( dom C33 ) = ( R12 + 1 ) & (for R9 being Nat holds (R9 in ( R12 + 1 ) implies S5[ R9 , ( C33 . R9 ) ]))) from STIRL2_1:sch 5(L911);
L915: D79 c= ( union ( rng C33 ) )
proof
let R1 being set;
assume L916: R1 in D79;
consider R19 being (Element of ( ( NAT ) ^omega )) such that L917: R1 = R19 and L918: (( dom R19 ) = D78 & R19 is  dominated_by_0) by L916;
L919: R19 in ( Domin_0 (( 2 * R12 ) , ( Sum R19 )) ) by L918 , L482;
L920: ( 2 * ( Sum R19 ) ) <= D78 by L919 , L498;
L921: ( ( 1 / 2 ) * ( 2 * ( Sum R19 ) ) ) <= ( ( 1 / 2 ) * ( 2 * R12 ) ) by L920 , XREAL_1:64;
L922: ( Sum R19 ) < ( R12 + 1 ) by L921 , NAT_1:13;
L923: ( Sum R19 ) in ( R12 + 1 ) by L922 , NAT_1:44;
L924: ( C33 . ( Sum R19 ) ) = ( Domin_0 (D78 , ( Sum R19 )) ) by L923 , L914;
L925: R19 in ( C33 . ( Sum R19 ) ) by L924 , L918 , L482;
L926: ( C33 . ( Sum R19 ) ) in ( rng C33 ) by L914 , L923 , FUNCT_1:3;
thus L927: thesis by L926 , L917 , L925 , TARSKI:def 4;
end;
L928: ( union ( rng C33 ) ) c= D79
proof
let R1 being set;
assume L929: R1 in ( union ( rng C33 ) );
consider R4 being set such that L930: R1 in R4 and L931: R4 in ( rng C33 ) by L929 , TARSKI:def 4;
consider C34 being set such that L932: C34 in ( dom C33 ) and L933: R4 = ( C33 . C34 ) by L931 , FUNCT_1:def 3;
reconsider D81 = C34 as (Element of ( NAT )) by L932;
L934: R4 = ( Domin_0 (D78 , D81) ) by L914 , L932 , L933;
consider R14 being (XFinSequence of ( NAT )) such that L935: (R14 = R1 & R14 is  dominated_by_0 & ( dom R14 ) = D78) and L936: ( Sum R14 ) = D81 by L934 , L930 , L459;
L937: R14 is (Element of ( ( NAT ) ^omega )) by AFINSQ_1:def 7;
thus L938: thesis by L937 , L935;
end;
L939: (for B17 , B18 being Nat holds ((B17 in ( dom C33 ) & B18 in ( dom C33 ) & B17 <> B18) implies ( C33 . B17 ) misses ( C33 . B18 )))
proof
let C35 , C36 being Nat;
assume that
L940: C35 in ( dom C33 )
and
L941: C36 in ( dom C33 )
and
L942: C35 <> C36;
assume L943: ( C33 . C35 ) meets ( C33 . C36 );
L944: ( ( C33 . C35 ) /\ ( C33 . C36 ) ) <> ( {} ) by L943 , XBOOLE_0:def 7;
consider R1 being set such that L945: R1 in ( ( C33 . C35 ) /\ ( C33 . C36 ) ) by L944 , XBOOLE_0:def 1;
L946: R1 in ( C33 . C36 ) by L945 , XBOOLE_0:def 4;
L947: ( C33 . C36 ) = ( Domin_0 (D78 , C36) ) by L914 , L941;
L948: (ex R15 being (XFinSequence of ( NAT )) st (R15 = R1 & R15 is  dominated_by_0 & ( dom R15 ) = ( 2 * R12 ) & ( Sum R15 ) = C36)) by L947 , L946 , L459;
L949: R1 in ( C33 . C35 ) by L945 , XBOOLE_0:def 4;
L950: ( C33 . C35 ) = ( Domin_0 (D78 , C35) ) by L914 , L940;
L951: (ex R14 being (XFinSequence of ( NAT )) st (R14 = R1 & R14 is  dominated_by_0 & ( dom R14 ) = D78 & ( Sum R14 ) = C35)) by L950 , L949 , L459;
thus L952: thesis by L951 , L942 , L948;
end;
L953: (for R7 being Nat holds (R7 in ( dom C33 ) implies ( C33 . R7 ) is  finite))
proof
let R7 being Nat;
assume L954: R7 in ( dom C33 );
L955: ( C33 . R7 ) = ( Domin_0 (D78 , R7) ) by L954 , L914;
thus L956: thesis by L955;
end;
consider C37 being (XFinSequence of ( NAT )) such that L957: ( dom C37 ) = ( dom C33 ) and L958: (for R7 being Nat holds (R7 in ( dom C37 ) implies ( C37 . R7 ) = ( card ( C33 . R7 ) ))) and L959: ( card ( union ( rng C33 ) ) ) = ( Sum C37 ) by L953 , L939 , STIRL2_1:66;
L960: (R12 < ( dom C37 ) & ( C37 | ( R12 + 1 ) ) = C37) by L914 , L957 , NAT_1:13 , RELAT_1:69;
defpred S6[ Nat ] means ($1 < ( dom C37 ) implies ( Sum ( C37 | ( $1 + 1 ) ) ) = ( D78 choose $1 ));
L961: S6[ ( 0 ) ]
proof
L962: ( 0 ) in ( R12 + 1 ) by NAT_1:44;
L963: ( C33 . ( 0 ) ) = ( Domin_0 (D78 , ( 0 )) ) by L962 , L914;
L964: ( card ( C33 . ( 0 ) ) ) = 1 by L963 , L537;
L965: ( 0 ) in 1 by NAT_1:44;
assume L966: ( 0 ) < ( dom C37 );
L967: 1 <= ( len C37 ) by L966 , NAT_1:14;
L968: 1 c= ( dom C37 ) by L967 , NAT_1:39;
L969: ( len ( C37 | 1 ) ) = 1 by L968 , RELAT_1:62;
L970: ( dom ( C37 | 1 ) ) = 1 by L968 , RELAT_1:62;
L971: ( ( C37 | 1 ) . ( 0 ) ) = ( C37 . ( 0 ) ) by L970 , L965 , FUNCT_1:47;
L972: ( C37 | 1 ) = <% ( C37 . ( 0 ) ) %> by L971 , L969 , AFINSQ_1:34;
L973: ( 0 ) in ( len C37 ) by L966 , NAT_1:44;
L974: ( C37 . ( 0 ) ) = ( card ( C33 . ( 0 ) ) ) by L973 , L958;
L975: ( Sum ( C37 | 1 ) ) = 1 by L974 , L972 , L964 , AFINSQ_2:53;
thus L976: thesis by L975 , NEWTON:19;
end;
L977: (for R7 being Nat holds (S6[ R7 ] implies S6[ ( R7 + 1 ) ]))
proof
let R7 being Nat;
assume that
L978: S6[ R7 ];
set D82 = ( R7 + 1 );
assume L979: ( R7 + 1 ) < ( dom C37 );
L980: D82 in ( dom C37 ) by L979 , NAT_1:44;
L981: (( ( Sum ( C37 | D82 ) ) + ( C37 . D82 ) ) = ( Sum ( C37 | ( D82 + 1 ) ) ) & ( C37 . D82 ) = ( card ( C33 . D82 ) )) by L980 , L958 , AFINSQ_2:65;
L982: D82 <= R12 by L914 , L957 , L979 , NAT_1:13;
L983: ( 2 * D82 ) <= D78 by L982 , XREAL_1:64;
L984: ( C33 . D82 ) = ( Domin_0 (D78 , D82) ) by L914 , L957 , L980;
L985: ( Sum ( C37 | ( D82 + 1 ) ) ) = ( ( D78 choose R7 ) + ( ( D78 choose D82 ) - ( D78 choose R7 ) ) ) by L984 , L978 , L979 , L981 , L983 , L857 , NAT_1:13;
thus L986: thesis by L985;
end;
L987: (for R7 being Nat holds S6[ R7 ]) from NAT_1:sch 2(L961 , L977);
L988: ( Sum C37 ) = ( D78 choose R12 ) by L987 , L960;
thus L989: thesis by L988 , L959 , L915 , L928 , XBOOLE_0:def 10;
end;
theorem
L990: (for R12 being Nat holds (for R11 being Nat holds (for R9 being Nat holds (for R8 being Nat holds (for R10 being Nat holds ((R8 = ( R12 - ( 2 * ( R9 + 1 ) ) ) & R10 = ( R11 - ( R9 + 1 ) )) implies ( card { R19 where R19 is (Element of ( ( NAT ) ^omega )) : (R19 in ( Domin_0 (R12 , R11) ) & ( 2 * ( R9 + 1 ) ) = ( min* { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } )) } ) = ( ( card ( Domin_0 (( 2 * R9 ) , R9) ) ) * ( card ( Domin_0 (R8 , R10) ) ) )))))))
proof
set D83 = ( 1 --> 1 );
set D84 = ( 1 --> ( 0 ) );
let R12 being Nat;
let R11 being Nat;
let R9 being Nat;
let R8 being Nat;
let R10 being Nat;
assume that
L991: (R8 = ( R12 - ( 2 * ( R9 + 1 ) ) ) & R10 = ( R11 - ( R9 + 1 ) ));
defpred S7[ set , set ] means (ex B19 , B20 being (XFinSequence of ( NAT )) st ($1 = ( ( ( D84 ^ B19 ) ^ D83 ) ^ B20 ) & ( len ( ( D84 ^ B19 ) ^ D83 ) ) = ( 2 * ( R9 + 1 ) ) & $2 = [ B19 , B20 ]));
set D85 = ( Domin_0 (R8 , R10) );
set D86 = ( Domin_0 (( 2 * R9 ) , R9) );
set D87 = { R19 where R19 is (Element of ( ( NAT ) ^omega )) : (R19 in ( Domin_0 (R12 , R11) ) & ( 2 * ( R9 + 1 ) ) = ( min* { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } )) };
set D88 = ( 2 * ( R9 + 1 ) );
L992: (for R1 being set holds (R1 in D87 implies (ex R4 being set st (R4 in [: D86 , D85 :] & S7[ R1 , R4 ]))))
proof
L993: (( dom D84 ) = 1 & ( Sum D84 ) = ( ( 0 ) * 1 )) by AFINSQ_2:58 , FUNCOP_1:13;
let R1 being set;
assume L994: R1 in D87;
consider R19 being (Element of ( ( NAT ) ^omega )) such that L995: (R19 = R1 & R19 in ( Domin_0 (R12 , R11) ) & D88 = ( min* { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } )) by L994;
L996: D88 > ( 2 * ( 0 ) ) by XREAL_1:68;
reconsider D89 = { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } as non  empty (Subset of ( NAT )) by L996 , L995 , NAT_1:def 1;
consider C38 being (XFinSequence of ( NAT )) such that L997: R19 = ( ( R19 | D88 ) ^ C38 ) by L2;
L998: (D88 > ( 2 * ( 0 ) ) & R19 is  dominated_by_0) by L995 , L482 , XREAL_1:68;
consider C39 being (XFinSequence of ( NAT )) such that L999: ( R19 | D88 ) = ( ( D84 ^ C39 ) ^ D83 ) and L1000: C39 is  dominated_by_0 by L998 , L995 , L228;
L1001: ( Sum D83 ) = ( 1 * 1 ) by AFINSQ_2:58;
L1002: D88 in D89 by L995 , NAT_1:def 1;
L1003: (ex B21 being (Element of ( NAT )) st (B21 = D88 & ( 2 * ( Sum ( R19 | B21 ) ) ) = B21 & B21 > ( 0 ))) by L1002;
L1004: ( R9 + 1 ) = ( ( Sum ( D84 ^ C39 ) ) + ( Sum D83 ) ) by L1003 , L999 , AFINSQ_2:55;
L1005: R9 = ( ( Sum D84 ) + ( Sum C39 ) ) by L1004 , L1001 , AFINSQ_2:55;
L1006: R19 is  dominated_by_0 by L995 , L482;
L1007: C38 is  dominated_by_0 by L1006 , L997 , L1003 , L189;
L1008: R19 is  dominated_by_0 by L995 , L482;
L1009: ( len ( R19 | D88 ) ) = D88 by L1008 , L1003 , L178;
L1010: ( Sum R19 ) = R11 by L995 , L482;
L1011: R11 = ( ( R9 + 1 ) + ( Sum C38 ) ) by L1010 , L997 , L1003 , AFINSQ_2:55;
take [ C39 , C38 ];
L1012: ( dom D83 ) = 1 by FUNCOP_1:13;
L1013: ( dom R19 ) = R12 by L995 , L482;
L1014: R12 = ( D88 + ( len C38 ) ) by L1013 , L997 , L1009 , AFINSQ_1:def 3;
L1015: C38 in D85 by L1014 , L991 , L1011 , L1007 , L482;
L1016: D88 = ( ( len ( D84 ^ C39 ) ) + ( len D83 ) ) by L999 , L1009 , AFINSQ_1:17;
L1017: ( ( 2 * R9 ) + 1 ) = ( ( len D84 ) + ( len C39 ) ) by L1016 , L1012 , AFINSQ_1:17;
L1018: C39 in D86 by L1017 , L1000 , L1005 , L993 , L482;
thus L1019: thesis by L1018 , L995 , L997 , L999 , L1009 , L1015 , ZFMISC_1:def 2;
end;
consider C40 being (Function of D87 , [: D86 , D85 :]) such that L1020: (for R1 being set holds (R1 in D87 implies S7[ R1 , ( C40 . R1 ) ])) from FUNCT_2:sch 1(L992);
L1021: ([: D86 , D85 :] = ( {} ) implies D87 = ( {} ))
proof
assume L1022: [: D86 , D85 :] = ( {} );
L1023: (D86 = ( {} ) or D85 = ( {} )) by L1022;
L1024: ( 2 * R10 ) > R8 by L1023 , L498;
L1025: ( ( 2 * R11 ) - ( 2 * ( R9 + 1 ) ) ) > ( R12 - ( 2 * ( R9 + 1 ) ) ) by L1024 , L991;
L1026: ( 2 * R11 ) > R12 by L1025 , XREAL_1:9;
assume L1027: D87 <> ( {} );
consider R1 being set such that L1028: R1 in D87 by L1027 , XBOOLE_0:def 1;
L1029: (ex R19 being (Element of ( ( NAT ) ^omega )) st (R19 = R1 & R19 in ( Domin_0 (R12 , R11) ) & D88 = ( min* { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } ))) by L1028;
thus L1030: thesis by L1029 , L1026 , L498;
end;
L1031: ( dom C40 ) = D87 by L1021 , FUNCT_2:def 1;
L1032: ( rng C40 ) = [: D86 , D85 :]
proof
L1033: (( Sum D84 ) = ( 1 * ( 0 ) ) & ( Sum D83 ) = ( 1 * 1 )) by AFINSQ_2:58;
thus L1034: ( rng C40 ) c= [: D86 , D85 :];
L1035: ( dom D84 ) = 1 by FUNCOP_1:13;
let R1 being set;
assume L1036: R1 in [: D86 , D85 :];
consider R2 being set, R3 being set such that L1037: R2 in D86 and L1038: R3 in D85 and L1039: R1 = [ R2 , R3 ] by L1036 , ZFMISC_1:def 2;
consider R14 being (XFinSequence of ( NAT )) such that L1040: R14 = R2 and L1041: R14 is  dominated_by_0 and L1042: ( dom R14 ) = ( 2 * R9 ) and L1043: ( Sum R14 ) = R9 by L1037 , L459;
consider R15 being (XFinSequence of ( NAT )) such that L1044: R15 = R3 and L1045: R15 is  dominated_by_0 and L1046: ( dom R15 ) = R8 and L1047: ( Sum R15 ) = R10 by L1038 , L459;
set D90 = ( ( D84 ^ R14 ) ^ D83 );
L1048: ( dom ( D90 ^ R15 ) ) = ( ( len D90 ) + ( len R15 ) ) by AFINSQ_1:def 3;
L1049: (( dom D90 ) = ( ( len ( D84 ^ R14 ) ) + ( len D83 ) ) & ( dom D83 ) = 1) by AFINSQ_1:def 3 , FUNCOP_1:13;
L1050: ( dom D90 ) = ( ( ( len D84 ) + ( len R14 ) ) + 1 ) by L1049 , AFINSQ_1:17;
L1051: ( ( D90 ^ R15 ) | ( ( 2 * 1 ) + ( len R14 ) ) ) = D90 by L1050 , L1035 , AFINSQ_1:57;
L1052: ( min* { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( ( D90 ^ R15 ) | R13 ) ) ) = R13 & R13 > ( 0 )) } ) = ( ( 2 * 1 ) + ( len R14 ) ) by L1051 , L1041 , L1042 , L1043 , L334;
L1053: 1 <= ( ( 1 + ( len R14 ) ) - ( 2 * ( Sum R14 ) ) ) by L1042 , L1043;
L1054: D90 is  dominated_by_0 by L1053 , L1041 , L168;
L1055: ( D90 ^ R15 ) is  dominated_by_0 by L1054 , L1045 , L110;
L1056: ( D90 ^ R15 ) is (Element of ( ( NAT ) ^omega )) by AFINSQ_1:def 7;
L1057: D90 = ( D84 ^ ( R14 ^ D83 ) ) by AFINSQ_1:27;
L1058: ( Sum D90 ) = ( ( Sum D84 ) + ( Sum ( R14 ^ D83 ) ) ) by L1057 , AFINSQ_2:55;
L1059: ( Sum D90 ) = ( ( 0 ) + ( ( Sum R14 ) + 1 ) ) by L1058 , L1033 , AFINSQ_2:55;
L1060: ( Sum ( D90 ^ R15 ) ) = ( ( R9 + 1 ) + R10 ) by L1059 , L1043 , L1047 , AFINSQ_2:55;
L1061: ( D90 ^ R15 ) in ( Domin_0 (R12 , R11) ) by L1060 , L991 , L1042 , L1046 , L1055 , L1050 , L1035 , L1048 , L482;
L1062: ( D90 ^ R15 ) in D87 by L1061 , L1042 , L1052 , L1056;
consider C41 , C42 being (XFinSequence of ( NAT )) such that L1063: ( D90 ^ R15 ) = ( ( ( D84 ^ C41 ) ^ D83 ) ^ C42 ) and L1064: ( len ( ( D84 ^ C41 ) ^ D83 ) ) = D88 and L1065: ( C40 . ( D90 ^ R15 ) ) = [ C41 , C42 ] by L1062 , L1020;
L1066: ( ( D90 ^ R15 ) | D88 ) = D90 by L1042 , L1050 , L1035 , AFINSQ_1:57;
L1067: ( D84 ^ R14 ) = ( D84 ^ C41 ) by L1066 , L1063 , L1064 , AFINSQ_1:28 , AFINSQ_1:57;
L1068: R14 = C41 by L1067 , AFINSQ_1:28;
L1069: ( ( ( ( D84 ^ C41 ) ^ D83 ) ^ C42 ) | D88 ) = ( ( D84 ^ C41 ) ^ D83 ) by L1064 , AFINSQ_1:57;
L1070: R15 = C42 by L1069 , L1063 , L1066 , AFINSQ_1:28;
thus L1071: thesis by L1070 , L1031 , L1039 , L1040 , L1044 , L1062 , L1065 , L1068 , FUNCT_1:3;
end;
L1072: (for R1 being set holds (for R4 being set holds ((R1 in D87 & R4 in D87 & ( C40 . R1 ) = ( C40 . R4 )) implies R1 = R4)))
proof
let R1 being set;
let R4 being set;
assume that
L1073: R1 in D87
and
L1074: R4 in D87
and
L1075: ( C40 . R1 ) = ( C40 . R4 );
consider C43 , C44 being (XFinSequence of ( NAT )) such that L1076: R4 = ( ( ( D84 ^ C43 ) ^ D83 ) ^ C44 ) and L1077: ( len ( ( D84 ^ C43 ) ^ D83 ) ) = D88 and L1078: ( C40 . R4 ) = [ C43 , C44 ] by L1020 , L1074;
consider C45 , C46 being (XFinSequence of ( NAT )) such that L1079: R1 = ( ( ( D84 ^ C45 ) ^ D83 ) ^ C46 ) and L1080: ( len ( ( D84 ^ C45 ) ^ D83 ) ) = D88 and L1081: ( C40 . R1 ) = [ C45 , C46 ] by L1020 , L1073;
L1082: C45 = C43 by L1075 , L1081 , L1078 , XTUPLE_0:1;
thus L1083: thesis by L1082 , L1075 , L1079 , L1081 , L1076 , L1078 , XTUPLE_0:1;
end;
L1084: C40 is  one-to-one by L1072 , L1021 , FUNCT_2:19;
L1085: D87 , [: D86 , D85 :] are_equipotent  by L1084 , L1031 , L1032 , WELLORD2:def 4;
L1086: ( card D87 ) = ( card [: D86 , D85 :] ) by L1085 , CARD_1:5;
thus L1087: thesis by L1086 , CARD_2:46;
end;
theorem
L1088: (for R12 being Nat holds (for R11 being Nat holds (( 2 * R11 ) <= R12 implies (ex B22 being (XFinSequence of ( NAT )) st (( card { R19 where R19 is (Element of ( ( NAT ) ^omega )) : (R19 in ( Domin_0 (R12 , R11) ) & { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } <> ( {} )) } ) = ( Sum B22 ) & ( dom B22 ) = R11 & (for R8 being Nat holds (R8 < R11 implies ( B22 . R8 ) = ( ( card ( Domin_0 (( 2 * R8 ) , R8) ) ) * ( card ( Domin_0 (( R12 -' ( 2 * ( R8 + 1 ) ) ) , ( R11 -' ( R8 + 1 ) )) ) ) ))))))))
proof
let R12 being Nat;
let R11 being Nat;
assume that
L1089: ( 2 * R11 ) <= R12;
set D91 = ( Domin_0 (R12 , R11) );
defpred S8[ set , set ] means (for R8 being Nat holds (R8 = $1 implies $2 = { R19 where R19 is (Element of ( ( NAT ) ^omega )) : (R19 in ( Domin_0 (R12 , R11) ) & ( 2 * ( R8 + 1 ) ) = ( min* { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } )) }));
set D92 = { R19 where R19 is (Element of ( ( NAT ) ^omega )) : (R19 in ( Domin_0 (R12 , R11) ) & { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } <> ( {} )) };
L1090: (for R9 being Nat holds (R9 in R11 implies (ex B23 being (Element of ( bool D91 )) st S8[ R9 , B23 ])))
proof
let R9 being Nat;
assume that
L1091: R9 in R11;
set D93 = { R19 where R19 is (Element of ( ( NAT ) ^omega )) : (R19 in ( Domin_0 (R12 , R11) ) & ( 2 * ( R9 + 1 ) ) = ( min* { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } )) };
L1092: D93 c= D91
proof
let R1 being set;
assume L1093: R1 in D93;
L1094: (ex R19 being (Element of ( ( NAT ) ^omega )) st (R1 = R19 & R19 in D91 & ( 2 * ( R9 + 1 ) ) = ( min* { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } ))) by L1093;
thus L1095: thesis by L1094;
end;
reconsider D94 = D93 as (Element of ( bool D91 )) by L1092;
take D94;
thus L1096: thesis;
end;
consider C47 being (XFinSequence of ( bool D91 )) such that L1097: (( dom C47 ) = R11 & (for R9 being Nat holds (R9 in R11 implies S8[ R9 , ( C47 . R9 ) ]))) from STIRL2_1:sch 5(L1090);
L1098: D92 c= ( union ( rng C47 ) )
proof
let R1 being set;
assume L1099: R1 in D92;
consider R19 being (Element of ( ( NAT ) ^omega )) such that L1100: (R1 = R19 & R19 in ( Domin_0 (R12 , R11) ) & { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } <> ( {} )) by L1099;
set D95 = { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) };
L1101: D95 c= ( NAT )
proof
let R4 being set;
assume L1102: R4 in D95;
L1103: (ex B24 being (Element of ( NAT )) st (B24 = R4 & ( 2 * ( Sum ( R19 | B24 ) ) ) = B24 & B24 > ( 0 ))) by L1102;
thus L1104: thesis by L1103;
end;
reconsider D96 = D95 as non  empty (Subset of ( NAT )) by L1101 , L1100;
L1105: ( min* D96 ) in D96 by NAT_1:def 1;
consider C48 being (Element of ( NAT )) such that L1106: ( min* D96 ) = C48 and L1107: ( 2 * ( Sum ( R19 | C48 ) ) ) = C48 and L1108: C48 > ( 0 ) by L1105;
L1109: ( Sum ( R19 | C48 ) ) > ( 0 ) by L1107 , L1108;
reconsider D97 = ( ( Sum ( R19 | C48 ) ) - 1 ) as Nat by L1109 , NAT_1:20;
consider R15 being (XFinSequence of ( NAT )) such that L1110: R19 = ( ( R19 | C48 ) ^ R15 ) by L2;
L1111: ( Sum R19 ) = ( ( Sum ( R19 | C48 ) ) + ( Sum R15 ) ) by L1110 , AFINSQ_2:55;
L1112: R11 = ( ( Sum ( R19 | C48 ) ) + ( Sum R15 ) ) by L1111 , L1100 , L482;
L1113: R11 >= ( Sum ( R19 | C48 ) ) by L1112 , NAT_1:11;
L1114: ( D97 + 1 ) > D97 by NAT_1:13;
L1115: R11 > D97 by L1114 , L1113 , XXREAL_0:2;
L1116: D97 in R11 by L1115 , NAT_1:44;
L1117: ( C47 . D97 ) = { R20 where R20 is (Element of ( ( NAT ) ^omega )) : (R20 in ( Domin_0 (R12 , R11) ) & ( 2 * ( D97 + 1 ) ) = ( min* { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R20 | R13 ) ) ) = R13 & R13 > ( 0 )) } )) } by L1116 , L1097;
L1118: R19 in ( C47 . D97 ) by L1117 , L1100 , L1106 , L1107;
L1119: ( C47 . D97 ) in ( rng C47 ) by L1097 , L1116 , FUNCT_1:3;
thus L1120: thesis by L1119 , L1100 , L1118 , TARSKI:def 4;
end;
L1121: (for R7 being Nat holds (for R8 being Nat holds ((R7 in ( dom C47 ) & R8 in ( dom C47 ) & R7 <> R8) implies ( C47 . R7 ) misses ( C47 . R8 ))))
proof
let R7 being Nat;
let R8 being Nat;
assume that
L1122: R7 in ( dom C47 )
and
L1123: R8 in ( dom C47 )
and
L1124: R7 <> R8;
assume L1125: ( C47 . R7 ) meets ( C47 . R8 );
L1126: ( ( C47 . R7 ) /\ ( C47 . R8 ) ) <> ( {} ) by L1125 , XBOOLE_0:def 7;
consider R1 being set such that L1127: R1 in ( ( C47 . R7 ) /\ ( C47 . R8 ) ) by L1126 , XBOOLE_0:def 1;
L1128: R1 in ( C47 . R8 ) by L1127 , XBOOLE_0:def 4;
L1129: ( C47 . R8 ) = { R20 where R20 is (Element of ( ( NAT ) ^omega )) : (R20 in ( Domin_0 (R12 , R11) ) & ( 2 * ( R8 + 1 ) ) = ( min* { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R20 | R13 ) ) ) = R13 & R13 > ( 0 )) } )) } by L1097 , L1123;
L1130: (ex R20 being (Element of ( ( NAT ) ^omega )) st (R1 = R20 & R20 in ( Domin_0 (R12 , R11) ) & ( 2 * ( R8 + 1 ) ) = ( min* { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R20 | R13 ) ) ) = R13 & R13 > ( 0 )) } ))) by L1129 , L1128;
L1131: R1 in ( C47 . R7 ) by L1127 , XBOOLE_0:def 4;
L1132: ( C47 . R7 ) = { R19 where R19 is (Element of ( ( NAT ) ^omega )) : (R19 in ( Domin_0 (R12 , R11) ) & ( 2 * ( R7 + 1 ) ) = ( min* { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } )) } by L1097 , L1122;
L1133: (ex R19 being (Element of ( ( NAT ) ^omega )) st (R1 = R19 & R19 in ( Domin_0 (R12 , R11) ) & ( 2 * ( R7 + 1 ) ) = ( min* { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } ))) by L1132 , L1131;
thus L1134: thesis by L1133 , L1124 , L1130;
end;
L1135: (for R9 being Nat holds (R9 in ( dom C47 ) implies ( C47 . R9 ) is  finite))
proof
let R9 being Nat;
assume L1136: R9 in ( dom C47 );
L1137: ( C47 . R9 ) in ( rng C47 ) by L1136 , FUNCT_1:3;
thus L1138: thesis by L1137;
end;
consider C49 being (XFinSequence of ( NAT )) such that L1139: ( dom C49 ) = ( dom C47 ) and L1140: (for R7 being Nat holds (R7 in ( dom C49 ) implies ( C49 . R7 ) = ( card ( C47 . R7 ) ))) and L1141: ( card ( union ( rng C47 ) ) ) = ( Sum C49 ) by L1135 , L1121 , STIRL2_1:66;
take C49;
L1142: ( union ( rng C47 ) ) c= D92
proof
let R1 being set;
assume L1143: R1 in ( union ( rng C47 ) );
consider R4 being set such that L1144: R1 in R4 and L1145: R4 in ( rng C47 ) by L1143 , TARSKI:def 4;
consider C50 being set such that L1146: C50 in ( dom C47 ) and L1147: ( C47 . C50 ) = R4 by L1145 , FUNCT_1:def 3;
reconsider D98 = C50 as (Element of ( NAT )) by L1146;
L1148: R4 = { R19 where R19 is (Element of ( ( NAT ) ^omega )) : (R19 in ( Domin_0 (R12 , R11) ) & ( 2 * ( D98 + 1 ) ) = ( min* { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } )) } by L1097 , L1146 , L1147;
consider R19 being (Element of ( ( NAT ) ^omega )) such that L1149: (R1 = R19 & R19 in ( Domin_0 (R12 , R11) ) & ( 2 * ( D98 + 1 ) ) = ( min* { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } )) by L1148 , L1144;
L1150: ( 2 * ( D98 + 1 ) ) <> ( 0 );
L1151: { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } <> ( {} ) by L1150 , L1149 , NAT_1:def 1;
thus L1152: thesis by L1151 , L1149;
end;
thus L1153: (( card D92 ) = ( Sum C49 ) & ( dom C49 ) = R11) by L1142 , L1097 , L1139 , L1141 , L1098 , XBOOLE_0:def 10;
let R8 being Nat;
assume that
L1154: R8 < R11;
L1155: R11 >= ( R8 + 1 ) by L1154 , NAT_1:13;
L1156: ( R11 -' ( R8 + 1 ) ) = ( R11 - ( R8 + 1 ) ) by L1155 , XREAL_1:233;
set D99 = { R19 where R19 is (Element of ( ( NAT ) ^omega )) : (R19 in ( Domin_0 (R12 , R11) ) & ( 2 * ( R8 + 1 ) ) = ( min* { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } )) };
L1157: R8 in ( dom C47 ) by L1097 , L1154 , NAT_1:44;
L1158: ( C47 . R8 ) = D99 by L1157 , L1097;
L1159: ( 2 * ( R8 + 1 ) ) <= ( 2 * R11 ) by L1155 , XREAL_1:64;
L1160: ( R12 -' ( 2 * ( R8 + 1 ) ) ) = ( R12 - ( 2 * ( R8 + 1 ) ) ) by L1159 , L1089 , XREAL_1:233 , XXREAL_0:2;
L1161: ( C49 . R8 ) = ( card ( C47 . R8 ) ) by L1139 , L1140 , L1157;
thus L1162: thesis by L1161 , L1160 , L1156 , L1158 , L990;
end;
theorem
L1163: (for R12 being Nat holds (R12 > ( 0 ) implies ( Domin_0 (( 2 * R12 ) , R12) ) = { R19 where R19 is (Element of ( ( NAT ) ^omega )) : (R19 in ( Domin_0 (( 2 * R12 ) , R12) ) & { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } <> ( {} )) }))
proof
let R12 being Nat;
assume that
L1164: R12 > ( 0 );
set D100 = { R19 where R19 is (Element of ( ( NAT ) ^omega )) : (R19 in ( Domin_0 (( 2 * R12 ) , R12) ) & { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } <> ( {} )) };
thus L1165: ( Domin_0 (( 2 * R12 ) , R12) ) c= D100
proof
L1166: ( R12 + R12 ) > ( ( 0 ) + ( 0 ) ) by L1164;
let R1 being set;
assume that
L1167: R1 in ( Domin_0 (( 2 * R12 ) , R12) );
consider R14 being (XFinSequence of ( NAT )) such that L1168: R1 = R14 and L1169: R14 is  dominated_by_0 and L1170: (( dom R14 ) = ( 2 * R12 ) & ( Sum R14 ) = R12) by L1167 , L459;
L1171: R14 in ( ( NAT ) ^omega ) by AFINSQ_1:def 7;
L1172: ( 2 * ( Sum ( R14 | ( 2 * R12 ) ) ) ) = ( 2 * R12 ) by L1170 , RELAT_1:69;
L1173: ( 2 * R12 ) in { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R14 | R13 ) ) ) = R13 & R13 > ( 0 )) } by L1172 , L1166;
thus L1174: thesis by L1173 , L1167 , L1168 , L1171;
end;

thus L1175: D100 c= ( Domin_0 (( 2 * R12 ) , R12) )
proof
let R1 being set;
assume L1176: R1 in D100;
L1177: (ex R19 being (Element of ( ( NAT ) ^omega )) st (R1 = R19 & R19 in ( Domin_0 (( 2 * R12 ) , R12) ) & { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } <> ( {} ))) by L1176;
thus L1178: thesis by L1177;
end;

end;
theorem
L1176: (for R12 being Nat holds (R12 > ( 0 ) implies (ex B25 being (XFinSequence of ( NAT )) st (( Sum B25 ) = ( Catalan ( R12 + 1 ) ) & ( dom B25 ) = R12 & (for R8 being Nat holds (R8 < R12 implies ( B25 . R8 ) = ( ( Catalan ( R8 + 1 ) ) * ( Catalan ( R12 -' R8 ) ) )))))))
proof
let R12 being Nat;
assume that
L1177: R12 > ( 0 );
consider C51 being (XFinSequence of ( NAT )) such that L1178: ( card { R19 where R19 is (Element of ( ( NAT ) ^omega )) : (R19 in ( Domin_0 (( 2 * R12 ) , R12) ) & { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } <> ( {} )) } ) = ( Sum C51 ) and L1179: ( dom C51 ) = R12 and L1180: (for R8 being Nat holds (R8 < R12 implies ( C51 . R8 ) = ( ( card ( Domin_0 (( 2 * R8 ) , R8) ) ) * ( card ( Domin_0 (( ( 2 * R12 ) -' ( 2 * ( R8 + 1 ) ) ) , ( R12 -' ( R8 + 1 ) )) ) ) ))) by L1088;
take C51;
L1181: ( Sum C51 ) = ( card ( Domin_0 (( 2 * R12 ) , R12) ) ) by L1177 , L1178 , L1163;
thus L1182: (( Sum C51 ) = ( Catalan ( R12 + 1 ) ) & ( dom C51 ) = R12) by L1181 , L1179 , L899;
let R8 being Nat;
assume that
L1183: R8 < R12;
L1184: ( R12 - R8 ) > ( R8 - R8 ) by L1183 , XREAL_1:9;
L1185: ( R12 -' R8 ) > ( 0 ) by L1184 , L1183 , XREAL_1:233;
reconsider D101 = ( ( R12 -' R8 ) - 1 ) as (Element of ( NAT )) by L1185 , NAT_1:20;
L1186: ( R8 + 1 ) <= R12 by L1183 , NAT_1:13;
L1187: (( ( 2 * R12 ) -' ( 2 * ( R8 + 1 ) ) ) = ( ( 2 * R12 ) - ( 2 * ( R8 + 1 ) ) ) & ( R12 -' ( R8 + 1 ) ) = ( R12 - ( R8 + 1 ) )) by L1186 , XREAL_1:64 , XREAL_1:233;
L1188: ( card ( Domin_0 (( 2 * R8 ) , R8) ) ) = ( Catalan ( R8 + 1 ) ) by L899;
L1189: ( R12 - R8 ) = ( R12 -' R8 ) by L1183 , XREAL_1:233;
L1190: ( card ( Domin_0 (( ( 2 * R12 ) -' ( 2 * ( R8 + 1 ) ) ) , ( R12 -' ( R8 + 1 ) )) ) ) = ( card ( Domin_0 (( 2 * D101 ) , D101) ) ) by L1189 , L1187
.= ( Catalan ( D101 + 1 ) ) by L899;
thus L1191: thesis by L1190 , L1180 , L1183 , L1188;
end;
theorem
L1192: (for R11 being Nat holds (for R12 being Nat holds ( card { R19 where R19 is (Element of ( ( NAT ) ^omega )) : (R19 in ( Domin_0 (( R12 + 1 ) , R11) ) & { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } = ( {} )) } ) = ( card ( Domin_0 (R12 , R11) ) )))
proof
let R11 being Nat;
let R12 being Nat;
defpred S9[ set , set ] means (ex R14 being (XFinSequence of ( NAT )) st ($1 = ( <% ( 0 ) %> ^ R14 ) & $2 = R14));
set D102 = { R19 where R19 is (Element of ( ( NAT ) ^omega )) : (R19 in ( Domin_0 (( R12 + 1 ) , R11) ) & { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } = ( {} )) };
set D103 = ( Domin_0 (R12 , R11) );
L1193: (for R1 being set holds (R1 in D102 implies (ex R4 being set st (R4 in D103 & S9[ R1 , R4 ]))))
proof
L1194: ( len <% ( 0 ) %> ) = 1 by AFINSQ_1:33;
let R1 being set;
L1195: ( Sum <% ( 0 ) %> ) = ( 0 ) by AFINSQ_2:53;
assume L1196: R1 in D102;
consider R19 being (Element of ( ( NAT ) ^omega )) such that L1197: (R1 = R19 & R19 in ( Domin_0 (( R12 + 1 ) , R11) ) & { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } = ( {} )) by L1196;
L1198: ( len R19 ) = ( dom R19 );
L1199: (R19 is  dominated_by_0 & ( dom R19 ) = ( R12 + 1 )) by L1197 , L482;
consider R15 being (XFinSequence of ( NAT )) such that L1200: R19 = ( <% ( 0 ) %> ^ R15 ) and L1201: R15 is  dominated_by_0 by L1199 , L1197 , L1198 , L400;
L1202: ( dom R19 ) = ( ( len <% ( 0 ) %> ) + ( len R15 ) ) by L1200 , AFINSQ_1:def 3;
L1203: ( R12 + 1 ) = ( ( len R15 ) + 1 ) by L1202 , L1197 , L1194 , L482;
take R15;
L1204: ( Sum R19 ) = ( ( Sum <% ( 0 ) %> ) + ( Sum R15 ) ) by L1200 , AFINSQ_2:55;
L1205: ( Sum R15 ) = R11 by L1204 , L1197 , L1195 , L482;
thus L1206: thesis by L1205 , L1197 , L1200 , L1201 , L1203 , L482;
end;
consider C52 being (Function of D102 , D103) such that L1207: (for R1 being set holds (R1 in D102 implies S9[ R1 , ( C52 . R1 ) ])) from FUNCT_2:sch 1(L1193);
L1208: (D103 = ( {} ) implies D102 = ( {} ))
proof
assume L1209: D103 = ( {} );
L1210: ( 2 * R11 ) > R12 by L1209 , L498;
L1211: ( 2 * R11 ) >= ( R12 + 1 ) by L1210 , NAT_1:13;
assume L1212: D102 <> ( {} );
consider R1 being set such that L1213: R1 in D102 by L1212 , XBOOLE_0:def 1;
consider R19 being (Element of ( ( NAT ) ^omega )) such that L1214: (R1 = R19 & R19 in ( Domin_0 (( R12 + 1 ) , R11) ) & { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } = ( {} )) by L1213;
L1215: ( dom R19 ) = ( R12 + 1 ) by L1214 , L482;
L1216: ( R19 | ( R12 + 1 ) ) = R19 by L1215 , RELAT_1:69;
L1217: ( Sum ( R19 | ( R12 + 1 ) ) ) = R11 by L1216 , L1214 , L482;
L1218: R19 is  dominated_by_0 by L1214 , L482;
L1219: ( 2 * R11 ) <= ( R12 + 1 ) by L1218 , L1217 , L10;
L1220: ( 2 * ( Sum ( R19 | ( R12 + 1 ) ) ) ) = ( R12 + 1 ) by L1219 , L1217 , L1211 , XXREAL_0:1;
L1221: ( R12 + 1 ) in { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } by L1220;
thus L1222: thesis by L1221 , L1214;
end;
L1223: ( dom C52 ) = D102 by L1208 , FUNCT_2:def 1;
L1224: ( rng C52 ) = D103
proof
thus L1225: ( rng C52 ) c= D103;
let R1 being set;
assume L1226: R1 in D103;
consider R14 being (XFinSequence of ( NAT )) such that L1227: R14 = R1 and L1228: R14 is  dominated_by_0 and L1229: ( dom R14 ) = R12 and L1230: ( Sum R14 ) = R11 by L1226 , L459;
set D104 = ( <% ( 0 ) %> ^ R14 );
L1231: { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( D104 | R13 ) ) ) = R13 & R13 > ( 0 )) } = ( {} ) by L1228 , L427;
L1232: ( Sum D104 ) = ( ( Sum <% ( 0 ) %> ) + ( Sum R14 ) ) by AFINSQ_2:55;
L1233: ( Sum D104 ) = ( ( 0 ) + R11 ) by L1232 , L1230 , AFINSQ_2:53;
L1234: D104 in ( ( NAT ) ^omega ) by AFINSQ_1:def 7;
L1235: ( dom D104 ) = ( ( len <% ( 0 ) %> ) + ( len R14 ) ) by AFINSQ_1:def 3;
L1236: ( dom D104 ) = ( 1 + R12 ) by L1235 , L1229 , AFINSQ_1:33;
L1237: D104 is  dominated_by_0 by L1228 , L427;
L1238: D104 in ( Domin_0 (( R12 + 1 ) , R11) ) by L1237 , L1236 , L1233 , L482;
L1239: D104 in D102 by L1238 , L1231 , L1234;
consider C53 being (XFinSequence of ( NAT )) such that L1240: D104 = ( <% ( 0 ) %> ^ C53 ) and L1241: ( C52 . D104 ) = C53 by L1239 , L1207;
L1242: C53 = R14 by L1240 , AFINSQ_1:28;
thus L1243: thesis by L1242 , L1223 , L1227 , L1239 , L1241 , FUNCT_1:3;
end;
L1244: (for R1 being set holds (for R4 being set holds ((R1 in D102 & R4 in D102 & ( C52 . R1 ) = ( C52 . R4 )) implies R1 = R4)))
proof
let R1 being set;
let R4 being set;
assume that
L1245: (R1 in D102 & R4 in D102)
and
L1246: ( C52 . R1 ) = ( C52 . R4 );
L1247: ((ex R14 being (XFinSequence of ( NAT )) st (R1 = ( <% ( 0 ) %> ^ R14 ) & ( C52 . R1 ) = R14)) & (ex R15 being (XFinSequence of ( NAT )) st (R4 = ( <% ( 0 ) %> ^ R15 ) & ( C52 . R4 ) = R15))) by L1207 , L1245;
thus L1248: thesis by L1247 , L1246;
end;
L1249: C52 is  one-to-one by L1244 , L1208 , FUNCT_2:19;
L1250: D102 , D103 are_equipotent  by L1249 , L1223 , L1224 , WELLORD2:def 4;
thus L1251: thesis by L1250 , CARD_1:5;
end;
theorem
L1252: (for R12 being Nat holds (for R11 being Nat holds (( 2 * R11 ) <= R12 implies (ex B26 being (XFinSequence of ( NAT )) st (( card ( Domin_0 (R12 , R11) ) ) = ( ( Sum B26 ) + ( card ( Domin_0 (( R12 -' 1 ) , R11) ) ) ) & ( dom B26 ) = R11 & (for R8 being Nat holds (R8 < R11 implies ( B26 . R8 ) = ( ( card ( Domin_0 (( 2 * R8 ) , R8) ) ) * ( card ( Domin_0 (( R12 -' ( 2 * ( R8 + 1 ) ) ) , ( R11 -' ( R8 + 1 ) )) ) ) ))))))))
proof
let R12 being Nat;
let R11 being Nat;
assume that
L1253: ( 2 * R11 ) <= R12;
set D105 = ( Domin_0 (R12 , R11) );
set D106 = { R19 where R19 is (Element of ( ( NAT ) ^omega )) : (R19 in ( Domin_0 (R12 , R11) ) & { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } <> ( {} )) };
L1254: D106 c= D105
proof
let R1 being set;
assume L1255: R1 in D106;
L1256: (ex R19 being (Element of ( ( NAT ) ^omega )) st (R1 = R19 & R19 in ( Domin_0 (R12 , R11) ) & { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } <> ( {} ))) by L1255;
thus L1257: thesis by L1256;
end;
set D107 = { R19 where R19 is (Element of ( ( NAT ) ^omega )) : (R19 in ( Domin_0 (R12 , R11) ) & { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } = ( {} )) };
L1258: D107 c= D105
proof
let R1 being set;
assume L1259: R1 in D107;
L1260: (ex R19 being (Element of ( ( NAT ) ^omega )) st (R1 = R19 & R19 in ( Domin_0 (R12 , R11) ) & { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } = ( {} ))) by L1259;
thus L1261: thesis by L1260;
end;
reconsider D108 = D106 as  finite set by L1254;
consider C54 being (XFinSequence of ( NAT )) such that L1262: ( card D108 ) = ( Sum C54 ) and L1263: ( dom C54 ) = R11 and L1264: (for R8 being Nat holds (R8 < R11 implies ( C54 . R8 ) = ( ( card ( Domin_0 (( 2 * R8 ) , R8) ) ) * ( card ( Domin_0 (( R12 -' ( 2 * ( R8 + 1 ) ) ) , ( R11 -' ( R8 + 1 ) )) ) ) ))) by L1253 , L1088;
reconsider D109 = D107 as  finite set by L1258;
take C54;
L1265: D109 misses D108
proof
assume L1266: D109 meets D108;
consider R1 being set such that L1267: R1 in D109 and L1268: R1 in D108 by L1266 , XBOOLE_0:3;
L1269: (ex R20 being (Element of ( ( NAT ) ^omega )) st (R20 = R1 & R20 in D105 & { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R20 | R13 ) ) ) = R13 & R13 > ( 0 )) } = ( {} ))) by L1267;
L1270: (ex R19 being (Element of ( ( NAT ) ^omega )) st (R19 = R1 & R19 in D105 & { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( R19 | R13 ) ) ) = R13 & R13 > ( 0 )) } <> ( {} ))) by L1268;
thus L1271: thesis by L1270 , L1269;
end;
L1272: D105 c= ( D109 \/ D108 )
proof
let R1 being set;
assume that
L1273: R1 in D105;
consider C55 being (XFinSequence of ( NAT )) such that L1274: C55 = R1 and L1275: C55 is  dominated_by_0 and L1276: ( dom C55 ) = R12 and L1277: ( Sum C55 ) = R11 by L1273 , L459;
reconsider D110 = C55 as (Element of ( ( NAT ) ^omega )) by AFINSQ_1:def 7;
set D111 = { R13 where R13 is (Element of ( NAT )) : (( 2 * ( Sum ( D110 | R13 ) ) ) = R13 & R13 > ( 0 )) };
L1278:
now
per cases ;
suppose L1279: D111 = ( {} );

L1280: D110 in D109 by L1279 , L1273 , L1274;
thus L1281: thesis by L1280 , L1274 , XBOOLE_0:def 3;
end;
suppose L1282: D111 <> ( {} );

L1283: D110 in D108 by L1282 , L1273 , L1274;
thus L1284: thesis by L1283 , L1274 , XBOOLE_0:def 3;
end;
end;
thus L1286: thesis by L1278;
end;
L1287: ( D109 \/ D108 ) c= D105 by L1258 , L1254 , XBOOLE_1:8;
L1288: ( D109 \/ D108 ) = D105 by L1287 , L1272 , XBOOLE_0:def 10;
L1289:
now
per cases ;
suppose L1290: R12 = ( 0 );

L1291: ( 2 * R11 ) = ( 0 ) by L1290 , L1253;
L1292: C54 = ( {} ) by L1291 , L1263;
L1293: ( Sum C54 ) = ( 0 ) by L1292;
L1294: ( R12 - 1 ) < ( 1 - 1 ) by L1290;
thus L1295: ( card D105 ) = ( ( Sum C54 ) + ( card ( Domin_0 (( R12 -' 1 ) , R11) ) ) ) by L1294 , L1290 , L1293 , XREAL_0:def 2;
end;
suppose L1296: R12 > ( 0 );

reconsider D112 = ( R12 - 1 ) as (Element of ( NAT )) by L1296 , NAT_1:20;
L1297: R12 = ( D112 + 1 );
L1298: ( card D109 ) = ( card ( Domin_0 (D112 , R11) ) ) by L1297 , L1192;
L1299: D112 = ( R12 -' 1 ) by L1296 , NAT_1:14 , XREAL_1:233;
thus L1300: ( card D105 ) = ( ( Sum C54 ) + ( card ( Domin_0 (( R12 -' 1 ) , R11) ) ) ) by L1299 , L1265 , L1288 , L1262 , L1298 , CARD_2:40;
end;
end;
thus L1302: thesis by L1289 , L1263 , L1264;
end;
theorem
L1303: (for R12 being Nat holds (for R9 being Nat holds (ex R14 being (XFinSequence of ( NAT )) st (( Sum R14 ) = ( card ( Domin_0 (( ( ( 2 * R12 ) + 2 ) + R9 ) , ( R12 + 1 )) ) ) & ( dom R14 ) = ( R9 + 1 ) & (for R7 being Nat holds (R7 <= R9 implies ( R14 . R7 ) = ( card ( Domin_0 (( ( ( 2 * R12 ) + 1 ) + R7 ) , R12) ) )))))))
proof
let R12 being Nat;
let R9 being Nat;
defpred S10[ set , set ] means (for R8 being Nat holds ($1 = R8 implies $2 = ( card ( Domin_0 (( ( ( 2 * R12 ) + 1 ) + R8 ) , R12) ) )));
L1304: (for R7 being Nat holds (R7 in ( R9 + 1 ) implies (ex B27 being (Element of ( NAT )) st S10[ R7 , B27 ])))
proof
let R7 being Nat;
assume that
L1305: R7 in ( R9 + 1 );
L1306: S10[ R7 , ( card ( Domin_0 (( ( ( 2 * R12 ) + 1 ) + R7 ) , R12) ) ) ];
thus L1307: thesis by L1306;
end;
consider R14 being (XFinSequence of ( NAT )) such that L1308: ( dom R14 ) = ( R9 + 1 ) and L1309: (for B28 being Nat holds (B28 in ( R9 + 1 ) implies S10[ B28 , ( R14 . B28 ) ])) from STIRL2_1:sch 5(L1304);
take R14;
L1310: (for R7 being Nat holds (R7 <= R9 implies ( R14 . R7 ) = ( card ( Domin_0 (( ( ( 2 * R12 ) + 1 ) + R7 ) , R12) ) )))
proof
let R7 being Nat;
assume L1311: R7 <= R9;
L1312: R7 < ( R9 + 1 ) by L1311 , NAT_1:13;
L1313: R7 in ( R9 + 1 ) by L1312 , NAT_1:44;
thus L1314: thesis by L1313 , L1309;
end;
L1315:
now
per cases ;
suppose L1316: R12 = ( 0 );

L1317: (for R1 being set holds (R1 in ( dom R14 ) implies ( R14 . R1 ) = 1))
proof
let R1 being set;
assume that
L1318: R1 in ( dom R14 );
reconsider D113 = R1 as (Element of ( NAT )) by L1318;
L1319: ( R14 . D113 ) = ( card ( Domin_0 (( ( ( 2 * R12 ) + 1 ) + D113 ) , R12) ) ) by L1308 , L1309 , L1318;
thus L1320: thesis by L1319 , L1316 , L537;
end;
L1321: R14 = ( ( R9 + 1 ) --> 1 ) by L1317 , L1308 , FUNCOP_1:11;
L1322: ( Sum R14 ) = ( ( R9 + 1 ) * 1 ) by L1321 , AFINSQ_2:58;
thus L1323: ( Sum R14 ) = ( card ( Domin_0 (( ( ( 2 * R12 ) + 2 ) + R9 ) , ( R12 + 1 )) ) ) by L1322 , L1316 , L887;
end;
suppose L1324: R12 > ( 0 );

reconsider D114 = ( R12 - 1 ) as (Element of ( NAT )) by L1324 , NAT_1:20;
defpred S11[ Nat ] means (for R15 being (XFinSequence of ( NAT )) holds ((( dom R15 ) = ( $1 + 1 ) & (for R7 being Nat holds (R7 <= $1 implies ( R15 . R7 ) = ( card ( Domin_0 (( ( ( 2 * R12 ) + 1 ) + R7 ) , R12) ) )))) implies ( Sum R15 ) = ( card ( Domin_0 (( ( ( 2 * R12 ) + 2 ) + $1 ) , ( R12 + 1 )) ) )));
L1325: (for R8 being Nat holds (S11[ R8 ] implies S11[ ( R8 + 1 ) ]))
proof
let R8 being Nat;
assume that
L1326: S11[ R8 ];
set D115 = ( ( ( ( 2 * R12 ) + 2 ) + R8 ) choose ( D114 + 1 ) );
set D116 = ( ( ( ( 2 * R12 ) + 2 ) + R8 ) choose ( R12 + 1 ) );
set D117 = ( R8 + 1 );
let R15 being (XFinSequence of ( NAT ));
assume that
L1327: ( dom R15 ) = ( D117 + 1 )
and
L1328: (for R7 being Nat holds (R7 <= D117 implies ( R15 . R7 ) = ( card ( Domin_0 (( ( ( 2 * R12 ) + 1 ) + R7 ) , R12) ) )));
L1329: ( 2 * ( R12 + 1 ) ) <= ( ( 2 * ( R12 + 1 ) ) + D117 ) by NAT_1:11;
L1330: D117 <= ( D117 + 1 ) by NAT_1:11;
L1331: D117 c= ( D117 + 1 ) by L1330 , NAT_1:39;
L1332: ( dom ( R15 | D117 ) ) = D117 by L1331 , L1327 , RELAT_1:62;
L1333: (for R7 being Nat holds (R7 <= R8 implies ( ( R15 | D117 ) . R7 ) = ( card ( Domin_0 (( ( ( 2 * R12 ) + 1 ) + R7 ) , R12) ) )))
proof
let R7 being Nat;
assume L1334: R7 <= R8;
L1335: R7 < D117 by L1334 , NAT_1:13;
L1336: (R7 in ( dom ( R15 | D117 ) ) & ( R15 . R7 ) = ( card ( Domin_0 (( ( ( 2 * R12 ) + 1 ) + R7 ) , R12) ) )) by L1335 , L1328 , L1332 , NAT_1:44;
thus L1337: thesis by L1336 , FUNCT_1:47;
end;
set D118 = ( ( ( ( 2 * R12 ) + 1 ) + D117 ) choose D114 );
set D119 = ( ( ( ( 2 * R12 ) + 1 ) + D117 ) choose R12 );
L1338: (( 2 * R12 ) <= ( ( 2 * R12 ) + ( 1 + D117 ) ) & ( D114 + 1 ) = R12) by NAT_1:11;
L1339: ( R15 . D117 ) = ( card ( Domin_0 (( ( ( 2 * R12 ) + 1 ) + D117 ) , R12) ) ) by L1328;
L1340: ( R15 . D117 ) = ( D119 - D118 ) by L1339 , L1338 , L857;
L1341: D117 < ( D117 + 1 ) by NAT_1:13;
L1342: D117 in ( dom R15 ) by L1341 , L1327 , NAT_1:44;
L1343: ( Sum ( R15 | ( D117 + 1 ) ) ) = ( ( Sum ( R15 | D117 ) ) + ( R15 . D117 ) ) by L1342 , AFINSQ_2:65;
L1344: ( 2 * ( R12 + 1 ) ) <= ( ( ( 2 * R12 ) + 2 ) + R8 ) by NAT_1:11;
L1345: ( card ( Domin_0 (( ( ( 2 * R12 ) + 2 ) + R8 ) , ( R12 + 1 )) ) ) = ( D116 - D115 ) by L1344 , L857;
L1346: ( Sum ( R15 | D117 ) ) = ( D116 - D115 ) by L1345 , L1326 , L1332 , L1333;
L1347: ( ( Sum ( R15 | D117 ) ) + ( R15 . D117 ) ) = ( ( D116 + D115 ) - ( D119 + D118 ) ) by L1346 , L1340
.= ( ( ( ( ( ( 2 * R12 ) + 2 ) + R8 ) + 1 ) choose ( R12 + 1 ) ) - ( D119 + D118 ) ) by NEWTON:22
.= ( ( ( ( ( 2 * R12 ) + 2 ) + D117 ) choose ( R12 + 1 ) ) - ( ( ( ( 2 * R12 ) + 2 ) + D117 ) choose ( D114 + 1 ) ) ) by NEWTON:22
.= ( card ( Domin_0 (( ( ( 2 * R12 ) + 2 ) + D117 ) , ( R12 + 1 )) ) ) by L1329 , L857;
thus L1348: thesis by L1347 , L1327 , L1343 , RELAT_1:69;
end;
L1349: S11[ ( 0 ) ]
proof
reconsider D120 = ( ( 2 * R12 ) + 1 ) as (Element of ( NAT ));
set D121 = ( ( ( 2 * R12 ) + 2 ) choose R12 );
set D122 = ( ( ( 2 * R12 ) + 2 ) choose ( R12 + 1 ) );
set D123 = ( D120 choose ( R12 + 1 ) );
set D124 = ( D120 choose D114 );
set D125 = ( D120 choose R12 );
let R15 being (XFinSequence of ( NAT ));
assume L1350: (( dom R15 ) = ( ( 0 ) + 1 ) & (for R7 being Nat holds (R7 <= ( 0 ) implies ( R15 . R7 ) = ( card ( Domin_0 (( ( ( 2 * R12 ) + 1 ) + R7 ) , R12) ) ))));
L1351: (( R15 . ( 0 ) ) = ( card ( Domin_0 (( ( ( 2 * R12 ) + 1 ) + ( 0 ) ) , R12) ) ) & ( len R15 ) = 1) by L1350;
L1352: ( ( 2 * R12 ) + 2 ) = ( ( ( 2 * R12 ) + 1 ) + 1 );
L1353: D122 = ( D123 + D125 ) by L1352 , NEWTON:22;
L1354: ( D114 + 1 ) = R12;
L1355: D121 = ( D125 + D124 ) by L1354 , L1352 , NEWTON:22;
L1356: (R12 <= ( R12 + ( R12 + 1 ) ) & ( ( ( 2 * R12 ) + 1 ) - R12 ) = ( R12 + 1 )) by NAT_1:11;
L1357: D125 = D123 by L1356 , NEWTON:20;
L1358: ( 2 * ( R12 + 1 ) ) = ( ( 2 * R12 ) + 2 );
L1359: ( card ( Domin_0 (( ( 2 * R12 ) + 2 ) , ( R12 + 1 )) ) ) = ( D122 - D121 ) by L1358 , L857;
L1360: (( card ( Domin_0 (D120 , ( D114 + 1 )) ) ) = ( D125 - D124 ) & ( Sum <% ( R15 . ( 0 ) ) %> ) = ( R15 . ( 0 ) )) by L857 , AFINSQ_2:53 , NAT_1:11;
thus L1361: thesis by L1360 , L1353 , L1355 , L1357 , L1359 , L1351 , AFINSQ_1:34;
end;
L1362: (for R8 being Nat holds S11[ R8 ]) from NAT_1:sch 2(L1349 , L1325);
thus L1363: ( Sum R14 ) = ( card ( Domin_0 (( ( ( 2 * R12 ) + 2 ) + R9 ) , ( R12 + 1 )) ) ) by L1362 , L1308 , L1310;
end;
end;
thus L1365: thesis by L1315 , L1308 , L1310;
end;
begin
L1366: (for R28 being (XFinSequence of ( REAL )) holds ((( dom R28 ) = 1 or ( len R28 ) = 1) implies ( Sum R28 ) = ( R28 . ( 0 ) )))
proof
let R28 being (XFinSequence of ( REAL ));
assume L1367: (( dom R28 ) = 1 or ( len R28 ) = 1);
L1368: ( len R28 ) = 1 by L1367;
L1369: R28 = <% ( R28 . ( 0 ) ) %> by L1368 , AFINSQ_1:34;
thus L1370: thesis by L1369 , AFINSQ_2:53;
end;
L1371: (for R29 being (XFinSequence of ( REAL )) holds (for R30 being (XFinSequence of ( REAL )) holds ((( dom R29 ) = ( dom R30 ) & (for R12 being Nat holds (R12 in ( len R29 ) implies ( R29 . R12 ) = ( R30 . ( ( len R29 ) -' ( 1 + R12 ) ) )))) implies ( Sum R29 ) = ( Sum R30 ))))
proof
let R29 being (XFinSequence of ( REAL ));
let R30 being (XFinSequence of ( REAL ));
assume that
L1372: ( dom R29 ) = ( dom R30 )
and
L1373: (for R12 being Nat holds (R12 in ( len R29 ) implies ( R29 . R12 ) = ( R30 . ( ( len R29 ) -' ( 1 + R12 ) ) )));
defpred S12[ set , set ] means (for R7 being Nat holds (R7 = $1 implies $2 = ( ( len R29 ) -' ( 1 + R7 ) )));
L1374: ( card ( len R29 ) ) = ( card ( len R29 ) );
L1375: (for R1 being set holds (R1 in ( len R29 ) implies (ex R4 being set st (R4 in ( len R29 ) & S12[ R1 , R4 ]))))
proof
let R1 being set;
assume that
L1376: R1 in ( len R29 );
L1377: ( len R29 ) is (Subset of ( NAT )) by STIRL2_1:8;
reconsider D126 = R1 as (Element of ( NAT )) by L1377 , L1376;
L1378: D126 < ( len R29 ) by L1376 , NAT_1:44;
L1379: ( D126 + 1 ) <= ( len R29 ) by L1378 , NAT_1:13;
L1380: ( ( len R29 ) -' ( 1 + D126 ) ) = ( ( len R29 ) - ( 1 + D126 ) ) by L1379 , XREAL_1:233;
take ( ( len R29 ) -' ( 1 + D126 ) );
L1381: ( ( len R29 ) + ( 0 ) ) < ( ( len R29 ) + ( 1 + D126 ) ) by XREAL_1:8;
L1382: ( ( len R29 ) - ( 1 + D126 ) ) < ( ( ( len R29 ) + ( 1 + D126 ) ) - ( 1 + D126 ) ) by L1381 , XREAL_1:9;
thus L1383: thesis by L1382 , L1380 , NAT_1:44;
end;
consider C56 being (Function of ( len R29 ) , ( len R29 )) such that L1384: (for R1 being set holds (R1 in ( len R29 ) implies S12[ R1 , ( C56 . R1 ) ])) from FUNCT_2:sch 1(L1375);
L1385: (for R2 being set holds (for R3 being set holds ((R2 in ( len R29 ) & R3 in ( len R29 ) & ( C56 . R2 ) = ( C56 . R3 )) implies R2 = R3)))
proof
let R2 being set;
let R3 being set;
assume that
L1386: R2 in ( len R29 )
and
L1387: R3 in ( len R29 )
and
L1388: ( C56 . R2 ) = ( C56 . R3 );
L1389: ( len R29 ) is (Subset of ( NAT )) by STIRL2_1:8;
reconsider D127 = R2 , D128 = R3 as (Element of ( NAT )) by L1389 , L1386 , L1387;
L1390: D128 < ( len R29 ) by L1387 , NAT_1:44;
L1391: ( D128 + 1 ) <= ( len R29 ) by L1390 , NAT_1:13;
L1392: ( ( len R29 ) -' ( 1 + D128 ) ) = ( ( len R29 ) - ( 1 + D128 ) ) by L1391 , XREAL_1:233;
L1393: ( C56 . R3 ) = ( ( len R29 ) - ( 1 + D128 ) ) by L1392 , L1384 , L1387;
L1394: D127 < ( len R29 ) by L1386 , NAT_1:44;
L1395: ( D127 + 1 ) <= ( len R29 ) by L1394 , NAT_1:13;
L1396: ( ( len R29 ) -' ( 1 + D127 ) ) = ( ( len R29 ) - ( 1 + D127 ) ) by L1395 , XREAL_1:233;
L1397: ( C56 . R2 ) = ( ( len R29 ) - ( 1 + D127 ) ) by L1396 , L1384 , L1386;
thus L1398: thesis by L1397 , L1388 , L1393;
end;
L1399: C56 is  one-to-one by L1385 , FUNCT_2:56;
L1400: C56 is  one-to-one by L1385 , FUNCT_2:56;
L1401: C56 is  onto by L1400 , L1374 , STIRL2_1:60;
reconsider D129 = C56 as (Permutation of ( dom R29 )) by L1401 , L1399;
L1402:
now
let R1 being set;
assume that
L1403: R1 in ( dom R29 );
reconsider D130 = R1 as (Element of ( NAT )) by L1403;
L1404: ( D129 . D130 ) = ( ( len R29 ) -' ( 1 + D130 ) ) by L1384 , L1403;
thus L1405: ( R29 . R1 ) = ( R30 . ( D129 . R1 ) ) by L1404 , L1373 , L1403;
end;
L1406: (for R1 being set holds (R1 in ( dom R29 ) implies (R1 in ( dom D129 ) & ( D129 . R1 ) in ( dom R30 )))) by L1372 , FUNCT_2:52;
L1407: (for R1 being set holds ((R1 in ( dom D129 ) & ( D129 . R1 ) in ( dom R30 )) implies R1 in ( dom R29 )));
L1408: R29 = ( R30 * D129 ) by L1407 , L1406 , L1402 , FUNCT_1:10;
L1409: ( ( addreal ) "**" R29 ) = ( ( addreal ) "**" R30 ) by L1408 , L1372 , AFINSQ_2:45
.= ( Sum R30 ) by AFINSQ_2:48;
thus L1410: thesis by L1409 , AFINSQ_2:48;
end;
definition
let C57 , C58 being Real_Sequence;
func C57 (##) C58 -> Real_Sequence means 
:L1411: (for B29 being Nat holds (ex B30 being (XFinSequence of ( REAL )) st (( dom B30 ) = ( B29 + 1 ) & (for R12 being Nat holds (R12 in ( B29 + 1 ) implies ( B30 . R12 ) = ( ( C57 . R12 ) * ( C58 . ( B29 -' R12 ) ) ))) & ( Sum B30 ) = ( it . B29 ))));
existence
proof
defpred S13[ set , set ] means (for B31 being Nat holds (B31 = $1 implies (ex R28 being (XFinSequence of ( REAL )) st (( dom R28 ) = ( B31 + 1 ) & (for R12 being Nat holds (R12 in ( B31 + 1 ) implies ( R28 . R12 ) = ( ( C57 . R12 ) * ( C58 . ( B31 -' R12 ) ) ))) & ( Sum R28 ) = $2))));
L1412: (for R1 being set holds (R1 in ( NAT ) implies (ex R4 being set st (R4 in ( REAL ) & S13[ R1 , R4 ]))))
proof
let R1 being set;
assume L1413: R1 in ( NAT );
reconsider D131 = R1 as (Element of ( NAT )) by L1413;
defpred S14[ set , set ] means (for R7 being Nat holds (R7 = $1 implies $2 = ( ( C57 . R7 ) * ( C58 . ( D131 -' R7 ) ) )));
L1414: (for R7 being Nat holds (R7 in ( D131 + 1 ) implies (ex B32 being (Element of ( REAL )) st S14[ R7 , B32 ])))
proof
let R7 being Nat;
assume that
L1415: R7 in ( D131 + 1 );
take ( ( C57 . R7 ) * ( C58 . ( D131 -' R7 ) ) );
thus L1416: thesis;
end;
consider R28 being (XFinSequence of ( REAL )) such that L1417: ( dom R28 ) = ( D131 + 1 ) and L1418: (for R7 being Nat holds (R7 in ( D131 + 1 ) implies S14[ R7 , ( R28 . R7 ) ])) from STIRL2_1:sch 5(L1414);
take ( Sum R28 );
L1419: (for B33 being Nat holds (B33 in ( D131 + 1 ) implies ( R28 . B33 ) = ( ( C57 . B33 ) * ( C58 . ( D131 -' B33 ) ) ))) by L1418;
thus L1420: thesis by L1419 , L1417 , XREAL_0:def 1;
end;
consider R23 being Real_Sequence such that L1421: (for R1 being set holds (R1 in ( NAT ) implies S13[ R1 , ( R23 . R1 ) ])) from FUNCT_2:sch 1(L1412);
L1422: (for B34 being Nat holds (ex R28 being (XFinSequence of ( REAL )) st (( dom R28 ) = ( B34 + 1 ) & (for R12 being Nat holds (R12 in ( B34 + 1 ) implies ( R28 . R12 ) = ( ( C57 . R12 ) * ( C58 . ( B34 -' R12 ) ) ))) & ( Sum R28 ) = ( R23 . B34 ))))
proof
let C59 being Nat;
L1423: C59 in ( NAT ) by ORDINAL1:def 12;
thus L1424: thesis by L1423 , L1421;
end;
thus L1425: thesis by L1422;
end;
uniqueness
proof
let R23 being Real_Sequence;
let R24 being Real_Sequence;
assume that
L1426: (for B35 being Nat holds (ex B36 being (XFinSequence of ( REAL )) st (( dom B36 ) = ( B35 + 1 ) & (for R12 being Nat holds (R12 in ( B35 + 1 ) implies ( B36 . R12 ) = ( ( C57 . R12 ) * ( C58 . ( B35 -' R12 ) ) ))) & ( Sum B36 ) = ( R23 . B35 ))))
and
L1427: (for B37 being Nat holds (ex B38 being (XFinSequence of ( REAL )) st (( dom B38 ) = ( B37 + 1 ) & (for R12 being Nat holds (R12 in ( B37 + 1 ) implies ( B38 . R12 ) = ( ( C57 . R12 ) * ( C58 . ( B37 -' R12 ) ) ))) & ( Sum B38 ) = ( R24 . B37 ))));
L1428:
now
let R1 being set;
assume L1429: R1 in ( NAT );
reconsider D132 = R1 as (Element of ( NAT )) by L1429;
consider C60 being (XFinSequence of ( REAL )) such that L1430: ( dom C60 ) = ( D132 + 1 ) and L1431: (for R12 being Nat holds (R12 in ( D132 + 1 ) implies ( C60 . R12 ) = ( ( C57 . R12 ) * ( C58 . ( D132 -' R12 ) ) ))) and L1432: ( Sum C60 ) = ( R23 . D132 ) by L1426;
consider C61 being (XFinSequence of ( REAL )) such that L1433: ( dom C61 ) = ( D132 + 1 ) and L1434: (for R12 being Nat holds (R12 in ( D132 + 1 ) implies ( C61 . R12 ) = ( ( C57 . R12 ) * ( C58 . ( D132 -' R12 ) ) ))) and L1435: ( Sum C61 ) = ( R24 . D132 ) by L1427;
L1436:
now
let C62 being Nat;
assume that
L1437: C62 in ( dom C60 );
L1438: ( C60 . C62 ) = ( ( C57 . C62 ) * ( C58 . ( D132 -' C62 ) ) ) by L1430 , L1431 , L1437;
thus L1439: ( C60 . C62 ) = ( C61 . C62 ) by L1438 , L1430 , L1434 , L1437;
end;
thus L1440: ( R23 . R1 ) = ( R24 . R1 ) by L1436 , L1430 , L1432 , L1433 , L1435 , AFINSQ_1:8;
end;
thus L1441: R23 = R24 by L1428 , FUNCT_2:12;
end;
commutativity
proof
let R23 being Real_Sequence;
let R21 being Real_Sequence;
let R22 being Real_Sequence;
assume L1442: (for B39 being Nat holds (ex B40 being (XFinSequence of ( REAL )) st (( dom B40 ) = ( B39 + 1 ) & (for R12 being Nat holds (R12 in ( B39 + 1 ) implies ( B40 . R12 ) = ( ( R21 . R12 ) * ( R22 . ( B39 -' R12 ) ) ))) & ( Sum B40 ) = ( R23 . B39 ))));
let C63 being Nat;
consider C64 being (XFinSequence of ( REAL )) such that L1443: ( dom C64 ) = ( C63 + 1 ) and L1444: (for R12 being Nat holds (R12 in ( C63 + 1 ) implies ( C64 . R12 ) = ( ( R21 . R12 ) * ( R22 . ( C63 -' R12 ) ) ))) and L1445: ( Sum C64 ) = ( R23 . C63 ) by L1442;
defpred S15[ set , set ] means (for R7 being Nat holds (R7 = $1 implies $2 = ( ( R22 . R7 ) * ( R21 . ( C63 -' R7 ) ) )));
reconsider D133 = C63 as (Element of ( NAT )) by ORDINAL1:def 12;
L1446: (for R7 being Nat holds (R7 in ( D133 + 1 ) implies (ex B41 being (Element of ( REAL )) st S15[ R7 , B41 ])))
proof
let R7 being Nat;
assume that
L1447: R7 in ( D133 + 1 );
take ( ( R22 . R7 ) * ( R21 . ( C63 -' R7 ) ) );
thus L1448: thesis;
end;
consider R30 being (XFinSequence of ( REAL )) such that L1449: ( dom R30 ) = ( D133 + 1 ) and L1450: (for R7 being Nat holds (R7 in ( D133 + 1 ) implies S15[ R7 , ( R30 . R7 ) ])) from STIRL2_1:sch 5(L1446);
take R30;
thus L1451: (( dom R30 ) = ( C63 + 1 ) & (for R12 being Nat holds (R12 in ( C63 + 1 ) implies ( R30 . R12 ) = ( ( R22 . R12 ) * ( R21 . ( C63 -' R12 ) ) )))) by L1449 , L1450;
L1452:
now
let R12 being Nat;
assume that
L1453: R12 in ( len C64 );
L1454: R12 < ( C63 + 1 ) by L1443 , L1453 , NAT_1:44;
L1455: R12 <= C63 by L1454 , NAT_1:13;
L1456: ( C63 -' R12 ) = ( C63 - R12 ) by L1455 , XREAL_1:233;
L1457: ( C63 -' R12 ) <= ( ( C63 -' R12 ) + R12 ) by NAT_1:11;
L1458: ( C63 -' ( C63 -' R12 ) ) = ( C63 - ( C63 -' R12 ) ) by L1457 , L1456 , XREAL_1:233;
L1459: ( R12 + 1 ) <= ( len R30 ) by L1449 , L1454 , NAT_1:13;
L1460: ( ( len R30 ) -' ( R12 + 1 ) ) = ( ( C63 + 1 ) - ( R12 + 1 ) ) by L1459 , L1449 , XREAL_1:233;
L1461: (( C63 - R12 ) <= C63 & C63 < ( C63 + 1 )) by NAT_1:13 , XREAL_1:43;
L1462: ( C63 - R12 ) < ( C63 + 1 ) by L1461 , XXREAL_0:2;
L1463: ( ( len R30 ) -' ( R12 + 1 ) ) in ( C63 + 1 ) by L1462 , L1460 , NAT_1:44;
L1464: ( R30 . ( ( len R30 ) -' ( R12 + 1 ) ) ) = ( ( R22 . ( C63 -' R12 ) ) * ( R21 . R12 ) ) by L1463 , L1450 , L1460 , L1456 , L1458;
thus L1465: ( C64 . R12 ) = ( R30 . ( ( len C64 ) -' ( 1 + R12 ) ) ) by L1464 , L1443 , L1444 , L1449 , L1453;
end;
thus L1466: thesis by L1452 , L1443 , L1445 , L1449 , L1371;
end;
end;
theorem
L1468: (for R29 being (XFinSequence of ( REAL )) holds (for R30 being (XFinSequence of ( REAL )) holds ((( dom R29 ) = ( dom R30 ) & (for R12 being Nat holds (R12 in ( len R29 ) implies ( R29 . R12 ) = ( R30 . ( ( len R29 ) -' ( 1 + R12 ) ) )))) implies ( Sum R29 ) = ( Sum R30 )))) by L1371;
theorem
L1469: (for R25 being  real number holds (for R29 being (XFinSequence of ( REAL )) holds (for R30 being (XFinSequence of ( REAL )) holds ((( dom R29 ) = ( dom R30 ) & (for R12 being Nat holds (R12 in ( len R29 ) implies ( R29 . R12 ) = ( R25 * ( R30 . R12 ) )))) implies ( Sum R29 ) = ( R25 * ( Sum R30 ) )))))
proof
let R25 being  real number;
let R29 being (XFinSequence of ( REAL ));
let R30 being (XFinSequence of ( REAL ));
assume that
L1470: ( dom R29 ) = ( dom R30 )
and
L1471: (for R12 being Nat holds (R12 in ( len R29 ) implies ( R29 . R12 ) = ( R25 * ( R30 . R12 ) )));
L1472: (( R29 | ( dom R29 ) ) = R29 & ( R30 | ( dom R29 ) ) = R30) by L1470 , RELAT_1:69;
defpred S16[ Nat ] means ($1 <= ( len R29 ) implies ( Sum ( R29 | $1 ) ) = ( R25 * ( Sum ( R30 | $1 ) ) ));
L1473: (for R7 being Nat holds (S16[ R7 ] implies S16[ ( R7 + 1 ) ]))
proof
let R7 being Nat;
assume that
L1474: S16[ R7 ];
assume L1475: ( R7 + 1 ) <= ( len R29 );
L1476: R7 < ( len R29 ) by L1475 , NAT_1:13;
L1477: R7 in ( len R29 ) by L1476 , NAT_1:44;
L1478: ( R29 . R7 ) = ( R25 * ( R30 . R7 ) ) by L1477 , L1471;
L1479: (( Sum ( R29 | ( R7 + 1 ) ) ) = ( ( R29 . R7 ) + ( Sum ( R29 | R7 ) ) ) & ( Sum ( R30 | ( R7 + 1 ) ) ) = ( ( R30 . R7 ) + ( Sum ( R30 | R7 ) ) )) by L1470 , L1477 , AFINSQ_2:65;
thus L1480: thesis by L1479 , L1474 , L1475 , L1478 , NAT_1:13;
end;
L1481: S16[ ( 0 ) ];
L1482: (for R7 being Nat holds S16[ R7 ]) from NAT_1:sch 2(L1481 , L1473);
thus L1483: thesis by L1482 , L1472;
end;
theorem
L1484: (for R21 being Real_Sequence holds (for R22 being Real_Sequence holds (for R25 being  real number holds ( R21 (##) ( R25 (#) R22 ) ) = ( R25 (#) ( R21 (##) R22 ) ))))
proof
let R21 being Real_Sequence;
let R22 being Real_Sequence;
let R25 being  real number;
set D134 = ( R25 (#) R22 );
set D135 = ( R21 (##) R22 );
L1485:
now
let R1 being set;
assume L1486: R1 in ( NAT );
reconsider D136 = R1 as (Element of ( NAT )) by L1486;
consider R29 being (XFinSequence of ( REAL )) such that L1487: ( dom R29 ) = ( D136 + 1 ) and L1488: (for R12 being Nat holds (R12 in ( D136 + 1 ) implies ( R29 . R12 ) = ( ( R21 . R12 ) * ( D134 . ( D136 -' R12 ) ) ))) and L1489: ( Sum R29 ) = ( ( R21 (##) D134 ) . D136 ) by L1411;
consider R30 being (XFinSequence of ( REAL )) such that L1490: ( dom R30 ) = ( D136 + 1 ) and L1491: (for R12 being Nat holds (R12 in ( D136 + 1 ) implies ( R30 . R12 ) = ( ( R21 . R12 ) * ( R22 . ( D136 -' R12 ) ) ))) and L1492: ( Sum R30 ) = ( D135 . D136 ) by L1411;
L1493:
now
let R12 being Nat;
assume L1494: R12 in ( len R29 );
L1495: (( R29 . R12 ) = ( ( R21 . R12 ) * ( D134 . ( D136 -' R12 ) ) ) & ( R30 . R12 ) = ( ( R21 . R12 ) * ( R22 . ( D136 -' R12 ) ) )) by L1494 , L1487 , L1488 , L1491;
L1496: ( D134 . ( D136 -' R12 ) ) = ( R25 * ( R22 . ( D136 -' R12 ) ) ) by SEQ_1:9;
thus L1497: ( R29 . R12 ) = ( R25 * ( R30 . R12 ) ) by L1496 , L1495;
end;
L1498: ( Sum R29 ) = ( R25 * ( Sum R30 ) ) by L1493 , L1487 , L1490 , L1469;
thus L1499: ( ( R21 (##) D134 ) . R1 ) = ( ( R25 (#) D135 ) . R1 ) by L1498 , L1489 , L1492 , SEQ_1:9;
end;
thus L1500: thesis by L1485 , FUNCT_2:12;
end;
theorem
L1501: (for R21 being Real_Sequence holds (for R22 being Real_Sequence holds (for R23 being Real_Sequence holds ( R21 (##) ( R22 + R23 ) ) = ( ( R21 (##) R22 ) + ( R21 (##) R23 ) ))))
proof
let R21 being Real_Sequence;
let R22 being Real_Sequence;
let R23 being Real_Sequence;
set D137 = ( R22 + R23 );
set D138 = ( R21 (##) R22 );
set D139 = ( R21 (##) R23 );
L1502:
now
let R1 being set;
assume L1503: R1 in ( NAT );
reconsider D140 = R1 as (Element of ( NAT )) by L1503;
consider C65 being (XFinSequence of ( REAL )) such that L1504: ( dom C65 ) = ( D140 + 1 ) and L1505: (for R12 being Nat holds (R12 in ( D140 + 1 ) implies ( C65 . R12 ) = ( ( R21 . R12 ) * ( D137 . ( D140 -' R12 ) ) ))) and L1506: ( Sum C65 ) = ( ( R21 (##) D137 ) . D140 ) by L1411;
consider C66 being (XFinSequence of ( REAL )) such that L1507: ( dom C66 ) = ( D140 + 1 ) and L1508: (for R12 being Nat holds (R12 in ( D140 + 1 ) implies ( C66 . R12 ) = ( ( R21 . R12 ) * ( R22 . ( D140 -' R12 ) ) ))) and L1509: ( Sum C66 ) = ( D138 . D140 ) by L1411;
L1510: ( len C66 ) = ( len C65 ) by L1504 , L1507;
consider C67 being (XFinSequence of ( REAL )) such that L1511: ( dom C67 ) = ( D140 + 1 ) and L1512: (for R12 being Nat holds (R12 in ( D140 + 1 ) implies ( C67 . R12 ) = ( ( R21 . R12 ) * ( R23 . ( D140 -' R12 ) ) ))) and L1513: ( Sum C67 ) = ( D139 . D140 ) by L1411;
L1514: (for B42 being Nat holds (B42 in ( dom C65 ) implies ( C65 . B42 ) = ( ( addreal ) . (( C66 . B42 ) , ( C67 . B42 )) )))
proof
let C68 being Nat;
assume that
L1515: C68 in ( dom C65 );
L1516: ( C65 . C68 ) = ( ( R21 . C68 ) * ( D137 . ( D140 -' C68 ) ) ) by L1504 , L1505 , L1515;
L1517: ( D137 . ( D140 -' C68 ) ) = ( ( R22 . ( D140 -' C68 ) ) + ( R23 . ( D140 -' C68 ) ) ) by SEQ_1:7;
L1518: (( C66 . C68 ) = ( ( R21 . C68 ) * ( R22 . ( D140 -' C68 ) ) ) & ( C67 . C68 ) = ( ( R21 . C68 ) * ( R23 . ( D140 -' C68 ) ) )) by L1504 , L1508 , L1512 , L1515;
L1519: ( C65 . C68 ) = ( ( C66 . C68 ) + ( C67 . C68 ) ) by L1518 , L1516 , L1517;
thus L1520: thesis by L1519 , BINOP_2:def 9;
end;
L1521: ( len C66 ) = ( len C67 ) by L1507 , L1511;
L1522: ( ( addreal ) "**" ( C66 ^ C67 ) ) = ( ( addreal ) "**" C65 ) by L1521 , L1514 , L1510 , AFINSQ_2:46;
L1523: ( Sum C65 ) = ( ( addreal ) "**" ( C66 ^ C67 ) ) by L1522 , AFINSQ_2:48;
L1524: ( Sum C65 ) = ( Sum ( C66 ^ C67 ) ) by L1523 , AFINSQ_2:48;
L1525: ( Sum C65 ) = ( ( Sum C66 ) + ( Sum C67 ) ) by L1524 , AFINSQ_2:55;
thus L1526: ( ( R21 (##) D137 ) . R1 ) = ( ( D138 + D139 ) . R1 ) by L1525 , L1506 , L1509 , L1513 , SEQ_1:7;
end;
thus L1527: thesis by L1502 , FUNCT_2:12;
end;
theorem
L1528: (for R21 being Real_Sequence holds (for R22 being Real_Sequence holds ( ( R21 (##) R22 ) . ( 0 ) ) = ( ( R21 . ( 0 ) ) * ( R22 . ( 0 ) ) )))
proof
let R21 being Real_Sequence;
let R22 being Real_Sequence;
set D141 = ( ( R21 . ( 0 ) ) * ( R22 . ( 0 ) ) );
consider R28 being (XFinSequence of ( REAL )) such that L1529: ( dom R28 ) = ( ( 0 ) + 1 ) and L1530: (for R12 being Nat holds (R12 in ( ( 0 ) + 1 ) implies ( R28 . R12 ) = ( ( R21 . R12 ) * ( R22 . ( ( 0 ) -' R12 ) ) ))) and L1531: ( Sum R28 ) = ( ( R21 (##) R22 ) . ( 0 ) ) by L1411;
L1532: (( ( 0 ) -' ( 0 ) ) = ( 0 ) & ( len R28 ) = 1) by L1529 , XREAL_1:232;
L1533: ( 0 ) in 1 by NAT_1:44;
L1534: ( R28 . ( 0 ) ) = ( ( R21 . ( 0 ) ) * ( R22 . ( ( 0 ) -' ( 0 ) ) ) ) by L1533 , L1530;
L1535: R28 = <% D141 %> by L1534 , L1532 , AFINSQ_1:34;
thus L1536: thesis by L1535 , L1531 , AFINSQ_2:53;
end;
theorem
L1537: (for R21 being Real_Sequence holds (for R22 being Real_Sequence holds (for R12 being Nat holds (ex R28 being (XFinSequence of ( REAL )) st (( ( Partial_Sums ( R21 (##) R22 ) ) . R12 ) = ( Sum R28 ) & ( dom R28 ) = ( R12 + 1 ) & (for R7 being Nat holds (R7 in ( R12 + 1 ) implies ( R28 . R7 ) = ( ( R21 . R7 ) * ( ( Partial_Sums R22 ) . ( R12 -' R7 ) ) ))))))))
proof
let R21 being Real_Sequence;
let R22 being Real_Sequence;
let R12 being Nat;
set D142 = ( R21 (##) R22 );
set D143 = ( Partial_Sums R22 );
defpred S17[ Nat ] means (ex R28 being (XFinSequence of ( REAL )) st (( ( Partial_Sums D142 ) . $1 ) = ( Sum R28 ) & ( dom R28 ) = ( $1 + 1 ) & (for R7 being Nat holds (R7 in ( $1 + 1 ) implies ( R28 . R7 ) = ( ( R21 . R7 ) * ( D143 . ( $1 -' R7 ) ) )))));
L1538: (for R12 being Nat holds (S17[ R12 ] implies S17[ ( R12 + 1 ) ]))
proof
set D144 = ( addreal );
let R12 being Nat;
set D145 = ( R12 + 1 );
defpred S18[ set , set ] means (for R7 being Nat holds (R7 = $1 implies $2 = ( ( R21 . R7 ) * ( D143 . ( D145 -' R7 ) ) )));
L1539: (( D145 -' D145 ) = ( 0 ) & ( D143 . ( 0 ) ) = ( R22 . ( 0 ) )) by SERIES_1:def 1 , XREAL_1:232;
L1540: (for R7 being Nat holds (R7 in ( D145 + 1 ) implies (ex B43 being (Element of ( REAL )) st S18[ R7 , B43 ])))
proof
let R7 being Nat;
assume that
L1541: R7 in ( D145 + 1 );
take ( ( R21 . R7 ) * ( ( Partial_Sums R22 ) . ( D145 -' R7 ) ) );
thus L1542: thesis;
end;
consider R30 being (XFinSequence of ( REAL )) such that L1543: ( dom R30 ) = ( D145 + 1 ) and L1544: (for R7 being Nat holds (R7 in ( D145 + 1 ) implies S18[ R7 , ( R30 . R7 ) ])) from STIRL2_1:sch 5(L1540);
assume L1545: S17[ R12 ];
consider R28 being (XFinSequence of ( REAL )) such that L1546: ( ( Partial_Sums D142 ) . R12 ) = ( Sum R28 ) and L1547: ( dom R28 ) = D145 and L1548: (for R7 being Nat holds (R7 in ( R12 + 1 ) implies ( R28 . R7 ) = ( ( R21 . R7 ) * ( D143 . ( R12 -' R7 ) ) ))) by L1545;
consider R29 being (XFinSequence of ( REAL )) such that L1549: ( dom R29 ) = ( D145 + 1 ) and L1550: (for R7 being Nat holds (R7 in ( D145 + 1 ) implies ( R29 . R7 ) = ( ( R21 . R7 ) * ( R22 . ( D145 -' R7 ) ) ))) and L1551: ( Sum R29 ) = ( D142 . D145 ) by L1411;
L1552: ( R29 | ( D145 + 1 ) ) = R29 by L1549 , RELAT_1:69;
L1553: (for B44 being Nat holds (B44 in ( dom ( R30 | D145 ) ) implies ( ( R30 | D145 ) . B44 ) = ( ( addreal ) . (( R28 . B44 ) , ( ( R29 | D145 ) . B44 )) )))
proof
let C69 being Nat;
assume that
L1554: C69 in ( dom ( R30 | D145 ) );
L1555: C69 in ( ( dom R30 ) /\ D145 ) by L1554 , RELAT_1:61;
L1556: C69 in ( dom ( R29 | D145 ) ) by L1555 , L1549 , L1543 , RELAT_1:61;
L1557: ( R29 . C69 ) = ( ( R29 | D145 ) . C69 ) by L1556 , FUNCT_1:47;
L1558: C69 in D145 by L1555 , XBOOLE_0:def 4;
L1559: C69 < D145 by L1558 , NAT_1:44;
L1560: C69 <= R12 by L1559 , NAT_1:13;
L1561: ( R12 -' C69 ) = ( R12 - C69 ) by L1560 , XREAL_1:233;
L1562: (C69 in ( D145 + 1 ) & C69 in ( NAT )) by L1543 , L1555 , XBOOLE_0:def 4;
L1563: (( R29 . C69 ) = ( ( R21 . C69 ) * ( R22 . ( D145 -' C69 ) ) ) & ( R30 . C69 ) = ( ( R21 . C69 ) * ( D143 . ( D145 -' C69 ) ) )) by L1562 , L1550 , L1544;
L1564: ( R30 . C69 ) = ( ( R30 | D145 ) . C69 ) by L1554 , FUNCT_1:47;
L1565: ( D145 -' C69 ) = ( D145 - C69 ) by L1559 , XREAL_1:233;
L1566: ( ( R12 -' C69 ) + 1 ) = ( D145 -' C69 ) by L1565 , L1561;
L1567: ( D143 . ( D145 -' C69 ) ) = ( ( D143 . ( R12 -' C69 ) ) + ( R22 . ( D145 -' C69 ) ) ) by L1566 , SERIES_1:def 1;
L1568: ( R28 . C69 ) = ( ( R21 . C69 ) * ( D143 . ( R12 -' C69 ) ) ) by L1548 , L1558;
L1569: ( R30 . C69 ) = ( ( R28 . C69 ) + ( R29 . C69 ) ) by L1568 , L1563 , L1567;
thus L1570: thesis by L1569 , L1557 , L1564 , BINOP_2:def 9;
end;
L1571: D145 <= ( D145 + 1 ) by NAT_1:11;
L1572: D145 c= ( D145 + 1 ) by L1571 , NAT_1:39;
L1573: ( len ( R29 | D145 ) ) = ( len R28 ) by L1572 , L1547 , L1549 , RELAT_1:62;
L1574: D145 < ( D145 + 1 ) by NAT_1:13;
L1575: D145 in ( D145 + 1 ) by L1574 , NAT_1:44;
L1576: (( R29 . D145 ) = ( ( R21 . D145 ) * ( R22 . ( D145 -' D145 ) ) ) & ( Sum ( R29 | ( D145 + 1 ) ) ) = ( ( R29 . D145 ) + ( Sum ( R29 | D145 ) ) )) by L1575 , L1549 , L1550 , AFINSQ_2:65;
L1577: ( len ( R30 | D145 ) ) = ( len R28 ) by L1547 , L1543 , L1572 , RELAT_1:62;
L1578: ( D144 "**" ( R30 | D145 ) ) = ( D144 "**" ( R28 ^ ( R29 | D145 ) ) ) by L1577 , L1553 , L1573 , AFINSQ_2:46
.= ( Sum ( R28 ^ ( R29 | D145 ) ) ) by AFINSQ_2:48
.= ( ( Sum R28 ) + ( Sum ( R29 | D145 ) ) ) by AFINSQ_2:55;
L1579: ( Sum ( R30 | D145 ) ) = ( ( Sum R28 ) + ( Sum ( R29 | D145 ) ) ) by L1578 , AFINSQ_2:48;
take R30;
L1580: (( R30 . D145 ) = ( ( R21 . D145 ) * ( D143 . ( D145 -' D145 ) ) ) & ( Sum ( R30 | ( D145 + 1 ) ) ) = ( ( R30 . D145 ) + ( Sum ( R30 | D145 ) ) )) by L1543 , L1544 , L1575 , AFINSQ_2:65;
L1581: (( Sum R30 ) = ( ( ( Partial_Sums D142 ) . R12 ) + ( D142 . D145 ) ) & R12 in ( NAT ) & D145 in ( NAT )) by L1580 , L1546 , L1551 , L1543 , L1579 , L1539 , L1576 , L1552 , ORDINAL1:def 12 , RELAT_1:69;
thus L1582: thesis by L1581 , L1543 , L1544 , SERIES_1:def 1;
end;
L1583: S17[ ( 0 ) ]
proof
set D146 = ( 1 --> ( ( R21 . ( 0 ) ) * ( R22 . ( 0 ) ) ) );
reconsider D147 = D146 as (XFinSequence of ( REAL ));
take D147;
L1584: ( dom D147 ) = 1 by FUNCOP_1:13;
L1585: (( dom ( D147 | (( 0 ) qua Ordinal) ) ) = ( 0 ) & ( D147 | 1 ) = D147) by L1584 , RELAT_1:69;
L1586: ( 0 ) in 1 by NAT_1:44;
L1587: ( D147 . ( 0 ) ) = ( ( R21 . ( 0 ) ) * ( R22 . ( 0 ) ) ) by L1586 , FUNCOP_1:7;
L1588: ( ( Sum ( D147 | (( 0 ) qua Ordinal) ) ) + ( D147 . ( 0 ) ) ) = ( Sum ( D147 | ( ( 0 ) + 1 ) ) ) by L1584 , L1586 , AFINSQ_2:65;
L1589: ( Sum D147 ) = ( D142 . ( 0 ) ) by L1588 , L1528 , L1587 , L1585;
thus L1590: (( ( Partial_Sums D142 ) . ( 0 ) ) = ( Sum D147 ) & ( dom D147 ) = ( ( 0 ) + 1 )) by L1589 , FUNCOP_1:13 , SERIES_1:def 1;
let R7 being Nat;
assume that
L1591: R7 in ( ( 0 ) + 1 );
L1592: R7 < 1 by L1591 , NAT_1:44;
L1593: R7 = ( 0 ) by L1592 , NAT_1:14;
L1594: ( ( 0 ) -' R7 ) = ( 0 ) by L1593 , XREAL_1:232;
L1595: ( D143 . ( ( 0 ) -' R7 ) ) = ( R22 . ( 0 ) ) by L1594 , SERIES_1:def 1;
thus L1596: thesis by L1595 , L1591 , L1593 , FUNCOP_1:7;
end;
L1597: (for R7 being Nat holds S17[ R7 ]) from NAT_1:sch 2(L1583 , L1538);
thus L1598: thesis by L1597;
end;
theorem
L1599: (for R21 being Real_Sequence holds (for R22 being Real_Sequence holds (for R12 being Nat holds (R22 is  summable implies (ex R28 being (XFinSequence of ( REAL )) st (( ( Partial_Sums ( R21 (##) R22 ) ) . R12 ) = ( ( ( Sum R22 ) * ( ( Partial_Sums R21 ) . R12 ) ) - ( Sum R28 ) ) & ( dom R28 ) = ( R12 + 1 ) & (for R7 being Nat holds (R7 in ( R12 + 1 ) implies ( R28 . R7 ) = ( ( R21 . R7 ) * ( Sum ( R22 ^\ ( ( R12 -' R7 ) + 1 ) ) ) )))))))))
proof
let R21 being Real_Sequence;
let R22 being Real_Sequence;
let R12 being Nat;
assume that
L1600: R22 is  summable;
defpred S19[ set , set ] means (for R7 being Nat holds (R7 = $1 implies $2 = ( ( R21 . R7 ) * ( Sum ( R22 ^\ ( ( R12 -' R7 ) + 1 ) ) ) )));
set D148 = ( Partial_Sums R22 );
set D149 = ( Partial_Sums R21 );
set D150 = ( R21 (##) R22 );
L1601: (for R7 being Nat holds (R7 in ( R12 + 1 ) implies (ex B45 being (Element of ( REAL )) st S19[ R7 , B45 ])))
proof
let R7 being Nat;
assume that
L1602: R7 in ( R12 + 1 );
take ( ( R21 . R7 ) * ( Sum ( R22 ^\ ( ( R12 -' R7 ) + 1 ) ) ) );
thus L1603: thesis;
end;
consider R28 being (XFinSequence of ( REAL )) such that L1604: ( dom R28 ) = ( R12 + 1 ) and L1605: (for R7 being Nat holds (R7 in ( R12 + 1 ) implies S19[ R7 , ( R28 . R7 ) ])) from STIRL2_1:sch 5(L1601);
consider R29 being (XFinSequence of ( REAL )) such that L1606: ( ( Partial_Sums D150 ) . R12 ) = ( Sum R29 ) and L1607: ( dom R29 ) = ( R12 + 1 ) and L1608: (for R7 being Nat holds (R7 in ( R12 + 1 ) implies ( R29 . R7 ) = ( ( R21 . R7 ) * ( D148 . ( R12 -' R7 ) ) ))) by L1537;
L1609: ( 0 ) in ( R12 + 1 ) by NAT_1:44;
L1610: (( R29 . ( 0 ) ) = ( ( R21 . ( 0 ) ) * ( D148 . ( R12 -' ( 0 ) ) ) ) & ( Sum ( R29 | ( ( 0 ) + 1 ) ) ) = ( ( R29 . ( 0 ) ) + ( Sum ( R29 | (( 0 ) qua Ordinal) ) ) )) by L1609 , L1607 , L1608 , AFINSQ_2:65;
defpred S20[ Nat ] means (( $1 + 1 ) <= ( R12 + 1 ) implies ( ( Sum ( R29 | ( $1 + 1 ) ) ) + ( Sum ( R28 | ( $1 + 1 ) ) ) ) = ( ( Sum R22 ) * ( D149 . $1 ) ));
L1611: (for R9 being Nat holds (S20[ R9 ] implies S20[ ( R9 + 1 ) ]))
proof
let R9 being Nat;
assume that
L1612: S20[ R9 ];
reconsider D151 = ( R9 + 1 ) as (Element of ( NAT ));
assume L1613: ( ( R9 + 1 ) + 1 ) <= ( R12 + 1 );
L1614: D151 < ( R12 + 1 ) by L1613 , NAT_1:13;
L1615: D151 in ( R12 + 1 ) by L1614 , NAT_1:44;
L1616: (( R28 . D151 ) = ( ( R21 . D151 ) * ( Sum ( R22 ^\ ( ( R12 -' D151 ) + 1 ) ) ) ) & ( Sum ( R29 | ( D151 + 1 ) ) ) = ( ( R29 . D151 ) + ( Sum ( R29 | D151 ) ) )) by L1615 , L1605 , L1607 , AFINSQ_2:65;
L1617: ( ( Sum ( R29 | D151 ) ) + ( Sum ( R28 | D151 ) ) ) = ( ( Sum R22 ) * ( D149 . R9 ) ) by L1613 , L1612 , NAT_1:13;
L1618: R9 in ( NAT ) by ORDINAL1:def 12;
L1619: (( Sum ( R28 | ( D151 + 1 ) ) ) = ( ( R28 . D151 ) + ( Sum ( R28 | D151 ) ) ) & ( R29 . D151 ) = ( ( R21 . D151 ) * ( D148 . ( R12 -' D151 ) ) )) by L1604 , L1608 , L1615 , AFINSQ_2:65;
L1620: ( ( Sum ( R28 | ( D151 + 1 ) ) ) + ( Sum ( R29 | ( D151 + 1 ) ) ) ) = ( ( ( R21 . D151 ) * ( ( Sum ( R22 ^\ ( ( R12 -' D151 ) + 1 ) ) ) + ( D148 . ( R12 -' D151 ) ) ) ) + ( ( Sum R22 ) * ( D149 . R9 ) ) ) by L1619 , L1617 , L1616
.= ( ( ( R21 . D151 ) * ( Sum R22 ) ) + ( ( Sum R22 ) * ( D149 . R9 ) ) ) by L1600 , SERIES_1:15
.= ( ( Sum R22 ) * ( ( D149 . R9 ) + ( R21 . D151 ) ) )
.= ( ( D149 . D151 ) * ( Sum R22 ) ) by L1618 , SERIES_1:def 1;
thus L1621: thesis by L1620;
end;
L1622: (( Sum ( R28 | ( ( 0 ) + 1 ) ) ) = ( ( R28 . ( 0 ) ) + ( Sum ( R28 | (( 0 ) qua Ordinal) ) ) ) & ( R28 . ( 0 ) ) = ( ( R21 . ( 0 ) ) * ( Sum ( R22 ^\ ( ( R12 -' ( 0 ) ) + 1 ) ) ) )) by L1604 , L1605 , L1609 , AFINSQ_2:65;
L1623: ( ( Sum ( R28 | ( ( 0 ) + 1 ) ) ) + ( Sum ( R29 | ( ( 0 ) + 1 ) ) ) ) = ( ( R21 . ( 0 ) ) * ( ( Sum ( R22 ^\ ( ( R12 -' ( 0 ) ) + 1 ) ) ) + ( D148 . ( R12 -' ( 0 ) ) ) ) ) by L1622 , L1610
.= ( ( R21 . ( 0 ) ) * ( Sum R22 ) ) by L1600 , SERIES_1:15;
L1624: S20[ ( 0 ) ] by L1623 , SERIES_1:def 1;
L1625: (for R9 being Nat holds S20[ R9 ]) from NAT_1:sch 2(L1624 , L1611);
take R28;
L1626: ( R29 | ( R12 + 1 ) ) = R29 by L1607 , RELAT_1:69;
L1627: ( R28 | ( R12 + 1 ) ) = R28 by L1604 , RELAT_1:69;
L1628: ( ( Sum R29 ) + ( Sum R28 ) ) = ( ( Sum R22 ) * ( D149 . R12 ) ) by L1627 , L1625 , L1626;
thus L1629: thesis by L1628 , L1604 , L1605 , L1606;
end;
theorem
L1630: (for R28 being (XFinSequence of ( REAL )) holds (ex B46 being (XFinSequence of ( REAL )) st (( dom B46 ) = ( dom R28 ) & ( abs ( Sum R28 ) ) <= ( Sum B46 ) & (for R7 being Nat holds (R7 in ( dom B46 ) implies ( B46 . R7 ) = ( abs ( R28 . R7 ) ))))))
proof
let R28 being (XFinSequence of ( REAL ));
defpred S21[ set , set ] means $2 = ( abs ( R28 . $1 ) );
L1631: ( R28 | ( dom R28 ) ) = R28;
L1632: (for R7 being Nat holds (R7 in ( len R28 ) implies (ex B47 being (Element of ( REAL )) st S21[ R7 , B47 ])));
consider C70 being (XFinSequence of ( REAL )) such that L1633: ( dom C70 ) = ( len R28 ) and L1634: (for R7 being Nat holds (R7 in ( len R28 ) implies S21[ R7 , ( C70 . R7 ) ])) from STIRL2_1:sch 5(L1632);
defpred S22[ Nat ] means ($1 <= ( len R28 ) implies ( abs ( Sum ( R28 | $1 ) ) ) <= ( Sum ( C70 | $1 ) ));
L1635: (for R7 being Nat holds (S22[ R7 ] implies S22[ ( R7 + 1 ) ]))
proof
let R7 being Nat;
assume that
L1636: S22[ R7 ];
set D152 = ( R7 + 1 );
assume L1637: D152 <= ( len R28 );
L1638: R7 < ( len R28 ) by L1637 , NAT_1:13;
L1639: R7 in ( dom R28 ) by L1638 , NAT_1:44;
L1640: (( Sum ( R28 | D152 ) ) = ( ( R28 . R7 ) + ( Sum ( R28 | R7 ) ) ) & ( C70 . R7 ) = ( abs ( R28 . R7 ) )) by L1639 , L1634 , AFINSQ_2:65;
L1641: ( abs ( Sum ( R28 | D152 ) ) ) <= ( ( C70 . R7 ) + ( abs ( Sum ( R28 | R7 ) ) ) ) by L1640 , COMPLEX1:56;
L1642: ( Sum ( C70 | D152 ) ) = ( ( C70 . R7 ) + ( Sum ( C70 | R7 ) ) ) by L1633 , L1639 , AFINSQ_2:65;
L1643: ( ( C70 . R7 ) + ( abs ( Sum ( R28 | R7 ) ) ) ) <= ( Sum ( C70 | D152 ) ) by L1642 , L1636 , L1637 , NAT_1:13 , XREAL_1:7;
thus L1644: thesis by L1643 , L1641 , XXREAL_0:2;
end;
take C70;
L1645: S22[ ( 0 ) ] by COMPLEX1:44;
L1646: (for R7 being Nat holds S22[ R7 ]) from NAT_1:sch 2(L1645 , L1635);
L1647: ( abs ( Sum ( R28 | ( len R28 ) ) ) ) <= ( Sum ( C70 | ( len R28 ) ) ) by L1646;
thus L1648: thesis by L1647 , L1633 , L1634 , L1631 , RELAT_1:69;
end;
theorem
L1649: (for R21 being Real_Sequence holds (R21 is  summable implies (ex R25 being  real number st (( 0 ) < R25 & (for R9 being Nat holds ( abs ( Sum ( R21 ^\ R9 ) ) ) < R25)))))
proof
let R21 being Real_Sequence;
assume that
L1650: R21 is  summable;
defpred S23[ Nat ] means (ex R25 being  real number st (R25 >= ( 0 ) & (for R7 being Nat holds (R7 <= $1 implies ( abs ( Sum ( R21 ^\ R7 ) ) ) <= R25))));
L1651: (for R9 being Nat holds (S23[ R9 ] implies S23[ ( R9 + 1 ) ]))
proof
let R9 being Nat;
assume L1652: S23[ R9 ];
consider R25 being  real number such that L1653: R25 >= ( 0 ) and L1654: (for R7 being Nat holds (R7 <= R9 implies ( abs ( Sum ( R21 ^\ R7 ) ) ) <= R25)) by L1652;
take D153 = ( max (R25 , ( abs ( Sum ( R21 ^\ ( R9 + 1 ) ) ) )) );
thus L1655: D153 >= ( 0 ) by L1653 , XXREAL_0:25;
let R7 being Nat;
assume that
L1656: R7 <= ( R9 + 1 );
L1657:
now
per cases  by L1656 , NAT_1:8;
suppose L1658: R7 = ( R9 + 1 );

thus L1659: thesis by L1658 , XXREAL_0:25;
end;
suppose L1660: R7 <= R9;

L1661: R25 <= D153 by XXREAL_0:25;
L1662: ( abs ( Sum ( R21 ^\ R7 ) ) ) <= R25 by L1654 , L1660;
thus L1663: thesis by L1662 , L1661 , XXREAL_0:2;
end;
end;
thus L1665: thesis by L1657;
end;
set D154 = ( Partial_Sums R21 );
L1666: ( lim D154 ) = ( Sum R21 ) by SERIES_1:def 3;
L1667: D154 is  convergent by L1650 , SERIES_1:def 2;
consider C71 being (Element of ( NAT )) such that L1668: (for B48 being (Element of ( NAT )) holds (C71 <= B48 implies ( abs ( ( D154 . B48 ) - ( Sum R21 ) ) ) < 1)) by L1667 , L1666 , SEQ_2:def 7;
L1669: S23[ ( 0 ) ]
proof
take ( abs ( Sum R21 ) );
thus L1670: ( abs ( Sum R21 ) ) >= ( 0 ) by COMPLEX1:46;
let R7 being Nat;
assume L1671: R7 <= ( 0 );
L1672: R7 = ( 0 ) by L1671;
thus L1673: thesis by L1672 , NAT_1:47;
end;
L1674: (for R9 being Nat holds S23[ R9 ]) from NAT_1:sch 2(L1669 , L1651);
consider R25 being  real number such that L1675: R25 >= ( 0 ) and L1676: (for R7 being Nat holds (R7 <= C71 implies ( abs ( Sum ( R21 ^\ R7 ) ) ) <= R25)) by L1674;
take D155 = ( R25 + 1 );
thus L1677: D155 > ( 0 ) by L1675;
let R9 being Nat;
L1678:
now
per cases ;
suppose L1679: R9 <= C71;

L1680: ( (( 0 ) qua Nat) + R25 ) < D155 by XREAL_1:8;
L1681: ( abs ( Sum ( R21 ^\ R9 ) ) ) <= R25 by L1676 , L1679;
thus L1682: thesis by L1681 , L1680 , XXREAL_0:2;
end;
suppose L1683: R9 > C71;

reconsider D156 = ( R9 - 1 ) as (Element of ( NAT )) by L1683 , NAT_1:20;
L1684: ( D156 + 1 ) > C71 by L1683;
L1685: D156 >= C71 by L1684 , NAT_1:13;
L1686: ( abs ( ( D154 . D156 ) - ( Sum R21 ) ) ) < 1 by L1685 , L1668;
L1687: ( Sum R21 ) = ( ( D154 . D156 ) + ( Sum ( R21 ^\ ( D156 + 1 ) ) ) ) by L1650 , SERIES_1:15;
L1688: ( abs ( - ( Sum ( R21 ^\ ( D156 + 1 ) ) ) ) ) < 1 by L1687 , L1686;
L1689: ( abs ( Sum ( R21 ^\ ( D156 + 1 ) ) ) ) < 1 by L1688 , COMPLEX1:52;
L1690: ( 1 + ( 0 ) ) <= D155 by L1675 , XREAL_1:6;
thus L1691: thesis by L1690 , L1689 , XXREAL_0:2;
end;
end;
thus L1693: thesis by L1678;
end;
theorem
L1694: (for R21 being Real_Sequence holds (for R12 being Nat holds (for R11 being Nat holds ((R12 <= R11 & (for R7 being Nat holds ( R21 . R7 ) >= ( 0 ))) implies ( ( Partial_Sums R21 ) . R12 ) <= ( ( Partial_Sums R21 ) . R11 )))))
proof
let R21 being Real_Sequence;
let R12 being Nat;
let R11 being Nat;
assume that
L1695: R12 <= R11
and
L1696: (for R7 being Nat holds ( R21 . R7 ) >= ( 0 ));
set D157 = ( Partial_Sums R21 );
defpred S24[ Nat ] means ( D157 . R12 ) <= ( D157 . ( R12 + $1 ) );
L1697: (for R7 being Nat holds (S24[ R7 ] implies S24[ ( R7 + 1 ) ]))
proof
let R7 being Nat;
assume that
L1698: S24[ R7 ];
set D158 = ( R12 + R7 );
L1699: (( D157 . ( D158 + 1 ) ) = ( ( D157 . D158 ) + ( R21 . ( D158 + 1 ) ) ) & ( R21 . ( D158 + 1 ) ) >= ( 0 )) by L1696 , SERIES_1:def 1;
L1700: ( D157 . ( D158 + 1 ) ) >= ( ( D157 . D158 ) + (( 0 ) qua Nat) ) by L1699 , XREAL_1:6;
thus L1701: thesis by L1700 , L1698 , XXREAL_0:2;
end;
L1702: S24[ ( 0 ) ];
L1703: (for R7 being Nat holds S24[ R7 ]) from NAT_1:sch 2(L1702 , L1697);
reconsider D159 = R11 , D160 = R12 as Nat;
L1704: ( D160 + ( D159 - D160 ) ) = D159;
L1705: ( D159 - D160 ) is (Element of ( NAT )) by L1695 , NAT_1:21;
thus L1706: thesis by L1705 , L1703 , L1704;
end;
theorem
L1707: (for R21 being Real_Sequence holds (for R22 being Real_Sequence holds ((R21 is  absolutely_summable & R22 is  summable) implies (( R21 (##) R22 ) is  summable & ( Sum ( R21 (##) R22 ) ) = ( ( Sum R21 ) * ( Sum R22 ) )))))
proof
let R21 being Real_Sequence;
let R22 being Real_Sequence;
assume that
L1708: R21 is  absolutely_summable
and
L1709: R22 is  summable;
set D161 = ( Sum R22 );
set D162 = ( Sum R21 );
set D163 = ( Partial_Sums ( abs R21 ) );
set D164 = ( Partial_Sums R22 );
set D165 = ( Partial_Sums R21 );
set D166 = ( R21 (##) R22 );
set D167 = ( Partial_Sums D166 );
L1710: (for R27 being  real number holds (( 0 ) < R27 implies (ex B49 being (Element of ( NAT )) st (for B50 being (Element of ( NAT )) holds (B49 <= B50 implies ( abs ( ( D167 . B50 ) - ( D162 * D161 ) ) ) < R27)))))
proof
L1711: R21 is  summable by L1708;
L1712: D165 is  convergent by L1711 , SERIES_1:def 2;
let R27 being  real number;
assume that
L1713: ( 0 ) < R27;
set D168 = ( R27 / ( 3 * ( ( abs D161 ) + 1 ) ) );
L1714: ( ( abs D161 ) + 1 ) > ( ( 0 ) + ( 0 ) ) by COMPLEX1:46 , XREAL_1:8;
L1715: ( 3 * ( ( abs D161 ) + 1 ) ) > ( 3 * ( 0 ) ) by L1714 , XREAL_1:68;
L1716: (( lim D165 ) = D162 & D168 > ( 0 )) by L1715 , L1713 , SERIES_1:def 3 , XREAL_1:139;
consider C72 being (Element of ( NAT )) such that L1717: (for B51 being (Element of ( NAT )) holds (C72 <= B51 implies ( abs ( ( D165 . B51 ) - D162 ) ) < D168)) by L1716 , L1712 , SEQ_2:def 7;
set D169 = ( R27 / ( 3 * ( ( Sum ( abs R21 ) ) + 1 ) ) );
L1718: (( max (1 , C72) ) = 1 or ( max (1 , C72) ) = C72) by XXREAL_0:16;
L1719: ( ( abs D161 ) + 1 ) > ( ( 0 ) + ( 0 ) ) by COMPLEX1:46 , XREAL_1:8;
L1720: ( D168 * ( ( abs D161 ) + 1 ) ) = ( R27 / 3 ) by L1719 , XCMPLX_1:92;
L1721: (D164 is  convergent & ( lim D164 ) = D161) by L1709 , SERIES_1:def 2 , SERIES_1:def 3;
consider R25 being  real number such that L1722: ( 0 ) < R25 and L1723: (for R9 being Nat holds ( abs ( Sum ( R22 ^\ R9 ) ) ) < R25) by L1709 , L1649;
set D170 = ( R27 / ( 3 * R25 ) );
L1724: ( ( abs D161 ) + 1 ) > ( ( abs D161 ) + (( 0 ) qua Nat) ) by XREAL_1:8;
L1725:
now
let R12 being Nat;
L1726: R12 in ( NAT ) by ORDINAL1:def 12;
L1727: ( abs ( R21 . R12 ) ) = ( ( abs R21 ) . R12 ) by L1726 , SEQ_1:12;
thus L1728: ( ( abs R21 ) . R12 ) >= ( 0 ) by L1727 , COMPLEX1:46;
end;
L1729: (for B52 being (Element of ( NAT )) holds ( ( abs R21 ) . B52 ) >= ( 0 )) by L1725;
L1730: ( abs R21 ) is  summable by L1708 , SERIES_1:def 4;
L1731: ( Sum ( abs R21 ) ) >= ( 0 ) by L1730 , L1729 , SERIES_1:18;
L1732: ( ( ( Sum ( abs R21 ) ) + 1 ) * D169 ) = ( R27 / 3 ) by L1731 , XCMPLX_1:92;
L1733: ( Sum ( abs R21 ) ) >= ( 0 ) by L1730 , L1729 , SERIES_1:18;
L1734: ( 3 * ( ( Sum ( abs R21 ) ) + 1 ) ) > ( ( 0 ) * 3 ) by L1733 , XREAL_1:68;
L1735: D169 > ( 0 ) by L1734 , L1713 , XREAL_1:139;
consider C73 being (Element of ( NAT )) such that L1736: (for B53 being (Element of ( NAT )) holds (C73 <= B53 implies ( abs ( ( D164 . B53 ) - D161 ) ) < D169)) by L1735 , L1721 , SEQ_2:def 7;
L1737: ( 3 * R25 ) > ( ( 0 ) * 3 ) by L1722 , XREAL_1:68;
L1738: D170 > ( 0 ) by L1737 , L1713 , XREAL_1:139;
consider C74 being (Element of ( NAT )) such that L1739: (for B54 being (Element of ( NAT )) holds (C74 <= B54 implies ( abs ( ( D163 . B54 ) - ( D163 . C74 ) ) ) < D170)) by L1738 , L1730 , SERIES_1:21;
L1740: (( max (( C74 + 1 ) , C73) ) = ( C74 + 1 ) or ( max (( C74 + 1 ) , C73) ) = C73) by XXREAL_0:16;
reconsider D171 = ( max (( max (1 , C72) ) , ( max (( C74 + 1 ) , C73) )) ) as (Element of ( NAT )) by L1740 , L1718 , XXREAL_0:16;
L1741: ( max (( C74 + 1 ) , C73) ) <= D171 by XXREAL_0:25;
take D172 = ( D171 * 2 );
let C75 being (Element of ( NAT ));
assume that
L1742: D172 <= C75;
L1743: ( max (1 , C72) ) <= D171 by XXREAL_0:25;
L1744: ( 0 ) < D171 by L1743 , XXREAL_0:25;
reconsider D173 = ( D171 - 1 ) as (Element of ( NAT )) by L1744 , NAT_1:20;
L1745: D171 = ( D173 + 1 );
L1746: ( C74 + 1 ) <= ( max (( C74 + 1 ) , C73) ) by XXREAL_0:25;
L1747: ( D173 + 1 ) >= ( C74 + 1 ) by L1746 , L1741 , XXREAL_0:2;
L1748: D173 >= C74 by L1747 , XREAL_1:8;
L1749: ( D163 . D173 ) >= ( D163 . C74 ) by L1748 , L1725 , L1694;
L1750: ( ( D163 . C75 ) - ( D163 . D173 ) ) <= ( ( D163 . C75 ) - ( D163 . C74 ) ) by L1749 , XREAL_1:10;
L1751: ( R25 * ( ( D163 . C75 ) - ( D163 . D173 ) ) ) <= ( R25 * ( ( D163 . C75 ) - ( D163 . C74 ) ) ) by L1750 , L1722 , XREAL_1:64;
consider R28 being (XFinSequence of ( REAL )) such that L1752: ( D167 . C75 ) = ( ( D161 * ( D165 . C75 ) ) - ( Sum R28 ) ) and L1753: ( dom R28 ) = ( C75 + 1 ) and L1754: (for R7 being Nat holds (R7 in ( C75 + 1 ) implies ( R28 . R7 ) = ( ( R21 . R7 ) * ( Sum ( R22 ^\ ( ( C75 -' R7 ) + 1 ) ) ) ))) by L1709 , L1599;
consider C76 being (XFinSequence of ( REAL )) such that L1755: ( dom C76 ) = ( dom R28 ) and L1756: ( abs ( Sum R28 ) ) <= ( Sum C76 ) and L1757: (for R7 being Nat holds (R7 in ( dom C76 ) implies ( C76 . R7 ) = ( abs ( R28 . R7 ) ))) by L1630;
L1758: D171 <= ( D171 + D171 ) by NAT_1:11;
L1759: D171 <= C75 by L1758 , L1742 , XXREAL_0:2;
L1760: D171 < ( len C76 ) by L1759 , L1753 , L1755 , NAT_1:13;
L1761: ( len ( C76 | D171 ) ) = D171 by L1760 , AFINSQ_1:11;
L1762: ( C74 + 1 ) <= D171 by L1746 , L1741 , XXREAL_0:2;
L1763: ( C74 + 1 ) <= C75 by L1762 , L1759 , XXREAL_0:2;
L1764: C74 <= C75 by L1763 , NAT_1:13;
L1765: ( D163 . C75 ) >= ( D163 . C74 ) by L1764 , L1725 , L1694;
L1766: ( ( D163 . C75 ) - ( D163 . C74 ) ) >= ( ( D163 . C74 ) - ( D163 . C74 ) ) by L1765 , XREAL_1:9;
L1767: ( abs ( ( D163 . C75 ) - ( D163 . C74 ) ) ) = ( ( D163 . C75 ) - ( D163 . C74 ) ) by L1766 , ABSVALUE:def 1;
consider R29 being (XFinSequence of ( REAL )) such that L1768: C76 = ( ( C76 | D171 ) ^ R29 ) by L2;
L1769: ( C75 + 1 ) = ( ( len ( C76 | D171 ) ) + ( len R29 ) ) by L1753 , L1755 , L1768 , AFINSQ_1:def 3;
L1770: ( R29 | ( ( C75 - D171 ) + 1 ) ) = R29 by L1769 , L1761 , RELAT_1:69;
L1771: C73 <= ( max (( C74 + 1 ) , C73) ) by XXREAL_0:25;
L1772: C73 <= D171 by L1771 , L1741 , XXREAL_0:2;
L1773: C73 <= D172 by L1772 , L1758 , XXREAL_0:2;
L1774: (C73 <= C75 & C75 in ( NAT )) by L1773 , L1742 , XXREAL_0:2;
L1775: ( abs ( ( D164 . C75 ) - D161 ) ) < D169 by L1774 , L1736;
defpred S25[ Nat ] means (( ( D171 + $1 ) + 1 ) <= ( C75 + 1 ) implies ( Sum ( R29 | ( $1 + 1 ) ) ) <= ( R25 * ( ( D163 . ( D171 + $1 ) ) - ( D163 . D173 ) ) ));
L1776: (for R9 being Nat holds (S25[ R9 ] implies S25[ ( R9 + 1 ) ]))
proof
let R9 being Nat;
assume that
L1777: S25[ R9 ];
set D174 = ( R9 + 1 );
set D175 = ( D171 + D174 );
L1778: ( abs ( R21 . D175 ) ) = ( ( abs R21 ) . D175 ) by SEQ_1:12;
assume L1779: ( D175 + 1 ) <= ( C75 + 1 );
L1780: D175 < ( C75 + 1 ) by L1779 , NAT_1:13;
L1781: D175 in ( C75 + 1 ) by L1780 , NAT_1:44;
L1782: ( R28 . D175 ) = ( ( R21 . D175 ) * ( Sum ( R22 ^\ ( ( C75 -' D175 ) + 1 ) ) ) ) by L1781 , L1754;
L1783: ( abs ( R28 . D175 ) ) = ( ( abs ( R21 . D175 ) ) * ( abs ( Sum ( R22 ^\ ( ( C75 -' D175 ) + 1 ) ) ) ) ) by L1782 , COMPLEX1:65;
L1784: D175 < ( C75 + 1 ) by L1779 , NAT_1:13;
L1785: D174 < ( len R29 ) by L1784 , L1769 , L1761 , XREAL_1:7;
L1786: D174 in ( len R29 ) by L1785 , NAT_1:44;
L1787: ( Sum ( R29 | ( D174 + 1 ) ) ) = ( ( R29 . D174 ) + ( Sum ( R29 | D174 ) ) ) by L1786 , AFINSQ_2:65;
L1788: ( C75 + 1 ) = ( len C76 ) by L1753 , L1755;
L1789: ( C76 . D175 ) = ( R29 . ( D175 - D171 ) ) by L1788 , L1768 , L1761 , L1780 , AFINSQ_1:19 , NAT_1:11;
L1790: ( R29 . D174 ) = ( abs ( R28 . D175 ) ) by L1789 , L1753 , L1755 , L1757 , L1781;
L1791: (( abs ( R21 . D175 ) ) >= ( 0 ) & ( abs ( Sum ( R22 ^\ ( ( C75 -' D175 ) + 1 ) ) ) ) < R25) by L1723 , COMPLEX1:46;
L1792: ( R29 . D174 ) <= ( R25 * ( abs ( R21 . D175 ) ) ) by L1791 , L1790 , L1783 , XREAL_1:64;
L1793: ( Sum ( R29 | ( D174 + 1 ) ) ) <= ( ( R25 * ( ( abs R21 ) . D175 ) ) + ( R25 * ( ( D163 . ( D171 + R9 ) ) - ( D163 . D173 ) ) ) ) by L1792 , L1777 , L1779 , L1787 , L1778 , NAT_1:13 , XREAL_1:7;
L1794: ( Sum ( R29 | ( D174 + 1 ) ) ) <= ( R25 * ( ( ( ( abs R21 ) . D175 ) + ( D163 . ( D171 + R9 ) ) ) - ( D163 . D173 ) ) ) by L1793;
L1795: ( Sum ( R29 | ( D174 + 1 ) ) ) <= ( R25 * ( ( D163 . ( ( D171 + R9 ) + 1 ) ) - ( D163 . D173 ) ) ) by L1794 , SERIES_1:def 1;
thus L1796: thesis by L1795;
end;
L1797: ( abs ( ( D163 . C75 ) - ( D163 . C74 ) ) ) < D170 by L1739 , L1764;
L1798: ( R25 * ( ( D163 . C75 ) - ( D163 . C74 ) ) ) <= ( R25 * D170 ) by L1797 , L1722 , L1767 , XREAL_1:64;
L1799: ( R25 * ( ( D163 . C75 ) - ( D163 . D173 ) ) ) <= ( R25 * D170 ) by L1798 , L1751 , XXREAL_0:2;
L1800: (C75 = ( D171 + ( C75 - D171 ) ) & ( C75 - D171 ) = ( C75 -' D171 )) by L1742 , L1758 , XREAL_1:233 , XXREAL_0:2;
L1801: S25[ ( 0 ) ]
proof
assume L1802: ( ( D171 + ( 0 ) ) + 1 ) <= ( C75 + 1 );
L1803: D171 < ( C75 + 1 ) by L1802 , NAT_1:13;
L1804: D171 in ( C75 + 1 ) by L1803 , NAT_1:44;
L1805: ( R28 . D171 ) = ( ( R21 . D171 ) * ( Sum ( R22 ^\ ( ( C75 -' D171 ) + 1 ) ) ) ) by L1804 , L1754;
L1806: ( ( D171 + 1 ) - D171 ) <= ( ( C75 + 1 ) - D171 ) by L1802 , XREAL_1:9;
L1807: 1 c= ( len R29 ) by L1806 , L1769 , L1761 , NAT_1:39;
L1808: ( dom ( R29 | 1 ) ) = 1 by L1807 , RELAT_1:62;
L1809: ( C75 + 1 ) = ( len C76 ) by L1753 , L1755;
L1810: ( C76 . D171 ) = ( R29 . ( D171 - D171 ) ) by L1809 , L1768 , L1761 , L1803 , AFINSQ_1:19;
L1811: ( R29 . ( 0 ) ) = ( abs ( R28 . D171 ) ) by L1810 , L1753 , L1755 , L1757 , L1804;
L1812: ( R29 . ( 0 ) ) = ( ( abs ( R21 . D171 ) ) * ( abs ( Sum ( R22 ^\ ( ( C75 -' D171 ) + 1 ) ) ) ) ) by L1811 , L1805 , COMPLEX1:65;
L1813: (( abs ( R21 . D171 ) ) >= ( 0 ) & R25 > ( abs ( Sum ( R22 ^\ ( ( C75 -' D171 ) + 1 ) ) ) )) by L1723 , COMPLEX1:46;
L1814: ( 0 ) in 1 by NAT_1:44;
L1815: ( ( R29 | 1 ) . ( 0 ) ) = ( R29 . ( 0 ) ) by L1814 , L1808 , FUNCT_1:47;
L1816: ( ( D163 . D173 ) + ( ( abs R21 ) . ( D173 + 1 ) ) ) = ( D163 . ( D173 + 1 ) ) by SERIES_1:def 1;
L1817: ( ( D163 . D171 ) - ( D163 . D173 ) ) = ( abs ( R21 . D171 ) ) by L1816 , SEQ_1:12;
L1818: ( Sum ( R29 | 1 ) ) = ( ( R29 | 1 ) . ( 0 ) ) by L1808 , L1366;
thus L1819: thesis by L1818 , L1815 , L1812 , L1817 , L1813 , XREAL_1:64;
end;
L1820: (for R9 being Nat holds S25[ R9 ]) from NAT_1:sch 2(L1801 , L1776);
L1821: ( Sum R29 ) <= ( R25 * ( ( D163 . C75 ) - ( D163 . D173 ) ) ) by L1820 , L1770 , L1800;
L1822: ( Sum R29 ) <= ( R25 * D170 ) by L1821 , L1799 , XXREAL_0:2;
L1823: ( Sum R29 ) <= ( R27 / 3 ) by L1822 , L1722 , XCMPLX_1:92;
L1824: ( ( abs R21 ) . ( 0 ) ) >= ( 0 ) by L1725;
L1825: ( ( ( abs R21 ) . ( 0 ) ) * ( abs ( ( D164 . C75 ) - D161 ) ) ) <= ( D169 * ( ( abs R21 ) . ( 0 ) ) ) by L1824 , L1775 , XREAL_1:64;
L1826: ( 0 ) in ( C75 + 1 ) by NAT_1:44;
L1827: ( R28 . ( 0 ) ) = ( ( R21 . ( 0 ) ) * ( Sum ( R22 ^\ ( ( C75 -' ( 0 ) ) + 1 ) ) ) ) by L1826 , L1754;
L1828: ( D163 . D173 ) <= ( Sum ( abs R21 ) ) by L1729 , L1730 , RSSPACE2:3;
L1829: ( D169 * ( D163 . D173 ) ) <= ( D169 * ( Sum ( abs R21 ) ) ) by L1828 , L1713 , L1733 , XREAL_1:64;
L1830: (D161 = ( ( D164 . ( C75 -' ( 0 ) ) ) + ( Sum ( R22 ^\ ( ( C75 -' ( 0 ) ) + 1 ) ) ) ) & ( C75 -' ( 0 ) ) = C75) by L1709 , NAT_D:40 , SERIES_1:15;
L1831: ( Sum ( R22 ^\ ( ( C75 -' ( 0 ) ) + 1 ) ) ) = ( D161 - ( D164 . C75 ) ) by L1830;
L1832: C72 <= ( max (1 , C72) ) by XXREAL_0:25;
L1833: C72 <= D171 by L1832 , L1743 , XXREAL_0:2;
L1834: (C72 <= C75 & C75 in ( NAT )) by L1833 , L1759 , XXREAL_0:2;
L1835: ( abs ( ( D165 . C75 ) - D162 ) ) < D168 by L1834 , L1717;
L1836: (( abs ( D161 * ( ( D165 . C75 ) - D162 ) ) ) = ( ( abs D161 ) * ( abs ( ( D165 . C75 ) - D162 ) ) ) & ( abs D161 ) >= ( 0 )) by COMPLEX1:46 , COMPLEX1:65;
L1837: ( abs ( D161 * ( ( D165 . C75 ) - D162 ) ) ) <= ( ( abs D161 ) * D168 ) by L1836 , L1835 , XREAL_1:64;
L1838: ( Sum C76 ) = ( ( Sum ( C76 | D171 ) ) + ( Sum R29 ) ) by L1768 , AFINSQ_2:55;
defpred S26[ Nat ] means (( $1 + 1 ) <= D171 implies ( Sum ( C76 | ( $1 + 1 ) ) ) <= ( D169 * ( D163 . $1 ) ));
L1839: C73 <= D171 by L1771 , L1741 , XXREAL_0:2;
L1840: (for R9 being Nat holds (S26[ R9 ] implies S26[ ( R9 + 1 ) ]))
proof
let R9 being Nat;
assume that
L1841: S26[ R9 ];
reconsider D176 = ( R9 + 1 ) as (Element of ( NAT ));
L1842: ( abs ( R21 . D176 ) ) = ( ( abs R21 ) . D176 ) by SEQ_1:12;
L1843: ( C75 - D171 ) >= ( D172 - D171 ) by L1742 , XREAL_1:9;
assume L1844: ( ( R9 + 1 ) + 1 ) <= D171;
L1845: D176 < D171 by L1844 , NAT_1:13;
L1846: ( C75 - D176 ) >= ( C75 - D171 ) by L1845 , XREAL_1:10;
L1847: ( C75 - D176 ) >= D171 by L1846 , L1843 , XXREAL_0:2;
L1848: ( C75 - D176 ) >= C73 by L1847 , L1839 , XXREAL_0:2;
L1849: ( ( D169 * ( abs ( R21 . D176 ) ) ) + ( Sum ( C76 | D176 ) ) ) <= ( ( D169 * ( abs ( R21 . D176 ) ) ) + ( D169 * ( D163 . R9 ) ) ) by L1841 , L1844 , NAT_1:13 , XREAL_1:6;
L1850: (( ( D169 * ( abs ( R21 . D176 ) ) ) + ( Sum ( C76 | D176 ) ) ) <= ( D169 * ( ( ( abs R21 ) . D176 ) + ( D163 . R9 ) ) ) & R9 in ( NAT )) by L1849 , L1842 , ORDINAL1:def 12;
L1851: ( ( D169 * ( abs ( R21 . D176 ) ) ) + ( Sum ( C76 | D176 ) ) ) <= ( D169 * ( D163 . D176 ) ) by L1850 , SERIES_1:def 1;
L1852: D176 < C75 by L1759 , L1845 , XXREAL_0:2;
L1853: D176 < ( C75 + 1 ) by L1852 , NAT_1:13;
L1854: D176 in ( C75 + 1 ) by L1853 , NAT_1:44;
L1855: ( Sum ( C76 | ( D176 + 1 ) ) ) = ( ( C76 . D176 ) + ( Sum ( C76 | D176 ) ) ) by L1854 , L1753 , L1755 , AFINSQ_2:65;
L1856: ( C75 - D176 ) = ( C75 -' D176 ) by L1759 , L1845 , XREAL_1:233 , XXREAL_0:2;
L1857: ( abs ( ( D164 . ( C75 -' D176 ) ) - D161 ) ) < D169 by L1856 , L1736 , L1848;
L1858: ( abs ( D161 - ( D164 . ( C75 -' D176 ) ) ) ) < D169 by L1857 , COMPLEX1:60;
L1859: D161 = ( ( D164 . ( C75 -' D176 ) ) + ( Sum ( R22 ^\ ( ( C75 -' D176 ) + 1 ) ) ) ) by L1709 , SERIES_1:15;
L1860: ( abs ( R21 . D176 ) ) >= ( 0 ) by COMPLEX1:46;
L1861: ( ( abs ( D161 - ( D164 . ( C75 -' D176 ) ) ) ) * ( abs ( R21 . D176 ) ) ) <= ( D169 * ( abs ( R21 . D176 ) ) ) by L1860 , L1858 , XREAL_1:64;
L1862: ( abs ( ( R21 . D176 ) * ( Sum ( R22 ^\ ( ( C75 -' D176 ) + 1 ) ) ) ) ) <= ( D169 * ( abs ( R21 . D176 ) ) ) by L1861 , L1859 , COMPLEX1:65;
L1863: (( R28 . D176 ) = ( ( R21 . D176 ) * ( Sum ( R22 ^\ ( ( C75 -' D176 ) + 1 ) ) ) ) & ( abs ( R28 . D176 ) ) = ( C76 . D176 )) by L1753 , L1754 , L1755 , L1757 , L1854;
L1864: ( Sum ( C76 | ( D176 + 1 ) ) ) <= ( ( D169 * ( abs ( R21 . D176 ) ) ) + ( Sum ( C76 | D176 ) ) ) by L1863 , L1855 , L1862 , XREAL_1:6;
thus L1865: thesis by L1864 , L1851 , XXREAL_0:2;
end;
L1866: (( Sum ( C76 | ( ( 0 ) + 1 ) ) ) = ( ( C76 . ( 0 ) ) + ( Sum ( C76 | (( 0 ) qua Ordinal) ) ) ) & ( C76 . ( 0 ) ) = ( abs ( R28 . ( 0 ) ) )) by L1753 , L1755 , L1757 , L1826 , AFINSQ_2:65;
L1867: ( Sum ( C76 | ( ( 0 ) + 1 ) ) ) = ( ( abs ( R21 . ( 0 ) ) ) * ( abs ( Sum ( R22 ^\ ( ( C75 -' ( 0 ) ) + 1 ) ) ) ) ) by L1866 , L1827 , COMPLEX1:65
.= ( ( ( abs R21 ) . ( 0 ) ) * ( abs ( Sum ( R22 ^\ ( ( C75 -' ( 0 ) ) + 1 ) ) ) ) ) by SEQ_1:12
.= ( ( ( abs R21 ) . ( 0 ) ) * ( abs ( ( D164 . C75 ) - D161 ) ) ) by L1831 , COMPLEX1:60;
L1868: S26[ ( 0 ) ] by L1867 , L1825 , SERIES_1:def 1;
L1869: (for R9 being Nat holds S26[ R9 ]) from NAT_1:sch 2(L1868 , L1840);
L1870: ( Sum ( C76 | D171 ) ) <= ( D169 * ( D163 . D173 ) ) by L1869 , L1745;
L1871: ( ( Sum ( abs R21 ) ) + 1 ) > ( ( Sum ( abs R21 ) ) + (( 0 ) qua Nat) ) by XREAL_1:8;
L1872: ( D169 * ( ( Sum ( abs R21 ) ) + 1 ) ) >= ( D169 * ( Sum ( abs R21 ) ) ) by L1871 , L1713 , L1733 , XREAL_1:64;
L1873: ( D169 * ( D163 . D173 ) ) <= ( R27 / 3 ) by L1872 , L1829 , L1732 , XXREAL_0:2;
L1874: ( Sum ( C76 | D171 ) ) <= ( R27 / 3 ) by L1873 , L1870 , XXREAL_0:2;
L1875: ( ( Sum ( C76 | D171 ) ) + ( Sum R29 ) ) <= ( ( R27 / 3 ) + ( R27 / 3 ) ) by L1874 , L1823 , XREAL_1:7;
L1876: ( abs ( Sum R28 ) ) <= ( ( R27 / 3 ) + ( R27 / 3 ) ) by L1875 , L1756 , L1838 , XXREAL_0:2;
L1877: ( ( D167 . C75 ) - ( D162 * D161 ) ) = ( ( D161 * ( ( D165 . C75 ) - D162 ) ) - ( Sum R28 ) ) by L1752;
L1878: ( abs ( ( D167 . C75 ) - ( D162 * D161 ) ) ) <= ( ( abs ( D161 * ( ( D165 . C75 ) - D162 ) ) ) + ( abs ( Sum R28 ) ) ) by L1877 , COMPLEX1:57;
L1879: D168 > ( 0 ) by L1713 , L1715 , XREAL_1:139;
L1880: ( D168 * ( ( abs D161 ) + 1 ) ) > ( D168 * ( abs D161 ) ) by L1879 , L1724 , XREAL_1:68;
L1881: ( abs ( D161 * ( ( D165 . C75 ) - D162 ) ) ) < ( R27 / 3 ) by L1880 , L1720 , L1837 , XXREAL_0:2;
L1882: ( ( abs ( D161 * ( ( D165 . C75 ) - D162 ) ) ) + ( abs ( Sum R28 ) ) ) < ( ( R27 / 3 ) + ( ( R27 / 3 ) + ( R27 / 3 ) ) ) by L1881 , L1876 , XREAL_1:8;
thus L1883: thesis by L1882 , L1878 , XXREAL_0:2;
end;
L1884: D167 is  convergent by L1710 , SEQ_2:def 6;
thus L1885: D166 is  summable by L1884 , SERIES_1:def 2;
L1886: ( lim D167 ) = ( D162 * D161 ) by L1710 , L1884 , SEQ_2:def 7;
thus L1887: thesis by L1886 , SERIES_1:def 3;
end;
begin
theorem
L1888: (for R25 being  real number holds (ex B55 being Real_Sequence st ((for R12 being Nat holds ( B55 . R12 ) = ( ( Catalan ( R12 + 1 ) ) * ( R25 |^ R12 ) )) & (( abs R25 ) < ( 1 / 4 ) implies (B55 is  absolutely_summable & ( Sum B55 ) = ( 1 + ( R25 * ( ( Sum B55 ) |^ 2 ) ) ) & ( Sum B55 ) = ( 2 / ( 1 + ( sqrt ( 1 - ( 4 * R25 ) ) ) ) ) & (R25 <> ( 0 ) implies ( Sum B55 ) = ( ( 1 - ( sqrt ( 1 - ( 4 * R25 ) ) ) ) / ( 2 * R25 ) )))))))
proof
defpred S27[ set , set ] means (for R25 being  real number holds ($1 = R25 implies (ex B56 being Real_Sequence st ((for R12 being Nat holds ( B56 . R12 ) = ( ( Catalan ( R12 + 1 ) ) * ( R25 |^ R12 ) )) & (( abs R25 ) < ( 1 / 4 ) implies (B56 is  absolutely_summable & ( Sum B56 ) = ( 1 + ( R25 * ( ( Sum B56 ) |^ 2 ) ) ) & $2 = ( Sum B56 )))))));
L1889: (for R1 being set holds (R1 in ( REAL ) implies (ex R4 being set st (R4 in ( REAL ) & S27[ R1 , R4 ]))))
proof
let R1 being set;
L1890: ( abs 1 ) = 1 by ABSVALUE:def 1;
assume L1891: R1 in ( REAL );
reconsider D177 = R1 as Real by L1891;
set D178 = ( 4 * ( abs D177 ) );
deffunc H1((Element of ( NAT ))) = ( ( Catalan ( $1 + 1 ) ) * ( D177 |^ $1 ) );
consider C77 being Real_Sequence such that L1892: (for B57 being (Element of ( NAT )) holds ( C77 . B57 ) = H1(B57)) from FUNCT_2:sch 4;
set D179 = ( D178 GeoSeq );
defpred S28[ Nat ] means ( ( abs C77 ) . $1 ) <= ( D179 . $1 );
L1893: (for R12 being Nat holds (S28[ R12 ] implies S28[ ( R12 + 1 ) ]))
proof
L1894: ( abs D177 ) >= ( 0 ) by COMPLEX1:46;
let R12 being Nat;
assume L1895: S28[ R12 ];
L1896: ( D178 * ( ( abs C77 ) . R12 ) ) <= ( D178 * ( D179 . R12 ) ) by L1895 , L1894 , XREAL_1:64;
set D180 = ( R12 + 1 );
L1897: (R12 in ( NAT ) & D180 in ( NAT )) by ORDINAL1:def 12;
L1898: (( abs ( D177 |^ D180 ) ) >= ( 0 ) & ( D177 |^ D180 ) = ( D177 * ( D177 |^ R12 ) )) by COMPLEX1:46 , NEWTON:6;
L1899: ( Catalan ( D180 + 1 ) ) >= ( 0 ) by CATALAN1:17;
L1900: ( abs ( Catalan ( D180 + 1 ) ) ) = ( Catalan ( D180 + 1 ) ) by L1899 , ABSVALUE:def 1;
L1901: ( Catalan D180 ) >= ( 0 ) by CATALAN1:17;
L1902: ( abs ( Catalan D180 ) ) = ( Catalan D180 ) by L1901 , ABSVALUE:def 1;
L1903: ( abs ( Catalan ( D180 + 1 ) ) ) < ( 4 * ( abs ( Catalan D180 ) ) ) by L1902 , L1900 , CATALAN1:21;
L1904: ( ( abs ( D177 |^ D180 ) ) * ( abs ( Catalan ( D180 + 1 ) ) ) ) <= ( ( 4 * ( abs ( Catalan D180 ) ) ) * ( abs ( D177 * ( D177 |^ R12 ) ) ) ) by L1903 , L1898 , XREAL_1:64;
L1905: ( abs ( D177 * ( D177 |^ R12 ) ) ) = ( ( abs D177 ) * ( abs ( D177 |^ R12 ) ) ) by COMPLEX1:65;
L1906: ( abs ( ( D177 |^ D180 ) * ( Catalan ( D180 + 1 ) ) ) ) <= ( D178 * ( ( abs ( Catalan D180 ) ) * ( abs ( D177 |^ R12 ) ) ) ) by L1905 , L1904 , COMPLEX1:65;
L1907: ( abs ( C77 . D180 ) ) <= ( D178 * ( ( abs ( Catalan D180 ) ) * ( abs ( D177 |^ R12 ) ) ) ) by L1906 , L1892;
L1908: (( abs ( C77 . D180 ) ) <= ( D178 * ( abs ( ( Catalan D180 ) * ( D177 |^ R12 ) ) ) ) & R12 in ( NAT )) by L1907 , COMPLEX1:65 , ORDINAL1:def 12;
L1909: ( abs ( C77 . D180 ) ) <= ( D178 * ( abs ( C77 . R12 ) ) ) by L1908 , L1892;
L1910: ( abs ( C77 . R12 ) ) = ( ( abs C77 ) . R12 ) by L1897 , SEQ_1:12;
L1911: ( ( abs C77 ) . D180 ) <= ( D178 * ( ( abs C77 ) . R12 ) ) by L1910 , L1909 , SEQ_1:12;
L1912: ( ( abs C77 ) . D180 ) <= ( D178 * ( D179 . R12 ) ) by L1911 , L1896 , XXREAL_0:2;
thus L1913: thesis by L1912 , L1897 , PREPOWER:3;
end;
L1914: ( C77 . ( 0 ) ) = ( ( Catalan ( ( 0 ) + 1 ) ) * ( D177 |^ ( 0 ) ) ) by L1892;
L1915: ( ( abs C77 ) . ( 0 ) ) = ( abs ( D177 |^ ( 0 ) ) ) by L1914 , CATALAN1:11 , SEQ_1:12;
L1916: (( D177 |^ ( 0 ) ) = 1 & ( D178 |^ ( 0 ) ) = 1) by NEWTON:4;
L1917: S28[ ( 0 ) ] by L1916 , L1915 , L1890 , PREPOWER:def 1;
L1918: (for R12 being Nat holds S28[ R12 ]) from NAT_1:sch 2(L1917 , L1893);
L1919: (for B58 being (Element of ( NAT )) holds S28[ B58 ]) by L1918;
L1920:
now
let C78 being (Element of ( NAT ));
L1921: ( ( abs C77 ) . C78 ) = ( abs ( C77 . C78 ) ) by SEQ_1:12;
thus L1922: ( ( abs C77 ) . C78 ) >= ( 0 ) by L1921 , COMPLEX1:46;
end;
take ( Sum C77 );
thus L1923: ( Sum C77 ) in ( REAL );
let R26 being  real number;
assume that
L1924: R1 = R26;
L1925: (for R4 being set holds (R4 in ( NAT ) implies ( ( C77 ^\ 1 ) . R4 ) = ( ( C77 (##) ( D177 (#) C77 ) ) . R4 )))
proof
let R4 being set;
assume L1926: R4 in ( NAT );
reconsider D181 = R4 as (Element of ( NAT )) by L1926;
set D182 = ( D181 + 1 );
consider R29 being (XFinSequence of ( REAL )) such that L1927: ( dom R29 ) = D182 and L1928: (for R7 being Nat holds (R7 in ( D181 + 1 ) implies ( R29 . R7 ) = ( ( C77 . R7 ) * ( ( D177 (#) C77 ) . ( D181 -' R7 ) ) ))) and L1929: ( Sum R29 ) = ( ( C77 (##) ( D177 (#) C77 ) ) . D181 ) by L1411;
consider C79 being (XFinSequence of ( NAT )) such that L1930: ( Sum C79 ) = ( Catalan ( D182 + 1 ) ) and L1931: ( dom C79 ) = D182 and L1932: (for R8 being Nat holds (R8 < D182 implies ( C79 . R8 ) = ( ( Catalan ( R8 + 1 ) ) * ( Catalan ( D182 -' R8 ) ) ))) by L1176;
L1933: ( rng C79 ) c= ( REAL ) by XBOOLE_1:1;
reconsider D183 = C79 as (XFinSequence of ( REAL )) by L1933 , RELAT_1:def 19;
defpred S29[ set , set ] means (for R9 being Nat holds (R9 = $1 implies $2 = ( ( D177 |^ D182 ) * ( C79 . R9 ) )));
L1934: (for R9 being Nat holds (R9 in D182 implies (ex B59 being (Element of ( REAL )) st S29[ R9 , B59 ])))
proof
let R9 being Nat;
assume that
L1935: R9 in D182;
take ( ( D177 |^ D182 ) * ( C79 . R9 ) );
thus L1936: thesis;
end;
consider R30 being (XFinSequence of ( REAL )) such that L1937: ( dom R30 ) = D182 and L1938: (for B60 being Nat holds (B60 in D182 implies S29[ B60 , ( R30 . B60 ) ])) from STIRL2_1:sch 5(L1934);
L1939:
now
let C80 being Nat;
assume that
L1940: C80 in ( dom R30 );
L1941: C80 in ( NAT ) by ORDINAL1:def 12;
L1942: C80 < ( D181 + 1 ) by L1937 , L1940 , NAT_1:44;
L1943: ( D182 -' C80 ) = ( D182 - C80 ) by L1942 , XREAL_1:233;
L1944: D181 = ( C80 + ( D181 - C80 ) );
L1945: C80 <= D181 by L1942 , NAT_1:13;
L1946: ( D181 -' C80 ) = ( D181 - C80 ) by L1945 , XREAL_1:233;
L1947: ( R29 . C80 ) = ( ( C77 . C80 ) * ( ( D177 (#) C77 ) . ( D181 - C80 ) ) ) by L1946 , L1928 , L1937 , L1940
.= ( ( ( Catalan ( C80 + 1 ) ) * ( D177 |^ C80 ) ) * ( ( D177 (#) C77 ) . ( D181 - C80 ) ) ) by L1892 , L1941
.= ( ( ( Catalan ( C80 + 1 ) ) * ( D177 |^ C80 ) ) * ( D177 * ( C77 . ( D181 - C80 ) ) ) ) by L1946 , SEQ_1:9
.= ( ( ( Catalan ( C80 + 1 ) ) * ( D177 |^ C80 ) ) * ( D177 * ( ( Catalan ( ( D181 -' C80 ) + 1 ) ) * ( D177 |^ ( D181 -' C80 ) ) ) ) ) by L1892 , L1946
.= ( ( ( ( Catalan ( C80 + 1 ) ) * ( Catalan ( D182 -' C80 ) ) ) * D177 ) * ( ( D177 |^ C80 ) * ( D177 |^ ( D181 -' C80 ) ) ) ) by L1946 , L1943
.= ( ( ( ( Catalan ( C80 + 1 ) ) * ( Catalan ( D182 -' C80 ) ) ) * D177 ) * ( D177 |^ D181 ) ) by L1946 , L1944 , NEWTON:8
.= ( ( ( C79 . C80 ) * D177 ) * ( D177 |^ D181 ) ) by L1932 , L1942
.= ( ( C79 . C80 ) * ( D177 * ( D177 |^ D181 ) ) )
.= ( ( C79 . C80 ) * ( D177 |^ D182 ) ) by NEWTON:6
.= ( R30 . C80 ) by L1937 , L1938 , L1940;
thus L1948: ( R29 . C80 ) = ( R30 . C80 ) by L1947;
end;
L1949: (for R9 being Nat holds (R9 in ( len R30 ) implies ( R30 . R9 ) = ( ( D177 |^ D182 ) * ( D183 . R9 ) ))) by L1937 , L1938;
L1950: ( Sum R30 ) = ( ( D177 |^ D182 ) * ( Sum D183 ) ) by L1949 , L1931 , L1937 , L1469
.= ( C77 . D182 ) by L1892 , L1930
.= ( ( C77 ^\ 1 ) . D181 ) by NAT_1:def 3;
thus L1951: thesis by L1950 , L1927 , L1929 , L1937 , L1939 , AFINSQ_1:8;
end;
L1952: ( C77 ^\ 1 ) = ( C77 (##) ( D177 (#) C77 ) ) by L1925 , FUNCT_2:12;
L1953: ( abs D177 ) >= ( 0 ) by COMPLEX1:46;
L1954: ( abs D178 ) = D178 by L1953 , ABSVALUE:def 1;
take C77;
thus L1955:now
let R12 being Nat;
L1956: R12 in ( NAT ) by ORDINAL1:def 12;
thus L1957: ( C77 . R12 ) = ( ( Catalan ( R12 + 1 ) ) * ( R26 |^ R12 ) ) by L1956 , L1892 , L1924;
end;
L1958: ( D177 |^ ( 0 ) ) = 1 by NEWTON:4;
L1959: ( C77 . ( 0 ) ) = ( ( Catalan ( ( 0 ) + 1 ) ) * ( D177 |^ ( 0 ) ) ) by L1892;
L1960: ( ( Partial_Sums C77 ) . ( 0 ) ) = 1 by L1959 , L1958 , CATALAN1:11 , SERIES_1:def 1;
assume L1961: ( abs R26 ) < ( 1 / 4 );
L1962: D178 < ( 4 * ( 1 / 4 ) ) by L1961 , L1924 , XREAL_1:68;
L1963: D179 is  summable by L1962 , L1954 , SERIES_1:24;
L1964: ( abs C77 ) is  summable by L1963 , L1920 , L1919 , SERIES_1:20;
thus L1965: C77 is  absolutely_summable by L1964 , SERIES_1:def 4;
L1966: C77 is  summable by L1965;
L1967: (( D177 (#) C77 ) is  summable & ( Sum ( D177 (#) C77 ) ) = ( D177 * ( Sum C77 ) )) by L1966 , SERIES_1:10;
L1968: ( Sum ( C77 ^\ ( ( 0 ) + 1 ) ) ) = ( ( Sum C77 ) * ( D177 * ( Sum C77 ) ) ) by L1967 , L1965 , L1952 , L1707;
L1969: ( Sum C77 ) = ( 1 + ( D177 * ( ( Sum C77 ) * ( Sum C77 ) ) ) ) by L1968 , L1965 , L1960 , SERIES_1:15;
thus L1970: thesis by L1969 , L1924 , WSIERP_1:1;
end;
consider C81 being (Function of ( REAL ) , ( REAL )) such that L1971: (for R1 being set holds (R1 in ( REAL ) implies S27[ R1 , ( C81 . R1 ) ])) from FUNCT_2:sch 1(L1889);
L1972: (for R25 being  real number holds (for R26 being  real number holds ((( 0 ) < R26 & R26 <= R25 & R25 < ( 1 / 4 )) implies ( C81 . R26 ) <= ( C81 . R25 ))))
proof
let R25 being  real number;
let R26 being  real number;
assume that
L1973: ( 0 ) < R26
and
L1974: R26 <= R25
and
L1975: R25 < ( 1 / 4 );
L1976: R25 is Real by XREAL_0:def 1;
consider C82 being Real_Sequence such that L1977: (for R12 being Nat holds ( C82 . R12 ) = ( ( Catalan ( R12 + 1 ) ) * ( R25 |^ R12 ) )) and L1978: (( abs R25 ) < ( 1 / 4 ) implies (C82 is  absolutely_summable & ( Sum C82 ) = ( 1 + ( R25 * ( ( Sum C82 ) |^ 2 ) ) ) & ( C81 . R25 ) = ( Sum C82 ))) by L1976 , L1971;
L1979: R26 is Real by XREAL_0:def 1;
consider C83 being Real_Sequence such that L1980: (for R12 being Nat holds ( C83 . R12 ) = ( ( Catalan ( R12 + 1 ) ) * ( R26 |^ R12 ) )) and L1981: (( abs R26 ) < ( 1 / 4 ) implies (C83 is  absolutely_summable & ( Sum C83 ) = ( 1 + ( R26 * ( ( Sum C83 ) |^ 2 ) ) ) & ( C81 . R26 ) = ( Sum C83 ))) by L1979 , L1971;
L1982:
now
let C84 being (Element of ( NAT ));
L1983: (( R26 |^ C84 ) <= ( R25 |^ C84 ) & ( Catalan ( C84 + 1 ) ) >= ( 0 )) by L1973 , L1974 , CATALAN1:17 , PREPOWER:9;
L1984: ( ( Catalan ( C84 + 1 ) ) * ( R26 |^ C84 ) ) <= ( ( Catalan ( C84 + 1 ) ) * ( R25 |^ C84 ) ) by L1983 , XREAL_1:64;
L1985: ( ( Catalan ( C84 + 1 ) ) * ( R25 |^ C84 ) ) = ( C82 . C84 ) by L1977;
thus L1986: ( C83 . C84 ) <= ( C82 . C84 ) by L1985 , L1980 , L1984;
end;
L1987: R26 < ( 1 / 4 ) by L1974 , L1975 , XXREAL_0:2;
thus L1988: thesis by L1973 , L1974 , L1975 , L1987 , L1981 , L1978 , L1982 , ABSVALUE:def 1 , TIETZE:5;
end;
set D184 = { B61 where B61 is Real : (( 0 ) < B61 & B61 < ( 1 / 4 ) & ( C81 . B61 ) = ( ( 1 + ( sqrt ( 1 - ( 4 * B61 ) ) ) ) / ( 2 * B61 ) )) };
L1989: (for R25 being  real number holds ((R25 <> ( 0 ) & ( abs R25 ) < ( 1 / 4 )) implies (( C81 . R25 ) = ( ( 1 - ( sqrt ( 1 - ( 4 * R25 ) ) ) ) / ( 2 * R25 ) ) or ( C81 . R25 ) = ( ( 1 + ( sqrt ( 1 - ( 4 * R25 ) ) ) ) / ( 2 * R25 ) ))))
proof
let R25 being  real number;
assume that
L1990: R25 <> ( 0 )
and
L1991: ( abs R25 ) < ( 1 / 4 );
L1992: R25 <= ( 1 / 4 ) by L1991 , ABSVALUE:5;
L1993: ( 4 * R25 ) <= ( ( 1 / 4 ) * 4 ) by L1992 , XREAL_1:64;
L1994: ( ( 4 * R25 ) - ( 4 * R25 ) ) <= ( 1 - ( 4 * R25 ) ) by L1993 , XREAL_1:9;
L1995: R25 is Real by XREAL_0:def 1;
consider C85 being Real_Sequence such that L1996: (for R12 being Nat holds ( C85 . R12 ) = ( ( Catalan ( R12 + 1 ) ) * ( R25 |^ R12 ) )) and L1997: (( abs R25 ) < ( 1 / 4 ) implies (C85 is  absolutely_summable & ( Sum C85 ) = ( 1 + ( R25 * ( ( Sum C85 ) |^ 2 ) ) ) & ( C81 . R25 ) = ( Sum C85 ))) by L1995 , L1971;
set D185 = ( Sum C85 );
L1998: D185 = ( 1 + ( R25 * ( D185 ^2 ) ) ) by L1991 , L1997 , WSIERP_1:1;
L1999: ( ( ( R25 * ( D185 ^2 ) ) + ( ( - 1 ) * D185 ) ) + 1 ) = ( 0 ) by L1998;
L2000: (( delta (R25 , ( - 1 ) , 1) ) = ( 1 - ( 4 * R25 ) ) & ( - ( - 1 ) ) = 1);
thus L2001: thesis by L2000 , L1990 , L1991 , L1997 , L1999 , L1994 , FIB_NUM:6;
end;
L2002: (for R25 being  real number holds (for R26 being  real number holds ((( 0 ) < R25 & R25 < R26 & R26 < ( 1 / 4 )) implies ( ( 1 + ( sqrt ( 1 - ( 4 * R25 ) ) ) ) / ( 2 * R25 ) ) > ( ( 1 + ( sqrt ( 1 - ( 4 * R26 ) ) ) ) / ( 2 * R26 ) ))))
proof
let R25 being  real number;
let R26 being  real number;
assume that
L2003: ( 0 ) < R25
and
L2004: R25 < R26
and
L2005: R26 < ( 1 / 4 );
L2006: ( 4 * R26 ) < ( 4 * ( 1 / 4 ) ) by L2005 , XREAL_1:68;
L2007: ( ( 4 * R26 ) - ( 4 * R26 ) ) < ( 1 - ( 4 * R26 ) ) by L2006 , XREAL_1:9;
L2008: ( sqrt ( 1 - ( 4 * R26 ) ) ) > ( 0 ) by L2007 , SQUARE_1:25;
L2009: ( 4 * R25 ) < ( 4 * R26 ) by L2004 , XREAL_1:68;
L2010: ( 1 - ( 4 * R25 ) ) >= ( 1 - ( 4 * R26 ) ) by L2009 , XREAL_1:10;
L2011: ( sqrt ( 1 - ( 4 * R25 ) ) ) >= ( sqrt ( 1 - ( 4 * R26 ) ) ) by L2010 , L2007 , SQUARE_1:26;
L2012: ( 1 + ( sqrt ( 1 - ( 4 * R25 ) ) ) ) >= ( 1 + ( sqrt ( 1 - ( 4 * R26 ) ) ) ) by L2011 , XREAL_1:7;
L2013: ( ( 1 + ( sqrt ( 1 - ( 4 * R25 ) ) ) ) / ( 2 * R25 ) ) >= ( ( 1 + ( sqrt ( 1 - ( 4 * R26 ) ) ) ) / ( 2 * R25 ) ) by L2012 , L2003 , XREAL_1:72;
L2014: (( 2 * R25 ) > ( 2 * ( 0 ) ) & ( 2 * R25 ) < ( 2 * R26 )) by L2003 , L2004 , XREAL_1:68;
L2015: ( ( 1 + ( sqrt ( 1 - ( 4 * R26 ) ) ) ) / ( 2 * R25 ) ) > ( ( 1 + ( sqrt ( 1 - ( 4 * R26 ) ) ) ) / ( 2 * R26 ) ) by L2014 , L2008 , XREAL_1:76;
thus L2016: thesis by L2015 , L2013 , XXREAL_0:2;
end;
L2017: D184 = ( {} )
proof
assume L2018: D184 <> ( {} );
consider R1 being set such that L2019: R1 in D184 by L2018 , XBOOLE_0:def 1;
consider C86 being Real such that L2020: R1 = C86 and L2021: ( 0 ) < C86 and L2022: C86 < ( 1 / 4 ) and L2023: ( C81 . C86 ) = ( ( 1 + ( sqrt ( 1 - ( 4 * C86 ) ) ) ) / ( 2 * C86 ) ) by L2019;
consider C87 being  real number such that L2024: C86 < C87 and L2025: C87 < ( 1 / 4 ) by L2022 , XREAL_1:5;
L2026: ( abs C87 ) = C87 by L2021 , L2024 , ABSVALUE:def 1;
L2027: ( 4 * C87 ) < ( 4 * ( 1 / 4 ) ) by L2025 , XREAL_1:68;
L2028: ( ( 4 * C87 ) - ( 4 * C87 ) ) < ( 1 - ( 4 * C87 ) ) by L2027 , XREAL_1:9;
L2029: ( sqrt ( 1 - ( 4 * C87 ) ) ) > ( 0 ) by L2028 , SQUARE_1:25;
L2030: ( 1 - ( sqrt ( 1 - ( 4 * C87 ) ) ) ) <= ( 1 - ( 0 ) ) by L2029 , XREAL_1:10;
L2031: ( ( 1 - ( sqrt ( 1 - ( 4 * C87 ) ) ) ) / ( 2 * C87 ) ) <= ( 1 / ( 2 * C87 ) ) by L2030 , L2021 , L2024 , XREAL_1:72;
L2032: ( 2 * C86 ) > ( 2 * ( 0 ) ) by L2021 , XREAL_1:68;
L2033: C87 is Real by XREAL_0:def 1;
L2034: D184 c= { C86 }
proof
assume L2035: (not D184 c= { C86 });
L2036: ( D184 \ { C86 } ) <> ( {} ) by L2035 , XBOOLE_1:37;
consider R4 being set such that L2037: R4 in ( D184 \ { C86 } ) by L2036 , XBOOLE_0:def 1;
L2038: R4 in D184 by L2037;
consider C88 being Real such that L2039: R4 = C88 and L2040: ( 0 ) < C88 and L2041: C88 < ( 1 / 4 ) and L2042: ( C81 . C88 ) = ( ( 1 + ( sqrt ( 1 - ( 4 * C88 ) ) ) ) / ( 2 * C88 ) ) by L2038;
L2043: C86 <> C88 by L2037 , L2039 , ZFMISC_1:56;
L2044:
now
per cases  by L2043 , XXREAL_0:1;
suppose L2045: C86 > C88;

L2046: ( C81 . C88 ) > ( C81 . C86 ) by L2045 , L2002 , L2022 , L2023 , L2040 , L2042;
thus L2047: contradiction by L2046 , L1972 , L2022 , L2040 , L2045;
end;
suppose L2048: C86 < C88;

L2049: ( C81 . C86 ) > ( C81 . C88 ) by L2048 , L2002 , L2021 , L2023 , L2041 , L2042;
thus L2050: contradiction by L2049 , L1972 , L2021 , L2041 , L2048;
end;
end;
thus L2052: contradiction by L2044;
end;
L2053: (not C87 in D184) by L2034 , L2024 , TARSKI:def 1;
L2054: ( C81 . C87 ) <> ( ( 1 + ( sqrt ( 1 - ( 4 * C87 ) ) ) ) / ( 2 * C87 ) ) by L2053 , L2021 , L2024 , L2025 , L2033;
L2055: ( C81 . C87 ) = ( ( 1 - ( sqrt ( 1 - ( 4 * C87 ) ) ) ) / ( 2 * C87 ) ) by L2054 , L1989 , L2021 , L2024 , L2025 , L2026;
L2056: ( 4 * C86 ) < ( 4 * ( 1 / 4 ) ) by L2022 , XREAL_1:68;
L2057: ( ( 4 * C86 ) - ( 4 * C86 ) ) < ( 1 - ( 4 * C86 ) ) by L2056 , XREAL_1:9;
L2058: ( sqrt ( 1 - ( 4 * C86 ) ) ) > ( 0 ) by L2057 , SQUARE_1:25;
L2059: ( 1 + ( 0 ) ) < ( 1 + ( sqrt ( 1 - ( 4 * C86 ) ) ) ) by L2058 , XREAL_1:8;
L2060: ( 1 / ( 2 * C86 ) ) < ( C81 . C86 ) by L2059 , L2023 , L2032 , XREAL_1:74;
L2061: ( 2 * C86 ) < ( 2 * C87 ) by L2024 , XREAL_1:68;
L2062: ( 1 / ( 2 * C87 ) ) < ( 1 / ( 2 * C86 ) ) by L2061 , L2032 , XREAL_1:76;
L2063: ( C81 . C87 ) < ( 1 / ( 2 * C86 ) ) by L2062 , L2055 , L2031 , XXREAL_0:2;
L2064: ( C81 . C87 ) < ( C81 . C86 ) by L2063 , L2060 , XXREAL_0:2;
thus L2065: thesis by L2064 , L1972 , L2021 , L2024 , L2025;
end;
L2066: (for R25 being  real number holds ((( 0 ) < R25 & ( abs R25 ) < ( 1 / 4 )) implies ( C81 . R25 ) = ( ( 1 - ( sqrt ( 1 - ( 4 * R25 ) ) ) ) / ( 2 * R25 ) )))
proof
let R25 being  real number;
assume that
L2067: ( 0 ) < R25
and
L2068: ( abs R25 ) < ( 1 / 4 );
assume L2069: ( C81 . R25 ) <> ( ( 1 - ( sqrt ( 1 - ( 4 * R25 ) ) ) ) / ( 2 * R25 ) );
L2070: ( C81 . R25 ) = ( ( 1 + ( sqrt ( 1 - ( 4 * R25 ) ) ) ) / ( 2 * R25 ) ) by L2069 , L1989 , L2067 , L2068;
L2071: ( abs R25 ) = R25 by L2067 , ABSVALUE:def 1;
L2072: R25 in D184 by L2071 , L2067 , L2068 , L2070;
thus L2073: thesis by L2072 , L2017;
end;
L2074: (for R25 being  real number holds ((R25 < ( 0 ) & ( abs R25 ) < ( 1 / 4 )) implies ( C81 . R25 ) = ( ( 1 - ( sqrt ( 1 - ( 4 * R25 ) ) ) ) / ( 2 * R25 ) )))
proof
let R25 being  real number;
assume that
L2075: R25 < ( 0 )
and
L2076: ( abs R25 ) < ( 1 / 4 );
L2077: ( 2 * R25 ) < ( 2 * ( 0 ) ) by L2075 , XREAL_1:68;
L2078: (( abs ( 2 * R25 ) ) = ( - ( 2 * R25 ) ) & ( (( 0 ) qua Nat) - ( 2 * R25 ) ) > ( (( 0 ) qua Nat) - ( 0 ) )) by L2077 , ABSVALUE:def 1;
L2079: ( abs ( - R25 ) ) < ( 1 / 4 ) by L2076 , COMPLEX1:52;
L2080: ( 1 / 4 ) >= ( - R25 ) by L2079 , ABSVALUE:5;
L2081: ( 4 * ( 1 / 4 ) ) >= ( 4 * ( - R25 ) ) by L2080 , XREAL_1:64;
L2082: ( 1 - ( 4 * ( - R25 ) ) ) >= ( ( 4 * ( - R25 ) ) - ( 4 * ( - R25 ) ) ) by L2081 , XREAL_1:9;
L2083: ( sqrt ( 1 - ( 4 * ( - R25 ) ) ) ) >= ( 0 ) by L2082 , SQUARE_1:def 2;
L2084: ( 1 - ( sqrt ( 1 - ( 4 * ( - R25 ) ) ) ) ) <= ( 1 - ( 0 ) ) by L2083 , XREAL_1:10;
L2085: ( sqrt ( 1 - ( 4 * R25 ) ) ) > ( 0 ) by L2075 , SQUARE_1:25;
L2086: ( 1 + ( sqrt ( 1 - ( 4 * R25 ) ) ) ) > ( 1 + ( 0 ) ) by L2085 , XREAL_1:8;
L2087: ( 1 - ( sqrt ( 1 - ( 4 * ( - R25 ) ) ) ) ) < ( 1 + ( sqrt ( 1 - ( 4 * R25 ) ) ) ) by L2086 , L2084 , XXREAL_0:2;
L2088: ( 1 + ( sqrt ( 1 - ( 4 * R25 ) ) ) ) = ( abs ( 1 + ( sqrt ( 1 - ( 4 * R25 ) ) ) ) ) by L2085 , ABSVALUE:def 1;
L2089: ( ( 1 - ( sqrt ( 1 - ( 4 * ( - R25 ) ) ) ) ) / ( 2 * ( - R25 ) ) ) < ( ( abs ( 1 + ( sqrt ( 1 - ( 4 * R25 ) ) ) ) ) / ( abs ( 2 * R25 ) ) ) by L2088 , L2087 , L2078 , XREAL_1:74;
consider C89 being Real_Sequence such that L2090: (for R12 being Nat holds ( C89 . R12 ) = ( ( Catalan ( R12 + 1 ) ) * ( ( - R25 ) |^ R12 ) )) and L2091: (( abs ( - R25 ) ) < ( 1 / 4 ) implies (C89 is  absolutely_summable & ( Sum C89 ) = ( 1 + ( ( - R25 ) * ( ( Sum C89 ) |^ 2 ) ) ) & ( C81 . ( - R25 ) ) = ( Sum C89 ))) by L1971;
assume L2092: ( C81 . R25 ) <> ( ( 1 - ( sqrt ( 1 - ( 4 * R25 ) ) ) ) / ( 2 * R25 ) );
L2093: R25 is Real by XREAL_0:def 1;
consider C90 being Real_Sequence such that L2094: (for R12 being Nat holds ( C90 . R12 ) = ( ( Catalan ( R12 + 1 ) ) * ( R25 |^ R12 ) )) and L2095: (( abs R25 ) < ( 1 / 4 ) implies (C90 is  absolutely_summable & ( Sum C90 ) = ( 1 + ( R25 * ( ( Sum C90 ) |^ 2 ) ) ) & ( C81 . R25 ) = ( Sum C90 ))) by L2093 , L1971;
L2096:
now
let R1 being set;
assume L2097: R1 in ( NAT );
reconsider D186 = R1 as (Element of ( NAT )) by L2097;
L2098: ( ( - R25 ) |^ D186 ) = ( ( ( - 1 ) * R25 ) |^ D186 )
.= ( ( ( - 1 ) |^ D186 ) * ( R25 |^ D186 ) ) by NEWTON:7;
L2099: ( abs ( ( - R25 ) |^ D186 ) ) = ( ( abs ( ( - 1 ) |^ D186 ) ) * ( abs ( R25 |^ D186 ) ) ) by L2098 , COMPLEX1:65
.= ( 1 * ( abs ( R25 |^ D186 ) ) ) by SERIES_2:1;
L2100: ( Catalan ( D186 + 1 ) ) >= ( 0 ) by CATALAN1:17;
L2101: ( abs ( Catalan ( D186 + 1 ) ) ) = ( Catalan ( D186 + 1 ) ) by L2100 , ABSVALUE:def 1;
L2102: ( ( - R25 ) |^ D186 ) >= ( 0 ) by L2075 , POWER:3;
L2103: ( abs ( ( - R25 ) |^ D186 ) ) = ( ( - R25 ) |^ D186 ) by L2102 , ABSVALUE:def 1;
L2104: ( C89 . D186 ) = ( ( abs ( R25 |^ D186 ) ) * ( abs ( Catalan ( D186 + 1 ) ) ) ) by L2103 , L2090 , L2099 , L2101
.= ( abs ( ( R25 |^ D186 ) * ( Catalan ( D186 + 1 ) ) ) ) by COMPLEX1:65
.= ( abs ( C90 . D186 ) ) by L2094
.= ( ( abs C90 ) . D186 ) by SEQ_1:12;
thus L2105: ( ( abs C90 ) . R1 ) = ( C89 . R1 ) by L2104;
end;
L2106: ( abs C90 ) = C89 by L2096 , FUNCT_2:12;
L2107: ( (( 0 ) qua Nat) - R25 ) > ( (( 0 ) qua Nat) - ( 0 ) ) by L2075;
L2108: ( Sum C89 ) = ( ( 1 - ( sqrt ( 1 - ( 4 * ( - R25 ) ) ) ) ) / ( 2 * ( - R25 ) ) ) by L2107 , L2066 , L2091 , L2079;
L2109: ( abs ( Sum C90 ) ) <= ( Sum ( abs C90 ) ) by L2076 , L2095 , TIETZE:6;
L2110: ( abs ( ( 1 + ( sqrt ( 1 - ( 4 * R25 ) ) ) ) / ( 2 * R25 ) ) ) <= ( Sum C89 ) by L2109 , L1989 , L2075 , L2076 , L2095 , L2106 , L2092;
thus L2111: thesis by L2110 , L2108 , L2089 , COMPLEX1:67;
end;
let R25 being  real number;
L2112: R25 is Real by XREAL_0:def 1;
consider C91 being Real_Sequence such that L2113: (for R12 being Nat holds ( C91 . R12 ) = ( ( Catalan ( R12 + 1 ) ) * ( R25 |^ R12 ) )) and L2114: (( abs R25 ) < ( 1 / 4 ) implies (C91 is  absolutely_summable & ( Sum C91 ) = ( 1 + ( R25 * ( ( Sum C91 ) |^ 2 ) ) ) & ( C81 . R25 ) = ( Sum C91 ))) by L2112 , L1971;
set D187 = ( sqrt ( 1 - ( 4 * R25 ) ) );
take C91;
thus L2115: (for R12 being Nat holds ( C91 . R12 ) = ( ( Catalan ( R12 + 1 ) ) * ( R25 |^ R12 ) )) by L2113;
assume L2116: ( abs R25 ) < ( 1 / 4 );
thus L2117: (C91 is  absolutely_summable & ( Sum C91 ) = ( 1 + ( R25 * ( ( Sum C91 ) |^ 2 ) ) )) by L2116 , L2114;
L2118: (R25 <> ( 0 ) implies ( Sum C91 ) = ( ( 1 - ( sqrt ( 1 - ( 4 * R25 ) ) ) ) / ( 2 * R25 ) ))
proof
assume L2119: R25 <> ( 0 );
L2120: (R25 > ( 0 ) or R25 < ( 0 )) by L2119;
thus L2121: thesis by L2120 , L2066 , L2074 , L2114 , L2116;
end;
L2122:
now
per cases ;
suppose L2123: R25 = ( 0 );

thus L2124: ( 2 / ( 1 + D187 ) ) = ( Sum C91 ) by L2123 , L2114 , L2116 , SQUARE_1:18;
end;
suppose L2125: R25 <> ( 0 );

L2126: ( 2 * R25 ) <> ( 0 ) by L2125;
L2127: R25 <= ( 1 / 4 ) by L2116 , ABSVALUE:5;
L2128: ( 4 * R25 ) <= ( 4 * ( 1 / 4 ) ) by L2127 , XREAL_1:64;
L2129: ( 1 - ( 4 * R25 ) ) >= ( ( 4 * R25 ) - ( 4 * R25 ) ) by L2128 , XREAL_1:9;
L2130: D187 >= ( 0 ) by L2129 , SQUARE_1:def 2;
L2131: ( ( 1 + D187 ) / ( 1 + D187 ) ) = 1 by L2130 , XCMPLX_1:60;
L2132: ( ( 1 - D187 ) / ( 2 * R25 ) ) = ( ( ( 1 - D187 ) / ( 2 * R25 ) ) * ( ( 1 + D187 ) / ( 1 + D187 ) ) ) by L2131
.= ( ( ( 1 - D187 ) * ( 1 + D187 ) ) / ( ( 2 * R25 ) * ( 1 + D187 ) ) ) by XCMPLX_1:76
.= ( ( ( 1 ^2 ) - ( D187 ^2 ) ) / ( ( 2 * R25 ) * ( 1 + D187 ) ) )
.= ( ( 1 - ( 1 - ( 4 * R25 ) ) ) / ( ( 2 * R25 ) * ( 1 + D187 ) ) ) by L2129 , SQUARE_1:def 2
.= ( ( ( 2 * R25 ) * 2 ) / ( ( 2 * R25 ) * ( 1 + D187 ) ) )
.= ( ( ( 2 * R25 ) / ( 2 * R25 ) ) * ( 2 / ( 1 + D187 ) ) ) by XCMPLX_1:76
.= ( 1 * ( 2 / ( 1 + D187 ) ) ) by L2126 , XCMPLX_1:60;
thus L2133: ( Sum C91 ) = ( 2 / ( 1 + D187 ) ) by L2132 , L2118 , L2125;
end;
end;
thus L2135: thesis by L2122 , L2118;
end;
