:: Armstrong's Axioms
::  by William W. Armstrong , Yatsuka Nakamura and Piotr Rudnicki
::
:: Received October 25, 2002
:: Copyright (c) 2002-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, SUBSET_1, XBOOLE_0, FINSEQ_2, FINSEQ_1, RELAT_1,
      FINSUB_1, FINSET_1, SETFAM_1, TARSKI, RELAT_2, WAYBEL_4, ORDERS_2,
      STRUCT_0, XXREAL_0, NAT_1, CARD_1, PRE_POLY, FUNCT_1, MARGREL1, XBOOLEAN,
      PARTFUN1, BINARI_3, EUCLID, ARYTM_3, POWER, ORDINAL4, PBOOLE, CARD_3,
      ZFMISC_1, MCART_1, EQREL_1, FUNCOP_1, BINARITH, FUNCT_4, ARMSTRNG;
 notations TARSKI, XBOOLE_0, ZFMISC_1,
      XTUPLE_0, SUBSET_1, FINSET_1, FINSUB_1, RELAT_1,
      RELAT_2, RELSET_1, SETFAM_1, PARTFUN1, CARD_1, NUMBERS, FUNCT_4, FUNCT_1,
      ORDERS_2, MCART_1, EQREL_1, CARD_3, PBOOLE, STRUCT_0, WAYBEL_4, FINSEQ_1,
      FUNCOP_1, MARGREL1, FINSEQ_2, BINARITH, BINARI_3, SERIES_1, EUCLID,
      XXREAL_0, ORDINAL1, NAT_1, PRE_POLY, FUNCT_2;
 constructors SETFAM_1, XXREAL_0, FINSEQOP, SERIES_1, BINARITH, EUCLID,
      MATRLIN, WAYBEL_4, BINARI_3, RELSET_1, XTUPLE_0;
 registrations XBOOLE_0, SUBSET_1, RELAT_1, FUNCT_1, ORDINAL1, FUNCOP_1,
      FINSET_1, NUMBERS, XXREAL_0, XREAL_0, NAT_1, FINSEQ_1, EQREL_1, MARGREL1,
      FINSEQ_2, CARD_3, ORDERS_2, PRE_POLY, CARD_1, RELSET_1, STRUCT_0,
      FUNCT_4, XTUPLE_0;
 requirements BOOLE, SUBSET, NUMERALS, REAL, ARITHM;
 definitions TARSKI, RELAT_2, YELLOW_0, WAYBEL_4, FINSUB_1, FINSEQ_2, SUBSET_1,
      XBOOLEAN, PRE_POLY, XTUPLE_0;
 theorems TARSKI, RELSET_1, ZFMISC_1, EQREL_1, MCART_1, RELAT_1, RELAT_2,
      XBOOLE_0, XBOOLE_1, ORDERS_2, ENUMSET1, BAGORDER, WAYBEL_4, FINSET_1,
      SUBSET_1, SETFAM_1, MSSUBFAM, TREES_1, FUNCT_1, FINSEQ_4, FINSEQ_1,
      FINSEQ_2, FUNCOP_1, CARD_3, BINARI_3, NAT_1, EUCLID, FUNCT_2, BINARITH,
      POWER, FUNCT_4, FINSUB_1, PARTFUN1, NUMBERS, XREAL_1, ORDERS_1, XXREAL_0,
      ORDINAL1, PRE_POLY, CARD_1, XTUPLE_0;
 schemes FINSET_1, NAT_1, FUNCT_2, FINSEQ_1, FINSEQ_2, XBOOLE_0, CLASSES1;

begin
L1:
now
let C1 being (Element of ( NAT ));
let C2 being non  empty set;
let C3 being (Tuple of C1 , C2);
L2: ( len C3 ) = C1 by CARD_1:def 7;
thus L3: ( dom C3 ) = ( Seg C1 ) by L2 , FINSEQ_1:def 3;
end;
L4:
now
let C4 being (Element of ( NAT ));
let C5 being non  empty set;
let C6 being (Element of ( C4 -tuples_on C5 ));
L5: ( len C6 ) = C4 by CARD_1:def 7;
thus L6: ( dom C6 ) = ( Seg C4 ) by L5 , FINSEQ_1:def 3;
end;
theorem
L7: (for B1 being set holds (B1 is  cap-closed implies (for B2 being set holds (for B3 being  finite (Subset-Family of B2) holds ((B2 in B1 & B3 c= B1) implies ( Intersect B3 ) in B1)))))
proof
let C7 being set;
assume L8: C7 is  cap-closed;
let C8 being set;
let C9 being  finite (Subset-Family of C8);
assume that
L9: C8 in C7
and
L10: C9 c= C7;
defpred S1[ set ] means (for B4 being (Subset-Family of C8) holds (B4 = $1 implies ( Intersect B4 ) in C7));
L11:
now
let C10 being set;
let C11 being set;
assume that
L12: C10 in C9
and
L13: C11 c= C9
and
L14: S1[ C11 ];
thus L15: S1[ ( C11 \/ { C10 } ) ]
proof
reconsider D1 = { C10 } as (Subset-Family of C8) by L12 , ZFMISC_1:31;
reconsider D2 = C11 as (Subset-Family of C8) by L13 , XBOOLE_1:1;
reconsider D3 = C10 as (Subset of C8) by L12;
L16: ( Intersect ( D2 \/ D1 ) ) = ( ( Intersect D2 ) /\ ( Intersect D1 ) ) by MSSUBFAM:8
.= ( ( Intersect D2 ) /\ D3 ) by MSSUBFAM:9;
L17: ( Intersect D2 ) in C7 by L14;
let C12 being (Subset-Family of C8);
assume L18: C12 = ( C11 \/ { C10 } );
thus L19: thesis by L18 , L8 , L10 , L12 , L17 , L16 , FINSUB_1:def 2;
end;

end;
L16: C9 is  finite;
L17: S1[ ( {} ) ] by L9 , SETFAM_1:def 9;
L18: S1[ C9 ] from FINSET_1:sch 2(L16 , L17 , L11);
thus L19: thesis by L18;
end;
registration
cluster  reflexive  antisymmetric  transitive non  empty for Relation;
existence
proof
set D4 = { [ ( {} ) , ( {} ) ] };
reconsider D5 = D4 as Relation;
take D5;
L20: ( field D5 ) = { ( {} ) , ( {} ) } by RELAT_1:17
.= { ( {} ) } by ENUMSET1:29;
thus L21: D5 is  reflexive
proof
let C13 being set;
assume L22: C13 in ( field D5 );
L23: C13 = ( {} ) by L22 , L20 , TARSKI:def 1;
thus L24: thesis by L23 , TARSKI:def 1;
end;

thus L25: D5 is  antisymmetric
proof
let C14 , C15 being set;
assume that
L26: C14 in ( field D5 )
and
L27: C15 in ( field D5 )
and
L28: [ C14 , C15 ] in D5
and
L29: [ C15 , C14 ] in D5;
L30: C14 = ( {} ) by L20 , L26 , TARSKI:def 1;
thus L31: thesis by L30 , L20 , L27 , TARSKI:def 1;
end;

thus L32: D5 is  transitive
proof
let C16 , C17 , C18 being set;
assume that
L33: C16 in ( field D5 )
and
L34: C17 in ( field D5 )
and
L35: C18 in ( field D5 )
and
L36: [ C16 , C17 ] in D5
and
L37: [ C17 , C18 ] in D5;
L38: C18 = ( {} ) by L20 , L35 , TARSKI:def 1;
L39: C16 = ( {} ) by L20 , L33 , TARSKI:def 1;
thus L40: thesis by L39 , L38 , TARSKI:def 1;
end;

thus L41: thesis;
end;
end;
theorem
L43: (for B5 being  antisymmetric  transitive non  empty Relation holds (for B6 being  finite (Subset of ( field B5 )) holds (B6 <> ( {} ) implies (ex B7 being (Element of B6) st B7 is_maximal_wrt B6 , B5))))
proof
let C19 being  antisymmetric  transitive non  empty Relation;
let C20 being  finite (Subset of ( field C19 ));
reconsider D6 = C19 as (Relation of ( field C19 )) by PRE_POLY:18;
set D7 = RelStr (# ( field C19 ) , D6 #);
set D8 = (the carrier of D7);
set D9 = (the InternalRel of D7);
L44: D8 is non  empty;
L45: C19 is_transitive_in ( field C19 ) by RELAT_2:def 16;
L46: D7 is  transitive
proof
let C21 , C22 , C23 being (Element of D7);
assume that
L47: C21 <= C22
and
L48: C22 <= C23;
L49: [ C22 , C23 ] in D9 by L48 , ORDERS_2:def 5;
L50: [ C21 , C22 ] in D9 by L47 , ORDERS_2:def 5;
L51: [ C21 , C23 ] in D9 by L50 , L44 , L45 , L49 , RELAT_2:def 8;
thus L52: thesis by L51 , ORDERS_2:def 5;
end;
L53: C19 is_antisymmetric_in ( field C19 ) by RELAT_2:def 12;
L54: D7 is  antisymmetric
proof
let C24 , C25 being (Element of D7);
assume that
L55: C24 <= C25
and
L56: C25 <= C24;
L57: [ C25 , C24 ] in D9 by L56 , ORDERS_2:def 5;
L58: [ C24 , C25 ] in D9 by L55 , ORDERS_2:def 5;
thus L59: thesis by L58 , L44 , L53 , L57 , RELAT_2:def 4;
end;
reconsider D10 = D7 as  antisymmetric  transitive non  empty RelStr by L54 , L46;
reconsider D11 = C20 as  finite (Subset of D8);
assume L60: C20 <> ( {} );
consider C26 being (Element of D10) such that L61: C26 in D11 and L62: C26 is_maximal_wrt D11 , (the InternalRel of D10) by L60 , BAGORDER:6;
reconsider D12 = C26 as (Element of C20) by L61;
take D12;
thus L63: D12 in C20 by L61;
given C27 being set such that
L64: C27 in C20
and
L65: C27 <> D12
and
L66: [ D12 , C27 ] in C19;

thus L67: thesis by L62 , L64 , L65 , L66 , WAYBEL_4:def 23;
end;
scheme SubsetSEq { F1() -> set , P1[set] } : (for B8 , B9 being (Subset of F1()) holds (((for B10 being set holds (B10 in B8 iff P1[ B10 ])) & (for B11 being set holds (B11 in B9 iff P1[ B11 ]))) implies B8 = B9))
proof
let C28 , C29 being (Subset of F1());
assume that
L68: (for B12 being set holds (B12 in C28 iff P1[ B12 ]))
and
L69: (for B13 being set holds (B13 in C29 iff P1[ B13 ]));
L70: (for B14 being set holds (B14 in C28 iff B14 in C29))
proof
let C30 being set;
thus L71:now
assume L72: C30 in C28;
L73: P1[ C30 ] by L72 , L68;
thus L74: C30 in C29 by L73 , L69;
end;
assume L75: C30 in C29;
L76: P1[ C30 ] by L75 , L69;
thus L77: thesis by L76 , L68;
end;
thus L78: thesis by L70 , TARSKI:1;
end;
definition
let C31 being set;
let C32 being Relation;
func C32 Maximal_in C31 -> (Subset of C31) means 
:L79: (for B15 being set holds (B15 in it iff B15 is_maximal_wrt C31 , C32));
existence
proof
defpred S2[ set ] means $1 is_maximal_wrt C31 , C32;
consider C33 being set such that L80: (for B16 being set holds (B16 in C33 iff (B16 in C31 & S2[ B16 ]))) from XBOOLE_0:sch 1;
L81: (for B17 being set holds (B17 in C33 implies B17 in C31)) by L80;
reconsider D13 = C33 as (Subset of C31) by L81 , TARSKI:def 3;
take D13;
let C34 being set;
thus L82: (C34 in D13 implies C34 is_maximal_wrt C31 , C32) by L80;
assume L83: C34 is_maximal_wrt C31 , C32;
L84: C34 in C31 by L83 , WAYBEL_4:def 23;
thus L85: thesis by L84 , L80 , L83;
end;
uniqueness
proof
defpred S3[ set ] means $1 is_maximal_wrt C31 , C32;
thus L86: (for B18 , B19 being (Subset of C31) holds (((for B20 being set holds (B20 in B18 iff S3[ B20 ])) & (for B21 being set holds (B21 in B19 iff S3[ B21 ]))) implies B18 = B19)) from SubsetSEq;
end;
end;
definition
let C35 , C36 being set;
pred C35 is_/\-irreducible_in C36
means
:L88: (C35 in C36 & (for B22 , B23 being set holds ((B22 in C36 & B23 in C36 & C35 = ( B22 /\ B23 )) implies (C35 = B22 or C35 = B23))))
;end;
notation
let C37 , C38 being set;
antonym C37 is_/\-reducible_in C38 for C37 is_/\-irreducible_in C38;
end;
definition
let C39 being non  empty set;
func /\-IRR C39 -> (Subset of C39) means 
:L91: (for B24 being set holds (B24 in it iff B24 is_/\-irreducible_in C39));
existence
proof
set D14 = { B25 where B25 is (Element of C39) : B25 is_/\-irreducible_in C39 };
L92: D14 c= C39
proof
let C40 being set;
assume L93: C40 in D14;
L94: (ex B26 being (Element of C39) st (C40 = B26 & B26 is_/\-irreducible_in C39)) by L93;
thus L95: thesis by L94;
end;
reconsider D15 = D14 as (Subset of C39) by L92;
take D15;
let C41 being set;
thus L96:now
assume L97: C41 in D15;
L98: (ex B27 being (Element of C39) st (C41 = B27 & B27 is_/\-irreducible_in C39)) by L97;
thus L99: C41 is_/\-irreducible_in C39 by L98;
end;
assume L100: C41 is_/\-irreducible_in C39;
L101: C41 in C39 by L100 , L88;
thus L102: thesis by L101 , L100;
end;
uniqueness
proof
defpred S4[ set ] means $1 is_/\-irreducible_in C39;
thus L103: (for B28 , B29 being (Subset of C39) holds (((for B30 being set holds (B30 in B28 iff S4[ B30 ])) & (for B31 being set holds (B31 in B29 iff S4[ B31 ]))) implies B28 = B29)) from SubsetSEq;
end;
end;
scheme FinIntersect { F2() -> non  empty  finite set , P2[set] } : (for B32 being set holds (B32 in F2() implies P2[ B32 ]))
provided
L105: (for B33 being set holds (B33 is_/\-irreducible_in F2() implies P2[ B33 ]))
and
L106: (for B34 , B35 being set holds ((B34 in F2() & B35 in F2() & P2[ B34 ] & P2[ B35 ]) implies P2[ ( B34 /\ B35 ) ]))
proof
deffunc H1(set) = { B36 where B36 is (Element of F2()) : $1 c= B36 };
given C42 being set such that
L107: C42 in F2()
and
L108: (not P2[ C42 ]);

defpred S5[ Nat ] means (ex B37 being (Element of F2()) st (( card H1(B37) ) = $1 & (not P2[ B37 ])));
L109: H1(C42) c= F2()
proof
let C43 being set;
assume L110: C43 in H1(C42);
L111: (ex B38 being (Element of F2()) st (C43 = B38 & C42 c= B38)) by L110;
thus L112: thesis by L111;
end;
reconsider D16 = H1(C42) as  finite set by L109;
L113: (ex B39 being Nat st S5[ B39 ])
proof
reconsider D17 = C42 as (Element of F2()) by L107;
take D18 = ( card D16 );
take D17;
thus L114: ( card H1(D17) ) = D18;
thus L115: thesis by L108;
end;
consider C44 being Nat such that L116: S5[ C44 ] and L117: (for B40 being Nat holds (S5[ B40 ] implies C44 <= B40)) from NAT_1:sch 5(L113);
consider C45 being (Element of F2()) such that L118: ( card H1(C45) ) = C44 and L119: (not P2[ C45 ]) by L116;
per cases ;
suppose L120: C45 is_/\-irreducible_in F2();

thus L121: contradiction by L120 , L105 , L119;
end;
suppose L122: C45 is_/\-reducible_in F2();

L123: H1(C45) c= F2()
proof
let C46 being set;
assume L124: C46 in H1(C45);
L125: (ex B41 being (Element of F2()) st (C46 = B41 & C45 c= B41)) by L124;
thus L126: thesis by L125;
end;
reconsider D19 = H1(C45) as  finite set by L123;
consider C47 , C48 being set such that L127: C47 in F2() and L128: C48 in F2() and L129: C45 = ( C47 /\ C48 ) and L130: C45 <> C47 and L131: C45 <> C48 by L122 , L88;
L132: C45 c= C48 by L129 , XBOOLE_1:17;
L133: H1(C47) c= F2()
proof
let C49 being set;
assume L134: C49 in H1(C47);
L135: (ex B42 being (Element of F2()) st (C49 = B42 & C47 c= B42)) by L134;
thus L136: thesis by L135;
end;
reconsider D20 = H1(C47) as  finite set by L133;
L137: H1(C48) c= F2()
proof
let C50 being set;
assume L138: C50 in H1(C48);
L139: (ex B43 being (Element of F2()) st (C50 = B43 & C48 c= B43)) by L138;
thus L140: thesis by L139;
end;
reconsider D21 = H1(C48) as  finite set by L137;
L141: C45 c= C47 by L129 , XBOOLE_1:17;
reconsider D22 = C48 , D23 = C47 as (Element of F2()) by L127 , L128;
L142: D21 c= D19
proof
let C51 being set;
assume L143: C51 in D21;
consider C52 being (Element of F2()) such that L144: C51 = C52 and L145: D22 c= C52 by L143;
L146: C45 c= C52 by L132 , L145 , XBOOLE_1:1;
thus L147: thesis by L146 , L144;
end;
L148:
now
assume L149: C45 in D21;
L150: (ex B44 being (Element of F2()) st (C45 = B44 & D22 c= B44)) by L149;
thus L151: contradiction by L150 , L131 , L132 , XBOOLE_0:def 10;
end;
L152: D21 <> D19 by L148;
L153: D21 c< D19 by L152 , L142 , XBOOLE_0:def 8;
L154: ( card D19 ) > ( card D21 ) by L153 , TREES_1:6;
L155: P2[ D22 ] by L154 , L117 , L118;
L156: D20 c= D19
proof
let C53 being set;
assume L157: C53 in D20;
consider C54 being (Element of F2()) such that L158: C53 = C54 and L159: D23 c= C54 by L157;
L160: C45 c= C54 by L141 , L159 , XBOOLE_1:1;
thus L161: thesis by L160 , L158;
end;
L162:
now
assume L163: C45 in D20;
L164: (ex B45 being (Element of F2()) st (C45 = B45 & D23 c= B45)) by L163;
thus L165: contradiction by L164 , L130 , L141 , XBOOLE_0:def 10;
end;
L166: D20 <> D19 by L162;
L167: D20 c< D19 by L166 , L156 , XBOOLE_0:def 8;
L168: ( card D19 ) > ( card D20 ) by L167 , TREES_1:6;
L169: P2[ D23 ] by L168 , L117 , L118;
thus L170: contradiction by L169 , L106 , L119 , L129 , L155;
end;
end;
theorem
L172: (for B46 being non  empty  finite set holds (for B47 being (Element of B46) holds (ex B48 being non  empty (Subset of B46) st (B47 = ( meet B48 ) & (for B49 being set holds (B49 in B48 implies B49 is_/\-irreducible_in B46))))))
proof
let C55 being non  empty  finite set;
let C56 being (Element of C55);
defpred S6[ set ] means (ex B50 being non  empty (Subset of C55) st ($1 = ( meet B50 ) & (for B51 being set holds (B51 in B50 implies B51 is_/\-irreducible_in C55))));
L173:
now
let C57 , C58 being set;
assume that
L174: C57 in C55
and
L175: C58 in C55
and
L176: S6[ C57 ]
and
L177: S6[ C58 ];
consider C59 being non  empty (Subset of C55) such that L178: C58 = ( meet C59 ) and L179: (for B52 being set holds (B52 in C59 implies B52 is_/\-irreducible_in C55)) by L177;
consider C60 being non  empty (Subset of C55) such that L180: C57 = ( meet C60 ) and L181: (for B53 being set holds (B53 in C60 implies B53 is_/\-irreducible_in C55)) by L176;
reconsider D24 = ( C60 \/ C59 ) as non  empty (Subset of C55);
L182:
now
take D25 = D24;
thus L183: ( C57 /\ C58 ) = ( meet D25 ) by L180 , L178 , SETFAM_1:9;
let C61 being set;
assume L184: C61 in D25;
per cases  by L184 , XBOOLE_0:def 3;
suppose L185: C61 in C60;

thus L186: C61 is_/\-irreducible_in C55 by L185 , L181;
end;
suppose L187: C61 in C59;

thus L188: C61 is_/\-irreducible_in C55 by L187 , L179;
end;
end;
thus L190: S6[ ( C57 /\ C58 ) ] by L182;
end;
L191:
now
let C62 being set;
assume L192: C62 is_/\-irreducible_in C55;
thus L193: S6[ C62 ]
proof
L194: C62 in C55 by L192 , L88;
reconsider D26 = { C62 } as non  empty (Subset of C55) by L194 , ZFMISC_1:31;
take D26;
thus L195: C62 = ( meet D26 ) by SETFAM_1:10;
let C63 being set;
assume L196: C63 in D26;
thus L197: thesis by L196 , L192 , TARSKI:def 1;
end;

end;
L194: (for B54 being set holds (B54 in C55 implies S6[ B54 ])) from FinIntersect(L191 , L173);
thus L195: thesis by L194;
end;
definition
let C64 being set;
let C65 being (Subset-Family of C64);
attr C65 is  (B1)
means
:L196: C64 in C65;
end;
notation
let C66 being set;
synonym C66 is  (B2) for C66 is  cap-closed;
end;
registration
let C67 being set;
cluster  (B1)  (B2) for (Subset-Family of C67);
existence
proof
set D27 = { C67 };
reconsider D28 = D27 as (Subset-Family of C67) by ZFMISC_1:68;
take D28;
L199: C67 in D28 by TARSKI:def 1;
thus L200: D28 is  (B1) by L199 , L196;
thus L201: D28 is  (B2)
proof
let C68 , C69 being set;
assume that
L202: C68 in D28
and
L203: C69 in D28;
L204: C69 = C67 by L203 , TARSKI:def 1;
L205: C68 = C67 by L202 , TARSKI:def 1;
thus L206: thesis by L205 , L204 , TARSKI:def 1;
end;

end;
end;
theorem
L203: (for B55 being set holds (for B56 being non  empty (Subset-Family of B55) holds (B56 is  cap-closed implies (for B57 being (Element of B56) holds ((B57 is_/\-irreducible_in B56 & B57 <> B55) implies (for B58 being  finite (Subset-Family of B55) holds ((B58 c= B56 & B57 = ( Intersect B58 )) implies B57 in B58)))))))
proof
let C70 being set;
let C71 being non  empty (Subset-Family of C70);
assume that
L204: C71 is  (B2);
let C72 being (Element of C71);
assume that
L205: C72 is_/\-irreducible_in C71
and
L206: C72 <> C70;
defpred S7[ set ] means ((ex B59 , B60 being (Element of C71) st (C72 <> B59 & C72 <> B60 & C72 = ( B59 /\ B60 ))) or (ex B61 being (Subset-Family of C70) st ($1 = ( {} ) or ($1 <> ( {} ) & $1 = B61 & ( Intersect B61 ) <> C72 & ( Intersect B61 ) in C71))));
let C73 being  finite (Subset-Family of C70);
assume that
L207: C73 c= C71
and
L208: C72 = ( Intersect C73 )
and
L209: (not C72 in C73);
L210:
now
let C74 , C75 being set;
assume that
L211: C74 in C73
and
L212: C75 c= C73
and
L213: S7[ C75 ];
per cases  by L213;
suppose L214: (ex B62 , B63 being (Element of C71) st (C72 <> B62 & C72 <> B63 & C72 = ( B62 /\ B63 )));

thus L215: S7[ ( C75 \/ { C74 } ) ] by L214;
end;
suppose L216: (ex B64 being (Subset-Family of C70) st (C75 = ( {} ) or (C75 = B64 & ( Intersect B64 ) <> C72 & ( Intersect B64 ) in C71)));

consider C76 being (Subset-Family of C70) such that L217: (C75 = ( {} ) or (C75 <> ( {} ) & C75 = C76 & ( Intersect C76 ) <> C72 & ( Intersect C76 ) in C71)) by L216;
thus L218: S7[ ( C75 \/ { C74 } ) ]
proof
reconsider D29 = { C74 } as (Subset-Family of C70) by L211 , ZFMISC_1:31;
L219: ( Intersect D29 ) = ( meet D29 ) by SETFAM_1:def 9;
L220: ( Intersect D29 ) = C74 by L219 , SETFAM_1:10;
per cases  by L217;
suppose L221: C75 = ( {} );

thus L222: thesis by L221 , L207 , L209 , L211 , L220;
end;
suppose L223: (C75 <> ( {} ) & C75 = C76 & ( Intersect C76 ) <> C72 & ( Intersect C76 ) in C71);

reconsider D30 = ( C75 \/ D29 ) as non  empty (Subset-Family of C70) by L223 , XBOOLE_1:8;
L224: ( Intersect D30 ) = ( meet D30 ) by SETFAM_1:def 9
.= ( ( meet C75 ) /\ ( meet D29 ) ) by L223 , SETFAM_1:9;
L225: ( Intersect C76 ) = ( meet C76 ) by L223 , SETFAM_1:def 9;
thus L226: S7[ ( C75 \/ { C74 } ) ]
proof
per cases ;
suppose L227: ( Intersect D30 ) <> C72;

L228: ( Intersect D30 ) in C71 by L204 , L207 , L211 , L219 , L220 , L223 , L225 , L224 , FINSUB_1:def 2;
thus L229: thesis by L228 , L227;
end;
suppose L230: ( Intersect D30 ) = C72;

thus L231: thesis by L230 , L207 , L209 , L211 , L219 , L220 , L223 , L225 , L224;
end;
end;

end;
end;

end;
end;
L220: S7[ ( {} ) ];
L221: C73 is  finite;
L222: S7[ C73 ] from FINSET_1:sch 2(L221 , L220 , L210);
thus L223: thesis by L222 , L205 , L206 , L208 , L88 , SETFAM_1:def 9;
end;
registration
let C77 , C78 being non  empty set;
let C79 being (Element of ( NAT ));
cluster  ->  FinSequence-yielding for (Function of C77 , ( C79 -tuples_on C78 ));
coherence
proof
let C80 being (Function of C77 , ( C79 -tuples_on C78 ));
let C81 being set;
assume L224: C81 in ( dom C80 );
reconsider D31 = ( C80 . C81 ) as (Element of ( C79 -tuples_on C78 )) by L224 , FUNCT_2:5;
thus L225: thesis;
end;
end;
registration
let C82 being  FinSequence-yielding Function;
let C83 being set;
cluster ( C82 . C83 ) ->  FinSequence-like;
coherence
proof
per cases ;
suppose L227: C83 in ( dom C82 );

thus L228: thesis by L227 , PRE_POLY:def 3;
end;
suppose L229: (not C83 in ( dom C82 ));

thus L230: thesis by L229 , FUNCT_1:def 2;
end;
end;
end;
definition
let C84 being (Element of ( NAT ));
let C85 , C86 being (Tuple of C84 , ( BOOLEAN ));
func C85 '&' C86 -> (Tuple of C84 , ( BOOLEAN )) means 
:L233: (for B65 being set holds (B65 in ( Seg C84 ) implies ( it . B65 ) = ( ( C85 /. B65 ) '&' ( C86 /. B65 ) )));
existence
proof
deffunc H2(set) = ( ( C85 /. $1 ) '&' ( C86 /. $1 ) );
consider C87 being (FinSequence of ( BOOLEAN )) such that L234: ( len C87 ) = C84 and L235: (for B66 being Nat holds (B66 in ( dom C87 ) implies ( C87 . B66 ) = H2(B66))) from FINSEQ_2:sch 1;
L236: ( dom C87 ) = ( Seg C84 ) by L234 , FINSEQ_1:def 3;
L237: C87 in ( ( BOOLEAN ) * ) by FINSEQ_1:def 11;
L238: C87 in ( C84 -tuples_on ( BOOLEAN ) ) by L237 , L234;
reconsider D32 = C87 as (Element of ( C84 -tuples_on ( BOOLEAN ) )) by L238;
take D32;
let C88 being set;
assume L239: C88 in ( Seg C84 );
thus L240: thesis by L239 , L235 , L236;
end;
uniqueness
proof
let C89 , C90 being (Tuple of C84 , ( BOOLEAN ));
assume that
L241: (for B67 being set holds (B67 in ( Seg C84 ) implies ( C89 . B67 ) = ( ( C85 /. B67 ) '&' ( C86 /. B67 ) )))
and
L242: (for B68 being set holds (B68 in ( Seg C84 ) implies ( C90 . B68 ) = ( ( C85 /. B68 ) '&' ( C86 /. B68 ) )));
L243:
now
L244: ( dom C89 ) = ( Seg C84 ) by L1;
thus L245: ( dom C89 ) = ( dom C90 ) by L244 , L1;
let C91 being set;
assume L246: C91 in ( dom C89 );
thus L247: ( C89 . C91 ) = ( ( C85 /. C91 ) '&' ( C86 /. C91 ) ) by L246 , L241 , L244
.= ( C90 . C91 ) by L242 , L244 , L246;
end;
thus L248: thesis by L243 , FUNCT_1:2;
end;
commutativity
;
end;
theorem
L250: (for B69 being (Element of ( NAT )) holds (for B70 being (Element of ( B69 -tuples_on ( BOOLEAN ) )) holds ( ( B69 -BinarySequence ( 0 ) ) '&' B70 ) = ( B69 -BinarySequence ( 0 ) )))
proof
let C92 being (Element of ( NAT ));
let C93 being (Element of ( C92 -tuples_on ( BOOLEAN ) ));
set D33 = ( C92 -BinarySequence ( 0 ) );
L251:
now
let C94 being set;
L252: ( dom D33 ) = ( Seg C92 ) by L1;
L253: ( dom ( D33 '&' C93 ) ) = ( Seg C92 ) by L1;
thus L254: ( dom ( D33 '&' C93 ) ) = ( dom D33 ) by L253 , L1;
let C95 being set;
assume L255: C95 in ( dom ( D33 '&' C93 ) );
L256: D33 = ( 0* C92 ) by BINARI_3:25
.= ( C92 |-> ( 0 ) ) by EUCLID:def 4;
L257: ( D33 . C95 ) = ( 0 ) by L256;
L258: ( D33 /. C95 ) = ( FALSE ) by L257 , L253 , L255 , L252 , PARTFUN1:def 6;
thus L259: ( ( D33 '&' C93 ) . C95 ) = ( ( FALSE ) '&' ( C93 /. C95 ) ) by L258 , L253 , L255 , L233
.= ( D33 . C95 ) by L256;
end;
thus L260: thesis by L251 , FUNCT_1:2;
end;
theorem
L261: (for B71 being (Element of ( NAT )) holds (for B72 being (Tuple of B71 , ( BOOLEAN )) holds ( ( 'not' ( B71 -BinarySequence ( 0 ) ) ) '&' B72 ) = B72))
proof
let C96 being (Element of ( NAT ));
let C97 being (Tuple of C96 , ( BOOLEAN ));
set D34 = ( C96 -BinarySequence ( 0 ) );
set D35 = ( 'not' D34 );
L262:
now
let C98 being set;
L263: ( dom D34 ) = ( Seg C96 ) by L1;
L264: ( dom ( D35 '&' C97 ) ) = ( Seg C96 ) by L1;
thus L265: ( dom ( D35 '&' C97 ) ) = ( dom C97 ) by L264 , L1;
let C99 being set;
assume L266: C99 in ( dom ( D35 '&' C97 ) );
reconsider D36 = C99 as (Element of ( NAT )) by L266;
L267: D34 = ( 0* C96 ) by BINARI_3:25
.= ( C96 |-> ( 0 ) ) by EUCLID:def 4;
L268: ( D34 . C99 ) = ( 0 ) by L267;
L269: ( D34 /. C99 ) = ( FALSE ) by L268 , L264 , L266 , L263 , PARTFUN1:def 6;
L270: ( D35 /. C99 ) = ( 'not' ( D34 /. D36 ) ) by L264 , L266 , BINARITH:def 1
.= ( TRUE ) by L269;
thus L271: ( ( D35 '&' C97 ) . C99 ) = ( ( TRUE ) '&' ( C97 /. C99 ) ) by L270 , L264 , L266 , L233
.= ( C97 . C99 ) by L265 , L266 , PARTFUN1:def 6;
end;
thus L272: thesis by L262 , FUNCT_1:2;
end;
theorem
L273: (for B73 , B74 being (Element of ( NAT )) holds (B74 < B73 implies (( ( B73 -BinarySequence ( 2 to_power B74 ) ) . ( B74 + 1 ) ) = 1 & (for B75 being (Element of ( NAT )) holds ((B75 in ( Seg B73 ) & B75 <> ( B74 + 1 )) implies ( ( B73 -BinarySequence ( 2 to_power B74 ) ) . B75 ) = ( 0 ))))))
proof
let C100 , C101 being (Element of ( NAT ));
assume L274: C101 < C100;
deffunc H3(Nat) = ( $1 -BinarySequence ( 2 to_power C101 ) );
set D37 = ( C100 -BinarySequence ( 2 to_power C101 ) );
defpred S8[ Nat ] means (C101 < $1 implies ( H3($1) . ( C101 + 1 ) ) = ( TRUE ));
L275:
now
let C102 being (Element of ( NAT ));
assume that
L276: S8[ C102 ];
L277:
now
assume L278: C101 < ( C102 + 1 );
L279: C101 <= C102 by L278 , NAT_1:13;
per cases  by L279 , XXREAL_0:1;
suppose L280: C102 = ( 0 );

L281: ( 0* C102 ) = ( C102 |-> ( 0 ) ) by EUCLID:def 4;
L282: ( dom ( 0* C102 ) ) = ( Seg C102 ) by L281 , FUNCOP_1:13;
L283: ( len ( 0* C102 ) ) = C102 by L282 , FINSEQ_1:def 3;
L284: ( dom <* ( TRUE ) *> ) = ( Seg 1 ) by FINSEQ_1:38;
L285: 1 in ( dom <* ( TRUE ) *> ) by L284 , FINSEQ_1:1;
L286: C101 = ( 0 ) by L278 , L280 , NAT_1:13;
thus L287: ( H3(( C102 + 1 )) . ( C101 + 1 ) ) = ( ( ( 0* C102 ) ^ <* ( TRUE ) *> ) . ( C101 + 1 ) ) by L286 , L280 , BINARI_3:28
.= ( <* ( TRUE ) *> . 1 ) by L280 , L286 , L283 , L285 , FINSEQ_1:def 7
.= ( TRUE ) by FINSEQ_1:40;
end;
suppose L288: (C102 > ( 0 ) & C102 = C101);

L289: ( 0* C102 ) = ( C102 |-> ( 0 ) ) by EUCLID:def 4;
L290: ( dom ( 0* C102 ) ) = ( Seg C102 ) by L289 , FUNCOP_1:13;
L291: ( len ( 0* C102 ) ) = C102 by L290 , FINSEQ_1:def 3;
L292: ( dom <* ( TRUE ) *> ) = ( Seg 1 ) by FINSEQ_1:38;
L293: 1 in ( dom <* ( TRUE ) *> ) by L292 , FINSEQ_1:1;
thus L294: ( H3(( C102 + 1 )) . ( C101 + 1 ) ) = ( ( ( 0* C102 ) ^ <* ( TRUE ) *> ) . ( C101 + 1 ) ) by L288 , BINARI_3:28
.= ( <* ( TRUE ) *> . 1 ) by L288 , L291 , L293 , FINSEQ_1:def 7
.= ( TRUE ) by FINSEQ_1:40;
end;
suppose L295: (C102 > ( 0 ) & C102 > C101);

reconsider D38 = C102 as non  empty (Element of ( NAT )) by L295;
L296: ( ( 0 ) + 1 ) <= ( C101 + 1 ) by XREAL_1:6;
L297: ( C101 + 1 ) <= C102 by L295 , NAT_1:13;
L298: ( C101 + 1 ) in ( Seg C102 ) by L297 , L296 , FINSEQ_1:1;
L299: ( C101 + 1 ) in ( dom H3(C102) ) by L298 , L1;
L300: ( 2 to_power C101 ) < ( 2 to_power C102 ) by L295 , POWER:39;
thus L301: ( H3(( C102 + 1 )) . ( C101 + 1 ) ) = ( ( H3(D38) ^ <* ( FALSE ) *> ) . ( C101 + 1 ) ) by L300 , BINARI_3:27
.= ( TRUE ) by L276 , L295 , L299 , FINSEQ_1:def 7;
end;
end;
thus L303: S8[ ( C102 + 1 ) ] by L277;
end;
L304: S8[ ( 0 ) ];
L305: (for B76 being (Element of ( NAT )) holds S8[ B76 ]) from NAT_1:sch 1(L304 , L275);
thus L306: ( D37 . ( C101 + 1 ) ) = 1 by L305 , L274;
defpred S9[ (Element of ( NAT )) ] means (C101 < $1 implies (for B77 being (Element of ( NAT )) holds ((( C101 + 1 ) <= B77 & B77 <= $1) implies ( H3($1) . ( B77 + 1 ) ) = ( FALSE ))));
let C103 being (Element of ( NAT ));
assume that
L307: C103 in ( Seg C100 )
and
L308: C103 <> ( C101 + 1 );
L309: 1 <= C103 by L307 , FINSEQ_1:1;
L310:
now
let C104 being (Element of ( NAT ));
assume that
L311: S9[ C104 ];
L312:
now
assume L313: C101 < ( C104 + 1 );
L314: C101 <= C104 by L313 , NAT_1:13;
L315: ( ( 0 ) + 1 ) <= ( C101 + 1 ) by XREAL_1:6;
let C105 being (Element of ( NAT ));
assume that
L316: ( C101 + 1 ) <= C105
and
L317: C105 <= ( C104 + 1 );
per cases  by L314 , XXREAL_0:1;
suppose L318: C104 = ( 0 );

L319: 1 <= C105 by L316 , L315 , XXREAL_0:2;
L320: C105 = 1 by L319 , L317 , L318 , XXREAL_0:1;
L321: ( dom H3(( C104 + 1 )) ) = ( Seg ( C104 + 1 ) ) by L1;
L322: (not ( C105 + 1 ) in ( dom H3(( C104 + 1 )) )) by L321 , L318 , L320 , FINSEQ_1:1;
thus L323: ( H3(( C104 + 1 )) . ( C105 + 1 ) ) = ( FALSE ) by L322 , FUNCT_1:def 2;
end;
suppose L324: (C104 > ( 0 ) & C104 = C101);

L325: ( dom H3(( C104 + 1 )) ) = ( Seg ( C104 + 1 ) ) by L1;
L326: ( C105 + 1 ) > ( C104 + 1 ) by L316 , L324 , NAT_1:13;
L327: (not ( C105 + 1 ) in ( dom H3(( C104 + 1 )) )) by L326 , L325 , FINSEQ_1:1;
thus L328: ( H3(( C104 + 1 )) . ( C105 + 1 ) ) = ( FALSE ) by L327 , FUNCT_1:def 2;
end;
suppose L329: (C104 > ( 0 ) & C104 > C101);

reconsider D39 = C104 as non  empty (Element of ( NAT )) by L329;
L330: ( 2 to_power C101 ) < ( 2 to_power C104 ) by L329 , POWER:39;
thus L331: ( H3(( C104 + 1 )) . ( C105 + 1 ) ) = ( FALSE )
proof
L332: (C105 < ( C104 + 1 ) or C105 = ( C104 + 1 )) by L317 , XXREAL_0:1;
L333: (C105 <= C104 or C105 = ( C104 + 1 )) by L332 , NAT_1:13;
per cases  by L333 , XXREAL_0:1;
suppose L334: C105 = ( C104 + 1 );

L335: ( C105 + 1 ) > ( C104 + 1 ) by L334 , NAT_1:13;
L336: ( dom H3(( C104 + 1 )) ) = ( Seg ( C104 + 1 ) ) by L1;
L337: (not ( C105 + 1 ) in ( dom H3(( C104 + 1 )) )) by L336 , L335 , FINSEQ_1:1;
thus L338: thesis by L337 , FUNCT_1:def 2;
end;
suppose L339: C105 = C104;

L340: ( dom H3(C104) ) = ( Seg C104 ) by L1;
L341: C105 = ( len H3(C104) ) by L340 , L339 , FINSEQ_1:def 3;
L342: ( dom <* ( FALSE ) *> ) = ( Seg 1 ) by FINSEQ_1:38;
L343: 1 in ( dom <* ( FALSE ) *> ) by L342 , FINSEQ_1:1;
thus L344: ( H3(( C104 + 1 )) . ( C105 + 1 ) ) = ( ( H3(D39) ^ <* ( FALSE ) *> ) . ( C105 + 1 ) ) by L330 , BINARI_3:27
.= ( <* ( FALSE ) *> . 1 ) by L341 , L343 , FINSEQ_1:def 7
.= ( FALSE ) by FINSEQ_1:40;
end;
suppose L345: C105 < C104;

L346: 1 <= ( C105 + 1 ) by NAT_1:12;
L347: ( C105 + 1 ) <= C104 by L345 , NAT_1:13;
L348: ( C105 + 1 ) in ( Seg C104 ) by L347 , L346 , FINSEQ_1:1;
L349: ( C105 + 1 ) in ( dom H3(C104) ) by L348 , L1;
thus L350: ( H3(( C104 + 1 )) . ( C105 + 1 ) ) = ( ( H3(D39) ^ <* ( FALSE ) *> ) . ( C105 + 1 ) ) by L330 , BINARI_3:27
.= ( H3(C104) . ( C105 + 1 ) ) by L349 , FINSEQ_1:def 7
.= ( FALSE ) by L311 , L316 , L329 , L345;
end;
end;

end;
end;
thus L333: S9[ ( C104 + 1 ) ] by L312;
end;
L334: S9[ ( 0 ) ];
L335: (for B78 being (Element of ( NAT )) holds S9[ B78 ]) from NAT_1:sch 1(L334 , L310);
defpred S10[ (Element of ( NAT )) ] means (C101 < $1 implies (for B79 being (Element of ( NAT )) holds ((1 <= B79 & B79 < ( C101 + 1 )) implies ( H3($1) . B79 ) = ( FALSE ))));
L336:
now
let C106 being (Element of ( NAT ));
assume that
L337: S10[ C106 ];
L338:
now
assume L339: C101 < ( C106 + 1 );
L340: C101 <= C106 by L339 , NAT_1:13;
let C107 being (Element of ( NAT ));
assume that
L341: 1 <= C107
and
L342: C107 < ( C101 + 1 );
per cases  by L340 , XXREAL_0:1;
suppose L343: C106 = ( 0 );

L344: C101 = ( 0 ) by L343 , L339 , NAT_1:13;
thus L345: ( H3(( C106 + 1 )) . C107 ) = ( FALSE ) by L344 , L341 , L342;
end;
suppose L346: (C106 > ( 0 ) & C101 < C106);

reconsider D40 = C106 as non  empty (Element of ( NAT )) by L346;
L347: ( dom H3(C106) ) = ( Seg C106 ) by L1;
L348: C101 <= C106 by L339 , NAT_1:13;
L349: C107 <= C101 by L342 , NAT_1:13;
L350: C107 <= C106 by L349 , L348 , XXREAL_0:2;
L351: C107 in ( dom H3(C106) ) by L350 , L341 , L347 , FINSEQ_1:1;
L352: ( 2 to_power C101 ) < ( 2 to_power C106 ) by L346 , POWER:39;
thus L353: ( H3(( C106 + 1 )) . C107 ) = ( ( H3(D40) ^ <* ( FALSE ) *> ) . C107 ) by L352 , BINARI_3:27
.= ( H3(C106) . C107 ) by L351 , FINSEQ_1:def 7
.= ( FALSE ) by L337 , L341 , L342 , L346;
end;
suppose L354: (C106 > ( 0 ) & C101 = C106);

L355: C107 <= C106 by L354 , L342 , NAT_1:13;
L356: C107 in ( Seg C106 ) by L355 , L341 , FINSEQ_1:1;
L357: ( 0* C106 ) = ( C106 |-> ( 0 ) ) by EUCLID:def 4;
L358: C107 in ( dom ( 0* C106 ) ) by L357 , L356 , FUNCOP_1:13;
thus L359: ( H3(( C106 + 1 )) . C107 ) = ( ( ( 0* C106 ) ^ <* ( TRUE ) *> ) . C107 ) by L354 , BINARI_3:28
.= ( ( 0* C106 ) . C107 ) by L358 , FINSEQ_1:def 7
.= ( FALSE ) by L357;
end;
end;
thus L361: S10[ ( C106 + 1 ) ] by L338;
end;
L362: S10[ ( 0 ) ];
L363: (for B80 being (Element of ( NAT )) holds S10[ B80 ]) from NAT_1:sch 1(L362 , L336);
L364: C103 <= C100 by L307 , FINSEQ_1:1;
per cases  by L308 , L364 , XXREAL_0:1;
suppose L365: C103 < ( C101 + 1 );

thus L366: thesis by L365 , L274 , L363 , L309;
end;
suppose L367: (C103 > ( C101 + 1 ) & C103 < C100);

consider C108 being Nat such that L368: C103 = ( C108 + 1 ) by L367 , NAT_1:6;
reconsider D41 = C108 as (Element of ( NAT )) by ORDINAL1:def 12;
L369: D41 <= C100 by L367 , L368 , NAT_1:13;
L370: ( C101 + 1 ) <= D41 by L367 , L368 , NAT_1:13;
thus L371: thesis by L370 , L274 , L335 , L368 , L369;
end;
suppose L372: (C103 > ( C101 + 1 ) & C103 = C100);

consider C109 being Nat such that L373: C100 = ( C109 + 1 ) by L372 , NAT_1:6;
reconsider D42 = C109 as (Element of ( NAT )) by ORDINAL1:def 12;
L374: C101 < D42 by L372 , L373 , XREAL_1:6;
L375: ( 2 to_power C101 ) < ( 2 to_power D42 ) by L374 , POWER:39;
thus L376: thesis by L375 , L372 , L373 , BINARI_3:26;
end;
end;
begin
definition
struct DB-Rel(# Attributes ->  finite non  empty set , Domains ->  non-empty (ManySortedSet of the Attributes) , Relationship -> (Subset of ( product the Domains )) #);
end;
begin
definition
let C110 being set;
mode Subset-Relation of C110
 is (Relation of ( bool C110 ));
mode Dependency-set of C110
 is (Relation of ( bool C110 ));
end;
registration
let C111 being set;
cluster non  empty  finite for (Dependency-set of C111);
existence
proof
L380: ( {} ) c= C111 by XBOOLE_1:2;
reconsider D43 = { [ ( {} ) , ( {} ) ] } as (Relation of ( bool C111 )) by L380 , RELSET_1:3;
take D43;
thus L381: D43 is non  empty;
thus L382: thesis;
end;
end;
definition
let C112 being set;
func Dependencies C112 -> (Dependency-set of C112) equals 
[: ( bool C112 ) , ( bool C112 ) :];
coherence;
end;
definition
let C113 being set;
mode Dependency of C113
 is (Element of ( Dependencies C113 ));
end;
registration
let C114 being set;
cluster ( Dependencies C114 ) -> non  empty;
coherence;
end;
definition
let C115 being set;
let C116 being non  empty (Dependency-set of C115);
redefine mode Element of C116
 -> (Dependency of C115);
correctness
proof
let C117 being (Element of C116);
thus L387: thesis;
end;
end;
theorem
L389: (for B81 , B82 being set holds (B82 in ( Dependencies B81 ) iff (ex B83 , B84 being (Subset of B81) st B82 = [ B83 , B84 ])))
proof
let C118 being set;
let C119 being set;
thus L390:now
assume L391: C119 in ( Dependencies C118 );
consider C120 , C121 being set such that L392: [ C120 , C121 ] = C119 by L391 , RELAT_1:def 1;
reconsider D44 = C120 , D45 = C121 as (Subset of C118) by L391 , L392 , ZFMISC_1:87;
take D46 = D44;
take D47 = D45;
thus L393: C119 = [ D46 , D47 ] by L392;
end;
given C122 , C123 being (Subset of C118) such that
L394: C119 = [ C122 , C123 ];

thus L395: thesis by L394 , ZFMISC_1:87;
end;
theorem
L396: (for B85 , B86 being set holds (for B87 being (Dependency-set of B85) holds (B86 in B87 implies (ex B88 , B89 being (Subset of B85) st B86 = [ B88 , B89 ]))))
proof
let C124 , C125 being set;
let C126 being (Dependency-set of C124);
assume L397: C125 in C126;
consider C127 , C128 being set such that L398: [ C127 , C128 ] = C125 by L397 , RELAT_1:def 1;
reconsider D48 = C127 , D49 = C128 as (Subset of C124) by L397 , L398 , ZFMISC_1:87;
take D48;
take D49;
thus L399: thesis by L398;
end;
definition
let C129 being DB-Rel;
let C130 , C131 being (Subset of (the Attributes of C129));
pred C130 >|> C131 , C129
means
:L400: (for B90 , B91 being (Element of (the Relationship of C129)) holds (( B90 | C130 ) = ( B91 | C130 ) implies ( B90 | C131 ) = ( B91 | C131 )))
;end;
notation
let C132 being DB-Rel;
let C133 , C134 being (Subset of (the Attributes of C132));
synonym C133 , C134 holds_in C132 for C133 >|> C134 , C132;
end;
definition
let C135 being DB-Rel;
func Dependency-str C135 -> (Dependency-set of (the Attributes of C135)) equals 
{ [ B92 , B93 ] where B92 , B93 is (Subset of (the Attributes of C135)) : B92 >|> B93 , C135 };
coherence
proof
set D50 = (the Attributes of C135);
set D51 = { [ B94 , B95 ] where B94 , B95 is (Subset of (the Attributes of C135)) : B94 >|> B95 , C135 };
L403: D51 c= [: ( bool D50 ) , ( bool D50 ) :]
proof
let C136 being set;
assume L404: C136 in D51;
L405: (ex B96 , B97 being (Subset of D50) st (C136 = [ B96 , B97 ] & B96 >|> B97 , C135)) by L404;
thus L406: thesis by L405 , ZFMISC_1:def 2;
end;
thus L407: thesis by L403;
end;
end;
theorem
L409: (for B98 being DB-Rel holds (for B99 , B100 being (Subset of (the Attributes of B98)) holds ([ B99 , B100 ] in ( Dependency-str B98 ) iff B99 >|> B100 , B98)))
proof
let C137 being DB-Rel;
let C138 , C139 being (Subset of (the Attributes of C137));
set D52 = ( Dependency-str C137 );
thus L410:now
assume L411: [ C138 , C139 ] in D52;
consider C140 , C141 being (Subset of (the Attributes of C137)) such that L412: [ C138 , C139 ] = [ C140 , C141 ] and L413: C140 >|> C141 , C137 by L411;
L414: C138 = C140 by L412 , XTUPLE_0:1;
thus L415: C138 >|> C139 , C137 by L414 , L412 , L413 , XTUPLE_0:1;
end;
thus L416: thesis;
end;
begin
definition
let C142 being set;
let C143 , C144 being (Dependency of C142);
pred C143 >= C144
means
:L417: (( C143 `1 ) c= ( C144 `1 ) & ( C144 `2 ) c= ( C143 `2 ))
;reflexivity
;
end;
notation
let C145 being set;
let C146 , C147 being (Dependency of C145);
synonym C147 <= C146 for C146 >= C147;
synonym C146 is_at_least_as_informative_as C147 for C146 >= C147;
end;
theorem
L420: (for B101 being set holds (for B102 , B103 being (Dependency of B101) holds ((B102 <= B103 & B103 <= B102) implies B102 = B103)))
proof
let C148 being set;
let C149 , C150 being (Dependency of C148);
assume that
L421: C149 <= C150
and
L422: C150 <= C149;
L423: ( C150 `1 ) c= ( C149 `1 ) by L421 , L417;
L424: ( C149 `2 ) c= ( C150 `2 ) by L421 , L417;
L425: ( C150 `2 ) c= ( C149 `2 ) by L422 , L417;
L426: ( C149 `2 ) = ( C150 `2 ) by L425 , L424 , XBOOLE_0:def 10;
L427: ( C149 `1 ) c= ( C150 `1 ) by L422 , L417;
L428: ( C149 `1 ) = ( C150 `1 ) by L427 , L423 , XBOOLE_0:def 10;
L429: C149 = [ ( C149 `1 ) , ( C149 `2 ) ] by MCART_1:22;
thus L430: thesis by L429 , L428 , L426 , MCART_1:22;
end;
theorem
L431: (for B104 being set holds (for B105 , B106 , B107 being (Dependency of B104) holds ((B105 <= B106 & B106 <= B107) implies B105 <= B107)))
proof
let C151 being set;
let C152 , C153 , C154 being (Dependency of C151);
assume that
L432: C152 <= C153
and
L433: C153 <= C154;
L434: ( C153 `2 ) c= ( C154 `2 ) by L433 , L417;
L435: ( C152 `2 ) c= ( C153 `2 ) by L432 , L417;
L436: ( C152 `2 ) c= ( C154 `2 ) by L435 , L434 , XBOOLE_1:1;
L437: ( C154 `1 ) c= ( C153 `1 ) by L433 , L417;
L438: ( C153 `1 ) c= ( C152 `1 ) by L432 , L417;
L439: ( C154 `1 ) c= ( C152 `1 ) by L438 , L437 , XBOOLE_1:1;
thus L440: thesis by L439 , L436 , L417;
end;
definition
let C155 being set;
let C156 , C157 being (Subset of C155);
redefine func [C156 , C157 ] -> (Dependency of C155);

coherence by ZFMISC_1:def 2;
end;
theorem
L442: (for B108 being set holds (for B109 , B110 , B111 , B112 being (Subset of B108) holds ([ B109 , B110 ] >= [ B111 , B112 ] iff (B109 c= B111 & B112 c= B110))))
proof
let C158 being set;
let C159 , C160 , C161 , C162 being (Subset of C158);
L443: ( [ C159 , C160 ] `2 ) = C160;
L444: ( [ C161 , C162 ] `1 ) = C161;
L445: ( [ C161 , C162 ] `2 ) = C162;
L446: ( [ C159 , C160 ] `1 ) = C159;
thus L447: thesis by L446 , L443 , L444 , L445 , L417;
end;
definition
let C163 being set;
func Dependencies-Order C163 -> (Relation of ( Dependencies C163 )) equals 
{ [ B113 , B114 ] where B113 , B114 is (Dependency of C163) : B113 <= B114 };
coherence
proof
set D53 = { [ B115 , B116 ] where B115 , B116 is (Dependency of C163) : B115 <= B116 };
L448: D53 c= [: ( Dependencies C163 ) , ( Dependencies C163 ) :]
proof
let C164 being set;
assume L449: C164 in D53;
L450: (ex B117 , B118 being (Dependency of C163) st (C164 = [ B117 , B118 ] & B117 <= B118)) by L449;
thus L451: thesis by L450 , ZFMISC_1:def 2;
end;
thus L452: thesis by L448;
end;
end;
theorem
L454: (for B119 , B120 being set holds (B120 in ( Dependencies-Order B119 ) iff (ex B121 , B122 being (Dependency of B119) st (B120 = [ B121 , B122 ] & B121 <= B122))));
theorem
L455: (for B123 being set holds ( dom ( Dependencies-Order B123 ) ) = [: ( bool B123 ) , ( bool B123 ) :])
proof
let C165 being set;
L456:
now
let C166 being set;
thus L457: (C166 in ( dom ( Dependencies-Order C165 ) ) implies C166 in [: ( bool C165 ) , ( bool C165 ) :]);
assume L458: C166 in [: ( bool C165 ) , ( bool C165 ) :];
reconsider D54 = C166 as (Dependency of C165) by L458;
L459: [ D54 , D54 ] in ( Dependencies-Order C165 );
thus L460: C166 in ( dom ( Dependencies-Order C165 ) ) by L459 , XTUPLE_0:def 12;
end;
thus L461: thesis by L456 , TARSKI:1;
end;
theorem
L462: (for B124 being set holds ( rng ( Dependencies-Order B124 ) ) = [: ( bool B124 ) , ( bool B124 ) :])
proof
let C167 being set;
L463:
now
let C168 being set;
thus L464: (C168 in ( rng ( Dependencies-Order C167 ) ) implies C168 in [: ( bool C167 ) , ( bool C167 ) :]);
assume L465: C168 in [: ( bool C167 ) , ( bool C167 ) :];
reconsider D55 = C168 as (Dependency of C167) by L465;
L466: [ D55 , D55 ] in ( Dependencies-Order C167 );
thus L467: C168 in ( rng ( Dependencies-Order C167 ) ) by L466 , XTUPLE_0:def 13;
end;
thus L468: thesis by L463 , TARSKI:1;
end;
theorem
L469: (for B125 being set holds ( field ( Dependencies-Order B125 ) ) = [: ( bool B125 ) , ( bool B125 ) :])
proof
let C169 being set;
thus L470: ( field ( Dependencies-Order C169 ) ) = ( ( dom ( Dependencies-Order C169 ) ) \/ ( rng ( Dependencies-Order C169 ) ) ) by RELAT_1:def 6
.= ( [: ( bool C169 ) , ( bool C169 ) :] \/ ( rng ( Dependencies-Order C169 ) ) ) by L455
.= ( [: ( bool C169 ) , ( bool C169 ) :] \/ [: ( bool C169 ) , ( bool C169 ) :] ) by L462
.= [: ( bool C169 ) , ( bool C169 ) :];
end;
registration
let C170 being set;
cluster ( Dependencies-Order C170 ) -> non  empty;
coherence by L455 , RELAT_1:38;
cluster ( Dependencies-Order C170 ) ->  total  reflexive  antisymmetric  transitive;
coherence
proof
set D56 = ( Dependencies C170 );
set D57 = ( Dependencies-Order C170 );
L471: D56 c= ( dom D57 )
proof
let C171 being set;
assume L472: C171 in D56;
reconsider D58 = C171 as (Element of D56) by L472;
L473: D58 <= D58;
L474: [ C171 , C171 ] in D57 by L473;
thus L475: thesis by L474 , XTUPLE_0:def 12;
end;
L476: ( dom D57 ) = D56 by L471 , XBOOLE_0:def 10;
L477: ( field D57 ) = ( D56 \/ ( rng D57 ) ) by L476 , RELAT_1:def 6
.= D56 by XBOOLE_1:12;
thus L478: D57 is  total by L476 , PARTFUN1:def 2;
L479: D57 is_reflexive_in D56
proof
let C172 being set;
assume L480: C172 in D56;
reconsider D59 = C172 as (Element of D56) by L480;
L481: D59 <= D59;
thus L482: thesis by L481;
end;
thus L483: D57 is  reflexive by L479 , L477 , RELAT_2:def 9;
L484: D57 is_antisymmetric_in D56
proof
let C173 , C174 being set;
assume that
L485: C173 in D56
and
L486: C174 in D56
and
L487: [ C173 , C174 ] in D57
and
L488: [ C174 , C173 ] in D57;
consider C175 , C176 being (Element of D56) such that L489: [ C173 , C174 ] = [ C175 , C176 ] and L490: C175 <= C176 by L487;
L491: C174 = C176 by L489 , XTUPLE_0:1;
consider C177 , C178 being (Element of D56) such that L492: [ C174 , C173 ] = [ C177 , C178 ] and L493: C177 <= C178 by L488;
L494: C173 = C178 by L492 , XTUPLE_0:1;
L495: C174 = C177 by L492 , XTUPLE_0:1;
L496: C173 = C175 by L489 , XTUPLE_0:1;
thus L497: thesis by L496 , L490 , L493 , L494 , L491 , L495 , L420;
end;
thus L498: D57 is  antisymmetric by L484 , L477 , RELAT_2:def 12;
L499: D57 is_transitive_in D56
proof
let C179 , C180 , C181 being set;
assume that
L500: C179 in D56
and
L501: C180 in D56
and
L502: C181 in D56
and
L503: [ C179 , C180 ] in D57
and
L504: [ C180 , C181 ] in D57;
consider C182 , C183 being (Element of D56) such that L505: [ C179 , C180 ] = [ C182 , C183 ] and L506: C182 <= C183 by L503;
L507: C179 = C182 by L505 , XTUPLE_0:1;
consider C184 , C185 being (Element of D56) such that L508: [ C180 , C181 ] = [ C184 , C185 ] and L509: C184 <= C185 by L504;
L510: C180 = C184 by L508 , XTUPLE_0:1;
L511: C181 = C185 by L508 , XTUPLE_0:1;
L512: C180 = C183 by L505 , XTUPLE_0:1;
L513: C182 <= C185 by L512 , L506 , L509 , L510 , L431;
thus L514: thesis by L513 , L507 , L511;
end;
thus L515: thesis by L499 , L477 , RELAT_2:def 16;
end;
end;
notation
let C186 being set;
let C187 being (Dependency-set of C186);
synonym C187 is  (F2) for C187 is  transitive;
synonym C187 is  (DC1) for C187 is  transitive;
end;
definition
let C188 being set;
let C189 being (Dependency-set of C188);
attr C189 is  (F1)
means
:L518: (for B126 being (Subset of C188) holds [ B126 , B126 ] in C189);
end;
notation
let C190 being set;
let C191 being (Dependency-set of C190);
synonym C191 is  (DC2) for C191 is  (F1);
end;
theorem
L521: (for B127 being set holds (for B128 being (Dependency-set of B127) holds (B128 is  (F2) iff (for B129 , B130 , B131 being (Subset of B127) holds (([ B129 , B130 ] in B128 & [ B130 , B131 ] in B128) implies [ B129 , B131 ] in B128)))))
proof
let C192 being set;
let C193 being (Dependency-set of C192);
thus L522:now
assume L523: C193 is  (F2);
L524: C193 is_transitive_in ( field C193 ) by L523 , RELAT_2:def 16;
let C194 , C195 , C196 being (Subset of C192);
assume that
L525: [ C194 , C195 ] in C193
and
L526: [ C195 , C196 ] in C193;
L527: C195 in ( field C193 ) by L525 , RELAT_1:15;
L528: C196 in ( field C193 ) by L526 , RELAT_1:15;
L529: C194 in ( field C193 ) by L525 , RELAT_1:15;
thus L530: [ C194 , C196 ] in C193 by L529 , L524 , L525 , L526 , L527 , L528 , RELAT_2:def 8;
end;
assume L531: (for B132 , B133 , B134 being (Subset of C192) holds (([ B132 , B133 ] in C193 & [ B133 , B134 ] in C193) implies [ B132 , B134 ] in C193));
let C197 , C198 , C199 being set;
assume that
L532: C197 in ( field C193 )
and
L533: C198 in ( field C193 )
and
L534: C199 in ( field C193 )
and
L535: [ C197 , C198 ] in C193
and
L536: [ C198 , C199 ] in C193;
L537: ( field C193 ) c= ( ( bool C192 ) \/ ( bool C192 ) ) by RELSET_1:8;
reconsider D60 = C197 , D61 = C198 , D62 = C199 as (Subset of C192) by L537 , L532 , L533 , L534;
L538: [ D61 , D62 ] in C193 by L536;
L539: [ D60 , D61 ] in C193 by L535;
thus L540: thesis by L539 , L531 , L538;
end;
definition
let C200 being set;
let C201 being (Dependency-set of C200);
attr C201 is  (F3)
means
:L541: (for B135 , B136 , B137 , B138 being (Subset of C200) holds (([ B135 , B136 ] in C201 & [ B135 , B136 ] >= [ B137 , B138 ]) implies [ B137 , B138 ] in C201));
attr C201 is  (F4)
means
:L542: (for B139 , B140 , B141 , B142 being (Subset of C200) holds (([ B139 , B140 ] in C201 & [ B141 , B142 ] in C201) implies [ ( B139 \/ B141 ) , ( B140 \/ B142 ) ] in C201));
end;
theorem
L544: (for B143 being set holds ( Dependencies B143 ) is  (F1)  (F2)  (F3)  (F4))
proof
let C202 being set;
set D63 = ( Dependencies C202 );
thus L545: D63 is  (F1)
proof
let C203 being (Subset of C202);
thus L546: thesis;
end;

L547: D63 = ( nabla ( bool C202 ) ) by EQREL_1:def 1;
L548: ( field D63 ) = ( bool C202 ) by L547 , ORDERS_1:12;
thus L549: D63 is  (F2)
proof
let C204 , C205 , C206 being set;
assume that
L550: C204 in ( field D63 )
and
L551: C205 in ( field D63 )
and
L552: C206 in ( field D63 )
and
L553: [ C204 , C205 ] in D63
and
L554: [ C205 , C206 ] in D63;
thus L555: thesis by L548 , L550 , L552 , ZFMISC_1:def 2;
end;

thus L556: D63 is  (F3)
proof
let C207 , C208 , C209 , C210 being (Subset of C202);
thus L557: thesis;
end;

thus L558: D63 is  (F4)
proof
let C211 , C212 , C213 , C214 being (Subset of C202);
thus L559: thesis;
end;

end;
registration
let C215 being set;
cluster  (F1)  (F2)  (F3)  (F4) non  empty for (Dependency-set of C215);
existence
proof
take ( Dependencies C215 );
thus L559: thesis by L544;
end;
end;
definition
let C216 being set;
let C217 being (Dependency-set of C216);
attr C217 is  full_family
means
:L561: C217 is  (F1)  (F2)  (F3)  (F4);
end;
registration
let C218 being set;
cluster  full_family for (Dependency-set of C218);
existence
proof
set D64 = the  (F1)  (F2)  (F3)  (F4) non  empty (Dependency-set of C218);
take D64;
thus L563: thesis by L561;
end;
end;
definition
let C219 being set;
mode Full-family of C219
 is  full_family (Dependency-set of C219);
end;
theorem
L566: (for B144 being  finite set holds (for B145 being (Dependency-set of B144) holds B145 is  finite));
registration
let C220 being  finite set;
cluster  finite for (Full-family of C220);
existence
proof
set D65 = the  (F1)  (F2)  (F3)  (F4) non  empty (Dependency-set of C220);
reconsider D66 = D65 as (Full-family of C220) by L561;
take D66;
thus L567: thesis;
end;
cluster  ->  finite for (Dependency-set of C220);
coherence;
end;
registration
let C221 being set;
cluster  full_family ->  (F1)  (F2)  (F3)  (F4) for (Dependency-set of C221);
coherence by L561;
cluster  (F1)  (F2)  (F3)  (F4) ->  full_family for (Dependency-set of C221);
correctness by L561;
end;
definition
let C222 being set;
let C223 being (Dependency-set of C222);
attr C223 is  (DC3)
means
:L570: (for B146 , B147 being (Subset of C222) holds (B147 c= B146 implies [ B146 , B147 ] in C223));
end;
registration
let C224 being set;
cluster  (F1)  (F3) ->  (DC3) for (Dependency-set of C224);
coherence
proof
let C225 being (Dependency-set of C224);
assume L572: C225 is  (F1)  (F3);
let C226 , C227 being (Subset of C224);
assume L573: C227 c= C226;
L574: [ C226 , C226 ] >= [ C226 , C227 ] by L573 , L442;
L575: [ C226 , C226 ] in C225 by L572 , L518;
thus L576: thesis by L575 , L572 , L574 , L541;
end;
cluster  (DC3)  (F2) ->  (F1)  (F3) for (Dependency-set of C224);
coherence
proof
let C228 being (Dependency-set of C224);
assume L577: C228 is  (DC3)  (F2);
thus L578: C228 is  (F1)
proof
let C229 being (Subset of C224);
thus L579: thesis by L577 , L570;
end;

let C230 , C231 , C232 , C233 being (Subset of C224);
assume L580: [ C230 , C231 ] in C228;
assume L581: [ C230 , C231 ] >= [ C232 , C233 ];
L582: C230 c= C232 by L581 , L442;
L583: [ C232 , C230 ] in C228 by L582 , L577 , L570;
L584: [ C232 , C231 ] in C228 by L583 , L577 , L580 , L521;
L585: C233 c= C231 by L581 , L442;
L586: [ C231 , C233 ] in C228 by L585 , L577 , L570;
thus L587: thesis by L586 , L577 , L584 , L521;
end;
end;
registration
let C234 being set;
cluster  (DC3)  (F2)  (F4) non  empty for (Dependency-set of C234);
existence
proof
set D67 = the  (F1)  (F3)  (F2)  (F4) non  empty (Dependency-set of C234);
take D67;
thus L589: thesis;
end;
end;
theorem
L591: (for B148 being set holds (for B149 being (Dependency-set of B148) holds (B149 is  (DC3)  (F2) implies B149 is  (F1)  (F3))));
theorem
L592: (for B150 being set holds (for B151 being (Dependency-set of B150) holds (B151 is  (F1)  (F3) implies B151 is  (DC3))));
registration
let C235 being set;
cluster  (F1) -> non  empty for (Dependency-set of C235);
coherence by L518;
end;
theorem
L594: (for B152 being DB-Rel holds ( Dependency-str B152 ) is  full_family)
proof
let C236 being DB-Rel;
set D68 = ( Dependency-str C236 );
set D69 = (the Attributes of C236);
set D70 = (the Relationship of C236);
L595:
now
let C237 , C238 , C239 being (Subset of D69);
assume that
L596: [ C237 , C238 ] in D68
and
L597: [ C238 , C239 ] in D68;
L598: C238 >|> C239 , C236 by L597 , L409;
L599: C237 >|> C238 , C236 by L596 , L409;
L600: C237 >|> C239 , C236
proof
let C240 , C241 being (Element of D70);
assume L601: ( C240 | C237 ) = ( C241 | C237 );
L602: ( C240 | C238 ) = ( C241 | C238 ) by L601 , L599 , L400;
thus L603: thesis by L602 , L598 , L400;
end;
thus L604: [ C237 , C239 ] in D68 by L600;
end;
L605: D68 is  (F2) by L595 , L521;
L606: D68 is  (DC3)
proof
let C242 , C243 being (Subset of D69);
assume that
L607: C243 c= C242;
L608: C242 >|> C243 , C236
proof
let C244 , C245 being (Element of D70);
assume that
L609: ( C244 | C242 ) = ( C245 | C242 );
thus L610: ( C244 | C243 ) = ( ( C244 | C242 ) | C243 ) by L607 , RELAT_1:74
.= ( C245 | C243 ) by L607 , L609 , RELAT_1:74;
end;
thus L611: thesis by L608;
end;
thus L612: D68 is  (F1) by L606 , L605;
thus L613: D68 is  (F2) by L595 , L521;
thus L614: D68 is  (F3) by L606 , L605;
thus L615: D68 is  (F4)
proof
let C246 , C247 , C248 , C249 being (Subset of D69);
assume that
L616: [ C246 , C247 ] in D68
and
L617: [ C248 , C249 ] in D68;
L618: C248 >|> C249 , C236 by L617 , L409;
L619: C246 >|> C247 , C236 by L616 , L409;
L620: ( C246 \/ C248 ) >|> ( C247 \/ C249 ) , C236
proof
let C250 , C251 being (Element of D70);
assume L621: ( C250 | ( C246 \/ C248 ) ) = ( C251 | ( C246 \/ C248 ) );
L622: ( C250 | C248 ) = ( ( C250 | ( C246 \/ C248 ) ) | C248 ) by RELAT_1:74 , XBOOLE_1:7
.= ( C251 | C248 ) by L621 , RELAT_1:74 , XBOOLE_1:7;
L623: ( C250 | C249 ) = ( C251 | C249 ) by L622 , L618 , L400;
L624: ( C250 | C246 ) = ( ( C250 | ( C246 \/ C248 ) ) | C246 ) by RELAT_1:74 , XBOOLE_1:7
.= ( C251 | C246 ) by L621 , RELAT_1:74 , XBOOLE_1:7;
L625: ( C250 | C247 ) = ( C251 | C247 ) by L624 , L619 , L400;
thus L626: ( C250 | ( C247 \/ C249 ) ) = ( ( C250 | C247 ) \/ ( C250 | C249 ) ) by RELAT_1:78
.= ( C251 | ( C247 \/ C249 ) ) by L625 , L623 , RELAT_1:78;
end;
thus L627: thesis by L620;
end;

end;
theorem
L616: (for B153 being set holds (for B154 being (Subset of B153) holds { [ B155 , B156 ] where B155 , B156 is (Subset of B153) : (B154 c= B155 or B156 c= B155) } is (Full-family of B153)))
proof
let C252 being set;
let C253 being (Subset of C252);
set D71 = { [ B157 , B158 ] where B157 , B158 is (Subset of C252) : (C253 c= B157 or B158 c= B157) };
L617: D71 c= [: ( bool C252 ) , ( bool C252 ) :]
proof
let C254 being set;
assume L618: C254 in D71;
L619: (ex B159 , B160 being (Subset of C252) st (C254 = [ B159 , B160 ] & (C253 c= B159 or B160 c= B159))) by L618;
thus L620: thesis by L619;
end;
reconsider D72 = D71 as (Dependency-set of C252) by L617;
L621: D72 is  (F4)
proof
let C255 , C256 , C257 , C258 being (Subset of C252);
assume that
L622: [ C255 , C256 ] in D72
and
L623: [ C257 , C258 ] in D72;
consider C259 , C260 being (Subset of C252) such that L624: [ C255 , C256 ] = [ C259 , C260 ] and L625: (C253 c= C259 or C260 c= C259) by L622;
L626: C256 = C260 by L624 , XTUPLE_0:1;
consider C261 , C262 being (Subset of C252) such that L627: [ C257 , C258 ] = [ C261 , C262 ] and L628: (C253 c= C261 or C262 c= C261) by L623;
L629: C257 = C261 by L627 , XTUPLE_0:1;
L630: C258 = C262 by L627 , XTUPLE_0:1;
L631: C255 = C259 by L624 , XTUPLE_0:1;
L632: (C253 c= ( C255 \/ C257 ) or ( C256 \/ C258 ) c= ( C255 \/ C257 )) by L631 , L625 , L628 , L626 , L629 , L630 , XBOOLE_1:10 , XBOOLE_1:13;
thus L633: thesis by L632;
end;
L634:
now
let C263 , C264 , C265 being (Subset of C252);
assume that
L635: [ C263 , C264 ] in D72
and
L636: [ C264 , C265 ] in D72;
consider C266 , C267 being (Subset of C252) such that L637: [ C263 , C264 ] = [ C266 , C267 ] and L638: (C253 c= C266 or C267 c= C266) by L635;
L639: C263 = C266 by L637 , XTUPLE_0:1;
consider C268 , C269 being (Subset of C252) such that L640: [ C264 , C265 ] = [ C268 , C269 ] and L641: (C253 c= C268 or C269 c= C268) by L636;
L642: C264 = C268 by L640 , XTUPLE_0:1;
L643: C265 = C269 by L640 , XTUPLE_0:1;
L644: C264 = C267 by L637 , XTUPLE_0:1;
L645: (C253 c= C266 or C269 c= C266) by L644 , L638 , L641 , L642 , XBOOLE_1:1;
thus L646: [ C263 , C265 ] in D72 by L645 , L639 , L643;
end;
L647: D72 is  (F2) by L634 , L521;
L648: D72 is  (DC3)
proof
let C270 , C271 being (Subset of C252);
assume L649: C271 c= C270;
thus L650: thesis by L649;
end;
thus L651: thesis by L648 , L647 , L621;
end;
begin
definition
let C272 being set;
let C273 being (Dependency-set of C272);
func Maximal_wrt C273 -> (Dependency-set of C272) equals 
( ( Dependencies-Order C272 ) Maximal_in C273 );
coherence by RELSET_1:1;
end;
theorem
L653: (for B161 being set holds (for B162 being (Dependency-set of B161) holds ( Maximal_wrt B162 ) c= B162));
definition
let C274 being set;
let C275 being (Dependency-set of C274);
let C276 , C277 being set;
pred C276 ^|^ C277 , C275
means
:L654: [ C276 , C277 ] in ( Maximal_wrt C275 )
;end;
theorem
L656: (for B163 being  finite set holds (for B164 being (Dependency of B163) holds (for B165 being (Dependency-set of B163) holds (B164 in B165 implies (ex B166 , B167 being (Subset of B163) st ([ B166 , B167 ] in ( Maximal_wrt B165 ) & [ B166 , B167 ] >= B164))))))
proof
let C278 being  finite set;
let C279 being (Dependency of C278);
let C280 being (Dependency-set of C278);
set D73 = ( Dependencies-Order C278 );
assume L657: C279 in C280;
reconsider D74 = C280 as non  empty (Dependency-set of C278) by L657;
reconsider D75 = { B168 where B168 is (Element of D74) : C279 <= B168 } as set;
L658: ( field D73 ) = [: ( bool C278 ) , ( bool C278 ) :] by L469;
L659: D75 c= ( field D73 )
proof
let C281 being set;
assume L660: C281 in D75;
L661: (ex B169 being (Element of D74) st (C281 = B169 & C279 <= B169)) by L660;
thus L662: thesis by L661 , L658;
end;
L663: C279 in D75 by L657;
consider C282 being (Element of D75) such that L664: C282 is_maximal_wrt D75 , D73 by L663 , L659 , L43;
L665: C282 in D75 by L664 , WAYBEL_4:def 23;
L666: (ex B170 being (Element of D74) st (C282 = B170 & C279 <= B170)) by L665;
consider C283 , C284 being (Subset of C278) such that L667: C282 = [ C283 , C284 ] by L666 , L389;
take C283;
take C284;
L668: C282 is_maximal_wrt C280 , D73
proof
thus L669: C282 in C280 by L666;
given C285 being set such that
L670: C285 in C280
and
L671: C285 <> C282
and
L672: [ C282 , C285 ] in D73;

consider C286 , C287 being (Dependency of C278) such that L673: [ C282 , C285 ] = [ C286 , C287 ] and L674: C286 <= C287 by L672;
reconsider D76 = C285 as (Element of D74) by L670;
L675: D76 = C287 by L673 , XTUPLE_0:1;
L676: C282 = C286 by L673 , XTUPLE_0:1;
L677: C279 <= D76 by L676 , L666 , L674 , L675 , L431;
L678: D76 in D75 by L677;
thus L679: contradiction by L678 , L664 , L671 , L672 , WAYBEL_4:def 23;
end;
thus L680: [ C283 , C284 ] in ( Maximal_wrt C280 ) by L668 , L667 , L79;
thus L681: thesis by L666 , L667;
end;
theorem
L682: (for B171 being set holds (for B172 being (Dependency-set of B171) holds (for B173 , B174 being (Subset of B171) holds (B173 ^|^ B174 , B172 iff ([ B173 , B174 ] in B172 & (not (ex B175 , B176 being (Subset of B171) st ([ B175 , B176 ] in B172 & (B173 <> B175 or B174 <> B176) & [ B173 , B174 ] <= [ B175 , B176 ]))))))))
proof
let C288 being set;
let C289 being (Dependency-set of C288);
let C290 , C291 being (Subset of C288);
set D77 = ( Dependencies-Order C288 );
thus L683:now
assume L684: C290 ^|^ C291 , C289;
L685: [ C290 , C291 ] in ( Maximal_wrt C289 ) by L684 , L654;
thus L686: [ C290 , C291 ] in C289 by L685;
L687: [ C290 , C291 ] is_maximal_wrt C289 , D77 by L685 , L79;
given C292 , C293 being (Subset of C288) such that
L688: [ C292 , C293 ] in C289
and
L689: (C290 <> C292 or C291 <> C293)
and
L690: [ C290 , C291 ] <= [ C292 , C293 ];

L691: [ [ C290 , C291 ] , [ C292 , C293 ] ] in D77 by L690;
L692: [ C290 , C291 ] <> [ C292 , C293 ] by L689 , XTUPLE_0:1;
thus L693: contradiction by L692 , L687 , L688 , L691 , WAYBEL_4:def 23;
end;
assume that
L694: [ C290 , C291 ] in C289
and
L695: (not (ex B177 , B178 being (Subset of C288) st ([ B177 , B178 ] in C289 & (C290 <> B177 or C291 <> B178) & [ C290 , C291 ] <= [ B177 , B178 ])));
L696: [ C290 , C291 ] is_maximal_wrt C289 , D77
proof
thus L697: [ C290 , C291 ] in C289 by L694;
given C294 being set such that
L698: C294 in C289
and
L699: C294 <> [ C290 , C291 ]
and
L700: [ [ C290 , C291 ] , C294 ] in D77;

consider C295 , C296 being set such that L701: C294 = [ C295 , C296 ] and L702: C295 in ( bool C288 ) and L703: C296 in ( bool C288 ) by L698 , RELSET_1:2;
consider C297 , C298 being (Dependency of C288) such that L704: [ [ C290 , C291 ] , C294 ] = [ C297 , C298 ] and L705: C297 <= C298 by L700;
L706: C297 = [ C290 , C291 ] by L704 , XTUPLE_0:1;
L707: C298 = C294 by L704 , XTUPLE_0:1;
reconsider D78 = C295 , D79 = C296 as (Subset of C288) by L702 , L703;
L708: (C290 <> D78 or C291 <> D79) by L699 , L701;
thus L709: contradiction by L708 , L695 , L698 , L701 , L702 , L703 , L705 , L706 , L707;
end;
L710: [ C290 , C291 ] in ( Maximal_wrt C289 ) by L696 , L79;
thus L711: thesis by L710 , L654;
end;
definition
let C299 being set;
let C300 being (Dependency-set of C299);
attr C300 is  (M1)
means
:L712: (for B179 being (Subset of C299) holds (ex B180 , B181 being (Subset of C299) st ([ B180 , B181 ] >= [ B179 , B179 ] & [ B180 , B181 ] in C300)));
attr C300 is  (M2)
means
:L713: (for B182 , B183 , B184 , B185 being (Subset of C299) holds (([ B182 , B183 ] in C300 & [ B184 , B185 ] in C300 & [ B182 , B183 ] >= [ B184 , B185 ]) implies (B182 = B184 & B183 = B185)));
attr C300 is  (M3)
means
:L714: (for B186 , B187 , B188 , B189 being (Subset of C299) holds (([ B186 , B187 ] in C300 & [ B188 , B189 ] in C300 & B188 c= B187) implies B189 c= B187));
end;
theorem
L716: (for B190 being  finite non  empty set holds (for B191 being (Full-family of B190) holds ( Maximal_wrt B191 ) is  (M1)  (M2)  (M3)))
proof
let C301 being  finite non  empty set;
let C302 being  full_family (Dependency-set of C301);
set D80 = ( Dependencies-Order C301 );
set D81 = ( Maximal_wrt C302 );
thus L717: ( Maximal_wrt C302 ) is  (M1)
proof
L718: ( field D80 ) = [: ( bool C301 ) , ( bool C301 ) :] by L469;
let C303 being (Subset of C301);
defpred S11[ set ] means (ex B192 being (Dependency of C301) st ($1 = B192 & B192 >= [ C303 , C303 ]));
consider C304 being set such that L719: (for B193 being set holds (B193 in C304 iff (B193 in C302 & S11[ B193 ]))) from XBOOLE_0:sch 1;
L720: C304 c= C302
proof
let C305 being set;
assume L721: C305 in C304;
thus L722: thesis by L721 , L719;
end;
L723: C304 is  finite  finite  finite  finite (Subset of ( field D80 )) by L720 , L718 , XBOOLE_1:1;
L724: [ C303 , C303 ] in C302 by L570;
L725: C304 <> ( {} ) by L724 , L719;
consider C306 being (Element of C304) such that L726: C306 is_maximal_wrt C304 , D80 by L725 , L723 , L43;
L727: C306 in C304 by L726 , WAYBEL_4:def 23;
L728: C306 in C302 by L727 , L719;
consider C307 , C308 being set such that L729: C307 in ( bool C301 ) and L730: C308 in ( bool C301 ) and L731: C306 = [ C307 , C308 ] by L728 , ZFMISC_1:def 2;
reconsider D82 = C307 , D83 = C308 as (Subset of C301) by L729 , L730;
take D82;
take D83;
L732: (ex B194 being (Dependency of C301) st (C306 = B194 & B194 >= [ C303 , C303 ])) by L719 , L727;
thus L733: [ D82 , D83 ] >= [ C303 , C303 ] by L732 , L731;
L734: C306 is_maximal_wrt C302 , D80
proof
thus L735: C306 in C302 by L719 , L727;
given C309 being set such that
L736: C309 in C302
and
L737: C309 <> C306
and
L738: [ C306 , C309 ] in D80;

consider C310 , C311 being (Dependency of C301) such that L739: [ C306 , C309 ] = [ C310 , C311 ] and L740: C310 <= C311 by L738;
L741: C306 = C310 by L739 , XTUPLE_0:1;
L742: C311 >= [ C303 , C303 ] by L741 , L732 , L740 , L431;
L743: C309 = C311 by L739 , XTUPLE_0:1;
L744: C309 in C304 by L743 , L719 , L736 , L742;
thus L745: contradiction by L744 , L726 , L737 , L738 , WAYBEL_4:def 23;
end;
thus L746: thesis by L734 , L731 , L79;
end;

thus L747: ( Maximal_wrt C302 ) is  (M2)
proof
let C312 , C313 , C314 , C315 being (Subset of C301);
assume that
L748: [ C312 , C313 ] in D81
and
L749: [ C314 , C315 ] in D81
and
L750: [ C312 , C313 ] >= [ C314 , C315 ];
L751: [ [ C314 , C315 ] , [ C312 , C313 ] ] in D80 by L750;
assume L752: (not (C312 = C314 & C313 = C315));
L753: [ C312 , C313 ] <> [ C314 , C315 ] by L752 , XTUPLE_0:1;
L754: [ C314 , C315 ] is_maximal_wrt C302 , D80 by L749 , L79;
thus L755: contradiction by L754 , L748 , L753 , L751 , WAYBEL_4:def 23;
end;

thus L756: ( Maximal_wrt C302 ) is  (M3)
proof
let C316 , C317 , C318 , C319 being (Subset of C301);
assume that
L757: [ C316 , C317 ] in D81
and
L758: [ C318 , C319 ] in D81
and
L759: C318 c= C317;
L760: C316 ^|^ C317 , C302 by L757 , L654;
L761: [ C318 , C319 ] >= [ C317 , C319 ] by L759 , L442;
L762: [ C317 , C319 ] in C302 by L761 , L758 , L541;
L763: [ C316 , C319 ] in C302 by L762 , L757 , L521;
L764: C317 c= ( C317 \/ C319 ) by XBOOLE_1:7;
L765: [ C316 , ( C317 \/ C319 ) ] >= [ C316 , C317 ] by L764 , L442;
L766: ( C316 \/ C316 ) = C316;
L767: [ C316 , ( C317 \/ C319 ) ] in C302 by L766 , L757 , L763 , L542;
L768: ( C317 \/ C319 ) = C317 by L767 , L760 , L765 , L682;
thus L769: thesis by L768 , XBOOLE_1:11;
end;

end;
theorem
L757: (for B195 being  finite set holds (for B196 , B197 being (Dependency-set of B195) holds ((B196 is  (M1)  (M2)  (M3) & B197 = { [ B198 , B199 ] where B198 , B199 is (Subset of B195) : (ex B200 , B201 being (Subset of B195) st ([ B200 , B201 ] >= [ B198 , B199 ] & [ B200 , B201 ] in B196)) }) implies (B196 = ( Maximal_wrt B197 ) & B197 is  full_family & (for B202 being (Full-family of B195) holds (B196 = ( Maximal_wrt B202 ) implies B202 = B197))))))
proof
let C320 being  finite set;
let C321 being (Dependency-set of C320);
let C322 being (Dependency-set of C320);
assume that
L758: C321 is  (M1)  (M2)  (M3)
and
L759: C322 = { [ B203 , B204 ] where B203 , B204 is (Subset of C320) : (ex B205 , B206 being (Subset of C320) st ([ B205 , B206 ] >= [ B203 , B204 ] & [ B205 , B206 ] in C321)) };
L760: C322 is  (F1)
proof
let C323 being (Subset of C320);
L761: (ex B207 , B208 being (Subset of C320) st ([ B207 , B208 ] >= [ C323 , C323 ] & [ B207 , B208 ] in C321)) by L758 , L712;
thus L762: thesis by L761 , L759;
end;
L763:
now
let C324 being set;
assume L764: C324 in C322;
consider C325 , C326 being (Subset of C320) such that L765: C324 = [ C325 , C326 ] and L766: (ex B209 , B210 being (Subset of C320) st ([ B209 , B210 ] >= [ C325 , C326 ] & [ B209 , B210 ] in C321)) by L764 , L759;
consider C327 , C328 being (Subset of C320) such that L767: [ C327 , C328 ] >= [ C325 , C326 ] and L768: [ C327 , C328 ] in C321 by L766;
take D84 = C325;
take D85 = C326;
take D86 = C327;
take D87 = C328;
thus L769: (C324 = [ D84 , D85 ] & [ D86 , D87 ] >= [ D84 , D85 ] & [ D86 , D87 ] in C321) by L765 , L767 , L768;
end;
L770:
now
let C329 , C330 being (Subset of C320);
assume L771: [ C329 , C330 ] in C322;
consider C331 , C332 , C333 , C334 being (Subset of C320) such that L772: [ C329 , C330 ] = [ C331 , C332 ] and L773: [ C333 , C334 ] >= [ C331 , C332 ] and L774: [ C333 , C334 ] in C321 by L771 , L763;
take D88 = C333;
take D89 = C334;
thus L775: ([ D88 , D89 ] >= [ C329 , C330 ] & [ D88 , D89 ] in C321) by L772 , L773 , L774;
end;
L776:
now
let C335 , C336 , C337 being (Subset of C320);
assume that
L777: [ C335 , C336 ] in C322
and
L778: [ C336 , C337 ] in C322;
consider C338 , C339 being (Subset of C320) such that L779: [ C338 , C339 ] >= [ C335 , C336 ] and L780: [ C338 , C339 ] in C321 by L770 , L777;
consider C340 , C341 being (Subset of C320) such that L781: [ C340 , C341 ] >= [ C336 , C337 ] and L782: [ C340 , C341 ] in C321 by L770 , L778;
L783: C340 c= C336 by L781 , L442;
L784: C336 c= C339 by L779 , L442;
L785: C340 c= C339 by L784 , L783 , XBOOLE_1:1;
L786: C341 c= C339 by L785 , L758 , L780 , L782 , L714;
L787: [ C338 , C339 ] >= [ C338 , C341 ] by L786 , L442;
L788: C337 c= C341 by L781 , L442;
L789: C338 c= C335 by L779 , L442;
L790: [ C338 , C341 ] >= [ C335 , C337 ] by L789 , L788 , L442;
L791: [ C338 , C339 ] >= [ C335 , C337 ] by L790 , L787 , L431;
thus L792: [ C335 , C337 ] in C322 by L791 , L759 , L780;
end;
L793: C322 is  (F2) by L776 , L521;
L794: C322 is  (F4)
proof
let C342 , C343 , C344 , C345 being (Subset of C320);
assume that
L795: [ C342 , C343 ] in C322
and
L796: [ C344 , C345 ] in C322;
consider C346 , C347 being (Subset of C320) such that L797: [ C346 , C347 ] >= [ C342 , C343 ] and L798: [ C346 , C347 ] in C321 by L770 , L795;
L799: C343 c= C347 by L797 , L442;
consider C348 , C349 being (Subset of C320) such that L800: [ C348 , C349 ] >= [ C344 , C345 ] and L801: [ C348 , C349 ] in C321 by L770 , L796;
L802: C345 c= C349 by L800 , L442;
consider C350 , C351 being (Subset of C320) such that L803: [ C350 , C351 ] >= [ ( C342 \/ C344 ) , ( C342 \/ C344 ) ] and L804: [ C350 , C351 ] in C321 by L758 , L712;
L805: ( C342 \/ C344 ) c= C351 by L803 , L442;
L806: C348 c= C344 by L800 , L442;
L807: C348 c= ( C342 \/ C344 ) by L806 , XBOOLE_1:10;
L808: C348 c= C351 by L807 , L805 , XBOOLE_1:1;
L809: C349 c= C351 by L808 , L758 , L804 , L801 , L714;
L810: C345 c= C351 by L809 , L802 , XBOOLE_1:1;
L811: C346 c= C342 by L797 , L442;
L812: C346 c= ( C342 \/ C344 ) by L811 , XBOOLE_1:10;
L813: C346 c= C351 by L812 , L805 , XBOOLE_1:1;
L814: C347 c= C351 by L813 , L758 , L804 , L798 , L714;
L815: C343 c= C351 by L814 , L799 , XBOOLE_1:1;
L816: ( C343 \/ C345 ) c= ( C351 \/ C351 ) by L815 , L810 , XBOOLE_1:13;
L817: C350 c= ( C342 \/ C344 ) by L803 , L442;
L818: [ C350 , C351 ] >= [ ( C342 \/ C344 ) , ( C343 \/ C345 ) ] by L817 , L816 , L442;
thus L819: thesis by L818 , L759 , L804;
end;
set D90 = ( Dependencies-Order C320 );
L820:
now
let C352 being set;
thus L821:now
assume L822: C352 in C321;
consider C353 , C354 being (Subset of C320) such that L823: C352 = [ C353 , C354 ] by L822 , L396;
L824: C352 is_maximal_wrt C322 , D90
proof
thus L825: C352 in C322 by L759 , L822 , L823;
given C355 being set such that
L826: C355 in C322
and
L827: C355 <> C352
and
L828: [ C352 , C355 ] in D90;

consider C356 , C357 being (Dependency of C320) such that L829: [ C352 , C355 ] = [ C356 , C357 ] and L830: C356 <= C357 by L828;
L831: C355 = C357 by L829 , XTUPLE_0:1;
consider C358 , C359 , C360 , C361 being (Subset of C320) such that L832: C355 = [ C358 , C359 ] and L833: [ C360 , C361 ] >= [ C358 , C359 ] and L834: [ C360 , C361 ] in C321 by L763 , L826;
L835: C352 = C356 by L829 , XTUPLE_0:1;
L836: [ C360 , C361 ] >= [ C353 , C354 ] by L835 , L823 , L830 , L831 , L832 , L833 , L431;
L837: C361 = C354 by L836 , L758 , L822 , L823 , L834 , L713;
L838: C360 = C353 by L758 , L822 , L823 , L834 , L836 , L713;
thus L839: contradiction by L838 , L823 , L827 , L830 , L835 , L831 , L832 , L833 , L837 , L420;
end;
thus L840: C352 in ( Maximal_wrt C322 ) by L824 , L79;
end;
assume L841: C352 in ( Maximal_wrt C322 );
L842: C352 is_maximal_wrt C322 , D90 by L841 , L79;
assume L843: (not C352 in C321);
consider C362 , C363 , C364 , C365 being (Subset of C320) such that L844: C352 = [ C362 , C363 ] and L845: [ C364 , C365 ] >= [ C362 , C363 ] and L846: [ C364 , C365 ] in C321 by L763 , L841;
L847: [ [ C362 , C363 ] , [ C364 , C365 ] ] in D90 by L845;
L848: [ C364 , C365 ] in C322 by L759 , L846;
thus L849: contradiction by L848 , L842 , L844 , L846 , L843 , L847 , WAYBEL_4:def 23;
end;
thus L850: C321 = ( Maximal_wrt C322 ) by L820 , TARSKI:1;
L851: C322 is  (F3)
proof
let C366 , C367 , C368 , C369 being (Subset of C320);
assume that
L852: [ C366 , C367 ] in C322
and
L853: [ C366 , C367 ] >= [ C368 , C369 ];
consider C370 , C371 being (Subset of C320) such that L854: [ C370 , C371 ] >= [ C366 , C367 ] and L855: [ C370 , C371 ] in C321 by L770 , L852;
L856: [ C370 , C371 ] >= [ C368 , C369 ] by L853 , L854 , L431;
thus L857: thesis by L856 , L759 , L855;
end;
thus L858: C322 is  full_family by L851 , L760 , L793 , L794;
let C372 being (Full-family of C320);
assume that
L859: C321 = ( Maximal_wrt C372 );
L860:
now
let C373 being set;
thus L861:now
L862: ( field D90 ) = [: ( bool C320 ) , ( bool C320 ) :] by L469;
assume L863: C373 in C372;
consider C374 , C375 being (Subset of C320) such that L864: C373 = [ C374 , C375 ] by L863 , L396;
defpred S12[ set ] means (ex B211 being (Dependency of C320) st ($1 = B211 & B211 >= [ C374 , C375 ]));
consider C376 being set such that L865: (for B212 being set holds (B212 in C376 iff (B212 in C372 & S12[ B212 ]))) from XBOOLE_0:sch 1;
L866: C376 c= C372
proof
let C377 being set;
assume L867: C377 in C376;
thus L868: thesis by L867 , L865;
end;
L869: C376 is  finite  finite  finite  finite (Subset of ( field D90 )) by L866 , L862 , XBOOLE_1:1;
L870: C376 <> ( {} ) by L863 , L864 , L865;
consider C378 being (Element of C376) such that L871: C378 is_maximal_wrt C376 , D90 by L870 , L869 , L43;
L872: C378 in C376 by L871 , WAYBEL_4:def 23;
L873: C378 in C372 by L872 , L865;
L874: (ex B213 , B214 being (Subset of C320) st C378 = [ B213 , B214 ]) by L873 , L396;
L875: C378 is_maximal_wrt C372 , D90
proof
L876: (ex B215 being (Dependency of C320) st (C378 = B215 & B215 >= [ C374 , C375 ])) by L865 , L872;
thus L877: C378 in C372 by L865 , L872;
given C379 being set such that
L878: C379 in C372
and
L879: C379 <> C378
and
L880: [ C378 , C379 ] in D90;

consider C380 , C381 being (Dependency of C320) such that L881: [ C378 , C379 ] = [ C380 , C381 ] and L882: C380 <= C381 by L880;
L883: C379 = C381 by L881 , XTUPLE_0:1;
L884: C378 = C380 by L881 , XTUPLE_0:1;
L885: C381 >= [ C374 , C375 ] by L884 , L876 , L882 , L431;
L886: C379 in C376 by L885 , L865 , L878 , L883;
thus L887: contradiction by L886 , L871 , L879 , L880 , WAYBEL_4:def 23;
end;
L888: C378 in ( D90 Maximal_in C372 ) by L875 , L79;
L889: (ex B216 being (Dependency of C320) st (C378 = B216 & B216 >= [ C374 , C375 ])) by L865 , L872;
thus L890: C373 in C322 by L889 , L759 , L859 , L864 , L888 , L874;
end;
assume L891: C373 in C322;
L892: (ex B217 , B218 , B219 , B220 being (Subset of C320) st (C373 = [ B217 , B218 ] & [ B219 , B220 ] >= [ B217 , B218 ] & [ B219 , B220 ] in C321)) by L891 , L763;
thus L893: C373 in C372 by L892 , L859 , L541;
end;
thus L894: thesis by L860 , TARSKI:1;
end;
registration
let C382 being non  empty  finite set;
let C383 being (Full-family of C382);
cluster ( Maximal_wrt C383 ) -> non  empty;
coherence
proof
set D91 = ( Maximal_wrt C383 );
L895: D91 is  (M1) by L716;
L896: (ex B221 , B222 being (Subset of C382) st ([ B221 , B222 ] >= [ ( [#] C382 ) , ( [#] C382 ) ] & [ B221 , B222 ] in D91)) by L895 , L712;
thus L897: thesis by L896;
end;
end;
theorem
L899: (for B223 being  finite set holds (for B224 being (Dependency-set of B223) holds (for B225 being (Subset of B223) holds (B224 = { [ B226 , B227 ] where B226 , B227 is (Subset of B223) : (B225 c= B226 or B227 c= B226) } implies ( { [ B225 , B223 ] } \/ { [ B228 , B228 ] where B228 is (Subset of B223) : (not B225 c= B228) } ) = ( Maximal_wrt B224 )))))
proof
let C384 being  finite set;
let C385 being (Dependency-set of C384);
let C386 being (Subset of C384);
set D92 = ( { [ C386 , C384 ] } \/ { [ B229 , B229 ] where B229 is (Subset of C384) : (not C386 c= B229) } );
L900: { [ C386 , C384 ] } c= D92 by XBOOLE_1:7;
L901:
now
let C387 being (Subset of C384);
assume L902: (not C386 c= C387);
L903: [ C387 , C387 ] in { [ B230 , B230 ] where B230 is (Subset of C384) : (not C386 c= B230) } by L902;
L904: { [ B231 , B231 ] where B231 is (Subset of C384) : (not C386 c= B231) } c= D92 by XBOOLE_1:7;
thus L905: [ C387 , C387 ] in D92 by L904 , L903;
end;
L906: ( [#] C384 ) = C384;
L907: D92 c= [: ( bool C384 ) , ( bool C384 ) :]
proof
let C388 being set;
assume L908: C388 in D92;
per cases  by L908 , XBOOLE_0:def 3;
suppose L909: C388 in { [ C386 , C384 ] };

L910: C388 = [ C386 , C384 ] by L909 , TARSKI:def 1;
thus L911: thesis by L910 , L906 , ZFMISC_1:def 2;
end;
suppose L912: C388 in { [ B232 , B232 ] where B232 is (Subset of C384) : (not C386 c= B232) };

L913: (ex B233 being (Subset of C384) st (C388 = [ B233 , B233 ] & (not C386 c= B233))) by L912;
thus L914: thesis by L913;
end;
end;
L916:
now
let C389 , C390 being (Subset of C384);
assume L917: [ C389 , C390 ] in D92;
per cases  by L917 , XBOOLE_0:def 3;
suppose L918: [ C389 , C390 ] in { [ C386 , C384 ] };

thus L919: ([ C389 , C390 ] = [ C386 , C384 ] or ((not C386 c= C389) & C389 = C390)) by L918 , TARSKI:def 1;
end;
suppose L920: [ C389 , C390 ] in { [ B234 , B234 ] where B234 is (Subset of C384) : (not C386 c= B234) };

consider C391 being (Subset of C384) such that L921: [ C389 , C390 ] = [ C391 , C391 ] and L922: (not C386 c= C391) by L920;
L923: C389 = C391 by L921 , XTUPLE_0:1;
thus L924: ([ C389 , C390 ] = [ C386 , C384 ] or ((not C386 c= C389) & C389 = C390)) by L923 , L921 , L922 , XTUPLE_0:1;
end;
end;
reconsider D93 = D92 as (Dependency-set of C384) by L907;
set D94 = { [ B235 , B236 ] where B235 , B236 is (Subset of C384) : (ex B237 , B238 being (Subset of C384) st ([ B237 , B238 ] >= [ B235 , B236 ] & [ B237 , B238 ] in D93)) };
L926: D94 c= [: ( bool C384 ) , ( bool C384 ) :]
proof
let C392 being set;
assume L927: C392 in D94;
L928: (ex B239 , B240 being (Subset of C384) st (C392 = [ B239 , B240 ] & (ex B241 , B242 being (Subset of C384) st ([ B241 , B242 ] >= [ B239 , B240 ] & [ B241 , B242 ] in D93)))) by L927;
thus L929: thesis by L928;
end;
L930: D93 is  (M2)
proof
let C393 , C394 , C395 , C396 being (Subset of C384);
assume that
L931: [ C393 , C394 ] in D93
and
L932: [ C395 , C396 ] in D93
and
L933: [ C393 , C394 ] >= [ C395 , C396 ];
L934: C393 c= C395 by L933 , L442;
L935: C396 c= C394 by L933 , L442;
per cases  by L916 , L931;
suppose L936: [ C393 , C394 ] = [ C386 , C384 ];

thus L937: (C393 = C395 & C394 = C396)
proof
per cases  by L916 , L932;
suppose L938: [ C395 , C396 ] = [ C386 , C384 ];

thus L939: thesis by L938 , L936 , XTUPLE_0:1;
end;
suppose L940: ((not C386 c= C395) & C395 = C396);

thus L941: thesis by L940 , L934 , L936 , XTUPLE_0:1;
end;
end;

end;
suppose L938: ((not C386 c= C393) & C393 = C394);

thus L939: (C393 = C395 & C394 = C396)
proof
per cases  by L916 , L932;
suppose L940: [ C395 , C396 ] = [ C386 , C384 ];

L941: C396 = C384 by L940 , XTUPLE_0:1;
L942: C394 = C384 by L941 , L935 , XBOOLE_0:def 10;
thus L943: thesis by L942 , L938;
end;
suppose L944: ((not C386 c= C395) & C395 = C396);

thus L945: thesis by L944 , L934 , L935 , L938 , XBOOLE_0:def 10;
end;
end;

end;
end;
reconsider D95 = D94 as (Dependency-set of C384) by L926;
assume L941: C385 = { [ B243 , B244 ] where B243 , B244 is (Subset of C384) : (C386 c= B243 or B244 c= B243) };
L942:
now
let C397 being set;
thus L943:now
L944: { [ B245 , B245 ] where B245 is (Subset of C384) : (not C386 c= B245) } c= D93 by XBOOLE_1:7;
L945: [ C386 , C384 ] in { [ C386 , C384 ] } by TARSKI:def 1;
L946: { [ C386 , C384 ] } c= D93 by XBOOLE_1:7;
assume L947: C397 in C385;
consider C398 , C399 being (Subset of C384) such that L948: C397 = [ C398 , C399 ] and L949: (C386 c= C398 or C399 c= C398) by L947 , L941;
per cases ;
suppose L950: C386 c= C398;

L951: [ C386 , ( [#] C384 ) ] >= [ C398 , C399 ] by L950 , L442;
thus L952: C397 in D95 by L951 , L948 , L946 , L945;
end;
suppose L953: (not C386 c= C398);

L954: [ C398 , C398 ] in { [ B246 , B246 ] where B246 is (Subset of C384) : (not C386 c= B246) } by L953;
L955: [ C398 , C398 ] >= [ C398 , C399 ] by L949 , L953 , L442;
thus L956: C397 in D95 by L955 , L948 , L944 , L954;
end;
end;
assume L958: C397 in D95;
consider C400 , C401 being (Subset of C384) such that L959: C397 = [ C400 , C401 ] and L960: (ex B247 , B248 being (Subset of C384) st ([ B247 , B248 ] >= [ C400 , C401 ] & [ B247 , B248 ] in D93)) by L958;
consider C402 , C403 being (Subset of C384) such that L961: [ C402 , C403 ] >= [ C400 , C401 ] and L962: [ C402 , C403 ] in D93 by L960;
per cases  by L962 , XBOOLE_0:def 3;
suppose L963: [ C402 , C403 ] in { [ C386 , C384 ] };

L964: [ C402 , C403 ] = [ C386 , C384 ] by L963 , TARSKI:def 1;
L965: C402 = C386 by L964 , XTUPLE_0:1;
L966: C386 c= C400 by L965 , L961 , L442;
thus L967: C397 in C385 by L966 , L941 , L959;
end;
suppose L968: [ C402 , C403 ] in { [ B249 , B249 ] where B249 is (Subset of C384) : (not C386 c= B249) };

consider C404 being (Subset of C384) such that L969: [ C402 , C403 ] = [ C404 , C404 ] and L970: (not C386 c= C404) by L968;
L971: C402 = C404 by L969 , XTUPLE_0:1;
L972: C403 = C404 by L969 , XTUPLE_0:1;
L973: C401 c= C403 by L961 , L442;
L974: C402 c= C400 by L961 , L442;
L975: C401 c= C400 by L974 , L971 , L972 , L973 , XBOOLE_1:1;
thus L976: C397 in C385 by L975 , L941 , L959;
end;
end;
L978: D93 is  (M3)
proof
let C405 , C406 , C407 , C408 being (Subset of C384);
assume that
L979: [ C405 , C406 ] in D93
and
L980: [ C407 , C408 ] in D93
and
L981: C407 c= C406;
per cases  by L916 , L979;
suppose L982: [ C405 , C406 ] = [ C386 , C384 ];

L983: C406 = C384 by L982 , XTUPLE_0:1;
thus L984: thesis by L983;
end;
suppose L985: ((not C386 c= C405) & C405 = C406);

thus L986: C408 c= C406
proof
per cases  by L916 , L980;
suppose L987: [ C407 , C408 ] = [ C386 , C384 ];

thus L988: thesis by L987 , L981 , L985 , XTUPLE_0:1;
end;
suppose L989: ((not C386 c= C407) & C407 = C408);

thus L990: thesis by L989 , L981;
end;
end;

end;
end;
L988: [ C386 , C384 ] in { [ C386 , C384 ] } by TARSKI:def 1;
L989: D93 is  (M1)
proof
let C409 being (Subset of C384);
per cases ;
suppose L990: C386 c= C409;

take D96 = C386;
take D97 = ( [#] C384 );
thus L991: [ D96 , D97 ] >= [ C409 , C409 ] by L990 , L442;
thus L992: thesis by L988 , L900;
end;
suppose L993: (not C386 c= C409);

take D98 = C409;
take D99 = C409;
thus L994: [ D98 , D99 ] >= [ C409 , C409 ];
thus L995: thesis by L901 , L993;
end;
end;
L997: D93 = ( Maximal_wrt D95 ) by L989 , L930 , L978 , L757;
thus L998: thesis by L997 , L942 , TARSKI:1;
end;
begin
definition
let C410 being set;
let C411 being (Dependency-set of C410);
func saturated-subsets C411 -> (Subset-Family of C410) equals 
{ B250 where B250 is (Subset of C410) : (ex B251 being (Subset of C410) st B251 ^|^ B250 , C411) };
coherence
proof
set D100 = { B252 where B252 is (Subset of C410) : (ex B253 being (Subset of C410) st B253 ^|^ B252 , C411) };
L999: D100 c= ( bool C410 )
proof
let C412 being set;
assume L1000: C412 in D100;
L1001: (ex B254 being (Subset of C410) st (C412 = B254 & (ex B255 being (Subset of C410) st B255 ^|^ B254 , C411))) by L1000;
thus L1002: thesis by L1001;
end;
thus L1003: thesis by L999;
end;
end;
notation
let C413 being set;
let C414 being (Dependency-set of C413);
synonym closed_attribute_subset C414 for saturated-subsets C414;
end;
registration
let C415 being set;
let C416 being  finite (Dependency-set of C415);
cluster ( saturated-subsets C416 ) ->  finite;
coherence
proof
defpred S13[ set , set ] means (ex B256 , B257 being set st ($1 = [ B256 , B257 ] & $2 = ( [ B256 , B257 ] `2 )));
set D101 = { B258 where B258 is (Subset of C415) : (ex B259 being (Subset of C415) st B259 ^|^ B258 , C416) };
L1006: (for B260 being set holds (B260 in C416 implies (ex B261 being set st S13[ B260 , B261 ])))
proof
let C417 being set;
assume L1007: C417 in C416;
consider C418 , C419 being (Subset of C415) such that L1008: C417 = [ C418 , C419 ] by L1007 , L396;
reconsider D102 = C418 , D103 = C419 as set;
take D103;
take D102;
take D103;
thus L1009: thesis by L1008;
end;
consider C420 being Function such that L1010: ( dom C420 ) = C416 and L1011: (for B262 being set holds (B262 in C416 implies S13[ B262 , ( C420 . B262 ) ])) from CLASSES1:sch 1(L1006);
L1012: D101 c= ( rng C420 )
proof
let C421 being set;
assume L1013: C421 in D101;
consider C422 being (Subset of C415) such that L1014: C421 = C422 and L1015: (ex B263 being (Subset of C415) st B263 ^|^ C422 , C416) by L1013;
consider C423 being (Subset of C415) such that L1016: C423 ^|^ C422 , C416 by L1015;
L1017: [ C423 , C422 ] in ( Maximal_wrt C416 ) by L1016 , L654;
L1018: (ex B264 , B265 being set st ([ C423 , C422 ] = [ B264 , B265 ] & ( C420 . [ C423 , C422 ] ) = ( [ B264 , B265 ] `2 ))) by L1017 , L1011;
L1019: ( [ C423 , C422 ] `2 ) = C422;
L1020: ( C420 . [ C423 , C422 ] ) = C422 by L1019 , L1018;
thus L1021: thesis by L1020 , L1010 , L1014 , L1017 , FUNCT_1:3;
end;
L1022: ( rng C420 ) is  finite by L1010 , FINSET_1:8;
thus L1023: thesis by L1022 , L1012;
end;
end;
theorem
L1025: (for B266 , B267 being set holds (for B268 being (Dependency-set of B266) holds (B267 in ( saturated-subsets B268 ) iff (ex B269 , B270 being (Subset of B266) st (B267 = B269 & B270 ^|^ B269 , B268)))))
proof
let C424 , C425 being set;
let C426 being (Dependency-set of C424);
thus L1026:now
assume L1027: C425 in ( saturated-subsets C426 );
consider C427 being (Subset of C424) such that L1028: C425 = C427 and L1029: (ex B271 being (Subset of C424) st B271 ^|^ C427 , C426) by L1027;
consider C428 being (Subset of C424) such that L1030: C428 ^|^ C427 , C426 by L1029;
take D104 = C427;
take D105 = C428;
thus L1031: (C425 = D104 & D105 ^|^ D104 , C426) by L1028 , L1030;
end;
given C429 , C430 being (Subset of C424) such that
L1032: C425 = C429
and
L1033: C430 ^|^ C429 , C426;

thus L1034: thesis by L1032 , L1033;
end;
theorem
L1035: (for B272 being  finite non  empty set holds (for B273 being (Full-family of B272) holds ( saturated-subsets B273 ) is  (B1)  (B2)))
proof
let C431 being  finite non  empty set;
let C432 being (Full-family of C431);
set D106 = ( saturated-subsets C432 );
L1036: ( Maximal_wrt C432 ) is  (M1) by L716;
consider C433 , C434 being (Subset of C431) such that L1037: [ C433 , C434 ] >= [ ( [#] C431 ) , ( [#] C431 ) ] and L1038: [ C433 , C434 ] in ( Maximal_wrt C432 ) by L1036 , L712;
L1039: ( [#] C431 ) c= C434 by L1037 , L442;
L1040: ( [#] C431 ) = C434 by L1039 , XBOOLE_0:def 10;
L1041: C433 ^|^ C434 , C432 by L1038 , L654;
L1042: C431 in D106 by L1041 , L1040;
thus L1043: D106 is  (B1) by L1042 , L196;
thus L1044: D106 is  (B2)
proof
let C435 , C436 being set;
assume that
L1045: C435 in D106
and
L1046: C436 in D106;
reconsider D107 = C435 , D108 = C436 as (Subset of C431) by L1045 , L1046;
L1047: ( Maximal_wrt C432 ) is  (M3) by L716;
consider C437 , C438 being (Subset of C431) such that L1048: C436 = C437 and L1049: C438 ^|^ C437 , C432 by L1046 , L1025;
L1050: [ C438 , C437 ] in ( Maximal_wrt C432 ) by L1049 , L654;
consider C439 , C440 being (Subset of C431) such that L1051: C435 = C439 and L1052: C440 ^|^ C439 , C432 by L1045 , L1025;
L1053: [ C440 , C439 ] in ( Maximal_wrt C432 ) by L1052 , L654;
consider C441 , C442 being (Subset of C431) such that L1054: [ C441 , C442 ] >= [ ( D107 /\ D108 ) , ( D107 /\ D108 ) ] and L1055: [ C441 , C442 ] in ( Maximal_wrt C432 ) by L1036 , L712;
L1056: C441 c= ( C435 /\ C436 ) by L1054 , L442;
L1057: ( C435 /\ C436 ) c= C436 by XBOOLE_1:17;
L1058: C441 c= C437 by L1057 , L1048 , L1056 , XBOOLE_1:1;
L1059: C442 c= C437 by L1058 , L1050 , L1055 , L1047 , L714;
L1060: ( C435 /\ C436 ) c= C442 by L1054 , L442;
L1061: ( C435 /\ C436 ) c= C435 by XBOOLE_1:17;
L1062: C441 c= C439 by L1061 , L1051 , L1056 , XBOOLE_1:1;
L1063: C442 c= C439 by L1062 , L1053 , L1055 , L1047 , L714;
L1064: C442 c= ( C435 /\ C436 ) by L1063 , L1051 , L1048 , L1059 , XBOOLE_1:19;
L1065: C442 = ( C435 /\ C436 ) by L1064 , L1060 , XBOOLE_0:def 10;
L1066: C441 ^|^ C442 , C432 by L1055 , L654;
thus L1067: thesis by L1066 , L1065;
end;

end;
definition
let C443 being set;
let C444 being set;
func C443 deps_encl_by C444 -> (Dependency-set of C443) equals 
{ [ B274 , B275 ] where B274 , B275 is (Subset of C443) : (for B276 being set holds ((B276 in C444 & B274 c= B276) implies B275 c= B276)) };
coherence
proof
set D109 = { [ B277 , B278 ] where B277 , B278 is (Subset of C443) : (for B279 being set holds ((B279 in C444 & B277 c= B279) implies B278 c= B279)) };
L1045: D109 c= [: ( bool C443 ) , ( bool C443 ) :]
proof
let C445 being set;
assume L1046: C445 in D109;
L1047: (ex B280 , B281 being (Subset of C443) st (C445 = [ B280 , B281 ] & (for B282 being set holds ((B282 in C444 & B280 c= B282) implies B281 c= B282)))) by L1046;
thus L1048: thesis by L1047;
end;
thus L1049: thesis by L1045;
end;
end;
theorem
L1051: (for B283 being set holds (for B284 being (Subset-Family of B283) holds (for B285 being (Dependency-set of B283) holds ( B283 deps_encl_by B284 ) is  full_family)))
proof
let C446 being set;
let C447 being (Subset-Family of C446);
let C448 being (Dependency-set of C446);
set D110 = ( C446 deps_encl_by C447 );
per cases ;
suppose L1052: C447 is  empty;

L1053:
now
let C449 being set;
thus L1054: (C449 in D110 implies C449 in ( Dependencies C446 ));
assume L1055: C449 in ( Dependencies C446 );
consider C450 , C451 being set such that L1056: C450 in ( bool C446 ) and L1057: C451 in ( bool C446 ) and L1058: C449 = [ C450 , C451 ] by L1055 , ZFMISC_1:def 2;
L1059: (for B286 being set holds ((B286 in C447 & C450 c= B286) implies C451 c= B286)) by L1052;
thus L1060: C449 in D110 by L1059 , L1056 , L1057 , L1058;
end;
L1061: D110 = ( Dependencies C446 ) by L1053 , TARSKI:1;
L1062: D110 is  (F1)  (F2)  (F3)  (F4) by L1061 , L544;
thus L1063: thesis by L1062;
end;
suppose L1064: C447 is non  empty;

reconsider D111 = C447 as non  empty (Subset-Family of C446) by L1064;
thus L1065: D110 is  (F1)
proof
let C452 being (Subset of C446);
L1066: (for B287 being set holds ((B287 in D111 & C452 c= B287) implies C452 c= B287));
thus L1067: thesis by L1066;
end;

L1068:
now
let C453 , C454 being (Subset of C446);
let C455 being (Element of D111);
assume that
L1069: [ C453 , C454 ] in D110
and
L1070: C453 c= C455;
consider C456 , C457 being (Subset of C446) such that L1071: [ C453 , C454 ] = [ C456 , C457 ] and L1072: (for B288 being set holds ((B288 in D111 & C456 c= B288) implies C457 c= B288)) by L1069;
L1073: C454 = C457 by L1071 , XTUPLE_0:1;
L1074: C453 = C456 by L1071 , XTUPLE_0:1;
thus L1075: C454 c= C455 by L1074 , L1070 , L1072 , L1073;
end;
L1076:
now
let C458 , C459 , C460 being (Subset of C446);
assume that
L1077: [ C458 , C459 ] in D110
and
L1078: [ C459 , C460 ] in D110;
L1079:
now
let C461 being set;
assume that
L1080: C461 in D111
and
L1081: C458 c= C461;
L1082: C459 c= C461 by L1068 , L1077 , L1080 , L1081;
thus L1083: C460 c= C461 by L1082 , L1068 , L1078 , L1080;
end;
thus L1084: [ C458 , C460 ] in D110 by L1079;
end;
thus L1085: D110 is  (F2) by L1076 , L521;
thus L1086: D110 is  (F3)
proof
let C462 , C463 , C464 , C465 being (Subset of C446);
assume that
L1087: [ C462 , C463 ] in D110
and
L1088: [ C462 , C463 ] >= [ C464 , C465 ];
L1089: C465 c= C463 by L1088 , L442;
L1090: C462 c= C464 by L1088 , L442;
L1091:
now
let C466 being set;
assume that
L1092: C466 in D111
and
L1093: C464 c= C466;
L1094: C462 c= C466 by L1090 , L1093 , XBOOLE_1:1;
L1095: C463 c= C466 by L1094 , L1068 , L1087 , L1092;
thus L1096: C465 c= C466 by L1095 , L1089 , XBOOLE_1:1;
end;
thus L1097: thesis by L1091;
end;

thus L1098: D110 is  (F4)
proof
let C467 , C468 , C469 , C470 being (Subset of C446);
assume that
L1099: [ C467 , C468 ] in D110
and
L1100: [ C469 , C470 ] in D110;
L1101:
now
let C471 being set;
assume that
L1102: C471 in D111
and
L1103: ( C467 \/ C469 ) c= C471;
L1104: C469 c= C471 by L1103 , XBOOLE_1:11;
L1105: C470 c= C471 by L1104 , L1068 , L1100 , L1102;
L1106: C467 c= C471 by L1103 , XBOOLE_1:11;
L1107: C468 c= C471 by L1106 , L1068 , L1099 , L1102;
thus L1108: ( C468 \/ C470 ) c= C471 by L1107 , L1105 , XBOOLE_1:8;
end;
thus L1109: thesis by L1101;
end;

end;
end;
theorem
L1100: (for B289 being  finite non  empty set holds (for B290 being (Subset-Family of B289) holds B290 c= ( saturated-subsets ( B289 deps_encl_by B290 ) )))
proof
let C472 being  finite non  empty set;
let C473 being (Subset-Family of C472);
set D112 = ( C472 deps_encl_by C473 );
reconsider D113 = D112 as (Full-family of C472) by L1051;
set D114 = ( Maximal_wrt D113 );
let C474 being set;
assume L1101: C474 in C473;
reconsider D115 = C474 as (Element of C473) by L1101;
reconsider D116 = C474 as (Subset of C472) by L1101;
L1102: D114 is  (M1) by L716;
consider C475 , C476 being (Subset of C472) such that L1103: [ C475 , C476 ] >= [ D116 , D116 ] and L1104: [ C475 , C476 ] in D114 by L1102 , L712;
L1105: C475 c= D116 by L1103 , L442;
L1106: [ C475 , C476 ] in D112 by L1104;
consider C477 , C478 being (Subset of C472) such that L1107: [ C475 , C476 ] = [ C477 , C478 ] and L1108: (for B291 being set holds ((B291 in C473 & C477 c= B291) implies C478 c= B291)) by L1106;
L1109: C477 ^|^ C478 , D112 by L1104 , L1107 , L654;
L1110: C475 = C477 by L1107 , XTUPLE_0:1;
L1111: C478 c= D115 by L1110 , L1101 , L1105 , L1108;
L1112: C476 = C478 by L1107 , XTUPLE_0:1;
L1113: D116 c= C476 by L1103 , L442;
L1114: C478 = C474 by L1113 , L1112 , L1111 , XBOOLE_0:def 10;
thus L1115: thesis by L1114 , L1109;
end;
theorem
L1116: (for B292 being  finite non  empty set holds (for B293 being (Subset-Family of B292) holds (B293 is  (B1)  (B2) implies (B293 = ( saturated-subsets ( B292 deps_encl_by B293 ) ) & (for B294 being (Full-family of B292) holds (B293 = ( saturated-subsets B294 ) implies B294 = ( B292 deps_encl_by B293 )))))))
proof
let C479 being  finite non  empty set;
let C480 being (Subset-Family of C479);
set D117 = ( C479 deps_encl_by C480 );
reconsider D118 = D117 as (Full-family of C479) by L1051;
set D119 = ( saturated-subsets D117 );
set D120 = ( Maximal_wrt D118 );
assume L1117: C480 is  (B1)  (B2);
reconsider D121 = C480 as non  empty set by L1117 , L196;
L1118: C479 in C480 by L1117 , L196;
L1119:
now
let C481 being set;
L1120: C480 c= D119 by L1100;
thus L1121: (C481 in C480 implies C481 in D119) by L1120;
assume L1122: C481 in D119;
consider C482 , C483 being (Subset of C479) such that L1123: C481 = C482 and L1124: C483 ^|^ C482 , D117 by L1122 , L1025;
L1125: [ C483 , C482 ] in D120 by L1124 , L654;
L1126: [ C483 , C482 ] in D117 by L1125;
consider C484 , C485 being (Subset of C479) such that L1127: [ C483 , C482 ] = [ C484 , C485 ] and L1128: (for B295 being set holds ((B295 in C480 & C484 c= B295) implies C485 c= B295)) by L1126;
L1129: C482 = C485 by L1127 , XTUPLE_0:1;
set D122 = { B296 where B296 is (Element of D121) : C483 c= B296 };
L1130: D122 c= ( bool C479 )
proof
let C486 being set;
assume L1131: C486 in D122;
consider C487 being (Element of D121) such that L1132: C486 = C487 and L1133: C483 c= C487 by L1131;
L1134: C487 in D121;
thus L1135: thesis by L1134 , L1132;
end;
L1136: D122 c= C480
proof
let C488 being set;
assume L1137: C488 in D122;
L1138: (ex B297 being (Element of D121) st (C488 = B297 & C483 c= B297)) by L1137;
thus L1139: thesis by L1138;
end;
L1140: C479 in D122 by L1118;
reconsider D123 = D122 as (Subset-Family of C479) by L1130;
set D124 = ( Intersect D123 );
reconsider D125 = D124 as (Subset of C479);
L1141: C483 = C484 by L1127 , XTUPLE_0:1;
L1142: C482 c= D125
proof
let C489 being set;
assume L1143: C489 in C482;
L1144:
now
let C490 being set;
assume L1145: C490 in D123;
consider C491 being (Element of D121) such that L1146: C490 = C491 and L1147: C483 c= C491 by L1145;
L1148: C482 c= C491 by L1128 , L1141 , L1129 , L1147;
thus L1149: C489 in C490 by L1148 , L1143 , L1146;
end;
L1150: C489 in ( meet D123 ) by L1144 , L1140 , SETFAM_1:def 1;
thus L1151: thesis by L1150 , L1140 , SETFAM_1:def 9;
end;
L1152:
now
L1153:
now
let C492 being set;
assume that
L1154: C492 in C480
and
L1155: C483 c= C492;
L1156: C492 in D123 by L1154 , L1155;
L1157: ( meet D123 ) c= C492 by L1156 , SETFAM_1:3;
thus L1158: D125 c= C492 by L1157 , L1140 , SETFAM_1:def 9;
end;
L1159: [ C483 , D125 ] in D117 by L1153;
assume L1160: C482 <> D125;
L1161: [ C483 , D125 ] >= [ C483 , C482 ] by L1142 , L442;
thus L1162: contradiction by L1161 , L1124 , L1160 , L1159 , L682;
end;
thus L1163: C481 in C480 by L1152 , L1117 , L1118 , L1123 , L1136 , L7;
end;
thus L1164: C480 = ( saturated-subsets D117 ) by L1119 , TARSKI:1;
let C493 being (Full-family of C479);
assume L1165: C480 = ( saturated-subsets C493 );
set D126 = ( Maximal_wrt C493 );
L1166: D126 is  (M1)  (M3) by L716;
L1167:
now
let C494 being set;
thus L1168:now
assume L1169: C494 in C493;
reconsider D127 = C494 as (Element of C493) by L1169;
reconsider D128 = D127 as (Dependency of C479);
consider C495 , C496 being (Subset of C479) such that L1170: D128 = [ C495 , C496 ] by L389;
L1171:
now
consider C497 , C498 being (Subset of C479) such that L1172: [ C497 , C498 ] in D126 and L1173: [ C497 , C498 ] >= D128 by L656;
L1174: C496 c= C498 by L1170 , L1173 , L442;
let C499 being set;
assume that
L1175: C499 in D121
and
L1176: C495 c= C499;
consider C500 , C501 being (Subset of C479) such that L1177: C499 = C500 and L1178: C501 ^|^ C500 , C493 by L1165 , L1175 , L1025;
L1179: C497 c= C495 by L1170 , L1173 , L442;
L1180: C497 c= C499 by L1179 , L1176 , XBOOLE_1:1;
L1181: [ C501 , C499 ] in D126 by L1177 , L1178 , L654;
L1182: C498 c= C500 by L1181 , L1166 , L1177 , L1172 , L1180 , L714;
thus L1183: C496 c= C499 by L1182 , L1177 , L1174 , XBOOLE_1:1;
end;
thus L1184: C494 in D117 by L1171 , L1170;
end;
assume L1185: C494 in D117;
consider C502 , C503 being (Subset of C479) such that L1186: C494 = [ C502 , C503 ] and L1187: (for B298 being set holds ((B298 in C480 & C502 c= B298) implies C503 c= B298)) by L1185;
consider C504 , C505 being (Subset of C479) such that L1188: [ C504 , C505 ] >= [ C502 , C502 ] and L1189: [ C504 , C505 ] in D126 by L1166 , L712;
L1190: C504 c= C502 by L1188 , L442;
L1191: C504 ^|^ C505 , C493 by L1189 , L654;
L1192: C505 in C480 by L1191 , L1165;
L1193: C502 c= C505 by L1188 , L442;
L1194: C503 c= C505 by L1193 , L1187 , L1192;
L1195: [ C504 , C505 ] >= [ C502 , C503 ] by L1194 , L1190 , L442;
thus L1196: C494 in C493 by L1195 , L1186 , L1189 , L541;
end;
thus L1197: thesis by L1167 , TARSKI:1;
end;
definition
let C506 being set;
let C507 being (Dependency-set of C506);
func enclosure_of C507 -> (Subset-Family of C506) equals 
{ B299 where B299 is (Subset of C506) : (for B300 , B301 being (Subset of C506) holds (([ B300 , B301 ] in C507 & B300 c= B299) implies B301 c= B299)) };
coherence
proof
set D129 = { B302 where B302 is (Subset of C506) : (for B303 , B304 being (Subset of C506) holds (([ B303 , B304 ] in C507 & B303 c= B302) implies B304 c= B302)) };
L1198: D129 c= ( bool C506 )
proof
let C508 being set;
assume L1199: C508 in D129;
L1200: (ex B305 being (Subset of C506) st (C508 = B305 & (for B306 , B307 being (Subset of C506) holds (([ B306 , B307 ] in C507 & B306 c= B305) implies B307 c= B305)))) by L1199;
thus L1201: thesis by L1200;
end;
thus L1202: thesis by L1198;
end;
end;
theorem
L1204: (for B308 being  finite non  empty set holds (for B309 being (Dependency-set of B308) holds ( enclosure_of B309 ) is  (B1)  (B2)))
proof
let C509 being  finite non  empty set;
let C510 being (Dependency-set of C509);
set D130 = ( enclosure_of C510 );
L1205: (for B310 , B311 being (Subset of C509) holds (([ B310 , B311 ] in C510 & B310 c= C509) implies B311 c= C509));
L1206: C509 = ( [#] C509 );
L1207: C509 in D130 by L1206 , L1205;
thus L1208: D130 is  (B1) by L1207 , L196;
let C511 , C512 being set;
assume that
L1209: C511 in D130
and
L1210: C512 in D130;
consider C513 being (Subset of C509) such that L1211: C513 = C512 and L1212: (for B312 , B313 being (Subset of C509) holds (([ B312 , B313 ] in C510 & B312 c= C513) implies B313 c= C513)) by L1210;
consider C514 being (Subset of C509) such that L1213: C514 = C511 and L1214: (for B314 , B315 being (Subset of C509) holds (([ B314 , B315 ] in C510 & B314 c= C514) implies B315 c= C514)) by L1209;
reconsider D131 = ( C514 /\ C513 ) as (Subset of C509);
L1215:
now
let C515 , C516 being (Subset of C509);
assume that
L1216: [ C515 , C516 ] in C510
and
L1217: C515 c= D131;
L1218: C516 c= C513 by L1212 , L1216 , L1217 , XBOOLE_1:18;
L1219: C516 c= C514 by L1214 , L1216 , L1217 , XBOOLE_1:18;
thus L1220: C516 c= D131 by L1219 , L1218 , XBOOLE_1:19;
end;
thus L1221: thesis by L1215 , L1213 , L1211;
end;
theorem
L1222: (for B316 being  finite non  empty set holds (for B317 being (Dependency-set of B316) holds (B317 c= ( B316 deps_encl_by ( enclosure_of B317 ) ) & (for B318 being (Dependency-set of B316) holds ((B317 c= B318 & B318 is  full_family) implies ( B316 deps_encl_by ( enclosure_of B317 ) ) c= B318)))))
proof
let C517 being  finite non  empty set;
let C518 being (Dependency-set of C517);
set D132 = ( enclosure_of C518 );
set D133 = ( C517 deps_encl_by D132 );
thus L1223: C518 c= D133
proof
let C519 being set;
assume L1224: C519 in C518;
consider C520 , C521 being (Subset of C517) such that L1225: C519 = [ C520 , C521 ] by L1224 , L396;
L1226:
now
let C522 being set;
assume that
L1227: C522 in D132
and
L1228: C520 c= C522
and
L1229: (not C521 c= C522);
reconsider D134 = C522 as (Subset of C517) by L1227;
L1230: (ex B319 being (Subset of C517) st (B319 = D134 & (for B320 , B321 being (Subset of C517) holds (([ B320 , B321 ] in C518 & B320 c= B319) implies B321 c= B319)))) by L1227;
thus L1231: contradiction by L1230 , L1224 , L1225 , L1228 , L1229;
end;
thus L1232: thesis by L1226 , L1225;
end;

let C523 being (Dependency-set of C517);
assume that
L1233: C518 c= C523
and
L1234: C523 is  full_family;
set D135 = ( saturated-subsets C523 );
let C524 being set;
set D136 = { [ B322 , B323 ] where B322 , B323 is (Subset of C517) : (for B324 being set holds ((B324 in D135 & B322 c= B324) implies B323 c= B324)) };
L1235: D136 = ( C517 deps_encl_by D135 );
L1236: D132 is  (B1)  (B2) by L1204;
L1237: D132 = ( saturated-subsets D133 ) by L1236 , L1116;
assume L1238: C524 in D133;
consider C525 , C526 being (Subset of C517) such that L1239: C524 = [ C525 , C526 ] and L1240: (for B325 being set holds ((B325 in D132 & C525 c= B325) implies C526 c= B325)) by L1238;
L1241: D135 is  (B1)  (B2) by L1234 , L1035;
L1242: D136 = C523 by L1241 , L1234 , L1235 , L1116;
L1243: D135 c= ( saturated-subsets D133 )
proof
let C527 being set;
assume that
L1244: C527 in D135
and
L1245: (not C527 in ( saturated-subsets D133 ));
reconsider D137 = C527 as (Subset of C517) by L1244;
consider C528 , C529 being (Subset of C517) such that L1246: [ C528 , C529 ] in C518 and L1247: C528 c= D137 and L1248: (not C529 c= D137) by L1237 , L1245;
L1249: [ C528 , C529 ] in C523 by L1233 , L1246;
consider C530 , C531 being (Subset of C517) such that L1250: [ C528 , C529 ] = [ C530 , C531 ] and L1251: (for B326 being set holds ((B326 in D135 & C530 c= B326) implies C531 c= B326)) by L1249 , L1242;
L1252: C529 = C531 by L1250 , XTUPLE_0:1;
L1253: C528 = C530 by L1250 , XTUPLE_0:1;
thus L1254: contradiction by L1253 , L1244 , L1247 , L1248 , L1251 , L1252;
end;
L1255: (for B327 being set holds ((B327 in D135 & C525 c= B327) implies C526 c= B327)) by L1243 , L1240 , L1237;
thus L1256: thesis by L1255 , L1239 , L1242;
end;
definition
let C532 being  finite non  empty set;
let C533 being (Dependency-set of C532);
func Dependency-closure C533 -> (Full-family of C532) means 
:L1257: (C533 c= it & (for B328 being (Dependency-set of C532) holds ((C533 c= B328 & B328 is  full_family) implies it c= B328)));
existence
proof
set D138 = { B329 where B329 is (Subset of C532) : (for B330 , B331 being (Subset of C532) holds (([ B330 , B331 ] in C533 & B330 c= B329) implies B331 c= B329)) };
L1258: D138 = ( enclosure_of C533 );
L1259: D138 c= ( bool C532 )
proof
let C534 being set;
assume L1260: C534 in D138;
L1261: (ex B332 being (Subset of C532) st (C534 = B332 & (for B333 , B334 being (Subset of C532) holds (([ B333 , B334 ] in C533 & B333 c= B332) implies B334 c= B332)))) by L1260;
thus L1262: thesis by L1261;
end;
reconsider D139 = D138 as (Subset-Family of C532) by L1259;
set D140 = ( C532 deps_encl_by D139 );
reconsider D141 = D140 as (Full-family of C532) by L1051;
take D141;
thus L1263: thesis by L1258 , L1222;
end;
correctness
proof
let C535 , C536 being (Full-family of C532);
assume that
L1264: C533 c= C535
and
L1265: (for B335 being (Dependency-set of C532) holds ((C533 c= B335 & B335 is  full_family) implies C535 c= B335))
and
L1266: C533 c= C536
and
L1267: (for B336 being (Dependency-set of C532) holds ((C533 c= B336 & B336 is  full_family) implies C536 c= B336));
L1268: C536 c= C535 by L1264 , L1267;
L1269: C535 c= C536 by L1265 , L1266;
thus L1270: C535 = C536 by L1269 , L1268 , XBOOLE_0:def 10;
end;
end;
theorem
L1272: (for B337 being  finite non  empty set holds (for B338 being (Dependency-set of B337) holds ( Dependency-closure B338 ) = ( B337 deps_encl_by ( enclosure_of B338 ) )))
proof
let C537 being  finite non  empty set;
let C538 being (Dependency-set of C537);
set D142 = ( enclosure_of C538 );
set D143 = ( C537 deps_encl_by D142 );
reconsider D144 = D143 as (Full-family of C537) by L1051;
L1273: (for B339 being (Dependency-set of C537) holds ((C538 c= B339 & B339 is  full_family) implies D144 c= B339)) by L1222;
L1274: C538 c= D144 by L1222;
thus L1275: thesis by L1274 , L1273 , L1257;
end;
theorem
L1276: (for B340 being set holds (for B341 being (Subset of B340) holds (for B342 being (Subset-Family of B340) holds (B342 = ( { B340 } \/ { B343 where B343 is (Subset of B340) : (not B341 c= B343) } ) implies B342 is  (B1)  (B2)))))
proof
let C539 being set;
let C540 being (Subset of C539);
let C541 being (Subset-Family of C539);
assume that
L1277: C541 = ( { C539 } \/ { B344 where B344 is (Subset of C539) : (not C540 c= B344) } );
L1278: C539 in { C539 } by TARSKI:def 1;
L1279: C539 in C541 by L1278 , L1277 , XBOOLE_0:def 3;
thus L1280: C541 is  (B1) by L1279 , L196;
set D145 = { B345 where B345 is (Subset of C539) : (not C540 c= B345) };
thus L1281: C541 is  (B2)
proof
let C542 , C543 being set;
assume that
L1282: C542 in C541
and
L1283: C543 in C541;
reconsider D146 = C542 , D147 = C543 as (Subset of C539) by L1282 , L1283;
per cases  by L1277 , L1282 , L1283 , XBOOLE_0:def 3;
suppose L1284: (C542 in { C539 } & C543 in { C539 });

L1285: C543 = C539 by L1284 , TARSKI:def 1;
L1286: C542 = C539 by L1284 , TARSKI:def 1;
L1287: ( C542 /\ C543 ) in { C539 } by L1286 , L1285 , TARSKI:def 1;
thus L1288: thesis by L1287 , L1277 , XBOOLE_0:def 3;
end;
suppose L1289: (C542 in { C539 } & C543 in D145);

L1290: C542 = C539 by L1289 , TARSKI:def 1;
L1291: ( D146 /\ D147 ) = C543 by L1290 , XBOOLE_1:28;
thus L1292: thesis by L1291 , L1277 , L1289 , XBOOLE_0:def 3;
end;
suppose L1293: (C542 in D145 & C543 in { C539 });

L1294: C543 = C539 by L1293 , TARSKI:def 1;
L1295: ( D146 /\ D147 ) = C542 by L1294 , XBOOLE_1:28;
thus L1296: thesis by L1295 , L1277 , L1293 , XBOOLE_0:def 3;
end;
suppose L1297: (C542 in D145 & C543 in D145);

L1298: (ex B346 being (Subset of C539) st (C543 = B346 & (not C540 c= B346))) by L1297;
L1299: (not C540 c= ( C542 /\ C543 )) by L1298 , XBOOLE_1:18;
L1300: ( D146 /\ D147 ) in D145 by L1299;
thus L1301: thesis by L1300 , L1277 , XBOOLE_0:def 3;
end;
end;

end;
theorem
L1282: (for B347 being  finite non  empty set holds (for B348 being (Dependency-set of B347) holds (for B349 being (Subset of B347) holds (B348 = { [ B350 , B351 ] where B350 , B351 is (Subset of B347) : (B349 c= B350 or B351 c= B350) } implies ( { B347 } \/ { B352 where B352 is (Subset of B347) : (not B349 c= B352) } ) = ( saturated-subsets B348 )))))
proof
let C544 being  finite non  empty set;
let C545 being (Dependency-set of C544);
let C546 being (Subset of C544);
set D148 = ( { C544 } \/ { B353 where B353 is (Subset of C544) : (not C546 c= B353) } );
L1283: D148 c= ( bool C544 )
proof
let C547 being set;
assume L1284: C547 in D148;
per cases  by L1284 , XBOOLE_0:def 3;
suppose L1285: C547 in { C544 };

L1286: { C544 } c= ( bool C544 ) by ZFMISC_1:68;
thus L1287: thesis by L1286 , L1285;
end;
suppose L1288: C547 in { B354 where B354 is (Subset of C544) : (not C546 c= B354) };

L1289: (ex B355 being (Subset of C544) st (C547 = B355 & (not C546 c= B355))) by L1288;
thus L1290: thesis by L1289;
end;
end;
reconsider D149 = D148 as non  empty (Subset-Family of C544) by L1283;
set D150 = { [ B356 , B357 ] where B356 , B357 is (Subset of C544) : (for B358 being set holds ((B358 in D149 & B356 c= B358) implies B357 c= B358)) };
L1292: D150 = ( C544 deps_encl_by D149 );
L1293: D149 is  (B2) by L1276;
assume L1294: C545 = { [ B359 , B360 ] where B359 , B360 is (Subset of C544) : (C546 c= B359 or B360 c= B359) };
L1295:
now
let C548 being set;
thus L1296:now
assume L1297: C548 in C545;
consider C549 , C550 being (Subset of C544) such that L1298: C548 = [ C549 , C550 ] and L1299: (C546 c= C549 or C550 c= C549) by L1297 , L1294;
L1300:
now
let C551 being set;
assume that
L1301: C551 in D149
and
L1302: C549 c= C551;
per cases  by L1299;
suppose L1303: C546 c= C549;

thus L1304: C550 c= C551
proof
per cases  by L1301 , XBOOLE_0:def 3;
suppose L1305: C551 in { C544 };

L1306: C551 = C544 by L1305 , TARSKI:def 1;
thus L1307: thesis by L1306;
end;
suppose L1308: C551 in { B361 where B361 is (Subset of C544) : (not C546 c= B361) };

L1309: (ex B362 being (Subset of C544) st (C551 = B362 & (not C546 c= B362))) by L1308;
thus L1310: thesis by L1309 , L1302 , L1303 , XBOOLE_1:1;
end;
end;

end;
suppose L1305: C550 c= C549;

thus L1306: C550 c= C551 by L1305 , L1302 , XBOOLE_1:1;
end;
end;
thus L1308: C548 in D150 by L1300 , L1298;
end;
assume L1309: C548 in D150;
consider C552 , C553 being (Subset of C544) such that L1310: C548 = [ C552 , C553 ] and L1311: (for B363 being set holds ((B363 in D149 & C552 c= B363) implies C553 c= B363)) by L1309;
L1312:
now
assume L1313: (not C546 c= C552);
L1314: C552 in { B364 where B364 is (Subset of C544) : (not C546 c= B364) } by L1313;
L1315: C552 in D149 by L1314 , XBOOLE_0:def 3;
thus L1316: C553 c= C552 by L1315 , L1311;
end;
thus L1317: C548 in C545 by L1312 , L1294 , L1310;
end;
L1318: C545 = D150 by L1295 , TARSKI:1;
L1319: D149 is  (B1) by L1276;
thus L1320: thesis by L1319 , L1293 , L1292 , L1318 , L1116;
end;
theorem
L1321: (for B365 being  finite set holds (for B366 being (Dependency-set of B365) holds (for B367 being (Subset of B365) holds (B366 = { [ B368 , B369 ] where B368 , B369 is (Subset of B365) : (B367 c= B368 or B369 c= B368) } implies ( { B365 } \/ { B370 where B370 is (Subset of B365) : (not B367 c= B370) } ) = ( saturated-subsets B366 )))))
proof
let C554 being  finite set;
let C555 being (Dependency-set of C554);
let C556 being (Subset of C554);
set D151 = ( { C554 } \/ { B371 where B371 is (Subset of C554) : (not C556 c= B371) } );
set D152 = ( { [ C556 , C554 ] } \/ { [ B372 , B372 ] where B372 is (Subset of C554) : (not C556 c= B372) } );
set D153 = ( saturated-subsets C555 );
assume L1322: C555 = { [ B373 , B374 ] where B373 , B374 is (Subset of C554) : (C556 c= B373 or B374 c= B373) };
L1323: D152 = ( Maximal_wrt C555 ) by L1322 , L899;
L1324: ( [#] C554 ) = C554;
L1325:
now
let C557 being set;
thus L1326:now
assume L1327: C557 in D151;
per cases  by L1327 , XBOOLE_0:def 3;
suppose L1328: C557 in { C554 };

L1329: [ C556 , C554 ] in { [ C556 , C554 ] } by TARSKI:def 1;
L1330: [ C556 , C554 ] in D152 by L1329 , XBOOLE_0:def 3;
L1331: C556 ^|^ C554 , C555 by L1330 , L1323 , L654;
L1332: C557 = C554 by L1328 , TARSKI:def 1;
thus L1333: C557 in D153 by L1332 , L1324 , L1331;
end;
suppose L1334: C557 in { B375 where B375 is (Subset of C554) : (not C556 c= B375) };

consider C558 being (Subset of C554) such that L1335: C557 = C558 and L1336: (not C556 c= C558) by L1334;
L1337: [ C558 , C558 ] in { [ B376 , B376 ] where B376 is (Subset of C554) : (not C556 c= B376) } by L1336;
L1338: [ C558 , C558 ] in D152 by L1337 , XBOOLE_0:def 3;
L1339: C558 ^|^ C558 , C555 by L1338 , L1323 , L654;
thus L1340: C557 in D153 by L1339 , L1335;
end;
end;
assume L1342: C557 in D153;
consider C559 , C560 being (Subset of C554) such that L1343: C557 = C559 and L1344: C560 ^|^ C559 , C555 by L1342 , L1025;
L1345: [ C560 , C559 ] in D152 by L1323 , L1344 , L654;
per cases  by L1345 , XBOOLE_0:def 3;
suppose L1346: [ C560 , C559 ] in { [ C556 , C554 ] };

L1347: [ C560 , C559 ] = [ C556 , C554 ] by L1346 , TARSKI:def 1;
L1348: C559 = C554 by L1347 , XTUPLE_0:1;
L1349: C559 in { C554 } by L1348 , TARSKI:def 1;
thus L1350: C557 in D151 by L1349 , L1343 , XBOOLE_0:def 3;
end;
suppose L1351: [ C560 , C559 ] in { [ B377 , B377 ] where B377 is (Subset of C554) : (not C556 c= B377) };

consider C561 being (Subset of C554) such that L1352: [ C560 , C559 ] = [ C561 , C561 ] and L1353: (not C556 c= C561) by L1351;
L1354: C561 in { B378 where B378 is (Subset of C554) : (not C556 c= B378) } by L1353;
L1355: C559 = C561 by L1352 , XTUPLE_0:1;
thus L1356: C557 in D151 by L1355 , L1343 , L1354 , XBOOLE_0:def 3;
end;
end;
thus L1358: thesis by L1325 , TARSKI:1;
end;
definition
let C562 , C563 being set;
let C564 being (Subset-Family of C562);
pred C563 is_generator-set_of C564
means
:L1359: (C563 c= C564 & C564 = { ( Intersect B379 ) where B379 is (Subset-Family of C562) : B379 c= C563 })
;end;
theorem
L1361: (for B380 being  finite non  empty set holds (for B381 being (Subset-Family of B380) holds B381 is_generator-set_of ( saturated-subsets ( B380 deps_encl_by B381 ) )))
proof
let C565 being  finite non  empty set;
let C566 being (Subset-Family of C565);
set D154 = ( C565 deps_encl_by C566 );
set D155 = ( saturated-subsets D154 );
L1362: D154 is  full_family by L1051;
L1363: D155 is  (B1)  (B2) by L1362 , L1035;
thus L1364: C566 is_generator-set_of D155
proof
set D156 = { ( Intersect B382 ) where B382 is (Subset-Family of C565) : B382 c= C566 };
thus L1365: C566 c= D155 by L1100;
L1366:
now
let C567 being set;
thus L1367:now
assume L1368: C567 in D155;
consider C568 , C569 being (Subset of C565) such that L1369: C567 = C568 and L1370: C569 ^|^ C568 , D154 by L1368 , L1025;
L1371: [ C569 , C568 ] in ( Maximal_wrt D154 ) by L1370 , L654;
L1372: [ C569 , C568 ] in D154 by L1371;
consider C570 , C571 being (Subset of C565) such that L1373: [ C570 , C571 ] = [ C569 , C568 ] and L1374: (for B383 being set holds ((B383 in C566 & C570 c= B383) implies C571 c= B383)) by L1372;
set D157 = { B384 where B384 is (Subset of C565) : (B384 in C566 & C570 c= B384) };
L1375: D157 c= ( bool C565 )
proof
let C572 being set;
assume L1376: C572 in D157;
L1377: (ex B385 being (Subset of C565) st (C572 = B385 & B385 in C566 & C570 c= B385)) by L1376;
thus L1378: thesis by L1377;
end;
reconsider D158 = D157 as (Subset-Family of C565) by L1375;
L1379:
now
let C573 being set;
assume L1380: C573 in D158;
L1381: (ex B386 being (Subset of C565) st (C573 = B386 & B386 in C566 & C570 c= B386)) by L1380;
thus L1382: C571 c= C573 by L1381 , L1374;
end;
L1383: C571 c= ( Intersect D158 ) by L1379 , MSSUBFAM:4;
set D159 = ( Intersect D158 );
L1384: C571 = C568 by L1373 , XTUPLE_0:1;
L1385: D158 c= C566
proof
let C574 being set;
assume L1386: C574 in D158;
L1387: (ex B387 being (Subset of C565) st (B387 = C574 & B387 in C566 & C570 c= B387)) by L1386;
thus L1388: thesis by L1387;
end;
thus L1389: C567 in D156
proof
per cases ;
suppose L1390: C571 = D159;

thus L1391: thesis by L1390 , L1369 , L1384 , L1385;
end;
suppose L1392: C571 <> D159;

reconsider D160 = D159 as (Subset of C565);
L1393:
now
let C575 being set;
assume that
L1394: C575 in C566
and
L1395: C570 c= C575;
L1396: C575 in D158 by L1394 , L1395;
thus L1397: D160 c= C575 by L1396 , MSSUBFAM:2;
end;
L1398: [ C570 , D160 ] in D154 by L1393;
L1399: [ C570 , C571 ] <= [ C570 , D160 ] by L1383 , L442;
thus L1400: thesis by L1399 , L1370 , L1373 , L1384 , L1392 , L1398 , L682;
end;
end;

end;
assume L1390: C567 in D156;
L1391: (ex B388 being (Subset-Family of C565) st (( Intersect B388 ) = C567 & B388 c= C566)) by L1390;
L1392: C565 in D155 by L1363 , L196;
thus L1393: C567 in D155 by L1392 , L1363 , L1365 , L1391 , L7 , XBOOLE_1:1;
end;
thus L1394: thesis by L1366 , TARSKI:1;
end;

end;
theorem
L1365: (for B389 being  finite non  empty set holds (for B390 being (Full-family of B389) holds (ex B391 being (Subset-Family of B389) st (B391 is_generator-set_of ( saturated-subsets B390 ) & B390 = ( B389 deps_encl_by B391 )))))
proof
let C576 being  finite non  empty set;
let C577 being (Full-family of C576);
set D161 = ( saturated-subsets C577 );
take D161;
L1366: D161 is  (B1)  (B2) by L1035;
thus L1367: D161 is_generator-set_of D161
proof
set D162 = { ( Intersect B392 ) where B392 is (Subset-Family of C576) : B392 c= D161 };
thus L1368: D161 c= D161;
L1369:
now
let C578 being set;
thus L1370:now
set D163 = { C578 };
assume L1371: C578 in D161;
L1372: D163 c= D161 by L1371 , ZFMISC_1:31;
reconsider D164 = D163 as (Subset-Family of C576) by L1371 , ZFMISC_1:31;
L1373: ( Intersect D164 ) = ( meet D164 ) by SETFAM_1:def 9;
L1374: ( Intersect D164 ) in D162 by L1372;
thus L1375: C578 in D162 by L1374 , L1373 , SETFAM_1:10;
end;
assume L1376: C578 in D162;
L1377: (ex B393 being (Subset-Family of C576) st (( Intersect B393 ) = C578 & B393 c= D161)) by L1376;
L1378: C576 in D161 by L1366 , L196;
thus L1379: C578 in D161 by L1378 , L1366 , L1377 , L7;
end;
thus L1380: thesis by L1369 , TARSKI:1;
end;

thus L1381: thesis by L1366 , L1116;
end;
theorem
L1382: (for B394 being set holds (for B395 being non  empty  finite (Subset-Family of B394) holds (B395 is  (B1)  (B2) implies ( /\-IRR B395 ) is_generator-set_of B395)))
proof
let C579 being set;
let C580 being non  empty  finite (Subset-Family of C579);
assume L1383: C580 is  (B1)  (B2);
set D165 = ( /\-IRR C580 );
set D166 = { ( Intersect B396 ) where B396 is (Subset-Family of C579) : B396 c= D165 };
thus L1384: D165 c= C580;
L1385: C579 in C580 by L1383 , L196;
L1386:
now
let C581 being set;
thus L1387:now
assume L1388: C581 in C580;
reconsider D167 = C581 as (Element of C580) by L1388;
consider C582 being non  empty (Subset of C580) such that L1389: D167 = ( meet C582 ) and L1390: (for B397 being set holds (B397 in C582 implies B397 is_/\-irreducible_in C580)) by L172;
reconsider D168 = C582 as non  empty (Subset-Family of C579) by XBOOLE_1:1;
L1391: D168 c= D165
proof
let C583 being set;
assume L1392: C583 in D168;
L1393: C583 is_/\-irreducible_in C580 by L1392 , L1390;
thus L1394: thesis by L1393 , L91;
end;
L1395: ( Intersect D168 ) = ( meet D168 ) by SETFAM_1:def 9;
thus L1396: C581 in D166 by L1395 , L1389 , L1391;
end;
assume L1397: C581 in D166;
L1398: (ex B398 being (Subset-Family of C579) st (C581 = ( Intersect B398 ) & B398 c= D165)) by L1397;
thus L1399: C581 in C580 by L1398 , L1383 , L1385 , L7 , XBOOLE_1:1;
end;
thus L1400: thesis by L1386 , TARSKI:1;
end;
theorem
L1401: (for B399 , B400 being set holds (for B401 being non  empty  finite (Subset-Family of B399) holds ((B401 is  (B1)  (B2) & B400 is_generator-set_of B401) implies ( /\-IRR B401 ) c= ( B400 \/ { B399 } ))))
proof
let C584 , C585 being set;
let C586 being non  empty  finite (Subset-Family of C584);
assume that
L1402: C586 is  (B1)  (B2)
and
L1403: C585 is_generator-set_of C586;
L1404: C586 = { ( Intersect B402 ) where B402 is (Subset-Family of C584) : B402 c= C585 } by L1403 , L1359;
L1405: C585 c= C586 by L1403 , L1359;
let C587 being set;
assume L1406: C587 in ( /\-IRR C586 );
reconsider D169 = C587 as (Element of C586) by L1406;
L1407: D169 is_/\-irreducible_in C586 by L1406 , L91;
assume L1408: (not C587 in ( C585 \/ { C584 } ));
L1409: (not C587 in { C584 }) by L1408 , XBOOLE_0:def 3;
L1410: C587 <> C584 by L1409 , TARSKI:def 1;
L1411: C587 in C586 by L1406;
consider C588 being (Subset-Family of C584) such that L1412: C587 = ( Intersect C588 ) and L1413: C588 c= C585 by L1411 , L1404;
L1414: (not C587 in C588) by L1413 , L1408 , XBOOLE_0:def 3;
thus L1415: contradiction by L1414 , L1402 , L1405 , L1412 , L1413 , L1410 , L1407 , L203 , XBOOLE_1:1;
end;
begin
definition
let C589 being (Element of ( NAT ));
let C590 being non  empty set;
mode Tuple of C589 , C590
 is (Element of ( C589 -tuples_on C590 ));
end;
theorem
L1417: (for B403 being non  empty  finite set holds (for B404 being (Full-family of B403) holds (ex B405 being DB-Rel st ((the Attributes of B405) = B403 & (for B406 being (Element of B403) holds ( (the Domains of B405) . B406 ) = ( INT )) & B404 = ( Dependency-str B405 )))))
proof
let C591 being non  empty  finite set;
let C592 being (Full-family of C591);
reconsider D170 = ( C591 --> ( INT ) ) as  non-empty (ManySortedSet of C591);
consider C593 being (Subset-Family of C591) such that L1418: C593 is_generator-set_of ( saturated-subsets C592 ) and L1419: C592 = ( C591 deps_encl_by C593 ) by L1365;
consider C594 being FinSequence such that L1420: ( rng C594 ) = C593 and L1421: C594 is  one-to-one by FINSEQ_4:58;
L1422: ( dom D170 ) = C591 by PARTFUN1:def 2;
L1423:
now
set D171 = ( C591 --> ( 0 ) );
thus L1424: ( dom D171 ) = ( dom D170 ) by L1422 , FUNCOP_1:13;
let C595 being set;
assume L1425: C595 in ( dom D170 );
L1426: ( D171 . C595 ) = ( 0 ) by L1425 , FUNCOP_1:7;
L1427: ( D171 . C595 ) in ( NAT ) by L1426;
L1428: ( D171 . C595 ) in ( INT ) by L1427 , NUMBERS:17;
thus L1429: ( D171 . C595 ) in ( D170 . C595 ) by L1428 , L1425 , FUNCOP_1:7;
end;
L1430: ( C591 --> ( 0 ) ) is (Element of ( product D170 )) by L1423 , CARD_3:def 5;
reconsider D172 = C594 as (FinSequence of C593) by L1420 , FINSEQ_1:def 4;
per cases ;
suppose L1431: C593 is  empty;

set D173 = { ( C591 --> ( 0 ) ) };
L1432: D173 c= ( product D170 )
proof
let C596 being set;
assume L1433: C596 in D173;
L1434: C596 = ( C591 --> ( 0 ) ) by L1433 , TARSKI:def 1;
thus L1435: thesis by L1434 , L1423 , CARD_3:def 5;
end;
reconsider D174 = D173 as non  empty (Subset of ( product D170 )) by L1432;
set D175 = DB-Rel (# C591 , D170 , D174 #);
take D175;
thus L1436: ((the Attributes of D175) = C591 & (for B407 being (Element of C591) holds ( (the Domains of D175) . B407 ) = ( INT ))) by FUNCOP_1:7;
set D176 = ( Dependency-str D175 );
L1437:
now
let C597 being set;
thus L1438:now
assume L1439: C597 in C592;
consider C598 , C599 being (Subset of C591) such that L1440: C597 = [ C598 , C599 ] and L1441: (for B408 being set holds ((B408 in C593 & C598 c= B408) implies C599 c= B408)) by L1439 , L1419;
reconsider D177 = C598 , D178 = C599 as (Subset of (the Attributes of D175));
L1442: D177 >|> D178 , D175
proof
let C600 , C601 being (Element of (the Relationship of D175));
L1443: C600 = ( C591 --> ( 0 ) ) by TARSKI:def 1;
thus L1444: thesis by L1443 , TARSKI:def 1;
end;
thus L1445: C597 in D176 by L1442 , L1440;
end;
assume L1446: C597 in D176;
consider C602 , C603 being (Subset of (the Attributes of D175)) such that L1447: C597 = [ C602 , C603 ] and L1448: C602 >|> C603 , D175 by L1446;
L1449: (for B409 being set holds ((B409 in C593 & C602 c= B409) implies C603 c= B409)) by L1431;
thus L1450: C597 in C592 by L1449 , L1419 , L1447;
end;
thus L1451: thesis by L1437 , TARSKI:1;
end;
suppose L1452: C593 is non  empty;

L1453: D172 is non  empty by L1452 , L1420;
reconsider D179 = ( len D172 ) as non  empty (Element of ( NAT )) by L1453;
defpred S14[ set , (Element of ( D179 -tuples_on ( BOOLEAN ) )) ] means (for B410 being (Element of ( NAT )) holds (B410 in ( Seg D179 ) implies (($1 in ( D172 . B410 ) implies ( $2 . B410 ) = ( 0 )) & ((not $1 in ( D172 . B410 )) implies ( $2 . B410 ) = 1))));
L1454:
now
let C604 being (Element of C591);
defpred S15[ set , set ] means ((C604 in ( D172 . $1 ) implies $2 = ( 0 )) & ((not C604 in ( D172 . $1 )) implies $2 = 1));
L1455: (for B411 being Nat holds (B411 in ( Seg D179 ) implies (ex B412 being (Element of ( BOOLEAN )) st S15[ B411 , B412 ])))
proof
let C605 being Nat;
assume L1456: C605 in ( Seg D179 );
per cases ;
suppose L1457: C604 in ( D172 . C605 );

reconsider D180 = ( FALSE ) as (Element of ( BOOLEAN ));
take D180;
thus L1458: thesis by L1457;
end;
suppose L1459: (not C604 in ( D172 . C605 ));

reconsider D181 = ( TRUE ) as (Element of ( BOOLEAN ));
take D181;
thus L1460: thesis by L1459;
end;
end;
consider C606 being (FinSequence of ( BOOLEAN )) such that L1462: ( dom C606 ) = ( Seg D179 ) and L1463: (for B413 being Nat holds (B413 in ( Seg D179 ) implies S15[ B413 , ( C606 . B413 ) ])) from FINSEQ_1:sch 5(L1455);
L1464: C606 in ( ( BOOLEAN ) * ) by FINSEQ_1:def 11;
L1465: ( len C606 ) = D179 by L1462 , FINSEQ_1:def 3;
L1466: C606 in { B414 where B414 is (Element of ( ( BOOLEAN ) * )) : ( len B414 ) = D179 } by L1465 , L1464;
reconsider D182 = C606 as (Element of ( D179 -tuples_on ( BOOLEAN ) )) by L1466;
take D183 = D182;
thus L1467: S14[ C604 , D183 ] by L1463;
end;
consider C607 being (Function of C591 , ( D179 -tuples_on ( BOOLEAN ) )) such that L1468: (for B415 being (Element of C591) holds S14[ B415 , (( C607 . B415 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) ]) from FUNCT_2:sch 3(L1454);
set D184 = { B416 where B416 is (Element of ( product D170 )) : (ex B417 being (Element of ( NAT )) st (for B418 being (Element of C591) holds ( B416 . B418 ) = ( Absval ( ( D179 -BinarySequence B417 ) '&' (( C607 . B418 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) ) ))) };
L1469: D184 c= ( product D170 )
proof
let C608 being set;
assume L1470: C608 in D184;
L1471: (ex B419 being (Element of ( product D170 )) st (C608 = B419 & (ex B420 being (Element of ( NAT )) st (for B421 being (Element of C591) holds ( B419 . B421 ) = ( Absval ( ( D179 -BinarySequence B420 ) '&' (( C607 . B421 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) ) ))))) by L1470;
thus L1472: thesis by L1471;
end;
L1473:
now
take D185 = ( 0 );
set D186 = ( C591 --> ( 0 ) );
let C609 being (Element of C591);
L1474: ( ( D179 -BinarySequence D185 ) '&' (( C607 . C609 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) ) = ( D179 -BinarySequence D185 ) by L250
.= ( 0* D179 ) by BINARI_3:25;
thus L1475: ( D186 . C609 ) = ( 0 ) by FUNCOP_1:7
.= ( Absval ( ( D179 -BinarySequence D185 ) '&' (( C607 . C609 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) ) ) by L1474 , BINARI_3:6;
end;
L1476: ( C591 --> ( 0 ) ) in D184 by L1473 , L1430;
reconsider D187 = D184 as non  empty (Subset of ( product D170 )) by L1476 , L1469;
set D188 = DB-Rel (# C591 , D170 , D187 #);
take D188;
thus L1477: ((the Attributes of D188) = C591 & (for B422 being (Element of C591) holds ( (the Domains of D188) . B422 ) = ( INT ))) by FUNCOP_1:7;
set D189 = ( Dependency-str D188 );
L1478: ( dom D172 ) = ( Seg D179 ) by FINSEQ_1:def 3;
L1479:
now
let C610 being set;
thus L1480:now
assume L1481: C610 in C592;
consider C611 , C612 being (Subset of C591) such that L1482: C610 = [ C611 , C612 ] and L1483: (for B423 being set holds ((B423 in C593 & C611 c= B423) implies C612 c= B423)) by L1481 , L1419;
reconsider D190 = C611 , D191 = C612 as (Subset of (the Attributes of D188));
L1484: D190 >|> D191 , D188
proof
let C613 , C614 being (Element of (the Relationship of D188));
assume L1485: ( C613 | D190 ) = ( C614 | D190 );
L1486: C613 in D187;
consider C615 being (Element of ( product D170 )) such that L1487: C613 = C615 and L1488: (ex B424 being (Element of ( NAT )) st (for B425 being (Element of C591) holds ( C615 . B425 ) = ( Absval ( ( D179 -BinarySequence B424 ) '&' (( C607 . B425 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) ) ))) by L1486;
consider C616 being (Element of ( NAT )) such that L1489: (for B426 being (Element of C591) holds ( C615 . B426 ) = ( Absval ( ( D179 -BinarySequence C616 ) '&' (( C607 . B426 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) ) )) by L1488;
L1490: C614 in D187;
consider C617 being (Element of ( product D170 )) such that L1491: C614 = C617 and L1492: (ex B427 being (Element of ( NAT )) st (for B428 being (Element of C591) holds ( C617 . B428 ) = ( Absval ( ( D179 -BinarySequence B427 ) '&' (( C607 . B428 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) ) ))) by L1490;
consider C618 being (Element of ( NAT )) such that L1493: (for B429 being (Element of C591) holds ( C617 . B429 ) = ( Absval ( ( D179 -BinarySequence C618 ) '&' (( C607 . B429 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) ) )) by L1492;
L1494: ( dom C614 ) = ( dom D170 ) by L1491 , CARD_3:9
.= ( dom C613 ) by L1487 , CARD_3:9;
L1495:
now
set D192 = ( D179 -BinarySequence C618 );
set D193 = ( D179 -BinarySequence C616 );
thus L1496: ( dom ( C614 | C612 ) ) = ( ( dom C613 ) /\ C612 ) by L1494 , RELAT_1:61;
let C619 being set;
assume that
L1497: C619 in ( dom ( C614 | C612 ) );
reconsider D194 = C619 as (Element of C591) by L1496 , L1497;
reconsider D195 = ( C607 . D194 ) as (Tuple of D179 , ( BOOLEAN ));
set D196 = ( D192 '&' (( C607 . D194 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) );
set D197 = ( D193 '&' (( C607 . D194 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) );
L1498: ( dom (( C607 . D194 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) ) = ( Seg D179 ) by L4;
L1499: ( dom D197 ) = ( Seg D179 ) by L1;
L1500: C619 in C612 by L1496 , L1497 , XBOOLE_0:def 4;
L1501:
now
thus L1502: ( dom D197 ) = ( dom D196 ) by L1499 , L1;
let C620 being set;
assume L1503: C620 in ( dom D197 );
per cases ;
suppose L1504: C611 c= ( D172 . C620 );

L1505: C612 c= ( D172 . C620 ) by L1504 , L1420 , L1478 , L1483 , L1499 , L1503 , FUNCT_1:3;
L1506: ( D195 /. C620 ) = ( D195 . C620 ) by L1498 , L1499 , L1503 , PARTFUN1:def 6
.= ( 0 ) by L1468 , L1500 , L1499 , L1503 , L1505;
thus L1507: ( D197 . C620 ) = ( ( D193 /. C620 ) '&' ( D195 /. C620 ) ) by L1499 , L1503 , L233
.= ( ( D192 /. C620 ) '&' ( D195 /. C620 ) ) by L1506
.= ( D196 . C620 ) by L1499 , L1503 , L233;
end;
suppose L1508: (not C611 c= ( D172 . C620 ));

thus L1509: ( D197 . C620 ) = ( D196 . C620 )
proof
consider C621 being set such that L1510: C621 in C611 and L1511: (not C621 in ( D172 . C620 )) by L1508 , TARSKI:def 3;
reconsider D198 = C621 as (Element of C591) by L1510;
L1512: ( C613 . D198 ) = ( ( C614 | C611 ) . D198 ) by L1485 , L1510 , FUNCT_1:49
.= ( C614 . D198 ) by L1510 , FUNCT_1:49;
reconsider D199 = ( C607 . D198 ) as (Tuple of D179 , ( BOOLEAN ));
L1513: ( C613 . D198 ) = ( Absval ( D193 '&' (( C607 . D198 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) ) ) by L1487 , L1489;
L1514: ( C614 . D198 ) = ( Absval ( D192 '&' (( C607 . D198 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) ) ) by L1491 , L1493;
L1515: ( dom (( C607 . D198 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) ) = ( Seg D179 ) by L4;
L1516: ( D199 /. C620 ) = ( D199 . C620 ) by L1515 , L1499 , L1503 , PARTFUN1:def 6
.= 1 by L1468 , L1499 , L1503 , L1511;
L1517: ( D193 /. C620 ) = ( ( D193 /. C620 ) '&' ( D199 /. C620 ) ) by L1516
.= ( ( D193 '&' (( C607 . D198 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) ) . C620 ) by L1499 , L1503 , L233
.= ( ( D192 '&' (( C607 . D198 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) ) . C620 ) by L1512 , L1513 , L1514 , BINARI_3:2
.= ( ( D192 /. C620 ) '&' ( D199 /. C620 ) ) by L1499 , L1503 , L233
.= ( D192 /. C620 ) by L1516;
thus L1518: ( D197 . C620 ) = ( ( D193 /. C620 ) '&' ( D195 /. C620 ) ) by L1499 , L1503 , L233
.= ( D196 . C620 ) by L1499 , L1503 , L1517 , L233;
end;

end;
end;
L1511: D197 = D196 by L1501 , FUNCT_1:2;
L1512: ( C614 . C619 ) = ( Absval ( ( D179 -BinarySequence C616 ) '&' (( C607 . D194 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) ) ) by L1511 , L1491 , L1493
.= ( C613 . C619 ) by L1487 , L1489;
thus L1513: ( ( C614 | C612 ) . C619 ) = ( C613 . C619 ) by L1512 , L1497 , FUNCT_1:47;
end;
thus L1514: thesis by L1495 , FUNCT_1:46;
end;
thus L1515: C610 in D189 by L1484 , L1482;
end;
assume L1516: C610 in D189;
consider C622 , C623 being (Subset of (the Attributes of D188)) such that L1517: C610 = [ C622 , C623 ] and L1518: C622 >|> C623 , D188 by L1516;
L1519:
now
deffunc H4((Element of C591)) = ( Absval ( ( D179 -BinarySequence ( 0 ) ) '&' (( C607 . $1 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) ) );
let C624 being set;
assume that
L1520: C624 in C593
and
L1521: C622 c= C624
and
L1522: (not C623 c= C624);
reconsider D200 = C624 as (Element of C593) by L1520;
consider C625 being (Function of C591 , ( NAT )) such that L1523: (for B430 being (Element of C591) holds ( C625 . B430 ) = H4(B430)) from FUNCT_2:sch 4;
L1524:
now
let C626 being set;
assume L1525: C626 in ( dom D170 );
reconsider D201 = C626 as (Element of C591) by L1525;
L1526: ( C625 . C626 ) = ( Absval ( ( D179 -BinarySequence ( 0 ) ) '&' (( C607 . D201 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) ) ) by L1523;
L1527: ( C625 . C626 ) in ( NAT ) by L1526;
L1528: ( C625 . D201 ) in ( INT ) by L1527 , NUMBERS:17;
thus L1529: ( C625 . C626 ) in ( D170 . C626 ) by L1528 , FUNCOP_1:7;
end;
L1530: ( dom C625 ) = ( dom D170 ) by L1422 , FUNCT_2:def 1;
reconsider D202 = C625 as (Element of ( product D170 )) by L1530 , L1524 , CARD_3:def 5;
consider C627 being Nat such that L1531: C627 in ( dom D172 ) and L1532: ( D172 . C627 ) = D200 by L1420 , L1452 , FINSEQ_2:10;
L1533: C627 <> ( 0 ) by L1478 , L1531 , FINSEQ_1:1;
consider C628 being Nat such that L1534: C627 = ( C628 + 1 ) by L1533 , NAT_1:6;
consider C629 being set such that L1535: C629 in C623 and L1536: (not C629 in D200) by L1522 , TARSKI:def 3;
reconsider D203 = C629 as (Element of C591) by L1535;
reconsider D204 = ( C607 . D203 ) as (Tuple of D179 , ( BOOLEAN ));
L1537: D202 in D187 by L1523;
L1538: ( dom D204 ) = ( Seg D179 ) by L1;
L1539: ( D204 /. C627 ) = ( D204 . C627 ) by L1538 , L1478 , L1531 , PARTFUN1:def 6
.= 1 by L1478 , L1468 , L1536 , L1531 , L1532;
reconsider D205 = C628 as (Element of ( NAT )) by ORDINAL1:def 12;
deffunc H5((Element of C591)) = ( Absval ( ( D179 -BinarySequence ( 2 to_power D205 ) ) '&' (( C607 . $1 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) ) );
consider C630 being (Function of C591 , ( NAT )) such that L1540: (for B431 being (Element of C591) holds ( C630 . B431 ) = H5(B431)) from FUNCT_2:sch 4;
L1541:
now
let C631 being set;
assume L1542: C631 in ( dom D170 );
reconsider D206 = C631 as (Element of C591) by L1542;
L1543: ( C630 . C631 ) = ( Absval ( ( D179 -BinarySequence ( 2 to_power D205 ) ) '&' (( C607 . D206 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) ) ) by L1540;
L1544: ( C630 . C631 ) in ( NAT ) by L1543;
L1545: ( C630 . D206 ) in ( INT ) by L1544 , NUMBERS:17;
thus L1546: ( C630 . C631 ) in ( D170 . C631 ) by L1545 , FUNCOP_1:7;
end;
L1547: ( dom C630 ) = ( dom D170 ) by L1422 , FUNCT_2:def 1;
reconsider D207 = C630 as (Element of ( product D170 )) by L1547 , L1541 , CARD_3:def 5;
L1548: C627 <= D179 by L1478 , L1531 , FINSEQ_1:1;
L1549: D205 < D179 by L1548 , L1534 , NAT_1:13;
L1550:
now
thus L1551: ( dom ( D202 | C622 ) ) = ( ( dom D207 ) /\ C622 ) by L1530 , L1547 , RELAT_1:61;
let C632 being set;
assume L1552: C632 in ( dom ( D202 | C622 ) );
reconsider D208 = C632 as (Element of C591) by L1552 , L1551;
set D209 = ( D179 -BinarySequence ( 0 ) );
set D210 = ( D179 -BinarySequence ( 2 to_power D205 ) );
L1553: ( D207 . D208 ) = ( Absval ( D210 '&' (( C607 . D208 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) ) ) by L1540;
set D211 = ( D209 '&' (( C607 . D208 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) );
set D212 = ( D210 '&' (( C607 . D208 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) );
reconsider D213 = ( C607 . D208 ) as (Tuple of D179 , ( BOOLEAN ));
L1554: C632 in C622 by L1552;
L1555:
now
thus L1556: ( dom D211 ) = ( Seg D179 ) by L1
.= ( dom D212 ) by L1;
let C633 being set;
L1557: D209 = ( 0* D179 ) by BINARI_3:25
.= ( D179 |-> ( 0 ) ) by EUCLID:def 4;
assume L1558: C633 in ( dom D211 );
reconsider D214 = C633 as (Element of ( NAT )) by L1558;
L1559: C633 in ( Seg D179 ) by L1558 , L1;
L1560: ( dom D209 ) = ( Seg D179 ) by L1;
L1561: ( D209 /. D214 ) = ( D209 . D214 ) by L1560 , L1559 , PARTFUN1:def 6
.= ( 0 ) by L1557;
L1562: ( D211 . C633 ) = ( ( D209 /. D214 ) '&' ( D213 /. D214 ) ) by L1559 , L233
.= ( 0 ) by L1561;
per cases ;
suppose L1563: C627 <> D214;

L1564: ( dom D210 ) = ( Seg D179 ) by L1;
L1565: ( D210 /. D214 ) = ( D210 . D214 ) by L1564 , L1559 , PARTFUN1:def 6
.= ( FALSE ) by L1534 , L1549 , L1559 , L1563 , L273;
L1566: ( D212 . C633 ) = ( ( D210 /. D214 ) '&' ( D213 /. D214 ) ) by L1559 , L233;
thus L1567: ( D211 . C633 ) = ( D212 . C633 ) by L1566 , L1562 , L1565;
end;
suppose L1568: C627 = D214;

L1569: ( dom D213 ) = ( Seg D179 ) by L1;
L1570: ( D213 /. D214 ) = ( D213 . C627 ) by L1569 , L1559 , L1568 , PARTFUN1:def 6
.= ( 0 ) by L1468 , L1521 , L1532 , L1554 , L1559 , L1568;
L1571: ( D212 . C633 ) = ( ( D210 /. D214 ) '&' ( D213 /. D214 ) ) by L1559 , L233
.= ( 0 ) by L1570;
thus L1572: ( D211 . C633 ) = ( D212 . C633 ) by L1571 , L1562;
end;
end;
L1574: ( ( D202 | C622 ) . D208 ) = ( D202 . D208 ) by L1552 , FUNCT_1:49
.= ( Absval ( D209 '&' (( C607 . D208 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) ) ) by L1523;
thus L1575: ( ( D202 | C622 ) . C632 ) = ( D207 . C632 ) by L1574 , L1553 , L1555 , FUNCT_1:2;
end;
L1576: ( D202 | C622 ) = ( D207 | C622 ) by L1550 , FUNCT_1:46;
set D215 = ( D179 -BinarySequence ( 0 ) );
set D216 = ( D179 -BinarySequence ( 2 to_power D205 ) );
L1577: D215 = ( 0* D179 ) by BINARI_3:25
.= ( D179 |-> ( 0 ) ) by EUCLID:def 4;
L1578: ( dom D215 ) = ( Seg D179 ) by L1;
L1579: ( D215 /. C627 ) = ( D215 . C627 ) by L1578 , L1478 , L1531 , PARTFUN1:def 6
.= ( 0 ) by L1577;
L1580: ( dom D216 ) = ( Seg D179 ) by L1;
L1581: ( D216 /. C627 ) = ( D216 . C627 ) by L1580 , L1478 , L1531 , PARTFUN1:def 6
.= 1 by L1534 , L1549 , L273;
L1582: ( ( D216 '&' D204 ) . C627 ) = ( ( D216 /. C627 ) '&' ( D204 /. C627 ) ) by L1478 , L1531 , L233
.= ( D216 /. C627 ) by L1539;
L1583: ( ( D215 '&' D204 ) . C627 ) = ( ( D215 /. C627 ) '&' ( D204 /. C627 ) ) by L1478 , L1531 , L233
.= ( D215 /. C627 ) by L1539;
L1584: D207 in D187 by L1540;
L1585: ( D202 | C623 ) = ( D207 | C623 ) by L1584 , L1518 , L1537 , L1576 , L400;
L1586: ( Absval ( D215 '&' (( C607 . D203 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) ) ) = ( D202 . D203 ) by L1523
.= ( ( D202 | C623 ) . D203 ) by L1535 , FUNCT_1:49
.= ( D207 . D203 ) by L1535 , L1585 , FUNCT_1:49
.= ( Absval ( D216 '&' (( C607 . D203 ) qua (Element of ( D179 -tuples_on ( BOOLEAN ) ))) ) ) by L1540;
thus L1587: contradiction by L1586 , L1579 , L1583 , L1582 , L1581 , BINARI_3:2;
end;
thus L1588: C610 in C592 by L1519 , L1419 , L1517;
end;
thus L1589: thesis by L1479 , TARSKI:1;
end;
end;
begin
L1591: (for B432 , B433 , B434 being set holds (B433 = { [ B435 , B436 ] where B435 , B436 is (Subset of B432) : (for B437 being set holds ((B437 in B434 & B435 c= B437) implies B436 c= B437)) } implies (for B438 , B439 being (Subset of B432) holds ([ B438 , B439 ] in B433 iff (for B440 being set holds ((B440 in B434 & B438 c= B440) implies B439 c= B440))))))
proof
let C634 , C635 , C636 being set;
assume L1592: C635 = { [ B441 , B442 ] where B441 , B442 is (Subset of C634) : (for B443 being set holds ((B443 in C636 & B441 c= B443) implies B442 c= B443)) };
let C637 , C638 being (Subset of C634);
thus L1593:now
assume L1594: [ C637 , C638 ] in C635;
consider C639 , C640 being (Subset of C634) such that L1595: [ C637 , C638 ] = [ C639 , C640 ] and L1596: (for B444 being set holds ((B444 in C636 & C639 c= B444) implies C640 c= B444)) by L1594 , L1592;
L1597: C638 = C640 by L1595 , XTUPLE_0:1;
L1598: C637 = C639 by L1595 , XTUPLE_0:1;
thus L1599: (for B445 being set holds ((B445 in C636 & C637 c= B445) implies C638 c= B445)) by L1598 , L1596 , L1597;
end;
assume L1600: (for B446 being set holds ((B446 in C636 & C637 c= B446) implies C638 c= B446));
thus L1601: thesis by L1600 , L1592;
end;
definition
let C641 being set;
let C642 being (Dependency-set of C641);
func candidate-keys C642 -> (Subset-Family of C641) equals 
{ B447 where B447 is (Subset of C641) : [ B447 , C641 ] in ( Maximal_wrt C642 ) };
coherence
proof
set D217 = { B448 where B448 is (Subset of C641) : [ B448 , C641 ] in ( Maximal_wrt C642 ) };
L1602: D217 c= ( bool C641 )
proof
let C643 being set;
assume L1603: C643 in D217;
L1604: (ex B449 being (Subset of C641) st (C643 = B449 & [ B449 , C641 ] in ( Maximal_wrt C642 ))) by L1603;
thus L1605: thesis by L1604;
end;
thus L1606: thesis by L1602;
end;
end;
theorem
L1608: (for B450 being  finite set holds (for B451 being (Dependency-set of B450) holds (for B452 being (Subset of B450) holds (B451 = { [ B453 , B454 ] where B453 , B454 is (Subset of B450) : (B452 c= B453 or B454 c= B453) } implies ( candidate-keys B451 ) = { B452 }))))
proof
let C644 being  finite set;
let C645 being (Dependency-set of C644);
let C646 being (Subset of C644);
assume L1609: C645 = { [ B455 , B456 ] where B455 , B456 is (Subset of C644) : (C646 c= B455 or B456 c= B455) };
L1610: ( Maximal_wrt C645 ) = ( { [ C646 , C644 ] } \/ { [ B457 , B457 ] where B457 is (Subset of C644) : (not C646 c= B457) } ) by L1609 , L899;
L1611:
now
let C647 being set;
thus L1612:now
assume L1613: C647 in ( candidate-keys C645 );
consider C648 being (Subset of C644) such that L1614: C647 = C648 and L1615: [ C648 , C644 ] in ( Maximal_wrt C645 ) by L1613;
per cases  by L1610 , L1615 , XBOOLE_0:def 3;
suppose L1616: [ C648 , C644 ] in { [ C646 , C644 ] };

L1617: [ C648 , C644 ] = [ C646 , C644 ] by L1616 , TARSKI:def 1;
L1618: C648 = C646 by L1617 , XTUPLE_0:1;
thus L1619: C647 in { C646 } by L1618 , L1614 , TARSKI:def 1;
end;
suppose L1620: [ C648 , C644 ] in { [ B458 , B458 ] where B458 is (Subset of C644) : (not C646 c= B458) };

consider C649 being (Subset of C644) such that L1621: [ C648 , C644 ] = [ C649 , C649 ] and L1622: (not C646 c= C649) by L1620;
L1623: C644 = C649 by L1621 , XTUPLE_0:1;
thus L1624: C647 in { C646 } by L1623 , L1622;
end;
end;
assume L1626: C647 in { C646 };
L1627: C647 = C646 by L1626 , TARSKI:def 1;
L1628: [ C646 , C644 ] in { [ C646 , C644 ] } by TARSKI:def 1;
L1629: [ C646 , C644 ] in ( Maximal_wrt C645 ) by L1628 , L1610 , XBOOLE_0:def 3;
thus L1630: C647 in ( candidate-keys C645 ) by L1629 , L1627;
end;
thus L1631: thesis by L1611 , TARSKI:1;
end;
notation
let C650 being set;
antonym C650 is  (C1) for C650 is  empty;
end;
definition
let C651 being set;
attr C651 is  without_proper_subsets
means
:L1633: (for B459 , B460 being set holds ((B459 in C651 & B460 in C651 & B459 c= B460) implies B459 = B460));
end;
notation
let C652 being set;
synonym C652 is  (C2) for C652 is  without_proper_subsets;
end;
theorem
L1636: (for B461 being DB-Rel holds ( candidate-keys ( Dependency-str B461 ) ) is  (C1)  (C2))
proof
let C653 being DB-Rel;
set D218 = ( Dependency-str C653 );
set D219 = (the Attributes of C653);
L1637: D218 is  full_family by L594;
L1638: ( Maximal_wrt D218 ) is  (M2) by L1637 , L716;
L1639: ( saturated-subsets D218 ) is  (B1) by L1637 , L1035;
L1640: D219 in ( saturated-subsets D218 ) by L1639 , L196;
consider C654 , C655 being (Subset of D219) such that L1641: D219 = C654 and L1642: C655 ^|^ C654 , D218 by L1640 , L1025;
L1643: [ C655 , D219 ] in ( Maximal_wrt D218 ) by L1641 , L1642 , L654;
L1644: C655 in ( candidate-keys D218 ) by L1643;
thus L1645: ( candidate-keys D218 ) is non  empty by L1644;
let C656 , C657 being set;
assume that
L1646: C656 in ( candidate-keys D218 )
and
L1647: C657 in ( candidate-keys D218 )
and
L1648: C656 c= C657;
consider C658 being (Subset of D219) such that L1649: C657 = C658 and L1650: [ C658 , D219 ] in ( Maximal_wrt D218 ) by L1647;
consider C659 being (Subset of D219) such that L1651: C656 = C659 and L1652: [ C659 , D219 ] in ( Maximal_wrt D218 ) by L1646;
L1653: [ C659 , ( [#] D219 ) ] >= [ C658 , ( [#] D219 ) ] by L1648 , L1651 , L1649 , L442;
thus L1654: thesis by L1653 , L1651 , L1652 , L1649 , L1650 , L1638 , L713;
end;
theorem
L1655: (for B462 being  finite set holds (for B463 being (Subset-Family of B462) holds (B463 is  (C1)  (C2) implies (ex B464 being (Full-family of B462) st B463 = ( candidate-keys B464 )))))
proof
let C660 being  finite set;
let C661 being (Subset-Family of C660);
set D220 = { B465 where B465 is (Subset of C660) : (for B466 being (Subset of C660) holds (B466 in C661 implies (not B466 c= B465))) };
L1656: ( [#] C660 ) = C660;
L1657: D220 c= ( bool C660 )
proof
let C662 being set;
assume L1658: C662 in D220;
L1659: (ex B467 being (Subset of C660) st (C662 = B467 & (for B468 being (Subset of C660) holds (B468 in C661 implies (not B468 c= B467))))) by L1658;
thus L1660: thesis by L1659;
end;
reconsider D221 = D220 as (Subset-Family of C660) by L1657;
set D222 = { [ B469 , B470 ] where B469 , B470 is (Subset of C660) : (for B471 being set holds ((B471 in D221 & B469 c= B471) implies B470 c= B471)) };
L1661: D222 = ( C660 deps_encl_by D221 );
reconsider D223 = D222 as (Full-family of C660) by L1661 , L1051;
assume L1662: C661 is  (C1);
assume L1663: C661 is  (C2);
L1664:
now
let C663 being set;
assume L1665: C663 in C661;
reconsider D224 = C663 as (Subset of C660) by L1665;
L1666:
now
let C664 being set;
assume that
L1667: C664 in D221
and
L1668: D224 c= C664;
L1669: (ex B472 being (Subset of C660) st (C664 = B472 & (for B473 being (Subset of C660) holds (B473 in C661 implies (not B473 c= B472))))) by L1667;
thus L1670: C660 c= C664 by L1669 , L1665 , L1668;
end;
L1671: [ D224 , C660 ] in D223 by L1666 , L1656;
consider C665 , C666 being (Subset of C660) such that L1672: [ C665 , C666 ] in ( Maximal_wrt D223 ) and L1673: [ C665 , C666 ] >= [ D224 , ( [#] C660 ) ] by L1671 , L656;
L1674: C665 c= D224 by L1673 , L442;
L1675: C660 c= C666 by L1673 , L442;
L1676: C666 = C660 by L1675 , XBOOLE_0:def 10;
assume L1677: (not [ C663 , C660 ] in ( Maximal_wrt D223 ));
L1678:
now
let C667 being (Subset of C660);
assume L1679: C667 in C661;
assume L1680: C667 c= C665;
L1681: C667 c= D224 by L1680 , L1674 , XBOOLE_1:1;
L1682: C667 = D224 by L1681 , L1663 , L1665 , L1679 , L1633;
thus L1683: contradiction by L1682 , L1672 , L1674 , L1676 , L1677 , L1680 , XBOOLE_0:def 10;
end;
L1684: C665 in D221 by L1678;
L1685: C660 c= C665 by L1684 , L1672 , L1676 , L1591;
L1686: C660 = C665 by L1685 , XBOOLE_0:def 10;
thus L1687: contradiction by L1686 , L1672 , L1674 , L1676 , L1677 , XBOOLE_0:def 10;
end;
take D223;
L1688:
now
let C668 being set;
thus L1689:now
assume L1690: C668 in C661;
L1691: [ C668 , C660 ] in ( Maximal_wrt D223 ) by L1690 , L1664;
thus L1692: C668 in ( candidate-keys D223 ) by L1691 , L1690;
end;
assume L1693: C668 in ( candidate-keys D223 );
consider C669 being (Subset of C660) such that L1694: C668 = C669 and L1695: [ C669 , C660 ] in ( Maximal_wrt D223 ) by L1693;
assume L1696: (not C668 in C661);
L1697:
now
L1698: C669 ^|^ C660 , D223 by L1695 , L654;
given C670 being (Subset of C660) such that
L1699: C670 in C661
and
L1700: C670 c= C669;

L1701: [ C670 , ( [#] C660 ) ] >= [ C669 , ( [#] C660 ) ] by L1700 , L442;
L1702: [ C670 , C660 ] in ( Maximal_wrt D223 ) by L1664 , L1699;
thus L1703: contradiction by L1702 , L1694 , L1696 , L1699 , L1698 , L1701 , L682;
end;
L1704: C669 in D221 by L1697;
L1705: (for B474 being set holds (B474 in D221 implies (B474 = C660 or (not C669 c= B474))))
proof
let C671 being set;
assume that
L1706: C671 in D221
and
L1707: (not C671 = C660);
assume L1708: C669 c= C671;
L1709: C660 c= C671 by L1708 , L1656 , L1695 , L1706 , L1591;
thus L1710: contradiction by L1709 , L1706 , L1707 , XBOOLE_0:def 10;
end;
L1711: C660 in D221 by L1705 , L1704;
L1712: (ex B475 being (Subset of C660) st (B475 = C660 & (for B476 being (Subset of C660) holds (B476 in C661 implies (not B476 c= B475))))) by L1711;
L1713: (not (ex B477 being set st B477 in C661)) by L1712;
thus L1714: contradiction by L1713 , L1662 , XBOOLE_0:def 1;
end;
thus L1715: thesis by L1688 , TARSKI:1;
end;
theorem
L1716: (for B478 being  finite set holds (for B479 being (Subset-Family of B478) holds (for B480 being set holds ((B479 is  (C1)  (C2) & B480 = { B481 where B481 is (Subset of B478) : (for B482 being (Subset of B478) holds (B482 in B479 implies (not B482 c= B481))) }) implies B479 = ( candidate-keys ( B478 deps_encl_by B480 ) )))))
proof
let C672 being  finite set;
let C673 being (Subset-Family of C672);
let C674 being set;
assume that
L1717: C673 is  (C1)
and
L1718: C673 is  (C2)
and
L1719: C674 = { B483 where B483 is (Subset of C672) : (for B484 being (Subset of C672) holds (B484 in C673 implies (not B484 c= B483))) };
L1720: C674 c= ( bool C672 )
proof
let C675 being set;
assume L1721: C675 in C674;
L1722: (ex B485 being (Subset of C672) st (C675 = B485 & (for B486 being (Subset of C672) holds (B486 in C673 implies (not B486 c= B485))))) by L1721 , L1719;
thus L1723: thesis by L1722;
end;
reconsider D225 = C674 as (Subset-Family of C672) by L1720;
set D226 = ( C672 deps_encl_by C674 );
L1724: ( [#] C672 ) = C672;
L1725:
now
let C676 being set;
assume L1726: C676 in C673;
reconsider D227 = C676 as (Subset of C672) by L1726;
L1727:
now
let C677 being set;
assume that
L1728: C677 in D225
and
L1729: D227 c= C677;
L1730: (ex B487 being (Subset of C672) st (C677 = B487 & (for B488 being (Subset of C672) holds (B488 in C673 implies (not B488 c= B487))))) by L1719 , L1728;
thus L1731: C672 c= C677 by L1730 , L1726 , L1729;
end;
L1732: [ D227 , C672 ] in D226 by L1727 , L1724;
consider C678 , C679 being (Subset of C672) such that L1733: [ C678 , C679 ] in ( Maximal_wrt D226 ) and L1734: [ C678 , C679 ] >= [ D227 , ( [#] C672 ) ] by L1732 , L656;
L1735: C678 c= D227 by L1734 , L442;
L1736: C672 c= C679 by L1734 , L442;
L1737: C679 = C672 by L1736 , XBOOLE_0:def 10;
assume L1738: (not [ C676 , C672 ] in ( Maximal_wrt D226 ));
L1739:
now
let C680 being (Subset of C672);
assume L1740: C680 in C673;
assume L1741: C680 c= C678;
L1742: C680 c= D227 by L1741 , L1735 , XBOOLE_1:1;
L1743: C680 = D227 by L1742 , L1718 , L1726 , L1740 , L1633;
thus L1744: contradiction by L1743 , L1733 , L1735 , L1737 , L1738 , L1741 , XBOOLE_0:def 10;
end;
L1745: C678 in D225 by L1739 , L1719;
L1746: C672 c= C678 by L1745 , L1733 , L1737 , L1591;
L1747: C672 = C678 by L1746 , XBOOLE_0:def 10;
thus L1748: contradiction by L1747 , L1733 , L1735 , L1737 , L1738 , XBOOLE_0:def 10;
end;
L1749:
now
let C681 being set;
thus L1750:now
assume L1751: C681 in C673;
L1752: [ C681 , C672 ] in ( Maximal_wrt D226 ) by L1751 , L1725;
thus L1753: C681 in ( candidate-keys D226 ) by L1752 , L1751;
end;
assume L1754: C681 in ( candidate-keys D226 );
consider C682 being (Subset of C672) such that L1755: C681 = C682 and L1756: [ C682 , C672 ] in ( Maximal_wrt D226 ) by L1754;
assume L1757: (not C681 in C673);
L1758:
now
L1759: C682 ^|^ C672 , D226 by L1756 , L654;
given C683 being (Subset of C672) such that
L1760: C683 in C673
and
L1761: C683 c= C682;

L1762: [ C683 , ( [#] C672 ) ] >= [ C682 , ( [#] C672 ) ] by L1761 , L442;
L1763: [ C683 , C672 ] in ( Maximal_wrt D226 ) by L1725 , L1760;
thus L1764: contradiction by L1763 , L1755 , L1757 , L1760 , L1759 , L1762 , L682;
end;
L1765: C682 in D225 by L1758 , L1719;
L1766: (for B489 being set holds (B489 in D225 implies (B489 = C672 or (not C682 c= B489))))
proof
let C684 being set;
assume that
L1767: C684 in D225
and
L1768: (not C684 = C672);
assume L1769: C682 c= C684;
L1770: C672 c= C684 by L1769 , L1724 , L1756 , L1767 , L1591;
thus L1771: contradiction by L1770 , L1767 , L1768 , XBOOLE_0:def 10;
end;
L1772: C672 in D225 by L1766 , L1765;
L1773: (ex B490 being (Subset of C672) st (B490 = C672 & (for B491 being (Subset of C672) holds (B491 in C673 implies (not B491 c= B490))))) by L1772 , L1719;
L1774: (not (ex B492 being set st B492 in C673)) by L1773;
thus L1775: contradiction by L1774 , L1717 , XBOOLE_0:def 1;
end;
thus L1776: thesis by L1749 , TARSKI:1;
end;
theorem
L1777: (for B493 being non  empty  finite set holds (for B494 being (Subset-Family of B493) holds (B494 is  (C1)  (C2) implies (ex B495 being DB-Rel st ((the Attributes of B495) = B493 & B494 = ( candidate-keys ( Dependency-str B495 ) ))))))
proof
let C685 being non  empty  finite set;
let C686 being (Subset-Family of C685);
assume that
L1778: C686 is  (C1)
and
L1779: C686 is  (C2);
reconsider D228 = ( C685 --> ( bool C685 ) ) as  non-empty (ManySortedSet of C685);
set D229 = { B496 where B496 is (Subset of C685) : (for B497 being (Subset of C685) holds (B497 in C686 implies ( B496 /\ B497 ) <> ( {} ))) };
reconsider D230 = ( D229 \/ { ( 0 ) } ) as non  empty set;
set D231 = { ( ( C685 --> ( 0 ) ) +* ( B498 --> B498 ) ) where B498 is (Subset of C685) : B498 in D230 };
L1780: D231 c= ( product D228 )
proof
let C687 being set;
L1781: ( dom D228 ) = C685 by PARTFUN1:def 2;
assume L1782: C687 in D231;
consider C688 being (Subset of C685) such that L1783: C687 = ( ( C685 --> ( 0 ) ) +* ( C688 --> C688 ) ) and L1784: C688 in D230 by L1782;
set D232 = ( ( C685 --> ( 0 ) ) +* ( C688 --> C688 ) );
L1785: ( dom ( C688 --> C688 ) ) = C688 by FUNCOP_1:13;
L1786:
now
let C689 being set;
assume that
L1787: C689 in ( dom D228 );
L1788: ( D228 . C689 ) = ( bool C685 ) by L1787 , FUNCOP_1:7;
per cases ;
suppose L1789: C689 in C688;

L1790: ( D232 . C689 ) = ( ( C688 --> C688 ) . C689 ) by L1789 , L1785 , FUNCT_4:13
.= C688 by L1789 , FUNCOP_1:7;
thus L1791: ( D232 . C689 ) in ( D228 . C689 ) by L1790 , L1788;
end;
suppose L1792: (not C689 in C688);

L1793: ( D232 . C689 ) = ( ( C685 --> ( 0 ) ) . C689 ) by L1792 , L1785 , FUNCT_4:11
.= ( {} C685 ) by L1787 , FUNCOP_1:7;
thus L1794: ( D232 . C689 ) in ( D228 . C689 ) by L1793 , L1788;
end;
end;
L1796: ( dom D232 ) = ( ( dom ( C685 --> ( 0 ) ) ) \/ C688 ) by L1785 , FUNCT_4:def 1
.= ( C685 \/ C688 ) by FUNCOP_1:13
.= C685 by XBOOLE_1:12;
thus L1797: thesis by L1796 , L1783 , L1781 , L1786 , CARD_3:def 5;
end;
L1798: ( 0 ) in { ( 0 ) } by TARSKI:def 1;
L1799: ( 0 ) in ( D229 \/ { ( 0 ) } ) by L1798 , XBOOLE_0:def 3;
L1800: ( ( C685 --> ( 0 ) ) +* ( ( {} C685 ) --> ( {} C685 ) ) ) in D231 by L1799;
reconsider D233 = D231 as non  empty (Subset of ( product D228 )) by L1800 , L1780;
take D234 = DB-Rel (# C685 , D228 , D233 #);
thus L1801: (the Attributes of D234) = C685;
set D235 = ( Dependency-str D234 );
set D236 = { B499 where B499 is (Subset of C685) : [ B499 , C685 ] in ( Maximal_wrt D235 ) };
L1802: ( [#] C685 ) = C685;
L1803:
now
let C690 being set;
assume L1804: C690 in C686;
reconsider D237 = C690 as (Subset of C685) by L1804;
reconsider D238 = D237 , D239 = C685 as (Subset of (the Attributes of D234)) by L1802;
L1805:
now
let C691 , C692 being (Element of (the Relationship of D234));
assume that
L1806: ( C691 | D237 ) = ( C692 | D237 );
L1807: C691 in D233;
consider C693 being (Subset of C685) such that L1808: C691 = ( ( C685 --> ( 0 ) ) +* ( C693 --> C693 ) ) and L1809: C693 in D230 by L1807;
L1810: (C693 in D229 or C693 in { ( 0 ) }) by L1809 , XBOOLE_0:def 3;
L1811: ( dom ( C693 --> C693 ) ) = C693 by FUNCOP_1:13;
L1812: C692 in D233;
consider C694 being (Subset of C685) such that L1813: C692 = ( ( C685 --> ( 0 ) ) +* ( C694 --> C694 ) ) and L1814: C694 in D230 by L1812;
L1815: (C694 in D229 or C694 in { ( 0 ) }) by L1814 , XBOOLE_0:def 3;
L1816: ( dom ( C694 --> C694 ) ) = C694 by FUNCOP_1:13;
per cases  by L1810 , L1815 , TARSKI:def 1;
suppose L1817: (C693 in D229 & C694 in D229);

L1818: (ex B500 being (Subset of C685) st (C693 = B500 & (for B501 being (Subset of C685) holds (B501 in C686 implies ( B500 /\ B501 ) <> ( {} ))))) by L1817;
L1819: ( C693 /\ D237 ) <> ( {} ) by L1818 , L1804;
consider C695 being set such that L1820: C695 in ( C693 /\ D237 ) by L1819 , XBOOLE_0:def 1;
L1821: (( C692 . C695 ) = ( 0 ) or ( C692 . C695 ) = C694)
proof
per cases ;
suppose L1822: C695 in C694;

L1823: ( C692 . C695 ) = ( ( C694 --> C694 ) . C695 ) by L1822 , L1813 , L1816 , FUNCT_4:13;
thus L1824: thesis by L1823 , L1822 , FUNCOP_1:7;
end;
suppose L1825: (not C695 in C694);

L1826: ( C692 . C695 ) = ( ( C685 --> ( 0 ) ) . C695 ) by L1825 , L1813 , L1816 , FUNCT_4:11;
thus L1827: thesis by L1826 , L1820 , FUNCOP_1:7;
end;
end;
L1829: C695 in C693 by L1820 , XBOOLE_0:def 4;
L1830: C695 in D237 by L1820 , XBOOLE_0:def 4;
L1831: ( ( C692 | D237 ) . C695 ) = ( C692 . C695 ) by L1830 , FUNCT_1:49;
L1832: ( ( C691 | D237 ) . C695 ) = ( C691 . C695 ) by L1830 , FUNCT_1:49
.= ( ( C693 --> C693 ) . C695 ) by L1808 , L1811 , L1829 , FUNCT_4:13
.= C693 by L1829 , FUNCOP_1:7;
thus L1833: ( C691 | C685 ) = ( C692 | C685 ) by L1832 , L1806 , L1808 , L1813 , L1819 , L1831 , L1821;
end;
suppose L1834: (C693 in D229 & C694 = ( 0 ));

L1835: (ex B502 being (Subset of C685) st (C693 = B502 & (for B503 being (Subset of C685) holds (B503 in C686 implies ( B502 /\ B503 ) <> ( {} ))))) by L1834;
L1836: ( C693 /\ D237 ) <> ( {} ) by L1835 , L1804;
consider C696 being set such that L1837: C696 in ( C693 /\ D237 ) by L1836 , XBOOLE_0:def 1;
L1838: C696 in D237 by L1837 , XBOOLE_0:def 4;
L1839: ( ( C692 | D237 ) . C696 ) = ( C692 . C696 ) by L1838 , FUNCT_1:49
.= ( ( ( C685 --> ( 0 ) ) +* ( {} ) ) . C696 ) by L1813 , L1834
.= ( ( C685 --> ( 0 ) ) . C696 )
.= ( {} ) by L1837 , FUNCOP_1:7;
L1840: C696 in C693 by L1837 , XBOOLE_0:def 4;
L1841: ( ( C691 | D237 ) . C696 ) = ( C691 . C696 ) by L1838 , FUNCT_1:49
.= ( ( C693 --> C693 ) . C696 ) by L1808 , L1811 , L1840 , FUNCT_4:13
.= C693 by L1840 , FUNCOP_1:7;
thus L1842: ( C691 | C685 ) = ( C692 | C685 ) by L1841 , L1806 , L1836 , L1839;
end;
suppose L1843: (C693 = ( 0 ) & C694 in D229);

L1844: (ex B504 being (Subset of C685) st (C694 = B504 & (for B505 being (Subset of C685) holds (B505 in C686 implies ( B504 /\ B505 ) <> ( {} ))))) by L1843;
L1845: ( C694 /\ D237 ) <> ( {} ) by L1844 , L1804;
consider C697 being set such that L1846: C697 in ( C694 /\ D237 ) by L1845 , XBOOLE_0:def 1;
L1847: C697 in D237 by L1846 , XBOOLE_0:def 4;
L1848: ( ( C691 | D237 ) . C697 ) = ( C691 . C697 ) by L1847 , FUNCT_1:49
.= ( ( ( C685 --> ( 0 ) ) +* ( {} ) ) . C697 ) by L1808 , L1843
.= ( ( C685 --> ( 0 ) ) . C697 )
.= ( {} ) by L1846 , FUNCOP_1:7;
L1849: C697 in C694 by L1846 , XBOOLE_0:def 4;
L1850: ( ( C692 | D237 ) . C697 ) = ( C692 . C697 ) by L1847 , FUNCT_1:49
.= ( ( C694 --> C694 ) . C697 ) by L1813 , L1816 , L1849 , FUNCT_4:13
.= C694 by L1849 , FUNCOP_1:7;
thus L1851: ( C691 | C685 ) = ( C692 | C685 ) by L1850 , L1806 , L1845 , L1848;
end;
suppose L1852: (C693 = ( 0 ) & C694 = ( 0 ));

thus L1853: ( C691 | C685 ) = ( C692 | C685 ) by L1852 , L1808 , L1813;
end;
end;
L1855: D238 >|> D239 , D234 by L1805 , L400;
L1856: [ D237 , C685 ] in D235 by L1855;
consider C698 , C699 being (Subset of C685) such that L1857: [ C698 , C699 ] in ( Maximal_wrt D235 ) and L1858: [ C698 , C699 ] >= [ D237 , ( [#] C685 ) ] by L1856 , L656;
L1859: C698 c= D237 by L1858 , L442;
L1860: [ C698 , C699 ] in D235 by L1857;
consider C700 , C701 being (Subset of (the Attributes of D234)) such that L1861: [ C698 , C699 ] = [ C700 , C701 ] and L1862: C700 >|> C701 , D234 by L1860;
L1863: C698 = C700 by L1861 , XTUPLE_0:1;
L1864: C699 = C701 by L1861 , XTUPLE_0:1;
L1865: C685 c= C699 by L1858 , L442;
L1866: C699 = C685 by L1865 , XBOOLE_0:def 10;
L1867:
now
set D240 = ( ( C685 --> ( 0 ) ) +* ( ( C698 ` ) --> ( C698 ` ) ) );
set D241 = ( C685 --> ( 0 ) );
assume L1868: C698 <> D237;
L1869:
now
assume L1870: ( C698 ` ) = ( {} );
L1871: ( C698 ` ) c= C698 by L1870 , XBOOLE_1:2;
L1872: C698 = C685 by L1871 , L1802 , SUBSET_1:19;
thus L1873: contradiction by L1872 , L1859 , L1868 , XBOOLE_0:def 10;
end;
consider C702 being set such that L1874: C702 in ( C698 ` ) by L1869 , XBOOLE_0:def 1;
L1875:
now
let C703 being (Subset of C685);
assume L1876: C703 in C686;
assume L1877: ( ( C698 ` ) /\ C703 ) = ( {} );
L1878: C703 misses ( C698 ` ) by L1877 , XBOOLE_0:def 7;
L1879: C703 c= C698 by L1878 , SUBSET_1:24;
L1880: C703 c= D237 by L1879 , L1859 , XBOOLE_1:1;
L1881: C703 = D237 by L1880 , L1779 , L1804 , L1876 , L1633;
thus L1882: contradiction by L1881 , L1859 , L1868 , L1879 , XBOOLE_0:def 10;
end;
L1883: ( C698 ` ) in D229 by L1875;
L1884: ( C698 ` ) in D230 by L1883 , XBOOLE_0:def 3;
L1885: D240 in D233 by L1884;
L1886: ( 0 ) in { ( 0 ) } by TARSKI:def 1;
L1887: ( 0 ) in D230 by L1886 , XBOOLE_0:def 3;
L1888: ( ( C685 --> ( 0 ) ) +* ( ( {} C685 ) --> ( {} C685 ) ) ) in D233 by L1887;
L1889: ( ( C685 --> ( 0 ) ) +* ( {} ) ) in D233 by L1888;
reconsider D242 = D241 , D243 = D240 as (Element of (the Relationship of D234)) by L1889 , L1885;
L1890: ( ( D242 | C685 ) . C702 ) = ( D242 . C702 ) by L1874 , FUNCT_1:49
.= ( 0 ) by L1874 , FUNCOP_1:7;
L1891: ( dom ( ( C698 ` ) --> ( C698 ` ) ) ) = ( C698 ` ) by FUNCOP_1:13;
L1892:
now
L1893: ( dom D243 ) = ( ( dom ( C685 --> ( 0 ) ) ) \/ ( dom ( ( C698 ` ) --> ( C698 ` ) ) ) ) by FUNCT_4:def 1
.= ( C685 \/ ( dom ( ( C698 ` ) --> ( C698 ` ) ) ) ) by FUNCOP_1:13
.= ( C685 \/ ( C698 ` ) ) by FUNCOP_1:13
.= C685 by XBOOLE_1:12;
L1894: ( dom D242 ) = C685 by FUNCOP_1:13;
thus L1895: ( dom ( D242 | C698 ) ) = ( ( dom D243 ) /\ C698 ) by L1894 , L1893 , RELAT_1:61;
let C704 being set;
assume L1896: C704 in ( dom ( D242 | C698 ) );
L1897: ( dom ( D242 | C698 ) ) = ( ( dom D242 ) /\ C698 ) by RELAT_1:61;
L1898: C704 in C698 by L1897 , L1896 , XBOOLE_0:def 4;
L1899: C698 misses ( C698 ` ) by XBOOLE_1:79;
L1900: ( C698 /\ ( C698 ` ) ) = ( {} ) by L1899 , XBOOLE_0:def 7;
L1901: (not C704 in ( C698 ` )) by L1900 , L1898 , XBOOLE_0:def 4;
thus L1902: ( ( D242 | C698 ) . C704 ) = ( ( C685 --> ( 0 ) ) . C704 ) by L1898 , FUNCT_1:49
.= ( D243 . C704 ) by L1891 , L1901 , FUNCT_4:11;
end;
L1903: ( D242 | C698 ) = ( D243 | C698 ) by L1892 , FUNCT_1:46;
L1904: ( ( D243 | C685 ) . C702 ) = ( D243 . C702 ) by L1874 , FUNCT_1:49
.= ( ( ( C698 ` ) --> ( C698 ` ) ) . C702 ) by L1891 , L1874 , FUNCT_4:13
.= ( C698 ` ) by L1874 , FUNCOP_1:7;
thus L1905: contradiction by L1904 , L1866 , L1862 , L1863 , L1864 , L1903 , L1869 , L1890 , L400;
end;
L1906: [ D237 , C685 ] in ( Maximal_wrt D235 ) by L1867 , L1857 , L1865 , XBOOLE_0:def 10;
thus L1907: C690 in D236 by L1906;
end;
L1908:
now
let C705 being set;
thus L1909: (C705 in C686 implies C705 in D236) by L1803;
assume L1910: C705 in D236;
consider C706 being (Subset of C685) such that L1911: C705 = C706 and L1912: [ C706 , C685 ] in ( Maximal_wrt D235 ) by L1910;
L1913: [ C706 , C685 ] in D235 by L1912;
consider C707 , C708 being (Subset of (the Attributes of D234)) such that L1914: [ C706 , C685 ] = [ C707 , C708 ] and L1915: C707 >|> C708 , D234 by L1913;
L1916: C685 = C708 by L1914 , XTUPLE_0:1;
L1917:
now
L1918: C706 ^|^ ( [#] C685 ) , D235 by L1912 , L654;
let C709 being set;
assume that
L1919: C709 in C686
and
L1920: C709 c= C706;
L1921: C709 in D236 by L1803 , L1919;
consider C710 being (Subset of C685) such that L1922: C709 = C710 and L1923: [ C710 , C685 ] in ( Maximal_wrt D235 ) by L1921;
assume L1924: C709 <> C706;
reconsider D244 = C706 , D245 = C710 , D246 = C685 as (Subset of (the Attributes of D234)) by L1802;
L1925: [ D244 , D246 ] <= [ D245 , D246 ] by L1920 , L1922 , L442;
thus L1926: contradiction by L1925 , L1922 , L1923 , L1924 , L1918 , L682;
end;
set D247 = { B506 where B506 is (Element of C685) : ((not B506 in C706) & (ex B507 being set st (B507 in C686 & B506 in B507))) };
L1927:
now
let C711 being set;
assume L1928: C711 in D247;
L1929: (ex B508 being (Element of C685) st (C711 = B508 & (not B508 in C706) & (ex B509 being set st (B509 in C686 & B508 in B509)))) by L1928;
thus L1930: C711 in C685 by L1929;
end;
consider C712 being set such that L1931: C712 in C686 by L1778 , XBOOLE_0:def 1;
reconsider D248 = C712 as (Subset of C685) by L1931;
L1932: C706 = C707 by L1914 , XTUPLE_0:1;
assume L1933: (not C705 in C686);
L1934: (not D248 c= C706) by L1933 , L1911 , L1917 , L1931;
consider C713 being set such that L1935: C713 in D248 and L1936: (not C713 in C706) by L1934 , TARSKI:def 3;
reconsider D249 = C713 as (Element of C685) by L1935;
L1937: D249 in D247 by L1931 , L1935 , L1936;
consider C714 being set such that L1938: C714 in D247 by L1937;
reconsider D250 = D247 as (Subset of C685) by L1927 , TARSKI:def 3;
set D251 = ( C685 --> ( 0 ) );
set D252 = ( ( C685 --> ( 0 ) ) +* ( D250 --> D250 ) );
L1939:
now
let C715 being (Subset of C685);
assume that
L1940: C715 in C686;
L1941: (not C715 c= C706) by L1911 , L1917 , L1933 , L1940;
consider C716 being set such that L1942: C716 in C715 and L1943: (not C716 in C706) by L1941 , TARSKI:def 3;
L1944: C716 in D250 by L1940 , L1942 , L1943;
thus L1945: ( D250 /\ C715 ) <> ( {} ) by L1944 , L1942 , XBOOLE_0:def 4;
end;
L1946: D250 in D229 by L1939;
L1947: D250 in D230 by L1946 , XBOOLE_0:def 3;
L1948: D252 in D233 by L1947;
L1949: ( 0 ) in { ( 0 ) } by TARSKI:def 1;
L1950: ( 0 ) in D230 by L1949 , XBOOLE_0:def 3;
L1951: ( ( C685 --> ( 0 ) ) +* ( ( {} C685 ) --> ( {} C685 ) ) ) in D233 by L1950;
L1952: ( ( C685 --> ( 0 ) ) +* ( {} ) ) in D233 by L1951;
reconsider D253 = D251 , D254 = D252 as (Element of (the Relationship of D234)) by L1952 , L1948;
L1953: ( dom ( D250 --> D250 ) ) = D250 by FUNCOP_1:13;
L1954:
now
L1955: ( dom D254 ) = ( ( dom ( C685 --> ( 0 ) ) ) \/ ( dom ( D250 --> D250 ) ) ) by FUNCT_4:def 1
.= ( C685 \/ ( dom ( D250 --> D250 ) ) ) by FUNCOP_1:13
.= ( C685 \/ D250 ) by FUNCOP_1:13
.= C685 by XBOOLE_1:12;
L1956: ( dom D253 ) = C685 by FUNCOP_1:13;
thus L1957: ( dom ( D253 | C706 ) ) = ( ( dom D254 ) /\ C706 ) by L1956 , L1955 , RELAT_1:61;
L1958: ( dom ( D253 | C706 ) ) = ( ( dom D253 ) /\ C706 ) by RELAT_1:61;
let C717 being set;
assume that
L1959: C717 in ( dom ( D253 | C706 ) );
L1960:
now
assume L1961: C717 in D250;
L1962: (ex B510 being (Element of C685) st (C717 = B510 & (not B510 in C706) & (ex B511 being set st (B511 in C686 & B510 in B511)))) by L1961;
thus L1963: contradiction by L1962 , L1958 , L1959 , XBOOLE_0:def 4;
end;
L1964: C717 in C706 by L1958 , L1959 , XBOOLE_0:def 4;
thus L1965: ( ( D253 | C706 ) . C717 ) = ( ( C685 --> ( 0 ) ) . C717 ) by L1964 , FUNCT_1:49
.= ( D254 . C717 ) by L1953 , L1960 , FUNCT_4:11;
end;
L1966: ( D253 | C706 ) = ( D254 | C706 ) by L1954 , FUNCT_1:46;
L1967: ( ( D254 | C685 ) . C714 ) = ( D254 . C714 ) by L1938 , FUNCT_1:49
.= ( ( D250 --> D250 ) . C714 ) by L1938 , L1953 , FUNCT_4:13
.= D250 by L1938 , FUNCOP_1:7;
L1968: D250 c= C685;
L1969: ( ( D253 | C685 ) . C714 ) = ( D253 . C714 ) by L1968 , L1938 , FUNCT_1:49
.= ( 0 ) by L1938 , L1968 , FUNCOP_1:7;
thus L1970: contradiction by L1969 , L1937 , L1966 , L1915 , L1932 , L1916 , L1967 , L400;
end;
thus L1971: thesis by L1908 , TARSKI:1;
end;
begin
definition
let C718 being set;
let C719 being (Dependency-set of C718);
attr C719 is  (DC4)
means
:L1972: (for B512 , B513 , B514 being (Subset of C718) holds (([ B512 , B513 ] in C719 & [ B512 , B514 ] in C719) implies [ B512 , ( B513 \/ B514 ) ] in C719));
attr C719 is  (DC5)
means
:L1973: (for B515 , B516 , B517 , B518 being (Subset of C718) holds (([ B515 , B516 ] in C719 & [ ( B516 \/ B517 ) , B518 ] in C719) implies [ ( B515 \/ B517 ) , B518 ] in C719));
attr C719 is  (DC6)
means
:L1974: (for B519 , B520 , B521 being (Subset of C718) holds ([ B519 , B520 ] in C719 implies [ ( B519 \/ B521 ) , B520 ] in C719));
end;
theorem
L1976: (for B522 being set holds (for B523 being (Dependency-set of B522) holds (B523 is  (F1)  (F2)  (F3)  (F4) iff B523 is  (F2)  (DC3)  (F4))));
theorem
L1977: (for B524 being set holds (for B525 being (Dependency-set of B524) holds (B525 is  (F1)  (F2)  (F3)  (F4) iff B525 is  (DC1)  (DC3)  (DC4))))
proof
let C720 being set;
let C721 being (Dependency-set of C720);
thus L1978:now
assume that
L1979: C721 is  (F1)
and
L1980: C721 is  (F2)
and
L1981: C721 is  (F3)
and
L1982: C721 is  (F4);
thus L1983: C721 is  (DC1) by L1980;
thus L1984: C721 is  (DC3) by L1979 , L1981;
thus L1985: C721 is  (DC4)
proof
let C722 , C723 , C724 being (Subset of C720);
assume that
L1986: [ C722 , C723 ] in C721
and
L1987: [ C722 , C724 ] in C721;
L1988: [ ( C722 \/ C722 ) , ( C723 \/ C724 ) ] in C721 by L1982 , L1986 , L1987 , L542;
thus L1989: thesis by L1988;
end;

end;
assume that
L1986: C721 is  (DC1)
and
L1987: C721 is  (DC3)
and
L1988: C721 is  (DC4);
thus L1989: C721 is  (F1) by L1986 , L1987;
thus L1990: C721 is  (F2) by L1986;
thus L1991: C721 is  (F3) by L1986 , L1987;
let C725 , C726 , C727 , C728 being (Subset of C720);
assume that
L1992: [ C725 , C726 ] in C721
and
L1993: [ C727 , C728 ] in C721;
L1994: C727 c= ( C725 \/ C727 ) by XBOOLE_1:7;
L1995: [ ( C725 \/ C727 ) , C727 ] in C721 by L1994 , L1987 , L570;
L1996: [ ( C725 \/ C727 ) , C728 ] in C721 by L1995 , L1986 , L1993 , L521;
L1997: C725 c= ( C725 \/ C727 ) by XBOOLE_1:7;
L1998: [ ( C725 \/ C727 ) , C725 ] in C721 by L1997 , L1987 , L570;
L1999: [ ( C725 \/ C727 ) , C726 ] in C721 by L1998 , L1986 , L1992 , L521;
thus L2000: thesis by L1999 , L1988 , L1996 , L1972;
end;
theorem
L2001: (for B526 being set holds (for B527 being (Dependency-set of B526) holds (B527 is  (F1)  (F2)  (F3)  (F4) iff B527 is  (DC2)  (DC5)  (DC6))))
proof
let C729 being set;
let C730 being (Dependency-set of C729);
thus L2002:now
assume that
L2003: C730 is  (F1)
and
L2004: C730 is  (F2)
and
L2005: C730 is  (F3)
and
L2006: C730 is  (F4);
thus L2007: C730 is  (DC2) by L2003;
thus L2008: C730 is  (DC5)
proof
let C731 , C732 , C733 , C734 being (Subset of C729);
assume that
L2009: [ C731 , C732 ] in C730
and
L2010: [ ( C732 \/ C733 ) , C734 ] in C730;
L2011: [ C733 , C733 ] in C730 by L2003 , L518;
L2012: [ ( C731 \/ C733 ) , ( C732 \/ C733 ) ] in C730 by L2011 , L2006 , L2009 , L542;
thus L2013: thesis by L2012 , L2004 , L2010 , L521;
end;

thus L2014: C730 is  (DC6)
proof
let C735 , C736 , C737 being (Subset of C729);
assume that
L2015: [ C735 , C736 ] in C730;
L2016: C735 c= ( C735 \/ C737 ) by XBOOLE_1:7;
L2017: [ ( C735 \/ C737 ) , C735 ] in C730 by L2016 , L2003 , L2005 , L570;
thus L2018: thesis by L2017 , L2004 , L2015 , L521;
end;

end;
assume that
L2015: C730 is  (DC2)
and
L2016: C730 is  (DC5)
and
L2017: C730 is  (DC6);
thus L2018: C730 is  (F1) by L2015;
L2019:
now
let C738 , C739 , C740 being (Subset of C729);
assume that
L2020: [ C738 , C739 ] in C730
and
L2021: [ C739 , C740 ] in C730;
L2022: [ ( C739 \/ C738 ) , C740 ] in C730 by L2017 , L2021 , L1974;
L2023: [ ( C738 \/ C738 ) , C740 ] in C730 by L2022 , L2016 , L2020 , L1973;
thus L2024: [ C738 , C740 ] in C730 by L2023;
end;
thus L2025: C730 is  (F2) by L2019 , L521;
thus L2026: C730 is  (F3)
proof
let C741 , C742 , C743 , C744 being (Subset of C729);
assume that
L2027: [ C741 , C742 ] in C730
and
L2028: [ C741 , C742 ] >= [ C743 , C744 ];
L2029: C741 c= C743 by L2028 , L442;
L2030: C743 = ( C741 \/ ( C743 \ C741 ) ) by L2029 , XBOOLE_1:45;
L2031: [ C743 , C742 ] in C730 by L2030 , L2017 , L2027 , L1974;
L2032: C744 c= C742 by L2028 , L442;
L2033: C742 = ( C744 \/ ( C742 \ C744 ) ) by L2032 , XBOOLE_1:45;
L2034: [ C744 , C744 ] in C730 by L2015 , L518;
L2035: [ C742 , C744 ] in C730 by L2034 , L2017 , L2033 , L1974;
thus L2036: thesis by L2035 , L2019 , L2031;
end;

let C745 , C746 , C747 , C748 being (Subset of C729);
assume that
L2037: [ C745 , C746 ] in C730
and
L2038: [ C747 , C748 ] in C730;
L2039: [ ( C746 \/ C748 ) , ( C746 \/ C748 ) ] in C730 by L2015 , L518;
L2040: [ ( C745 \/ C748 ) , ( C746 \/ C748 ) ] in C730 by L2039 , L2016 , L2037 , L1973;
thus L2041: thesis by L2040 , L2016 , L2038 , L1973;
end;
definition
let C749 being set;
let C750 being (Dependency-set of C749);
func charact_set C750 equals 
{ B528 where B528 is (Subset of C749) : (ex B529 , B530 being (Subset of C749) st ([ B529 , B530 ] in C750 & B529 c= B528 & (not B530 c= B528))) };
correctness;
end;
theorem
L2043: (for B531 , B532 being set holds (for B533 being (Dependency-set of B531) holds (B532 in ( charact_set B533 ) implies (B532 is (Subset of B531) & (ex B534 , B535 being (Subset of B531) st ([ B534 , B535 ] in B533 & B534 c= B532 & (not B535 c= B532)))))))
proof
let C751 , C752 being set;
let C753 being (Dependency-set of C751);
assume L2044: C752 in ( charact_set C753 );
L2045: (ex B536 being (Subset of C751) st (C752 = B536 & (ex B537 , B538 being (Subset of C751) st ([ B537 , B538 ] in C753 & B537 c= B536 & (not B538 c= B536))))) by L2044;
thus L2046: thesis by L2045;
end;
theorem
L2047: (for B539 being set holds (for B540 being (Subset of B539) holds (for B541 being (Dependency-set of B539) holds ((ex B542 , B543 being (Subset of B539) st ([ B542 , B543 ] in B541 & B542 c= B540 & (not B543 c= B540))) implies B540 in ( charact_set B541 )))));
theorem
L2048: (for B544 being  finite non  empty set holds (for B545 being (Dependency-set of B544) holds ((for B546 , B547 being (Subset of B544) holds ([ B546 , B547 ] in ( Dependency-closure B545 ) iff (for B548 being (Subset of B544) holds ((B546 c= B548 & (not B547 c= B548)) implies B548 in ( charact_set B545 ))))) & ( saturated-subsets ( Dependency-closure B545 ) ) = ( ( bool B544 ) \ ( charact_set B545 ) ))))
proof
let C754 being  finite non  empty set;
let C755 being (Dependency-set of C754);
set D255 = ( Dependency-closure C755 );
set D256 = ( ( bool C754 ) \ ( charact_set C755 ) );
set D257 = { B549 where B549 is (Subset of C754) : (for B550 , B551 being (Subset of C754) holds (([ B550 , B551 ] in C755 & B550 c= B549) implies B551 c= B549)) };
L2049:
now
let C756 being set;
thus L2050:now
assume L2051: C756 in D256;
L2052: (not C756 in ( charact_set C755 )) by L2051 , XBOOLE_0:def 5;
L2053: (for B552 , B553 being (Subset of C754) holds (([ B552 , B553 ] in C755 & B552 c= C756) implies B553 c= C756)) by L2052 , L2051;
thus L2054: C756 in D257 by L2053 , L2051;
end;
assume L2055: C756 in D257;
consider C757 being (Subset of C754) such that L2056: C756 = C757 and L2057: (for B554 , B555 being (Subset of C754) holds (([ B554 , B555 ] in C755 & B554 c= C757) implies B555 c= C757)) by L2055;
L2058: (not C757 in ( charact_set C755 )) by L2057 , L2043;
thus L2059: C756 in D256 by L2058 , L2056 , XBOOLE_0:def 5;
end;
L2060: D256 = D257 by L2049 , TARSKI:1;
reconsider D258 = D256 as (Subset-Family of C754);
L2061: D257 = ( enclosure_of C755 );
L2062: D258 is  (B2) by L2061 , L2060 , L1204;
set D259 = { [ B556 , B557 ] where B556 , B557 is (Subset of C754) : (for B558 being set holds ((B558 in D258 & B556 c= B558) implies B557 c= B558)) };
L2063: D259 = ( C754 deps_encl_by D258 );
reconsider D260 = D259 as (Dependency-set of C754) by L2063;
L2064: C755 c= D255 by L1257;
L2065: D260 c= D255 by L2064 , L2060 , L2061 , L2063 , L1222;
L2066: D260 is  full_family by L2063 , L1051;
L2067: C755 c= D260 by L2060 , L2061 , L2063 , L1222;
L2068: D255 c= D260 by L2067 , L2066 , L1257;
thus L2069:now
let C758 , C759 being (Subset of C754);
thus L2070:now
assume L2071: [ C758 , C759 ] in D255;
L2072: [ C758 , C759 ] in D260 by L2071 , L2068;
consider C760 , C761 being (Subset of C754) such that L2073: [ C760 , C761 ] = [ C758 , C759 ] and L2074: (for B559 being set holds ((B559 in D258 & C760 c= B559) implies C761 c= B559)) by L2072;
L2075: C761 = C759 by L2073 , XTUPLE_0:1;
let C762 being (Subset of C754);
assume that
L2076: C758 c= C762
and
L2077: (not C759 c= C762);
assume L2078: (not C762 in ( charact_set C755 ));
L2079: C762 in D258 by L2078 , XBOOLE_0:def 5;
L2080: C760 = C758 by L2073 , XTUPLE_0:1;
thus L2081: contradiction by L2080 , L2076 , L2077 , L2074 , L2075 , L2079;
end;
assume L2082: (for B560 being (Subset of C754) holds ((C758 c= B560 & (not C759 c= B560)) implies B560 in ( charact_set C755 )));
L2083:
now
let C763 being set;
assume that
L2084: C763 in D258
and
L2085: C758 c= C763
and
L2086: (not C759 c= C763);
reconsider D261 = C763 as (Subset of C754) by L2084;
L2087: (not D261 in ( charact_set C755 )) by L2084 , XBOOLE_0:def 5;
thus L2088: contradiction by L2087 , L2082 , L2085 , L2086;
end;
L2089: [ C758 , C759 ] in D260 by L2083;
thus L2090: [ C758 , C759 ] in D255 by L2089 , L2065;
end;
L2091: (for B561 , B562 being (Subset of C754) holds (([ B561 , B562 ] in C755 & B561 c= C754) implies B562 c= C754));
L2092: (not ( [#] C754 ) in ( charact_set C755 )) by L2091 , L2043;
L2093: C754 in D258 by L2092 , XBOOLE_0:def 5;
L2094: D258 is  (B1) by L2093 , L196;
L2095: D255 = D260 by L2068 , L2065 , XBOOLE_0:def 10;
thus L2096: thesis by L2095 , L2094 , L2062 , L2063 , L1116;
end;
theorem
L2097: (for B563 being  finite non  empty set holds (for B564 , B565 being (Dependency-set of B563) holds (( charact_set B564 ) = ( charact_set B565 ) implies ( Dependency-closure B564 ) = ( Dependency-closure B565 ))))
proof
let C764 being  finite non  empty set;
let C765 , C766 being (Dependency-set of C764);
assume that
L2098: ( charact_set C765 ) = ( charact_set C766 );
set D262 = ( Dependency-closure C765 );
set D263 = ( Dependency-closure C766 );
L2099:
now
let C767 being set;
thus L2100:now
assume L2101: C767 in D262;
consider C768 , C769 being (Subset of C764) such that L2102: C767 = [ C768 , C769 ] by L2101 , L396;
L2103: (for B566 being (Subset of C764) holds ((C768 c= B566 & (not C769 c= B566)) implies B566 in ( charact_set C766 ))) by L2098 , L2101 , L2102 , L2048;
thus L2104: C767 in D263 by L2103 , L2102 , L2048;
end;
assume L2105: C767 in D263;
consider C770 , C771 being (Subset of C764) such that L2106: C767 = [ C770 , C771 ] by L2105 , L396;
L2107: (for B567 being (Subset of C764) holds ((C770 c= B567 & (not C771 c= B567)) implies B567 in ( charact_set C765 ))) by L2098 , L2105 , L2106 , L2048;
thus L2108: C767 in D262 by L2107 , L2106 , L2048;
end;
thus L2109: thesis by L2099 , TARSKI:1;
end;
theorem
L2110: (for B568 being non  empty  finite set holds (for B569 being (Dependency-set of B568) holds ( charact_set B569 ) = ( charact_set ( Dependency-closure B569 ) )))
proof
let C772 being non  empty  finite set;
let C773 being (Dependency-set of C772);
set D264 = ( Dependency-closure C773 );
L2111:
now
set D265 = { B570 where B570 is (Subset of C772) : (for B571 , B572 being (Subset of C772) holds (([ B571 , B572 ] in C773 & B571 c= B570) implies B572 c= B570)) };
let C774 being set;
thus L2112:now
L2113: C773 c= D264 by L1257;
assume L2114: C774 in ( charact_set C773 );
L2115: C774 is (Subset of C772) by L2114 , L2043;
L2116: (ex B573 , B574 being (Subset of C772) st ([ B573 , B574 ] in C773 & B573 c= C774 & (not B574 c= C774))) by L2114 , L2043;
thus L2117: C774 in ( charact_set D264 ) by L2116 , L2113 , L2115;
end;
assume L2118: C774 in ( charact_set D264 );
consider C775 , C776 being (Subset of C772) such that L2119: [ C775 , C776 ] in D264 and L2120: C775 c= C774 and L2121: (not C776 c= C774) by L2118 , L2043;
L2122: C774 is (Subset of C772) by L2118 , L2043;
assume L2123: (not C774 in ( charact_set C773 ));
L2124: (for B575 , B576 being (Subset of C772) holds (([ B575 , B576 ] in C773 & B575 c= C774) implies B576 c= C774)) by L2123 , L2122;
L2125: C774 in D265 by L2124 , L2122;
L2126: D265 = ( enclosure_of C773 );
L2127: ( Dependency-closure C773 ) = ( C772 deps_encl_by D265 ) by L2126 , L1272;
consider C777 , C778 being (Subset of C772) such that L2128: [ C775 , C776 ] = [ C777 , C778 ] and L2129: (for B577 being set holds ((B577 in D265 & C777 c= B577) implies C778 c= B577)) by L2127 , L2119;
L2130: C776 = C778 by L2128 , XTUPLE_0:1;
L2131: C775 = C777 by L2128 , XTUPLE_0:1;
thus L2132: contradiction by L2131 , L2120 , L2121 , L2129 , L2130 , L2125;
end;
thus L2133: thesis by L2111 , TARSKI:1;
end;
definition
let C779 being set;
let C780 being set;
let C781 being (Dependency-set of C779);
pred C780 is_p_i_w_ncv_of C781
means
:L2134: ((for B578 being (Subset of C779) holds ((C780 c= B578 & B578 <> C779) implies B578 in ( charact_set C781 ))) & (for B579 being set holds (B579 c< C780 implies (ex B580 being (Subset of C779) st (B579 c= B580 & B580 <> C779 & (not B580 in ( charact_set C781 )))))))
;end;
theorem
L2136: (for B581 being  finite non  empty set holds (for B582 being (Dependency-set of B581) holds (for B583 being (Subset of B581) holds (B583 in ( candidate-keys ( Dependency-closure B582 ) ) iff B583 is_p_i_w_ncv_of B582))))
proof
let C782 being  finite non  empty set;
let C783 being (Dependency-set of C782);
let C784 being (Subset of C782);
set D266 = ( Dependency-closure C783 );
set D267 = { B584 where B584 is (Subset of C782) : [ C784 , B584 ] in D266 };
L2137: D267 c= ( bool C782 )
proof
let C785 being set;
assume L2138: C785 in D267;
L2139: (ex B585 being (Subset of C782) st (C785 = B585 & [ C784 , B585 ] in D266)) by L2138;
thus L2140: thesis by L2139;
end;
reconsider D268 = D267 as (Subset-Family of C782) by L2137;
set D269 = ( candidate-keys D266 );
set D270 = { B586 where B586 is (Subset of C782) : (for B587 , B588 being (Subset of C782) holds (([ B587 , B588 ] in C783 & B587 c= B586) implies B588 c= B586)) };
L2141: [ C784 , C784 ] in D266 by L518;
L2142: C784 in D268 by L2141;
consider C786 being set such that L2143: C786 in D268 and L2144: (for B589 being set holds (B589 in D268 implies (C786 c= B589 implies B589 = C786))) by L2142 , FINSET_1:6;
L2145: D270 = ( enclosure_of C783 );
L2146: D266 = ( C782 deps_encl_by D270 ) by L2145 , L1272;
thus L2147:now
assume L2148: C784 in D269;
consider C787 being (Subset of C782) such that L2149: C784 = C787 and L2150: [ C787 , C782 ] in ( Maximal_wrt D266 ) by L2148;
L2151: C787 ^|^ C782 , D266 by L2150 , L654;
L2152: [ C787 , ( [#] C782 ) ] in D266 by L2150;
consider C788 , C789 being (Subset of C782) such that L2153: [ C787 , C782 ] = [ C788 , C789 ] and L2154: (for B590 being set holds ((B590 in D270 & C788 c= B590) implies C789 c= B590)) by L2152 , L2146;
L2155: C782 = C789 by L2153 , XTUPLE_0:1;
L2156: C787 = C788 by L2153 , XTUPLE_0:1;
thus L2157: C784 is_p_i_w_ncv_of C783
proof
thus L2158:now
let C790 being (Subset of C782);
assume that
L2159: C784 c= C790
and
L2160: C790 <> C782
and
L2161: (not C790 in ( charact_set C783 ));
L2162: (for B591 , B592 being (Subset of C782) holds (([ B591 , B592 ] in C783 & B591 c= C790) implies B592 c= C790)) by L2161;
L2163: C790 in D270 by L2162;
L2164: C782 c= C790 by L2163 , L2149 , L2154 , L2156 , L2155 , L2159;
thus L2165: contradiction by L2164 , L2160 , XBOOLE_0:def 10;
end;
let C791 being set;
assume L2166: C791 c< C784;
L2167: C791 c= C787 by L2166 , L2149 , XBOOLE_0:def 8;
reconsider D271 = C791 as (Subset of C782) by L2167 , XBOOLE_1:1;
set D272 = { B593 where B593 is (Subset of C782) : [ D271 , B593 ] in D266 };
L2168: D272 c= ( bool C782 )
proof
let C792 being set;
assume L2169: C792 in D272;
L2170: (ex B594 being (Subset of C782) st (C792 = B594 & [ D271 , B594 ] in D266)) by L2169;
thus L2171: thesis by L2170;
end;
reconsider D273 = D272 as (Subset-Family of C782) by L2168;
L2172: [ D271 , D271 ] in D266 by L518;
L2173: D271 in D273 by L2172;
consider C793 being set such that L2174: C793 in D273 and L2175: (for B595 being set holds (B595 in D273 implies (C793 c= B595 implies B595 = C793))) by L2173 , FINSET_1:6;
consider C794 being (Subset of C782) such that L2176: C793 = C794 and L2177: [ D271 , C794 ] in D266 by L2174;
L2178: [ D271 , D271 ] in D266 by L518;
L2179: [ ( D271 \/ D271 ) , ( D271 \/ C794 ) ] in D266 by L2178 , L2177 , L542;
assume L2180: (not thesis);
L2181: [ D271 , ( [#] C782 ) ] in D266
proof
per cases ;
suppose L2182: ( D271 \/ C794 ) = C782;

thus L2183: thesis by L2182 , L2179;
end;
suppose L2184: ( D271 \/ C794 ) <> C782;

L2185: ( D271 \/ C794 ) in ( charact_set C783 ) by L2184 , L2180 , XBOOLE_1:7;
L2186: ( D271 \/ C794 ) in ( charact_set D266 ) by L2185 , L2110;
consider C795 , C796 being (Subset of C782) such that L2187: [ C795 , C796 ] in D266 and L2188: C795 c= ( D271 \/ C794 ) and L2189: (not C796 c= ( D271 \/ C794 )) by L2186 , L2043;
L2190: [ ( D271 \/ C794 ) , ( D271 \/ C794 ) ] in D266 by L518;
L2191: [ ( C795 \/ ( D271 \/ C794 ) ) , ( C796 \/ ( D271 \/ C794 ) ) ] in D266 by L2190 , L2187 , L542;
L2192: [ ( D271 \/ C794 ) , ( C796 \/ ( D271 \/ C794 ) ) ] in D266 by L2191 , L2188 , XBOOLE_1:12;
L2193: [ D271 , ( C796 \/ ( D271 \/ C794 ) ) ] in D266 by L2192 , L2179 , L521;
L2194: ( C796 \/ ( D271 \/ C794 ) ) in D273 by L2193;
L2195: C794 c= ( D271 \/ C794 ) by XBOOLE_1:7;
L2196: C794 = ( C796 \/ ( D271 \/ C794 ) ) by L2195 , L2175 , L2176 , L2194 , XBOOLE_1:10;
thus L2197: thesis by L2196 , L2189 , XBOOLE_1:7 , XBOOLE_1:10;
end;
end;
L2199: D271 c= C784 by L2166 , XBOOLE_0:def 8;
L2200: [ C784 , ( [#] C782 ) ] <= [ D271 , ( [#] C782 ) ] by L2199 , L442;
thus L2201: contradiction by L2200 , L2149 , L2151 , L2166 , L2181 , L682;
end;

end;
consider C797 being (Subset of C782) such that L2158: C786 = C797 and L2159: [ C784 , C797 ] in D266 by L2143;
L2160: [ C784 , C784 ] in D266 by L518;
L2161: [ ( C784 \/ C784 ) , ( C784 \/ C797 ) ] in D266 by L2160 , L2159 , L542;
assume L2162: C784 is_p_i_w_ncv_of C783;
L2163: C784 c= ( C784 \/ C797 ) by XBOOLE_1:7;
L2164: [ C784 , ( [#] C782 ) ] in D266
proof
per cases ;
suppose L2165: ( C784 \/ C797 ) = C782;

thus L2166: thesis by L2165 , L2161;
end;
suppose L2167: ( C784 \/ C797 ) <> C782;

L2168: ( C784 \/ C797 ) in ( charact_set C783 ) by L2167 , L2162 , L2163 , L2134;
L2169: ( C784 \/ C797 ) in ( charact_set D266 ) by L2168 , L2110;
consider C798 , C799 being (Subset of C782) such that L2170: [ C798 , C799 ] in D266 and L2171: C798 c= ( C784 \/ C797 ) and L2172: (not C799 c= ( C784 \/ C797 )) by L2169 , L2043;
L2173: [ ( C784 \/ C797 ) , ( C784 \/ C797 ) ] in D266 by L518;
L2174: [ ( C798 \/ ( C784 \/ C797 ) ) , ( C799 \/ ( C784 \/ C797 ) ) ] in D266 by L2173 , L2170 , L542;
L2175: [ ( C784 \/ C797 ) , ( C799 \/ ( C784 \/ C797 ) ) ] in D266 by L2174 , L2171 , XBOOLE_1:12;
L2176: [ C784 , ( C799 \/ ( C784 \/ C797 ) ) ] in D266 by L2175 , L2161 , L521;
L2177: ( C799 \/ ( C784 \/ C797 ) ) in D268 by L2176;
L2178: C797 c= ( C784 \/ C797 ) by XBOOLE_1:7;
L2179: C797 = ( C799 \/ ( C784 \/ C797 ) ) by L2178 , L2144 , L2158 , L2177 , XBOOLE_1:10;
thus L2180: thesis by L2179 , L2172 , XBOOLE_1:7 , XBOOLE_1:10;
end;
end;
L2182:
now
let C800 , C801 being (Subset of C782);
assume that
L2183: [ C800 , C801 ] in D266
and
L2184: (C784 <> C800 or C782 <> C801)
and
L2185: [ C784 , ( [#] C782 ) ] <= [ C800 , C801 ];
L2186: C782 c= C801 by L2185 , L442;
L2187: C800 c= C784 by L2185 , L442;
L2188: C800 c< C784 by L2187 , L2184 , L2186 , XBOOLE_0:def 8 , XBOOLE_0:def 10;
consider C802 being (Subset of C782) such that L2189: C800 c= C802 and L2190: C802 <> C782 and L2191: (not C802 in ( charact_set C783 )) by L2188 , L2162 , L2134;
L2192: C782 = C801 by L2186 , XBOOLE_0:def 10;
L2193: (not C801 c= C802) by L2192 , L2190 , XBOOLE_0:def 10;
L2194: (not C802 in ( charact_set D266 )) by L2191 , L2110;
thus L2195: contradiction by L2194 , L2183 , L2189 , L2193;
end;
L2196: C784 ^|^ C782 , D266 by L2182 , L2164 , L682;
L2197: [ C784 , C782 ] in ( Maximal_wrt D266 ) by L2196 , L654;
thus L2198: thesis by L2197;
end;
