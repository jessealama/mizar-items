:: Chains on a Grating in Euclidean Space
::  by Freek Wiedijk
::
:: Received January 27, 2003
:: Copyright (c) 2003-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, SUBSET_1, XREAL_0, ORDINAL1, ARYTM_3, REAL_1, XXREAL_0,
      CARD_1, XBOOLE_0, TARSKI, ZFMISC_1, SETFAM_1, XCMPLX_0, FINSEQ_1,
      FINSET_1, ABIAN, FUNCT_1, FINSEQ_2, FUNCT_2, RELAT_1, CARD_3, GOBOARD5,
      MCART_1, ARYTM_1, TREES_2, POLYNOM1, WAYBEL25, GRAPH_1, NAT_1, ORDERS_2,
      STRUCT_0, VECTSP_1, SUPINF_2, BINOP_1, ALGSTR_0, RLVECT_1, GROUP_6,
      CHAIN_1, MSSUBFAM;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, SETFAM_1, RELAT_1, ORDINAL1,
      XCMPLX_0, XXREAL_0, XREAL_0, FUNCT_1, REAL_1, EUCLID, FUNCT_2, ABIAN,
      CARD_1, DOMAIN_1, MOD_4, CARD_3, BINOP_1, SEQ_1, VECTSP_1, NAT_1,
      NUMBERS, FINSET_1, STRUCT_0, ALGSTR_0, FINSEQ_1, FINSEQ_2,
      RLVECT_1;
 constructors REAL_1, CARD_3, REALSET1, ABIAN, EUCLID, SEQ_1, RELSET_1,
      MOD_4;
 registrations XBOOLE_0, SUBSET_1, FINSET_1, NUMBERS, XXREAL_0, XREAL_0, NAT_1,
      MEMBERED, FINSEQ_1, ABIAN, STRUCT_0, VECTSP_1, CARD_1, VALUED_0,
      ZFMISC_1, RELAT_1, EUCLID, CARD_2, RELSET_1;
 requirements NUMERALS, SUBSET, BOOLE, REAL, ARITHM;
 definitions TARSKI, FUNCT_1, RLVECT_1, SUBSET_1, BINOP_1, STRUCT_0, ALGSTR_0,
      ZFMISC_1, FINSET_1;
 theorems TARSKI, ZFMISC_1, FINSEQ_1, SUBSET_1, XBOOLE_0, CARD_1, FINSEQ_2,
      FUNCT_2, EUCLID, NAT_1, XBOOLE_1, CARD_2, MCART_1, FUNCT_1, DOMAIN_1,
      ENUMSET1, CARD_3, XREAL_0, XREAL_1, XXREAL_0, ORDINAL1, VECTSP_1,
      XTUPLE_0;
 schemes CLASSES1, FRAENKEL, FUNCT_2, FINSET_1, LMOD_7, BINOP_1;

begin
theorem
L1: (for B1 , B2 being  real number holds (B1 < B2 implies (ex B3 being Real st (B1 < B3 & B3 < B2))))
proof
let C1 , C2 being  real number;
assume L2: C1 < C2;
consider C3 being  real number such that L3: C1 < C3 and L4: C3 < C2 by L2 , XREAL_1:5;
reconsider D1 = C3 as Real by XREAL_0:def 1;
take D1;
thus L5: thesis by L3 , L4;
end;
theorem
L6: (for B4 , B5 being  real number holds (ex B6 being Real st (B4 < B6 & B5 < B6)))
proof
let C4 , C5 being  real number;
reconsider D2 = C4 , D3 = C5 as Real by XREAL_0:def 1;
take D4 = ( ( max (D2 , D3) ) + 1 );
L7: ( D2 + ( 0 ) ) < D4 by XREAL_1:8 , XXREAL_0:25;
L8: ( D3 + ( 0 ) ) < D4 by XREAL_1:8 , XXREAL_0:25;
thus L9: thesis by L8 , L7;
end;
scheme FrSet12 { F1() -> non  empty set , F2() -> non  empty set , P1[set , set] , F3(set , set) -> (Element of F1()) } : { F3(B7 , B8) where B7 , B8 is (Element of F2()) : P1[ B7 , B8 ] } c= F1()
proof
let R4 being set;
assume L10: R4 in { F3(B9 , B10) where B9 , B10 is (Element of F2()) : P1[ B9 , B10 ] };
L11: (ex B11 , B12 being (Element of F2()) st (R4 = F3(B11 , B12) & P1[ B11 , B12 ])) by L10;
thus L12: thesis by L11;
end;
definition
let C6 being set;
let C7 being (Subset of C6);
redefine func bool C7 -> (Subset-Family of C6);

coherence by ZFMISC_1:67;
end;
definition
let C8 being  real (Element of ( NAT ));
redefine attr C8 is  zero
means
(not C8 > ( 0 ));
compatibility;
end;
definition
let C9 being (Element of ( NAT ));
redefine attr C9 is  zero
means
:L15: (not C9 >= 1);
compatibility
proof
L16: (C9 is non  zero iff C9 >= ( 1 + ( 0 ) )) by NAT_1:13;
thus L17: thesis by L16;
end;
end;
theorem
L19: (for R2 being set holds (for R3 being set holds ({ R2 , R3 } is  trivial iff R2 = R3)))
proof
let R2 being set;
let R3 being set;
thus L20:now
L21: R2 in { R2 , R3 } by TARSKI:def 2;
L22: R3 in { R2 , R3 } by TARSKI:def 2;
thus L23: ({ R2 , R3 } is  trivial implies R2 = R3) by L22 , L21 , ZFMISC_1:def 10;
end;
L24: { R2 , R2 } = { R2 } by ENUMSET1:29;
thus L25: thesis by L24;
end;
registration
cluster non  trivial  finite for set;
existence
proof
take { ( 0 ) , 1 };
thus L26: thesis by L19;
end;
end;
registration
let C10 being non  trivial set;
let C11 being set;
cluster ( C10 \/ C11 ) -> non  trivial;
coherence
proof
consider R2 being set, R3 being set such that L28: R2 in C10 and L29: R3 in C10 and L30: R2 <> R3 by ZFMISC_1:def 10;
take R2;
take R3;
thus L31: thesis by L28 , L29 , L30 , XBOOLE_0:def 3;
end;
cluster ( C11 \/ C10 ) -> non  trivial;
coherence;
end;
registration
let C12 being non  trivial set;
cluster non  trivial  finite for (Subset of C12);
existence
proof
consider R2 being set, R3 being set such that L33: R2 in C12 and L34: R3 in C12 and L35: R2 <> R3 by ZFMISC_1:def 10;
take { R2 , R3 };
thus L36: thesis by L33 , L34 , L35 , L19 , ZFMISC_1:32;
end;
end;
theorem
L38: (for R1 being set holds (for R3 being set holds ((R1 is  trivial & ( R1 \/ { R3 } ) is non  trivial) implies (ex R2 being set st R1 = { R2 }))))
proof
let R1 being set;
let R3 being set;
assume that
L39: R1 is  trivial
and
L40: ( R1 \/ { R3 } ) is non  trivial;
L41: (R1 is  empty or (ex R2 being set st R1 = { R2 })) by L39 , ZFMISC_1:131;
thus L42: thesis by L41 , L40;
end;
scheme NonEmptyFinite { F4() -> non  empty set , F5() -> non  empty  finite (Subset of F4()) , P2[set] } : P2[ F5() ]
provided
L43: (for B13 being (Element of F4()) holds (B13 in F5() implies P2[ { B13 } ]))
and
L44: (for B14 being (Element of F4()) holds (for B15 being non  empty  finite (Subset of F4()) holds ((B14 in F5() & B15 c= F5() & (not B14 in B15) & P2[ B15 ]) implies P2[ ( B15 \/ { B14 } ) ])))
proof
defpred S1[ set ] means ($1 is  empty or P2[ $1 ]);
L45: F5() is  finite;
L46: S1[ ( {} ) ];
L47: (for B16 , B17 being set holds ((B16 in F5() & B17 c= F5() & S1[ B17 ]) implies S1[ ( B17 \/ { B16 } ) ]))
proof
let C13 , C14 being set;
assume that
L48: C13 in F5()
and
L49: C14 c= F5()
and
L50: S1[ C14 ];
reconsider D5 = C14 as (Subset of F4()) by L49 , XBOOLE_1:1;
per cases ;
suppose L51: C13 in D5;

L52: { C13 } c= D5 by L51 , ZFMISC_1:31;
thus L53: thesis by L52 , L50 , XBOOLE_1:12;
end;
suppose L54: (D5 is non  empty & (not C13 in D5));

thus L55: thesis by L54 , L44 , L48 , L49 , L50;
end;
suppose L56: D5 is  empty;

thus L57: thesis by L56 , L43 , L48;
end;
end;
L59: S1[ F5() ] from FINSET_1:sch 2(L45 , L46 , L47);
thus L60: thesis by L59;
end;
scheme NonTrivialFinite { F6() -> non  trivial set , F7() -> non  trivial  finite (Subset of F6()) , P3[set] } : P3[ F7() ]
provided
L61: (for B18 , B19 being (Element of F6()) holds ((B18 in F7() & B19 in F7() & B18 <> B19) implies P3[ { B18 , B19 } ]))
and
L62: (for B20 being (Element of F6()) holds (for B21 being non  trivial  finite (Subset of F6()) holds ((B20 in F7() & B21 c= F7() & (not B20 in B21) & P3[ B21 ]) implies P3[ ( B21 \/ { B20 } ) ])))
proof
defpred S2[ set ] means ($1 is  trivial or P3[ $1 ]);
L63: F7() is  finite;
L64: S2[ ( {} ) ];
L65: (for B22 , B23 being set holds ((B22 in F7() & B23 c= F7() & S2[ B23 ]) implies S2[ ( B23 \/ { B22 } ) ]))
proof
let C15 , C16 being set;
assume that
L66: C15 in F7()
and
L67: C16 c= F7()
and
L68: S2[ C16 ];
reconsider D6 = C16 as (Subset of F6()) by L67 , XBOOLE_1:1;
per cases ;
suppose L69: ( D6 \/ { C15 } ) is  trivial;

thus L70: thesis by L69;
end;
suppose L71: C15 in D6;

L72: { C15 } c= D6 by L71 , ZFMISC_1:31;
thus L73: thesis by L72 , L68 , XBOOLE_1:12;
end;
suppose L74: (D6 is non  trivial & (not C15 in D6));

thus L75: thesis by L74 , L62 , L66 , L67 , L68;
end;
suppose L76: (D6 is  trivial & ( D6 \/ { C15 } ) is non  trivial);

consider C17 being set such that L77: D6 = { C17 } by L76 , L38;
L78: C15 <> C17 by L76 , L77;
L79: ( D6 \/ { C15 } ) = { C15 , C17 } by L77 , ENUMSET1:1;
L80: C17 in D6 by L77 , TARSKI:def 1;
thus L81: thesis by L80 , L61 , L66 , L67 , L78 , L79;
end;
end;
L83: S2[ F7() ] from FINSET_1:sch 2(L63 , L64 , L65);
thus L84: thesis by L83;
end;
theorem
L85: (for R1 being set holds (( card R1 ) = 2 iff (ex R2 being set st (ex R3 being set st (R2 in R1 & R3 in R1 & R2 <> R3 & (for R4 being set holds (R4 in R1 implies (R4 = R2 or R4 = R3))))))))
proof
let R1 being set;
thus L86:now
assume L87: ( card R1 ) = 2;
reconsider D7 = R1 as  finite set by L87;
consider R2 being set, R3 being set such that L88: R2 <> R3 and L89: D7 = { R2 , R3 } by L87 , CARD_2:60;
take D8 = R2;
take D9 = R3;
thus L90: (D8 in R1 & D9 in R1 & D8 <> D9 & (for R4 being set holds (R4 in R1 implies (R4 = D8 or R4 = D9)))) by L88 , L89 , TARSKI:def 2;
end;
given R2 being set , R3 being set such that
L91: R2 in R1
and
L92: R3 in R1
and
L93: R2 <> R3
and
L94: (for R4 being set holds (R4 in R1 implies (R4 = R2 or R4 = R3)));

L95: (for R4 being set holds (R4 in R1 iff (R4 = R2 or R4 = R3))) by L91 , L92 , L94;
L96: R1 = { R2 , R3 } by L95 , TARSKI:def 2;
thus L97: thesis by L96 , L93 , CARD_2:57;
end;
theorem
L98: (for R5 being (Element of ( NAT )) holds (for R6 being (Element of ( NAT )) holds ((R6 is  even iff R5 is  even) iff ( R6 + R5 ) is  even)));
theorem
L99: (for B24 , B25 being  finite set holds (B24 misses B25 implies ((( card B24 ) is  even iff ( card B25 ) is  even) iff ( card ( B24 \/ B25 ) ) is  even)))
proof
let C18 , C19 being  finite set;
assume L100: C18 misses C19;
L101: ( card ( C18 \/ C19 ) ) = ( ( card C18 ) + ( card C19 ) ) by L100 , CARD_2:40;
thus L102: thesis by L101;
end;
theorem
L103: (for B26 , B27 being  finite set holds ((( card B26 ) is  even iff ( card B27 ) is  even) iff ( card ( B26 \+\ B27 ) ) is  even))
proof
let C20 , C21 being  finite set;
L104: ( C20 \ C21 ) misses ( C20 /\ C21 ) by XBOOLE_1:89;
L105: C20 = ( ( C20 \ C21 ) \/ ( C20 /\ C21 ) ) by XBOOLE_1:51;
L106: ( C21 \ C20 ) misses ( C20 /\ C21 ) by XBOOLE_1:89;
L107: C21 = ( ( C21 \ C20 ) \/ ( C20 /\ C21 ) ) by XBOOLE_1:51;
L108: ( C20 \ C21 ) misses ( C21 \ C20 ) by XBOOLE_1:82;
L109: ( C20 \+\ C21 ) = ( ( C20 \ C21 ) \/ ( C21 \ C20 ) ) by XBOOLE_0:def 6;
L110: ((( card ( C20 \ C21 ) ) is  even iff ( card ( C20 /\ C21 ) ) is  even) iff ( card C20 ) is  even) by L104 , L105 , L99;
L111: ((( card ( C21 \ C20 ) ) is  even iff ( card ( C20 /\ C21 ) ) is  even) iff ( card C21 ) is  even) by L106 , L107 , L99;
thus L112: thesis by L111 , L108 , L109 , L110 , L99;
end;
definition
let R5 being (Element of ( NAT ));
redefine func REAL R5 means 
:L113: (for R2 being set holds (R2 in it iff R2 is (Function of ( Seg R5 ) , ( REAL ))));
compatibility
proof
L114: (for R2 being set holds (R2 in ( REAL R5 ) iff R2 is (Function of ( Seg R5 ) , ( REAL ))))
proof
let R2 being set;
thus L115:now
assume L116: R2 in ( REAL R5 );
L117: R2 in ( R5 -tuples_on ( REAL ) ) by L116 , EUCLID:def 1;
L118: R2 in ( Funcs (( Seg R5 ) , ( REAL )) ) by L117 , FINSEQ_2:93;
thus L119: R2 is (Function of ( Seg R5 ) , ( REAL )) by L118 , FUNCT_2:66;
end;
assume L120: R2 is (Function of ( Seg R5 ) , ( REAL ));
L121: R2 in ( Funcs (( Seg R5 ) , ( REAL )) ) by L120 , FUNCT_2:8;
L122: R2 in ( R5 -tuples_on ( REAL ) ) by L121 , FINSEQ_2:93;
thus L123: thesis by L122 , EUCLID:def 1;
end;
let C22 being (FinSequenceSet of ( REAL ));
thus L124: (C22 = ( REAL R5 ) implies (for R2 being set holds (R2 in C22 iff R2 is (Function of ( Seg R5 ) , ( REAL ))))) by L114;
assume L125: (for R2 being set holds (R2 in C22 iff R2 is (Function of ( Seg R5 ) , ( REAL ))));
L126:
now
let R2 being set;
L127: (R2 in C22 iff R2 is (Function of ( Seg R5 ) , ( REAL ))) by L125;
thus L128: (R2 in C22 iff R2 in ( REAL R5 )) by L127 , L114;
end;
thus L129: thesis by L126 , TARSKI:1;
end;
end;
begin
definition
let R10 being non  zero (Element of ( NAT ));
mode Grating of R10
 -> (Function of ( Seg R10 ) , ( bool ( REAL ) ))
means :L131: (for R11 being (Element of ( Seg R10 )) holds ( it . R11 ) is non  trivial  finite);
existence
proof
defpred S3[ set , set ] means $2 is non  trivial  finite non  trivial  finite non  trivial  finite non  trivial  finite (Subset of ( REAL ));
L132: (for B28 being set holds (B28 in ( Seg R10 ) implies (ex B29 being set st S3[ B28 , B29 ])))
proof
let C23 being set;
assume L133: C23 in ( Seg R10 );
set D10 = the non  trivial  finite (Subset of ( REAL ));
take D10;
thus L134: thesis;
end;
consider C24 being Function such that L135: (( dom C24 ) = ( Seg R10 ) & (for B30 being set holds (B30 in ( Seg R10 ) implies S3[ B30 , ( C24 . B30 ) ]))) from CLASSES1:sch 1(L132);
L136: (for B31 being set holds (B31 in ( Seg R10 ) implies ( C24 . B31 ) in ( bool ( REAL ) )))
proof
let C25 being set;
assume L137: C25 in ( Seg R10 );
L138: ( C24 . C25 ) is (Subset of ( REAL )) by L137 , L135;
thus L139: thesis by L138;
end;
reconsider D11 = C24 as (Function of ( Seg R10 ) , ( bool ( REAL ) )) by L136 , L135 , FUNCT_2:3;
take D11;
thus L140: thesis by L135;
end;
end;
registration
let R10 being non  zero (Element of ( NAT ));
cluster  ->  finite-yielding for (Grating of R10);
coherence
proof
let R33 being (Grating of R10);
let C26 being set;
assume L142: C26 in ( Seg R10 );
thus L143: ( R33 . C26 ) is  finite by L142 , L131;
end;
end;
definition
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let R11 being (Element of ( Seg R10 ));
redefine func R33 . R11 -> non  trivial  finite (Subset of ( REAL ));

coherence by L131;
end;
theorem
L146: (for R10 being non  zero (Element of ( NAT )) holds (for R20 being (Element of ( REAL R10 )) holds (for R33 being (Grating of R10) holds (R20 in ( product R33 ) iff (for R11 being (Element of ( Seg R10 )) holds ( R20 . R11 ) in ( R33 . R11 ))))))
proof
let R10 being non  zero (Element of ( NAT ));
let R20 being (Element of ( REAL R10 ));
let R33 being (Grating of R10);
L147: R20 is (Function of ( Seg R10 ) , ( REAL )) by L113;
L148: ( dom R20 ) = ( Seg R10 ) by L147 , FUNCT_2:def 1;
L149: ( dom R33 ) = ( Seg R10 ) by FUNCT_2:def 1;
thus L150: (R20 in ( product R33 ) implies (for R11 being (Element of ( Seg R10 )) holds ( R20 . R11 ) in ( R33 . R11 ))) by L149 , CARD_3:9;
assume L151: (for R11 being (Element of ( Seg R10 )) holds ( R20 . R11 ) in ( R33 . R11 ));
L152: (for B32 being set holds (B32 in ( Seg R10 ) implies ( R20 . B32 ) in ( R33 . B32 ))) by L151;
thus L153: thesis by L152 , L148 , L149 , CARD_3:9;
end;
canceled 1;
theorem
L154: (for B33 being non  empty  finite (Subset of ( REAL )) holds (ex R28 being Real st (R28 in B33 & (for R31 being Real holds (R31 in B33 implies R28 >= R31)))))
proof
defpred S4[ set ] means (ex R28 being Real st (R28 in $1 & (for R31 being Real holds (R31 in $1 implies R28 >= R31))));
let C27 being non  empty  finite (Subset of ( REAL ));
L155: (for R31 being Real holds (R31 in C27 implies S4[ { R31 } ]))
proof
let R31 being Real;
assume L156: R31 in C27;
take R31;
thus L157: thesis by TARSKI:def 1;
end;
L158: (for B34 being Real holds (for B35 being non  empty  finite (Subset of ( REAL )) holds ((B34 in C27 & B35 c= C27 & (not B34 in B35) & S4[ B35 ]) implies S4[ ( B35 \/ { B34 } ) ])))
proof
let C28 being Real;
let C29 being non  empty  finite (Subset of ( REAL ));
assume that
L159: C28 in C27
and
L160: C29 c= C27
and
L161: (not C28 in C29)
and
L162: S4[ C29 ];
consider R28 being Real such that L163: R28 in C29 and L164: (for R31 being Real holds (R31 in C29 implies R28 >= R31)) by L162;
set D12 = ( C29 \/ { C28 } );
L165:
now
let R31 being Real;
L166: (R31 in { C28 } iff R31 = C28) by TARSKI:def 1;
thus L167: (R31 in D12 iff (R31 in C29 or R31 = C28)) by L166 , XBOOLE_0:def 3;
end;
per cases ;
suppose L168: C28 <= R28;

take R28;
thus L169: R28 in D12 by L163 , L165;
let R31 being Real;
assume L170: R31 in D12;
L171: (R31 in C29 or R31 = C28) by L170 , L165;
thus L172: thesis by L171 , L164 , L168;
end;
suppose L173: R28 < C28;

take C28;
thus L174: C28 in D12 by L165;
let R31 being Real;
assume L175: R31 in D12;
L176: (R31 in C29 or R31 = C28) by L175 , L165;
L177: (R28 >= R31 or R31 = C28) by L176 , L164;
thus L178: thesis by L177 , L173 , XXREAL_0:2;
end;
end;
thus L180: S4[ C27 ] from NonEmptyFinite(L155 , L158);
end;
theorem
L181: (for B36 being non  empty  finite (Subset of ( REAL )) holds (ex R27 being Real st (R27 in B36 & (for R31 being Real holds (R31 in B36 implies R27 <= R31)))))
proof
defpred S5[ set ] means (ex R27 being Real st (R27 in $1 & (for R31 being Real holds (R31 in $1 implies R27 <= R31))));
let C30 being non  empty  finite (Subset of ( REAL ));
L182: (for R31 being Real holds (R31 in C30 implies S5[ { R31 } ]))
proof
let R31 being Real;
assume L183: R31 in C30;
take R31;
thus L184: thesis by TARSKI:def 1;
end;
L185: (for B37 being Real holds (for B38 being non  empty  finite (Subset of ( REAL )) holds ((B37 in C30 & B38 c= C30 & (not B37 in B38) & S5[ B38 ]) implies S5[ ( B38 \/ { B37 } ) ])))
proof
let C31 being Real;
let C32 being non  empty  finite (Subset of ( REAL ));
assume that
L186: C31 in C30
and
L187: C32 c= C30
and
L188: (not C31 in C32)
and
L189: S5[ C32 ];
consider R27 being Real such that L190: R27 in C32 and L191: (for R31 being Real holds (R31 in C32 implies R27 <= R31)) by L189;
set D13 = ( C32 \/ { C31 } );
L192:
now
let R31 being Real;
L193: (R31 in { C31 } iff R31 = C31) by TARSKI:def 1;
thus L194: (R31 in D13 iff (R31 in C32 or R31 = C31)) by L193 , XBOOLE_0:def 3;
end;
per cases ;
suppose L195: R27 <= C31;

take R27;
thus L196: R27 in D13 by L190 , L192;
let R31 being Real;
assume L197: R31 in D13;
L198: (R31 in C32 or R31 = C31) by L197 , L192;
thus L199: thesis by L198 , L191 , L195;
end;
suppose L200: C31 < R27;

take C31;
thus L201: C31 in D13 by L192;
let R31 being Real;
assume L202: R31 in D13;
L203: (R31 in C32 or R31 = C31) by L202 , L192;
L204: (R27 <= R31 or R31 = C31) by L203 , L191;
thus L205: thesis by L204 , L200 , XXREAL_0:2;
end;
end;
thus L207: S5[ C30 ] from NonEmptyFinite(L182 , L185);
end;
theorem
L208: (for R26 being non  trivial  finite (Subset of ( REAL )) holds (ex R27 being Real st (ex R28 being Real st (R27 in R26 & R28 in R26 & R27 < R28 & (for R31 being Real holds (R31 in R26 implies (not (R27 < R31 & R31 < R28))))))))
proof
let R26 being non  trivial  finite (Subset of ( REAL ));
defpred S6[ set ] means (ex R27 being Real st (ex R28 being Real st (R27 in $1 & R28 in $1 & R27 < R28 & (for R31 being Real holds (R31 in $1 implies (not (R27 < R31 & R31 < R28)))))));
L209:
now
let R27 being Real;
let R28 being Real;
assume that
L210: R27 in R26
and
L211: R28 in R26
and
L212: R27 <> R28;
L213:
now
let R27 being Real;
let R28 being Real;
assume L214: R27 < R28;
thus L215: S6[ { R27 , R28 } ]
proof
take R27;
take R28;
thus L216: thesis by L214 , TARSKI:def 2;
end;

end;
L216: (R27 < R28 or R28 < R27) by L212 , XXREAL_0:1;
thus L217: S6[ { R27 , R28 } ] by L216 , L213;
end;
L218: (for B39 being Real holds (for B40 being non  trivial  finite (Subset of ( REAL )) holds ((B39 in R26 & B40 c= R26 & (not B39 in B40) & S6[ B40 ]) implies S6[ ( B40 \/ { B39 } ) ])))
proof
let C33 being Real;
let C34 being non  trivial  finite (Subset of ( REAL ));
assume that
L219: C33 in R26
and
L220: C34 c= R26
and
L221: (not C33 in C34)
and
L222: S6[ C34 ];
consider R27 being Real, R28 being Real such that L223: R27 in C34 and L224: R28 in C34 and L225: R27 < R28 and L226: (for R31 being Real holds (R31 in C34 implies (not (R27 < R31 & R31 < R28)))) by L222;
per cases  by L221 , L223 , L224 , XXREAL_0:1;
suppose L227: C33 < R27;

take R27;
take R28;
thus L228: (R27 in ( C34 \/ { C33 } ) & R28 in ( C34 \/ { C33 } ) & R27 < R28) by L223 , L224 , L225 , XBOOLE_0:def 3;
let R31 being Real;
assume L229: R31 in ( C34 \/ { C33 } );
L230: (R31 in C34 or R31 in { C33 }) by L229 , XBOOLE_0:def 3;
thus L231: thesis by L230 , L226 , L227 , TARSKI:def 1;
end;
suppose L232: (R27 < C33 & C33 < R28);

take R27;
take C33;
L233: C33 in { C33 } by TARSKI:def 1;
thus L234: (R27 in ( C34 \/ { C33 } ) & C33 in ( C34 \/ { C33 } ) & R27 < C33) by L233 , L223 , L232 , XBOOLE_0:def 3;
let R31 being Real;
assume L235: R31 in ( C34 \/ { C33 } );
L236: (R31 in C34 or R31 in { C33 }) by L235 , XBOOLE_0:def 3;
L237: ((not (R27 < R31 & R31 < R28)) or R31 = C33) by L236 , L226 , TARSKI:def 1;
thus L238: thesis by L237 , L232 , XXREAL_0:2;
end;
suppose L239: R28 < C33;

take R27;
take R28;
thus L240: (R27 in ( C34 \/ { C33 } ) & R28 in ( C34 \/ { C33 } ) & R27 < R28) by L223 , L224 , L225 , XBOOLE_0:def 3;
let R31 being Real;
assume L241: R31 in ( C34 \/ { C33 } );
L242: (R31 in C34 or R31 in { C33 }) by L241 , XBOOLE_0:def 3;
thus L243: thesis by L242 , L226 , L239 , TARSKI:def 1;
end;
end;
thus L245: S6[ R26 ] from NonTrivialFinite(L209 , L218);
end;
theorem
L246: (for B41 being non  empty  finite (Subset of ( REAL )) holds (ex R28 being Real st (R28 in B41 & (for R31 being Real holds (R31 in B41 implies R28 >= R31))))) by L154;
theorem
L247: (for R26 being non  trivial  finite (Subset of ( REAL )) holds (ex R27 being Real st (ex R28 being Real st (R27 in R26 & R28 in R26 & R28 < R27 & (for R31 being Real holds (R31 in R26 implies (not (R31 < R28 or R27 < R31))))))))
proof
let R26 being non  trivial  finite (Subset of ( REAL ));
consider R27 being Real such that L248: R27 in R26 and L249: (for R31 being Real holds (R31 in R26 implies R27 >= R31)) by L154;
consider R28 being Real such that L250: R28 in R26 and L251: (for R31 being Real holds (R31 in R26 implies R28 <= R31)) by L181;
take R27;
take R28;
L252: R28 <= R27 by L249 , L250;
L253:
now
assume L254: R27 = R28;
consider C35 , C36 being set such that L255: C35 in R26 and L256: C36 in R26 and L257: C35 <> C36 by ZFMISC_1:def 10;
reconsider D14 = C35 , D15 = C36 as Real by L255 , L256;
L258: R28 <= D14 by L251 , L255;
L259: D14 <= R27 by L249 , L255;
L260: R28 <= D15 by L251 , L256;
L261: D15 <= R27 by L249 , L256;
L262: D14 = R27 by L254 , L258 , L259 , XXREAL_0:1;
thus L263: contradiction by L262 , L254 , L257 , L260 , L261 , XXREAL_0:1;
end;
thus L264: thesis by L253 , L248 , L249 , L250 , L251 , L252 , XXREAL_0:1;
end;
definition
let R26 being non  trivial  finite (Subset of ( REAL ));
mode Gap of R26
 -> (Element of [: ( REAL ) , ( REAL ) :])
means :L265: (ex R27 being Real st (ex R28 being Real st (it = [ R27 , R28 ] & R27 in R26 & R28 in R26 & ((R27 < R28 & (for R31 being Real holds (R31 in R26 implies (not (R27 < R31 & R31 < R28))))) or (R28 < R27 & (for R31 being Real holds (R31 in R26 implies (not (R27 < R31 or R31 < R28)))))))));
existence
proof
consider R27 being Real, R28 being Real such that L266: R27 in R26 and L267: R28 in R26 and L268: R27 < R28 and L269: (for R31 being Real holds (R31 in R26 implies (not (R27 < R31 & R31 < R28)))) by L208;
take [ R27 , R28 ];
take R27;
take R28;
thus L270: thesis by L266 , L267 , L268 , L269;
end;
end;
theorem
L272: (for R26 being non  trivial  finite (Subset of ( REAL )) holds (for R27 being Real holds (for R28 being Real holds ([ R27 , R28 ] is (Gap of R26) iff (R27 in R26 & R28 in R26 & ((R27 < R28 & (for R31 being Real holds (R31 in R26 implies (not (R27 < R31 & R31 < R28))))) or (R28 < R27 & (for R31 being Real holds (R31 in R26 implies (not (R27 < R31 or R31 < R28)))))))))))
proof
let R26 being non  trivial  finite (Subset of ( REAL ));
let R27 being Real;
let R28 being Real;
thus L273: ([ R27 , R28 ] is (Gap of R26) implies (R27 in R26 & R28 in R26 & ((R27 < R28 & (for R31 being Real holds (R31 in R26 implies (not (R27 < R31 & R31 < R28))))) or (R28 < R27 & (for R31 being Real holds (R31 in R26 implies (not (R27 < R31 or R31 < R28))))))))
proof
assume L274: [ R27 , R28 ] is (Gap of R26);
consider R29 being Real, R30 being Real such that L275: [ R27 , R28 ] = [ R29 , R30 ] and L276: R29 in R26 and L277: R30 in R26 and L278: ((R29 < R30 & (for R31 being Real holds (R31 in R26 implies (not (R29 < R31 & R31 < R30))))) or (R30 < R29 & (for R31 being Real holds (R31 in R26 implies (not (R29 < R31 or R31 < R30)))))) by L274 , L265;
L279: R29 = R27 by L275 , XTUPLE_0:1;
L280: R30 = R28 by L275 , XTUPLE_0:1;
thus L281: thesis by L280 , L276 , L277 , L278 , L279;
end;

thus L282: thesis by L265;
end;
theorem
L283: (for R26 being non  trivial  finite (Subset of ( REAL )) holds (for R27 being Real holds (for R28 being Real holds (for R29 being Real holds (for R30 being Real holds (R26 = { R27 , R28 } implies ([ R29 , R30 ] is (Gap of R26) iff ((R29 = R27 & R30 = R28) or (R29 = R28 & R30 = R27)))))))))
proof
let R26 being non  trivial  finite (Subset of ( REAL ));
let R27 being Real;
let R28 being Real;
let R29 being Real;
let R30 being Real;
assume L284: R26 = { R27 , R28 };
thus L285:now
assume L286: [ R29 , R30 ] is (Gap of R26);
L287: R29 in R26 by L286 , L272;
L288: R30 in R26 by L286 , L272;
L289: (R29 = R27 or R29 = R28) by L284 , L287 , TARSKI:def 2;
L290: R29 <> R30 by L286 , L272;
thus L291: ((R29 = R27 & R30 = R28) or (R29 = R28 & R30 = R27)) by L290 , L284 , L288 , L289 , TARSKI:def 2;
end;
L292: (for R26 being non  trivial  finite (Subset of ( REAL )) holds (for R27 being Real holds (for R28 being Real holds (R26 = { R27 , R28 } implies [ R27 , R28 ] is (Gap of R26)))))
proof
let R26 being non  trivial  finite (Subset of ( REAL ));
let R27 being Real;
let R28 being Real;
assume L293: R26 = { R27 , R28 };
take R27;
take R28;
thus L294: ([ R27 , R28 ] = [ R27 , R28 ] & R27 in R26 & R28 in R26) by L293 , TARSKI:def 2;
L295: R27 <> R28 by L293 , L19;
thus L296: thesis by L295 , L293 , TARSKI:def 2 , XXREAL_0:1;
end;
thus L297: thesis by L292 , L284;
end;
deffunc H1(set) = $1;
theorem
L298: (for R26 being non  trivial  finite (Subset of ( REAL )) holds (for R31 being Real holds (R31 in R26 implies (ex R28 being Real st [ R31 , R28 ] is (Gap of R26)))))
proof
let R26 being non  trivial  finite (Subset of ( REAL ));
let R31 being Real;
assume L299: R31 in R26;
defpred S7[ Real ] means $1 > R31;
set D16 = { H1(R30) where R30 is Real : (H1(R30) in R26 & S7[ R30 ]) };
L300: D16 c= R26 from FRAENKEL:sch 17;
reconsider D17 = D16 as  finite (Subset of ( REAL )) by L300 , XBOOLE_1:1;
per cases ;
suppose L301: D17 is  empty;

L302:
now
let R32 being Real;
assume that
L303: R32 in R26
and
L304: R32 > R31;
L305: R32 in D17 by L303 , L304;
thus L306: contradiction by L305 , L301;
end;
consider R27 being Real such that L307: R27 in R26 and L308: (for R32 being Real holds (R32 in R26 implies R27 <= R32)) by L181;
take R27;
L309:
now
assume L310: R27 = R31;
L311: (for B42 being set holds (B42 in R26 iff B42 = R31))
proof
let C37 being set;
thus L312:now
assume L313: C37 in R26;
reconsider D18 = C37 as (Element of ( REAL )) by L313;
L314: R27 <= D18 by L308 , L313;
L315: D18 <= R31 by L302 , L313;
thus L316: C37 = R31 by L315 , L310 , L314 , XXREAL_0:1;
end;
thus L317: thesis by L299;
end;
thus L318: R26 = { R31 } by L311 , TARSKI:def 1;
thus L319: contradiction by L318;
end;
L320: R27 <= R31 by L299 , L308;
L321: R27 < R31 by L320 , L309 , XXREAL_0:1;
L322: (for R32 being Real holds (R32 in R26 implies (not (R31 < R32 or R32 < R27)))) by L302 , L308;
thus L323: thesis by L322 , L299 , L307 , L321 , L272;
end;
suppose L324: D17 is non  empty;

reconsider D19 = D17 as non  empty  finite (Subset of ( REAL )) by L324;
consider R28 being Real such that L325: R28 in D19 and L326: (for R30 being Real holds (R30 in D19 implies R30 >= R28)) by L181;
take R28;
L327:
now
thus L328: R31 in R26 by L299;
thus L329: R28 in R26 by L300 , L325;
L330: (ex R30 being Real st (R30 = R28 & R30 in R26 & R31 < R30)) by L325;
thus L331: R31 < R28 by L330;
thus L332:now
let R32 being Real;
assume L333: R32 in R26;
L334: (R32 <= R31 or R32 in D19) by L333;
thus L335: (not (R31 < R32 & R32 < R28)) by L334 , L326;
end;
end;
thus L333: thesis by L327 , L272;
end;
end;
theorem
L335: (for R26 being non  trivial  finite (Subset of ( REAL )) holds (for R31 being Real holds (R31 in R26 implies (ex R27 being Real st [ R27 , R31 ] is (Gap of R26)))))
proof
let R26 being non  trivial  finite (Subset of ( REAL ));
let R31 being Real;
assume L336: R31 in R26;
defpred S8[ Real ] means $1 < R31;
set D20 = { H1(R29) where R29 is Real : (H1(R29) in R26 & S8[ R29 ]) };
L337: D20 c= R26 from FRAENKEL:sch 17;
reconsider D21 = D20 as  finite (Subset of ( REAL )) by L337 , XBOOLE_1:1;
per cases ;
suppose L338: D21 is  empty;

L339:
now
let R32 being Real;
assume that
L340: R32 in R26
and
L341: R32 < R31;
L342: R32 in D21 by L340 , L341;
thus L343: contradiction by L342 , L338;
end;
consider R28 being Real such that L344: R28 in R26 and L345: (for R32 being Real holds (R32 in R26 implies R28 >= R32)) by L154;
take R28;
L346:
now
assume L347: R28 = R31;
L348: (for B43 being set holds (B43 in R26 iff B43 = R31))
proof
let C38 being set;
thus L349:now
assume L350: C38 in R26;
reconsider D22 = C38 as (Element of ( REAL )) by L350;
L351: R28 >= D22 by L345 , L350;
L352: D22 >= R31 by L339 , L350;
thus L353: C38 = R31 by L352 , L347 , L351 , XXREAL_0:1;
end;
thus L354: thesis by L336;
end;
thus L355: R26 = { R31 } by L348 , TARSKI:def 1;
thus L356: contradiction by L355;
end;
L357: R28 >= R31 by L336 , L345;
L358: R28 > R31 by L357 , L346 , XXREAL_0:1;
L359: (for R32 being Real holds (R32 in R26 implies (not (R32 > R28 or R31 > R32)))) by L339 , L345;
thus L360: thesis by L359 , L336 , L344 , L358 , L272;
end;
suppose L361: D21 is non  empty;

reconsider D23 = D21 as non  empty  finite (Subset of ( REAL )) by L361;
consider R27 being Real such that L362: R27 in D23 and L363: (for R29 being Real holds (R29 in D23 implies R29 <= R27)) by L154;
take R27;
L364:
now
thus L365: R31 in R26 by L336;
thus L366: R27 in R26 by L337 , L362;
L367: (ex R29 being Real st (R29 = R27 & R29 in R26 & R31 > R29)) by L362;
thus L368: R31 > R27 by L367;
thus L369:now
let R32 being Real;
assume L370: R32 in R26;
L371: (R32 >= R31 or R32 in D23) by L370;
thus L372: (not (R32 > R27 & R31 > R32)) by L371 , L363;
end;
end;
thus L370: thesis by L364 , L272;
end;
end;
theorem
L372: (for R26 being non  trivial  finite (Subset of ( REAL )) holds (for R27 being Real holds (for R28 being Real holds (for R30 being Real holds (([ R27 , R28 ] is (Gap of R26) & [ R27 , R30 ] is (Gap of R26)) implies R28 = R30)))))
proof
let R26 being non  trivial  finite (Subset of ( REAL ));
let R27 being Real;
let R28 being Real;
let R30 being Real;
L373: ((R28 <= R30 & R30 <= R28) implies R28 = R30) by XXREAL_0:1;
assume that
L374: [ R27 , R28 ] is (Gap of R26)
and
L375: [ R27 , R30 ] is (Gap of R26);
L376: R28 in R26 by L374 , L272;
L377: R30 in R26 by L375 , L272;
per cases  by L374 , L272;
suppose L378: (R27 < R28 & (for R31 being Real holds (R31 in R26 implies (not (R27 < R31 & R31 < R28)))));

L379: (R30 <= R27 or (R27 < R30 & R30 < R28) or R28 <= R30);
thus L380: thesis by L379 , L373 , L375 , L376 , L377 , L378 , L272;
end;
suppose L381: (R28 < R27 & (for R31 being Real holds (R31 in R26 implies (not (R27 < R31 or R31 < R28)))));

L382: (R30 < R28 or (R28 <= R30 & R30 <= R27) or R27 < R30);
thus L383: thesis by L382 , L373 , L375 , L376 , L377 , L381 , L272;
end;
end;
theorem
L385: (for R26 being non  trivial  finite (Subset of ( REAL )) holds (for R27 being Real holds (for R28 being Real holds (for R29 being Real holds (([ R27 , R28 ] is (Gap of R26) & [ R29 , R28 ] is (Gap of R26)) implies R27 = R29)))))
proof
let R26 being non  trivial  finite (Subset of ( REAL ));
let R27 being Real;
let R28 being Real;
let R29 being Real;
L386: ((R27 <= R29 & R29 <= R27) implies R27 = R29) by XXREAL_0:1;
assume that
L387: [ R27 , R28 ] is (Gap of R26)
and
L388: [ R29 , R28 ] is (Gap of R26);
L389: R27 in R26 by L387 , L272;
L390: R29 in R26 by L388 , L272;
per cases  by L387 , L272;
suppose L391: (R27 < R28 & (for R31 being Real holds (R31 in R26 implies (not (R27 < R31 & R31 < R28)))));

L392: (R29 <= R27 or (R27 < R29 & R29 < R28) or R28 <= R29);
thus L393: thesis by L392 , L386 , L388 , L389 , L390 , L391 , L272;
end;
suppose L394: (R28 < R27 & (for R31 being Real holds (R31 in R26 implies (not (R27 < R31 or R31 < R28)))));

L395: (R29 < R28 or (R28 <= R29 & R29 <= R27) or R27 < R29);
thus L396: thesis by L395 , L386 , L388 , L389 , L390 , L394 , L272;
end;
end;
theorem
L398: (for R26 being non  trivial  finite (Subset of ( REAL )) holds (for R27 being Real holds (for R28 being Real holds (for R29 being Real holds (for R30 being Real holds ((R28 < R27 & [ R27 , R28 ] is (Gap of R26) & R30 < R29 & [ R29 , R30 ] is (Gap of R26)) implies (R27 = R29 & R28 = R30)))))))
proof
let R26 being non  trivial  finite (Subset of ( REAL ));
let R27 being Real;
let R28 being Real;
let R29 being Real;
let R30 being Real;
assume that
L399: R28 < R27
and
L400: [ R27 , R28 ] is (Gap of R26)
and
L401: R30 < R29
and
L402: [ R29 , R30 ] is (Gap of R26);
L403: R27 in R26 by L400 , L272;
L404: R28 in R26 by L400 , L272;
L405: R29 in R26 by L402 , L272;
L406: R30 in R26 by L402 , L272;
thus L407:now
assume L408: R27 <> R29;
L409: (R27 < R29 or R29 < R27) by L408 , XXREAL_0:1;
thus L410: contradiction by L409 , L399 , L400 , L401 , L402 , L403 , L405 , L272;
end;
thus L411:now
assume L412: R28 <> R30;
L413: (R28 < R30 or R30 < R28) by L412 , XXREAL_0:1;
thus L414: contradiction by L413 , L399 , L400 , L401 , L402 , L404 , L406 , L272;
end;
end;
definition
let R10 being non  zero (Element of ( NAT ));
let R14 being (Element of ( REAL R10 ));
let R15 being (Element of ( REAL R10 ));
func cell (R14 , R15) -> non  empty (Subset of ( REAL R10 )) equals 
{ R20 where R20 is (Element of ( REAL R10 )) : ((for R11 being (Element of ( Seg R10 )) holds (( R14 . R11 ) <= ( R20 . R11 ) & ( R20 . R11 ) <= ( R15 . R11 ))) or (ex R11 being (Element of ( Seg R10 )) st (( R15 . R11 ) < ( R14 . R11 ) & (( R20 . R11 ) <= ( R15 . R11 ) or ( R14 . R11 ) <= ( R20 . R11 ))))) };
coherence
proof
defpred S9[ (Element of ( REAL R10 )) ] means ((for R11 being (Element of ( Seg R10 )) holds (( R14 . R11 ) <= ( $1 . R11 ) & ( $1 . R11 ) <= ( R15 . R11 ))) or (ex R11 being (Element of ( Seg R10 )) st (( R15 . R11 ) < ( R14 . R11 ) & (( $1 . R11 ) <= ( R15 . R11 ) or ( R14 . R11 ) <= ( $1 . R11 )))));
set D24 = { R20 where R20 is (Element of ( REAL R10 )) : S9[ R20 ] };
L412: S9[ R14 ];
L413: R14 in D24 by L412;
L414: D24 c= ( REAL R10 ) from FRAENKEL:sch 10;
thus L415: thesis by L414 , L413;
end;
end;
theorem
L417: (for R10 being non  zero (Element of ( NAT )) holds (for R14 being (Element of ( REAL R10 )) holds (for R15 being (Element of ( REAL R10 )) holds (for R20 being (Element of ( REAL R10 )) holds (R20 in ( cell (R14 , R15) ) iff ((for R11 being (Element of ( Seg R10 )) holds (( R14 . R11 ) <= ( R20 . R11 ) & ( R20 . R11 ) <= ( R15 . R11 ))) or (ex R11 being (Element of ( Seg R10 )) st (( R15 . R11 ) < ( R14 . R11 ) & (( R20 . R11 ) <= ( R15 . R11 ) or ( R14 . R11 ) <= ( R20 . R11 ))))))))))
proof
let R10 being non  zero (Element of ( NAT ));
let R14 being (Element of ( REAL R10 ));
let R15 being (Element of ( REAL R10 ));
let R20 being (Element of ( REAL R10 ));
defpred S10[ (Element of ( REAL R10 )) ] means ((for R11 being (Element of ( Seg R10 )) holds (( R14 . R11 ) <= ( $1 . R11 ) & ( $1 . R11 ) <= ( R15 . R11 ))) or (ex R11 being (Element of ( Seg R10 )) st (( R15 . R11 ) < ( R14 . R11 ) & (( $1 . R11 ) <= ( R15 . R11 ) or ( R14 . R11 ) <= ( $1 . R11 )))));
L418: ( cell (R14 , R15) ) = { R21 where R21 is (Element of ( REAL R10 )) : S10[ R21 ] };
thus L419: (R20 in ( cell (R14 , R15) ) iff S10[ R20 ]) from LMOD_7:sch 7(L418);
end;
theorem
L420: (for R10 being non  zero (Element of ( NAT )) holds (for R14 being (Element of ( REAL R10 )) holds (for R15 being (Element of ( REAL R10 )) holds (for R20 being (Element of ( REAL R10 )) holds ((for R11 being (Element of ( Seg R10 )) holds ( R14 . R11 ) <= ( R15 . R11 )) implies (R20 in ( cell (R14 , R15) ) iff (for R11 being (Element of ( Seg R10 )) holds (( R14 . R11 ) <= ( R20 . R11 ) & ( R20 . R11 ) <= ( R15 . R11 )))))))))
proof
let R10 being non  zero (Element of ( NAT ));
let R14 being (Element of ( REAL R10 ));
let R15 being (Element of ( REAL R10 ));
let R20 being (Element of ( REAL R10 ));
assume L421: (for R11 being (Element of ( Seg R10 )) holds ( R14 . R11 ) <= ( R15 . R11 ));
thus L422:now
assume L423: R20 in ( cell (R14 , R15) );
L424: ((for R11 being (Element of ( Seg R10 )) holds (( R14 . R11 ) <= ( R20 . R11 ) & ( R20 . R11 ) <= ( R15 . R11 ))) or (ex R11 being (Element of ( Seg R10 )) st (( R15 . R11 ) < ( R14 . R11 ) & (( R20 . R11 ) <= ( R15 . R11 ) or ( R14 . R11 ) <= ( R20 . R11 ))))) by L423 , L417;
thus L425: (for R11 being (Element of ( Seg R10 )) holds (( R14 . R11 ) <= ( R20 . R11 ) & ( R20 . R11 ) <= ( R15 . R11 ))) by L424 , L421;
end;
thus L426: thesis;
end;
theorem
L427: (for R10 being non  zero (Element of ( NAT )) holds (for R14 being (Element of ( REAL R10 )) holds (for R15 being (Element of ( REAL R10 )) holds (for R20 being (Element of ( REAL R10 )) holds ((ex R11 being (Element of ( Seg R10 )) st ( R15 . R11 ) < ( R14 . R11 )) implies (R20 in ( cell (R14 , R15) ) iff (ex R11 being (Element of ( Seg R10 )) st (( R15 . R11 ) < ( R14 . R11 ) & (( R20 . R11 ) <= ( R15 . R11 ) or ( R14 . R11 ) <= ( R20 . R11 ))))))))))
proof
let R10 being non  zero (Element of ( NAT ));
let R14 being (Element of ( REAL R10 ));
let R15 being (Element of ( REAL R10 ));
let R20 being (Element of ( REAL R10 ));
given R12 being (Element of ( Seg R10 )) such that
L428: ( R15 . R12 ) < ( R14 . R12 );

L429: (( R20 . R12 ) < ( R14 . R12 ) or ( R15 . R12 ) < ( R20 . R12 )) by L428 , XXREAL_0:2;
thus L430: (R20 in ( cell (R14 , R15) ) implies (ex R11 being (Element of ( Seg R10 )) st (( R15 . R11 ) < ( R14 . R11 ) & (( R20 . R11 ) <= ( R15 . R11 ) or ( R14 . R11 ) <= ( R20 . R11 ))))) by L429 , L417;
thus L431: thesis;
end;
theorem
L432: (for R10 being non  zero (Element of ( NAT )) holds (for R14 being (Element of ( REAL R10 )) holds (for R15 being (Element of ( REAL R10 )) holds (R14 in ( cell (R14 , R15) ) & R15 in ( cell (R14 , R15) )))))
proof
let R10 being non  zero (Element of ( NAT ));
let R14 being (Element of ( REAL R10 ));
let R15 being (Element of ( REAL R10 ));
L433: ((for R11 being (Element of ( Seg R10 )) holds (( R14 . R11 ) <= ( R14 . R11 ) & ( R14 . R11 ) <= ( R15 . R11 ))) or (ex R11 being (Element of ( Seg R10 )) st (( R15 . R11 ) < ( R14 . R11 ) & (( R14 . R11 ) <= ( R15 . R11 ) or ( R14 . R11 ) <= ( R14 . R11 )))));
L434: ((for R11 being (Element of ( Seg R10 )) holds (( R14 . R11 ) <= ( R15 . R11 ) & ( R15 . R11 ) <= ( R15 . R11 ))) or (ex R11 being (Element of ( Seg R10 )) st (( R15 . R11 ) < ( R14 . R11 ) & (( R15 . R11 ) <= ( R15 . R11 ) or ( R14 . R11 ) <= ( R15 . R11 )))));
thus L435: thesis by L434 , L433;
end;
theorem
L436: (for R10 being non  zero (Element of ( NAT )) holds (for R20 being (Element of ( REAL R10 )) holds ( cell (R20 , R20) ) = { R20 }))
proof
let R10 being non  zero (Element of ( NAT ));
let R20 being (Element of ( REAL R10 ));
L437: (for B44 being set holds (B44 in ( cell (R20 , R20) ) iff B44 = R20))
proof
let C39 being set;
thus L438: (C39 in ( cell (R20 , R20) ) implies C39 = R20)
proof
assume L439: C39 in ( cell (R20 , R20) );
reconsider D25 = R20 , D26 = C39 as (Function of ( Seg R10 ) , ( REAL )) by L439 , L113;
L440:
now
let R11 being (Element of ( Seg R10 ));
L441: (for R11 being (Element of ( Seg R10 )) holds ( D25 . R11 ) <= ( D25 . R11 ));
L442: ( D25 . R11 ) <= ( D26 . R11 ) by L441 , L439 , L420;
L443: ( D26 . R11 ) <= ( D25 . R11 ) by L439 , L441 , L420;
thus L444: ( D26 . R11 ) = ( D25 . R11 ) by L443 , L442 , XXREAL_0:1;
end;
thus L445: thesis by L440 , FUNCT_2:63;
end;

thus L446: thesis by L432;
end;
thus L447: thesis by L437 , TARSKI:def 1;
end;
theorem
L448: (for R10 being non  zero (Element of ( NAT )) holds (for R14 being (Element of ( REAL R10 )) holds (for R15 being (Element of ( REAL R10 )) holds (for R16 being (Element of ( REAL R10 )) holds (for R17 being (Element of ( REAL R10 )) holds ((for R11 being (Element of ( Seg R10 )) holds ( R16 . R11 ) <= ( R17 . R11 )) implies (( cell (R14 , R15) ) c= ( cell (R16 , R17) ) iff (for R11 being (Element of ( Seg R10 )) holds (( R16 . R11 ) <= ( R14 . R11 ) & ( R14 . R11 ) <= ( R15 . R11 ) & ( R15 . R11 ) <= ( R17 . R11 ))))))))))
proof
let R10 being non  zero (Element of ( NAT ));
let R14 being (Element of ( REAL R10 ));
let R15 being (Element of ( REAL R10 ));
let R16 being (Element of ( REAL R10 ));
let R17 being (Element of ( REAL R10 ));
assume L449: (for R11 being (Element of ( Seg R10 )) holds ( R16 . R11 ) <= ( R17 . R11 ));
thus L450: (( cell (R14 , R15) ) c= ( cell (R16 , R17) ) implies (for R11 being (Element of ( Seg R10 )) holds (( R16 . R11 ) <= ( R14 . R11 ) & ( R14 . R11 ) <= ( R15 . R11 ) & ( R15 . R11 ) <= ( R17 . R11 ))))
proof
assume L451: ( cell (R14 , R15) ) c= ( cell (R16 , R17) );
let R12 being (Element of ( Seg R10 ));
per cases ;
suppose L452: ( R15 . R12 ) < ( R14 . R12 );

defpred S11[ (Element of ( Seg R10 )) , Real ] means ($2 > ( R14 . $1 ) & $2 > ( R17 . $1 ));
L453: (for R11 being (Element of ( Seg R10 )) holds (ex R31 being Real st S11[ R11 , R31 ])) by L6;
consider C40 being (Function of ( Seg R10 ) , ( REAL )) such that L454: (for R11 being (Element of ( Seg R10 )) holds S11[ R11 , ( C40 . R11 ) ]) from FUNCT_2:sch 3(L453);
reconsider D27 = C40 as (Element of ( REAL R10 )) by L113;
L455: (ex R11 being (Element of ( Seg R10 )) st (( R15 . R11 ) < ( R14 . R11 ) & (( D27 . R11 ) <= ( R15 . R11 ) or ( R14 . R11 ) <= ( D27 . R11 ))))
proof
take R12;
thus L456: thesis by L452 , L454;
end;
L457: D27 in ( cell (R14 , R15) ) by L455;
L458: (ex R11 being (Element of ( Seg R10 )) st (( D27 . R11 ) < ( R16 . R11 ) or ( R17 . R11 ) < ( D27 . R11 )))
proof
take R12;
thus L459: thesis by L454;
end;
thus L460: thesis by L458 , L449 , L451 , L457 , L420;
end;
suppose L461: ( R14 . R12 ) <= ( R15 . R12 );

L462: R14 in ( cell (R14 , R15) ) by L432;
L463: R15 in ( cell (R14 , R15) ) by L432;
thus L464: thesis by L463 , L449 , L451 , L461 , L462 , L420;
end;
end;

assume L466: (for R11 being (Element of ( Seg R10 )) holds (( R16 . R11 ) <= ( R14 . R11 ) & ( R14 . R11 ) <= ( R15 . R11 ) & ( R15 . R11 ) <= ( R17 . R11 )));
let C41 being set;
assume L467: C41 in ( cell (R14 , R15) );
reconsider D28 = C41 as (Element of ( REAL R10 )) by L467;
L468:
now
let R11 being (Element of ( Seg R10 ));
L469: ( R16 . R11 ) <= ( R14 . R11 ) by L466;
L470: ( R14 . R11 ) <= ( D28 . R11 ) by L466 , L467 , L420;
L471: ( D28 . R11 ) <= ( R15 . R11 ) by L466 , L467 , L420;
L472: ( R15 . R11 ) <= ( R17 . R11 ) by L466;
thus L473: (( R16 . R11 ) <= ( D28 . R11 ) & ( D28 . R11 ) <= ( R17 . R11 )) by L472 , L469 , L470 , L471 , XXREAL_0:2;
thus L474: ( R16 . R11 ) <= ( R17 . R11 ) by L473 , XXREAL_0:2;
end;
thus L475: thesis by L468;
end;
theorem
L476: (for R10 being non  zero (Element of ( NAT )) holds (for R14 being (Element of ( REAL R10 )) holds (for R15 being (Element of ( REAL R10 )) holds (for R16 being (Element of ( REAL R10 )) holds (for R17 being (Element of ( REAL R10 )) holds ((for R11 being (Element of ( Seg R10 )) holds ( R15 . R11 ) < ( R14 . R11 )) implies (( cell (R14 , R15) ) c= ( cell (R16 , R17) ) iff (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) <= ( R17 . R11 ) & ( R17 . R11 ) < ( R16 . R11 ) & ( R16 . R11 ) <= ( R14 . R11 ))))))))))
proof
let R10 being non  zero (Element of ( NAT ));
let R14 being (Element of ( REAL R10 ));
let R15 being (Element of ( REAL R10 ));
let R16 being (Element of ( REAL R10 ));
let R17 being (Element of ( REAL R10 ));
assume L477: (for R11 being (Element of ( Seg R10 )) holds ( R15 . R11 ) < ( R14 . R11 ));
thus L478: (( cell (R14 , R15) ) c= ( cell (R16 , R17) ) implies (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) <= ( R17 . R11 ) & ( R17 . R11 ) < ( R16 . R11 ) & ( R16 . R11 ) <= ( R14 . R11 ))))
proof
assume L479: ( cell (R14 , R15) ) c= ( cell (R16 , R17) );
L480: (for R11 being (Element of ( Seg R10 )) holds ( R17 . R11 ) < ( R16 . R11 ))
proof
let R12 being (Element of ( Seg R10 ));
assume L481: ( R16 . R12 ) <= ( R17 . R12 );
defpred S12[ (Element of ( Seg R10 )) , Real ] means (($1 = R12 implies (( R14 . $1 ) < $2 & ( R17 . $1 ) < $2)) & (( R17 . $1 ) < ( R16 . $1 ) implies (( R17 . $1 ) < $2 & $2 < ( R16 . $1 ))));
L482: (for R11 being (Element of ( Seg R10 )) holds (ex R31 being Real st S12[ R11 , R31 ]))
proof
let R11 being (Element of ( Seg R10 ));
per cases ;
suppose L483: (R11 = R12 & ( R17 . R11 ) < ( R16 . R11 ));

thus L484: thesis by L483 , L481;
end;
suppose L485: R11 <> R12;

L486: (( R17 . R11 ) < ( R16 . R11 ) implies (ex R31 being Real st (( R17 . R11 ) < R31 & R31 < ( R16 . R11 )))) by L1;
thus L487: thesis by L486 , L485;
end;
suppose L488: ( R16 . R11 ) <= ( R17 . R11 );

L489: (ex R31 being Real st (( R14 . R11 ) < R31 & ( R17 . R11 ) < R31)) by L6;
thus L490: thesis by L489 , L488;
end;
end;
consider C42 being (Function of ( Seg R10 ) , ( REAL )) such that L492: (for R11 being (Element of ( Seg R10 )) holds S12[ R11 , ( C42 . R11 ) ]) from FUNCT_2:sch 3(L482);
reconsider D29 = C42 as (Element of ( REAL R10 )) by L113;
L493: ( R15 . R12 ) < ( R14 . R12 ) by L477;
L494: (( D29 . R12 ) <= ( R15 . R12 ) or ( R14 . R12 ) <= ( D29 . R12 )) by L492;
L495: D29 in ( cell (R14 , R15) ) by L494 , L493;
per cases  by L479 , L495 , L417;
suppose L496: (for R11 being (Element of ( Seg R10 )) holds (( R16 . R11 ) <= ( D29 . R11 ) & ( D29 . R11 ) <= ( R17 . R11 )));

L497: ( D29 . R12 ) <= ( R17 . R12 ) by L496;
thus L498: contradiction by L497 , L492;
end;
suppose L499: (ex R11 being (Element of ( Seg R10 )) st (( R17 . R11 ) < ( R16 . R11 ) & (( D29 . R11 ) <= ( R17 . R11 ) or ( R16 . R11 ) <= ( D29 . R11 ))));

thus L500: contradiction by L499 , L492;
end;
end;
let R12 being (Element of ( Seg R10 ));
thus L502:now
assume L503: ( R17 . R12 ) < ( R15 . R12 );
defpred S13[ (Element of ( Seg R10 )) , Real ] means (( R17 . $1 ) < $2 & $2 < ( R16 . $1 ) & ($1 = R12 implies $2 < ( R15 . $1 )));
L504: (for R11 being (Element of ( Seg R10 )) holds (ex R31 being Real st S13[ R11 , R31 ]))
proof
let R11 being (Element of ( Seg R10 ));
per cases ;
suppose L505: (R11 = R12 & ( R16 . R11 ) <= ( R15 . R11 ));

L506: ( R17 . R11 ) < ( R16 . R11 ) by L480;
consider R31 being Real such that L507: ( R17 . R11 ) < R31 and L508: R31 < ( R16 . R11 ) by L506 , L1;
L509: R31 < ( R15 . R11 ) by L505 , L508 , XXREAL_0:2;
thus L510: thesis by L509 , L507 , L508;
end;
suppose L511: (R11 = R12 & ( R15 . R11 ) <= ( R16 . R11 ));

consider R31 being Real such that L512: ( R17 . R11 ) < R31 and L513: R31 < ( R15 . R11 ) by L511 , L503 , L1;
L514: R31 < ( R16 . R11 ) by L511 , L513 , XXREAL_0:2;
thus L515: thesis by L514 , L512 , L513;
end;
suppose L516: R11 <> R12;

L517: ( R17 . R11 ) < ( R16 . R11 ) by L480;
L518: (ex R31 being Real st (( R17 . R11 ) < R31 & R31 < ( R16 . R11 ))) by L517 , L1;
thus L519: thesis by L518 , L516;
end;
end;
consider C43 being (Function of ( Seg R10 ) , ( REAL )) such that L521: (for R11 being (Element of ( Seg R10 )) holds S13[ R11 , ( C43 . R11 ) ]) from FUNCT_2:sch 3(L504);
reconsider D30 = C43 as (Element of ( REAL R10 )) by L113;
L522: ( R15 . R12 ) < ( R14 . R12 ) by L477;
L523: (( D30 . R12 ) <= ( R15 . R12 ) or ( R14 . R12 ) <= ( D30 . R12 )) by L521;
L524: D30 in ( cell (R14 , R15) ) by L523 , L522;
L525: (not (( R16 . R12 ) <= ( D30 . R12 ) & ( D30 . R12 ) <= ( R17 . R12 ))) by L480 , XXREAL_0:2;
L526: (ex R11 being (Element of ( Seg R10 )) st (( R17 . R11 ) < ( R16 . R11 ) & (( D30 . R11 ) <= ( R17 . R11 ) or ( R16 . R11 ) <= ( D30 . R11 )))) by L525 , L479 , L524 , L417;
thus L527: contradiction by L526 , L521;
end;
thus L528: ( R17 . R12 ) < ( R16 . R12 ) by L480;
thus L529:now
assume L530: ( R16 . R12 ) > ( R14 . R12 );
defpred S14[ (Element of ( Seg R10 )) , Real ] means (( R16 . $1 ) > $2 & $2 > ( R17 . $1 ) & ($1 = R12 implies $2 > ( R14 . $1 )));
L531: (for R11 being (Element of ( Seg R10 )) holds (ex R31 being Real st S14[ R11 , R31 ]))
proof
let R11 being (Element of ( Seg R10 ));
per cases ;
suppose L532: (R11 = R12 & ( R17 . R11 ) >= ( R14 . R11 ));

L533: ( R16 . R11 ) > ( R17 . R11 ) by L480;
consider R31 being Real such that L534: ( R17 . R11 ) < R31 and L535: R31 < ( R16 . R11 ) by L533 , L1;
L536: R31 > ( R14 . R11 ) by L532 , L534 , XXREAL_0:2;
thus L537: thesis by L536 , L534 , L535;
end;
suppose L538: (R11 = R12 & ( R14 . R11 ) >= ( R17 . R11 ));

consider R31 being Real such that L539: ( R14 . R11 ) < R31 and L540: R31 < ( R16 . R11 ) by L538 , L530 , L1;
L541: R31 > ( R17 . R11 ) by L538 , L539 , XXREAL_0:2;
thus L542: thesis by L541 , L539 , L540;
end;
suppose L543: R11 <> R12;

L544: ( R16 . R11 ) > ( R17 . R11 ) by L480;
L545: (ex R31 being Real st (( R17 . R11 ) < R31 & R31 < ( R16 . R11 ))) by L544 , L1;
thus L546: thesis by L545 , L543;
end;
end;
consider C44 being (Function of ( Seg R10 ) , ( REAL )) such that L548: (for R11 being (Element of ( Seg R10 )) holds S14[ R11 , ( C44 . R11 ) ]) from FUNCT_2:sch 3(L531);
reconsider D31 = C44 as (Element of ( REAL R10 )) by L113;
L549: ( R14 . R12 ) > ( R15 . R12 ) by L477;
L550: (( D31 . R12 ) >= ( R14 . R12 ) or ( R15 . R12 ) >= ( D31 . R12 )) by L548;
L551: D31 in ( cell (R14 , R15) ) by L550 , L549;
L552: (not (( R17 . R12 ) >= ( D31 . R12 ) & ( D31 . R12 ) >= ( R16 . R12 ))) by L480 , XXREAL_0:2;
L553: (ex R11 being (Element of ( Seg R10 )) st (( R16 . R11 ) > ( R17 . R11 ) & (( D31 . R11 ) <= ( R17 . R11 ) or ( R16 . R11 ) <= ( D31 . R11 )))) by L552 , L479 , L551 , L417;
thus L554: contradiction by L553 , L548;
end;
end;

assume L530: (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) <= ( R17 . R11 ) & ( R17 . R11 ) < ( R16 . R11 ) & ( R16 . R11 ) <= ( R14 . R11 )));
let C45 being set;
assume L531: C45 in ( cell (R14 , R15) );
reconsider D32 = C45 as (Element of ( REAL R10 )) by L531;
set D33 = the (Element of ( Seg R10 ));
L532: ( R15 . D33 ) <= ( R17 . D33 ) by L530;
L533: ( R17 . D33 ) < ( R16 . D33 ) by L530;
L534: ( R15 . D33 ) < ( R16 . D33 ) by L533 , L532 , XXREAL_0:2;
L535: ( R16 . D33 ) <= ( R14 . D33 ) by L530;
L536: ( R15 . D33 ) < ( R14 . D33 ) by L535 , L534 , XXREAL_0:2;
L537: (( D32 . D33 ) < ( R14 . D33 ) or ( R15 . D33 ) < ( D32 . D33 )) by L536 , XXREAL_0:2;
consider R11 being (Element of ( Seg R10 )) such that L538: ( R15 . R11 ) < ( R14 . R11 ) and L539: (( D32 . R11 ) <= ( R15 . R11 ) or ( R14 . R11 ) <= ( D32 . R11 )) by L537 , L531 , L417;
L540: ( R15 . R11 ) <= ( R17 . R11 ) by L530;
L541: ( R16 . R11 ) <= ( R14 . R11 ) by L530;
L542: ( R17 . R11 ) < ( R16 . R11 ) by L530;
L543: (( D32 . R11 ) <= ( R17 . R11 ) or ( R16 . R11 ) <= ( D32 . R11 )) by L539 , L540 , L541 , XXREAL_0:2;
thus L544: thesis by L543 , L542;
end;
theorem
L545: (for R10 being non  zero (Element of ( NAT )) holds (for R14 being (Element of ( REAL R10 )) holds (for R15 being (Element of ( REAL R10 )) holds (for R16 being (Element of ( REAL R10 )) holds (for R17 being (Element of ( REAL R10 )) holds (((for R11 being (Element of ( Seg R10 )) holds ( R14 . R11 ) <= ( R15 . R11 )) & (for R11 being (Element of ( Seg R10 )) holds ( R17 . R11 ) < ( R16 . R11 ))) implies (( cell (R14 , R15) ) c= ( cell (R16 , R17) ) iff (ex R11 being (Element of ( Seg R10 )) st (( R15 . R11 ) <= ( R17 . R11 ) or ( R16 . R11 ) <= ( R14 . R11 ))))))))))
proof
let R10 being non  zero (Element of ( NAT ));
let R14 being (Element of ( REAL R10 ));
let R15 being (Element of ( REAL R10 ));
let R16 being (Element of ( REAL R10 ));
let R17 being (Element of ( REAL R10 ));
assume L546: (for R11 being (Element of ( Seg R10 )) holds ( R14 . R11 ) <= ( R15 . R11 ));
assume L547: (for R11 being (Element of ( Seg R10 )) holds ( R17 . R11 ) < ( R16 . R11 ));
thus L548: (( cell (R14 , R15) ) c= ( cell (R16 , R17) ) implies (ex R11 being (Element of ( Seg R10 )) st (( R15 . R11 ) <= ( R17 . R11 ) or ( R16 . R11 ) <= ( R14 . R11 ))))
proof
assume L549: ( cell (R14 , R15) ) c= ( cell (R16 , R17) );
assume L550: (for R11 being (Element of ( Seg R10 )) holds (( R17 . R11 ) < ( R15 . R11 ) & ( R14 . R11 ) < ( R16 . R11 )));
defpred S15[ (Element of ( Seg R10 )) , Real ] means (( R14 . $1 ) <= $2 & $2 <= ( R15 . $1 ) & ( R17 . $1 ) < $2 & $2 < ( R16 . $1 ));
L551: (for R11 being (Element of ( Seg R10 )) holds (ex R31 being Real st S15[ R11 , R31 ]))
proof
let R11 being (Element of ( Seg R10 ));
per cases ;
suppose L552: (( R14 . R11 ) <= ( R17 . R11 ) & ( R16 . R11 ) <= ( R15 . R11 ));

L553: ( R17 . R11 ) < ( R16 . R11 ) by L547;
consider R31 being Real such that L554: ( R17 . R11 ) < R31 and L555: R31 < ( R16 . R11 ) by L553 , L1;
take R31;
thus L556: thesis by L552 , L554 , L555 , XXREAL_0:2;
end;
suppose L557: (( R17 . R11 ) < ( R14 . R11 ) & ( R16 . R11 ) <= ( R15 . R11 ));

take ( R14 . R11 );
thus L558: thesis by L546 , L550 , L557;
end;
suppose L559: ( R15 . R11 ) < ( R16 . R11 );

take ( R15 . R11 );
thus L560: thesis by L546 , L550 , L559;
end;
end;
consider C46 being (Function of ( Seg R10 ) , ( REAL )) such that L562: (for R11 being (Element of ( Seg R10 )) holds S15[ R11 , ( C46 . R11 ) ]) from FUNCT_2:sch 3(L551);
reconsider D34 = C46 as (Element of ( REAL R10 )) by L113;
L563: D34 in ( cell (R14 , R15) ) by L562;
set D35 = the (Element of ( Seg R10 ));
L564: ( R17 . D35 ) < ( R16 . D35 ) by L547;
L565: (ex R11 being (Element of ( Seg R10 )) st (( R17 . R11 ) < ( R16 . R11 ) & (( D34 . R11 ) <= ( R17 . R11 ) or ( R16 . R11 ) <= ( D34 . R11 )))) by L564 , L549 , L563 , L427;
thus L566: contradiction by L565 , L562;
end;

given R12 being (Element of ( Seg R10 )) such that
L567: (( R15 . R12 ) <= ( R17 . R12 ) or ( R16 . R12 ) <= ( R14 . R12 ));

let C47 being set;
assume L568: C47 in ( cell (R14 , R15) );
reconsider D36 = C47 as (Element of ( REAL R10 )) by L568;
L569: ( R14 . R12 ) <= ( D36 . R12 ) by L546 , L568 , L420;
L570: ( D36 . R12 ) <= ( R15 . R12 ) by L546 , L568 , L420;
L571: (ex R11 being (Element of ( Seg R10 )) st (( R17 . R11 ) < ( R16 . R11 ) & (( D36 . R11 ) <= ( R17 . R11 ) or ( R16 . R11 ) <= ( D36 . R11 ))))
proof
take R12;
thus L572: thesis by L547 , L567 , L569 , L570 , XXREAL_0:2;
end;
thus L573: thesis by L571;
end;
theorem
L574: (for R10 being non  zero (Element of ( NAT )) holds (for R14 being (Element of ( REAL R10 )) holds (for R15 being (Element of ( REAL R10 )) holds (for R16 being (Element of ( REAL R10 )) holds (for R17 being (Element of ( REAL R10 )) holds (((for R11 being (Element of ( Seg R10 )) holds ( R14 . R11 ) <= ( R15 . R11 )) or (for R11 being (Element of ( Seg R10 )) holds ( R14 . R11 ) > ( R15 . R11 ))) implies (( cell (R14 , R15) ) = ( cell (R16 , R17) ) iff (R14 = R16 & R15 = R17))))))))
proof
let R10 being non  zero (Element of ( NAT ));
let R14 being (Element of ( REAL R10 ));
let R15 being (Element of ( REAL R10 ));
let R16 being (Element of ( REAL R10 ));
let R17 being (Element of ( REAL R10 ));
assume L575: ((for R11 being (Element of ( Seg R10 )) holds ( R14 . R11 ) <= ( R15 . R11 )) or (for R11 being (Element of ( Seg R10 )) holds ( R14 . R11 ) > ( R15 . R11 )));
thus L576: (( cell (R14 , R15) ) = ( cell (R16 , R17) ) implies (R14 = R16 & R15 = R17))
proof
assume L577: ( cell (R14 , R15) ) = ( cell (R16 , R17) );
per cases  by L575;
suppose L578: (for R11 being (Element of ( Seg R10 )) holds ( R14 . R11 ) <= ( R15 . R11 ));

L579: (for R11 being (Element of ( Seg R10 )) holds (( R14 . R11 ) <= ( R16 . R11 ) & ( R16 . R11 ) <= ( R17 . R11 ) & ( R17 . R11 ) <= ( R15 . R11 ))) by L578 , L577 , L448;
reconsider D37 = R14 , D38 = R15 , D39 = R16 , D40 = R17 as (Function of ( Seg R10 ) , ( REAL )) by L113;
L580:
now
let R11 being (Element of ( Seg R10 ));
L581: ( D37 . R11 ) <= ( D39 . R11 ) by L577 , L578 , L448;
L582: ( D39 . R11 ) <= ( D37 . R11 ) by L577 , L579 , L448;
thus L583: ( D37 . R11 ) = ( D39 . R11 ) by L582 , L581 , XXREAL_0:1;
end;
L584:
now
let R11 being (Element of ( Seg R10 ));
L585: ( D38 . R11 ) <= ( D40 . R11 ) by L577 , L579 , L448;
L586: ( D40 . R11 ) <= ( D38 . R11 ) by L577 , L578 , L448;
thus L587: ( D38 . R11 ) = ( D40 . R11 ) by L586 , L585 , XXREAL_0:1;
end;
thus L588: thesis by L584 , L580 , FUNCT_2:63;
end;
suppose L589: (for R11 being (Element of ( Seg R10 )) holds ( R14 . R11 ) > ( R15 . R11 ));

L590: (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) <= ( R17 . R11 ) & ( R17 . R11 ) < ( R16 . R11 ) & ( R16 . R11 ) <= ( R14 . R11 ))) by L589 , L577 , L476;
reconsider D41 = R14 , D42 = R15 , D43 = R16 , D44 = R17 as (Function of ( Seg R10 ) , ( REAL )) by L113;
L591:
now
let R11 being (Element of ( Seg R10 ));
L592: ( D41 . R11 ) <= ( D43 . R11 ) by L577 , L590 , L476;
L593: ( D43 . R11 ) <= ( D41 . R11 ) by L577 , L589 , L476;
thus L594: ( D41 . R11 ) = ( D43 . R11 ) by L593 , L592 , XXREAL_0:1;
end;
L595:
now
let R11 being (Element of ( Seg R10 ));
L596: ( D42 . R11 ) <= ( D44 . R11 ) by L577 , L589 , L476;
L597: ( D44 . R11 ) <= ( D42 . R11 ) by L577 , L590 , L476;
thus L598: ( D42 . R11 ) = ( D44 . R11 ) by L597 , L596 , XXREAL_0:1;
end;
thus L599: thesis by L595 , L591 , FUNCT_2:63;
end;
end;

thus L601: thesis;
end;
definition
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let R7 being (Element of ( NAT ));
assume L602: R7 <= R10;
func cells (R7 , R33) ->  finite non  empty (Subset-Family of ( REAL R10 )) equals 
:L603: { ( cell (R14 , R15) ) where R14 is (Element of ( REAL R10 )) , R15 is (Element of ( REAL R10 )) : ((ex B45 being (Subset of ( Seg R10 )) st (( card B45 ) = R7 & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B45 & ( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B45) & ( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 )))))) or (R7 = R10 & (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) < ( R14 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 )))))) };
coherence
proof
defpred S16[ (Element of ( REAL R10 )) , (Element of ( REAL R10 )) ] means ((ex B46 being (Subset of ( Seg R10 )) st (( card B46 ) = R7 & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B46 & ( $1 . R11 ) < ( $2 . R11 ) & [ ( $1 . R11 ) , ( $2 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B46) & ( $1 . R11 ) = ( $2 . R11 ) & ( $1 . R11 ) in ( R33 . R11 )))))) or (R7 = R10 & (for R11 being (Element of ( Seg R10 )) holds (( $2 . R11 ) < ( $1 . R11 ) & [ ( $1 . R11 ) , ( $2 . R11 ) ] is (Gap of ( R33 . R11 ))))));
deffunc H2((Element of ( REAL R10 )) , (Element of ( REAL R10 ))) = ( cell ($1 , $2) );
set D45 = { H2(R14 , R15) where R14 is (Element of ( REAL R10 )) , R15 is (Element of ( REAL R10 )) : S16[ R14 , R15 ] };
reconsider D46 = ( Seg R7 ) as (Subset of ( Seg R10 )) by L602 , FINSEQ_1:5;
defpred S17[ (Element of ( Seg R10 )) , (Element of [: ( REAL ) , ( REAL ) :]) ] means (($1 in D46 & (ex R27 being Real st (ex R28 being Real st ($2 = [ R27 , R28 ] & R27 < R28 & $2 is (Gap of ( R33 . $1 )))))) or ((not $1 in D46) & (ex R27 being Real st ($2 = [ R27 , R27 ] & R27 in ( R33 . $1 )))));
L604:
now
let R11 being (Element of ( Seg R10 ));
thus L605: (ex B47 being (Element of [: ( REAL ) , ( REAL ) :]) st S17[ R11 , B47 ])
proof
per cases ;
suppose L606: R11 in D46;

consider R27 being Real, R28 being Real such that L607: R27 in ( R33 . R11 ) and L608: R28 in ( R33 . R11 ) and L609: R27 < R28 and L610: (for R31 being Real holds (R31 in ( R33 . R11 ) implies (not (R27 < R31 & R31 < R28)))) by L208;
take [ R27 , R28 ];
L611: [ R27 , R28 ] is (Gap of ( R33 . R11 )) by L607 , L608 , L609 , L610 , L265;
thus L612: thesis by L611 , L606 , L609;
end;
suppose L613: (not R11 in D46);

set D47 = the (Element of ( R33 . R11 ));
reconsider D48 = D47 as Real;
reconsider D49 = [ D48 , D48 ] as (Element of [: ( REAL ) , ( REAL ) :]);
take D49;
thus L614: thesis by L613;
end;
end;

end;
consider C48 being (Function of ( Seg R10 ) , [: ( REAL ) , ( REAL ) :]) such that L606: (for R11 being (Element of ( Seg R10 )) holds S17[ R11 , ( C48 . R11 ) ]) from FUNCT_2:sch 3(L604);
deffunc H3((Element of ( Seg R10 ))) = ( ( C48 . $1 ) `1 );
consider C49 being (Function of ( Seg R10 ) , ( REAL )) such that L607: (for R11 being (Element of ( Seg R10 )) holds ( C49 . R11 ) = H3(R11)) from FUNCT_2:sch 4;
deffunc H4((Element of ( Seg R10 ))) = ( ( C48 . $1 ) `2 );
consider C50 being (Function of ( Seg R10 ) , ( REAL )) such that L608: (for R11 being (Element of ( Seg R10 )) holds ( C50 . R11 ) = H4(R11)) from FUNCT_2:sch 4;
reconsider D50 = C49 , D51 = C50 as (Element of ( REAL R10 )) by L113;
L609:
now
let R11 being (Element of ( Seg R10 ));
L610: ( D50 . R11 ) = ( ( C48 . R11 ) `1 ) by L607;
L611: ( D51 . R11 ) = ( ( C48 . R11 ) `2 ) by L608;
thus L612: ( C48 . R11 ) = [ ( D50 . R11 ) , ( D51 . R11 ) ] by L611 , L610 , MCART_1:21;
end;
L613:
now
take D52 = ( cell (D50 , D51) );
thus L614: D52 = ( cell (D50 , D51) );
L615:
now
take D53 = D46;
thus L616: ( card D53 ) = R7 by FINSEQ_1:57;
take D54 = D50;
take D55 = D51;
thus L617: D52 = ( cell (D54 , D55) );
let R11 being (Element of ( Seg R10 ));
per cases ;
suppose L618: R11 in D53;

consider R27 being Real, R28 being Real such that L619: ( C48 . R11 ) = [ R27 , R28 ] and L620: R27 < R28 and L621: ( C48 . R11 ) is (Gap of ( R33 . R11 )) by L618 , L606;
L622: ( C48 . R11 ) = [ ( D54 . R11 ) , ( D55 . R11 ) ] by L609;
L623: R27 = ( D54 . R11 ) by L622 , L619 , XTUPLE_0:1;
thus L624: ((R11 in D53 & ( D54 . R11 ) < ( D55 . R11 ) & [ ( D54 . R11 ) , ( D55 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in D53) & ( D54 . R11 ) = ( D55 . R11 ) & ( D54 . R11 ) in ( R33 . R11 ))) by L623 , L618 , L619 , L620 , L621 , L622 , XTUPLE_0:1;
end;
suppose L625: (not R11 in D53);

consider R27 being Real such that L626: ( C48 . R11 ) = [ R27 , R27 ] and L627: R27 in ( R33 . R11 ) by L625 , L606;
L628: [ R27 , R27 ] = [ ( D54 . R11 ) , ( D55 . R11 ) ] by L609 , L626;
L629: R27 = ( D54 . R11 ) by L628 , XTUPLE_0:1;
thus L630: ((R11 in D53 & ( D54 . R11 ) < ( D55 . R11 ) & [ ( D54 . R11 ) , ( D55 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in D53) & ( D54 . R11 ) = ( D55 . R11 ) & ( D54 . R11 ) in ( R33 . R11 ))) by L629 , L625 , L627 , L628 , XTUPLE_0:1;
end;
end;
thus L632: (ex R14 being (Element of ( REAL R10 )) st (ex R15 being (Element of ( REAL R10 )) st (D52 = ( cell (R14 , R15) ) & ((ex B48 being (Subset of ( Seg R10 )) st (( card B48 ) = R7 & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B48 & ( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B48) & ( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 )))))) or (R7 = R10 & (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) < ( R14 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))))))))) by L615;
end;
L633: ( cell (D50 , D51) ) in D45 by L613;
defpred S18[ set , (Element of ( REAL R10 )) , (Element of ( REAL R10 )) , set ] means ($2 in ( product R33 ) & $3 in ( product R33 ) & (($4 = [ ( 0 ) , [ $2 , $3 ] ] & $1 = ( cell ($2 , $3) )) or ($4 = [ 1 , [ $2 , $3 ] ] & $1 = ( cell ($2 , $3) ))));
defpred S19[ set , set ] means (ex R14 being (Element of ( REAL R10 )) st (ex R15 being (Element of ( REAL R10 )) st S18[ $1 , R14 , R15 , $2 ]));
L634: (for B49 being set holds (B49 in D45 implies (ex B50 being set st S19[ B49 , B50 ])))
proof
let C51 being set;
assume L635: C51 in D45;
consider R14 being (Element of ( REAL R10 )), R15 being (Element of ( REAL R10 )) such that L636: C51 = ( cell (R14 , R15) ) and L637: ((ex B51 being (Subset of ( Seg R10 )) st (( card B51 ) = R7 & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B51 & ( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B51) & ( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 )))))) or (R7 = R10 & (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) < ( R14 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 )))))) by L635;
per cases  by L637;
suppose L638: (ex B52 being (Subset of ( Seg R10 )) st (( card B52 ) = R7 & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B52 & ( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B52) & ( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 ))))));

take [ ( 0 ) , [ R14 , R15 ] ];
take R14;
take R15;
L639:
now
let R11 being (Element of ( Seg R10 ));
L640: ((( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or (( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 ))) by L638;
thus L641: (( R14 . R11 ) in ( R33 . R11 ) & ( R15 . R11 ) in ( R33 . R11 )) by L640 , L272;
end;
thus L642: (R14 in ( product R33 ) & R15 in ( product R33 )) by L639 , L146;
thus L643: thesis by L636;
end;
suppose L644: (R7 = R10 & (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) < ( R14 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 )))));

take [ 1 , [ R14 , R15 ] ];
take R14;
take R15;
L645:
now
let R11 being (Element of ( Seg R10 ));
L646: [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 )) by L644;
thus L647: (( R14 . R11 ) in ( R33 . R11 ) & ( R15 . R11 ) in ( R33 . R11 )) by L646 , L272;
end;
thus L648: (R14 in ( product R33 ) & R15 in ( product R33 )) by L645 , L146;
thus L649: thesis by L636;
end;
end;
consider C52 being Function such that L651: (( dom C52 ) = D45 & (for B53 being set holds (B53 in D45 implies S19[ B53 , ( C52 . B53 ) ]))) from CLASSES1:sch 1(L634);
L652: C52 is  one-to-one
proof
let C53 , C54 being set;
assume that
L653: C53 in ( dom C52 )
and
L654: C54 in ( dom C52 )
and
L655: ( C52 . C53 ) = ( C52 . C54 );
consider R14 being (Element of ( REAL R10 )), R15 being (Element of ( REAL R10 )) such that L656: S18[ C53 , R14 , R15 , ( C52 . C53 ) ] by L651 , L653;
consider R16 being (Element of ( REAL R10 )), R17 being (Element of ( REAL R10 )) such that L657: S18[ C54 , R16 , R17 , ( C52 . C54 ) ] by L651 , L654;
per cases  by L656;
suppose L658: (( C52 . C53 ) = [ ( 0 ) , [ R14 , R15 ] ] & C53 = ( cell (R14 , R15) ));

L659: [ R14 , R15 ] = [ R16 , R17 ] by L658 , L655 , L657 , XTUPLE_0:1;
L660: R14 = R16 by L659 , XTUPLE_0:1;
thus L661: thesis by L660 , L657 , L658 , L659 , XTUPLE_0:1;
end;
suppose L662: (( C52 . C53 ) = [ 1 , [ R14 , R15 ] ] & C53 = ( cell (R14 , R15) ));

L663: [ R14 , R15 ] = [ R16 , R17 ] by L662 , L655 , L657 , XTUPLE_0:1;
L664: R14 = R16 by L663 , XTUPLE_0:1;
thus L665: thesis by L664 , L657 , L662 , L663 , XTUPLE_0:1;
end;
end;
reconsider D56 = ( product R33 ) as  finite set;
L667: ( rng C52 ) c= [: { ( 0 ) , 1 } , [: D56 , D56 :] :]
proof
let C55 being set;
assume L668: C55 in ( rng C52 );
consider C56 being set such that L669: C56 in ( dom C52 ) and L670: C55 = ( C52 . C56 ) by L668 , FUNCT_1:def 3;
consider R14 being (Element of ( REAL R10 )), R15 being (Element of ( REAL R10 )) such that L671: S18[ C56 , R14 , R15 , ( C52 . C56 ) ] by L651 , L669;
L672: ( 0 ) in { ( 0 ) , 1 } by TARSKI:def 2;
L673: 1 in { ( 0 ) , 1 } by TARSKI:def 2;
L674: [ R14 , R15 ] in [: D56 , D56 :] by L671 , ZFMISC_1:87;
thus L675: thesis by L674 , L670 , L671 , L672 , L673 , ZFMISC_1:87;
end;
L676: D45 c= ( bool ( REAL R10 ) ) from FrSet12;
thus L677: thesis by L676 , L633 , L651 , L652 , L667 , CARD_1:59;
end;
end;
theorem
L679: (for R7 being (Element of ( NAT )) holds (for R10 being non  zero (Element of ( NAT )) holds (for R33 being (Grating of R10) holds (R7 <= R10 implies (for B54 being (Subset of ( REAL R10 )) holds (B54 in ( cells (R7 , R33) ) iff (ex R14 being (Element of ( REAL R10 )) st (ex R15 being (Element of ( REAL R10 )) st (B54 = ( cell (R14 , R15) ) & ((ex B55 being (Subset of ( Seg R10 )) st (( card B55 ) = R7 & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B55 & ( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B55) & ( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 )))))) or (R7 = R10 & (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) < ( R14 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 )))))))))))))))
proof
let R7 being (Element of ( NAT ));
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
assume L680: R7 <= R10;
L681: ( cells (R7 , R33) ) = { ( cell (R14 , R15) ) where R14 is (Element of ( REAL R10 )) , R15 is (Element of ( REAL R10 )) : ((ex B56 being (Subset of ( Seg R10 )) st (( card B56 ) = R7 & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B56 & ( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B56) & ( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 )))))) or (R7 = R10 & (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) < ( R14 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 )))))) } by L680 , L603;
thus L682: thesis by L681;
end;
theorem
L683: (for R7 being (Element of ( NAT )) holds (for R10 being non  zero (Element of ( NAT )) holds (for R14 being (Element of ( REAL R10 )) holds (for R15 being (Element of ( REAL R10 )) holds (for R33 being (Grating of R10) holds (R7 <= R10 implies (( cell (R14 , R15) ) in ( cells (R7 , R33) ) iff ((ex B57 being (Subset of ( Seg R10 )) st (( card B57 ) = R7 & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B57 & ( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B57) & ( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 )))))) or (R7 = R10 & (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) < ( R14 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 )))))))))))))
proof
let R7 being (Element of ( NAT ));
let R10 being non  zero (Element of ( NAT ));
let R14 being (Element of ( REAL R10 ));
let R15 being (Element of ( REAL R10 ));
let R33 being (Grating of R10);
assume L684: R7 <= R10;
thus L685:now
assume L686: ( cell (R14 , R15) ) in ( cells (R7 , R33) );
consider R16 being (Element of ( REAL R10 )), R17 being (Element of ( REAL R10 )) such that L687: ( cell (R14 , R15) ) = ( cell (R16 , R17) ) and L688: ((ex B58 being (Subset of ( Seg R10 )) st (( card B58 ) = R7 & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B58 & ( R16 . R11 ) < ( R17 . R11 ) & [ ( R16 . R11 ) , ( R17 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B58) & ( R16 . R11 ) = ( R17 . R11 ) & ( R16 . R11 ) in ( R33 . R11 )))))) or (R7 = R10 & (for R11 being (Element of ( Seg R10 )) holds (( R17 . R11 ) < ( R16 . R11 ) & [ ( R16 . R11 ) , ( R17 . R11 ) ] is (Gap of ( R33 . R11 )))))) by L686 , L684 , L679;
L689: (R14 = R16 & R15 = R17)
proof
per cases  by L688;
suppose L690: (ex B59 being (Subset of ( Seg R10 )) st (( card B59 ) = R7 & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B59 & ( R16 . R11 ) < ( R17 . R11 ) & [ ( R16 . R11 ) , ( R17 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B59) & ( R16 . R11 ) = ( R17 . R11 ) & ( R16 . R11 ) in ( R33 . R11 ))))));

L691: (for R11 being (Element of ( Seg R10 )) holds ( R16 . R11 ) <= ( R17 . R11 )) by L690;
thus L692: thesis by L691 , L687 , L574;
end;
suppose L693: (for R11 being (Element of ( Seg R10 )) holds (( R17 . R11 ) < ( R16 . R11 ) & [ ( R16 . R11 ) , ( R17 . R11 ) ] is (Gap of ( R33 . R11 ))));

thus L694: thesis by L693 , L687 , L574;
end;
end;
thus L696: ((ex B60 being (Subset of ( Seg R10 )) st (( card B60 ) = R7 & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B60 & ( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B60) & ( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 )))))) or (R7 = R10 & (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) < ( R14 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 )))))) by L689 , L688;
end;
thus L697: thesis by L684 , L679;
end;
theorem
L698: (for R7 being (Element of ( NAT )) holds (for R10 being non  zero (Element of ( NAT )) holds (for R14 being (Element of ( REAL R10 )) holds (for R15 being (Element of ( REAL R10 )) holds (for R33 being (Grating of R10) holds ((R7 <= R10 & ( cell (R14 , R15) ) in ( cells (R7 , R33) )) implies ((for R11 being (Element of ( Seg R10 )) holds ((( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or (( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 )))) or (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) < ( R14 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 )))))))))))
proof
let R7 being (Element of ( NAT ));
let R10 being non  zero (Element of ( NAT ));
let R14 being (Element of ( REAL R10 ));
let R15 being (Element of ( REAL R10 ));
let R33 being (Grating of R10);
assume that
L699: R7 <= R10
and
L700: ( cell (R14 , R15) ) in ( cells (R7 , R33) );
per cases  by L699 , L700 , L683;
suppose L701: (ex B61 being (Subset of ( Seg R10 )) st (( card B61 ) = R7 & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B61 & ( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B61) & ( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 ))))));

thus L702: thesis by L701;
end;
suppose L703: (R7 = R10 & (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) < ( R14 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 )))));

thus L704: thesis by L703;
end;
end;
theorem
L706: (for R7 being (Element of ( NAT )) holds (for R10 being non  zero (Element of ( NAT )) holds (for R14 being (Element of ( REAL R10 )) holds (for R15 being (Element of ( REAL R10 )) holds (for R33 being (Grating of R10) holds ((R7 <= R10 & ( cell (R14 , R15) ) in ( cells (R7 , R33) )) implies (for R11 being (Element of ( Seg R10 )) holds (( R14 . R11 ) in ( R33 . R11 ) & ( R15 . R11 ) in ( R33 . R11 )))))))))
proof
let R7 being (Element of ( NAT ));
let R10 being non  zero (Element of ( NAT ));
let R14 being (Element of ( REAL R10 ));
let R15 being (Element of ( REAL R10 ));
let R33 being (Grating of R10);
assume that
L707: R7 <= R10
and
L708: ( cell (R14 , R15) ) in ( cells (R7 , R33) );
let R11 being (Element of ( Seg R10 ));
L709: ((( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or (( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 )) or (( R15 . R11 ) < ( R14 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 )))) by L707 , L708 , L698;
thus L710: thesis by L709 , L272;
end;
theorem
L711: (for R7 being (Element of ( NAT )) holds (for R10 being non  zero (Element of ( NAT )) holds (for R14 being (Element of ( REAL R10 )) holds (for R15 being (Element of ( REAL R10 )) holds (for R33 being (Grating of R10) holds ((R7 <= R10 & ( cell (R14 , R15) ) in ( cells (R7 , R33) )) implies ((for R11 being (Element of ( Seg R10 )) holds ( R14 . R11 ) <= ( R15 . R11 )) or (for R11 being (Element of ( Seg R10 )) holds ( R15 . R11 ) < ( R14 . R11 ))))))))) by L698;
theorem
L712: (for R10 being non  zero (Element of ( NAT )) holds (for R33 being (Grating of R10) holds (for B62 being (Subset of ( REAL R10 )) holds (B62 in ( cells (( 0 ) , R33) ) iff (ex R20 being (Element of ( REAL R10 )) st (B62 = ( cell (R20 , R20) ) & (for R11 being (Element of ( Seg R10 )) holds ( R20 . R11 ) in ( R33 . R11 ))))))))
proof
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let C57 being (Subset of ( REAL R10 ));
thus L713:now
assume L714: C57 in ( cells (( 0 ) , R33) );
consider R14 being (Element of ( REAL R10 )), R15 being (Element of ( REAL R10 )) such that L715: C57 = ( cell (R14 , R15) ) and L716: ((ex B63 being (Subset of ( Seg R10 )) st (( card B63 ) = ( 0 ) & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B63 & ( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B63) & ( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 )))))) or (( 0 ) = R10 & (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) < ( R14 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 )))))) by L714 , L679;
consider C58 being (Subset of ( Seg R10 )) such that L717: ( card C58 ) = ( 0 ) and L718: (for R11 being (Element of ( Seg R10 )) holds ((R11 in C58 & ( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in C58) & ( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 )))) by L716;
reconsider D57 = R14 , D58 = R15 as (Function of ( Seg R10 ) , ( REAL )) by L113;
L719: C58 = ( {} ) by L717;
L720: (for R11 being (Element of ( Seg R10 )) holds (( D57 . R11 ) = ( D58 . R11 ) & ( R14 . R11 ) in ( R33 . R11 ))) by L719 , L718;
L721: D57 = D58 by L720 , FUNCT_2:63;
thus L722: (ex R20 being (Element of ( REAL R10 )) st (C57 = ( cell (R20 , R20) ) & (for R11 being (Element of ( Seg R10 )) holds ( R20 . R11 ) in ( R33 . R11 )))) by L721 , L715 , L720;
end;
given R20 being (Element of ( REAL R10 )) such that
L723: C57 = ( cell (R20 , R20) )
and
L724: (for R11 being (Element of ( Seg R10 )) holds ( R20 . R11 ) in ( R33 . R11 ));

L725: (ex B64 being (Subset of ( Seg R10 )) st (( card B64 ) = ( 0 ) & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B64 & ( R20 . R11 ) < ( R20 . R11 ) & [ ( R20 . R11 ) , ( R20 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B64) & ( R20 . R11 ) = ( R20 . R11 ) & ( R20 . R11 ) in ( R33 . R11 ))))))
proof
reconsider D59 = ( {} ) as (Subset of ( Seg R10 )) by XBOOLE_1:2;
take D59;
thus L726: thesis by L724;
end;
thus L727: thesis by L725 , L723 , L679;
end;
theorem
L728: (for R10 being non  zero (Element of ( NAT )) holds (for R14 being (Element of ( REAL R10 )) holds (for R15 being (Element of ( REAL R10 )) holds (for R33 being (Grating of R10) holds (( cell (R14 , R15) ) in ( cells (( 0 ) , R33) ) iff (R14 = R15 & (for R11 being (Element of ( Seg R10 )) holds ( R14 . R11 ) in ( R33 . R11 ))))))))
proof
let R10 being non  zero (Element of ( NAT ));
let R14 being (Element of ( REAL R10 ));
let R15 being (Element of ( REAL R10 ));
let R33 being (Grating of R10);
thus L729:now
assume L730: ( cell (R14 , R15) ) in ( cells (( 0 ) , R33) );
consider R20 being (Element of ( REAL R10 )) such that L731: ( cell (R14 , R15) ) = ( cell (R20 , R20) ) and L732: (for R11 being (Element of ( Seg R10 )) holds ( R20 . R11 ) in ( R33 . R11 )) by L730 , L712;
L733: (for R11 being (Element of ( Seg R10 )) holds ( R20 . R11 ) <= ( R20 . R11 ));
L734: R14 = R20 by L733 , L731 , L574;
thus L735: (R14 = R15 & (for R11 being (Element of ( Seg R10 )) holds ( R14 . R11 ) in ( R33 . R11 ))) by L734 , L731 , L732 , L733 , L574;
end;
thus L736: thesis by L712;
end;
theorem
L737: (for R10 being non  zero (Element of ( NAT )) holds (for R33 being (Grating of R10) holds (for B65 being (Subset of ( REAL R10 )) holds (B65 in ( cells (R10 , R33) ) iff (ex R14 being (Element of ( REAL R10 )) st (ex R15 being (Element of ( REAL R10 )) st (B65 = ( cell (R14 , R15) ) & (for R11 being (Element of ( Seg R10 )) holds [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) & ((for R11 being (Element of ( Seg R10 )) holds ( R14 . R11 ) < ( R15 . R11 )) or (for R11 being (Element of ( Seg R10 )) holds ( R15 . R11 ) < ( R14 . R11 ))))))))))
proof
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let C59 being (Subset of ( REAL R10 ));
thus L738:now
assume L739: C59 in ( cells (R10 , R33) );
consider R14 being (Element of ( REAL R10 )), R15 being (Element of ( REAL R10 )) such that L740: C59 = ( cell (R14 , R15) ) and L741: ((ex B66 being (Subset of ( Seg R10 )) st (( card B66 ) = R10 & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B66 & ( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B66) & ( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 )))))) or (R10 = R10 & (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) < ( R14 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 )))))) by L739 , L679;
thus L742: (ex R14 being (Element of ( REAL R10 )) st (ex R15 being (Element of ( REAL R10 )) st (C59 = ( cell (R14 , R15) ) & (for R11 being (Element of ( Seg R10 )) holds [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) & ((for R11 being (Element of ( Seg R10 )) holds ( R14 . R11 ) < ( R15 . R11 )) or (for R11 being (Element of ( Seg R10 )) holds ( R15 . R11 ) < ( R14 . R11 ))))))
proof
take R14;
take R15;
per cases  by L741;
suppose L743: (ex B67 being (Subset of ( Seg R10 )) st (( card B67 ) = R10 & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B67 & ( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B67) & ( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 ))))));

consider C60 being (Subset of ( Seg R10 )) such that L744: ( card C60 ) = R10 and L745: (for R11 being (Element of ( Seg R10 )) holds ((R11 in C60 & ( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in C60) & ( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 )))) by L743;
L746: ( card C60 ) = ( card ( Seg R10 ) ) by L744 , FINSEQ_1:57;
L747: (not C60 c< ( Seg R10 )) by L746 , CARD_2:48;
L748: C60 = ( Seg R10 ) by L747 , XBOOLE_0:def 8;
thus L749: thesis by L748 , L740 , L745;
end;
suppose L750: (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) < ( R14 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))));

thus L751: thesis by L750 , L740;
end;
end;

end;
given R14 being (Element of ( REAL R10 )) , R15 being (Element of ( REAL R10 )) such that
L743: C59 = ( cell (R14 , R15) )
and
L744: (for R11 being (Element of ( Seg R10 )) holds [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 )))
and
L745: ((for R11 being (Element of ( Seg R10 )) holds ( R14 . R11 ) < ( R15 . R11 )) or (for R11 being (Element of ( Seg R10 )) holds ( R15 . R11 ) < ( R14 . R11 )));

per cases  by L745;
suppose L746: (for R11 being (Element of ( Seg R10 )) holds ( R14 . R11 ) < ( R15 . R11 ));

L747: (ex B68 being (Subset of ( Seg R10 )) st (( card B68 ) = R10 & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B68 & ( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B68) & ( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 ))))))
proof
L748: ( Seg R10 ) c= ( Seg R10 );
reconsider D60 = ( Seg R10 ) as (Subset of ( Seg R10 )) by L748;
take D60;
thus L749: ( card D60 ) = R10 by FINSEQ_1:57;
thus L750: thesis by L744 , L746;
end;
thus L751: thesis by L747 , L743 , L679;
end;
suppose L752: (for R11 being (Element of ( Seg R10 )) holds ( R15 . R11 ) < ( R14 . R11 ));

thus L753: thesis by L752 , L743 , L744 , L679;
end;
end;
theorem
L755: (for R10 being non  zero (Element of ( NAT )) holds (for R14 being (Element of ( REAL R10 )) holds (for R15 being (Element of ( REAL R10 )) holds (for R33 being (Grating of R10) holds (( cell (R14 , R15) ) in ( cells (R10 , R33) ) iff ((for R11 being (Element of ( Seg R10 )) holds [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) & ((for R11 being (Element of ( Seg R10 )) holds ( R14 . R11 ) < ( R15 . R11 )) or (for R11 being (Element of ( Seg R10 )) holds ( R15 . R11 ) < ( R14 . R11 )))))))))
proof
let R10 being non  zero (Element of ( NAT ));
let R14 being (Element of ( REAL R10 ));
let R15 being (Element of ( REAL R10 ));
let R33 being (Grating of R10);
thus L756:now
assume L757: ( cell (R14 , R15) ) in ( cells (R10 , R33) );
consider R16 being (Element of ( REAL R10 )), R17 being (Element of ( REAL R10 )) such that L758: ( cell (R14 , R15) ) = ( cell (R16 , R17) ) and L759: (for R11 being (Element of ( Seg R10 )) holds [ ( R16 . R11 ) , ( R17 . R11 ) ] is (Gap of ( R33 . R11 ))) and L760: ((for R11 being (Element of ( Seg R10 )) holds ( R16 . R11 ) < ( R17 . R11 )) or (for R11 being (Element of ( Seg R10 )) holds ( R17 . R11 ) < ( R16 . R11 ))) by L757 , L737;
L761: ((for R11 being (Element of ( Seg R10 )) holds ( R16 . R11 ) <= ( R17 . R11 )) or (for R11 being (Element of ( Seg R10 )) holds ( R17 . R11 ) < ( R16 . R11 ))) by L760;
L762: R14 = R16 by L761 , L758 , L574;
L763: R15 = R17 by L758 , L761 , L574;
thus L764: ((for R11 being (Element of ( Seg R10 )) holds [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) & ((for R11 being (Element of ( Seg R10 )) holds ( R14 . R11 ) < ( R15 . R11 )) or (for R11 being (Element of ( Seg R10 )) holds ( R15 . R11 ) < ( R14 . R11 )))) by L763 , L759 , L760 , L762;
end;
thus L765: thesis by L737;
end;
theorem
L766: (for R9 being (Element of ( NAT )) holds (for R10 being non  zero (Element of ( NAT )) holds (for R33 being (Grating of R10) holds (R10 = ( R9 + 1 ) implies (for B69 being (Subset of ( REAL R10 )) holds (B69 in ( cells (R9 , R33) ) iff (ex R14 being (Element of ( REAL R10 )) st (ex R15 being (Element of ( REAL R10 )) st (ex R12 being (Element of ( Seg R10 )) st (B69 = ( cell (R14 , R15) ) & ( R14 . R12 ) = ( R15 . R12 ) & ( R14 . R12 ) in ( R33 . R12 ) & (for R11 being (Element of ( Seg R10 )) holds (R11 <> R12 implies (( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 )))))))))))))))
proof
let R9 being (Element of ( NAT ));
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
assume L767: R10 = ( R9 + 1 );
L768: R9 < R10 by L767 , NAT_1:13;
let C61 being (Subset of ( REAL R10 ));
thus L769:now
assume L770: C61 in ( cells (R9 , R33) );
consider R14 being (Element of ( REAL R10 )), R15 being (Element of ( REAL R10 )) such that L771: C61 = ( cell (R14 , R15) ) and L772: ((ex B70 being (Subset of ( Seg R10 )) st (( card B70 ) = R9 & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B70 & ( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B70) & ( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 )))))) or (R9 = R10 & (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) < ( R14 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 )))))) by L770 , L768 , L679;
take D61 = R14;
take D62 = R15;
consider C62 being (Subset of ( Seg R10 )) such that L773: ( card C62 ) = R9 and L774: (for R11 being (Element of ( Seg R10 )) holds ((R11 in C62 & ( D61 . R11 ) < ( D62 . R11 ) & [ ( D61 . R11 ) , ( D62 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in C62) & ( D61 . R11 ) = ( D62 . R11 ) & ( D61 . R11 ) in ( R33 . R11 )))) by L767 , L772;
L775: ( card ( ( Seg R10 ) \ C62 ) ) = ( ( card ( Seg R10 ) ) - ( card C62 ) ) by CARD_2:44
.= ( R10 - R9 ) by L773 , FINSEQ_1:57
.= 1 by L767;
consider C63 being set such that L776: ( ( Seg R10 ) \ C62 ) = { C63 } by L775 , CARD_2:42;
L777: C63 in ( ( Seg R10 ) \ C62 ) by L776 , TARSKI:def 1;
reconsider D63 = C63 as (Element of ( Seg R10 )) by L777 , XBOOLE_0:def 5;
take D64 = D63;
L778:
now
let R11 being (Element of ( Seg R10 ));
L779: (R11 in ( ( Seg R10 ) \ C62 ) iff R11 = D64) by L776 , TARSKI:def 1;
thus L780: (R11 in C62 iff R11 <> D64) by L779 , XBOOLE_0:def 5;
end;
thus L781: C61 = ( cell (D61 , D62) ) by L771;
L782: (not D64 in C62) by L778;
thus L783: (( D61 . D64 ) = ( D62 . D64 ) & ( D61 . D64 ) in ( R33 . D64 )) by L782 , L774;
let R11 being (Element of ( Seg R10 ));
assume L784: R11 <> D64;
L785: R11 in C62 by L784 , L778;
thus L786: (( D61 . R11 ) < ( D62 . R11 ) & [ ( D61 . R11 ) , ( D62 . R11 ) ] is (Gap of ( R33 . R11 ))) by L785 , L774;
end;
given R14 being (Element of ( REAL R10 )) , R15 being (Element of ( REAL R10 )) , R12 being (Element of ( Seg R10 )) such that
L787: C61 = ( cell (R14 , R15) )
and
L788: ( R14 . R12 ) = ( R15 . R12 )
and
L789: ( R14 . R12 ) in ( R33 . R12 )
and
L790: (for R11 being (Element of ( Seg R10 )) holds (R11 <> R12 implies (( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 )))));

reconsider D65 = ( ( Seg R10 ) \ { R12 } ) as (Subset of ( Seg R10 )) by XBOOLE_1:36;
L791: (( card D65 ) = R9 & (for R11 being (Element of ( Seg R10 )) holds ((R11 in D65 & ( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in D65) & ( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 )))))
proof
thus L792: ( card D65 ) = ( ( card ( Seg R10 ) ) - ( card { R12 } ) ) by CARD_2:44
.= ( R10 - ( card { R12 } ) ) by FINSEQ_1:57
.= ( R10 - 1 ) by CARD_1:30
.= R9 by L767;
let R11 being (Element of ( Seg R10 ));
L793: (R11 in { R12 } iff R11 = R12) by TARSKI:def 1;
thus L794: thesis by L793 , L788 , L789 , L790 , XBOOLE_0:def 5;
end;
thus L795: thesis by L791 , L768 , L787 , L679;
end;
theorem
L796: (for R9 being (Element of ( NAT )) holds (for R10 being non  zero (Element of ( NAT )) holds (for R14 being (Element of ( REAL R10 )) holds (for R15 being (Element of ( REAL R10 )) holds (for R33 being (Grating of R10) holds (R10 = ( R9 + 1 ) implies (( cell (R14 , R15) ) in ( cells (R9 , R33) ) iff (ex R12 being (Element of ( Seg R10 )) st (( R14 . R12 ) = ( R15 . R12 ) & ( R14 . R12 ) in ( R33 . R12 ) & (for R11 being (Element of ( Seg R10 )) holds (R11 <> R12 implies (( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))))))))))))))
proof
let R9 being (Element of ( NAT ));
let R10 being non  zero (Element of ( NAT ));
let R14 being (Element of ( REAL R10 ));
let R15 being (Element of ( REAL R10 ));
let R33 being (Grating of R10);
assume L797: R10 = ( R9 + 1 );
thus L798:now
assume L799: ( cell (R14 , R15) ) in ( cells (R9 , R33) );
consider R16 being (Element of ( REAL R10 )), R17 being (Element of ( REAL R10 )), R12 being (Element of ( Seg R10 )) such that L800: ( cell (R14 , R15) ) = ( cell (R16 , R17) ) and L801: ( R16 . R12 ) = ( R17 . R12 ) and L802: ( R16 . R12 ) in ( R33 . R12 ) and L803: (for R11 being (Element of ( Seg R10 )) holds (R11 <> R12 implies (( R16 . R11 ) < ( R17 . R11 ) & [ ( R16 . R11 ) , ( R17 . R11 ) ] is (Gap of ( R33 . R11 ))))) by L799 , L797 , L766;
take D66 = R12;
L804:
now
let R11 being (Element of ( Seg R10 ));
L805: (R11 = D66 or R11 <> D66);
thus L806: ( R16 . R11 ) <= ( R17 . R11 ) by L805 , L801 , L803;
end;
L807: R14 = R16 by L804 , L800 , L574;
L808: R15 = R17 by L800 , L804 , L574;
thus L809: (( R14 . D66 ) = ( R15 . D66 ) & ( R14 . D66 ) in ( R33 . D66 ) & (for R11 being (Element of ( Seg R10 )) holds (R11 <> D66 implies (( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 )))))) by L808 , L801 , L802 , L803 , L807;
end;
thus L810: thesis by L797 , L766;
end;
theorem
L811: (for R10 being non  zero (Element of ( NAT )) holds (for R33 being (Grating of R10) holds (for B71 being (Subset of ( REAL R10 )) holds (B71 in ( cells (1 , R33) ) iff (ex R14 being (Element of ( REAL R10 )) st (ex R15 being (Element of ( REAL R10 )) st (ex R12 being (Element of ( Seg R10 )) st (B71 = ( cell (R14 , R15) ) & (( R14 . R12 ) < ( R15 . R12 ) or (R10 = 1 & ( R15 . R12 ) < ( R14 . R12 ))) & [ ( R14 . R12 ) , ( R15 . R12 ) ] is (Gap of ( R33 . R12 )) & (for R11 being (Element of ( Seg R10 )) holds (R11 <> R12 implies (( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 ))))))))))))
proof
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
L812: R10 >= 1 by L15;
let C64 being (Subset of ( REAL R10 ));
thus L813:now
assume L814: C64 in ( cells (1 , R33) );
consider R14 being (Element of ( REAL R10 )), R15 being (Element of ( REAL R10 )) such that L815: C64 = ( cell (R14 , R15) ) and L816: ((ex B72 being (Subset of ( Seg R10 )) st (( card B72 ) = 1 & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B72 & ( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B72) & ( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 )))))) or (1 = R10 & (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) < ( R14 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 )))))) by L814 , L812 , L679;
take D67 = R14;
take D68 = R15;
thus L817: (ex R12 being (Element of ( Seg R10 )) st (C64 = ( cell (D67 , D68) ) & (( D67 . R12 ) < ( D68 . R12 ) or (R10 = 1 & ( D68 . R12 ) < ( D67 . R12 ))) & [ ( D67 . R12 ) , ( D68 . R12 ) ] is (Gap of ( R33 . R12 )) & (for R11 being (Element of ( Seg R10 )) holds (R11 <> R12 implies (( D67 . R11 ) = ( D68 . R11 ) & ( D67 . R11 ) in ( R33 . R11 ))))))
proof
per cases  by L816;
suppose L818: (ex B73 being (Subset of ( Seg R10 )) st (( card B73 ) = 1 & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B73 & ( D67 . R11 ) < ( D68 . R11 ) & [ ( D67 . R11 ) , ( D68 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B73) & ( D67 . R11 ) = ( D68 . R11 ) & ( D67 . R11 ) in ( R33 . R11 ))))));

consider C65 being (Subset of ( Seg R10 )) such that L819: ( card C65 ) = 1 and L820: (for R11 being (Element of ( Seg R10 )) holds ((R11 in C65 & ( D67 . R11 ) < ( D68 . R11 ) & [ ( D67 . R11 ) , ( D68 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in C65) & ( D67 . R11 ) = ( D68 . R11 ) & ( D67 . R11 ) in ( R33 . R11 )))) by L818;
consider C66 being set such that L821: C65 = { C66 } by L819 , CARD_2:42;
L822: C66 in C65 by L821 , TARSKI:def 1;
reconsider D69 = C66 as (Element of ( Seg R10 )) by L822;
take D69;
thus L823: (C64 = ( cell (D67 , D68) ) & (( D67 . D69 ) < ( D68 . D69 ) or (R10 = 1 & ( D68 . D69 ) < ( D67 . D69 ))) & [ ( D67 . D69 ) , ( D68 . D69 ) ] is (Gap of ( R33 . D69 ))) by L815 , L820 , L822;
let R11 being (Element of ( Seg R10 ));
L824: ((not R11 in C65) iff R11 <> D69) by L821 , TARSKI:def 1;
thus L825: thesis by L824 , L820;
end;
suppose L826: (R10 = 1 & (for R11 being (Element of ( Seg R10 )) holds (( D68 . R11 ) < ( D67 . R11 ) & [ ( D67 . R11 ) , ( D68 . R11 ) ] is (Gap of ( R33 . R11 )))));

reconsider D70 = 1 as (Element of ( Seg R10 )) by L812 , FINSEQ_1:1;
take D70;
thus L827: (C64 = ( cell (D67 , D68) ) & (( D67 . D70 ) < ( D68 . D70 ) or (R10 = 1 & ( D68 . D70 ) < ( D67 . D70 ))) & [ ( D67 . D70 ) , ( D68 . D70 ) ] is (Gap of ( R33 . D70 ))) by L815 , L826;
let R11 being (Element of ( Seg R10 ));
L828: 1 <= R11 by FINSEQ_1:1;
L829: R11 <= R10 by FINSEQ_1:1;
thus L830: thesis by L829 , L826 , L828 , XXREAL_0:1;
end;
end;

end;
given R14 being (Element of ( REAL R10 )) , R15 being (Element of ( REAL R10 )) , R12 being (Element of ( Seg R10 )) such that
L818: C64 = ( cell (R14 , R15) )
and
L819: (( R14 . R12 ) < ( R15 . R12 ) or (R10 = 1 & ( R15 . R12 ) < ( R14 . R12 )))
and
L820: [ ( R14 . R12 ) , ( R15 . R12 ) ] is (Gap of ( R33 . R12 ))
and
L821: (for R11 being (Element of ( Seg R10 )) holds (R11 <> R12 implies (( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 ))));

set D71 = { R12 };
per cases  by L819;
suppose L822: ( R14 . R12 ) < ( R15 . R12 );

L823: ( card D71 ) = 1 by CARD_1:30;
L824:
now
let R11 being (Element of ( Seg R10 ));
L825: (R11 in D71 iff R11 = R12) by TARSKI:def 1;
thus L826: ((R11 in D71 & ( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in D71) & ( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 ))) by L825 , L820 , L821 , L822;
end;
thus L827: thesis by L824 , L812 , L818 , L823 , L679;
end;
suppose L828: (R10 = 1 & ( R15 . R12 ) < ( R14 . R12 ));

L829:
now
let R11 being (Element of ( Seg R10 ));
L830: 1 <= R11 by FINSEQ_1:1;
L831: R11 <= R10 by FINSEQ_1:1;
L832: 1 <= R12 by FINSEQ_1:1;
L833: R12 <= R10 by FINSEQ_1:1;
L834: R11 = 1 by L828 , L830 , L831 , XXREAL_0:1;
L835: R12 = 1 by L828 , L832 , L833 , XXREAL_0:1;
thus L836: (( R15 . R11 ) < ( R14 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) by L835 , L820 , L828 , L834;
end;
thus L837: thesis by L829 , L818 , L819 , L679;
end;
end;
theorem
L839: (for R10 being non  zero (Element of ( NAT )) holds (for R14 being (Element of ( REAL R10 )) holds (for R15 being (Element of ( REAL R10 )) holds (for R33 being (Grating of R10) holds (( cell (R14 , R15) ) in ( cells (1 , R33) ) iff (ex R12 being (Element of ( Seg R10 )) st ((( R14 . R12 ) < ( R15 . R12 ) or (R10 = 1 & ( R15 . R12 ) < ( R14 . R12 ))) & [ ( R14 . R12 ) , ( R15 . R12 ) ] is (Gap of ( R33 . R12 )) & (for R11 being (Element of ( Seg R10 )) holds (R11 <> R12 implies (( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 )))))))))))
proof
let R10 being non  zero (Element of ( NAT ));
let R14 being (Element of ( REAL R10 ));
let R15 being (Element of ( REAL R10 ));
let R33 being (Grating of R10);
thus L840:now
assume L841: ( cell (R14 , R15) ) in ( cells (1 , R33) );
consider R16 being (Element of ( REAL R10 )), R17 being (Element of ( REAL R10 )), R12 being (Element of ( Seg R10 )) such that L842: ( cell (R14 , R15) ) = ( cell (R16 , R17) ) and L843: (( R16 . R12 ) < ( R17 . R12 ) or (R10 = 1 & ( R17 . R12 ) < ( R16 . R12 ))) and L844: [ ( R16 . R12 ) , ( R17 . R12 ) ] is (Gap of ( R33 . R12 )) and L845: (for R11 being (Element of ( Seg R10 )) holds (R11 <> R12 implies (( R16 . R11 ) = ( R17 . R11 ) & ( R16 . R11 ) in ( R33 . R11 )))) by L841 , L811;
L846: ((for R11 being (Element of ( Seg R10 )) holds ( R16 . R11 ) <= ( R17 . R11 )) or (for R11 being (Element of ( Seg R10 )) holds ( R17 . R11 ) < ( R16 . R11 )))
proof
per cases  by L843;
suppose L847: ( R16 . R12 ) < ( R17 . R12 );

L848:
now
let R11 being (Element of ( Seg R10 ));
L849: (R11 = R12 or R11 <> R12);
thus L850: ( R16 . R11 ) <= ( R17 . R11 ) by L849 , L845 , L847;
end;
thus L851: thesis by L848;
end;
suppose L852: (R10 = 1 & ( R17 . R12 ) < ( R16 . R12 ));

L853:
now
let R11 being (Element of ( Seg R10 ));
L854: 1 <= R11 by FINSEQ_1:1;
L855: R11 <= R10 by FINSEQ_1:1;
L856: 1 <= R12 by FINSEQ_1:1;
L857: R12 <= R10 by FINSEQ_1:1;
L858: R11 = 1 by L852 , L854 , L855 , XXREAL_0:1;
L859: R12 = 1 by L852 , L856 , L857 , XXREAL_0:1;
thus L860: ( R17 . R11 ) < ( R16 . R11 ) by L859 , L852 , L858;
end;
thus L861: thesis by L853;
end;
end;
L863: R14 = R16 by L846 , L842 , L574;
L864: R15 = R17 by L842 , L846 , L574;
thus L865: (ex R12 being (Element of ( Seg R10 )) st ((( R14 . R12 ) < ( R15 . R12 ) or (R10 = 1 & ( R15 . R12 ) < ( R14 . R12 ))) & [ ( R14 . R12 ) , ( R15 . R12 ) ] is (Gap of ( R33 . R12 )) & (for R11 being (Element of ( Seg R10 )) holds (R11 <> R12 implies (( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 )))))) by L864 , L843 , L844 , L845 , L863;
end;
thus L866: thesis by L811;
end;
theorem
L867: (for R7 being (Element of ( NAT )) holds (for R8 being (Element of ( NAT )) holds (for R10 being non  zero (Element of ( NAT )) holds (for R14 being (Element of ( REAL R10 )) holds (for R15 being (Element of ( REAL R10 )) holds (for R16 being (Element of ( REAL R10 )) holds (for R17 being (Element of ( REAL R10 )) holds (for R33 being (Grating of R10) holds ((R7 <= R10 & R8 <= R10 & ( cell (R14 , R15) ) in ( cells (R7 , R33) ) & ( cell (R16 , R17) ) in ( cells (R8 , R33) ) & ( cell (R14 , R15) ) c= ( cell (R16 , R17) )) implies (for R11 being (Element of ( Seg R10 )) holds ((( R14 . R11 ) = ( R16 . R11 ) & ( R15 . R11 ) = ( R17 . R11 )) or (( R14 . R11 ) = ( R16 . R11 ) & ( R15 . R11 ) = ( R16 . R11 )) or (( R14 . R11 ) = ( R17 . R11 ) & ( R15 . R11 ) = ( R17 . R11 )) or (( R14 . R11 ) <= ( R15 . R11 ) & ( R17 . R11 ) < ( R16 . R11 ) & ( R17 . R11 ) <= ( R14 . R11 ) & ( R15 . R11 ) <= ( R16 . R11 )))))))))))))
proof
let R7 being (Element of ( NAT ));
let R8 being (Element of ( NAT ));
let R10 being non  zero (Element of ( NAT ));
let R14 being (Element of ( REAL R10 ));
let R15 being (Element of ( REAL R10 ));
let R16 being (Element of ( REAL R10 ));
let R17 being (Element of ( REAL R10 ));
let R33 being (Grating of R10);
assume that
L868: R7 <= R10
and
L869: R8 <= R10
and
L870: ( cell (R14 , R15) ) in ( cells (R7 , R33) )
and
L871: ( cell (R16 , R17) ) in ( cells (R8 , R33) );
assume L872: ( cell (R14 , R15) ) c= ( cell (R16 , R17) );
let R11 being (Element of ( Seg R10 ));
per cases  by L869 , L871 , L698;
suppose L873: (for R11 being (Element of ( Seg R10 )) holds ((( R16 . R11 ) < ( R17 . R11 ) & [ ( R16 . R11 ) , ( R17 . R11 ) ] is (Gap of ( R33 . R11 ))) or (( R16 . R11 ) = ( R17 . R11 ) & ( R16 . R11 ) in ( R33 . R11 ))));

L874: (for R11 being (Element of ( Seg R10 )) holds ( R16 . R11 ) <= ( R17 . R11 )) by L873;
L875: ( R16 . R11 ) <= ( R14 . R11 ) by L874 , L872 , L448;
L876: ( R14 . R11 ) <= ( R15 . R11 ) by L872 , L874 , L448;
L877: ( R15 . R11 ) <= ( R17 . R11 ) by L872 , L874 , L448;
L878: ( R16 . R11 ) <= ( R15 . R11 ) by L875 , L876 , XXREAL_0:2;
L879: ( R14 . R11 ) <= ( R17 . R11 ) by L876 , L877 , XXREAL_0:2;
thus L880: thesis
proof
per cases  by L873;
suppose L881: [ ( R16 . R11 ) , ( R17 . R11 ) ] is (Gap of ( R33 . R11 ));

L882:
now
assume that
L883: ( R16 . R11 ) <> ( R14 . R11 )
and
L884: ( R14 . R11 ) <> ( R17 . R11 );
L885: ( R16 . R11 ) < ( R14 . R11 ) by L875 , L883 , XXREAL_0:1;
L886: ( R14 . R11 ) < ( R17 . R11 ) by L879 , L884 , XXREAL_0:1;
L887: ( R14 . R11 ) in ( R33 . R11 ) by L868 , L870 , L706;
thus L888: contradiction by L887 , L881 , L885 , L886 , L272;
end;
L889:
now
assume that
L890: ( R16 . R11 ) <> ( R15 . R11 )
and
L891: ( R15 . R11 ) <> ( R17 . R11 );
L892: ( R16 . R11 ) < ( R15 . R11 ) by L878 , L890 , XXREAL_0:1;
L893: ( R15 . R11 ) < ( R17 . R11 ) by L877 , L891 , XXREAL_0:1;
L894: ( R15 . R11 ) in ( R33 . R11 ) by L868 , L870 , L706;
thus L895: contradiction by L894 , L881 , L892 , L893 , L272;
end;
thus L896: thesis by L889 , L876 , L882 , XXREAL_0:1;
end;
suppose L897: ( R16 . R11 ) = ( R17 . R11 );

thus L898: thesis by L897 , L875 , L877 , L878 , L879 , XXREAL_0:1;
end;
end;

end;
suppose L881: (for R11 being (Element of ( Seg R10 )) holds (( R17 . R11 ) < ( R16 . R11 ) & [ ( R16 . R11 ) , ( R17 . R11 ) ] is (Gap of ( R33 . R11 ))));

L882: ( R17 . R11 ) < ( R16 . R11 ) by L881;
L883: [ ( R16 . R11 ) , ( R17 . R11 ) ] is (Gap of ( R33 . R11 )) by L881;
thus L884: thesis
proof
per cases  by L868 , L870 , L698;
suppose L885: (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) < ( R14 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))));

L886: ( R15 . R11 ) <= ( R17 . R11 ) by L885 , L872 , L476;
L887: ( R16 . R11 ) <= ( R14 . R11 ) by L872 , L885 , L476;
L888:
now
assume L889: ( R16 . R11 ) <> ( R14 . R11 );
L890: ( R16 . R11 ) < ( R14 . R11 ) by L889 , L887 , XXREAL_0:1;
L891: ( R14 . R11 ) in ( R33 . R11 ) by L868 , L870 , L706;
thus L892: contradiction by L891 , L882 , L883 , L890 , L272;
end;
L893:
now
assume L894: ( R15 . R11 ) <> ( R17 . R11 );
L895: ( R15 . R11 ) < ( R17 . R11 ) by L894 , L886 , XXREAL_0:1;
L896: ( R15 . R11 ) in ( R33 . R11 ) by L868 , L870 , L706;
thus L897: contradiction by L896 , L882 , L883 , L895 , L272;
end;
thus L898: thesis by L893 , L888;
end;
suppose L899: (for R11 being (Element of ( Seg R10 )) holds ((( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or (( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 ))));

L900: ( R14 . R11 ) in ( R33 . R11 ) by L868 , L870 , L706;
L901: ( R15 . R11 ) in ( R33 . R11 ) by L868 , L870 , L706;
thus L902: thesis by L901 , L882 , L883 , L899 , L900 , L272;
end;
end;

end;
end;
theorem
L886: (for R7 being (Element of ( NAT )) holds (for R8 being (Element of ( NAT )) holds (for R10 being non  zero (Element of ( NAT )) holds (for R14 being (Element of ( REAL R10 )) holds (for R15 being (Element of ( REAL R10 )) holds (for R16 being (Element of ( REAL R10 )) holds (for R17 being (Element of ( REAL R10 )) holds (for R33 being (Grating of R10) holds ((R7 < R8 & R8 <= R10 & ( cell (R14 , R15) ) in ( cells (R7 , R33) ) & ( cell (R16 , R17) ) in ( cells (R8 , R33) ) & ( cell (R14 , R15) ) c= ( cell (R16 , R17) )) implies (ex R11 being (Element of ( Seg R10 )) st ((( R14 . R11 ) = ( R16 . R11 ) & ( R15 . R11 ) = ( R16 . R11 )) or (( R14 . R11 ) = ( R17 . R11 ) & ( R15 . R11 ) = ( R17 . R11 )))))))))))))
proof
let R7 being (Element of ( NAT ));
let R8 being (Element of ( NAT ));
let R10 being non  zero (Element of ( NAT ));
let R14 being (Element of ( REAL R10 ));
let R15 being (Element of ( REAL R10 ));
let R16 being (Element of ( REAL R10 ));
let R17 being (Element of ( REAL R10 ));
let R33 being (Grating of R10);
assume that
L887: R7 < R8
and
L888: R8 <= R10
and
L889: ( cell (R14 , R15) ) in ( cells (R7 , R33) )
and
L890: ( cell (R16 , R17) ) in ( cells (R8 , R33) );
L891: ( R7 + ( 0 ) ) < R10 by L887 , L888 , XXREAL_0:2;
assume L892: ( cell (R14 , R15) ) c= ( cell (R16 , R17) );
consider C67 being (Subset of ( Seg R10 )) such that L893: ( card C67 ) = R7 and L894: (for R11 being (Element of ( Seg R10 )) holds ((R11 in C67 & ( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in C67) & ( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 )))) by L889 , L891 , L683;
L895: ( R10 - R7 ) > ( 0 ) by L891 , XREAL_1:20;
L896: ( card ( ( Seg R10 ) \ C67 ) ) = ( ( card ( Seg R10 ) ) - ( card C67 ) ) by CARD_2:44
.= ( R10 - R7 ) by L893 , FINSEQ_1:57;
consider C68 being set such that L897: C68 in ( ( Seg R10 ) \ C67 ) by L896 , L895 , CARD_1:27 , XBOOLE_0:def 1;
reconsider D72 = C68 as (Element of ( Seg R10 )) by L897 , XBOOLE_0:def 5;
L898: (not D72 in C67) by L897 , XBOOLE_0:def 5;
L899: ( R14 . D72 ) = ( R15 . D72 ) by L898 , L894;
per cases  by L888 , L889 , L890 , L891 , L892 , L867;
suppose L900: (( R14 . D72 ) = ( R16 . D72 ) & ( R15 . D72 ) = ( R17 . D72 ));

thus L901: thesis by L900 , L899;
end;
suppose L902: (( R14 . D72 ) = ( R16 . D72 ) & ( R15 . D72 ) = ( R16 . D72 ));

thus L903: thesis by L902;
end;
suppose L904: (( R14 . D72 ) = ( R17 . D72 ) & ( R15 . D72 ) = ( R17 . D72 ));

thus L905: thesis by L904;
end;
suppose L906: ( R17 . D72 ) < ( R16 . D72 );

assume L907: (for R11 being (Element of ( Seg R10 )) holds ((( R14 . R11 ) <> ( R16 . R11 ) or ( R15 . R11 ) <> ( R16 . R11 )) & (( R14 . R11 ) <> ( R17 . R11 ) or ( R15 . R11 ) <> ( R17 . R11 ))));
defpred S20[ (Element of ( Seg R10 )) , Real ] means (( R14 . $1 ) <= $2 & $2 <= ( R15 . $1 ) & ( R17 . $1 ) < $2 & $2 < ( R16 . $1 ));
L908: (for R11 being (Element of ( Seg R10 )) holds (ex R31 being Real st S20[ R11 , R31 ]))
proof
let R11 being (Element of ( Seg R10 ));
L909: ( R14 . R11 ) in ( R33 . R11 ) by L889 , L891 , L706;
L910: ( R15 . R11 ) in ( R33 . R11 ) by L889 , L891 , L706;
L911: ( R17 . R11 ) < ( R16 . R11 ) by L888 , L890 , L906 , L698;
L912: [ ( R16 . R11 ) , ( R17 . R11 ) ] is (Gap of ( R33 . R11 )) by L888 , L890 , L906 , L698;
per cases ;
suppose L913: (( R17 . R11 ) < ( R14 . R11 ) & ( R14 . R11 ) < ( R16 . R11 ));

take ( R14 . R11 );
thus L914: thesis by L894 , L913;
end;
suppose L915: ( R14 . R11 ) <= ( R17 . R11 );

L916: ( R14 . R11 ) >= ( R17 . R11 ) by L909 , L911 , L912 , L272;
L917: ( R14 . R11 ) = ( R17 . R11 ) by L916 , L915 , XXREAL_0:1;
L918: ( R15 . R11 ) <> ( R17 . R11 ) by L917 , L907;
L919: ( R14 . R11 ) < ( R15 . R11 ) by L918 , L894 , L917;
consider R31 being Real such that L920: ( R14 . R11 ) < R31 and L921: R31 < ( R15 . R11 ) by L919 , L1;
take R31;
L922: ( R15 . R11 ) <= ( R16 . R11 ) by L910 , L911 , L912 , L272;
thus L923: thesis by L922 , L916 , L920 , L921 , XXREAL_0:2;
end;
suppose L924: ( R16 . R11 ) <= ( R14 . R11 );

L925: ( R16 . R11 ) >= ( R14 . R11 ) by L909 , L911 , L912 , L272;
L926: ( R16 . R11 ) = ( R14 . R11 ) by L925 , L924 , XXREAL_0:1;
L927: ( R16 . R11 ) >= ( R15 . R11 ) by L910 , L911 , L912 , L272;
L928: ( R16 . R11 ) = ( R15 . R11 ) by L927 , L894 , L926;
thus L929: thesis by L928 , L907 , L926;
end;
end;
consider C69 being (Function of ( Seg R10 ) , ( REAL )) such that L931: (for R11 being (Element of ( Seg R10 )) holds S20[ R11 , ( C69 . R11 ) ]) from FUNCT_2:sch 3(L908);
reconsider D73 = C69 as (Element of ( REAL R10 )) by L113;
L932: D73 in ( cell (R14 , R15) ) by L931;
L933: (for R11 being (Element of ( Seg R10 )) holds (( R17 . R11 ) < ( R16 . R11 ) implies (( R17 . R11 ) < ( D73 . R11 ) & ( D73 . R11 ) < ( R16 . R11 )))) by L931;
thus L934: contradiction by L933 , L892 , L906 , L932 , L427;
end;
end;
theorem
L936: (for R10 being non  zero (Element of ( NAT )) holds (for R14 being (Element of ( REAL R10 )) holds (for R15 being (Element of ( REAL R10 )) holds (for R16 being (Element of ( REAL R10 )) holds (for R17 being (Element of ( REAL R10 )) holds (for R33 being (Grating of R10) holds (for B74 , B75 being (Subset of ( Seg R10 )) holds ((( cell (R14 , R15) ) c= ( cell (R16 , R17) ) & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B74 & ( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B74) & ( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 )))) & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B75 & ( R16 . R11 ) < ( R17 . R11 ) & [ ( R16 . R11 ) , ( R17 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B75) & ( R16 . R11 ) = ( R17 . R11 ) & ( R16 . R11 ) in ( R33 . R11 ))))) implies (B74 c= B75 & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B74 or (not R11 in B75)) implies (( R14 . R11 ) = ( R16 . R11 ) & ( R15 . R11 ) = ( R17 . R11 )))) & (for R11 being (Element of ( Seg R10 )) holds (((not R11 in B74) & R11 in B75) implies ((( R14 . R11 ) = ( R16 . R11 ) & ( R15 . R11 ) = ( R16 . R11 )) or (( R14 . R11 ) = ( R17 . R11 ) & ( R15 . R11 ) = ( R17 . R11 ))))))))))))))
proof
let R10 being non  zero (Element of ( NAT ));
let R14 being (Element of ( REAL R10 ));
let R15 being (Element of ( REAL R10 ));
let R16 being (Element of ( REAL R10 ));
let R17 being (Element of ( REAL R10 ));
let R33 being (Grating of R10);
let C70 , C71 being (Subset of ( Seg R10 ));
assume L937: ( cell (R14 , R15) ) c= ( cell (R16 , R17) );
assume L938: (for R11 being (Element of ( Seg R10 )) holds ((R11 in C70 & ( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in C70) & ( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 ))));
assume L939: (for R11 being (Element of ( Seg R10 )) holds ((R11 in C71 & ( R16 . R11 ) < ( R17 . R11 ) & [ ( R16 . R11 ) , ( R17 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in C71) & ( R16 . R11 ) = ( R17 . R11 ) & ( R16 . R11 ) in ( R33 . R11 ))));
L940: R14 in ( cell (R14 , R15) ) by L432;
L941: R15 in ( cell (R14 , R15) ) by L432;
L942: (for R11 being (Element of ( Seg R10 )) holds ( R16 . R11 ) <= ( R17 . R11 )) by L939;
thus L943: C70 c= C71
proof
let C72 being set;
assume that
L944: C72 in C70
and
L945: (not C72 in C71);
reconsider D74 = C72 as (Element of ( Seg R10 )) by L944;
L946: ( R14 . D74 ) < ( R15 . D74 ) by L938 , L944;
L947: ( R16 . D74 ) = ( R17 . D74 ) by L939 , L945;
L948: ( R16 . D74 ) <= ( R14 . D74 ) by L937 , L940 , L942 , L420;
L949: ( R15 . D74 ) <= ( R17 . D74 ) by L937 , L941 , L942 , L420;
thus L950: thesis by L949 , L946 , L947 , L948 , XXREAL_0:2;
end;

set D75 = ( card C70 );
set D76 = ( card C71 );
L951: ( card ( Seg R10 ) ) = R10 by FINSEQ_1:57;
L952: D75 <= R10 by L951 , NAT_1:43;
L953: D76 <= R10 by L951 , NAT_1:43;
L954: ( cell (R14 , R15) ) in ( cells (D75 , R33) ) by L938 , L952 , L683;
L955: ( cell (R16 , R17) ) in ( cells (D76 , R33) ) by L939 , L953 , L683;
thus L956: (for R11 being (Element of ( Seg R10 )) holds ((R11 in C70 or (not R11 in C71)) implies (( R14 . R11 ) = ( R16 . R11 ) & ( R15 . R11 ) = ( R17 . R11 ))))
proof
let R11 being (Element of ( Seg R10 ));
assume L957: (R11 in C70 or (not R11 in C71));
L958: ( R16 . R11 ) <= ( R17 . R11 ) by L939;
L959: ((( R14 . R11 ) = ( R16 . R11 ) & ( R15 . R11 ) = ( R17 . R11 )) or (( R14 . R11 ) = ( R16 . R11 ) & ( R15 . R11 ) = ( R16 . R11 )) or (( R14 . R11 ) = ( R17 . R11 ) & ( R15 . R11 ) = ( R17 . R11 ))) by L958 , L937 , L952 , L953 , L954 , L955 , L867;
thus L960: thesis by L959 , L938 , L939 , L957;
end;

thus L961: (for R11 being (Element of ( Seg R10 )) holds (((not R11 in C70) & R11 in C71) implies ((( R14 . R11 ) = ( R16 . R11 ) & ( R15 . R11 ) = ( R16 . R11 )) or (( R14 . R11 ) = ( R17 . R11 ) & ( R15 . R11 ) = ( R17 . R11 )))))
proof
let R11 being (Element of ( Seg R10 ));
assume that
L962: (not R11 in C70)
and
L963: R11 in C71;
L964: ( R14 . R11 ) = ( R15 . R11 ) by L938 , L962;
L965: ( R16 . R11 ) < ( R17 . R11 ) by L939 , L963;
thus L966: thesis by L965 , L937 , L952 , L953 , L954 , L955 , L964 , L867;
end;

end;
definition
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let R7 being (Element of ( NAT ));
mode Cell of R7 , R33
 is (Element of ( cells (R7 , R33) ));
end;
definition
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let R7 being (Element of ( NAT ));
mode Chain of R7 , R33
 is (Subset of ( cells (R7 , R33) ));
end;
definition
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let R7 being (Element of ( NAT ));
func 0_ (R7 , R33) -> (Chain of R7 , R33) equals 
( {} );
coherence by SUBSET_1:1;
end;
definition
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
func Omega R33 -> (Chain of R10 , R33) equals 
( cells (R10 , R33) );
coherence
proof
L965: ( cells (R10 , R33) ) c= ( cells (R10 , R33) );
thus L966: thesis by L965;
end;
end;
notation
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let R7 being (Element of ( NAT ));
let C73 , C74 being (Chain of R7 , R33);
synonym C73 + C74 for C73 \+\ C74;
end;
definition
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let R7 being (Element of ( NAT ));
let C75 , C76 being (Chain of R7 , R33);
redefine func C75 + C76 -> (Chain of R7 , R33);

coherence
proof
L969: ( C75 \+\ C76 ) c= ( cells (R7 , R33) );
thus L970: thesis by L969;
end;
end;
definition
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
func infinite-cell R33 -> (Cell of R10 , R33) means 
:L972: (ex R14 being (Element of ( REAL R10 )) st (ex R15 being (Element of ( REAL R10 )) st (it = ( cell (R14 , R15) ) & (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) < ( R14 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 )))))));
existence
proof
defpred S21[ (Element of ( Seg R10 )) , Real ] means ($2 in ( R33 . $1 ) & (for R31 being Real holds (R31 in ( R33 . $1 ) implies R31 <= $2)));
L973: (for R11 being (Element of ( Seg R10 )) holds (ex R27 being Real st S21[ R11 , R27 ])) by L154;
consider C77 being (Function of ( Seg R10 ) , ( REAL )) such that L974: (for R11 being (Element of ( Seg R10 )) holds S21[ R11 , ( C77 . R11 ) ]) from FUNCT_2:sch 3(L973);
reconsider D77 = C77 as (Element of ( REAL R10 )) by L113;
defpred S22[ (Element of ( Seg R10 )) , Real ] means ($2 in ( R33 . $1 ) & (for R31 being Real holds (R31 in ( R33 . $1 ) implies R31 >= $2)));
L975: (for R11 being (Element of ( Seg R10 )) holds (ex R28 being Real st S22[ R11 , R28 ])) by L181;
consider C78 being (Function of ( Seg R10 ) , ( REAL )) such that L976: (for R11 being (Element of ( Seg R10 )) holds S22[ R11 , ( C78 . R11 ) ]) from FUNCT_2:sch 3(L975);
reconsider D78 = C78 as (Element of ( REAL R10 )) by L113;
L977:
now
let R11 being (Element of ( Seg R10 ));
L978: ( D78 . R11 ) in ( R33 . R11 ) by L976;
L979: ( D78 . R11 ) <= ( D77 . R11 ) by L978 , L974;
L980:
now
assume L981: ( D77 . R11 ) = ( D78 . R11 );
consider C79 , C80 being set such that L982: C79 in ( R33 . R11 ) and L983: C80 in ( R33 . R11 ) and L984: C79 <> C80 by ZFMISC_1:def 10;
reconsider D79 = C79 , D80 = C80 as Real by L982 , L983;
L985: ( D78 . R11 ) <= D79 by L976 , L982;
L986: D79 <= ( D77 . R11 ) by L974 , L982;
L987: ( D78 . R11 ) <= D80 by L976 , L983;
L988: D80 <= ( D77 . R11 ) by L974 , L983;
L989: D79 = ( D77 . R11 ) by L981 , L985 , L986 , XXREAL_0:1;
thus L990: contradiction by L989 , L981 , L984 , L987 , L988 , XXREAL_0:1;
end;
thus L991: ( D78 . R11 ) < ( D77 . R11 ) by L980 , L979 , XXREAL_0:1;
end;
L992:
now
let R11 being (Element of ( Seg R10 ));
L993: ( D77 . R11 ) in ( R33 . R11 ) by L974;
L994: ( D78 . R11 ) in ( R33 . R11 ) by L976;
L995: ( D78 . R11 ) < ( D77 . R11 ) by L977;
L996: (for R31 being Real holds (R31 in ( R33 . R11 ) implies (not (( D77 . R11 ) < R31 or R31 < ( D78 . R11 ))))) by L974 , L976;
thus L997: (( D78 . R11 ) < ( D77 . R11 ) & [ ( D77 . R11 ) , ( D78 . R11 ) ] is (Gap of ( R33 . R11 ))) by L996 , L993 , L994 , L995 , L272;
end;
reconsider D81 = ( cell (D77 , D78) ) as (Cell of R10 , R33) by L992 , L683;
take D81;
take D77;
take D78;
thus L998: thesis by L992;
end;
uniqueness
proof
let C81 , C82 being (Cell of R10 , R33);
given R14 being (Element of ( REAL R10 )) , R15 being (Element of ( REAL R10 )) such that
L999: C81 = ( cell (R14 , R15) )
and
L1000: (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) < ( R14 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))));

given R16 being (Element of ( REAL R10 )) , R17 being (Element of ( REAL R10 )) such that
L1001: C82 = ( cell (R16 , R17) )
and
L1002: (for R11 being (Element of ( Seg R10 )) holds (( R17 . R11 ) < ( R16 . R11 ) & [ ( R16 . R11 ) , ( R17 . R11 ) ] is (Gap of ( R33 . R11 ))));

reconsider D82 = R14 , D83 = R15 , D84 = R16 , D85 = R17 as (Function of ( Seg R10 ) , ( REAL )) by L113;
L1003:
now
let R11 being (Element of ( Seg R10 ));
L1004: ( D83 . R11 ) < ( D82 . R11 ) by L1000;
L1005: [ ( D82 . R11 ) , ( D83 . R11 ) ] is (Gap of ( R33 . R11 )) by L1000;
L1006: ( D85 . R11 ) < ( D84 . R11 ) by L1002;
L1007: [ ( D84 . R11 ) , ( D85 . R11 ) ] is (Gap of ( R33 . R11 )) by L1002;
thus L1008: (( D82 . R11 ) = ( D84 . R11 ) & ( D83 . R11 ) = ( D85 . R11 )) by L1007 , L1004 , L1005 , L1006 , L398;
end;
L1009: D82 = D84 by L1003 , FUNCT_2:63;
thus L1010: thesis by L1009 , L999 , L1001 , L1003 , FUNCT_2:63;
end;
end;
theorem
L1012: (for R10 being non  zero (Element of ( NAT )) holds (for R14 being (Element of ( REAL R10 )) holds (for R15 being (Element of ( REAL R10 )) holds (for R33 being (Grating of R10) holds (( cell (R14 , R15) ) is (Cell of R10 , R33) implies (( cell (R14 , R15) ) = ( infinite-cell R33 ) iff (for R11 being (Element of ( Seg R10 )) holds ( R15 . R11 ) < ( R14 . R11 ))))))))
proof
let R10 being non  zero (Element of ( NAT ));
let R14 being (Element of ( REAL R10 ));
let R15 being (Element of ( REAL R10 ));
let R33 being (Grating of R10);
assume L1013: ( cell (R14 , R15) ) is (Cell of R10 , R33);
reconsider D86 = ( cell (R14 , R15) ) as (Cell of R10 , R33) by L1013;
thus L1014:now
assume L1015: ( cell (R14 , R15) ) = ( infinite-cell R33 );
consider R16 being (Element of ( REAL R10 )), R17 being (Element of ( REAL R10 )) such that L1016: ( cell (R14 , R15) ) = ( cell (R16 , R17) ) and L1017: (for R11 being (Element of ( Seg R10 )) holds (( R17 . R11 ) < ( R16 . R11 ) & [ ( R16 . R11 ) , ( R17 . R11 ) ] is (Gap of ( R33 . R11 )))) by L1015 , L972;
L1018: R14 = R16 by L1016 , L1017 , L574;
L1019: R15 = R17 by L1016 , L1017 , L574;
thus L1020: (for R11 being (Element of ( Seg R10 )) holds ( R15 . R11 ) < ( R14 . R11 )) by L1019 , L1017 , L1018;
end;
set D87 = the (Element of ( Seg R10 ));
assume L1021: (for R11 being (Element of ( Seg R10 )) holds ( R15 . R11 ) < ( R14 . R11 ));
L1022: ( R15 . D87 ) < ( R14 . D87 ) by L1021;
L1023: D86 = ( cell (R14 , R15) );
L1024: (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) < ( R14 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 )))) by L1013 , L1022 , L698;
thus L1025: thesis by L1024 , L1023 , L972;
end;
theorem
L1026: (for R10 being non  zero (Element of ( NAT )) holds (for R14 being (Element of ( REAL R10 )) holds (for R15 being (Element of ( REAL R10 )) holds (for R33 being (Grating of R10) holds (( cell (R14 , R15) ) = ( infinite-cell R33 ) iff (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) < ( R14 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 )))))))))
proof
let R10 being non  zero (Element of ( NAT ));
let R14 being (Element of ( REAL R10 ));
let R15 being (Element of ( REAL R10 ));
let R33 being (Grating of R10);
thus L1027:now
assume L1028: ( cell (R14 , R15) ) = ( infinite-cell R33 );
consider R16 being (Element of ( REAL R10 )), R17 being (Element of ( REAL R10 )) such that L1029: ( cell (R14 , R15) ) = ( cell (R16 , R17) ) and L1030: (for R11 being (Element of ( Seg R10 )) holds (( R17 . R11 ) < ( R16 . R11 ) & [ ( R16 . R11 ) , ( R17 . R11 ) ] is (Gap of ( R33 . R11 )))) by L1028 , L972;
L1031: R14 = R16 by L1029 , L1030 , L574;
L1032: R15 = R17 by L1029 , L1030 , L574;
thus L1033: (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) < ( R14 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 )))) by L1032 , L1030 , L1031;
end;
assume L1034: (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) < ( R14 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))));
L1035: ( cell (R14 , R15) ) is (Cell of R10 , R33) by L1034 , L683;
thus L1036: thesis by L1035 , L1034 , L972;
end;
scheme ChainInd { F8() -> non  zero (Element of ( NAT )) , F9() -> (Grating of F8()) , F10() -> (Element of ( NAT )) , F11() -> (Chain of F10() , F9()) , P4[set] } : P4[ F11() ]
provided
L1037: P4[ ( 0_ (F10() , F9()) ) ]
and
L1038: (for B76 being (Cell of F10() , F9()) holds (B76 in F11() implies P4[ { B76 } ]))
and
L1039: (for B77 , B78 being (Chain of F10() , F9()) holds ((B77 c= F11() & B78 c= F11() & P4[ B77 ] & P4[ B78 ]) implies P4[ ( B77 + B78 ) ]))
proof
L1040: F11() is  finite;
L1041: P4[ ( {} ) ] by L1037;
L1042: (for B79 , B80 being set holds ((B79 in F11() & B80 c= F11() & P4[ B80 ]) implies P4[ ( B80 \/ { B79 } ) ]))
proof
let C83 , C84 being set;
assume that
L1043: C83 in F11()
and
L1044: C84 c= F11()
and
L1045: P4[ C84 ];
reconsider D88 = C83 as (Cell of F10() , F9()) by L1043;
reconsider D89 = C84 as (Chain of F10() , F9()) by L1044 , XBOOLE_1:1;
per cases ;
suppose L1046: C83 in C84;

L1047: { C83 } c= C84 by L1046 , ZFMISC_1:31;
thus L1048: thesis by L1047 , L1045 , XBOOLE_1:12;
end;
suppose L1049: (not C83 in C84);

L1050:
now
let C85 being set;
assume L1051: C85 in ( C84 /\ { C83 } );
L1052: C85 in C84 by L1051 , XBOOLE_0:def 4;
L1053: C85 in { C83 } by L1051 , XBOOLE_0:def 4;
thus L1054: contradiction by L1053 , L1049 , L1052 , TARSKI:def 1;
end;
L1055: ( C84 /\ { C83 } ) = ( {} ) by L1050 , XBOOLE_0:def 1;
L1056: ( D89 + { D88 } ) = ( ( C84 \/ { C83 } ) \ ( {} ) ) by L1055 , XBOOLE_1:101
.= ( C84 \/ { C83 } );
L1057: P4[ { D88 } ] by L1038 , L1043;
L1058: { C83 } c= F11() by L1043 , ZFMISC_1:31;
thus L1059: thesis by L1058 , L1039 , L1044 , L1045 , L1056 , L1057;
end;
end;
thus L1061: P4[ F11() ] from FINSET_1:sch 2(L1040 , L1041 , L1042);
end;
definition
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let R7 being (Element of ( NAT ));
let C86 being (Cell of R7 , R33);
func star C86 -> (Chain of ( R7 + 1 ) , R33) equals 
{ B81 where B81 is (Cell of ( R7 + 1 ) , R33) : C86 c= B81 };
coherence
proof
defpred S23[ set ] means C86 c= $1;
L1062: { B82 where B82 is (Cell of ( R7 + 1 ) , R33) : S23[ B82 ] } c= ( cells (( R7 + 1 ) , R33) ) from FRAENKEL:sch 10;
thus L1063: thesis by L1062;
end;
end;
theorem
L1065: (for R7 being (Element of ( NAT )) holds (for R10 being non  zero (Element of ( NAT )) holds (for R33 being (Grating of R10) holds (for B83 being (Cell of R7 , R33) holds (for B84 being (Cell of ( R7 + 1 ) , R33) holds (B84 in ( star B83 ) iff B83 c= B84))))))
proof
let R7 being (Element of ( NAT ));
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let C87 being (Cell of R7 , R33);
let C88 being (Cell of ( R7 + 1 ) , R33);
defpred S24[ set ] means C87 c= $1;
L1066: ( star C87 ) = { B85 where B85 is (Cell of ( R7 + 1 ) , R33) : S24[ B85 ] };
thus L1067: (C88 in ( star C87 ) iff S24[ C88 ]) from LMOD_7:sch 7(L1066);
end;
definition
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let R7 being (Element of ( NAT ));
let C89 being (Chain of ( R7 + 1 ) , R33);
func del C89 -> (Chain of R7 , R33) equals 
{ B86 where B86 is (Cell of R7 , R33) : (( R7 + 1 ) <= R10 & ( card ( ( star B86 ) /\ C89 ) ) is  odd) };
coherence
proof
defpred S25[ (Cell of R7 , R33) ] means (( R7 + 1 ) <= R10 & ( card ( ( star $1 ) /\ C89 ) ) is  odd);
L1068: { B87 where B87 is (Cell of R7 , R33) : S25[ B87 ] } c= ( cells (R7 , R33) ) from FRAENKEL:sch 10;
thus L1069: thesis by L1068;
end;
end;
notation
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let R7 being (Element of ( NAT ));
let C90 being (Chain of ( R7 + 1 ) , R33);
synonym . C90 for del C90;
end;
definition
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let R7 being (Element of ( NAT ));
let C91 being (Chain of ( R7 + 1 ) , R33);
let C92 being (Chain of R7 , R33);
pred C92 bounds C91
means
C92 = ( del C91 )
;end;
theorem
L1073: (for R7 being (Element of ( NAT )) holds (for R10 being non  zero (Element of ( NAT )) holds (for R33 being (Grating of R10) holds (for B88 being (Cell of R7 , R33) holds (for B89 being (Chain of ( R7 + 1 ) , R33) holds (B88 in ( del B89 ) iff (( R7 + 1 ) <= R10 & ( card ( ( star B88 ) /\ B89 ) ) is  odd)))))))
proof
let R7 being (Element of ( NAT ));
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let C93 being (Cell of R7 , R33);
let C94 being (Chain of ( R7 + 1 ) , R33);
defpred S26[ (Cell of R7 , R33) ] means (( R7 + 1 ) <= R10 & ( card ( ( star $1 ) /\ C94 ) ) is  odd);
L1074: ( del C94 ) = { B90 where B90 is (Cell of R7 , R33) : S26[ B90 ] };
thus L1075: (C93 in ( del C94 ) iff S26[ C93 ]) from LMOD_7:sch 7(L1074);
end;
theorem
L1076: (for R7 being (Element of ( NAT )) holds (for R10 being non  zero (Element of ( NAT )) holds (for R33 being (Grating of R10) holds (( R7 + 1 ) > R10 implies (for B91 being (Chain of ( R7 + 1 ) , R33) holds ( del B91 ) = ( 0_ (R7 , R33) ))))))
proof
let R7 being (Element of ( NAT ));
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
assume L1077: ( R7 + 1 ) > R10;
let C95 being (Chain of ( R7 + 1 ) , R33);
L1078: (for B92 being set holds (not B92 in ( del C95 ))) by L1077 , L1073;
thus L1079: thesis by L1078 , XBOOLE_0:def 1;
end;
theorem
L1080: (for R7 being (Element of ( NAT )) holds (for R10 being non  zero (Element of ( NAT )) holds (for R33 being (Grating of R10) holds (( R7 + 1 ) <= R10 implies (for B93 being (Cell of R7 , R33) holds (for B94 being (Cell of ( R7 + 1 ) , R33) holds (B93 in ( del { B94 } ) iff B93 c= B94)))))))
proof
let R7 being (Element of ( NAT ));
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
assume L1081: ( R7 + 1 ) <= R10;
let C96 being (Cell of R7 , R33);
let C97 being (Cell of ( R7 + 1 ) , R33);
set D90 = ( ( star C96 ) /\ { C97 } );
L1082: (( card D90 ) is  odd iff C97 in ( star C96 ))
proof
per cases ;
suppose L1083: C97 in ( star C96 );

L1084:
now
let C98 being set;
L1085: (C98 in { C97 } iff C98 = C97) by TARSKI:def 1;
thus L1086: (C98 in D90 iff C98 = C97) by L1085 , L1083 , XBOOLE_0:def 4;
end;
L1087: D90 = { C97 } by L1084 , TARSKI:def 1;
L1088: ( card D90 ) = ( ( 2 * ( 0 ) ) + 1 ) by L1087 , CARD_1:30;
thus L1089: thesis by L1088 , L1083;
end;
suppose L1090: (not C97 in ( star C96 ));

L1091:
now
let C99 being set;
L1092: (C99 = C97 or (not C99 in { C97 })) by TARSKI:def 1;
thus L1093: (not C99 in D90) by L1092 , L1090 , XBOOLE_0:def 4;
end;
L1094: ( card D90 ) = ( 2 * ( 0 ) ) by L1091 , CARD_1:27 , XBOOLE_0:def 1;
thus L1095: thesis by L1094 , L1090;
end;
end;
thus L1097: thesis by L1082 , L1081 , L1065 , L1073;
end;
theorem
L1098: (for R9 being (Element of ( NAT )) holds (for R10 being non  zero (Element of ( NAT )) holds (for R33 being (Grating of R10) holds (R10 = ( R9 + 1 ) implies (for B95 being (Cell of R9 , R33) holds ( card ( star B95 ) ) = 2)))))
proof
let R9 being (Element of ( NAT ));
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
assume L1099: R10 = ( R9 + 1 );
L1100: R9 < R10 by L1099 , NAT_1:13;
let C100 being (Cell of R9 , R33);
consider R14 being (Element of ( REAL R10 )), R15 being (Element of ( REAL R10 )), R12 being (Element of ( Seg R10 )) such that L1101: C100 = ( cell (R14 , R15) ) and L1102: ( R14 . R12 ) = ( R15 . R12 ) and L1103: ( R14 . R12 ) in ( R33 . R12 ) and L1104: (for R11 being (Element of ( Seg R10 )) holds (R11 <> R12 implies (( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))))) by L1099 , L766;
L1105:
now
let R11 being (Element of ( Seg R10 ));
L1106: (R11 = R12 or R11 <> R12);
thus L1107: ( R14 . R11 ) <= ( R15 . R11 ) by L1106 , L1102 , L1104;
end;
L1108: (ex B96 , B97 being set st (B96 in ( star C100 ) & B97 in ( star C100 ) & B96 <> B97 & (for B98 being set holds (B98 in ( star C100 ) implies (B98 = B96 or B98 = B97)))))
proof
L1109: (ex R22 being (Element of ( REAL R10 )) st (ex R23 being (Element of ( REAL R10 )) st ([ ( R22 . R12 ) , ( R23 . R12 ) ] is (Gap of ( R33 . R12 )) & ( R23 . R12 ) = ( R14 . R12 ) & ((( R22 . R12 ) < ( R23 . R12 ) & (for R11 being (Element of ( Seg R10 )) holds (R11 <> R12 implies (( R22 . R11 ) = ( R14 . R11 ) & ( R23 . R11 ) = ( R15 . R11 ))))) or (for R11 being (Element of ( Seg R10 )) holds (( R23 . R11 ) < ( R22 . R11 ) & [ ( R22 . R11 ) , ( R23 . R11 ) ] is (Gap of ( R33 . R11 ))))))))
proof
consider C101 being Real such that L1110: [ C101 , ( R14 . R12 ) ] is (Gap of ( R33 . R12 )) by L1103 , L335;
per cases  by L1110 , L272;
suppose L1111: C101 < ( R14 . R12 );

defpred S27[ (Element of ( Seg R10 )) , Real ] means (($1 = R12 implies $2 = C101) & ($1 <> R12 implies $2 = ( R14 . $1 )));
L1112: (for R11 being (Element of ( Seg R10 )) holds (ex R27 being Real st S27[ R11 , R27 ]))
proof
let R11 being (Element of ( Seg R10 ));
L1113: (R11 = R12 or R11 <> R12);
thus L1114: thesis by L1113;
end;
consider C102 being (Function of ( Seg R10 ) , ( REAL )) such that L1115: (for R11 being (Element of ( Seg R10 )) holds S27[ R11 , ( C102 . R11 ) ]) from FUNCT_2:sch 3(L1112);
reconsider D91 = C102 as (Element of ( REAL R10 )) by L113;
take D91;
take R15;
thus L1116: thesis by L1102 , L1110 , L1111 , L1115;
end;
suppose L1117: ( R14 . R12 ) < C101;

consider R22 being (Element of ( REAL R10 )), R23 being (Element of ( REAL R10 )) such that L1118: ( cell (R22 , R23) ) = ( infinite-cell R33 ) and L1119: (for R11 being (Element of ( Seg R10 )) holds (( R23 . R11 ) < ( R22 . R11 ) & [ ( R22 . R11 ) , ( R23 . R11 ) ] is (Gap of ( R33 . R11 )))) by L972;
take R22;
take R23;
L1120: ( R23 . R12 ) < ( R22 . R12 ) by L1119;
L1121: [ ( R22 . R12 ) , ( R23 . R12 ) ] is (Gap of ( R33 . R12 )) by L1119;
thus L1122: thesis by L1121 , L1110 , L1117 , L1119 , L1120 , L398;
end;
end;
consider R22 being (Element of ( REAL R10 )), R23 being (Element of ( REAL R10 )) such that L1124: [ ( R22 . R12 ) , ( R23 . R12 ) ] is (Gap of ( R33 . R12 )) and L1125: ( R23 . R12 ) = ( R14 . R12 ) and L1126: ((( R22 . R12 ) < ( R23 . R12 ) & (for R11 being (Element of ( Seg R10 )) holds (R11 <> R12 implies (( R22 . R11 ) = ( R14 . R11 ) & ( R23 . R11 ) = ( R15 . R11 ))))) or (for R11 being (Element of ( Seg R10 )) holds (( R23 . R11 ) < ( R22 . R11 ) & [ ( R22 . R11 ) , ( R23 . R11 ) ] is (Gap of ( R33 . R11 ))))) by L1109;
L1127:
now
let R11 being (Element of ( Seg R10 ));
L1128: ((R11 <> R12 & ( R22 . R11 ) = ( R14 . R11 ) & ( R23 . R11 ) = ( R15 . R11 )) implies [ ( R22 . R11 ) , ( R23 . R11 ) ] is (Gap of ( R33 . R11 ))) by L1104;
L1129: (R11 = R12 or R11 <> R12);
thus L1130: [ ( R22 . R11 ) , ( R23 . R11 ) ] is (Gap of ( R33 . R11 )) by L1129 , L1124 , L1126 , L1128;
end;
L1131: ((for R11 being (Element of ( Seg R10 )) holds ( R22 . R11 ) < ( R23 . R11 )) or (for R11 being (Element of ( Seg R10 )) holds ( R23 . R11 ) < ( R22 . R11 )))
proof
per cases  by L1126;
suppose L1132: (( R22 . R12 ) < ( R23 . R12 ) & (for R11 being (Element of ( Seg R10 )) holds (R11 <> R12 implies (( R22 . R11 ) = ( R14 . R11 ) & ( R23 . R11 ) = ( R15 . R11 )))));

L1133:
now
let R11 being (Element of ( Seg R10 ));
L1134: ((R11 <> R12 & ( R22 . R11 ) = ( R14 . R11 ) & ( R23 . R11 ) = ( R15 . R11 )) implies ( R22 . R11 ) < ( R23 . R11 )) by L1104;
L1135: (R11 = R12 or R11 <> R12);
thus L1136: ( R22 . R11 ) < ( R23 . R11 ) by L1135 , L1132 , L1134;
end;
thus L1137: thesis by L1133;
end;
suppose L1138: (for R11 being (Element of ( Seg R10 )) holds (( R23 . R11 ) < ( R22 . R11 ) & [ ( R22 . R11 ) , ( R23 . R11 ) ] is (Gap of ( R33 . R11 ))));

thus L1139: thesis by L1138;
end;
end;
reconsider D92 = ( cell (R22 , R23) ) as (Cell of R10 , R33) by L1131 , L1127 , L755;
L1141: (ex R24 being (Element of ( REAL R10 )) st (ex R25 being (Element of ( REAL R10 )) st ([ ( R24 . R12 ) , ( R25 . R12 ) ] is (Gap of ( R33 . R12 )) & ( R24 . R12 ) = ( R14 . R12 ) & ((( R24 . R12 ) < ( R25 . R12 ) & (for R11 being (Element of ( Seg R10 )) holds (R11 <> R12 implies (( R24 . R11 ) = ( R14 . R11 ) & ( R25 . R11 ) = ( R15 . R11 ))))) or (for R11 being (Element of ( Seg R10 )) holds (( R25 . R11 ) < ( R24 . R11 ) & [ ( R24 . R11 ) , ( R25 . R11 ) ] is (Gap of ( R33 . R11 ))))))))
proof
consider C103 being Real such that L1142: [ ( R14 . R12 ) , C103 ] is (Gap of ( R33 . R12 )) by L1103 , L298;
per cases  by L1142 , L272;
suppose L1143: ( R14 . R12 ) < C103;

defpred S28[ (Element of ( Seg R10 )) , Real ] means (($1 = R12 implies $2 = C103) & ($1 <> R12 implies $2 = ( R15 . $1 )));
L1144: (for R11 being (Element of ( Seg R10 )) holds (ex R28 being Real st S28[ R11 , R28 ]))
proof
let R11 being (Element of ( Seg R10 ));
L1145: (R11 = R12 or R11 <> R12);
thus L1146: thesis by L1145;
end;
consider C104 being (Function of ( Seg R10 ) , ( REAL )) such that L1147: (for R11 being (Element of ( Seg R10 )) holds S28[ R11 , ( C104 . R11 ) ]) from FUNCT_2:sch 3(L1144);
reconsider D93 = C104 as (Element of ( REAL R10 )) by L113;
take R14;
take D93;
thus L1148: thesis by L1142 , L1143 , L1147;
end;
suppose L1149: C103 < ( R14 . R12 );

consider R24 being (Element of ( REAL R10 )), R25 being (Element of ( REAL R10 )) such that L1150: ( cell (R24 , R25) ) = ( infinite-cell R33 ) and L1151: (for R11 being (Element of ( Seg R10 )) holds (( R25 . R11 ) < ( R24 . R11 ) & [ ( R24 . R11 ) , ( R25 . R11 ) ] is (Gap of ( R33 . R11 )))) by L972;
take R24;
take R25;
L1152: ( R25 . R12 ) < ( R24 . R12 ) by L1151;
L1153: [ ( R24 . R12 ) , ( R25 . R12 ) ] is (Gap of ( R33 . R12 )) by L1151;
thus L1154: thesis by L1153 , L1142 , L1149 , L1151 , L1152 , L398;
end;
end;
consider R24 being (Element of ( REAL R10 )), R25 being (Element of ( REAL R10 )) such that L1156: [ ( R24 . R12 ) , ( R25 . R12 ) ] is (Gap of ( R33 . R12 )) and L1157: ( R24 . R12 ) = ( R14 . R12 ) and L1158: ((( R24 . R12 ) < ( R25 . R12 ) & (for R11 being (Element of ( Seg R10 )) holds (R11 <> R12 implies (( R24 . R11 ) = ( R14 . R11 ) & ( R25 . R11 ) = ( R15 . R11 ))))) or (for R11 being (Element of ( Seg R10 )) holds (( R25 . R11 ) < ( R24 . R11 ) & [ ( R24 . R11 ) , ( R25 . R11 ) ] is (Gap of ( R33 . R11 ))))) by L1141;
L1159:
now
let R11 being (Element of ( Seg R10 ));
L1160: ((R11 <> R12 & ( R24 . R11 ) = ( R14 . R11 ) & ( R25 . R11 ) = ( R15 . R11 )) implies [ ( R24 . R11 ) , ( R25 . R11 ) ] is (Gap of ( R33 . R11 ))) by L1104;
L1161: (R11 = R12 or R11 <> R12);
thus L1162: [ ( R24 . R11 ) , ( R25 . R11 ) ] is (Gap of ( R33 . R11 )) by L1161 , L1156 , L1158 , L1160;
end;
L1163: ((for R11 being (Element of ( Seg R10 )) holds ( R24 . R11 ) < ( R25 . R11 )) or (for R11 being (Element of ( Seg R10 )) holds ( R25 . R11 ) < ( R24 . R11 )))
proof
per cases  by L1158;
suppose L1164: (( R24 . R12 ) < ( R25 . R12 ) & (for R11 being (Element of ( Seg R10 )) holds (R11 <> R12 implies (( R24 . R11 ) = ( R14 . R11 ) & ( R25 . R11 ) = ( R15 . R11 )))));

L1165:
now
let R11 being (Element of ( Seg R10 ));
L1166: ((R11 <> R12 & ( R24 . R11 ) = ( R14 . R11 ) & ( R25 . R11 ) = ( R15 . R11 )) implies ( R24 . R11 ) < ( R25 . R11 )) by L1104;
L1167: (R11 = R12 or R11 <> R12);
thus L1168: ( R24 . R11 ) < ( R25 . R11 ) by L1167 , L1164 , L1166;
end;
thus L1169: thesis by L1165;
end;
suppose L1170: (for R11 being (Element of ( Seg R10 )) holds (( R25 . R11 ) < ( R24 . R11 ) & [ ( R24 . R11 ) , ( R25 . R11 ) ] is (Gap of ( R33 . R11 ))));

thus L1171: thesis by L1170;
end;
end;
reconsider D94 = ( cell (R24 , R25) ) as (Cell of R10 , R33) by L1163 , L1159 , L755;
take D92;
take D94;
L1173: C100 c= D92
proof
per cases  by L1126;
suppose L1174: (( R22 . R12 ) < ( R23 . R12 ) & (for R11 being (Element of ( Seg R10 )) holds (R11 <> R12 implies (( R22 . R11 ) = ( R14 . R11 ) & ( R23 . R11 ) = ( R15 . R11 )))));

L1175:
now
let R11 being (Element of ( Seg R10 ));
L1176: (R11 = R12 or (R11 <> R12 & ( R22 . R11 ) = ( R14 . R11 ) & ( R23 . R11 ) = ( R15 . R11 ))) by L1174;
thus L1177: ( R22 . R11 ) <= ( R23 . R11 ) by L1176 , L1104 , L1174;
end;
L1178:
now
let R11 being (Element of ( Seg R10 ));
L1179: (R11 = R12 or (R11 <> R12 & ( R22 . R11 ) = ( R14 . R11 ) & ( R23 . R11 ) = ( R15 . R11 ))) by L1174;
thus L1180: (( R22 . R11 ) <= ( R14 . R11 ) & ( R14 . R11 ) <= ( R15 . R11 ) & ( R15 . R11 ) <= ( R23 . R11 )) by L1179 , L1102 , L1125 , L1175;
end;
thus L1181: thesis by L1178 , L1101 , L1175 , L448;
end;
suppose L1182: (for R11 being (Element of ( Seg R10 )) holds (( R23 . R11 ) < ( R22 . R11 ) & [ ( R22 . R11 ) , ( R23 . R11 ) ] is (Gap of ( R33 . R11 ))));

thus L1183: thesis by L1182 , L1101 , L1102 , L1105 , L1125 , L545;
end;
end;
thus L1185: D92 in ( star C100 ) by L1173 , L1099;
L1186: C100 c= D94
proof
per cases  by L1158;
suppose L1187: (( R24 . R12 ) < ( R25 . R12 ) & (for R11 being (Element of ( Seg R10 )) holds (R11 <> R12 implies (( R24 . R11 ) = ( R14 . R11 ) & ( R25 . R11 ) = ( R15 . R11 )))));

L1188:
now
let R11 being (Element of ( Seg R10 ));
L1189: (R11 = R12 or (R11 <> R12 & ( R24 . R11 ) = ( R14 . R11 ) & ( R25 . R11 ) = ( R15 . R11 ))) by L1187;
thus L1190: ( R24 . R11 ) <= ( R25 . R11 ) by L1189 , L1104 , L1187;
end;
L1191:
now
let R11 being (Element of ( Seg R10 ));
L1192: (R11 = R12 or (R11 <> R12 & ( R24 . R11 ) = ( R14 . R11 ) & ( R25 . R11 ) = ( R15 . R11 ))) by L1187;
thus L1193: (( R24 . R11 ) <= ( R14 . R11 ) & ( R14 . R11 ) <= ( R15 . R11 ) & ( R15 . R11 ) <= ( R25 . R11 )) by L1192 , L1102 , L1157 , L1188;
end;
thus L1194: thesis by L1191 , L1101 , L1188 , L448;
end;
suppose L1195: (for R11 being (Element of ( Seg R10 )) holds (( R25 . R11 ) < ( R24 . R11 ) & [ ( R24 . R11 ) , ( R25 . R11 ) ] is (Gap of ( R33 . R11 ))));

thus L1196: thesis by L1195 , L1101 , L1105 , L1157 , L545;
end;
end;
thus L1198: D94 in ( star C100 ) by L1186 , L1099;
L1199: R22 <> R24 by L1125 , L1126 , L1157;
L1200: ((for R11 being (Element of ( Seg R10 )) holds ( R22 . R11 ) <= ( R23 . R11 )) or (for R11 being (Element of ( Seg R10 )) holds ( R23 . R11 ) < ( R22 . R11 ))) by L1131;
thus L1201: D92 <> D94 by L1200 , L1199 , L574;
let C105 being set;
assume L1202: C105 in ( star C100 );
reconsider D95 = C105 as (Cell of R10 , R33) by L1202 , L1099;
consider R16 being (Element of ( REAL R10 )), R17 being (Element of ( REAL R10 )) such that L1203: D95 = ( cell (R16 , R17) ) and L1204: (for R11 being (Element of ( Seg R10 )) holds [ ( R16 . R11 ) , ( R17 . R11 ) ] is (Gap of ( R33 . R11 ))) and L1205: ((for R11 being (Element of ( Seg R10 )) holds ( R16 . R11 ) < ( R17 . R11 )) or (for R11 being (Element of ( Seg R10 )) holds ( R17 . R11 ) < ( R16 . R11 ))) by L737;
L1206: [ ( R16 . R12 ) , ( R17 . R12 ) ] is (Gap of ( R33 . R12 )) by L1204;
L1207: C100 c= D95 by L1202 , L1065;
per cases  by L1205;
suppose L1208: (for R11 being (Element of ( Seg R10 )) holds ( R16 . R11 ) < ( R17 . R11 ));

L1209:
now
let R11 being (Element of ( Seg R10 ));
assume L1210: R11 <> R12;
L1211: ( R16 . R11 ) < ( R17 . R11 ) by L1208;
L1212: ((( R14 . R11 ) = ( R16 . R11 ) & ( R15 . R11 ) = ( R17 . R11 )) or (( R14 . R11 ) = ( R16 . R11 ) & ( R15 . R11 ) = ( R16 . R11 )) or (( R14 . R11 ) = ( R17 . R11 ) & ( R15 . R11 ) = ( R17 . R11 ))) by L1211 , L1100 , L1101 , L1203 , L1207 , L867;
thus L1213: (( R16 . R11 ) = ( R14 . R11 ) & ( R17 . R11 ) = ( R15 . R11 )) by L1212 , L1104 , L1210;
end;
thus L1214: thesis
proof
L1215: ( R16 . R12 ) < ( R17 . R12 ) by L1208;
per cases  by L1100 , L1101 , L1102 , L1203 , L1207 , L1215 , L867;
suppose L1216: (( R14 . R12 ) = ( R17 . R12 ) & ( R15 . R12 ) = ( R17 . R12 ));

L1217: ( R16 . R12 ) = ( R22 . R12 ) by L1216 , L1124 , L1125 , L1206 , L385;
reconsider D96 = R16 , D97 = R17 , D98 = R22 , D99 = R23 as (Function of ( Seg R10 ) , ( REAL )) by L113;
L1218:
now
let R11 being (Element of ( Seg R10 ));
L1219: ( D98 . R12 ) < ( R14 . R12 ) by L1208 , L1216 , L1217;
L1220: (R11 = R12 or (R11 <> R12 & ( D96 . R11 ) = ( R14 . R11 ) & ( D98 . R11 ) = ( R14 . R11 ))) by L1219 , L1125 , L1126 , L1209;
thus L1221: ( D96 . R11 ) = ( D98 . R11 ) by L1220 , L1124 , L1125 , L1206 , L1216 , L385;
L1222: (R11 = R12 or (R11 <> R12 & ( D97 . R11 ) = ( R15 . R11 ) & ( D99 . R11 ) = ( R15 . R11 ))) by L1125 , L1126 , L1209 , L1219;
thus L1223: ( D97 . R11 ) = ( D99 . R11 ) by L1222 , L1125 , L1216;
end;
L1224: D96 = D98 by L1218 , FUNCT_2:63;
thus L1225: thesis by L1224 , L1203 , L1218 , FUNCT_2:63;
end;
suppose L1226: (( R14 . R12 ) = ( R16 . R12 ) & ( R15 . R12 ) = ( R16 . R12 ));

L1227: ( R17 . R12 ) = ( R25 . R12 ) by L1226 , L1156 , L1157 , L1206 , L372;
reconsider D100 = R16 , D101 = R17 , D102 = R24 , D103 = R25 as (Function of ( Seg R10 ) , ( REAL )) by L113;
L1228:
now
let R11 being (Element of ( Seg R10 ));
L1229: ( R14 . R12 ) < ( D103 . R12 ) by L1208 , L1226 , L1227;
L1230: (R11 = R12 or (R11 <> R12 & ( D101 . R11 ) = ( R15 . R11 ) & ( D103 . R11 ) = ( R15 . R11 ))) by L1229 , L1157 , L1158 , L1209;
thus L1231: ( D101 . R11 ) = ( D103 . R11 ) by L1230 , L1156 , L1157 , L1206 , L1226 , L372;
L1232: (R11 = R12 or (R11 <> R12 & ( D100 . R11 ) = ( R14 . R11 ) & ( D102 . R11 ) = ( R14 . R11 ))) by L1157 , L1158 , L1209 , L1229;
thus L1233: ( D100 . R11 ) = ( D102 . R11 ) by L1232 , L1157 , L1226;
end;
L1234: D100 = D102 by L1228 , FUNCT_2:63;
thus L1235: thesis by L1234 , L1203 , L1228 , FUNCT_2:63;
end;
end;

end;
suppose L1215: (for R11 being (Element of ( Seg R10 )) holds ( R17 . R11 ) < ( R16 . R11 ));

consider R13 being (Element of ( Seg R10 )) such that L1216: ((( R14 . R13 ) = ( R16 . R13 ) & ( R15 . R13 ) = ( R16 . R13 )) or (( R14 . R13 ) = ( R17 . R13 ) & ( R15 . R13 ) = ( R17 . R13 ))) by L1100 , L1101 , L1203 , L1207 , L886;
L1217: R12 = R13 by L1104 , L1216;
thus L1218: thesis
proof
per cases  by L1216 , L1217;
suppose L1219: (( R14 . R12 ) = ( R17 . R12 ) & ( R15 . R12 ) = ( R17 . R12 ));

L1220: ( R16 . R12 ) = ( R22 . R12 ) by L1219 , L1124 , L1125 , L1206 , L385;
L1221: D92 = ( infinite-cell R33 ) by L1220 , L1125 , L1126 , L1215 , L1219 , L1012;
thus L1222: thesis by L1221 , L1203 , L1215 , L1012;
end;
suppose L1223: (( R14 . R12 ) = ( R16 . R12 ) & ( R15 . R12 ) = ( R16 . R12 ));

L1224: ( R17 . R12 ) = ( R25 . R12 ) by L1223 , L1156 , L1157 , L1206 , L372;
L1225: D94 = ( infinite-cell R33 ) by L1224 , L1157 , L1158 , L1215 , L1223 , L1012;
thus L1226: thesis by L1225 , L1203 , L1215 , L1012;
end;
end;

end;
end;
thus L1220: thesis by L1108 , L85;
end;
theorem
L1221: (for R10 being non  zero (Element of ( NAT )) holds (for B99 being (Grating of R10) holds (for B100 being (Cell of ( ( 0 ) + 1 ) , B99) holds ( card ( del { B100 } ) ) = 2)))
proof
let R10 being non  zero (Element of ( NAT ));
L1222: ( ( 0 ) + 1 ) <= R10 by L15;
let C106 being (Grating of R10);
let C107 being (Cell of ( ( 0 ) + 1 ) , C106);
consider R14 being (Element of ( REAL R10 )), R15 being (Element of ( REAL R10 )), R12 being (Element of ( Seg R10 )) such that L1223: C107 = ( cell (R14 , R15) ) and L1224: (( R14 . R12 ) < ( R15 . R12 ) or (R10 = 1 & ( R15 . R12 ) < ( R14 . R12 ))) and L1225: [ ( R14 . R12 ) , ( R15 . R12 ) ] is (Gap of ( C106 . R12 )) and L1226: (for R11 being (Element of ( Seg R10 )) holds (R11 <> R12 implies (( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( C106 . R11 )))) by L811;
L1227: (ex B101 , B102 being set st (B101 in ( del { C107 } ) & B102 in ( del { C107 } ) & B101 <> B102 & (for B103 being set holds (B103 in ( del { C107 } ) implies (B103 = B101 or B103 = B102)))))
proof
L1228: (for R11 being (Element of ( Seg R10 )) holds (( R14 . R11 ) in ( C106 . R11 ) & ( R15 . R11 ) in ( C106 . R11 ))) by L1222 , L1223 , L706;
reconsider D104 = ( cell (R14 , R14) ) , D105 = ( cell (R15 , R15) ) as (Cell of ( 0 ) , C106) by L1228 , L728;
take D104;
take D105;
L1229: D104 = { R14 } by L436;
L1230: D105 = { R15 } by L436;
L1231: R14 in C107 by L1223 , L432;
L1232: R15 in C107 by L1223 , L432;
L1233: { R14 } c= C107 by L1231 , ZFMISC_1:31;
L1234: { R15 } c= C107 by L1232 , ZFMISC_1:31;
thus L1235: (D104 in ( del { C107 } ) & D105 in ( del { C107 } )) by L1234 , L1222 , L1229 , L1230 , L1233 , L1080;
thus L1236: D104 <> D105 by L1224 , L1229 , L1230 , ZFMISC_1:3;
let C108 being set;
assume L1237: C108 in ( del { C107 } );
reconsider D106 = C108 as (Cell of ( 0 ) , C106) by L1237;
L1238: D106 c= C107 by L1222 , L1237 , L1080;
consider R20 being (Element of ( REAL R10 )) such that L1239: D106 = ( cell (R20 , R20) ) and L1240: (for R11 being (Element of ( Seg R10 )) holds ( R20 . R11 ) in ( C106 . R11 )) by L712;
L1241: R20 in D106 by L1239 , L432;
per cases  by L1224;
suppose L1242: ( R14 . R12 ) < ( R15 . R12 );

L1243:
now
let R11 being (Element of ( Seg R10 ));
L1244: (R11 = R12 or R11 <> R12);
thus L1245: ( R14 . R11 ) <= ( R15 . R11 ) by L1244 , L1226 , L1242;
end;
L1246: ( R20 . R12 ) in ( C106 . R12 ) by L1240;
L1247: ( R14 . R12 ) <= ( R20 . R12 ) by L1223 , L1238 , L1241 , L1243 , L420;
L1248: ( R20 . R12 ) <= ( R15 . R12 ) by L1223 , L1238 , L1241 , L1243 , L420;
L1249: (not (( R14 . R12 ) < ( R20 . R12 ) & ( R20 . R12 ) < ( R15 . R12 ))) by L1225 , L1246 , L272;
L1250:
now
let R11 being (Element of ( Seg R10 ));
assume L1251: R11 <> R12;
L1252: ( R14 . R11 ) = ( R15 . R11 ) by L1251 , L1226;
L1253: ( R14 . R11 ) <= ( R20 . R11 ) by L1223 , L1238 , L1241 , L1243 , L420;
L1254: ( R20 . R11 ) <= ( R15 . R11 ) by L1223 , L1238 , L1241 , L1243 , L420;
thus L1255: (( R20 . R11 ) = ( R14 . R11 ) & ( R20 . R11 ) = ( R15 . R11 )) by L1254 , L1252 , L1253 , XXREAL_0:1;
end;
thus L1256: thesis
proof
per cases  by L1247 , L1248 , L1249 , XXREAL_0:1;
suppose L1257: ( R20 . R12 ) = ( R14 . R12 );

reconsider D107 = R20 , D108 = R14 as (Function of ( Seg R10 ) , ( REAL )) by L113;
L1258:
now
let R11 being (Element of ( Seg R10 ));
L1259: (R11 = R12 or R11 <> R12);
thus L1260: ( D107 . R11 ) = ( D108 . R11 ) by L1259 , L1250 , L1257;
end;
L1261: D107 = D108 by L1258 , FUNCT_2:63;
thus L1262: thesis by L1261 , L1239;
end;
suppose L1263: ( R20 . R12 ) = ( R15 . R12 );

reconsider D109 = R20 , D110 = R15 as (Function of ( Seg R10 ) , ( REAL )) by L113;
L1264:
now
let R11 being (Element of ( Seg R10 ));
L1265: (R11 = R12 or R11 <> R12);
thus L1266: ( D109 . R11 ) = ( D110 . R11 ) by L1265 , L1250 , L1263;
end;
L1267: D109 = D110 by L1264 , FUNCT_2:63;
thus L1268: thesis by L1267 , L1239;
end;
end;

end;
suppose L1257: (R10 = 1 & ( R15 . R12 ) < ( R14 . R12 ));

L1258: (for R11 being (Element of ( Seg R10 )) holds R11 = R12)
proof
let R11 being (Element of ( Seg R10 ));
L1259: 1 <= R11 by FINSEQ_1:1;
L1260: R11 <= R10 by FINSEQ_1:1;
L1261: 1 <= R12 by FINSEQ_1:1;
L1262: R12 <= R10 by FINSEQ_1:1;
L1263: R11 = 1 by L1257 , L1259 , L1260 , XXREAL_0:1;
thus L1264: thesis by L1263 , L1257 , L1261 , L1262 , XXREAL_0:1;
end;
consider R13 being (Element of ( Seg R10 )) such that L1265: ( R15 . R13 ) < ( R14 . R13 ) and L1266: (( R20 . R13 ) <= ( R15 . R13 ) or ( R14 . R13 ) <= ( R20 . R13 )) by L1223 , L1238 , L1241 , L1257 , L427;
L1267: R13 = R12 by L1258;
L1268: ( R20 . R12 ) in ( C106 . R12 ) by L1240;
L1269: (not ( R20 . R12 ) < ( R15 . R12 )) by L1268 , L1225 , L1257 , L272;
L1270: (not ( R14 . R12 ) < ( R20 . R12 )) by L1225 , L1257 , L1268 , L272;
thus L1271: thesis
proof
per cases  by L1266 , L1267 , L1269 , L1270 , XXREAL_0:1;
suppose L1272: ( R20 . R12 ) = ( R15 . R12 );

reconsider D111 = R20 , D112 = R15 as (Function of ( Seg R10 ) , ( REAL )) by L113;
L1273:
now
let R11 being (Element of ( Seg R10 ));
L1274: R11 = R12 by L1258;
thus L1275: ( D111 . R11 ) = ( D112 . R11 ) by L1274 , L1272;
end;
L1276: D111 = D112 by L1273 , FUNCT_2:63;
thus L1277: thesis by L1276 , L1239;
end;
suppose L1278: ( R20 . R12 ) = ( R14 . R12 );

reconsider D113 = R20 , D114 = R14 as (Function of ( Seg R10 ) , ( REAL )) by L113;
L1279:
now
let R11 being (Element of ( Seg R10 ));
L1280: R11 = R12 by L1258;
thus L1281: ( D113 . R11 ) = ( D114 . R11 ) by L1280 , L1278;
end;
L1282: D113 = D114 by L1279 , FUNCT_2:63;
thus L1283: thesis by L1282 , L1239;
end;
end;

end;
end;
thus L1273: thesis by L1227 , L85;
end;
theorem
L1274: (for R10 being non  zero (Element of ( NAT )) holds (for R33 being (Grating of R10) holds (( Omega R33 ) = ( ( 0_ (R10 , R33) ) ` ) & ( 0_ (R10 , R33) ) = ( ( Omega R33 ) ` ))))
proof
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
L1275: ( Omega R33 ) = ( ( 0_ (R10 , R33) ) ` );
thus L1276: thesis by L1275;
end;
theorem
L1277: (for R7 being (Element of ( NAT )) holds (for R10 being non  zero (Element of ( NAT )) holds (for R33 being (Grating of R10) holds (for B104 being (Chain of R7 , R33) holds ( B104 + ( 0_ (R7 , R33) ) ) = B104))));
theorem
L1278: (for R10 being non  zero (Element of ( NAT )) holds (for R33 being (Grating of R10) holds (for B105 being (Chain of R10 , R33) holds ( B105 ` ) = ( B105 + ( Omega R33 ) ))))
proof
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let C109 being (Chain of R10 , R33);
L1279: ( C109 /\ ( cells (R10 , R33) ) ) = C109 by XBOOLE_1:28;
thus L1280: thesis by L1279 , XBOOLE_1:100;
end;
theorem
L1281: (for R7 being (Element of ( NAT )) holds (for R10 being non  zero (Element of ( NAT )) holds (for R33 being (Grating of R10) holds ( del ( 0_ (( R7 + 1 ) , R33) ) ) = ( 0_ (R7 , R33) ))))
proof
let R7 being (Element of ( NAT ));
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
L1282:
now
let C110 being (Cell of R7 , R33);
L1283: ( card ( ( star C110 ) /\ ( 0_ (( R7 + 1 ) , R33) ) ) ) = ( 2 * ( 0 ) );
thus L1284: (C110 in ( del ( 0_ (( R7 + 1 ) , R33) ) ) iff C110 in ( 0_ (R7 , R33) )) by L1283 , L1073;
end;
thus L1285: thesis by L1282 , SUBSET_1:3;
end;
theorem
L1286: (for R9 being (Element of ( NAT )) holds (for B106 being (Grating of ( R9 + 1 )) holds ( del ( Omega B106 ) ) = ( 0_ (R9 , B106) )))
proof
let R9 being (Element of ( NAT ));
let C111 being (Grating of ( R9 + 1 ));
L1287:
now
let C112 being (Cell of R9 , C111);
L1288: ( ( star C112 ) /\ ( Omega C111 ) ) = ( star C112 ) by XBOOLE_1:28;
L1289: ( card ( ( star C112 ) /\ ( Omega C111 ) ) ) = ( 2 * 1 ) by L1288 , L1098;
thus L1290: (C112 in ( del ( Omega C111 ) ) iff C112 in ( 0_ (R9 , C111) )) by L1289 , L1073;
end;
thus L1291: thesis by L1287 , SUBSET_1:3;
end;
theorem
L1292: (for R7 being (Element of ( NAT )) holds (for R10 being non  zero (Element of ( NAT )) holds (for R33 being (Grating of R10) holds (for B107 , B108 being (Chain of ( R7 + 1 ) , R33) holds ( del ( B107 + B108 ) ) = ( ( del B107 ) + ( del B108 ) )))))
proof
let R7 being (Element of ( NAT ));
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let C113 , C114 being (Chain of ( R7 + 1 ) , R33);
L1293:
now
let C115 being (Cell of R7 , R33);
L1294: ( ( star C115 ) /\ ( C113 \+\ C114 ) ) = ( ( ( star C115 ) /\ C113 ) \+\ ( ( star C115 ) /\ C114 ) ) by XBOOLE_1:112;
L1295: (C115 in ( del ( C113 + C114 ) ) iff (( R7 + 1 ) <= R10 & ( card ( ( star C115 ) /\ ( C113 \+\ C114 ) ) ) is  odd)) by L1073;
L1296: (C115 in ( del C113 ) iff (( R7 + 1 ) <= R10 & ( card ( ( star C115 ) /\ C113 ) ) is  odd)) by L1073;
L1297: (C115 in ( del C114 ) iff (( R7 + 1 ) <= R10 & ( card ( ( star C115 ) /\ C114 ) ) is  odd)) by L1073;
thus L1298: (C115 in ( del ( C113 + C114 ) ) iff C115 in ( ( del C113 ) + ( del C114 ) )) by L1297 , L1294 , L1295 , L1296 , L103 , XBOOLE_0:1;
end;
thus L1299: thesis by L1293 , SUBSET_1:3;
end;
theorem
L1300: (for R9 being (Element of ( NAT )) holds (for B109 being (Grating of ( R9 + 1 )) holds (for B110 being (Chain of ( R9 + 1 ) , B109) holds ( del ( B110 ` ) ) = ( del B110 ))))
proof
let R9 being (Element of ( NAT ));
let C116 being (Grating of ( R9 + 1 ));
let C117 being (Chain of ( R9 + 1 ) , C116);
thus L1301: ( del ( C117 ` ) ) = ( del ( C117 + ( Omega C116 ) ) ) by L1278
.= ( ( del C117 ) + ( del ( Omega C116 ) ) ) by L1292
.= ( ( del C117 ) + ( 0_ (R9 , C116) ) ) by L1286
.= ( del C117 );
end;
theorem
L1302: (for R7 being (Element of ( NAT )) holds (for R10 being non  zero (Element of ( NAT )) holds (for R33 being (Grating of R10) holds (for B111 being (Chain of ( ( R7 + 1 ) + 1 ) , R33) holds ( del ( del B111 ) ) = ( 0_ (R7 , R33) )))))
proof
let R7 being (Element of ( NAT ));
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let C118 being (Chain of ( ( R7 + 1 ) + 1 ) , R33);
per cases ;
suppose L1303: ( ( R7 + 1 ) + 1 ) <= R10;

L1304: ( R7 + 1 ) < R10 by L1303 , NAT_1:13;
L1305: R7 < R10 by L1304 , NAT_1:13;
L1306: (for B112 being (Cell of ( ( R7 + 1 ) + 1 ) , R33) holds (for R14 being (Element of ( REAL R10 )) holds (for R15 being (Element of ( REAL R10 )) holds ((B112 = ( cell (R14 , R15) ) & (for R11 being (Element of ( Seg R10 )) holds ( R14 . R11 ) <= ( R15 . R11 ))) implies ( del ( del { B112 } ) ) = ( 0_ (R7 , R33) )))))
proof
let C119 being (Cell of ( ( R7 + 1 ) + 1 ) , R33);
let R14 being (Element of ( REAL R10 ));
let R15 being (Element of ( REAL R10 ));
assume that
L1307: C119 = ( cell (R14 , R15) )
and
L1308: (for R11 being (Element of ( Seg R10 )) holds ( R14 . R11 ) <= ( R15 . R11 ));
L1309:
now
let C120 being set;
assume L1310: C120 in ( del ( del { C119 } ) );
reconsider D115 = C120 as (Cell of R7 , R33) by L1310;
set D116 = ( ( star D115 ) /\ ( del { C119 } ) );
L1311:
now
let C121 being (Cell of ( R7 + 1 ) , R33);
L1312: (C121 in D116 iff (C121 in ( star D115 ) & C121 in ( del { C119 } ))) by XBOOLE_0:def 4;
thus L1313: (C121 in D116 iff (D115 c= C121 & C121 c= C119)) by L1312 , L1303 , L1065 , L1080;
end;
L1314: ( card D116 ) is  odd by L1310 , L1073;
consider C122 being set such that L1315: C122 in D116 by L1314 , CARD_1:27 , XBOOLE_0:def 1;
reconsider D117 = C122 as (Cell of ( R7 + 1 ) , R33) by L1315;
L1316: D115 c= D117 by L1311 , L1315;
L1317: D117 c= C119 by L1311 , L1315;
L1318: D115 c= C119 by L1317 , L1316 , XBOOLE_1:1;
set D118 = the (Element of ( Seg R10 ));
L1319: ( R14 . D118 ) <= ( R15 . D118 ) by L1308;
consider C123 being (Subset of ( Seg R10 )) such that L1320: ( card C123 ) = ( ( R7 + 1 ) + 1 ) and L1321: (for R11 being (Element of ( Seg R10 )) holds ((R11 in C123 & ( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in C123) & ( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 )))) by L1319 , L1303 , L1307 , L683;
consider R16 being (Element of ( REAL R10 )), R17 being (Element of ( REAL R10 )) such that L1322: D115 = ( cell (R16 , R17) ) and L1323: ((ex B113 being (Subset of ( Seg R10 )) st (( card B113 ) = R7 & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B113 & ( R16 . R11 ) < ( R17 . R11 ) & [ ( R16 . R11 ) , ( R17 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B113) & ( R16 . R11 ) = ( R17 . R11 ) & ( R16 . R11 ) in ( R33 . R11 )))))) or (R7 = R10 & (for R11 being (Element of ( Seg R10 )) holds (( R17 . R11 ) < ( R16 . R11 ) & [ ( R16 . R11 ) , ( R17 . R11 ) ] is (Gap of ( R33 . R11 )))))) by L1305 , L679;
L1324: ( R16 . D118 ) <= ( R17 . D118 ) by L1307 , L1308 , L1318 , L1322 , L448;
consider C124 being (Subset of ( Seg R10 )) such that L1325: ( card C124 ) = R7 and L1326: (for R11 being (Element of ( Seg R10 )) holds ((R11 in C124 & ( R16 . R11 ) < ( R17 . R11 ) & [ ( R16 . R11 ) , ( R17 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in C124) & ( R16 . R11 ) = ( R17 . R11 ) & ( R16 . R11 ) in ( R33 . R11 )))) by L1324 , L1323;
L1327: (ex B114 , B115 being set st (B114 in D116 & B115 in D116 & B114 <> B115 & (for B116 being set holds (B116 in D116 implies (B116 = B114 or B116 = B115)))))
proof
L1328: C124 c= C123 by L1307 , L1318 , L1321 , L1322 , L1326 , L936;
L1329: ( card ( C123 \ C124 ) ) = ( ( R7 + ( 1 + 1 ) ) - R7 ) by L1328 , L1320 , L1325 , CARD_2:44
.= 2;
consider C125 , C126 being set such that L1330: C125 in ( C123 \ C124 ) and L1331: C126 in ( C123 \ C124 ) and L1332: C125 <> C126 and L1333: (for B117 being set holds (B117 in ( C123 \ C124 ) implies (B117 = C125 or B117 = C126))) by L1329 , L85;
L1334: C125 in C123 by L1330 , XBOOLE_0:def 5;
L1335: C126 in C123 by L1331 , XBOOLE_0:def 5;
L1336: (not C125 in C124) by L1330 , XBOOLE_0:def 5;
L1337: (not C126 in C124) by L1331 , XBOOLE_0:def 5;
reconsider D119 = C125 , D120 = C126 as (Element of ( Seg R10 )) by L1330 , L1331;
set D121 = ( C124 \/ { D119 } );
L1338: C124 c= D121 by XBOOLE_1:7;
L1339: { D119 } c= C123 by L1334 , ZFMISC_1:31;
L1340: D121 c= C123 by L1339 , L1328 , XBOOLE_1:8;
defpred S29[ (Element of ( Seg R10 )) , Real ] means (($1 in D121 implies $2 = ( R14 . $1 )) & ((not $1 in D121) implies $2 = ( R16 . $1 )));
L1341: (for R11 being (Element of ( Seg R10 )) holds (ex R31 being Real st S29[ R11 , R31 ]))
proof
let R11 being (Element of ( Seg R10 ));
L1342: (R11 in D121 or (not R11 in D121));
thus L1343: thesis by L1342;
end;
consider C127 being (Function of ( Seg R10 ) , ( REAL )) such that L1344: (for R11 being (Element of ( Seg R10 )) holds S29[ R11 , ( C127 . R11 ) ]) from FUNCT_2:sch 3(L1341);
defpred S30[ (Element of ( Seg R10 )) , Real ] means (($1 in D121 implies $2 = ( R15 . $1 )) & ((not $1 in D121) implies $2 = ( R17 . $1 )));
L1345: (for R11 being (Element of ( Seg R10 )) holds (ex R31 being Real st S30[ R11 , R31 ]))
proof
let R11 being (Element of ( Seg R10 ));
L1346: (R11 in D121 or (not R11 in D121));
thus L1347: thesis by L1346;
end;
consider C128 being (Function of ( Seg R10 ) , ( REAL )) such that L1348: (for R11 being (Element of ( Seg R10 )) holds S30[ R11 , ( C128 . R11 ) ]) from FUNCT_2:sch 3(L1345);
reconsider D122 = C127 , D123 = C128 as (Element of ( REAL R10 )) by L113;
L1349: (for R11 being (Element of ( Seg R10 )) holds ( D122 . R11 ) <= ( D123 . R11 ))
proof
let R11 being (Element of ( Seg R10 ));
L1350: ((( D122 . R11 ) = ( R14 . R11 ) & ( D123 . R11 ) = ( R15 . R11 )) or (( D122 . R11 ) = ( R16 . R11 ) & ( D123 . R11 ) = ( R17 . R11 ))) by L1344 , L1348;
thus L1351: thesis by L1350 , L1321 , L1326;
end;
L1352: ( card D121 ) = ( ( card C124 ) + ( card { D119 } ) ) by L1336 , CARD_2:40 , ZFMISC_1:50
.= ( R7 + 1 ) by L1325 , CARD_1:30;
L1353: (for R11 being (Element of ( Seg R10 )) holds ((R11 in D121 & ( D122 . R11 ) < ( D123 . R11 ) & [ ( D122 . R11 ) , ( D123 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in D121) & ( D122 . R11 ) = ( D123 . R11 ) & ( D122 . R11 ) in ( R33 . R11 ))))
proof
let R11 being (Element of ( Seg R10 ));
per cases ;
suppose L1354: R11 in D121;

L1355: ( D122 . R11 ) = ( R14 . R11 ) by L1354 , L1344;
L1356: ( D123 . R11 ) = ( R15 . R11 ) by L1348 , L1354;
thus L1357: thesis by L1356 , L1321 , L1340 , L1354 , L1355;
end;
suppose L1358: (not R11 in D121);

L1359: ( D122 . R11 ) = ( R16 . R11 ) by L1358 , L1344;
L1360: ( D123 . R11 ) = ( R17 . R11 ) by L1348 , L1358;
L1361: (not R11 in C124) by L1338 , L1358;
thus L1362: thesis by L1361 , L1326 , L1358 , L1359 , L1360;
end;
end;
reconsider D124 = ( cell (D122 , D123) ) as (Cell of ( R7 + 1 ) , R33) by L1353 , L1304 , L1352 , L683;
set D125 = ( C124 \/ { D120 } );
L1364: C124 c= D125 by XBOOLE_1:7;
L1365: { D120 } c= C123 by L1335 , ZFMISC_1:31;
L1366: D125 c= C123 by L1365 , L1328 , XBOOLE_1:8;
defpred S31[ (Element of ( Seg R10 )) , Real ] means (($1 in D125 implies $2 = ( R14 . $1 )) & ((not $1 in D125) implies $2 = ( R16 . $1 )));
L1367: (for R11 being (Element of ( Seg R10 )) holds (ex R31 being Real st S31[ R11 , R31 ]))
proof
let R11 being (Element of ( Seg R10 ));
L1368: (R11 in D125 or (not R11 in D125));
thus L1369: thesis by L1368;
end;
consider C129 being (Function of ( Seg R10 ) , ( REAL )) such that L1370: (for R11 being (Element of ( Seg R10 )) holds S31[ R11 , ( C129 . R11 ) ]) from FUNCT_2:sch 3(L1367);
defpred S32[ (Element of ( Seg R10 )) , Real ] means (($1 in D125 implies $2 = ( R15 . $1 )) & ((not $1 in D125) implies $2 = ( R17 . $1 )));
L1371: (for R11 being (Element of ( Seg R10 )) holds (ex R31 being Real st S32[ R11 , R31 ]))
proof
let R11 being (Element of ( Seg R10 ));
L1372: (R11 in D125 or (not R11 in D125));
thus L1373: thesis by L1372;
end;
consider C130 being (Function of ( Seg R10 ) , ( REAL )) such that L1374: (for R11 being (Element of ( Seg R10 )) holds S32[ R11 , ( C130 . R11 ) ]) from FUNCT_2:sch 3(L1371);
reconsider D126 = C129 , D127 = C130 as (Element of ( REAL R10 )) by L113;
L1375: ( card D125 ) = ( ( card C124 ) + ( card { D120 } ) ) by L1337 , CARD_2:40 , ZFMISC_1:50
.= ( R7 + 1 ) by L1325 , CARD_1:30;
L1376: (for R11 being (Element of ( Seg R10 )) holds ((R11 in D125 & ( D126 . R11 ) < ( D127 . R11 ) & [ ( D126 . R11 ) , ( D127 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in D125) & ( D126 . R11 ) = ( D127 . R11 ) & ( D126 . R11 ) in ( R33 . R11 ))))
proof
let R11 being (Element of ( Seg R10 ));
per cases ;
suppose L1377: R11 in D125;

L1378: ( D126 . R11 ) = ( R14 . R11 ) by L1377 , L1370;
L1379: ( D127 . R11 ) = ( R15 . R11 ) by L1374 , L1377;
thus L1380: thesis by L1379 , L1321 , L1366 , L1377 , L1378;
end;
suppose L1381: (not R11 in D125);

L1382: ( D126 . R11 ) = ( R16 . R11 ) by L1381 , L1370;
L1383: ( D127 . R11 ) = ( R17 . R11 ) by L1374 , L1381;
L1384: (not R11 in C124) by L1364 , L1381;
thus L1385: thesis by L1384 , L1326 , L1381 , L1382 , L1383;
end;
end;
reconsider D128 = ( cell (D126 , D127) ) as (Cell of ( R7 + 1 ) , R33) by L1376 , L1304 , L1375 , L683;
take D124;
take D128;
L1387: (for R11 being (Element of ( Seg R10 )) holds (( D122 . R11 ) <= ( R16 . R11 ) & ( R16 . R11 ) <= ( R17 . R11 ) & ( R17 . R11 ) <= ( D123 . R11 ) & ( R14 . R11 ) <= ( D122 . R11 ) & ( D122 . R11 ) <= ( D123 . R11 ) & ( D123 . R11 ) <= ( R15 . R11 )))
proof
let R11 being (Element of ( Seg R10 ));
per cases ;
suppose L1388: R11 in D121;

L1389: ( D122 . R11 ) = ( R14 . R11 ) by L1388 , L1344;
L1390: ( D123 . R11 ) = ( R15 . R11 ) by L1348 , L1388;
thus L1391: thesis by L1390 , L1307 , L1308 , L1318 , L1322 , L1389 , L448;
end;
suppose L1392: (not R11 in D121);

L1393: ( D122 . R11 ) = ( R16 . R11 ) by L1392 , L1344;
L1394: ( D123 . R11 ) = ( R17 . R11 ) by L1348 , L1392;
thus L1395: thesis by L1394 , L1307 , L1308 , L1318 , L1322 , L1393 , L448;
end;
end;
L1397: D115 c= D124 by L1387 , L1322 , L448;
L1398: D124 c= C119 by L1307 , L1308 , L1387 , L448;
thus L1399: D124 in D116 by L1398 , L1311 , L1397;
L1400: (for R11 being (Element of ( Seg R10 )) holds (( D126 . R11 ) <= ( R16 . R11 ) & ( R16 . R11 ) <= ( R17 . R11 ) & ( R17 . R11 ) <= ( D127 . R11 ) & ( R14 . R11 ) <= ( D126 . R11 ) & ( D126 . R11 ) <= ( D127 . R11 ) & ( D127 . R11 ) <= ( R15 . R11 )))
proof
let R11 being (Element of ( Seg R10 ));
per cases ;
suppose L1401: R11 in D125;

L1402: ( D126 . R11 ) = ( R14 . R11 ) by L1401 , L1370;
L1403: ( D127 . R11 ) = ( R15 . R11 ) by L1374 , L1401;
thus L1404: thesis by L1403 , L1307 , L1308 , L1318 , L1322 , L1402 , L448;
end;
suppose L1405: (not R11 in D125);

L1406: ( D126 . R11 ) = ( R16 . R11 ) by L1405 , L1370;
L1407: ( D127 . R11 ) = ( R17 . R11 ) by L1374 , L1405;
thus L1408: thesis by L1407 , L1307 , L1308 , L1318 , L1322 , L1406 , L448;
end;
end;
L1410: D115 c= D128 by L1400 , L1322 , L448;
L1411: D128 c= C119 by L1307 , L1308 , L1400 , L448;
thus L1412: D128 in D116 by L1411 , L1311 , L1410;
L1413: D119 in { D119 } by TARSKI:def 1;
L1414: D119 in D121 by L1413 , XBOOLE_0:def 3;
L1415: (not D119 in C124) by L1330 , XBOOLE_0:def 5;
L1416: (not D119 in { D120 }) by L1332 , TARSKI:def 1;
L1417: (not D119 in D125) by L1416 , L1415 , XBOOLE_0:def 3;
L1418: ( D122 . D119 ) = ( R14 . D119 ) by L1344 , L1414;
L1419: ( D123 . D119 ) = ( R15 . D119 ) by L1348 , L1414;
L1420: ( D126 . D119 ) = ( R16 . D119 ) by L1370 , L1417;
L1421: ( D127 . D119 ) = ( R17 . D119 ) by L1374 , L1417;
L1422: ( R14 . D119 ) < ( R15 . D119 ) by L1321 , L1334;
L1423: (D122 <> D126 or D123 <> D127) by L1422 , L1326 , L1336 , L1418 , L1419 , L1420 , L1421;
thus L1424: D124 <> D128 by L1423 , L1349 , L574;
let C131 being set;
assume L1425: C131 in D116;
reconsider D129 = C131 as (Cell of ( R7 + 1 ) , R33) by L1425;
L1426: D115 c= D129 by L1311 , L1425;
L1427: D129 c= C119 by L1311 , L1425;
consider R18 being (Element of ( REAL R10 )), R19 being (Element of ( REAL R10 )) such that L1428: D129 = ( cell (R18 , R19) ) and L1429: ((ex B118 being (Subset of ( Seg R10 )) st (( card B118 ) = ( R7 + 1 ) & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B118 & ( R18 . R11 ) < ( R19 . R11 ) & [ ( R18 . R11 ) , ( R19 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B118) & ( R18 . R11 ) = ( R19 . R11 ) & ( R18 . R11 ) in ( R33 . R11 )))))) or (( R7 + 1 ) = R10 & (for R11 being (Element of ( Seg R10 )) holds (( R19 . R11 ) < ( R18 . R11 ) & [ ( R18 . R11 ) , ( R19 . R11 ) ] is (Gap of ( R33 . R11 )))))) by L1304 , L679;
L1430: ( R18 . D118 ) <= ( R19 . D118 ) by L1307 , L1308 , L1427 , L1428 , L448;
consider C132 being (Subset of ( Seg R10 )) such that L1431: ( card C132 ) = ( R7 + 1 ) and L1432: (for R11 being (Element of ( Seg R10 )) holds ((R11 in C132 & ( R18 . R11 ) < ( R19 . R11 ) & [ ( R18 . R11 ) , ( R19 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in C132) & ( R18 . R11 ) = ( R19 . R11 ) & ( R18 . R11 ) in ( R33 . R11 )))) by L1430 , L1429;
L1433: C124 c= C132 by L1322 , L1326 , L1426 , L1428 , L1432 , L936;
L1434: C132 c= C123 by L1307 , L1321 , L1427 , L1428 , L1432 , L936;
L1435: ( card ( C132 \ C124 ) ) = ( ( R7 + 1 ) - R7 ) by L1325 , L1431 , L1433 , CARD_2:44
.= 1;
consider C133 being set such that L1436: ( C132 \ C124 ) = { C133 } by L1435 , CARD_2:42;
L1437: C133 in ( C132 \ C124 ) by L1436 , TARSKI:def 1;
reconsider D130 = C133 as (Element of ( Seg R10 )) by L1437;
L1438: D130 in C132 by L1437 , XBOOLE_0:def 5;
L1439: (not D130 in C124) by L1437 , XBOOLE_0:def 5;
L1440: D130 in ( C123 \ C124 ) by L1439 , L1434 , L1438 , XBOOLE_0:def 5;
L1441: C132 = ( C124 \/ C132 ) by L1433 , XBOOLE_1:12
.= ( C124 \/ { D130 } ) by L1436 , XBOOLE_1:39;
per cases  by L1333 , L1440 , L1441;
suppose L1442: C132 = D121;

reconsider D131 = R18 , D132 = R19 , D133 = D122 , D134 = D123 as (Function of ( Seg R10 ) , ( REAL )) by L113;
L1443:
now
let R11 being (Element of ( Seg R10 ));
L1444: (R11 in C132 or (not R11 in C132));
L1445: ((( D131 . R11 ) = ( R14 . R11 ) & ( D133 . R11 ) = ( R14 . R11 ) & ( D132 . R11 ) = ( R15 . R11 ) & ( D134 . R11 ) = ( R15 . R11 )) or (( D131 . R11 ) = ( R16 . R11 ) & ( D133 . R11 ) = ( R16 . R11 ) & ( D132 . R11 ) = ( R17 . R11 ) & ( D134 . R11 ) = ( R17 . R11 ))) by L1444 , L1307 , L1321 , L1322 , L1326 , L1344 , L1348 , L1426 , L1427 , L1428 , L1432 , L1442 , L936;
thus L1446: (( D131 . R11 ) = ( D133 . R11 ) & ( D132 . R11 ) = ( D134 . R11 )) by L1445;
end;
L1447: D131 = D133 by L1443 , FUNCT_2:63;
thus L1448: thesis by L1447 , L1428 , L1443 , FUNCT_2:63;
end;
suppose L1449: C132 = D125;

reconsider D135 = R18 , D136 = R19 , D137 = D126 , D138 = D127 as (Function of ( Seg R10 ) , ( REAL )) by L113;
L1450:
now
let R11 being (Element of ( Seg R10 ));
L1451: (R11 in C132 or (not R11 in C132));
L1452: ((( D135 . R11 ) = ( R14 . R11 ) & ( D137 . R11 ) = ( R14 . R11 ) & ( D136 . R11 ) = ( R15 . R11 ) & ( D138 . R11 ) = ( R15 . R11 )) or (( D135 . R11 ) = ( R16 . R11 ) & ( D137 . R11 ) = ( R16 . R11 ) & ( D136 . R11 ) = ( R17 . R11 ) & ( D138 . R11 ) = ( R17 . R11 ))) by L1451 , L1307 , L1321 , L1322 , L1326 , L1370 , L1374 , L1426 , L1427 , L1428 , L1432 , L1449 , L936;
thus L1453: (( D135 . R11 ) = ( D137 . R11 ) & ( D136 . R11 ) = ( D138 . R11 )) by L1452;
end;
L1454: D135 = D137 by L1450 , FUNCT_2:63;
thus L1455: thesis by L1454 , L1428 , L1450 , FUNCT_2:63;
end;
end;
L1457: ( card D116 ) = ( 2 * 1 ) by L1327 , L85;
thus L1458: contradiction by L1457 , L1310 , L1073;
end;
thus L1459: thesis by L1309 , XBOOLE_0:def 1;
end;
L1460: (for B119 , B120 being (Chain of ( ( R7 + 1 ) + 1 ) , R33) holds ((( del ( del B119 ) ) = ( 0_ (R7 , R33) ) & ( del ( del B120 ) ) = ( 0_ (R7 , R33) )) implies ( del ( del ( B119 + B120 ) ) ) = ( 0_ (R7 , R33) )))
proof
let C134 , C135 being (Chain of ( ( R7 + 1 ) + 1 ) , R33);
assume that
L1461: ( del ( del C134 ) ) = ( 0_ (R7 , R33) )
and
L1462: ( del ( del C135 ) ) = ( 0_ (R7 , R33) );
thus L1463: ( del ( del ( C134 + C135 ) ) ) = ( del ( ( del C134 ) + ( del C135 ) ) ) by L1292
.= ( ( 0_ (R7 , R33) ) + ( 0_ (R7 , R33) ) ) by L1461 , L1462 , L1292
.= ( 0_ (R7 , R33) );
end;
defpred S33[ (Chain of ( ( R7 + 1 ) + 1 ) , R33) ] means ( del ( del $1 ) ) = ( 0_ (R7 , R33) );
L1464: ( del ( del ( 0_ (( ( R7 + 1 ) + 1 ) , R33) ) ) ) = ( del ( 0_ (( R7 + 1 ) , R33) ) ) by L1281
.= ( 0_ (R7 , R33) ) by L1281;
L1465: S33[ ( 0_ (( ( R7 + 1 ) + 1 ) , R33) ) ] by L1464;
L1466: (for B121 being (Cell of ( ( R7 + 1 ) + 1 ) , R33) holds ( del ( del { B121 } ) ) = ( 0_ (R7 , R33) ))
proof
let C136 being (Cell of ( ( R7 + 1 ) + 1 ) , R33);
consider R14 being (Element of ( REAL R10 )), R15 being (Element of ( REAL R10 )) such that L1467: C136 = ( cell (R14 , R15) ) and L1468: ((ex B122 being (Subset of ( Seg R10 )) st (( card B122 ) = ( ( R7 + 1 ) + 1 ) & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B122 & ( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B122) & ( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 )))))) or (( ( R7 + 1 ) + 1 ) = R10 & (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) < ( R14 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 )))))) by L1303 , L679;
per cases  by L1468;
suppose L1469: (ex B123 being (Subset of ( Seg R10 )) st (( card B123 ) = ( ( R7 + 1 ) + 1 ) & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B123 & ( R14 . R11 ) < ( R15 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B123) & ( R14 . R11 ) = ( R15 . R11 ) & ( R14 . R11 ) in ( R33 . R11 ))))));

L1470: (for R11 being (Element of ( Seg R10 )) holds ( R14 . R11 ) <= ( R15 . R11 )) by L1469;
thus L1471: thesis by L1470 , L1306 , L1467;
end;
suppose L1472: (( ( R7 + 1 ) + 1 ) = R10 & (for R11 being (Element of ( Seg R10 )) holds (( R15 . R11 ) < ( R14 . R11 ) & [ ( R14 . R11 ) , ( R15 . R11 ) ] is (Gap of ( R33 . R11 )))));

L1473: C136 = ( infinite-cell R33 ) by L1472 , L1467 , L1026;
set D139 = ( { C136 } ` );
L1474: (for B124 being (Cell of ( ( R7 + 1 ) + 1 ) , R33) holds (B124 in D139 implies S33[ { B124 } ]))
proof
let C137 being (Cell of ( ( R7 + 1 ) + 1 ) , R33);
assume L1475: C137 in D139;
L1476: (not C137 in { C136 }) by L1475 , XBOOLE_0:def 5;
L1477: C137 <> ( infinite-cell R33 ) by L1476 , L1473 , TARSKI:def 1;
consider R16 being (Element of ( REAL R10 )), R17 being (Element of ( REAL R10 )) such that L1478: C137 = ( cell (R16 , R17) ) and L1479: ((ex B125 being (Subset of ( Seg R10 )) st (( card B125 ) = ( ( R7 + 1 ) + 1 ) & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B125 & ( R16 . R11 ) < ( R17 . R11 ) & [ ( R16 . R11 ) , ( R17 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B125) & ( R16 . R11 ) = ( R17 . R11 ) & ( R16 . R11 ) in ( R33 . R11 )))))) or (( ( R7 + 1 ) + 1 ) = R10 & (for R11 being (Element of ( Seg R10 )) holds (( R17 . R11 ) < ( R16 . R11 ) & [ ( R16 . R11 ) , ( R17 . R11 ) ] is (Gap of ( R33 . R11 )))))) by L1303 , L679;
per cases  by L1479;
suppose L1480: (ex B126 being (Subset of ( Seg R10 )) st (( card B126 ) = ( ( R7 + 1 ) + 1 ) & (for R11 being (Element of ( Seg R10 )) holds ((R11 in B126 & ( R16 . R11 ) < ( R17 . R11 ) & [ ( R16 . R11 ) , ( R17 . R11 ) ] is (Gap of ( R33 . R11 ))) or ((not R11 in B126) & ( R16 . R11 ) = ( R17 . R11 ) & ( R16 . R11 ) in ( R33 . R11 ))))));

L1481: (for R11 being (Element of ( Seg R10 )) holds ( R16 . R11 ) <= ( R17 . R11 )) by L1480;
thus L1482: thesis by L1481 , L1306 , L1478;
end;
suppose L1483: (for R11 being (Element of ( Seg R10 )) holds (( R17 . R11 ) < ( R16 . R11 ) & [ ( R16 . R11 ) , ( R17 . R11 ) ] is (Gap of ( R33 . R11 ))));

thus L1484: thesis by L1483 , L1477 , L1478 , L1026;
end;
end;
L1486: (for B127 , B128 being (Chain of ( ( R7 + 1 ) + 1 ) , R33) holds ((B127 c= D139 & B128 c= D139 & S33[ B127 ] & S33[ B128 ]) implies S33[ ( B127 + B128 ) ])) by L1460;
L1487: S33[ D139 ] from ChainInd(L1465 , L1474 , L1486);
thus L1488: thesis by L1487 , L1472 , L1300;
end;
end;
L1490: (for B129 being (Cell of ( ( R7 + 1 ) + 1 ) , R33) holds (B129 in C118 implies S33[ { B129 } ])) by L1466;
L1491: (for B130 , B131 being (Chain of ( ( R7 + 1 ) + 1 ) , R33) holds ((B130 c= C118 & B131 c= C118 & S33[ B130 ] & S33[ B131 ]) implies S33[ ( B130 + B131 ) ])) by L1460;
thus L1492: S33[ C118 ] from ChainInd(L1465 , L1490 , L1491);
end;
suppose L1493: ( ( R7 + 1 ) + 1 ) > R10;

L1494: ( del C118 ) = ( 0_ (( R7 + 1 ) , R33) ) by L1493 , L1076;
thus L1495: thesis by L1494 , L1281;
end;
end;
definition
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let R7 being (Element of ( NAT ));
mode Cycle of R7 , R33
 -> (Chain of R7 , R33)
means :L1497: ((R7 = ( 0 ) & ( card it ) is  even) or (ex R8 being (Element of ( NAT )) st (R7 = ( R8 + 1 ) & (ex B132 being (Chain of ( R8 + 1 ) , R33) st (B132 = it & ( del B132 ) = ( 0_ (R8 , R33) ))))));
existence
proof
per cases  by NAT_1:6;
suppose L1498: R7 = ( 0 );

take ( 0_ (R7 , R33) );
thus L1499: thesis by L1498;
end;
suppose L1500: (ex B133 being Nat st R7 = ( B133 + 1 ));

consider C138 being Nat such that L1501: R7 = ( C138 + 1 ) by L1500;
reconsider D140 = C138 as (Element of ( NAT )) by ORDINAL1:def 12;
take D141 = ( 0_ (R7 , R33) );
L1502:
now
take D142 = D140;
thus L1503: R7 = ( D142 + 1 ) by L1501;
reconsider D143 = D141 as (Chain of ( D142 + 1 ) , R33) by L1501;
take D144 = D143;
thus L1504: (D144 = D141 & ( del D144 ) = ( 0_ (D142 , R33) )) by L1501 , L1281;
end;
thus L1505: thesis by L1502;
end;
end;
end;
theorem
L1508: (for R7 being (Element of ( NAT )) holds (for R10 being non  zero (Element of ( NAT )) holds (for R33 being (Grating of R10) holds (for B134 being (Chain of ( R7 + 1 ) , R33) holds (B134 is (Cycle of ( R7 + 1 ) , R33) iff ( del B134 ) = ( 0_ (R7 , R33) ))))))
proof
let R7 being (Element of ( NAT ));
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let C139 being (Chain of ( R7 + 1 ) , R33);
thus L1509:now
assume L1510: C139 is (Cycle of ( R7 + 1 ) , R33);
L1511: (ex R8 being (Element of ( NAT )) st (( R7 + 1 ) = ( R8 + 1 ) & (ex B135 being (Chain of ( R8 + 1 ) , R33) st (B135 = C139 & ( del B135 ) = ( 0_ (R8 , R33) ))))) by L1510 , L1497;
thus L1512: ( del C139 ) = ( 0_ (R7 , R33) ) by L1511;
end;
thus L1513: thesis by L1497;
end;
theorem
L1514: (for R7 being (Element of ( NAT )) holds (for R10 being non  zero (Element of ( NAT )) holds (for R33 being (Grating of R10) holds (R7 > R10 implies (for B136 being (Chain of R7 , R33) holds B136 is (Cycle of R7 , R33))))))
proof
let R7 being (Element of ( NAT ));
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
assume L1515: R7 > R10;
let C140 being (Chain of R7 , R33);
consider C141 being Nat such that L1516: R7 = ( C141 + 1 ) by L1515 , NAT_1:6;
reconsider D145 = C141 as (Element of ( NAT )) by ORDINAL1:def 12;
reconsider D146 = C140 as (Chain of ( D145 + 1 ) , R33) by L1516;
L1517: ( del D146 ) = ( 0_ (D145 , R33) ) by L1515 , L1516 , L1076;
thus L1518: thesis by L1517 , L1516 , L1497;
end;
theorem
L1519: (for R10 being non  zero (Element of ( NAT )) holds (for R33 being (Grating of R10) holds (for B137 being (Chain of ( 0 ) , R33) holds (B137 is (Cycle of ( 0 ) , R33) iff ( card B137 ) is  even))))
proof
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let C142 being (Chain of ( 0 ) , R33);
thus L1520:now
assume L1521: C142 is (Cycle of ( 0 ) , R33);
L1522: ((( 0 ) = ( 0 ) & ( card C142 ) is  even) or (ex R8 being (Element of ( NAT )) st (( 0 ) = ( R8 + 1 ) & (ex B138 being (Chain of ( R8 + 1 ) , R33) st (B138 = C142 & ( del B138 ) = ( 0_ (R8 , R33) )))))) by L1521 , L1497;
thus L1523: ( card C142 ) is  even by L1522;
end;
thus L1524: thesis by L1497;
end;
definition
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let R7 being (Element of ( NAT ));
let C143 being (Cycle of ( R7 + 1 ) , R33);
redefine func del C143 equals 
( 0_ (R7 , R33) );
compatibility by L1508;
end;
definition
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let R7 being (Element of ( NAT ));
redefine func 0_ (R7 , R33) -> (Cycle of R7 , R33);

coherence
proof
per cases  by NAT_1:6;
suppose L1526: R7 = ( 0 );

L1527: ( card ( {} ) ) = ( 2 * ( 0 ) );
thus L1528: thesis by L1527 , L1526 , L1497;
end;
suppose L1529: (ex B139 being Nat st R7 = ( B139 + 1 ));

consider C144 being Nat such that L1530: R7 = ( C144 + 1 ) by L1529;
reconsider D147 = C144 as (Element of ( NAT )) by ORDINAL1:def 12;
L1531: ( del ( 0_ (( D147 + 1 ) , R33) ) ) = ( 0_ (D147 , R33) ) by L1281;
thus L1532: thesis by L1531 , L1530 , L1497;
end;
end;
end;
definition
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
redefine func Omega R33 -> (Cycle of R10 , R33);

coherence
proof
consider C145 being Nat such that L1535: R10 = ( C145 + 1 ) by NAT_1:6;
reconsider D148 = C145 as (Element of ( NAT )) by ORDINAL1:def 12;
reconsider D149 = R33 as (Grating of ( D148 + 1 )) by L1535;
L1536: ( del ( Omega D149 ) ) = ( 0_ (D148 , D149) ) by L1286;
thus L1537: thesis by L1536 , L1535 , L1497;
end;
end;
definition
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let R7 being (Element of ( NAT ));
let C146 , C147 being (Cycle of R7 , R33);
redefine func C146 + C147 -> (Cycle of R7 , R33);

coherence
proof
per cases  by NAT_1:6;
suppose L1539: R7 = ( 0 );

L1540: ( card C146 ) is  even by L1539 , L1519;
L1541: ( card C147 ) is  even by L1539 , L1519;
L1542: ( card ( C146 + C147 ) ) is  even by L1541 , L1540 , L103;
thus L1543: ( C146 + C147 ) is (Cycle of R7 , R33) by L1542 , L1539 , L1519;
end;
suppose L1544: (ex B140 being Nat st R7 = ( B140 + 1 ));

consider C148 being Nat such that L1545: R7 = ( C148 + 1 ) by L1544;
reconsider D150 = C148 as (Element of ( NAT )) by ORDINAL1:def 12;
reconsider D151 = C146 , D152 = C147 as (Cycle of ( D150 + 1 ) , R33) by L1545;
L1546: ( del D151 ) = ( 0_ (D150 , R33) );
L1547: ( del D152 ) = ( 0_ (D150 , R33) );
L1548: ( del ( D151 + D152 ) ) = ( ( 0_ (D150 , R33) ) + ( 0_ (D150 , R33) ) ) by L1547 , L1546 , L1292
.= ( 0_ (D150 , R33) );
thus L1549: thesis by L1548 , L1545 , L1508;
end;
end;
end;
theorem
L1552: (for R10 being non  zero (Element of ( NAT )) holds (for R33 being (Grating of R10) holds (for B141 being (Cycle of R10 , R33) holds ( B141 ` ) is (Cycle of R10 , R33))))
proof
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let C149 being (Cycle of R10 , R33);
consider C150 being Nat such that L1553: R10 = ( C150 + 1 ) by NAT_1:6;
reconsider D153 = C150 as (Element of ( NAT )) by ORDINAL1:def 12;
reconsider D154 = R33 as (Grating of ( D153 + 1 )) by L1553;
reconsider D155 = C149 as (Cycle of ( D153 + 1 ) , D154) by L1553;
L1554: ( del D155 ) = ( 0_ (D153 , D154) );
L1555: ( del ( D155 ` ) ) = ( 0_ (D153 , D154) ) by L1554 , L1300;
thus L1556: thesis by L1555 , L1553 , L1508;
end;
definition
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let R7 being (Element of ( NAT ));
let C151 being (Chain of ( R7 + 1 ) , R33);
redefine func del C151 -> (Cycle of R7 , R33);

coherence
proof
per cases  by NAT_1:6;
suppose L1557: R7 = ( 0 );

defpred S34[ (Chain of ( R7 + 1 ) , R33) ] means ( del $1 ) is (Cycle of R7 , R33);
L1558: ( del ( 0_ (( R7 + 1 ) , R33) ) ) = ( 0_ (R7 , R33) );
L1559: S34[ ( 0_ (( R7 + 1 ) , R33) ) ] by L1558;
L1560:
now
let C152 being (Cell of ( ( 0 ) + 1 ) , R33);
assume L1561: C152 in C151;
L1562: ( card ( del { C152 } ) ) = ( 2 * 1 ) by L1221;
thus L1563: ( del { C152 } ) is (Cycle of ( 0 ) , R33) by L1562 , L1497;
end;
L1564: (for B142 being (Cell of ( R7 + 1 ) , R33) holds (B142 in C151 implies S34[ { B142 } ])) by L1560 , L1557;
L1565: (for B143 , B144 being (Chain of ( R7 + 1 ) , R33) holds ((B143 c= C151 & B144 c= C151 & S34[ B143 ] & S34[ B144 ]) implies S34[ ( B143 + B144 ) ]))
proof
let C153 , C154 being (Chain of ( R7 + 1 ) , R33);
assume that
L1566: C153 c= C151
and
L1567: C154 c= C151
and
L1568: S34[ C153 ]
and
L1569: S34[ C154 ];
reconsider D156 = ( del C153 ) , D157 = ( del C154 ) as (Cycle of R7 , R33) by L1568 , L1569;
L1570: ( del ( C153 + C154 ) ) = ( D156 + D157 ) by L1292;
thus L1571: thesis by L1570;
end;
thus L1572: S34[ C151 ] from ChainInd(L1559 , L1564 , L1565);
end;
suppose L1573: (ex B145 being Nat st R7 = ( B145 + 1 ));

consider C155 being Nat such that L1574: R7 = ( C155 + 1 ) by L1573;
reconsider D158 = C155 as (Element of ( NAT )) by ORDINAL1:def 12;
reconsider D159 = C151 as (Chain of ( ( D158 + 1 ) + 1 ) , R33) by L1574;
L1575: ( del ( del D159 ) ) = ( 0_ (D158 , R33) ) by L1302;
thus L1576: thesis by L1575 , L1574 , L1508;
end;
end;
end;
begin
definition
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let R7 being (Element of ( NAT ));
func Chains (R7 , R33) ->  strict AbGroup means 
:L1579: ((the carrier of it) = ( bool ( cells (R7 , R33) ) ) & ( 0. it ) = ( 0_ (R7 , R33) ) & (for B146 , B147 being (Element of it) holds (for B148 , B149 being (Chain of R7 , R33) holds ((B146 = B148 & B147 = B149) implies ( B146 + B147 ) = ( B148 + B149 )))));
existence
proof
deffunc H5((Chain of R7 , R33) , (Chain of R7 , R33)) = ( $1 + $2 );
consider C156 being (BinOp of ( bool ( cells (R7 , R33) ) )) such that L1580: (for B150 , B151 being (Chain of R7 , R33) holds ( C156 . (B150 , B151) ) = H5(B150 , B151)) from BINOP_1:sch 4;
set D160 = addLoopStr (# ( bool ( cells (R7 , R33) ) ) , C156 , ( 0_ (R7 , R33) ) #);
L1581: D160 is  add-associative
proof
let C157 , C158 , C159 being (Element of D160);
reconsider D161 = C157 , D162 = C158 , D163 = C159 as (Chain of R7 , R33);
thus L1582: ( ( C157 + C158 ) + C159 ) = ( C156 . (( D161 + D162 ) , C159) ) by L1580
.= ( ( D161 + D162 ) + D163 ) by L1580
.= ( D161 + ( D162 + D163 ) ) by XBOOLE_1:91
.= ( C156 . (C157 , ( D162 + D163 )) ) by L1580
.= ( C157 + ( C158 + C159 ) ) by L1580;
end;
L1583: D160 is  right_zeroed
proof
let C160 being (Element of D160);
reconsider D164 = C160 as (Chain of R7 , R33);
thus L1584: ( C160 + ( 0. D160 ) ) = ( D164 + ( 0_ (R7 , R33) ) ) by L1580
.= C160;
end;
L1585: D160 is  right_complementable
proof
let C161 being (Element of D160);
reconsider D165 = C161 as (Chain of R7 , R33);
take C161;
thus L1586: ( C161 + C161 ) = ( D165 + D165 ) by L1580
.= ( 0. D160 ) by XBOOLE_1:92;
end;
L1587: D160 is  Abelian
proof
let C162 , C163 being (Element of D160);
reconsider D166 = C162 , D167 = C163 as (Chain of R7 , R33);
thus L1588: ( C162 + C163 ) = ( D166 + D167 ) by L1580
.= ( C163 + C162 ) by L1580;
end;
reconsider D168 = D160 as  strict AbGroup by L1587 , L1581 , L1583 , L1585;
take D168;
thus L1589: (the carrier of D168) = ( bool ( cells (R7 , R33) ) );
thus L1590: ( 0. D168 ) = ( 0_ (R7 , R33) );
let C164 , C165 being (Element of D168);
let C166 , C167 being (Chain of R7 , R33);
assume that
L1591: C164 = C166
and
L1592: C165 = C167;
thus L1593: thesis by L1580 , L1591 , L1592;
end;
uniqueness
proof
let C168 , C169 being  strict AbGroup;
assume that
L1594: (the carrier of C168) = ( bool ( cells (R7 , R33) ) )
and
L1595: ( 0. C168 ) = ( 0_ (R7 , R33) )
and
L1596: (for B152 , B153 being (Element of C168) holds (for B154 , B155 being (Chain of R7 , R33) holds ((B152 = B154 & B153 = B155) implies ( B152 + B153 ) = ( B154 + B155 ))))
and
L1597: (the carrier of C169) = ( bool ( cells (R7 , R33) ) )
and
L1598: ( 0. C169 ) = ( 0_ (R7 , R33) )
and
L1599: (for B156 , B157 being (Element of C169) holds (for B158 , B159 being (Chain of R7 , R33) holds ((B156 = B158 & B157 = B159) implies ( B156 + B157 ) = ( B158 + B159 ))));
set D169 = [: ( bool ( cells (R7 , R33) ) ) , ( bool ( cells (R7 , R33) ) ) :];
reconsider D170 = (the addF of C168) , D171 = (the addF of C169) as (Function of D169 , ( bool ( cells (R7 , R33) ) )) by L1594 , L1597;
L1600:
now
let C170 being (Element of D169);
consider C171 , C172 being (Chain of R7 , R33) such that L1601: C170 = [ C171 , C172 ] by DOMAIN_1:1;
reconsider D172 = C171 , D173 = C172 as (Element of C168) by L1594;
reconsider D174 = C171 , D175 = C172 as (Element of C169) by L1597;
thus L1602: ( D170 . C170 ) = ( D172 + D173 ) by L1601
.= ( C171 + C172 ) by L1596
.= ( D174 + D175 ) by L1599
.= ( D171 . C170 ) by L1601;
end;
thus L1603: thesis by L1600 , L1594 , L1595 , L1597 , L1598 , FUNCT_2:63;
end;
end;
definition
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let R7 being (Element of ( NAT ));
mode GrChain of R7 , R33
 is (Element of ( Chains (R7 , R33) ));
end;
theorem
L1606: (for R7 being (Element of ( NAT )) holds (for R10 being non  zero (Element of ( NAT )) holds (for R33 being (Grating of R10) holds (for B160 being set holds (B160 is (Chain of R7 , R33) iff B160 is (GrChain of R7 , R33)))))) by L1579;
definition
let R10 being non  zero (Element of ( NAT ));
let R33 being (Grating of R10);
let R7 being (Element of ( NAT ));
func del (R7 , R33) -> (Homomorphism of ( Chains (( R7 + 1 ) , R33) ) , ( Chains (R7 , R33) )) means 
(for B161 being (Element of ( Chains (( R7 + 1 ) , R33) )) holds (for B162 being (Chain of ( R7 + 1 ) , R33) holds (B161 = B162 implies ( it . B161 ) = ( del B162 ))));
existence
proof
deffunc H6((Subset of ( cells (( R7 + 1 ) , R33) ))) = ( del $1 );
consider C173 being (Function of ( bool ( cells (( R7 + 1 ) , R33) ) ) , ( bool ( cells (R7 , R33) ) )) such that L1607: (for B163 being (Subset of ( cells (( R7 + 1 ) , R33) )) holds ( C173 . B163 ) = H6(B163)) from FUNCT_2:sch 4;
L1608: (the carrier of ( Chains (( R7 + 1 ) , R33) )) = ( bool ( cells (( R7 + 1 ) , R33) ) ) by L1579;
L1609: (the carrier of ( Chains (R7 , R33) )) = ( bool ( cells (R7 , R33) ) ) by L1579;
reconsider D176 = C173 as (Function of ( Chains (( R7 + 1 ) , R33) ) , ( Chains (R7 , R33) )) by L1609 , L1608;
L1610:
now
let C174 , C175 being (Element of ( Chains (( R7 + 1 ) , R33) ));
reconsider D177 = C174 , D178 = C175 as (Chain of ( R7 + 1 ) , R33) by L1579;
thus L1611: ( C173 . ( C174 + C175 ) ) = ( C173 . ( D177 + D178 ) ) by L1579
.= ( del ( D177 + D178 ) ) by L1607
.= ( ( del D177 ) + ( del D178 ) ) by L1292
.= ( ( del D177 ) + ( C173 . D178 ) ) by L1607
.= ( ( C173 . D177 ) + ( C173 . D178 ) ) by L1607
.= ( ( D176 . C174 ) + ( D176 . C175 ) ) by L1579;
end;
L1612: D176 is  additive by L1610 , VECTSP_1:def 20;
reconsider D179 = D176 as (Homomorphism of ( Chains (( R7 + 1 ) , R33) ) , ( Chains (R7 , R33) )) by L1612;
take D179;
thus L1613: thesis by L1607;
end;
uniqueness
proof
let C176 , C177 being (Homomorphism of ( Chains (( R7 + 1 ) , R33) ) , ( Chains (R7 , R33) ));
assume L1614: (for B164 being (Element of ( Chains (( R7 + 1 ) , R33) )) holds (for B165 being (Chain of ( R7 + 1 ) , R33) holds (B164 = B165 implies ( C176 . B164 ) = ( del B165 ))));
assume L1615: (for B166 being (Element of ( Chains (( R7 + 1 ) , R33) )) holds (for B167 being (Chain of ( R7 + 1 ) , R33) holds (B166 = B167 implies ( C177 . B166 ) = ( del B167 ))));
L1616:
now
let C178 being (Element of ( Chains (( R7 + 1 ) , R33) ));
reconsider D180 = C178 as (Element of ( Chains (( R7 + 1 ) , R33) ));
reconsider D181 = C178 as (Chain of ( R7 + 1 ) , R33) by L1579;
L1617: ( C176 . D180 ) = ( del D181 ) by L1614
.= ( C177 . D180 ) by L1615;
thus L1618: ( C176 . C178 ) = ( C177 . C178 ) by L1617;
end;
thus L1619: C176 = C177 by L1616 , FUNCT_2:63;
end;
end;
