:: Formalization of Integral Linear Space
::  by Yuichi Futa , Hiroyuki Okazaki and Yasunari Shidama
::
:: Received August 17, 2010
:: Copyright (c) 2010-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies REAL_1, SUBSET_1, NUMBERS, RLVECT_1, RLSUB_1, FINSET_1, RLVECT_2,
      FINSEQ_1, STRUCT_0, FUNCT_1, XBOOLE_0, VALUED_1, ORDINAL4, ARYTM_3,
      RELAT_1, PARTFUN1, NAT_1, INT_1, CARD_3, CARD_1, SUPINF_2, TARSKI,
      FUNCT_2, ARYTM_1, RLVECT_3, RLVECT_X, XXREAL_0, VALUED_0, FUNCT_4,
      FUNCOP_1, FINSEQ_2;
 notations TARSKI, XBOOLE_0, SUBSET_1, RELAT_1, FUNCT_1, RELSET_1, PARTFUN1,
      FUNCT_2, DOMAIN_1, FUNCOP_1, FUNCT_4, FINSET_1, CARD_1, NUMBERS,
      XXREAL_0, REAL_1, ORDINAL1, INT_1, VALUED_0, BINOP_2, FINSEQ_1, SEQ_1,
      FINSEQ_2, STRUCT_0, RLVECT_1, RLSUB_1, RLVECT_2, RLVECT_3, RUSUB_4,
      VFUNCT_1, BINOM;
 constructors REALSET1, RLVECT_2, RLVECT_3, FUNCT_4, RUSUB_4, BINOP_2, SEQ_1,
      FUNCSDOM, TOPREALB, VFUNCT_1, BINOM;
 registrations XBOOLE_0, FUNCT_1, RELSET_1, FINSET_1, NUMBERS, STRUCT_0,
      ORDINAL1, INT_1, XREAL_0, RLVECT_2, VALUED_0, FINSEQ_1, FINSEQ_2, CARD_1;
 requirements NUMERALS, BOOLE, SUBSET, ARITHM, REAL;
 definitions RLVECT_2, TARSKI, RUSUB_4, FINSEQ_1;
 theorems FUNCT_1, FUNCT_2, FINSEQ_1, FINSEQ_2, FINSEQ_3, FINSEQ_4, RLSUB_1,
      RLVECT_1, RLVECT_2, TARSKI, ZFMISC_1, RELAT_1, XBOOLE_0, XBOOLE_1,
      STRUCT_0, PARTFUN1, RLVECT_3, INT_1, NUMBERS, NAT_1, XREAL_0, XXREAL_0,
      ENUMSET1, RLVECT_4, VFUNCT_1, BINOM, FUNCOP_1, FINSEQ_5, FUNCT_4, CARD_1;
 schemes FINSEQ_1, NAT_1, FUNCT_2, RLVECT_4;

begin
reconsider D1 = ( 0 ) as Real;
deffunc H1(set) = ( 0 );
theorem
L1: (for B1 being RealLinearSpace holds (for B2 , B3 being (FinSequence of B1) holds (( len B2 ) = ( len B3 ) implies ( Sum ( B2 + B3 ) ) = ( ( Sum B2 ) + ( Sum B3 ) ))))
proof
let C1 being RealLinearSpace;
let C2 , C3 being (FinSequence of C1);
assume L2: ( len C2 ) = ( len C3 );
L3: ( dom C2 ) = ( dom C3 ) by L2 , FINSEQ_3:29;
thus L4: thesis by L3 , BINOM:7;
end;
theorem
L5: (for B4 being RealLinearSpace holds (for B5 , B6 , B7 being (FinSequence of B4) holds ((( len B5 ) = ( len B6 ) & B7 = ( B5 - B6 )) implies ( Sum B7 ) = ( ( Sum B5 ) - ( Sum B6 ) ))))
proof
let C4 being RealLinearSpace;
let C5 , C6 , C7 being (FinSequence of C4);
assume L6: (( len C5 ) = ( len C6 ) & C7 = ( C5 - C6 ));
L7: ( dom C5 ) = ( dom C6 ) by L6 , FINSEQ_3:29;
L8: ( dom C7 ) = ( ( dom C5 ) /\ ( dom C6 ) ) by L6 , VFUNCT_1:def 2
.= ( dom C5 ) by L7;
L9: ( len C7 ) = ( len C5 ) by L8 , FINSEQ_3:29;
L10: (for B8 being (Element of ( NAT )) holds (B8 in ( dom C5 ) implies ( C7 . B8 ) = ( ( C5 /. B8 ) - ( C6 /. B8 ) )))
proof
let C8 being (Element of ( NAT ));
assume L11: C8 in ( dom C5 );
thus L12: ( C7 . C8 ) = ( C7 /. C8 ) by L11 , L8 , PARTFUN1:def 6
.= ( ( C5 /. C8 ) - ( C6 /. C8 ) ) by L6 , L11 , L8 , VFUNCT_1:def 2;
end;
thus L13: thesis by L10 , L6 , L9 , RLVECT_2:5;
end;
theorem
L14: (for B9 being RealLinearSpace holds (for B10 , B11 being (FinSequence of B9) holds (for B12 being (Element of ( REAL )) holds (B11 = ( B12 (#) B10 ) implies ( Sum B11 ) = ( B12 * ( Sum B10 ) )))))
proof
let C9 being RealLinearSpace;
let C10 , C11 being (FinSequence of C9);
let C12 being (Element of ( REAL ));
assume L15: C11 = ( C12 (#) C10 );
L16: ( dom C11 ) = ( dom C10 ) by L15 , VFUNCT_1:def 4;
L17: ( len C11 ) = ( len C10 ) by L16 , FINSEQ_3:29;
L18: (for B13 being (Element of ( NAT )) holds (B13 in ( dom C10 ) implies ( C11 . B13 ) = ( C12 * ( C10 /. B13 ) )))
proof
let C13 being (Element of ( NAT ));
assume L19: C13 in ( dom C10 );
L20: C13 in ( dom C11 ) by L19 , L15 , VFUNCT_1:def 4;
thus L21: ( C11 . C13 ) = ( C11 /. C13 ) by L20 , PARTFUN1:def 6
.= ( C12 * ( C10 /. C13 ) ) by L20 , L15 , VFUNCT_1:def 4;
end;
thus L22: thesis by L18 , L17 , RLVECT_2:3;
end;
begin
definition
let R7 being RealLinearSpace;
let R5 being Integer;
let R23 being (Linear_Combination of R7);
func R5 * R23 -> (Linear_Combination of R7) means 
:L23: (for R11 being (VECTOR of R7) holds ( it . R11 ) = ( R5 * ( R23 . R11 ) ));
existence
proof
deffunc H2((Element of R7)) = ( R5 * ( R23 . $1 ) );
consider C14 being (Function of (the carrier of R7) , ( REAL )) such that L24: (for B14 being (Element of R7) holds ( C14 . B14 ) = H2(B14)) from FUNCT_2:sch 4;
reconsider D2 = C14 as (Element of ( Funcs ((the carrier of R7) , ( REAL )) )) by FUNCT_2:8;
L25:
now
let C15 being (Element of R7);
assume L26: (not C15 in ( Carrier R23 ));
L27: ( R23 . C15 ) = ( 0 ) by L26;
thus L28: ( D2 . C15 ) = ( R5 * ( 0 ) ) by L27 , L24
.= ( 0 );
end;
reconsider D3 = D2 as (Linear_Combination of R7) by L25 , RLVECT_2:def 3;
take D3;
let R11 being (VECTOR of R7);
thus L29: thesis by L24;
end;
uniqueness
proof
let R24 being (Linear_Combination of R7);
let R25 being (Linear_Combination of R7);
assume that
L30: (for R11 being (VECTOR of R7) holds ( R24 . R11 ) = ( R5 * ( R23 . R11 ) ))
and
L31: (for R11 being (VECTOR of R7) holds ( R25 . R11 ) = ( R5 * ( R23 . R11 ) ));
let R11 being (VECTOR of R7);
thus L32: ( R24 . R11 ) = ( R5 * ( R23 . R11 ) ) by L30
.= ( R25 . R11 ) by L31;
end;
end;
definition
let R7 being RealLinearSpace;
let R20 being (Subset of R7);
func Z_Lin R20 -> (Subset of R7) equals 
{ ( Sum R26 ) where R26 is (Linear_Combination of R20) : ( rng R26 ) c= ( INT ) };
correctness
proof
set D4 = { ( Sum R26 ) where R26 is (Linear_Combination of R20) : ( rng R26 ) c= ( INT ) };
L34: D4 c= (the carrier of R7)
proof
let R1 being set;
assume L35: R1 in D4;
L36: (ex R26 being (Linear_Combination of R20) st (R1 = ( Sum R26 ) & ( rng R26 ) c= ( INT ))) by L35;
thus L37: thesis by L36;
end;
thus L38: thesis by L34;
end;
end;
theorem
L40: (for R3 being Real holds (for R5 being Integer holds (for R7 being RealLinearSpace holds (for R20 being (Subset of R7) holds (for R26 being (Linear_Combination of R20) holds (R3 = R5 implies ( R3 * R26 ) = ( R5 * R26 )))))))
proof
let R3 being Real;
let R5 being Integer;
let R7 being RealLinearSpace;
let R20 being (Subset of R7);
let R26 being (Linear_Combination of R20);
assume L41: R3 = R5;
L42: (for B15 being (VECTOR of R7) holds ( ( R5 * R26 ) . B15 ) = ( R3 * ( R26 . B15 ) )) by L41 , L23;
thus L43: thesis by L42 , RLVECT_2:def 11;
end;
theorem
L44: (for R7 being RealLinearSpace holds (for R20 being (Subset of R7) holds (for R27 being (Linear_Combination of R20) holds (for R28 being (Linear_Combination of R20) holds ((( rng R27 ) c= ( INT ) & ( rng R28 ) c= ( INT )) implies ( rng ( R27 + R28 ) ) c= ( INT ))))))
proof
let R7 being RealLinearSpace;
let R20 being (Subset of R7);
let R27 being (Linear_Combination of R20);
let R28 being (Linear_Combination of R20);
assume L45: (( rng R27 ) c= ( INT ) & ( rng R28 ) c= ( INT ));
let C16 being set;
assume L46: C16 in ( rng ( R27 + R28 ) );
consider C17 being set such that L47: (C17 in (the carrier of R7) & C16 = ( ( R27 + R28 ) . C17 )) by L46 , FUNCT_2:11;
reconsider D5 = C17 as (VECTOR of R7) by L47;
L48: ( R27 . D5 ) in ( rng R27 ) by FUNCT_2:4;
reconsider D6 = ( R27 . D5 ) as Integer by L48 , L45;
L49: ( R28 . D5 ) in ( rng R28 ) by FUNCT_2:4;
reconsider D7 = ( R28 . D5 ) as Integer by L49 , L45;
L50: ( ( R27 + R28 ) . D5 ) = ( D6 + D7 ) by RLVECT_2:def 10;
thus L51: C16 in ( INT ) by L50 , L47;
end;
theorem
L52: (for R5 being Integer holds (for R7 being RealLinearSpace holds (for R20 being (Subset of R7) holds (for R26 being (Linear_Combination of R20) holds (( rng R26 ) c= ( INT ) implies ( rng ( R5 * R26 ) ) c= ( INT ))))))
proof
let R5 being Integer;
let R7 being RealLinearSpace;
let R20 being (Subset of R7);
let R26 being (Linear_Combination of R20);
assume L53: ( rng R26 ) c= ( INT );
let C18 being set;
assume L54: C18 in ( rng ( R5 * R26 ) );
consider C19 being set such that L55: (C19 in (the carrier of R7) & C18 = ( ( R5 * R26 ) . C19 )) by L54 , FUNCT_2:11;
reconsider D8 = C19 as (VECTOR of R7) by L55;
reconsider D9 = R5 as Real by XREAL_0:def 1;
L56: ( R26 . D8 ) in ( rng R26 ) by FUNCT_2:4;
reconsider D10 = ( R26 . D8 ) as Integer by L56 , L53;
L57: ( ( R5 * R26 ) . D8 ) = ( ( D9 * R26 ) . D8 ) by L40
.= ( R5 * D10 ) by RLVECT_2:def 11;
thus L58: C18 in ( INT ) by L57 , L55;
end;
theorem
L59: (for R7 being RealLinearSpace holds ( rng ( ZeroLC R7 ) ) c= ( INT ))
proof
let R7 being RealLinearSpace;
let C20 being set;
assume L60: C20 in ( rng ( ZeroLC R7 ) );
consider C21 being set such that L61: (C21 in (the carrier of R7) & C20 = ( ( ZeroLC R7 ) . C21 )) by L60 , FUNCT_2:11;
reconsider D11 = C21 as (VECTOR of R7) by L61;
L62: ( ( ZeroLC R7 ) . D11 ) = ( 0 ) by RLVECT_2:20;
thus L63: C20 in ( INT ) by L62 , L61 , NUMBERS:17 , TARSKI:def 3;
end;
theorem
L64: (for R7 being RealLinearSpace holds (for R20 being (Subset of R7) holds ( Z_Lin R20 ) c= (the carrier of ( Lin R20 ))))
proof
let R7 being RealLinearSpace;
let R20 being (Subset of R7);
let C22 being set;
assume L65: C22 in ( Z_Lin R20 );
consider C23 being (Linear_Combination of R20) such that L66: (C22 = ( Sum C23 ) & ( rng C23 ) c= ( INT )) by L65;
L67: C22 in ( Lin R20 ) by L66 , RLVECT_3:14;
thus L68: thesis by L67 , STRUCT_0:def 5;
end;
theorem
L69: (for R7 being RealLinearSpace holds (for R11 being (VECTOR of R7) holds (for R15 being (VECTOR of R7) holds (for R20 being (Subset of R7) holds ((R11 in ( Z_Lin R20 ) & R15 in ( Z_Lin R20 )) implies ( R11 + R15 ) in ( Z_Lin R20 ))))))
proof
let R7 being RealLinearSpace;
let R11 being (VECTOR of R7);
let R15 being (VECTOR of R7);
let R20 being (Subset of R7);
assume that
L70: R11 in ( Z_Lin R20 )
and
L71: R15 in ( Z_Lin R20 );
consider C24 being (Linear_Combination of R20) such that L72: (R11 = ( Sum C24 ) & ( rng C24 ) c= ( INT )) by L70;
consider C25 being (Linear_Combination of R20) such that L73: (R15 = ( Sum C25 ) & ( rng C25 ) c= ( INT )) by L71;
reconsider D12 = ( C24 + C25 ) as (Linear_Combination of R20) by RLVECT_2:38;
L74: ( rng D12 ) c= ( INT ) by L72 , L73 , L44;
L75: ( R11 + R15 ) = ( Sum D12 ) by L72 , L73 , RLVECT_3:1;
thus L76: thesis by L75 , L74;
end;
theorem
L77: (for R5 being Integer holds (for R7 being RealLinearSpace holds (for R11 being (VECTOR of R7) holds (for R20 being (Subset of R7) holds (R11 in ( Z_Lin R20 ) implies ( R5 * R11 ) in ( Z_Lin R20 ))))))
proof
let R5 being Integer;
let R7 being RealLinearSpace;
let R11 being (VECTOR of R7);
let R20 being (Subset of R7);
assume L78: R11 in ( Z_Lin R20 );
consider R26 being (Linear_Combination of R20) such that L79: (R11 = ( Sum R26 ) & ( rng R26 ) c= ( INT )) by L78;
reconsider D13 = R5 as Real by XREAL_0:def 1;
L80: ( D13 * R26 ) = ( R5 * R26 ) by L40;
reconsider D14 = ( R5 * R26 ) as (Linear_Combination of R20) by L80 , RLVECT_2:44;
L81: ( R5 * R11 ) = ( Sum D14 ) by L79 , L80 , RLVECT_3:2;
L82: ( rng ( R5 * R26 ) ) c= ( INT ) by L52 , L79;
thus L83: thesis by L82 , L81;
end;
theorem
L84: (for R7 being RealLinearSpace holds (for R20 being (Subset of R7) holds ( 0. R7 ) in ( Z_Lin R20 )))
proof
let R7 being RealLinearSpace;
let R20 being (Subset of R7);
reconsider D15 = ( ZeroLC R7 ) as (Linear_Combination of R20) by RLVECT_2:22;
L85: ( Sum D15 ) = ( 0. R7 ) by RLVECT_2:30;
L86: ( rng D15 ) c= ( INT ) by L59;
thus L87: thesis by L86 , L85;
end;
theorem
L88: (for R1 being set holds (for R7 being RealLinearSpace holds (for R20 being (Subset of R7) holds (R1 in R20 implies R1 in ( Z_Lin R20 )))))
proof
let R1 being set;
let R7 being RealLinearSpace;
let R20 being (Subset of R7);
assume L89: R1 in R20;
reconsider D16 = R1 as (VECTOR of R7) by L89;
consider C26 being (Function of (the carrier of R7) , ( REAL )) such that L90: ( C26 . D16 ) = 1 and L91: (for R15 being (VECTOR of R7) holds (R15 <> D16 implies ( C26 . R15 ) = H1(R15))) from FUNCT_2:sch 6;
reconsider D17 = C26 as (Element of ( Funcs ((the carrier of R7) , ( REAL )) )) by FUNCT_2:8;
L92: (ex B16 being  finite (Subset of R7) st (for R15 being (VECTOR of R7) holds ((not R15 in B16) implies ( D17 . R15 ) = ( 0 ))))
proof
take D18 = { D16 };
let R15 being (VECTOR of R7);
assume L93: (not R15 in D18);
L94: R15 <> D16 by L93 , TARSKI:def 1;
thus L95: thesis by L94 , L91;
end;
reconsider D19 = D17 as (Linear_Combination of R7) by L92 , RLVECT_2:def 3;
L96: ( Carrier D19 ) c= { D16 }
proof
let R1 being set;
assume L97: R1 in ( Carrier D19 );
consider R15 being (VECTOR of R7) such that L98: R1 = R15 and L99: ( D19 . R15 ) <> ( 0 ) by L97;
L100: R15 = D16 by L91 , L99;
thus L101: thesis by L100 , L98 , TARSKI:def 1;
end;
reconsider D20 = D19 as (Linear_Combination of { D16 }) by L96 , RLVECT_2:def 6;
L102: ( Sum D20 ) = ( ( D20 . D16 ) * D16 ) by RLVECT_2:32
.= D16 by L90 , RLVECT_1:def 8;
L103: { D16 } c= R20 by L89 , ZFMISC_1:31;
L104: ( Carrier D20 ) c= R20 by L103 , L96 , XBOOLE_1:1;
reconsider D21 = D20 as (Linear_Combination of R20) by L104 , RLVECT_2:def 6;
L105: ( rng D21 ) c= ( INT )
proof
let C27 being set;
assume L106: C27 in ( rng D21 );
consider C28 being set such that L107: (C28 in (the carrier of R7) & C27 = ( D21 . C28 )) by L106 , FUNCT_2:11;
reconsider D22 = C28 as (VECTOR of R7) by L107;
per cases ;
suppose L108: D22 <> D16;

L109: ( D21 . D22 ) = ( 0 ) by L108 , L91;
thus L110: C27 in ( INT ) by L109 , L107 , NUMBERS:17 , TARSKI:def 3;
end;
suppose L111: D22 = D16;

thus L112: C27 in ( INT ) by L111 , L107 , L90 , NUMBERS:17 , TARSKI:def 3;
end;
end;
thus L114: thesis by L105 , L102;
end;
theorem
L115: (for R7 being RealLinearSpace holds (for R20 being (Subset of R7) holds (for R21 being (Subset of R7) holds (R20 c= R21 implies ( Z_Lin R20 ) c= ( Z_Lin R21 )))))
proof
let R7 being RealLinearSpace;
let R20 being (Subset of R7);
let R21 being (Subset of R7);
assume L116: R20 c= R21;
let C29 being set;
assume L117: C29 in ( Z_Lin R20 );
consider R26 being (Linear_Combination of R20) such that L118: (C29 = ( Sum R26 ) & ( rng R26 ) c= ( INT )) by L117;
reconsider D23 = R26 as (Linear_Combination of R21) by L116 , RLVECT_2:21;
L119: ( Sum D23 ) = C29 by L118;
thus L120: C29 in ( Z_Lin R21 ) by L119 , L118;
end;
theorem
L121: (for R7 being RealLinearSpace holds (for R20 being (Subset of R7) holds (for R21 being (Subset of R7) holds ( Z_Lin ( R20 \/ R21 ) ) = ( ( Z_Lin R20 ) + ( Z_Lin R21 ) ))))
proof
let R7 being RealLinearSpace;
let R20 being (Subset of R7);
let R21 being (Subset of R7);
L122:
now
let C30 being set;
assume L123: C30 in ( Z_Lin ( R20 \/ R21 ) );
consider C31 being (Linear_Combination of ( R20 \/ R21 )) such that L124: (C30 = ( Sum C31 ) & ( rng C31 ) c= ( INT )) by L123;
deffunc H3(set) = ( C31 . $1 );
set D24 = ( ( Carrier C31 ) \ R20 );
set D25 = ( ( Carrier C31 ) /\ R20 );
defpred S1[ set ] means $1 in D25;
defpred S2[ set ] means $1 in D24;
L125: (for R1 being set holds (R1 in (the carrier of R7) implies ((S1[ R1 ] implies H3(R1) in ( REAL )) & ((not S1[ R1 ]) implies H1(R1) in ( REAL )))));
consider C32 being (Function of (the carrier of R7) , ( REAL )) such that L126: (for R1 being set holds (R1 in (the carrier of R7) implies ((S1[ R1 ] implies ( C32 . R1 ) = H3(R1)) & ((not S1[ R1 ]) implies ( C32 . R1 ) = H1(R1))))) from FUNCT_2:sch 5(L125);
reconsider D26 = D25 as  finite (Subset of R7);
reconsider D27 = C32 as (Element of ( Funcs ((the carrier of R7) , ( REAL )) )) by FUNCT_2:8;
L127: (for R15 being (VECTOR of R7) holds ((not R15 in D26) implies ( D27 . R15 ) = ( 0 ))) by L126;
reconsider D28 = D27 as (Linear_Combination of R7) by L127 , RLVECT_2:def 3;
L128: ( rng D28 ) c= ( INT )
proof
let C33 being set;
assume L129: C33 in ( rng D28 );
consider C34 being set such that L130: (C34 in (the carrier of R7) & C33 = ( D28 . C34 )) by L129 , FUNCT_2:11;
reconsider D29 = C34 as (VECTOR of R7) by L130;
per cases ;
suppose L131: (not D29 in D26);

L132: ( D28 . D29 ) = ( 0 ) by L131 , L126;
thus L133: C33 in ( INT ) by L132 , L130 , NUMBERS:17 , TARSKI:def 3;
end;
suppose L134: D29 in D26;

L135: ( D28 . D29 ) = ( C31 . D29 ) by L134 , L126;
L136: ( D28 . D29 ) in ( rng C31 ) by L135 , FUNCT_2:4;
thus L137: C33 in ( INT ) by L136 , L130 , L124;
end;
end;
L139: ( Carrier D28 ) c= D26
proof
let R1 being set;
assume L140: R1 in ( Carrier D28 );
L141: (ex R15 being (VECTOR of R7) st (R1 = R15 & ( D28 . R15 ) <> ( 0 ))) by L140;
assume L142: (not R1 in D26);
thus L143: thesis by L142 , L126 , L141;
end;
L144: D26 c= R20 by XBOOLE_1:17;
L145: ( Carrier D28 ) c= R20 by L144 , L139 , XBOOLE_1:1;
reconsider D30 = D28 as (Linear_Combination of R20) by L145 , RLVECT_2:def 6;
L146: (for R1 being set holds (R1 in (the carrier of R7) implies ((S2[ R1 ] implies H3(R1) in ( REAL )) & ((not S2[ R1 ]) implies H1(R1) in ( REAL )))));
consider C35 being (Function of (the carrier of R7) , ( REAL )) such that L147: (for R1 being set holds (R1 in (the carrier of R7) implies ((S2[ R1 ] implies ( C35 . R1 ) = H3(R1)) & ((not S2[ R1 ]) implies ( C35 . R1 ) = H1(R1))))) from FUNCT_2:sch 5(L146);
reconsider D31 = D24 as  finite (Subset of R7);
reconsider D32 = C35 as (Element of ( Funcs ((the carrier of R7) , ( REAL )) )) by FUNCT_2:8;
L148: (for R15 being (VECTOR of R7) holds ((not R15 in D31) implies ( D32 . R15 ) = ( 0 ))) by L147;
reconsider D33 = D32 as (Linear_Combination of R7) by L148 , RLVECT_2:def 3;
L149: ( rng D33 ) c= ( INT )
proof
let C36 being set;
assume L150: C36 in ( rng D33 );
consider C37 being set such that L151: (C37 in (the carrier of R7) & C36 = ( D33 . C37 )) by L150 , FUNCT_2:11;
reconsider D34 = C37 as (VECTOR of R7) by L151;
per cases ;
suppose L152: (not D34 in D31);

L153: ( D33 . D34 ) = ( 0 ) by L152 , L147;
thus L154: C36 in ( INT ) by L153 , L151 , NUMBERS:17 , TARSKI:def 3;
end;
suppose L155: D34 in D31;

L156: ( D33 . D34 ) = ( C31 . D34 ) by L155 , L147;
L157: ( D33 . D34 ) in ( rng C31 ) by L156 , FUNCT_2:4;
thus L158: C36 in ( INT ) by L157 , L151 , L124;
end;
end;
L160: D31 c= R21
proof
let R1 being set;
assume L161: R1 in D31;
L162: (R1 in ( Carrier C31 ) & (not R1 in R20)) by L161 , XBOOLE_0:def 5;
L163: ( Carrier C31 ) c= ( R20 \/ R21 ) by RLVECT_2:def 6;
thus L164: thesis by L163 , L162 , XBOOLE_0:def 3;
end;
L165: ( Carrier D33 ) c= D31
proof
let R1 being set;
assume L166: R1 in ( Carrier D33 );
L167: (ex R15 being (VECTOR of R7) st (R1 = R15 & ( D33 . R15 ) <> ( 0 ))) by L166;
assume L168: (not R1 in D31);
thus L169: thesis by L168 , L147 , L167;
end;
L170: ( Carrier D33 ) c= R21 by L165 , L160 , XBOOLE_1:1;
reconsider D35 = D33 as (Linear_Combination of R21) by L170 , RLVECT_2:def 6;
L171: C31 = ( D30 + D35 )
proof
let R11 being (VECTOR of R7);
L172:
now
per cases ;
suppose L173: R11 in D26;

L174:
now
assume L175: R11 in D31;
L176: (not R11 in R20) by L175 , XBOOLE_0:def 5;
thus L177: contradiction by L176 , L173 , XBOOLE_0:def 4;
end;
thus L178: ( ( D30 + D35 ) . R11 ) = ( ( D30 . R11 ) + ( D35 . R11 ) ) by RLVECT_2:def 10
.= ( ( C31 . R11 ) + ( D35 . R11 ) ) by L126 , L173
.= ( ( C31 . R11 ) + D1 ) by L147 , L174
.= ( C31 . R11 );
end;
suppose L179: (not R11 in D26);

L180:
now
per cases ;
suppose L181: R11 in ( Carrier C31 );

L182:
now
assume L183: (not R11 in D31);
L184: ((not R11 in ( Carrier C31 )) or R11 in R20) by L183 , XBOOLE_0:def 5;
thus L185: contradiction by L184 , L179 , L181 , XBOOLE_0:def 4;
end;
thus L186: ( ( D30 + D35 ) . R11 ) = ( ( D30 . R11 ) + ( D35 . R11 ) ) by RLVECT_2:def 10
.= ( D1 + ( D35 . R11 ) ) by L126 , L179
.= ( C31 . R11 ) by L147 , L182;
end;
suppose L187: (not R11 in ( Carrier C31 ));

L188: (not R11 in D31) by L187 , XBOOLE_0:def 5;
L189: (not R11 in D26) by L187 , XBOOLE_0:def 4;
thus L190: ( ( D30 + D35 ) . R11 ) = ( ( D30 . R11 ) + ( D35 . R11 ) ) by RLVECT_2:def 10
.= ( D1 + ( D35 . R11 ) ) by L126 , L189
.= ( D1 + D1 ) by L147 , L188
.= ( C31 . R11 ) by L187;
end;
end;
thus L192: thesis by L180;
end;
end;
thus L194: thesis by L172;
end;
L195: C30 = ( ( Sum D30 ) + ( Sum D35 ) ) by L171 , L124 , RLVECT_3:1;
L196: (( Sum D30 ) in ( Z_Lin R20 ) & ( Sum D35 ) in ( Z_Lin R21 )) by L128 , L149;
thus L197: C30 in ( ( Z_Lin R20 ) + ( Z_Lin R21 ) ) by L196 , L195;
end;
L198: ( Z_Lin ( R20 \/ R21 ) ) c= ( ( Z_Lin R20 ) + ( Z_Lin R21 ) ) by L122 , TARSKI:def 3;
L199: (( Z_Lin R20 ) c= ( Z_Lin ( R20 \/ R21 ) ) & ( Z_Lin R21 ) c= ( Z_Lin ( R20 \/ R21 ) )) by L115 , XBOOLE_1:7;
L200:
now
let C38 being set;
assume L201: C38 in ( ( Z_Lin R20 ) + ( Z_Lin R21 ) );
consider C39 , C40 being (Element of R7) such that L202: (C38 = ( C39 + C40 ) & C39 in ( Z_Lin R20 ) & C40 in ( Z_Lin R21 )) by L201;
thus L203: C38 in ( Z_Lin ( R20 \/ R21 ) ) by L202 , L199 , L69;
end;
L204: ( ( Z_Lin R20 ) + ( Z_Lin R21 ) ) c= ( Z_Lin ( R20 \/ R21 ) ) by L200 , TARSKI:def 3;
thus L205: thesis by L204 , L198 , XBOOLE_0:def 10;
end;
theorem
L206: (for R7 being RealLinearSpace holds (for R20 being (Subset of R7) holds (for R21 being (Subset of R7) holds ( Z_Lin ( R20 /\ R21 ) ) c= ( ( Z_Lin R20 ) /\ ( Z_Lin R21 ) ))))
proof
let R7 being RealLinearSpace;
let R20 being (Subset of R7);
let R21 being (Subset of R7);
L207: (( Z_Lin ( R20 /\ R21 ) ) c= ( Z_Lin R20 ) & ( Z_Lin ( R20 /\ R21 ) ) c= ( Z_Lin R21 )) by L115 , XBOOLE_1:17;
thus L208: thesis by L207 , XBOOLE_1:19;
end;
theorem
L209: (for R1 being set holds (for R7 being RealLinearSpace holds (for R11 being (VECTOR of R7) holds (R1 in ( Z_Lin { R11 } ) iff (ex B17 being Integer st R1 = ( B17 * R11 ))))))
proof
let R1 being set;
let R7 being RealLinearSpace;
let R11 being (VECTOR of R7);
thus L210: (R1 in ( Z_Lin { R11 } ) implies (ex B18 being Integer st R1 = ( B18 * R11 )))
proof
assume L211: R1 in ( Z_Lin { R11 } );
consider C41 being (Linear_Combination of { R11 }) such that L212: (R1 = ( Sum C41 ) & ( rng C41 ) c= ( INT )) by L211;
L213: ( Sum C41 ) = ( ( C41 . R11 ) * R11 ) by RLVECT_2:32;
L214: (ex B19 being Function st (C41 = B19 & ( dom B19 ) = (the carrier of R7) & ( rng B19 ) c= ( REAL ))) by FUNCT_2:def 2;
L215: ( C41 . R11 ) in ( rng C41 ) by L214 , FUNCT_1:3;
thus L216: thesis by L215 , L212 , L213;
end;

given C42 being Integer such that
L217: R1 = ( C42 * R11 );

reconsider D36 = C42 as Real by XREAL_0:def 1;
consider C43 being (Function of (the carrier of R7) , ( REAL )) such that L218: ( C43 . R11 ) = D36 and L219: (for B20 being (VECTOR of R7) holds (B20 <> R11 implies ( C43 . B20 ) = H1(B20))) from FUNCT_2:sch 6;
reconsider D37 = C43 as (Element of ( Funcs ((the carrier of R7) , ( REAL )) )) by FUNCT_2:8;
L220:
now
let C44 being (VECTOR of R7);
assume L221: (not C44 in { R11 });
L222: C44 <> R11 by L221 , TARSKI:def 1;
thus L223: ( D37 . C44 ) = ( 0 ) by L222 , L219;
end;
reconsider D38 = D37 as (Linear_Combination of R7) by L220 , RLVECT_2:def 3;
L224: ( Carrier D38 ) c= { R11 }
proof
let R1 being set;
assume L225: R1 in ( Carrier D38 );
L226: ( D38 . R1 ) <> ( 0 ) by L225 , RLVECT_2:19;
L227: R1 = R11 by L226 , L219 , L225;
thus L228: thesis by L227 , TARSKI:def 1;
end;
reconsider D39 = D38 as (Linear_Combination of { R11 }) by L224 , RLVECT_2:def 6;
L229: ( Sum D39 ) = R1 by L217 , L218 , RLVECT_2:32;
L230: ( rng D39 ) c= ( INT )
proof
let C45 being set;
assume L231: C45 in ( rng D39 );
consider C46 being set such that L232: (C46 in (the carrier of R7) & C45 = ( D39 . C46 )) by L231 , FUNCT_2:11;
reconsider D40 = C46 as (VECTOR of R7) by L232;
per cases ;
suppose L233: (not D40 in { R11 });

L234: ( D39 . D40 ) = ( 0 ) by L233 , L220;
thus L235: C45 in ( INT ) by L234 , L232 , NUMBERS:17 , TARSKI:def 3;
end;
suppose L236: D40 in { R11 };

L237: ( D39 . D40 ) = C42 by L236 , L218 , TARSKI:def 1;
thus L238: C45 in ( INT ) by L237 , L232 , INT_1:def 2;
end;
end;
thus L240: thesis by L230 , L229;
end;
theorem
L241: (for R7 being RealLinearSpace holds (for R11 being (VECTOR of R7) holds R11 in ( Z_Lin { R11 } )))
proof
let R7 being RealLinearSpace;
let R11 being (VECTOR of R7);
L242: R11 in { R11 } by TARSKI:def 1;
thus L243: thesis by L242 , L88;
end;
theorem
L244: (for R1 being set holds (for R7 being RealLinearSpace holds (for R11 being (VECTOR of R7) holds (for R16 being (VECTOR of R7) holds (R1 in ( R11 + ( Z_Lin { R16 } ) ) iff (ex B21 being Integer st R1 = ( R11 + ( B21 * R16 ) )))))))
proof
let R1 being set;
let R7 being RealLinearSpace;
let R11 being (VECTOR of R7);
let R16 being (VECTOR of R7);
thus L245: (R1 in ( R11 + ( Z_Lin { R16 } ) ) implies (ex B22 being Integer st R1 = ( R11 + ( B22 * R16 ) )))
proof
assume L246: R1 in ( R11 + ( Z_Lin { R16 } ) );
consider C47 being (VECTOR of R7) such that L247: R1 = ( R11 + C47 ) and L248: C47 in ( Z_Lin { R16 } ) by L246;
L249: (ex B23 being Integer st C47 = ( B23 * R16 )) by L248 , L209;
thus L250: thesis by L249 , L247;
end;

given C48 being Integer such that
L251: R1 = ( R11 + ( C48 * R16 ) );

L252: ( C48 * R16 ) in ( Z_Lin { R16 } ) by L209;
thus L253: thesis by L252 , L251;
end;
theorem
L254: (for R1 being set holds (for R7 being RealLinearSpace holds (for R17 being (VECTOR of R7) holds (for R18 being (VECTOR of R7) holds (R1 in ( Z_Lin { R17 , R18 } ) iff (ex B24 , B25 being Integer st R1 = ( ( B24 * R17 ) + ( B25 * R18 ) )))))))
proof
let R1 being set;
let R7 being RealLinearSpace;
let R17 being (VECTOR of R7);
let R18 being (VECTOR of R7);
thus L255: (R1 in ( Z_Lin { R17 , R18 } ) implies (ex B26 , B27 being Integer st R1 = ( ( B26 * R17 ) + ( B27 * R18 ) )))
proof
assume L256: R1 in ( Z_Lin { R17 , R18 } );
L257:
now
per cases ;
suppose L258: R17 = R18;

L259: { R17 , R18 } = { R17 } by L258 , ENUMSET1:29;
consider C49 being Integer such that L260: R1 = ( C49 * R17 ) by L259 , L256 , L209;
consider C50 being Integer such that L261: C50 = ( 0 );
L262: R1 = ( ( C49 * R17 ) + ( 0. R7 ) ) by L260 , RLVECT_1:4;
L263: R1 = ( ( C49 * R17 ) + ( C50 * R18 ) ) by L262 , L261 , RLVECT_1:10;
thus L264: thesis by L263;
end;
suppose L265: R17 <> R18;

consider C51 being (Linear_Combination of { R17 , R18 }) such that L266: (R1 = ( Sum C51 ) & ( rng C51 ) c= ( INT )) by L256;
L267: R1 = ( ( ( C51 . R17 ) * R17 ) + ( ( C51 . R18 ) * R18 ) ) by L265 , L266 , RLVECT_2:33;
L268: (ex B28 being Function st (C51 = B28 & ( dom B28 ) = (the carrier of R7) & ( rng B28 ) c= ( REAL ))) by FUNCT_2:def 2;
L269: (( C51 . R17 ) in ( rng C51 ) & ( C51 . R18 ) in ( rng C51 )) by L268 , FUNCT_1:3;
thus L270: thesis by L269 , L266 , L267;
end;
end;
thus L272: thesis by L257;
end;

given C52 , C53 being Integer such that
L273: R1 = ( ( C52 * R17 ) + ( C53 * R18 ) );

reconsider D41 = C52 , D42 = C53 as Real by XREAL_0:def 1;
L274:
now
per cases ;
suppose L275: R17 = R18;

L276: R1 = ( ( D41 + D42 ) * R17 ) by L275 , L273 , RLVECT_1:def 6;
L277: R1 in ( Z_Lin { R17 } ) by L276 , L209;
thus L278: thesis by L277 , L275 , ENUMSET1:29;
end;
suppose L279: R17 <> R18;

consider C54 being (Function of (the carrier of R7) , ( REAL )) such that L280: (( C54 . R17 ) = D41 & ( C54 . R18 ) = D42) and L281: (for R15 being (VECTOR of R7) holds ((R15 <> R17 & R15 <> R18) implies ( C54 . R15 ) = H1(R15))) from FUNCT_2:sch 7(L279);
reconsider D43 = C54 as (Element of ( Funcs ((the carrier of R7) , ( REAL )) )) by FUNCT_2:8;
L282:
now
let R15 being (VECTOR of R7);
assume L283: (not R15 in { R17 , R18 });
L284: (R15 <> R17 & R15 <> R18) by L283 , TARSKI:def 2;
thus L285: ( D43 . R15 ) = ( 0 ) by L284 , L281;
end;
reconsider D44 = D43 as (Linear_Combination of R7) by L282 , RLVECT_2:def 3;
L286: ( Carrier D44 ) c= { R17 , R18 }
proof
let R1 being set;
assume that
L287: R1 in ( Carrier D44 )
and
L288: (not R1 in { R17 , R18 });
L289: (R1 <> R17 & R1 <> R18) by L288 , TARSKI:def 2;
L290: ( D44 . R1 ) = ( 0 ) by L289 , L281 , L287;
thus L291: contradiction by L290 , L287 , RLVECT_2:19;
end;
reconsider D45 = D44 as (Linear_Combination of { R17 , R18 }) by L286 , RLVECT_2:def 6;
L292: R1 = ( Sum D45 ) by L273 , L279 , L280 , RLVECT_2:33;
L293: ( rng D45 ) c= ( INT )
proof
let C55 being set;
assume L294: C55 in ( rng D45 );
consider C56 being set such that L295: (C56 in (the carrier of R7) & C55 = ( D45 . C56 )) by L294 , FUNCT_2:11;
reconsider D46 = C56 as (VECTOR of R7) by L295;
per cases ;
suppose L296: (not D46 in { R17 , R18 });

L297: ( D45 . D46 ) = ( 0 ) by L296 , L282;
thus L298: C55 in ( INT ) by L297 , L295 , NUMBERS:17 , TARSKI:def 3;
end;
suppose L299: D46 in { R17 , R18 };

L300: (( D45 . D46 ) = C52 or ( D45 . D46 ) = C53) by L299 , L280 , TARSKI:def 2;
thus L301: C55 in ( INT ) by L300 , L295 , INT_1:def 2;
end;
end;
thus L303: thesis by L293 , L292;
end;
end;
thus L305: thesis by L274;
end;
theorem
L306: (for R7 being RealLinearSpace holds (for R17 being (VECTOR of R7) holds (for R18 being (VECTOR of R7) holds R17 in ( Z_Lin { R17 , R18 } ))))
proof
let R7 being RealLinearSpace;
let R17 being (VECTOR of R7);
let R18 being (VECTOR of R7);
L307: R17 in { R17 , R18 } by TARSKI:def 2;
thus L308: thesis by L307 , L88;
end;
theorem
L309: (for R1 being set holds (for R7 being RealLinearSpace holds (for R11 being (VECTOR of R7) holds (for R17 being (VECTOR of R7) holds (for R18 being (VECTOR of R7) holds (R1 in ( R11 + ( Z_Lin { R17 , R18 } ) ) iff (ex B29 , B30 being Integer st R1 = ( ( R11 + ( B29 * R17 ) ) + ( B30 * R18 ) ))))))))
proof
let R1 being set;
let R7 being RealLinearSpace;
let R11 being (VECTOR of R7);
let R17 being (VECTOR of R7);
let R18 being (VECTOR of R7);
thus L310: (R1 in ( R11 + ( Z_Lin { R17 , R18 } ) ) implies (ex B31 , B32 being Integer st R1 = ( ( R11 + ( B31 * R17 ) ) + ( B32 * R18 ) )))
proof
assume L311: R1 in ( R11 + ( Z_Lin { R17 , R18 } ) );
consider R15 being (VECTOR of R7) such that L312: R1 = ( R11 + R15 ) and L313: R15 in ( Z_Lin { R17 , R18 } ) by L311;
consider C57 , C58 being Integer such that L314: R15 = ( ( C57 * R17 ) + ( C58 * R18 ) ) by L313 , L254;
take C57;
take C58;
thus L315: thesis by L312 , L314 , RLVECT_1:def 3;
end;

given C59 , C60 being Integer such that
L316: R1 = ( ( R11 + ( C59 * R17 ) ) + ( C60 * R18 ) );

L317: ( ( C59 * R17 ) + ( C60 * R18 ) ) in ( Z_Lin { R17 , R18 } ) by L254;
L318: ( R11 + ( ( C59 * R17 ) + ( C60 * R18 ) ) ) in ( R11 + ( Z_Lin { R17 , R18 } ) ) by L317;
thus L319: thesis by L318 , L316 , RLVECT_1:def 3;
end;
theorem
L320: (for R1 being set holds (for R7 being RealLinearSpace holds (for R12 being (VECTOR of R7) holds (for R13 being (VECTOR of R7) holds (for R14 being (VECTOR of R7) holds (R1 in ( Z_Lin { R12 , R13 , R14 } ) iff (ex B33 , B34 , B35 being Integer st R1 = ( ( ( B33 * R12 ) + ( B34 * R13 ) ) + ( B35 * R14 ) ))))))))
proof
let R1 being set;
let R7 being RealLinearSpace;
let R12 being (VECTOR of R7);
let R13 being (VECTOR of R7);
let R14 being (VECTOR of R7);
thus L321: (R1 in ( Z_Lin { R12 , R13 , R14 } ) implies (ex B36 , B37 , B38 being Integer st R1 = ( ( ( B36 * R12 ) + ( B37 * R13 ) ) + ( B38 * R14 ) )))
proof
assume L322: R1 in ( Z_Lin { R12 , R13 , R14 } );
L323:
now
per cases ;
suppose L324: (R12 <> R13 & R12 <> R14 & R13 <> R14);

consider C61 being (Linear_Combination of { R12 , R13 , R14 }) such that L325: (R1 = ( Sum C61 ) & ( rng C61 ) c= ( INT )) by L322;
L326: R1 = ( ( ( ( C61 . R12 ) * R12 ) + ( ( C61 . R13 ) * R13 ) ) + ( ( C61 . R14 ) * R14 ) ) by L324 , L325 , RLVECT_4:6;
L327: (ex B39 being Function st (C61 = B39 & ( dom B39 ) = (the carrier of R7) & ( rng B39 ) c= ( REAL ))) by FUNCT_2:def 2;
L328: (( C61 . R12 ) in ( rng C61 ) & ( C61 . R13 ) in ( rng C61 ) & ( C61 . R14 ) in ( rng C61 )) by L327 , FUNCT_1:3;
thus L329: thesis by L328 , L325 , L326;
end;
suppose L330: (R12 = R13 or R12 = R14 or R13 = R14);

L331: ({ R12 , R13 , R14 } = { R12 , R14 } or { R12 , R13 , R14 } = { R12 , R12 , R13 } or { R12 , R13 , R14 } = { R14 , R14 , R12 }) by L330 , ENUMSET1:30 , ENUMSET1:59;
L332:
now
per cases  by L331 , ENUMSET1:30;
suppose L333: { R12 , R13 , R14 } = { R12 , R13 };

consider C62 , C63 being Integer such that L334: R1 = ( ( C62 * R12 ) + ( C63 * R13 ) ) by L333 , L322 , L254;
consider C64 being Integer such that L335: C64 = ( 0 );
L336: R1 = ( ( ( C62 * R12 ) + ( C63 * R13 ) ) + ( 0. R7 ) ) by L334 , RLVECT_1:4
.= ( ( ( C62 * R12 ) + ( C63 * R13 ) ) + ( C64 * R14 ) ) by L335 , RLVECT_1:10;
thus L337: thesis by L336;
end;
suppose L338: { R12 , R13 , R14 } = { R12 , R14 };

consider C65 , C66 being Integer such that L339: R1 = ( ( C65 * R12 ) + ( C66 * R14 ) ) by L338 , L322 , L254;
consider C67 being Integer such that L340: C67 = ( 0 );
L341: R1 = ( ( ( C65 * R12 ) + ( 0. R7 ) ) + ( C66 * R14 ) ) by L339 , RLVECT_1:4
.= ( ( ( C65 * R12 ) + ( C67 * R13 ) ) + ( C66 * R14 ) ) by L340 , RLVECT_1:10;
thus L342: thesis by L341;
end;
end;
thus L344: thesis by L332;
end;
end;
thus L346: thesis by L323;
end;

given C68 , C69 , C70 being Integer such that
L347: R1 = ( ( ( C68 * R12 ) + ( C69 * R13 ) ) + ( C70 * R14 ) );

reconsider D47 = C68 , D48 = C69 , D49 = C70 as Real by XREAL_0:def 1;
L348:
now
per cases ;
suppose L349: (R12 = R13 or R12 = R14 or R13 = R14);

L350:
now
per cases  by L349;
suppose L351: R12 = R13;

L352: ({ R12 , R13 , R14 } = { R12 , R14 } & R1 = ( ( ( D47 + D48 ) * R12 ) + ( D49 * R14 ) )) by L351 , L347 , ENUMSET1:30 , RLVECT_1:def 6;
thus L353: thesis by L352 , L254;
end;
suppose L354: R12 = R14;

L355: { R12 , R13 , R14 } = { R12 , R12 , R13 } by L354 , ENUMSET1:57
.= { R13 , R12 } by ENUMSET1:30;
L356: R1 = ( ( D48 * R13 ) + ( ( D47 * R12 ) + ( D49 * R12 ) ) ) by L347 , L354 , RLVECT_1:def 3
.= ( ( D48 * R13 ) + ( ( D47 + D49 ) * R12 ) ) by RLVECT_1:def 6;
thus L357: thesis by L356 , L355 , L254;
end;
suppose L358: R13 = R14;

L359: { R12 , R13 , R14 } = { R13 , R13 , R12 } by L358 , ENUMSET1:59
.= { R12 , R13 } by ENUMSET1:30;
L360: R1 = ( ( D47 * R12 ) + ( ( D48 * R13 ) + ( D49 * R13 ) ) ) by L347 , L358 , RLVECT_1:def 3
.= ( ( D47 * R12 ) + ( ( D48 + D49 ) * R13 ) ) by RLVECT_1:def 6;
thus L361: thesis by L360 , L359 , L254;
end;
end;
thus L363: thesis by L350;
end;
suppose L364: (R12 <> R13 & R12 <> R14 & R13 <> R14);

L365: R12 <> R14 by L364;
L366: R13 <> R14 by L364;
L367: R12 <> R13 by L364;
consider C71 being (Function of (the carrier of R7) , ( REAL )) such that L368: (( C71 . R12 ) = D47 & ( C71 . R13 ) = D48 & ( C71 . R14 ) = D49) and L369: (for R11 being (VECTOR of R7) holds ((R11 <> R12 & R11 <> R13 & R11 <> R14) implies ( C71 . R11 ) = H1(R11))) from RLVECT_4:sch 1(L367 , L365 , L366);
reconsider D50 = C71 as (Element of ( Funcs ((the carrier of R7) , ( REAL )) )) by FUNCT_2:8;
L370:
now
let R11 being (VECTOR of R7);
assume L371: (not R11 in { R12 , R13 , R14 });
L372: R11 <> R14 by L371 , ENUMSET1:def 1;
L373: (R11 <> R12 & R11 <> R13) by L371 , ENUMSET1:def 1;
thus L374: ( D50 . R11 ) = ( 0 ) by L373 , L369 , L372;
end;
reconsider D51 = D50 as (Linear_Combination of R7) by L370 , RLVECT_2:def 3;
L375: ( Carrier D51 ) c= { R12 , R13 , R14 }
proof
let R1 being set;
assume that
L376: R1 in ( Carrier D51 )
and
L377: (not R1 in { R12 , R13 , R14 });
L378: R1 <> R14 by L377 , ENUMSET1:def 1;
L379: (R1 <> R12 & R1 <> R13) by L377 , ENUMSET1:def 1;
L380: ( D51 . R1 ) = ( 0 ) by L379 , L369 , L376 , L378;
thus L381: thesis by L380 , L376 , RLVECT_2:19;
end;
reconsider D52 = D51 as (Linear_Combination of { R12 , R13 , R14 }) by L375 , RLVECT_2:def 6;
L382: R1 = ( Sum D52 ) by L347 , L364 , L368 , RLVECT_4:6;
L383: ( rng D52 ) c= ( INT )
proof
let C72 being set;
assume L384: C72 in ( rng D52 );
consider C73 being set such that L385: (C73 in (the carrier of R7) & C72 = ( D52 . C73 )) by L384 , FUNCT_2:11;
reconsider D53 = C73 as (VECTOR of R7) by L385;
per cases ;
suppose L386: (not D53 in { R12 , R13 , R14 });

L387: ( D52 . D53 ) = ( 0 ) by L386 , L370;
thus L388: C72 in ( INT ) by L387 , L385 , NUMBERS:17 , TARSKI:def 3;
end;
suppose L389: D53 in { R12 , R13 , R14 };

L390: (( D52 . D53 ) = C68 or ( D52 . D53 ) = C69 or ( D52 . D53 ) = C70) by L389 , L368 , ENUMSET1:def 1;
thus L391: C72 in ( INT ) by L390 , L385 , INT_1:def 2;
end;
end;
thus L393: thesis by L383 , L382;
end;
end;
thus L395: thesis by L348;
end;
theorem
L396: (for R7 being RealLinearSpace holds (for R17 being (VECTOR of R7) holds (for R18 being (VECTOR of R7) holds (for R19 being (VECTOR of R7) holds (R17 in ( Z_Lin { R17 , R18 , R19 } ) & R18 in ( Z_Lin { R17 , R18 , R19 } ) & R19 in ( Z_Lin { R17 , R18 , R19 } ))))))
proof
let R7 being RealLinearSpace;
let R17 being (VECTOR of R7);
let R18 being (VECTOR of R7);
let R19 being (VECTOR of R7);
L397: R19 in { R17 , R18 , R19 } by ENUMSET1:def 1;
L398: (R17 in { R17 , R18 , R19 } & R18 in { R17 , R18 , R19 }) by ENUMSET1:def 1;
thus L399: thesis by L398 , L397 , L88;
end;
theorem
L400: (for R1 being set holds (for R7 being RealLinearSpace holds (for R11 being (VECTOR of R7) holds (for R17 being (VECTOR of R7) holds (for R18 being (VECTOR of R7) holds (for R19 being (VECTOR of R7) holds (R1 in ( R11 + ( Z_Lin { R17 , R18 , R19 } ) ) iff (ex B40 , B41 , B42 being Integer st R1 = ( ( ( R11 + ( B40 * R17 ) ) + ( B41 * R18 ) ) + ( B42 * R19 ) )))))))))
proof
let R1 being set;
let R7 being RealLinearSpace;
let R11 being (VECTOR of R7);
let R17 being (VECTOR of R7);
let R18 being (VECTOR of R7);
let R19 being (VECTOR of R7);
thus L401: (R1 in ( R11 + ( Z_Lin { R17 , R18 , R19 } ) ) implies (ex B43 , B44 , B45 being Integer st R1 = ( ( ( R11 + ( B43 * R17 ) ) + ( B44 * R18 ) ) + ( B45 * R19 ) )))
proof
assume L402: R1 in ( R11 + ( Z_Lin { R17 , R18 , R19 } ) );
consider R15 being (VECTOR of R7) such that L403: R1 = ( R11 + R15 ) and L404: R15 in ( Z_Lin { R17 , R18 , R19 } ) by L402;
consider C74 , C75 , C76 being Integer such that L405: R15 = ( ( ( C74 * R17 ) + ( C75 * R18 ) ) + ( C76 * R19 ) ) by L404 , L320;
take C74;
take C75;
take C76;
L406: R1 = ( ( R11 + ( ( C74 * R17 ) + ( C75 * R18 ) ) ) + ( C76 * R19 ) ) by L403 , L405 , RLVECT_1:def 3;
thus L407: thesis by L406 , RLVECT_1:def 3;
end;

given C77 , C78 , C79 being Integer such that
L408: R1 = ( ( ( R11 + ( C77 * R17 ) ) + ( C78 * R18 ) ) + ( C79 * R19 ) );

L409: ( ( ( C77 * R17 ) + ( C78 * R18 ) ) + ( C79 * R19 ) ) in ( Z_Lin { R17 , R18 , R19 } ) by L320;
L410: ( R11 + ( ( ( C77 * R17 ) + ( C78 * R18 ) ) + ( C79 * R19 ) ) ) in ( R11 + ( Z_Lin { R17 , R18 , R19 } ) ) by L409;
L411: ( ( R11 + ( ( C77 * R17 ) + ( C78 * R18 ) ) ) + ( C79 * R19 ) ) in ( R11 + ( Z_Lin { R17 , R18 , R19 } ) ) by L410 , RLVECT_1:def 3;
thus L412: thesis by L411 , L408 , RLVECT_1:def 3;
end;
L413: (for B46 being RealLinearSpace holds (for B47 being (Subset of B46) holds (for B48 , B49 being (FinSequence of B46) holds (for B50 being ( INT ) -valued FinSequence holds ((( rng B48 ) c= B47 & ( len B48 ) = ( len B49 ) & ( len B48 ) = ( len B50 ) & (for B51 being Nat holds (B51 in ( Seg ( len B48 ) ) implies ( B49 /. B51 ) = ( ( B50 . B51 ) * ( B48 /. B51 ) )))) implies ( Sum B49 ) in ( Z_Lin B47 ))))))
proof
let C80 being RealLinearSpace;
let C81 being (Subset of C80);
defpred S3[ Nat ] means (for B52 , B53 being (FinSequence of C80) holds (for B54 being ( INT ) -valued FinSequence holds ((( rng B52 ) c= C81 & ( len B52 ) = $1 & ( len B52 ) = ( len B53 ) & ( len B52 ) = ( len B54 ) & (for B55 being Nat holds (B55 in ( Seg ( len B52 ) ) implies ( B53 /. B55 ) = ( ( B54 . B55 ) * ( B52 /. B55 ) )))) implies ( Sum B53 ) in ( Z_Lin C81 ))));
L414: S3[ ( 0 ) ]
proof
let C82 , C83 being (FinSequence of C80);
let C84 being ( INT ) -valued FinSequence;
set D54 = ( Sum C83 );
assume L415: (( rng C82 ) c= C81 & ( len C82 ) = ( 0 ) & ( len C82 ) = ( len C83 ) & ( len C82 ) = ( len C84 ) & (for B56 being Nat holds (B56 in ( Seg ( len C82 ) ) implies ( C83 /. B56 ) = ( ( C84 . B56 ) * ( C82 /. B56 ) ))));
L416: ( Sum C83 ) = ( Sum ( <*> (the carrier of C80) ) ) by L415 , FINSEQ_1:20
.= ( 0. C80 ) by RLVECT_1:43;
thus L417: D54 in ( Z_Lin C81 ) by L416 , L84;
end;
L418:
now
let C85 being Nat;
assume L419: S3[ C85 ];
L420:
now
let C86 , C87 being (FinSequence of C80);
let C88 being ( INT ) -valued FinSequence;
let C89 being set;
assume L421: (C89 = ( Sum C87 ) & ( rng C86 ) c= C81 & ( len C86 ) = ( C85 + 1 ) & ( len C86 ) = ( len C87 ) & ( len C86 ) = ( len C88 ) & (for B57 being Nat holds (B57 in ( Seg ( len C86 ) ) implies ( C87 /. B57 ) = ( ( C88 . B57 ) * ( C86 /. B57 ) ))));
reconsider D55 = ( C86 | C85 ) as (FinSequence of C80);
reconsider D56 = ( C87 | C85 ) as (FinSequence of C80);
reconsider D57 = ( C88 | C85 ) as  real-valued FinSequence;
L422: (( rng D55 ) c= C81 & ( len D55 ) = C85 & ( len D55 ) = ( len D56 ) & ( len D55 ) = ( len D57 ) & (for B58 being Nat holds (B58 in ( Seg ( len D55 ) ) implies ( D56 /. B58 ) = ( ( D57 . B58 ) * ( D55 /. B58 ) ))))
proof
L423: ( rng D55 ) c= ( rng C86 ) by RELAT_1:70;
L424: ( rng D55 ) c= C81 by L423 , L421 , XBOOLE_1:1;
L425: C85 <= ( len C86 ) by L421 , NAT_1:11;
L426: C85 <= ( len C87 ) by L421 , NAT_1:11;
L427: ( len D56 ) = C85 by L421 , FINSEQ_1:59 , NAT_1:11;
L428: ( len D57 ) = C85 by L421 , FINSEQ_1:59 , NAT_1:11;
L429: (for B59 being Nat holds (B59 in ( Seg ( len D55 ) ) implies ( D56 /. B59 ) = ( ( D57 . B59 ) * ( D55 /. B59 ) )))
proof
per cases ;
suppose L430: C85 = ( 0 );

thus L431: thesis by L430;
end;
suppose L432: C85 <> ( 0 );

L433: C85 >= 1 by L432 , NAT_1:14;
let C90 being Nat;
assume L434: C90 in ( Seg ( len D55 ) );
L435: C90 in ( Seg C85 ) by L434 , L421 , FINSEQ_1:59 , NAT_1:11;
L436: C85 in ( Seg ( len C86 ) ) by L425 , L433 , FINSEQ_1:1;
L437: C85 in ( dom C86 ) by L436 , FINSEQ_1:def 3;
L438: ( D55 /. C90 ) = ( C86 /. C90 ) by L437 , L435 , FINSEQ_4:71;
L439: C85 in ( Seg ( len C87 ) ) by L426 , L433 , FINSEQ_1:1;
L440: C85 in ( dom C87 ) by L439 , FINSEQ_1:def 3;
L441: ( D56 /. C90 ) = ( C87 /. C90 ) by L440 , L435 , FINSEQ_4:71;
L442: C90 <= C85 by L435 , FINSEQ_1:1;
L443: ( D57 . C90 ) = ( C88 . C90 ) by L442 , FINSEQ_3:112;
thus L444: thesis by L443 , L421 , L435 , L438 , L441 , FINSEQ_2:8;
end;
end;
thus L446: thesis by L429 , L424 , L427 , L428 , L421 , FINSEQ_1:59 , NAT_1:11;
end;
L447: ( Sum D56 ) in ( Z_Lin C81 ) by L422 , L419;
L448: ( C85 + 1 ) in ( Seg ( len C86 ) ) by L421 , FINSEQ_1:4;
L449: ( C87 /. ( C85 + 1 ) ) = ( ( C88 . ( C85 + 1 ) ) * ( C86 /. ( C85 + 1 ) ) ) by L421 , FINSEQ_1:4;
L450: C87 = ( D56 ^ <* ( ( C88 . ( C85 + 1 ) ) * ( C86 /. ( C85 + 1 ) ) ) *> ) by L421 , L449 , FINSEQ_5:21;
L451: ( C85 + 1 ) in ( dom C86 ) by L448 , FINSEQ_1:def 3;
L452: ( C86 /. ( C85 + 1 ) ) = ( C86 . ( C85 + 1 ) ) by L451 , PARTFUN1:def 6;
L453: ( C86 /. ( C85 + 1 ) ) in ( rng C86 ) by L452 , L451 , FUNCT_1:3;
L454: ( C86 /. ( C85 + 1 ) ) in ( Z_Lin C81 ) by L453 , L421 , L88;
L455: ( ( C88 . ( C85 + 1 ) ) * ( C86 /. ( C85 + 1 ) ) ) in ( Z_Lin C81 ) by L454 , L77;
L456: ( Sum C87 ) = ( ( Sum D56 ) + ( Sum <* ( ( C88 . ( C85 + 1 ) ) * ( C86 /. ( C85 + 1 ) ) ) *> ) ) by L450 , RLVECT_1:41
.= ( ( Sum D56 ) + ( ( C88 . ( C85 + 1 ) ) * ( C86 /. ( C85 + 1 ) ) ) ) by RLVECT_1:44;
thus L457: C89 in ( Z_Lin C81 ) by L456 , L421 , L447 , L455 , L69;
end;
thus L458: S3[ ( C85 + 1 ) ] by L420;
end;
L459: (for B60 being Nat holds S3[ B60 ]) from NAT_1:sch 2(L414 , L418);
thus L460: thesis by L459;
end;
L461: (for R7 being RealLinearSpace holds (for R20 being (Subset of R7) holds (for B61 being set holds (B61 in ( Z_Lin R20 ) implies (ex B62 , B63 being (FinSequence of R7) st (ex B64 being ( INT ) -valued FinSequence st (B61 = ( Sum B63 ) & ( rng B62 ) c= R20 & ( len B62 ) = ( len B63 ) & ( len B62 ) = ( len B64 ) & (for B65 being Nat holds (B65 in ( Seg ( len B62 ) ) implies ( B63 /. B65 ) = ( ( B64 . B65 ) * ( B62 /. B65 ) ))))))))))
proof
let R7 being RealLinearSpace;
let R20 being (Subset of R7);
let C91 being set;
assume L462: C91 in ( Z_Lin R20 );
consider C92 being (Linear_Combination of R20) such that L463: (C91 = ( Sum C92 ) & ( rng C92 ) c= ( INT )) by L462;
consider C93 being (FinSequence of R7) such that L464: (C93 is  one-to-one & ( rng C93 ) = ( Carrier C92 ) & ( Sum C92 ) = ( Sum ( C92 (#) C93 ) )) by RLVECT_2:def 8;
L465: (( len ( C92 (#) C93 ) ) = ( len C93 ) & (for B66 being Nat holds (B66 in ( dom ( C92 (#) C93 ) ) implies ( ( C92 (#) C93 ) . B66 ) = ( ( C92 . ( C93 /. B66 ) ) * ( C93 /. B66 ) )))) by RLVECT_2:def 7;
defpred S4[ Nat , set ] means $2 = ( C92 . ( C93 /. $1 ) );
L466:
now
let C94 being Nat;
assume L467: C94 in ( Seg ( len C93 ) );
L468: ( C92 . ( C93 /. C94 ) ) in ( rng C92 ) by FUNCT_2:4;
thus L469: (ex B67 being (Element of ( INT )) st S4[ C94 , B67 ]) by L468 , L463;
end;
consider C95 being (FinSequence of ( INT )) such that L470: (( dom C95 ) = ( Seg ( len C93 ) ) & (for B68 being Nat holds (B68 in ( Seg ( len C93 ) ) implies S4[ B68 , ( C95 . B68 ) ]))) from FINSEQ_1:sch 5(L466);
L471: ( rng C93 ) c= R20 by L464 , RLVECT_2:def 6;
L472: ( len C93 ) = ( len ( C92 (#) C93 ) ) by RLVECT_2:def 7;
L473: ( len C93 ) = ( len C95 ) by L470 , FINSEQ_1:def 3;
L474:
now
let C96 being Nat;
assume L475: C96 in ( Seg ( len C93 ) );
L476: C96 in ( dom ( C92 (#) C93 ) ) by L475 , L465 , FINSEQ_1:def 3;
thus L477: ( ( C92 (#) C93 ) /. C96 ) = ( ( C92 (#) C93 ) . C96 ) by L476 , PARTFUN1:def 6
.= ( ( C92 . ( C93 /. C96 ) ) * ( C93 /. C96 ) ) by L476 , RLVECT_2:def 7
.= ( ( C95 . C96 ) * ( C93 /. C96 ) ) by L470 , L475;
end;
thus L478: thesis by L474 , L471 , L472 , L473 , L463 , L464;
end;
theorem
L479: (for R7 being RealLinearSpace holds (for R20 being (Subset of R7) holds (for B69 being set holds (B69 in ( Z_Lin R20 ) iff (ex B70 , B71 being (FinSequence of R7) st (ex B72 being ( INT ) -valued FinSequence st (B69 = ( Sum B71 ) & ( rng B70 ) c= R20 & ( len B70 ) = ( len B71 ) & ( len B70 ) = ( len B72 ) & (for B73 being Nat holds (B73 in ( Seg ( len B70 ) ) implies ( B71 /. B73 ) = ( ( B72 . B73 ) * ( B70 /. B73 ) )))))))))) by L413 , L461;
registration
let C97 being non  empty set;
let C98 being Nat;
cluster C98 -element C97 -valued for FinSequence;
existence
proof
take ( C98 |-> the (Element of C97) );
thus L480: thesis;
end;
end;
definition
let C99 being RealLinearSpace;
let C100 being (FinSequence of C99);
func Z_Lin C100 -> (Subset of C99) equals 
{ ( Sum B74 ) where B74 is ( len C100 ) -element (FinSequence of C99) : (ex B75 being ( len C100 ) -element ( INT ) -valued FinSequence st (for B76 being Nat holds (B76 in ( Seg ( len C100 ) ) implies ( B74 /. B76 ) = ( ( B75 . B76 ) * ( C100 /. B76 ) )))) };
correctness
proof
L482:
now
let C101 being set;
assume L483: C101 in { ( Sum B77 ) where B77 is ( len C100 ) -element (FinSequence of C99) : (ex B78 being ( len C100 ) -element ( INT ) -valued FinSequence st (for B79 being Nat holds (B79 in ( Seg ( len C100 ) ) implies ( B77 /. B79 ) = ( ( B78 . B79 ) * ( C100 /. B79 ) )))) };
L484: (ex B80 being ( len C100 ) -element (FinSequence of C99) st (C101 = ( Sum B80 ) & (ex B81 being ( len C100 ) -element ( INT ) -valued FinSequence st (for B82 being Nat holds (B82 in ( Seg ( len C100 ) ) implies ( B80 /. B82 ) = ( ( B81 . B82 ) * ( C100 /. B82 ) )))))) by L483;
thus L485: C101 in (the carrier of C99) by L484;
end;
thus L486: thesis by L482 , TARSKI:def 3;
end;
end;
theorem
L488: (for B83 being RealLinearSpace holds (for B84 being (FinSequence of B83) holds (for B85 being set holds (B85 in ( Z_Lin B84 ) iff (ex B86 being ( len B84 ) -element (FinSequence of B83) st (ex B87 being ( len B84 ) -element ( INT ) -valued FinSequence st (B85 = ( Sum B86 ) & (for B88 being Nat holds (B88 in ( Seg ( len B84 ) ) implies ( B86 /. B88 ) = ( ( B87 . B88 ) * ( B84 /. B88 ) ))))))))))
proof
let C102 being RealLinearSpace;
let C103 being (FinSequence of C102);
let C104 being set;
thus L489:now
assume L490: C104 in ( Z_Lin C103 );
consider C105 being ( len C103 ) -element (FinSequence of C102) such that L491: (C104 = ( Sum C105 ) & (ex B89 being ( len C103 ) -element ( INT ) -valued FinSequence st (for B90 being Nat holds (B90 in ( Seg ( len C103 ) ) implies ( C105 /. B90 ) = ( ( B89 . B90 ) * ( C103 /. B90 ) ))))) by L490;
consider C106 being ( len C103 ) -element ( INT ) -valued FinSequence such that L492: (for B91 being Nat holds (B91 in ( Seg ( len C103 ) ) implies ( C105 /. B91 ) = ( ( C106 . B91 ) * ( C103 /. B91 ) ))) by L491;
take D58 = C105;
take D59 = C106;
thus L493: (C104 = ( Sum D58 ) & (for B92 being Nat holds (B92 in ( Seg ( len C103 ) ) implies ( D58 /. B92 ) = ( ( D59 . B92 ) * ( C103 /. B92 ) )))) by L491 , L492;
end;
assume L494: (ex B93 being ( len C103 ) -element (FinSequence of C102) st (ex B94 being ( len C103 ) -element ( INT ) -valued FinSequence st (C104 = ( Sum B93 ) & (for B95 being Nat holds (B95 in ( Seg ( len C103 ) ) implies ( B93 /. B95 ) = ( ( B94 . B95 ) * ( C103 /. B95 ) ))))));
thus L495: C104 in ( Z_Lin C103 ) by L494;
end;
theorem
L496: (for B96 being RealLinearSpace holds (for B97 being (FinSequence of B96) holds (for B98 , B99 being (Element of B96) holds (for B100 , B101 being (Element of ( INT )) holds ((B98 in ( Z_Lin B97 ) & B99 in ( Z_Lin B97 )) implies ( ( B100 * B98 ) + ( B101 * B99 ) ) in ( Z_Lin B97 ))))))
proof
let C107 being RealLinearSpace;
let C108 being (FinSequence of C107);
let C109 , C110 being (Element of C107);
let C111 , C112 being (Element of ( INT ));
assume L497: (C109 in ( Z_Lin C108 ) & C110 in ( Z_Lin C108 ));
consider C113 being ( len C108 ) -element (FinSequence of C107), C114 being ( len C108 ) -element ( INT ) -valued FinSequence such that L498: (C109 = ( Sum C113 ) & (for B102 being Nat holds (B102 in ( Seg ( len C108 ) ) implies ( C113 /. B102 ) = ( ( C114 . B102 ) * ( C108 /. B102 ) )))) by L497 , L488;
consider C115 being ( len C108 ) -element (FinSequence of C107), C116 being ( len C108 ) -element ( INT ) -valued FinSequence such that L499: (C110 = ( Sum C115 ) & (for B103 being Nat holds (B103 in ( Seg ( len C108 ) ) implies ( C115 /. B103 ) = ( ( C116 . B103 ) * ( C108 /. B103 ) )))) by L497 , L488;
defpred S5[ Nat , set ] means $2 = ( ( C111 * ( C114 . $1 ) ) + ( C112 * ( C116 . $1 ) ) );
L500: (for B104 being Nat holds (B104 in ( Seg ( len C108 ) ) implies (ex B105 being (Element of ( INT )) st S5[ B104 , B105 ])));
consider C117 being (FinSequence of ( INT )) such that L501: (( dom C117 ) = ( Seg ( len C108 ) ) & (for B106 being Nat holds (B106 in ( Seg ( len C108 ) ) implies S5[ B106 , ( C117 . B106 ) ]))) from FINSEQ_1:sch 5(L500);
L502: ( len C117 ) = ( len C108 ) by L501 , FINSEQ_1:def 3;
reconsider D60 = C117 as ( len C108 ) -element ( INT ) -valued FinSequence by L502 , CARD_1:def 7;
defpred S6[ Nat , set ] means $2 = ( ( C111 * ( C113 /. $1 ) ) + ( C112 * ( C115 /. $1 ) ) );
L503: (for B107 being Nat holds (B107 in ( Seg ( len C108 ) ) implies (ex B108 being (Element of C107) st S6[ B107 , B108 ])));
consider C118 being (FinSequence of C107) such that L504: (( dom C118 ) = ( Seg ( len C108 ) ) & (for B109 being Nat holds (B109 in ( Seg ( len C108 ) ) implies S6[ B109 , ( C118 . B109 ) ]))) from FINSEQ_1:sch 5(L503);
L505: ( len C118 ) = ( len C108 ) by L504 , FINSEQ_1:def 3;
reconsider D61 = C118 as ( len C108 ) -element (FinSequence of C107) by L505 , CARD_1:def 7;
L506:
now
let C119 being Nat;
assume L507: C119 in ( Seg ( len C108 ) );
thus L508: ( D61 /. C119 ) = ( D61 . C119 ) by L507 , L504 , PARTFUN1:def 6
.= ( ( C111 * ( C113 /. C119 ) ) + ( C112 * ( C115 /. C119 ) ) ) by L504 , L507;
end;
reconsider D62 = C111 as (Element of ( REAL )) by NUMBERS:15 , TARSKI:def 3;
reconsider D63 = C112 as (Element of ( REAL )) by NUMBERS:15 , TARSKI:def 3;
L509: ( dom ( D62 (#) C113 ) ) = ( dom C113 ) by VFUNCT_1:def 4
.= ( Seg ( len C113 ) ) by FINSEQ_1:def 3;
L510: ( D62 (#) C113 ) is  FinSequence-like by L509 , FINSEQ_1:def 2;
L511: ( rng ( D62 (#) C113 ) ) c= (the carrier of C107);
reconsider D64 = ( D62 (#) C113 ) as (FinSequence of C107) by L511 , L510 , FINSEQ_1:def 4;
L512: ( dom ( D63 (#) C115 ) ) = ( dom C115 ) by VFUNCT_1:def 4
.= ( Seg ( len C115 ) ) by FINSEQ_1:def 3;
L513: ( D63 (#) C115 ) is  FinSequence-like by L512 , FINSEQ_1:def 2;
L514: ( rng ( D63 (#) C115 ) ) c= (the carrier of C107);
reconsider D65 = ( D63 (#) C115 ) as (FinSequence of C107) by L514 , L513 , FINSEQ_1:def 4;
L515: ( dom ( D62 (#) C113 ) ) = ( dom C113 ) by VFUNCT_1:def 4
.= ( Seg ( len C113 ) ) by FINSEQ_1:def 3
.= ( Seg ( len C108 ) ) by CARD_1:def 7;
L516: ( len D64 ) = ( len C108 ) by L515 , FINSEQ_1:def 3;
L517: ( dom ( D63 (#) C115 ) ) = ( dom C115 ) by VFUNCT_1:def 4
.= ( Seg ( len C115 ) ) by FINSEQ_1:def 3
.= ( Seg ( len C108 ) ) by CARD_1:def 7;
L518:
now
let C120 being (Element of ( NAT ));
assume L519: C120 in ( dom D64 );
thus L520: ( D61 . C120 ) = ( ( C111 * ( C113 /. C120 ) ) + ( C112 * ( C115 /. C120 ) ) ) by L519 , L504 , L515
.= ( ( D64 /. C120 ) + ( C112 * ( C115 /. C120 ) ) ) by L519 , VFUNCT_1:def 4
.= ( ( D64 /. C120 ) + ( D65 /. C120 ) ) by L519 , L517 , L515 , VFUNCT_1:def 4;
end;
L521: (( len D64 ) = ( len D65 ) & ( len D64 ) = ( len D61 )) by L504 , L516 , L517 , FINSEQ_1:def 3;
L522: (for B110 being Nat holds (B110 in ( Seg ( len C108 ) ) implies ( D61 /. B110 ) = ( ( D60 . B110 ) * ( C108 /. B110 ) )))
proof
let C121 being Nat;
assume L523: C121 in ( Seg ( len C108 ) );
thus L524: ( D61 /. C121 ) = ( ( C111 * ( C113 /. C121 ) ) + ( C112 * ( C115 /. C121 ) ) ) by L523 , L506
.= ( ( C111 * ( ( C114 . C121 ) * ( C108 /. C121 ) ) ) + ( C112 * ( C115 /. C121 ) ) ) by L523 , L498
.= ( ( C111 * ( ( C114 . C121 ) * ( C108 /. C121 ) ) ) + ( C112 * ( ( C116 . C121 ) * ( C108 /. C121 ) ) ) ) by L523 , L499
.= ( ( ( C111 * ( C114 . C121 ) ) * ( C108 /. C121 ) ) + ( C112 * ( ( C116 . C121 ) * ( C108 /. C121 ) ) ) ) by RLVECT_1:def 7
.= ( ( ( C111 * ( C114 . C121 ) ) * ( C108 /. C121 ) ) + ( ( C112 * ( C116 . C121 ) ) * ( C108 /. C121 ) ) ) by RLVECT_1:def 7
.= ( ( ( C111 * ( C114 . C121 ) ) + ( C112 * ( C116 . C121 ) ) ) * ( C108 /. C121 ) ) by RLVECT_1:def 6
.= ( ( D60 . C121 ) * ( C108 /. C121 ) ) by L523 , L501;
end;
L525: ( ( C111 * C109 ) + ( C112 * C110 ) ) = ( ( Sum D64 ) + ( C112 * ( Sum C115 ) ) ) by L498 , L499 , L14
.= ( ( Sum D64 ) + ( Sum D65 ) ) by L14
.= ( Sum D61 ) by L518 , L521 , RLVECT_2:2;
thus L526: ( ( C111 * C109 ) + ( C112 * C110 ) ) in ( Z_Lin C108 ) by L525 , L522;
end;
theorem
L527: (for B111 being RealLinearSpace holds (for B112 being (FinSequence of B111) holds (B112 = ( ( Seg ( len B112 ) ) --> ( 0. B111 ) ) implies ( Sum B112 ) = ( 0. B111 ))))
proof
let C122 being RealLinearSpace;
let C123 being (FinSequence of C122);
assume L528: C123 = ( ( Seg ( len C123 ) ) --> ( 0. C122 ) );
L529:
now
let C124 being (Element of ( NAT ));
let C125 being (Element of C122);
assume L530: (C124 in ( dom C123 ) & C125 = ( C123 . C124 ));
L531: C124 in ( Seg ( len C123 ) ) by L530 , FINSEQ_1:def 3;
L532: ( C123 . C124 ) = ( 0. C122 ) by L531 , L528 , FUNCOP_1:7;
thus L533: ( C123 . C124 ) = ( - C125 ) by L532 , L530 , RLVECT_1:12;
end;
L534: ( len C123 ) = ( len C123 );
L535: ( Sum C123 ) = ( - ( Sum C123 ) ) by L534 , L529 , RLVECT_1:40;
thus L536: thesis by L535 , RLVECT_1:19;
end;
theorem
L537: (for B113 being RealLinearSpace holds (for B114 being (FinSequence of B113) holds (for B115 being (Element of B113) holds (for B116 being Nat holds ((B116 in ( Seg ( len B114 ) ) & B114 = ( ( ( Seg ( len B114 ) ) --> ( 0. B113 ) ) +* ( { B116 } --> B115 ) )) implies ( Sum B114 ) = B115)))))
proof
let C126 being RealLinearSpace;
let C127 being (FinSequence of C126);
let C128 being (Element of C126);
let C129 being Nat;
defpred S7[ Nat ] means (for B117 being (FinSequence of C126) holds ((( len B117 ) = $1 & C129 in ( Seg ( len B117 ) ) & B117 = ( ( ( Seg ( len B117 ) ) --> ( 0. C126 ) ) +* ( { C129 } --> C128 ) )) implies ( Sum B117 ) = C128));
L538: S7[ ( 0 ) ];
L539:
now
let C130 being Nat;
assume L540: S7[ C130 ];
L541:
now
let C131 being (FinSequence of C126);
assume L542: (( len C131 ) = ( C130 + 1 ) & C129 in ( Seg ( len C131 ) ) & C131 = ( ( ( Seg ( len C131 ) ) --> ( 0. C126 ) ) +* ( { C129 } --> C128 ) ));
reconsider D66 = ( C131 | C130 ) as (FinSequence of C126);
L543: ( C130 + 1 ) in ( Seg ( C130 + 1 ) ) by FINSEQ_1:4;
L544: ( C130 + 1 ) in ( dom C131 ) by L543 , L542 , FINSEQ_1:def 3;
L545: ( len D66 ) = C130 by L542 , FINSEQ_1:59 , NAT_1:11;
L546: C131 = ( ( C131 | C130 ) ^ <* ( C131 . ( C130 + 1 ) ) *> ) by L542 , FINSEQ_3:55
.= ( D66 ^ <* ( C131 /. ( C130 + 1 ) ) *> ) by L544 , PARTFUN1:def 6;
L547: ( Sum C131 ) = ( ( Sum D66 ) + ( Sum <* ( C131 /. ( C130 + 1 ) ) *> ) ) by L546 , RLVECT_1:41;
L548: ( dom ( { C129 } --> C128 ) ) = { C129 } by FUNCOP_1:13;
let C132 being Function;
assume that
L549: C132 = ( ( Seg ( len C131 ) ) --> ( 0. C126 ) );
let C133 being Function;
assume that
L550: C133 = ( { C129 } --> C128 );
per cases ;
suppose L551: C129 = ( C130 + 1 );

L552: ( dom C133 ) = { ( C130 + 1 ) } by L551 , L550 , FUNCOP_1:13;
L553: D66 = ( C132 | ( Seg C130 ) ) by L552 , L542 , L549 , L550 , FINSEQ_3:14 , FUNCT_4:72
.= ( ( ( Seg ( len C131 ) ) /\ ( Seg C130 ) ) --> ( 0. C126 ) ) by L549 , FUNCOP_1:12;
L554: D66 = ( ( Seg C130 ) --> ( 0. C126 ) ) by L553 , L542 , FINSEQ_1:7 , NAT_1:11;
L555: ( C130 + 1 ) in { ( C130 + 1 ) } by ZFMISC_1:31;
L556: ( C130 + 1 ) in ( dom C133 ) by L555 , L550 , L551 , FUNCOP_1:13;
L557: ( C131 . ( C130 + 1 ) ) = ( C133 . ( C130 + 1 ) ) by L556 , L542 , L550 , FUNCT_4:13
.= C128 by L550 , L551 , L555 , FUNCOP_1:7;
L558: ( C131 /. ( C130 + 1 ) ) = C128 by L557 , L544 , PARTFUN1:def 6;
L559: ( Sum D66 ) = ( 0. C126 ) by L545 , L554 , L527;
thus L560: ( Sum C131 ) = ( ( 0. C126 ) + C128 ) by L559 , L547 , L558 , RLVECT_1:44
.= C128 by RLVECT_1:4;
end;
suppose L561: C129 <> ( C130 + 1 );

L562: (C129 < ( C130 + 1 ) or C129 > ( C130 + 1 )) by L561 , XXREAL_0:1;
L563: (1 <= C129 & C129 <= C130) by L562 , L542 , FINSEQ_1:1 , NAT_1:13;
L564: C129 in ( Seg ( len D66 ) ) by L563 , L545 , FINSEQ_1:1;
L565: D66 = ( ( C132 | ( Seg C130 ) ) +* ( C133 | ( Seg C130 ) ) ) by L542 , L549 , L550 , FUNCT_4:71
.= ( ( ( ( Seg ( len C131 ) ) /\ ( Seg C130 ) ) --> ( 0. C126 ) ) +* ( C133 | ( Seg C130 ) ) ) by L549 , FUNCOP_1:12
.= ( ( ( Seg ( len D66 ) ) --> ( 0. C126 ) ) +* ( C133 | ( Seg C130 ) ) ) by L542 , L545 , FINSEQ_1:7 , NAT_1:11
.= ( ( ( Seg ( len D66 ) ) --> ( 0. C126 ) ) +* ( ( { C129 } /\ ( Seg C130 ) ) --> C128 ) ) by L550 , FUNCOP_1:12;
L566: D66 = ( ( ( Seg ( len D66 ) ) --> ( 0. C126 ) ) +* ( { C129 } --> C128 ) ) by L565 , L545 , L564 , ZFMISC_1:46;
L567: (not { ( C130 + 1 ) } c= ( dom C133 )) by L548 , L550 , L561 , ZFMISC_1:3;
L568: (not ( C130 + 1 ) in ( dom C133 )) by L567 , ZFMISC_1:31;
L569: ( C131 . ( C130 + 1 ) ) = ( C132 . ( C130 + 1 ) ) by L568 , L542 , L549 , L550 , FUNCT_4:11
.= ( 0. C126 ) by L542 , L549 , FINSEQ_1:4 , FUNCOP_1:7;
L570: ( C131 /. ( C130 + 1 ) ) = ( 0. C126 ) by L569 , L544 , PARTFUN1:def 6;
L571: ( Sum D66 ) = C128 by L564 , L566 , L545 , L540;
thus L572: ( Sum C131 ) = ( C128 + ( 0. C126 ) ) by L571 , L547 , L570 , RLVECT_1:44
.= C128 by RLVECT_1:4;
end;
end;
thus L574: S7[ ( C130 + 1 ) ] by L541;
end;
L575: (for B118 being Nat holds S7[ B118 ]) from NAT_1:sch 2(L538 , L539);
thus L576: thesis by L575;
end;
theorem
L577: (for B119 being RealLinearSpace holds (for B120 being (FinSequence of B119) holds (for B121 being Nat holds (B121 in ( Seg ( len B120 ) ) implies ( B120 /. B121 ) in ( Z_Lin B120 )))))
proof
let C134 being RealLinearSpace;
let C135 being (FinSequence of C134);
let C136 being Nat;
assume L578: C136 in ( Seg ( len C135 ) );
set D67 = ( ( ( Seg ( len C135 ) ) --> ( 0 ) ) +* ( { C136 } --> 1 ) );
L579: ( dom D67 ) = ( Seg ( len C135 ) )
proof
L580: ( dom D67 ) = ( ( dom ( ( Seg ( len C135 ) ) --> ( 0 ) ) ) \/ ( dom ( { C136 } --> 1 ) ) ) by FUNCT_4:def 1
.= ( ( Seg ( len C135 ) ) \/ ( dom ( { C136 } --> 1 ) ) ) by FUNCOP_1:13
.= ( ( Seg ( len C135 ) ) \/ { C136 } ) by FUNCOP_1:13;
thus L581: thesis by L580 , L578 , ZFMISC_1:40;
end;
L582: D67 is  FinSequence-like by L579 , FINSEQ_1:def 2;
L583: ( rng D67 ) c= ( INT )
proof
L584: ( rng D67 ) c= ( ( rng ( ( Seg ( len C135 ) ) --> ( 0 ) ) ) \/ ( rng ( { C136 } --> 1 ) ) ) by FUNCT_4:17;
thus L585: thesis by L584 , XBOOLE_1:1;
end;
reconsider D68 = D67 as (FinSequence of ( INT )) by L583 , L582 , FINSEQ_1:def 4;
L586: ( len D68 ) = ( len C135 ) by L579 , FINSEQ_1:def 3;
reconsider D69 = D68 as ( len C135 ) -element ( INT ) -valued FinSequence by L586 , CARD_1:def 7;
defpred S8[ Nat , set ] means $2 = ( ( D69 . $1 ) * ( C135 /. $1 ) );
L587: (for B122 being Nat holds (B122 in ( Seg ( len C135 ) ) implies (ex B123 being (Element of C134) st S8[ B122 , B123 ])));
consider C137 being (FinSequence of C134) such that L588: (( dom C137 ) = ( Seg ( len C135 ) ) & (for B124 being Nat holds (B124 in ( Seg ( len C135 ) ) implies S8[ B124 , ( C137 . B124 ) ]))) from FINSEQ_1:sch 5(L587);
L589: ( len C137 ) = ( len C135 ) by L588 , FINSEQ_1:def 3;
reconsider D70 = C137 as ( len C135 ) -element (FinSequence of C134) by L589 , CARD_1:def 7;
L590:
now
let C138 being Nat;
assume L591: C138 in ( Seg ( len C135 ) );
thus L592: ( D70 /. C138 ) = ( D70 . C138 ) by L591 , L588 , PARTFUN1:def 6
.= ( ( D69 . C138 ) * ( C135 /. C138 ) ) by L588 , L591;
end;
L593: ( Sum D70 ) in ( Z_Lin C135 ) by L590;
L594: D70 = ( ( ( Seg ( len D70 ) ) --> ( 0. C134 ) ) +* ( { C136 } --> ( C135 /. C136 ) ) )
proof
consider C139 being Function such that L595: C139 = ( ( Seg ( len C135 ) ) --> ( 0. C134 ) );
L596: ( dom C139 ) = ( Seg ( len C135 ) ) by L595 , FUNCOP_1:13;
consider C140 being Function such that L597: C140 = ( { C136 } --> ( C135 /. C136 ) );
L598: ( dom C140 ) = { C136 } by L597 , FUNCOP_1:13;
consider C141 being Function such that L599: C141 = ( C139 +* C140 );
L600: ( dom C141 ) = ( ( Seg ( len C135 ) ) \/ { C136 } ) by L596 , L598 , L599 , FUNCT_4:def 1
.= ( Seg ( len C135 ) ) by L578 , ZFMISC_1:40;
reconsider D71 = C141 as FinSequence by L600 , FINSEQ_1:def 2;
L601: ( rng C139 ) c= { ( 0. C134 ) } by L595 , FUNCOP_1:13;
L602: ( rng C139 ) c= (the carrier of C134) by L601 , XBOOLE_1:1;
L603: ( rng C140 ) c= { ( C135 /. C136 ) } by L597 , FUNCOP_1:13;
L604: ( rng C140 ) c= (the carrier of C134) by L603 , XBOOLE_1:1;
L605: ( rng D71 ) c= ( ( rng C139 ) \/ ( rng C140 ) ) by L599 , FUNCT_4:17;
L606: ( ( rng C139 ) \/ ( rng C140 ) ) c= (the carrier of C134) by L602 , L604 , XBOOLE_1:8;
L607: ( rng D71 ) c= (the carrier of C134) by L606 , L605 , XBOOLE_1:1;
reconsider D72 = D71 as (FinSequence of C134) by L607 , FINSEQ_1:def 4;
L608: (for B125 being Nat holds (B125 in ( dom D70 ) implies ( D70 /. B125 ) = ( D72 /. B125 )))
proof
let C142 being Nat;
assume that
L609: C142 in ( dom D70 );
L610: ( dom ( { C136 } --> 1 ) ) = { C136 } by FUNCOP_1:13;
per cases ;
suppose L611: C142 in ( dom C140 );

L612: C142 = C136 by L611 , L598 , TARSKI:def 1;
L613: ( D70 /. C142 ) = ( D70 . C136 ) by L612 , L609 , PARTFUN1:def 6;
L614: ( D70 /. C142 ) = ( ( D69 . C136 ) * ( C135 /. C136 ) ) by L613 , L588 , L609 , L612;
L615: C136 in { C136 } by TARSKI:def 1;
L616: ( D69 . C136 ) = ( ( { C136 } --> 1 ) . C136 ) by L615 , L610 , FUNCT_4:13
.= 1 by L615 , FUNCOP_1:7;
L617: ( D72 /. C142 ) = ( D72 . C142 ) by L588 , L600 , L609 , PARTFUN1:def 6
.= ( C140 . C142 ) by L599 , L611 , FUNCT_4:13
.= ( C135 /. C136 ) by L597 , L598 , L611 , FUNCOP_1:7;
thus L618: thesis by L617 , L614 , L616 , RLVECT_1:def 8;
end;
suppose L619: (not C142 in ( dom C140 ));

L620: ( D70 /. C142 ) = ( D70 . C142 ) by L609 , PARTFUN1:def 6;
L621: ( D70 /. C142 ) = ( ( D69 . C142 ) * ( C135 /. C142 ) ) by L620 , L588 , L609;
L622: (not C142 in ( dom ( { C136 } --> 1 ) )) by L598 , L619;
L623: ( D69 . C142 ) = ( ( ( Seg ( len C135 ) ) --> ( 0 ) ) . C142 ) by L622 , FUNCT_4:11
.= ( 0 ) by L588 , L609 , FUNCOP_1:7;
L624: ( D72 /. C142 ) = ( D72 . C142 ) by L588 , L600 , L609 , PARTFUN1:def 6
.= ( C139 . C142 ) by L599 , L619 , FUNCT_4:11
.= ( 0. C134 ) by L588 , L595 , L609 , FUNCOP_1:7;
thus L625: thesis by L624 , L621 , L623 , RLVECT_1:10;
end;
end;
thus L627: thesis by L608 , L588 , L589 , L595 , L597 , L599 , L600 , FINSEQ_5:12;
end;
L628: C136 in ( Seg ( len D70 ) ) by L588 , L578 , FINSEQ_1:def 3;
thus L629: ( C135 /. C136 ) in ( Z_Lin C135 ) by L628 , L593 , L594 , L537;
end;
theorem
L630: (for B126 being RealLinearSpace holds (for B127 being (FinSequence of B126) holds ( rng B127 ) c= ( Z_Lin B127 )))
proof
let C143 being RealLinearSpace;
let C144 being (FinSequence of C143);
let C145 being set;
assume L631: C145 in ( rng C144 );
consider C146 being set such that L632: (C146 in ( dom C144 ) & C145 = ( C144 . C146 )) by L631 , FUNCT_1:def 3;
L633: C146 in ( Seg ( len C144 ) ) by L632 , FINSEQ_1:def 3;
reconsider D73 = C146 as Nat by L632;
L634: C145 = ( C144 /. D73 ) by L632 , PARTFUN1:def 6;
thus L635: C145 in ( Z_Lin C144 ) by L634 , L633 , L577;
end;
theorem
L636: (for B128 being RealLinearSpace holds (for B129 being non  empty (FinSequence of B128) holds (for B130 , B131 being (FinSequence of B128) holds (for B132 being ( INT ) -valued FinSequence holds ((( rng B130 ) c= ( Z_Lin B129 ) & ( len B130 ) = ( len B132 ) & ( len B130 ) = ( len B131 ) & (for B133 being Nat holds (B133 in ( Seg ( len B130 ) ) implies ( B131 /. B133 ) = ( ( B132 . B133 ) * ( B130 /. B133 ) )))) implies ( Sum B131 ) in ( Z_Lin B129 ))))))
proof
let C147 being RealLinearSpace;
let C148 being non  empty (FinSequence of C147);
L637: (1 <= 1 & 1 <= ( len C148 )) by FINSEQ_1:20;
L638: 1 in ( Seg ( len C148 ) ) by L637;
L639: ( C148 /. 1 ) in ( Z_Lin C148 ) by L638 , L577;
reconsider D74 = ( 0 ) as (Element of ( INT )) by NUMBERS:17 , TARSKI:def 3;
reconsider D75 = 1 as (Element of ( INT )) by NUMBERS:17 , TARSKI:def 3;
L640: ( ( D74 * ( C148 /. 1 ) ) + ( D74 * ( C148 /. 1 ) ) ) in ( Z_Lin C148 ) by L496 , L639;
L641: ( ( D74 * ( C148 /. 1 ) ) + ( 0. C147 ) ) in ( Z_Lin C148 ) by L640 , RLVECT_1:10;
L642: ( ( 0. C147 ) + ( 0. C147 ) ) in ( Z_Lin C148 ) by L641 , RLVECT_1:10;
defpred S9[ Nat ] means (for B134 , B135 being (FinSequence of C147) holds (for B136 being ( INT ) -valued FinSequence holds ((( rng B134 ) c= ( Z_Lin C148 ) & ( len B134 ) = $1 & ( len B134 ) = ( len B136 ) & ( len B134 ) = ( len B135 ) & (for B137 being Nat holds (B137 in ( Seg ( len B134 ) ) implies ( B135 /. B137 ) = ( ( B136 . B137 ) * ( B134 /. B137 ) )))) implies ( Sum B135 ) in ( Z_Lin C148 ))));
L643: S9[ ( 0 ) ]
proof
let C149 , C150 being (FinSequence of C147);
let C151 being ( INT ) -valued FinSequence;
assume L644: (( rng C149 ) c= ( Z_Lin C148 ) & ( len C149 ) = ( 0 ) & ( len C149 ) = ( len C151 ) & ( len C149 ) = ( len C150 ) & (for B138 being Nat holds (B138 in ( Seg ( len C149 ) ) implies ( C150 /. B138 ) = ( ( C151 . B138 ) * ( C149 /. B138 ) ))));
L645: ( Sum C150 ) = ( Sum ( <*> (the carrier of C147) ) ) by L644 , FINSEQ_1:20
.= ( 0. C147 ) by RLVECT_1:43;
thus L646: ( Sum C150 ) in ( Z_Lin C148 ) by L645 , L642 , RLVECT_1:4;
end;
L647:
now
let C152 being Nat;
assume L648: S9[ C152 ];
L649:
now
let C153 , C154 being (FinSequence of C147);
let C155 being ( INT ) -valued FinSequence;
assume L650: (( rng C153 ) c= ( Z_Lin C148 ) & ( len C153 ) = ( C152 + 1 ) & ( len C153 ) = ( len C155 ) & ( len C153 ) = ( len C154 ) & (for B139 being Nat holds (B139 in ( Seg ( len C153 ) ) implies ( C154 /. B139 ) = ( ( C155 . B139 ) * ( C153 /. B139 ) ))));
reconsider D76 = ( C153 | C152 ) as (FinSequence of C147);
reconsider D77 = ( C154 | C152 ) as (FinSequence of C147);
reconsider D78 = ( C155 | C152 ) as ( INT ) -valued FinSequence;
L651: (( rng D76 ) c= ( Z_Lin C148 ) & ( len D76 ) = C152 & ( len D76 ) = ( len D78 ) & ( len D76 ) = ( len D77 ) & (for B140 being Nat holds (B140 in ( Seg ( len D76 ) ) implies ( D77 /. B140 ) = ( ( D78 . B140 ) * ( D76 /. B140 ) ))))
proof
L652: ( rng D76 ) c= ( rng C153 ) by RELAT_1:70;
L653: C152 <= ( len C153 ) by L650 , NAT_1:11;
L654: C152 <= ( len C154 ) by L650 , NAT_1:11;
L655: ( len D77 ) = C152 by L650 , FINSEQ_1:59 , NAT_1:11;
L656: ( len D78 ) = C152 by L650 , FINSEQ_1:59 , NAT_1:11;
L657: (for B141 being Nat holds (B141 in ( Seg ( len D76 ) ) implies ( D77 /. B141 ) = ( ( D78 . B141 ) * ( D76 /. B141 ) )))
proof
per cases ;
suppose L658: C152 = ( 0 );

thus L659: thesis by L658;
end;
suppose L660: C152 <> ( 0 );

L661: C152 >= 1 by L660 , NAT_1:14;
let C156 being Nat;
assume L662: C156 in ( Seg ( len D76 ) );
L663: C156 in ( Seg C152 ) by L662 , L650 , FINSEQ_1:59 , NAT_1:11;
L664: C152 in ( Seg ( len C153 ) ) by L653 , L661 , FINSEQ_1:1;
L665: C152 in ( dom C153 ) by L664 , FINSEQ_1:def 3;
L666: ( D76 /. C156 ) = ( C153 /. C156 ) by L665 , L663 , FINSEQ_4:71;
L667: C152 in ( Seg ( len C154 ) ) by L654 , L661 , FINSEQ_1:1;
L668: C152 in ( dom C154 ) by L667 , FINSEQ_1:def 3;
L669: ( D77 /. C156 ) = ( C154 /. C156 ) by L668 , L663 , FINSEQ_4:71;
L670: C156 <= C152 by L663 , FINSEQ_1:1;
L671: ( D78 . C156 ) = ( C155 . C156 ) by L670 , FINSEQ_3:112;
thus L672: thesis by L671 , L650 , L663 , L666 , L669 , FINSEQ_2:8;
end;
end;
thus L674: thesis by L657 , L652 , L653 , L655 , L656 , L650 , FINSEQ_1:59 , XBOOLE_1:1;
end;
L675: ( Sum D77 ) in ( Z_Lin C148 ) by L651 , L648;
L676: ( C152 + 1 ) in ( Seg ( len C153 ) ) by L650 , FINSEQ_1:4;
L677: ( C154 /. ( C152 + 1 ) ) = ( ( C155 . ( C152 + 1 ) ) * ( C153 /. ( C152 + 1 ) ) ) by L650 , FINSEQ_1:4;
L678: C154 = ( D77 ^ <* ( ( C155 . ( C152 + 1 ) ) * ( C153 /. ( C152 + 1 ) ) ) *> ) by L650 , L677 , FINSEQ_5:21;
L679: ( C152 + 1 ) in ( dom C153 ) by L676 , FINSEQ_1:def 3;
L680: ( C153 /. ( C152 + 1 ) ) = ( C153 . ( C152 + 1 ) ) by L679 , PARTFUN1:def 6;
L681: ( C153 /. ( C152 + 1 ) ) in ( rng C153 ) by L680 , L679 , FUNCT_1:3;
L682: ( ( ( D75 * ( C155 . ( C152 + 1 ) ) ) * ( C153 /. ( C152 + 1 ) ) ) + ( D74 * ( C153 /. ( C152 + 1 ) ) ) ) in ( Z_Lin C148 ) by L681 , L650 , L496;
L683: ( ( ( D75 * ( C155 . ( C152 + 1 ) ) ) * ( C153 /. ( C152 + 1 ) ) ) + ( 0. C147 ) ) in ( Z_Lin C148 ) by L682 , RLVECT_1:10;
L684: ( ( D75 * ( C155 . ( C152 + 1 ) ) ) * ( C153 /. ( C152 + 1 ) ) ) in ( Z_Lin C148 ) by L683 , RLVECT_1:4;
L685: ( ( D75 * ( Sum D77 ) ) + ( D75 * ( ( C155 . ( C152 + 1 ) ) * ( C153 /. ( C152 + 1 ) ) ) ) ) in ( Z_Lin C148 ) by L684 , L675 , L496;
L686: ( ( D75 * ( Sum D77 ) ) + ( ( C155 . ( C152 + 1 ) ) * ( C153 /. ( C152 + 1 ) ) ) ) in ( Z_Lin C148 ) by L685 , RLVECT_1:def 8;
L687: ( Sum C154 ) = ( ( Sum D77 ) + ( Sum <* ( ( C155 . ( C152 + 1 ) ) * ( C153 /. ( C152 + 1 ) ) ) *> ) ) by L678 , RLVECT_1:41
.= ( ( Sum D77 ) + ( ( C155 . ( C152 + 1 ) ) * ( C153 /. ( C152 + 1 ) ) ) ) by RLVECT_1:44;
thus L688: ( Sum C154 ) in ( Z_Lin C148 ) by L687 , L686 , RLVECT_1:def 8;
end;
thus L689: S9[ ( C152 + 1 ) ] by L649;
end;
L690: (for B142 being Nat holds S9[ B142 ]) from NAT_1:sch 2(L643 , L647);
thus L691: thesis by L690;
end;
theorem
L692: (for B143 being RealLinearSpace holds (for B144 being non  empty (FinSequence of B143) holds ( Z_Lin ( rng B144 ) ) = ( Z_Lin B144 )))
proof
let C157 being RealLinearSpace;
let C158 being non  empty (FinSequence of C157);
L693: (for B145 being set holds (B145 in ( Z_Lin ( rng C158 ) ) iff B145 in ( Z_Lin C158 )))
proof
let C159 being set;
thus L694:now
assume L695: C159 in ( Z_Lin ( rng C158 ) );
consider C160 , C161 being (FinSequence of C157), C162 being ( INT ) -valued FinSequence such that L696: (C159 = ( Sum C161 ) & ( rng C160 ) c= ( rng C158 ) & ( len C160 ) = ( len C161 ) & ( len C160 ) = ( len C162 ) & (for B146 being Nat holds (B146 in ( Seg ( len C160 ) ) implies ( C161 /. B146 ) = ( ( C162 . B146 ) * ( C160 /. B146 ) )))) by L695 , L461;
L697: ( rng C158 ) c= ( Z_Lin C158 ) by L630;
thus L698: C159 in ( Z_Lin C158 ) by L697 , L696 , L636 , XBOOLE_1:1;
end;
assume L699: C159 in ( Z_Lin C158 );
consider C163 being ( len C158 ) -element (FinSequence of C157), C164 being ( len C158 ) -element ( INT ) -valued FinSequence such that L700: (C159 = ( Sum C163 ) & (for B147 being Nat holds (B147 in ( Seg ( len C158 ) ) implies ( C163 /. B147 ) = ( ( C164 . B147 ) * ( C158 /. B147 ) )))) by L699 , L488;
L701: (( len C158 ) = ( len C163 ) & ( len C164 ) = ( len C158 )) by CARD_1:def 7;
thus L702: C159 in ( Z_Lin ( rng C158 ) ) by L701 , L700 , L413;
end;
thus L703: thesis by L693 , TARSKI:1;
end;
theorem
L704: (for R7 being RealLinearSpace holds (for R20 being (Subset of R7) holds ( Lin ( Z_Lin R20 ) ) = ( Lin R20 )))
proof
let R7 being RealLinearSpace;
let R20 being (Subset of R7);
L705: (for B148 being set holds (B148 in R20 implies B148 in ( Z_Lin R20 ))) by L88;
L706: R20 c= ( Z_Lin R20 ) by L705 , TARSKI:def 3;
L707: ( Lin R20 ) is (Subspace of ( Lin ( Z_Lin R20 ) )) by L706 , RLVECT_3:20;
reconsider D79 = (the carrier of ( Lin R20 )) as (Subset of R7) by RLSUB_1:def 2;
L708: ( Lin ( Z_Lin R20 ) ) is (Subspace of ( Lin D79 )) by L64 , RLVECT_3:20;
L709: ( Lin ( Z_Lin R20 ) ) is (Subspace of ( Lin R20 )) by L708 , RLVECT_3:18;
thus L710: thesis by L709 , L707 , RLSUB_1:26;
end;
theorem
L711: (for R7 being RealLinearSpace holds (for R20 being (Subset of R7) holds (for B149 being set holds (for B150 , B151 being (FinSequence of R7) holds (for B152 being ( INT ) -valued FinSequence holds ((B149 = ( Sum B151 ) & ( rng B150 ) c= ( Z_Lin R20 ) & ( len B150 ) = ( len B151 ) & ( len B150 ) = ( len B152 ) & (for B153 being Nat holds (B153 in ( Seg ( len B150 ) ) implies ( B151 /. B153 ) = ( ( B152 . B153 ) * ( B150 /. B153 ) )))) implies B149 in ( Z_Lin R20 )))))))
proof
let R7 being RealLinearSpace;
let R20 being (Subset of R7);
reconsider D80 = ( 0 ) as (Element of ( INT )) by NUMBERS:17 , TARSKI:def 3;
reconsider D81 = 1 as (Element of ( INT )) by NUMBERS:17 , TARSKI:def 3;
defpred S10[ Nat ] means (for B154 being set holds (for B155 , B156 being (FinSequence of R7) holds (for B157 being ( INT ) -valued FinSequence holds ((B154 = ( Sum B156 ) & ( rng B155 ) c= ( Z_Lin R20 ) & ( len B155 ) = $1 & ( len B155 ) = ( len B156 ) & ( len B155 ) = ( len B157 ) & (for B158 being Nat holds (B158 in ( Seg ( len B155 ) ) implies ( B156 /. B158 ) = ( ( B157 . B158 ) * ( B155 /. B158 ) )))) implies B154 in ( Z_Lin R20 )))));
L712: S10[ ( 0 ) ]
proof
let C165 being set;
let C166 , C167 being (FinSequence of R7);
let C168 being ( INT ) -valued FinSequence;
assume L713: (C165 = ( Sum C167 ) & ( rng C166 ) c= ( Z_Lin R20 ) & ( len C166 ) = ( 0 ) & ( len C166 ) = ( len C167 ) & ( len C166 ) = ( len C168 ) & (for B159 being Nat holds (B159 in ( Seg ( len C166 ) ) implies ( C167 /. B159 ) = ( ( C168 . B159 ) * ( C166 /. B159 ) ))));
L714: ( Sum C167 ) = ( Sum ( <*> (the carrier of R7) ) ) by L713 , FINSEQ_1:20
.= ( 0. R7 ) by RLVECT_1:43;
thus L715: C165 in ( Z_Lin R20 ) by L714 , L713 , L84;
end;
L716:
now
let C169 being Nat;
assume L717: S10[ C169 ];
L718:
now
let C170 being set;
let C171 , C172 being (FinSequence of R7);
let C173 being ( INT ) -valued FinSequence;
assume L719: (C170 = ( Sum C172 ) & ( rng C171 ) c= ( Z_Lin R20 ) & ( len C171 ) = ( C169 + 1 ) & ( len C171 ) = ( len C172 ) & ( len C171 ) = ( len C173 ) & (for B160 being Nat holds (B160 in ( Seg ( len C171 ) ) implies ( C172 /. B160 ) = ( ( C173 . B160 ) * ( C171 /. B160 ) ))));
reconsider D82 = ( C171 | C169 ) as (FinSequence of R7);
reconsider D83 = ( C172 | C169 ) as (FinSequence of R7);
reconsider D84 = ( C173 | C169 ) as ( INT ) -valued FinSequence;
L720: (( rng D82 ) c= ( Z_Lin R20 ) & ( len D82 ) = C169 & ( len D82 ) = ( len D84 ) & ( len D82 ) = ( len D83 ) & (for B161 being Nat holds (B161 in ( Seg ( len D82 ) ) implies ( D83 /. B161 ) = ( ( D84 . B161 ) * ( D82 /. B161 ) ))))
proof
L721: ( rng D82 ) c= ( rng C171 ) by RELAT_1:70;
L722: C169 <= ( len C171 ) by L719 , NAT_1:11;
L723: C169 <= ( len C172 ) by L719 , NAT_1:11;
L724: ( len D83 ) = C169 by L719 , FINSEQ_1:59 , NAT_1:11;
L725: ( len D84 ) = C169 by L719 , FINSEQ_1:59 , NAT_1:11;
L726: (for B162 being Nat holds (B162 in ( Seg ( len D82 ) ) implies ( D83 /. B162 ) = ( ( D84 . B162 ) * ( D82 /. B162 ) )))
proof
per cases ;
suppose L727: C169 = ( 0 );

thus L728: thesis by L727;
end;
suppose L729: C169 <> ( 0 );

L730: C169 >= 1 by L729 , NAT_1:14;
let C174 being Nat;
assume L731: C174 in ( Seg ( len D82 ) );
L732: C174 in ( Seg C169 ) by L731 , L719 , FINSEQ_1:59 , NAT_1:11;
L733: C169 in ( Seg ( len C171 ) ) by L722 , L730 , FINSEQ_1:1;
L734: C169 in ( dom C171 ) by L733 , FINSEQ_1:def 3;
L735: ( D82 /. C174 ) = ( C171 /. C174 ) by L734 , L732 , FINSEQ_4:71;
L736: C169 in ( Seg ( len C172 ) ) by L723 , L730 , FINSEQ_1:1;
L737: C169 in ( dom C172 ) by L736 , FINSEQ_1:def 3;
L738: ( D83 /. C174 ) = ( C172 /. C174 ) by L737 , L732 , FINSEQ_4:71;
L739: C174 <= C169 by L732 , FINSEQ_1:1;
L740: ( D84 . C174 ) = ( C173 . C174 ) by L739 , FINSEQ_3:112;
thus L741: thesis by L740 , L719 , L732 , L735 , L738 , FINSEQ_2:8;
end;
end;
thus L743: thesis by L726 , L719 , L721 , L722 , L724 , L725 , FINSEQ_1:59 , XBOOLE_1:1;
end;
L744: ( C169 + 1 ) in ( Seg ( len C171 ) ) by L719 , FINSEQ_1:4;
L745: ( C172 /. ( C169 + 1 ) ) = ( ( C173 . ( C169 + 1 ) ) * ( C171 /. ( C169 + 1 ) ) ) by L719 , FINSEQ_1:4;
L746: C172 = ( D83 ^ <* ( ( C173 . ( C169 + 1 ) ) * ( C171 /. ( C169 + 1 ) ) ) *> ) by L719 , L745 , FINSEQ_5:21;
L747: ( C169 + 1 ) in ( dom C171 ) by L744 , FINSEQ_1:def 3;
L748: ( C171 /. ( C169 + 1 ) ) = ( C171 . ( C169 + 1 ) ) by L747 , PARTFUN1:def 6;
L749: ( C171 /. ( C169 + 1 ) ) in ( rng C171 ) by L748 , L747 , FUNCT_1:3;
L750: (( ( D81 * ( C173 . ( C169 + 1 ) ) ) * ( C171 /. ( C169 + 1 ) ) ) in ( Z_Lin R20 ) & ( D80 * ( C171 /. ( C169 + 1 ) ) ) in ( Z_Lin R20 )) by L749 , L719 , L77;
L751: ( ( ( D81 * ( C173 . ( C169 + 1 ) ) ) * ( C171 /. ( C169 + 1 ) ) ) + ( D80 * ( C171 /. ( C169 + 1 ) ) ) ) in ( Z_Lin R20 ) by L750 , L69;
L752: ( ( ( D81 * ( C173 . ( C169 + 1 ) ) ) * ( C171 /. ( C169 + 1 ) ) ) + ( 0. R7 ) ) in ( Z_Lin R20 ) by L751 , RLVECT_1:10;
L753: ( ( D81 * ( C173 . ( C169 + 1 ) ) ) * ( C171 /. ( C169 + 1 ) ) ) in ( Z_Lin R20 ) by L752 , RLVECT_1:4;
L754: ( D81 * ( Sum D83 ) ) in ( Z_Lin R20 ) by L717 , L720 , L77;
L755: ( ( D81 * ( Sum D83 ) ) + ( ( D81 * ( C173 . ( C169 + 1 ) ) ) * ( C171 /. ( C169 + 1 ) ) ) ) in ( Z_Lin R20 ) by L754 , L753 , L69;
L756: ( Sum C172 ) = ( ( Sum D83 ) + ( Sum <* ( ( C173 . ( C169 + 1 ) ) * ( C171 /. ( C169 + 1 ) ) ) *> ) ) by L746 , RLVECT_1:41
.= ( ( Sum D83 ) + ( ( C173 . ( C169 + 1 ) ) * ( C171 /. ( C169 + 1 ) ) ) ) by RLVECT_1:44;
thus L757: ( Sum C172 ) in ( Z_Lin R20 ) by L756 , L755 , RLVECT_1:def 8;
end;
thus L758: S10[ ( C169 + 1 ) ] by L718;
end;
L759: (for B163 being Nat holds S10[ B163 ]) from NAT_1:sch 2(L712 , L716);
thus L760: thesis by L759;
end;
theorem
L761: (for R7 being RealLinearSpace holds (for R20 being (Subset of R7) holds ( Z_Lin ( Z_Lin R20 ) ) = ( Z_Lin R20 )))
proof
let R7 being RealLinearSpace;
let R20 being (Subset of R7);
L762: (for B164 being set holds (B164 in R20 implies B164 in ( Z_Lin R20 ))) by L88;
L763: R20 c= ( Z_Lin R20 ) by L762 , TARSKI:def 3;
L764: ( Z_Lin R20 ) c= ( Z_Lin ( Z_Lin R20 ) ) by L763 , L115;
L765: ( Z_Lin ( Z_Lin R20 ) ) c= ( Z_Lin R20 )
proof
let C175 being set;
assume L766: C175 in ( Z_Lin ( Z_Lin R20 ) );
consider C176 , C177 being (FinSequence of R7), C178 being ( INT ) -valued FinSequence such that L767: (C175 = ( Sum C177 ) & ( rng C176 ) c= ( Z_Lin R20 ) & ( len C176 ) = ( len C177 ) & ( len C176 ) = ( len C178 ) & (for B165 being Nat holds (B165 in ( Seg ( len C176 ) ) implies ( C177 /. B165 ) = ( ( C178 . B165 ) * ( C176 /. B165 ) )))) by L766 , L461;
thus L768: C175 in ( Z_Lin R20 ) by L767 , L711;
end;
thus L769: thesis by L765 , L764 , XBOOLE_0:def 10;
end;
theorem
L770: (for R7 being RealLinearSpace holds (for R20 being (Subset of R7) holds (for R21 being (Subset of R7) holds (( Z_Lin R20 ) = ( Z_Lin R21 ) implies ( Lin R20 ) = ( Lin R21 )))))
proof
let R7 being RealLinearSpace;
let R20 being (Subset of R7);
let R21 being (Subset of R7);
assume L771: ( Z_Lin R20 ) = ( Z_Lin R21 );
thus L772: ( Lin R20 ) = ( Lin ( Z_Lin R21 ) ) by L771 , L704
.= ( Lin R21 ) by L704;
end;
