:: A theory of partitions, { I }
::  by Shunichi Kobayashi and Kui Jia
::
:: Received October 5, 1998
:: Copyright (c) 1998-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, XBOOLE_0, EQREL_1, SUBSET_1, TARSKI, SETFAM_1, FUNCT_1,
      RELAT_1, ZFMISC_1, FINSEQ_1, XXREAL_0, ARYTM_3, CARD_1, ORDINAL4,
      PARTIT1;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, NUMBERS, ORDINAL1, NAT_1,
      RELAT_1, FUNCT_1, FUNCT_2, SETFAM_1, FINSEQ_1, FINSEQ_4, EQREL_1,
      XXREAL_0;
 constructors SETFAM_1, FUNCT_2, XXREAL_0, XREAL_0, NAT_1, MEMBERED, EQREL_1,
      FINSEQ_4, RELSET_1, DOMAIN_1;
 registrations XBOOLE_0, SUBSET_1, RELSET_1, PARTFUN1, MEMBERED, EQREL_1;
 requirements REAL, NUMERALS, BOOLE, SUBSET, ARITHM;
 definitions TARSKI, RELAT_1, EQREL_1;
 theorems TARSKI, FUNCT_1, SETFAM_1, EQREL_1, ZFMISC_1, RELAT_1, NAT_1,
      FINSEQ_1, FINSEQ_2, FUNCT_2, SUBSET_1, RELSET_1, XBOOLE_0, XBOOLE_1,
      XREAL_1, XXREAL_0;
 schemes EQREL_1, NAT_1, CLASSES1, DOMAIN_1, XBOOLE_0;

begin
theorem
L1: (for R1 being non  empty set holds (for R3 being (a_partition of R1) holds (for R17 being set holds (for R18 being set holds ((R17 in R3 & R18 in R3 & R17 c= R18) implies R17 = R18)))))
proof
let R1 being non  empty set;
let R3 being (a_partition of R1);
let R17 being set;
let R18 being set;
assume that
L2: R17 in R3
and
L3: R18 in R3
and
L4: R17 c= R18;
L5: (R17 = R18 or R17 misses R18) by L2 , L3 , EQREL_1:def 4;
set D1 = the (Element of R17);
L6: R17 <> ( {} ) by L2 , EQREL_1:def 4;
L7: D1 in R17 by L6;
thus L8: thesis by L7 , L4 , L5 , XBOOLE_0:3;
end;
notation
let R23 being set;
let R24 being set;
synonym R23 '<' R24 for R23 is_finer_than R24;
synonym R24 '>' R23 for R23 is_finer_than R24;
end;
theorem
L10: (for R23 being set holds ( union ( R23 \ { ( {} ) } ) ) = ( union R23 ))
proof
let R23 being set;
L11: ( union ( R23 \ { ( {} ) } ) ) c= ( union R23 )
proof
let C1 being set;
assume L12: C1 in ( union ( R23 \ { ( {} ) } ) );
L13: (ex B1 being set st (C1 in B1 & B1 in ( R23 \ { ( {} ) } ))) by L12 , TARSKI:def 4;
thus L14: thesis by L13 , TARSKI:def 4;
end;
L15: ( union R23 ) c= ( union ( R23 \ { ( {} ) } ) )
proof
let C2 being set;
assume L16: C2 in ( union R23 );
consider C3 being set such that L17: C2 in C3 and L18: C3 in R23 by L16 , TARSKI:def 4;
L19: (not C3 in { ( {} ) }) by L17 , TARSKI:def 1;
L20: C3 in ( R23 \ { ( {} ) } ) by L19 , L18 , XBOOLE_0:def 5;
thus L21: thesis by L20 , L17 , TARSKI:def 4;
end;
thus L22: thesis by L15 , L11 , XBOOLE_0:def 10;
end;
theorem
L23: (for R1 being non  empty set holds (for B2 , B3 being (a_partition of R1) holds ((B2 '>' B3 & B3 '>' B2) implies B3 c= B2)))
proof
let R1 being non  empty set;
let C4 , C5 being (a_partition of R1);
assume that
L24: C4 '>' C5
and
L25: C5 '>' C4;
let C6 being set;
assume L26: C6 in C5;
consider R18 being set such that L27: R18 in C4 and L28: C6 c= R18 by L26 , L24 , SETFAM_1:def 2;
consider C7 being set such that L29: C7 in C5 and L30: R18 c= C7 by L25 , L27 , SETFAM_1:def 2;
L31: C6 = C7 by L26 , L28 , L29 , L30 , L1 , XBOOLE_1:1;
thus L32: thesis by L31 , L27 , L28 , L30 , XBOOLE_0:def 10;
end;
theorem
L33: (for R1 being non  empty set holds (for B4 , B5 being (a_partition of R1) holds ((B4 '>' B5 & B5 '>' B4) implies B4 = B5)))
proof
let R1 being non  empty set;
let C8 , C9 being (a_partition of R1);
assume L34: (C8 '>' C9 & C9 '>' C8);
L35: (C9 c= C8 & C8 c= C9) by L34 , L23;
thus L36: thesis by L35 , XBOOLE_0:def 10;
end;
theorem
L37: (for R1 being non  empty set holds (for B6 , B7 being (a_partition of R1) holds (B6 '>' B7 implies B6 is_coarser_than B7)))
proof
let R1 being non  empty set;
let C10 , C11 being (a_partition of R1);
assume L38: C10 '>' C11;
L39: (for B8 being set holds (B8 in C10 implies (ex B9 being set st (B9 in C11 & B9 c= B8))))
proof
let C12 being set;
assume L40: C12 in C10;
L41: C12 <> ( {} ) by L40 , EQREL_1:def 4;
set D2 = the (Element of C12);
L42: D2 in C12 by L41;
L43: ( union C11 ) = R1 by EQREL_1:def 4;
consider C13 being set such that L44: D2 in C13 and L45: C13 in C11 by L43 , L40 , L42 , TARSKI:def 4;
consider C14 being set such that L46: C14 in C10 and L47: C13 c= C14 by L38 , L45 , SETFAM_1:def 2;
L48: (C12 = C14 or C12 misses C14) by L40 , L46 , EQREL_1:def 4;
thus L49: thesis by L48 , L41 , L44 , L45 , L47 , XBOOLE_0:3;
end;
thus L50: thesis by L39 , SETFAM_1:def 3;
end;
definition
let R1 being non  empty set;
let C15 being (a_partition of R1);
let C16 being set;
pred C16 is_a_dependent_set_of C15
means
:L51: (ex B10 being set st (B10 c= C15 & B10 <> ( {} ) & C16 = ( union B10 )))
;end;
definition
let R1 being non  empty set;
let C17 , C18 being (a_partition of R1);
let C19 being set;
pred C19 is_min_depend C17 , C18
means
:L53: (C19 is_a_dependent_set_of C17 & C19 is_a_dependent_set_of C18 & (for B11 being set holds ((B11 c= C19 & B11 is_a_dependent_set_of C17 & B11 is_a_dependent_set_of C18) implies B11 = C19)))
;end;
theorem
L55: (for R1 being non  empty set holds (for B12 , B13 being (a_partition of R1) holds (B12 '>' B13 implies (for B14 being set holds (B14 in B12 implies B14 is_a_dependent_set_of B13)))))
proof
let R1 being non  empty set;
let C20 , C21 being (a_partition of R1);
assume L56: C20 '>' C21;
L57: ( union C21 ) = R1 by EQREL_1:def 4;
L58: C20 is_coarser_than C21 by L56 , L37;
L59: (for B15 being set holds (B15 in C20 implies B15 is_a_dependent_set_of C21))
proof
let C22 being set;
assume L60: C22 in C20;
set D3 = { B16 where B16 is (Subset of R1) : (B16 in C21 & B16 c= C22) };
consider C23 being set such that L61: (C23 in C21 & C23 c= C22) by L58 , L60 , SETFAM_1:def 3;
L62: C23 in D3 by L61;
L63: (for R12 being set holds (R12 in D3 implies R12 in C21))
proof
let R12 being set;
assume L64: R12 in D3;
L65: (ex B17 being (Subset of R1) st (B17 = R12 & B17 in C21 & B17 c= C22)) by L64;
thus L66: thesis by L65;
end;
L67: D3 c= C21 by L63 , TARSKI:def 3;
L68: (for R12 being set holds (R12 in C22 implies R12 in ( union D3 )))
proof
let R12 being set;
assume L69: R12 in C22;
consider R13 being set such that L70: R12 in R13 and L71: R13 in C21 by L69 , L57 , L60 , TARSKI:def 4;
consider R15 being set such that L72: R15 in C20 and L73: R13 c= R15 by L56 , L71 , SETFAM_1:def 2;
L74: (C22 = R15 or C22 misses R15) by L60 , L72 , EQREL_1:def 4;
L75: R13 in D3 by L74 , L69 , L70 , L71 , L73 , XBOOLE_0:3;
thus L76: thesis by L75 , L70 , TARSKI:def 4;
end;
L77: C22 c= ( union D3 ) by L68 , TARSKI:def 3;
L78: (for R12 being set holds (R12 in ( union D3 ) implies R12 in C22))
proof
let R12 being set;
assume L79: R12 in ( union D3 );
consider R11 being set such that L80: R12 in R11 and L81: R11 in D3 by L79 , TARSKI:def 4;
L82: (ex B18 being (Subset of R1) st (B18 = R11 & B18 in C21 & B18 c= C22)) by L81;
thus L83: thesis by L82 , L80;
end;
L84: ( union D3 ) c= C22 by L78 , TARSKI:def 3;
L85: C22 = ( union D3 ) by L84 , L77 , XBOOLE_0:def 10;
thus L86: thesis by L85 , L62 , L67 , L51;
end;
thus L87: thesis by L59;
end;
theorem
L88: (for R1 being non  empty set holds (for B19 being (a_partition of R1) holds R1 is_a_dependent_set_of B19))
proof
let R1 being non  empty set;
let C24 being (a_partition of R1);
L89: { R1 } is (Subset-Family of R1) by ZFMISC_1:68;
L90: ( union { R1 } ) = R1 by ZFMISC_1:25;
L91: (for R5 being (Subset of R1) holds (R5 in { R1 } implies (R5 <> ( {} ) & (for R6 being (Subset of R1) holds (R6 in { R1 } implies (R5 = R6 or R5 misses R6))))))
proof
let R5 being (Subset of R1);
assume L92: R5 in { R1 };
L93: R5 = R1 by L92 , TARSKI:def 1;
thus L94: R5 <> ( {} ) by L92 , TARSKI:def 1;
let R6 being (Subset of R1);
assume L95: R6 in { R1 };
thus L96: thesis by L95 , L93 , TARSKI:def 1;
end;
L97: { R1 } is (a_partition of R1) by L91 , L89 , L90 , EQREL_1:def 4;
L98: (for B20 being set holds (B20 in C24 implies (ex B21 being set st (B21 in { R1 } & B20 c= B21))))
proof
let C25 being set;
assume L99: C25 in C24;
L100: C25 <> ( {} ) by L99 , EQREL_1:def 4;
set D4 = the (Element of C25);
L101: D4 in R1 by L99 , L100 , TARSKI:def 3;
consider C26 being set such that L102: D4 in C26 and L103: C26 in { R1 } by L101 , L90 , TARSKI:def 4;
L104: C26 = R1 by L103 , TARSKI:def 1;
thus L105: thesis by L104 , L99 , L103;
end;
L106: { R1 } '>' C24 by L98 , SETFAM_1:def 2;
L107: R1 in { R1 } by TARSKI:def 1;
thus L108: thesis by L107 , L97 , L106 , L55;
end;
theorem
L109: (for R1 being non  empty set holds (for R3 being (a_partition of R1) holds (for B22 being (Subset-Family of R1) holds ((( Intersect B22 ) <> ( {} ) & (for R17 being set holds (R17 in B22 implies R17 is_a_dependent_set_of R3))) implies ( Intersect B22 ) is_a_dependent_set_of R3))))
proof
let R1 being non  empty set;
let R3 being (a_partition of R1);
let C27 being (Subset-Family of R1);
per cases ;
suppose L110: C27 = ( {} );

L111: ( Intersect C27 ) = R1 by L110 , SETFAM_1:def 9;
thus L112: thesis by L111 , L88;
end;
suppose L113: C27 <> ( {} );

reconsider D5 = C27 as non  empty (Subset-Family of R1) by L113;
assume that
L114: ( Intersect C27 ) <> ( {} )
and
L115: (for R17 being set holds (R17 in C27 implies R17 is_a_dependent_set_of R3));
defpred S1[ set , set ] means ($2 c= R3 & $2 <> ( {} ) & $1 = ( union $2 ));
L116: (for R17 being set holds (R17 in C27 implies (ex B23 being set st S1[ R17 , B23 ])))
proof
let R17 being set;
assume L117: R17 in C27;
L118: R17 is_a_dependent_set_of R3 by L117 , L115;
thus L119: thesis by L118 , L51;
end;
consider C28 being Function such that L120: (( dom C28 ) = C27 & (for R17 being set holds (R17 in C27 implies S1[ R17 , ( C28 . R17 ) ]))) from CLASSES1:sch 1(L116);
L121: ( rng C28 ) c= ( bool ( bool R1 ) )
proof
let C29 being set;
assume L122: C29 in ( rng C28 );
consider C30 being set such that L123: C30 in ( dom C28 ) and L124: C29 = ( C28 . C30 ) by L122 , FUNCT_1:def 3;
L125: ( C28 . C30 ) c= R3 by L120 , L123;
L126: C29 c= ( bool R1 ) by L125 , L124 , XBOOLE_1:1;
thus L127: thesis by L126;
end;
reconsider D6 = C28 as (Function of D5 , ( bool ( bool R1 ) )) by L121 , L120 , FUNCT_2:def 1 , RELSET_1:4;
defpred S2[ set ] means $1 in C27;
deffunc H1((Element of D5)) = ( D6 . $1 );
reconsider D7 = { H1(B24) where B24 is (Element of D5) : S2[ B24 ] } as (Subset-Family of ( bool R1 )) from DOMAIN_1:sch 8;
reconsider D8 = D7 as (Subset-Family of ( bool R1 ));
take D9 = ( Intersect D8 );
thus L128: D9 c= R3
proof
let R10 being set;
assume L129: R10 in D9;
consider C31 being set such that L130: C31 in C27 by L113 , XBOOLE_0:def 1;
L131: ( D6 . C31 ) in D8 by L130;
L132: R10 in ( D6 . C31 ) by L131 , L129 , SETFAM_1:43;
L133: ( D6 . C31 ) c= R3 by L120 , L130;
thus L134: thesis by L133 , L132;
end;

thus L135: D9 <> ( {} )
proof
consider C32 being set such that L136: C32 in C27 by L113 , XBOOLE_0:def 1;
L137: ( D6 . C32 ) in D8 by L136;
consider C33 being set such that L138: C33 in ( Intersect C27 ) by L114 , XBOOLE_0:def 1;
reconsider D10 = C33 as (Element of R1) by L138;
set D11 = ( EqClass (D10 , R3) );
L139: D10 in ( meet C27 ) by L113 , L138 , SETFAM_1:def 9;
L140: (for R17 being set holds (R17 in D8 implies D11 in R17))
proof
let R17 being set;
assume L141: R17 in D8;
consider C34 being (Element of D5) such that L142: R17 = ( D6 . C34 ) and L143: C34 in C27 by L141;
L144: ( D6 . C34 ) c= R3 by L120;
L145: (C34 = ( union ( D6 . C34 ) ) & D10 in C34) by L120 , L139 , SETFAM_1:def 1;
L146: (ex B25 being set st (D10 in B25 & B25 in ( D6 . C34 ))) by L145 , TARSKI:def 4;
thus L147: thesis by L146 , L142 , L144 , EQREL_1:def 6;
end;
L148: ( EqClass (D10 , R3) ) in ( meet D8 ) by L140 , L137 , SETFAM_1:def 1;
thus L149: thesis by L148 , SETFAM_1:def 9;
end;

L150: ( Intersect C27 ) c= ( union D9 )
proof
let C35 being set;
assume L151: C35 in ( Intersect C27 );
L152: C35 in ( meet C27 ) by L151 , L113 , SETFAM_1:def 9;
reconsider D12 = C35 as (Element of R1) by L151;
reconsider D13 = R3 as (a_partition of R1);
set D14 = ( EqClass (D12 , D13) );
consider C36 being set such that L153: C36 in C27 by L113 , XBOOLE_0:def 1;
L154: ( D6 . C36 ) in D8 by L153;
L155: (for R17 being set holds (R17 in D8 implies D14 in R17))
proof
let R17 being set;
assume L156: R17 in D8;
consider C37 being (Element of D5) such that L157: R17 = ( D6 . C37 ) and L158: C37 in C27 by L156;
L159: ( D6 . C37 ) c= D13 by L120;
L160: C37 = ( union ( D6 . C37 ) ) by L120;
L161: D12 in ( union ( D6 . C37 ) ) by L160 , L152 , SETFAM_1:def 1;
L162: (ex B26 being set st (D12 in B26 & B26 in ( D6 . C37 ))) by L161 , TARSKI:def 4;
thus L163: thesis by L162 , L157 , L159 , EQREL_1:def 6;
end;
L164: D14 in ( meet D8 ) by L155 , L154 , SETFAM_1:def 1;
L165: (D12 in D14 & D14 in ( Intersect D8 )) by L164 , L154 , EQREL_1:def 6 , SETFAM_1:def 9;
thus L166: thesis by L165 , TARSKI:def 4;
end;
L167: ( union D9 ) c= ( Intersect C27 )
proof
let C38 being set;
assume L168: C38 in ( union D9 );
consider C39 being set such that L169: C39 in C27 by L113 , XBOOLE_0:def 1;
L170: ( D6 . C39 ) in D8 by L169;
consider C40 being set such that L171: C38 in C40 and L172: C40 in D9 by L168 , TARSKI:def 4;
L173: C40 in ( meet D8 ) by L170 , L172 , SETFAM_1:def 9;
L174: (for R17 being set holds (R17 in C27 implies C38 in R17))
proof
let R17 being set;
assume L175: R17 in C27;
L176: ( D6 . R17 ) in D8 by L175;
L177: C40 in ( D6 . R17 ) by L176 , L173 , SETFAM_1:def 1;
L178: R17 = ( union ( D6 . R17 ) ) by L120 , L175;
thus L179: thesis by L178 , L171 , L177 , TARSKI:def 4;
end;
L180: C38 in ( meet C27 ) by L174 , L113 , SETFAM_1:def 1;
thus L181: thesis by L180 , L113 , SETFAM_1:def 9;
end;
thus L182: ( Intersect C27 ) = ( union D9 ) by L167 , L150 , XBOOLE_0:def 10;
end;
end;
theorem
L184: (for R1 being non  empty set holds (for R3 being (a_partition of R1) holds (for B27 , B28 being (Subset of R1) holds ((B27 is_a_dependent_set_of R3 & B28 is_a_dependent_set_of R3 & B27 meets B28) implies ( B27 /\ B28 ) is_a_dependent_set_of R3))))
proof
let R1 being non  empty set;
let R3 being (a_partition of R1);
let C41 , C42 being (Subset of R1);
assume that
L185: C41 is_a_dependent_set_of R3
and
L186: C42 is_a_dependent_set_of R3
and
L187: C41 meets C42;
consider C43 being set such that L188: C43 c= R3 and L189: C43 <> ( {} ) and L190: C41 = ( union C43 ) by L185 , L51;
consider C44 being set such that L191: C44 c= R3 and L192: C44 <> ( {} ) and L193: C42 = ( union C44 ) by L186 , L51;
L194: ( C41 /\ C42 ) c= ( union ( C43 /\ C44 ) )
proof
let C45 being set;
assume L195: C45 in ( C41 /\ C42 );
L196: C45 in C41 by L195 , XBOOLE_0:def 4;
L197: C45 in C42 by L195 , XBOOLE_0:def 4;
consider C46 being set such that L198: C45 in C46 and L199: C46 in C43 by L190 , L196 , TARSKI:def 4;
consider C47 being set such that L200: C45 in C47 and L201: C47 in C44 by L193 , L197 , TARSKI:def 4;
L202: C46 in R3 by L188 , L199;
L203: C47 in R3 by L191 , L201;
L204: C46 meets C47 by L198 , L200 , XBOOLE_0:3;
L205: C46 = C47 by L204 , L202 , L203 , EQREL_1:def 4;
L206: C46 in ( C43 /\ C44 ) by L205 , L199 , L201 , XBOOLE_0:def 4;
thus L207: thesis by L206 , L198 , TARSKI:def 4;
end;
L208: ( union ( C43 /\ C44 ) ) c= ( C41 /\ C42 )
proof
let C48 being set;
assume L209: C48 in ( union ( C43 /\ C44 ) );
consider C49 being set such that L210: C48 in C49 and L211: C49 in ( C43 /\ C44 ) by L209 , TARSKI:def 4;
L212: C49 in C43 by L211 , XBOOLE_0:def 4;
L213: C49 in C44 by L211 , XBOOLE_0:def 4;
L214: C48 in C41 by L190 , L210 , L212 , TARSKI:def 4;
L215: C48 in C42 by L193 , L210 , L213 , TARSKI:def 4;
thus L216: thesis by L215 , L214 , XBOOLE_0:def 4;
end;
L217: ( C41 /\ C42 ) = ( union ( C43 /\ C44 ) ) by L208 , L194 , XBOOLE_0:def 10;
L218: ( C43 \/ C44 ) c= R3 by L188 , L191 , XBOOLE_1:8;
L219: (( C43 /\ C44 ) c= C43 & C43 c= ( C43 \/ C44 )) by XBOOLE_1:7 , XBOOLE_1:17;
L220: ( C43 /\ C44 ) c= ( C43 \/ C44 ) by L219 , XBOOLE_1:1;
L221: ( C43 /\ C44 ) c= R3 by L220 , L218 , XBOOLE_1:1;
L222:
now
assume L223: ( C43 /\ C44 ) = ( {} );
L224: (ex B29 being set st (B29 in C41 & B29 in C42)) by L187 , XBOOLE_0:3;
thus L225: contradiction by L224 , L194 , L223 , XBOOLE_0:def 4 , ZFMISC_1:2;
end;
thus L226: thesis by L222 , L217 , L221 , L51;
end;
theorem
L227: (for R1 being non  empty set holds (for R3 being (a_partition of R1) holds (for B30 being (Subset of R1) holds ((B30 is_a_dependent_set_of R3 & B30 <> R1) implies ( B30 ` ) is_a_dependent_set_of R3))))
proof
let R1 being non  empty set;
let R3 being (a_partition of R1);
let C50 being (Subset of R1);
assume that
L228: C50 is_a_dependent_set_of R3
and
L229: C50 <> R1;
consider C51 being set such that L230: C51 c= R3 and L231: C51 <> ( {} ) and L232: C50 = ( union C51 ) by L228 , L51;
take ( R3 \ C51 );
L233: ( union R3 ) = R1 by EQREL_1:def 4;
L234: ( C50 ` ) = ( ( union R3 ) \ ( union C51 ) ) by L233 , L232 , SUBSET_1:def 4;
reconsider D15 = C51 as (Subset of R3) by L230;
L235:
now
assume L236: ( R3 \ D15 ) = ( {} );
L237: R3 c= D15 by L236 , XBOOLE_1:37;
thus L238: contradiction by L237 , L229 , L232 , L233 , XBOOLE_0:def 10;
end;
thus L239: thesis by L235 , L234 , EQREL_1:43 , XBOOLE_1:36;
end;
theorem
L240: (for R1 being non  empty set holds (for R3 being (a_partition of R1) holds (for R4 being (a_partition of R1) holds (for B31 being (Element of R1) holds (ex B32 being (Subset of R1) st (B31 in B32 & B32 is_min_depend R3 , R4))))))
proof
let R1 being non  empty set;
let R3 being (a_partition of R1);
let R4 being (a_partition of R1);
let C52 being (Element of R1);
L241: ( union R3 ) = R1 by EQREL_1:def 4;
L242: (for B33 being set holds (B33 in R3 implies (B33 <> ( {} ) & (for B34 being set holds (B34 in R3 implies (B33 = B34 or B33 misses B34)))))) by EQREL_1:def 4;
L243: (R1 is_a_dependent_set_of R3 & R1 is_a_dependent_set_of R4) by L88;
defpred S3[ set ] means (C52 in $1 & $1 is_a_dependent_set_of R3 & $1 is_a_dependent_set_of R4);
reconsider D16 = { B35 where B35 is (Subset of R1) : S3[ B35 ] } as (Subset-Family of R1) from DOMAIN_1:sch 7;
reconsider D17 = D16 as (Subset-Family of R1);
L244: R1 c= R1;
L245: R1 in D17 by L244 , L243;
L246: (for B36 being set holds (B36 in D17 implies C52 in B36))
proof
let C53 being set;
assume L247: C53 in D17;
L248: (ex B37 being (Subset of R1) st (B37 = C53 & C52 in B37 & B37 is_a_dependent_set_of R3 & B37 is_a_dependent_set_of R4)) by L247;
thus L249: thesis by L248;
end;
L250: C52 in ( meet D17 ) by L246 , L245 , SETFAM_1:def 1;
L251: ( Intersect D17 ) <> ( {} ) by L250 , SETFAM_1:def 9;
take ( Intersect D17 );
L252: (for B38 being set holds (B38 in D17 implies B38 is_a_dependent_set_of R3))
proof
let C54 being set;
assume L253: C54 in D17;
L254: (ex B39 being (Subset of R1) st (B39 = C54 & C52 in B39 & B39 is_a_dependent_set_of R3 & B39 is_a_dependent_set_of R4)) by L253;
thus L255: thesis by L254;
end;
L256: ( Intersect D17 ) is_a_dependent_set_of R3 by L252 , L251 , L109;
L257: (for B40 being set holds (B40 in D17 implies B40 is_a_dependent_set_of R4))
proof
let C55 being set;
assume L258: C55 in D17;
L259: (ex B41 being (Subset of R1) st (B41 = C55 & C52 in B41 & B41 is_a_dependent_set_of R3 & B41 is_a_dependent_set_of R4)) by L258;
thus L260: thesis by L259;
end;
L261: ( Intersect D17 ) is_a_dependent_set_of R4 by L257 , L251 , L109;
L262: (for B42 being set holds ((B42 c= ( Intersect D17 ) & B42 is_a_dependent_set_of R3 & B42 is_a_dependent_set_of R4) implies B42 = ( Intersect D17 )))
proof
let C56 being set;
assume that
L263: C56 c= ( Intersect D17 )
and
L264: C56 is_a_dependent_set_of R3
and
L265: C56 is_a_dependent_set_of R4;
consider C57 being set such that L266: C57 c= R3 and L267: C57 <> ( {} ) and L268: C56 = ( union C57 ) by L264 , L51;
L269: C56 c= R1 by L241 , L266 , L268 , ZFMISC_1:77;
per cases ;
suppose L270: C52 in C56;

L271: C56 in D17 by L270 , L264 , L265 , L269;
L272: ( Intersect D17 ) c= C56
proof
let C58 being set;
assume L273: C58 in ( Intersect D17 );
L274: C58 in ( meet D17 ) by L273 , L245 , SETFAM_1:def 9;
thus L275: thesis by L274 , L271 , SETFAM_1:def 1;
end;
thus L276: thesis by L272 , L263 , XBOOLE_0:def 10;
end;
suppose L277: (not C52 in C56);

reconsider D18 = C56 as (Subset of R1) by L241 , L266 , L268 , ZFMISC_1:77;
L278: ( D18 ` ) = ( R1 \ D18 ) by SUBSET_1:def 4;
L279: C52 in ( D18 ` ) by L278 , L277 , XBOOLE_0:def 5;
L280: D18 misses ( D18 ` ) by SUBSET_1:24;
L281: ( D18 /\ ( D18 ` ) ) = ( {} ) by L280 , XBOOLE_0:def 7;
L282: D18 <> R1 by L277;
L283: (( D18 ` ) is_a_dependent_set_of R3 & ( D18 ` ) is_a_dependent_set_of R4) by L282 , L264 , L265 , L227;
L284: ( D18 ` ) in D17 by L283 , L279;
L285: ( Intersect D17 ) c= ( D18 ` )
proof
let C59 being set;
assume L286: C59 in ( Intersect D17 );
L287: C59 in ( meet D17 ) by L286 , L245 , SETFAM_1:def 9;
thus L288: thesis by L287 , L284 , SETFAM_1:def 1;
end;
L289: ( D18 /\ ( Intersect D17 ) ) = ( {} ) by L285 , L281 , XBOOLE_1:3 , XBOOLE_1:26;
L290: ( D18 /\ D18 ) c= ( D18 /\ ( Intersect D17 ) ) by L263 , XBOOLE_1:26;
L291: ( union C57 ) = ( {} ) by L290 , L268 , L289;
consider C60 being set such that L292: C60 in C57 by L267 , XBOOLE_0:def 1;
L293: C60 <> ( {} ) by L242 , L266 , L292;
L294: C60 c= ( {} ) by L291 , L292 , ZFMISC_1:74;
thus L295: thesis by L294 , L293;
end;
end;
thus L297: thesis by L262 , L245 , L250 , L256 , L261 , L53 , SETFAM_1:def 9;
end;
theorem
L298: (for R1 being non  empty set holds (for B43 being (a_partition of R1) holds (for B44 being (Element of R1) holds (ex B45 being (Subset of R1) st (B44 in B45 & B45 in B43)))))
proof
let R1 being non  empty set;
let C61 being (a_partition of R1);
let C62 being (Element of R1);
consider C63 being (Equivalence_Relation of R1) such that L299: C61 = ( Class C63 ) by EQREL_1:34;
take ( Class (C63 , C62) );
thus L300: C62 in ( Class (C63 , C62) ) by EQREL_1:20;
thus L301: thesis by L299 , EQREL_1:def 3;
end;
definition
let C64 being set;
func PARTITIONS C64 means 
:L302: (for B46 being set holds (B46 in it iff B46 is (a_partition of C64)));
existence
proof
defpred S4[ set ] means $1 is (a_partition of C64);
consider C65 being set such that L303: (for B47 being set holds (B47 in C65 iff (B47 in ( bool ( bool C64 ) ) & S4[ B47 ]))) from XBOOLE_0:sch 1;
take C65;
let C66 being set;
thus L304: (C66 in C65 implies C66 is (a_partition of C64)) by L303;
assume L305: C66 is (a_partition of C64);
thus L306: thesis by L305 , L303;
end;
uniqueness
proof
let C67 , C68 being set;
assume that
L307: (for B48 being set holds (B48 in C67 iff B48 is (a_partition of C64)))
and
L308: (for B49 being set holds (B49 in C68 iff B49 is (a_partition of C64)));
L309:
now
let C69 being set;
L310: (C69 in C67 iff C69 is (a_partition of C64)) by L307;
thus L311: (C69 in C67 iff C69 in C68) by L310 , L308;
end;
thus L312: thesis by L309 , TARSKI:1;
end;
end;
registration
let C70 being set;
cluster ( PARTITIONS C70 ) -> non  empty;
coherence
proof
per cases ;
suppose L314: C70 = ( {} );

thus L315: thesis by L314 , L302 , EQREL_1:45;
end;
suppose L316: C70 <> ( {} );

reconsider D19 = C70 as non  empty set by L316;
L317: ({ D19 } is (Subset-Family of D19) & ( union { D19 } ) = D19) by ZFMISC_1:25 , ZFMISC_1:68;
L318: (for B50 being (Subset of D19) holds (B50 in { D19 } implies (B50 <> ( {} ) & (for B51 being (Subset of D19) holds (B51 in { D19 } implies (B50 = B51 or B50 misses B51))))))
proof
let C71 being (Subset of D19);
assume L319: C71 in { D19 };
L320: C71 = D19 by L319 , TARSKI:def 1;
thus L321: C71 <> ( {} ) by L319 , TARSKI:def 1;
let C72 being (Subset of D19);
assume L322: C72 in { D19 };
thus L323: thesis by L322 , L320 , TARSKI:def 1;
end;
L324: { D19 } is (a_partition of D19) by L318 , L317 , EQREL_1:def 4;
thus L325: thesis by L324 , L302;
end;
end;
end;
begin
definition
let R1 being non  empty set;
let C73 , C74 being (a_partition of R1);
func C73 '/\' C74 -> (a_partition of R1) equals 
( ( INTERSECTION (C73 , C74) ) \ { ( {} ) } );
correctness
proof
L328: ( {} ) c= R1 by XBOOLE_1:2;
reconsider D20 = { ( {} ) } as (Subset-Family of R1) by L328 , ZFMISC_1:31;
set D21 = ( INTERSECTION (C73 , C74) );
L329: (for B52 being set holds (B52 in D21 implies B52 in ( bool R1 )))
proof
let C75 being set;
assume L330: C75 in D21;
L331: (ex B53 , B54 being set st (B53 in C73 & B54 in C74 & C75 = ( B53 /\ B54 ))) by L330 , SETFAM_1:def 5;
L332: C75 c= R1 by L331 , XBOOLE_1:108;
thus L333: thesis by L332;
end;
reconsider D22 = ( INTERSECTION (C73 , C74) ) as (Subset-Family of R1) by L329 , TARSKI:def 3;
reconsider D23 = ( D22 \ D20 ) as (Subset-Family of R1);
L334: (( union C73 ) = R1 & ( union C74 ) = R1) by EQREL_1:def 4;
L335: ( union D23 ) = ( union ( INTERSECTION (C73 , C74) ) ) by L10
.= ( ( union C73 ) /\ ( union C74 ) ) by SETFAM_1:28
.= R1 by L334;
L336: (for B55 being (Subset of R1) holds (B55 in D23 implies (B55 <> ( {} ) & (for B56 being (Subset of R1) holds (B56 in D23 implies (B55 = B56 or B55 misses B56))))))
proof
let C76 being (Subset of R1);
assume L337: C76 in D23;
L338: (not C76 in { ( {} ) }) by L337 , XBOOLE_0:def 5;
L339: C76 in ( INTERSECTION (C73 , C74) ) by L337 , XBOOLE_0:def 5;
L340: (for B57 being (Subset of R1) holds (B57 in D23 implies (C76 = B57 or C76 misses B57)))
proof
L341: (for B58 , B59 , B60 , B61 being set holds ( ( B58 /\ B59 ) /\ ( B60 /\ B61 ) ) = ( B58 /\ ( ( B59 /\ B60 ) /\ B61 ) ))
proof
let C77 , C78 , C79 , C80 being set;
L342: ( ( C77 /\ C78 ) /\ ( C79 /\ C80 ) ) = ( C77 /\ ( C78 /\ ( C79 /\ C80 ) ) ) by XBOOLE_1:16
.= ( C77 /\ ( ( C78 /\ C79 ) /\ C80 ) ) by XBOOLE_1:16;
thus L343: thesis by L342;
end;
let C81 being (Subset of R1);
assume L344: C81 in D23;
L345: C81 in ( INTERSECTION (C73 , C74) ) by L344 , XBOOLE_0:def 5;
consider C82 , C83 being set such that L346: (C82 in C73 & C83 in C74) and L347: C81 = ( C82 /\ C83 ) by L345 , SETFAM_1:def 5;
consider C84 , C85 being set such that L348: (C84 in C73 & C85 in C74) and L349: C76 = ( C84 /\ C85 ) by L339 , SETFAM_1:def 5;
L350: (( C82 /\ C83 ) = ( C84 /\ C85 ) or (not C82 = C84) or (not C83 = C85));
L351: (( C82 /\ C83 ) = ( C84 /\ C85 ) or C82 misses C84 or C83 misses C85) by L350 , L346 , L348 , EQREL_1:def 4;
L352: (( C82 /\ C83 ) = ( C84 /\ C85 ) or ( C82 /\ C84 ) = ( {} ) or ( C83 /\ C85 ) = ( {} )) by L351 , XBOOLE_0:def 7;
L353: ( ( C82 /\ C84 ) /\ ( C83 /\ C85 ) ) = ( C82 /\ ( ( C84 /\ C83 ) /\ C85 ) ) by L341
.= ( ( C82 /\ C83 ) /\ ( C84 /\ C85 ) ) by L341;
thus L354: thesis by L353 , L347 , L349 , L352 , XBOOLE_0:def 7;
end;
thus L355: thesis by L340 , L338 , TARSKI:def 1;
end;
thus L356: thesis by L336 , L335 , EQREL_1:def 4;
end;
commutativity
;
end;
theorem
L358: (for R1 being non  empty set holds (for B62 being (a_partition of R1) holds ( B62 '/\' B62 ) = B62))
proof
let R1 being non  empty set;
let C86 being (a_partition of R1);
L359: (for B63 being set holds (B63 in ( ( INTERSECTION (C86 , C86) ) \ { ( {} ) } ) implies (ex B64 being set st (B64 in C86 & B63 c= B64))))
proof
let C87 being set;
assume L360: C87 in ( ( INTERSECTION (C86 , C86) ) \ { ( {} ) } );
consider C88 , C89 being set such that L361: C88 in C86 and L362: C89 in C86 and L363: C87 = ( C88 /\ C89 ) by L360 , SETFAM_1:def 5;
take C88;
thus L364: thesis by L361 , L363 , XBOOLE_1:17;
end;
L365: ( ( INTERSECTION (C86 , C86) ) \ { ( {} ) } ) '<' C86 by L359 , SETFAM_1:def 2;
L366: (for B65 being set holds (B65 in C86 implies (ex B66 being set st (B66 in ( ( INTERSECTION (C86 , C86) ) \ { ( {} ) } ) & B65 c= B66))))
proof
let C90 being set;
assume L367: C90 in C86;
L368: C90 <> ( {} ) by L367 , EQREL_1:def 4;
set D24 = ( C90 /\ C90 );
L369: (not D24 in { ( {} ) }) by L368 , TARSKI:def 1;
L370: D24 in ( INTERSECTION (C86 , C86) ) by L367 , SETFAM_1:def 5;
L371: D24 in ( ( INTERSECTION (C86 , C86) ) \ { ( {} ) } ) by L370 , L369 , XBOOLE_0:def 5;
thus L372: thesis by L371;
end;
L373: C86 '<' ( ( INTERSECTION (C86 , C86) ) \ { ( {} ) } ) by L366 , SETFAM_1:def 2;
thus L374: thesis by L373 , L365 , L33;
end;
theorem
L375: (for R1 being non  empty set holds (for B67 , B68 , B69 being (a_partition of R1) holds ( ( B67 '/\' B68 ) '/\' B69 ) = ( B67 '/\' ( B68 '/\' B69 ) )))
proof
let R1 being non  empty set;
let C91 , C92 , C93 being (a_partition of R1);
consider C94 , C95 being (a_partition of R1) such that L376: C94 = ( C91 '/\' C92 ) and L377: C95 = ( C92 '/\' C93 );
L378: (for B70 being set holds (B70 in ( C94 '/\' C93 ) implies (ex B71 being set st (B71 in ( C91 '/\' C95 ) & B70 c= B71))))
proof
let C96 being set;
assume L379: C96 in ( C94 '/\' C93 );
consider C97 , C98 being set such that L380: C97 in C94 and L381: C98 in C93 and L382: C96 = ( C97 /\ C98 ) by L379 , SETFAM_1:def 5;
consider C99 , C100 being set such that L383: C99 in C91 and L384: C100 in C92 and L385: C97 = ( C99 /\ C100 ) by L376 , L380 , SETFAM_1:def 5;
consider C101 , C102 , C103 being set such that L386: C102 = ( C100 /\ C98 ) and L387: C103 = C99 and L388: C101 = ( ( C99 /\ C100 ) /\ C98 );
L389: C101 = ( C103 /\ C102 ) by L386 , L387 , L388 , XBOOLE_1:16;
L390: C102 in ( INTERSECTION (C92 , C93) ) by L381 , L384 , L386 , SETFAM_1:def 5;
L391: (not C96 in { ( {} ) }) by L379 , XBOOLE_0:def 5;
L392: C96 = ( C99 /\ C102 ) by L382 , L385 , L386 , XBOOLE_1:16;
L393: C102 <> ( {} ) by L392 , L391 , TARSKI:def 1;
L394: (not C102 in { ( {} ) }) by L393 , TARSKI:def 1;
L395: C102 in ( ( INTERSECTION (C92 , C93) ) \ { ( {} ) } ) by L394 , L390 , XBOOLE_0:def 5;
L396: C101 in ( INTERSECTION (C91 , C95) ) by L395 , L377 , L383 , L387 , L389 , SETFAM_1:def 5;
take C101;
thus L397: thesis by L382 , L385 , L388 , L391 , L396 , XBOOLE_0:def 5;
end;
L398: ( C94 '/\' C93 ) '<' ( C91 '/\' C95 ) by L378 , SETFAM_1:def 2;
L399: (for B72 being set holds (B72 in ( C91 '/\' C95 ) implies (ex B73 being set st (B73 in ( C94 '/\' C93 ) & B72 c= B73))))
proof
let C104 being set;
assume L400: C104 in ( C91 '/\' C95 );
consider C105 , C106 being set such that L401: C105 in C91 and L402: C106 in C95 and L403: C104 = ( C105 /\ C106 ) by L400 , SETFAM_1:def 5;
consider C107 , C108 being set such that L404: C107 in C92 and L405: C108 in C93 and L406: C106 = ( C107 /\ C108 ) by L377 , L402 , SETFAM_1:def 5;
L407: C104 = ( ( C105 /\ C107 ) /\ C108 ) by L403 , L406 , XBOOLE_1:16;
consider C109 , C110 , C111 being set such that L408: C110 = ( C105 /\ C107 ) and L409: C111 = C108 and L410: C109 = ( ( C105 /\ C107 ) /\ C108 );
L411: C110 in ( INTERSECTION (C91 , C92) ) by L401 , L404 , L408 , SETFAM_1:def 5;
L412: (not C104 in { ( {} ) }) by L400 , XBOOLE_0:def 5;
L413: C110 <> ( {} ) by L412 , L407 , L408 , TARSKI:def 1;
L414: (not C110 in { ( {} ) }) by L413 , TARSKI:def 1;
L415: C110 in ( ( INTERSECTION (C91 , C92) ) \ { ( {} ) } ) by L414 , L411 , XBOOLE_0:def 5;
L416: C109 in ( INTERSECTION (C94 , C93) ) by L415 , L376 , L405 , L408 , L410 , SETFAM_1:def 5;
take C109;
thus L417: thesis by L407 , L410 , L412 , L416 , XBOOLE_0:def 5;
end;
L418: ( C91 '/\' C95 ) '<' ( C94 '/\' C93 ) by L399 , SETFAM_1:def 2;
thus L419: thesis by L418 , L376 , L377 , L398 , L33;
end;
theorem
L420: (for R1 being non  empty set holds (for B74 , B75 being (a_partition of R1) holds B74 '>' ( B74 '/\' B75 )))
proof
let R1 being non  empty set;
let C112 , C113 being (a_partition of R1);
L421: (for B76 being set holds (B76 in ( C112 '/\' C113 ) implies (ex B77 being set st (B77 in C112 & B76 c= B77))))
proof
let C114 being set;
assume L422: C114 in ( C112 '/\' C113 );
consider C115 , C116 being set such that L423: C115 in C112 and L424: C116 in C113 and L425: C114 = ( C115 /\ C116 ) by L422 , SETFAM_1:def 5;
take C115;
thus L426: thesis by L423 , L425 , XBOOLE_1:17;
end;
thus L427: C112 '>' ( C112 '/\' C113 ) by L421 , SETFAM_1:def 2;
end;
definition
let R1 being non  empty set;
let C117 , C118 being (a_partition of R1);
func C117 '\/' C118 -> (a_partition of R1) means 
:L428: (for R21 being set holds (R21 in it iff R21 is_min_depend C117 , C118));
existence
proof
L429: ( union C117 ) = R1 by EQREL_1:def 4;
L430: (for B78 being set holds (B78 in C117 implies (B78 <> ( {} ) & (for B79 being set holds (B79 in C117 implies (B78 = B79 or B78 misses B79)))))) by EQREL_1:def 4;
defpred S5[ set ] means $1 is_min_depend C117 , C118;
consider C119 being set such that L431: (for B80 being set holds (B80 in C119 iff (B80 in ( bool R1 ) & S5[ B80 ]))) from XBOOLE_0:sch 1;
L432: (for B81 being set holds (B81 in C119 iff B81 is_min_depend C117 , C118))
proof
let C120 being set;
L433: (for B82 being set holds (B82 is_min_depend C117 , C118 implies B82 in ( bool R1 )))
proof
let C121 being set;
assume L434: C121 is_min_depend C117 , C118;
L435: C121 is_a_dependent_set_of C117 by L434 , L53;
L436: (ex B83 being set st (B83 c= C117 & B83 <> ( {} ) & C121 = ( union B83 ))) by L435 , L51;
L437: C121 c= ( union C117 ) by L436 , ZFMISC_1:77;
thus L438: thesis by L437 , L429;
end;
L439: (C120 is_min_depend C117 , C118 implies (C120 is_min_depend C117 , C118 & C120 in ( bool R1 ))) by L433;
thus L440: thesis by L439 , L431;
end;
take C119;
L441: R1 c= ( union C119 )
proof
let C122 being set;
assume L442: C122 in R1;
consider C123 being (Subset of R1) such that L443: C122 in C123 and L444: C123 is_min_depend C117 , C118 by L442 , L240;
L445: C123 in C119 by L432 , L444;
thus L446: thesis by L445 , L443 , TARSKI:def 4;
end;
L447: ( union C119 ) c= R1
proof
let C124 being set;
assume L448: C124 in ( union C119 );
consider C125 being set such that L449: C124 in C125 and L450: C125 in C119 by L448 , TARSKI:def 4;
L451: C125 is_min_depend C117 , C118 by L432 , L450;
L452: C125 is_a_dependent_set_of C117 by L451 , L53;
L453: (ex B84 being set st (B84 c= C117 & B84 <> ( {} ) & C125 = ( union B84 ))) by L452 , L51;
L454: C125 c= R1 by L453 , L429 , ZFMISC_1:77;
thus L455: thesis by L454 , L449;
end;
L456: ( union C119 ) = R1 by L447 , L441 , XBOOLE_0:def 10;
L457: (for B85 being (Subset of R1) holds (B85 in C119 implies (B85 <> ( {} ) & (for B86 being (Subset of R1) holds (B86 in C119 implies (B85 = B86 or B85 misses B86))))))
proof
let C126 being (Subset of R1);
assume L458: C126 in C119;
L459: C126 is_min_depend C117 , C118 by L458 , L432;
L460: C126 is_a_dependent_set_of C117 by L459 , L53;
L461: C126 is_a_dependent_set_of C118 by L459 , L53;
consider C127 being set such that L462: C127 c= C117 and L463: C127 <> ( {} ) and L464: C126 = ( union C127 ) by L460 , L51;
consider C128 being set such that L465: C128 in C127 by L463 , XBOOLE_0:def 1;
L466: C128 <> ( {} ) by L430 , L462 , L465;
L467: C128 c= ( union C127 ) by L465 , ZFMISC_1:74;
thus L468: C126 <> ( {} ) by L467 , L464 , L466;
let C129 being (Subset of R1);
assume L469: C129 in C119;
L470: C129 is_min_depend C117 , C118 by L469 , L432;
L471: (C129 is_a_dependent_set_of C117 & C129 is_a_dependent_set_of C118) by L470 , L53;
L472:
now
assume L473: C126 meets C129;
L474: (( C126 /\ C129 ) is_a_dependent_set_of C117 & ( C126 /\ C129 ) is_a_dependent_set_of C118) by L473 , L460 , L461 , L471 , L184;
L475: ( C126 /\ C129 ) c= C126 by XBOOLE_1:17;
L476: ( C126 /\ C129 ) = C126 by L475 , L459 , L474 , L53;
L477: C126 c= C129
proof
let C130 being set;
assume L478: C130 in C126;
thus L479: thesis by L478 , L476 , XBOOLE_0:def 4;
end;
L480: ( C126 /\ C129 ) c= C129 by XBOOLE_1:17;
L481: ( C126 /\ C129 ) = C129 by L480 , L470 , L474 , L53;
L482: C129 c= C126
proof
let C131 being set;
assume L483: C131 in C129;
thus L484: thesis by L483 , L481 , XBOOLE_0:def 4;
end;
thus L485: C126 = C129 by L482 , L477 , XBOOLE_0:def 10;
end;
thus L486: thesis by L472;
end;
L487: C119 c= ( bool R1 )
proof
let C132 being set;
assume L488: C132 in C119;
L489: C132 is_min_depend C117 , C118 by L488 , L432;
L490: C132 is_a_dependent_set_of C117 by L489 , L53;
L491: (ex B87 being set st (B87 c= C117 & B87 <> ( {} ) & C132 = ( union B87 ))) by L490 , L51;
L492: C132 c= R1 by L491 , L429 , ZFMISC_1:77;
thus L493: thesis by L492;
end;
reconsider D25 = C119 as (Subset-Family of R1) by L487;
L494: D25 is (a_partition of R1) by L456 , L457 , EQREL_1:def 4;
thus L495: thesis by L494 , L432;
end;
uniqueness
proof
let C133 , C134 being (a_partition of R1);
assume that
L496: (for B88 being set holds (B88 in C133 iff B88 is_min_depend C117 , C118))
and
L497: (for B89 being set holds (B89 in C134 iff B89 is_min_depend C117 , C118));
L498:
now
let C135 being set;
L499: (C135 in C133 iff C135 is_min_depend C117 , C118) by L496;
thus L500: (C135 in C133 iff C135 in C134) by L499 , L497;
end;
thus L501: thesis by L498 , TARSKI:1;
end;
commutativity
proof
let C136 , C137 , C138 being (a_partition of R1);
L502:
now
let C139 being set;
assume L503: C139 is_min_depend C137 , C138;
L504: (C139 is_a_dependent_set_of C138 & C139 is_a_dependent_set_of C137) by L503 , L53;
L505: (for B90 being set holds ((B90 c= C139 & B90 is_a_dependent_set_of C138 & B90 is_a_dependent_set_of C137) implies B90 = C139)) by L503 , L53;
thus L506: C139 is_min_depend C138 , C137 by L505 , L504 , L53;
end;
L507:
now
let C140 being set;
assume L508: C140 is_min_depend C138 , C137;
L509: (C140 is_a_dependent_set_of C137 & C140 is_a_dependent_set_of C138) by L508 , L53;
L510: (for B91 being set holds ((B91 c= C140 & B91 is_a_dependent_set_of C137 & B91 is_a_dependent_set_of C138) implies B91 = C140)) by L508 , L53;
thus L511: C140 is_min_depend C137 , C138 by L510 , L509 , L53;
end;
L512: (for R19 being set holds ((for B92 being set holds (B92 in R19 iff B92 is_min_depend C137 , C138)) implies (for B93 being set holds (B93 in R19 iff B93 is_min_depend C138 , C137))))
proof
let R19 being set;
assume L513: (for B94 being set holds (B94 in R19 iff B94 is_min_depend C137 , C138));
let C141 being set;
L514: (C141 in R19 iff C141 is_min_depend C137 , C138) by L513;
thus L515: (C141 in R19 implies C141 is_min_depend C138 , C137) by L514 , L502;
assume L516: C141 is_min_depend C138 , C137;
thus L517: thesis by L516 , L507 , L514;
end;
thus L518: thesis by L512;
end;
end;
theorem
L520: (for R1 being non  empty set holds (for B95 , B96 being (a_partition of R1) holds B95 '<' ( B95 '\/' B96 )))
proof
let R1 being non  empty set;
thus L521: (for R3 being (a_partition of R1) holds (for R4 being (a_partition of R1) holds R3 '<' ( R3 '\/' R4 )))
proof
let R3 being (a_partition of R1);
let R4 being (a_partition of R1);
L522: (for B97 being set holds (B97 in R3 implies (ex B98 being set st (B98 in ( R3 '\/' R4 ) & B97 c= B98))))
proof
let C142 being set;
assume L523: C142 in R3;
L524: C142 <> ( {} ) by L523 , EQREL_1:def 4;
set D26 = the (Element of C142);
L525: D26 in R1 by L523 , L524 , TARSKI:def 3;
L526: ( union ( R3 '\/' R4 ) ) = R1 by EQREL_1:def 4;
consider C143 being set such that L527: D26 in C143 and L528: C143 in ( R3 '\/' R4 ) by L526 , L525 , TARSKI:def 4;
L529: C143 is_min_depend R3 , R4 by L528 , L428;
L530: C143 is_a_dependent_set_of R3 by L529 , L53;
consider C144 being set such that L531: C144 c= R3 and L532: C144 <> ( {} ) and L533: C143 = ( union C144 ) by L530 , L51;
L534: C142 in C144
proof
consider C145 being set such that L535: D26 in C145 and L536: C145 in C144 by L527 , L533 , TARSKI:def 4;
L537: ( C142 /\ C145 ) <> ( {} ) by L524 , L535 , XBOOLE_0:def 4;
L538: (not C142 misses C145) by L537 , XBOOLE_0:def 7;
L539: C145 in R3 by L531 , L536;
thus L540: thesis by L539 , L523 , L536 , L538 , EQREL_1:def 4;
end;
thus L541: thesis by L534 , L528 , L533 , ZFMISC_1:74;
end;
thus L542: thesis by L522 , SETFAM_1:def 2;
end;

end;
theorem
L522: (for R1 being non  empty set holds (for B99 being (a_partition of R1) holds ( B99 '\/' B99 ) = B99))
proof
let R1 being non  empty set;
let C146 being (a_partition of R1);
L523: C146 '<' ( C146 '\/' C146 ) by L520;
L524: (for B100 being set holds (B100 in ( C146 '\/' C146 ) implies (ex B101 being set st (B101 in C146 & B100 c= B101))))
proof
let C147 being set;
assume L525: C147 in ( C146 '\/' C146 );
L526: C147 is_min_depend C146 , C146 by L525 , L428;
L527: C147 is_a_dependent_set_of C146 by L526 , L53;
consider C148 being set such that L528: C148 c= C146 and L529: C148 <> ( {} ) and L530: C147 = ( union C148 ) by L527 , L51;
L531: C147 <> ( {} ) by L525 , EQREL_1:def 4;
set D27 = the (Element of C147);
L532: D27 in C147 by L531;
L533: D27 in R1 by L532 , L525;
L534: D27 in ( union C146 ) by L533 , EQREL_1:def 4;
consider C149 being set such that L535: D27 in C149 and L536: C149 in C146 by L534 , TARSKI:def 4;
L537: C149 in C148
proof
consider C150 being set such that L538: D27 in C150 and L539: C150 in C148 by L530 , L531 , TARSKI:def 4;
L540: ( C149 /\ C150 ) <> ( {} ) by L535 , L538 , XBOOLE_0:def 4;
L541: (not C149 misses C150) by L540 , XBOOLE_0:def 7;
L542: C150 in C146 by L528 , L539;
thus L543: thesis by L542 , L536 , L539 , L541 , EQREL_1:def 4;
end;
L544: C149 c= C147 by L537 , L530 , ZFMISC_1:74;
L545: C149 is_a_dependent_set_of C146 by L536 , L55;
L546: C147 = C149 by L545 , L526 , L544 , L53;
thus L547: thesis by L546 , L536;
end;
L548: ( C146 '\/' C146 ) '<' C146 by L524 , SETFAM_1:def 2;
thus L549: thesis by L548 , L523 , L33;
end;
theorem
L550: (for R1 being non  empty set holds (for R10 being set holds (for R16 being set holds (for R22 being set holds (for B102 , B103 being (a_partition of R1) holds ((B102 '<' B103 & R10 in B103 & R16 in B102 & R22 in R10 & R22 in R16) implies R16 c= R10))))))
proof
let R1 being non  empty set;
let R10 being set;
let R16 being set;
let R22 being set;
let C151 , C152 being (a_partition of R1);
assume that
L551: C151 '<' C152
and
L552: R10 in C152
and
L553: R16 in C151
and
L554: (R22 in R10 & R22 in R16);
consider R20 being set such that L555: R20 in C152 and L556: R16 c= R20 by L551 , L553 , SETFAM_1:def 2;
L557: (R10 = R20 or R10 misses R20) by L552 , L555 , EQREL_1:def 4;
thus L558: thesis by L557 , L554 , L556 , XBOOLE_0:3;
end;
theorem
L559: (for R1 being non  empty set holds (for R10 being set holds (for R16 being set holds (for R22 being set holds (for B104 , B105 being (a_partition of R1) holds ((R10 in ( B104 '\/' B105 ) & R16 in B104 & R22 in R10 & R22 in R16) implies R16 c= R10)))))) by L520 , L550;
begin
definition
let R1 being non  empty set;
let C153 being (a_partition of R1);
func ERl C153 -> (Equivalence_Relation of R1) means 
:L560: (for B106 , B107 being set holds ([ B106 , B107 ] in it iff (ex R5 being (Subset of R1) st (R5 in C153 & B106 in R5 & B107 in R5))));
existence
proof
L561: ( union C153 ) = R1 by EQREL_1:def 4;
L562: (ex B108 being (Equivalence_Relation of R1) st (for R10 being set holds (for R11 being set holds ([ R10 , R11 ] in B108 iff (ex R5 being (Subset of R1) st (R5 in C153 & R10 in R5 & R11 in R5))))))
proof
defpred S6[ set , set ] means (ex R5 being (Subset of R1) st (R5 in C153 & $1 in R5 & $2 in R5));
L563: (for R10 being set holds (R10 in R1 implies S6[ R10 , R10 ]))
proof
let R10 being set;
assume L564: R10 in R1;
L565: (ex B109 being set st (R10 in B109 & B109 in C153)) by L564 , L561 , TARSKI:def 4;
consider R2 being non  empty set such that L566: R10 in R2 and L567: R2 in C153 by L565;
reconsider D28 = R2 as (Subset of R1) by L567;
take D28;
thus L568: thesis by L566 , L567;
end;
L569: (for R10 being set holds (for R11 being set holds (S6[ R10 , R11 ] implies S6[ R11 , R10 ])));
L570: (for R10 being set holds (for R11 being set holds (for R12 being set holds ((S6[ R10 , R11 ] & S6[ R11 , R12 ]) implies S6[ R10 , R12 ]))))
proof
let R10 being set;
let R11 being set;
let R12 being set;
given R5 being (Subset of R1) such that
L571: R5 in C153
and
L572: (R10 in R5 & R11 in R5);

given R6 being (Subset of R1) such that
L573: R6 in C153
and
L574: (R11 in R6 & R12 in R6);

L575: (R5 = R6 or R5 misses R6) by L571 , L573 , EQREL_1:def 4;
thus L576: thesis by L575 , L571 , L572 , L574 , XBOOLE_0:3;
end;
consider C154 being (Equivalence_Relation of R1) such that L577: (for R10 being set holds (for R11 being set holds ([ R10 , R11 ] in C154 iff (R10 in R1 & R11 in R1 & S6[ R10 , R11 ])))) from EQREL_1:sch 1(L563 , L569 , L570);
take C154;
thus L578: thesis by L577;
end;
thus L579: thesis by L562;
end;
uniqueness
proof
let C155 , C156 being (Equivalence_Relation of R1);
assume that
L580: (for B110 , B111 being set holds ([ B110 , B111 ] in C155 iff (ex R5 being (Subset of R1) st (R5 in C153 & B110 in R5 & B111 in R5))))
and
L581: (for B112 , B113 being set holds ([ B112 , B113 ] in C156 iff (ex R5 being (Subset of R1) st (R5 in C153 & B112 in R5 & B113 in R5))));
let C157 , C158 being set;
L582: ([ C157 , C158 ] in C155 iff (ex R5 being (Subset of R1) st (R5 in C153 & C157 in R5 & C158 in R5))) by L580;
thus L583: thesis by L582 , L581;
end;
end;
definition
let R1 being non  empty set;
defpred S7[ set , set ] means (ex R3 being (a_partition of R1) st (R3 = $1 & $2 = ( ERl R3 )));
L585: (for R10 being set holds (R10 in ( PARTITIONS R1 ) implies (ex R12 being set st S7[ R10 , R12 ])))
proof
let R10 being set;
assume L586: R10 in ( PARTITIONS R1 );
reconsider D29 = R10 as (a_partition of R1) by L586 , L302;
take ( ERl D29 );
thus L587: thesis;
end;
func Rel R1 -> Function means 
(( dom it ) = ( PARTITIONS R1 ) & (for R10 being set holds (R10 in ( PARTITIONS R1 ) implies (ex R3 being (a_partition of R1) st (R3 = R10 & ( it . R10 ) = ( ERl R3 ))))));
existence
proof
thus L588: (ex B114 being Function st (( dom B114 ) = ( PARTITIONS R1 ) & (for R10 being set holds (R10 in ( PARTITIONS R1 ) implies S7[ R10 , ( B114 . R10 ) ])))) from CLASSES1:sch 1(L585);
end;
uniqueness
proof
let C159 , C160 being Function;
assume that
L589: ( dom C159 ) = ( PARTITIONS R1 )
and
L590: (for R10 being set holds (R10 in ( PARTITIONS R1 ) implies (ex R3 being (a_partition of R1) st (R3 = R10 & ( C159 . R10 ) = ( ERl R3 )))))
and
L591: ( dom C160 ) = ( PARTITIONS R1 )
and
L592: (for R10 being set holds (R10 in ( PARTITIONS R1 ) implies (ex R3 being (a_partition of R1) st (R3 = R10 & ( C160 . R10 ) = ( ERl R3 )))));
L593: (for R12 being set holds (R12 in ( PARTITIONS R1 ) implies ( C159 . R12 ) = ( C160 . R12 )))
proof
let R10 being set;
assume L594: R10 in ( PARTITIONS R1 );
L595: ((ex R3 being (a_partition of R1) st (R3 = R10 & ( C159 . R10 ) = ( ERl R3 ))) & (ex R3 being (a_partition of R1) st (R3 = R10 & ( C160 . R10 ) = ( ERl R3 )))) by L594 , L590 , L592;
thus L596: thesis by L595;
end;
thus L597: thesis by L593 , L589 , L591 , FUNCT_1:2;
end;
end;
theorem
L599: (for R1 being non  empty set holds (for B115 , B116 being (a_partition of R1) holds (B115 '<' B116 iff ( ERl B115 ) c= ( ERl B116 ))))
proof
let R1 being non  empty set;
let C161 , C162 being (a_partition of R1);
set D30 = ( ERl C161 );
set D31 = ( ERl C162 );
thus L600:now
assume L601: C161 '<' C162;
L602: (for B117 , B118 being set holds ([ B117 , B118 ] in D30 implies [ B117 , B118 ] in D31))
proof
let C163 , C164 being set;
assume L603: [ C163 , C164 ] in D30;
consider C165 being (Subset of R1) such that L604: C165 in C161 and L605: (C163 in C165 & C164 in C165) by L603 , L560;
L606: (ex R11 being set st (R11 in C162 & C165 c= R11)) by L601 , L604 , SETFAM_1:def 2;
thus L607: thesis by L606 , L605 , L560;
end;
thus L608: ( ERl C161 ) c= ( ERl C162 ) by L602 , RELAT_1:def 3;
end;
assume L609: ( ERl C161 ) c= ( ERl C162 );
L610: (for R10 being set holds (R10 in C161 implies (ex R11 being set st (R11 in C162 & R10 c= R11))))
proof
let R10 being set;
assume L611: R10 in C161;
L612: R10 <> ( {} ) by L611 , EQREL_1:def 4;
set D32 = the (Element of R10);
set D33 = { B119 where B119 is (Element of R1) : [ D32 , B119 ] in ( ERl C162 ) };
L613: R10 c= D33
proof
let R13 being set;
assume L614: R13 in R10;
L615: [ D32 , R13 ] in D30 by L614 , L611 , L560;
thus L616: thesis by L615 , L609 , L611 , L614;
end;
set D34 = the (Element of R10);
L617: [ D32 , D34 ] in D30 by L611 , L612 , L560;
consider C166 being (Subset of R1) such that L618: C166 in C162 and L619: D32 in C166 and L620: D34 in C166 by L617 , L609 , L560;
L621: D33 c= C166
proof
let R14 being set;
assume L622: R14 in D33;
L623: (ex B120 being (Element of R1) st (B120 = R14 & [ D32 , B120 ] in ( ERl C162 ))) by L622;
consider C167 being (Subset of R1) such that L624: C167 in C162 and L625: D32 in C167 and L626: R14 in C167 by L623 , L560;
L627: C167 meets C166 by L619 , L625 , XBOOLE_0:3;
thus L628: thesis by L627 , L618 , L624 , L626 , EQREL_1:def 4;
end;
L629: C166 c= D33
proof
let R14 being set;
assume L630: R14 in C166;
L631: [ D32 , R14 ] in D31 by L630 , L618 , L619 , L560;
thus L632: thesis by L631 , L630;
end;
L633: D33 = C166 by L629 , L621 , XBOOLE_0:def 10;
thus L634: thesis by L633 , L613 , L618;
end;
thus L635: thesis by L610 , SETFAM_1:def 2;
end;
theorem
L636: (for R1 being non  empty set holds (for B121 , B122 being (a_partition of R1) holds (for B123 , B124 , B125 being set holds (for B126 being (FinSequence of R1) holds ((B123 c= R1 & B124 in B123 & ( B126 . 1 ) = B124 & ( B126 . ( len B126 ) ) = B125 & 1 <= ( len B126 ) & (for R7 being (Element of ( NAT )) holds ((1 <= R7 & R7 < ( len B126 )) implies (ex B127 , B128 , B129 being set st (B127 in B121 & B128 in B122 & ( B126 . R7 ) in B127 & B129 in B127 & B129 in B128 & ( B126 . ( R7 + 1 ) ) in B128)))) & B123 is_a_dependent_set_of B121 & B123 is_a_dependent_set_of B122) implies B125 in B123)))))
proof
let R1 being non  empty set;
let C168 , C169 being (a_partition of R1);
let C170 , C171 , C172 being set;
let C173 being (FinSequence of R1);
assume that
L637: C170 c= R1
and
L638: (C171 in C170 & ( C173 . 1 ) = C171)
and
L639: (( C173 . ( len C173 ) ) = C172 & 1 <= ( len C173 ))
and
L640: (for R7 being (Element of ( NAT )) holds ((1 <= R7 & R7 < ( len C173 )) implies (ex B130 , B131 , B132 being set st (B130 in C168 & B131 in C169 & ( C173 . R7 ) in B130 & B132 in B130 & B132 in B131 & ( C173 . ( R7 + 1 ) ) in B131))))
and
L641: C170 is_a_dependent_set_of C168
and
L642: C170 is_a_dependent_set_of C169;
consider C174 being set such that L643: C174 c= C168 and L644: C174 <> ( {} ) and L645: C170 = ( union C174 ) by L641 , L51;
consider C175 being set such that L646: C175 c= C169 and L647: C175 <> ( {} ) and L648: C170 = ( union C175 ) by L642 , L51;
L649: ( union C168 ) = R1 by EQREL_1:def 4;
L650: (for B133 being set holds (B133 in C168 implies (B133 <> ( {} ) & (for B134 being set holds (B134 in C168 implies (B133 = B134 or B133 misses B134)))))) by EQREL_1:def 4;
L651: (for B135 being set holds (B135 in C169 implies (B135 <> ( {} ) & (for B136 being set holds (B136 in C169 implies (B135 = B136 or B135 misses B136)))))) by EQREL_1:def 4;
L652: (for R9 being (Element of ( NAT )) holds ((1 <= R9 & R9 <= ( len C173 )) implies ( C173 . R9 ) in C170))
proof
defpred S8[ (Element of ( NAT )) ] means ((1 <= $1 & $1 <= ( len C173 )) implies ( C173 . $1 ) in C170);
L653: S8[ ( 0 ) ];
L654: (for R9 being (Element of ( NAT )) holds (S8[ R9 ] implies S8[ ( R9 + 1 ) ]))
proof
let R9 being (Element of ( NAT ));
assume L655: S8[ R9 ];
assume that
L656: 1 <= ( R9 + 1 )
and
L657: ( R9 + 1 ) <= ( len C173 );
L658: R9 < ( len C173 ) by L657 , NAT_1:13;
L659: (1 <= R9 or 1 = ( R9 + 1 )) by L656 , NAT_1:8;
L660:
now
per cases  by L659;
suppose L661: 1 <= R9;

consider C176 , C177 , C178 being set such that L662: C176 in C168 and L663: C177 in C169 and L664: ( C173 . R9 ) in C176 and L665: C178 in C176 and L666: C178 in C177 and L667: ( C173 . ( R9 + 1 ) ) in C177 by L661 , L640 , L658;
consider C179 being set such that L668: ( C173 . R9 ) in C179 and L669: C179 in C168 by L637 , L649 , L655 , L657 , L661 , NAT_1:13 , TARSKI:def 4;
L670: (C176 = C179 or C176 misses C179) by L662 , L669 , EQREL_1:def 4;
consider C180 being set such that L671: ( C173 . R9 ) in C180 and L672: C180 in C174 by L645 , L655 , L657 , L661 , NAT_1:13 , TARSKI:def 4;
L673: (C180 = C176 or C180 misses C176) by L643 , L650 , L662 , L672;
L674: C179 c= C170 by L673 , L645 , L664 , L668 , L670 , L671 , L672 , XBOOLE_0:3 , ZFMISC_1:74;
consider C181 being set such that L675: C178 in C181 and L676: C181 in C169 by L663 , L666;
L677: (C177 = C181 or C177 misses C181) by L663 , L676 , EQREL_1:def 4;
consider C182 being set such that L678: C178 in C182 and L679: C182 in C175 by L648 , L664 , L665 , L668 , L670 , L674 , TARSKI:def 4 , XBOOLE_0:3;
L680: (C177 = C182 or C177 misses C182) by L646 , L651 , L663 , L679;
L681: C181 c= C170 by L680 , L648 , L666 , L675 , L677 , L678 , L679 , XBOOLE_0:3 , ZFMISC_1:74;
thus L682: thesis by L681 , L666 , L667 , L675 , L677 , XBOOLE_0:3;
end;
suppose L683: ( 0 ) = R9;

thus L684: thesis by L683 , L638;
end;
end;
thus L686: thesis by L660;
end;
thus L687: (for R9 being (Element of ( NAT )) holds S8[ R9 ]) from NAT_1:sch 1(L653 , L654);
end;
thus L688: thesis by L652 , L639;
end;
theorem
L689: (for R1 being non  empty set holds (for B137 , B138 being (Equivalence_Relation of R1) holds (for B139 being (FinSequence of R1) holds (for B140 , B141 being set holds ((B140 in R1 & ( B139 . 1 ) = B140 & ( B139 . ( len B139 ) ) = B141 & 1 <= ( len B139 ) & (for R7 being (Element of ( NAT )) holds ((1 <= R7 & R7 < ( len B139 )) implies (ex B142 being set st (B142 in R1 & [ ( B139 . R7 ) , B142 ] in ( B137 \/ B138 ) & [ B142 , ( B139 . ( R7 + 1 ) ) ] in ( B137 \/ B138 )))))) implies [ B140 , B141 ] in ( B137 "\/" B138 ))))))
proof
let R1 being non  empty set;
let C183 , C184 being (Equivalence_Relation of R1);
let C185 being (FinSequence of R1);
let C186 , C187 being set;
assume that
L690: C186 in R1
and
L691: ( C185 . 1 ) = C186
and
L692: (( C185 . ( len C185 ) ) = C187 & 1 <= ( len C185 ))
and
L693: (for R7 being (Element of ( NAT )) holds ((1 <= R7 & R7 < ( len C185 )) implies (ex B143 being set st (B143 in R1 & [ ( C185 . R7 ) , B143 ] in ( C183 \/ C184 ) & [ B143 , ( C185 . ( R7 + 1 ) ) ] in ( C183 \/ C184 )))));
L694: (for R7 being (Element of ( NAT )) holds ((1 <= R7 & R7 <= ( len C185 )) implies [ ( C185 . 1 ) , ( C185 . R7 ) ] in ( C183 "\/" C184 )))
proof
defpred S9[ (Element of ( NAT )) ] means ((1 <= $1 & $1 <= ( len C185 )) implies [ ( C185 . 1 ) , ( C185 . $1 ) ] in ( C183 "\/" C184 ));
L695: S9[ ( 0 ) ];
L696: (for R7 being (Element of ( NAT )) holds (S9[ R7 ] implies S9[ ( R7 + 1 ) ]))
proof
let R7 being (Element of ( NAT ));
assume L697: S9[ R7 ];
assume that
L698: 1 <= ( R7 + 1 )
and
L699: ( R7 + 1 ) <= ( len C185 );
L700: R7 < ( len C185 ) by L699 , NAT_1:13;
L701: (1 <= R7 or 1 = ( R7 + 1 )) by L698 , NAT_1:8;
L702: ( C183 \/ C184 ) c= ( C183 "\/" C184 ) by EQREL_1:def 2;
L703:
now
per cases  by L701;
suppose L704: 1 <= R7;

consider C188 being set such that L705: C188 in R1 and L706: ([ ( C185 . R7 ) , C188 ] in ( C183 \/ C184 ) & [ C188 , ( C185 . ( R7 + 1 ) ) ] in ( C183 \/ C184 )) by L704 , L693 , L700;
reconsider D35 = C188 as (Element of R1) by L705;
L707: ( dom C185 ) = ( Seg ( len C185 ) ) by FINSEQ_1:def 3;
L708: R7 in ( dom C185 ) by L707 , L700 , L704 , FINSEQ_1:1;
reconsider D36 = ( C185 . R7 ) as (Element of R1) by L708 , FINSEQ_2:11;
L709: ( R7 + 1 ) in ( dom C185 ) by L698 , L699 , L707 , FINSEQ_1:1;
reconsider D37 = ( C185 . ( R7 + 1 ) ) as (Element of R1) by L709 , FINSEQ_2:11;
reconsider D38 = <* D36 , D35 , D37 *> as (FinSequence of R1);
L710: ( len D38 ) = 3 by FINSEQ_1:45;
L711: (( D38 . 1 ) = ( C185 . R7 ) & ( D38 . 3 ) = ( C185 . ( R7 + 1 ) )) by FINSEQ_1:45;
L712: (for R8 being (Element of ( NAT )) holds ((1 <= R8 & R8 < ( len D38 )) implies [ ( D38 . R8 ) , ( D38 . ( R8 + 1 ) ) ] in ( C183 \/ C184 )))
proof
let R8 being (Element of ( NAT ));
assume that
L713: 1 <= R8
and
L714: R8 < ( len D38 );
L715: R8 < ( 2 + 1 ) by L714 , FINSEQ_1:45;
L716: R8 <= 2 by L715 , NAT_1:13;
L717: (R8 = ( 0 ) or R8 = 1 or R8 = 2) by L716 , NAT_1:26;
thus L718: thesis by L717 , L706 , L711 , L713 , FINSEQ_1:45;
end;
L719: [ ( C185 . R7 ) , ( C185 . ( R7 + 1 ) ) ] in ( C183 "\/" C184 ) by L712 , L710 , L711 , EQREL_1:28;
thus L720: thesis by L719 , L697 , L699 , L704 , EQREL_1:7 , NAT_1:13;
end;
suppose L721: ( 0 ) = R7;

L722: [ ( C185 . 1 ) , ( C185 . 1 ) ] in C183 by L690 , L691 , EQREL_1:5;
L723: [ ( C185 . 1 ) , ( C185 . 1 ) ] in ( C183 \/ C184 ) by L722 , XBOOLE_0:def 3;
thus L724: thesis by L723 , L702 , L721;
end;
end;
thus L726: thesis by L703;
end;
thus L727: (for R7 being (Element of ( NAT )) holds S9[ R7 ]) from NAT_1:sch 1(L695 , L696);
end;
thus L728: thesis by L694 , L691 , L692;
end;
theorem
L729: (for R1 being non  empty set holds (for B144 , B145 being (a_partition of R1) holds ( ERl ( B144 '\/' B145 ) ) = ( ( ERl B144 ) "\/" ( ERl B145 ) )))
proof
let R1 being non  empty set;
let C189 , C190 being (a_partition of R1);
L730: C189 is_finer_than ( C189 '\/' C190 ) by L520;
L731: C190 is_finer_than ( C189 '\/' C190 ) by L520;
L732: ( union C189 ) = R1 by EQREL_1:def 4;
L733: ( union C190 ) = R1 by EQREL_1:def 4;
L734: ( ERl ( C189 '\/' C190 ) ) c= ( ( ERl C189 ) "\/" ( ERl C190 ) )
proof
let C191 , C192 being set;
assume L735: [ C191 , C192 ] in ( ERl ( C189 '\/' C190 ) );
consider C193 being (Subset of R1) such that L736: C193 in ( C189 '\/' C190 ) and L737: C191 in C193 and L738: C192 in C193 by L735 , L560;
L739: C193 is_min_depend C189 , C190 by L736 , L428;
L740: C193 is_a_dependent_set_of C189 by L739 , L53;
L741: C193 is_a_dependent_set_of C190 by L739 , L53;
consider C194 being set such that L742: C194 c= C189 and L743: C194 <> ( {} ) and L744: C193 = ( union C194 ) by L740 , L51;
consider C195 being set such that L745: C191 in C195 and L746: C195 in C194 by L737 , L744 , TARSKI:def 4;
reconsider D39 = { B146 where B146 is (Element of C189) : (ex B147 being (FinSequence of R1) st (1 <= ( len B147 ) & ( B147 . 1 ) = C191 & ( B147 . ( len B147 ) ) in B146 & (for R7 being (Element of ( NAT )) holds ((1 <= R7 & R7 < ( len B147 )) implies (ex B148 , B149 , B150 being set st (B148 in C189 & B149 in C190 & ( B147 . R7 ) in B148 & B150 in ( B148 /\ B149 ) & ( B147 . ( R7 + 1 ) ) in B149)))))) } as set;
reconsider D40 = ( union D39 ) as set;
reconsider D41 = { B151 where B151 is (Element of C190) : (ex B152 being set st (B152 in D39 & ( B151 /\ B152 ) <> ( {} ))) } as set;
reconsider D42 = C191 as (Element of R1) by L737;
reconsider D43 = <* D42 *> as (FinSequence of R1);
L747: ( D43 . 1 ) = C191 by FINSEQ_1:def 8;
L748: ( D43 . ( len D43 ) ) in C195 by L747 , L745 , FINSEQ_1:40;
L749: (1 <= ( len D43 ) & (for R7 being (Element of ( NAT )) holds ((1 <= R7 & R7 < ( len D43 )) implies (ex B153 , B154 , B155 being set st (B153 in C189 & B154 in C190 & ( D43 . R7 ) in B153 & B155 in ( B153 /\ B154 ) & ( D43 . ( R7 + 1 ) ) in B154))))) by FINSEQ_1:40;
L750: C195 in D39 by L749 , L742 , L746 , L747 , L748;
consider C196 being set such that L751: C191 in C196 and L752: C196 in D39 by L750 , L745;
consider C197 being set such that L753: D42 in C197 and L754: C197 in C190 by L733 , TARSKI:def 4;
L755: ( C196 /\ C197 ) <> ( {} ) by L751 , L753 , XBOOLE_0:def 4;
L756: C197 in D41 by L755 , L752 , L754;
L757: D39 c= C189
proof
let C198 being set;
assume L758: C198 in D39;
L759: (ex B156 being (Element of C189) st (C198 = B156 & (ex B157 being (FinSequence of R1) st (1 <= ( len B157 ) & ( B157 . 1 ) = C191 & ( B157 . ( len B157 ) ) in B156 & (for R7 being (Element of ( NAT )) holds ((1 <= R7 & R7 < ( len B157 )) implies (ex B158 , B159 , B160 being set st (B158 in C189 & B159 in C190 & ( B157 . R7 ) in B158 & B160 in ( B158 /\ B159 ) & ( B157 . ( R7 + 1 ) ) in B159)))))))) by L758;
thus L760: thesis by L759;
end;
L761: D40 is_a_dependent_set_of C189 by L757 , L750 , L51;
L762: D40 c= ( union D41 )
proof
let C199 being set;
assume L763: C199 in D40;
consider C200 being set such that L764: C199 in C200 and L765: C200 in D39 by L763 , TARSKI:def 4;
L766: (ex B161 being (Element of C189) st (C200 = B161 & (ex B162 being (FinSequence of R1) st (1 <= ( len B162 ) & ( B162 . 1 ) = C191 & ( B162 . ( len B162 ) ) in B161 & (for R7 being (Element of ( NAT )) holds ((1 <= R7 & R7 < ( len B162 )) implies (ex B163 , B164 , B165 being set st (B163 in C189 & B164 in C190 & ( B162 . R7 ) in B163 & B165 in ( B163 /\ B164 ) & ( B162 . ( R7 + 1 ) ) in B164)))))))) by L765;
consider C201 being set such that L767: C199 in C201 and L768: C201 in C190 by L766 , L733 , L764 , TARSKI:def 4;
L769: ( C200 /\ C201 ) <> ( {} ) by L764 , L767 , XBOOLE_0:def 4;
L770: C201 in D41 by L769 , L765 , L768;
thus L771: thesis by L770 , L767 , TARSKI:def 4;
end;
L772: ( union D41 ) c= D40
proof
let C202 being set;
assume L773: C202 in ( union D41 );
consider C203 being set such that L774: C202 in C203 and L775: C203 in D41 by L773 , TARSKI:def 4;
L776: (ex B166 being (Element of C190) st (C203 = B166 & (ex B167 being set st (B167 in D39 & ( B166 /\ B167 ) <> ( {} ))))) by L775;
consider C204 being set such that L777: C204 in D39 and L778: ( C203 /\ C204 ) <> ( {} ) by L776;
consider C205 being set such that L779: C202 in C205 and L780: C205 in C189 by L732 , L774 , L776 , TARSKI:def 4;
L781: (ex B168 being (Element of C189) st (C204 = B168 & (ex B169 being (FinSequence of R1) st (1 <= ( len B169 ) & ( B169 . 1 ) = C191 & ( B169 . ( len B169 ) ) in B168 & (for R7 being (Element of ( NAT )) holds ((1 <= R7 & R7 < ( len B169 )) implies (ex B170 , B171 , B172 being set st (B170 in C189 & B171 in C190 & ( B169 . R7 ) in B170 & B172 in ( B170 /\ B171 ) & ( B169 . ( R7 + 1 ) ) in B171)))))))) by L777;
consider C206 being (FinSequence of R1) such that L782: 1 <= ( len C206 ) and L783: ( C206 . 1 ) = C191 and L784: ( C206 . ( len C206 ) ) in C204 and L785: (for R7 being (Element of ( NAT )) holds ((1 <= R7 & R7 < ( len C206 )) implies (ex B173 , B174 , B175 being set st (B173 in C189 & B174 in C190 & ( C206 . R7 ) in B173 & B175 in ( B173 /\ B174 ) & ( C206 . ( R7 + 1 ) ) in B174)))) by L781;
reconsider D44 = C202 as (Element of R1) by L774 , L776;
reconsider D45 = ( C206 ^ <* D44 *> ) as (FinSequence of R1);
L786: ( len D45 ) = ( ( len C206 ) + ( len <* D44 *> ) ) by FINSEQ_1:22;
L787: ( len D45 ) = ( ( len C206 ) + 1 ) by L786 , FINSEQ_1:40;
L788: ( 1 + 1 ) <= ( ( len C206 ) + 1 ) by L782 , XREAL_1:6;
L789: 1 <= ( len D45 ) by L788 , L787 , XXREAL_0:2;
L790: ( D45 . ( ( len C206 ) + 1 ) ) in C203 by L774 , FINSEQ_1:42;
L791: C203 meets C204 by L778 , XBOOLE_0:def 7;
consider C207 being set such that L792: (C207 in C203 & C207 in C204) by L791 , XBOOLE_0:3;
L793: C207 in ( C203 /\ C204 ) by L792 , XBOOLE_0:def 4;
L794: ( dom C206 ) = ( Seg ( len C206 ) ) by FINSEQ_1:def 3;
L795: (for B176 being (Element of ( NAT )) holds ((1 <= B176 & B176 <= ( len C206 )) implies ( D45 . B176 ) = ( C206 . B176 )))
proof
let C208 being (Element of ( NAT ));
assume L796: (1 <= C208 & C208 <= ( len C206 ));
L797: C208 in ( dom C206 ) by L796 , L794 , FINSEQ_1:1;
thus L798: thesis by L797 , FINSEQ_1:def 7;
end;
L799: (( ( C206 ^ <* D44 *> ) . ( ( len C206 ) + 1 ) ) = D44 & ( D45 . 1 ) = C191) by L795 , L782 , L783 , FINSEQ_1:42;
L800: ( D45 . ( len C206 ) ) in C204 by L782 , L784 , L795;
L801: (for R7 being (Element of ( NAT )) holds ((1 <= R7 & R7 < ( len C206 )) implies (ex B177 , B178 , B179 being set st (B177 in C189 & B178 in C190 & ( D45 . R7 ) in B177 & B179 in ( B177 /\ B178 ) & ( D45 . ( R7 + 1 ) ) in B178))))
proof
let R7 being (Element of ( NAT ));
assume L802: (1 <= R7 & R7 < ( len C206 ));
L803: ( D45 . R7 ) = ( C206 . R7 ) by L802 , L795;
L804: (1 <= ( R7 + 1 ) & ( R7 + 1 ) <= ( len C206 )) by L802 , NAT_1:13;
L805: ( D45 . ( R7 + 1 ) ) = ( C206 . ( R7 + 1 ) ) by L804 , L795;
thus L806: thesis by L805 , L785 , L802 , L803;
end;
L807: (for R7 being (Element of ( NAT )) holds ((1 <= R7 & R7 < ( len D45 )) implies (ex B180 , B181 , B182 being set st (B180 in C189 & B181 in C190 & ( D45 . R7 ) in B180 & B182 in ( B180 /\ B181 ) & ( D45 . ( R7 + 1 ) ) in B181))))
proof
let R7 being (Element of ( NAT ));
assume that
L808: 1 <= R7
and
L809: R7 < ( len D45 );
L810: R7 <= ( len C206 ) by L787 , L809 , NAT_1:13;
L811:
now
per cases  by L808 , L810 , XXREAL_0:1;
case L812: (1 <= R7 & R7 < ( len C206 ));
thus L813: thesis by L812 , L801;
end;
case L814: (1 <= R7 & R7 = ( len C206 ));
thus L815: thesis by L814 , L776 , L781 , L790 , L793 , L800;
end;
end;
thus L817: thesis by L811;
end;
L818: C205 in D39 by L807 , L779 , L780 , L787 , L789 , L799;
thus L819: thesis by L818 , L779 , TARSKI:def 4;
end;
L820: D40 = ( union D41 ) by L772 , L762 , XBOOLE_0:def 10;
L821: D41 c= C190
proof
let C209 being set;
assume L822: C209 in D41;
L823: (ex B183 being (Element of C190) st (C209 = B183 & (ex B184 being set st (B184 in D39 & ( B183 /\ B184 ) <> ( {} ))))) by L822;
thus L824: thesis by L823;
end;
L825: D40 is_a_dependent_set_of C190 by L821 , L756 , L820 , L51;
L826:
now
assume L827: (not D40 c= C193);
L828: ( D40 \ C193 ) <> ( {} ) by L827 , XBOOLE_1:37;
consider C210 being set such that L829: C210 in ( D40 \ C193 ) by L828 , XBOOLE_0:def 1;
L830: (not C210 in C193) by L829 , XBOOLE_0:def 5;
consider C211 being set such that L831: C210 in C211 and L832: C211 in D41 by L820 , L829 , TARSKI:def 4;
L833: (ex B185 being (Element of C190) st (C211 = B185 & (ex B186 being set st (B186 in D39 & ( B185 /\ B186 ) <> ( {} ))))) by L832;
consider C212 being set such that L834: C212 in D39 and L835: ( C211 /\ C212 ) <> ( {} ) by L833;
L836: (ex B187 being (Element of C189) st (C212 = B187 & (ex B188 being (FinSequence of R1) st (1 <= ( len B188 ) & ( B188 . 1 ) = C191 & ( B188 . ( len B188 ) ) in B187 & (for R7 being (Element of ( NAT )) holds ((1 <= R7 & R7 < ( len B188 )) implies (ex B189 , B190 , B191 being set st (B189 in C189 & B190 in C190 & ( B188 . R7 ) in B189 & B191 in ( B189 /\ B190 ) & ( B188 . ( R7 + 1 ) ) in B190)))))))) by L834;
consider C213 being (FinSequence of R1) such that L837: 1 <= ( len C213 ) and L838: ( C213 . 1 ) = C191 and L839: ( C213 . ( len C213 ) ) in C212 and L840: (for R7 being (Element of ( NAT )) holds ((1 <= R7 & R7 < ( len C213 )) implies (ex B192 , B193 , B194 being set st (B192 in C189 & B193 in C190 & ( C213 . R7 ) in B192 & B194 in ( B192 /\ B193 ) & ( C213 . ( R7 + 1 ) ) in B193)))) by L836;
reconsider D46 = C210 as (Element of R1) by L831 , L833;
reconsider D47 = ( C213 ^ <* D46 *> ) as (FinSequence of R1);
L841: ( len D47 ) = ( ( len C213 ) + ( len <* D46 *> ) ) by FINSEQ_1:22;
L842: ( len D47 ) = ( ( len C213 ) + 1 ) by L841 , FINSEQ_1:40;
L843: ( 1 + 1 ) <= ( ( len C213 ) + 1 ) by L837 , XREAL_1:6;
L844: 1 <= ( len D47 ) by L843 , L842 , XXREAL_0:2;
L845: ( D47 . ( ( len C213 ) + 1 ) ) in C211 by L831 , FINSEQ_1:42;
L846: C211 meets C212 by L835 , XBOOLE_0:def 7;
consider C214 being set such that L847: (C214 in C211 & C214 in C212) by L846 , XBOOLE_0:3;
L848: C214 in ( C211 /\ C212 ) by L847 , XBOOLE_0:def 4;
L849: ( dom C213 ) = ( Seg ( len C213 ) ) by FINSEQ_1:def 3;
L850: (for B195 being (Element of ( NAT )) holds ((1 <= B195 & B195 <= ( len C213 )) implies ( D47 . B195 ) = ( C213 . B195 )))
proof
let C215 being (Element of ( NAT ));
assume L851: (1 <= C215 & C215 <= ( len C213 ));
L852: C215 in ( dom C213 ) by L851 , L849 , FINSEQ_1:1;
thus L853: thesis by L852 , FINSEQ_1:def 7;
end;
L854: (( ( C213 ^ <* D46 *> ) . ( ( len C213 ) + 1 ) ) = D46 & ( D47 . 1 ) = C191) by L850 , L837 , L838 , FINSEQ_1:42;
L855: ( D47 . ( len C213 ) ) in C212 by L837 , L839 , L850;
L856: (for R7 being (Element of ( NAT )) holds ((1 <= R7 & R7 < ( len C213 )) implies (ex B196 , B197 , B198 being set st (B196 in C189 & B197 in C190 & ( D47 . R7 ) in B196 & B198 in ( B196 /\ B197 ) & ( D47 . ( R7 + 1 ) ) in B197))))
proof
let R7 being (Element of ( NAT ));
assume L857: (1 <= R7 & R7 < ( len C213 ));
L858: ( D47 . R7 ) = ( C213 . R7 ) by L857 , L850;
L859: (1 <= ( R7 + 1 ) & ( R7 + 1 ) <= ( len C213 )) by L857 , NAT_1:13;
L860: ( D47 . ( R7 + 1 ) ) = ( C213 . ( R7 + 1 ) ) by L859 , L850;
thus L861: thesis by L860 , L840 , L857 , L858;
end;
L862: (for R7 being (Element of ( NAT )) holds ((1 <= R7 & R7 < ( len D47 )) implies (ex B199 , B200 , B201 being set st (B199 in C189 & B200 in C190 & ( D47 . R7 ) in B199 & B201 in ( B199 /\ B200 ) & ( D47 . ( R7 + 1 ) ) in B200))))
proof
let R7 being (Element of ( NAT ));
assume that
L863: 1 <= R7
and
L864: R7 < ( len D47 );
L865: R7 <= ( len C213 ) by L842 , L864 , NAT_1:13;
L866:
now
per cases  by L863 , L865 , XXREAL_0:1;
case L867: (1 <= R7 & R7 < ( len C213 ));
thus L868: thesis by L867 , L856;
end;
case L869: (1 <= R7 & R7 = ( len C213 ));
thus L870: thesis by L869 , L833 , L836 , L845 , L848 , L855;
end;
end;
thus L872: thesis by L866;
end;
L873: (for R7 being (Element of ( NAT )) holds ((1 <= R7 & R7 < ( len D47 )) implies (ex B202 , B203 , B204 being set st (B202 in C189 & B203 in C190 & ( D47 . R7 ) in B202 & B204 in B202 & B204 in B203 & ( D47 . ( R7 + 1 ) ) in B203))))
proof
let R7 being (Element of ( NAT ));
assume L874: (1 <= R7 & R7 < ( len D47 ));
consider C216 , C217 , C218 being set such that L875: (C216 in C189 & C217 in C190 & ( D47 . R7 ) in C216) and L876: C218 in ( C216 /\ C217 ) and L877: ( D47 . ( R7 + 1 ) ) in C217 by L874 , L862;
L878: (C218 in C216 & C218 in C217) by L876 , XBOOLE_0:def 4;
thus L879: thesis by L878 , L875 , L877;
end;
thus L880: contradiction by L873 , L737 , L740 , L741 , L830 , L842 , L844 , L854 , L636;
end;
L881: C192 in D40 by L826 , L738 , L739 , L761 , L825 , L53;
consider C219 being set such that L882: C192 in C219 and L883: C219 in D41 by L881 , L762 , TARSKI:def 4;
L884: (ex B205 being (Element of C190) st (C219 = B205 & (ex B206 being set st (B206 in D39 & ( B205 /\ B206 ) <> ( {} ))))) by L883;
consider C220 being set such that L885: C220 in D39 and L886: ( C219 /\ C220 ) <> ( {} ) by L884;
L887: (ex B207 being (Element of C189) st (C220 = B207 & (ex B208 being (FinSequence of R1) st (1 <= ( len B208 ) & ( B208 . 1 ) = C191 & ( B208 . ( len B208 ) ) in B207 & (for R7 being (Element of ( NAT )) holds ((1 <= R7 & R7 < ( len B208 )) implies (ex B209 , B210 , B211 being set st (B209 in C189 & B210 in C190 & ( B208 . R7 ) in B209 & B211 in ( B209 /\ B210 ) & ( B208 . ( R7 + 1 ) ) in B210)))))))) by L885;
consider C221 being (FinSequence of R1) such that L888: 1 <= ( len C221 ) and L889: ( C221 . 1 ) = C191 and L890: ( C221 . ( len C221 ) ) in C220 and L891: (for R7 being (Element of ( NAT )) holds ((1 <= R7 & R7 < ( len C221 )) implies (ex B212 , B213 , B214 being set st (B212 in C189 & B213 in C190 & ( C221 . R7 ) in B212 & B214 in ( B212 /\ B213 ) & ( C221 . ( R7 + 1 ) ) in B213)))) by L887;
reconsider D48 = C192 as (Element of R1) by L738;
reconsider D49 = ( C221 ^ <* D48 *> ) as (FinSequence of R1);
L892: ( len D49 ) = ( ( len C221 ) + ( len <* D48 *> ) ) by FINSEQ_1:22;
L893: ( len D49 ) = ( ( len C221 ) + 1 ) by L892 , FINSEQ_1:40;
L894: ( 1 + 1 ) <= ( len D49 ) by L893 , L888 , XREAL_1:6;
L895: ( D49 . ( ( len C221 ) + 1 ) ) in C219 by L882 , FINSEQ_1:42;
L896: C219 meets C220 by L886 , XBOOLE_0:def 7;
consider C222 being set such that L897: (C222 in C219 & C222 in C220) by L896 , XBOOLE_0:3;
L898: C222 in ( C219 /\ C220 ) by L897 , XBOOLE_0:def 4;
L899: ( dom C221 ) = ( Seg ( len C221 ) ) by FINSEQ_1:def 3;
L900: (for B215 being (Element of ( NAT )) holds ((1 <= B215 & B215 <= ( len C221 )) implies ( D49 . B215 ) = ( C221 . B215 )))
proof
let C223 being (Element of ( NAT ));
assume L901: (1 <= C223 & C223 <= ( len C221 ));
L902: C223 in ( dom C221 ) by L901 , L899 , FINSEQ_1:1;
thus L903: thesis by L902 , FINSEQ_1:def 7;
end;
L904: ( D49 . ( len C221 ) ) in C220 by L900 , L888 , L890;
L905: (for R7 being (Element of ( NAT )) holds ((1 <= R7 & R7 < ( len C221 )) implies (ex B216 , B217 , B218 being set st (B216 in C189 & B217 in C190 & ( D49 . R7 ) in B216 & B218 in ( B216 /\ B217 ) & ( D49 . ( R7 + 1 ) ) in B217))))
proof
let R7 being (Element of ( NAT ));
assume L906: (1 <= R7 & R7 < ( len C221 ));
L907: ( D49 . R7 ) = ( C221 . R7 ) by L906 , L900;
L908: (1 <= ( R7 + 1 ) & ( R7 + 1 ) <= ( len C221 )) by L906 , NAT_1:13;
L909: ( D49 . ( R7 + 1 ) ) = ( C221 . ( R7 + 1 ) ) by L908 , L900;
thus L910: thesis by L909 , L891 , L906 , L907;
end;
L911: (for R7 being (Element of ( NAT )) holds ((1 <= R7 & R7 < ( len D49 )) implies (ex B219 , B220 , B221 being set st (B219 in C189 & B220 in C190 & ( D49 . R7 ) in B219 & B221 in ( B219 /\ B220 ) & ( D49 . ( R7 + 1 ) ) in B220))))
proof
let R7 being (Element of ( NAT ));
assume that
L912: 1 <= R7
and
L913: R7 < ( len D49 );
L914: R7 <= ( len C221 ) by L893 , L913 , NAT_1:13;
L915:
now
per cases  by L912 , L914 , XXREAL_0:1;
case L916: (1 <= R7 & R7 < ( len C221 ));
thus L917: thesis by L916 , L905;
end;
case L918: (1 <= R7 & R7 = ( len C221 ));
thus L919: thesis by L918 , L884 , L887 , L895 , L898 , L904;
end;
end;
thus L921: thesis by L915;
end;
L922: (( ( C221 ^ <* D48 *> ) . ( ( len C221 ) + 1 ) ) = C192 & 1 <= ( len D49 )) by L894 , FINSEQ_1:42 , XXREAL_0:2;
L923: ( D49 . 1 ) = C191 by L888 , L889 , L900;
L924: (for R7 being (Element of ( NAT )) holds ((1 <= R7 & R7 < ( len D49 )) implies (ex B222 being set st (B222 in R1 & [ ( D49 . R7 ) , B222 ] in ( ( ERl C189 ) \/ ( ERl C190 ) ) & [ B222 , ( D49 . ( R7 + 1 ) ) ] in ( ( ERl C189 ) \/ ( ERl C190 ) )))))
proof
let R7 being (Element of ( NAT ));
assume L925: (1 <= R7 & R7 < ( len D49 ));
consider C224 , C225 , C226 being set such that L926: C224 in C189 and L927: C225 in C190 and L928: ( D49 . R7 ) in C224 and L929: C226 in ( C224 /\ C225 ) and L930: ( D49 . ( R7 + 1 ) ) in C225 by L925 , L911;
L931: C226 in C224 by L929 , XBOOLE_0:def 4;
L932: C226 in C225 by L929 , XBOOLE_0:def 4;
reconsider D50 = ( D49 . R7 ) as set;
reconsider D51 = ( D49 . ( R7 + 1 ) ) as set;
L933: [ D50 , C226 ] in ( ERl C189 ) by L926 , L928 , L931 , L560;
L934: [ C226 , D51 ] in ( ERl C190 ) by L927 , L930 , L932 , L560;
L935: (( ERl C189 ) c= ( ( ERl C189 ) \/ ( ERl C190 ) ) & ( ERl C190 ) c= ( ( ERl C189 ) \/ ( ERl C190 ) )) by XBOOLE_1:7;
thus L936: thesis by L935 , L926 , L931 , L933 , L934;
end;
L937: [ D42 , D48 ] in ( ( ERl C189 ) "\/" ( ERl C190 ) ) by L924 , L893 , L922 , L923 , L689;
thus L938: thesis by L937;
end;
L939: (for B223 , B224 being set holds ([ B223 , B224 ] in ( ( ERl C189 ) \/ ( ERl C190 ) ) implies [ B223 , B224 ] in ( ERl ( C189 '\/' C190 ) )))
proof
let C227 , C228 being set;
assume L940: [ C227 , C228 ] in ( ( ERl C189 ) \/ ( ERl C190 ) );
L941: ([ C227 , C228 ] in ( ERl C189 ) or [ C227 , C228 ] in ( ERl C190 )) by L940 , XBOOLE_0:def 3;
L942: ((ex B225 being (Subset of R1) st (B225 in C189 & C227 in B225 & C228 in B225)) or (ex B226 being (Subset of R1) st (B226 in C190 & C227 in B226 & C228 in B226))) by L941 , L560;
L943:
now
per cases  by L942;
case L944: (C227 in R1 & C228 in R1 & (ex B227 being (Subset of R1) st (B227 in C189 & C227 in B227 & C228 in B227)));
consider C229 being (Subset of R1) such that L945: C229 in C189 and L946: (C227 in C229 & C228 in C229) by L944;
L947: (ex R11 being set st (R11 in ( C189 '\/' C190 ) & C229 c= R11)) by L730 , L945 , SETFAM_1:def 2;
thus L948: thesis by L947 , L946 , L560;
end;
case L949: (C227 in R1 & C228 in R1 & (ex B228 being (Subset of R1) st (B228 in C190 & C227 in B228 & C228 in B228)));
consider C230 being (Subset of R1) such that L950: C230 in C190 and L951: (C227 in C230 & C228 in C230) by L949;
L952: (ex R11 being set st (R11 in ( C189 '\/' C190 ) & C230 c= R11)) by L731 , L950 , SETFAM_1:def 2;
thus L953: thesis by L952 , L951 , L560;
end;
end;
thus L955: thesis by L943;
end;
L956: ( ( ERl C189 ) \/ ( ERl C190 ) ) c= ( ERl ( C189 '\/' C190 ) ) by L939 , RELAT_1:def 3;
L957: ( ( ERl C189 ) "\/" ( ERl C190 ) ) c= ( ERl ( C189 '\/' C190 ) ) by L956 , EQREL_1:def 2;
thus L958: thesis by L957 , L734 , XBOOLE_0:def 10;
end;
theorem
L959: (for R1 being non  empty set holds (for B229 , B230 being (a_partition of R1) holds ( ERl ( B229 '/\' B230 ) ) = ( ( ERl B229 ) /\ ( ERl B230 ) )))
proof
let R1 being non  empty set;
let C231 , C232 being (a_partition of R1);
L960: C231 '>' ( C231 '/\' C232 ) by L420;
L961: C232 '>' ( C231 '/\' C232 ) by L420;
L962: (for B231 , B232 being set holds ([ B231 , B232 ] in ( ERl ( C231 '/\' C232 ) ) iff [ B231 , B232 ] in ( ( ERl C231 ) /\ ( ERl C232 ) )))
proof
let C233 , C234 being set;
thus L963:now
assume L964: [ C233 , C234 ] in ( ERl ( C231 '/\' C232 ) );
consider C235 being (Subset of R1) such that L965: C235 in ( C231 '/\' C232 ) and L966: (C233 in C235 & C234 in C235) by L964 , L560;
L967: (ex B233 being set st (B233 in C231 & C235 c= B233)) by L960 , L965 , SETFAM_1:def 2;
L968: (ex B234 being set st (B234 in C232 & C235 c= B234)) by L961 , L965 , SETFAM_1:def 2;
L969: [ C233 , C234 ] in ( ERl C231 ) by L966 , L967 , L560;
L970: [ C233 , C234 ] in ( ERl C232 ) by L966 , L968 , L560;
thus L971: [ C233 , C234 ] in ( ( ERl C231 ) /\ ( ERl C232 ) ) by L970 , L969 , XBOOLE_0:def 4;
end;
assume L972: [ C233 , C234 ] in ( ( ERl C231 ) /\ ( ERl C232 ) );
L973: [ C233 , C234 ] in ( ERl C231 ) by L972 , XBOOLE_0:def 4;
L974: [ C233 , C234 ] in ( ERl C232 ) by L972 , XBOOLE_0:def 4;
consider C236 being (Subset of R1) such that L975: C236 in C231 and L976: C233 in C236 and L977: C234 in C236 by L973 , L560;
consider C237 being (Subset of R1) such that L978: C237 in C232 and L979: C233 in C237 and L980: C234 in C237 by L974 , L560;
L981: ( C236 /\ C237 ) <> ( {} ) by L976 , L979 , XBOOLE_0:def 4;
consider C238 being (Subset of R1) such that L982: C238 = ( C236 /\ C237 );
L983: C238 in ( INTERSECTION (C231 , C232) ) by L975 , L978 , L982 , SETFAM_1:def 5;
L984: (not C238 in { ( {} ) }) by L981 , L982 , TARSKI:def 1;
L985: C238 in ( ( INTERSECTION (C231 , C232) ) \ { ( {} ) } ) by L984 , L983 , XBOOLE_0:def 5;
L986: (C233 in C238 & C234 in C238) by L976 , L977 , L979 , L980 , L982 , XBOOLE_0:def 4;
thus L987: thesis by L986 , L985 , L560;
end;
thus L988: thesis by L962 , RELAT_1:def 2;
end;
theorem
L989: (for R1 being non  empty set holds (for B235 , B236 being (a_partition of R1) holds (( ERl B235 ) = ( ERl B236 ) implies B235 = B236)))
proof
let R1 being non  empty set;
let C239 , C240 being (a_partition of R1);
assume L990: ( ERl C239 ) = ( ERl C240 );
L991: (C239 '<' C240 & C240 '<' C239) by L990 , L599;
thus L992: thesis by L991 , L33;
end;
theorem
L993: (for R1 being non  empty set holds (for B237 , B238 , B239 being (a_partition of R1) holds ( ( B237 '\/' B238 ) '\/' B239 ) = ( B237 '\/' ( B238 '\/' B239 ) )))
proof
let R1 being non  empty set;
let C241 , C242 , C243 being (a_partition of R1);
L994: ( ERl ( ( C241 '\/' C242 ) '\/' C243 ) ) = ( ( ERl ( C241 '\/' C242 ) ) "\/" ( ERl C243 ) ) by L729
.= ( ( ( ERl C241 ) "\/" ( ERl C242 ) ) "\/" ( ERl C243 ) ) by L729
.= ( ( ERl C241 ) "\/" ( ( ERl C242 ) "\/" ( ERl C243 ) ) ) by EQREL_1:13
.= ( ( ERl C241 ) "\/" ( ERl ( C242 '\/' C243 ) ) ) by L729
.= ( ERl ( C241 '\/' ( C242 '\/' C243 ) ) ) by L729;
thus L995: thesis by L994 , L989;
end;
theorem
L996: (for R1 being non  empty set holds (for B240 , B241 being (a_partition of R1) holds ( B240 '/\' ( B240 '\/' B241 ) ) = B240))
proof
let R1 being non  empty set;
let C244 , C245 being (a_partition of R1);
L997: (( ERl ( C244 '/\' ( C244 '\/' C245 ) ) ) = ( ( ERl C244 ) /\ ( ERl ( C244 '\/' C245 ) ) ) & ( ( ERl C244 ) /\ ( ERl ( C244 '\/' C245 ) ) ) = ( ( ERl C244 ) /\ ( ( ERl C244 ) "\/" ( ERl C245 ) ) )) by L729 , L959;
thus L998: thesis by L997 , L989 , EQREL_1:16;
end;
theorem
L999: (for R1 being non  empty set holds (for B242 , B243 being (a_partition of R1) holds ( B242 '\/' ( B242 '/\' B243 ) ) = B242))
proof
let R1 being non  empty set;
let C246 , C247 being (a_partition of R1);
L1000: (( ERl ( C246 '\/' ( C246 '/\' C247 ) ) ) = ( ( ERl C246 ) "\/" ( ERl ( C246 '/\' C247 ) ) ) & ( ( ERl C246 ) "\/" ( ERl ( C246 '/\' C247 ) ) ) = ( ( ERl C246 ) "\/" ( ( ERl C246 ) /\ ( ERl C247 ) ) )) by L729 , L959;
thus L1001: thesis by L1000 , L989 , EQREL_1:17;
end;
theorem
L1002: (for R1 being non  empty set holds (for B244 , B245 , B246 being (a_partition of R1) holds ((B244 '<' B246 & B245 '<' B246) implies ( B244 '\/' B245 ) '<' B246)))
proof
let R1 being non  empty set;
let C248 , C249 , C250 being (a_partition of R1);
assume L1003: (C248 '<' C250 & C249 '<' C250);
L1004: (( ERl C248 ) c= ( ERl C250 ) & ( ERl C249 ) c= ( ERl C250 )) by L1003 , L599;
L1005: ( ERl ( C248 '\/' C249 ) ) = ( ( ERl C248 ) "\/" ( ERl C249 ) ) by L729;
L1006: ( ( ERl C248 ) \/ ( ERl C249 ) ) c= ( ERl C250 ) by L1004 , XBOOLE_1:8;
L1007: ( ( ERl C248 ) "\/" ( ERl C249 ) ) c= ( ERl C250 ) by L1006 , EQREL_1:def 2;
thus L1008: thesis by L1007 , L1005 , L599;
end;
theorem
L1009: (for R1 being non  empty set holds (for B247 , B248 , B249 being (a_partition of R1) holds ((B247 '>' B249 & B248 '>' B249) implies ( B247 '/\' B248 ) '>' B249)))
proof
let R1 being non  empty set;
let C251 , C252 , C253 being (a_partition of R1);
assume L1010: (C251 '>' C253 & C252 '>' C253);
L1011: (( ERl C253 ) c= ( ERl C251 ) & ( ERl C253 ) c= ( ERl C252 )) by L1010 , L599;
L1012: ( ERl ( C251 '/\' C252 ) ) = ( ( ERl C251 ) /\ ( ERl C252 ) ) by L959;
L1013: ( ERl C253 ) c= ( ERl ( C251 '/\' C252 ) ) by L1012 , L1011 , XBOOLE_1:19;
thus L1014: thesis by L1013 , L599;
end;
notation
let R1 being non  empty set;
synonym %I R1 for SmallestPartition R1;
end;
definition
let R1 being non  empty set;
func %O R1 -> (a_partition of R1) equals 
{ R1 };
correctness
proof
L1016: ({ R1 } is (Subset-Family of R1) & ( union { R1 } ) = R1) by ZFMISC_1:25 , ZFMISC_1:68;
L1017: (for R5 being (Subset of R1) holds (R5 in { R1 } implies (R5 <> ( {} ) & (for R6 being (Subset of R1) holds (R6 in { R1 } implies (R5 = R6 or R5 misses R6))))))
proof
let R5 being (Subset of R1);
assume L1018: R5 in { R1 };
L1019: R5 = R1 by L1018 , TARSKI:def 1;
thus L1020: R5 <> ( {} ) by L1018 , TARSKI:def 1;
let R6 being (Subset of R1);
assume L1021: R6 in { R1 };
thus L1022: thesis by L1021 , L1019 , TARSKI:def 1;
end;
thus L1023: thesis by L1017 , L1016 , EQREL_1:def 4;
end;
end;
theorem
L1025: (for R1 being non  empty set holds ( %I R1 ) = { R6 where R6 is (Subset of R1) : (ex B250 being set st (R6 = { B250 } & B250 in R1)) })
proof
let R1 being non  empty set;
set D52 = { R6 where R6 is (Subset of R1) : (ex B251 being set st (R6 = { B251 } & B251 in R1)) };
L1026: ( %I R1 ) c= D52
proof
let C254 being set;
assume L1027: C254 in ( %I R1 );
L1028: C254 in { { B252 } where B252 is (Element of R1) : (not contradiction) } by L1027 , EQREL_1:37;
consider C255 being (Element of R1) such that L1029: C254 = { C255 } by L1028;
reconsider D53 = C255 as (Element of R1);
reconsider D54 = { D53 } as (Subset of R1) by ZFMISC_1:31;
L1030: C254 = D54 by L1029;
thus L1031: thesis by L1030;
end;
L1032: D52 c= ( %I R1 )
proof
let R13 being set;
assume L1033: R13 in D52;
L1034: (ex R6 being (Subset of R1) st (R13 = R6 & (ex B253 being set st (R6 = { B253 } & B253 in R1)))) by L1033;
L1035: R13 in { { B254 } where B254 is (Element of R1) : (not contradiction) } by L1034;
thus L1036: thesis by L1035 , EQREL_1:37;
end;
thus L1037: thesis by L1032 , L1026 , XBOOLE_0:def 10;
end;
theorem
L1038: (for R1 being non  empty set holds (for B255 being (a_partition of R1) holds (( %O R1 ) '>' B255 & B255 '>' ( %I R1 ))))
proof
let R1 being non  empty set;
let C256 being (a_partition of R1);
L1039: (for B256 being set holds (B256 in C256 implies (ex B257 being set st (B257 in ( %O R1 ) & B256 c= B257))))
proof
let C257 being set;
assume L1040: C257 in C256;
L1041: C257 c= R1 by L1040;
L1042: C257 <> ( {} ) by L1040 , EQREL_1:def 4;
set D55 = the (Element of C257);
L1043: D55 in R1 by L1040 , L1042 , TARSKI:def 3;
L1044: ( union ( %O R1 ) ) = R1 by EQREL_1:def 4;
consider C258 being set such that L1045: D55 in C258 and L1046: C258 in ( %O R1 ) by L1044 , L1043 , TARSKI:def 4;
L1047: C257 c= C258 by L1041 , L1046 , TARSKI:def 1;
thus L1048: thesis by L1047 , L1046;
end;
L1049: (for B258 being set holds (B258 in ( %I R1 ) implies (ex B259 being set st (B259 in C256 & B258 c= B259))))
proof
let C259 being set;
assume L1050: C259 in ( %I R1 );
L1051: C259 in { { B260 } where B260 is (Element of R1) : (not contradiction) } by L1050 , EQREL_1:37;
consider C260 being (Element of R1) such that L1052: C259 = { C260 } by L1051;
L1053: C259 <> ( {} ) by L1050 , EQREL_1:def 4;
set D56 = the (Element of C259);
L1054: D56 = C260 by L1052 , TARSKI:def 1;
L1055: D56 in R1 by L1050 , L1053 , TARSKI:def 3;
L1056: ( union C256 ) = R1 by EQREL_1:def 4;
consider C261 being set such that L1057: D56 in C261 and L1058: C261 in C256 by L1056 , L1055 , TARSKI:def 4;
L1059: C259 c= C261
proof
let R13 being set;
assume L1060: R13 in C259;
thus L1061: thesis by L1060 , L1052 , L1054 , L1057 , TARSKI:def 1;
end;
thus L1062: thesis by L1059 , L1058;
end;
thus L1063: thesis by L1049 , L1039 , SETFAM_1:def 2;
end;
theorem
L1064: (for R1 being non  empty set holds ( ERl ( %O R1 ) ) = ( nabla R1 ))
proof
let R1 being non  empty set;
L1065: ( nabla R1 ) c= ( ERl ( %O R1 ) )
proof
let C262 , C263 being set;
assume L1066: [ C262 , C263 ] in ( nabla R1 );
L1067: R1 in ( %O R1 ) by TARSKI:def 1;
L1068: (C262 in R1 & C263 in R1) by L1066 , ZFMISC_1:87;
thus L1069: thesis by L1068 , L1067 , L560;
end;
thus L1070: thesis by L1065 , XBOOLE_0:def 10;
end;
theorem
L1071: (for R1 being non  empty set holds ( ERl ( %I R1 ) ) = ( id R1 ))
proof
let R1 being non  empty set;
L1072: ( union ( %I R1 ) ) = R1 by EQREL_1:def 4;
L1073: ( ERl ( %I R1 ) ) c= ( id R1 )
proof
let C264 , C265 being set;
assume L1074: [ C264 , C265 ] in ( ERl ( %I R1 ) );
consider C266 being (Subset of R1) such that L1075: C266 in ( %I R1 ) and L1076: (C264 in C266 & C265 in C266) by L1074 , L560;
L1077: ( %I R1 ) = { { B261 } where B261 is (Element of R1) : (not contradiction) } by EQREL_1:37;
consider C267 being (Element of R1) such that L1078: C266 = { C267 } by L1077 , L1075;
L1079: (C264 = C267 & C265 = C267) by L1076 , L1078 , TARSKI:def 1;
thus L1080: thesis by L1079 , RELAT_1:def 10;
end;
L1081: ( id R1 ) c= ( ERl ( %I R1 ) )
proof
let C268 , C269 being set;
assume L1082: [ C268 , C269 ] in ( id R1 );
L1083: C268 in R1 by L1082 , RELAT_1:def 10;
L1084: C268 = C269 by L1082 , RELAT_1:def 10;
L1085: (ex B262 being set st (C268 in B262 & B262 in ( %I R1 ))) by L1072 , L1083 , TARSKI:def 4;
thus L1086: thesis by L1085 , L1084 , L560;
end;
thus L1087: thesis by L1081 , L1073 , XBOOLE_0:def 10;
end;
theorem
L1088: (for R1 being non  empty set holds ( %I R1 ) '<' ( %O R1 ))
proof
let R1 being non  empty set;
L1089: ( ERl ( %O R1 ) ) = ( nabla R1 ) by L1064
.= [: R1 , R1 :];
L1090: ( ERl ( %I R1 ) ) c= ( ERl ( %O R1 ) ) by L1089;
thus L1091: thesis by L1090 , L599;
end;
theorem
L1092: (for R1 being non  empty set holds (for B263 being (a_partition of R1) holds (( ( %O R1 ) '\/' B263 ) = ( %O R1 ) & ( ( %O R1 ) '/\' B263 ) = B263)))
proof
let R1 being non  empty set;
let C270 being (a_partition of R1);
L1093: ( ERl ( ( %O R1 ) '\/' C270 ) ) = ( ( ERl ( %O R1 ) ) "\/" ( ERl C270 ) ) by L729;
L1094: ( ERl ( %O R1 ) ) = ( nabla R1 ) by L1064;
L1095: ( ( ERl ( %O R1 ) ) \/ ( ERl C270 ) ) = ( ERl ( %O R1 ) ) by L1094 , EQREL_1:1;
L1096: ( ERl ( %O R1 ) ) c= ( ( ERl ( %O R1 ) ) "\/" ( ERl C270 ) ) by L1095 , EQREL_1:def 2;
L1097: ( %O R1 ) '<' ( ( %O R1 ) '\/' C270 ) by L1096 , L1093 , L599;
L1098: ( %O R1 ) '>' ( C270 '\/' ( %O R1 ) ) by L1038;
thus L1099: ( ( %O R1 ) '\/' C270 ) = ( %O R1 ) by L1098 , L1097 , L33;
L1100: (( ERl ( ( %O R1 ) '/\' C270 ) ) = ( ( ERl ( %O R1 ) ) /\ ( ERl C270 ) ) & ( ERl ( %O R1 ) ) = ( nabla R1 )) by L959 , L1064;
thus L1101: ( ( %O R1 ) '/\' C270 ) = C270 by L1100 , L989 , XBOOLE_1:28;
end;
theorem
L1102: (for R1 being non  empty set holds (for B264 being (a_partition of R1) holds (( ( %I R1 ) '\/' B264 ) = B264 & ( ( %I R1 ) '/\' B264 ) = ( %I R1 ))))
proof
let R1 being non  empty set;
let C271 being (a_partition of R1);
L1103: ( ERl ( %I R1 ) ) = ( id R1 ) by L1071;
L1104: (( ERl ( ( %I R1 ) '\/' C271 ) ) = ( ( ERl ( %I R1 ) ) "\/" ( ERl C271 ) ) & ( ( ERl ( %I R1 ) ) \/ ( ERl C271 ) ) c= ( ( ERl ( %I R1 ) ) "\/" ( ERl C271 ) )) by L729 , EQREL_1:def 2;
L1105: ( ( ERl ( %I R1 ) ) \/ ( ERl C271 ) ) = ( ( id R1 ) \/ ( ERl C271 ) ) by L1071;
L1106: ( %I R1 ) '<' C271 by L1038;
L1107: ( ERl ( %I R1 ) ) c= ( ERl C271 ) by L1106 , L599;
L1108: (for B265 being set holds (B265 in ( ( id R1 ) \/ ( ERl C271 ) ) implies B265 in ( ERl C271 )))
proof
let C272 being set;
assume L1109: C272 in ( ( id R1 ) \/ ( ERl C271 ) );
L1110:
now
per cases  by L1109 , XBOOLE_0:def 3;
case L1111: C272 in ( id R1 );
thus L1112: thesis by L1111 , L1103 , L1107;
end;
case L1113: C272 in ( ERl C271 );
thus L1114: thesis by L1113;
end;
end;
thus L1116: thesis by L1110;
end;
L1117: ( ( id R1 ) \/ ( ERl C271 ) ) c= ( ERl C271 ) by L1108 , TARSKI:def 3;
L1118: ( ERl C271 ) c= ( ( id R1 ) \/ ( ERl C271 ) ) by XBOOLE_1:7;
L1119: ( ( id R1 ) \/ ( ERl C271 ) ) = ( ERl C271 ) by L1118 , L1117 , XBOOLE_0:def 10;
L1120: C271 '<' ( ( %I R1 ) '\/' C271 ) by L1119 , L1104 , L1105 , L599;
L1121: ( %I R1 ) '<' C271 by L1038;
L1122: ( ( %I R1 ) '\/' C271 ) '<' C271 by L1121 , L1002;
thus L1123: ( ( %I R1 ) '\/' C271 ) = C271 by L1122 , L1120 , L33;
L1124: ( ERl ( ( %I R1 ) '/\' C271 ) ) = ( ( ERl ( %I R1 ) ) /\ ( ERl C271 ) ) by L959
.= ( ( id R1 ) /\ ( ERl C271 ) ) by L1071
.= ( id R1 ) by EQREL_1:10
.= ( ERl ( %I R1 ) ) by L1071;
thus L1125: ( ( %I R1 ) '/\' C271 ) = ( %I R1 ) by L1124 , L989;
end;
