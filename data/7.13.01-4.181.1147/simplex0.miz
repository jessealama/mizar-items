:: Abstract Simplicial Complexes
::  by Karol P\c{a}k
::
:: Received December 18, 2009
:: Copyright (c) 2009-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies ARYTM_1, XBOOLE_0, CARD_1, CLASSES1, COHSP_1, FINSET_1, FUNCT_1,
      GROUP_4, INT_1, MATROID0, ORDERS_1, PARTFUN1, PRE_TOPC, RELAT_1, RELAT_2,
      NUMBERS, SETFAM_1, SGRAPH1, SUBSET_1, TARSKI, TRIANG_1, WELLORD1,
      ZFMISC_1, SIMPLEX0, XXREAL_0, NAT_1, ORDINAL1, FUNCOP_1, ARYTM_3,
      RCOMP_1, STRUCT_0, GLIB_000, XREAL_0;
 notations TARSKI, XBOOLE_0, SUBSET_1, ZFMISC_1, RELAT_1, RELAT_2, FUNCT_1,
      FUNCT_2, NUMBERS, WELLORD1, ORDINAL1, ORDERS_1, FINSET_1, CARD_1,
      XREAL_0, XXREAL_0, XXREAL_3, NAT_1, INT_1, SETFAM_1, DOMAIN_1, STRUCT_0,
      PRE_TOPC, TOPS_2, PENCIL_1, CLASSES1, MATROID0, RELSET_1, COHSP_1,
      FUNCOP_1;
 constructors SETFAM_1, XXREAL_3, REAL_1, TOPS_2, BORSUK_1, WELLORD1, BINOP_2,
      CLASSES1, COH_SP, MATROID0, COHSP_1, FUNCOP_1, NAT_1;
 registrations PRE_TOPC, CARD_1, COHSP_1, FIB_NUM2, FINSET_1, FUNCT_1, INT_1,
      MATROID0, NAT_1, ORDINAL1, PENCIL_1, REALSET1, RELAT_1, SETFAM_1,
      SUBSET_1, STRUCT_0, XBOOLE_0, XREAL_0, XXREAL_0, XXREAL_3, FUNCOP_1,
      RELSET_1;
 requirements REAL, SUBSET, NUMERALS, ARITHM, BOOLE;
 definitions CLASSES1, COHSP_1, FUNCOP_1,
      FINSET_1, MATROID0, ORDINAL1, SETFAM_1,
      STRUCT_0, SUBSET_1, TARSKI, TOPS_2, VECTSP_1, XBOOLE_0, XXREAL_3;
 theorems CARD_1, CARD_2, CLASSES1, COHSP_1, COMBGRAS,
      FINSET_1, FUNCT_1, FUNCT_2, FUNCOP_1, INT_1, MATROID0, NAT_1, NUMBERS,
      ORDERS_1, ORDINAL1, PENCIL_1, PRE_TOPC, RELAT_1, RELAT_2, SETFAM_1,
      STIRL2_1, SUBSET_1, WELLORD1, WELLORD2, TARSKI, TOPS_2, XREAL_0,
      XBOOLE_0, XBOOLE_1, XREAL_1, XXREAL_0, XXREAL_3, ZFMISC_1;
 schemes CLASSES1, FRAENKEL, FUNCT_2, NAT_1;

begin
notation
let R3 being set;
antonym R3 is  with_empty_element for R3 is  with_non-empty_elements;
end;
registration
cluster  empty ->  subset-closed for set;
coherence
proof
let C1 being set;
assume L2: C1 is  empty;
L3: (for R1 being set holds (for R2 being set holds ((R1 in C1 & R2 c= R1) implies R2 in C1))) by L2;
thus L4: thesis by L3 , CLASSES1:def 1;
end;
cluster  with_empty_element -> non  empty for set;
coherence by SETFAM_1:def 8;
cluster non  empty  subset-closed ->  with_empty_element for set;
coherence
proof
let R3 being set;
assume L5: R3 is non  empty  subset-closed;
consider R1 being set such that L6: R1 in R3 by L5 , XBOOLE_0:def 1;
L7: ( {} ) c= R1 by XBOOLE_1:2;
L8: ( {} ) in R3 by L7 , L5 , L6 , CLASSES1:def 1;
thus L9: thesis by L8;
end;
end;
registration
let R3 being set;
cluster ( Sub_of_Fin R3 ) ->  finite-membered;
coherence
proof
let R1 being set;
assume L11: R1 in ( Sub_of_Fin R3 );
thus L12: thesis by L11 , COHSP_1:def 3;
end;
end;
registration
let C2 being  subset-closed set;
cluster ( Sub_of_Fin C2 ) ->  subset-closed;
coherence
proof
let R1 being set;
let R2 being set;
assume L14: (R1 in ( Sub_of_Fin C2 ) & R2 c= R1);
thus L15: thesis by L14 , CLASSES1:def 1;
end;
end;
theorem
L17: (for R4 being set holds (R4 is  subset-closed iff (for R3 being set holds (R3 in R4 implies ( bool R3 ) c= R4))))
proof
let R4 being set;
thus L18:now
assume L19: R4 is  subset-closed;
let R3 being set;
assume L20: R3 in R4;
thus L21: ( bool R3 ) c= R4
proof
let C3 being set;
assume L22: C3 in ( bool R3 );
thus L23: thesis by L22 , L19 , L20 , CLASSES1:def 1;
end;

end;
assume L22: (for R3 being set holds (R3 in R4 implies ( bool R3 ) c= R4));
let R1 being set;
let R2 being set;
assume that
L23: R1 in R4
and
L24: R2 c= R1;
L25: R2 in ( bool R1 ) by L24;
L26: ( bool R1 ) c= R4 by L22 , L23;
thus L27: thesis by L26 , L25;
end;
registration
let C4 , C5 being  subset-closed set;
cluster ( C4 \/ C5 ) ->  subset-closed;
coherence
proof
let R1 being set;
let R2 being set;
assume that
L28: R1 in ( C4 \/ C5 )
and
L29: R2 c= R1;
L30: (R1 in C4 or R1 in C5) by L28 , XBOOLE_0:def 3;
L31: (R2 in C4 or R2 in C5) by L30 , L29 , CLASSES1:def 1;
thus L32: R2 in ( C4 \/ C5 ) by L31 , XBOOLE_0:def 3;
end;
cluster ( C4 /\ C5 ) ->  subset-closed;
coherence
proof
let R1 being set;
let R2 being set;
assume that
L33: R1 in ( C4 /\ C5 )
and
L34: R2 c= R1;
L35: R1 in C5 by L33 , XBOOLE_0:def 4;
L36: R2 in C5 by L35 , L34 , CLASSES1:def 1;
L37: R1 in C4 by L33 , XBOOLE_0:def 4;
L38: R2 in C4 by L37 , L34 , CLASSES1:def 1;
thus L39: R2 in ( C4 /\ C5 ) by L38 , L36 , XBOOLE_0:def 4;
end;
end;
L41: (for R3 being set holds (ex B1 being  subset-closed set st (B1 = ( union { ( bool B2 ) where B2 is (Element of R3) : B2 in R3 } ) & R3 c= B1 & (for R4 being set holds ((R3 c= R4 & R4 is  subset-closed) implies B1 c= R4)))))
proof
let R3 being set;
set D1 = { ( bool B3 ) where B3 is (Element of R3) : B3 in R3 };
L42:
now
let C6 , C7 being set;
assume that
L43: C6 in ( union D1 )
and
L44: C7 c= C6;
consider R2 being set such that L45: C6 in R2 and L46: R2 in D1 by L43 , TARSKI:def 4;
consider C8 being (Element of R3) such that L47: R2 = ( bool C8 ) and L48: C8 in R3 by L46;
L49: C7 c= C8 by L44 , L45 , L47 , XBOOLE_1:1;
thus L50: C7 in ( union D1 ) by L49 , L46 , L47 , TARSKI:def 4;
end;
reconsider D2 = ( union D1 ) as  subset-closed set by L42 , CLASSES1:def 1;
take D2;
thus L51: D2 = ( union D1 );
thus L52: R3 c= D2
proof
let R1 being set;
assume that
L53: R1 in R3;
L54: (R1 c= R1 & ( bool R1 ) in D1) by L53;
thus L55: thesis by L54 , TARSKI:def 4;
end;

let R4 being set;
assume that
L56: (R3 c= R4 & R4 is  subset-closed);
let R1 being set;
assume L57: R1 in D2;
consider R2 being set such that L58: R1 in R2 and L59: R2 in D1 by L57 , TARSKI:def 4;
L60: (ex B4 being (Element of R3) st (R2 = ( bool B4 ) & B4 in R3)) by L59;
thus L61: R1 in R4 by L60 , L56 , L58 , CLASSES1:def 1;
end;
definition
let R3 being set;
func subset-closed_closure_of R3 ->  subset-closed set means 
:L62: (R3 c= it & (for R4 being set holds ((R3 c= R4 & R4 is  subset-closed) implies it c= R4)));
existence
proof
L63: (ex B5 being  subset-closed set st (B5 = ( union { ( bool B6 ) where B6 is (Element of R3) : B6 in R3 } ) & R3 c= B5 & (for R4 being set holds ((R3 c= R4 & R4 is  subset-closed) implies B5 c= R4)))) by L41;
thus L64: thesis by L63;
end;
uniqueness
proof
let C9 , C10 being  subset-closed set;
assume L65: (R3 c= C9 & (for R4 being set holds ((R3 c= R4 & R4 is  subset-closed) implies C9 c= R4)) & R3 c= C10 & (for R4 being set holds ((R3 c= R4 & R4 is  subset-closed) implies C10 c= R4)));
L66: (C9 c= C10 & C10 c= C9) by L65;
thus L67: thesis by L66 , XBOOLE_0:def 10;
end;
end;
theorem
L69: (for R1 being set holds (for R3 being set holds (R1 in ( subset-closed_closure_of R3 ) iff (ex R2 being set st (R1 c= R2 & R2 in R3)))))
proof
let R1 being set;
let R3 being set;
set D3 = { ( bool B7 ) where B7 is (Element of R3) : B7 in R3 };
consider C11 being  subset-closed set such that L70: C11 = ( union D3 ) and L71: (R3 c= C11 & (for R4 being set holds ((R3 c= R4 & R4 is  subset-closed) implies C11 c= R4))) by L41;
L72: C11 = ( subset-closed_closure_of R3 ) by L71 , L62;
thus L73:now
assume L74: R1 in ( subset-closed_closure_of R3 );
consider R2 being set such that L75: R1 in R2 and L76: R2 in D3 by L74 , L70 , L72 , TARSKI:def 4;
consider C12 being (Element of R3) such that L77: (( bool C12 ) = R2 & C12 in R3) by L76;
reconsider D4 = C12 as set;
take D5 = D4;
thus L78: (R1 c= D5 & D5 in R3) by L75 , L77;
end;
given R2 being set such that
L79: R1 c= R2
and
L80: R2 in R3;

L81: ( bool R2 ) in D3 by L80;
thus L82: thesis by L81 , L70 , L72 , L79 , TARSKI:def 4;
end;
definition
let R3 being set;
let C13 being (Subset-Family of R3);
redefine func subset-closed_closure_of C13 ->  subset-closed (Subset-Family of R3);

coherence
proof
set D6 = ( subset-closed_closure_of C13 );
L83: D6 c= ( bool R3 )
proof
let C14 being set;
assume L84: C14 in D6;
L85: (ex R2 being set st (C14 c= R2 & R2 in C13)) by L84 , L69;
L86: C14 c= R3 by L85 , XBOOLE_1:1;
thus L87: thesis by L86;
end;
thus L88: thesis by L83;
end;
end;
registration
cluster ( subset-closed_closure_of ( {} ) ) ->  empty;
coherence
proof
assume L90: ( subset-closed_closure_of ( {} ) ) is non  empty;
consider C15 being set such that L91: C15 in ( subset-closed_closure_of ( {} ) ) by L90 , XBOOLE_0:def 1;
L92: (ex R2 being set st (C15 c= R2 & R2 in ( {} ))) by L91 , L69;
thus L93: thesis by L92;
end;
let C16 being non  empty set;
cluster ( subset-closed_closure_of C16 ) -> non  empty;
coherence
proof
L94: (ex R1 being set st R1 in C16) by XBOOLE_0:def 1;
thus L95: thesis by L94 , L69;
end;
end;
registration
let C17 being  with_non-empty_element set;
cluster ( subset-closed_closure_of C17 ) ->  with_non-empty_element;
coherence
proof
consider C18 being non  empty set such that L97: C18 in C17 by SETFAM_1:def 10;
L98: C18 in ( subset-closed_closure_of C17 ) by L97 , L69;
thus L99: thesis by L98 , SETFAM_1:def 10;
end;
end;
registration
let C19 being  finite-membered set;
cluster ( subset-closed_closure_of C19 ) ->  finite-membered;
coherence
proof
let C20 being set;
assume L101: C20 in ( subset-closed_closure_of C19 );
consider R2 being set such that L102: C20 c= R2 and L103: R2 in C19 by L101 , L69;
L104: R2 is  finite by L103;
thus L105: thesis by L104 , L102;
end;
end;
theorem
L107: (for R3 being set holds (for R4 being set holds ((R3 c= R4 & R4 is  subset-closed) implies ( subset-closed_closure_of R3 ) c= R4)))
proof
let R3 being set;
let R4 being set;
assume L108: (R3 c= R4 & R4 is  subset-closed);
let R1 being set;
assume L109: R1 in ( subset-closed_closure_of R3 );
L110: (ex R2 being set st (R1 c= R2 & R2 in R3)) by L109 , L69;
thus L111: thesis by L110 , L108 , CLASSES1:def 1;
end;
theorem
L112: (for R3 being set holds ( subset-closed_closure_of { R3 } ) = ( bool R3 ))
proof
let R3 being set;
set D7 = ( subset-closed_closure_of { R3 } );
L113: R3 in { R3 } by TARSKI:def 1;
thus L114:now
let R1 being set;
assume L115: R1 in D7;
consider R2 being set such that L116: R1 c= R2 and L117: R2 in { R3 } by L115 , L69;
L118: R2 = R3 by L117 , TARSKI:def 1;
thus L119: R1 in ( bool R3 ) by L118 , L116;
end;
let R1 being set;
assume L120: R1 in ( bool R3 );
thus L121: thesis by L120 , L113 , L69;
end;
theorem
L122: (for R3 being set holds (for R4 being set holds ( subset-closed_closure_of ( R3 \/ R4 ) ) = ( ( subset-closed_closure_of R3 ) \/ ( subset-closed_closure_of R4 ) )))
proof
let R3 being set;
let R4 being set;
set D8 = ( subset-closed_closure_of ( R3 \/ R4 ) );
set D9 = ( subset-closed_closure_of R3 );
set D10 = ( subset-closed_closure_of R4 );
thus L123:now
let R1 being set;
assume L124: R1 in D8;
consider R2 being set such that L125: R1 c= R2 and L126: R2 in ( R3 \/ R4 ) by L124 , L69;
L127: (R2 in R3 or R2 in R4) by L126 , XBOOLE_0:def 3;
L128: (R1 in D9 or R1 in D10) by L127 , L125 , L69;
thus L129: R1 in ( D9 \/ D10 ) by L128 , XBOOLE_0:def 3;
end;
let R1 being set;
assume L130: R1 in ( D9 \/ D10 );
per cases  by L130 , XBOOLE_0:def 3;
suppose L131: R1 in D9;

consider R2 being set such that L132: R1 c= R2 and L133: R2 in R3 by L131 , L69;
L134: R2 in ( R3 \/ R4 ) by L133 , XBOOLE_0:def 3;
thus L135: thesis by L134 , L132 , L69;
end;
suppose L136: R1 in D10;

consider R2 being set such that L137: R1 c= R2 and L138: R2 in R4 by L136 , L69;
L139: R2 in ( R3 \/ R4 ) by L138 , XBOOLE_0:def 3;
thus L140: thesis by L139 , L137 , L69;
end;
end;
theorem
L142: (for R3 being set holds (for R4 being set holds (R3 is_finer_than R4 iff ( subset-closed_closure_of R3 ) c= ( subset-closed_closure_of R4 ))))
proof
let R3 being set;
let R4 being set;
set D11 = ( subset-closed_closure_of R3 );
set D12 = ( subset-closed_closure_of R4 );
thus L143:now
assume L144: R3 is_finer_than R4;
thus L145: D11 c= D12
proof
let R1 being set;
assume L146: R1 in D11;
consider R2 being set such that L147: R1 c= R2 and L148: R2 in R3 by L146 , L69;
consider C21 being set such that L149: C21 in R4 and L150: R2 c= C21 by L144 , L148 , SETFAM_1:def 2;
L151: R1 c= C21 by L147 , L150 , XBOOLE_1:1;
thus L152: thesis by L151 , L149 , L69;
end;

end;
assume L146: D11 c= D12;
let R1 being set;
assume L147: R1 in R3;
L148: R1 in D11 by L147 , L69;
L149: (ex R2 being set st (R1 c= R2 & R2 in R4)) by L148 , L146 , L69;
thus L150: thesis by L149;
end;
theorem
L151: (for R3 being set holds (R3 is  subset-closed implies ( subset-closed_closure_of R3 ) = R3))
proof
let R3 being set;
set D13 = ( subset-closed_closure_of R3 );
assume L152: R3 is  subset-closed;
thus L153: D13 c= R3
proof
let R1 being set;
assume L154: R1 in D13;
L155: (ex R2 being set st (R1 c= R2 & R2 in R3)) by L154 , L69;
thus L156: R1 in R3 by L155 , L152 , CLASSES1:def 1;
end;

thus L157: thesis by L62;
end;
theorem
L158: (for R3 being set holds (( subset-closed_closure_of R3 ) c= R3 implies R3 is  subset-closed))
proof
let R3 being set;
set D14 = ( subset-closed_closure_of R3 );
assume L159: D14 c= R3;
let R1 being set;
let R2 being set;
assume L160: (R1 in R3 & R2 c= R1);
L161: R2 in D14 by L160 , L69;
thus L162: R2 in R3 by L161 , L159;
end;
definition
let R4 being set;
let R3 being set;
let C22 being set;
func the_subsets_with_limited_card (C22 , R3 , R4) -> (Subset-Family of R4) means 
:L163: (for B8 being (Subset of R4) holds (B8 in it iff (B8 in R3 & ( card B8 ) c= ( card C22 ))));
existence
proof
set D15 = { B9 where B9 is (Subset of R4) : (B9 in R3 & ( card B9 ) c= ( card C22 )) };
L164: D15 c= ( bool R4 )
proof
let R1 being set;
assume L165: R1 in D15;
L166: (ex B10 being (Subset of R4) st (R1 = B10 & B10 in R3 & ( card B10 ) c= ( card C22 ))) by L165;
thus L167: thesis by L166;
end;
reconsider D16 = D15 as (Subset-Family of R4) by L164;
take D16;
let C23 being (Subset of R4);
thus L168:now
assume L169: C23 in D16;
L170: (ex B11 being (Subset of R4) st (B11 = C23 & B11 in R3 & ( card B11 ) c= ( card C22 ))) by L169;
thus L171: (C23 in R3 & ( card C23 ) c= ( card C22 )) by L170;
end;
assume L172: (C23 in R3 & ( card C23 ) c= ( card C22 ));
thus L173: thesis by L172;
end;
uniqueness
proof
let C24 , C25 being (Subset-Family of R4);
assume that
L174: (for B12 being (Subset of R4) holds (B12 in C24 iff (B12 in R3 & ( card B12 ) c= ( card C22 ))))
and
L175: (for B13 being (Subset of R4) holds (B13 in C25 iff (B13 in R3 & ( card B13 ) c= ( card C22 ))));
thus L176: C24 c= C25
proof
let R1 being set;
assume L177: R1 in C24;
L178: (R1 in R3 & ( card R1 ) c= ( card C22 )) by L177 , L174;
thus L179: thesis by L178 , L175 , L177;
end;

let R1 being set;
assume L180: R1 in C25;
L181: (R1 in R3 & ( card R1 ) c= ( card C22 )) by L180 , L175;
thus L182: thesis by L181 , L174 , L180;
end;
end;
registration
let R6 being non  empty set;
cluster  finite  with_non-empty_element  subset-closed  finite-membered for (Subset-Family of R6);
existence
proof
consider C26 being set such that L184: C26 in R6 by XBOOLE_0:def 1;
L185: { C26 } c= R6 by L184 , ZFMISC_1:31;
reconsider D17 = ( bool { C26 } ) as (Subset-Family of R6) by L185 , ZFMISC_1:67;
take D17;
L186: { C26 } in ( bool { C26 } ) by ZFMISC_1:def 1;
thus L187: thesis by L186 , SETFAM_1:def 10;
end;
end;
registration
let R4 being set;
let R3 being set;
let C27 being  finite set;
cluster ( the_subsets_with_limited_card (C27 , R3 , R4) ) ->  finite-membered;
coherence
proof
let C28 being set;
assume L189: C28 in ( the_subsets_with_limited_card (C27 , R3 , R4) );
L190: ( card C28 ) c= ( card C27 ) by L189 , L163;
thus L191: thesis by L190;
end;
end;
registration
let R4 being set;
let C29 being  subset-closed set;
let C30 being set;
cluster ( the_subsets_with_limited_card (C30 , C29 , R4) ) ->  subset-closed;
coherence
proof
let R1 being set;
let R2 being set;
assume that
L193: R1 in ( the_subsets_with_limited_card (C30 , C29 , R4) )
and
L194: R2 c= R1;
L195: R1 in C29 by L193 , L163;
L196: R2 in C29 by L195 , L194 , CLASSES1:def 1;
L197: (( card R1 ) c= ( card C30 ) & ( card R2 ) c= ( card R1 )) by L193 , L194 , L163 , CARD_1:11;
L198: ( card R2 ) c= ( card C30 ) by L197 , XBOOLE_1:1;
L199: R2 c= R4 by L193 , L194 , XBOOLE_1:1;
thus L200: thesis by L199 , L196 , L198 , L163;
end;
end;
registration
let R4 being set;
let C31 being  with_empty_element set;
let C32 being set;
cluster ( the_subsets_with_limited_card (C32 , C31 , R4) ) ->  with_empty_element;
coherence
proof
L202: ( {} ) c= R4 by XBOOLE_1:2;
L203: (( card ( {} ) ) c= ( card C32 ) & ( {} ) in C31) by SETFAM_1:def 8;
L204: ( {} ) in ( the_subsets_with_limited_card (C32 , C31 , R4) ) by L203 , L202 , L163;
thus L205: thesis by L204;
end;
end;
registration
let R6 being non  empty set;
let C33 being  with_non-empty_element  subset-closed (Subset-Family of R6);
let C34 being non  empty set;
cluster ( the_subsets_with_limited_card (C34 , C33 , R6) ) ->  with_non-empty_element;
coherence
proof
consider C35 being non  empty set such that L207: C35 in C33 by SETFAM_1:def 10;
consider C36 being set such that L208: C36 in C35 by XBOOLE_0:def 1;
L209: ( {} ) c= ( card C34 );
L210: ( {} ) in ( card C34 ) by L209 , CARD_1:3;
L211: 1 c= ( card C34 ) by L210 , CARD_2:68;
L212: ( card { C36 } ) c= ( card C34 ) by L211 , CARD_1:30;
L213: { C36 } c= C35 by L208 , ZFMISC_1:31;
L214: { C36 } in C33 by L213 , L207 , CLASSES1:def 1;
L215: { C36 } in ( the_subsets_with_limited_card (C34 , C33 , R6) ) by L214 , L212 , L163;
thus L216: thesis by L215 , SETFAM_1:def 10;
end;
end;
notation
let R3 being set;
let C37 being (Subset-Family of R3);
let C38 being set;
synonym the_subsets_with_limited_card (C38 , C37) for the_subsets_with_limited_card (C38 , C37 , R3);
end;
theorem
L219: (for R3 being set holds (R3 is non  empty  finite  c=-linear implies ( union R3 ) in R3))
proof
let R3 being set;
assume L220: R3 is non  empty  finite  c=-linear;
consider C39 being set such that L221: C39 in R3 and L222: (for R1 being set holds (R1 in R3 implies R1 c= C39)) by L220 , FINSET_1:12;
L223: ( union R3 ) c= C39
proof
let R1 being set;
assume L224: R1 in ( union R3 );
consider R2 being set such that L225: R1 in R2 and L226: R2 in R3 by L224 , TARSKI:def 4;
L227: R2 c= C39 by L222 , L226;
thus L228: thesis by L227 , L225;
end;
L229: C39 c= ( union R3 ) by L221 , ZFMISC_1:74;
thus L230: thesis by L229 , L221 , L223 , XBOOLE_0:def 10;
end;
theorem
L231: (for B14 being  finite  c=-linear set holds (B14 is  with_non-empty_elements implies ( card B14 ) c= ( card ( union B14 ) )))
proof
let C40 being  finite  c=-linear set;
defpred S1[ Nat ] means (for B15 being  finite  c=-linear set holds ((B15 is  with_non-empty_elements & ( card ( union B15 ) ) = $1) implies ( card B15 ) c= ( card ( union B15 ) )));
defpred S2[ Nat ] means (for B16 being Nat holds (B16 <= $1 implies S1[ B16 ]));
assume L232: C40 is  with_non-empty_elements;
L233: (for B17 being Nat holds (S2[ B17 ] implies S2[ ( B17 + 1 ) ]))
proof
let C41 being Nat;
assume that
L234: S2[ C41 ];
let C42 being Nat;
assume L235: C42 <= ( C41 + 1 );
let C43 being  finite  c=-linear set;
assume that
L236: C43 is  with_non-empty_elements
and
L237: ( card ( union C43 ) ) = C42;
reconsider D18 = ( union C43 ) as  finite set by L237;
reconsider D19 = ( C43 \ { D18 } ) as  finite  c=-linear set;
per cases  by L235 , NAT_1:8;
suppose L238: C42 <= C41;

thus L239: thesis by L238 , L234 , L236 , L237;
end;
suppose L240: C42 = ( C41 + 1 );

L241: C43 is non  empty by L240 , L237 , ZFMISC_1:2;
L242: C43 = ( D19 \/ { D18 } ) by L241 , L219 , ZFMISC_1:116;
L243: D18 = ( ( union D19 ) \/ ( union { D18 } ) ) by L242 , ZFMISC_1:78
.= ( ( union D19 ) \/ D18 ) by ZFMISC_1:25;
L244: ( union D19 ) c= D18 by L243 , XBOOLE_1:11;
reconsider D20 = ( union D19 ) as  finite set by L244;
L245: D20 <> D18
proof
assume L246: D20 = D18;
L247: D19 is non  empty by L246 , L237 , L240 , ZFMISC_1:2;
L248: D18 in D19 by L247 , L246 , L219;
thus L249: thesis by L248 , ZFMISC_1:56;
end;
L250: D20 c< D18 by L245 , L244 , XBOOLE_0:def 8;
L251: ( card D20 ) < ( C41 + 1 ) by L250 , L237 , L240 , CARD_2:48;
L252: ( card D20 ) <= C41 by L251 , NAT_1:13;
L253: ( card D19 ) c= ( card D20 ) by L252 , L234 , L236;
L254: ( card D19 ) <= ( card D20 ) by L253 , NAT_1:39;
L255: ( card D19 ) < ( card D18 ) by L254 , L250 , CARD_2:48 , XXREAL_0:2;
L256: ( 1 + ( card D19 ) ) <= ( card D18 ) by L255 , NAT_1:13;
L257: (not D18 in D19) by ZFMISC_1:56;
L258: ( 1 + ( card D19 ) ) = ( card C43 ) by L257 , L242 , CARD_2:41;
thus L259: thesis by L258 , L256 , NAT_1:39;
end;
end;
L261: S2[ (( 0 ) qua Nat) ]
proof
let C44 being Nat;
assume L262: C44 <= ( 0 );
let C45 being  finite  c=-linear set;
assume that
L263: (C45 is  with_non-empty_elements & ( card ( union C45 ) ) = C44);
L264: C45 is  empty by L262 , L263;
thus L265: thesis by L264;
end;
L266: (for B18 being Nat holds S2[ B18 ]) from NAT_1:sch 2(L261 , L233);
thus L267: thesis by L266 , L232;
end;
theorem
L268: (for R1 being set holds (for R3 being set holds (R3 is  c=-linear implies ( R3 \/ { ( ( union R3 ) \/ R1 ) } ) is  c=-linear)))
proof
let R1 being set;
let R3 being set;
assume that
L269: R3 is  c=-linear;
set D21 = ( union R3 );
set D22 = ( D21 \/ R1 );
L270: D21 c= D22 by XBOOLE_1:7;
let C46 , C47 being set;
assume that
L271: (C46 in ( R3 \/ { D22 } ) & C47 in ( R3 \/ { D22 } ));
per cases  by L271 , XBOOLE_0:def 3;
suppose L272: (C46 in R3 & C47 in R3);

thus L273: thesis by L272 , L269 , ORDINAL1:def 8;
end;
suppose L274: (C46 in { D22 } & C47 in { D22 });

L275: C46 = D22 by L274 , TARSKI:def 1;
thus L276: thesis by L275 , L274 , TARSKI:def 1;
end;
suppose L277: (C46 in R3 & C47 in { D22 });

L278: (C46 c= D21 & C47 = D22) by L277 , TARSKI:def 1 , ZFMISC_1:74;
L279: C46 c= C47 by L278 , L270 , XBOOLE_1:1;
thus L280: thesis by L279 , XBOOLE_0:def 9;
end;
suppose L281: (C47 in R3 & C46 in { D22 });

L282: (C47 c= D21 & C46 = D22) by L281 , TARSKI:def 1 , ZFMISC_1:74;
L283: C47 c= C46 by L282 , L270 , XBOOLE_1:1;
thus L284: thesis by L283 , XBOOLE_0:def 9;
end;
end;
theorem
L286: (for B19 being non  empty set holds (ex B20 being (Subset-Family of B19) st (B20 is  with_non-empty_elements  c=-linear & B19 in B20 & ( card B19 ) = ( card B20 ) & (for R5 being set holds ((R5 in B20 & ( card R5 ) <> 1) implies (ex R1 being set st (R1 in R5 & ( R5 \ { R1 } ) in B20)))))))
proof
let C48 being non  empty set;
consider C49 being Relation such that L287: C49 well_orders C48 by WELLORD2:17;
set D23 = ( C49 |_2 C48 );
deffunc H1(set) = ( C48 \ ( D23 -Seg $1 ) );
L288: (for R1 being set holds (R1 in C48 implies H1(R1) in ( bool C48 )));
consider C50 being (Function of C48 , ( bool C48 )) such that L289: (for R1 being set holds (R1 in C48 implies ( C50 . R1 ) = H1(R1))) from FUNCT_2:sch 2(L288);
take D24 = ( rng C50 );
L290: ( dom C50 ) = C48 by FUNCT_2:def 1;
thus L291: D24 is  with_non-empty_elements
proof
assume L292: D24 is  with_empty_element;
L293: ( {} ) in D24 by L292 , SETFAM_1:def 8;
consider R1 being set such that L294: R1 in ( dom C50 ) and L295: ( C50 . R1 ) = ( {} ) by L293 , FUNCT_1:def 3;
L296: ( {} ) = H1(R1) by L289 , L294 , L295;
L297: C48 c= ( D23 -Seg R1 ) by L296 , XBOOLE_1:37;
thus L298: thesis by L297 , L290 , L294 , WELLORD1:1;
end;

thus L299: D24 is  c=-linear
proof
let R1 being set;
let R2 being set;
assume that
L300: R1 in D24
and
L301: R2 in D24;
consider C51 being set such that L302: (C51 in ( dom C50 ) & ( C50 . C51 ) = R1) by L300 , FUNCT_1:def 3;
consider C52 being set such that L303: (C52 in ( dom C50 ) & ( C50 . C52 ) = R2) by L301 , FUNCT_1:def 3;
L304: ( D23 -Seg C51 ) , ( D23 -Seg C52 ) are_c=-comparable  by L287 , WELLORD1:26 , WELLORD2:16;
L305: (( D23 -Seg C51 ) c= ( D23 -Seg C52 ) or ( D23 -Seg C52 ) c= ( D23 -Seg C51 )) by L304 , XBOOLE_0:def 9;
L306: (H1(C52) c= H1(C51) or H1(C51) c= H1(C52)) by L305 , XBOOLE_1:34;
L307: H1(C51) , H1(C52) are_c=-comparable  by L306 , XBOOLE_0:def 9;
L308: R1 = H1(C51) by L289 , L302;
thus L309: thesis by L308 , L289 , L303 , L307;
end;

L310: ( field D23 ) = C48 by L287 , WELLORD2:16;
consider R1 being set such that L311: R1 in C48 and L312: (for R2 being set holds (R2 in C48 implies [ R1 , R2 ] in D23)) by L310 , L287 , WELLORD1:7 , WELLORD2:16;
L313: D23 is  well-ordering by L287 , WELLORD2:16;
L314: D23 is  well_founded by L313 , WELLORD1:def 4;
L315: D23 is  antisymmetric by L313 , WELLORD1:def 4;
L316: D23 is_antisymmetric_in C48 by L315 , L310 , RELAT_2:def 12;
L317: ( D23 -Seg R1 ) = ( {} )
proof
assume L318: ( D23 -Seg R1 ) <> ( {} );
consider R2 being set such that L319: R2 in ( D23 -Seg R1 ) by L318 , XBOOLE_0:def 1;
L320: R2 <> R1 by L319 , WELLORD1:1;
L321: [ R2 , R1 ] in D23 by L319 , WELLORD1:1;
L322: R1 in C48 by L321 , L310 , RELAT_1:15;
L323: R2 in C48 by L310 , L321 , RELAT_1:15;
L324: [ R1 , R2 ] in D23 by L323 , L312;
thus L325: thesis by L324 , L316 , L320 , L321 , L322 , L323 , RELAT_2:def 4;
end;
L326: ( C50 . R1 ) = H1(R1) by L289 , L311;
thus L327: C48 in D24 by L326 , L290 , L311 , L317 , FUNCT_1:def 3;
L328:
now
let C53 , C54 being set;
reconsider D25 = ( D23 -Seg C53 ) , D26 = ( D23 -Seg C54 ) as (Subset of C48) by L310 , WELLORD1:9;
assume that
L329: (C53 in C48 & C54 in C48)
and
L330: ( C50 . C53 ) = ( C50 . C54 );
L331: (( D25 ` ) = ( C50 . C53 ) & ( C50 . C54 ) = ( D26 ` )) by L289 , L329;
L332: D25 = D26 by L331 , L330 , SUBSET_1:42;
L333: ([ C53 , C54 ] in D23 & [ C54 , C53 ] in D23) by L332 , L310 , L313 , L329 , WELLORD1:29;
thus L334: C53 = C54 by L333 , L316 , L329 , RELAT_2:def 4;
end;
L335: C50 is  one-to-one by L328 , FUNCT_2:19;
L336: C48 , D24 are_equipotent  by L335 , L290 , WELLORD2:def 4;
thus L337: ( card C48 ) = ( card D24 ) by L336 , CARD_1:5;
let R5 being set;
assume that
L338: R5 in D24
and
L339: ( card R5 ) <> 1;
consider R1 being set such that L340: R1 in ( dom C50 ) and L341: ( C50 . R1 ) = R5 by L338 , FUNCT_1:def 3;
L342: { R1 } c= C48 by L340 , ZFMISC_1:31;
take R1;
L343: (not R1 in ( D23 -Seg R1 )) by WELLORD1:1;
L344: R5 = ( C48 \ ( D23 -Seg R1 ) ) by L289 , L340 , L341;
thus L345: R1 in R5 by L344 , L340 , L343 , XBOOLE_0:def 5;
L346: ( D23 -Seg R1 ) c= C48 by L310 , WELLORD1:9;
reconsider D27 = ( ( D23 -Seg R1 ) \/ { R1 } ) as (Subset of C48) by L346 , L342 , XBOOLE_1:8;
L347: ( C48 \ D27 ) <> ( {} )
proof
assume L348: ( C48 \ D27 ) = ( {} );
L349: C48 c= D27 by L348 , XBOOLE_1:37;
L350: R5 = ( D27 \ ( D23 -Seg R1 ) ) by L349 , L344 , XBOOLE_0:def 10
.= ( { R1 } \ ( D23 -Seg R1 ) ) by XBOOLE_1:40
.= { R1 } by L343 , ZFMISC_1:59;
thus L351: contradiction by L350 , L339 , CARD_1:30;
end;
consider C55 being set such that L352: C55 in ( D27 ` ) and L353: ( D23 -Seg C55 ) misses ( D27 ` ) by L347 , L310 , L314 , WELLORD1:def 2;
L354: (not C55 in D27) by L352 , XBOOLE_0:def 5;
L355: R1 in { R1 } by TARSKI:def 1;
L356: R1 <> C55 by L355 , L354 , XBOOLE_0:def 3;
L357: D23 is  connected by L313 , WELLORD1:def 4;
L358: D23 is_connected_in C48 by L357 , L310 , RELAT_2:def 14;
L359: ([ R1 , C55 ] in D23 or [ C55 , R1 ] in D23) by L358 , L340 , L352 , L356 , RELAT_2:def 6;
L360: (not C55 in ( D23 -Seg R1 )) by L354 , XBOOLE_0:def 3;
L361: R1 in ( D23 -Seg C55 ) by L360 , L356 , L359 , WELLORD1:1;
L362: { R1 } c= ( D23 -Seg C55 ) by L361 , ZFMISC_1:31;
L363: ( D23 -Seg C55 ) c= C48 by L310 , WELLORD1:9;
L364: ( D23 -Seg C55 ) c= D27 by L363 , L353 , SUBSET_1:24;
L365: ( D23 -Seg R1 ) c= ( D23 -Seg C55 ) by L310 , L313 , L340 , L352 , L359 , L360 , WELLORD1:1 , WELLORD1:29;
L366: D27 c= ( D23 -Seg C55 ) by L365 , L362 , XBOOLE_1:8;
L367: D27 = ( D23 -Seg C55 ) by L366 , L364 , XBOOLE_0:def 10;
L368: ( C50 . C55 ) = ( C48 \ D27 ) by L367 , L289 , L352
.= ( ( C48 \ ( D23 -Seg R1 ) ) \ { R1 } ) by XBOOLE_1:41
.= ( R5 \ { R1 } ) by L289 , L340 , L341;
thus L369: thesis by L368 , L290 , L352 , FUNCT_1:def 3;
end;
theorem
L370: (for R3 being set holds (for B21 being (Subset-Family of R3) holds ((B21 is  finite  with_non-empty_elements  c=-linear & R3 in B21) implies (ex B22 being (Subset-Family of R3) st (B21 c= B22 & B22 is  with_non-empty_elements  c=-linear & ( card R3 ) = ( card B22 ) & (for R5 being set holds ((R5 in B22 & ( card R5 ) <> 1) implies (ex R1 being set st (R1 in R5 & ( R5 \ { R1 } ) in B22)))))))))
proof
let R3 being set;
let C56 being (Subset-Family of R3);
assume that
L371: C56 is  finite  with_non-empty_elements  c=-linear
and
L372: R3 in C56;
defpred S3[ set , set ] means ($1 in $2 & $2 in C56 & (for R2 being set holds ((R2 in C56 & $1 in R2) implies $2 c= R2)));
L373: (for R1 being set holds (R1 in R3 implies (ex R2 being set st S3[ R1 , R2 ])))
proof
let R1 being set;
set D28 = { B23 where B23 is (Subset of R3) : (R1 in B23 & B23 in C56) };
L374: D28 c= C56
proof
let R2 being set;
assume L375: R2 in D28;
L376: (ex B24 being (Subset of R3) st (R2 = B24 & R1 in B24 & B24 in C56)) by L375;
thus L377: thesis by L376;
end;
reconsider D29 = D28 as (Subset-Family of R3) by L374 , XBOOLE_1:1;
assume L378: R1 in R3;
L379: R3 in D29 by L378 , L372;
consider C57 being set such that L380: C57 in D29 and L381: (for R2 being set holds (R2 in D29 implies C57 c= R2)) by L379 , L371 , L374 , FINSET_1:11;
take C57;
L382: (ex B25 being (Subset of R3) st (C57 = B25 & R1 in B25 & B25 in C56)) by L380;
thus L383: (R1 in C57 & C57 in C56) by L382;
let R2 being set;
assume L384: (R2 in C56 & R1 in R2);
L385: R2 in D29 by L384;
thus L386: thesis by L385 , L381;
end;
consider C58 being Function such that L387: (( dom C58 ) = R3 & (for R1 being set holds (R1 in R3 implies S3[ R1 , ( C58 . R1 ) ]))) from CLASSES1:sch 1(L373);
defpred S4[ set , set ] means (($2 in C56 or $2 is  empty) & $2 c< $1 & (for R1 being set holds ((R1 in C56 & R1 c< $1) implies R1 c= $2)) & (for R1 being set holds ((R1 in C56 & $2 c= R1 & R1 c= $1) implies (R1 = $1 or R1 = $2))));
L388: (for R1 being set holds (R1 in C56 implies (ex R2 being set st (R2 in ( bool R3 ) & S4[ R1 , R2 ]))))
proof
let R1 being set;
assume L389: R1 in C56;
set D30 = { B26 where B26 is (Subset of R3) : (B26 c< R1 & B26 in C56) };
L390: D30 c= C56
proof
let R2 being set;
assume L391: R2 in D30;
L392: (ex B27 being (Subset of R3) st (R2 = B27 & B27 c< R1 & B27 in C56)) by L391;
thus L393: thesis by L392;
end;
reconsider D31 = D30 as (Subset-Family of R3) by L390 , XBOOLE_1:1;
take D32 = ( union D31 );
thus L394: D32 in ( bool R3 );
L395: (for R2 being set holds ((R2 in C56 & R2 c< R1) implies R2 c= D32))
proof
let R2 being set;
assume that
L396: R2 in C56
and
L397: R2 c< R1;
L398: R2 in D31 by L396 , L397;
thus L399: thesis by L398 , ZFMISC_1:74;
end;
per cases ;
suppose L400: D31 is  empty;

thus L401: ((D32 in C56 or D32 is  empty) & D32 c< R1 & (for R2 being set holds ((R2 in C56 & R2 c< R1) implies R2 c= D32))) by L400 , L371 , L389 , L395 , XBOOLE_1:61 , ZFMISC_1:2;
let R2 being set;
assume that
L402: R2 in C56
and
L403: D32 c= R2
and
L404: R2 c= R1;
assume L405: R2 <> R1;
L406: R2 c< R1 by L405 , L404 , XBOOLE_0:def 8;
L407: R2 c= D32 by L406 , L395 , L402;
thus L408: thesis by L407 , L403 , XBOOLE_0:def 10;
end;
suppose L409: D31 is non  empty;

L410: D32 in D31 by L409 , L371 , L390 , L219;
L411: (ex B28 being (Subset of R3) st (B28 = D32 & B28 c< R1 & B28 in C56)) by L410;
thus L412: ((D32 in C56 or D32 is  empty) & D32 c< R1 & (for R2 being set holds ((R2 in C56 & R2 c< R1) implies R2 c= D32))) by L411 , L395;
let R2 being set;
assume that
L413: R2 in C56
and
L414: D32 c= R2
and
L415: R2 c= R1;
assume L416: R2 <> R1;
L417: R2 c< R1 by L416 , L415 , XBOOLE_0:def 8;
L418: R2 c= D32 by L417 , L395 , L413;
thus L419: thesis by L418 , L414 , XBOOLE_0:def 10;
end;
end;
consider C59 being (Function of C56 , ( bool R3 )) such that L421: (for R1 being set holds (R1 in C56 implies S4[ R1 , ( C59 . R1 ) ])) from FUNCT_2:sch 1(L388);
defpred S5[ set , set ] means (ex B29 being (Function of ( $1 \ ( C59 . $1 ) ) , ( bool ( $1 \ ( C59 . $1 ) ) )) st ($2 = B29 & B29 is  one-to-one & ( rng B29 ) is  with_non-empty_elements  c=-linear & ( dom B29 ) in ( rng B29 ) & (for R5 being set holds ((R5 in ( rng B29 ) & ( card R5 ) <> 1) implies (ex R1 being set st (R1 in R5 & ( R5 \ { R1 } ) in ( rng B29 )))))));
L422: (for R1 being set holds (R1 in C56 implies (ex R2 being set st S5[ R1 , R2 ])))
proof
let R2 being set;
assume L423: R2 in C56;
L424: ( C59 . R2 ) c< R2 by L423 , L421;
L425: ( R2 \ ( C59 . R2 ) ) <> ( {} ) by L424 , XBOOLE_1:105;
consider C60 being (Subset-Family of ( R2 \ ( C59 . R2 ) )) such that L426: (C60 is  with_non-empty_elements  c=-linear & ( R2 \ ( C59 . R2 ) ) in C60) and L427: ( card ( R2 \ ( C59 . R2 ) ) ) = ( card C60 ) and L428: (for B30 being set holds ((B30 in C60 & ( card B30 ) <> 1) implies (ex R1 being set st (R1 in B30 & ( B30 \ { R1 } ) in C60)))) by L425 , L286;
L429: ( R2 \ ( C59 . R2 ) ) , C60 are_equipotent  by L427 , CARD_1:5;
consider C61 being Function such that L430: C61 is  one-to-one and L431: (( dom C61 ) = ( R2 \ ( C59 . R2 ) ) & ( rng C61 ) = C60) by L429 , WELLORD2:def 4;
reconsider D33 = C61 as (Function of ( R2 \ ( C59 . R2 ) ) , ( bool ( R2 \ ( C59 . R2 ) ) )) by L431 , FUNCT_2:2;
take D33;
thus L432: thesis by L426 , L428 , L430 , L431;
end;
consider C62 being Function such that L433: (( dom C62 ) = C56 & (for R1 being set holds (R1 in C56 implies S5[ R1 , ( C62 . R1 ) ]))) from CLASSES1:sch 1(L422);
L434:
now
let R1 being set;
assume L435: R1 in ( dom C62 );
L436: (ex B31 being (Function of ( R1 \ ( C59 . R1 ) ) , ( bool ( R1 \ ( C59 . R1 ) ) )) st (( C62 . R1 ) = B31 & B31 is  one-to-one & ( rng B31 ) is  with_non-empty_elements  c=-linear & ( dom B31 ) in ( rng B31 ) & (for R5 being set holds ((R5 in ( rng B31 ) & ( card R5 ) <> 1) implies (ex R1 being set st (R1 in R5 & ( R5 \ { R1 } ) in ( rng B31 ))))))) by L435 , L433;
thus L437: ( C62 . R1 ) is Function by L436;
end;
reconsider D34 = C62 as  Function-yielding Function by L434 , FUNCOP_1:def 6;
deffunc H2(set) = ( ( C59 . ( C58 . $1 ) ) \/ ( ( D34 . ( C58 . $1 ) ) . $1 ) );
L438: (for R1 being set holds (R1 in R3 implies R1 in ( ( C58 . R1 ) \ ( C59 . ( C58 . R1 ) ) )))
proof
let R1 being set;
assume L439: R1 in R3;
L440: ( C58 . R1 ) in C56 by L439 , L387;
assume L441: (not R1 in ( ( C58 . R1 ) \ ( C59 . ( C58 . R1 ) ) ));
L442: R1 in ( C58 . R1 ) by L387 , L439;
L443: R1 in ( C59 . ( C58 . R1 ) ) by L442 , L441 , XBOOLE_0:def 5;
L444: ( C59 . ( C58 . R1 ) ) in C56 by L443 , L421 , L440;
L445: ( C58 . R1 ) c= ( C59 . ( C58 . R1 ) ) by L444 , L387 , L443;
L446: ( C59 . ( C58 . R1 ) ) c< ( C58 . R1 ) by L421 , L440;
thus L447: thesis by L446 , L445 , XBOOLE_0:def 8;
end;
L448: (for R1 being set holds (R1 in R3 implies H2(R1) in ( bool R3 )))
proof
let R1 being set;
set D35 = ( C58 . R1 );
assume L449: R1 in R3;
L450: D35 in C56 by L449 , L387;
consider C63 being (Function of ( D35 \ ( C59 . D35 ) ) , ( bool ( D35 \ ( C59 . D35 ) ) )) such that L451: ( D34 . D35 ) = C63 and L452: C63 is  one-to-one and L453: ( rng C63 ) is  with_non-empty_elements  c=-linear and L454: ( dom C63 ) in ( rng C63 ) and L455: (for R5 being set holds ((R5 in ( rng C63 ) & ( card R5 ) <> 1) implies (ex R1 being set st (R1 in R5 & ( R5 \ { R1 } ) in ( rng C63 ))))) by L450 , L433;
L456: R1 in ( D35 \ ( C59 . D35 ) ) by L438 , L449;
L457: ( dom C63 ) = ( D35 \ ( C59 . D35 ) ) by FUNCT_2:def 1;
L458: ( C63 . R1 ) in ( rng C63 ) by L457 , L456 , FUNCT_1:def 3;
L459: ( C63 . R1 ) c= D35 by L458 , XBOOLE_1:1;
L460: ( C63 . R1 ) c= R3 by L459 , L450 , XBOOLE_1:1;
L461: (( C59 . D35 ) in C56 or ( C59 . D35 ) is  empty) by L421 , L450;
L462: H2(R1) c= R3 by L461 , L451 , L460 , XBOOLE_1:8;
thus L463: thesis by L462;
end;
consider C64 being (Function of R3 , ( bool R3 )) such that L464: (for R1 being set holds (R1 in R3 implies ( C64 . R1 ) = H2(R1))) from FUNCT_2:sch 2(L448);
L465: ( dom C64 ) = R3 by FUNCT_2:def 1;
L466: C56 c= ( rng C64 )
proof
let R2 being set;
assume L467: R2 in C56;
consider C65 being (Function of ( R2 \ ( C59 . R2 ) ) , ( bool ( R2 \ ( C59 . R2 ) ) )) such that L468: ( D34 . R2 ) = C65 and L469: C65 is  one-to-one and L470: ( rng C65 ) is  with_non-empty_elements  c=-linear and L471: ( dom C65 ) in ( rng C65 ) and L472: (for R5 being set holds ((R5 in ( rng C65 ) & ( card R5 ) <> 1) implies (ex R1 being set st (R1 in R5 & ( R5 \ { R1 } ) in ( rng C65 ))))) by L467 , L433;
consider R1 being set such that L473: R1 in ( dom C65 ) and L474: ( C65 . R1 ) = ( dom C65 ) by L471 , FUNCT_1:def 3;
L475: ( dom C65 ) = ( R2 \ ( C59 . R2 ) ) by FUNCT_2:def 1;
L476: R1 in R2 by L475 , L473;
L477: R1 in ( C58 . R1 ) by L476 , L387 , L467;
L478: ( C59 . R2 ) c< R2 by L421 , L467;
L479: ( C59 . R2 ) c= R2 by L478 , XBOOLE_0:def 8;
L480: ( C58 . R1 ) c= R2 by L387 , L467 , L476;
L481: ( C58 . R1 ) in C56 by L387 , L467 , L476;
L482: ( C58 . R1 ) = R2
proof
assume L483: ( C58 . R1 ) <> R2;
L484: ( C58 . R1 ) c< R2 by L483 , L480 , XBOOLE_0:def 8;
L485: ( C58 . R1 ) c= ( C59 . R2 ) by L484 , L421 , L467 , L481;
thus L486: contradiction by L485 , L473 , L477 , XBOOLE_0:def 5;
end;
L487: ( C64 . R1 ) = ( ( C59 . R2 ) \/ ( R2 \ ( C59 . R2 ) ) ) by L482 , L464 , L467 , L468 , L474 , L475 , L476
.= R2 by L479 , XBOOLE_1:45;
thus L488: thesis by L487 , L465 , L467 , L476 , FUNCT_1:def 3;
end;
L489: (for R5 being set holds ((R5 in ( rng C64 ) & ( card R5 ) <> 1) implies (ex R1 being set st (R1 in R5 & ( R5 \ { R1 } ) in ( rng C64 )))))
proof
let R5 being set;
assume that
L490: R5 in ( rng C64 )
and
L491: ( card R5 ) <> 1;
consider C66 being set such that L492: C66 in ( dom C64 ) and L493: ( C64 . C66 ) = R5 by L490 , FUNCT_1:def 3;
set D36 = ( C58 . C66 );
L494: D36 in C56 by L387 , L492;
consider C67 being (Function of ( D36 \ ( C59 . D36 ) ) , ( bool ( D36 \ ( C59 . D36 ) ) )) such that L495: ( D34 . D36 ) = C67 and L496: C67 is  one-to-one and L497: ( rng C67 ) is  with_non-empty_elements  c=-linear and L498: ( dom C67 ) in ( rng C67 ) and L499: (for R5 being set holds ((R5 in ( rng C67 ) & ( card R5 ) <> 1) implies (ex R1 being set st (R1 in R5 & ( R5 \ { R1 } ) in ( rng C67 ))))) by L494 , L433;
L500: ( C64 . C66 ) = ( ( C59 . D36 ) \/ ( C67 . C66 ) ) by L464 , L492 , L495;
L501: ( dom C67 ) = ( D36 \ ( C59 . D36 ) ) by FUNCT_2:def 1;
L502: C66 in ( D36 \ ( C59 . D36 ) ) by L438 , L492;
L503: ( C67 . C66 ) in ( rng C67 ) by L502 , L501 , FUNCT_1:def 3;
per cases ;
suppose L504: ( card ( C67 . C66 ) ) = 1;

L505: ( C59 . D36 ) <> ( {} ) by L504 , L491 , L493 , L500;
L506: ( C59 . D36 ) in C56 by L505 , L421 , L494;
consider C68 being set such that L507: ( C67 . C66 ) = { C68 } by L504 , CARD_2:42;
take C68;
L508: C68 in ( C67 . C66 ) by L507 , TARSKI:def 1;
L509: (not C68 in ( C59 . D36 )) by L508 , L503 , XBOOLE_0:def 5;
thus L510: C68 in R5 by L493 , L500 , L508 , XBOOLE_0:def 3;
L511: ( R5 \ { C68 } ) = ( ( ( C59 . D36 ) \/ ( C67 . C66 ) ) \ ( C67 . C66 ) ) by L464 , L492 , L493 , L495 , L507
.= ( ( C59 . D36 ) \ ( C67 . C66 ) ) by XBOOLE_1:40
.= ( C59 . D36 ) by L507 , L509 , ZFMISC_1:57;
thus L512: thesis by L511 , L466 , L506;
end;
suppose L513: ( card ( C67 . C66 ) ) <> 1;

consider C69 being set such that L514: C69 in ( C67 . C66 ) and L515: ( ( C67 . C66 ) \ { C69 } ) in ( rng C67 ) by L513 , L499 , L503;
L516: (not C69 in ( C59 . D36 )) by L503 , L514 , XBOOLE_0:def 5;
take C69;
thus L517: C69 in R5 by L493 , L500 , L514 , XBOOLE_0:def 3;
consider C70 being set such that L518: C70 in ( dom C67 ) and L519: ( C67 . C70 ) = ( ( C67 . C66 ) \ { C69 } ) by L515 , FUNCT_1:def 3;
L520: C70 in D36 by L501 , L518;
L521: C70 in ( C58 . C70 ) by L520 , L387 , L494;
L522: ( C58 . C70 ) in C56 by L387 , L494 , L520;
L523: ( C58 . C70 ) c= D36 by L387 , L494 , L520;
L524: D36 = ( C58 . C70 )
proof
assume L525: D36 <> ( C58 . C70 );
L526: ( C58 . C70 ) c< D36 by L525 , L523 , XBOOLE_0:def 8;
L527: ( C58 . C70 ) c= ( C59 . D36 ) by L526 , L421 , L494 , L522;
thus L528: contradiction by L527 , L518 , L521 , XBOOLE_0:def 5;
end;
L529: ( C64 . C70 ) = ( ( C59 . D36 ) \/ ( ( C67 . C66 ) \ { C69 } ) ) by L524 , L464 , L494 , L495 , L519 , L520
.= ( ( ( C59 . D36 ) \/ ( C67 . C66 ) ) \ { C69 } ) by L516 , XBOOLE_1:87 , ZFMISC_1:50
.= ( R5 \ { C69 } ) by L493 , L464 , L492 , L495;
thus L530: thesis by L529 , L465 , L494 , L520 , FUNCT_1:def 3;
end;
end;
L532: ( rng C64 ) is  c=-linear
proof
let C71 , C72 being set;
assume that
L533: C71 in ( rng C64 )
and
L534: C72 in ( rng C64 );
consider C73 being set such that L535: C73 in ( dom C64 ) and L536: ( C64 . C73 ) = C71 by L533 , FUNCT_1:def 3;
consider C74 being set such that L537: C74 in ( dom C64 ) and L538: ( C64 . C74 ) = C72 by L534 , FUNCT_1:def 3;
set D37 = ( C58 . C73 );
set D38 = ( C58 . C74 );
L539: C73 in ( D37 \ ( C59 . D37 ) ) by L438 , L535;
L540: D37 in C56 by L387 , L535;
consider C75 being (Function of ( D37 \ ( C59 . D37 ) ) , ( bool ( D37 \ ( C59 . D37 ) ) )) such that L541: ( D34 . D37 ) = C75 and L542: C75 is  one-to-one and L543: ( rng C75 ) is  with_non-empty_elements  c=-linear and L544: ( dom C75 ) in ( rng C75 ) and L545: (for R5 being set holds ((R5 in ( rng C75 ) & ( card R5 ) <> 1) implies (ex R1 being set st (R1 in R5 & ( R5 \ { R1 } ) in ( rng C75 ))))) by L540 , L433;
L546: ( C64 . C73 ) = ( ( C59 . D37 ) \/ ( C75 . C73 ) ) by L464 , L535 , L541;
L547: ( dom C75 ) = ( D37 \ ( C59 . D37 ) ) by FUNCT_2:def 1;
L548: ( C75 . C73 ) in ( rng C75 ) by L547 , L539 , FUNCT_1:def 3;
L549: C74 in ( D38 \ ( C59 . D38 ) ) by L438 , L537;
L550: D38 in C56 by L387 , L537;
consider C76 being (Function of ( D38 \ ( C59 . D38 ) ) , ( bool ( D38 \ ( C59 . D38 ) ) )) such that L551: ( D34 . D38 ) = C76 and L552: C76 is  one-to-one and L553: ( rng C76 ) is  with_non-empty_elements  c=-linear and L554: ( dom C76 ) in ( rng C76 ) and L555: (for R5 being set holds ((R5 in ( rng C76 ) & ( card R5 ) <> 1) implies (ex R1 being set st (R1 in R5 & ( R5 \ { R1 } ) in ( rng C76 ))))) by L550 , L433;
L556: ( C64 . C74 ) = ( ( C59 . D38 ) \/ ( C76 . C74 ) ) by L464 , L537 , L551;
L557: ( dom C76 ) = ( D38 \ ( C59 . D38 ) ) by FUNCT_2:def 1;
L558: ( C76 . C74 ) in ( rng C76 ) by L557 , L549 , FUNCT_1:def 3;
L559: D37 , D38 are_c=-comparable  by L371 , L540 , L550 , ORDINAL1:def 8;
per cases  by L559 , XBOOLE_0:def 9;
suppose L560: D37 = D38;

L561: ( C75 . C73 ) , ( C75 . C74 ) are_c=-comparable  by L560 , L541 , L548 , L551 , L553 , L558 , ORDINAL1:def 8;
L562: (( C75 . C73 ) c= ( C75 . C74 ) or ( C75 . C74 ) c= ( C75 . C73 )) by L561 , XBOOLE_0:def 9;
L563: (( C64 . C73 ) c= ( C64 . C74 ) or ( C64 . C74 ) c= ( C64 . C73 )) by L562 , L541 , L546 , L551 , L556 , L560 , XBOOLE_1:9;
thus L564: thesis by L563 , L536 , L538 , XBOOLE_0:def 9;
end;
suppose L565: (D37 c= D38 & D37 <> D38);

L566: D37 c< D38 by L565 , XBOOLE_0:def 8;
L567: D37 c= ( C59 . D38 ) by L566 , L421 , L540 , L550;
L568: ( C59 . D38 ) c= ( C64 . C74 ) by L556 , XBOOLE_1:7;
L569: D37 c= ( C64 . C74 ) by L568 , L567 , XBOOLE_1:1;
L570: ( C59 . D37 ) c< D37 by L421 , L540;
L571: ( C59 . D37 ) c= D37 by L570 , XBOOLE_0:def 8;
L572: ( ( C59 . D37 ) \/ ( D37 \ ( C59 . D37 ) ) ) = D37 by L571 , XBOOLE_1:45;
L573: ( C64 . C73 ) c= ( ( C59 . D37 ) \/ ( D37 \ ( C59 . D37 ) ) ) by L546 , L548 , XBOOLE_1:9;
L574: ( C64 . C73 ) c= ( C64 . C74 ) by L573 , L569 , L572 , XBOOLE_1:1;
thus L575: thesis by L574 , L536 , L538 , XBOOLE_0:def 9;
end;
suppose L576: (D38 c= D37 & D37 <> D38);

L577: D38 c< D37 by L576 , XBOOLE_0:def 8;
L578: D38 c= ( C59 . D37 ) by L577 , L421 , L540 , L550;
L579: ( C59 . D37 ) c= ( C64 . C73 ) by L546 , XBOOLE_1:7;
L580: D38 c= ( C64 . C73 ) by L579 , L578 , XBOOLE_1:1;
L581: ( C59 . D38 ) c< D38 by L421 , L550;
L582: ( C59 . D38 ) c= D38 by L581 , XBOOLE_0:def 8;
L583: ( ( C59 . D38 ) \/ ( D38 \ ( C59 . D38 ) ) ) = D38 by L582 , XBOOLE_1:45;
L584: ( C64 . C74 ) c= ( ( C59 . D38 ) \/ ( D38 \ ( C59 . D38 ) ) ) by L556 , L558 , XBOOLE_1:9;
L585: ( C64 . C74 ) c= ( C64 . C73 ) by L584 , L580 , L583 , XBOOLE_1:1;
thus L586: thesis by L585 , L536 , L538 , XBOOLE_0:def 9;
end;
end;
L588: ( rng C64 ) is  with_non-empty_elements
proof
assume L589: ( rng C64 ) is non  with_non-empty_elements;
L590: ( {} ) in ( rng C64 ) by L589 , SETFAM_1:def 8;
consider R1 being set such that L591: R1 in ( dom C64 ) and L592: ( C64 . R1 ) = ( {} ) by L590 , FUNCT_1:def 3;
set D39 = ( C58 . R1 );
L593: R1 in ( D39 \ ( C59 . D39 ) ) by L438 , L591;
L594: D39 in C56 by L387 , L591;
consider C77 being (Function of ( D39 \ ( C59 . D39 ) ) , ( bool ( D39 \ ( C59 . D39 ) ) )) such that L595: ( D34 . D39 ) = C77 and L596: C77 is  one-to-one and L597: ( rng C77 ) is  with_non-empty_elements  c=-linear and L598: ( dom C77 ) in ( rng C77 ) and L599: (for R5 being set holds ((R5 in ( rng C77 ) & ( card R5 ) <> 1) implies (ex R1 being set st (R1 in R5 & ( R5 \ { R1 } ) in ( rng C77 ))))) by L594 , L433;
L600: ( dom C77 ) = ( D39 \ ( C59 . D39 ) ) by FUNCT_2:def 1;
L601: ( C77 . R1 ) in ( rng C77 ) by L600 , L593 , FUNCT_1:def 3;
L602: ( C64 . R1 ) = ( ( C59 . D39 ) \/ ( C77 . R1 ) ) by L464 , L591 , L595;
thus L603: contradiction by L602 , L592 , L597 , L601;
end;
take ( rng C64 );
L604: (for B32 , B33 being set holds ((B32 in ( dom C64 ) & B33 in ( dom C64 ) & ( C64 . B32 ) = ( C64 . B33 )) implies B32 = B33))
proof
let C78 , C79 being set;
set D40 = ( C58 . C78 );
set D41 = ( C58 . C79 );
assume that
L605: C78 in ( dom C64 )
and
L606: C79 in ( dom C64 )
and
L607: ( C64 . C78 ) = ( C64 . C79 );
L608: (( C64 . C78 ) = H2(C78) & ( C64 . C79 ) = H2(C79)) by L464 , L605 , L606;
L609: D41 in C56 by L387 , L606;
consider C80 being (Function of ( D41 \ ( C59 . D41 ) ) , ( bool ( D41 \ ( C59 . D41 ) ) )) such that L610: ( D34 . D41 ) = C80 and L611: C80 is  one-to-one and L612: ( rng C80 ) is  with_non-empty_elements  c=-linear and L613: ( dom C80 ) in ( rng C80 ) and L614: (for R5 being set holds ((R5 in ( rng C80 ) & ( card R5 ) <> 1) implies (ex R1 being set st (R1 in R5 & ( R5 \ { R1 } ) in ( rng C80 ))))) by L609 , L433;
L615: ( dom C80 ) = ( D41 \ ( C59 . D41 ) ) by FUNCT_2:def 1;
L616: C79 in ( dom C80 ) by L615 , L438 , L606;
L617: ( C80 . C79 ) in ( rng C80 ) by L616 , FUNCT_1:def 3;
L618: ( C59 . D41 ) misses ( C80 . C79 ) by L617 , XBOOLE_1:63 , XBOOLE_1:79;
L619: D40 in C56 by L387 , L605;
consider C81 being (Function of ( D40 \ ( C59 . D40 ) ) , ( bool ( D40 \ ( C59 . D40 ) ) )) such that L620: ( D34 . D40 ) = C81 and L621: C81 is  one-to-one and L622: ( rng C81 ) is  with_non-empty_elements  c=-linear and L623: ( dom C81 ) in ( rng C81 ) and L624: (for R5 being set holds ((R5 in ( rng C81 ) & ( card R5 ) <> 1) implies (ex R1 being set st (R1 in R5 & ( R5 \ { R1 } ) in ( rng C81 ))))) by L619 , L433;
L625: ( dom C81 ) = ( D40 \ ( C59 . D40 ) ) by FUNCT_2:def 1;
L626: C78 in ( dom C81 ) by L625 , L438 , L605;
L627: ( C81 . C78 ) in ( rng C81 ) by L626 , FUNCT_1:def 3;
L628: ( C59 . D40 ) misses ( C81 . C78 ) by L627 , XBOOLE_1:63 , XBOOLE_1:79;
L629: D40 , D41 are_c=-comparable  by L371 , L609 , L619 , ORDINAL1:def 8;
per cases  by L629 , XBOOLE_0:def 9;
suppose L630: D40 = D41;

L631: ( C81 . C78 ) = ( C81 . C79 ) by L630 , L607 , L608 , L610 , L618 , L620 , L628 , XBOOLE_1:71;
thus L632: thesis by L631 , L610 , L611 , L616 , L620 , L626 , L630 , FUNCT_1:def 4;
end;
suppose L633: (D40 c= D41 & D40 <> D41);

L634: ( C59 . D40 ) c< D40 by L421 , L619;
L635: ( C59 . D40 ) c= D40 by L634 , XBOOLE_0:def 8;
L636: ( ( C59 . D40 ) \/ ( D40 \ ( C59 . D40 ) ) ) = D40 by L635 , XBOOLE_1:45;
L637: H2(C79) c= D40 by L636 , L607 , L608 , L620 , L627 , XBOOLE_1:9;
L638: D40 c< D41 by L633 , XBOOLE_0:def 8;
L639: D40 c= ( C59 . D41 ) by L638 , L421 , L609 , L619;
L640: H2(C79) c= ( C59 . D41 ) by L639 , L637 , XBOOLE_1:1;
L641: ( C80 . C79 ) c= ( C59 . D41 ) by L640 , L610 , XBOOLE_1:11;
thus L642: thesis by L641 , L612 , L617 , XBOOLE_1:67 , XBOOLE_1:79;
end;
suppose L643: (D41 c= D40 & D40 <> D41);

L644: ( C59 . D41 ) c< D41 by L421 , L609;
L645: ( C59 . D41 ) c= D41 by L644 , XBOOLE_0:def 8;
L646: ( ( C59 . D41 ) \/ ( D41 \ ( C59 . D41 ) ) ) = D41 by L645 , XBOOLE_1:45;
L647: H2(C78) c= D41 by L646 , L607 , L608 , L610 , L617 , XBOOLE_1:9;
L648: D41 c< D40 by L643 , XBOOLE_0:def 8;
L649: D41 c= ( C59 . D40 ) by L648 , L421 , L609 , L619;
L650: H2(C78) c= ( C59 . D40 ) by L649 , L647 , XBOOLE_1:1;
L651: ( C81 . C78 ) c= ( C59 . D40 ) by L650 , L620 , XBOOLE_1:11;
thus L652: thesis by L651 , L622 , L627 , XBOOLE_1:67 , XBOOLE_1:79;
end;
end;
L654: C64 is  one-to-one by L604 , FUNCT_1:def 4;
L655: R3 , ( rng C64 ) are_equipotent  by L654 , L465 , WELLORD2:def 4;
thus L656: thesis by L655 , L466 , L489 , L532 , L588 , CARD_1:5;
end;
begin
definition
mode SimplicialComplexStr
 is TopStruct;
end;
notation
let R12 being SimplicialComplexStr;
let C82 being (Subset of R12);
synonym C82 is  simplex-like for C82 is  open;
end;
notation
let R12 being SimplicialComplexStr;
let C83 being (Subset-Family of R12);
synonym C83 is  simplex-like for C83 is  open;
end;
registration
let R12 being SimplicialComplexStr;
cluster  empty  simplex-like for (Subset-Family of R12);
existence
proof
take D42 = ( {} ( bool (the carrier of R12) ) );
L660: (for B34 being (Subset of R12) holds (B34 in D42 implies B34 is  open));
thus L661: thesis by L660 , TOPS_2:def 1;
end;
end;
theorem
L663: (for R12 being SimplicialComplexStr holds (for B35 being (Subset-Family of R12) holds (B35 is  simplex-like iff B35 c= (the topology of R12))))
proof
let R12 being SimplicialComplexStr;
let C84 being (Subset-Family of R12);
thus L664:now
assume L665: C84 is  simplex-like;
thus L666: C84 c= (the topology of R12)
proof
let R1 being set;
assume L667: R1 in C84;
reconsider D43 = R1 as (Subset of R12) by L667;
L668: D43 is  simplex-like by L665 , L667 , TOPS_2:def 1;
thus L669: thesis by L668 , PRE_TOPC:def 2;
end;

end;
assume L667: C84 c= (the topology of R12);
let C85 being (Subset of R12);
assume L668: C85 in C84;
thus L669: thesis by L668 , L667 , PRE_TOPC:def 2;
end;
definition
let R12 being SimplicialComplexStr;
let C86 being (Element of R12);
attr C86 is  vertex-like
means
:L670: (ex B36 being (Subset of R12) st (B36 is  simplex-like & C86 in B36));
end;
definition
let R12 being SimplicialComplexStr;
func Vertices R12 -> (Subset of R12) means 
:L672: (for B37 being (Element of R12) holds (B37 in it iff B37 is  vertex-like));
existence
proof
set D44 = { B38 where B38 is (Element of R12) : B38 is  vertex-like };
L673: D44 c= ( [#] R12 )
proof
let R1 being set;
assume L674: R1 in D44;
consider C87 being (Element of R12) such that L675: R1 = C87 and L676: C87 is  vertex-like by L674;
L677: (ex B39 being (Subset of R12) st (B39 is  simplex-like & C87 in B39)) by L676 , L670;
thus L678: thesis by L677 , L675;
end;
reconsider D45 = D44 as (Subset of R12) by L673;
take D45;
let C88 being (Element of R12);
thus L679:now
assume L680: C88 in D45;
L681: (ex B40 being (Element of R12) st (C88 = B40 & B40 is  vertex-like)) by L680;
thus L682: C88 is  vertex-like by L681;
end;
assume L683: C88 is  vertex-like;
thus L684: thesis by L683;
end;
uniqueness
proof
let C89 , C90 being (Subset of R12);
assume that
L685: (for B41 being (Element of R12) holds (B41 in C89 iff B41 is  vertex-like))
and
L686: (for B42 being (Element of R12) holds (B42 in C90 iff B42 is  vertex-like));
thus L687:now
let R1 being set;
assume L688: R1 in C89;
reconsider D46 = R1 as (Element of R12) by L688;
L689: D46 is  vertex-like by L685 , L688;
thus L690: R1 in C90 by L689 , L686;
end;
let R1 being set;
assume L691: R1 in C90;
reconsider D47 = R1 as (Element of R12) by L691;
L692: D47 is  vertex-like by L686 , L691;
thus L693: thesis by L692 , L685;
end;
end;
definition
let C91 being SimplicialComplexStr;
mode Vertex of C91
 is (Element of ( Vertices C91 ));
end;
definition
let C92 being SimplicialComplexStr;
attr C92 is  finite-vertices
means
:L696: ( Vertices C92 ) is  finite;
end;
definition
let R12 being SimplicialComplexStr;
attr R12 is  locally-finite
means
:L698: (for B43 being (Vertex of R12) holds { B44 where B44 is (Subset of R12) : (B44 is  simplex-like & B43 in B44) } is  finite);
end;
definition
let R12 being SimplicialComplexStr;
attr R12 is  empty-membered
means
:L700: (the topology of R12) is  empty-membered;
attr R12 is  with_non-empty_elements
means
:L701: (the topology of R12) is  with_non-empty_elements;
end;
notation
let R12 being SimplicialComplexStr;
antonym R12 is  with_non-empty_element for R12 is  empty-membered;
antonym R12 is  with_empty_element for R12 is  with_non-empty_elements;
end;
definition
let R3 being set;
mode SimplicialComplexStr of R3
 -> SimplicialComplexStr
means :L704: ( [#] it ) c= R3;
existence
proof
take the  empty TopStruct;
thus L705: thesis by XBOOLE_1:2;
end;
end;
definition
let R3 being set;
let C93 being (SimplicialComplexStr of R3);
attr C93 is  total
means
:L707: ( [#] C93 ) = R3;
end;
L709: (for R12 being SimplicialComplexStr holds (( Vertices R12 ) is  empty iff R12 is  empty-membered))
proof
let R12 being SimplicialComplexStr;
thus L710:now
assume L711: ( Vertices R12 ) is  empty;
assume L712: R12 is  with_non-empty_element;
L713: (the topology of R12) is  with_non-empty_element by L712 , L700;
consider R6 being non  empty set such that L714: R6 in (the topology of R12) by L713 , SETFAM_1:def 10;
reconsider D48 = R6 as (Subset of R12) by L714;
L715: the (Element of R6) in D48;
reconsider D49 = the (Element of R6) as (Element of R12) by L715;
L716: D48 is  simplex-like by L714 , PRE_TOPC:def 2;
L717: D49 is  vertex-like by L716 , L670;
thus L718: contradiction by L717 , L711 , L672;
end;
assume L719: R12 is  empty-membered;
assume L720: ( Vertices R12 ) is non  empty;
consider R1 being set such that L721: R1 in ( Vertices R12 ) by L720 , XBOOLE_0:def 1;
reconsider D50 = R1 as (Element of R12) by L721;
L722: D50 is  vertex-like by L721 , L672;
consider C94 being (Subset of R12) such that L723: C94 is  simplex-like and L724: D50 in C94 by L722 , L670;
L725: C94 in (the topology of R12) by L723 , PRE_TOPC:def 2;
L726: (the topology of R12) is  with_non-empty_element by L725 , L724 , SETFAM_1:def 10;
thus L727: contradiction by L726 , L719 , L700;
end;
L728: (for R1 being set holds (for R12 being SimplicialComplexStr holds (for B45 being (Subset of R12) holds ((B45 is  simplex-like & R1 in B45) implies R1 in ( Vertices R12 )))))
proof
let R1 being set;
let R12 being SimplicialComplexStr;
let C95 being (Subset of R12);
assume that
L729: C95 is  simplex-like
and
L730: R1 in C95;
reconsider D51 = R1 as (Element of R12) by L730;
L731: D51 is  vertex-like by L729 , L730 , L670;
thus L732: thesis by L731 , L672;
end;
L733: (for R12 being SimplicialComplexStr holds (for B46 being (Subset of R12) holds (B46 is  simplex-like implies B46 c= ( Vertices R12 ))))
proof
let R12 being SimplicialComplexStr;
let C96 being (Subset of R12);
assume L734: C96 is  simplex-like;
let R1 being set;
thus L735: thesis by L734 , L728;
end;
L736: (for R12 being SimplicialComplexStr holds ( Vertices R12 ) = ( union (the topology of R12) ))
proof
let R12 being SimplicialComplexStr;
thus L737:now
let R1 being set;
assume that
L738: R1 in ( Vertices R12 );
reconsider D52 = R1 as (Element of R12) by L738;
L739: D52 is  vertex-like by L738 , L672;
consider C97 being (Subset of R12) such that L740: C97 is  simplex-like and L741: D52 in C97 by L739 , L670;
L742: C97 in (the topology of R12) by L740 , PRE_TOPC:def 2;
thus L743: R1 in ( union (the topology of R12) ) by L742 , L741 , TARSKI:def 4;
end;
let R1 being set;
assume L744: R1 in ( union (the topology of R12) );
consider R2 being set such that L745: R1 in R2 and L746: R2 in (the topology of R12) by L744 , TARSKI:def 4;
reconsider D53 = R2 as (Subset of R12) by L746;
L747: D53 is  simplex-like by L746 , PRE_TOPC:def 2;
thus L748: thesis by L747 , L745 , L728;
end;
L749: (for R12 being SimplicialComplexStr holds (R12 is  finite-vertices implies (the topology of R12) is  finite))
proof
let R12 being SimplicialComplexStr;
L750: ( Vertices R12 ) = ( union (the topology of R12) ) by L736;
L751: (the topology of R12) c= ( bool ( Vertices R12 ) ) by L750 , ZFMISC_1:82;
assume L752: R12 is  finite-vertices;
L753: ( Vertices R12 ) is  finite by L752 , L696;
thus L754: thesis by L753 , L751;
end;
registration
cluster  with_empty_element -> non  void for SimplicialComplexStr;
coherence
proof
let R12 being SimplicialComplexStr;
assume L755: R12 is  with_empty_element;
L756: (the topology of R12) is  with_empty_element by L755 , L701;
thus L757: thesis by L756 , PENCIL_1:def 4;
end;
cluster  with_non-empty_element -> non  void for SimplicialComplexStr;
coherence
proof
let R12 being SimplicialComplexStr;
assume L758: R12 is  with_non-empty_element;
L759: (the topology of R12) is  with_non-empty_element by L758 , L700;
thus L760: thesis by L759 , PENCIL_1:def 4;
end;
cluster non  void  empty-membered ->  with_empty_element for SimplicialComplexStr;
coherence
proof
let R12 being SimplicialComplexStr;
assume L761: R12 is non  void  empty-membered;
L762: (the topology of R12) is  with_empty_element by L761 , L700;
thus L763: thesis by L762 , L701;
end;
cluster non  void  subset-closed ->  with_empty_element for SimplicialComplexStr;
coherence
proof
let R12 being SimplicialComplexStr;
assume L764: R12 is non  void  subset-closed;
L765: (ex B47 being set st B47 in ( the_family_of R12 )) by L764 , XBOOLE_0:def 1;
thus L766: thesis by L765 , L764 , L701;
end;
cluster  empty-membered ->  subset-closed  finite-vertices for SimplicialComplexStr;
coherence
proof
let R12 being SimplicialComplexStr;
assume L767: R12 is  empty-membered;
L768: (the topology of R12) is  empty-membered by L767 , L700;
thus L769: R12 is  subset-closed
proof
let R1 being set;
let R2 being set;
assume that
L770: R1 in ( the_family_of R12 )
and
L771: R2 c= R1;
L772: R1 is  empty by L768 , L770 , SETFAM_1:def 10;
thus L773: thesis by L772 , L770 , L771;
end;

L774: ( Vertices R12 ) is  empty by L767 , L709;
thus L775: thesis by L774 , L696;
end;
cluster  finite-vertices ->  locally-finite  finite-degree for SimplicialComplexStr;
coherence
proof
let R12 being SimplicialComplexStr;
assume L776: R12 is  finite-vertices;
reconsider D54 = ( Vertices R12 ) as  finite (Subset of R12) by L776 , L696;
thus L777: R12 is  locally-finite
proof
let C98 being (Vertex of R12);
L778: { B48 where B48 is (Subset of R12) : (B48 is  simplex-like & C98 in B48) } c= (the topology of R12)
proof
let R1 being set;
assume L779: R1 in { B49 where B49 is (Subset of R12) : (B49 is  simplex-like & C98 in B49) };
L780: (ex B50 being (Subset of R12) st (R1 = B50 & B50 is  simplex-like & C98 in B50)) by L779;
thus L781: thesis by L780 , PRE_TOPC:def 2;
end;
L782: (the topology of R12) is  finite by L776 , L749;
thus L783: thesis by L782 , L778;
end;

thus L784: R12 is  finite-membered
proof
let R1 being set;
assume L785: R1 in ( the_family_of R12 );
reconsider D55 = R1 as (Subset of R12) by L785;
L786: D55 is  simplex-like by L785 , PRE_TOPC:def 2;
L787: D55 c= D54 by L786 , L733;
thus L788: thesis by L787;
end;

take ( card D54 );
let C99 being  finite (Subset of R12);
assume L789: C99 is  open;
thus L790: thesis by L789 , L733 , NAT_1:43;
end;
cluster  locally-finite  subset-closed ->  finite-membered for SimplicialComplexStr;
coherence
proof
let C100 being SimplicialComplexStr;
assume L791: C100 is  locally-finite  subset-closed;
L792: ( the_family_of C100 ) is  finite-membered
proof
let R1 being set;
assume L793: R1 in ( the_family_of C100 );
reconsider D56 = R1 as (Subset of C100) by L793;
L794: C100 is non  void by L793 , PENCIL_1:def 4;
L795: D56 is  simplex-like by L793 , PRE_TOPC:def 2;
per cases ;
suppose L796: R1 is  empty;

thus L797: thesis by L796;
end;
suppose L798: R1 is non  empty;

consider C101 being set such that L799: C101 in D56 by L798 , XBOOLE_0:def 1;
reconsider D57 = C101 as (Element of C100) by L799;
L800: D57 is  vertex-like by L795 , L799 , L670;
reconsider D58 = D57 as (Vertex of C100) by L800 , L672;
set D59 = ( D56 \ { D58 } );
set D60 = { B51 where B51 is (Subset of C100) : (D58 in B51 & B51 c= D56) };
defpred S6[ set , set ] means ( $1 \ { D58 } ) = $2;
set D61 = { B52 where B52 is (Element of ( bool D59 )) : (ex B53 being (Subset of C100) st (S6[ B53 , B52 ] & B53 in D60)) };
L801: ( bool D59 ) c= D61
proof
let R2 being set;
assume L802: R2 in ( bool D59 );
reconsider D62 = R2 as (Subset of C100) by L802 , XBOOLE_1:1;
L803: (not D58 in D62) by L802 , ZFMISC_1:56;
L804: ( ( D62 \/ { D58 } ) \ { D58 } ) = D62 by L803 , ZFMISC_1:117;
L805: { D58 } c= D56 by L799 , ZFMISC_1:31;
L806: D59 c= D56 by XBOOLE_1:36;
L807: R2 c= D56 by L806 , L802 , XBOOLE_1:1;
L808: ( D62 \/ { D58 } ) c= D56 by L807 , L805 , XBOOLE_1:8;
L809: ( D62 \/ { D58 } ) is (Subset of C100) by L808 , XBOOLE_1:1;
L810: D58 in { D58 } by TARSKI:def 1;
L811: D58 in ( D62 \/ { D58 } ) by L810 , XBOOLE_0:def 3;
L812: ( D62 \/ { D58 } ) in D60 by L811 , L808 , L809;
thus L813: thesis by L812 , L802 , L804 , L809;
end;
set D63 = { B54 where B54 is (Subset of C100) : (B54 is  simplex-like & D58 in B54) };
L814: D60 c= D63
proof
let R2 being set;
assume L815: R2 in D60;
consider C102 being (Subset of C100) such that L816: (R2 = C102 & D58 in C102) and L817: C102 c= D56 by L815;
L818: C102 is  simplex-like by L791 , L794 , L795 , L817 , MATROID0:1;
thus L819: thesis by L818 , L816;
end;
L820: D63 is  finite by L791 , L698;
L821: D60 is  finite by L820 , L814;
L822: (for B55 being (Subset of C100) holds (for B56 , B57 being (Element of ( bool D59 )) holds ((S6[ B55 , B56 ] & S6[ B55 , B57 ]) implies B56 = B57)));
L823: D61 is  finite from FRAENKEL:sch 28(L821 , L822);
L824: D59 is  finite by L823 , L801;
L825: D56 = ( D59 \/ { D58 } ) by L799 , ZFMISC_1:116;
thus L826: R1 is  finite by L825 , L824;
end;
end;
thus L828: thesis by L792 , MATROID0:def 6;
end;
end;
registration
let R3 being set;
cluster  empty  void  empty-membered  strict for (SimplicialComplexStr of R3);
existence
proof
L830: ( [#] TopStruct (# ( {} ) , ( {} ( bool ( {} ) ) ) #) ) c= R3 by XBOOLE_1:2;
reconsider D64 = TopStruct (# ( {} ) , ( {} ( bool ( {} ) ) ) #) as (SimplicialComplexStr of R3) by L830 , L704;
take D64;
thus L831: thesis;
end;
end;
registration
let R6 being non  empty set;
cluster non  empty non  void  total  empty-membered  strict for (SimplicialComplexStr of R6);
existence
proof
reconsider D65 = ( bool ( 0 ) ) as (Subset-Family of R6) by XBOOLE_1:2 , ZFMISC_1:67;
L833: ( [#] TopStruct (# R6 , D65 #) ) c= R6;
reconsider D66 = TopStruct (# R6 , D65 #) as (SimplicialComplexStr of R6) by L833 , L704;
take D66;
L834: (for B58 being non  empty set holds (not B58 in D65));
L835: (( [#] D66 ) = R6 & D65 is  empty-membered) by L834 , SETFAM_1:def 10;
thus L836: thesis by L835 , L700 , L707 , PENCIL_1:def 4;
end;
cluster non  empty  total  with_empty_element  with_non-empty_element  finite-vertices  subset-closed  strict for (SimplicialComplexStr of R6);
existence
proof
set D67 = the (Element of R6);
reconsider D68 = ( bool { D67 } ) as (Subset-Family of R6) by ZFMISC_1:67;
L837: ( [#] TopStruct (# R6 , D68 #) ) c= ( [#] R6 );
reconsider D69 = TopStruct (# R6 , D68 #) as (SimplicialComplexStr of R6) by L837 , L704;
take D69;
L838: ( Vertices D69 ) c= { D67 }
proof
let R1 being set;
assume that
L839: R1 in ( Vertices D69 );
reconsider D70 = R1 as (Element of D69) by L839;
L840: D70 is  vertex-like by L839 , L672;
consider C103 being (Subset of D69) such that L841: C103 is  simplex-like and L842: D70 in C103 by L840 , L670;
L843: C103 in D68 by L841 , PRE_TOPC:def 2;
thus L844: thesis by L843 , L842;
end;
L845: { D67 } in D68 by ZFMISC_1:def 1;
L846: D68 is  with_non-empty_element by L845 , SETFAM_1:def 10;
L847: (( [#] D69 ) = R6 & D69 is  with_non-empty_element) by L846 , L700;
L848: D68 = ( the_family_of D69 );
L849: D69 is  subset-closed by L848 , MATROID0:def 3;
thus L850: thesis by L849 , L838 , L847 , L696 , L707;
end;
end;
registration
cluster non  empty  with_empty_element  with_non-empty_element  finite-vertices  subset-closed  strict for SimplicialComplexStr;
existence
proof
take the non  empty  with_empty_element  with_non-empty_element  finite-vertices  subset-closed  strict (SimplicialComplexStr of the non  empty set);
thus L852: thesis;
end;
end;
registration
let C104 being  with_non-empty_element SimplicialComplexStr;
cluster ( Vertices C104 ) -> non  empty;
coherence by L709;
end;
registration
let C105 being  finite-vertices SimplicialComplexStr;
cluster  simplex-like ->  finite for (Subset-Family of C105);
coherence
proof
let C106 being (Subset-Family of C105);
assume L855: C106 is  simplex-like;
L856: C106 c= (the topology of C105) by L855 , L663;
L857: ( Vertices C105 ) = ( union (the topology of C105) ) by L736;
L858: (the topology of C105) c= ( bool ( Vertices C105 ) ) by L857 , ZFMISC_1:82;
L859: ( Vertices C105 ) is  finite by L696;
thus L860: thesis by L859 , L856 , L858;
end;
end;
registration
let C107 being  finite-membered SimplicialComplexStr;
cluster  simplex-like ->  finite-membered for (Subset-Family of C107);
coherence
proof
let C108 being (Subset-Family of C107);
assume L862: C108 is  simplex-like;
let R1 being set;
assume L863: R1 in C108;
reconsider D71 = R1 as (Subset of C107) by L863;
L864: D71 is  simplex-like by L862 , L863 , TOPS_2:def 1;
L865: D71 in (the topology of C107) by L864 , PRE_TOPC:def 2;
L866: ( the_family_of C107 ) is  finite-membered by MATROID0:def 6;
thus L867: thesis by L866 , L865;
end;
end;
theorem
L869: (for R12 being SimplicialComplexStr holds (( Vertices R12 ) is  empty iff R12 is  empty-membered)) by L709;
theorem
L870: (for R12 being SimplicialComplexStr holds ( Vertices R12 ) = ( union (the topology of R12) )) by L736;
theorem
L871: (for R12 being SimplicialComplexStr holds (for B59 being (Subset of R12) holds (B59 is  simplex-like implies B59 c= ( Vertices R12 )))) by L733;
theorem
L872: (for R12 being SimplicialComplexStr holds (R12 is  finite-vertices implies (the topology of R12) is  finite)) by L749;
theorem
L873: (for R12 being SimplicialComplexStr holds (((the topology of R12) is  finite & R12 is non  finite-vertices) implies R12 is non  finite-membered))
proof
let R12 being SimplicialComplexStr;
defpred S7[ set , set ] means $1 in $2;
set D72 = ( Vertices R12 );
assume that
L874: (the topology of R12) is  finite
and
L875: R12 is non  finite-vertices;
L876: D72 is  infinite by L875 , L696;
L877: D72 = ( union (the topology of R12) ) by L736;
L878: (for R1 being set holds (R1 in D72 implies (ex R2 being set st (R2 in (the topology of R12) & S7[ R1 , R2 ]))))
proof
let R1 being set;
assume L879: R1 in D72;
L880: (ex R2 being set st (R1 in R2 & R2 in (the topology of R12))) by L879 , L877 , TARSKI:def 4;
thus L881: thesis by L880;
end;
consider C109 being (Function of D72 , (the topology of R12)) such that L882: (for R1 being set holds (R1 in D72 implies S7[ R1 , ( C109 . R1 ) ])) from FUNCT_2:sch 1(L878);
L883: (the topology of R12) is non  empty by L875 , L877 , L696;
L884: ( dom C109 ) = D72 by L883 , FUNCT_2:def 1;
consider R1 being set such that L885: R1 in ( rng C109 ) and L886: ( C109 " { R1 } ) is  infinite by L884 , L874 , L876 , CARD_2:101;
L887: R1 in (the topology of R12) by L885;
reconsider D73 = R1 as (Subset of R12) by L887;
L888: ( C109 " { D73 } ) c= D73
proof
let R2 being set;
assume L889: R2 in ( C109 " { D73 } );
L890: (( C109 . R2 ) in { D73 } & R2 in ( C109 . R2 )) by L889 , L882 , FUNCT_1:def 7;
thus L891: thesis by L890 , TARSKI:def 1;
end;
L892: D73 is non  finite by L888 , L886;
L893: ( the_family_of R12 ) is non  finite-membered by L892 , L885;
thus L894: thesis by L893 , MATROID0:def 6;
end;
theorem
L895: (for R12 being SimplicialComplexStr holds ((R12 is  subset-closed & (the topology of R12) is  finite) implies R12 is  finite-vertices))
proof
let R12 being SimplicialComplexStr;
assume that
L896: R12 is  subset-closed
and
L897: (the topology of R12) is  finite;
assume L898: R12 is non  finite-vertices;
L899: R12 is non  finite-membered by L898 , L897 , L873;
L900: ( the_family_of R12 ) is non  finite-membered by L899 , MATROID0:def 6;
consider R1 being set such that L901: R1 in ( the_family_of R12 ) and L902: R1 is non  finite by L900 , FINSET_1:def 6;
L903: { R1 } c= ( the_family_of R12 ) by L901 , ZFMISC_1:31;
L904: ( subset-closed_closure_of { R1 } ) c= ( the_family_of R12 ) by L903 , L896 , L107;
L905: ( bool R1 ) c= ( the_family_of R12 ) by L904 , L112;
thus L906: contradiction by L905 , L897 , L902;
end;
begin
definition
let R3 being set;
let C110 being (Subset-Family of R3);
func Complex_of C110 ->  strict (SimplicialComplexStr of R3) equals 
TopStruct (# R3 , ( subset-closed_closure_of C110 ) #);
coherence
proof
L907: ( [#] TopStruct (# R3 , ( subset-closed_closure_of C110 ) #) ) = R3;
thus L908: thesis by L907 , L704;
end;
end;
registration
let R3 being set;
let C111 being (Subset-Family of R3);
cluster ( Complex_of C111 ) ->  total  subset-closed;
coherence
proof
L910: (( [#] ( Complex_of C111 ) ) = R3 & ( subset-closed_closure_of C111 ) = ( the_family_of TopStruct (# R3 , ( subset-closed_closure_of C111 ) #) ));
thus L911: thesis by L910 , L707 , MATROID0:def 3;
end;
end;
registration
let R3 being set;
let C112 being non  empty (Subset-Family of R3);
cluster ( Complex_of C112 ) ->  with_empty_element;
coherence by L701;
end;
registration
let R3 being set;
let C113 being  finite-membered (Subset-Family of R3);
cluster ( Complex_of C113 ) ->  finite-membered;
coherence
proof
L914: ( subset-closed_closure_of C113 ) = ( the_family_of ( Complex_of C113 ) );
thus L915: thesis by L914 , MATROID0:def 6;
end;
end;
registration
let R3 being set;
let C114 being  finite  finite-membered (Subset-Family of R3);
cluster ( Complex_of C114 ) ->  finite-vertices;
coherence
proof
set D74 = ( Complex_of C114 );
reconsider D75 = C114 as (Subset-Family of ( union C114 )) by ZFMISC_1:82;
L917: ( subset-closed_closure_of D75 ) c= ( bool ( union C114 ) );
L918: ( union (the topology of D74) ) c= ( union ( bool ( union C114 ) ) ) by L917 , ZFMISC_1:77;
L919: ( union ( bool ( union C114 ) ) ) = ( union C114 ) by ZFMISC_1:81;
L920: ( Vertices D74 ) c= ( union C114 ) by L919 , L918 , L736;
thus L921: thesis by L920 , L696;
end;
end;
theorem
L923: (for R12 being SimplicialComplexStr holds (R12 is  subset-closed implies ( the TopStruct of R12 ) = ( Complex_of (the topology of R12) )))
proof
let R12 being SimplicialComplexStr;
assume L924: R12 is  subset-closed;
L925: ( the_family_of R12 ) is  subset-closed by L924;
thus L926: thesis by L925 , L151;
end;
definition
let R3 being set;
mode SimplicialComplex of R3
 is  finite-membered  subset-closed (SimplicialComplexStr of R3);
end;
definition
let C115 being non  void SimplicialComplexStr;
mode Simplex of C115
 is  simplex-like (Subset of C115);
end;
registration
let C116 being  with_empty_element SimplicialComplexStr;
cluster  empty ->  simplex-like for (Subset of C116);
coherence
proof
let C117 being (Subset of C116);
assume L929: C117 is  empty;
L930: (the topology of C116) is  with_empty_element by L701;
L931: C117 in (the topology of C116) by L930 , L929 , SETFAM_1:def 8;
thus L932: thesis by L931 , PRE_TOPC:def 2;
end;
cluster  empty for (Simplex of C116);
existence
proof
L933: ( {} C116 ) is  simplex-like;
thus L934: thesis by L933;
end;
end;
registration
let C118 being non  void  finite-membered SimplicialComplexStr;
cluster  finite for (Simplex of C118);
existence
proof
consider C119 being set such that L936: C119 in (the topology of C118) by XBOOLE_0:def 1;
reconsider D76 = C119 as (Simplex of C118) by L936 , PRE_TOPC:def 2;
L937: D76 is  finite;
thus L938: thesis by L937;
end;
end;
begin
definition
let R12 being SimplicialComplexStr;
func degree R12 ->  ext-real number means 
:L940: ((for B60 being  finite (Subset of R12) holds (B60 is  simplex-like implies ( card B60 ) <= ( it + 1 ))) & (ex B61 being (Subset of R12) st (B61 is  simplex-like & ( card B61 ) = ( it + 1 )))) if R12 is non  void  finite-degree , it = ( - 1 ) if R12 is  void otherwise it = ( +infty );
existence
proof
L941:
now
defpred S8[ Nat ] means (for B62 being  finite (Subset of R12) holds (B62 is  simplex-like implies ( card B62 ) <= $1));
assume L942: R12 is non  void  finite-degree;
L943: ( the_family_of R12 ) is  finite-membered by L942 , MATROID0:def 6;
L944: (ex B63 being Nat st S8[ B63 ]) by L942 , MATROID0:def 7;
consider C120 being Nat such that L945: S8[ C120 ] and L946: (for B64 being Nat holds (S8[ B64 ] implies C120 <= B64)) from NAT_1:sch 5(L944);
take D77 = ( C120 - 1 );
thus L947: (for B65 being  finite (Subset of R12) holds (B65 is  simplex-like implies ( card B65 ) <= ( D77 + 1 ))) by L945;
assume L948: (for B66 being (Subset of R12) holds (B66 is  simplex-like implies ( card B66 ) <> ( D77 + 1 )));
per cases ;
suppose L949: C120 = ( 0 );

consider C121 being set such that L950: C121 in (the topology of R12) by L942 , XBOOLE_0:def 1;
reconsider D78 = C121 as  finite (Subset of R12) by L943 , L950;
L951: D78 is  simplex-like by L950 , PRE_TOPC:def 2;
L952: ( card D78 ) = ( 0 ) by L951 , L945 , L949;
thus L953: contradiction by L952 , L948 , L949 , L951;
end;
suppose L954: C120 > ( 0 );

reconsider D79 = ( C120 - 1 ) as (Element of ( NAT )) by L954 , NAT_1:20;
L955: S8[ D79 ]
proof
let C122 being  finite (Subset of R12);
assume L956: C122 is  simplex-like;
L957: ( card C122 ) <= ( D79 + 1 ) by L956 , L945;
L958: ( card C122 ) < ( D79 + 1 ) by L957 , L948 , L956 , XXREAL_0:1;
thus L959: thesis by L958 , NAT_1:13;
end;
L960: ( D79 + 1 ) <= D79 by L955 , L946;
thus L961: contradiction by L960 , NAT_1:13;
end;
end;
thus L963: thesis by L941;
end;
uniqueness
proof
let C123 , C124 being  ext-real number;
L964:
now
assume L965: R12 is non  void  finite-degree;
assume L966: (for B67 being  finite (Subset of R12) holds (B67 is  simplex-like implies ( card B67 ) <= ( C123 + 1 )));
given C125 being (Subset of R12) such that
L967: (C125 is  simplex-like & ( card C125 ) = ( C123 + 1 ));

assume L968: (for B68 being  finite (Subset of R12) holds (B68 is  simplex-like implies ( card B68 ) <= ( C124 + 1 )));
given C126 being (Subset of R12) such that
L969: (C126 is  simplex-like & ( card C126 ) = ( C124 + 1 ));

L970: ( C124 + 1 ) <= ( C123 + 1 ) by L965 , L966 , L969;
L971: ( C123 + 1 ) <= ( C124 + 1 ) by L965 , L967 , L968;
thus L972: C123 = C124 by L971 , L970 , XXREAL_0:1 , XXREAL_3:11;
end;
thus L973: thesis by L964;
end;
consistency;
end;
registration
let C127 being  finite-degree SimplicialComplexStr;
cluster ( ( degree C127 ) + 1 ) ->  natural;
coherence
proof
per cases ;
suppose L975: C127 is  void;

L976: ( ( degree C127 ) + 1 ) = ( ( - 1 ) + 1 ) by L975 , L940
.= ( 0 );
thus L977: thesis by L976;
end;
suppose L978: C127 is non  void;

consider C128 being (Subset of C127) such that L979: C128 is  simplex-like and L980: ( card C128 ) = ( ( degree C127 ) + 1 ) by L978 , L940;
L981: (( the_family_of C127 ) is  finite-membered & C128 in (the topology of C127)) by L979 , MATROID0:def 6 , PRE_TOPC:def 2;
L982: C128 is  finite by L981;
thus L983: thesis by L982 , L980;
end;
end;
cluster ( degree C127 ) ->  integer;
coherence
proof
L985: ( degree C127 ) = ( ( ( degree C127 ) + 1 ) - 1 ) by XXREAL_3:24;
thus L986: thesis by L985;
end;
end;
theorem
L988: (for R12 being SimplicialComplexStr holds (( degree R12 ) = ( - 1 ) iff R12 is  empty-membered))
proof
let R12 being SimplicialComplexStr;
per cases ;
suppose L989: R12 is  void;

thus L990: thesis by L989 , L940;
end;
suppose L991: R12 is non  void;

thus L992:now
assume L993: ( degree R12 ) = ( - 1 );
L994: R12 is  finite-degree by L993 , L991 , L940;
assume L995: R12 is  with_non-empty_element;
L996: (the topology of R12) is  with_non-empty_element by L995 , L700;
consider C129 being non  empty set such that L997: C129 in (the topology of R12) by L996 , SETFAM_1:def 10;
reconsider D80 = C129 as (Subset of R12) by L997;
L998: D80 is  simplex-like by L997 , PRE_TOPC:def 2;
reconsider D81 = D80 as  finite (Subset of R12) by L998 , L991 , L994;
L999: ( card D81 ) <= ( ( - 1 ) + 1 ) by L991 , L993 , L994 , L998 , L940;
L1000: ( card D81 ) = ( 0 ) by L999;
thus L1001: contradiction by L1000;
end;
assume L1002: R12 is  empty-membered;
consider C130 being (Subset of R12) such that L1003: C130 is  simplex-like and L1004: ( card C130 ) = ( ( degree R12 ) + 1 ) by L1002 , L991 , L940;
L1005: C130 in (the topology of R12) by L1003 , PRE_TOPC:def 2;
assume L1006: ( degree R12 ) <> ( - 1 );
L1007: ( card C130 ) <> ( ( - 1 ) + 1 ) by L1006 , L1004 , XXREAL_3:11;
L1008: C130 is non  empty by L1007;
L1009: (the topology of R12) is  empty-membered by L1002 , L700;
thus L1010: thesis by L1009 , L1005 , L1008 , SETFAM_1:def 10;
end;
end;
theorem
L1012: (for R12 being SimplicialComplexStr holds ( - 1 ) <= ( degree R12 ))
proof
let R12 being SimplicialComplexStr;
per cases ;
suppose L1013: R12 is  void;

thus L1014: thesis by L1013 , L940;
end;
suppose L1015: R12 is non  void  finite-degree;

reconsider D82 = ( degree R12 ) as Integer by L1015;
L1016: (( 0 ) = ( ( - 1 ) + 1 ) & ( D82 + 1 ) >= ( 0 )) by L1015;
thus L1017: thesis by L1016 , XREAL_1:6;
end;
suppose L1018: R12 is non  void non  finite-degree;

thus L1019: thesis by L1018 , L940;
end;
end;
theorem
L1021: (for R12 being SimplicialComplexStr holds (for B69 being  finite (Subset of R12) holds (B69 is  simplex-like implies ( card B69 ) <= ( ( degree R12 ) + 1 ))))
proof
let R12 being SimplicialComplexStr;
let C131 being  finite (Subset of R12);
assume that
L1022: C131 is  simplex-like;
L1023: C131 in (the topology of R12) by L1022 , PRE_TOPC:def 2;
L1024: R12 is non  void by L1023 , PENCIL_1:def 4;
per cases ;
suppose L1025: R12 is  finite-degree;

thus L1026: thesis by L1025 , L1022 , L1024 , L940;
end;
suppose L1027: R12 is non  finite-degree;

L1028: ( degree R12 ) = ( +infty ) by L1027 , L1024 , L940;
L1029: ( ( degree R12 ) + 1 ) = ( +infty ) by L1028 , XXREAL_3:def 2;
thus L1030: thesis by L1029 , XXREAL_0:3;
end;
end;
theorem
L1032: (for R9 being Integer holds (for R12 being SimplicialComplexStr holds ((R12 is non  void or R9 >= ( - 1 )) implies (( degree R12 ) <= R9 iff (R12 is  finite-membered & (for B70 being  finite (Subset of R12) holds (B70 is  simplex-like implies ( card B70 ) <= ( R9 + 1 ))))))))
proof
let R9 being Integer;
let R12 being SimplicialComplexStr;
assume L1033: (R12 is non  void or R9 >= ( - 1 ));
per cases ;
suppose L1034: R12 is  void;

L1035:
now
let C132 being  finite (Subset of R12);
assume L1036: C132 is  simplex-like;
L1037: C132 in (the topology of R12) by L1036 , PRE_TOPC:def 2;
thus L1038: ( card C132 ) <= ( R9 + 1 ) by L1037 , L1034 , PENCIL_1:def 4;
end;
L1039: R12 is  empty-membered by L1034;
thus L1040: thesis by L1039 , L1033 , L1034 , L1035 , L988;
end;
suppose L1041: R12 is non  void;

thus L1042:now
assume L1043: ( degree R12 ) <= R9;
L1044: ( ( degree R12 ) + 1 ) <= ( R9 + 1 ) by L1043 , XXREAL_3:35;
L1045: R9 in ( REAL ) by XREAL_0:def 1;
L1046: ( degree R12 ) <> ( +infty ) by L1045 , L1043 , XXREAL_0:9;
L1047: (R12 is  finite-degree or R12 is  empty-membered) by L1046 , L940;
thus L1048: R12 is  finite-membered by L1047;
let C133 being  finite (Subset of R12);
assume L1049: C133 is  simplex-like;
L1050: (R12 is non  void  finite-degree or R12 is  void) by L1046 , L940;
L1051: ( card C133 ) <= ( ( degree R12 ) + 1 ) by L1050 , L1041 , L1049 , L940;
thus L1052: ( card C133 ) <= ( R9 + 1 ) by L1051 , L1044 , XXREAL_0:2;
end;
assume that
L1053: R12 is  finite-membered
and
L1054: (for B71 being  finite (Subset of R12) holds (B71 is  simplex-like implies ( card B71 ) <= ( R9 + 1 )));
consider C134 being set such that L1055: C134 in (the topology of R12) by L1041 , XBOOLE_0:def 1;
reconsider D83 = C134 as (Subset of R12) by L1055;
L1056: D83 is  simplex-like by L1055 , PRE_TOPC:def 2;
reconsider D84 = D83 as  finite (Subset of R12) by L1056 , L1041 , L1053;
L1057: ( card D84 ) <= ( R9 + 1 ) by L1054 , L1056;
reconsider D85 = ( R9 + 1 ) as (Element of ( NAT )) by L1057 , INT_1:3;
L1058: (for B72 being  finite (Subset of R12) holds (B72 is  open implies ( card B72 ) <= D85)) by L1054;
L1059: R12 is  finite-degree by L1058 , L1053 , MATROID0:def 7;
reconsider D86 = ( degree R12 ) as Integer by L1059;
L1060: (ex B73 being (Subset of R12) st (B73 is  simplex-like & ( card B73 ) = ( ( degree R12 ) + 1 ))) by L1041 , L1059 , L940;
L1061: ( D86 + 1 ) <= ( R9 + 1 ) by L1060 , L1041 , L1053 , L1054;
thus L1062: thesis by L1061 , XREAL_1:6;
end;
end;
theorem
L1064: (for R3 being set holds (for B74 being  finite (Subset of R3) holds ( degree ( Complex_of { B74 } ) ) = ( ( card B74 ) - 1 )))
proof
let R3 being set;
let C135 being  finite (Subset of R3);
set D87 = ( Complex_of { C135 } );
L1065: (the topology of D87) = ( bool C135 ) by L112;
L1066:
now
let C136 being  finite (Subset of D87);
assume L1067: C136 is  simplex-like;
L1068: C136 in (the topology of D87) by L1067 , PRE_TOPC:def 2;
thus L1069: ( card C136 ) <= ( ( ( card C135 ) - 1 ) + 1 ) by L1068 , L1065 , NAT_1:43;
end;
L1070: ( degree D87 ) <= ( ( card C135 ) - 1 ) by L1066 , L1032;
L1071: C135 c= C135;
reconsider D88 = C135 as  finite (Simplex of D87) by L1071 , L1065 , PRE_TOPC:def 2;
L1072: (( card C135 ) = ( ( ( card C135 ) - 1 ) + 1 ) & ( card D88 ) <= ( ( degree D87 ) + 1 )) by L940;
L1073: ( ( card C135 ) - 1 ) <= ( degree D87 ) by L1072 , XREAL_1:8;
thus L1074: ( ( card C135 ) - 1 ) = ( degree D87 ) by L1073 , L1070 , XXREAL_0:1;
end;
begin
definition
let R3 being set;
let C137 being (SimplicialComplexStr of R3);
mode SubSimplicialComplex of C137
 -> (SimplicialComplex of R3)
means :L1075: (( [#] it ) c= ( [#] C137 ) & (the topology of it) c= (the topology of C137));
existence
proof
set D89 = TopStruct (# ( 0 ) , ( {} ( bool ( 0 ) ) ) #);
L1076: (( the_family_of D89 ) is  empty & ( [#] D89 ) c= R3) by XBOOLE_1:2;
reconsider D90 = TopStruct (# ( 0 ) , ( {} ( bool ( 0 ) ) ) #) as (SimplicialComplex of R3) by L1076 , L704 , MATROID0:def 3 , MATROID0:def 6;
take D90;
thus L1077: thesis by XBOOLE_1:2;
end;
end;
registration
let R3 being set;
let R13 being (SimplicialComplexStr of R3);
cluster  empty  void  strict for (SubSimplicialComplex of R13);
existence
proof
set D91 = ( Complex_of ( {} ( bool ( {} ) ) ) );
L1079: (the topology of D91) = ( {} );
L1080: (( [#] D91 ) c= ( [#] R13 ) & (the topology of D91) c= (the topology of R13)) by L1079 , XBOOLE_1:2;
L1081: ( [#] D91 ) c= R3 by XBOOLE_1:2;
L1082: D91 is (SimplicialComplexStr of R3) by L1081 , L704;
reconsider D92 = D91 as (SubSimplicialComplex of R13) by L1082 , L1080 , L1075;
take D92;
thus L1083: thesis;
end;
end;
registration
let R3 being set;
let C138 being  void (SimplicialComplexStr of R3);
cluster  ->  void for (SubSimplicialComplex of C138);
coherence
proof
let C139 being (SubSimplicialComplex of C138);
L1085: ((the topology of C139) c= (the topology of C138) & (the topology of C138) is  empty) by L1075 , PENCIL_1:def 4;
thus L1086: thesis by L1085;
end;
end;
registration
let R6 being non  empty set;
let C140 being non  void  subset-closed (SimplicialComplexStr of R6);
cluster non  void for (SubSimplicialComplex of C140);
existence
proof
L1088: ( the_family_of C140 ) is  subset-closed;
consider R1 being set such that L1089: R1 in (the topology of C140) by XBOOLE_0:def 1;
per cases ;
suppose L1090: R1 is  empty;

reconsider D93 = R1 as  empty (Subset of C140) by L1090 , L1089;
set D94 = ( Complex_of { D93 } );
L1091: ( [#] D94 ) = ( [#] C140 );
L1092: ( [#] C140 ) c= R6 by L704;
reconsider D95 = D94 as (SimplicialComplex of R6) by L1092 , L1091 , L704;
take D95;
L1093: { D93 } c= (the topology of C140) by L1089 , ZFMISC_1:31;
L1094: ( subset-closed_closure_of { D93 } ) c= (the topology of C140) by L1093 , L1088 , L107;
thus L1095: thesis by L1094 , L1091 , L1075;
end;
suppose L1096: R1 is non  empty;

set D96 = the (Element of R1);
L1097: D96 in R1 by L1096;
reconsider D97 = { D96 } as (Subset of C140) by L1097 , L1089 , ZFMISC_1:31;
set D98 = ( Complex_of { D97 } );
L1098: ( [#] D98 ) = ( [#] C140 );
L1099: ( [#] C140 ) c= R6 by L704;
reconsider D99 = D98 as (SimplicialComplex of R6) by L1099 , L1098 , L704;
take D99;
L1100: D97 c= R1 by L1096 , ZFMISC_1:31;
L1101: D97 in (the topology of C140) by L1100 , L1088 , L1089 , CLASSES1:def 1;
L1102: { D97 } c= (the topology of C140) by L1101 , ZFMISC_1:31;
L1103: (the topology of D99) c= (the topology of C140) by L1102 , L1088 , L107;
thus L1104: thesis by L1103 , L1098 , L1075;
end;
end;
end;
registration
let R3 being set;
let C141 being  finite-vertices (SimplicialComplexStr of R3);
cluster  ->  finite-vertices for (SubSimplicialComplex of C141);
coherence
proof
let C142 being (SubSimplicialComplex of C141);
L1107: ( Vertices C141 ) is  finite by L696;
L1108: (the topology of C142) c= (the topology of C141) by L1075;
L1109: ( union (the topology of C142) ) c= ( union (the topology of C141) ) by L1108 , ZFMISC_1:77;
L1110: (( union (the topology of C142) ) = ( Vertices C142 ) & ( union (the topology of C141) ) = ( Vertices C141 )) by L736;
thus L1111: thesis by L1110 , L1109 , L1107 , L696;
end;
end;
registration
let R3 being set;
let C143 being  finite-degree (SimplicialComplexStr of R3);
cluster  ->  finite-degree for (SubSimplicialComplex of C143);
coherence
proof
let C144 being (SubSimplicialComplex of C143);
consider C145 being Nat such that L1113: (for B75 being  finite (Subset of C143) holds (B75 is  simplex-like implies ( card B75 ) <= C145)) by MATROID0:def 7;
thus L1114: C144 is  finite-membered;
take C145;
let C146 being  finite (Subset of C144);
assume L1115: C146 is  simplex-like;
L1116: C146 in (the topology of C144) by L1115 , PRE_TOPC:def 2;
L1117: ( [#] C144 ) c= ( [#] C143 ) by L1075;
reconsider D100 = C146 as  finite (Subset of C143) by L1117 , XBOOLE_1:1;
L1118: (the topology of C144) c= (the topology of C143) by L1075;
L1119: D100 is  simplex-like by L1118 , L1116 , PRE_TOPC:def 2;
thus L1120: thesis by L1119 , L1113;
end;
end;
theorem
L1122: (for R3 being set holds (for R13 being (SimplicialComplexStr of R3) holds (for R14 being (SubSimplicialComplex of R13) holds (for B76 being (SubSimplicialComplex of R14) holds B76 is (SubSimplicialComplex of R13)))))
proof
let R3 being set;
let R13 being (SimplicialComplexStr of R3);
let R14 being (SubSimplicialComplex of R13);
let C147 being (SubSimplicialComplex of R14);
L1123: (( [#] R14 ) c= ( [#] R13 ) & ( [#] C147 ) c= ( [#] R14 )) by L1075;
L1124: ( [#] C147 ) c= ( [#] R13 ) by L1123 , XBOOLE_1:1;
L1125: ((the topology of R14) c= (the topology of R13) & (the topology of C147) c= (the topology of R14)) by L1075;
L1126: (the topology of C147) c= (the topology of R13) by L1125 , XBOOLE_1:1;
thus L1127: thesis by L1126 , L1124 , L1075;
end;
theorem
L1128: (for R3 being set holds (for R13 being (SimplicialComplexStr of R3) holds (for B77 being (Subset of R13) holds (for B78 being  finite-membered (Subset-Family of B77) holds (( subset-closed_closure_of B78 ) c= (the topology of R13) implies ( Complex_of B78 ) is  strict  strict  strict  strict (SubSimplicialComplex of R13))))))
proof
let R3 being set;
let R13 being (SimplicialComplexStr of R3);
let C148 being (Subset of R13);
let C149 being  finite-membered (Subset-Family of C148);
assume that
L1129: ( subset-closed_closure_of C149 ) c= (the topology of R13);
set D101 = ( Complex_of C149 );
L1130: ( [#] R13 ) c= R3 by L704;
L1131: ( [#] D101 ) c= R3 by L1130 , XBOOLE_1:1;
L1132: (( [#] D101 ) c= ( [#] R13 ) & D101 is  strict  strict  strict  strict (SimplicialComplexStr of R3)) by L1131 , L704;
thus L1133: thesis by L1132 , L1129 , L1075;
end;
theorem
L1134: (for R3 being set holds (for B79 being  subset-closed (SimplicialComplexStr of R3) holds (for B80 being (Subset of B79) holds (for B81 being  finite-membered (Subset-Family of B80) holds (B81 c= (the topology of B79) implies ( Complex_of B81 ) is  strict  strict  strict  strict (SubSimplicialComplex of B79))))))
proof
let R3 being set;
let C150 being  subset-closed (SimplicialComplexStr of R3);
let C151 being (Subset of C150);
let C152 being  finite-membered (Subset-Family of C151);
L1135: ( the_family_of C150 ) is  subset-closed;
assume L1136: C152 c= (the topology of C150);
thus L1137: thesis by L1136 , L1135 , L107 , L1128;
end;
theorem
L1138: (for R3 being set holds (for B82 , B83 being (Subset-Family of R3) holds ((B82 is  finite-membered & B82 is_finer_than B83) implies ( Complex_of B82 ) is (SubSimplicialComplex of ( Complex_of B83 )))))
proof
let R3 being set;
let C153 , C154 being (Subset-Family of R3);
assume that
L1139: C153 is  finite-membered
and
L1140: C153 is_finer_than C154;
set D102 = ( Complex_of C153 );
set D103 = ( Complex_of C154 );
L1141: (( [#] D102 ) = R3 & ( [#] D103 ) = R3);
L1142: ( subset-closed_closure_of C153 ) c= ( subset-closed_closure_of C154 ) by L1140 , L142;
thus L1143: thesis by L1142 , L1139 , L1141 , L1075;
end;
theorem
L1144: (for R3 being set holds (for R13 being (SimplicialComplexStr of R3) holds (for R14 being (SubSimplicialComplex of R13) holds ( Vertices R14 ) c= ( Vertices R13 ))))
proof
let R3 being set;
let R13 being (SimplicialComplexStr of R3);
let R14 being (SubSimplicialComplex of R13);
let R1 being set;
assume L1145: R1 in ( Vertices R14 );
reconsider D104 = R1 as (Element of R14) by L1145;
L1146: D104 is  vertex-like by L1145 , L672;
consider C155 being (Subset of R14) such that L1147: C155 is  simplex-like and L1148: D104 in C155 by L1146 , L670;
L1149: (the topology of R14) c= (the topology of R13) by L1075;
L1150: C155 in (the topology of R14) by L1147 , PRE_TOPC:def 2;
L1151: C155 in (the topology of R13) by L1150 , L1149;
reconsider D105 = C155 as (Subset of R13) by L1151;
L1152: D104 in D105 by L1148;
reconsider D106 = D104 as (Element of R13) by L1152;
L1153: D105 is  simplex-like by L1149 , L1150 , PRE_TOPC:def 2;
L1154: D106 is  vertex-like by L1153 , L1148 , L670;
thus L1155: thesis by L1154 , L672;
end;
theorem
L1156: (for R3 being set holds (for R13 being (SimplicialComplexStr of R3) holds (for R14 being (SubSimplicialComplex of R13) holds ( degree R14 ) <= ( degree R13 ))))
proof
let R3 being set;
let R13 being (SimplicialComplexStr of R3);
let R14 being (SubSimplicialComplex of R13);
per cases ;
suppose L1157: R14 is non  finite-degree;

L1158: R14 is non  void
proof
assume L1159: R14 is  void;
L1160: R14 is  empty-membered by L1159;
thus L1161: contradiction by L1160 , L1157;
end;
L1162: (R13 is non  finite-degree non  void & ( degree R14 ) = ( +infty )) by L1158 , L1157 , L940;
thus L1163: thesis by L1162 , L940;
end;
suppose L1164: R14 is  void;

L1165: ( degree R14 ) = ( - 1 ) by L1164 , L940;
thus L1166: thesis by L1165 , L1012;
end;
suppose L1167: R14 is non  void  finite-degree;

L1168: R13 is non  void by L1167;
per cases ;
suppose L1169: R13 is non  finite-degree;

L1170: ( degree R13 ) = ( +infty ) by L1169 , L1168 , L940;
thus L1171: thesis by L1170 , XXREAL_0:3;
end;
suppose L1172: R13 is  finite-degree;

L1173: (the topology of R14) c= (the topology of R13) by L1075;
consider C156 being (Subset of R14) such that L1174: C156 is  simplex-like and L1175: ( card C156 ) = ( ( degree R14 ) + 1 ) by L1167 , L940;
L1176: C156 in (the topology of R14) by L1174 , PRE_TOPC:def 2;
L1177: C156 in (the topology of R13) by L1176 , L1173;
reconsider D107 = C156 as  finite (Subset of R13) by L1177 , L1172 , L1175;
L1178: D107 is  simplex-like by L1173 , L1176 , PRE_TOPC:def 2;
L1179: ( ( degree R14 ) + 1 ) <= ( ( degree R13 ) + 1 ) by L1178 , L1168 , L1172 , L1175 , L940;
L1180: ( ( ( degree R14 ) + 1 ) - 1 ) <= ( ( ( degree R13 ) + 1 ) - 1 ) by L1179 , XXREAL_3:37;
L1181: ( ( ( degree R14 ) + 1 ) - 1 ) = ( degree R14 ) by XXREAL_3:24;
thus L1182: thesis by L1181 , L1180 , XXREAL_3:24;
end;
end;
end;
definition
let R3 being set;
let R13 being (SimplicialComplexStr of R3);
let R14 being (SubSimplicialComplex of R13);
attr R14 is  maximal
means
:L1185: (for B84 being (Subset of R14) holds (B84 in (the topology of R13) implies B84 is  simplex-like));
end;
theorem
L1187: (for R3 being set holds (for R13 being (SimplicialComplexStr of R3) holds (for R14 being (SubSimplicialComplex of R13) holds (R14 is  maximal iff ( ( bool ( [#] R14 ) ) /\ (the topology of R13) ) c= (the topology of R14)))))
proof
let R3 being set;
let R13 being (SimplicialComplexStr of R3);
let R14 being (SubSimplicialComplex of R13);
thus L1188:now
assume L1189: R14 is  maximal;
thus L1190: ( ( bool ( [#] R14 ) ) /\ (the topology of R13) ) c= (the topology of R14)
proof
let R1 being set;
assume L1191: R1 in ( ( bool ( [#] R14 ) ) /\ (the topology of R13) );
reconsider D108 = R1 as (Subset of R14) by L1191 , XBOOLE_0:def 4;
L1192: D108 in (the topology of R13) by L1191 , XBOOLE_0:def 4;
L1193: D108 is  simplex-like by L1192 , L1189 , L1185;
thus L1194: thesis by L1193 , PRE_TOPC:def 2;
end;

end;
assume L1191: ( ( bool ( [#] R14 ) ) /\ (the topology of R13) ) c= (the topology of R14);
let C157 being (Subset of R14);
assume L1192: C157 in (the topology of R13);
L1193: C157 in ( ( bool ( [#] R14 ) ) /\ (the topology of R13) ) by L1192 , XBOOLE_0:def 4;
thus L1194: thesis by L1193 , L1191 , PRE_TOPC:def 2;
end;
registration
let R3 being set;
let R13 being (SimplicialComplexStr of R3);
cluster  maximal  strict for (SubSimplicialComplex of R13);
existence
proof
set D109 = ( ( bool ( {} ) ) /\ (the topology of R13) );
reconsider D110 = D109 as  finite-membered  subset-closed (Subset-Family of ( {} R13 )) by XBOOLE_1:17 , ZFMISC_1:1 , ZFMISC_1:33;
L1195: ( subset-closed_closure_of D110 ) = D110 by L151;
reconsider D111 = ( Complex_of D110 ) as  strict (SubSimplicialComplex of R13) by L1195 , L1128 , XBOOLE_1:17;
take D111;
L1196: (D111 = TopStruct (# ( {} R13 ) , D110 #) & ( bool ( [#] D111 ) ) = ( bool ( {} ) )) by L151;
thus L1197: thesis by L1196 , L1187;
end;
end;
theorem
L1199: (for R3 being set holds (for R13 being (SimplicialComplexStr of R3) holds (for R14 being (SubSimplicialComplex of R13) holds (for B85 being (SubSimplicialComplex of R14) holds ((R14 is  maximal & B85 is  maximal) implies B85 is  maximal  maximal  maximal  maximal (SubSimplicialComplex of R13))))))
proof
let R3 being set;
let R13 being (SimplicialComplexStr of R3);
let R14 being (SubSimplicialComplex of R13);
let C158 being (SubSimplicialComplex of R14);
reconsider D112 = C158 as (SubSimplicialComplex of R13) by L1122;
assume that
L1200: R14 is  maximal
and
L1201: C158 is  maximal;
L1202: ( [#] C158 ) c= ( [#] R14 ) by L1075;
L1203:
now
let C159 being (Subset of D112);
reconsider D113 = C159 as (Subset of R14) by L1202 , XBOOLE_1:1;
assume L1204: C159 in (the topology of R13);
L1205: D113 is  simplex-like by L1204 , L1200 , L1185;
L1206: D113 in (the topology of R14) by L1205 , PRE_TOPC:def 2;
thus L1207: C159 is  simplex-like by L1206 , L1201 , L1185;
end;
thus L1208: C158 is  maximal  maximal  maximal  maximal (SubSimplicialComplex of R13) by L1203 , L1185;
end;
theorem
L1209: (for R3 being set holds (for R13 being (SimplicialComplexStr of R3) holds (for R14 being (SubSimplicialComplex of R13) holds (for B86 being (SubSimplicialComplex of R14) holds (B86 is  maximal  maximal  maximal  maximal (SubSimplicialComplex of R13) implies B86 is  maximal)))))
proof
let R3 being set;
let R13 being (SimplicialComplexStr of R3);
let R14 being (SubSimplicialComplex of R13);
let C160 being (SubSimplicialComplex of R14);
assume L1210: C160 is  maximal  maximal  maximal  maximal (SubSimplicialComplex of R13);
reconsider D114 = C160 as  maximal (SubSimplicialComplex of R13) by L1210;
L1211: (the topology of R14) c= (the topology of R13) by L1075;
L1212: ( ( bool ( [#] D114 ) ) /\ (the topology of R14) ) c= ( ( bool ( [#] D114 ) ) /\ (the topology of R13) ) by L1211 , XBOOLE_1:26;
L1213: ( ( bool ( [#] D114 ) ) /\ (the topology of R13) ) c= (the topology of D114) by L1187;
L1214: ( ( bool ( [#] C160 ) ) /\ (the topology of R14) ) c= (the topology of C160) by L1213 , L1212 , XBOOLE_1:1;
thus L1215: thesis by L1214 , L1187;
end;
theorem
L1216: (for R3 being set holds (for R13 being (SimplicialComplexStr of R3) holds (for B87 , B88 being  maximal (SubSimplicialComplex of R13) holds (( [#] B87 ) = ( [#] B88 ) implies ( the TopStruct of B87 ) = ( the TopStruct of B88 )))))
proof
let R3 being set;
let R13 being (SimplicialComplexStr of R3);
let C161 , C162 being  maximal (SubSimplicialComplex of R13);
assume L1217: ( [#] C161 ) = ( [#] C162 );
set D115 = (the topology of C161);
set D116 = (the topology of C162);
set D117 = (the topology of R13);
L1218: ( D117 /\ ( bool ( [#] C162 ) ) ) c= D116 by L1187;
L1219: D115 c= D117 by L1075;
L1220: D115 c= ( D117 /\ ( bool ( [#] C161 ) ) ) by L1219 , XBOOLE_1:19;
L1221: D116 c= D117 by L1075;
L1222: D116 c= ( D117 /\ ( bool ( [#] C162 ) ) ) by L1221 , XBOOLE_1:19;
L1223: ( D117 /\ ( bool ( [#] C161 ) ) ) c= D115 by L1187;
L1224: D115 = ( D117 /\ ( bool ( [#] C161 ) ) ) by L1223 , L1220 , XBOOLE_0:def 10
.= D116 by L1217 , L1218 , L1222 , XBOOLE_0:def 10;
thus L1225: thesis by L1224 , L1217;
end;
definition
let R3 being set;
let C163 being  subset-closed (SimplicialComplexStr of R3);
let C164 being (Subset of C163);
assume that
L1226: ( ( bool C164 ) /\ (the topology of C163) ) is  finite-membered;
func C163 | C164 ->  maximal  strict (SubSimplicialComplex of C163) means 
:L1227: ( [#] it ) = C164;
existence
proof
L1228: ( the_family_of C163 ) is  subset-closed;
reconsider D118 = ( ( bool C164 ) /\ (the topology of C163) ) as  finite-membered  subset-closed (Subset-Family of C164) by L1228 , L1226 , XBOOLE_1:17;
set D119 = TopStruct (# C164 , D118 #);
L1229: (( [#] D119 ) c= ( [#] C163 ) & (the topology of D119) c= (the topology of C163)) by XBOOLE_1:17;
L1230: D118 = ( the_family_of D119 );
L1231: D119 is  subset-closed  finite-membered by L1230 , MATROID0:def 3 , MATROID0:def 6;
L1232: ( [#] C163 ) c= R3 by L704;
L1233: ( [#] D119 ) c= R3 by L1232 , XBOOLE_1:1;
L1234: D119 is (SimplicialComplexStr of R3) by L1233 , L704;
reconsider D120 = D119 as  maximal  strict (SubSimplicialComplex of C163) by L1234 , L1229 , L1231 , L1075 , L1187;
take D120;
thus L1235: thesis;
end;
uniqueness by L1216;
end;
definition
let R3 being set;
let R15 being (SimplicialComplex of R3);
let C165 being (Subset of R15);
redefine func R15 | C165 means 
:L1237: ( [#] it ) = C165;
compatibility
proof
let C166 being  maximal  strict (SubSimplicialComplex of R15);
L1238: (( the_family_of R15 ) is  finite-membered & ( ( bool C165 ) /\ (the topology of R15) ) c= (the topology of R15)) by MATROID0:def 6 , XBOOLE_1:17;
thus L1239: thesis by L1238 , L1227;
end;
end;
theorem
L1241: (for R3 being set holds (for R15 being (SimplicialComplex of R3) holds (for B89 being (Subset of R15) holds (the topology of ( R15 | B89 )) = ( ( bool B89 ) /\ (the topology of R15) ))))
proof
let R3 being set;
let R15 being (SimplicialComplex of R3);
let C167 being (Subset of R15);
L1242: ( [#] ( R15 | C167 ) ) = C167 by L1237;
L1243: ( ( bool C167 ) /\ (the topology of R15) ) c= (the topology of ( R15 | C167 )) by L1242 , L1187;
L1244: (the topology of ( R15 | C167 )) c= (the topology of R15) by L1075;
L1245: (the topology of ( R15 | C167 )) c= ( ( bool C167 ) /\ (the topology of R15) ) by L1244 , L1242 , XBOOLE_1:19;
thus L1246: thesis by L1245 , L1243 , XBOOLE_0:def 10;
end;
theorem
L1247: (for R3 being set holds (for R15 being (SimplicialComplex of R3) holds (for B90 , B91 being (Subset of R15) holds (for B92 being (Subset of ( R15 | B90 )) holds (B92 = B91 implies ( ( R15 | B90 ) | B92 ) = ( R15 | B91 ))))))
proof
let R3 being set;
let R15 being (SimplicialComplex of R3);
let C168 , C169 being (Subset of R15);
let C170 being (Subset of ( R15 | C168 ));
reconsider D121 = ( ( R15 | C168 ) | C170 ) as  maximal  strict (SubSimplicialComplex of R15) by L1199;
assume L1248: C170 = C169;
L1249: ( [#] D121 ) = C170 by L1237;
thus L1250: thesis by L1249 , L1248 , L1237;
end;
theorem
L1251: (for R3 being set holds (for R15 being (SimplicialComplex of R3) holds ( R15 | ( [#] R15 ) ) = ( the TopStruct of R15 )))
proof
let R3 being set;
let R15 being (SimplicialComplex of R3);
set D122 = ( the TopStruct of R15 );
L1252: (( [#] D122 ) c= ( [#] R15 ) & ( ( bool ( [#] D122 ) ) /\ (the topology of R15) ) = (the topology of R15)) by XBOOLE_1:28;
L1253: (( the_family_of R15 ) = ( the_family_of D122 ) & ( the_family_of R15 ) is  finite-membered  subset-closed) by MATROID0:def 6;
L1254: D122 is  finite-membered  subset-closed by L1253 , MATROID0:def 3 , MATROID0:def 6;
L1255: ( [#] R15 ) c= R3 by L704;
L1256: ( [#] D122 ) c= R3 by L1255;
L1257: D122 is (SimplicialComplexStr of R3) by L1256 , L704;
reconsider D123 = D122 as  maximal (SubSimplicialComplex of R15) by L1257 , L1252 , L1254 , L1075 , L1187;
L1258: ( [#] D123 ) = ( [#] R15 );
thus L1259: thesis by L1258 , L1237;
end;
theorem
L1260: (for R3 being set holds (for R15 being (SimplicialComplex of R3) holds (for B93 , B94 being (Subset of R15) holds (B93 c= B94 implies ( R15 | B93 ) is (SubSimplicialComplex of ( R15 | B94 ))))))
proof
let R3 being set;
let R15 being (SimplicialComplex of R3);
let C171 , C172 being (Subset of R15);
L1261: (( ( bool C171 ) /\ (the topology of R15) ) = (the topology of ( R15 | C171 )) & ( ( bool C172 ) /\ (the topology of R15) ) = (the topology of ( R15 | C172 ))) by L1241;
assume L1262: C171 c= C172;
L1263: ( bool C171 ) c= ( bool C172 ) by L1262 , ZFMISC_1:67;
L1264: ( ( bool C171 ) /\ (the topology of R15) ) c= ( ( bool C172 ) /\ (the topology of R15) ) by L1263 , XBOOLE_1:27;
L1265: (( [#] ( R15 | C171 ) ) = C171 & ( [#] ( R15 | C172 ) ) = C172) by L1237;
thus L1266: thesis by L1265 , L1262 , L1264 , L1261 , L1075;
end;
registration
cluster  ->  finite for Integer;
coherence
proof
let C173 being Integer;
L1267: C173 in ( ( ( NAT ) \/ [: { ( 0 ) } , ( NAT ) :] ) \ { [ ( 0 ) , ( 0 ) ] } ) by INT_1:def 2 , NUMBERS:def 4;
L1268: (C173 in ( NAT ) or C173 in [: { ( 0 ) } , ( NAT ) :]) by L1267 , XBOOLE_0:def 3;
L1269: (C173 in ( NAT ) or (ex B95 , B96 being set st (B95 in { ( 0 ) } & B96 in ( NAT ) & C173 = [ B95 , B96 ]))) by L1268 , ZFMISC_1:def 2;
thus L1270: thesis by L1269;
end;
end;
begin
definition
let R3 being set;
let R13 being (SimplicialComplexStr of R3);
let C174 being  real number;
func Skeleton_of (R13 , C174) -> (SimplicialComplexStr of R3) equals 
( Complex_of ( the_subsets_with_limited_card (( C174 + 1 ) , (the topology of R13)) ) );
coherence
proof
set D124 = ( Complex_of ( the_subsets_with_limited_card (( C174 + 1 ) , (the topology of R13)) ) );
L1272: ( [#] R13 ) c= R3 by L704;
L1273: ( [#] D124 ) c= R3 by L1272;
thus L1274: thesis by L1273 , L704;
end;
end;
registration
let R3 being set;
let R13 being (SimplicialComplexStr of R3);
cluster ( Skeleton_of (R13 , ( - 1 )) ) ->  empty-membered;
coherence
proof
assume L1276: ( Skeleton_of (R13 , ( - 1 )) ) is  with_non-empty_element;
L1277: (the topology of ( Skeleton_of (R13 , ( - 1 )) )) is  with_non-empty_element by L1276 , L700;
consider C175 being non  empty set such that L1278: C175 in (the topology of ( Skeleton_of (R13 , ( - 1 )) )) by L1277 , SETFAM_1:def 10;
consider C176 being set such that L1279: C175 c= C176 and L1280: C176 in ( the_subsets_with_limited_card (( ( - 1 ) + 1 ) , (the topology of R13)) ) by L1278 , L69;
L1281: ( card C176 ) c= ( card ( ( - 1 ) + 1 ) ) by L1280 , L163;
L1282: ( card C176 ) c= ( {} ) by L1281;
L1283: C176 is  empty by L1282;
thus L1284: thesis by L1283 , L1279;
end;
let R9 being Integer;
cluster ( Skeleton_of (R13 , R9) ) ->  finite-degree;
coherence
proof
reconsider D125 = ( R9 + 1 ) as Integer;
set D126 = ( the_subsets_with_limited_card (( R9 + 1 ) , (the topology of R13)) );
set D127 = ( Complex_of D126 );
L1285:
now
let C177 being  finite (Subset of D127);
assume L1286: C177 is  open;
L1287: C177 in ( subset-closed_closure_of D126 ) by L1286 , PRE_TOPC:def 2;
consider C178 being set such that L1288: (C177 c= C178 & C178 in D126) by L1287 , L69;
L1289: (( card C177 ) c= ( card C178 ) & ( card C178 ) c= ( card D125 )) by L1288 , L163 , CARD_1:11;
L1290: ( card C177 ) c= ( card D125 ) by L1289 , XBOOLE_1:1;
thus L1291: ( card C177 ) <= ( card D125 ) by L1290 , NAT_1:39;
end;
thus L1292: thesis by L1285 , MATROID0:def 7;
end;
end;
registration
let R3 being set;
let C179 being  empty-membered (SimplicialComplexStr of R3);
let R9 being Integer;
cluster ( Skeleton_of (C179 , R9) ) ->  empty-membered;
coherence
proof
assume L1294: ( Skeleton_of (C179 , R9) ) is  with_non-empty_element;
L1295: (the topology of ( Skeleton_of (C179 , R9) )) is  with_non-empty_element by L1294 , L700;
consider C180 being non  empty set such that L1296: C180 in (the topology of ( Skeleton_of (C179 , R9) )) by L1295 , SETFAM_1:def 10;
L1297: (the topology of C179) is  empty-membered by L700;
consider R2 being set such that L1298: C180 c= R2 and L1299: R2 in ( the_subsets_with_limited_card (( R9 + 1 ) , (the topology of C179)) ) by L1296 , L69;
L1300: R2 in (the topology of C179) by L1299 , L163;
L1301: R2 is  empty by L1300 , L1297 , SETFAM_1:def 10;
thus L1302: thesis by L1301 , L1298;
end;
end;
registration
let R6 being non  empty set;
let C181 being non  void  subset-closed (SimplicialComplexStr of R6);
let R9 being Integer;
cluster ( Skeleton_of (C181 , R9) ) -> non  void;
coherence
proof
reconsider D128 = ( {} ) as (Subset of C181) by XBOOLE_1:2;
L1304: (D128 in (the topology of C181) & ( card D128 ) c= ( card ( R9 + 1 ) )) by PRE_TOPC:def 2;
L1305: D128 in ( the_subsets_with_limited_card (( R9 + 1 ) , (the topology of C181)) ) by L1304 , L163;
thus L1306: thesis by L1305;
end;
end;
theorem
L1308: (for R3 being set holds (for R10 being Integer holds (for R11 being Integer holds (for R13 being (SimplicialComplexStr of R3) holds ((( - 1 ) <= R10 & R10 <= R11) implies ( Skeleton_of (R13 , R10) ) is (SubSimplicialComplex of ( Skeleton_of (R13 , R11) )))))))
proof
let R3 being set;
let R10 being Integer;
let R11 being Integer;
let R13 being (SimplicialComplexStr of R3);
assume that
L1309: ( - 1 ) <= R10
and
L1310: R10 <= R11;
L1311: ( - 1 ) <= R11 by L1309 , L1310 , XXREAL_0:2;
L1312: ( ( - 1 ) + 1 ) <= ( R11 + 1 ) by L1311 , XREAL_1:6;
L1313: ( ( - 1 ) + 1 ) <= ( R10 + 1 ) by L1309 , XREAL_1:6;
reconsider D129 = ( R10 + 1 ) , D130 = ( R11 + 1 ) as (Element of ( NAT )) by L1313 , L1312 , INT_1:3;
L1314: ( the_subsets_with_limited_card (( R10 + 1 ) , (the topology of R13)) ) c= ( the_subsets_with_limited_card (( R11 + 1 ) , (the topology of R13)) )
proof
let R1 being set;
L1315: D129 <= D130 by L1310 , XREAL_1:6;
L1316: ( card D129 ) c= ( card D130 ) by L1315 , NAT_1:40;
assume L1317: R1 in ( the_subsets_with_limited_card (( R10 + 1 ) , (the topology of R13)) );
L1318: ( card R1 ) c= ( card D129 ) by L1317 , L163;
L1319: ( card R1 ) c= ( card D130 ) by L1318 , L1316 , XBOOLE_1:1;
L1320: R1 in (the topology of R13) by L1317 , L163;
thus L1321: thesis by L1320 , L1319 , L163;
end;
L1322: ( the_subsets_with_limited_card (( R10 + 1 ) , (the topology of R13)) ) is_finer_than ( the_subsets_with_limited_card (( R11 + 1 ) , (the topology of R13)) ) by L1314 , SETFAM_1:12;
L1323: (the topology of ( Skeleton_of (R13 , R10) )) c= (the topology of ( Skeleton_of (R13 , R11) )) by L1322 , L142;
L1324: ( [#] ( Skeleton_of (R13 , R10) ) ) = ( [#] ( Skeleton_of (R13 , R11) ) );
thus L1325: thesis by L1324 , L1323 , L1075;
end;
definition
let R3 being set;
let C182 being  subset-closed (SimplicialComplexStr of R3);
let R9 being Integer;
redefine func Skeleton_of (C182 , R9) -> (SubSimplicialComplex of C182);

coherence
proof
L1326: ( the_subsets_with_limited_card (( R9 + 1 ) , (the topology of C182)) ) c= (the topology of C182)
proof
let R1 being set;
assume L1327: R1 in ( the_subsets_with_limited_card (( R9 + 1 ) , (the topology of C182)) );
thus L1328: thesis by L1327 , L163;
end;
L1329: ( the_family_of C182 ) is  subset-closed;
L1330: (( [#] ( Skeleton_of (C182 , R9) ) ) = ( [#] C182 ) & ( subset-closed_closure_of ( the_subsets_with_limited_card (( R9 + 1 ) , (the topology of C182)) ) ) c= (the topology of C182)) by L1329 , L1326 , L107;
thus L1331: thesis by L1330 , L1075;
end;
end;
theorem
L1333: (for R3 being set holds (for R9 being Integer holds (for R13 being (SimplicialComplexStr of R3) holds ((R13 is  subset-closed & ( Skeleton_of (R13 , R9) ) is  empty-membered) implies (R13 is  empty-membered or R9 = ( - 1 ))))))
proof
let R3 being set;
let R9 being Integer;
let R13 being (SimplicialComplexStr of R3);
assume L1334: R13 is  subset-closed;
L1335: ( the_family_of R13 ) is  subset-closed by L1334;
assume L1336: ( Skeleton_of (R13 , R9) ) is  empty-membered;
assume L1337: R13 is  with_non-empty_element;
L1338: (the topology of R13) is  with_non-empty_element by L1337 , L700;
consider C183 being non  empty set such that L1339: C183 in (the topology of R13) by L1338 , SETFAM_1:def 10;
consider R2 being set such that L1340: R2 in C183 by XBOOLE_0:def 1;
assume L1341: R9 <> ( - 1 );
L1342: (( {} ) c= ( card ( R9 + 1 ) ) & ( R9 + 1 ) is non  empty) by L1341;
L1343: ( {} ) in ( card ( R9 + 1 ) ) by L1342 , CARD_1:3;
L1344: 1 c= ( card ( R9 + 1 ) ) by L1343 , CARD_2:68;
L1345: ( card { R2 } ) c= ( card ( R9 + 1 ) ) by L1344 , CARD_1:30;
L1346: { R2 } c= C183 by L1340 , ZFMISC_1:31;
L1347: { R2 } in (the topology of R13) by L1346 , L1335 , L1339 , CLASSES1:def 1;
L1348: { R2 } in ( the_subsets_with_limited_card (( R9 + 1 ) , (the topology of R13)) ) by L1347 , L1345 , L163;
L1349: { R2 } in (the topology of ( Skeleton_of (R13 , R9) )) by L1348 , L69;
L1350: (the topology of ( Skeleton_of (R13 , R9) )) is  empty-membered by L1336 , L700;
thus L1351: thesis by L1350 , L1349 , SETFAM_1:def 10;
end;
theorem
L1352: (for R3 being set holds (for R9 being Integer holds (for R13 being (SimplicialComplexStr of R3) holds ( degree ( Skeleton_of (R13 , R9) ) ) <= ( degree R13 ))))
proof
let R3 being set;
let R9 being Integer;
let R13 being (SimplicialComplexStr of R3);
set D131 = ( Skeleton_of (R13 , R9) );
per cases ;
suppose L1353: (R13 is  void or D131 is  void);

L1354: (R13 is  empty-membered or D131 is  empty-membered) by L1353;
L1355: ( degree ( Skeleton_of (R13 , R9) ) ) = ( - 1 ) by L1354 , L988;
thus L1356: thesis by L1355 , L1012;
end;
suppose L1357: (R13 is non  void  finite-degree & D131 is non  void);

reconsider D132 = ( degree R13 ) as Integer by L1357;
L1358:
now
let C184 being  finite (Subset of D131);
assume L1359: C184 is  simplex-like;
L1360: C184 in ( subset-closed_closure_of ( the_subsets_with_limited_card (( R9 + 1 ) , (the topology of R13)) ) ) by L1359 , PRE_TOPC:def 2;
consider C185 being set such that L1361: C184 c= C185 and L1362: C185 in ( the_subsets_with_limited_card (( R9 + 1 ) , (the topology of R13)) ) by L1360 , L69;
L1363: C185 in (the topology of R13) by L1362 , L163;
reconsider D133 = C185 as  finite (Subset of R13) by L1362;
L1364: ( card C184 ) c= ( card D133 ) by L1361 , CARD_1:11;
L1365: ( card C184 ) <= ( card D133 ) by L1364 , NAT_1:39;
L1366: (D133 is  simplex-like & R13 is non  void) by L1363 , PENCIL_1:def 4 , PRE_TOPC:def 2;
L1367: ( card D133 ) <= ( D132 + 1 ) by L1366 , L1032;
thus L1368: ( card C184 ) <= ( D132 + 1 ) by L1367 , L1365 , XXREAL_0:2;
end;
thus L1369: thesis by L1358 , L1357 , L1032;
end;
suppose L1370: R13 is non  finite-degree;

L1371: R13 is non  void
proof
assume L1372: R13 is  void;
L1373: R13 is  empty-membered by L1372;
thus L1374: thesis by L1373 , L1370;
end;
L1375: ( degree R13 ) = ( +infty ) by L1371 , L1370 , L940;
thus L1376: thesis by L1375 , XXREAL_0:3;
end;
end;
theorem
L1378: (for R3 being set holds (for R9 being Integer holds (for R13 being (SimplicialComplexStr of R3) holds (( - 1 ) <= R9 implies ( degree ( Skeleton_of (R13 , R9) ) ) <= R9))))
proof
let R3 being set;
let R9 being Integer;
let R13 being (SimplicialComplexStr of R3);
set D134 = ( the_subsets_with_limited_card (( R9 + 1 ) , (the topology of R13)) );
set D135 = ( Skeleton_of (R13 , R9) );
assume L1379: ( - 1 ) <= R9;
L1380: ( ( - 1 ) + 1 ) <= ( R9 + 1 ) by L1379 , XREAL_1:6;
reconsider D136 = ( R9 + 1 ) as (Element of ( NAT )) by L1380 , INT_1:3;
L1381:
now
let C186 being  finite (Subset of D135);
assume L1382: C186 is  simplex-like;
L1383: C186 in (the topology of D135) by L1382 , PRE_TOPC:def 2;
consider R1 being set such that L1384: (C186 c= R1 & R1 in D134) by L1383 , L69;
L1385: (( card R1 ) c= ( card ( R9 + 1 ) ) & ( card C186 ) c= ( card R1 )) by L1384 , L163 , CARD_1:11;
L1386: ( card C186 ) c= ( card D136 ) by L1385 , XBOOLE_1:1;
L1387: ( card ( card C186 ) ) = ( card C186 );
thus L1388: ( card C186 ) <= ( R9 + 1 ) by L1387 , L1386 , NAT_1:40;
end;
thus L1389: thesis by L1381 , L1379 , L1032;
end;
theorem
L1390: (for R3 being set holds (for R9 being Integer holds (for R13 being (SimplicialComplexStr of R3) holds ((( - 1 ) <= R9 & ( Skeleton_of (R13 , R9) ) = ( the TopStruct of R13 )) implies ( degree R13 ) <= R9))))
proof
let R3 being set;
let R9 being Integer;
let R13 being (SimplicialComplexStr of R3);
assume L1391: ( - 1 ) <= R9;
per cases ;
suppose L1392: R13 is  empty-membered;

thus L1393: thesis by L1392 , L1391 , L988;
end;
suppose L1394: R13 is  with_non-empty_element;

L1395: ( ( - 1 ) + 1 ) <= ( R9 + 1 ) by L1391 , XREAL_1:6;
reconsider D137 = ( R9 + 1 ) as (Element of ( NAT )) by L1395 , INT_1:3;
assume L1396: ( Skeleton_of (R13 , R9) ) = ( the TopStruct of R13 );
L1397:
now
let C187 being  finite (Subset of R13);
assume L1398: C187 is  simplex-like;
L1399: C187 in ( subset-closed_closure_of ( the_subsets_with_limited_card (D137 , (the topology of R13)) ) ) by L1398 , L1396 , PRE_TOPC:def 2;
consider R2 being set such that L1400: (C187 c= R2 & R2 in ( the_subsets_with_limited_card (D137 , (the topology of R13)) )) by L1399 , L69;
L1401: (( card C187 ) c= ( card R2 ) & ( card R2 ) c= ( card D137 )) by L1400 , L163 , CARD_1:11;
L1402: ( card C187 ) c= ( card D137 ) by L1401 , XBOOLE_1:1;
L1403: ( card C187 ) = ( card ( card C187 ) );
thus L1404: ( card C187 ) <= D137 by L1403 , L1402 , NAT_1:40;
end;
L1405: (for R1 being set holds (R1 in (the topology of R13) implies R1 is  finite)) by L1396;
L1406: ( the_family_of R13 ) is  finite-membered by L1405 , FINSET_1:def 6;
L1407: R13 is  finite-membered by L1406 , MATROID0:def 6;
thus L1408: thesis by L1407 , L1394 , L1397 , L1032;
end;
end;
theorem
L1410: (for R3 being set holds (for R9 being Integer holds (for R13 being (SimplicialComplexStr of R3) holds ((R13 is  subset-closed & ( degree R13 ) <= R9) implies ( Skeleton_of (R13 , R9) ) = ( the TopStruct of R13 )))))
proof
let R3 being set;
let R9 being Integer;
let R13 being (SimplicialComplexStr of R3);
assume that
L1411: R13 is  subset-closed
and
L1412: ( degree R13 ) <= R9;
set D138 = ( Skeleton_of (R13 , R9) );
L1413: R9 in ( REAL ) by XREAL_0:def 1;
L1414: ( degree R13 ) < ( +infty ) by L1413 , L1412 , XXREAL_0:2 , XXREAL_0:9;
L1415: (R13 is  finite-degree or R13 is  empty-membered) by L1414 , L940;
L1416: ( the_family_of R13 ) is  finite-membered by L1415 , MATROID0:def 6;
L1417: (the topology of R13) c= (the topology of D138)
proof
let R1 being set;
L1418: ( ( degree R13 ) + 1 ) <= ( R9 + 1 ) by L1412 , XXREAL_3:36;
assume L1419: R1 in (the topology of R13);
reconsider D139 = R1 as  finite (Subset of R13) by L1419 , L1416;
L1420: (D139 is  simplex-like & R13 is non  void) by L1419 , PENCIL_1:def 4 , PRE_TOPC:def 2;
L1421: ( card D139 ) <= ( ( degree R13 ) + 1 ) by L1420 , L1415 , L940;
L1422: (( card D139 ) <= ( R9 + 1 ) & ( R9 + 1 ) in ( NAT )) by L1421 , L1418 , INT_1:3 , XXREAL_0:2;
L1423: ( card ( card D139 ) ) c= ( card ( R9 + 1 ) ) by L1422 , NAT_1:40;
L1424: D139 in ( the_subsets_with_limited_card (( R9 + 1 ) , (the topology of R13)) ) by L1423 , L1419 , L163;
thus L1425: thesis by L1424 , L69;
end;
L1426: ( the_subsets_with_limited_card (( R9 + 1 ) , (the topology of R13)) ) c= (the topology of R13)
proof
let R1 being set;
thus L1427: thesis by L163;
end;
L1428: ( the_family_of R13 ) is  subset-closed by L1411;
L1429: (the topology of D138) c= (the topology of R13) by L1428 , L1426 , L107;
thus L1430: thesis by L1429 , L1417 , XBOOLE_0:def 10;
end;
L1431: (for R9 being Integer holds (for R16 being non  void  subset-closed SimplicialComplexStr holds ((( - 1 ) <= R9 & R9 <= ( degree R16 )) implies (ex B97 being (Simplex of R16) st ( card B97 ) = ( R9 + 1 )))))
proof
let R9 being Integer;
let R16 being non  void  subset-closed SimplicialComplexStr;
assume that
L1432: ( - 1 ) <= R9
and
L1433: R9 <= ( degree R16 );
L1434: ( ( - 1 ) + 1 ) <= ( R9 + 1 ) by L1432 , XREAL_1:6;
reconsider D140 = ( R9 + 1 ) as (Element of ( NAT )) by L1434 , INT_1:3;
per cases ;
suppose L1435: (not R16 is  finite-degree);

per cases  by L1435 , MATROID0:def 7;
suppose L1436: (not R16 is  finite-membered);

L1437: (not ( the_family_of R16 ) is  finite-membered) by L1436 , MATROID0:def 6;
consider C188 being set such that L1438: C188 in ( the_family_of R16 ) and L1439: C188 is  infinite by L1437 , FINSET_1:def 6;
L1440: ( card D140 ) c= ( card C188 ) by L1439;
consider C189 being Function such that L1441: (C189 is  one-to-one & ( dom C189 ) = D140) and L1442: ( rng C189 ) c= C188 by L1440 , CARD_1:10;
L1443: ( rng C189 ) in ( the_family_of R16 ) by L1438 , L1442 , CLASSES1:def 1;
reconsider D141 = ( rng C189 ) as (Simplex of R16) by L1443 , PRE_TOPC:def 2;
take D141;
L1444: D141 , D140 are_equipotent  by L1441 , WELLORD2:def 4;
thus L1445: thesis by L1444 , CARD_1:def 2;
end;
suppose L1446: (for B98 being Nat holds (ex B99 being  finite (Subset of R16) st (B99 is  open & ( card B99 ) > B98)));

consider C190 being  finite (Subset of R16) such that L1447: C190 is  simplex-like and L1448: ( card C190 ) > D140 by L1446;
L1449: ( card D140 ) in ( card ( card C190 ) ) by L1448 , NAT_1:41;
L1450: ( card D140 ) c= ( card C190 ) by L1449 , CARD_1:3;
consider C191 being Function such that L1451: (C191 is  one-to-one & ( dom C191 ) = D140) and L1452: ( rng C191 ) c= C190 by L1450 , CARD_1:10;
L1453: C190 in ( the_family_of R16 ) by L1447 , PRE_TOPC:def 2;
L1454: ( rng C191 ) in ( the_family_of R16 ) by L1453 , L1452 , CLASSES1:def 1;
reconsider D142 = ( rng C191 ) as (Simplex of R16) by L1454 , PRE_TOPC:def 2;
take D142;
L1455: D142 , D140 are_equipotent  by L1451 , WELLORD2:def 4;
thus L1456: thesis by L1455 , CARD_1:def 2;
end;
end;
suppose L1458: R16 is  finite-degree;

reconsider D143 = ( degree R16 ) as Integer by L1458;
consider C192 being (Subset of R16) such that L1459: C192 is  simplex-like and L1460: ( card C192 ) = ( ( degree R16 ) + 1 ) by L1458 , L940;
reconsider D144 = C192 as  finite (Subset of R16) by L1458 , L1459;
L1461: ( R9 + 1 ) <= ( D143 + 1 ) by L1433 , XREAL_1:6;
L1462: D140 c= ( card D144 ) by L1461 , L1460 , NAT_1:39;
L1463: ( card D140 ) c= ( card ( card D144 ) ) by L1462 , CARD_1:41;
consider C193 being Function such that L1464: (C193 is  one-to-one & ( dom C193 ) = D140) and L1465: ( rng C193 ) c= C192 by L1463 , CARD_1:10;
L1466: C192 in ( the_family_of R16 ) by L1459 , PRE_TOPC:def 2;
L1467: ( rng C193 ) in ( the_family_of R16 ) by L1466 , L1465 , CLASSES1:def 1;
reconsider D145 = ( rng C193 ) as (Simplex of R16) by L1467 , PRE_TOPC:def 2;
take D145;
L1468: D145 , D140 are_equipotent  by L1464 , WELLORD2:def 4;
thus L1469: thesis by L1468 , CARD_1:def 2;
end;
end;
definition
let R16 being non  void  subset-closed SimplicialComplexStr;
let C194 being  real number;
assume that
L1471: C194 is  integer;
mode Simplex of C194 , R16
 ->  finite (Simplex of R16)
means :L1472: ( card it ) = ( C194 + 1 ) if (( - 1 ) <= C194 & C194 <= ( degree R16 )) otherwise it is  empty;
existence
proof
L1473:
now
reconsider D146 = ( {} R16 ) as (Simplex of R16);
assume L1474: (( - 1 ) > C194 or C194 > ( degree R16 ));
take D147 = D146;
L1475: D147 is  empty;
thus L1476: thesis by L1475 , L1474;
end;
L1477:
now
assume L1478: (( - 1 ) <= C194 & C194 <= ( degree R16 ));
consider C195 being (Simplex of R16) such that L1479: ( card C195 ) = ( C194 + 1 ) by L1478 , L1471 , L1431;
take D148 = C195;
L1480: D148 is  finite by L1471 , L1479;
thus L1481: thesis by L1480 , L1478 , L1479;
end;
thus L1482: thesis by L1477 , L1473;
end;
correctness;
end;
registration
let R16 being non  void  subset-closed SimplicialComplexStr;
cluster  ->  empty for (Simplex of ( - 1 ) , R16);
coherence
proof
let C196 being (Simplex of ( - 1 ) , R16);
L1484: ( - 1 ) <= ( degree R16 ) by L1012;
L1485: ( card C196 ) = ( ( - 1 ) + 1 ) by L1484 , L1472
.= ( 0 );
thus L1486: thesis by L1485;
end;
end;
theorem
L1488: (for R9 being Integer holds (for R16 being non  void  subset-closed SimplicialComplexStr holds (for B100 being (Simplex of R9 , R16) holds (B100 is non  empty implies R9 is  natural))))
proof
let R9 being Integer;
let R16 being non  void  subset-closed SimplicialComplexStr;
let C197 being (Simplex of R9 , R16);
assume L1489: C197 is non  empty;
L1490: (( - 1 ) <= R9 & R9 <> ( - 1 )) by L1489 , L1472;
L1491: ( - 1 ) < R9 by L1490 , XXREAL_0:1;
L1492: R9 >= ( 0 ) by L1491 , INT_1:8;
L1493: R9 in ( NAT ) by L1492 , INT_1:3;
thus L1494: thesis by L1493;
end;
theorem
L1495: (for R16 being non  void  subset-closed SimplicialComplexStr holds (for B101 being  finite (Simplex of R16) holds B101 is (Simplex of ( ( card B101 ) - 1 ) , R16)))
proof
let R16 being non  void  subset-closed SimplicialComplexStr;
let C198 being  finite (Simplex of R16);
L1496: ( card C198 ) <= ( ( degree R16 ) + 1 ) by L1021;
L1497: ( ( card C198 ) - 1 ) <= ( ( ( degree R16 ) + 1 ) - 1 ) by L1496 , XXREAL_3:37;
L1498: ( ( card C198 ) - 1 ) <= ( degree R16 ) by L1497 , XXREAL_3:24;
L1499: (( ( card C198 ) - 1 ) >= ( ( 0 ) - 1 ) & ( card C198 ) = ( ( ( card C198 ) - 1 ) + 1 )) by XREAL_1:6;
thus L1500: thesis by L1499 , L1498 , L1472;
end;
theorem
L1501: (for R6 being non  empty set holds (for B102 being non  void  subset-closed (SimplicialComplexStr of R6) holds (for B103 being non  void (SubSimplicialComplex of B102) holds (for B104 being Integer holds (for B105 being (Simplex of B104 , B103) holds ((B105 is non  empty or B104 <= ( degree B103 ) or ( degree B103 ) = ( degree B102 )) implies B105 is (Simplex of B104 , B102)))))))
proof
let R6 being non  empty set;
let C199 being non  void  subset-closed (SimplicialComplexStr of R6);
let C200 being non  void (SubSimplicialComplex of C199);
let C201 being Integer;
let C202 being (Simplex of C201 , C200);
assume that
L1502: (C202 is non  empty or C201 <= ( degree C200 ) or ( degree C200 ) = ( degree C199 ));
L1503: (C202 in (the topology of C200) & (the topology of C200) c= (the topology of C199)) by L1075 , PRE_TOPC:def 2;
L1504: C202 in (the topology of C199) by L1503;
reconsider D149 = C202 as (Simplex of C199) by L1504 , PRE_TOPC:def 2;
L1505: ( degree C200 ) <= ( degree C199 ) by L1156;
per cases  by L1502;
suppose L1506: C202 is non  empty;

L1507: ( - 1 ) <= C201 by L1506 , L1472;
L1508: C201 <= ( degree C200 ) by L1506 , L1472;
L1509: ( - 1 ) <= C201 by L1506 , L1472;
L1510: ( card D149 ) = ( C201 + 1 ) by L1509 , L1508 , L1472;
L1511: C201 <= ( degree C199 ) by L1505 , L1508 , XXREAL_0:2;
thus L1512: thesis by L1511 , L1510 , L1507 , L1472;
end;
suppose L1513: C201 <= ( degree C200 );

L1514: C201 <= ( degree C199 ) by L1513 , L1505 , XXREAL_0:2;
per cases ;
suppose L1515: ( - 1 ) <= C201;

L1516: ( card D149 ) = ( C201 + 1 ) by L1515 , L1513 , L1472;
thus L1517: thesis by L1516 , L1514 , L1515 , L1472;
end;
suppose L1518: ( - 1 ) > C201;

L1519: D149 is  empty by L1518 , L1472;
thus L1520: thesis by L1519 , L1518 , L1472;
end;
end;
suppose L1522: ( degree C200 ) = ( degree C199 );

per cases ;
suppose L1523: (( - 1 ) <= C201 & C201 <= ( degree C200 ));

L1524: ( card D149 ) = ( C201 + 1 ) by L1523 , L1472;
thus L1525: thesis by L1524 , L1522 , L1523 , L1472;
end;
suppose L1526: (( - 1 ) > C201 or C201 > ( degree C200 ));

L1527: D149 is  empty by L1526 , L1472;
thus L1528: thesis by L1527 , L1522 , L1526 , L1472;
end;
end;
end;
definition
let R16 being non  void  subset-closed SimplicialComplexStr;
let C203 being  real number;
assume that
L1531: C203 is  integer
and
L1532: C203 <= ( degree R16 );
let C204 being (Simplex of C203 , R16);
mode Face of C204
 -> (Simplex of ( max (( C203 - 1 ) , ( - 1 )) ) , R16)
means :L1533: it c= C204;
existence
proof
per cases ;
suppose L1534: C203 < ( 0 );

L1535: ( C203 - 1 ) < ( ( 0 ) - 1 ) by L1534 , XREAL_1:8;
reconsider D150 = the (Simplex of ( - 1 ) , R16) as (Simplex of ( max (( C203 - 1 ) , ( - 1 )) ) , R16) by L1535 , XXREAL_0:def 10;
take D150;
thus L1536: thesis by XBOOLE_1:2;
end;
suppose L1537: C203 >= ( 0 );

L1538: ( card C204 ) = ( C203 + 1 ) by L1537 , L1531 , L1532 , L1472;
L1539: C204 is non  empty by L1538 , L1537;
consider C205 being set such that L1540: C205 in C204 by L1539 , XBOOLE_0:def 1;
reconsider D151 = C203 as (Element of ( NAT )) by L1531 , L1537 , INT_1:3;
L1541: ( C203 - 1 ) <= ( ( degree R16 ) - ( 0 ) ) by L1532 , XXREAL_3:37;
L1542: ( C203 - 1 ) <= ( degree R16 ) by L1541 , XXREAL_3:4;
reconsider D152 = ( C204 \ { C205 } ) as (Simplex of R16);
L1543: ( card D152 ) = ( ( D151 - 1 ) + 1 ) by L1538 , L1540 , STIRL2_1:55;
L1544: ( C203 - 1 ) >= ( ( 0 ) - 1 ) by L1537 , XREAL_1:6;
L1545: ( max (( C203 - 1 ) , ( - 1 )) ) = ( C203 - 1 ) by L1544 , XXREAL_0:def 10;
reconsider D153 = D152 as (Simplex of ( max (( C203 - 1 ) , ( - 1 )) ) , R16) by L1545 , L1542 , L1543 , L1544 , L1472;
take D153;
thus L1546: thesis by XBOOLE_1:36;
end;
end;
end;
theorem
L1549: (for R3 being set holds (for R7 being Nat holds (for R16 being non  void  subset-closed SimplicialComplexStr holds (for B106 being (Simplex of R7 , R16) holds (R7 <= ( degree R16 ) implies (R3 is (Face of B106) iff (ex R1 being set st (R1 in B106 & ( B106 \ { R1 } ) = R3))))))))
proof
let R3 being set;
let R7 being Nat;
let R16 being non  void  subset-closed SimplicialComplexStr;
let C206 being (Simplex of R7 , R16);
assume that
L1550: R7 <= ( degree R16 );
L1551: ( R7 - 1 ) <= ( R7 - ( 0 ) ) by XREAL_1:6;
L1552: ( R7 - 1 ) <= ( degree R16 ) by L1551 , L1550 , XXREAL_0:2;
reconsider D154 = R7 as Integer;
L1553: ( R7 - 1 ) >= ( ( 0 ) - 1 ) by XREAL_1:6;
L1554: ( max (( R7 - 1 ) , ( - 1 )) ) = ( R7 - 1 ) by L1553 , XXREAL_0:def 10;
L1555: ( card C206 ) = ( D154 + 1 ) by L1550 , L1472;
thus L1556:now
assume L1557: R3 is (Face of C206);
reconsider D155 = R3 as (Face of C206) by L1557;
L1558: D155 c= C206 by L1550 , L1533;
L1559: ( card D155 ) = ( ( R7 - 1 ) + 1 ) by L1552 , L1553 , L1554 , L1472;
L1560: ( card ( C206 \ D155 ) ) = ( ( R7 + 1 ) - R7 ) by L1559 , L1555 , L1558 , CARD_2:44
.= 1;
consider R1 being set such that L1561: ( C206 \ D155 ) = { R1 } by L1560 , CARD_2:42;
take D156 = R1;
L1562: D156 in { D156 } by TARSKI:def 1;
thus L1563: D156 in C206 by L1562 , L1561 , XBOOLE_0:def 5;
thus L1564: ( C206 \ { D156 } ) = ( D155 /\ C206 ) by L1561 , XBOOLE_1:48
.= R3 by L1558 , XBOOLE_1:28;
end;
given R1 being set such that
L1565: R1 in C206
and
L1566: ( C206 \ { R1 } ) = R3;

reconsider D157 = R3 as  finite (Simplex of R16) by L1566;
L1567: ( card D157 ) = ( ( R7 - 1 ) + 1 ) by L1555 , L1565 , L1566 , STIRL2_1:55;
L1568: D157 is (Simplex of ( R7 - 1 ) , R16) by L1567 , L1552 , L1553 , L1472;
L1569: R3 c= C206 by L1566 , XBOOLE_1:36;
thus L1570: thesis by L1569 , L1550 , L1554 , L1568 , L1533;
end;
begin
definition
let R3 being set;
let R13 being (SimplicialComplexStr of R3);
let R17 being Function;
func subdivision (R17 , R13) ->  strict (SimplicialComplexStr of R3) means 
:L1571: (( [#] it ) = ( [#] R13 ) & (for B107 being (Subset of it) holds (B107 is  simplex-like iff (ex B108 being  c=-linear  finite  simplex-like (Subset-Family of R13) st B107 = ( R17 .: B108 )))));
existence
proof
defpred S9[ set ] means (ex B109 being  c=-linear  finite  simplex-like (Subset-Family of R13) st $1 = ( R17 .: B109 ));
set D158 = { B110 where B110 is (Subset of R13) : S9[ B110 ] };
L1572: D158 c= ( bool (the carrier of R13) )
proof
let R1 being set;
assume L1573: R1 in D158;
L1574: (ex B111 being (Subset of R13) st (R1 = B111 & S9[ B111 ])) by L1573;
thus L1575: thesis by L1574;
end;
reconsider D159 = D158 as (Subset-Family of R13) by L1572;
set D160 = TopStruct (# (the carrier of R13) , D159 #);
L1576: (( [#] D160 ) = ( [#] R13 ) & ( [#] R13 ) c= R3) by L704;
reconsider D161 = D160 as  strict (SimplicialComplexStr of R3) by L1576 , L704;
take D161;
thus L1577: ( [#] D161 ) = ( [#] R13 );
let C207 being (Subset of D161);
thus L1578:now
assume L1579: C207 is  simplex-like;
L1580: C207 in D159 by L1579 , PRE_TOPC:def 2;
L1581: (ex B112 being (Subset of R13) st (B112 = C207 & S9[ B112 ])) by L1580;
thus L1582: S9[ C207 ] by L1581;
end;
assume L1583: S9[ C207 ];
L1584: C207 in D159 by L1583;
thus L1585: thesis by L1584 , PRE_TOPC:def 2;
end;
uniqueness
proof
let C208 , C209 being  strict (SimplicialComplexStr of R3);
assume that
L1586: ( [#] C208 ) = ( [#] R13 )
and
L1587: (for B113 being (Subset of C208) holds (B113 is  simplex-like iff (ex B114 being  c=-linear  finite  simplex-like (Subset-Family of R13) st B113 = ( R17 .: B114 ))))
and
L1588: ( [#] C209 ) = ( [#] R13 )
and
L1589: (for B115 being (Subset of C209) holds (B115 is  simplex-like iff (ex B116 being  c=-linear  finite  simplex-like (Subset-Family of R13) st B115 = ( R17 .: B116 ))));
L1590:
now
let R1 being set;
thus L1591:now
assume L1592: R1 in (the topology of C208);
reconsider D162 = R1 as (Subset of C208) by L1592;
reconsider D163 = D162 as (Subset of C209) by L1586 , L1588;
L1593: D162 is  simplex-like by L1592 , PRE_TOPC:def 2;
L1594: (ex B117 being  c=-linear  finite  simplex-like (Subset-Family of R13) st D162 = ( R17 .: B117 )) by L1593 , L1587;
L1595: D163 is  simplex-like by L1594 , L1589;
thus L1596: R1 in (the topology of C209) by L1595 , PRE_TOPC:def 2;
end;
assume L1597: R1 in (the topology of C209);
reconsider D164 = R1 as (Subset of C209) by L1597;
reconsider D165 = D164 as (Subset of C208) by L1586 , L1588;
L1598: D164 is  simplex-like by L1597 , PRE_TOPC:def 2;
L1599: (ex B118 being  c=-linear  finite  simplex-like (Subset-Family of R13) st D164 = ( R17 .: B118 )) by L1598 , L1589;
L1600: D165 is  simplex-like by L1599 , L1587;
thus L1601: R1 in (the topology of C208) by L1600 , PRE_TOPC:def 2;
end;
thus L1602: thesis by L1590 , L1586 , L1588 , TARSKI:1;
end;
end;
registration
let R3 being set;
let R13 being (SimplicialComplexStr of R3);
let R17 being Function;
cluster ( subdivision (R17 , R13) ) ->  with_empty_element  subset-closed  finite-membered;
coherence
proof
set D166 = ( subdivision (R17 , R13) );
set D167 = the  empty  c=-linear  simplex-like (Subset-Family of R13);
L1604: ( R17 .: D167 ) = ( {} R13 );
L1605: ( {} D166 ) is  simplex-like by L1604 , L1571;
L1606: ( {} ) in (the topology of D166) by L1605 , PRE_TOPC:def 2;
L1607: (the topology of D166) is  with_empty_element by L1606;
thus L1608: D166 is  with_empty_element by L1607 , L701;
thus L1609: D166 is  subset-closed
proof
let R1 being set;
let R2 being set;
assume that
L1610: R1 in ( the_family_of D166 )
and
L1611: R2 c= R1;
reconsider D168 = R1 , D169 = R2 as (Subset of D166) by L1610 , L1611 , XBOOLE_1:1;
L1612: D168 is  simplex-like by L1610 , PRE_TOPC:def 2;
consider C210 being  c=-linear  finite  simplex-like (Subset-Family of R13) such that L1613: D168 = ( R17 .: C210 ) by L1612 , L1571;
set D170 = { B119 where B119 is (Subset of R13) : (B119 in C210 & ( R17 . B119 ) in D169) };
L1614: D170 c= C210
proof
let R1 being set;
assume L1615: R1 in D170;
L1616: (ex B120 being (Subset of R13) st (B120 = R1 & B120 in C210 & ( R17 . B120 ) in D169)) by L1615;
thus L1617: thesis by L1616;
end;
reconsider D171 = D170 as  c=-linear  finite  simplex-like (Subset-Family of R13) by L1614 , TOPS_2:11 , XBOOLE_1:1;
L1618: ( R17 .: D171 ) c= D169
proof
let R1 being set;
assume L1619: R1 in ( R17 .: D171 );
consider R2 being set such that L1620: R2 in ( dom R17 ) and L1621: R2 in D171 and L1622: ( R17 . R2 ) = R1 by L1619 , FUNCT_1:def 6;
L1623: (ex B121 being (Subset of R13) st (R2 = B121 & B121 in C210 & ( R17 . B121 ) in D169)) by L1621;
thus L1624: thesis by L1623 , L1622;
end;
L1625: D169 c= ( R17 .: D171 )
proof
let R1 being set;
assume L1626: R1 in D169;
consider R2 being set such that L1627: R2 in ( dom R17 ) and L1628: R2 in C210 and L1629: ( R17 . R2 ) = R1 by L1626 , L1611 , L1613 , FUNCT_1:def 6;
L1630: R2 in D171 by L1626 , L1628 , L1629;
thus L1631: thesis by L1630 , L1627 , L1629 , FUNCT_1:def 6;
end;
L1632: ( R17 .: D171 ) = D169 by L1625 , L1618 , XBOOLE_0:def 10;
L1633: D169 is  simplex-like by L1632 , L1571;
thus L1634: thesis by L1633 , PRE_TOPC:def 2;
end;

let R1 being set;
assume L1635: R1 in ( the_family_of D166 );
reconsider D172 = R1 as (Subset of D166) by L1635;
L1636: D172 is  simplex-like by L1635 , PRE_TOPC:def 2;
L1637: (ex B122 being  c=-linear  finite  simplex-like (Subset-Family of R13) st D172 = ( R17 .: B122 )) by L1636 , L1571;
thus L1638: thesis by L1637;
end;
end;
registration
let R3 being set;
let C211 being  void (SimplicialComplexStr of R3);
let R17 being Function;
cluster ( subdivision (R17 , C211) ) ->  empty-membered;
coherence
proof
set D173 = ( subdivision (R17 , C211) );
assume L1640: D173 is  with_non-empty_element;
L1641: (the topology of D173) is  with_non-empty_element by L1640 , L700;
consider C212 being non  empty set such that L1642: C212 in (the topology of D173) by L1641 , SETFAM_1:def 10;
reconsider D174 = C212 as (Simplex of D173) by L1642 , PRE_TOPC:def 2;
consider C213 being  c=-linear  finite  simplex-like (Subset-Family of C211) such that L1643: D174 = ( R17 .: C213 ) by L1571;
L1644: D174 = ( R17 .: ( C213 /\ ( dom R17 ) ) ) by L1643 , RELAT_1:112;
L1645: ( C213 /\ ( dom R17 ) ) is non  empty by L1644;
consider R2 being set such that L1646: R2 in ( C213 /\ ( dom R17 ) ) by L1645 , XBOOLE_0:def 1;
L1647: R2 in C213 by L1646 , XBOOLE_0:def 4;
reconsider D175 = R2 as (Subset of C211) by L1646;
L1648: D175 is  simplex-like by L1647 , TOPS_2:def 1;
L1649: D175 in (the topology of C211) by L1648 , PRE_TOPC:def 2;
thus L1650: thesis by L1649 , PENCIL_1:def 4;
end;
end;
theorem
L1652: (for R3 being set holds (for R13 being (SimplicialComplexStr of R3) holds (for R17 being Function holds ( degree ( subdivision (R17 , R13) ) ) <= ( ( degree R13 ) + 1 ))))
proof
let R3 being set;
let R13 being (SimplicialComplexStr of R3);
let R17 being Function;
set D176 = ( subdivision (R17 , R13) );
per cases ;
suppose L1653: R13 is  void;

L1654: (R13 is  empty-membered & ( degree D176 ) = ( - 1 )) by L1653 , L988;
thus L1655: thesis by L1654;
end;
suppose L1656: R13 is non  void non  finite-degree;

L1657: (( degree D176 ) <= ( +infty ) & ( ( degree R13 ) + ( 0 ) ) <= ( ( degree R13 ) + 1 )) by XXREAL_0:3 , XXREAL_3:36;
L1658: (( ( degree R13 ) + ( 0 ) ) = ( degree R13 ) & ( degree R13 ) = ( +infty )) by L1656 , L940 , XXREAL_3:4;
thus L1659: thesis by L1658 , L1657 , XXREAL_0:2;
end;
suppose L1660: R13 is non  void  finite-degree;

reconsider D177 = ( degree R13 ) as Integer by L1660;
reconsider D178 = ( D177 + 1 ) as Nat by L1660;
L1661: (for B123 being  finite (Subset of D176) holds (B123 is  simplex-like implies ( card B123 ) <= ( ( D177 + 1 ) + 1 )))
proof
let C214 being  finite (Subset of D176);
assume L1662: C214 is  simplex-like;
consider C215 being  c=-linear  finite  simplex-like (Subset-Family of R13) such that L1663: C214 = ( R17 .: C215 ) by L1662 , L1571;
set D179 = ( C215 /\ ( dom R17 ) );
L1664: C214 = ( R17 .: ( C215 /\ ( dom R17 ) ) ) by L1663 , RELAT_1:112;
L1665: ( card C214 ) c= ( card D179 ) by L1664 , CARD_1:67;
L1666: ( card C214 ) <= ( card D179 ) by L1665 , NAT_1:39;
L1667: ( D179 \ { ( {} ) } ) c= C215 by XBOOLE_1:18 , XBOOLE_1:36;
reconsider D180 = ( D179 \ { ( {} ) } ) as  c=-linear  finite  simplex-like (Subset-Family of R13) by L1667 , TOPS_2:11;
L1668: ( D180 \/ { ( {} ) } ) = ( D179 \/ { ( {} ) } ) by XBOOLE_1:39;
L1669: (( card { ( {} ) } ) = 1 & ( card D179 ) <= ( card ( D180 \/ { ( {} ) } ) )) by L1668 , CARD_1:30 , NAT_1:43 , XBOOLE_1:7;
L1670: ( card ( D180 \/ { ( {} ) } ) ) <= ( ( card D180 ) + ( card { ( {} ) } ) ) by CARD_2:43;
L1671: ( card D179 ) <= ( ( card D180 ) + 1 ) by L1670 , L1669 , XXREAL_0:2;
per cases ;
suppose L1672: D180 is  empty;

L1673: ( ( 0 ) + 1 ) <= ( D178 + 1 ) by XREAL_1:6;
L1674: ( card D179 ) <= ( D178 + 1 ) by L1673 , L1669 , L1672 , XXREAL_0:2;
thus L1675: thesis by L1674 , L1666 , XXREAL_0:2;
end;
suppose L1676: D180 is non  empty;

reconsider D181 = ( union D180 ) as (Subset of R13);
L1677: ( union D180 ) in D180 by L1676 , L219;
L1678: D181 is  simplex-like by L1677 , TOPS_2:def 1;
L1679: (not ( {} ) in D180) by ZFMISC_1:56;
L1680: D180 is  with_non-empty_elements by L1679 , SETFAM_1:def 8;
L1681: ( card D180 ) c= ( card ( union D180 ) ) by L1680 , L231;
reconsider D182 = D181 as  finite (Subset of R13) by L1660;
L1682: ( card D182 ) <= D178 by L1660 , L1678 , L1032;
L1683: ( card D182 ) c= D178 by L1682 , NAT_1:39;
L1684: ( card D180 ) c= D178 by L1683 , L1681 , XBOOLE_1:1;
L1685: ( card D180 ) <= D178 by L1684 , NAT_1:39;
L1686: ( ( card D180 ) + 1 ) <= ( D178 + 1 ) by L1685 , XREAL_1:6;
L1687: ( card D179 ) <= ( D178 + 1 ) by L1686 , L1671 , XXREAL_0:2;
thus L1688: thesis by L1687 , L1666 , XXREAL_0:2;
end;
end;
thus L1690: thesis by L1661 , L1032;
end;
end;
theorem
L1692: (for R3 being set holds (for R13 being (SimplicialComplexStr of R3) holds (for R17 being Function holds (( dom R17 ) is  with_non-empty_elements implies ( degree ( subdivision (R17 , R13) ) ) <= ( degree R13 )))))
proof
let R3 being set;
let R13 being (SimplicialComplexStr of R3);
let R17 being Function;
assume L1693: ( dom R17 ) is  with_non-empty_elements;
set D183 = ( subdivision (R17 , R13) );
per cases ;
suppose L1694: R13 is non  finite-degree;

L1695: R13 is non  void
proof
assume L1696: R13 is  void;
L1697: R13 is  empty-membered by L1696;
thus L1698: thesis by L1697 , L1694;
end;
L1699: ( degree R13 ) = ( +infty ) by L1695 , L1694 , L940;
thus L1700: thesis by L1699 , XXREAL_0:3;
end;
suppose L1701: R13 is  finite-degree;

reconsider D184 = ( degree R13 ) as Integer by L1701;
reconsider D185 = ( D184 + 1 ) as Nat by L1701;
L1702: (for B124 being  finite (Subset of D183) holds (B124 is  simplex-like implies ( card B124 ) <= ( D184 + 1 )))
proof
let C216 being  finite (Subset of D183);
assume L1703: C216 is  simplex-like;
consider C217 being  c=-linear  finite  simplex-like (Subset-Family of R13) such that L1704: C216 = ( R17 .: C217 ) by L1703 , L1571;
L1705: C216 = ( R17 .: ( C217 /\ ( dom R17 ) ) ) by L1704 , RELAT_1:112;
per cases ;
suppose L1706: ( C217 /\ ( dom R17 ) ) is  empty;

L1707: (( 0 ) <= D185 & C216 = ( {} )) by L1706 , L1705;
thus L1708: thesis by L1707;
end;
suppose L1709: ( C217 /\ ( dom R17 ) ) is non  empty;

reconsider D186 = ( union ( C217 /\ ( dom R17 ) ) ) as (Subset of R13);
L1710: ( C217 /\ ( dom R17 ) ) c= C217 by XBOOLE_1:17;
L1711: ( union ( C217 /\ ( dom R17 ) ) ) in ( C217 /\ ( dom R17 ) ) by L1710 , L1709 , L219;
L1712: ( union ( C217 /\ ( dom R17 ) ) ) in C217 by L1711 , XBOOLE_0:def 4;
L1713: D186 is  simplex-like by L1712 , TOPS_2:def 1;
L1714: D186 in (the topology of R13) by L1713 , PRE_TOPC:def 2;
L1715: ( the_family_of R13 ) is  finite-membered by L1701 , MATROID0:def 6;
reconsider D187 = D186 as  finite (Subset of R13) by L1715 , L1714;
L1716: R13 is non  void by L1714 , PENCIL_1:def 4;
L1717: ( card D187 ) <= ( D184 + 1 ) by L1716 , L1713 , L1032;
L1718: ( card D187 ) c= D185 by L1717 , NAT_1:39;
L1719: ( card ( C217 /\ ( dom R17 ) ) ) c= ( card ( union ( C217 /\ ( dom R17 ) ) ) ) by L1693 , L1710 , L231;
L1720: ( card ( C217 /\ ( dom R17 ) ) ) c= D185 by L1719 , L1718 , XBOOLE_1:1;
L1721: ( card C216 ) c= ( card ( C217 /\ ( dom R17 ) ) ) by L1705 , CARD_1:67;
L1722: ( card C216 ) c= D185 by L1721 , L1720 , XBOOLE_1:1;
thus L1723: thesis by L1722 , NAT_1:39;
end;
end;
thus L1725: thesis by L1702 , L1032;
end;
end;
registration
let R3 being set;
let C218 being  finite-degree (SimplicialComplexStr of R3);
let R17 being Function;
cluster ( subdivision (R17 , C218) ) ->  finite-degree;
coherence
proof
assume L1727: ( subdivision (R17 , C218) ) is non  finite-degree;
L1728: (( ( degree C218 ) + 1 ) in ( REAL ) & ( degree ( subdivision (R17 , C218) ) ) = ( +infty )) by L1727 , L940 , XREAL_0:def 1;
thus L1729: thesis by L1728 , L1652 , XXREAL_0:9;
end;
end;
registration
let R3 being set;
let C219 being  finite-vertices (SimplicialComplexStr of R3);
let R17 being Function;
cluster ( subdivision (R17 , C219) ) ->  finite-vertices;
coherence
proof
reconsider D188 = ( Vertices C219 ) as  finite (Subset of C219) by L696;
set D189 = ( subdivision (R17 , C219) );
set D190 = (the topology of D189);
defpred S10[ set , set ] means ( R17 .: $2 ) = $1;
L1731: ( bool D188 ) = ( bool ( union (the topology of C219) ) ) by L736;
L1732: (the topology of C219) c= ( bool D188 ) by L1731 , ZFMISC_1:82;
L1733: (for R1 being set holds (R1 in D190 implies (ex R2 being set st (R2 in ( bool ( bool D188 ) ) & S10[ R1 , R2 ]))))
proof
let R1 being set;
assume that
L1734: R1 in D190;
reconsider D191 = R1 as (Subset of D189) by L1734;
L1735: D191 is  simplex-like by L1734 , PRE_TOPC:def 2;
consider C220 being  c=-linear  finite  simplex-like (Subset-Family of C219) such that L1736: D191 = ( R17 .: C220 ) by L1735 , L1571;
take C220;
L1737: C220 c= (the topology of C219)
proof
let R2 being set;
assume that
L1738: R2 in C220;
reconsider D192 = R2 as (Subset of C219) by L1738;
L1739: D192 is  simplex-like by L1738 , TOPS_2:def 1;
thus L1740: thesis by L1739 , PRE_TOPC:def 2;
end;
L1741: C220 c= ( bool D188 ) by L1737 , L1732 , XBOOLE_1:1;
thus L1742: thesis by L1741 , L1736;
end;
consider C221 being (Function of D190 , ( bool ( bool D188 ) )) such that L1743: (for R1 being set holds (R1 in D190 implies S10[ R1 , ( C221 . R1 ) ])) from FUNCT_2:sch 1(L1733);
L1744:
now
let C222 , C223 being set;
assume that
L1745: C222 in ( dom C221 )
and
L1746: (C223 in ( dom C221 ) & ( C221 . C222 ) = ( C221 . C223 ));
thus L1747: C222 = ( R17 .: ( C221 . C222 ) ) by L1743 , L1745
.= C223 by L1743 , L1746;
end;
L1748: C221 is  one-to-one by L1744 , FUNCT_1:def 4;
L1749: (( dom C221 ) = D190 & ( rng C221 ) c= ( bool ( bool D188 ) )) by FUNCT_2:def 1;
L1750: ( card D190 ) c= ( card ( bool ( bool D188 ) ) ) by L1749 , L1748 , CARD_1:10;
L1751: D190 is  finite by L1750;
thus L1752: thesis by L1751 , L895;
end;
end;
theorem
L1754: (for R3 being set holds (for B125 being  subset-closed (SimplicialComplexStr of R3) holds (for R17 being Function holds ((( dom R17 ) is  with_non-empty_elements & (for R7 being Nat holds (R7 <= ( degree B125 ) implies (ex B126 being (Subset of B125) st (B126 is  simplex-like & ( card B126 ) = ( R7 + 1 ) & ( BOOL B126 ) c= ( dom R17 ) & ( R17 .: ( BOOL B126 ) ) is (Subset of B125) & ( R17 | ( BOOL B126 ) ) is  one-to-one))))) implies ( degree ( subdivision (R17 , B125) ) ) = ( degree B125 )))))
proof
let R3 being set;
let C224 being  subset-closed (SimplicialComplexStr of R3);
let C225 being Function;
assume that
L1755: ( dom C225 ) is  with_non-empty_elements
and
L1756: (for R7 being Nat holds (R7 <= ( degree C224 ) implies (ex B127 being (Subset of C224) st (B127 is  simplex-like & ( card B127 ) = ( R7 + 1 ) & ( BOOL B127 ) c= ( dom C225 ) & ( C225 .: ( BOOL B127 ) ) is (Subset of C224) & ( C225 | ( BOOL B127 ) ) is  one-to-one))));
set D193 = ( subdivision (C225 , C224) );
L1757: ( degree D193 ) <= ( degree C224 ) by L1755 , L1692;
L1758: (for R7 being Nat holds (R7 <= ( degree C224 ) implies (ex B128 being (Simplex of D193) st ( card B128 ) = ( R7 + 1 ))))
proof
let R7 being Nat;
L1759: ( [#] C224 ) = ( [#] D193 ) by L1571;
assume L1760: R7 <= ( degree C224 );
consider C226 being (Subset of C224) such that L1761: C226 is  simplex-like and L1762: ( card C226 ) = ( R7 + 1 ) and L1763: ( BOOL C226 ) c= ( dom C225 ) and L1764: ( C225 .: ( BOOL C226 ) ) is (Subset of C224) and L1765: ( C225 | ( BOOL C226 ) ) is  one-to-one by L1760 , L1756;
L1766: ( dom ( C225 | ( BOOL C226 ) ) ) = ( BOOL C226 ) by L1763 , RELAT_1:62;
L1767: C226 is non  empty by L1762;
consider C227 being (Subset-Family of C226) such that L1768: C227 is  with_non-empty_elements  c=-linear and L1769: C226 in C227 and L1770: ( card C226 ) = ( card C227 ) and L1771: (for R5 being set holds ((R5 in C227 & ( card R5 ) <> 1) implies (ex R1 being set st (R1 in R5 & ( R5 \ { R1 } ) in C227)))) by L1767 , L286;
L1772: ( bool C226 ) c= ( bool (the carrier of C224) ) by ZFMISC_1:67;
reconsider D194 = C227 as (Subset-Family of C224) by L1772 , XBOOLE_1:1;
L1773: C227 c= ( BOOL C226 )
proof
let R1 being set;
assume L1774: R1 in C227;
L1775: R1 in ( ( bool C226 ) \ { ( {} ) } ) by L1774 , L1768 , ZFMISC_1:56;
thus L1776: thesis by L1775 , ORDERS_1:def 2;
end;
L1777: ( C225 .: C227 ) c= ( C225 .: ( BOOL C226 ) ) by L1773 , RELAT_1:123;
reconsider D195 = ( C225 .: D194 ) as (Subset of D193) by L1777 , L1759 , L1764 , XBOOLE_1:1;
L1778: C226 in ( the_family_of C224 ) by L1761 , PRE_TOPC:def 2;
L1779: D194 is  simplex-like
proof
let C228 being (Subset of C224);
assume L1780: C228 in D194;
L1781: C228 in ( the_family_of C224 ) by L1780 , L1778 , CLASSES1:def 1;
thus L1782: thesis by L1781 , PRE_TOPC:def 2;
end;
L1783: D194 is  c=-linear  finite  simplex-like  c=-linear  finite  simplex-like  c=-linear  finite  simplex-like  c=-linear  finite  simplex-like (Subset-Family of C224) by L1779 , L1762 , L1768 , L1770;
reconsider D196 = D195 as (Simplex of D193) by L1783 , L1571;
L1784: ( C225 .: C227 ) = ( ( C225 | ( BOOL C226 ) ) .: C227 ) by L1773 , RELAT_1:129;
L1785: ( card D196 ) = ( R7 + 1 ) by L1784 , L1762 , L1765 , L1766 , L1770 , L1773 , COMBGRAS:4;
thus L1786: thesis by L1785;
end;
per cases ;
suppose L1787: C224 is  empty-membered;

L1788: ( degree D193 ) >= ( - 1 ) by L1012;
L1789: ( degree C224 ) = ( - 1 ) by L1787 , L988;
thus L1790: thesis by L1789 , L1757 , L1788 , XXREAL_0:1;
end;
suppose L1791: C224 is  with_non-empty_element  finite-degree;

reconsider D197 = ( degree C224 ) , D198 = ( degree D193 ) as Integer by L1791;
L1792: ( - 1 ) <= D197 by L1012;
L1793: D197 <> ( - 1 ) by L1791 , L988;
L1794: ( - 1 ) < D197 by L1793 , L1792 , XXREAL_0:1;
L1795: ( 0 ) <= D197 by L1794 , INT_1:8;
reconsider D199 = D197 as (Element of ( NAT )) by L1795 , INT_1:3;
L1796: (ex B129 being (Simplex of D193) st ( card B129 ) = ( D199 + 1 )) by L1758;
L1797: ( D198 + 1 ) >= ( D199 + 1 ) by L1796 , L1791 , L940;
L1798: D198 >= D199 by L1797 , XREAL_1:6;
thus L1799: thesis by L1798 , L1757 , XXREAL_0:1;
end;
suppose L1800: C224 is non  void non  finite-degree;

L1801: ( degree C224 ) = ( +infty ) by L1800 , L940;
L1802: D193 is non  finite-degree
proof
assume L1803: D193 is  finite-degree;
reconsider D200 = ( ( degree D193 ) + 1 ) as Nat by L1803;
consider C229 being (Subset of D193) such that L1804: C229 is  simplex-like and L1805: ( card C229 ) = D200 by L1803 , L940;
reconsider D201 = C229 as  finite (Subset of D193) by L1804;
L1806: (ex B130 being (Simplex of D193) st ( card B130 ) = ( ( card D201 ) + 1 )) by L1758 , L1801 , XXREAL_0:3;
L1807: ( D200 + 1 ) <= D200 by L1806 , L1803 , L1805 , L940;
thus L1808: contradiction by L1807 , NAT_1:13;
end;
thus L1809: thesis by L1802 , L1801 , L940;
end;
end;
theorem
L1811: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R13 being (SimplicialComplexStr of R3) holds (for R17 being Function holds (R4 c= R5 implies ( subdivision (( R17 | R4 ) , R13) ) is (SubSimplicialComplex of ( subdivision (( R17 | R5 ) , R13) ))))))))
proof
let R3 being set;
let R4 being set;
let R5 being set;
let R13 being (SimplicialComplexStr of R3);
let R17 being Function;
set D202 = ( subdivision (( R17 | R4 ) , R13) );
set D203 = ( subdivision (( R17 | R5 ) , R13) );
L1812: ( dom ( R17 | R5 ) ) = ( R5 /\ ( dom R17 ) ) by RELAT_1:61;
assume L1813: R4 c= R5;
L1814: ( R4 /\ R5 ) = R4 by L1813 , XBOOLE_1:28;
L1815: ( dom ( R17 | R4 ) ) = ( ( R5 /\ R4 ) /\ ( dom R17 ) ) by L1814 , RELAT_1:61
.= ( R4 /\ ( dom ( R17 | R5 ) ) ) by L1812 , XBOOLE_1:16;
L1816: ( [#] D202 ) = ( [#] R13 ) by L1571;
thus L1817: ( [#] D202 ) c= ( [#] D203 ) by L1816 , L1571;
let R1 being set;
assume L1818: R1 in (the topology of D202);
reconsider D204 = R1 as (Simplex of D202) by L1818 , PRE_TOPC:def 2;
L1819: ( [#] D203 ) = ( [#] R13 ) by L1571;
reconsider D205 = D204 as (Subset of D203) by L1819 , L1816;
consider C230 being  c=-linear  finite  simplex-like (Subset-Family of R13) such that L1820: D204 = ( ( R17 | R4 ) .: C230 ) by L1571;
L1821: ( C230 /\ R4 ) c= C230 by XBOOLE_1:17;
reconsider D206 = ( C230 /\ R4 ) as  c=-linear  finite  simplex-like (Subset-Family of R13) by L1821 , TOPS_2:11;
L1822: (( dom ( R17 | R4 ) ) c= R4 & ( ( dom ( R17 | R4 ) ) /\ C230 ) c= ( dom ( R17 | R4 ) )) by RELAT_1:58 , XBOOLE_1:17;
L1823: ( ( dom ( R17 | R4 ) ) /\ C230 ) c= R4 by L1822 , XBOOLE_1:1;
L1824: D205 = ( ( R17 | R4 ) .: ( ( dom ( R17 | R4 ) ) /\ C230 ) ) by L1820 , RELAT_1:112
.= ( R17 .: ( ( dom ( R17 | R4 ) ) /\ C230 ) ) by L1822 , RELAT_1:129 , XBOOLE_1:1
.= ( ( R17 | R5 ) .: ( ( dom ( R17 | R4 ) ) /\ C230 ) ) by L1813 , L1823 , RELAT_1:129 , XBOOLE_1:1
.= ( ( R17 | R5 ) .: ( ( dom ( R17 | R5 ) ) /\ D206 ) ) by L1815 , XBOOLE_1:16
.= ( ( R17 | R5 ) .: D206 ) by RELAT_1:112;
L1825: D205 is  simplex-like by L1824 , L1571;
thus L1826: thesis by L1825 , PRE_TOPC:def 2;
end;
theorem
L1827: (for R3 being set holds (for R4 being set holds (for R13 being (SimplicialComplexStr of R3) holds (for R17 being Function holds (( ( dom R17 ) /\ (the topology of R13) ) c= R4 implies ( subdivision (( R17 | R4 ) , R13) ) = ( subdivision (R17 , R13) ))))))
proof
let R3 being set;
let R4 being set;
let R13 being (SimplicialComplexStr of R3);
let R17 being Function;
set D207 = ( subdivision (( R17 | R4 ) , R13) );
set D208 = ( subdivision (R17 , R13) );
L1828: ( ( R17 | R4 ) | ( dom ( R17 | R4 ) ) ) = ( R17 | ( dom ( R17 | R4 ) ) ) by RELAT_1:58 , RELAT_1:74;
L1829: (( [#] D207 ) = ( [#] R13 ) & ( [#] D208 ) = ( [#] R13 )) by L1571;
assume L1830: ( ( dom R17 ) /\ (the topology of R13) ) c= R4;
L1831: (the topology of D208) c= (the topology of D207)
proof
let R1 being set;
assume L1832: R1 in (the topology of D208);
reconsider D209 = R1 as (Simplex of D208) by L1832 , PRE_TOPC:def 2;
reconsider D210 = D209 as (Subset of D207) by L1829;
consider C231 being  c=-linear  finite  simplex-like (Subset-Family of R13) such that L1833: D209 = ( R17 .: C231 ) by L1571;
L1834: ( C231 /\ ( dom R17 ) ) c= R4
proof
let R1 being set;
assume L1835: R1 in ( C231 /\ ( dom R17 ) );
reconsider D211 = R1 as (Subset of R13) by L1835;
L1836: R1 in C231 by L1835 , XBOOLE_0:def 4;
L1837: D211 is  simplex-like by L1836 , TOPS_2:def 1;
L1838: D211 in (the topology of R13) by L1837 , PRE_TOPC:def 2;
L1839: R1 in ( dom R17 ) by L1835 , XBOOLE_0:def 4;
L1840: D211 in ( (the topology of R13) /\ ( dom R17 ) ) by L1839 , L1838 , XBOOLE_0:def 4;
thus L1841: thesis by L1840 , L1830;
end;
L1842: ( ( C231 /\ ( dom R17 ) ) /\ R4 ) = ( C231 /\ ( dom R17 ) ) by L1834 , XBOOLE_1:28;
L1843: D210 = ( R17 .: ( C231 /\ ( dom R17 ) ) ) by L1833 , RELAT_1:112
.= ( ( R17 | R4 ) .: ( ( C231 /\ ( dom R17 ) ) /\ R4 ) ) by L1834 , L1842 , RELAT_1:129
.= ( ( R17 | R4 ) .: ( C231 /\ ( ( dom R17 ) /\ R4 ) ) ) by XBOOLE_1:16
.= ( ( R17 | R4 ) .: ( C231 /\ ( dom ( R17 | R4 ) ) ) ) by RELAT_1:61
.= ( ( R17 | R4 ) .: C231 ) by RELAT_1:112;
L1844: D210 is  simplex-like by L1843 , L1571;
thus L1845: thesis by L1844 , PRE_TOPC:def 2;
end;
L1846: (( R17 | ( dom R17 ) ) = R17 & ( R17 | R4 ) = ( ( R17 | R4 ) | ( dom ( R17 | R4 ) ) ));
L1847: D207 is (SubSimplicialComplex of D208) by L1846 , L1828 , L1811 , RELAT_1:60;
L1848: (the topology of D207) c= (the topology of D208) by L1847 , L1075;
thus L1849: thesis by L1848 , L1829 , L1831 , XBOOLE_0:def 10;
end;
theorem
L1850: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R13 being (SimplicialComplexStr of R3) holds (for R17 being Function holds (R4 c= R5 implies ( subdivision (( R4 |` R17 ) , R13) ) is (SubSimplicialComplex of ( subdivision (( R5 |` R17 ) , R13) ))))))))
proof
let R3 being set;
let R4 being set;
let R5 being set;
let R13 being (SimplicialComplexStr of R3);
let R17 being Function;
assume L1851: R4 c= R5;
set D212 = ( subdivision (( R5 |` R17 ) , R13) );
set D213 = ( subdivision (( R4 |` R17 ) , R13) );
L1852: ( [#] D213 ) = ( [#] R13 ) by L1571;
thus L1853: ( [#] D213 ) c= ( [#] D212 ) by L1852 , L1571;
let R1 being set;
assume L1854: R1 in (the topology of D213);
reconsider D214 = R1 as (Simplex of D213) by L1854 , PRE_TOPC:def 2;
consider C232 being  c=-linear  finite  simplex-like (Subset-Family of R13) such that L1855: D214 = ( ( R4 |` R17 ) .: C232 ) by L1571;
L1856: ( C232 /\ ( dom ( R4 |` R17 ) ) ) c= C232 by XBOOLE_1:17;
reconsider D215 = ( C232 /\ ( dom ( R4 |` R17 ) ) ) as  c=-linear  finite  simplex-like (Subset-Family of R13) by L1856 , TOPS_2:11;
L1857: ( R4 |` ( R5 |` R17 ) ) = ( R4 |` R17 ) by L1851 , RELAT_1:99;
L1858: ( ( R4 |` R17 ) .: D215 ) c= ( ( R5 |` R17 ) .: D215 ) by L1857 , RELAT_1:86 , RELAT_1:124;
L1859: ( [#] D212 ) = ( [#] R13 ) by L1571;
reconsider D216 = D214 as (Subset of D212) by L1859 , L1852;
L1860: ( ( R5 |` R17 ) .: D215 ) c= ( ( R4 |` R17 ) .: D215 )
proof
let R2 being set;
assume L1861: R2 in ( ( R5 |` R17 ) .: D215 );
consider R1 being set such that L1862: R1 in ( dom ( R5 |` R17 ) ) and L1863: R1 in D215 and L1864: ( ( R5 |` R17 ) . R1 ) = R2 by L1861 , FUNCT_1:def 6;
L1865: R1 in ( dom ( R4 |` R17 ) ) by L1863 , XBOOLE_0:def 4;
L1866: ( R17 . R1 ) = R2 by L1862 , L1864 , FUNCT_1:53;
L1867: ( ( R4 |` R17 ) . R1 ) = R2 by L1866 , L1865 , FUNCT_1:53;
thus L1868: thesis by L1867 , L1863 , L1865 , FUNCT_1:def 6;
end;
L1869: D216 = ( ( R4 |` R17 ) .: D215 ) by L1855 , RELAT_1:112;
L1870: D216 = ( ( R5 |` R17 ) .: D215 ) by L1869 , L1858 , L1860 , XBOOLE_0:def 10;
L1871: D216 is  simplex-like by L1870 , L1571;
thus L1872: thesis by L1871 , PRE_TOPC:def 2;
end;
theorem
L1873: (for R3 being set holds (for R4 being set holds (for R13 being (SimplicialComplexStr of R3) holds (for R17 being Function holds (( R17 .: (the topology of R13) ) c= R4 implies ( subdivision (( R4 |` R17 ) , R13) ) = ( subdivision (R17 , R13) ))))))
proof
let R3 being set;
let R4 being set;
let R13 being (SimplicialComplexStr of R3);
let R17 being Function;
set D217 = ( subdivision (R17 , R13) );
L1874: (R17 = ( ( rng R17 ) |` R17 ) & ( R4 |` ( ( rng R17 ) |` R17 ) ) = ( ( R4 /\ ( rng R17 ) ) |` R17 )) by RELAT_1:96;
reconsider D218 = ( subdivision (( R4 |` R17 ) , R13) ) as (SubSimplicialComplex of D217) by L1874 , L1850 , XBOOLE_1:17;
L1875: (( [#] D218 ) = ( [#] R13 ) & ( [#] D217 ) = ( [#] R13 )) by L1571;
assume L1876: ( R17 .: (the topology of R13) ) c= R4;
L1877: (the topology of D217) c= (the topology of D218)
proof
let R1 being set;
assume L1878: R1 in (the topology of D217);
reconsider D219 = R1 as (Simplex of D217) by L1878 , PRE_TOPC:def 2;
consider C233 being  c=-linear  finite  simplex-like (Subset-Family of R13) such that L1879: D219 = ( R17 .: C233 ) by L1571;
reconsider D220 = D219 as (Subset of D218) by L1875;
L1880: C233 c= (the topology of R13)
proof
let R2 being set;
assume that
L1881: R2 in C233;
reconsider D221 = R2 as (Subset of R13) by L1881;
L1882: D221 is  simplex-like by L1881 , TOPS_2:def 1;
thus L1883: thesis by L1882 , PRE_TOPC:def 2;
end;
L1884: D220 c= ( R17 .: (the topology of R13) ) by L1880 , L1879 , RELAT_1:123;
L1885: ( D220 /\ R4 ) = D220 by L1884 , L1876 , XBOOLE_1:1 , XBOOLE_1:28;
L1886: D220 = ( ( R4 |` R17 ) .: C233 ) by L1885 , L1879 , FUNCT_1:67;
L1887: D220 is  simplex-like by L1886 , L1571;
thus L1888: thesis by L1887 , PRE_TOPC:def 2;
end;
L1889: (the topology of D218) c= (the topology of D217) by L1075;
thus L1890: thesis by L1889 , L1875 , L1877 , XBOOLE_0:def 10;
end;
theorem
L1891: (for R3 being set holds (for R13 being (SimplicialComplexStr of R3) holds (for R14 being (SubSimplicialComplex of R13) holds (for R17 being Function holds ( subdivision (R17 , R14) ) is (SubSimplicialComplex of ( subdivision (R17 , R13) ))))))
proof
let R3 being set;
let R13 being (SimplicialComplexStr of R3);
let R14 being (SubSimplicialComplex of R13);
let R17 being Function;
set D222 = ( subdivision (R17 , R14) );
set D223 = ( subdivision (R17 , R13) );
L1892: ( [#] R14 ) c= ( [#] R13 ) by L1075;
L1893: ( [#] D223 ) = ( [#] R13 ) by L1571;
thus L1894: ( [#] D222 ) c= ( [#] D223 ) by L1893 , L1892 , L1571;
let R1 being set;
assume L1895: R1 in (the topology of D222);
reconsider D224 = R1 as (Simplex of D222) by L1895 , PRE_TOPC:def 2;
L1896: ( [#] D222 ) = ( [#] R14 ) by L1571;
reconsider D225 = D224 as (Subset of D223) by L1896 , L1892 , L1893 , XBOOLE_1:1;
consider C234 being  c=-linear  finite  simplex-like (Subset-Family of R14) such that L1897: D224 = ( R17 .: C234 ) by L1571;
L1898: ( bool ( [#] R14 ) ) c= ( bool ( [#] R13 ) ) by L1892 , ZFMISC_1:67;
reconsider D226 = C234 as  c=-linear  finite (Subset-Family of R13) by L1898 , XBOOLE_1:1;
L1899: D226 is  simplex-like
proof
let C235 being (Subset of R13);
assume L1900: C235 in D226;
reconsider D227 = C235 as (Subset of R14) by L1900;
L1901: D227 is  simplex-like by L1900 , TOPS_2:def 1;
L1902: D227 in (the topology of R14) by L1901 , PRE_TOPC:def 2;
L1903: (the topology of R14) c= (the topology of R13) by L1075;
thus L1904: thesis by L1903 , L1902 , PRE_TOPC:def 2;
end;
L1905: D225 is  simplex-like by L1899 , L1897 , L1571;
thus L1906: thesis by L1905 , PRE_TOPC:def 2;
end;
theorem
L1907: (for R3 being set holds (for R13 being (SimplicialComplexStr of R3) holds (for R14 being (SubSimplicialComplex of R13) holds (for R17 being Function holds (for B131 being (Subset of ( subdivision (R17 , R13) )) holds ((( dom R17 ) c= (the topology of R14) & B131 = ( [#] R14 )) implies ( subdivision (R17 , R14) ) = ( ( subdivision (R17 , R13) ) | B131 )))))))
proof
let R3 being set;
let R13 being (SimplicialComplexStr of R3);
let R14 being (SubSimplicialComplex of R13);
let R17 being Function;
set D228 = ( subdivision (R17 , R13) );
reconsider D229 = ( subdivision (R17 , R14) ) as  strict (SubSimplicialComplex of D228) by L1891;
let C236 being (Subset of ( subdivision (R17 , R13) ));
assume that
L1908: ( dom R17 ) c= (the topology of R14)
and
L1909: C236 = ( [#] R14 );
L1910:
now
let C237 being (Subset of D229);
assume L1911: C237 in (the topology of D228);
reconsider D230 = C237 as (Simplex of D228) by L1911 , PRE_TOPC:def 2;
consider C238 being  c=-linear  finite  simplex-like (Subset-Family of R13) such that L1912: D230 = ( R17 .: C238 ) by L1571;
L1913: ( C238 /\ ( dom R17 ) ) c= ( dom R17 ) by XBOOLE_1:17;
L1914: ( C238 /\ ( dom R17 ) ) c= (the topology of R14) by L1913 , L1908 , XBOOLE_1:1;
L1915: ( C238 /\ ( dom R17 ) ) c= C238 by XBOOLE_1:17;
reconsider D231 = ( C238 /\ ( dom R17 ) ) as  c=-linear  finite (Subset-Family of R14) by L1915 , L1914 , XBOOLE_1:1;
L1916: D231 is  simplex-like
proof
let C239 being (Subset of R14);
assume L1917: C239 in D231;
L1918: C239 in ( dom R17 ) by L1917 , XBOOLE_0:def 4;
thus L1919: thesis by L1918 , L1908 , PRE_TOPC:def 2;
end;
L1920: ( R17 .: C238 ) = ( R17 .: D231 ) by RELAT_1:112;
thus L1921: C237 is  simplex-like by L1920 , L1912 , L1916 , L1571;
end;
L1922: D229 is  maximal by L1910 , L1185;
L1923: ( [#] D229 ) = ( [#] R14 ) by L1571;
thus L1924: thesis by L1923 , L1909 , L1922 , L1237;
end;
theorem
L1925: (for R3 being set holds (for R17 being Function holds (for B132 , B133 being (SimplicialComplexStr of R3) holds (( the TopStruct of B132 ) = ( the TopStruct of B133 ) implies ( subdivision (R17 , B132) ) = ( subdivision (R17 , B133) )))))
proof
let R3 being set;
let R17 being Function;
let C240 , C241 being (SimplicialComplexStr of R3);
assume that
L1926: ( the TopStruct of C240 ) = ( the TopStruct of C241 );
set D232 = ( subdivision (R17 , C240) );
set D233 = ( subdivision (R17 , C241) );
L1927: (( [#] C240 ) = ( [#] D232 ) & ( [#] C241 ) = ( [#] D233 )) by L1571;
L1928: (the topology of D232) c= (the topology of D233)
proof
let R1 being set;
assume L1929: R1 in (the topology of D232);
reconsider D234 = R1 as (Subset of D232) by L1929;
reconsider D235 = D234 as (Subset of D233) by L1926 , L1927;
L1930: D234 is  simplex-like by L1929 , PRE_TOPC:def 2;
consider C242 being  c=-linear  finite  simplex-like (Subset-Family of C240) such that L1931: D234 = ( R17 .: C242 ) by L1930 , L1571;
reconsider D236 = C242 as (Subset-Family of C241) by L1926;
L1932: C242 c= (the topology of C240) by L663;
L1933: D236 is  simplex-like by L1932 , L1926 , L663;
L1934: D235 is  simplex-like by L1933 , L1931 , L1571;
thus L1935: thesis by L1934 , PRE_TOPC:def 2;
end;
L1936: (the topology of D233) c= (the topology of D232)
proof
let R1 being set;
assume L1937: R1 in (the topology of D233);
reconsider D237 = R1 as (Subset of D233) by L1937;
reconsider D238 = D237 as (Subset of D232) by L1926 , L1927;
L1938: D237 is  simplex-like by L1937 , PRE_TOPC:def 2;
consider C243 being  c=-linear  finite  simplex-like (Subset-Family of C241) such that L1939: D237 = ( R17 .: C243 ) by L1938 , L1571;
reconsider D239 = C243 as (Subset-Family of C240) by L1926;
L1940: C243 c= (the topology of C241) by L663;
L1941: D239 is  simplex-like by L1940 , L1926 , L663;
L1942: D238 is  simplex-like by L1941 , L1939 , L1571;
thus L1943: thesis by L1942 , PRE_TOPC:def 2;
end;
thus L1944: thesis by L1936 , L1926 , L1927 , L1928 , XBOOLE_0:def 10;
end;
definition
let R3 being set;
let R13 being (SimplicialComplexStr of R3);
let R17 being Function;
let R7 being Nat;
func subdivision (R7 , R17 , R13) -> (SimplicialComplexStr of R3) means 
:L1945: (ex B134 being Function st (( B134 . ( 0 ) ) = R13 & ( B134 . R7 ) = it & ( dom B134 ) = ( NAT ) & (for R8 being Nat holds (for B135 being (SimplicialComplexStr of R3) holds (B135 = ( B134 . R8 ) implies ( B134 . ( R8 + 1 ) ) = ( subdivision (R17 , B135) ))))));
existence
proof
defpred S11[ set , set ] means (for B136 being (SimplicialComplexStr of R3) holds (((the topology of B136) = $1 & ( [#] B136 ) = ( [#] R13 )) implies (the topology of ( subdivision (R17 , B136) )) = $2));
set D240 = ( bool ( bool ( [#] R13 ) ) );
L1946: (for R1 being set holds (R1 in D240 implies (ex R2 being set st (R2 in D240 & S11[ R1 , R2 ]))))
proof
let R1 being set;
assume L1947: R1 in D240;
per cases ;
suppose L1948: (ex B137 being (SimplicialComplexStr of R3) st ((the topology of B137) = R1 & ( [#] B137 ) = ( [#] R13 )));

consider C244 being (SimplicialComplexStr of R3) such that L1949: (the topology of C244) = R1 and L1950: ( [#] C244 ) = ( [#] R13 ) by L1948;
take D241 = (the topology of ( subdivision (R17 , C244) ));
L1951: ( [#] ( subdivision (R17 , C244) ) ) = ( [#] C244 ) by L1571;
thus L1952: D241 in D240 by L1951 , L1950;
let C245 being (SimplicialComplexStr of R3);
assume that
L1953: ((the topology of C245) = R1 & ( [#] C245 ) = ( [#] R13 ));
L1954: ( the TopStruct of C244 ) = ( the TopStruct of C245 ) by L1949 , L1950 , L1953;
thus L1955: thesis by L1954 , L1925;
end;
suppose L1956: (for B138 being (SimplicialComplexStr of R3) holds ((the topology of B138) <> R1 or ( [#] B138 ) <> ( [#] R13 )));

take R1;
thus L1957: thesis by L1947 , L1956;
end;
end;
consider C246 being (Function of D240 , D240) such that L1959: (for R1 being set holds (R1 in D240 implies S11[ R1 , ( C246 . R1 ) ])) from FUNCT_2:sch 1(L1946);
deffunc H3(set , set) = ( C246 . $2 );
consider C247 being Function such that L1960: (( dom C247 ) = ( NAT ) & ( C247 . ( 0 ) ) = (the topology of R13) & (for B139 being Nat holds ( C247 . ( B139 + 1 ) ) = H3(B139 , ( C247 . B139 )))) from NAT_1:sch 11;
defpred S12[ Nat ] means ((ex B140 being (SimplicialComplexStr of R3) st ((the topology of B140) = ( C247 . $1 ) & ( [#] B140 ) = ( [#] R13 ) & ($1 > ( 0 ) implies B140 is  strict))) & (for B141 being (SimplicialComplexStr of R3) holds (((the topology of B141) = ( C247 . $1 ) & ( [#] B141 ) = ( [#] R13 )) implies ( C247 . ( $1 + 1 ) ) = (the topology of ( subdivision (R17 , B141) )))));
L1961: ( C247 . ( ( 0 ) + 1 ) ) = ( C246 . (the topology of R13) ) by L1960;
L1962: ( C247 . 1 ) = (the topology of ( subdivision (R17 , R13) )) by L1961 , L1959;
L1963: S12[ (( 0 ) qua Nat) ]
proof
thus L1964: (ex B142 being (SimplicialComplexStr of R3) st ((the topology of B142) = ( C247 . ( 0 ) ) & ( [#] B142 ) = ( [#] R13 ) & (( 0 ) > ( 0 ) implies B142 is  strict))) by L1960;
let C248 being (SimplicialComplexStr of R3);
assume L1965: ((the topology of C248) = ( C247 . ( 0 ) ) & ( [#] C248 ) = ( [#] R13 ));
L1966: ( the TopStruct of C248 ) = ( the TopStruct of R13 ) by L1965 , L1960;
thus L1967: thesis by L1966 , L1962 , L1925;
end;
defpred S13[ set , set ] means (for B143 being Nat holds (B143 = $1 implies ((B143 = ( 0 ) implies $2 = R13) & (B143 > ( 0 ) implies (for B144 being (Subset-Family of R13) holds (B144 = ( C247 . B143 ) implies $2 = TopStruct (# (the carrier of R13) , B144 #)))))));
L1968: (for B145 being Nat holds (S12[ B145 ] implies S12[ ( B145 + 1 ) ]))
proof
let C249 being Nat;
set D242 = ( C249 + 1 );
given C250 being (SimplicialComplexStr of R3) such that
L1969: (the topology of C250) = ( C247 . C249 )
and
L1970: ( [#] C250 ) = ( [#] R13 )
and
L1971: (C249 > ( 0 ) implies C250 is  strict);

assume L1972: (for B146 being (SimplicialComplexStr of R3) holds (((the topology of B146) = ( C247 . C249 ) & ( [#] B146 ) = ( [#] R13 )) implies ( C247 . D242 ) = (the topology of ( subdivision (R17 , B146) ))));
L1973: ( C247 . D242 ) = (the topology of ( subdivision (R17 , C250) )) by L1972 , L1969 , L1970;
L1974: ( [#] ( subdivision (R17 , C250) ) ) = ( [#] R13 ) by L1970 , L1571;
thus L1975: (ex B147 being (SimplicialComplexStr of R3) st ((the topology of B147) = ( C247 . D242 ) & ( [#] B147 ) = ( [#] R13 ) & (D242 > ( 0 ) implies B147 is  strict))) by L1974 , L1973;
let C251 being (SimplicialComplexStr of R3);
assume L1976: ((the topology of C251) = ( C247 . D242 ) & ( [#] C251 ) = ( [#] R13 ));
L1977: ( C247 . ( D242 + 1 ) ) = ( C246 . ( C247 . D242 ) ) by L1960;
thus L1978: thesis by L1977 , L1959 , L1976;
end;
L1979: (for B148 being Nat holds S12[ B148 ]) from NAT_1:sch 2(L1963 , L1968);
L1980: (for R1 being set holds (R1 in ( NAT ) implies (ex R2 being set st S13[ R1 , R2 ])))
proof
let R1 being set;
assume L1981: R1 in ( NAT );
reconsider D243 = R1 as Nat by L1981;
per cases ;
suppose L1982: D243 = ( 0 );

take R13;
thus L1983: thesis by L1982;
end;
suppose L1984: D243 > ( 0 );

consider C252 being (SimplicialComplexStr of R3) such that L1985: (the topology of C252) = ( C247 . D243 ) and L1986: ( [#] C252 ) = ( [#] R13 ) and L1987: (D243 > ( 0 ) implies C252 is  strict) by L1979;
reconsider D244 = (the topology of C252) as (Subset-Family of R13) by L1986;
take TopStruct (# (the carrier of R13) , D244 #);
thus L1988: thesis by L1984 , L1985;
end;
end;
consider C253 being Function such that L1990: (( dom C253 ) = ( NAT ) & (for R1 being set holds (R1 in ( NAT ) implies S13[ R1 , ( C253 . R1 ) ]))) from CLASSES1:sch 1(L1980);
L1991: ( 0 ) in ( NAT ) by ORDINAL1:def 12;
L1992: ( C253 . ( 0 ) ) = R13 by L1991 , L1990;
L1993: (for B149 being Nat holds (for B150 being (SimplicialComplexStr of R3) holds (( C253 . B149 ) = B150 implies ( C253 . ( B149 + 1 ) ) = ( subdivision (R17 , B150) ))))
proof
let C254 being Nat;
let C255 being (SimplicialComplexStr of R3);
assume that
L1994: ( C253 . C254 ) = C255;
L1995: S12[ ( C254 + 1 ) ] by L1979;
consider C256 being (SimplicialComplexStr of R3) such that L1996: (the topology of C256) = ( C247 . ( C254 + 1 ) ) and L1997: ( [#] C256 ) = ( [#] R13 ) by L1995;
reconsider D245 = (the topology of C256) as (Subset-Family of R13) by L1997;
L1998: C254 in ( NAT ) by ORDINAL1:def 12;
L1999: S12[ C254 ] by L1979;
consider C257 being (SimplicialComplexStr of R3) such that L2000: (the topology of C257) = ( C247 . C254 ) and L2001: ( [#] C257 ) = ( [#] R13 ) by L1999;
reconsider D246 = (the topology of C257) as (Subset-Family of R13) by L2001;
L2002: ( [#] ( subdivision (R17 , C255) ) ) = ( [#] C255 ) by L1571;
per cases ;
suppose L2003: C254 = ( 0 );

L2004: D245 = (the topology of ( subdivision (R17 , C255) )) by L2003 , L1960 , L1963 , L1992 , L1994 , L1996;
thus L2005: thesis by L2004 , L1990 , L1992 , L1994 , L1996 , L2002 , L2003;
end;
suppose L2006: C254 > ( 0 );

L2007: C255 = TopStruct (# (the carrier of R13) , D246 #) by L2006 , L1990 , L1994 , L1998 , L2000;
L2008: ( [#] C255 ) = ( [#] R13 ) by L2007;
L2009: ( C247 . ( C254 + 1 ) ) = (the topology of ( subdivision (R17 , C255) )) by L2008 , L1979 , L2000 , L2007;
thus L2010: thesis by L2009 , L1990 , L2002 , L2007;
end;
end;
per cases ;
suppose L2012: R7 = ( 0 );

take R13;
thus L2013: thesis by L1990 , L1992 , L1993 , L2012;
end;
suppose L2014: R7 > ( 0 );

consider C258 being (SimplicialComplexStr of R3) such that L2015: (the topology of C258) = ( C247 . R7 ) and L2016: ( [#] C258 ) = ( [#] R13 ) and L2017: (R7 > ( 0 ) implies C258 is  strict) by L1979;
reconsider D247 = C258 as  strict (SimplicialComplexStr of R3) by L2014 , L2017;
take D247;
take C253;
thus L2018: ( C253 . ( 0 ) ) = R13 by L1990 , L1991;
L2019: R7 in ( NAT ) by ORDINAL1:def 12;
thus L2020: thesis by L2019 , L1990 , L1993 , L2014 , L2015 , L2016;
end;
end;
uniqueness
proof
let C259 , C260 being (SimplicialComplexStr of R3);
given C261 being Function such that
L2022: ( C261 . ( 0 ) ) = R13
and
L2023: ( C261 . R7 ) = C259
and
L2024: ( dom C261 ) = ( NAT )
and
L2025: (for R8 being Nat holds (for B151 being (SimplicialComplexStr of R3) holds (B151 = ( C261 . R8 ) implies ( C261 . ( R8 + 1 ) ) = ( subdivision (R17 , B151) ))));

given C262 being Function such that
L2026: ( C262 . ( 0 ) ) = R13
and
L2027: ( C262 . R7 ) = C260
and
L2028: ( dom C262 ) = ( NAT )
and
L2029: (for R8 being Nat holds (for B152 being (SimplicialComplexStr of R3) holds (B152 = ( C262 . R8 ) implies ( C262 . ( R8 + 1 ) ) = ( subdivision (R17 , B152) ))));

defpred S14[ Nat ] means (( C261 . $1 ) = ( C262 . $1 ) & (ex B153 being (SimplicialComplexStr of R3) st B153 = ( C261 . $1 )));
L2030: (for R8 being Nat holds (S14[ R8 ] implies S14[ ( R8 + 1 ) ]))
proof
let R8 being Nat;
assume that
L2031: S14[ R8 ];
consider C263 being (SimplicialComplexStr of R3) such that L2032: C263 = ( C261 . R8 ) by L2031;
L2033: ( C261 . ( R8 + 1 ) ) = ( subdivision (R17 , C263) ) by L2025 , L2032;
thus L2034: thesis by L2033 , L2029 , L2031 , L2032;
end;
L2035: S14[ (( 0 ) qua Nat) ] by L2022 , L2026;
L2036: (for R8 being Nat holds S14[ R8 ]) from NAT_1:sch 2(L2035 , L2030);
thus L2037: thesis by L2036 , L2023 , L2027;
end;
end;
theorem
L2039: (for R3 being set holds (for R13 being (SimplicialComplexStr of R3) holds (for R17 being Function holds ( subdivision (( 0 ) , R17 , R13) ) = R13)))
proof
let R3 being set;
let R13 being (SimplicialComplexStr of R3);
let R17 being Function;
L2040: (ex B154 being Function st (( B154 . ( 0 ) ) = R13 & ( B154 . ( 0 ) ) = ( subdivision (( 0 ) , R17 , R13) ) & ( dom B154 ) = ( NAT ) & (for R8 being Nat holds (for B155 being (SimplicialComplexStr of R3) holds (B155 = ( B154 . R8 ) implies ( B154 . ( R8 + 1 ) ) = ( subdivision (R17 , B155) )))))) by L1945;
thus L2041: thesis by L2040;
end;
theorem
L2042: (for R3 being set holds (for R13 being (SimplicialComplexStr of R3) holds (for R17 being Function holds ( subdivision (1 , R17 , R13) ) = ( subdivision (R17 , R13) ))))
proof
let R3 being set;
let R13 being (SimplicialComplexStr of R3);
let R17 being Function;
consider C264 being Function such that L2043: ( C264 . ( 0 ) ) = R13 and L2044: ( C264 . 1 ) = ( subdivision (1 , R17 , R13) ) and L2045: ( dom C264 ) = ( NAT ) and L2046: (for R8 being Nat holds (for B156 being (SimplicialComplexStr of R3) holds (B156 = ( C264 . R8 ) implies ( C264 . ( R8 + 1 ) ) = ( subdivision (R17 , B156) )))) by L1945;
L2047: ( C264 . ( ( 0 ) + 1 ) ) = ( subdivision (R17 , R13) ) by L2043 , L2046;
thus L2048: thesis by L2047 , L2044;
end;
theorem
L2049: (for R3 being set holds (for R13 being (SimplicialComplexStr of R3) holds (for R17 being Function holds (for B157 , B158 being (Element of ( NAT )) holds ( subdivision (( B157 + B158 ) , R17 , R13) ) = ( subdivision (B157 , R17 , ( subdivision (B158 , R17 , R13) )) )))))
proof
let R3 being set;
let R13 being (SimplicialComplexStr of R3);
let R17 being Function;
let C265 , C266 being (Element of ( NAT ));
consider C267 being Function such that L2050: ( C267 . ( 0 ) ) = ( subdivision (C266 , R17 , R13) ) and L2051: ( C267 . C265 ) = ( subdivision (C265 , R17 , ( subdivision (C266 , R17 , R13) )) ) and L2052: ( dom C267 ) = ( NAT ) and L2053: (for B159 being Nat holds (for B160 being (SimplicialComplexStr of R3) holds (B160 = ( C267 . B159 ) implies ( C267 . ( B159 + 1 ) ) = ( subdivision (R17 , B160) )))) by L1945;
consider C268 being Function such that L2054: ( C268 . ( 0 ) ) = R13 and L2055: ( C268 . ( C265 + C266 ) ) = ( subdivision (( C265 + C266 ) , R17 , R13) ) and L2056: ( dom C268 ) = ( NAT ) and L2057: (for B161 being Nat holds (for B162 being (SimplicialComplexStr of R3) holds (B162 = ( C268 . B161 ) implies ( C268 . ( B161 + 1 ) ) = ( subdivision (R17 , B162) )))) by L1945;
defpred S15[ Nat ] means ($1 <= C265 implies (( C267 . $1 ) = ( C268 . ( $1 + C266 ) ) & (ex B163 being (SimplicialComplexStr of R3) st ( C267 . $1 ) = B163)));
L2058: (for B164 being Nat holds (S15[ B164 ] implies S15[ ( B164 + 1 ) ]))
proof
let C269 being Nat;
assume that
L2059: S15[ C269 ];
assume L2060: ( C269 + 1 ) <= C265;
consider C270 being (SimplicialComplexStr of R3) such that L2061: ( C267 . C269 ) = C270 by L2060 , L2059 , NAT_1:13;
L2062: ( subdivision (R17 , C270) ) = ( C268 . ( ( C269 + C266 ) + 1 ) ) by L2057 , L2059 , L2060 , L2061 , NAT_1:13;
thus L2063: thesis by L2062 , L2053 , L2061;
end;
consider C271 being Function such that L2064: ( C271 . ( 0 ) ) = R13 and L2065: ( C271 . C266 ) = ( subdivision (C266 , R17 , R13) ) and L2066: ( dom C271 ) = ( NAT ) and L2067: (for B165 being Nat holds (for B166 being (SimplicialComplexStr of R3) holds (B166 = ( C271 . B165 ) implies ( C271 . ( B165 + 1 ) ) = ( subdivision (R17 , B166) )))) by L1945;
defpred S16[ Nat ] means ($1 <= C266 implies (( C271 . $1 ) = ( C268 . $1 ) & (ex B167 being (SimplicialComplexStr of R3) st ( C271 . $1 ) = B167)));
L2068: (for B168 being Nat holds (S16[ B168 ] implies S16[ ( B168 + 1 ) ]))
proof
let C272 being Nat;
assume that
L2069: S16[ C272 ];
assume L2070: ( C272 + 1 ) <= C266;
consider C273 being (SimplicialComplexStr of R3) such that L2071: ( C271 . C272 ) = C273 by L2070 , L2069 , NAT_1:13;
L2072: ( subdivision (R17 , C273) ) = ( C268 . ( C272 + 1 ) ) by L2057 , L2069 , L2070 , L2071 , NAT_1:13;
thus L2073: thesis by L2072 , L2067 , L2071;
end;
L2074: S16[ (( 0 ) qua Nat) ] by L2054 , L2064;
L2075: (for R8 being Nat holds S16[ R8 ]) from NAT_1:sch 2(L2074 , L2068);
L2076: S15[ (( 0 ) qua Nat) ] by L2075 , L2050 , L2065;
L2077: (for R8 being Nat holds S15[ R8 ]) from NAT_1:sch 2(L2076 , L2058);
thus L2078: thesis by L2077 , L2051 , L2055;
end;
theorem
L2079: (for R3 being set holds (for R7 being Nat holds (for R13 being (SimplicialComplexStr of R3) holds (for R17 being Function holds ( [#] ( subdivision (R7 , R17 , R13) ) ) = ( [#] R13 )))))
proof
let R3 being set;
let R7 being Nat;
let R13 being (SimplicialComplexStr of R3);
let R17 being Function;
defpred S17[ Nat ] means ( [#] ( subdivision ($1 , R17 , R13) ) ) = ( [#] R13 );
L2080: (for R7 being Nat holds (S17[ R7 ] implies S17[ ( R7 + 1 ) ]))
proof
let R7 being Nat;
L2081: R7 in ( NAT ) by ORDINAL1:def 12;
L2082: ( subdivision (( R7 + 1 ) , R17 , R13) ) = ( subdivision (1 , R17 , ( subdivision (R7 , R17 , R13) )) ) by L2081 , L2049
.= ( subdivision (R17 , ( subdivision (R7 , R17 , R13) )) ) by L2042;
assume L2083: ( [#] ( subdivision (R7 , R17 , R13) ) ) = ( [#] R13 );
thus L2084: thesis by L2083 , L2082 , L1571;
end;
L2085: S17[ (( 0 ) qua Nat) ] by L2039;
L2086: (for R7 being Nat holds S17[ R7 ]) from NAT_1:sch 2(L2085 , L2080);
thus L2087: thesis by L2086;
end;
theorem
L2088: (for R3 being set holds (for R7 being Nat holds (for R13 being (SimplicialComplexStr of R3) holds (for R14 being (SubSimplicialComplex of R13) holds (for R17 being Function holds ( subdivision (R7 , R17 , R14) ) is (SubSimplicialComplex of ( subdivision (R7 , R17 , R13) )))))))
proof
let R3 being set;
let R7 being Nat;
let R13 being (SimplicialComplexStr of R3);
let R14 being (SubSimplicialComplex of R13);
let R17 being Function;
defpred S18[ Nat ] means ( subdivision ($1 , R17 , R14) ) is (SubSimplicialComplex of ( subdivision ($1 , R17 , R13) ));
L2089: (for R7 being Nat holds (S18[ R7 ] implies S18[ ( R7 + 1 ) ]))
proof
let R7 being Nat;
assume L2090: S18[ R7 ];
reconsider D248 = ( subdivision (R7 , R17 , R14) ) as (SubSimplicialComplex of ( subdivision (R7 , R17 , R13) )) by L2090;
L2091: R7 in ( NAT ) by ORDINAL1:def 12;
L2092: ( subdivision (( R7 + 1 ) , R17 , R14) ) = ( subdivision (1 , R17 , D248) ) by L2091 , L2049
.= ( subdivision (R17 , D248) ) by L2042;
L2093: ( subdivision (( R7 + 1 ) , R17 , R13) ) = ( subdivision (1 , R17 , ( subdivision (R7 , R17 , R13) )) ) by L2091 , L2049
.= ( subdivision (R17 , ( subdivision (R7 , R17 , R13) )) ) by L2042;
thus L2094: thesis by L2093 , L2092 , L1891;
end;
L2095: ( subdivision (( 0 ) , R17 , R14) ) = R14 by L2039;
L2096: S18[ ( 0 ) ] by L2095 , L2039;
L2097: (for R7 being Nat holds S18[ R7 ]) from NAT_1:sch 2(L2096 , L2089);
thus L2098: thesis by L2097;
end;
