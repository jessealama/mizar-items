:: Tarski's Classes and Ranks
::  by Grzegorz Bancerek
::
:: Received March 23, 1990
:: Copyright (c) 1990-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies FUNCT_1, TARSKI, ZFMISC_1, SETFAM_1, XBOOLE_0, CARD_1, SUBSET_1,
      ORDINAL1, ORDINAL2, RELAT_1, FUNCT_2, CLASSES1, NAT_1;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, SETFAM_1, RELAT_1, FUNCT_1,
      FUNCT_2, CARD_1, ORDINAL1, MCART_1, ORDINAL2;
 constructors SETFAM_1, MCART_1, WELLORD2, ORDINAL2, CARD_1, FUNCT_2, RELSET_1;
 registrations XBOOLE_0, SUBSET_1, ORDINAL1, FUNCT_1, FUNCT_2, RELSET_1,
      RELAT_1;
 requirements SUBSET, BOOLE;
 definitions ORDINAL1, TARSKI, WELLORD2, FUNCT_1, XBOOLE_0, RELAT_1;
 theorems TARSKI, SETFAM_1, ZFMISC_1, ORDINAL1, FUNCT_1, CARD_1, WELLORD2,
      ENUMSET1, XBOOLE_0, XBOOLE_1, ORDINAL2, RELAT_1, FUNCT_2, XTUPLE_0;
 schemes ORDINAL1, ORDINAL2, TARSKI, PARTFUN1, XBOOLE_0, FUNCT_1;

begin
definition
let C1 being set;
attr C1 is  subset-closed
means
:L1: (for R2 being set holds (for R3 being set holds ((R2 in C1 & R3 c= R2) implies R3 in C1)));
end;
definition
let C2 being set;
attr C2 is  Tarski
means
:L3: (C2 is  subset-closed & (for R2 being set holds (R2 in C2 implies ( bool R2 ) in C2)) & (for R2 being set holds (R2 c= C2 implies (R2 , C2 are_equipotent  or R2 in C2))));
end;
definition
let C3 , C4 being set;
pred C4 is_Tarski-Class_of C3
means
:L5: (C3 in C4 & C4 is  Tarski)
;end;
definition
let C5 being set;
func Tarski-Class C5 -> set means 
:L7: (it is_Tarski-Class_of C5 & (for B1 being set holds (B1 is_Tarski-Class_of C5 implies it c= B1)));
existence
proof
consider C6 being set such that L8: C5 in C6 and L9: (for R2 being set holds (for R3 being set holds ((R2 in C6 & R3 c= R2) implies R3 in C6))) and L10: ((for R2 being set holds (R2 in C6 implies ( bool R2 ) in C6)) & (for R2 being set holds (R2 c= C6 implies (R2 , C6 are_equipotent  or R2 in C6)))) by ZFMISC_1:112;
L11: C6 is  subset-closed by L9 , L1;
L12: C6 is  Tarski by L11 , L10 , L3;
defpred S1[ set ] means $1 is_Tarski-Class_of C5;
consider C7 being set such that L13: (for R2 being set holds (R2 in C7 iff (R2 in ( bool C6 ) & S1[ R2 ]))) from XBOOLE_0:sch 1;
set D1 = ( meet C7 );
L14: (C6 in ( bool C6 ) & C6 is_Tarski-Class_of C5) by L8 , L12 , L5 , ZFMISC_1:def 1;
L15: C6 in C7 by L14 , L13;
L16: C7 <> ( {} ) by L13 , L14;
L17:
now
let R2 being set;
assume L18: R2 in C7;
L19: R2 is_Tarski-Class_of C5 by L18 , L13;
thus L20: C5 in R2 by L19 , L5;
end;
L21: C5 in D1 by L17 , L16 , SETFAM_1:def 1;
take D1;
thus L22: C5 in D1 by L16 , L17 , SETFAM_1:def 1;
thus L23: (for R2 being set holds (for R3 being set holds ((R2 in D1 & R3 c= R2) implies R3 in D1)))
proof
let R2 being set;
let R3 being set;
assume that
L24: R2 in D1
and
L25: R3 c= R2;
L26:
now
let R4 being set;
assume L27: R4 in C7;
L28: R4 is_Tarski-Class_of C5 by L27 , L13;
L29: R4 is  Tarski by L28 , L5;
L30: R4 is  subset-closed by L29 , L3;
L31: R2 in R4 by L24 , L27 , SETFAM_1:def 1;
thus L32: R3 in R4 by L31 , L25 , L30 , L1;
end;
thus L33: thesis by L26 , L16 , SETFAM_1:def 1;
end;

thus L34: (for R2 being set holds (R2 in D1 implies ( bool R2 ) in D1))
proof
let R2 being set;
assume L35: R2 in D1;
L36:
now
let R4 being set;
assume L37: R4 in C7;
L38: R4 is_Tarski-Class_of C5 by L37 , L13;
L39: R4 is  Tarski by L38 , L5;
L40: R2 in R4 by L35 , L37 , SETFAM_1:def 1;
thus L41: ( bool R2 ) in R4 by L40 , L39 , L3;
end;
thus L42: thesis by L36 , L16 , SETFAM_1:def 1;
end;

thus L43: (for R2 being set holds (R2 c= D1 implies (R2 , D1 are_equipotent  or R2 in D1)))
proof
let R2 being set;
assume that
L44: R2 c= D1
and
L45: (not R2 , D1 are_equipotent );
L46:
now
let R4 being set;
assume L47: R4 in C7;
L48: R4 is_Tarski-Class_of C5 by L47 , L13;
L49: R4 is  Tarski by L48 , L5;
L50: D1 c= R4 by L47 , SETFAM_1:3;
L51: R2 c= R4 by L50 , L44 , XBOOLE_1:1;
L52: (R2 , R4 are_equipotent  or R2 in R4) by L51 , L49 , L3;
thus L53: R2 in R4 by L52 , L44 , L45 , L50 , CARD_1:24;
end;
thus L54: thesis by L46 , L16 , SETFAM_1:def 1;
end;

let C8 being set;
assume L55: C8 is_Tarski-Class_of C5;
L56: C5 in C8 by L55 , L5;
L57: C8 is  Tarski by L55 , L5;
L58: C8 is  subset-closed by L57 , L3;
L59: ( D1 /\ C8 ) is_Tarski-Class_of C5
proof
thus L60: C5 in ( D1 /\ C8 ) by L21 , L56 , XBOOLE_0:def 4;
thus L61: (for R2 being set holds (for R3 being set holds ((R2 in ( D1 /\ C8 ) & R3 c= R2) implies R3 in ( D1 /\ C8 ))))
proof
let R2 being set;
let R3 being set;
assume that
L62: R2 in ( D1 /\ C8 )
and
L63: R3 c= R2;
L64: R2 in D1 by L62 , XBOOLE_0:def 4;
L65: R2 in C8 by L62 , XBOOLE_0:def 4;
L66: R3 in D1 by L23 , L63 , L64;
L67: R3 in C8 by L58 , L63 , L65 , L1;
thus L68: thesis by L67 , L66 , XBOOLE_0:def 4;
end;

thus L69: (for R2 being set holds (R2 in ( D1 /\ C8 ) implies ( bool R2 ) in ( D1 /\ C8 )))
proof
let R2 being set;
assume L70: R2 in ( D1 /\ C8 );
L71: R2 in D1 by L70 , XBOOLE_0:def 4;
L72: R2 in C8 by L70 , XBOOLE_0:def 4;
L73: ( bool R2 ) in D1 by L34 , L71;
L74: ( bool R2 ) in C8 by L57 , L72 , L3;
thus L75: thesis by L74 , L73 , XBOOLE_0:def 4;
end;

let R2 being set;
assume that
L76: R2 c= ( D1 /\ C8 )
and
L77: (not R2 , ( D1 /\ C8 ) are_equipotent );
L78: ( D1 /\ C8 ) c= D1 by XBOOLE_1:17;
L79: ( D1 /\ C8 ) c= C8 by XBOOLE_1:17;
L80: (not R2 , D1 are_equipotent ) by L76 , L77 , L78 , CARD_1:24;
L81: (R2 c= C8 & (not R2 , C8 are_equipotent )) by L76 , L77 , L79 , CARD_1:24 , XBOOLE_1:1;
L82: R2 in D1 by L43 , L76 , L78 , L80 , XBOOLE_1:1;
L83: R2 in C8 by L57 , L81 , L3;
thus L84: thesis by L83 , L82 , XBOOLE_0:def 4;
end;
L85: ( D1 /\ C8 ) c= C6
proof
let R8 being set;
assume L86: R8 in ( D1 /\ C8 );
L87: R8 in D1 by L86 , XBOOLE_0:def 4;
thus L88: thesis by L87 , L15 , SETFAM_1:def 1;
end;
L89: ( D1 /\ C8 ) in C7 by L85 , L13 , L59;
L90: D1 c= ( D1 /\ C8 ) by L89 , SETFAM_1:3;
L91: ( D1 /\ C8 ) c= C8 by XBOOLE_1:17;
thus L92: thesis by L91 , L90 , XBOOLE_1:1;
end;
uniqueness
proof
let C9 , C10 being set;
assume that
L93: (C9 is_Tarski-Class_of C5 & (for B2 being set holds (B2 is_Tarski-Class_of C5 implies C9 c= B2)) & C10 is_Tarski-Class_of C5 & (for B3 being set holds (B3 is_Tarski-Class_of C5 implies C10 c= B3)));
thus L94: (C9 c= C10 & C10 c= C9) by L93;
end;
end;
registration
let C11 being set;
cluster ( Tarski-Class C11 ) -> non  empty;
coherence
proof
L96: ( Tarski-Class C11 ) is_Tarski-Class_of C11 by L7;
thus L97: thesis by L96 , L5;
end;
end;
theorem
L99: (for R1 being set holds (R1 is  Tarski iff (R1 is  subset-closed & (for R2 being set holds (R2 in R1 implies ( bool R2 ) in R1)) & (for R2 being set holds ((R2 c= R1 & ( card R2 ) in ( card R1 )) implies R2 in R1)))))
proof
let R1 being set;
thus L100:now
assume L101: R1 is  Tarski;
thus L102: (R1 is  subset-closed & (for R2 being set holds (R2 in R1 implies ( bool R2 ) in R1))) by L101 , L3;
let R2 being set;
assume that
L103: R2 c= R1
and
L104: ( card R2 ) in ( card R1 );
L105: ( card R2 ) <> ( card R1 ) by L104;
L106: (not R2 , R1 are_equipotent ) by L105 , CARD_1:5;
thus L107: R2 in R1 by L106 , L101 , L103 , L3;
end;
L108:
now
assume L109: (for R2 being set holds ((R2 c= R1 & ( card R2 ) in ( card R1 )) implies R2 in R1));
let R2 being set;
assume L110: R2 c= R1;
L111: ((( card R2 ) c= ( card R1 ) & (not ( card R2 ) in ( card R1 ))) or R2 in R1) by L110 , L109 , CARD_1:11;
L112: (( card R2 ) = ( card R1 ) or R2 in R1) by L111 , CARD_1:3;
thus L113: (R2 , R1 are_equipotent  or R2 in R1) by L112 , CARD_1:5;
end;
thus L114: thesis by L108 , L3;
end;
theorem
L115: (for R2 being set holds R2 in ( Tarski-Class R2 ))
proof
let R2 being set;
L116: ( Tarski-Class R2 ) is_Tarski-Class_of R2 by L7;
thus L117: thesis by L116 , L5;
end;
theorem
L118: (for R2 being set holds (for R3 being set holds (for R4 being set holds ((R3 in ( Tarski-Class R2 ) & R4 c= R3) implies R4 in ( Tarski-Class R2 )))))
proof
let R2 being set;
let R3 being set;
let R4 being set;
L119: ( Tarski-Class R2 ) is_Tarski-Class_of R2 by L7;
L120: ( Tarski-Class R2 ) is  Tarski by L119 , L5;
L121: ( Tarski-Class R2 ) is  subset-closed by L120 , L3;
thus L122: thesis by L121 , L1;
end;
theorem
L123: (for R2 being set holds (for R3 being set holds (R3 in ( Tarski-Class R2 ) implies ( bool R3 ) in ( Tarski-Class R2 ))))
proof
let R2 being set;
let R3 being set;
L124: ( Tarski-Class R2 ) is_Tarski-Class_of R2 by L7;
L125: ( Tarski-Class R2 ) is  Tarski by L124 , L5;
thus L126: thesis by L125 , L3;
end;
theorem
L127: (for R2 being set holds (for R3 being set holds (R3 c= ( Tarski-Class R2 ) implies (R3 , ( Tarski-Class R2 ) are_equipotent  or R3 in ( Tarski-Class R2 )))))
proof
let R2 being set;
let R3 being set;
L128: ( Tarski-Class R2 ) is_Tarski-Class_of R2 by L7;
L129: ( Tarski-Class R2 ) is  Tarski by L128 , L5;
thus L130: thesis by L129 , L3;
end;
theorem
L131: (for R2 being set holds (for R3 being set holds ((R3 c= ( Tarski-Class R2 ) & ( card R3 ) in ( card ( Tarski-Class R2 ) )) implies R3 in ( Tarski-Class R2 ))))
proof
let R2 being set;
let R3 being set;
assume that
L132: R3 c= ( Tarski-Class R2 )
and
L133: ( card R3 ) in ( card ( Tarski-Class R2 ) );
L134: ( card R3 ) <> ( card ( Tarski-Class R2 ) ) by L133;
L135: (not R3 , ( Tarski-Class R2 ) are_equipotent ) by L134 , CARD_1:5;
thus L136: thesis by L135 , L132 , L127;
end;
definition
let R2 being set;
let R13 being Ordinal;
func Tarski-Class (R2 , R13) means 
:L137: (ex R16 being T-Sequence st (it = ( last R16 ) & ( dom R16 ) = ( succ R13 ) & ( R16 . ( {} ) ) = { R2 } & (for R15 being Ordinal holds (( succ R15 ) in ( succ R13 ) implies ( R16 . ( succ R15 ) ) = ( ( { R11 where R11 is (Element of ( Tarski-Class R2 )) : (ex R12 being (Element of ( Tarski-Class R2 )) st (R12 in ( R16 . R15 ) & R11 c= R12)) } \/ { ( bool R12 ) where R12 is (Element of ( Tarski-Class R2 )) : R12 in ( R16 . R15 ) } ) \/ ( ( bool ( R16 . R15 ) ) /\ ( Tarski-Class R2 ) ) ))) & (for R15 being Ordinal holds ((R15 in ( succ R13 ) & R15 <> ( {} ) & R15 is  limit_ordinal) implies ( R16 . R15 ) = ( ( union ( rng ( R16 | R15 ) ) ) /\ ( Tarski-Class R2 ) )))));
correctness
proof
deffunc H1(Ordinal , set) = ( ( { R11 where R11 is (Element of ( Tarski-Class R2 )) : (ex R12 being (Element of ( Tarski-Class R2 )) st (R12 in $2 & R11 c= R12)) } \/ { ( bool R12 ) where R12 is (Element of ( Tarski-Class R2 )) : R12 in $2 } ) \/ ( ( bool $2 ) /\ ( Tarski-Class R2 ) ) );
deffunc H2(Ordinal , T-Sequence) = ( ( union ( rng $2 ) ) /\ ( Tarski-Class R2 ) );
thus L138: ((ex R8 being set st (ex R16 being T-Sequence st (R8 = ( last R16 ) & ( dom R16 ) = ( succ R13 ) & ( R16 . ( {} ) ) = { R2 } & (for R15 being Ordinal holds (( succ R15 ) in ( succ R13 ) implies ( R16 . ( succ R15 ) ) = H1(R15 , ( R16 . R15 )))) & (for R15 being Ordinal holds ((R15 in ( succ R13 ) & R15 <> ( {} ) & R15 is  limit_ordinal) implies ( R16 . R15 ) = H2(R15 , ( R16 | R15 ))))))) & (for B4 , B5 being set holds (((ex R16 being T-Sequence st (B4 = ( last R16 ) & ( dom R16 ) = ( succ R13 ) & ( R16 . ( {} ) ) = { R2 } & (for R15 being Ordinal holds (( succ R15 ) in ( succ R13 ) implies ( R16 . ( succ R15 ) ) = H1(R15 , ( R16 . R15 )))) & (for R15 being Ordinal holds ((R15 in ( succ R13 ) & R15 <> ( {} ) & R15 is  limit_ordinal) implies ( R16 . R15 ) = H2(R15 , ( R16 | R15 )))))) & (ex R16 being T-Sequence st (B5 = ( last R16 ) & ( dom R16 ) = ( succ R13 ) & ( R16 . ( {} ) ) = { R2 } & (for R15 being Ordinal holds (( succ R15 ) in ( succ R13 ) implies ( R16 . ( succ R15 ) ) = H1(R15 , ( R16 . R15 )))) & (for R15 being Ordinal holds ((R15 in ( succ R13 ) & R15 <> ( {} ) & R15 is  limit_ordinal) implies ( R16 . R15 ) = H2(R15 , ( R16 | R15 ))))))) implies B4 = B5))) from ORDINAL2:sch 7;
end;
end;
L140:
now
let R2 being set;
deffunc H3(Ordinal) = ( Tarski-Class (R2 , $1) );
deffunc H4(Ordinal , set) = ( ( { R11 where R11 is (Element of ( Tarski-Class R2 )) : (ex R12 being (Element of ( Tarski-Class R2 )) st (R12 in $2 & R11 c= R12)) } \/ { ( bool R12 ) where R12 is (Element of ( Tarski-Class R2 )) : R12 in $2 } ) \/ ( ( bool $2 ) /\ ( Tarski-Class R2 ) ) );
deffunc H5(Ordinal , T-Sequence) = ( ( union ( rng $2 ) ) /\ ( Tarski-Class R2 ) );
L141: (for R13 being Ordinal holds (for R8 being set holds (R8 = H3(R13) iff (ex R16 being T-Sequence st (R8 = ( last R16 ) & ( dom R16 ) = ( succ R13 ) & ( R16 . ( {} ) ) = { R2 } & (for R15 being Ordinal holds (( succ R15 ) in ( succ R13 ) implies ( R16 . ( succ R15 ) ) = H4(R15 , ( R16 . R15 )))) & (for R15 being Ordinal holds ((R15 in ( succ R13 ) & R15 <> ( {} ) & R15 is  limit_ordinal) implies ( R16 . R15 ) = H5(R15 , ( R16 | R15 ))))))))) by L137;
thus L142: H3(( {} )) = { R2 } from ORDINAL2:sch 8(L141);
thus L143: (for R13 being Ordinal holds H3(( succ R13 )) = H4(R13 , H3(R13))) from ORDINAL2:sch 9(L141);
thus L144: (for R13 being Ordinal holds (for R16 being T-Sequence holds ((R13 <> ( {} ) & R13 is  limit_ordinal & ( dom R16 ) = R13 & (for R14 being Ordinal holds (R14 in R13 implies ( R16 . R14 ) = ( Tarski-Class (R2 , R14) )))) implies ( Tarski-Class (R2 , R13) ) = ( ( union ( rng R16 ) ) /\ ( Tarski-Class R2 ) ))))
proof
let R13 being Ordinal;
let R16 being T-Sequence;
assume that
L145: (R13 <> ( {} ) & R13 is  limit_ordinal)
and
L146: ( dom R16 ) = R13
and
L147: (for R14 being Ordinal holds (R14 in R13 implies ( R16 . R14 ) = H3(R14)));
thus L148: H3(R13) = H5(R13 , R16) from ORDINAL2:sch 10(L141 , L145 , L146 , L147);
end;

end;
definition
let R2 being set;
let R13 being Ordinal;
redefine func Tarski-Class (R2 , R13) -> (Subset of ( Tarski-Class R2 ));

coherence
proof
defpred S2[ Ordinal ] means ( Tarski-Class (R2 , $1) ) is (Subset of ( Tarski-Class R2 ));
L145: { R2 } c= ( Tarski-Class R2 )
proof
let R8 being set;
assume L146: R8 in { R2 };
L147: R8 = R2 by L146 , TARSKI:def 1;
thus L148: thesis by L147 , L115;
end;
L149: S2[ ( {} ) ] by L145 , L140;
L150: (for R14 being Ordinal holds (S2[ R14 ] implies S2[ ( succ R14 ) ]))
proof
let R14 being Ordinal;
assume L151: ( Tarski-Class (R2 , R14) ) is (Subset of ( Tarski-Class R2 ));
reconsider D2 = ( Tarski-Class (R2 , R14) ) as (Subset of ( Tarski-Class R2 )) by L151;
set D3 = ( Tarski-Class (R2 , ( succ R14 )) );
L152: D3 c= ( Tarski-Class R2 )
proof
let R8 being set;
assume L153: R8 in D3;
L154: R8 in ( ( { R11 where R11 is (Element of ( Tarski-Class R2 )) : (ex R12 being (Element of ( Tarski-Class R2 )) st (R12 in D2 & R11 c= R12)) } \/ { ( bool R12 ) where R12 is (Element of ( Tarski-Class R2 )) : R12 in D2 } ) \/ ( ( bool D2 ) /\ ( Tarski-Class R2 ) ) ) by L153 , L140;
L155: (R8 in ( { R11 where R11 is (Element of ( Tarski-Class R2 )) : (ex R12 being (Element of ( Tarski-Class R2 )) st (R12 in D2 & R11 c= R12)) } \/ { ( bool R12 ) where R12 is (Element of ( Tarski-Class R2 )) : R12 in D2 } ) or R8 in ( ( bool D2 ) /\ ( Tarski-Class R2 ) )) by L154 , XBOOLE_0:def 3;
L156:
now
assume L157: R8 in { R11 where R11 is (Element of ( Tarski-Class R2 )) : (ex R12 being (Element of ( Tarski-Class R2 )) st (R12 in D2 & R11 c= R12)) };
L158: (ex R11 being (Element of ( Tarski-Class R2 )) st (R8 = R11 & (ex R12 being (Element of ( Tarski-Class R2 )) st (R12 in D2 & R11 c= R12)))) by L157;
thus L159: thesis by L158;
end;
L160:
now
assume L161: R8 in { ( bool R12 ) where R12 is (Element of ( Tarski-Class R2 )) : R12 in D2 };
L162: (ex R12 being (Element of ( Tarski-Class R2 )) st (R8 = ( bool R12 ) & R12 in D2)) by L161;
thus L163: thesis by L162 , L123;
end;
thus L164: thesis by L160 , L155 , L156 , XBOOLE_0:def 3 , XBOOLE_0:def 4;
end;
thus L165: thesis by L152;
end;
L166: (for R14 being Ordinal holds ((R14 <> ( {} ) & R14 is  limit_ordinal & (for R15 being Ordinal holds (R15 in R14 implies S2[ R15 ]))) implies S2[ R14 ]))
proof
let R14 being Ordinal;
assume that
L167: (R14 <> ( {} ) & R14 is  limit_ordinal)
and
L168: (for R15 being Ordinal holds (R15 in R14 implies ( Tarski-Class (R2 , R15) ) is (Subset of ( Tarski-Class R2 ))));
deffunc H6(Ordinal) = ( Tarski-Class (R2 , $1) );
consider R16 being T-Sequence such that L169: (( dom R16 ) = R14 & (for R15 being Ordinal holds (R15 in R14 implies ( R16 . R15 ) = H6(R15)))) from ORDINAL2:sch 2;
L170: ( Tarski-Class (R2 , R14) ) = ( ( union ( rng R16 ) ) /\ ( Tarski-Class R2 ) ) by L167 , L169 , L140;
thus L171: thesis by L170 , XBOOLE_1:17;
end;
L172: (for R13 being Ordinal holds S2[ R13 ]) from ORDINAL2:sch 1(L149 , L150 , L166);
thus L173: thesis by L172;
end;
end;
theorem
L175: (for R2 being set holds ( Tarski-Class (R2 , ( {} )) ) = { R2 }) by L140;
theorem
L176: (for R2 being set holds (for R13 being Ordinal holds ( Tarski-Class (R2 , ( succ R13 )) ) = ( ( { R11 where R11 is (Element of ( Tarski-Class R2 )) : (ex R12 being (Element of ( Tarski-Class R2 )) st (R12 in ( Tarski-Class (R2 , R13) ) & R11 c= R12)) } \/ { ( bool R12 ) where R12 is (Element of ( Tarski-Class R2 )) : R12 in ( Tarski-Class (R2 , R13) ) } ) \/ ( ( bool ( Tarski-Class (R2 , R13) ) ) /\ ( Tarski-Class R2 ) ) ))) by L140;
theorem
L177: (for R2 being set holds (for R13 being Ordinal holds ((R13 <> ( {} ) & R13 is  limit_ordinal) implies ( Tarski-Class (R2 , R13) ) = { R11 where R11 is (Element of ( Tarski-Class R2 )) : (ex R14 being Ordinal st (R14 in R13 & R11 in ( Tarski-Class (R2 , R14) ))) })))
proof
let R2 being set;
let R13 being Ordinal;
assume L178: (R13 <> ( {} ) & R13 is  limit_ordinal);
deffunc H7(Ordinal) = ( Tarski-Class (R2 , $1) );
consider R16 being T-Sequence such that L179: (( dom R16 ) = R13 & (for R14 being Ordinal holds (R14 in R13 implies ( R16 . R14 ) = H7(R14)))) from ORDINAL2:sch 2;
L180: ( Tarski-Class (R2 , R13) ) = ( ( union ( rng R16 ) ) /\ ( Tarski-Class R2 ) ) by L178 , L179 , L140;
thus L181: ( Tarski-Class (R2 , R13) ) c= { R11 where R11 is (Element of ( Tarski-Class R2 )) : (ex R14 being Ordinal st (R14 in R13 & R11 in ( Tarski-Class (R2 , R14) ))) }
proof
let R8 being set;
assume L182: R8 in ( Tarski-Class (R2 , R13) );
L183: R8 in ( union ( rng R16 ) ) by L182 , L180 , XBOOLE_0:def 4;
consider R3 being set such that L184: R8 in R3 and L185: R3 in ( rng R16 ) by L183 , TARSKI:def 4;
consider R9 being set such that L186: R9 in ( dom R16 ) and L187: R3 = ( R16 . R9 ) by L185 , FUNCT_1:def 3;
reconsider D4 = R9 as Ordinal by L186;
L188: R3 = ( Tarski-Class (R2 , D4) ) by L179 , L186 , L187;
thus L189: thesis by L188 , L179 , L184 , L186;
end;

let R8 being set;
assume L190: R8 in { R11 where R11 is (Element of ( Tarski-Class R2 )) : (ex R14 being Ordinal st (R14 in R13 & R11 in ( Tarski-Class (R2 , R14) ))) };
consider R11 being (Element of ( Tarski-Class R2 )) such that L191: R8 = R11 and L192: (ex R14 being Ordinal st (R14 in R13 & R11 in ( Tarski-Class (R2 , R14) ))) by L190;
consider R14 being Ordinal such that L193: R14 in R13 and L194: R11 in ( Tarski-Class (R2 , R14) ) by L192;
L195: ( R16 . R14 ) = ( Tarski-Class (R2 , R14) ) by L179 , L193;
L196: ( Tarski-Class (R2 , R14) ) in ( rng R16 ) by L195 , L179 , L193 , FUNCT_1:def 3;
L197: R11 in ( union ( rng R16 ) ) by L196 , L194 , TARSKI:def 4;
thus L198: thesis by L197 , L180 , L191 , XBOOLE_0:def 4;
end;
theorem
L199: (for R2 being set holds (for R3 being set holds (for R13 being Ordinal holds (R3 in ( Tarski-Class (R2 , ( succ R13 )) ) iff ((R3 c= ( Tarski-Class (R2 , R13) ) & R3 in ( Tarski-Class R2 )) or (ex R4 being set st (R4 in ( Tarski-Class (R2 , R13) ) & (R3 c= R4 or R3 = ( bool R4 )))))))))
proof
let R2 being set;
let R3 being set;
let R13 being Ordinal;
set D5 = { R11 where R11 is (Element of ( Tarski-Class R2 )) : (ex R12 being (Element of ( Tarski-Class R2 )) st (R12 in ( Tarski-Class (R2 , R13) ) & R11 c= R12)) };
set D6 = { ( bool R12 ) where R12 is (Element of ( Tarski-Class R2 )) : R12 in ( Tarski-Class (R2 , R13) ) };
set D7 = ( ( bool ( Tarski-Class (R2 , R13) ) ) /\ ( Tarski-Class R2 ) );
L200: ( Tarski-Class (R2 , ( succ R13 )) ) = ( ( D5 \/ D6 ) \/ D7 ) by L140;
thus L201: (R3 in ( Tarski-Class (R2 , ( succ R13 )) ) implies ((R3 c= ( Tarski-Class (R2 , R13) ) & R3 in ( Tarski-Class R2 )) or (ex R4 being set st (R4 in ( Tarski-Class (R2 , R13) ) & (R3 c= R4 or R3 = ( bool R4 ))))))
proof
assume L202: R3 in ( Tarski-Class (R2 , ( succ R13 )) );
L203: (R3 in ( D5 \/ D6 ) or R3 in D7) by L202 , L200 , XBOOLE_0:def 3;
L204:
now
assume L205: R3 in D5;
L206: (ex R11 being (Element of ( Tarski-Class R2 )) st (R3 = R11 & (ex R12 being (Element of ( Tarski-Class R2 )) st (R12 in ( Tarski-Class (R2 , R13) ) & R11 c= R12)))) by L205;
thus L207: (ex R4 being set st (R4 in ( Tarski-Class (R2 , R13) ) & (R3 c= R4 or R3 = ( bool R4 )))) by L206;
end;
L208:
now
assume L209: R3 in D6;
L210: (ex R12 being (Element of ( Tarski-Class R2 )) st (R3 = ( bool R12 ) & R12 in ( Tarski-Class (R2 , R13) ))) by L209;
thus L211: (ex R4 being set st (R4 in ( Tarski-Class (R2 , R13) ) & (R3 c= R4 or R3 = ( bool R4 )))) by L210;
end;
L212: (R3 in D7 implies thesis) by XBOOLE_0:def 4;
thus L213: thesis by L212 , L203 , L204 , L208 , XBOOLE_0:def 3;
end;

assume L214: ((R3 c= ( Tarski-Class (R2 , R13) ) & R3 in ( Tarski-Class R2 )) or (ex R4 being set st (R4 in ( Tarski-Class (R2 , R13) ) & (R3 c= R4 or R3 = ( bool R4 )))));
L215:
now
assume L216: (R3 c= ( Tarski-Class (R2 , R13) ) & R3 in ( Tarski-Class R2 ));
L217: R3 in D7 by L216 , XBOOLE_0:def 4;
thus L218: thesis by L217 , L200 , XBOOLE_0:def 3;
end;
L219:
now
given R4 being set such that
L220: R4 in ( Tarski-Class (R2 , R13) )
and
L221: (R3 c= R4 or R3 = ( bool R4 ));

reconsider D8 = R4 as (Element of ( Tarski-Class R2 )) by L220;
reconsider D9 = R3 as (Element of ( Tarski-Class R2 )) by L220 , L221 , L118 , L123;
L222:
now
assume L223: R3 c= D8;
L224: D9 in D5 by L223 , L220;
L225: R3 in ( D5 \/ D6 ) by L224 , XBOOLE_0:def 3;
thus L226: thesis by L225 , L200 , XBOOLE_0:def 3;
end;
L227:
now
assume L228: R3 = ( bool D8 );
L229: D9 in D6 by L228 , L220;
L230: R3 in ( D5 \/ D6 ) by L229 , XBOOLE_0:def 3;
thus L231: thesis by L230 , L200 , XBOOLE_0:def 3;
end;
thus L232: thesis by L227 , L221 , L222;
end;
thus L233: thesis by L219 , L214 , L215;
end;
theorem
L234: (for R2 being set holds (for R3 being set holds (for R4 being set holds (for R13 being Ordinal holds ((R3 c= R4 & R4 in ( Tarski-Class (R2 , R13) )) implies R3 in ( Tarski-Class (R2 , ( succ R13 )) )))))) by L199;
theorem
L235: (for R2 being set holds (for R3 being set holds (for R13 being Ordinal holds (R3 in ( Tarski-Class (R2 , R13) ) implies ( bool R3 ) in ( Tarski-Class (R2 , ( succ R13 )) ))))) by L199;
theorem
L236: (for R2 being set holds (for R8 being set holds (for R13 being Ordinal holds ((R13 <> ( {} ) & R13 is  limit_ordinal) implies (R8 in ( Tarski-Class (R2 , R13) ) iff (ex R14 being Ordinal st (R14 in R13 & R8 in ( Tarski-Class (R2 , R14) ))))))))
proof
let R2 being set;
let R8 being set;
let R13 being Ordinal;
assume L237: (R13 <> ( {} ) & R13 is  limit_ordinal);
L238: ( Tarski-Class (R2 , R13) ) = { R11 where R11 is (Element of ( Tarski-Class R2 )) : (ex R14 being Ordinal st (R14 in R13 & R11 in ( Tarski-Class (R2 , R14) ))) } by L237 , L177;
thus L239: (R8 in ( Tarski-Class (R2 , R13) ) implies (ex R14 being Ordinal st (R14 in R13 & R8 in ( Tarski-Class (R2 , R14) ))))
proof
assume L240: R8 in ( Tarski-Class (R2 , R13) );
L241: (ex R11 being (Element of ( Tarski-Class R2 )) st (R8 = R11 & (ex R14 being Ordinal st (R14 in R13 & R11 in ( Tarski-Class (R2 , R14) ))))) by L240 , L238;
thus L242: thesis by L241;
end;

given R14 being Ordinal such that
L243: R14 in R13
and
L244: R8 in ( Tarski-Class (R2 , R14) );

reconsider D10 = R8 as (Element of ( Tarski-Class R2 )) by L244;
L245: D10 in { R12 where R12 is (Element of ( Tarski-Class R2 )) : (ex R14 being Ordinal st (R14 in R13 & R12 in ( Tarski-Class (R2 , R14) ))) } by L243 , L244;
thus L246: thesis by L245 , L237 , L177;
end;
theorem
L247: (for R2 being set holds (for R3 being set holds (for R4 being set holds (for R13 being Ordinal holds ((R13 <> ( {} ) & R13 is  limit_ordinal & R3 in ( Tarski-Class (R2 , R13) ) & (R4 c= R3 or R4 = ( bool R3 ))) implies R4 in ( Tarski-Class (R2 , R13) ))))))
proof
let R2 being set;
let R3 being set;
let R4 being set;
let R13 being Ordinal;
assume that
L248: R13 <> ( {} )
and
L249: R13 is  limit_ordinal
and
L250: R3 in ( Tarski-Class (R2 , R13) );
consider R14 being Ordinal such that L251: R14 in R13 and L252: R3 in ( Tarski-Class (R2 , R14) ) by L248 , L249 , L250 , L236;
L253: ( bool R3 ) in ( Tarski-Class (R2 , ( succ R14 )) ) by L252 , L199;
L254: (R4 c= R3 implies R4 in ( Tarski-Class (R2 , ( succ R14 )) )) by L252 , L199;
L255: ( succ R14 ) in R13 by L249 , L251 , ORDINAL1:28;
assume L256: (R4 c= R3 or R4 = ( bool R3 ));
thus L257: thesis by L256 , L249 , L253 , L254 , L255 , L236;
end;
theorem
L258: (for R2 being set holds (for R13 being Ordinal holds ( Tarski-Class (R2 , R13) ) c= ( Tarski-Class (R2 , ( succ R13 )) )))
proof
let R2 being set;
let R13 being Ordinal;
let R8 being set;
assume L259: R8 in ( Tarski-Class (R2 , R13) );
L260: R8 in { R11 where R11 is (Element of ( Tarski-Class R2 )) : (ex R12 being (Element of ( Tarski-Class R2 )) st (R12 in ( Tarski-Class (R2 , R13) ) & R11 c= R12)) } by L259;
L261: R8 in ( { R11 where R11 is (Element of ( Tarski-Class R2 )) : (ex R12 being (Element of ( Tarski-Class R2 )) st (R12 in ( Tarski-Class (R2 , R13) ) & R11 c= R12)) } \/ { ( bool R12 ) where R12 is (Element of ( Tarski-Class R2 )) : R12 in ( Tarski-Class (R2 , R13) ) } ) by L260 , XBOOLE_0:def 3;
L262: ( Tarski-Class (R2 , ( succ R13 )) ) = ( ( { R11 where R11 is (Element of ( Tarski-Class R2 )) : (ex R12 being (Element of ( Tarski-Class R2 )) st (R12 in ( Tarski-Class (R2 , R13) ) & R11 c= R12)) } \/ { ( bool R12 ) where R12 is (Element of ( Tarski-Class R2 )) : R12 in ( Tarski-Class (R2 , R13) ) } ) \/ ( ( bool ( Tarski-Class (R2 , R13) ) ) /\ ( Tarski-Class R2 ) ) ) by L140;
thus L263: thesis by L262 , L261 , XBOOLE_0:def 3;
end;
theorem
L264: (for R2 being set holds (for R13 being Ordinal holds (for R14 being Ordinal holds (R13 c= R14 implies ( Tarski-Class (R2 , R13) ) c= ( Tarski-Class (R2 , R14) )))))
proof
let R2 being set;
let R13 being Ordinal;
let R14 being Ordinal;
defpred S3[ Ordinal ] means (R13 c= $1 implies ( Tarski-Class (R2 , R13) ) c= ( Tarski-Class (R2 , $1) ));
L265: (for R14 being Ordinal holds ((for R15 being Ordinal holds (R15 in R14 implies S3[ R15 ])) implies S3[ R14 ]))
proof
let R14 being Ordinal;
assume that
L266: (for R15 being Ordinal holds (R15 in R14 implies S3[ R15 ]))
and
L267: R13 c= R14;
let R8 being set;
assume L268: R8 in ( Tarski-Class (R2 , R13) );
L269:
now
assume L270: R13 <> R14;
L271: R13 c< R14 by L270 , L267 , XBOOLE_0:def 8;
L272: R13 in R14 by L271 , ORDINAL1:11;
L273: R14 <> ( {} ) by L267 , L270;
L274:
now
given R15 being Ordinal such that
L275: R14 = ( succ R15 );

L276: (R13 c= R15 & R15 in R14) by L272 , L275 , ORDINAL1:22;
L277: ( Tarski-Class (R2 , R13) ) c= ( Tarski-Class (R2 , R15) ) by L276 , L266;
L278: ( Tarski-Class (R2 , R15) ) c= ( Tarski-Class (R2 , R14) ) by L275 , L258;
L279: ( Tarski-Class (R2 , R13) ) c= ( Tarski-Class (R2 , R14) ) by L278 , L277 , XBOOLE_1:1;
thus L280: thesis by L279 , L268;
end;
L281:
now
assume L282: (for R15 being Ordinal holds R14 <> ( succ R15 ));
L283: R14 is  limit_ordinal by L282 , ORDINAL1:29;
L284: ( Tarski-Class (R2 , R14) ) = { R12 where R12 is (Element of ( Tarski-Class R2 )) : (ex R15 being Ordinal st (R15 in R14 & R12 in ( Tarski-Class (R2 , R15) ))) } by L283 , L273 , L177;
thus L285: thesis by L284 , L268 , L272;
end;
thus L286: thesis by L281 , L274;
end;
thus L287: thesis by L269 , L268;
end;
L288: (for R14 being Ordinal holds S3[ R14 ]) from ORDINAL1:sch 2(L265);
thus L289: thesis by L288;
end;
theorem
L290: (for R2 being set holds (ex R13 being Ordinal st ( Tarski-Class (R2 , R13) ) = ( Tarski-Class (R2 , ( succ R13 )) )))
proof
let R2 being set;
assume L291: (for R13 being Ordinal holds ( Tarski-Class (R2 , R13) ) <> ( Tarski-Class (R2 , ( succ R13 )) ));
defpred S4[ set ] means (ex R13 being Ordinal st $1 in ( Tarski-Class (R2 , R13) ));
consider R4 being set such that L292: (for R8 being set holds (R8 in R4 iff (R8 in ( Tarski-Class R2 ) & S4[ R8 ]))) from XBOOLE_0:sch 1;
defpred S5[ set , set ] means (ex R13 being Ordinal st ($2 = R13 & $1 in ( Tarski-Class (R2 , ( succ R13 )) ) & (not $1 in ( Tarski-Class (R2 , R13) ))));
L293: (for R8 being set holds (for R9 being set holds (for R10 being set holds ((S5[ R8 , R9 ] & S5[ R8 , R10 ]) implies R9 = R10))))
proof
let R8 being set;
let R9 being set;
let R10 being set;
given R13 being Ordinal such that
L294: R9 = R13
and
L295: R8 in ( Tarski-Class (R2 , ( succ R13 )) )
and
L296: (not R8 in ( Tarski-Class (R2 , R13) ));

given R14 being Ordinal such that
L297: R10 = R14
and
L298: R8 in ( Tarski-Class (R2 , ( succ R14 )) )
and
L299: (not R8 in ( Tarski-Class (R2 , R14) ));

assume L300: R9 <> R10;
L301: (R13 c= R14 or R14 c= R13);
L302: (R13 c< R14 or R14 c< R13) by L301 , L294 , L297 , L300 , XBOOLE_0:def 8;
L303:
now
assume L304: R13 c< R14;
L305: R13 in R14 by L304 , ORDINAL1:11;
L306: ( succ R13 ) c= R14 by L305 , ORDINAL1:21;
L307: ( Tarski-Class (R2 , ( succ R13 )) ) c= ( Tarski-Class (R2 , R14) ) by L306 , L264;
thus L308: contradiction by L307 , L295 , L299;
end;
L309: R14 in R13 by L303 , L302 , ORDINAL1:11;
L310: ( succ R14 ) c= R13 by L309 , ORDINAL1:21;
L311: ( Tarski-Class (R2 , ( succ R14 )) ) c= ( Tarski-Class (R2 , R13) ) by L310 , L264;
thus L312: contradiction by L311 , L296 , L298;
end;
consider R3 being set such that L313: (for R8 being set holds (R8 in R3 iff (ex R9 being set st (R9 in R4 & S5[ R9 , R8 ])))) from TARSKI:sch 1(L293);
L314:
now
let R13 being Ordinal;
L315: ( Tarski-Class (R2 , R13) ) <> ( Tarski-Class (R2 , ( succ R13 )) ) by L291;
L316: ( Tarski-Class (R2 , R13) ) c= ( Tarski-Class (R2 , ( succ R13 )) ) by L258;
consider R8 being set such that L317: (not (R8 in ( Tarski-Class (R2 , R13) ) iff R8 in ( Tarski-Class (R2 , ( succ R13 )) ))) by L315 , TARSKI:1;
L318: R8 in R4 by L292 , L317;
thus L319: R13 in R3 by L318 , L313 , L316 , L317;
end;
thus L320: contradiction by L314 , ORDINAL1:26;
end;
theorem
L321: (for R2 being set holds (for R13 being Ordinal holds (( Tarski-Class (R2 , R13) ) = ( Tarski-Class (R2 , ( succ R13 )) ) implies ( Tarski-Class (R2 , R13) ) = ( Tarski-Class R2 ))))
proof
let R2 being set;
let R13 being Ordinal;
assume L322: ( Tarski-Class (R2 , R13) ) = ( Tarski-Class (R2 , ( succ R13 )) );
L323: ( {} ) c= R13;
L324: ( Tarski-Class (R2 , ( {} )) ) c= ( Tarski-Class (R2 , R13) ) by L323 , L264;
L325: (( Tarski-Class (R2 , ( {} )) ) = { R2 } & R2 in { R2 }) by L140 , TARSKI:def 1;
L326: ( Tarski-Class (R2 , R13) ) is_Tarski-Class_of R2
proof
thus L327: R2 in ( Tarski-Class (R2 , R13) ) by L324 , L325;
L328: ( Tarski-Class (R2 , ( succ R13 )) ) = ( ( { R11 where R11 is (Element of ( Tarski-Class R2 )) : (ex R12 being (Element of ( Tarski-Class R2 )) st (R12 in ( Tarski-Class (R2 , R13) ) & R11 c= R12)) } \/ { ( bool R12 ) where R12 is (Element of ( Tarski-Class R2 )) : R12 in ( Tarski-Class (R2 , R13) ) } ) \/ ( ( bool ( Tarski-Class (R2 , R13) ) ) /\ ( Tarski-Class R2 ) ) ) by L140;
L329: ( Tarski-Class R2 ) is_Tarski-Class_of R2 by L7;
L330: ( Tarski-Class R2 ) is  Tarski by L329 , L5;
thus L331: (for B6 , B7 being set holds ((B6 in ( Tarski-Class (R2 , R13) ) & B7 c= B6) implies B7 in ( Tarski-Class (R2 , R13) )))
proof
let C12 , C13 being set;
assume L332: (C12 in ( Tarski-Class (R2 , R13) ) & C13 c= C12);
L333: ( Tarski-Class R2 ) is_Tarski-Class_of R2 by L7;
L334: ( Tarski-Class R2 ) is  Tarski by L333 , L5;
L335: ( Tarski-Class R2 ) is  subset-closed by L334 , L3;
reconsider D11 = C13 as (Element of ( Tarski-Class R2 )) by L335 , L332 , L1;
L336: (ex R12 being (Element of ( Tarski-Class R2 )) st (R12 in ( Tarski-Class (R2 , R13) ) & D11 c= R12)) by L332;
L337: C13 in { R11 where R11 is (Element of ( Tarski-Class R2 )) : (ex R12 being (Element of ( Tarski-Class R2 )) st (R12 in ( Tarski-Class (R2 , R13) ) & R11 c= R12)) } by L336;
L338: C13 in ( { R11 where R11 is (Element of ( Tarski-Class R2 )) : (ex R12 being (Element of ( Tarski-Class R2 )) st (R12 in ( Tarski-Class (R2 , R13) ) & R11 c= R12)) } \/ { ( bool R12 ) where R12 is (Element of ( Tarski-Class R2 )) : R12 in ( Tarski-Class (R2 , R13) ) } ) by L337 , XBOOLE_0:def 3;
thus L339: thesis by L338 , L322 , L328 , XBOOLE_0:def 3;
end;

thus L340: (for R3 being set holds (R3 in ( Tarski-Class (R2 , R13) ) implies ( bool R3 ) in ( Tarski-Class (R2 , R13) )))
proof
let R3 being set;
assume L341: R3 in ( Tarski-Class (R2 , R13) );
L342: ( bool R3 ) in { ( bool R11 ) where R11 is (Element of ( Tarski-Class R2 )) : R11 in ( Tarski-Class (R2 , R13) ) } by L341;
L343: ( bool R3 ) in ( { R11 where R11 is (Element of ( Tarski-Class R2 )) : (ex R12 being (Element of ( Tarski-Class R2 )) st (R12 in ( Tarski-Class (R2 , R13) ) & R11 c= R12)) } \/ { ( bool R12 ) where R12 is (Element of ( Tarski-Class R2 )) : R12 in ( Tarski-Class (R2 , R13) ) } ) by L342 , XBOOLE_0:def 3;
thus L344: thesis by L343 , L322 , L328 , XBOOLE_0:def 3;
end;

let R3 being set;
assume that
L345: R3 c= ( Tarski-Class (R2 , R13) )
and
L346: (not R3 , ( Tarski-Class (R2 , R13) ) are_equipotent );
L347: R3 c= ( Tarski-Class R2 ) by L345 , XBOOLE_1:1;
L348: (R3 , ( Tarski-Class R2 ) are_equipotent  or R3 in ( Tarski-Class R2 )) by L347 , L330 , L3;
thus L349: thesis by L348 , L322 , L345 , L346 , L199 , CARD_1:24;
end;
thus L350: (( Tarski-Class (R2 , R13) ) c= ( Tarski-Class R2 ) & ( Tarski-Class R2 ) c= ( Tarski-Class (R2 , R13) )) by L326 , L7;
end;
theorem
L351: (for R2 being set holds (ex R13 being Ordinal st ( Tarski-Class (R2 , R13) ) = ( Tarski-Class R2 )))
proof
let R2 being set;
consider R13 being Ordinal such that L352: ( Tarski-Class (R2 , R13) ) = ( Tarski-Class (R2 , ( succ R13 )) ) by L290;
take R13;
thus L353: thesis by L352 , L321;
end;
theorem
L354: (for R2 being set holds (ex R13 being Ordinal st (( Tarski-Class (R2 , R13) ) = ( Tarski-Class R2 ) & (for R14 being Ordinal holds (R14 in R13 implies ( Tarski-Class (R2 , R14) ) <> ( Tarski-Class R2 ))))))
proof
let R2 being set;
defpred S6[ Ordinal ] means ( Tarski-Class (R2 , $1) ) = ( Tarski-Class R2 );
L355: (ex R13 being Ordinal st S6[ R13 ]) by L351;
consider R13 being Ordinal such that L356: (S6[ R13 ] & (for R14 being Ordinal holds (S6[ R14 ] implies R13 c= R14))) from ORDINAL1:sch 1(L355);
take R13;
thus L357: ( Tarski-Class (R2 , R13) ) = ( Tarski-Class R2 ) by L356;
let R14 being Ordinal;
assume L358: R14 in R13;
thus L359: thesis by L358 , L356 , ORDINAL1:5;
end;
theorem
L360: (for R2 being set holds (for R3 being set holds ((R3 <> R2 & R3 in ( Tarski-Class R2 )) implies (ex R13 being Ordinal st ((not R3 in ( Tarski-Class (R2 , R13) )) & R3 in ( Tarski-Class (R2 , ( succ R13 )) ))))))
proof
let R2 being set;
let R3 being set;
assume that
L361: R3 <> R2
and
L362: R3 in ( Tarski-Class R2 );
defpred S7[ Ordinal ] means R3 in ( Tarski-Class (R2 , $1) );
L363: (ex R13 being Ordinal st ( Tarski-Class (R2 , R13) ) = ( Tarski-Class R2 )) by L351;
L364: (ex R13 being Ordinal st S7[ R13 ]) by L363 , L362;
consider R13 being Ordinal such that L365: (S7[ R13 ] & (for R14 being Ordinal holds (S7[ R14 ] implies R13 c= R14))) from ORDINAL1:sch 1(L364);
L366: (not R3 in { R2 }) by L361 , TARSKI:def 1;
L367: ( Tarski-Class (R2 , ( {} )) ) = { R2 } by L140;
L368:
now
assume L369: R13 is  limit_ordinal;
L370: (ex R14 being Ordinal st (R14 in R13 & R3 in ( Tarski-Class (R2 , R14) ))) by L369 , L365 , L366 , L367 , L236;
thus L371: contradiction by L370 , L365 , ORDINAL1:5;
end;
consider R14 being Ordinal such that L372: R13 = ( succ R14 ) by L368 , ORDINAL1:29;
take R14;
L373: (not R13 c= R14) by L372 , ORDINAL1:5 , ORDINAL1:6;
thus L374: thesis by L373 , L365 , L372;
end;
theorem
L375: (for R2 being set holds (R2 is  epsilon-transitive implies (for R13 being Ordinal holds (R13 <> ( {} ) implies ( Tarski-Class (R2 , R13) ) is  epsilon-transitive))))
proof
let R2 being set;
assume L376: (for R3 being set holds (R3 in R2 implies R3 c= R2));
defpred S8[ Ordinal ] means ($1 <> ( {} ) implies ( Tarski-Class (R2 , $1) ) is  epsilon-transitive);
L377: (for R13 being Ordinal holds ((for R14 being Ordinal holds (R14 in R13 implies S8[ R14 ])) implies S8[ R13 ]))
proof
let R13 being Ordinal;
assume that
L378: (for R14 being Ordinal holds (R14 in R13 implies S8[ R14 ]))
and
L379: R13 <> ( {} );
let R3 being set;
assume that
L380: R3 in ( Tarski-Class (R2 , R13) );
L381:
now
given R14 being Ordinal such that
L382: R13 = ( succ R14 );

L383: R14 in R13 by L382 , ORDINAL1:6;
L384: R14 c= R13 by L383 , ORDINAL1:def 2;
L385: S8[ R14 ] by L378 , L382 , ORDINAL1:6;
L386: ( Tarski-Class (R2 , R14) ) c= ( Tarski-Class (R2 , R13) ) by L384 , L264;
L387:
now
assume L388: (not R3 c= ( Tarski-Class (R2 , R14) ));
consider R4 being set such that L389: R4 in ( Tarski-Class (R2 , R14) ) and L390: (R3 c= R4 or R3 = ( bool R4 )) by L388 , L380 , L382 , L199;
L391:
now
assume L392: R3 = ( bool R4 );
thus L393: thesis
proof
let R8 being set;
assume L394: R8 in R3;
thus L395: thesis by L394 , L382 , L389 , L392 , L199;
end;

end;
L394:
now
assume L395: R3 c= R4;
thus L396: thesis
proof
let R8 being set;
assume L397: R8 in R3;
L398: R8 in R4 by L397 , L395;
L399:
now
assume L400: R14 = ( {} );
L401: ( Tarski-Class (R2 , R14) ) = { R2 } by L400 , L140;
L402: R4 = R2 by L401 , L389 , TARSKI:def 1;
L403: R8 c= R2 by L402 , L376 , L395 , L397;
thus L404: thesis by L403 , L382 , L389 , L402 , L199;
end;
L405:
now
assume L406: R14 <> ( {} );
L407: R4 c= ( Tarski-Class (R2 , R14) ) by L406 , L385 , L389 , ORDINAL1:def 2;
L408: R8 in ( Tarski-Class (R2 , R14) ) by L407 , L398;
thus L409: thesis by L408 , L386;
end;
thus L410: thesis by L405 , L399;
end;

end;
thus L397: thesis by L394 , L390 , L391;
end;
thus L398: thesis by L387 , L386 , XBOOLE_1:1;
end;
L399:
now
assume L400: (for R14 being Ordinal holds R13 <> ( succ R14 ));
L401: R13 is  limit_ordinal by L400 , ORDINAL1:29;
consider R14 being Ordinal such that L402: R14 in R13 and L403: R3 in ( Tarski-Class (R2 , R14) ) by L401 , L379 , L380 , L236;
L404: ( succ R14 ) c= R13 by L402 , ORDINAL1:21;
L405: ( succ R14 ) <> R13 by L400;
L406: ( Tarski-Class (R2 , R14) ) c= ( Tarski-Class (R2 , ( succ R14 )) ) by L258;
L407: ( succ R14 ) c< R13 by L404 , L405 , XBOOLE_0:def 8;
L408: ( Tarski-Class (R2 , ( succ R14 )) ) c= ( Tarski-Class (R2 , R13) ) by L404 , L264;
L409: ( Tarski-Class (R2 , ( succ R14 )) ) is  epsilon-transitive by L378 , L407 , ORDINAL1:11;
L410: R3 c= ( Tarski-Class (R2 , ( succ R14 )) ) by L409 , L403 , L406 , ORDINAL1:def 2;
thus L411: thesis by L410 , L408 , XBOOLE_1:1;
end;
thus L412: thesis by L399 , L381;
end;
thus L413: (for R13 being Ordinal holds S8[ R13 ]) from ORDINAL1:sch 2(L377);
end;
theorem
L414: (for R2 being set holds (R2 is  epsilon-transitive implies ( Tarski-Class R2 ) is  epsilon-transitive))
proof
let R2 being set;
consider R13 being Ordinal such that L415: ( Tarski-Class (R2 , R13) ) = ( Tarski-Class R2 ) by L351;
L416: ( Tarski-Class (R2 , R13) ) c= ( Tarski-Class (R2 , ( succ R13 )) ) by L258;
L417: ( Tarski-Class (R2 , R13) ) = ( Tarski-Class (R2 , ( succ R13 )) ) by L416 , L415 , XBOOLE_0:def 10;
assume L418: R2 is  epsilon-transitive;
thus L419: thesis by L418 , L415 , L417 , L375;
end;
theorem
L420: (for R2 being set holds (for R3 being set holds (R3 in ( Tarski-Class R2 ) implies ( card R3 ) in ( card ( Tarski-Class R2 ) ))))
proof
let R2 being set;
let R3 being set;
assume L421: R3 in ( Tarski-Class R2 );
L422: ( bool R3 ) c= ( Tarski-Class R2 )
proof
let R8 being set;
assume L423: R8 in ( bool R3 );
thus L424: thesis by L423 , L421 , L118;
end;
L425: (( card R3 ) in ( card ( bool R3 ) ) & ( card ( bool R3 ) ) c= ( card ( Tarski-Class R2 ) )) by L422 , CARD_1:11 , CARD_1:14;
thus L426: thesis by L425;
end;
theorem
L427: (for R2 being set holds (for R3 being set holds (R3 in ( Tarski-Class R2 ) implies (not R3 , ( Tarski-Class R2 ) are_equipotent ))))
proof
let R2 being set;
let R3 being set;
assume L428: R3 in ( Tarski-Class R2 );
L429: ( card R3 ) in ( card ( Tarski-Class R2 ) ) by L428 , L420;
L430: ( card R3 ) <> ( card ( Tarski-Class R2 ) ) by L429;
thus L431: thesis by L430 , CARD_1:5;
end;
theorem
L432: (for R2 being set holds (for R8 being set holds (for R9 being set holds ((R8 in ( Tarski-Class R2 ) & R9 in ( Tarski-Class R2 )) implies ({ R8 } in ( Tarski-Class R2 ) & { R8 , R9 } in ( Tarski-Class R2 ))))))
proof
let R2 being set;
let R8 being set;
let R9 being set;
assume that
L433: R8 in ( Tarski-Class R2 )
and
L434: R9 in ( Tarski-Class R2 );
L435: ( bool R8 ) in ( Tarski-Class R2 ) by L433 , L123;
thus L436: { R8 } in ( Tarski-Class R2 ) by L435 , L118 , ZFMISC_1:68;
L437: ( bool { R8 } ) = { ( {} ) , { R8 } } by ZFMISC_1:24;
L438: (not { ( {} ) , { R8 } } , ( Tarski-Class R2 ) are_equipotent ) by L437 , L436 , L123 , L427;
L439:
now
assume L440: R8 <> R9;
L441: { ( {} ) , { R8 } } , { R8 , R9 } are_equipotent 
proof
defpred S9[ set ] means $1 = ( {} );
deffunc H8(set) = R8;
deffunc H9(set) = R9;
consider R5 being Function such that L442: (( dom R5 ) = { ( {} ) , { R8 } } & (for R10 being set holds (R10 in { ( {} ) , { R8 } } implies ((S9[ R10 ] implies ( R5 . R10 ) = H8(R10)) & ((not S9[ R10 ]) implies ( R5 . R10 ) = H9(R10)))))) from PARTFUN1:sch 1;
take R5;
thus L443: R5 is  one-to-one
proof
let C14 , C15 being set;
assume that
L444: C14 in ( dom R5 )
and
L445: C15 in ( dom R5 );
L446: (C15 = ( {} ) or C15 = { R8 }) by L442 , L445 , TARSKI:def 2;
L447: (C14 = ( {} ) implies ( R5 . C14 ) = R8) by L442 , L444;
L448: (C14 <> ( {} ) implies ( R5 . C14 ) = R9) by L442 , L444;
thus L449: thesis by L448 , L440 , L442 , L444 , L445 , L446 , L447 , TARSKI:def 2;
end;

thus L450: ( dom R5 ) = { ( {} ) , { R8 } } by L442;
thus L451: ( rng R5 ) c= { R8 , R9 }
proof
let R10 being set;
assume L452: R10 in ( rng R5 );
L453: (ex B8 being set st (B8 in ( dom R5 ) & R10 = ( R5 . B8 ))) by L452 , FUNCT_1:def 3;
L454: (R10 = R8 or R10 = R9) by L453 , L442;
thus L455: thesis by L454 , TARSKI:def 2;
end;

let R10 being set;
assume L456: R10 in { R8 , R9 };
L457: (R10 = R8 or R10 = R9) by L456 , TARSKI:def 2;
L458: ( {} ) in ( dom R5 ) by L442 , TARSKI:def 2;
L459: { R8 } in ( dom R5 ) by L442 , TARSKI:def 2;
L460: ( R5 . ( {} ) ) = R8 by L442 , L458;
L461: ( R5 . { R8 } ) = R9 by L442 , L459;
thus L462: thesis by L461 , L457 , L458 , L459 , L460 , FUNCT_1:def 3;
end;
L463: (not { R8 , R9 } , ( Tarski-Class R2 ) are_equipotent ) by L441 , L438 , WELLORD2:15;
L464: { R8 , R9 } c= ( Tarski-Class R2 ) by L433 , L434 , ZFMISC_1:32;
thus L465: thesis by L464 , L463 , L127;
end;
thus L466: thesis by L439 , L436 , ENUMSET1:29;
end;
theorem
L467: (for R2 being set holds (for R8 being set holds (for R9 being set holds ((R8 in ( Tarski-Class R2 ) & R9 in ( Tarski-Class R2 )) implies [ R8 , R9 ] in ( Tarski-Class R2 )))))
proof
let R2 being set;
let R8 being set;
let R9 being set;
assume L468: (R8 in ( Tarski-Class R2 ) & R9 in ( Tarski-Class R2 ));
L469: ({ R8 , R9 } in ( Tarski-Class R2 ) & { R8 } in ( Tarski-Class R2 )) by L468 , L432;
thus L470: thesis by L469 , L432;
end;
theorem
L471: (for R2 being set holds (for R3 being set holds (for R4 being set holds ((R3 c= ( Tarski-Class R2 ) & R4 c= ( Tarski-Class R2 )) implies [: R3 , R4 :] c= ( Tarski-Class R2 )))))
proof
let R2 being set;
let R3 being set;
let R4 being set;
assume L472: (R3 c= ( Tarski-Class R2 ) & R4 c= ( Tarski-Class R2 ));
let R8 being set;
let R9 being set;
assume L473: [ R8 , R9 ] in [: R3 , R4 :];
L474: (R8 in R3 & R9 in R4) by L473 , ZFMISC_1:87;
thus L475: thesis by L474 , L472 , L467;
end;
definition
let R13 being Ordinal;
func Rank R13 means 
:L476: (ex R16 being T-Sequence st (it = ( last R16 ) & ( dom R16 ) = ( succ R13 ) & ( R16 . ( {} ) ) = ( {} ) & (for R15 being Ordinal holds (( succ R15 ) in ( succ R13 ) implies ( R16 . ( succ R15 ) ) = ( bool ( R16 . R15 ) ))) & (for R15 being Ordinal holds ((R15 in ( succ R13 ) & R15 <> ( {} ) & R15 is  limit_ordinal) implies ( R16 . R15 ) = ( union ( rng ( R16 | R15 ) ) )))));
correctness
proof
deffunc H10(Ordinal , set) = ( bool $2 );
deffunc H11(Ordinal , T-Sequence) = ( union ( rng $2 ) );
thus L477: ((ex R8 being set st (ex R16 being T-Sequence st (R8 = ( last R16 ) & ( dom R16 ) = ( succ R13 ) & ( R16 . ( {} ) ) = ( {} ) & (for R15 being Ordinal holds (( succ R15 ) in ( succ R13 ) implies ( R16 . ( succ R15 ) ) = H10(R15 , ( R16 . R15 )))) & (for R15 being Ordinal holds ((R15 in ( succ R13 ) & R15 <> ( {} ) & R15 is  limit_ordinal) implies ( R16 . R15 ) = H11(R15 , ( R16 | R15 ))))))) & (for B9 , B10 being set holds (((ex R16 being T-Sequence st (B9 = ( last R16 ) & ( dom R16 ) = ( succ R13 ) & ( R16 . ( {} ) ) = ( {} ) & (for R15 being Ordinal holds (( succ R15 ) in ( succ R13 ) implies ( R16 . ( succ R15 ) ) = H10(R15 , ( R16 . R15 )))) & (for R15 being Ordinal holds ((R15 in ( succ R13 ) & R15 <> ( {} ) & R15 is  limit_ordinal) implies ( R16 . R15 ) = H11(R15 , ( R16 | R15 )))))) & (ex R16 being T-Sequence st (B10 = ( last R16 ) & ( dom R16 ) = ( succ R13 ) & ( R16 . ( {} ) ) = ( {} ) & (for R15 being Ordinal holds (( succ R15 ) in ( succ R13 ) implies ( R16 . ( succ R15 ) ) = H10(R15 , ( R16 . R15 )))) & (for R15 being Ordinal holds ((R15 in ( succ R13 ) & R15 <> ( {} ) & R15 is  limit_ordinal) implies ( R16 . R15 ) = H11(R15 , ( R16 | R15 ))))))) implies B9 = B10))) from ORDINAL2:sch 7;
end;
end;
deffunc H12(Ordinal) = ( Rank $1 );
L479:
now
deffunc H13(Ordinal , set) = ( bool $2 );
deffunc H14(Ordinal , T-Sequence) = ( union ( rng $2 ) );
L480: (for R13 being Ordinal holds (for R8 being set holds (R8 = H12(R13) iff (ex R16 being T-Sequence st (R8 = ( last R16 ) & ( dom R16 ) = ( succ R13 ) & ( R16 . ( {} ) ) = ( {} ) & (for R15 being Ordinal holds (( succ R15 ) in ( succ R13 ) implies ( R16 . ( succ R15 ) ) = H13(R15 , ( R16 . R15 )))) & (for R15 being Ordinal holds ((R15 in ( succ R13 ) & R15 <> ( {} ) & R15 is  limit_ordinal) implies ( R16 . R15 ) = H14(R15 , ( R16 | R15 ))))))))) by L476;
thus L481: H12(( {} )) = ( {} ) from ORDINAL2:sch 8(L480);
thus L482: (for R13 being Ordinal holds H12(( succ R13 )) = H13(R13 , H12(R13))) from ORDINAL2:sch 9(L480);
thus L483: (for R13 being Ordinal holds (for R16 being T-Sequence holds ((R13 <> ( {} ) & R13 is  limit_ordinal & ( dom R16 ) = R13 & (for R14 being Ordinal holds (R14 in R13 implies ( R16 . R14 ) = ( Rank R14 )))) implies ( Rank R13 ) = ( union ( rng R16 ) ))))
proof
let R13 being Ordinal;
let R16 being T-Sequence;
assume that
L484: (R13 <> ( {} ) & R13 is  limit_ordinal)
and
L485: ( dom R16 ) = R13
and
L486: (for R14 being Ordinal holds (R14 in R13 implies ( R16 . R14 ) = H12(R14)));
thus L487: H12(R13) = H14(R13 , R16) from ORDINAL2:sch 10(L480 , L484 , L485 , L486);
end;

end;
theorem
L484: ( Rank ( {} ) ) = ( {} ) by L479;
theorem
L485: (for R13 being Ordinal holds ( Rank ( succ R13 ) ) = ( bool ( Rank R13 ) )) by L479;
theorem
L486: (for R13 being Ordinal holds ((R13 <> ( {} ) & R13 is  limit_ordinal) implies (for R8 being set holds (R8 in ( Rank R13 ) iff (ex R14 being Ordinal st (R14 in R13 & R8 in ( Rank R14 )))))))
proof
let R13 being Ordinal;
assume L487: (R13 <> ( {} ) & R13 is  limit_ordinal);
consider R16 being T-Sequence such that L488: (( dom R16 ) = R13 & (for R14 being Ordinal holds (R14 in R13 implies ( R16 . R14 ) = H12(R14)))) from ORDINAL2:sch 2;
L489: ( Rank R13 ) = ( union ( rng R16 ) ) by L487 , L488 , L479;
let R8 being set;
thus L490: (R8 in ( Rank R13 ) implies (ex R14 being Ordinal st (R14 in R13 & R8 in ( Rank R14 ))))
proof
assume L491: R8 in ( Rank R13 );
consider R3 being set such that L492: R8 in R3 and L493: R3 in ( rng R16 ) by L491 , L489 , TARSKI:def 4;
consider R9 being set such that L494: R9 in ( dom R16 ) and L495: R3 = ( R16 . R9 ) by L493 , FUNCT_1:def 3;
reconsider D12 = R9 as Ordinal by L494;
take D12;
thus L496: thesis by L488 , L492 , L494 , L495;
end;

given R14 being Ordinal such that
L497: R14 in R13
and
L498: R8 in ( Rank R14 );

L499: ( R16 . R14 ) = ( Rank R14 ) by L488 , L497;
L500: ( Rank R14 ) in ( rng R16 ) by L499 , L488 , L497 , FUNCT_1:def 3;
thus L501: thesis by L500 , L489 , L498 , TARSKI:def 4;
end;
theorem
L502: (for R2 being set holds (for R13 being Ordinal holds (R2 c= ( Rank R13 ) iff R2 in ( Rank ( succ R13 ) ))))
proof
let R2 being set;
let R13 being Ordinal;
thus L503: (R2 c= ( Rank R13 ) implies R2 in ( Rank ( succ R13 ) ))
proof
assume L504: R2 c= ( Rank R13 );
L505: R2 in ( bool ( Rank R13 ) ) by L504;
thus L506: thesis by L505 , L479;
end;

assume L507: R2 in ( Rank ( succ R13 ) );
L508: R2 in ( bool ( Rank R13 ) ) by L507 , L479;
thus L509: thesis by L508;
end;
registration
let R13 being Ordinal;
cluster ( Rank R13 ) ->  epsilon-transitive;
coherence
proof
defpred S10[ Ordinal ] means (for R2 being set holds (R2 in ( Rank $1 ) implies R2 c= ( Rank $1 )));
L510: (for R13 being Ordinal holds ((for R14 being Ordinal holds (R14 in R13 implies S10[ R14 ])) implies S10[ R13 ]))
proof
let R13 being Ordinal;
assume that
L511: (for R14 being Ordinal holds (R14 in R13 implies S10[ R14 ]));
let R2 being set;
assume that
L512: R2 in ( Rank R13 );
let R8 being set;
assume that
L513: R8 in R2;
L514:
now
assume L515: R13 is  limit_ordinal;
consider R14 being Ordinal such that L516: R14 in R13 and L517: R2 in ( Rank R14 ) by L515 , L512 , L479 , L486;
L518: R2 c= ( Rank R14 ) by L511 , L516 , L517;
thus L519: thesis by L518 , L513 , L515 , L516 , L486;
end;
L520:
now
assume L521: (not R13 is  limit_ordinal);
consider R14 being Ordinal such that L522: R13 = ( succ R14 ) by L521 , ORDINAL1:29;
L523: R2 c= ( Rank R14 ) by L512 , L522 , L502;
L524: R8 c= ( Rank R14 ) by L523 , L511 , L513 , L522 , ORDINAL1:6;
thus L525: thesis by L524 , L522 , L502;
end;
thus L526: thesis by L520 , L514;
end;
L527: (for R13 being Ordinal holds S10[ R13 ]) from ORDINAL1:sch 2(L510);
thus L528: S10[ R13 ] by L527;
end;
end;
theorem
L530: (for R13 being Ordinal holds ( Rank R13 ) c= ( Rank ( succ R13 ) ))
proof
let R13 being Ordinal;
L531: ( Rank R13 ) in ( bool ( Rank R13 ) ) by ZFMISC_1:def 1;
L532: ( Rank R13 ) in ( Rank ( succ R13 ) ) by L531 , L479;
thus L533: thesis by L532 , ORDINAL1:def 2;
end;
theorem
L534: (for R13 being Ordinal holds ( union ( Rank R13 ) ) c= ( Rank R13 ))
proof
let R13 being Ordinal;
let R8 being set;
assume L535: R8 in ( union ( Rank R13 ) );
consider R2 being set such that L536: R8 in R2 and L537: R2 in ( Rank R13 ) by L535 , TARSKI:def 4;
L538: R2 c= ( Rank R13 ) by L537 , ORDINAL1:def 2;
thus L539: thesis by L538 , L536;
end;
theorem
L540: (for R2 being set holds (for R13 being Ordinal holds (R2 in ( Rank R13 ) implies ( union R2 ) in ( Rank R13 ))))
proof
let R2 being set;
let R13 being Ordinal;
assume L541: R2 in ( Rank R13 );
L542:
now
given R14 being Ordinal such that
L543: R13 = ( succ R14 );

L544: R2 c= ( Rank R14 ) by L541 , L543 , L502;
L545: ( union R2 ) c= ( union ( Rank R14 ) ) by L544 , ZFMISC_1:77;
L546: ( union ( Rank R14 ) ) c= ( Rank R14 ) by L534;
L547: ( union R2 ) c= ( Rank R14 ) by L546 , L545 , XBOOLE_1:1;
thus L548: thesis by L547 , L543 , L502;
end;
L549:
now
assume that
L550: R13 <> ( {} )
and
L551: (for R14 being Ordinal holds R13 <> ( succ R14 ));
L552: R13 is  limit_ordinal by L551 , ORDINAL1:29;
consider R14 being Ordinal such that L553: R14 in R13 and L554: R2 in ( Rank R14 ) by L552 , L541 , L550 , L486;
L555: R2 c= ( Rank R14 ) by L554 , ORDINAL1:def 2;
L556: ( union R2 ) c= ( union ( Rank R14 ) ) by L555 , ZFMISC_1:77;
L557: ( union ( Rank R14 ) ) c= ( Rank R14 ) by L534;
L558: ( union R2 ) c= ( Rank R14 ) by L557 , L556 , XBOOLE_1:1;
L559: ( succ R14 ) c= R13 by L553 , ORDINAL1:21;
L560: ( succ R14 ) <> R13 by L551;
L561: ( succ R14 ) c< R13 by L560 , L559 , XBOOLE_0:def 8;
L562: ( union R2 ) in ( Rank ( succ R14 ) ) by L558 , L502;
L563: ( succ R14 ) in R13 by L561 , ORDINAL1:11;
thus L564: thesis by L563 , L552 , L562 , L486;
end;
thus L565: thesis by L549 , L541 , L542 , L479;
end;
theorem
L566: (for R13 being Ordinal holds (for R14 being Ordinal holds (R13 in R14 iff ( Rank R13 ) in ( Rank R14 ))))
proof
let R13 being Ordinal;
let R14 being Ordinal;
defpred S11[ Ordinal , Ordinal ] means ($1 in $2 implies ( Rank $1 ) in ( Rank $2 ));
L567:
now
let R13 being Ordinal;
defpred S12[ Ordinal ] means S11[ R13 , $1 ];
L568: (for R14 being Ordinal holds ((for R15 being Ordinal holds (R15 in R14 implies S12[ R15 ])) implies S12[ R14 ]))
proof
let R14 being Ordinal;
assume that
L569: (for R15 being Ordinal holds (R15 in R14 implies S11[ R13 , R15 ]))
and
L570: R13 in R14;
L571:
now
given R15 being Ordinal such that
L572: R14 = ( succ R15 );

L573: (R13 in R15 implies ( Rank R13 ) in ( Rank R15 )) by L569 , L572 , ORDINAL1:6;
L574:
now
assume L575: (not R13 in R15);
L576: ((R13 c= R15 & R13 <> R15) iff R13 c< R15) by XBOOLE_0:def 8;
thus L577: ( Rank R13 ) = ( Rank R15 ) by L576 , L570 , L572 , L575 , ORDINAL1:11 , ORDINAL1:22;
end;
L578: ( Rank R13 ) c= ( Rank R15 ) by L574 , L573 , ORDINAL1:def 2;
thus L579: thesis by L578 , L572 , L502;
end;
L580:
now
assume L581: (for R15 being Ordinal holds R14 <> ( succ R15 ));
L582: R14 is  limit_ordinal by L581 , ORDINAL1:29;
L583: R14 <> ( succ R13 ) by L581;
L584: ( succ R13 ) c= R14 by L570 , ORDINAL1:21;
L585: ( succ R13 ) c< R14 by L584 , L583 , XBOOLE_0:def 8;
L586: ( succ R13 ) in R14 by L585 , ORDINAL1:11;
L587: ( Rank R13 ) in ( Rank ( succ R13 ) ) by L502;
thus L588: thesis by L587 , L582 , L586 , L486;
end;
thus L589: thesis by L580 , L571;
end;
thus L590: (for R14 being Ordinal holds S12[ R14 ]) from ORDINAL1:sch 2(L568);
end;
thus L591: S11[ R13 , R14 ] by L567;
assume that
L592: ( Rank R13 ) in ( Rank R14 )
and
L593: (not R13 in R14);
L594: (R14 in R13 or R14 = R13) by L593 , ORDINAL1:14;
thus L595: contradiction by L594 , L567 , L592;
end;
theorem
L596: (for R13 being Ordinal holds (for R14 being Ordinal holds (R13 c= R14 iff ( Rank R13 ) c= ( Rank R14 ))))
proof
let R13 being Ordinal;
let R14 being Ordinal;
thus L597: (R13 c= R14 implies ( Rank R13 ) c= ( Rank R14 ))
proof
L598: (R13 c< R14 iff (R13 c= R14 & R13 <> R14)) by XBOOLE_0:def 8;
assume L599: R13 c= R14;
L600: (R13 = R14 or R13 in R14) by L599 , L598 , ORDINAL1:11;
L601: (( Rank R13 ) = ( Rank R14 ) or ( Rank R13 ) in ( Rank R14 )) by L600 , L566;
thus L602: thesis by L601 , ORDINAL1:def 2;
end;

assume that
L603: ( Rank R13 ) c= ( Rank R14 )
and
L604: (not R13 c= R14);
L605: R14 in R13 by L604 , ORDINAL1:16;
L606: ( Rank R14 ) in ( Rank R13 ) by L605 , L566;
thus L607: contradiction by L606 , L603 , ORDINAL1:5;
end;
theorem
L608: (for R13 being Ordinal holds R13 c= ( Rank R13 ))
proof
let R13 being Ordinal;
defpred S13[ Ordinal ] means $1 c= ( Rank $1 );
L609: S13[ ( {} ) ] by XBOOLE_1:2;
L610: (for R14 being Ordinal holds (S13[ R14 ] implies S13[ ( succ R14 ) ]))
proof
let R14 being Ordinal;
assume L611: R14 c= ( Rank R14 );
L612: R14 in ( Rank ( succ R14 ) ) by L611 , L502;
L613: (R14 c= ( Rank ( succ R14 ) ) & { R14 } c= ( Rank ( succ R14 ) )) by L612 , ORDINAL1:def 2 , ZFMISC_1:31;
thus L614: thesis by L613 , XBOOLE_1:8;
end;
L615: (for R13 being Ordinal holds ((R13 <> ( {} ) & R13 is  limit_ordinal & (for R14 being Ordinal holds (R14 in R13 implies S13[ R14 ]))) implies S13[ R13 ]))
proof
let R13 being Ordinal;
assume that
L616: R13 <> ( {} )
and
L617: R13 is  limit_ordinal
and
L618: (for R14 being Ordinal holds (R14 in R13 implies R14 c= ( Rank R14 )));
let R8 being set;
assume L619: R8 in R13;
reconsider D13 = R8 as Ordinal by L619;
L620: ( succ D13 ) in R13 by L617 , L619 , ORDINAL1:28;
L621: D13 c= ( Rank D13 ) by L618 , L619;
L622: ( succ D13 ) c= R13 by L620 , ORDINAL1:def 2;
L623: D13 in ( Rank ( succ D13 ) ) by L621 , L502;
L624: ( Rank ( succ D13 ) ) c= ( Rank R13 ) by L622 , L596;
thus L625: thesis by L624 , L623;
end;
L626: (for R14 being Ordinal holds S13[ R14 ]) from ORDINAL2:sch 1(L609 , L610 , L615);
thus L627: thesis by L626;
end;
theorem
L628: (for R13 being Ordinal holds (for R2 being set holds (R2 in ( Rank R13 ) implies ((not R2 , ( Rank R13 ) are_equipotent ) & ( card R2 ) in ( card ( Rank R13 ) )))))
proof
defpred S14[ Ordinal ] means (for R2 being set holds (R2 in ( Rank $1 ) implies (not R2 , ( Rank $1 ) are_equipotent )));
L629: (for R13 being Ordinal holds ((for R14 being Ordinal holds (R14 in R13 implies S14[ R14 ])) implies S14[ R13 ]))
proof
let R13 being Ordinal;
assume that
L630: (for R14 being Ordinal holds (R14 in R13 implies S14[ R14 ]));
let R2 being set;
assume L631: R2 in ( Rank R13 );
L632:
now
given R14 being Ordinal such that
L633: R13 = ( succ R14 );

L634: R14 in R13 by L633 , ORDINAL1:6;
L635: R14 c= R13 by L634 , ORDINAL1:def 2;
L636: ( Rank ( succ R14 ) ) = ( bool ( Rank R14 ) ) by L479;
L637: (not ( Rank R14 ) , ( Rank R13 ) are_equipotent ) by L636 , L633 , CARD_1:13;
L638: ( Rank R14 ) c= ( Rank R13 ) by L635 , L596;
thus L639: thesis by L638 , L631 , L633 , L636 , L637 , CARD_1:24;
end;
L640:
now
assume that
L641: R13 <> ( {} )
and
L642: (for R14 being Ordinal holds R13 <> ( succ R14 ));
L643: R13 is  limit_ordinal by L642 , ORDINAL1:29;
consider R14 being Ordinal such that L644: R14 in R13 and L645: R2 in ( Rank R14 ) by L643 , L631 , L641 , L486;
L646: ( Rank R14 ) in ( Rank R13 ) by L644 , L566;
L647: ((not R2 , ( Rank R14 ) are_equipotent ) & R2 c= ( Rank R14 )) by L630 , L644 , L645 , ORDINAL1:def 2;
L648: ( Rank R14 ) c= ( Rank R13 ) by L646 , ORDINAL1:def 2;
thus L649: thesis by L648 , L647 , CARD_1:24;
end;
thus L650: thesis by L640 , L631 , L632 , L479;
end;
L651: (for R13 being Ordinal holds S14[ R13 ]) from ORDINAL1:sch 2(L629);
let R13 being Ordinal;
let R2 being set;
assume L652: R2 in ( Rank R13 );
L653: R2 c= ( Rank R13 ) by L652 , ORDINAL1:def 2;
L654: (not R2 , ( Rank R13 ) are_equipotent ) by L651 , L652;
L655: ( card R2 ) c= ( card ( Rank R13 ) ) by L653 , CARD_1:11;
L656: ( card R2 ) <> ( card ( Rank R13 ) ) by L654 , CARD_1:5;
thus L657: thesis by L656 , L651 , L652 , L655 , CARD_1:3;
end;
theorem
L658: (for R2 being set holds (for R13 being Ordinal holds (R2 c= ( Rank R13 ) iff ( bool R2 ) c= ( Rank ( succ R13 ) ))))
proof
let R2 being set;
let R13 being Ordinal;
thus L659: (R2 c= ( Rank R13 ) implies ( bool R2 ) c= ( Rank ( succ R13 ) ))
proof
assume L660: R2 c= ( Rank R13 );
let R8 being set;
assume L661: R8 in ( bool R2 );
L662: R8 c= ( Rank R13 ) by L661 , L660 , XBOOLE_1:1;
L663: ( Rank ( succ R13 ) ) = ( bool ( Rank R13 ) ) by L479;
thus L664: thesis by L663 , L662;
end;

assume L665: ( bool R2 ) c= ( Rank ( succ R13 ) );
let R8 being set;
assume L666: R8 in R2;
L667: { R8 } c= R2 by L666 , ZFMISC_1:31;
L668: { R8 } in ( bool R2 ) by L667;
L669: (( Rank ( succ R13 ) ) = ( bool ( Rank R13 ) ) & R8 in { R8 }) by L479 , TARSKI:def 1;
thus L670: thesis by L669 , L665 , L668;
end;
theorem
L671: (for R2 being set holds (for R3 being set holds (for R13 being Ordinal holds ((R2 c= R3 & R3 in ( Rank R13 )) implies R2 in ( Rank R13 )))))
proof
let R2 being set;
let R3 being set;
let R13 being Ordinal;
assume that
L672: R2 c= R3
and
L673: R3 in ( Rank R13 );
L674:
now
given R14 being Ordinal such that
L675: R13 = ( succ R14 );

L676: ( Rank ( succ R14 ) ) = ( bool ( Rank R14 ) ) by L479;
L677: R2 c= ( Rank R14 ) by L676 , L672 , L673 , L675 , XBOOLE_1:1;
thus L678: thesis by L677 , L675 , L676;
end;
L679:
now
assume L680: (for R14 being Ordinal holds R13 <> ( succ R14 ));
L681: R13 is  limit_ordinal by L680 , ORDINAL1:29;
consider R14 being Ordinal such that L682: R14 in R13 and L683: R3 in ( Rank R14 ) by L681 , L673 , L479 , L486;
L684: R3 c= ( Rank R14 ) by L683 , ORDINAL1:def 2;
L685: R2 c= ( Rank R14 ) by L684 , L672 , XBOOLE_1:1;
L686: ( bool ( Rank R14 ) ) = ( Rank ( succ R14 ) ) by L479;
L687: ( succ R14 ) in R13 by L681 , L682 , ORDINAL1:28;
thus L688: thesis by L687 , L681 , L685 , L686 , L486;
end;
thus L689: thesis by L679 , L674;
end;
theorem
L690: (for R2 being set holds (for R13 being Ordinal holds (R2 in ( Rank R13 ) iff ( bool R2 ) in ( Rank ( succ R13 ) ))))
proof
let R2 being set;
let R13 being Ordinal;
thus L691: (R2 in ( Rank R13 ) implies ( bool R2 ) in ( Rank ( succ R13 ) ))
proof
assume L692: R2 in ( Rank R13 );
L693: ( bool R2 ) c= ( Rank R13 )
proof
let R8 being set;
assume L694: R8 in ( bool R2 );
thus L695: thesis by L694 , L692 , L671;
end;
thus L696: thesis by L693 , L502;
end;

assume L697: ( bool R2 ) in ( Rank ( succ R13 ) );
L698: (R2 in ( bool R2 ) & ( bool R2 ) c= ( Rank R13 )) by L697 , L502 , ZFMISC_1:def 1;
thus L699: thesis by L698;
end;
theorem
L700: (for R8 being set holds (for R13 being Ordinal holds (R8 in ( Rank R13 ) iff { R8 } in ( Rank ( succ R13 ) ))))
proof
let R8 being set;
let R13 being Ordinal;
L701: (R8 in ( Rank R13 ) iff { R8 } c= ( Rank R13 )) by ZFMISC_1:31;
thus L702: thesis by L701 , L502;
end;
theorem
L703: (for R8 being set holds (for R9 being set holds (for R13 being Ordinal holds ((R8 in ( Rank R13 ) & R9 in ( Rank R13 )) iff { R8 , R9 } in ( Rank ( succ R13 ) )))))
proof
let R8 being set;
let R9 being set;
let R13 being Ordinal;
L704: ((R8 in ( Rank R13 ) & R9 in ( Rank R13 )) iff { R8 , R9 } c= ( Rank R13 )) by ZFMISC_1:32;
thus L705: thesis by L704 , L502;
end;
theorem
L706: (for R8 being set holds (for R9 being set holds (for R13 being Ordinal holds ((R8 in ( Rank R13 ) & R9 in ( Rank R13 )) iff [ R8 , R9 ] in ( Rank ( succ ( succ R13 ) ) )))))
proof
let R8 being set;
let R9 being set;
let R13 being Ordinal;
L707: (R8 in ( Rank R13 ) iff { R8 } in ( Rank ( succ R13 ) )) by L700;
L708: ((R8 in ( Rank R13 ) & R9 in ( Rank R13 )) iff { R8 , R9 } in ( Rank ( succ R13 ) )) by L703;
thus L709: thesis by L708 , L707 , L703;
end;
theorem
L710: (for R2 being set holds (for R13 being Ordinal holds ((R2 is  epsilon-transitive & ( ( Rank R13 ) /\ ( Tarski-Class R2 ) ) = ( ( Rank ( succ R13 ) ) /\ ( Tarski-Class R2 ) )) implies ( Tarski-Class R2 ) c= ( Rank R13 ))))
proof
let R2 being set;
let R13 being Ordinal;
assume that
L711: R2 is  epsilon-transitive
and
L712: ( ( Rank R13 ) /\ ( Tarski-Class R2 ) ) = ( ( Rank ( succ R13 ) ) /\ ( Tarski-Class R2 ) );
given R8 being set such that
L713: (R8 in ( Tarski-Class R2 ) & (not R8 in ( Rank R13 )));

L714: R8 in ( ( Tarski-Class R2 ) \ ( Rank R13 ) ) by L713 , XBOOLE_0:def 5;
consider R3 being set such that L715: R3 in ( ( Tarski-Class R2 ) \ ( Rank R13 ) ) and L716: (not (ex R8 being set st (R8 in ( ( Tarski-Class R2 ) \ ( Rank R13 ) ) & R8 in R3))) by L714 , TARSKI:2;
L717: ( Tarski-Class R2 ) is  epsilon-transitive by L711 , L414;
L718: R3 c= ( Tarski-Class R2 ) by L717 , L715 , ORDINAL1:def 2;
L719: R3 c= ( Rank R13 )
proof
let R8 being set;
assume L720: R8 in R3;
L721: (not R8 in ( ( Tarski-Class R2 ) \ ( Rank R13 ) )) by L720 , L716;
thus L722: thesis by L721 , L718 , L720 , XBOOLE_0:def 5;
end;
L723: R3 in ( Rank ( succ R13 ) ) by L719 , L502;
L724: R3 in ( ( Rank ( succ R13 ) ) /\ ( Tarski-Class R2 ) ) by L723 , L715 , XBOOLE_0:def 4;
L725: (not R3 in ( Rank R13 )) by L715 , XBOOLE_0:def 5;
thus L726: contradiction by L725 , L712 , L724 , XBOOLE_0:def 4;
end;
theorem
L727: (for R2 being set holds (R2 is  epsilon-transitive implies (ex R13 being Ordinal st ( Tarski-Class R2 ) c= ( Rank R13 ))))
proof
let R2 being set;
assume L728: R2 is  epsilon-transitive;
assume L729: (for R13 being Ordinal holds (not ( Tarski-Class R2 ) c= ( Rank R13 )));
defpred S15[ set ] means (ex R13 being Ordinal st $1 in ( Rank R13 ));
consider C16 being set such that L730: (for R8 being set holds (R8 in C16 iff (R8 in ( Tarski-Class R2 ) & S15[ R8 ]))) from XBOOLE_0:sch 1;
defpred S16[ set , set ] means (ex R13 being Ordinal st ($2 = R13 & (not $1 in ( Rank R13 )) & $1 in ( Rank ( succ R13 ) )));
L731: (for R8 being set holds (for R9 being set holds (for R10 being set holds ((S16[ R8 , R9 ] & S16[ R8 , R10 ]) implies R9 = R10))))
proof
let R8 being set;
let R9 being set;
let R10 being set;
given C17 being Ordinal such that
L732: R9 = C17
and
L733: (not R8 in ( Rank C17 ))
and
L734: R8 in ( Rank ( succ C17 ) );

given C18 being Ordinal such that
L735: R10 = C18
and
L736: (not R8 in ( Rank C18 ))
and
L737: R8 in ( Rank ( succ C18 ) );

assume L738: R9 <> R10;
L739: (C17 in C18 or C18 in C17) by L738 , L732 , L735 , ORDINAL1:14;
L740: (( succ C17 ) c= C18 or ( succ C18 ) c= C17) by L739 , ORDINAL1:21;
L741:
now
assume L742: ( succ C17 ) c= C18;
L743: ( Rank ( succ C17 ) ) c= ( Rank C18 ) by L742 , L596;
thus L744: contradiction by L743 , L734 , L736;
end;
L745: ( Rank ( succ C18 ) ) c= ( Rank C17 ) by L741 , L740 , L596;
thus L746: contradiction by L745 , L733 , L737;
end;
consider R3 being set such that L747: (for R8 being set holds (R8 in R3 iff (ex R9 being set st (R9 in C16 & S16[ R9 , R8 ])))) from TARSKI:sch 1(L731);
L748:
now
let R13 being Ordinal;
L749: ( ( Rank R13 ) /\ ( Tarski-Class R2 ) ) <> ( ( Rank ( succ R13 ) ) /\ ( Tarski-Class R2 ) ) by L728 , L729 , L710;
consider R9 being set such that L750: (not (R9 in ( ( Rank R13 ) /\ ( Tarski-Class R2 ) ) iff R9 in ( ( Rank ( succ R13 ) ) /\ ( Tarski-Class R2 ) ))) by L749 , TARSKI:1;
L751: R13 in ( succ R13 ) by ORDINAL1:6;
L752: R13 c= ( succ R13 ) by L751 , ORDINAL1:def 2;
L753: ( Rank R13 ) c= ( Rank ( succ R13 ) ) by L752 , L596;
L754: ( ( Rank R13 ) /\ ( Tarski-Class R2 ) ) c= ( ( Rank ( succ R13 ) ) /\ ( Tarski-Class R2 ) ) by L753 , XBOOLE_1:26;
L755: R9 in ( Rank ( succ R13 ) ) by L754 , L750 , XBOOLE_0:def 4;
L756: R9 in ( Tarski-Class R2 ) by L750 , XBOOLE_0:def 4;
L757: ((not R9 in ( Rank R13 )) or (not R9 in ( Tarski-Class R2 ))) by L750 , L753 , XBOOLE_0:def 4;
L758: R9 in C16 by L730 , L755 , L756;
thus L759: R13 in R3 by L758 , L747 , L750 , L755 , L757 , XBOOLE_0:def 4;
end;
thus L760: contradiction by L748 , ORDINAL1:26;
end;
theorem
L761: (for R2 being set holds (R2 is  epsilon-transitive implies ( union R2 ) c= R2))
proof
let R2 being set;
assume L762: (for R3 being set holds (R3 in R2 implies R3 c= R2));
let R8 being set;
assume L763: R8 in ( union R2 );
consider R3 being set such that L764: R8 in R3 and L765: R3 in R2 by L763 , TARSKI:def 4;
L766: R3 c= R2 by L762 , L765;
thus L767: thesis by L766 , L764;
end;
theorem
L768: (for R2 being set holds (for R3 being set holds ((R2 is  epsilon-transitive & R3 is  epsilon-transitive) implies ( R2 \/ R3 ) is  epsilon-transitive)))
proof
let R2 being set;
let R3 being set;
assume that
L769: (for R4 being set holds (R4 in R2 implies R4 c= R2))
and
L770: (for R4 being set holds (R4 in R3 implies R4 c= R3));
let R4 being set;
assume L771: R4 in ( R2 \/ R3 );
L772: (R4 in R2 or R4 in R3) by L771 , XBOOLE_0:def 3;
L773: (R4 c= R2 or R4 c= R3) by L772 , L769 , L770;
L774: (R2 c= ( R2 \/ R3 ) & R3 c= ( R2 \/ R3 )) by XBOOLE_1:7;
thus L775: thesis by L774 , L773 , XBOOLE_1:1;
end;
theorem
L776: (for R2 being set holds (for R3 being set holds ((R2 is  epsilon-transitive & R3 is  epsilon-transitive) implies ( R2 /\ R3 ) is  epsilon-transitive)))
proof
let R2 being set;
let R3 being set;
assume that
L777: (for R4 being set holds (R4 in R2 implies R4 c= R2))
and
L778: (for R4 being set holds (R4 in R3 implies R4 c= R3));
let R4 being set;
assume L779: R4 in ( R2 /\ R3 );
L780: R4 in R2 by L779 , XBOOLE_0:def 4;
L781: R4 in R3 by L779 , XBOOLE_0:def 4;
L782: R4 c= R2 by L777 , L780;
L783: R4 c= R3 by L778 , L781;
thus L784: thesis by L783 , L782 , XBOOLE_1:19;
end;
deffunc H15(set , set) = ( union $2 );
definition
let R2 being set;
func the_transitive-closure_of R2 -> set means 
:L785: (for R8 being set holds (R8 in it iff (ex R5 being Function st (ex R17 being (Element of ( omega )) st (R8 in ( R5 . R17 ) & ( dom R5 ) = ( omega ) & ( R5 . ( 0 ) ) = R2 & (for B11 being Nat holds ( R5 . ( succ B11 ) ) = ( union ( R5 . B11 ) )))))));
existence
proof
consider R5 being Function such that L786: (( dom R5 ) = ( omega ) & ( R5 . ( 0 ) ) = R2 & (for B12 being Nat holds ( R5 . ( succ B12 ) ) = H15(B12 , ( R5 . B12 )))) from ORDINAL2:sch 18;
take D14 = ( union ( rng R5 ) );
let R8 being set;
thus L787: (R8 in D14 implies (ex R5 being Function st (ex R17 being (Element of ( omega )) st (R8 in ( R5 . R17 ) & ( dom R5 ) = ( omega ) & ( R5 . ( 0 ) ) = R2 & (for B13 being Nat holds ( R5 . ( succ B13 ) ) = ( union ( R5 . B13 ) ))))))
proof
assume L788: R8 in D14;
consider R3 being set such that L789: R8 in R3 and L790: R3 in ( rng R5 ) by L788 , TARSKI:def 4;
consider R9 being set such that L791: R9 in ( dom R5 ) and L792: R3 = ( R5 . R9 ) by L790 , FUNCT_1:def 3;
reconsider D15 = R9 as (Element of ( omega )) by L786 , L791;
take R5;
take D15;
thus L793: thesis by L786 , L789 , L792;
end;

deffunc H16(set , set) = ( union $2 );
given R6 being Function , R17 being (Element of ( omega )) such that
L794: R8 in ( R6 . R17 )
and
L795: ( dom R6 ) = ( omega )
and
L796: ( R6 . ( 0 ) ) = R2
and
L797: (for B14 being Nat holds ( R6 . ( succ B14 ) ) = H16(B14 , ( R6 . B14 )));

L798: ( dom R5 ) = ( omega ) by L786;
L799: ( R5 . ( 0 ) ) = R2 by L786;
L800: (for B15 being Nat holds ( R5 . ( succ B15 ) ) = H16(B15 , ( R5 . B15 ))) by L786;
L801: R6 = R5 from ORDINAL2:sch 20(L795 , L796 , L797 , L798 , L799 , L800);
L802: ( R6 . R17 ) in ( rng R5 ) by L801 , L786 , FUNCT_1:def 3;
thus L803: thesis by L802 , L794 , TARSKI:def 4;
end;
uniqueness
proof
defpred S17[ set ] means (ex R5 being Function st (ex R17 being (Element of ( omega )) st ($1 in ( R5 . R17 ) & ( dom R5 ) = ( omega ) & ( R5 . ( 0 ) ) = R2 & (for B16 being Nat holds ( R5 . ( succ B16 ) ) = ( union ( R5 . B16 ) )))));
let C19 , C20 being set;
assume that
L804: (for R8 being set holds (R8 in C19 iff S17[ R8 ]))
and
L805: (for R8 being set holds (R8 in C20 iff S17[ R8 ]));
thus L806: C19 = C20 from XBOOLE_0:sch 2(L804 , L805);
end;
end;
theorem
L808: (for R2 being set holds ( the_transitive-closure_of R2 ) is  epsilon-transitive)
proof
let R2 being set;
let R3 being set;
assume L809: R3 in ( the_transitive-closure_of R2 );
consider R5 being Function, R17 being (Element of ( omega )) such that L810: R3 in ( R5 . R17 ) and L811: (( dom R5 ) = ( omega ) & ( R5 . ( 0 ) ) = R2) and L812: (for B17 being Nat holds ( R5 . ( succ B17 ) ) = ( union ( R5 . B17 ) )) by L809 , L785;
L813: ( R5 . ( succ R17 ) ) = ( union ( R5 . R17 ) ) by L812;
let R8 being set;
assume L814: R8 in R3;
L815: R8 in ( union ( R5 . R17 ) ) by L814 , L810 , TARSKI:def 4;
reconsider D16 = ( succ R17 ) as (Element of ( omega )) by ORDINAL1:def 12;
L816: R8 in ( R5 . D16 ) by L813 , L815;
thus L817: R8 in ( the_transitive-closure_of R2 ) by L816 , L811 , L812 , L785;
end;
theorem
L818: (for R2 being set holds R2 c= ( the_transitive-closure_of R2 ))
proof
let R2 being set;
let R8 being set;
assume that
L819: R8 in R2;
consider R5 being Function such that L820: ( dom R5 ) = ( omega ) and L821: ( R5 . ( 0 ) ) = R2 and L822: (for B18 being Nat holds ( R5 . ( succ B18 ) ) = H15(B18 , ( R5 . B18 ))) from ORDINAL2:sch 18;
reconsider D17 = ( 0 ) as (Element of ( omega )) by ORDINAL1:def 12;
L823: R8 in ( R5 . D17 ) by L819 , L821;
thus L824: R8 in ( the_transitive-closure_of R2 ) by L823 , L820 , L821 , L822 , L785;
end;
theorem
L825: (for R2 being set holds (for R3 being set holds ((R2 c= R3 & R3 is  epsilon-transitive) implies ( the_transitive-closure_of R2 ) c= R3)))
proof
let R2 being set;
let R3 being set;
assume that
L826: R2 c= R3
and
L827: R3 is  epsilon-transitive;
let R8 being set;
assume L828: R8 in ( the_transitive-closure_of R2 );
consider R5 being Function, R17 being (Element of ( omega )) such that L829: R8 in ( R5 . R17 ) and L830: ( dom R5 ) = ( omega ) and L831: ( R5 . ( 0 ) ) = R2 and L832: (for B19 being Nat holds ( R5 . ( succ B19 ) ) = ( union ( R5 . B19 ) )) by L828 , L785;
defpred S18[ Nat ] means ( R5 . $1 ) c= R3;
L833: S18[ ( 0 ) ] by L826 , L831;
L834: (for B20 being Nat holds (S18[ B20 ] implies S18[ ( succ B20 ) ]))
proof
let C21 being Nat;
assume L835: ( R5 . C21 ) c= R3;
L836: ( union ( R5 . C21 ) ) c= ( union R3 ) by L835 , ZFMISC_1:77;
L837: (( R5 . ( succ C21 ) ) = ( union ( R5 . C21 ) ) & ( union R3 ) c= R3) by L827 , L832 , L761;
thus L838: thesis by L837 , L836 , XBOOLE_1:1;
end;
L839: S18[ R17 ] from ORDINAL2:sch 17(L833 , L834);
L840: ( R5 . R17 ) c= R3 by L839;
thus L841: thesis by L840 , L829;
end;
theorem
L842: (for R2 being set holds (for R3 being set holds (((for R4 being set holds ((R2 c= R4 & R4 is  epsilon-transitive) implies R3 c= R4)) & R2 c= R3 & R3 is  epsilon-transitive) implies ( the_transitive-closure_of R2 ) = R3)))
proof
let R2 being set;
let R3 being set;
assume L843: (for R4 being set holds ((R2 c= R4 & R4 is  epsilon-transitive) implies R3 c= R4));
assume L844: (R2 c= R3 & R3 is  epsilon-transitive);
thus L845: ( the_transitive-closure_of R2 ) c= R3 by L844 , L825;
L846: ( the_transitive-closure_of R2 ) is  epsilon-transitive by L808;
thus L847: thesis by L846 , L843 , L818;
end;
theorem
L848: (for R2 being set holds (R2 is  epsilon-transitive implies ( the_transitive-closure_of R2 ) = R2))
proof
let R2 being set;
L849: (for R4 being set holds ((R2 c= R4 & R4 is  epsilon-transitive) implies R2 c= R4));
thus L850: thesis by L849 , L842;
end;
theorem
L851: ( the_transitive-closure_of ( {} ) ) = ( {} ) by L848;
theorem
L852: (for R13 being Ordinal holds ( the_transitive-closure_of R13 ) = R13) by L848;
theorem
L853: (for R2 being set holds (for R3 being set holds (R2 c= R3 implies ( the_transitive-closure_of R2 ) c= ( the_transitive-closure_of R3 ))))
proof
let R2 being set;
let R3 being set;
assume L854: R2 c= R3;
L855: R3 c= ( the_transitive-closure_of R3 ) by L818;
L856: R2 c= ( the_transitive-closure_of R3 ) by L855 , L854 , XBOOLE_1:1;
thus L857: thesis by L856 , L808 , L825;
end;
theorem
L858: (for R2 being set holds ( the_transitive-closure_of ( the_transitive-closure_of R2 ) ) = ( the_transitive-closure_of R2 )) by L808 , L848;
theorem
L859: (for R2 being set holds (for R3 being set holds ( the_transitive-closure_of ( R2 \/ R3 ) ) = ( ( the_transitive-closure_of R2 ) \/ ( the_transitive-closure_of R3 ) )))
proof
let R2 being set;
let R3 being set;
L860: (R2 c= ( the_transitive-closure_of R2 ) & R3 c= ( the_transitive-closure_of R3 )) by L818;
L861: ( R2 \/ R3 ) c= ( ( the_transitive-closure_of R2 ) \/ ( the_transitive-closure_of R3 ) ) by L860 , XBOOLE_1:13;
L862: (( the_transitive-closure_of R2 ) is  epsilon-transitive & ( the_transitive-closure_of R3 ) is  epsilon-transitive) by L808;
L863: ( the_transitive-closure_of ( R2 \/ R3 ) ) c= ( the_transitive-closure_of ( ( the_transitive-closure_of R2 ) \/ ( the_transitive-closure_of R3 ) ) ) by L861 , L853;
thus L864: ( the_transitive-closure_of ( R2 \/ R3 ) ) c= ( ( the_transitive-closure_of R2 ) \/ ( the_transitive-closure_of R3 ) ) by L863 , L862 , L768 , L848;
L865: (( the_transitive-closure_of R2 ) c= ( the_transitive-closure_of ( R2 \/ R3 ) ) & ( the_transitive-closure_of R3 ) c= ( the_transitive-closure_of ( R2 \/ R3 ) )) by L853 , XBOOLE_1:7;
thus L866: thesis by L865 , XBOOLE_1:8;
end;
theorem
L867: (for R2 being set holds (for R3 being set holds ( the_transitive-closure_of ( R2 /\ R3 ) ) c= ( ( the_transitive-closure_of R2 ) /\ ( the_transitive-closure_of R3 ) )))
proof
let R2 being set;
let R3 being set;
L868: (( the_transitive-closure_of ( R2 /\ R3 ) ) c= ( the_transitive-closure_of R2 ) & ( the_transitive-closure_of ( R2 /\ R3 ) ) c= ( the_transitive-closure_of R3 )) by L853 , XBOOLE_1:17;
thus L869: thesis by L868 , XBOOLE_1:19;
end;
theorem
L870: (for R2 being set holds (ex R13 being Ordinal st R2 c= ( Rank R13 )))
proof
let R2 being set;
consider R13 being Ordinal such that L871: ( Tarski-Class ( the_transitive-closure_of R2 ) ) c= ( Rank R13 ) by L727 , L808;
take R13;
L872: ( the_transitive-closure_of R2 ) in ( Tarski-Class ( the_transitive-closure_of R2 ) ) by L115;
L873: R2 in ( Tarski-Class ( the_transitive-closure_of R2 ) ) by L872 , L118 , L818;
thus L874: thesis by L873 , L871 , ORDINAL1:def 2;
end;
definition
let R2 being set;
func the_rank_of R2 -> Ordinal means 
:L875: (R2 c= ( Rank it ) & (for R14 being Ordinal holds (R2 c= ( Rank R14 ) implies it c= R14)));
existence
proof
defpred S19[ Ordinal ] means R2 c= ( Rank $1 );
L876: (ex R13 being Ordinal st S19[ R13 ]) by L870;
thus L877: (ex R13 being Ordinal st (S19[ R13 ] & (for R14 being Ordinal holds (S19[ R14 ] implies R13 c= R14)))) from ORDINAL1:sch 1(L876);
end;
uniqueness
proof
let C22 , C23 being Ordinal;
assume that
L878: (R2 c= ( Rank C22 ) & (for R14 being Ordinal holds (R2 c= ( Rank R14 ) implies C22 c= R14)) & R2 c= ( Rank C23 ) & (for R14 being Ordinal holds (R2 c= ( Rank R14 ) implies C23 c= R14)));
thus L879: (C22 c= C23 & C23 c= C22) by L878;
end;
end;
theorem
L881: (for R2 being set holds ( the_rank_of ( bool R2 ) ) = ( succ ( the_rank_of R2 ) ))
proof
let R2 being set;
L882: R2 c= ( Rank ( the_rank_of R2 ) ) by L875;
L883: ( bool R2 ) c= ( Rank ( succ ( the_rank_of R2 ) ) )
proof
let R8 being set;
assume L884: R8 in ( bool R2 );
L885: R8 c= ( Rank ( the_rank_of R2 ) ) by L884 , L882 , XBOOLE_1:1;
L886: ( bool ( Rank ( the_rank_of R2 ) ) ) = ( Rank ( succ ( the_rank_of R2 ) ) ) by L479;
thus L887: thesis by L886 , L885;
end;
L888: (for R13 being Ordinal holds (( bool R2 ) c= ( Rank R13 ) implies ( succ ( the_rank_of R2 ) ) c= R13))
proof
let R13 being Ordinal;
assume that
L889: ( bool R2 ) c= ( Rank R13 );
defpred S20[ Ordinal ] means R2 in ( Rank $1 );
L890: R2 in ( bool R2 ) by ZFMISC_1:def 1;
L891: (ex R13 being Ordinal st S20[ R13 ]) by L890 , L889;
consider R14 being Ordinal such that L892: (S20[ R14 ] & (for R15 being Ordinal holds (S20[ R15 ] implies R14 c= R15))) from ORDINAL1:sch 1(L891);
L893:
now
assume L894: (for R15 being Ordinal holds R14 <> ( succ R15 ));
L895: R14 is  limit_ordinal by L894 , ORDINAL1:29;
L896: (ex R15 being Ordinal st (R15 in R14 & R2 in ( Rank R15 ))) by L895 , L892 , L479 , L486;
thus L897: contradiction by L896 , L892 , ORDINAL1:5;
end;
consider R15 being Ordinal such that L898: R14 = ( succ R15 ) by L893;
L899: R2 c= ( Rank R15 ) by L892 , L898 , L502;
L900: ( the_rank_of R2 ) c= R15 by L899 , L875;
L901: ( the_rank_of R2 ) in R14 by L900 , L898 , ORDINAL1:22;
L902: R14 c= R13 by L889 , L890 , L892;
thus L903: thesis by L902 , L901 , ORDINAL1:21;
end;
thus L904: thesis by L888 , L883 , L875;
end;
theorem
L905: (for R13 being Ordinal holds ( the_rank_of ( Rank R13 ) ) = R13)
proof
let R13 being Ordinal;
L906: (for R14 being Ordinal holds (( Rank R13 ) c= ( Rank R14 ) implies R13 c= R14)) by L596;
thus L907: thesis by L906 , L875;
end;
theorem
L908: (for R2 being set holds (for R13 being Ordinal holds (R2 c= ( Rank R13 ) iff ( the_rank_of R2 ) c= R13)))
proof
let R2 being set;
let R13 being Ordinal;
thus L909: (R2 c= ( Rank R13 ) implies ( the_rank_of R2 ) c= R13) by L875;
assume L910: ( the_rank_of R2 ) c= R13;
L911: ( Rank ( the_rank_of R2 ) ) c= ( Rank R13 ) by L910 , L596;
L912: R2 c= ( Rank ( the_rank_of R2 ) ) by L875;
thus L913: thesis by L912 , L911 , XBOOLE_1:1;
end;
theorem
L914: (for R2 being set holds (for R13 being Ordinal holds (R2 in ( Rank R13 ) iff ( the_rank_of R2 ) in R13)))
proof
let R2 being set;
let R13 being Ordinal;
thus L915: (R2 in ( Rank R13 ) implies ( the_rank_of R2 ) in R13)
proof
assume L916: R2 in ( Rank R13 );
L917: ( bool R2 ) in ( Rank ( succ R13 ) ) by L916 , L690;
L918: ( bool R2 ) c= ( Rank R13 ) by L917 , L502;
L919: ( the_rank_of ( bool R2 ) ) = ( succ ( the_rank_of R2 ) ) by L881;
L920: ( the_rank_of R2 ) in ( the_rank_of ( bool R2 ) ) by L919 , ORDINAL1:6;
L921: ( the_rank_of ( bool R2 ) ) c= R13 by L918 , L875;
thus L922: thesis by L921 , L920;
end;

assume L923: ( the_rank_of R2 ) in R13;
L924: ( succ ( the_rank_of R2 ) ) c= R13 by L923 , ORDINAL1:21;
L925: R2 c= ( Rank ( the_rank_of R2 ) ) by L875;
L926: R2 in ( Rank ( succ ( the_rank_of R2 ) ) ) by L925 , L502;
L927: ( Rank ( succ ( the_rank_of R2 ) ) ) c= ( Rank R13 ) by L924 , L596;
thus L928: thesis by L927 , L926;
end;
theorem
L929: (for R2 being set holds (for R3 being set holds (R2 c= R3 implies ( the_rank_of R2 ) c= ( the_rank_of R3 ))))
proof
let R2 being set;
let R3 being set;
assume L930: R2 c= R3;
L931: R3 c= ( Rank ( the_rank_of R3 ) ) by L875;
L932: R2 c= ( Rank ( the_rank_of R3 ) ) by L931 , L930 , XBOOLE_1:1;
thus L933: thesis by L932 , L875;
end;
theorem
L934: (for R2 being set holds (for R3 being set holds (R2 in R3 implies ( the_rank_of R2 ) in ( the_rank_of R3 ))))
proof
let R2 being set;
let R3 being set;
assume L935: R2 in R3;
L936: R3 c= ( Rank ( the_rank_of R3 ) ) by L875;
thus L937: thesis by L936 , L935 , L914;
end;
theorem
L938: (for R2 being set holds (for R13 being Ordinal holds (( the_rank_of R2 ) c= R13 iff (for R3 being set holds (R3 in R2 implies ( the_rank_of R3 ) in R13)))))
proof
let R2 being set;
let R13 being Ordinal;
set D18 = ( the_rank_of R2 );
L939: R2 c= ( Rank D18 ) by L875;
thus L940: (( the_rank_of R2 ) c= R13 implies (for R3 being set holds (R3 in R2 implies ( the_rank_of R3 ) in R13)))
proof
assume L941: ( the_rank_of R2 ) c= R13;
let R3 being set;
assume L942: R3 in R2;
L943: R3 in ( Rank D18 ) by L942 , L939;
L944: ( Rank D18 ) c= ( Rank R13 ) by L941 , L596;
thus L945: thesis by L944 , L943 , L914;
end;

assume L946: (for R3 being set holds (R3 in R2 implies ( the_rank_of R3 ) in R13));
L947: R2 c= ( Rank R13 )
proof
let R8 being set;
assume L948: R8 in R2;
L949: ( the_rank_of R8 ) in R13 by L948 , L946;
thus L950: thesis by L949 , L914;
end;
thus L951: thesis by L947 , L875;
end;
theorem
L952: (for R2 being set holds (for R13 being Ordinal holds (R13 c= ( the_rank_of R2 ) iff (for R14 being Ordinal holds (R14 in R13 implies (ex R3 being set st (R3 in R2 & R14 c= ( the_rank_of R3 ))))))))
proof
let R2 being set;
let R13 being Ordinal;
thus L953: (R13 c= ( the_rank_of R2 ) implies (for R14 being Ordinal holds (R14 in R13 implies (ex R3 being set st (R3 in R2 & R14 c= ( the_rank_of R3 ))))))
proof
assume L954: R13 c= ( the_rank_of R2 );
let R14 being Ordinal;
assume L955: R14 in R13;
L956: (not ( the_rank_of R2 ) c= R14) by L955 , L954 , ORDINAL1:5;
L957: (not R2 c= ( Rank R14 )) by L956 , L875;
L958: ( R2 \ ( Rank R14 ) ) <> ( {} ) by L957 , XBOOLE_1:37;
set D19 = the (Element of ( R2 \ ( Rank R14 ) ));
take D19;
L959: (not D19 in ( Rank R14 )) by L958 , XBOOLE_0:def 5;
thus L960: D19 in R2 by L958 , XBOOLE_0:def 5;
L961: (not ( the_rank_of D19 ) in R14) by L959 , L914;
thus L962: thesis by L961 , ORDINAL1:16;
end;

assume L963: (for R14 being Ordinal holds (R14 in R13 implies (ex R3 being set st (R3 in R2 & R14 c= ( the_rank_of R3 )))));
let R8 being set;
assume L964: R8 in R13;
reconsider D20 = R8 as Ordinal by L964;
consider R3 being set such that L965: R3 in R2 and L966: D20 c= ( the_rank_of R3 ) by L963 , L964;
L967: ( the_rank_of R3 ) in ( the_rank_of R2 ) by L965 , L934;
thus L968: thesis by L967 , L966 , ORDINAL1:12;
end;
theorem
L969: (for R2 being set holds (( the_rank_of R2 ) = ( {} ) iff R2 = ( {} )))
proof
let R2 being set;
thus L970: (( the_rank_of R2 ) = ( {} ) implies R2 = ( {} ))
proof
assume L971: ( the_rank_of R2 ) = ( {} );
L972: R2 c= ( Rank ( {} ) ) by L971 , L875;
thus L973: thesis by L972 , L479;
end;

assume L974: R2 = ( {} );
L975: (for R3 being set holds (R3 in R2 implies ( the_rank_of R3 ) in ( {} ))) by L974;
thus L976: ( the_rank_of R2 ) c= ( {} ) by L975 , L938;
thus L977: ( {} ) c= ( the_rank_of R2 );
end;
theorem
L978: (for R2 being set holds (for R13 being Ordinal holds (( the_rank_of R2 ) = ( succ R13 ) implies (ex R3 being set st (R3 in R2 & ( the_rank_of R3 ) = R13)))))
proof
let R2 being set;
let R13 being Ordinal;
assume L979: ( the_rank_of R2 ) = ( succ R13 );
L980: R13 in ( succ R13 ) by ORDINAL1:6;
consider R3 being set such that L981: R3 in R2 and L982: R13 c= ( the_rank_of R3 ) by L980 , L979 , L952;
take R3;
L983: ( the_rank_of R3 ) in ( the_rank_of R2 ) by L981 , L934;
L984: ( the_rank_of R3 ) c= R13 by L983 , L979 , ORDINAL1:22;
thus L985: thesis by L984 , L981 , L982 , XBOOLE_0:def 10;
end;
theorem
L986: (for R13 being Ordinal holds ( the_rank_of R13 ) = R13)
proof
let R13 being Ordinal;
L987: R13 c= ( Rank R13 ) by L608;
thus L988: ( the_rank_of R13 ) c= R13 by L987 , L908;
defpred S21[ Ordinal ] means $1 c= ( the_rank_of $1 );
L989: (for R13 being Ordinal holds ((for R14 being Ordinal holds (R14 in R13 implies S21[ R14 ])) implies S21[ R13 ]))
proof
let R13 being Ordinal;
assume that
L990: (for R14 being Ordinal holds (R14 in R13 implies R14 c= ( the_rank_of R14 )));
L991:
now
let R14 being Ordinal;
assume that
L992: R14 in R13;
reconsider D21 = R14 as set;
take D22 = D21;
thus L993: (D22 in R13 & R14 c= ( the_rank_of D22 )) by L990 , L992;
end;
thus L994: thesis by L991 , L952;
end;
L995: (for R14 being Ordinal holds S21[ R14 ]) from ORDINAL1:sch 2(L989);
thus L996: thesis by L995;
end;
theorem
L997: (for R2 being set holds (( the_rank_of ( Tarski-Class R2 ) ) <> ( {} ) & ( the_rank_of ( Tarski-Class R2 ) ) is  limit_ordinal))
proof
let R2 being set;
L998: ( Tarski-Class R2 ) c= ( Rank ( the_rank_of ( Tarski-Class R2 ) ) ) by L875;
thus L999: ( the_rank_of ( Tarski-Class R2 ) ) <> ( {} )
proof
assume L1000: ( the_rank_of ( Tarski-Class R2 ) ) = ( {} );
L1001: ( Tarski-Class R2 ) c= ( {} ) by L1000 , L875 , L479;
thus L1002: contradiction by L1001;
end;

assume L1003: (not thesis);
consider R13 being Ordinal such that L1004: ( the_rank_of ( Tarski-Class R2 ) ) = ( succ R13 ) by L1003 , ORDINAL1:29;
consider R3 being set such that L1005: R3 in ( Tarski-Class R2 ) and L1006: ( the_rank_of R3 ) = R13 by L1004 , L978;
L1007: ( bool R3 ) in ( Tarski-Class R2 ) by L1005 , L123;
L1008: ( the_rank_of ( bool R3 ) ) = ( succ R13 ) by L1006 , L881;
L1009: ( bool R3 ) c= ( Rank R13 ) by L998 , L1004 , L1007 , L502;
L1010: ( succ R13 ) c= R13 by L1009 , L1008 , L875;
L1011: R13 in R13 by L1010 , ORDINAL1:21;
thus L1012: contradiction by L1011;
end;
begin
scheme NonUniqFuncEx { F1() -> set , P1[set , set] } : (ex B21 being Function st (( dom B21 ) = F1() & (for R18 being set holds (R18 in F1() implies P1[ R18 , ( B21 . R18 ) ]))))
provided
L1013: (for R18 being set holds (R18 in F1() implies (ex R19 being set st P1[ R18 , R19 ])))
proof
per cases ;
suppose L1014: F1() = ( {} );

L1015: (for R18 being set holds (R18 in F1() implies (ex R19 being set st (R19 in ( {} ) & P1[ R18 , R19 ])))) by L1014;
L1016: (ex B22 being Function st (( dom B22 ) = F1() & ( rng B22 ) c= ( {} ) & (for R18 being set holds (R18 in F1() implies P1[ R18 , ( B22 . R18 ) ])))) from FUNCT_1:sch 5(L1015);
thus L1017: thesis by L1016;
end;
suppose L1018: F1() <> ( {} );

reconsider D23 = F1() as non  empty set by L1018;
defpred S22[ set , Ordinal ] means (ex R19 being set st (R19 in ( Rank $2 ) & P1[ $1 , R19 ]));
L1019: (for B23 being (Element of D23) holds (ex R13 being Ordinal st S22[ B23 , R13 ]))
proof
let C24 being (Element of D23);
consider R19 being set such that L1020: P1[ C24 , R19 ] by L1013;
L1021: R19 c= ( Rank ( the_rank_of R19 ) ) by L875;
L1022: R19 in ( Rank ( succ ( the_rank_of R19 ) ) ) by L1021 , L502;
thus L1023: thesis by L1022 , L1020;
end;
consider C25 being Function such that L1024: (( dom C25 ) = D23 & (for B24 being (Element of D23) holds (ex R13 being Ordinal st (R13 = ( C25 . B24 ) & S22[ B24 , R13 ] & (for R14 being Ordinal holds (S22[ B24 , R14 ] implies R13 c= R14)))))) from ORDINAL1:sch 6(L1019);
L1025: (for R18 being set holds (R18 in F1() implies (ex R19 being set st (R19 in ( Rank ( sup ( rng C25 ) ) ) & P1[ R18 , R19 ]))))
proof
let R18 being set;
assume L1026: R18 in F1();
consider R13 being Ordinal such that L1027: R13 = ( C25 . R18 ) and L1028: (ex R19 being set st (R19 in ( Rank R13 ) & P1[ R18 , R19 ])) and L1029: (for R14 being Ordinal holds ((ex R19 being set st (R19 in ( Rank R14 ) & P1[ R18 , R19 ])) implies R13 c= R14)) by L1026 , L1024;
consider R19 being set such that L1030: (R19 in ( Rank R13 ) & P1[ R18 , R19 ]) by L1028;
take R19;
L1031: R13 in ( rng C25 ) by L1024 , L1026 , L1027 , FUNCT_1:def 3;
L1032: R13 in ( sup ( rng C25 ) ) by L1031 , ORDINAL2:19;
L1033: R13 c= ( sup ( rng C25 ) ) by L1032 , ORDINAL1:def 2;
L1034: ( Rank R13 ) c= ( Rank ( sup ( rng C25 ) ) ) by L1033 , L596;
thus L1035: thesis by L1034 , L1030;
end;
L1036: (ex B25 being Function st (( dom B25 ) = F1() & ( rng B25 ) c= ( Rank ( sup ( rng C25 ) ) ) & (for R18 being set holds (R18 in F1() implies P1[ R18 , ( B25 . R18 ) ])))) from FUNCT_1:sch 5(L1025);
thus L1037: thesis by L1036;
end;
end;
definition
let C26 , C27 being Relation;
pred C26 , C27 are_fiberwise_equipotent 
means
:L1039: (for B26 being set holds ( card ( Coim (C26 , B26) ) ) = ( card ( Coim (C27 , B26) ) ))
;reflexivity
;
symmetry
;
end;
L1041: (for B27 being Function holds (for B28 being set holds ((not B28 in ( rng B27 )) implies ( Coim (B27 , B28) ) = ( {} ))))
proof
let C28 being Function;
let R8 being set;
assume L1042: (not R8 in ( rng C28 ));
L1043:
now
assume L1044: ( rng C28 ) meets { R8 };
L1045: (ex B29 being set st (B29 in ( rng C28 ) & B29 in { R8 })) by L1044 , XBOOLE_0:3;
thus L1046: contradiction by L1045 , L1042 , TARSKI:def 1;
end;
thus L1047: thesis by L1043 , RELAT_1:138;
end;
theorem
L1048: (for B30 , B31 being Function holds (B30 , B31 are_fiberwise_equipotent  implies ( rng B30 ) = ( rng B31 )))
proof
let C29 , C30 being Function;
assume L1049: C29 , C30 are_fiberwise_equipotent ;
thus L1050: ( rng C29 ) c= ( rng C30 )
proof
let R8 being set;
assume that
L1051: R8 in ( rng C29 )
and
L1052: (not R8 in ( rng C30 ));
L1053: ( card ( Coim (C29 , R8) ) ) = ( card ( Coim (C30 , R8) ) ) by L1049 , L1039;
L1054: ( Coim (C29 , R8) ) , ( Coim (C30 , R8) ) are_equipotent  by L1053 , CARD_1:5;
L1055: (ex R9 being set st (R9 in ( dom C29 ) & ( C29 . R9 ) = R8)) by L1051 , FUNCT_1:def 3;
L1056: ( Coim (C30 , R8) ) = ( {} ) by L1052 , L1041;
L1057: (R8 in { R8 } & ( C29 " { R8 } ) = ( {} )) by L1056 , L1054 , CARD_1:26 , TARSKI:def 1;
thus L1058: contradiction by L1057 , L1055 , FUNCT_1:def 7;
end;

let R8 being set;
assume that
L1059: R8 in ( rng C30 )
and
L1060: (not R8 in ( rng C29 ));
L1061: ( card ( Coim (C30 , R8) ) ) = ( card ( Coim (C29 , R8) ) ) by L1049 , L1039;
L1062: ( C30 " { R8 } ) , ( C29 " { R8 } ) are_equipotent  by L1061 , CARD_1:5;
L1063: (ex R9 being set st (R9 in ( dom C30 ) & ( C30 . R9 ) = R8)) by L1059 , FUNCT_1:def 3;
L1064: ( Coim (C29 , R8) ) = ( {} ) by L1060 , L1041;
L1065: (R8 in { R8 } & ( Coim (C30 , R8) ) = ( {} )) by L1064 , L1062 , CARD_1:26 , TARSKI:def 1;
thus L1066: contradiction by L1065 , L1063 , FUNCT_1:def 7;
end;
theorem
L1067: (for B32 , B33 , B34 being Function holds ((B32 , B33 are_fiberwise_equipotent  & B32 , B34 are_fiberwise_equipotent ) implies B33 , B34 are_fiberwise_equipotent ))
proof
let C31 , C32 , C33 being Function;
assume that
L1068: C31 , C32 are_fiberwise_equipotent 
and
L1069: C31 , C33 are_fiberwise_equipotent ;
let R8 being set;
thus L1070: ( card ( Coim (C32 , R8) ) ) = ( card ( Coim (C31 , R8) ) ) by L1068 , L1039
.= ( card ( Coim (C33 , R8) ) ) by L1069 , L1039;
end;
theorem
L1071: (for B35 , B36 being Function holds (B35 , B36 are_fiberwise_equipotent  iff (ex B37 being Function st (( dom B37 ) = ( dom B35 ) & ( rng B37 ) = ( dom B36 ) & B37 is  one-to-one & B35 = ( B36 * B37 )))))
proof
let C34 , C35 being Function;
thus L1072: (C34 , C35 are_fiberwise_equipotent  implies (ex B38 being Function st (( dom B38 ) = ( dom C34 ) & ( rng B38 ) = ( dom C35 ) & B38 is  one-to-one & C34 = ( C35 * B38 ))))
proof
assume L1073: C34 , C35 are_fiberwise_equipotent ;
defpred S23[ set , set ] means ($2 is Function & (for B39 being Function holds ($2 = B39 implies (( dom B39 ) = ( C34 " { $1 } ) & ( rng B39 ) = ( C35 " { $1 } ) & B39 is  one-to-one))));
L1074: (for R8 being set holds (R8 in ( rng C34 ) implies (ex R9 being set st S23[ R8 , R9 ])))
proof
let R8 being set;
assume L1075: R8 in ( rng C34 );
L1076: ( card ( Coim (C34 , R8) ) ) = ( card ( Coim (C35 , R8) ) ) by L1073 , L1039;
L1077: ( C34 " { R8 } ) , ( C35 " { R8 } ) are_equipotent  by L1076 , CARD_1:5;
consider C36 being Function such that L1078: (C36 is  one-to-one & ( dom C36 ) = ( C34 " { R8 } ) & ( rng C36 ) = ( C35 " { R8 } )) by L1077 , WELLORD2:def 4;
take C36;
thus L1079: C36 is Function;
let C37 being Function;
assume L1080: C37 = C36;
thus L1081: thesis by L1080 , L1078;
end;
consider C38 being Function such that L1082: (( dom C38 ) = ( rng C34 ) & (for R8 being set holds (R8 in ( rng C34 ) implies S23[ R8 , ( C38 . R8 ) ]))) from NonUniqFuncEx(L1074);
defpred S24[ set , set ] means (for B40 being Function holds (B40 = ( C38 . ( C34 . $1 ) ) implies $2 = ( B40 . $1 )));
set D24 = ( dom C34 );
set D25 = ( dom C35 );
L1083: (for R8 being set holds (R8 in D24 implies (ex R9 being set st (R9 in D25 & S24[ R8 , R9 ]))))
proof
let R8 being set;
assume L1084: R8 in D24;
L1085: ( C34 . R8 ) in ( rng C34 ) by L1084 , FUNCT_1:def 3;
reconsider D26 = ( C38 . ( C34 . R8 ) ) as Function by L1085 , L1082;
L1086: (( dom D26 ) = ( C34 " { ( C34 . R8 ) } ) & ( rng D26 ) = ( C35 " { ( C34 . R8 ) } )) by L1082 , L1085;
take D27 = ( D26 . R8 );
L1087: ( C34 . R8 ) in { ( C34 . R8 ) } by TARSKI:def 1;
L1088: R8 in ( C34 " { ( C34 . R8 ) } ) by L1087 , L1084 , FUNCT_1:def 7;
L1089: ( D26 . R8 ) in ( C35 " { ( C34 . R8 ) } ) by L1088 , L1086 , FUNCT_1:def 3;
thus L1090: D27 in D25 by L1089 , FUNCT_1:def 7;
let C39 being Function;
assume L1091: C39 = ( C38 . ( C34 . R8 ) );
thus L1092: thesis by L1091;
end;
consider C40 being Function such that L1093: (( dom C40 ) = D24 & ( rng C40 ) c= D25 & (for R8 being set holds (R8 in D24 implies S24[ R8 , ( C40 . R8 ) ]))) from FUNCT_1:sch 5(L1083);
take C40;
thus L1094: ( dom C40 ) = D24 by L1093;
L1095: ( dom C35 ) c= ( rng C40 )
proof
let R8 being set;
assume L1096: R8 in D25;
L1097: ( C35 . R8 ) in ( rng C35 ) by L1096 , FUNCT_1:def 3;
L1098: ( rng C34 ) = ( rng C35 ) by L1073 , L1048;
reconsider D28 = ( C38 . ( C35 . R8 ) ) as Function by L1098 , L1082 , L1097;
L1099: ( dom D28 ) = ( C34 " { ( C35 . R8 ) } ) by L1082 , L1097 , L1098;
L1100: ( rng D28 ) = ( C35 " { ( C35 . R8 ) } ) by L1082 , L1097 , L1098;
L1101: ( C35 . R8 ) in { ( C35 . R8 ) } by TARSKI:def 1;
L1102: R8 in ( rng D28 ) by L1101 , L1096 , L1100 , FUNCT_1:def 7;
consider C41 being set such that L1103: C41 in ( dom D28 ) and L1104: ( D28 . C41 ) = R8 by L1102 , FUNCT_1:def 3;
L1105: C41 in D24 by L1099 , L1103 , FUNCT_1:def 7;
L1106: ( C34 . C41 ) in { ( C35 . R8 ) } by L1099 , L1103 , FUNCT_1:def 7;
L1107: ( C34 . C41 ) = ( C35 . R8 ) by L1106 , TARSKI:def 1;
L1108: ( C40 . C41 ) = R8 by L1107 , L1093 , L1104 , L1105;
thus L1109: thesis by L1108 , L1093 , L1105 , FUNCT_1:def 3;
end;
thus L1110: ( rng C40 ) = D25 by L1095 , L1093 , XBOOLE_0:def 10;
L1111:
now
let R8 being set;
let R9 being set;
assume that
L1112: R8 in ( dom C40 )
and
L1113: R9 in ( dom C40 )
and
L1114: ( C40 . R8 ) = ( C40 . R9 );
L1115: ( C34 . R8 ) in ( rng C34 ) by L1093 , L1112 , FUNCT_1:def 3;
L1116: ( C34 . R9 ) in ( rng C34 ) by L1093 , L1113 , FUNCT_1:def 3;
reconsider D29 = ( C38 . ( C34 . R8 ) ) , D30 = ( C38 . ( C34 . R9 ) ) as Function by L1116 , L1082 , L1115;
L1117: (( C40 . R8 ) = ( D29 . R8 ) & ( C40 . R9 ) = ( D30 . R9 )) by L1093 , L1112 , L1113;
L1118: ( dom D29 ) = ( C34 " { ( C34 . R8 ) } ) by L1082 , L1115;
L1119: ( rng D29 ) = ( C35 " { ( C34 . R8 ) } ) by L1082 , L1115;
L1120: D29 is  one-to-one by L1082 , L1115;
L1121: ( dom D30 ) = ( C34 " { ( C34 . R9 ) } ) by L1082 , L1116;
L1122: ( rng D30 ) = ( C35 " { ( C34 . R9 ) } ) by L1082 , L1116;
L1123: ( C34 . R8 ) in { ( C34 . R8 ) } by TARSKI:def 1;
L1124: ( C34 . R9 ) in { ( C34 . R9 ) } by TARSKI:def 1;
L1125: R8 in ( C34 " { ( C34 . R8 ) } ) by L1093 , L1112 , L1123 , FUNCT_1:def 7;
L1126: R9 in ( C34 " { ( C34 . R9 ) } ) by L1093 , L1113 , L1124 , FUNCT_1:def 7;
L1127: ( D29 . R8 ) in ( rng D29 ) by L1118 , L1125 , FUNCT_1:def 3;
L1128: ( D30 . R9 ) in ( rng D30 ) by L1121 , L1126 , FUNCT_1:def 3;
L1129: ( D29 . R8 ) in ( ( C35 " { ( C34 . R8 ) } ) /\ ( C35 " { ( C34 . R9 ) } ) ) by L1128 , L1114 , L1117 , L1119 , L1122 , L1127 , XBOOLE_0:def 4;
L1130: ( D29 . R8 ) in ( C35 " ( { ( C34 . R8 ) } /\ { ( C34 . R9 ) } ) ) by L1129 , FUNCT_1:68;
L1131: ( C35 . ( D29 . R8 ) ) in ( { ( C34 . R8 ) } /\ { ( C34 . R9 ) } ) by L1130 , FUNCT_1:def 7;
L1132: ( C35 . ( D29 . R8 ) ) in { ( C34 . R8 ) } by L1131 , XBOOLE_0:def 4;
L1133: ( C35 . ( D29 . R8 ) ) in { ( C34 . R9 ) } by L1131 , XBOOLE_0:def 4;
L1134: ( C35 . ( D29 . R8 ) ) = ( C34 . R8 ) by L1132 , TARSKI:def 1;
L1135: ( C35 . ( D29 . R8 ) ) = ( C34 . R9 ) by L1133 , TARSKI:def 1;
thus L1136: R8 = R9 by L1135 , L1114 , L1117 , L1118 , L1120 , L1125 , L1126 , L1134 , FUNCT_1:def 4;
end;
thus L1137: C40 is  one-to-one by L1111 , FUNCT_1:def 4;
L1138: ( dom ( C35 * C40 ) ) = D24 by L1093 , RELAT_1:27;
L1139:
now
let R8 being set;
assume L1140: R8 in D24;
L1141: ( C34 . R8 ) in ( rng C34 ) by L1140 , FUNCT_1:def 3;
reconsider D31 = ( C38 . ( C34 . R8 ) ) as Function by L1141 , L1082;
L1142: (( dom D31 ) = ( C34 " { ( C34 . R8 ) } ) & ( rng D31 ) = ( C35 " { ( C34 . R8 ) } )) by L1082 , L1141;
L1143: ( C34 . R8 ) in { ( C34 . R8 ) } by TARSKI:def 1;
L1144: R8 in ( C34 " { ( C34 . R8 ) } ) by L1143 , L1140 , FUNCT_1:def 7;
L1145: ( D31 . R8 ) in ( C35 " { ( C34 . R8 ) } ) by L1144 , L1142 , FUNCT_1:def 3;
L1146: ( C35 . ( D31 . R8 ) ) in { ( C34 . R8 ) } by L1145 , FUNCT_1:def 7;
L1147: ( C35 . ( D31 . R8 ) ) = ( C34 . R8 ) by L1146 , TARSKI:def 1;
L1148: ( C40 . R8 ) = ( D31 . R8 ) by L1093 , L1140;
thus L1149: ( C34 . R8 ) = ( ( C35 * C40 ) . R8 ) by L1148 , L1093 , L1140 , L1147 , FUNCT_1:13;
end;
thus L1150: thesis by L1139 , L1138 , FUNCT_1:2;
end;

given C42 being Function such that
L1151: ( dom C42 ) = ( dom C34 )
and
L1152: ( rng C42 ) = ( dom C35 )
and
L1153: C42 is  one-to-one
and
L1154: C34 = ( C35 * C42 );

let R8 being set;
set D32 = ( C42 | ( C34 " { R8 } ) );
L1155: D32 is  one-to-one by L1153 , FUNCT_1:52;
L1156: ( dom D32 ) = ( C34 " { R8 } ) by L1151 , RELAT_1:62 , RELAT_1:132;
L1157: ( rng D32 ) = ( C35 " { R8 } )
proof
thus L1158: ( rng D32 ) c= ( C35 " { R8 } )
proof
let C43 being set;
assume L1159: C43 in ( rng D32 );
consider R9 being set such that L1160: R9 in ( dom D32 ) and L1161: ( D32 . R9 ) = C43 by L1159 , FUNCT_1:def 3;
L1162: ( C34 . R9 ) in { R8 } by L1156 , L1160 , FUNCT_1:def 7;
L1163: ( C34 . R9 ) = R8 by L1162 , TARSKI:def 1;
L1164: C43 = ( C42 . R9 ) by L1160 , L1161 , FUNCT_1:47;
L1165: ( dom D32 ) = ( ( dom C42 ) /\ ( C34 " { R8 } ) ) by RELAT_1:61;
L1166: R9 in ( dom C42 ) by L1165 , L1160 , XBOOLE_0:def 4;
L1167: C43 in ( dom C35 ) by L1166 , L1152 , L1164 , FUNCT_1:def 3;
L1168: R8 = ( C35 . C43 ) by L1154 , L1163 , L1164 , L1166 , FUNCT_1:13;
L1169: ( C35 . C43 ) in { R8 } by L1168 , TARSKI:def 1;
thus L1170: thesis by L1169 , L1167 , FUNCT_1:def 7;
end;

let C44 being set;
assume L1171: C44 in ( C35 " { R8 } );
L1172: C44 in ( dom C35 ) by L1171 , FUNCT_1:def 7;
L1173: ( C35 . C44 ) in { R8 } by L1171 , FUNCT_1:def 7;
L1174: ( C35 . C44 ) = R8 by L1173 , TARSKI:def 1;
consider R9 being set such that L1175: R9 in ( dom C42 ) and L1176: ( C42 . R9 ) = C44 by L1152 , L1172 , FUNCT_1:def 3;
L1177: ( C34 . R9 ) = R8 by L1154 , L1174 , L1175 , L1176 , FUNCT_1:13;
L1178: ( C34 . R9 ) in { R8 } by L1177 , TARSKI:def 1;
L1179: R9 in ( dom D32 ) by L1178 , L1151 , L1156 , L1175 , FUNCT_1:def 7;
L1180: ( D32 . R9 ) in ( rng D32 ) by L1179 , FUNCT_1:def 3;
thus L1181: thesis by L1180 , L1176 , L1179 , FUNCT_1:47;
end;
L1182: ( C34 " { R8 } ) , ( C35 " { R8 } ) are_equipotent  by L1157 , L1155 , L1156 , WELLORD2:def 4;
thus L1183: thesis by L1182 , CARD_1:5;
end;
theorem
L1184: (for B41 , B42 being Function holds (B41 , B42 are_fiberwise_equipotent  iff (for B43 being set holds ( card ( B41 " B43 ) ) = ( card ( B42 " B43 ) ))))
proof
let C45 , C46 being Function;
thus L1185: (C45 , C46 are_fiberwise_equipotent  implies (for B44 being set holds ( card ( C45 " B44 ) ) = ( card ( C46 " B44 ) )))
proof
assume L1186: C45 , C46 are_fiberwise_equipotent ;
consider C47 being Function such that L1187: ( dom C47 ) = ( dom C45 ) and L1188: ( rng C47 ) = ( dom C46 ) and L1189: C47 is  one-to-one and L1190: C45 = ( C46 * C47 ) by L1186 , L1071;
let C48 being set;
set D33 = ( C47 | ( C45 " C48 ) );
L1191: D33 is  one-to-one by L1189 , FUNCT_1:52;
L1192: ( dom D33 ) = ( C45 " C48 ) by L1187 , RELAT_1:62 , RELAT_1:132;
L1193: ( rng D33 ) = ( C46 " C48 )
proof
thus L1194: ( rng D33 ) c= ( C46 " C48 )
proof
let C49 being set;
assume L1195: C49 in ( rng D33 );
consider R9 being set such that L1196: R9 in ( dom D33 ) and L1197: ( D33 . R9 ) = C49 by L1195 , FUNCT_1:def 3;
L1198: ( C45 . R9 ) in C48 by L1192 , L1196 , FUNCT_1:def 7;
L1199: C49 = ( C47 . R9 ) by L1196 , L1197 , FUNCT_1:47;
L1200: ( dom D33 ) = ( ( dom C47 ) /\ ( C45 " C48 ) ) by RELAT_1:61;
L1201: R9 in ( dom C47 ) by L1200 , L1196 , XBOOLE_0:def 4;
L1202: C49 in ( dom C46 ) by L1201 , L1188 , L1199 , FUNCT_1:def 3;
L1203: ( C46 . C49 ) in C48 by L1190 , L1198 , L1199 , L1201 , FUNCT_1:13;
thus L1204: thesis by L1203 , L1202 , FUNCT_1:def 7;
end;

let C50 being set;
assume L1205: C50 in ( C46 " C48 );
L1206: C50 in ( dom C46 ) by L1205 , FUNCT_1:def 7;
L1207: ( C46 . C50 ) in C48 by L1205 , FUNCT_1:def 7;
consider R9 being set such that L1208: R9 in ( dom C47 ) and L1209: ( C47 . R9 ) = C50 by L1188 , L1206 , FUNCT_1:def 3;
L1210: ( C45 . R9 ) in C48 by L1190 , L1207 , L1208 , L1209 , FUNCT_1:13;
L1211: R9 in ( dom D33 ) by L1210 , L1187 , L1192 , L1208 , FUNCT_1:def 7;
L1212: ( D33 . R9 ) in ( rng D33 ) by L1211 , FUNCT_1:def 3;
thus L1213: thesis by L1212 , L1209 , L1211 , FUNCT_1:47;
end;
L1214: ( C45 " C48 ) , ( C46 " C48 ) are_equipotent  by L1193 , L1191 , L1192 , WELLORD2:def 4;
thus L1215: thesis by L1214 , CARD_1:5;
end;

assume L1216: (for B45 being set holds ( card ( C45 " B45 ) ) = ( card ( C46 " B45 ) ));
thus L1217: (for R8 being set holds ( card ( Coim (C45 , R8) ) ) = ( card ( Coim (C46 , R8) ) )) by L1216;
end;
theorem
L1218: (for B46 being non  empty set holds (for B47 , B48 being Function holds ((( rng B47 ) c= B46 & ( rng B48 ) c= B46 & (for B49 being (Element of B46) holds ( card ( Coim (B47 , B49) ) ) = ( card ( Coim (B48 , B49) ) ))) implies B47 , B48 are_fiberwise_equipotent )))
proof
let C51 being non  empty set;
let C52 , C53 being Function;
assume that
L1219: ( rng C52 ) c= C51
and
L1220: ( rng C53 ) c= C51;
assume L1221: (for B50 being (Element of C51) holds ( card ( Coim (C52 , B50) ) ) = ( card ( Coim (C53 , B50) ) ));
let R8 being set;
per cases ;
suppose L1222: (not R8 in ( rng C52 ));

L1223: ( Coim (C52 , R8) ) = ( {} ) by L1222 , L1041;
L1224:
now
assume L1225: R8 in ( rng C53 );
reconsider D34 = R8 as (Element of C51) by L1225 , L1220;
L1226: ( card ( Coim (C53 , D34) ) ) = ( card ( Coim (C52 , D34) ) ) by L1221;
L1227: ( C53 " { D34 } ) , ( C52 " { D34 } ) are_equipotent  by L1226 , CARD_1:5;
L1228: ( C53 " { R8 } ) = ( {} ) by L1227 , L1223 , CARD_1:26;
consider R9 being set such that L1229: R9 in ( dom C53 ) and L1230: ( C53 . R9 ) = R8 by L1225 , FUNCT_1:def 3;
L1231: ( C53 . R9 ) in { R8 } by L1230 , TARSKI:def 1;
thus L1232: contradiction by L1231 , L1228 , L1229 , FUNCT_1:def 7;
end;
thus L1233: thesis by L1224 , L1223 , L1041;
end;
suppose L1234: R8 in ( rng C52 );

reconsider D35 = R8 as (Element of C51) by L1234 , L1219;
L1235: ( card ( Coim (C52 , D35) ) ) = ( card ( Coim (C53 , D35) ) ) by L1221;
thus L1236: thesis by L1235;
end;
end;
theorem
L1238: (for B51 , B52 being Function holds (( dom B51 ) = ( dom B52 ) implies (B51 , B52 are_fiberwise_equipotent  iff (ex B53 being (Permutation of ( dom B51 )) st B51 = ( B52 * B53 )))))
proof
let C54 , C55 being Function;
assume L1239: ( dom C54 ) = ( dom C55 );
thus L1240: (C54 , C55 are_fiberwise_equipotent  implies (ex B54 being (Permutation of ( dom C54 )) st C54 = ( C55 * B54 )))
proof
assume L1241: C54 , C55 are_fiberwise_equipotent ;
consider C56 being Function such that L1242: ( dom C56 ) = ( dom C54 ) and L1243: ( rng C56 ) = ( dom C55 ) and L1244: C56 is  one-to-one and L1245: C54 = ( C55 * C56 ) by L1241 , L1071;
reconsider D36 = C56 as (Function of ( dom C54 ) , ( dom C54 )) by L1239 , L1242 , L1243 , FUNCT_2:2;
reconsider D37 = D36 as (Permutation of ( dom C54 )) by L1239 , L1243 , L1244 , FUNCT_2:57;
take D37;
thus L1246: thesis by L1245;
end;

given C57 being (Permutation of ( dom C54 )) such that
L1247: C54 = ( C55 * C57 );

L1248: ((C57 is (Function of ( dom C54 ) , ( dom C54 )) & ( dom C54 ) = ( {} )) implies ( dom C54 ) = ( {} ));
L1249: (( rng C57 ) = ( dom C54 ) & ( dom C57 ) = ( dom C54 )) by L1248 , FUNCT_2:def 1 , FUNCT_2:def 3;
thus L1250: thesis by L1249 , L1239 , L1247 , L1071;
end;
theorem
L1251: (for B55 , B56 being Function holds (B55 , B56 are_fiberwise_equipotent  implies ( card ( dom B55 ) ) = ( card ( dom B56 ) )))
proof
let C58 , C59 being Function;
assume L1252: C58 , C59 are_fiberwise_equipotent ;
L1253: (( card ( C58 " ( rng C58 ) ) ) = ( card ( C59 " ( rng C58 ) ) ) & ( rng C58 ) = ( rng C59 )) by L1252 , L1048 , L1184;
thus L1254: ( card ( dom C58 ) ) = ( card ( C59 " ( rng C59 ) ) ) by L1253 , RELAT_1:134
.= ( card ( dom C59 ) ) by RELAT_1:134;
end;
theorem
L1255: (for B57 being set holds (for B58 being Relation holds (for B59 being set holds (B59 in ( rng B58 ) implies ( the_rank_of B59 ) in ( the_rank_of [ B58 , B57 ] )))))
proof
let C60 being set;
let C61 being Relation;
let C62 being set;
assume L1256: C62 in ( rng C61 );
consider C63 being set such that L1257: [ C63 , C62 ] in C61 by L1256 , XTUPLE_0:def 13;
L1258: C61 in { C61 , C60 } by TARSKI:def 2;
L1259: { C61 , C60 } in { { C61 , C60 } , { C61 } } by TARSKI:def 2;
L1260: C62 in { C63 , C62 } by TARSKI:def 2;
L1261: { C63 , C62 } in { { C63 , C62 } , { C63 } } by TARSKI:def 2;
L1262: ( the_rank_of C62 ) in ( the_rank_of { C63 , C62 } ) by L1260 , L934;
L1263: ( the_rank_of { C63 , C62 } ) in ( the_rank_of [ C63 , C62 ] ) by L1261 , L934;
L1264: ( the_rank_of C61 ) in ( the_rank_of { C61 , C60 } ) by L1258 , L934;
L1265: ( the_rank_of { C61 , C60 } ) in ( the_rank_of [ C61 , C60 ] ) by L1259 , L934;
L1266: ( the_rank_of C62 ) in ( the_rank_of [ C63 , C62 ] ) by L1262 , L1263 , ORDINAL1:10;
L1267: ( the_rank_of [ C63 , C62 ] ) in ( the_rank_of C61 ) by L1257 , L934;
L1268: ( the_rank_of C61 ) in ( the_rank_of [ C61 , C60 ] ) by L1264 , L1265 , ORDINAL1:10;
L1269: ( the_rank_of C62 ) in ( the_rank_of C61 ) by L1266 , L1267 , ORDINAL1:10;
thus L1270: thesis by L1269 , L1268 , ORDINAL1:10;
end;
theorem
L1271: (for B60 , B61 , B62 being Function holds ((( dom B60 ) = ( dom B61 ) & ( rng B60 ) c= ( dom B62 ) & ( rng B61 ) c= ( dom B62 ) & B60 , B61 are_fiberwise_equipotent ) implies ( B62 * B60 ) , ( B62 * B61 ) are_fiberwise_equipotent ))
proof
let C64 , C65 , C66 being Function;
assume that
L1272: ( dom C64 ) = ( dom C65 )
and
L1273: ( rng C64 ) c= ( dom C66 )
and
L1274: ( rng C65 ) c= ( dom C66 )
and
L1275: C64 , C65 are_fiberwise_equipotent ;
consider C67 being (Permutation of ( dom C64 )) such that L1276: C64 = ( C65 * C67 ) by L1272 , L1275 , L1238;
L1277: ( dom ( C66 * C64 ) ) = ( dom C64 ) by L1273 , RELAT_1:27;
L1278: ( dom ( C66 * C65 ) ) = ( dom C65 ) by L1274 , RELAT_1:27;
L1279: ( C66 * C64 ) = ( ( C66 * C65 ) * C67 ) by L1276 , RELAT_1:36;
thus L1280: thesis by L1279 , L1272 , L1277 , L1278 , L1238;
end;
