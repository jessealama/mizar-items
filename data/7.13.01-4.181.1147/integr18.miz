:: Riemann Integral of Functions from $\mathbbbR$ into Real Normed Space
::  by Keiichi Miyajima , Takahiro Kato and Yasunari Shidama
::
:: Received May 20, 2010
:: Copyright (c) 2010-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies INTEGRA1, INTEGRA2, FINSEQ_1, NORMSP_1, SEQ_2, TARSKI, STRUCT_0,
      ORDINAL2, INTEGRA5, XBOOLE_0, SUBSET_1, ORDINAL1, NUMBERS, ARYTM_1,
      NAT_1, MEASURE7, CARD_3, RELAT_1, FUNCT_1, REAL_1, XXREAL_0, XREAL_0,
      XXREAL_1, VALUED_1, PARTFUN1, RLVECT_1, FUNCT_3, INTEGR15, PRE_TOPC,
      ARYTM_3, CARD_1, SUPINF_2, SEQ_4, MEASURE5;
 notations TARSKI, XBOOLE_0, SUBSET_1, FUNCT_1, ORDINAL1, RELSET_1, PARTFUN1,
      FUNCT_2, NUMBERS, XXREAL_0, XREAL_0, REAL_1, NAT_1, FINSEQ_1, FINSEQ_2,
      SEQ_2, SEQ_4, RCOMP_1, MEASURE5, INTEGRA1, INTEGRA2, INTEGRA3, INTEGRA5,
      STRUCT_0, PRE_TOPC, RLVECT_1, VFUNCT_1, NORMSP_0, NORMSP_1, BINOM;
 constructors REAL_1, SEQ_4, VFUNCT_1, RELSET_1, INTEGRA2, INTEGRA5, INTEGRA3,
      SEQ_2, BINOM, COMSEQ_2;
 registrations NUMBERS, XREAL_0, STRUCT_0, RELSET_1, INTEGRA1, FUNCT_2,
      XXREAL_0, ORDINAL1, FUNCT_1, MEASURE5, FINSEQ_1;
 requirements REAL, NUMERALS, BOOLE, SUBSET, ARITHM;
 definitions XBOOLE_0, INTEGRA1;
 theorems XBOOLE_0, XBOOLE_1, INTEGRA1, INTEGRA2, INTEGRA4, RELSET_1, BINOM,
      XXREAL_0, RELAT_1, FINSEQ_1, FUNCT_1, FUNCT_2, PARTFUN1, INTEGRA5,
      NORMSP_1, VFUNCT_1, RLVECT_1, RLVECT_2, FINSEQ_3, MEASURE5;
 schemes FUNCT_2, FINSEQ_1;

begin
definition
let C1 being RealNormSpace;
let C2 being non  empty  closed_interval (Subset of ( REAL ));
let C3 being (Function of C2 , (the carrier of C1));
let C4 being (Division of C2);
mode middle_volume of C3 , C4
 -> (FinSequence of C1)
means :L1: (( len it ) = ( len C4 ) & (for B1 being Nat holds (B1 in ( dom C4 ) implies (ex B2 being (Point of C1) st (B2 in ( rng ( C3 | ( divset (C4 , B1) ) ) ) & ( it . B1 ) = ( ( vol ( divset (C4 , B1) ) ) * B2 ))))));
correctness
proof
defpred S1[ Nat , set ] means (ex B3 being (Point of C1) st (B3 in ( rng ( C3 | ( divset (C4 , $1) ) ) ) & $2 = ( ( vol ( divset (C4 , $1) ) ) * B3 )));
L2: ( Seg ( len C4 ) ) = ( dom C4 ) by FINSEQ_1:def 3;
L3: (for B4 being Nat holds (B4 in ( Seg ( len C4 ) ) implies (ex B5 being (Element of (the carrier of C1)) st S1[ B4 , B5 ])))
proof
let C5 being Nat;
assume L4: C5 in ( Seg ( len C4 ) );
L5: C5 in ( dom C4 ) by L4 , FINSEQ_1:def 3;
L6: ( dom C3 ) = C2 by FUNCT_2:def 1;
L7: ( dom ( C3 | ( divset (C4 , C5) ) ) ) = ( divset (C4 , C5) ) by L6 , L5 , INTEGRA1:8 , RELAT_1:62;
L8: ( rng ( C3 | ( divset (C4 , C5) ) ) ) is non  empty by L7 , RELAT_1:42;
consider C6 being set such that L9: C6 in ( rng ( C3 | ( divset (C4 , C5) ) ) ) by L8 , XBOOLE_0:def 1;
reconsider D1 = C6 as (Point of C1) by L9;
L10: ( ( vol ( divset (C4 , C5) ) ) * D1 ) is (Element of (the carrier of C1));
thus L11: thesis by L10 , L9;
end;
consider C7 being (FinSequence of (the carrier of C1)) such that L12: (( dom C7 ) = ( Seg ( len C4 ) ) & (for B6 being Nat holds (B6 in ( Seg ( len C4 ) ) implies S1[ B6 , ( C7 . B6 ) ]))) from FINSEQ_1:sch 5(L3);
L13: ( len C7 ) = ( len C4 ) by L12 , FINSEQ_1:def 3;
thus L14: thesis by L13 , L12 , L2;
end;
end;
definition
let C8 being RealNormSpace;
let C9 being non  empty  closed_interval (Subset of ( REAL ));
let C10 being (Function of C9 , (the carrier of C8));
let C11 being (Division of C9);
let C12 being (middle_volume of C10 , C11);
func middle_sum (C10 , C12) -> (Point of C8) equals 
( Sum C12 );
coherence;
end;
definition
let C13 being RealNormSpace;
let C14 being non  empty  closed_interval (Subset of ( REAL ));
let C15 being (Function of C14 , (the carrier of C13));
let C16 being (DivSequence of C14);
mode middle_volume_Sequence of C15 , C16
 -> (Function of ( NAT ) , ( (the carrier of C13) * ))
means :L17: (for B7 being (Element of ( NAT )) holds ( it . B7 ) is (middle_volume of C15 , ( C16 . B7 )));
correctness
proof
defpred S2[ (Element of ( NAT )) , set ] means $2 is (middle_volume of C15 , ( C16 . $1 ));
L18: (for B8 being (Element of ( NAT )) holds (ex B9 being (Element of ( (the carrier of C13) * )) st S2[ B8 , B9 ]))
proof
let C17 being (Element of ( NAT ));
set D2 = the (middle_volume of C15 , ( C16 . C17 ));
reconsider D3 = D2 as (Element of ( (the carrier of C13) * )) by FINSEQ_1:def 11;
L19: D3 is (middle_volume of C15 , ( C16 . C17 ));
thus L20: thesis by L19;
end;
L21: (ex B10 being (Function of ( NAT ) , ( (the carrier of C13) * )) st (for B11 being (Element of ( NAT )) holds S2[ B11 , ( B10 . B11 ) ])) from FUNCT_2:sch 3(L18);
thus L22: thesis by L21;
end;
end;
definition
let C18 being RealNormSpace;
let C19 being non  empty  closed_interval (Subset of ( REAL ));
let C20 being (Function of C19 , (the carrier of C18));
let C21 being (DivSequence of C19);
let C22 being (middle_volume_Sequence of C20 , C21);
let C23 being (Element of ( NAT ));
redefine func C22 . C23 -> (middle_volume of C20 , ( C21 . C23 ));

coherence by L17;
end;
definition
let C24 being RealNormSpace;
let C25 being non  empty  closed_interval (Subset of ( REAL ));
let C26 being (Function of C25 , (the carrier of C24));
let C27 being (DivSequence of C25);
let C28 being (middle_volume_Sequence of C26 , C27);
func middle_sum (C26 , C28) -> (sequence of C24) means 
:L25: (for B12 being (Element of ( NAT )) holds ( it . B12 ) = ( middle_sum (C26 , ( C28 . B12 )) ));
existence
proof
deffunc H1((Element of ( NAT ))) = ( middle_sum (C26 , ( C28 . $1 )) );
thus L26: (ex B13 being (sequence of (the carrier of C24)) st (for B14 being (Element of ( NAT )) holds ( B13 . B14 ) = H1(B14))) from FUNCT_2:sch 4;
end;
uniqueness
proof
let C29 , C30 being (sequence of C24);
assume that
L27: (for B15 being (Element of ( NAT )) holds ( C29 . B15 ) = ( middle_sum (C26 , ( C28 . B15 )) ))
and
L28: (for B16 being (Element of ( NAT )) holds ( C30 . B16 ) = ( middle_sum (C26 , ( C28 . B16 )) ));
L29: (for B17 being (Element of ( NAT )) holds ( C29 . B17 ) = ( C30 . B17 ))
proof
let C31 being (Element of ( NAT ));
L30: ( C29 . C31 ) = ( middle_sum (C26 , ( C28 . C31 )) ) by L27
.= ( C30 . C31 ) by L28;
thus L31: ( C29 . C31 ) = ( C30 . C31 ) by L30;
end;
thus L32: C29 = C30 by L29 , FUNCT_2:63;
end;
end;
begin
definition
let C32 being RealNormSpace;
let C33 being non  empty  closed_interval (Subset of ( REAL ));
let C34 being (Function of C33 , (the carrier of C32));
attr C34 is  integrable
means
:L34: (ex B18 being (Point of C32) st (for B19 being (DivSequence of C33) holds (for B20 being (middle_volume_Sequence of C34 , B19) holds ((( delta B19 ) is  convergent & ( lim ( delta B19 ) ) = ( 0 )) implies (( middle_sum (C34 , B20) ) is  convergent & ( lim ( middle_sum (C34 , B20) ) ) = B18)))));
end;
theorem
L36: (for B21 being RealNormSpace holds (for B22 , B23 , B24 being (FinSequence of B21) holds ((( len B22 ) = ( len B23 ) & B24 = ( B22 + B23 )) implies ( Sum B24 ) = ( ( Sum B22 ) + ( Sum B23 ) ))))
proof
let C35 being RealNormSpace;
let C36 , C37 , C38 being (FinSequence of C35);
assume L37: (( len C36 ) = ( len C37 ) & C38 = ( C36 + C37 ));
L38: ( dom C36 ) = ( dom C37 ) by L37 , FINSEQ_3:29;
thus L39: ( Sum C38 ) = ( ( Sum C36 ) + ( Sum C37 ) ) by L38 , L37 , BINOM:7;
end;
theorem
L40: (for B25 being RealNormSpace holds (for B26 , B27 , B28 being (FinSequence of B25) holds ((( len B26 ) = ( len B27 ) & B28 = ( B26 - B27 )) implies ( Sum B28 ) = ( ( Sum B26 ) - ( Sum B27 ) ))))
proof
let C39 being RealNormSpace;
let C40 , C41 , C42 being (FinSequence of C39);
assume L41: (( len C40 ) = ( len C41 ) & C42 = ( C40 - C41 ));
L42: ( dom C40 ) = ( dom C41 ) by L41 , FINSEQ_3:29;
L43: ( dom C42 ) = ( ( dom C40 ) /\ ( dom C41 ) ) by L41 , VFUNCT_1:def 2
.= ( dom C40 ) by L42;
L44: ( len C42 ) = ( len C40 ) by L43 , FINSEQ_3:29;
L45: (for B29 being (Element of ( NAT )) holds (B29 in ( dom C40 ) implies ( C42 . B29 ) = ( ( C40 /. B29 ) - ( C41 /. B29 ) )))
proof
let C43 being (Element of ( NAT ));
assume L46: C43 in ( dom C40 );
thus L47: ( C42 . C43 ) = ( C42 /. C43 ) by L46 , L43 , PARTFUN1:def 6
.= ( ( C40 /. C43 ) - ( C41 /. C43 ) ) by L41 , L46 , L43 , VFUNCT_1:def 2;
end;
thus L48: thesis by L41 , L44 , L45 , RLVECT_2:5;
end;
theorem
L49: (for B30 being RealNormSpace holds (for B31 , B32 being (FinSequence of B30) holds (for B33 being (Element of ( REAL )) holds (B32 = ( B33 (#) B31 ) implies ( Sum B32 ) = ( B33 * ( Sum B31 ) )))))
proof
let C44 being RealNormSpace;
let C45 , C46 being (FinSequence of C44);
let C47 being (Element of ( REAL ));
assume L50: C46 = ( C47 (#) C45 );
L51: ( dom C46 ) = ( dom C45 ) by L50 , VFUNCT_1:def 4;
L52: ( len C46 ) = ( len C45 ) by L51 , FINSEQ_3:29;
L53: (for B34 being (Element of ( NAT )) holds (B34 in ( dom C45 ) implies ( C46 . B34 ) = ( C47 * ( C45 /. B34 ) )))
proof
let C48 being (Element of ( NAT ));
assume L54: C48 in ( dom C45 );
L55: C48 in ( dom C46 ) by L54 , L50 , VFUNCT_1:def 4;
thus L56: ( C46 . C48 ) = ( C46 /. C48 ) by L55 , PARTFUN1:def 6
.= ( C47 * ( C45 /. C48 ) ) by L55 , L50 , VFUNCT_1:def 4;
end;
thus L57: thesis by L52 , L53 , RLVECT_2:3;
end;
definition
let C49 being RealNormSpace;
let C50 being non  empty  closed_interval (Subset of ( REAL ));
let C51 being (Function of C50 , (the carrier of C49));
assume L58: C51 is  integrable;
func integral C51 -> (Point of C49) means 
:L59: (for B35 being (DivSequence of C50) holds (for B36 being (middle_volume_Sequence of C51 , B35) holds ((( delta B35 ) is  convergent & ( lim ( delta B35 ) ) = ( 0 )) implies (( middle_sum (C51 , B36) ) is  convergent & ( lim ( middle_sum (C51 , B36) ) ) = it))));
existence by L58 , L34;
uniqueness
proof
let C52 , C53 being (Point of C49);
assume L60: (for B37 being (DivSequence of C50) holds (for B38 being (middle_volume_Sequence of C51 , B37) holds ((( delta B37 ) is  convergent & ( lim ( delta B37 ) ) = ( 0 )) implies (( middle_sum (C51 , B38) ) is  convergent & ( lim ( middle_sum (C51 , B38) ) ) = C52))));
assume L61: (for B39 being (DivSequence of C50) holds (for B40 being (middle_volume_Sequence of C51 , B39) holds ((( delta B39 ) is  convergent & ( lim ( delta B39 ) ) = ( 0 )) implies (( middle_sum (C51 , B40) ) is  convergent & ( lim ( middle_sum (C51 , B40) ) ) = C53))));
consider C54 being (DivSequence of C50) such that L62: (( delta C54 ) is  convergent & ( lim ( delta C54 ) ) = ( 0 )) by INTEGRA4:11;
set D4 = the (middle_volume_Sequence of C51 , C54);
thus L63: C52 = ( lim ( middle_sum (C51 , D4) ) ) by L60 , L62
.= C53 by L61 , L62;
end;
end;
theorem
L65: (for B41 being RealNormSpace holds (for B42 being non  empty  closed_interval (Subset of ( REAL )) holds (for B43 being Real holds (for B44 , B45 being (Function of B42 , (the carrier of B41)) holds ((B45 = ( B43 (#) B44 ) & B44 is  integrable) implies (B45 is  integrable & ( integral B45 ) = ( B43 * ( integral B44 ) )))))))
proof
let C55 being RealNormSpace;
let C56 being non  empty  closed_interval (Subset of ( REAL ));
let C57 being Real;
let C58 , C59 being (Function of C56 , (the carrier of C55));
assume L66: (C59 = ( C57 (#) C58 ) & C58 is  integrable);
L67: (( dom C59 ) = C56 & ( dom C58 ) = C56) by FUNCT_2:def 1;
L68:
now
let C60 being (DivSequence of C56);
let C61 being (middle_volume_Sequence of C59 , C60);
assume L69: (( delta C60 ) is  convergent & ( lim ( delta C60 ) ) = ( 0 ));
defpred S3[ (Element of ( NAT )) , set ] means (ex B46 being (FinSequence of ( REAL )) st (B46 = $2 & ( len B46 ) = ( len ( C60 . $1 ) ) & (for B47 being Nat holds (B47 in ( dom ( C60 . $1 ) ) implies (( B46 . B47 ) in ( dom ( C59 | ( divset (( C60 . $1 ) , B47) ) ) ) & (ex B48 being (Point of C55) st (B48 = ( ( C59 | ( divset (( C60 . $1 ) , B47) ) ) . ( B46 . B47 ) ) & ( ( C61 . $1 ) . B47 ) = ( ( vol ( divset (( C60 . $1 ) , B47) ) ) * B48 ))))))));
L70: (for B49 being (Element of ( NAT )) holds (ex B50 being (Element of ( ( REAL ) * )) st S3[ B49 , B50 ]))
proof
let C62 being (Element of ( NAT ));
defpred S4[ Nat , set ] means ($2 in ( dom ( C59 | ( divset (( C60 . C62 ) , $1) ) ) ) & (ex B51 being (Point of C55) st (B51 = ( ( C59 | ( divset (( C60 . C62 ) , $1) ) ) . $2 ) & ( ( C61 . C62 ) . $1 ) = ( ( vol ( divset (( C60 . C62 ) , $1) ) ) * B51 ))));
L71: ( Seg ( len ( C60 . C62 ) ) ) = ( dom ( C60 . C62 ) ) by FINSEQ_1:def 3;
L72: (for B52 being Nat holds (B52 in ( Seg ( len ( C60 . C62 ) ) ) implies (ex B53 being (Element of ( REAL )) st S4[ B52 , B53 ])))
proof
let C63 being Nat;
assume L73: C63 in ( Seg ( len ( C60 . C62 ) ) );
L74: C63 in ( dom ( C60 . C62 ) ) by L73 , FINSEQ_1:def 3;
consider C64 being (Point of C55) such that L75: (C64 in ( rng ( C59 | ( divset (( C60 . C62 ) , C63) ) ) ) & ( ( C61 . C62 ) . C63 ) = ( ( vol ( divset (( C60 . C62 ) , C63) ) ) * C64 )) by L74 , L1;
consider C65 being set such that L76: (C65 in ( dom ( C59 | ( divset (( C60 . C62 ) , C63) ) ) ) & C64 = ( ( C59 | ( divset (( C60 . C62 ) , C63) ) ) . C65 )) by L75 , FUNCT_1:def 3;
L77: (C65 in ( dom C59 ) & C65 in ( divset (( C60 . C62 ) , C63) )) by L76 , RELAT_1:57;
reconsider D5 = C65 as (Element of ( REAL )) by L77;
take D5;
thus L78: thesis by L75 , L76;
end;
consider C66 being (FinSequence of ( REAL )) such that L79: (( dom C66 ) = ( Seg ( len ( C60 . C62 ) ) ) & (for B54 being Nat holds (B54 in ( Seg ( len ( C60 . C62 ) ) ) implies S4[ B54 , ( C66 . B54 ) ]))) from FINSEQ_1:sch 5(L72);
take C66;
L80: ( len C66 ) = ( len ( C60 . C62 ) ) by L79 , FINSEQ_1:def 3;
thus L81: thesis by L80 , L79 , L71 , FINSEQ_1:def 11;
end;
consider C67 being (Function of ( NAT ) , ( ( REAL ) * )) such that L82: (for B55 being (Element of ( NAT )) holds S3[ B55 , ( C67 . B55 ) ]) from FUNCT_2:sch 3(L70);
defpred S5[ (Element of ( NAT )) , set ] means (ex B56 being (middle_volume of C58 , ( C60 . $1 )) st (B56 = $2 & (for B57 being Nat holds (B57 in ( dom ( C60 . $1 ) ) implies (ex B58 being (Point of C55) st (( ( C67 . $1 ) . B57 ) in ( dom ( C58 | ( divset (( C60 . $1 ) , B57) ) ) ) & B58 = ( ( C58 | ( divset (( C60 . $1 ) , B57) ) ) . ( ( C67 . $1 ) . B57 ) ) & ( B56 . B57 ) = ( ( vol ( divset (( C60 . $1 ) , B57) ) ) * B58 )))))));
L83: (for B59 being (Element of ( NAT )) holds (ex B60 being (Element of ( (the carrier of C55) * )) st S5[ B59 , B60 ]))
proof
let C68 being (Element of ( NAT ));
defpred S6[ Nat , set ] means (ex B61 being (Point of C55) st (( ( C67 . C68 ) . $1 ) in ( dom ( C58 | ( divset (( C60 . C68 ) , $1) ) ) ) & B61 = ( ( C58 | ( divset (( C60 . C68 ) , $1) ) ) . ( ( C67 . C68 ) . $1 ) ) & $2 = ( ( vol ( divset (( C60 . C68 ) , $1) ) ) * B61 )));
L84: ( Seg ( len ( C60 . C68 ) ) ) = ( dom ( C60 . C68 ) ) by FINSEQ_1:def 3;
L85: (for B62 being Nat holds (B62 in ( Seg ( len ( C60 . C68 ) ) ) implies (ex B63 being (Element of (the carrier of C55)) st S6[ B62 , B63 ])))
proof
let C69 being Nat;
assume L86: C69 in ( Seg ( len ( C60 . C68 ) ) );
L87: C69 in ( dom ( C60 . C68 ) ) by L86 , FINSEQ_1:def 3;
consider C70 being (FinSequence of ( REAL )) such that L88: (C70 = ( C67 . C68 ) & ( len C70 ) = ( len ( C60 . C68 ) ) & (for B64 being Nat holds (B64 in ( dom ( C60 . C68 ) ) implies (( C70 . B64 ) in ( dom ( C59 | ( divset (( C60 . C68 ) , B64) ) ) ) & (ex B65 being (Point of C55) st (B65 = ( ( C59 | ( divset (( C60 . C68 ) , B64) ) ) . ( C70 . B64 ) ) & ( ( C61 . C68 ) . B64 ) = ( ( vol ( divset (( C60 . C68 ) , B64) ) ) * B65 ))))))) by L82;
L89: ( C70 . C69 ) in ( dom ( C59 | ( divset (( C60 . C68 ) , C69) ) ) ) by L87 , L88;
L90: (( C70 . C69 ) in ( dom C59 ) & ( C70 . C69 ) in ( divset (( C60 . C68 ) , C69) )) by L89 , RELAT_1:57;
L91: ( C70 . C69 ) in ( dom ( C58 | ( divset (( C60 . C68 ) , C69) ) ) ) by L90 , L67 , RELAT_1:57;
L92: ( ( C58 | ( divset (( C60 . C68 ) , C69) ) ) . ( C70 . C69 ) ) in ( rng ( C58 | ( divset (( C60 . C68 ) , C69) ) ) ) by L91 , FUNCT_1:3;
reconsider D6 = ( ( C58 | ( divset (( C60 . C68 ) , C69) ) ) . ( C70 . C69 ) ) as (Element of (the carrier of C55)) by L92;
L93: ( ( C67 . C68 ) . C69 ) in ( dom ( C58 | ( divset (( C60 . C68 ) , C69) ) ) ) by L88 , L90 , L67 , RELAT_1:57;
L94: ( ( vol ( divset (( C60 . C68 ) , C69) ) ) * D6 ) is (Element of (the carrier of C55));
thus L95: thesis by L94 , L88 , L93;
end;
consider C71 being (FinSequence of (the carrier of C55)) such that L96: (( dom C71 ) = ( Seg ( len ( C60 . C68 ) ) ) & (for B66 being Nat holds (B66 in ( Seg ( len ( C60 . C68 ) ) ) implies S6[ B66 , ( C71 . B66 ) ]))) from FINSEQ_1:sch 5(L85);
L97: ( len C71 ) = ( len ( C60 . C68 ) ) by L96 , FINSEQ_1:def 3;
L98:
now
let C72 being Nat;
assume L99: C72 in ( dom ( C60 . C68 ) );
L100: C72 in ( Seg ( len ( C60 . C68 ) ) ) by L99 , FINSEQ_1:def 3;
consider C73 being (Point of C55) such that L101: (( ( C67 . C68 ) . C72 ) in ( dom ( C58 | ( divset (( C60 . C68 ) , C72) ) ) ) & C73 = ( ( C58 | ( divset (( C60 . C68 ) , C72) ) ) . ( ( C67 . C68 ) . C72 ) ) & ( C71 . C72 ) = ( ( vol ( divset (( C60 . C68 ) , C72) ) ) * C73 )) by L100 , L96;
thus L102: (ex B67 being (Point of C55) st (B67 in ( rng ( C58 | ( divset (( C60 . C68 ) , C72) ) ) ) & ( C71 . C72 ) = ( ( vol ( divset (( C60 . C68 ) , C72) ) ) * B67 ))) by L101 , FUNCT_1:3;
end;
reconsider D7 = C71 as (middle_volume of C58 , ( C60 . C68 )) by L98 , L97 , L1;
L103: D7 is (Element of ( (the carrier of C55) * )) by FINSEQ_1:def 11;
thus L104: thesis by L103 , L84 , L96;
end;
consider C74 being (Function of ( NAT ) , ( (the carrier of C55) * )) such that L105: (for B68 being (Element of ( NAT )) holds S5[ B68 , ( C74 . B68 ) ]) from FUNCT_2:sch 3(L83);
L106:
now
let C75 being (Element of ( NAT ));
L107: (ex B69 being (middle_volume of C58 , ( C60 . C75 )) st (B69 = ( C74 . C75 ) & (for B70 being Nat holds (B70 in ( dom ( C60 . C75 ) ) implies (ex B71 being (Point of C55) st (( ( C67 . C75 ) . B70 ) in ( dom ( C58 | ( divset (( C60 . C75 ) , B70) ) ) ) & B71 = ( ( C58 | ( divset (( C60 . C75 ) , B70) ) ) . ( ( C67 . C75 ) . B70 ) ) & ( B69 . B70 ) = ( ( vol ( divset (( C60 . C75 ) , B70) ) ) * B71 ))))))) by L105;
thus L108: ( C74 . C75 ) is (middle_volume of C58 , ( C60 . C75 )) by L107;
end;
reconsider D8 = C74 as (middle_volume_Sequence of C58 , C60) by L106 , L17;
L109: ( integral C58 ) is (Point of C55);
L110: ( middle_sum (C58 , D8) ) is  convergent by L109 , L59 , L66 , L69;
L111: ( C57 * ( middle_sum (C58 , D8) ) ) = ( middle_sum (C59 , C61) )
proof
L112:
now
let C76 being (Element of ( NAT ));
consider C77 being (FinSequence of ( REAL )) such that L113: (C77 = ( C67 . C76 ) & ( len C77 ) = ( len ( C60 . C76 ) ) & (for B72 being Nat holds (B72 in ( dom ( C60 . C76 ) ) implies (( C77 . B72 ) in ( dom ( C59 | ( divset (( C60 . C76 ) , B72) ) ) ) & (ex B73 being (Point of C55) st (B73 = ( ( C59 | ( divset (( C60 . C76 ) , B72) ) ) . ( C77 . B72 ) ) & ( ( C61 . C76 ) . B72 ) = ( ( vol ( divset (( C60 . C76 ) , B72) ) ) * B73 ))))))) by L82;
consider C78 being (middle_volume of C58 , ( C60 . C76 )) such that L114: (C78 = ( D8 . C76 ) & (for B74 being Nat holds (B74 in ( dom ( C60 . C76 ) ) implies (ex B75 being (Point of C55) st (( ( C67 . C76 ) . B74 ) in ( dom ( C58 | ( divset (( C60 . C76 ) , B74) ) ) ) & B75 = ( ( C58 | ( divset (( C60 . C76 ) , B74) ) ) . ( ( C67 . C76 ) . B74 ) ) & ( C78 . B74 ) = ( ( vol ( divset (( C60 . C76 ) , B74) ) ) * B75 )))))) by L105;
L115: (( len ( D8 . C76 ) ) = ( len ( C60 . C76 ) ) & ( len ( C61 . C76 ) ) = ( len ( C60 . C76 ) )) by L1;
L116: (( dom ( D8 . C76 ) ) = ( dom ( C60 . C76 ) ) & ( dom ( C61 . C76 ) ) = ( dom ( C60 . C76 ) )) by L115 , FINSEQ_3:29;
L117:
now
let C79 being (Element of ( NAT ));
assume L118: C79 in ( dom ( C61 . C76 ) );
reconsider D9 = C79 as Nat;
consider C80 being (Point of C55) such that L119: (C80 = ( ( C59 | ( divset (( C60 . C76 ) , D9) ) ) . ( ( C67 . C76 ) . D9 ) ) & ( ( C61 . C76 ) . D9 ) = ( ( vol ( divset (( C60 . C76 ) , D9) ) ) * C80 )) by L118 , L116 , L113;
consider C81 being (Point of C55) such that L120: (( ( C67 . C76 ) . D9 ) in ( dom ( C58 | ( divset (( C60 . C76 ) , D9) ) ) ) & C81 = ( ( C58 | ( divset (( C60 . C76 ) , D9) ) ) . ( ( C67 . C76 ) . D9 ) ) & ( C78 . D9 ) = ( ( vol ( divset (( C60 . C76 ) , D9) ) ) * C81 )) by L114 , L118 , L116;
L121: ( ( C67 . C76 ) . D9 ) in ( divset (( C60 . C76 ) , D9) ) by L120 , RELAT_1:57;
L122: ( ( C67 . C76 ) . D9 ) in C56 by L120;
L123: ( ( C67 . C76 ) . D9 ) in ( dom C59 ) by L122 , FUNCT_2:def 1;
L124: ( ( C67 . C76 ) . D9 ) in ( dom C58 ) by L120 , RELAT_1:57;
L125: ( C58 /. ( ( C67 . C76 ) . D9 ) ) = ( C58 . ( ( C67 . C76 ) . D9 ) ) by L124 , PARTFUN1:def 6
.= C81 by L120 , L121 , FUNCT_1:49;
L126: C80 = ( ( C59 | ( divset (( C60 . C76 ) , D9) ) ) . ( ( C67 . C76 ) . D9 ) ) by L119
.= ( C59 . ( ( C67 . C76 ) . D9 ) ) by L121 , FUNCT_1:49
.= ( C59 /. ( ( C67 . C76 ) . D9 ) ) by L123 , PARTFUN1:def 6
.= ( C57 * ( C58 /. ( ( C67 . C76 ) . D9 ) ) ) by L123 , L66 , VFUNCT_1:def 4
.= ( C57 * C81 ) by L125;
L127: ( ( vol ( divset (( C60 . C76 ) , D9) ) ) * C81 ) = ( ( D8 . C76 ) . C79 ) by L120 , L114
.= ( ( D8 . C76 ) /. C79 ) by L118 , L116 , PARTFUN1:def 6;
thus L128: ( ( C61 . C76 ) /. C79 ) = ( ( C61 . C76 ) . C79 ) by L118 , PARTFUN1:def 6
.= ( ( vol ( divset (( C60 . C76 ) , D9) ) ) * C80 ) by L119
.= ( ( vol ( divset (( C60 . C76 ) , D9) ) ) * ( C57 * C81 ) ) by L126
.= ( ( ( vol ( divset (( C60 . C76 ) , D9) ) ) * C57 ) * C81 ) by RLVECT_1:def 7
.= ( C57 * ( ( vol ( divset (( C60 . C76 ) , D9) ) ) * C81 ) ) by RLVECT_1:def 7
.= ( C57 * ( ( D8 . C76 ) /. C79 ) ) by L127;
end;
L129: ( C57 (#) ( D8 . C76 ) ) = ( C61 . C76 ) by L117 , L116 , VFUNCT_1:def 4;
thus L130: ( C57 * ( ( middle_sum (C58 , D8) ) . C76 ) ) = ( C57 * ( middle_sum (C58 , ( D8 . C76 )) ) ) by L25
.= ( C57 * ( Sum ( D8 . C76 ) ) )
.= ( Sum ( C61 . C76 ) ) by L129 , L49
.= ( middle_sum (C59 , ( C61 . C76 )) )
.= ( ( middle_sum (C59 , C61) ) . C76 ) by L25;
end;
thus L131: thesis by L112 , NORMSP_1:def 5;
end;
L132: ( lim ( C57 * ( middle_sum (C58 , D8) ) ) ) = ( C57 * ( lim ( middle_sum (C58 , D8) ) ) ) by L110 , NORMSP_1:28
.= ( C57 * ( integral C58 ) ) by L59 , L66 , L69;
thus L133: ( middle_sum (C59 , C61) ) is  convergent by L110 , L111 , NORMSP_1:22;
thus L134: ( lim ( middle_sum (C59 , C61) ) ) = ( C57 * ( integral C58 ) ) by L111 , L132;
end;
thus L135: C59 is  integrable by L68 , L34;
thus L136: ( integral C59 ) = ( C57 * ( integral C58 ) ) by L135 , L59 , L68;
end;
theorem
L137: (for B76 being RealNormSpace holds (for B77 being non  empty  closed_interval (Subset of ( REAL )) holds (for B78 , B79 being (Function of B77 , (the carrier of B76)) holds ((B79 = ( - B78 ) & B78 is  integrable) implies (B79 is  integrable & ( integral B79 ) = ( - ( integral B78 ) ))))))
proof
let C82 being RealNormSpace;
let C83 being non  empty  closed_interval (Subset of ( REAL ));
let C84 , C85 being (Function of C83 , (the carrier of C82));
assume L138: (C85 = ( - C84 ) & C84 is  integrable);
L139: C85 = ( ( - 1 ) (#) C84 ) by L138 , VFUNCT_1:23;
thus L140: C85 is  integrable by L139 , L138 , L65;
L141: ( integral C85 ) = ( ( - 1 ) * ( integral C84 ) ) by L138 , L139 , L65;
thus L142: ( integral C85 ) = ( - ( integral C84 ) ) by L141 , RLVECT_1:16;
end;
theorem
L143: (for B80 being RealNormSpace holds (for B81 being non  empty  closed_interval (Subset of ( REAL )) holds (for B82 , B83 , B84 being (Function of B81 , (the carrier of B80)) holds ((B84 = ( B82 + B83 ) & B82 is  integrable & B83 is  integrable) implies (B84 is  integrable & ( integral B84 ) = ( ( integral B82 ) + ( integral B83 ) ))))))
proof
let C86 being RealNormSpace;
let C87 being non  empty  closed_interval (Subset of ( REAL ));
let C88 , C89 , C90 being (Function of C87 , (the carrier of C86));
assume L144: (C90 = ( C88 + C89 ) & C88 is  integrable & C89 is  integrable);
L145: (( dom C90 ) = C87 & ( dom C88 ) = C87 & ( dom C89 ) = C87) by FUNCT_2:def 1;
L146:
now
let C91 being (DivSequence of C87);
let C92 being (middle_volume_Sequence of C90 , C91);
assume L147: (( delta C91 ) is  convergent & ( lim ( delta C91 ) ) = ( 0 ));
defpred S7[ (Element of ( NAT )) , set ] means (ex B85 being (FinSequence of ( REAL )) st (B85 = $2 & ( len B85 ) = ( len ( C91 . $1 ) ) & (for B86 being Nat holds (B86 in ( dom ( C91 . $1 ) ) implies (( B85 . B86 ) in ( dom ( C90 | ( divset (( C91 . $1 ) , B86) ) ) ) & (ex B87 being (Point of C86) st (B87 = ( ( C90 | ( divset (( C91 . $1 ) , B86) ) ) . ( B85 . B86 ) ) & ( ( C92 . $1 ) . B86 ) = ( ( vol ( divset (( C91 . $1 ) , B86) ) ) * B87 ))))))));
L148: (for B88 being (Element of ( NAT )) holds (ex B89 being (Element of ( ( REAL ) * )) st S7[ B88 , B89 ]))
proof
let C93 being (Element of ( NAT ));
defpred S8[ Nat , set ] means ($2 in ( dom ( C90 | ( divset (( C91 . C93 ) , $1) ) ) ) & (ex B90 being (Point of C86) st (B90 = ( ( C90 | ( divset (( C91 . C93 ) , $1) ) ) . $2 ) & ( ( C92 . C93 ) . $1 ) = ( ( vol ( divset (( C91 . C93 ) , $1) ) ) * B90 ))));
L149: ( Seg ( len ( C91 . C93 ) ) ) = ( dom ( C91 . C93 ) ) by FINSEQ_1:def 3;
L150: (for B91 being Nat holds (B91 in ( Seg ( len ( C91 . C93 ) ) ) implies (ex B92 being (Element of ( REAL )) st S8[ B91 , B92 ])))
proof
let C94 being Nat;
assume L151: C94 in ( Seg ( len ( C91 . C93 ) ) );
L152: C94 in ( dom ( C91 . C93 ) ) by L151 , FINSEQ_1:def 3;
consider C95 being (Point of C86) such that L153: (C95 in ( rng ( C90 | ( divset (( C91 . C93 ) , C94) ) ) ) & ( ( C92 . C93 ) . C94 ) = ( ( vol ( divset (( C91 . C93 ) , C94) ) ) * C95 )) by L152 , L1;
consider C96 being set such that L154: (C96 in ( dom ( C90 | ( divset (( C91 . C93 ) , C94) ) ) ) & C95 = ( ( C90 | ( divset (( C91 . C93 ) , C94) ) ) . C96 )) by L153 , FUNCT_1:def 3;
L155: (C96 in ( dom C90 ) & C96 in ( divset (( C91 . C93 ) , C94) )) by L154 , RELAT_1:57;
reconsider D10 = C96 as (Element of ( REAL )) by L155;
take D10;
thus L156: thesis by L153 , L154;
end;
consider C97 being (FinSequence of ( REAL )) such that L157: (( dom C97 ) = ( Seg ( len ( C91 . C93 ) ) ) & (for B93 being Nat holds (B93 in ( Seg ( len ( C91 . C93 ) ) ) implies S8[ B93 , ( C97 . B93 ) ]))) from FINSEQ_1:sch 5(L150);
take C97;
L158: ( len C97 ) = ( len ( C91 . C93 ) ) by L157 , FINSEQ_1:def 3;
thus L159: thesis by L158 , L157 , L149 , FINSEQ_1:def 11;
end;
consider C98 being (Function of ( NAT ) , ( ( REAL ) * )) such that L160: (for B94 being (Element of ( NAT )) holds S7[ B94 , ( C98 . B94 ) ]) from FUNCT_2:sch 3(L148);
defpred S9[ (Element of ( NAT )) , set ] means (ex B95 being (middle_volume of C88 , ( C91 . $1 )) st (B95 = $2 & (for B96 being Nat holds (B96 in ( dom ( C91 . $1 ) ) implies (ex B97 being (Point of C86) st (( ( C98 . $1 ) . B96 ) in ( dom ( C88 | ( divset (( C91 . $1 ) , B96) ) ) ) & B97 = ( ( C88 | ( divset (( C91 . $1 ) , B96) ) ) . ( ( C98 . $1 ) . B96 ) ) & ( B95 . B96 ) = ( ( vol ( divset (( C91 . $1 ) , B96) ) ) * B97 )))))));
L161: (for B98 being (Element of ( NAT )) holds (ex B99 being (Element of ( (the carrier of C86) * )) st S9[ B98 , B99 ]))
proof
let C99 being (Element of ( NAT ));
defpred S10[ Nat , set ] means (ex B100 being (Point of C86) st (( ( C98 . C99 ) . $1 ) in ( dom ( C88 | ( divset (( C91 . C99 ) , $1) ) ) ) & B100 = ( ( C88 | ( divset (( C91 . C99 ) , $1) ) ) . ( ( C98 . C99 ) . $1 ) ) & $2 = ( ( vol ( divset (( C91 . C99 ) , $1) ) ) * B100 )));
L162: ( Seg ( len ( C91 . C99 ) ) ) = ( dom ( C91 . C99 ) ) by FINSEQ_1:def 3;
L163: (for B101 being Nat holds (B101 in ( Seg ( len ( C91 . C99 ) ) ) implies (ex B102 being (Element of (the carrier of C86)) st S10[ B101 , B102 ])))
proof
let C100 being Nat;
assume L164: C100 in ( Seg ( len ( C91 . C99 ) ) );
L165: C100 in ( dom ( C91 . C99 ) ) by L164 , FINSEQ_1:def 3;
consider C101 being (FinSequence of ( REAL )) such that L166: (C101 = ( C98 . C99 ) & ( len C101 ) = ( len ( C91 . C99 ) ) & (for B103 being Nat holds (B103 in ( dom ( C91 . C99 ) ) implies (( C101 . B103 ) in ( dom ( C90 | ( divset (( C91 . C99 ) , B103) ) ) ) & (ex B104 being (Point of C86) st (B104 = ( ( C90 | ( divset (( C91 . C99 ) , B103) ) ) . ( C101 . B103 ) ) & ( ( C92 . C99 ) . B103 ) = ( ( vol ( divset (( C91 . C99 ) , B103) ) ) * B104 ))))))) by L160;
L167: ( C101 . C100 ) in ( dom ( C90 | ( divset (( C91 . C99 ) , C100) ) ) ) by L165 , L166;
L168: (( C101 . C100 ) in ( dom C90 ) & ( C101 . C100 ) in ( divset (( C91 . C99 ) , C100) )) by L167 , RELAT_1:57;
L169: ( C101 . C100 ) in ( dom ( C88 | ( divset (( C91 . C99 ) , C100) ) ) ) by L168 , L145 , RELAT_1:57;
L170: ( ( C88 | ( divset (( C91 . C99 ) , C100) ) ) . ( C101 . C100 ) ) in ( rng ( C88 | ( divset (( C91 . C99 ) , C100) ) ) ) by L169 , FUNCT_1:3;
reconsider D11 = ( ( C88 | ( divset (( C91 . C99 ) , C100) ) ) . ( C101 . C100 ) ) as (Element of (the carrier of C86)) by L170;
L171: ( ( C98 . C99 ) . C100 ) in ( dom ( C88 | ( divset (( C91 . C99 ) , C100) ) ) ) by L166 , L168 , L145 , RELAT_1:57;
L172: ( ( vol ( divset (( C91 . C99 ) , C100) ) ) * D11 ) is (Element of (the carrier of C86));
thus L173: thesis by L172 , L166 , L171;
end;
consider C102 being (FinSequence of (the carrier of C86)) such that L174: (( dom C102 ) = ( Seg ( len ( C91 . C99 ) ) ) & (for B105 being Nat holds (B105 in ( Seg ( len ( C91 . C99 ) ) ) implies S10[ B105 , ( C102 . B105 ) ]))) from FINSEQ_1:sch 5(L163);
L175: ( len C102 ) = ( len ( C91 . C99 ) ) by L174 , FINSEQ_1:def 3;
L176:
now
let C103 being Nat;
assume L177: C103 in ( dom ( C91 . C99 ) );
L178: C103 in ( Seg ( len ( C91 . C99 ) ) ) by L177 , FINSEQ_1:def 3;
consider C104 being (Point of C86) such that L179: (( ( C98 . C99 ) . C103 ) in ( dom ( C88 | ( divset (( C91 . C99 ) , C103) ) ) ) & C104 = ( ( C88 | ( divset (( C91 . C99 ) , C103) ) ) . ( ( C98 . C99 ) . C103 ) ) & ( C102 . C103 ) = ( ( vol ( divset (( C91 . C99 ) , C103) ) ) * C104 )) by L178 , L174;
thus L180: (ex B106 being (Point of C86) st (B106 in ( rng ( C88 | ( divset (( C91 . C99 ) , C103) ) ) ) & ( C102 . C103 ) = ( ( vol ( divset (( C91 . C99 ) , C103) ) ) * B106 ))) by L179 , FUNCT_1:3;
end;
reconsider D12 = C102 as (middle_volume of C88 , ( C91 . C99 )) by L176 , L175 , L1;
L181: D12 is (Element of ( (the carrier of C86) * )) by FINSEQ_1:def 11;
thus L182: thesis by L181 , L162 , L174;
end;
consider C105 being (Function of ( NAT ) , ( (the carrier of C86) * )) such that L183: (for B107 being (Element of ( NAT )) holds S9[ B107 , ( C105 . B107 ) ]) from FUNCT_2:sch 3(L161);
L184:
now
let C106 being (Element of ( NAT ));
L185: (ex B108 being (middle_volume of C88 , ( C91 . C106 )) st (B108 = ( C105 . C106 ) & (for B109 being Nat holds (B109 in ( dom ( C91 . C106 ) ) implies (ex B110 being (Point of C86) st (( ( C98 . C106 ) . B109 ) in ( dom ( C88 | ( divset (( C91 . C106 ) , B109) ) ) ) & B110 = ( ( C88 | ( divset (( C91 . C106 ) , B109) ) ) . ( ( C98 . C106 ) . B109 ) ) & ( B108 . B109 ) = ( ( vol ( divset (( C91 . C106 ) , B109) ) ) * B110 ))))))) by L183;
thus L186: ( C105 . C106 ) is (middle_volume of C88 , ( C91 . C106 )) by L185;
end;
reconsider D13 = C105 as (middle_volume_Sequence of C88 , C91) by L184 , L17;
defpred S11[ (Element of ( NAT )) , set ] means (ex B111 being (middle_volume of C89 , ( C91 . $1 )) st (B111 = $2 & (for B112 being Nat holds (B112 in ( dom ( C91 . $1 ) ) implies (ex B113 being (Point of C86) st (( ( C98 . $1 ) . B112 ) in ( dom ( C89 | ( divset (( C91 . $1 ) , B112) ) ) ) & B113 = ( ( C89 | ( divset (( C91 . $1 ) , B112) ) ) . ( ( C98 . $1 ) . B112 ) ) & ( B111 . B112 ) = ( ( vol ( divset (( C91 . $1 ) , B112) ) ) * B113 )))))));
L187: (for B114 being (Element of ( NAT )) holds (ex B115 being (Element of ( (the carrier of C86) * )) st S11[ B114 , B115 ]))
proof
let C107 being (Element of ( NAT ));
defpred S12[ Nat , set ] means (ex B116 being (Point of C86) st (( ( C98 . C107 ) . $1 ) in ( dom ( C89 | ( divset (( C91 . C107 ) , $1) ) ) ) & B116 = ( ( C89 | ( divset (( C91 . C107 ) , $1) ) ) . ( ( C98 . C107 ) . $1 ) ) & $2 = ( ( vol ( divset (( C91 . C107 ) , $1) ) ) * B116 )));
L188: ( Seg ( len ( C91 . C107 ) ) ) = ( dom ( C91 . C107 ) ) by FINSEQ_1:def 3;
L189: (for B117 being Nat holds (B117 in ( Seg ( len ( C91 . C107 ) ) ) implies (ex B118 being (Element of (the carrier of C86)) st S12[ B117 , B118 ])))
proof
let C108 being Nat;
assume L190: C108 in ( Seg ( len ( C91 . C107 ) ) );
L191: C108 in ( dom ( C91 . C107 ) ) by L190 , FINSEQ_1:def 3;
consider C109 being (FinSequence of ( REAL )) such that L192: (C109 = ( C98 . C107 ) & ( len C109 ) = ( len ( C91 . C107 ) ) & (for B119 being Nat holds (B119 in ( dom ( C91 . C107 ) ) implies (( C109 . B119 ) in ( dom ( C90 | ( divset (( C91 . C107 ) , B119) ) ) ) & (ex B120 being (Point of C86) st (B120 = ( ( C90 | ( divset (( C91 . C107 ) , B119) ) ) . ( C109 . B119 ) ) & ( ( C92 . C107 ) . B119 ) = ( ( vol ( divset (( C91 . C107 ) , B119) ) ) * B120 ))))))) by L160;
L193: ( C109 . C108 ) in ( dom ( C90 | ( divset (( C91 . C107 ) , C108) ) ) ) by L191 , L192;
L194: (( C109 . C108 ) in ( dom C90 ) & ( C109 . C108 ) in ( divset (( C91 . C107 ) , C108) )) by L193 , RELAT_1:57;
L195: ( C109 . C108 ) in ( dom ( C89 | ( divset (( C91 . C107 ) , C108) ) ) ) by L194 , L145 , RELAT_1:57;
L196: ( ( C89 | ( divset (( C91 . C107 ) , C108) ) ) . ( C109 . C108 ) ) in ( rng ( C89 | ( divset (( C91 . C107 ) , C108) ) ) ) by L195 , FUNCT_1:3;
reconsider D14 = ( ( C89 | ( divset (( C91 . C107 ) , C108) ) ) . ( C109 . C108 ) ) as (Element of (the carrier of C86)) by L196;
L197: ( ( C98 . C107 ) . C108 ) in ( dom ( C89 | ( divset (( C91 . C107 ) , C108) ) ) ) by L192 , L194 , L145 , RELAT_1:57;
L198: ( ( vol ( divset (( C91 . C107 ) , C108) ) ) * D14 ) is (Element of (the carrier of C86));
thus L199: thesis by L198 , L192 , L197;
end;
consider C110 being (FinSequence of (the carrier of C86)) such that L200: (( dom C110 ) = ( Seg ( len ( C91 . C107 ) ) ) & (for B121 being Nat holds (B121 in ( Seg ( len ( C91 . C107 ) ) ) implies S12[ B121 , ( C110 . B121 ) ]))) from FINSEQ_1:sch 5(L189);
L201: ( len C110 ) = ( len ( C91 . C107 ) ) by L200 , FINSEQ_1:def 3;
L202:
now
let C111 being Nat;
assume L203: C111 in ( dom ( C91 . C107 ) );
L204: C111 in ( Seg ( len ( C91 . C107 ) ) ) by L203 , FINSEQ_1:def 3;
consider C112 being (Point of C86) such that L205: (( ( C98 . C107 ) . C111 ) in ( dom ( C89 | ( divset (( C91 . C107 ) , C111) ) ) ) & C112 = ( ( C89 | ( divset (( C91 . C107 ) , C111) ) ) . ( ( C98 . C107 ) . C111 ) ) & ( C110 . C111 ) = ( ( vol ( divset (( C91 . C107 ) , C111) ) ) * C112 )) by L204 , L200;
thus L206: (ex B122 being (Point of C86) st (B122 in ( rng ( C89 | ( divset (( C91 . C107 ) , C111) ) ) ) & ( C110 . C111 ) = ( ( vol ( divset (( C91 . C107 ) , C111) ) ) * B122 ))) by L205 , FUNCT_1:3;
end;
reconsider D15 = C110 as (middle_volume of C89 , ( C91 . C107 )) by L202 , L201 , L1;
L207: D15 is (Element of ( (the carrier of C86) * )) by FINSEQ_1:def 11;
thus L208: thesis by L207 , L188 , L200;
end;
consider C113 being (Function of ( NAT ) , ( (the carrier of C86) * )) such that L209: (for B123 being (Element of ( NAT )) holds S11[ B123 , ( C113 . B123 ) ]) from FUNCT_2:sch 3(L187);
L210:
now
let C114 being (Element of ( NAT ));
L211: (ex B124 being (middle_volume of C89 , ( C91 . C114 )) st (B124 = ( C113 . C114 ) & (for B125 being Nat holds (B125 in ( dom ( C91 . C114 ) ) implies (ex B126 being (Point of C86) st (( ( C98 . C114 ) . B125 ) in ( dom ( C89 | ( divset (( C91 . C114 ) , B125) ) ) ) & B126 = ( ( C89 | ( divset (( C91 . C114 ) , B125) ) ) . ( ( C98 . C114 ) . B125 ) ) & ( B124 . B125 ) = ( ( vol ( divset (( C91 . C114 ) , B125) ) ) * B126 ))))))) by L209;
thus L212: ( C113 . C114 ) is (middle_volume of C89 , ( C91 . C114 )) by L211;
end;
reconsider D16 = C113 as (middle_volume_Sequence of C89 , C91) by L210 , L17;
L213: ( integral C88 ) is (Point of C86);
L214: (( middle_sum (C88 , D13) ) is  convergent & ( lim ( middle_sum (C88 , D13) ) ) = ( integral C88 )) by L213 , L59 , L144 , L147;
L215: ( integral C89 ) is (Point of C86);
L216: (( middle_sum (C89 , D16) ) is  convergent & ( lim ( middle_sum (C89 , D16) ) ) = ( integral C89 )) by L215 , L59 , L144 , L147;
L217: ( ( middle_sum (C88 , D13) ) + ( middle_sum (C89 , D16) ) ) = ( middle_sum (C90 , C92) )
proof
L218:
now
let C115 being (Element of ( NAT ));
consider C116 being (FinSequence of ( REAL )) such that L219: (C116 = ( C98 . C115 ) & ( len C116 ) = ( len ( C91 . C115 ) ) & (for B127 being Nat holds (B127 in ( dom ( C91 . C115 ) ) implies (( C116 . B127 ) in ( dom ( C90 | ( divset (( C91 . C115 ) , B127) ) ) ) & (ex B128 being (Point of C86) st (B128 = ( ( C90 | ( divset (( C91 . C115 ) , B127) ) ) . ( C116 . B127 ) ) & ( ( C92 . C115 ) . B127 ) = ( ( vol ( divset (( C91 . C115 ) , B127) ) ) * B128 ))))))) by L160;
consider C117 being (middle_volume of C88 , ( C91 . C115 )) such that L220: (C117 = ( D13 . C115 ) & (for B129 being Nat holds (B129 in ( dom ( C91 . C115 ) ) implies (ex B130 being (Point of C86) st (( ( C98 . C115 ) . B129 ) in ( dom ( C88 | ( divset (( C91 . C115 ) , B129) ) ) ) & B130 = ( ( C88 | ( divset (( C91 . C115 ) , B129) ) ) . ( ( C98 . C115 ) . B129 ) ) & ( C117 . B129 ) = ( ( vol ( divset (( C91 . C115 ) , B129) ) ) * B130 )))))) by L183;
consider C118 being (middle_volume of C89 , ( C91 . C115 )) such that L221: (C118 = ( D16 . C115 ) & (for B131 being Nat holds (B131 in ( dom ( C91 . C115 ) ) implies (ex B132 being (Point of C86) st (( ( C98 . C115 ) . B131 ) in ( dom ( C89 | ( divset (( C91 . C115 ) , B131) ) ) ) & B132 = ( ( C89 | ( divset (( C91 . C115 ) , B131) ) ) . ( ( C98 . C115 ) . B131 ) ) & ( C118 . B131 ) = ( ( vol ( divset (( C91 . C115 ) , B131) ) ) * B132 )))))) by L209;
L222: (( len ( D13 . C115 ) ) = ( len ( C91 . C115 ) ) & ( len ( D16 . C115 ) ) = ( len ( C91 . C115 ) ) & ( len ( C92 . C115 ) ) = ( len ( C91 . C115 ) )) by L1;
L223: (( dom ( D13 . C115 ) ) = ( dom ( C91 . C115 ) ) & ( dom ( D16 . C115 ) ) = ( dom ( C91 . C115 ) ) & ( dom ( C92 . C115 ) ) = ( dom ( C91 . C115 ) )) by L222 , FINSEQ_3:29;
L224:
now
let C119 being Nat;
assume L225: (1 <= C119 & C119 <= ( len ( C92 . C115 ) ));
L226: C119 in ( Seg ( len ( C92 . C115 ) ) ) by L225 , FINSEQ_1:1;
L227: C119 in ( dom ( C92 . C115 ) ) by L226 , FINSEQ_1:def 3;
consider C120 being (Point of C86) such that L228: (C120 = ( ( C90 | ( divset (( C91 . C115 ) , C119) ) ) . ( ( C98 . C115 ) . C119 ) ) & ( ( C92 . C115 ) . C119 ) = ( ( vol ( divset (( C91 . C115 ) , C119) ) ) * C120 )) by L227 , L223 , L219;
consider C121 being (Point of C86) such that L229: (( ( C98 . C115 ) . C119 ) in ( dom ( C88 | ( divset (( C91 . C115 ) , C119) ) ) ) & C121 = ( ( C88 | ( divset (( C91 . C115 ) , C119) ) ) . ( ( C98 . C115 ) . C119 ) ) & ( C117 . C119 ) = ( ( vol ( divset (( C91 . C115 ) , C119) ) ) * C121 )) by L220 , L227 , L223;
consider C122 being (Point of C86) such that L230: (( ( C98 . C115 ) . C119 ) in ( dom ( C89 | ( divset (( C91 . C115 ) , C119) ) ) ) & C122 = ( ( C89 | ( divset (( C91 . C115 ) , C119) ) ) . ( ( C98 . C115 ) . C119 ) ) & ( C118 . C119 ) = ( ( vol ( divset (( C91 . C115 ) , C119) ) ) * C122 )) by L221 , L227 , L223;
L231: ( ( C98 . C115 ) . C119 ) in ( divset (( C91 . C115 ) , C119) ) by L230 , RELAT_1:57;
L232: ( ( C98 . C115 ) . C119 ) in ( dom C89 ) by L230 , RELAT_1:57;
L233: ( ( C98 . C115 ) . C119 ) in C87 by L230;
L234: ( ( C98 . C115 ) . C119 ) in ( dom C90 ) by L233 , FUNCT_2:def 1;
L235: ( ( C98 . C115 ) . C119 ) in ( dom C88 ) by L233 , FUNCT_2:def 1;
L236: ( C88 /. ( ( C98 . C115 ) . C119 ) ) = ( C88 . ( ( C98 . C115 ) . C119 ) ) by L235 , PARTFUN1:def 6
.= C121 by L229 , L231 , FUNCT_1:49;
L237: ( C89 /. ( ( C98 . C115 ) . C119 ) ) = ( C89 . ( ( C98 . C115 ) . C119 ) ) by L232 , PARTFUN1:def 6
.= C122 by L230 , L231 , FUNCT_1:49;
L238: C120 = ( ( C90 | ( divset (( C91 . C115 ) , C119) ) ) . ( ( C98 . C115 ) . C119 ) ) by L228
.= ( C90 . ( ( C98 . C115 ) . C119 ) ) by L231 , FUNCT_1:49
.= ( C90 /. ( ( C98 . C115 ) . C119 ) ) by L234 , PARTFUN1:def 6
.= ( ( C88 /. ( ( C98 . C115 ) . C119 ) ) + ( C89 /. ( ( C98 . C115 ) . C119 ) ) ) by L234 , L144 , VFUNCT_1:def 1
.= ( C121 + C122 ) by L236 , L237;
L239: ( ( vol ( divset (( C91 . C115 ) , C119) ) ) * C121 ) = ( ( D13 . C115 ) . C119 ) by L229 , L220
.= ( ( D13 . C115 ) /. C119 ) by L227 , L223 , PARTFUN1:def 6;
L240: ( ( vol ( divset (( C91 . C115 ) , C119) ) ) * C122 ) = ( ( D16 . C115 ) . C119 ) by L230 , L221
.= ( ( D16 . C115 ) /. C119 ) by L227 , L223 , PARTFUN1:def 6;
thus L241: ( ( C92 . C115 ) /. C119 ) = ( ( C92 . C115 ) . C119 ) by L227 , PARTFUN1:def 6
.= ( ( vol ( divset (( C91 . C115 ) , C119) ) ) * C120 ) by L228
.= ( ( ( vol ( divset (( C91 . C115 ) , C119) ) ) * C121 ) + ( ( vol ( divset (( C91 . C115 ) , C119) ) ) * C122 ) ) by L238 , RLVECT_1:def 5
.= ( ( ( D13 . C115 ) /. C119 ) + ( ( D16 . C115 ) /. C119 ) ) by L239 , L240;
end;
L242: ( ( D13 . C115 ) + ( D16 . C115 ) ) = ( C92 . C115 ) by L224 , L223 , BINOM:def 1;
thus L243: ( ( ( middle_sum (C88 , D13) ) . C115 ) + ( ( middle_sum (C89 , D16) ) . C115 ) ) = ( ( middle_sum (C88 , ( D13 . C115 )) ) + ( ( middle_sum (C89 , D16) ) . C115 ) ) by L25
.= ( ( middle_sum (C88 , ( D13 . C115 )) ) + ( middle_sum (C89 , ( D16 . C115 )) ) ) by L25
.= ( ( Sum ( D13 . C115 ) ) + ( middle_sum (C89 , ( D16 . C115 )) ) )
.= ( ( Sum ( D13 . C115 ) ) + ( Sum ( D16 . C115 ) ) )
.= ( Sum ( C92 . C115 ) ) by L242 , L222 , L36
.= ( middle_sum (C90 , ( C92 . C115 )) )
.= ( ( middle_sum (C90 , C92) ) . C115 ) by L25;
end;
thus L244: thesis by L218 , NORMSP_1:def 2;
end;
thus L245: ( middle_sum (C90 , C92) ) is  convergent by L217 , L214 , L216 , NORMSP_1:19;
thus L246: ( lim ( middle_sum (C90 , C92) ) ) = ( ( integral C88 ) + ( integral C89 ) ) by L214 , L216 , L217 , NORMSP_1:25;
end;
thus L247: C90 is  integrable by L146 , L34;
thus L248: ( integral C90 ) = ( ( integral C88 ) + ( integral C89 ) ) by L247 , L59 , L146;
end;
theorem
L249: (for B133 being RealNormSpace holds (for B134 being non  empty  closed_interval (Subset of ( REAL )) holds (for B135 , B136 , B137 being (Function of B134 , (the carrier of B133)) holds ((B137 = ( B135 - B136 ) & B135 is  integrable & B136 is  integrable) implies (B137 is  integrable & ( integral B137 ) = ( ( integral B135 ) - ( integral B136 ) ))))))
proof
let C123 being RealNormSpace;
let C124 being non  empty  closed_interval (Subset of ( REAL ));
let C125 , C126 , C127 being (Function of C124 , (the carrier of C123));
assume L250: (C127 = ( C125 - C126 ) & C125 is  integrable & C126 is  integrable);
L251: C127 = ( C125 + ( - C126 ) ) by L250 , VFUNCT_1:25;
L252: ( dom ( - C126 ) ) = ( dom C126 ) by VFUNCT_1:def 5
.= C124 by FUNCT_2:def 1;
reconsider D17 = ( - C126 ) as (Function of C124 , (the carrier of C123)) by L252 , FUNCT_2:def 1;
L253: D17 is  integrable by L250 , L137;
thus L254: C127 is  integrable by L253 , L250 , L251 , L143;
L255: ( integral C127 ) = ( ( integral C125 ) + ( integral D17 ) ) by L250 , L251 , L253 , L143;
L256: ( integral C127 ) = ( ( integral C125 ) + ( - ( integral C126 ) ) ) by L255 , L250 , L137;
thus L257: ( integral C127 ) = ( ( integral C125 ) - ( integral C126 ) ) by L256 , RLVECT_1:def 11;
end;
definition
let C128 being RealNormSpace;
let C129 being non  empty  closed_interval (Subset of ( REAL ));
let C130 being (PartFunc of ( REAL ) , (the carrier of C128));
pred C130 is_integrable_on C129
means
:L258: (ex B138 being (Function of C129 , (the carrier of C128)) st (B138 = ( C130 | C129 ) & B138 is  integrable))
;end;
definition
let C131 being RealNormSpace;
let C132 being non  empty  closed_interval (Subset of ( REAL ));
let C133 being (PartFunc of ( REAL ) , (the carrier of C131));
assume L260: C132 c= ( dom C133 );
func integral (C133 , C132) -> (Element of C131) means 
:L261: (ex B139 being (Function of C132 , (the carrier of C131)) st (B139 = ( C133 | C132 ) & it = ( integral B139 )));
correctness
proof
L262: ( dom ( C133 | C132 ) ) = C132 by L260 , RELAT_1:62;
L263: ( rng ( C133 | C132 ) ) c= (the carrier of C131);
reconsider D18 = ( C133 | C132 ) as (Function of C132 , (the carrier of C131)) by L263 , L262 , FUNCT_2:2;
L264: ( integral D18 ) is (Point of C131);
thus L265: thesis by L264;
end;
end;
theorem
L267: (for R1 being RealNormSpace holds (for B140 being non  empty  closed_interval (Subset of ( REAL )) holds (for B141 being (PartFunc of ( REAL ) , (the carrier of R1)) holds (for B142 being (Function of B140 , (the carrier of R1)) holds (( B141 | B140 ) = B142 implies (B141 is_integrable_on B140 iff B142 is  integrable))))))
proof
let R1 being RealNormSpace;
let C134 being non  empty  closed_interval (Subset of ( REAL ));
let C135 being (PartFunc of ( REAL ) , (the carrier of R1));
let C136 being (Function of C134 , (the carrier of R1));
assume L268: ( C135 | C134 ) = C136;
thus L269:now
assume L270: C135 is_integrable_on C134;
L271: (ex B143 being (Function of C134 , (the carrier of R1)) st (B143 = ( C135 | C134 ) & B143 is  integrable)) by L270 , L258;
thus L272: C136 is  integrable by L271 , L268;
end;
assume L273: C136 is  integrable;
thus L274: C135 is_integrable_on C134 by L273 , L268 , L258;
end;
theorem
L275: (for R1 being RealNormSpace holds (for B144 being non  empty  closed_interval (Subset of ( REAL )) holds (for B145 being (PartFunc of ( REAL ) , (the carrier of R1)) holds (for B146 being (Function of B144 , (the carrier of R1)) holds ((B144 c= ( dom B145 ) & ( B145 | B144 ) = B146) implies ( integral (B145 , B144) ) = ( integral B146 )))))) by L261;
theorem
L276: (for B147 , B148 being non  empty set holds (for B149 being RealNormSpace holds (for B150 , B151 being (PartFunc of B147 , (the carrier of B149)) holds (for B152 , B153 being (PartFunc of B148 , (the carrier of B149)) holds ((B150 = B152 & B151 = B153) implies ( B152 + B153 ) = ( B150 + B151 ))))))
proof
let C137 , C138 being non  empty set;
let C139 being RealNormSpace;
let C140 , C141 being (PartFunc of C137 , (the carrier of C139));
let C142 , C143 being (PartFunc of C138 , (the carrier of C139));
assume L277: (C140 = C142 & C141 = C143);
L278: ( dom ( C140 + C141 ) ) = ( ( dom C140 ) /\ ( dom C141 ) ) by VFUNCT_1:def 1
.= ( ( dom C142 ) /\ ( dom C143 ) ) by L277;
L279: ( C140 + C141 ) is (PartFunc of C138 , (the carrier of C139)) by L278 , RELSET_1:5;
L280: (for B154 being (Element of C138) holds (B154 in ( dom ( C140 + C141 ) ) implies ( ( C140 + C141 ) /. B154 ) = ( ( C142 /. B154 ) + ( C143 /. B154 ) ))) by L277 , VFUNCT_1:def 1;
thus L281: thesis by L280 , L279 , L278 , VFUNCT_1:def 1;
end;
theorem
L282: (for B155 , B156 being non  empty set holds (for B157 being RealNormSpace holds (for B158 , B159 being (PartFunc of B155 , (the carrier of B157)) holds (for B160 , B161 being (PartFunc of B156 , (the carrier of B157)) holds ((B158 = B160 & B159 = B161) implies ( B160 - B161 ) = ( B158 - B159 ))))))
proof
let C144 , C145 being non  empty set;
let C146 being RealNormSpace;
let C147 , C148 being (PartFunc of C144 , (the carrier of C146));
let C149 , C150 being (PartFunc of C145 , (the carrier of C146));
assume L283: (C147 = C149 & C148 = C150);
L284: ( dom ( C147 - C148 ) ) = ( ( dom C147 ) /\ ( dom C148 ) ) by VFUNCT_1:def 2
.= ( ( dom C149 ) /\ ( dom C150 ) ) by L283;
L285: ( C147 - C148 ) is (PartFunc of C145 , (the carrier of C146)) by L284 , RELSET_1:5;
L286: (for B162 being (Element of C145) holds (B162 in ( dom ( C147 - C148 ) ) implies ( ( C147 - C148 ) /. B162 ) = ( ( C149 /. B162 ) - ( C150 /. B162 ) ))) by L283 , VFUNCT_1:def 2;
thus L287: thesis by L286 , L285 , L284 , VFUNCT_1:def 2;
end;
theorem
L288: (for B163 being Real holds (for B164 , B165 being non  empty set holds (for B166 being RealNormSpace holds (for B167 being (PartFunc of B164 , (the carrier of B166)) holds (for B168 being (PartFunc of B165 , (the carrier of B166)) holds (B167 = B168 implies ( B163 (#) B168 ) = ( B163 (#) B167 )))))))
proof
let C151 being Real;
let C152 , C153 being non  empty set;
let C154 being RealNormSpace;
let C155 being (PartFunc of C152 , (the carrier of C154));
let C156 being (PartFunc of C153 , (the carrier of C154));
assume L289: C155 = C156;
L290: ( dom ( C151 (#) C155 ) ) = ( dom C155 ) by VFUNCT_1:def 4
.= ( dom C156 ) by L289;
L291: ( C151 (#) C155 ) is (PartFunc of C153 , (the carrier of C154)) by L290 , RELSET_1:5;
L292: (for B169 being (Element of C153) holds (B169 in ( dom ( C151 (#) C155 ) ) implies ( ( C151 (#) C155 ) /. B169 ) = ( C151 * ( C156 /. B169 ) ))) by L289 , VFUNCT_1:def 4;
thus L293: thesis by L292 , L291 , L290 , VFUNCT_1:def 4;
end;
begin
theorem
L294: (for R1 being RealNormSpace holds (for B170 being Real holds (for B171 being non  empty  closed_interval (Subset of ( REAL )) holds (for B172 being (PartFunc of ( REAL ) , (the carrier of R1)) holds ((B171 c= ( dom B172 ) & B172 is_integrable_on B171) implies (( B170 (#) B172 ) is_integrable_on B171 & ( integral (( B170 (#) B172 ) , B171) ) = ( B170 * ( integral (B172 , B171) ) )))))))
proof
let R1 being RealNormSpace;
let C157 being Real;
let C158 being non  empty  closed_interval (Subset of ( REAL ));
let C159 being (PartFunc of ( REAL ) , (the carrier of R1));
assume L295: (C158 c= ( dom C159 ) & C159 is_integrable_on C158);
L296: C158 c= ( dom ( C157 (#) C159 ) ) by L295 , VFUNCT_1:def 4;
consider C160 being (Function of C158 , (the carrier of R1)) such that L297: (C160 = ( C159 | C158 ) & C160 is  integrable) by L295 , L258;
L298: ( ( C157 (#) C159 ) | C158 ) = ( C157 (#) ( C159 | C158 ) ) by VFUNCT_1:31
.= ( C157 (#) C160 ) by L297 , L288;
L299: ( C157 (#) C160 ) is  total by VFUNCT_1:34;
reconsider D19 = ( C157 (#) C160 ) as (Function of C158 , (the carrier of R1)) by L299;
L300: (D19 is  integrable & ( integral D19 ) = ( C157 * ( integral C160 ) )) by L297 , L65;
thus L301: ( C157 (#) C159 ) is_integrable_on C158 by L300 , L298 , L267;
thus L302: ( integral (( C157 (#) C159 ) , C158) ) = ( integral D19 ) by L298 , L296 , L261
.= ( C157 * ( integral C160 ) ) by L297 , L65
.= ( C157 * ( integral (C159 , C158) ) ) by L297 , L295 , L261;
end;
theorem
L303: (for R1 being RealNormSpace holds (for B173 being non  empty  closed_interval (Subset of ( REAL )) holds (for B174 , B175 being (PartFunc of ( REAL ) , (the carrier of R1)) holds ((B174 is_integrable_on B173 & B175 is_integrable_on B173 & B173 c= ( dom B174 ) & B173 c= ( dom B175 )) implies (( B174 + B175 ) is_integrable_on B173 & ( integral (( B174 + B175 ) , B173) ) = ( ( integral (B174 , B173) ) + ( integral (B175 , B173) ) ))))))
proof
let R1 being RealNormSpace;
let C161 being non  empty  closed_interval (Subset of ( REAL ));
let C162 , C163 being (PartFunc of ( REAL ) , (the carrier of R1));
assume that
L304: (C162 is_integrable_on C161 & C163 is_integrable_on C161)
and
L305: (C161 c= ( dom C162 ) & C161 c= ( dom C163 ));
L306: C161 c= ( ( dom C162 ) /\ ( dom C163 ) ) by L305 , XBOOLE_1:19;
L307: C161 c= ( dom ( C162 + C163 ) ) by L306 , VFUNCT_1:def 1;
consider C164 being (Function of C161 , (the carrier of R1)) such that L308: (C164 = ( C162 | C161 ) & C164 is  integrable) by L304 , L258;
consider C165 being (Function of C161 , (the carrier of R1)) such that L309: (C165 = ( C163 | C161 ) & C165 is  integrable) by L304 , L258;
L310: ( ( C162 + C163 ) | C161 ) = ( ( C162 | C161 ) + ( C163 | C161 ) ) by VFUNCT_1:27;
L311: ( ( C162 + C163 ) | C161 ) = ( C164 + C165 ) by L310 , L308 , L309 , L276;
L312: ( C164 + C165 ) is  total by VFUNCT_1:32;
reconsider D20 = ( C164 + C165 ) as (Function of C161 , (the carrier of R1)) by L312;
L313: D20 is  integrable by L143 , L308 , L309;
thus L314: ( C162 + C163 ) is_integrable_on C161 by L313 , L311 , L267;
thus L315: ( integral (( C162 + C163 ) , C161) ) = ( integral D20 ) by L261 , L311 , L307
.= ( ( integral C164 ) + ( integral C165 ) ) by L143 , L308 , L309
.= ( ( integral (C162 , C161) ) + ( integral C165 ) ) by L305 , L308 , L261
.= ( ( integral (C162 , C161) ) + ( integral (C163 , C161) ) ) by L305 , L309 , L261;
end;
theorem
L316: (for R1 being RealNormSpace holds (for B176 being non  empty  closed_interval (Subset of ( REAL )) holds (for B177 , B178 being (PartFunc of ( REAL ) , (the carrier of R1)) holds ((B177 is_integrable_on B176 & B178 is_integrable_on B176 & B176 c= ( dom B177 ) & B176 c= ( dom B178 )) implies (( B177 - B178 ) is_integrable_on B176 & ( integral (( B177 - B178 ) , B176) ) = ( ( integral (B177 , B176) ) - ( integral (B178 , B176) ) ))))))
proof
let R1 being RealNormSpace;
let C166 being non  empty  closed_interval (Subset of ( REAL ));
let C167 , C168 being (PartFunc of ( REAL ) , (the carrier of R1));
assume that
L317: (C167 is_integrable_on C166 & C168 is_integrable_on C166)
and
L318: (C166 c= ( dom C167 ) & C166 c= ( dom C168 ));
L319: ( C167 - C168 ) = ( C167 + ( - C168 ) ) by VFUNCT_1:25;
L320: ( dom ( - C168 ) ) = ( dom C168 ) by VFUNCT_1:def 5;
L321: ( - C168 ) = ( ( - 1 ) (#) C168 ) by VFUNCT_1:23;
L322: ( - C168 ) is_integrable_on C166 by L321 , L317 , L318 , L294;
thus L323: ( C167 - C168 ) is_integrable_on C166 by L322 , L317 , L318 , L319 , L320 , L303;
thus L324: ( integral (( C167 - C168 ) , C166) ) = ( integral (( C167 + ( - C168 ) ) , C166) ) by VFUNCT_1:25
.= ( ( integral (C167 , C166) ) + ( integral (( - C168 ) , C166) ) ) by L317 , L318 , L320 , L322 , L303
.= ( ( integral (C167 , C166) ) + ( ( - 1 ) * ( integral (C168 , C166) ) ) ) by L317 , L318 , L321 , L294
.= ( ( integral (C167 , C166) ) + ( - ( integral (C168 , C166) ) ) ) by RLVECT_1:16
.= ( ( integral (C167 , C166) ) - ( integral (C168 , C166) ) ) by RLVECT_1:def 11;
end;
definition
let C169 being RealNormSpace;
let C170 being (PartFunc of ( REAL ) , (the carrier of C169));
let C171 , C172 being  real number;
func integral (C170 , C171 , C172) -> (Element of C169) equals 
:L325: ( integral (C170 , [' C171 , C172 ']) ) if C171 <= C172 otherwise ( - ( integral (C170 , [' C172 , C171 ']) ) );
correctness;
end;
theorem
L327: (for R1 being RealNormSpace holds (for B179 being (PartFunc of ( REAL ) , (the carrier of R1)) holds (for B180 being non  empty  closed_interval (Subset of ( REAL )) holds (for B181 , B182 being Real holds (B180 = [. B181 , B182 .] implies ( integral (B179 , B180) ) = ( integral (B179 , B181 , B182) ))))))
proof
let R1 being RealNormSpace;
let C173 being (PartFunc of ( REAL ) , (the carrier of R1));
let C174 being non  empty  closed_interval (Subset of ( REAL ));
let C175 , C176 being Real;
consider C177 , C178 being Real such that L328: C177 <= C178 and L329: C174 = [. C177 , C178 .] by MEASURE5:14;
assume L330: C174 = [. C175 , C176 .];
L331: (C177 = C175 & C178 = C176) by L330 , L329 , INTEGRA1:5;
L332: ( integral (C173 , C175 , C176) ) = ( integral (C173 , [' C175 , C176 ']) ) by L331 , L328 , L325;
thus L333: thesis by L332 , L328 , L329 , L331 , INTEGRA5:def 3;
end;
theorem
L334: (for R1 being RealNormSpace holds (for B183 being (PartFunc of ( REAL ) , (the carrier of R1)) holds (for B184 being non  empty  closed_interval (Subset of ( REAL )) holds ((( vol B184 ) = ( 0 ) & B184 c= ( dom B183 )) implies (B183 is_integrable_on B184 & ( integral (B183 , B184) ) = ( 0. R1 ))))))
proof
let R1 being RealNormSpace;
let C179 being (PartFunc of ( REAL ) , (the carrier of R1));
let C180 being non  empty  closed_interval (Subset of ( REAL ));
assume L335: (( vol C180 ) = ( 0 ) & C180 c= ( dom C179 ));
L336: C179 is (Function of ( dom C179 ) , ( rng C179 )) by FUNCT_2:1;
L337: C179 is (Function of ( dom C179 ) , (the carrier of R1)) by L336 , FUNCT_2:2;
reconsider D21 = ( C179 | C180 ) as (Function of C180 , (the carrier of R1)) by L337 , L335 , FUNCT_2:32;
L338: (for B185 being (DivSequence of C180) holds (for B186 being (middle_volume_Sequence of D21 , B185) holds ((( delta B185 ) is  convergent & ( lim ( delta B185 ) ) = ( 0 )) implies (( middle_sum (D21 , B186) ) is  convergent & ( lim ( middle_sum (D21 , B186) ) ) = ( 0. R1 )))))
proof
let C181 being (DivSequence of C180);
let C182 being (middle_volume_Sequence of D21 , C181);
assume L339: (( delta C181 ) is  convergent & ( lim ( delta C181 ) ) = ( 0 ));
L340: (for B187 being (Element of ( NAT )) holds ( middle_sum (D21 , ( C182 . B187 )) ) = ( 0. R1 ))
proof
let C183 being (Element of ( NAT ));
L341: ( len ( C182 . C183 ) ) = ( len ( C182 . C183 ) );
L342:
now
let C184 being (Element of ( NAT ));
let C185 being (Element of R1);
assume L343: (C184 in ( dom ( C182 . C183 ) ) & C185 = ( ( C182 . C183 ) . C184 ));
L344: C184 in ( Seg ( len ( C182 . C183 ) ) ) by L343 , FINSEQ_1:def 3;
L345: C184 in ( Seg ( len ( C181 . C183 ) ) ) by L344 , L1;
L346: C184 in ( dom ( C181 . C183 ) ) by L345 , FINSEQ_1:def 3;
consider C186 being (VECTOR of R1) such that L347: (C186 in ( rng ( D21 | ( divset (( C181 . C183 ) , C184) ) ) ) & ( ( C182 . C183 ) . C184 ) = ( ( vol ( divset (( C181 . C183 ) , C184) ) ) * C186 )) by L346 , L1;
L348: (( 0 ) <= ( vol ( divset (( C181 . C183 ) , C184) ) ) & ( vol ( divset (( C181 . C183 ) , C184) ) ) <= ( 0 )) by L335 , L346 , INTEGRA1:8 , INTEGRA1:9 , INTEGRA2:38;
L349: ( vol ( divset (( C181 . C183 ) , C184) ) ) = ( 0 ) by L348;
L350: ( ( C182 . C183 ) . C184 ) = ( 0. R1 ) by L349 , L347 , RLVECT_1:10;
thus L351: ( ( C182 . C183 ) . C184 ) = ( - C185 ) by L350 , L343 , RLVECT_1:12;
end;
L352: ( Sum ( C182 . C183 ) ) = ( - ( Sum ( C182 . C183 ) ) ) by L342 , L341 , RLVECT_1:40;
thus L353: thesis by L352 , RLVECT_1:19;
end;
L354: (for B188 being (Element of ( NAT )) holds ( ( middle_sum (D21 , C182) ) . B188 ) = ( 0. R1 ))
proof
let C187 being (Element of ( NAT ));
thus L355: ( ( middle_sum (D21 , C182) ) . C187 ) = ( middle_sum (D21 , ( C182 . C187 )) ) by L25
.= ( 0. R1 ) by L340;
end;
L356: (for B189 being Real holds (( 0 ) < B189 implies (ex B190 being (Element of ( NAT )) st (for B191 being (Element of ( NAT )) holds (B190 <= B191 implies ||. ( ( ( middle_sum (D21 , C182) ) . B191 ) - ( 0. R1 ) ) .|| < B189)))))
proof
let C188 being Real;
assume L357: ( 0 ) < C188;
take D22 = ( 0 );
let C189 being (Element of ( NAT ));
assume L358: D22 <= C189;
L359: ||. ( ( ( middle_sum (D21 , C182) ) . C189 ) - ( 0. R1 ) ) .|| = ||. ( ( 0. R1 ) - ( 0. R1 ) ) .|| by L354
.= ( 0 ) by NORMSP_1:6;
thus L360: ||. ( ( ( middle_sum (D21 , C182) ) . C189 ) - ( 0. R1 ) ) .|| < C188 by L359 , L357;
end;
thus L361: ( middle_sum (D21 , C182) ) is  convergent by L356 , NORMSP_1:def 6;
thus L362: ( lim ( middle_sum (D21 , C182) ) ) = ( 0. R1 ) by L361 , L356 , NORMSP_1:def 7;
end;
L363: D21 is  integrable by L338 , L34;
thus L364: C179 is_integrable_on C180 by L363 , L258;
L365: ( integral D21 ) = ( 0. R1 ) by L363 , L338 , L59;
thus L366: ( integral (C179 , C180) ) = ( 0. R1 ) by L365 , L261 , L335;
end;
theorem
L367: (for R1 being RealNormSpace holds (for B192 being (PartFunc of ( REAL ) , (the carrier of R1)) holds (for B193 being non  empty  closed_interval (Subset of ( REAL )) holds (for B194 , B195 being Real holds ((B193 = [. B195 , B194 .] & B193 c= ( dom B192 )) implies ( - ( integral (B192 , B193) ) ) = ( integral (B192 , B194 , B195) ))))))
proof
let R1 being RealNormSpace;
let C190 being (PartFunc of ( REAL ) , (the carrier of R1));
let C191 being non  empty  closed_interval (Subset of ( REAL ));
let C192 , C193 being Real;
consider C194 , C195 being Real such that L368: C194 <= C195 and L369: C191 = [. C194 , C195 .] by MEASURE5:14;
assume L370: (C191 = [. C193 , C192 .] & C191 c= ( dom C190 ));
L371: (C194 = C193 & C195 = C192) by L370 , L369 , INTEGRA1:5;
L372:
now
per cases  by L368 , L371 , XXREAL_0:1;
suppose L373: C193 < C192;

L374: ( integral (C190 , C192 , C193) ) = ( - ( integral (C190 , [' C193 , C192 ']) ) ) by L373 , L325;
thus L375: thesis by L374 , L370 , L373 , INTEGRA5:def 3;
end;
suppose L376: C193 = C192;

L377: C191 = [. ( lower_bound C191 ) , ( upper_bound C191 ) .] by INTEGRA1:4;
L378: (( lower_bound C191 ) = C193 & ( upper_bound C191 ) = C192) by L377 , L370 , INTEGRA1:5;
L379: ( vol C191 ) = ( ( upper_bound C191 ) - ( upper_bound C191 ) ) by L378 , L376
.= ( 0 );
L380: ( integral (C190 , C192 , C193) ) = ( integral (C190 , C191) ) by L370 , L376 , L327;
L381: ( - ( integral (C190 , C192 , C193) ) ) = ( - ( integral (C190 , C191) ) ) by L370 , L376 , L327;
L382: ( integral (C190 , C192 , C193) ) = ( 0. R1 ) by L379 , L370 , L334 , L380;
thus L383: thesis by L382 , L381 , RLVECT_1:12;
end;
end;
thus L385: thesis by L372;
end;
