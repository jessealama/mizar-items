:: Linear Map of Matrices
::  by Karol P\c{a}k
::
:: Received May 13, 2008
:: Copyright (c) 2008-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, NAT_1, VECTSP_1, SUBSET_1, RLSUB_1, XBOOLE_0, ARYTM_3,
      STRUCT_0, TARSKI, RLVECT_3, RLVECT_2, CARD_3, SUPINF_2, FINSET_1,
      FUNCT_1, RLSUB_2, FUNCT_2, RLVECT_5, MATRLIN, RELAT_1, CARD_1, XXREAL_0,
      FINSEQ_1, ZFMISC_1, ALGSTR_0, PARTFUN1, ORDINAL4, FINSEQ_2, INCSP_1,
      MESFUNC1, TREES_1, MATRIX_1, GROUP_1, ARYTM_1, FINSEQ_4, RFINSEQ,
      RANKNULL, MATRIXJ1, MATRIX_3, MATRIX_6, FVSUM_1, RVSUM_1, MATRIXR1,
      VECTSP10, MATRIX15, QC_LANG1, CLASSES1, PRVECT_1, MATRIX13, LMOD_7,
      VALUED_1, RLVECT_1, BINOP_1, LATTICES, MATRLIN2, UNIALG_1, MSSUBFAM;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, NUMBERS, CARD_1, XCMPLX_0,
      ALGSTR_0, XXREAL_0, ORDINAL1, NAT_1, FINSET_1, RELAT_1, FUNCT_1,
      PARTFUN1, FUNCT_2, FINSEQ_1, BINOP_1, STRUCT_0, RLVECT_1, GROUP_1,
      VECTSP_1, FINSEQ_2, MATRIX_1, FVSUM_1, MATRIX_3, MATRIX_6, DOMAIN_1,
      VECTSP_4, VECTSP_6, VECTSP_7, VECTSP_9, FINSEQOP, PRVECT_1, MATRIX13,
      MATRLIN, MATRIX15, RFINSEQ, WSIERP_1, MOD_2, VECTSP_5, RANKNULL,
      MATRIXJ1;
 constructors FVSUM_1, VECTSP_9, MATRIX_6, LAPLACE, MATRIX15, RANKNULL,
      VECTSP10, MATRIXJ1, REALSET1, RELSET_1, MATRIX13;
 registrations XBOOLE_0, FUNCT_1, FINSET_1, STRUCT_0, VECTSP_1, FUNCT_2,
      ORDINAL1, XXREAL_0, NAT_1, FINSEQ_1, RELAT_1, FINSEQ_2, MATRLIN,
      MATRIX13, XREAL_0, VECTSP_9, CARD_1, MOD_2, PRVECT_1, GRCAT_1;
 requirements ARITHM, NUMERALS, REAL, BOOLE, SUBSET;
 definitions STRUCT_0, TARSKI, RLVECT_1, FINSEQ_1, VECTSP_4, FVSUM_1, VECTSP_1,
      MATRIX_1, MATRIX13, MATRLIN, MATRIX15, FUNCT_1, VECTSP_7, RANKNULL,
      VECTSP_6;
 theorems ZFMISC_1, RLVECT_1, MATRIX_1, MATRIX_2, MATRIX_4, MATRIX_3, VECTSP_1,
      NAT_1, FINSEQ_2, CARD_1, CARD_FIN, FINSEQ_1, FINSEQ_3, FINSEQOP, FUNCT_1,
      FUNCT_2, FUNCOP_1, FVSUM_1, LAPLACE, MATRIX_6, MATRIX_7, MATRIX11,
      MATRIX13, MATRIXR1, MATRIXR2, MATRLIN, ORDINAL1, PARTFUN1, RELAT_1,
      STRUCT_0, TARSKI, VECTSP_4, VECTSP_6, VECTSP_7, VECTSP_9, XBOOLE_0,
      XBOOLE_1, XXREAL_0, MATRIX15, MOD_2, RLVECT_2, VECTSP10, MATRIX_8,
      RANKNULL, VECTSP_5, FINSEQ_5, RFINSEQ, MATRIXJ1;
 schemes NAT_1, MATRIX_1, FUNCT_2, FINSEQ_2;

begin
theorem
L1: (for R8 being Field holds (for B1 being (VectSp of R8) holds (for B2 , B3 , B4 being (Subspace of B1) holds (for B5 , B6 being (Subspace of B4) holds ((B5 = B2 & B6 = B3) implies (( B2 /\ B3 ) = ( B5 /\ B6 ) & ( B2 + B3 ) = ( B5 + B6 )))))))
proof
let R8 being Field;
let C1 being (VectSp of R8);
let C2 , C3 , C4 being (Subspace of C1);
let C5 , C6 being (Subspace of C4);
assume that
L2: C5 = C2
and
L3: C6 = C3;
reconsider D1 = ( C5 /\ C6 ) as (Subspace of C1) by VECTSP_4:26;
L4: (the carrier of D1) c= (the carrier of ( C2 /\ C3 ))
proof
let R6 being set;
assume L5: R6 in (the carrier of D1);
L6: R6 in ( C5 /\ C6 ) by L5 , STRUCT_0:def 5;
L7: (R6 in C5 & R6 in C6) by L6 , VECTSP_5:3;
L8: R6 in ( C2 /\ C3 ) by L7 , L2 , L3 , VECTSP_5:3;
thus L9: thesis by L8 , STRUCT_0:def 5;
end;
L10: (the carrier of ( C2 /\ C3 )) c= (the carrier of D1)
proof
let R6 being set;
assume L11: R6 in (the carrier of ( C2 /\ C3 ));
L12: R6 in ( C2 /\ C3 ) by L11 , STRUCT_0:def 5;
L13: (R6 in C2 & R6 in C3) by L12 , VECTSP_5:3;
L14: R6 in D1 by L13 , L2 , L3 , VECTSP_5:3;
thus L15: thesis by L14 , STRUCT_0:def 5;
end;
L16: (the carrier of ( C2 /\ C3 )) = (the carrier of D1) by L10 , L4 , XBOOLE_0:def 10;
thus L17: ( C2 /\ C3 ) = ( C5 /\ C6 ) by L16 , VECTSP_4:29;
reconsider D2 = ( C5 + C6 ) as (Subspace of C1) by VECTSP_4:26;
L18: (the carrier of ( C2 + C3 )) c= (the carrier of D2)
proof
let R6 being set;
assume L19: R6 in (the carrier of ( C2 + C3 ));
L20: R6 in ( C2 + C3 ) by L19 , STRUCT_0:def 5;
consider C7 , C8 being (Vector of C1) such that L21: C7 in C2 and L22: C8 in C3 and L23: ( C7 + C8 ) = R6 by L20 , VECTSP_5:1;
L24: C6 is (Subspace of D2) by VECTSP_5:7;
L25: C8 in D2 by L24 , L3 , L22 , VECTSP_4:8;
L26: C5 is (Subspace of D2) by VECTSP_5:7;
L27: C7 in D2 by L26 , L2 , L21 , VECTSP_4:8;
reconsider D3 = C7 , D4 = C8 as (Vector of D2) by L27 , L25 , STRUCT_0:def 5;
L28: ( C7 + C8 ) = ( D3 + D4 ) by VECTSP_4:13;
thus L29: thesis by L28 , L23;
end;
L30: (the carrier of D2) c= (the carrier of ( C2 + C3 ))
proof
let R6 being set;
assume L31: R6 in (the carrier of D2);
L32: R6 in ( C5 + C6 ) by L31 , STRUCT_0:def 5;
consider C9 , C10 being (Vector of C4) such that L33: (C9 in C5 & C10 in C6 & ( C9 + C10 ) = R6) by L32 , VECTSP_5:1;
reconsider D5 = C9 , D6 = C10 as (Vector of C1) by VECTSP_4:10;
L34: ( C9 + C10 ) = ( D5 + D6 ) by VECTSP_4:13;
L35: R6 in ( C2 + C3 ) by L34 , L2 , L3 , L33 , VECTSP_5:1;
thus L36: thesis by L35 , STRUCT_0:def 5;
end;
L37: (the carrier of ( C2 + C3 )) = (the carrier of D2) by L30 , L18 , XBOOLE_0:def 10;
thus L38: thesis by L37 , VECTSP_4:29;
end;
theorem
L39: (for R8 being Field holds (for B7 being (VectSp of R8) holds (for B8 , B9 being (Subspace of B7) holds (( B8 /\ B9 ) = ( (0). B7 ) implies (for B10 being  linearly-independent (Subset of B8) holds (for B11 being  linearly-independent (Subset of B9) holds ( B10 \/ B11 ) is  linearly-independent  linearly-independent  linearly-independent  linearly-independent (Subset of ( B8 + B9 ))))))))
proof
let R8 being Field;
let C11 being (VectSp of R8);
let C12 , C13 being (Subspace of C11);
assume that
L40: ( C12 /\ C13 ) = ( (0). C11 );
reconsider D7 = C12 , D8 = C13 as (Subspace of ( C12 + C13 )) by VECTSP_5:7;
let C14 being  linearly-independent (Subset of C12);
let C15 being  linearly-independent (Subset of C13);
L41: C13 is (Subspace of ( C12 + C13 )) by VECTSP_5:7;
L42: (the carrier of C13) c= (the carrier of ( C12 + C13 )) by L41 , VECTSP_4:def 2;
L43: C15 c= (the carrier of ( C12 + C13 )) by L42 , XBOOLE_1:1;
L44: C12 is (Subspace of ( C12 + C13 )) by VECTSP_5:7;
L45: (the carrier of C12) c= (the carrier of ( C12 + C13 )) by L44 , VECTSP_4:def 2;
L46: C14 c= (the carrier of ( C12 + C13 )) by L45 , XBOOLE_1:1;
reconsider D9 = ( C14 \/ C15 ) , D10 = C14 , D11 = C15 as (Subset of ( C12 + C13 )) by L46 , L43 , XBOOLE_1:8;
L47: D9 is  linearly-independent
proof
let C16 being (Linear_Combination of D9);
assume L48: ( Sum C16 ) = ( 0. ( C12 + C13 ) );
L49: ( Sum C16 ) = ( ( 0. ( C12 + C13 ) ) + ( 0. ( C12 + C13 ) ) ) by L48 , RLVECT_1:def 4;
set D12 = ( ( Carrier C16 ) /\ C14 );
defpred S1[ set ] means $1 in D12;
L50: D12 c= ( Carrier C16 ) by XBOOLE_1:17;
reconsider D13 = D12 as  finite (Subset of ( C12 + C13 )) by L50 , XBOOLE_1:1;
set D14 = ( ( Carrier C16 ) \ C14 );
deffunc H1(set) = ( C16 . $1 );
defpred S2[ set ] means $1 in D14;
reconsider D15 = D14 as  finite (Subset of ( C12 + C13 ));
L51: D15 c= D11
proof
let R6 being set;
assume L52: R6 in D15;
L53: (R6 in ( Carrier C16 ) & (not R6 in D10)) by L52 , XBOOLE_0:def 5;
L54: ( Carrier C16 ) c= D9 by VECTSP_6:def 4;
thus L55: thesis by L54 , L53 , XBOOLE_0:def 3;
end;
L56: ( (0). C11 ) = ( (0). ( C12 + C13 ) ) by VECTSP_4:36;
L57: ( D7 /\ D8 ) = ( (0). ( C12 + C13 ) ) by L56 , L40 , L1;
L58: ( D7 + D8 ) = ( C12 + C13 ) by L1;
L59: ( C12 + C13 ) is_the_direct_sum_of D7 , D8 by L58 , L57 , VECTSP_5:def 4;
L60: D11 is  linearly-independent by L41 , VECTSP_9:11;
L61: D10 is  linearly-independent by L44 , VECTSP_9:11;
deffunc H2(set) = ( 0. R8 );
L62: (( 0. C12 ) in D7 & ( 0. C13 ) in D8) by STRUCT_0:def 5;
L63:
now
let R6 being set;
assume L64: R6 in (the carrier of ( C12 + C13 ));
reconsider D16 = R6 as (Vector of ( C12 + C13 )) by L64;
L65: ( C16 . D16 ) in (the carrier of R8);
thus L66: (S1[ R6 ] implies H1(R6) in (the carrier of R8)) by L65;
assume L67: (not S1[ R6 ]);
thus L68: H2(R6) in (the carrier of R8);
end;
consider C17 being (Function of (the carrier of ( C12 + C13 )) , (the carrier of R8)) such that L69: (for R6 being set holds (R6 in (the carrier of ( C12 + C13 )) implies ((S1[ R6 ] implies ( C17 . R6 ) = H1(R6)) & ((not S1[ R6 ]) implies ( C17 . R6 ) = H2(R6))))) from FUNCT_2:sch 5(L63);
deffunc H3(set) = ( C16 . $1 );
L70:
now
let R6 being set;
assume L71: R6 in (the carrier of ( C12 + C13 ));
reconsider D17 = R6 as (Vector of ( C12 + C13 )) by L71;
L72: ( C16 . D17 ) in (the carrier of R8);
thus L73: (S2[ R6 ] implies H3(R6) in (the carrier of R8)) by L72;
assume L74: (not S2[ R6 ]);
thus L75: H2(R6) in (the carrier of R8);
end;
consider C18 being (Function of (the carrier of ( C12 + C13 )) , (the carrier of R8)) such that L76: (for R6 being set holds (R6 in (the carrier of ( C12 + C13 )) implies ((S2[ R6 ] implies ( C18 . R6 ) = H3(R6)) & ((not S2[ R6 ]) implies ( C18 . R6 ) = H2(R6))))) from FUNCT_2:sch 5(L70);
reconsider D18 = C18 as (Element of ( Funcs ((the carrier of ( C12 + C13 )) , (the carrier of R8)) )) by FUNCT_2:8;
L77: (for B12 being (Vector of ( C12 + C13 )) holds ((not B12 in D15) implies ( D18 . B12 ) = ( 0. R8 ))) by L76;
reconsider D19 = D18 as (Linear_Combination of ( C12 + C13 )) by L77 , VECTSP_6:def 1;
L78: ( Carrier D19 ) c= D15
proof
let R6 being set;
assume L79: R6 in ( Carrier D19 );
L80: (ex B13 being (Vector of ( C12 + C13 )) st (R6 = B13 & ( D19 . B13 ) <> ( 0. R8 ))) by L79;
assume L81: (not R6 in D15);
thus L82: thesis by L81 , L76 , L80;
end;
L83: ( Carrier D19 ) c= D11 by L78 , L51 , XBOOLE_1:1;
reconsider D20 = D19 as (Linear_Combination of D11) by L83 , VECTSP_6:def 4;
reconsider D21 = C17 as (Element of ( Funcs ((the carrier of ( C12 + C13 )) , (the carrier of R8)) )) by FUNCT_2:8;
L84: (for B14 being (Vector of ( C12 + C13 )) holds ((not B14 in D13) implies ( D21 . B14 ) = ( 0. R8 ))) by L69;
reconsider D22 = D21 as (Linear_Combination of ( C12 + C13 )) by L84 , VECTSP_6:def 1;
L85: ( Carrier D22 ) c= D10
proof
let R6 being set;
assume L86: R6 in ( Carrier D22 );
L87: (ex B15 being (Vector of ( C12 + C13 )) st (R6 = B15 & ( D22 . B15 ) <> ( 0. R8 ))) by L86;
assume L88: (not R6 in D10);
L89: (not R6 in D13) by L88 , XBOOLE_0:def 4;
thus L90: thesis by L89 , L69 , L87;
end;
reconsider D23 = D22 as (Linear_Combination of D10) by L85 , VECTSP_6:def 4;
L91: (ex B16 being (Linear_Combination of D7) st (( Carrier B16 ) = ( Carrier D23 ) & ( Sum D23 ) = ( Sum B16 ))) by L85 , VECTSP_9:9 , XBOOLE_1:1;
L92: ( Sum D23 ) in D7 by L91 , STRUCT_0:def 5;
L93: C16 = ( D23 + D20 )
proof
let C19 being (Vector of ( C12 + C13 ));
L94:
now
per cases ;
suppose L95: C19 in D13;

L96:
now
assume L97: C19 in D15;
L98: (not C19 in D10) by L97 , XBOOLE_0:def 5;
thus L99: contradiction by L98 , L95 , XBOOLE_0:def 4;
end;
thus L100: ( ( D23 + D20 ) . C19 ) = ( ( D23 . C19 ) + ( D20 . C19 ) ) by VECTSP_6:22
.= ( ( C16 . C19 ) + ( D20 . C19 ) ) by L69 , L95
.= ( ( C16 . C19 ) + ( 0. R8 ) ) by L76 , L96
.= ( C16 . C19 ) by RLVECT_1:4;
end;
suppose L101: (not C19 in D13);

L102:
now
per cases ;
suppose L103: C19 in ( Carrier C16 );

L104:
now
assume L105: (not C19 in D15);
L106: ((not C19 in ( Carrier C16 )) or C19 in D10) by L105 , XBOOLE_0:def 5;
thus L107: contradiction by L106 , L101 , L103 , XBOOLE_0:def 4;
end;
thus L108: ( ( D23 + D20 ) . C19 ) = ( ( D23 . C19 ) + ( D20 . C19 ) ) by VECTSP_6:22
.= ( ( D20 . C19 ) + ( 0. R8 ) ) by L69 , L101
.= ( D20 . C19 ) by RLVECT_1:4
.= ( C16 . C19 ) by L76 , L104;
end;
suppose L109: (not C19 in ( Carrier C16 ));

L110: (not C19 in D15) by L109 , XBOOLE_0:def 5;
L111: (not C19 in D13) by L109 , XBOOLE_0:def 4;
thus L112: ( ( D23 + D20 ) . C19 ) = ( ( D23 . C19 ) + ( D20 . C19 ) ) by VECTSP_6:22
.= ( ( 0. R8 ) + ( D20 . C19 ) ) by L69 , L111
.= ( ( 0. R8 ) + ( 0. R8 ) ) by L76 , L110
.= ( 0. R8 ) by RLVECT_1:4
.= ( C16 . C19 ) by L109;
end;
end;
thus L114: thesis by L102;
end;
end;
thus L116: thesis by L94;
end;
L117: ( Sum C16 ) = ( ( Sum D23 ) + ( Sum D20 ) ) by L93 , VECTSP_6:44;
L118: ( Carrier D20 ) c= C15 by L78 , L51 , XBOOLE_1:1;
L119: (ex B17 being (Linear_Combination of D8) st (( Carrier B17 ) = ( Carrier D20 ) & ( Sum D20 ) = ( Sum B17 ))) by L118 , VECTSP_9:9 , XBOOLE_1:1;
L120: ( Sum D20 ) in D8 by L119 , STRUCT_0:def 5;
L121: (( 0. ( C12 + C13 ) ) = ( 0. D7 ) & ( 0. ( C12 + C13 ) ) = ( 0. D8 )) by VECTSP_4:11;
L122: ( Sum D23 ) = ( 0. ( C12 + C13 ) ) by L121 , L117 , L92 , L120 , L59 , L62 , L49 , VECTSP_5:48;
L123: ( Carrier D23 ) = ( {} ) by L122 , L61 , VECTSP_7:def 1;
L124: ( Sum D20 ) = ( 0. ( C12 + C13 ) ) by L117 , L92 , L120 , L59 , L121 , L62 , L49 , VECTSP_5:48;
L125: ( Carrier D20 ) = ( {} ) by L124 , L60 , VECTSP_7:def 1;
L126: ( ( {} ) \/ ( {} ) ) = ( {} );
thus L127: thesis by L126 , L93 , L123 , L125 , VECTSP_6:23 , XBOOLE_1:3;
end;
thus L128: thesis by L47;
end;
theorem
L129: (for R8 being Field holds (for B18 being (VectSp of R8) holds (for B19 , B20 being (Subspace of B18) holds (( B19 /\ B20 ) = ( (0). B18 ) implies (for B21 being (Basis of B19) holds (for B22 being (Basis of B20) holds ( B21 \/ B22 ) is (Basis of ( B19 + B20 ))))))))
proof
let R8 being Field;
let C20 being (VectSp of R8);
let C21 , C22 being (Subspace of C20);
assume that
L130: ( C21 /\ C22 ) = ( (0). C20 );
let C23 being (Basis of C21);
let C24 being (Basis of C22);
L131: C22 is (Subspace of ( C21 + C22 )) by VECTSP_5:7;
L132: (the carrier of C22) c= (the carrier of ( C21 + C22 )) by L131 , VECTSP_4:def 2;
L133: C24 c= (the carrier of ( C21 + C22 )) by L132 , XBOOLE_1:1;
L134: C21 is (Subspace of ( C21 + C22 )) by VECTSP_5:7;
L135: (the carrier of C21) c= (the carrier of ( C21 + C22 )) by L134 , VECTSP_4:def 2;
L136: C23 c= (the carrier of ( C21 + C22 )) by L135 , XBOOLE_1:1;
reconsider D24 = ( C23 \/ C24 ) , D25 = C23 , D26 = C24 as (Subset of ( C21 + C22 )) by L136 , L133 , XBOOLE_1:8;
L137: ( (Omega). C22 ) = ( Lin C24 ) by VECTSP_7:def 3
.= ( Lin D26 ) by L131 , VECTSP_9:17;
L138: ( Lin D24 ) = ( ( Lin D25 ) + ( Lin D26 ) ) by VECTSP_7:15;
L139: ( (Omega). C21 ) = ( Lin C23 ) by VECTSP_7:def 3
.= ( Lin D25 ) by L134 , VECTSP_9:17;
L140: (the carrier of ( C21 + C22 )) c= (the carrier of ( Lin D24 ))
proof
let R6 being set;
assume that
L141: R6 in (the carrier of ( C21 + C22 ));
reconsider D27 = R6 as (Vector of ( C21 + C22 )) by L141;
L142: D27 in ( C21 + C22 ) by STRUCT_0:def 5;
consider C25 , C26 being (Vector of C20) such that L143: C25 in C21 and L144: C26 in C22 and L145: D27 = ( C25 + C26 ) by L142 , VECTSP_5:1;
L146: (C25 is (Vector of C21) & C26 is (Vector of C22)) by L143 , L144 , STRUCT_0:def 5;
reconsider D28 = C25 , D29 = C26 as (Vector of ( C21 + C22 )) by L146 , L134 , L131 , VECTSP_4:10;
L147: ( C25 + C26 ) = ( D28 + D29 ) by VECTSP_4:13;
L148: C26 in (the carrier of ( Lin D26 )) by L137 , L144 , STRUCT_0:def 5;
L149: C26 in ( Lin D26 ) by L148 , STRUCT_0:def 5;
L150: C25 in (the carrier of ( Lin D25 )) by L139 , L143 , STRUCT_0:def 5;
L151: C25 in ( Lin D25 ) by L150 , STRUCT_0:def 5;
L152: ( D28 + D29 ) in ( Lin D24 ) by L151 , L138 , L149 , VECTSP_5:1;
thus L153: thesis by L152 , L145 , L147 , STRUCT_0:def 5;
end;
L154: (the carrier of ( Lin D24 )) c= (the carrier of ( C21 + C22 )) by VECTSP_4:def 2;
L155: (the carrier of ( Lin D24 )) = (the carrier of ( C21 + C22 )) by L154 , L140 , XBOOLE_0:def 10;
L156: ( Lin D24 ) = ( the VectSpStr of ( C21 + C22 ) ) by L155 , VECTSP_4:31;
L157: (C24 is  linearly-independent & C23 is  linearly-independent) by VECTSP_7:def 3;
L158: ( C23 \/ C24 ) is  linearly-independent  linearly-independent  linearly-independent  linearly-independent (Subset of ( C21 + C22 )) by L157 , L130 , L39;
thus L159: thesis by L158 , L156 , VECTSP_7:def 3;
end;
theorem
L160: (for R8 being Field holds (for B23 being  finite-dimensional (VectSp of R8) holds (for B24 being (OrdBasis of ( (Omega). B23 )) holds B24 is (OrdBasis of B23))))
proof
let R8 being Field;
let C27 being  finite-dimensional (VectSp of R8);
let C28 being (OrdBasis of ( (Omega). C27 ));
reconsider D30 = ( rng C28 ) as (Basis of ( (Omega). C27 )) by MATRLIN:def 2;
L161: D30 is  linearly-independent by VECTSP_7:def 3;
reconsider D31 = D30 as  linearly-independent (Subset of C27) by L161 , VECTSP_9:11;
L162: ( Lin D31 ) = ( Lin D30 ) by VECTSP_9:17
.= ( the VectSpStr of C27 ) by VECTSP_7:def 3;
L163: D31 is (Basis of C27) by L162 , VECTSP_7:def 3;
L164: C28 is  one-to-one by MATRLIN:def 2;
thus L165: thesis by L164 , L163 , MATRLIN:def 2;
end;
theorem
L166: (for R8 being Field holds (for B25 being (VectSp of R8) holds (for B26 being  finite (Subset of B25) holds (( dim ( Lin B26 ) ) = ( card B26 ) implies B26 is  linearly-independent))))
proof
let R8 being Field;
let C29 being (VectSp of R8);
let C30 being  finite (Subset of C29);
assume that
L167: ( dim ( Lin C30 ) ) = ( card C30 );
set D32 = ( Lin C30 );
L168: C30 c= (the carrier of D32)
proof
let R6 being set;
assume L169: R6 in C30;
L170: R6 in D32 by L169 , VECTSP_7:8;
thus L171: thesis by L170 , STRUCT_0:def 5;
end;
reconsider D33 = C30 as (Subset of D32) by L168;
L172: ( Lin D33 ) = D32 by VECTSP_9:17;
consider C31 being (Subset of D32) such that L173: C31 c= D33 and L174: C31 is  linearly-independent and L175: ( Lin C31 ) = D32 by L172 , VECTSP_7:18;
reconsider D34 = C31 as  finite (Subset of D32) by L173;
L176: D34 is (Basis of D32) by L174 , L175 , VECTSP_7:def 3;
reconsider D35 = D32 as  finite-dimensional (VectSp of R8) by L176 , MATRLIN:def 1;
L177: ( card C30 ) = ( dim D35 ) by L167
.= ( card D34 ) by L174 , L175 , VECTSP_9:26;
L178: C30 = D34 by L177 , L173 , CARD_FIN:1;
thus L179: thesis by L178 , L174 , VECTSP_9:11;
end;
theorem
L180: (for R8 being Field holds (for B27 being (VectSp of R8) holds (for B28 being  finite (Subset of B27) holds ( dim ( Lin B28 ) ) <= ( card B28 ))))
proof
let R8 being Field;
let C32 being (VectSp of R8);
let C33 being  finite (Subset of C32);
set D36 = ( Lin C33 );
L181: C33 c= (the carrier of D36)
proof
let R6 being set;
assume L182: R6 in C33;
L183: R6 in D36 by L182 , VECTSP_7:8;
thus L184: thesis by L183 , STRUCT_0:def 5;
end;
reconsider D37 = C33 as (Subset of D36) by L181;
L185: ( Lin D37 ) = D36 by VECTSP_9:17;
consider C34 being (Subset of D36) such that L186: C34 c= D37 and L187: (C34 is  linearly-independent & ( Lin C34 ) = D36) by L185 , VECTSP_7:18;
reconsider D38 = C34 as  finite (Subset of D36) by L186;
L188: D38 is (Basis of D36) by L187 , VECTSP_7:def 3;
reconsider D39 = D36 as  finite-dimensional (VectSp of R8) by L188 , MATRLIN:def 1;
L189: (( card D38 ) = ( dim D39 ) & ( card D38 ) c= ( card C33 )) by L186 , L187 , CARD_1:11 , VECTSP_9:26;
thus L190: thesis by L189 , NAT_1:39;
end;
begin
L191: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R23 being (FinSequence of R11) holds (for R26 being (FinSequence of R8) holds ( dom ( lmlt (R26 , R23) ) ) = ( ( dom R26 ) /\ ( dom R23 ) )))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R23 being (FinSequence of R11);
let R26 being (FinSequence of R8);
L192: (( rng R26 ) c= (the carrier of R8) & ( rng R23 ) c= (the carrier of R11)) by FINSEQ_1:def 4;
L193: [: ( rng R26 ) , ( rng R23 ) :] c= [: (the carrier of R8) , (the carrier of R11) :] by L192 , ZFMISC_1:96;
L194: [: ( rng R26 ) , ( rng R23 ) :] c= ( dom (the lmult of R11) ) by L193 , FUNCT_2:def 1;
thus L195: thesis by L194 , FUNCOP_1:69;
end;
L196: (for R8 being Field holds (for R27 being (FinSequence of R8) holds (for R28 being (FinSequence of R8) holds ( dom ( R27 + R28 ) ) = ( ( dom R27 ) /\ ( dom R28 ) ))))
proof
let R8 being Field;
let R27 being (FinSequence of R8);
let R28 being (FinSequence of R8);
L197: (( rng R27 ) c= (the carrier of R8) & ( rng R28 ) c= (the carrier of R8)) by FINSEQ_1:def 4;
L198: [: ( rng R27 ) , ( rng R28 ) :] c= [: (the carrier of R8) , (the carrier of R8) :] by L197 , ZFMISC_1:96;
L199: [: ( rng R27 ) , ( rng R28 ) :] c= ( dom (the addF of R8) ) by L198 , FUNCT_2:def 1;
thus L200: thesis by L199 , FUNCOP_1:69;
end;
L201: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R24 being (FinSequence of R11) holds (for R25 being (FinSequence of R11) holds ( dom ( R24 + R25 ) ) = ( ( dom R24 ) /\ ( dom R25 ) )))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R24 being (FinSequence of R11);
let R25 being (FinSequence of R11);
L202: (( rng R24 ) c= (the carrier of R11) & ( rng R25 ) c= (the carrier of R11)) by FINSEQ_1:def 4;
L203: [: ( rng R24 ) , ( rng R25 ) :] c= [: (the carrier of R11) , (the carrier of R11) :] by L202 , ZFMISC_1:96;
L204: [: ( rng R24 ) , ( rng R25 ) :] c= ( dom (the addF of R11) ) by L203 , FUNCT_2:def 1;
thus L205: thesis by L204 , FUNCOP_1:69;
end;
theorem
L206: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R23 being (FinSequence of R11) holds (for R27 being (FinSequence of R8) holds (for R28 being (FinSequence of R8) holds ( lmlt (( R27 + R28 ) , R23) ) = ( ( lmlt (R27 , R23) ) + ( lmlt (R28 , R23) ) ))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R23 being (FinSequence of R11);
let R27 being (FinSequence of R8);
let R28 being (FinSequence of R8);
set D40 = ( lmlt (( R27 + R28 ) , R23) );
set D41 = ( lmlt (R27 , R23) );
set D42 = ( lmlt (R28 , R23) );
L207: ( dom ( D41 + D42 ) ) = ( ( dom D41 ) /\ ( dom D42 ) ) by L201;
L208: ( dom D40 ) = ( ( dom ( R27 + R28 ) ) /\ ( dom R23 ) ) by L191;
L209: ( dom D41 ) = ( ( dom R27 ) /\ ( dom R23 ) ) by L191;
L210: ( dom D42 ) = ( ( dom R28 ) /\ ( dom R23 ) ) by L191;
L211: ( dom ( D41 + D42 ) ) = ( ( ( ( dom R27 ) /\ ( dom R23 ) ) /\ ( dom R28 ) ) /\ ( dom R23 ) ) by L210 , L207 , L209 , XBOOLE_1:16
.= ( ( ( ( dom R27 ) /\ ( dom R28 ) ) /\ ( dom R23 ) ) /\ ( dom R23 ) ) by XBOOLE_1:16
.= ( ( ( dom R27 ) /\ ( dom R28 ) ) /\ ( ( dom R23 ) /\ ( dom R23 ) ) ) by XBOOLE_1:16
.= ( dom D40 ) by L208 , L196;
L212:
now
let R6 being set;
assume that
L213: R6 in ( dom ( D41 + D42 ) );
L214: R6 in ( dom D42 ) by L207 , L213 , XBOOLE_0:def 4;
L215: ( D42 /. R6 ) = ( D42 . R6 ) by L214 , PARTFUN1:def 6;
L216: R6 in ( dom R28 ) by L210 , L214 , XBOOLE_0:def 4;
L217: ( R28 /. R6 ) = ( R28 . R6 ) by L216 , PARTFUN1:def 6;
L218: R6 in ( dom ( R27 + R28 ) ) by L208 , L211 , L213 , XBOOLE_0:def 4;
L219: ( ( R27 + R28 ) . R6 ) = ( ( R27 + R28 ) /. R6 ) by L218 , PARTFUN1:def 6;
L220: R6 in ( dom D41 ) by L207 , L213 , XBOOLE_0:def 4;
L221: R6 in ( dom R27 ) by L220 , L209 , XBOOLE_0:def 4;
L222: ( R27 /. R6 ) = ( R27 . R6 ) by L221 , PARTFUN1:def 6;
L223: R6 in ( dom R23 ) by L209 , L220 , XBOOLE_0:def 4;
L224: ( R23 /. R6 ) = ( R23 . R6 ) by L223 , PARTFUN1:def 6;
L225: ( D41 /. R6 ) = ( D41 . R6 ) by L220 , PARTFUN1:def 6;
thus L226: ( ( D41 + D42 ) . R6 ) = ( ( D41 /. R6 ) + ( D42 /. R6 ) ) by L225 , L213 , L215 , FVSUM_1:17
.= ( ( (the lmult of R11) . (( R27 /. R6 ) , ( R23 /. R6 )) ) + ( D42 /. R6 ) ) by L220 , L225 , L222 , L224 , FUNCOP_1:22
.= ( ( ( R27 /. R6 ) * ( R23 /. R6 ) ) + ( ( R28 /. R6 ) * ( R23 /. R6 ) ) ) by L214 , L215 , L217 , L224 , FUNCOP_1:22
.= ( ( ( R27 /. R6 ) + ( R28 /. R6 ) ) * ( R23 /. R6 ) ) by VECTSP_1:def 15
.= ( ( ( R27 + R28 ) /. R6 ) * ( R23 /. R6 ) ) by L218 , L222 , L217 , L219 , FVSUM_1:17
.= ( D40 . R6 ) by L211 , L213 , L224 , L219 , FUNCOP_1:22;
end;
thus L227: thesis by L212 , L211 , FUNCT_1:2;
end;
theorem
L228: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R24 being (FinSequence of R11) holds (for R25 being (FinSequence of R11) holds (for R26 being (FinSequence of R8) holds ( lmlt (R26 , ( R24 + R25 )) ) = ( ( lmlt (R26 , R24) ) + ( lmlt (R26 , R25) ) ))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R24 being (FinSequence of R11);
let R25 being (FinSequence of R11);
let R26 being (FinSequence of R8);
set D43 = ( lmlt (R26 , ( R24 + R25 )) );
set D44 = ( lmlt (R26 , R24) );
set D45 = ( lmlt (R26 , R25) );
L229: ( dom ( D44 + D45 ) ) = ( ( dom D44 ) /\ ( dom D45 ) ) by L201;
L230: ( dom D43 ) = ( ( dom R26 ) /\ ( dom ( R24 + R25 ) ) ) by L191;
L231: ( dom ( R24 + R25 ) ) = ( ( dom R24 ) /\ ( dom R25 ) ) by L201;
L232: ( dom D44 ) = ( ( dom R26 ) /\ ( dom R24 ) ) by L191;
L233: ( dom D45 ) = ( ( dom R26 ) /\ ( dom R25 ) ) by L191;
L234: ( dom ( D44 + D45 ) ) = ( ( ( ( dom R26 ) /\ ( dom R24 ) ) /\ ( dom R26 ) ) /\ ( dom R25 ) ) by L233 , L229 , L232 , XBOOLE_1:16
.= ( ( ( ( dom R26 ) /\ ( dom R26 ) ) /\ ( dom R24 ) ) /\ ( dom R25 ) ) by XBOOLE_1:16
.= ( dom D43 ) by L231 , L230 , XBOOLE_1:16;
L235:
now
let R6 being set;
assume that
L236: R6 in ( dom ( D44 + D45 ) );
L237: R6 in ( dom D45 ) by L229 , L236 , XBOOLE_0:def 4;
L238: ( D45 /. R6 ) = ( D45 . R6 ) by L237 , PARTFUN1:def 6;
L239: R6 in ( dom R25 ) by L233 , L237 , XBOOLE_0:def 4;
L240: ( R25 /. R6 ) = ( R25 . R6 ) by L239 , PARTFUN1:def 6;
L241: R6 in ( dom ( R24 + R25 ) ) by L230 , L234 , L236 , XBOOLE_0:def 4;
L242: ( ( R24 + R25 ) . R6 ) = ( ( R24 + R25 ) /. R6 ) by L241 , PARTFUN1:def 6;
L243: R6 in ( dom D44 ) by L229 , L236 , XBOOLE_0:def 4;
L244: R6 in ( dom R26 ) by L243 , L232 , XBOOLE_0:def 4;
L245: ( R26 /. R6 ) = ( R26 . R6 ) by L244 , PARTFUN1:def 6;
L246: R6 in ( dom R24 ) by L232 , L243 , XBOOLE_0:def 4;
L247: ( R24 /. R6 ) = ( R24 . R6 ) by L246 , PARTFUN1:def 6;
L248: ( D44 /. R6 ) = ( D44 . R6 ) by L243 , PARTFUN1:def 6;
thus L249: ( ( D44 + D45 ) . R6 ) = ( ( D44 /. R6 ) + ( D45 /. R6 ) ) by L248 , L236 , L238 , FVSUM_1:17
.= ( ( (the lmult of R11) . (( R26 /. R6 ) , ( R24 /. R6 )) ) + ( D45 /. R6 ) ) by L243 , L248 , L245 , L247 , FUNCOP_1:22
.= ( ( ( R26 /. R6 ) * ( R24 /. R6 ) ) + ( ( R26 /. R6 ) * ( R25 /. R6 ) ) ) by L237 , L238 , L245 , L240 , FUNCOP_1:22
.= ( ( R26 /. R6 ) * ( ( R24 /. R6 ) + ( R25 /. R6 ) ) ) by VECTSP_1:def 14
.= ( ( R26 /. R6 ) * ( ( R24 + R25 ) /. R6 ) ) by L241 , L247 , L240 , L242 , FVSUM_1:17
.= ( D43 . R6 ) by L234 , L236 , L245 , L242 , FUNCOP_1:22;
end;
thus L250: thesis by L235 , L234 , FUNCT_1:2;
end;
theorem
L251: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R24 being (FinSequence of R11) holds (for R25 being (FinSequence of R11) holds (for R27 being (FinSequence of R8) holds (for R28 being (FinSequence of R8) holds ((( len R27 ) = ( len R24 ) & ( len R28 ) = ( len R25 )) implies ( lmlt (( R27 ^ R28 ) , ( R24 ^ R25 )) ) = ( ( lmlt (R27 , R24) ) ^ ( lmlt (R28 , R25) ) ))))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R24 being (FinSequence of R11);
let R25 being (FinSequence of R11);
let R27 being (FinSequence of R8);
let R28 being (FinSequence of R8);
assume that
L252: ( len R27 ) = ( len R24 )
and
L253: ( len R28 ) = ( len R25 );
reconsider D46 = R25 as (Element of ( ( len R28 ) -tuples_on (the carrier of R11) )) by L253 , FINSEQ_2:92;
reconsider D47 = R24 as (Element of ( ( len R27 ) -tuples_on (the carrier of R11) )) by L252 , FINSEQ_2:92;
reconsider D48 = R27 as (Element of ( ( len R27 ) -tuples_on (the carrier of R8) )) by FINSEQ_2:92;
reconsider D49 = R28 as (Element of ( ( len R28 ) -tuples_on (the carrier of R8) )) by FINSEQ_2:92;
thus L254: ( lmlt (( R27 ^ R28 ) , ( R24 ^ R25 )) ) = ( ( (the lmult of R11) .: (D48 , D47) ) ^ ( (the lmult of R11) .: (D49 , D46) ) ) by FINSEQOP:11
.= ( ( lmlt (R27 , R24) ) ^ ( lmlt (R28 , R25) ) );
end;
theorem
L255: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R24 being (FinSequence of R11) holds (for R25 being (FinSequence of R11) holds (( len R24 ) = ( len R25 ) implies ( Sum ( R24 + R25 ) ) = ( ( Sum R24 ) + ( Sum R25 ) ))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R24 being (FinSequence of R11);
let R25 being (FinSequence of R11);
assume L256: ( len R24 ) = ( len R25 );
reconsider D50 = R24 , D51 = R25 as (Element of ( ( len R24 ) -tuples_on (the carrier of R11) )) by L256 , FINSEQ_2:92;
thus L257: ( Sum ( R24 + R25 ) ) = ( Sum ( D50 + D51 ) )
.= ( ( Sum R24 ) + ( Sum R25 ) ) by FVSUM_1:76;
end;
theorem
L258: (for R8 being Field holds (for R9 being (Element of R8) holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R23 being (FinSequence of R11) holds ( Sum ( lmlt (( ( len R23 ) |-> R9 ) , R23) ) ) = ( R9 * ( Sum R23 ) )))))
proof
let R8 being Field;
let R9 being (Element of R8);
let R11 being  finite-dimensional (VectSp of R8);
let R23 being (FinSequence of R11);
defpred S3[ Nat ] means (for R23 being (FinSequence of R11) holds (for R9 being (Element of R8) holds (( len R23 ) = $1 implies ( Sum ( lmlt (( ( len R23 ) |-> R9 ) , R23) ) ) = ( R9 * ( Sum R23 ) ))));
L259: (for R4 being Nat holds (S3[ R4 ] implies S3[ ( R4 + 1 ) ]))
proof
let R4 being Nat;
assume that
L260: S3[ R4 ];
set D52 = ( R4 + 1 );
let R23 being (FinSequence of R11);
let R9 being (Element of R8);
assume that
L261: ( len R23 ) = D52;
L262: ( len ( R23 | R4 ) ) = R4 by L261 , FINSEQ_1:59 , NAT_1:11;
L263: ( dom ( R23 | R4 ) ) = ( Seg R4 ) by L262 , FINSEQ_1:def 3;
L264: 1 <= D52 by NAT_1:11;
L265: D52 in ( dom R23 ) by L264 , L261 , FINSEQ_3:25;
L266: ( R23 /. D52 ) = ( R23 . D52 ) by L265 , PARTFUN1:def 6;
L267: ( lmlt (<* R9 *> , <* ( R23 /. D52 ) *>) ) = <* ( R9 * ( R23 /. D52 ) ) *> by FINSEQ_2:74;
L268: (( len <* R9 *> ) = 1 & ( len <* ( R23 . D52 ) *> ) = 1) by FINSEQ_1:39;
L269: (( D52 |-> R9 ) = ( ( R4 |-> R9 ) ^ <* R9 *> ) & ( len ( R4 |-> R9 ) ) = R4) by CARD_1:def 7 , FINSEQ_2:60;
L270: R23 = ( ( R23 | R4 ) ^ <* ( R23 . D52 ) *> ) by L261 , FINSEQ_3:55;
thus L271: ( Sum ( lmlt (( ( len R23 ) |-> R9 ) , R23) ) ) = ( Sum ( ( lmlt (( R4 |-> R9 ) , ( R23 | R4 )) ) ^ ( lmlt (<* R9 *> , <* ( R23 /. D52 ) *>) ) ) ) by L270 , L261 , L266 , L262 , L269 , L268 , L251
.= ( ( Sum ( lmlt (( R4 |-> R9 ) , ( R23 | R4 )) ) ) + ( Sum ( lmlt (<* R9 *> , <* ( R23 /. D52 ) *>) ) ) ) by RLVECT_1:41
.= ( ( R9 * ( Sum ( R23 | R4 ) ) ) + ( Sum <* ( R9 * ( R23 /. D52 ) ) *> ) ) by L260 , L262 , L267
.= ( ( R9 * ( Sum ( R23 | R4 ) ) ) + ( R9 * ( R23 /. D52 ) ) ) by RLVECT_1:44
.= ( R9 * ( ( Sum ( R23 | R4 ) ) + ( R23 /. D52 ) ) ) by VECTSP_1:def 14
.= ( R9 * ( Sum R23 ) ) by L261 , L266 , L262 , L263 , RLVECT_1:38;
end;
L272: S3[ ( 0 ) ]
proof
let R23 being (FinSequence of R11);
let R9 being (Element of R8);
assume that
L273: ( len R23 ) = ( 0 );
set D53 = ( ( len R23 ) |-> R9 );
set D54 = ( lmlt (D53 , R23) );
L274: ( len D53 ) = ( len R23 ) by CARD_1:def 7;
L275: ( dom D53 ) = ( dom R23 ) by L274 , FINSEQ_3:29;
L276: ( dom D54 ) = ( dom R23 ) by L275 , MATRLIN:12;
L277: ( len R23 ) = ( len D54 ) by L276 , FINSEQ_3:29;
L278: D54 = ( <*> (the carrier of R11) ) by L277 , L273;
L279: ( Sum D54 ) = ( 0. R11 ) by L278 , RLVECT_1:43;
L280: R23 = ( <*> (the carrier of R11) ) by L273;
L281: ( Sum R23 ) = ( 0. R11 ) by L280 , RLVECT_1:43;
thus L282: thesis by L281 , L279 , VECTSP_1:14;
end;
L283: (for R4 being Nat holds S3[ R4 ]) from NAT_1:sch 2(L272 , L259);
thus L284: thesis by L283;
end;
theorem
L285: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R21 being (Element of R11) holds (for R26 being (FinSequence of R8) holds ( Sum ( lmlt (R26 , ( ( len R26 ) |-> R21 )) ) ) = ( ( Sum R26 ) * R21 )))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R21 being (Element of R11);
let R26 being (FinSequence of R8);
set D55 = ( ( len R26 ) |-> R21 );
set D56 = ( lmlt (R26 , D55) );
L286: ( len D55 ) = ( len R26 ) by CARD_1:def 7;
L287: ( dom D55 ) = ( dom R26 ) by L286 , FINSEQ_3:29;
L288: ( dom D56 ) = ( dom R26 ) by L287 , MATRLIN:12;
L289:
now
let R5 being Nat;
let R10 being (Element of R8);
assume that
L290: R5 in ( dom D56 )
and
L291: R10 = ( R26 . R5 );
L292: R5 in ( Seg ( len R26 ) ) by L288 , L290 , FINSEQ_1:def 3;
L293: ( D55 . R5 ) = R21 by L292 , FINSEQ_2:57;
thus L294: ( D56 . R5 ) = ( R10 * R21 ) by L293 , L290 , L291 , FUNCOP_1:22;
end;
L295: ( len R26 ) = ( len D56 ) by L288 , FINSEQ_3:29;
thus L296: thesis by L295 , L289 , MATRLIN:9;
end;
theorem
L297: (for R8 being Field holds (for R9 being (Element of R8) holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R23 being (FinSequence of R11) holds (for R26 being (FinSequence of R8) holds ( Sum ( lmlt (( R9 * R26 ) , R23) ) ) = ( R9 * ( Sum ( lmlt (R26 , R23) ) ) ))))))
proof
let R8 being Field;
let R9 being (Element of R8);
let R11 being  finite-dimensional (VectSp of R8);
let R23 being (FinSequence of R11);
let R26 being (FinSequence of R8);
set D57 = ( lmlt (( R9 * R26 ) , R23) );
set D58 = ( lmlt (R26 , R23) );
L298: ( len ( R9 * R26 ) ) = ( len R26 ) by MATRIXR1:16;
L299: ( dom ( R9 * R26 ) ) = ( dom R26 ) by L298 , FINSEQ_3:29;
L300: ( dom D57 ) = ( ( dom ( R9 * R26 ) ) /\ ( dom R23 ) ) by L191;
L301: ( dom D58 ) = ( ( dom R26 ) /\ ( dom R23 ) ) by L191;
L302: (for B29 being (Element of ( NAT )) holds (for R21 being (Element of R11) holds ((B29 in ( dom D57 ) & R21 = ( D58 . B29 )) implies ( D57 . B29 ) = ( R9 * R21 ))))
proof
let C35 being (Element of ( NAT ));
let R21 being (Element of R11);
assume that
L303: C35 in ( dom D57 )
and
L304: R21 = ( D58 . C35 );
L305: C35 in ( dom R23 ) by L300 , L303 , XBOOLE_0:def 4;
L306: ( R23 /. C35 ) = ( R23 . C35 ) by L305 , PARTFUN1:def 6;
L307: C35 in ( dom R26 ) by L299 , L300 , L303 , XBOOLE_0:def 4;
L308: ( R26 /. C35 ) = ( R26 . C35 ) by L307 , PARTFUN1:def 6;
L309: C35 in ( dom ( R9 * R26 ) ) by L300 , L303 , XBOOLE_0:def 4;
L310: ( ( R9 * R26 ) . C35 ) = ( R9 * ( R26 /. C35 ) ) by L309 , L308 , FVSUM_1:50;
thus L311: ( D57 . C35 ) = ( ( R9 * ( R26 /. C35 ) ) * ( R23 /. C35 ) ) by L310 , L303 , L306 , FUNCOP_1:22
.= ( R9 * ( ( R26 /. C35 ) * ( R23 /. C35 ) ) ) by VECTSP_1:def 16
.= ( R9 * R21 ) by L299 , L301 , L300 , L303 , L304 , L308 , L306 , FUNCOP_1:22;
end;
L312: ( len D58 ) = ( len D57 ) by L299 , L301 , L300 , FINSEQ_3:29;
thus L313: thesis by L312 , L302 , RLVECT_2:66;
end;
theorem
L314: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R26 being (FinSequence of R8) holds (for B30 being (FinSequence of R11) holds (for B31 being (Subspace of R11) holds (for B32 being (FinSequence of B31) holds (B30 = B32 implies ( lmlt (R26 , B30) ) = ( lmlt (R26 , B32) ))))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R26 being (FinSequence of R8);
let C36 being (FinSequence of R11);
let C37 being (Subspace of R11);
let C38 being (FinSequence of C37);
assume that
L315: C36 = C38;
set D59 = ( lmlt (R26 , C38) );
set D60 = ( lmlt (R26 , C36) );
L316: ( dom D60 ) = ( ( dom R26 ) /\ ( dom C36 ) ) by L191;
L317: ( dom D59 ) = ( ( dom R26 ) /\ ( dom C38 ) ) by L191;
L318:
now
let R1 being Nat;
assume that
L319: R1 in ( dom D60 );
L320: R1 in ( dom R26 ) by L316 , L319 , XBOOLE_0:def 4;
L321: ( R26 . R1 ) = ( R26 /. R1 ) by L320 , PARTFUN1:def 6;
L322: R1 in ( dom C36 ) by L316 , L319 , XBOOLE_0:def 4;
L323: ( C38 . R1 ) = ( C38 /. R1 ) by L322 , L315 , PARTFUN1:def 6;
L324: ( C36 . R1 ) = ( C36 /. R1 ) by L322 , PARTFUN1:def 6;
thus L325: ( D60 . R1 ) = ( ( R26 /. R1 ) * ( C36 /. R1 ) ) by L324 , L319 , L321 , FUNCOP_1:22
.= ( ( R26 /. R1 ) * ( C38 /. R1 ) ) by L315 , L322 , L324 , PARTFUN1:def 6 , VECTSP_4:14
.= ( D59 . R1 ) by L315 , L316 , L317 , L319 , L321 , L323 , FUNCOP_1:22;
end;
thus L326: thesis by L318 , L315 , L317 , L191 , FINSEQ_1:13;
end;
theorem
L327: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for B33 being (FinSequence of R11) holds (for B34 being (Subspace of R11) holds (for B35 being (FinSequence of B34) holds (B33 = B35 implies ( Sum B33 ) = ( Sum B35 )))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let C39 being (FinSequence of R11);
let C40 being (Subspace of R11);
let C41 being (FinSequence of C40);
assume that
L328: C39 = C41;
defpred S4[ Nat ] means (for B36 being (FinSequence of R11) holds (for B37 being (Subspace of R11) holds (for B38 being (FinSequence of B37) holds ((B36 = B38 & ( len B36 ) = $1) implies ( Sum B36 ) = ( Sum B38 )))));
L329: (for R4 being Nat holds (S4[ R4 ] implies S4[ ( R4 + 1 ) ]))
proof
let R4 being Nat;
assume that
L330: S4[ R4 ];
set D61 = ( R4 + 1 );
let C42 being (FinSequence of R11);
let C43 being (Subspace of R11);
let C44 being (FinSequence of C43);
assume that
L331: C42 = C44
and
L332: ( len C42 ) = D61;
L333: ( len ( C42 | R4 ) ) = R4 by L332 , FINSEQ_1:59 , NAT_1:11;
L334: ( Sum ( C42 | R4 ) ) = ( Sum ( C44 | R4 ) ) by L333 , L330 , L331;
L335: 1 <= D61 by NAT_1:11;
L336: D61 in ( dom C42 ) by L335 , L332 , FINSEQ_3:25;
L337: ( C44 . D61 ) = ( C44 /. D61 ) by L336 , L331 , PARTFUN1:def 6;
L338: ( C42 . D61 ) = ( C42 /. D61 ) by L336 , PARTFUN1:def 6;
L339: ( dom ( C42 | R4 ) ) = ( Seg R4 ) by L333 , FINSEQ_1:def 3;
thus L340: ( Sum C42 ) = ( ( Sum ( C42 | R4 ) ) + ( C42 /. D61 ) ) by L339 , L332 , L338 , L333 , RLVECT_1:38
.= ( ( Sum ( C44 | R4 ) ) + ( C44 /. D61 ) ) by L331 , L338 , L337 , L334 , VECTSP_4:13
.= ( Sum C44 ) by L331 , L332 , L337 , L333 , L339 , RLVECT_1:38;
end;
L341: S4[ ( 0 ) ]
proof
let C45 being (FinSequence of R11);
let C46 being (Subspace of R11);
let C47 being (FinSequence of C46);
assume L342: (C45 = C47 & ( len C45 ) = ( 0 ));
L343: (( Sum C45 ) = ( 0. R11 ) & ( Sum C47 ) = ( 0. C46 )) by L342 , RLVECT_1:75;
thus L344: thesis by L343 , VECTSP_4:11;
end;
L345: (for R4 being Nat holds S4[ R4 ]) from NAT_1:sch 2(L341 , L329);
L346: S4[ ( len C39 ) ] by L345;
thus L347: thesis by L346 , L328;
end;
theorem
L348: (for R1 being Nat holds (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R23 being (FinSequence of R11) holds (R1 in ( dom R23 ) implies ( Sum ( lmlt (( Line (( 1. (R8 , ( len R23 )) ) , R1) ) , R23) ) ) = ( R23 /. R1 ))))))
proof
let R1 being Nat;
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R23 being (FinSequence of R11);
set D62 = ( 1. (R8 , ( len R23 )) );
set D63 = ( Line (D62 , R1) );
set D64 = ( lmlt (D63 , R23) );
L349: ( width D62 ) = ( len R23 ) by MATRIX_1:24;
L350: ( len D63 ) = ( width D62 ) by CARD_1:def 7;
L351: ( dom D63 ) = ( dom R23 ) by L350 , L349 , FINSEQ_3:29;
L352: ( dom D64 ) = ( dom R23 ) by L351 , MATRLIN:12;
L353: ( len D64 ) = ( len R23 ) by L352 , FINSEQ_3:29;
consider C48 being (Function of ( NAT ) , (the carrier of R11)) such that L354: ( Sum D64 ) = ( C48 . ( len D64 ) ) and L355: ( C48 . ( 0 ) ) = ( 0. R11 ) and L356: (for B39 being (Element of ( NAT )) holds (for R21 being (Element of R11) holds ((B39 < ( len D64 ) & R21 = ( D64 . ( B39 + 1 ) )) implies ( C48 . ( B39 + 1 ) ) = ( ( C48 . B39 ) + R21 )))) by RLVECT_1:def 12;
defpred S5[ Nat ] means ($1 <= ( len D64 ) implies ( C48 . $1 ) = ( R23 /. R1 ));
defpred S6[ Nat ] means ($1 < R1 implies ( C48 . $1 ) = ( 0. R11 ));
assume L357: R1 in ( dom R23 );
L358: 1 <= R1 by L357 , FINSEQ_3:25;
L359: ( len D62 ) = ( len R23 ) by MATRIX_1:24;
L360: ( dom R23 ) = ( dom D62 ) by L359 , FINSEQ_3:29;
L361: (for R4 being Nat holds (R1 <= R4 implies (S5[ R4 ] implies S5[ ( R4 + 1 ) ])))
proof
let R4 being Nat;
assume that
L362: R1 <= R4;
set D65 = ( R4 + 1 );
L363: R1 < D65 by L362 , NAT_1:13;
reconsider D66 = R4 as (Element of ( NAT )) by ORDINAL1:def 12;
assume L364: S5[ R4 ];
assume L365: D65 <= ( len D64 );
L366: R4 < ( len D64 ) by L365 , NAT_1:13;
L367: 1 <= D65 by NAT_1:11;
L368: D65 in ( Seg ( len R23 ) ) by L367 , L353 , L365;
L369: (( D63 . D65 ) = ( D62 * (R1 , D65) ) & [ R1 , D65 ] in ( Indices D62 )) by L368 , L357 , L349 , L360 , MATRIX_1:def 7 , ZFMISC_1:87;
L370: ( D63 . D65 ) = ( 0. R8 ) by L369 , L363 , MATRIX_1:def 11;
L371: D65 in ( dom R23 ) by L352 , L365 , L367 , FINSEQ_3:25;
L372: ( R23 . D65 ) = ( R23 /. D65 ) by L371 , PARTFUN1:def 6;
L373: ( D64 . D65 ) = ( ( 0. R8 ) * ( R23 /. D65 ) ) by L372 , L352 , L371 , L370 , FUNCOP_1:22
.= ( 0. R11 ) by VECTSP_1:14;
thus L374: ( C48 . D65 ) = ( ( C48 . D66 ) + ( 0. R11 ) ) by L373 , L356 , L366
.= ( R23 /. R1 ) by L364 , L365 , NAT_1:13 , RLVECT_1:def 4;
end;
L375: R1 <= ( len D64 ) by L357 , L352 , FINSEQ_3:25;
L376: (for R4 being Nat holds (S6[ R4 ] implies S6[ ( R4 + 1 ) ]))
proof
let R4 being Nat;
assume that
L377: S6[ R4 ];
reconsider D67 = R4 as (Element of ( NAT )) by ORDINAL1:def 12;
set D68 = ( R4 + 1 );
assume L378: D68 < R1;
L379: D68 < ( len D64 ) by L378 , L375 , XXREAL_0:2;
L380: R4 < ( len D64 ) by L379 , NAT_1:13;
L381: (1 <= D68 & D68 <= ( len R23 )) by L375 , L353 , L378 , NAT_1:11 , XXREAL_0:2;
L382: D68 in ( Seg ( len R23 ) ) by L381;
L383: (( D63 . D68 ) = ( D62 * (R1 , D68) ) & [ R1 , D68 ] in ( Indices D62 )) by L382 , L357 , L349 , L360 , MATRIX_1:def 7 , ZFMISC_1:87;
L384: ( D63 . D68 ) = ( 0. R8 ) by L383 , L378 , MATRIX_1:def 11;
L385: D68 in ( dom R23 ) by L381 , FINSEQ_3:25;
L386: ( R23 . D68 ) = ( R23 /. D68 ) by L385 , PARTFUN1:def 6;
L387: ( D64 . D68 ) = ( ( 0. R8 ) * ( R23 /. D68 ) ) by L386 , L352 , L385 , L384 , FUNCOP_1:22
.= ( 0. R11 ) by VECTSP_1:14;
thus L388: ( C48 . D68 ) = ( ( C48 . D67 ) + ( 0. R11 ) ) by L387 , L356 , L380
.= ( 0. R11 ) by L377 , L378 , NAT_1:13 , RLVECT_1:def 4;
end;
L389: S6[ ( 0 ) ] by L355;
L390: (for R4 being Nat holds S6[ R4 ]) from NAT_1:sch 2(L389 , L376);
L391: S5[ R1 ]
proof
L392: R1 in ( Seg ( len R23 ) ) by L357 , L358 , L375 , L353;
L393: (( D63 . R1 ) = ( D62 * (R1 , R1) ) & [ R1 , R1 ] in ( Indices D62 )) by L392 , L357 , L349 , L360 , MATRIX_1:def 7 , ZFMISC_1:87;
L394: ( D63 . R1 ) = ( 1_ R8 ) by L393 , MATRIX_1:def 11;
reconsider D69 = ( R1 - 1 ) as (Element of ( NAT )) by L358 , NAT_1:21;
L395: ( D69 + 1 ) = R1;
L396: D69 < R1 by L395 , NAT_1:13;
L397: ( C48 . D69 ) = ( 0. R11 ) by L396 , L390;
assume L398: R1 <= ( len D64 );
L399: D69 < ( len D64 ) by L398 , L395 , NAT_1:13;
L400: ( R23 . R1 ) = ( R23 /. R1 ) by L357 , PARTFUN1:def 6;
L401: ( D64 . R1 ) = ( ( 1_ R8 ) * ( R23 /. R1 ) ) by L400 , L357 , L352 , L394 , FUNCOP_1:22
.= ( R23 /. R1 ) by VECTSP_1:def 17;
L402: ( C48 . ( D69 + 1 ) ) = ( ( C48 . D69 ) + ( R23 /. R1 ) ) by L401 , L356 , L399;
thus L403: thesis by L402 , L397 , RLVECT_1:def 4;
end;
L404: (for R4 being Nat holds (R1 <= R4 implies S5[ R4 ])) from NAT_1:sch 8(L391 , L361);
thus L405: thesis by L404 , L375 , L354;
end;
begin
theorem
L406: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R15 being (OrdBasis of R11) holds (for R21 being (Element of R11) holds (for R22 being (Element of R11) holds ( ( R21 + R22 ) |-- R15 ) = ( ( R21 |-- R15 ) + ( R22 |-- R15 ) ))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
let R21 being (Element of R11);
let R22 being (Element of R11);
set D70 = ( R21 |-- R15 );
set D71 = ( R22 |-- R15 );
set D72 = ( ( R21 + R22 ) |-- R15 );
consider C49 being (Linear_Combination of R11) such that L407: (R21 = ( Sum C49 ) & ( Carrier C49 ) c= ( rng R15 )) and L408: (for R5 being Nat holds ((1 <= R5 & R5 <= ( len D70 )) implies ( D70 /. R5 ) = ( C49 . ( R15 /. R5 ) ))) by MATRLIN:def 7;
consider C50 being (Linear_Combination of R11) such that L409: (( R21 + R22 ) = ( Sum C50 ) & ( Carrier C50 ) c= ( rng R15 )) and L410: (for R5 being Nat holds ((1 <= R5 & R5 <= ( len D72 )) implies ( D72 /. R5 ) = ( C50 . ( R15 /. R5 ) ))) by MATRLIN:def 7;
L411: ( len D71 ) = ( len R15 ) by MATRLIN:def 7;
reconsider D73 = ( rng R15 ) as (Basis of R11) by MATRLIN:def 2;
consider C51 being (Linear_Combination of R11) such that L412: (R22 = ( Sum C51 ) & ( Carrier C51 ) c= ( rng R15 )) and L413: (for R5 being Nat holds ((1 <= R5 & R5 <= ( len D71 )) implies ( D71 /. R5 ) = ( C51 . ( R15 /. R5 ) ))) by MATRLIN:def 7;
L414: ( len D70 ) = ( len R15 ) by MATRLIN:def 7;
L415: ( len D72 ) = ( len R15 ) by MATRLIN:def 7;
reconsider D74 = D70 , D75 = D71 , D76 = D72 as (Element of ( ( len R15 ) -tuples_on (the carrier of R8) )) by L415 , L414 , L411 , FINSEQ_2:92;
L416: D73 is  linearly-independent by VECTSP_7:def 3;
L417: C50 = ( C49 + C51 ) by L416 , L407 , L412 , L409 , MATRLIN:6;
L418:
now
L419: ( dom R15 ) = ( Seg ( len R15 ) ) by FINSEQ_1:def 3;
let R1 being Nat;
assume that
L420: R1 in ( Seg ( len R15 ) );
L421: (1 <= R1 & R1 <= ( len R15 )) by L420 , FINSEQ_1:1;
L422: ( dom D75 ) = ( dom R15 ) by L411 , FINSEQ_3:29;
L423: ( D75 . R1 ) = ( D75 /. R1 ) by L422 , L420 , L419 , PARTFUN1:def 6;
L424: ( dom D74 ) = ( dom R15 ) by L414 , FINSEQ_3:29;
L425: ( D74 . R1 ) = ( D74 /. R1 ) by L424 , L420 , L419 , PARTFUN1:def 6;
L426: ( dom D76 ) = ( dom R15 ) by L415 , FINSEQ_3:29;
L427: ( D76 . R1 ) = ( D76 /. R1 ) by L426 , L420 , L419 , PARTFUN1:def 6;
thus L428: ( D76 . R1 ) = ( ( C49 + C51 ) . ( R15 /. R1 ) ) by L427 , L410 , L415 , L417 , L421
.= ( ( C49 . ( R15 /. R1 ) ) + ( C51 . ( R15 /. R1 ) ) ) by VECTSP_6:22
.= ( ( D74 /. R1 ) + ( C51 . ( R15 /. R1 ) ) ) by L408 , L414 , L421
.= ( ( D74 /. R1 ) + ( D75 /. R1 ) ) by L413 , L411 , L421
.= ( ( D74 + D75 ) . R1 ) by L420 , L425 , L423 , FVSUM_1:18;
end;
thus L429: thesis by L418 , FINSEQ_2:119;
end;
theorem
L430: (for R8 being Field holds (for R9 being (Element of R8) holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R15 being (OrdBasis of R11) holds (for R21 being (Element of R11) holds ( ( R9 * R21 ) |-- R15 ) = ( R9 * ( R21 |-- R15 ) ))))))
proof
let R8 being Field;
let R9 being (Element of R8);
let R11 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
let R21 being (Element of R11);
set D77 = ( R21 |-- R15 );
set D78 = ( ( R9 * R21 ) |-- R15 );
consider C52 being (Linear_Combination of R11) such that L431: (R21 = ( Sum C52 ) & ( Carrier C52 ) c= ( rng R15 )) and L432: (for R5 being Nat holds ((1 <= R5 & R5 <= ( len D77 )) implies ( D77 /. R5 ) = ( C52 . ( R15 /. R5 ) ))) by MATRLIN:def 7;
L433: ( len D77 ) = ( len R15 ) by MATRLIN:def 7;
reconsider D79 = ( rng R15 ) as (Basis of R11) by MATRLIN:def 2;
consider C53 being (Linear_Combination of R11) such that L434: ( R9 * R21 ) = ( Sum C53 ) and L435: ( Carrier C53 ) c= ( rng R15 ) and L436: (for R5 being Nat holds ((1 <= R5 & R5 <= ( len D78 )) implies ( D78 /. R5 ) = ( C53 . ( R15 /. R5 ) ))) by MATRLIN:def 7;
L437: ( len D78 ) = ( len R15 ) by MATRLIN:def 7;
L438: ( len ( R9 * D77 ) ) = ( len D77 ) by MATRIXR1:16;
reconsider D80 = D77 , D81 = D78 , D82 = ( R9 * D77 ) as (Element of ( ( len R15 ) -tuples_on (the carrier of R8) )) by L438 , L433 , L437 , FINSEQ_2:92;
L439: D79 is  linearly-independent by VECTSP_7:def 3;
L440:
now
let R1 being Nat;
assume that
L441: R1 in ( Seg ( len R15 ) );
L442: (1 <= R1 & R1 <= ( len R15 )) by L441 , FINSEQ_1:1;
L443:
now
per cases ;
suppose L444: R9 <> ( 0. R8 );

L445: ( R9 * C52 ) = C53 by L444 , L431 , L434 , L435 , L439 , MATRLIN:7;
thus L446: ( C53 . ( R15 /. R1 ) ) = ( R9 * ( C52 . ( R15 /. R1 ) ) ) by L445 , VECTSP_6:def 9
.= ( R9 * ( D80 /. R1 ) ) by L432 , L433 , L442;
end;
suppose L447: R9 = ( 0. R8 );

L448: ( R9 * R21 ) = ( 0. R11 ) by L447 , VECTSP_1:14;
L449: (C53 is (Linear_Combination of ( Carrier C53 )) & ( Carrier C53 ) is  linearly-independent) by L435 , L439 , VECTSP_6:7 , VECTSP_7:1;
L450: (not ( R15 /. R1 ) in ( Carrier C53 )) by L449 , L434 , L448 , VECTSP_7:def 1;
thus L451: ( C53 . ( R15 /. R1 ) ) = ( 0. R8 ) by L450
.= ( R9 * ( D80 /. R1 ) ) by L447 , VECTSP_1:7;
end;
end;
L453: ( dom R15 ) = ( Seg ( len R15 ) ) by FINSEQ_1:def 3;
L454: ( dom D77 ) = ( dom R15 ) by L433 , FINSEQ_3:29;
L455: ( D77 . R1 ) = ( D77 /. R1 ) by L454 , L441 , L453 , PARTFUN1:def 6;
L456: ( dom D81 ) = ( dom R15 ) by L437 , FINSEQ_3:29;
L457: ( D81 . R1 ) = ( D81 /. R1 ) by L456 , L441 , L453 , PARTFUN1:def 6;
thus L458: ( D81 . R1 ) = ( C53 . ( R15 /. R1 ) ) by L457 , L436 , L437 , L442
.= ( D82 . R1 ) by L441 , L455 , L443 , FVSUM_1:51;
end;
thus L459: thesis by L440 , FINSEQ_2:119;
end;
theorem
L460: (for R1 being Nat holds (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R15 being (OrdBasis of R11) holds (R1 in ( dom R15 ) implies ( ( R15 /. R1 ) |-- R15 ) = ( Line (( 1. (R8 , ( len R15 )) ) , R1) ))))))
proof
let R1 being Nat;
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
set D83 = ( 1. (R8 , ( len R15 )) );
set D84 = ( ( R15 /. R1 ) |-- R15 );
consider C54 being (Linear_Combination of R11) such that L461: (( R15 /. R1 ) = ( Sum C54 ) & ( Carrier C54 ) c= ( rng R15 )) and L462: (for R5 being Nat holds ((1 <= R5 & R5 <= ( len D84 )) implies ( D84 /. R5 ) = ( C54 . ( R15 /. R5 ) ))) by MATRLIN:def 7;
reconsider D85 = ( rng R15 ) as (Basis of R11) by MATRLIN:def 2;
L463: D85 is  linearly-independent by VECTSP_7:def 3;
L464: ( R15 /. R1 ) in { ( R15 /. R1 ) } by TARSKI:def 1;
L465: ( R15 /. R1 ) in ( Lin { ( R15 /. R1 ) } ) by L464 , VECTSP_7:8;
consider C55 being (Linear_Combination of { ( R15 /. R1 ) }) such that L466: ( R15 /. R1 ) = ( Sum C55 ) by L465 , VECTSP_7:7;
assume L467: R1 in ( dom R15 );
L468: ( R15 . R1 ) = ( R15 /. R1 ) by L467 , PARTFUN1:def 6;
L469: ( Carrier C55 ) c= { ( R15 . R1 ) } by L468 , VECTSP_6:def 4;
L470: ( R15 . R1 ) in D85 by L467 , FUNCT_1:def 3;
L471: { ( R15 . R1 ) } c= D85 by L470 , ZFMISC_1:31;
L472: ( Carrier C55 ) c= D85 by L471 , L469 , XBOOLE_1:1;
L473: C55 = C54 by L472 , L466 , L461 , L463 , MATRLIN:5;
L474: ( width D83 ) = ( len R15 ) by MATRIX_1:24;
L475: ( Indices D83 ) = [: ( Seg ( len R15 ) ) , ( Seg ( len R15 ) ) :] by MATRIX_1:24;
L476: ( len R15 ) = ( len D84 ) by MATRLIN:def 7;
L477: ( R15 /. R1 ) <> ( 0. R11 ) by L468 , L463 , L470 , VECTSP_7:2;
L478:
now
let R2 being Nat;
assume that
L479: (1 <= R2 & R2 <= ( len D84 ));
L480: R2 in ( Seg ( len R15 ) ) by L476 , L479 , FINSEQ_1:1;
L481: R1 in ( Seg ( len R15 ) ) by L467 , FINSEQ_1:def 3;
L482: [ R1 , R2 ] in ( Indices D83 ) by L481 , L475 , L480 , ZFMISC_1:87;
L483: R2 in ( dom R15 ) by L476 , L479 , FINSEQ_3:25;
L484: ( dom D84 ) = ( dom R15 ) by L476 , FINSEQ_3:29;
L485:
now
per cases ;
suppose L486: R1 = R2;

L487: ( ( C55 . ( R15 /. R1 ) ) * ( R15 /. R1 ) ) = ( R15 /. R1 ) by L466 , VECTSP_6:17
.= ( ( 1_ R8 ) * ( R15 /. R1 ) ) by VECTSP_1:def 17;
L488: ( 1_ R8 ) = ( C54 . ( R15 /. R1 ) ) by L487 , L477 , L473 , VECTSP10:4
.= ( D84 /. R2 ) by L462 , L479 , L486;
L489: ( 1_ R8 ) = ( D83 * (R1 , R2) ) by L482 , L486 , MATRIX_1:def 11
.= ( ( Line (D83 , R1) ) . R2 ) by L474 , L480 , MATRIX_1:def 7;
thus L490: ( ( Line (D83 , R1) ) . R2 ) = ( D84 . R2 ) by L489 , L483 , L484 , L488 , PARTFUN1:def 6;
end;
suppose L491: R1 <> R2;

L492: R15 is  one-to-one by MATRLIN:def 2;
L493: ( R15 . R1 ) <> ( R15 . R2 ) by L492 , L467 , L483 , L491 , FUNCT_1:def 4;
L494: (not ( R15 . R2 ) in ( Carrier C55 )) by L493 , L469 , TARSKI:def 1;
L495: ( 0. R8 ) = ( D83 * (R1 , R2) ) by L482 , L491 , MATRIX_1:def 11
.= ( ( Line (D83 , R1) ) . R2 ) by L474 , L480 , MATRIX_1:def 7;
L496: ( R15 . R2 ) = ( R15 /. R2 ) by L483 , PARTFUN1:def 6;
L497: ( 0. R8 ) = ( C54 . ( R15 /. R2 ) ) by L496 , L473 , L494
.= ( D84 /. R2 ) by L462 , L479;
thus L498: ( ( Line (D83 , R1) ) . R2 ) = ( D84 . R2 ) by L497 , L483 , L484 , L495 , PARTFUN1:def 6;
end;
end;
thus L500: ( ( Line (D83 , R1) ) . R2 ) = ( D84 . R2 ) by L485;
end;
L501: ( len ( Line (D83 , R1) ) ) = ( len R15 ) by L474 , CARD_1:def 7;
thus L502: thesis by L501 , L476 , L478 , FINSEQ_1:14;
end;
theorem
L503: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R15 being (OrdBasis of R11) holds ( ( 0. R11 ) |-- R15 ) = ( ( len R15 ) |-> ( 0. R8 ) ))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
per cases ;
suppose L504: ( dom R15 ) = ( {} );

L505: ( len R15 ) = ( 0 ) by L504 , CARD_1:27 , RELAT_1:41;
L506: ( len ( ( 0. R11 ) |-- R15 ) ) = ( len R15 ) by MATRLIN:def 7;
thus L507: ( ( 0. R11 ) |-- R15 ) = ( {} ) by L506 , L504 , CARD_1:27 , RELAT_1:41
.= ( ( len R15 ) |-> ( 0. R8 ) ) by L505;
end;
suppose L508: ( dom R15 ) <> ( {} );

consider R6 being set such that L509: R6 in ( dom R15 ) by L508 , XBOOLE_0:def 1;
L510: ( width ( 1. (R8 , ( len R15 )) ) ) = ( len R15 ) by MATRIX_1:24;
reconsider D86 = R6 as Nat by L509;
L511: ( 0. R11 ) = ( ( R15 /. D86 ) - ( R15 /. D86 ) ) by VECTSP_1:16
.= ( ( R15 /. D86 ) + ( ( - ( 1_ R8 ) ) * ( R15 /. D86 ) ) ) by VECTSP_1:14;
thus L512: ( ( 0. R11 ) |-- R15 ) = ( ( ( R15 /. D86 ) |-- R15 ) + ( ( ( - ( 1_ R8 ) ) * ( R15 /. D86 ) ) |-- R15 ) ) by L511 , L406
.= ( ( ( R15 /. D86 ) |-- R15 ) + ( ( - ( 1_ R8 ) ) * ( ( R15 /. D86 ) |-- R15 ) ) ) by L430
.= ( ( Line (( 1. (R8 , ( len R15 )) ) , D86) ) + ( ( - ( 1_ R8 ) ) * ( ( R15 /. D86 ) |-- R15 ) ) ) by L509 , L460
.= ( ( Line (( 1. (R8 , ( len R15 )) ) , D86) ) + ( ( - ( 1_ R8 ) ) * ( Line (( 1. (R8 , ( len R15 )) ) , D86) ) ) ) by L509 , L460
.= ( ( Line (( 1. (R8 , ( len R15 )) ) , D86) ) + ( - ( Line (( 1. (R8 , ( len R15 )) ) , D86) ) ) ) by FVSUM_1:59
.= ( ( len R15 ) |-> ( 0. R8 ) ) by L510 , FVSUM_1:26;
end;
end;
theorem
L514: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R15 being (OrdBasis of R11) holds ( len R15 ) = ( dim R11 ))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
reconsider D87 = ( rng R15 ) as (Basis of R11) by MATRLIN:def 2;
L515: R15 is  one-to-one by MATRLIN:def 2;
thus L516: ( len R15 ) = ( card ( Seg ( len R15 ) ) ) by FINSEQ_1:57
.= ( card ( dom R15 ) ) by FINSEQ_1:def 3
.= ( card D87 ) by L515 , CARD_1:70
.= ( dim R11 ) by VECTSP_9:def 1;
end;
L517: (for R8 being Field holds (for B40 being (VectSp of R8) holds (for B41 being (Subspace of B40) holds (for B42 being (Linear_Combination of B41) holds (ex B43 being (Linear_Combination of B40) st (( Carrier B43 ) = ( Carrier B42 ) & ( Sum B43 ) = ( Sum B42 ) & ( B43 | (the carrier of B41) ) = B42))))))
proof
let R8 being Field;
let C56 being (VectSp of R8);
let C57 being (Subspace of C56);
let C58 being (Linear_Combination of C57);
defpred S7[ set , set ] means (($1 in C57 & $2 = ( C58 . $1 )) or ((not $1 in C57) & $2 = ( 0. R8 )));
reconsider D88 = C58 as (Function of C57 , R8);
L518: (for R6 being set holds (R6 in (the carrier of C56) implies (ex R7 being set st (R7 in (the carrier of R8) & S7[ R6 , R7 ]))))
proof
let R6 being set;
assume that
L519: R6 in (the carrier of C56);
per cases ;
suppose L520: R6 in C57;

reconsider D89 = R6 as (Vector of C57) by L520 , STRUCT_0:def 5;
L521: S7[ D89 , ( C58 . D89 ) ] by L520;
thus L522: thesis by L521;
end;
suppose L523: (not R6 in C57);

thus L524: thesis by L523;
end;
end;
consider C59 being (Function of C56 , R8) such that L526: (for R6 being set holds (R6 in (the carrier of C56) implies S7[ R6 , ( C59 . R6 ) ])) from FUNCT_2:sch 1(L518);
L527: (the carrier of C57) c= (the carrier of C56) by VECTSP_4:def 2;
reconsider D90 = ( Carrier C58 ) as  finite (Subset of C56) by L527 , XBOOLE_1:1;
L528:
now
let C60 being (Vector of C56);
assume that
L529: (not C60 in D90);
L530: ((S7[ C60 , ( C58 . C60 ) ] & C60 in (the carrier of C57)) or S7[ C60 , ( 0. R8 ) ]) by STRUCT_0:def 5;
L531: ((S7[ C60 , ( C58 . C60 ) ] & ( C58 . C60 ) = ( 0. R8 )) or S7[ C60 , ( 0. R8 ) ]) by L530 , L529;
thus L532: ( C59 . C60 ) = ( 0. R8 ) by L531 , L526;
end;
L533: C59 is (Element of ( Funcs ((the carrier of C56) , (the carrier of R8)) )) by FUNCT_2:8;
reconsider D91 = C59 as (Linear_Combination of C56) by L533 , L528 , VECTSP_6:def 1;
reconsider D92 = ( D91 | (the carrier of C57) ) as (Function of (the carrier of C57) , (the carrier of R8)) by L527 , FUNCT_2:32;
take D91;
L534:
now
let C61 being set;
assume that
L535: C61 in ( Carrier D91 )
and
L536: (not C61 in (the carrier of C57));
consider C62 being (Vector of C56) such that L537: C61 = C62 and L538: ( D91 . C62 ) <> ( 0. R8 ) by L535;
L539: S7[ C62 , ( 0. R8 ) ] by L536 , L537 , STRUCT_0:def 5;
thus L540: contradiction by L539 , L526 , L538;
end;
L541: ( Carrier D91 ) c= (the carrier of C57) by L534 , TARSKI:def 3;
L542:
now
let C63 being set;
assume that
L543: C63 in (the carrier of C57);
L544: S7[ C63 , ( D91 . C63 ) ] by L526 , L527 , L543;
thus L545: ( D88 . C63 ) = ( D92 . C63 ) by L544 , L543 , FUNCT_1:49 , STRUCT_0:def 5;
end;
L546: D88 = D92 by L542 , FUNCT_2:12;
thus L547: thesis by L546 , L541 , VECTSP_9:7;
end;
theorem
L548: (for R3 being Nat holds (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R15 being (OrdBasis of R11) holds (( rng ( R15 | R3 ) ) is  linearly-independent  linearly-independent  linearly-independent  linearly-independent (Subset of R11) & (for B44 being (Subset of R11) holds (B44 = ( rng ( R15 | R3 ) ) implies ( R15 | R3 ) is (OrdBasis of ( Lin B44 )))))))))
proof
let R3 being Nat;
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
reconsider D93 = ( rng R15 ) as (Basis of R11) by MATRLIN:def 2;
L549: D93 is  linearly-independent by VECTSP_7:def 3;
L550: ( rng ( R15 | R3 ) ) c= D93 by RELAT_1:70;
thus L551: ( rng ( R15 | R3 ) ) is  linearly-independent  linearly-independent  linearly-independent  linearly-independent (Subset of R11) by L550 , L549 , VECTSP_7:1 , XBOOLE_1:1;
let C64 being (Subset of R11);
assume that
L552: C64 = ( rng ( R15 | R3 ) );
L553: C64 c= (the carrier of ( Lin C64 ))
proof
let R6 being set;
assume L554: R6 in C64;
L555: R6 in ( Lin C64 ) by L554 , VECTSP_7:8;
thus L556: thesis by L555 , STRUCT_0:def 5;
end;
L557: C64 is  linearly-independent by L549 , L552 , RELAT_1:70 , VECTSP_7:1;
reconsider D94 = C64 as  linearly-independent (Subset of ( Lin C64 )) by L557 , L553 , VECTSP_9:12;
L558: R15 is  one-to-one by MATRLIN:def 2;
L559: ( R15 | R3 ) is  one-to-one by L558 , FUNCT_1:52;
L560: ( Lin D94 ) = ( the VectSpStr of ( Lin C64 ) ) by VECTSP_9:17;
L561: (( rng ( R15 | R3 ) ) is (Basis of ( Lin C64 )) & ( R15 | R3 ) is (FinSequence of ( Lin C64 ))) by L560 , L552 , FINSEQ_1:def 4 , VECTSP_7:def 3;
thus L562: thesis by L561 , L559 , MATRLIN:def 2;
end;
theorem
L563: (for R3 being Nat holds (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R15 being (OrdBasis of R11) holds (( rng ( R15 /^ R3 ) ) is  linearly-independent  linearly-independent  linearly-independent  linearly-independent (Subset of R11) & (for B45 being (Subset of R11) holds (B45 = ( rng ( R15 /^ R3 ) ) implies ( R15 /^ R3 ) is (OrdBasis of ( Lin B45 )))))))))
proof
let R3 being Nat;
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
reconsider D95 = ( rng R15 ) as (Basis of R11) by MATRLIN:def 2;
L564: D95 is  linearly-independent by VECTSP_7:def 3;
L565: ( rng ( R15 /^ R3 ) ) c= D95 by FINSEQ_5:33;
thus L566: ( rng ( R15 /^ R3 ) ) is  linearly-independent  linearly-independent  linearly-independent  linearly-independent (Subset of R11) by L565 , L564 , VECTSP_7:1 , XBOOLE_1:1;
let C65 being (Subset of R11);
assume that
L567: C65 = ( rng ( R15 /^ R3 ) );
L568: C65 c= (the carrier of ( Lin C65 ))
proof
let R6 being set;
assume L569: R6 in C65;
L570: R6 in ( Lin C65 ) by L569 , VECTSP_7:8;
thus L571: thesis by L570 , STRUCT_0:def 5;
end;
L572: C65 is  linearly-independent by L564 , L567 , FINSEQ_5:33 , VECTSP_7:1;
reconsider D96 = C65 as  linearly-independent (Subset of ( Lin C65 )) by L572 , L568 , VECTSP_9:12;
L573: (R15 is  one-to-one & R15 = ( ( R15 | R3 ) ^ ( R15 /^ R3 ) )) by MATRLIN:def 2 , RFINSEQ:8;
L574: ( R15 /^ R3 ) is  one-to-one by L573 , FINSEQ_3:91;
L575: ( Lin D96 ) = ( the VectSpStr of ( Lin C65 ) ) by VECTSP_9:17;
L576: (( rng ( R15 /^ R3 ) ) is (Basis of ( Lin C65 )) & ( R15 /^ R3 ) is (FinSequence of ( Lin C65 ))) by L575 , L567 , FINSEQ_1:def 4 , VECTSP_7:def 3;
thus L577: thesis by L576 , L574 , MATRLIN:def 2;
end;
theorem
L578: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for B46 , B47 being (Subspace of R11) holds (( B46 /\ B47 ) = ( (0). R11 ) implies (for B48 being (OrdBasis of B46) holds (for B49 being (OrdBasis of B47) holds (for B50 being (OrdBasis of ( B46 + B47 )) holds (B50 = ( B48 ^ B49 ) implies (for B51 , B52 , B53 being (Vector of ( B46 + B47 )) holds (for B54 being (Vector of B46) holds (for B55 being (Vector of B47) holds ((B51 = ( B52 + B53 ) & B52 = B54 & B53 = B55) implies ( B51 |-- B50 ) = ( ( B54 |-- B48 ) ^ ( B55 |-- B49 ) )))))))))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let C66 , C67 being (Subspace of R11);
assume that
L579: ( C66 /\ C67 ) = ( (0). R11 );
L580: ( [#] ( (0). R11 ) ) = { ( 0. R11 ) } by VECTSP_4:def 3;
L581: ( card ( [#] ( (0). R11 ) ) ) = 1 by L580 , CARD_1:30;
L582: ( ( dim C66 ) + ( dim C67 ) ) = ( ( dim ( C66 + C67 ) ) + ( dim ( C66 /\ C67 ) ) ) by VECTSP_9:32
.= ( ( dim ( C66 + C67 ) ) + ( 0 ) ) by L579 , L581 , RANKNULL:5;
let C68 being (OrdBasis of C66);
let C69 being (OrdBasis of C67);
let C70 being (OrdBasis of ( C66 + C67 ));
assume that
L583: C70 = ( C68 ^ C69 );
reconsider D97 = ( rng C70 ) as (Basis of ( C66 + C67 )) by MATRLIN:def 2;
let C71 , C72 , C73 being (Vector of ( C66 + C67 ));
let C74 being (Vector of C66);
let C75 being (Vector of C67);
assume that
L584: (C71 = ( C72 + C73 ) & C72 = C74 & C73 = C75);
set D98 = ( C75 |-- C69 );
consider C76 being (Linear_Combination of C67) such that L585: C75 = ( Sum C76 ) and L586: ( Carrier C76 ) c= ( rng C69 ) and L587: (for R5 being Nat holds ((1 <= R5 & R5 <= ( len D98 )) implies ( D98 /. R5 ) = ( C76 . ( C69 /. R5 ) ))) by MATRLIN:def 7;
L588: C67 is (Subspace of ( C66 + C67 )) by VECTSP_5:7;
consider C77 being (Linear_Combination of ( C66 + C67 )) such that L589: ( Carrier C77 ) = ( Carrier C76 ) and L590: ( Sum C77 ) = ( Sum C76 ) and L591: ( C77 | (the carrier of C67) ) = C76 by L588 , L517;
L592: ( rng C69 ) c= D97 by L583 , FINSEQ_1:30;
L593: ( Carrier C77 ) c= D97 by L592 , L586 , L589 , XBOOLE_1:1;
set D99 = ( C74 |-- C68 );
set D100 = ( C71 |-- C70 );
consider C78 being (Linear_Combination of C66) such that L594: C74 = ( Sum C78 ) and L595: ( Carrier C78 ) c= ( rng C68 ) and L596: (for R5 being Nat holds ((1 <= R5 & R5 <= ( len D99 )) implies ( D99 /. R5 ) = ( C78 . ( C68 /. R5 ) ))) by MATRLIN:def 7;
consider C79 being (Linear_Combination of ( C66 + C67 )) such that L597: (C71 = ( Sum C79 ) & ( Carrier C79 ) c= ( rng C70 )) and L598: (for R5 being Nat holds ((1 <= R5 & R5 <= ( len D100 )) implies ( D100 /. R5 ) = ( C79 . ( C70 /. R5 ) ))) by MATRLIN:def 7;
L599: ( len D100 ) = ( len C70 ) by MATRLIN:def 7;
L600: ( dom D100 ) = ( dom C70 ) by L599 , FINSEQ_3:29;
L601: ( len D98 ) = ( len C69 ) by MATRLIN:def 7;
L602: ( dom D98 ) = ( dom C69 ) by L601 , FINSEQ_3:29;
L603: D97 is  linearly-independent by VECTSP_7:def 3;
L604: C66 is (Subspace of ( C66 + C67 )) by VECTSP_5:7;
consider C80 being (Linear_Combination of ( C66 + C67 )) such that L605: ( Carrier C80 ) = ( Carrier C78 ) and L606: ( Sum C80 ) = ( Sum C78 ) and L607: ( C80 | (the carrier of C66) ) = C78 by L604 , L517;
L608: ( len D99 ) = ( len C68 ) by MATRLIN:def 7;
L609: ( dom D99 ) = ( dom C68 ) by L608 , FINSEQ_3:29;
L610: ( len ( D99 ^ D98 ) ) = ( ( len D99 ) + ( len D98 ) ) by FINSEQ_1:22;
L611: (( len C68 ) = ( dim C66 ) & ( len C69 ) = ( dim C67 )) by L514;
L612: ( len C70 ) = ( dim ( C66 + C67 ) ) by L514;
L613: ( dom C70 ) = ( dom ( D99 ^ D98 ) ) by L612 , L608 , L601 , L611 , L610 , L582 , FINSEQ_3:29;
L614: ( rng C68 ) c= D97 by L583 , FINSEQ_1:29;
L615: ( Carrier C80 ) c= D97 by L614 , L595 , L605 , XBOOLE_1:1;
L616: C79 = ( C80 + C77 ) by L615 , L584 , L594 , L606 , L585 , L590 , L597 , L593 , L603 , MATRLIN:6;
L617:
now
let R5 being Nat;
assume that
L618: (1 <= R5 & R5 <= ( len D100 ));
L619: R5 in ( dom ( D99 ^ D98 ) ) by L608 , L601 , L599 , L611 , L612 , L610 , L582 , L618 , FINSEQ_3:25;
L620:
now
per cases  by L619 , FINSEQ_1:25;
suppose L621: R5 in ( dom D99 );

L622: (1 <= R5 & R5 <= ( len D99 )) by L621 , FINSEQ_3:25;
L623: ( C78 . ( C68 /. R5 ) ) = ( D99 /. R5 ) by L622 , L596
.= ( D99 . R5 ) by L621 , PARTFUN1:def 6
.= ( ( D99 ^ D98 ) . R5 ) by L621 , FINSEQ_1:def 7;
reconsider D101 = ( C68 /. R5 ) as (Vector of ( C66 + C67 )) by L604 , VECTSP_4:10;
L624: ( C80 . ( C68 /. R5 ) ) = ( C78 . ( C68 /. R5 ) ) by L607 , FUNCT_1:49;
L625: (not ( C68 /. R5 ) in ( Carrier C77 ))
proof
L626: ( C68 /. R5 ) in C66 by STRUCT_0:def 5;
assume L627: ( C68 /. R5 ) in ( Carrier C77 );
L628: ( C68 /. R5 ) in C67 by L627 , L589 , STRUCT_0:def 5;
L629: ( C68 /. R5 ) in ( C66 /\ C67 ) by L628 , L626 , VECTSP_5:3;
L630: ( C68 /. R5 ) in (the carrier of ( (0). R11 )) by L629 , L579 , STRUCT_0:def 5;
L631: ( C68 /. R5 ) in { ( 0. R11 ) } by L630 , VECTSP_4:def 3;
L632: ( C68 /. R5 ) = ( 0. R11 ) by L631 , TARSKI:def 1
.= ( 0. ( C66 + C67 ) ) by VECTSP_4:11;
thus L633: thesis by L632 , L593 , L603 , L627 , VECTSP_7:2;
end;
L634: ( C77 . D101 ) = ( 0. R8 ) by L625;
L635: ( C79 . D101 ) = ( ( C80 . D101 ) + ( 0. R8 ) ) by L634 , L616 , VECTSP_6:22
.= ( ( D99 ^ D98 ) . R5 ) by L623 , L624 , RLVECT_1:def 4;
L636: D101 = ( C68 . R5 ) by L609 , L621 , PARTFUN1:def 6
.= ( C70 . R5 ) by L583 , L609 , L621 , FINSEQ_1:def 7
.= ( C70 /. R5 ) by L613 , L619 , PARTFUN1:def 6;
thus L637: ( ( D99 ^ D98 ) . R5 ) = ( D100 /. R5 ) by L636 , L598 , L618 , L635
.= ( D100 . R5 ) by L613 , L600 , L619 , PARTFUN1:def 6;
end;
suppose L638: (ex R4 being Nat st (R4 in ( dom D98 ) & R5 = ( ( len D99 ) + R4 )));

consider R4 being Nat such that L639: R4 in ( dom D98 ) and L640: R5 = ( ( len D99 ) + R4 ) by L638;
L641: (1 <= R4 & R4 <= ( len D98 )) by L639 , FINSEQ_3:25;
L642: ( C76 . ( C69 /. R4 ) ) = ( D98 /. R4 ) by L641 , L587
.= ( D98 . R4 ) by L639 , PARTFUN1:def 6
.= ( ( D99 ^ D98 ) . R5 ) by L639 , L640 , FINSEQ_1:def 7;
reconsider D102 = ( C69 /. R4 ) as (Vector of ( C66 + C67 )) by L588 , VECTSP_4:10;
L643: ( C77 . ( C69 /. R4 ) ) = ( C76 . ( C69 /. R4 ) ) by L591 , FUNCT_1:49;
L644: (not ( C69 /. R4 ) in ( Carrier C80 ))
proof
assume L645: ( C69 /. R4 ) in ( Carrier C80 );
L646: (( C69 /. R4 ) in C67 & ( C69 /. R4 ) in C66) by L645 , L605 , STRUCT_0:def 5;
L647: ( C69 /. R4 ) in ( C66 /\ C67 ) by L646 , VECTSP_5:3;
L648: ( C69 /. R4 ) in (the carrier of ( (0). R11 )) by L647 , L579 , STRUCT_0:def 5;
L649: ( C69 /. R4 ) in { ( 0. R11 ) } by L648 , VECTSP_4:def 3;
L650: ( C69 /. R4 ) = ( 0. R11 ) by L649 , TARSKI:def 1
.= ( 0. ( C66 + C67 ) ) by VECTSP_4:11;
thus L651: thesis by L650 , L615 , L603 , L645 , VECTSP_7:2;
end;
L652: ( C80 . D102 ) = ( 0. R8 ) by L644;
L653: ( C79 . D102 ) = ( ( 0. R8 ) + ( C77 . D102 ) ) by L652 , L616 , VECTSP_6:22
.= ( ( D99 ^ D98 ) . R5 ) by L642 , L643 , RLVECT_1:def 4;
L654: D102 = ( C69 . R4 ) by L602 , L639 , PARTFUN1:def 6
.= ( C70 . R5 ) by L583 , L608 , L602 , L639 , L640 , FINSEQ_1:def 7
.= ( C70 /. R5 ) by L613 , L619 , PARTFUN1:def 6;
thus L655: ( ( D99 ^ D98 ) . R5 ) = ( D100 /. R5 ) by L654 , L598 , L618 , L653
.= ( D100 . R5 ) by L613 , L600 , L619 , PARTFUN1:def 6;
end;
end;
thus L657: ( D100 . R5 ) = ( ( D99 ^ D98 ) . R5 ) by L620;
end;
thus L658: thesis by L617 , L608 , L601 , L599 , L611 , L610 , L582 , L514 , FINSEQ_1:14;
end;
theorem
L659: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R15 being (OrdBasis of R11) holds (for B56 being (Subspace of R11) holds (B56 = ( (Omega). R11 ) implies (for B57 being (Vector of B56) holds (for B58 being (Vector of R11) holds (for B59 being (OrdBasis of B56) holds ((B58 = B57 & R15 = B59) implies ( B58 |-- R15 ) = ( B57 |-- B59 ))))))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
let C81 being (Subspace of R11);
assume that
L660: C81 = ( (Omega). R11 );
let C82 being (Vector of C81);
let C83 being (Vector of R11);
let C84 being (OrdBasis of C81);
assume that
L661: C83 = C82
and
L662: R15 = C84;
consider C85 being (Linear_Combination of C81) such that L663: (C82 = ( Sum C85 ) & ( Carrier C85 ) c= ( rng C84 )) and L664: (for R5 being Nat holds ((1 <= R5 & R5 <= ( len ( C82 |-- C84 ) )) implies ( ( C82 |-- C84 ) /. R5 ) = ( C85 . ( C84 /. R5 ) ))) by MATRLIN:def 7;
consider C86 being (Linear_Combination of R11) such that L665: (( Carrier C86 ) = ( Carrier C85 ) & ( Sum C86 ) = ( Sum C85 )) and L666: ( C86 | (the carrier of C81) ) = C85 by L517;
L667: ( len C84 ) = ( len ( C82 |-- C84 ) ) by MATRLIN:def 7;
L668:
now
let R5 being Nat;
assume that
L669: (1 <= R5 & R5 <= ( len ( C82 |-- C84 ) ));
L670: R5 in ( dom C84 ) by L667 , L669 , FINSEQ_3:25;
L671: ( dom C86 ) = (the carrier of C81) by L660 , FUNCT_2:def 1;
L672: C85 = C86 by L671 , L666 , RELAT_1:69;
thus L673: ( ( C82 |-- C84 ) /. R5 ) = ( C86 . ( C84 /. R5 ) ) by L672 , L664 , L669
.= ( C86 . ( C84 . R5 ) ) by L670 , PARTFUN1:def 6
.= ( C86 . ( R15 /. R5 ) ) by L662 , L670 , PARTFUN1:def 6;
end;
thus L674: thesis by L668 , L661 , L662 , L663 , L665 , L667 , MATRLIN:def 7;
end;
theorem
L675: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for B60 , B61 being (Subspace of R11) holds (( B60 /\ B61 ) = ( (0). R11 ) implies (for B62 being (OrdBasis of B60) holds (for B63 being (OrdBasis of B61) holds ( B62 ^ B63 ) is (OrdBasis of ( B60 + B61 ))))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let C87 , C88 being (Subspace of R11);
assume that
L676: ( C87 /\ C88 ) = ( (0). R11 );
let C89 being (OrdBasis of C87);
let C90 being (OrdBasis of C88);
reconsider D103 = ( rng C89 ) as (Basis of C87) by MATRLIN:def 2;
reconsider D104 = ( rng C90 ) as (Basis of C88) by MATRLIN:def 2;
L677: ( D103 \/ D104 ) = ( rng ( C89 ^ C90 ) ) by FINSEQ_1:31;
L678: D103 misses D104
proof
assume L679: D103 meets D104;
consider R6 being set such that L680: R6 in D103 and L681: R6 in D104 by L679 , XBOOLE_0:3;
L682: (R6 in C87 & R6 in C88) by L680 , L681 , STRUCT_0:def 5;
L683: R6 in ( C87 /\ C88 ) by L682 , VECTSP_5:3;
L684: R6 in (the carrier of ( (0). R11 )) by L683 , L676 , STRUCT_0:def 5;
L685: R6 in { ( 0. R11 ) } by L684 , VECTSP_4:def 3;
L686: R6 = ( 0. R11 ) by L685 , TARSKI:def 1
.= ( 0. C87 ) by VECTSP_4:11;
L687: (not D103 is  linearly-independent) by L686 , L680 , VECTSP_7:2;
thus L688: thesis by L687 , VECTSP_7:def 3;
end;
L689: ( D103 \/ D104 ) is (Basis of ( C87 + C88 )) by L676 , L129;
reconsider D105 = ( C89 ^ C90 ) as (FinSequence of ( C87 + C88 )) by L689 , L677 , FINSEQ_1:def 4;
L690: (C89 is  one-to-one & C90 is  one-to-one) by MATRLIN:def 2;
L691: D105 is  one-to-one by L690 , L678 , FINSEQ_3:91;
thus L692: thesis by L691 , L689 , L677 , MATRLIN:def 2;
end;
begin
definition
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R12 being  finite-dimensional (VectSp of R8);
let R14 being (Function of R11 , R12);
let R17 being (FinSequence of R11);
let R18 being (OrdBasis of R12);
redefine func AutMt (R14 , R17 , R18) -> (Matrix of ( len R17 ) , ( len R18 ) , R8);

coherence
proof
reconsider D106 = ( AutMt (R14 , R17 , R18) ) as (Matrix of ( len ( AutMt (R14 , R17 , R18) ) ) , ( width ( AutMt (R14 , R17 , R18) ) ) , R8) by MATRIX_2:7;
L693: ( len D106 ) = ( len R17 ) by MATRLIN:def 8;
per cases ;
suppose L694: ( len R17 ) = ( 0 );

L695: ( AutMt (R14 , R17 , R18) ) = ( {} ) by L694 , L693;
thus L696: thesis by L695 , L694 , MATRIX_1:13;
end;
suppose L697: ( len R17 ) > ( 0 );

L698: ( dom R17 ) = ( dom D106 ) by L693 , FINSEQ_3:29;
L699: ( dom R17 ) = ( Seg ( len R17 ) ) by FINSEQ_1:def 3;
L700: ( len R17 ) in ( Seg ( len R17 ) ) by L697 , FINSEQ_1:3;
L701: ( ( R14 . ( R17 /. ( len R17 ) ) ) |-- R18 ) = ( D106 /. ( len R17 ) ) by L700 , L699 , MATRLIN:def 8
.= ( D106 . ( len R17 ) ) by L697 , L699 , L698 , FINSEQ_1:3 , PARTFUN1:def 6
.= ( Line (D106 , ( len R17 )) ) by L693 , L700 , MATRIX_2:8;
L702: ( width D106 ) = ( len ( ( R14 . ( R17 /. ( len R17 ) ) ) |-- R18 ) ) by L701 , CARD_1:def 7
.= ( len R18 ) by MATRLIN:def 7;
thus L703: thesis by L702 , MATRLIN:def 8;
end;
end;
end;
definition
let C91 being 1-sorted;
let C92 being Relation;
func C92 | C91 equals 
( C92 | (the carrier of C91) );
coherence;
end;
theorem
L707: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R12 being  finite-dimensional (VectSp of R8) holds (for R15 being (OrdBasis of R11) holds (for R18 being (OrdBasis of R12) holds (for B64 being (linear-transformation of R11 , R12) holds (for B65 , B66 being (Subspace of R11) holds (for B67 , B68 being (Subspace of R12) holds (((( dim B65 ) = ( 0 ) implies ( dim B67 ) = ( 0 )) & (( dim B66 ) = ( 0 ) implies ( dim B68 ) = ( 0 )) & R12 is_the_direct_sum_of B67 , B68) implies (for B69 being (linear-transformation of B65 , B67) holds (for B70 being (linear-transformation of B66 , B68) holds ((B69 = ( B64 | B65 ) & B70 = ( B64 | B66 )) implies (for B71 being (OrdBasis of B65) holds (for B72 being (OrdBasis of B66) holds (for B73 being (OrdBasis of B67) holds (for B74 being (OrdBasis of B68) holds ((( B71 ^ B72 ) = R15 & ( B73 ^ B74 ) = R18) implies ( AutMt (B64 , R15 , R18) ) = ( block_diagonal (<* ( AutMt (B69 , B71 , B73) ) , ( AutMt (B70 , B72 , B74) ) *> , ( 0. R8 )) ))))))))))))))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R12 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
let R18 being (OrdBasis of R12);
let C93 being (linear-transformation of R11 , R12);
let C94 , C95 being (Subspace of R11);
let C96 , C97 being (Subspace of R12);
assume that
L708: (( dim C94 ) = ( 0 ) implies ( dim C96 ) = ( 0 ))
and
L709: (( dim C95 ) = ( 0 ) implies ( dim C97 ) = ( 0 ))
and
L710: R12 is_the_direct_sum_of C96 , C97;
L711: ( C96 /\ C97 ) = ( (0). R12 ) by L710 , VECTSP_5:def 4;
let C98 being (linear-transformation of C94 , C96);
let C99 being (linear-transformation of C95 , C97);
assume that
L712: C98 = ( C93 | C94 )
and
L713: C99 = ( C93 | C95 );
let C100 being (OrdBasis of C94);
let C101 being (OrdBasis of C95);
let C102 being (OrdBasis of C96);
let C103 being (OrdBasis of C97);
assume that
L714: ( C100 ^ C101 ) = R15
and
L715: ( C102 ^ C103 ) = R18;
L716: ( len R15 ) = ( ( len C100 ) + ( len C101 ) ) by L714 , FINSEQ_1:22;
L717: ( C96 + C97 ) = ( (Omega). R12 ) by L710 , VECTSP_5:def 4;
set D107 = ( AutMt (C93 , R15 , R18) );
L718: ( len R15 ) = ( len D107 ) by MATRLIN:def 8;
set D108 = ( AutMt (C99 , C101 , C103) );
L719: (( len C101 ) = ( dim C95 ) & ( len C103 ) = ( dim C97 )) by L514;
L720: ( len C101 ) = ( len D108 ) by L719 , L709 , MATRIX13:1;
set D109 = ( AutMt (C98 , C100 , C102) );
L721: (( len C100 ) = ( dim C94 ) & ( len C102 ) = ( dim C96 )) by L514;
L722: ( len C100 ) = ( len D109 ) by L721 , L708 , MATRIX13:1;
L723: ( len C103 ) = ( width D108 ) by L709 , L719 , MATRIX13:1;
L724: ( len C102 ) = ( width D109 ) by L708 , L721 , MATRIX13:1;
L725:
now
reconsider D110 = ( C102 ^ C103 ) as (OrdBasis of ( C96 + C97 )) by L711 , L675;
let R1 being Nat;
L726: ( dom D107 ) = ( Seg ( len D107 ) ) by FINSEQ_1:def 3;
reconsider D111 = ( C93 . ( R15 /. R1 ) ) , D112 = ( C93 . ( R15 /. ( R1 + ( len D109 ) ) ) ) as (Vector of ( C96 + C97 )) by L717;
L727: ( dom D107 ) = ( dom R15 ) by L718 , FINSEQ_3:29;
L728: ( dom D109 ) = ( dom C100 ) by L722 , FINSEQ_3:29;
L729: ( dom C98 ) = (the carrier of C94) by FUNCT_2:def 1;
thus L730: (R1 in ( dom D109 ) implies ( Line (D107 , R1) ) = ( ( Line (D109 , R1) ) ^ ( ( width D108 ) |-> ( 0. R8 ) ) ))
proof
assume L731: R1 in ( dom D109 );
L732: ( dom D109 ) = ( Seg ( len D109 ) ) by FINSEQ_1:def 3;
L733: ( Line (D109 , R1) ) = ( D109 . R1 ) by L732 , L722 , L731 , MATRIX_2:8
.= ( D109 /. R1 ) by L731 , PARTFUN1:def 6
.= ( ( C98 . ( C100 /. R1 ) ) |-- C102 ) by L728 , L731 , MATRLIN:def 8;
L734: ( len D109 ) <= ( len D107 ) by L716 , L722 , L718 , NAT_1:11;
L735: ( Seg ( len D109 ) ) c= ( Seg ( len D107 ) ) by L734 , FINSEQ_1:5;
L736: ( R15 /. R1 ) = ( R15 . R1 ) by L735 , L726 , L727 , L731 , L732 , PARTFUN1:def 6
.= ( C100 . R1 ) by L714 , L728 , L731 , FINSEQ_1:def 7
.= ( C100 /. R1 ) by L728 , L731 , PARTFUN1:def 6;
L737: D111 = ( C98 . ( C100 /. R1 ) ) by L736 , L712 , L729 , FUNCT_1:47;
thus L738: ( Line (D107 , R1) ) = ( D107 . R1 ) by L718 , L731 , L732 , L735 , MATRIX_2:8
.= ( D107 /. R1 ) by L726 , L731 , L732 , L735 , PARTFUN1:def 6
.= ( ( C93 . ( R15 /. R1 ) ) |-- R18 ) by L726 , L727 , L731 , L732 , L735 , MATRLIN:def 8
.= ( D111 |-- D110 ) by L717 , L715 , L659
.= ( ( D111 + ( 0. ( C96 + C97 ) ) ) |-- D110 ) by RLVECT_1:def 4
.= ( ( ( C98 . ( C100 /. R1 ) ) |-- C102 ) ^ ( ( 0. C97 ) |-- C103 ) ) by L711 , L737 , L578 , VECTSP_4:12
.= ( ( Line (D109 , R1) ) ^ ( ( width D108 ) |-> ( 0. R8 ) ) ) by L723 , L733 , L503;
end;

L739: ( dom D108 ) = ( dom C101 ) by L720 , FINSEQ_3:29;
L740: ( dom C99 ) = (the carrier of C95) by FUNCT_2:def 1;
thus L741: (R1 in ( dom D108 ) implies ( Line (D107 , ( R1 + ( len D109 ) )) ) = ( ( ( width D109 ) |-> ( 0. R8 ) ) ^ ( Line (D108 , R1) ) ))
proof
assume L742: R1 in ( dom D108 );
L743: ( dom D108 ) = ( Seg ( len D108 ) ) by FINSEQ_1:def 3;
L744: ( R1 + ( len D109 ) ) in ( dom D107 ) by L743 , L716 , L722 , L720 , L718 , L726 , L742 , FINSEQ_1:60;
L745: ( R15 /. ( R1 + ( len D109 ) ) ) = ( R15 . ( R1 + ( len D109 ) ) ) by L716 , L722 , L720 , L718 , L726 , L727 , L742 , L743 , FINSEQ_1:60 , PARTFUN1:def 6
.= ( C101 . R1 ) by L714 , L722 , L739 , L742 , FINSEQ_1:def 7
.= ( C101 /. R1 ) by L739 , L742 , PARTFUN1:def 6;
L746: D112 = ( C99 . ( C101 /. R1 ) ) by L745 , L713 , L740 , FUNCT_1:47;
L747: ( Line (D108 , R1) ) = ( D108 . R1 ) by L720 , L742 , L743 , MATRIX_2:8
.= ( D108 /. R1 ) by L742 , PARTFUN1:def 6
.= ( ( C99 . ( C101 /. R1 ) ) |-- C103 ) by L739 , L742 , MATRLIN:def 8;
thus L748: ( Line (D107 , ( R1 + ( len D109 ) )) ) = ( D107 . ( R1 + ( len D109 ) ) ) by L716 , L722 , L720 , L718 , L726 , L742 , L743 , FINSEQ_1:60 , MATRIX_2:8
.= ( D107 /. ( R1 + ( len D109 ) ) ) by L716 , L722 , L720 , L718 , L726 , L742 , L743 , FINSEQ_1:60 , PARTFUN1:def 6
.= ( ( C93 . ( R15 /. ( R1 + ( len D109 ) ) ) ) |-- R18 ) by L727 , L744 , MATRLIN:def 8
.= ( D112 |-- D110 ) by L717 , L715 , L659
.= ( ( ( 0. ( C96 + C97 ) ) + D112 ) |-- D110 ) by RLVECT_1:def 4
.= ( ( ( 0. C96 ) |-- C102 ) ^ ( ( C99 . ( C101 /. R1 ) ) |-- C103 ) ) by L711 , L746 , L578 , VECTSP_4:12
.= ( ( ( width D109 ) |-> ( 0. R8 ) ) ^ ( Line (D108 , R1) ) ) by L724 , L747 , L503;
end;

end;
set D113 = <* D109 , D108 *>;
L742: (( Sum ( Len D113 ) ) = ( ( len D109 ) + ( len D108 ) ) & ( Sum ( Width D113 ) ) = ( ( width D109 ) + ( width D108 ) )) by MATRIXJ1:16 , MATRIXJ1:20;
L743: ( len R18 ) = ( ( len C102 ) + ( len C103 ) ) by L715 , FINSEQ_1:22;
thus L744: thesis by L743 , L716 , L722 , L720 , L724 , L723 , L742 , L725 , MATRIXJ1:23;
end;
definition
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R12 being  finite-dimensional (VectSp of R8);
let C104 being (Function of R11 , R12);
let C105 being (FinSequence of R11);
let C106 being (OrdBasis of R12);
assume L745: ( len C105 ) = ( len C106 );
func AutEqMt (C104 , C105 , C106) -> (Matrix of ( len C105 ) , ( len C105 ) , R8) equals 
:L746: ( AutMt (C104 , C105 , C106) );
coherence by L745;
end;
theorem
L748: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R15 being (OrdBasis of R11) holds ( AutMt (( id R11 ) , R15 , R15) ) = ( 1. (R8 , ( len R15 )) ))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
set D114 = ( AutMt (( id R11 ) , R15 , R15) );
set D115 = ( 1. (R8 , ( len R15 )) );
L749: ( len D114 ) = ( len R15 ) by MATRIX_1:def 2;
L750:
now
let R1 being Nat;
assume that
L751: (1 <= R1 & R1 <= ( len R15 ));
L752: R1 in ( dom R15 ) by L751 , FINSEQ_3:25;
L753: R1 in ( Seg ( len R15 ) ) by L751 , FINSEQ_1:1;
L754: R1 in ( dom D114 ) by L749 , L751 , FINSEQ_3:25;
thus L755: ( D114 . R1 ) = ( D114 /. R1 ) by L754 , PARTFUN1:def 6
.= ( ( ( id R11 ) . ( R15 /. R1 ) ) |-- R15 ) by L752 , MATRLIN:def 8
.= ( ( R15 /. R1 ) |-- R15 ) by FUNCT_1:17
.= ( Line (D115 , R1) ) by L752 , L460
.= ( D115 . R1 ) by L753 , MATRIX_2:8;
end;
L756: ( len D115 ) = ( len R15 ) by MATRIX_1:def 2;
thus L757: thesis by L756 , L749 , L750 , FINSEQ_1:14;
end;
theorem
L758: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R15 being (OrdBasis of R11) holds (for R16 being (OrdBasis of R11) holds (( AutEqMt (( id R11 ) , R15 , R16) ) is  invertible & ( AutEqMt (( id R11 ) , R16 , R15) ) = ( ( AutEqMt (( id R11 ) , R15 , R16) ) ~ ))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
let R16 being (OrdBasis of R11);
set D116 = ( AutEqMt (( id R11 ) , R15 , R16) );
L759: ( 1_ R8 ) <> ( 0. R8 );
L760: ( len R15 ) = ( dim R11 ) by L514
.= ( len R16 ) by L514;
reconsider D117 = ( AutEqMt (( id R11 ) , R16 , R15) ) as (Matrix of ( len R15 ) , ( len R15 ) , R8) by L760;
L761: (D116 = ( AutMt (( id R11 ) , R15 , R16) ) & D117 = ( AutMt (( id R11 ) , R16 , R15) )) by L760 , L746;
per cases ;
suppose L762: ( len R15 ) = ( 0 );

L763: (( Det D116 ) = ( 1_ R8 ) & D117 = ( D116 ~ )) by L762 , MATRIXR2:41 , MATRIX_1:35;
thus L764: thesis by L763 , L759 , LAPLACE:34;
end;
suppose L765: ( ( len R15 ) + ( 0 ) ) > ( 0 );

L766: ( dom ( id R11 ) ) = (the carrier of R11) by RELAT_1:45;
L767: ( ( id R11 ) * ( id R11 ) ) = ( id R11 ) by L766 , RELAT_1:52;
L768: ( len R15 ) = ( dim R11 ) by L514;
L769: ( len R15 ) = ( len R16 ) by L768 , L514;
L770: ( D116 * D117 ) = ( AutMt (( ( id R11 ) * ( id R11 ) ) , R15 , R15) ) by L769 , L761 , L765 , MATRLIN:41
.= ( 1. (R8 , ( len R15 )) ) by L767 , L748;
L771: ( len R15 ) >= 1 by L765 , NAT_1:19;
L772: ( 1_ R8 ) = ( Det ( D116 * D117 ) ) by L771 , L770 , MATRIX_7:16
.= ( ( Det D116 ) * ( Det D117 ) ) by L765 , MATRIX11:62;
L773: ( Det D116 ) <> ( 0. R8 ) by L772 , VECTSP_1:12;
L774: D116 is  invertible by L773 , LAPLACE:34;
L775: ( D116 ~ ) is_reverse_of D116 by L774 , MATRIX_6:def 4;
L776: ( D116 * ( D116 ~ ) ) = ( 1. (R8 , ( len R15 )) ) by L775 , MATRIX_6:def 2;
thus L777: thesis by L776 , L770 , L774 , MATRIX_8:19;
end;
end;
theorem
L779: (for R2 being Nat holds (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R15 being (OrdBasis of R11) holds (for R17 being (FinSequence of R11) holds (for R27 being (FinSequence of R8) holds (for R28 being (FinSequence of R8) holds ((( len R27 ) = ( len R28 ) & ( len R27 ) = ( len R17 ) & ( len R27 ) > ( 0 ) & R2 in ( dom R15 ) & (for R1 being Nat holds (R1 in ( dom R28 ) implies ( R28 . R1 ) = ( ( ( R17 /. R1 ) |-- R15 ) . R2 )))) implies ( R27 "*" R28 ) = ( ( ( Sum ( lmlt (R27 , R17) ) ) |-- R15 ) . R2 )))))))))
proof
let R2 being Nat;
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
let R17 being (FinSequence of R11);
let R27 being (FinSequence of R8);
let R28 being (FinSequence of R8);
assume that
L780: ( len R27 ) = ( len R28 )
and
L781: ( len R27 ) = ( len R17 )
and
L782: ( len R27 ) > ( 0 )
and
L783: R2 in ( dom R15 )
and
L784: (for R1 being Nat holds (R1 in ( dom R28 ) implies ( R28 . R1 ) = ( ( ( R17 /. R1 ) |-- R15 ) . R2 )));
deffunc H4(Nat , Nat) = ( ( ( R17 /. $1 ) |-- R15 ) /. $2 );
consider C107 being (Matrix of ( len R27 ) , ( len R15 ) , R8) such that L785: (for R1 being Nat holds (for R2 being Nat holds ([ R1 , R2 ] in ( Indices C107 ) implies ( C107 * (R1 , R2) ) = H4(R1 , R2)))) from MATRIX_1:sch 1;
L786: ( len C107 ) = ( len R27 ) by L782 , MATRIX_1:23;
L787: ( dom R27 ) = ( dom C107 ) by L786 , FINSEQ_3:29;
L788: ( width C107 ) = ( len R15 ) by L782 , MATRIX_1:23;
L789: ( dom R15 ) = ( Seg ( len R15 ) ) by FINSEQ_1:def 3;
L790: ( dom R27 ) = ( Seg ( len R27 ) ) by FINSEQ_1:def 3;
L791: ( dom R27 ) = ( dom R28 ) by L780 , FINSEQ_3:29;
L792:
now
let R1 being Nat;
assume L793: (1 <= R1 & R1 <= ( len R28 ));
L794: R1 in ( dom R27 ) by L793 , L780 , L790 , FINSEQ_1:1;
L795: [ R1 , R2 ] in ( Indices C107 ) by L794 , L783 , L788 , L787 , L789 , ZFMISC_1:87;
L796: ( len ( ( R17 /. R1 ) |-- R15 ) ) = ( len R15 ) by MATRLIN:def 7;
L797: ( dom ( ( R17 /. R1 ) |-- R15 ) ) = ( dom R15 ) by L796 , FINSEQ_3:29;
thus L798: ( ( Col (C107 , R2) ) . R1 ) = ( C107 * (R1 , R2) ) by L787 , L794 , MATRIX_1:def 8
.= ( ( ( R17 /. R1 ) |-- R15 ) /. R2 ) by L785 , L795
.= ( ( ( R17 /. R1 ) |-- R15 ) . R2 ) by L783 , L797 , PARTFUN1:def 6
.= ( R28 . R1 ) by L784 , L791 , L794;
end;
deffunc H5(Nat) = ( Sum ( mlt (R27 , ( Col (C107 , $1) )) ) );
consider C108 being (FinSequence of R8) such that L799: (( len C108 ) = ( len R15 ) & (for B75 being Nat holds (B75 in ( dom C108 ) implies ( C108 . B75 ) = H5(B75)))) from FINSEQ_2:sch 1;
L800: (for R2 being Nat holds (R2 in ( dom C108 ) implies ( C108 /. R2 ) = H5(R2)))
proof
let R2 being Nat;
assume L801: R2 in ( dom C108 );
L802: ( C108 . R2 ) = H5(R2) by L801 , L799;
thus L803: thesis by L802 , L801 , PARTFUN1:def 6;
end;
L804: ( dom R15 ) = ( dom C108 ) by L799 , FINSEQ_3:29;
L805: ( dom R27 ) = ( dom R17 ) by L781 , FINSEQ_3:29;
L806:
now
let R1 being Nat;
assume that
L807: R1 in ( dom R17 );
L808: ( len ( Line (C107 , R1) ) ) = ( width C107 ) by MATRIX_1:def 7;
L809: ( len ( ( R17 /. R1 ) |-- R15 ) ) = ( len R15 ) by MATRLIN:def 7;
L810: ( dom ( Line (C107 , R1) ) ) = ( dom ( ( R17 /. R1 ) |-- R15 ) ) by L809 , L788 , L808 , FINSEQ_3:29;
L811: ( dom ( Line (C107 , R1) ) ) = ( Seg ( width C107 ) ) by L808 , FINSEQ_1:def 3;
L812:
now
let R5 being Nat;
assume that
L813: R5 in ( dom ( ( R17 /. R1 ) |-- R15 ) );
L814: [ R1 , R5 ] in ( Indices C107 ) by L805 , L787 , L807 , L810 , L811 , L813 , ZFMISC_1:87;
thus L815: ( ( Line (C107 , R1) ) . R5 ) = ( C107 * (R1 , R5) ) by L810 , L811 , L813 , MATRIX_1:def 7
.= ( ( ( R17 /. R1 ) |-- R15 ) /. R5 ) by L785 , L814
.= ( ( ( R17 /. R1 ) |-- R15 ) . R5 ) by L813 , PARTFUN1:def 6;
end;
thus L816: ( R17 /. R1 ) = ( Sum ( lmlt (( ( R17 /. R1 ) |-- R15 ) , R15) ) ) by MATRLIN:35
.= ( Sum ( lmlt (( Line (C107 , R1) ) , R15) ) ) by L810 , L812 , FINSEQ_1:13;
end;
L817: R15 <> ( {} ) by L783;
L818: ( len ( Col (C107 , R2) ) ) = ( len C107 ) by CARD_1:def 7;
L819: ( len ( ( Sum ( lmlt (R27 , R17) ) ) |-- R15 ) ) = ( len R15 ) by MATRLIN:def 7;
L820: ( dom ( ( Sum ( lmlt (R27 , R17) ) ) |-- R15 ) ) = ( dom R15 ) by L819 , FINSEQ_3:29;
thus L821: ( ( ( Sum ( lmlt (R27 , R17) ) ) |-- R15 ) . R2 ) = ( ( ( Sum ( lmlt (R27 , R17) ) ) |-- R15 ) /. R2 ) by L820 , L783 , PARTFUN1:def 6
.= ( ( ( Sum ( lmlt (C108 , R15) ) ) |-- R15 ) /. R2 ) by L781 , L782 , L799 , L800 , L817 , L806 , MATRLIN:33
.= ( C108 /. R2 ) by L799 , MATRLIN:36
.= ( C108 . R2 ) by L783 , L804 , PARTFUN1:def 6
.= ( Sum ( mlt (R27 , ( Col (C107 , R2) )) ) ) by L783 , L799 , L804
.= ( R27 "*" R28 ) by L780 , L786 , L818 , L792 , FINSEQ_1:14;
end;
theorem
L822: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R12 being  finite-dimensional (VectSp of R8) holds (for R14 being (Function of R11 , R12) holds (for R15 being (OrdBasis of R11) holds (for R18 being (OrdBasis of R12) holds (for R21 being (Element of R11) holds ((( len R15 ) > ( 0 ) & R14 is  additive  homogeneous) implies ( ( LineVec2Mx ( R21 |-- R15 ) ) * ( AutMt (R14 , R15 , R18) ) ) = ( LineVec2Mx ( ( R14 . R21 ) |-- R18 ) )))))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R12 being  finite-dimensional (VectSp of R8);
let R14 being (Function of R11 , R12);
let R15 being (OrdBasis of R11);
let R18 being (OrdBasis of R12);
let R21 being (Element of R11);
assume that
L823: ( len R15 ) > ( 0 )
and
L824: R14 is  additive  homogeneous;
set D118 = ( AutMt (R14 , R15 , R18) );
set D119 = ( ( R14 . R21 ) |-- R18 );
set D120 = ( R21 |-- R15 );
set D121 = ( LineVec2Mx D120 );
set D122 = ( D121 * D118 );
set D123 = ( LineVec2Mx D119 );
L825: ( len D118 ) = ( len R15 ) by MATRLIN:def 8;
L826: ( len D119 ) = ( len R18 ) by MATRLIN:def 7;
L827: ( width D123 ) = ( len R18 ) by L826 , MATRIX_1:23;
L828: ( len D120 ) = ( len R15 ) by MATRLIN:def 7;
L829: ( width D121 ) = ( len R15 ) by L828 , MATRIX_1:23;
L830: ( len D121 ) = 1 by MATRIX_1:23;
L831: ( len D122 ) = 1 by L830 , L829 , L825 , MATRIX_3:def 4;
L832: ( width D118 ) = ( len R18 ) by L823 , MATRLIN:39;
L833: ( width D122 ) = ( len R18 ) by L832 , L829 , L825 , MATRIX_3:def 4;
L834:
now
L835: ( dom R18 ) = ( Seg ( len R18 ) ) by FINSEQ_1:def 3;
L836: ( dom D122 ) = ( Seg 1 ) by L831 , FINSEQ_1:def 3;
L837: ( len ( R14 * R15 ) ) = ( len R15 ) by FINSEQ_2:33;
let R1 being Nat;
let R2 being Nat;
assume that
L838: [ R1 , R2 ] in ( Indices D122 );
L839: R2 in ( Seg ( len R18 ) ) by L833 , L838 , ZFMISC_1:87;
L840: R1 in ( dom D122 ) by L838 , ZFMISC_1:87;
L841: R1 = 1 by L840 , L836 , FINSEQ_1:2 , TARSKI:def 1;
L842: ( len ( Col (D118 , R2) ) ) = ( len D118 ) by CARD_1:def 7;
L843:
now
L844: ( dom ( R14 * R15 ) ) = ( dom R15 ) by L837 , FINSEQ_3:29;
L845: ( dom D118 ) = ( dom ( Col (D118 , R2) ) ) by L842 , FINSEQ_3:29;
let R5 being Nat;
assume that
L846: R5 in ( dom ( Col (D118 , R2) ) );
L847: (( dom D118 ) = ( Seg ( len D118 ) ) & ( D118 . R5 ) = ( D118 /. R5 )) by L846 , L845 , FINSEQ_1:def 3 , PARTFUN1:def 6;
L848: ( dom D118 ) = ( dom R15 ) by L825 , FINSEQ_3:29;
L849: ( R14 . ( R15 /. R5 ) ) = ( R14 . ( R15 . R5 ) ) by L848 , L846 , L845 , PARTFUN1:def 6
.= ( ( R14 * R15 ) . R5 ) by L846 , L845 , L848 , FUNCT_1:13
.= ( ( R14 * R15 ) /. R5 ) by L846 , L845 , L848 , L844 , PARTFUN1:def 6;
thus L850: ( ( Col (D118 , R2) ) . R5 ) = ( D118 * (R5 , R2) ) by L846 , L845 , MATRIX_1:def 8
.= ( ( Line (D118 , R5) ) . R2 ) by L832 , L839 , MATRIX_1:def 7
.= ( ( D118 /. R5 ) . R2 ) by L825 , L846 , L845 , L847 , MATRIX_2:8
.= ( ( ( ( R14 * R15 ) /. R5 ) |-- R18 ) . R2 ) by L846 , L845 , L848 , L849 , MATRLIN:def 8;
end;
thus L851: ( D123 * (R1 , R2) ) = ( ( Line (D123 , R1) ) . R2 ) by L827 , L839 , MATRIX_1:def 7
.= ( ( ( R14 . R21 ) |-- R18 ) . R2 ) by L841 , MATRIX15:25
.= ( ( ( R14 . ( Sum ( lmlt (( R21 |-- R15 ) , R15) ) ) ) |-- R18 ) . R2 ) by MATRLIN:35
.= ( ( ( Sum ( lmlt (( R21 |-- R15 ) , ( R14 * R15 )) ) ) |-- R18 ) . R2 ) by L824 , L828 , MATRLIN:18
.= ( ( R21 |-- R15 ) "*" ( Col (D118 , R2) ) ) by L823 , L828 , L825 , L835 , L839 , L837 , L842 , L843 , L779
.= ( ( Line (D121 , 1) ) "*" ( Col (D118 , R2) ) ) by MATRIX15:25
.= ( D122 * (R1 , R2) ) by L829 , L825 , L838 , L841 , MATRIX_3:def 4;
end;
L852: ( len D123 ) = 1 by MATRIX_1:23;
thus L853: thesis by L852 , L831 , L833 , L827 , L834 , MATRIX_1:21;
end;
begin
definition
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R12 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
let R19 being (FinSequence of R12);
let C109 being (Matrix of ( len R15 ) , ( len R19 ) , R8);
func Mx2Tran (C109 , R15 , R19) -> (Function of R11 , R12) means 
:L854: (for B76 being (Vector of R11) holds ( it . B76 ) = ( Sum ( lmlt (( Line (( ( LineVec2Mx ( B76 |-- R15 ) ) * C109 ) , 1) ) , R19) ) ));
existence
proof
deffunc H6((Element of R11)) = ( Sum ( lmlt (( Line (( ( LineVec2Mx ( $1 |-- R15 ) ) * C109 ) , 1) ) , R19) ) );
consider C110 being (Function of R11 , R12) such that L855: (for B77 being (Element of R11) holds ( C110 . B77 ) = H6(B77)) from FUNCT_2:sch 4;
take C110;
thus L856: thesis by L855;
end;
uniqueness
proof
let C111 , C112 being (Function of R11 , R12);
assume that
L857: (for B78 being (Vector of R11) holds ( C111 . B78 ) = ( Sum ( lmlt (( Line (( ( LineVec2Mx ( B78 |-- R15 ) ) * C109 ) , 1) ) , R19) ) ))
and
L858: (for B79 being (Vector of R11) holds ( C112 . B79 ) = ( Sum ( lmlt (( Line (( ( LineVec2Mx ( B79 |-- R15 ) ) * C109 ) , 1) ) , R19) ) ));
L859:
now
let R6 being set;
assume L860: R6 in (the carrier of R11);
reconsider D124 = R6 as (Vector of R11) by L860;
thus L861: ( C111 . R6 ) = ( Sum ( lmlt (( Line (( ( LineVec2Mx ( D124 |-- R15 ) ) * C109 ) , 1) ) , R19) ) ) by L857
.= ( C112 . R6 ) by L858;
end;
thus L862: thesis by L859 , FUNCT_2:12;
end;
end;
theorem
L864: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R12 being  finite-dimensional (VectSp of R8) holds (for R15 being (OrdBasis of R11) holds (for R18 being (OrdBasis of R12) holds (for R21 being (Element of R11) holds (for B80 being (Matrix of ( len R15 ) , ( len R18 ) , R8) holds (( len R15 ) > ( 0 ) implies ( LineVec2Mx ( ( ( Mx2Tran (B80 , R15 , R18) ) . R21 ) |-- R18 ) ) = ( ( LineVec2Mx ( R21 |-- R15 ) ) * B80 )))))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R12 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
let R18 being (OrdBasis of R12);
let R21 being (Element of R11);
set D125 = ( LineVec2Mx ( R21 |-- R15 ) );
L865: (( width D125 ) = ( len ( R21 |-- R15 ) ) & ( len ( R21 |-- R15 ) ) = ( len R15 )) by MATRIX_1:23 , MATRLIN:def 7;
let C113 being (Matrix of ( len R15 ) , ( len R18 ) , R8);
assume that
L866: ( len R15 ) > ( 0 );
L867: ( len C113 ) = ( len R15 ) by L866 , MATRIX_1:23;
set D126 = ( D125 * C113 );
L868: ( width C113 ) = ( len R18 ) by L866 , MATRIX_1:23;
L869: ( width D126 ) = ( len R18 ) by L868 , L865 , L867 , MATRIX_3:def 4;
L870: ( len ( Line (D126 , 1) ) ) = ( len R18 ) by L869 , CARD_1:def 7;
L871: ( ( Sum ( lmlt (( Line (D126 , 1) ) , R18) ) ) |-- R18 ) = ( Line (D126 , 1) ) by L870 , MATRLIN:36;
L872: ( len D125 ) = 1 by MATRIX_1:23;
L873: ( len D126 ) = 1 by L872 , L865 , L867 , MATRIX_3:def 4;
thus L874: D126 = ( LineVec2Mx ( ( Sum ( lmlt (( Line (D126 , 1) ) , R18) ) ) |-- R18 ) ) by L873 , L871 , MATRIX15:25
.= ( LineVec2Mx ( ( ( Mx2Tran (C113 , R15 , R18) ) . R21 ) |-- R18 ) ) by L854;
end;
theorem
L875: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R12 being  finite-dimensional (VectSp of R8) holds (for R15 being (OrdBasis of R11) holds (for R19 being (FinSequence of R12) holds (for R21 being (Element of R11) holds (for B81 being (Matrix of ( len R15 ) , ( len R19 ) , R8) holds (( len R15 ) = ( 0 ) implies ( ( Mx2Tran (B81 , R15 , R19) ) . R21 ) = ( 0. R12 )))))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R12 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
let R19 being (FinSequence of R12);
let R21 being (Element of R11);
let C114 being (Matrix of ( len R15 ) , ( len R19 ) , R8);
assume that
L876: ( len R15 ) = ( 0 );
set D127 = ( LineVec2Mx ( R21 |-- R15 ) );
set D128 = ( D127 * C114 );
set D129 = ( Line (D128 , 1) );
L877: (( width D127 ) = ( len ( R21 |-- R15 ) ) & ( len ( R21 |-- R15 ) ) = ( len R15 )) by MATRIX_1:23 , MATRLIN:def 7;
L878: ( len C114 ) = ( len R15 ) by MATRIX_1:def 2;
L879: ( width C114 ) = ( 0 ) by L878 , L876 , MATRIX_1:def 3;
L880: ( width D128 ) = ( 0 ) by L879 , L877 , L878 , MATRIX_3:def 4;
L881: ( dom D129 ) = ( {} ) by L880;
L882: ( dom ( lmlt (D129 , R19) ) ) = ( ( dom D129 ) /\ ( dom R19 ) ) by L191;
L883: ( lmlt (D129 , R19) ) = ( <*> (the carrier of R12) ) by L882 , L881;
L884: ( Sum ( lmlt (D129 , R19) ) ) = ( 0. R12 ) by L883 , RLVECT_1:43;
thus L885: thesis by L884 , L854;
end;
L886: (for R8 being Field holds (for B82 , B83 being (Matrix of R8) holds (( width B82 ) = ( width B83 ) implies (for R1 being Nat holds ((1 <= R1 & R1 <= ( len B82 )) implies ( Line (( B82 + B83 ) , R1) ) = ( ( Line (B82 , R1) ) + ( Line (B83 , R1) ) ))))))
proof
let R8 being Field;
let C115 , C116 being (Matrix of R8);
assume that
L887: ( width C115 ) = ( width C116 );
let R1 being Nat;
assume L888: (1 <= R1 & R1 <= ( len C115 ));
L889: R1 in ( dom C115 ) by L888 , FINSEQ_3:25;
reconsider D130 = ( Line (C116 , R1) ) as (Element of ( ( width C115 ) -tuples_on (the carrier of R8) )) by L887;
per cases ;
suppose L890: ( width C115 ) > ( 0 );

L891: ( width C115 ) in ( Seg ( width C115 ) ) by L890 , FINSEQ_1:3;
L892: [ R1 , ( width C115 ) ] in ( Indices C115 ) by L891 , L889 , ZFMISC_1:87;
thus L893: thesis by L892 , L887 , MATRIX_4:59;
end;
suppose L894: ( width C115 ) = ( 0 );

L895: ( len ( ( Line (C115 , R1) ) + D130 ) ) = ( 0 ) by L894;
L896: ( ( Line (C115 , R1) ) + ( Line (C116 , R1) ) ) = ( {} ) by L895;
L897: ( width ( C115 + C116 ) ) = ( 0 ) by L894 , MATRIX_3:def 3;
thus L898: thesis by L897 , L896;
end;
end;
registration
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R12 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
let R19 being (FinSequence of R12);
let C117 being (Matrix of ( len R15 ) , ( len R19 ) , R8);
cluster ( Mx2Tran (C117 , R15 , R19) ) ->  homogeneous  additive;
coherence
proof
set D131 = ( Mx2Tran (C117 , R15 , R19) );
per cases ;
suppose L900: ( len R15 ) = ( 0 );

L901:
now
let C118 being (Scalar of R8);
let C119 being (Vector of R11);
thus L902: ( D131 . ( C118 * C119 ) ) = ( 0. R12 ) by L900 , L875
.= ( C118 * ( 0. R12 ) ) by VECTSP_1:14
.= ( C118 * ( D131 . C119 ) ) by L900 , L875;
end;
L903:
now
let C120 , C121 being (Vector of R11);
thus L904: ( D131 . ( C120 + C121 ) ) = ( 0. R12 ) by L900 , L875
.= ( ( 0. R12 ) + ( 0. R12 ) ) by RLVECT_1:def 4
.= ( ( D131 . C120 ) + ( 0. R12 ) ) by L900 , L875
.= ( ( D131 . C120 ) + ( D131 . C121 ) ) by L900 , L875;
end;
L905: D131 is  additive  homogeneous by L903 , L901 , VECTSP_1:def 20 , MOD_2:def 2;
thus L906: thesis by L905;
end;
suppose L907: ( len R15 ) > ( 0 );

L908:
now
let C122 , C123 being (Vector of R11);
set D132 = ( C122 |-- R15 );
set D133 = ( C123 |-- R15 );
set D134 = ( ( C122 + C123 ) |-- R15 );
set D135 = ( LineVec2Mx D134 );
set D136 = ( LineVec2Mx D132 );
set D137 = ( LineVec2Mx D133 );
set D138 = ( Line (( D135 * C117 ) , 1) );
set D139 = ( Line (( D136 * C117 ) , 1) );
set D140 = ( Line (( D137 * C117 ) , 1) );
L909: ( len D137 ) = 1 by MATRIX_1:23;
L910: ( len R15 ) = ( len D132 ) by MATRLIN:def 7;
L911: ( len C117 ) = ( len R15 ) by L907 , MATRIX_1:23;
L912: ( width D136 ) = ( len D132 ) by MATRIX_1:23;
L913: ( width ( D136 * C117 ) ) = ( width C117 ) by L912 , L911 , L910 , MATRIX_3:def 4;
L914: ( len D139 ) = ( width C117 ) by L913 , CARD_1:def 7;
L915: ( len D136 ) = 1 by MATRIX_1:23;
L916: ( len ( D136 * C117 ) ) = 1 by L915 , L912 , L911 , L910 , MATRIX_3:def 4;
L917: ( len R15 ) = ( len D133 ) by MATRLIN:def 7;
L918: (( width D135 ) = ( len D134 ) & ( len R15 ) = ( len D134 )) by MATRIX_1:23 , MATRLIN:def 7;
L919: ( width ( D135 * C117 ) ) = ( width C117 ) by L918 , L911 , MATRIX_3:def 4;
L920: ( len D138 ) = ( width C117 ) by L919 , CARD_1:def 7;
L921: ( dom ( lmlt (D138 , R19) ) ) = ( ( dom D138 ) /\ ( dom R19 ) ) by L191
.= ( ( dom D139 ) /\ ( dom R19 ) ) by L920 , L914 , FINSEQ_3:29
.= ( dom ( lmlt (D139 , R19) ) ) by L191;
L922: ( width D137 ) = ( len D133 ) by MATRIX_1:23;
L923: ( width ( D137 * C117 ) ) = ( width C117 ) by L922 , L911 , L917 , MATRIX_3:def 4;
L924: ( len D140 ) = ( width C117 ) by L923 , CARD_1:def 7;
L925: ( dom ( lmlt (D138 , R19) ) ) = ( ( dom D138 ) /\ ( dom R19 ) ) by L191
.= ( ( dom D140 ) /\ ( dom R19 ) ) by L920 , L924 , FINSEQ_3:29
.= ( dom ( lmlt (D140 , R19) ) ) by L191;
L926: ( len ( lmlt (D138 , R19) ) ) = ( len ( lmlt (D140 , R19) ) ) by L925 , FINSEQ_3:29;
L927: D135 = ( LineVec2Mx ( D132 + D133 ) ) by L406
.= ( D136 + D137 ) by L910 , L917 , MATRIX15:27;
L928: ( D135 * C117 ) = ( ( D136 * C117 ) + ( D137 * C117 ) ) by L927 , L907 , L915 , L912 , L909 , L922 , L911 , L910 , L917 , MATRIX_4:63;
L929: D138 = ( D139 + D140 ) by L928 , L916 , L913 , L923 , L886;
L930: ( lmlt (D138 , R19) ) = ( ( lmlt (D139 , R19) ) + ( lmlt (D140 , R19) ) ) by L929 , L206;
L931:
now
let C124 being (Element of ( NAT ));
assume that
L932: C124 in ( dom ( lmlt (D139 , R19) ) );
L933: (( ( lmlt (D139 , R19) ) /. C124 ) = ( ( lmlt (D139 , R19) ) . C124 ) & ( ( lmlt (D140 , R19) ) /. C124 ) = ( ( lmlt (D140 , R19) ) . C124 )) by L921 , L925 , L932 , PARTFUN1:def 6;
thus L934: ( ( lmlt (D138 , R19) ) . C124 ) = ( ( ( lmlt (D139 , R19) ) /. C124 ) + ( ( lmlt (D140 , R19) ) /. C124 ) ) by L933 , L930 , L921 , L932 , FVSUM_1:17;
end;
L935: ( len ( lmlt (D138 , R19) ) ) = ( len ( lmlt (D139 , R19) ) ) by L921 , FINSEQ_3:29;
L936: ( Sum ( lmlt (D138 , R19) ) ) = ( ( Sum ( lmlt (D139 , R19) ) ) + ( Sum ( lmlt (D140 , R19) ) ) ) by L935 , L926 , L931 , RLVECT_2:2;
thus L937: ( D131 . ( C122 + C123 ) ) = ( ( Sum ( lmlt (D139 , R19) ) ) + ( Sum ( lmlt (D140 , R19) ) ) ) by L936 , L854
.= ( ( D131 . C122 ) + ( Sum ( lmlt (D140 , R19) ) ) ) by L854
.= ( ( D131 . C122 ) + ( D131 . C123 ) ) by L854;
end;
L938:
now
let C125 being (Scalar of R8);
let C126 being (Vector of R11);
set D141 = ( C126 |-- R15 );
set D142 = ( ( C125 * C126 ) |-- R15 );
set D143 = ( LineVec2Mx D142 );
set D144 = ( LineVec2Mx D141 );
set D145 = ( Line (( D143 * C117 ) , 1) );
set D146 = ( Line (( D144 * C117 ) , 1) );
L939: ( len C117 ) = ( len R15 ) by L907 , MATRIX_1:23;
L940: (( width D143 ) = ( len D142 ) & ( len R15 ) = ( len D142 )) by MATRIX_1:23 , MATRLIN:def 7;
L941: ( width ( D143 * C117 ) ) = ( width C117 ) by L940 , L939 , MATRIX_3:def 4;
L942: ( len D145 ) = ( width C117 ) by L941 , CARD_1:def 7;
L943: (( width D144 ) = ( len D141 ) & ( len R15 ) = ( len D141 )) by MATRIX_1:23 , MATRLIN:def 7;
L944: ( width ( D144 * C117 ) ) = ( width C117 ) by L943 , L939 , MATRIX_3:def 4;
L945: ( len D146 ) = ( width C117 ) by L944 , CARD_1:def 7;
L946: ( dom D145 ) = ( dom D146 ) by L945 , L942 , FINSEQ_3:29;
L947: D143 = ( LineVec2Mx ( C125 * D141 ) ) by L430
.= ( C125 * D144 ) by MATRIX15:29;
L948: ( D143 * C117 ) = ( C125 * ( D144 * C117 ) ) by L947 , L939 , L943 , MATRIX15:1;
L949: ( dom ( lmlt (D145 , R19) ) ) = ( ( dom D145 ) /\ ( dom R19 ) ) by L191;
L950: ( ( dom D146 ) /\ ( dom R19 ) ) = ( dom ( lmlt (D146 , R19) ) ) by L191;
L951: ( len D144 ) = 1 by MATRIX_1:23;
L952: ( len ( D144 * C117 ) ) = 1 by L951 , L939 , L943 , MATRIX_3:def 4;
L953: D145 = ( C125 * D146 ) by L952 , L948 , MATRIXR1:20;
L954:
now
let C127 being (Element of ( NAT ));
assume that
L955: C127 in ( dom ( lmlt (D146 , R19) ) );
L956: ( ( lmlt (D146 , R19) ) . C127 ) = ( ( lmlt (D146 , R19) ) /. C127 ) by L955 , PARTFUN1:def 6;
L957: C127 in ( dom D146 ) by L950 , L955 , XBOOLE_0:def 4;
L958: ( D146 . C127 ) = ( D146 /. C127 ) by L957 , PARTFUN1:def 6;
L959: C127 in ( dom R19 ) by L950 , L955 , XBOOLE_0:def 4;
L960: ( R19 . C127 ) = ( R19 /. C127 ) by L959 , PARTFUN1:def 6;
L961: C127 in ( dom D145 ) by L946 , L950 , L955 , XBOOLE_0:def 4;
L962: ( D145 . C127 ) = ( D145 /. C127 ) by L961 , PARTFUN1:def 6;
thus L963: ( ( lmlt (D145 , R19) ) . C127 ) = ( (the lmult of R12) . (( D145 /. C127 ) , ( R19 /. C127 )) ) by L962 , L949 , L946 , L950 , L955 , L960 , FUNCOP_1:22
.= ( ( C125 * ( D146 /. C127 ) ) * ( R19 /. C127 ) ) by L953 , L961 , L958 , L962 , FVSUM_1:50
.= ( C125 * ( ( D146 /. C127 ) * ( R19 /. C127 ) ) ) by VECTSP_1:def 16
.= ( C125 * ( ( lmlt (D146 , R19) ) /. C127 ) ) by L955 , L958 , L960 , L956 , FUNCOP_1:22;
end;
L964: ( len ( lmlt (D145 , R19) ) ) = ( len ( lmlt (D146 , R19) ) ) by L949 , L946 , L950 , FINSEQ_3:29;
L965: ( Sum ( lmlt (D145 , R19) ) ) = ( C125 * ( Sum ( lmlt (D146 , R19) ) ) ) by L964 , L954 , RLVECT_2:67;
thus L966: ( D131 . ( C125 * C126 ) ) = ( C125 * ( Sum ( lmlt (D146 , R19) ) ) ) by L965 , L854
.= ( C125 * ( D131 . C126 ) ) by L854;
end;
L967: D131 is  additive  homogeneous by L938 , L908 , VECTSP_1:def 20 , MOD_2:def 2;
thus L968: thesis by L967;
end;
end;
end;
theorem
L971: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R12 being  finite-dimensional (VectSp of R8) holds (for R14 being (Function of R11 , R12) holds (for R15 being (OrdBasis of R11) holds (for R18 being (OrdBasis of R12) holds (R14 is  additive  homogeneous implies ( Mx2Tran (( AutMt (R14 , R15 , R18) ) , R15 , R18) ) = R14)))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R12 being  finite-dimensional (VectSp of R8);
let R14 being (Function of R11 , R12);
let R15 being (OrdBasis of R11);
let R18 being (OrdBasis of R12);
assume L972: R14 is  additive  homogeneous;
set D147 = ( AutMt (R14 , R15 , R18) );
set D148 = ( Mx2Tran (D147 , R15 , R18) );
per cases ;
suppose L973: ( len R15 ) = ( 0 );

L974:
now
L975: R15 is  one-to-one by MATRLIN:def 2;
reconsider D149 = ( rng R15 ) as (Basis of R11) by MATRLIN:def 2;
let R6 being set;
assume that
L976: R6 in (the carrier of R11);
L977: ( Seg ( len R15 ) ) = ( {} ) by L973;
L978: ( dim R11 ) = ( card D149 ) by VECTSP_9:def 1
.= ( card ( dom R15 ) ) by L975 , CARD_1:70
.= ( 0 ) by L977 , CARD_1:27 , FINSEQ_1:def 3;
L979: ( (Omega). R11 ) = ( (0). R11 ) by L978 , VECTSP_9:29;
L980: (the carrier of R11) = { ( 0. R11 ) } by L979 , VECTSP_4:def 3;
L981: R6 = ( 0. R11 ) by L980 , L976 , TARSKI:def 1;
thus L982: ( R14 . R6 ) = ( R14 . ( ( 0. R8 ) * ( 0. R11 ) ) ) by L981 , VECTSP_1:15
.= ( ( 0. R8 ) * ( R14 . ( 0. R11 ) ) ) by L972 , MOD_2:def 2
.= ( 0. R12 ) by VECTSP_1:15
.= ( D148 . R6 ) by L973 , L976 , L875;
end;
thus L983: thesis by L974 , FUNCT_2:12;
end;
suppose L984: ( len R15 ) > ( 0 );

reconsider D150 = ( R14 * R15 ) , D151 = ( D148 * R15 ) as FinSequence;
L985: ( rng R15 ) is (Subset of R11) by FINSEQ_1:def 4;
L986: ( dom R14 ) = (the carrier of R11) by FUNCT_2:def 1;
L987: ( len D150 ) = ( len R15 ) by L986 , L985 , FINSEQ_2:29;
L988: ( dom D148 ) = (the carrier of R11) by FUNCT_2:def 1;
L989: ( len D151 ) = ( len R15 ) by L988 , L985 , FINSEQ_2:29;
L990:
now
L991: ( dom D150 ) = ( dom D151 ) by L987 , L989 , FINSEQ_3:29;
let R1 being Nat;
assume L992: (1 <= R1 & R1 <= ( len D150 ));
L993: R1 in ( dom D150 ) by L992 , FINSEQ_3:25;
L994: ( dom D150 ) = ( dom R15 ) by L987 , FINSEQ_3:29;
L995: ( R15 . R1 ) = ( R15 /. R1 ) by L994 , L993 , PARTFUN1:def 6;
L996: ( LineVec2Mx ( ( D148 . ( R15 /. R1 ) ) |-- R18 ) ) = ( ( LineVec2Mx ( ( R15 /. R1 ) |-- R15 ) ) * D147 ) by L984 , L864
.= ( LineVec2Mx ( ( R14 . ( R15 /. R1 ) ) |-- R18 ) ) by L972 , L984 , L822;
L997: ( ( D148 . ( R15 /. R1 ) ) |-- R18 ) = ( Line (( LineVec2Mx ( ( R14 . ( R15 /. R1 ) ) |-- R18 ) ) , 1) ) by L996 , MATRIX15:25
.= ( ( R14 . ( R15 /. R1 ) ) |-- R18 ) by MATRIX15:25;
L998: ( D148 . ( R15 /. R1 ) ) = ( R14 . ( R15 /. R1 ) ) by L997 , MATRLIN:34;
thus L999: ( D150 . R1 ) = ( D148 . ( R15 /. R1 ) ) by L998 , L993 , L995 , FUNCT_1:12
.= ( D151 . R1 ) by L993 , L991 , L995 , FUNCT_1:12;
end;
thus L1000: thesis by L990 , L972 , L984 , L987 , L989 , FINSEQ_1:14 , MATRLIN:22;
end;
end;
theorem
L1002: (for R1 being Nat holds (for R8 being Field holds (for B84 , B85 being (Matrix of R8) holds ((R1 in ( dom B84 ) & ( width B84 ) = ( len B85 )) implies ( ( LineVec2Mx ( Line (B84 , R1) ) ) * B85 ) = ( LineVec2Mx ( Line (( B84 * B85 ) , R1) ) )))))
proof
let R1 being Nat;
let R8 being Field;
let C128 , C129 being (Matrix of R8);
assume that
L1003: R1 in ( dom C128 )
and
L1004: ( width C128 ) = ( len C129 );
L1005: ( width ( C128 * C129 ) ) = ( width C129 ) by L1004 , MATRIX_3:def 4;
set D152 = ( LineVec2Mx ( Line (( C128 * C129 ) , R1) ) );
L1006: (( width D152 ) = ( len ( Line (( C128 * C129 ) , R1) ) ) & ( len ( Line (( C128 * C129 ) , R1) ) ) = ( width ( C128 * C129 ) )) by CARD_1:def 7 , MATRIX_1:23;
set D153 = ( LineVec2Mx ( Line (C128 , R1) ) );
L1007: (( width D153 ) = ( len ( Line (C128 , R1) ) ) & ( len ( Line (C128 , R1) ) ) = ( width C128 )) by CARD_1:def 7 , MATRIX_1:23;
L1008: ( width ( D153 * C129 ) ) = ( width C129 ) by L1007 , L1004 , MATRIX_3:def 4;
L1009: ( len D153 ) = 1 by CARD_1:def 7;
L1010: ( len ( D153 * C129 ) ) = 1 by L1009 , L1004 , L1007 , MATRIX_3:def 4;
L1011: ( len ( C128 * C129 ) ) = ( len C128 ) by L1004 , MATRIX_3:def 4;
L1012: ( dom C128 ) = ( dom ( C128 * C129 ) ) by L1011 , FINSEQ_3:29;
L1013:
now
let R2 being Nat;
let R5 being Nat;
assume that
L1014: [ R2 , R5 ] in ( Indices ( D153 * C129 ) );
L1015: R5 in ( Seg ( width ( C128 * C129 ) ) ) by L1005 , L1008 , L1014 , ZFMISC_1:87;
L1016: [ R1 , R5 ] in ( Indices ( C128 * C129 ) ) by L1015 , L1003 , L1012 , ZFMISC_1:87;
L1017: ( Indices ( D153 * C129 ) ) = [: ( Seg 1 ) , ( Seg ( width C129 ) ) :] by L1010 , L1008 , FINSEQ_1:def 3;
L1018: R2 in ( Seg 1 ) by L1017 , L1014 , ZFMISC_1:87;
L1019: R2 = 1 by L1018 , FINSEQ_1:2 , TARSKI:def 1;
thus L1020: ( ( D153 * C129 ) * (R2 , R5) ) = ( ( Line (D153 , 1) ) "*" ( Col (C129 , R5) ) ) by L1019 , L1004 , L1007 , L1014 , MATRIX_3:def 4
.= ( ( Line (C128 , R1) ) "*" ( Col (C129 , R5) ) ) by MATRIX15:25
.= ( ( C128 * C129 ) * (R1 , R5) ) by L1004 , L1016 , MATRIX_3:def 4
.= ( ( Line (( C128 * C129 ) , R1) ) . R5 ) by L1015 , MATRIX_1:def 7
.= ( ( Line (D152 , R2) ) . R5 ) by L1019 , MATRIX15:25
.= ( D152 * (R2 , R5) ) by L1006 , L1015 , MATRIX_1:def 7;
end;
L1021: ( len D152 ) = 1 by CARD_1:def 7;
thus L1022: thesis by L1021 , L1006 , L1005 , L1010 , L1008 , L1013 , MATRIX_1:21;
end;
theorem
L1023: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R12 being  finite-dimensional (VectSp of R8) holds (for R15 being (OrdBasis of R11) holds (for R18 being (OrdBasis of R12) holds (for B86 being (Matrix of ( len R15 ) , ( len R18 ) , R8) holds ( AutMt (( Mx2Tran (B86 , R15 , R18) ) , R15 , R18) ) = B86))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R12 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
let R18 being (OrdBasis of R12);
let C130 being (Matrix of ( len R15 ) , ( len R18 ) , R8);
set D154 = ( Mx2Tran (C130 , R15 , R18) );
set D155 = ( AutMt (D154 , R15 , R18) );
set D156 = ( 1. (R8 , ( len R15 )) );
L1024: ( len C130 ) = ( len R15 ) by MATRIX_1:25;
L1025: ( len D155 ) = ( len R15 ) by MATRIX_1:25;
L1026: ( len D156 ) = ( len R15 ) by MATRIX_1:24;
L1027:
now
let R1 being Nat;
assume that
L1028: (1 <= R1 & R1 <= ( len C130 ));
L1029: R1 in ( Seg ( len R15 ) ) by L1024 , L1028 , FINSEQ_1:1;
L1030: R1 in ( dom D156 ) by L1024 , L1026 , L1028 , FINSEQ_3:25;
reconsider D157 = ( D155 /. R1 ) as (FinSequence of R8) by FINSEQ_1:def 11;
L1031: R1 in ( dom R15 ) by L1024 , L1028 , FINSEQ_3:25;
L1032: ( D155 /. R1 ) = ( ( D154 . ( R15 /. R1 ) ) |-- R18 ) by L1031 , MATRLIN:def 8;
L1033: ( LineVec2Mx (D157 qua (FinSequence of R8)) ) = ( ( LineVec2Mx ( ( R15 /. R1 ) |-- R15 ) ) * C130 ) by L1032 , L1024 , L1028 , L864
.= ( ( LineVec2Mx ( Line (D156 , R1) ) ) * C130 ) by L1031 , L460
.= ( LineVec2Mx ( Line (( D156 * C130 ) , R1) ) ) by L1024 , L1030 , L1002 , MATRIX_1:24
.= ( LineVec2Mx ( Line (C130 , R1) ) ) by L1024 , MATRIXR2:68;
L1034: D157 = ( Line (( LineVec2Mx ( Line (C130 , R1) ) ) , 1) ) by L1033 , MATRIX15:25
.= ( Line (C130 , R1) ) by MATRIX15:25
.= ( C130 . R1 ) by L1029 , MATRIX_2:8;
L1035: R1 in ( dom D155 ) by L1024 , L1025 , L1028 , FINSEQ_3:25;
thus L1036: ( C130 . R1 ) = ( D155 . R1 ) by L1035 , L1034 , PARTFUN1:def 6;
end;
thus L1037: thesis by L1027 , L1025 , FINSEQ_1:14 , MATRIX_1:25;
end;
definition
let R4 being Nat;
let R3 being Nat;
let R8 being Field;
let C131 being (Matrix of R4 , R3 , R8);
let C132 being (Matrix of R8);
redefine func C131 + C132 -> (Matrix of R4 , R3 , R8);

coherence
proof
L1038: (( width ( C131 + C132 ) ) = ( width C131 ) & ( len C131 ) = R4) by MATRIX_1:def 2 , MATRIX_3:def 3;
L1039: ( len ( C131 + C132 ) ) = ( len C131 ) by MATRIX_3:def 3;
per cases ;
suppose L1040: R4 = ( 0 );

L1041: ( C131 + C132 ) = ( {} ) by L1040 , L1039 , MATRIX_1:def 2;
thus L1042: thesis by L1041 , L1040 , MATRIX_1:13;
end;
suppose L1043: R4 > ( 0 );

L1044: ( width C131 ) = R3 by L1043 , MATRIX_1:23;
thus L1045: thesis by L1044 , L1039 , L1038 , MATRIX_2:7;
end;
end;
end;
theorem
L1048: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R12 being  finite-dimensional (VectSp of R8) holds (for R15 being (OrdBasis of R11) holds (for R19 being (FinSequence of R12) holds (for B87 , B88 being (Matrix of ( len R15 ) , ( len R19 ) , R8) holds ( Mx2Tran (( B87 + B88 ) , R15 , R19) ) = ( ( Mx2Tran (B87 , R15 , R19) ) + ( Mx2Tran (B88 , R15 , R19) ) )))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R12 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
let R19 being (FinSequence of R12);
let C133 , C134 being (Matrix of ( len R15 ) , ( len R19 ) , R8);
set D158 = ( C133 + C134 );
set D159 = ( Mx2Tran (( C133 + C134 ) , R15 , R19) );
set D160 = ( Mx2Tran (C133 , R15 , R19) );
set D161 = ( Mx2Tran (C134 , R15 , R19) );
L1049:
now
let R6 being set;
assume that
L1050: R6 in (the carrier of R11);
reconsider D162 = R6 as (Element of R11) by L1050;
L1051:
now
per cases ;
suppose L1052: ( len R15 ) = ( 0 );

thus L1053: ( D159 . R6 ) = ( 0. R12 ) by L1052 , L1050 , L875
.= ( ( 0. R12 ) + ( 0. R12 ) ) by RLVECT_1:def 4
.= ( ( D160 . D162 ) + ( 0. R12 ) ) by L1052 , L875
.= ( ( D160 . D162 ) + ( D161 . D162 ) ) by L1052 , L875
.= ( ( D160 + D161 ) . R6 ) by MATRLIN:def 3;
end;
suppose L1054: ( len R15 ) > ( 0 );

set D163 = ( LineVec2Mx ( D162 |-- R15 ) );
L1055: (( width D163 ) = ( len ( D162 |-- R15 ) ) & ( len ( D162 |-- R15 ) ) = ( len R15 )) by MATRIX_1:23 , MATRLIN:def 7;
set D164 = ( lmlt (( Line (( D163 * C134 ) , 1) ) , R19) );
L1056: (( len C134 ) = ( len R15 ) & ( width C134 ) = ( len R19 )) by L1054 , MATRIX_1:23;
L1057: ( width ( D163 * C134 ) ) = ( len R19 ) by L1056 , L1055 , MATRIX_3:def 4;
L1058: ( len ( Line (( D163 * C134 ) , 1) ) ) = ( len R19 ) by L1057 , CARD_1:def 7;
L1059: ( dom ( Line (( D163 * C134 ) , 1) ) ) = ( dom R19 ) by L1058 , FINSEQ_3:29;
L1060: ( dom D164 ) = ( dom R19 ) by L1059 , MATRLIN:12;
L1061: ( len D164 ) = ( len R19 ) by L1060 , FINSEQ_3:29;
L1062: ( len C133 ) = ( len R15 ) by L1054 , MATRIX_1:23;
L1063: ( len D163 ) = 1 by MATRIX_1:23;
L1064: ( len ( D163 * C133 ) ) = 1 by L1063 , L1062 , L1055 , MATRIX_3:def 4;
set D165 = ( lmlt (( Line (( D163 * C133 ) , 1) ) , R19) );
L1065: ( width C133 ) = ( len R19 ) by L1054 , MATRIX_1:23;
L1066: ( width ( D163 * C133 ) ) = ( len R19 ) by L1065 , L1062 , L1055 , MATRIX_3:def 4;
L1067: ( len ( Line (( D163 * C133 ) , 1) ) ) = ( len R19 ) by L1066 , CARD_1:def 7;
L1068: ( dom ( Line (( D163 * C133 ) , 1) ) ) = ( dom R19 ) by L1067 , FINSEQ_3:29;
L1069: ( dom D165 ) = ( dom R19 ) by L1068 , MATRLIN:12;
L1070: ( len D165 ) = ( len R19 ) by L1069 , FINSEQ_3:29;
L1071: ( dom ( D165 + D164 ) ) = ( ( dom R19 ) /\ ( dom R19 ) ) by L1069 , L1060 , L201
.= ( dom R19 );
L1072: ( len ( D165 + D164 ) ) = ( len R19 ) by L1071 , FINSEQ_3:29;
L1073:
now
let C135 being (Element of ( NAT ));
assume that
L1074: C135 in ( dom D165 );
L1075: (( D165 /. C135 ) = ( D165 . C135 ) & ( D164 /. C135 ) = ( D164 . C135 )) by L1069 , L1060 , L1074 , PARTFUN1:def 6;
thus L1076: ( ( D165 + D164 ) . C135 ) = ( ( D165 /. C135 ) + ( D164 /. C135 ) ) by L1075 , L1069 , L1071 , L1074 , FVSUM_1:17;
end;
thus L1077: ( D159 . R6 ) = ( Sum ( lmlt (( Line (( D163 * D158 ) , 1) ) , R19) ) ) by L854
.= ( Sum ( lmlt (( Line (( ( D163 * C133 ) + ( D163 * C134 ) ) , 1) ) , R19) ) ) by L1054 , L1063 , L1062 , L1065 , L1056 , L1055 , MATRIX_4:62
.= ( Sum ( lmlt (( ( Line (( D163 * C133 ) , 1) ) + ( Line (( D163 * C134 ) , 1) ) ) , R19) ) ) by L1064 , L1066 , L1057 , L886
.= ( Sum ( D165 + D164 ) ) by L206
.= ( ( Sum D165 ) + ( Sum D164 ) ) by L1070 , L1061 , L1072 , L1073 , RLVECT_2:2
.= ( ( D160 . D162 ) + ( Sum D164 ) ) by L854
.= ( ( D160 . D162 ) + ( D161 . D162 ) ) by L854
.= ( ( D160 + D161 ) . R6 ) by MATRLIN:def 3;
end;
end;
thus L1079: ( D159 . R6 ) = ( ( D160 + D161 ) . R6 ) by L1051;
end;
thus L1080: thesis by L1049 , FUNCT_2:12;
end;
theorem
L1081: (for R8 being Field holds (for R9 being (Element of R8) holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R12 being  finite-dimensional (VectSp of R8) holds (for R15 being (OrdBasis of R11) holds (for R19 being (FinSequence of R12) holds (for B89 being (Matrix of ( len R15 ) , ( len R19 ) , R8) holds ( R9 * ( Mx2Tran (B89 , R15 , R19) ) ) = ( Mx2Tran (( R9 * B89 ) , R15 , R19) ))))))))
proof
let R8 being Field;
let R9 being (Element of R8);
let R11 being  finite-dimensional (VectSp of R8);
let R12 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
let R19 being (FinSequence of R12);
let C136 being (Matrix of ( len R15 ) , ( len R19 ) , R8);
set D166 = ( R9 * C136 );
set D167 = ( Mx2Tran (D166 , R15 , R19) );
set D168 = ( Mx2Tran (C136 , R15 , R19) );
L1082:
now
let R6 being set;
assume L1083: R6 in (the carrier of R11);
reconsider D169 = R6 as (Element of R11) by L1083;
set D170 = ( LineVec2Mx ( D169 |-- R15 ) );
set D171 = ( lmlt (( R9 * ( Line (( D170 * C136 ) , 1) ) ) , R19) );
set D172 = ( lmlt (( Line (( D170 * C136 ) , 1) ) , R19) );
L1084: (( width D170 ) = ( len ( D169 |-- R15 ) ) & ( len ( D169 |-- R15 ) ) = ( len R15 )) by MATRIX_1:23 , MATRLIN:def 7;
L1085: ( len C136 ) = ( len R15 ) by MATRIX_1:def 2;
L1086: ( len D170 ) = 1 by MATRIX_1:23;
L1087: ( len ( D170 * C136 ) ) = 1 by L1086 , L1084 , L1085 , MATRIX_3:def 4;
L1088: ( dom D172 ) = ( ( dom ( Line (( D170 * C136 ) , 1) ) ) /\ ( dom R19 ) ) by L191;
L1089: ( len ( R9 * ( Line (( D170 * C136 ) , 1) ) ) ) = ( len ( Line (( D170 * C136 ) , 1) ) ) by MATRIXR1:16;
L1090: ( dom ( R9 * ( Line (( D170 * C136 ) , 1) ) ) ) = ( dom ( Line (( D170 * C136 ) , 1) ) ) by L1089 , FINSEQ_3:29;
L1091: ( dom D171 ) = ( ( dom ( R9 * ( Line (( D170 * C136 ) , 1) ) ) ) /\ ( dom R19 ) ) by L191;
L1092: ( len D172 ) = ( len D171 ) by L1091 , L1090 , L1088 , FINSEQ_3:29;
L1093:
now
let C137 being (Element of ( NAT ));
assume that
L1094: C137 in ( dom D172 );
L1095: ( D172 . C137 ) = ( D172 /. C137 ) by L1094 , PARTFUN1:def 6;
L1096: C137 in ( dom ( Line (( D170 * C136 ) , 1) ) ) by L1088 , L1094 , XBOOLE_0:def 4;
L1097: ( ( Line (( D170 * C136 ) , 1) ) . C137 ) = ( ( Line (( D170 * C136 ) , 1) ) /. C137 ) by L1096 , PARTFUN1:def 6;
L1098: C137 in ( dom R19 ) by L1088 , L1094 , XBOOLE_0:def 4;
L1099: ( R19 . C137 ) = ( R19 /. C137 ) by L1098 , PARTFUN1:def 6;
L1100: C137 in ( dom ( R9 * ( Line (( D170 * C136 ) , 1) ) ) ) by L1090 , L1088 , L1094 , XBOOLE_0:def 4;
L1101: ( ( R9 * ( Line (( D170 * C136 ) , 1) ) ) . C137 ) = ( R9 * ( ( Line (( D170 * C136 ) , 1) ) /. C137 ) ) by L1100 , L1097 , FVSUM_1:50;
thus L1102: ( D171 . C137 ) = ( ( R9 * ( ( Line (( D170 * C136 ) , 1) ) /. C137 ) ) * ( R19 /. C137 ) ) by L1101 , L1091 , L1090 , L1088 , L1094 , L1099 , FUNCOP_1:22
.= ( R9 * ( ( ( Line (( D170 * C136 ) , 1) ) /. C137 ) * ( R19 /. C137 ) ) ) by VECTSP_1:def 16
.= ( R9 * ( D172 /. C137 ) ) by L1094 , L1097 , L1099 , L1095 , FUNCOP_1:22;
end;
thus L1103: ( D167 . R6 ) = ( Sum ( lmlt (( Line (( D170 * D166 ) , 1) ) , R19) ) ) by L854
.= ( Sum ( lmlt (( Line (( R9 * ( D170 * C136 ) ) , 1) ) , R19) ) ) by L1084 , L1085 , MATRIXR1:22
.= ( Sum D171 ) by L1087 , MATRIXR1:20
.= ( R9 * ( Sum D172 ) ) by L1092 , L1093 , RLVECT_2:67
.= ( R9 * ( D168 . D169 ) ) by L854
.= ( ( R9 * D168 ) . R6 ) by MATRLIN:def 4;
end;
thus L1104: thesis by L1082 , FUNCT_2:12;
end;
theorem
L1105: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R12 being  finite-dimensional (VectSp of R8) holds (for R15 being (OrdBasis of R11) holds (for R18 being (OrdBasis of R12) holds (for B90 , B91 being (Matrix of ( len R15 ) , ( len R18 ) , R8) holds (( Mx2Tran (B90 , R15 , R18) ) = ( Mx2Tran (B91 , R15 , R18) ) implies B90 = B91)))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R12 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
let R18 being (OrdBasis of R12);
let C138 , C139 being (Matrix of ( len R15 ) , ( len R18 ) , R8);
assume L1106: ( Mx2Tran (C138 , R15 , R18) ) = ( Mx2Tran (C139 , R15 , R18) );
thus L1107: C138 = ( AutMt (( Mx2Tran (C139 , R15 , R18) ) , R15 , R18) ) by L1106 , L1023
.= C139 by L1023;
end;
theorem
L1108: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R12 being  finite-dimensional (VectSp of R8) holds (for R13 being  finite-dimensional (VectSp of R8) holds (for R15 being (OrdBasis of R11) holds (for R18 being (OrdBasis of R12) holds (for R20 being (FinSequence of R13) holds (for B92 being (Matrix of ( len R15 ) , ( len R18 ) , R8) holds (for B93 being (Matrix of ( len R18 ) , ( len R20 ) , R8) holds (( width B92 ) = ( len B93 ) implies (for B94 being (Matrix of ( len R15 ) , ( len R20 ) , R8) holds (B94 = ( B92 * B93 ) implies ( Mx2Tran (B94 , R15 , R20) ) = ( ( Mx2Tran (B93 , R18 , R20) ) * ( Mx2Tran (B92 , R15 , R18) ) )))))))))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R12 being  finite-dimensional (VectSp of R8);
let R13 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
let R18 being (OrdBasis of R12);
let R20 being (FinSequence of R13);
let C140 being (Matrix of ( len R15 ) , ( len R18 ) , R8);
let C141 being (Matrix of ( len R18 ) , ( len R20 ) , R8);
assume that
L1109: ( width C140 ) = ( len C141 );
set D173 = ( Mx2Tran (C141 , R18 , R20) );
set D174 = ( Mx2Tran (C140 , R15 , R18) );
let C142 being (Matrix of ( len R15 ) , ( len R20 ) , R8);
assume that
L1110: C142 = ( C140 * C141 );
set D175 = ( Mx2Tran (C142 , R15 , R20) );
L1111:
now
let R6 being set;
assume L1112: R6 in (the carrier of R11);
reconsider D176 = R6 as (Element of R11) by L1112;
set D177 = ( LineVec2Mx ( D176 |-- R15 ) );
L1113: ( len C140 ) = ( len R15 ) by MATRIX_1:def 2;
L1114: (( width D177 ) = ( len ( D176 |-- R15 ) ) & ( len ( D176 |-- R15 ) ) = ( len R15 )) by MATRIX_1:23 , MATRLIN:def 7;
L1115: (( len D177 ) = 1 & ( len ( D177 * C140 ) ) = ( len D177 )) by L1114 , L1113 , MATRIX_1:23 , MATRIX_3:def 4;
L1116: ( dom ( D177 * C140 ) ) = ( Seg 1 ) by L1115 , FINSEQ_1:def 3;
L1117: ( width ( D177 * C140 ) ) = ( width C140 ) by L1114 , L1113 , MATRIX_3:def 4;
L1118: (( len C141 ) = ( len R18 ) & ( len ( Line (( D177 * C140 ) , 1) ) ) = ( width C140 )) by L1117 , CARD_1:def 7 , MATRIX_1:def 2;
L1119: 1 in ( Seg 1 );
L1120: ( dom ( D173 * D174 ) ) = (the carrier of R11) by FUNCT_2:def 1;
thus L1121: ( ( D173 * D174 ) . R6 ) = ( D173 . ( D174 . D176 ) ) by L1120 , FUNCT_1:12
.= ( D173 . ( Sum ( lmlt (( Line (( D177 * C140 ) , 1) ) , R18) ) ) ) by L854
.= ( Sum ( lmlt (( Line (( ( LineVec2Mx ( ( Sum ( lmlt (( Line (( D177 * C140 ) , 1) ) , R18) ) ) |-- R18 ) ) * C141 ) , 1) ) , R20) ) ) by L854
.= ( Sum ( lmlt (( Line (( ( LineVec2Mx ( Line (( D177 * C140 ) , 1) ) ) * C141 ) , 1) ) , R20) ) ) by L1109 , L1118 , MATRLIN:36
.= ( Sum ( lmlt (( Line (( LineVec2Mx ( Line (( ( D177 * C140 ) * C141 ) , 1) ) ) , 1) ) , R20) ) ) by L1109 , L1117 , L1116 , L1119 , L1002
.= ( Sum ( lmlt (( Line (( LineVec2Mx ( Line (( D177 * C142 ) , 1) ) ) , 1) ) , R20) ) ) by L1109 , L1110 , L1114 , L1113 , MATRIX_3:33
.= ( Sum ( lmlt (( Line (( D177 * C142 ) , 1) ) , R20) ) ) by MATRIX15:25
.= ( D175 . R6 ) by L854;
end;
thus L1122: thesis by L1111 , FUNCT_2:12;
end;
theorem
L1123: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R12 being  finite-dimensional (VectSp of R8) holds (for R15 being (OrdBasis of R11) holds (for R18 being (OrdBasis of R12) holds (for R21 being (Element of R11) holds (for B95 being (Matrix of ( len R15 ) , ( len R18 ) , R8) holds ((( len R15 ) > ( 0 ) & ( len R18 ) > ( 0 )) implies (R21 in ( ker ( Mx2Tran (B95 , R15 , R18) ) ) iff ( R21 |-- R15 ) in ( Space_of_Solutions_of ( B95 @ ) ))))))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R12 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
let R18 being (OrdBasis of R12);
let R21 being (Element of R11);
let C143 being (Matrix of ( len R15 ) , ( len R18 ) , R8);
assume that
L1124: ( len R15 ) > ( 0 )
and
L1125: ( len R18 ) > ( 0 );
set D178 = ( C143 @ );
L1126: ( width C143 ) = ( len R18 ) by L1124 , MATRIX_1:23;
L1127: ( len D178 ) = ( len R18 ) by L1126 , L1125 , MATRIX_2:10;
set D179 = ( LineVec2Mx ( R21 |-- R15 ) );
set D180 = ( Mx2Tran (C143 , R15 , R18) );
set D181 = ( Space_of_Solutions_of D178 );
L1128: ( width D179 ) = ( len ( R21 |-- R15 ) ) by MATRIX_1:23;
L1129: ( len ( ( len R18 ) |-> ( 0. R8 ) ) ) = ( len R18 ) by CARD_1:def 7;
L1130: ( width ( LineVec2Mx ( ( len R18 ) |-> ( 0. R8 ) ) ) ) = ( len R18 ) by L1129 , MATRIX_1:23;
L1131: ( width ( ColVec2Mx ( ( len R18 ) |-> ( 0. R8 ) ) ) ) = 1 by L1125 , L1129 , MATRIX_1:23;
L1132: ( len ( R21 |-- R15 ) ) = ( len R15 ) by MATRLIN:def 7;
L1133: (( len ( ColVec2Mx ( R21 |-- R15 ) ) ) = ( len ( R21 |-- R15 ) ) & ( width ( ColVec2Mx ( R21 |-- R15 ) ) ) = 1) by L1132 , L1124 , MATRIX_1:23;
L1134: ( len C143 ) = ( len R15 ) by L1124 , MATRIX_1:23;
L1135: (( width D178 ) = ( 0 ) implies ( len D178 ) = ( 0 )) by L1134 , L1124 , L1125 , L1126 , MATRIX_2:10;
L1136: ( width D178 ) = ( len R15 ) by L1125 , L1134 , L1126 , MATRIX_2:10;
thus L1137: (R21 in ( ker D180 ) implies ( R21 |-- R15 ) in D181)
proof
assume L1138: R21 in ( ker D180 );
L1139: ( D180 . R21 ) = ( 0. R12 ) by L1138 , RANKNULL:10;
L1140: ( D179 * C143 ) = ( LineVec2Mx ( ( 0. R12 ) |-- R18 ) ) by L1139 , L1124 , L864
.= ( LineVec2Mx ( ( len R18 ) |-> ( 0. R8 ) ) ) by L503;
L1141: ( ColVec2Mx ( ( len R18 ) |-> ( 0. R8 ) ) ) = ( D178 * ( ColVec2Mx ( R21 |-- R15 ) ) ) by L1140 , L1125 , L1134 , L1126 , L1128 , L1132 , MATRIX_3:22;
L1142: ( ColVec2Mx ( R21 |-- R15 ) ) in ( Solutions_of (D178 , ( ColVec2Mx ( ( len R18 ) |-> ( 0. R8 ) ) )) ) by L1141 , L1136 , L1132 , L1133 , L1131;
L1143: ( R21 |-- R15 ) in ( Solutions_of (D178 , ( ( len R18 ) |-> ( 0. R8 ) )) ) by L1142;
L1144: ( R21 |-- R15 ) in (the carrier of D181) by L1143 , L1127 , L1135 , MATRIX15:def 5;
thus L1145: thesis by L1144 , STRUCT_0:def 5;
end;

assume L1146: ( R21 |-- R15 ) in D181;
L1147: ( R21 |-- R15 ) in (the carrier of D181) by L1146 , STRUCT_0:def 5;
L1148: ( R21 |-- R15 ) in ( Solutions_of (D178 , ( ( len R18 ) |-> ( 0. R8 ) )) ) by L1147 , L1127 , L1135 , MATRIX15:def 5;
L1149: (ex B96 being (FinSequence of R8) st (B96 = ( R21 |-- R15 ) & ( ColVec2Mx B96 ) in ( Solutions_of (D178 , ( ColVec2Mx ( ( len R18 ) |-> ( 0. R8 ) ) )) ))) by L1148;
L1150: (ex B97 being (Matrix of R8) st (B97 = ( ColVec2Mx ( R21 |-- R15 ) ) & ( len B97 ) = ( width D178 ) & ( width B97 ) = ( width ( ColVec2Mx ( ( len R18 ) |-> ( 0. R8 ) ) ) ) & ( ColVec2Mx ( ( len R18 ) |-> ( 0. R8 ) ) ) = ( D178 * B97 ))) by L1149;
L1151: ( ColVec2Mx ( ( len R18 ) |-> ( 0. R8 ) ) ) = ( ( D179 * C143 ) @ ) by L1150 , L1125 , L1134 , L1126 , L1128 , L1132 , MATRIX_3:22;
L1152: ( width ( D179 * C143 ) ) = ( width C143 ) by L1134 , L1128 , L1132 , MATRIX_3:def 4;
L1153: ( D179 * C143 ) = ( LineVec2Mx ( ( len R18 ) |-> ( 0. R8 ) ) ) by L1152 , L1125 , L1126 , L1130 , L1151 , MATRIX_2:12
.= ( LineVec2Mx ( ( 0. R12 ) |-- R18 ) ) by L503;
L1154: ( LineVec2Mx ( ( 0. R12 ) |-- R18 ) ) = ( LineVec2Mx ( ( D180 . R21 ) |-- R18 ) ) by L1153 , L1124 , L864;
L1155: ( ( 0. R12 ) |-- R18 ) = ( Line (( LineVec2Mx ( ( D180 . R21 ) |-- R18 ) ) , 1) ) by L1154 , MATRIX15:25
.= ( ( D180 . R21 ) |-- R18 ) by MATRIX15:25;
L1156: ( D180 . R21 ) = ( 0. R12 ) by L1155 , MATRLIN:34;
thus L1157: thesis by L1156 , RANKNULL:10;
end;
theorem
L1158: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (R11 is  trivial iff ( dim R11 ) = ( 0 ))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
thus L1159:now
assume L1160: R11 is  trivial;
L1161: (the carrier of R11) c= { ( 0. R11 ) }
proof
let C144 being set;
assume L1162: C144 in (the carrier of R11);
L1163: C144 = ( 0. R11 ) by L1160 , L1162 , STRUCT_0:def 18;
thus L1164: thesis by L1163 , TARSKI:def 1;
end;
L1165: (the carrier of ( (Omega). R11 )) = { ( 0. R11 ) } by L1161 , ZFMISC_1:33
.= (the carrier of ( (0). R11 )) by VECTSP_4:def 3;
L1166: ( (Omega). R11 ) = ( (0). R11 ) by L1165 , VECTSP_4:29;
thus L1167: ( dim R11 ) = ( 0 ) by L1166 , VECTSP_9:29;
end;
assume L1168: ( dim R11 ) = ( 0 );
L1169: ( (Omega). R11 ) = ( (0). R11 ) by L1168 , VECTSP_9:29;
L1170:
now
let R21 being (Element of R11);
L1171: R21 in ( (0). R11 ) by L1169 , STRUCT_0:def 5;
thus L1172: R21 = ( 0. R11 ) by L1171 , VECTSP_4:35;
end;
thus L1173: thesis by L1170 , STRUCT_0:def 18;
end;
theorem
L1174: (for R8 being Field holds (for B98 , B99 being (VectSp of R8) holds (for B100 being (linear-transformation of B98 , B99) holds (B100 is  one-to-one iff ( ker B100 ) = ( (0). B98 )))))
proof
let R8 being Field;
let C145 , C146 being (VectSp of R8);
let C147 being (linear-transformation of C145 , C146);
L1175: (( ker C147 ) = ( (0). C145 ) implies C147 is  one-to-one)
proof
assume L1176: ( ker C147 ) = ( (0). C145 );
let R6 being set;
let R7 being set;
assume that
L1177: (R6 in ( dom C147 ) & R7 in ( dom C147 ))
and
L1178: ( C147 . R6 ) = ( C147 . R7 );
reconsider D182 = R6 , D183 = R7 as (Element of C145) by L1177 , FUNCT_2:def 1;
L1179: ( D182 - D183 ) in ( ker C147 ) by L1178 , RANKNULL:17;
L1180: ( D182 - D183 ) in (the carrier of ( (0). C145 )) by L1179 , L1176 , STRUCT_0:def 5;
L1181: ( D182 - D183 ) in { ( 0. C145 ) } by L1180 , VECTSP_4:def 3;
L1182: ( D182 + ( - D183 ) ) = ( 0. C145 ) by L1181 , TARSKI:def 1;
thus L1183: R6 = ( - ( - D183 ) ) by L1182 , VECTSP_1:16
.= R7 by RLVECT_1:17;
end;
thus L1184: thesis by L1175 , RANKNULL:15;
end;
registration
let R8 being Field;
let C148 , C149 being (VectSp of R8);
let C150 , C151 being (linear-transformation of C148 , C149);
cluster ( C150 + C151 ) ->  homogeneous  additive;
coherence
proof
L1185:
now
let C152 being (Scalar of R8);
let C153 being (Vector of C148);
thus L1186: ( ( C150 + C151 ) . ( C152 * C153 ) ) = ( ( C150 . ( C152 * C153 ) ) + ( C151 . ( C152 * C153 ) ) ) by MATRLIN:def 3
.= ( ( C152 * ( C150 . C153 ) ) + ( C151 . ( C152 * C153 ) ) ) by MOD_2:def 2
.= ( ( C152 * ( C150 . C153 ) ) + ( C152 * ( C151 . C153 ) ) ) by MOD_2:def 2
.= ( C152 * ( ( C150 . C153 ) + ( C151 . C153 ) ) ) by VECTSP_1:def 14
.= ( C152 * ( ( C150 + C151 ) . C153 ) ) by MATRLIN:def 3;
end;
L1187:
now
let C154 , C155 being (Vector of C148);
thus L1188: ( ( C150 + C151 ) . ( C154 + C155 ) ) = ( ( C150 . ( C154 + C155 ) ) + ( C151 . ( C154 + C155 ) ) ) by MATRLIN:def 3
.= ( ( ( C150 . C154 ) + ( C150 . C155 ) ) + ( C151 . ( C154 + C155 ) ) ) by VECTSP_1:def 20
.= ( ( ( C150 . C154 ) + ( C150 . C155 ) ) + ( ( C151 . C154 ) + ( C151 . C155 ) ) ) by VECTSP_1:def 20
.= ( ( C150 . C154 ) + ( ( C150 . C155 ) + ( ( C151 . C154 ) + ( C151 . C155 ) ) ) ) by RLVECT_1:def 3
.= ( ( C150 . C154 ) + ( ( C151 . C154 ) + ( ( C151 . C155 ) + ( C150 . C155 ) ) ) ) by RLVECT_1:def 3
.= ( ( ( C150 . C154 ) + ( C151 . C154 ) ) + ( ( C150 . C155 ) + ( C151 . C155 ) ) ) by RLVECT_1:def 3
.= ( ( ( C150 + C151 ) . C154 ) + ( ( C150 . C155 ) + ( C151 . C155 ) ) ) by MATRLIN:def 3
.= ( ( ( C150 + C151 ) . C154 ) + ( ( C150 + C151 ) . C155 ) ) by MATRLIN:def 3;
end;
L1189: ( C150 + C151 ) is  additive  homogeneous by L1187 , L1185 , VECTSP_1:def 20 , MOD_2:def 2;
thus L1190: thesis by L1189;
end;
end;
registration
let R8 being Field;
let C156 , C157 being (VectSp of R8);
let C158 being (linear-transformation of C156 , C157);
let R9 being (Element of R8);
cluster ( R9 * C158 ) ->  homogeneous  additive;
coherence
proof
L1192:
now
let C159 being (Scalar of R8);
let C160 being (Vector of C156);
thus L1193: ( ( R9 * C158 ) . ( C159 * C160 ) ) = ( R9 * ( C158 . ( C159 * C160 ) ) ) by MATRLIN:def 4
.= ( R9 * ( C159 * ( C158 . C160 ) ) ) by MOD_2:def 2
.= ( ( R9 * C159 ) * ( C158 . C160 ) ) by VECTSP_1:def 16
.= ( C159 * ( R9 * ( C158 . C160 ) ) ) by VECTSP_1:def 16
.= ( C159 * ( ( R9 * C158 ) . C160 ) ) by MATRLIN:def 4;
end;
L1194:
now
let C161 , C162 being (Vector of C156);
thus L1195: ( ( R9 * C158 ) . ( C161 + C162 ) ) = ( R9 * ( C158 . ( C161 + C162 ) ) ) by MATRLIN:def 4
.= ( R9 * ( ( C158 . C161 ) + ( C158 . C162 ) ) ) by VECTSP_1:def 20
.= ( ( R9 * ( C158 . C161 ) ) + ( R9 * ( C158 . C162 ) ) ) by VECTSP_1:def 14
.= ( ( ( R9 * C158 ) . C161 ) + ( R9 * ( C158 . C162 ) ) ) by MATRLIN:def 4
.= ( ( ( R9 * C158 ) . C161 ) + ( ( R9 * C158 ) . C162 ) ) by MATRLIN:def 4;
end;
L1196: ( R9 * C158 ) is  additive  homogeneous by L1194 , L1192 , VECTSP_1:def 20 , MOD_2:def 2;
thus L1197: thesis by L1196;
end;
end;
definition
let R8 being Field;
let C163 , C164 , C165 being (VectSp of R8);
let C166 being (linear-transformation of C163 , C164);
let C167 being (linear-transformation of C164 , C165);
redefine func C167 * C166 -> (linear-transformation of C163 , C165);

coherence by MOD_2:2;
end;
theorem
L1200: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R12 being  finite-dimensional (VectSp of R8) holds (for R15 being (OrdBasis of R11) holds (for R18 being (OrdBasis of R12) holds (for B101 being (Matrix of ( len R15 ) , ( len R18 ) , R8) holds (( the_rank_of B101 ) = ( len R15 ) implies ( Mx2Tran (B101 , R15 , R18) ) is  one-to-one)))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R12 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
let R18 being (OrdBasis of R12);
let C168 being (Matrix of ( len R15 ) , ( len R18 ) , R8);
assume that
L1201: ( the_rank_of C168 ) = ( len R15 );
set D184 = ( Space_of_Solutions_of ( C168 @ ) );
set D185 = ( Mx2Tran (C168 , R15 , R18) );
L1202:
now
per cases ;
suppose L1203: ( len R15 ) = ( 0 );

L1204: ( dim R11 ) = ( 0 ) by L1203 , L514;
L1205: ( (Omega). R11 ) = ( (0). R11 ) by L1204 , VECTSP_9:29;
L1206: (the carrier of ( ker D185 )) c= (the carrier of R11) by VECTSP_4:def 2;
thus L1207: (the carrier of ( ker D185 )) c= { ( 0. R11 ) } by L1206 , L1205 , VECTSP_4:def 3;
end;
suppose L1208: ( len R15 ) > ( 0 );

L1209: ( len R15 ) <= ( width C168 ) by L1201 , MATRIX13:74;
L1210: ( width ( C168 @ ) ) = ( len C168 ) by L1209 , L1208 , MATRIX_2:10;
L1211: ( len C168 ) = ( len R15 ) by L1208 , MATRIX_1:23;
L1212: ( width C168 ) = ( len R18 ) by L1208 , MATRIX_1:23;
thus L1213: (the carrier of ( ker D185 )) c= { ( 0. R11 ) }
proof
let R6 being set;
assume that
L1214: R6 in (the carrier of ( ker D185 ));
L1215: (the carrier of ( ker D185 )) c= (the carrier of R11) by VECTSP_4:def 2;
reconsider D186 = R6 as (Element of R11) by L1215 , L1214;
L1216: ( dim D184 ) = ( ( len R15 ) - ( the_rank_of ( C168 @ ) ) ) by L1208 , L1211 , L1210 , MATRIX15:68
.= ( ( len R15 ) - ( len R15 ) ) by L1201 , MATRIX13:84
.= ( 0 );
L1217: ( (Omega). D184 ) = ( (0). D184 ) by L1216 , VECTSP_9:29;
L1218: D186 in ( ker D185 ) by L1214 , STRUCT_0:def 5;
L1219: ( D186 |-- R15 ) in D184 by L1218 , L1208 , L1212 , L1209 , L1123;
L1220: ( D186 |-- R15 ) in (the carrier of ( (0). D184 )) by L1219 , L1217 , STRUCT_0:def 5;
L1221: ( D186 |-- R15 ) in (the carrier of ( (0). ( ( len R15 ) -VectSp_over R8 ) )) by L1220 , L1211 , L1210 , VECTSP_4:36;
L1222: ( D186 |-- R15 ) in { ( 0. ( ( len R15 ) -VectSp_over R8 ) ) } by L1221 , VECTSP_4:def 3;
L1223: ( D186 |-- R15 ) = ( 0. ( ( len R15 ) -VectSp_over R8 ) ) by L1222 , TARSKI:def 1
.= ( ( len R15 ) |-> ( 0. R8 ) ) by MATRIX13:102
.= ( ( 0. R11 ) |-- R15 ) by L503;
L1224: D186 = ( 0. R11 ) by L1223 , MATRLIN:34;
thus L1225: thesis by L1224 , TARSKI:def 1;
end;

end;
end;
L1215: ( 0. R11 ) in ( ker D185 ) by RANKNULL:11;
L1216: ( 0. R11 ) in (the carrier of ( ker D185 )) by L1215 , STRUCT_0:def 5;
L1217: { ( 0. R11 ) } c= (the carrier of ( ker D185 )) by L1216 , ZFMISC_1:31;
L1218: (the carrier of ( ker D185 )) = { ( 0. R11 ) } by L1217 , L1202 , XBOOLE_0:def 10
.= (the carrier of ( (0). R11 )) by VECTSP_4:def 3;
L1219: ( ker D185 ) = ( (0). R11 ) by L1218 , VECTSP_4:29;
thus L1220: thesis by L1219 , L1174;
end;
L1221: (for R4 being Nat holds (for R8 being Field holds ( the_rank_of ( 1. (R8 , R4) ) ) = R4))
proof
let R4 being Nat;
let R8 being Field;
L1222: ( 1_ R8 ) <> ( 0. R8 );
L1223: (( R4 + ( 0 ) ) > ( 0 ) or R4 = ( 0 ));
L1224: (R4 >= 1 or R4 = ( 0 )) by L1223 , NAT_1:19;
L1225: R4 in ( NAT ) by ORDINAL1:def 12;
L1226: ( Det ( 1. (R8 , R4) ) ) = ( 1_ R8 ) by L1225 , L1224 , MATRIXR2:41 , MATRIX_7:16;
thus L1227: thesis by L1226 , L1222 , MATRIX13:83;
end;
theorem
L1228: (for R4 being Nat holds (for R8 being Field holds ( MX2FinS ( 1. (R8 , R4) ) ) is (OrdBasis of ( R4 -VectSp_over R8 ))))
proof
let R4 being Nat;
let R8 being Field;
set D187 = ( 1. (R8 , R4) );
L1229: ( the_rank_of D187 ) = R4 by L1221;
L1230: D187 is  one-to-one by L1229 , MATRIX13:105;
L1231: (for R1 being Nat holds (for R2 being Nat holds (([ R1 , R2 ] in ( Indices D187 ) & ( D187 * (R1 , R2) ) <> ( 0. R8 )) implies R1 = R2))) by MATRIX_1:def 11;
L1232: D187 is  diagonal by L1231 , MATRIX_1:def 14;
L1233: ( lines D187 ) is (Basis of ( R4 -VectSp_over R8 )) by L1232 , L1229 , MATRIX13:111;
thus L1234: thesis by L1233 , L1230 , MATRLIN:def 2;
end;
theorem
L1235: (for R8 being Field holds (for R12 being  finite-dimensional (VectSp of R8) holds (for R18 being (OrdBasis of R12) holds (for B102 being (OrdBasis of ( ( len R18 ) -VectSp_over R8 )) holds (B102 = ( MX2FinS ( 1. (R8 , ( len R18 )) ) ) implies (for B103 being (Vector of ( ( len R18 ) -VectSp_over R8 )) holds ( B103 |-- B102 ) = B103))))))
proof
let R8 being Field;
let R12 being  finite-dimensional (VectSp of R8);
let R18 being (OrdBasis of R12);
let C169 being (OrdBasis of ( ( len R18 ) -VectSp_over R8 ));
assume that
L1236: C169 = ( MX2FinS ( 1. (R8 , ( len R18 )) ) );
let C170 being (Vector of ( ( len R18 ) -VectSp_over R8 ));
set D188 = ( C170 |-- C169 );
consider C171 being (Linear_Combination of ( ( len R18 ) -VectSp_over R8 )) such that L1237: (C170 = ( Sum C171 ) & ( Carrier C171 ) c= ( rng C169 )) and L1238: (for R5 being Nat holds ((1 <= R5 & R5 <= ( len ( C170 |-- C169 ) )) implies ( D188 /. R5 ) = ( C171 . ( C169 /. R5 ) ))) by MATRLIN:def 7;
reconsider D189 = C170 as (Element of ( ( len R18 ) -tuples_on (the carrier of R8) )) by MATRIX13:102;
L1239: ( len D189 ) = ( len R18 ) by CARD_1:def 7;
L1240: (( len C169 ) = ( dim ( ( len R18 ) -VectSp_over R8 ) ) & ( dim ( ( len R18 ) -VectSp_over R8 ) ) = ( len R18 )) by L514 , MATRIX13:112;
L1241: ( len D188 ) = ( len C169 ) by MATRLIN:def 7;
L1242:
now
L1243: ( dom C169 ) = ( dom D188 ) by L1241 , FINSEQ_3:29;
L1244: ( the_rank_of ( 1. (R8 , ( len R18 )) ) ) = ( len R18 ) by L1221;
set D190 = ( FinS2MX ( C171 (#) C169 ) );
L1245: ( Indices ( 1. (R8 , ( len R18 )) ) ) = [: ( Seg ( len R18 ) ) , ( Seg ( len R18 ) ) :] by MATRIX_1:24;
let R1 being Nat;
assume that
L1246: (1 <= R1 & R1 <= ( len D189 ));
L1247: R1 in ( Seg ( len R18 ) ) by L1239 , L1246 , FINSEQ_1:1;
L1248: [ R1 , R1 ] in [: ( Seg ( len R18 ) ) , ( Seg ( len R18 ) ) :] by L1247 , ZFMISC_1:87;
L1249: ( width ( 1. (R8 , ( len R18 )) ) ) = ( len R18 ) by MATRIX_1:24;
L1250: ( ( Line (( 1. (R8 , ( len R18 )) ) , R1) ) . R1 ) = ( ( 1. (R8 , ( len R18 )) ) * (R1 , R1) ) by L1249 , L1247 , MATRIX_1:def 7
.= ( 1_ R8 ) by L1245 , L1248 , MATRIX_1:def 11;
L1251: ( len ( Col (D190 , R1) ) ) = ( len D190 ) by CARD_1:def 7;
L1252: ( dom ( Col (D190 , R1) ) ) = ( dom D190 ) by L1251 , FINSEQ_3:29;
L1253: ( len D190 ) = ( len C169 ) by VECTSP_6:def 5;
L1254: ( dom D190 ) = ( dom C169 ) by L1253 , FINSEQ_3:29;
L1255: R1 in ( dom ( Col (D190 , R1) ) ) by L1239 , L1240 , L1246 , L1253 , L1251 , FINSEQ_3:25;
L1256: ( width D190 ) = ( len R18 ) by L1240 , L1253 , MATRIX_1:24;
L1257:
now
let R2 being Nat;
assume that
L1258: R2 in ( dom ( Col (D190 , R1) ) )
and
L1259: R2 <> R1;
L1260: ( dom ( Col (D190 , R1) ) ) = ( Seg ( len R18 ) ) by L1240 , L1253 , L1251 , FINSEQ_1:def 3;
L1261: [ R2 , R1 ] in [: ( Seg ( len R18 ) ) , ( Seg ( len R18 ) ) :] by L1260 , L1247 , L1258 , ZFMISC_1:87;
L1262: ( Line (D190 , R2) ) = ( ( C171 (#) C169 ) . R2 ) by L1240 , L1253 , L1258 , L1260 , MATRIX_2:8
.= ( ( C171 . ( C169 /. R2 ) ) * ( C169 /. R2 ) ) by L1252 , L1258 , VECTSP_6:def 5;
L1263: ( ( Col (D190 , R1) ) . R2 ) = ( D190 * (R2 , R1) ) by L1252 , L1258 , MATRIX_1:def 8
.= ( ( Line (D190 , R2) ) . R1 ) by L1247 , L1256 , MATRIX_1:def 7;
L1264: ( ( Line (( 1. (R8 , ( len R18 )) ) , R2) ) . R1 ) = ( ( 1. (R8 , ( len R18 )) ) * (R2 , R1) ) by L1247 , L1249 , MATRIX_1:def 7
.= ( 0. R8 ) by L1245 , L1259 , L1261 , MATRIX_1:def 11;
L1265: ( C169 /. R2 ) = ( C169 . R2 ) by L1252 , L1254 , L1258 , PARTFUN1:def 6
.= ( Line (( 1. (R8 , ( len R18 )) ) , R2) ) by L1236 , L1258 , L1260 , MATRIX_2:8;
thus L1266: ( ( Col (D190 , R1) ) . R2 ) = ( ( ( C171 . ( C169 /. R2 ) ) * ( Line (( 1. (R8 , ( len R18 )) ) , R2) ) ) . R1 ) by L1265 , L1249 , L1263 , L1262 , MATRIX13:102
.= ( ( C171 . ( C169 /. R2 ) ) * ( 0. R8 ) ) by L1247 , L1249 , L1264 , FVSUM_1:51
.= ( 0. R8 ) by VECTSP_1:6;
end;
L1267: ( ( Col (D190 , R1) ) . R1 ) = ( Sum ( Col (D190 , R1) ) ) by L1257 , L1255 , MATRIX_3:12
.= ( C170 . R1 ) by L1236 , L1237 , L1247 , L1244 , MATRIX13:105 , MATRIX13:107;
L1268: ( Line (D190 , R1) ) = ( ( C171 (#) C169 ) . R1 ) by L1240 , L1247 , L1253 , MATRIX_2:8
.= ( ( C171 . ( C169 /. R1 ) ) * ( C169 /. R1 ) ) by L1255 , L1252 , VECTSP_6:def 5;
L1269: ( ( Col (D190 , R1) ) . R1 ) = ( D190 * (R1 , R1) ) by L1255 , L1252 , MATRIX_1:def 8
.= ( ( Line (D190 , R1) ) . R1 ) by L1247 , L1256 , MATRIX_1:def 7;
L1270: ( C169 /. R1 ) = ( C169 . R1 ) by L1255 , L1252 , L1254 , PARTFUN1:def 6
.= ( Line (( 1. (R8 , ( len R18 )) ) , R1) ) by L1236 , L1247 , MATRIX_2:8;
L1271: ( ( Col (D190 , R1) ) . R1 ) = ( ( ( C171 . ( C169 /. R1 ) ) * ( Line (( 1. (R8 , ( len R18 )) ) , R1) ) ) . R1 ) by L1270 , L1269 , L1249 , L1268 , MATRIX13:102
.= ( ( C171 . ( C169 /. R1 ) ) * ( 1_ R8 ) ) by L1247 , L1249 , L1250 , FVSUM_1:51
.= ( C171 . ( C169 /. R1 ) ) by VECTSP_1:def 4;
thus L1272: ( D189 . R1 ) = ( D188 /. R1 ) by L1271 , L1238 , L1239 , L1241 , L1240 , L1246 , L1267
.= ( D188 . R1 ) by L1255 , L1252 , L1254 , L1243 , PARTFUN1:def 6;
end;
thus L1273: thesis by L1242 , L1239 , L1241 , L1240 , FINSEQ_1:14;
end;
theorem
L1274: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R12 being  finite-dimensional (VectSp of R8) holds (for R14 being (Function of R11 , R12) holds (for R15 being (OrdBasis of R11) holds (for R18 being (OrdBasis of R12) holds (for R21 being (Element of R11) holds (for B104 being (OrdBasis of ( ( len R18 ) -VectSp_over R8 )) holds (B104 = ( MX2FinS ( 1. (R8 , ( len R18 )) ) ) implies (for B105 being (Matrix of ( len R15 ) , ( len B104 ) , R8) holds ((B105 = ( AutMt (R14 , R15 , R18) ) & R14 is  additive  homogeneous) implies ( ( Mx2Tran (B105 , R15 , B104) ) . R21 ) = ( ( R14 . R21 ) |-- R18 ))))))))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R12 being  finite-dimensional (VectSp of R8);
let R14 being (Function of R11 , R12);
let R15 being (OrdBasis of R11);
let R18 being (OrdBasis of R12);
let R21 being (Element of R11);
let C172 being (OrdBasis of ( ( len R18 ) -VectSp_over R8 ));
assume that
L1275: C172 = ( MX2FinS ( 1. (R8 , ( len R18 )) ) );
let C173 being (Matrix of ( len R15 ) , ( len C172 ) , R8);
assume that
L1276: C173 = ( AutMt (R14 , R15 , R18) )
and
L1277: R14 is  additive  homogeneous;
reconsider D191 = R14 as (linear-transformation of R11 , R12) by L1277;
set D192 = ( Mx2Tran (C173 , R15 , C172) );
per cases ;
suppose L1278: ( len R15 ) = ( 0 );

L1279: ( dim R11 ) = ( 0 ) by L1278 , L514;
L1280: ( (Omega). R11 ) = ( (0). R11 ) by L1279 , VECTSP_9:29;
L1281: (the carrier of R11) = { ( 0. R11 ) } by L1280 , VECTSP_4:def 3;
L1282: R21 = ( 0. R11 ) by L1281 , TARSKI:def 1;
L1283: R21 in ( ker D191 ) by L1282 , RANKNULL:11;
thus L1284: ( ( R14 . R21 ) |-- R18 ) = ( ( 0. R12 ) |-- R18 ) by L1283 , RANKNULL:10
.= ( ( len R18 ) |-> ( 0. R8 ) ) by L503
.= ( 0. ( ( len R18 ) -VectSp_over R8 ) ) by MATRIX13:102
.= ( D192 . R21 ) by L1278 , L875;
end;
suppose L1285: ( len R15 ) > ( 0 );

L1286: ( LineVec2Mx ( ( D192 . R21 ) |-- C172 ) ) = ( ( LineVec2Mx ( R21 |-- R15 ) ) * C173 ) by L1285 , L864
.= ( LineVec2Mx ( ( R14 . R21 ) |-- R18 ) ) by L1276 , L1277 , L1285 , L822;
thus L1287: ( ( R14 . R21 ) |-- R18 ) = ( Line (( LineVec2Mx ( ( D192 . R21 ) |-- C172 ) ) , 1) ) by L1286 , MATRIX15:25
.= ( ( D192 . R21 ) |-- C172 ) by MATRIX15:25
.= ( D192 . R21 ) by L1275 , L1235;
end;
end;
definition
let C174 being  add-associative  right_zeroed  right_complementable  Abelian  associative  well-unital  distributive non  empty doubleLoopStr;
let C175 , C176 being  Abelian  add-associative  right_zeroed  right_complementable  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty VectSpStr over C174;
let C177 being (Subspace of C175);
let C178 being (Function of C175 , C176);
redefine func C178 | C177 -> (Function of C177 , C176);

coherence
proof
L1289: (the carrier of C177) c= (the carrier of C175) by VECTSP_4:def 2;
thus L1290: thesis by L1289 , FUNCT_2:32;
end;
end;
definition
let C179 being Field;
let C180 , C181 being (VectSp of C179);
let C182 being (Subspace of C180);
let C183 being (linear-transformation of C180 , C181);
redefine func C183 | C182 -> (linear-transformation of C182 , C181);

coherence
proof
set D193 = ( C183 | C182 );
L1292: ( dom D193 ) = (the carrier of C182) by FUNCT_2:def 1;
L1293:
now
let C184 being (Scalar of C179);
let C185 being (Vector of C182);
reconsider D194 = C185 as (Vector of C180) by VECTSP_4:10;
L1294: ( C184 * C185 ) = ( C184 * D194 ) by VECTSP_4:14;
thus L1295: ( D193 . ( C184 * C185 ) ) = ( C183 . ( C184 * D194 ) ) by L1294 , L1292 , FUNCT_1:47
.= ( C184 * ( C183 . D194 ) ) by MOD_2:def 2
.= ( C184 * ( D193 . C185 ) ) by L1292 , FUNCT_1:47;
end;
L1296:
now
let C186 , C187 being (Vector of C182);
reconsider D195 = C186 , D196 = C187 as (Vector of C180) by VECTSP_4:10;
L1297: ( C186 + C187 ) = ( D195 + D196 ) by VECTSP_4:13;
thus L1298: ( D193 . ( C186 + C187 ) ) = ( C183 . ( D195 + D196 ) ) by L1297 , L1292 , FUNCT_1:47
.= ( ( C183 . D195 ) + ( C183 . D196 ) ) by VECTSP_1:def 20
.= ( ( D193 . C186 ) + ( C183 . D196 ) ) by L1292 , FUNCT_1:47
.= ( ( D193 . C186 ) + ( D193 . C187 ) ) by L1292 , FUNCT_1:47;
end;
L1299: D193 is  additive  homogeneous by L1296 , L1293 , VECTSP_1:def 20 , MOD_2:def 2;
thus L1300: thesis by L1299;
end;
end;
L1302: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R12 being  finite-dimensional (VectSp of R8) holds (for R15 being (OrdBasis of R11) holds (for R18 being (OrdBasis of R12) holds (for B106 being (Matrix of ( len R15 ) , ( len R18 ) , R8) holds ((( len R15 ) > ( 0 ) & ( len R18 ) > ( 0 )) implies ( nullity ( Mx2Tran (B106 , R15 , R18) ) ) = ( ( len R15 ) - ( the_rank_of B106 ) ))))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R12 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
let R18 being (OrdBasis of R12);
set D197 = ( id R11 );
reconsider D198 = ( MX2FinS ( 1. (R8 , ( len R15 )) ) ) as (OrdBasis of ( ( len R15 ) -VectSp_over R8 )) by L1228;
let C188 being (Matrix of ( len R15 ) , ( len R18 ) , R8);
assume that
L1303: ( len R15 ) > ( 0 )
and
L1304: ( len R18 ) > ( 0 );
L1305: ( len D198 ) = ( dim ( ( len R15 ) -VectSp_over R8 ) ) by L514
.= ( len R15 ) by MATRIX13:112;
reconsider D199 = ( AutMt (D197 , R15 , R15) ) as (Matrix of ( len R15 ) , ( len D198 ) , R8) by L1305;
L1306: (( AutMt (D197 , R15 , R15) ) = ( 1. (R8 , ( len R15 )) ) & ( 0. R8 ) <> ( 1_ R8 )) by L748;
L1307: ( ( len R15 ) + ( 0 ) ) > ( 0 ) by L1303;
L1308: ( len R15 ) >= 1 by L1307 , NAT_1:19;
L1309: ( Det ( 1. (R8 , ( len R15 )) ) ) = ( 1_ R8 ) by L1308 , MATRIX_7:16;
L1310: ( the_rank_of D199 ) = ( len R15 ) by L1309 , L1306 , MATRIX13:83;
set D200 = ( Space_of_Solutions_of ( C188 @ ) );
set D201 = ( ker ( Mx2Tran (C188 , R15 , R18) ) );
set D202 = ( Mx2Tran (D199 , R15 , D198) );
set D203 = ( D202 | D201 );
L1311: ( dom D203 ) = (the carrier of D201) by FUNCT_2:def 1;
L1312: (the carrier of ( im D203 )) c= (the carrier of D200)
proof
let R6 being set;
assume that
L1313: R6 in (the carrier of ( im D203 ));
L1314: (the carrier of ( im D203 )) c= (the carrier of ( ( len R15 ) -VectSp_over R8 )) by VECTSP_4:def 2;
reconsider D204 = R6 as (Element of ( ( len R15 ) -VectSp_over R8 )) by L1314 , L1313;
L1315: D204 in ( im D203 ) by L1313 , STRUCT_0:def 5;
consider C189 being (Element of D201) such that L1316: D204 = ( D203 . C189 ) by L1315 , RANKNULL:13;
L1317: C189 in D201 by STRUCT_0:def 5;
L1318: C189 in R11 by L1317 , VECTSP_4:9;
reconsider D205 = C189 as (Vector of R11) by L1318 , STRUCT_0:def 5;
L1319: ( D203 . C189 ) = ( D202 . C189 ) by L1311 , FUNCT_1:47
.= ( ( D197 . D205 ) |-- R15 ) by L1274
.= ( D205 |-- R15 ) by FUNCT_1:17;
L1320: ( D203 . C189 ) in D200 by L1319 , L1303 , L1304 , L1317 , L1123;
thus L1321: thesis by L1320 , L1316 , STRUCT_0:def 5;
end;
L1322: (( len C188 ) = ( len R15 ) & ( width C188 ) = ( len R18 )) by L1303 , MATRIX_1:23;
L1323: ( width ( C188 @ ) ) = ( len R15 ) by L1322 , L1304 , MATRIX_2:10;
L1324: D202 is  one-to-one by L1310 , L1200;
L1325: ( dim ( ( len R15 ) -VectSp_over R8 ) ) = ( len R15 ) by MATRIX13:112
.= ( dim R11 ) by L514
.= ( rank D202 ) by L1324 , RANKNULL:45
.= ( dim ( im D202 ) );
L1326: ( (Omega). ( ( len R15 ) -VectSp_over R8 ) ) = ( (Omega). ( im D202 ) ) by L1325 , VECTSP_9:28;
L1327: (the carrier of D200) c= (the carrier of ( im D203 ))
proof
let R6 being set;
assume that
L1328: R6 in (the carrier of D200);
L1329: (the carrier of D200) c= (the carrier of ( ( len R15 ) -VectSp_over R8 )) by L1323 , VECTSP_4:def 2;
reconsider D206 = R6 as (Element of ( ( len R15 ) -VectSp_over R8 )) by L1329 , L1328;
L1330: D206 in D200 by L1328 , STRUCT_0:def 5;
L1331: D206 in ( im D202 ) by L1326 , STRUCT_0:def 5;
consider C190 being (Element of R11) such that L1332: D206 = ( D202 . C190 ) by L1331 , RANKNULL:13;
L1333: ( D202 . C190 ) = ( ( D197 . C190 ) |-- R15 ) by L1274
.= ( C190 |-- R15 ) by FUNCT_1:17;
L1334: C190 in D201 by L1333 , L1303 , L1304 , L1332 , L1330 , L1123;
reconsider D207 = C190 as (Element of D201) by L1334 , STRUCT_0:def 5;
L1335: D206 = ( D203 . D207 ) by L1311 , L1332 , FUNCT_1:47;
L1336: D206 in ( im D203 ) by L1335 , RANKNULL:13;
thus L1337: thesis by L1336 , STRUCT_0:def 5;
end;
L1338: (the carrier of D200) = (the carrier of ( im D203 )) by L1327 , L1312 , XBOOLE_0:def 10;
L1339: ( im D203 ) = D200 by L1338 , L1323 , VECTSP_4:29;
L1340: D202 is  one-to-one by L1310 , L1200;
L1341: D203 is  one-to-one by L1340 , FUNCT_1:52;
thus L1342: ( nullity ( Mx2Tran (C188 , R15 , R18) ) ) = ( rank D203 ) by L1341 , RANKNULL:45
.= ( ( len R15 ) - ( the_rank_of ( C188 @ ) ) ) by L1303 , L1323 , L1339 , MATRIX15:68
.= ( ( len R15 ) - ( the_rank_of C188 ) ) by MATRIX13:84;
end;
begin
theorem
L1343: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R12 being  finite-dimensional (VectSp of R8) holds (for R15 being (OrdBasis of R11) holds (for R18 being (OrdBasis of R12) holds (for B107 being (linear-transformation of R11 , R12) holds ( rank B107 ) = ( the_rank_of ( AutMt (B107 , R15 , R18) ) )))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R12 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
let R18 being (OrdBasis of R12);
let C191 being (linear-transformation of R11 , R12);
set D208 = ( AutMt (C191 , R15 , R18) );
per cases ;
suppose L1344: ( len R15 ) = ( 0 );

L1345: ( len D208 ) = ( 0 ) by L1344 , MATRIX_1:def 2;
L1346: (( dim R11 ) = ( ( rank C191 ) + ( nullity C191 ) ) & ( the_rank_of D208 ) = ( 0 )) by L1345 , MATRIX13:74 , RANKNULL:44;
thus L1347: thesis by L1346 , L1344 , L514;
end;
suppose L1348: (( len R15 ) > ( 0 ) & ( len R18 ) = ( 0 ));

L1349: ( width D208 ) = ( 0 ) by L1348 , MATRIX_1:23;
L1350: ( the_rank_of D208 ) = ( 0 ) by L1349 , MATRIX13:74;
L1351: ( dim R12 ) = ( 0 ) by L1348 , L514;
thus L1352: thesis by L1351 , L1350 , VECTSP_9:25;
end;
suppose L1353: (( len R15 ) > ( 0 ) & ( len R18 ) > ( 0 ));

L1354: ( ( rank C191 ) + ( nullity C191 ) ) = ( dim R11 ) by RANKNULL:44
.= ( len R15 ) by L514;
L1355: ( nullity C191 ) = ( nullity ( Mx2Tran (D208 , R15 , R18) ) ) by L971
.= ( ( len R15 ) - ( the_rank_of D208 ) ) by L1353 , L1302;
thus L1356: thesis by L1355 , L1354;
end;
end;
theorem
L1358: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R12 being  finite-dimensional (VectSp of R8) holds (for R15 being (OrdBasis of R11) holds (for R18 being (OrdBasis of R12) holds (for B108 being (Matrix of ( len R15 ) , ( len R18 ) , R8) holds ( rank ( Mx2Tran (B108 , R15 , R18) ) ) = ( the_rank_of B108 )))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R12 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
let R18 being (OrdBasis of R12);
let C192 being (Matrix of ( len R15 ) , ( len R18 ) , R8);
thus L1359: ( rank ( Mx2Tran (C192 , R15 , R18) ) ) = ( the_rank_of ( AutMt (( Mx2Tran (C192 , R15 , R18) ) , R15 , R18) ) ) by L1343
.= ( the_rank_of C192 ) by L1023;
end;
theorem
L1360: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R12 being  finite-dimensional (VectSp of R8) holds (for R15 being (OrdBasis of R11) holds (for R18 being (OrdBasis of R12) holds (for B109 being (linear-transformation of R11 , R12) holds (( dim R11 ) = ( dim R12 ) implies (( ker B109 ) is non  trivial iff ( Det ( AutEqMt (B109 , R15 , R18) ) ) = ( 0. R8 )))))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R12 being  finite-dimensional (VectSp of R8);
let R15 being (OrdBasis of R11);
let R18 being (OrdBasis of R12);
let C193 being (linear-transformation of R11 , R12);
assume that
L1361: ( dim R11 ) = ( dim R12 );
set D209 = ( AutEqMt (C193 , R15 , R18) );
L1362: ( dim R12 ) = ( len R18 ) by L514;
L1363: D209 = ( AutMt (C193 , R15 , R18) ) by L1362 , L1361 , L746 , L514;
L1364: ( dim R11 ) = ( ( rank C193 ) + ( nullity C193 ) ) by RANKNULL:44;
L1365: (( len R15 ) = ( dim R11 ) & ( rank C193 ) = ( the_rank_of ( AutMt (C193 , R15 , R18) ) )) by L514 , L1343;
thus L1366:now
assume L1367: ( ker C193 ) is non  trivial;
L1368: ( rank C193 ) <> ( dim R11 ) by L1367 , L1364 , L1158;
thus L1369: ( Det D209 ) = ( 0. R8 ) by L1368 , L1365 , L1363 , MATRIX13:83;
end;
assume L1370: ( Det D209 ) = ( 0. R8 );
L1371: ( dim ( ker C193 ) ) <> ( 0 ) by L1370 , L1365 , L1363 , L1364 , MATRIX13:83;
thus L1372: thesis by L1371 , L1158;
end;
L1373: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R12 being  finite-dimensional (VectSp of R8) holds (for R13 being  finite-dimensional (VectSp of R8) holds (for B110 being (linear-transformation of R11 , R12) holds (for B111 being (Function of R12 , R13) holds ( B111 * B110 ) = ( ( B111 | ( im B110 ) ) * B110 )))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R12 being  finite-dimensional (VectSp of R8);
let R13 being  finite-dimensional (VectSp of R8);
let C194 being (linear-transformation of R11 , R12);
let C195 being (Function of R12 , R13);
L1374: ( dom C194 ) = ( [#] R11 ) by FUNCT_2:def 1;
L1375: ( [#] ( im C194 ) ) = ( C194 .: ( dom C194 ) ) by L1374 , RANKNULL:def 2
.= ( rng C194 ) by RELAT_1:113;
thus L1376: ( ( C195 | ( im C194 ) ) * C194 ) = ( ( C195 * ( id ( rng C194 ) ) ) * C194 ) by L1375 , RELAT_1:65
.= ( C195 * ( ( id ( rng C194 ) ) * C194 ) ) by RELAT_1:36
.= ( C195 * C194 ) by RELAT_1:54;
end;
theorem
L1377: (for R8 being Field holds (for R11 being  finite-dimensional (VectSp of R8) holds (for R12 being  finite-dimensional (VectSp of R8) holds (for R13 being  finite-dimensional (VectSp of R8) holds (for B112 being (linear-transformation of R11 , R12) holds (for B113 being (linear-transformation of R12 , R13) holds (( B113 | ( im B112 ) ) is  one-to-one implies (( rank ( B113 * B112 ) ) = ( rank B112 ) & ( nullity ( B113 * B112 ) ) = ( nullity B112 )))))))))
proof
let R8 being Field;
let R11 being  finite-dimensional (VectSp of R8);
let R12 being  finite-dimensional (VectSp of R8);
let R13 being  finite-dimensional (VectSp of R8);
let C196 being (linear-transformation of R11 , R12);
let C197 being (linear-transformation of R12 , R13);
assume that
L1378: ( C197 | ( im C196 ) ) is  one-to-one;
L1379: (the carrier of ( im ( C197 * C196 ) )) = ( [#] ( im ( C197 * C196 ) ) )
.= ( ( C197 * C196 ) .: ( [#] R11 ) ) by RANKNULL:def 2
.= ( ( ( C197 | ( im C196 ) ) * C196 ) .: ( [#] R11 ) ) by L1373
.= ( ( C197 | ( im C196 ) ) .: ( C196 .: ( [#] R11 ) ) ) by RELAT_1:126
.= ( ( C197 | ( im C196 ) ) .: ( [#] ( im C196 ) ) ) by RANKNULL:def 2
.= ( [#] ( im ( C197 | ( im C196 ) ) ) ) by RANKNULL:def 2
.= (the carrier of ( im ( C197 | ( im C196 ) ) ));
L1380: ( rank ( C197 * C196 ) ) = ( rank ( C197 | ( im C196 ) ) ) by L1379 , VECTSP_4:29
.= ( rank C196 ) by L1378 , RANKNULL:45;
L1381: ( ( nullity C196 ) + ( rank C196 ) ) = ( dim R11 ) by RANKNULL:44
.= ( ( nullity ( C197 * C196 ) ) + ( rank ( C197 * C196 ) ) ) by RANKNULL:44;
thus L1382: thesis by L1381 , L1380;
end;
