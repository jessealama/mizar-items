:: On Ordering of Bags
::  by Gilbert Lee and Piotr Rudnicki
::
:: Received March 12, 2002
:: Copyright (c) 2002-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, XBOOLE_0, SUBSET_1, FINSEQ_1, ARYTM_1, ARYTM_3,
      XXREAL_0, CARD_1, NAT_1, PRE_POLY, FUNCT_1, RELAT_1, TARSKI, CLASSES1,
      CARD_3, FINSEQ_2, PBOOLE, GRAPH_2, VALUED_0, FINSUB_1, FINSET_1, RELAT_2,
      ORDERS_2, WAYBEL_4, STRUCT_0, WELLFND1, WELLORD1, ORDERS_1, ORDINAL1,
      WELLORD2, ORDINAL4, REAL_1, FUNCOP_1, FUNCT_4, PARTFUN1, DICKSON,
      RLVECT_2, ZFMISC_1, MCART_1, BAGORDER;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, XCMPLX_0, RELAT_1, PBOOLE,
      RELAT_2, RELSET_1, PARTFUN1, FINSET_1, FINSUB_1, ORDINAL1, FUNCT_7,
      XTUPLE_0, MCART_1, WELLORD1, ORDERS_1, WELLFND1, CARD_1, NUMBERS,
      VALUED_0, XXREAL_0, REAL_1, FUNCT_1, SEQ_1, PRE_POLY, CARD_3, NAT_D,
      FINSEQ_1, FINSEQ_2, RVSUM_1, WSIERP_1, FUNCOP_1, FUNCT_2, SEQ_4,
      DOMAIN_1, FINSEQOP, CLASSES1, RECDEF_1, NAT_1, STRUCT_0, WAYBEL_0,
      YELLOW_1, WAYBEL_4, PRALG_1, ORDERS_2, DICKSON, POLYNOM2;
 constructors DOMAIN_1, FINSEQOP, NAT_D, WSIERP_1, PRALG_1, TRIANG_1, WAYBEL_4,
      WELLFND1, POLYNOM2, DICKSON, SEQ_1, RECDEF_1, BINOP_2, SEQ_4, CLASSES1,
      RELSET_1, FUNCT_7, REAL_1, XTUPLE_0;
 registrations XBOOLE_0, SUBSET_1, RELAT_1, FUNCT_1, ORDINAL1, FUNCT_2,
      FINSET_1, FINSUB_1, NUMBERS, XXREAL_0, XREAL_0, NAT_1, CARD_1, MEMBERED,
      FINSEQ_1, CARD_5, STRUCT_0, ORDERS_2, WAYBEL_0, YELLOW_1, DICKSON,
      VALUED_0, XXREAL_2, RELSET_1, PRE_POLY, WELLORD1, WELLORD2, XTUPLE_0;
 requirements SUBSET, NUMERALS, REAL, BOOLE, ARITHM;
 definitions TARSKI, RELAT_2, WELLFND1, FINSEQ_2, XTUPLE_0;
 theorems WELLORD1, TARSKI, RELAT_2, RELSET_1, ZFMISC_1, ORDERS_2, NAT_1,
      FUNCT_1, AXIOMS, CARD_3, PBOOLE, YELLOW_1, PRALG_1, FUNCOP_1, PARTIT_2,
      WELLFND1, RELAT_1, DICKSON, FINSEQ_1, INTEGRA5, RVSUM_1, FINSEQ_2,
      CARD_1, WAYBEL_0, WAYBEL_4, ORDINAL1, FUNCT_2, CARD_2, MCART_1, FINSUB_1,
      ORDERS_1, FUNCT_7, WELLORD2, FINSEQ_3, FINSEQ_5, FINSEQOP, RFINSEQ,
      XBOOLE_0, XBOOLE_1, PARTFUN1, XREAL_1, XXREAL_0, VALUED_0, VALUED_1,
      XXREAL_2, XREAL_0, NAT_D, CLASSES1, PRE_POLY, XTUPLE_0;
 schemes NAT_1, RELSET_1, FINSET_1, RECDEF_1, FUNCT_2, ORDINAL1, CLASSES1;

begin
theorem
L1: (for B1 , B2 , B3 being set holds ((B3 in B1 & B3 in B2) implies (( B1 \ { B3 } ) = ( B2 \ { B3 } ) implies B1 = B2)))
proof
let C1 , C2 , C3 being set;
assume that
L2: C3 in C1
and
L3: C3 in C2;
assume L4: ( C1 \ { C3 } ) = ( C2 \ { C3 } );
thus L5: C1 = ( C1 \/ { C3 } ) by L2 , ZFMISC_1:40
.= ( ( C2 \ { C3 } ) \/ { C3 } ) by L4 , XBOOLE_1:39
.= ( C2 \/ { C3 } ) by XBOOLE_1:39
.= C2 by L3 , ZFMISC_1:40;
end;
theorem
L6: (for B4 , B5 being (Element of ( NAT )) holds (B5 in ( Seg B4 ) iff (( B5 - 1 ) is (Element of ( NAT )) & ( B5 - 1 ) < B4)))
proof
let C4 , C5 being (Element of ( NAT ));
L7: ( Seg C4 ) = { B6 where B6 is (Element of ( NAT )) : (1 <= B6 & B6 <= C4) } by FINSEQ_1:def 1;
thus L8:now
assume L9: C5 in ( Seg C4 );
consider C6 being (Element of ( NAT )) such that L10: C5 = C6 and L11: 1 <= C6 and L12: C6 <= C4 by L9 , L7;
set D1 = ( C5 - 1 );
set D2 = ( C4 - 1 );
L13: ( 0 ) < C6 by L11;
reconsider D3 = D1 as (Element of ( NAT )) by L13 , L10 , NAT_1:20;
L14: D3 = ( C5 - 1 );
thus L15: ( C5 - 1 ) is (Element of ( NAT )) by L14;
L16: ( 0 ) < C4 by L11 , L12;
reconsider D4 = D2 as (Element of ( NAT )) by L16 , NAT_1:20;
L17: ( C5 + ( - 1 ) ) <= ( C4 + ( - 1 ) ) by L10 , L12 , XREAL_1:6;
L18: D3 <= D4 by L17;
L19: ( C5 - 1 ) < ( D4 + 1 ) by L18 , NAT_1:13;
thus L20: ( C5 - 1 ) < C4 by L19;
end;
assume that
L21: ( C5 - 1 ) is (Element of ( NAT ))
and
L22: ( C5 - 1 ) < C4;
reconsider D5 = ( C5 - 1 ) as (Element of ( NAT )) by L21;
L23: ( 0 ) <= D5;
L24: ( (( 0 ) qua Nat) + 1 ) <= ( ( C5 - 1 ) + 1 ) by L23 , XREAL_1:6;
L25: ( ( C5 - 1 ) + 1 ) <= ( ( C4 - 1 ) + 1 ) by L21 , L22 , NAT_1:13;
thus L26: thesis by L25 , L7 , L24;
end;
registration
let C7 being  finite-support Function;
let C8 being set;
cluster ( C7 | C8 ) ->  finite-support;
coherence
proof
L27: ( support ( C7 | C8 ) ) c= ( support C7 )
proof
let C9 being set;
assume L28: C9 in ( support ( C7 | C8 ) );
L29: ( ( C7 | C8 ) . C9 ) <> ( 0 ) by L28 , PRE_POLY:def 7;
L30: ( support ( C7 | C8 ) ) c= ( dom ( C7 | C8 ) ) by PRE_POLY:37;
L31: ( C7 . C9 ) <> ( 0 ) by L30 , L28 , L29 , FUNCT_1:47;
thus L32: thesis by L31 , PRE_POLY:def 7;
end;
thus L33: thesis by L27 , PRE_POLY:def 8;
end;
end;
canceled 1;
theorem
L35: (for B7 being (FinSequence of ( NAT )) holds (( Sum B7 ) = ( 0 ) iff B7 = ( ( len B7 ) |-> ( 0 ) )))
proof
let C10 being (FinSequence of ( NAT ));
thus L36:now
assume L37: ( Sum C10 ) = ( 0 );
L38: ( Seg ( len C10 ) ) = ( dom C10 ) by FINSEQ_1:def 3;
L39: ( Seg ( len C10 ) ) = ( dom ( ( len C10 ) |-> ( 0 ) ) ) by FUNCOP_1:13;
L40:
now
let C11 being Nat;
assume that
L41: C11 in ( Seg ( len C10 ) );
L42:
now
assume L43: ( C10 . C11 ) <> ( 0 );
L44: (for B8 being Nat holds (B8 in ( dom C10 ) implies ( 0 ) <= ( C10 . B8 )));
thus L45: contradiction by L44 , L37 , L38 , L41 , L43 , RVSUM_1:85;
end;
thus L46: ( C10 . C11 ) = ( ( ( len C10 ) |-> ( 0 ) ) . C11 ) by L42 , L41 , FUNCOP_1:7;
end;
thus L47: C10 = ( ( len C10 ) |-> ( 0 ) ) by L40 , L38 , L39 , FINSEQ_1:13;
end;
assume L48: C10 = ( ( len C10 ) |-> ( 0 ) );
thus L49: thesis by L48 , RVSUM_1:81;
end;
definition
let C12 , C13 , C14 being Nat;
let C15 being (ManySortedSet of C12);
func (C13 , C14) -cut C15 -> (ManySortedSet of ( C14 -' C13 )) means 
:L50: (for B9 being (Element of ( NAT )) holds (B9 in ( C14 -' C13 ) implies ( it . B9 ) = ( C15 . ( C13 + B9 ) )));
existence
proof
defpred S1[ set , set ] means (ex B10 being (Element of ( NAT )) st (B10 = $1 & $2 = ( C15 . ( C13 + B10 ) )));
L51:
now
let C16 being set;
assume that
L52: C16 in ( C14 -' C13 );
L53: ( C14 -' C13 ) = { B11 where B11 is (Element of ( NAT )) : B11 < ( C14 -' C13 ) } by AXIOMS:4;
L54: (ex B12 being (Element of ( NAT )) st (C16 = B12 & B12 < ( C14 -' C13 ))) by L53 , L52;
reconsider D6 = C16 as (Element of ( NAT )) by L54;
consider C17 being set such that L55: C17 = ( C15 . ( C13 + D6 ) );
take D7 = C17;
thus L56: S1[ C16 , D7 ] by L55;
end;
L57: (for B13 being set holds (B13 in ( C14 -' C13 ) implies (ex B14 being set st S1[ B13 , B14 ]))) by L51;
consider C18 being Function such that L58: ( dom C18 ) = ( C14 -' C13 ) and L59: (for B15 being set holds (B15 in ( C14 -' C13 ) implies S1[ B15 , ( C18 . B15 ) ])) from CLASSES1:sch 1(L57);
reconsider D8 = C18 as (ManySortedSet of ( C14 -' C13 )) by L58 , PARTFUN1:def 2 , RELAT_1:def 18;
take D8;
let C19 being (Element of ( NAT ));
assume L60: C19 in ( C14 -' C13 );
L61: (ex B16 being (Element of ( NAT )) st (B16 = C19 & ( D8 . C19 ) = ( C15 . ( C13 + B16 ) ))) by L60 , L59;
thus L62: thesis by L61;
end;
uniqueness
proof
let C20 , C21 being (ManySortedSet of ( C14 -' C13 ));
assume that
L63: (for B17 being (Element of ( NAT )) holds (B17 in ( C14 -' C13 ) implies ( C20 . B17 ) = ( C15 . ( C13 + B17 ) )))
and
L64: (for B18 being (Element of ( NAT )) holds (B18 in ( C14 -' C13 ) implies ( C21 . B18 ) = ( C15 . ( C13 + B18 ) )));
L65: ( C14 -' C13 ) = ( dom C20 ) by PARTFUN1:def 2;
L66: ( C14 -' C13 ) = ( dom C21 ) by PARTFUN1:def 2;
L67:
now
let C22 being set;
assume that
L68: C22 in ( C14 -' C13 );
L69: ( C14 -' C13 ) = { B19 where B19 is (Element of ( NAT )) : B19 < ( C14 -' C13 ) } by AXIOMS:4;
L70: (ex B20 being (Element of ( NAT )) st (C22 = B20 & B20 < ( C14 -' C13 ))) by L69 , L68;
reconsider D9 = C22 as (Element of ( NAT )) by L70;
L71: ( C20 . C22 ) = ( C15 . ( C13 + D9 ) ) by L63 , L68;
thus L72: ( C20 . C22 ) = ( C21 . C22 ) by L71 , L64 , L68;
end;
thus L73: C20 = C21 by L67 , L65 , L66 , FUNCT_1:2;
end;
end;
registration
let C23 , C24 , C25 being Nat;
let C26 being  natural-valued (ManySortedSet of C23);
cluster ( (C24 , C25) -cut C26 ) ->  natural-valued;
coherence
proof
L75:
now
let C27 being set;
assume L76: C27 in ( rng ( (C24 , C25) -cut C26 ) );
consider C28 being set such that L77: C28 in ( dom ( (C24 , C25) -cut C26 ) ) and L78: ( ( (C24 , C25) -cut C26 ) . C28 ) = C27 by L76 , FUNCT_1:def 3;
L79: C28 in ( C25 -' C24 ) by L77;
L80: ( C25 -' C24 ) = { B21 where B21 is (Element of ( NAT )) : B21 < ( C25 -' C24 ) } by AXIOMS:4;
L81: (ex B22 being (Element of ( NAT )) st (B22 = C28 & B22 < ( C25 -' C24 ))) by L80 , L79;
reconsider D10 = C28 as (Element of ( NAT )) by L81;
L82: C27 = ( C26 . ( C24 + D10 ) ) by L78 , L79 , L50;
thus L83: C27 in ( NAT ) by L82;
end;
L84: ( rng ( (C24 , C25) -cut C26 ) ) c= ( NAT ) by L75 , TARSKI:def 3;
thus L85: thesis by L84 , VALUED_0:def 6;
end;
end;
registration
let C29 , C30 , C31 being (Element of ( NAT ));
let C32 being  finite-support (ManySortedSet of C29);
cluster ( (C30 , C31) -cut C32 ) ->  finite-support;
coherence;
end;
theorem
L88: (for B23 , B24 being Nat holds (for B25 , B26 being (ManySortedSet of B23) holds (B25 = B26 iff (( (( 0 ) , ( B24 + 1 )) -cut B25 ) = ( (( 0 ) , ( B24 + 1 )) -cut B26 ) & ( (( B24 + 1 ) , B23) -cut B25 ) = ( (( B24 + 1 ) , B23) -cut B26 )))))
proof
let C33 , C34 being Nat;
let C35 , C36 being (ManySortedSet of C33);
set D11 = ( (( 0 ) , ( C34 + 1 )) -cut C35 );
set D12 = ( (( C34 + 1 ) , C33) -cut C35 );
set D13 = ( (( 0 ) , ( C34 + 1 )) -cut C36 );
set D14 = ( (( C34 + 1 ) , C33) -cut C36 );
thus L89: (C35 = C36 implies (D11 = D13 & D12 = D14));
assume that
L90: D11 = D13
and
L91: D12 = D14;
L92:
now
let C37 being (Element of ( NAT ));
assume that
L93: C37 in ( C34 + 1 );
L94: ( ( C34 + 1 ) -' ( 0 ) ) = ( ( ( C34 + 1 ) + (( 0 ) qua Nat) ) -' ( 0 ) );
L95: C37 in ( ( C34 + 1 ) -' ( 0 ) ) by L94 , L93 , NAT_D:34;
L96: ( D13 . C37 ) = ( C36 . ( (( 0 ) qua Nat) + C37 ) ) by L95 , L50;
thus L97: ( C35 . C37 ) = ( C36 . C37 ) by L96 , L90 , L95 , L50;
end;
L98:
now
let C38 being (Element of ( NAT ));
assume that
L99: C38 >= ( C34 + 1 )
and
L100: C38 < C33;
set D15 = ( C38 -' ( C34 + 1 ) );
L101: ( C38 - ( C34 + 1 ) ) >= ( ( C34 + 1 ) - ( C34 + 1 ) ) by L99 , XREAL_1:9;
L102: D15 = ( C38 - ( C34 + 1 ) ) by L101 , XREAL_0:def 2;
L103: C33 >= ( C34 + 1 ) by L99 , L100 , XXREAL_0:2;
L104: ( C33 - ( C34 + 1 ) ) >= ( ( C34 + 1 ) - ( C34 + 1 ) ) by L103 , XREAL_1:9;
L105: ( C33 -' ( C34 + 1 ) ) = ( C33 - ( C34 + 1 ) ) by L104 , XREAL_0:def 2;
L106: ( C38 - ( C34 + 1 ) ) < ( C33 - ( C34 + 1 ) ) by L100 , XREAL_1:14;
L107: D15 in ( C33 -' ( C34 + 1 ) ) by L106 , L102 , L105 , NAT_1:44;
L108: ( D14 . D15 ) = ( C36 . ( ( C34 + 1 ) + D15 ) ) by L107 , L50;
thus L109: ( C35 . C38 ) = ( C36 . C38 ) by L108 , L91 , L102 , L107 , L50;
end;
L110:
now
let C39 being set;
assume that
L111: C39 in C33;
L112: C33 = { B27 where B27 is (Element of ( NAT )) : B27 < C33 } by AXIOMS:4;
L113: (ex B28 being (Element of ( NAT )) st (B28 = C39 & B28 < C33)) by L112 , L111;
reconsider D16 = C39 as (Element of ( NAT )) by L113;
per cases ;
suppose L114: D16 in ( C34 + 1 );

thus L115: ( C35 . C39 ) = ( C36 . C39 ) by L114 , L92;
end;
suppose L116: (not D16 in ( C34 + 1 ));

L117: D16 >= ( C34 + 1 ) by L116 , NAT_1:44;
thus L118: ( C35 . C39 ) = ( C36 . C39 ) by L117 , L98 , L113;
end;
end;
thus L120: thesis by L110 , PBOOLE:3;
end;
definition
let C40 being non  empty set;
let C41 being non  empty (Element of ( NAT ));
func Fin (C40 , C41) equals 
{ B29 where B29 is (Subset of C40) : (B29 is  finite & B29 is non  empty & ( card B29 ) c= C41) };
coherence;
end;
registration
let C42 being non  empty set;
let C43 being non  empty (Element of ( NAT ));
cluster ( Fin (C42 , C43) ) -> non  empty;
coherence
proof
set D17 = the (Element of C42);
L122: ( (( 0 ) qua Nat) + 1 ) < ( C43 + 1 ) by XREAL_1:8;
L123:
now
per cases  by ORDINAL1:16;
suppose L124: 1 c= C43;

thus L125: ( card { D17 } ) c= C43 by L124 , CARD_1:30;
end;
suppose L126: C43 in 1;

L127: 1 = { B30 where B30 is (Element of ( NAT )) : B30 < 1 } by AXIOMS:4;
L128: (ex B31 being (Element of ( NAT )) st (B31 = C43 & B31 < 1)) by L127 , L126;
thus L129: ( card { D17 } ) c= C43 by L128 , L122 , NAT_1:13;
end;
end;
L131: { D17 } in ( Fin (C42 , C43) ) by L123;
thus L132: thesis by L131;
end;
end;
theorem
L134: (for B32 being  antisymmetric  transitive non  empty RelStr holds (for B33 being  finite (Subset of B32) holds (B33 <> ( {} ) implies (ex B34 being (Element of B32) st (B34 in B33 & B34 is_maximal_wrt B33 , (the InternalRel of B32))))))
proof
let C44 being  antisymmetric  transitive non  empty RelStr;
let C45 being  finite (Subset of C44);
set D18 = (the InternalRel of C44);
set D19 = (the carrier of C44);
L135: D18 is_transitive_in D19 by ORDERS_2:def 3;
L136: D18 is_antisymmetric_in D19 by ORDERS_2:def 4;
L137: C45 is  finite;
defpred S2[ set ] means ($1 <> ( {} ) implies (ex B35 being (Element of C44) st (B35 in $1 & B35 is_maximal_wrt $1 , D18)));
L138: S2[ ( {} ) ];
L139:
now
let C46 , C47 being set;
assume that
L140: C46 in C45
and
L141: C47 c= C45
and
L142: (C47 <> ( {} ) implies (ex B36 being (Element of C44) st (B36 in C47 & B36 is_maximal_wrt C47 , D18)));
reconsider D20 = C46 as (Element of C44) by L140;
assume L143: ( C47 \/ { C46 } ) <> ( {} );
per cases ;
suppose L144: C47 = ( {} );

take D21 = D20;
thus L145: D21 in ( C47 \/ { C46 } ) by L144 , TARSKI:def 1;
L146: D21 in ( C47 \/ { C46 } ) by L144 , TARSKI:def 1;
L147: (not (ex B37 being set st (B37 in ( C47 \/ { D21 } ) & B37 <> D21 & [ D21 , B37 ] in D18))) by L144 , TARSKI:def 1;
thus L148: D21 is_maximal_wrt ( C47 \/ { C46 } ) , D18 by L147 , L146 , WAYBEL_4:def 23;
end;
suppose L149: C47 <> ( {} );

consider C48 being (Element of C44) such that L150: C48 in C47 and L151: C48 is_maximal_wrt C47 , D18 by L149 , L142;
L152:
now
per cases ;
suppose L153: [ C48 , C46 ] in D18;

take D22 = D20;
L154: C46 in { C46 } by TARSKI:def 1;
thus L155: D22 in ( C47 \/ { C46 } ) by L154 , XBOOLE_0:def 3;
L156:
now
given C49 being set such that
L157: C49 in ( C47 \/ { C46 } )
and
L158: C49 <> C46
and
L159: [ C46 , C49 ] in D18;

L160: D22 in D19;
L161: C49 in D19 by L159 , ZFMISC_1:87;
L162: [ C48 , C49 ] in D18 by L161 , L135 , L153 , L159 , L160 , RELAT_2:def 8;
per cases  by L157 , XBOOLE_0:def 3;
suppose L163: C49 in C47;

L164:
now
per cases ;
suppose L165: C49 = C48;

L166: C48 = D22 by L165 , L136 , L153 , L159 , RELAT_2:def 4;
thus L167: contradiction by L166 , L158 , L165;
end;
suppose L168: C49 <> C48;

thus L169: contradiction by L168 , L151 , L162 , L163 , WAYBEL_4:def 23;
end;
end;
thus L171: contradiction by L164;
end;
suppose L172: C49 in { C46 };

thus L173: contradiction by L172 , L158 , TARSKI:def 1;
end;
end;
L175: D22 in ( C47 \/ { C46 } ) by L154 , XBOOLE_0:def 3;
thus L176: D22 is_maximal_wrt ( C47 \/ { C46 } ) , D18 by L175 , L156 , WAYBEL_4:def 23;
end;
suppose L177: [ C46 , C48 ] in D18;

take D23 = C48;
thus L178: D23 in ( C47 \/ { C46 } ) by L150 , XBOOLE_0:def 3;
L179:
now
assume L180: (ex B38 being set st (B38 in ( C47 \/ { C46 } ) & B38 <> D23 & [ D23 , B38 ] in D18));
consider C50 being set such that L181: C50 in ( C47 \/ { C46 } ) and L182: C50 <> D23 and L183: [ D23 , C50 ] in D18 by L180;
per cases  by L181 , XBOOLE_0:def 3;
suppose L184: C50 in C47;

thus L185: contradiction by L184 , L151 , L182 , L183 , WAYBEL_4:def 23;
end;
suppose L186: C50 in { C46 };

L187: C50 = C46 by L186 , TARSKI:def 1;
L188: C50 in D19 by L183 , ZFMISC_1:87;
thus L189: contradiction by L188 , L136 , L177 , L182 , L183 , L187 , RELAT_2:def 4;
end;
end;
L191: D23 in ( C47 \/ { C46 } ) by L150 , XBOOLE_0:def 3;
thus L192: D23 is_maximal_wrt ( C47 \/ { C46 } ) , D18 by L191 , L179 , WAYBEL_4:def 23;
end;
suppose L193: ((not [ C48 , C46 ] in D18) & (not [ C46 , C48 ] in D18));

take D24 = C48;
thus L194: D24 in ( C47 \/ { C46 } ) by L150 , XBOOLE_0:def 3;
L195:
now
assume L196: (ex B39 being set st (B39 in ( C47 \/ { C46 } ) & B39 <> D24 & [ D24 , B39 ] in D18));
consider C51 being set such that L197: C51 in ( C47 \/ { C46 } ) and L198: C51 <> D24 and L199: [ D24 , C51 ] in D18 by L196;
per cases  by L197 , XBOOLE_0:def 3;
suppose L200: C51 in C47;

thus L201: contradiction by L200 , L151 , L198 , L199 , WAYBEL_4:def 23;
end;
suppose L202: C51 in { C46 };

thus L203: contradiction by L202 , L193 , L199 , TARSKI:def 1;
end;
end;
L205: D24 in ( C47 \/ { C46 } ) by L150 , XBOOLE_0:def 3;
thus L206: D24 is_maximal_wrt ( C47 \/ { C46 } ) , D18 by L205 , L195 , WAYBEL_4:def 23;
end;
end;
thus L208: (ex B40 being (Element of C44) st (B40 in ( C47 \/ { C46 } ) & B40 is_maximal_wrt ( C47 \/ { C46 } ) , D18)) by L152;
end;
end;
L210: (for B41 , B42 being set holds ((B41 in C45 & B42 c= C45 & S2[ B42 ]) implies S2[ ( B42 \/ { B41 } ) ])) by L139;
thus L211: S2[ C45 ] from FINSET_1:sch 2(L137 , L138 , L210);
end;
theorem
L212: (for B43 being  antisymmetric  transitive non  empty RelStr holds (for B44 being  finite (Subset of B43) holds (B44 <> ( {} ) implies (ex B45 being (Element of B43) st (B45 in B44 & B45 is_minimal_wrt B44 , (the InternalRel of B43))))))
proof
let C52 being  antisymmetric  transitive non  empty RelStr;
let C53 being  finite (Subset of C52);
set D25 = (the InternalRel of C52);
set D26 = (the carrier of C52);
L213: D25 is_transitive_in D26 by ORDERS_2:def 3;
L214: D25 is_antisymmetric_in D26 by ORDERS_2:def 4;
L215: C53 is  finite;
defpred S3[ set ] means ($1 <> ( {} ) implies (ex B46 being (Element of C52) st (B46 in $1 & B46 is_minimal_wrt $1 , D25)));
L216: S3[ ( {} ) ];
L217:
now
let C54 , C55 being set;
assume that
L218: C54 in C53
and
L219: C55 c= C53
and
L220: (C55 <> ( {} ) implies (ex B47 being (Element of C52) st (B47 in C55 & B47 is_minimal_wrt C55 , D25)));
reconsider D27 = C54 as (Element of C52) by L218;
assume L221: ( C55 \/ { C54 } ) <> ( {} );
per cases ;
suppose L222: C55 = ( {} );

take D28 = D27;
thus L223: D28 in ( C55 \/ { C54 } ) by L222 , TARSKI:def 1;
L224: D28 in ( C55 \/ { C54 } ) by L222 , TARSKI:def 1;
L225: (not (ex B48 being set st (B48 in ( C55 \/ { D28 } ) & B48 <> D28 & [ B48 , D28 ] in D25))) by L222 , TARSKI:def 1;
thus L226: D28 is_minimal_wrt ( C55 \/ { C54 } ) , D25 by L225 , L224 , WAYBEL_4:def 25;
end;
suppose L227: C55 <> ( {} );

consider C56 being (Element of C52) such that L228: C56 in C55 and L229: C56 is_minimal_wrt C55 , D25 by L227 , L220;
L230:
now
per cases ;
suppose L231: [ C54 , C56 ] in D25;

take D29 = D27;
L232: C54 in { C54 } by TARSKI:def 1;
thus L233: D29 in ( C55 \/ { C54 } ) by L232 , XBOOLE_0:def 3;
L234:
now
assume L235: (ex B49 being set st (B49 in ( C55 \/ { C54 } ) & B49 <> C54 & [ B49 , C54 ] in D25));
consider C57 being set such that L236: C57 in ( C55 \/ { C54 } ) and L237: C57 <> C54 and L238: [ C57 , C54 ] in D25 by L235;
L239: D29 in D26;
L240: C57 in D26 by L238 , ZFMISC_1:87;
L241: [ C57 , C56 ] in D25 by L240 , L213 , L231 , L238 , L239 , RELAT_2:def 8;
per cases  by L236 , XBOOLE_0:def 3;
suppose L242: C57 in C55;

L243:
now
per cases ;
suppose L244: C57 = C56;

L245: C56 = D29 by L244 , L214 , L231 , L238 , RELAT_2:def 4;
thus L246: contradiction by L245 , L237 , L244;
end;
suppose L247: C57 <> C56;

thus L248: contradiction by L247 , L229 , L241 , L242 , WAYBEL_4:def 25;
end;
end;
thus L250: contradiction by L243;
end;
suppose L251: C57 in { C54 };

thus L252: contradiction by L251 , L237 , TARSKI:def 1;
end;
end;
L254: D29 in ( C55 \/ { C54 } ) by L232 , XBOOLE_0:def 3;
thus L255: D29 is_minimal_wrt ( C55 \/ { C54 } ) , D25 by L254 , L234 , WAYBEL_4:def 25;
end;
suppose L256: [ C56 , C54 ] in D25;

take D30 = C56;
thus L257: D30 in ( C55 \/ { C54 } ) by L228 , XBOOLE_0:def 3;
L258:
now
assume L259: (ex B50 being set st (B50 in ( C55 \/ { C54 } ) & B50 <> D30 & [ B50 , D30 ] in D25));
consider C58 being set such that L260: C58 in ( C55 \/ { C54 } ) and L261: C58 <> D30 and L262: [ C58 , D30 ] in D25 by L259;
per cases  by L260 , XBOOLE_0:def 3;
suppose L263: C58 in C55;

thus L264: contradiction by L263 , L229 , L261 , L262 , WAYBEL_4:def 25;
end;
suppose L265: C58 in { C54 };

L266: C58 = C54 by L265 , TARSKI:def 1;
L267: C58 in D26 by L262 , ZFMISC_1:87;
thus L268: contradiction by L267 , L214 , L256 , L261 , L262 , L266 , RELAT_2:def 4;
end;
end;
L270: D30 in ( C55 \/ { C54 } ) by L228 , XBOOLE_0:def 3;
thus L271: D30 is_minimal_wrt ( C55 \/ { C54 } ) , D25 by L270 , L258 , WAYBEL_4:def 25;
end;
suppose L272: ((not [ C56 , C54 ] in D25) & (not [ C54 , C56 ] in D25));

take D31 = C56;
thus L273: D31 in ( C55 \/ { C54 } ) by L228 , XBOOLE_0:def 3;
L274:
now
assume L275: (ex B51 being set st (B51 in ( C55 \/ { C54 } ) & B51 <> D31 & [ B51 , D31 ] in D25));
consider C59 being set such that L276: C59 in ( C55 \/ { C54 } ) and L277: C59 <> D31 and L278: [ C59 , D31 ] in D25 by L275;
per cases  by L276 , XBOOLE_0:def 3;
suppose L279: C59 in C55;

thus L280: contradiction by L279 , L229 , L277 , L278 , WAYBEL_4:def 25;
end;
suppose L281: C59 in { C54 };

thus L282: contradiction by L281 , L272 , L278 , TARSKI:def 1;
end;
end;
L284: D31 in ( C55 \/ { C54 } ) by L228 , XBOOLE_0:def 3;
thus L285: D31 is_minimal_wrt ( C55 \/ { C54 } ) , D25 by L284 , L274 , WAYBEL_4:def 25;
end;
end;
thus L287: (ex B52 being (Element of C52) st (B52 in ( C55 \/ { C54 } ) & B52 is_minimal_wrt ( C55 \/ { C54 } ) , D25)) by L230;
end;
end;
L289: (for B53 , B54 being set holds ((B53 in C53 & B54 c= C53 & S3[ B54 ]) implies S3[ ( B54 \/ { B53 } ) ])) by L217;
thus L290: S3[ C53 ] from FINSET_1:sch 2(L215 , L216 , L289);
end;
theorem
L291: (for B55 being non  empty  antisymmetric  transitive RelStr holds (for B56 being (sequence of B55) holds (B56 is  descending implies (for B57 , B58 being Nat holds (B58 < B57 implies (( B56 . B58 ) <> ( B56 . B57 ) & [ ( B56 . B57 ) , ( B56 . B58 ) ] in (the InternalRel of B55)))))))
proof
let C60 being non  empty  antisymmetric  transitive RelStr;
let C61 being (sequence of C60);
assume that
L292: C61 is  descending;
set D32 = (the InternalRel of C60);
set D33 = (the carrier of C60);
L293: D32 is_transitive_in D33 by ORDERS_2:def 3;
L294: D32 is_antisymmetric_in D33 by ORDERS_2:def 4;
defpred S4[ Nat ] means (for B59 being Nat holds (B59 < $1 implies (( C61 . B59 ) <> ( C61 . $1 ) & [ ( C61 . $1 ) , ( C61 . B59 ) ] in D32)));
L295: S4[ ( 0 ) ];
L296:
now
let C62 being Nat;
assume that
L297: (for B60 being Nat holds (B60 < C62 implies (( C61 . B60 ) <> ( C61 . C62 ) & [ ( C61 . C62 ) , ( C61 . B60 ) ] in D32)));
let C63 being Nat;
assume that
L298: C63 < ( C62 + 1 );
L299:
now
per cases  by XXREAL_0:1;
suppose L300: C63 > C62;

thus L301: (( C61 . C63 ) <> ( C61 . ( C62 + 1 ) ) & [ ( C61 . ( C62 + 1 ) ) , ( C61 . C63 ) ] in D32) by L300 , L298 , NAT_1:13;
end;
suppose L302: C63 = C62;

thus L303: (( C61 . C63 ) <> ( C61 . ( C62 + 1 ) ) & [ ( C61 . ( C62 + 1 ) ) , ( C61 . C63 ) ] in D32) by L302 , L292 , WELLFND1:def 6;
end;
suppose L304: C63 < C62;

L305: [ ( C61 . C62 ) , ( C61 . C63 ) ] in D32 by L304 , L297;
L306: ( C61 . ( C62 + 1 ) ) <> ( C61 . C62 ) by L292 , WELLFND1:def 6;
L307: [ ( C61 . ( C62 + 1 ) ) , ( C61 . C62 ) ] in D32 by L292 , WELLFND1:def 6;
thus L308: (( C61 . C63 ) <> ( C61 . ( C62 + 1 ) ) & [ ( C61 . ( C62 + 1 ) ) , ( C61 . C63 ) ] in D32) by L307 , L293 , L294 , L305 , L306 , RELAT_2:def 4 , RELAT_2:def 8;
end;
end;
thus L310: (( C61 . C63 ) <> ( C61 . ( C62 + 1 ) ) & [ ( C61 . ( C62 + 1 ) ) , ( C61 . C63 ) ] in D32) by L299;
end;
L311: (for B61 being Nat holds (S4[ B61 ] implies S4[ ( B61 + 1 ) ])) by L296;
thus L312: (for B62 being Nat holds S4[ B62 ]) from NAT_1:sch 2(L295 , L311);
end;
definition
let C64 being non  empty RelStr;
let C65 being (sequence of C64);
attr C65 is  non-increasing
means
:L313: (for B63 being Nat holds [ ( C65 . ( B63 + 1 ) ) , ( C65 . B63 ) ] in (the InternalRel of C64));
end;
theorem
L315: (for B64 being non  empty  transitive RelStr holds (for B65 being (sequence of B64) holds (B65 is  non-increasing implies (for B66 , B67 being Nat holds (B67 < B66 implies [ ( B65 . B66 ) , ( B65 . B67 ) ] in (the InternalRel of B64))))))
proof
let C66 being non  empty  transitive RelStr;
let C67 being (sequence of C66);
assume that
L316: C67 is  non-increasing;
set D34 = (the InternalRel of C66);
set D35 = (the carrier of C66);
L317: D34 is_transitive_in D35 by ORDERS_2:def 3;
defpred S5[ Nat ] means (for B68 being Nat holds (B68 < $1 implies [ ( C67 . $1 ) , ( C67 . B68 ) ] in D34));
L318: S5[ ( 0 ) ];
L319:
now
let C68 being Nat;
assume that
L320: (for B69 being Nat holds (B69 < C68 implies [ ( C67 . C68 ) , ( C67 . B69 ) ] in D34));
let C69 being Nat;
assume that
L321: C69 < ( C68 + 1 );
L322:
now
per cases  by XXREAL_0:1;
suppose L323: C69 > C68;

thus L324: [ ( C67 . ( C68 + 1 ) ) , ( C67 . C69 ) ] in D34 by L323 , L321 , NAT_1:13;
end;
suppose L325: C69 = C68;

thus L326: [ ( C67 . ( C68 + 1 ) ) , ( C67 . C69 ) ] in D34 by L325 , L316 , L313;
end;
suppose L327: C69 < C68;

L328: [ ( C67 . C68 ) , ( C67 . C69 ) ] in D34 by L327 , L320;
L329: [ ( C67 . ( C68 + 1 ) ) , ( C67 . C68 ) ] in D34 by L316 , L313;
thus L330: [ ( C67 . ( C68 + 1 ) ) , ( C67 . C69 ) ] in D34 by L329 , L317 , L328 , RELAT_2:def 8;
end;
end;
thus L332: [ ( C67 . ( C68 + 1 ) ) , ( C67 . C69 ) ] in D34 by L322;
end;
L333: (for B70 being Nat holds (S5[ B70 ] implies S5[ ( B70 + 1 ) ])) by L319;
thus L334: (for B71 being Nat holds S5[ B71 ]) from NAT_1:sch 2(L318 , L333);
end;
theorem
L335: (for B72 being non  empty  transitive RelStr holds (for B73 being (sequence of B72) holds ((B72 is  well_founded & B73 is  non-increasing) implies (ex B74 being Nat st (for B75 being Nat holds (B74 <= B75 implies ( B73 . B74 ) = ( B73 . B75 )))))))
proof
let C70 being non  empty  transitive RelStr;
let C71 being (sequence of C70);
assume that
L336: C70 is  well_founded
and
L337: C71 is  non-increasing;
set D36 = (the carrier of C70);
set D37 = (the InternalRel of C70);
L338: D37 is_well_founded_in D36 by L336 , WELLFND1:def 2;
L339: ( dom C71 ) = ( NAT ) by FUNCT_2:def 1;
L340: ( rng C71 ) c= D36 by RELAT_1:def 19;
consider C72 being set such that L341: C72 in ( rng C71 ) and L342: ( D37 -Seg C72 ) misses ( rng C71 ) by L340 , L338 , WELLORD1:def 3;
L343: ( ( D37 -Seg C72 ) /\ ( rng C71 ) ) = ( {} ) by L342 , XBOOLE_0:def 7;
consider C73 being set such that L344: C73 in ( dom C71 ) and L345: ( C71 . C73 ) = C72 by L341 , FUNCT_1:def 3;
reconsider D38 = C73 as Nat by L344;
assume L346: (not thesis);
consider C74 being Nat such that L347: D38 <= C74 and L348: ( C71 . D38 ) <> ( C71 . C74 ) by L346;
L349: D38 < C74 by L347 , L348 , XXREAL_0:1;
L350: [ ( C71 . C74 ) , ( C71 . D38 ) ] in D37 by L349 , L337 , L315;
L351: ( C71 . C74 ) in ( D37 -Seg C72 ) by L350 , L345 , L348 , WELLORD1:1;
reconsider D39 = C74 as (Element of ( NAT )) by ORDINAL1:def 12;
L352: ( C71 . D39 ) in ( rng C71 ) by L339 , FUNCT_1:3;
thus L353: contradiction by L352 , L343 , L351 , XBOOLE_0:def 4;
end;
theorem
L354: (for B76 being set holds (for B77 being (Element of B76) holds (for B78 being  finite (Subset of B76) holds (for B79 being (Order of B76) holds ((B78 = { B77 } & B79 linearly_orders B78) implies ( SgmX (B79 , B78) ) = <* B77 *>)))))
proof
let C75 being set;
let C76 being (Element of C75);
let C77 being  finite (Subset of C75);
let C78 being (Order of C75);
assume that
L355: C77 = { C76 }
and
L356: C78 linearly_orders C77;
L357: ( len ( SgmX (C78 , C77) ) ) = ( card C77 ) by L356 , PRE_POLY:11
.= 1 by L355 , CARD_1:30;
L358: ( rng ( SgmX (C78 , C77) ) ) = C77 by L356 , PRE_POLY:def 2;
thus L359: thesis by L358 , L355 , L357 , FINSEQ_1:39;
end;
begin
definition
let C79 being Ordinal;
let C80 being (bag of C79);
func TotDegree C80 -> Nat means 
:L360: (ex B80 being (FinSequence of ( NAT )) st (it = ( Sum B80 ) & B80 = ( C80 * ( SgmX (( RelIncl C79 ) , ( support C80 )) ) )));
existence
proof
set D40 = ( C80 * ( SgmX (( RelIncl C79 ) , ( support C80 )) ) );
L361: ( dom C80 ) = C79 by PARTFUN1:def 2;
L362: ( rng C80 ) c= ( NAT ) by VALUED_0:def 6;
reconsider D41 = C80 as (Function of C79 , ( NAT )) by L362 , L361 , FUNCT_2:2;
L363: D41 = C80;
reconsider D42 = D40 as (FinSequence of ( NAT )) by L363 , FINSEQ_2:32;
reconsider D43 = ( Sum D42 ) as Nat;
take D43;
thus L364: thesis;
end;
uniqueness;
end;
theorem
L366: (for B81 being Ordinal holds (for B82 being (bag of B81) holds (for B83 being  finite (Subset of B81) holds (for B84 , B85 being (FinSequence of ( NAT )) holds ((B84 = ( B82 * ( SgmX (( RelIncl B81 ) , ( support B82 )) ) ) & B85 = ( B82 * ( SgmX (( RelIncl B81 ) , ( ( support B82 ) \/ B83 )) ) )) implies ( Sum B84 ) = ( Sum B85 ))))))
proof
let C81 being Ordinal;
let C82 being (bag of C81);
let C83 being  finite (Subset of C81);
let C84 , C85 being (FinSequence of ( NAT ));
assume that
L367: C84 = ( C82 * ( SgmX (( RelIncl C81 ) , ( support C82 )) ) )
and
L368: C85 = ( C82 * ( SgmX (( RelIncl C81 ) , ( ( support C82 ) \/ C83 )) ) );
set D44 = ( support C82 );
set D45 = ( D44 \/ C83 );
set D46 = ( D45 \ D44 );
set D47 = ( SgmX (( RelIncl C81 ) , D44) );
set D48 = ( SgmX (( RelIncl C81 ) , D45) );
set D49 = ( SgmX (( RelIncl C81 ) , D46) );
set D50 = ( D47 ^ D49 );
set D51 = ( C82 * D50 );
L369: ( dom C82 ) = C81 by PARTFUN1:def 2;
L370: ( field ( RelIncl C81 ) ) = C81 by WELLORD2:def 1;
L371: ( RelIncl C81 ) is  being_linear-order by ORDERS_1:19;
L372: ( RelIncl C81 ) linearly_orders C81 by L370 , ORDERS_1:19 , ORDERS_1:37;
L373: ( RelIncl C81 ) linearly_orders D45 by L370 , L371 , ORDERS_1:37 , ORDERS_1:38;
L374: ( RelIncl C81 ) linearly_orders D44 by L370 , L371 , ORDERS_1:37 , ORDERS_1:38;
L375: ( RelIncl C81 ) linearly_orders D46 by L370 , L371 , ORDERS_1:37 , ORDERS_1:38;
L376: ( rng D48 ) = D45 by L373 , PRE_POLY:def 2;
L377: ( rng D47 ) = D44 by L374 , PRE_POLY:def 2;
L378: ( rng D49 ) = D46 by L375 , PRE_POLY:def 2;
L379: ( rng D50 ) = ( D44 \/ D46 ) by L378 , L377 , FINSEQ_1:31;
reconsider D52 = D51 as FinSequence by L379 , L369 , FINSEQ_1:16;
per cases ;
suppose L380: C81 = ( {} );

thus L381: thesis by L380 , L367 , L368;
end;
suppose L382: C81 <> ( {} );

reconsider D53 = C81 as non  empty Ordinal by L382;
reconsider D54 = D47 , D55 = D49 as (FinSequence of D53);
L383: ( rng C82 ) c= ( REAL );
reconsider D56 = C82 as (Function of D53 , ( REAL )) by L383 , L369 , FUNCT_2:2;
L384: ( rng D52 ) c= ( rng D56 ) by RELAT_1:26;
L385: ( rng D52 ) c= ( REAL ) by L384 , XBOOLE_1:1;
reconsider D57 = D52 as (FinSequence of ( REAL )) by L385 , FINSEQ_1:def 4;
reconsider D58 = C85 as (FinSequence of ( REAL )) by FINSEQ_2:24;
L386: D44 misses D46 by XBOOLE_1:79;
L387: D45 = ( ( D44 \/ D44 ) \/ C83 )
.= ( D44 \/ D45 ) by XBOOLE_1:4
.= ( D44 \/ D46 ) by XBOOLE_1:39;
L388: ( len D50 ) = ( ( len D54 ) + ( len D55 ) ) by FINSEQ_1:22
.= ( ( card D44 ) + ( len D55 ) ) by L372 , ORDERS_1:38 , PRE_POLY:11
.= ( ( card D44 ) + ( card D46 ) ) by L372 , ORDERS_1:38 , PRE_POLY:11
.= ( card D45 ) by L387 , CARD_2:40 , XBOOLE_1:79
.= ( len D48 ) by L372 , ORDERS_1:38 , PRE_POLY:11;
L389: ( dom D48 ) = ( dom D50 ) by L388 , FINSEQ_3:29;
L390: D48 is  one-to-one by L372 , ORDERS_1:38 , PRE_POLY:10;
L391: ( rng D54 ) = D44 by L374 , PRE_POLY:def 2;
L392: ( rng D55 ) = D46 by L375 , PRE_POLY:def 2;
L393: D54 is  one-to-one by L372 , ORDERS_1:38 , PRE_POLY:10;
L394: D55 is  one-to-one by L372 , ORDERS_1:38 , PRE_POLY:10;
L395: D50 is  one-to-one by L394 , L386 , L391 , L392 , L393 , FINSEQ_3:91;
L396: D58 , D57 are_fiberwise_equipotent  by L395 , L368 , L369 , L376 , L379 , L387 , L389 , L390 , CLASSES1:83 , RFINSEQ:26;
L397:
now
thus L398: ( dom D55 ) = ( dom ( D56 * D55 ) ) by L369 , L378 , RELAT_1:27;
L399: ( dom D55 ) = ( Seg ( len D55 ) ) by FINSEQ_1:def 3;
thus L400: ( dom D55 ) = ( dom ( ( len D55 ) |-> ( 0 ) ) ) by L399 , FUNCOP_1:13;
let C86 being set;
assume L401: C86 in ( dom D55 );
L402: ( D55 . C86 ) in ( rng D55 ) by L401 , FUNCT_1:3;
L403: (not ( D55 . C86 ) in D44) by L402 , L378 , XBOOLE_0:def 5;
L404: ( D56 . ( D55 . C86 ) ) = ( 0 ) by L403 , PRE_POLY:def 7;
thus L405: ( ( D56 * D55 ) . C86 ) = ( 0 ) by L404 , L401 , FUNCT_1:13
.= ( ( ( len D55 ) |-> ( 0 ) ) . C86 ) by L399 , L401 , FUNCOP_1:7;
end;
L406: ( D56 * D55 ) = ( ( len D55 ) |-> (( 0 ) qua Real) ) by L397 , FUNCT_1:2;
L407: D57 = ( ( D56 * D54 ) ^ ( D56 * D55 ) ) by FINSEQOP:9;
L408: ( Sum D57 ) = ( ( Sum ( D56 * D54 ) ) + ( Sum ( D56 * D55 ) ) ) by L407 , RVSUM_1:75
.= ( ( Sum C84 ) + (( 0 ) qua Nat) ) by L367 , L406 , RVSUM_1:81;
thus L409: thesis by L408 , L396 , RFINSEQ:9;
end;
end;
theorem
L411: (for B86 being Ordinal holds (for B87 , B88 being (bag of B86) holds ( TotDegree ( B87 + B88 ) ) = ( ( TotDegree B87 ) + ( TotDegree B88 ) )))
proof
let C87 being Ordinal;
let C88 , C89 being (bag of C87);
L412: ( field ( RelIncl C87 ) ) = C87 by WELLORD2:def 1;
L413: ( RelIncl C87 ) is  being_linear-order by ORDERS_1:19;
consider C90 being (FinSequence of ( NAT )) such that L414: ( TotDegree ( C88 + C89 ) ) = ( Sum C90 ) and L415: C90 = ( ( C88 + C89 ) * ( SgmX (( RelIncl C87 ) , ( support ( C88 + C89 ) )) ) ) by L360;
consider C91 being (FinSequence of ( NAT )) such that L416: ( TotDegree C88 ) = ( Sum C91 ) and L417: C91 = ( C88 * ( SgmX (( RelIncl C87 ) , ( support C88 )) ) ) by L360;
consider C92 being (FinSequence of ( NAT )) such that L418: ( TotDegree C89 ) = ( Sum C92 ) and L419: C92 = ( C89 * ( SgmX (( RelIncl C87 ) , ( support C89 )) ) ) by L360;
reconsider D59 = C90 as (FinSequence of ( REAL )) by FINSEQ_2:24;
set D60 = ( ( support C88 ) \/ ( support C89 ) );
reconsider D61 = D60 as  finite (Subset of C87);
set D62 = ( SgmX (( RelIncl C87 ) , D61) );
set D63 = ( C88 * D62 );
set D64 = ( C89 * D62 );
L420: ( RelIncl C87 ) linearly_orders D61 by L412 , L413 , ORDERS_1:37 , ORDERS_1:38;
L421: ( rng D62 ) = D61 by L420 , PRE_POLY:def 2;
L422: ( support ( C88 + C89 ) ) = D61 by PRE_POLY:38;
L423: ( dom C88 ) = C87 by PARTFUN1:def 2;
L424: ( dom C89 ) = C87 by PARTFUN1:def 2;
reconsider D65 = D63 , D66 = D64 as FinSequence by L424 , L421 , L423 , FINSEQ_1:16;
L425: ( rng D65 ) c= ( rng C88 ) by RELAT_1:26;
L426: ( rng D66 ) c= ( rng C89 ) by RELAT_1:26;
L427: ( rng D65 ) c= ( NAT ) by VALUED_0:def 6;
L428: ( rng D66 ) c= ( NAT ) by VALUED_0:def 6;
L429: ( rng D65 ) c= ( REAL ) by L425 , XBOOLE_1:1;
L430: ( rng D66 ) c= ( REAL ) by L426 , XBOOLE_1:1;
reconsider D67 = D65 , D68 = D66 as (FinSequence of ( REAL )) by L430 , L429 , FINSEQ_1:def 4;
reconsider D69 = D67 , D70 = D68 as (FinSequence of ( NAT )) by L427 , L428 , FINSEQ_1:def 4;
set D71 = ( len C90 );
L431: ( dom ( C88 + C89 ) ) = C87 by PARTFUN1:def 2;
L432: ( Seg D71 ) = ( dom C90 ) by FINSEQ_1:def 3
.= ( dom D62 ) by L415 , L421 , L422 , L431 , RELAT_1:27;
L433: ( Seg D71 ) = ( dom D67 ) by L432 , L421 , L423 , RELAT_1:27;
L434: ( Seg D71 ) = ( dom D68 ) by L421 , L424 , L432 , RELAT_1:27;
L435: ( Sum C91 ) = ( Sum D69 ) by L417 , L366;
L436: ( Sum C92 ) = ( Sum D70 ) by L419 , L366;
L437: ( len D67 ) = ( len D68 ) by L433 , L434 , FINSEQ_3:29;
L438: ( len ( D67 + D68 ) ) = ( len D67 ) by L437 , INTEGRA5:2;
L439: ( Seg D71 ) = ( dom ( D67 + D68 ) ) by L438 , L433 , FINSEQ_3:29;
reconsider D72 = D67 as  natural-valued (ManySortedSet of ( Seg D71 )) by L433 , PARTFUN1:def 2 , RELAT_1:def 18;
L440:
now
thus L441: ( Seg D71 ) = ( dom D59 ) by FINSEQ_1:def 3;
thus L442: ( Seg D71 ) = ( dom ( D67 + D68 ) ) by L433 , L438 , FINSEQ_3:29;
let C93 being Nat;
assume that
L443: C93 in ( Seg D71 );
reconsider D73 = C93 as Nat;
reconsider D74 = ( D67 . D73 ) , D75 = ( D68 . D73 ) as Real;
thus L444: ( D59 . C93 ) = ( ( C88 + C89 ) . ( ( SgmX (( RelIncl C87 ) , ( support ( C88 + C89 ) )) ) . C93 ) ) by L415 , L422 , L432 , L443 , FUNCT_1:13
.= ( ( C88 . ( ( SgmX (( RelIncl C87 ) , ( support ( C88 + C89 ) )) ) . C93 ) ) + ( C89 . ( ( SgmX (( RelIncl C87 ) , ( support ( C88 + C89 ) )) ) . C93 ) ) ) by PRE_POLY:def 5
.= ( ( D72 . C93 ) + ( C89 . ( ( SgmX (( RelIncl C87 ) , ( support ( C88 + C89 ) )) ) . C93 ) ) ) by L422 , L432 , L443 , FUNCT_1:13
.= ( D74 + D75 ) by L422 , L432 , L443 , FUNCT_1:13
.= ( ( D67 + D68 ) . C93 ) by L439 , L443 , VALUED_1:def 1;
end;
L445: D59 = ( D67 + D68 ) by L440 , FINSEQ_1:13;
thus L446: thesis by L445 , L414 , L416 , L418 , L435 , L436 , L437 , INTEGRA5:2;
end;
theorem
L447: (for B89 being Ordinal holds (for B90 , B91 being (bag of B89) holds (B91 divides B90 implies ( TotDegree ( B90 -' B91 ) ) = ( ( TotDegree B90 ) - ( TotDegree B91 ) ))))
proof
let C94 being Ordinal;
let C95 , C96 being (bag of C94);
assume L448: C96 divides C95;
L449: ( ( C95 -' C96 ) + C96 ) = C95 by L448 , PRE_POLY:47;
L450: ( TotDegree ( ( C95 -' C96 ) + C96 ) ) = ( ( TotDegree ( C95 -' C96 ) ) + ( TotDegree C96 ) ) by L411;
thus L451: thesis by L450 , L449;
end;
theorem
L452: (for B92 being Ordinal holds (for B93 being (bag of B92) holds (( TotDegree B93 ) = ( 0 ) iff B93 = ( EmptyBag B92 ))))
proof
let C97 being Ordinal;
let C98 being (bag of C97);
L453: ( field ( RelIncl C97 ) ) = C97 by WELLORD2:def 1;
L454: ( RelIncl C97 ) is  being_linear-order by ORDERS_1:19;
L455: ( RelIncl C97 ) linearly_orders ( support C98 ) by L454 , L453 , ORDERS_1:37 , ORDERS_1:38;
L456: ( dom C98 ) = C97 by PARTFUN1:def 2;
thus L457:now
assume L458: ( TotDegree C98 ) = ( 0 );
consider C99 being (FinSequence of ( NAT )) such that L459: ( TotDegree C98 ) = ( Sum C99 ) and L460: C99 = ( C98 * ( SgmX (( RelIncl C97 ) , ( support C98 )) ) ) by L360;
L461: C99 = ( ( len C99 ) |-> ( 0 ) ) by L458 , L459 , L35;
L462:
now
let C100 being set;
assume that
L463: C100 in ( dom C98 )
and
L464: ( C98 . C100 ) <> ( 0 );
L465: ( rng ( SgmX (( RelIncl C97 ) , ( support C98 )) ) ) = ( support C98 ) by L455 , PRE_POLY:def 2;
L466: C100 in ( support C98 ) by L464 , PRE_POLY:def 7;
consider C101 being set such that L467: C101 in ( dom ( SgmX (( RelIncl C97 ) , ( support C98 )) ) ) and L468: ( ( SgmX (( RelIncl C97 ) , ( support C98 )) ) . C101 ) = C100 by L466 , L465 , FUNCT_1:def 3;
L469: C101 in ( dom C99 ) by L456 , L460 , L465 , L467 , RELAT_1:27;
L470: C101 in ( Seg ( len C99 ) ) by L469 , L461 , FUNCOP_1:13;
L471: ( C99 . C101 ) = ( 0 ) by L470 , L461 , FUNCOP_1:7;
thus L472: contradiction by L471 , L460 , L464 , L467 , L468 , FUNCT_1:13;
end;
L473: C98 = ( C97 --> ( 0 ) ) by L462 , L456 , FUNCOP_1:11;
thus L474: C98 = ( EmptyBag C97 ) by L473 , PRE_POLY:def 13;
end;
assume L475: C98 = ( EmptyBag C97 );
L476: C98 = ( C97 --> ( 0 ) ) by L475 , PRE_POLY:def 13;
L477: (ex B94 being (FinSequence of ( NAT )) st (( TotDegree C98 ) = ( Sum B94 ) & B94 = ( C98 * ( SgmX (( RelIncl C97 ) , ( support C98 )) ) ))) by L360;
L478:
now
assume L479: ( support C98 ) <> ( {} );
consider C102 being set such that L480: C102 in ( support C98 ) by L479 , XBOOLE_0:def 1;
L481: ( C98 . C102 ) = ( 0 ) by L476 , L480 , FUNCOP_1:7;
thus L482: contradiction by L481 , L480 , PRE_POLY:def 7;
end;
L483: ( rng ( SgmX (( RelIncl C97 ) , ( support C98 )) ) ) = ( {} ) by L478 , L455 , PRE_POLY:def 2;
L484: ( dom ( SgmX (( RelIncl C97 ) , ( support C98 )) ) ) = ( {} ) by L483 , RELAT_1:42;
L485: ( dom ( C98 * ( SgmX (( RelIncl C97 ) , ( support C98 )) ) ) ) = ( {} ) by L484 , RELAT_1:25 , XBOOLE_1:3;
thus L486: thesis by L485 , L477 , RELAT_1:41 , RVSUM_1:72;
end;
theorem
L487: (for B95 , B96 , B97 being Nat holds ( (B95 , B96) -cut ( EmptyBag B97 ) ) = ( EmptyBag ( B96 -' B95 ) ))
proof
let C103 , C104 , C105 being Nat;
set D76 = ( (C103 , C104) -cut ( EmptyBag C105 ) );
L488: ( dom D76 ) = ( C104 -' C103 ) by PARTFUN1:def 2;
L489:
now
let C106 being set;
per cases ;
suppose L490: C106 in ( dom D76 );

L491: ( C104 -' C103 ) = { B98 where B98 is (Element of ( NAT )) : B98 < ( C104 -' C103 ) } by AXIOMS:4;
L492: (ex B99 being (Element of ( NAT )) st (C106 = B99 & B99 < ( C104 -' C103 ))) by L491 , L488 , L490;
reconsider D77 = C106 as (Element of ( NAT )) by L492;
L493: ( D76 . C106 ) = ( ( EmptyBag C105 ) . ( C103 + D77 ) ) by L490 , L50
.= ( 0 ) by PRE_POLY:52;
thus L494: ( D76 . C106 ) <= ( ( EmptyBag ( C104 -' C103 ) ) . C106 ) by L493;
end;
suppose L495: (not C106 in ( dom D76 ));

thus L496: ( D76 . C106 ) <= ( ( EmptyBag ( C104 -' C103 ) ) . C106 ) by L495 , FUNCT_1:def 2;
end;
end;
L498: D76 divides ( EmptyBag ( C104 -' C103 ) ) by L489 , PRE_POLY:def 11;
thus L499: thesis by L498 , PRE_POLY:58;
end;
theorem
L500: (for B100 , B101 , B102 being Nat holds (for B103 , B104 being (bag of B102) holds ( (B100 , B101) -cut ( B103 + B104 ) ) = ( ( (B100 , B101) -cut B103 ) + ( (B100 , B101) -cut B104 ) )))
proof
let C107 , C108 , C109 being Nat;
let C110 , C111 being (bag of C109);
set D78 = ( (C107 , C108) -cut ( C110 + C111 ) );
set D79 = ( (C107 , C108) -cut C110 );
set D80 = ( (C107 , C108) -cut C111 );
L501:
now
let C112 being set;
assume that
L502: C112 in ( C108 -' C107 );
L503: ( C108 -' C107 ) = { B105 where B105 is (Element of ( NAT )) : B105 < ( C108 -' C107 ) } by AXIOMS:4;
L504: (ex B106 being (Element of ( NAT )) st (B106 = C112 & B106 < ( C108 -' C107 ))) by L503 , L502;
reconsider D81 = C112 as (Element of ( NAT )) by L504;
L505: ( D78 . C112 ) = ( ( C110 + C111 ) . ( C107 + D81 ) ) by L502 , L50;
L506: ( D78 . C112 ) = ( ( C110 . ( C107 + D81 ) ) + ( C111 . ( C107 + D81 ) ) ) by L505 , PRE_POLY:def 5;
L507: ( D79 . C112 ) = ( C110 . ( C107 + D81 ) ) by L502 , L50;
L508: ( D80 . C112 ) = ( C111 . ( C107 + D81 ) ) by L502 , L50;
thus L509: ( D78 . C112 ) = ( ( D79 + D80 ) . C112 ) by L508 , L506 , L507 , PRE_POLY:def 5;
end;
thus L510: thesis by L501 , PBOOLE:3;
end;
theorem
L511: (for B107 being set holds ( support ( EmptyBag B107 ) ) = ( {} ))
proof
let C113 being set;
assume L512: (not thesis);
consider C114 being set such that L513: C114 in ( support ( EmptyBag C113 ) ) by L512 , XBOOLE_0:def 1;
L514: ( ( EmptyBag C113 ) . C114 ) <> ( 0 ) by L513 , PRE_POLY:def 7;
thus L515: contradiction by L514 , PRE_POLY:52;
end;
theorem
L516: (for B108 being set holds (for B109 being (bag of B108) holds (( support B109 ) = ( {} ) implies B109 = ( EmptyBag B108 ))))
proof
let C115 being set;
let C116 being (bag of C115);
assume that
L517: ( support C116 ) = ( {} )
and
L518: C116 <> ( EmptyBag C115 );
L519: ( dom C116 ) = C115 by PARTFUN1:def 2;
L520: ( dom ( EmptyBag C115 ) ) = C115 by PARTFUN1:def 2;
consider C117 being set such that L521: C117 in C115 and L522: ( C116 . C117 ) <> ( ( EmptyBag C115 ) . C117 ) by L520 , L518 , L519 , FUNCT_1:2;
L523: ( C116 . C117 ) <> ( 0 ) by L522 , PRE_POLY:52;
thus L524: contradiction by L523 , L517 , PRE_POLY:def 7;
end;
theorem
L525: (for B110 , B111 being Ordinal holds (for B112 being (bag of B110) holds (B111 in B110 implies ( B112 | B111 ) is (bag of B111))))
proof
let C118 , C119 being Ordinal;
let C120 being (bag of C118);
assume L526: C119 in C118;
L527: C119 c= C118 by L526 , ORDINAL1:def 2;
L528: ( dom C120 ) = C118 by PARTFUN1:def 2;
L529: ( dom ( C120 | C119 ) ) = C119 by L528 , L527 , RELAT_1:62;
thus L530: thesis by L529 , PARTFUN1:def 2;
end;
theorem
L531: (for B113 being Ordinal holds (for B114 , B115 being (bag of B113) holds (B115 divides B114 implies ( support B115 ) c= ( support B114 ))))
proof
let C121 being Ordinal;
let C122 , C123 being (bag of C121);
assume that
L532: C123 divides C122;
let C124 being set;
assume L533: C124 in ( support C123 );
L534: ( C123 . C124 ) <> ( 0 ) by L533 , PRE_POLY:def 7;
L535: ( C122 . C124 ) <> ( 0 ) by L534 , L532 , PRE_POLY:def 11;
thus L536: thesis by L535 , PRE_POLY:def 7;
end;
begin
definition
let C125 being set;
mode TermOrder of C125
 is (Order of ( Bags C125 ));
end;
notation
let C126 being Ordinal;
synonym LexOrder C126 for BagOrder C126;
end;
definition
let C127 being Ordinal;
let C128 being (TermOrder of C127);
attr C128 is  admissible
means
:L539: (C128 is_strongly_connected_in ( Bags C127 ) & (for B116 being (bag of C127) holds [ ( EmptyBag C127 ) , B116 ] in C128) & (for B117 , B118 , B119 being (bag of C127) holds ([ B117 , B118 ] in C128 implies [ ( B117 + B119 ) , ( B118 + B119 ) ] in C128)));
end;
theorem
L541: (for B120 being Ordinal holds ( LexOrder B120 ) is  admissible)
proof
let C129 being Ordinal;
L542:
now
let C130 , C131 being set;
assume that
L543: C130 in ( Bags C129 )
and
L544: C131 in ( Bags C129 );
reconsider D82 = C130 , D83 = C131 as (bag of C129) by L543 , L544;
L545: (D82 <=' D83 or D83 <=' D82) by PRE_POLY:45;
thus L546: ([ C130 , C131 ] in ( BagOrder C129 ) or [ C131 , C130 ] in ( BagOrder C129 )) by L545 , PRE_POLY:def 14;
end;
thus L547: ( LexOrder C129 ) is_strongly_connected_in ( Bags C129 ) by L542 , RELAT_2:def 7;
L548:
now
let C132 being (bag of C129);
L549: ( EmptyBag C129 ) <=' C132 by PRE_POLY:60;
thus L550: [ ( EmptyBag C129 ) , C132 ] in ( BagOrder C129 ) by L549 , PRE_POLY:def 14;
end;
thus L551: (for B121 being (bag of C129) holds [ ( EmptyBag C129 ) , B121 ] in ( LexOrder C129 )) by L548;
L552:
now
let C133 , C134 , C135 being (bag of C129);
assume L553: [ C133 , C134 ] in ( BagOrder C129 );
L554: C133 <=' C134 by L553 , PRE_POLY:def 14;
L555:
now
per cases  by L554 , PRE_POLY:def 10;
suppose L556: C133 < C134;

consider C136 being Ordinal such that L557: ( C133 . C136 ) < ( C134 . C136 ) and L558: (for B122 being Ordinal holds (B122 in C136 implies ( C133 . B122 ) = ( C134 . B122 ))) by L556 , PRE_POLY:def 9;
L559:
now
take D84 = C136;
L560: ( ( C133 + C135 ) . D84 ) = ( ( C133 . D84 ) + ( C135 . D84 ) ) by PRE_POLY:def 5;
L561: ( ( C134 + C135 ) . D84 ) = ( ( C134 . D84 ) + ( C135 . D84 ) ) by PRE_POLY:def 5;
thus L562: ( ( C133 + C135 ) . D84 ) < ( ( C134 + C135 ) . D84 ) by L561 , L557 , L560 , XREAL_1:6;
let C137 being Ordinal;
assume that
L563: C137 in D84;
L564: ( ( C133 + C135 ) . C137 ) = ( ( C133 . C137 ) + ( C135 . C137 ) ) by PRE_POLY:def 5;
L565: ( ( C134 + C135 ) . C137 ) = ( ( C134 . C137 ) + ( C135 . C137 ) ) by PRE_POLY:def 5;
thus L566: ( ( C133 + C135 ) . C137 ) = ( ( C134 + C135 ) . C137 ) by L565 , L558 , L563 , L564;
end;
L567: ( C133 + C135 ) < ( C134 + C135 ) by L559 , PRE_POLY:def 9;
thus L568: ( C133 + C135 ) <=' ( C134 + C135 ) by L567 , PRE_POLY:def 10;
end;
suppose L569: C133 = C134;

thus L570: ( C133 + C135 ) <=' ( C134 + C135 ) by L569;
end;
end;
thus L572: [ ( C133 + C135 ) , ( C134 + C135 ) ] in ( BagOrder C129 ) by L555 , PRE_POLY:def 14;
end;
thus L573: thesis by L552;
end;
registration
let C138 being Ordinal;
cluster  admissible for (TermOrder of C138);
existence
proof
L574: ( LexOrder C138 ) is  admissible by L541;
thus L575: thesis by L574;
end;
end;
registration
let C139 being Ordinal;
cluster ( LexOrder C139 ) ->  admissible;
coherence by L541;
end;
theorem
L578: (for B123 being  infinite Ordinal holds ( LexOrder B123 ) is non  well-ordering)
proof
let C140 being  infinite Ordinal;
set D85 = ( LexOrder C140 );
set D86 = RelStr (# ( Bags C140 ) , D85 #);
set D87 = (the InternalRel of D86);
set D88 = (the carrier of D86);
assume L579: D85 is  well-ordering;
L580: D85 is  well_founded by L579;
L581: D88 = ( field D87 ) by ORDERS_1:15;
L582: D87 is_well_founded_in D88 by L581 , L580 , WELLORD1:3;
L583: D86 is  well_founded by L582 , WELLFND1:def 2;
defpred S6[ set , set ] means $2 = ( ( C140 --> ( 0 ) ) +* ($1 , 1) );
L584:
now
let C141 being (Element of ( NAT ));
set D89 = ( ( C140 --> ( 0 ) ) +* (C141 , 1) );
L585: ( dom ( C140 --> ( 0 ) ) ) = C140 by FUNCOP_1:13;
reconsider D90 = D89 as (ManySortedSet of C140);
L586: C141 in ( omega );
L587: ( omega ) c= C140 by CARD_3:85;
L588:
now
let C142 being set;
thus L589:now
assume L590: C142 in { C141 };
L591: C142 = C141 by L590 , TARSKI:def 1;
thus L592: ( D90 . C142 ) <> ( 0 ) by L591 , L585 , L586 , L587 , FUNCT_7:31;
end;
assume that
L593: ( D90 . C142 ) <> ( 0 )
and
L594: (not C142 in { C141 });
L595: C142 <> C141 by L594 , TARSKI:def 1;
L596: ( D90 . C142 ) = ( ( C140 --> ( 0 ) ) . C142 ) by L595 , FUNCT_7:32;
per cases ;
suppose L597: C142 in ( dom ( C140 --> ( 0 ) ) );

thus L598: contradiction by L597 , L593 , L596 , FUNCOP_1:7;
end;
suppose L599: (not C142 in ( dom ( C140 --> ( 0 ) ) ));

thus L600: contradiction by L599 , L593 , L596 , FUNCT_1:def 2;
end;
end;
L602: ( support D90 ) = { C141 } by L588 , PRE_POLY:def 7;
L603: D90 is  finite-support by L602 , PRE_POLY:def 8;
reconsider D91 = D90 as (Element of D88) by L603 , PRE_POLY:def 12;
take D92 = D91;
thus L604: S6[ C141 , D92 ];
end;
consider C143 being (Function of ( NAT ) , D88) such that L605: (for B124 being (Element of ( NAT )) holds S6[ B124 , ( C143 . B124 ) ]) from FUNCT_2:sch 3(L584);
reconsider D93 = C143 as (sequence of D86);
L606: D93 is  descending
proof
let C144 being Nat;
reconsider D94 = C144 as (Element of ( NAT )) by ORDINAL1:def 12;
set D95 = ( D93 . ( D94 + 1 ) );
set D96 = ( D93 . D94 );
L607: D95 = ( ( C140 --> ( 0 ) ) +* (( C144 + 1 ) , 1) ) by L605;
L608: D96 = ( ( C140 --> ( 0 ) ) +* (C144 , 1) ) by L605;
reconsider D97 = D95 as (bag of C140);
reconsider D98 = D96 as (bag of C140);
L609: D94 in ( omega );
L610: ( omega ) c= C140 by CARD_3:85;
L611: C144 <> ( C144 + 1 );
L612: ( D97 . C144 ) = ( ( C140 --> ( 0 ) ) . C144 ) by L611 , L607 , FUNCT_7:32
.= ( 0 ) by L609 , L610 , FUNCOP_1:7;
L613: ( dom ( C140 --> ( 0 ) ) ) = C140 by FUNCOP_1:13;
L614: ( D98 . C144 ) = 1 by L613 , L608 , L609 , L610 , FUNCT_7:31;
L615:
now
let C145 being Ordinal;
assume L616: C145 in C144;
L617: C145 <> C144 by L616;
L618: C144 < ( C144 + 1 ) by NAT_1:13;
L619: C144 in { B125 where B125 is (Element of ( NAT )) : B125 < ( D94 + 1 ) } by L618;
L620: C144 in ( C144 + 1 ) by L619 , AXIOMS:4;
L621: C144 c= ( C144 + 1 ) by L620 , ORDINAL1:def 2;
L622: C145 in ( C144 + 1 ) by L621 , L616;
L623: C145 <> ( C144 + 1 ) by L622;
thus L624: ( D97 . C145 ) = ( ( C140 --> ( 0 ) ) . C145 ) by L623 , L607 , FUNCT_7:32
.= ( D98 . C145 ) by L608 , L617 , FUNCT_7:32;
end;
L625: D97 < D98 by L615 , L612 , L614 , PRE_POLY:def 9;
thus L626: ( D93 . ( C144 + 1 ) ) <> ( D93 . C144 ) by L608 , L609 , L610 , L612 , L613 , FUNCT_7:31;
L627: D97 <=' D98 by L625 , PRE_POLY:def 10;
thus L628: [ ( D93 . ( C144 + 1 ) ) , ( D93 . C144 ) ] in D87 by L627 , PRE_POLY:def 14;
end;
thus L629: contradiction by L606 , L583 , WELLFND1:14;
end;
definition
let C146 being Ordinal;
func InvLexOrder C146 -> (TermOrder of C146) means 
:L630: (for B126 , B127 being (bag of C146) holds ([ B126 , B127 ] in it iff (B126 = B127 or (ex B128 being Ordinal st (B128 in C146 & ( B126 . B128 ) < ( B127 . B128 ) & (for B129 being Ordinal holds ((B128 in B129 & B129 in C146) implies ( B126 . B129 ) = ( B127 . B129 ))))))));
existence
proof
defpred S7[ set , set ] means ($1 = $2 or (ex B130 , B131 being (Element of ( Bags C146 )) st ($1 = B130 & $2 = B131 & (ex B132 being Ordinal st (B132 in C146 & ( B130 . B132 ) < ( B131 . B132 ) & (for B133 being Ordinal holds ((B132 in B133 & B133 in C146) implies ( B130 . B133 ) = ( B131 . B133 ))))))));
consider C147 being (Relation of ( Bags C146 ) , ( Bags C146 )) such that L631: (for B134 , B135 being set holds ([ B134 , B135 ] in C147 iff (B134 in ( Bags C146 ) & B135 in ( Bags C146 ) & S7[ B134 , B135 ]))) from RELSET_1:sch 1;
L632: C147 is_reflexive_in ( Bags C146 )
proof
let C148 being set;
assume L633: C148 in ( Bags C146 );
thus L634: thesis by L633 , L631;
end;
L635: C147 is_antisymmetric_in ( Bags C146 )
proof
let C149 , C150 being set;
assume that
L636: C149 in ( Bags C146 )
and
L637: C150 in ( Bags C146 )
and
L638: [ C149 , C150 ] in C147
and
L639: [ C150 , C149 ] in C147;
per cases ;
suppose L640: C149 = C150;

thus L641: thesis by L640;
end;
suppose L642: (not C149 = C150);

consider C151 , C152 being (Element of ( Bags C146 )) such that L643: C149 = C151 and L644: C150 = C152 and L645: (ex B136 being Ordinal st (B136 in C146 & ( C151 . B136 ) < ( C152 . B136 ) & (for B137 being Ordinal holds ((B136 in B137 & B137 in C146) implies ( C151 . B137 ) = ( C152 . B137 ))))) by L642 , L631 , L638;
L646: (ex B138 , B139 being (Element of ( Bags C146 )) st (C150 = B138 & C149 = B139 & (ex B140 being Ordinal st (B140 in C146 & ( B138 . B140 ) < ( B139 . B140 ) & (for B141 being Ordinal holds ((B140 in B141 & B141 in C146) implies ( B138 . B141 ) = ( B139 . B141 ))))))) by L631 , L639 , L642;
consider C153 being Ordinal such that L647: C153 in C146 and L648: ( C152 . C153 ) < ( C151 . C153 ) and L649: (for B142 being Ordinal holds ((C153 in B142 & B142 in C146) implies ( C152 . B142 ) = ( C151 . B142 ))) by L646 , L643 , L644;
consider C154 being Ordinal such that L650: C154 in C146 and L651: ( C151 . C154 ) < ( C152 . C154 ) and L652: (for B143 being Ordinal holds ((C154 in B143 & B143 in C146) implies ( C151 . B143 ) = ( C152 . B143 ))) by L645;
L653:
now
per cases  by ORDINAL1:14;
suppose L654: C153 in C154;

thus L655: C153 = C154 by L654 , L649 , L650 , L651;
end;
suppose L656: C153 = C154;

thus L657: C153 = C154 by L656;
end;
suppose L658: C154 in C153;

thus L659: C153 = C154 by L658 , L647 , L648 , L652;
end;
end;
thus L661: thesis by L653 , L648 , L651;
end;
end;
L663: C147 is_transitive_in ( Bags C146 )
proof
let C155 , C156 , C157 being set;
assume that
L664: C155 in ( Bags C146 )
and
L665: C156 in ( Bags C146 )
and
L666: C157 in ( Bags C146 )
and
L667: [ C155 , C156 ] in C147
and
L668: [ C156 , C157 ] in C147;
per cases ;
suppose L669: C155 = C156;

thus L670: thesis by L669 , L668;
end;
suppose L671: C155 <> C156;

consider C158 , C159 being (Element of ( Bags C146 )) such that L672: C155 = C158 and L673: C156 = C159 and L674: (ex B144 being Ordinal st (B144 in C146 & ( C158 . B144 ) < ( C159 . B144 ) & (for B145 being Ordinal holds ((B144 in B145 & B145 in C146) implies ( C158 . B145 ) = ( C159 . B145 ))))) by L671 , L631 , L667;
consider C160 being Ordinal such that L675: C160 in C146 and L676: ( C158 . C160 ) < ( C159 . C160 ) and L677: (for B146 being Ordinal holds ((C160 in B146 & B146 in C146) implies ( C158 . B146 ) = ( C159 . B146 ))) by L674;
L678:
now
per cases ;
suppose L679: C156 = C157;

thus L680: thesis by L679 , L667;
end;
suppose L681: C156 <> C157;

consider C161 , C162 being (Element of ( Bags C146 )) such that L682: C156 = C161 and L683: C157 = C162 and L684: (ex B147 being Ordinal st (B147 in C146 & ( C161 . B147 ) < ( C162 . B147 ) & (for B148 being Ordinal holds ((B147 in B148 & B148 in C146) implies ( C161 . B148 ) = ( C162 . B148 ))))) by L681 , L631 , L668;
consider C163 being Ordinal such that L685: C163 in C146 and L686: ( C161 . C163 ) < ( C162 . C163 ) and L687: (for B149 being Ordinal holds ((C163 in B149 & B149 in C146) implies ( C161 . B149 ) = ( C162 . B149 ))) by L684;
L688:
now
per cases  by ORDINAL1:14;
suppose L689: C160 in C163;

L690: ( C158 . C163 ) < ( C162 . C163 ) by L689 , L673 , L677 , L682 , L685 , L686;
L691:
now
let C164 being Ordinal;
assume that
L692: C163 in C164
and
L693: C164 in C146;
L694: ( C159 . C164 ) = ( C162 . C164 ) by L673 , L682 , L687 , L692 , L693;
L695: C160 in C164 by L689 , L692 , ORDINAL1:10;
thus L696: ( C158 . C164 ) = ( C162 . C164 ) by L695 , L677 , L693 , L694;
end;
thus L697: thesis by L691 , L631 , L672 , L683 , L685 , L690;
end;
suppose L698: C160 = C163;

L699:
now
take D99 = C158;
take D100 = C162;
thus L700: (C155 = D99 & C157 = D100) by L672 , L683;
take D101 = C163;
thus L701: D101 in C146 by L685;
thus L702: ( D99 . D101 ) < ( D100 . D101 ) by L673 , L676 , L682 , L686 , L698 , XXREAL_0:2;
L703:
now
let C165 being Ordinal;
assume that
L704: D101 in C165
and
L705: C165 in C146;
L706: ( D99 . C165 ) = ( C159 . C165 ) by L677 , L698 , L704 , L705;
thus L707: ( D99 . C165 ) = ( D100 . C165 ) by L706 , L673 , L682 , L687 , L704 , L705;
end;
thus L708: (for B150 being Ordinal holds ((D101 in B150 & B150 in C146) implies ( D99 . B150 ) = ( D100 . B150 ))) by L703;
end;
thus L709: thesis by L699 , L631;
end;
suppose L710: C163 in C160;

L711: ( C158 . C160 ) < ( C162 . C160 ) by L710 , L673 , L675 , L676 , L682 , L687;
L712:
now
let C166 being Ordinal;
assume that
L713: C160 in C166
and
L714: C166 in C146;
L715: ( C158 . C166 ) = ( C159 . C166 ) by L677 , L713 , L714;
L716: C163 in C166 by L710 , L713 , ORDINAL1:10;
thus L717: ( C158 . C166 ) = ( C162 . C166 ) by L716 , L673 , L682 , L687 , L714 , L715;
end;
thus L718: thesis by L712 , L631 , L672 , L675 , L683 , L711;
end;
end;
thus L720: thesis by L688;
end;
end;
thus L722: thesis by L678;
end;
end;
L724: ( dom C147 ) = ( Bags C146 ) by L632 , ORDERS_1:13;
L725: ( field C147 ) = ( Bags C146 ) by L632 , ORDERS_1:13;
reconsider D102 = C147 as (TermOrder of C146) by L725 , L632 , L635 , L663 , L724 , PARTFUN1:def 2 , RELAT_2:def 9 , RELAT_2:def 12 , RELAT_2:def 16;
take D102;
let C167 , C168 being (bag of C146);
thus L726:now
assume L727: [ C167 , C168 ] in D102;
L728:
now
assume L729: C167 <> C168;
L730: (ex B151 , B152 being (Element of ( Bags C146 )) st (C167 = B151 & C168 = B152 & (ex B153 being Ordinal st (B153 in C146 & ( B151 . B153 ) < ( B152 . B153 ) & (for B154 being Ordinal holds ((B153 in B154 & B154 in C146) implies ( B151 . B154 ) = ( B152 . B154 ))))))) by L729 , L631 , L727;
thus L731: (ex B155 being Ordinal st (B155 in C146 & ( C167 . B155 ) < ( C168 . B155 ) & (for B156 being Ordinal holds ((B155 in B156 & B156 in C146) implies ( C167 . B156 ) = ( C168 . B156 ))))) by L730;
end;
thus L732: (C167 = C168 or (ex B157 being Ordinal st (B157 in C146 & ( C167 . B157 ) < ( C168 . B157 ) & (for B158 being Ordinal holds ((B157 in B158 & B158 in C146) implies ( C167 . B158 ) = ( C168 . B158 )))))) by L728;
end;
assume L733: (C167 = C168 or (ex B159 being Ordinal st (B159 in C146 & ( C167 . B159 ) < ( C168 . B159 ) & (for B160 being Ordinal holds ((B159 in B160 & B160 in C146) implies ( C167 . B160 ) = ( C168 . B160 ))))));
L734:
now
assume L735: C167 <> C168;
thus L736: (ex B161 , B162 being (Element of ( Bags C146 )) st (C167 = B161 & C168 = B162 & (ex B163 being Ordinal st (B163 in C146 & ( B161 . B163 ) < ( B162 . B163 ) & (for B164 being Ordinal holds ((B163 in B164 & B164 in C146) implies ( B161 . B164 ) = ( B162 . B164 )))))))
proof
reconsider D103 = C167 , D104 = C168 as (Element of ( Bags C146 )) by PRE_POLY:def 12;
take D103;
take D104;
thus L737: (C167 = D103 & C168 = D104);
thus L738: thesis by L733 , L735;
end;

end;
L737: C167 in ( Bags C146 ) by PRE_POLY:def 12;
thus L738: thesis by L737 , L631 , L734;
end;
uniqueness
proof
let C169 , C170 being (TermOrder of C146);
assume that
L739: (for B165 , B166 being (bag of C146) holds ([ B165 , B166 ] in C169 iff (B165 = B166 or (ex B167 being Ordinal st (B167 in C146 & ( B165 . B167 ) < ( B166 . B167 ) & (for B168 being Ordinal holds ((B167 in B168 & B168 in C146) implies ( B165 . B168 ) = ( B166 . B168 ))))))))
and
L740: (for B169 , B170 being (bag of C146) holds ([ B169 , B170 ] in C170 iff (B169 = B170 or (ex B171 being Ordinal st (B171 in C146 & ( B169 . B171 ) < ( B170 . B171 ) & (for B172 being Ordinal holds ((B171 in B172 & B172 in C146) implies ( B169 . B172 ) = ( B170 . B172 ))))))));
L741:
now
let C171 , C172 being set;
thus L742:now
assume L743: [ C171 , C172 ] in C169;
consider C173 , C174 being set such that L744: [ C171 , C172 ] = [ C173 , C174 ] and L745: C173 in ( Bags C146 ) and L746: C174 in ( Bags C146 ) by L743 , RELSET_1:2;
reconsider D105 = C173 , D106 = C174 as (bag of C146) by L745 , L746;
per cases ;
suppose L747: D105 = D106;

thus L748: [ C171 , C172 ] in C170 by L747 , L740 , L744;
end;
suppose L749: D105 <> D106;

L750: (ex B173 being Ordinal st (B173 in C146 & ( D105 . B173 ) < ( D106 . B173 ) & (for B174 being Ordinal holds ((B173 in B174 & B174 in C146) implies ( D105 . B174 ) = ( D106 . B174 ))))) by L749 , L739 , L743 , L744;
thus L751: [ C171 , C172 ] in C170 by L750 , L740 , L744;
end;
end;
assume L753: [ C171 , C172 ] in C170;
consider C175 , C176 being set such that L754: [ C171 , C172 ] = [ C175 , C176 ] and L755: C175 in ( Bags C146 ) and L756: C176 in ( Bags C146 ) by L753 , RELSET_1:2;
reconsider D107 = C175 , D108 = C176 as (bag of C146) by L755 , L756;
per cases ;
suppose L757: D107 = D108;

thus L758: [ C171 , C172 ] in C169 by L757 , L739 , L754;
end;
suppose L759: D107 <> D108;

L760: (ex B175 being Ordinal st (B175 in C146 & ( D107 . B175 ) < ( D108 . B175 ) & (for B176 being Ordinal holds ((B175 in B176 & B176 in C146) implies ( D107 . B176 ) = ( D108 . B176 ))))) by L759 , L740 , L753 , L754;
thus L761: [ C171 , C172 ] in C169 by L760 , L739 , L754;
end;
end;
thus L763: C169 = C170 by L741 , RELAT_1:def 2;
end;
end;
theorem
L765: (for B177 being Ordinal holds ( InvLexOrder B177 ) is  admissible)
proof
let C177 being Ordinal;
set D109 = ( InvLexOrder C177 );
L766:
now
let C178 , C179 being set;
assume that
L767: C178 in ( Bags C177 )
and
L768: C179 in ( Bags C177 );
reconsider D110 = C178 , D111 = C179 as (bag of C177) by L767 , L768;
L769:
now
assume L770: (not [ D110 , D111 ] in D109);
L771: D110 <> D111 by L770 , L630;
set D112 = ( SgmX (( RelIncl C177 ) , ( ( support D110 ) \/ ( support D111 ) )) );
L772: ( dom D110 ) = C177 by PARTFUN1:def 2;
L773: ( dom D111 ) = C177 by PARTFUN1:def 2;
L774: ( field ( RelIncl C177 ) ) = C177 by WELLORD2:def 1;
L775: ( RelIncl C177 ) is  being_linear-order by ORDERS_1:19;
L776: ( RelIncl C177 ) linearly_orders ( ( support D110 ) \/ ( support D111 ) ) by L775 , L774 , ORDERS_1:37 , ORDERS_1:38;
L777: ( rng D112 ) = ( ( support D110 ) \/ ( support D111 ) ) by L776 , PRE_POLY:def 2;
defpred S8[ Nat ] means ($1 in ( dom D112 ) & ( D111 . ( D112 . $1 ) ) <> ( D110 . ( D112 . $1 ) ));
L778: (for B178 being Nat holds (S8[ B178 ] implies B178 <= ( len D112 ))) by FINSEQ_3:25;
L779: (ex B179 being Nat st S8[ B179 ])
proof
assume L780: (not thesis);
L781:
now
let C180 being set;
assume L782: C180 in C177;
per cases ;
suppose L783: ( D110 . C180 ) <> ( 0 );

L784: C180 in ( support D110 ) by L783 , PRE_POLY:def 7;
L785: C180 in ( ( support D110 ) \/ ( support D111 ) ) by L784 , XBOOLE_0:def 3;
L786: (ex B180 being Nat st (B180 in ( dom D112 ) & ( D112 . B180 ) = C180)) by L785 , L777 , FINSEQ_2:10;
thus L787: ( D110 . C180 ) = ( D111 . C180 ) by L786 , L780;
end;
suppose L788: ( D111 . C180 ) <> ( 0 );

L789: C180 in ( support D111 ) by L788 , PRE_POLY:def 7;
L790: C180 in ( ( support D110 ) \/ ( support D111 ) ) by L789 , XBOOLE_0:def 3;
L791: (ex B181 being Nat st (B181 in ( dom D112 ) & ( D112 . B181 ) = C180)) by L790 , L777 , FINSEQ_2:10;
thus L792: ( D110 . C180 ) = ( D111 . C180 ) by L791 , L780;
end;
suppose L793: (( D110 . C180 ) = ( 0 ) & ( D111 . C180 ) = ( 0 ));

thus L794: ( D110 . C180 ) = ( D111 . C180 ) by L793;
end;
end;
thus L796: contradiction by L781 , L771 , L772 , L773 , FUNCT_1:2;
end;
consider C181 being Nat such that L797: S8[ C181 ] and L798: (for B182 being Nat holds (S8[ B182 ] implies B182 <= C181)) from NAT_1:sch 6(L778 , L779);
L799: ( D112 . C181 ) in ( rng D112 ) by L797 , FUNCT_1:3;
reconsider D113 = ( D112 . C181 ) as Ordinal by L799 , L777;
L800:
now
take D114 = D113;
thus L801: D114 in C177 by L777 , L799;
L802:
now
let C182 being Ordinal;
assume that
L803: D114 in C182
and
L804: C182 in C177
and
L805: ( D111 . C182 ) <> ( D110 . C182 );
L806:
now
assume that
L807: (not C182 in ( support D110 ))
and
L808: (not C182 in ( support D111 ));
L809: ( D110 . C182 ) = ( 0 ) by L807 , PRE_POLY:def 7;
thus L810: contradiction by L809 , L805 , L808 , PRE_POLY:def 7;
end;
L811: C182 in ( ( support D110 ) \/ ( support D111 ) ) by L806 , XBOOLE_0:def 3;
consider C183 being Nat such that L812: C183 in ( dom D112 ) and L813: ( D112 . C183 ) = C182 by L811 , L777 , FINSEQ_2:10;
L814: C183 <= C181 by L798 , L805 , L812 , L813;
L815: C183 <> C181 by L803 , L813;
L816: C183 < C181 by L815 , L814 , XXREAL_0:1;
L817: [ ( D112 /. C183 ) , ( D112 /. C181 ) ] in ( RelIncl C177 ) by L816 , L776 , L797 , L812 , PRE_POLY:def 2;
L818: [ ( D112 . C183 ) , ( D112 /. C181 ) ] in ( RelIncl C177 ) by L817 , L812 , PARTFUN1:def 6;
L819: [ ( D112 . C183 ) , ( D112 . C181 ) ] in ( RelIncl C177 ) by L818 , L797 , PARTFUN1:def 6;
L820: ( D112 . C183 ) c= ( D112 . C181 ) by L819 , L777 , L799 , L804 , L813 , WELLORD2:def 1;
thus L821: contradiction by L820 , L803 , L813 , ORDINAL1:5;
end;
L822: ( D111 . D114 ) <= ( D110 . D114 ) by L802 , L770 , L777 , L799 , L630;
thus L823: ( D111 . D114 ) < ( D110 . D114 ) by L822 , L797 , XXREAL_0:1;
thus L824: (for B183 being Ordinal holds ((D114 in B183 & B183 in C177) implies ( D111 . B183 ) = ( D110 . B183 ))) by L802;
end;
thus L825: [ D111 , D110 ] in D109 by L800 , L630;
end;
thus L826: ([ C178 , C179 ] in D109 or [ C179 , C178 ] in D109) by L769;
end;
thus L827: D109 is_strongly_connected_in ( Bags C177 ) by L766 , RELAT_2:def 7;
L828:
now
let C184 being (bag of C177);
per cases ;
suppose L829: ( EmptyBag C177 ) = C184;

thus L830: [ ( EmptyBag C177 ) , C184 ] in D109 by L829 , L630;
end;
suppose L831: ( EmptyBag C177 ) <> C184;

set D115 = ( SgmX (( RelIncl C177 ) , ( support C184 )) );
L832: ( field ( RelIncl C177 ) ) = C177 by WELLORD2:def 1;
L833: ( RelIncl C177 ) is  being_linear-order by ORDERS_1:19;
L834: ( RelIncl C177 ) linearly_orders ( support C184 ) by L833 , L832 , ORDERS_1:37 , ORDERS_1:38;
L835: ( rng D115 ) = ( support C184 ) by L834 , PRE_POLY:def 2;
L836: ( rng D115 ) <> ( {} ) by L835 , L831 , L516;
L837: ( len D115 ) in ( dom D115 ) by L836 , FINSEQ_5:6 , RELAT_1:38;
L838: ( D115 . ( len D115 ) ) in ( rng D115 ) by L837 , FUNCT_1:3;
reconsider D116 = ( D115 . ( len D115 ) ) as Ordinal by L838 , L835;
L839:
now
take D117 = D116;
thus L840: D117 in C177 by L835 , L838;
L841: ( C184 . D117 ) <> ( 0 ) by L835 , L838 , PRE_POLY:def 7;
L842: ( ( EmptyBag C177 ) . D117 ) = ( 0 ) by PRE_POLY:52;
thus L843: ( ( EmptyBag C177 ) . D117 ) < ( C184 . D117 ) by L842 , L841;
let C185 being Ordinal;
assume that
L844: D117 in C185
and
L845: C185 in C177;
L846: D117 c= C185 by L844 , ORDINAL1:def 2;
L847:
now
assume L848: ( ( EmptyBag C177 ) . C185 ) <> ( C184 . C185 );
L849: ( C184 . C185 ) <> ( 0 ) by L848 , PRE_POLY:52;
L850: C185 in ( support C184 ) by L849 , PRE_POLY:def 7;
consider C186 being Nat such that L851: C186 in ( dom D115 ) and L852: ( D115 . C186 ) = C185 by L850 , L835 , FINSEQ_2:10;
L853: C186 <= ( len D115 ) by L851 , FINSEQ_3:25;
per cases  by L853 , XXREAL_0:1;
suppose L854: C186 = ( len D115 );

thus L855: contradiction by L854 , L844 , L852;
end;
suppose L856: C186 < ( len D115 );

L857: [ ( D115 /. C186 ) , ( D115 /. ( len D115 ) ) ] in ( RelIncl C177 ) by L856 , L834 , L837 , L851 , PRE_POLY:def 2;
L858: [ ( D115 . C186 ) , ( D115 /. ( len D115 ) ) ] in ( RelIncl C177 ) by L857 , L851 , PARTFUN1:def 6;
L859: [ ( D115 . C186 ) , ( D115 . ( len D115 ) ) ] in ( RelIncl C177 ) by L858 , L837 , PARTFUN1:def 6;
L860: C185 c= D117 by L859 , L835 , L838 , L845 , L852 , WELLORD2:def 1;
L861: D117 = C185 by L860 , L846 , XBOOLE_0:def 10;
thus L862: contradiction by L861 , L844;
end;
end;
thus L864: ( ( EmptyBag C177 ) . C185 ) = ( C184 . C185 ) by L847;
end;
thus L865: [ ( EmptyBag C177 ) , C184 ] in D109 by L839 , L630;
end;
end;
thus L867: (for B184 being (bag of C177) holds [ ( EmptyBag C177 ) , B184 ] in D109) by L828;
L868:
now
let C187 , C188 , C189 being (bag of C177);
assume that
L869: [ C187 , C188 ] in D109;
per cases ;
suppose L870: C187 = C188;

L871: ( C187 + C189 ) in ( Bags C177 ) by PRE_POLY:def 12;
thus L872: [ ( C187 + C189 ) , ( C188 + C189 ) ] in D109 by L871 , L870 , ORDERS_1:3;
end;
suppose L873: C187 <> C188;

consider C190 being Ordinal such that L874: C190 in C177 and L875: ( C187 . C190 ) < ( C188 . C190 ) and L876: (for B185 being Ordinal holds ((C190 in B185 & B185 in C177) implies ( C187 . B185 ) = ( C188 . B185 ))) by L873 , L869 , L630;
L877:
now
take D118 = C190;
thus L878: D118 in C177 by L874;
L879: ( ( C187 + C189 ) . D118 ) = ( ( C187 . D118 ) + ( C189 . D118 ) ) by PRE_POLY:def 5;
L880: ( ( C188 + C189 ) . D118 ) = ( ( C188 . D118 ) + ( C189 . D118 ) ) by PRE_POLY:def 5;
thus L881: ( ( C187 + C189 ) . D118 ) < ( ( C188 + C189 ) . D118 ) by L880 , L875 , L879 , XREAL_1:6;
let C191 being Ordinal;
assume that
L882: D118 in C191
and
L883: C191 in C177;
L884: ( ( C187 + C189 ) . C191 ) = ( ( C187 . C191 ) + ( C189 . C191 ) ) by PRE_POLY:def 5;
L885: ( ( C188 + C189 ) . C191 ) = ( ( C188 . C191 ) + ( C189 . C191 ) ) by PRE_POLY:def 5;
thus L886: ( ( C187 + C189 ) . C191 ) = ( ( C188 + C189 ) . C191 ) by L885 , L876 , L882 , L883 , L884;
end;
thus L887: [ ( C187 + C189 ) , ( C188 + C189 ) ] in D109 by L877 , L630;
end;
end;
thus L889: thesis by L868;
end;
registration
let C192 being Ordinal;
cluster ( InvLexOrder C192 ) ->  admissible;
coherence by L765;
end;
theorem
L891: (for B186 being Ordinal holds ( InvLexOrder B186 ) is  well-ordering)
proof
defpred S9[ Ordinal ] means ( InvLexOrder $1 ) is  well-ordering;
L892:
now
let C193 being Ordinal;
assume that
L893: (for B187 being Ordinal holds (B187 in C193 implies S9[ B187 ]));
set D119 = ( InvLexOrder C193 );
L894: D119 is_strongly_connected_in ( Bags C193 ) by L539;
L895: D119 is_reflexive_in ( Bags C193 ) by L894 , ORDERS_1:7;
L896: ( field D119 ) = ( Bags C193 ) by L895 , PARTIT_2:9;
L897:
now
assume L898: D119 is non  well_founded;
L899: (not D119 is_well_founded_in ( Bags C193 )) by L898 , L896 , WELLORD1:3;
set D120 = RelStr (# ( Bags C193 ) , D119 #);
set D121 = (the InternalRel of D120);
L900: D120 is non  well_founded by L899 , WELLFND1:def 2;
consider C194 being (sequence of D120) such that L901: C194 is  descending by L900 , WELLFND1:14;
reconsider D122 = ( C194 . ( 0 ) ) as (bag of C193);
set D123 = ( SgmX (( RelIncl C193 ) , ( support D122 )) );
L902: ( field ( RelIncl C193 ) ) = C193 by WELLORD2:def 1;
L903: ( RelIncl C193 ) is  being_linear-order by ORDERS_1:19;
L904: ( RelIncl C193 ) linearly_orders ( support D122 ) by L903 , L902 , ORDERS_1:37 , ORDERS_1:38;
L905: ( rng D123 ) = ( support D122 ) by L904 , PRE_POLY:def 2;
L906:
now
assume L907: ( rng D123 ) = ( {} );
L908: D122 = ( EmptyBag C193 ) by L907 , L905 , L516;
reconsider D124 = ( C194 . ( (( 0 ) qua Nat) + 1 ) ) as (bag of C193);
L909: D124 <> D122 by L901 , WELLFND1:def 6;
L910: [ D124 , D122 ] in D121 by L901 , WELLFND1:def 6;
L911: (ex B188 being Ordinal st (B188 in C193 & ( D124 . B188 ) < ( D122 . B188 ) & (for B189 being Ordinal holds ((B188 in B189 & B189 in C193) implies ( D124 . B189 ) = ( D122 . B189 ))))) by L910 , L909 , L630;
thus L912: contradiction by L911 , L908 , PRE_POLY:52;
end;
L913: ( len D123 ) in ( dom D123 ) by L906 , FINSEQ_5:6 , RELAT_1:38;
L914: ( D123 . ( len D123 ) ) in ( rng D123 ) by L913 , FUNCT_1:3;
reconsider D125 = ( D123 . ( len D123 ) ) as Ordinal by L914 , L905;
defpred S10[ set , set ] means (ex B190 being (bag of C193) st (( C194 . $1 ) = B190 & $2 = ( B190 . D125 )));
L915:
now
let C195 being (Element of ( NAT ));
reconsider D126 = ( C194 . C195 ) as (bag of C193);
take D127 = ( D126 . D125 );
thus L916: S10[ C195 , D127 ];
end;
consider C196 being (Function of ( NAT ) , ( NAT )) such that L917: (for B191 being (Element of ( NAT )) holds S10[ B191 , ( C196 . B191 ) ]) from FUNCT_2:sch 3(L915);
defpred S11[ Nat ] means (for B192 being Ordinal holds (for B193 being (bag of C193) holds ((D125 in B192 & B192 in C193 & ( C194 . $1 ) = B193) implies ( B193 . B192 ) = ( 0 ))));
L918: S11[ ( 0 ) ]
proof
let C197 being Ordinal;
let C198 being (bag of C193);
assume that
L919: D125 in C197
and
L920: C197 in C193
and
L921: ( C194 . ( 0 ) ) = C198;
assume L922: ( C198 . C197 ) <> ( 0 );
L923: C197 in ( support D122 ) by L922 , L921 , PRE_POLY:def 7;
consider C199 being Nat such that L924: C199 in ( dom D123 ) and L925: ( D123 . C199 ) = C197 by L923 , L905 , FINSEQ_2:10;
L926: C199 <= ( len D123 ) by L924 , FINSEQ_3:25;
per cases  by L926 , XXREAL_0:1;
suppose L927: C199 = ( len D123 );

thus L928: contradiction by L927 , L919 , L925;
end;
suppose L929: C199 < ( len D123 );

L930: [ ( D123 /. C199 ) , ( D123 /. ( len D123 ) ) ] in ( RelIncl C193 ) by L929 , L904 , L913 , L924 , PRE_POLY:def 2;
L931: [ ( D123 . C199 ) , ( D123 /. ( len D123 ) ) ] in ( RelIncl C193 ) by L930 , L924 , PARTFUN1:def 6;
L932: [ ( D123 . C199 ) , ( D123 . ( len D123 ) ) ] in ( RelIncl C193 ) by L931 , L913 , PARTFUN1:def 6;
L933: ( D123 . C199 ) c= ( D123 . ( len D123 ) ) by L932 , L905 , L914 , L920 , L925 , WELLORD2:def 1;
thus L934: contradiction by L933 , L919 , L925 , ORDINAL1:5;
end;
end;
L936: (for B194 being Nat holds (S11[ B194 ] implies S11[ ( B194 + 1 ) ]))
proof
let C200 being Nat;
assume L937: (for B195 being Ordinal holds (for B196 being (bag of C193) holds ((D125 in B195 & B195 in C193 & ( C194 . C200 ) = B196) implies ( B196 . B195 ) = ( 0 ))));
let C201 being Ordinal;
let C202 being (bag of C193);
assume that
L938: D125 in C201
and
L939: C201 in C193
and
L940: ( C194 . ( C200 + 1 ) ) = C202;
reconsider D128 = ( C194 . C200 ) as (bag of C193);
L941: ( D128 . C201 ) = ( 0 ) by L937 , L938 , L939;
L942: C202 <> D128 by L901 , L940 , WELLFND1:def 6;
L943: [ C202 , D128 ] in D119 by L901 , L940 , WELLFND1:def 6;
consider C203 being Ordinal such that L944: C203 in C193 and L945: ( C202 . C203 ) < ( D128 . C203 ) and L946: (for B197 being Ordinal holds ((C203 in B197 & B197 in C193) implies ( C202 . B197 ) = ( D128 . B197 ))) by L943 , L942 , L630;
per cases  by ORDINAL1:14;
suppose L947: C203 in C201;

thus L948: thesis by L947 , L939 , L941 , L946;
end;
suppose L949: C203 = C201;

thus L950: thesis by L949 , L937 , L938 , L939 , L945;
end;
suppose L951: C201 in C203;

assume L952: ( C202 . C201 ) <> ( 0 );
L953: D125 in C203 by L938 , L951 , ORDINAL1:10;
thus L954: contradiction by L953 , L937 , L944 , L945;
end;
end;
L956: (for B198 being Nat holds S11[ B198 ]) from NAT_1:sch 2(L918 , L936);
reconsider D129 = C196 as (sequence of ( OrderedNAT )) by DICKSON:def 15;
L957: D129 is  non-increasing
proof
let C204 being Nat;
reconsider D130 = C204 as (Element of ( NAT )) by ORDINAL1:def 12;
reconsider D131 = ( D129 . D130 ) , D132 = ( D129 . ( D130 + 1 ) ) as Nat;
reconsider D133 = ( C194 . D130 ) , D134 = ( C194 . ( D130 + 1 ) ) as (bag of C193);
L958: D134 <> D133 by L901 , WELLFND1:def 6;
L959: [ D134 , D133 ] in D119 by L901 , WELLFND1:def 6;
consider C205 being Ordinal such that L960: C205 in C193 and L961: ( D134 . C205 ) < ( D133 . C205 ) and L962: (for B199 being Ordinal holds ((C205 in B199 & B199 in C193) implies ( D134 . B199 ) = ( D133 . B199 ))) by L959 , L958 , L630;
L963: (ex B200 being (bag of C193) st (D133 = B200 & D131 = ( B200 . D125 ))) by L917;
L964: (ex B201 being (bag of C193) st (D134 = B201 & D132 = ( B201 . D125 ))) by L917;
L965:
now
per cases  by ORDINAL1:14;
suppose L966: C205 = D125;

thus L967: D132 <= D131 by L966 , L961 , L963 , L964;
end;
suppose L968: D125 in C205;

thus L969: D132 <= D131 by L968 , L956 , L960 , L961;
end;
suppose L970: C205 in D125;

thus L971: D132 <= D131 by L970 , L905 , L914 , L962 , L963 , L964;
end;
end;
thus L973: thesis by L965 , DICKSON:def 14 , DICKSON:def 15;
end;
set D135 = D125;
set D136 = ( InvLexOrder D135 );
set D137 = RelStr (# ( Bags D135 ) , D136 #);
L974: D136 is_strongly_connected_in ( Bags D135 ) by L539;
L975: D136 is_reflexive_in ( Bags D135 ) by L974 , ORDERS_1:7;
L976: ( field D136 ) = ( Bags D135 ) by L975 , PARTIT_2:9;
consider C206 being Nat such that L977: (for B202 being Nat holds (C206 <= B202 implies ( D129 . C206 ) = ( D129 . B202 ))) by L957 , L335;
defpred S12[ Nat , set ] means (ex B203 being (bag of C193) st (B203 = ( C194 . ( C206 + $1 ) ) & $2 = ( B203 | D125 )));
L978:
now
let C207 being (Element of ( NAT ));
reconsider D138 = ( C194 . ( C206 + C207 ) ) as (bag of C193);
reconsider D139 = ( D138 | D125 ) as (bag of D135) by L905 , L914 , L525;
reconsider D140 = D139 as (Element of ( Bags D135 )) by PRE_POLY:def 12;
take D141 = D140;
thus L979: S12[ C207 , D141 ];
end;
consider C208 being (Function of ( NAT ) , ( Bags D135 )) such that L980: (for B204 being (Element of ( NAT )) holds S12[ B204 , ( C208 . B204 ) ]) from FUNCT_2:sch 3(L978);
reconsider D142 = C208 as (sequence of D137);
L981:
now
let C209 being Nat;
reconsider D143 = C209 as (Element of ( NAT )) by ORDINAL1:def 12;
consider C210 being (bag of C193) such that L982: C210 = ( C194 . ( C206 + C209 ) ) and L983: ( D142 . D143 ) = ( C210 | D125 ) by L980;
consider C211 being (bag of C193) such that L984: C211 = ( C194 . ( C206 + ( C209 + 1 ) ) ) and L985: ( D142 . ( C209 + 1 ) ) = ( C211 | D125 ) by L980;
L986: ( C206 + ( C209 + 1 ) ) = ( ( C206 + C209 ) + 1 );
L987: C210 <> C211 by L986 , L901 , L982 , L984 , WELLFND1:def 6;
L988: (ex B205 being (bag of C193) st (( C194 . ( C206 + C209 ) ) = B205 & ( D129 . ( C206 + D143 ) ) = ( B205 . D125 ))) by L917;
L989: (ex B206 being (bag of C193) st (( C194 . ( C206 + ( C209 + 1 ) ) ) = B206 & ( D129 . ( C206 + ( C209 + 1 ) ) ) = ( B206 . D125 ))) by L917;
L990: ( D129 . ( C206 + C209 ) ) = ( D129 . C206 ) by L977 , NAT_1:11;
thus L991: ( D142 . ( C209 + 1 ) ) <> ( D142 . C209 )
proof
assume L992: (not thesis);
L993: C193 = ( dom C210 ) by PARTFUN1:def 2;
L994: C193 = ( dom C211 ) by PARTFUN1:def 2;
L995:
now
let C212 being set;
assume that
L996: C212 in C193;
per cases  by L996 , ORDINAL1:14;
suppose L997: C212 in D125;

L998: ( ( C210 | D125 ) . C212 ) = ( C210 . C212 ) by L997 , FUNCT_1:49;
thus L999: ( C210 . C212 ) = ( C211 . C212 ) by L998 , L983 , L985 , L992 , L997 , FUNCT_1:49;
end;
suppose L1000: C212 = D125;

thus L1001: ( C210 . C212 ) = ( C211 . C212 ) by L1000 , L977 , L982 , L984 , L988 , L989 , L990 , NAT_1:11;
end;
suppose L1002: D125 in C212;

L1003: ( C210 . C212 ) = ( 0 ) by L1002 , L956 , L982 , L996;
thus L1004: ( C210 . C212 ) = ( C211 . C212 ) by L1003 , L956 , L984 , L996 , L1002;
end;
end;
thus L1006: contradiction by L995 , L987 , L993 , L994 , FUNCT_1:2;
end;

L1007: [ ( C194 . ( ( C206 + C209 ) + 1 ) ) , ( C194 . ( C206 + C209 ) ) ] in D119 by L901 , WELLFND1:def 6;
consider C213 being Ordinal such that L1008: C213 in C193 and L1009: ( C211 . C213 ) < ( C210 . C213 ) and L1010: (for B207 being Ordinal holds ((C213 in B207 & B207 in C193) implies ( C210 . B207 ) = ( C211 . B207 ))) by L1007 , L982 , L984 , L987 , L630;
L1011:
now
assume L1012: (not C213 in D125);
per cases  by L1012 , ORDINAL1:14;
suppose L1013: C213 = D125;

thus L1014: contradiction by L1013 , L977 , L982 , L984 , L988 , L989 , L990 , L1009 , NAT_1:11;
end;
suppose L1015: D125 in C213;

L1016: ( C210 . C213 ) = ( 0 ) by L1015 , L956 , L982 , L1008
.= ( C211 . C213 ) by L956 , L984 , L1008 , L1015;
thus L1017: contradiction by L1016 , L1009;
end;
end;
reconsider D144 = ( C210 | D125 ) , D145 = ( C211 | D125 ) as (bag of D135) by L905 , L914 , L525;
L1019: ( D145 . C213 ) = ( C211 . C213 ) by L1011 , FUNCT_1:49;
L1020: ( D144 . C213 ) = ( C210 . C213 ) by L1011 , FUNCT_1:49;
L1021:
now
let C214 being Ordinal;
assume that
L1022: C213 in C214
and
L1023: C214 in D135;
L1024: C214 in C193 by L905 , L914 , L1023 , ORDINAL1:10;
L1025: ( C210 . C214 ) = ( C211 . C214 ) by L1024 , L1010 , L1022;
thus L1026: ( D144 . C214 ) = ( C210 . C214 ) by L1023 , FUNCT_1:49
.= ( D145 . C214 ) by L1023 , L1025 , FUNCT_1:49;
end;
thus L1027: [ ( D142 . ( C209 + 1 ) ) , ( D142 . C209 ) ] in D136 by L1021 , L983 , L985 , L1009 , L1011 , L1019 , L1020 , L630;
end;
L1028: D142 is  descending by L981 , WELLFND1:def 6;
L1029: D137 is non  well_founded by L1028 , WELLFND1:14;
L1030: (not D136 is_well_founded_in (the carrier of D137)) by L1029 , WELLFND1:def 2;
L1031: (not D136 well_orders ( field D136 )) by L1030 , L976 , WELLORD1:def 5;
L1032: D136 is non  well-ordering by L1031 , WELLORD1:4;
thus L1033: contradiction by L1032 , L893 , L905 , L914;
end;
L1034: ( field D119 ) = ( Bags C193 ) by ORDERS_1:12;
L1035: D119 is_reflexive_in ( Bags C193 ) by L1034 , RELAT_2:def 9;
L1036: D119 is_transitive_in ( Bags C193 ) by L1034 , RELAT_2:def 16;
L1037: D119 is_antisymmetric_in ( Bags C193 ) by L1034 , RELAT_2:def 12;
L1038: D119 is_connected_in ( field D119 ) by L894 , L896 , ORDERS_1:7;
L1039: D119 is_well_founded_in ( field D119 ) by L897 , WELLORD1:3;
L1040: D119 well_orders ( field D119 ) by L1039 , L896 , L1035 , L1036 , L1037 , L1038 , WELLORD1:def 5;
thus L1041: S9[ C193 ] by L1040 , WELLORD1:4;
end;
thus L1042: (for B208 being Ordinal holds S9[ B208 ]) from ORDINAL1:sch 2(L892);
end;
definition
let C215 being Ordinal;
let C216 being (TermOrder of C215);
assume that
L1043: (for B209 , B210 , B211 being (bag of C215) holds ([ B209 , B210 ] in C216 implies [ ( B209 + B211 ) , ( B210 + B211 ) ] in C216));
func Graded C216 -> (TermOrder of C215) means 
:L1044: (for B212 , B213 being (bag of C215) holds ([ B212 , B213 ] in it iff (( TotDegree B212 ) < ( TotDegree B213 ) or (( TotDegree B212 ) = ( TotDegree B213 ) & [ B212 , B213 ] in C216))));
existence
proof
defpred S13[ set , set ] means (ex B214 , B215 being (bag of C215) st (B214 = $1 & B215 = $2 & (( TotDegree B214 ) < ( TotDegree B215 ) or (( TotDegree B214 ) = ( TotDegree B215 ) & [ B214 , B215 ] in C216))));
consider C217 being (Relation of ( Bags C215 )) such that L1045: (for B216 , B217 being set holds ([ B216 , B217 ] in C217 iff (B216 in ( Bags C215 ) & B217 in ( Bags C215 ) & S13[ B216 , B217 ]))) from RELSET_1:sch 1;
L1046:
now
let C218 being set;
assume that
L1047: C218 in ( Bags C215 );
reconsider D146 = C218 as (bag of C215) by L1047;
L1048:
now
take D147 = D146;
thus L1049: D147 = C218;
thus L1050: ( TotDegree D147 ) = ( TotDegree D147 );
L1051: [ ( EmptyBag C215 ) , ( EmptyBag C215 ) ] in C216 by ORDERS_1:3;
L1052: [ ( ( EmptyBag C215 ) + D147 ) , ( ( EmptyBag C215 ) + D147 ) ] in C216 by L1051 , L1043;
L1053: [ D147 , ( ( EmptyBag C215 ) + D147 ) ] in C216 by L1052 , PRE_POLY:53;
thus L1054: [ D147 , D147 ] in C216 by L1053 , PRE_POLY:53;
end;
thus L1055: [ C218 , C218 ] in C217 by L1048 , L1045 , L1047;
end;
L1056:
now
let C219 , C220 being set;
assume that
L1057: C219 in ( Bags C215 )
and
L1058: C220 in ( Bags C215 )
and
L1059: [ C219 , C220 ] in C217
and
L1060: [ C220 , C219 ] in C217;
consider C221 , C222 being (bag of C215) such that L1061: C221 = C219 and L1062: C222 = C220 and L1063: (( TotDegree C221 ) < ( TotDegree C222 ) or (( TotDegree C221 ) = ( TotDegree C222 ) & [ C221 , C222 ] in C216)) by L1045 , L1059;
L1064: (ex B218 , B219 being (bag of C215) st (B218 = C220 & B219 = C219 & (( TotDegree B218 ) < ( TotDegree B219 ) or (( TotDegree B218 ) = ( TotDegree B219 ) & [ B218 , B219 ] in C216)))) by L1045 , L1060;
L1065:
now
per cases  by L1063;
suppose L1066: ( TotDegree C221 ) < ( TotDegree C222 );

L1067:
now
per cases  by L1061 , L1062 , L1064;
suppose L1068: ( TotDegree C222 ) < ( TotDegree C221 );

thus L1069: contradiction by L1068 , L1066;
end;
suppose L1070: (( TotDegree C222 ) = ( TotDegree C221 ) & [ C222 , C221 ] in C216);

thus L1071: contradiction by L1070 , L1066;
end;
end;
thus L1073: (( TotDegree C221 ) = ( TotDegree C222 ) & [ C221 , C222 ] in C216 & ( TotDegree C222 ) = ( TotDegree C221 ) & [ C222 , C221 ] in C216) by L1067;
end;
suppose L1074: (( TotDegree C221 ) = ( TotDegree C222 ) & [ C221 , C222 ] in C216);

L1075:
now
per cases  by L1061 , L1062 , L1064;
suppose L1076: ( TotDegree C222 ) < ( TotDegree C221 );

thus L1077: (( TotDegree C221 ) = ( TotDegree C222 ) & [ C221 , C222 ] in C216 & ( TotDegree C222 ) = ( TotDegree C221 ) & [ C222 , C221 ] in C216) by L1076 , L1074;
end;
suppose L1078: (( TotDegree C222 ) = ( TotDegree C221 ) & [ C222 , C221 ] in C216);

thus L1079: (( TotDegree C221 ) = ( TotDegree C222 ) & [ C221 , C222 ] in C216 & ( TotDegree C222 ) = ( TotDegree C221 ) & [ C222 , C221 ] in C216) by L1078 , L1074;
end;
end;
thus L1081: (( TotDegree C221 ) = ( TotDegree C222 ) & [ C221 , C222 ] in C216 & ( TotDegree C222 ) = ( TotDegree C221 ) & [ C222 , C221 ] in C216) by L1075;
end;
end;
thus L1083: C219 = C220 by L1065 , L1057 , L1058 , L1061 , L1062 , ORDERS_1:4;
end;
L1084:
now
let C223 , C224 , C225 being set;
assume that
L1085: C223 in ( Bags C215 )
and
L1086: C224 in ( Bags C215 )
and
L1087: C225 in ( Bags C215 )
and
L1088: [ C223 , C224 ] in C217
and
L1089: [ C224 , C225 ] in C217;
consider C226 , C227 being (bag of C215) such that L1090: C226 = C223 and L1091: C227 = C224 and L1092: (( TotDegree C226 ) < ( TotDegree C227 ) or (( TotDegree C226 ) = ( TotDegree C227 ) & [ C226 , C227 ] in C216)) by L1045 , L1088;
consider C228 , C229 being (bag of C215) such that L1093: C228 = C224 and L1094: C229 = C225 and L1095: (( TotDegree C228 ) < ( TotDegree C229 ) or (( TotDegree C228 ) = ( TotDegree C229 ) & [ C228 , C229 ] in C216)) by L1045 , L1089;
per cases  by L1092;
suppose L1096: ( TotDegree C226 ) < ( TotDegree C227 );

L1097:
now
per cases  by L1091 , L1093 , L1095;
suppose L1098: ( TotDegree C227 ) < ( TotDegree C229 );

L1099: ( TotDegree C226 ) < ( TotDegree C229 ) by L1098 , L1096 , XXREAL_0:2;
thus L1100: [ C223 , C225 ] in C217 by L1099 , L1045 , L1085 , L1087 , L1090 , L1094;
end;
suppose L1101: (( TotDegree C227 ) = ( TotDegree C229 ) & [ C227 , C229 ] in C216);

thus L1102: [ C223 , C225 ] in C217 by L1101 , L1045 , L1085 , L1087 , L1090 , L1094 , L1096;
end;
end;
thus L1104: [ C223 , C225 ] in C217 by L1097;
end;
suppose L1105: (( TotDegree C226 ) = ( TotDegree C227 ) & [ C226 , C227 ] in C216);

L1106:
now
per cases  by L1091 , L1093 , L1095;
suppose L1107: ( TotDegree C227 ) < ( TotDegree C229 );

thus L1108: [ C223 , C225 ] in C217 by L1107 , L1045 , L1085 , L1087 , L1090 , L1094 , L1105;
end;
suppose L1109: (( TotDegree C227 ) = ( TotDegree C229 ) & [ C227 , C229 ] in C216);

L1110: [ C226 , C229 ] in C216 by L1109 , L1085 , L1086 , L1087 , L1090 , L1091 , L1094 , L1105 , ORDERS_1:5;
thus L1111: [ C223 , C225 ] in C217 by L1110 , L1045 , L1085 , L1087 , L1090 , L1091 , L1093 , L1094 , L1095 , L1105;
end;
end;
thus L1113: [ C223 , C225 ] in C217 by L1106;
end;
end;
L1115: C217 is_reflexive_in ( Bags C215 ) by L1046 , RELAT_2:def 1;
L1116: C217 is_antisymmetric_in ( Bags C215 ) by L1056 , RELAT_2:def 4;
L1117: C217 is_transitive_in ( Bags C215 ) by L1084 , RELAT_2:def 8;
L1118: ( dom C217 ) = ( Bags C215 ) by L1115 , ORDERS_1:13;
L1119: ( field C217 ) = ( Bags C215 ) by L1115 , ORDERS_1:13;
reconsider D148 = C217 as (TermOrder of C215) by L1119 , L1115 , L1116 , L1117 , L1118 , PARTFUN1:def 2 , RELAT_2:def 9 , RELAT_2:def 12 , RELAT_2:def 16;
take D148;
let C230 , C231 being (bag of C215);
thus L1120:now
assume L1121: [ C230 , C231 ] in D148;
L1122: (ex B220 , B221 being (bag of C215) st (B220 = C230 & B221 = C231 & (( TotDegree B220 ) < ( TotDegree B221 ) or (( TotDegree B220 ) = ( TotDegree B221 ) & [ B220 , B221 ] in C216)))) by L1121 , L1045;
thus L1123: (( TotDegree C230 ) < ( TotDegree C231 ) or (( TotDegree C230 ) = ( TotDegree C231 ) & [ C230 , C231 ] in C216)) by L1122;
end;
assume L1124: (( TotDegree C230 ) < ( TotDegree C231 ) or (( TotDegree C230 ) = ( TotDegree C231 ) & [ C230 , C231 ] in C216));
L1125: C230 in ( Bags C215 ) by PRE_POLY:def 12;
L1126: C231 in ( Bags C215 ) by PRE_POLY:def 12;
thus L1127: thesis by L1126 , L1045 , L1124 , L1125;
end;
uniqueness
proof
let C232 , C233 being (TermOrder of C215);
assume that
L1128: (for B222 , B223 being (bag of C215) holds ([ B222 , B223 ] in C232 iff (( TotDegree B222 ) < ( TotDegree B223 ) or (( TotDegree B222 ) = ( TotDegree B223 ) & [ B222 , B223 ] in C216))))
and
L1129: (for B224 , B225 being (bag of C215) holds ([ B224 , B225 ] in C233 iff (( TotDegree B224 ) < ( TotDegree B225 ) or (( TotDegree B224 ) = ( TotDegree B225 ) & [ B224 , B225 ] in C216))));
L1130:
now
let C234 , C235 being set;
thus L1131:now
assume L1132: [ C234 , C235 ] in C232;
L1133: C234 in ( dom C232 ) by L1132 , XTUPLE_0:def 12;
L1134: C235 in ( rng C232 ) by L1132 , XTUPLE_0:def 13;
reconsider D149 = C234 , D150 = C235 as (bag of C215) by L1134 , L1133;
L1135: (( TotDegree D149 ) < ( TotDegree D150 ) or (( TotDegree D149 ) = ( TotDegree D150 ) & [ D149 , D150 ] in C216)) by L1128 , L1132;
thus L1136: [ C234 , C235 ] in C233 by L1135 , L1129;
end;
assume L1137: [ C234 , C235 ] in C233;
L1138: C234 in ( dom C233 ) by L1137 , XTUPLE_0:def 12;
L1139: C235 in ( rng C233 ) by L1137 , XTUPLE_0:def 13;
reconsider D151 = C234 , D152 = C235 as (bag of C215) by L1139 , L1138;
L1140: (( TotDegree D151 ) < ( TotDegree D152 ) or (( TotDegree D151 ) = ( TotDegree D152 ) & [ D151 , D152 ] in C216)) by L1129 , L1137;
thus L1141: [ C234 , C235 ] in C232 by L1140 , L1128;
end;
thus L1142: C232 = C233 by L1130 , RELAT_1:def 2;
end;
end;
theorem
L1144: (for B226 being Ordinal holds (for B227 being (TermOrder of B226) holds (((for B228 , B229 , B230 being (bag of B226) holds ([ B228 , B229 ] in B227 implies [ ( B228 + B230 ) , ( B229 + B230 ) ] in B227)) & B227 is_strongly_connected_in ( Bags B226 )) implies ( Graded B227 ) is  admissible)))
proof
let C236 being Ordinal;
let C237 being (TermOrder of C236);
assume that
L1145: (for B231 , B232 , B233 being (bag of C236) holds ([ B231 , B232 ] in C237 implies [ ( B231 + B233 ) , ( B232 + B233 ) ] in C237))
and
L1146: C237 is_strongly_connected_in ( Bags C236 );
L1147:
now
let C238 , C239 being set;
assume that
L1148: C238 in ( Bags C236 )
and
L1149: C239 in ( Bags C236 );
reconsider D153 = C238 , D154 = C239 as (bag of C236) by L1148 , L1149;
assume L1150: (not [ C238 , C239 ] in ( Graded C237 ));
L1151: ( TotDegree D153 ) >= ( TotDegree D154 ) by L1150 , L1145 , L1044;
per cases  by L1151 , XXREAL_0:1;
suppose L1152: ( TotDegree D154 ) < ( TotDegree D153 );

thus L1153: [ C239 , C238 ] in ( Graded C237 ) by L1152 , L1145 , L1044;
end;
suppose L1154: ( TotDegree D154 ) = ( TotDegree D153 );

L1155: (not [ C238 , C239 ] in C237) by L1154 , L1145 , L1150 , L1044;
L1156: [ C239 , C238 ] in C237 by L1155 , L1146 , L1148 , L1149 , RELAT_2:def 7;
thus L1157: [ C239 , C238 ] in ( Graded C237 ) by L1156 , L1145 , L1154 , L1044;
end;
end;
thus L1159: ( Graded C237 ) is_strongly_connected_in ( Bags C236 ) by L1147 , RELAT_2:def 7;
L1160:
now
let C240 being (bag of C236);
L1161: ( TotDegree ( EmptyBag C236 ) ) = ( 0 ) by L452;
per cases ;
suppose L1162: C240 = ( EmptyBag C236 );

thus L1163: [ ( EmptyBag C236 ) , C240 ] in ( Graded C237 ) by L1162 , ORDERS_1:3;
end;
suppose L1164: C240 <> ( EmptyBag C236 );

L1165: ( TotDegree C240 ) <> ( 0 ) by L1164 , L452;
thus L1166: [ ( EmptyBag C236 ) , C240 ] in ( Graded C237 ) by L1165 , L1145 , L1161 , L1044;
end;
end;
thus L1168: (for B234 being (bag of C236) holds [ ( EmptyBag C236 ) , B234 ] in ( Graded C237 )) by L1160;
L1169:
now
let C241 , C242 , C243 being (bag of C236);
assume that
L1170: [ C241 , C242 ] in ( Graded C237 );
per cases  by L1145 , L1170 , L1044;
suppose L1171: ( TotDegree C241 ) < ( TotDegree C242 );

L1172: ( TotDegree ( C241 + C243 ) ) = ( ( TotDegree C241 ) + ( TotDegree C243 ) ) by L411;
L1173: ( TotDegree ( C242 + C243 ) ) = ( ( TotDegree C242 ) + ( TotDegree C243 ) ) by L411;
L1174: ( TotDegree ( C241 + C243 ) ) < ( TotDegree ( C242 + C243 ) ) by L1173 , L1171 , L1172 , XREAL_1:8;
thus L1175: [ ( C241 + C243 ) , ( C242 + C243 ) ] in ( Graded C237 ) by L1174 , L1145 , L1044;
end;
suppose L1176: (( TotDegree C241 ) = ( TotDegree C242 ) & [ C241 , C242 ] in C237);

L1177: ( TotDegree ( C241 + C243 ) ) = ( ( TotDegree C242 ) + ( TotDegree C243 ) ) by L1176 , L411;
L1178: ( TotDegree ( C241 + C243 ) ) = ( TotDegree ( C242 + C243 ) ) by L1177 , L411;
L1179: [ ( C241 + C243 ) , ( C242 + C243 ) ] in C237 by L1145 , L1176;
thus L1180: [ ( C241 + C243 ) , ( C242 + C243 ) ] in ( Graded C237 ) by L1179 , L1145 , L1178 , L1044;
end;
end;
thus L1182: thesis by L1169;
end;
definition
let C244 being Ordinal;
func GrLexOrder C244 -> (TermOrder of C244) equals 
( Graded ( LexOrder C244 ) );
coherence;
func GrInvLexOrder C244 -> (TermOrder of C244) equals 
( Graded ( InvLexOrder C244 ) );
coherence;
end;
theorem
L1184: (for B235 being Ordinal holds ( GrLexOrder B235 ) is  admissible)
proof
let C245 being Ordinal;
L1185: (for B236 , B237 , B238 being (bag of C245) holds ([ B236 , B237 ] in ( LexOrder C245 ) implies [ ( B236 + B238 ) , ( B237 + B238 ) ] in ( LexOrder C245 ))) by L539;
L1186: ( LexOrder C245 ) is_strongly_connected_in ( Bags C245 ) by L539;
thus L1187: thesis by L1186 , L1185 , L1144;
end;
registration
let C246 being Ordinal;
cluster ( GrLexOrder C246 ) ->  admissible;
coherence by L1184;
end;
theorem
L1189: (for B239 being  infinite Ordinal holds ( GrLexOrder B239 ) is non  well-ordering)
proof
let C247 being  infinite Ordinal;
set D155 = ( GrLexOrder C247 );
set D156 = RelStr (# ( Bags C247 ) , D155 #);
set D157 = (the InternalRel of D156);
set D158 = (the carrier of D156);
assume L1190: D155 is  well-ordering;
L1191: D155 is  well_founded by L1190;
L1192: D158 = ( field D157 ) by ORDERS_1:15;
L1193: D157 is_well_founded_in D158 by L1192 , L1191 , WELLORD1:3;
L1194: D156 is  well_founded by L1193 , WELLFND1:def 2;
defpred S14[ Nat , set ] means $2 = ( ( C247 --> ( 0 ) ) +* ($1 , 1) );
L1195:
now
let C248 being (Element of ( NAT ));
set D159 = ( ( C247 --> ( 0 ) ) +* (C248 , 1) );
L1196: ( dom ( C247 --> ( 0 ) ) ) = C247 by FUNCOP_1:13;
reconsider D160 = D159 as (ManySortedSet of C247);
L1197: C248 in ( omega );
L1198: ( omega ) c= C247 by CARD_3:85;
L1199:
now
let C249 being set;
thus L1200:now
assume L1201: C249 in { C248 };
L1202: C249 = C248 by L1201 , TARSKI:def 1;
thus L1203: ( D160 . C249 ) <> ( 0 ) by L1202 , L1196 , L1197 , L1198 , FUNCT_7:31;
end;
assume that
L1204: ( D160 . C249 ) <> ( 0 )
and
L1205: (not C249 in { C248 });
L1206: C249 <> C248 by L1205 , TARSKI:def 1;
L1207: ( D160 . C249 ) = ( ( C247 --> ( 0 ) ) . C249 ) by L1206 , FUNCT_7:32;
per cases ;
suppose L1208: C249 in ( dom ( C247 --> ( 0 ) ) );

thus L1209: contradiction by L1208 , L1204 , L1207 , FUNCOP_1:7;
end;
suppose L1210: (not C249 in ( dom ( C247 --> ( 0 ) ) ));

thus L1211: contradiction by L1210 , L1204 , L1207 , FUNCT_1:def 2;
end;
end;
L1213: ( support D160 ) = { C248 } by L1199 , PRE_POLY:def 7;
L1214: D160 is  finite-support by L1213 , PRE_POLY:def 8;
reconsider D161 = D160 as (Element of D158) by L1214 , PRE_POLY:def 12;
take D162 = D161;
thus L1215: S14[ C248 , D162 ];
end;
consider C250 being (Function of ( NAT ) , D158) such that L1216: (for B240 being (Element of ( NAT )) holds S14[ B240 , ( C250 . B240 ) ]) from FUNCT_2:sch 3(L1195);
reconsider D163 = C250 as (sequence of D156);
L1217: D163 is  descending
proof
let C251 being Nat;
reconsider D164 = C251 as (Element of ( NAT )) by ORDINAL1:def 12;
set D165 = ( D163 . ( D164 + 1 ) );
set D166 = ( D163 . D164 );
L1218: D165 = ( ( C247 --> ( 0 ) ) +* (( C251 + 1 ) , 1) ) by L1216;
L1219: D166 = ( ( C247 --> ( 0 ) ) +* (C251 , 1) ) by L1216;
reconsider D167 = D165 as (bag of C247);
reconsider D168 = D166 as (bag of C247);
L1220: D164 in ( omega );
L1221: ( omega ) c= C247 by CARD_3:85;
L1222: C251 <> ( C251 + 1 );
L1223: ( D167 . C251 ) = ( ( C247 --> ( 0 ) ) . C251 ) by L1222 , L1218 , FUNCT_7:32
.= ( 0 ) by L1220 , L1221 , FUNCOP_1:7;
L1224: ( dom ( C247 --> ( 0 ) ) ) = C247 by FUNCOP_1:13;
L1225: ( D168 . C251 ) = 1 by L1224 , L1219 , L1220 , L1221 , FUNCT_7:31;
L1226:
now
let C252 being Ordinal;
assume L1227: C252 in C251;
L1228: C252 <> C251 by L1227;
L1229: C251 < ( C251 + 1 ) by NAT_1:13;
L1230: C251 in { B241 where B241 is (Element of ( NAT )) : B241 < ( D164 + 1 ) } by L1229;
L1231: C251 in ( C251 + 1 ) by L1230 , AXIOMS:4;
L1232: C251 c= ( C251 + 1 ) by L1231 , ORDINAL1:def 2;
L1233: C252 in ( C251 + 1 ) by L1232 , L1227;
L1234: C252 <> ( C251 + 1 ) by L1233;
thus L1235: ( D167 . C252 ) = ( ( C247 --> ( 0 ) ) . C252 ) by L1234 , L1218 , FUNCT_7:32
.= ( D168 . C252 ) by L1219 , L1228 , FUNCT_7:32;
end;
L1236: D167 < D168 by L1226 , L1223 , L1225 , PRE_POLY:def 9;
thus L1237: ( D163 . ( C251 + 1 ) ) <> ( D163 . C251 ) by L1219 , L1220 , L1221 , L1223 , L1224 , FUNCT_7:31;
L1238: D167 <=' D168 by L1236 , PRE_POLY:def 10;
L1239: [ ( D163 . ( C251 + 1 ) ) , ( D163 . C251 ) ] in ( LexOrder C247 ) by L1238 , PRE_POLY:def 14;
consider C253 being (FinSequence of ( NAT )) such that L1240: ( TotDegree D168 ) = ( Sum C253 ) and L1241: C253 = ( D168 * ( SgmX (( RelIncl C247 ) , ( support D168 )) ) ) by L360;
consider C254 being (FinSequence of ( NAT )) such that L1242: ( TotDegree D167 ) = ( Sum C254 ) and L1243: C254 = ( D167 * ( SgmX (( RelIncl C247 ) , ( support D167 )) ) ) by L360;
L1244: ( C251 + 1 ) in ( omega );
L1245: ( omega ) c= C247 by CARD_3:85;
reconsider D169 = C251 , D170 = ( C251 + 1 ) as (Element of C247) by L1245 , L1220 , L1244;
L1246: ( field ( RelIncl C247 ) ) = C247 by WELLORD2:def 1;
L1247: ( RelIncl C247 ) linearly_orders C247 by L1246 , ORDERS_1:19 , ORDERS_1:37;
L1248:
now
let C255 being set;
thus L1249:now
assume L1250: C255 in ( support D167 );
L1251:
now
assume L1252: C255 <> D170;
L1253: ( D167 . C255 ) = ( ( C247 --> ( 0 ) ) . C255 ) by L1252 , L1218 , FUNCT_7:32;
L1254: ( D167 . C255 ) = ( 0 ) by L1253 , L1250 , FUNCOP_1:7;
thus L1255: contradiction by L1254 , L1250 , PRE_POLY:def 7;
end;
thus L1256: C255 in { D170 } by L1251 , TARSKI:def 1;
end;
assume L1257: C255 in { D170 };
L1258: C255 = D170 by L1257 , TARSKI:def 1;
L1259: ( D167 . C255 ) = 1 by L1258 , L1218 , L1224 , FUNCT_7:31;
thus L1260: C255 in ( support D167 ) by L1259 , PRE_POLY:def 7;
end;
L1261: ( support D167 ) = { D170 } by L1248 , TARSKI:1;
L1262: ( SgmX (( RelIncl C247 ) , ( support D167 )) ) = <* D170 *> by L1261 , L1247 , L354 , ORDERS_1:38;
L1263: ( dom D168 ) = C247 by L1219 , L1224 , FUNCT_7:30;
L1264: ( dom D167 ) = C247 by L1218 , L1224 , FUNCT_7:30;
L1265:
now
let C256 being set;
thus L1266:now
assume L1267: C256 in ( support D168 );
L1268:
now
assume L1269: C256 <> D169;
L1270: ( D168 . C256 ) = ( ( C247 --> ( 0 ) ) . C256 ) by L1269 , L1219 , FUNCT_7:32;
L1271: ( D168 . C256 ) = ( 0 ) by L1270 , L1267 , FUNCOP_1:7;
thus L1272: contradiction by L1271 , L1267 , PRE_POLY:def 7;
end;
thus L1273: C256 in { D169 } by L1268 , TARSKI:def 1;
end;
assume L1274: C256 in { D169 };
L1275: C256 = D169 by L1274 , TARSKI:def 1;
L1276: ( D168 . C256 ) = 1 by L1275 , L1219 , L1224 , FUNCT_7:31;
thus L1277: C256 in ( support D168 ) by L1276 , PRE_POLY:def 7;
end;
L1278: ( support D168 ) = { D169 } by L1265 , TARSKI:1;
L1279: ( SgmX (( RelIncl C247 ) , ( support D168 )) ) = <* D169 *> by L1278 , L1247 , L354 , ORDERS_1:38;
L1280: C253 = <* ( D168 . C251 ) *> by L1279 , L1241 , L1263 , FINSEQ_2:34
.= <* 1 *> by L1219 , L1220 , L1221 , L1224 , FUNCT_7:31
.= <* ( D167 . D170 ) *> by L1218 , L1224 , FUNCT_7:31
.= C254 by L1243 , L1262 , L1264 , FINSEQ_2:34;
L1281: (for B242 , B243 , B244 being (bag of C247) holds ([ B242 , B243 ] in ( LexOrder C247 ) implies [ ( B242 + B244 ) , ( B243 + B244 ) ] in ( LexOrder C247 ))) by L539;
thus L1282: [ ( D163 . ( C251 + 1 ) ) , ( D163 . C251 ) ] in D157 by L1281 , L1239 , L1240 , L1242 , L1280 , L1044;
end;
thus L1283: contradiction by L1217 , L1194 , WELLFND1:14;
end;
theorem
L1284: (for B245 being Ordinal holds ( GrInvLexOrder B245 ) is  admissible)
proof
let C257 being Ordinal;
L1285: (for B246 , B247 , B248 being (bag of C257) holds ([ B246 , B247 ] in ( InvLexOrder C257 ) implies [ ( B246 + B248 ) , ( B247 + B248 ) ] in ( InvLexOrder C257 ))) by L539;
L1286: ( InvLexOrder C257 ) is_strongly_connected_in ( Bags C257 ) by L539;
thus L1287: thesis by L1286 , L1285 , L1144;
end;
registration
let C258 being Ordinal;
cluster ( GrInvLexOrder C258 ) ->  admissible;
coherence by L1284;
end;
theorem
L1289: (for B249 being Ordinal holds ( GrInvLexOrder B249 ) is  well-ordering)
proof
let C259 being Ordinal;
set D171 = ( GrInvLexOrder C259 );
set D172 = ( InvLexOrder C259 );
L1290: D171 is_strongly_connected_in ( Bags C259 ) by L539;
L1291: ( field D171 ) = ( Bags C259 ) by ORDERS_1:12;
L1292: D171 is_reflexive_in ( Bags C259 ) by L1291 , RELAT_2:def 9;
L1293: D171 is_transitive_in ( Bags C259 ) by L1291 , RELAT_2:def 16;
L1294: D171 is_antisymmetric_in ( Bags C259 ) by L1291 , RELAT_2:def 12;
L1295: D171 is_connected_in ( field D171 ) by L1290 , L1291 , ORDERS_1:7;
L1296: (for B250 , B251 , B252 being (bag of C259) holds ([ B250 , B251 ] in D172 implies [ ( B250 + B252 ) , ( B251 + B252 ) ] in D172)) by L539;
L1297:
now
let C260 being set;
assume that
L1298: C260 c= ( field D171 )
and
L1299: C260 <> ( {} );
set D173 = { ( TotDegree B253 ) where B253 is (Element of ( Bags C259 )) : B253 in C260 };
consider C261 being set such that L1300: C261 in C260 by L1299 , XBOOLE_0:def 1;
reconsider D174 = C261 as (Element of ( Bags C259 )) by L1298 , L1300 , ORDERS_1:12;
L1301: ( TotDegree D174 ) in D173 by L1300;
L1302: D173 c= ( NAT )
proof
let C262 being set;
assume L1303: C262 in D173;
L1304: (ex B254 being (Element of ( Bags C259 )) st (C262 = ( TotDegree B254 ) & B254 in C260)) by L1303;
thus L1305: thesis by L1304 , ORDINAL1:def 12;
end;
reconsider D175 = D173 as non  empty (Subset of ( NAT )) by L1302 , L1301;
set D176 = { B255 where B255 is (Element of ( Bags C259 )) : (B255 in C260 & ( TotDegree B255 ) = ( min D175 )) };
L1306: D176 c= ( field D171 )
proof
let C263 being set;
assume L1307: C263 in D176;
L1308: (ex B256 being (Element of ( Bags C259 )) st (C263 = B256 & B256 in C260 & ( TotDegree B256 ) = ( min D175 ))) by L1307;
thus L1309: thesis by L1308 , L1291;
end;
L1310: ( min D175 ) in D175 by XXREAL_2:def 7;
consider C264 being (Element of ( Bags C259 )) such that L1311: ( TotDegree C264 ) = ( min D175 ) and L1312: C264 in C260 by L1310;
L1313: C264 in D176 by L1311 , L1312;
L1314: ( field D172 ) = ( Bags C259 ) by ORDERS_1:12;
L1315: D172 is  well-ordering by L891;
L1316: D172 well_orders ( field D172 ) by L1315 , WELLORD1:4;
L1317: D172 is_well_founded_in ( field D172 ) by L1316 , WELLORD1:def 5;
consider C265 being set such that L1318: C265 in D176 and L1319: ( D172 -Seg C265 ) misses D176 by L1317 , L1291 , L1306 , L1313 , L1314 , WELLORD1:def 3;
L1320: ( ( D172 -Seg C265 ) /\ D176 ) = ( {} ) by L1319 , XBOOLE_0:def 7;
L1321: (ex B257 being (Element of ( Bags C259 )) st (B257 = C265 & B257 in C260 & ( TotDegree B257 ) = ( min D175 ))) by L1318;
take D177 = C265;
thus L1322: D177 in C260 by L1321;
L1323:
now
assume L1324: ( ( D171 -Seg D177 ) /\ C260 ) <> ( {} );
consider C266 being set such that L1325: C266 in ( ( D171 -Seg D177 ) /\ C260 ) by L1324 , XBOOLE_0:def 1;
L1326: C266 in ( D171 -Seg D177 ) by L1325 , XBOOLE_0:def 4;
L1327: C266 in C260 by L1325 , XBOOLE_0:def 4;
L1328: C266 <> D177 by L1326 , WELLORD1:1;
L1329: [ C266 , D177 ] in D171 by L1326 , WELLORD1:1;
reconsider D178 = D177 , D179 = C266 as (Element of ( Bags C259 )) by L1298 , L1321 , L1327 , ORDERS_1:12;
per cases  by XXREAL_0:1;
suppose L1330: ( TotDegree D179 ) < ( TotDegree D178 );

L1331: ( TotDegree D179 ) in D175 by L1327;
thus L1332: contradiction by L1331 , L1321 , L1330 , XXREAL_2:def 7;
end;
suppose L1333: ( TotDegree D179 ) = ( TotDegree D178 );

L1334: [ D179 , D178 ] in D172 by L1333 , L1296 , L1329 , L1044;
L1335: D179 in ( D172 -Seg D178 ) by L1334 , L1328 , WELLORD1:1;
L1336: D179 in D176 by L1321 , L1327 , L1333;
thus L1337: contradiction by L1336 , L1320 , L1335 , XBOOLE_0:def 4;
end;
suppose L1338: ( TotDegree D179 ) > ( TotDegree D178 );

thus L1339: contradiction by L1338 , L1296 , L1329 , L1044;
end;
end;
thus L1341: ( D171 -Seg D177 ) misses C260 by L1323 , XBOOLE_0:def 7;
end;
L1342: D171 is_well_founded_in ( field D171 ) by L1297 , WELLORD1:def 3;
L1343: D171 well_orders ( field D171 ) by L1342 , L1291 , L1292 , L1293 , L1294 , L1295 , WELLORD1:def 5;
thus L1344: thesis by L1343 , WELLORD1:4;
end;
definition
let C267 , C268 being Nat;
let C269 being (TermOrder of ( C267 + 1 ));
let C270 being (TermOrder of ( C268 -' ( C267 + 1 ) ));
func BlockOrder (C267 , C268 , C269 , C270) -> (TermOrder of C268) means 
:L1345: (for B258 , B259 being (bag of C268) holds ([ B258 , B259 ] in it iff ((( (( 0 ) , ( C267 + 1 )) -cut B258 ) <> ( (( 0 ) , ( C267 + 1 )) -cut B259 ) & [ ( (( 0 ) , ( C267 + 1 )) -cut B258 ) , ( (( 0 ) , ( C267 + 1 )) -cut B259 ) ] in C269) or (( (( 0 ) , ( C267 + 1 )) -cut B258 ) = ( (( 0 ) , ( C267 + 1 )) -cut B259 ) & [ ( (( C267 + 1 ) , C268) -cut B258 ) , ( (( C267 + 1 ) , C268) -cut B259 ) ] in C270))));
existence
proof
L1346: ( C267 + 1 ) = ( ( C267 + 1 ) -' ( 0 ) ) by NAT_D:40;
defpred S15[ set , set ] means (ex B260 , B261 being (bag of C268) st ($1 = B260 & $2 = B261 & ((( (( 0 ) , ( C267 + 1 )) -cut B260 ) <> ( (( 0 ) , ( C267 + 1 )) -cut B261 ) & [ ( (( 0 ) , ( C267 + 1 )) -cut B260 ) , ( (( 0 ) , ( C267 + 1 )) -cut B261 ) ] in C269) or (( (( 0 ) , ( C267 + 1 )) -cut B260 ) = ( (( 0 ) , ( C267 + 1 )) -cut B261 ) & [ ( (( C267 + 1 ) , C268) -cut B260 ) , ( (( C267 + 1 ) , C268) -cut B261 ) ] in C270))));
consider C271 being (Relation of ( Bags C268 ) , ( Bags C268 )) such that L1347: (for B262 , B263 being set holds ([ B262 , B263 ] in C271 iff (B262 in ( Bags C268 ) & B263 in ( Bags C268 ) & S15[ B262 , B263 ]))) from RELSET_1:sch 1;
L1348:
now
let C272 being set;
assume that
L1349: C272 in ( Bags C268 );
reconsider D180 = C272 as (bag of C268) by L1349;
L1350: ( (( 0 ) , ( C267 + 1 )) -cut D180 ) = ( (( 0 ) , ( C267 + 1 )) -cut D180 );
L1351: ( (( C267 + 1 ) , C268) -cut D180 ) in ( Bags ( C268 -' ( C267 + 1 ) ) ) by PRE_POLY:def 12;
L1352: [ ( (( C267 + 1 ) , C268) -cut D180 ) , ( (( C267 + 1 ) , C268) -cut D180 ) ] in C270 by L1351 , ORDERS_1:3;
thus L1353: [ C272 , C272 ] in C271 by L1352 , L1347 , L1349 , L1350;
end;
L1354: C271 is_reflexive_in ( Bags C268 ) by L1348 , RELAT_2:def 1;
L1355:
now
let C273 , C274 being set;
assume that
L1356: C273 in ( Bags C268 )
and
L1357: C274 in ( Bags C268 )
and
L1358: [ C273 , C274 ] in C271
and
L1359: [ C274 , C273 ] in C271;
consider C275 , C276 being (bag of C268) such that L1360: C273 = C275 and L1361: C274 = C276 and L1362: ((( (( 0 ) , ( C267 + 1 )) -cut C275 ) <> ( (( 0 ) , ( C267 + 1 )) -cut C276 ) & [ ( (( 0 ) , ( C267 + 1 )) -cut C275 ) , ( (( 0 ) , ( C267 + 1 )) -cut C276 ) ] in C269) or (( (( 0 ) , ( C267 + 1 )) -cut C275 ) = ( (( 0 ) , ( C267 + 1 )) -cut C276 ) & [ ( (( C267 + 1 ) , C268) -cut C275 ) , ( (( C267 + 1 ) , C268) -cut C276 ) ] in C270)) by L1347 , L1358;
L1363: (ex B264 , B265 being (bag of C268) st (C274 = B264 & C273 = B265 & ((( (( 0 ) , ( C267 + 1 )) -cut B264 ) <> ( (( 0 ) , ( C267 + 1 )) -cut B265 ) & [ ( (( 0 ) , ( C267 + 1 )) -cut B264 ) , ( (( 0 ) , ( C267 + 1 )) -cut B265 ) ] in C269) or (( (( 0 ) , ( C267 + 1 )) -cut B264 ) = ( (( 0 ) , ( C267 + 1 )) -cut B265 ) & [ ( (( C267 + 1 ) , C268) -cut B264 ) , ( (( C267 + 1 ) , C268) -cut B265 ) ] in C270)))) by L1347 , L1359;
set D181 = ( (( 0 ) , ( C267 + 1 )) -cut C275 );
set D182 = ( (( C267 + 1 ) , C268) -cut C275 );
set D183 = ( (( 0 ) , ( C267 + 1 )) -cut C276 );
set D184 = ( (( C267 + 1 ) , C268) -cut C276 );
L1364: D181 in ( Bags ( ( C267 + 1 ) -' ( 0 ) ) ) by PRE_POLY:def 12;
L1365: D183 in ( Bags ( ( C267 + 1 ) -' ( 0 ) ) ) by PRE_POLY:def 12;
L1366: D182 in ( Bags ( C268 -' ( C267 + 1 ) ) ) by PRE_POLY:def 12;
L1367: D184 in ( Bags ( C268 -' ( C267 + 1 ) ) ) by PRE_POLY:def 12;
per cases  by L1362;
suppose L1368: (D181 <> D183 & [ D181 , D183 ] in C269);

L1369:
now
per cases  by L1360 , L1361 , L1363;
suppose L1370: (D183 <> D181 & [ D183 , D181 ] in C269);

thus L1371: C273 = C274 by L1370 , L1346 , L1364 , L1365 , L1368 , ORDERS_1:4;
end;
suppose L1372: (D183 = D181 & [ D184 , D182 ] in C270);

thus L1373: C273 = C274 by L1372 , L1368;
end;
end;
thus L1375: C273 = C274 by L1369;
end;
suppose L1376: (D181 = D183 & [ D182 , D184 ] in C270);

L1377:
now
per cases  by L1360 , L1361 , L1363;
suppose L1378: (D183 <> D181 & [ D183 , D181 ] in C269);

thus L1379: C273 = C274 by L1378 , L1376;
end;
suppose L1380: (D183 = D181 & [ D184 , D182 ] in C270);

L1381: D184 = D182 by L1380 , L1366 , L1367 , L1376 , ORDERS_1:4;
thus L1382: C273 = C274 by L1381 , L1360 , L1361 , L1376 , L88;
end;
end;
thus L1384: C273 = C274 by L1377;
end;
end;
L1386: C271 is_antisymmetric_in ( Bags C268 ) by L1355 , RELAT_2:def 4;
L1387:
now
let C277 , C278 , C279 being set;
assume that
L1388: C277 in ( Bags C268 )
and
L1389: C278 in ( Bags C268 )
and
L1390: C279 in ( Bags C268 )
and
L1391: [ C277 , C278 ] in C271
and
L1392: [ C278 , C279 ] in C271;
consider C280 , C281 being (bag of C268) such that L1393: C280 = C277 and L1394: C281 = C278 and L1395: ((( (( 0 ) , ( C267 + 1 )) -cut C280 ) <> ( (( 0 ) , ( C267 + 1 )) -cut C281 ) & [ ( (( 0 ) , ( C267 + 1 )) -cut C280 ) , ( (( 0 ) , ( C267 + 1 )) -cut C281 ) ] in C269) or (( (( 0 ) , ( C267 + 1 )) -cut C280 ) = ( (( 0 ) , ( C267 + 1 )) -cut C281 ) & [ ( (( C267 + 1 ) , C268) -cut C280 ) , ( (( C267 + 1 ) , C268) -cut C281 ) ] in C270)) by L1347 , L1391;
consider C282 , C283 being (bag of C268) such that L1396: C282 = C278 and L1397: C283 = C279 and L1398: ((( (( 0 ) , ( C267 + 1 )) -cut C282 ) <> ( (( 0 ) , ( C267 + 1 )) -cut C283 ) & [ ( (( 0 ) , ( C267 + 1 )) -cut C282 ) , ( (( 0 ) , ( C267 + 1 )) -cut C283 ) ] in C269) or (( (( 0 ) , ( C267 + 1 )) -cut C282 ) = ( (( 0 ) , ( C267 + 1 )) -cut C283 ) & [ ( (( C267 + 1 ) , C268) -cut C282 ) , ( (( C267 + 1 ) , C268) -cut C283 ) ] in C270)) by L1347 , L1392;
set D185 = ( (( 0 ) , ( C267 + 1 )) -cut C280 );
set D186 = ( (( C267 + 1 ) , C268) -cut C280 );
set D187 = ( (( 0 ) , ( C267 + 1 )) -cut C281 );
set D188 = ( (( C267 + 1 ) , C268) -cut C281 );
set D189 = ( (( 0 ) , ( C267 + 1 )) -cut C283 );
set D190 = ( (( C267 + 1 ) , C268) -cut C283 );
L1399: D185 in ( Bags ( ( C267 + 1 ) -' ( 0 ) ) ) by PRE_POLY:def 12;
L1400: D187 in ( Bags ( ( C267 + 1 ) -' ( 0 ) ) ) by PRE_POLY:def 12;
L1401: D189 in ( Bags ( ( C267 + 1 ) -' ( 0 ) ) ) by PRE_POLY:def 12;
L1402: D186 in ( Bags ( C268 -' ( C267 + 1 ) ) ) by PRE_POLY:def 12;
L1403: D188 in ( Bags ( C268 -' ( C267 + 1 ) ) ) by PRE_POLY:def 12;
L1404: D190 in ( Bags ( C268 -' ( C267 + 1 ) ) ) by PRE_POLY:def 12;
per cases  by L1395;
suppose L1405: (D185 <> D187 & [ D185 , D187 ] in C269);

L1406:
now
per cases  by L1394 , L1396 , L1398;
suppose L1407: (D187 <> D189 & [ D187 , D189 ] in C269);

L1408: [ D185 , D189 ] in C269 by L1407 , L1346 , L1399 , L1400 , L1401 , L1405 , ORDERS_1:5;
L1409:
now
per cases ;
suppose L1410: D185 <> D189;

thus L1411: [ C277 , C279 ] in C271 by L1410 , L1347 , L1388 , L1390 , L1393 , L1397 , L1408;
end;
suppose L1412: D185 = D189;

thus L1413: [ C277 , C279 ] in C271 by L1412 , L1346 , L1399 , L1400 , L1405 , L1407 , ORDERS_1:4;
end;
end;
thus L1415: [ C277 , C279 ] in C271 by L1409;
end;
suppose L1416: (D187 = D189 & [ D188 , D190 ] in C270);

thus L1417: [ C277 , C279 ] in C271 by L1416 , L1347 , L1388 , L1390 , L1393 , L1397 , L1405;
end;
end;
thus L1419: [ C277 , C279 ] in C271 by L1406;
end;
suppose L1420: (D185 = D187 & [ D186 , D188 ] in C270);

L1421:
now
per cases  by L1394 , L1396 , L1398;
suppose L1422: (D187 <> D189 & [ D187 , D189 ] in C269);

thus L1423: [ C277 , C279 ] in C271 by L1422 , L1347 , L1388 , L1390 , L1393 , L1397 , L1420;
end;
suppose L1424: (D187 = D189 & [ D188 , D190 ] in C270);

L1425: [ D186 , D190 ] in C270 by L1424 , L1402 , L1403 , L1404 , L1420 , ORDERS_1:5;
thus L1426: [ C277 , C279 ] in C271 by L1425 , L1347 , L1388 , L1390 , L1393 , L1397 , L1420 , L1424;
end;
end;
thus L1428: [ C277 , C279 ] in C271 by L1421;
end;
end;
L1430: C271 is_transitive_in ( Bags C268 ) by L1387 , RELAT_2:def 8;
L1431: ( dom C271 ) = ( Bags C268 ) by L1354 , ORDERS_1:13;
L1432: ( field C271 ) = ( Bags C268 ) by L1354 , ORDERS_1:13;
reconsider D191 = C271 as (TermOrder of C268) by L1432 , L1354 , L1386 , L1430 , L1431 , PARTFUN1:def 2 , RELAT_2:def 9 , RELAT_2:def 12 , RELAT_2:def 16;
take D191;
let C284 , C285 being (bag of C268);
thus L1433:now
assume L1434: [ C284 , C285 ] in D191;
L1435: (ex B266 , B267 being (bag of C268) st (B266 = C284 & B267 = C285 & ((( (( 0 ) , ( C267 + 1 )) -cut B266 ) <> ( (( 0 ) , ( C267 + 1 )) -cut B267 ) & [ ( (( 0 ) , ( C267 + 1 )) -cut B266 ) , ( (( 0 ) , ( C267 + 1 )) -cut B267 ) ] in C269) or (( (( 0 ) , ( C267 + 1 )) -cut B266 ) = ( (( 0 ) , ( C267 + 1 )) -cut B267 ) & [ ( (( C267 + 1 ) , C268) -cut B266 ) , ( (( C267 + 1 ) , C268) -cut B267 ) ] in C270)))) by L1434 , L1347;
thus L1436: ((( (( 0 ) , ( C267 + 1 )) -cut C284 ) <> ( (( 0 ) , ( C267 + 1 )) -cut C285 ) & [ ( (( 0 ) , ( C267 + 1 )) -cut C284 ) , ( (( 0 ) , ( C267 + 1 )) -cut C285 ) ] in C269) or (( (( 0 ) , ( C267 + 1 )) -cut C284 ) = ( (( 0 ) , ( C267 + 1 )) -cut C285 ) & [ ( (( C267 + 1 ) , C268) -cut C284 ) , ( (( C267 + 1 ) , C268) -cut C285 ) ] in C270)) by L1435;
end;
assume that
L1437: ((( (( 0 ) , ( C267 + 1 )) -cut C284 ) <> ( (( 0 ) , ( C267 + 1 )) -cut C285 ) & [ ( (( 0 ) , ( C267 + 1 )) -cut C284 ) , ( (( 0 ) , ( C267 + 1 )) -cut C285 ) ] in C269) or (( (( 0 ) , ( C267 + 1 )) -cut C284 ) = ( (( 0 ) , ( C267 + 1 )) -cut C285 ) & [ ( (( C267 + 1 ) , C268) -cut C284 ) , ( (( C267 + 1 ) , C268) -cut C285 ) ] in C270));
L1438: C284 in ( Bags C268 ) by PRE_POLY:def 12;
L1439: C285 in ( Bags C268 ) by PRE_POLY:def 12;
thus L1440: thesis by L1439 , L1347 , L1437 , L1438;
end;
uniqueness
proof
let C286 , C287 being (TermOrder of C268);
assume that
L1441: (for B268 , B269 being (bag of C268) holds ([ B268 , B269 ] in C286 iff ((( (( 0 ) , ( C267 + 1 )) -cut B268 ) <> ( (( 0 ) , ( C267 + 1 )) -cut B269 ) & [ ( (( 0 ) , ( C267 + 1 )) -cut B268 ) , ( (( 0 ) , ( C267 + 1 )) -cut B269 ) ] in C269) or (( (( 0 ) , ( C267 + 1 )) -cut B268 ) = ( (( 0 ) , ( C267 + 1 )) -cut B269 ) & [ ( (( C267 + 1 ) , C268) -cut B268 ) , ( (( C267 + 1 ) , C268) -cut B269 ) ] in C270))))
and
L1442: (for B270 , B271 being (bag of C268) holds ([ B270 , B271 ] in C287 iff ((( (( 0 ) , ( C267 + 1 )) -cut B270 ) <> ( (( 0 ) , ( C267 + 1 )) -cut B271 ) & [ ( (( 0 ) , ( C267 + 1 )) -cut B270 ) , ( (( 0 ) , ( C267 + 1 )) -cut B271 ) ] in C269) or (( (( 0 ) , ( C267 + 1 )) -cut B270 ) = ( (( 0 ) , ( C267 + 1 )) -cut B271 ) & [ ( (( C267 + 1 ) , C268) -cut B270 ) , ( (( C267 + 1 ) , C268) -cut B271 ) ] in C270))));
L1443:
now
let C288 , C289 being set;
thus L1444:now
assume L1445: [ C288 , C289 ] in C286;
L1446: C288 in ( dom C286 ) by L1445 , XTUPLE_0:def 12;
L1447: C289 in ( rng C286 ) by L1445 , XTUPLE_0:def 13;
reconsider D192 = C288 , D193 = C289 as (bag of C268) by L1447 , L1446;
L1448: ((( (( 0 ) , ( C267 + 1 )) -cut D192 ) <> ( (( 0 ) , ( C267 + 1 )) -cut D193 ) & [ ( (( 0 ) , ( C267 + 1 )) -cut D192 ) , ( (( 0 ) , ( C267 + 1 )) -cut D193 ) ] in C269) or (( (( 0 ) , ( C267 + 1 )) -cut D192 ) = ( (( 0 ) , ( C267 + 1 )) -cut D193 ) & [ ( (( C267 + 1 ) , C268) -cut D192 ) , ( (( C267 + 1 ) , C268) -cut D193 ) ] in C270)) by L1441 , L1445;
thus L1449: [ C288 , C289 ] in C287 by L1448 , L1442;
end;
assume L1450: [ C288 , C289 ] in C287;
L1451: C288 in ( dom C287 ) by L1450 , XTUPLE_0:def 12;
L1452: C289 in ( rng C287 ) by L1450 , XTUPLE_0:def 13;
reconsider D194 = C288 , D195 = C289 as (bag of C268) by L1452 , L1451;
L1453: ((( (( 0 ) , ( C267 + 1 )) -cut D194 ) <> ( (( 0 ) , ( C267 + 1 )) -cut D195 ) & [ ( (( 0 ) , ( C267 + 1 )) -cut D194 ) , ( (( 0 ) , ( C267 + 1 )) -cut D195 ) ] in C269) or (( (( 0 ) , ( C267 + 1 )) -cut D194 ) = ( (( 0 ) , ( C267 + 1 )) -cut D195 ) & [ ( (( C267 + 1 ) , C268) -cut D194 ) , ( (( C267 + 1 ) , C268) -cut D195 ) ] in C270)) by L1442 , L1450;
thus L1454: [ C288 , C289 ] in C286 by L1453 , L1441;
end;
thus L1455: C286 = C287 by L1443 , RELAT_1:def 2;
end;
end;
theorem
L1457: (for B272 , B273 being Nat holds (for B274 being (TermOrder of ( B272 + 1 )) holds (for B275 being (TermOrder of ( B273 -' ( B272 + 1 ) )) holds ((B274 is  admissible & B275 is  admissible) implies ( BlockOrder (B272 , B273 , B274 , B275) ) is  admissible))))
proof
let C290 , C291 being Nat;
let C292 being (TermOrder of ( C290 + 1 ));
let C293 being (TermOrder of ( C291 -' ( C290 + 1 ) ));
assume that
L1458: C292 is  admissible
and
L1459: C293 is  admissible;
L1460: ( C290 + 1 ) = ( ( C290 + 1 ) -' ( 0 ) ) by NAT_D:40;
L1461: C292 is_strongly_connected_in ( Bags ( ( C290 + 1 ) -' ( 0 ) ) ) by L1460 , L1458 , L539;
L1462: C293 is_strongly_connected_in ( Bags ( C291 -' ( C290 + 1 ) ) ) by L1459 , L539;
set D196 = ( BlockOrder (C290 , C291 , C292 , C293) );
L1463:
now
L1464:
now
let C294 , C295 being set;
assume that
L1465: C294 in ( Bags C291 )
and
L1466: C295 in ( Bags C291 );
reconsider D197 = C294 , D198 = C295 as (bag of C291) by L1465 , L1466;
set D199 = ( (( 0 ) , ( C290 + 1 )) -cut D197 );
set D200 = ( (( C290 + 1 ) , C291) -cut D197 );
set D201 = ( (( 0 ) , ( C290 + 1 )) -cut D198 );
set D202 = ( (( C290 + 1 ) , C291) -cut D198 );
L1467: D199 in ( Bags ( ( C290 + 1 ) -' ( 0 ) ) ) by PRE_POLY:def 12;
L1468: D201 in ( Bags ( ( C290 + 1 ) -' ( 0 ) ) ) by PRE_POLY:def 12;
L1469: D200 in ( Bags ( C291 -' ( C290 + 1 ) ) ) by PRE_POLY:def 12;
L1470: D202 in ( Bags ( C291 -' ( C290 + 1 ) ) ) by PRE_POLY:def 12;
assume L1471: (not [ C294 , C295 ] in D196);
per cases  by L1471 , L1345;
suppose L1472: D199 = D201;

L1473:
now
per cases  by L1471 , L1345;
suppose L1474: D199 <> D201;

thus L1475: [ C295 , C294 ] in D196 by L1474 , L1472;
end;
suppose L1476: (not [ D200 , D202 ] in C293);

L1477: [ D202 , D200 ] in C293 by L1476 , L1462 , L1469 , L1470 , RELAT_2:def 7;
thus L1478: [ C295 , C294 ] in D196 by L1477 , L1472 , L1345;
end;
end;
thus L1480: [ C295 , C294 ] in D196 by L1473;
end;
suppose L1481: (not [ D199 , D201 ] in C292);

L1482: [ D201 , D199 ] in C292 by L1481 , L1461 , L1467 , L1468 , RELAT_2:def 7;
L1483:
now
per cases  by L1471 , L1345;
suppose L1484: D199 <> D201;

thus L1485: [ C295 , C294 ] in D196 by L1484 , L1482 , L1345;
end;
suppose L1486: (not [ D200 , D202 ] in C293);

L1487: [ D202 , D200 ] in C293 by L1486 , L1462 , L1469 , L1470 , RELAT_2:def 7;
L1488:
now
per cases ;
suppose L1489: D199 = D201;

thus L1490: [ C295 , C294 ] in D196 by L1489 , L1487 , L1345;
end;
suppose L1491: D199 <> D201;

thus L1492: [ C295 , C294 ] in D196 by L1491 , L1482 , L1345;
end;
end;
thus L1494: [ C295 , C294 ] in D196 by L1488;
end;
end;
thus L1496: [ C295 , C294 ] in D196 by L1483;
end;
end;
thus L1498: D196 is_strongly_connected_in ( Bags C291 ) by L1464 , RELAT_2:def 7;
let C296 being (bag of C291);
set D203 = ( (( 0 ) , ( C290 + 1 )) -cut ( EmptyBag C291 ) );
set D204 = ( (( 0 ) , ( C290 + 1 )) -cut C296 );
set D205 = ( (( C290 + 1 ) , C291) -cut ( EmptyBag C291 ) );
set D206 = ( (( C290 + 1 ) , C291) -cut C296 );
L1499:
now
per cases ;
suppose L1500: D203 <> D204;

L1501: D203 = ( EmptyBag ( ( C290 + 1 ) -' ( 0 ) ) ) by L487;
L1502: [ D203 , D204 ] in C292 by L1501 , L1458 , L1460 , L539;
thus L1503: [ ( EmptyBag C291 ) , C296 ] in D196 by L1502 , L1500 , L1345;
end;
suppose L1504: D203 = D204;

L1505: D205 = ( EmptyBag ( C291 -' ( C290 + 1 ) ) ) by L487;
L1506: [ D205 , D206 ] in C293 by L1505 , L1459 , L539;
thus L1507: [ ( EmptyBag C291 ) , C296 ] in D196 by L1506 , L1504 , L1345;
end;
end;
thus L1509: [ ( EmptyBag C291 ) , C296 ] in D196 by L1499;
let C297 , C298 , C299 being (bag of C291);
assume that
L1510: [ C297 , C298 ] in D196;
set D207 = ( (( 0 ) , ( C290 + 1 )) -cut C297 );
set D208 = ( (( C290 + 1 ) , C291) -cut C297 );
set D209 = ( (( 0 ) , ( C290 + 1 )) -cut C298 );
set D210 = ( (( C290 + 1 ) , C291) -cut C298 );
set D211 = ( (( 0 ) , ( C290 + 1 )) -cut C299 );
set D212 = ( (( C290 + 1 ) , C291) -cut C299 );
set D213 = ( (( 0 ) , ( C290 + 1 )) -cut ( C297 + C299 ) );
set D214 = ( (( 0 ) , ( C290 + 1 )) -cut ( C298 + C299 ) );
set D215 = ( (( C290 + 1 ) , C291) -cut ( C297 + C299 ) );
set D216 = ( (( C290 + 1 ) , C291) -cut ( C298 + C299 ) );
per cases  by L1510 , L1345;
suppose L1511: (D207 <> D209 & [ D207 , D209 ] in C292);

L1512: [ ( D207 + D211 ) , ( D209 + D211 ) ] in C292 by L1511 , L1458 , L1460 , L539;
L1513: [ D213 , ( D209 + D211 ) ] in C292 by L1512 , L500;
L1514: [ D213 , D214 ] in C292 by L1513 , L500;
L1515:
now
assume L1516: ( D207 + D211 ) = ( D209 + D211 );
L1517: ( ( D207 + D211 ) -' D211 ) = D207 by PRE_POLY:48;
thus L1518: contradiction by L1517 , L1511 , L1516 , PRE_POLY:48;
end;
L1519: D213 <> ( D209 + D211 ) by L1515 , L500;
L1520: D213 <> D214 by L1519 , L500;
thus L1521: [ ( C297 + C299 ) , ( C298 + C299 ) ] in D196 by L1520 , L1514 , L1345;
end;
suppose L1522: (D207 = D209 & [ D208 , D210 ] in C293);

L1523: [ ( D208 + D212 ) , ( D210 + D212 ) ] in C293 by L1522 , L1459 , L539;
L1524: [ D215 , ( D210 + D212 ) ] in C293 by L1523 , L500;
L1525: [ D215 , D216 ] in C293 by L1524 , L500;
L1526: D213 = ( D209 + D211 ) by L1522 , L500;
L1527: D213 = D214 by L1526 , L500;
thus L1528: [ ( C297 + C299 ) , ( C298 + C299 ) ] in D196 by L1527 , L1525 , L1345;
end;
end;
thus L1530: thesis by L1463 , L539;
end;
definition
let C300 being Nat;
func NaivelyOrderedBags C300 ->  strict RelStr means 
:L1531: ((the carrier of it) = ( Bags C300 ) & (for B276 , B277 being (bag of C300) holds ([ B276 , B277 ] in (the InternalRel of it) iff B276 divides B277)));
existence
proof
defpred S16[ set , set ] means (ex B278 , B279 being (bag of C300) st (B278 = $1 & B279 = $2 & B278 divides B279));
consider C301 being (Relation of ( Bags C300 ) , ( Bags C300 )) such that L1532: (for B280 , B281 being set holds ([ B280 , B281 ] in C301 iff (B280 in ( Bags C300 ) & B281 in ( Bags C300 ) & S16[ B280 , B281 ]))) from RELSET_1:sch 1;
set D217 = RelStr (# ( Bags C300 ) , C301 #);
reconsider D218 = D217 as  strict RelStr;
take D218;
thus L1533: (the carrier of D218) = ( Bags C300 );
let C302 , C303 being (bag of C300);
thus L1534:now
assume L1535: [ C302 , C303 ] in (the InternalRel of D218);
L1536: (ex B282 , B283 being (bag of C300) st (B282 = C302 & B283 = C303 & B282 divides B283)) by L1535 , L1532;
thus L1537: C302 divides C303 by L1536;
end;
assume L1538: C302 divides C303;
L1539: C302 in ( Bags C300 ) by PRE_POLY:def 12;
L1540: C303 in ( Bags C300 ) by PRE_POLY:def 12;
thus L1541: thesis by L1540 , L1532 , L1538 , L1539;
end;
uniqueness
proof
let C304 , C305 being  strict RelStr;
assume that
L1542: (the carrier of C304) = ( Bags C300 )
and
L1543: (for B284 , B285 being (bag of C300) holds ([ B284 , B285 ] in (the InternalRel of C304) iff B284 divides B285))
and
L1544: (the carrier of C305) = ( Bags C300 )
and
L1545: (for B286 , B287 being (bag of C300) holds ([ B286 , B287 ] in (the InternalRel of C305) iff B286 divides B287));
L1546:
now
let C306 , C307 being set;
set D219 = [ C306 , C307 ];
thus L1547:now
assume L1548: D219 in (the InternalRel of C304);
consider C308 , C309 being set such that L1549: D219 = [ C308 , C309 ] and L1550: C308 in ( Bags C300 ) and L1551: C309 in ( Bags C300 ) by L1548 , L1542 , RELSET_1:2;
reconsider D220 = C308 , D221 = C309 as (bag of C300) by L1550 , L1551;
L1552: D220 divides D221 by L1543 , L1548 , L1549;
thus L1553: [ C306 , C307 ] in (the InternalRel of C305) by L1552 , L1545 , L1549;
end;
assume L1554: [ C306 , C307 ] in (the InternalRel of C305);
set D222 = [ C306 , C307 ];
consider C310 , C311 being set such that L1555: D222 = [ C310 , C311 ] and L1556: C310 in ( Bags C300 ) and L1557: C311 in ( Bags C300 ) by L1544 , L1554 , RELSET_1:2;
reconsider D223 = C310 , D224 = C311 as (bag of C300) by L1556 , L1557;
L1558: D223 divides D224 by L1545 , L1554 , L1555;
thus L1559: [ C306 , C307 ] in (the InternalRel of C304) by L1558 , L1543 , L1555;
end;
thus L1560: thesis by L1546 , L1542 , L1544 , RELAT_1:def 2;
end;
end;
theorem
L1562: (for B288 being Nat holds (the carrier of ( product ( B288 --> ( OrderedNAT ) ) )) = ( Bags B288 ))
proof
let C312 being Nat;
set D225 = (the carrier of ( product ( C312 --> ( OrderedNAT ) ) ));
L1563: D225 = ( product ( Carrier ( C312 --> ( OrderedNAT ) ) ) ) by YELLOW_1:def 4;
L1564:
now
let C313 being set;
thus L1565:now
assume L1566: C313 in D225;
consider C314 being Function such that L1567: C313 = C314 and L1568: ( dom C314 ) = ( dom ( Carrier ( C312 --> ( OrderedNAT ) ) ) ) and L1569: (for B289 being set holds (B289 in ( dom ( Carrier ( C312 --> ( OrderedNAT ) ) ) ) implies ( C314 . B289 ) in ( ( Carrier ( C312 --> ( OrderedNAT ) ) ) . B289 ))) by L1566 , L1563 , CARD_3:def 5;
L1570: ( dom C314 ) = C312 by L1568 , PARTFUN1:def 2;
L1571: ( rng C314 ) c= ( NAT )
proof
let C315 being set;
assume L1572: C315 in ( rng C314 );
consider C316 being set such that L1573: C316 in ( dom C314 ) and L1574: C315 = ( C314 . C316 ) by L1572 , FUNCT_1:def 3;
L1575: C315 in ( ( Carrier ( C312 --> ( OrderedNAT ) ) ) . C316 ) by L1568 , L1569 , L1573 , L1574;
L1576: (ex B290 being 1-sorted st (B290 = ( ( C312 --> ( OrderedNAT ) ) . C316 ) & ( ( Carrier ( C312 --> ( OrderedNAT ) ) ) . C316 ) = (the carrier of B290))) by L1570 , L1573 , PRALG_1:def 13;
thus L1577: thesis by L1576 , L1570 , L1573 , L1575 , DICKSON:def 15 , FUNCOP_1:7;
end;
L1578: ( dom C314 ) = ( dom ( Carrier ( C312 --> ( OrderedNAT ) ) ) ) by L1568
.= C312 by PARTFUN1:def 2;
L1579: C314 is  natural-valued by L1571 , VALUED_0:def 6;
L1580: C314 is (ManySortedSet of C312) by L1578 , PARTFUN1:def 2 , RELAT_1:def 18;
thus L1581: C313 in ( Bags C312 ) by L1580 , L1567 , L1579 , PRE_POLY:def 12;
end;
assume L1582: C313 in ( Bags C312 );
reconsider D226 = C313 as  natural-valued  finite-support (ManySortedSet of C312) by L1582;
L1583: ( dom D226 ) = C312 by PARTFUN1:def 2;
L1584:
now
take D227 = D226;
thus L1585: C313 = D227;
thus L1586: ( dom D227 ) = ( dom ( Carrier ( C312 --> ( OrderedNAT ) ) ) ) by L1583 , PARTFUN1:def 2;
let C317 being set;
assume L1587: C317 in ( dom ( Carrier ( C312 --> ( OrderedNAT ) ) ) );
L1588: C317 in C312 by L1587;
consider C318 being 1-sorted such that L1589: C318 = ( ( C312 --> ( OrderedNAT ) ) . C317 ) and L1590: ( ( Carrier ( C312 --> ( OrderedNAT ) ) ) . C317 ) = (the carrier of C318) by L1588 , PRALG_1:def 13;
L1591: C318 = ( OrderedNAT ) by L1588 , L1589 , FUNCOP_1:7;
thus L1592: ( D227 . C317 ) in ( ( Carrier ( C312 --> ( OrderedNAT ) ) ) . C317 ) by L1591 , L1590 , DICKSON:def 15;
end;
L1593: C313 in ( product ( Carrier ( C312 --> ( OrderedNAT ) ) ) ) by L1584 , CARD_3:def 5;
thus L1594: C313 in D225 by L1593 , YELLOW_1:def 4;
end;
thus L1595: thesis by L1564 , TARSKI:1;
end;
theorem
L1596: (for B291 being Nat holds ( NaivelyOrderedBags B291 ) = ( product ( B291 --> ( OrderedNAT ) ) ))
proof
let C319 being Nat;
reconsider D228 = C319 as (Element of ( NAT )) by ORDINAL1:def 12;
set D229 = (the carrier of ( NaivelyOrderedBags C319 ));
set D230 = (the InternalRel of ( NaivelyOrderedBags C319 ));
set D231 = (the carrier of ( product ( C319 --> ( OrderedNAT ) ) ));
set D232 = (the InternalRel of ( product ( C319 --> ( OrderedNAT ) ) ));
L1597: D229 = ( Bags C319 ) by L1531;
L1598: D229 = D231 by L1597 , L1562;
L1599:
now
let C320 , C321 being set;
thus L1600:now
assume L1601: [ C320 , C321 ] in D230;
L1602: C320 in ( dom D230 ) by L1601 , XTUPLE_0:def 12;
L1603: C321 in ( rng D230 ) by L1601 , XTUPLE_0:def 13;
L1604: C320 in D229 by L1602;
L1605: C321 in D229 by L1603;
L1606: C320 in ( Bags C319 ) by L1604 , L1531;
L1607: C321 in ( Bags C319 ) by L1605 , L1531;
reconsider D233 = C320 , D234 = C321 as (Element of D231) by L1607 , L1606 , L1562;
L1608: D233 in (the carrier of ( product ( D228 --> ( OrderedNAT ) ) ));
L1609: D233 in ( product ( Carrier ( C319 --> ( OrderedNAT ) ) ) ) by L1608 , YELLOW_1:def 4;
L1610:
now
set D235 = D233;
set D236 = D234;
L1611: D233 is (bag of C319) by L1606;
L1612: C321 is (bag of C319) by L1607;
reconsider D237 = D235 , D238 = D236 as Function by L1606 , L1607;
take D239 = D237;
take D240 = D238;
thus L1613: (D239 = D233 & D240 = D234);
let C322 being set;
assume L1614: C322 in C319;
set D241 = ( ( C319 --> ( OrderedNAT ) ) . C322 );
L1615: D241 = ( OrderedNAT ) by L1614 , FUNCOP_1:7;
reconsider D242 = D241 as RelStr by L1614 , FUNCOP_1:7;
take D243 = D242;
set D244 = ( D239 . C322 );
set D245 = ( D240 . C322 );
L1616: ( dom D239 ) = C319 by L1611 , PARTFUN1:def 2;
L1617: ( D239 . C322 ) in ( rng D239 ) by L1616 , L1614 , FUNCT_1:3;
L1618: ( rng D239 ) c= ( NAT ) by L1611 , VALUED_0:def 6;
L1619: ( dom D240 ) = C319 by L1612 , PARTFUN1:def 2;
L1620: ( D240 . C322 ) in ( rng D240 ) by L1619 , L1614 , FUNCT_1:3;
L1621: ( rng D240 ) c= ( NAT ) by L1612 , VALUED_0:def 6;
reconsider D246 = D244 , D247 = D245 as (Element of D243) by L1621 , L1614 , L1617 , L1618 , L1620 , DICKSON:def 15 , FUNCOP_1:7;
take D248 = D246;
take D249 = D247;
thus L1622: (D243 = ( ( C319 --> ( OrderedNAT ) ) . C322 ) & D248 = ( D239 . C322 ) & D249 = ( D240 . C322 ));
reconsider D250 = D233 , D251 = D234 as (bag of C319) by L1606 , L1607;
L1623: D250 divides D251 by L1601 , L1531;
L1624: ( D250 . C322 ) <= ( D251 . C322 ) by L1623 , PRE_POLY:def 11;
L1625: [ D248 , D249 ] in ( NATOrd ) by L1624 , DICKSON:def 14;
thus L1626: D248 <= D249 by L1625 , L1615 , DICKSON:def 15 , ORDERS_2:def 5;
end;
L1627: D233 <= D234 by L1610 , L1609 , YELLOW_1:def 4;
thus L1628: [ C320 , C321 ] in D232 by L1627 , ORDERS_2:def 5;
end;
assume L1629: [ C320 , C321 ] in D232;
L1630: C320 in ( dom D232 ) by L1629 , XTUPLE_0:def 12;
L1631: C321 in ( rng D232 ) by L1629 , XTUPLE_0:def 13;
L1632: C320 in D231 by L1630;
L1633: C321 in D231 by L1631;
L1634: C320 in ( Bags C319 ) by L1632 , L1562;
L1635: C321 in ( Bags C319 ) by L1633 , L1562;
reconsider D252 = C320 , D253 = C321 as (bag of C319) by L1635 , L1634;
reconsider D254 = D252 , D255 = D253 as (Element of D231) by L1630 , L1631;
L1636: D254 in (the carrier of ( product ( D228 --> ( OrderedNAT ) ) ));
L1637: D254 in ( product ( Carrier ( C319 --> ( OrderedNAT ) ) ) ) by L1636 , YELLOW_1:def 4;
L1638: D254 <= D255 by L1629 , ORDERS_2:def 5;
consider C323 , C324 being Function such that L1639: C323 = D254 and L1640: C324 = D255 and L1641: (for B292 being set holds (B292 in C319 implies (ex B293 being RelStr st (ex B294 , B295 being (Element of B293) st (B293 = ( ( C319 --> ( OrderedNAT ) ) . B292 ) & B294 = ( C323 . B292 ) & B295 = ( C324 . B292 ) & B294 <= B295))))) by L1638 , L1637 , YELLOW_1:def 4;
L1642:
now
let C325 being set;
assume that
L1643: C325 in C319;
consider C326 being RelStr, C327 , C328 being (Element of C326) such that L1644: C326 = ( ( C319 --> ( OrderedNAT ) ) . C325 ) and L1645: C327 = ( C323 . C325 ) and L1646: C328 = ( C324 . C325 ) and L1647: C327 <= C328 by L1641 , L1643;
L1648: C326 = ( OrderedNAT ) by L1643 , L1644 , FUNCOP_1:7;
L1649: [ C327 , C328 ] in ( NATOrd ) by L1648 , L1647 , DICKSON:def 15 , ORDERS_2:def 5;
consider C329 , C330 being (Element of ( NAT )) such that L1650: [ C329 , C330 ] = [ C327 , C328 ] and L1651: C329 <= C330 by L1649 , DICKSON:def 14;
L1652: C329 = C327 by L1650 , XTUPLE_0:1;
thus L1653: ( D252 . C325 ) <= ( D253 . C325 ) by L1652 , L1639 , L1640 , L1645 , L1646 , L1650 , L1651 , XTUPLE_0:1;
end;
L1654: D252 divides D253 by L1642 , PRE_POLY:46;
thus L1655: [ C320 , C321 ] in D230 by L1654 , L1531;
end;
thus L1656: thesis by L1599 , L1598 , RELAT_1:def 2;
end;
theorem
L1657: (for B296 being Nat holds (for B297 being (TermOrder of B296) holds (B297 is  admissible implies ((the InternalRel of ( NaivelyOrderedBags B296 )) c= B297 & B297 is  well-ordering))))
proof
let C331 being Nat;
let C332 being (TermOrder of C331);
assume that
L1658: C332 is  admissible;
reconsider D256 = C331 as (Element of ( NAT )) by ORDINAL1:def 12;
set D257 = (the InternalRel of ( NaivelyOrderedBags C331 ));
L1659:
now
let C333 , C334 being set;
assume that
L1660: [ C333 , C334 ] in D257;
L1661: C333 in ( dom D257 ) by L1660 , XTUPLE_0:def 12;
L1662: C334 in ( rng D257 ) by L1660 , XTUPLE_0:def 13;
reconsider D258 = C333 , D259 = C334 as (Element of ( Bags C331 )) by L1662 , L1661 , L1531;
L1663: D258 divides D259 by L1660 , L1531;
set D260 = ( D259 -' D258 );
L1664:
now
let C335 being set;
assume that
L1665: C335 in C331;
L1666: ( ( D260 + D258 ) . C335 ) = ( ( D260 . C335 ) + ( D258 . C335 ) ) by PRE_POLY:def 5
.= ( ( ( D259 . C335 ) -' ( D258 . C335 ) ) + ( D258 . C335 ) ) by PRE_POLY:def 6;
L1667: ( D258 . C335 ) <= ( D259 . C335 ) by L1663 , PRE_POLY:def 11;
L1668: ( ( D258 . C335 ) - ( D258 . C335 ) ) <= ( ( D259 . C335 ) - ( D258 . C335 ) ) by L1667 , XREAL_1:9;
thus L1669: ( ( D260 + D258 ) . C335 ) = ( ( ( D259 . C335 ) + ( - ( D258 . C335 ) ) ) + ( D258 . C335 ) ) by L1668 , L1666 , XREAL_0:def 2
.= ( D259 . C335 );
end;
L1670: ( D260 + D258 ) = D259 by L1664 , PBOOLE:3;
L1671: [ ( EmptyBag C331 ) , D260 ] in C332 by L1658 , L539;
L1672: [ ( ( EmptyBag C331 ) + D258 ) , ( D260 + D258 ) ] in C332 by L1671 , L1658 , L539;
thus L1673: [ C333 , C334 ] in C332 by L1672 , L1670 , PRE_POLY:53;
end;
thus L1674: (the InternalRel of ( NaivelyOrderedBags C331 )) c= C332 by L1659 , RELAT_1:def 3;
set D261 = ( product ( D256 --> ( OrderedNAT ) ) );
set D262 = RelStr (# ( Bags C331 ) , C332 #);
L1675: D262 is  quasi_ordered by DICKSON:def 3;
L1676: (the InternalRel of D261) c= (the InternalRel of D262) by L1674 , L1596;
L1677: (the carrier of D261) = (the carrier of D262) by L1562;
L1678: ( D262 \~ ) is  well_founded by L1677 , L1675 , L1676 , DICKSON:49;
L1679: C332 is_strongly_connected_in ( Bags C331 ) by L1658 , L539;
L1680: C332 is_connected_in ( Bags C331 ) by L1679 , ORDERS_1:7;
L1681: ( field C332 ) = ( Bags C331 ) by ORDERS_1:12;
L1682: D262 is  well_founded by L1678 , DICKSON:16;
L1683: C332 is_well_founded_in ( field C332 ) by L1682 , L1681 , WELLFND1:def 2;
L1684: C332 is  connected by L1680 , L1681 , RELAT_2:def 14;
L1685: C332 is  well_founded by L1683 , WELLORD1:3;
thus L1686: thesis by L1685 , L1684;
end;
begin
definition
let C336 being  connected non  empty Poset;
let C337 being (Element of ( Fin (the carrier of C336) ));
assume that
L1687: C337 is non  empty;
func PosetMin C337 -> (Element of C336) means 
(it in C337 & it is_minimal_wrt C337 , (the InternalRel of C336));
existence
proof
set D263 = (the InternalRel of C336);
L1688: C337 c= (the carrier of C336) by FINSUB_1:def 5;
consider C338 being (Element of C336) such that L1689: C338 in C337 and L1690: C338 is_minimal_wrt C337 , D263 by L1688 , L1687 , L212;
take C338;
thus L1691: thesis by L1689 , L1690;
end;
uniqueness
proof
let C339 , C340 being (Element of C336);
assume that
L1692: C339 in C337
and
L1693: C339 is_minimal_wrt C337 , (the InternalRel of C336)
and
L1694: C340 in C337
and
L1695: C340 is_minimal_wrt C337 , (the InternalRel of C336);
set D264 = (the InternalRel of C336);
L1696: (C339 <= C340 or C340 <= C339) by WAYBEL_0:def 29;
per cases  by L1696 , ORDERS_2:def 5;
suppose L1697: [ C339 , C340 ] in D264;

thus L1698: thesis by L1697 , L1692 , L1695 , WAYBEL_4:def 25;
end;
suppose L1699: [ C340 , C339 ] in D264;

thus L1700: thesis by L1699 , L1693 , L1694 , WAYBEL_4:def 25;
end;
end;
func PosetMax C337 -> (Element of C336) means 
:L1702: (it in C337 & it is_maximal_wrt C337 , (the InternalRel of C336));
existence
proof
set D265 = (the InternalRel of C336);
L1703: C337 c= (the carrier of C336) by FINSUB_1:def 5;
consider C341 being (Element of C336) such that L1704: C341 in C337 and L1705: C341 is_maximal_wrt C337 , D265 by L1703 , L1687 , L134;
take C341;
thus L1706: thesis by L1704 , L1705;
end;
uniqueness
proof
let C342 , C343 being (Element of C336);
assume that
L1707: C342 in C337
and
L1708: C342 is_maximal_wrt C337 , (the InternalRel of C336)
and
L1709: C343 in C337
and
L1710: C343 is_maximal_wrt C337 , (the InternalRel of C336);
set D266 = (the InternalRel of C336);
L1711: (C342 <= C343 or C343 <= C342) by WAYBEL_0:def 29;
per cases  by L1711 , ORDERS_2:def 5;
suppose L1712: [ C342 , C343 ] in D266;

thus L1713: thesis by L1712 , L1708 , L1709 , WAYBEL_4:def 23;
end;
suppose L1714: [ C343 , C342 ] in D266;

thus L1715: thesis by L1714 , L1707 , L1710 , WAYBEL_4:def 23;
end;
end;
end;
definition
let C344 being  connected non  empty Poset;
func FinOrd-Approx C344 -> (Function of ( NAT ) , ( bool [: ( Fin (the carrier of C344) ) , ( Fin (the carrier of C344) ) :] )) means 
:L1718: (( dom it ) = ( NAT ) & ( it . ( 0 ) ) = { [ B298 , B299 ] where B298 , B299 is (Element of ( Fin (the carrier of C344) )) : (B298 = ( {} ) or (B298 <> ( {} ) & B299 <> ( {} ) & ( PosetMax B298 ) <> ( PosetMax B299 ) & [ ( PosetMax B298 ) , ( PosetMax B299 ) ] in (the InternalRel of C344))) } & (for B300 being Nat holds ( it . ( B300 + 1 ) ) = { [ B301 , B302 ] where B301 , B302 is (Element of ( Fin (the carrier of C344) )) : (B301 <> ( {} ) & B302 <> ( {} ) & ( PosetMax B301 ) = ( PosetMax B302 ) & [ ( B301 \ { ( PosetMax B301 ) } ) , ( B302 \ { ( PosetMax B302 ) } ) ] in ( it . B300 )) }));
existence
proof
set D267 = (the InternalRel of C344);
set D268 = (the carrier of C344);
set D269 = [: ( Fin D268 ) , ( Fin D268 ) :];
defpred S17[ Nat , set , set ] means $3 = { [ B303 , B304 ] where B303 , B304 is (Element of ( Fin D268 )) : (B303 <> ( {} ) & B304 <> ( {} ) & ( PosetMax B303 ) = ( PosetMax B304 ) & [ ( B303 \ { ( PosetMax B303 ) } ) , ( B304 \ { ( PosetMax B304 ) } ) ] in $2) };
L1719: (for B305 being (Element of ( NAT )) holds (for B306 being set holds (ex B307 being set st S17[ B305 , B306 , B307 ])));
consider C345 being Function such that L1720: ( dom C345 ) = ( NAT ) and L1721: ( C345 . ( 0 ) ) = { [ B308 , B309 ] where B308 , B309 is (Element of ( Fin D268 )) : (B308 = ( {} ) or (B308 <> ( {} ) & B309 <> ( {} ) & ( PosetMax B308 ) <> ( PosetMax B309 ) & [ ( PosetMax B308 ) , ( PosetMax B309 ) ] in D267)) } and L1722: (for B310 being (Element of ( NAT )) holds S17[ B310 , ( C345 . B310 ) , ( C345 . ( B310 + 1 ) ) ]) from RECDEF_1:sch 1(L1719);
L1723: (for B311 being Nat holds S17[ B311 , ( C345 . B311 ) , ( C345 . ( B311 + 1 ) ) ])
proof
let C346 being Nat;
L1724: C346 in ( NAT ) by ORDINAL1:def 12;
thus L1725: thesis by L1724 , L1722;
end;
L1726:
now
thus L1727: ( dom C345 ) = ( NAT ) by L1720;
let C347 being set;
assume L1728: C347 in ( NAT );
reconsider D270 = C347 as (Element of ( NAT )) by L1728;
per cases ;
suppose L1729: D270 = ( 0 );

set D271 = { [ B312 , B313 ] where B312 , B313 is (Element of ( Fin (the carrier of C344) )) : (B312 = ( {} ) or (B312 <> ( {} ) & B313 <> ( {} ) & ( PosetMax B312 ) <> ( PosetMax B313 ) & [ ( PosetMax B312 ) , ( PosetMax B313 ) ] in D267)) };
L1730:
now
let C348 being set;
assume L1731: C348 in D271;
L1732: (ex B314 , B315 being (Element of ( Fin D268 )) st (C348 = [ B314 , B315 ] & (B314 = ( {} ) or (B314 <> ( {} ) & B315 <> ( {} ) & ( PosetMax B314 ) <> ( PosetMax B315 ) & [ ( PosetMax B314 ) , ( PosetMax B315 ) ] in D267)))) by L1731;
thus L1733: C348 in D269 by L1732;
end;
L1734: D271 c= D269 by L1730 , TARSKI:def 3;
thus L1735: ( C345 . C347 ) in ( bool [: ( Fin D268 ) , ( Fin D268 ) :] ) by L1734 , L1721 , L1729;
end;
suppose L1736: D270 > ( 0 );

L1737: D270 = ( ( D270 - 1 ) + 1 );
reconsider D272 = ( D270 - 1 ) as (Element of ( NAT )) by L1736 , NAT_1:20;
set D273 = { [ B316 , B317 ] where B316 , B317 is (Element of ( Fin D268 )) : (B316 <> ( {} ) & B317 <> ( {} ) & ( PosetMax B316 ) = ( PosetMax B317 ) & [ ( B316 \ { ( PosetMax B316 ) } ) , ( B317 \ { ( PosetMax B317 ) } ) ] in ( C345 . D272 )) };
L1738: D273 = ( C345 . D270 ) by L1722 , L1737;
L1739:
now
let C349 being set;
assume L1740: C349 in D273;
L1741: (ex B318 , B319 being (Element of ( Fin D268 )) st (C349 = [ B318 , B319 ] & B318 <> ( {} ) & B319 <> ( {} ) & ( PosetMax B318 ) = ( PosetMax B319 ) & [ ( B318 \ { ( PosetMax B318 ) } ) , ( B319 \ { ( PosetMax B319 ) } ) ] in ( C345 . D272 ))) by L1740;
thus L1742: C349 in D269 by L1741;
end;
L1743: D273 c= D269 by L1739 , TARSKI:def 3;
thus L1744: ( C345 . C347 ) in ( bool [: ( Fin D268 ) , ( Fin D268 ) :] ) by L1743 , L1738;
end;
end;
reconsider D274 = C345 as (Function of ( NAT ) , ( bool D269 )) by L1726 , FUNCT_2:3;
take D274;
thus L1746: thesis by L1720 , L1721 , L1723;
end;
uniqueness
proof
set D275 = (the InternalRel of C344);
set D276 = (the carrier of C344);
set D277 = [: ( Fin D276 ) , ( Fin D276 ) :];
let C350 , C351 being (Function of ( NAT ) , ( bool D277 ));
assume that
L1747: ( dom C350 ) = ( NAT )
and
L1748: ( C350 . ( 0 ) ) = { [ B320 , B321 ] where B320 , B321 is (Element of ( Fin D276 )) : (B320 = ( {} ) or (B320 <> ( {} ) & B321 <> ( {} ) & ( PosetMax B320 ) <> ( PosetMax B321 ) & [ ( PosetMax B320 ) , ( PosetMax B321 ) ] in D275)) }
and
L1749: (for B322 being Nat holds ( C350 . ( B322 + 1 ) ) = { [ B323 , B324 ] where B323 , B324 is (Element of ( Fin D276 )) : (B323 <> ( {} ) & B324 <> ( {} ) & ( PosetMax B323 ) = ( PosetMax B324 ) & [ ( B323 \ { ( PosetMax B323 ) } ) , ( B324 \ { ( PosetMax B324 ) } ) ] in ( C350 . B322 )) })
and
L1750: ( dom C351 ) = ( NAT )
and
L1751: ( C351 . ( 0 ) ) = { [ B325 , B326 ] where B325 , B326 is (Element of ( Fin D276 )) : (B325 = ( {} ) or (B325 <> ( {} ) & B326 <> ( {} ) & ( PosetMax B325 ) <> ( PosetMax B326 ) & [ ( PosetMax B325 ) , ( PosetMax B326 ) ] in D275)) }
and
L1752: (for B327 being Nat holds ( C351 . ( B327 + 1 ) ) = { [ B328 , B329 ] where B328 , B329 is (Element of ( Fin D276 )) : (B328 <> ( {} ) & B329 <> ( {} ) & ( PosetMax B328 ) = ( PosetMax B329 ) & [ ( B328 \ { ( PosetMax B328 ) } ) , ( B329 \ { ( PosetMax B329 ) } ) ] in ( C351 . B327 )) });
defpred S18[ Nat , set , set ] means $3 = { [ B330 , B331 ] where B330 , B331 is (Element of ( Fin D276 )) : (B330 <> ( {} ) & B331 <> ( {} ) & ( PosetMax B330 ) = ( PosetMax B331 ) & [ ( B330 \ { ( PosetMax B330 ) } ) , ( B331 \ { ( PosetMax B331 ) } ) ] in $2) };
L1753: ( dom C350 ) = ( NAT ) by L1747;
L1754: ( C350 . ( 0 ) ) = { [ B332 , B333 ] where B332 , B333 is (Element of ( Fin D276 )) : (B332 = ( {} ) or (B332 <> ( {} ) & B333 <> ( {} ) & ( PosetMax B332 ) <> ( PosetMax B333 ) & [ ( PosetMax B332 ) , ( PosetMax B333 ) ] in D275)) } by L1748;
L1755: (for B334 being Nat holds S18[ B334 , ( C350 . B334 ) , ( C350 . ( B334 + 1 ) ) ]) by L1749;
L1756: ( dom C351 ) = ( NAT ) by L1750;
L1757: ( C351 . ( 0 ) ) = { [ B335 , B336 ] where B335 , B336 is (Element of ( Fin D276 )) : (B335 = ( {} ) or (B335 <> ( {} ) & B336 <> ( {} ) & ( PosetMax B335 ) <> ( PosetMax B336 ) & [ ( PosetMax B335 ) , ( PosetMax B336 ) ] in D275)) } by L1751;
L1758: (for B337 being Nat holds S18[ B337 , ( C351 . B337 ) , ( C351 . ( B337 + 1 ) ) ]) by L1752;
L1759: (for B338 being Nat holds (for B339 , B340 , B341 being set holds ((S18[ B338 , B339 , B340 ] & S18[ B338 , B339 , B341 ]) implies B340 = B341)));
thus L1760: C350 = C351 from NAT_1:sch 13(L1753 , L1754 , L1755 , L1756 , L1757 , L1758 , L1759);
end;
end;
theorem
L1762: (for B342 being  connected non  empty Poset holds (for B343 , B344 being (Element of ( Fin (the carrier of B342) )) holds ([ B343 , B344 ] in ( union ( rng ( FinOrd-Approx B342 ) ) ) iff (B343 = ( {} ) or (B343 <> ( {} ) & B344 <> ( {} ) & ( PosetMax B343 ) <> ( PosetMax B344 ) & [ ( PosetMax B343 ) , ( PosetMax B344 ) ] in (the InternalRel of B342)) or (B343 <> ( {} ) & B344 <> ( {} ) & ( PosetMax B343 ) = ( PosetMax B344 ) & [ ( B343 \ { ( PosetMax B343 ) } ) , ( B344 \ { ( PosetMax B344 ) } ) ] in ( union ( rng ( FinOrd-Approx B342 ) ) ))))))
proof
let C352 being  connected non  empty Poset;
let C353 , C354 being (Element of ( Fin (the carrier of C352) ));
set D278 = (the InternalRel of C352);
set D279 = (the carrier of C352);
set D280 = ( FinOrd-Approx C352 );
L1763: ( D280 . ( 0 ) ) = { [ B345 , B346 ] where B345 , B346 is (Element of ( Fin D279 )) : (B345 = ( {} ) or (B345 <> ( {} ) & B346 <> ( {} ) & ( PosetMax B345 ) <> ( PosetMax B346 ) & [ ( PosetMax B345 ) , ( PosetMax B346 ) ] in D278)) } by L1718;
L1764: ( dom D280 ) = ( NAT ) by L1718;
thus L1765:now
assume L1766: [ C353 , C354 ] in ( union ( rng D280 ) );
consider C355 being set such that L1767: [ C353 , C354 ] in C355 and L1768: C355 in ( rng D280 ) by L1766 , TARSKI:def 4;
consider C356 being set such that L1769: C356 in ( dom D280 ) and L1770: C355 = ( D280 . C356 ) by L1768 , FUNCT_1:def 3;
reconsider D281 = C356 as (Element of ( NAT )) by L1769;
per cases ;
suppose L1771: D281 = ( 0 );

consider C357 , C358 being (Element of ( Fin D279 )) such that L1772: [ C353 , C354 ] = [ C357 , C358 ] and L1773: (C357 = ( {} ) or (C357 <> ( {} ) & C358 <> ( {} ) & ( PosetMax C357 ) <> ( PosetMax C358 ) & [ ( PosetMax C357 ) , ( PosetMax C358 ) ] in D278)) by L1771 , L1763 , L1767 , L1770;
L1774: C353 = C357 by L1772 , XTUPLE_0:1;
thus L1775: (C353 = ( {} ) or (C353 <> ( {} ) & C354 <> ( {} ) & ( PosetMax C353 ) <> ( PosetMax C354 ) & [ ( PosetMax C353 ) , ( PosetMax C354 ) ] in D278) or (C353 <> ( {} ) & C354 <> ( {} ) & ( PosetMax C353 ) = ( PosetMax C354 ) & [ ( C353 \ { ( PosetMax C353 ) } ) , ( C354 \ { ( PosetMax C354 ) } ) ] in ( union ( rng D280 ) ))) by L1774 , L1772 , L1773 , XTUPLE_0:1;
end;
suppose L1776: D281 > ( 0 );

L1777: ( D281 - 1 ) is (Element of ( NAT )) by L1776 , NAT_1:20;
L1778: ( D280 . ( ( D281 - 1 ) + 1 ) ) = { [ B347 , B348 ] where B347 , B348 is (Element of ( Fin D279 )) : (B347 <> ( {} ) & B348 <> ( {} ) & ( PosetMax B347 ) = ( PosetMax B348 ) & [ ( B347 \ { ( PosetMax B347 ) } ) , ( B348 \ { ( PosetMax B348 ) } ) ] in ( D280 . ( D281 - 1 ) )) } by L1777 , L1718;
consider C359 , C360 being (Element of ( Fin D279 )) such that L1779: [ C353 , C354 ] = [ C359 , C360 ] and L1780: C359 <> ( {} ) and L1781: C360 <> ( {} ) and L1782: ( PosetMax C359 ) = ( PosetMax C360 ) and L1783: [ ( C359 \ { ( PosetMax C359 ) } ) , ( C360 \ { ( PosetMax C360 ) } ) ] in ( D280 . ( D281 - 1 ) ) by L1778 , L1767 , L1770;
L1784: C353 = C359 by L1779 , XTUPLE_0:1;
L1785: C354 = C360 by L1779 , XTUPLE_0:1;
L1786: ( D280 . ( D281 - 1 ) ) in ( rng D280 ) by L1764 , L1777 , FUNCT_1:def 3;
thus L1787: (C353 = ( {} ) or (C353 <> ( {} ) & C354 <> ( {} ) & ( PosetMax C353 ) <> ( PosetMax C354 ) & [ ( PosetMax C353 ) , ( PosetMax C354 ) ] in D278) or (C353 <> ( {} ) & C354 <> ( {} ) & ( PosetMax C353 ) = ( PosetMax C354 ) & [ ( C353 \ { ( PosetMax C353 ) } ) , ( C354 \ { ( PosetMax C354 ) } ) ] in ( union ( rng D280 ) ))) by L1786 , L1781 , L1782 , L1783 , L1784 , L1785 , TARSKI:def 4;
end;
end;
assume L1789: (C353 = ( {} ) or (C353 <> ( {} ) & C354 <> ( {} ) & ( PosetMax C353 ) <> ( PosetMax C354 ) & [ ( PosetMax C353 ) , ( PosetMax C354 ) ] in D278) or (C353 <> ( {} ) & C354 <> ( {} ) & ( PosetMax C353 ) = ( PosetMax C354 ) & [ ( C353 \ { ( PosetMax C353 ) } ) , ( C354 \ { ( PosetMax C354 ) } ) ] in ( union ( rng D280 ) )));
per cases  by L1789;
suppose L1790: C353 = ( {} );

L1791: [ C353 , C354 ] in ( D280 . ( 0 ) ) by L1790 , L1763;
L1792: ( D280 . ( 0 ) ) in ( rng D280 ) by L1764 , FUNCT_1:def 3;
thus L1793: thesis by L1792 , L1791 , TARSKI:def 4;
end;
suppose L1794: (C353 <> ( {} ) & C354 <> ( {} ) & ( PosetMax C353 ) <> ( PosetMax C354 ) & [ ( PosetMax C353 ) , ( PosetMax C354 ) ] in D278);

L1795: [ C353 , C354 ] in ( D280 . ( 0 ) ) by L1794 , L1763;
L1796: ( D280 . ( 0 ) ) in ( rng D280 ) by L1764 , FUNCT_1:def 3;
thus L1797: thesis by L1796 , L1795 , TARSKI:def 4;
end;
suppose L1798: (C353 <> ( {} ) & C354 <> ( {} ) & ( PosetMax C353 ) = ( PosetMax C354 ) & [ ( C353 \ { ( PosetMax C353 ) } ) , ( C354 \ { ( PosetMax C354 ) } ) ] in ( union ( rng D280 ) ));

set D282 = [ ( C353 \ { ( PosetMax C353 ) } ) , ( C354 \ { ( PosetMax C354 ) } ) ];
consider C361 being set such that L1799: D282 in C361 and L1800: C361 in ( rng ( FinOrd-Approx C352 ) ) by L1798 , TARSKI:def 4;
consider C362 being set such that L1801: C362 in ( dom D280 ) and L1802: C361 = ( D280 . C362 ) by L1800 , FUNCT_1:def 3;
reconsider D283 = C362 as Nat by L1801;
L1803: ( D280 . ( D283 + 1 ) ) = { [ B349 , B350 ] where B349 , B350 is (Element of ( Fin D279 )) : (B349 <> ( {} ) & B350 <> ( {} ) & ( PosetMax B349 ) = ( PosetMax B350 ) & [ ( B349 \ { ( PosetMax B349 ) } ) , ( B350 \ { ( PosetMax B350 ) } ) ] in ( D280 . D283 )) } by L1718;
L1804: [ C353 , C354 ] in ( D280 . ( D283 + 1 ) ) by L1803 , L1798 , L1799 , L1802;
L1805: ( D280 . ( D283 + 1 ) ) in ( rng D280 ) by L1764 , FUNCT_1:def 3;
thus L1806: thesis by L1805 , L1804 , TARSKI:def 4;
end;
end;
theorem
L1808: (for B351 being  connected non  empty Poset holds (for B352 being (Element of ( Fin (the carrier of B351) )) holds (B352 <> ( {} ) implies (not [ B352 , ( {} ) ] in ( union ( rng ( FinOrd-Approx B351 ) ) )))))
proof
let C363 being  connected non  empty Poset;
let C364 being (Element of ( Fin (the carrier of C363) ));
assume that
L1809: C364 <> ( {} );
set D284 = (the carrier of C363);
set D285 = ( FinOrd-Approx C363 );
reconsider D286 = ( {} ) as (Element of ( Fin D284 )) by FINSUB_1:7;
L1810:
now
assume L1811: [ C364 , D286 ] in ( union ( rng ( FinOrd-Approx C363 ) ) );
per cases  by L1811 , L1762;
suppose L1812: C364 = ( {} );

thus L1813: contradiction by L1812 , L1809;
end;
suppose L1814: (C364 <> ( {} ) & D286 <> ( {} ) & [ ( PosetMax C364 ) , ( PosetMax D286 ) ] in D284);

thus L1815: contradiction by L1814;
end;
suppose L1816: (C364 <> ( {} ) & D286 <> ( {} ) & ( PosetMax C364 ) = ( PosetMax D286 ) & [ ( C364 \ ( PosetMax C364 ) ) , ( ( {} ) \ ( PosetMax D286 ) ) ] in ( union ( rng D285 ) ));

thus L1817: contradiction by L1816;
end;
end;
thus L1819: thesis by L1810;
end;
theorem
L1820: (for B353 being  connected non  empty Poset holds (for B354 being (Element of ( Fin (the carrier of B353) )) holds ( B354 \ { ( PosetMax B354 ) } ) is (Element of ( Fin (the carrier of B353) ))))
proof
let C365 being  connected non  empty Poset;
let C366 being (Element of ( Fin (the carrier of C365) ));
set D287 = (the carrier of C365);
L1821: C366 c= D287 by FINSUB_1:def 5;
reconsider D288 = C366 as  finite set;
set D289 = ( D288 \ { ( PosetMax C366 ) } );
L1822: D289 c= D287 by L1821 , XBOOLE_1:1;
thus L1823: thesis by L1822 , FINSUB_1:def 5;
end;
L1824: (for B355 being  connected non  empty Poset holds (for B356 being Nat holds (for B357 being (Element of ( Fin (the carrier of B355) )) holds (( card B357 ) = ( B356 + 1 ) implies ( card ( B357 \ { ( PosetMax B357 ) } ) ) = B356))))
proof
let C367 being  connected non  empty Poset;
let C368 being Nat;
let C369 being (Element of ( Fin (the carrier of C367) ));
assume L1825: ( card C369 ) = ( C368 + 1 );
reconsider D290 = C369 as  finite set;
L1826:
now
let C370 being set;
assume L1827: C370 in { ( PosetMax C369 ) };
L1828: C370 = ( PosetMax C369 ) by L1827 , TARSKI:def 1;
thus L1829: C370 in C369 by L1828 , L1825 , L1702 , CARD_1:27;
end;
L1830: { ( PosetMax C369 ) } c= C369 by L1826 , TARSKI:def 3;
L1831: ( card ( D290 \ { ( PosetMax C369 ) } ) ) = ( ( card D290 ) - ( card { ( PosetMax C369 ) } ) ) by L1830 , CARD_2:44;
L1832: ( card { ( PosetMax C369 ) } ) = 1 by CARD_1:30;
thus L1833: thesis by L1832 , L1825 , L1831;
end;
theorem
L1834: (for B358 being  connected non  empty Poset holds ( union ( rng ( FinOrd-Approx B358 ) ) ) is (Order of ( Fin (the carrier of B358) )))
proof
let C371 being  connected non  empty Poset;
set D291 = (the InternalRel of C371);
set D292 = (the carrier of C371);
set D293 = ( union ( rng ( FinOrd-Approx C371 ) ) );
set D294 = ( FinOrd-Approx C371 );
set D295 = { [ B359 , B360 ] where B359 , B360 is (Element of ( Fin D292 )) : (B359 = ( {} ) or (B359 <> ( {} ) & B360 <> ( {} ) & ( PosetMax B359 ) <> ( PosetMax B360 ) & [ ( PosetMax B359 ) , ( PosetMax B360 ) ] in D291)) };
L1835: ( D294 . ( 0 ) ) = D295 by L1718;
L1836:
now
let C372 being set;
assume L1837: C372 in D293;
L1838: (ex B361 being set st (C372 in B361 & B361 in ( rng D294 ))) by L1837 , TARSKI:def 4;
L1839: ( rng D294 ) c= ( bool [: ( Fin D292 ) , ( Fin D292 ) :] ) by RELAT_1:def 19;
thus L1840: C372 in [: ( Fin D292 ) , ( Fin D292 ) :] by L1839 , L1838;
end;
reconsider D296 = D293 as (Relation of ( Fin D292 )) by L1836 , TARSKI:def 3;
L1841:
now
let C373 being set;
assume that
L1842: C373 in ( Fin D292 );
L1843: ( 0 ) in ( NAT );
L1844: ( 0 ) in ( dom D294 ) by L1843 , L1718;
L1845: ( D294 . ( 0 ) ) in ( rng D294 ) by L1844 , FUNCT_1:def 3;
reconsider D297 = C373 as (Element of ( Fin D292 )) by L1842;
defpred S19[ Nat ] means (for B362 being (Element of ( Fin D292 )) holds (( card B362 ) = $1 implies [ B362 , B362 ] in ( union ( rng D294 ) )));
L1846: S19[ ( 0 ) ]
proof
let C374 being (Element of ( Fin D292 ));
assume L1847: ( card C374 ) = ( 0 );
L1848: C374 = ( {} ) by L1847;
L1849: [ C374 , C374 ] in ( D294 . ( 0 ) ) by L1848 , L1835;
thus L1850: thesis by L1849 , L1845 , TARSKI:def 4;
end;
L1851: (for B363 being Nat holds (S19[ B363 ] implies S19[ ( B363 + 1 ) ]))
proof
let C375 being Nat;
assume that
L1852: (for B364 being (Element of ( Fin D292 )) holds (( card B364 ) = C375 implies [ B364 , B364 ] in ( union ( rng D294 ) )));
let C376 being (Element of ( Fin D292 ));
assume that
L1853: ( card C376 ) = ( C375 + 1 );
per cases ;
suppose L1854: C376 = ( {} );

L1855: [ C376 , C376 ] in ( D294 . ( 0 ) ) by L1854 , L1835;
thus L1856: thesis by L1855 , L1845 , TARSKI:def 4;
end;
suppose L1857: C376 <> ( {} );

set D298 = ( C376 \ { ( PosetMax C376 ) } );
reconsider D299 = D298 as (Element of ( Fin D292 )) by L1820;
L1858: ( card D299 ) = C375 by L1853 , L1824;
L1859: [ D299 , D299 ] in ( union ( rng D294 ) ) by L1858 , L1852;
thus L1860: thesis by L1859 , L1857 , L1762;
end;
end;
L1862: (for B365 being Nat holds S19[ B365 ]) from NAT_1:sch 2(L1846 , L1851);
consider C377 being Nat such that L1863: C373 , C377 are_equipotent  by L1842 , CARD_1:43;
L1864: ( card D297 ) = C377 by L1863 , CARD_1:def 2;
thus L1865: [ C373 , C373 ] in D296 by L1864 , L1862;
end;
L1866:
now
let C378 , C379 being set;
assume that
L1867: C378 in ( Fin D292 )
and
L1868: C379 in ( Fin D292 )
and
L1869: [ C378 , C379 ] in D296
and
L1870: [ C379 , C378 ] in D296;
reconsider D300 = C378 as (Element of ( Fin D292 )) by L1867;
defpred S20[ Nat ] means (for B366 , B367 being (Element of ( Fin D292 )) holds ((( card B366 ) = $1 & [ B366 , B367 ] in D296 & [ B367 , B366 ] in D296) implies B366 = B367));
L1871:
now
let C380 , C381 being (Element of ( Fin D292 ));
assume that
L1872: ( card C380 ) = ( 0 )
and
L1873: [ C380 , C381 ] in D296
and
L1874: [ C381 , C380 ] in D296;
reconsider D301 = C380 as  finite set;
L1875: D301 = ( {} ) by L1872;
thus L1876: C380 = C381 by L1875 , L1874 , L1808;
end;
L1877: S20[ ( 0 ) ] by L1871;
L1878:
now
let C382 being Nat;
assume that
L1879: (for B368 , B369 being (Element of ( Fin D292 )) holds ((( card B368 ) = C382 & [ B368 , B369 ] in D296 & [ B369 , B368 ] in D296) implies B368 = B369));
let C383 , C384 being (Element of ( Fin D292 ));
assume that
L1880: ( card C383 ) = ( C382 + 1 )
and
L1881: [ C383 , C384 ] in D296
and
L1882: [ C384 , C383 ] in D296;
per cases  by L1881 , L1762;
suppose L1883: C383 = ( {} );

thus L1884: C383 = C384 by L1883 , L1880;
end;
suppose L1885: (C383 <> ( {} ) & C384 <> ( {} ) & ( PosetMax C383 ) <> ( PosetMax C384 ) & [ ( PosetMax C383 ) , ( PosetMax C384 ) ] in D291);

L1886:
now
per cases  by L1882 , L1762;
suppose L1887: C384 = ( {} );

thus L1888: C383 = C384 by L1887 , L1885;
end;
suppose L1889: (C384 <> ( {} ) & C383 <> ( {} ) & ( PosetMax C384 ) <> ( PosetMax C383 ) & [ ( PosetMax C384 ) , ( PosetMax C383 ) ] in D291);

thus L1890: C383 = C384 by L1889 , L1885 , ORDERS_1:4;
end;
suppose L1891: (C384 <> ( {} ) & C383 <> ( {} ) & ( PosetMax C384 ) = ( PosetMax C383 ) & [ ( C384 \ { ( PosetMax C384 ) } ) , ( C383 \ { ( PosetMax C383 ) } ) ] in D296);

thus L1892: C383 = C384 by L1891 , L1885;
end;
end;
thus L1894: C383 = C384 by L1886;
end;
suppose L1895: (C383 <> ( {} ) & C384 <> ( {} ) & ( PosetMax C383 ) = ( PosetMax C384 ) & [ ( C383 \ { ( PosetMax C383 ) } ) , ( C384 \ { ( PosetMax C384 ) } ) ] in D296);

L1896:
now
per cases  by L1882 , L1762;
suppose L1897: C384 = ( {} );

thus L1898: C383 = C384 by L1897 , L1895;
end;
suppose L1899: (C384 <> ( {} ) & C383 <> ( {} ) & ( PosetMax C384 ) <> ( PosetMax C383 ) & [ ( PosetMax C384 ) , ( PosetMax C383 ) ] in D291);

thus L1900: C383 = C384 by L1899 , L1895;
end;
suppose L1901: (C384 <> ( {} ) & C383 <> ( {} ) & ( PosetMax C384 ) = ( PosetMax C383 ) & [ ( C384 \ { ( PosetMax C384 ) } ) , ( C383 \ { ( PosetMax C383 ) } ) ] in D296);

reconsider D302 = C383 as  finite set;
reconsider D303 = C384 as  finite set;
set D304 = ( D302 \ { ( PosetMax C383 ) } );
set D305 = ( D303 \ { ( PosetMax C384 ) } );
reconsider D306 = D304 , D307 = D305 as (Element of ( Fin D292 )) by L1820;
L1902: ( card D306 ) = C382 by L1880 , L1824;
L1903: D306 = D307 by L1902 , L1879 , L1895 , L1901;
L1904:
now
let C385 being set;
assume L1905: C385 in { ( PosetMax C383 ) };
L1906: C385 = ( PosetMax C383 ) by L1905 , TARSKI:def 1;
thus L1907: C385 in C383 by L1906 , L1901 , L1702;
end;
L1908: { ( PosetMax C383 ) } c= C383 by L1904 , TARSKI:def 3;
L1909: C383 = ( { ( PosetMax C383 ) } \/ D306 ) by L1908 , XBOOLE_1:45;
L1910:
now
let C386 being set;
assume L1911: C386 in { ( PosetMax C384 ) };
L1912: C386 = ( PosetMax C384 ) by L1911 , TARSKI:def 1;
thus L1913: C386 in C384 by L1912 , L1901 , L1702;
end;
L1914: { ( PosetMax C384 ) } c= C384 by L1910 , TARSKI:def 3;
thus L1915: C383 = C384 by L1914 , L1901 , L1903 , L1909 , XBOOLE_1:45;
end;
end;
thus L1917: C383 = C384 by L1896;
end;
end;
L1919: (for B370 being Nat holds (S20[ B370 ] implies S20[ ( B370 + 1 ) ])) by L1878;
L1920: (for B371 being Nat holds S20[ B371 ]) from NAT_1:sch 2(L1877 , L1919);
consider C387 being Nat such that L1921: C378 , C387 are_equipotent  by L1867 , CARD_1:43;
L1922: ( card D300 ) = C387 by L1921 , CARD_1:def 2;
thus L1923: C378 = C379 by L1922 , L1868 , L1869 , L1870 , L1920;
end;
L1924:
now
let C388 , C389 , C390 being set;
assume that
L1925: C388 in ( Fin D292 )
and
L1926: C389 in ( Fin D292 )
and
L1927: C390 in ( Fin D292 )
and
L1928: [ C388 , C389 ] in D296
and
L1929: [ C389 , C390 ] in D296;
defpred S21[ Nat ] means (for B372 , B373 , B374 being (Element of ( Fin D292 )) holds ((( card B372 ) = $1 & [ B372 , B373 ] in D296 & [ B373 , B374 ] in D296) implies [ B372 , B374 ] in D296));
L1930:
now
let C391 , C392 , C393 being (Element of ( Fin D292 ));
assume that
L1931: ( card C391 ) = ( 0 )
and
L1932: [ C391 , C392 ] in D296
and
L1933: [ C392 , C393 ] in D296;
reconsider D308 = C391 as  finite set;
L1934: D308 = ( {} ) by L1931;
thus L1935: [ C391 , C393 ] in D296 by L1934 , L1762;
end;
L1936: S21[ ( 0 ) ] by L1930;
L1937:
now
let C394 being Nat;
assume that
L1938: (for B375 , B376 , B377 being (Element of ( Fin D292 )) holds ((( card B375 ) = C394 & [ B375 , B376 ] in D296 & [ B376 , B377 ] in D296) implies [ B375 , B377 ] in D296));
let C395 , C396 , C397 being (Element of ( Fin D292 ));
assume that
L1939: ( card C395 ) = ( C394 + 1 )
and
L1940: [ C395 , C396 ] in D296
and
L1941: [ C396 , C397 ] in D296;
per cases  by L1940 , L1762;
suppose L1942: C395 = ( {} );

thus L1943: [ C395 , C397 ] in D296 by L1942 , L1762;
end;
suppose L1944: (C395 <> ( {} ) & C396 <> ( {} ) & ( PosetMax C395 ) <> ( PosetMax C396 ) & [ ( PosetMax C395 ) , ( PosetMax C396 ) ] in D291);

L1945:
now
per cases  by L1941 , L1762;
suppose L1946: C396 = ( {} );

thus L1947: [ C395 , C397 ] in D296 by L1946 , L1944;
end;
suppose L1948: (C396 <> ( {} ) & C397 <> ( {} ) & ( PosetMax C396 ) <> ( PosetMax C397 ) & [ ( PosetMax C396 ) , ( PosetMax C397 ) ] in D291);

L1949: [ ( PosetMax C395 ) , ( PosetMax C397 ) ] in D291 by L1948 , L1944 , ORDERS_1:5;
L1950:
now
per cases ;
suppose L1951: ( PosetMax C395 ) <> ( PosetMax C397 );

thus L1952: [ C395 , C397 ] in D296 by L1951 , L1944 , L1948 , L1949 , L1762;
end;
suppose L1953: ( PosetMax C395 ) = ( PosetMax C397 );

thus L1954: [ C395 , C397 ] in D296 by L1953 , L1944 , L1948 , ORDERS_1:4;
end;
end;
thus L1956: [ C395 , C397 ] in D296 by L1950;
end;
suppose L1957: (C396 <> ( {} ) & C397 <> ( {} ) & ( PosetMax C396 ) = ( PosetMax C397 ) & [ ( C396 \ { ( PosetMax C396 ) } ) , ( C397 \ { ( PosetMax C397 ) } ) ] in ( union ( rng D294 ) ));

thus L1958: [ C395 , C397 ] in D296 by L1957 , L1944 , L1762;
end;
end;
thus L1960: [ C395 , C397 ] in D296 by L1945;
end;
suppose L1961: (C395 <> ( {} ) & C396 <> ( {} ) & ( PosetMax C395 ) = ( PosetMax C396 ) & [ ( C395 \ { ( PosetMax C395 ) } ) , ( C396 \ { ( PosetMax C396 ) } ) ] in ( union ( rng D294 ) ));

L1962:
now
per cases  by L1941 , L1762;
suppose L1963: C396 = ( {} );

thus L1964: [ C395 , C397 ] in D296 by L1963 , L1961;
end;
suppose L1965: (C396 <> ( {} ) & C397 <> ( {} ) & ( PosetMax C396 ) <> ( PosetMax C397 ) & [ ( PosetMax C396 ) , ( PosetMax C397 ) ] in D291);

thus L1966: [ C395 , C397 ] in D296 by L1965 , L1961 , L1762;
end;
suppose L1967: (C396 <> ( {} ) & C397 <> ( {} ) & ( PosetMax C396 ) = ( PosetMax C397 ) & [ ( C396 \ { ( PosetMax C396 ) } ) , ( C397 \ { ( PosetMax C397 ) } ) ] in ( union ( rng D294 ) ));

set D309 = ( C395 \ { ( PosetMax C395 ) } );
reconsider D310 = D309 as (Element of ( Fin D292 )) by L1820;
L1968: ( card D310 ) = C394 by L1939 , L1824;
L1969: C397 c= D292 by FINSUB_1:def 5;
reconsider D311 = C397 as  finite set;
set D312 = ( D311 \ { ( PosetMax C397 ) } );
L1970: D312 c= D292 by L1969 , XBOOLE_1:1;
reconsider D313 = D312 as (Element of ( Fin D292 )) by L1970 , FINSUB_1:def 5;
L1971: C396 c= D292 by FINSUB_1:def 5;
reconsider D314 = C396 as  finite set;
set D315 = ( D314 \ { ( PosetMax C396 ) } );
L1972: D315 c= D292 by L1971 , XBOOLE_1:1;
reconsider D316 = D315 as (Element of ( Fin D292 )) by L1972 , FINSUB_1:def 5;
L1973: [ D310 , D316 ] in ( union ( rng D294 ) ) by L1961;
L1974: [ D310 , D313 ] in ( union ( rng D294 ) ) by L1973 , L1938 , L1967 , L1968;
thus L1975: [ C395 , C397 ] in D296 by L1974 , L1961 , L1967 , L1762;
end;
end;
thus L1977: [ C395 , C397 ] in D296 by L1962;
end;
end;
L1979: (for B378 being Nat holds (S21[ B378 ] implies S21[ ( B378 + 1 ) ])) by L1937;
L1980: (for B379 being Nat holds S21[ B379 ]) from NAT_1:sch 2(L1936 , L1979);
reconsider D317 = C388 as (Element of ( Fin D292 )) by L1925;
consider C398 being Nat such that L1981: C388 , C398 are_equipotent  by L1925 , CARD_1:43;
L1982: ( card D317 ) = C398 by L1981 , CARD_1:def 2;
thus L1983: [ C388 , C390 ] in D296 by L1982 , L1926 , L1927 , L1928 , L1929 , L1980;
end;
L1984: D296 is_reflexive_in ( Fin D292 ) by L1841 , RELAT_2:def 1;
L1985: D296 is_antisymmetric_in ( Fin D292 ) by L1866 , RELAT_2:def 4;
L1986: D296 is_transitive_in ( Fin D292 ) by L1924 , RELAT_2:def 8;
reconsider D318 = ( union ( rng D294 ) ) as (Relation of ( Fin D292 )) by L1841;
L1987: ( dom D318 ) = ( Fin D292 ) by L1984 , ORDERS_1:13;
L1988: ( field D318 ) = ( Fin D292 ) by L1984 , ORDERS_1:13;
thus L1989: thesis by L1988 , L1984 , L1985 , L1986 , L1987 , PARTFUN1:def 2 , RELAT_2:def 9 , RELAT_2:def 12 , RELAT_2:def 16;
end;
definition
let C399 being  connected non  empty Poset;
func FinOrd C399 -> (Order of ( Fin (the carrier of C399) )) equals 
( union ( rng ( FinOrd-Approx C399 ) ) );
coherence by L1834;
end;
definition
let C400 being  connected non  empty Poset;
func FinPoset C400 -> Poset equals 
RelStr (# ( Fin (the carrier of C400) ) , ( FinOrd C400 ) #);
correctness;
end;
registration
let C401 being  connected non  empty Poset;
cluster ( FinPoset C401 ) -> non  empty;
correctness;
end;
theorem
L1993: (for B380 being  connected non  empty Poset holds (for B381 , B382 being (Element of ( FinPoset B380 )) holds ([ B381 , B382 ] in (the InternalRel of ( FinPoset B380 )) iff (ex B383 , B384 being (Element of ( Fin (the carrier of B380) )) st (B381 = B383 & B382 = B384 & (B383 = ( {} ) or (B383 <> ( {} ) & B384 <> ( {} ) & ( PosetMax B383 ) <> ( PosetMax B384 ) & [ ( PosetMax B383 ) , ( PosetMax B384 ) ] in (the InternalRel of B380)) or (B383 <> ( {} ) & B384 <> ( {} ) & ( PosetMax B383 ) = ( PosetMax B384 ) & [ ( B383 \ { ( PosetMax B383 ) } ) , ( B384 \ { ( PosetMax B384 ) } ) ] in ( FinOrd B380 ))))))))
proof
let C402 being  connected non  empty Poset;
let C403 , C404 being (Element of ( FinPoset C402 ));
set D319 = (the carrier of C402);
reconsider D320 = C403 , D321 = C404 as (Element of ( Fin D319 ));
thus L1994:now
assume L1995: [ C403 , C404 ] in (the InternalRel of ( FinPoset C402 ));
take D322 = D320;
take D323 = D321;
thus L1996: (C403 = D322 & C404 = D323);
thus L1997: (D322 = ( {} ) or (D322 <> ( {} ) & D323 <> ( {} ) & ( PosetMax D322 ) <> ( PosetMax D323 ) & [ ( PosetMax D322 ) , ( PosetMax D323 ) ] in (the InternalRel of C402)) or (D322 <> ( {} ) & D323 <> ( {} ) & ( PosetMax D322 ) = ( PosetMax D323 ) & [ ( D322 \ { ( PosetMax D322 ) } ) , ( D323 \ { ( PosetMax D323 ) } ) ] in ( FinOrd C402 ))) by L1995 , L1762;
end;
assume L1998: (ex B385 , B386 being (Element of ( Fin (the carrier of C402) )) st (C403 = B385 & C404 = B386 & (B385 = ( {} ) or (B385 <> ( {} ) & B386 <> ( {} ) & ( PosetMax B385 ) <> ( PosetMax B386 ) & [ ( PosetMax B385 ) , ( PosetMax B386 ) ] in (the InternalRel of C402)) or (B385 <> ( {} ) & B386 <> ( {} ) & ( PosetMax B385 ) = ( PosetMax B386 ) & [ ( B385 \ { ( PosetMax B385 ) } ) , ( B386 \ { ( PosetMax B386 ) } ) ] in ( FinOrd C402 )))));
thus L1999: thesis by L1998 , L1762;
end;
registration
let C405 being  connected non  empty Poset;
cluster ( FinPoset C405 ) ->  connected;
correctness
proof
set D324 = (the InternalRel of C405);
set D325 = (the carrier of C405);
set D326 = ( FinOrd C405 );
set D327 = ( Fin D325 );
L2000: ( FinPoset C405 ) = RelStr (# D327 , D326 #);
L2001:
now
let C406 , C407 being (Element of ( FinPoset C405 ));
reconsider D328 = C406 , D329 = C407 as (Element of ( Fin D325 ));
defpred S22[ Nat ] means (for B387 , B388 being (Element of ( Fin D325 )) holds (( card B387 ) = $1 implies ([ B387 , B388 ] in D326 or [ B388 , B387 ] in D326)));
L2002:
now
let C408 , C409 being (Element of ( Fin D325 ));
assume L2003: ( card C408 ) = ( 0 );
L2004: C408 = ( {} ) by L2003;
thus L2005: ([ C408 , C409 ] in D326 or [ C408 , C409 ] in D326) by L2004 , L2000 , L1993;
end;
L2006: S22[ ( 0 ) ] by L2002;
L2007:
now
let C410 being Nat;
assume that
L2008: (for B389 , B390 being (Element of ( Fin D325 )) holds (( card B389 ) = C410 implies ([ B389 , B390 ] in D326 or [ B390 , B389 ] in D326)));
let C411 , C412 being (Element of ( Fin D325 ));
assume that
L2009: ( card C411 ) = ( C410 + 1 );
per cases ;
suppose L2010: C411 = ( {} );

thus L2011: ([ C411 , C412 ] in D326 or [ C412 , C411 ] in D326) by L2010 , L2000 , L1993;
end;
suppose L2012: C411 <> ( {} );

L2013:
now
per cases ;
suppose L2014: C412 = ( {} );

thus L2015: ([ C411 , C412 ] in D326 or [ C412 , C411 ] in D326) by L2014 , L2000 , L1993;
end;
suppose L2016: C412 <> ( {} );

L2017:
now
per cases ;
suppose L2018: ( PosetMax C411 ) <> ( PosetMax C412 );

L2019:
now
per cases  by WAYBEL_0:def 29;
suppose L2020: ( PosetMax C411 ) <= ( PosetMax C412 );

L2021: [ ( PosetMax C411 ) , ( PosetMax C412 ) ] in D324 by L2020 , ORDERS_2:def 5;
thus L2022: ([ C411 , C412 ] in D326 or [ C412 , C411 ] in D326) by L2021 , L2000 , L2012 , L2016 , L2018 , L1993;
end;
suppose L2023: ( PosetMax C412 ) <= ( PosetMax C411 );

L2024: [ ( PosetMax C412 ) , ( PosetMax C411 ) ] in D324 by L2023 , ORDERS_2:def 5;
thus L2025: ([ C411 , C412 ] in D326 or [ C412 , C411 ] in D326) by L2024 , L2000 , L2012 , L2016 , L2018 , L1993;
end;
end;
thus L2027: ([ C411 , C412 ] in D326 or [ C412 , C411 ] in D326) by L2019;
end;
suppose L2028: ( PosetMax C411 ) = ( PosetMax C412 );

set D330 = ( C411 \ { ( PosetMax C411 ) } );
set D331 = ( C412 \ { ( PosetMax C412 ) } );
L2029: ( card D330 ) = C410 by L2009 , L1824;
reconsider D332 = D330 , D333 = D331 as (Element of ( Fin D325 )) by L1820;
L2030:
now
per cases  by L2008 , L2029;
suppose L2031: [ D332 , D333 ] in D326;

thus L2032: ([ C411 , C412 ] in D326 or [ C412 , C411 ] in D326) by L2031 , L2000 , L2012 , L2016 , L2028 , L1993;
end;
suppose L2033: [ D333 , D332 ] in D326;

thus L2034: ([ C411 , C412 ] in D326 or [ C412 , C411 ] in D326) by L2033 , L2000 , L2012 , L2016 , L2028 , L1993;
end;
end;
thus L2036: ([ C411 , C412 ] in D326 or [ C412 , C411 ] in D326) by L2030;
end;
end;
thus L2038: ([ C411 , C412 ] in D326 or [ C412 , C411 ] in D326) by L2017;
end;
end;
thus L2040: ([ C411 , C412 ] in D326 or [ C412 , C411 ] in D326) by L2013;
end;
end;
L2042: (for B391 being Nat holds (S22[ B391 ] implies S22[ ( B391 + 1 ) ])) by L2007;
L2043: (for B392 being Nat holds S22[ B392 ]) from NAT_1:sch 2(L2006 , L2042);
consider C413 being Nat such that L2044: C406 , C413 are_equipotent  by CARD_1:43;
L2045: ( card D328 ) = C413 by L2044 , CARD_1:def 2;
L2046: ([ D328 , D329 ] in D326 or [ D329 , D328 ] in D326) by L2045 , L2043;
thus L2047: (C406 <= C407 or C407 <= C406) by L2046 , ORDERS_2:def 5;
end;
thus L2048: thesis by L2001 , WAYBEL_0:def 29;
end;
end;
definition
let C414 being  connected non  empty RelStr;
let C415 being non  empty set;
assume that
L2050: C414 is  well_founded
and
L2051: C415 c= (the carrier of C414);
func MinElement (C415 , C414) -> (Element of C414) means 
:L2052: (it in C415 & it is_minimal_wrt C415 , (the InternalRel of C414));
existence
proof
set D334 = (the InternalRel of C414);
set D335 = (the carrier of C414);
L2053: D334 is_well_founded_in D335 by L2050 , WELLFND1:def 2;
consider C416 being set such that L2054: C416 in C415 and L2055: ( D334 -Seg C416 ) misses C415 by L2053 , L2051 , WELLORD1:def 3;
reconsider D336 = C416 as (Element of C414) by L2051 , L2054;
take D336;
thus L2056: D336 in C415 by L2054;
thus L2057: thesis by L2054 , L2055 , DICKSON:6;
end;
uniqueness
proof
let C417 , C418 being (Element of C414);
assume that
L2058: C417 in C415
and
L2059: C417 is_minimal_wrt C415 , (the InternalRel of C414)
and
L2060: C418 in C415
and
L2061: C418 is_minimal_wrt C415 , (the InternalRel of C414);
set D337 = (the InternalRel of C414);
assume L2062: C417 <> C418;
per cases  by WAYBEL_0:def 29;
suppose L2063: C417 <= C418;

L2064: [ C417 , C418 ] in D337 by L2063 , ORDERS_2:def 5;
L2065: C417 in ( D337 -Seg C418 ) by L2064 , L2062 , WELLORD1:1;
L2066: C417 in ( ( D337 -Seg C418 ) /\ C415 ) by L2065 , L2058 , XBOOLE_0:def 4;
L2067: ( D337 -Seg C418 ) meets C415 by L2066 , XBOOLE_0:def 7;
thus L2068: contradiction by L2067 , L2061 , DICKSON:6;
end;
suppose L2069: C418 <= C417;

L2070: [ C418 , C417 ] in D337 by L2069 , ORDERS_2:def 5;
L2071: C418 in ( D337 -Seg C417 ) by L2070 , L2062 , WELLORD1:1;
L2072: C418 in ( ( D337 -Seg C417 ) /\ C415 ) by L2071 , L2060 , XBOOLE_0:def 4;
L2073: ( D337 -Seg C417 ) meets C415 by L2072 , XBOOLE_0:def 7;
thus L2074: contradiction by L2073 , L2059 , DICKSON:6;
end;
end;
end;
theorem
L2077: (for B393 being non  empty RelStr holds (for B394 being (sequence of B393) holds (for B395 being Nat holds (B394 is  descending implies ( B394 ^\ B395 ) is  descending))))
proof
let C419 being non  empty RelStr;
let C420 being (sequence of C419);
let C421 being Nat;
assume that
L2078: C420 is  descending;
set D338 = ( C420 ^\ C421 );
set D339 = (the InternalRel of C419);
L2079:
now
let C422 being Nat;
set D340 = ( C422 + C421 );
L2080: ( D338 . C422 ) = ( C420 . D340 ) by NAT_1:def 3;
L2081: ( D338 . ( C422 + 1 ) ) = ( C420 . ( ( C422 + 1 ) + C421 ) ) by NAT_1:def 3
.= ( C420 . ( ( C422 + C421 ) + 1 ) );
thus L2082: ( D338 . ( C422 + 1 ) ) <> ( D338 . C422 ) by L2081 , L2078 , L2080 , WELLFND1:def 6;
thus L2083: [ ( D338 . ( C422 + 1 ) ) , ( D338 . C422 ) ] in D339 by L2078 , L2080 , L2081 , WELLFND1:def 6;
end;
thus L2084: thesis by L2079 , WELLFND1:def 6;
end;
theorem
L2085: (for B396 being  connected non  empty Poset holds (B396 is  well_founded implies ( FinPoset B396 ) is  well_founded))
proof
let C423 being  connected non  empty Poset;
assume that
L2086: C423 is  well_founded;
set D341 = (the InternalRel of C423);
set D342 = (the carrier of C423);
set D343 = ( FinOrd C423 );
set D344 = ( Fin D342 );
assume L2087: (not ( FinPoset C423 ) is  well_founded);
consider C424 being (sequence of ( FinPoset C423 )) such that L2088: C424 is  descending by L2087 , WELLFND1:14;
set D345 = { B397 where B397 is (sequence of ( FinPoset C423 )) : B397 is  descending };
L2089: C424 in D345 by L2088;
reconsider D346 = D345 as non  empty set by L2089;
set D347 = [: D342 , D346 :];
defpred S23[ Nat , set , set ] means (ex B398 being (sequence of ( FinPoset C423 )) st (ex B399 being (Function of ( NAT ) , D342) st (ex B400 being (Element of C423) st (ex B401 being Nat st (ex B402 being (sequence of ( FinPoset C423 )) st (ex B403 being (sequence of ( FinPoset C423 )) st (B398 = ( $2 `2 ) & (for B404 being Nat holds (ex B405 being (Element of ( Fin D342 )) st (B405 = ( B398 . B404 ) & B405 <> ( {} ) & ( B399 . B404 ) = ( PosetMax B405 )))) & B400 = ( MinElement (( rng B399 ) , C423) ) & B401 = ( B399 mindex B400 ) & B402 = ( B398 ^\ B401 ) & (for B406 being Nat holds ( B403 . B406 ) = ( ( B402 . B406 ) \ { B400 } )) & (for B407 being Nat holds (B401 <= B407 implies ( B399 . B407 ) = B400)) & $3 = [ B400 , B403 ])))))));
L2090: (for B408 being (Element of ( NAT )) holds (for B409 being (Element of D347) holds (ex B410 being (Element of D347) st S23[ B408 , B409 , B410 ])))
proof
let C425 being (Element of ( NAT ));
let C426 being (Element of D347);
set D348 = ( C426 `2 );
L2091: D348 in D346;
L2092: (ex B411 being (sequence of ( FinPoset C423 )) st (B411 = D348 & B411 is  descending)) by L2091;
reconsider D349 = D348 as (sequence of ( FinPoset C423 )) by L2092;
L2093:
now
let C427 being Nat;
assume L2094: ( D349 . C427 ) = ( {} );
L2095: ( D349 . ( C427 + 1 ) ) <> ( D349 . C427 ) by L2092 , WELLFND1:def 6;
L2096: [ ( D349 . ( C427 + 1 ) ) , ( D349 . C427 ) ] in D343 by L2092 , WELLFND1:def 6;
thus L2097: contradiction by L2096 , L2094 , L2095 , L1808;
end;
defpred S24[ Nat , set ] means (ex B412 being (Element of ( Fin D342 )) st (B412 = ( D349 . $1 ) & B412 <> ( {} ) & $2 = ( PosetMax B412 )));
L2098: (for B413 being (Element of ( NAT )) holds (ex B414 being (Element of D342) st S24[ B413 , B414 ]))
proof
let C428 being (Element of ( NAT ));
set D350 = ( D349 . C428 );
reconsider D351 = D350 as (Element of ( Fin D342 ));
set D352 = ( PosetMax D351 );
take D352;
take D351;
thus L2099: D351 = ( D349 . C428 );
thus L2100: D351 <> ( {} ) by L2093;
thus L2101: thesis;
end;
consider C429 being (Function of ( NAT ) , D342) such that L2102: (for B415 being (Element of ( NAT )) holds S24[ B415 , ( C429 . B415 ) ]) from FUNCT_2:sch 3(L2098);
set D353 = ( MinElement (( rng C429 ) , C423) );
set D354 = ( C429 mindex D353 );
set D355 = ( D349 ^\ D354 );
defpred S25[ set , set ] means (ex B416 being (Element of D344) st (B416 = ( ( D355 . $1 ) \ { D353 } ) & $2 = B416));
L2103:
now
let C430 being Nat;
set D356 = ( ( D355 . C430 ) \ { D353 } );
reconsider D357 = ( D355 . C430 ) as  finite (Subset of D342) by FINSUB_1:def 5;
L2104: ( D357 \ { D353 } ) in D344 by FINSUB_1:def 5;
reconsider D358 = D356 as (Element of D344) by L2104;
set D359 = D358;
take D360 = D359;
take D361 = D358;
thus L2105: D361 = ( ( D355 . C430 ) \ { D353 } );
thus L2106: D360 = D361;
end;
L2107: (for B417 being (Element of ( NAT )) holds (ex B418 being (Element of D344) st S25[ B417 , B418 ])) by L2103;
defpred S26[ Nat ] means ( C429 . ( D354 + $1 ) ) = D353;
L2108: ( dom C429 ) = ( NAT ) by FUNCT_2:def 1;
L2109: ( rng C429 ) c= D342 by RELAT_1:def 19;
L2110: D353 in ( rng C429 ) by L2109 , L2086 , L2052;
L2111: D353 is_minimal_wrt ( rng C429 ) , D341 by L2086 , L2109 , L2052;
L2112: S26[ ( 0 ) ] by L2108 , L2110 , DICKSON:def 11;
L2113:
now
let C431 being Nat;
assume that
L2114: S26[ C431 ];
set D362 = ( D354 + C431 );
set D363 = ( D354 + ( C431 + 1 ) );
set D364 = ( ( D354 + C431 ) + 1 );
consider C432 being (Element of ( Fin D342 )) such that L2115: C432 = ( D349 . D362 ) and L2116: C432 <> ( {} ) and L2117: ( C429 . D362 ) = ( PosetMax C432 ) by L2102;
consider C433 being (Element of ( Fin D342 )) such that L2118: C433 = ( D349 . D363 ) and L2119: C433 <> ( {} ) and L2120: ( C429 . D363 ) = ( PosetMax C433 ) by L2102;
reconsider D365 = C432 , D366 = C433 as (Element of ( FinPoset C423 ));
L2121: D363 = D364;
L2122: [ D366 , D365 ] in D343 by L2121 , L2092 , L2115 , L2118 , WELLFND1:def 6;
consider C434 , C435 being (Element of ( Fin D342 )) such that L2123: C433 = C434 and L2124: C432 = C435 and L2125: (C434 = ( {} ) or (C434 <> ( {} ) & C435 <> ( {} ) & ( PosetMax C434 ) <> ( PosetMax C435 ) & [ ( PosetMax C434 ) , ( PosetMax C435 ) ] in D341) or (C434 <> ( {} ) & C435 <> ( {} ) & ( PosetMax C434 ) = ( PosetMax C435 ) & [ ( C434 \ { ( PosetMax C434 ) } ) , ( C435 \ { ( PosetMax C435 ) } ) ] in ( FinOrd C423 ))) by L2122 , L1993;
per cases  by L2125;
suppose L2126: C434 = ( {} );

thus L2127: S26[ ( C431 + 1 ) ] by L2126 , L2119 , L2123;
end;
suppose L2128: (C434 <> ( {} ) & C435 <> ( {} ) & ( PosetMax C434 ) <> ( PosetMax C435 ) & [ ( PosetMax C434 ) , ( PosetMax C435 ) ] in D341);

L2129: ( C429 . D363 ) in ( rng C429 ) by L2108 , FUNCT_1:def 3;
thus L2130: S26[ ( C431 + 1 ) ] by L2129 , L2111 , L2114 , L2117 , L2120 , L2123 , L2124 , L2128 , WAYBEL_4:def 25;
end;
suppose L2131: (C434 <> ( {} ) & C435 <> ( {} ) & ( PosetMax C434 ) = ( PosetMax C435 ) & [ ( C434 \ { ( PosetMax C434 ) } ) , ( C435 \ { ( PosetMax C435 ) } ) ] in ( FinOrd C423 ));

thus L2132: S26[ ( C431 + 1 ) ] by L2131 , L2114 , L2117 , L2120 , L2123 , L2124;
end;
end;
L2134: (for B419 being Nat holds S26[ B419 ]) from NAT_1:sch 2(L2112 , L2113);
L2135:
now
let C436 being Nat;
assume L2136: D354 <= C436;
consider C437 being Nat such that L2137: C436 = ( D354 + C437 ) by L2136 , NAT_1:10;
reconsider D367 = C437 as Nat;
L2138: C436 = ( D354 + D367 ) by L2137;
thus L2139: ( C429 . C436 ) = D353 by L2138 , L2134;
end;
L2140:
now
let C438 being Nat;
assume that
L2141: D354 <= C438;
reconsider D368 = C438 as (Element of ( NAT )) by ORDINAL1:def 12;
consider C439 being (Element of ( Fin D342 )) such that L2142: C439 = ( D349 . C438 ) and L2143: C439 <> ( {} ) and L2144: ( C429 . D368 ) = ( PosetMax C439 ) by L2102;
take D369 = C439;
thus L2145: D369 = ( D349 . C438 ) by L2142;
thus L2146: ( PosetMax D369 ) = D353 by L2135 , L2141 , L2144;
end;
L2147:
now
let C440 being Nat;
set D370 = ( D355 . C440 );
reconsider D371 = D370 as (Element of ( Fin D342 ));
take D372 = D371;
thus L2148: D372 = ( D355 . C440 );
set D373 = ( C440 + D354 );
L2149: (ex B420 being (Element of ( Fin D342 )) st (B420 = ( D349 . D373 ) & ( PosetMax B420 ) = D353)) by L2140 , NAT_1:11;
thus L2150: ( PosetMax D372 ) = D353 by L2149 , NAT_1:def 3;
end;
consider C441 being (Function of ( NAT ) , D344) such that L2151: (for B421 being (Element of ( NAT )) holds S25[ B421 , ( C441 . B421 ) ]) from FUNCT_2:sch 3(L2107);
reconsider D374 = C441 as (sequence of ( FinPoset C423 ));
set D375 = [ D353 , D374 ];
L2152: D355 is  descending by L2092 , L2077;
L2153:
now
let C442 being Nat;
reconsider D376 = C442 as (Element of ( NAT )) by ORDINAL1:def 12;
L2154: (ex B422 being (Element of D344) st (B422 = ( ( D355 . D376 ) \ { D353 } ) & ( D374 . D376 ) = B422)) by L2151;
L2155: (ex B423 being (Element of D344) st (B423 = ( ( D355 . ( C442 + 1 ) ) \ { D353 } ) & ( D374 . ( C442 + 1 ) ) = B423)) by L2151;
reconsider D377 = ( D355 . C442 ) , D378 = ( D355 . ( C442 + 1 ) ) as (Element of ( FinPoset C423 ));
reconsider D379 = D377 , D380 = D378 as (Element of ( Fin D342 ));
L2156: D378 <> D377 by L2152 , WELLFND1:def 6;
L2157: [ D378 , D377 ] in D343 by L2152 , WELLFND1:def 6;
consider C443 , C444 being (Element of ( Fin D342 )) such that L2158: D378 = C443 and L2159: D377 = C444 and L2160: (C443 = ( {} ) or (C443 <> ( {} ) & C444 <> ( {} ) & ( PosetMax C443 ) <> ( PosetMax C444 ) & [ ( PosetMax C443 ) , ( PosetMax C444 ) ] in (the InternalRel of C423)) or (C443 <> ( {} ) & C444 <> ( {} ) & ( PosetMax C443 ) = ( PosetMax C444 ) & [ ( C443 \ { ( PosetMax C443 ) } ) , ( C444 \ { ( PosetMax C444 ) } ) ] in ( FinOrd C423 ))) by L2157 , L1993;
L2161:
now
let C445 being Nat;
L2162: ( D355 . C445 ) = ( D349 . ( C445 + D354 ) ) by NAT_1:def 3;
thus L2163: ( D355 . C445 ) <> ( {} ) by L2162 , L2093;
end;
L2164:
now
L2165: (ex B424 being (Element of ( Fin D342 )) st (B424 = ( D355 . C442 ) & ( PosetMax B424 ) = D353)) by L2147;
L2166: (ex B425 being (Element of ( Fin D342 )) st (B425 = ( D355 . ( C442 + 1 ) ) & ( PosetMax B425 ) = D353)) by L2147;
thus L2167: (( PosetMax D379 ) = D353 & ( PosetMax D380 ) = D353) by L2166 , L2165;
end;
L2168: D379 <> ( {} ) by L2161;
L2169: D380 <> ( {} ) by L2161;
L2170: D353 in D377 by L2164 , L2168 , L1702;
L2171: D353 in D378 by L2164 , L2169 , L1702;
thus L2172: ( D374 . ( C442 + 1 ) ) <> ( D374 . C442 ) by L2171 , L2154 , L2155 , L2156 , L2170 , L1;
per cases  by L2160;
suppose L2173: C443 = ( {} );

thus L2174: [ ( D374 . ( C442 + 1 ) ) , ( D374 . C442 ) ] in D343 by L2173 , L2158 , L2161;
end;
suppose L2175: (C443 <> ( {} ) & C444 <> ( {} ) & ( PosetMax C443 ) <> ( PosetMax C444 ) & [ ( PosetMax C443 ) , ( PosetMax C444 ) ] in D341);

thus L2176: [ ( D374 . ( C442 + 1 ) ) , ( D374 . C442 ) ] in D343 by L2175 , L2158 , L2159 , L2164;
end;
suppose L2177: (C443 <> ( {} ) & C444 <> ( {} ) & ( PosetMax C443 ) = ( PosetMax C444 ) & [ ( C443 \ { ( PosetMax C443 ) } ) , ( C444 \ { ( PosetMax C444 ) } ) ] in ( FinOrd C423 ));

thus L2178: [ ( D374 . ( C442 + 1 ) ) , ( D374 . C442 ) ] in D343 by L2177 , L2154 , L2155 , L2158 , L2159 , L2164;
end;
end;
L2180: D374 is  descending by L2153 , WELLFND1:def 6;
L2181: D374 in D346 by L2180;
reconsider D381 = D375 as (Element of D347) by L2181 , ZFMISC_1:def 2;
take D381;
take D349;
take C429;
take D353;
take D354;
take D355;
take D374;
thus L2182: D349 = ( C426 `2 );
thus L2183: (for B426 being Nat holds (ex B427 being (Element of ( Fin D342 )) st (B427 = ( D349 . B426 ) & B427 <> ( {} ) & ( C429 . B426 ) = ( PosetMax B427 ))))
proof
let C446 being Nat;
reconsider D382 = C446 as (Element of ( NAT )) by ORDINAL1:def 12;
L2184: (ex B428 being (Element of ( Fin D342 )) st (B428 = ( D349 . C446 ) & B428 <> ( {} ) & ( C429 . D382 ) = ( PosetMax B428 ))) by L2102;
thus L2185: thesis by L2184;
end;

thus L2186: D353 = ( MinElement (( rng C429 ) , C423) );
thus L2187: D354 = ( C429 mindex D353 );
thus L2188: D355 = ( D349 ^\ D354 );
L2189:
now
let C447 being Nat;
reconsider D383 = C447 as (Element of ( NAT )) by ORDINAL1:def 12;
L2190: (ex B429 being (Element of D344) st (B429 = ( ( D355 . D383 ) \ { D353 } ) & ( D374 . D383 ) = B429)) by L2151;
thus L2191: ( D374 . C447 ) = ( ( D355 . C447 ) \ { D353 } ) by L2190;
end;
thus L2192: (for B430 being Nat holds ( D374 . B430 ) = ( ( D355 . B430 ) \ { D353 } )) by L2189;
thus L2193: (for B431 being Nat holds (D354 <= B431 implies ( C429 . B431 ) = D353)) by L2135;
thus L2194: thesis;
end;
set D384 = the (Element of C423);
set D385 = [ D384 , C424 ];
L2195: C424 in D346 by L2088;
reconsider D386 = D385 as (Element of D347) by L2195 , ZFMISC_1:def 2;
consider C448 being (Element of D347), C449 being (sequence of ( FinPoset C423 )), C450 being (Function of ( NAT ) , D342), C451 being (Element of C423), C452 being Nat, C453 , C454 being (sequence of ( FinPoset C423 )) such that L2196: C449 = ( D386 `2 ) and L2197: (for B432 being Nat holds (ex B433 being (Element of ( Fin D342 )) st (B433 = ( C449 . B432 ) & B433 <> ( {} ) & ( C450 . B432 ) = ( PosetMax B433 )))) and L2198: C451 = ( MinElement (( rng C450 ) , C423) ) and L2199: C452 = ( C450 mindex C451 ) and L2200: C453 = ( C449 ^\ C452 ) and L2201: (for B434 being Nat holds ( C454 . B434 ) = ( ( C453 . B434 ) \ { C451 } )) and L2202: (for B435 being Nat holds (C452 <= B435 implies ( C450 . B435 ) = C451)) and L2203: C448 = [ C451 , C454 ] by L2090;
consider C455 being (Function of ( NAT ) , D347) such that L2204: ( C455 . ( 0 ) ) = C448 and L2205: (for B436 being (Element of ( NAT )) holds S23[ B436 , ( C455 . B436 ) , ( C455 . ( B436 + 1 ) ) ]) from RECDEF_1:sch 2(L2090);
L2206: (for B437 being Nat holds S23[ B437 , ( C455 . B437 ) , ( C455 . ( B437 + 1 ) ) ])
proof
let C456 being Nat;
reconsider D387 = C456 as (Element of ( NAT )) by ORDINAL1:def 12;
L2207: S23[ D387 , ( C455 . D387 ) , ( C455 . ( D387 + 1 ) ) ] by L2205;
thus L2208: thesis by L2207;
end;
deffunc H1(set) = ( ( C455 . $1 ) `1 );
L2209:
now
let C457 being set;
assume L2210: C457 in ( NAT );
reconsider D388 = C457 as Nat by L2210;
reconsider D389 = ( C455 . D388 ) as (Element of [: D342 , D346 :]);
L2211: ( D389 `1 ) in D342;
thus L2212: H1(C457) in D342 by L2211;
end;
consider C458 being (Function of ( NAT ) , D342) such that L2213: (for B438 being set holds (B438 in ( NAT ) implies ( C458 . B438 ) = H1(B438))) from FUNCT_2:sch 2(L2209);
reconsider D390 = C458 as (sequence of C423);
defpred S27[ Nat ] means (for B439 being Nat holds (ex B440 being (sequence of ( FinPoset C423 )) st (B440 = ( ( C455 . $1 ) `2 ) & (for B441 being set holds (B441 in ( B440 . B439 ) implies (B441 <> ( ( C455 . $1 ) `1 ) & [ B441 , ( ( C455 . $1 ) `1 ) ] in D341))))));
L2214: S27[ ( 0 ) ]
proof
let C459 being Nat;
set D391 = ( ( C455 . ( 0 ) ) `2 );
L2215: D391 in D346;
L2216: (ex B442 being (sequence of ( FinPoset C423 )) st (B442 = D391 & B442 is  descending)) by L2215;
reconsider D392 = D391 as (sequence of ( FinPoset C423 )) by L2216;
take D392;
thus L2217: D392 = ( ( C455 . ( 0 ) ) `2 );
let C460 being set;
assume that
L2218: C460 in ( D392 . C459 );
L2219: C451 = ( [ C451 , C454 ] `1 );
L2220: C454 = ( [ C451 , C454 ] `2 )
.= D392 by L2203 , L2204;
L2221: C460 in ( ( C453 . C459 ) \ { C451 } ) by L2220 , L2201 , L2218;
L2222: C460 in ( C453 . C459 ) by L2221;
L2223: (not C460 in { C451 }) by L2221 , XBOOLE_0:def 5;
thus L2224: C460 <> ( ( C455 . ( 0 ) ) `1 ) by L2223 , L2219 , L2203 , L2204 , TARSKI:def 1;
L2225: ( D392 . C459 ) c= D342 by FINSUB_1:def 5;
reconsider D393 = C460 as (Element of C423) by L2225 , L2218;
L2226: C460 in ( C449 . ( C459 + C452 ) ) by L2200 , L2222 , NAT_1:def 3;
consider C461 being (Element of ( Fin D342 )) such that L2227: C461 = ( C449 . ( C459 + C452 ) ) and L2228: C461 <> ( {} ) and L2229: ( C450 . ( C459 + C452 ) ) = ( PosetMax C461 ) by L2197;
L2230: ( PosetMax C461 ) = C451 by L2202 , L2229 , NAT_1:11;
L2231: C451 is_maximal_wrt C461 , D341 by L2230 , L2228 , L1702;
L2232: (not [ C451 , C460 ] in D341) by L2231 , L2219 , L2224 , L2226 , L2227 , L2203 , L2204 , WAYBEL_4:def 23;
L2233: (not C451 <= D393) by L2232 , ORDERS_2:def 5;
L2234: D393 <= C451 by L2233 , WAYBEL_0:def 29;
thus L2235: thesis by L2234 , L2219 , L2203 , L2204 , ORDERS_2:def 5;
end;
L2236: (for B443 being Nat holds (S27[ B443 ] implies S27[ ( B443 + 1 ) ]))
proof
let C462 being Nat;
assume L2237: S27[ C462 ];
let C463 being Nat;
set D394 = ( C462 + 1 );
reconsider D395 = D394 as Nat;
set D396 = ( ( C455 . D395 ) `2 );
consider C464 being (sequence of ( FinPoset C423 )), C465 being (Function of ( NAT ) , D342), C466 being (Element of C423), C467 being Nat, C468 , C469 being (sequence of ( FinPoset C423 )) such that L2238: C464 = ( ( C455 . C462 ) `2 ) and L2239: (for B444 being Nat holds (ex B445 being (Element of ( Fin D342 )) st (B445 = ( C464 . B444 ) & B445 <> ( {} ) & ( C465 . B444 ) = ( PosetMax B445 )))) and L2240: C466 = ( MinElement (( rng C465 ) , C423) ) and L2241: C467 = ( C465 mindex C466 ) and L2242: C468 = ( C464 ^\ C467 ) and L2243: (for B446 being Nat holds ( C469 . B446 ) = ( ( C468 . B446 ) \ { C466 } )) and L2244: (for B447 being Nat holds (C467 <= B447 implies ( C465 . B447 ) = C466)) and L2245: ( C455 . ( C462 + 1 ) ) = [ C466 , C469 ] by L2206;
L2246: D396 in D346;
L2247: (ex B448 being (sequence of ( FinPoset C423 )) st (B448 = D396 & B448 is  descending)) by L2246;
reconsider D397 = D396 as (sequence of ( FinPoset C423 )) by L2247;
take D397;
thus L2248: D397 = ( ( C455 . ( C462 + 1 ) ) `2 );
let C470 being set;
assume that
L2249: C470 in ( D397 . C463 );
L2250: C466 = ( [ C466 , C469 ] `1 );
L2251: C469 = ( [ C466 , C469 ] `2 )
.= D397 by L2245;
L2252: C470 in ( ( C468 . C463 ) \ { C466 } ) by L2251 , L2243 , L2249;
L2253: C470 in ( C468 . C463 ) by L2252;
L2254: (not C470 in { C466 }) by L2252 , XBOOLE_0:def 5;
thus L2255: C470 <> ( ( C455 . ( C462 + 1 ) ) `1 ) by L2254 , L2250 , L2245 , TARSKI:def 1;
L2256: ( D397 . C463 ) c= D342 by FINSUB_1:def 5;
reconsider D398 = C470 as (Element of C423) by L2256 , L2249;
L2257: C470 in ( C464 . ( C463 + C467 ) ) by L2242 , L2253 , NAT_1:def 3;
consider C471 being (Element of ( Fin D342 )) such that L2258: C471 = ( C464 . ( C463 + C467 ) ) and L2259: C471 <> ( {} ) and L2260: ( C465 . ( C463 + C467 ) ) = ( PosetMax C471 ) by L2239;
L2261: ( PosetMax C471 ) = C466 by L2244 , L2260 , NAT_1:11;
L2262: C466 is_maximal_wrt C471 , D341 by L2261 , L2259 , L1702;
L2263: (not [ C466 , C470 ] in D341) by L2262 , L2250 , L2255 , L2257 , L2258 , L2245 , WAYBEL_4:def 23;
L2264: (not C466 <= D398) by L2263 , ORDERS_2:def 5;
L2265: D398 <= C466 by L2264 , WAYBEL_0:def 29;
thus L2266: thesis by L2265 , L2250 , L2245 , ORDERS_2:def 5;
end;
L2267: (for B449 being Nat holds S27[ B449 ]) from NAT_1:sch 2(L2214 , L2236);
defpred S28[ Nat ] means (ex B450 being (sequence of ( FinPoset C423 )) st (ex B451 being Nat st (B450 = ( ( C455 . $1 ) `2 ) & ( D390 . ( $1 + 1 ) ) in ( B450 . B451 ))));
L2268: S28[ ( 0 ) ]
proof
set D399 = ( ( C455 . ( 0 ) ) `2 );
L2269: D399 in D346;
L2270: (ex B452 being (sequence of ( FinPoset C423 )) st (B452 = D399 & B452 is  descending)) by L2269;
reconsider D400 = D399 as (sequence of ( FinPoset C423 )) by L2270;
take D400;
L2271: ( D390 . ( (( 0 ) qua Nat) + 1 ) ) = ( ( C455 . ( (( 0 ) qua Nat) + 1 ) ) `1 ) by L2213;
consider C472 being (sequence of ( FinPoset C423 )), C473 being (Function of ( NAT ) , D342), C474 being (Element of C423), C475 being Nat, C476 , C477 being (sequence of ( FinPoset C423 )) such that L2272: C472 = ( ( C455 . ( 0 ) ) `2 ) and L2273: (for B453 being Nat holds (ex B454 being (Element of ( Fin D342 )) st (B454 = ( C472 . B453 ) & B454 <> ( {} ) & ( C473 . B453 ) = ( PosetMax B454 )))) and L2274: C474 = ( MinElement (( rng C473 ) , C423) ) and L2275: C475 = ( C473 mindex C474 ) and L2276: C476 = ( C472 ^\ C475 ) and L2277: (for B455 being Nat holds ( C477 . B455 ) = ( ( C476 . B455 ) \ { C474 } )) and L2278: (for B456 being Nat holds (C475 <= B456 implies ( C473 . B456 ) = C474)) and L2279: ( C455 . ( (( 0 ) qua Nat) + 1 ) ) = [ C474 , C477 ] by L2205;
L2280: ( rng C473 ) c= D342 by RELAT_1:def 19;
L2281: C474 in ( rng C473 ) by L2280 , L2086 , L2274 , L2052;
consider C478 being set such that L2282: C478 in ( dom C473 ) and L2283: ( C473 . C478 ) = C474 by L2281 , FUNCT_1:def 3;
L2284: (ex B457 being (Element of ( Fin D342 )) st (B457 = ( C472 . C478 ) & B457 <> ( {} ) & ( C473 . C478 ) = ( PosetMax B457 ))) by L2273 , L2282;
reconsider D401 = C478 as Nat by L2282;
take D401;
thus L2285: D400 = ( ( C455 . ( 0 ) ) `2 );
L2286: C474 in ( D400 . D401 ) by L2272 , L2283 , L2284 , L1702;
L2287: ( [ C474 , C477 ] `1 ) = C474;
thus L2288: ( D390 . ( (( 0 ) qua Nat) + 1 ) ) in ( D400 . D401 ) by L2287 , L2271 , L2279 , L2286;
end;
L2289: (for B458 being Nat holds (S28[ B458 ] implies S28[ ( B458 + 1 ) ]))
proof
let C479 being Nat;
assume L2290: S28[ C479 ];
set D402 = ( ( C455 . ( C479 + 1 ) ) `2 );
L2291: D402 in D346;
L2292: (ex B459 being (sequence of ( FinPoset C423 )) st (B459 = D402 & B459 is  descending)) by L2291;
reconsider D403 = D402 as (sequence of ( FinPoset C423 )) by L2292;
take D403;
set D404 = ( C479 + 1 );
reconsider D405 = D404 as Nat;
consider C480 being (sequence of ( FinPoset C423 )), C481 being (Function of ( NAT ) , D342), C482 being (Element of C423), C483 being Nat, C484 , C485 being (sequence of ( FinPoset C423 )) such that L2293: C480 = ( ( C455 . D405 ) `2 ) and L2294: (for B460 being Nat holds (ex B461 being (Element of ( Fin D342 )) st (B461 = ( C480 . B460 ) & B461 <> ( {} ) & ( C481 . B460 ) = ( PosetMax B461 )))) and L2295: C482 = ( MinElement (( rng C481 ) , C423) ) and L2296: C483 = ( C481 mindex C482 ) and L2297: C484 = ( C480 ^\ C483 ) and L2298: (for B462 being Nat holds ( C485 . B462 ) = ( ( C484 . B462 ) \ { C482 } )) and L2299: (for B463 being Nat holds (C483 <= B463 implies ( C481 . B463 ) = C482)) and L2300: ( C455 . ( D405 + 1 ) ) = [ C482 , C485 ] by L2205;
L2301: ( rng C481 ) c= D342 by RELAT_1:def 19;
L2302: C482 in ( rng C481 ) by L2301 , L2086 , L2295 , L2052;
consider C486 being set such that L2303: C486 in ( dom C481 ) and L2304: ( C481 . C486 ) = C482 by L2302 , FUNCT_1:def 3;
L2305: (ex B464 being (Element of ( Fin D342 )) st (B464 = ( C480 . C486 ) & B464 <> ( {} ) & ( C481 . C486 ) = ( PosetMax B464 ))) by L2294 , L2303;
reconsider D406 = C486 as Nat by L2303;
take D406;
thus L2306: D403 = ( ( C455 . ( C479 + 1 ) ) `2 );
L2307: C482 in ( D403 . D406 ) by L2293 , L2304 , L2305 , L1702;
L2308: ( [ C482 , C485 ] `1 ) = C482;
thus L2309: thesis by L2308 , L2213 , L2307 , L2300;
end;
L2310: (for B465 being Nat holds S28[ B465 ]) from NAT_1:sch 2(L2268 , L2289);
defpred S29[ Nat ] means (( D390 . ( $1 + 1 ) ) <> ( D390 . $1 ) & [ ( D390 . ( $1 + 1 ) ) , ( D390 . $1 ) ] in D341);
L2311: S29[ ( 0 ) ]
proof
L2312: ( D390 . ( 0 ) ) = ( ( C455 . ( 0 ) ) `1 ) by L2213;
consider C487 being (sequence of ( FinPoset C423 )), C488 being Nat such that L2313: C487 = ( ( C455 . ( 0 ) ) `2 ) and L2314: ( D390 . ( (( 0 ) qua Nat) + 1 ) ) in ( C487 . C488 ) by L2268;
L2315: (ex B466 being (sequence of ( FinPoset C423 )) st (B466 = ( ( C455 . ( 0 ) ) `2 ) & (for B467 being set holds (B467 in ( B466 . C488 ) implies (B467 <> ( ( C455 . ( 0 ) ) `1 ) & [ B467 , ( ( C455 . ( 0 ) ) `1 ) ] in D341))))) by L2214;
thus L2316: (( D390 . ( (( 0 ) qua Nat) + 1 ) ) <> ( D390 . ( 0 ) ) & [ ( D390 . ( (( 0 ) qua Nat) + 1 ) ) , ( D390 . ( 0 ) ) ] in D341) by L2315 , L2312 , L2313 , L2314;
end;
L2317: (for B468 being Nat holds (S29[ B468 ] implies S29[ ( B468 + 1 ) ]))
proof
let C489 being Nat;
assume that
L2318: ( D390 . ( C489 + 1 ) ) <> ( D390 . C489 )
and
L2319: [ ( D390 . ( C489 + 1 ) ) , ( D390 . C489 ) ] in D341;
L2320: ( D390 . ( C489 + 1 ) ) = ( ( C455 . ( C489 + 1 ) ) `1 ) by L2213;
consider C490 being (sequence of ( FinPoset C423 )), C491 being Nat such that L2321: C490 = ( ( C455 . ( C489 + 1 ) ) `2 ) and L2322: ( D390 . ( ( C489 + 1 ) + 1 ) ) in ( C490 . C491 ) by L2310;
L2323: (ex B469 being (sequence of ( FinPoset C423 )) st (B469 = ( ( C455 . ( C489 + 1 ) ) `2 ) & (for B470 being set holds (B470 in ( B469 . C491 ) implies (B470 <> ( ( C455 . ( C489 + 1 ) ) `1 ) & [ B470 , ( ( C455 . ( C489 + 1 ) ) `1 ) ] in D341))))) by L2267;
thus L2324: thesis by L2323 , L2320 , L2321 , L2322;
end;
L2325: (for B471 being Nat holds S29[ B471 ]) from NAT_1:sch 2(L2311 , L2317);
L2326: D390 is  descending by L2325 , WELLFND1:def 6;
thus L2327: contradiction by L2326 , L2086 , WELLFND1:14;
end;
