:: Basic Properties of the Rank of Matrices over a Field
::  by Karol P\c{a}k
::
:: Received August 28, 2007
:: Copyright (c) 2007-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, XBOOLE_0, NAT_1, XCMPLX_0, VECTSP_1, SUBSET_1, FINSEQ_1,
      MATRIX_1, CARD_1, TREES_1, XXREAL_0, MATRIX_2, QC_LANG1, RELAT_1,
      SUPINF_2, ARYTM_3, MATRIX_3, FUNCT_1, ZFMISC_1, FINSEQ_2, FUNCT_2,
      ARYTM_1, FINSET_1, TARSKI, SGRAPH1, CARD_3, ALGSTR_0, SETWISEO, ABIAN,
      FINSUB_1, BINOP_1, FINSOP_1, CARD_FIN, FUNCOP_1, FUNCT_4, MATRIX11,
      FINSEQ_5, INT_1, GROUP_1, ABSVALUE, RVSUM_1, STRUCT_0, INCSP_1, FVSUM_1,
      FREEALG, FINSEQ_3, LAPLACE, CLASSES1, AFINSQ_1, PRVECT_1, RLVECT_2,
      LMOD_7, VALUED_1, PARTFUN1, RLVECT_3, RLSUB_1, MESFUNC1, RLVECT_5,
      MATRIX13, RLVECT_1;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, CARD_1, NUMBERS, XCMPLX_0,
      XXREAL_0, ORDINAL1, NAT_1, NAT_D, FINSET_1, RELAT_1, RELSET_1, FUNCT_1,
      PARTFUN1, FUNCT_2, SETWOP_2, FINSEQ_1, BINOP_1, STRUCT_0, ALGSTR_0,
      FUNCOP_1, RLVECT_1, GROUP_1, VECTSP_1, SETWISEO, FINSEQ_2, MATRIX_1,
      FINSUB_1, MATRIX_2, FVSUM_1, FINSOP_1, GROUP_4, MATRIX_3, FINSEQ_7,
      FUNCT_4, SGRAPH1, NEWTON, FINSEQ_5, DOMAIN_1, MATRIX_6, MATRIX_7,
      MATRIX11, CARD_FIN, FINSEQ_3, LAPLACE, MEASURE6, PRVECT_1, VECTSP_4,
      VECTSP_6, VECTSP_7, MATRLIN, VECTSP_9;
 constructors SETWISEO, FINSOP_1, ALGSTR_1, FVSUM_1, DOMAIN_1, FINSEQ_5,
      GROUP_4, FINSEQ_7, WELLORD2, NEWTON, CARD_FIN, MATRIX_6, MATRIX_7,
      MATRIX11, LAPLACE, PRVECT_1, VECTSP_6, VECTSP_7, VECTSP_9, BINOP_2,
      RELSET_1;
 registrations SUBSET_1, FUNCT_1, FINSET_1, STRUCT_0, FVSUM_1, MATRIX_2,
      VECTSP_1, FUNCT_2, ORDINAL1, XXREAL_0, NAT_1, FINSEQ_1, RELAT_1, CARD_1,
      SGRAPH1, MATRIX_1, FUNCOP_1, MATRIX11, SETFAM_1, FINSEQ_2, PRVECT_1,
      XREAL_0, XBOOLE_0, VALUED_0, VECTSP_7, RELSET_1;
 requirements ARITHM, NUMERALS, REAL, BOOLE, SUBSET;
 definitions FINSEQ_2, FINSEQ_1, TARSKI, MATRIX_1, FVSUM_1, GROUP_4, MATRIX_2,
      MATRIX_3, MATRIX_7, MATRIX11, LAPLACE, MEASURE6, VECTSP_1, VECTSP_7,
      FUNCT_1, RELAT_1, STRUCT_0, ALGSTR_0, FUNCOP_1;
 theorems NAT_D, CARD_1, CARD_2, CARD_FIN, COMPUT_1, ENUMSET1, FINSEQ_1,
      FINSEQ_2, FINSEQ_3, FINSEQ_4, FINSEQ_5, FINSOP_1, FINSUB_1, FRECHET,
      FUNCT_1, FUNCT_2, FUNCT_4, FUNCT_7, FUNCOP_1, FVSUM_1, GRAPH_2, GRAPH_5,
      GROUP_1, LAPLACE, MATRIX_1, MATRIX_2, MATRIX_3, MATRIX_7, MATRIX_9,
      MATRIX11, MATRIXR1, NAT_1, ORDINAL1, PRVECT_1, RELAT_1, RLVECT_1,
      SETWISEO, SETWOP_2, SGRAPH1, STIRL2_1, TARSKI, VECTSP_1, VECTSP_2,
      VECTSP_4, VECTSP_6, VECTSP_7, VECTSP_9, VECTSP10, WELLORD2, XBOOLE_0,
      XBOOLE_1, XREAL_1, ZFMISC_1, XXREAL_0, FINSEQOP, STRUCT_0, MATRIXR2,
      PARTFUN1, MATRLIN, XREAL_0, MEASURE6;
 schemes FINSEQ_1, FINSEQ_2, FUNCT_1, FUNCT_2, NAT_1, PRE_POLY, MATRIX_1;

begin
theorem
L1: (for R5 being non  empty set holds (for R10 being Nat holds (for R11 being Nat holds (for B1 being (Matrix of R11 , R10 , R5) holds ((R11 = ( 0 ) implies R10 = ( 0 )) iff (( len B1 ) = R11 & ( width B1 ) = R10))))))
proof
let R5 being non  empty set;
let R10 being Nat;
let R11 being Nat;
let C1 being (Matrix of R11 , R10 , R5);
thus L2: ((R11 = ( 0 ) implies R10 = ( 0 )) implies (( len C1 ) = R11 & ( width C1 ) = R10))
proof
assume L3: (R11 = ( 0 ) implies R10 = ( 0 ));
per cases ;
suppose L4: R11 = ( 0 );

L5: ( len C1 ) = ( 0 ) by L4 , MATRIX_1:def 2;
thus L6: thesis by L5 , L3 , L4 , MATRIX_1:def 3;
end;
suppose L7: R11 > ( 0 );

L8: ( len C1 ) = R11 by MATRIX_1:def 2;
thus L9: thesis by L8 , L7 , MATRIX_1:20;
end;
end;

thus L11: thesis by MATRIX_1:def 3;
end;
theorem
L12: (for R11 being Nat holds (for R18 being Field holds (for R22 being (Matrix of R11 , R18) holds (R22 is (Lower_Triangular_Matrix of R11 , R18) iff ( R22 @ ) is (Upper_Triangular_Matrix of R11 , R18)))))
proof
let R11 being Nat;
let R18 being Field;
let R22 being (Matrix of R11 , R18);
thus L13: (R22 is (Lower_Triangular_Matrix of R11 , R18) implies ( R22 @ ) is (Upper_Triangular_Matrix of R11 , R18))
proof
assume L14: R22 is (Lower_Triangular_Matrix of R11 , R18);
L15:
now
let R6 being Nat;
let R7 being Nat;
assume that
L16: [ R6 , R7 ] in ( Indices ( R22 @ ) )
and
L17: R6 > R7;
L18: [ R7 , R6 ] in ( Indices R22 ) by L16 , MATRIX_1:def 6;
L19: ( R22 * (R7 , R6) ) = ( 0. R18 ) by L18 , L14 , L17 , MATRIX_2:def 4;
thus L20: ( ( R22 @ ) * (R6 , R7) ) = ( 0. R18 ) by L19 , L18 , MATRIX_1:def 6;
end;
thus L21: thesis by L15 , MATRIX_2:def 3;
end;

assume L22: ( R22 @ ) is (Upper_Triangular_Matrix of R11 , R18);
L23:
now
let R6 being Nat;
let R7 being Nat;
assume that
L24: [ R6 , R7 ] in ( Indices R22 )
and
L25: R6 < R7;
L26: [ R7 , R6 ] in ( Indices ( R22 @ ) ) by L24 , MATRIX_1:def 6;
L27: ( ( R22 @ ) * (R7 , R6) ) = ( 0. R18 ) by L26 , L22 , L25 , MATRIX_2:def 3;
thus L28: ( R22 * (R6 , R7) ) = ( 0. R18 ) by L27 , L24 , MATRIX_1:def 6;
end;
thus L29: thesis by L23 , MATRIX_2:def 4;
end;
theorem
L30: (for R11 being Nat holds (for R18 being Field holds (for R22 being (Matrix of R11 , R18) holds ( diagonal_of_Matrix R22 ) = ( diagonal_of_Matrix ( R22 @ ) ))))
proof
let R11 being Nat;
let R18 being Field;
let R22 being (Matrix of R11 , R18);
set D1 = ( diagonal_of_Matrix R22 );
set D2 = ( diagonal_of_Matrix ( R22 @ ) );
L31: ( len D1 ) = R11 by MATRIX_3:def 10;
L32:
now
let R6 being Nat;
assume that
L33: 1 <= R6
and
L34: R6 <= ( len D1 );
L35: R6 in ( NAT ) by ORDINAL1:def 12;
L36: R6 in ( Seg R11 ) by L35 , L31 , L33 , L34;
L37: ( D2 . R6 ) = ( ( R22 @ ) * (R6 , R6) ) by L36 , MATRIX_3:def 10;
L38: ( Indices R22 ) = [: ( Seg R11 ) , ( Seg R11 ) :] by MATRIX_1:24;
L39: [ R6 , R6 ] in ( Indices R22 ) by L38 , L36 , ZFMISC_1:87;
L40: ( D1 . R6 ) = ( R22 * (R6 , R6) ) by L36 , MATRIX_3:def 10;
thus L41: ( D1 . R6 ) = ( D2 . R6 ) by L40 , L39 , L37 , MATRIX_1:def 6;
end;
L42: ( len D2 ) = R11 by MATRIX_3:def 10;
thus L43: thesis by L42 , L31 , L32 , FINSEQ_1:14;
end;
theorem
L44: (for R11 being Nat holds (for B2 being (Element of ( Permutations R11 )) holds (B2 <> ( idseq R11 ) implies ((ex R6 being Nat st (R6 in ( Seg R11 ) & ( B2 . R6 ) > R6)) & (ex R7 being Nat st (R7 in ( Seg R11 ) & ( B2 . R7 ) < R7))))))
proof
let R11 being Nat;
let C2 being (Element of ( Permutations R11 ));
assume that
L45: C2 <> ( idseq R11 );
reconsider D3 = C2 as (Permutation of ( Seg R11 )) by MATRIX_2:def 9;
L46: ( dom D3 ) = ( Seg R11 ) by FUNCT_2:52;
consider C3 being set such that L47: C3 in ( Seg R11 ) and L48: ( C2 . C3 ) <> C3 by L46 , L45 , FUNCT_1:17;
consider C4 being (Element of ( NAT )) such that L49: C4 = C3 and L50: 1 <= C4 and L51: C4 <= R11 by L47;
L52:
now
per cases  by L48 , L49 , XXREAL_0:1;
suppose L53: ( C2 . C4 ) > C4;

thus L54: (ex R7 being Nat st (R7 in ( Seg R11 ) & ( C2 . R7 ) > R7)) by L53 , L47 , L49;
end;
suppose L55: ( C2 . C4 ) < C4;

reconsider D4 = ( C4 - 1 ) as Nat by L55 , NAT_1:20;
thus L56: (ex R7 being Nat st (R7 in ( Seg R11 ) & ( C2 . R7 ) > R7))
proof
reconsider D5 = ( D3 .: ( Seg C4 ) ) as  finite set;
L57: ( dom D3 ) = ( Seg R11 ) by FUNCT_2:52;
L58: ( Seg C4 ) c= ( Seg R11 ) by L51 , FINSEQ_1:5;
L59: ( Seg C4 ) , D5 are_equipotent  by L58 , L57 , CARD_1:33;
L60: ( card ( Seg C4 ) ) = ( card D5 ) by L59 , CARD_1:5;
assume L61: (for R7 being Nat holds (R7 in ( Seg R11 ) implies ( C2 . R7 ) <= R7));
L62: ( C2 .: ( Seg C4 ) ) c= ( Seg D4 )
proof
let R1 being set;
assume L63: R1 in ( C2 .: ( Seg C4 ) );
consider C5 being set such that L64: C5 in ( dom D3 ) and L65: C5 in ( Seg C4 ) and L66: ( C2 . C5 ) = R1 by L63 , FUNCT_1:def 6;
consider C6 being (Element of ( NAT )) such that L67: C6 = C5 and L68: 1 <= C6 and L69: C6 <= C4 by L65;
per cases  by L69 , XXREAL_0:1;
suppose L70: C6 = C4;

L71: ( C2 . C6 ) < ( D4 + 1 ) by L70 , L55;
L72: ( C2 . C6 ) <= D4 by L71 , NAT_1:13;
L73: ( rng D3 ) = ( Seg R11 ) by FUNCT_2:def 3;
L74: ( C2 . C6 ) in ( rng C2 ) by L64 , L67 , FUNCT_1:def 3;
L75: ( C2 . C6 ) >= 1 by L74 , L73 , FINSEQ_1:1;
thus L76: thesis by L75 , L66 , L67 , L72 , FINSEQ_1:1;
end;
suppose L77: C6 < C4;

L78: ( C2 . C6 ) <= C6 by L61 , L64 , L67;
L79: ( C2 . C6 ) < ( D4 + 1 ) by L78 , L77 , XXREAL_0:2;
L80: ( C2 . C6 ) <= D4 by L79 , NAT_1:13;
L81: ( rng D3 ) = ( Seg R11 ) by FUNCT_2:def 3;
L82: ( C2 . C6 ) in ( rng C2 ) by L64 , L67 , FUNCT_1:def 3;
L83: ( C2 . C6 ) >= 1 by L82 , L81 , FINSEQ_1:1;
thus L84: thesis by L83 , L66 , L67 , L80 , FINSEQ_1:1;
end;
end;
L86: ( card D5 ) <= ( card ( Seg D4 ) ) by L62 , NAT_1:43;
L87: ( card ( Seg C4 ) ) = C4 by FINSEQ_1:57;
L88: ( D4 + 1 ) <= D4 by L87 , L60 , L86 , FINSEQ_1:57;
thus L89: thesis by L88 , NAT_1:13;
end;

end;
end;
thus L58: (ex R7 being Nat st (R7 in ( Seg R11 ) & ( C2 . R7 ) > R7)) by L52;
L59: R11 in ( NAT ) by ORDINAL1:def 12;
per cases  by L48 , L49 , XXREAL_0:1;
suppose L60: ( C2 . C4 ) < C4;

thus L61: thesis by L60 , L47 , L49;
end;
suppose L62: ( C2 . C4 ) > C4;

thus L63: (ex R7 being Nat st (R7 in ( Seg R11 ) & ( C2 . R7 ) < R7))
proof
set D6 = ( nat_interval (C4 , R11) );
reconsider D7 = ( D3 .: D6 ) as  finite set;
L64: C4 in D6 by L59 , L51 , SGRAPH1:2;
assume L65: (for R7 being Nat holds (R7 in ( Seg R11 ) implies ( C2 . R7 ) >= R7));
L66: D7 c= D6
proof
let R1 being set;
L67: ( rng D3 ) = ( Seg R11 ) by FUNCT_2:def 3;
assume L68: R1 in D7;
consider C7 being set such that L69: C7 in ( dom D3 ) and L70: C7 in D6 and L71: ( C2 . C7 ) = R1 by L68 , FUNCT_1:def 6;
reconsider D8 = C7 as Nat by L70;
reconsider D9 = ( C2 . D8 ) as (Element of ( NAT )) by ORDINAL1:def 12;
L72: D8 <= D9 by L65 , L69;
L73: C4 <= D8 by L59 , L70 , SGRAPH1:2;
L74: C4 <= D9 by L73 , L72 , XXREAL_0:2;
L75: D9 in ( rng D3 ) by L69 , FUNCT_1:def 3;
L76: D9 <= R11 by L75 , L67 , FINSEQ_1:1;
thus L77: thesis by L76 , L59 , L71 , L74 , SGRAPH1:1;
end;
L78: ( dom D3 ) = ( Seg R11 ) by FUNCT_2:52;
L79: D6 , D7 are_equipotent  by L78 , L59 , L50 , CARD_1:33 , SGRAPH1:4;
L80: ( card D6 ) = ( card D7 ) by L79 , CARD_1:5;
L81: D6 = D7 by L80 , L66 , CARD_FIN:1;
consider C8 being set such that L82: C8 in ( dom D3 ) and L83: C8 in D6 and L84: ( C2 . C8 ) = C4 by L81 , L64 , FUNCT_1:def 6;
reconsider D10 = C8 as Nat by L83;
L85: C4 <= D10 by L59 , L83 , SGRAPH1:2;
L86: D10 <= C4 by L65 , L82 , L84;
thus L87: thesis by L86 , L62 , L84 , L85 , XXREAL_0:1;
end;

end;
end;
theorem
L65: (for R11 being Nat holds (for R18 being Field holds (for B3 being (Matrix of R11 , R18) holds (for B4 being (Element of ( Permutations R11 )) holds ((B4 <> ( idseq R11 ) & (B3 is (Lower_Triangular_Matrix of R11 , R18) or B3 is (Upper_Triangular_Matrix of R11 , R18))) implies ( ( Path_product B3 ) . B4 ) = ( 0. R18 ))))))
proof
let R11 being Nat;
let R18 being Field;
let C9 being (Matrix of R11 , R18);
let C10 being (Element of ( Permutations R11 ));
assume that
L66: C10 <> ( idseq R11 )
and
L67: (C9 is (Lower_Triangular_Matrix of R11 , R18) or C9 is (Upper_Triangular_Matrix of R11 , R18));
reconsider D11 = C10 as (Permutation of ( Seg R11 )) by MATRIX_2:def 9;
set D12 = ( Path_product C9 );
set D13 = ( Path_matrix (C10 , C9) );
L68:
now
per cases  by L67;
suppose L69: C9 is (Lower_Triangular_Matrix of R11 , R18);

L70: ( rng D11 ) = ( Seg R11 ) by FUNCT_2:def 3;
L71: ( Indices C9 ) = [: ( Seg R11 ) , ( Seg R11 ) :] by MATRIX_1:24;
consider R6 being Nat such that L72: R6 in ( Seg R11 ) and L73: ( C10 . R6 ) > R6 by L66 , L44;
reconsider D14 = ( C10 . R6 ) as Nat;
L74: ( dom D11 ) = ( Seg R11 ) by FUNCT_2:52;
L75: ( D11 . R6 ) in ( Seg R11 ) by L74 , L72 , L70 , FUNCT_1:def 3;
L76: [ R6 , D14 ] in [: ( Seg R11 ) , ( Seg R11 ) :] by L75 , L72 , ZFMISC_1:87;
L77: ( C9 * (R6 , D14) ) = ( 0. R18 ) by L76 , L69 , L73 , L71 , MATRIX_2:def 4;
L78: ( len D13 ) = R11 by MATRIX_3:def 7;
L79: ( dom D13 ) = ( Seg R11 ) by L78 , FINSEQ_1:def 3;
L80: ( D13 . R6 ) = ( C9 * (R6 , D14) ) by L79 , L72 , MATRIX_3:def 7;
thus L81: (ex R6 being Nat st (R6 in ( dom D13 ) & ( D13 . R6 ) = ( 0. R18 ))) by L80 , L72 , L79 , L77;
end;
suppose L82: C9 is (Upper_Triangular_Matrix of R11 , R18);

L83: ( rng D11 ) = ( Seg R11 ) by FUNCT_2:def 3;
L84: ( Indices C9 ) = [: ( Seg R11 ) , ( Seg R11 ) :] by MATRIX_1:24;
consider R6 being Nat such that L85: R6 in ( Seg R11 ) and L86: ( C10 . R6 ) < R6 by L66 , L44;
reconsider D15 = ( C10 . R6 ) as Nat;
L87: ( dom D11 ) = ( Seg R11 ) by FUNCT_2:52;
L88: ( D11 . R6 ) in ( Seg R11 ) by L87 , L85 , L83 , FUNCT_1:def 3;
L89: [ R6 , D15 ] in [: ( Seg R11 ) , ( Seg R11 ) :] by L88 , L85 , ZFMISC_1:87;
L90: ( C9 * (R6 , D15) ) = ( 0. R18 ) by L89 , L82 , L86 , L84 , MATRIX_2:def 3;
L91: ( len D13 ) = R11 by MATRIX_3:def 7;
L92: ( dom D13 ) = ( Seg R11 ) by L91 , FINSEQ_1:def 3;
L93: ( D13 . R6 ) = ( C9 * (R6 , D15) ) by L92 , L85 , MATRIX_3:def 7;
thus L94: (ex R6 being Nat st (R6 in ( dom D13 ) & ( D13 . R6 ) = ( 0. R18 ))) by L93 , L85 , L92 , L90;
end;
end;
L96: ( Product D13 ) = ( 0. R18 ) by L68 , FVSUM_1:82;
L97: ( D12 . C10 ) = ( - (( 0. R18 ) , C10) ) by L96 , MATRIX_3:def 8;
L98: (( - (( 0. R18 ) , C10) ) = ( 0. R18 ) or ( - (( 0. R18 ) , C10) ) = ( - ( 0. R18 ) )) by MATRIX_2:def 13;
thus L99: thesis by L98 , L97 , RLVECT_1:12;
end;
theorem
L100: (for R11 being Nat holds (for R18 being Field holds (for B5 being (Matrix of R11 , R18) holds (for B6 being (Element of ( Permutations R11 )) holds (B6 = ( idseq R11 ) implies ( diagonal_of_Matrix B5 ) = ( Path_matrix (B6 , B5) ))))))
proof
let R11 being Nat;
let R18 being Field;
let C11 being (Matrix of R11 , R18);
let C12 being (Element of ( Permutations R11 ));
assume that
L101: C12 = ( idseq R11 );
set D16 = ( Path_matrix (C12 , C11) );
set D17 = ( diagonal_of_Matrix C11 );
L102: ( len D16 ) = R11 by MATRIX_3:def 7;
L103:
now
let R6 being Nat;
assume that
L104: 1 <= R6
and
L105: R6 <= R11;
L106: R6 in ( NAT ) by ORDINAL1:def 12;
L107: R6 in ( Seg R11 ) by L106 , L104 , L105;
L108: ( C12 . R6 ) = R6 by L107 , L101 , FINSEQ_2:49;
L109: R6 in ( dom D16 ) by L102 , L107 , FINSEQ_1:def 3;
L110: ( D16 . R6 ) = ( C11 * (R6 , R6) ) by L109 , L108 , MATRIX_3:def 7;
thus L111: ( D16 . R6 ) = ( D17 . R6 ) by L110 , L107 , MATRIX_3:def 10;
end;
L112: ( len D17 ) = R11 by MATRIX_3:def 10;
thus L113: thesis by L112 , L102 , L103 , FINSEQ_1:14;
end;
theorem
L114: (for R11 being Nat holds (for R18 being Field holds (for B7 being (Upper_Triangular_Matrix of R11 , R18) holds ( Det B7 ) = ( (the multF of R18) $$ ( diagonal_of_Matrix B7 ) ))))
proof
let R11 being Nat;
let R18 being Field;
let C13 being (Upper_Triangular_Matrix of R11 , R18);
set D18 = (the addF of R18);
set D19 = (the multF of R18);
set D20 = ( Permutations R11 );
set D21 = ( FinOmega D20 );
set D22 = ( Path_product C13 );
L115: ( idseq R11 ) is (Element of ( Group_of_Perm R11 )) by MATRIX_2:20;
reconsider D23 = ( idseq R11 ) as (Element of D20) by L115 , MATRIX_2:def 10;
L116: ( len D20 ) = R11 by MATRIX_2:18;
L117: D23 is  even by L116 , MATRIX_2:25;
L118: D20 is  finite by MATRIX_2:26;
reconsider D24 = { D23 } , D25 = ( D20 \ { D23 } ) as (Element of ( Fin D20 )) by L118 , FINSUB_1:def 5;
L119: D21 = D20 by MATRIX_2:26 , MATRIX_2:def 14;
L120:
now
per cases ;
suppose L121: D25 = ( {} );

L122: D20 c= D24 by L121 , XBOOLE_1:37;
thus L123: ( D18 $$ (D21 , D22) ) = ( D18 $$ (D24 , D22) ) by L122 , L119 , XBOOLE_0:def 10;
end;
suppose L124: D25 <> ( {} );

L125: ( D22 .: D25 ) c= { ( 0. R18 ) }
proof
let R2 being set;
assume L126: R2 in ( D22 .: D25 );
consider R1 being set such that L127: R1 in ( dom D22 ) and L128: R1 in D25 and L129: R2 = ( D22 . R1 ) by L126 , FUNCT_1:def 6;
reconsider D26 = R1 as (Element of D20) by L127;
L130: (not D26 in { D23 }) by L128 , XBOOLE_0:def 5;
L131: D26 <> D23 by L130 , TARSKI:def 1;
L132: ( D22 . D26 ) = ( 0. R18 ) by L131 , L65;
thus L133: thesis by L132 , L129 , TARSKI:def 1;
end;
L134: ( 0. R18 ) = ( the_unity_wrt D18 ) by FVSUM_1:7;
L135: ( dom D22 ) = D20 by FUNCT_2:def 1;
L136: ( D22 .: D25 ) = { ( 0. R18 ) } by L135 , L124 , L125 , ZFMISC_1:33;
L137: ( D18 $$ (D25 , D22) ) = ( 0. R18 ) by L136 , L134 , FVSUM_1:8 , SETWOP_2:8;
L138: ( D25 \/ D24 ) = ( D24 \/ D20 ) by XBOOLE_1:39;
L139: ( D24 \/ D20 ) = D20 by XBOOLE_1:12;
L140: D25 misses D24 by XBOOLE_1:79;
thus L141: ( D18 $$ (D21 , D22) ) = ( ( D18 $$ (D24 , D22) ) + ( 0. R18 ) ) by L140 , L119 , L124 , L137 , L138 , L139 , SETWOP_2:4
.= ( D18 $$ (D24 , D22) ) by RLVECT_1:def 4;
end;
end;
thus L143: ( Det C13 ) = ( D22 . D23 ) by L120 , SETWISEO:17
.= ( - (( D19 "**" ( Path_matrix (D23 , C13) ) ) , D23) ) by MATRIX_3:def 8
.= ( D19 "**" ( Path_matrix (D23 , C13) ) ) by L117 , MATRIX_2:def 13
.= ( D19 "**" ( diagonal_of_Matrix C13 ) ) by L100;
end;
theorem
L144: (for R11 being Nat holds (for R18 being Field holds (for B8 being (Lower_Triangular_Matrix of R11 , R18) holds ( Det B8 ) = ( (the multF of R18) $$ ( diagonal_of_Matrix B8 ) ))))
proof
let R11 being Nat;
let R18 being Field;
let C14 being (Lower_Triangular_Matrix of R11 , R18);
L145: ( Det C14 ) = ( Det ( C14 @ ) ) by MATRIXR2:43;
L146: ( C14 @ ) is (Upper_Triangular_Matrix of R11 , R18) by L12;
thus L147: ( Det C14 ) = ( (the multF of R18) $$ ( diagonal_of_Matrix ( C14 @ ) ) ) by L146 , L145 , L114
.= ( (the multF of R18) $$ ( diagonal_of_Matrix C14 ) ) by L30;
end;
theorem
L148: (for B9 being  finite set holds (for R11 being Nat holds ( card { B10 where B10 is (Subset of B9) : ( card B10 ) = R11 } ) = ( ( card B9 ) choose R11 )))
proof
let C15 being  finite set;
let R11 being Nat;
reconsider D27 = R11 as (Element of ( NAT )) by ORDINAL1:def 12;
set D28 = { B11 where B11 is (Subset of C15) : ( card B11 ) = R11 };
set D29 = ( Choose (C15 , D27 , 1 , ( 0 )) );
deffunc H1(set) = ( ( C15 --> ( 0 ) ) +* ( $1 --> 1 ) );
consider C16 being Function such that L149: (( dom C16 ) = D28 & (for R1 being set holds (R1 in D28 implies ( C16 . R1 ) = H1(R1)))) from FUNCT_1:sch 3;
L150: D29 c= ( rng C16 )
proof
let R2 being set;
L151: ( dom ( C15 --> ( 0 ) ) ) = C15 by FUNCOP_1:13;
assume L152: R2 in D29;
consider C17 being (Function of C15 , { ( 0 ) , 1 }) such that L153: C17 = R2 and L154: ( card ( C17 " { 1 } ) ) = R11 by L152 , CARD_FIN:def 1;
L155: C15 = ( dom C17 ) by FUNCT_2:def 1;
reconsider D30 = ( C17 " { 1 } ) as (Subset of C15) by L155 , RELAT_1:132;
L156: D30 in D28 by L154;
L157:
now
let R1 being set;
assume that
L158: R1 in ( dom C17 );
L159:
now
per cases ;
suppose L160: R1 in D30;

L161: ( C17 . R1 ) in { 1 } by L160 , FUNCT_1:def 7;
L162: ( C17 . R1 ) = 1 by L161 , TARSKI:def 1;
L163: ( ( D30 --> 1 ) . R1 ) = 1 by L160 , FUNCOP_1:7;
L164: R1 in ( dom ( D30 --> 1 ) ) by L160 , FUNCOP_1:13;
thus L165: ( C17 . R1 ) = ( H1(D30) . R1 ) by L164 , L163 , L162 , FUNCT_4:13;
end;
suppose L166: (not R1 in D30);

L167: (not ( C17 . R1 ) in { 1 }) by L166 , L158 , FUNCT_1:def 7;
L168: ( C17 . R1 ) <> 1 by L167 , TARSKI:def 1;
L169: ( rng C17 ) c= { ( 0 ) , 1 } by RELAT_1:def 19;
L170: ( ( C15 --> ( 0 ) ) . R1 ) = ( 0 ) by L158 , FUNCOP_1:7;
L171: ( dom ( D30 --> 1 ) ) = D30 by FUNCOP_1:13;
L172: ( C17 . R1 ) in ( rng C17 ) by L158 , FUNCT_1:def 3;
L173: ( C17 . R1 ) = ( 0 ) by L172 , L169 , L168 , TARSKI:def 2;
thus L174: ( C17 . R1 ) = ( H1(D30) . R1 ) by L173 , L166 , L170 , L171 , FUNCT_4:11;
end;
end;
thus L176: ( C17 . R1 ) = ( H1(D30) . R1 ) by L159;
end;
L177: ( dom ( D30 --> 1 ) ) = D30 by FUNCOP_1:13;
L178: ( dom H1(D30) ) = ( C15 \/ D30 ) by L177 , L151 , FUNCT_4:def 1
.= C15 by XBOOLE_1:12;
L179: ( dom C17 ) = C15 by FUNCT_2:def 1;
L180: H1(D30) = C17 by L179 , L178 , L157 , FUNCT_1:2;
L181: ( C16 . D30 ) = C17 by L180 , L149 , L156;
thus L182: thesis by L181 , L149 , L153 , L156 , FUNCT_1:def 3;
end;
L183: (for B12 , B13 being set holds ((B12 in ( dom C16 ) & B13 in ( dom C16 ) & ( C16 . B12 ) = ( C16 . B13 )) implies B12 = B13))
proof
let C18 , C19 being set;
assume that
L184: C18 in ( dom C16 )
and
L185: C19 in ( dom C16 )
and
L186: ( C16 . C18 ) = ( C16 . C19 );
consider C20 being (Subset of C15) such that L187: C19 = C20 and L188: ( card C20 ) = R11 by L149 , L185;
consider C21 being (Subset of C15) such that L189: C18 = C21 and L190: ( card C21 ) = R11 by L149 , L184;
L191: C21 c= C20
proof
L192: ( dom ( C21 --> 1 ) ) = C21 by FUNCOP_1:13;
let R2 being set;
assume that
L193: R2 in C21;
L194: ( ( C21 --> 1 ) . R2 ) = 1 by L193 , FUNCOP_1:7;
L195: ( H1(C21) . R2 ) = 1 by L194 , L193 , L192 , FUNCT_4:13;
L196: H1(C21) = ( C16 . C18 ) by L149 , L184 , L189;
L197: ( dom ( C20 --> 1 ) ) = C20 by FUNCOP_1:13;
assume L198: (not R2 in C20);
L199: ( ( C15 --> ( 0 ) ) . R2 ) = ( 0 ) by L193 , FUNCOP_1:7;
L200: ( H1(C20) . R2 ) = ( 0 ) by L199 , L198 , L197 , FUNCT_4:11;
thus L201: thesis by L200 , L149 , L185 , L186 , L187 , L195 , L196;
end;
thus L202: thesis by L191 , L189 , L190 , L187 , L188 , CARD_FIN:1;
end;
L203: C16 is  one-to-one by L183 , FUNCT_1:def 4;
L204: ( rng C16 ) c= D29
proof
let R2 being set;
assume L205: R2 in ( rng C16 );
consider R1 being set such that L206: R1 in ( dom C16 ) and L207: ( C16 . R1 ) = R2 by L205 , FUNCT_1:def 3;
consider C22 being (Subset of C15) such that L208: R1 = C22 and L209: ( card C22 ) = R11 by L149 , L206;
L210: ( C22 \/ C15 ) = C15 by XBOOLE_1:12;
L211: H1(C22) in D29 by L210 , L209 , CARD_FIN:17;
thus L212: thesis by L211 , L149 , L206 , L207 , L208;
end;
L213: ( rng C16 ) = D29 by L204 , L150 , XBOOLE_0:def 10;
L214: D28 , D29 are_equipotent  by L213 , L149 , L203 , WELLORD2:def 4;
L215: ( card D28 ) = ( card D29 ) by L214 , CARD_1:5;
thus L216: thesis by L215 , CARD_FIN:16;
end;
theorem
L217: (for R11 being Nat holds ( card ( 2Set ( Seg R11 ) ) ) = ( R11 choose 2 ))
proof
let R11 being Nat;
L218: { B14 where B14 is (Subset of ( Seg R11 )) : ( card B14 ) = 2 } = ( 2Set ( Seg R11 ) ) by SGRAPH1:def 2;
thus L219: ( card ( 2Set ( Seg R11 ) ) ) = ( ( card ( Seg R11 ) ) choose 2 ) by L218 , L148
.= ( R11 choose 2 ) by FINSEQ_1:57;
end;
theorem
L220: (for R11 being Nat holds (for B15 being (Element of ( Permutations R11 )) holds (B15 = ( Rev ( idseq R11 ) ) implies (B15 is  even iff ( ( R11 choose 2 ) mod 2 ) = ( 0 )))))
proof
let R11 being Nat;
let C23 being (Element of ( Permutations R11 ));
assume that
L221: C23 = ( Rev ( idseq R11 ) );
per cases ;
suppose L222: R11 < 2;

L223: (R11 = ( 0 ) or R11 = 1) by L222 , NAT_1:23;
L224: ( ( R11 * ( R11 - 1 ) ) / 2 ) = ( 0 ) by L223;
L225: ( R11 choose 2 ) = ( 0 ) by L224 , STIRL2_1:51;
thus L226: thesis by L225 , L222 , LAPLACE:11 , NAT_D:26;
end;
suppose L227: R11 >= 2;

set D31 = ( R11 choose 2 );
reconsider D32 = ( R11 - 2 ) as Nat by L227 , NAT_1:21;
reconsider D33 = C23 as (Element of ( Permutations ( D32 + 2 ) ));
set D34 = the  Fanoian Field;
set D35 = ( 2Set ( Seg ( D32 + 2 ) ) );
L228: ( FinOmega D35 ) = D35 by MATRIX_2:def 14;
L229: ( idseq ( D32 + 2 ) ) is (Element of ( Group_of_Perm ( D32 + 2 ) )) by MATRIX_2:20;
reconsider D36 = ( idseq ( D32 + 2 ) ) as (Element of ( Permutations ( D32 + 2 ) )) by L229 , MATRIX_2:def 10;
set D37 = { B16 where B16 is (Element of D35) : (B16 in D35 & ( ( Part_sgn (D36 , D34) ) . B16 ) <> ( ( Part_sgn (D33 , D34) ) . B16 )) };
L230: D37 c= D35
proof
let R1 being set;
assume L231: R1 in D37;
L232: (ex B17 being (Element of D35) st (R1 = B17 & B17 in D35 & ( ( Part_sgn (D36 , D34) ) . B17 ) <> ( ( Part_sgn (D33 , D34) ) . B17 ))) by L231;
thus L233: thesis by L232;
end;
reconsider D38 = D37 as  finite set by L230;
L234: D35 c= D38
proof
let R1 being set;
assume L235: R1 in D35;
reconsider D39 = R1 as (Element of D35) by L235;
consider R6 being Nat, R7 being Nat such that L236: R6 in ( Seg ( D32 + 2 ) ) and L237: R7 in ( Seg ( D32 + 2 ) ) and L238: R6 < R7 and L239: D39 = { R6 , R7 } by MATRIX11:1;
L240: ( D36 . R7 ) = R7 by L237 , FUNCT_1:17;
reconsider D40 = R6 , D41 = R7 , D42 = D32 as (Element of ( NAT )) by ORDINAL1:def 12;
L241: D41 <= ( D32 + 2 ) by L237 , FINSEQ_1:1;
L242: D40 <= ( D42 + 2 ) by L236 , FINSEQ_1:1;
reconsider D43 = ( ( ( D42 + 2 ) - D40 ) + 1 ) , D44 = ( ( ( D42 + 2 ) - D41 ) + 1 ) as (Element of ( NAT )) by L242 , L241 , FINSEQ_5:1;
L243: D43 in ( Seg ( D32 + 2 ) ) by L236 , FINSEQ_5:2;
L244: ( D36 . D43 ) = D43 by L243 , FUNCT_1:17;
L245: ( len ( idseq ( D32 + 2 ) ) ) = ( D42 + 2 ) by CARD_1:def 7;
L246: R6 in ( dom D36 ) by L245 , L236 , FINSEQ_1:def 3;
L247: ( D33 . D40 ) = ( D36 . D43 ) by L246 , L221 , L245 , FINSEQ_5:58;
L248: R7 in ( dom D36 ) by L237 , L245 , FINSEQ_1:def 3;
L249: ( D33 . D41 ) = ( D36 . D44 ) by L248 , L221 , L245 , FINSEQ_5:58;
L250: D44 in ( Seg ( D32 + 2 ) ) by L237 , FINSEQ_5:2;
L251: ( D36 . D44 ) = D44 by L250 , FUNCT_1:17;
L252: ( D36 . R6 ) = R6 by L236 , FUNCT_1:17;
L253: ( ( Part_sgn (D36 , D34) ) . D39 ) = ( 1_ D34 ) by L252 , L236 , L237 , L238 , L239 , L240 , MATRIX11:def 1;
L254: ( ( ( D42 + 2 ) + 1 ) - D40 ) > ( ( ( D42 + 2 ) + 1 ) - D41 ) by L238 , XREAL_1:15;
L255: ( ( Part_sgn (D33 , D34) ) . D39 ) = ( - ( 1_ D34 ) ) by L254 , L236 , L237 , L238 , L239 , L247 , L249 , L244 , L251 , MATRIX11:def 1;
L256: ( ( Part_sgn (D36 , D34) ) . D39 ) <> ( ( Part_sgn (D33 , D34) ) . D39 ) by L255 , L253 , MATRIX11:22;
thus L257: thesis by L256;
end;
L258: D35 = D38 by L234 , L230 , XBOOLE_0:def 10;
L259: ( card D35 ) = ( R11 choose 2 ) by L217;
per cases  by NAT_D:12;
suppose L260: ( D31 mod 2 ) = ( 0 );

L261: ( sgn (D36 , D34) ) = ( 1_ D34 ) by MATRIX11:12;
L262: ( sgn (D36 , D34) ) = ( sgn (D33 , D34) ) by L258 , L228 , L259 , L260 , MATRIX11:7;
thus L263: thesis by L262 , L260 , L261 , MATRIX11:23;
end;
suppose L264: ( D31 mod 2 ) = 1;

L265: ( sgn (D36 , D34) ) = ( 1_ D34 ) by MATRIX11:12;
L266: ( sgn (D33 , D34) ) = ( - ( sgn (D36 , D34) ) ) by L258 , L228 , L259 , L264 , MATRIX11:7;
thus L267: thesis by L266 , L264 , L265 , MATRIX11:23;
end;
end;
end;
theorem
L270: (for R11 being Nat holds (for R18 being Field holds (for B18 being (Matrix of R11 , R18) holds (for B19 being (Permutation of ( Seg R11 )) holds ((B19 = ( Rev ( idseq R11 ) ) & (for R6 being Nat holds (for R7 being Nat holds ((R6 in ( Seg R11 ) & R7 in ( Seg R11 ) & ( R6 + R7 ) <= R11) implies ( B18 * (R6 , R7) ) = ( 0. R18 ))))) implies ( B18 * B19 ) is (Upper_Triangular_Matrix of R11 , R18))))))
proof
let R11 being Nat;
let R18 being Field;
let C24 being (Matrix of R11 , R18);
let C25 being (Permutation of ( Seg R11 ));
assume that
L271: C25 = ( Rev ( idseq R11 ) )
and
L272: (for R6 being Nat holds (for R7 being Nat holds ((R6 in ( Seg R11 ) & R7 in ( Seg R11 ) & ( R6 + R7 ) <= R11) implies ( C24 * (R6 , R7) ) = ( 0. R18 ))));
set D45 = ( idseq R11 );
set D46 = ( C24 * C25 );
L273:
now
let R6 being Nat;
let R7 being Nat;
assume that
L274: [ R6 , R7 ] in ( Indices D46 )
and
L275: R6 > R7;
reconsider D47 = R6 as (Element of ( NAT )) by ORDINAL1:def 12;
L276: ( Indices D46 ) = [: ( Seg R11 ) , ( Seg R11 ) :] by MATRIX_1:24;
L277: R6 in ( Seg R11 ) by L276 , L274 , ZFMISC_1:87;
L278: R6 <= R11 by L277 , FINSEQ_1:1;
reconsider D48 = ( ( R11 - D47 ) + 1 ) as (Element of ( NAT )) by L278 , FINSEQ_5:1;
L279: D48 in ( Seg R11 ) by L277 , FINSEQ_5:2;
L280: ( D45 . D48 ) = D48 by L279 , FUNCT_1:17;
L281: ( ( R11 + 1 ) - R6 ) < ( ( R11 + 1 ) - R7 ) by L275 , XREAL_1:15;
L282: ( D48 + R7 ) < ( ( ( R11 + 1 ) - R7 ) + R7 ) by L281 , XREAL_1:8;
L283: ( D48 + R7 ) <= R11 by L282 , NAT_1:13;
L284: R7 in ( Seg R11 ) by L274 , L276 , ZFMISC_1:87;
L285: ( C24 * (D48 , R7) ) = ( 0. R18 ) by L284 , L272 , L279 , L283;
L286: ( len D45 ) = R11 by CARD_1:def 7;
L287: ( Indices C24 ) = [: ( Seg R11 ) , ( Seg R11 ) :] by MATRIX_1:24;
L288: ( dom D45 ) = ( Seg ( len D45 ) ) by FINSEQ_1:def 3;
L289: ( C25 . R6 ) = ( D45 . D48 ) by L288 , L271 , L277 , L286 , FINSEQ_5:58;
thus L290: ( D46 * (R6 , R7) ) = ( 0. R18 ) by L289 , L274 , L276 , L287 , L280 , L285 , MATRIX11:def 4;
end;
thus L291: thesis by L273 , MATRIX_2:def 3;
end;
theorem
L292: (for R11 being Nat holds (for R18 being Field holds (for B20 being (Matrix of R11 , R18) holds (for B21 being (Permutation of ( Seg R11 )) holds ((B21 = ( Rev ( idseq R11 ) ) & (for R6 being Nat holds (for R7 being Nat holds ((R6 in ( Seg R11 ) & R7 in ( Seg R11 ) & ( R6 + R7 ) > ( R11 + 1 )) implies ( B20 * (R6 , R7) ) = ( 0. R18 ))))) implies ( B20 * B21 ) is (Lower_Triangular_Matrix of R11 , R18))))))
proof
let R11 being Nat;
let R18 being Field;
let C26 being (Matrix of R11 , R18);
let C27 being (Permutation of ( Seg R11 ));
assume that
L293: C27 = ( Rev ( idseq R11 ) )
and
L294: (for R6 being Nat holds (for R7 being Nat holds ((R6 in ( Seg R11 ) & R7 in ( Seg R11 ) & ( R6 + R7 ) > ( R11 + 1 )) implies ( C26 * (R6 , R7) ) = ( 0. R18 ))));
set D49 = ( idseq R11 );
set D50 = ( C26 * C27 );
L295:
now
let R6 being Nat;
let R7 being Nat;
assume that
L296: [ R6 , R7 ] in ( Indices D50 )
and
L297: R6 < R7;
reconsider D51 = R6 as (Element of ( NAT )) by ORDINAL1:def 12;
L298: ( Indices D50 ) = [: ( Seg R11 ) , ( Seg R11 ) :] by MATRIX_1:24;
L299: R6 in ( Seg R11 ) by L298 , L296 , ZFMISC_1:87;
L300: R6 <= R11 by L299 , FINSEQ_1:1;
reconsider D52 = ( ( R11 - D51 ) + 1 ) as (Element of ( NAT )) by L300 , FINSEQ_5:1;
L301: ( ( R11 + 1 ) - R6 ) > ( ( R11 + 1 ) - R7 ) by L297 , XREAL_1:15;
L302: ( D52 + R7 ) > ( ( ( R11 + 1 ) - R7 ) + R7 ) by L301 , XREAL_1:8;
L303: ( len D49 ) = R11 by CARD_1:def 7;
L304: ( Indices C26 ) = [: ( Seg R11 ) , ( Seg R11 ) :] by MATRIX_1:24;
L305: D52 in ( Seg R11 ) by L299 , FINSEQ_5:2;
L306: ( D49 . D52 ) = D52 by L305 , FUNCT_1:17;
L307: R7 in ( Seg R11 ) by L296 , L298 , ZFMISC_1:87;
L308: ( C26 * (D52 , R7) ) = ( 0. R18 ) by L307 , L294 , L302 , L305;
L309: ( dom D49 ) = ( Seg ( len D49 ) ) by FINSEQ_1:def 3;
L310: ( C27 . R6 ) = ( D49 . D52 ) by L309 , L293 , L299 , L303 , FINSEQ_5:58;
thus L311: ( D50 * (R6 , R7) ) = ( 0. R18 ) by L310 , L296 , L298 , L304 , L306 , L308 , MATRIX11:def 4;
end;
thus L312: thesis by L295 , MATRIX_2:def 4;
end;
theorem
L313: (for R11 being Nat holds (for R18 being Field holds (for B22 being (Matrix of R11 , R18) holds (for B23 being (Element of ( Permutations R11 )) holds ((B23 = ( Rev ( idseq R11 ) ) & ((for R6 being Nat holds (for R7 being Nat holds ((R6 in ( Seg R11 ) & R7 in ( Seg R11 ) & ( R6 + R7 ) <= R11) implies ( B22 * (R6 , R7) ) = ( 0. R18 )))) or (for R6 being Nat holds (for R7 being Nat holds ((R6 in ( Seg R11 ) & R7 in ( Seg R11 ) & ( R6 + R7 ) > ( R11 + 1 )) implies ( B22 * (R6 , R7) ) = ( 0. R18 )))))) implies ( Det B22 ) = ( - (( (the multF of R18) "**" ( Path_matrix (B23 , B22) ) ) , B23) ))))))
proof
let R11 being Nat;
let R18 being Field;
let C28 being (Matrix of R11 , R18);
let C29 being (Element of ( Permutations R11 ));
assume that
L314: C29 = ( Rev ( idseq R11 ) )
and
L315: ((for R6 being Nat holds (for R7 being Nat holds ((R6 in ( Seg R11 ) & R7 in ( Seg R11 ) & ( R6 + R7 ) <= R11) implies ( C28 * (R6 , R7) ) = ( 0. R18 )))) or (for R6 being Nat holds (for R7 being Nat holds ((R6 in ( Seg R11 ) & R7 in ( Seg R11 ) & ( R6 + R7 ) > ( R11 + 1 )) implies ( C28 * (R6 , R7) ) = ( 0. R18 )))));
set D53 = (the multF of R18);
L316: ( idseq R11 ) is (Element of ( Group_of_Perm R11 )) by MATRIX_2:20;
reconsider D54 = ( idseq R11 ) as (Element of ( Permutations R11 )) by L316 , MATRIX_2:def 10;
set D55 = ( Seg R11 );
reconsider D56 = ( Rev ( idseq R11 ) ) as (Permutation of D55) by L314 , MATRIX_2:def 9;
set D57 = ( C28 * D56 );
set D58 = ( Path_matrix (C29 , C28) );
set D59 = ( Path_matrix (D54 , D57) );
L317: ( len D58 ) = R11 by MATRIX_3:def 7;
L318: ( len D59 ) = R11 by MATRIX_3:def 7;
L319:
now
per cases ;
suppose L320: R11 < 1;

L321: D58 = ( {} ) by L320 , L317 , NAT_1:14;
L322: D59 = ( {} ) by L318 , L320 , NAT_1:14;
thus L323: ( D53 "**" D59 ) = ( D53 "**" D58 ) by L322 , L321;
end;
suppose L324: R11 >= 1;

L325: ( rng D54 ) = D55 by RELAT_1:45;
L326: ( rng ( Rev ( idseq R11 ) ) ) = D55 by L325 , FINSEQ_5:57;
reconsider D60 = ( D58 * C29 ) as (FinSequence of R18) by L317 , L324 , MATRIX_7:34;
L327: ( dom D56 ) = D55 by FUNCT_2:52;
L328: ( dom D58 ) = D55 by L317 , FINSEQ_1:def 3;
L329: ( dom D60 ) = ( dom C29 ) by L328 , L314 , L326 , RELAT_1:27;
L330:
now
L331: ( dom D58 ) = ( Seg R11 ) by L317 , FINSEQ_1:def 3;
L332: ( dom D59 ) = ( Seg R11 ) by L318 , FINSEQ_1:def 3;
let R8 being Nat;
assume that
L333: 1 <= R8
and
L334: R8 <= ( len D59 );
L335: R8 in ( NAT ) by ORDINAL1:def 12;
L336: R8 in ( Seg R11 ) by L335 , L318 , L333 , L334;
L337: ( ( R11 - R8 ) + 1 ) in D55 by L336 , FINSEQ_5:2;
L338: ( D54 . R8 ) = R8 by L336 , FUNCT_1:17;
L339: ( D59 . R8 ) = ( D57 * (R8 , R8) ) by L338 , L336 , L332 , MATRIX_3:def 7;
L340: ( len ( idseq R11 ) ) = R11 by CARD_1:def 7;
L341: ( D56 . R8 ) = ( D54 . ( ( R11 - R8 ) + 1 ) ) by L340 , L327 , L336 , FINSEQ_5:def 3;
L342: ( D56 . R8 ) = ( ( R11 - R8 ) + 1 ) by L341 , L337 , FUNCT_1:17;
L343: ( Indices C28 ) = [: ( Seg R11 ) , ( Seg R11 ) :] by MATRIX_1:24;
L344: [ R8 , R8 ] in ( Indices C28 ) by L343 , L336 , ZFMISC_1:87;
consider R10 being Nat such that L345: ( D56 . R8 ) = R10 and L346: [ R10 , R8 ] in ( Indices C28 ) and L347: ( D57 * (R8 , R8) ) = ( C28 * (R10 , R8) ) by L344 , MATRIX11:37;
L348: R10 in D55 by L343 , L346 , ZFMISC_1:87;
L349: ( ( R11 - R10 ) + 1 ) in D55 by L348 , FINSEQ_5:2;
L350: ( D56 . R10 ) = ( D54 . ( ( R11 - R10 ) + 1 ) ) by L327 , L340 , L348 , FINSEQ_5:def 3;
L351: ( C29 . R10 ) = R8 by L350 , L314 , L345 , L349 , L342 , FUNCT_1:17;
L352: R10 in ( Seg R11 ) by L343 , L346 , ZFMISC_1:87;
L353: ( D58 . R10 ) = ( C28 * (R10 , R8) ) by L352 , L331 , L351 , MATRIX_3:def 7;
thus L354: ( D59 . R8 ) = ( D60 . R8 ) by L353 , L314 , L329 , L327 , L336 , L345 , L347 , L339 , FUNCT_1:12;
end;
L355: R11 is (Element of ( NAT )) by ORDINAL1:def 12;
L356: ( len D60 ) = R11 by L355 , L314 , L329 , L327 , FINSEQ_1:def 3;
thus L357: ( D53 "**" D59 ) = ( D53 "**" D58 ) by L356 , L318 , L317 , L324 , L330 , FINSEQ_1:14 , MATRIX_7:33;
end;
end;
L359: (D57 is (Upper_Triangular_Matrix of R11 , R18) or D57 is (Lower_Triangular_Matrix of R11 , R18)) by L315 , L270 , L292;
L360: ( D53 $$ ( diagonal_of_Matrix D57 ) ) = ( Det D57 ) by L359 , L114 , L144
.= ( - (( Det C28 ) , C29) ) by L314 , MATRIX11:46;
L361: ( - (( Det C28 ) , C29) ) = ( D53 $$ D58 ) by L360 , L319 , L100;
per cases ;
suppose L362: C29 is  even;

L363: ( - (( Det C28 ) , C29) ) = ( Det C28 ) by L362 , MATRIX_2:def 13;
thus L364: thesis by L363 , L319 , L360 , L100;
end;
suppose L365: C29 is  odd;

L366: ( - (( D53 "**" D58 ) , C29) ) = ( - ( D53 "**" D58 ) ) by L365 , MATRIX_2:def 13;
L367: ( - (( Det C28 ) , C29) ) = ( - ( Det C28 ) ) by L365 , MATRIX_2:def 13;
L368: ( ( - (( D53 "**" D58 ) , C29) ) + ( - ( Det C28 ) ) ) = ( 0. R18 ) by L367 , L361 , L366 , VECTSP_1:19;
thus L369: thesis by L368 , VECTSP_1:19;
end;
end;
theorem
L371: (for R11 being Nat holds (for R18 being Field holds (for B24 being (Matrix of R11 , R18) holds (for B25 , B26 being (Upper_Triangular_Matrix of R11 , R18) holds (B24 = ( B25 * B26 ) implies (B24 is (Upper_Triangular_Matrix of R11 , R18) & ( diagonal_of_Matrix B24 ) = ( mlt (( diagonal_of_Matrix B25 ) , ( diagonal_of_Matrix B26 )) )))))))
proof
let R11 being Nat;
let R18 being Field;
let C30 being (Matrix of R11 , R18);
reconsider D61 = R11 as (Element of ( NAT )) by ORDINAL1:def 12;
let C31 , C32 being (Upper_Triangular_Matrix of R11 , R18);
assume that
L372: C30 = ( C31 * C32 );
set D62 = [: ( Seg R11 ) , ( Seg R11 ) :];
set D63 = (the carrier of R18);
L373: ( len C32 ) = R11 by MATRIX_1:24;
L374: ( width C31 ) = R11 by MATRIX_1:24;
L375:
now
set D64 = ( R11 |-> ( 0. R18 ) );
let R6 being Nat;
let R7 being Nat;
assume that
L376: [ R6 , R7 ] in ( Indices C30 )
and
L377: R6 > R7;
set D65 = ( Col (C32 , R7) );
set D66 = ( Line (C31 , R6) );
reconsider D67 = D66 , D68 = D65 as (Element of ( D61 -tuples_on D63 )) by MATRIX_1:24;
set D69 = ( mlt (D67 , D68) );
L378: ( len D69 ) = R11 by CARD_1:def 7;
L379:
now
let R8 being Nat;
assume that
L380: 1 <= R8
and
L381: R8 <= R11;
L382: R8 in ( NAT ) by ORDINAL1:def 12;
L383: R8 in ( Seg R11 ) by L382 , L380 , L381;
L384: ( D64 . R8 ) = ( 0. R18 ) by L383 , FINSEQ_2:57;
L385: ( Indices C32 ) = D62 by MATRIX_1:24;
L386: ( Indices C31 ) = D62 by MATRIX_1:24;
L387: ( D66 . R8 ) = ( C31 * (R6 , R8) ) by L374 , L383 , MATRIX_1:def 7;
L388: ( Indices C30 ) = D62 by MATRIX_1:24;
L389: R6 in ( Seg R11 ) by L388 , L376 , ZFMISC_1:87;
L390: [ R6 , R8 ] in ( Indices C31 ) by L389 , L383 , L386 , ZFMISC_1:87;
L391: R7 in ( Seg R11 ) by L376 , L388 , ZFMISC_1:87;
L392: [ R8 , R7 ] in ( Indices C32 ) by L391 , L383 , L385 , ZFMISC_1:87;
L393: ( dom D69 ) = ( Seg R11 ) by L378 , FINSEQ_1:def 3;
L394: R8 in ( Seg R11 ) by L380 , L381 , L382;
L395: ( dom C32 ) = ( Seg R11 ) by L373 , FINSEQ_1:def 3;
L396: ( D65 . R8 ) = ( C32 * (R8 , R7) ) by L395 , L383 , MATRIX_1:def 8;
per cases ;
suppose L397: R8 <= R7;

L398: R8 < R6 by L397 , L377 , XXREAL_0:2;
L399: ( C31 * (R6 , R8) ) = ( 0. R18 ) by L398 , L390 , MATRIX_2:def 3;
L400: ( D69 . R8 ) = ( ( C31 * (R6 , R8) ) * ( C32 * (R8 , R7) ) ) by L387 , L396 , L393 , L394 , FVSUM_1:60;
thus L401: ( D69 . R8 ) = ( D64 . R8 ) by L400 , L384 , L399 , VECTSP_1:12;
end;
suppose L402: R8 > R7;

L403: ( C32 * (R8 , R7) ) = ( 0. R18 ) by L402 , L392 , MATRIX_2:def 3;
L404: ( D69 . R8 ) = ( ( C31 * (R6 , R8) ) * ( C32 * (R8 , R7) ) ) by L387 , L396 , L393 , L394 , FVSUM_1:60;
thus L405: ( D69 . R8 ) = ( D64 . R8 ) by L404 , L384 , L403 , VECTSP_1:12;
end;
end;
L407: ( len D64 ) = R11 by CARD_1:def 7;
L408: D69 = D64 by L407 , L378 , L379 , FINSEQ_1:14;
thus L409: ( 0. R18 ) = ( D66 "*" D65 ) by L408 , MATRIX_3:11
.= ( C30 * (R6 , R7) ) by L372 , L374 , L373 , L376 , MATRIX_3:def 4;
end;
thus L410: C30 is (Upper_Triangular_Matrix of R11 , R18) by L375 , MATRIX_2:def 3;
set D70 = ( diagonal_of_Matrix C32 );
set D71 = ( diagonal_of_Matrix C31 );
set D72 = ( diagonal_of_Matrix C30 );
L411: ( len D70 ) = R11 by MATRIX_3:def 10;
L412: ( len D71 ) = R11 by MATRIX_3:def 10;
reconsider D73 = D71 , D74 = D70 as (Element of ( D61 -tuples_on D63 )) by L412 , L411 , FINSEQ_2:92;
set D75 = ( mlt (D73 , D74) );
L413: ( len D75 ) = R11 by CARD_1:def 7;
L414:
now
set D76 = (the addF of R18);
let R6 being Nat;
assume that
L415: 1 <= R6
and
L416: R6 <= R11;
L417: R6 in ( NAT ) by ORDINAL1:def 12;
L418: R6 in ( Seg R11 ) by L417 , L415 , L416;
L419: ( D72 . R6 ) = ( C30 * (R6 , R6) ) by L418 , MATRIX_3:def 10;
set D77 = ( Col (C32 , R6) );
set D78 = ( Line (C31 , R6) );
reconsider D79 = D78 , D80 = D77 as (Element of ( D61 -tuples_on D63 )) by MATRIX_1:24;
set D81 = ( mlt (D79 , D80) );
L420: D76 is  having_a_unity by FVSUM_1:8;
L421: ( Indices C30 ) = D62 by MATRIX_1:24;
L422: [ R6 , R6 ] in ( Indices C30 ) by L421 , L418 , ZFMISC_1:87;
L423: ( D72 . R6 ) = ( D78 "*" D77 ) by L422 , L372 , L374 , L373 , L419 , MATRIX_3:def 4;
L424: ( D70 . R6 ) = ( C32 * (R6 , R6) ) by L418 , MATRIX_3:def 10;
L425: ( D71 . R6 ) = ( C31 * (R6 , R6) ) by L418 , MATRIX_3:def 10;
L426: ( len D81 ) = R11 by CARD_1:def 7;
consider C33 being (Function of ( NAT ) , D63) such that L427: ( C33 . 1 ) = ( D81 . 1 ) and L428: (for B27 being (Element of ( NAT )) holds ((( 0 ) <> B27 & B27 < R11) implies ( C33 . ( B27 + 1 ) ) = ( D76 . (( C33 . B27 ) , ( D81 . ( B27 + 1 ) )) ))) and L429: ( D72 . R6 ) = ( C33 . R11 ) by L426 , L415 , L416 , L423 , L420 , FINSOP_1:def 1;
defpred S1[ Nat ] means ((1 <= $1 & $1 <= R11) implies (($1 < R6 implies ( C33 . $1 ) = ( 0. R18 )) & ($1 >= R6 implies ( C33 . $1 ) = ( D75 . R6 ))));
L430: R6 in ( dom D75 ) by L413 , L418 , FINSEQ_1:def 3;
L431: ( D75 . R6 ) = ( ( C31 * (R6 , R6) ) * ( C32 * (R6 , R6) ) ) by L430 , L425 , L424 , FVSUM_1:60;
L432: (for R7 being Nat holds (R7 in ( Seg R11 ) implies ((R7 <> R6 implies ( D81 . R7 ) = ( 0. R18 )) & (R7 = R6 implies ( D81 . R7 ) = ( D75 . R6 )))))
proof
L433: R6 in ( NAT ) by ORDINAL1:def 12;
L434: R6 in ( Seg R11 ) by L433 , L415 , L416;
let R7 being Nat;
assume that
L435: R7 in ( Seg R11 );
L436: ( D78 . R7 ) = ( C31 * (R6 , R7) ) by L374 , L435 , MATRIX_1:def 7;
L437: ( Indices C31 ) = D62 by MATRIX_1:24;
L438: [ R6 , R7 ] in ( Indices C31 ) by L437 , L435 , L434 , ZFMISC_1:87;
L439: ( dom C32 ) = ( Seg R11 ) by L373 , FINSEQ_1:def 3;
L440: ( D77 . R7 ) = ( C32 * (R7 , R6) ) by L439 , L435 , MATRIX_1:def 8;
L441: ( Indices C32 ) = D62 by MATRIX_1:24;
L442: [ R7 , R6 ] in ( Indices C32 ) by L441 , L435 , L434 , ZFMISC_1:87;
per cases ;
suppose L443: R6 <> R7;

L444: (R6 < R7 or R7 < R6) by L443 , XXREAL_0:1;
L445: (( C31 * (R6 , R7) ) = ( 0. R18 ) or ( C32 * (R7 , R6) ) = ( 0. R18 )) by L444 , L438 , L442 , MATRIX_2:def 3;
L446: ( D81 . R7 ) = ( ( C31 * (R6 , R7) ) * ( C32 * (R7 , R6) ) ) by L435 , L436 , L440 , FVSUM_1:61;
thus L447: thesis by L446 , L443 , L445 , VECTSP_1:12;
end;
suppose L448: R6 = R7;

thus L449: thesis by L448 , L431 , L435 , L436 , L440 , FVSUM_1:61;
end;
end;
L451: (for R8 being Nat holds (S1[ R8 ] implies S1[ ( R8 + 1 ) ]))
proof
let R8 being Nat;
assume that
L452: S1[ R8 ];
set D82 = ( R8 + 1 );
assume that
L453: 1 <= D82
and
L454: D82 <= R11;
L455: D82 in ( Seg R11 ) by L453 , L454;
per cases ;
suppose L456: R8 = ( 0 );

L457: ((( C33 . D82 ) = ( 0. R18 ) & D82 < R6) or (( C33 . D82 ) = ( D81 . D82 ) & D82 = R6)) by L456 , L415 , L432 , L427 , L455 , XXREAL_0:1;
thus L458: thesis by L457 , L432 , L455;
end;
suppose L459: R8 > ( 0 );

L460: R8 in ( NAT ) by ORDINAL1:def 12;
L461: R8 < R11 by L454 , NAT_1:13;
L462: ( C33 . D82 ) = ( D76 . (( C33 . R8 ) , ( D81 . D82 )) ) by L461 , L428 , L459 , L460;
per cases  by XXREAL_0:1;
suppose L463: D82 < R6;

L464: ( C33 . D82 ) = ( ( 0. R18 ) + ( 0. R18 ) ) by L463 , L432 , L452 , L454 , L455 , L459 , L462 , NAT_1:13 , NAT_1:14;
thus L465: thesis by L464 , L463 , RLVECT_1:def 4;
end;
suppose L466: D82 = R6;

L467: ( C33 . D82 ) = ( ( 0. R18 ) + ( ( C31 * (R6 , R6) ) * ( C32 * (R6 , R6) ) ) ) by L466 , L431 , L432 , L452 , L454 , L455 , L459 , L462 , NAT_1:13 , NAT_1:14;
thus L468: thesis by L467 , L431 , L466 , RLVECT_1:def 4;
end;
suppose L469: D82 > R6;

L470: ( C33 . D82 ) = ( ( ( C31 * (R6 , R6) ) * ( C32 * (R6 , R6) ) ) + ( 0. R18 ) ) by L469 , L431 , L432 , L452 , L454 , L455 , L459 , L462 , NAT_1:13 , NAT_1:14;
thus L471: thesis by L470 , L431 , L469 , RLVECT_1:def 4;
end;
end;
end;
L474: 1 <= R11 by L415 , L416 , NAT_1:14;
L475: S1[ ( 0 ) ];
L476: (for R8 being Nat holds S1[ R8 ]) from NAT_1:sch 2(L475 , L451);
thus L477: ( D75 . R6 ) = ( D72 . R6 ) by L476 , L416 , L429 , L474;
end;
L478: ( len D72 ) = R11 by MATRIX_3:def 10;
thus L479: thesis by L478 , L413 , L414 , FINSEQ_1:14;
end;
theorem
L480: (for R11 being Nat holds (for R18 being Field holds (for B28 being (Matrix of R11 , R18) holds (for B29 , B30 being (Lower_Triangular_Matrix of R11 , R18) holds (B28 = ( B29 * B30 ) implies (B28 is (Lower_Triangular_Matrix of R11 , R18) & ( diagonal_of_Matrix B28 ) = ( mlt (( diagonal_of_Matrix B29 ) , ( diagonal_of_Matrix B30 )) )))))))
proof
let R11 being Nat;
let R18 being Field;
let C34 being (Matrix of R11 , R18);
reconsider D83 = R11 as (Element of ( NAT )) by ORDINAL1:def 12;
let C35 , C36 being (Lower_Triangular_Matrix of R11 , R18);
assume that
L481: C34 = ( C35 * C36 );
L482: ( width C36 ) = R11 by MATRIX_1:24;
L483: ( len C36 ) = R11 by MATRIX_1:24;
L484: ( width C35 ) = R11 by MATRIX_1:24;
L485:
now
per cases ;
suppose L486: R11 = ( 0 );

L487: ( len ( ( C36 @ ) * ( C35 @ ) ) ) = ( 0 ) by L486 , MATRIX_1:24;
L488: ( ( C36 @ ) * ( C35 @ ) ) = ( {} ) by L487;
L489: ( len ( C34 @ ) ) = ( 0 ) by L486 , MATRIX_1:24;
thus L490: ( C34 @ ) = ( ( C36 @ ) * ( C35 @ ) ) by L489 , L488;
end;
suppose L491: R11 > ( 0 );

thus L492: ( C34 @ ) = ( ( C36 @ ) * ( C35 @ ) ) by L491 , L481 , L484 , L482 , L483 , MATRIX_3:22;
end;
end;
set D84 = ( diagonal_of_Matrix ( C36 @ ) );
set D85 = ( diagonal_of_Matrix C36 );
set D86 = ( diagonal_of_Matrix ( C35 @ ) );
set D87 = ( diagonal_of_Matrix C35 );
L494: ( len D85 ) = R11 by MATRIX_3:def 10;
L495: ( len D87 ) = R11 by MATRIX_3:def 10;
reconsider D88 = D87 , D89 = D85 as (Element of ( D83 -tuples_on (the carrier of R18) )) by L495 , L494 , FINSEQ_2:92;
L496: ( C36 @ ) is (Upper_Triangular_Matrix of R11 , R18) by L12;
L497: ( C35 @ ) is (Upper_Triangular_Matrix of R11 , R18) by L12;
L498: ( diagonal_of_Matrix ( C34 @ ) ) = ( mlt (D84 , D86) ) by L497 , L485 , L496 , L371;
L499: ( diagonal_of_Matrix C34 ) = ( mlt (D84 , D86) ) by L498 , L30
.= ( mlt (D85 , D86) ) by L30
.= ( mlt (D89 , D88) ) by L30
.= ( mlt (D87 , D85) ) by FVSUM_1:63;
L500: ( C34 @ ) is (Upper_Triangular_Matrix of R11 , R18) by L485 , L497 , L496 , L371;
thus L501: thesis by L500 , L499 , L12;
end;
begin
definition
let C37 being non  empty set;
let C38 being (Matrix of C37);
let R11 being Nat;
let R10 being Nat;
let C39 being (Element of ( R11 -tuples_on ( NAT ) ));
let C40 being (Element of ( R10 -tuples_on ( NAT ) ));
func Segm (C38 , C39 , C40) -> (Matrix of R11 , R10 , C37) means 
:L502: (for B31 , B32 being Nat holds ([ B31 , B32 ] in ( Indices it ) implies ( it * (B31 , B32) ) = ( C38 * (( C39 . B31 ) , ( C40 . B32 )) )));
existence
proof
reconsider D90 = R10 , D91 = R11 as (Element of ( NAT )) by ORDINAL1:def 12;
deffunc H2(set , set) = ( C38 * (( C39 . $1 ) , ( C40 . $2 )) );
L503: (ex B33 being (Matrix of D91 , D90 , C37) st (for B34 , B35 being Nat holds ([ B34 , B35 ] in ( Indices B33 ) implies ( B33 * (B34 , B35) ) = H2(B34 , B35)))) from MATRIX_1:sch 1;
consider C41 being (Matrix of D91 , D90 , C37) such that L504: (for B36 , B37 being Nat holds ([ B36 , B37 ] in ( Indices C41 ) implies ( C41 * (B36 , B37) ) = H2(B36 , B37))) by L503;
reconsider D92 = C41 as (Matrix of R11 , R10 , C37);
take D92;
thus L505: thesis by L504;
end;
uniqueness
proof
let C42 , C43 being (Matrix of R11 , R10 , C37);
assume that
L506: (for R6 being Nat holds (for R7 being Nat holds ([ R6 , R7 ] in ( Indices C42 ) implies ( C42 * (R6 , R7) ) = ( C38 * (( C39 . R6 ) , ( C40 . R7 )) ))))
and
L507: (for R6 being Nat holds (for R7 being Nat holds ([ R6 , R7 ] in ( Indices C43 ) implies ( C43 * (R6 , R7) ) = ( C38 * (( C39 . R6 ) , ( C40 . R7 )) ))));
L508:
now
let R6 being Nat;
let R7 being Nat;
assume that
L509: [ R6 , R7 ] in ( Indices C42 );
L510: [ R6 , R7 ] in ( Indices C43 ) by L509 , MATRIX_1:26;
reconsider D93 = R6 , D94 = R7 as (Element of ( NAT )) by ORDINAL1:def 12;
L511: ( C42 * (R6 , R7) ) = ( C38 * (( C39 . D93 ) , ( C40 . D94 )) ) by L506 , L509;
thus L512: ( C42 * (R6 , R7) ) = ( C43 * (R6 , R7) ) by L511 , L507 , L510;
end;
thus L513: thesis by L508 , MATRIX_1:27;
end;
end;
theorem
L515: (for R5 being non  empty set holds (for R6 being Nat holds (for R7 being Nat holds (for R10 being Nat holds (for R11 being Nat holds (for R23 being (Matrix of R5) holds (for R26 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R29 being (Element of ( R10 -tuples_on ( NAT ) )) holds ([: ( rng R26 ) , ( rng R29 ) :] c= ( Indices R23 ) implies ([ R6 , R7 ] in ( Indices ( Segm (R23 , R26 , R29) ) ) iff [ ( R26 . R6 ) , ( R29 . R7 ) ] in ( Indices R23 )))))))))))
proof
let R5 being non  empty set;
let R6 being Nat;
let R7 being Nat;
let R10 being Nat;
let R11 being Nat;
let R23 being (Matrix of R5);
let R26 being (Element of ( R11 -tuples_on ( NAT ) ));
let R29 being (Element of ( R10 -tuples_on ( NAT ) ));
set D95 = ( Segm (R23 , R26 , R29) );
L516: ( dom R29 ) = ( Seg R10 ) by FINSEQ_2:124;
assume L517: [: ( rng R26 ) , ( rng R29 ) :] c= ( Indices R23 );
thus L518: ([ R6 , R7 ] in ( Indices ( Segm (R23 , R26 , R29) ) ) implies [ ( R26 . R6 ) , ( R29 . R7 ) ] in ( Indices R23 ))
proof
L519: ( dom R29 ) = ( Seg R10 ) by FINSEQ_2:124;
assume L520: [ R6 , R7 ] in ( Indices D95 );
L521: R7 in ( Seg ( width D95 ) ) by L520 , ZFMISC_1:87;
L522: [ R6 , R7 ] in [: ( Seg R11 ) , ( Seg ( width D95 ) ) :] by L520 , MATRIX_1:25;
L523: R6 in ( Seg R11 ) by L522 , ZFMISC_1:87;
L524: R11 <> ( 0 ) by L523;
L525: ( dom R26 ) = ( Seg R11 ) by FINSEQ_2:124;
L526: ( R26 . R6 ) in ( rng R26 ) by L525 , L523 , FUNCT_1:def 3;
L527: ( width D95 ) = R10 by L1 , L524;
L528: ( R29 . R7 ) in ( rng R29 ) by L527 , L521 , L519 , FUNCT_1:def 3;
L529: [ ( R26 . R6 ) , ( R29 . R7 ) ] in [: ( rng R26 ) , ( rng R29 ) :] by L528 , L526 , ZFMISC_1:87;
thus L530: thesis by L529 , L517;
end;

assume L531: [ ( R26 . R6 ) , ( R29 . R7 ) ] in ( Indices R23 );
L532: R7 in ( dom R29 )
proof
assume L533: (not R7 in ( dom R29 ));
L534: ( R29 . R7 ) = ( {} ) by L533 , FUNCT_1:def 2;
L535: ( 0 ) in ( Seg ( width R23 ) ) by L534 , L531 , ZFMISC_1:87;
thus L536: thesis by L535 , FINSEQ_1:1;
end;
L537: R6 in ( dom R26 )
proof
assume L538: (not R6 in ( dom R26 ));
L539: ( R26 . R6 ) = ( {} ) by L538 , FUNCT_1:def 2;
L540: ( dom R23 ) = ( Seg ( len R23 ) ) by FINSEQ_1:def 3;
L541: ( 0 ) in ( Seg ( len R23 ) ) by L540 , L531 , L539 , ZFMISC_1:87;
thus L542: thesis by L541 , FINSEQ_1:1;
end;
L543: R11 <> ( 0 ) by L537;
L544: ( width D95 ) = R10 by L543 , L1;
L545: ( dom R26 ) = ( Seg R11 ) by FINSEQ_2:124;
L546: [ R6 , R7 ] in [: ( Seg R11 ) , ( Seg ( width D95 ) ) :] by L545 , L537 , L532 , L544 , L516 , ZFMISC_1:87;
thus L547: thesis by L546 , MATRIX_1:25;
end;
theorem
L548: (for R5 being non  empty set holds (for R10 being Nat holds (for R11 being Nat holds (for R23 being (Matrix of R5) holds (for R26 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R29 being (Element of ( R10 -tuples_on ( NAT ) )) holds (([: ( rng R26 ) , ( rng R29 ) :] c= ( Indices R23 ) & (R11 = ( 0 ) iff R10 = ( 0 ))) implies ( ( Segm (R23 , R26 , R29) ) @ ) = ( Segm (( R23 @ ) , R29 , R26) ))))))))
proof
let R5 being non  empty set;
let R10 being Nat;
let R11 being Nat;
let R23 being (Matrix of R5);
let R26 being (Element of ( R11 -tuples_on ( NAT ) ));
let R29 being (Element of ( R10 -tuples_on ( NAT ) ));
assume that
L549: [: ( rng R26 ) , ( rng R29 ) :] c= ( Indices R23 )
and
L550: (R11 = ( 0 ) iff R10 = ( 0 ));
set D96 = ( R23 @ );
set D97 = ( Segm (R23 , R26 , R29) );
set D98 = ( Segm (D96 , R29 , R26) );
per cases ;
suppose L551: R11 = ( 0 );

L552: ( width D97 ) = ( 0 ) by L551 , L550 , L1;
L553: ( len ( D97 @ ) ) = ( 0 ) by L552 , MATRIX_1:def 6;
L554: ( D97 @ ) = ( {} ) by L553;
L555: ( len D98 ) = ( 0 ) by L550 , L551 , L1;
thus L556: thesis by L555 , L554;
end;
suppose L557: R11 > ( 0 );

L558: ( width D97 ) = R10 by L557 , L1;
L559: ( width D98 ) = R11 by L550 , L1;
L560:
now
L561: ( Indices D98 ) = [: ( Seg R10 ) , ( Seg R11 ) :] by L559 , MATRIX_1:25;
let R6 being Nat;
let R7 being Nat;
assume that
L562: [ R6 , R7 ] in ( Indices ( D97 @ ) );
reconsider D99 = R6 , D100 = R7 as (Element of ( NAT )) by ORDINAL1:def 12;
L563: [ D100 , D99 ] in ( Indices D97 ) by L562 , MATRIX_1:def 6;
L564: ( ( D97 @ ) * (D99 , D100) ) = ( D97 * (D100 , D99) ) by L563 , MATRIX_1:def 6;
L565: ( Indices D97 ) = [: ( Seg R11 ) , ( Seg R10 ) :] by L558 , MATRIX_1:25;
L566: D100 in ( Seg R11 ) by L565 , L563 , ZFMISC_1:87;
L567: D99 in ( Seg R10 ) by L558 , L563 , ZFMISC_1:87;
L568: [ D99 , D100 ] in ( Indices D98 ) by L567 , L566 , L561 , ZFMISC_1:87;
L569: ( D97 * (D100 , D99) ) = ( R23 * (( R26 . R7 ) , ( R29 . R6 )) ) by L563 , L502;
L570: [ ( R26 . R7 ) , ( R29 . R6 ) ] in ( Indices R23 ) by L549 , L563 , L515;
L571: ( ( D97 @ ) * (D99 , D100) ) = ( D96 * (( R29 . R6 ) , ( R26 . R7 )) ) by L570 , L569 , L564 , MATRIX_1:def 6;
thus L572: ( ( D97 @ ) * (R6 , R7) ) = ( D98 * (R6 , R7) ) by L571 , L568 , L502;
end;
L573: ( len D98 ) = R10 by L550 , L1;
L574: ( len ( D97 @ ) ) = ( len D98 ) by L573 , L550 , L557 , L558 , MATRIX_2:10;
L575: ( len D97 ) = R11 by L557 , L1;
thus L576: thesis by L575 , L550 , L557 , L558 , L559 , L574 , L560 , MATRIX_1:21 , MATRIX_2:10;
end;
end;
theorem
L578: (for R5 being non  empty set holds (for R10 being Nat holds (for R11 being Nat holds (for R23 being (Matrix of R5) holds (for R26 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R29 being (Element of ( R10 -tuples_on ( NAT ) )) holds (([: ( rng R26 ) , ( rng R29 ) :] c= ( Indices R23 ) & (R10 = ( 0 ) implies R11 = ( 0 ))) implies ( Segm (R23 , R26 , R29) ) = ( ( Segm (( R23 @ ) , R29 , R26) ) @ ))))))))
proof
let R5 being non  empty set;
let R10 being Nat;
let R11 being Nat;
let R23 being (Matrix of R5);
let R26 being (Element of ( R11 -tuples_on ( NAT ) ));
let R29 being (Element of ( R10 -tuples_on ( NAT ) ));
assume that
L579: [: ( rng R26 ) , ( rng R29 ) :] c= ( Indices R23 )
and
L580: (R10 = ( 0 ) implies R11 = ( 0 ));
set D101 = ( Segm (( R23 @ ) , R29 , R26) );
set D102 = ( Segm (R23 , R26 , R29) );
per cases ;
suppose L581: R11 = ( 0 );

L582: (( len D101 ) = ( 0 ) or (( len D101 ) > ( 0 ) & ( len D101 ) = R10)) by MATRIX_1:def 2;
L583: ( width D101 ) = ( 0 ) by L582 , L581 , MATRIX_1:23 , MATRIX_1:def 3;
L584: ( len ( D101 @ ) ) = ( 0 ) by L583 , MATRIX_1:def 6;
L585: ( len D102 ) = ( 0 ) by L581 , MATRIX_1:def 2;
L586: D102 = ( {} ) by L585;
thus L587: thesis by L586 , L584;
end;
suppose L588: R11 > ( 0 );

L589: ( width D102 ) = R10 by L588 , L1;
L590: ( len D102 ) = R11 by L588 , L1;
L591: ( ( D102 @ ) @ ) = D102 by L590 , L580 , L588 , L589 , MATRIX_2:13;
thus L592: thesis by L591 , L579 , L580 , L588 , L548;
end;
end;
theorem
L594: (for R5 being non  empty set holds (for B38 being (Matrix of 1 , R5) holds B38 = <* <* ( B38 * (1 , 1) ) *> *>))
proof
let R5 being non  empty set;
let C44 being (Matrix of 1 , R5);
reconsider D103 = <* <* ( C44 * (1 , 1) ) *> *> as (Matrix of 1 , R5) by MATRIX_1:15;
L595:
now
L596: ( Indices C44 ) = [: ( Seg 1 ) , ( Seg 1 ) :] by MATRIX_1:24;
let R6 being Nat;
let R7 being Nat;
assume that
L597: [ R6 , R7 ] in ( Indices C44 );
L598: R7 in { 1 } by L597 , L596 , FINSEQ_1:2 , ZFMISC_1:87;
L599: R7 = 1 by L598 , TARSKI:def 1;
L600: R6 in { 1 } by L597 , L596 , FINSEQ_1:2 , ZFMISC_1:87;
L601: R6 = 1 by L600 , TARSKI:def 1;
thus L602: ( D103 * (R6 , R7) ) = ( C44 * (R6 , R7) ) by L601 , L599 , MATRIX_2:5;
end;
thus L603: thesis by L595 , MATRIX_1:27;
end;
theorem
L604: (for R5 being non  empty set holds (for R10 being Nat holds (for R11 being Nat holds (for R23 being (Matrix of R5) holds (for R26 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R29 being (Element of ( R10 -tuples_on ( NAT ) )) holds ((R11 = 1 & R10 = 1) implies ( Segm (R23 , R26 , R29) ) = <* <* ( R23 * (( R26 . 1 ) , ( R29 . 1 )) ) *> *>)))))))
proof
let R5 being non  empty set;
let R10 being Nat;
let R11 being Nat;
let R23 being (Matrix of R5);
let R26 being (Element of ( R11 -tuples_on ( NAT ) ));
let R29 being (Element of ( R10 -tuples_on ( NAT ) ));
L605: 1 in ( Seg 1 );
assume that
L606: R11 = 1
and
L607: R10 = 1;
L608: ( Indices ( Segm (R23 , R26 , R29) ) ) = [: ( Seg 1 ) , ( Seg 1 ) :] by L606 , L607 , MATRIX_1:24;
L609: [ 1 , 1 ] in ( Indices ( Segm (R23 , R26 , R29) ) ) by L608 , L605 , ZFMISC_1:87;
L610: ( ( Segm (R23 , R26 , R29) ) * (1 , 1) ) = ( R23 * (( R26 . 1 ) , ( R29 . 1 )) ) by L609 , L502;
thus L611: thesis by L610 , L606 , L607 , L594;
end;
theorem
L612: (for R5 being non  empty set holds (for B39 being (Matrix of 2 , R5) holds B39 = ( (( B39 * (1 , 1) ) , ( B39 * (1 , 2) )) ][ (( B39 * (2 , 1) ) , ( B39 * (2 , 2) )) )))
proof
let R5 being non  empty set;
let C45 being (Matrix of 2 , R5);
reconsider D104 = ( (( C45 * (1 , 1) ) , ( C45 * (1 , 2) )) ][ (( C45 * (2 , 1) ) , ( C45 * (2 , 2) )) ) as (Matrix of 2 , R5);
L613:
now
L614: ( Indices C45 ) = [: ( Seg 2 ) , ( Seg 2 ) :] by MATRIX_1:24;
let R6 being Nat;
let R7 being Nat;
assume that
L615: [ R6 , R7 ] in ( Indices C45 );
L616: R7 in { 1 , 2 } by L615 , L614 , FINSEQ_1:2 , ZFMISC_1:87;
L617: (R7 = 1 or R7 = 2) by L616 , TARSKI:def 2;
L618: R6 in { 1 , 2 } by L615 , L614 , FINSEQ_1:2 , ZFMISC_1:87;
L619: (R6 = 1 or R6 = 2) by L618 , TARSKI:def 2;
thus L620: ( D104 * (R6 , R7) ) = ( C45 * (R6 , R7) ) by L619 , L617 , MATRIX_2:6;
end;
thus L621: thesis by L613 , MATRIX_1:27;
end;
theorem
L622: (for R5 being non  empty set holds (for R10 being Nat holds (for R11 being Nat holds (for R23 being (Matrix of R5) holds (for R26 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R29 being (Element of ( R10 -tuples_on ( NAT ) )) holds ((R11 = 2 & R10 = 2) implies ( Segm (R23 , R26 , R29) ) = ( (( R23 * (( R26 . 1 ) , ( R29 . 1 )) ) , ( R23 * (( R26 . 1 ) , ( R29 . 2 )) )) ][ (( R23 * (( R26 . 2 ) , ( R29 . 1 )) ) , ( R23 * (( R26 . 2 ) , ( R29 . 2 )) )) ))))))))
proof
let R5 being non  empty set;
let R10 being Nat;
let R11 being Nat;
let R23 being (Matrix of R5);
let R26 being (Element of ( R11 -tuples_on ( NAT ) ));
let R29 being (Element of ( R10 -tuples_on ( NAT ) ));
set D105 = ( Segm (R23 , R26 , R29) );
set D106 = ( Indices D105 );
assume that
L623: R11 = 2
and
L624: R10 = 2;
L625: D106 = [: ( Seg 2 ) , ( Seg 2 ) :] by L623 , L624 , MATRIX_1:24;
L626: 2 in ( Seg 2 );
L627: [ 2 , 2 ] in D106 by L626 , L625 , ZFMISC_1:87;
L628: ( D105 * (2 , 2) ) = ( R23 * (( R26 . 2 ) , ( R29 . 2 )) ) by L627 , L502;
L629: 1 in ( Seg 2 );
L630: [ 1 , 1 ] in D106 by L629 , L625 , ZFMISC_1:87;
L631: ( D105 * (1 , 1) ) = ( R23 * (( R26 . 1 ) , ( R29 . 1 )) ) by L630 , L502;
L632: [ 2 , 1 ] in D106 by L629 , L626 , L625 , ZFMISC_1:87;
L633: ( D105 * (2 , 1) ) = ( R23 * (( R26 . 2 ) , ( R29 . 1 )) ) by L632 , L502;
L634: [ 1 , 2 ] in D106 by L629 , L626 , L625 , ZFMISC_1:87;
L635: ( D105 * (1 , 2) ) = ( R23 * (( R26 . 1 ) , ( R29 . 2 )) ) by L634 , L502;
thus L636: thesis by L635 , L623 , L624 , L631 , L633 , L628 , L612;
end;
theorem
L637: (for R5 being non  empty set holds (for R6 being Nat holds (for R10 being Nat holds (for R11 being Nat holds (for R23 being (Matrix of R5) holds (for R26 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R29 being (Element of ( R10 -tuples_on ( NAT ) )) holds ((R6 in ( Seg R11 ) & ( rng R29 ) c= ( Seg ( width R23 ) )) implies ( Line (( Segm (R23 , R26 , R29) ) , R6) ) = ( ( Line (R23 , ( R26 . R6 )) ) * R29 )))))))))
proof
let R5 being non  empty set;
let R6 being Nat;
let R10 being Nat;
let R11 being Nat;
let R23 being (Matrix of R5);
let R26 being (Element of ( R11 -tuples_on ( NAT ) ));
let R29 being (Element of ( R10 -tuples_on ( NAT ) ));
set D107 = ( Segm (R23 , R26 , R29) );
set D108 = ( Line (D107 , R6) );
set D109 = ( Line (R23 , ( R26 . R6 )) );
assume that
L638: R6 in ( Seg R11 )
and
L639: ( rng R29 ) c= ( Seg ( width R23 ) );
L640: R11 <> ( 0 ) by L638;
L641: ( width D107 ) = R10 by L640 , L1;
L642: ( len D108 ) = R10 by L641 , MATRIX_1:def 7;
L643: ( dom D108 ) = ( Seg R10 ) by L642 , FINSEQ_1:def 3;
L644: ( dom R29 ) = ( Seg R10 ) by FINSEQ_2:124;
L645: ( len D109 ) = ( width R23 ) by MATRIX_1:def 7;
L646: ( dom D109 ) = ( Seg ( width R23 ) ) by L645 , FINSEQ_1:def 3;
L647: ( dom ( D109 * R29 ) ) = ( dom R29 ) by L646 , L639 , RELAT_1:27;
L648:
now
let R1 being set;
assume that
L649: R1 in ( dom D108 );
consider C46 being (Element of ( NAT )) such that L650: C46 = R1 and L651: 1 <= C46 and L652: C46 <= R10 by L643 , L649;
L653: ( D108 . C46 ) = ( D107 * (R6 , C46) ) by L641 , L643 , L649 , L650 , MATRIX_1:def 7;
L654: [ R6 , C46 ] in [: ( Seg R11 ) , ( Seg ( width D107 ) ) :] by L638 , L641 , L643 , L649 , L650 , ZFMISC_1:87;
L655: [ R6 , C46 ] in ( Indices D107 ) by L654 , MATRIX_1:25;
L656: ( R29 . C46 ) in ( rng R29 ) by L644 , L643 , L649 , L650 , FUNCT_1:def 3;
L657: ( D109 . ( R29 . C46 ) ) = ( R23 * (( R26 . R6 ) , ( R29 . C46 )) ) by L656 , L639 , MATRIX_1:def 7;
L658: ( ( D109 * R29 ) . C46 ) = ( D109 . ( R29 . C46 ) ) by L647 , L644 , L643 , L649 , L650 , FUNCT_1:12;
thus L659: ( D108 . R1 ) = ( ( D109 * R29 ) . R1 ) by L658 , L650 , L657 , L655 , L653 , L502;
end;
thus L660: thesis by L648 , L647 , L644 , L643 , FUNCT_1:2;
end;
theorem
L661: (for R5 being non  empty set holds (for R6 being Nat holds (for R7 being Nat holds (for R10 being Nat holds (for R11 being Nat holds (for R23 being (Matrix of R5) holds (for R26 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R29 being (Element of ( R10 -tuples_on ( NAT ) )) holds ((R6 in ( Seg R11 ) & R7 in ( Seg R11 ) & ( R26 . R6 ) = ( R26 . R7 )) implies ( Line (( Segm (R23 , R26 , R29) ) , R6) ) = ( Line (( Segm (R23 , R26 , R29) ) , R7) ))))))))))
proof
let R5 being non  empty set;
let R6 being Nat;
let R7 being Nat;
let R10 being Nat;
let R11 being Nat;
let R23 being (Matrix of R5);
let R26 being (Element of ( R11 -tuples_on ( NAT ) ));
let R29 being (Element of ( R10 -tuples_on ( NAT ) ));
set D110 = ( Segm (R23 , R26 , R29) );
set D111 = ( Line (D110 , R6) );
set D112 = ( Line (D110 , R7) );
assume that
L662: R6 in ( Seg R11 )
and
L663: R7 in ( Seg R11 )
and
L664: ( R26 . R6 ) = ( R26 . R7 );
L665:
now
let R8 being Nat;
assume that
L666: 1 <= R8
and
L667: R8 <= ( width D110 );
L668: R8 in ( NAT ) by ORDINAL1:def 12;
L669: R8 in ( Seg ( width D110 ) ) by L668 , L666 , L667;
L670: [ R6 , R8 ] in [: ( Seg R11 ) , ( Seg ( width D110 ) ) :] by L669 , L662 , ZFMISC_1:87;
L671: [ R6 , R8 ] in ( Indices D110 ) by L670 , MATRIX_1:25;
L672: ( D110 * (R6 , R8) ) = ( R23 * (( R26 . R6 ) , ( R29 . R8 )) ) by L671 , L502;
L673: [ R7 , R8 ] in [: ( Seg R11 ) , ( Seg ( width D110 ) ) :] by L663 , L669 , ZFMISC_1:87;
L674: [ R7 , R8 ] in ( Indices D110 ) by L673 , MATRIX_1:25;
L675: ( D110 * (R7 , R8) ) = ( R23 * (( R26 . R7 ) , ( R29 . R8 )) ) by L674 , L502;
L676: ( D110 * (R6 , R8) ) = ( D111 . R8 ) by L669 , MATRIX_1:def 7;
thus L677: ( D111 . R8 ) = ( D112 . R8 ) by L676 , L664 , L669 , L672 , L675 , MATRIX_1:def 7;
end;
L678: ( len D112 ) = ( width D110 ) by MATRIX_1:def 7;
L679: ( len D111 ) = ( width D110 ) by MATRIX_1:def 7;
thus L680: thesis by L679 , L678 , L665 , FINSEQ_1:14;
end;
theorem
L681: (for R6 being Nat holds (for R7 being Nat holds (for R11 being Nat holds (for R18 being Field holds (for R26 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R27 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R31 being (Matrix of R18) holds ((R6 in ( Seg R11 ) & R7 in ( Seg R11 ) & ( R26 . R6 ) = ( R26 . R7 ) & R6 <> R7) implies ( Det ( Segm (R31 , R26 , R27) ) ) = ( 0. R18 )))))))))
proof
let R6 being Nat;
let R7 being Nat;
let R11 being Nat;
let R18 being Field;
let R26 being (Element of ( R11 -tuples_on ( NAT ) ));
let R27 being (Element of ( R11 -tuples_on ( NAT ) ));
let R31 being (Matrix of R18);
assume that
L682: R6 in ( Seg R11 )
and
L683: R7 in ( Seg R11 )
and
L684: ( R26 . R6 ) = ( R26 . R7 )
and
L685: R6 <> R7;
L686: (R6 < R7 or R7 < R6) by L685 , XXREAL_0:1;
L687: ( Line (( Segm (R31 , R26 , R27) ) , R6) ) = ( Line (( Segm (R31 , R26 , R27) ) , R7) ) by L682 , L683 , L684 , L661;
thus L688: thesis by L687 , L682 , L683 , L686 , MATRIX11:50;
end;
theorem
L689: (for R11 being Nat holds (for R18 being Field holds (for R26 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R27 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R31 being (Matrix of R18) holds ((not R26 is  one-to-one) implies ( Det ( Segm (R31 , R26 , R27) ) ) = ( 0. R18 )))))))
proof
let R11 being Nat;
let R18 being Field;
let R26 being (Element of ( R11 -tuples_on ( NAT ) ));
let R27 being (Element of ( R11 -tuples_on ( NAT ) ));
let R31 being (Matrix of R18);
assume L690: (not R26 is  one-to-one);
consider R1 being set, R2 being set such that L691: R1 in ( dom R26 ) and L692: R2 in ( dom R26 ) and L693: ( R26 . R1 ) = ( R26 . R2 ) and L694: R1 <> R2 by L690 , FUNCT_1:def 4;
L695: ( dom R26 ) = ( Seg R11 ) by FINSEQ_2:124;
consider C47 being (Element of ( NAT )) such that L696: R1 = C47 and L697: 1 <= C47 and L698: C47 <= R11 by L695 , L691;
consider C48 being (Element of ( NAT )) such that L699: R2 = C48 and L700: 1 <= C48 and L701: C48 <= R11 by L692 , L695;
L702: C48 in ( Seg R11 ) by L700 , L701;
L703: C47 in ( Seg R11 ) by L697 , L698;
thus L704: thesis by L703 , L693 , L694 , L696 , L699 , L702 , L681;
end;
theorem
L705: (for R5 being non  empty set holds (for R7 being Nat holds (for R10 being Nat holds (for R11 being Nat holds (for R23 being (Matrix of R5) holds (for R26 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R29 being (Element of ( R10 -tuples_on ( NAT ) )) holds ((R7 in ( Seg R10 ) & ( rng R26 ) c= ( Seg ( len R23 ) )) implies ( Col (( Segm (R23 , R26 , R29) ) , R7) ) = ( ( Col (R23 , ( R29 . R7 )) ) * R26 )))))))))
proof
let R5 being non  empty set;
let R7 being Nat;
let R10 being Nat;
let R11 being Nat;
let R23 being (Matrix of R5);
let R26 being (Element of ( R11 -tuples_on ( NAT ) ));
let R29 being (Element of ( R10 -tuples_on ( NAT ) ));
set D113 = ( Segm (R23 , R26 , R29) );
set D114 = ( Col (D113 , R7) );
set D115 = ( Col (R23 , ( R29 . R7 )) );
assume that
L706: R7 in ( Seg R10 )
and
L707: ( rng R26 ) c= ( Seg ( len R23 ) );
L708: ( len D115 ) = ( len R23 ) by MATRIX_1:def 8;
L709: ( dom D115 ) = ( Seg ( len R23 ) ) by L708 , FINSEQ_1:def 3;
L710: ( dom ( D115 * R26 ) ) = ( dom R26 ) by L709 , L707 , RELAT_1:27;
L711: ( dom R26 ) = ( Seg R11 ) by FINSEQ_2:124;
L712: ( len D113 ) = R11 by MATRIX_1:def 2;
L713: ( dom D113 ) = ( Seg R11 ) by L712 , FINSEQ_1:def 3;
L714: ( len D114 ) = R11 by L712 , MATRIX_1:def 8;
L715: ( dom D114 ) = ( Seg R11 ) by L714 , FINSEQ_1:def 3;
L716: ( dom R23 ) = ( Seg ( len R23 ) ) by FINSEQ_1:def 3;
L717:
now
let R1 being set;
assume that
L718: R1 in ( dom D114 );
consider C49 being (Element of ( NAT )) such that L719: C49 = R1 and L720: 1 <= C49 and L721: C49 <= R11 by L715 , L718;
L722: ( D114 . C49 ) = ( D113 * (C49 , R7) ) by L713 , L715 , L718 , L719 , MATRIX_1:def 8;
L723: ( R26 . C49 ) in ( rng R26 ) by L711 , L715 , L718 , L719 , FUNCT_1:def 3;
L724: ( D115 . ( R26 . C49 ) ) = ( R23 * (( R26 . C49 ) , ( R29 . R7 )) ) by L723 , L707 , L716 , MATRIX_1:def 8;
L725: [ C49 , R7 ] in [: ( Seg R11 ) , ( Seg R10 ) :] by L706 , L715 , L718 , L719 , ZFMISC_1:87;
L726: [ C49 , R7 ] in ( Indices D113 ) by L725 , L713 , L720 , L721 , L1;
L727: ( ( D115 * R26 ) . C49 ) = ( D115 . ( R26 . C49 ) ) by L710 , L711 , L715 , L718 , L719 , FUNCT_1:12;
thus L728: ( D114 . R1 ) = ( ( D115 * R26 ) . R1 ) by L727 , L719 , L724 , L726 , L722 , L502;
end;
thus L729: thesis by L717 , L710 , L711 , L715 , FUNCT_1:2;
end;
theorem
L730: (for R5 being non  empty set holds (for R6 being Nat holds (for R7 being Nat holds (for R10 being Nat holds (for R11 being Nat holds (for R23 being (Matrix of R5) holds (for R26 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R29 being (Element of ( R10 -tuples_on ( NAT ) )) holds ((R6 in ( Seg R10 ) & R7 in ( Seg R10 ) & ( R29 . R6 ) = ( R29 . R7 )) implies ( Col (( Segm (R23 , R26 , R29) ) , R6) ) = ( Col (( Segm (R23 , R26 , R29) ) , R7) ))))))))))
proof
let R5 being non  empty set;
let R6 being Nat;
let R7 being Nat;
let R10 being Nat;
let R11 being Nat;
let R23 being (Matrix of R5);
let R26 being (Element of ( R11 -tuples_on ( NAT ) ));
let R29 being (Element of ( R10 -tuples_on ( NAT ) ));
set D116 = ( Segm (R23 , R26 , R29) );
set D117 = ( Col (D116 , R6) );
set D118 = ( Col (D116 , R7) );
assume that
L731: R6 in ( Seg R10 )
and
L732: R7 in ( Seg R10 )
and
L733: ( R29 . R6 ) = ( R29 . R7 );
L734:
now
let R8 being Nat;
assume that
L735: 1 <= R8
and
L736: R8 <= ( len D116 );
L737: R8 in ( NAT ) by ORDINAL1:def 12;
L738: R8 in ( Seg ( len D116 ) ) by L737 , L735 , L736;
L739: R8 in ( Seg R11 ) by L738 , MATRIX_1:def 2;
L740: R11 <> ( 0 ) by L739;
L741: ( width D116 ) = R10 by L740 , L1;
L742: [ R8 , R7 ] in [: ( Seg R11 ) , ( Seg R10 ) :] by L732 , L739 , ZFMISC_1:87;
L743: [ R8 , R7 ] in ( Indices D116 ) by L742 , L741 , MATRIX_1:25;
L744: ( D116 * (R8 , R7) ) = ( R23 * (( R26 . R8 ) , ( R29 . R7 )) ) by L743 , L502;
L745: [ R8 , R6 ] in [: ( Seg R11 ) , ( Seg R10 ) :] by L731 , L739 , ZFMISC_1:87;
L746: [ R8 , R6 ] in ( Indices D116 ) by L745 , L741 , MATRIX_1:25;
L747: ( D116 * (R8 , R6) ) = ( R23 * (( R26 . R8 ) , ( R29 . R6 )) ) by L746 , L502;
L748: R8 in ( dom D116 ) by L738 , FINSEQ_1:def 3;
L749: ( D116 * (R8 , R6) ) = ( D117 . R8 ) by L748 , MATRIX_1:def 8;
thus L750: ( D117 . R8 ) = ( D118 . R8 ) by L749 , L733 , L748 , L747 , L744 , MATRIX_1:def 8;
end;
L751: ( len D118 ) = ( len D116 ) by MATRIX_1:def 8;
L752: ( len D117 ) = ( len D116 ) by MATRIX_1:def 8;
thus L753: thesis by L752 , L751 , L734 , FINSEQ_1:14;
end;
theorem
L754: (for R6 being Nat holds (for R7 being Nat holds (for R10 being Nat holds (for R18 being Field holds (for R29 being (Element of ( R10 -tuples_on ( NAT ) )) holds (for R30 being (Element of ( R10 -tuples_on ( NAT ) )) holds (for R31 being (Matrix of R18) holds ((R6 in ( Seg R10 ) & R7 in ( Seg R10 ) & ( R29 . R6 ) = ( R29 . R7 ) & R6 <> R7) implies ( Det ( Segm (R31 , R30 , R29) ) ) = ( 0. R18 )))))))))
proof
let R6 being Nat;
let R7 being Nat;
let R10 being Nat;
let R18 being Field;
let R29 being (Element of ( R10 -tuples_on ( NAT ) ));
let R30 being (Element of ( R10 -tuples_on ( NAT ) ));
let R31 being (Matrix of R18);
assume that
L755: R6 in ( Seg R10 )
and
L756: R7 in ( Seg R10 )
and
L757: ( R29 . R6 ) = ( R29 . R7 )
and
L758: R6 <> R7;
L759: (R6 < R7 or R7 < R6) by L758 , XXREAL_0:1;
set D119 = ( Segm (R31 , R30 , R29) );
L760: ( width D119 ) = R10 by MATRIX_1:24;
L761: ( Col (D119 , R7) ) = ( Line (( D119 @ ) , R7) ) by L760 , L756 , MATRIX_2:15;
L762: ( Col (D119 , R6) ) = ( Line (( D119 @ ) , R6) ) by L755 , L760 , MATRIX_2:15;
thus L763: ( 0. R18 ) = ( Det ( D119 @ ) ) by L762 , L755 , L756 , L757 , L761 , L759 , L730 , MATRIX11:50
.= ( Det D119 ) by MATRIXR2:43;
end;
theorem
L764: (for R10 being Nat holds (for R18 being Field holds (for R29 being (Element of ( R10 -tuples_on ( NAT ) )) holds (for R30 being (Element of ( R10 -tuples_on ( NAT ) )) holds (for R31 being (Matrix of R18) holds ((not R29 is  one-to-one) implies ( Det ( Segm (R31 , R30 , R29) ) ) = ( 0. R18 )))))))
proof
let R10 being Nat;
let R18 being Field;
let R29 being (Element of ( R10 -tuples_on ( NAT ) ));
let R30 being (Element of ( R10 -tuples_on ( NAT ) ));
let R31 being (Matrix of R18);
assume L765: (not R29 is  one-to-one);
consider R1 being set, R2 being set such that L766: R1 in ( dom R29 ) and L767: R2 in ( dom R29 ) and L768: ( R29 . R1 ) = ( R29 . R2 ) and L769: R1 <> R2 by L765 , FUNCT_1:def 4;
L770: ( dom R29 ) = ( Seg R10 ) by FINSEQ_2:124;
consider C50 being (Element of ( NAT )) such that L771: R1 = C50 and L772: 1 <= C50 and L773: C50 <= R10 by L770 , L766;
consider C51 being (Element of ( NAT )) such that L774: R2 = C51 and L775: 1 <= C51 and L776: C51 <= R10 by L767 , L770;
L777: C51 in ( Seg R10 ) by L775 , L776;
L778: C50 in ( Seg R10 ) by L772 , L773;
thus L779: thesis by L778 , L768 , L769 , L771 , L774 , L777 , L754;
end;
theorem
L780: (for R11 being Nat holds (for B40 , B41 being (Element of ( R11 -tuples_on ( NAT ) )) holds ((B40 is  one-to-one & B41 is  one-to-one & ( rng B40 ) = ( rng B41 )) implies (ex B42 being (Permutation of ( Seg R11 )) st B41 = ( B40 * B42 )))))
proof
let R11 being Nat;
let R26 being (Element of ( R11 -tuples_on ( NAT ) ));
let R27 being (Element of ( R11 -tuples_on ( NAT ) ));
assume that
L781: R26 is  one-to-one
and
L782: R27 is  one-to-one
and
L783: ( rng R26 ) = ( rng R27 );
reconsider D120 = ( R26 " ) as Function;
L784: ( dom D120 ) = ( rng R27 ) by L781 , L783 , FUNCT_1:33;
L785: ( dom R26 ) = ( Seg R11 ) by FINSEQ_2:124;
L786: ( rng D120 ) = ( dom R26 ) by L781 , FUNCT_1:33;
L787: ( rng ( D120 * R27 ) ) = ( Seg R11 ) by L786 , L785 , L784 , RELAT_1:28;
L788: ( dom R27 ) = ( Seg R11 ) by FINSEQ_2:124;
L789: ( dom ( D120 * R27 ) ) = ( Seg R11 ) by L788 , L784 , RELAT_1:27;
reconsider D121 = ( D120 * R27 ) as (Function of ( Seg R11 ) , ( Seg R11 )) by L789 , L787 , FUNCT_2:1;
L790: D121 is  one-to-one  onto by L781 , L782 , L787 , FUNCT_2:def 3;
reconsider D122 = D121 as (Permutation of ( Seg R11 )) by L790;
take D122;
thus L791: ( R26 * D122 ) = ( ( R26 * D120 ) * R27 ) by RELAT_1:36
.= ( ( id ( rng R27 ) ) * R27 ) by L781 , L783 , FUNCT_1:39
.= R27 by RELAT_1:54;
end;
theorem
L792: (for R5 being non  empty set holds (for R10 being Nat holds (for R11 being Nat holds (for R23 being (Matrix of R5) holds (for R26 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R27 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R29 being (Element of ( R10 -tuples_on ( NAT ) )) holds (for B43 being (Function of ( Seg R11 ) , ( Seg R11 )) holds (R27 = ( R26 * B43 ) implies ( Segm (R23 , R27 , R29) ) = ( ( Segm (R23 , R26 , R29) ) * B43 ))))))))))
proof
let R5 being non  empty set;
let R10 being Nat;
let R11 being Nat;
let R23 being (Matrix of R5);
let R26 being (Element of ( R11 -tuples_on ( NAT ) ));
let R27 being (Element of ( R11 -tuples_on ( NAT ) ));
let R29 being (Element of ( R10 -tuples_on ( NAT ) ));
let C52 being (Function of ( Seg R11 ) , ( Seg R11 ));
assume that
L793: R27 = ( R26 * C52 );
set D123 = ( Segm (R23 , R26 , R29) );
set D124 = ( Segm (R23 , R27 , R29) );
set D125 = ( D123 * C52 );
L794:
now
let R6 being Nat;
let R7 being Nat;
assume that
L795: [ R6 , R7 ] in ( Indices D124 );
L796: ( Indices D124 ) = [: ( Seg R11 ) , ( Seg ( width D124 ) ) :] by MATRIX_1:25;
L797: R6 in ( Seg R11 ) by L796 , L795 , ZFMISC_1:87;
L798: ( Indices D124 ) = ( Indices D123 ) by MATRIX_1:26;
consider R8 being Nat such that L799: ( C52 . R6 ) = R8 and L800: [ R8 , R7 ] in ( Indices D123 ) and L801: ( D125 * (R6 , R7) ) = ( D123 * (R8 , R7) ) by L798 , L795 , MATRIX11:37;
reconsider D126 = R6 , D127 = R7 , D128 = R8 as (Element of ( NAT )) by ORDINAL1:def 12;
L802: ( Seg R11 ) = ( dom R27 ) by FINSEQ_2:124;
L803: ( R27 . D126 ) = ( R26 . ( C52 . R6 ) ) by L802 , L793 , L797 , FUNCT_1:12;
thus L804: ( D124 * (R6 , R7) ) = ( R23 * (( R26 . D128 ) , ( R29 . D127 )) ) by L803 , L795 , L799 , L502
.= ( D125 * (R6 , R7) ) by L800 , L801 , L502;
end;
thus L805: thesis by L794 , MATRIX_1:27;
end;
theorem
L806: (for R5 being non  empty set holds (for R10 being Nat holds (for R11 being Nat holds (for R23 being (Matrix of R5) holds (for R26 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R29 being (Element of ( R10 -tuples_on ( NAT ) )) holds (for R30 being (Element of ( R10 -tuples_on ( NAT ) )) holds (for B44 being (Function of ( Seg R10 ) , ( Seg R10 )) holds (R30 = ( R29 * B44 ) implies ( ( Segm (R23 , R26 , R30) ) @ ) = ( ( ( Segm (R23 , R26 , R29) ) @ ) * B44 ))))))))))
proof
let R5 being non  empty set;
let R10 being Nat;
let R11 being Nat;
let R23 being (Matrix of R5);
let R26 being (Element of ( R11 -tuples_on ( NAT ) ));
let R29 being (Element of ( R10 -tuples_on ( NAT ) ));
let R30 being (Element of ( R10 -tuples_on ( NAT ) ));
let C53 being (Function of ( Seg R10 ) , ( Seg R10 ));
assume that
L807: R30 = ( R29 * C53 );
set D129 = ( Segm (R23 , R26 , R29) );
set D130 = ( Segm (R23 , R26 , R30) );
per cases ;
suppose L808: (R10 = ( 0 ) or R11 = ( 0 ));

L809: ( len D129 ) = R11 by MATRIX_1:def 2;
L810: ( width D129 ) = ( 0 ) by L809 , L808 , L1 , MATRIX_1:def 3;
L811: ( len ( D129 @ ) ) = ( 0 ) by L810 , MATRIX_1:def 6;
L812: ( D129 @ ) = ( {} ) by L811;
L813: ( len D130 ) = R11 by MATRIX_1:def 2;
L814: ( width D130 ) = ( 0 ) by L813 , L808 , L1 , MATRIX_1:def 3;
L815: ( len ( D130 @ ) ) = ( 0 ) by L814 , MATRIX_1:def 6;
L816: ( D130 @ ) = ( {} ) by L815;
thus L817: thesis by L816 , L812;
end;
suppose L818: (R10 > ( 0 ) & R11 > ( 0 ));

L819: ( width D130 ) = R10 by L818 , L1;
L820: ( len ( D130 @ ) ) = R10 by L819 , L818 , MATRIX_2:10;
L821: ( len D130 ) = R11 by L818 , L1;
L822: ( width ( D130 @ ) ) = R11 by L821 , L818 , L819 , MATRIX_2:10;
L823: ( width D129 ) = R10 by L818 , L1;
L824: ( len D129 ) = R11 by L818 , L1;
L825: ( width ( D129 @ ) ) = R11 by L824 , L818 , L823 , MATRIX_2:10;
L826: ( len ( D129 @ ) ) = R10 by L818 , L823 , MATRIX_2:10;
reconsider D131 = ( D129 @ ) , D132 = ( D130 @ ) as (Matrix of R10 , R11 , R5) by L826 , L818 , L825 , L822 , L820 , MATRIX_1:20;
set D133 = ( D131 * C53 );
L827:
now
let R6 being Nat;
let R7 being Nat;
assume that
L828: [ R6 , R7 ] in ( Indices D132 );
L829: [ R7 , R6 ] in ( Indices D130 ) by L828 , MATRIX_1:def 6;
L830: ( D132 * (R6 , R7) ) = ( D130 * (R7 , R6) ) by L829 , MATRIX_1:def 6;
L831: ( Indices D132 ) = [: ( Seg R10 ) , ( Seg R11 ) :] by L822 , MATRIX_1:25;
L832: R6 in ( Seg R10 ) by L831 , L828 , ZFMISC_1:87;
L833: ( Indices D132 ) = ( Indices D131 ) by MATRIX_1:26;
consider R8 being Nat such that L834: ( C53 . R6 ) = R8 and L835: [ R8 , R7 ] in ( Indices D131 ) and L836: ( D133 * (R6 , R7) ) = ( D131 * (R8 , R7) ) by L833 , L828 , MATRIX11:37;
reconsider D134 = R6 , D135 = R7 , D136 = R8 as (Element of ( NAT )) by ORDINAL1:def 12;
L837: ( Seg R10 ) = ( dom R30 ) by FINSEQ_2:124;
L838: ( R30 . D134 ) = ( R29 . ( C53 . R6 ) ) by L837 , L807 , L832 , FUNCT_1:12;
L839: ( D130 * (D135 , D134) ) = ( R23 * (( R26 . D135 ) , ( R29 . D136 )) ) by L838 , L834 , L829 , L502;
L840: [ R7 , R8 ] in ( Indices D129 ) by L835 , MATRIX_1:def 6;
L841: ( D131 * (R8 , R7) ) = ( D129 * (R7 , R8) ) by L840 , MATRIX_1:def 6;
thus L842: ( D132 * (R6 , R7) ) = ( D133 * (R6 , R7) ) by L841 , L836 , L840 , L830 , L839 , L502;
end;
thus L843: thesis by L827 , MATRIX_1:27;
end;
end;
theorem
L845: (for R11 being Nat holds (for R18 being Field holds (for R26 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R27 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R28 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R31 being (Matrix of R18) holds (for B45 being (Element of ( Permutations R11 )) holds (R27 = ( R28 * B45 ) implies (( Det ( Segm (R31 , R27 , R26) ) ) = ( - (( Det ( Segm (R31 , R28 , R26) ) ) , B45) ) & ( Det ( Segm (R31 , R26 , R27) ) ) = ( - (( Det ( Segm (R31 , R26 , R28) ) ) , B45) ))))))))))
proof
let R11 being Nat;
let R18 being Field;
let R26 being (Element of ( R11 -tuples_on ( NAT ) ));
let R27 being (Element of ( R11 -tuples_on ( NAT ) ));
let R28 being (Element of ( R11 -tuples_on ( NAT ) ));
let R31 being (Matrix of R18);
let C54 being (Element of ( Permutations R11 ));
assume that
L846: R27 = ( R28 * C54 );
reconsider D137 = C54 as (Permutation of ( Seg R11 )) by MATRIX_2:def 9;
L847: ( Segm (R31 , R27 , R26) ) = ( ( Segm (R31 , R28 , R26) ) * D137 ) by L846 , L792;
thus L848: ( Det ( Segm (R31 , R27 , R26) ) ) = ( - (( Det ( Segm (R31 , R28 , R26) ) ) , C54) ) by L847 , MATRIX11:46;
thus L849: ( Det ( Segm (R31 , R26 , R27) ) ) = ( Det ( ( Segm (R31 , R26 , R27) ) @ ) ) by MATRIXR2:43
.= ( Det ( ( ( Segm (R31 , R26 , R28) ) @ ) * D137 ) ) by L846 , L806
.= ( - (( Det ( ( Segm (R31 , R26 , R28) ) @ ) ) , C54) ) by MATRIX11:46
.= ( - (( Det ( Segm (R31 , R26 , R28) ) ) , C54) ) by MATRIXR2:43;
end;
L850: (for R11 being Nat holds (for R26 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R27 being (Element of ( R11 -tuples_on ( NAT ) )) holds ((( rng R26 ) = ( rng R27 ) & R26 is  one-to-one) implies R27 is  one-to-one))))
proof
let R11 being Nat;
let R26 being (Element of ( R11 -tuples_on ( NAT ) ));
let R27 being (Element of ( R11 -tuples_on ( NAT ) ));
assume that
L851: ( rng R26 ) = ( rng R27 )
and
L852: R26 is  one-to-one;
L853: ( len R27 ) = R11 by CARD_1:def 7;
L854: ( len R26 ) = R11 by CARD_1:def 7;
thus L855: thesis by L854 , L851 , L852 , L853 , FINSEQ_4:61;
end;
theorem
L856: (for R11 being Nat holds (for R18 being Field holds (for R31 being (Matrix of R18) holds (for B46 , B47 , B48 , B49 being (Element of ( R11 -tuples_on ( NAT ) )) holds ((( rng B46 ) = ( rng B48 ) & ( rng B47 ) = ( rng B49 )) implies (( Det ( Segm (R31 , B46 , B47) ) ) = ( Det ( Segm (R31 , B48 , B49) ) ) or ( Det ( Segm (R31 , B46 , B47) ) ) = ( - ( Det ( Segm (R31 , B48 , B49) ) ) )))))))
proof
let R11 being Nat;
let R18 being Field;
let R31 being (Matrix of R18);
let C55 , C56 , C57 , C58 being (Element of ( R11 -tuples_on ( NAT ) ));
assume that
L857: ( rng C55 ) = ( rng C57 )
and
L858: ( rng C56 ) = ( rng C58 );
set D138 = ( Segm (R31 , C55 , C58) );
set D139 = ( Segm (R31 , C57 , C58) );
set D140 = ( Segm (R31 , C55 , C56) );
per cases ;
suppose L859: ((not C55 is  one-to-one) or (not C56 is  one-to-one));

L860: ( Det D140 ) = ( 0. R18 ) by L859 , L689 , L764;
L861: ((not C57 is  one-to-one) or (not C58 is  one-to-one)) by L857 , L858 , L859 , L850;
thus L862: thesis by L861 , L860 , L689 , L764;
end;
suppose L863: (C55 is  one-to-one & C56 is  one-to-one);

L864: C58 is  one-to-one by L863 , L858 , L850;
consider C59 being (Permutation of ( Seg R11 )) such that L865: C56 = ( C58 * C59 ) by L864 , L858 , L863 , L780;
L866: C57 is  one-to-one by L857 , L863 , L850;
consider C60 being (Permutation of ( Seg R11 )) such that L867: C55 = ( C57 * C60 ) by L866 , L857 , L863 , L780;
reconsider D141 = C60 , D142 = C59 as (Element of ( Permutations R11 )) by MATRIX_2:def 9;
per cases ;
suppose L868: D142 is  even;

L869: ( Det D140 ) = ( - (( Det D138 ) , D142) ) by L865 , L845;
L870: ( Det D140 ) = ( Det D138 ) by L869 , L868 , MATRIX_2:def 13;
L871: ( Det D138 ) = ( - (( Det D139 ) , D141) ) by L867 , L845;
thus L872: thesis by L871 , L870 , MATRIX_2:def 13;
end;
suppose L873: D142 is  odd;

L874: ( Det D138 ) = ( - (( Det D139 ) , D141) ) by L867 , L845;
L875: (( Det D138 ) = ( Det D139 ) or ( Det D138 ) = ( - ( Det D139 ) )) by L874 , MATRIX_2:def 13;
L876: ( Det D140 ) = ( - (( Det D138 ) , D142) ) by L865 , L845;
L877: ( Det D140 ) = ( - ( Det D138 ) ) by L876 , L873 , MATRIX_2:def 13;
L878: (( Det D140 ) = ( - ( Det D139 ) ) or ( Det D140 ) = ( ( 0. R18 ) + ( - ( - ( Det D139 ) ) ) )) by L877 , L875 , RLVECT_1:def 4;
L879: (( Det D140 ) = ( - ( Det D139 ) ) or ( Det D140 ) = ( ( 0. R18 ) - ( - ( Det D139 ) ) )) by L878;
L880: (( Det D140 ) = ( - ( Det D139 ) ) or ( ( Det D140 ) + ( - ( Det D139 ) ) ) = ( 0. R18 )) by L879 , VECTSP_2:2;
thus L881: thesis by L880 , VECTSP_1:19;
end;
end;
end;
theorem
L884: (for R5 being non  empty set holds (for R10 being Nat holds (for R11 being Nat holds (for R12 being Nat holds (for R13 being Nat holds (for R24 being (Matrix of R13 , R12 , R5) holds (for B50 , B51 being (FinSequence of R5) holds (for R26 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R29 being (Element of ( R10 -tuples_on ( NAT ) )) holds ((( len B50 ) = ( width R24 ) & B51 = ( B50 * R29 ) & [: ( rng R26 ) , ( rng R29 ) :] c= ( Indices R24 )) implies (for R6 being Nat holds (for R7 being Nat holds (( R26 " { R7 } ) = { R6 } implies ( RLine (( Segm (R24 , R26 , R29) ) , R6 , B51) ) = ( Segm (( RLine (R24 , R7 , B50) ) , R26 , R29) ))))))))))))))
proof
let R5 being non  empty set;
let R10 being Nat;
let R11 being Nat;
let R12 being Nat;
let R13 being Nat;
let R24 being (Matrix of R13 , R12 , R5);
let C61 , C62 being (FinSequence of R5);
let R26 being (Element of ( R11 -tuples_on ( NAT ) ));
let R29 being (Element of ( R10 -tuples_on ( NAT ) ));
assume that
L885: ( len C61 ) = ( width R24 )
and
L886: C62 = ( C61 * R29 )
and
L887: [: ( rng R26 ) , ( rng R29 ) :] c= ( Indices R24 );
let R6 being Nat;
let R7 being Nat;
assume that
L888: ( R26 " { R7 } ) = { R6 };
L889: R6 in { R6 } by TARSKI:def 1;
L890: R6 in ( dom R26 ) by L889 , L888 , FUNCT_1:def 7;
L891: ( R26 . R6 ) in ( rng R26 ) by L890 , FUNCT_1:def 3;
L892: (( rng R29 ) = ( {} ) or [: ( rng R26 ) , ( rng R29 ) :] <> ( {} )) by L891;
L893: ( rng R29 ) c= ( Seg ( width R24 ) ) by L892 , L887 , XBOOLE_1:2 , ZFMISC_1:114;
L894: ( R26 . R6 ) in { R7 } by L888 , L889 , FUNCT_1:def 7;
L895: ( R26 . R6 ) = R7 by L894 , TARSKI:def 1;
set D143 = ( RLine (R24 , R7 , C61) );
set D144 = ( Segm (D143 , R26 , R29) );
set D145 = ( Segm (R24 , R26 , R29) );
L896: ( dom R29 ) = ( Seg R10 ) by FINSEQ_2:124;
set D146 = ( RLine (D145 , R6 , C62) );
L897: ( Indices D144 ) = ( Indices D145 ) by MATRIX_1:26;
L898: ( dom C61 ) = ( Seg ( width R24 ) ) by L885 , FINSEQ_1:def 3;
L899: ( dom C62 ) = ( dom R29 ) by L898 , L886 , L893 , RELAT_1:27;
L900: R11 <> ( 0 ) by L890;
L901: ( width D145 ) = R10 by L900 , MATRIX_1:23;
L902: ( len C62 ) = ( width D145 ) by L901 , L899 , L896 , FINSEQ_1:def 3;
L903: ( Indices R24 ) = ( Indices D143 ) by MATRIX_1:26;
L904:
now
L905: ( dom R26 ) = ( Seg R11 ) by FINSEQ_2:124;
let R8 being Nat;
let R9 being Nat;
assume that
L906: [ R8 , R9 ] in ( Indices D144 );
L907: ( Indices D145 ) = [: ( Seg R11 ) , ( Seg R10 ) :] by L900 , MATRIX_1:23;
L908: R8 in ( Seg R11 ) by L907 , L897 , L906 , ZFMISC_1:87;
reconsider D147 = R8 , D148 = R9 as (Element of ( NAT )) by ORDINAL1:def 12;
L909: ( D144 * (R8 , R9) ) = ( D143 * (( R26 . D147 ) , ( R29 . D148 )) ) by L906 , L502;
L910: [ ( R26 . D147 ) , ( R29 . D148 ) ] in ( Indices R24 ) by L887 , L903 , L906 , L515;
L911: R9 in ( dom R29 ) by L896 , L897 , L906 , L907 , ZFMISC_1:87;
per cases ;
suppose L912: R8 = R6;

L913: ( D146 * (R8 , R9) ) = ( C62 . R9 ) by L912 , L902 , L897 , L906 , MATRIX11:def 3;
L914: ( D144 * (R8 , R9) ) = ( C61 . ( R29 . R9 ) ) by L885 , L895 , L909 , L910 , L912 , MATRIX11:def 3;
thus L915: ( D146 * (R8 , R9) ) = ( D144 * (R8 , R9) ) by L914 , L886 , L911 , L913 , FUNCT_1:13;
end;
suppose L916: R8 <> R6;

L917: (not R8 in ( R26 " { R7 } )) by L916 , L888 , TARSKI:def 1;
L918: (not ( R26 . R8 ) in { R7 }) by L917 , L908 , L905 , FUNCT_1:def 7;
L919: ( R26 . R8 ) <> R7 by L918 , TARSKI:def 1;
L920: ( D144 * (R8 , R9) ) = ( R24 * (( R26 . D147 ) , ( R29 . D148 )) ) by L919 , L885 , L909 , L910 , MATRIX11:def 3;
L921: ( D146 * (R8 , R9) ) = ( D145 * (R8 , R9) ) by L895 , L902 , L897 , L906 , L919 , MATRIX11:def 3;
thus L922: ( D146 * (R8 , R9) ) = ( D144 * (R8 , R9) ) by L921 , L897 , L906 , L920 , L502;
end;
end;
thus L924: thesis by L904 , MATRIX_1:27;
end;
theorem
L925: (for R5 being non  empty set holds (for R10 being Nat holds (for R11 being Nat holds (for R12 being Nat holds (for R13 being Nat holds (for R24 being (Matrix of R13 , R12 , R5) holds (for R29 being (Element of ( R10 -tuples_on ( NAT ) )) holds (for B52 being (FinSequence of R5) holds (for R6 being Nat holds (for R26 being (Element of ( R11 -tuples_on ( NAT ) )) holds (((not R6 in ( rng R26 )) & [: ( rng R26 ) , ( rng R29 ) :] c= ( Indices R24 )) implies ( Segm (R24 , R26 , R29) ) = ( Segm (( RLine (R24 , R6 , B52) ) , R26 , R29) ))))))))))))
proof
let R5 being non  empty set;
let R10 being Nat;
let R11 being Nat;
let R12 being Nat;
let R13 being Nat;
let R24 being (Matrix of R13 , R12 , R5);
let R29 being (Element of ( R10 -tuples_on ( NAT ) ));
let C63 being (FinSequence of R5);
let R6 being Nat;
let R26 being (Element of ( R11 -tuples_on ( NAT ) ));
assume that
L926: (not R6 in ( rng R26 ))
and
L927: [: ( rng R26 ) , ( rng R29 ) :] c= ( Indices R24 );
set D149 = ( Segm (R24 , R26 , R29) );
set D150 = ( RLine (R24 , R6 , C63) );
set D151 = ( Segm (D150 , R26 , R29) );
per cases ;
suppose L928: ( len C63 ) <> ( width R24 );

thus L929: thesis by L928 , MATRIX11:def 3;
end;
suppose L930: ( len C63 ) = ( width R24 );

L931: ( Indices D151 ) = ( Indices D149 ) by MATRIX_1:26;
L932:
now
L933: ( dom R26 ) = ( Seg R11 ) by FINSEQ_2:124;
let R8 being Nat;
let R10 being Nat;
assume that
L934: [ R8 , R10 ] in ( Indices D151 );
L935: ( Indices D151 ) = [: ( Seg R11 ) , ( Seg ( width D151 ) ) :] by MATRIX_1:25;
L936: R8 in ( Seg R11 ) by L935 , L934 , ZFMISC_1:87;
L937: R6 <> ( R26 . R8 ) by L936 , L926 , L933 , FUNCT_1:def 3;
reconsider D152 = R8 , D153 = R10 as (Element of ( NAT )) by ORDINAL1:def 12;
L938: [ ( R26 . D152 ) , ( R29 . D153 ) ] in ( Indices R24 ) by L927 , L931 , L934 , L515;
L939: ( R24 * (( R26 . D152 ) , ( R29 . D153 )) ) = ( D150 * (( R26 . D152 ) , ( R29 . D153 )) ) by L938 , L930 , L937 , MATRIX11:def 3;
L940: ( D149 * (D152 , D153) ) = ( R24 * (( R26 . D152 ) , ( R29 . D153 )) ) by L931 , L934 , L502;
thus L941: ( D151 * (R8 , R10) ) = ( D149 * (R8 , R10) ) by L940 , L934 , L939 , L502;
end;
thus L942: thesis by L932 , MATRIX_1:27;
end;
end;
theorem
L944: (for R5 being non  empty set holds (for R6 being Nat holds (for R7 being Nat holds (for R10 being Nat holds (for R11 being Nat holds (for R12 being Nat holds (for R13 being Nat holds (for R24 being (Matrix of R13 , R12 , R5) holds (for R26 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R29 being (Element of ( R10 -tuples_on ( NAT ) )) holds ((R6 in ( rng R26 ) & [: ( rng R26 ) , ( rng R29 ) :] c= ( Indices R24 )) implies (ex R27 being (Element of ( R11 -tuples_on ( NAT ) )) st (( rng R27 ) = ( ( ( rng R26 ) \ { R6 } ) \/ { R7 } ) & ( Segm (( RLine (R24 , R6 , ( Line (R24 , R7) )) ) , R26 , R29) ) = ( Segm (R24 , R27 , R29) ))))))))))))))
proof
let R5 being non  empty set;
let R6 being Nat;
let R7 being Nat;
let R10 being Nat;
let R11 being Nat;
let R12 being Nat;
let R13 being Nat;
let R24 being (Matrix of R13 , R12 , R5);
let R26 being (Element of ( R11 -tuples_on ( NAT ) ));
let R29 being (Element of ( R10 -tuples_on ( NAT ) ));
assume that
L945: R6 in ( rng R26 )
and
L946: [: ( rng R26 ) , ( rng R29 ) :] c= ( Indices R24 );
defpred S2[ set , set ] means (for R8 being Nat holds (R8 = $1 implies ((( R26 . R8 ) = R6 implies $2 = R7) & (( R26 . R8 ) <> R6 implies $2 = ( R26 . R8 )))));
L947: (for R8 being Nat holds (R8 in ( Seg R11 ) implies (ex B53 being (Element of ( NAT )) st S2[ R8 , B53 ])))
proof
let R8 being Nat;
assume that
L948: R8 in ( Seg R11 );
per cases ;
suppose L949: ( R26 . R8 ) = R6;

reconsider D154 = R7 as (Element of ( NAT )) by ORDINAL1:def 12;
take D154;
thus L950: thesis by L949;
end;
suppose L951: ( R26 . R8 ) <> R6;

reconsider D155 = ( R26 . R8 ) as (Element of ( NAT )) by ORDINAL1:def 12;
take D155;
thus L952: thesis by L951;
end;
end;
consider C64 being (FinSequence of ( NAT )) such that L954: ( dom C64 ) = ( Seg R11 ) and L955: (for B54 being Nat holds (B54 in ( Seg R11 ) implies S2[ B54 , ( C64 . B54 ) ])) from FINSEQ_1:sch 5(L947);
L956: R11 in ( NAT ) by ORDINAL1:def 12;
L957: ( len C64 ) = R11 by L956 , L954 , FINSEQ_1:def 3;
reconsider D156 = C64 as (Element of ( R11 -tuples_on ( NAT ) )) by L957 , FINSEQ_2:92;
L958: ( rng D156 ) c= ( ( ( rng R26 ) \ { R6 } ) \/ { R7 } )
proof
let R2 being set;
L959: ( dom R26 ) = ( Seg R11 ) by FINSEQ_2:124;
assume L960: R2 in ( rng D156 );
consider C65 being set such that L961: C65 in ( dom C64 ) and L962: ( C64 . C65 ) = R2 by L960 , FUNCT_1:def 3;
consider C66 being (Element of ( NAT )) such that L963: C65 = C66 and L964: 1 <= C66 and L965: C66 <= R11 by L954 , L961;
L966: ((( C64 . C66 ) = R7 & ( R26 . C66 ) = R6) or (( C64 . C66 ) = ( R26 . C66 ) & ( R26 . C66 ) <> R6 & ( R26 . C66 ) in ( rng R26 ))) by L954 , L955 , L961 , L963 , L959 , FUNCT_1:def 3;
L967: (( C64 . C66 ) in { R7 } or (( C64 . C66 ) in ( rng R26 ) & (not ( C64 . C66 ) in { R6 }))) by L966 , TARSKI:def 1;
L968: (( C64 . C66 ) in { R7 } or ( C64 . C66 ) in ( ( rng R26 ) \ { R6 } )) by L967 , XBOOLE_0:def 5;
thus L969: thesis by L968 , L962 , L963 , XBOOLE_0:def 3;
end;
take D156;
L970: ( ( ( rng R26 ) \ { R6 } ) \/ { R7 } ) c= ( rng D156 )
proof
let R2 being set;
assume that
L971: R2 in ( ( ( rng R26 ) \ { R6 } ) \/ { R7 } );
per cases  by L971 , XBOOLE_0:def 3;
suppose L972: R2 in ( ( rng R26 ) \ { R6 } );

consider C67 being set such that L973: C67 in ( dom R26 ) and L974: ( R26 . C67 ) = R2 by L972 , FUNCT_1:def 3;
L975: ( dom R26 ) = ( Seg R11 ) by FINSEQ_2:124;
consider C68 being (Element of ( NAT )) such that L976: C67 = C68 and L977: 1 <= C68 and L978: C68 <= R11 by L975 , L973;
L979: (not R2 in { R6 }) by L972 , XBOOLE_0:def 5;
L980: R2 <> R6 by L979 , TARSKI:def 1;
L981: ( C64 . C68 ) = R2 by L980 , L955 , L973 , L974 , L975 , L976;
thus L982: thesis by L981 , L954 , L973 , L975 , L976 , FUNCT_1:def 3;
end;
suppose L983: R2 in { R7 };

L984: R2 = R7 by L983 , TARSKI:def 1;
consider C69 being set such that L985: C69 in ( dom R26 ) and L986: ( R26 . C69 ) = R6 by L945 , FUNCT_1:def 3;
L987: ( dom R26 ) = ( Seg R11 ) by FINSEQ_2:124;
consider C70 being (Element of ( NAT )) such that L988: C69 = C70 and L989: 1 <= C70 and L990: C70 <= R11 by L987 , L985;
L991: ( C64 . C70 ) = R7 by L955 , L985 , L986 , L987 , L988;
thus L992: thesis by L991 , L954 , L985 , L987 , L988 , L984 , FUNCT_1:def 3;
end;
end;
thus L994: ( rng D156 ) = ( ( ( rng R26 ) \ { R6 } ) \/ { R7 } ) by L970 , L958 , XBOOLE_0:def 10;
set D157 = ( Segm (R24 , D156 , R29) );
set D158 = ( Line (R24 , R7) );
set D159 = ( RLine (R24 , R6 , D158) );
set D160 = ( Segm (D159 , R26 , R29) );
L995: ( Indices R24 ) = ( Indices D159 ) by MATRIX_1:26;
L996: ( len D158 ) = ( width R24 ) by MATRIX_1:def 7;
L997: ( Indices D157 ) = ( Indices D160 ) by MATRIX_1:26;
L998:
now
let R8 being Nat;
let R9 being Nat;
assume that
L999: [ R8 , R9 ] in ( Indices D160 );
reconsider D161 = R8 , D162 = R9 as (Element of ( NAT )) by ORDINAL1:def 12;
L1000: ( D160 * (D161 , D162) ) = ( D159 * (( R26 . D161 ) , ( R29 . D162 )) ) by L999 , L502;
L1001: ( Indices D160 ) = [: ( Seg R11 ) , ( Seg ( width D160 ) ) :] by MATRIX_1:25;
L1002: D161 in ( Seg R11 ) by L1001 , L999 , ZFMISC_1:87;
L1003: (( R26 . D161 ) = R6 or ( R26 . D161 ) <> R6);
L1004: [ ( R26 . D161 ) , ( R29 . D162 ) ] in ( Indices R24 ) by L946 , L995 , L999 , L515;
L1005: ( R29 . D162 ) in ( Seg ( width R24 ) ) by L1004 , ZFMISC_1:87;
L1006: ((( D160 * (D161 , D162) ) = ( D158 . ( R29 . D162 ) ) & ( D156 . D161 ) = R7 & ( D158 . ( R29 . D162 ) ) = ( R24 * (R7 , ( R29 . D162 )) )) or (( D160 * (D161 , D162) ) = ( R24 * (( R26 . D161 ) , ( R29 . D162 )) ) & ( D156 . D161 ) = ( R26 . D161 ))) by L1005 , L955 , L996 , L1004 , L1000 , L1003 , L1002 , MATRIX11:def 3 , MATRIX_1:def 7;
thus L1007: ( D160 * (R8 , R9) ) = ( D157 * (R8 , R9) ) by L1006 , L997 , L999 , L502;
end;
thus L1008: thesis by L998 , MATRIX_1:27;
end;
theorem
L1009: (for R5 being non  empty set holds (for R6 being Nat holds (for R12 being Nat holds (for R13 being Nat holds (for R24 being (Matrix of R13 , R12 , R5) holds (for B55 being (FinSequence of R5) holds ((not R6 in ( Seg ( len R24 ) )) implies ( RLine (R24 , R6 , B55) ) = R24)))))))
proof
let R5 being non  empty set;
let R6 being Nat;
let R12 being Nat;
let R13 being Nat;
let R24 being (Matrix of R13 , R12 , R5);
let C71 being (FinSequence of R5);
assume L1010: (not R6 in ( Seg ( len R24 ) ));
set D163 = ( RLine (R24 , R6 , C71) );
per cases ;
suppose L1011: ( len C71 ) = ( width R24 );

L1012:
now
let R8 being Nat;
assume that
L1013: 1 <= R8
and
L1014: R8 <= ( len R24 );
L1015: R8 in ( NAT ) by ORDINAL1:def 12;
L1016: R8 in ( Seg ( len R24 ) ) by L1015 , L1013 , L1014;
L1017: ( len R24 ) = R13 by MATRIX_1:def 2;
L1018: ( D163 . R8 ) = ( Line (D163 , R8) ) by L1017 , L1016 , MATRIX_2:8;
L1019: ( Line (D163 , R8) ) = ( Line (R24 , R8) ) by L1010 , L1016 , L1017 , MATRIX11:28;
thus L1020: ( D163 . R8 ) = ( R24 . R8 ) by L1019 , L1016 , L1017 , L1018 , MATRIX_2:8;
end;
L1021: ( len R24 ) = ( len D163 ) by L1011 , MATRIX11:def 3;
thus L1022: thesis by L1021 , L1012 , FINSEQ_1:14;
end;
suppose L1023: ( len C71 ) <> ( width R24 );

thus L1024: thesis by L1023 , MATRIX11:def 3;
end;
end;
definition
let C72 , C73 being Nat;
let C74 being Field;
let C75 being (Matrix of C72 , C73 , C74);
let C76 being (Element of C74);
redefine func C76 * C75 -> (Matrix of C72 , C73 , C74);

coherence
proof
L1026: ( len C75 ) = C72 by MATRIX_1:def 2;
L1027: ( len ( C76 * C75 ) ) = ( len C75 ) by MATRIX_3:def 5;
per cases ;
suppose L1028: C72 = ( 0 );

L1029: ( C76 * C75 ) = ( {} ) by L1028 , L1027 , MATRIX_1:def 2;
thus L1030: thesis by L1029 , L1028 , MATRIX_1:13;
end;
suppose L1031: C72 > ( 0 );

L1032: ( width ( C76 * C75 ) ) = ( width C75 ) by MATRIX_3:def 5;
L1033: ( width C75 ) = C73 by L1031 , MATRIX_1:23;
thus L1034: thesis by L1033 , L1026 , L1027 , L1032 , MATRIX_2:7;
end;
end;
end;
theorem
L1037: (for R10 being Nat holds (for R11 being Nat holds (for R18 being Field holds (for R19 being (Element of R18) holds (for R26 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R29 being (Element of ( R10 -tuples_on ( NAT ) )) holds (for R31 being (Matrix of R18) holds ([: ( rng R26 ) , ( rng R29 ) :] c= ( Indices R31 ) implies ( R19 * ( Segm (R31 , R26 , R29) ) ) = ( Segm (( R19 * R31 ) , R26 , R29) )))))))))
proof
let R10 being Nat;
let R11 being Nat;
let R18 being Field;
let R19 being (Element of R18);
let R26 being (Element of ( R11 -tuples_on ( NAT ) ));
let R29 being (Element of ( R10 -tuples_on ( NAT ) ));
let R31 being (Matrix of R18);
set D164 = ( Segm (( R19 * R31 ) , R26 , R29) );
set D165 = ( Segm (R31 , R26 , R29) );
set D166 = ( R19 * D165 );
L1038: ( Indices ( R19 * R31 ) ) = ( Indices R31 ) by MATRIXR1:18;
L1039: ( Indices D164 ) = ( Indices D165 ) by MATRIX_1:26;
assume L1040: [: ( rng R26 ) , ( rng R29 ) :] c= ( Indices R31 );
L1041:
now
let R6 being Nat;
let R7 being Nat;
assume that
L1042: [ R6 , R7 ] in ( Indices D164 );
L1043: ( D166 * (R6 , R7) ) = ( R19 * ( D165 * (R6 , R7) ) ) by L1039 , L1042 , MATRIX_3:def 5;
reconsider D167 = R6 , D168 = R7 as (Element of ( NAT )) by ORDINAL1:def 12;
L1044: ( D164 * (D167 , D168) ) = ( ( R19 * R31 ) * (( R26 . R6 ) , ( R29 . R7 )) ) by L1042 , L502;
L1045: ( D165 * (D167 , D168) ) = ( R31 * (( R26 . R6 ) , ( R29 . R7 )) ) by L1039 , L1042 , L502;
L1046: [ ( R26 . D167 ) , ( R29 . D168 ) ] in ( Indices R31 ) by L1040 , L1038 , L1042 , L515;
thus L1047: ( D164 * (R6 , R7) ) = ( D166 * (R6 , R7) ) by L1046 , L1044 , L1043 , L1045 , MATRIX_3:def 5;
end;
thus L1048: thesis by L1041 , MATRIX_1:27;
end;
theorem
L1049: (for R5 being non  empty set holds (for R10 being Nat holds (for R11 being Nat holds (for R23 being (Matrix of R5) holds (for R26 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R29 being (Element of ( R10 -tuples_on ( NAT ) )) holds ((R26 = ( idseq ( len R23 ) ) & R29 = ( idseq ( width R23 ) )) implies ( Segm (R23 , R26 , R29) ) = R23)))))))
proof
let R5 being non  empty set;
let R10 being Nat;
let R11 being Nat;
let R23 being (Matrix of R5);
let R26 being (Element of ( R11 -tuples_on ( NAT ) ));
let R29 being (Element of ( R10 -tuples_on ( NAT ) ));
set D169 = ( Segm (R23 , R26 , R29) );
assume that
L1050: R26 = ( idseq ( len R23 ) )
and
L1051: R29 = ( idseq ( width R23 ) );
L1052: ( len R26 ) = R11 by CARD_1:def 7;
L1053: ( len ( idseq ( width R23 ) ) ) = ( width R23 ) by CARD_1:def 7;
L1054: ( len ( idseq ( len R23 ) ) ) = ( len R23 ) by CARD_1:def 7;
L1055: ( len R29 ) = R10 by CARD_1:def 7;
per cases ;
suppose L1056: R11 = ( 0 );

L1057: ( len D169 ) = ( 0 ) by L1056 , MATRIX_1:def 2;
L1058: R23 = ( {} ) by L1050 , L1056;
thus L1059: thesis by L1058 , L1057;
end;
suppose L1060: R11 > ( 0 );

L1061: ( width D169 ) = R10 by L1060 , L1;
L1062: ( Indices D169 ) = [: ( Seg R11 ) , ( Seg R10 ) :] by L1061 , MATRIX_1:25;
L1063:
now
let R6 being Nat;
let R7 being Nat;
assume that
L1064: [ R6 , R7 ] in ( Indices D169 );
reconsider D170 = R6 , D171 = R7 as (Element of ( NAT )) by ORDINAL1:def 12;
L1065: R7 in ( Seg R10 ) by L1061 , L1064 , ZFMISC_1:87;
L1066: ( R29 . D171 ) = R7 by L1065 , L1051 , L1055 , L1053 , FINSEQ_2:49;
L1067: R6 in ( Seg R11 ) by L1062 , L1064 , ZFMISC_1:87;
L1068: ( R26 . D170 ) = R6 by L1067 , L1050 , L1052 , L1054 , FINSEQ_2:49;
thus L1069: ( D169 * (R6 , R7) ) = ( R23 * (R6 , R7) ) by L1068 , L1064 , L1066 , L502;
end;
L1070: ( len D169 ) = R11 by L1060 , L1;
thus L1071: thesis by L1070 , L1050 , L1051 , L1052 , L1055 , L1054 , L1053 , L1061 , L1063 , MATRIX_1:21;
end;
end;
registration
cluster  empty  without_zero  finite for (Subset of ( NAT ));
existence
proof
L1073: ( {} ( NAT ) ) is  without_zero by MEASURE6:def 2;
thus L1074: thesis by L1073;
end;
cluster non  empty  without_zero  finite for (Subset of ( NAT ));
existence
proof
L1075: { 1 } is (Subset of ( NAT ));
thus L1076: thesis by L1075;
end;
end;
registration
let R11 being Nat;
cluster ( Seg R11 ) ->  without_zero;
coherence
proof
L1078: (not ( 0 ) in ( Seg R11 )) by FINSEQ_1:1;
thus L1079: thesis by L1078 , MEASURE6:def 2;
end;
end;
registration
let C77 being  without_zero set;
let C78 being set;
cluster ( C77 \ C78 ) ->  without_zero;
coherence
proof
assume L1081: ( 0 ) in ( C77 \ C78 );
thus L1082: thesis by L1081;
end;
end;
definition
let C79 being Nat;
redefine func {C79 } -> (Subset of ( NAT ));

coherence
proof
L1084: C79 in ( NAT ) by ORDINAL1:def 12;
thus L1085: thesis by L1084 , ZFMISC_1:31;
end;
let C80 being Nat;
redefine func {C79 , C80 } -> (Subset of ( NAT ));

coherence
proof
L1086: C80 in ( NAT ) by ORDINAL1:def 12;
L1087: C79 in ( NAT ) by ORDINAL1:def 12;
thus L1088: thesis by L1087 , L1086 , ZFMISC_1:32;
end;
end;
theorem
L1090: (for B56 being  finite  without_zero (Subset of ( NAT )) holds (ex R8 being Nat st B56 c= ( Seg R8 )))
proof
let C81 being  finite  without_zero (Subset of ( NAT ));
consider C82 being Nat such that L1091: (for B57 being Nat holds (B57 in C81 implies B57 <= C82)) by STIRL2_1:56;
take C82;
thus L1092: C81 c= ( Seg C82 )
proof
let R1 being set;
assume L1093: R1 in C81;
consider C83 being (Element of ( NAT )) such that L1094: C83 = R1 by L1093;
L1095: C83 >= 1 by L1093 , L1094 , NAT_1:14;
L1096: C83 <= C82 by L1091 , L1093 , L1094;
thus L1097: thesis by L1096 , L1094 , L1095;
end;

end;
definition
let C84 being  finite  without_zero (Subset of ( NAT ));
redefine func Sgm C84 -> (Element of ( ( card C84 ) -tuples_on ( NAT ) ));

coherence
proof
L1093: (ex R8 being Nat st C84 c= ( Seg R8 )) by L1090;
L1094: ( len ( Sgm C84 ) ) = ( card C84 ) by L1093 , FINSEQ_3:39;
thus L1095: thesis by L1094 , FINSEQ_2:92;
end;
end;
definition
let C85 being non  empty set;
let C86 being (Matrix of C85);
let C87 , C88 being  without_zero  finite (Subset of ( NAT ));
func Segm (C86 , C87 , C88) -> (Matrix of ( card C87 ) , ( card C88 ) , C85) equals 
( Segm (C86 , ( Sgm C87 ) , ( Sgm C88 )) );
coherence;
end;
theorem
L1098: (for R5 being non  empty set holds (for R14 being non  zero Nat holds (for R15 being non  zero Nat holds (for R23 being (Matrix of R5) holds ( Segm (R23 , { R14 } , { R15 }) ) = <* <* ( R23 * (R14 , R15) ) *> *>))))
proof
let R5 being non  empty set;
let R14 being non  zero Nat;
let R15 being non  zero Nat;
let R23 being (Matrix of R5);
L1099: ( card { R15 } ) = 1 by CARD_1:30;
L1100: ( Sgm { R14 } ) = <* R14 *> by FINSEQ_3:44;
L1101: ( <* R15 *> . 1 ) = R15 by FINSEQ_1:40;
L1102: ( <* R14 *> . 1 ) = R14 by FINSEQ_1:40;
L1103: ( Sgm { R15 } ) = <* R15 *> by FINSEQ_3:44;
L1104: ( card { R14 } ) = 1 by CARD_1:30;
thus L1105: thesis by L1104 , L1099 , L1100 , L1103 , L1102 , L1101 , L604;
end;
theorem
L1106: (for R5 being non  empty set holds (for R14 being non  zero Nat holds (for R15 being non  zero Nat holds (for R16 being non  zero Nat holds (for R17 being non  zero Nat holds (for R23 being (Matrix of R5) holds ((R14 < R15 & R16 < R17) implies ( Segm (R23 , { R14 , R15 } , { R16 , R17 }) ) = ( (( R23 * (R14 , R16) ) , ( R23 * (R14 , R17) )) ][ (( R23 * (R15 , R16) ) , ( R23 * (R15 , R17) )) ))))))))
proof
let R5 being non  empty set;
let R14 being non  zero Nat;
let R15 being non  zero Nat;
let R16 being non  zero Nat;
let R17 being non  zero Nat;
let R23 being (Matrix of R5);
assume that
L1107: R14 < R15
and
L1108: R16 < R17;
L1109: ( card { R16 , R17 } ) = 2 by L1108 , CARD_2:57;
L1110: ( Sgm { R16 , R17 } ) = <* R16 , R17 *> by L1108 , FINSEQ_3:45;
L1111: ( ( Sgm { R16 , R17 } ) . 1 ) = R16 by L1110 , FINSEQ_1:44;
L1112: ( Sgm { R14 , R15 } ) = <* R14 , R15 *> by L1107 , FINSEQ_3:45;
L1113: ( ( Sgm { R14 , R15 } ) . 1 ) = R14 by L1112 , FINSEQ_1:44;
L1114: ( ( Sgm { R14 , R15 } ) . 2 ) = R15 by L1112 , FINSEQ_1:44;
L1115: ( ( Sgm { R16 , R17 } ) . 2 ) = R17 by L1110 , FINSEQ_1:44;
L1116: ( card { R14 , R15 } ) = 2 by L1107 , CARD_2:57;
thus L1117: thesis by L1116 , L1109 , L1111 , L1115 , L1113 , L1114 , L622;
end;
theorem
L1118: (for R5 being non  empty set holds (for R23 being (Matrix of R5) holds ( Segm (R23 , ( Seg ( len R23 ) ) , ( Seg ( width R23 ) )) ) = R23))
proof
let R5 being non  empty set;
let R23 being (Matrix of R5);
L1119: ( Sgm ( Seg ( width R23 ) ) ) = ( idseq ( width R23 ) ) by FINSEQ_3:48;
L1120: ( Sgm ( Seg ( len R23 ) ) ) = ( idseq ( len R23 ) ) by FINSEQ_3:48;
thus L1121: thesis by L1120 , L1119 , L1049;
end;
theorem
L1122: (for R5 being non  empty set holds (for R6 being Nat holds (for R23 being (Matrix of R5) holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (for R35 being  without_zero  finite (Subset of ( NAT )) holds ((R6 in ( Seg ( card R32 ) ) & R35 c= ( Seg ( width R23 ) )) implies ( Line (( Segm (R23 , R32 , R35) ) , R6) ) = ( ( Line (R23 , ( ( Sgm R32 ) . R6 )) ) * ( Sgm R35 ) )))))))
proof
let R5 being non  empty set;
let R6 being Nat;
let R23 being (Matrix of R5);
let R32 being  without_zero  finite (Subset of ( NAT ));
let R35 being  without_zero  finite (Subset of ( NAT ));
assume that
L1123: R6 in ( Seg ( card R32 ) )
and
L1124: R35 c= ( Seg ( width R23 ) );
L1125: ( rng ( Sgm R35 ) ) = R35 by L1124 , FINSEQ_1:def 13;
thus L1126: thesis by L1125 , L1123 , L1124 , L637;
end;
theorem
L1127: (for R5 being non  empty set holds (for R6 being Nat holds (for R23 being (Matrix of R5) holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (R6 in ( Seg ( card R32 ) ) implies ( Line (( Segm (R23 , R32 , ( Seg ( width R23 ) )) ) , R6) ) = ( Line (R23 , ( ( Sgm R32 ) . R6 )) ))))))
proof
let R5 being non  empty set;
let R6 being Nat;
let R23 being (Matrix of R5);
let R32 being  without_zero  finite (Subset of ( NAT ));
assume L1128: R6 in ( Seg ( card R32 ) );
set D172 = ( Seg ( width R23 ) );
set D173 = ( Sgm R32 );
L1129: ( len ( Line (R23 , ( D173 . R6 )) ) ) = ( width R23 ) by MATRIX_1:def 7;
L1130: ( dom ( Line (R23 , ( D173 . R6 )) ) ) = D172 by L1129 , FINSEQ_1:def 3;
L1131: ( Sgm D172 ) = ( idseq ( width R23 ) ) by FINSEQ_3:48;
L1132: ( ( Line (R23 , ( D173 . R6 )) ) * ( Sgm D172 ) ) = ( Line (R23 , ( D173 . R6 )) ) by L1131 , L1130 , RELAT_1:52;
thus L1133: thesis by L1132 , L1128 , L1122;
end;
theorem
L1134: (for R5 being non  empty set holds (for R7 being Nat holds (for R23 being (Matrix of R5) holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (for R35 being  without_zero  finite (Subset of ( NAT )) holds ((R7 in ( Seg ( card R35 ) ) & R32 c= ( Seg ( len R23 ) )) implies ( Col (( Segm (R23 , R32 , R35) ) , R7) ) = ( ( Col (R23 , ( ( Sgm R35 ) . R7 )) ) * ( Sgm R32 ) )))))))
proof
let R5 being non  empty set;
let R7 being Nat;
let R23 being (Matrix of R5);
let R32 being  without_zero  finite (Subset of ( NAT ));
let R35 being  without_zero  finite (Subset of ( NAT ));
assume that
L1135: R7 in ( Seg ( card R35 ) )
and
L1136: R32 c= ( Seg ( len R23 ) );
L1137: ( rng ( Sgm R32 ) ) = R32 by L1136 , FINSEQ_1:def 13;
thus L1138: thesis by L1137 , L1135 , L1136 , L705;
end;
theorem
L1139: (for R5 being non  empty set holds (for R7 being Nat holds (for R23 being (Matrix of R5) holds (for R35 being  without_zero  finite (Subset of ( NAT )) holds (R7 in ( Seg ( card R35 ) ) implies ( Col (( Segm (R23 , ( Seg ( len R23 ) ) , R35) ) , R7) ) = ( Col (R23 , ( ( Sgm R35 ) . R7 )) ))))))
proof
let R5 being non  empty set;
let R7 being Nat;
let R23 being (Matrix of R5);
let R35 being  without_zero  finite (Subset of ( NAT ));
assume L1140: R7 in ( Seg ( card R35 ) );
set D174 = ( Seg ( len R23 ) );
set D175 = ( Sgm R35 );
L1141: ( len ( Col (R23 , ( D175 . R7 )) ) ) = ( len R23 ) by MATRIX_1:def 8;
L1142: ( dom ( Col (R23 , ( D175 . R7 )) ) ) = D174 by L1141 , FINSEQ_1:def 3;
L1143: ( Sgm D174 ) = ( idseq ( len R23 ) ) by FINSEQ_3:48;
L1144: ( ( Col (R23 , ( D175 . R7 )) ) * ( Sgm D174 ) ) = ( Col (R23 , ( D175 . R7 )) ) by L1143 , L1142 , RELAT_1:52;
thus L1145: thesis by L1144 , L1140 , L1134;
end;
theorem
L1146: (for R5 being non  empty set holds (for R6 being Nat holds (for R23 being (Matrix of R5) holds ( Segm (R23 , ( ( Seg ( len R23 ) ) \ { R6 } ) , ( Seg ( width R23 ) )) ) = ( Del (R23 , R6) ))))
proof
let R5 being non  empty set;
let R6 being Nat;
let R23 being (Matrix of R5);
set D176 = ( Seg ( len R23 ) );
set D177 = ( D176 \ { R6 } );
set D178 = ( Segm (R23 , D177 , ( Seg ( width R23 ) )) );
L1147: ( dom R23 ) = D176 by FINSEQ_1:def 3;
per cases ;
suppose L1148: (not R6 in ( dom R23 ));

L1149: ( Del (R23 , R6) ) = R23 by L1148 , FINSEQ_3:104;
L1150: D177 = D176 by L1147 , L1148 , ZFMISC_1:57;
thus L1151: thesis by L1150 , L1149 , L1118;
end;
suppose L1152: R6 in ( dom R23 );

consider R10 being Nat such that L1153: ( len R23 ) = ( R10 + 1 ) and L1154: ( len ( Del (R23 , R6) ) ) = R10 by L1152 , FINSEQ_3:104;
reconsider D179 = R10 as (Element of ( NAT )) by ORDINAL1:def 12;
L1155: ( card D176 ) = ( D179 + 1 ) by L1153 , FINSEQ_1:57;
L1156: ( card D177 ) = D179 by L1155 , L1147 , L1152 , STIRL2_1:55;
L1157:
now
reconsider D180 = R23 as (Matrix of ( D179 + 1 ) , ( width R23 ) , R5) by L1153 , MATRIX_1:20;
let R7 being Nat;
assume that
L1158: 1 <= R7
and
L1159: R7 <= D179;
L1160: R7 in ( NAT ) by ORDINAL1:def 12;
L1161: R7 in ( Seg D179 ) by L1160 , L1158 , L1159;
L1162: ( dom R23 ) = ( Seg ( len R23 ) ) by FINSEQ_1:def 3;
L1163: ( Del (R23 , R6) ) = ( R23 * ( Sgm D177 ) ) by L1147 , FINSEQ_3:def 2;
L1164: ( dom ( Del (R23 , R6) ) ) = ( Seg D179 ) by L1154 , FINSEQ_1:def 3;
L1165: ( ( Sgm D177 ) . R7 ) in ( dom R23 ) by L1164 , L1161 , L1163 , FUNCT_1:11;
L1166: ( ( Del (R23 , R6) ) . R7 ) = ( D180 . ( ( Sgm D177 ) . R7 ) ) by L1164 , L1161 , L1163 , FUNCT_1:12;
thus L1167: ( ( Del (R23 , R6) ) . R7 ) = ( Line (D180 , ( ( Sgm D177 ) . R7 )) ) by L1166 , L1153 , L1165 , L1162 , MATRIX_2:8
.= ( Line (D178 , R7) ) by L1156 , L1161 , L1127
.= ( D178 . R7 ) by L1156 , L1161 , MATRIX_2:8;
end;
L1168: ( len D178 ) = D179 by L1156 , MATRIX_1:def 2;
thus L1169: thesis by L1168 , L1154 , L1157 , FINSEQ_1:14;
end;
end;
theorem
L1171: (for R6 being Nat holds (for R18 being Field holds (for R31 being (Matrix of R18) holds ( Segm (R31 , ( Seg ( len R31 ) ) , ( ( Seg ( width R31 ) ) \ { R6 } )) ) = ( DelCol (R31 , R6) ))))
proof
let R6 being Nat;
let R18 being Field;
let R31 being (Matrix of R18);
set D181 = ( Seg ( width R31 ) );
set D182 = ( D181 \ { R6 } );
set D183 = ( Seg ( len R31 ) );
set D184 = ( Segm (R31 , D183 , D182) );
set D185 = ( DelCol (R31 , R6) );
L1172: ( card D183 ) = ( len R31 ) by FINSEQ_1:57;
L1173: ( len D184 ) = ( len R31 ) by L1172 , MATRIX_1:def 2;
L1174:
now
let R7 being Nat;
assume that
L1175: 1 <= R7
and
L1176: R7 <= ( len R31 );
L1177: R7 in ( NAT ) by ORDINAL1:def 12;
L1178: R7 in ( Seg ( len R31 ) ) by L1177 , L1175 , L1176;
L1179: R7 in ( dom R31 ) by L1178 , FINSEQ_1:def 3;
L1180: ( Sgm D183 ) = ( idseq ( len R31 ) ) by FINSEQ_3:48;
L1181: ( ( Sgm D183 ) . R7 ) = R7 by L1180 , L1178 , FINSEQ_2:49;
L1182: ( len ( Line (R31 , R7) ) ) = ( width R31 ) by MATRIX_1:def 7;
L1183: ( dom ( Line (R31 , R7) ) ) = D181 by L1182 , FINSEQ_1:def 3;
L1184: ( card D183 ) = ( len R31 ) by FINSEQ_1:57;
L1185: ( Line (D184 , R7) ) = ( D184 . R7 ) by L1184 , L1178 , MATRIX_2:8;
L1186: ( Line (D184 , R7) ) = ( ( Line (R31 , ( ( Sgm D183 ) . R7 )) ) * ( Sgm D182 ) ) by L1184 , L1178 , L1122 , XBOOLE_1:36;
L1187: ( D184 . R7 ) = ( Del (( Line (R31 , R7) ) , R6) ) by L1186 , L1181 , L1185 , L1183 , FINSEQ_3:def 2;
thus L1188: ( D184 . R7 ) = ( D185 . R7 ) by L1187 , L1179 , MATRIX_2:def 5;
end;
L1189: ( len D185 ) = ( len R31 ) by MATRIX_2:def 5;
thus L1190: thesis by L1189 , L1173 , L1174 , FINSEQ_1:14;
end;
theorem
L1191: (for R3 being set holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds ( ( Sgm R32 ) " R3 ) is  without_zero  finite  without_zero  finite  without_zero  finite  without_zero  finite (Subset of ( NAT ))))
proof
let R3 being set;
let R32 being  without_zero  finite (Subset of ( NAT ));
L1192: ( ( Sgm R32 ) " R3 ) c= ( dom ( Sgm R32 ) ) by RELAT_1:132;
L1193: (ex R8 being Nat st R32 c= ( Seg R8 )) by L1090;
L1194: ( dom ( Sgm R32 ) ) = ( Seg ( card R32 ) ) by L1193 , FINSEQ_3:40;
L1195: (not ( 0 ) in ( ( Sgm R32 ) " R3 )) by L1194 , L1192;
thus L1196: thesis by L1195 , L1192 , MEASURE6:def 2 , XBOOLE_1:1;
end;
theorem
L1197: (for R3 being set holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (R3 c= R32 implies ( Sgm R3 ) = ( ( Sgm R32 ) * ( Sgm ( ( Sgm R32 ) " R3 ) ) ))))
proof
let R3 being set;
let R32 being  without_zero  finite (Subset of ( NAT ));
assume L1198: R3 c= R32;
L1199: ( ( Sgm R32 ) " R3 ) c= ( dom ( Sgm R32 ) ) by RELAT_1:132;
consider R11 being Nat such that L1200: R32 c= ( Seg R11 ) by L1090;
L1201: ( rng ( Sgm R32 ) ) = R32 by L1200 , FINSEQ_1:def 13;
L1202: R11 in ( NAT ) by ORDINAL1:def 12;
L1203: ( rng ( ( Sgm R32 ) | ( ( Sgm R32 ) " R3 ) ) ) = ( ( Sgm R32 ) .: ( ( Sgm R32 ) " R3 ) ) by RELAT_1:115
.= R3 by L1198 , L1201 , FUNCT_1:77;
thus L1204: thesis by L1203 , L1200 , L1202 , L1199 , GRAPH_2:3;
end;
L1205: (for R3 being set holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (R3 c= R32 implies ( card R3 ) = ( card ( ( Sgm R32 ) " R3 ) ))))
proof
let R3 being set;
let R32 being  without_zero  finite (Subset of ( NAT ));
assume L1206: R3 c= R32;
L1207: (ex R11 being Nat st R32 c= ( Seg R11 )) by L1090;
L1208: ( rng ( Sgm R32 ) ) = R32 by L1207 , FINSEQ_1:def 13;
L1209: ( ( Sgm R32 ) .: ( ( Sgm R32 ) " R3 ) ) = R3 by L1208 , L1206 , FUNCT_1:77;
L1210: ( ( Sgm R32 ) " R3 ) c= ( dom ( Sgm R32 ) ) by RELAT_1:132;
L1211: ( Sgm R32 ) is  one-to-one by L1207 , FINSEQ_3:92;
L1212: R3 , ( ( Sgm R32 ) " R3 ) are_equipotent  by L1211 , L1209 , L1210 , CARD_1:33;
thus L1213: thesis by L1212 , CARD_1:5;
end;
theorem
L1214: (for R3 being set holds (for R4 being set holds (for R5 being non  empty set holds (for R23 being (Matrix of R5) holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (for R35 being  without_zero  finite (Subset of ( NAT )) holds [: ( ( Sgm R32 ) " R3 ) , ( ( Sgm R35 ) " R4 ) :] c= ( Indices ( Segm (R23 , R32 , R35) ) )))))))
proof
let R3 being set;
let R4 being set;
let R5 being non  empty set;
let R23 being (Matrix of R5);
let R32 being  without_zero  finite (Subset of ( NAT ));
let R35 being  without_zero  finite (Subset of ( NAT ));
set D186 = ( Sgm R32 );
set D187 = ( Sgm R35 );
set D188 = ( Indices ( Segm (R23 , R32 , R35) ) );
L1215:
now
per cases ;
suppose L1216: ( card R32 ) = ( 0 );

L1217: ( Seg ( card R32 ) ) = ( {} ) by L1216;
L1218: [: ( Seg ( card R32 ) ) , ( Seg ( card R35 ) ) :] = ( {} ) by L1217 , ZFMISC_1:90;
thus L1219: [: ( Seg ( card R32 ) ) , ( Seg ( card R35 ) ) :] = D188 by L1218 , L1216 , MATRIX_1:22;
end;
suppose L1220: ( card R32 ) > ( 0 );

thus L1221: [: ( Seg ( card R32 ) ) , ( Seg ( card R35 ) ) :] = D188 by L1220 , MATRIX_1:23;
end;
end;
L1223: (ex R10 being Nat st R35 c= ( Seg R10 )) by L1090;
L1224: ( dom D187 ) = ( Seg ( card R35 ) ) by L1223 , FINSEQ_3:40;
L1225: ( D187 " R4 ) c= ( Seg ( card R35 ) ) by L1224 , RELAT_1:132;
L1226: (ex R11 being Nat st R32 c= ( Seg R11 )) by L1090;
L1227: ( dom D186 ) = ( Seg ( card R32 ) ) by L1226 , FINSEQ_3:40;
L1228: ( D186 " R3 ) c= ( Seg ( card R32 ) ) by L1227 , RELAT_1:132;
thus L1229: thesis by L1228 , L1225 , L1215 , ZFMISC_1:96;
end;
theorem
L1230: (for R5 being non  empty set holds (for R23 being (Matrix of R5) holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (for R33 being  without_zero  finite (Subset of ( NAT )) holds (for R34 being  without_zero  finite (Subset of ( NAT )) holds (for R35 being  without_zero  finite (Subset of ( NAT )) holds (for R36 being  without_zero  finite (Subset of ( NAT )) holds (for R37 being  without_zero  finite (Subset of ( NAT )) holds ((R32 c= R33 & R35 c= R36 & R34 = ( ( Sgm R33 ) " R32 ) & R37 = ( ( Sgm R36 ) " R35 )) implies ([: ( rng ( Sgm R34 ) ) , ( rng ( Sgm R37 ) ) :] c= ( Indices ( Segm (R23 , R33 , R36) ) ) & ( Segm (( Segm (R23 , R33 , R36) ) , R34 , R37) ) = ( Segm (R23 , R32 , R35) )))))))))))
proof
let R5 being non  empty set;
let R23 being (Matrix of R5);
let R32 being  without_zero  finite (Subset of ( NAT ));
let R33 being  without_zero  finite (Subset of ( NAT ));
let R34 being  without_zero  finite (Subset of ( NAT ));
let R35 being  without_zero  finite (Subset of ( NAT ));
let R36 being  without_zero  finite (Subset of ( NAT ));
let R37 being  without_zero  finite (Subset of ( NAT ));
assume that
L1231: R32 c= R33
and
L1232: R35 c= R36
and
L1233: R34 = ( ( Sgm R33 ) " R32 )
and
L1234: R37 = ( ( Sgm R36 ) " R35 );
set D189 = ( Segm (R23 , R33 , R36) );
L1235: ( card R32 ) = ( card R34 ) by L1231 , L1233 , L1205;
reconsider D190 = ( Segm (D189 , R34 , R37) ) as (Matrix of ( card R32 ) , ( card R35 ) , R5) by L1235 , L1232 , L1234 , L1205;
set D191 = ( Sgm R37 );
set D192 = ( Sgm R34 );
set D193 = ( Sgm R36 );
set D194 = ( Sgm R33 );
set D195 = ( Segm (R23 , R32 , R35) );
L1236: (ex B58 being Nat st R37 c= ( Seg B58 )) by L1090;
L1237: ( rng D191 ) = R37 by L1236 , FINSEQ_1:def 13;
L1238: (ex B59 being Nat st R34 c= ( Seg B59 )) by L1090;
L1239: ( rng D192 ) = R34 by L1238 , FINSEQ_1:def 13;
thus L1240: [: ( rng D192 ) , ( rng D191 ) :] c= ( Indices D189 ) by L1239 , L1233 , L1234 , L1237 , L1214;
L1241:
now
L1242: ( D193 * D191 ) = ( Sgm R35 ) by L1232 , L1234 , L1197;
let R6 being Nat;
let R7 being Nat;
assume that
L1243: [ R6 , R7 ] in ( Indices D195 );
L1244: [ R6 , R7 ] in ( Indices D190 ) by L1243 , MATRIX_1:26;
L1245: R7 in ( Seg ( width D190 ) ) by L1244 , ZFMISC_1:87;
reconsider D196 = ( D192 . R6 ) , D197 = ( D191 . R7 ) as (Element of ( NAT )) by ORDINAL1:def 12;
L1246: ( D194 * D192 ) = ( Sgm R32 ) by L1231 , L1233 , L1197;
L1247: ( Indices D190 ) = [: ( Seg ( card R34 ) ) , ( Seg ( width D190 ) ) :] by MATRIX_1:25;
L1248: R6 in ( Seg ( card R34 ) ) by L1247 , L1244 , ZFMISC_1:87;
L1249: ( card R34 ) <> ( 0 ) by L1248;
L1250: ( width D190 ) = ( card R37 ) by L1249 , L1;
L1251: R7 in ( dom D191 ) by L1250 , L1236 , L1245 , FINSEQ_3:40;
L1252: ( D193 . D197 ) = ( ( Sgm R35 ) . R7 ) by L1251 , L1242 , FUNCT_1:13;
reconsider D198 = R6 , D199 = R7 as (Element of ( NAT )) by ORDINAL1:def 12;
L1253: [ D198 , D199 ] in ( Indices D190 ) by L1243 , MATRIX_1:26;
L1254: ( D190 * (R6 , R7) ) = ( D189 * (D196 , D197) ) by L1253 , L502;
L1255: R6 in ( dom D192 ) by L1238 , L1248 , FINSEQ_3:40;
L1256: ( D194 . D196 ) = ( ( Sgm R32 ) . R6 ) by L1255 , L1246 , FUNCT_1:13;
L1257: [ D196 , D197 ] in ( Indices D189 ) by L1240 , L1253 , L515;
L1258: ( D190 * (R6 , R7) ) = ( R23 * (( D194 . D196 ) , ( D193 . D197 )) ) by L1257 , L1254 , L502;
thus L1259: ( D195 * (R6 , R7) ) = ( D190 * (R6 , R7) ) by L1258 , L1243 , L1256 , L1252 , L502;
end;
thus L1260: thesis by L1241 , MATRIX_1:27;
end;
theorem
L1261: (for R5 being non  empty set holds (for R23 being (Matrix of R5) holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (for R33 being  without_zero  finite (Subset of ( NAT )) holds (for R35 being  without_zero  finite (Subset of ( NAT )) holds (for R36 being  without_zero  finite (Subset of ( NAT )) holds (((R32 = ( {} ) iff R35 = ( {} )) & [: R32 , R35 :] c= ( Indices ( Segm (R23 , R33 , R36) ) )) implies (ex R34 being  without_zero  finite (Subset of ( NAT )) st (ex R37 being  without_zero  finite (Subset of ( NAT )) st (R34 c= R33 & R37 c= R36 & R34 = ( ( Sgm R33 ) .: R32 ) & R37 = ( ( Sgm R36 ) .: R35 ) & ( card R34 ) = ( card R32 ) & ( card R37 ) = ( card R35 ) & ( Segm (( Segm (R23 , R33 , R36) ) , R32 , R35) ) = ( Segm (R23 , R34 , R37) )))))))))))
proof
let R5 being non  empty set;
let R23 being (Matrix of R5);
let R32 being  without_zero  finite (Subset of ( NAT ));
let R33 being  without_zero  finite (Subset of ( NAT ));
let R35 being  without_zero  finite (Subset of ( NAT ));
let R36 being  without_zero  finite (Subset of ( NAT ));
assume that
L1262: (R32 = ( {} ) iff R35 = ( {} ))
and
L1263: [: R32 , R35 :] c= ( Indices ( Segm (R23 , R33 , R36) ) );
set D200 = ( Segm (R23 , R33 , R36) );
L1264:
now
per cases ;
suppose L1265: R32 = ( {} );

thus L1266: (R32 c= ( Seg ( card R33 ) ) & R35 c= ( Seg ( card R36 ) )) by L1265 , L1262 , XBOOLE_1:2;
end;
suppose L1267: R32 <> ( {} );

L1268: R35 c= ( Seg ( width D200 ) ) by L1267 , L1262 , L1263 , ZFMISC_1:114;
L1269: ( len D200 ) = ( card R33 ) by MATRIX_1:def 2;
L1270: ( Indices D200 ) = [: ( Seg ( len D200 ) ) , ( Seg ( width D200 ) ) :] by FINSEQ_1:def 3;
L1271: ( len D200 ) <> ( 0 ) by L1270 , L1262 , L1263 , L1267;
thus L1272: (R32 c= ( Seg ( card R33 ) ) & R35 c= ( Seg ( card R36 ) )) by L1271 , L1262 , L1263 , L1267 , L1270 , L1268 , L1269 , L1 , ZFMISC_1:114;
end;
end;
set D201 = ( Sgm R36 );
set D202 = ( Sgm R33 );
L1274: (ex R8 being Nat st R33 c= ( Seg R8 )) by L1090;
L1275: D202 is  one-to-one by L1274 , FINSEQ_3:92;
L1276: (ex R8 being Nat st R36 c= ( Seg R8 )) by L1090;
L1277: D201 is  one-to-one by L1276 , FINSEQ_3:92;
L1278: ( rng D201 ) = R36 by L1276 , FINSEQ_1:def 13;
L1279: ( D201 .: R35 ) c= R36 by L1278 , RELAT_1:111;
L1280: (not ( 0 ) in ( D201 .: R35 )) by L1279;
L1281: ( rng D202 ) = R33 by L1274 , FINSEQ_1:def 13;
L1282: ( D202 .: R32 ) c= R33 by L1281 , RELAT_1:111;
L1283: (not ( 0 ) in ( D202 .: R32 )) by L1282;
reconsider D203 = ( D202 .: R32 ) , D204 = ( D201 .: R35 ) as  without_zero  finite (Subset of ( NAT )) by L1283 , L1282 , L1279 , L1280 , MEASURE6:def 2 , XBOOLE_1:1;
L1284: ( dom D201 ) = ( Seg ( card R36 ) ) by L1276 , FINSEQ_3:40;
L1285: ( D201 " D204 ) = R35 by L1284 , L1264 , L1277 , FUNCT_1:94;
L1286: ( dom D202 ) = ( Seg ( card R33 ) ) by L1274 , FINSEQ_3:40;
L1287: R32 , D203 are_equipotent  by L1286 , L1264 , L1275 , CARD_1:33;
L1288: ( card R32 ) = ( card D203 ) by L1287 , CARD_1:5;
L1289: R35 , D204 are_equipotent  by L1264 , L1284 , L1277 , CARD_1:33;
L1290: ( card R35 ) = ( card D204 ) by L1289 , CARD_1:5;
L1291: ( D202 " D203 ) = R32 by L1264 , L1286 , L1275 , FUNCT_1:94;
L1292: ( Segm (( Segm (R23 , R33 , R36) ) , R32 , R35) ) = ( Segm (R23 , D203 , D204) ) by L1291 , L1282 , L1279 , L1285 , L1230;
thus L1293: thesis by L1292 , L1278 , L1282 , L1288 , L1290 , RELAT_1:111;
end;
theorem
L1294: (for R6 being Nat holds (for R7 being Nat holds (for R11 being Nat holds (for R18 being Field holds (for B60 being (Matrix of R11 , R18) holds ( Segm (B60 , ( ( Seg R11 ) \ { R6 } ) , ( ( Seg R11 ) \ { R7 } )) ) = ( Deleting (B60 , R6 , R7) ))))))
proof
let R6 being Nat;
let R7 being Nat;
let R11 being Nat;
let R18 being Field;
let C89 being (Matrix of R11 , R18);
L1295: ( width C89 ) = R11 by MATRIX_1:24;
L1296: ( len C89 ) = R11 by MATRIX_1:24;
L1297: ( dom C89 ) = ( Seg R11 ) by L1296 , FINSEQ_1:def 3;
per cases ;
suppose L1298: (not R6 in ( Seg R11 ));

L1299: ( Seg R11 ) = ( ( Seg R11 ) \ { R6 } ) by L1298 , ZFMISC_1:57;
L1300: ( Del (C89 , R6) ) = C89 by L1297 , L1298 , FINSEQ_3:104;
thus L1301: thesis by L1300 , L1296 , L1295 , L1299 , L1171;
end;
suppose L1302: R6 in ( Seg R11 );

set D205 = ( Seg R11 );
set D206 = ( ( Seg R11 ) \ { R7 } );
set D207 = ( ( Seg R11 ) \ { R6 } );
set D208 = ( Segm (C89 , D207 , D205) );
consider R10 being Nat such that L1303: ( len C89 ) = ( R10 + 1 ) and L1304: ( len ( Del (C89 , R6) ) ) = R10 by L1297 , L1302 , FINSEQ_3:104;
per cases ;
suppose L1305: R10 = ( 0 );

L1306: ( len ( Deleting (C89 , R6 , R7) ) ) = ( 0 ) by L1305 , L1304 , MATRIX_2:def 5;
L1307: ( Deleting (C89 , R6 , R7) ) = ( {} ) by L1306;
L1308: ( D205 \ { 1 } ) = ( {} ) by L1296 , L1303 , L1305 , FINSEQ_1:2 , XBOOLE_1:37;
L1309: R6 = 1 by L1296 , L1302 , L1303 , L1305 , FINSEQ_1:2 , TARSKI:def 1;
L1310: ( len ( Segm (C89 , D207 , D206) ) ) = ( 0 ) by L1309 , L1308 , MATRIX_1:def 2;
thus L1311: thesis by L1310 , L1307;
end;
suppose L1312: R10 > ( 0 );

L1313: R11 > ( 1 + ( 0 ) ) by L1312 , L1296 , L1303 , XREAL_1:8;
L1314: R11 = ( width ( DelLine (C89 , R6) ) ) by L1313 , L1296 , L1295 , LAPLACE:4;
L1315: D206 c= ( Seg R11 ) by XBOOLE_1:36;
L1316: D207 c= ( Seg R11 ) by XBOOLE_1:36;
L1317: ( rng ( Sgm D207 ) ) = D207 by L1316 , FINSEQ_1:def 13;
L1318: ( dom ( Sgm D207 ) ) = ( Seg ( card D207 ) ) by FINSEQ_3:40 , XBOOLE_1:36;
L1319: ( ( Sgm D207 ) " D207 ) = ( Seg ( card D207 ) ) by L1318 , L1317 , RELAT_1:134
.= ( Seg ( len D208 ) ) by MATRIX_1:def 2;
L1320: D208 = ( Del (C89 , R6) ) by L1296 , L1295 , L1146;
L1321: ( Deleting (C89 , R6 , R7) ) = ( Segm (D208 , ( Seg ( len D208 ) ) , ( ( Seg ( width D208 ) ) \ { R7 } )) ) by L1320 , L1171;
L1322: ( Sgm D205 ) = ( idseq R11 ) by FINSEQ_3:48;
L1323: ( ( Sgm D205 ) " D206 ) = ( ( Seg ( width D208 ) ) \ { R7 } ) by L1322 , L1315 , L1314 , L1320 , FUNCT_2:94;
thus L1324: thesis by L1323 , L1315 , L1319 , L1321 , L1230;
end;
end;
end;
theorem
L1327: (for R5 being non  empty set holds (for R6 being Nat holds (for R12 being Nat holds (for R13 being Nat holds (for R24 being (Matrix of R13 , R12 , R5) holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (for R35 being  without_zero  finite (Subset of ( NAT )) holds (for B61 , B62 being (FinSequence of R5) holds ((( len B61 ) = ( width R24 ) & B62 = ( B61 * ( Sgm R35 ) ) & [: R32 , R35 :] c= ( Indices R24 )) implies ( RLine (( Segm (R24 , R32 , R35) ) , R6 , B62) ) = ( Segm (( RLine (R24 , ( ( Sgm R32 ) . R6 ) , B61) ) , R32 , R35) ))))))))))
proof
let R5 being non  empty set;
let R6 being Nat;
let R12 being Nat;
let R13 being Nat;
let R24 being (Matrix of R13 , R12 , R5);
let R32 being  without_zero  finite (Subset of ( NAT ));
let R35 being  without_zero  finite (Subset of ( NAT ));
let C90 , C91 being (FinSequence of R5);
assume that
L1328: ( len C90 ) = ( width R24 )
and
L1329: C91 = ( C90 * ( Sgm R35 ) )
and
L1330: [: R32 , R35 :] c= ( Indices R24 );
set D209 = ( Sgm R35 );
set D210 = ( Sgm R32 );
L1331: ( card R32 ) = ( len ( Segm (R24 , R32 , R35) ) ) by MATRIX_1:def 2;
L1332: (ex R10 being Nat st R35 c= ( Seg R10 )) by L1090;
L1333: ( rng D209 ) = R35 by L1332 , FINSEQ_1:def 13;
L1334: (ex R11 being Nat st R32 c= ( Seg R11 )) by L1090;
L1335: ( rng D210 ) = R32 by L1334 , FINSEQ_1:def 13;
L1336: D210 is  one-to-one by L1334 , FINSEQ_3:92;
L1337: ( dom D210 ) = ( Seg ( card R32 ) ) by L1334 , FINSEQ_3:40;
per cases ;
suppose L1338: R6 in ( dom D210 );

L1339: ( D210 " { ( D210 . R6 ) } ) = { R6 } by L1338 , L1336 , FINSEQ_5:4;
thus L1340: thesis by L1339 , L1328 , L1329 , L1330 , L1335 , L1333 , L884;
end;
suppose L1341: (not R6 in ( dom D210 ));

L1342: (not ( 0 ) in ( Seg ( len R24 ) ));
L1343: ( D210 . R6 ) = ( 0 ) by L1341 , FUNCT_1:def 2;
thus L1344: ( Segm (( RLine (R24 , ( D210 . R6 ) , C90) ) , R32 , R35) ) = ( Segm (R24 , R32 , R35) ) by L1343 , L1342 , L1009
.= ( RLine (( Segm (R24 , R32 , R35) ) , R6 , C91) ) by L1337 , L1331 , L1341 , L1009;
end;
end;
theorem
L1346: (for R5 being non  empty set holds (for R12 being Nat holds (for R13 being Nat holds (for R24 being (Matrix of R13 , R12 , R5) holds (for R35 being  without_zero  finite (Subset of ( NAT )) holds (for B63 being (FinSequence of R5) holds (for R6 being Nat holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (((not R6 in R32) & [: R32 , R35 :] c= ( Indices R24 )) implies ( Segm (R24 , R32 , R35) ) = ( Segm (( RLine (R24 , R6 , B63) ) , R32 , R35) ))))))))))
proof
let R5 being non  empty set;
let R12 being Nat;
let R13 being Nat;
let R24 being (Matrix of R13 , R12 , R5);
let R35 being  without_zero  finite (Subset of ( NAT ));
let C92 being (FinSequence of R5);
let R6 being Nat;
let R32 being  without_zero  finite (Subset of ( NAT ));
assume that
L1347: (not R6 in R32)
and
L1348: [: R32 , R35 :] c= ( Indices R24 );
L1349: (ex R10 being Nat st R35 c= ( Seg R10 )) by L1090;
L1350: ( rng ( Sgm R35 ) ) = R35 by L1349 , FINSEQ_1:def 13;
L1351: (ex R11 being Nat st R32 c= ( Seg R11 )) by L1090;
L1352: ( rng ( Sgm R32 ) ) = R32 by L1351 , FINSEQ_1:def 13;
thus L1353: thesis by L1352 , L1347 , L1348 , L1350 , L925;
end;
theorem
L1354: (for R5 being non  empty set holds (for R23 being (Matrix of R5) holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (for R35 being  without_zero  finite (Subset of ( NAT )) holds (([: R32 , R35 :] c= ( Indices R23 ) & (( card R32 ) = ( 0 ) iff ( card R35 ) = ( 0 ))) implies ( ( Segm (R23 , R32 , R35) ) @ ) = ( Segm (( R23 @ ) , R35 , R32) ))))))
proof
let R5 being non  empty set;
let R23 being (Matrix of R5);
let R32 being  without_zero  finite (Subset of ( NAT ));
let R35 being  without_zero  finite (Subset of ( NAT ));
assume that
L1355: [: R32 , R35 :] c= ( Indices R23 )
and
L1356: (( card R32 ) = ( 0 ) iff ( card R35 ) = ( 0 ));
L1357: (ex R10 being Nat st R35 c= ( Seg R10 )) by L1090;
L1358: ( rng ( Sgm R35 ) ) = R35 by L1357 , FINSEQ_1:def 13;
L1359: (ex R11 being Nat st R32 c= ( Seg R11 )) by L1090;
L1360: ( rng ( Sgm R32 ) ) = R32 by L1359 , FINSEQ_1:def 13;
thus L1361: thesis by L1360 , L1355 , L1356 , L1358 , L548;
end;
theorem
L1362: (for R5 being non  empty set holds (for R23 being (Matrix of R5) holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (for R35 being  without_zero  finite (Subset of ( NAT )) holds (([: R32 , R35 :] c= ( Indices R23 ) & (( card R35 ) = ( 0 ) implies ( card R32 ) = ( 0 ))) implies ( Segm (R23 , R32 , R35) ) = ( ( Segm (( R23 @ ) , R35 , R32) ) @ ))))))
proof
let R5 being non  empty set;
let R23 being (Matrix of R5);
let R32 being  without_zero  finite (Subset of ( NAT ));
let R35 being  without_zero  finite (Subset of ( NAT ));
assume that
L1363: [: R32 , R35 :] c= ( Indices R23 )
and
L1364: (( card R35 ) = ( 0 ) implies ( card R32 ) = ( 0 ));
L1365: (ex R10 being Nat st R35 c= ( Seg R10 )) by L1090;
L1366: ( rng ( Sgm R35 ) ) = R35 by L1365 , FINSEQ_1:def 13;
L1367: (ex R11 being Nat st R32 c= ( Seg R11 )) by L1090;
L1368: ( rng ( Sgm R32 ) ) = R32 by L1367 , FINSEQ_1:def 13;
thus L1369: thesis by L1368 , L1363 , L1364 , L1366 , L578;
end;
theorem
L1370: (for R18 being Field holds (for R19 being (Element of R18) holds (for R31 being (Matrix of R18) holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (for R35 being  without_zero  finite (Subset of ( NAT )) holds ([: R32 , R35 :] c= ( Indices R31 ) implies ( R19 * ( Segm (R31 , R32 , R35) ) ) = ( Segm (( R19 * R31 ) , R32 , R35) )))))))
proof
let R18 being Field;
let R19 being (Element of R18);
let R31 being (Matrix of R18);
let R32 being  without_zero  finite (Subset of ( NAT ));
let R35 being  without_zero  finite (Subset of ( NAT ));
L1371: (ex R11 being Nat st R32 c= ( Seg R11 )) by L1090;
L1372: ( rng ( Sgm R32 ) ) = R32 by L1371 , FINSEQ_1:def 13;
L1373: (ex R8 being Nat st R35 c= ( Seg R8 )) by L1090;
L1374: ( rng ( Sgm R35 ) ) = R35 by L1373 , FINSEQ_1:def 13;
assume L1375: [: R32 , R35 :] c= ( Indices R31 );
thus L1376: thesis by L1375 , L1372 , L1374 , L1037;
end;
definition
let C93 being non  empty set;
let C94 being (Matrix of C93);
let C95 , C96 being  without_zero  finite (Subset of ( NAT ));
assume L1377: ( card C95 ) = ( card C96 );
func EqSegm (C94 , C95 , C96) -> (Matrix of ( card C95 ) , C93) equals 
:L1378: ( Segm (C94 , C95 , C96) );
coherence by L1377;
end;
theorem
L1380: (for R18 being Field holds (for R31 being (Matrix of R18) holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (for R35 being  without_zero  finite (Subset of ( NAT )) holds (for R6 being Nat holds (for R7 being Nat holds ((R6 in ( Seg ( card R32 ) ) & R7 in ( Seg ( card R32 ) ) & ( card R32 ) = ( card R35 )) implies (( Delete (( EqSegm (R31 , R32 , R35) ) , R6 , R7) ) = ( EqSegm (R31 , ( R32 \ { ( ( Sgm R32 ) . R6 ) } ) , ( R35 \ { ( ( Sgm R35 ) . R7 ) } )) ) & ( card ( R32 \ { ( ( Sgm R32 ) . R6 ) } ) ) = ( card ( R35 \ { ( ( Sgm R35 ) . R7 ) } ) )))))))))
proof
let R18 being Field;
let R31 being (Matrix of R18);
let R33 being  without_zero  finite (Subset of ( NAT ));
let R36 being  without_zero  finite (Subset of ( NAT ));
let R6 being Nat;
let R7 being Nat;
assume that
L1381: R6 in ( Seg ( card R33 ) )
and
L1382: R7 in ( Seg ( card R33 ) )
and
L1383: ( card R33 ) = ( card R36 );
set D211 = ( Sgm R36 );
L1384: (ex R10 being Nat st R36 c= ( Seg R10 )) by L1090;
L1385: ( dom D211 ) = ( Seg ( card R36 ) ) by L1384 , FINSEQ_3:40;
L1386: ( rng D211 ) = R36 by L1384 , FINSEQ_1:def 13;
L1387: ( D211 " R36 ) = ( Seg ( card R33 ) ) by L1386 , L1383 , L1385 , RELAT_1:134;
set D212 = ( R36 \ { ( D211 . R7 ) } );
set D213 = ( ( Seg ( card R36 ) ) \ { R7 } );
L1388: D212 c= R36 by XBOOLE_1:36;
set D214 = ( Sgm R33 );
L1389: (ex R11 being Nat st R33 c= ( Seg R11 )) by L1090;
L1390: ( dom D214 ) = ( Seg ( card R33 ) ) by L1389 , FINSEQ_3:40;
L1391: ( rng D214 ) = R33 by L1389 , FINSEQ_1:def 13;
L1392: ( D214 " R33 ) = ( Seg ( card R33 ) ) by L1391 , L1390 , RELAT_1:134;
L1393: D211 is  one-to-one by L1384 , FINSEQ_3:92;
L1394: ( D211 " { ( D211 . R7 ) } ) = { R7 } by L1393 , L1382 , L1383 , L1385 , FINSEQ_5:4;
L1395: D213 = ( D211 " D212 ) by L1394 , L1383 , L1387 , FUNCT_1:69;
L1396: ( D214 . R6 ) in R33 by L1381 , L1390 , L1391 , FUNCT_1:def 3;
set D215 = ( ( Seg ( card R33 ) ) \ { R6 } );
set D216 = ( R33 \ { ( D214 . R6 ) } );
L1397: D214 is  one-to-one by L1389 , FINSEQ_3:92;
L1398: ( D214 " { ( D214 . R6 ) } ) = { R6 } by L1397 , L1381 , L1390 , FINSEQ_5:4;
L1399: D215 = ( D214 " D216 ) by L1398 , L1392 , FUNCT_1:69;
set D217 = ( EqSegm (R31 , R33 , R36) );
L1400: D216 c= R33 by XBOOLE_1:36;
L1401: ( card R33 ) <> ( 0 ) by L1381;
reconsider D218 = ( ( card R33 ) - 1 ) as (Element of ( NAT )) by L1401 , NAT_1:20;
L1402: ( card R33 ) = ( D218 + 1 );
L1403: ( D211 . R7 ) in R36 by L1382 , L1383 , L1385 , L1386 , FUNCT_1:def 3;
L1404: ( card D212 ) = D218 by L1403 , L1383 , L1402 , STIRL2_1:55;
L1405: ( Delete (D217 , R6 , R7) ) = ( Deleting (D217 , R6 , R7) ) by L1381 , L1382 , LAPLACE:def 1
.= ( Segm (D217 , D215 , D213) ) by L1383 , L1294
.= ( Segm (( Segm (R31 , R33 , R36) ) , D215 , D213) ) by L1383 , L1378
.= ( Segm (R31 , D216 , D212) ) by L1400 , L1388 , L1399 , L1395 , L1230
.= ( EqSegm (R31 , D216 , D212) ) by L1396 , L1402 , L1404 , L1378 , STIRL2_1:55;
thus L1406: thesis by L1405 , L1396 , L1402 , L1404 , STIRL2_1:55;
end;
L1407: (for R18 being Field holds (for R31 being (Matrix of R18) holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (for R35 being  without_zero  finite (Subset of ( NAT )) holds (for R6 being Nat holds ((R6 in ( Seg ( card R32 ) ) & ( Det ( EqSegm (R31 , R32 , R35) ) ) <> ( 0. R18 )) implies (ex R7 being Nat st (R7 in ( Seg ( card R32 ) ) & ( Det ( Delete (( EqSegm (R31 , R32 , R35) ) , R6 , R7) ) ) <> ( 0. R18 )))))))))
proof
let R18 being Field;
let R31 being (Matrix of R18);
let R32 being  without_zero  finite (Subset of ( NAT ));
let R35 being  without_zero  finite (Subset of ( NAT ));
let R6 being Nat;
assume that
L1408: R6 in ( Seg ( card R32 ) )
and
L1409: ( Det ( EqSegm (R31 , R32 , R35) ) ) <> ( 0. R18 );
set D219 = ( card R32 );
set D220 = ( EqSegm (R31 , R32 , R35) );
set D221 = ( LaplaceExpL (D220 , R6) );
set D222 = ( D219 |-> ( 0. R18 ) );
L1410: ( Sum D222 ) = ( 0. R18 ) by MATRIX_3:11;
L1411: D221 <> D222 by L1410 , L1408 , L1409 , LAPLACE:25;
L1412: ( len D221 ) = D219 by LAPLACE:def 7;
L1413: ( dom D221 ) = ( Seg D219 ) by L1412 , FINSEQ_1:def 3;
L1414: ( dom D222 ) = ( Seg D219 ) by FUNCOP_1:13;
consider R7 being Nat such that L1415: R7 in ( dom D221 ) and L1416: ( D221 . R7 ) <> ( D222 . R7 ) by L1414 , L1411 , L1413 , FINSEQ_1:13;
L1417: ( D221 . R7 ) = ( ( D220 * (R6 , R7) ) * ( Cofactor (D220 , R6 , R7) ) ) by L1415 , LAPLACE:def 7;
L1418: ( D222 . R7 ) = ( 0. R18 ) by L1413 , L1415 , FINSEQ_2:57;
L1419: ( Cofactor (D220 , R6 , R7) ) <> ( 0. R18 ) by L1418 , L1416 , L1417 , VECTSP_1:12;
L1420: ( Minor (D220 , R6 , R7) ) <> ( 0. R18 ) by L1419 , VECTSP_1:12;
thus L1421: thesis by L1420 , L1413 , L1415;
end;
theorem
L1422: (for R18 being Field holds (for R31 being (Matrix of R18) holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (for R33 being  without_zero  finite (Subset of ( NAT )) holds (for R36 being  without_zero  finite (Subset of ( NAT )) holds ((( card R33 ) = ( card R36 ) & R32 c= R33 & ( Det ( EqSegm (R31 , R33 , R36) ) ) <> ( 0. R18 )) implies (ex R35 being  without_zero  finite (Subset of ( NAT )) st (R35 c= R36 & ( card R32 ) = ( card R35 ) & ( Det ( EqSegm (R31 , R32 , R35) ) ) <> ( 0. R18 )))))))))
proof
let R18 being Field;
let R31 being (Matrix of R18);
let R32 being  without_zero  finite (Subset of ( NAT ));
let R33 being  without_zero  finite (Subset of ( NAT ));
let R36 being  without_zero  finite (Subset of ( NAT ));
assume that
L1423: ( card R33 ) = ( card R36 )
and
L1424: R32 c= R33
and
L1425: ( Det ( EqSegm (R31 , R33 , R36) ) ) <> ( 0. R18 );
defpred S3[ Nat ] means (for R32 being  without_zero  finite (Subset of ( NAT )) holds ((R32 c= R33 & ( card R32 ) = $1) implies (ex R35 being  without_zero  finite (Subset of ( NAT )) st (R35 c= R36 & ( card R32 ) = ( card R35 ) & ( Det ( EqSegm (R31 , R32 , R35) ) ) <> ( 0. R18 )))));
L1426: (for B64 being (Element of ( NAT )) holds ((B64 < ( card R33 ) & S3[ ( B64 + 1 ) ]) implies S3[ B64 ]))
proof
let C97 being (Element of ( NAT ));
assume that
L1427: C97 < ( card R33 )
and
L1428: S3[ ( C97 + 1 ) ];
let R32 being  without_zero  finite (Subset of ( NAT ));
assume that
L1429: R32 c= R33
and
L1430: ( card R32 ) = C97;
L1431: R32 c< R33 by L1427 , L1429 , L1430 , XBOOLE_0:def 8;
L1432: ( R33 \ R32 ) <> ( {} ) by L1431 , XBOOLE_1:105;
consider R1 being set such that L1433: R1 in ( R33 \ R32 ) by L1432 , XBOOLE_0:def 1;
reconsider D223 = R1 as non  zero (Element of ( NAT )) by L1433;
reconsider D224 = ( R32 \/ { D223 } ) as  without_zero  finite (Subset of ( NAT ));
L1434: (not D223 in R32) by L1433 , XBOOLE_0:def 5;
L1435: ( card D224 ) = ( C97 + 1 ) by L1434 , L1430 , CARD_2:41;
L1436: D223 in R33 by L1433 , XBOOLE_0:def 5;
L1437: { D223 } c= R33 by L1436 , ZFMISC_1:31;
L1438: D224 c= R33 by L1437 , L1429 , XBOOLE_1:8;
consider R37 being  without_zero  finite (Subset of ( NAT )) such that L1439: R37 c= R36 and L1440: ( card D224 ) = ( card R37 ) and L1441: ( Det ( EqSegm (R31 , D224 , R37) ) ) <> ( 0. R18 ) by L1438 , L1428 , L1430 , L1434 , CARD_2:41;
set D225 = ( EqSegm (R31 , D224 , R37) );
L1442: ( D224 \ { D223 } ) = R32 by L1434 , ZFMISC_1:117;
L1443: D223 in { D223 } by TARSKI:def 1;
L1444: D223 in D224 by L1443 , XBOOLE_0:def 3;
L1445: (ex R11 being Nat st D224 c= ( Seg R11 )) by L1090;
L1446: ( dom ( Sgm D224 ) ) = ( Seg ( card D224 ) ) by L1445 , FINSEQ_3:40;
L1447: ( rng ( Sgm D224 ) ) = D224 by L1445 , FINSEQ_1:def 13;
consider C98 being set such that L1448: C98 in ( Seg ( card D224 ) ) and L1449: ( ( Sgm D224 ) . C98 ) = D223 by L1447 , L1446 , L1444 , FUNCT_1:def 3;
L1450: ( ( C97 + 1 ) -' 1 ) = ( ( C97 + 1 ) - 1 ) by XREAL_0:def 2;
reconsider D226 = C98 as (Element of ( NAT )) by L1448;
consider R7 being Nat such that L1451: R7 in ( Seg ( card D224 ) ) and L1452: ( Det ( Delete (D225 , D226 , R7) ) ) <> ( 0. R18 ) by L1441 , L1448 , L1407;
take D227 = ( R37 \ { ( ( Sgm R37 ) . R7 ) } );
L1453: D227 c= R37 by XBOOLE_1:36;
thus L1454: thesis by L1453 , L1430 , L1435 , L1439 , L1440 , L1448 , L1449 , L1451 , L1452 , L1442 , L1450 , L1380 , XBOOLE_1:1;
end;
L1455: S3[ ( card R33 ) ]
proof
let R32 being  without_zero  finite (Subset of ( NAT ));
assume that
L1456: R32 c= R33
and
L1457: ( card R32 ) = ( card R33 );
L1458: R32 = R33 by L1456 , L1457 , CARD_FIN:1;
thus L1459: thesis by L1458 , L1423 , L1425;
end;
L1460: (for B65 being (Element of ( NAT )) holds (B65 <= ( card R33 ) implies S3[ B65 ])) from PRE_POLY:sch 1(L1455 , L1426);
thus L1461: thesis by L1460 , L1424 , NAT_1:43;
end;
L1462: (for R7 being Nat holds (for R18 being Field holds (for R31 being (Matrix of R18) holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (for R35 being  without_zero  finite (Subset of ( NAT )) holds (for R6 being Nat holds ((R7 in ( Seg ( card R32 ) ) & ( Det ( EqSegm (R31 , R32 , R35) ) ) <> ( 0. R18 )) implies (ex R6 being Nat st (R6 in ( Seg ( card R32 ) ) & ( Det ( Delete (( EqSegm (R31 , R32 , R35) ) , R6 , R7) ) ) <> ( 0. R18 ))))))))))
proof
let R7 being Nat;
let R18 being Field;
let R31 being (Matrix of R18);
let R32 being  without_zero  finite (Subset of ( NAT ));
let R35 being  without_zero  finite (Subset of ( NAT ));
let R6 being Nat;
assume that
L1463: R7 in ( Seg ( card R32 ) )
and
L1464: ( Det ( EqSegm (R31 , R32 , R35) ) ) <> ( 0. R18 );
set D228 = ( card R32 );
set D229 = ( EqSegm (R31 , R32 , R35) );
set D230 = ( LaplaceExpC (D229 , R7) );
set D231 = ( D228 |-> ( 0. R18 ) );
L1465: ( Sum D231 ) = ( 0. R18 ) by MATRIX_3:11;
L1466: D230 <> D231 by L1465 , L1463 , L1464 , LAPLACE:27;
L1467: ( len D230 ) = D228 by LAPLACE:def 8;
L1468: ( dom D230 ) = ( Seg D228 ) by L1467 , FINSEQ_1:def 3;
L1469: ( dom D231 ) = ( Seg D228 ) by FUNCOP_1:13;
consider R6 being Nat such that L1470: R6 in ( dom D230 ) and L1471: ( D230 . R6 ) <> ( D231 . R6 ) by L1469 , L1466 , L1468 , FINSEQ_1:13;
L1472: ( D230 . R6 ) = ( ( D229 * (R6 , R7) ) * ( Cofactor (D229 , R6 , R7) ) ) by L1470 , LAPLACE:def 8;
L1473: ( D231 . R6 ) = ( 0. R18 ) by L1468 , L1470 , FINSEQ_2:57;
L1474: ( Cofactor (D229 , R6 , R7) ) <> ( 0. R18 ) by L1473 , L1471 , L1472 , VECTSP_1:12;
L1475: ( Minor (D229 , R6 , R7) ) <> ( 0. R18 ) by L1474 , VECTSP_1:12;
thus L1476: thesis by L1475 , L1468 , L1470;
end;
theorem
L1477: (for R18 being Field holds (for R31 being (Matrix of R18) holds (for R33 being  without_zero  finite (Subset of ( NAT )) holds (for R35 being  without_zero  finite (Subset of ( NAT )) holds (for R36 being  without_zero  finite (Subset of ( NAT )) holds ((( card R33 ) = ( card R36 ) & R35 c= R36 & ( Det ( EqSegm (R31 , R33 , R36) ) ) <> ( 0. R18 )) implies (ex R32 being  without_zero  finite (Subset of ( NAT )) st (R32 c= R33 & ( card R32 ) = ( card R35 ) & ( Det ( EqSegm (R31 , R32 , R35) ) ) <> ( 0. R18 )))))))))
proof
let R18 being Field;
let R31 being (Matrix of R18);
let R33 being  without_zero  finite (Subset of ( NAT ));
let R35 being  without_zero  finite (Subset of ( NAT ));
let R36 being  without_zero  finite (Subset of ( NAT ));
assume that
L1478: ( card R33 ) = ( card R36 )
and
L1479: R35 c= R36
and
L1480: ( Det ( EqSegm (R31 , R33 , R36) ) ) <> ( 0. R18 );
defpred S4[ Nat ] means (for R35 being  without_zero  finite (Subset of ( NAT )) holds ((R35 c= R36 & ( card R35 ) = $1) implies (ex R32 being  without_zero  finite (Subset of ( NAT )) st (R32 c= R33 & ( card R32 ) = ( card R35 ) & ( Det ( EqSegm (R31 , R32 , R35) ) ) <> ( 0. R18 )))));
L1481: (for B66 being (Element of ( NAT )) holds ((B66 < ( card R36 ) & S4[ ( B66 + 1 ) ]) implies S4[ B66 ]))
proof
let C99 being (Element of ( NAT ));
assume that
L1482: C99 < ( card R36 )
and
L1483: S4[ ( C99 + 1 ) ];
let R35 being  without_zero  finite (Subset of ( NAT ));
assume that
L1484: R35 c= R36
and
L1485: ( card R35 ) = C99;
L1486: R35 c< R36 by L1482 , L1484 , L1485 , XBOOLE_0:def 8;
L1487: ( R36 \ R35 ) <> ( {} ) by L1486 , XBOOLE_1:105;
consider R1 being set such that L1488: R1 in ( R36 \ R35 ) by L1487 , XBOOLE_0:def 1;
reconsider D232 = R1 as non  zero (Element of ( NAT )) by L1488;
reconsider D233 = ( R35 \/ { D232 } ) as  without_zero  finite (Subset of ( NAT ));
L1489: (not D232 in R35) by L1488 , XBOOLE_0:def 5;
L1490: ( card D233 ) = ( C99 + 1 ) by L1489 , L1485 , CARD_2:41;
L1491: D232 in R36 by L1488 , XBOOLE_0:def 5;
L1492: { D232 } c= R36 by L1491 , ZFMISC_1:31;
L1493: D233 c= R36 by L1492 , L1484 , XBOOLE_1:8;
consider R34 being  without_zero  finite (Subset of ( NAT )) such that L1494: R34 c= R33 and L1495: ( card D233 ) = ( card R34 ) and L1496: ( Det ( EqSegm (R31 , R34 , D233) ) ) <> ( 0. R18 ) by L1493 , L1483 , L1485 , L1489 , CARD_2:41;
L1497: ( ( C99 + 1 ) -' 1 ) = ( ( C99 + 1 ) - 1 ) by XREAL_0:def 2;
L1498: D232 in { D232 } by TARSKI:def 1;
L1499: D232 in D233 by L1498 , XBOOLE_0:def 3;
L1500: (ex R11 being Nat st D233 c= ( Seg R11 )) by L1090;
L1501: ( dom ( Sgm D233 ) ) = ( Seg ( card D233 ) ) by L1500 , FINSEQ_3:40;
L1502: ( rng ( Sgm D233 ) ) = D233 by L1500 , FINSEQ_1:def 13;
consider C100 being set such that L1503: C100 in ( Seg ( card D233 ) ) and L1504: ( ( Sgm D233 ) . C100 ) = D232 by L1502 , L1501 , L1499 , FUNCT_1:def 3;
set D234 = ( EqSegm (R31 , R34 , D233) );
reconsider D235 = C100 as (Element of ( NAT )) by L1503;
consider R6 being Nat such that L1505: R6 in ( Seg ( card D233 ) ) and L1506: ( Det ( Delete (D234 , R6 , D235) ) ) <> ( 0. R18 ) by L1495 , L1496 , L1503 , L1462;
take D236 = ( R34 \ { ( ( Sgm R34 ) . R6 ) } );
L1507: D236 c= R34 by XBOOLE_1:36;
L1508: ( D233 \ { D232 } ) = R35 by L1489 , ZFMISC_1:117;
L1509: ( card D236 ) = ( card R35 ) by L1508 , L1495 , L1503 , L1504 , L1505 , L1380;
thus L1510: thesis by L1509 , L1485 , L1490 , L1494 , L1495 , L1503 , L1504 , L1505 , L1506 , L1508 , L1507 , L1497 , L1380 , XBOOLE_1:1;
end;
L1511: S4[ ( card R36 ) ]
proof
let R35 being  without_zero  finite (Subset of ( NAT ));
assume that
L1512: R35 c= R36
and
L1513: ( card R35 ) = ( card R36 );
L1514: R35 = R36 by L1512 , L1513 , CARD_FIN:1;
thus L1515: thesis by L1514 , L1478 , L1480;
end;
L1516: (for B67 being (Element of ( NAT )) holds (B67 <= ( card R36 ) implies S4[ B67 ])) from PRE_POLY:sch 1(L1511 , L1481);
thus L1517: thesis by L1516 , L1479 , NAT_1:43;
end;
theorem
L1518: (for R5 being non  empty set holds (for R23 being (Matrix of R5) holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (for R35 being  without_zero  finite (Subset of ( NAT )) holds (( card R32 ) = ( card R35 ) implies ([: R32 , R35 :] c= ( Indices R23 ) iff (R32 c= ( Seg ( len R23 ) ) & R35 c= ( Seg ( width R23 ) ))))))))
proof
let R5 being non  empty set;
let R23 being (Matrix of R5);
let R32 being  without_zero  finite (Subset of ( NAT ));
let R35 being  without_zero  finite (Subset of ( NAT ));
L1519: ( Indices R23 ) = [: ( Seg ( len R23 ) ) , ( Seg ( width R23 ) ) :] by FINSEQ_1:def 3;
assume L1520: ( card R32 ) = ( card R35 );
thus L1521: ([: R32 , R35 :] c= ( Indices R23 ) implies (R32 c= ( Seg ( len R23 ) ) & R35 c= ( Seg ( width R23 ) )))
proof
assume L1522: [: R32 , R35 :] c= ( Indices R23 );
per cases ;
suppose L1523: [: R32 , R35 :] <> ( {} );

thus L1524: thesis by L1523 , L1519 , L1522 , ZFMISC_1:114;
end;
suppose L1525: [: R32 , R35 :] = ( {} );

L1526: R35 = ( {} ) by L1525 , L1520 , CARD_1:27 , ZFMISC_1:90;
L1527: R32 = ( {} ) by L1520 , L1525 , CARD_1:27 , ZFMISC_1:90;
thus L1528: thesis by L1527 , L1526 , XBOOLE_1:2;
end;
end;

thus L1530: thesis by L1519 , ZFMISC_1:96;
end;
theorem
L1531: (for R12 being Nat holds (for R13 being Nat holds (for R18 being Field holds (for R25 being (Matrix of R13 , R12 , R18) holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (for R35 being  without_zero  finite (Subset of ( NAT )) holds (for R6 being Nat holds (for R15 being non  zero Nat holds ((R15 in ( Seg R13 ) & R6 in R32 & (not R15 in R32) & ( card R32 ) = ( card R35 ) & [: R32 , R35 :] c= ( Indices R25 )) implies (( card R32 ) = ( card ( ( R32 \ { R6 } ) \/ { R15 } ) ) & [: ( ( R32 \ { R6 } ) \/ { R15 } ) , R35 :] c= ( Indices R25 ) & (( Det ( EqSegm (( RLine (R25 , R6 , ( Line (R25 , R15) )) ) , R32 , R35) ) ) = ( Det ( EqSegm (R25 , ( ( R32 \ { R6 } ) \/ { R15 } ) , R35) ) ) or ( Det ( EqSegm (( RLine (R25 , R6 , ( Line (R25 , R15) )) ) , R32 , R35) ) ) = ( - ( Det ( EqSegm (R25 , ( ( R32 \ { R6 } ) \/ { R15 } ) , R35) ) ) ))))))))))))
proof
let R12 being Nat;
let R13 being Nat;
let R18 being Field;
let R25 being (Matrix of R13 , R12 , R18);
let R32 being  without_zero  finite (Subset of ( NAT ));
let R35 being  without_zero  finite (Subset of ( NAT ));
let R6 being Nat;
let R15 being non  zero Nat;
assume that
L1532: R15 in ( Seg R13 )
and
L1533: R6 in R32
and
L1534: (not R15 in R32)
and
L1535: ( card R32 ) = ( card R35 )
and
L1536: [: R32 , R35 :] c= ( Indices R25 );
set D237 = ( R32 \ { R6 } );
L1537: D237 c= R32 by XBOOLE_1:36;
set D238 = ( Sgm R35 );
set D239 = ( D237 \/ { R15 } );
set D240 = ( Sgm D239 );
L1538: (ex R8 being Nat st D239 c= ( Seg R8 )) by L1090;
L1539: ( rng D240 ) = D239 by L1538 , FINSEQ_1:def 13;
L1540: ( card R32 ) > ( 0 ) by L1533;
reconsider D241 = ( ( card R32 ) - 1 ) as (Element of ( NAT )) by L1540 , NAT_1:20;
L1541: ( card R32 ) = ( D241 + 1 );
L1542: ( card D237 ) = D241 by L1541 , L1533 , STIRL2_1:55;
L1543: (not R15 in D237) by L1534 , XBOOLE_0:def 5;
thus L1544: ( card D239 ) = ( D241 + 1 ) by L1543 , L1542 , CARD_2:41
.= ( card R32 );
reconsider D242 = D240 , D243 = D238 as (Element of ( ( card R32 ) -tuples_on ( NAT ) )) by L1544 , L1535;
L1545: ( Segm (R25 , D242 , D243) ) = ( Segm (R25 , D239 , R35) ) by L1535 , L1544
.= ( EqSegm (R25 , D239 , R35) ) by L1535 , L1544 , L1378;
L1546: R32 c= ( Seg ( len R25 ) ) by L1535 , L1536 , L1518;
L1547: D237 c= ( Seg ( len R25 ) ) by L1546 , L1537 , XBOOLE_1:1;
L1548: R13 = ( len R25 ) by MATRIX_1:def 2;
L1549: { R15 } c= ( Seg ( len R25 ) ) by L1548 , L1532 , ZFMISC_1:31;
L1550: D239 c= ( Seg ( len R25 ) ) by L1549 , L1547 , XBOOLE_1:8;
set D244 = ( Sgm R32 );
L1551: (ex R10 being Nat st R35 c= ( Seg R10 )) by L1090;
L1552: ( rng D238 ) = R35 by L1551 , FINSEQ_1:def 13;
L1553: (ex R11 being Nat st R32 c= ( Seg R11 )) by L1090;
L1554: ( rng D244 ) = R32 by L1553 , FINSEQ_1:def 13;
consider C101 being (Element of ( ( card R32 ) -tuples_on ( NAT ) )) such that L1555: ( rng C101 ) = D239 and L1556: ( Segm (( RLine (R25 , R6 , ( Line (R25 , R15) )) ) , D244 , D238) ) = ( Segm (R25 , C101 , D238) ) by L1554 , L1533 , L1536 , L1552 , L944;
L1557: R35 c= ( Seg ( width R25 ) ) by L1535 , L1536 , L1518;
thus L1558: [: D239 , R35 :] c= ( Indices R25 ) by L1557 , L1535 , L1544 , L1550 , L1518;
L1559: ( EqSegm (( RLine (R25 , R6 , ( Line (R25 , R15) )) ) , R32 , R35) ) = ( Segm (( RLine (R25 , R6 , ( Line (R25 , R15) )) ) , R32 , R35) ) by L1535 , L1378
.= ( Segm (R25 , C101 , D243) ) by L1535 , L1556;
thus L1560: thesis by L1559 , L1544 , L1539 , L1552 , L1555 , L1545 , L856;
end;
theorem
L1561: (for R5 being non  empty set holds (for R23 being (Matrix of R5) holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (for R35 being  without_zero  finite (Subset of ( NAT )) holds (( card R32 ) = ( card R35 ) implies ([: R32 , R35 :] c= ( Indices R23 ) iff [: R35 , R32 :] c= ( Indices ( R23 @ ) )))))))
proof
let R5 being non  empty set;
let R23 being (Matrix of R5);
let R32 being  without_zero  finite (Subset of ( NAT ));
let R35 being  without_zero  finite (Subset of ( NAT ));
assume L1562: ( card R32 ) = ( card R35 );
per cases ;
suppose L1563: R35 = ( {} );

L1564: [: R35 , R32 :] = ( {} ) by L1563 , ZFMISC_1:90;
L1565: [: R32 , R35 :] = ( {} ) by L1563 , ZFMISC_1:90;
thus L1566: thesis by L1565 , L1564 , XBOOLE_1:2;
end;
suppose L1567: R35 <> ( {} );

thus L1568: ([: R32 , R35 :] c= ( Indices R23 ) implies [: R35 , R32 :] c= ( Indices ( R23 @ ) ))
proof
assume L1569: [: R32 , R35 :] c= ( Indices R23 );
L1570: R32 c= ( Seg ( len R23 ) ) by L1569 , L1562 , L1518;
L1571: R35 c= ( Seg ( width R23 ) ) by L1562 , L1569 , L1518;
L1572: ( width R23 ) <> ( 0 ) by L1571 , L1567;
L1573: ( len ( R23 @ ) ) = ( width R23 ) by L1572 , MATRIX_2:10;
L1574: ( len R23 ) = ( width ( R23 @ ) ) by L1572 , MATRIX_2:10;
thus L1575: thesis by L1574 , L1562 , L1571 , L1573 , L1570 , L1518;
end;

thus L1576: ([: R35 , R32 :] c= ( Indices ( R23 @ ) ) implies [: R32 , R35 :] c= ( Indices R23 ))
proof
assume L1577: [: R35 , R32 :] c= ( Indices ( R23 @ ) );
L1578: R35 c= ( Seg ( len ( R23 @ ) ) ) by L1577 , L1562 , L1518;
L1579: ( len ( R23 @ ) ) <> ( 0 ) by L1578 , L1567;
L1580: ( width R23 ) > ( 0 ) by L1579 , MATRIX_1:def 6;
L1581: ( len R23 ) = ( width ( R23 @ ) ) by L1580 , MATRIX_2:10;
L1582: ( len ( R23 @ ) ) = ( width R23 ) by MATRIX_1:def 6;
L1583: R32 c= ( Seg ( width ( R23 @ ) ) ) by L1562 , L1577 , L1518;
thus L1584: thesis by L1583 , L1562 , L1578 , L1581 , L1582 , L1518;
end;

end;
end;
theorem
L1578: (for R18 being Field holds (for R31 being (Matrix of R18) holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (for R35 being  without_zero  finite (Subset of ( NAT )) holds (([: R32 , R35 :] c= ( Indices R31 ) & ( card R32 ) = ( card R35 )) implies ( Det ( EqSegm (R31 , R32 , R35) ) ) = ( Det ( EqSegm (( R31 @ ) , R35 , R32) ) ))))))
proof
let R18 being Field;
let R31 being (Matrix of R18);
let R32 being  without_zero  finite (Subset of ( NAT ));
let R35 being  without_zero  finite (Subset of ( NAT ));
assume that
L1579: [: R32 , R35 :] c= ( Indices R31 )
and
L1580: ( card R32 ) = ( card R35 );
L1581: ( EqSegm (R31 , R32 , R35) ) = ( Segm (R31 , R32 , R35) ) by L1580 , L1378
.= ( ( Segm (( R31 @ ) , R35 , R32) ) @ ) by L1579 , L1580 , L1362
.= ( ( EqSegm (( R31 @ ) , R35 , R32) ) @ ) by L1580 , L1378;
thus L1582: thesis by L1581 , L1580 , MATRIXR2:43;
end;
theorem
L1583: (for R11 being Nat holds (for R18 being Field holds (for R19 being (Element of R18) holds (for B68 being (Matrix of R11 , R18) holds ( Det ( R19 * B68 ) ) = ( ( ( power R18 ) . (R19 , R11) ) * ( Det B68 ) )))))
proof
let R11 being Nat;
let R18 being Field;
let R19 being (Element of R18);
let C102 being (Matrix of R11 , R18);
defpred S5[ Nat ] means (for R8 being Nat holds ((R8 = $1 & R8 <= R11) implies (ex B69 being (Matrix of R11 , R18) st (( Det B69 ) = ( ( ( power R18 ) . (R19 , R8) ) * ( Det C102 ) ) & (for R6 being Nat holds (R6 in ( Seg R11 ) implies ((R6 <= R8 implies ( Line (B69 , R6) ) = ( R19 * ( Line (C102 , R6) ) )) & (R6 > R8 implies ( Line (B69 , R6) ) = ( Line (C102 , R6) )))))))));
L1584: (for R10 being Nat holds (S5[ R10 ] implies S5[ ( R10 + 1 ) ]))
proof
let R10 being Nat;
assume that
L1585: S5[ R10 ];
L1586: R10 in ( NAT ) by ORDINAL1:def 12;
let R8 being Nat;
assume that
L1587: R8 = ( R10 + 1 )
and
L1588: R8 <= R11;
L1589: R10 <= R11 by L1587 , L1588 , NAT_1:13;
consider C103 being (Matrix of R11 , R18) such that L1590: ( Det C103 ) = ( ( ( power R18 ) . (R19 , R10) ) * ( Det C102 ) ) and L1591: (for R6 being Nat holds (R6 in ( Seg R11 ) implies ((R6 <= R10 implies ( Line (C103 , R6) ) = ( R19 * ( Line (C102 , R6) ) )) & (R6 > R10 implies ( Line (C103 , R6) ) = ( Line (C102 , R6) ))))) by L1589 , L1585;
take D245 = ( RLine (C103 , R8 , ( R19 * ( Line (C103 , R8) ) )) );
L1592: ( ( 0 ) + 1 ) <= R8 by L1587 , XREAL_1:7;
L1593: R8 in ( Seg R11 ) by L1592 , L1587 , L1588;
thus L1594: ( Det D245 ) = ( R19 * ( ( ( power R18 ) . (R19 , R10) ) * ( Det C102 ) ) ) by L1593 , L1590 , MATRIX11:35
.= ( ( ( ( power R18 ) . (R19 , R10) ) * R19 ) * ( Det C102 ) ) by GROUP_1:def 3
.= ( ( ( power R18 ) . (R19 , R8) ) * ( Det C102 ) ) by L1587 , L1586 , GROUP_1:def 7;
let R6 being Nat;
assume that
L1595: R6 in ( Seg R11 );
per cases  by XXREAL_0:1;
suppose L1596: (R6 < R8 or R6 > R8);

L1597: ((R6 <= R10 & R6 < R8) or (R6 > R10 & R6 > R8)) by L1596 , L1587 , NAT_1:13;
L1598: ( Line (D245 , R6) ) = ( Line (C103 , R6) ) by L1595 , L1596 , MATRIX11:28;
thus L1599: thesis by L1598 , L1591 , L1595 , L1597;
end;
suppose L1600: R6 = R8;

L1601: ( len ( R19 * ( Line (C103 , R8) ) ) ) = ( len ( Line (C103 , R8) ) ) by MATRIXR1:16
.= ( width C103 ) by MATRIX_1:def 7;
L1602: ( Line (D245 , R6) ) = ( R19 * ( Line (C103 , R8) ) ) by L1601 , L1595 , L1600 , MATRIX11:28;
L1603: R6 > R10 by L1587 , L1600 , NAT_1:13;
thus L1604: thesis by L1603 , L1591 , L1595 , L1600 , L1602;
end;
end;
L1606: S5[ ( 0 ) ]
proof
let R8 being Nat;
assume that
L1607: R8 = ( 0 )
and
L1608: R8 <= R11;
take D246 = C102;
L1609: ( ( power R18 ) . (R19 , ( 0 )) ) = ( 1_ R18 ) by GROUP_1:def 7;
thus L1610: ( Det D246 ) = ( ( ( power R18 ) . (R19 , R8) ) * ( Det C102 ) ) by L1609 , L1607 , VECTSP_1:def 8;
let R6 being Nat;
assume L1611: R6 in ( Seg R11 );
thus L1612: thesis by L1611 , L1607;
end;
L1613: (for R10 being Nat holds S5[ R10 ]) from NAT_1:sch 2(L1606 , L1584);
consider C104 being (Matrix of R11 , R18) such that L1614: ( Det C104 ) = ( ( ( power R18 ) . (R19 , R11) ) * ( Det C102 ) ) and L1615: (for R6 being Nat holds (R6 in ( Seg R11 ) implies ((R6 <= R11 implies ( Line (C104 , R6) ) = ( R19 * ( Line (C102 , R6) ) )) & (R6 > R11 implies ( Line (C104 , R6) ) = ( Line (C102 , R6) ))))) by L1613;
set D247 = ( R19 * C102 );
L1616: ( len D247 ) = R11 by MATRIX_1:def 2;
L1617: ( len C102 ) = R11 by MATRIX_1:def 2;
L1618:
now
let R6 being Nat;
assume that
L1619: 1 <= R6
and
L1620: R6 <= R11;
L1621: R6 in ( NAT ) by ORDINAL1:def 12;
L1622: R6 in ( Seg R11 ) by L1621 , L1619 , L1620;
thus L1623: ( C104 . R6 ) = ( Line (C104 , R6) ) by L1622 , MATRIX_2:8
.= ( R19 * ( Line (C102 , R6) ) ) by L1615 , L1620 , L1622
.= ( Line (D247 , R6) ) by L1617 , L1619 , L1620 , MATRIXR1:20
.= ( D247 . R6 ) by L1622 , MATRIX_2:8;
end;
L1624: ( len C104 ) = R11 by MATRIX_1:def 2;
thus L1625: thesis by L1624 , L1614 , L1616 , L1618 , FINSEQ_1:14;
end;
theorem
L1626: (for R18 being Field holds (for R19 being (Element of R18) holds (for R31 being (Matrix of R18) holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (for R35 being  without_zero  finite (Subset of ( NAT )) holds (([: R32 , R35 :] c= ( Indices R31 ) & ( card R32 ) = ( card R35 )) implies ( Det ( EqSegm (( R19 * R31 ) , R32 , R35) ) ) = ( ( ( power R18 ) . (R19 , ( card R32 )) ) * ( Det ( EqSegm (R31 , R32 , R35) ) ) )))))))
proof
let R18 being Field;
let R19 being (Element of R18);
let R31 being (Matrix of R18);
let R32 being  without_zero  finite (Subset of ( NAT ));
let R35 being  without_zero  finite (Subset of ( NAT ));
assume that
L1627: [: R32 , R35 :] c= ( Indices R31 )
and
L1628: ( card R32 ) = ( card R35 );
L1629: ( EqSegm (( R19 * R31 ) , R32 , R35) ) = ( Segm (( R19 * R31 ) , R32 , R35) ) by L1628 , L1378
.= ( R19 * ( Segm (R31 , R32 , R35) ) ) by L1627 , L1370
.= ( R19 * ( EqSegm (R31 , R32 , R35) ) ) by L1628 , L1378;
thus L1630: thesis by L1629 , L1583;
end;
definition
let C105 being Field;
let C106 being (Matrix of C105);
func the_rank_of C106 -> (Element of ( NAT )) means 
:L1631: ((ex R32 being  without_zero  finite (Subset of ( NAT )) st (ex R35 being  without_zero  finite (Subset of ( NAT )) st ([: R32 , R35 :] c= ( Indices C106 ) & ( card R32 ) = ( card R35 ) & ( card R32 ) = it & ( Det ( EqSegm (C106 , R32 , R35) ) ) <> ( 0. C105 )))) & (for R33 being  without_zero  finite (Subset of ( NAT )) holds (for R36 being  without_zero  finite (Subset of ( NAT )) holds (([: R33 , R36 :] c= ( Indices C106 ) & ( card R33 ) = ( card R36 ) & ( Det ( EqSegm (C106 , R33 , R36) ) ) <> ( 0. C105 )) implies ( card R33 ) <= it))));
existence
proof
defpred S6[ Nat ] means (ex R32 being  without_zero  finite (Subset of ( NAT )) st (ex R35 being  without_zero  finite (Subset of ( NAT )) st ([: R32 , R35 :] c= ( Indices C106 ) & ( card R32 ) = ( card R35 ) & ( card R35 ) = $1 & ( Det ( EqSegm (C106 , R32 , R35) ) ) <> ( 0. C105 ))));
L1632: (ex B70 being Nat st S6[ B70 ])
proof
set D248 = the  empty  finite  without_zero (Subset of ( NAT ));
reconsider D249 = D248 as  finite  without_zero (Subset of ( NAT ));
take ( card D249 );
take D249;
take D249;
L1633: D249 c= ( Seg ( len C106 ) ) by XBOOLE_1:2;
L1634: D249 c= ( Seg ( width C106 ) ) by XBOOLE_1:2;
L1635: ( Det ( EqSegm (C106 , D249 , D249) ) ) = ( 1_ C105 ) by CARD_1:27 , MATRIXR2:41;
thus L1636: thesis by L1635 , L1633 , L1634 , L1518;
end;
L1637: (for B71 being Nat holds (S6[ B71 ] implies B71 <= ( len C106 )))
proof
let C107 being Nat;
L1638: ( card ( Seg ( len C106 ) ) ) = ( len C106 ) by FINSEQ_1:57;
assume L1639: S6[ C107 ];
consider R32 being  without_zero  finite (Subset of ( NAT )), R35 being  without_zero  finite (Subset of ( NAT )) such that L1640: [: R32 , R35 :] c= ( Indices C106 ) and L1641: ( card R32 ) = ( card R35 ) and L1642: ( card R35 ) = C107 and L1643: ( Det ( EqSegm (C106 , R32 , R35) ) ) <> ( 0. C105 ) by L1639;
L1644: R32 c= ( Seg ( len C106 ) ) by L1640 , L1641 , L1518;
thus L1645: thesis by L1644 , L1641 , L1642 , L1638 , NAT_1:43;
end;
consider C108 being Nat such that L1646: S6[ C108 ] and L1647: (for B72 being Nat holds (S6[ B72 ] implies B72 <= C108)) from NAT_1:sch 6(L1637 , L1632);
take C108;
thus L1648: thesis by L1646 , L1647;
end;
uniqueness
proof
let C109 , C110 being (Element of ( NAT ));
assume that
L1649: (ex R32 being  without_zero  finite (Subset of ( NAT )) st (ex R35 being  without_zero  finite (Subset of ( NAT )) st ([: R32 , R35 :] c= ( Indices C106 ) & ( card R32 ) = ( card R35 ) & ( card R32 ) = C109 & ( Det ( EqSegm (C106 , R32 , R35) ) ) <> ( 0. C105 ))))
and
L1650: (for R33 being  without_zero  finite (Subset of ( NAT )) holds (for R36 being  without_zero  finite (Subset of ( NAT )) holds (([: R33 , R36 :] c= ( Indices C106 ) & ( card R33 ) = ( card R36 ) & ( Det ( EqSegm (C106 , R33 , R36) ) ) <> ( 0. C105 )) implies ( card R33 ) <= C109)))
and
L1651: (ex R32 being  without_zero  finite (Subset of ( NAT )) st (ex R35 being  without_zero  finite (Subset of ( NAT )) st ([: R32 , R35 :] c= ( Indices C106 ) & ( card R32 ) = ( card R35 ) & ( card R32 ) = C110 & ( Det ( EqSegm (C106 , R32 , R35) ) ) <> ( 0. C105 ))))
and
L1652: (for R33 being  without_zero  finite (Subset of ( NAT )) holds (for R36 being  without_zero  finite (Subset of ( NAT )) holds (([: R33 , R36 :] c= ( Indices C106 ) & ( card R33 ) = ( card R36 ) & ( Det ( EqSegm (C106 , R33 , R36) ) ) <> ( 0. C105 )) implies ( card R33 ) <= C110)));
L1653: C110 <= C109 by L1650 , L1651;
L1654: C109 <= C110 by L1649 , L1652;
thus L1655: thesis by L1654 , L1653 , XXREAL_0:1;
end;
end;
theorem
L1657: (for R18 being Field holds (for R31 being (Matrix of R18) holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (for R35 being  without_zero  finite (Subset of ( NAT )) holds (([: R32 , R35 :] c= ( Indices R31 ) & ( card R32 ) = ( card R35 )) implies (( card R32 ) <= ( len R31 ) & ( card R35 ) <= ( width R31 )))))))
proof
let R18 being Field;
let R31 being (Matrix of R18);
let R32 being  without_zero  finite (Subset of ( NAT ));
let R35 being  without_zero  finite (Subset of ( NAT ));
assume that
L1658: [: R32 , R35 :] c= ( Indices R31 )
and
L1659: ( card R32 ) = ( card R35 );
L1660: R35 c= ( Seg ( width R31 ) ) by L1658 , L1659 , L1518;
L1661: ( card R35 ) <= ( card ( Seg ( width R31 ) ) ) by L1660 , NAT_1:43;
L1662: R32 c= ( Seg ( len R31 ) ) by L1658 , L1659 , L1518;
L1663: ( card R32 ) <= ( card ( Seg ( len R31 ) ) ) by L1662 , NAT_1:43;
thus L1664: thesis by L1663 , L1661 , FINSEQ_1:57;
end;
theorem
L1665: (for R18 being Field holds (for R31 being (Matrix of R18) holds (( the_rank_of R31 ) <= ( len R31 ) & ( the_rank_of R31 ) <= ( width R31 ))))
proof
let R18 being Field;
let R31 being (Matrix of R18);
L1666: (ex R32 being  without_zero  finite (Subset of ( NAT )) st (ex R35 being  without_zero  finite (Subset of ( NAT )) st ([: R32 , R35 :] c= ( Indices R31 ) & ( card R32 ) = ( card R35 ) & ( card R32 ) = ( the_rank_of R31 ) & ( Det ( EqSegm (R31 , R32 , R35) ) ) <> ( 0. R18 )))) by L1631;
thus L1667: thesis by L1666 , L1657;
end;
L1668: (for R10 being Nat holds (for R11 being Nat holds (for R18 being Field holds (for R26 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R29 being (Element of ( R10 -tuples_on ( NAT ) )) holds (for R31 being (Matrix of R18) holds (([: ( rng R26 ) , ( rng R29 ) :] c= ( Indices R31 ) & (R11 = ( 0 ) iff R10 = ( 0 ))) implies (ex R33 being  without_zero  finite (Subset of ( NAT )) st (ex R34 being  without_zero  finite (Subset of ( NAT )) st (R33 = ( rng R26 ) & R34 = ( rng R29 )))))))))))
proof
let R10 being Nat;
let R11 being Nat;
let R18 being Field;
let R26 being (Element of ( R11 -tuples_on ( NAT ) ));
let R29 being (Element of ( R10 -tuples_on ( NAT ) ));
let R31 being (Matrix of R18);
assume that
L1669: [: ( rng R26 ) , ( rng R29 ) :] c= ( Indices R31 )
and
L1670: (R11 = ( 0 ) iff R10 = ( 0 ));
L1671: ( rng R26 ) is  without_zero
proof
L1672: ( Indices R31 ) = [: ( Seg ( len R31 ) ) , ( Seg ( width R31 ) ) :] by FINSEQ_1:def 3;
assume L1673: ( 0 ) in ( rng R26 );
L1674: ( dom R29 ) = ( Seg R10 ) by FINSEQ_2:124;
L1675: ( rng R29 ) <> ( {} ) by L1674 , L1670 , L1673 , RELAT_1:42;
L1676: ( rng R26 ) c= ( Seg ( len R31 ) ) by L1675 , L1669 , L1673 , L1672 , ZFMISC_1:114;
thus L1677: thesis by L1676 , L1673;
end;
L1678: ( rng R26 ) is  finite  without_zero  finite  without_zero  finite  without_zero  finite  without_zero (Subset of ( NAT )) by L1671 , FINSEQ_1:def 4;
L1679: ( rng R29 ) is  without_zero
proof
assume L1680: ( 0 ) in ( rng R29 );
L1681: ( dom R26 ) = ( Seg R11 ) by FINSEQ_2:124;
L1682: ( rng R26 ) <> ( {} ) by L1681 , L1670 , L1680 , RELAT_1:42;
L1683: ( rng R29 ) c= ( Seg ( width R31 ) ) by L1682 , L1669 , L1680 , ZFMISC_1:114;
thus L1684: thesis by L1683 , L1680;
end;
L1685: ( rng R29 ) is  finite  without_zero  finite  without_zero  finite  without_zero  finite  without_zero (Subset of ( NAT )) by L1679 , FINSEQ_1:def 4;
thus L1686: thesis by L1685 , L1678;
end;
theorem
L1687: (for R11 being Nat holds (for R18 being Field holds (for R27 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R28 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R31 being (Matrix of R18) holds (([: ( rng R27 ) , ( rng R28 ) :] c= ( Indices R31 ) & ( Det ( Segm (R31 , R27 , R28) ) ) <> ( 0. R18 )) implies (ex R33 being  without_zero  finite (Subset of ( NAT )) st (ex R34 being  without_zero  finite (Subset of ( NAT )) st (R33 = ( rng R27 ) & R34 = ( rng R28 ) & ( card R33 ) = ( card R34 ) & ( card R33 ) = R11 & ( Det ( EqSegm (R31 , R33 , R34) ) ) <> ( 0. R18 ))))))))))
proof
let R11 being Nat;
let R18 being Field;
let R27 being (Element of ( R11 -tuples_on ( NAT ) ));
let R28 being (Element of ( R11 -tuples_on ( NAT ) ));
let R31 being (Matrix of R18);
assume that
L1688: [: ( rng R27 ) , ( rng R28 ) :] c= ( Indices R31 )
and
L1689: ( Det ( Segm (R31 , R27 , R28) ) ) <> ( 0. R18 );
L1690: (R11 = ( 0 ) iff R11 = ( 0 ));
consider R33 being  without_zero  finite (Subset of ( NAT )), R34 being  without_zero  finite (Subset of ( NAT )) such that L1691: R33 = ( rng R27 ) and L1692: R34 = ( rng R28 ) by L1690 , L1688 , L1668;
L1693: R28 is  one-to-one by L1689 , L764;
L1694: ( card R34 ) = ( len R28 ) by L1693 , L1692 , FINSEQ_4:62;
L1695: R27 is  one-to-one by L1689 , L689;
L1696: ( card R33 ) = ( len R27 ) by L1695 , L1691 , FINSEQ_4:62;
reconsider D250 = ( Sgm R33 ) , D251 = ( Sgm R34 ) as (Element of ( R11 -tuples_on ( NAT ) )) by L1696 , L1694 , CARD_1:def 7;
L1697: (ex R10 being Nat st R34 c= ( Seg R10 )) by L1090;
L1698: ( rng D251 ) = R34 by L1697 , FINSEQ_1:def 13;
L1699: (ex R8 being Nat st R33 c= ( Seg R8 )) by L1090;
L1700: ( rng D250 ) = R33 by L1699 , FINSEQ_1:def 13;
L1701: (( Det ( Segm (R31 , R27 , R28) ) ) = ( Det ( Segm (R31 , D250 , D251) ) ) or ( - ( Det ( Segm (R31 , R27 , R28) ) ) ) = ( Det ( Segm (R31 , D250 , D251) ) )) by L1700 , L1691 , L1692 , L1698 , L856;
L1702: ( len R27 ) = R11 by CARD_1:def 7;
L1703: ( len R28 ) = R11 by CARD_1:def 7;
L1704: ( Segm (R31 , ( Sgm R33 ) , ( Sgm R34 )) ) = ( Segm (R31 , R33 , R34) )
.= ( EqSegm (R31 , R33 , R34) ) by L1696 , L1694 , L1702 , L1703 , L1378;
thus L1705: thesis by L1704 , L1689 , L1691 , L1692 , L1696 , L1694 , L1702 , L1703 , L1701 , VECTSP_1:28;
end;
theorem
L1706: (for R18 being Field holds (for R31 being (Matrix of R18) holds (for B73 being (Element of ( NAT )) holds (( the_rank_of R31 ) = B73 iff ((ex B74 , B75 being (Element of ( B73 -tuples_on ( NAT ) )) st ([: ( rng B74 ) , ( rng B75 ) :] c= ( Indices R31 ) & ( Det ( Segm (R31 , B74 , B75) ) ) <> ( 0. R18 ))) & (for R11 being Nat holds (for R27 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R28 being (Element of ( R11 -tuples_on ( NAT ) )) holds (([: ( rng R27 ) , ( rng R28 ) :] c= ( Indices R31 ) & ( Det ( Segm (R31 , R27 , R28) ) ) <> ( 0. R18 )) implies R11 <= B73)))))))))
proof
let R18 being Field;
let R31 being (Matrix of R18);
let C111 being (Element of ( NAT ));
thus L1707: (( the_rank_of R31 ) = C111 implies ((ex B76 , B77 being (Element of ( C111 -tuples_on ( NAT ) )) st ([: ( rng B76 ) , ( rng B77 ) :] c= ( Indices R31 ) & ( Det ( Segm (R31 , B76 , B77) ) ) <> ( 0. R18 ))) & (for R11 being Nat holds (for R27 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R28 being (Element of ( R11 -tuples_on ( NAT ) )) holds (([: ( rng R27 ) , ( rng R28 ) :] c= ( Indices R31 ) & ( Det ( Segm (R31 , R27 , R28) ) ) <> ( 0. R18 )) implies R11 <= C111))))))
proof
assume L1708: ( the_rank_of R31 ) = C111;
consider R32 being  without_zero  finite (Subset of ( NAT )), R35 being  without_zero  finite (Subset of ( NAT )) such that L1709: [: R32 , R35 :] c= ( Indices R31 ) and L1710: ( card R32 ) = ( card R35 ) and L1711: ( card R32 ) = C111 and L1712: ( Det ( EqSegm (R31 , R32 , R35) ) ) <> ( 0. R18 ) by L1708 , L1631;
reconsider D252 = ( Sgm R32 ) , D253 = ( Sgm R35 ) as (Element of ( C111 -tuples_on ( NAT ) )) by L1710 , L1711;
L1713: (ex R8 being Nat st R32 c= ( Seg R8 )) by L1090;
L1714: ( rng D252 ) = R32 by L1713 , FINSEQ_1:def 13;
L1715: (ex R10 being Nat st R35 c= ( Seg R10 )) by L1090;
L1716: ( rng D253 ) = R35 by L1715 , FINSEQ_1:def 13;
L1717: ( EqSegm (R31 , R32 , R35) ) = ( Segm (R31 , R32 , R35) ) by L1710 , L1378
.= ( Segm (R31 , ( Sgm R32 ) , ( Sgm R35 )) );
thus L1718: (ex B78 , B79 being (Element of ( C111 -tuples_on ( NAT ) )) st ([: ( rng B78 ) , ( rng B79 ) :] c= ( Indices R31 ) & ( Det ( Segm (R31 , B78 , B79) ) ) <> ( 0. R18 ))) by L1717 , L1709 , L1710 , L1711 , L1712 , L1714 , L1716;
let R11 being Nat;
let R27 being (Element of ( R11 -tuples_on ( NAT ) ));
let R28 being (Element of ( R11 -tuples_on ( NAT ) ));
assume that
L1719: [: ( rng R27 ) , ( rng R28 ) :] c= ( Indices R31 )
and
L1720: ( Det ( Segm (R31 , R27 , R28) ) ) <> ( 0. R18 );
L1721: (ex R33 being  without_zero  finite (Subset of ( NAT )) st (ex R34 being  without_zero  finite (Subset of ( NAT )) st (R33 = ( rng R27 ) & R34 = ( rng R28 ) & ( card R33 ) = ( card R34 ) & ( card R33 ) = R11 & ( Det ( EqSegm (R31 , R33 , R34) ) ) <> ( 0. R18 )))) by L1719 , L1720 , L1687;
thus L1722: thesis by L1721 , L1708 , L1719 , L1631;
end;

assume that
L1723: (ex B80 , B81 being (Element of ( C111 -tuples_on ( NAT ) )) st ([: ( rng B80 ) , ( rng B81 ) :] c= ( Indices R31 ) & ( Det ( Segm (R31 , B80 , B81) ) ) <> ( 0. R18 )))
and
L1724: (for R11 being Nat holds (for R27 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R28 being (Element of ( R11 -tuples_on ( NAT ) )) holds (([: ( rng R27 ) , ( rng R28 ) :] c= ( Indices R31 ) & ( Det ( Segm (R31 , R27 , R28) ) ) <> ( 0. R18 )) implies R11 <= C111))));
consider C112 , C113 being (Element of ( C111 -tuples_on ( NAT ) )) such that L1725: [: ( rng C112 ) , ( rng C113 ) :] c= ( Indices R31 ) and L1726: ( Det ( Segm (R31 , C112 , C113) ) ) <> ( 0. R18 ) by L1723;
consider R32 being  without_zero  finite (Subset of ( NAT )), R35 being  without_zero  finite (Subset of ( NAT )) such that L1727: [: R32 , R35 :] c= ( Indices R31 ) and L1728: ( card R32 ) = ( card R35 ) and L1729: ( card R32 ) = ( the_rank_of R31 ) and L1730: ( Det ( EqSegm (R31 , R32 , R35) ) ) <> ( 0. R18 ) by L1631;
L1731: (ex R33 being  without_zero  finite (Subset of ( NAT )) st (ex R34 being  without_zero  finite (Subset of ( NAT )) st (R33 = ( rng C112 ) & R34 = ( rng C113 ) & ( card R33 ) = ( card R34 ) & ( card R33 ) = C111 & ( Det ( EqSegm (R31 , R33 , R34) ) ) <> ( 0. R18 )))) by L1725 , L1726 , L1687;
L1732: C111 <= ( card R32 ) by L1731 , L1725 , L1729 , L1631;
reconsider D254 = ( Sgm R32 ) , D255 = ( Sgm R35 ) as (Element of ( ( card R32 ) -tuples_on ( NAT ) )) by L1728;
L1733: (ex R8 being Nat st R32 c= ( Seg R8 )) by L1090;
L1734: ( rng D254 ) = R32 by L1733 , FINSEQ_1:def 13;
L1735: (ex R10 being Nat st R35 c= ( Seg R10 )) by L1090;
L1736: ( rng D255 ) = R35 by L1735 , FINSEQ_1:def 13;
L1737: ( EqSegm (R31 , R32 , R35) ) = ( Segm (R31 , R32 , R35) ) by L1728 , L1378
.= ( Segm (R31 , ( Sgm R32 ) , ( Sgm R35 )) );
L1738: ( card R32 ) <= C111 by L1737 , L1724 , L1727 , L1728 , L1730 , L1734 , L1736;
thus L1739: thesis by L1738 , L1729 , L1732 , XXREAL_0:1;
end;
theorem
L1740: (for R10 being Nat holds (for R11 being Nat holds (for R18 being Field holds (for R26 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R29 being (Element of ( R10 -tuples_on ( NAT ) )) holds (for R31 being (Matrix of R18) holds ((R11 = ( 0 ) or R10 = ( 0 )) implies ( the_rank_of ( Segm (R31 , R26 , R29) ) ) = ( 0 ))))))))
proof
let R10 being Nat;
let R11 being Nat;
let R18 being Field;
let R26 being (Element of ( R11 -tuples_on ( NAT ) ));
let R29 being (Element of ( R10 -tuples_on ( NAT ) ));
let R31 being (Matrix of R18);
set D256 = ( Segm (R31 , R26 , R29) );
assume L1741: (R11 = ( 0 ) or R10 = ( 0 ));
L1742: (( len D256 ) = ( 0 ) or ( width D256 ) = ( 0 )) by L1741 , L1 , MATRIX_1:def 2;
thus L1743: thesis by L1742 , L1665;
end;
theorem
L1744: (for R10 being Nat holds (for R11 being Nat holds (for R18 being Field holds (for R26 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R29 being (Element of ( R10 -tuples_on ( NAT ) )) holds (for R31 being (Matrix of R18) holds ([: ( rng R26 ) , ( rng R29 ) :] c= ( Indices R31 ) implies ( the_rank_of R31 ) >= ( the_rank_of ( Segm (R31 , R26 , R29) ) ))))))))
proof
let R10 being Nat;
let R11 being Nat;
let R18 being Field;
let R26 being (Element of ( R11 -tuples_on ( NAT ) ));
let R29 being (Element of ( R10 -tuples_on ( NAT ) ));
let R31 being (Matrix of R18);
assume L1745: [: ( rng R26 ) , ( rng R29 ) :] c= ( Indices R31 );
per cases ;
suppose L1746: (R11 = ( 0 ) or R10 = ( 0 ));

thus L1747: thesis by L1746 , L1740;
end;
suppose L1748: (R11 > ( 0 ) & R10 > ( 0 ));

L1749: ( dom R29 ) = ( Seg R10 ) by FINSEQ_2:124;
L1750: ( dom R26 ) = ( Seg R11 ) by FINSEQ_2:124;
set D257 = ( Segm (R31 , R26 , R29) );
set D258 = ( the_rank_of D257 );
consider C114 , C115 being (Element of ( D258 -tuples_on ( NAT ) )) such that L1751: [: ( rng C114 ) , ( rng C115 ) :] c= ( Indices D257 ) and L1752: ( Det ( Segm (D257 , C114 , C115) ) ) <> ( 0. R18 ) by L1706;
set D259 = ( R29 * C115 );
L1753: (ex B82 , B83 being  finite  without_zero (Subset of ( NAT )) st (B82 = ( rng C114 ) & B83 = ( rng C115 ) & ( card B82 ) = ( card B83 ) & ( card B82 ) = D258 & ( Det ( EqSegm (D257 , B82 , B83) ) ) <> ( 0. R18 ))) by L1751 , L1752 , L1687;
set D260 = ( R26 * C114 );
L1754: ( rng D259 ) c= ( rng R29 ) by RELAT_1:26;
L1755: ( len D257 ) = R11 by L1748 , L1;
L1756: ( rng C114 ) c= ( dom R26 ) by L1755 , L1751 , L1753 , L1750 , L1518;
L1757: ( dom D260 ) = ( dom C114 ) by L1756 , RELAT_1:27;
L1758: ( dom D260 ) = ( Seg D258 ) by L1757 , FINSEQ_2:124;
L1759: ( width D257 ) = R10 by L1748 , L1;
L1760: ( rng C115 ) c= ( dom R29 ) by L1759 , L1751 , L1753 , L1749 , L1518;
L1761: ( dom D259 ) = ( dom C115 ) by L1760 , RELAT_1:27;
L1762: ( dom D259 ) = ( Seg D258 ) by L1761 , FINSEQ_2:124;
L1763: ( rng R29 ) c= ( NAT ) by FINSEQ_1:def 4;
L1764: ( rng D259 ) c= ( NAT ) by L1763 , L1754 , XBOOLE_1:1;
set D261 = ( Segm (D257 , C114 , C115) );
L1765: ( rng D260 ) c= ( rng R26 ) by RELAT_1:26;
L1766: ( rng R26 ) c= ( NAT ) by FINSEQ_1:def 4;
L1767: ( rng D260 ) c= ( NAT ) by L1766 , L1765 , XBOOLE_1:1;
reconsider D262 = D260 , D263 = D259 as FinSequence by L1756 , L1760 , FINSEQ_1:16;
reconsider D264 = D262 , D265 = D263 as (FinSequence of ( NAT )) by L1767 , L1764 , FINSEQ_1:def 4;
L1768: ( len D264 ) = D258 by L1758 , FINSEQ_1:def 3;
L1769: ( len D265 ) = D258 by L1762 , FINSEQ_1:def 3;
reconsider D266 = D264 , D267 = D265 as (Element of ( D258 -tuples_on ( NAT ) )) by L1769 , L1768 , FINSEQ_2:92;
set D268 = ( Segm (R31 , D266 , D267) );
L1770:
now
let R6 being Nat;
let R7 being Nat;
assume that
L1771: [ R6 , R7 ] in ( Indices D261 );
reconsider D269 = R6 , D270 = R7 , D271 = ( C114 . R6 ) , D272 = ( C115 . R7 ) as (Element of ( NAT )) by ORDINAL1:def 12;
L1772: [ ( C114 . D269 ) , ( C115 . D270 ) ] in ( Indices D257 ) by L1751 , L1771 , L515;
L1773: ( Indices D261 ) = [: ( dom D266 ) , ( dom D267 ) :] by L1758 , L1762 , MATRIX_1:24;
L1774: R6 in ( dom D266 ) by L1773 , L1771 , ZFMISC_1:87;
L1775: R7 in ( dom D267 ) by L1771 , L1773 , ZFMISC_1:87;
L1776: [ R6 , R7 ] in ( Indices D268 ) by L1771 , MATRIX_1:26;
thus L1777: ( D268 * (R6 , R7) ) = ( R31 * (( D266 . D269 ) , ( D267 . D270 )) ) by L1776 , L502
.= ( R31 * (( R26 . D271 ) , ( D267 . D270 )) ) by L1774 , FUNCT_1:12
.= ( R31 * (( R26 . D271 ) , ( R29 . D272 )) ) by L1775 , FUNCT_1:12
.= ( D257 * (( C114 . D269 ) , ( C115 . D270 )) ) by L1772 , L502
.= ( D261 * (R6 , R7) ) by L1771 , L502;
end;
L1778: D261 = D268 by L1770 , MATRIX_1:27;
L1779: [: ( rng D266 ) , ( rng D267 ) :] c= [: ( rng R26 ) , ( rng R29 ) :] by L1765 , L1754 , ZFMISC_1:96;
L1780: [: ( rng D266 ) , ( rng D267 ) :] c= ( Indices R31 ) by L1779 , L1745 , XBOOLE_1:1;
thus L1781: thesis by L1780 , L1752 , L1778 , L1706;
end;
end;
theorem
L1783: (for R18 being Field holds (for R31 being (Matrix of R18) holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (for R35 being  without_zero  finite (Subset of ( NAT )) holds ([: R32 , R35 :] c= ( Indices R31 ) implies ( the_rank_of R31 ) >= ( the_rank_of ( Segm (R31 , R32 , R35) ) ))))))
proof
let R18 being Field;
let R31 being (Matrix of R18);
let R32 being  without_zero  finite (Subset of ( NAT ));
let R35 being  without_zero  finite (Subset of ( NAT ));
L1784: (ex R8 being Nat st R32 c= ( Seg R8 )) by L1090;
L1785: ( rng ( Sgm R32 ) ) = R32 by L1784 , FINSEQ_1:def 13;
L1786: (ex R11 being Nat st R35 c= ( Seg R11 )) by L1090;
L1787: ( rng ( Sgm R35 ) ) = R35 by L1786 , FINSEQ_1:def 13;
assume L1788: [: R32 , R35 :] c= ( Indices R31 );
thus L1789: thesis by L1788 , L1785 , L1787 , L1744;
end;
theorem
L1790: (for R18 being Field holds (for R31 being (Matrix of R18) holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (for R33 being  without_zero  finite (Subset of ( NAT )) holds (for R35 being  without_zero  finite (Subset of ( NAT )) holds (for R36 being  without_zero  finite (Subset of ( NAT )) holds ((R32 c= R33 & R35 c= R36) implies ( the_rank_of ( Segm (R31 , R32 , R35) ) ) <= ( the_rank_of ( Segm (R31 , R33 , R36) ) ))))))))
proof
let R18 being Field;
let R31 being (Matrix of R18);
let R32 being  without_zero  finite (Subset of ( NAT ));
let R33 being  without_zero  finite (Subset of ( NAT ));
let R35 being  without_zero  finite (Subset of ( NAT ));
let R36 being  without_zero  finite (Subset of ( NAT ));
assume that
L1791: R32 c= R33
and
L1792: R35 c= R36;
set D273 = ( Segm (R31 , R33 , R36) );
set D274 = ( Segm (R31 , R32 , R35) );
consider R34 being  without_zero  finite (Subset of ( NAT )), R37 being  without_zero  finite (Subset of ( NAT )) such that L1793: [: R34 , R37 :] c= ( Indices D274 ) and L1794: ( card R34 ) = ( card R37 ) and L1795: ( card R34 ) = ( the_rank_of D274 ) and L1796: ( Det ( EqSegm (D274 , R34 , R37) ) ) <> ( 0. R18 ) by L1631;
L1797: (R34 = ( {} ) iff R37 = ( {} )) by L1794;
consider C116 , C117 being  without_zero  finite (Subset of ( NAT )) such that L1798: C116 c= R32 and L1799: C117 c= R35 and L1800: C116 = ( ( Sgm R32 ) .: R34 ) and L1801: C117 = ( ( Sgm R35 ) .: R37 ) and L1802: ( card C116 ) = ( card R34 ) and L1803: ( card C117 ) = ( card R37 ) and L1804: ( Segm (D274 , R34 , R37) ) = ( Segm (R31 , C116 , C117) ) by L1797 , L1793 , L1261;
reconsider D275 = ( ( Sgm R33 ) " C116 ) , D276 = ( ( Sgm R36 ) " C117 ) as  without_zero  finite (Subset of ( NAT )) by L1191;
L1805: ( card D276 ) = ( card R34 ) by L1792 , L1794 , L1799 , L1803 , L1205 , XBOOLE_1:1;
L1806: ( card D275 ) = ( card R34 ) by L1791 , L1798 , L1802 , L1205 , XBOOLE_1:1;
L1807: (ex R8 being Nat st D276 c= ( Seg R8 )) by L1090;
L1808: ( rng ( Sgm D276 ) ) = D276 by L1807 , FINSEQ_1:def 13;
L1809: C117 c= R36 by L1792 , L1799 , XBOOLE_1:1;
L1810: C116 c= R33 by L1791 , L1798 , XBOOLE_1:1;
L1811: (ex R8 being Nat st D275 c= ( Seg R8 )) by L1090;
L1812: ( rng ( Sgm D275 ) ) = D275 by L1811 , FINSEQ_1:def 13;
L1813: [: D275 , D276 :] c= ( Indices D273 ) by L1812 , L1810 , L1809 , L1808 , L1230;
L1814: ( Segm (D273 , D275 , D276) ) = ( Segm (R31 , C116 , C117) ) by L1810 , L1809 , L1230;
L1815: ( EqSegm (D274 , R34 , R37) ) = ( Segm (D273 , D275 , D276) ) by L1814 , L1794 , L1804 , L1378
.= ( EqSegm (D273 , D275 , D276) ) by L1794 , L1803 , L1809 , L1806 , L1378 , L1205;
thus L1816: thesis by L1815 , L1795 , L1796 , L1806 , L1805 , L1813 , L1631;
end;
theorem
L1817: (for B84 , B85 being Function holds (( rng B84 ) c= ( rng B85 ) implies (ex B86 being Function st (( dom B86 ) = ( dom B84 ) & ( rng B86 ) c= ( dom B85 ) & B84 = ( B85 * B86 )))))
proof
let C118 , C119 being Function;
assume that
L1818: ( rng C118 ) c= ( rng C119 );
defpred S7[ set , set ] means ( C118 . $1 ) = ( C119 . $2 );
L1819: (for R1 being set holds (R1 in ( dom C118 ) implies (ex R2 being set st (R2 in ( dom C119 ) & S7[ R1 , R2 ])))) by L1818 , GRAPH_5:1;
consider C120 being (Function of ( dom C118 ) , ( dom C119 )) such that L1820: (for R1 being set holds (R1 in ( dom C118 ) implies S7[ R1 , ( C120 . R1 ) ])) from FUNCT_2:sch 1(L1819);
per cases ;
suppose L1821: ( dom C119 ) = ( {} );

L1822: ( rng C119 ) = ( {} ) by L1821 , RELAT_1:42;
L1823: C118 = ( C119 * ( {} ) ) by L1822 , L1818;
L1824: ( rng ( {} ) ) c= ( dom C119 ) by XBOOLE_1:2;
thus L1825: thesis by L1824 , L1823;
end;
suppose L1826: ( dom C119 ) <> ( {} );

L1827: ( rng C120 ) c= ( dom C119 ) by RELAT_1:def 19;
L1828: ( dom C120 ) = ( dom C118 ) by L1826 , FUNCT_2:def 1;
L1829: ( dom ( C119 * C120 ) ) = ( dom C118 ) by L1828 , L1827 , RELAT_1:27;
L1830:
now
let R1 being set;
assume that
L1831: R1 in ( dom C118 );
thus L1832: ( C118 . R1 ) = ( C119 . ( C120 . R1 ) ) by L1820 , L1831
.= ( ( C119 * C120 ) . R1 ) by L1829 , L1831 , FUNCT_1:12;
end;
thus L1833: thesis by L1830 , L1828 , L1827 , L1829 , FUNCT_1:2;
end;
end;
theorem
L1835: (for R10 being Nat holds (for R11 being Nat holds (for R18 being Field holds (for R26 being (Element of ( R11 -tuples_on ( NAT ) )) holds (for R29 being (Element of ( R10 -tuples_on ( NAT ) )) holds (for R31 being (Matrix of R18) holds ([: ( rng R26 ) , ( rng R29 ) :] = ( Indices R31 ) implies ( the_rank_of R31 ) = ( the_rank_of ( Segm (R31 , R26 , R29) ) ))))))))
proof
let R10 being Nat;
let R11 being Nat;
let R18 being Field;
let R26 being (Element of ( R11 -tuples_on ( NAT ) ));
let R29 being (Element of ( R10 -tuples_on ( NAT ) ));
let R31 being (Matrix of R18);
set D277 = ( the_rank_of R31 );
set D278 = ( Segm (R31 , R26 , R29) );
consider C121 , C122 being (Element of ( D277 -tuples_on ( NAT ) )) such that L1836: [: ( rng C121 ) , ( rng C122 ) :] c= ( Indices R31 ) and L1837: ( Det ( Segm (R31 , C121 , C122) ) ) <> ( 0. R18 ) by L1706;
assume L1838: [: ( rng R26 ) , ( rng R29 ) :] = ( Indices R31 );
L1839:
now
per cases ;
suppose L1840: D277 = ( 0 );

thus L1841: D277 <= ( the_rank_of D278 ) by L1840;
end;
suppose L1842: D277 > ( 0 );

L1843: ( len C122 ) > ( 0 ) by L1842 , CARD_1:def 7;
L1844: C122 <> ( {} ) by L1843;
L1845: ( len C121 ) > ( 0 ) by L1842 , CARD_1:def 7;
L1846: C121 <> ( {} ) by L1845;
L1847: ( rng R26 ) <> ( {} ) by L1846 , L1838 , L1836 , L1844;
L1848: ( dom R26 ) <> ( {} ) by L1847 , RELAT_1:42;
L1849: R11 <> ( 0 ) by L1848;
L1850: ( width D278 ) = R10 by L1849 , L1;
L1851: ( dom R29 ) = ( Seg R10 ) by FINSEQ_2:124;
set D279 = ( Segm (R31 , C121 , C122) );
L1852: ( dom C122 ) = ( Seg D277 ) by FINSEQ_2:124;
L1853: ( rng C121 ) c= ( rng R26 ) by L1838 , L1836 , L1846 , L1844 , ZFMISC_1:114;
consider C123 being Function such that L1854: ( dom C123 ) = ( dom C121 ) and L1855: ( rng C123 ) c= ( dom R26 ) and L1856: C121 = ( R26 * C123 ) by L1853 , L1817;
L1857: ( rng C122 ) c= ( rng R29 ) by L1838 , L1836 , L1846 , L1844 , ZFMISC_1:114;
consider C124 being Function such that L1858: ( dom C124 ) = ( dom C122 ) and L1859: ( rng C124 ) c= ( dom R29 ) and L1860: C122 = ( R29 * C124 ) by L1857 , L1817;
L1861: ( dom C121 ) = ( Seg D277 ) by FINSEQ_2:124;
reconsider D280 = C123 , D281 = C124 as FinSequence by L1861 , L1854 , L1858 , L1852 , FINSEQ_1:def 2;
L1862: ( rng D280 ) c= ( NAT ) by L1855 , XBOOLE_1:1;
L1863: ( rng D281 ) c= ( NAT ) by L1859 , XBOOLE_1:1;
reconsider D282 = D280 , D283 = D281 as (FinSequence of ( NAT )) by L1863 , L1862 , FINSEQ_1:def 4;
L1864: ( len D282 ) = D277 by L1854 , L1861 , FINSEQ_1:def 3;
L1865: ( len D283 ) = D277 by L1858 , L1852 , FINSEQ_1:def 3;
reconsider D284 = D282 , D285 = D283 as (Element of ( D277 -tuples_on ( NAT ) )) by L1865 , L1864 , FINSEQ_2:92;
set D286 = ( Segm (D278 , D284 , D285) );
L1866: ( len D278 ) = R11 by L1 , L1849;
L1867: ( Indices D278 ) = [: ( Seg R11 ) , ( Seg R10 ) :] by L1866 , L1850 , FINSEQ_1:def 3;
L1868:
now
L1869: ( dom R29 ) = ( Seg R10 ) by FINSEQ_2:124;
let R6 being Nat;
let R7 being Nat;
assume that
L1870: [ R6 , R7 ] in ( Indices D286 );
reconsider D287 = R6 , D288 = R7 , D289 = ( D284 . R6 ) , D290 = ( D285 . R7 ) as (Element of ( NAT )) by ORDINAL1:def 12;
L1871: ( dom R26 ) = ( Seg R11 ) by FINSEQ_2:124;
L1872: ( Indices D286 ) = [: ( dom D284 ) , ( dom D285 ) :] by L1854 , L1858 , L1861 , L1852 , MATRIX_1:24;
L1873: R6 in ( dom D284 ) by L1872 , L1870 , ZFMISC_1:87;
L1874: R7 in ( dom D285 ) by L1870 , L1872 , ZFMISC_1:87;
L1875: ( D285 . R7 ) in ( rng D285 ) by L1874 , FUNCT_1:def 3;
L1876: ( D284 . R6 ) in ( rng D284 ) by L1873 , FUNCT_1:def 3;
L1877: [ ( D284 . D287 ) , ( D285 . D288 ) ] in ( Indices D278 ) by L1876 , L1855 , L1859 , L1867 , L1875 , L1871 , L1869 , ZFMISC_1:87;
L1878: [ R6 , R7 ] in ( Indices D279 ) by L1870 , MATRIX_1:26;
thus L1879: ( D279 * (R6 , R7) ) = ( R31 * (( C121 . D287 ) , ( C122 . D288 )) ) by L1878 , L502
.= ( R31 * (( R26 . D289 ) , ( C122 . D288 )) ) by L1854 , L1856 , L1873 , FUNCT_1:12
.= ( R31 * (( R26 . D289 ) , ( R29 . D290 )) ) by L1858 , L1860 , L1874 , FUNCT_1:12
.= ( D278 * (( D284 . D287 ) , ( D285 . D288 )) ) by L1877 , L502
.= ( D286 * (R6 , R7) ) by L1870 , L502;
end;
L1880: ( Det D286 ) <> ( 0. R18 ) by L1868 , L1837 , MATRIX_1:27;
L1881: ( dom R26 ) = ( Seg R11 ) by FINSEQ_2:124;
L1882: [: ( rng D284 ) , ( rng D285 ) :] c= ( Indices D278 ) by L1881 , L1855 , L1859 , L1851 , L1867 , ZFMISC_1:96;
thus L1883: D277 <= ( the_rank_of D278 ) by L1882 , L1880 , L1706;
end;
end;
L1885: D277 >= ( the_rank_of D278 ) by L1838 , L1744;
thus L1886: thesis by L1885 , L1839 , XXREAL_0:1;
end;
theorem
L1887: (for R11 being Nat holds (for R18 being Field holds (for B87 being (Matrix of R11 , R18) holds (( the_rank_of B87 ) = R11 iff ( Det B87 ) <> ( 0. R18 )))))
proof
let R11 being Nat;
let R18 being Field;
let C125 being (Matrix of R11 , R18);
L1888: [: ( Seg R11 ) , ( Seg R11 ) :] c= ( Indices C125 ) by MATRIX_1:24;
L1889: ( len C125 ) = R11 by MATRIX_1:24;
L1890: ( the_rank_of C125 ) <= R11 by L1889 , L1665;
L1891: ( width C125 ) = R11 by MATRIX_1:24;
L1892: C125 = ( Segm (C125 , ( Seg R11 ) , ( Seg R11 )) ) by L1891 , L1889 , L1118
.= ( EqSegm (C125 , ( Seg R11 ) , ( Seg R11 )) ) by L1378;
L1893: ( card ( Seg R11 ) ) = R11 by FINSEQ_1:57;
thus L1894: (( the_rank_of C125 ) = R11 implies ( Det C125 ) <> ( 0. R18 ))
proof
assume L1895: ( the_rank_of C125 ) = R11;
consider R32 being  without_zero  finite (Subset of ( NAT )), R35 being  without_zero  finite (Subset of ( NAT )) such that L1896: [: R32 , R35 :] c= ( Indices C125 ) and L1897: ( card R32 ) = ( card R35 ) and L1898: ( card R32 ) = R11 and L1899: ( Det ( EqSegm (C125 , R32 , R35) ) ) <> ( 0. R18 ) by L1895 , L1631;
L1900: R32 c= ( Seg R11 ) by L1889 , L1896 , L1897 , L1518;
L1901: R32 = ( Seg R11 ) by L1900 , L1893 , L1898 , CARD_FIN:1;
L1902: R35 c= ( Seg R11 ) by L1891 , L1896 , L1897 , L1518;
L1903: R35 = ( Seg R11 ) by L1902 , L1893 , L1897 , L1898 , CARD_FIN:1;
L1904: C125 = ( Segm (C125 , R32 , R35) ) by L1903 , L1889 , L1891 , L1901 , L1118
.= ( EqSegm (C125 , R32 , R35) ) by L1897 , L1378;
thus L1905: thesis by L1904 , L1898 , L1899;
end;

assume L1906: ( Det C125 ) <> ( 0. R18 );
L1907: ( the_rank_of C125 ) >= R11 by L1906 , L1893 , L1892 , L1888 , L1631;
thus L1908: thesis by L1907 , L1890 , XXREAL_0:1;
end;
theorem
L1909: (for R18 being Field holds (for R31 being (Matrix of R18) holds ( the_rank_of R31 ) = ( the_rank_of ( R31 @ ) )))
proof
let R18 being Field;
let R31 being (Matrix of R18);
consider R32 being  without_zero  finite (Subset of ( NAT )), R35 being  without_zero  finite (Subset of ( NAT )) such that L1910: [: R32 , R35 :] c= ( Indices R31 ) and L1911: ( card R32 ) = ( card R35 ) and L1912: ( card R32 ) = ( the_rank_of R31 ) and L1913: ( Det ( EqSegm (R31 , R32 , R35) ) ) <> ( 0. R18 ) by L1631;
L1914: [: R35 , R32 :] c= ( Indices ( R31 @ ) ) by L1910 , L1911 , L1561;
consider R33 being  without_zero  finite (Subset of ( NAT )), R36 being  without_zero  finite (Subset of ( NAT )) such that L1915: [: R33 , R36 :] c= ( Indices ( R31 @ ) ) and L1916: ( card R33 ) = ( card R36 ) and L1917: ( card R33 ) = ( the_rank_of ( R31 @ ) ) and L1918: ( Det ( EqSegm (( R31 @ ) , R33 , R36) ) ) <> ( 0. R18 ) by L1631;
L1919: [: R36 , R33 :] c= ( Indices R31 ) by L1915 , L1916 , L1561;
L1920: ( Det ( EqSegm (R31 , R36 , R33) ) ) <> ( 0. R18 ) by L1919 , L1916 , L1918 , L1578;
L1921: ( the_rank_of R31 ) >= ( the_rank_of ( R31 @ ) ) by L1920 , L1916 , L1917 , L1919 , L1631;
L1922: ( Det ( EqSegm (( R31 @ ) , R35 , R32) ) ) <> ( 0. R18 ) by L1910 , L1911 , L1913 , L1578;
L1923: ( the_rank_of ( R31 @ ) ) >= ( the_rank_of R31 ) by L1922 , L1911 , L1912 , L1914 , L1631;
thus L1924: thesis by L1923 , L1921 , XXREAL_0:1;
end;
L1925: (for R11 being Nat holds (for R18 being Field holds (for R19 being (Element of R18) holds (R19 <> ( 0. R18 ) implies ( ( power R18 ) . (R19 , R11) ) <> ( 0. R18 )))))
proof
let R11 being Nat;
let R18 being Field;
let R19 being (Element of R18);
defpred S8[ Nat ] means (for R11 being Nat holds (R11 = $1 implies ( ( power R18 ) . (R19 , R11) ) <> ( 0. R18 )));
assume L1926: R19 <> ( 0. R18 );
L1927: (for R8 being Nat holds (S8[ R8 ] implies S8[ ( R8 + 1 ) ]))
proof
let R8 being Nat;
assume L1928: S8[ R8 ];
L1929: ( ( power R18 ) . (R19 , R8) ) <> ( 0. R18 ) by L1928;
L1930: R8 in ( NAT ) by ORDINAL1:def 12;
let R11 being Nat;
assume L1931: R11 = ( R8 + 1 );
L1932: ( ( power R18 ) . (R19 , R11) ) = ( ( ( power R18 ) . (R19 , R8) ) * R19 ) by L1931 , L1930 , GROUP_1:def 7;
thus L1933: thesis by L1932 , L1926 , L1929 , VECTSP_1:12;
end;
L1934: S8[ ( 0 ) ]
proof
L1935: ( 1_ R18 ) <> ( 0. R18 );
let R11 being Nat;
assume L1936: R11 = ( 0 );
thus L1937: thesis by L1936 , L1935 , GROUP_1:def 7;
end;
L1938: (for R8 being Nat holds S8[ R8 ]) from NAT_1:sch 2(L1934 , L1927);
thus L1939: thesis by L1938;
end;
theorem
L1940: (for R10 being Nat holds (for R11 being Nat holds (for R18 being Field holds (for B88 being (Matrix of R11 , R10 , R18) holds (for B89 being (Permutation of ( Seg R11 )) holds ( the_rank_of B88 ) = ( the_rank_of ( B88 * B89 ) ))))))
proof
let R10 being Nat;
let R11 being Nat;
let R18 being Field;
let C126 being (Matrix of R11 , R10 , R18);
let C127 being (Permutation of ( Seg R11 ));
set D291 = ( Seg ( len C126 ) );
set D292 = ( Seg ( width C126 ) );
set D293 = ( Sgm D291 );
set D294 = ( Sgm D292 );
L1941: ( card D291 ) = ( len C126 ) by FINSEQ_1:57;
L1942: ( len C126 ) = R11 by MATRIX_1:def 2;
reconsider D295 = C127 as (Permutation of ( Seg ( card D291 ) )) by L1942 , L1941;
L1943: ( rng C127 ) = ( Seg R11 ) by FUNCT_2:def 3;
L1944: ( dom C127 ) = ( Seg R11 ) by FUNCT_2:52;
L1945: ( dom D293 ) = ( Seg ( card D291 ) ) by FINSEQ_3:40;
L1946: ( dom ( D293 * C127 ) ) = ( dom C127 ) by L1945 , L1942 , L1941 , L1943 , RELAT_1:27;
reconsider D296 = ( D293 * C127 ) as FinSequence by L1946 , L1944 , FINSEQ_1:def 2;
L1947: ( rng ( D293 * C127 ) ) = ( rng D293 ) by L1942 , L1941 , L1945 , L1943 , RELAT_1:28;
reconsider D297 = D296 as (FinSequence of ( NAT )) by L1947 , FINSEQ_1:def 4;
L1948: ( len D297 ) = ( card D291 ) by L1942 , L1941 , L1946 , L1944 , FINSEQ_1:def 3;
reconsider D298 = D297 as (Element of ( ( card D291 ) -tuples_on ( NAT ) )) by L1948 , FINSEQ_2:92;
L1949: ( Indices C126 ) = [: ( Seg ( len C126 ) ) , ( Seg ( width C126 ) ) :] by FINSEQ_1:def 3;
L1950: ( rng D294 ) = D292 by FINSEQ_1:def 13;
L1951: ( rng D293 ) = D291 by FINSEQ_1:def 13;
L1952: ( Segm (C126 , D298 , D294) ) = ( ( Segm (C126 , D291 , D292) ) * D295 ) by L792
.= ( C126 * C127 ) by L1118;
thus L1953: thesis by L1952 , L1947 , L1949 , L1951 , L1950 , L1835;
end;
theorem
L1954: (for R18 being Field holds (for R19 being (Element of R18) holds (for R31 being (Matrix of R18) holds (R19 <> ( 0. R18 ) implies ( the_rank_of R31 ) = ( the_rank_of ( R19 * R31 ) )))))
proof
let R18 being Field;
let R19 being (Element of R18);
let R31 being (Matrix of R18);
consider R32 being  without_zero  finite (Subset of ( NAT )), R35 being  without_zero  finite (Subset of ( NAT )) such that L1955: [: R32 , R35 :] c= ( Indices R31 ) and L1956: ( card R32 ) = ( card R35 ) and L1957: ( card R32 ) = ( the_rank_of R31 ) and L1958: ( Det ( EqSegm (R31 , R32 , R35) ) ) <> ( 0. R18 ) by L1631;
consider R33 being  without_zero  finite (Subset of ( NAT )), R36 being  without_zero  finite (Subset of ( NAT )) such that L1959: [: R33 , R36 :] c= ( Indices ( R19 * R31 ) ) and L1960: ( card R33 ) = ( card R36 ) and L1961: ( card R33 ) = ( the_rank_of ( R19 * R31 ) ) and L1962: ( Det ( EqSegm (( R19 * R31 ) , R33 , R36) ) ) <> ( 0. R18 ) by L1631;
L1963: ( Indices R31 ) = ( Indices ( R19 * R31 ) ) by MATRIXR1:18;
L1964: ( Det ( EqSegm (( R19 * R31 ) , R33 , R36) ) ) = ( ( ( power R18 ) . (R19 , ( card R33 )) ) * ( Det ( EqSegm (R31 , R33 , R36) ) ) ) by L1963 , L1959 , L1960 , L1626;
L1965: ( Det ( EqSegm (R31 , R33 , R36) ) ) <> ( 0. R18 ) by L1964 , L1962 , VECTSP_1:12;
L1966: ( the_rank_of R31 ) >= ( the_rank_of ( R19 * R31 ) ) by L1965 , L1963 , L1959 , L1960 , L1961 , L1631;
assume L1967: R19 <> ( 0. R18 );
L1968: ( ( power R18 ) . (R19 , ( card R32 )) ) <> ( 0. R18 ) by L1967 , L1925;
L1969: ( Det ( EqSegm (( R19 * R31 ) , R32 , R35) ) ) = ( ( ( power R18 ) . (R19 , ( card R32 )) ) * ( Det ( EqSegm (R31 , R32 , R35) ) ) ) by L1955 , L1956 , L1626;
L1970: ( Det ( EqSegm (( R19 * R31 ) , R32 , R35) ) ) <> ( 0. R18 ) by L1969 , L1958 , L1968 , VECTSP_1:12;
L1971: ( the_rank_of ( R19 * R31 ) ) >= ( the_rank_of R31 ) by L1970 , L1963 , L1955 , L1956 , L1957 , L1631;
thus L1972: thesis by L1971 , L1966 , XXREAL_0:1;
end;
theorem
L1973: (for R18 being Field holds (for R19 being (Element of R18) holds (for B90 , B91 being (FinSequence of R18) holds (for B92 being Function holds ((B91 = ( B90 * B92 ) & ( rng B92 ) c= ( dom B90 )) implies ( ( R19 * B90 ) * B92 ) = ( R19 * B91 ))))))
proof
let R18 being Field;
let R19 being (Element of R18);
let C128 , C129 being (FinSequence of R18);
let C130 being Function;
assume that
L1974: C129 = ( C128 * C130 )
and
L1975: ( rng C130 ) c= ( dom C128 );
L1976: ( len ( R19 * C128 ) ) = ( len C128 ) by MATRIXR1:16;
L1977: ( dom ( R19 * C128 ) ) = ( Seg ( len C128 ) ) by L1976 , FINSEQ_1:def 3;
L1978: ( Seg ( len C128 ) ) = ( dom C128 ) by FINSEQ_1:def 3;
L1979: ( dom ( ( R19 * C128 ) * C130 ) ) = ( dom C130 ) by L1978 , L1975 , L1977 , RELAT_1:27;
L1980: ( len ( R19 * C129 ) ) = ( len C129 ) by MATRIXR1:16;
L1981: ( dom ( R19 * C129 ) ) = ( Seg ( len C129 ) ) by L1980 , FINSEQ_1:def 3;
L1982: ( Seg ( len C129 ) ) = ( dom C129 ) by FINSEQ_1:def 3;
L1983: ( dom ( R19 * C129 ) ) = ( dom C130 ) by L1982 , L1974 , L1975 , L1981 , RELAT_1:27;
L1984:
now
set D299 = (the carrier of R18);
L1985: ( rng C129 ) c= D299 by FINSEQ_1:def 4;
let R1 being set;
assume that
L1986: R1 in ( dom ( R19 * C129 ) );
L1987: ( C130 . R1 ) in ( rng C130 ) by L1983 , L1986 , FUNCT_1:def 3;
L1988: ( C130 . R1 ) in ( dom C128 ) by L1987 , L1975;
L1989: ( C129 . R1 ) in ( rng C129 ) by L1981 , L1982 , L1986 , FUNCT_1:def 3;
reconsider D300 = ( C129 . R1 ) as (Element of R18) by L1989 , L1985;
L1990: ( C128 . ( C130 . R1 ) ) in ( rng C128 ) by L1975 , L1987 , FUNCT_1:def 3;
thus L1991: ( ( R19 * C129 ) . R1 ) = ( R19 * D300 ) by L1986 , FVSUM_1:50
.= ( ( R19 * C128 ) . ( C130 . R1 ) ) by L1974 , L1977 , L1978 , L1981 , L1982 , L1986 , L1988 , L1990 , FUNCT_1:12 , FVSUM_1:50
.= ( ( ( R19 * C128 ) * C130 ) . R1 ) by L1979 , L1983 , L1986 , FUNCT_1:12;
end;
thus L1992: thesis by L1984 , L1974 , L1975 , L1981 , L1982 , L1979 , FUNCT_1:2 , RELAT_1:27;
end;
theorem
L1993: (for R18 being Field holds (for B93 , B94 , B95 , B96 being (FinSequence of R18) holds (for B97 being Function holds ((B94 = ( B93 * B97 ) & ( rng B97 ) c= ( dom B93 ) & B96 = ( B95 * B97 ) & ( rng B97 ) c= ( dom B95 )) implies ( ( B93 + B95 ) * B97 ) = ( B94 + B96 )))))
proof
let R18 being Field;
let C131 , C132 , C133 , C134 being (FinSequence of R18);
let C135 being Function;
assume that
L1994: C132 = ( C131 * C135 )
and
L1995: ( rng C135 ) c= ( dom C131 )
and
L1996: C134 = ( C133 * C135 )
and
L1997: ( rng C135 ) c= ( dom C133 );
L1998: ( dom C132 ) = ( dom C135 ) by L1994 , L1995 , RELAT_1:27;
set D301 = (the carrier of R18);
L1999: ( dom C132 ) = ( Seg ( len C132 ) ) by FINSEQ_1:def 3;
L2000: ( dom C134 ) = ( dom C135 ) by L1996 , L1997 , RELAT_1:27;
L2001: ( len C134 ) = ( len C132 ) by L2000 , L1998 , L1999 , FINSEQ_1:def 3;
reconsider D302 = C132 , D303 = C134 as (Element of ( ( len C132 ) -tuples_on D301 )) by L2001 , FINSEQ_2:92;
L2002: ( dom ( D302 + D303 ) ) = ( dom C135 ) by L1998 , L1999 , FINSEQ_2:124;
set D304 = ( C131 + C133 );
L2003: ( rng C133 ) c= D301 by FINSEQ_1:def 4;
L2004: ( rng C131 ) c= D301 by FINSEQ_1:def 4;
L2005: [: ( rng C131 ) , ( rng C133 ) :] c= [: D301 , D301 :] by L2004 , L2003 , ZFMISC_1:96;
L2006: [: ( rng C131 ) , ( rng C133 ) :] c= ( dom (the addF of R18) ) by L2005 , FUNCT_2:def 1;
L2007: ( dom D304 ) = ( ( dom C131 ) /\ ( dom C133 ) ) by L2006 , FUNCOP_1:69;
L2008: ( rng C135 ) c= ( dom D304 ) by L2007 , L1995 , L1997 , XBOOLE_1:19;
L2009:
now
L2010: ( rng C134 ) c= D301 by FINSEQ_1:def 4;
L2011: ( rng C132 ) c= D301 by FINSEQ_1:def 4;
let R1 being set;
assume that
L2012: R1 in ( dom C135 );
L2013: ( C135 . R1 ) in ( rng C135 ) by L2012 , FUNCT_1:def 3;
L2014: ( dom C131 ) = ( Seg ( len C131 ) ) by FINSEQ_1:def 3;
L2015: ( C135 . R1 ) in ( Seg ( len C131 ) ) by L2014 , L1995 , L2013;
reconsider D305 = R1 , D306 = ( C135 . R1 ) as (Element of ( NAT )) by L2015 , L1998 , L2012;
L2016: ( C134 . R1 ) in ( rng C134 ) by L2000 , L2012 , FUNCT_1:def 3;
L2017: ( C132 . R1 ) in ( rng C132 ) by L1998 , L2012 , FUNCT_1:def 3;
reconsider D307 = ( C132 . D305 ) , D308 = ( C134 . D305 ) as (Element of R18) by L2017 , L2011 , L2016 , L2010;
L2018: D307 = ( C131 . D306 ) by L1994 , L2012 , FUNCT_1:13;
L2019: D308 = ( C133 . D306 ) by L1996 , L2012 , FUNCT_1:13;
thus L2020: ( ( D304 * C135 ) . R1 ) = ( D304 . D306 ) by L2012 , FUNCT_1:13
.= ( D307 + D308 ) by L2008 , L2013 , L2018 , L2019 , FVSUM_1:17
.= ( ( D302 + D303 ) . R1 ) by L1998 , L1999 , L2012 , FVSUM_1:18;
end;
L2021: ( dom ( D304 * C135 ) ) = ( dom C135 ) by L1995 , L1997 , L2007 , RELAT_1:27 , XBOOLE_1:19;
thus L2022: thesis by L2021 , L2002 , L2009 , FUNCT_1:2;
end;
theorem
L2023: (for R6 being Nat holds (for R12 being Nat holds (for R13 being Nat holds (for R18 being Field holds (for R19 being (Element of R18) holds (for R25 being (Matrix of R13 , R12 , R18) holds (R19 <> ( 0. R18 ) implies ( the_rank_of R25 ) = ( the_rank_of ( RLine (R25 , R6 , ( R19 * ( Line (R25 , R6) ) )) ) ))))))))
proof
let R6 being Nat;
let R12 being Nat;
let R13 being Nat;
let R18 being Field;
let R19 being (Element of R18);
let R25 being (Matrix of R13 , R12 , R18);
set D309 = ( Line (R25 , R6) );
set D310 = ( R19 * D309 );
set D311 = ( RLine (R25 , R6 , D310) );
L2024: ( Indices R25 ) = ( Indices D311 ) by MATRIX_1:26;
consider R32 being  without_zero  finite (Subset of ( NAT )), R35 being  without_zero  finite (Subset of ( NAT )) such that L2025: [: R32 , R35 :] c= ( Indices R25 ) and L2026: ( card R32 ) = ( card R35 ) and L2027: ( card R32 ) = ( the_rank_of R25 ) and L2028: ( Det ( EqSegm (R25 , R32 , R35) ) ) <> ( 0. R18 ) by L1631;
assume L2029: R19 <> ( 0. R18 );
L2030:
now
per cases ;
suppose L2031: R6 in R32;

L2032: ( len D309 ) = ( width R25 ) by MATRIX_1:def 7;
L2033: ( dom D309 ) = ( Seg ( width R25 ) ) by L2032 , FINSEQ_1:def 3;
L2034: (ex R11 being Nat st R35 c= ( Seg R11 )) by L1090;
L2035: ( rng ( Sgm R35 ) ) = R35 by L2034 , FINSEQ_1:def 13;
L2036: (ex R8 being Nat st R32 c= ( Seg R8 )) by L1090;
L2037: ( dom ( Sgm R32 ) ) = ( Seg ( card R32 ) ) by L2036 , FINSEQ_3:40;
L2038: ( rng ( Sgm R32 ) ) = R32 by L2036 , FINSEQ_1:def 13;
consider R1 being set such that L2039: R1 in ( dom ( Sgm R32 ) ) and L2040: ( ( Sgm R32 ) . R1 ) = R6 by L2038 , L2031 , FUNCT_1:def 3;
reconsider D312 = R1 as (Element of ( NAT )) by L2039;
L2041: R35 c= ( Seg ( width R25 ) ) by L2025 , L2026 , L1518;
L2042: ( Line (( Segm (R25 , R32 , R35) ) , D312) ) = ( D309 * ( Sgm R35 ) ) by L2041 , L2039 , L2040 , L2037 , L1122;
L2043: ( R19 * ( Line (( Segm (R25 , R32 , R35) ) , D312) ) ) = ( D310 * ( Sgm R35 ) ) by L2042 , L2035 , L2041 , L2033 , L1973;
L2044: ( len D310 ) = ( len D309 ) by MATRIXR1:16;
L2045: ( RLine (( EqSegm (R25 , R32 , R35) ) , D312 , ( R19 * ( Line (( EqSegm (R25 , R32 , R35) ) , D312) ) )) ) = ( RLine (( Segm (R25 , R32 , R35) ) , D312 , ( R19 * ( Line (( EqSegm (R25 , R32 , R35) ) , D312) ) )) ) by L2026 , L1378
.= ( RLine (( Segm (R25 , R32 , R35) ) , D312 , ( R19 * ( Line (( Segm (R25 , R32 , R35) ) , D312) ) )) ) by L2026 , L1378
.= ( Segm (D311 , R32 , R35) ) by L2025 , L2040 , L2032 , L2043 , L2044 , L1327
.= ( EqSegm (D311 , R32 , R35) ) by L2026 , L1378;
L2046: ( Det ( EqSegm (D311 , R32 , R35) ) ) = ( R19 * ( Det ( EqSegm (R25 , R32 , R35) ) ) ) by L2045 , L2039 , L2037 , MATRIX11:35;
L2047: ( Det ( EqSegm (D311 , R32 , R35) ) ) <> ( 0. R18 ) by L2046 , L2029 , L2028 , VECTSP_1:12;
thus L2048: ( the_rank_of D311 ) >= ( the_rank_of R25 ) by L2047 , L2025 , L2026 , L2027 , L2024 , L1631;
end;
suppose L2049: (not R6 in R32);

L2050: ( EqSegm (R25 , R32 , R35) ) = ( Segm (R25 , R32 , R35) ) by L2026 , L1378
.= ( Segm (D311 , R32 , R35) ) by L2025 , L2049 , L1346
.= ( EqSegm (D311 , R32 , R35) ) by L2026 , L1378;
thus L2051: ( the_rank_of D311 ) >= ( the_rank_of R25 ) by L2050 , L2025 , L2026 , L2027 , L2028 , L2024 , L1631;
end;
end;
consider R33 being  without_zero  finite (Subset of ( NAT )), R36 being  without_zero  finite (Subset of ( NAT )) such that L2053: [: R33 , R36 :] c= ( Indices D311 ) and L2054: ( card R33 ) = ( card R36 ) and L2055: ( card R33 ) = ( the_rank_of D311 ) and L2056: ( Det ( EqSegm (D311 , R33 , R36) ) ) <> ( 0. R18 ) by L1631;
L2057:
now
per cases ;
suppose L2058: R6 in R33;

L2059: ( len D309 ) = ( width R25 ) by MATRIX_1:def 7;
L2060: ( dom D309 ) = ( Seg ( width R25 ) ) by L2059 , FINSEQ_1:def 3;
L2061: (ex R11 being Nat st R36 c= ( Seg R11 )) by L1090;
L2062: ( rng ( Sgm R36 ) ) = R36 by L2061 , FINSEQ_1:def 13;
L2063: (ex R8 being Nat st R33 c= ( Seg R8 )) by L1090;
L2064: ( dom ( Sgm R33 ) ) = ( Seg ( card R33 ) ) by L2063 , FINSEQ_3:40;
L2065: ( rng ( Sgm R33 ) ) = R33 by L2063 , FINSEQ_1:def 13;
consider R1 being set such that L2066: R1 in ( dom ( Sgm R33 ) ) and L2067: ( ( Sgm R33 ) . R1 ) = R6 by L2065 , L2058 , FUNCT_1:def 3;
reconsider D313 = R1 as (Element of ( NAT )) by L2066;
L2068: R36 c= ( Seg ( width R25 ) ) by L2024 , L2053 , L2054 , L1518;
L2069: ( Line (( Segm (R25 , R33 , R36) ) , D313) ) = ( D309 * ( Sgm R36 ) ) by L2068 , L2066 , L2067 , L2064 , L1122;
L2070: ( R19 * ( Line (( Segm (R25 , R33 , R36) ) , D313) ) ) = ( D310 * ( Sgm R36 ) ) by L2069 , L2062 , L2068 , L2060 , L1973;
L2071: ( len D310 ) = ( len D309 ) by MATRIXR1:16;
L2072: ( RLine (( EqSegm (R25 , R33 , R36) ) , D313 , ( R19 * ( Line (( EqSegm (R25 , R33 , R36) ) , D313) ) )) ) = ( RLine (( Segm (R25 , R33 , R36) ) , D313 , ( R19 * ( Line (( EqSegm (R25 , R33 , R36) ) , D313) ) )) ) by L2054 , L1378
.= ( RLine (( Segm (R25 , R33 , R36) ) , D313 , ( R19 * ( Line (( Segm (R25 , R33 , R36) ) , D313) ) )) ) by L2054 , L1378
.= ( Segm (D311 , R33 , R36) ) by L2024 , L2053 , L2067 , L2059 , L2070 , L2071 , L1327
.= ( EqSegm (D311 , R33 , R36) ) by L2054 , L1378;
L2073: ( Det ( EqSegm (D311 , R33 , R36) ) ) = ( R19 * ( Det ( EqSegm (R25 , R33 , R36) ) ) ) by L2072 , L2066 , L2064 , MATRIX11:35;
L2074: ( Det ( EqSegm (R25 , R33 , R36) ) ) <> ( 0. R18 ) by L2073 , L2056 , VECTSP_1:12;
thus L2075: ( the_rank_of R25 ) >= ( the_rank_of D311 ) by L2074 , L2024 , L2053 , L2054 , L2055 , L1631;
end;
suppose L2076: (not R6 in R33);

L2077: ( EqSegm (R25 , R33 , R36) ) = ( Segm (R25 , R33 , R36) ) by L2054 , L1378
.= ( Segm (D311 , R33 , R36) ) by L2024 , L2053 , L2076 , L1346
.= ( EqSegm (D311 , R33 , R36) ) by L2054 , L1378;
thus L2078: ( the_rank_of R25 ) >= ( the_rank_of D311 ) by L2077 , L2024 , L2053 , L2054 , L2055 , L2056 , L1631;
end;
end;
thus L2080: thesis by L2057 , L2030 , XXREAL_0:1;
end;
theorem
L2081: (for R6 being Nat holds (for R18 being Field holds (for R31 being (Matrix of R18) holds (( Line (R31 , R6) ) = ( ( width R31 ) |-> ( 0. R18 ) ) implies ( the_rank_of ( DelLine (R31 , R6) ) ) = ( the_rank_of R31 )))))
proof
let R6 being Nat;
let R18 being Field;
let R31 being (Matrix of R18);
set D314 = ( DelLine (R31 , R6) );
L2082: ( Indices R31 ) = [: ( Seg ( len R31 ) ) , ( Seg ( width R31 ) ) :] by FINSEQ_1:def 3;
L2083: ( Segm (R31 , ( ( Seg ( len R31 ) ) \ { R6 } ) , ( Seg ( width R31 ) )) ) = D314 by L1146;
consider R32 being  without_zero  finite (Subset of ( NAT )), R35 being  without_zero  finite (Subset of ( NAT )) such that L2084: [: R32 , R35 :] c= ( Indices D314 ) and L2085: ( card R32 ) = ( card R35 ) and L2086: ( card R32 ) = ( the_rank_of D314 ) and L2087: ( Det ( EqSegm (D314 , R32 , R35) ) ) <> ( 0. R18 ) by L1631;
L2088: ( EqSegm (D314 , R32 , R35) ) = ( Segm (D314 , R32 , R35) ) by L2085 , L1378;
L2089: ( the_rank_of ( Segm (D314 , R32 , R35) ) ) = ( card R32 ) by L2088 , L2087 , L1887;
L2090: (R32 = ( {} ) iff R35 = ( {} )) by L2085;
consider R34 being  without_zero  finite (Subset of ( NAT )), R37 being  without_zero  finite (Subset of ( NAT )) such that L2091: R34 c= ( ( Seg ( len R31 ) ) \ { R6 } ) and L2092: R37 c= ( Seg ( width R31 ) ) and L2093: R34 = ( ( Sgm ( ( Seg ( len R31 ) ) \ { R6 } ) ) .: R32 ) and L2094: R37 = ( ( Sgm ( Seg ( width R31 ) ) ) .: R35 ) and L2095: ( card R34 ) = ( card R32 ) and L2096: ( card R37 ) = ( card R35 ) and L2097: ( Segm (D314 , R32 , R35) ) = ( Segm (R31 , R34 , R37) ) by L2090 , L2084 , L2083 , L1261;
L2098: ( ( Seg ( len R31 ) ) \ { R6 } ) c= ( Seg ( len R31 ) ) by XBOOLE_1:36;
L2099: R34 c= ( Seg ( len R31 ) ) by L2098 , L2091 , XBOOLE_1:1;
L2100: [: R34 , R37 :] c= ( Indices R31 ) by L2099 , L2092 , L2082 , ZFMISC_1:96;
L2101: ( the_rank_of D314 ) <= ( the_rank_of R31 ) by L2100 , L2086 , L2097 , L2089 , L1783;
consider C136 , C137 being  without_zero  finite (Subset of ( NAT )) such that L2102: [: C136 , C137 :] c= ( Indices R31 ) and L2103: ( card C136 ) = ( card C137 ) and L2104: ( card C136 ) = ( the_rank_of R31 ) and L2105: ( Det ( EqSegm (R31 , C136 , C137) ) ) <> ( 0. R18 ) by L1631;
L2106: ( EqSegm (R31 , C136 , C137) ) = ( Segm (R31 , C136 , C137) ) by L2103 , L1378;
L2107: ( the_rank_of ( Segm (R31 , C136 , C137) ) ) = ( card C136 ) by L2106 , L2105 , L1887;
assume L2108: ( Line (R31 , R6) ) = ( ( width R31 ) |-> ( 0. R18 ) );
L2109: (not R6 in C136)
proof
assume L2110: R6 in C136;
reconsider D315 = R6 as non  zero (Element of ( NAT )) by L2110;
L2111: { R6 } c= C136 by L2110 , ZFMISC_1:31;
consider C138 being  without_zero  finite (Subset of ( NAT )) such that L2112: C138 c= C137 and L2113: ( card { R6 } ) = ( card C138 ) and L2114: ( Det ( EqSegm (R31 , { D315 } , C138) ) ) <> ( 0. R18 ) by L2111 , L2103 , L2105 , L1422;
consider R2 being set such that L2115: { R2 } = C138 by L2113 , CARD_2:42;
L2116: ( card { R6 } ) = 1 by CARD_1:30;
L2117: C137 c= ( Seg ( width R31 ) ) by L2102 , L2103 , L1518;
L2118: R2 in { R2 } by TARSKI:def 1;
reconsider D316 = R2 as non  zero (Element of ( NAT )) by L2118 , L2115;
L2119: D316 in C138 by L2115 , TARSKI:def 1;
L2120: D316 in C137 by L2119 , L2112;
L2121: ( R31 * (D315 , D316) ) = ( ( Line (R31 , R6) ) . D316 ) by L2120 , L2117 , MATRIX_1:def 7;
L2122: ( ( Line (R31 , R6) ) . D316 ) = ( 0. R18 ) by L2108 , L2120 , L2117 , FINSEQ_2:57;
L2123: ( EqSegm (R31 , { D315 } , C138) ) = ( Segm (R31 , { D315 } , { D316 }) ) by L2113 , L2115 , L1378
.= <* <* ( 0. R18 ) *> *> by L2121 , L2122 , L1098;
thus L2124: thesis by L2123 , L2114 , L2116 , MATRIX_3:34;
end;
L2125: ( C136 \ { R6 } ) = C136 by L2109 , ZFMISC_1:57;
L2126: C136 c= ( Seg ( len R31 ) ) by L2102 , L2103 , L1518;
L2127: C136 c= ( ( Seg ( len R31 ) ) \ { R6 } ) by L2126 , L2125 , XBOOLE_1:33;
L2128: C137 c= ( Seg ( width R31 ) ) by L2102 , L2103 , L1518;
L2129: ( the_rank_of ( Segm (R31 , C136 , C137) ) ) <= ( the_rank_of D314 ) by L2128 , L2083 , L2127 , L1790;
thus L2130: thesis by L2129 , L2101 , L2104 , L2107 , XXREAL_0:1;
end;
theorem
L2131: (for R6 being Nat holds (for R12 being Nat holds (for R13 being Nat holds (for R18 being Field holds (for R25 being (Matrix of R13 , R12 , R18) holds (for R21 being (FinSequence of R18) holds (( len R21 ) = ( width R25 ) implies ( the_rank_of ( DelLine (R25 , R6) ) ) = ( the_rank_of ( RLine (R25 , R6 , ( ( 0. R18 ) * R21 )) ) ))))))))
proof
let R6 being Nat;
let R12 being Nat;
let R13 being Nat;
let R18 being Field;
let R25 being (Matrix of R13 , R12 , R18);
let R21 being (FinSequence of R18);
assume that
L2132: ( len R21 ) = ( width R25 );
set D317 = ( RLine (R25 , R6 , ( ( 0. R18 ) * R21 )) );
L2133: ( Seg ( len R25 ) ) = ( dom R25 ) by FINSEQ_1:def 3;
L2134: ( len R25 ) = R13 by MATRIX_1:def 2;
per cases ;
suppose L2135: (not R6 in ( dom R25 ));

L2136: D317 = R25 by L2135 , L2133 , L1009;
thus L2137: thesis by L2136 , L2135 , FINSEQ_3:104;
end;
suppose L2138: R6 in ( dom R25 );

L2139: R13 <> ( 0 ) by L2138 , L2133 , L2134;
set D318 = (the carrier of R18);
L2140: R21 is (Element of ( ( len R21 ) -tuples_on D318 )) by FINSEQ_2:92;
L2141: ( len ( ( 0. R18 ) * R21 ) ) = ( len R21 ) by MATRIXR1:16;
L2142: ( Line (D317 , R6) ) = ( ( 0. R18 ) * R21 ) by L2141 , L2132 , L2133 , L2134 , L2138 , MATRIX11:28;
L2143: ( Line (D317 , R6) ) = ( ( len R21 ) |-> ( 0. R18 ) ) by L2142 , L2140 , FVSUM_1:58;
reconsider D319 = ( ( 0. R18 ) * R21 ) as (Element of ( D318 * )) by FINSEQ_1:def 11;
L2144: R6 in ( NAT ) by ORDINAL1:def 12;
L2145: D317 = ( Replace (R25 , R6 , D319) ) by L2132 , L2141 , MATRIX11:29;
L2146: ( Replace (D317 , R6 , D319) ) = ( Replace (R25 , R6 , D319) ) by L2145 , FUNCT_7:34;
L2147: ( width D317 ) = R12 by L1 , L2139;
L2148: ( width R25 ) = R12 by L1 , L2139;
L2149: ( the_rank_of D317 ) = ( the_rank_of ( DelLine (D317 , R6) ) ) by L2148 , L2132 , L2147 , L2143 , L2081;
thus L2150: thesis by L2149 , L2146 , L2144 , COMPUT_1:4;
end;
end;
theorem
L2152: (for R6 being Nat holds (for R7 being Nat holds (for R12 being Nat holds (for R13 being Nat holds (for R18 being Field holds (for R19 being (Element of R18) holds (for R25 being (Matrix of R13 , R12 , R18) holds ((R7 in ( Seg ( len R25 ) ) & (R6 = R7 implies R19 <> ( - ( 1_ R18 ) ))) implies ( the_rank_of R25 ) = ( the_rank_of ( RLine (R25 , R6 , ( ( Line (R25 , R6) ) + ( R19 * ( Line (R25 , R7) ) ) )) ) )))))))))
proof
let R6 being Nat;
let R7 being Nat;
let R12 being Nat;
let R13 being Nat;
let R18 being Field;
let R19 being (Element of R18);
let R25 being (Matrix of R13 , R12 , R18);
assume that
L2153: R7 in ( Seg ( len R25 ) )
and
L2154: (R6 = R7 implies R19 <> ( - ( 1_ R18 ) ));
per cases ;
suppose L2155: (not R6 in ( Seg ( len R25 ) ));

thus L2156: thesis by L2155 , L1009;
end;
suppose L2157: R6 in ( Seg ( len R25 ) );

set D320 = (the carrier of R18);
set D321 = ( width R25 );
set D322 = ( Line (R25 , R7) );
set D323 = ( Line (R25 , R6) );
set D324 = ( RLine (R25 , R6 , ( D323 + ( R19 * D322 ) )) );
reconsider D325 = D323 , D326 = D322 , D327 = ( D323 + ( R19 * D322 ) ) as (Element of ( D320 * )) by FINSEQ_1:def 11;
L2158: ( len D323 ) = D321 by CARD_1:def 7;
L2159: ( dom D323 ) = ( Seg D321 ) by L2158 , FINSEQ_1:def 3;
L2160: ( len ( D323 + ( R19 * D322 ) ) ) = D321 by CARD_1:def 7;
L2161: D321 = ( width D324 ) by L2160 , MATRIX11:def 3;
L2162: ( RLine (D324 , R6 , D323) ) = ( Replace (D324 , R6 , D325) ) by L2161 , L2158 , MATRIX11:29
.= ( Replace (( Replace (R25 , R6 , D327) ) , R6 , D325) ) by L2160 , MATRIX11:29
.= ( Replace (R25 , R6 , D325) ) by FUNCT_7:34
.= ( RLine (R25 , R6 , D323) ) by L2158 , MATRIX11:29
.= R25 by MATRIX11:30;
L2163: ( len R25 ) = R13 by MATRIX_1:def 2;
L2164: ( Line (D324 , R6) ) = ( D323 + ( R19 * D322 ) ) by L2163 , L2157 , L2160 , MATRIX11:28;
L2165: ( len D322 ) = D321 by CARD_1:def 7;
L2166: ( dom D322 ) = ( Seg D321 ) by L2165 , FINSEQ_1:def 3;
L2167: ( len ( R19 * D322 ) ) = D321 by CARD_1:def 7;
L2168: ( dom ( R19 * D322 ) ) = ( Seg D321 ) by L2167 , FINSEQ_1:def 3;
L2169: ( Indices D324 ) = ( Indices R25 ) by MATRIX_1:26;
consider R33 being  without_zero  finite (Subset of ( NAT )), R36 being  without_zero  finite (Subset of ( NAT )) such that L2170: [: R33 , R36 :] c= ( Indices R25 ) and L2171: ( card R33 ) = ( card R36 ) and L2172: ( card R33 ) = ( the_rank_of R25 ) and L2173: ( Det ( EqSegm (R25 , R33 , R36) ) ) <> ( 0. R18 ) by L1631;
L2174: ( EqSegm (R25 , R33 , R36) ) = ( Segm (R25 , R33 , R36) ) by L2171 , L1378;
L2175: ( EqSegm (D324 , R33 , R36) ) = ( Segm (D324 , R33 , R36) ) by L2171 , L1378;
L2176: ( RLine (D324 , R6 , D322) ) = ( Replace (D324 , R6 , D326) ) by L2165 , L2161 , MATRIX11:29
.= ( Replace (( Replace (R25 , R6 , D327) ) , R6 , D326) ) by L2160 , MATRIX11:29
.= ( Replace (R25 , R6 , D326) ) by FUNCT_7:34
.= ( RLine (R25 , R6 , D322) ) by L2165 , MATRIX11:29;
L2177:
now
per cases ;
suppose L2178: (not R6 in R33);

L2179: ( Segm (R25 , R33 , R36) ) = ( Segm (D324 , R33 , R36) ) by L2178 , L2170 , L1346;
thus L2180: ( the_rank_of D324 ) >= ( the_rank_of R25 ) by L2179 , L2169 , L2170 , L2171 , L2172 , L2173 , L2175 , L2174 , L1631;
end;
suppose L2181: R6 in R33;

set D328 = ( EqSegm (R25 , R33 , R36) );
set D329 = ( EqSegm (D324 , R33 , R36) );
L2182: ( rng D322 ) c= D320 by FINSEQ_1:def 4;
L2183: (ex R8 being Nat st R33 c= ( Seg R8 )) by L1090;
L2184: ( dom ( Sgm R33 ) ) = ( Seg ( card R33 ) ) by L2183 , FINSEQ_3:40;
L2185: R36 c= ( Seg D321 ) by L2170 , L2171 , L1518;
L2186: ( dom ( Sgm R36 ) ) = ( Seg ( card R36 ) ) by L2185 , FINSEQ_3:40;
L2187: ( rng ( Sgm R36 ) ) c= ( Seg D321 ) by L2185 , FINSEQ_1:def 13;
L2188: ( dom ( D322 * ( Sgm R36 ) ) ) = ( dom ( Sgm R36 ) ) by L2187 , L2166 , RELAT_1:27;
reconsider D330 = ( D322 * ( Sgm R36 ) ) as FinSequence by L2188 , L2186 , FINSEQ_1:def 2;
L2189: ( rng D330 ) c= ( rng D322 ) by RELAT_1:26;
L2190: ( rng D330 ) c= (the carrier of R18) by L2189 , L2182 , XBOOLE_1:1;
reconsider D331 = D330 as (FinSequence of R18) by L2190 , FINSEQ_1:def 4;
L2191: ( len D331 ) = ( card R33 ) by L2171 , L2188 , L2186 , FINSEQ_1:def 3;
L2192: ( rng ( Sgm R33 ) ) = R33 by L2183 , FINSEQ_1:def 13;
consider C139 being set such that L2193: C139 in ( dom ( Sgm R33 ) ) and L2194: ( ( Sgm R33 ) . C139 ) = R6 by L2192 , L2181 , FUNCT_1:def 3;
reconsider D332 = C139 as (Element of ( NAT )) by L2193;
L2195: ( len ( Line (D328 , D332) ) ) = ( width D328 ) by MATRIX_1:def 7;
L2196: ( Line (D328 , D332) ) = ( ( Line (R25 , R6) ) * ( Sgm R36 ) ) by L2174 , L2193 , L2194 , L2184 , L2185 , L1122;
L2197: ( RLine (D329 , D332 , ( Line (D328 , D332) )) ) = ( Segm (R25 , R33 , R36) ) by L2196 , L2158 , L2161 , L2162 , L2169 , L2170 , L2171 , L2175 , L2194 , L1327;
L2198: R36 c= ( Seg ( width D324 ) ) by L2169 , L2170 , L2171 , L1518;
L2199: ( Line (D329 , D332) ) = ( ( Line (D324 , R6) ) * ( Sgm R36 ) ) by L2198 , L2175 , L2193 , L2194 , L2184 , L1122;
L2200: ( RLine (D329 , D332 , D331) ) = ( Segm (( RLine (R25 , R6 , D322) ) , R33 , R36) ) by L2165 , L2161 , L2176 , L2169 , L2170 , L2171 , L2175 , L2194 , L1327;
L2201: ( R19 * D331 ) = ( ( R19 * D322 ) * ( Sgm R36 ) ) by L2166 , L2187 , L1973;
L2202: ( len D331 ) = ( len ( R19 * D331 ) ) by MATRIXR1:16;
L2203: ( width D328 ) = ( card R33 ) by MATRIX_1:24;
L2204: ( Segm (( RLine (R25 , R6 , D322) ) , R33 , R36) ) = ( EqSegm (( RLine (R25 , R6 , D322) ) , R33 , R36) ) by L2171 , L1378;
L2205: D329 = ( RLine (D329 , D332 , ( Line (D329 , D332) )) ) by MATRIX11:30
.= ( RLine (D329 , D332 , ( ( Line (D328 , D332) ) + ( R19 * D331 ) )) ) by L2164 , L2159 , L2168 , L2187 , L2199 , L2196 , L2201 , L1993;
L2206: ( Det D329 ) = ( ( Det ( RLine (D329 , D332 , ( Line (D328 , D332) )) ) ) + ( Det ( RLine (D329 , D332 , ( R19 * D331 )) ) ) ) by L2205 , L2193 , L2184 , L2191 , L2202 , L2195 , L2203 , MATRIX11:36
.= ( ( Det ( RLine (D329 , D332 , ( Line (D328 , D332) )) ) ) + ( R19 * ( Det ( RLine (D329 , D332 , D331) ) ) ) ) by L2193 , L2184 , L2191 , MATRIX11:34
.= ( ( Det D328 ) + ( R19 * ( Det ( EqSegm (( RLine (R25 , R6 , D322) ) , R33 , R36) ) ) ) ) by L2171 , L2197 , L2200 , L2204 , L1378;
per cases ;
suppose L2207: ( Det D329 ) <> ( 0. R18 );

thus L2208: ( the_rank_of R25 ) <= ( the_rank_of D324 ) by L2207 , L2169 , L2170 , L2171 , L2172 , L1631;
end;
suppose L2209: ( Det D329 ) = ( 0. R18 );

reconsider D333 = R7 as non  zero (Element of ( NAT )) by L2153;
per cases ;
suppose L2210: R6 = R7;

L2211: ( Det D329 ) = ( ( Det D328 ) + ( R19 * ( Det D328 ) ) ) by L2210 , L2206 , MATRIX11:30
.= ( ( ( 1_ R18 ) * ( Det D328 ) ) + ( R19 * ( Det D328 ) ) ) by VECTSP_1:def 4
.= ( ( ( 1_ R18 ) + R19 ) * ( Det D328 ) ) by VECTSP_1:def 7;
L2212: ( ( 1_ R18 ) + R19 ) = ( 0. R18 ) by L2211 , L2173 , L2209 , VECTSP_1:12;
L2213: R19 = ( ( 0. R18 ) - ( 1_ R18 ) ) by L2212 , VECTSP_2:2
.= ( ( 0. R18 ) + ( - ( 1_ R18 ) ) )
.= ( - ( 1_ R18 ) ) by RLVECT_1:def 4;
thus L2214: ( the_rank_of D324 ) >= ( the_rank_of R25 ) by L2213 , L2154 , L2210;
end;
suppose L2215: (R6 <> R7 & R7 in R33);

L2216: ( rng ( Sgm R33 ) ) = R33 by L2183 , FINSEQ_1:def 13;
consider C140 being set such that L2217: C140 in ( dom ( Sgm R33 ) ) and L2218: ( ( Sgm R33 ) . C140 ) = D333 by L2216 , L2215 , FUNCT_1:def 3;
reconsider D334 = C140 as (Element of ( NAT )) by L2217;
L2219: ( 0. R18 ) = ( Det ( RLine (D328 , D332 , ( Line (D328 , D334) )) ) ) by L2193 , L2194 , L2184 , L2215 , L2217 , L2218 , MATRIX11:51;
L2220: ( 0. R18 ) = ( R19 * ( Det ( RLine (D328 , D332 , ( Line (D328 , D334) )) ) ) ) by L2219 , VECTSP_1:12;
L2221: ( RLine (D328 , D332 , ( Line (D328 , D334) )) ) = ( EqSegm (( RLine (R25 , R6 , D322) ) , R33 , R36) ) by L2165 , L2170 , L2171 , L2174 , L2194 , L2184 , L2185 , L2200 , L2204 , L2217 , L2218 , L1122 , L1327;
thus L2222: ( the_rank_of D324 ) >= ( the_rank_of R25 ) by L2221 , L2173 , L2206 , L2209 , L2220 , RLVECT_1:def 4;
end;
suppose L2223: (R6 <> R7 & (not R7 in R33));

set D335 = ( ( R33 \ { R6 } ) \/ { D333 } );
L2224: (not R6 in ( R33 \ { R6 } )) by ZFMISC_1:56;
L2225: [: D335 , R36 :] c= ( Indices D324 ) by L2153 , L2163 , L2169 , L2170 , L2171 , L2181 , L2223 , L1531;
L2226: ( R19 * ( Det ( EqSegm (( RLine (R25 , R6 , D322) ) , R33 , R36) ) ) ) <> ( 0. R18 ) by L2173 , L2206 , L2209 , RLVECT_1:def 4;
L2227: ( Det ( EqSegm (( RLine (R25 , R6 , D322) ) , R33 , R36) ) ) <> ( 0. R18 ) by L2226 , VECTSP_1:12;
L2228: (( Det ( EqSegm (( RLine (R25 , R6 , D322) ) , R33 , R36) ) ) = ( Det ( EqSegm (R25 , D335 , R36) ) ) or ( Det ( EqSegm (( RLine (R25 , R6 , D322) ) , R33 , R36) ) ) = ( - ( Det ( EqSegm (R25 , D335 , R36) ) ) )) by L2153 , L2163 , L2170 , L2171 , L2181 , L2223 , L1531;
L2229: ( Det ( EqSegm (R25 , D335 , R36) ) ) <> ( 0. R18 ) by L2228 , L2227 , VECTSP_2:3;
L2230: (not R6 in { R7 }) by L2223 , TARSKI:def 1;
L2231: (not R6 in D335) by L2230 , L2224 , XBOOLE_0:def 3;
L2232: ( card R33 ) = ( card D335 ) by L2153 , L2163 , L2170 , L2171 , L2181 , L2223 , L1531;
L2233: ( EqSegm (R25 , D335 , R36) ) = ( Segm (R25 , D335 , R36) ) by L2232 , L2171 , L1378
.= ( Segm (D324 , D335 , R36) ) by L2169 , L2225 , L2231 , L1346
.= ( EqSegm (D324 , D335 , R36) ) by L2171 , L2232 , L1378;
thus L2234: ( the_rank_of D324 ) >= ( the_rank_of R25 ) by L2233 , L2171 , L2172 , L2229 , L2232 , L2225 , L1631;
end;
end;
end;
end;
consider R32 being  without_zero  finite (Subset of ( NAT )), R35 being  without_zero  finite (Subset of ( NAT )) such that L2238: [: R32 , R35 :] c= ( Indices D324 ) and L2239: ( card R32 ) = ( card R35 ) and L2240: ( card R32 ) = ( the_rank_of D324 ) and L2241: ( Det ( EqSegm (D324 , R32 , R35) ) ) <> ( 0. R18 ) by L1631;
L2242: ( EqSegm (D324 , R32 , R35) ) = ( Segm (D324 , R32 , R35) ) by L2239 , L1378;
L2243: ( EqSegm (R25 , R32 , R35) ) = ( Segm (R25 , R32 , R35) ) by L2239 , L1378;
L2244:
now
per cases ;
suppose L2245: (not R6 in R32);

L2246: ( Segm (R25 , R32 , R35) ) = ( Segm (D324 , R32 , R35) ) by L2245 , L2238 , L2169 , L1346;
thus L2247: ( the_rank_of D324 ) <= ( the_rank_of R25 ) by L2246 , L2238 , L2239 , L2240 , L2241 , L2242 , L2243 , L2169 , L1631;
end;
suppose L2248: R6 in R32;

set D336 = ( EqSegm (R25 , R32 , R35) );
set D337 = ( EqSegm (D324 , R32 , R35) );
L2249: ( rng D322 ) c= D320 by FINSEQ_1:def 4;
L2250: (ex R8 being Nat st R32 c= ( Seg R8 )) by L1090;
L2251: ( dom ( Sgm R32 ) ) = ( Seg ( card R32 ) ) by L2250 , FINSEQ_3:40;
L2252: R35 c= ( Seg D321 ) by L2238 , L2239 , L2169 , L1518;
L2253: ( dom ( Sgm R35 ) ) = ( Seg ( card R35 ) ) by L2252 , FINSEQ_3:40;
L2254: ( rng ( Sgm R35 ) ) c= ( Seg D321 ) by L2252 , FINSEQ_1:def 13;
L2255: ( dom ( D322 * ( Sgm R35 ) ) ) = ( dom ( Sgm R35 ) ) by L2254 , L2166 , RELAT_1:27;
reconsider D338 = ( D322 * ( Sgm R35 ) ) as FinSequence by L2255 , L2253 , FINSEQ_1:def 2;
L2256: ( rng D338 ) c= ( rng D322 ) by RELAT_1:26;
L2257: ( rng D338 ) c= (the carrier of R18) by L2256 , L2249 , XBOOLE_1:1;
reconsider D339 = D338 as (FinSequence of R18) by L2257 , FINSEQ_1:def 4;
L2258: ( len D339 ) = ( card R32 ) by L2239 , L2255 , L2253 , FINSEQ_1:def 3;
L2259: ( rng ( Sgm R32 ) ) = R32 by L2250 , FINSEQ_1:def 13;
consider C141 being set such that L2260: C141 in ( dom ( Sgm R32 ) ) and L2261: ( ( Sgm R32 ) . C141 ) = R6 by L2259 , L2248 , FUNCT_1:def 3;
reconsider D340 = C141 as (Element of ( NAT )) by L2260;
L2262: ( len ( Line (D336 , D340) ) ) = ( width D336 ) by MATRIX_1:def 7;
L2263: ( Line (D336 , D340) ) = ( ( Line (R25 , R6) ) * ( Sgm R35 ) ) by L2243 , L2260 , L2261 , L2251 , L2252 , L1122;
L2264: ( RLine (D337 , D340 , ( Line (D336 , D340) )) ) = ( Segm (R25 , R32 , R35) ) by L2263 , L2158 , L2161 , L2162 , L2238 , L2239 , L2242 , L2261 , L1327;
L2265: R35 c= ( Seg ( width D324 ) ) by L2238 , L2239 , L1518;
L2266: ( Line (D337 , D340) ) = ( ( Line (D324 , R6) ) * ( Sgm R35 ) ) by L2265 , L2242 , L2260 , L2261 , L2251 , L1122;
L2267: ( RLine (D337 , D340 , D339) ) = ( Segm (( RLine (R25 , R6 , D322) ) , R32 , R35) ) by L2165 , L2161 , L2176 , L2238 , L2239 , L2242 , L2261 , L1327;
L2268: ( R19 * D339 ) = ( ( R19 * D322 ) * ( Sgm R35 ) ) by L2166 , L2254 , L1973;
L2269: ( len D339 ) = ( len ( R19 * D339 ) ) by MATRIXR1:16;
L2270: ( width D336 ) = ( card R32 ) by MATRIX_1:24;
L2271: ( Segm (( RLine (R25 , R6 , D322) ) , R32 , R35) ) = ( EqSegm (( RLine (R25 , R6 , D322) ) , R32 , R35) ) by L2239 , L1378;
L2272: D337 = ( RLine (D337 , D340 , ( Line (D337 , D340) )) ) by MATRIX11:30
.= ( RLine (D337 , D340 , ( ( Line (D336 , D340) ) + ( R19 * D339 ) )) ) by L2164 , L2159 , L2168 , L2254 , L2266 , L2263 , L2268 , L1993;
L2273: ( Det D337 ) = ( ( Det ( RLine (D337 , D340 , ( Line (D336 , D340) )) ) ) + ( Det ( RLine (D337 , D340 , ( R19 * D339 )) ) ) ) by L2272 , L2260 , L2251 , L2258 , L2269 , L2262 , L2270 , MATRIX11:36
.= ( ( Det ( RLine (D337 , D340 , ( Line (D336 , D340) )) ) ) + ( R19 * ( Det ( RLine (D337 , D340 , D339) ) ) ) ) by L2260 , L2251 , L2258 , MATRIX11:34
.= ( ( Det D336 ) + ( R19 * ( Det ( EqSegm (( RLine (R25 , R6 , D322) ) , R32 , R35) ) ) ) ) by L2239 , L2264 , L2267 , L2271 , L1378;
per cases ;
suppose L2274: ( Det ( EqSegm (R25 , R32 , R35) ) ) <> ( 0. R18 );

thus L2275: ( the_rank_of D324 ) <= ( the_rank_of R25 ) by L2274 , L2238 , L2239 , L2240 , L2169 , L1631;
end;
suppose L2276: ( Det ( EqSegm (R25 , R32 , R35) ) ) = ( 0. R18 );

reconsider D341 = R7 as non  zero (Element of ( NAT )) by L2153;
per cases ;
suppose L2277: R6 = R7;

L2278: ( Det D337 ) = ( ( Det D336 ) + ( R19 * ( Det D336 ) ) ) by L2277 , L2273 , MATRIX11:30
.= ( ( ( 1_ R18 ) * ( Det D336 ) ) + ( R19 * ( Det D336 ) ) ) by VECTSP_1:def 4
.= ( ( ( 1_ R18 ) + R19 ) * ( Det D336 ) ) by VECTSP_1:def 7;
thus L2279: ( the_rank_of D324 ) <= ( the_rank_of R25 ) by L2278 , L2241 , L2276 , VECTSP_1:12;
end;
suppose L2280: (R6 <> R7 & R7 in R32);

L2281: ( rng ( Sgm R32 ) ) = R32 by L2250 , FINSEQ_1:def 13;
consider C142 being set such that L2282: C142 in ( dom ( Sgm R32 ) ) and L2283: ( ( Sgm R32 ) . C142 ) = D341 by L2281 , L2280 , FUNCT_1:def 3;
reconsider D342 = C142 as (Element of ( NAT )) by L2282;
L2284: ( RLine (D336 , D340 , ( Line (D336 , D342) )) ) = ( EqSegm (( RLine (R25 , R6 , D322) ) , R32 , R35) ) by L2165 , L2238 , L2239 , L2243 , L2169 , L2261 , L2251 , L2252 , L2267 , L2271 , L2282 , L2283 , L1122 , L1327;
L2285: ( 0. R18 ) = ( Det ( RLine (D336 , D340 , ( Line (D336 , D342) )) ) ) by L2260 , L2261 , L2251 , L2280 , L2282 , L2283 , MATRIX11:51;
L2286: ( 0. R18 ) = ( R19 * ( Det ( RLine (D336 , D340 , ( Line (D336 , D342) )) ) ) ) by L2285 , VECTSP_1:12
.= ( ( Det D336 ) + ( R19 * ( Det ( EqSegm (( RLine (R25 , R6 , D322) ) , R32 , R35) ) ) ) ) by L2276 , L2284 , RLVECT_1:def 4;
thus L2287: ( the_rank_of D324 ) <= ( the_rank_of R25 ) by L2286 , L2241 , L2273;
end;
suppose L2288: (R6 <> R7 & (not R7 in R32));

set D343 = ( ( R32 \ { R6 } ) \/ { D341 } );
L2289: ( card R32 ) = ( card D343 ) by L2153 , L2163 , L2238 , L2239 , L2248 , L2288 , L1531;
L2290: ( R19 * ( Det ( EqSegm (( RLine (R25 , R6 , D322) ) , R32 , R35) ) ) ) <> ( 0. R18 ) by L2241 , L2273 , L2276 , RLVECT_1:def 4;
L2291: ( Det ( EqSegm (( RLine (R25 , R6 , D322) ) , R32 , R35) ) ) <> ( 0. R18 ) by L2290 , VECTSP_1:12;
L2292: (( Det ( EqSegm (( RLine (R25 , R6 , D322) ) , R32 , R35) ) ) = ( Det ( EqSegm (R25 , D343 , R35) ) ) or ( Det ( EqSegm (( RLine (R25 , R6 , D322) ) , R32 , R35) ) ) = ( - ( Det ( EqSegm (R25 , D343 , R35) ) ) )) by L2153 , L2163 , L2238 , L2239 , L2169 , L2248 , L2288 , L1531;
L2293: ( Det ( EqSegm (R25 , D343 , R35) ) ) <> ( 0. R18 ) by L2292 , L2291 , VECTSP_2:3;
L2294: [: D343 , R35 :] c= ( Indices R25 ) by L2153 , L2163 , L2238 , L2239 , L2169 , L2248 , L2288 , L1531;
thus L2295: ( the_rank_of D324 ) <= ( the_rank_of R25 ) by L2294 , L2239 , L2240 , L2293 , L2289 , L1631;
end;
end;
end;
end;
thus L2299: thesis by L2244 , L2177 , XXREAL_0:1;
end;
end;
theorem
L2301: (for R6 being Nat holds (for R7 being Nat holds (for R12 being Nat holds (for R13 being Nat holds (for R18 being Field holds (for R19 being (Element of R18) holds (for R25 being (Matrix of R13 , R12 , R18) holds ((R7 in ( Seg ( len R25 ) ) & R7 <> R6) implies ( the_rank_of ( DelLine (R25 , R6) ) ) = ( the_rank_of ( RLine (R25 , R6 , ( R19 * ( Line (R25 , R7) ) )) ) )))))))))
proof
let R6 being Nat;
let R7 being Nat;
let R12 being Nat;
let R13 being Nat;
let R18 being Field;
let R19 being (Element of R18);
let R25 being (Matrix of R13 , R12 , R18);
assume that
L2302: R7 in ( Seg ( len R25 ) )
and
L2303: R6 <> R7;
per cases ;
suppose L2304: R6 in ( Seg ( len R25 ) );

set D344 = ( Line (R25 , R6) );
set D345 = ( width R25 );
set D346 = ( RLine (R25 , R6 , ( ( 0. R18 ) * D344 )) );
L2305: D345 = ( len ( ( 0. R18 ) * D344 ) ) by CARD_1:def 7;
L2306: ( len D346 ) = ( len R25 ) by L2305 , MATRIX11:def 3;
set D347 = ( Line (R25 , R7) );
L2307: D345 = ( len ( R19 * D347 ) ) by CARD_1:def 7;
reconsider D348 = ( ( 0. R18 ) * D344 ) , D349 = ( R19 * D347 ) as (Element of ( (the carrier of R18) * )) by FINSEQ_1:def 11;
L2308: ( width D346 ) = D345 by L2305 , MATRIX11:def 3;
L2309: ( RLine (D346 , R6 , D349) ) = ( Replace (D346 , R6 , D349) ) by L2308 , L2307 , MATRIX11:29
.= ( Replace (( Replace (R25 , R6 , D348) ) , R6 , D349) ) by L2305 , MATRIX11:29
.= ( Replace (R25 , R6 , D349) ) by FUNCT_7:34
.= ( RLine (R25 , R6 , D349) ) by L2307 , MATRIX11:29;
L2310: ( len R25 ) = R13 by MATRIX_1:def 2;
L2311: ( Line (D346 , R7) ) = ( Line (R25 , R7) ) by L2310 , L2302 , L2303 , MATRIX11:28;
L2312: ( Line (D346 , R6) ) = ( ( 0. R18 ) * D344 ) by L2304 , L2305 , L2310 , MATRIX11:28;
L2313: ( ( Line (D346 , R6) ) + ( R19 * ( Line (D346 , R7) ) ) ) = ( ( D345 |-> ( 0. R18 ) ) + ( R19 * ( Line (R25 , R7) ) ) ) by L2312 , L2311 , FVSUM_1:58
.= ( R19 * ( Line (R25 , R7) ) ) by FVSUM_1:21;
L2314: D345 = ( len D344 ) by CARD_1:def 7;
thus L2315: ( the_rank_of ( DelLine (R25 , R6) ) ) = ( the_rank_of D346 ) by L2314 , L2131
.= ( the_rank_of ( RLine (R25 , R6 , ( R19 * D347 )) ) ) by L2302 , L2303 , L2306 , L2313 , L2309 , L2152;
end;
suppose L2316: (not R6 in ( Seg ( len R25 ) ));

L2317: (not R6 in ( dom R25 )) by L2316 , FINSEQ_1:def 3;
L2318: ( DelLine (R25 , R6) ) = R25 by L2317 , FINSEQ_3:104;
thus L2319: thesis by L2318 , L2316 , L1009;
end;
end;
theorem
L2321: (for R18 being Field holds (for R31 being (Matrix of R18) holds (( the_rank_of R31 ) > ( 0 ) iff (ex R6 being Nat st (ex R7 being Nat st ([ R6 , R7 ] in ( Indices R31 ) & ( R31 * (R6 , R7) ) <> ( 0. R18 )))))))
proof
let R18 being Field;
let R31 being (Matrix of R18);
set D350 = ( the_rank_of R31 );
thus L2322: (D350 > ( 0 ) implies (ex R6 being Nat st (ex R7 being Nat st ([ R6 , R7 ] in ( Indices R31 ) & ( R31 * (R6 , R7) ) <> ( 0. R18 )))))
proof
consider R32 being  without_zero  finite (Subset of ( NAT )), R35 being  without_zero  finite (Subset of ( NAT )) such that L2323: [: R32 , R35 :] c= ( Indices R31 ) and L2324: ( card R32 ) = ( card R35 ) and L2325: ( card R32 ) = D350 and L2326: ( Det ( EqSegm (R31 , R32 , R35) ) ) <> ( 0. R18 ) by L1631;
assume L2327: D350 > ( 0 );
consider R1 being set such that L2328: R1 in R32 by L2327 , L2325 , CARD_1:27 , XBOOLE_0:def 1;
reconsider D351 = R1 as non  zero (Element of ( NAT )) by L2328;
L2329: { D351 } c= R32 by L2328 , ZFMISC_1:31;
consider R36 being  without_zero  finite (Subset of ( NAT )) such that L2330: R36 c= R35 and L2331: ( card { D351 } ) = ( card R36 ) and L2332: ( Det ( EqSegm (R31 , { D351 } , R36) ) ) <> ( 0. R18 ) by L2329 , L2324 , L2326 , L1422;
consider R2 being set such that L2333: { R2 } = R36 by L2331 , CARD_2:42;
L2334: R2 in { R2 } by TARSKI:def 1;
reconsider D352 = R2 as non  zero (Element of ( NAT )) by L2334 , L2333;
take D351;
take D352;
L2335: D352 in R36 by L2333 , TARSKI:def 1;
L2336: [ D351 , D352 ] in [: R32 , R35 :] by L2335 , L2328 , L2330 , ZFMISC_1:87;
thus L2337: [ D351 , D352 ] in ( Indices R31 ) by L2336 , L2323;
L2338: ( card { D351 } ) = 1 by CARD_1:30;
L2339: ( EqSegm (R31 , { D351 } , R36) ) = ( Segm (R31 , { D351 } , { D352 }) ) by L2331 , L2333 , L1378
.= <* <* ( R31 * (D351 , D352) ) *> *> by L1098;
thus L2340: thesis by L2339 , L2332 , L2338 , MATRIX_3:34;
end;

given R6 being Nat , R7 being Nat such that
L2341: [ R6 , R7 ] in ( Indices R31 )
and
L2342: ( R31 * (R6 , R7) ) <> ( 0. R18 );

L2343: R7 in ( Seg ( width R31 ) ) by L2341 , ZFMISC_1:87;
L2344: ( Indices R31 ) = [: ( Seg ( len R31 ) ) , ( Seg ( width R31 ) ) :] by FINSEQ_1:def 3;
L2345: R6 in ( Seg ( len R31 ) ) by L2344 , L2341 , ZFMISC_1:87;
reconsider D353 = R6 , D354 = R7 as non  zero (Element of ( NAT )) by L2345 , L2343;
L2346: ( card { D353 } ) = 1 by CARD_1:30;
L2347: ( card { D354 } ) = 1 by CARD_1:30;
L2348: ( EqSegm (R31 , { D353 } , { D354 }) ) = ( Segm (R31 , { D353 } , { D354 }) ) by L2347 , L1378 , CARD_1:30
.= <* <* ( R31 * (D353 , D354) ) *> *> by L1098;
L2349: ( Det ( EqSegm (R31 , { D353 } , { D354 }) ) ) <> ( 0. R18 ) by L2348 , L2342 , L2346 , MATRIX_3:34;
L2350: { D354 } c= ( Seg ( width R31 ) ) by L2343 , ZFMISC_1:31;
L2351: { D353 } c= ( Seg ( len R31 ) ) by L2345 , ZFMISC_1:31;
L2352: [: { D353 } , { D354 } :] c= ( Indices R31 ) by L2351 , L2346 , L2347 , L2350 , L1518;
thus L2353: thesis by L2352 , L2346 , L2347 , L2349 , L1631;
end;
theorem
L2354: (for R18 being Field holds (for R31 being (Matrix of R18) holds (( the_rank_of R31 ) = ( 0 ) iff R31 = ( 0. (R18 , ( len R31 ) , ( width R31 )) ))))
proof
let R18 being Field;
let R31 being (Matrix of R18);
set D355 = ( 0. (R18 , ( len R31 ) , ( width R31 )) );
reconsider D356 = R31 as (Matrix of ( len R31 ) , ( width R31 ) , R18) by MATRIX_2:7;
thus L2355: (( the_rank_of R31 ) = ( 0 ) implies R31 = ( 0. (R18 , ( len R31 ) , ( width R31 )) ))
proof
assume L2356: ( the_rank_of R31 ) = ( 0 );
L2357:
now
L2358: ( Indices D356 ) = ( Indices D355 ) by MATRIX_1:26;
let R6 being Nat;
let R7 being Nat;
assume that
L2359: [ R6 , R7 ] in ( Indices D356 );
reconsider D357 = R6 , D358 = R7 as (Element of ( NAT )) by ORDINAL1:def 12;
L2360: ( R31 * (D357 , D358) ) = ( 0. R18 ) by L2356 , L2359 , L2321;
thus L2361: ( D356 * (R6 , R7) ) = ( D355 * (R6 , R7) ) by L2360 , L2359 , L2358 , MATRIX_3:1;
end;
thus L2362: thesis by L2357 , MATRIX_1:27;
end;

assume L2363: R31 = D355;
assume L2364: ( the_rank_of R31 ) <> ( 0 );
L2365: (ex R6 being Nat st (ex R7 being Nat st ([ R6 , R7 ] in ( Indices R31 ) & ( R31 * (R6 , R7) ) <> ( 0. R18 )))) by L2364 , L2321;
thus L2366: thesis by L2365 , L2363 , MATRIX_3:1;
end;
theorem
L2367: (for R18 being Field holds (for R31 being (Matrix of R18) holds (( the_rank_of R31 ) = 1 iff ((ex R6 being Nat st (ex R7 being Nat st ([ R6 , R7 ] in ( Indices R31 ) & ( R31 * (R6 , R7) ) <> ( 0. R18 )))) & (for R14 being non  zero Nat holds (for R15 being non  zero Nat holds (for R16 being non  zero Nat holds (for R17 being non  zero Nat holds ((R14 <> R15 & R16 <> R17 & [: { R14 , R15 } , { R16 , R17 } :] c= ( Indices R31 )) implies ( Det ( EqSegm (R31 , { R14 , R15 } , { R16 , R17 }) ) ) = ( 0. R18 ))))))))))
proof
let R18 being Field;
let R31 being (Matrix of R18);
consider R32 being  without_zero  finite (Subset of ( NAT )), R35 being  without_zero  finite (Subset of ( NAT )) such that L2368: [: R32 , R35 :] c= ( Indices R31 ) and L2369: ( card R32 ) = ( card R35 ) and L2370: ( card R32 ) = ( the_rank_of R31 ) and L2371: ( Det ( EqSegm (R31 , R32 , R35) ) ) <> ( 0. R18 ) by L1631;
thus L2372: (( the_rank_of R31 ) = 1 implies ((ex R6 being Nat st (ex R7 being Nat st ([ R6 , R7 ] in ( Indices R31 ) & ( R31 * (R6 , R7) ) <> ( 0. R18 )))) & (for R14 being non  zero Nat holds (for R15 being non  zero Nat holds (for R16 being non  zero Nat holds (for R17 being non  zero Nat holds ((R14 <> R15 & R16 <> R17 & [: { R14 , R15 } , { R16 , R17 } :] c= ( Indices R31 )) implies ( Det ( EqSegm (R31 , { R14 , R15 } , { R16 , R17 }) ) ) = ( 0. R18 ))))))))
proof
assume L2373: ( the_rank_of R31 ) = 1;
thus L2374: (ex R6 being Nat st (ex R7 being Nat st ([ R6 , R7 ] in ( Indices R31 ) & ( R31 * (R6 , R7) ) <> ( 0. R18 )))) by L2373 , L2321;
let R14 being non  zero Nat;
let R15 being non  zero Nat;
let R16 being non  zero Nat;
let R17 being non  zero Nat;
assume that
L2375: R14 <> R15
and
L2376: R16 <> R17
and
L2377: [: { R14 , R15 } , { R16 , R17 } :] c= ( Indices R31 );
L2378: ( card { R16 , R17 } ) = 2 by L2376 , CARD_2:57;
assume L2379: ( Det ( EqSegm (R31 , { R14 , R15 } , { R16 , R17 }) ) ) <> ( 0. R18 );
L2380: ( card { R14 , R15 } ) = 2 by L2375 , CARD_2:57;
thus L2381: thesis by L2380 , L2373 , L2377 , L2379 , L2378 , L1631;
end;

assume L2382: (ex R6 being Nat st (ex R7 being Nat st ([ R6 , R7 ] in ( Indices R31 ) & ( R31 * (R6 , R7) ) <> ( 0. R18 ))));
L2383: ( the_rank_of R31 ) > ( 0 ) by L2382 , L2321;
assume L2384: (for R14 being non  zero Nat holds (for R15 being non  zero Nat holds (for R16 being non  zero Nat holds (for R17 being non  zero Nat holds ((R14 <> R15 & R16 <> R17 & [: { R14 , R15 } , { R16 , R17 } :] c= ( Indices R31 )) implies ( Det ( EqSegm (R31 , { R14 , R15 } , { R16 , R17 }) ) ) = ( 0. R18 ))))));
assume L2385: ( the_rank_of R31 ) <> 1;
L2386: ( card R32 ) > 1 by L2385 , L2383 , L2370 , NAT_1:25;
L2387: ( card R32 ) >= ( 1 + 1 ) by L2386 , NAT_1:13;
consider C143 being  finite (Subset of R32) such that L2388: ( card C143 ) = 2 by L2387 , FINSEQ_4:72;
L2389: (not ( 0 ) in C143);
reconsider D359 = C143 as  without_zero  finite (Subset of ( NAT )) by L2389 , MEASURE6:def 2 , XBOOLE_1:1;
consider R36 being  without_zero  finite (Subset of ( NAT )) such that L2390: R36 c= R35 and L2391: ( card D359 ) = ( card R36 ) and L2392: ( Det ( EqSegm (R31 , D359 , R36) ) ) <> ( 0. R18 ) by L2369 , L2371 , L1422;
consider C144 , C145 being set such that L2393: C144 <> C145 and L2394: R36 = { C144 , C145 } by L2388 , L2391 , CARD_2:60;
L2395: C144 in R36 by L2394 , TARSKI:def 2;
L2396: C145 in R36 by L2394 , TARSKI:def 2;
reconsider D360 = C144 , D361 = C145 as non  zero (Element of ( NAT )) by L2396 , L2395;
consider C146 , C147 being set such that L2397: C146 <> C147 and L2398: D359 = { C146 , C147 } by L2388 , CARD_2:60;
L2399: C146 in D359 by L2398 , TARSKI:def 2;
L2400: C147 in D359 by L2398 , TARSKI:def 2;
reconsider D362 = C146 , D363 = C147 as non  zero (Element of ( NAT )) by L2400 , L2399;
L2401: [: D359 , R36 :] c= [: R32 , R35 :] by L2390 , ZFMISC_1:96;
L2402: [: { D362 , D363 } , { D360 , D361 } :] c= ( Indices R31 ) by L2401 , L2368 , L2398 , L2394 , XBOOLE_1:1;
thus L2403: thesis by L2402 , L2384 , L2397 , L2398 , L2392 , L2393 , L2394;
end;
theorem
L2404: (for R18 being Field holds (for R31 being (Matrix of R18) holds (( the_rank_of R31 ) = 1 iff ((ex R6 being Nat st (ex R7 being Nat st ([ R6 , R7 ] in ( Indices R31 ) & ( R31 * (R6 , R7) ) <> ( 0. R18 )))) & (for R6 being Nat holds (for R7 being Nat holds (for R11 being Nat holds (for R10 being Nat holds ([: { R6 , R7 } , { R11 , R10 } :] c= ( Indices R31 ) implies ( ( R31 * (R6 , R11) ) * ( R31 * (R7 , R10) ) ) = ( ( R31 * (R6 , R10) ) * ( R31 * (R7 , R11) ) ))))))))))
proof
let R18 being Field;
let R31 being (Matrix of R18);
thus L2405: (( the_rank_of R31 ) = 1 implies ((ex R6 being Nat st (ex R7 being Nat st ([ R6 , R7 ] in ( Indices R31 ) & ( R31 * (R6 , R7) ) <> ( 0. R18 )))) & (for R6 being Nat holds (for R7 being Nat holds (for R11 being Nat holds (for R10 being Nat holds ([: { R6 , R7 } , { R11 , R10 } :] c= ( Indices R31 ) implies ( ( R31 * (R6 , R11) ) * ( R31 * (R7 , R10) ) ) = ( ( R31 * (R6 , R10) ) * ( R31 * (R7 , R11) ) ))))))))
proof
assume L2406: ( the_rank_of R31 ) = 1;
thus L2407: (ex R6 being Nat st (ex R7 being Nat st ([ R6 , R7 ] in ( Indices R31 ) & ( R31 * (R6 , R7) ) <> ( 0. R18 )))) by L2406 , L2367;
let C148 , C149 , C150 , C151 being Nat;
assume that
L2408: [: { C148 , C149 } , { C150 , C151 } :] c= ( Indices R31 );
per cases ;
suppose L2409: (C148 = C149 or C150 = C151);

thus L2410: thesis by L2409;
end;
suppose L2411: (C148 <> C149 & C150 <> C151);

L2412: ( Indices R31 ) = [: ( Seg ( len R31 ) ) , ( Seg ( width R31 ) ) :] by FINSEQ_1:def 3;
L2413: { C148 , C149 } c= ( Seg ( len R31 ) ) by L2412 , L2408 , ZFMISC_1:114;
L2414: C148 in { C148 , C149 } by TARSKI:def 2;
L2415: C150 in { C150 , C151 } by TARSKI:def 2;
L2416: C151 in { C150 , C151 } by TARSKI:def 2;
L2417: C149 in { C148 , C149 } by TARSKI:def 2;
L2418: { C150 , C151 } c= ( Seg ( width R31 ) ) by L2408 , ZFMISC_1:114;
reconsider D364 = C148 , D365 = C149 , D366 = C151 , D367 = C150 as non  zero (Element of ( NAT )) by L2418 , L2413 , L2414 , L2417 , L2416 , L2415;
L2419: ( card { D364 , D365 } ) = 2 by L2411 , CARD_2:57;
set D368 = ( R31 * (D365 , D366) );
set D369 = ( R31 * (D365 , D367) );
set D370 = ( R31 * (D364 , D366) );
set D371 = ( R31 * (D364 , D367) );
L2420: ( Det ( EqSegm (R31 , { D364 , D365 } , { D367 , D366 }) ) ) = ( 0. R18 ) by L2406 , L2408 , L2411 , L2367;
L2421: ( card { D367 , D366 } ) = 2 by L2411 , CARD_2:57;
L2422: ( EqSegm (R31 , { D364 , D365 } , { D367 , D366 }) ) = ( Segm (R31 , { D364 , D365 } , { D367 , D366 }) ) by L2421 , L2419 , L1378;
per cases  by L2411 , XXREAL_0:1;
suppose L2423: (D364 < D365 & D367 < D366);

L2424: ( 0. R18 ) = ( Det ( (D371 , D370) ][ (D369 , D368) ) ) by L2423 , L2419 , L2422 , L2420 , L1106
.= ( ( D371 * D368 ) - ( D370 * D369 ) ) by MATRIX_9:13;
thus L2425: thesis by L2424 , VECTSP_1:19;
end;
suppose L2426: (D364 < D365 & D367 > D366);

L2427: ( 0. R18 ) = ( Det ( (D370 , D371) ][ (D368 , D369) ) ) by L2426 , L2419 , L2422 , L2420 , L1106
.= ( ( D370 * D369 ) - ( D371 * D368 ) ) by MATRIX_9:13;
thus L2428: thesis by L2427 , VECTSP_1:19;
end;
suppose L2429: (D364 > D365 & D367 < D366);

L2430: ( 0. R18 ) = ( Det ( (D369 , D368) ][ (D371 , D370) ) ) by L2429 , L2419 , L2422 , L2420 , L1106
.= ( ( D369 * D370 ) - ( D368 * D371 ) ) by MATRIX_9:13;
thus L2431: thesis by L2430 , VECTSP_1:19;
end;
suppose L2432: (D364 > D365 & D367 > D366);

L2433: ( 0. R18 ) = ( Det ( (D368 , D369) ][ (D370 , D371) ) ) by L2432 , L2419 , L2422 , L2420 , L1106
.= ( ( D368 * D371 ) - ( D369 * D370 ) ) by MATRIX_9:13;
thus L2434: thesis by L2433 , VECTSP_1:19;
end;
end;
end;

assume that
L2437: (ex R6 being Nat st (ex R7 being Nat st ([ R6 , R7 ] in ( Indices R31 ) & ( R31 * (R6 , R7) ) <> ( 0. R18 ))))
and
L2438: (for R6 being Nat holds (for R7 being Nat holds (for R11 being Nat holds (for R10 being Nat holds ([: { R6 , R7 } , { R11 , R10 } :] c= ( Indices R31 ) implies ( ( R31 * (R6 , R11) ) * ( R31 * (R7 , R10) ) ) = ( ( R31 * (R6 , R10) ) * ( R31 * (R7 , R11) ) ))))));
L2439:
now
let R14 being non  zero Nat;
let R15 being non  zero Nat;
let R16 being non  zero Nat;
let R17 being non  zero Nat;
assume that
L2440: R14 <> R15
and
L2441: R16 <> R17
and
L2442: [: { R14 , R15 } , { R16 , R17 } :] c= ( Indices R31 );
L2443: ( card { R14 , R15 } ) = 2 by L2440 , CARD_2:57;
set D372 = ( R31 * (R15 , R17) );
set D373 = ( R31 * (R15 , R16) );
set D374 = ( R31 * (R14 , R17) );
set D375 = ( R31 * (R14 , R16) );
L2444: ( D375 * D372 ) = ( D374 * D373 ) by L2438 , L2442;
L2445: ( card { R16 , R17 } ) = 2 by L2441 , CARD_2:57;
L2446: ( EqSegm (R31 , { R14 , R15 } , { R16 , R17 }) ) = ( Segm (R31 , { R14 , R15 } , { R16 , R17 }) ) by L2445 , L2443 , L1378;
per cases  by L2440 , L2441 , XXREAL_0:1;
suppose L2447: (R14 < R15 & R16 < R17);

L2448: ( EqSegm (R31 , { R14 , R15 } , { R16 , R17 }) ) = ( (D375 , D374) ][ (D373 , D372) ) by L2447 , L2446 , L1106;
thus L2449: ( Det ( EqSegm (R31 , { R14 , R15 } , { R16 , R17 }) ) ) = ( ( D375 * D372 ) - ( D374 * D373 ) ) by L2448 , L2443 , MATRIX_9:13
.= ( 0. R18 ) by L2444 , VECTSP_1:19;
end;
suppose L2450: (R14 < R15 & R16 > R17);

L2451: ( EqSegm (R31 , { R14 , R15 } , { R16 , R17 }) ) = ( (D374 , D375) ][ (D372 , D373) ) by L2450 , L2446 , L1106;
thus L2452: ( Det ( EqSegm (R31 , { R14 , R15 } , { R16 , R17 }) ) ) = ( ( D374 * D373 ) - ( D375 * D372 ) ) by L2451 , L2443 , MATRIX_9:13
.= ( 0. R18 ) by L2444 , VECTSP_1:19;
end;
suppose L2453: (R14 > R15 & R16 < R17);

L2454: ( EqSegm (R31 , { R14 , R15 } , { R16 , R17 }) ) = ( (D373 , D372) ][ (D375 , D374) ) by L2453 , L2446 , L1106;
thus L2455: ( Det ( EqSegm (R31 , { R14 , R15 } , { R16 , R17 }) ) ) = ( ( D373 * D374 ) - ( D372 * D375 ) ) by L2454 , L2443 , MATRIX_9:13
.= ( 0. R18 ) by L2444 , VECTSP_1:19;
end;
suppose L2456: (R14 > R15 & R16 > R17);

L2457: ( EqSegm (R31 , { R14 , R15 } , { R16 , R17 }) ) = ( (D372 , D373) ][ (D374 , D375) ) by L2456 , L2446 , L1106;
thus L2458: ( Det ( EqSegm (R31 , { R14 , R15 } , { R16 , R17 }) ) ) = ( ( D372 * D375 ) - ( D373 * D374 ) ) by L2457 , L2443 , MATRIX_9:13
.= ( 0. R18 ) by L2444 , VECTSP_1:19;
end;
end;
thus L2460: thesis by L2439 , L2437 , L2367;
end;
theorem
L2461: (for R18 being Field holds (for R31 being (Matrix of R18) holds (( the_rank_of R31 ) = 1 iff (ex R6 being Nat st (R6 in ( Seg ( len R31 ) ) & (ex R7 being Nat st (R7 in ( Seg ( width R31 ) ) & ( R31 * (R6 , R7) ) <> ( 0. R18 ))) & (for R8 being Nat holds (R8 in ( Seg ( len R31 ) ) implies (ex R19 being (Element of R18) st ( Line (R31 , R8) ) = ( R19 * ( Line (R31 , R6) ) )))))))))
proof
let R18 being Field;
let R31 being (Matrix of R18);
L2462: ( Indices R31 ) = [: ( Seg ( len R31 ) ) , ( Seg ( width R31 ) ) :] by FINSEQ_1:def 3;
thus L2463: (( the_rank_of R31 ) = 1 implies (ex R6 being Nat st (R6 in ( Seg ( len R31 ) ) & (ex R7 being Nat st (R7 in ( Seg ( width R31 ) ) & ( R31 * (R6 , R7) ) <> ( 0. R18 ))) & (for R8 being Nat holds (R8 in ( Seg ( len R31 ) ) implies (ex R19 being (Element of R18) st ( Line (R31 , R8) ) = ( R19 * ( Line (R31 , R6) ) )))))))
proof
assume L2464: ( the_rank_of R31 ) = 1;
consider R6 being Nat, R7 being Nat such that L2465: [ R6 , R7 ] in ( Indices R31 ) and L2466: ( R31 * (R6 , R7) ) <> ( 0. R18 ) by L2464 , L2404;
take R6;
L2467: R7 in ( Seg ( width R31 ) ) by L2465 , ZFMISC_1:87;
thus L2468: (R6 in ( Seg ( len R31 ) ) & (ex R7 being Nat st (R7 in ( Seg ( width R31 ) ) & ( R31 * (R6 , R7) ) <> ( 0. R18 )))) by L2467 , L2462 , L2465 , L2466 , ZFMISC_1:87;
set D376 = ( Line (R31 , R6) );
set D377 = ( R31 * (R6 , R7) );
let R8 being Nat;
assume that
L2469: R8 in ( Seg ( len R31 ) );
set D378 = ( Line (R31 , R8) );
set D379 = ( R31 * (R8 , R7) );
take D380 = ( D379 * ( D377 " ) );
L2470: R6 in ( Seg ( len R31 ) ) by L2462 , L2465 , ZFMISC_1:87;
L2471:
now
let R11 being Nat;
assume that
L2472: 1 <= R11
and
L2473: R11 <= ( width R31 );
L2474: R11 in ( NAT ) by ORDINAL1:def 12;
L2475: R11 in ( Seg ( width R31 ) ) by L2474 , L2472 , L2473;
L2476: { R7 , R11 } c= ( Seg ( width R31 ) ) by L2475 , L2467 , ZFMISC_1:32;
L2477: ( D376 . R11 ) = ( R31 * (R6 , R11) ) by L2475 , MATRIX_1:def 7;
L2478: ( ( D380 * D376 ) . R11 ) = ( D380 * ( R31 * (R6 , R11) ) ) by L2477 , L2475 , FVSUM_1:51;
L2479: D379 = ( D379 * ( 1_ R18 ) ) by VECTSP_1:def 4
.= ( D379 * ( D377 * ( D377 " ) ) ) by L2466 , VECTSP_1:def 10
.= ( D380 * D377 ) by GROUP_1:def 3;
L2480: { R6 , R8 } c= ( Seg ( len R31 ) ) by L2470 , L2469 , ZFMISC_1:32;
L2481: [: { R6 , R8 } , { R7 , R11 } :] c= ( Indices R31 ) by L2480 , L2462 , L2476 , ZFMISC_1:96;
L2482: ( D377 * ( R31 * (R8 , R11) ) ) = ( ( D380 * D377 ) * ( R31 * (R6 , R11) ) ) by L2481 , L2464 , L2479 , L2404
.= ( D377 * ( D380 * ( R31 * (R6 , R11) ) ) ) by GROUP_1:def 3;
L2483: ( D378 . R11 ) = ( R31 * (R8 , R11) ) by L2475 , MATRIX_1:def 7;
thus L2484: ( D378 . R11 ) = ( ( D380 * D376 ) . R11 ) by L2483 , L2466 , L2482 , L2478 , VECTSP_2:8;
end;
L2485: ( len ( D380 * D376 ) ) = ( width R31 ) by CARD_1:def 7;
L2486: ( len D378 ) = ( width R31 ) by CARD_1:def 7;
thus L2487: thesis by L2486 , L2485 , L2471 , FINSEQ_1:14;
end;

given R6 being Nat such that
L2488: R6 in ( Seg ( len R31 ) )
and
L2489: (ex R7 being Nat st (R7 in ( Seg ( width R31 ) ) & ( R31 * (R6 , R7) ) <> ( 0. R18 )))
and
L2490: (for R8 being Nat holds (R8 in ( Seg ( len R31 ) ) implies (ex R19 being (Element of R18) st ( Line (R31 , R8) ) = ( R19 * ( Line (R31 , R6) ) ))));

L2491:
now
set D381 = ( Line (R31 , R6) );
let C152 , C153 , C154 , C155 being Nat;
assume that
L2492: [: { C152 , C153 } , { C154 , C155 } :] c= ( Indices R31 );
L2493: { C154 , C155 } c= ( Seg ( width R31 ) ) by L2492 , ZFMISC_1:114;
L2494: C154 in ( Seg ( width R31 ) ) by L2493 , ZFMISC_1:32;
L2495: ( D381 . C154 ) = ( R31 * (R6 , C154) ) by L2494 , MATRIX_1:def 7;
set D382 = ( Line (R31 , C153) );
set D383 = ( Line (R31 , C152) );
L2496: { C152 , C153 } c= ( Seg ( len R31 ) ) by L2462 , L2492 , ZFMISC_1:114;
L2497: C152 in ( Seg ( len R31 ) ) by L2496 , ZFMISC_1:32;
consider R19 being (Element of R18) such that L2498: D383 = ( R19 * D381 ) by L2497 , L2490;
L2499: C153 in ( Seg ( len R31 ) ) by L2496 , ZFMISC_1:32;
consider R20 being (Element of R18) such that L2500: D382 = ( R20 * D381 ) by L2499 , L2490;
L2501: ( D382 . C154 ) = ( R31 * (C153 , C154) ) by L2494 , MATRIX_1:def 7;
L2502: ( R31 * (C153 , C154) ) = ( R20 * ( R31 * (R6 , C154) ) ) by L2501 , L2500 , L2494 , L2495 , FVSUM_1:51;
L2503: C155 in ( Seg ( width R31 ) ) by L2493 , ZFMISC_1:32;
L2504: ( D381 . C155 ) = ( R31 * (R6 , C155) ) by L2503 , MATRIX_1:def 7;
L2505: ( D382 . C155 ) = ( R31 * (C153 , C155) ) by L2503 , MATRIX_1:def 7;
L2506: ( R31 * (C153 , C155) ) = ( R20 * ( R31 * (R6 , C155) ) ) by L2505 , L2500 , L2503 , L2504 , FVSUM_1:51;
L2507: ( D383 . C155 ) = ( R31 * (C152 , C155) ) by L2503 , MATRIX_1:def 7;
L2508: ( R31 * (C152 , C155) ) = ( R19 * ( R31 * (R6 , C155) ) ) by L2507 , L2498 , L2503 , L2504 , FVSUM_1:51;
L2509: ( D383 . C154 ) = ( R31 * (C152 , C154) ) by L2494 , MATRIX_1:def 7;
L2510: ( R31 * (C152 , C154) ) = ( R19 * ( R31 * (R6 , C154) ) ) by L2509 , L2498 , L2494 , L2495 , FVSUM_1:51;
thus L2511: ( ( R31 * (C152 , C154) ) * ( R31 * (C153 , C155) ) ) = ( ( ( R19 * ( R31 * (R6 , C154) ) ) * R20 ) * ( R31 * (R6 , C155) ) ) by L2510 , L2506 , GROUP_1:def 3
.= ( ( ( R20 * ( R31 * (R6 , C154) ) ) * R19 ) * ( R31 * (R6 , C155) ) ) by GROUP_1:def 3
.= ( ( R31 * (C152 , C155) ) * ( R31 * (C153 , C154) ) ) by L2502 , L2508 , GROUP_1:def 3;
end;
consider R7 being Nat such that L2512: R7 in ( Seg ( width R31 ) ) and L2513: ( R31 * (R6 , R7) ) <> ( 0. R18 ) by L2489;
L2514: [ R6 , R7 ] in ( Indices R31 ) by L2462 , L2488 , L2512 , ZFMISC_1:87;
thus L2515: thesis by L2514 , L2513 , L2491 , L2404;
end;
registration
let R18 being Field;
cluster  diagonal for (Matrix of R18);
existence
proof
set D384 = the  diagonal (Matrix of 1 , R18);
take D384;
thus L2516: thesis;
end;
end;
theorem
L2518: (for R18 being Field holds (for B98 being  diagonal (Matrix of R18) holds (for B99 being set holds (B99 = { B100 where B100 is (Element of ( NAT )) : ([ B100 , B100 ] in ( Indices B98 ) & ( B98 * (B100 , B100) ) <> ( 0. R18 )) } implies (for R32 being  without_zero  finite (Subset of ( NAT )) holds (for R35 being  without_zero  finite (Subset of ( NAT )) holds (([: R32 , R35 :] c= ( Indices B98 ) & ( card R32 ) = ( card R35 ) & ( Det ( EqSegm (B98 , R32 , R35) ) ) <> ( 0. R18 )) implies (R32 c= B99 & R35 c= B99))))))))
proof
let R18 being Field;
let C156 being  diagonal (Matrix of R18);
let C157 being set;
assume that
L2519: C157 = { B101 where B101 is (Element of ( NAT )) : ([ B101 , B101 ] in ( Indices C156 ) & ( C156 * (B101 , B101) ) <> ( 0. R18 )) };
let R32 being  without_zero  finite (Subset of ( NAT ));
let R35 being  without_zero  finite (Subset of ( NAT ));
assume that
L2520: [: R32 , R35 :] c= ( Indices C156 )
and
L2521: ( card R32 ) = ( card R35 )
and
L2522: ( Det ( EqSegm (C156 , R32 , R35) ) ) <> ( 0. R18 );
set D385 = ( Segm (C156 , R32 , R35) );
set D386 = ( Sgm R35 );
set D387 = ( Sgm R32 );
set D388 = ( EqSegm (C156 , R32 , R35) );
L2523: ( Indices D385 ) = [: ( Seg ( len D385 ) ) , ( Seg ( width D385 ) ) :] by FINSEQ_1:def 3;
L2524: D388 = D385 by L2521 , L1378;
thus L2525: R32 c= C157
proof
assume L2526: (not R32 c= C157);
consider R1 being set such that L2527: R1 in R32 and L2528: (not R1 in C157) by L2526 , TARSKI:def 3;
L2529: R32 c= ( Seg ( len C156 ) ) by L2520 , L2521 , L1518;
L2530: ( rng D387 ) = R32 by L2529 , FINSEQ_1:def 13;
consider R2 being set such that L2531: R2 in ( dom D387 ) and L2532: ( D387 . R2 ) = R1 by L2530 , L2527 , FUNCT_1:def 3;
reconsider D389 = R1 , D390 = R2 as (Element of ( NAT )) by L2527 , L2531;
set D391 = ( Line (D385 , D390) );
L2533: ( dom D387 ) = ( Seg ( card R32 ) ) by L2529 , FINSEQ_3:40;
L2534: R35 c= ( Seg ( width C156 ) ) by L2520 , L2521 , L1518;
L2535: ( rng D386 ) = R35 by L2534 , FINSEQ_1:def 13;
L2536:
now
let R6 being Nat;
assume that
L2537: 1 <= R6
and
L2538: R6 <= ( width D385 );
L2539: R6 in ( NAT ) by ORDINAL1:def 12;
L2540: R6 in ( Seg ( width D385 ) ) by L2539 , L2537 , L2538;
L2541: ( D391 . R6 ) = ( D385 * (D390 , R6) ) by L2540 , MATRIX_1:def 7;
L2542: D390 in ( Seg ( len D385 ) ) by L2521 , L2533 , L2531 , MATRIX_1:24;
L2543: [ D390 , R6 ] in ( Indices D385 ) by L2542 , L2523 , L2540 , ZFMISC_1:87;
L2544: ( D385 * (D390 , R6) ) = ( C156 * (D389 , ( D386 . R6 )) ) by L2543 , L2532 , L502;
L2545: ( ( 0. R18 ) * ( 0. R18 ) ) = ( 0. R18 ) by VECTSP_1:7;
L2546: (( D386 . R6 ) <> D389 or ( D386 . R6 ) = D389);
L2547: [ D389 , ( D386 . R6 ) ] in ( Indices C156 ) by L2520 , L2530 , L2535 , L2532 , L2543 , L515;
L2548: ( D391 . R6 ) = ( 0. R18 ) by L2547 , L2519 , L2528 , L2544 , L2541 , L2546 , MATRIX_1:def 14;
thus L2549: ( D391 . R6 ) = ( ( ( 0. R18 ) * D391 ) . R6 ) by L2548 , L2540 , L2545 , FVSUM_1:51;
end;
L2550: ( len D391 ) = ( width D385 ) by MATRIX_1:def 7;
L2551: ( len D391 ) = ( len ( ( 0. R18 ) * D391 ) ) by MATRIXR1:16;
L2552: ( Line (D385 , D390) ) = ( ( 0. R18 ) * ( Line (D385 , D390) ) ) by L2551 , L2550 , L2536 , FINSEQ_1:14;
L2553: ( Det ( RLine (D388 , D390 , ( Line (D388 , D390) )) ) ) = ( ( 0. R18 ) * ( Det D388 ) ) by L2552 , L2524 , L2533 , L2531 , MATRIX11:35;
L2554: ( RLine (D388 , D390 , ( Line (D388 , D390) )) ) = D388 by MATRIX11:30;
thus L2555: thesis by L2554 , L2522 , L2553 , VECTSP_1:7;
end;

L2556: ( dom D385 ) = ( Seg ( len D385 ) ) by FINSEQ_1:def 3;
L2557: ( len D385 ) = ( card R32 ) by L2521 , MATRIX_1:24;
L2558: ( width D385 ) = ( card R32 ) by L2521 , MATRIX_1:24;
thus L2559: R35 c= C157
proof
L2560: R35 c= ( Seg ( width C156 ) ) by L2520 , L2521 , L1518;
L2561: ( dom D386 ) = ( Seg ( card R35 ) ) by L2560 , FINSEQ_3:40;
assume L2562: (not R35 c= C157);
consider R1 being set such that L2563: R1 in R35 and L2564: (not R1 in C157) by L2562 , TARSKI:def 3;
L2565: ( rng D386 ) = R35 by L2560 , FINSEQ_1:def 13;
consider R2 being set such that L2566: R2 in ( dom D386 ) and L2567: ( D386 . R2 ) = R1 by L2565 , L2563 , FUNCT_1:def 3;
reconsider D392 = R1 , D393 = R2 as (Element of ( NAT )) by L2563 , L2566;
set D394 = ( Col (D388 , D393) );
L2568: R32 c= ( Seg ( len C156 ) ) by L2520 , L2521 , L1518;
L2569: ( rng D387 ) = R32 by L2568 , FINSEQ_1:def 13;
L2570:
now
let C158 being (Element of ( NAT ));
assume that
L2571: C158 in ( Seg ( card R32 ) );
L2572: ( D385 * (C158 , D393) ) = ( D394 . C158 ) by L2524 , L2557 , L2556 , L2571 , MATRIX_1:def 8;
L2573: [ C158 , D393 ] in ( Indices D385 ) by L2521 , L2523 , L2557 , L2558 , L2561 , L2566 , L2571 , ZFMISC_1:87;
L2574: ( D385 * (C158 , D393) ) = ( C156 * (( D387 . C158 ) , D392) ) by L2573 , L2567 , L502;
L2575: (( D387 . C158 ) <> D392 or ( D387 . C158 ) = D392);
L2576: [ ( D387 . C158 ) , D392 ] in ( Indices C156 ) by L2520 , L2569 , L2565 , L2567 , L2573 , L515;
thus L2577: ( D394 . C158 ) = ( 0. R18 ) by L2576 , L2519 , L2564 , L2574 , L2572 , L2575 , MATRIX_1:def 14;
end;
thus L2578: thesis by L2570 , L2521 , L2522 , L2561 , L2566 , MATRIX_9:53;
end;

end;
theorem
L2560: (for R18 being Field holds (for B102 being  diagonal (Matrix of R18) holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds ([: R32 , R32 :] c= ( Indices B102 ) implies ( Segm (B102 , R32 , R32) ) is  diagonal))))
proof
let R18 being Field;
let C159 being  diagonal (Matrix of R18);
let R32 being  without_zero  finite (Subset of ( NAT ));
assume that
L2561: [: R32 , R32 :] c= ( Indices C159 );
set D395 = ( Segm (C159 , R32 , R32) );
set D396 = ( Sgm R32 );
let C160 , C161 being (Element of ( NAT ));
assume that
L2562: C160 in ( Seg ( card R32 ) )
and
L2563: C161 in ( Seg ( card R32 ) )
and
L2564: C160 <> C161;
L2565: R32 c= ( Seg ( len C159 ) ) by L2561 , L2562 , L1518;
L2566: D396 is  one-to-one by L2565 , FINSEQ_3:92;
L2567: [ C160 , C161 ] in [: ( Seg ( card R32 ) ) , ( Seg ( card R32 ) ) :] by L2562 , L2563 , ZFMISC_1:87;
L2568: [ C160 , C161 ] in ( Indices D395 ) by L2567 , MATRIX_1:24;
L2569: ( dom D396 ) = ( Seg ( card R32 ) ) by L2565 , FINSEQ_3:40;
L2570: ( D396 . C160 ) <> ( D396 . C161 ) by L2569 , L2562 , L2563 , L2564 , L2566 , FUNCT_1:def 4;
L2571: ( rng D396 ) = R32 by L2565 , FINSEQ_1:def 13;
L2572: [ ( D396 . C160 ) , ( D396 . C161 ) ] in ( Indices C159 ) by L2571 , L2561 , L2568 , L515;
L2573: ( D395 * (C160 , C161) ) = ( C159 * (( D396 . C160 ) , ( D396 . C161 )) ) by L2568 , L502;
thus L2574: thesis by L2573 , L2572 , L2570 , MATRIX_1:def 14;
end;
theorem
L2575: (for R18 being Field holds (for B103 being  diagonal (Matrix of R18) holds (for B104 being set holds (B104 = { B105 where B105 is (Element of ( NAT )) : ([ B105 , B105 ] in ( Indices B103 ) & ( B103 * (B105 , B105) ) <> ( 0. R18 )) } implies ( the_rank_of B103 ) = ( card B104 )))))
proof
let R18 being Field;
let C162 being  diagonal (Matrix of R18);
consider R32 being  without_zero  finite (Subset of ( NAT )), R35 being  without_zero  finite (Subset of ( NAT )) such that L2576: [: R32 , R35 :] c= ( Indices C162 ) and L2577: ( card R32 ) = ( card R35 ) and L2578: ( card R32 ) = ( the_rank_of C162 ) and L2579: ( Det ( EqSegm (C162 , R32 , R35) ) ) <> ( 0. R18 ) by L1631;
let C163 being set;
assume that
L2580: C163 = { B106 where B106 is (Element of ( NAT )) : ([ B106 , B106 ] in ( Indices C162 ) & ( C162 * (B106 , B106) ) <> ( 0. R18 )) };
L2581: C163 c= ( Seg ( width C162 ) )
proof
let R1 being set;
assume L2582: R1 in C163;
L2583: (ex B107 being (Element of ( NAT )) st (R1 = B107 & [ B107 , B107 ] in ( Indices C162 ) & ( C162 * (B107 , B107) ) <> ( 0. R18 ))) by L2582 , L2580;
thus L2584: thesis by L2583 , ZFMISC_1:87;
end;
L2585: (not ( 0 ) in C163) by L2581;
reconsider D397 = C163 as  without_zero  finite (Subset of ( NAT )) by L2585 , L2581 , MEASURE6:def 2 , XBOOLE_1:1;
set D398 = ( Segm (C162 , D397 , D397) );
L2586: C163 c= ( dom C162 )
proof
let R1 being set;
assume L2587: R1 in C163;
L2588: (ex B108 being (Element of ( NAT )) st (R1 = B108 & [ B108 , B108 ] in ( Indices C162 ) & ( C162 * (B108 , B108) ) <> ( 0. R18 ))) by L2587 , L2580;
thus L2589: thesis by L2588 , ZFMISC_1:87;
end;
L2590: [: D397 , D397 :] c= ( Indices C162 ) by L2586 , L2581 , ZFMISC_1:96;
reconsider D399 = D398 as  diagonal (Matrix of ( card D397 ) , R18) by L2590 , L2560;
set D400 = ( diagonal_of_Matrix D399 );
L2591:
now
per cases  by NAT_1:14;
suppose L2592: ( card D397 ) = ( 0 );

L2593: ( Det D399 ) = ( 1_ R18 ) by L2592 , MATRIXR2:41;
thus L2594: ( Det D399 ) <> ( 0. R18 ) by L2593;
end;
suppose L2595: ( card D397 ) >= 1;

set D401 = ( Sgm D397 );
L2596:
now
L2597: ( rng D401 ) = D397 by L2581 , FINSEQ_1:def 13;
L2598: ( dom D400 ) = ( Seg ( len D400 ) ) by FINSEQ_1:def 3;
L2599: ( len D400 ) = ( card D397 ) by MATRIX_3:def 10;
let C164 being (Element of ( NAT ));
assume that
L2600: C164 in ( dom D400 );
L2601: ( D400 . C164 ) = ( D399 * (C164 , C164) ) by L2600 , L2598 , L2599 , MATRIX_3:def 10;
L2602: ( dom D401 ) = ( dom D400 ) by L2581 , L2598 , L2599 , FINSEQ_3:40;
L2603: ( D401 . C164 ) in D397 by L2602 , L2600 , L2597 , FUNCT_1:def 3;
L2604: (ex B109 being (Element of ( NAT )) st (B109 = ( D401 . C164 ) & [ B109 , B109 ] in ( Indices C162 ) & ( C162 * (B109 , B109) ) <> ( 0. R18 ))) by L2603 , L2580;
L2605: ( Indices D399 ) = [: ( Seg ( card D397 ) ) , ( Seg ( card D397 ) ) :] by MATRIX_1:24;
L2606: [ C164 , C164 ] in ( Indices D399 ) by L2605 , L2600 , L2598 , L2599 , ZFMISC_1:87;
thus L2607: ( D400 . C164 ) <> ( 0. R18 ) by L2606 , L2601 , L2604 , L502;
end;
L2608: ( Det D399 ) = ( Product D400 ) by L2595 , MATRIX_7:17;
thus L2609: ( Det D399 ) <> ( 0. R18 ) by L2608 , L2596 , FVSUM_1:82;
end;
end;
L2611: ( Det ( EqSegm (C162 , D397 , D397) ) ) <> ( 0. R18 ) by L2591 , L1378;
L2612: ( the_rank_of C162 ) >= ( card D397 ) by L2611 , L2590 , L1631;
L2613: R32 c= D397 by L2580 , L2576 , L2577 , L2579 , L2518;
L2614: ( card R32 ) <= ( card D397 ) by L2613 , NAT_1:43;
thus L2615: thesis by L2614 , L2612 , L2578 , XXREAL_0:1;
end;
theorem
L2616: (for R11 being Nat holds (for R18 being Field holds (for R19 being (Element of R18) holds (for R38 being (Vector of ( R11 -VectSp_over R18 )) holds (for R39 being (Vector of ( R11 -VectSp_over R18 )) holds (for R40 being (Vector of ( R11 -VectSp_over R18 )) holds (for R43 being (Element of ( R11 -tuples_on (the carrier of R18) )) holds (for R44 being (Element of ( R11 -tuples_on (the carrier of R18) )) holds (for R45 being (Element of ( R11 -tuples_on (the carrier of R18) )) holds ((the carrier of ( R11 -VectSp_over R18 )) = ( R11 -tuples_on (the carrier of R18) ) & ( 0. ( R11 -VectSp_over R18 ) ) = ( R11 |-> ( 0. R18 ) ) & ((R44 = R39 & R45 = R40) implies ( R44 + R45 ) = ( R39 + R40 )) & (R43 = R38 implies ( R19 * R43 ) = ( R19 * R38 ))))))))))))
proof
let R11 being Nat;
let R18 being Field;
let R19 being (Element of R18);
let R38 being (Vector of ( R11 -VectSp_over R18 ));
let R39 being (Vector of ( R11 -VectSp_over R18 ));
let R40 being (Vector of ( R11 -VectSp_over R18 ));
let R43 being (Element of ( R11 -tuples_on (the carrier of R18) ));
let R44 being (Element of ( R11 -tuples_on (the carrier of R18) ));
let R45 being (Element of ( R11 -tuples_on (the carrier of R18) ));
L2617: ( the addLoopStr of ( R11 -VectSp_over R18 ) ) = ( R11 -Group_over R18 ) by PRVECT_1:def 5;
L2618: ( R11 -Group_over R18 ) = addLoopStr (# ( R11 -tuples_on (the carrier of R18) ) , ( product ((the addF of R18) , R11) ) , (( R11 |-> ( 0. R18 ) ) qua (Element of ( R11 -tuples_on (the carrier of R18) ))) #) by PRVECT_1:def 3;
thus L2619: ((the carrier of ( R11 -VectSp_over R18 )) = ( R11 -tuples_on (the carrier of R18) ) & ( 0. ( R11 -VectSp_over R18 ) ) = ( R11 |-> ( 0. R18 ) )) by L2618 , L2617;
thus L2620: ((R44 = R39 & R45 = R40) implies ( R44 + R45 ) = ( R39 + R40 )) by L2618 , L2617 , PRVECT_1:def 1;
assume L2621: R43 = R38;
L2622: ( rng R43 ) c= (the carrier of R18) by RELAT_1:def 19;
L2623: ( ( id (the carrier of R18) ) * R43 ) = R43 by L2622 , RELAT_1:53;
thus L2624: ( R19 * R38 ) = ( ( R11 -Mult_over R18 ) . (R19 , R38) ) by PRVECT_1:def 5
.= ( (the multF of R18) [;] (R19 , R43) ) by L2621 , PRVECT_1:def 4
.= ( R19 * R43 ) by L2623 , FUNCOP_1:34;
end;
registration
let R18 being Field;
let R11 being Nat;
cluster ( R11 -VectSp_over R18 ) ->  right_complementable  Abelian  add-associative  right_zeroed;
coherence
proof
set D402 = ( R11 -VectSp_over R18 );
L2625:
now
let R38 being (Vector of ( R11 -VectSp_over R18 ));
let R41 being (Vector of ( R11 -VectSp_over R18 ));
reconsider D403 = R38 , D404 = R41 as (Element of ( R11 -tuples_on (the carrier of R18) )) by L2616;
thus L2626: ( R38 + R41 ) = ( D403 + D404 ) by L2616
.= ( D404 + D403 ) by FINSEQOP:33
.= ( R41 + R38 ) by L2616;
end;
L2627: R11 in ( NAT ) by ORDINAL1:def 12;
L2628:
now
let R38 being (Vector of ( R11 -VectSp_over R18 ));
reconsider D405 = R38 , D406 = ( 0. D402 ) as (Element of ( R11 -tuples_on (the carrier of R18) )) by L2616;
thus L2629: ( R38 + ( 0. D402 ) ) = ( D405 + D406 ) by L2616
.= ( D405 + ( R11 |-> ( 0. R18 ) ) ) by L2616
.= R38 by L2627 , FVSUM_1:21;
end;
L2630: D402 is  right_complementable
proof
reconsider D407 = R11 as (Element of ( NAT )) by ORDINAL1:def 12;
let R38 being (Vector of ( R11 -VectSp_over R18 ));
reconsider D408 = R38 as (Element of ( D407 -tuples_on (the carrier of R18) )) by L2616;
reconsider D409 = ( - D408 ) as (Element of D402) by L2616;
L2631: ( R38 + D409 ) = ( D408 + ( - D408 ) ) by L2616
.= ( R11 |-> ( 0. R18 ) ) by FVSUM_1:26
.= ( 0. D402 ) by L2616;
thus L2632: (ex R41 being (Vector of ( R11 -VectSp_over R18 )) st ( R38 + R41 ) = ( 0. D402 )) by L2631;
end;
L2633:
now
let R41 being (Vector of ( R11 -VectSp_over R18 ));
let R38 being (Vector of ( R11 -VectSp_over R18 ));
let R42 being (Vector of ( R11 -VectSp_over R18 ));
reconsider D410 = R38 , D411 = R41 , D412 = R42 , D413 = ( R41 + R38 ) , D414 = ( R38 + R42 ) as (Element of ( R11 -tuples_on (the carrier of R18) )) by L2616;
thus L2634: ( ( R41 + R38 ) + R42 ) = ( D413 + D412 ) by L2616
.= ( ( D411 + D410 ) + D412 ) by L2616
.= ( D411 + ( D410 + D412 ) ) by FINSEQOP:28
.= ( D411 + D414 ) by L2616
.= ( R41 + ( R38 + R42 ) ) by L2616;
end;
thus L2635: thesis by L2633 , L2628 , L2630 , L2625 , RLVECT_1:def 2 , RLVECT_1:def 3 , RLVECT_1:def 4;
end;
end;
registration
let R18 being Field;
let R11 being Nat;
cluster  ->  Function-like  Relation-like for (Vector of ( R11 -VectSp_over R18 ));
correctness
proof
let C165 being (Element of ( R11 -VectSp_over R18 ));
L2637: C165 is (Element of ( R11 -tuples_on (the carrier of R18) )) by L2616;
thus L2638: thesis by L2637;
end;
end;
L2640: (for R10 being Nat holds (for R11 being Nat holds (for R18 being Field holds (for R47 being (Matrix of R10 , R11 , R18) holds ( rng R47 ) is (Subset of ( R11 -VectSp_over R18 ))))))
proof
let R10 being Nat;
let R11 being Nat;
let R18 being Field;
let R47 being (Matrix of R10 , R11 , R18);
L2641: ( rng R47 ) c= (the carrier of ( R11 -VectSp_over R18 ))
proof
consider R10 being Nat such that L2642: (for R1 being set holds (R1 in ( rng R47 ) implies (ex R21 being (FinSequence of R18) st (R1 = R21 & ( len R21 ) = R10)))) by MATRIX_1:9;
let R1 being set;
assume that
L2643: R1 in ( rng R47 );
consider R21 being (FinSequence of R18) such that L2644: R1 = R21 and L2645: ( len R21 ) = R10 by L2643 , L2642;
L2646: ( len R21 ) = R11 by L2643 , L2644 , MATRIX_1:def 2;
L2647: R21 is (Element of ( R11 -tuples_on (the carrier of R18) )) by L2646 , FINSEQ_2:92;
L2648: R21 in ( R11 -tuples_on (the carrier of R18) ) by L2647;
thus L2649: thesis by L2648 , L2644 , L2616;
end;
thus L2650: thesis by L2641;
end;
notation
let R18 being Field;
let R10 being Nat;
let R11 being Nat;
let C166 being (Matrix of R10 , R11 , R18);
synonym lines C166 for rng C166;
synonym C166 is  without_repeated_line for C166 is  one-to-one;
end;
definition
let C167 being Field;
let R10 being Nat;
let R11 being Nat;
let C168 being (Matrix of R10 , R11 , C167);
redefine func lines C168 -> (Subset of ( R11 -VectSp_over C167 ));

coherence by L2640;
end;
theorem
L2653: (for R1 being set holds (for R10 being Nat holds (for R11 being Nat holds (for R18 being Field holds (for R47 being (Matrix of R10 , R11 , R18) holds (R1 in ( lines R47 ) iff (ex R6 being Nat st (R6 in ( Seg R10 ) & R1 = ( Line (R47 , R6) )))))))))
proof
let R1 being set;
let R10 being Nat;
let R11 being Nat;
let R18 being Field;
let R47 being (Matrix of R10 , R11 , R18);
thus L2654: (R1 in ( lines R47 ) implies (ex R6 being Nat st (R6 in ( Seg R10 ) & R1 = ( Line (R47 , R6) ))))
proof
assume L2655: R1 in ( lines R47 );
consider C169 being set such that L2656: C169 in ( dom R47 ) and L2657: ( R47 . C169 ) = R1 by L2655 , FUNCT_1:def 3;
L2658: ( len R47 ) = R10 by MATRIX_1:def 2;
reconsider D415 = C169 as (Element of ( NAT )) by L2656;
L2659: ( dom R47 ) = ( Seg ( len R47 ) ) by FINSEQ_1:def 3;
L2660: ( R47 . D415 ) = ( Line (R47 , D415) ) by L2659 , L2656 , L2658 , MATRIX_2:8;
thus L2661: thesis by L2660 , L2656 , L2657 , L2659 , L2658;
end;

given R6 being Nat such that
L2662: R6 in ( Seg R10 )
and
L2663: R1 = ( Line (R47 , R6) );

L2664: ( len R47 ) = R10 by MATRIX_1:def 2;
L2665: ( dom R47 ) = ( Seg ( len R47 ) ) by FINSEQ_1:def 3;
L2666: ( R47 . R6 ) in ( rng R47 ) by L2665 , L2662 , L2664 , FUNCT_1:def 3;
thus L2667: thesis by L2666 , L2662 , L2663 , MATRIX_2:8;
end;
theorem
L2668: (for R11 being Nat holds (for R18 being Field holds (for B110 being  finite (Subset of ( R11 -VectSp_over R18 )) holds (ex B111 being (Matrix of ( card B110 ) , R11 , R18) st (B111 is  without_repeated_line & ( lines B111 ) = B110)))))
proof
let R11 being Nat;
let R18 being Field;
let C170 being  finite (Subset of ( R11 -VectSp_over R18 ));
set D416 = ( card C170 );
L2669: ( card ( Seg D416 ) ) = D416 by FINSEQ_1:57;
L2670: ( Seg D416 ) , C170 are_equipotent  by L2669 , CARD_1:5;
consider C171 being Function such that L2671: C171 is  one-to-one and L2672: ( dom C171 ) = ( Seg D416 ) and L2673: ( rng C171 ) = C170 by L2670 , WELLORD2:def 4;
reconsider D417 = C171 as FinSequence by L2672 , FINSEQ_1:def 2;
L2674:
now
let R1 being set;
assume L2675: R1 in ( rng D417 );
reconsider D418 = R1 as (Element of ( R11 -tuples_on (the carrier of R18) )) by L2675 , L2673 , L2616;
L2676: ( len D418 ) = R11 by CARD_1:def 7;
thus L2677: (ex R21 being (FinSequence of R18) st (R1 = R21 & ( len R21 ) = R11)) by L2676;
end;
reconsider D419 = D417 as (Matrix of R18) by L2674 , MATRIX_1:9;
L2678: ( len D419 ) = D416 by L2672 , FINSEQ_1:def 3;
L2679: (the carrier of ( R11 -VectSp_over R18 )) = ( R11 -tuples_on (the carrier of R18) ) by L2616;
L2680: (for R21 being (FinSequence of R18) holds (R21 in ( rng D419 ) implies ( len R21 ) = R11)) by L2679 , L2673 , CARD_1:def 7;
L2681: D419 is (Matrix of D416 , R11 , R18) by L2680 , L2678 , MATRIX_1:def 2;
thus L2682: thesis by L2681 , L2671 , L2673;
end;
definition
let R18 being Field;
let R11 being Nat;
let C172 being (FinSequence of ( R11 -VectSp_over R18 ));
func FinS2MX C172 -> (Matrix of ( len C172 ) , R11 , R18) equals 
C172;
coherence
proof
L2683: C172 is (FinSequence of ( R11 -tuples_on (the carrier of R18) )) by L2616;
L2684:
now
L2685: ( rng C172 ) c= ( R11 -tuples_on (the carrier of R18) ) by L2683 , FINSEQ_1:def 4;
let R1 being set;
assume L2686: R1 in ( rng C172 );
reconsider D420 = R1 as (Element of ( R11 -tuples_on (the carrier of R18) )) by L2686 , L2685;
L2687: ( len D420 ) = R11 by CARD_1:def 7;
thus L2688: (ex R21 being (FinSequence of R18) st (R1 = R21 & ( len R21 ) = R11)) by L2687;
end;
reconsider D421 = C172 as (Matrix of R18) by L2684 , MATRIX_1:9;
L2689:
now
L2690: ( rng D421 ) c= ( R11 -tuples_on (the carrier of R18) ) by L2683 , FINSEQ_1:def 4;
let R21 being (FinSequence of R18);
assume L2691: R21 in ( rng D421 );
thus L2692: ( len R21 ) = R11 by L2691 , L2690 , CARD_1:def 7;
end;
thus L2693: thesis by L2689 , MATRIX_1:def 2;
end;
end;
definition
let R18 being Field;
let R10 being Nat;
let R11 being Nat;
let C173 being (Matrix of R10 , R11 , R18);
func MX2FinS C173 -> (FinSequence of ( R11 -VectSp_over R18 )) equals 
C173;
coherence
proof
L2695: ( lines C173 ) is (Subset of ( R11 -VectSp_over R18 ));
thus L2696: thesis by L2695 , FINSEQ_1:def 4;
end;
end;
theorem
L2698: (for R10 being Nat holds (for R11 being Nat holds (for R18 being Field holds (for R47 being (Matrix of R10 , R11 , R18) holds (( the_rank_of R47 ) = R10 implies R47 is  without_repeated_line)))))
proof
let R10 being Nat;
let R11 being Nat;
let R18 being Field;
let R47 being (Matrix of R10 , R11 , R18);
assume L2699: ( the_rank_of R47 ) = R10;
L2700: ( len R47 ) = R10 by MATRIX_1:def 2;
assume L2701: (not R47 is  without_repeated_line);
consider C174 , C175 being set such that L2702: C174 in ( dom R47 ) and L2703: C175 in ( dom R47 ) and L2704: ( R47 . C174 ) = ( R47 . C175 ) and L2705: C174 <> C175 by L2701 , FUNCT_1:def 4;
reconsider D422 = C174 , D423 = C175 as (Element of ( NAT )) by L2702 , L2703;
consider R8 being Nat such that L2706: ( len R47 ) = ( R8 + 1 ) and L2707: ( len ( Del (R47 , D422) ) ) = R8 by L2702 , FINSEQ_3:104;
L2708: ( dom R47 ) = ( Seg ( len R47 ) ) by FINSEQ_1:def 3;
L2709: ( R47 . D423 ) = ( Line (R47 , D423) ) by L2708 , L2703 , L2700 , MATRIX_2:8;
L2710: ( R47 . D422 ) = ( Line (R47 , D422) ) by L2702 , L2708 , L2700 , MATRIX_2:8;
L2711: R47 = ( RLine (R47 , D422 , ( Line (R47 , D423) )) ) by L2710 , L2704 , L2709 , MATRIX11:30
.= ( RLine (R47 , D422 , ( ( 1_ R18 ) * ( Line (R47 , D423) ) )) ) by FVSUM_1:57;
L2712: R10 = ( the_rank_of ( DelLine (R47 , D422) ) ) by L2711 , L2699 , L2703 , L2705 , L2708 , L2301;
L2713: R10 <= R8 by L2712 , L2707 , L1665;
thus L2714: thesis by L2713 , L2700 , L2706 , NAT_1:13;
end;
theorem
L2715: (for R6 being Nat holds (for R10 being Nat holds (for R11 being Nat holds (for R18 being Field holds (for R19 being (Element of R18) holds (for R46 being (Linear_Combination of ( R11 -VectSp_over R18 )) holds (for R47 being (Matrix of R10 , R11 , R18) holds ((R6 in ( Seg ( len R47 ) ) & R19 = ( R46 . ( R47 . R6 ) )) implies ( Line (( FinS2MX ( R46 (#) ( MX2FinS R47 ) ) ) , R6) ) = ( R19 * ( Line (R47 , R6) ) )))))))))
proof
let R6 being Nat;
let R10 being Nat;
let R11 being Nat;
let R18 being Field;
let R19 being (Element of R18);
let R46 being (Linear_Combination of ( R11 -VectSp_over R18 ));
let R47 being (Matrix of R10 , R11 , R18);
assume that
L2716: R6 in ( Seg ( len R47 ) )
and
L2717: R19 = ( R46 . ( R47 . R6 ) );
set D424 = ( MX2FinS R47 );
set D425 = ( R46 (#) D424 );
L2718: R6 in ( dom R47 ) by L2716 , FINSEQ_1:def 3;
L2719: ( R47 . R6 ) = ( D424 /. R6 ) by L2718 , PARTFUN1:def 6;
L2720: ( len R47 ) = R10 by MATRIX_1:def 2;
L2721: ( Line (R47 , R6) ) = ( R47 . R6 ) by L2720 , L2716 , MATRIX_2:8;
reconsider D426 = ( Line (R47 , R6) ) as (Element of ( R11 -tuples_on (the carrier of R18) )) by L2721 , L2719 , L2616;
set D427 = ( FinS2MX D425 );
L2722: ( len D425 ) = ( len R47 ) by VECTSP_6:def 5;
L2723: R6 in ( dom D427 ) by L2722 , L2716 , FINSEQ_1:def 3;
L2724: ( Line (D427 , R6) ) = ( D427 . R6 ) by L2716 , L2722 , MATRIX_2:8;
thus L2725: ( Line (D427 , R6) ) = ( R19 * ( D424 /. R6 ) ) by L2724 , L2717 , L2719 , L2723 , VECTSP_6:def 5
.= ( R19 * D426 ) by L2719 , L2721 , L2616
.= ( R19 * ( Line (R47 , R6) ) );
end;
theorem
L2726: (for R6 being Nat holds (for R10 being Nat holds (for R11 being Nat holds (for R18 being Field holds (for R46 being (Linear_Combination of ( R11 -VectSp_over R18 )) holds (for R47 being (Matrix of R10 , R11 , R18) holds ((R47 is  without_repeated_line & ( Carrier R46 ) c= ( lines R47 ) & R6 in ( Seg R11 )) implies ( ( Sum R46 ) . R6 ) = ( Sum ( Col (( FinS2MX ( R46 (#) ( MX2FinS R47 ) ) ) , R6) ) ))))))))
proof
let R6 being Nat;
let R10 being Nat;
let R11 being Nat;
let R18 being Field;
let R46 being (Linear_Combination of ( R11 -VectSp_over R18 ));
let R47 being (Matrix of R10 , R11 , R18);
assume that
L2727: R47 is  without_repeated_line
and
L2728: ( Carrier R46 ) c= ( lines R47 )
and
L2729: R6 in ( Seg R11 );
set D428 = ( MX2FinS R47 );
set D429 = ( R11 -VectSp_over R18 );
set D430 = ( R46 (#) D428 );
L2730: ( len D430 ) = ( len R47 ) by VECTSP_6:def 5;
set D431 = ( FinS2MX D430 );
set D432 = ( Col (D431 , R6) );
L2731: ( len D430 ) = ( len D432 ) by MATRIX_1:def 8;
consider C176 being (Function of ( NAT ) , (the carrier of R18)) such that L2732: ( Sum D432 ) = ( C176 . ( len R47 ) ) and L2733: ( C176 . ( 0 ) ) = ( 0. R18 ) and L2734: (for B112 being (Element of ( NAT )) holds (for R19 being (Element of R18) holds ((B112 < ( len R47 ) & R19 = ( D432 . ( B112 + 1 ) )) implies ( C176 . ( B112 + 1 ) ) = ( ( C176 . B112 ) + R19 )))) by L2731 , L2730 , RLVECT_1:def 12;
L2735: ( Sum R46 ) = ( Sum D430 ) by L2727 , L2728 , VECTSP_9:3;
consider C177 being (Function of ( NAT ) , (the carrier of D429)) such that L2736: ( Sum R46 ) = ( C177 . ( len R47 ) ) and L2737: ( C177 . ( 0 ) ) = ( 0. D429 ) and L2738: (for B113 being (Element of ( NAT )) holds (for R38 being (Vector of ( R11 -VectSp_over R18 )) holds ((B113 < ( len R47 ) & R38 = ( D430 . ( B113 + 1 ) )) implies ( C177 . ( B113 + 1 ) ) = ( ( C177 . B113 ) + R38 )))) by L2735 , L2730 , RLVECT_1:def 12;
defpred S9[ Nat ] means ($1 <= ( len R47 ) implies (for B114 being (Element of D429) holds (B114 = ( C177 . $1 ) implies ( B114 . R6 ) = ( C176 . $1 ))));
L2739: ( len R47 ) = R10 by MATRIX_1:def 2;
L2740: (for R8 being Nat holds (S9[ R8 ] implies S9[ ( R8 + 1 ) ]))
proof
reconsider D433 = R11 as (Element of ( NAT )) by ORDINAL1:def 12;
let R8 being Nat;
assume that
L2741: S9[ R8 ];
set D434 = ( R8 + 1 );
reconsider D435 = R8 as (Element of ( NAT )) by ORDINAL1:def 12;
assume L2742: D434 <= ( len R47 );
L2743: R8 < ( len R47 ) by L2742 , NAT_1:13;
L2744: ( width D431 ) = R11 by L2730 , L2742 , L1;
L2745: 1 <= D434 by NAT_1:14;
L2746: D434 in ( Seg ( len R47 ) ) by L2745 , L2742;
L2747: D434 in ( dom D431 ) by L2746 , L2730 , FINSEQ_1:def 3;
L2748: ( D428 . D434 ) = ( Line (R47 , D434) ) by L2739 , L2746 , MATRIX_2:8;
L2749: ( D428 . D434 ) in ( lines R47 ) by L2748 , L2739 , L2746 , L2653;
reconsider D436 = ( D428 . D434 ) as (Element of D429) by L2749;
L2750: D434 in ( dom D428 ) by L2746 , FINSEQ_1:def 3;
L2751: ( D428 /. D434 ) = ( D428 . D434 ) by L2750 , PARTFUN1:def 6;
L2752: ( D430 . D434 ) = ( ( R46 . D436 ) * D436 ) by L2751 , L2747 , VECTSP_6:def 5;
reconsider D437 = ( D430 . D434 ) as (Element of D429) by L2752;
let R38 being (Vector of ( R11 -VectSp_over R18 ));
assume L2753: R38 = ( C177 . D434 );
L2754: R38 = ( D437 + ( C177 . D435 ) ) by L2753 , L2738 , L2743;
reconsider D438 = D437 , D439 = D436 , D440 = ( C177 . D435 ) as (Element of ( D433 -tuples_on (the carrier of R18) )) by L2616;
L2755: D437 = ( ( R46 . D436 ) * D439 ) by L2752 , L2616
.= ( Line (D431 , D434) ) by L2746 , L2748 , L2715;
L2756: ( D437 . R6 ) = ( D431 * (D434 , R6) ) by L2755 , L2729 , L2744 , MATRIX_1:def 7;
L2757: ( dom D438 ) = ( Seg R11 ) by FINSEQ_2:124;
L2758: ( D438 . R6 ) in ( rng D438 ) by L2757 , L2729 , FUNCT_1:def 3;
L2759: ( rng D438 ) c= (the carrier of R18) by FINSEQ_1:def 4;
reconsider D441 = ( D438 . R6 ) as (Element of R18) by L2759 , L2758;
L2760: ( D432 . D434 ) = ( D431 * (D434 , R6) ) by L2747 , MATRIX_1:def 8;
L2761: ( C176 . D434 ) = ( D441 + ( C176 . D435 ) ) by L2760 , L2734 , L2756 , L2743;
L2762: ( D437 + ( C177 . D435 ) ) = ( D438 + D440 ) by L2616;
L2763: ( D440 . R6 ) = ( C176 . D435 ) by L2741 , L2742 , NAT_1:13;
thus L2764: ( R38 . R6 ) = ( C176 . D434 ) by L2763 , L2729 , L2761 , L2754 , L2762 , FVSUM_1:18;
end;
L2765: S9[ ( 0 ) ]
proof
assume L2766: ( 0 ) <= ( len R47 );
L2767: ( 0. D429 ) = ( R11 |-> ( 0. R18 ) ) by L2616;
let R38 being (Vector of ( R11 -VectSp_over R18 ));
assume L2768: R38 = ( C177 . ( 0 ) );
thus L2769: ( R38 . R6 ) = ( C176 . ( 0 ) ) by L2768 , L2729 , L2737 , L2733 , L2767 , FINSEQ_2:57;
end;
L2770: (for R8 being Nat holds S9[ R8 ]) from NAT_1:sch 2(L2765 , L2740);
thus L2771: thesis by L2770 , L2736 , L2732;
end;
theorem
L2772: (for R10 being Nat holds (for R11 being Nat holds (for R18 being Field holds (for R47 being (Matrix of R10 , R11 , R18) holds (for R48 being (Matrix of R10 , R11 , R18) holds ((R47 is  without_repeated_line & (for R6 being Nat holds (R6 in ( Seg R10 ) implies (ex R19 being (Element of R18) st ( Line (R48 , R6) ) = ( R19 * ( Line (R47 , R6) ) ))))) implies (ex B115 being (Linear_Combination of ( lines R47 )) st ( B115 (#) ( MX2FinS R47 ) ) = R48)))))))
proof
let R10 being Nat;
let R11 being Nat;
let R18 being Field;
let R47 being (Matrix of R10 , R11 , R18);
let R48 being (Matrix of R10 , R11 , R18);
assume that
L2773: R47 is  without_repeated_line
and
L2774: (for R6 being Nat holds (R6 in ( Seg R10 ) implies (ex R19 being (Element of R18) st ( Line (R48 , R6) ) = ( R19 * ( Line (R47 , R6) ) ))));
set D442 = ( R11 -VectSp_over R18 );
defpred S10[ set , set ] means (for R6 being Nat holds ($1 = R6 implies (ex R19 being (Element of R18) st (R19 = $2 & ( Line (R48 , R6) ) = ( R19 * ( Line (R47 , R6) ) )))));
L2775: (for R8 being Nat holds (R8 in ( Seg ( len R47 ) ) implies (ex B116 being (Element of R18) st S10[ R8 , B116 ])))
proof
L2776: ( len R47 ) = R10 by MATRIX_1:def 2;
let R8 being Nat;
assume L2777: R8 in ( Seg ( len R47 ) );
consider R19 being (Element of R18) such that L2778: ( Line (R48 , R8) ) = ( R19 * ( Line (R47 , R8) ) ) by L2777 , L2774 , L2776;
take R19;
thus L2779: thesis by L2778;
end;
consider R21 being (FinSequence of R18) such that L2780: ( dom R21 ) = ( Seg ( len R47 ) ) and L2781: (for R8 being Nat holds (R8 in ( Seg ( len R47 ) ) implies S10[ R8 , ( R21 . R8 ) ])) from FINSEQ_1:sch 5(L2775);
defpred S11[ set , set ] means (for R38 being (Vector of ( R11 -VectSp_over R18 )) holds ($1 = R38 implies (((not R38 in ( lines R47 )) implies $2 = ( 0. R18 )) & (R38 in ( lines R47 ) implies (for R8 being Nat holds ((R8 in ( Seg R10 ) & R38 = ( Line (R47 , R8) )) implies $2 = ( R21 . R8 )))))));
L2782: (for R1 being set holds (R1 in (the carrier of D442) implies (ex R2 being set st (R2 in (the carrier of R18) & S11[ R1 , R2 ]))))
proof
let R1 being set;
assume L2783: R1 in (the carrier of D442);
reconsider D443 = R1 as (Element of D442) by L2783;
per cases ;
suppose L2784: D443 in ( lines R47 );

L2785: ( rng R21 ) c= (the carrier of R18) by FINSEQ_1:def 4;
consider R7 being Nat such that L2786: R7 in ( Seg R10 ) and L2787: D443 = ( Line (R47 , R7) ) by L2784 , L2653;
L2788: ( len R47 ) = R10 by MATRIX_1:def 2;
L2789: ( R21 . R7 ) in ( rng R21 ) by L2788 , L2780 , L2786 , FUNCT_1:def 3;
reconsider D444 = ( R21 . R7 ) as (Element of (the carrier of R18)) by L2789 , L2785;
take D444;
thus L2790: D444 in (the carrier of R18);
let R42 being (Vector of ( R11 -VectSp_over R18 ));
assume that
L2791: R42 = R1;
thus L2792: ((not R42 in ( lines R47 )) implies D444 = ( 0. R18 )) by L2784 , L2791;
thus L2793: (R42 in ( lines R47 ) implies (for R8 being Nat holds ((R8 in ( Seg R10 ) & R42 = ( Line (R47 , R8) )) implies D444 = ( R21 . R8 ))))
proof
L2794: ( len R47 ) = R10 by MATRIX_1:def 2;
L2795: ( dom R47 ) = ( Seg R10 ) by L2794 , FINSEQ_1:def 3;
L2796: ( R47 . R7 ) = ( Line (R47 , R7) ) by L2786 , MATRIX_2:8;
assume L2797: R42 in ( lines R47 );
let R8 being Nat;
assume that
L2798: R8 in ( Seg R10 )
and
L2799: R42 = ( Line (R47 , R8) );
L2800: ( R47 . R8 ) = ( Line (R47 , R8) ) by L2798 , MATRIX_2:8;
thus L2801: thesis by L2800 , L2773 , L2786 , L2787 , L2791 , L2798 , L2799 , L2795 , L2796 , FUNCT_1:def 4;
end;

end;
suppose L2794: (not D443 in ( lines R47 ));

take D445 = ( 0. R18 );
thus L2795: D445 in (the carrier of R18);
let R42 being (Vector of ( R11 -VectSp_over R18 ));
assume that
L2796: R42 = R1;
thus L2797: ((not R42 in ( lines R47 )) implies D445 = ( 0. R18 ));
thus L2798: thesis by L2794 , L2796;
end;
end;
consider C178 being (Function of (the carrier of D442) , (the carrier of R18)) such that L2800: (for R1 being set holds (R1 in (the carrier of D442) implies S11[ R1 , ( C178 . R1 ) ])) from FUNCT_2:sch 1(L2782);
reconsider D446 = C178 as (Element of ( Funcs ((the carrier of D442) , (the carrier of R18)) )) by FUNCT_2:8;
L2801: (for R38 being (Vector of ( R11 -VectSp_over R18 )) holds ((not R38 in ( lines R47 )) implies ( D446 . R38 ) = ( 0. R18 ))) by L2800;
reconsider D447 = D446 as (Linear_Combination of D442) by L2801 , VECTSP_6:def 1;
L2802: ( Carrier D447 ) c= ( lines R47 )
proof
let R1 being set;
assume L2803: R1 in ( Carrier D447 );
L2804: (ex R38 being (Vector of ( R11 -VectSp_over R18 )) st (R1 = R38 & ( D447 . R38 ) <> ( 0. R18 ))) by L2803 , VECTSP_6:1;
thus L2805: thesis by L2804 , L2800;
end;
set D448 = ( MX2FinS R47 );
L2806: ( len R47 ) = R10 by MATRIX_1:def 2;
reconsider D449 = D447 as (Linear_Combination of ( lines R47 )) by L2802 , VECTSP_6:def 4;
set D450 = ( D449 (#) D448 );
L2807: ( len D450 ) = ( len R47 ) by VECTSP_6:def 5;
L2808:
now
let R8 being Nat;
assume that
L2809: 1 <= R8
and
L2810: R8 <= R10;
L2811: R8 in ( NAT ) by ORDINAL1:def 12;
L2812: R8 in ( Seg R10 ) by L2811 , L2809 , L2810;
consider R19 being (Element of R18) such that L2813: ( R21 . R8 ) = R19 and L2814: ( Line (R48 , R8) ) = ( R19 * ( Line (R47 , R8) ) ) by L2812 , L2781 , L2806;
L2815: ( dom D448 ) = ( Seg R10 ) by L2806 , FINSEQ_1:def 3;
L2816: ( D448 /. R8 ) = ( R47 . R8 ) by L2815 , L2812 , PARTFUN1:def 6;
L2817: ( Line (R47 , R8) ) in ( lines R47 ) by L2812 , L2653;
reconsider D451 = ( Line (R47 , R8) ) as (Element of ( R11 -tuples_on (the carrier of R18) )) by L2817 , L2616;
L2818: D451 = ( R47 . R8 ) by L2812 , MATRIX_2:8;
L2819: ( dom D450 ) = ( Seg R10 ) by L2806 , L2807 , FINSEQ_1:def 3;
L2820: ( D450 . R8 ) = ( ( D449 . ( D448 /. R8 ) ) * ( D448 /. R8 ) ) by L2819 , L2812 , VECTSP_6:def 5;
L2821: ( D449 . D451 ) = ( R21 . R8 ) by L2800 , L2812 , L2817;
L2822: ( D450 . R8 ) = ( R19 * D451 ) by L2821 , L2813 , L2820 , L2816 , L2818 , L2616;
thus L2823: ( R48 . R8 ) = ( D450 . R8 ) by L2822 , L2812 , L2814 , MATRIX_2:8;
end;
L2824: ( len R48 ) = R10 by MATRIX_1:def 2;
thus L2825: thesis by L2824 , L2806 , L2807 , L2808 , FINSEQ_1:14;
end;
theorem
L2826: (for R10 being Nat holds (for R11 being Nat holds (for R18 being Field holds (for R47 being (Matrix of R10 , R11 , R18) holds (R47 is  without_repeated_line implies (((for R6 being Nat holds (R6 in ( Seg R10 ) implies ( Line (R47 , R6) ) <> ( R11 |-> ( 0. R18 ) ))) & (for R48 being (Matrix of R10 , R11 , R18) holds (((for R6 being Nat holds (R6 in ( Seg R10 ) implies (ex R19 being (Element of R18) st ( Line (R48 , R6) ) = ( R19 * ( Line (R47 , R6) ) )))) & (for R7 being Nat holds (R7 in ( Seg R11 ) implies ( Sum ( Col (R48 , R7) ) ) = ( 0. R18 )))) implies R48 = ( 0. (R18 , R10 , R11) )))) iff ( lines R47 ) is  linearly-independent))))))
proof
let R10 being Nat;
let R11 being Nat;
let R18 being Field;
set D452 = ( R11 -VectSp_over R18 );
set D453 = ( R11 |-> ( 0. R18 ) );
L2827: ( len D453 ) = R11 by CARD_1:def 7;
let R47 being (Matrix of R10 , R11 , R18);
assume that
L2828: R47 is  without_repeated_line;
thus L2829: (((for R6 being Nat holds (R6 in ( Seg R10 ) implies ( Line (R47 , R6) ) <> ( R11 |-> ( 0. R18 ) ))) & (for R48 being (Matrix of R10 , R11 , R18) holds (((for R6 being Nat holds (R6 in ( Seg R10 ) implies (ex R19 being (Element of R18) st ( Line (R48 , R6) ) = ( R19 * ( Line (R47 , R6) ) )))) & (for R7 being Nat holds (R7 in ( Seg R11 ) implies ( Sum ( Col (R48 , R7) ) ) = ( 0. R18 )))) implies R48 = ( 0. (R18 , R10 , R11) )))) implies ( lines R47 ) is  linearly-independent)
proof
set D454 = ( MX2FinS R47 );
set D455 = ( R11 -VectSp_over R18 );
assume that
L2830: (for R6 being Nat holds (R6 in ( Seg R10 ) implies ( Line (R47 , R6) ) <> ( R11 |-> ( 0. R18 ) )))
and
L2831: (for R48 being (Matrix of R10 , R11 , R18) holds (((for R6 being Nat holds (R6 in ( Seg R10 ) implies (ex R19 being (Element of R18) st ( Line (R48 , R6) ) = ( R19 * ( Line (R47 , R6) ) )))) & (for R7 being Nat holds (R7 in ( Seg R11 ) implies ( Sum ( Col (R48 , R7) ) ) = ( 0. R18 )))) implies R48 = ( 0. (R18 , R10 , R11) )));
let C179 being (Linear_Combination of ( lines R47 ));
assume that
L2832: ( Sum C179 ) = ( 0. D455 );
set D456 = ( C179 (#) D454 );
set D457 = ( FinS2MX D456 );
L2833: ( len R47 ) = R10 by MATRIX_1:def 2;
reconsider D458 = D457 as (Matrix of R10 , R11 , R18) by L2833 , VECTSP_6:def 5;
L2834: (for R6 being Nat holds (R6 in ( Seg R10 ) implies (ex R19 being (Element of R18) st ( Line (D458 , R6) ) = ( R19 * ( Line (R47 , R6) ) ))))
proof
let R6 being Nat;
assume that
L2835: R6 in ( Seg R10 );
L2836: ( Line (R47 , R6) ) in ( lines R47 ) by L2835 , L2653;
reconsider D459 = ( Line (R47 , R6) ) as (Element of D455) by L2836;
reconsider D460 = ( C179 . D459 ) as (Element of R18);
L2837: ( Line (R47 , R6) ) = ( R47 . R6 ) by L2835 , MATRIX_2:8;
L2838: ( Line (D458 , R6) ) = ( D460 * ( Line (R47 , R6) ) ) by L2837 , L2833 , L2835 , L2715;
thus L2839: thesis by L2838;
end;
L2840: ( len ( R11 |-> ( 0. R18 ) ) ) = R11 by CARD_1:def 7;
assume L2841: ( Carrier C179 ) <> ( {} );
consider R1 being set such that L2842: R1 in ( Carrier C179 ) by L2841 , XBOOLE_0:def 1;
L2843: ( Carrier C179 ) c= ( lines R47 ) by VECTSP_6:def 4;
consider R6 being Nat such that L2844: R6 in ( Seg R10 ) and L2845: R1 = ( Line (R47 , R6) ) by L2843 , L2842 , L2653;
consider R38 being (Vector of ( R11 -VectSp_over R18 )) such that L2846: R1 = R38 and L2847: ( C179 . R38 ) <> ( 0. R18 ) by L2842 , VECTSP_6:1;
reconsider D461 = ( Line (R47 , R6) ) as (Element of ( R11 -tuples_on (the carrier of R18) )) by L2845 , L2846 , L2616;
L2848: ( Line (R47 , R6) ) = ( R47 . R6 ) by L2844 , MATRIX_2:8;
L2849: ( Line (D458 , R6) ) = ( ( C179 . R38 ) * D461 ) by L2848 , L2833 , L2844 , L2845 , L2846 , L2715;
L2850:
now
let R7 being Nat;
assume that
L2851: R7 in ( Seg R11 );
L2852: ( ( R11 |-> ( 0. R18 ) ) . R7 ) = ( 0. R18 ) by L2851 , FINSEQ_2:57;
L2853: ( Carrier C179 ) c= ( lines R47 ) by VECTSP_6:def 4;
L2854: ( ( Sum C179 ) . R7 ) = ( Sum ( Col (D458 , R7) ) ) by L2853 , L2828 , L2851 , L2726;
thus L2855: ( Sum ( Col (D458 , R7) ) ) = ( 0. R18 ) by L2854 , L2832 , L2852 , L2616;
end;
L2856: D458 = ( 0. (R18 , R10 , R11) ) by L2850 , L2831 , L2834;
L2857: ( D458 . R6 ) = ( R11 |-> ( 0. R18 ) ) by L2856 , L2844 , FUNCOP_1:7;
L2858: ( dom D461 ) = ( Seg R11 ) by FINSEQ_2:124;
L2859: ( len D461 ) = R11 by CARD_1:def 7;
consider R7 being Nat such that L2860: 1 <= R7 and L2861: R7 <= R11 and L2862: ( D461 . R7 ) <> ( ( R11 |-> ( 0. R18 ) ) . R7 ) by L2859 , L2830 , L2844 , L2840 , FINSEQ_1:14;
L2863: R7 in ( NAT ) by ORDINAL1:def 12;
L2864: R7 in ( Seg R11 ) by L2863 , L2860 , L2861;
L2865: ( D461 . R7 ) <> ( 0. R18 ) by L2864 , L2862 , FINSEQ_2:57;
L2866: R7 in ( Seg R11 ) by L2860 , L2861 , L2863;
L2867: ( D461 . R7 ) in ( rng D461 ) by L2866 , L2858 , FUNCT_1:def 3;
L2868: ( rng D461 ) c= (the carrier of R18) by RELAT_1:def 19;
reconsider D462 = ( D461 . R7 ) as (Element of R18) by L2868 , L2867;
L2869: R11 in ( NAT ) by ORDINAL1:def 12;
L2870: ( ( ( C179 . R38 ) * D461 ) . R7 ) = ( ( C179 . R38 ) * D462 ) by L2869 , L2864 , FVSUM_1:51;
L2871: ( D458 . R6 ) = ( Line (D458 , R6) ) by L2844 , MATRIX_2:8;
L2872: ( ( Line (D458 , R6) ) . R7 ) = ( 0. R18 ) by L2871 , L2857 , L2864 , FINSEQ_2:57;
thus L2873: thesis by L2872 , L2847 , L2865 , L2870 , L2849 , VECTSP_1:12;
end;

assume L2874: ( lines R47 ) is  linearly-independent;
thus L2875:now
let R6 being Nat;
assume L2876: R6 in ( Seg R10 );
L2877: ( Line (R47 , R6) ) in ( lines R47 ) by L2876 , L2653;
L2878: ( Line (R47 , R6) ) <> ( 0. D452 ) by L2877 , L2874 , VECTSP_7:2;
thus L2879: ( Line (R47 , R6) ) <> ( R11 |-> ( 0. R18 ) ) by L2878 , L2616;
end;
let R48 being (Matrix of R10 , R11 , R18);
assume that
L2880: (for R6 being Nat holds (R6 in ( Seg R10 ) implies (ex R19 being (Element of R18) st ( Line (R48 , R6) ) = ( R19 * ( Line (R47 , R6) ) ))))
and
L2881: (for R7 being Nat holds (R7 in ( Seg R11 ) implies ( Sum ( Col (R48 , R7) ) ) = ( 0. R18 )));
consider C180 being (Linear_Combination of ( lines R47 )) such that L2882: ( C180 (#) ( MX2FinS R47 ) ) = R48 by L2828 , L2880 , L2772;
L2883: ( Carrier C180 ) c= ( lines R47 ) by VECTSP_6:def 4;
L2884:
now
let R7 being Nat;
assume that
L2885: 1 <= R7
and
L2886: R7 <= R11;
L2887: R7 in ( NAT ) by ORDINAL1:def 12;
L2888: R7 in ( Seg R11 ) by L2887 , L2885 , L2886;
thus L2889: ( ( Sum C180 ) . R7 ) = ( Sum ( Col (( FinS2MX ( C180 (#) ( MX2FinS R47 ) ) ) , R7) ) ) by L2888 , L2828 , L2883 , L2726
.= ( 0. R18 ) by L2881 , L2882 , L2888
.= ( D453 . R7 ) by L2888 , FINSEQ_2:57;
end;
reconsider D463 = ( Sum C180 ) as (Element of ( R11 -tuples_on (the carrier of R18) )) by L2616;
L2890: ( len D463 ) = R11 by CARD_1:def 7;
L2891: D463 = D453 by L2890 , L2827 , L2884 , FINSEQ_1:14
.= ( 0. D452 ) by L2616;
L2892: ( Carrier C180 ) = ( {} ) by L2891 , L2874 , VECTSP_7:def 1;
assume L2893: R48 <> ( 0. (R18 , R10 , R11) );
consider C181 , C182 being Nat such that L2894: [ C181 , C182 ] in ( Indices R48 ) and L2895: ( R48 * (C181 , C182) ) <> ( ( 0. (R18 , R10 , R11) ) * (C181 , C182) ) by L2893 , MATRIX_1:27;
L2896: [ C181 , C182 ] in ( Indices ( 0. (R18 , R10 , R11) ) ) by L2894 , MATRIX_1:26;
L2897: ( R48 * (C181 , C182) ) <> ( 0. R18 ) by L2896 , L2895 , MATRIX_3:1;
reconsider D464 = C181 , D465 = C182 as (Element of ( NAT )) by ORDINAL1:def 12;
L2898: ( Indices R48 ) = ( Indices R47 ) by MATRIX_1:26;
L2899: ( Indices R48 ) = [: ( Seg ( len R47 ) ) , ( Seg ( width R47 ) ) :] by L2898 , FINSEQ_1:def 3;
L2900: D464 in ( Seg ( len R47 ) ) by L2899 , L2894 , ZFMISC_1:87;
L2901: ( len R47 ) = R10 by MATRIX_1:def 2;
L2902: ( Line (R47 , D464) ) in ( lines R47 ) by L2901 , L2900 , L2653;
reconsider D466 = ( R47 . D464 ) as (Element of D452) by L2902 , L2900 , L2901 , MATRIX_2:8;
L2903: D465 in ( Seg ( width R47 ) ) by L2894 , L2898 , ZFMISC_1:87;
L2904: ( ( Line (R47 , D464) ) . D465 ) = ( R47 * (D464 , D465) ) by L2903 , MATRIX_1:def 7;
L2905: D465 in ( Seg ( width R48 ) ) by L2894 , ZFMISC_1:87;
L2906: ( R48 * (C181 , C182) ) = ( ( Line (( FinS2MX ( C180 (#) ( MX2FinS R47 ) ) ) , D464) ) . D465 ) by L2905 , L2882 , MATRIX_1:def 7
.= ( ( ( C180 . D466 ) * ( Line (R47 , D464) ) ) . D465 ) by L2900 , L2715
.= ( ( C180 . D466 ) * ( R47 * (D464 , D465) ) ) by L2903 , L2904 , FVSUM_1:51;
L2907: ( C180 . D466 ) <> ( 0. R18 ) by L2906 , L2897 , VECTSP_1:12;
thus L2908: thesis by L2907 , L2892 , VECTSP_6:1;
end;
theorem
L2909: (for R10 being Nat holds (for R11 being Nat holds (for R18 being Field holds (for R47 being (Matrix of R10 , R11 , R18) holds (( the_rank_of R47 ) = R10 implies ( lines R47 ) is  linearly-independent)))))
proof
let R10 being Nat;
let R11 being Nat;
let R18 being Field;
let R47 being (Matrix of R10 , R11 , R18);
assume L2910: ( the_rank_of R47 ) = R10;
reconsider D467 = R11 as (Element of ( NAT )) by ORDINAL1:def 12;
set D468 = ( R11 -VectSp_over R18 );
per cases ;
suppose L2911: R10 = ( 0 );

L2912: ( len R47 ) = ( 0 ) by L2911 , MATRIX_1:def 2;
L2913: R47 = ( {} ) by L2912;
thus L2914: thesis by L2913;
end;
suppose L2915: R10 <> ( 0 );

L2916: ( width R47 ) = R11 by L2915 , L1;
L2917: R47 is  without_repeated_line by L2910 , L2698;
L2918:
now
set D469 = ( R11 |-> ( 0. R18 ) );
set D470 = ( 0. (R18 , R10 , R11) );
let R48 being (Matrix of R10 , R11 , R18);
assume that
L2919: (for R6 being Nat holds (R6 in ( Seg R10 ) implies (ex R19 being (Element of R18) st ( Line (R48 , R6) ) = ( R19 * ( Line (R47 , R6) ) ))))
and
L2920: (for R7 being Nat holds (R7 in ( Seg R11 ) implies ( Sum ( Col (R48 , R7) ) ) = ( 0. R18 )));
assume L2921: R48 <> ( 0. (R18 , R10 , R11) );
consider R6 being Nat, R7 being Nat such that L2922: [ R6 , R7 ] in ( Indices R48 ) and L2923: ( R48 * (R6 , R7) ) <> ( D470 * (R6 , R7) ) by L2921 , MATRIX_1:27;
reconsider D471 = R6 , D472 = R7 as (Element of ( NAT )) by ORDINAL1:def 12;
L2924: ( len R47 ) = R10 by MATRIX_1:def 2;
L2925: ( Indices R48 ) = ( Indices D470 ) by MATRIX_1:26;
L2926: ( R48 * (D471 , D472) ) <> ( 0. R18 ) by L2925 , L2922 , L2923 , MATRIX_3:1;
L2927: ( Indices R47 ) = [: ( Seg R10 ) , ( Seg R11 ) :] by L2916 , MATRIX_1:25;
L2928: ( Indices R48 ) = ( Indices R47 ) by MATRIX_1:26;
L2929: D471 in ( Seg R10 ) by L2928 , L2927 , L2922 , ZFMISC_1:87;
consider R19 being (Element of R18) such that L2930: ( Line (R48 , D471) ) = ( R19 * ( Line (R47 , D471) ) ) by L2929 , L2919;
L2931: ( width R48 ) = R11 by L2915 , L1;
L2932: D472 in ( Seg R11 ) by L2931 , L2922 , ZFMISC_1:87;
L2933: ( ( Line (R47 , D471) ) . D472 ) = ( R47 * (D471 , D472) ) by L2932 , L2916 , MATRIX_1:def 7;
set D473 = ( RLine (R47 , D471 , ( R19 * ( Line (R47 , D471) ) )) );
consider C183 being (Linear_Combination of ( lines R47 )) such that L2934: ( C183 (#) ( MX2FinS R47 ) ) = R48 by L2910 , L2919 , L2698 , L2772;
set D474 = ( C183 (#) ( MX2FinS R47 ) );
L2935: ( len R48 ) = ( len R47 ) by L2934 , VECTSP_6:def 5;
consider C184 being (Function of ( NAT ) , (the carrier of D468)) such that L2936: ( Sum D474 ) = ( C184 . R10 ) and L2937: ( C184 . ( 0 ) ) = ( 0. D468 ) and L2938: (for B117 being (Element of ( NAT )) holds (for R38 being (Vector of ( R11 -VectSp_over R18 )) holds ((B117 < R10 & R38 = ( D474 . ( B117 + 1 ) )) implies ( C184 . ( B117 + 1 ) ) = ( ( C184 . B117 ) + R38 )))) by L2935 , L2934 , L2924 , RLVECT_1:def 12;
set D475 = ( RLine (D473 , D471 , D469) );
L2939: ( len D475 ) = R10 by MATRIX_1:def 2;
defpred S12[ Nat ] means ($1 < D471 implies (for R43 being (Element of ( R11 -tuples_on (the carrier of R18) )) holds (R43 = ( C184 . $1 ) implies ( the_rank_of D473 ) = ( the_rank_of ( RLine (D473 , D471 , ( ( Line (D473 , D471) ) + R43 )) ) ))));
L2940: ( width R47 ) = ( len ( Line (R47 , D471) ) ) by MATRIX_1:def 7
.= ( len ( R19 * ( Line (R47 , D471) ) ) ) by MATRIXR1:16;
L2941: ( width D473 ) = ( width R47 ) by L2940 , MATRIX11:def 3;
L2942: (for R8 being Nat holds (S12[ R8 ] implies S12[ ( R8 + 1 ) ]))
proof
let R8 being Nat;
assume that
L2943: S12[ R8 ];
reconsider D476 = R8 as (Element of ( NAT )) by ORDINAL1:def 12;
set D477 = ( R8 + 1 );
L2944: 1 <= D477 by NAT_1:14;
L2945: D471 <= R10 by L2929 , FINSEQ_1:1;
reconsider D478 = ( Line (D473 , D471) ) , D479 = ( Line (R48 , D477) ) as (Element of ( D467 -tuples_on (the carrier of R18) )) by L2915 , L1;
assume L2946: D477 < D471;
let R43 being (Element of ( R11 -tuples_on (the carrier of R18) ));
assume that
L2947: R43 = ( C184 . D477 );
reconsider D480 = ( C184 . D476 ) , D481 = R43 as (Element of ( D467 -tuples_on (the carrier of R18) )) by L2616;
set D482 = ( RLine (D473 , D471 , ( ( Line (D473 , D471) ) + D480 )) );
reconsider D483 = ( D478 + R43 ) , D484 = ( D478 + D480 ) as (Element of ( (the carrier of R18) * )) by FINSEQ_1:def 11;
L2948: ( len ( D478 + D481 ) ) = R11 by CARD_1:def 7;
L2949: ( len ( D478 + D480 ) ) = ( width D473 ) by L2916 , L2941 , CARD_1:def 7;
L2950: ( width D482 ) = ( width D473 ) by L2949 , MATRIX11:def 3;
L2951: ( RLine (D482 , D471 , ( D478 + R43 )) ) = ( Replace (D482 , D471 , D483) ) by L2950 , L2916 , L2941 , L2948 , MATRIX11:29
.= ( Replace (( Replace (D473 , D471 , D484) ) , D471 , D483) ) by L2949 , MATRIX11:29
.= ( Replace (D473 , D471 , D483) ) by FUNCT_7:34
.= ( RLine (D473 , D471 , ( D478 + R43 )) ) by L2916 , L2941 , L2948 , MATRIX11:29;
L2952: D471 <= R10 by L2929 , FINSEQ_1:1;
L2953: D477 < R10 by L2952 , L2946 , XXREAL_0:2;
L2954: D477 in ( Seg R10 ) by L2953 , L2944;
L2955: ( Line (R48 , D477) ) = ( R48 . D477 ) by L2954 , MATRIX_2:8;
L2956: ( Line (R48 , D477) ) in ( lines R48 ) by L2954 , L2653;
reconsider D485 = ( D474 . D477 ) as (Element of D468) by L2956 , L2934 , L2954 , MATRIX_2:8;
consider R19 being (Element of R18) such that L2957: ( Line (R48 , D477) ) = ( R19 * ( Line (R47 , D477) ) ) by L2919 , L2954;
L2958: ( Line (R47 , D477) ) = ( Line (D473 , D477) ) by L2946 , L2954 , MATRIX11:28
.= ( Line (D482 , D477) ) by L2946 , L2954 , MATRIX11:28;
L2959: R8 < D471 by L2946 , NAT_1:13;
L2960: R8 < R10 by L2959 , L2945 , XXREAL_0:2;
L2961: R43 = ( ( C184 . D476 ) + D485 ) by L2960 , L2938 , L2947
.= ( D480 + ( Line (R48 , D477) ) ) by L2931 , L2934 , L2955 , L2616;
L2962: ( D478 + R43 ) = ( ( D478 + D480 ) + D479 ) by L2961 , FINSEQOP:28
.= ( ( Line (D482 , D471) ) + ( R19 * ( Line (D482 , D477) ) ) ) by L2929 , L2957 , L2949 , L2958 , MATRIX11:28;
L2963: ( len D482 ) = R10 by MATRIX_1:def 2;
L2964: ( the_rank_of D473 ) = ( the_rank_of D482 ) by L2943 , L2946 , NAT_1:13;
thus L2965: thesis by L2964 , L2946 , L2954 , L2963 , L2951 , L2962 , L2152;
end;
defpred S13[ Nat ] means ((D471 <= $1 & $1 <= R10) implies (for R43 being (Element of ( R11 -tuples_on (the carrier of R18) )) holds (R43 = ( C184 . $1 ) implies ( the_rank_of D473 ) = ( the_rank_of ( RLine (D473 , D471 , R43) ) ))));
L2966: S12[ ( 0 ) ]
proof
assume L2967: ( 0 ) < D471;
let R43 being (Element of ( R11 -tuples_on (the carrier of R18) ));
assume L2968: R43 = ( C184 . ( 0 ) );
L2969: R43 = ( R11 |-> ( 0. R18 ) ) by L2968 , L2937 , L2616;
L2970: ( ( Line (D473 , D471) ) + R43 ) = ( Line (D473 , D471) ) by L2969 , L2916 , L2941 , FVSUM_1:21;
thus L2971: thesis by L2970 , MATRIX11:30;
end;
L2972: (for R8 being Nat holds S12[ R8 ]) from NAT_1:sch 2(L2966 , L2942);
L2973: (for R8 being Nat holds (S13[ R8 ] implies S13[ ( R8 + 1 ) ]))
proof
let R8 being Nat;
assume that
L2974: S13[ R8 ];
reconsider D486 = R8 as (Element of ( NAT )) by ORDINAL1:def 12;
reconsider D487 = ( C184 . D486 ) as (Element of ( D467 -tuples_on (the carrier of R18) )) by L2616;
set D488 = ( R8 + 1 );
reconsider D489 = ( Line (D473 , D471) ) , D490 = ( Line (R48 , D488) ) as (Element of ( R11 -tuples_on (the carrier of R18) )) by L2915 , L1;
assume that
L2975: D471 <= D488
and
L2976: D488 <= R10;
L2977: R8 < R10 by L2976 , NAT_1:13;
L2978: 1 <= D488 by NAT_1:14;
L2979: D488 in ( Seg R10 ) by L2978 , L2976;
L2980: ( Line (R48 , D488) ) = ( R48 . D488 ) by L2979 , MATRIX_2:8;
L2981: ( Line (R48 , D488) ) in ( lines R48 ) by L2979 , L2653;
reconsider D491 = ( D474 . D488 ) as (Element of D468) by L2981 , L2934 , L2979 , MATRIX_2:8;
let R43 being (Element of ( R11 -tuples_on (the carrier of R18) ));
assume L2982: R43 = ( C184 . D488 );
L2983: R43 = ( ( C184 . D486 ) + D491 ) by L2982 , L2938 , L2977
.= ( D487 + D490 ) by L2934 , L2980 , L2616;
consider R20 being (Element of R18) such that L2984: ( Line (R48 , D488) ) = ( R20 * ( Line (R47 , D488) ) ) by L2919 , L2979;
reconsider D492 = R43 , D493 = D487 as (Element of ( (the carrier of R18) * )) by FINSEQ_1:def 11;
per cases  by L2975 , XXREAL_0:1;
suppose L2985: D471 = D488;

L2986: ( len D490 ) = R11 by CARD_1:def 7;
L2987: D489 = D490 by L2986 , L2916 , L2930 , L2979 , L2985 , MATRIX11:28;
L2988: ( D489 + D487 ) = R43 by L2987 , L2983 , FINSEQOP:33;
L2989: R8 < D471 by L2985 , NAT_1:13;
thus L2990: thesis by L2989 , L2972 , L2988;
end;
suppose L2991: D471 < D488;

set D494 = ( RLine (D473 , D471 , D487) );
L2992: ( len D487 ) = ( width D473 ) by L2916 , L2941 , CARD_1:def 7;
L2993: ( Line (D494 , D471) ) = D487 by L2992 , L2929 , MATRIX11:28;
L2994: R43 = ( ( Line (D494 , D471) ) + ( R20 * ( Line (D473 , D488) ) ) ) by L2993 , L2979 , L2984 , L2983 , L2991 , MATRIX11:28
.= ( ( Line (D494 , D471) ) + ( R20 * ( Line (D494 , D488) ) ) ) by L2979 , L2991 , MATRIX11:28;
L2995: ( len R43 ) = R11 by CARD_1:def 7;
L2996: ( width D494 ) = ( width D473 ) by L2992 , MATRIX11:def 3;
L2997: ( RLine (D494 , D471 , R43) ) = ( Replace (D494 , D471 , D492) ) by L2996 , L2916 , L2941 , L2995 , MATRIX11:29
.= ( Replace (( Replace (D473 , D471 , D493) ) , D471 , D492) ) by L2992 , MATRIX11:29
.= ( Replace (D473 , D471 , D492) ) by FUNCT_7:34
.= ( RLine (D473 , D471 , R43) ) by L2916 , L2941 , L2995 , MATRIX11:29;
L2998: ( len D494 ) = R10 by MATRIX_1:def 2;
L2999: ( the_rank_of D473 ) = ( the_rank_of ( RLine (D473 , D471 , D487) ) ) by L2974 , L2976 , L2991 , NAT_1:13;
thus L3000: thesis by L2999 , L2979 , L2991 , L2994 , L2997 , L2998 , L2152;
end;
end;
L3002: S13[ ( 0 ) ] by L2929;
L3003: (for R8 being Nat holds S13[ R8 ]) from NAT_1:sch 2(L3002 , L2973);
reconsider D495 = ( Sum D474 ) as (Element of ( R11 -tuples_on (the carrier of R18) )) by L2616;
L3004:
now
let R7 being Nat;
assume that
L3005: 1 <= R7
and
L3006: R7 <= R11;
L3007: R7 in ( NAT ) by ORDINAL1:def 12;
L3008: R7 in ( Seg R11 ) by L3007 , L3005 , L3006;
L3009: ( Carrier C183 ) c= ( lines R47 ) by VECTSP_6:def 4;
L3010: R48 = ( FinS2MX ( C183 (#) ( MX2FinS R47 ) ) ) by L2934;
L3011: ( Sum ( Col (R48 , R7) ) ) = ( ( Sum C183 ) . R7 ) by L3010 , L2910 , L3008 , L3009 , L2698 , L2726
.= ( D495 . R7 ) by L2917 , L3009 , VECTSP_9:3;
thus L3012: ( D495 . R7 ) = ( 0. R18 ) by L3011 , L2920 , L3008
.= ( D469 . R7 ) by L3008 , FINSEQ_2:57;
end;
L3013: ( dom D475 ) = ( Seg ( len D475 ) ) by FINSEQ_1:def 3;
consider R8 being Nat such that L3014: R10 = ( R8 + 1 ) and L3015: ( len ( Del (D475 , D471) ) ) = R8 by L3013 , L2929 , L2939 , FINSEQ_3:104;
L3016: ( len D495 ) = R11 by CARD_1:def 7;
L3017: ( R48 * (D471 , D472) ) = ( ( Line (R48 , D471) ) . D472 ) by L2931 , L2932 , MATRIX_1:def 7
.= ( R19 * ( R47 * (D471 , D472) ) ) by L2916 , L2932 , L2930 , L2933 , FVSUM_1:51;
L3018: R19 <> ( 0. R18 ) by L3017 , L2926 , VECTSP_1:12;
L3019: R10 = ( the_rank_of D473 ) by L3018 , L2910 , L2023;
L3020: ( len D469 ) = R11 by CARD_1:def 7;
L3021: ( width D475 ) = ( width D473 ) by L3020 , L2916 , L2941 , MATRIX11:def 3;
L3022: ( Line (D475 , D471) ) = D469 by L2916 , L2929 , L2941 , L3020 , MATRIX11:28;
L3023: D471 <= R10 by L2929 , FINSEQ_1:1;
L3024: R10 = ( the_rank_of ( RLine (D473 , D471 , D469) ) ) by L3023 , L3019 , L2936 , L3003 , L3016 , L3020 , L3004 , FINSEQ_1:14;
L3025: R10 = ( the_rank_of ( DelLine (D475 , D471) ) ) by L3024 , L2916 , L2941 , L3022 , L3021 , L2081;
L3026: R10 <= R8 by L3025 , L3015 , L1665;
thus L3027: contradiction by L3026 , L3014 , NAT_1:13;
end;
L3028:
now
L3029: ( len R47 ) = R10 by MATRIX_1:def 2;
L3030: ( dom R47 ) = ( Seg ( len R47 ) ) by FINSEQ_1:def 3;
let R6 being Nat;
assume L3031: R6 in ( Seg R10 );
consider R8 being Nat such that L3032: R10 = ( R8 + 1 ) and L3033: ( len ( Del (R47 , R6) ) ) = R8 by L3031 , L3030 , L3029 , FINSEQ_3:104;
assume L3034: ( Line (R47 , R6) ) = ( R11 |-> ( 0. R18 ) );
L3035: ( the_rank_of ( DelLine (R47 , R6) ) ) = R10 by L3034 , L2910 , L2916 , L2081;
L3036: R10 <= R8 by L3035 , L3033 , L1665;
thus L3037: contradiction by L3036 , L3032 , NAT_1:13;
end;
thus L3038: thesis by L3028 , L2917 , L2918 , L2826;
end;
end;
theorem
L3040: (for R11 being Nat holds (for R18 being Field holds (for B118 being (Diagonal of R11 , R18) holds (( the_rank_of B118 ) = R11 implies ( lines B118 ) is (Basis of ( R11 -VectSp_over R18 ))))))
proof
let R11 being Nat;
let R18 being Field;
let C185 being (Diagonal of R11 , R18);
assume that
L3041: ( the_rank_of C185 ) = R11;
set D496 = ( lines C185 );
set D497 = ( R11 -VectSp_over R18 );
reconsider D498 = D497 as (Subspace of D497) by VECTSP_4:24;
L3042:
now
let R38 being (Vector of ( R11 -VectSp_over R18 ));
thus L3043: (R38 in ( Lin D496 ) implies R38 in D498) by STRUCT_0:def 5;
thus L3044: (R38 in D498 implies R38 in ( Lin D496 ))
proof
reconsider D499 = R38 as (Element of ( R11 -tuples_on (the carrier of R18) )) by L2616;
assume L3045: R38 in D498;
deffunc H3(Nat) = ( ( ( D499 /. $1 ) * ( ( C185 * ($1 , $1) ) " ) ) * ( Line (C185 , $1) ) );
consider C186 being (FinSequence of ( ( width C185 ) -tuples_on (the carrier of R18) )) such that L3046: ( len C186 ) = R11 and L3047: (for R7 being Nat holds (R7 in ( dom C186 ) implies ( C186 . R7 ) = H3(R7))) from FINSEQ_2:sch 1;
L3048: ( dom C186 ) = ( Seg R11 ) by L3046 , FINSEQ_1:def 3;
L3049: ( width C185 ) = R11 by MATRIX_1:24;
reconsider D500 = C186 as (FinSequence of (the carrier of D497)) by L3049 , L2616;
reconsider D501 = ( FinS2MX D500 ) as (Matrix of R11 , R18) by L3046;
L3050:
now
let R6 being Nat;
assume that
L3051: R6 in ( Seg R11 );
L3052: ( Line (D501 , R6) ) = ( D501 . R6 ) by L3051 , MATRIX_2:8
.= H3(R6) by L3047 , L3048 , L3051;
thus L3053: (ex R19 being (Element of R18) st ( Line (D501 , R6) ) = ( R19 * ( Line (C185 , R6) ) )) by L3052;
end;
consider C187 being (Linear_Combination of D496) such that L3054: ( C187 (#) ( MX2FinS C185 ) ) = D501 by L3050 , L3041 , L2698 , L2772;
set D502 = ( MX2FinS C185 );
L3055: ( len D499 ) = R11 by CARD_1:def 7;
reconsider D503 = ( Sum C187 ) as (Element of ( R11 -tuples_on (the carrier of R18) )) by L2616;
L3056: ( Carrier C187 ) c= D496 by VECTSP_6:def 4;
L3057:
now
set D504 = ( diagonal_of_Matrix C185 );
let R6 being Nat;
assume that
L3058: 1 <= R6
and
L3059: R6 <= R11;
L3060: R6 in ( NAT ) by ORDINAL1:def 12;
L3061: R6 in ( Seg R11 ) by L3060 , L3058 , L3059;
L3062: ( D504 . R6 ) = ( C185 * (R6 , R6) ) by L3061 , MATRIX_3:def 10;
L3063: ( len D504 ) = R11 by MATRIX_3:def 10;
L3064: ( dom D504 ) = ( Seg R11 ) by L3063 , FINSEQ_1:def 3;
L3065: ( width C185 ) = R11 by MATRIX_1:24;
L3066: ( ( Line (C185 , R6) ) . R6 ) = ( C185 * (R6 , R6) ) by L3065 , L3061 , MATRIX_1:def 7;
set D505 = ( Col (D501 , R6) );
L3067: ( dom D499 ) = ( Seg R11 ) by FINSEQ_2:124;
L3068: ( len D505 ) = ( len D501 ) by MATRIX_1:def 8;
L3069: ( dom D505 ) = ( Seg ( len D501 ) ) by L3068 , FINSEQ_1:def 3;
L3070: ( len C185 ) = R11 by MATRIX_1:24;
L3071: ( dom C185 ) = ( Seg R11 ) by L3070 , FINSEQ_1:def 3;
L3072: ( Det C185 ) <> ( 0. R18 ) by L3041 , L1887;
L3073: ( len D501 ) = R11 by MATRIX_1:24;
L3074: ( dom D501 ) = ( Seg R11 ) by L3073 , FINSEQ_1:def 3;
L3075: ( Det C185 ) = ( Product D504 ) by L3058 , L3059 , L3063 , MATRIX_7:17 , NAT_1:14;
L3076: ( D504 . R6 ) <> ( 0. R18 ) by L3075 , L3061 , L3072 , L3064 , FVSUM_1:82;
L3077: ( Line (D501 , R6) ) = ( D501 . R6 ) by L3061 , MATRIX_2:8
.= ( ( ( D499 /. R6 ) * ( ( C185 * (R6 , R6) ) " ) ) * ( Line (C185 , R6) ) ) by L3047 , L3061 , L3074;
L3078: ( width D501 ) = R11 by MATRIX_1:24;
L3079:
now
let R8 being Nat;
assume that
L3080: R8 in ( dom D505 )
and
L3081: R8 <> R6;
L3082: [ R8 , R6 ] in ( Indices C185 ) by L3073 , L3065 , L3061 , L3069 , L3071 , L3080 , ZFMISC_1:87;
L3083: ( ( Line (C185 , R8) ) . R6 ) = ( C185 * (R8 , R6) ) by L3065 , L3061 , MATRIX_1:def 7
.= ( 0. R18 ) by L3081 , L3082 , MATRIX_1:def 14;
L3084: ( D502 /. R8 ) = ( C185 . R8 ) by L3073 , L3069 , L3071 , L3080 , PARTFUN1:def 6
.= ( Line (C185 , R8) ) by L3073 , L3069 , L3080 , MATRIX_2:8;
L3085: ( Line (D501 , R8) ) = ( D501 . R8 ) by L3069 , L3080 , MATRIX_2:8
.= ( ( C187 . ( D502 /. R8 ) ) * ( D502 /. R8 ) ) by L3054 , L3073 , L3069 , L3074 , L3080 , VECTSP_6:def 5
.= ( ( C187 . ( D502 /. R8 ) ) * ( Line (C185 , R8) ) ) by L3065 , L3084 , L2616;
L3086: ( ( Line (D501 , R8) ) . R6 ) = ( ( C187 . ( D502 /. R8 ) ) * ( 0. R18 ) ) by L3085 , L3065 , L3061 , L3083 , FVSUM_1:51
.= ( 0. R18 ) by VECTSP_1:7;
thus L3087: ( 0. R18 ) = ( D501 * (R8 , R6) ) by L3086 , L3078 , L3061 , MATRIX_1:def 7
.= ( D505 . R8 ) by L3073 , L3069 , L3074 , L3080 , MATRIX_1:def 8;
end;
L3088: ( D505 . R6 ) = ( Sum D505 ) by L3079 , L3073 , L3061 , L3069 , MATRIX_3:12
.= ( D503 . R6 ) by L3041 , L3054 , L3056 , L3061 , L2698 , L2726;
thus L3089: ( D503 . R6 ) = ( D501 * (R6 , R6) ) by L3088 , L3061 , L3074 , MATRIX_1:def 8
.= ( ( Line (D501 , R6) ) . R6 ) by L3078 , L3061 , MATRIX_1:def 7
.= ( ( ( D499 /. R6 ) * ( ( C185 * (R6 , R6) ) " ) ) * ( C185 * (R6 , R6) ) ) by L3065 , L3061 , L3077 , L3066 , FVSUM_1:51
.= ( ( D499 /. R6 ) * ( ( ( C185 * (R6 , R6) ) " ) * ( C185 * (R6 , R6) ) ) ) by GROUP_1:def 3
.= ( ( D499 /. R6 ) * ( 1_ R18 ) ) by L3076 , L3062 , VECTSP_1:def 10
.= ( D499 /. R6 ) by VECTSP_1:def 4
.= ( D499 . R6 ) by L3061 , L3067 , PARTFUN1:def 6;
end;
L3090: ( len D503 ) = R11 by CARD_1:def 7;
L3091: D503 = D499 by L3090 , L3055 , L3057 , FINSEQ_1:14;
thus L3092: thesis by L3091 , VECTSP_7:7;
end;

end;
L3045: ( Lin D496 ) = ( the VectSpStr of D497 ) by L3042 , VECTSP_4:30;
L3046: ( lines C185 ) is  linearly-independent by L3041 , L2909;
thus L3047: thesis by L3046 , L3045 , VECTSP_7:def 3;
end;
L3048: (for R11 being Nat holds (for R18 being Field holds (( lines ( 1. (R18 , R11) ) ) is (Basis of ( R11 -VectSp_over R18 )) & ( the_rank_of ( 1. (R18 , R11) ) ) = R11)))
proof
let R11 being Nat;
let R18 being Field;
set D506 = ( 1. (R18 , R11) );
L3049: R11 in ( NAT ) by ORDINAL1:def 12;
L3050: (R11 = ( 0 ) or R11 >= 1) by NAT_1:14;
L3051: ( Det D506 ) = ( 1_ R18 ) by L3050 , L3049 , MATRIXR2:41 , MATRIX_7:16;
L3052: (for R6 being Nat holds (for R7 being Nat holds (([ R6 , R7 ] in ( Indices D506 ) & ( D506 * (R6 , R7) ) <> ( 0. R18 )) implies R6 = R7))) by MATRIX_1:def 11;
L3053: D506 is  diagonal by L3052 , MATRIX_1:def 14;
L3054: ( 1_ R18 ) <> ( 0. R18 );
L3055: ( the_rank_of D506 ) = R11 by L3054 , L3051 , L1887;
thus L3056: thesis by L3055 , L3053 , L3040;
end;
registration
let R18 being Field;
let R11 being Nat;
cluster ( R11 -VectSp_over R18 ) ->  finite-dimensional;
coherence
proof
L3057: ( lines ( 1. (R18 , R11) ) ) is (Basis of ( R11 -VectSp_over R18 )) by L3048;
thus L3058: thesis by L3057 , MATRLIN:def 1;
end;
end;
theorem
L3060: (for R11 being Nat holds (for R18 being Field holds ( dim ( R11 -VectSp_over R18 ) ) = R11))
proof
let R11 being Nat;
let R18 being Field;
set D507 = ( 1. (R18 , R11) );
L3061: ( len D507 ) = R11 by MATRIX_1:24;
L3062: ( dom D507 ) = ( Seg R11 ) by L3061 , FINSEQ_1:def 3;
L3063: ( D507 .: ( Seg R11 ) ) = ( lines D507 ) by L3062 , RELAT_1:113;
L3064: ( the_rank_of D507 ) = R11 by L3048;
L3065: D507 is  without_repeated_line by L3064 , L2698;
L3066: ( Seg R11 ) , ( D507 .: ( Seg R11 ) ) are_equipotent  by L3065 , L3062 , CARD_1:33;
L3067: ( card ( Seg R11 ) ) = ( card ( lines D507 ) ) by L3066 , L3063 , CARD_1:5;
L3068: ( card ( lines D507 ) ) = R11 by L3067 , FINSEQ_1:57;
L3069: ( lines D507 ) is (Basis of ( R11 -VectSp_over R18 )) by L3048;
thus L3070: thesis by L3069 , L3068 , VECTSP_9:def 1;
end;
theorem
L3071: (for R10 being Nat holds (for R11 being Nat holds (for R18 being Field holds (for R47 being (Matrix of R10 , R11 , R18) holds (for R6 being Nat holds (for R19 being (Element of R18) holds ((for R7 being Nat holds (R7 in ( Seg R10 ) implies ( R47 * (R7 , R6) ) = R19)) implies (R47 is  without_repeated_line iff ( Segm (R47 , ( Seg ( len R47 ) ) , ( ( Seg ( width R47 ) ) \ { R6 } )) ) is  without_repeated_line))))))))
proof
let R10 being Nat;
let R11 being Nat;
let R18 being Field;
let R47 being (Matrix of R10 , R11 , R18);
let R6 being Nat;
let R19 being (Element of R18);
assume that
L3072: (for R7 being Nat holds (R7 in ( Seg R10 ) implies ( R47 * (R7 , R6) ) = R19));
set D508 = ( Sgm ( Seg ( len R47 ) ) );
set D509 = ( ( Seg ( width R47 ) ) \ { R6 } );
set D510 = ( Segm (R47 , ( Seg ( len R47 ) ) , D509) );
set D511 = ( Sgm D509 );
L3073: ( len R47 ) = R10 by MATRIX_1:def 2;
L3074: ( card ( Seg ( len R47 ) ) ) = ( len R47 ) by FINSEQ_1:57;
L3075: ( len D510 ) = ( card ( Seg ( len R47 ) ) ) by MATRIX_1:def 2;
L3076: ( dom D510 ) = ( Seg R10 ) by L3075 , L3073 , L3074 , FINSEQ_1:def 3;
L3077: ( dom R47 ) = ( Seg R10 ) by L3073 , FINSEQ_1:def 3;
thus L3078: (R47 is  without_repeated_line implies D510 is  without_repeated_line)
proof
L3079: D509 c= ( Seg ( width R47 ) ) by XBOOLE_1:36;
assume L3080: R47 is  without_repeated_line;
let C188 , C189 being set;
assume that
L3081: C188 in ( dom D510 )
and
L3082: C189 in ( dom D510 )
and
L3083: ( D510 . C188 ) = ( D510 . C189 );
reconsider D512 = C188 , D513 = C189 as (Element of ( NAT )) by L3081 , L3082;
L3084: D508 = ( idseq R10 ) by L3073 , FINSEQ_3:48;
L3085: ( ( Line (R47 , D512) ) * D511 ) = ( ( Line (R47 , ( D508 . D512 )) ) * D511 ) by L3084 , L3076 , L3081 , FINSEQ_2:49
.= ( Line (D510 , D512) ) by L3073 , L3074 , L3076 , L3081 , L1122 , XBOOLE_1:36
.= ( D510 . D512 ) by L3073 , L3074 , L3076 , L3081 , MATRIX_2:8
.= ( Line (D510 , D513) ) by L3073 , L3074 , L3076 , L3082 , L3083 , MATRIX_2:8
.= ( ( Line (R47 , ( D508 . D513 )) ) * D511 ) by L3073 , L3074 , L3076 , L3082 , L1122 , XBOOLE_1:36
.= ( ( Line (R47 , D513) ) * D511 ) by L3076 , L3082 , L3084 , FINSEQ_2:49;
L3086:
now
let R8 being Nat;
assume that
L3087: 1 <= R8
and
L3088: R8 <= ( width R47 );
L3089: R8 in ( NAT ) by ORDINAL1:def 12;
L3090: R8 in ( Seg ( width R47 ) ) by L3089 , L3087 , L3088;
per cases ;
suppose L3091: R8 = R6;

L3092: ( R47 * (D513 , R8) ) = R19 by L3091 , L3072 , L3076 , L3082;
L3093: ( R47 * (D512 , R8) ) = ( ( Line (R47 , D512) ) . R8 ) by L3090 , MATRIX_1:def 7;
L3094: ( R47 * (D512 , R8) ) = R19 by L3072 , L3076 , L3081 , L3091;
thus L3095: ( ( Line (R47 , D512) ) . R8 ) = ( ( Line (R47 , D513) ) . R8 ) by L3094 , L3090 , L3092 , L3093 , MATRIX_1:def 7;
end;
suppose L3096: R8 <> R6;

L3097: ( rng D511 ) = D509 by L3079 , FINSEQ_1:def 13;
L3098: R8 in D509 by L3090 , L3096 , ZFMISC_1:56;
consider R1 being set such that L3099: R1 in ( dom D511 ) and L3100: ( D511 . R1 ) = R8 by L3098 , L3097 , FUNCT_1:def 3;
thus L3101: ( ( Line (R47 , D512) ) . R8 ) = ( ( ( Line (R47 , D512) ) * D511 ) . R1 ) by L3099 , L3100 , FUNCT_1:13
.= ( ( Line (R47 , D513) ) . R8 ) by L3085 , L3099 , L3100 , FUNCT_1:13;
end;
end;
L3103: ( len ( Line (R47 , D513) ) ) = ( width R47 ) by CARD_1:def 7;
L3104: ( len ( Line (R47 , D512) ) ) = ( width R47 ) by CARD_1:def 7;
L3105: ( Line (R47 , D512) ) = ( Line (R47 , D513) ) by L3104 , L3103 , L3086 , FINSEQ_1:14
.= ( R47 . D513 ) by L3076 , L3082 , MATRIX_2:8;
L3106: ( R47 . D512 ) = ( R47 . D513 ) by L3105 , L3076 , L3081 , MATRIX_2:8;
thus L3107: thesis by L3106 , L3077 , L3076 , L3080 , L3081 , L3082 , FUNCT_1:def 4;
end;

thus L3108: (D510 is  without_repeated_line implies R47 is  without_repeated_line)
proof
L3109: D508 = ( idseq R10 ) by L3073 , FINSEQ_3:48;
assume L3110: D510 is  without_repeated_line;
let C190 , C191 being set;
assume that
L3111: C190 in ( dom R47 )
and
L3112: C191 in ( dom R47 )
and
L3113: ( R47 . C190 ) = ( R47 . C191 );
reconsider D514 = C190 , D515 = C191 as (Element of ( NAT )) by L3111 , L3112;
L3114: ( Line (R47 , D514) ) = ( R47 . D514 ) by L3077 , L3111 , MATRIX_2:8;
L3115: ( Line (R47 , D515) ) = ( R47 . D515 ) by L3077 , L3112 , MATRIX_2:8;
L3116: ( D510 . C190 ) = ( Line (D510 , D514) ) by L3073 , L3074 , L3077 , L3111 , MATRIX_2:8
.= ( ( Line (R47 , ( D508 . D514 )) ) * D511 ) by L3073 , L3074 , L3077 , L3111 , L1122 , XBOOLE_1:36
.= ( ( Line (R47 , D515) ) * D511 ) by L3077 , L3111 , L3113 , L3109 , L3114 , L3115 , FINSEQ_2:49
.= ( ( Line (R47 , ( D508 . D515 )) ) * D511 ) by L3077 , L3112 , L3109 , FINSEQ_2:49
.= ( Line (D510 , D515) ) by L3073 , L3074 , L3077 , L3112 , L1122 , XBOOLE_1:36
.= ( D510 . C191 ) by L3073 , L3074 , L3077 , L3112 , MATRIX_2:8;
thus L3117: thesis by L3116 , L3077 , L3076 , L3110 , L3111 , L3112 , FUNCT_1:def 4;
end;

end;
theorem
L3109: (for R10 being Nat holds (for R11 being Nat holds (for R18 being Field holds (for R47 being (Matrix of R10 , R11 , R18) holds (for R6 being Nat holds ((R47 is  without_repeated_line & ( lines R47 ) is  linearly-independent & (for R7 being Nat holds (R7 in ( Seg R10 ) implies ( R47 * (R7 , R6) ) = ( 0. R18 )))) implies ( lines ( Segm (R47 , ( Seg ( len R47 ) ) , ( ( Seg ( width R47 ) ) \ { R6 } )) ) ) is  linearly-independent))))))
proof
let R10 being Nat;
let R11 being Nat;
let R18 being Field;
let R47 being (Matrix of R10 , R11 , R18);
let R6 being Nat;
assume that
L3110: R47 is  without_repeated_line
and
L3111: ( lines R47 ) is  linearly-independent
and
L3112: (for R7 being Nat holds (R7 in ( Seg R10 ) implies ( R47 * (R7 , R6) ) = ( 0. R18 )));
set D516 = ( ( Seg ( width R47 ) ) \ { R6 } );
set D517 = ( Seg ( len R47 ) );
set D518 = ( Segm (R47 , D517 , D516) );
L3113: D516 c= ( Seg ( width R47 ) ) by XBOOLE_1:36;
L3114: ( card D517 ) = ( len R47 ) by FINSEQ_1:57;
L3115: ( len R47 ) = R10 by MATRIX_1:def 2;
per cases ;
suppose L3116: R10 = ( 0 );

L3117: ( len D518 ) = ( 0 ) by L3116 , L3115 , MATRIX_1:def 2;
L3118: D518 = ( {} ) by L3117;
thus L3119: thesis by L3118;
end;
suppose L3120: R10 <> ( 0 );

L3121: ( width R47 ) = R11 by L3120 , L1;
L3122:
now
set D519 = ( R11 |-> ( 0. R18 ) );
L3123: ( len D519 ) = R11 by CARD_1:def 7;
L3124: ( dom ( Sgm D516 ) ) = ( Seg ( card D516 ) ) by FINSEQ_3:40 , XBOOLE_1:36;
let R8 being Nat;
assume that
L3125: R8 in ( Seg ( card D517 ) );
L3126: ( Line (R47 , R8) ) in ( lines R47 ) by L3114 , L3115 , L3125 , L2653;
reconsider D520 = ( Line (R47 , R8) ) as (Element of ( R11 -tuples_on (the carrier of R18) )) by L3126 , L2616;
L3127: ( len D520 ) = R11 by CARD_1:def 7;
L3128: D520 <> D519 by L3110 , L3111 , L3114 , L3115 , L3125 , L2826;
consider C192 being Nat such that L3129: 1 <= C192 and L3130: C192 <= R11 and L3131: ( D520 . C192 ) <> ( D519 . C192 ) by L3128 , L3127 , L3123 , FINSEQ_1:14;
L3132: C192 in ( NAT ) by ORDINAL1:def 12;
L3133: C192 in ( Seg R11 ) by L3132 , L3129 , L3130;
L3134: ( D519 . C192 ) = ( 0. R18 ) by L3133 , FINSEQ_2:57;
L3135: ( Sgm D517 ) = ( idseq R10 ) by L3115 , FINSEQ_3:48;
L3136: ( ( Sgm D517 ) . R8 ) = R8 by L3135 , L3114 , L3115 , L3125 , FINSEQ_2:49;
L3137: ( rng ( Sgm D516 ) ) = D516 by L3113 , FINSEQ_1:def 13;
L3138: ( D520 . C192 ) = ( R47 * (R8 , C192) ) by L3121 , L3133 , MATRIX_1:def 7;
L3139: C192 <> R6 by L3138 , L3112 , L3114 , L3115 , L3125 , L3131 , L3134;
L3140: C192 in D516 by L3139 , L3121 , L3133 , ZFMISC_1:56;
consider R1 being set such that L3141: R1 in ( dom ( Sgm D516 ) ) and L3142: ( ( Sgm D516 ) . R1 ) = C192 by L3140 , L3137 , FUNCT_1:def 3;
assume L3143: ( Line (D518 , R8) ) = ( ( card D516 ) |-> ( 0. R18 ) );
reconsider D521 = R1 as (Element of ( NAT )) by L3141;
L3144: ( Line (D518 , R8) ) = ( ( Line (R47 , ( ( Sgm D517 ) . R8 )) ) * ( Sgm D516 ) ) by L3125 , L1122 , XBOOLE_1:36;
L3145: ( ( Line (D518 , R8) ) . D521 ) = ( ( Line (R47 , ( ( Sgm D517 ) . R8 )) ) . C192 ) by L3144 , L3141 , L3142 , FUNCT_1:13;
thus L3146: contradiction by L3145 , L3143 , L3131 , L3134 , L3141 , L3124 , L3136 , FINSEQ_2:57;
end;
L3147:
now
set D522 = ( 0. (R18 , ( card D517 ) , ( card D516 )) );
let C193 being (Matrix of ( card D517 ) , ( card D516 ) , R18);
assume that
L3148: (for R6 being Nat holds (R6 in ( Seg ( card D517 ) ) implies (ex R19 being (Element of R18) st ( Line (C193 , R6) ) = ( R19 * ( Line (D518 , R6) ) ))))
and
L3149: (for R7 being Nat holds (R7 in ( Seg ( card D516 ) ) implies ( Sum ( Col (C193 , R7) ) ) = ( 0. R18 )));
defpred S14[ set , set ] means (for R6 being Nat holds ($1 = R6 implies (ex R19 being (Element of R18) st (R19 = $2 & ( Line (C193 , R6) ) = ( R19 * ( Line (D518 , R6) ) )))));
L3150: (for R8 being Nat holds (R8 in ( Seg R10 ) implies (ex B119 being (Element of R18) st S14[ R8 , B119 ])))
proof
let R8 being Nat;
assume L3151: R8 in ( Seg R10 );
consider R19 being (Element of R18) such that L3152: ( Line (C193 , R8) ) = ( R19 * ( Line (D518 , R8) ) ) by L3151 , L3114 , L3115 , L3148;
take R19;
thus L3153: thesis by L3152;
end;
consider R21 being (FinSequence of R18) such that L3154: ( dom R21 ) = ( Seg R10 ) and L3155: (for R8 being Nat holds (R8 in ( Seg R10 ) implies S14[ R8 , ( R21 . R8 ) ])) from FINSEQ_1:sch 5(L3150);
deffunc H4(Nat) = ( ( R21 /. $1 ) * ( Line (R47 , $1) ) );
consider C194 being (FinSequence of ( ( width R47 ) -tuples_on (the carrier of R18) )) such that L3156: ( len C194 ) = R10 and L3157: (for R7 being Nat holds (R7 in ( dom C194 ) implies ( C194 . R7 ) = H4(R7))) from FINSEQ_2:sch 1;
reconsider D523 = C194 as (FinSequence of (the carrier of ( R11 -VectSp_over R18 ))) by L3121 , L2616;
L3158: ( FinS2MX D523 ) is (Matrix of R10 , R11 , R18) by L3156;
reconsider D524 = C194 as (Matrix of R10 , R11 , R18) by L3158;
L3159: ( dom C194 ) = ( Seg R10 ) by L3156 , FINSEQ_1:def 3;
L3160: ( len D524 ) = R10 by MATRIX_1:def 2;
L3161: ( dom D524 ) = ( Seg R10 ) by L3160 , FINSEQ_1:def 3;
L3162:
now
L3163: ( len C193 ) = R10 by L3114 , L3115 , MATRIX_1:def 2;
L3164: ( len D524 ) = R10 by MATRIX_1:def 2;
L3165: ( dom D524 ) = ( Seg ( len D524 ) ) by FINSEQ_1:def 3;
L3166: ( dom C193 ) = ( Seg ( len C193 ) ) by FINSEQ_1:def 3;
let R7 being Nat;
assume that
L3167: R7 in ( Seg R11 );
set D525 = ( Col (D524 , R7) );
L3168: ( len D525 ) = ( len D524 ) by MATRIX_1:def 8
.= R10 by MATRIX_1:def 2;
per cases ;
suppose L3169: R7 = R6;

set D526 = ( R10 |-> ( 0. R18 ) );
L3170:
now
let C195 being Nat;
assume that
L3171: 1 <= C195
and
L3172: C195 <= R10;
L3173: ( width R47 ) = R11 by L3171 , L3172 , L1;
L3174: ( width D524 ) = R11 by L3171 , L3172 , L1;
L3175: C195 in ( NAT ) by ORDINAL1:def 12;
L3176: C195 in ( Seg R10 ) by L3175 , L3171 , L3172;
L3177: ( D524 . C195 ) = ( D524 /. C195 ) by L3176 , L3161 , PARTFUN1:def 6;
L3178: ( 0. R18 ) = ( R47 * (C195 , R6) ) by L3112 , L3176
.= ( ( Line (R47 , C195) ) . R6 ) by L3167 , L3169 , L3173 , MATRIX_1:def 7;
L3179: ( ( R21 /. C195 ) * ( 0. R18 ) ) = ( ( ( R21 /. C195 ) * ( Line (R47 , C195) ) ) . R6 ) by L3178 , L3167 , L3169 , L3173 , FVSUM_1:51
.= ( ( D524 /. C195 ) . R6 ) by L3157 , L3159 , L3176 , L3177
.= ( ( Line (D524 , C195) ) . R6 ) by L3176 , L3177 , MATRIX_2:8
.= ( D524 * (C195 , R6) ) by L3167 , L3169 , L3174 , MATRIX_1:def 7
.= ( ( Col (D524 , R6) ) . C195 ) by L3164 , L3165 , L3176 , MATRIX_1:def 8;
thus L3180: ( ( Col (D524 , R7) ) . C195 ) = ( 0. R18 ) by L3179 , L3169 , VECTSP_1:7
.= ( D526 . C195 ) by L3176 , FINSEQ_2:57;
end;
L3181: ( len D526 ) = R10 by CARD_1:def 7;
L3182: D525 = D526 by L3181 , L3168 , L3170 , FINSEQ_1:14;
thus L3183: ( Sum D525 ) = ( 0. R18 ) by L3182 , L3168 , MATRIX_3:11;
end;
suppose L3184: R7 <> R6;

L3185: ( rng ( Sgm D516 ) ) = D516 by L3113 , FINSEQ_1:def 13;
L3186: R7 in D516 by L3121 , L3167 , L3184 , ZFMISC_1:56;
consider R1 being set such that L3187: R1 in ( dom ( Sgm D516 ) ) and L3188: ( ( Sgm D516 ) . R1 ) = R7 by L3186 , L3185 , FUNCT_1:def 3;
reconsider D527 = R1 as (Element of ( NAT )) by L3187;
set D528 = ( Col (C193 , D527) );
L3189: ( dom ( Sgm D516 ) ) = ( Seg ( card D516 ) ) by FINSEQ_3:40 , XBOOLE_1:36;
L3190:
now
let C196 being Nat;
assume that
L3191: 1 <= C196
and
L3192: C196 <= R10;
L3193: ( width D524 ) = R11 by L3191 , L3192 , L1;
L3194: ( width D518 ) = ( card D516 ) by L3115 , L3191 , L3192 , L1;
L3195: ( Sgm D517 ) = ( idseq R10 ) by L3115 , FINSEQ_3:48;
L3196: ( width C193 ) = ( card D516 ) by L3115 , L3191 , L3192 , L1;
L3197: ( ( Line (R47 , C196) ) . R7 ) = ( R47 * (C196 , R7) ) by L3121 , L3167 , MATRIX_1:def 7;
L3198: C196 in ( NAT ) by ORDINAL1:def 12;
L3199: C196 in ( Seg R10 ) by L3198 , L3191 , L3192;
consider R19 being (Element of R18) such that L3200: R19 = ( R21 . C196 ) and L3201: ( Line (C193 , C196) ) = ( R19 * ( Line (D518 , C196) ) ) by L3199 , L3155;
L3202: ( D524 . C196 ) = ( D524 /. C196 ) by L3161 , L3199 , PARTFUN1:def 6;
L3203: ( ( idseq R10 ) . C196 ) = C196 by L3199 , FINSEQ_2:49;
L3204: ( ( Line (R47 , C196) ) * ( Sgm D516 ) ) = ( Line (D518 , C196) ) by L3203 , L3114 , L3115 , L3199 , L3195 , L1122 , XBOOLE_1:36;
L3205: ( ( Line (D518 , C196) ) . D527 ) = ( ( Line (R47 , C196) ) . R7 ) by L3204 , L3187 , L3188 , FUNCT_1:13;
thus L3206: ( D525 . C196 ) = ( D524 * (C196 , R7) ) by L3164 , L3165 , L3199 , MATRIX_1:def 8
.= ( ( Line (D524 , C196) ) . R7 ) by L3167 , L3193 , MATRIX_1:def 7
.= ( ( D524 /. C196 ) . R7 ) by L3199 , L3202 , MATRIX_2:8
.= ( ( ( R21 /. C196 ) * ( Line (R47 , C196) ) ) . R7 ) by L3157 , L3159 , L3199 , L3202
.= ( ( R19 * ( Line (R47 , C196) ) ) . R7 ) by L3154 , L3199 , L3200 , PARTFUN1:def 6
.= ( R19 * ( R47 * (C196 , R7) ) ) by L3121 , L3167 , L3197 , FVSUM_1:51
.= ( ( R19 * ( Line (D518 , C196) ) ) . D527 ) by L3187 , L3189 , L3194 , L3205 , L3197 , FVSUM_1:51
.= ( C193 * (C196 , D527) ) by L3187 , L3189 , L3196 , L3201 , MATRIX_1:def 7
.= ( D528 . C196 ) by L3163 , L3166 , L3199 , MATRIX_1:def 8;
end;
L3207: ( len D525 ) = ( len D524 ) by MATRIX_1:def 8;
L3208: ( len D528 ) = ( len C193 ) by MATRIX_1:def 8;
L3209: D525 = D528 by L3208 , L3164 , L3163 , L3207 , L3190 , FINSEQ_1:14;
thus L3210: ( Sum D525 ) = ( 0. R18 ) by L3209 , L3149 , L3187 , L3189;
end;
end;
L3212:
now
let R7 being Nat;
assume that
L3213: R7 in ( Seg R10 );
take D529 = ( R21 /. R7 );
thus L3214: ( Line (D524 , R7) ) = ( D524 . R7 ) by L3213 , MATRIX_2:8
.= ( D529 * ( Line (R47 , R7) ) ) by L3157 , L3159 , L3213;
end;
L3215: D524 = ( 0. (R18 , R10 , R11) ) by L3212 , L3110 , L3111 , L3162 , L2826;
L3216:
now
let R7 being Nat;
assume that
L3217: 1 <= R7
and
L3218: R7 <= R10;
L3219: R7 in ( NAT ) by ORDINAL1:def 12;
L3220: R7 in ( Seg R10 ) by L3219 , L3217 , L3218;
consider R19 being (Element of R18) such that L3221: R19 = ( R21 . R7 ) and L3222: ( Line (C193 , R7) ) = ( R19 * ( Line (D518 , R7) ) ) by L3220 , L3155;
L3223: ( Line (( 0. (R18 , R10 , R11) ) , R7) ) = ( ( 0. (R18 , R10 , R11) ) . R7 ) by L3220 , MATRIX_2:8
.= ( R11 |-> ( 0. R18 ) ) by L3220 , FUNCOP_1:7;
L3224: ( R21 . R7 ) = ( R21 /. R7 ) by L3154 , L3220 , PARTFUN1:def 6;
L3225: ( R19 * ( Line (R47 , R7) ) ) = ( D524 . R7 ) by L3224 , L3157 , L3159 , L3220 , L3221
.= ( Line (D524 , R7) ) by L3220 , MATRIX_2:8;
L3226: ( rng ( Sgm D516 ) ) = D516 by L3113 , FINSEQ_1:def 13;
L3227: ( Sgm D517 ) = ( idseq R10 ) by L3115 , FINSEQ_3:48;
L3228: ( ( Sgm D517 ) . R7 ) = R7 by L3227 , L3220 , FINSEQ_2:49;
L3229: ( Line (D518 , R7) ) = ( ( Line (R47 , R7) ) * ( Sgm D516 ) ) by L3228 , L3114 , L3115 , L3220 , L1122 , XBOOLE_1:36;
L3230: ( ( Seg R11 ) /\ D516 ) = D516 by L3121 , XBOOLE_1:28 , XBOOLE_1:36;
L3231: ( ( Sgm D516 ) " ( Seg R11 ) ) = ( ( Sgm D516 ) " ( rng ( Sgm D516 ) ) ) by L3230 , L3226 , RELAT_1:133
.= ( dom ( Sgm D516 ) ) by RELAT_1:134
.= ( Seg ( card D516 ) ) by FINSEQ_3:40 , XBOOLE_1:36;
L3232: ( dom ( Line (R47 , R7) ) ) = ( Seg ( len ( Line (R47 , R7) ) ) ) by FINSEQ_1:def 3
.= ( Seg ( width R47 ) ) by CARD_1:def 7;
L3233: ( Line (C193 , R7) ) = ( ( Line (( 0. (R18 , R10 , R11) ) , R7) ) * ( Sgm D516 ) ) by L3232 , L3215 , L3222 , L3225 , L3226 , L3229 , L1973 , XBOOLE_1:36
.= ( ( card D516 ) |-> ( 0. R18 ) ) by L3231 , L3223 , FUNCOP_1:19
.= ( D522 . R7 ) by L3114 , L3115 , L3220 , FUNCOP_1:7;
thus L3234: ( C193 . R7 ) = ( D522 . R7 ) by L3233 , L3114 , L3115 , L3220 , MATRIX_2:8;
end;
L3235: ( len D522 ) = R10 by L3114 , L3115 , MATRIX_1:def 2;
L3236: ( len C193 ) = R10 by L3114 , L3115 , MATRIX_1:def 2;
thus L3237: C193 = D522 by L3236 , L3235 , L3216 , FINSEQ_1:14;
end;
L3238: D518 is  without_repeated_line by L3110 , L3112 , L3071;
thus L3239: thesis by L3238 , L3122 , L3147 , L2826;
end;
end;
theorem
L3241: (for R18 being Field holds (for R19 being (Element of R18) holds (for B120 being (VectSp of R18) holds (for B121 being  finite (Subset of B120) holds (B121 is  linearly-independent implies (for B122 , B123 being (Vector of B120) holds ((B122 in B121 & B123 in B121 & B122 <> B123) implies ( ( B121 \ { B122 } ) \/ { ( B122 + ( R19 * B123 ) ) } ) is  linearly-independent)))))))
proof
let R18 being Field;
let R19 being (Element of R18);
let C197 being (VectSp of R18);
let C198 being  finite (Subset of C197);
assume that
L3242: C198 is  linearly-independent;
let C199 , C200 being (Vector of C197);
assume that
L3243: C199 in C198
and
L3244: C200 in C198
and
L3245: C199 <> C200;
set D530 = ( C199 + ( R19 * C200 ) );
set D531 = ( C198 \ { C199 } );
set D532 = ( D531 \/ { D530 } );
per cases ;
suppose L3246: C199 = D530;

thus L3247: thesis by L3246 , L3242 , L3243 , ZFMISC_1:116;
end;
suppose L3248: C199 <> D530;

L3249:
now
let C201 being (Linear_Combination of D532);
assume that
L3250: ( Sum C201 ) = ( 0. C197 );
per cases ;
suppose L3251: ( C201 . D530 ) = ( 0. R18 );

L3252: ( Carrier C201 ) c= D531
proof
let R1 being set;
assume L3253: R1 in ( Carrier C201 );
consider C202 being (Vector of C197) such that L3254: R1 = C202 and L3255: ( C201 . C202 ) <> ( 0. R18 ) by L3253 , VECTSP_6:1;
L3256: ( Carrier C201 ) c= D532 by VECTSP_6:def 4;
L3257: (C202 in D531 or (C202 in { D530 } & (not C202 in { D530 }))) by L3256 , L3251 , L3253 , L3254 , L3255 , TARSKI:def 1 , XBOOLE_0:def 3;
thus L3258: thesis by L3257 , L3254;
end;
reconsider D533 = C201 as (Linear_Combination of D531) by L3252 , VECTSP_6:def 4;
L3259: ( Sum D533 ) = ( 0. C197 ) by L3250;
L3260: D531 is  linearly-independent by L3242 , VECTSP_7:1 , XBOOLE_1:36;
thus L3261: ( Carrier C201 ) = ( {} ) by L3260 , L3259 , VECTSP_7:def 1;
end;
suppose L3262: ( C201 . D530 ) <> ( 0. R18 );

L3263: ( Carrier C201 ) c= D532 by VECTSP_6:def 4;
L3264: D531 c= C198 by XBOOLE_1:36;
L3265: D532 c= ( C198 \/ { D530 } ) by L3264 , XBOOLE_1:13;
L3266: ( Carrier C201 ) c= ( C198 \/ { D530 } ) by L3265 , L3263 , XBOOLE_1:1;
L3267: D530 in { D530 } by TARSKI:def 1;
L3268: D530 in ( Lin { D530 } ) by L3267 , VECTSP_7:8;
consider C203 being (Linear_Combination of { D530 }) such that L3269: D530 = ( Sum C203 ) by L3268 , VECTSP_7:7;
reconsider D534 = ( ( C201 . D530 ) * C203 ) as (Linear_Combination of { D530 }) by VECTSP_6:31;
L3270: ( Carrier D534 ) c= { D530 } by VECTSP_6:def 4;
L3271: (not C199 in ( Carrier D534 )) by L3270 , L3248 , TARSKI:def 1;
L3272: ( D534 . C199 ) = ( 0. R18 ) by L3271 , VECTSP_6:2;
L3273: C200 in { C200 } by TARSKI:def 1;
L3274: C200 in ( Lin { C200 } ) by L3273 , VECTSP_7:8;
consider C204 being (Linear_Combination of { C200 }) such that L3275: C200 = ( Sum C204 ) by L3274 , VECTSP_7:7;
reconsider D535 = ( ( ( C201 . D530 ) * R19 ) * C204 ) as (Linear_Combination of { C200 }) by VECTSP_6:31;
L3276: ( Carrier D535 ) c= { C200 } by VECTSP_6:def 4;
L3277: (not C199 in ( Carrier D535 )) by L3276 , L3245 , TARSKI:def 1;
L3278: ( D535 . C199 ) = ( 0. R18 ) by L3277 , VECTSP_6:2;
L3279: C200 <> D530
proof
assume L3280: C200 = ( C199 + ( R19 * C200 ) );
L3281: ( C200 - ( R19 * C200 ) ) = ( C199 + ( ( R19 * C200 ) - ( R19 * C200 ) ) ) by L3280 , RLVECT_1:def 3
.= ( C199 + ( 0. C197 ) ) by VECTSP_1:16
.= C199 by RLVECT_1:def 4;
L3282: C199 = ( ( ( 1_ R18 ) * C200 ) + ( - ( R19 * C200 ) ) ) by L3281 , VECTSP_1:def 17
.= ( ( ( 1_ R18 ) * C200 ) + ( ( - R19 ) * C200 ) ) by VECTSP_1:21
.= ( ( ( 1_ R18 ) - R19 ) * C200 ) by VECTSP_1:def 15;
L3283: { C200 , C199 } is  linearly-dependent by L3282 , L3245 , VECTSP_7:5;
L3284: { C200 , C199 } c= C198 by L3243 , L3244 , ZFMISC_1:32;
thus L3285: thesis by L3284 , L3242 , L3283 , VECTSP_7:1;
end;
L3286: (not D530 in ( Carrier D535 )) by L3279 , L3276 , TARSKI:def 1;
L3287: ( D535 . D530 ) = ( 0. R18 ) by L3286 , VECTSP_6:2;
L3288: ( C199 + ( R19 * C200 ) ) <> ( 0. C197 )
proof
L3289: { C200 , C199 } c= C198 by L3243 , L3244 , ZFMISC_1:32;
L3290: { C200 , C199 } is  linearly-independent by L3289 , L3242 , VECTSP_7:1;
L3291: ( ( 1_ R18 ) * C199 ) = C199 by VECTSP_1:def 17;
assume L3292: ( 0. C197 ) = ( C199 + ( R19 * C200 ) );
L3293: ( 1_ R18 ) = ( 0. R18 ) by L3292 , L3245 , L3290 , L3291 , VECTSP_7:6;
thus L3294: thesis by L3293;
end;
L3295: C199 <> ( 0. C197 ) by L3242 , L3243 , VECTSP_7:2;
L3296: ( ( C203 . D530 ) * D530 ) = D530 by L3269 , VECTSP_6:17
.= ( ( 1_ R18 ) * D530 ) by VECTSP_1:def 17;
L3297: ( C203 . D530 ) = ( 1_ R18 ) by L3296 , L3288 , VECTSP10:4;
L3298: C199 in { C199 } by TARSKI:def 1;
L3299: C199 in ( Lin { C199 } ) by L3298 , VECTSP_7:8;
consider C205 being (Linear_Combination of { C199 }) such that L3300: C199 = ( Sum C205 ) by L3299 , VECTSP_7:7;
reconsider D536 = ( ( C201 . D530 ) * C205 ) as (Linear_Combination of { C199 }) by VECTSP_6:31;
L3301: ( Carrier D536 ) c= { C199 } by VECTSP_6:def 4;
L3302: (not D530 in ( Carrier D536 )) by L3301 , L3248 , TARSKI:def 1;
L3303: ( D536 . D530 ) = ( 0. R18 ) by L3302 , VECTSP_6:2;
L3304: { C199 } c= C198 by L3243 , ZFMISC_1:31;
L3305: ( Carrier D536 ) c= C198 by L3304 , L3301 , XBOOLE_1:1;
L3306: ( ( ( C201 + D535 ) + D536 ) - D534 ) = ( ( C201 + ( D535 + D536 ) ) - D534 ) by VECTSP_6:26
.= ( ( C201 + ( D535 + D536 ) ) + ( - D534 ) ) by VECTSP_6:def 11
.= ( C201 + ( ( D535 + D536 ) + ( - D534 ) ) ) by VECTSP_6:26
.= ( C201 + ( ( D535 + D536 ) - D534 ) ) by VECTSP_6:def 11;
L3307: ( Carrier ( ( ( C201 + D535 ) + D536 ) - D534 ) ) c= ( ( Carrier C201 ) \/ ( Carrier ( ( D535 + D536 ) - D534 ) ) ) by L3306 , VECTSP_6:23;
L3308: ( Carrier ( ( D535 + D536 ) - D534 ) ) c= ( ( Carrier ( D535 + D536 ) ) \/ ( Carrier D534 ) ) by VECTSP_6:41;
L3309: ( Carrier ( D535 + D536 ) ) c= ( ( Carrier D535 ) \/ ( Carrier D536 ) ) by VECTSP_6:23;
L3310: { C200 } c= C198 by L3244 , ZFMISC_1:31;
L3311: ( Carrier D535 ) c= C198 by L3310 , L3276 , XBOOLE_1:1;
L3312: ( ( Carrier D535 ) \/ ( Carrier D536 ) ) c= C198 by L3311 , L3305 , XBOOLE_1:8;
L3313: ( Carrier ( D535 + D536 ) ) c= C198 by L3312 , L3309 , XBOOLE_1:1;
L3314: ( ( Carrier ( D535 + D536 ) ) \/ ( Carrier D534 ) ) c= ( C198 \/ { D530 } ) by L3313 , L3270 , XBOOLE_1:13;
L3315: ( Carrier ( ( D535 + D536 ) - D534 ) ) c= ( C198 \/ { D530 } ) by L3314 , L3308 , XBOOLE_1:1;
L3316: ( ( Carrier C201 ) \/ ( Carrier ( ( D535 + D536 ) - D534 ) ) ) c= ( C198 \/ { D530 } ) by L3315 , L3266 , XBOOLE_1:8;
L3317: ( Carrier ( ( ( C201 + D535 ) + D536 ) - D534 ) ) c= ( C198 \/ { D530 } ) by L3316 , L3307 , XBOOLE_1:1;
L3318: ( ( ( ( C201 + D535 ) + D536 ) - D534 ) . D530 ) = ( ( ( ( C201 + D535 ) + D536 ) + ( - D534 ) ) . D530 ) by VECTSP_6:def 11
.= ( ( ( ( C201 + D535 ) + D536 ) . D530 ) + ( ( - D534 ) . D530 ) ) by VECTSP_6:22
.= ( ( ( ( C201 + D535 ) . D530 ) + ( D536 . D530 ) ) + ( ( - D534 ) . D530 ) ) by VECTSP_6:22
.= ( ( ( ( C201 . D530 ) + ( 0. R18 ) ) + ( 0. R18 ) ) + ( ( - D534 ) . D530 ) ) by L3287 , L3303 , VECTSP_6:22
.= ( ( ( C201 . D530 ) + ( 0. R18 ) ) + ( ( - D534 ) . D530 ) ) by RLVECT_1:def 4
.= ( ( C201 . D530 ) + ( ( - D534 ) . D530 ) ) by RLVECT_1:def 4
.= ( ( C201 . D530 ) - ( D534 . D530 ) ) by VECTSP_6:36
.= ( ( C201 . D530 ) - ( ( C201 . D530 ) * ( 1_ R18 ) ) ) by L3297 , VECTSP_6:def 9
.= ( ( C201 . D530 ) - ( C201 . D530 ) ) by VECTSP_1:def 4
.= ( 0. R18 ) by VECTSP_1:19;
L3319: ( Carrier ( ( ( C201 + D535 ) + D536 ) - D534 ) ) c= C198
proof
let R1 being set;
assume L3320: R1 in ( Carrier ( ( ( C201 + D535 ) + D536 ) - D534 ) );
assume L3321: (not R1 in C198);
L3322: R1 in { D530 } by L3321 , L3317 , L3320 , XBOOLE_0:def 3;
L3323: (ex B124 being (Element of C197) st (R1 = B124 & ( ( ( ( C201 + D535 ) + D536 ) - D534 ) . B124 ) <> ( 0. R18 ))) by L3320 , VECTSP_6:1;
thus L3324: contradiction by L3323 , L3318 , L3322 , TARSKI:def 1;
end;
reconsider D537 = ( ( ( C201 + D535 ) + D536 ) - D534 ) as (Linear_Combination of C198) by L3319 , VECTSP_6:def 4;
L3325: (not C199 in D531) by ZFMISC_1:56;
L3326: (not C199 in { D530 }) by L3248 , TARSKI:def 1;
L3327: (not C199 in ( Carrier C201 )) by L3326 , L3263 , L3325 , XBOOLE_0:def 3;
L3328: ( C201 . C199 ) = ( 0. R18 ) by L3327 , VECTSP_6:2;
L3329: ( ( C205 . C199 ) * C199 ) = C199 by L3300 , VECTSP_6:17
.= ( ( 1_ R18 ) * C199 ) by VECTSP_1:def 17;
L3330: ( C205 . C199 ) = ( 1_ R18 ) by L3329 , L3295 , VECTSP10:4;
L3331: ( D537 . C199 ) = ( ( ( ( C201 + D535 ) + D536 ) + ( - D534 ) ) . C199 ) by VECTSP_6:def 11
.= ( ( ( ( C201 + D535 ) + D536 ) . C199 ) + ( ( - D534 ) . C199 ) ) by VECTSP_6:22
.= ( ( ( ( C201 + D535 ) . C199 ) + ( D536 . C199 ) ) + ( ( - D534 ) . C199 ) ) by VECTSP_6:22
.= ( ( ( ( C201 . C199 ) + ( D535 . C199 ) ) + ( D536 . C199 ) ) + ( ( - D534 ) . C199 ) ) by VECTSP_6:22
.= ( ( ( ( 0. R18 ) + ( 0. R18 ) ) + ( D536 . C199 ) ) - ( 0. R18 ) ) by L3278 , L3272 , L3328 , VECTSP_6:36
.= ( ( ( 0. R18 ) + ( D536 . C199 ) ) - ( 0. R18 ) ) by RLVECT_1:def 4
.= ( ( D536 . C199 ) - ( 0. R18 ) ) by RLVECT_1:def 4
.= ( D536 . C199 ) by VECTSP_1:18
.= ( ( C201 . D530 ) * ( 1_ R18 ) ) by L3330 , VECTSP_6:def 9
.= ( C201 . D530 ) by VECTSP_1:def 4;
L3332: C199 in ( Carrier D537 ) by L3331 , L3262 , VECTSP_6:1;
L3333: ( Sum ( ( ( C201 + D535 ) + D536 ) - D534 ) ) = ( ( Sum ( ( C201 + D535 ) + D536 ) ) - ( Sum D534 ) ) by VECTSP_6:47
.= ( ( ( Sum ( C201 + D535 ) ) + ( Sum D536 ) ) - ( Sum D534 ) ) by VECTSP_6:44
.= ( ( ( ( Sum C201 ) + ( Sum D535 ) ) + ( Sum D536 ) ) - ( Sum D534 ) ) by VECTSP_6:44
.= ( ( ( ( Sum C201 ) + ( Sum D535 ) ) + ( Sum D536 ) ) - ( ( C201 . D530 ) * D530 ) ) by L3269 , VECTSP_6:45
.= ( ( ( ( Sum C201 ) + ( Sum D535 ) ) + ( ( C201 . D530 ) * C199 ) ) - ( ( C201 . D530 ) * D530 ) ) by L3300 , VECTSP_6:45
.= ( ( ( ( Sum C201 ) + ( ( R19 * ( C201 . D530 ) ) * C200 ) ) + ( ( C201 . D530 ) * C199 ) ) - ( ( C201 . D530 ) * D530 ) ) by L3275 , VECTSP_6:45
.= ( ( ( ( Sum C201 ) + ( ( C201 . D530 ) * ( R19 * C200 ) ) ) + ( ( C201 . D530 ) * C199 ) ) - ( ( C201 . D530 ) * D530 ) ) by VECTSP_1:def 16
.= ( ( ( Sum C201 ) + ( ( ( C201 . D530 ) * ( R19 * C200 ) ) + ( ( C201 . D530 ) * C199 ) ) ) - ( ( C201 . D530 ) * D530 ) ) by RLVECT_1:def 3
.= ( ( ( Sum C201 ) + ( ( C201 . D530 ) * ( ( R19 * C200 ) + C199 ) ) ) - ( ( C201 . D530 ) * D530 ) ) by VECTSP_1:def 14
.= ( ( Sum C201 ) + ( ( ( C201 . D530 ) * D530 ) - ( ( C201 . D530 ) * D530 ) ) ) by RLVECT_1:def 3
.= ( ( 0. C197 ) + ( 0. C197 ) ) by L3250 , VECTSP_1:16
.= ( 0. C197 ) by RLVECT_1:def 4;
thus L3334: ( Carrier C201 ) = ( {} ) by L3333 , L3242 , L3332 , VECTSP_7:def 1;
end;
end;
thus L3336: thesis by L3249 , VECTSP_7:def 1;
end;
end;
theorem
L3338: (for R1 being set holds (for R18 being Field holds (for B125 being (VectSp of R18) holds (for B126 , B127 being (Vector of B125) holds (R1 in ( Lin { B126 , B127 } ) iff (ex R19 being (Element of R18) st (ex R20 being (Element of R18) st R1 = ( ( R19 * B126 ) + ( R20 * B127 ) ))))))))
proof
let R1 being set;
let R18 being Field;
let C206 being (VectSp of R18);
let C207 , C208 being (Vector of C206);
per cases ;
suppose L3339: C207 = C208;

L3340: { C207 , C208 } = { C207 } by L3339 , ENUMSET1:29;
thus L3341: (R1 in ( Lin { C207 , C208 } ) implies (ex R19 being (Element of R18) st (ex R20 being (Element of R18) st R1 = ( ( R19 * C207 ) + ( R20 * C208 ) ))))
proof
assume L3342: R1 in ( Lin { C207 , C208 } );
consider R19 being (Element of R18) such that L3343: R1 = ( R19 * C207 ) by L3342 , L3340 , VECTSP10:3;
L3344: R1 = ( ( R19 * C207 ) + ( 0. C206 ) ) by L3343 , RLVECT_1:def 4
.= ( ( R19 * C207 ) + ( ( 0. R18 ) * C208 ) ) by VECTSP10:1;
thus L3345: thesis by L3344;
end;

given R19 being (Element of R18) , R20 being (Element of R18) such that
L3346: R1 = ( ( R19 * C207 ) + ( R20 * C208 ) );

L3347: R1 = ( ( R19 + R20 ) * C207 ) by L3339 , L3346 , VECTSP_1:def 15;
thus L3348: thesis by L3347 , L3340 , VECTSP10:3;
end;
suppose L3349: C207 <> C208;

thus L3350: (R1 in ( Lin { C207 , C208 } ) implies (ex R19 being (Element of R18) st (ex R20 being (Element of R18) st R1 = ( ( R19 * C207 ) + ( R20 * C208 ) ))))
proof
assume L3351: R1 in ( Lin { C207 , C208 } );
consider C209 being (Linear_Combination of { C207 , C208 }) such that L3352: R1 = ( Sum C209 ) by L3351 , VECTSP_7:7;
L3353: R1 = ( ( ( C209 . C207 ) * C207 ) + ( ( C209 . C208 ) * C208 ) ) by L3349 , L3352 , VECTSP_6:18;
thus L3354: thesis by L3353;
end;

deffunc H5(set) = ( 0. R18 );
given R19 being (Element of R18) , R20 being (Element of R18) such that
L3355: R1 = ( ( R19 * C207 ) + ( R20 * C208 ) );

consider C210 being (Function of (the carrier of C206) , (the carrier of R18)) such that L3356: (( C210 . C207 ) = R19 & ( C210 . C208 ) = R20) and L3357: (for B128 being (Element of C206) holds ((B128 <> C207 & B128 <> C208) implies ( C210 . B128 ) = H5(B128))) from FUNCT_2:sch 7(L3349);
reconsider D538 = C210 as (Element of ( Funcs ((the carrier of C206) , (the carrier of R18)) )) by FUNCT_2:8;
L3358:
now
let C211 being (Vector of C206);
assume that
L3359: (not C211 in { C207 , C208 });
L3360: C211 <> C207 by L3359 , TARSKI:def 2;
L3361: C211 <> C208 by L3359 , TARSKI:def 2;
thus L3362: ( D538 . C211 ) = ( 0. R18 ) by L3361 , L3357 , L3360;
end;
reconsider D539 = D538 as (Linear_Combination of C206) by L3358 , VECTSP_6:def 1;
L3363: ( Carrier D539 ) c= { C207 , C208 }
proof
let R1 being set;
assume that
L3364: R1 in ( Carrier D539 );
L3365: ( D539 . R1 ) <> ( 0. R18 ) by L3364 , VECTSP_6:2;
L3366: (R1 = C208 or R1 = C207) by L3365 , L3357 , L3364;
thus L3367: thesis by L3366 , TARSKI:def 2;
end;
reconsider D540 = D539 as (Linear_Combination of { C207 , C208 }) by L3363 , VECTSP_6:def 4;
L3368: ( Sum D540 ) = R1 by L3349 , L3355 , L3356 , VECTSP_6:18;
thus L3369: thesis by L3368 , VECTSP_7:7;
end;
end;
theorem
L3371: (for R10 being Nat holds (for R11 being Nat holds (for R18 being Field holds (for R19 being (Element of R18) holds (for R47 being (Matrix of R10 , R11 , R18) holds ((( lines R47 ) is  linearly-independent & R47 is  without_repeated_line) implies (for R6 being Nat holds (for R7 being Nat holds ((R7 in ( Seg ( len R47 ) ) & R6 <> R7) implies (( RLine (R47 , R6 , ( ( Line (R47 , R6) ) + ( R19 * ( Line (R47 , R7) ) ) )) ) is  without_repeated_line & ( lines ( RLine (R47 , R6 , ( ( Line (R47 , R6) ) + ( R19 * ( Line (R47 , R7) ) ) )) ) ) is  linearly-independent))))))))))
proof
let R10 being Nat;
let R11 being Nat;
let R18 being Field;
let R19 being (Element of R18);
let R47 being (Matrix of R10 , R11 , R18);
assume that
L3372: ( lines R47 ) is  linearly-independent
and
L3373: R47 is  without_repeated_line;
set D541 = ( R11 -VectSp_over R18 );
let R6 being Nat;
let R7 being Nat;
assume that
L3374: R7 in ( Seg ( len R47 ) )
and
L3375: R6 <> R7;
set D542 = ( Line (R47 , R7) );
set D543 = ( Line (R47 , R6) );
set D544 = ( RLine (R47 , R6 , ( D543 + ( R19 * D542 ) )) );
per cases ;
suppose L3376: (not R6 in ( Seg ( len R47 ) ));

thus L3377: thesis by L3376 , L3372 , L3373 , L1009;
end;
suppose L3378: R6 in ( Seg ( len R47 ) );

reconsider D545 = R11 as (Element of ( NAT )) by ORDINAL1:def 12;
L3379: ( dom R47 ) = ( Seg ( len R47 ) ) by FINSEQ_1:def 3;
L3380: ( R47 . R6 ) <> ( R47 . R7 ) by L3379 , L3373 , L3374 , L3375 , L3378 , FUNCT_1:def 4;
L3381: ( len R47 ) = R10 by MATRIX_1:def 2;
L3382: D542 in ( lines R47 ) by L3381 , L3374 , L2653;
L3383: D543 in ( lines R47 ) by L3378 , L3381 , L2653;
reconsider D546 = D543 , D547 = D542 as (Vector of D541) by L3383 , L3382;
reconsider D548 = D546 , D549 = D547 as (Element of ( D545 -tuples_on (the carrier of R18) )) by L2616;
L3384: ( R47 . R6 ) = D543 by L3378 , L3381 , MATRIX_2:8;
L3385: R10 <> ( 0 ) by L3378 , L3381;
L3386: R11 = ( width R47 ) by L3385 , L1;
L3387: ( R47 . R7 ) = D542 by L3374 , L3381 , MATRIX_2:8;
L3388: (for R8 being Nat holds ((R8 in ( Seg R10 ) & R8 <> R6) implies ( Line (D544 , R8) ) <> ( D543 + ( R19 * D542 ) )))
proof
L3389: ( R19 * D549 ) = ( R19 * D547 ) by L2616;
L3390: ( D548 + ( R19 * D549 ) ) = ( D546 + ( R19 * D547 ) ) by L3389 , L2616
.= ( ( ( 1_ R18 ) * D546 ) + ( R19 * D547 ) ) by VECTSP_1:def 17;
L3391: ( D548 + ( R19 * D549 ) ) in ( Lin { D546 , D547 } ) by L3390 , L3338;
let R8 being Nat;
assume that
L3392: R8 in ( Seg R10 )
and
L3393: R8 <> R6;
set D550 = ( Line (R47 , R8) );
assume L3394: ( Line (D544 , R8) ) = ( D543 + ( R19 * D542 ) );
L3395: ( Line (D544 , R8) ) = ( Line (R47 , R8) ) by L3392 , L3393 , MATRIX11:28;
L3396: D542 <> D550
proof
L3397: { D546 , D547 } c= ( lines R47 ) by L3383 , L3382 , ZFMISC_1:32;
L3398: { D546 , D547 } is  linearly-independent by L3397 , L3372 , VECTSP_7:1;
assume L3399: D542 = D550;
L3400: ( ( ( 1_ R18 ) + ( ( - ( 1_ R18 ) ) * R19 ) ) * D547 ) = ( ( ( 1_ R18 ) + ( ( - ( 1_ R18 ) ) * R19 ) ) * D549 ) by L2616;
L3401: ( ( - ( 1_ R18 ) ) * D546 ) = ( ( - ( 1_ R18 ) ) * D548 ) by L2616;
L3402: ( 0. D541 ) = ( R11 |-> ( 0. R18 ) ) by L2616
.= ( D549 + ( - ( D548 + ( R19 * D549 ) ) ) ) by L3395 , L3394 , L3399 , FVSUM_1:26
.= ( D549 + ( ( - D548 ) + ( - ( R19 * D549 ) ) ) ) by FVSUM_1:31
.= ( D549 + ( ( ( - ( 1_ R18 ) ) * D548 ) + ( - ( R19 * D549 ) ) ) ) by FVSUM_1:59
.= ( D549 + ( ( ( - ( 1_ R18 ) ) * D548 ) + ( ( - ( 1_ R18 ) ) * ( R19 * D549 ) ) ) ) by FVSUM_1:59
.= ( D549 + ( ( ( - ( 1_ R18 ) ) * D548 ) + ( ( ( - ( 1_ R18 ) ) * R19 ) * D549 ) ) ) by FVSUM_1:54
.= ( D549 + ( ( ( ( - ( 1_ R18 ) ) * R19 ) * D549 ) + ( ( - ( 1_ R18 ) ) * D548 ) ) ) by FINSEQOP:33
.= ( ( D549 + ( ( ( - ( 1_ R18 ) ) * R19 ) * D549 ) ) + ( ( - ( 1_ R18 ) ) * D548 ) ) by FINSEQOP:28
.= ( ( ( ( 1_ R18 ) * D549 ) + ( ( ( - ( 1_ R18 ) ) * R19 ) * D549 ) ) + ( ( - ( 1_ R18 ) ) * D548 ) ) by FVSUM_1:57
.= ( ( ( ( 1_ R18 ) + ( ( - ( 1_ R18 ) ) * R19 ) ) * D549 ) + ( ( - ( 1_ R18 ) ) * D548 ) ) by FVSUM_1:55
.= ( ( ( ( 1_ R18 ) + ( ( - ( 1_ R18 ) ) * R19 ) ) * D547 ) + ( ( - ( 1_ R18 ) ) * D546 ) ) by L3401 , L3400 , L2616;
L3403: ( - ( 1_ R18 ) ) = ( 0. R18 ) by L3402 , L3380 , L3384 , L3387 , L3398 , VECTSP_7:6;
thus L3404: thesis by L3403 , VECTSP_1:28;
end;
L3405: D550 in ( lines R47 ) by L3392 , L2653;
reconsider D551 = D550 as (Vector of D541) by L3405;
reconsider D552 = { D551 , D546 , D547 } as (Subset of D541);
L3406: D552 is  linearly-independent by L3372 , L3383 , L3382 , L3405 , VECTSP_7:1 , ZFMISC_1:133;
L3407: D550 in D552 by ENUMSET1:def 1;
L3408: ( R47 . R8 ) = D550 by L3392 , MATRIX_2:8;
L3409: ( R47 . R6 ) <> ( R47 . R8 ) by L3373 , L3378 , L3381 , L3379 , L3392 , L3393 , FUNCT_1:def 4;
L3410: ( D552 \ { D551 } ) = { D546 , D547 } by L3409 , L3384 , L3396 , L3408 , ENUMSET1:86;
thus L3411: thesis by L3410 , L3395 , L3394 , L3391 , L3407 , L3406 , VECTSP_9:14;
end;
reconsider D553 = ( D548 + ( R19 * D549 ) ) as (Element of ( (the carrier of R18) * )) by FINSEQ_1:def 11;
reconsider D554 = D553 as set;
set D555 = ( R6 .--> D554 );
L3412: ( len ( D548 + ( R19 * D549 ) ) ) = R11 by CARD_1:def 7;
L3413: ( RLine (R47 , R6 , ( D548 + ( R19 * D549 ) )) ) = ( Replace (R47 , R6 , D553) ) by L3412 , L3386 , MATRIX11:29
.= ( R47 +* D555 ) by L3378 , L3379 , FUNCT_7:def 3;
L3414: ( lines ( RLine (R47 , R6 , ( D543 + ( R19 * D542 ) )) ) ) = ( ( R47 .: ( ( dom R47 ) \ ( dom D555 ) ) ) \/ ( rng D555 ) ) by L3413 , FRECHET:12
.= ( ( R47 .: ( ( dom R47 ) \ { R6 } ) ) \/ ( rng D555 ) ) by FUNCOP_1:13
.= ( ( R47 .: ( ( dom R47 ) \ { R6 } ) ) \/ { D554 } ) by FUNCOP_1:8
.= ( ( ( R47 .: ( dom R47 ) ) \ ( R47 .: { R6 } ) ) \/ { D554 } ) by L3373 , FUNCT_1:64
.= ( ( ( lines R47 ) \ ( Im (R47 , R6) ) ) \/ { D554 } ) by RELAT_1:113
.= ( ( ( lines R47 ) \ { D546 } ) \/ { ( D548 + ( R19 * D549 ) ) } ) by L3378 , L3379 , L3384 , FUNCT_1:59;
L3415: ( Line (D544 , R6) ) = ( D543 + ( R19 * D542 ) ) by L3378 , L3381 , L3412 , L3386 , MATRIX11:28;
L3416:
now
L3417: ( len D544 ) = R10 by MATRIX_1:def 2;
let C212 , C213 being set;
assume that
L3418: C212 in ( dom D544 )
and
L3419: C213 in ( dom D544 )
and
L3420: ( D544 . C212 ) = ( D544 . C213 );
reconsider D556 = C212 , D557 = C213 as (Element of ( NAT )) by L3418 , L3419;
L3421: ( dom D544 ) = ( Seg ( len D544 ) ) by FINSEQ_1:def 3;
L3422: ( D544 . D556 ) = ( Line (D544 , D556) ) by L3421 , L3418 , L3417 , MATRIX_2:8;
L3423: ( D544 . D557 ) = ( Line (D544 , D557) ) by L3419 , L3421 , L3417 , MATRIX_2:8;
per cases ;
suppose L3424: (D556 = R6 & D557 = R6);

thus L3425: C212 = C213 by L3424;
end;
suppose L3426: ((D556 = R6 & D557 <> R6) or (D556 <> R6 & D557 = R6));

thus L3427: C212 = C213 by L3426 , L3388 , L3415 , L3418 , L3419 , L3420 , L3421 , L3417 , L3422 , L3423;
end;
suppose L3428: (D556 <> R6 & D557 <> R6);

L3429: ( D544 . D557 ) = ( Line (R47 , D557) ) by L3428 , L3419 , L3421 , L3417 , L3423 , MATRIX11:28;
L3430: ( Line (R47 , D556) ) = ( R47 . D556 ) by L3418 , L3421 , L3417 , MATRIX_2:8;
L3431: ( Line (R47 , D557) ) = ( R47 . D557 ) by L3419 , L3421 , L3417 , MATRIX_2:8;
L3432: ( D544 . D556 ) = ( Line (R47 , D556) ) by L3418 , L3421 , L3417 , L3422 , L3428 , MATRIX11:28;
thus L3433: C212 = C213 by L3432 , L3373 , L3381 , L3379 , L3418 , L3419 , L3420 , L3421 , L3417 , L3430 , L3429 , L3431 , FUNCT_1:def 4;
end;
end;
thus L3435: D544 is  without_repeated_line by L3416 , FUNCT_1:def 4;
L3436: ( R19 * D549 ) = ( R19 * D547 ) by L2616;
L3437: ( ( ( lines R47 ) \ { D546 } ) \/ { ( D546 + ( R19 * D547 ) ) } ) is  linearly-independent by L3372 , L3380 , L3384 , L3387 , L3383 , L3382 , L3241;
thus L3438: thesis by L3437 , L3436 , L3414 , L2616;
end;
end;
theorem
L3440: (for R10 being Nat holds (for R11 being Nat holds (for R18 being Field holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (for R47 being (Matrix of R10 , R11 , R18) holds (R32 c= ( Seg R10 ) implies ( lines ( Segm (R47 , R32 , ( Seg R11 )) ) ) c= ( lines R47 )))))))
proof
let R10 being Nat;
let R11 being Nat;
let R18 being Field;
let R32 being  without_zero  finite (Subset of ( NAT ));
let R47 being (Matrix of R10 , R11 , R18);
set D558 = ( Segm (R47 , R32 , ( Seg R11 )) );
assume L3441: R32 c= ( Seg R10 );
L3442: ( rng ( Sgm R32 ) ) = R32 by L3441 , FINSEQ_1:def 13;
let R1 being set;
assume L3443: R1 in ( lines D558 );
consider R6 being Nat such that L3444: R6 in ( Seg ( card R32 ) ) and L3445: R1 = ( Line (D558 , R6) ) by L3443 , L2653;
L3446: ( Seg R10 ) <> ( {} ) by L3441 , L3444;
L3447: R10 <> ( 0 ) by L3446;
L3448: ( width R47 ) = R11 by L3447 , L1;
L3449: ( Line (D558 , R6) ) = ( Line (R47 , ( ( Sgm R32 ) . R6 )) ) by L3448 , L3444 , L1127;
L3450: ( dom ( Sgm R32 ) ) = ( Seg ( card R32 ) ) by L3441 , FINSEQ_3:40;
L3451: ( ( Sgm R32 ) . R6 ) in ( rng ( Sgm R32 ) ) by L3450 , L3444 , FUNCT_1:def 3;
thus L3452: thesis by L3451 , L3441 , L3445 , L3442 , L3449 , L2653;
end;
theorem
L3453: (for R10 being Nat holds (for R11 being Nat holds (for R18 being Field holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (for R47 being (Matrix of R10 , R11 , R18) holds ((R32 c= ( Seg R10 ) & ( lines R47 ) is  linearly-independent) implies ( lines ( Segm (R47 , R32 , ( Seg R11 )) ) ) is  linearly-independent))))))
proof
let R10 being Nat;
let R11 being Nat;
let R18 being Field;
let R32 being  without_zero  finite (Subset of ( NAT ));
let R47 being (Matrix of R10 , R11 , R18);
assume that
L3454: R32 c= ( Seg R10 )
and
L3455: ( lines R47 ) is  linearly-independent;
L3456: ( card ( Seg R11 ) ) = R11 by FINSEQ_1:57;
thus L3457: thesis by L3456 , L3454 , L3455 , L3440 , VECTSP_7:1;
end;
theorem
L3458: (for R10 being Nat holds (for R11 being Nat holds (for R18 being Field holds (for R32 being  without_zero  finite (Subset of ( NAT )) holds (for R47 being (Matrix of R10 , R11 , R18) holds ((R32 c= ( Seg R10 ) & R47 is  without_repeated_line) implies ( Segm (R47 , R32 , ( Seg R11 )) ) is  without_repeated_line))))))
proof
let R10 being Nat;
let R11 being Nat;
let R18 being Field;
let R32 being  without_zero  finite (Subset of ( NAT ));
let R47 being (Matrix of R10 , R11 , R18);
assume that
L3459: R32 c= ( Seg R10 )
and
L3460: R47 is  without_repeated_line;
set D559 = ( Segm (R47 , R32 , ( Seg R11 )) );
let C214 , C215 being set;
assume that
L3461: C214 in ( dom D559 )
and
L3462: C215 in ( dom D559 )
and
L3463: ( D559 . C214 ) = ( D559 . C215 );
reconsider D560 = C214 , D561 = C215 as (Element of ( NAT )) by L3461 , L3462;
L3464: ( len D559 ) = ( card R32 ) by MATRIX_1:def 2;
L3465: ( dom D559 ) = ( Seg ( card R32 ) ) by L3464 , FINSEQ_1:def 3;
L3466: ( Line (D559 , D560) ) = ( D559 . D560 ) by L3465 , L3461 , MATRIX_2:8;
L3467: ( Line (D559 , D561) ) = ( D559 . D561 ) by L3462 , L3465 , MATRIX_2:8;
L3468: ( Sgm R32 ) is  one-to-one by L3459 , FINSEQ_3:92;
L3469: ( dom ( Sgm R32 ) ) = ( dom D559 ) by L3459 , L3465 , FINSEQ_3:40;
L3470: ( Seg R10 ) <> ( {} ) by L3459 , L3461 , L3465;
L3471: R10 <> ( 0 ) by L3470;
L3472: ( width R47 ) = R11 by L3471 , L1;
L3473: ( Line (D559 , D560) ) = ( Line (R47 , ( ( Sgm R32 ) . D560 )) ) by L3472 , L3461 , L3465 , L1127;
L3474: ( Line (D559 , D561) ) = ( Line (R47 , ( ( Sgm R32 ) . D561 )) ) by L3462 , L3465 , L3472 , L1127;
L3475: ( len R47 ) = R10 by MATRIX_1:def 2;
L3476: ( rng ( Sgm R32 ) ) = R32 by L3459 , FINSEQ_1:def 13;
L3477: ( ( Sgm R32 ) . D561 ) in R32 by L3476 , L3462 , L3469 , FUNCT_1:def 3;
L3478: ( Line (R47 , ( ( Sgm R32 ) . D561 )) ) = ( R47 . ( ( Sgm R32 ) . D561 ) ) by L3477 , L3459 , MATRIX_2:8;
L3479: ( ( Sgm R32 ) . D560 ) in R32 by L3461 , L3469 , L3476 , FUNCT_1:def 3;
L3480: ( ( Sgm R32 ) . D560 ) in ( Seg R10 ) by L3479 , L3459;
L3481: ( ( Sgm R32 ) . D560 ) in ( dom R47 ) by L3480 , L3475 , FINSEQ_1:def 3;
L3482: ( ( Sgm R32 ) . D561 ) in ( Seg R10 ) by L3459 , L3477;
L3483: ( ( Sgm R32 ) . D561 ) in ( dom R47 ) by L3482 , L3475 , FINSEQ_1:def 3;
L3484: ( Line (R47 , ( ( Sgm R32 ) . D560 )) ) = ( R47 . ( ( Sgm R32 ) . D560 ) ) by L3459 , L3479 , MATRIX_2:8;
L3485: ( ( Sgm R32 ) . D560 ) = ( ( Sgm R32 ) . D561 ) by L3484 , L3460 , L3463 , L3473 , L3474 , L3466 , L3467 , L3478 , L3481 , L3483 , FUNCT_1:def 4;
thus L3486: thesis by L3485 , L3461 , L3462 , L3469 , L3468 , FUNCT_1:def 4;
end;
theorem
L3487: (for R10 being Nat holds (for R11 being Nat holds (for R18 being Field holds (for B129 being (Matrix of R10 , R11 , R18) holds ((( lines B129 ) is  linearly-independent & B129 is  without_repeated_line) iff ( the_rank_of B129 ) = R10)))))
proof
let R10 being Nat;
let R11 being Nat;
let R18 being Field;
defpred S15[ Nat ] means (for R10 being Nat holds (for R11 being Nat holds (R10 = $1 implies (for B130 being (Matrix of R10 , R11 , R18) holds ((( lines B130 ) is  linearly-independent & B130 is  without_repeated_line) iff ( the_rank_of B130 ) = R10)))));
L3488: (for R8 being Nat holds (S15[ R8 ] implies S15[ ( R8 + 1 ) ]))
proof
let R8 being Nat;
assume that
L3489: S15[ R8 ];
let R10 being Nat;
let R11 being Nat;
assume that
L3490: R10 = ( R8 + 1 );
let C216 being (Matrix of R10 , R11 , R18);
thus L3491: ((( lines C216 ) is  linearly-independent & C216 is  without_repeated_line) implies ( the_rank_of C216 ) = R10)
proof
L3492: R8 < R10 by L3490 , NAT_1:13;
L3493: ( len ( R11 |-> ( 0. R18 ) ) ) = R11 by CARD_1:def 7;
L3494: R8 < R10 by L3490 , NAT_1:13;
L3495: ( Seg R8 ) c= ( Seg R10 ) by L3494 , FINSEQ_1:5;
L3496: R10 in ( Seg R10 ) by L3490 , FINSEQ_1:4;
L3497: ( Line (C216 , R10) ) in ( lines C216 ) by L3496 , L2653;
reconsider D562 = ( Line (C216 , R10) ) as (Element of ( R11 -tuples_on (the carrier of R18) )) by L3497 , L2616;
L3498: ( len D562 ) = R11 by CARD_1:def 7;
assume that
L3499: ( lines C216 ) is  linearly-independent
and
L3500: C216 is  without_repeated_line;
L3501: D562 <> ( R11 |-> ( 0. R18 ) ) by L3499 , L3500 , L3496 , L2826;
consider R6 being Nat such that L3502: 1 <= R6 and L3503: R6 <= R11 and L3504: ( D562 . R6 ) <> ( ( R11 |-> ( 0. R18 ) ) . R6 ) by L3501 , L3498 , L3493 , FINSEQ_1:14;
defpred S16[ Nat ] means ($1 < R10 implies (ex B131 being (Matrix of R10 , R11 , R18) st (( Line (B131 , R10) ) = ( Line (C216 , R10) ) & ( lines B131 ) is  linearly-independent & B131 is  without_repeated_line & ( the_rank_of B131 ) = ( the_rank_of C216 ) & (for R7 being Nat holds ((R7 <= $1 & R7 in ( Seg R10 )) implies ( B131 * (R7 , R6) ) = ( 0. R18 ))))));
L3505: R6 in ( NAT ) by ORDINAL1:def 12;
L3506: R6 in ( Seg R11 ) by L3505 , L3502 , L3503;
L3507: ( D562 . R6 ) <> ( 0. R18 ) by L3506 , L3504 , FINSEQ_2:57;
L3508: ( len ( Line (C216 , R10) ) ) = ( width C216 ) by MATRIX_1:def 7;
L3509: ( D562 . R6 ) = ( C216 * (R10 , R6) ) by L3508 , L3498 , L3506 , MATRIX_1:def 7;
L3510: (for R9 being Nat holds (S16[ R9 ] implies S16[ ( R9 + 1 ) ]))
proof
set D563 = ( C216 * (R10 , R6) );
let C217 being Nat;
assume that
L3511: S16[ C217 ];
set D564 = ( C217 + 1 );
assume L3512: D564 < R10;
consider C218 being (Matrix of R10 , R11 , R18) such that L3513: ( Line (C218 , R10) ) = ( Line (C216 , R10) ) and L3514: ( lines C218 ) is  linearly-independent and L3515: C218 is  without_repeated_line and L3516: ( the_rank_of C218 ) = ( the_rank_of C216 ) and L3517: (for R7 being Nat holds ((R7 <= C217 & R7 in ( Seg R10 )) implies ( C218 * (R7 , R6) ) = ( 0. R18 ))) by L3512 , L3511 , NAT_1:13;
set D565 = ( C218 * (D564 , R6) );
take D566 = ( RLine (C218 , D564 , ( ( Line (C218 , D564) ) + ( ( - ( ( D563 " ) * D565 ) ) * ( Line (C218 , R10) ) ) )) );
L3518: ( len C218 ) = R10 by MATRIX_1:def 2;
thus L3519: (( Line (D566 , R10) ) = ( Line (C216 , R10) ) & ( lines D566 ) is  linearly-independent & D566 is  without_repeated_line & ( the_rank_of D566 ) = ( the_rank_of C216 )) by L3518 , L3496 , L3512 , L3513 , L3514 , L3515 , L3516 , L2152 , L3371 , MATRIX11:28;
set D567 = ( Line (C218 , R10) );
set D568 = ( Line (C218 , D564) );
let R7 being Nat;
assume that
L3520: R7 <= D564
and
L3521: R7 in ( Seg R10 );
L3522: R10 <> ( 0 ) by L3521;
L3523: ( width C218 ) = R11 by L3522 , L1;
L3524: ( D568 . R6 ) = D565 by L3523 , L3506 , MATRIX_1:def 7;
L3525: ( ( 0 ) + 1 ) <= D564 by NAT_1:13;
L3526: D564 in ( Seg R10 ) by L3525 , L3512;
L3527: ( len ( D568 + ( ( - ( ( D563 " ) * D565 ) ) * D567 ) ) ) = ( width C218 ) by CARD_1:def 7;
L3528: ( Line (D566 , D564) ) = ( D568 + ( ( - ( ( D563 " ) * D565 ) ) * D567 ) ) by L3527 , L3526 , MATRIX11:28;
L3529: R10 <> ( 0 ) by L3521;
L3530: ( width C216 ) = R11 by L3529 , L1;
L3531: ( D567 . R6 ) = ( C216 * (R10 , R6) ) by L3530 , L3506 , L3513 , MATRIX_1:def 7;
L3532: ( ( ( - ( ( D563 " ) * D565 ) ) * D567 ) . R6 ) = ( ( - ( ( D563 " ) * D565 ) ) * D563 ) by L3531 , L3506 , L3523 , FVSUM_1:51;
L3533: ( ( Line (D566 , D564) ) . R6 ) = ( D565 + ( ( - ( ( D563 " ) * D565 ) ) * D563 ) ) by L3532 , L3506 , L3523 , L3524 , L3528 , FVSUM_1:18
.= ( D565 + ( ( - ( ( 1_ R18 ) * ( ( D563 " ) * D565 ) ) ) * D563 ) ) by VECTSP_1:def 4
.= ( D565 + ( ( ( - ( 1_ R18 ) ) * ( ( D563 " ) * D565 ) ) * D563 ) ) by VECTSP_1:9
.= ( D565 + ( ( - ( 1_ R18 ) ) * ( ( ( D563 " ) * D565 ) * D563 ) ) ) by GROUP_1:def 3
.= ( D565 + ( ( - ( 1_ R18 ) ) * ( ( ( D563 " ) * D563 ) * D565 ) ) ) by GROUP_1:def 3
.= ( D565 + ( ( - ( 1_ R18 ) ) * ( ( 1_ R18 ) * D565 ) ) ) by L3507 , L3509 , VECTSP_1:def 10
.= ( D565 + ( ( - ( 1_ R18 ) ) * D565 ) ) by VECTSP_1:def 4
.= ( D565 + ( - ( ( 1_ R18 ) * D565 ) ) ) by VECTSP_1:9
.= ( D565 + ( - D565 ) ) by VECTSP_1:def 4
.= ( 0. R18 ) by RLVECT_1:5;
L3534: R10 <> ( 0 ) by L3521;
L3535: ( width D566 ) = R11 by L3534 , L1;
per cases  by L3520 , NAT_1:9;
suppose L3536: R7 = D564;

thus L3537: thesis by L3536 , L3506 , L3535 , L3533 , MATRIX_1:def 7;
end;
suppose L3538: R7 <= C217;

L3539: R7 < D564 by L3538 , NAT_1:13;
thus L3540: ( 0. R18 ) = ( C218 * (R7 , R6) ) by L3517 , L3521 , L3538
.= ( ( Line (C218 , R7) ) . R6 ) by L3506 , L3523 , MATRIX_1:def 7
.= ( ( Line (D566 , R7) ) . R6 ) by L3521 , L3539 , MATRIX11:28
.= ( D566 * (R7 , R6) ) by L3506 , L3535 , MATRIX_1:def 7;
end;
end;
L3542: S16[ ( 0 ) ]
proof
assume L3543: ( 0 ) < R10;
take C216;
thus L3544: thesis by L3499 , L3500;
end;
L3545: (for R9 being Nat holds S16[ R9 ]) from NAT_1:sch 2(L3542 , L3510);
consider C219 being (Matrix of R10 , R11 , R18) such that L3546: ( Line (C219 , R10) ) = ( Line (C216 , R10) ) and L3547: ( lines C219 ) is  linearly-independent and L3548: C219 is  without_repeated_line and L3549: ( the_rank_of C219 ) = ( the_rank_of C216 ) and L3550: (for R7 being Nat holds ((R7 <= R8 & R7 in ( Seg R10 )) implies ( C219 * (R7 , R6) ) = ( 0. R18 ))) by L3545 , L3492;
set D569 = ( Segm (C219 , ( Seg R8 ) , ( Seg R11 )) );
L3551: ( card ( Seg R8 ) ) = R8 by FINSEQ_1:57;
L3552: ( len D569 ) = R8 by L3551 , MATRIX_1:def 2;
L3553: ( card ( Seg R11 ) ) = R11 by FINSEQ_1:57;
L3554:
now
L3555: ( ( Sgm ( Seg R11 ) ) . R6 ) = ( ( idseq R11 ) . R6 ) by FINSEQ_3:48
.= R6 by L3506 , FINSEQ_2:49;
let R7 being Nat;
assume that
L3556: R7 in ( Seg R8 );
L3557: R7 <= R8 by L3556 , FINSEQ_1:1;
L3558: ( ( Sgm ( Seg R8 ) ) . R7 ) = ( ( idseq R8 ) . R7 ) by FINSEQ_3:48
.= R7 by L3556 , FINSEQ_2:49;
L3559: ( width D569 ) = R11 by L3553 , L3556 , L1;
L3560: [ R7 , R6 ] in [: ( Seg R8 ) , ( Seg ( width D569 ) ) :] by L3559 , L3506 , L3556 , ZFMISC_1:87;
L3561: [ R7 , R6 ] in ( Indices D569 ) by L3560 , L3552 , FINSEQ_1:def 3;
thus L3562: ( D569 * (R7 , R6) ) = ( C219 * (( ( Sgm ( Seg R8 ) ) . R7 ) , ( ( Sgm ( Seg R11 ) ) . R6 )) ) by L3561 , L502
.= ( 0. R18 ) by L3550 , L3495 , L3556 , L3558 , L3555 , L3557;
end;
set D570 = ( Seg ( width D569 ) );
set D571 = ( Segm (D569 , ( Seg R8 ) , ( D570 \ { R6 } )) );
L3563: ( width C219 ) = R11 by L3490 , L1;
L3564: D569 is  without_repeated_line by L3548 , L3495 , L3458;
L3565: D571 is  without_repeated_line by L3564 , L3551 , L3552 , L3554 , L3071;
L3566: ( lines D569 ) is  linearly-independent by L3547 , L3495 , L3453;
L3567: ( lines D571 ) is  linearly-independent by L3566 , L3548 , L3495 , L3551 , L3552 , L3554 , L3109 , L3458;
L3568: ( the_rank_of D571 ) = R8 by L3567 , L3489 , L3551 , L3565;
consider R32 being  without_zero  finite (Subset of ( NAT )), R35 being  without_zero  finite (Subset of ( NAT )) such that L3569: [: R32 , R35 :] c= ( Indices D571 ) and L3570: ( card R32 ) = ( card R35 ) and L3571: ( card R32 ) = R8 and L3572: ( Det ( EqSegm (D571 , R32 , R35) ) ) <> ( 0. R18 ) by L3568 , L1631;
L3573: (R32 = ( {} ) iff R35 = ( {} )) by L3570;
consider R33 being  without_zero  finite (Subset of ( NAT )), R36 being  without_zero  finite (Subset of ( NAT )) such that L3574: R33 c= ( Seg R8 ) and L3575: R36 c= ( ( Seg ( width D569 ) ) \ { R6 } ) and L3576: R33 = ( ( Sgm ( Seg R8 ) ) .: R32 ) and L3577: R36 = ( ( Sgm ( ( Seg ( width D569 ) ) \ { R6 } ) ) .: R35 ) and L3578: ( card R33 ) = ( card R32 ) and L3579: ( card R36 ) = ( card R35 ) and L3580: ( Segm (D571 , R32 , R35) ) = ( Segm (D569 , R33 , R36) ) by L3573 , L3569 , L1261;
L3581: ( ( Seg ( width D569 ) ) \ { R6 } ) c= ( Seg ( width D569 ) ) by XBOOLE_1:36;
L3582: R36 c= ( Seg ( width D569 ) ) by L3581 , L3575 , XBOOLE_1:1;
L3583: [: R33 , R36 :] c= [: ( Seg R8 ) , ( Seg ( width D569 ) ) :] by L3582 , L3574 , ZFMISC_1:96;
L3584: [: R33 , R36 :] c= ( Indices D569 ) by L3583 , L3552 , FINSEQ_1:def 3;
L3585:
now
per cases ;
suppose L3586: R8 = ( 0 );

L3587: ( width D569 ) = ( 0 ) by L3586 , L3552 , MATRIX_1:def 3;
L3588: ( Seg ( width D569 ) ) c= ( Seg R11 ) by L3587 , FINSEQ_1:5;
thus L3589: R36 c= ( Seg R11 ) by L3588 , L3582 , XBOOLE_1:1;
end;
suppose L3590: R8 > ( 0 );

thus L3591: R36 c= ( Seg R11 ) by L3590 , L3553 , L3582 , L1;
end;
end;
L3593: (R33 = ( {} ) iff R36 = ( {} )) by L3570 , L3578 , L3579;
consider R34 being  without_zero  finite (Subset of ( NAT )), R37 being  without_zero  finite (Subset of ( NAT )) such that L3594: R34 c= ( Seg R8 ) and L3595: R37 c= ( Seg R11 ) and L3596: R34 = ( ( Sgm ( Seg R8 ) ) .: R33 ) and L3597: R37 = ( ( Sgm ( Seg R11 ) ) .: R36 ) and L3598: ( card R34 ) = ( card R33 ) and L3599: ( card R37 ) = ( card R36 ) and L3600: ( Segm (D569 , R33 , R36) ) = ( Segm (C219 , R34 , R37) ) by L3593 , L3584 , L1261;
L3601: R37 = ( ( idseq R11 ) .: R36 ) by L3597 , FINSEQ_3:48
.= R36 by L3585 , FRECHET:13;
reconsider D572 = R6 , D573 = R10 as non  zero (Element of ( NAT )) by L3490 , L3502 , ORDINAL1:def 12;
set D574 = ( R37 \/ { D572 } );
set D575 = ( Sgm D574 );
L3602: { D572 } c= ( Seg R11 ) by L3506 , ZFMISC_1:31;
L3603: D574 c= ( Seg R11 ) by L3602 , L3595 , XBOOLE_1:8;
L3604: ( rng D575 ) = D574 by L3603 , FINSEQ_1:def 13;
L3605: R34 = ( ( idseq R8 ) .: R33 ) by L3596 , FINSEQ_3:48
.= R33 by L3574 , FRECHET:13;
L3606: ( EqSegm (D571 , R32 , R35) ) = ( Segm (D569 , R33 , R36) ) by L3570 , L3580 , L1378
.= ( EqSegm (C219 , R33 , R36) ) by L3570 , L3578 , L3579 , L3600 , L3605 , L3601 , L1378;
L3607: ( len ( EqSegm (C219 , R34 , R37) ) ) = R8 by L3571 , L3578 , L3598 , MATRIX_1:def 2;
L3608: ( len C219 ) = D573 by L1;
L3609: ( the_rank_of C219 ) <= D573 by L3608 , L1665;
set D576 = ( R34 \/ { D573 } );
set D577 = ( EqSegm (C219 , D576 , D574) );
L3610: R34 c= ( Seg D573 ) by L3495 , L3594 , XBOOLE_1:1;
L3611: D572 in { D572 } by TARSKI:def 1;
L3612: D572 in D574 by L3611 , XBOOLE_0:def 3;
L3613: D572 in { D572 } by TARSKI:def 1;
L3614: (not D572 in R37) by L3613 , L3575 , L3601 , XBOOLE_0:def 5;
L3615: ( card D574 ) = D573 by L3614 , L3490 , L3570 , L3571 , L3579 , L3599 , CARD_2:41;
L3616: ( dom D575 ) = ( Seg D573 ) by L3615 , L3595 , L3602 , FINSEQ_3:40 , XBOOLE_1:8;
consider C220 being set such that L3617: C220 in ( Seg D573 ) and L3618: ( D575 . C220 ) = D572 by L3616 , L3612 , L3604 , FUNCT_1:def 3;
reconsider D578 = C220 as (Element of ( NAT )) by L3617;
L3619: R8 < D573 by L3490 , NAT_1:13;
L3620: (not D573 in R34) by L3619 , L3574 , L3605 , FINSEQ_1:1;
L3621: ( card D576 ) = D573 by L3620 , L3490 , L3571 , L3578 , L3598 , CARD_2:41;
L3622: ( len ( Delete (D577 , D573 , D578) ) ) = ( D573 -' 1 ) by L3621 , MATRIX_1:def 2;
L3623: { D573 } c= ( Seg D573 ) by L3496 , ZFMISC_1:31;
L3624: D576 c= ( Seg D573 ) by L3623 , L3610 , XBOOLE_1:8;
L3625: [: D576 , D574 :] c= [: ( Seg D573 ) , ( Seg R11 ) :] by L3624 , L3603 , ZFMISC_1:96;
L3626: [: D576 , D574 :] c= ( Indices C219 ) by L3625 , L3608 , L3563 , FINSEQ_1:def 3;
L3627: ( card ( Seg D573 ) ) = D573 by FINSEQ_1:57;
L3628: D576 = ( Seg D573 ) by L3627 , L3623 , L3610 , L3621 , CARD_FIN:1 , XBOOLE_1:8;
L3629:
now
L3630: ( dom D577 ) = ( Seg ( len D577 ) ) by FINSEQ_1:def 3;
L3631: ( dom C219 ) = ( Seg ( len C219 ) ) by FINSEQ_1:def 3;
L3632: D573 = ( len D577 ) by L3621 , MATRIX_1:def 2;
let R7 being Nat;
assume that
L3633: R7 in ( Seg D573 );
L3634: ( Col (C219 , D572) ) = ( Col (( Segm (C219 , D576 , D574) ) , D578) ) by L3608 , L3615 , L3617 , L3618 , L3628 , L1139
.= ( Col (D577 , D578) ) by L3490 , L3571 , L3578 , L3598 , L3620 , L3615 , L1378 , CARD_2:41;
thus L3635: ( D577 * (R7 , D578) ) = ( ( Col (C219 , D572) ) . R7 ) by L3634 , L3633 , L3632 , L3630 , MATRIX_1:def 8
.= ( C219 * (R7 , D572) ) by L3608 , L3633 , L3631 , MATRIX_1:def 8;
end;
L3636: ( D577 * (D573 , D578) ) = ( C219 * (D573 , D572) ) by L3629 , L3490 , FINSEQ_1:4
.= ( ( Line (C216 , D573) ) . D572 ) by L3506 , L3546 , L3563 , MATRIX_1:def 7;
set D579 = ( LaplaceExpC (D577 , D578) );
L3637: ( len D579 ) = D573 by L3621 , LAPLACE:def 8;
L3638: ( dom D579 ) = ( Seg D573 ) by L3637 , FINSEQ_1:def 3;
L3639:
now
let R7 being Nat;
assume that
L3640: R7 in ( Seg D573 )
and
L3641: R7 <> D573;
reconsider D580 = R7 as (Element of ( NAT )) by ORDINAL1:def 12;
L3642: R7 <= D573 by L3640 , FINSEQ_1:1;
L3643: R7 <= R8 by L3642 , L3490 , L3641 , NAT_1:9;
L3644: ( 0. R18 ) = ( C219 * (R7 , D572) ) by L3643 , L3550 , L3640
.= ( D577 * (R7 , D578) ) by L3629 , L3640;
thus L3645: ( 0. R18 ) = ( ( D577 * (R7 , D578) ) * ( Cofactor (D577 , D580 , D578) ) ) by L3644 , VECTSP_1:7
.= ( D579 . R7 ) by L3638 , L3640 , LAPLACE:def 8;
end;
L3646: ( D579 . D573 ) = ( Sum D579 ) by L3639 , L3496 , L3638 , MATRIX_3:12
.= ( Det D577 ) by L3621 , L3617 , LAPLACE:27;
reconsider D581 = ( D573 + D578 ) as (Element of ( NAT ));
L3647: ( - ( 1_ R18 ) ) <> ( 0. R18 ) by VECTSP_1:28;
L3648: ( ( power R18 ) . (( - ( 1_ R18 ) ) , D581) ) <> ( 0. R18 ) by L3647 , L1925;
L3649: ( ( Sgm D576 ) . D573 ) = ( ( idseq D573 ) . D573 ) by L3628 , FINSEQ_3:48
.= D573 by L3496 , FINSEQ_2:49;
L3650: ( Delete (D577 , D573 , D578) ) = ( EqSegm (C219 , ( D576 \ { D573 } ) , ( D574 \ { D572 } )) ) by L3649 , L3496 , L3621 , L3615 , L3617 , L3618 , L1380
.= ( EqSegm (C219 , R34 , ( D574 \ { D572 } )) ) by L3620 , ZFMISC_1:117
.= ( EqSegm (C219 , R34 , R37) ) by L3614 , ZFMISC_1:117;
L3651: ( ( ( power R18 ) . (( - ( 1_ R18 ) ) , D581) ) * ( Minor (D577 , D573 , D578) ) ) <> ( 0. R18 ) by L3650 , L3571 , L3572 , L3605 , L3601 , L3606 , L3621 , L3622 , L3607 , L3648 , VECTSP_1:12;
L3652: ( ( D577 * (D573 , D578) ) * ( Cofactor (D577 , D573 , D578) ) ) <> ( 0. R18 ) by L3651 , L3507 , L3636 , VECTSP_1:12;
L3653: ( Det D577 ) <> ( 0. R18 ) by L3652 , L3496 , L3638 , L3646 , LAPLACE:def 8;
L3654: ( the_rank_of C219 ) >= D573 by L3653 , L3626 , L3621 , L3615 , L1631;
thus L3655: thesis by L3654 , L3549 , L3609 , XXREAL_0:1;
end;

thus L3656: thesis by L2698 , L2909;
end;
L3657: S15[ ( 0 ) ]
proof
let R10 being Nat;
let R11 being Nat;
assume that
L3658: R10 = ( 0 );
let C221 being (Matrix of R10 , R11 , R18);
L3659: ( len C221 ) = ( 0 ) by L3658 , MATRIX_1:def 2;
L3660: C221 = ( {} ) by L3659;
thus L3661: thesis by L3660 , L3658 , L3659 , L1665;
end;
L3662: (for R8 being Nat holds S15[ R8 ]) from NAT_1:sch 2(L3657 , L3488);
thus L3663: thesis by L3662;
end;
theorem
L3664: (for R10 being Nat holds (for R11 being Nat holds (for R18 being Field holds (for R47 being (Matrix of R10 , R11 , R18) holds (for B132 being (Subset of ( R11 -VectSp_over R18 )) holds (B132 c= ( lines R47 ) implies (ex R32 being  without_zero  finite (Subset of ( NAT )) st (R32 c= ( Seg R10 ) & ( lines ( Segm (R47 , R32 , ( Seg R11 )) ) ) = B132 & ( Segm (R47 , R32 , ( Seg R11 )) ) is  without_repeated_line))))))))
proof
let R10 being Nat;
let R11 being Nat;
let R18 being Field;
let R47 being (Matrix of R10 , R11 , R18);
defpred S17[ set , set ] means (ex R6 being Nat st (R6 in ( Seg R10 ) & ( Line (R47 , R6) ) = $1 & $2 = R6));
let C222 being (Subset of ( R11 -VectSp_over R18 ));
assume that
L3665: C222 c= ( lines R47 );
L3666: (for R1 being set holds (R1 in C222 implies (ex R2 being set st (R2 in ( Seg R10 ) & S17[ R1 , R2 ]))))
proof
let R1 being set;
assume L3667: R1 in C222;
consider R6 being Nat such that L3668: R6 in ( Seg R10 ) and L3669: R1 = ( Line (R47 , R6) ) by L3667 , L3665 , L2653;
take R6;
thus L3670: thesis by L3668 , L3669;
end;
consider C223 being (Function of C222 , ( Seg R10 )) such that L3671: (for R1 being set holds (R1 in C222 implies S17[ R1 , ( C223 . R1 ) ])) from FUNCT_2:sch 1(L3666);
L3672: ( rng C223 ) c= ( Seg R10 ) by RELAT_1:def 19;
L3673: (not ( 0 ) in ( rng C223 )) by L3672;
reconsider D582 = ( rng C223 ) as  without_zero  finite (Subset of ( NAT )) by L3673 , L3672 , MEASURE6:def 2 , XBOOLE_1:1;
set D583 = ( Segm (R47 , D582 , ( Seg R11 )) );
L3674: ( rng ( Sgm D582 ) ) = D582 by L3672 , FINSEQ_1:def 13;
L3675: ( lines D583 ) c= C222
proof
L3676: ( rng ( Sgm D582 ) ) = D582 by L3672 , FINSEQ_1:def 13;
let R1 being set;
L3677: ( dom D583 ) = ( Seg ( len D583 ) ) by FINSEQ_1:def 3
.= ( Seg ( card D582 ) ) by MATRIX_1:def 2;
assume L3678: R1 in ( lines D583 );
consider R2 being set such that L3679: R2 in ( dom D583 ) and L3680: ( D583 . R2 ) = R1 by L3678 , FUNCT_1:def 3;
L3681: ( lines D583 ) c= ( lines R47 ) by L3672 , L3440;
L3682: R47 <> ( {} ) by L3681 , L3678;
L3683: ( len R47 ) = R10 by MATRIX_1:def 2;
L3684: ( width R47 ) = R11 by L3683 , L3682 , L1;
reconsider D584 = R2 as (Element of ( NAT )) by L3679;
L3685: ( dom ( Sgm D582 ) ) = ( Seg ( card D582 ) ) by L3672 , FINSEQ_3:40;
L3686: ( ( Sgm D582 ) . D584 ) in ( rng ( Sgm D582 ) ) by L3685 , L3679 , L3677 , FUNCT_1:def 3;
consider C224 being set such that L3687: C224 in ( dom C223 ) and L3688: ( C223 . C224 ) = ( ( Sgm D582 ) . D584 ) by L3686 , L3676 , FUNCT_1:def 3;
L3689: (ex R6 being Nat st (R6 in ( Seg R10 ) & ( Line (R47 , R6) ) = C224 & ( C223 . C224 ) = R6)) by L3671 , L3687;
L3690: C224 = ( Line (D583 , D584) ) by L3689 , L3679 , L3677 , L3688 , L3684 , L1127
.= R1 by L3679 , L3680 , L3677 , MATRIX_2:8;
thus L3691: thesis by L3690 , L3687;
end;
take D582;
thus L3692: D582 c= ( Seg R10 ) by RELAT_1:def 19;
L3693: C222 c= ( lines D583 )
proof
let R1 being set;
L3694: ( dom ( Sgm D582 ) ) = ( Seg ( card D582 ) ) by L3672 , FINSEQ_3:40;
assume L3695: R1 in C222;
consider R6 being Nat such that L3696: R6 in ( Seg R10 ) and L3697: ( Line (R47 , R6) ) = R1 and L3698: ( C223 . R1 ) = R6 by L3695 , L3671;
L3699: ( dom C223 ) = C222 by L3696 , FUNCT_2:def 1;
L3700: R6 in D582 by L3699 , L3695 , L3698 , FUNCT_1:def 3;
L3701: R6 in ( rng ( Sgm D582 ) ) by L3700 , L3672 , FINSEQ_1:def 13;
consider R2 being set such that L3702: R2 in ( dom ( Sgm D582 ) ) and L3703: ( ( Sgm D582 ) . R2 ) = R6 by L3701 , FUNCT_1:def 3;
reconsider D585 = R2 as (Element of ( NAT )) by L3702;
L3704: R10 <> ( 0 ) by L3696;
L3705: ( width R47 ) = R11 by L3704 , L1;
L3706: ( Line (D583 , D585) ) = R1 by L3705 , L3697 , L3702 , L3703 , L3694 , L1127;
thus L3707: thesis by L3706 , L3702 , L3694 , L2653;
end;
thus L3708: C222 = ( lines D583 ) by L3693 , L3675 , XBOOLE_0:def 10;
let C225 , C226 being set;
assume that
L3709: C225 in ( dom D583 )
and
L3710: C226 in ( dom D583 )
and
L3711: ( D583 . C225 ) = ( D583 . C226 );
L3712: ( dom D583 ) = ( Seg ( len D583 ) ) by FINSEQ_1:def 3
.= ( Seg ( card D582 ) ) by MATRIX_1:def 2;
L3713: ( dom ( Sgm D582 ) ) = ( dom D583 ) by L3712 , L3672 , FINSEQ_3:40;
reconsider D586 = C225 , D587 = C226 as (Element of ( NAT )) by L3709 , L3710;
L3714: ( dom ( Sgm D582 ) ) = ( Seg ( card D582 ) ) by L3672 , FINSEQ_3:40;
L3715: ( ( Sgm D582 ) . D586 ) in ( rng ( Sgm D582 ) ) by L3714 , L3709 , L3712 , FUNCT_1:def 3;
consider C227 being set such that L3716: C227 in ( dom C223 ) and L3717: ( C223 . C227 ) = ( ( Sgm D582 ) . D586 ) by L3715 , L3674 , FUNCT_1:def 3;
L3718: (ex B133 being Nat st (B133 in ( Seg R10 ) & ( Line (R47 , B133) ) = C227 & ( C223 . C227 ) = B133)) by L3671 , L3716;
L3719: R10 <> ( 0 ) by L3718;
L3720: ( width R47 ) = R11 by L3719 , L1;
L3721: ( ( Sgm D582 ) . D587 ) in ( rng ( Sgm D582 ) ) by L3710 , L3712 , L3714 , FUNCT_1:def 3;
consider C228 being set such that L3722: C228 in ( dom C223 ) and L3723: ( C223 . C228 ) = ( ( Sgm D582 ) . D587 ) by L3721 , L3674 , FUNCT_1:def 3;
L3724: (ex B134 being Nat st (B134 in ( Seg R10 ) & ( Line (R47 , B134) ) = C228 & ( C223 . C228 ) = B134)) by L3671 , L3722;
L3725: ( Line (D583 , D587) ) = C228 by L3724 , L3710 , L3712 , L3723 , L3720 , L1127;
L3726: ( Sgm D582 ) is  one-to-one by L3672 , FINSEQ_3:92;
L3727: ( Line (D583 , D586) ) = ( D583 . D586 ) by L3709 , L3712 , MATRIX_2:8;
L3728: ( Line (D583 , D586) ) = C227 by L3709 , L3712 , L3717 , L3718 , L3720 , L1127;
L3729: ( ( Sgm D582 ) . D586 ) = ( ( Sgm D582 ) . D587 ) by L3728 , L3710 , L3711 , L3712 , L3717 , L3723 , L3725 , L3727 , MATRIX_2:8;
thus L3730: thesis by L3729 , L3709 , L3710 , L3713 , L3726 , FUNCT_1:def 4;
end;
theorem
L3731: (for R10 being Nat holds (for R11 being Nat holds (for R18 being Field holds (for R47 being (Matrix of R10 , R11 , R18) holds (for B135 being (Element of ( NAT )) holds (( the_rank_of R47 ) = B135 iff ((ex B136 being  finite (Subset of ( R11 -VectSp_over R18 )) st (B136 is  linearly-independent & B136 c= ( lines R47 ) & ( card B136 ) = B135)) & (for B137 being  finite (Subset of ( R11 -VectSp_over R18 )) holds ((B137 is  linearly-independent & B137 c= ( lines R47 )) implies ( card B137 ) <= B135)))))))))
proof
let R10 being Nat;
let R11 being Nat;
let R18 being Field;
let R47 being (Matrix of R10 , R11 , R18);
let C229 being (Element of ( NAT ));
L3732: ( len R47 ) = R10 by MATRIX_1:def 2;
L3733: ( card ( Seg R11 ) ) = R11 by FINSEQ_1:57;
L3734: (for B138 being  finite (Subset of ( R11 -VectSp_over R18 )) holds ((B138 is  linearly-independent & B138 c= ( lines R47 )) implies ( card B138 ) <= ( the_rank_of R47 )))
proof
let C230 being  finite (Subset of ( R11 -VectSp_over R18 ));
assume that
L3735: C230 is  linearly-independent
and
L3736: C230 c= ( lines R47 );
consider R33 being  without_zero  finite (Subset of ( NAT )) such that L3737: R33 c= ( Seg R10 ) and L3738: ( lines ( Segm (R47 , R33 , ( Seg R11 )) ) ) = C230 and L3739: ( Segm (R47 , R33 , ( Seg R11 )) ) is  without_repeated_line by L3736 , L3664;
set D588 = ( Segm (R47 , R33 , ( Seg R11 )) );
L3740: ( D588 .: ( dom D588 ) ) = ( lines D588 ) by RELAT_1:113;
L3741: ( dom D588 ) , ( D588 .: ( dom D588 ) ) are_equipotent  by L3739 , CARD_1:33;
L3742: ( card C230 ) = ( card ( dom D588 ) ) by L3741 , L3738 , L3740 , CARD_1:5
.= ( card ( Seg ( len D588 ) ) ) by FINSEQ_1:def 3
.= ( card ( Seg ( card R33 ) ) ) by MATRIX_1:def 2
.= ( card R33 ) by FINSEQ_1:57;
per cases ;
suppose L3743: ( card R33 ) = ( 0 );

thus L3744: thesis by L3743 , L3742;
end;
suppose L3745: ( card R33 ) > ( 0 );

L3746: ( Seg R10 ) <> ( {} ) by L3745 , L3737;
L3747: R10 <> ( 0 ) by L3746;
L3748: ( len R47 ) = R10 by L3747 , L1;
L3749: ( width R47 ) = R11 by L1 , L3747;
L3750: [: R33 , ( Seg R11 ) :] c= [: ( Seg ( len R47 ) ) , ( Seg ( width R47 ) ) :] by L3749 , L3737 , L3748 , ZFMISC_1:96;
L3751: [: R33 , ( Seg R11 ) :] c= ( Indices R47 ) by L3750 , FINSEQ_1:def 3;
L3752: ( the_rank_of D588 ) <= ( the_rank_of R47 ) by L3751 , L1783;
thus L3753: thesis by L3752 , L3733 , L3735 , L3738 , L3739 , L3742 , L3487;
end;
end;
L3755:
now
per cases ;
suppose L3756: ( len R47 ) = ( 0 );

L3757: ( width R47 ) = ( 0 ) by L3756 , MATRIX_1:def 3;
thus L3758: ( Seg ( width R47 ) ) c= ( Seg R11 ) by L3757 , FINSEQ_1:5;
end;
suppose L3759: ( len R47 ) > ( 0 );

L3760: R10 > ( 0 ) by L3759 , MATRIX_1:def 2;
thus L3761: ( Seg ( width R47 ) ) c= ( Seg R11 ) by L3760 , L1;
end;
end;
consider R32 being  without_zero  finite (Subset of ( NAT )), R35 being  without_zero  finite (Subset of ( NAT )) such that L3763: [: R32 , R35 :] c= ( Indices R47 ) and L3764: ( card R32 ) = ( card R35 ) and L3765: ( card R32 ) = ( the_rank_of R47 ) and L3766: ( Det ( EqSegm (R47 , R32 , R35) ) ) <> ( 0. R18 ) by L1631;
L3767: R35 c= ( Seg ( width R47 ) ) by L3763 , L3764 , L1518;
L3768: R35 c= ( Seg R11 ) by L3767 , L3755 , XBOOLE_1:1;
set D589 = ( Segm (R47 , R32 , ( Seg R11 )) );
L3769: ( len D589 ) = ( card R32 ) by MATRIX_1:def 2;
L3770: ( Segm (R47 , R32 , R35) ) = ( EqSegm (R47 , R32 , R35) ) by L3764 , L1378;
L3771: ( the_rank_of ( EqSegm (R47 , R32 , R35) ) ) <= ( the_rank_of D589 ) by L3770 , L3768 , L1790;
L3772: ( the_rank_of D589 ) <= ( len D589 ) by L1665;
L3773: ( the_rank_of ( EqSegm (R47 , R32 , R35) ) ) = ( card R32 ) by L3766 , L1887;
L3774: ( the_rank_of D589 ) = ( card R32 ) by L3773 , L3771 , L3769 , L3772 , XXREAL_0:1;
L3775: ( lines D589 ) is  linearly-independent by L3774 , L3487;
L3776: D589 is  without_repeated_line by L3774 , L3487;
L3777: ( dom D589 ) , ( D589 .: ( dom D589 ) ) are_equipotent  by L3776 , CARD_1:33;
L3778: ( D589 .: ( dom D589 ) ) = ( lines D589 ) by RELAT_1:113;
L3779: ( card ( lines D589 ) ) = ( card ( dom D589 ) ) by L3778 , L3777 , CARD_1:5
.= ( card ( Seg ( len D589 ) ) ) by FINSEQ_1:def 3
.= ( card ( Seg ( card R32 ) ) ) by MATRIX_1:def 2
.= ( card R32 ) by FINSEQ_1:57;
L3780: R32 c= ( Seg ( len R47 ) ) by L3763 , L3764 , L1518;
L3781: ( lines D589 ) c= ( lines R47 ) by L3780 , L3732 , L3440;
thus L3782: (( the_rank_of R47 ) = C229 implies ((ex B139 being  finite (Subset of ( R11 -VectSp_over R18 )) st (B139 is  linearly-independent & B139 c= ( lines R47 ) & ( card B139 ) = C229)) & (for B140 being  finite (Subset of ( R11 -VectSp_over R18 )) holds ((B140 is  linearly-independent & B140 c= ( lines R47 )) implies ( card B140 ) <= C229)))) by L3781 , L3765 , L3775 , L3779 , L3733 , L3734;
assume that
L3783: (ex B141 being  finite (Subset of ( R11 -VectSp_over R18 )) st (B141 is  linearly-independent & B141 c= ( lines R47 ) & ( card B141 ) = C229))
and
L3784: (for B142 being  finite (Subset of ( R11 -VectSp_over R18 )) holds ((B142 is  linearly-independent & B142 c= ( lines R47 )) implies ( card B142 ) <= C229));
L3785: C229 <= ( the_rank_of R47 ) by L3734 , L3783;
L3786: ( the_rank_of R47 ) <= C229 by L3765 , L3775 , L3779 , L3780 , L3732 , L3733 , L3784 , L3440;
thus L3787: thesis by L3786 , L3785 , XXREAL_0:1;
end;
