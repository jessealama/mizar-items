:: Some Properties of Binary Relations
::  by Waldemar Korczy\'nski
::
:: Received January 17, 1992
:: Copyright (c) 1992-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies RELAT_1, XBOOLE_0, ZFMISC_1, TARSKI, SYSREL;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, RELAT_1;
 constructors TARSKI, SUBSET_1, RELAT_1, XTUPLE_0;
 registrations XBOOLE_0, RELAT_1;
 requirements BOOLE, SUBSET;
 definitions TARSKI, XBOOLE_0, RELAT_1;
 theorems ZFMISC_1, RELAT_1, TARSKI, XBOOLE_0, XBOOLE_1, XTUPLE_0;

begin
L1: (for R5 being set holds (for R6 being set holds ((R5 <> ( {} ) & R6 <> ( {} )) implies (( dom [: R5 , R6 :] ) = R5 & ( rng [: R5 , R6 :] ) = R6)))) by RELAT_1:160;
theorem
L2: (for R5 being set holds (for R6 being set holds (for R9 being Relation holds (( dom ( R9 /\ [: R5 , R6 :] ) ) c= R5 & ( rng ( R9 /\ [: R5 , R6 :] ) ) c= R6))))
proof
let R5 being set;
let R6 being set;
let R9 being Relation;
per cases ;
suppose L3: (R5 = ( {} ) or R6 = ( {} ));

L4: ( R9 /\ [: R5 , R6 :] ) = ( R9 /\ ( {} ) ) by L3 , ZFMISC_1:90
.= ( {} );
thus L5: thesis by L4 , RELAT_1:38 , XBOOLE_1:2;
end;
suppose L6: (R5 <> ( {} ) & R6 <> ( {} ));

L7: ( rng ( R9 /\ [: R5 , R6 :] ) ) c= ( ( rng R9 ) /\ ( rng [: R5 , R6 :] ) ) by RELAT_1:13;
L8: ( rng ( R9 /\ [: R5 , R6 :] ) ) c= ( ( rng R9 ) /\ R6 ) by L7 , L6 , L1;
L9: ( dom ( R9 /\ [: R5 , R6 :] ) ) c= ( ( dom R9 ) /\ ( dom [: R5 , R6 :] ) ) by RELAT_1:2;
L10: ( dom ( R9 /\ [: R5 , R6 :] ) ) c= ( ( dom R9 ) /\ R5 ) by L9 , L6 , L1;
L11: ( ( dom R9 ) /\ R5 ) c= R5 by XBOOLE_1:17;
thus L12: ( dom ( R9 /\ [: R5 , R6 :] ) ) c= R5 by L11 , L10 , XBOOLE_1:1;
L13: ( ( rng R9 ) /\ R6 ) c= R6 by XBOOLE_1:17;
thus L14: ( rng ( R9 /\ [: R5 , R6 :] ) ) c= R6 by L13 , L8 , XBOOLE_1:1;
end;
end;
theorem
L16: (for R5 being set holds (for R6 being set holds (for R9 being Relation holds (R5 misses R6 implies ( dom ( R9 /\ [: R5 , R6 :] ) ) misses ( rng ( R9 /\ [: R5 , R6 :] ) )))))
proof
let R5 being set;
let R6 being set;
let R9 being Relation;
assume L17: ( R5 /\ R6 ) = ( {} );
L18: ( dom ( R9 /\ [: R5 , R6 :] ) ) c= R5 by L2;
L19: ( ( dom ( R9 /\ [: R5 , R6 :] ) ) /\ ( rng ( R9 /\ [: R5 , R6 :] ) ) ) c= ( R5 /\ ( rng ( R9 /\ [: R5 , R6 :] ) ) ) by L18 , XBOOLE_1:26;
L20: ( R5 /\ ( rng ( R9 /\ [: R5 , R6 :] ) ) ) c= ( R5 /\ R6 ) by L2 , XBOOLE_1:26;
thus L21: ( ( dom ( R9 /\ [: R5 , R6 :] ) ) /\ ( rng ( R9 /\ [: R5 , R6 :] ) ) ) = ( {} ) by L20 , L17 , L19 , XBOOLE_1:1 , XBOOLE_1:3;
end;
theorem
L22: (for R5 being set holds (for R6 being set holds (for R9 being Relation holds (R9 c= [: R5 , R6 :] implies (( dom R9 ) c= R5 & ( rng R9 ) c= R6)))))
proof
let R5 being set;
let R6 being set;
let R9 being Relation;
assume L23: R9 c= [: R5 , R6 :];
L24: ( R9 /\ [: R5 , R6 :] ) = R9 by L23 , XBOOLE_1:28;
thus L25: thesis by L24 , L2;
end;
theorem
L26: (for R5 being set holds (for R6 being set holds (for R9 being Relation holds (R9 c= [: R5 , R6 :] implies ( R9 ~ ) c= [: R6 , R5 :]))))
proof
let R5 being set;
let R6 being set;
let R9 being Relation;
assume L27: R9 c= [: R5 , R6 :];
let R3 being set;
let R4 being set;
assume L28: [ R3 , R4 ] in ( R9 ~ );
L29: [ R4 , R3 ] in R9 by L28 , RELAT_1:def 7;
L30: (R4 in R5 & R3 in R6) by L29 , L27 , ZFMISC_1:87;
thus L31: thesis by L30 , ZFMISC_1:87;
end;
theorem
L32: (for R5 being set holds (for R6 being set holds ( [: R5 , R6 :] ~ ) = [: R6 , R5 :]))
proof
let R5 being set;
let R6 being set;
let R1 being set;
let R2 being set;
thus L33: ([ R1 , R2 ] in ( [: R5 , R6 :] ~ ) implies [ R1 , R2 ] in [: R6 , R5 :])
proof
assume L34: [ R1 , R2 ] in ( [: R5 , R6 :] ~ );
L35: [ R2 , R1 ] in [: R5 , R6 :] by L34 , RELAT_1:def 7;
L36: (R2 in R5 & R1 in R6) by L35 , ZFMISC_1:87;
thus L37: thesis by L36 , ZFMISC_1:87;
end;

assume L38: [ R1 , R2 ] in [: R6 , R5 :];
L39: (R2 in R5 & R1 in R6) by L38 , ZFMISC_1:87;
L40: [ R2 , R1 ] in [: R5 , R6 :] by L39 , ZFMISC_1:87;
thus L41: thesis by L40 , RELAT_1:def 7;
end;
theorem
L42: (for R9 being Relation holds (for R10 being Relation holds (for R11 being Relation holds ( ( R9 \/ R10 ) * R11 ) = ( ( R9 * R11 ) \/ ( R10 * R11 ) ))))
proof
let R9 being Relation;
let R10 being Relation;
let R11 being Relation;
thus L43: ( ( R9 \/ R10 ) * R11 ) = ( ( R9 * R11 ) \/ ( R10 * R11 ) )
proof
let R1 being set;
let R2 being set;
thus L44: ([ R1 , R2 ] in ( ( R9 \/ R10 ) * R11 ) implies [ R1 , R2 ] in ( ( R9 * R11 ) \/ ( R10 * R11 ) ))
proof
assume L45: [ R1 , R2 ] in ( ( R9 \/ R10 ) * R11 );
consider R3 being set such that L46: ([ R1 , R3 ] in ( R9 \/ R10 ) & [ R3 , R2 ] in R11) by L45 , RELAT_1:def 8;
L47: (([ R1 , R3 ] in R9 & [ R3 , R2 ] in R11) or ([ R1 , R3 ] in R10 & [ R3 , R2 ] in R11)) by L46 , XBOOLE_0:def 3;
L48: ([ R1 , R2 ] in ( R9 * R11 ) or [ R1 , R2 ] in ( R10 * R11 )) by L47 , RELAT_1:def 8;
thus L49: thesis by L48 , XBOOLE_0:def 3;
end;

assume L50: [ R1 , R2 ] in ( ( R9 * R11 ) \/ ( R10 * R11 ) );
per cases  by L50 , XBOOLE_0:def 3;
suppose L51: [ R1 , R2 ] in ( R10 * R11 );

consider R3 being set such that L52: [ R1 , R3 ] in R10 and L53: [ R3 , R2 ] in R11 by L51 , RELAT_1:def 8;
L54: [ R1 , R3 ] in ( R9 \/ R10 ) by L52 , XBOOLE_0:def 3;
thus L55: thesis by L54 , L53 , RELAT_1:def 8;
end;
suppose L56: [ R1 , R2 ] in ( R9 * R11 );

consider R3 being set such that L57: [ R1 , R3 ] in R9 and L58: [ R3 , R2 ] in R11 by L56 , RELAT_1:def 8;
L59: [ R1 , R3 ] in ( R9 \/ R10 ) by L57 , XBOOLE_0:def 3;
thus L60: thesis by L59 , L58 , RELAT_1:def 8;
end;
end;

end;
theorem
L44: (for R1 being set holds (for R2 being set holds (for R5 being set holds (for R6 being set holds (for R9 being Relation holds (((R5 misses R6 & R9 c= ( [: R5 , R6 :] \/ [: R6 , R5 :] ) & [ R1 , R2 ] in R9 & R1 in R5) implies ((not R1 in R6) & (not R2 in R5) & R2 in R6)) & ((R5 misses R6 & R9 c= ( [: R5 , R6 :] \/ [: R6 , R5 :] ) & [ R1 , R2 ] in R9 & R2 in R6) implies ((not R2 in R5) & (not R1 in R6) & R1 in R5)) & ((R5 misses R6 & R9 c= ( [: R5 , R6 :] \/ [: R6 , R5 :] ) & [ R1 , R2 ] in R9 & R1 in R6) implies ((not R1 in R5) & (not R2 in R6) & R2 in R5)) & ((R5 misses R6 & R9 c= ( [: R5 , R6 :] \/ [: R6 , R5 :] ) & [ R1 , R2 ] in R9 & R2 in R5) implies ((not R1 in R5) & (not R2 in R6) & R1 in R6))))))))
proof
let R1 being set;
let R2 being set;
let R5 being set;
let R6 being set;
let R9 being Relation;
thus L45: ((R5 misses R6 & R9 c= ( [: R5 , R6 :] \/ [: R6 , R5 :] ) & [ R1 , R2 ] in R9 & R1 in R5) implies ((not R1 in R6) & (not R2 in R5) & R2 in R6))
proof
assume that
L46: R5 misses R6
and
L47: (R9 c= ( [: R5 , R6 :] \/ [: R6 , R5 :] ) & [ R1 , R2 ] in R9)
and
L48: R1 in R5;
L49: (not [ R1 , R2 ] in [: R6 , R5 :])
proof
assume L50: [ R1 , R2 ] in [: R6 , R5 :];
L51: (not R1 in R6) by L46 , L48 , XBOOLE_0:3;
thus L52: thesis by L51 , L50 , ZFMISC_1:87;
end;
L53: ([ R1 , R2 ] in [: R5 , R6 :] implies thesis)
proof
assume L54: [ R1 , R2 ] in [: R5 , R6 :];
L55: (R1 in R5 & R2 in R6) by L54 , ZFMISC_1:87;
thus L56: thesis by L55 , L46 , XBOOLE_0:3;
end;
L57: [: R5 , R6 :] misses [: R6 , R5 :] by L46 , ZFMISC_1:104;
thus L58: thesis by L57 , L47 , L53 , L49 , XBOOLE_0:5;
end;

thus L59: ((R5 misses R6 & R9 c= ( [: R5 , R6 :] \/ [: R6 , R5 :] ) & [ R1 , R2 ] in R9 & R2 in R6) implies ((not R2 in R5) & (not R1 in R6) & R1 in R5))
proof
assume that
L60: R5 misses R6
and
L61: (R9 c= ( [: R5 , R6 :] \/ [: R6 , R5 :] ) & [ R1 , R2 ] in R9)
and
L62: R2 in R6;
L63: (not [ R1 , R2 ] in [: R6 , R5 :])
proof
assume L64: [ R1 , R2 ] in [: R6 , R5 :];
L65: (not R2 in R5) by L60 , L62 , XBOOLE_0:3;
thus L66: thesis by L65 , L64 , ZFMISC_1:87;
end;
L67: ([ R1 , R2 ] in [: R5 , R6 :] implies thesis)
proof
assume L68: [ R1 , R2 ] in [: R5 , R6 :];
L69: (R1 in R5 & R2 in R6) by L68 , ZFMISC_1:87;
thus L70: thesis by L69 , L60 , XBOOLE_0:3;
end;
thus L71: thesis by L67 , L61 , L63 , XBOOLE_0:def 3;
end;

thus L72: ((R5 misses R6 & R9 c= ( [: R5 , R6 :] \/ [: R6 , R5 :] ) & [ R1 , R2 ] in R9 & R1 in R6) implies ((not R1 in R5) & (not R2 in R6) & R2 in R5))
proof
assume that
L73: R5 misses R6
and
L74: (R9 c= ( [: R5 , R6 :] \/ [: R6 , R5 :] ) & [ R1 , R2 ] in R9)
and
L75: R1 in R6;
L76: (not [ R1 , R2 ] in [: R5 , R6 :])
proof
assume L77: [ R1 , R2 ] in [: R5 , R6 :];
L78: (not R1 in R5) by L73 , L75 , XBOOLE_0:3;
thus L79: thesis by L78 , L77 , ZFMISC_1:87;
end;
L80: (([ R1 , R2 ] in [: R6 , R5 :] & (not [ R1 , R2 ] in [: R5 , R6 :])) implies thesis)
proof
assume L81: ([ R1 , R2 ] in [: R6 , R5 :] & (not [ R1 , R2 ] in [: R5 , R6 :]));
L82: ((R1 in R6 & R2 in R5 & (not R1 in R5)) or (R1 in R6 & R2 in R5 & (not R2 in R6))) by L81 , ZFMISC_1:87;
thus L83: thesis by L82 , L73 , XBOOLE_0:3;
end;
thus L84: thesis by L80 , L74 , L76 , XBOOLE_0:def 3;
end;

assume that
L85: R5 misses R6
and
L86: (R9 c= ( [: R5 , R6 :] \/ [: R6 , R5 :] ) & [ R1 , R2 ] in R9)
and
L87: R2 in R5;
L88: (not [ R1 , R2 ] in [: R5 , R6 :])
proof
assume L89: [ R1 , R2 ] in [: R5 , R6 :];
L90: (not R2 in R6) by L85 , L87 , XBOOLE_0:3;
thus L91: thesis by L90 , L89 , ZFMISC_1:87;
end;
L92: ([ R1 , R2 ] in [: R6 , R5 :] implies thesis)
proof
assume L93: [ R1 , R2 ] in [: R6 , R5 :];
L94: (R1 in R6 & R2 in R5) by L93 , ZFMISC_1:87;
thus L95: thesis by L94 , L85 , XBOOLE_0:3;
end;
thus L96: thesis by L92 , L86 , L88 , XBOOLE_0:def 3;
end;
theorem
L97: (for R5 being set holds (for R6 being set holds (for R7 being set holds (for R9 being Relation holds (R9 c= [: R5 , R6 :] implies (( R9 | R7 ) = ( R9 /\ [: R7 , R6 :] ) & ( R7 |` R9 ) = ( R9 /\ [: R5 , R7 :] )))))))
proof
let R5 being set;
let R6 being set;
let R7 being set;
let R9 being Relation;
assume L98: R9 c= [: R5 , R6 :];
thus L99: ( R9 | R7 ) = ( R9 /\ [: R7 , R6 :] )
proof
let R1 being set;
let R2 being set;
thus L100: ([ R1 , R2 ] in ( R9 | R7 ) implies [ R1 , R2 ] in ( R9 /\ [: R7 , R6 :] ))
proof
assume L101: [ R1 , R2 ] in ( R9 | R7 );
L102: R1 in R7 by L101 , RELAT_1:def 11;
L103: [ R1 , R2 ] in R9 by L101 , RELAT_1:def 11;
L104: R2 in R6 by L103 , L98 , ZFMISC_1:87;
L105: [ R1 , R2 ] in [: R7 , R6 :] by L104 , L102 , ZFMISC_1:87;
thus L106: thesis by L105 , L103 , XBOOLE_0:def 4;
end;

thus L107: ([ R1 , R2 ] in ( R9 /\ [: R7 , R6 :] ) implies [ R1 , R2 ] in ( R9 | R7 ))
proof
assume L108: [ R1 , R2 ] in ( R9 /\ [: R7 , R6 :] );
L109: [ R1 , R2 ] in [: R7 , R6 :] by L108 , XBOOLE_0:def 4;
L110: R1 in R7 by L109 , ZFMISC_1:87;
L111: [ R1 , R2 ] in R9 by L108 , XBOOLE_0:def 4;
thus L112: thesis by L111 , L110 , RELAT_1:def 11;
end;

end;

let R1 being set;
let R2 being set;
thus L108: ([ R1 , R2 ] in ( R7 |` R9 ) implies [ R1 , R2 ] in ( R9 /\ [: R5 , R7 :] ))
proof
assume L109: [ R1 , R2 ] in ( R7 |` R9 );
L110: R2 in R7 by L109 , RELAT_1:def 12;
L111: [ R1 , R2 ] in R9 by L109 , RELAT_1:def 12;
L112: R1 in R5 by L111 , L98 , ZFMISC_1:87;
L113: [ R1 , R2 ] in [: R5 , R7 :] by L112 , L110 , ZFMISC_1:87;
thus L114: thesis by L113 , L111 , XBOOLE_0:def 4;
end;

assume L115: [ R1 , R2 ] in ( R9 /\ [: R5 , R7 :] );
L116: [ R1 , R2 ] in [: R5 , R7 :] by L115 , XBOOLE_0:def 4;
L117: R2 in R7 by L116 , ZFMISC_1:87;
L118: [ R1 , R2 ] in R9 by L115 , XBOOLE_0:def 4;
thus L119: thesis by L118 , L117 , RELAT_1:def 12;
end;
theorem
L120: (for R5 being set holds (for R6 being set holds (for R7 being set holds (for R8 being set holds (for R9 being Relation holds ((R9 c= [: R5 , R6 :] & R5 = ( R7 \/ R8 )) implies R9 = ( ( R9 | R7 ) \/ ( R9 | R8 ) )))))))
proof
let R5 being set;
let R6 being set;
let R7 being set;
let R8 being set;
let R9 being Relation;
assume that
L121: R9 c= [: R5 , R6 :]
and
L122: R5 = ( R7 \/ R8 );
thus L123: R9 = ( R9 /\ [: R5 , R6 :] ) by L121 , XBOOLE_1:28
.= ( R9 /\ ( [: R7 , R6 :] \/ [: R8 , R6 :] ) ) by L122 , ZFMISC_1:97
.= ( ( R9 /\ [: R7 , R6 :] ) \/ ( R9 /\ [: R8 , R6 :] ) ) by XBOOLE_1:23
.= ( ( R9 | R7 ) \/ ( R9 /\ [: R8 , R6 :] ) ) by L121 , L97
.= ( ( R9 | R7 ) \/ ( R9 | R8 ) ) by L121 , L97;
end;
theorem
L124: (for R5 being set holds (for R6 being set holds (for R9 being Relation holds ((R5 misses R6 & R9 c= ( [: R5 , R6 :] \/ [: R6 , R5 :] )) implies ( R9 | R5 ) c= [: R5 , R6 :]))))
proof
let R5 being set;
let R6 being set;
let R9 being Relation;
assume that
L125: ( R5 /\ R6 ) = ( {} )
and
L126: R9 c= ( [: R5 , R6 :] \/ [: R6 , R5 :] );
L127: ( R9 | R5 ) = ( R9 /\ [: R5 , ( rng R9 ) :] ) by RELAT_1:67;
L128: ( R9 | R5 ) c= ( ( [: R5 , R6 :] \/ [: R6 , R5 :] ) /\ [: R5 , ( rng R9 ) :] ) by L127 , L126 , XBOOLE_1:26;
L129: ( R9 | R5 ) c= ( ( [: R5 , R6 :] /\ [: R5 , ( rng R9 ) :] ) \/ ( [: R6 , R5 :] /\ [: R5 , ( rng R9 ) :] ) ) by L128 , XBOOLE_1:23;
L130: ( [: R6 , R5 :] /\ [: R5 , ( rng R9 ) :] ) = [: ( R5 /\ R6 ) , ( R5 /\ ( rng R9 ) ) :] by ZFMISC_1:100
.= ( {} ) by L125 , ZFMISC_1:90;
thus L131: thesis by L130 , L129 , XBOOLE_1:18;
end;
theorem
L132: (for R9 being Relation holds (for R10 being Relation holds (R9 c= R10 implies ( R9 ~ ) c= ( R10 ~ ))))
proof
let R9 being Relation;
let R10 being Relation;
assume L133: R9 c= R10;
L134: ( R9 \/ R10 ) = R10 by L133 , XBOOLE_1:12;
L135: ( ( R9 ~ ) \/ ( R10 ~ ) ) = ( R10 ~ ) by L134 , RELAT_1:23;
thus L136: thesis by L135 , XBOOLE_1:7;
end;
L137: (for R5 being set holds ( id R5 ) c= [: R5 , R5 :])
proof
let R5 being set;
let R1 being set;
let R2 being set;
assume L138: [ R1 , R2 ] in ( id R5 );
L139: (R1 in R5 & R1 = R2) by L138 , RELAT_1:def 10;
thus L140: thesis by L139 , ZFMISC_1:87;
end;
theorem
L141: (for R5 being set holds ( ( id R5 ) * ( id R5 ) ) = ( id R5 ))
proof
let R5 being set;
L142: ( dom ( id R5 ) ) = R5;
thus L143: thesis by L142 , RELAT_1:51;
end;
theorem
L144: (for R1 being set holds ( id { R1 } ) = { [ R1 , R1 ] })
proof
let R1 being set;
L145: R1 in { R1 } by TARSKI:def 1;
L146: [ R1 , R1 ] in ( id { R1 } ) by L145 , RELAT_1:def 10;
L147: { [ R1 , R1 ] } c= ( id { R1 } ) by L146 , ZFMISC_1:31;
L148: [: { R1 } , { R1 } :] = { [ R1 , R1 ] } by ZFMISC_1:29;
L149: ( id { R1 } ) c= { [ R1 , R1 ] } by L148 , L137;
thus L150: thesis by L149 , L147 , XBOOLE_0:def 10;
end;
theorem
L151: (for R5 being set holds (for R6 being set holds (( id ( R5 \/ R6 ) ) = ( ( id R5 ) \/ ( id R6 ) ) & ( id ( R5 /\ R6 ) ) = ( ( id R5 ) /\ ( id R6 ) ) & ( id ( R5 \ R6 ) ) = ( ( id R5 ) \ ( id R6 ) ))))
proof
let R5 being set;
let R6 being set;
thus L152: ( id ( R5 \/ R6 ) ) = ( ( id R5 ) \/ ( id R6 ) )
proof
let R1 being set;
let R2 being set;
thus L153: ([ R1 , R2 ] in ( id ( R5 \/ R6 ) ) implies [ R1 , R2 ] in ( ( id R5 ) \/ ( id R6 ) ))
proof
assume L154: [ R1 , R2 ] in ( id ( R5 \/ R6 ) );
L155: R1 in ( R5 \/ R6 ) by L154 , RELAT_1:def 10;
L156: (R1 in R5 or R1 in R6) by L155 , XBOOLE_0:def 3;
L157: R1 = R2 by L154 , RELAT_1:def 10;
L158: ([ R1 , R2 ] in ( id R5 ) or [ R1 , R2 ] in ( id R6 )) by L157 , L156 , RELAT_1:def 10;
thus L159: thesis by L158 , XBOOLE_0:def 3;
end;

assume L160: [ R1 , R2 ] in ( ( id R5 ) \/ ( id R6 ) );
L161: ([ R1 , R2 ] in ( id R5 ) or [ R1 , R2 ] in ( id R6 )) by L160 , XBOOLE_0:def 3;
L162: (R1 in R5 or R1 in R6) by L161 , RELAT_1:def 10;
L163: R1 in ( R5 \/ R6 ) by L162 , XBOOLE_0:def 3;
L164: R1 = R2 by L161 , RELAT_1:def 10;
thus L165: thesis by L164 , L163 , RELAT_1:def 10;
end;

thus L166: ( id ( R5 /\ R6 ) ) = ( ( id R5 ) /\ ( id R6 ) )
proof
let R1 being set;
let R2 being set;
thus L167: ([ R1 , R2 ] in ( id ( R5 /\ R6 ) ) implies [ R1 , R2 ] in ( ( id R5 ) /\ ( id R6 ) ))
proof
assume L168: [ R1 , R2 ] in ( id ( R5 /\ R6 ) );
L169: R1 in ( R5 /\ R6 ) by L168 , RELAT_1:def 10;
L170: R1 = R2 by L168 , RELAT_1:def 10;
L171: R1 in R6 by L169 , XBOOLE_0:def 4;
L172: [ R1 , R2 ] in ( id R6 ) by L171 , L170 , RELAT_1:def 10;
L173: R1 in R5 by L169 , XBOOLE_0:def 4;
L174: [ R1 , R2 ] in ( id R5 ) by L173 , L170 , RELAT_1:def 10;
thus L175: thesis by L174 , L172 , XBOOLE_0:def 4;
end;

assume L176: [ R1 , R2 ] in ( ( id R5 ) /\ ( id R6 ) );
L177: [ R1 , R2 ] in ( id R5 ) by L176 , XBOOLE_0:def 4;
L178: R1 = R2 by L177 , RELAT_1:def 10;
L179: [ R1 , R2 ] in ( id R6 ) by L176 , XBOOLE_0:def 4;
L180: R1 in R6 by L179 , RELAT_1:def 10;
L181: R1 in R5 by L177 , RELAT_1:def 10;
L182: R1 in ( R5 /\ R6 ) by L181 , L180 , XBOOLE_0:def 4;
thus L183: thesis by L182 , L178 , RELAT_1:def 10;
end;

let R1 being set;
let R2 being set;
thus L184: ([ R1 , R2 ] in ( id ( R5 \ R6 ) ) implies [ R1 , R2 ] in ( ( id R5 ) \ ( id R6 ) ))
proof
assume L185: [ R1 , R2 ] in ( id ( R5 \ R6 ) );
L186: R1 in ( R5 \ R6 ) by L185 , RELAT_1:def 10;
L187: (not R1 in R6) by L186 , XBOOLE_0:def 5;
L188: (not [ R1 , R2 ] in ( id R6 )) by L187 , RELAT_1:def 10;
L189: R1 = R2 by L185 , RELAT_1:def 10;
L190: [ R1 , R2 ] in ( id R5 ) by L189 , L186 , RELAT_1:def 10;
thus L191: thesis by L190 , L188 , XBOOLE_0:def 5;
end;

assume L192: [ R1 , R2 ] in ( ( id R5 ) \ ( id R6 ) );
L193: R1 = R2 by L192 , RELAT_1:def 10;
L194: (not [ R1 , R2 ] in ( id R6 )) by L192 , XBOOLE_0:def 5;
L195: (not (R1 in R6 & R1 = R2)) by L194 , RELAT_1:def 10;
L196: R1 in R5 by L192 , RELAT_1:def 10;
L197: R1 in ( R5 \ R6 ) by L196 , L192 , L195 , RELAT_1:def 10 , XBOOLE_0:def 5;
thus L198: thesis by L197 , L193 , RELAT_1:def 10;
end;
theorem
L199: (for R5 being set holds (for R6 being set holds (R5 c= R6 implies ( id R5 ) c= ( id R6 ))))
proof
let R5 being set;
let R6 being set;
assume L200: R5 c= R6;
L201: ( R5 \/ R6 ) = R6 by L200 , XBOOLE_1:12;
L202: ( ( id R5 ) \/ ( id R6 ) ) = ( id R6 ) by L201 , L151;
thus L203: thesis by L202 , XBOOLE_1:7;
end;
theorem
L204: (for R5 being set holds (for R6 being set holds ( ( id ( R5 \ R6 ) ) \ ( id R5 ) ) = ( {} )))
proof
let R5 being set;
let R6 being set;
L205: ( id ( R5 \ R6 ) ) c= ( id R5 ) by L199;
thus L206: thesis by L205 , XBOOLE_1:37;
end;
theorem
L207: (for R9 being Relation holds (R9 c= ( id ( dom R9 ) ) implies R9 = ( id ( dom R9 ) )))
proof
let R9 being Relation;
assume L208: R9 c= ( id ( dom R9 ) );
let R1 being set;
let R2 being set;
thus L209: ([ R1 , R2 ] in R9 implies [ R1 , R2 ] in ( id ( dom R9 ) )) by L208;
assume L210: [ R1 , R2 ] in ( id ( dom R9 ) );
L211: R1 in ( dom R9 ) by L210 , RELAT_1:def 10;
L212: (ex R3 being set st [ R1 , R3 ] in R9) by L211 , XTUPLE_0:def 12;
L213: R1 = R2 by L210 , RELAT_1:def 10;
thus L214: thesis by L213 , L208 , L212 , RELAT_1:def 10;
end;
theorem
L215: (for R5 being set holds (for R9 being Relation holds (( id R5 ) c= ( R9 \/ ( R9 ~ ) ) implies (( id R5 ) c= R9 & ( id R5 ) c= ( R9 ~ )))))
proof
let R5 being set;
let R9 being Relation;
assume L216: ( id R5 ) c= ( R9 \/ ( R9 ~ ) );
L217: (for R1 being set holds (R1 in R5 implies ([ R1 , R1 ] in R9 & [ R1 , R1 ] in ( R9 ~ ))))
proof
let R1 being set;
assume L218: R1 in R5;
L219: [ R1 , R1 ] in ( id R5 ) by L218 , RELAT_1:def 10;
L220: ([ R1 , R1 ] in R9 or [ R1 , R1 ] in ( R9 ~ )) by L219 , L216 , XBOOLE_0:def 3;
thus L221: [ R1 , R1 ] in R9 by L220 , RELAT_1:def 7;
thus L222: thesis by L220 , RELAT_1:def 7;
end;
L223: ((for R1 being set holds (R1 in R5 implies [ R1 , R1 ] in R9)) & (for R1 being set holds (R1 in R5 implies [ R1 , R1 ] in ( R9 ~ )))) by L217;
thus L224: thesis by L223 , RELAT_1:47;
end;
theorem
L225: (for R5 being set holds (for R9 being Relation holds (( id R5 ) c= R9 implies ( id R5 ) c= ( R9 ~ ))))
proof
let R5 being set;
let R9 being Relation;
assume L226: ( id R5 ) c= R9;
L227: (for R1 being set holds (R1 in R5 implies [ R1 , R1 ] in ( R9 ~ )))
proof
let R1 being set;
assume L228: R1 in R5;
L229: [ R1 , R1 ] in ( id R5 ) by L228 , RELAT_1:def 10;
thus L230: thesis by L229 , L226 , RELAT_1:def 7;
end;
thus L231: thesis by L227 , RELAT_1:47;
end;
theorem
L232: (for R5 being set holds (for R9 being Relation holds (R9 c= [: R5 , R5 :] implies (( R9 \ ( id ( dom R9 ) ) ) = ( R9 \ ( id R5 ) ) & ( R9 \ ( id ( rng R9 ) ) ) = ( R9 \ ( id R5 ) )))))
proof
let R5 being set;
let R9 being Relation;
L233: ( R9 \ ( id ( dom R9 ) ) ) c= ( R9 \ ( id R5 ) )
proof
let R1 being set;
let R2 being set;
assume L234: [ R1 , R2 ] in ( R9 \ ( id ( dom R9 ) ) );
L235: (not [ R1 , R2 ] in ( id ( dom R9 ) )) by L234 , XBOOLE_0:def 5;
L236: (not [ R1 , R2 ] in ( id R5 ))
proof
assume L237: [ R1 , R2 ] in ( id R5 );
L238: R1 = R2 by L237 , RELAT_1:def 10;
L239: R1 in ( dom R9 ) by L234 , XTUPLE_0:def 12;
thus L240: contradiction by L239 , L235 , L238 , RELAT_1:def 10;
end;
thus L241: thesis by L236 , L234 , XBOOLE_0:def 5;
end;
L242: ( R9 \ ( id ( rng R9 ) ) ) c= ( R9 \ ( id R5 ) )
proof
let R1 being set;
let R2 being set;
assume L243: [ R1 , R2 ] in ( R9 \ ( id ( rng R9 ) ) );
L244: (not [ R1 , R2 ] in ( id ( rng R9 ) )) by L243 , XBOOLE_0:def 5;
L245: (not [ R1 , R2 ] in ( id R5 ))
proof
assume L246: [ R1 , R2 ] in ( id R5 );
L247: R1 = R2 by L246 , RELAT_1:def 10;
L248: R2 in ( rng R9 ) by L243 , XTUPLE_0:def 13;
thus L249: contradiction by L248 , L244 , L247 , RELAT_1:def 10;
end;
thus L250: thesis by L245 , L243 , XBOOLE_0:def 5;
end;
assume L251: R9 c= [: R5 , R5 :];
L252: ( id ( dom R9 ) ) c= ( id R5 ) by L251 , L22 , L199;
L253: ( R9 \ ( id R5 ) ) c= ( R9 \ ( id ( dom R9 ) ) ) by L252 , XBOOLE_1:34;
thus L254: ( R9 \ ( id ( dom R9 ) ) ) = ( R9 \ ( id R5 ) ) by L253 , L233 , XBOOLE_0:def 10;
L255: ( id ( rng R9 ) ) c= ( id R5 ) by L251 , L22 , L199;
L256: ( R9 \ ( id R5 ) ) c= ( R9 \ ( id ( rng R9 ) ) ) by L255 , XBOOLE_1:34;
thus L257: thesis by L256 , L242 , XBOOLE_0:def 10;
end;
theorem
L258: (for R5 being set holds (for R9 being Relation holds ((( ( id R5 ) * ( R9 \ ( id R5 ) ) ) = ( {} ) implies ( dom ( R9 \ ( id R5 ) ) ) = ( ( dom R9 ) \ R5 )) & (( ( R9 \ ( id R5 ) ) * ( id R5 ) ) = ( {} ) implies ( rng ( R9 \ ( id R5 ) ) ) = ( ( rng R9 ) \ R5 )))))
proof
let R5 being set;
let R9 being Relation;
thus L259: (( ( id R5 ) * ( R9 \ ( id R5 ) ) ) = ( {} ) implies ( dom ( R9 \ ( id R5 ) ) ) = ( ( dom R9 ) \ R5 ))
proof
assume L260: ( ( id R5 ) * ( R9 \ ( id R5 ) ) ) = ( {} );
L261: ( dom ( R9 \ ( id R5 ) ) ) c= ( ( dom R9 ) \ R5 )
proof
let R1 being set;
L262: ((R1 in ( dom R9 ) & (not R1 in R5)) implies thesis) by XBOOLE_0:def 5;
assume L263: R1 in ( dom ( R9 \ ( id R5 ) ) );
L264: (ex R2 being set st [ R1 , R2 ] in ( R9 \ ( id R5 ) )) by L263 , XTUPLE_0:def 12;
L265: (not R1 in R5)
proof
assume L266: R1 in R5;
L267: [ R1 , R1 ] in ( id R5 ) by L266 , RELAT_1:def 10;
thus L268: thesis by L267 , L260 , L264 , RELAT_1:def 8;
end;
thus L269: thesis by L265 , L264 , L262 , XTUPLE_0:def 12;
end;
L270: ( ( dom R9 ) \ ( dom ( id R5 ) ) ) c= ( dom ( R9 \ ( id R5 ) ) ) by RELAT_1:3;
L271: ( ( dom R9 ) \ R5 ) c= ( dom ( R9 \ ( id R5 ) ) ) by L270;
thus L272: thesis by L271 , L261 , XBOOLE_0:def 10;
end;

thus L273: (( ( R9 \ ( id R5 ) ) * ( id R5 ) ) = ( {} ) implies ( rng ( R9 \ ( id R5 ) ) ) = ( ( rng R9 ) \ R5 ))
proof
assume L274: ( ( R9 \ ( id R5 ) ) * ( id R5 ) ) = ( {} );
L275: ( rng ( R9 \ ( id R5 ) ) ) c= ( ( rng R9 ) \ R5 )
proof
let R2 being set;
L276: ((R2 in ( rng R9 ) & (not R2 in R5)) implies thesis) by XBOOLE_0:def 5;
assume L277: R2 in ( rng ( R9 \ ( id R5 ) ) );
L278: (ex R1 being set st [ R1 , R2 ] in ( R9 \ ( id R5 ) )) by L277 , XTUPLE_0:def 13;
L279: (not R2 in R5)
proof
assume L280: R2 in R5;
L281: [ R2 , R2 ] in ( id R5 ) by L280 , RELAT_1:def 10;
thus L282: thesis by L281 , L274 , L278 , RELAT_1:def 8;
end;
thus L283: thesis by L279 , L278 , L276 , XTUPLE_0:def 13;
end;
L284: ( ( rng R9 ) \ ( rng ( id R5 ) ) ) c= ( rng ( R9 \ ( id R5 ) ) ) by RELAT_1:14;
L285: ( ( rng R9 ) \ R5 ) c= ( rng ( R9 \ ( id R5 ) ) ) by L284;
thus L286: thesis by L285 , L275 , XBOOLE_0:def 10;
end;

end;
theorem
L274: (for R9 being Relation holds (((R9 c= ( R9 * R9 ) & ( R9 * ( R9 \ ( id ( rng R9 ) ) ) ) = ( {} )) implies ( id ( rng R9 ) ) c= R9) & ((R9 c= ( R9 * R9 ) & ( ( R9 \ ( id ( dom R9 ) ) ) * R9 ) = ( {} )) implies ( id ( dom R9 ) ) c= R9)))
proof
let R9 being Relation;
thus L275: ((R9 c= ( R9 * R9 ) & ( R9 * ( R9 \ ( id ( rng R9 ) ) ) ) = ( {} )) implies ( id ( rng R9 ) ) c= R9)
proof
assume that
L276: R9 c= ( R9 * R9 )
and
L277: ( R9 * ( R9 \ ( id ( rng R9 ) ) ) ) = ( {} );
L278: (for R2 being set holds (R2 in ( rng R9 ) implies [ R2 , R2 ] in R9))
proof
let R2 being set;
assume L279: R2 in ( rng R9 );
consider R1 being set such that L280: [ R1 , R2 ] in R9 by L279 , XTUPLE_0:def 13;
consider R3 being set such that L281: [ R1 , R3 ] in R9 and L282: [ R3 , R2 ] in R9 by L276 , L280 , RELAT_1:def 8;
L283: R3 = R2
proof
assume L284: R3 <> R2;
L285: (not [ R3 , R2 ] in ( id ( rng R9 ) )) by L284 , RELAT_1:def 10;
L286: [ R3 , R2 ] in ( R9 \ ( id ( rng R9 ) ) ) by L285 , L282 , XBOOLE_0:def 5;
thus L287: contradiction by L286 , L277 , L281 , RELAT_1:def 8;
end;
thus L288: thesis by L283 , L282;
end;
thus L289: thesis by L278 , RELAT_1:47;
end;

assume that
L290: R9 c= ( R9 * R9 )
and
L291: ( ( R9 \ ( id ( dom R9 ) ) ) * R9 ) = ( {} );
L292: (for R1 being set holds (R1 in ( dom R9 ) implies [ R1 , R1 ] in R9))
proof
let R1 being set;
assume L293: R1 in ( dom R9 );
consider R2 being set such that L294: [ R1 , R2 ] in R9 by L293 , XTUPLE_0:def 12;
consider R3 being set such that L295: [ R1 , R3 ] in R9 and L296: [ R3 , R2 ] in R9 by L290 , L294 , RELAT_1:def 8;
L297: R3 = R1
proof
assume L298: R3 <> R1;
L299: (not [ R1 , R3 ] in ( id ( dom R9 ) )) by L298 , RELAT_1:def 10;
L300: [ R1 , R3 ] in ( R9 \ ( id ( dom R9 ) ) ) by L299 , L295 , XBOOLE_0:def 5;
thus L301: contradiction by L300 , L291 , L296 , RELAT_1:def 8;
end;
thus L302: thesis by L297 , L295;
end;
thus L303: thesis by L292 , RELAT_1:47;
end;
theorem
L304: (for R9 being Relation holds (((R9 c= ( R9 * R9 ) & ( R9 * ( R9 \ ( id ( rng R9 ) ) ) ) = ( {} )) implies ( R9 /\ ( id ( rng R9 ) ) ) = ( id ( rng R9 ) )) & ((R9 c= ( R9 * R9 ) & ( ( R9 \ ( id ( dom R9 ) ) ) * R9 ) = ( {} )) implies ( R9 /\ ( id ( dom R9 ) ) ) = ( id ( dom R9 ) )))) by L274 , XBOOLE_1:28;
theorem
L305: (for R5 being set holds (for R9 being Relation holds ((( R9 * ( R9 \ ( id R5 ) ) ) = ( {} ) implies ( R9 * ( R9 \ ( id ( rng R9 ) ) ) ) = ( {} )) & (( ( R9 \ ( id R5 ) ) * R9 ) = ( {} ) implies ( ( R9 \ ( id ( dom R9 ) ) ) * R9 ) = ( {} )))))
proof
let R5 being set;
let R9 being Relation;
thus L306: (( R9 * ( R9 \ ( id R5 ) ) ) = ( {} ) implies ( R9 * ( R9 \ ( id ( rng R9 ) ) ) ) = ( {} ))
proof
assume that
L307: ( R9 * ( R9 \ ( id R5 ) ) ) = ( {} )
and
L308: ( R9 * ( R9 \ ( id ( rng R9 ) ) ) ) <> ( {} );
consider R1 being set, R2 being set such that L309: [ R1 , R2 ] in ( R9 * ( R9 \ ( id ( rng R9 ) ) ) ) by L308 , RELAT_1:37;
consider R3 being set such that L310: [ R1 , R3 ] in R9 and L311: [ R3 , R2 ] in ( R9 \ ( id ( rng R9 ) ) ) by L309 , RELAT_1:def 8;
L312: (R3 in ( rng R9 ) & (not [ R3 , R2 ] in ( id ( rng R9 ) ))) by L310 , L311 , XBOOLE_0:def 5 , XTUPLE_0:def 13;
L313: R3 <> R2 by L312 , RELAT_1:def 10;
L314: (not [ R3 , R2 ] in ( id R5 )) by L313 , RELAT_1:def 10;
L315: [ R3 , R2 ] in ( R9 \ ( id R5 ) ) by L314 , L311 , XBOOLE_0:def 5;
thus L316: contradiction by L315 , L307 , L310 , RELAT_1:def 8;
end;

assume that
L317: ( ( R9 \ ( id R5 ) ) * R9 ) = ( {} )
and
L318: ( ( R9 \ ( id ( dom R9 ) ) ) * R9 ) <> ( {} );
consider R1 being set, R2 being set such that L319: [ R1 , R2 ] in ( ( R9 \ ( id ( dom R9 ) ) ) * R9 ) by L318 , RELAT_1:37;
consider R3 being set such that L320: [ R1 , R3 ] in ( R9 \ ( id ( dom R9 ) ) ) and L321: [ R3 , R2 ] in R9 by L319 , RELAT_1:def 8;
L322: (not [ R1 , R3 ] in ( id ( dom R9 ) )) by L320 , XBOOLE_0:def 5;
L323: ((not R3 in ( dom R9 )) or R1 <> R3) by L322 , RELAT_1:def 10;
L324: (not [ R1 , R3 ] in ( id R5 )) by L323 , L321 , RELAT_1:def 10 , XTUPLE_0:def 12;
L325: [ R1 , R3 ] in ( R9 \ ( id R5 ) ) by L324 , L320 , XBOOLE_0:def 5;
thus L326: contradiction by L325 , L317 , L321 , RELAT_1:def 8;
end;
definition
let R9 being Relation;
func CL R9 -> Relation equals 
( R9 /\ ( id ( dom R9 ) ) );
correctness;
end;
theorem
L328: (for R1 being set holds (for R2 being set holds (for R9 being Relation holds ([ R1 , R2 ] in ( CL R9 ) implies (R1 in ( dom ( CL R9 ) ) & R1 = R2)))))
proof
let R1 being set;
let R2 being set;
let R9 being Relation;
assume L329: [ R1 , R2 ] in ( CL R9 );
L330: [ R1 , R2 ] in ( id ( dom R9 ) ) by L329 , XBOOLE_0:def 4;
thus L331: thesis by L330 , L329 , RELAT_1:def 10 , XTUPLE_0:def 12;
end;
theorem
L332: (for R9 being Relation holds ( dom ( CL R9 ) ) = ( rng ( CL R9 ) ))
proof
let R9 being Relation;
thus L333: ( dom ( CL R9 ) ) c= ( rng ( CL R9 ) )
proof
let R1 being set;
assume L334: R1 in ( dom ( CL R9 ) );
consider R2 being set such that L335: [ R1 , R2 ] in ( CL R9 ) by L334 , XTUPLE_0:def 12;
L336: [ R1 , R2 ] in ( id ( dom R9 ) ) by L335 , XBOOLE_0:def 4;
L337: [ R1 , R1 ] in ( CL R9 ) by L336 , L335 , RELAT_1:def 10;
thus L338: thesis by L337 , XTUPLE_0:def 13;
end;

let R1 being set;
assume L339: R1 in ( rng ( CL R9 ) );
consider R2 being set such that L340: [ R2 , R1 ] in ( CL R9 ) by L339 , XTUPLE_0:def 13;
L341: [ R2 , R1 ] in ( id ( dom R9 ) ) by L340 , XBOOLE_0:def 4;
L342: [ R1 , R1 ] in ( CL R9 ) by L341 , L340 , RELAT_1:def 10;
thus L343: thesis by L342 , XTUPLE_0:def 12;
end;
theorem
L344: (for R1 being set holds (for R9 being Relation holds ((R1 in ( dom ( CL R9 ) ) iff (R1 in ( dom R9 ) & [ R1 , R1 ] in R9)) & (R1 in ( rng ( CL R9 ) ) iff (R1 in ( dom R9 ) & [ R1 , R1 ] in R9)) & (R1 in ( rng ( CL R9 ) ) iff (R1 in ( rng R9 ) & [ R1 , R1 ] in R9)) & (R1 in ( dom ( CL R9 ) ) iff (R1 in ( rng R9 ) & [ R1 , R1 ] in R9)))))
proof
let R1 being set;
let R9 being Relation;
L345: ((R1 in ( dom R9 ) & [ R1 , R1 ] in R9) implies R1 in ( dom ( CL R9 ) ))
proof
assume that
L346: R1 in ( dom R9 )
and
L347: [ R1 , R1 ] in R9;
L348: [ R1 , R1 ] in ( id ( dom R9 ) ) by L346 , RELAT_1:def 10;
L349: [ R1 , R1 ] in ( R9 /\ ( id ( dom R9 ) ) ) by L348 , L347 , XBOOLE_0:def 4;
thus L350: thesis by L349 , XTUPLE_0:def 12;
end;
L351: (R1 in ( dom ( CL R9 ) ) implies (R1 in ( dom R9 ) & [ R1 , R1 ] in R9))
proof
assume L352: R1 in ( dom ( CL R9 ) );
consider R2 being set such that L353: [ R1 , R2 ] in ( CL R9 ) by L352 , XTUPLE_0:def 12;
L354: ([ R1 , R2 ] in R9 & [ R1 , R2 ] in ( id ( dom R9 ) )) by L353 , XBOOLE_0:def 4;
thus L355: thesis by L354 , RELAT_1:def 10;
end;
thus L356: (R1 in ( dom ( CL R9 ) ) iff (R1 in ( dom R9 ) & [ R1 , R1 ] in R9)) by L351 , L345;
thus L357: (R1 in ( rng ( CL R9 ) ) iff (R1 in ( dom R9 ) & [ R1 , R1 ] in R9)) by L351 , L345 , L332;
thus L358: (R1 in ( rng ( CL R9 ) ) iff (R1 in ( rng R9 ) & [ R1 , R1 ] in R9)) by L351 , L345 , L332 , XTUPLE_0:def 12 , XTUPLE_0:def 13;
thus L359: thesis by L351 , L345 , XTUPLE_0:def 12 , XTUPLE_0:def 13;
end;
theorem
L360: (for R9 being Relation holds ( CL R9 ) = ( id ( dom ( CL R9 ) ) ))
proof
let R9 being Relation;
let R1 being set;
let R2 being set;
thus L361: ([ R1 , R2 ] in ( CL R9 ) implies [ R1 , R2 ] in ( id ( dom ( CL R9 ) ) ))
proof
assume L362: [ R1 , R2 ] in ( CL R9 );
L363: [ R1 , R2 ] in ( id ( dom R9 ) ) by L362 , XBOOLE_0:def 4;
L364: R1 = R2 by L363 , RELAT_1:def 10;
L365: R1 in ( dom ( CL R9 ) ) by L362 , XTUPLE_0:def 12;
thus L366: thesis by L365 , L364 , RELAT_1:def 10;
end;

assume L367: [ R1 , R2 ] in ( id ( dom ( CL R9 ) ) );
L368: R1 in ( dom ( CL R9 ) ) by L367 , RELAT_1:def 10;
L369: (ex R3 being set st [ R1 , R3 ] in ( CL R9 )) by L368 , XTUPLE_0:def 12;
L370: R1 = R2 by L367 , RELAT_1:def 10;
thus L371: thesis by L370 , L369 , L328;
end;
theorem
L372: (for R1 being set holds (for R2 being set holds (for R9 being Relation holds (((( R9 * R9 ) = R9 & ( R9 * ( R9 \ ( CL R9 ) ) ) = ( {} ) & [ R1 , R2 ] in R9 & R1 <> R2) implies (R1 in ( ( dom R9 ) \ ( dom ( CL R9 ) ) ) & R2 in ( dom ( CL R9 ) ))) & ((( R9 * R9 ) = R9 & ( ( R9 \ ( CL R9 ) ) * R9 ) = ( {} ) & [ R1 , R2 ] in R9 & R1 <> R2) implies (R2 in ( ( rng R9 ) \ ( dom ( CL R9 ) ) ) & R1 in ( dom ( CL R9 ) )))))))
proof
let R1 being set;
let R2 being set;
let R9 being Relation;
thus L373: ((( R9 * R9 ) = R9 & ( R9 * ( R9 \ ( CL R9 ) ) ) = ( {} ) & [ R1 , R2 ] in R9 & R1 <> R2) implies (R1 in ( ( dom R9 ) \ ( dom ( CL R9 ) ) ) & R2 in ( dom ( CL R9 ) )))
proof
assume that
L374: ( R9 * R9 ) = R9
and
L375: ( R9 * ( R9 \ ( CL R9 ) ) ) = ( {} )
and
L376: [ R1 , R2 ] in R9
and
L377: R1 <> R2;
L378: R2 in ( rng R9 ) by L376 , XTUPLE_0:def 13;
consider R3 being set such that L379: [ R1 , R3 ] in R9 and L380: [ R3 , R2 ] in R9 by L374 , L376 , RELAT_1:def 8;
L381: R3 = R2
proof
assume L382: R3 <> R2;
L383: (not [ R3 , R2 ] in ( id ( dom R9 ) )) by L382 , RELAT_1:def 10;
L384: (not [ R3 , R2 ] in ( R9 /\ ( id ( dom R9 ) ) )) by L383 , XBOOLE_0:def 4;
L385: [ R3 , R2 ] in ( R9 \ ( CL R9 ) ) by L384 , L380 , XBOOLE_0:def 5;
thus L386: thesis by L385 , L375 , L379 , RELAT_1:def 8;
end;
L387: (not [ R1 , R2 ] in ( id ( dom R9 ) )) by L377 , RELAT_1:def 10;
L388: (not [ R1 , R2 ] in ( R9 /\ ( id ( dom R9 ) ) )) by L387 , XBOOLE_0:def 4;
L389: [ R1 , R2 ] in ( R9 \ ( CL R9 ) ) by L388 , L376 , XBOOLE_0:def 5;
L390: (not R1 in ( dom ( CL R9 ) ))
proof
assume L391: R1 in ( dom ( CL R9 ) );
L392: [ R1 , R1 ] in R9 by L391 , L344;
thus L393: thesis by L392 , L375 , L389 , RELAT_1:def 8;
end;
L394: R1 in ( dom R9 ) by L379 , XTUPLE_0:def 12;
thus L395: thesis by L394 , L380 , L381 , L378 , L390 , L344 , XBOOLE_0:def 5;
end;

thus L396: ((( R9 * R9 ) = R9 & ( ( R9 \ ( CL R9 ) ) * R9 ) = ( {} ) & [ R1 , R2 ] in R9 & R1 <> R2) implies (R2 in ( ( rng R9 ) \ ( dom ( CL R9 ) ) ) & R1 in ( dom ( CL R9 ) )))
proof
assume that
L397: ( R9 * R9 ) = R9
and
L398: ( ( R9 \ ( CL R9 ) ) * R9 ) = ( {} )
and
L399: [ R1 , R2 ] in R9
and
L400: R1 <> R2;
L401: R1 in ( dom R9 ) by L399 , XTUPLE_0:def 12;
consider R3 being set such that L402: [ R1 , R3 ] in R9 and L403: [ R3 , R2 ] in R9 by L397 , L399 , RELAT_1:def 8;
L404: R3 = R1
proof
assume L405: R3 <> R1;
L406: (not [ R1 , R3 ] in ( id ( dom R9 ) )) by L405 , RELAT_1:def 10;
L407: (not [ R1 , R3 ] in ( R9 /\ ( id ( dom R9 ) ) )) by L406 , XBOOLE_0:def 4;
L408: [ R1 , R3 ] in ( R9 \ ( CL R9 ) ) by L407 , L402 , XBOOLE_0:def 5;
thus L409: thesis by L408 , L398 , L403 , RELAT_1:def 8;
end;
L410: (not [ R1 , R2 ] in ( id ( dom R9 ) )) by L400 , RELAT_1:def 10;
L411: (not [ R1 , R2 ] in ( R9 /\ ( id ( dom R9 ) ) )) by L410 , XBOOLE_0:def 4;
L412: [ R1 , R2 ] in ( R9 \ ( CL R9 ) ) by L411 , L399 , XBOOLE_0:def 5;
L413: (not R2 in ( dom ( CL R9 ) ))
proof
assume L414: R2 in ( dom ( CL R9 ) );
L415: [ R2 , R2 ] in R9 by L414 , L344;
thus L416: thesis by L415 , L398 , L412 , RELAT_1:def 8;
end;
L417: R2 in ( rng R9 ) by L403 , XTUPLE_0:def 13;
thus L418: thesis by L417 , L402 , L404 , L401 , L413 , L344 , XBOOLE_0:def 5;
end;

end;
theorem
L397: (for R1 being set holds (for R2 being set holds (for R9 being Relation holds (((( R9 * R9 ) = R9 & ( R9 * ( R9 \ ( id ( dom R9 ) ) ) ) = ( {} ) & [ R1 , R2 ] in R9 & R1 <> R2) implies (R1 in ( ( dom R9 ) \ ( dom ( CL R9 ) ) ) & R2 in ( dom ( CL R9 ) ))) & ((( R9 * R9 ) = R9 & ( ( R9 \ ( id ( dom R9 ) ) ) * R9 ) = ( {} ) & [ R1 , R2 ] in R9 & R1 <> R2) implies (R2 in ( ( rng R9 ) \ ( dom ( CL R9 ) ) ) & R1 in ( dom ( CL R9 ) )))))))
proof
let R1 being set;
let R2 being set;
let R9 being Relation;
L398: ( R9 \ ( CL R9 ) ) = ( R9 \ ( id ( dom R9 ) ) ) by XBOOLE_1:47;
thus L399: thesis by L398 , L372;
end;
theorem
L400: (for R9 being Relation holds (((( R9 * R9 ) = R9 & ( R9 * ( R9 \ ( id ( dom R9 ) ) ) ) = ( {} )) implies (( dom ( CL R9 ) ) = ( rng R9 ) & ( rng ( CL R9 ) ) = ( rng R9 ))) & ((( R9 * R9 ) = R9 & ( ( R9 \ ( id ( dom R9 ) ) ) * R9 ) = ( {} )) implies (( dom ( CL R9 ) ) = ( dom R9 ) & ( rng ( CL R9 ) ) = ( dom R9 )))))
proof
let R9 being Relation;
thus L401: ((( R9 * R9 ) = R9 & ( R9 * ( R9 \ ( id ( dom R9 ) ) ) ) = ( {} )) implies (( dom ( CL R9 ) ) = ( rng R9 ) & ( rng ( CL R9 ) ) = ( rng R9 )))
proof
assume that
L402: ( R9 * R9 ) = R9
and
L403: ( R9 * ( R9 \ ( id ( dom R9 ) ) ) ) = ( {} );
L404: (for R2 being set holds (R2 in ( rng R9 ) implies R2 in ( dom ( CL R9 ) )))
proof
let R2 being set;
assume L405: R2 in ( rng R9 );
consider R1 being set such that L406: [ R1 , R2 ] in R9 by L405 , XTUPLE_0:def 13;
consider R3 being set such that L407: [ R1 , R3 ] in R9 and L408: [ R3 , R2 ] in R9 by L402 , L406 , RELAT_1:def 8;
L409: R3 = R2
proof
assume L410: R3 <> R2;
L411: (not [ R3 , R2 ] in ( id ( dom R9 ) )) by L410 , RELAT_1:def 10;
L412: [ R3 , R2 ] in ( R9 \ ( id ( dom R9 ) ) ) by L411 , L408 , XBOOLE_0:def 5;
thus L413: thesis by L412 , L403 , L407 , RELAT_1:def 8;
end;
L414: R3 in ( dom R9 ) by L408 , XTUPLE_0:def 12;
L415: [ R3 , R2 ] in ( id ( dom R9 ) ) by L414 , L409 , RELAT_1:def 10;
L416: [ R3 , R2 ] in ( R9 /\ ( id ( dom R9 ) ) ) by L415 , L408 , XBOOLE_0:def 4;
thus L417: thesis by L416 , L409 , XTUPLE_0:def 12;
end;
L418: ( rng R9 ) c= ( dom ( CL R9 ) ) by L404 , TARSKI:def 3;
L419: ( CL R9 ) c= R9 by XBOOLE_1:17;
L420: ( rng ( CL R9 ) ) c= ( rng R9 ) by L419 , RELAT_1:11;
L421: ( dom ( CL R9 ) ) c= ( rng R9 ) by L420 , L332;
L422: ( dom ( CL R9 ) ) = ( rng R9 ) by L421 , L418 , XBOOLE_0:def 10;
thus L423: thesis by L422 , L332;
end;

thus L424: ((( R9 * R9 ) = R9 & ( ( R9 \ ( id ( dom R9 ) ) ) * R9 ) = ( {} )) implies (( dom ( CL R9 ) ) = ( dom R9 ) & ( rng ( CL R9 ) ) = ( dom R9 )))
proof
assume that
L425: ( R9 * R9 ) = R9
and
L426: ( ( R9 \ ( id ( dom R9 ) ) ) * R9 ) = ( {} );
L427: (for R1 being set holds (R1 in ( dom R9 ) implies R1 in ( dom ( CL R9 ) )))
proof
let R1 being set;
assume L428: R1 in ( dom R9 );
consider R2 being set such that L429: [ R1 , R2 ] in R9 by L428 , XTUPLE_0:def 12;
consider R3 being set such that L430: [ R1 , R3 ] in R9 and L431: [ R3 , R2 ] in R9 by L425 , L429 , RELAT_1:def 8;
L432: R3 = R1
proof
assume L433: R3 <> R1;
L434: (not [ R1 , R3 ] in ( id ( dom R9 ) )) by L433 , RELAT_1:def 10;
L435: [ R1 , R3 ] in ( R9 \ ( id ( dom R9 ) ) ) by L434 , L430 , XBOOLE_0:def 5;
thus L436: thesis by L435 , L426 , L431 , RELAT_1:def 8;
end;
L437: [ R1 , R3 ] in ( id ( dom R9 ) ) by L432 , L428 , RELAT_1:def 10;
L438: [ R1 , R3 ] in ( R9 /\ ( id ( dom R9 ) ) ) by L437 , L430 , XBOOLE_0:def 4;
L439: R3 in ( rng ( CL R9 ) ) by L438 , XTUPLE_0:def 13;
thus L440: thesis by L439 , L432 , L332;
end;
L441: ( dom R9 ) c= ( dom ( CL R9 ) ) by L427 , TARSKI:def 3;
L442: ( CL R9 ) c= R9 by XBOOLE_1:17;
L443: ( dom ( CL R9 ) ) c= ( dom R9 ) by L442 , RELAT_1:11;
L444: ( dom ( CL R9 ) ) = ( dom R9 ) by L443 , L441 , XBOOLE_0:def 10;
thus L445: thesis by L444 , L332;
end;

end;
theorem
L425: (for R9 being Relation holds (( dom ( CL R9 ) ) c= ( dom R9 ) & ( rng ( CL R9 ) ) c= ( rng R9 ) & ( rng ( CL R9 ) ) c= ( dom R9 ) & ( dom ( CL R9 ) ) c= ( rng R9 )))
proof
let R9 being Relation;
L426: ( CL R9 ) c= R9 by XBOOLE_1:17;
thus L427: (( dom ( CL R9 ) ) c= ( dom R9 ) & ( rng ( CL R9 ) ) c= ( rng R9 )) by L426 , RELAT_1:11;
thus L428: thesis by L427 , L332;
end;
theorem
L429: (for R9 being Relation holds (( id ( dom ( CL R9 ) ) ) c= ( id ( dom R9 ) ) & ( id ( rng ( CL R9 ) ) ) c= ( id ( dom R9 ) )))
proof
let R9 being Relation;
L430: ( dom ( CL R9 ) ) c= ( dom R9 ) by L425;
L431: ( id ( dom ( CL R9 ) ) ) c= ( id ( dom R9 ) ) by L430 , L199;
thus L432: thesis by L431 , L332;
end;
theorem
L433: (for R9 being Relation holds (( id ( dom ( CL R9 ) ) ) c= R9 & ( id ( rng ( CL R9 ) ) ) c= R9))
proof
let R9 being Relation;
thus L434: ( id ( dom ( CL R9 ) ) ) c= R9
proof
let R1 being set;
let R2 being set;
assume L435: [ R1 , R2 ] in ( id ( dom ( CL R9 ) ) );
L436: (R1 in ( dom ( CL R9 ) ) & R1 = R2) by L435 , RELAT_1:def 10;
thus L437: thesis by L436 , L344;
end;

thus L438: thesis by L434 , L332;
end;
theorem
L439: (for R5 being set holds (for R9 being Relation holds (((( id R5 ) c= R9 & ( ( id R5 ) * ( R9 \ ( id R5 ) ) ) = ( {} )) implies ( R9 | R5 ) = ( id R5 )) & ((( id R5 ) c= R9 & ( ( R9 \ ( id R5 ) ) * ( id R5 ) ) = ( {} )) implies ( R5 |` R9 ) = ( id R5 )))))
proof
let R5 being set;
let R9 being Relation;
thus L440: ((( id R5 ) c= R9 & ( ( id R5 ) * ( R9 \ ( id R5 ) ) ) = ( {} )) implies ( R9 | R5 ) = ( id R5 ))
proof
assume that
L441: ( id R5 ) c= R9
and
L442: ( ( id R5 ) * ( R9 \ ( id R5 ) ) ) = ( {} );
L443: ( R9 | R5 ) = ( ( id R5 ) * R9 ) by RELAT_1:65
.= ( ( id R5 ) * ( R9 \/ ( id R5 ) ) ) by L441 , XBOOLE_1:12
.= ( ( id R5 ) * ( ( R9 \ ( id R5 ) ) \/ ( id R5 ) ) ) by XBOOLE_1:39
.= ( ( {} ) \/ ( ( id R5 ) * ( id R5 ) ) ) by L442 , RELAT_1:32
.= ( id R5 ) by L141;
thus L444: thesis by L443;
end;

assume that
L445: ( id R5 ) c= R9
and
L446: ( ( R9 \ ( id R5 ) ) * ( id R5 ) ) = ( {} );
L447: ( R5 |` R9 ) = ( R9 * ( id R5 ) ) by RELAT_1:92
.= ( ( R9 \/ ( id R5 ) ) * ( id R5 ) ) by L445 , XBOOLE_1:12
.= ( ( ( R9 \ ( id R5 ) ) \/ ( id R5 ) ) * ( id R5 ) ) by XBOOLE_1:39
.= ( ( {} ) \/ ( ( id R5 ) * ( id R5 ) ) ) by L446 , L42
.= ( id R5 ) by L141;
thus L448: thesis by L447;
end;
theorem
L449: (for R9 being Relation holds ((( ( id ( dom ( CL R9 ) ) ) * ( R9 \ ( id ( dom ( CL R9 ) ) ) ) ) = ( {} ) implies (( R9 | ( dom ( CL R9 ) ) ) = ( id ( dom ( CL R9 ) ) ) & ( R9 | ( rng ( CL R9 ) ) ) = ( id ( dom ( CL R9 ) ) ))) & (( ( R9 \ ( id ( rng ( CL R9 ) ) ) ) * ( id ( rng ( CL R9 ) ) ) ) = ( {} ) implies (( ( dom ( CL R9 ) ) |` R9 ) = ( id ( dom ( CL R9 ) ) ) & ( ( rng ( CL R9 ) ) |` R9 ) = ( id ( rng ( CL R9 ) ) )))))
proof
let R9 being Relation;
thus L450: (( ( id ( dom ( CL R9 ) ) ) * ( R9 \ ( id ( dom ( CL R9 ) ) ) ) ) = ( {} ) implies (( R9 | ( dom ( CL R9 ) ) ) = ( id ( dom ( CL R9 ) ) ) & ( R9 | ( rng ( CL R9 ) ) ) = ( id ( dom ( CL R9 ) ) )))
proof
assume L451: ( ( id ( dom ( CL R9 ) ) ) * ( R9 \ ( id ( dom ( CL R9 ) ) ) ) ) = ( {} );
L452: ( id ( dom ( CL R9 ) ) ) c= R9 by L433;
L453: ( R9 | ( dom ( CL R9 ) ) ) = ( id ( dom ( CL R9 ) ) ) by L452 , L451 , L439;
thus L454: thesis by L453 , L332;
end;

assume L455: ( ( R9 \ ( id ( rng ( CL R9 ) ) ) ) * ( id ( rng ( CL R9 ) ) ) ) = ( {} );
L456: ( id ( rng ( CL R9 ) ) ) c= R9 by L433;
L457: ( ( rng ( CL R9 ) ) |` R9 ) = ( id ( rng ( CL R9 ) ) ) by L456 , L455 , L439;
L458: ( ( dom ( CL R9 ) ) |` R9 ) = ( id ( rng ( CL R9 ) ) ) by L457 , L332;
thus L459: thesis by L458 , L332;
end;
theorem
L460: (for R9 being Relation holds ((( R9 * ( R9 \ ( id ( dom R9 ) ) ) ) = ( {} ) implies ( ( id ( dom ( CL R9 ) ) ) * ( R9 \ ( id ( dom ( CL R9 ) ) ) ) ) = ( {} )) & (( ( R9 \ ( id ( dom R9 ) ) ) * R9 ) = ( {} ) implies ( ( R9 \ ( id ( dom ( CL R9 ) ) ) ) * ( id ( dom ( CL R9 ) ) ) ) = ( {} ))))
proof
let R9 being Relation;
thus L461: (( R9 * ( R9 \ ( id ( dom R9 ) ) ) ) = ( {} ) implies ( ( id ( dom ( CL R9 ) ) ) * ( R9 \ ( id ( dom ( CL R9 ) ) ) ) ) = ( {} ))
proof
L462: ( id ( dom ( CL R9 ) ) ) c= R9 by L433;
assume L463: ( R9 * ( R9 \ ( id ( dom R9 ) ) ) ) = ( {} );
L464: ( R9 \ ( id ( dom R9 ) ) ) = ( R9 \ ( CL R9 ) ) by XBOOLE_1:47
.= ( R9 \ ( id ( dom ( CL R9 ) ) ) ) by L360;
thus L465: thesis by L464 , L463 , L462 , RELAT_1:30 , XBOOLE_1:3;
end;

L466: ( id ( dom ( CL R9 ) ) ) c= R9 by L433;
assume L467: ( ( R9 \ ( id ( dom R9 ) ) ) * R9 ) = ( {} );
L468: ( R9 \ ( id ( dom R9 ) ) ) = ( R9 \ ( CL R9 ) ) by XBOOLE_1:47
.= ( R9 \ ( id ( dom ( CL R9 ) ) ) ) by L360;
thus L469: thesis by L468 , L467 , L466 , RELAT_1:29 , XBOOLE_1:3;
end;
theorem
L470: (for R9 being Relation holds (for R10 being Relation holds (((( R10 * R9 ) = R10 & ( R9 * ( R9 \ ( id ( dom R9 ) ) ) ) = ( {} )) implies ( R10 * ( R9 \ ( id ( dom R9 ) ) ) ) = ( {} )) & ((( R9 * R10 ) = R10 & ( ( R9 \ ( id ( dom R9 ) ) ) * R9 ) = ( {} )) implies ( ( R9 \ ( id ( dom R9 ) ) ) * R10 ) = ( {} )))))
proof
let R9 being Relation;
let R10 being Relation;
thus L471: ((( R10 * R9 ) = R10 & ( R9 * ( R9 \ ( id ( dom R9 ) ) ) ) = ( {} )) implies ( R10 * ( R9 \ ( id ( dom R9 ) ) ) ) = ( {} ))
proof
assume L472: (( R10 * R9 ) = R10 & ( R9 * ( R9 \ ( id ( dom R9 ) ) ) ) = ( {} ));
L473: ( R10 * ( R9 \ ( id ( dom R9 ) ) ) ) = ( R10 * ( {} ) ) by L472 , RELAT_1:36
.= ( {} );
thus L474: thesis by L473;
end;

assume L475: (( R9 * R10 ) = R10 & ( ( R9 \ ( id ( dom R9 ) ) ) * R9 ) = ( {} ));
L476: ( ( R9 \ ( id ( dom R9 ) ) ) * R10 ) = ( ( {} ) * R10 ) by L475 , RELAT_1:36
.= ( {} );
thus L477: thesis by L476;
end;
theorem
L478: (for R9 being Relation holds (for R10 being Relation holds (((( R10 * R9 ) = R10 & ( R9 * ( R9 \ ( id ( dom R9 ) ) ) ) = ( {} )) implies ( CL R10 ) c= ( CL R9 )) & ((( R9 * R10 ) = R10 & ( ( R9 \ ( id ( dom R9 ) ) ) * R9 ) = ( {} )) implies ( CL R10 ) c= ( CL R9 )))))
proof
let R9 being Relation;
let R10 being Relation;
thus L479: ((( R10 * R9 ) = R10 & ( R9 * ( R9 \ ( id ( dom R9 ) ) ) ) = ( {} )) implies ( CL R10 ) c= ( CL R9 ))
proof
assume that
L480: ( R10 * R9 ) = R10
and
L481: ( R9 * ( R9 \ ( id ( dom R9 ) ) ) ) = ( {} );
L482: ( R10 * ( R9 \ ( id ( dom R9 ) ) ) ) = ( {} ) by L480 , L481 , L470;
L483: (for R1 being set holds (for R2 being set holds ([ R1 , R2 ] in ( CL R10 ) implies [ R1 , R2 ] in ( CL R9 ))))
proof
let R1 being set;
let R2 being set;
assume L484: [ R1 , R2 ] in ( CL R10 );
L485: [ R1 , R2 ] in ( id ( dom R10 ) ) by L484 , XBOOLE_0:def 4;
L486: [ R1 , R2 ] in R10 by L484 , XBOOLE_0:def 4;
consider R3 being set such that L487: [ R1 , R3 ] in R10 and L488: [ R3 , R2 ] in R9 by L486 , L480 , RELAT_1:def 8;
L489: R3 = R2
proof
assume L490: R3 <> R2;
L491: (not [ R3 , R2 ] in ( id ( dom R9 ) )) by L490 , RELAT_1:def 10;
L492: [ R3 , R2 ] in ( R9 \ ( id ( dom R9 ) ) ) by L491 , L488 , XBOOLE_0:def 5;
thus L493: contradiction by L492 , L482 , L487 , RELAT_1:def 8;
end;
L494: R1 = R2 by L485 , RELAT_1:def 10;
L495: R1 in ( dom R9 ) by L494 , L488 , L489 , XTUPLE_0:def 12;
L496: [ R1 , R2 ] in ( id ( dom R9 ) ) by L495 , L494 , RELAT_1:def 10;
L497: [ R1 , R2 ] in R9 by L485 , L488 , L489 , RELAT_1:def 10;
thus L498: thesis by L497 , L496 , XBOOLE_0:def 4;
end;
thus L499: thesis by L483 , RELAT_1:def 3;
end;

assume that
L500: ( R9 * R10 ) = R10
and
L501: ( ( R9 \ ( id ( dom R9 ) ) ) * R9 ) = ( {} );
L502: ( ( R9 \ ( id ( dom R9 ) ) ) * R10 ) = ( {} ) by L500 , L501 , L470;
L503: (for R1 being set holds (for R2 being set holds ([ R1 , R2 ] in ( CL R10 ) implies [ R1 , R2 ] in ( CL R9 ))))
proof
let R1 being set;
let R2 being set;
assume L504: [ R1 , R2 ] in ( CL R10 );
L505: [ R1 , R2 ] in ( id ( dom R10 ) ) by L504 , XBOOLE_0:def 4;
L506: R1 = R2 by L505 , RELAT_1:def 10;
L507: [ R1 , R2 ] in R10 by L504 , XBOOLE_0:def 4;
consider R3 being set such that L508: [ R1 , R3 ] in R9 and L509: [ R3 , R2 ] in R10 by L507 , L500 , RELAT_1:def 8;
L510: R1 in ( dom R9 ) by L508 , XTUPLE_0:def 12;
L511: [ R1 , R2 ] in ( id ( dom R9 ) ) by L510 , L506 , RELAT_1:def 10;
L512: R3 = R1
proof
assume L513: R3 <> R1;
L514: (not [ R1 , R3 ] in ( id ( dom R9 ) )) by L513 , RELAT_1:def 10;
L515: [ R1 , R3 ] in ( R9 \ ( id ( dom R9 ) ) ) by L514 , L508 , XBOOLE_0:def 5;
thus L516: contradiction by L515 , L502 , L509 , RELAT_1:def 8;
end;
L517: [ R1 , R2 ] in R9 by L512 , L505 , L508 , RELAT_1:def 10;
thus L518: thesis by L517 , L511 , XBOOLE_0:def 4;
end;
thus L519: thesis by L503 , RELAT_1:def 3;
end;
theorem
L520: (for R9 being Relation holds (for R10 being Relation holds (((( R10 * R9 ) = R10 & ( R9 * ( R9 \ ( id ( dom R9 ) ) ) ) = ( {} ) & ( R9 * R10 ) = R9 & ( R10 * ( R10 \ ( id ( dom R10 ) ) ) ) = ( {} )) implies ( CL R10 ) = ( CL R9 )) & ((( R9 * R10 ) = R10 & ( ( R9 \ ( id ( dom R9 ) ) ) * R9 ) = ( {} ) & ( R10 * R9 ) = R9 & ( ( R10 \ ( id ( dom R10 ) ) ) * R10 ) = ( {} )) implies ( CL R10 ) = ( CL R9 )))))
proof
let R9 being Relation;
let R10 being Relation;
thus L521: ((( R10 * R9 ) = R10 & ( R9 * ( R9 \ ( id ( dom R9 ) ) ) ) = ( {} ) & ( R9 * R10 ) = R9 & ( R10 * ( R10 \ ( id ( dom R10 ) ) ) ) = ( {} )) implies ( CL R10 ) = ( CL R9 ))
proof
assume L522: (( R10 * R9 ) = R10 & ( R9 * ( R9 \ ( id ( dom R9 ) ) ) ) = ( {} ) & ( R9 * R10 ) = R9 & ( R10 * ( R10 \ ( id ( dom R10 ) ) ) ) = ( {} ));
L523: (( CL R10 ) c= ( CL R9 ) & ( CL R9 ) c= ( CL R10 )) by L522 , L478;
thus L524: thesis by L523 , XBOOLE_0:def 10;
end;

assume L525: (( R9 * R10 ) = R10 & ( ( R9 \ ( id ( dom R9 ) ) ) * R9 ) = ( {} ) & ( R10 * R9 ) = R9 & ( ( R10 \ ( id ( dom R10 ) ) ) * R10 ) = ( {} ));
L526: (( CL R10 ) c= ( CL R9 ) & ( CL R9 ) c= ( CL R10 )) by L525 , L478;
thus L527: thesis by L526 , XBOOLE_0:def 10;
end;
