:: Zermelo's Theorem
::  by Bogdan Nowak and S{\l}awomir Bia{\l}ecki
::
:: Received October 27, 1989
:: Copyright (c) 1990-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies RELAT_1, FUNCT_1, XBOOLE_0, ZFMISC_1, SUBSET_1, WELLORD1,
      RELAT_2, TARSKI;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, RELAT_1, RELAT_2, FUNCT_1,
      WELLORD1;
 constructors TARSKI, SUBSET_1, RELAT_2, WELLORD1, XTUPLE_0;
 registrations XBOOLE_0, SUBSET_1, RELAT_1, FUNCT_1;
 requirements SUBSET, BOOLE;
 definitions TARSKI, WELLORD1;
 theorems TARSKI, FUNCT_1, RELAT_1, RELAT_2, ZFMISC_1, WELLORD1, ENUMSET1,
      XBOOLE_0, XBOOLE_1, XTUPLE_0;
 schemes TARSKI, FUNCT_1, RELAT_1, XBOOLE_0;

begin
theorem
L1: (for R3 being set holds (for R24 being Relation holds (R3 in ( field R24 ) iff (ex R4 being set st ([ R3 , R4 ] in R24 or [ R4 , R3 ] in R24)))))
proof
let R3 being set;
let R24 being Relation;
L2: (R3 in ( ( dom R24 ) \/ ( rng R24 ) ) iff (R3 in ( dom R24 ) or R3 in ( rng R24 ))) by XBOOLE_0:def 3;
thus L3: thesis by L2 , RELAT_1:def 6 , XTUPLE_0:def 12 , XTUPLE_0:def 13;
end;
theorem
L4: (for R19 being set holds (for R20 being set holds (for R27 being Relation holds ((R19 <> ( {} ) & R20 <> ( {} ) & R27 = [: R19 , R20 :]) implies ( field R27 ) = ( R19 \/ R20 )))))
proof
let R19 being set;
let R20 being set;
let R27 being Relation;
set D1 = the (Element of R19);
set D2 = the (Element of R20);
assume that
L5: R19 <> ( {} )
and
L6: R20 <> ( {} )
and
L7: R27 = [: R19 , R20 :];
L8: (for R3 being set holds (R3 in ( field R27 ) implies R3 in ( R19 \/ R20 )))
proof
let R3 being set;
assume L9: R3 in ( field R27 );
consider R4 being set such that L10: ([ R3 , R4 ] in R27 or [ R4 , R3 ] in R27) by L9 , L1;
L11: ([ R4 , R3 ] in R27 implies R3 in ( R19 \/ R20 ))
proof
assume L12: [ R4 , R3 ] in R27;
L13: R3 in R20 by L12 , L7 , ZFMISC_1:87;
thus L14: thesis by L13 , XBOOLE_0:def 3;
end;
L15: ([ R3 , R4 ] in R27 implies R3 in ( R19 \/ R20 ))
proof
assume L16: [ R3 , R4 ] in R27;
L17: R3 in R19 by L16 , L7 , ZFMISC_1:87;
thus L18: thesis by L17 , XBOOLE_0:def 3;
end;
thus L19: thesis by L15 , L10 , L11;
end;
L20: (for R3 being set holds (R3 in ( R19 \/ R20 ) implies R3 in ( field R27 )))
proof
let R3 being set;
L21: (R3 in R19 implies R3 in ( field R27 ))
proof
assume L22: R3 in R19;
L23: [ R3 , D2 ] in R27 by L22 , L6 , L7 , ZFMISC_1:87;
thus L24: thesis by L23 , L1;
end;
L25: (R3 in R20 implies R3 in ( field R27 ))
proof
assume L26: R3 in R20;
L27: [ D1 , R3 ] in R27 by L26 , L5 , L7 , ZFMISC_1:87;
thus L28: thesis by L27 , L1;
end;
assume L29: R3 in ( R19 \/ R20 );
thus L30: thesis by L29 , L21 , L25 , XBOOLE_0:def 3;
end;
thus L31: thesis by L20 , L8 , TARSKI:1;
end;
scheme RSeparation { F1() -> set , P1[Relation] } : (ex R13 being set st (for B1 being Relation holds (B1 in R13 iff (B1 in F1() & P1[ B1 ]))))
proof
defpred S1[ set , set ] means ($1 = $2 & (ex R25 being Relation st (R25 = $2 & P1[ R25 ])));
L32: (for B2 , B3 , B4 being set holds ((S1[ B2 , B3 ] & S1[ B2 , B4 ]) implies B3 = B4));
consider R13 being set such that L33: (for B5 being set holds (B5 in R13 iff (ex B6 being set st (B6 in F1() & S1[ B6 , B5 ])))) from TARSKI:sch 1(L32);
take R13;
let R24 being Relation;
L34: (R24 in R13 implies (ex R26 being Relation st (R26 in F1() & R26 = R24 & P1[ R24 ])))
proof
assume L35: R24 in R13;
consider C1 being set such that L36: C1 in F1() and L37: C1 = R24 and L38: (ex R25 being Relation st (R25 = R24 & P1[ R25 ])) by L35 , L33;
reconsider D3 = C1 as Relation by L37;
take D3;
thus L39: thesis by L36 , L37 , L38;
end;
thus L40: (R24 in R13 implies (R24 in F1() & P1[ R24 ])) by L34;
thus L41: thesis by L33;
end;
theorem
L42: (for R3 being set holds (for R4 being set holds (for R27 being Relation holds ((R3 in ( field R27 ) & R4 in ( field R27 ) & R27 is  well-ordering) implies ((not R3 in ( R27 -Seg R4 )) implies [ R4 , R3 ] in R27)))))
proof
let R3 being set;
let R4 being set;
let R27 being Relation;
assume that
L43: R3 in ( field R27 )
and
L44: R4 in ( field R27 )
and
L45: R27 is  well-ordering;
L46: R27 is  connected by L45 , WELLORD1:def 4;
L47: R27 is_connected_in ( field R27 ) by L46 , RELAT_2:def 14;
L48: (R3 <> R4 implies ([ R3 , R4 ] in R27 or [ R4 , R3 ] in R27)) by L47 , L43 , L44 , RELAT_2:def 6;
L49: R27 is  reflexive by L45 , WELLORD1:def 4;
L50: R27 is_reflexive_in ( field R27 ) by L49 , RELAT_2:def 9;
assume L51: (not R3 in ( R27 -Seg R4 ));
thus L52: thesis by L51 , L43 , L50 , L48 , RELAT_2:def 1 , WELLORD1:1;
end;
theorem
L53: (for R3 being set holds (for R4 being set holds (for R27 being Relation holds ((R3 in ( field R27 ) & R4 in ( field R27 ) & R27 is  well-ordering) implies (R3 in ( R27 -Seg R4 ) implies (not [ R4 , R3 ] in R27))))))
proof
let R3 being set;
let R4 being set;
let R27 being Relation;
assume that
L54: (R3 in ( field R27 ) & R4 in ( field R27 ))
and
L55: R27 is  well-ordering;
L56: R27 is  antisymmetric by L55 , WELLORD1:def 4;
L57: R27 is_antisymmetric_in ( field R27 ) by L56 , RELAT_2:def 12;
assume L58: R3 in ( R27 -Seg R4 );
L59: (R3 <> R4 & [ R3 , R4 ] in R27) by L58 , WELLORD1:1;
assume L60: [ R4 , R3 ] in R27;
thus L61: contradiction by L60 , L54 , L57 , L59 , RELAT_2:def 4;
end;
theorem
L62: (for R30 being Function holds (for R15 being set holds ((for R19 being set holds (R19 in R15 implies ((not ( R30 . R19 ) in R19) & ( R30 . R19 ) in ( union R15 )))) implies (ex R24 being Relation st (( field R24 ) c= ( union R15 ) & R24 is  well-ordering & (not ( field R24 ) in R15) & (for R4 being set holds (R4 in ( field R24 ) implies (( R24 -Seg R4 ) in R15 & ( R30 . ( R24 -Seg R4 ) ) = R4))))))))
proof
let R30 being Function;
let R15 being set;
assume L63: (for R19 being set holds (R19 in R15 implies ((not ( R30 . R19 ) in R19) & ( R30 . R19 ) in ( union R15 ))));
defpred S2[ Relation ] means ($1 is  well-ordering & (for R4 being set holds (R4 in ( field $1 ) implies (( $1 -Seg R4 ) in R15 & ( R30 . ( $1 -Seg R4 ) ) = R4))));
set D4 = ( bool [: ( union R15 ) , ( union R15 ) :] );
consider R16 being set such that L64: (for R27 being Relation holds (R27 in R16 iff (R27 in D4 & S2[ R27 ]))) from RSeparation;
defpred S3[ set , set ] means (ex R27 being Relation st ([ $1 , $2 ] in R27 & R27 in R16));
consider R25 being Relation such that L65: (for R3 being set holds (for R4 being set holds ([ R3 , R4 ] in R25 iff (R3 in ( union R15 ) & R4 in ( union R15 ) & S3[ R3 , R4 ])))) from RELAT_1:sch 1;
take D5 = R25;
L66: (for R3 being set holds (R3 in ( field D5 ) implies (R3 in ( union R15 ) & (ex R27 being Relation st (R3 in ( field R27 ) & R27 in R16)))))
proof
let R3 being set;
assume L67: R3 in ( field D5 );
consider R4 being set such that L68: ([ R3 , R4 ] in D5 or [ R4 , R3 ] in D5) by L67 , L1;
L69: ((R3 in ( union R15 ) & R4 in ( union R15 ) & (ex R25 being Relation st ([ R3 , R4 ] in R25 & R25 in R16))) or (R4 in ( union R15 ) & R3 in ( union R15 ) & (ex R25 being Relation st ([ R4 , R3 ] in R25 & R25 in R16)))) by L65 , L68;
consider R25 being Relation such that L70: (([ R3 , R4 ] in R25 or [ R4 , R3 ] in R25) & R25 in R16) by L69;
thus L71: R3 in ( union R15 ) by L65 , L68;
take R25;
thus L72: thesis by L70 , L1;
end;
L73: (for R3 being set holds (R3 in ( field D5 ) implies R3 in ( union R15 ))) by L66;
thus L74: ( field D5 ) c= ( union R15 ) by L73 , TARSKI:def 3;
L75: (for R28 being Relation holds (for R29 being Relation holds ((R28 in R16 & R29 in R16) implies ((R28 c= R29 & (for R3 being set holds (R3 in ( field R28 ) implies ( R28 -Seg R3 ) = ( R29 -Seg R3 )))) or (R29 c= R28 & (for R3 being set holds (R3 in ( field R29 ) implies ( R29 -Seg R3 ) = ( R28 -Seg R3 ))))))))
proof
let R28 being Relation;
let R29 being Relation;
assume that
L76: R28 in R16
and
L77: R29 in R16;
L78: R29 is  well-ordering by L64 , L77;
defpred S4[ set ] means ($1 in ( field R29 ) & ( R28 |_2 ( R28 -Seg $1 ) ) = ( R29 |_2 ( R29 -Seg $1 ) ));
consider R14 being set such that L79: (for R3 being set holds (R3 in R14 iff (R3 in ( field R28 ) & S4[ R3 ]))) from XBOOLE_0:sch 1;
L80: R28 is  well-ordering by L64 , L76;
L81: (for R3 being set holds (R3 in R14 implies ( R28 -Seg R3 ) = ( R29 -Seg R3 )))
proof
let R3 being set;
assume L82: R3 in R14;
L83: (for R4 being set holds (R4 in ( R28 -Seg R3 ) iff R4 in ( R29 -Seg R3 )))
proof
let R4 being set;
L84: (( field ( R28 |_2 ( R28 -Seg R3 ) ) ) = ( R28 -Seg R3 ) & ( field ( R29 |_2 ( R29 -Seg R3 ) ) ) = ( R29 -Seg R3 )) by L80 , L78 , WELLORD1:32;
thus L85: thesis by L84 , L79 , L82;
end;
thus L86: thesis by L83 , TARSKI:1;
end;
L87: (for R3 being set holds (R3 in R14 implies ( R28 -Seg R3 ) c= R14))
proof
let R3 being set;
assume L88: R3 in R14;
L89: (for R4 being set holds (R4 in ( R28 -Seg R3 ) implies R4 in R14))
proof
let R4 being set;
assume L90: R4 in ( R28 -Seg R3 );
L91: R4 in ( R29 -Seg R3 ) by L90 , L81 , L88;
L92: [ R4 , R3 ] in R29 by L91 , WELLORD1:1;
L93: R4 in ( field R29 ) by L92 , RELAT_1:15;
L94: ( R28 -Seg R4 ) = ( ( R28 |_2 ( R28 -Seg R3 ) ) -Seg R4 ) by L80 , L90 , WELLORD1:27
.= ( ( R29 |_2 ( R29 -Seg R3 ) ) -Seg R4 ) by L79 , L88
.= ( R29 -Seg R4 ) by L78 , L91 , WELLORD1:27;
L95: [ R4 , R3 ] in R28 by L90 , WELLORD1:1;
L96: R4 in ( field R28 ) by L95 , RELAT_1:15;
L97: R3 in ( field R29 ) by L92 , RELAT_1:15;
L98: ( R29 -Seg R4 ) c= ( R29 -Seg R3 ) by L97 , L78 , L91 , L93 , WELLORD1:30;
L99: R3 in ( field R28 ) by L95 , RELAT_1:15;
L100: ( R28 -Seg R4 ) c= ( R28 -Seg R3 ) by L99 , L80 , L90 , L96 , WELLORD1:30;
L101: ( R28 |_2 ( R28 -Seg R4 ) ) = ( ( R28 |_2 ( R28 -Seg R3 ) ) |_2 ( R28 -Seg R4 ) ) by L100 , WELLORD1:22
.= ( ( R29 |_2 ( R29 -Seg R3 ) ) |_2 ( R29 -Seg R4 ) ) by L79 , L88 , L94
.= ( R29 |_2 ( R29 -Seg R4 ) ) by L98 , WELLORD1:22;
thus L102: thesis by L101 , L79 , L96 , L93;
end;
thus L103: thesis by L89 , TARSKI:def 3;
end;
L104: (for R9 being set holds ((R9 in ( field R28 ) & (not R9 in R14)) implies (ex R10 being set st (R10 in ( field R28 ) & R14 = ( R28 -Seg R10 ) & (not R10 in R14)))))
proof
let R9 being set;
set D6 = ( ( field R28 ) \ R14 );
assume L105: (R9 in ( field R28 ) & (not R9 in R14));
L106: D6 <> ( {} ) by L105 , XBOOLE_0:def 5;
consider R1 being set such that L107: R1 in D6 and L108: (for R2 being set holds (R2 in D6 implies [ R1 , R2 ] in R28)) by L106 , L80 , WELLORD1:6;
take D7 = R1;
L109: (for R3 being set holds (R3 in R14 iff R3 in ( R28 -Seg D7 )))
proof
let R3 being set;
thus L110: (R3 in R14 implies R3 in ( R28 -Seg D7 ))
proof
assume that
L111: R3 in R14
and
L112: (not R3 in ( R28 -Seg D7 ));
L113: R3 in ( field R28 ) by L79 , L111;
L114: [ D7 , R3 ] in R28 by L113 , L80 , L107 , L112 , L42;
L115: ( R28 -Seg R3 ) c= R14 by L87 , L111;
L116: (D7 <> R3 implies D7 in R14)
proof
assume L117: D7 <> R3;
L118: D7 in ( R28 -Seg R3 ) by L117 , L114 , WELLORD1:1;
thus L119: thesis by L118 , L115;
end;
thus L120: contradiction by L116 , L107 , L111 , XBOOLE_0:def 5;
end;

thus L121: (R3 in ( R28 -Seg D7 ) implies R3 in R14)
proof
assume that
L122: R3 in ( R28 -Seg D7 )
and
L123: (not R3 in R14);
L124: [ R3 , D7 ] in R28 by L122 , WELLORD1:1;
L125: R3 in ( field R28 ) by L124 , RELAT_1:15;
L126: R3 in D6 by L125 , L123 , XBOOLE_0:def 5;
L127: [ D7 , R3 ] in R28 by L126 , L108;
thus L128: contradiction by L127 , L80 , L107 , L122 , L125 , L53;
end;

end;
thus L122: thesis by L109 , L107 , TARSKI:1 , XBOOLE_0:def 5;
end;
L123: (for R3 being set holds (R3 in R14 implies ( R29 -Seg R3 ) c= R14))
proof
let R3 being set;
assume L124: R3 in R14;
let R4 being set;
assume L125: R4 in ( R29 -Seg R3 );
L126: R4 in ( R28 -Seg R3 ) by L125 , L81 , L124;
L127: [ R4 , R3 ] in R28 by L126 , WELLORD1:1;
L128: R4 in ( field R28 ) by L127 , RELAT_1:15;
L129: ( R29 -Seg R4 ) = ( ( R29 |_2 ( R29 -Seg R3 ) ) -Seg R4 ) by L78 , L125 , WELLORD1:27
.= ( ( R28 |_2 ( R28 -Seg R3 ) ) -Seg R4 ) by L79 , L124
.= ( R28 -Seg R4 ) by L80 , L126 , WELLORD1:27;
L130: [ R4 , R3 ] in R29 by L125 , WELLORD1:1;
L131: R4 in ( field R29 ) by L130 , RELAT_1:15;
L132: R3 in ( field R28 ) by L127 , RELAT_1:15;
L133: ( R28 -Seg R4 ) c= ( R28 -Seg R3 ) by L132 , L80 , L126 , L128 , WELLORD1:30;
L134: R3 in ( field R29 ) by L130 , RELAT_1:15;
L135: ( R29 -Seg R4 ) c= ( R29 -Seg R3 ) by L134 , L78 , L125 , L131 , WELLORD1:30;
L136: ( R29 |_2 ( R29 -Seg R4 ) ) = ( ( R29 |_2 ( R29 -Seg R3 ) ) |_2 ( R29 -Seg R4 ) ) by L135 , WELLORD1:22
.= ( ( R28 |_2 ( R28 -Seg R3 ) ) |_2 ( R28 -Seg R4 ) ) by L79 , L124 , L129
.= ( R28 |_2 ( R28 -Seg R4 ) ) by L133 , WELLORD1:22;
thus L137: thesis by L136 , L79 , L131 , L128;
end;
L138: (for R9 being set holds ((R9 in ( field R29 ) & (not R9 in R14)) implies (ex R10 being set st (R10 in ( field R29 ) & R14 = ( R29 -Seg R10 ) & (not R10 in R14)))))
proof
let R9 being set;
set D8 = ( ( field R29 ) \ R14 );
assume L139: (R9 in ( field R29 ) & (not R9 in R14));
L140: D8 <> ( {} ) by L139 , XBOOLE_0:def 5;
consider R1 being set such that L141: R1 in D8 and L142: (for R2 being set holds (R2 in D8 implies [ R1 , R2 ] in R29)) by L140 , L78 , WELLORD1:6;
take D9 = R1;
L143: (for R3 being set holds (R3 in R14 iff R3 in ( R29 -Seg D9 )))
proof
let R3 being set;
thus L144: (R3 in R14 implies R3 in ( R29 -Seg D9 ))
proof
assume that
L145: R3 in R14
and
L146: (not R3 in ( R29 -Seg D9 ));
L147: R3 in ( field R29 ) by L79 , L145;
L148: [ D9 , R3 ] in R29 by L147 , L78 , L141 , L146 , L42;
L149: ( R29 -Seg R3 ) c= R14 by L123 , L145;
L150: (D9 <> R3 implies D9 in R14)
proof
assume L151: D9 <> R3;
L152: D9 in ( R29 -Seg R3 ) by L151 , L148 , WELLORD1:1;
thus L153: thesis by L152 , L149;
end;
thus L154: contradiction by L150 , L141 , L145 , XBOOLE_0:def 5;
end;

thus L155: (R3 in ( R29 -Seg D9 ) implies R3 in R14)
proof
assume that
L156: R3 in ( R29 -Seg D9 )
and
L157: (not R3 in R14);
L158: [ R3 , D9 ] in R29 by L156 , WELLORD1:1;
L159: R3 in ( field R29 ) by L158 , RELAT_1:15;
L160: R3 in D8 by L159 , L157 , XBOOLE_0:def 5;
L161: [ D9 , R3 ] in R29 by L160 , L142;
thus L162: contradiction by L161 , L78 , L141 , L156 , L159 , L53;
end;

end;
thus L156: thesis by L143 , L141 , TARSKI:1 , XBOOLE_0:def 5;
end;
L157: (R14 = ( field R28 ) or R14 = ( field R29 ))
proof
assume L158: (not R14 = ( field R28 ));
L159: (ex R3 being set st ((not (R3 in R14 implies R3 in ( field R28 ))) or (not (R3 in ( field R28 ) implies R3 in R14)))) by L158 , TARSKI:1;
consider R10 being set such that L160: R10 in ( field R28 ) and L161: R14 = ( R28 -Seg R10 ) and L162: (not R10 in R14) by L159 , L79 , L104;
assume L163: (not R14 = ( field R29 ));
L164: (ex R3 being set st ((not (R3 in R14 implies R3 in ( field R29 ))) or (not (R3 in ( field R29 ) implies R3 in R14)))) by L163 , TARSKI:1;
consider R11 being set such that L165: R11 in ( field R29 ) and L166: R14 = ( R29 -Seg R11 ) and L167: (not R11 in R14) by L164 , L79 , L138;
L168: R10 = ( R30 . ( R29 -Seg R11 ) ) by L64 , L76 , L160 , L161 , L166
.= R11 by L64 , L77 , L165;
L169: (for R5 being set holds (R5 in ( R28 |_2 ( R28 -Seg R10 ) ) iff R5 in ( R29 |_2 ( R29 -Seg R10 ) )))
proof
let R5 being set;
L170: ((R5 in R28 & R5 in [: ( R28 -Seg R10 ) , ( R28 -Seg R10 ) :]) implies (R5 in R29 & R5 in [: ( R29 -Seg R10 ) , ( R29 -Seg R10 ) :]))
proof
assume that
L171: R5 in R28
and
L172: R5 in [: ( R28 -Seg R10 ) , ( R28 -Seg R10 ) :];
consider R6 being set, R7 being set such that L173: R6 in ( R28 -Seg R10 ) and L174: R7 in ( R28 -Seg R10 ) and L175: R5 = [ R6 , R7 ] by L172 , ZFMISC_1:def 2;
L176: (R6 in ( R28 -Seg R7 ) or (R6 = R7 & (not R6 in ( R28 -Seg R7 )))) by L171 , L175 , WELLORD1:1;
L177: (R6 in ( R29 -Seg R7 ) or (R6 = R7 & (not R6 in ( R29 -Seg R7 )))) by L176 , L81 , L161 , L174;
L178: R6 in ( field R29 ) by L79 , L161 , L173;
thus L179: thesis by L178 , L78 , L161 , L166 , L168 , L172 , L175 , L177 , L42 , WELLORD1:1;
end;
L180: ((R5 in R29 & R5 in [: ( R29 -Seg R10 ) , ( R29 -Seg R10 ) :]) implies (R5 in R28 & R5 in [: ( R28 -Seg R10 ) , ( R28 -Seg R10 ) :]))
proof
assume that
L181: R5 in R29
and
L182: R5 in [: ( R29 -Seg R10 ) , ( R29 -Seg R10 ) :];
consider R6 being set, R7 being set such that L183: R6 in ( R29 -Seg R10 ) and L184: R7 in ( R29 -Seg R10 ) and L185: R5 = [ R6 , R7 ] by L182 , ZFMISC_1:def 2;
L186: (R6 in ( R29 -Seg R7 ) or (R6 = R7 & (not R6 in ( R29 -Seg R7 )))) by L181 , L185 , WELLORD1:1;
L187: (R6 in ( R28 -Seg R7 ) or (R6 = R7 & (not R6 in ( R28 -Seg R7 )))) by L186 , L81 , L166 , L168 , L184;
L188: R6 in ( field R28 ) by L79 , L166 , L168 , L183;
thus L189: thesis by L188 , L80 , L161 , L166 , L168 , L182 , L185 , L187 , L42 , WELLORD1:1;
end;
thus L190: thesis by L180 , L170 , XBOOLE_0:def 4;
end;
L191: ( R28 |_2 ( R28 -Seg R10 ) ) = ( R29 |_2 ( R29 -Seg R10 ) ) by L169 , TARSKI:1;
thus L192: contradiction by L191 , L79 , L160 , L162 , L165 , L168;
end;
L193: (R14 = ( field R29 ) implies (R29 c= R28 & (for R3 being set holds (R3 in ( field R29 ) implies ( R29 -Seg R3 ) = ( R28 -Seg R3 )))))
proof
assume L194: R14 = ( field R29 );
L195: (for R6 being set holds (for R7 being set holds ([ R6 , R7 ] in R29 implies [ R6 , R7 ] in R28)))
proof
let R6 being set;
let R7 being set;
assume L196: [ R6 , R7 ] in R29;
L197: (R6 in ( R29 -Seg R7 ) or (R6 = R7 & (not R6 in ( R29 -Seg R7 )))) by L196 , WELLORD1:1;
L198: R6 in R14 by L194 , L196 , RELAT_1:15;
L199: R6 in ( field R28 ) by L198 , L79;
L200: R7 in R14 by L194 , L196 , RELAT_1:15;
L201: (R6 in ( R28 -Seg R7 ) or (R6 = R7 & (not R6 in ( R28 -Seg R7 )))) by L200 , L81 , L197;
thus L202: thesis by L201 , L80 , L199 , L42 , WELLORD1:1;
end;
thus L203: thesis by L195 , L81 , L194 , RELAT_1:def 3;
end;
L204: (R14 = ( field R28 ) implies (R28 c= R29 & (for R3 being set holds (R3 in ( field R28 ) implies ( R28 -Seg R3 ) = ( R29 -Seg R3 )))))
proof
assume L205: R14 = ( field R28 );
L206: (for R6 being set holds (for R7 being set holds ([ R6 , R7 ] in R28 implies [ R6 , R7 ] in R29)))
proof
let R6 being set;
let R7 being set;
assume L207: [ R6 , R7 ] in R28;
L208: (R6 in ( R28 -Seg R7 ) or (R6 = R7 & (not R6 in ( R28 -Seg R7 )))) by L207 , WELLORD1:1;
L209: R6 in R14 by L205 , L207 , RELAT_1:15;
L210: R6 in ( field R29 ) by L209 , L79;
L211: R7 in R14 by L205 , L207 , RELAT_1:15;
L212: (R6 in ( R29 -Seg R7 ) or (R6 = R7 & (not R6 in ( R29 -Seg R7 )))) by L211 , L81 , L208;
thus L213: thesis by L212 , L78 , L210 , L42 , WELLORD1:1;
end;
thus L214: thesis by L206 , L81 , L205 , RELAT_1:def 3;
end;
thus L215: thesis by L204 , L157 , L193;
end;
L216: (for R3 being set holds (for R4 being set holds ((R3 in ( field D5 ) & R4 in ( field D5 ) & [ R3 , R4 ] in D5 & [ R4 , R3 ] in D5) implies R3 = R4)))
proof
let R3 being set;
let R4 being set;
assume that
L217: R3 in ( field D5 )
and
L218: R4 in ( field D5 )
and
L219: [ R3 , R4 ] in D5
and
L220: [ R4 , R3 ] in D5;
consider R28 being Relation such that L221: [ R3 , R4 ] in R28 and L222: R28 in R16 by L65 , L219;
consider R29 being Relation such that L223: [ R4 , R3 ] in R29 and L224: R29 in R16 by L65 , L220;
L225: (R29 c= R28 implies R3 = R4)
proof
L226: R28 is  well-ordering by L64 , L222;
L227: R28 well_orders ( field R28 ) by L226 , WELLORD1:4;
L228: R28 is_antisymmetric_in ( field R28 ) by L227 , WELLORD1:def 5;
assume L229: R29 c= R28;
L230: (R3 in ( field R28 ) & R4 in ( field R28 )) by L229 , L223 , RELAT_1:15;
thus L231: thesis by L230 , L221 , L223 , L229 , L228 , RELAT_2:def 4;
end;
L232: (R28 c= R29 implies R3 = R4)
proof
L233: R29 is  well-ordering by L64 , L224;
L234: R29 well_orders ( field R29 ) by L233 , WELLORD1:4;
L235: R29 is_antisymmetric_in ( field R29 ) by L234 , WELLORD1:def 5;
assume L236: R28 c= R29;
L237: (R3 in ( field R29 ) & R4 in ( field R29 )) by L236 , L221 , RELAT_1:15;
thus L238: thesis by L237 , L221 , L223 , L236 , L235 , RELAT_2:def 4;
end;
thus L239: thesis by L232 , L75 , L222 , L224 , L225;
end;
L240: D5 is_antisymmetric_in ( field D5 ) by L216 , RELAT_2:def 4;
L241: (for R27 being Relation holds (R27 in R16 implies ( field R27 ) c= ( field D5 )))
proof
let R27 being Relation;
assume L242: R27 in R16;
let R3 being set;
assume L243: R3 in ( field R27 );
consider R4 being set such that L244: ([ R3 , R4 ] in R27 or [ R4 , R3 ] in R27) by L243 , L1;
L245: ([ R4 , R3 ] in R27 implies [ R4 , R3 ] in D5)
proof
assume L246: [ R4 , R3 ] in R27;
L247: R27 in D4 by L64 , L242;
L248: (ex R6 being set st (ex R7 being set st (R6 in ( union R15 ) & R7 in ( union R15 ) & [ R4 , R3 ] = [ R6 , R7 ]))) by L247 , L246 , ZFMISC_1:84;
thus L249: thesis by L248 , L65 , L242 , L246;
end;
L250: ([ R3 , R4 ] in R27 implies [ R3 , R4 ] in D5)
proof
assume L251: [ R3 , R4 ] in R27;
L252: R27 in D4 by L64 , L242;
L253: (ex R6 being set st (ex R7 being set st (R6 in ( union R15 ) & R7 in ( union R15 ) & [ R3 , R4 ] = [ R6 , R7 ]))) by L252 , L251 , ZFMISC_1:84;
thus L254: thesis by L253 , L65 , L242 , L251;
end;
thus L255: thesis by L250 , L244 , L245 , L1;
end;
L256: (for R4 being set holds (R4 in ( field D5 ) implies (( D5 -Seg R4 ) in R15 & ( R30 . ( D5 -Seg R4 ) ) = R4)))
proof
let R4 being set;
assume L257: R4 in ( field D5 );
consider R27 being Relation such that L258: R4 in ( field R27 ) and L259: R27 in R16 by L257 , L66;
L260: R4 in ( union R15 ) by L66 , L257;
L261: ( field R27 ) c= ( field D5 ) by L241 , L259;
L262: (for R3 being set holds (R3 in ( R27 -Seg R4 ) implies R3 in ( D5 -Seg R4 )))
proof
let R3 being set;
assume L263: R3 in ( R27 -Seg R4 );
L264: [ R3 , R4 ] in R27 by L263 , WELLORD1:1;
L265: R3 in ( field R27 ) by L264 , RELAT_1:15;
L266: R3 in ( union R15 ) by L265 , L66 , L261;
L267: [ R3 , R4 ] in D5 by L266 , L65 , L259 , L260 , L264;
L268: (not R3 = R4) by L263 , WELLORD1:1;
thus L269: thesis by L268 , L267 , WELLORD1:1;
end;
L270: (for R3 being set holds (R3 in ( D5 -Seg R4 ) implies R3 in ( R27 -Seg R4 )))
proof
let R3 being set;
assume L271: R3 in ( D5 -Seg R4 );
L272: [ R3 , R4 ] in D5 by L271 , WELLORD1:1;
consider R28 being Relation such that L273: [ R3 , R4 ] in R28 and L274: R28 in R16 by L272 , L65;
L275: R4 in ( field R28 ) by L273 , RELAT_1:15;
L276: (not R3 = R4) by L271 , WELLORD1:1;
L277: R3 in ( R28 -Seg R4 ) by L276 , L273 , WELLORD1:1;
thus L278: thesis by L277 , L75 , L258 , L259 , L274 , L275;
end;
L279: ( R27 -Seg R4 ) = ( D5 -Seg R4 ) by L270 , L262 , TARSKI:1;
thus L280: thesis by L279 , L64 , L258 , L259;
end;
L281: (for R3 being set holds (for R4 being set holds ((R3 in ( field D5 ) & R4 in ( field D5 ) & R3 <> R4) implies ([ R3 , R4 ] in D5 or [ R4 , R3 ] in D5))))
proof
let R3 being set;
let R4 being set;
assume that
L282: R3 in ( field D5 )
and
L283: R4 in ( field D5 )
and
L284: R3 <> R4;
consider R29 being Relation such that L285: R4 in ( field R29 ) and L286: R29 in R16 by L66 , L283;
consider R28 being Relation such that L287: R3 in ( field R28 ) and L288: R28 in R16 by L66 , L282;
L289: (R3 in ( union R15 ) & R4 in ( union R15 )) by L66 , L282 , L283;
L290: (R29 c= R28 implies ([ R3 , R4 ] in D5 or [ R4 , R3 ] in D5))
proof
L291: R28 is  well-ordering by L64 , L288;
L292: R28 well_orders ( field R28 ) by L291 , WELLORD1:4;
L293: R28 is_connected_in ( field R28 ) by L292 , WELLORD1:def 5;
assume L294: R29 c= R28;
L295: ( field R29 ) c= ( field R28 ) by L294 , RELAT_1:16;
L296: ([ R3 , R4 ] in R28 or [ R4 , R3 ] in R28) by L295 , L284 , L287 , L285 , L293 , RELAT_2:def 6;
thus L297: thesis by L296 , L65 , L288 , L289;
end;
L298: (R28 c= R29 implies ([ R3 , R4 ] in D5 or [ R4 , R3 ] in D5))
proof
L299: R29 is  well-ordering by L64 , L286;
L300: R29 well_orders ( field R29 ) by L299 , WELLORD1:4;
L301: R29 is_connected_in ( field R29 ) by L300 , WELLORD1:def 5;
assume L302: R28 c= R29;
L303: ( field R28 ) c= ( field R29 ) by L302 , RELAT_1:16;
L304: ([ R3 , R4 ] in R29 or [ R4 , R3 ] in R29) by L303 , L284 , L287 , L285 , L301 , RELAT_2:def 6;
thus L305: thesis by L304 , L65 , L289 , L286;
end;
thus L306: thesis by L298 , L75 , L288 , L286 , L290;
end;
L307: D5 is_connected_in ( field D5 ) by L281 , RELAT_2:def 6;
L308: D5 is_well_founded_in ( field D5 )
proof
let R20 being set;
assume that
L309: R20 c= ( field D5 )
and
L310: R20 <> ( {} );
set D10 = the (Element of R20);
L311: D10 in ( field D5 ) by L309 , L310 , TARSKI:def 3;
consider R27 being Relation such that L312: D10 in ( field R27 ) and L313: R27 in R16 by L311 , L66;
L314: R27 is  well-ordering by L64 , L313;
L315: R27 well_orders ( field R27 ) by L314 , WELLORD1:4;
L316: R27 is_well_founded_in ( field R27 ) by L315 , WELLORD1:def 5;
set D11 = ( R20 /\ ( field R27 ) );
L317: D11 c= ( field R27 ) by XBOOLE_1:17;
L318: D11 <> ( {} ) by L310 , L312 , XBOOLE_0:def 4;
consider R1 being set such that L319: R1 in D11 and L320: ( R27 -Seg R1 ) misses D11 by L318 , L316 , L317 , WELLORD1:def 3;
L321: (ex R2 being set st (R2 in R20 & ( D5 -Seg R2 ) misses R20))
proof
take D12 = R1;
thus L322: D12 in R20 by L319 , XBOOLE_0:def 4;
assume L323: (not thesis);
consider C2 being set such that L324: C2 in ( D5 -Seg D12 ) and L325: C2 in R20 by L323 , XBOOLE_0:3;
L326: [ C2 , D12 ] in D5 by L324 , WELLORD1:1;
consider R28 being Relation such that L327: [ C2 , D12 ] in R28 and L328: R28 in R16 by L326 , L65;
L329: D12 in ( field R28 ) by L327 , RELAT_1:15;
L330: C2 <> D12 by L324 , WELLORD1:1;
L331: C2 in ( R28 -Seg D12 ) by L330 , L327 , WELLORD1:1;
L332: C2 in ( R27 -Seg R1 ) by L331 , L75 , L313 , L317 , L319 , L328 , L329;
L333: [ C2 , R1 ] in R27 by L332 , WELLORD1:1;
L334: C2 in ( field R27 ) by L333 , RELAT_1:15;
L335: C2 in D11 by L334 , L325 , XBOOLE_0:def 4;
thus L336: contradiction by L335 , L320 , L332 , XBOOLE_0:3;
end;
thus L337: thesis by L321;
end;
L338: (for R3 being set holds (for R4 being set holds (for R5 being set holds ((R3 in ( field D5 ) & R4 in ( field D5 ) & R5 in ( field D5 ) & [ R3 , R4 ] in D5 & [ R4 , R5 ] in D5) implies [ R3 , R5 ] in D5))))
proof
let R3 being set;
let R4 being set;
let R5 being set;
assume that
L339: R3 in ( field D5 )
and
L340: R4 in ( field D5 )
and
L341: R5 in ( field D5 )
and
L342: [ R3 , R4 ] in D5
and
L343: [ R4 , R5 ] in D5;
L344: (R3 in ( union R15 ) & R5 in ( union R15 )) by L65 , L342 , L343;
consider R28 being Relation such that L345: [ R3 , R4 ] in R28 and L346: R28 in R16 by L65 , L342;
consider R29 being Relation such that L347: [ R4 , R5 ] in R29 and L348: R29 in R16 by L65 , L343;
L349: (ex R27 being Relation st ([ R3 , R4 ] in R27 & [ R4 , R5 ] in R27 & R27 in R16))
proof
take D13 = R29;
L350: ((not R3 in ( R28 -Seg R4 )) implies [ R3 , R4 ] in D13)
proof
L351: R28 is  well-ordering by L64 , L346;
L352: R28 well_orders ( field R28 ) by L351 , WELLORD1:4;
L353: R28 is_antisymmetric_in ( field R28 ) by L352 , WELLORD1:def 5;
L354: D13 is  well-ordering by L64 , L348;
L355: D13 well_orders ( field D13 ) by L354 , WELLORD1:4;
L356: D13 is_reflexive_in ( field D13 ) by L355 , WELLORD1:def 5;
L357: (R3 in ( field R28 ) & R4 in ( field R28 )) by L345 , RELAT_1:15;
assume L358: (not R3 in ( R28 -Seg R4 ));
L359: [ R4 , R3 ] in R28 by L358 , L357 , L351 , L42;
L360: R3 = R4 by L359 , L345 , L357 , L353 , RELAT_2:def 4;
L361: R4 in ( field D13 ) by L347 , RELAT_1:15;
thus L362: thesis by L361 , L360 , L356 , RELAT_2:def 1;
end;
L363: (R4 in ( field R28 ) & R4 in ( field D13 )) by L345 , L347 , RELAT_1:15;
L364: ( R28 -Seg R4 ) = ( D13 -Seg R4 ) by L363 , L75 , L346 , L348;
thus L365: thesis by L364 , L347 , L348 , L350 , WELLORD1:1;
end;
consider R27 being Relation such that L366: [ R3 , R4 ] in R27 and L367: [ R4 , R5 ] in R27 and L368: R27 in R16 by L349;
L369: R5 in ( field R27 ) by L367 , RELAT_1:15;
L370: R27 is  well-ordering by L64 , L368;
L371: R27 well_orders ( field R27 ) by L370 , WELLORD1:4;
L372: R27 is_transitive_in ( field R27 ) by L371 , WELLORD1:def 5;
L373: (R3 in ( field R27 ) & R4 in ( field R27 )) by L366 , RELAT_1:15;
L374: [ R3 , R5 ] in R27 by L373 , L366 , L367 , L372 , L369 , RELAT_2:def 8;
thus L375: thesis by L374 , L65 , L344 , L368;
end;
L376: D5 is_transitive_in ( field D5 ) by L338 , RELAT_2:def 8;
L377: (for R3 being set holds (R3 in ( field D5 ) implies [ R3 , R3 ] in D5))
proof
let R3 being set;
assume L378: R3 in ( field D5 );
consider R27 being Relation such that L379: R3 in ( field R27 ) and L380: R27 in R16 by L378 , L66;
L381: R27 is  well-ordering by L64 , L380;
L382: R27 well_orders ( field R27 ) by L381 , WELLORD1:4;
L383: R27 is_reflexive_in ( field R27 ) by L382 , WELLORD1:def 5;
L384: [ R3 , R3 ] in R27 by L383 , L379 , RELAT_2:def 1;
L385: R3 in ( union R15 ) by L66 , L378;
thus L386: thesis by L385 , L65 , L380 , L384;
end;
L387: (not ( field D5 ) in R15)
proof
set D14 = ( R30 . ( field D5 ) );
reconsider D15 = [: ( field D5 ) , { D14 } :] as Relation;
reconsider D16 = { [ D14 , D14 ] } as Relation;
reconsider D17 = ( ( D5 \/ [: ( field D5 ) , { D14 } :] ) \/ { [ D14 , D14 ] } ) as Relation;
L388: ({ [ D14 , D14 ] } c= D17 & [ D14 , D14 ] in { [ D14 , D14 ] }) by TARSKI:def 1 , XBOOLE_1:7;
L389: D14 in ( field D17 ) by L388 , RELAT_1:15;
L390: ( field D16 ) = { D14 , D14 } by RELAT_1:17;
L391: ( field D16 ) = ( { D14 } \/ { D14 } ) by L390 , ENUMSET1:1;
L392: (( field D5 ) = ( {} ) implies ( field D17 ) = ( ( field D5 ) \/ { D14 } ))
proof
assume L393: ( field D5 ) = ( {} );
L394: ( field D15 ) = ( {} )
proof
set D18 = the (Element of ( field D15 ));
assume L395: ( field D15 ) <> ( {} );
L396: (ex R7 being set st ([ D18 , R7 ] in D15 or [ R7 , D18 ] in D15)) by L395 , L1;
thus L397: contradiction by L396 , L393 , ZFMISC_1:90;
end;
L398: ( field D17 ) = ( ( field ( D5 \/ D15 ) ) \/ ( field D16 ) ) by RELAT_1:18;
L399: ( field D17 ) = ( ( ( field D5 ) \/ ( {} ) ) \/ { D14 } ) by L398 , L391 , L394 , RELAT_1:18;
thus L400: thesis by L399;
end;
L401: (( field D5 ) <> ( {} ) implies ( field D17 ) = ( ( field D5 ) \/ { D14 } ))
proof
assume L402: ( field D5 ) <> ( {} );
L403: ( field D15 ) = ( ( field D5 ) \/ { D14 } ) by L402 , L4;
L404: ( field D17 ) = ( ( field ( D5 \/ D15 ) ) \/ ( field D16 ) ) by RELAT_1:18;
L405: ( field D17 ) = ( ( ( field D5 ) \/ ( ( field D5 ) \/ { D14 } ) ) \/ { D14 } ) by L404 , L391 , L403 , RELAT_1:18;
L406: ( field D17 ) = ( ( ( ( field D5 ) \/ ( field D5 ) ) \/ { D14 } ) \/ { D14 } ) by L405 , XBOOLE_1:4;
L407: ( field D17 ) = ( ( ( field D5 ) \/ ( field D5 ) ) \/ ( { D14 } \/ { D14 } ) ) by L406 , XBOOLE_1:4;
thus L408: thesis by L407;
end;
L409: (for R3 being set holds (R3 in ( field D17 ) implies (R3 in ( field D5 ) or R3 = D14)))
proof
let R3 being set;
assume L410: R3 in ( field D17 );
L411: (R3 in ( field D5 ) or R3 in { D14 }) by L410 , L401 , L392 , XBOOLE_0:def 3;
thus L412: thesis by L411 , TARSKI:def 1;
end;
L413: (for R3 being set holds (for R4 being set holds ([ R3 , R4 ] in D17 iff ([ R3 , R4 ] in D5 or [ R3 , R4 ] in D15 or [ R3 , R4 ] in D16))))
proof
let R3 being set;
let R4 being set;
L414: ([ R3 , R4 ] in D17 iff ([ R3 , R4 ] in ( D5 \/ D15 ) or [ R3 , R4 ] in D16)) by XBOOLE_0:def 3;
thus L415: thesis by L414 , XBOOLE_0:def 3;
end;
L416: (for R3 being set holds (for R4 being set holds ((R3 in ( field D17 ) & R4 in ( field D17 ) & R3 <> R4) implies ([ R3 , R4 ] in D17 or [ R4 , R3 ] in D17))))
proof
let R3 being set;
let R4 being set;
assume that
L417: R3 in ( field D17 )
and
L418: R4 in ( field D17 )
and
L419: R3 <> R4;
L420: ((not R3 in ( field D5 )) implies ([ R3 , R4 ] in D17 or [ R4 , R3 ] in D17))
proof
assume L421: (not R3 in ( field D5 ));
L422: R3 = D14 by L421 , L409 , L417;
L423: (R4 in ( field D5 ) implies ([ R3 , R4 ] in D17 or [ R4 , R3 ] in D17))
proof
assume L424: R4 in ( field D5 );
L425: [ R4 , R3 ] in D15 by L424 , L422 , ZFMISC_1:106;
thus L426: thesis by L425 , L413;
end;
L427: (R4 = D14 implies ([ R3 , R4 ] in D17 or [ R4 , R3 ] in D17))
proof
assume L428: R4 = D14;
L429: [ R3 , R4 ] in D16 by L428 , L422 , TARSKI:def 1;
thus L430: thesis by L429 , L413;
end;
thus L431: thesis by L427 , L409 , L418 , L423;
end;
L432: ((not R4 in ( field D5 )) implies ([ R3 , R4 ] in D17 or [ R4 , R3 ] in D17))
proof
assume L433: (not R4 in ( field D5 ));
L434: R4 = D14 by L433 , L409 , L418;
L435: (R3 in ( field D5 ) implies ([ R4 , R3 ] in D17 or [ R3 , R4 ] in D17))
proof
assume L436: R3 in ( field D5 );
L437: [ R3 , R4 ] in D15 by L436 , L434 , ZFMISC_1:106;
thus L438: thesis by L437 , L413;
end;
L439: (R3 = D14 implies ([ R4 , R3 ] in D17 or [ R3 , R4 ] in D17))
proof
assume L440: R3 = D14;
L441: [ R4 , R3 ] in D16 by L440 , L434 , TARSKI:def 1;
thus L442: thesis by L441 , L413;
end;
thus L443: thesis by L439 , L409 , L417 , L435;
end;
L444: ((R3 in ( field D5 ) & R4 in ( field D5 )) implies ([ R3 , R4 ] in D17 or [ R4 , R3 ] in D17))
proof
assume L445: (R3 in ( field D5 ) & R4 in ( field D5 ));
L446: ([ R3 , R4 ] in D5 or [ R4 , R3 ] in D5) by L445 , L281 , L419;
thus L447: thesis by L446 , L413;
end;
thus L448: thesis by L444 , L420 , L432;
end;
L449: D17 is_connected_in ( field D17 ) by L416 , RELAT_2:def 6;
assume L450: ( field D5 ) in R15;
L451: (for R3 being set holds (for R4 being set holds ([ R3 , R4 ] in D17 implies [ R3 , R4 ] in [: ( union R15 ) , ( union R15 ) :])))
proof
let R3 being set;
let R4 being set;
assume L452: [ R3 , R4 ] in D17;
L453: R4 in ( field D17 ) by L452 , RELAT_1:15;
L454: (R4 in ( field D5 ) or R4 = D14) by L453 , L409;
L455: R4 in ( union R15 ) by L454 , L63 , L66 , L450;
L456: R3 in ( field D17 ) by L452 , RELAT_1:15;
L457: (R3 in ( field D5 ) or R3 = D14) by L456 , L409;
L458: R3 in ( union R15 ) by L457 , L63 , L66 , L450;
thus L459: thesis by L458 , L455 , ZFMISC_1:def 2;
end;
L460: D17 c= [: ( union R15 ) , ( union R15 ) :] by L451 , RELAT_1:def 3;
L461: (not D14 in ( field D5 )) by L63 , L450;
L462: (for R3 being set holds (for R4 being set holds (([ R3 , R4 ] in D17 & R4 in ( field D5 )) implies ([ R3 , R4 ] in D5 & R3 in ( field D5 )))))
proof
let R3 being set;
let R4 being set;
assume that
L463: [ R3 , R4 ] in D17
and
L464: R4 in ( field D5 );
L465: (not [ R3 , R4 ] in D16)
proof
assume L466: [ R3 , R4 ] in D16;
L467: [ R3 , R4 ] = [ D14 , D14 ] by L466 , TARSKI:def 1;
thus L468: contradiction by L467 , L461 , L464 , XTUPLE_0:1;
end;
L469: (not [ R3 , R4 ] in D15) by L461 , L464 , ZFMISC_1:106;
thus L470: [ R3 , R4 ] in D5 by L469 , L413 , L463 , L465;
L471: ([ R3 , R4 ] in D5 or [ R3 , R4 ] in D15 or [ R3 , R4 ] in D16) by L413 , L463;
thus L472: thesis by L471 , L465 , RELAT_1:15 , ZFMISC_1:106;
end;
L473: (for R3 being set holds (for R4 being set holds ((R3 in ( field D17 ) & R4 in ( field D17 ) & [ R3 , R4 ] in D17 & [ R4 , R3 ] in D17) implies R3 = R4)))
proof
let R3 being set;
let R4 being set;
assume that
L474: R3 in ( field D17 )
and
L475: R4 in ( field D17 )
and
L476: [ R3 , R4 ] in D17
and
L477: [ R4 , R3 ] in D17;
L478: (R3 in ( field D5 ) implies R3 = R4)
proof
assume L479: R3 in ( field D5 );
L480: [ R4 , R3 ] in D5 by L479 , L462 , L477;
L481: R4 in ( field D5 ) by L462 , L477 , L479;
L482: [ R3 , R4 ] in D5 by L481 , L462 , L476;
thus L483: thesis by L482 , L216 , L479 , L480 , L481;
end;
L484: (R4 in ( field D5 ) implies R3 = R4)
proof
assume L485: R4 in ( field D5 );
L486: [ R3 , R4 ] in D5 by L485 , L462 , L476;
L487: R3 in ( field D5 ) by L462 , L476 , L485;
L488: [ R4 , R3 ] in D5 by L487 , L462 , L477;
thus L489: thesis by L488 , L216 , L485 , L486 , L487;
end;
L490: (R4 in ( field D5 ) or R4 = D14) by L409 , L475;
thus L491: thesis by L490 , L409 , L474 , L478 , L484;
end;
L492: D17 is_antisymmetric_in ( field D17 ) by L473 , RELAT_2:def 4;
L493: (for R4 being set holds (R4 in ( field D5 ) implies ( D17 -Seg R4 ) = ( D5 -Seg R4 )))
proof
let R4 being set;
assume L494: R4 in ( field D5 );
L495: (for R3 being set holds (R3 in ( D17 -Seg R4 ) implies R3 in ( D5 -Seg R4 )))
proof
let R3 being set;
assume L496: R3 in ( D17 -Seg R4 );
L497: [ R3 , R4 ] in D17 by L496 , WELLORD1:1;
L498: [ R3 , R4 ] in D5 by L497 , L462 , L494;
L499: R3 <> R4 by L496 , WELLORD1:1;
thus L500: thesis by L499 , L498 , WELLORD1:1;
end;
L501: (for R3 being set holds (R3 in ( D5 -Seg R4 ) implies R3 in ( D17 -Seg R4 )))
proof
let R3 being set;
assume L502: R3 in ( D5 -Seg R4 );
L503: [ R3 , R4 ] in D5 by L502 , WELLORD1:1;
L504: [ R3 , R4 ] in D17 by L503 , L413;
L505: R3 <> R4 by L502 , WELLORD1:1;
thus L506: thesis by L505 , L504 , WELLORD1:1;
end;
thus L507: thesis by L501 , L495 , TARSKI:1;
end;
L508: D17 is_well_founded_in ( field D17 )
proof
let R20 being set;
assume that
L509: R20 c= ( field D17 )
and
L510: R20 <> ( {} );
L511: ((not R20 c= ( field D5 )) implies (ex R1 being set st (R1 in R20 & ( D17 -Seg R1 ) misses R20)))
proof
assume L512: (not R20 c= ( field D5 ));
L513: ((not ( ( field D5 ) /\ R20 ) = ( {} )) implies (ex R1 being set st (R1 in R20 & ( D17 -Seg R1 ) misses R20)))
proof
set D19 = ( ( field D5 ) /\ R20 );
L514: D19 c= ( field D5 ) by XBOOLE_1:17;
assume L515: (not ( ( field D5 ) /\ R20 ) = ( {} ));
consider R4 being set such that L516: R4 in D19 and L517: ( D5 -Seg R4 ) misses D19 by L515 , L308 , L514 , WELLORD1:def 3;
L518: ( ( D5 -Seg R4 ) /\ R20 ) c= ( ( D5 -Seg R4 ) /\ D19 )
proof
let R3 being set;
assume L519: R3 in ( ( D5 -Seg R4 ) /\ R20 );
L520: R3 in R20 by L519 , XBOOLE_0:def 4;
L521: R3 in ( D5 -Seg R4 ) by L519 , XBOOLE_0:def 4;
L522: [ R3 , R4 ] in D5 by L521 , WELLORD1:1;
L523: R3 in ( field D5 ) by L522 , RELAT_1:15;
L524: R3 in D19 by L523 , L520 , XBOOLE_0:def 4;
thus L525: thesis by L524 , L521 , XBOOLE_0:def 4;
end;
L526: ( ( D5 -Seg R4 ) /\ D19 ) = ( {} ) by L517 , XBOOLE_0:def 7;
L527: ( ( D17 -Seg R4 ) /\ R20 ) = ( {} ) by L526 , L493 , L514 , L516 , L518;
L528: ( D17 -Seg R4 ) misses R20 by L527 , XBOOLE_0:def 7;
L529: R4 in R20 by L516 , XBOOLE_0:def 4;
thus L530: thesis by L529 , L528;
end;
L531: (( ( field D5 ) /\ R20 ) = ( {} ) implies (ex R1 being set st (R1 in R20 & ( D17 -Seg R1 ) misses R20)))
proof
set D20 = the (Element of R20);
L532: ( D17 -Seg D14 ) c= ( field D5 )
proof
let C3 being set;
assume L533: C3 in ( D17 -Seg D14 );
L534: [ C3 , D14 ] in D17 by L533 , WELLORD1:1;
L535: C3 in ( field D17 ) by L534 , RELAT_1:15;
L536: C3 <> D14 by L533 , WELLORD1:1;
thus L537: thesis by L536 , L409 , L535;
end;
L538: D20 in ( field D17 ) by L509 , L510 , TARSKI:def 3;
assume L539: ( ( field D5 ) /\ R20 ) = ( {} );
L540: (not D20 in ( field D5 )) by L539 , L510 , XBOOLE_0:def 4;
L541: D20 = D14 by L540 , L409 , L538;
L542: ( ( D17 -Seg D20 ) /\ R20 ) = ( {} ) by L541 , L539 , L532 , XBOOLE_1:3 , XBOOLE_1:26;
L543: ( D17 -Seg D20 ) misses R20 by L542 , XBOOLE_0:def 7;
thus L544: thesis by L543 , L510;
end;
thus L545: thesis by L531 , L513;
end;
L546: (R20 c= ( field D5 ) implies (ex R1 being set st (R1 in R20 & ( D17 -Seg R1 ) misses R20)))
proof
assume L547: R20 c= ( field D5 );
consider R2 being set such that L548: (R2 in R20 & ( D5 -Seg R2 ) misses R20) by L547 , L308 , L510 , WELLORD1:def 3;
take R2;
thus L549: thesis by L493 , L547 , L548;
end;
thus L550: thesis by L546 , L511;
end;
L551: (for R4 being set holds (R4 in ( field D17 ) implies (( D17 -Seg R4 ) in R15 & ( R30 . ( D17 -Seg R4 ) ) = R4)))
proof
let R4 being set;
L552: (R4 in ( field D5 ) implies ( D17 -Seg R4 ) = ( D5 -Seg R4 ))
proof
assume L553: R4 in ( field D5 );
L554: (for R3 being set holds (R3 in ( D17 -Seg R4 ) implies R3 in ( D5 -Seg R4 )))
proof
let R3 being set;
L555: ([ R3 , R4 ] in D16 implies [ R3 , R4 ] = [ D14 , D14 ]) by TARSKI:def 1;
assume L556: R3 in ( D17 -Seg R4 );
L557: [ R3 , R4 ] in D17 by L556 , WELLORD1:1;
L558: ([ R3 , R4 ] in ( D5 \/ D15 ) or [ R3 , R4 ] in D16) by L557 , XBOOLE_0:def 3;
L559: ([ R3 , R4 ] in D5 or [ R3 , R4 ] in D15 or [ R3 , R4 ] in D16) by L558 , XBOOLE_0:def 3;
L560: (not R3 = R4) by L556 , WELLORD1:1;
thus L561: thesis by L560 , L461 , L553 , L559 , L555 , WELLORD1:1 , XTUPLE_0:1 , ZFMISC_1:106;
end;
L562: (for R3 being set holds (R3 in ( D5 -Seg R4 ) implies R3 in ( D17 -Seg R4 )))
proof
let R3 being set;
assume L563: R3 in ( D5 -Seg R4 );
L564: [ R3 , R4 ] in D5 by L563 , WELLORD1:1;
L565: [ R3 , R4 ] in ( D5 \/ D15 ) by L564 , XBOOLE_0:def 3;
L566: [ R3 , R4 ] in D17 by L565 , XBOOLE_0:def 3;
L567: (not R3 = R4) by L563 , WELLORD1:1;
thus L568: thesis by L567 , L566 , WELLORD1:1;
end;
thus L569: thesis by L562 , L554 , TARSKI:1;
end;
L570: (for R3 being set holds (R3 in ( D17 -Seg D14 ) implies R3 in ( field D5 )))
proof
let R3 being set;
assume L571: R3 in ( D17 -Seg D14 );
L572: [ R3 , D14 ] in D17 by L571 , WELLORD1:1;
L573: R3 in ( field D17 ) by L572 , RELAT_1:15;
L574: (not R3 = D14) by L571 , WELLORD1:1;
thus L575: thesis by L574 , L409 , L573;
end;
L576: (for R3 being set holds (R3 in ( field D5 ) implies R3 in ( D17 -Seg D14 )))
proof
let R3 being set;
assume L577: R3 in ( field D5 );
L578: [ R3 , D14 ] in D15 by L577 , ZFMISC_1:106;
L579: [ R3 , D14 ] in ( D5 \/ D15 ) by L578 , XBOOLE_0:def 3;
L580: [ R3 , D14 ] in D17 by L579 , XBOOLE_0:def 3;
thus L581: thesis by L580 , L461 , L577 , WELLORD1:1;
end;
assume L582: R4 in ( field D17 );
L583: (R4 in ( field D5 ) or R4 = D14) by L582 , L409;
thus L584: thesis by L583 , L256 , L450 , L552 , L570 , L576 , TARSKI:1;
end;
L585: (for R3 being set holds (for R4 being set holds (for R5 being set holds ((R3 in ( field D17 ) & R4 in ( field D17 ) & R5 in ( field D17 ) & [ R3 , R4 ] in D17 & [ R4 , R5 ] in D17) implies [ R3 , R5 ] in D17))))
proof
let R3 being set;
let R4 being set;
let R5 being set;
assume that
L586: R3 in ( field D17 )
and
L587: R4 in ( field D17 )
and
L588: R5 in ( field D17 )
and
L589: [ R3 , R4 ] in D17
and
L590: [ R4 , R5 ] in D17;
L591: (R5 = D14 implies [ R3 , R5 ] in D17)
proof
assume L592: R5 = D14;
L593: (R3 = D14 implies [ R3 , R5 ] in D17)
proof
assume L594: R3 = D14;
L595: [ R3 , R5 ] in D16 by L594 , L592 , TARSKI:def 1;
thus L596: thesis by L595 , L413;
end;
L597: (R3 in ( field D5 ) implies [ R3 , R5 ] in D17)
proof
assume L598: R3 in ( field D5 );
L599: [ R3 , R5 ] in D15 by L598 , L592 , ZFMISC_1:106;
thus L600: thesis by L599 , L413;
end;
thus L601: thesis by L597 , L409 , L586 , L593;
end;
L602: (R5 in ( field D5 ) implies [ R3 , R5 ] in D17)
proof
assume L603: R5 in ( field D5 );
L604: [ R4 , R5 ] in D5 by L603 , L462 , L590;
L605: R4 in ( field D5 ) by L462 , L590 , L603;
L606: ([ R3 , R4 ] in D5 & R3 in ( field D5 )) by L605 , L462 , L589;
L607: [ R3 , R5 ] in D5 by L606 , L338 , L603 , L604 , L605;
thus L608: thesis by L607 , L413;
end;
thus L609: thesis by L602 , L409 , L588 , L591;
end;
L610: D17 is_transitive_in ( field D17 ) by L585 , RELAT_2:def 8;
L611: (for R3 being set holds (R3 in ( field D17 ) implies [ R3 , R3 ] in D17))
proof
let R3 being set;
L612: (R3 = D14 implies [ R3 , R3 ] in D17)
proof
L613: [ D14 , D14 ] in D16 by TARSKI:def 1;
assume L614: R3 = D14;
thus L615: thesis by L614 , L413 , L613;
end;
L616: (R3 in ( field D5 ) implies [ R3 , R3 ] in D17)
proof
assume L617: R3 in ( field D5 );
L618: [ R3 , R3 ] in D5 by L617 , L377;
thus L619: thesis by L618 , L413;
end;
assume L620: R3 in ( field D17 );
thus L621: thesis by L620 , L409 , L616 , L612;
end;
L622: D17 is_reflexive_in ( field D17 ) by L611 , RELAT_2:def 1;
L623: D17 well_orders ( field D17 ) by L622 , L610 , L492 , L449 , L508 , WELLORD1:def 5;
L624: D17 is  well-ordering by L623 , WELLORD1:4;
L625: D17 in R16 by L624 , L64 , L460 , L551;
L626: ( field D17 ) c= ( field D5 ) by L625 , L241;
thus L627: contradiction by L626 , L63 , L450 , L389;
end;
L628: D5 is_reflexive_in ( field D5 ) by L377 , RELAT_2:def 1;
L629: D5 well_orders ( field D5 ) by L628 , L376 , L240 , L307 , L308 , WELLORD1:def 5;
thus L630: thesis by L629 , L256 , L387 , WELLORD1:4;
end;
L631: (for R17 being set holds (for R19 being set holds (R19 , R17 are_equipotent  iff (ex R21 being set st ((for R3 being set holds (R3 in R19 implies (ex R4 being set st (R4 in R17 & [ R3 , R4 ] in R21)))) & (for R4 being set holds (R4 in R17 implies (ex R3 being set st (R3 in R19 & [ R3 , R4 ] in R21)))) & (for R3 being set holds (for R6 being set holds (for R4 being set holds (for R7 being set holds (([ R3 , R6 ] in R21 & [ R4 , R7 ] in R21) implies (R3 = R4 iff R6 = R7)))))))))))
proof
let R17 being set;
let R19 being set;
L632: ((ex R21 being set st ((for R3 being set holds (R3 in R19 implies (ex R4 being set st (R4 in R17 & [ R3 , R4 ] in R21)))) & (for R4 being set holds (R4 in R17 implies (ex R3 being set st (R3 in R19 & [ R3 , R4 ] in R21)))) & (for R3 being set holds (for R6 being set holds (for R4 being set holds (for R7 being set holds (([ R3 , R6 ] in R21 & [ R4 , R7 ] in R21) implies (R3 = R4 iff R6 = R7)))))))) implies R19 , R17 are_equipotent )
proof
assume L633: (ex R21 being set st ((for R3 being set holds (R3 in R19 implies (ex R4 being set st (R4 in R17 & [ R3 , R4 ] in R21)))) & (for R4 being set holds (R4 in R17 implies (ex R3 being set st (R3 in R19 & [ R3 , R4 ] in R21)))) & (for R3 being set holds (for R6 being set holds (for R4 being set holds (for R7 being set holds (([ R3 , R6 ] in R21 & [ R4 , R7 ] in R21) implies (R3 = R4 iff R6 = R7))))))));
thus L634: (ex R21 being set st ((for R3 being set holds (R3 in R19 implies (ex R4 being set st (R4 in R17 & [ R3 , R4 ] in R21)))) & (for R4 being set holds (R4 in R17 implies (ex R3 being set st (R3 in R19 & [ R3 , R4 ] in R21)))) & (for R3 being set holds (for R6 being set holds (for R4 being set holds (for R7 being set holds (([ R3 , R6 ] in R21 & [ R4 , R7 ] in R21) implies (R3 = R4 iff R6 = R7)))))))) by L633;
end;
L635: (R19 , R17 are_equipotent  implies (ex R21 being set st ((for R3 being set holds (R3 in R19 implies (ex R4 being set st (R4 in R17 & [ R3 , R4 ] in R21)))) & (for R4 being set holds (R4 in R17 implies (ex R3 being set st (R3 in R19 & [ R3 , R4 ] in R21)))) & (for R3 being set holds (for R6 being set holds (for R4 being set holds (for R7 being set holds (([ R3 , R6 ] in R21 & [ R4 , R7 ] in R21) implies (R3 = R4 iff R6 = R7)))))))))
proof
assume L636: (ex R21 being set st ((for R3 being set holds (R3 in R19 implies (ex R4 being set st (R4 in R17 & [ R3 , R4 ] in R21)))) & (for R4 being set holds (R4 in R17 implies (ex R3 being set st (R3 in R19 & [ R3 , R4 ] in R21)))) & (for R3 being set holds (for R6 being set holds (for R4 being set holds (for R7 being set holds (([ R3 , R6 ] in R21 & [ R4 , R7 ] in R21) implies (R3 = R4 iff R6 = R7))))))));
thus L637: thesis by L636;
end;
thus L638: thesis by L635 , L632;
end;
theorem
L639: (for R18 being set holds (ex R24 being Relation st (R24 is  well-ordering & ( field R24 ) = R18)))
proof
let R18 being set;
consider R17 being set such that L640: (R18 in R17 & (for R19 being set holds (for R20 being set holds ((R19 in R17 & R20 c= R19) implies R20 in R17)))) and L641: (for R19 being set holds (R19 in R17 implies ( bool R19 ) in R17)) and L642: (for R19 being set holds (R19 c= R17 implies (R19 , R17 are_equipotent  or R19 in R17))) by ZFMISC_1:112;
defpred S5[ set ] means (not $1 , R17 are_equipotent );
consider R15 being set such that L643: (for R12 being set holds (R12 in R15 iff (R12 in ( bool R17 ) & S5[ R12 ]))) from XBOOLE_0:sch 1;
L644: ( union R15 ) c= R17
proof
let R3 being set;
assume L645: R3 in ( union R15 );
consider R12 being set such that L646: R3 in R12 and L647: R12 in R15 by L645 , TARSKI:def 4;
L648: R12 in ( bool R17 ) by L643 , L647;
thus L649: thesis by L648 , L646;
end;
set D21 = ( id R15 );
L650: (for R21 being set holds (R21 in R15 implies ((not ( D21 . R21 ) in R21) & ( D21 . R21 ) in ( union R15 ))))
proof
let R21 being set;
assume L651: R21 in R15;
L652: (not R21 in R21);
thus L653: (not ( D21 . R21 ) in R21) by L652 , L651 , FUNCT_1:18;
L654: (for R19 being set holds (R19 in R15 implies R19 in ( union R15 )))
proof
let R19 being set;
L655: R19 in { R19 } by TARSKI:def 1;
assume L656: R19 in R15;
L657: (R19 in ( bool R17 ) & (not R19 , R17 are_equipotent )) by L656 , L643;
L658: (not { R19 } , R17 are_equipotent )
proof
L659: R19 <> ( bool R19 )
proof
assume L660: R19 = ( bool R19 );
L661: (not R19 in ( bool R19 )) by L660;
thus L662: contradiction by L661 , ZFMISC_1:def 1;
end;
assume L663: { R19 } , R17 are_equipotent ;
consider R21 being set such that L664: (for R3 being set holds (R3 in { R19 } implies (ex R4 being set st (R4 in R17 & [ R3 , R4 ] in R21)))) and L665: (for R4 being set holds (R4 in R17 implies (ex R3 being set st (R3 in { R19 } & [ R3 , R4 ] in R21)))) and L666: (for R3 being set holds (for R6 being set holds (for R4 being set holds (for R7 being set holds (([ R3 , R6 ] in R21 & [ R4 , R7 ] in R21) implies (R3 = R4 iff R6 = R7)))))) by L663 , L631;
L667: ( bool R19 ) in R17 by L641 , L642 , L657;
consider R4 being set such that L668: R4 in { R19 } and L669: [ R4 , ( bool R19 ) ] in R21 by L667 , L665;
consider R3 being set such that L670: R3 in { R19 } and L671: [ R3 , R19 ] in R21 by L642 , L657 , L665;
L672: R3 = R19 by L670 , TARSKI:def 1;
L673: R4 = R3 by L672 , L668 , TARSKI:def 1;
thus L674: contradiction by L673 , L666 , L659 , L671 , L669;
end;
L675: R19 in R17 by L642 , L657;
L676: (for R3 being set holds (R3 in { R19 } implies R3 in R17)) by L675 , TARSKI:def 1;
L677: { R19 } c= R17 by L676 , TARSKI:def 3;
L678: { R19 } in R15 by L677 , L643 , L658;
thus L679: thesis by L678 , L655 , TARSKI:def 4;
end;
L680: R21 in ( union R15 ) by L654 , L651;
thus L681: thesis by L680 , L651 , FUNCT_1:18;
end;
consider R25 being Relation such that L682: ( field R25 ) c= ( union R15 ) and L683: R25 is  well-ordering and L684: (not ( field R25 ) in R15) and L685: (for R4 being set holds (R4 in ( field R25 ) implies (( R25 -Seg R4 ) in R15 & ( D21 . ( R25 -Seg R4 ) ) = R4))) by L650 , L62;
L686: ((not ( field R25 ) c= R17) or ( field R25 ) , R17 are_equipotent ) by L643 , L684;
consider R21 being set such that L687: (for R3 being set holds (R3 in ( field R25 ) implies (ex R4 being set st (R4 in R17 & [ R3 , R4 ] in R21)))) and L688: (for R4 being set holds (R4 in R17 implies (ex R3 being set st (R3 in ( field R25 ) & [ R3 , R4 ] in R21)))) and L689: (for R3 being set holds (for R6 being set holds (for R4 being set holds (for R7 being set holds (([ R3 , R6 ] in R21 & [ R4 , R7 ] in R21) implies (R3 = R4 iff R6 = R7)))))) by L686 , L644 , L682 , L631 , XBOOLE_1:1;
defpred S6[ set , set ] means [ $2 , $1 ] in R21;
L690: (for R3 being set holds (R3 in R17 implies (ex R4 being set st S6[ R3 , R4 ])))
proof
let R3 being set;
assume L691: R3 in R17;
L692: (ex R4 being set st (R4 in ( field R25 ) & [ R4 , R3 ] in R21)) by L691 , L688;
thus L693: thesis by L692;
end;
L694: (for R3 being set holds (for R6 being set holds (for R7 being set holds ((R3 in R17 & S6[ R3 , R6 ] & S6[ R3 , R7 ]) implies R6 = R7)))) by L689;
consider R31 being Function such that L695: ( dom R31 ) = R17 and L696: (for R3 being set holds (R3 in R17 implies S6[ R3 , ( R31 . R3 ) ])) from FUNCT_1:sch 2(L694 , L690);
defpred S7[ set , set ] means $2 = { $1 };
defpred S8[ set ] means (ex R3 being set st (ex R4 being set st ($1 = [ R3 , R4 ] & [ ( R31 . R3 ) , ( R31 . R4 ) ] in R25)));
consider R22 being set such that L697: (for R5 being set holds (R5 in R22 iff (R5 in [: R17 , R17 :] & S8[ R5 ]))) from XBOOLE_0:sch 1;
L698: (for R3 being set holds (R3 in ( field R25 ) implies R3 in ( rng R31 )))
proof
let R3 being set;
assume L699: R3 in ( field R25 );
consider R4 being set such that L700: R4 in R17 and L701: [ R3 , R4 ] in R21 by L699 , L687;
set D22 = ( R31 . R4 );
L702: (D22 in ( rng R31 ) & [ D22 , R4 ] in R21) by L695 , L696 , L700 , FUNCT_1:def 3;
thus L703: thesis by L702 , L689 , L701;
end;
L704: (for R6 being set holds (for R7 being set holds ((R6 in ( dom R31 ) & R7 in ( dom R31 ) & ( R31 . R6 ) = ( R31 . R7 )) implies R6 = R7)))
proof
let R6 being set;
let R7 being set;
assume that
L705: (R6 in ( dom R31 ) & R7 in ( dom R31 ))
and
L706: ( R31 . R6 ) = ( R31 . R7 );
L707: ([ ( R31 . R6 ) , R6 ] in R21 & [ ( R31 . R7 ) , R7 ] in R21) by L695 , L696 , L705;
thus L708: thesis by L707 , L689 , L706;
end;
L709: R31 is  one-to-one by L704 , FUNCT_1:def 4;
L710: (for R5 being set holds (R5 in R22 implies (ex R3 being set st (ex R4 being set st R5 = [ R3 , R4 ]))))
proof
let R5 being set;
assume L711: R5 in R22;
L712: (ex R6 being set st (ex R7 being set st (R5 = [ R6 , R7 ] & [ ( R31 . R6 ) , ( R31 . R7 ) ] in R25))) by L711 , L697;
thus L713: thesis by L712;
end;
reconsider D23 = R22 as Relation by L710 , RELAT_1:def 1;
L714: (for R5 being set holds (R5 in ( field D23 ) implies R5 in R17))
proof
let R5 being set;
assume L715: R5 in ( field D23 );
consider R6 being set such that L716: ([ R5 , R6 ] in D23 or [ R6 , R5 ] in D23) by L715 , L1;
L717: ([ R6 , R5 ] in D23 implies R5 in R17)
proof
assume L718: [ R6 , R5 ] in D23;
L719: [ R6 , R5 ] in [: R17 , R17 :] by L718 , L697;
thus L720: thesis by L719 , ZFMISC_1:87;
end;
L721: ([ R5 , R6 ] in D23 implies R5 in R17)
proof
assume L722: [ R5 , R6 ] in D23;
L723: [ R5 , R6 ] in [: R17 , R17 :] by L722 , L697;
thus L724: thesis by L723 , ZFMISC_1:87;
end;
thus L725: thesis by L721 , L716 , L717;
end;
L726: (for R3 being set holds (R3 in R18 implies (ex R4 being set st S7[ R3 , R4 ])));
L727: (for R3 being set holds (for R6 being set holds (for R7 being set holds ((R3 in R18 & S7[ R3 , R6 ] & S7[ R3 , R7 ]) implies R6 = R7))));
consider R32 being Function such that L728: ( dom R32 ) = R18 and L729: (for R3 being set holds (R3 in R18 implies S7[ R3 , ( R32 . R3 ) ])) from FUNCT_1:sch 2(L727 , L726);
L730: (for R6 being set holds (for R7 being set holds ((R6 in ( dom R32 ) & R7 in ( dom R32 ) & ( R32 . R6 ) = ( R32 . R7 )) implies R6 = R7)))
proof
let R6 being set;
let R7 being set;
assume that
L731: R6 in ( dom R32 )
and
L732: R7 in ( dom R32 )
and
L733: ( R32 . R6 ) = ( R32 . R7 );
L734: ( R32 . R6 ) = { R6 } by L728 , L729 , L731;
L735: R6 in ( R32 . R7 ) by L734 , L733 , TARSKI:def 1;
L736: ( R32 . R7 ) = { R7 } by L728 , L729 , L732;
thus L737: thesis by L736 , L735 , TARSKI:def 1;
end;
L738: R32 is  one-to-one by L730 , FUNCT_1:def 4;
set D24 = ( D23 |_2 ( rng R32 ) );
L739: (for R3 being set holds (R3 in ( rng R31 ) implies R3 in ( field R25 )))
proof
let R3 being set;
assume L740: R3 in ( rng R31 );
consider R6 being set such that L741: (R6 in ( dom R31 ) & R3 = ( R31 . R6 )) by L740 , FUNCT_1:def 3;
L742: ((ex R7 being set st (R7 in ( field R25 ) & [ R7 , R6 ] in R21)) & [ R3 , R6 ] in R21) by L688 , L695 , L696 , L741;
thus L743: thesis by L742 , L689;
end;
L744: ( rng R31 ) = ( field R25 ) by L739 , L698 , TARSKI:1;
L745: (for R5 being set holds (R5 in R17 implies R5 in ( field D23 )))
proof
let R5 being set;
assume L746: R5 in R17;
L747: (ex R6 being set st ([ R5 , R6 ] in D23 or [ R6 , R5 ] in D23))
proof
L748: ( R31 . R5 ) in ( field R25 ) by L695 , L744 , L746 , FUNCT_1:def 3;
consider R7 being set such that L749: ([ ( R31 . R5 ) , R7 ] in R25 or [ R7 , ( R31 . R5 ) ] in R25) by L748 , L1;
L750: ([ ( R31 . R5 ) , R7 ] in R25 implies (ex R6 being set st ([ R5 , R6 ] in D23 or [ R6 , R5 ] in D23)))
proof
assume L751: [ ( R31 . R5 ) , R7 ] in R25;
L752: R7 in ( rng R31 ) by L751 , L744 , RELAT_1:15;
consider R8 being set such that L753: R8 in ( dom R31 ) and L754: R7 = ( R31 . R8 ) by L752 , FUNCT_1:def 3;
take R8;
L755: [ R5 , R8 ] in [: R17 , R17 :] by L695 , L746 , L753 , ZFMISC_1:87;
thus L756: thesis by L755 , L697 , L751 , L754;
end;
L757: ([ R7 , ( R31 . R5 ) ] in R25 implies (ex R6 being set st ([ R5 , R6 ] in D23 or [ R6 , R5 ] in D23)))
proof
assume L758: [ R7 , ( R31 . R5 ) ] in R25;
L759: R7 in ( rng R31 ) by L758 , L744 , RELAT_1:15;
consider R8 being set such that L760: R8 in ( dom R31 ) and L761: R7 = ( R31 . R8 ) by L759 , FUNCT_1:def 3;
take R8;
L762: [ R8 , R5 ] in [: R17 , R17 :] by L695 , L746 , L760 , ZFMISC_1:87;
thus L763: thesis by L762 , L697 , L758 , L761;
end;
thus L764: thesis by L757 , L749 , L750;
end;
thus L765: thesis by L747 , L1;
end;
L766: ( field D23 ) = R17 by L745 , L714 , TARSKI:1;
L767: (for R1 being set holds (for R2 being set holds ([ R1 , R2 ] in D23 iff (R1 in ( field D23 ) & R2 in ( field D23 ) & [ ( R31 . R1 ) , ( R31 . R2 ) ] in R25))))
proof
let R1 being set;
let R2 being set;
L768: ([ R1 , R2 ] in D23 implies (R1 in ( field D23 ) & R2 in ( field D23 ) & [ ( R31 . R1 ) , ( R31 . R2 ) ] in R25))
proof
assume L769: [ R1 , R2 ] in D23;
L770: [ R1 , R2 ] in [: R17 , R17 :] by L769 , L697;
consider R3 being set, R4 being set such that L771: [ R1 , R2 ] = [ R3 , R4 ] and L772: [ ( R31 . R3 ) , ( R31 . R4 ) ] in R25 by L697 , L769;
L773: R1 = R3 by L771 , XTUPLE_0:1;
thus L774: thesis by L773 , L766 , L770 , L771 , L772 , XTUPLE_0:1 , ZFMISC_1:87;
end;
L775: ((R1 in ( field D23 ) & R2 in ( field D23 ) & [ ( R31 . R1 ) , ( R31 . R2 ) ] in R25) implies [ R1 , R2 ] in D23)
proof
assume that
L776: (R1 in ( field D23 ) & R2 in ( field D23 ))
and
L777: [ ( R31 . R1 ) , ( R31 . R2 ) ] in R25;
L778: [ R1 , R2 ] in [: R17 , R17 :] by L766 , L776 , ZFMISC_1:87;
thus L779: thesis by L778 , L697 , L777;
end;
thus L780: thesis by L775 , L768;
end;
L781: R31 is_isomorphism_of D23 , R25 by L767 , L695 , L709 , L744 , L766 , WELLORD1:def 7;
L782: ( R31 " ) is_isomorphism_of R25 , D23 by L781 , WELLORD1:39;
L783: D23 is  well-ordering by L782 , L683 , WELLORD1:44;
L784: D24 is  well-ordering by L783 , WELLORD1:25;
defpred S9[ set ] means (ex R3 being set st (ex R4 being set st ($1 = [ R3 , R4 ] & [ ( R32 . R3 ) , ( R32 . R4 ) ] in D24)));
consider R23 being set such that L785: (for R5 being set holds (R5 in R23 iff (R5 in [: R18 , R18 :] & S9[ R5 ]))) from XBOOLE_0:sch 1;
L786: (for R5 being set holds (R5 in R23 implies (ex R3 being set st (ex R4 being set st R5 = [ R3 , R4 ]))))
proof
let R5 being set;
assume L787: R5 in R23;
L788: (ex R6 being set st (ex R7 being set st (R5 = [ R6 , R7 ] & [ ( R32 . R6 ) , ( R32 . R7 ) ] in D24))) by L787 , L785;
thus L789: thesis by L788;
end;
reconsider D25 = R23 as Relation by L786 , RELAT_1:def 1;
L790: (for R5 being set holds (R5 in ( field D25 ) implies R5 in R18))
proof
let R5 being set;
assume L791: R5 in ( field D25 );
consider R6 being set such that L792: ([ R5 , R6 ] in D25 or [ R6 , R5 ] in D25) by L791 , L1;
L793: ([ R6 , R5 ] in D25 implies R5 in R18)
proof
assume L794: [ R6 , R5 ] in D25;
L795: [ R6 , R5 ] in [: R18 , R18 :] by L794 , L785;
thus L796: thesis by L795 , ZFMISC_1:87;
end;
L797: ([ R5 , R6 ] in D25 implies R5 in R18)
proof
assume L798: [ R5 , R6 ] in D25;
L799: [ R5 , R6 ] in [: R18 , R18 :] by L798 , L785;
thus L800: thesis by L799 , ZFMISC_1:87;
end;
thus L801: thesis by L797 , L792 , L793;
end;
L802: ( rng R32 ) c= R17
proof
let R3 being set;
assume L803: R3 in ( rng R32 );
consider R4 being set such that L804: R4 in ( dom R32 ) and L805: R3 = ( R32 . R4 ) by L803 , FUNCT_1:def 3;
L806: (for R6 being set holds (R6 in { R4 } implies R6 in R18)) by L728 , L804 , TARSKI:def 1;
L807: { R4 } c= R18 by L806 , TARSKI:def 3;
L808: R3 = { R4 } by L728 , L729 , L804 , L805;
thus L809: thesis by L808 , L640 , L807;
end;
L810: ( field D24 ) = ( rng R32 ) by L802 , L683 , L766 , L782 , WELLORD1:31 , WELLORD1:44;
L811: (for R5 being set holds (R5 in R18 implies R5 in ( field D25 )))
proof
let R5 being set;
assume L812: R5 in R18;
L813: (ex R6 being set st ([ R5 , R6 ] in D25 or [ R6 , R5 ] in D25))
proof
L814: ( R32 . R5 ) in ( field D24 ) by L728 , L810 , L812 , FUNCT_1:def 3;
consider R7 being set such that L815: ([ ( R32 . R5 ) , R7 ] in D24 or [ R7 , ( R32 . R5 ) ] in D24) by L814 , L1;
L816: ([ ( R32 . R5 ) , R7 ] in D24 implies (ex R6 being set st ([ R5 , R6 ] in D25 or [ R6 , R5 ] in D25)))
proof
assume L817: [ ( R32 . R5 ) , R7 ] in D24;
L818: R7 in ( rng R32 ) by L817 , L810 , RELAT_1:15;
consider R8 being set such that L819: R8 in ( dom R32 ) and L820: R7 = ( R32 . R8 ) by L818 , FUNCT_1:def 3;
take R8;
L821: [ R5 , R8 ] in [: R18 , R18 :] by L728 , L812 , L819 , ZFMISC_1:87;
thus L822: thesis by L821 , L785 , L817 , L820;
end;
L823: ([ R7 , ( R32 . R5 ) ] in D24 implies (ex R6 being set st ([ R5 , R6 ] in D25 or [ R6 , R5 ] in D25)))
proof
assume L824: [ R7 , ( R32 . R5 ) ] in D24;
L825: R7 in ( rng R32 ) by L824 , L810 , RELAT_1:15;
consider R8 being set such that L826: R8 in ( dom R32 ) and L827: R7 = ( R32 . R8 ) by L825 , FUNCT_1:def 3;
take R8;
L828: [ R8 , R5 ] in [: R18 , R18 :] by L728 , L812 , L826 , ZFMISC_1:87;
thus L829: thesis by L828 , L785 , L824 , L827;
end;
thus L830: thesis by L823 , L815 , L816;
end;
thus L831: thesis by L813 , L1;
end;
L832: ( field D25 ) = R18 by L811 , L790 , TARSKI:1;
L833: (for R1 being set holds (for R2 being set holds ([ R1 , R2 ] in D25 iff (R1 in ( field D25 ) & R2 in ( field D25 ) & [ ( R32 . R1 ) , ( R32 . R2 ) ] in D24))))
proof
let R1 being set;
let R2 being set;
L834: ([ R1 , R2 ] in D25 implies (R1 in ( field D25 ) & R2 in ( field D25 ) & [ ( R32 . R1 ) , ( R32 . R2 ) ] in D24))
proof
assume L835: [ R1 , R2 ] in D25;
L836: [ R1 , R2 ] in [: R18 , R18 :] by L835 , L785;
consider R3 being set, R4 being set such that L837: [ R1 , R2 ] = [ R3 , R4 ] and L838: [ ( R32 . R3 ) , ( R32 . R4 ) ] in D24 by L785 , L835;
L839: R1 = R3 by L837 , XTUPLE_0:1;
thus L840: thesis by L839 , L832 , L836 , L837 , L838 , XTUPLE_0:1 , ZFMISC_1:87;
end;
L841: ((R1 in ( field D25 ) & R2 in ( field D25 ) & [ ( R32 . R1 ) , ( R32 . R2 ) ] in D24) implies [ R1 , R2 ] in D25)
proof
assume that
L842: (R1 in ( field D25 ) & R2 in ( field D25 ))
and
L843: [ ( R32 . R1 ) , ( R32 . R2 ) ] in D24;
L844: [ R1 , R2 ] in [: R18 , R18 :] by L832 , L842 , ZFMISC_1:87;
thus L845: thesis by L844 , L785 , L843;
end;
thus L846: thesis by L841 , L834;
end;
L847: R32 is_isomorphism_of D25 , D24 by L833 , L728 , L738 , L810 , L832 , WELLORD1:def 7;
L848: ( R32 " ) is_isomorphism_of D24 , D25 by L847 , WELLORD1:39;
thus L849: thesis by L848 , L784 , L832 , WELLORD1:44;
end;
