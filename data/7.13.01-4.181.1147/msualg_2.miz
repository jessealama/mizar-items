:: Subalgebras of a Many Sorted Algebra. Lattice of Subalgebras
::  by Ewa Burakowska
::
:: Received April 25, 1994
:: Copyright (c) 1994-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies PBOOLE, RELAT_1, XBOOLE_0, FUNCT_1, SUBSET_1, CARD_3, TARSKI,
      STRUCT_0, MSUALG_1, UNIALG_2, FINSEQ_1, MARGREL1, PARTFUN1, FUNCT_2,
      ZFMISC_1, QC_LANG1, SETFAM_1, EQREL_1, BINOP_1, LATTICES, XXREAL_2,
      MSUALG_2;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, STRUCT_0, RELAT_1, FUNCT_1,
      FUNCT_2, FINSEQ_1, SETFAM_1, FINSEQ_2, LATTICES, BINOP_1, CARD_3, PBOOLE,
      MSUALG_1;
 constructors SETFAM_1, BINOP_1, CARD_3, LATTICES, MSUALG_1, RELSET_1;
 registrations XBOOLE_0, SUBSET_1, RELAT_1, FUNCT_1, PBOOLE, STRUCT_0,
      LATTICES, MSUALG_1, FINSEQ_1, FUNCT_2, PARTFUN1, RELSET_1;
 requirements BOOLE, SUBSET;
 definitions TARSKI, PBOOLE, LATTICES, XBOOLE_0;
 theorems TARSKI, FUNCT_1, FINSEQ_1, PBOOLE, CARD_3, MSUALG_1, FUNCT_2,
      ZFMISC_1, SETFAM_1, BINOP_1, LATTICES, RELAT_1, RELSET_1, XBOOLE_0,
      XBOOLE_1, FUNCOP_1, PARTFUN1, FINSEQ_2;
 schemes CLASSES1, BINOP_1, FUNCT_1, XBOOLE_0;

begin
registration
let C1 being set;
let C2 being (ManySortedSet of C1);
let C3 being  non-empty (ManySortedSet of C1);
cluster ( C2 \/ C3 ) ->  non-empty;
coherence
proof
let C4 being set;
assume L1: C4 in C1;
L2: ( ( C2 \/ C3 ) . C4 ) = ( ( C2 . C4 ) \/ ( C3 . C4 ) ) by L1 , PBOOLE:def 4;
thus L3: thesis by L2 , L1;
end;
cluster ( C3 \/ C2 ) ->  non-empty;
coherence;
end;
theorem
L5: (for B1 being non  empty set holds (for B2 , B3 being (ManySortedSet of B1) holds (for B4 being (Element of ( B1 * )) holds ( product ( ( B2 /\ B3 ) * B4 ) ) = ( ( product ( B2 * B4 ) ) /\ ( product ( B3 * B4 ) ) ))))
proof
let C5 being non  empty set;
let C6 , C7 being (ManySortedSet of C5);
let C8 being (Element of ( C5 * ));
L6: ( rng C8 ) c= C5 by FINSEQ_1:def 4;
L7: ( dom C6 ) = C5 by PARTFUN1:def 2;
L8: ( dom ( C6 * C8 ) ) = ( dom C8 ) by L7 , L6 , RELAT_1:27;
L9: ( dom ( C6 /\ C7 ) ) = C5 by PARTFUN1:def 2;
L10: ( dom ( ( C6 /\ C7 ) * C8 ) ) = ( dom C8 ) by L9 , L6 , RELAT_1:27;
L11: ( dom C7 ) = C5 by PARTFUN1:def 2;
L12: ( dom ( C7 * C8 ) ) = ( dom C8 ) by L11 , L6 , RELAT_1:27;
thus L13: ( product ( ( C6 /\ C7 ) * C8 ) ) c= ( ( product ( C6 * C8 ) ) /\ ( product ( C7 * C8 ) ) )
proof
let R1 being set;
assume L14: R1 in ( product ( ( C6 /\ C7 ) * C8 ) );
consider C9 being Function such that L15: (R1 = C9 & ( dom C9 ) = ( dom ( ( C6 /\ C7 ) * C8 ) )) and L16: (for R2 being set holds (R2 in ( dom ( ( C6 /\ C7 ) * C8 ) ) implies ( C9 . R2 ) in ( ( ( C6 /\ C7 ) * C8 ) . R2 ))) by L14 , CARD_3:def 5;
L17: (for R2 being set holds (R2 in ( dom ( C7 * C8 ) ) implies ( C9 . R2 ) in ( ( C7 * C8 ) . R2 )))
proof
let R2 being set;
assume L18: R2 in ( dom ( C7 * C8 ) );
L19: ( C9 . R2 ) in ( ( ( C6 /\ C7 ) * C8 ) . R2 ) by L18 , L12 , L10 , L16;
L20: ( C9 . R2 ) in ( ( C6 /\ C7 ) . ( C8 . R2 ) ) by L19 , L12 , L10 , L18 , FUNCT_1:12;
L21: ( C8 . R2 ) in ( rng C8 ) by L12 , L18 , FUNCT_1:def 3;
L22: ( C9 . R2 ) in ( ( C6 . ( C8 . R2 ) ) /\ ( C7 . ( C8 . R2 ) ) ) by L21 , L6 , L20 , PBOOLE:def 5;
L23: ( C9 . R2 ) in ( C7 . ( C8 . R2 ) ) by L22 , XBOOLE_0:def 4;
thus L24: thesis by L23 , L18 , FUNCT_1:12;
end;
L25: R1 in ( product ( C7 * C8 ) ) by L17 , L12 , L10 , L15 , CARD_3:def 5;
L26: (for R2 being set holds (R2 in ( dom ( C6 * C8 ) ) implies ( C9 . R2 ) in ( ( C6 * C8 ) . R2 )))
proof
let R2 being set;
assume L27: R2 in ( dom ( C6 * C8 ) );
L28: ( C9 . R2 ) in ( ( ( C6 /\ C7 ) * C8 ) . R2 ) by L27 , L8 , L10 , L16;
L29: ( C9 . R2 ) in ( ( C6 /\ C7 ) . ( C8 . R2 ) ) by L28 , L8 , L10 , L27 , FUNCT_1:12;
L30: ( C8 . R2 ) in ( rng C8 ) by L8 , L27 , FUNCT_1:def 3;
L31: ( C9 . R2 ) in ( ( C6 . ( C8 . R2 ) ) /\ ( C7 . ( C8 . R2 ) ) ) by L30 , L6 , L29 , PBOOLE:def 5;
L32: ( C9 . R2 ) in ( C6 . ( C8 . R2 ) ) by L31 , XBOOLE_0:def 4;
thus L33: thesis by L32 , L27 , FUNCT_1:12;
end;
L34: R1 in ( product ( C6 * C8 ) ) by L26 , L8 , L10 , L15 , CARD_3:def 5;
thus L35: thesis by L34 , L25 , XBOOLE_0:def 4;
end;

let R1 being set;
assume L36: R1 in ( ( product ( C6 * C8 ) ) /\ ( product ( C7 * C8 ) ) );
L37: R1 in ( product ( C6 * C8 ) ) by L36 , XBOOLE_0:def 4;
consider C10 being Function such that L38: R1 = C10 and L39: ( dom C10 ) = ( dom ( C6 * C8 ) ) and L40: (for R2 being set holds (R2 in ( dom ( C6 * C8 ) ) implies ( C10 . R2 ) in ( ( C6 * C8 ) . R2 ))) by L37 , CARD_3:def 5;
L41: R1 in ( product ( C7 * C8 ) ) by L36 , XBOOLE_0:def 4;
L42: (ex B5 being Function st (R1 = B5 & ( dom B5 ) = ( dom ( C7 * C8 ) ) & (for R2 being set holds (R2 in ( dom ( C7 * C8 ) ) implies ( B5 . R2 ) in ( ( C7 * C8 ) . R2 ))))) by L41 , CARD_3:def 5;
L43: (for R2 being set holds (R2 in ( dom ( ( C6 /\ C7 ) * C8 ) ) implies ( C10 . R2 ) in ( ( ( C6 /\ C7 ) * C8 ) . R2 )))
proof
let R2 being set;
assume L44: R2 in ( dom ( ( C6 /\ C7 ) * C8 ) );
L45: ( C8 . R2 ) in ( rng C8 ) by L44 , L10 , FUNCT_1:def 3;
L46: ( C10 . R2 ) in ( ( C6 * C8 ) . R2 ) by L8 , L10 , L40 , L44;
L47: ( C10 . R2 ) in ( C6 . ( C8 . R2 ) ) by L46 , L8 , L10 , L44 , FUNCT_1:12;
L48: ( C10 . R2 ) in ( ( C7 * C8 ) . R2 ) by L12 , L10 , L38 , L42 , L44;
L49: ( C10 . R2 ) in ( C7 . ( C8 . R2 ) ) by L48 , L12 , L10 , L44 , FUNCT_1:12;
L50: ( C10 . R2 ) in ( ( C6 . ( C8 . R2 ) ) /\ ( C7 . ( C8 . R2 ) ) ) by L49 , L47 , XBOOLE_0:def 4;
L51: ( C10 . R2 ) in ( ( C6 /\ C7 ) . ( C8 . R2 ) ) by L50 , L6 , L45 , PBOOLE:def 5;
thus L52: thesis by L51 , L44 , FUNCT_1:12;
end;
thus L53: thesis by L43 , L8 , L10 , L38 , L39 , CARD_3:def 5;
end;
begin
definition
let C11 being non  empty ManySortedSign;
let C12 being MSAlgebra over C11;
mode MSSubset of C12
 is (ManySortedSubset of (the Sorts of C12));
end;
definition
let C13 being non  empty ManySortedSign;
let C14 being (SortSymbol of C13);
attr C14 is  with_const_op
means
:L55: (ex B6 being (OperSymbol of C13) st (( (the Arity of C13) . B6 ) = ( {} ) & ( (the ResultSort of C13) . B6 ) = C14));
end;
definition
let C15 being non  empty ManySortedSign;
attr C15 is  all-with_const_op
means
:L57: (for B7 being (SortSymbol of C15) holds B7 is  with_const_op);
end;
registration
let C16 being non  empty set;
let C17 being set;
let C18 being (Function of C17 , ( C16 * ));
let C19 being (Function of C17 , C16);
cluster ManySortedSign (# C16 , C17 , C18 , C19 #) -> non  empty;
coherence;
end;
registration
cluster non  void  all-with_const_op  strict for non  empty non  empty non  empty non  empty ManySortedSign;
existence
proof
set D1 = the set;
set D2 = { D1 };
consider C20 being Function such that L60: ( dom C20 ) = D2 and L61: ( rng C20 ) = { ( <*> D2 ) } by FUNCT_1:5;
L62: ( rng C20 ) c= ( D2 * )
proof
let C21 being set;
assume L63: C21 in ( rng C20 );
L64: C21 = ( <*> D2 ) by L63 , L61 , TARSKI:def 1;
thus L65: thesis by L64 , FINSEQ_1:def 11;
end;
reconsider D3 = C20 as (Function of D2 , ( D2 * )) by L62 , L60 , FUNCT_2:def 1 , RELSET_1:4;
consider C22 being Function such that L66: ( dom C22 ) = D2 and L67: ( rng C22 ) = { D1 } by FUNCT_1:5;
reconsider D4 = C22 as (Function of D2 , D2) by L66 , L67 , FUNCT_2:def 1 , RELSET_1:4;
set D5 = ManySortedSign (# D2 , D2 , D3 , D4 #);
take D5;
thus L68: D5 is non  void;
L69: (for B8 being (SortSymbol of D5) holds B8 is  with_const_op)
proof
reconsider D6 = D1 as (OperSymbol of D5) by TARSKI:def 1;
let C23 being (SortSymbol of D5);
take D6;
L70: ( D3 . D6 ) in ( rng D3 ) by L60 , FUNCT_1:def 3;
thus L71: ( (the Arity of D5) . D6 ) = ( {} ) by L70 , L61 , TARSKI:def 1;
L72: (C23 = D1 & ( D4 . D6 ) in ( rng D4 )) by L66 , FUNCT_1:def 3 , TARSKI:def 1;
thus L73: thesis by L72 , L67 , TARSKI:def 1;
end;
thus L74: D5 is  all-with_const_op by L69 , L57;
thus L75: thesis;
end;
end;
definition
let C24 being non  void non  empty ManySortedSign;
let C25 being MSAlgebra over C24;
let C26 being (SortSymbol of C24);
func Constants (C25 , C26) -> (Subset of ( (the Sorts of C25) . C26 )) means 
:L77: (ex B9 being non  empty set st (B9 = ( (the Sorts of C25) . C26 ) & it = { B10 where B10 is (Element of B9) : (ex B11 being (OperSymbol of C24) st (( (the Arity of C24) . B11 ) = ( {} ) & ( (the ResultSort of C24) . B11 ) = C26 & B10 in ( rng ( Den (B11 , C25) ) ))) })) if ( (the Sorts of C25) . C26 ) <> ( {} ) otherwise it = ( {} );
existence
proof
thus L78:now
assume L79: ( (the Sorts of C25) . C26 ) <> ( {} );
reconsider D7 = ( (the Sorts of C25) . C26 ) as non  empty set by L79;
set D8 = { B12 where B12 is (Element of D7) : (ex B13 being (OperSymbol of C24) st (( (the Arity of C24) . B13 ) = ( {} ) & ( (the ResultSort of C24) . B13 ) = C26 & B12 in ( rng ( Den (B13 , C25) ) ))) };
L80: D8 c= D7
proof
let R1 being set;
assume L81: R1 in D8;
L82: (ex B14 being (Element of ( (the Sorts of C25) . C26 )) st (B14 = R1 & (ex B15 being (OperSymbol of C24) st (( (the Arity of C24) . B15 ) = ( {} ) & ( (the ResultSort of C24) . B15 ) = C26 & B14 in ( rng ( Den (B15 , C25) ) ))))) by L81;
thus L83: thesis by L82;
end;
reconsider D9 = D8 as (Subset of ( (the Sorts of C25) . C26 )) by L80;
take D10 = D9;
take D11 = D7;
thus L84: (D11 = ( (the Sorts of C25) . C26 ) & D10 = { B16 where B16 is (Element of D11) : (ex B17 being (OperSymbol of C24) st (( (the Arity of C24) . B17 ) = ( {} ) & ( (the ResultSort of C24) . B17 ) = C26 & B16 in ( rng ( Den (B17 , C25) ) ))) });
end;
assume L85: ( (the Sorts of C25) . C26 ) = ( {} );
take ( {} ( (the Sorts of C25) . C26 ) );
thus L86: thesis;
end;
correctness;
end;
definition
let C27 being non  void non  empty ManySortedSign;
let C28 being MSAlgebra over C27;
func Constants C28 -> (MSSubset of C28) means 
:L88: (for B18 being (SortSymbol of C27) holds ( it . B18 ) = ( Constants (C28 , B18) ));
existence
proof
deffunc H1((SortSymbol of C27)) = ( Constants (C28 , $1) );
consider C29 being Function such that L89: (( dom C29 ) = (the carrier of C27) & (for B19 being (SortSymbol of C27) holds ( C29 . B19 ) = H1(B19))) from FUNCT_1:sch 4;
reconsider D12 = C29 as (ManySortedSet of (the carrier of C27)) by L89 , PARTFUN1:def 2 , RELAT_1:def 18;
L90: D12 c= (the Sorts of C28)
proof
let C30 being set;
assume L91: C30 in (the carrier of C27);
reconsider D13 = C30 as (SortSymbol of C27) by L91;
L92: ( D12 . D13 ) = ( Constants (C28 , D13) ) by L89;
thus L93: thesis by L92;
end;
reconsider D14 = D12 as (MSSubset of C28) by L90 , PBOOLE:def 18;
take D14;
thus L94: thesis by L89;
end;
uniqueness
proof
let C31 , C32 being (MSSubset of C28);
assume that
L95: (for B20 being (SortSymbol of C27) holds ( C31 . B20 ) = ( Constants (C28 , B20) ))
and
L96: (for B21 being (SortSymbol of C27) holds ( C32 . B21 ) = ( Constants (C28 , B21) ));
L97: (for B22 being set holds (B22 in (the carrier of C27) implies ( C31 . B22 ) = ( C32 . B22 )))
proof
let C33 being set;
assume L98: C33 in (the carrier of C27);
reconsider D15 = C33 as (SortSymbol of C27) by L98;
L99: ( C31 . D15 ) = ( Constants (C28 , D15) ) by L95;
thus L100: thesis by L99 , L96;
end;
thus L101: thesis by L97 , PBOOLE:3;
end;
end;
registration
let C34 being  all-with_const_op non  void non  empty ManySortedSign;
let C35 being  non-empty MSAlgebra over C34;
let C36 being (SortSymbol of C34);
cluster ( Constants (C35 , C36) ) -> non  empty;
coherence
proof
L103: (( dom ( {} ) ) = ( {} ) & ( rng ( {} ) ) = ( {} ));
reconsider D16 = ( {} ) as (Function of ( {} ) , ( {} )) by L103 , FUNCT_2:1;
L104: C36 is  with_const_op by L57;
consider C37 being (OperSymbol of C34) such that L105: ( (the Arity of C34) . C37 ) = ( {} ) and L106: ( (the ResultSort of C34) . C37 ) = C36 by L104 , L55;
L107: ( dom (the Arity of C34) ) = (the carrier' of C34) by FUNCT_2:def 1;
L108: (( dom (( (the Sorts of C35) # ) qua (ManySortedSet of ( (the carrier of C34) * ))) ) = ( (the carrier of C34) * ) & ( (the Arity of C34) . C37 ) in ( rng (the Arity of C34) )) by L107 , FUNCT_1:def 3 , PARTFUN1:def 2;
L109: C37 in ( dom ( ( (the Sorts of C35) # ) * (the Arity of C34) ) ) by L108 , L107 , FUNCT_1:11;
L110: ( Args (C37 , C35) ) = ( ( ( (the Sorts of C35) # ) * (the Arity of C34) ) . C37 ) by MSUALG_1:def 4
.= ( ( (the Sorts of C35) # ) . ( (the Arity of C34) . C37 ) ) by L109 , FUNCT_1:12
.= ( ( (the Sorts of C35) # ) . ( the_arity_of C37 ) ) by MSUALG_1:def 1
.= ( product ( (the Sorts of C35) * ( the_arity_of C37 ) ) ) by FINSEQ_2:def 5
.= ( product ( (the Sorts of C35) * D16 ) ) by L105 , MSUALG_1:def 1
.= { ( {} ) } by CARD_3:10;
L111: ( {} ) in ( Args (C37 , C35) ) by L110 , TARSKI:def 1;
set D17 = ( Den (C37 , C35) );
L112: ( rng D17 ) c= ( Result (C37 , C35) ) by RELAT_1:def 19;
L113: ( dom D17 ) = ( Args (C37 , C35) ) by FUNCT_2:def 1;
L114: ( D17 . ( {} ) ) in ( rng D17 ) by L113 , L111 , FUNCT_1:def 3;
L115: ( dom (the ResultSort of C34) ) = (the carrier' of C34) by FUNCT_2:def 1;
L116: (( dom (the Sorts of C35) ) = (the carrier of C34) & ( (the ResultSort of C34) . C37 ) in ( rng (the ResultSort of C34) )) by L115 , FUNCT_1:def 3 , PARTFUN1:def 2;
L117: C37 in ( dom ( (the Sorts of C35) * (the ResultSort of C34) ) ) by L116 , L115 , FUNCT_1:11;
L118: ( Result (C37 , C35) ) = ( ( (the Sorts of C35) * (the ResultSort of C34) ) . C37 ) by MSUALG_1:def 5
.= ( (the Sorts of C35) . C36 ) by L106 , L117 , FUNCT_1:12;
reconsider D18 = ( D17 . ( {} ) ) as (Element of ( (the Sorts of C35) . C36 )) by L118 , L112 , L114;
L119: (ex B23 being non  empty set st (B23 = ( (the Sorts of C35) . C36 ) & ( Constants (C35 , C36) ) = { B24 where B24 is (Element of B23) : (ex B25 being (OperSymbol of C34) st (( (the Arity of C34) . B25 ) = ( {} ) & ( (the ResultSort of C34) . B25 ) = C36 & B24 in ( rng ( Den (B25 , C35) ) ))) })) by L77;
L120: D18 in ( Constants (C35 , C36) ) by L119 , L105 , L106 , L114;
thus L121: thesis by L120;
end;
end;
registration
let C38 being non  void  all-with_const_op non  empty ManySortedSign;
let C39 being  non-empty MSAlgebra over C38;
cluster ( Constants C39 ) ->  non-empty;
coherence
proof
L123:
now
let C40 being set;
assume L124: C40 in (the carrier of C38);
reconsider D19 = C40 as (SortSymbol of C38) by L124;
L125: ( ( Constants C39 ) . D19 ) = ( Constants (C39 , D19) ) by L88;
thus L126: ( ( Constants C39 ) . C40 ) is non  empty by L125;
end;
thus L127: thesis by L123 , PBOOLE:def 13;
end;
end;
begin
definition
let C41 being non  void non  empty ManySortedSign;
let C42 being MSAlgebra over C41;
let C43 being (OperSymbol of C41);
let C44 being (MSSubset of C42);
pred C44 is_closed_on C43
means
:L129: ( rng ( ( Den (C43 , C42) ) | ( ( ( C44 # ) * (the Arity of C41) ) . C43 ) ) ) c= ( ( C44 * (the ResultSort of C41) ) . C43 )
;end;
definition
let C45 being non  void non  empty ManySortedSign;
let C46 being MSAlgebra over C45;
let C47 being (MSSubset of C46);
attr C47 is  opers_closed
means
:L131: (for B26 being (OperSymbol of C45) holds C47 is_closed_on B26);
end;
theorem
L133: (for B27 being non  void non  empty ManySortedSign holds (for B28 being (OperSymbol of B27) holds (for B29 being MSAlgebra over B27 holds (for B30 , B31 being (MSSubset of B29) holds (B30 c= B31 implies ( ( ( B30 # ) * (the Arity of B27) ) . B28 ) c= ( ( ( B31 # ) * (the Arity of B27) ) . B28 ))))))
proof
let C48 being non  void non  empty ManySortedSign;
let C49 being (OperSymbol of C48);
let C50 being MSAlgebra over C48;
let C51 , C52 being (MSSubset of C50);
reconsider D20 = ( (the Arity of C48) . C49 ) as (Element of ( (the carrier of C48) * ));
L134: ( rng D20 ) c= (the carrier of C48) by FINSEQ_1:def 4;
L135: ( dom C51 ) = (the carrier of C48) by PARTFUN1:def 2;
L136: ( dom ( C51 * D20 ) ) = ( dom D20 ) by L135 , L134 , RELAT_1:27;
assume L137: C51 c= C52;
L138: (for R1 being set holds (R1 in ( dom ( C51 * D20 ) ) implies ( ( C51 * D20 ) . R1 ) c= ( ( C52 * D20 ) . R1 )))
proof
let R1 being set;
assume L139: R1 in ( dom ( C51 * D20 ) );
L140: ( D20 . R1 ) in ( rng D20 ) by L139 , L136 , FUNCT_1:def 3;
L141: ( C51 . ( D20 . R1 ) ) c= ( C52 . ( D20 . R1 ) ) by L140 , L137 , L134 , PBOOLE:def 2;
L142: ( ( C51 * D20 ) . R1 ) c= ( C52 . ( D20 . R1 ) ) by L141 , L136 , L139 , FUNCT_1:13;
thus L143: thesis by L142 , L136 , L139 , FUNCT_1:13;
end;
L144: ( dom (the Arity of C48) ) = (the carrier' of C48) by FUNCT_2:def 1;
L145: ( dom ( ( C51 # ) * (the Arity of C48) ) ) = ( dom (the Arity of C48) ) by L144 , PARTFUN1:def 2;
L146: ( ( ( C51 # ) * (the Arity of C48) ) . C49 ) = ( ( C51 # ) . D20 ) by L145 , L144 , FUNCT_1:12;
L147: ( ( ( C51 # ) * (the Arity of C48) ) . C49 ) = ( product ( C51 * D20 ) ) by L146 , FINSEQ_2:def 5;
L148: ( dom ( ( C52 # ) * (the Arity of C48) ) ) = ( dom (the Arity of C48) ) by L144 , PARTFUN1:def 2;
L149: ( ( ( C52 # ) * (the Arity of C48) ) . C49 ) = ( ( C52 # ) . D20 ) by L148 , L144 , FUNCT_1:12;
L150: ( ( ( C52 # ) * (the Arity of C48) ) . C49 ) = ( product ( C52 * D20 ) ) by L149 , FINSEQ_2:def 5;
L151: ( dom C52 ) = (the carrier of C48) by PARTFUN1:def 2;
L152: ( dom ( C52 * D20 ) ) = ( dom D20 ) by L151 , L134 , RELAT_1:27;
thus L153: thesis by L152 , L147 , L150 , L135 , L134 , L138 , CARD_3:27 , RELAT_1:27;
end;
definition
let C53 being non  void non  empty ManySortedSign;
let C54 being MSAlgebra over C53;
let C55 being (OperSymbol of C53);
let C56 being (MSSubset of C54);
assume L154: C56 is_closed_on C55;
func C55 /. C56 -> (Function of ( ( ( C56 # ) * (the Arity of C53) ) . C55 ) , ( ( C56 * (the ResultSort of C53) ) . C55 )) equals 
:L155: ( ( Den (C55 , C54) ) | ( ( ( C56 # ) * (the Arity of C53) ) . C55 ) );
coherence
proof
set D21 = ( ( Den (C55 , C54) ) | ( ( ( C56 # ) * (the Arity of C53) ) . C55 ) );
set D22 = (the Sorts of C54);
L156: ( dom (the ResultSort of C53) ) = (the carrier' of C53) by FUNCT_2:def 1;
per cases ;
suppose L157: ( ( C56 * (the ResultSort of C53) ) . C55 ) = ( {} );

L158: ( rng D21 ) c= ( ( C56 * (the ResultSort of C53) ) . C55 ) by L154 , L129;
L159: D21 = ( {} ) by L158 , L157;
L160:
now
per cases ;
suppose L161: ( ( ( C56 # ) * (the Arity of C53) ) . C55 ) = ( {} );

thus L162: thesis by L161 , L159 , RELSET_1:12;
end;
suppose L163: ( ( ( C56 # ) * (the Arity of C53) ) . C55 ) <> ( {} );

thus L164: thesis by L157 , L159 , FUNCT_2:def 1 , RELSET_1:12;
end;
end;
thus L166: thesis by L160;
end;
suppose L167: ( ( C56 * (the ResultSort of C53) ) . C55 ) <> ( {} );

reconsider D23 = D22 as (MSSubset of C54) by PBOOLE:def 18;
L168: C56 c= D23 by PBOOLE:def 18;
L169: ( rng D21 ) c= ( ( C56 * (the ResultSort of C53) ) . C55 ) by L154 , L129;
L170: C56 c= D22 by PBOOLE:def 18;
L171: ( C56 . ( (the ResultSort of C53) . C55 ) ) c= ( D22 . ( (the ResultSort of C53) . C55 ) ) by L170 , PBOOLE:def 2;
L172: ( D22 . ( (the ResultSort of C53) . C55 ) ) <> ( {} ) by L171 , L156 , L167 , FUNCT_1:13;
L173: ( ( D22 * (the ResultSort of C53) ) . C55 ) <> ( {} ) by L172 , L156 , FUNCT_1:13;
L174: ( Result (C55 , C54) ) <> ( {} ) by L173 , MSUALG_1:def 5;
L175: ( dom ( Den (C55 , C54) ) ) = ( Args (C55 , C54) ) by L174 , FUNCT_2:def 1
.= ( ( ( D22 # ) * (the Arity of C53) ) . C55 ) by MSUALG_1:def 4;
L176: ( dom D21 ) = ( ( ( ( D22 # ) * (the Arity of C53) ) . C55 ) /\ ( ( ( C56 # ) * (the Arity of C53) ) . C55 ) ) by L175 , RELAT_1:61
.= ( ( ( C56 # ) * (the Arity of C53) ) . C55 ) by L168 , L133 , XBOOLE_1:28;
thus L177: thesis by L176 , L169 , FUNCT_2:2;
end;
end;
end;
definition
let C57 being non  void non  empty ManySortedSign;
let C58 being MSAlgebra over C57;
let C59 being (MSSubset of C58);
func Opers (C58 , C59) -> (ManySortedFunction of ( ( C59 # ) * (the Arity of C57) ) , ( C59 * (the ResultSort of C57) )) means 
:L180: (for B32 being (OperSymbol of C57) holds ( it . B32 ) = ( B32 /. C59 ));
existence
proof
set D24 = ( ( C59 # ) * (the Arity of C57) );
set D25 = ( C59 * (the ResultSort of C57) );
defpred S1[ set , set ] means (for B33 being (OperSymbol of C57) holds (B33 = $1 implies $2 = ( B33 /. C59 )));
L181: (for R1 being set holds (R1 in (the carrier' of C57) implies (ex R2 being set st S1[ R1 , R2 ])))
proof
let R1 being set;
assume L182: R1 in (the carrier' of C57);
reconsider D26 = R1 as (OperSymbol of C57) by L182;
take ( D26 /. C59 );
thus L183: thesis;
end;
consider C60 being Function such that L184: (( dom C60 ) = (the carrier' of C57) & (for R1 being set holds (R1 in (the carrier' of C57) implies S1[ R1 , ( C60 . R1 ) ]))) from CLASSES1:sch 1(L181);
reconsider D27 = C60 as (ManySortedSet of (the carrier' of C57)) by L184 , PARTFUN1:def 2 , RELAT_1:def 18;
L185: (for R1 being set holds (R1 in ( dom D27 ) implies ( D27 . R1 ) is Function))
proof
let R1 being set;
assume L186: R1 in ( dom D27 );
reconsider D28 = R1 as (OperSymbol of C57) by L186 , L184;
L187: ( D27 . D28 ) = ( D28 /. C59 ) by L184;
thus L188: thesis by L187;
end;
reconsider D29 = D27 as (ManySortedFunction of (the carrier' of C57)) by L185 , FUNCOP_1:def 6;
L189: (for R1 being set holds (R1 in (the carrier' of C57) implies ( D29 . R1 ) is (Function of ( D24 . R1 ) , ( D25 . R1 ))))
proof
let R1 being set;
assume L190: R1 in (the carrier' of C57);
reconsider D30 = R1 as (OperSymbol of C57) by L190;
L191: ( D29 . D30 ) = ( D30 /. C59 ) by L184;
thus L192: thesis by L191;
end;
reconsider D31 = D29 as (ManySortedFunction of D24 , D25) by L189 , PBOOLE:def 15;
take D31;
let C61 being (OperSymbol of C57);
thus L193: thesis by L184;
end;
uniqueness
proof
let C62 , C63 being (ManySortedFunction of ( ( C59 # ) * (the Arity of C57) ) , ( C59 * (the ResultSort of C57) ));
assume that
L194: (for B34 being (OperSymbol of C57) holds ( C62 . B34 ) = ( B34 /. C59 ))
and
L195: (for B35 being (OperSymbol of C57) holds ( C63 . B35 ) = ( B35 /. C59 ));
L196: (for R1 being set holds (R1 in (the carrier' of C57) implies ( C62 . R1 ) = ( C63 . R1 )))
proof
let R1 being set;
assume L197: R1 in (the carrier' of C57);
reconsider D32 = R1 as (OperSymbol of C57) by L197;
L198: ( C62 . D32 ) = ( D32 /. C59 ) by L194;
thus L199: thesis by L198 , L195;
end;
thus L200: thesis by L196 , PBOOLE:3;
end;
end;
theorem
L202: (for R3 being non  void non  empty ManySortedSign holds (for B36 being MSAlgebra over R3 holds (for B37 being (MSSubset of B36) holds (B37 = (the Sorts of B36) implies (B37 is  opers_closed & (for R4 being (OperSymbol of R3) holds ( R4 /. B37 ) = ( Den (R4 , B36) )))))))
proof
let R3 being non  void non  empty ManySortedSign;
let C64 being MSAlgebra over R3;
let C65 being (MSSubset of C64);
assume L203: C65 = (the Sorts of C64);
thus L204: C65 is  opers_closed
proof
let R4 being (OperSymbol of R3);
L205: ( Result (R4 , C64) ) = ( ( C65 * (the ResultSort of R3) ) . R4 ) by L203 , MSUALG_1:def 5;
thus L206: ( rng ( ( Den (R4 , C64) ) | ( ( ( C65 # ) * (the Arity of R3) ) . R4 ) ) ) c= ( ( C65 * (the ResultSort of R3) ) . R4 ) by L205 , RELAT_1:def 19;
end;

let R4 being (OperSymbol of R3);
L207: C65 is_closed_on R4 by L204 , L131;
L208: ( R4 /. C65 ) = ( ( Den (R4 , C64) ) | ( ( ( C65 # ) * (the Arity of R3) ) . R4 ) ) by L207 , L155;
per cases ;
suppose L209: ( ( C65 * (the ResultSort of R3) ) . R4 ) = ( {} );

L210: ( Result (R4 , C64) ) = ( {} ) by L209 , L203 , MSUALG_1:def 5;
L211: ( Den (R4 , C64) ) = ( {} ) by L210;
thus L212: thesis by L211 , L208;
end;
suppose L213: ( ( C65 * (the ResultSort of R3) ) . R4 ) <> ( {} );

L214: ( Result (R4 , C64) ) <> ( {} ) by L213 , L203 , MSUALG_1:def 5;
L215: ( dom ( Den (R4 , C64) ) ) = ( Args (R4 , C64) ) by L214 , FUNCT_2:def 1;
L216: ( Args (R4 , C64) ) = ( ( ( C65 # ) * (the Arity of R3) ) . R4 ) by L203 , MSUALG_1:def 4;
thus L217: thesis by L216 , L208 , L215 , RELAT_1:68;
end;
end;
theorem
L219: (for R3 being non  void non  empty ManySortedSign holds (for R5 being MSAlgebra over R3 holds (for B38 being (MSSubset of R5) holds (B38 = (the Sorts of R5) implies ( Opers (R5 , B38) ) = (the Charact of R5)))))
proof
let R3 being non  void non  empty ManySortedSign;
let R5 being MSAlgebra over R3;
let C66 being (MSSubset of R5);
set D33 = (the Charact of R5);
set D34 = ( Opers (R5 , C66) );
assume L220: C66 = (the Sorts of R5);
L221: (for R1 being set holds (R1 in (the carrier' of R3) implies ( D33 . R1 ) = ( D34 . R1 )))
proof
let R1 being set;
assume L222: R1 in (the carrier' of R3);
reconsider D35 = R1 as (OperSymbol of R3) by L222;
L223: (( D33 . D35 ) = ( Den (D35 , R5) ) & ( D34 . D35 ) = ( D35 /. C66 )) by L180 , MSUALG_1:def 6;
thus L224: thesis by L223 , L220 , L202;
end;
thus L225: thesis by L221 , PBOOLE:3;
end;
definition
let C67 being non  void non  empty ManySortedSign;
let C68 being MSAlgebra over C67;
mode MSSubAlgebra of C68
 -> MSAlgebra over C67
means :L226: ((the Sorts of it) is (MSSubset of C68) & (for B39 being (MSSubset of C68) holds (B39 = (the Sorts of it) implies (B39 is  opers_closed & (the Charact of it) = ( Opers (C68 , B39) )))));
existence
proof
take D36 = C68;
thus L227: (the Sorts of D36) is (MSSubset of C68) by PBOOLE:def 18;
let C69 being (MSSubset of C68);
set D37 = (the Charact of D36);
set D38 = ( Opers (C68 , C69) );
assume L228: C69 = (the Sorts of D36);
thus L229: C69 is  opers_closed by L228 , L202;
L230: (for R1 being set holds (R1 in (the carrier' of C67) implies ( D37 . R1 ) = ( D38 . R1 )))
proof
let R1 being set;
assume L231: R1 in (the carrier' of C67);
reconsider D39 = R1 as (OperSymbol of C67) by L231;
L232: (( D37 . D39 ) = ( Den (D39 , D36) ) & ( D38 . D39 ) = ( D39 /. C69 )) by L180 , MSUALG_1:def 6;
thus L233: thesis by L232 , L228 , L202;
end;
thus L234: thesis by L230 , PBOOLE:3;
end;
end;
L236: (for B40 being non  void non  empty ManySortedSign holds (for B41 being MSAlgebra over B40 holds MSAlgebra (# (the Sorts of B41) , (the Charact of B41) #) is (MSSubAlgebra of B41)))
proof
let C70 being non  void non  empty ManySortedSign;
let C71 being MSAlgebra over C70;
reconsider D40 = MSAlgebra (# (the Sorts of C71) , (the Charact of C71) #) as  strict MSAlgebra over C70;
L237:
now
thus L238: (the Sorts of D40) is (MSSubset of C71) by PBOOLE:def 18;
let C72 being (MSSubset of C71);
set D41 = (the Charact of D40);
set D42 = ( Opers (C71 , C72) );
assume L239: C72 = (the Sorts of D40);
thus L240: C72 is  opers_closed by L239 , L202;
L241: (for R1 being set holds (R1 in (the carrier' of C70) implies ( D41 . R1 ) = ( D42 . R1 )))
proof
let R1 being set;
assume L242: R1 in (the carrier' of C70);
reconsider D43 = R1 as (Element of (the carrier' of C70)) by L242;
L243: (( D41 . D43 ) = ( Den (D43 , C71) ) & ( D42 . D43 ) = ( D43 /. C72 )) by L180 , MSUALG_1:def 6;
thus L244: thesis by L243 , L239 , L202;
end;
thus L245: (the Charact of D40) = ( Opers (C71 , C72) ) by L241 , PBOOLE:3;
end;
thus L246: thesis by L237 , L226;
end;
registration
let C73 being non  void non  empty ManySortedSign;
let C74 being MSAlgebra over C73;
cluster  strict for (MSSubAlgebra of C74);
existence
proof
L247: MSAlgebra (# (the Sorts of C74) , (the Charact of C74) #) is (MSSubAlgebra of C74) by L236;
thus L248: thesis by L247;
end;
end;
registration
let C75 being non  void non  empty ManySortedSign;
let C76 being  non-empty MSAlgebra over C75;
cluster MSAlgebra (# (the Sorts of C76) , (the Charact of C76) #) ->  non-empty;
coherence by MSUALG_1:def 3;
end;
registration
let C77 being non  void non  empty ManySortedSign;
let C78 being  non-empty MSAlgebra over C77;
cluster  non-empty  strict for (MSSubAlgebra of C78);
existence
proof
L251: MSAlgebra (# (the Sorts of C78) , (the Charact of C78) #) is (MSSubAlgebra of C78) by L236;
thus L252: thesis by L251;
end;
end;
theorem
L254: (for R3 being non  void non  empty ManySortedSign holds (for R5 being MSAlgebra over R3 holds (for R6 being MSAlgebra over R3 holds (( the MSAlgebra of R5 ) = ( the MSAlgebra of R6 ) implies R5 is (MSSubAlgebra of R6)))))
proof
let R3 being non  void non  empty ManySortedSign;
let R5 being MSAlgebra over R3;
let R6 being MSAlgebra over R3;
assume L255: ( the MSAlgebra of R5 ) = ( the MSAlgebra of R6 );
thus L256: (the Sorts of R5) is (MSSubset of R6) by L255 , PBOOLE:def 18;
let C79 being (MSSubset of R6);
set D44 = (the Charact of R5);
set D45 = ( Opers (R6 , C79) );
assume L257: C79 = (the Sorts of R5);
thus L258: C79 is  opers_closed
proof
let C80 being (OperSymbol of R3);
L259: ( ( Den (C80 , R6) ) | ( ( ( C79 # ) * (the Arity of R3) ) . C80 ) ) c= ( Den (C80 , R6) ) by RELAT_1:59;
L260: (( rng ( ( Den (C80 , R6) ) | ( ( ( C79 # ) * (the Arity of R3) ) . C80 ) ) ) c= ( rng ( Den (C80 , R6) ) ) & ( rng ( Den (C80 , R6) ) ) c= ( Result (C80 , R6) ) & ( Result (C80 , R6) ) = ( ( C79 * (the ResultSort of R3) ) . C80 )) by L259 , L255 , L257 , RELAT_1:11 , RELAT_1:def 19 , MSUALG_1:def 5;
thus L261: ( rng ( ( Den (C80 , R6) ) | ( ( ( C79 # ) * (the Arity of R3) ) . C80 ) ) ) c= ( ( C79 * (the ResultSort of R3) ) . C80 ) by L260 , XBOOLE_1:1;
end;

L262: (for R1 being set holds (R1 in (the carrier' of R3) implies ( D44 . R1 ) = ( D45 . R1 )))
proof
let R1 being set;
assume L263: R1 in (the carrier' of R3);
reconsider D46 = R1 as (OperSymbol of R3) by L263;
thus L264: thesis by L255 , L257 , L219;
end;
thus L265: thesis by L262 , PBOOLE:3;
end;
theorem
L266: (for R3 being non  void non  empty ManySortedSign holds (for R5 being MSAlgebra over R3 holds (for R6 being MSAlgebra over R3 holds (for R7 being MSAlgebra over R3 holds ((R5 is (MSSubAlgebra of R6) & R6 is (MSSubAlgebra of R7)) implies R5 is (MSSubAlgebra of R7))))))
proof
let R3 being non  void non  empty ManySortedSign;
let R5 being MSAlgebra over R3;
let R6 being MSAlgebra over R3;
let R7 being MSAlgebra over R3;
assume that
L267: R5 is (MSSubAlgebra of R6)
and
L268: R6 is (MSSubAlgebra of R7);
reconsider D47 = (the Sorts of R5) as (MSSubset of R6) by L267 , L226;
L269: D47 is  opers_closed by L267 , L226;
reconsider D48 = (the Sorts of R6) as (MSSubset of R7) by L268 , L226;
L270: D48 is  opers_closed by L268 , L226;
reconsider D49 = D48 as (MSSubset of R6) by PBOOLE:def 18;
L271: (the Charact of R6) = ( Opers (R7 , D48) ) by L268 , L226;
L272: (the Sorts of R5) is (MSSubset of R6) by L267 , L226;
L273: (the Sorts of R5) c= (the Sorts of R6) by L272 , PBOOLE:def 18;
L274: (the Sorts of R6) is (MSSubset of R7) by L268 , L226;
L275: (the Sorts of R6) c= (the Sorts of R7) by L274 , PBOOLE:def 18;
L276: (the Sorts of R5) c= (the Sorts of R7) by L275 , L273 , PBOOLE:13;
thus L277: (the Sorts of R5) is (MSSubset of R7) by L276 , PBOOLE:def 18;
let C81 being (MSSubset of R7);
set D50 = (the Charact of R5);
set D51 = ( Opers (R7 , C81) );
L278: (the Charact of R5) = ( Opers (R6 , D47) ) by L267 , L226;
assume L279: C81 = (the Sorts of R5);
L280: (for B42 being (OperSymbol of R3) holds C81 is_closed_on B42)
proof
let C82 being (OperSymbol of R3);
L281: D47 is_closed_on C82 by L269 , L131;
L282: D48 is_closed_on C82 by L270 , L131;
L283: ( Den (C82 , R6) ) = ( ( Opers (R7 , D48) ) . C82 ) by L271 , MSUALG_1:def 6
.= ( C82 /. D48 ) by L180
.= ( ( Den (C82 , R7) ) | ( ( ( D48 # ) * (the Arity of R3) ) . C82 ) ) by L282 , L155;
L284: ( ( ( D47 # ) * (the Arity of R3) ) . C82 ) c= ( ( ( D49 # ) * (the Arity of R3) ) . C82 ) by L273 , L133;
L285: ( Den (C82 , R5) ) = ( ( Opers (R6 , D47) ) . C82 ) by L278 , MSUALG_1:def 6
.= ( C82 /. D47 ) by L180
.= ( ( ( Den (C82 , R7) ) | ( ( ( D48 # ) * (the Arity of R3) ) . C82 ) ) | ( ( ( D47 # ) * (the Arity of R3) ) . C82 ) ) by L281 , L283 , L155
.= ( ( Den (C82 , R7) ) | ( ( ( ( D48 # ) * (the Arity of R3) ) . C82 ) /\ ( ( ( D47 # ) * (the Arity of R3) ) . C82 ) ) ) by RELAT_1:71
.= ( ( Den (C82 , R7) ) | ( ( ( D47 # ) * (the Arity of R3) ) . C82 ) ) by L284 , XBOOLE_1:28;
L286: ( rng ( ( Den (C82 , R7) ) | ( ( ( D47 # ) * (the Arity of R3) ) . C82 ) ) ) c= ( Result (C82 , R5) ) by L285 , RELAT_1:def 19;
L287: ( rng ( ( Den (C82 , R7) ) | ( ( ( D47 # ) * (the Arity of R3) ) . C82 ) ) ) c= ( ( (the Sorts of R5) * (the ResultSort of R3) ) . C82 ) by L286 , MSUALG_1:def 5;
thus L288: thesis by L287 , L279 , L129;
end;
thus L289: C81 is  opers_closed by L280 , L131;
L290: (for R1 being set holds (R1 in (the carrier' of R3) implies ( D50 . R1 ) = ( D51 . R1 )))
proof
let R1 being set;
assume L291: R1 in (the carrier' of R3);
reconsider D52 = R1 as (OperSymbol of R3) by L291;
L292: D47 is_closed_on D52 by L269 , L131;
L293: D48 is_closed_on D52 by L270 , L131;
L294: ( Den (D52 , R6) ) = ( ( Opers (R7 , D48) ) . D52 ) by L271 , MSUALG_1:def 6
.= ( D52 /. D48 ) by L180
.= ( ( Den (D52 , R7) ) | ( ( ( D48 # ) * (the Arity of R3) ) . D52 ) ) by L293 , L155;
thus L295: ( D50 . R1 ) = ( D52 /. D47 ) by L278 , L180
.= ( ( ( Den (D52 , R7) ) | ( ( ( D48 # ) * (the Arity of R3) ) . D52 ) ) | ( ( ( D47 # ) * (the Arity of R3) ) . D52 ) ) by L292 , L294 , L155
.= ( ( Den (D52 , R7) ) | ( ( ( ( D48 # ) * (the Arity of R3) ) . D52 ) /\ ( ( ( D47 # ) * (the Arity of R3) ) . D52 ) ) ) by RELAT_1:71
.= ( ( Den (D52 , R7) ) | ( ( ( C81 # ) * (the Arity of R3) ) . D52 ) ) by L273 , L279 , L133 , XBOOLE_1:28
.= ( D52 /. C81 ) by L280 , L155
.= ( D51 . R1 ) by L180;
end;
thus L296: thesis by L290 , PBOOLE:3;
end;
theorem
L297: (for R3 being non  void non  empty ManySortedSign holds (for R6 being MSAlgebra over R3 holds (for R7 being MSAlgebra over R3 holds ((R6 is (MSSubAlgebra of R7) & R7 is (MSSubAlgebra of R6)) implies ( the MSAlgebra of R6 ) = ( the MSAlgebra of R7 )))))
proof
let R3 being non  void non  empty ManySortedSign;
let R6 being MSAlgebra over R3;
let R7 being MSAlgebra over R3;
assume that
L298: R6 is (MSSubAlgebra of R7)
and
L299: R7 is (MSSubAlgebra of R6);
L300: (the Sorts of R7) is (MSSubset of R6) by L299 , L226;
L301: (the Sorts of R7) c= (the Sorts of R6) by L300 , PBOOLE:def 18;
reconsider D53 = (the Sorts of R6) as (MSSubset of R7) by L298 , L226;
L302: (the Charact of R6) = ( Opers (R7 , D53) ) by L298 , L226;
reconsider D54 = (the Sorts of R7) as (MSSubset of R6) by L299 , L226;
L303: (the Charact of R7) = ( Opers (R6 , D54) ) by L299 , L226;
L304: (the Sorts of R6) is (MSSubset of R7) by L298 , L226;
L305: (the Sorts of R6) c= (the Sorts of R7) by L304 , PBOOLE:def 18;
L306: (the Sorts of R6) = (the Sorts of R7) by L305 , L301 , PBOOLE:146;
set D55 = (the Charact of R6);
set D56 = ( Opers (R6 , D54) );
L307: D53 is  opers_closed by L298 , L226;
L308: (for R1 being set holds (R1 in (the carrier' of R3) implies ( D55 . R1 ) = ( D56 . R1 )))
proof
let R1 being set;
assume L309: R1 in (the carrier' of R3);
reconsider D57 = R1 as (OperSymbol of R3) by L309;
L310: ( Args (D57 , R7) ) = ( ( ( D54 # ) * (the Arity of R3) ) . D57 ) by MSUALG_1:def 4;
L311: D53 is_closed_on D57 by L307 , L131;
thus L312: ( D55 . R1 ) = ( D57 /. D53 ) by L302 , L180
.= ( ( Den (D57 , R7) ) | ( ( ( D53 # ) * (the Arity of R3) ) . D57 ) ) by L311 , L155
.= ( Den (D57 , R7) ) by L306 , L310 , RELSET_1:19
.= ( D56 . R1 ) by L303 , MSUALG_1:def 6;
end;
thus L313: thesis by L308 , L306 , L303 , PBOOLE:3;
end;
theorem
L314: (for R3 being non  void non  empty ManySortedSign holds (for R5 being MSAlgebra over R3 holds (for B43 , B44 being (MSSubAlgebra of R5) holds ((the Sorts of B43) c= (the Sorts of B44) implies B43 is (MSSubAlgebra of B44)))))
proof
let R3 being non  void non  empty ManySortedSign;
let R5 being MSAlgebra over R3;
let C83 , C84 being (MSSubAlgebra of R5);
reconsider D58 = (the Sorts of C83) , D59 = (the Sorts of C84) as (MSSubset of R5) by L226;
assume L315: (the Sorts of C83) c= (the Sorts of C84);
thus L316: (the Sorts of C83) is (MSSubset of C84) by L315 , PBOOLE:def 18;
let C85 being (MSSubset of C84);
L317: D58 is  opers_closed by L226;
set D60 = (the Charact of C83);
set D61 = ( Opers (C84 , C85) );
L318: (the Charact of C83) = ( Opers (R5 , D58) ) by L226;
L319: D59 is  opers_closed by L226;
L320: (the Charact of C84) = ( Opers (R5 , D59) ) by L226;
assume L321: C85 = (the Sorts of C83);
L322: (for B45 being (OperSymbol of R3) holds C85 is_closed_on B45)
proof
let C86 being (OperSymbol of R3);
L323: D58 is_closed_on C86 by L317 , L131;
L324: D59 is_closed_on C86 by L319 , L131;
L325: ( Den (C86 , C84) ) = ( ( Opers (R5 , D59) ) . C86 ) by L320 , MSUALG_1:def 6
.= ( C86 /. D59 ) by L180
.= ( ( Den (C86 , R5) ) | ( ( ( D59 # ) * (the Arity of R3) ) . C86 ) ) by L324 , L155;
L326: ( Den (C86 , C83) ) = ( ( Opers (R5 , D58) ) . C86 ) by L318 , MSUALG_1:def 6
.= ( C86 /. D58 ) by L180
.= ( ( Den (C86 , R5) ) | ( ( ( D58 # ) * (the Arity of R3) ) . C86 ) ) by L323 , L155
.= ( ( Den (C86 , R5) ) | ( ( ( ( D59 # ) * (the Arity of R3) ) . C86 ) /\ ( ( ( D58 # ) * (the Arity of R3) ) . C86 ) ) ) by L315 , L133 , XBOOLE_1:28
.= ( ( Den (C86 , C84) ) | ( ( ( D58 # ) * (the Arity of R3) ) . C86 ) ) by L325 , RELAT_1:71;
L327: ( rng ( ( Den (C86 , C84) ) | ( ( ( D58 # ) * (the Arity of R3) ) . C86 ) ) ) c= ( Result (C86 , C83) ) by L326 , RELAT_1:def 19;
L328: ( rng ( ( Den (C86 , C84) ) | ( ( ( D58 # ) * (the Arity of R3) ) . C86 ) ) ) c= ( ( (the Sorts of C83) * (the ResultSort of R3) ) . C86 ) by L327 , MSUALG_1:def 5;
thus L329: thesis by L328 , L321 , L129;
end;
thus L330: C85 is  opers_closed by L322 , L131;
L331: (for R1 being set holds (R1 in (the carrier' of R3) implies ( D60 . R1 ) = ( D61 . R1 )))
proof
let R1 being set;
assume L332: R1 in (the carrier' of R3);
reconsider D62 = R1 as (OperSymbol of R3) by L332;
L333: D58 is_closed_on D62 by L317 , L131;
L334: D59 is_closed_on D62 by L319 , L131;
L335: ( Den (D62 , C84) ) = ( ( Opers (R5 , D59) ) . D62 ) by L320 , MSUALG_1:def 6
.= ( D62 /. D59 ) by L180
.= ( ( Den (D62 , R5) ) | ( ( ( D59 # ) * (the Arity of R3) ) . D62 ) ) by L334 , L155;
thus L336: ( D60 . R1 ) = ( D62 /. D58 ) by L318 , L180
.= ( ( Den (D62 , R5) ) | ( ( ( D58 # ) * (the Arity of R3) ) . D62 ) ) by L333 , L155
.= ( ( Den (D62 , R5) ) | ( ( ( ( D59 # ) * (the Arity of R3) ) . D62 ) /\ ( ( ( D58 # ) * (the Arity of R3) ) . D62 ) ) ) by L315 , L133 , XBOOLE_1:28
.= ( ( Den (D62 , C84) ) | ( ( ( D58 # ) * (the Arity of R3) ) . D62 ) ) by L335 , RELAT_1:71
.= ( D62 /. C85 ) by L321 , L322 , L155
.= ( D61 . R1 ) by L180;
end;
thus L337: thesis by L331 , PBOOLE:3;
end;
theorem
L338: (for R3 being non  void non  empty ManySortedSign holds (for R5 being MSAlgebra over R3 holds (for B46 , B47 being (MSSubAlgebra of R5) holds ((the Sorts of B46) = (the Sorts of B47) implies ( the MSAlgebra of B46 ) = ( the MSAlgebra of B47 )))))
proof
let R3 being non  void non  empty ManySortedSign;
let R5 being MSAlgebra over R3;
let C87 , C88 being (MSSubAlgebra of R5);
assume L339: (the Sorts of C87) = (the Sorts of C88);
L340: (C87 is (MSSubAlgebra of C88) & C88 is (MSSubAlgebra of C87)) by L339 , L314;
thus L341: thesis by L340 , L297;
end;
theorem
L342: (for B48 being non  void non  empty ManySortedSign holds (for B49 being MSAlgebra over B48 holds (for B50 being (MSSubAlgebra of B49) holds ( Constants B49 ) is (MSSubset of B50))))
proof
let C89 being non  void non  empty ManySortedSign;
let C90 being MSAlgebra over C89;
let C91 being (MSSubAlgebra of C90);
L343: ( Constants C90 ) c= (the Sorts of C91)
proof
let C92 being set;
assume L344: C92 in (the carrier of C89);
reconsider D63 = C92 as (SortSymbol of C89) by L344;
thus L345: ( ( Constants C90 ) . C92 ) c= ( (the Sorts of C91) . C92 )
proof
let C93 being set;
per cases ;
suppose L346: ( (the Sorts of C90) . D63 ) = ( {} );

L347: ( ( Constants C90 ) . D63 ) = ( Constants (C90 , D63) ) by L88
.= ( {} ) by L346;
thus L348: thesis by L347;
end;
suppose L349: ( (the Sorts of C90) . D63 ) <> ( {} );

L350: (ex B51 being non  empty set st (B51 = ( (the Sorts of C90) . D63 ) & ( Constants (C90 , D63) ) = { B52 where B52 is (Element of B51) : (ex B53 being (OperSymbol of C89) st (( (the Arity of C89) . B53 ) = ( {} ) & ( (the ResultSort of C89) . B53 ) = D63 & B52 in ( rng ( Den (B53 , C90) ) ))) })) by L349 , L77;
reconsider D64 = (the Sorts of C91) as (MSSubset of C90) by L226;
assume L351: C93 in ( ( Constants C90 ) . C92 );
L352: ( ( Constants C90 ) . C92 ) = ( Constants (C90 , D63) ) by L88;
consider C94 being (Element of ( (the Sorts of C90) . D63 )) such that L353: C94 = C93 and L354: (ex B54 being (OperSymbol of C89) st (( (the Arity of C89) . B54 ) = ( {} ) & ( (the ResultSort of C89) . B54 ) = D63 & C94 in ( rng ( Den (B54 , C90) ) ))) by L352 , L351 , L350;
consider C95 being (OperSymbol of C89) such that L355: ( (the Arity of C89) . C95 ) = ( {} ) and L356: ( (the ResultSort of C89) . C95 ) = D63 and L357: C94 in ( rng ( Den (C95 , C90) ) ) by L354;
L358: ( dom (the Arity of C89) ) = (the carrier' of C89) by FUNCT_2:def 1;
L359: ( (the Arity of C89) . C95 ) in ( rng (the Arity of C89) ) by L358 , FUNCT_1:def 3;
L360: (( dom ( {} ) ) = ( {} ) & ( rng ( {} ) ) = ( {} ));
reconsider D65 = ( {} ) as (Function of ( {} ) , ( {} )) by L360 , FUNCT_2:1;
L361: ( dom (the ResultSort of C89) ) = (the carrier' of C89) by FUNCT_2:def 1;
L362: ( dom (( D64 # ) qua (ManySortedSet of ( (the carrier of C89) * ))) ) = ( (the carrier of C89) * ) by PARTFUN1:def 2;
L363: C95 in ( dom ( ( D64 # ) * (the Arity of C89) ) ) by L362 , L358 , L359 , FUNCT_1:11;
L364: ( ( ( D64 # ) * (the Arity of C89) ) . C95 ) = ( ( D64 # ) . ( (the Arity of C89) . C95 ) ) by L363 , FUNCT_1:12
.= ( ( D64 # ) . ( the_arity_of C95 ) ) by MSUALG_1:def 1
.= ( product ( D64 * ( the_arity_of C95 ) ) ) by FINSEQ_2:def 5
.= ( product ( D64 * D65 ) ) by L355 , MSUALG_1:def 1
.= { ( {} ) } by CARD_3:10;
L365: ( dom (( (the Sorts of C90) # ) qua (ManySortedSet of ( (the carrier of C89) * ))) ) = ( (the carrier of C89) * ) by PARTFUN1:def 2;
L366: C95 in ( dom ( ( (the Sorts of C90) # ) * (the Arity of C89) ) ) by L365 , L358 , L359 , FUNCT_1:11;
L367: D64 is  opers_closed by L226;
L368: D64 is_closed_on C95 by L367 , L131;
L369: ( rng ( ( Den (C95 , C90) ) | ( ( ( D64 # ) * (the Arity of C89) ) . C95 ) ) ) c= ( ( D64 * (the ResultSort of C89) ) . C95 ) by L368 , L129;
L370: ( rng ( Den (C95 , C90) ) ) c= ( Result (C95 , C90) ) by RELAT_1:def 19;
L371: ( dom ( Den (C95 , C90) ) ) = ( Args (C95 , C90) ) by L370 , L357 , FUNCT_2:def 1
.= ( ( ( (the Sorts of C90) # ) * (the Arity of C89) ) . C95 ) by MSUALG_1:def 4
.= ( ( (the Sorts of C90) # ) . ( (the Arity of C89) . C95 ) ) by L366 , FUNCT_1:12
.= ( ( (the Sorts of C90) # ) . ( the_arity_of C95 ) ) by MSUALG_1:def 1
.= ( product ( (the Sorts of C90) * ( the_arity_of C95 ) ) ) by FINSEQ_2:def 5
.= ( product ( (the Sorts of C90) * D65 ) ) by L355 , MSUALG_1:def 1
.= { ( {} ) } by CARD_3:10;
L372: ( ( Den (C95 , C90) ) | ( ( ( D64 # ) * (the Arity of C89) ) . C95 ) ) = ( Den (C95 , C90) ) by L371 , L364 , RELAT_1:68;
L373: C94 in ( ( D64 * (the ResultSort of C89) ) . C95 ) by L372 , L357 , L369;
thus L374: thesis by L373 , L353 , L356 , L361 , FUNCT_1:13;
end;
end;

end;
thus L346: thesis by L343 , PBOOLE:def 18;
end;
theorem
L347: (for B55 being non  void  all-with_const_op non  empty ManySortedSign holds (for B56 being  non-empty MSAlgebra over B55 holds (for B57 being  non-empty (MSSubAlgebra of B56) holds ( Constants B56 ) is  non-empty  non-empty  non-empty  non-empty (MSSubset of B57)))) by L342;
theorem
L348: (for B58 being non  void  all-with_const_op non  empty ManySortedSign holds (for B59 being  non-empty MSAlgebra over B58 holds (for B60 , B61 being  non-empty (MSSubAlgebra of B59) holds ( (the Sorts of B60) /\ (the Sorts of B61) ) is  non-empty)))
proof
let C96 being non  void  all-with_const_op non  empty ManySortedSign;
let C97 being  non-empty MSAlgebra over C96;
let C98 , C99 being  non-empty (MSSubAlgebra of C97);
L349: ( Constants C97 ) is  non-empty  non-empty  non-empty  non-empty (MSSubset of C99) by L342;
L350: ( Constants C97 ) c= (the Sorts of C99) by L349 , PBOOLE:def 18;
L351: ( Constants C97 ) is  non-empty  non-empty  non-empty  non-empty (MSSubset of C98) by L342;
L352: ( Constants C97 ) c= (the Sorts of C98) by L351 , PBOOLE:def 18;
L353: ( ( Constants C97 ) /\ ( Constants C97 ) ) c= ( (the Sorts of C98) /\ (the Sorts of C99) ) by L352 , L350 , PBOOLE:21;
L354:
now
let C100 being set;
assume L355: C100 in (the carrier of C96);
reconsider D66 = C100 as (SortSymbol of C96) by L355;
L356: ( ( (the Sorts of C98) /\ (the Sorts of C99) ) . D66 ) = ( ( (the Sorts of C98) . D66 ) /\ ( (the Sorts of C99) . D66 ) ) by PBOOLE:def 5;
L357: ( ( Constants C97 ) . D66 ) c= ( ( (the Sorts of C98) . D66 ) /\ ( (the Sorts of C99) . D66 ) ) by L356 , L353 , PBOOLE:def 2;
L358: (ex B62 being set st B62 in ( ( Constants C97 ) . D66 )) by XBOOLE_0:def 1;
thus L359: ( ( (the Sorts of C98) /\ (the Sorts of C99) ) . C100 ) is non  empty by L358 , L357 , PBOOLE:def 5;
end;
thus L360: thesis by L354 , PBOOLE:def 13;
end;
begin
definition
let C101 being non  void non  empty ManySortedSign;
let C102 being MSAlgebra over C101;
let C103 being (MSSubset of C102);
func SubSort C103 -> set means 
:L361: (for B63 being set holds (B63 in it iff (B63 in ( Funcs ((the carrier of C101) , ( bool ( Union (the Sorts of C102) ) )) ) & B63 is (MSSubset of C102) & (for B64 being (MSSubset of C102) holds (B64 = B63 implies (B64 is  opers_closed & ( Constants C102 ) c= B64 & C103 c= B64))))));
existence
proof
defpred S2[ set ] means ($1 is (MSSubset of C102) & (for B65 being (MSSubset of C102) holds (B65 = $1 implies (B65 is  opers_closed & ( Constants C102 ) c= B65 & C103 c= B65))));
consider C104 being set such that L362: (for B66 being set holds (B66 in C104 iff (B66 in ( Funcs ((the carrier of C101) , ( bool ( Union (the Sorts of C102) ) )) ) & S2[ B66 ]))) from XBOOLE_0:sch 1;
take C104;
thus L363: thesis by L362;
end;
uniqueness
proof
defpred S3[ set ] means ($1 in ( Funcs ((the carrier of C101) , ( bool ( Union (the Sorts of C102) ) )) ) & $1 is (MSSubset of C102) & (for B67 being (MSSubset of C102) holds (B67 = $1 implies (B67 is  opers_closed & ( Constants C102 ) c= B67 & C103 c= B67))));
L364: (for B68 , B69 being set holds (((for B70 being set holds (B70 in B68 iff S3[ B70 ])) & (for B71 being set holds (B71 in B69 iff S3[ B71 ]))) implies B68 = B69)) from XBOOLE_0:sch 3;
thus L365: thesis by L364;
end;
end;
L367: (for B72 being non  void non  empty ManySortedSign holds (for B73 being MSAlgebra over B72 holds (for B74 being (MSSubset of B73) holds (the Sorts of B73) in ( SubSort B74 ))))
proof
let C105 being non  void non  empty ManySortedSign;
let C106 being MSAlgebra over C105;
let C107 being (MSSubset of C106);
set D67 = ( Funcs ((the carrier of C105) , ( bool ( Union (the Sorts of C106) ) )) );
L368: ( Union (the Sorts of C106) ) = ( union ( rng (the Sorts of C106) ) ) by CARD_3:def 4;
L369: (( dom (the Sorts of C106) ) = (the carrier of C105) & ( rng (the Sorts of C106) ) c= ( bool ( Union (the Sorts of C106) ) )) by L368 , PARTFUN1:def 2 , ZFMISC_1:82;
L370: (the Sorts of C106) in D67 by L369 , FUNCT_2:def 2;
L371: ((the Sorts of C106) is (MSSubset of C106) & (for B75 being (MSSubset of C106) holds (B75 = (the Sorts of C106) implies (B75 is  opers_closed & ( Constants C106 ) c= B75 & C107 c= B75)))) by L202 , PBOOLE:def 18;
thus L372: thesis by L371 , L370 , L361;
end;
registration
let C108 being non  void non  empty ManySortedSign;
let C109 being MSAlgebra over C108;
let C110 being (MSSubset of C109);
cluster ( SubSort C110 ) -> non  empty;
coherence by L367;
end;
definition
let C111 being non  void non  empty ManySortedSign;
let C112 being MSAlgebra over C111;
func SubSort C112 -> set means 
:L374: (for B76 being set holds (B76 in it iff (B76 in ( Funcs ((the carrier of C111) , ( bool ( Union (the Sorts of C112) ) )) ) & B76 is (MSSubset of C112) & (for B77 being (MSSubset of C112) holds (B77 = B76 implies B77 is  opers_closed)))));
existence
proof
defpred S4[ set ] means ($1 is (MSSubset of C112) & (for B78 being (MSSubset of C112) holds (B78 = $1 implies B78 is  opers_closed)));
consider C113 being set such that L375: (for B79 being set holds (B79 in C113 iff (B79 in ( Funcs ((the carrier of C111) , ( bool ( Union (the Sorts of C112) ) )) ) & S4[ B79 ]))) from XBOOLE_0:sch 1;
take C113;
thus L376: thesis by L375;
end;
uniqueness
proof
defpred S5[ set ] means ($1 in ( Funcs ((the carrier of C111) , ( bool ( Union (the Sorts of C112) ) )) ) & $1 is (MSSubset of C112) & (for B80 being (MSSubset of C112) holds (B80 = $1 implies B80 is  opers_closed)));
L377: (for B81 , B82 being set holds (((for B83 being set holds (B83 in B81 iff S5[ B83 ])) & (for B84 being set holds (B84 in B82 iff S5[ B84 ]))) implies B81 = B82)) from XBOOLE_0:sch 3;
thus L378: thesis by L377;
end;
end;
registration
let C114 being non  void non  empty ManySortedSign;
let C115 being MSAlgebra over C114;
cluster ( SubSort C115 ) -> non  empty;
coherence
proof
set D68 = ( Funcs ((the carrier of C114) , ( bool ( Union (the Sorts of C115) ) )) );
defpred S6[ set ] means ($1 is (MSSubset of C115) & (for B85 being (MSSubset of C115) holds (B85 = $1 implies B85 is  opers_closed)));
consider C116 being set such that L380: (for B86 being set holds (B86 in C116 iff (B86 in ( Funcs ((the carrier of C114) , ( bool ( Union (the Sorts of C115) ) )) ) & S6[ B86 ]))) from XBOOLE_0:sch 1;
L381: ( Union (the Sorts of C115) ) = ( union ( rng (the Sorts of C115) ) ) by CARD_3:def 4;
L382: (( dom (the Sorts of C115) ) = (the carrier of C114) & ( rng (the Sorts of C115) ) c= ( bool ( Union (the Sorts of C115) ) )) by L381 , PARTFUN1:def 2 , ZFMISC_1:82;
L383: (the Sorts of C115) in D68 by L382 , FUNCT_2:def 2;
L384: ((the Sorts of C115) is (MSSubset of C115) & (for B87 being (MSSubset of C115) holds (B87 = (the Sorts of C115) implies B87 is  opers_closed))) by L202 , PBOOLE:def 18;
reconsider D69 = C116 as non  empty set by L384 , L380 , L383;
L385: ( SubSort C115 ) = D69 by L380 , L374;
thus L386: thesis by L385;
end;
end;
definition
let C117 being non  void non  empty ManySortedSign;
let C118 being MSAlgebra over C117;
let C119 being (Element of ( SubSort C118 ));
func @ C119 -> (MSSubset of C118) equals 
C119;
coherence by L374;
end;
theorem
L389: (for R3 being non  void non  empty ManySortedSign holds (for R5 being MSAlgebra over R3 holds (for B88 , B89 being (MSSubset of R5) holds (B89 in ( SubSort B88 ) iff (B89 is  opers_closed & ( Constants R5 ) c= B89 & B88 c= B89)))))
proof
let R3 being non  void non  empty ManySortedSign;
let R5 being MSAlgebra over R3;
let C120 , C121 being (MSSubset of R5);
set D70 = ( bool ( Union (the Sorts of R5) ) );
L390: ( dom C121 ) = (the carrier of R3) by PARTFUN1:def 2;
L391: ( dom (the Sorts of R5) ) = (the carrier of R3) by PARTFUN1:def 2;
L392: ( union ( rng C121 ) ) c= ( union ( rng (the Sorts of R5) ) )
proof
let C122 being set;
assume L393: C122 in ( union ( rng C121 ) );
consider C123 being set such that L394: C122 in C123 and L395: C123 in ( rng C121 ) by L393 , TARSKI:def 4;
consider C124 being set such that L396: C124 in ( dom C121 ) and L397: ( C121 . C124 ) = C123 by L395 , FUNCT_1:def 3;
L398: ( (the Sorts of R5) . C124 ) in ( rng (the Sorts of R5) ) by L390 , L391 , L396 , FUNCT_1:def 3;
L399: C121 c= (the Sorts of R5) by PBOOLE:def 18;
L400: ( C121 . C124 ) c= ( (the Sorts of R5) . C124 ) by L399 , L390 , L396 , PBOOLE:def 2;
thus L401: thesis by L400 , L394 , L397 , L398 , TARSKI:def 4;
end;
L402: ( bool ( union ( rng C121 ) ) ) c= ( bool ( union ( rng (the Sorts of R5) ) ) ) by L392 , ZFMISC_1:67;
L403: ( bool ( union ( rng C121 ) ) ) c= D70 by L402 , CARD_3:def 4;
thus L404: (C121 in ( SubSort C120 ) implies (C121 is  opers_closed & ( Constants R5 ) c= C121 & C120 c= C121)) by L361;
assume L405: (C121 is  opers_closed & ( Constants R5 ) c= C121 & C120 c= C121);
L406: (for B90 being (MSSubset of R5) holds (B90 = C121 implies (B90 is  opers_closed & ( Constants R5 ) c= B90 & C120 c= B90))) by L405;
L407: ( rng C121 ) c= ( bool ( union ( rng C121 ) ) ) by ZFMISC_1:82;
L408: ( rng C121 ) c= D70 by L407 , L403 , XBOOLE_1:1;
L409: C121 in ( Funcs ((the carrier of R3) , D70) ) by L408 , L390 , FUNCT_2:def 2;
thus L410: thesis by L409 , L406 , L361;
end;
theorem
L411: (for R3 being non  void non  empty ManySortedSign holds (for R5 being MSAlgebra over R3 holds (for B91 being (MSSubset of R5) holds (B91 in ( SubSort R5 ) iff B91 is  opers_closed))))
proof
let R3 being non  void non  empty ManySortedSign;
let R5 being MSAlgebra over R3;
let C125 being (MSSubset of R5);
set D71 = ( bool ( Union (the Sorts of R5) ) );
L412: ( dom C125 ) = (the carrier of R3) by PARTFUN1:def 2;
L413: ( dom (the Sorts of R5) ) = (the carrier of R3) by PARTFUN1:def 2;
L414: ( union ( rng C125 ) ) c= ( union ( rng (the Sorts of R5) ) )
proof
let C126 being set;
assume L415: C126 in ( union ( rng C125 ) );
consider C127 being set such that L416: C126 in C127 and L417: C127 in ( rng C125 ) by L415 , TARSKI:def 4;
consider C128 being set such that L418: C128 in ( dom C125 ) and L419: ( C125 . C128 ) = C127 by L417 , FUNCT_1:def 3;
L420: ( (the Sorts of R5) . C128 ) in ( rng (the Sorts of R5) ) by L412 , L413 , L418 , FUNCT_1:def 3;
L421: C125 c= (the Sorts of R5) by PBOOLE:def 18;
L422: ( C125 . C128 ) c= ( (the Sorts of R5) . C128 ) by L421 , L412 , L418 , PBOOLE:def 2;
thus L423: thesis by L422 , L416 , L419 , L420 , TARSKI:def 4;
end;
L424: ( bool ( union ( rng C125 ) ) ) c= ( bool ( union ( rng (the Sorts of R5) ) ) ) by L414 , ZFMISC_1:67;
L425: ( bool ( union ( rng C125 ) ) ) c= D71 by L424 , CARD_3:def 4;
thus L426: (C125 in ( SubSort R5 ) implies C125 is  opers_closed) by L374;
assume L427: C125 is  opers_closed;
L428: (for B92 being (MSSubset of R5) holds (B92 = C125 implies B92 is  opers_closed)) by L427;
L429: ( rng C125 ) c= ( bool ( union ( rng C125 ) ) ) by ZFMISC_1:82;
L430: ( rng C125 ) c= D71 by L429 , L425 , XBOOLE_1:1;
L431: C125 in ( Funcs ((the carrier of R3) , D71) ) by L430 , L412 , FUNCT_2:def 2;
thus L432: thesis by L431 , L428 , L374;
end;
definition
let C129 being non  void non  empty ManySortedSign;
let C130 being MSAlgebra over C129;
let C131 being (MSSubset of C130);
let C132 being (SortSymbol of C129);
func SubSort (C131 , C132) -> set means 
:L433: (for B93 being set holds (B93 in it iff (ex B94 being (MSSubset of C130) st (B94 in ( SubSort C131 ) & B93 = ( B94 . C132 )))));
existence
proof
defpred S7[ set ] means (ex B95 being (MSSubset of C130) st (B95 in ( SubSort C131 ) & $1 = ( B95 . C132 )));
set D72 = ( bool ( Union (the Sorts of C130) ) );
consider C133 being set such that L434: (for B96 being set holds (B96 in C133 iff (B96 in D72 & S7[ B96 ]))) from XBOOLE_0:sch 1;
take C133;
L435: D72 = ( bool ( union ( rng (the Sorts of C130) ) ) ) by CARD_3:def 4;
L436: (for B97 being set holds (B97 in C133 iff (ex B98 being (MSSubset of C130) st (B98 in ( SubSort C131 ) & B97 = ( B98 . C132 )))))
proof
L437: ( dom (the Sorts of C130) ) = (the carrier of C129) by PARTFUN1:def 2;
L438: ( (the Sorts of C130) . C132 ) in ( rng (the Sorts of C130) ) by L437 , FUNCT_1:def 3;
L439: ( (the Sorts of C130) . C132 ) c= ( union ( rng (the Sorts of C130) ) ) by L438 , ZFMISC_1:74;
let C134 being set;
thus L440: (C134 in C133 implies (ex B99 being (MSSubset of C130) st (B99 in ( SubSort C131 ) & C134 = ( B99 . C132 )))) by L434;
given C135 being (MSSubset of C130) such that
L441: C135 in ( SubSort C131 )
and
L442: C134 = ( C135 . C132 );

L443: C135 c= (the Sorts of C130) by PBOOLE:def 18;
L444: ( C135 . C132 ) c= ( (the Sorts of C130) . C132 ) by L443 , PBOOLE:def 2;
L445: C134 c= ( union ( rng (the Sorts of C130) ) ) by L444 , L442 , L439 , XBOOLE_1:1;
thus L446: thesis by L445 , L434 , L435 , L441 , L442;
end;
thus L447: thesis by L436;
end;
uniqueness
proof
defpred S8[ set ] means (ex B100 being (MSSubset of C130) st (B100 in ( SubSort C131 ) & $1 = ( B100 . C132 )));
L448: (for B101 , B102 being set holds (((for B103 being set holds (B103 in B101 iff S8[ B103 ])) & (for B104 being set holds (B104 in B102 iff S8[ B104 ]))) implies B101 = B102)) from XBOOLE_0:sch 3;
thus L449: thesis by L448;
end;
end;
registration
let C136 being non  void non  empty ManySortedSign;
let C137 being MSAlgebra over C136;
let C138 being (MSSubset of C137);
let C139 being (SortSymbol of C136);
cluster ( SubSort (C138 , C139) ) -> non  empty;
coherence
proof
reconsider D73 = (the Sorts of C137) as (MSSubset of C137) by PBOOLE:def 18;
defpred S9[ set ] means (ex B105 being (MSSubset of C137) st (B105 in ( SubSort C138 ) & $1 = ( B105 . C139 )));
set D74 = ( bool ( Union (the Sorts of C137) ) );
consider C140 being set such that L451: (for B106 being set holds (B106 in C140 iff (B106 in D74 & S9[ B106 ]))) from XBOOLE_0:sch 1;
L452: D74 = ( bool ( union ( rng (the Sorts of C137) ) ) ) by CARD_3:def 4;
L453: (for B107 being set holds (B107 in C140 iff (ex B108 being (MSSubset of C137) st (B108 in ( SubSort C138 ) & B107 = ( B108 . C139 )))))
proof
L454: ( dom (the Sorts of C137) ) = (the carrier of C136) by PARTFUN1:def 2;
L455: ( (the Sorts of C137) . C139 ) in ( rng (the Sorts of C137) ) by L454 , FUNCT_1:def 3;
L456: ( (the Sorts of C137) . C139 ) c= ( union ( rng (the Sorts of C137) ) ) by L455 , ZFMISC_1:74;
let C141 being set;
thus L457: (C141 in C140 implies (ex B109 being (MSSubset of C137) st (B109 in ( SubSort C138 ) & C141 = ( B109 . C139 )))) by L451;
given C142 being (MSSubset of C137) such that
L458: C142 in ( SubSort C138 )
and
L459: C141 = ( C142 . C139 );

L460: C142 c= (the Sorts of C137) by PBOOLE:def 18;
L461: ( C142 . C139 ) c= ( (the Sorts of C137) . C139 ) by L460 , PBOOLE:def 2;
L462: C141 c= ( union ( rng (the Sorts of C137) ) ) by L461 , L459 , L456 , XBOOLE_1:1;
thus L463: thesis by L462 , L451 , L452 , L458 , L459;
end;
L464: (C138 c= D73 & ( Constants C137 ) c= D73) by PBOOLE:def 18;
L465: D73 is  opers_closed by L202;
L466: D73 in ( SubSort C138 ) by L465 , L464 , L389;
L467: ( (the Sorts of C137) . C139 ) in C140 by L466 , L453;
reconsider D75 = C140 as non  empty set by L467;
L468: D75 = ( SubSort (C138 , C139) ) by L453 , L433;
thus L469: thesis by L468;
end;
end;
definition
let C143 being non  void non  empty ManySortedSign;
let C144 being MSAlgebra over C143;
let C145 being (MSSubset of C144);
func MSSubSort C145 -> (MSSubset of C144) means 
:L471: (for B110 being (SortSymbol of C143) holds ( it . B110 ) = ( meet ( SubSort (C145 , B110) ) ));
existence
proof
deffunc H2((SortSymbol of C143)) = ( meet ( SubSort (C145 , $1) ) );
consider C146 being Function such that L472: (( dom C146 ) = (the carrier of C143) & (for B111 being (SortSymbol of C143) holds ( C146 . B111 ) = H2(B111))) from FUNCT_1:sch 4;
reconsider D76 = C146 as (ManySortedSet of (the carrier of C143)) by L472 , PARTFUN1:def 2 , RELAT_1:def 18;
L473: D76 c= (the Sorts of C144)
proof
reconsider D77 = (the Sorts of C144) as (MSSubset of C144) by PBOOLE:def 18;
let C147 being set;
L474: (C145 c= D77 & ( Constants C144 ) c= D77) by PBOOLE:def 18;
assume L475: C147 in (the carrier of C143);
reconsider D78 = C147 as (SortSymbol of C143) by L475;
L476: D77 is  opers_closed by L202;
L477: D77 in ( SubSort C145 ) by L476 , L474 , L389;
L478: ( (the Sorts of C144) . D78 ) in ( SubSort (C145 , D78) ) by L477 , L433;
L479: ( D76 . D78 ) = ( meet ( SubSort (C145 , D78) ) ) by L472;
thus L480: thesis by L479 , L478 , SETFAM_1:3;
end;
reconsider D79 = D76 as (MSSubset of C144) by L473 , PBOOLE:def 18;
take D79;
thus L481: thesis by L472;
end;
uniqueness
proof
let C148 , C149 being (MSSubset of C144);
assume that
L482: (for B112 being (SortSymbol of C143) holds ( C148 . B112 ) = ( meet ( SubSort (C145 , B112) ) ))
and
L483: (for B113 being (SortSymbol of C143) holds ( C149 . B113 ) = ( meet ( SubSort (C145 , B113) ) ));
L484: (for B114 being set holds (B114 in (the carrier of C143) implies ( C148 . B114 ) = ( C149 . B114 )))
proof
let C150 being set;
assume L485: C150 in (the carrier of C143);
reconsider D80 = C150 as (SortSymbol of C143) by L485;
L486: ( C148 . D80 ) = ( meet ( SubSort (C145 , D80) ) ) by L482;
thus L487: thesis by L486 , L483;
end;
thus L488: thesis by L484 , PBOOLE:3;
end;
end;
theorem
L490: (for R3 being non  void non  empty ManySortedSign holds (for R5 being MSAlgebra over R3 holds (for B115 being (MSSubset of R5) holds ( ( Constants R5 ) \/ B115 ) c= ( MSSubSort B115 ))))
proof
let R3 being non  void non  empty ManySortedSign;
let R5 being MSAlgebra over R3;
let C151 being (MSSubset of R5);
let C152 being set;
assume L491: C152 in (the carrier of R3);
reconsider D81 = C152 as (SortSymbol of R3) by L491;
L492: (for B116 being set holds (B116 in ( SubSort (C151 , D81) ) implies ( ( ( Constants R5 ) \/ C151 ) . D81 ) c= B116))
proof
let C153 being set;
assume L493: C153 in ( SubSort (C151 , D81) );
consider C154 being (MSSubset of R5) such that L494: C154 in ( SubSort C151 ) and L495: C153 = ( C154 . D81 ) by L493 , L433;
L496: (( Constants R5 ) c= C154 & C151 c= C154) by L494 , L389;
L497: ( ( Constants R5 ) \/ C151 ) c= C154 by L496 , PBOOLE:16;
thus L498: thesis by L497 , L495 , PBOOLE:def 2;
end;
L499: ( ( MSSubSort C151 ) . D81 ) = ( meet ( SubSort (C151 , D81) ) ) by L471;
thus L500: thesis by L499 , L492 , SETFAM_1:5;
end;
theorem
L501: (for R3 being non  void non  empty ManySortedSign holds (for R5 being MSAlgebra over R3 holds (for B117 being (MSSubset of R5) holds (( ( Constants R5 ) \/ B117 ) is  non-empty implies ( MSSubSort B117 ) is  non-empty))))
proof
let R3 being non  void non  empty ManySortedSign;
let R5 being MSAlgebra over R3;
let C155 being (MSSubset of R5);
assume L502: ( ( Constants R5 ) \/ C155 ) is  non-empty;
L503:
now
let C156 being set;
assume L504: C156 in (the carrier of R3);
reconsider D82 = C156 as (SortSymbol of R3) by L504;
L505: (for B118 being set holds (B118 in ( SubSort (C155 , D82) ) implies ( ( ( Constants R5 ) \/ C155 ) . D82 ) c= B118))
proof
let C157 being set;
assume L506: C157 in ( SubSort (C155 , D82) );
consider C158 being (MSSubset of R5) such that L507: C158 in ( SubSort C155 ) and L508: C157 = ( C158 . D82 ) by L506 , L433;
L509: (( Constants R5 ) c= C158 & C155 c= C158) by L507 , L389;
L510: ( ( Constants R5 ) \/ C155 ) c= C158 by L509 , PBOOLE:16;
thus L511: thesis by L510 , L508 , PBOOLE:def 2;
end;
L512: ( ( ( Constants R5 ) \/ C155 ) . D82 ) c= ( meet ( SubSort (C155 , D82) ) ) by L505 , SETFAM_1:5;
L513: (ex B119 being set st B119 in ( ( ( Constants R5 ) \/ C155 ) . D82 )) by L502 , XBOOLE_0:def 1;
thus L514: ( ( MSSubSort C155 ) . C156 ) is non  empty by L513 , L512 , L471;
end;
thus L515: thesis by L503 , PBOOLE:def 13;
end;
theorem
L516: (for R3 being non  void non  empty ManySortedSign holds (for R4 being (OperSymbol of R3) holds (for R5 being MSAlgebra over R3 holds (for B120 being (MSSubset of R5) holds (for B121 being (MSSubset of R5) holds (B121 in ( SubSort B120 ) implies ( ( ( ( MSSubSort B120 ) # ) * (the Arity of R3) ) . R4 ) c= ( ( ( B121 # ) * (the Arity of R3) ) . R4 )))))))
proof
let R3 being non  void non  empty ManySortedSign;
let R4 being (OperSymbol of R3);
let R5 being MSAlgebra over R3;
let C159 being (MSSubset of R5);
let C160 being (MSSubset of R5);
assume L517: C160 in ( SubSort C159 );
L518: ( MSSubSort C159 ) c= C160
proof
let C161 being set;
assume L519: C161 in (the carrier of R3);
reconsider D83 = C161 as (SortSymbol of R3) by L519;
L520: (( ( MSSubSort C159 ) . D83 ) = ( meet ( SubSort (C159 , D83) ) ) & ( C160 . D83 ) in ( SubSort (C159 , D83) )) by L517 , L433 , L471;
thus L521: thesis by L520 , SETFAM_1:3;
end;
thus L522: thesis by L518 , L133;
end;
theorem
L523: (for R3 being non  void non  empty ManySortedSign holds (for R4 being (OperSymbol of R3) holds (for R5 being MSAlgebra over R3 holds (for B122 being (MSSubset of R5) holds (for B123 being (MSSubset of R5) holds (B123 in ( SubSort B122 ) implies ( rng ( ( Den (R4 , R5) ) | ( ( ( ( MSSubSort B122 ) # ) * (the Arity of R3) ) . R4 ) ) ) c= ( ( B123 * (the ResultSort of R3) ) . R4 )))))))
proof
let R3 being non  void non  empty ManySortedSign;
let R4 being (OperSymbol of R3);
let R5 being MSAlgebra over R3;
let C162 being (MSSubset of R5);
let C163 being (MSSubset of R5);
set D84 = ( ( ( ( MSSubSort C162 ) # ) * (the Arity of R3) ) . R4 );
set D85 = ( ( ( C163 # ) * (the Arity of R3) ) . R4 );
set D86 = ( Den (R4 , R5) );
assume L524: C163 in ( SubSort C162 );
L525: ( D85 /\ D84 ) = D84 by L524 , L516 , XBOOLE_1:28;
L526: ( D86 | D84 ) = ( ( D86 | D85 ) | D84 ) by L525 , RELAT_1:71;
L527: ( rng ( D86 | D84 ) ) c= ( rng ( D86 | D85 ) ) by L526 , RELAT_1:70;
L528: C163 is  opers_closed by L524 , L389;
L529: C163 is_closed_on R4 by L528 , L131;
L530: ( rng ( D86 | D85 ) ) c= ( ( C163 * (the ResultSort of R3) ) . R4 ) by L529 , L129;
thus L531: thesis by L530 , L527 , XBOOLE_1:1;
end;
theorem
L532: (for R3 being non  void non  empty ManySortedSign holds (for R4 being (OperSymbol of R3) holds (for R5 being MSAlgebra over R3 holds (for B124 being (MSSubset of R5) holds ( rng ( ( Den (R4 , R5) ) | ( ( ( ( MSSubSort B124 ) # ) * (the Arity of R3) ) . R4 ) ) ) c= ( ( ( MSSubSort B124 ) * (the ResultSort of R3) ) . R4 )))))
proof
let R3 being non  void non  empty ManySortedSign;
let R4 being (OperSymbol of R3);
let R5 being MSAlgebra over R3;
let C164 being (MSSubset of R5);
let C165 being set;
assume that
L533: C165 in ( rng ( ( Den (R4 , R5) ) | ( ( ( ( MSSubSort C164 ) # ) * (the Arity of R3) ) . R4 ) ) )
and
L534: (not C165 in ( ( ( MSSubSort C164 ) * (the ResultSort of R3) ) . R4 ));
set D87 = ( the_result_sort_of R4 );
L535: (D87 = ( (the ResultSort of R3) . R4 ) & ( dom (the ResultSort of R3) ) = (the carrier' of R3)) by FUNCT_2:def 1 , MSUALG_1:def 2;
L536: ( ( ( MSSubSort C164 ) * (the ResultSort of R3) ) . R4 ) = ( ( MSSubSort C164 ) . D87 ) by L535 , FUNCT_1:13
.= ( meet ( SubSort (C164 , D87) ) ) by L471;
consider C166 being set such that L537: C166 in ( SubSort (C164 , D87) ) and L538: (not C165 in C166) by L536 , L534 , SETFAM_1:def 1;
consider C167 being (MSSubset of R5) such that L539: C167 in ( SubSort C164 ) and L540: ( C167 . D87 ) = C166 by L537 , L433;
L541: ( rng ( ( Den (R4 , R5) ) | ( ( ( ( MSSubSort C164 ) # ) * (the Arity of R3) ) . R4 ) ) ) c= ( ( C167 * (the ResultSort of R3) ) . R4 ) by L539 , L523;
L542: C165 in ( ( C167 * (the ResultSort of R3) ) . R4 ) by L541 , L533;
thus L543: contradiction by L542 , L535 , L538 , L540 , FUNCT_1:13;
end;
theorem
L544: (for R3 being non  void non  empty ManySortedSign holds (for R5 being MSAlgebra over R3 holds (for B125 being (MSSubset of R5) holds (( MSSubSort B125 ) is  opers_closed & B125 c= ( MSSubSort B125 )))))
proof
let R3 being non  void non  empty ManySortedSign;
let R5 being MSAlgebra over R3;
let C168 being (MSSubset of R5);
thus L545: ( MSSubSort C168 ) is  opers_closed
proof
let C169 being (OperSymbol of R3);
L546: ( rng ( ( Den (C169 , R5) ) | ( ( ( ( MSSubSort C168 ) # ) * (the Arity of R3) ) . C169 ) ) ) c= ( ( ( MSSubSort C168 ) * (the ResultSort of R3) ) . C169 ) by L532;
thus L547: thesis by L546 , L129;
end;

L548: (C168 c= ( ( Constants R5 ) \/ C168 ) & ( ( Constants R5 ) \/ C168 ) c= ( MSSubSort C168 )) by L490 , PBOOLE:14;
thus L549: thesis by L548 , PBOOLE:13;
end;
begin
definition
let C170 being non  void non  empty ManySortedSign;
let C171 being MSAlgebra over C170;
let C172 being (MSSubset of C171);
assume L550: C172 is  opers_closed;
func C171 | C172 ->  strict (MSSubAlgebra of C171) equals 
:L551: MSAlgebra (# C172 , (( Opers (C171 , C172) ) qua (ManySortedFunction of ( ( C172 # ) * (the Arity of C170) ) , ( C172 * (the ResultSort of C170) ))) #);
coherence
proof
reconsider D88 = MSAlgebra (# C172 , (( Opers (C171 , C172) ) qua (ManySortedFunction of ( ( C172 # ) * (the Arity of C170) ) , ( C172 * (the ResultSort of C170) ))) #) as MSAlgebra over C170;
L552: (for B126 being (MSSubset of C171) holds (B126 = (the Sorts of D88) implies (B126 is  opers_closed & (the Charact of D88) = ( Opers (C171 , B126) )))) by L550;
thus L553: thesis by L552 , L226;
end;
end;
definition
let C173 being non  void non  empty ManySortedSign;
let C174 being MSAlgebra over C173;
let C175 , C176 being (MSSubAlgebra of C174);
func C175 /\ C176 ->  strict (MSSubAlgebra of C174) means 
:L555: ((the Sorts of it) = ( (the Sorts of C175) /\ (the Sorts of C176) ) & (for B127 being (MSSubset of C174) holds (B127 = (the Sorts of it) implies (B127 is  opers_closed & (the Charact of it) = ( Opers (C174 , B127) )))));
existence
proof
L556: (the Sorts of C176) is (MSSubset of C174) by L226;
L557: (the Sorts of C176) c= (the Sorts of C174) by L556 , PBOOLE:def 18;
L558: (the Sorts of C175) is (MSSubset of C174) by L226;
L559: (the Sorts of C175) c= (the Sorts of C174) by L558 , PBOOLE:def 18;
L560: ( (the Sorts of C175) /\ (the Sorts of C176) ) c= ( (the Sorts of C174) /\ (the Sorts of C174) ) by L559 , L557 , PBOOLE:21;
reconsider D89 = ( (the Sorts of C175) /\ (the Sorts of C176) ) as (MSSubset of C174) by L560 , PBOOLE:def 18;
reconsider D90 = ( C174 | D89 ) as  strict (MSSubAlgebra of C174);
take D90;
L561: D89 is  opers_closed
proof
reconsider D91 = (the Sorts of C175) , D92 = (the Sorts of C176) as (MSSubset of C174) by L226;
let C177 being (OperSymbol of C173);
L562: ( dom ( ( D91 # ) * (the Arity of C173) ) ) = (the carrier' of C173) by PARTFUN1:def 2;
L563: ( dom ( ( D92 # ) * (the Arity of C173) ) ) = (the carrier' of C173) by PARTFUN1:def 2;
L564: D92 is  opers_closed by L226;
L565: D92 is_closed_on C177 by L564 , L131;
L566: ( rng ( ( Den (C177 , C174) ) | ( ( ( D92 # ) * (the Arity of C173) ) . C177 ) ) ) c= ( ( D92 * (the ResultSort of C173) ) . C177 ) by L565 , L129;
L567: ( dom ( ( D89 # ) * (the Arity of C173) ) ) = (the carrier' of C173) by PARTFUN1:def 2;
L568: ( ( ( D89 # ) * (the Arity of C173) ) . C177 ) = ( (( D89 # ) qua (ManySortedSet of ( (the carrier of C173) * ))) . ( (the Arity of C173) . C177 ) ) by L567 , FUNCT_1:12
.= ( (( D89 # ) qua (ManySortedSet of ( (the carrier of C173) * ))) . ( the_arity_of C177 ) ) by MSUALG_1:def 1
.= ( product ( ( D91 /\ D92 ) * ( the_arity_of C177 ) ) ) by FINSEQ_2:def 5
.= ( ( product ( D91 * ( the_arity_of C177 ) ) ) /\ ( product ( D92 * ( the_arity_of C177 ) ) ) ) by L5
.= ( ( (( D91 # ) qua (ManySortedSet of ( (the carrier of C173) * ))) . ( the_arity_of C177 ) ) /\ ( product ( D92 * ( the_arity_of C177 ) ) ) ) by FINSEQ_2:def 5
.= ( ( (( D91 # ) qua (ManySortedSet of ( (the carrier of C173) * ))) . ( the_arity_of C177 ) ) /\ ( (( D92 # ) qua (ManySortedSet of ( (the carrier of C173) * ))) . ( the_arity_of C177 ) ) ) by FINSEQ_2:def 5
.= ( ( (( D91 # ) qua (ManySortedSet of ( (the carrier of C173) * ))) . ( (the Arity of C173) . C177 ) ) /\ ( (( D92 # ) qua (ManySortedSet of ( (the carrier of C173) * ))) . ( the_arity_of C177 ) ) ) by MSUALG_1:def 1
.= ( ( (( D91 # ) qua (ManySortedSet of ( (the carrier of C173) * ))) . ( (the Arity of C173) . C177 ) ) /\ ( (( D92 # ) qua (ManySortedSet of ( (the carrier of C173) * ))) . ( (the Arity of C173) . C177 ) ) ) by MSUALG_1:def 1
.= ( ( ( ( D91 # ) * (the Arity of C173) ) . C177 ) /\ ( (( D92 # ) qua (ManySortedSet of ( (the carrier of C173) * ))) . ( (the Arity of C173) . C177 ) ) ) by L562 , FUNCT_1:12
.= ( ( ( ( D91 # ) * (the Arity of C173) ) . C177 ) /\ ( ( ( D92 # ) * (the Arity of C173) ) . C177 ) ) by L563 , FUNCT_1:12;
L569: ( ( Den (C177 , C174) ) | ( ( ( D89 # ) * (the Arity of C173) ) . C177 ) ) = ( ( ( Den (C177 , C174) ) | ( ( ( D92 # ) * (the Arity of C173) ) . C177 ) ) | ( ( ( D91 # ) * (the Arity of C173) ) . C177 ) ) by L568 , RELAT_1:71;
L570: ( rng ( ( Den (C177 , C174) ) | ( ( ( D89 # ) * (the Arity of C173) ) . C177 ) ) ) c= ( rng ( ( Den (C177 , C174) ) | ( ( ( D92 # ) * (the Arity of C173) ) . C177 ) ) ) by L569 , RELAT_1:70;
L571: ( rng ( ( Den (C177 , C174) ) | ( ( ( D89 # ) * (the Arity of C173) ) . C177 ) ) ) c= ( ( D92 * (the ResultSort of C173) ) . C177 ) by L570 , L566 , XBOOLE_1:1;
L572: D91 is  opers_closed by L226;
L573: D91 is_closed_on C177 by L572 , L131;
L574: ( rng ( ( Den (C177 , C174) ) | ( ( ( D91 # ) * (the Arity of C173) ) . C177 ) ) ) c= ( ( D91 * (the ResultSort of C173) ) . C177 ) by L573 , L129;
L575: ( dom ( D92 * (the ResultSort of C173) ) ) = (the carrier' of C173) by PARTFUN1:def 2;
L576: ( ( Den (C177 , C174) ) | ( ( ( D89 # ) * (the Arity of C173) ) . C177 ) ) = ( ( ( Den (C177 , C174) ) | ( ( ( D91 # ) * (the Arity of C173) ) . C177 ) ) | ( ( ( D92 # ) * (the Arity of C173) ) . C177 ) ) by L568 , RELAT_1:71;
L577: ( rng ( ( Den (C177 , C174) ) | ( ( ( D89 # ) * (the Arity of C173) ) . C177 ) ) ) c= ( rng ( ( Den (C177 , C174) ) | ( ( ( D91 # ) * (the Arity of C173) ) . C177 ) ) ) by L576 , RELAT_1:70;
L578: ( rng ( ( Den (C177 , C174) ) | ( ( ( D89 # ) * (the Arity of C173) ) . C177 ) ) ) c= ( ( D91 * (the ResultSort of C173) ) . C177 ) by L577 , L574 , XBOOLE_1:1;
L579: ( rng ( ( Den (C177 , C174) ) | ( ( ( D89 # ) * (the Arity of C173) ) . C177 ) ) ) c= ( ( ( D91 * (the ResultSort of C173) ) . C177 ) /\ ( ( D92 * (the ResultSort of C173) ) . C177 ) ) by L578 , L571 , XBOOLE_1:19;
L580: ( dom ( D89 * (the ResultSort of C173) ) ) = (the carrier' of C173) by PARTFUN1:def 2;
L581: ( dom ( D91 * (the ResultSort of C173) ) ) = (the carrier' of C173) by PARTFUN1:def 2;
L582: ( ( ( D91 * (the ResultSort of C173) ) . C177 ) /\ ( ( D92 * (the ResultSort of C173) ) . C177 ) ) = ( ( D91 . ( (the ResultSort of C173) . C177 ) ) /\ ( ( D92 * (the ResultSort of C173) ) . C177 ) ) by L581 , FUNCT_1:12
.= ( ( D91 . ( (the ResultSort of C173) . C177 ) ) /\ ( D92 . ( (the ResultSort of C173) . C177 ) ) ) by L575 , FUNCT_1:12
.= ( ( D91 . ( the_result_sort_of C177 ) ) /\ ( D92 . ( (the ResultSort of C173) . C177 ) ) ) by MSUALG_1:def 2
.= ( ( D91 . ( the_result_sort_of C177 ) ) /\ ( D92 . ( the_result_sort_of C177 ) ) ) by MSUALG_1:def 2
.= ( D89 . ( the_result_sort_of C177 ) ) by PBOOLE:def 5
.= ( D89 . ( (the ResultSort of C173) . C177 ) ) by MSUALG_1:def 2
.= ( ( D89 * (the ResultSort of C173) ) . C177 ) by L580 , FUNCT_1:12;
thus L583: thesis by L582 , L579 , L129;
end;
L584: ( C174 | D89 ) = MSAlgebra (# D89 , (( Opers (C174 , D89) ) qua (ManySortedFunction of ( ( D89 # ) * (the Arity of C173) ) , ( D89 * (the ResultSort of C173) ))) #) by L561 , L551;
thus L585: (the Sorts of D90) = ( (the Sorts of C175) /\ (the Sorts of C176) ) by L584;
thus L586: thesis by L226;
end;
uniqueness by L338;
end;
definition
let C178 being non  void non  empty ManySortedSign;
let C179 being MSAlgebra over C178;
let C180 being (MSSubset of C179);
func GenMSAlg C180 ->  strict (MSSubAlgebra of C179) means 
:L588: (C180 is (MSSubset of it) & (for B128 being (MSSubAlgebra of C179) holds (C180 is (MSSubset of B128) implies it is (MSSubAlgebra of B128))));
existence
proof
set D93 = ( MSSubSort C180 );
reconsider D94 = ( C179 | D93 ) as  strict (MSSubAlgebra of C179);
take D94;
L589: D94 = MSAlgebra (# D93 , (( Opers (C179 , D93) ) qua (ManySortedFunction of ( ( D93 # ) * (the Arity of C178) ) , ( D93 * (the ResultSort of C178) ))) #) by L551 , L544;
L590: C180 c= D93 by L544;
thus L591: C180 is (MSSubset of D94) by L590 , L589 , PBOOLE:def 18;
let C181 being (MSSubAlgebra of C179);
reconsider D95 = (the Sorts of C181) as (MSSubset of C179) by L226;
assume L592: C180 is (MSSubset of C181);
L593: C180 c= D95 by L592 , PBOOLE:def 18;
L594: ( Constants C179 ) is (MSSubset of C181) by L342;
L595: ( Constants C179 ) c= D95 by L594 , PBOOLE:def 18;
L596: D95 is  opers_closed by L226;
L597: D95 in ( SubSort C180 ) by L596 , L593 , L595 , L389;
L598: (the Sorts of D94) c= (the Sorts of C181)
proof
let C182 being set;
assume L599: C182 in (the carrier of C178);
reconsider D96 = C182 as (SortSymbol of C178) by L599;
L600: (( (the Sorts of D94) . D96 ) = ( meet ( SubSort (C180 , D96) ) ) & ( D95 . D96 ) in ( SubSort (C180 , D96) )) by L589 , L597 , L433 , L471;
thus L601: thesis by L600 , SETFAM_1:3;
end;
thus L602: thesis by L598 , L314;
end;
uniqueness
proof
let C183 , C184 being  strict (MSSubAlgebra of C179);
assume L603: (C180 is (MSSubset of C183) & (for B129 being (MSSubAlgebra of C179) holds (C180 is (MSSubset of B129) implies C183 is (MSSubAlgebra of B129))) & C180 is (MSSubset of C184) & (for B130 being (MSSubAlgebra of C179) holds (C180 is (MSSubset of B130) implies C184 is (MSSubAlgebra of B130))));
L604: (C183 is  strict  strict  strict  strict (MSSubAlgebra of C184) & C184 is  strict  strict  strict  strict (MSSubAlgebra of C183)) by L603;
thus L605: thesis by L604 , L297;
end;
end;
registration
let C185 being non  void non  empty ManySortedSign;
let C186 being  non-empty MSAlgebra over C185;
let C187 being  non-empty (MSSubset of C186);
cluster ( GenMSAlg C187 ) ->  non-empty;
coherence
proof
L607: ( ( Constants C186 ) \/ C187 ) is  non-empty;
reconsider D97 = ( MSSubSort C187 ) as  non-empty (MSSubset of C186) by L607 , L501;
L608: ( C186 | D97 ) = MSAlgebra (# D97 , (( Opers (C186 , D97) ) qua (ManySortedFunction of ( ( D97 # ) * (the Arity of C185) ) , ( D97 * (the ResultSort of C185) ))) #) by L551 , L544;
reconsider D98 = ( C186 | D97 ) as  strict  non-empty (MSSubAlgebra of C186) by L608 , MSUALG_1:def 3;
L609: C187 c= D97 by L544;
L610:
now
L611: D98 = MSAlgebra (# D97 , (( Opers (C186 , D97) ) qua (ManySortedFunction of ( ( D97 # ) * (the Arity of C185) ) , ( D97 * (the ResultSort of C185) ))) #) by L551 , L544;
thus L612: C187 is (MSSubset of D98) by L611 , L609 , PBOOLE:def 18;
let C188 being (MSSubAlgebra of C186);
reconsider D99 = (the Sorts of C188) as (MSSubset of C186) by L226;
assume L613: C187 is (MSSubset of C188);
L614: C187 c= D99 by L613 , PBOOLE:def 18;
L615: ( Constants C186 ) is (MSSubset of C188) by L342;
L616: ( Constants C186 ) c= D99 by L615 , PBOOLE:def 18;
L617: D99 is  opers_closed by L226;
L618: D99 in ( SubSort C187 ) by L617 , L614 , L616 , L389;
L619: (the Sorts of D98) c= (the Sorts of C188)
proof
let C189 being set;
assume L620: C189 in (the carrier of C185);
reconsider D100 = C189 as (SortSymbol of C185) by L620;
L621: (( (the Sorts of D98) . D100 ) = ( meet ( SubSort (C187 , D100) ) ) & ( D99 . D100 ) in ( SubSort (C187 , D100) )) by L611 , L618 , L433 , L471;
thus L622: thesis by L621 , SETFAM_1:3;
end;
thus L623: D98 is (MSSubAlgebra of C188) by L619 , L314;
end;
thus L624: thesis by L610 , L588;
end;
end;
theorem
L626: (for B131 being non  void non  empty ManySortedSign holds (for B132 being MSAlgebra over B131 holds (for B133 being (MSSubset of B132) holds (B133 = (the Sorts of B132) implies ( GenMSAlg B133 ) = ( the MSAlgebra of B132 )))))
proof
let C190 being non  void non  empty ManySortedSign;
let C191 being MSAlgebra over C190;
let C192 being (MSSubset of C191);
set D101 = ( GenMSAlg C192 );
reconsider D102 = (the Sorts of D101) as (MSSubset of C191) by L226;
L627: (the Charact of D101) = ( Opers (C191 , D102) ) by L226;
assume L628: C192 = (the Sorts of C191);
L629: (the Sorts of C191) is (MSSubset of D101) by L628 , L588;
L630: (the Sorts of C191) c= (the Sorts of D101) by L629 , PBOOLE:def 18;
L631: (the Sorts of D101) is (MSSubset of C191) by L226;
L632: (the Sorts of D101) c= (the Sorts of C191) by L631 , PBOOLE:def 18;
L633: (the Sorts of C191) = (the Sorts of D101) by L632 , L630 , PBOOLE:146;
thus L634: thesis by L633 , L627 , L219;
end;
theorem
L635: (for B134 being non  void non  empty ManySortedSign holds (for B135 being MSAlgebra over B134 holds (for B136 being (MSSubAlgebra of B135) holds (for B137 being (MSSubset of B135) holds (B137 = (the Sorts of B136) implies ( GenMSAlg B137 ) = ( the MSAlgebra of B136 ))))))
proof
let C193 being non  void non  empty ManySortedSign;
let C194 being MSAlgebra over C193;
let C195 being (MSSubAlgebra of C194);
let C196 being (MSSubset of C194);
assume L636: C196 = (the Sorts of C195);
set D103 = ( GenMSAlg C196 );
L637: C196 is (MSSubset of D103) by L588;
L638: (the Sorts of C195) c= (the Sorts of D103) by L637 , L636 , PBOOLE:def 18;
L639: C195 is (MSSubAlgebra of D103) by L638 , L314;
L640: C196 is (MSSubset of C195) by L636 , PBOOLE:def 18;
L641: D103 is (MSSubAlgebra of C195) by L640 , L588;
thus L642: thesis by L641 , L639 , L297;
end;
theorem
L643: (for B138 being non  void non  empty ManySortedSign holds (for B139 being  non-empty MSAlgebra over B138 holds (for B140 being (MSSubAlgebra of B139) holds ( ( GenMSAlg ( Constants B139 ) ) /\ B140 ) = ( GenMSAlg ( Constants B139 ) ))))
proof
let C197 being non  void non  empty ManySortedSign;
let C198 being  non-empty MSAlgebra over C197;
let C199 being (MSSubAlgebra of C198);
set D104 = ( Constants C198 );
set D105 = ( GenMSAlg D104 );
L644: D104 is (MSSubset of C199) by L342;
L645: D105 is  strict  strict  strict  strict (MSSubAlgebra of C199) by L644 , L588;
L646: (the Sorts of D105) is (MSSubset of C199) by L645 , L226;
L647: (the Sorts of D105) c= (the Sorts of C199) by L646 , PBOOLE:def 18;
L648: (the Sorts of ( D105 /\ C199 )) = ( (the Sorts of D105) /\ (the Sorts of C199) ) by L555;
L649: (the Sorts of ( D105 /\ C199 )) = (the Sorts of D105) by L648 , L647 , PBOOLE:23;
thus L650: thesis by L649 , L338;
end;
definition
let C200 being non  void non  empty ManySortedSign;
let C201 being  non-empty MSAlgebra over C200;
let C202 , C203 being (MSSubAlgebra of C201);
func C202 "\/" C203 ->  strict (MSSubAlgebra of C201) means 
:L651: (for B141 being (MSSubset of C201) holds (B141 = ( (the Sorts of C202) \/ (the Sorts of C203) ) implies it = ( GenMSAlg B141 )));
existence
proof
set D106 = ( (the Sorts of C202) \/ (the Sorts of C203) );
L652: (the Sorts of C203) is (MSSubset of C201) by L226;
L653: (the Sorts of C203) c= (the Sorts of C201) by L652 , PBOOLE:def 18;
L654: (the Sorts of C202) is (MSSubset of C201) by L226;
L655: (the Sorts of C202) c= (the Sorts of C201) by L654 , PBOOLE:def 18;
L656: D106 c= (the Sorts of C201) by L655 , L653 , PBOOLE:16;
reconsider D107 = D106 as (MSSubset of C201) by L656 , PBOOLE:def 18;
take ( GenMSAlg D107 );
thus L657: thesis;
end;
uniqueness
proof
set D108 = ( (the Sorts of C202) \/ (the Sorts of C203) );
L658: (the Sorts of C203) is (MSSubset of C201) by L226;
L659: (the Sorts of C203) c= (the Sorts of C201) by L658 , PBOOLE:def 18;
L660: (the Sorts of C202) is (MSSubset of C201) by L226;
L661: (the Sorts of C202) c= (the Sorts of C201) by L660 , PBOOLE:def 18;
L662: D108 c= (the Sorts of C201) by L661 , L659 , PBOOLE:16;
reconsider D109 = D108 as (MSSubset of C201) by L662 , PBOOLE:def 18;
let C204 , C205 being  strict (MSSubAlgebra of C201);
assume that
L663: (for B142 being (MSSubset of C201) holds (B142 = ( (the Sorts of C202) \/ (the Sorts of C203) ) implies C204 = ( GenMSAlg B142 )))
and
L664: (for B143 being (MSSubset of C201) holds (B143 = ( (the Sorts of C202) \/ (the Sorts of C203) ) implies C205 = ( GenMSAlg B143 )));
L665: C204 = ( GenMSAlg D109 ) by L663;
thus L666: thesis by L665 , L664;
end;
end;
theorem
L668: (for B144 being non  void non  empty ManySortedSign holds (for B145 being  non-empty MSAlgebra over B144 holds (for B146 being (MSSubAlgebra of B145) holds (for B147 , B148 being (MSSubset of B145) holds (B148 = ( B147 \/ (the Sorts of B146) ) implies ( ( GenMSAlg B147 ) "\/" B146 ) = ( GenMSAlg B148 ))))))
proof
let C206 being non  void non  empty ManySortedSign;
let C207 being  non-empty MSAlgebra over C206;
let C208 being (MSSubAlgebra of C207);
let C209 , C210 being (MSSubset of C207);
reconsider D110 = (the Sorts of C208) , D111 = (the Sorts of ( GenMSAlg C209 )) as (MSSubset of C207) by L226;
L669: ( (the Sorts of ( GenMSAlg C209 )) /\ (the Sorts of ( GenMSAlg C210 )) ) c= D111 by PBOOLE:15;
L670: (the Sorts of ( ( GenMSAlg C209 ) /\ ( GenMSAlg C210 ) )) = ( (the Sorts of ( GenMSAlg C209 )) /\ (the Sorts of ( GenMSAlg C210 )) ) by L555;
L671: (D111 c= (the Sorts of C207) & D110 c= (the Sorts of C207)) by PBOOLE:def 18;
L672: ( D111 \/ D110 ) c= (the Sorts of C207) by L671 , PBOOLE:16;
reconsider D112 = ( D111 \/ D110 ) as (MSSubset of C207) by L672 , PBOOLE:def 18;
L673: ( ( GenMSAlg C209 ) "\/" C208 ) = ( GenMSAlg D112 ) by L651;
L674: ( D111 \/ D110 ) is (MSSubset of ( ( GenMSAlg C209 ) "\/" C208 )) by L673 , L588;
L675: ( D111 \/ D110 ) c= (the Sorts of ( ( GenMSAlg C209 ) "\/" C208 )) by L674 , PBOOLE:def 18;
L676: C209 is (MSSubset of ( GenMSAlg C209 )) by L588;
L677: C209 c= (the Sorts of ( GenMSAlg C209 )) by L676 , PBOOLE:def 18;
L678: C210 is (MSSubset of ( GenMSAlg C210 )) by L588;
L679: C210 c= (the Sorts of ( GenMSAlg C210 )) by L678 , PBOOLE:def 18;
assume L680: C210 = ( C209 \/ (the Sorts of C208) );
L681: C209 c= C210 by L680 , PBOOLE:14;
L682: C209 c= (the Sorts of ( GenMSAlg C210 )) by L681 , L679 , PBOOLE:13;
L683: C209 c= ( (the Sorts of ( GenMSAlg C209 )) /\ (the Sorts of ( GenMSAlg C210 )) ) by L682 , L677 , PBOOLE:17;
L684: C209 is (MSSubset of ( ( GenMSAlg C209 ) /\ ( GenMSAlg C210 ) )) by L683 , L670 , PBOOLE:def 18;
L685: ( GenMSAlg C209 ) is (MSSubAlgebra of ( ( GenMSAlg C209 ) /\ ( GenMSAlg C210 ) )) by L684 , L588;
L686: D111 is (MSSubset of ( ( GenMSAlg C209 ) /\ ( GenMSAlg C210 ) )) by L685 , L226;
L687: D111 c= ( (the Sorts of ( GenMSAlg C209 )) /\ (the Sorts of ( GenMSAlg C210 )) ) by L686 , L670 , PBOOLE:def 18;
L688: D111 = ( (the Sorts of ( GenMSAlg C209 )) /\ (the Sorts of ( GenMSAlg C210 )) ) by L687 , L669 , PBOOLE:146;
L689: D111 c= (the Sorts of ( GenMSAlg C210 )) by L688 , PBOOLE:15;
L690: D110 c= C210 by L680 , PBOOLE:14;
L691: D110 c= (the Sorts of ( GenMSAlg C210 )) by L690 , L679 , PBOOLE:13;
L692: D112 c= (the Sorts of ( GenMSAlg C210 )) by L691 , L689 , PBOOLE:16;
L693: D112 is (MSSubset of ( GenMSAlg C210 )) by L692 , PBOOLE:def 18;
L694: ( GenMSAlg D112 ) is  strict  strict  strict  strict (MSSubAlgebra of ( GenMSAlg C210 )) by L693 , L588;
L695: ( C209 \/ D110 ) c= ( D111 \/ D110 ) by L677 , PBOOLE:20;
L696: C210 c= (the Sorts of ( ( GenMSAlg C209 ) "\/" C208 )) by L695 , L680 , L675 , PBOOLE:13;
L697: C210 is (MSSubset of ( ( GenMSAlg C209 ) "\/" C208 )) by L696 , PBOOLE:def 18;
L698: ( GenMSAlg C210 ) is  strict  strict  strict  strict (MSSubAlgebra of ( ( GenMSAlg C209 ) "\/" C208 )) by L697 , L588;
thus L699: thesis by L698 , L673 , L694 , L297;
end;
theorem
L700: (for B149 being non  void non  empty ManySortedSign holds (for B150 being  non-empty MSAlgebra over B149 holds (for B151 being (MSSubAlgebra of B150) holds (for B152 being (MSSubset of B150) holds (B152 = (the Sorts of B150) implies ( ( GenMSAlg B152 ) "\/" B151 ) = ( GenMSAlg B152 ))))))
proof
let C211 being non  void non  empty ManySortedSign;
let C212 being  non-empty MSAlgebra over C211;
let C213 being (MSSubAlgebra of C212);
let C214 being (MSSubset of C212);
assume L701: C214 = (the Sorts of C212);
L702: (the Sorts of C213) is (MSSubset of C212) by L226;
L703: (the Sorts of C213) c= C214 by L702 , L701 , PBOOLE:def 18;
L704: ( C214 \/ (the Sorts of C213) ) = C214 by L703 , PBOOLE:22;
thus L705: thesis by L704 , L668;
end;
theorem
L706: (for B153 being non  void non  empty ManySortedSign holds (for B154 being  non-empty MSAlgebra over B153 holds (for B155 , B156 being (MSSubAlgebra of B154) holds ( B155 "\/" B156 ) = ( B156 "\/" B155 ))))
proof
let C215 being non  void non  empty ManySortedSign;
let C216 being  non-empty MSAlgebra over C215;
let C217 , C218 being (MSSubAlgebra of C216);
reconsider D113 = (the Sorts of C217) , D114 = (the Sorts of C218) as (MSSubset of C216) by L226;
L707: (D113 c= (the Sorts of C216) & D114 c= (the Sorts of C216)) by PBOOLE:def 18;
L708: ( D113 \/ D114 ) c= (the Sorts of C216) by L707 , PBOOLE:16;
reconsider D115 = ( D113 \/ D114 ) as (MSSubset of C216) by L708 , PBOOLE:def 18;
L709: ( C217 "\/" C218 ) = ( GenMSAlg D115 ) by L651;
thus L710: thesis by L709 , L651;
end;
theorem
L711: (for B157 being non  void non  empty ManySortedSign holds (for B158 being  non-empty MSAlgebra over B157 holds (for B159 , B160 being (MSSubAlgebra of B158) holds ( B159 /\ ( B159 "\/" B160 ) ) = ( the MSAlgebra of B159 ))))
proof
let C219 being non  void non  empty ManySortedSign;
let C220 being  non-empty MSAlgebra over C219;
let C221 , C222 being (MSSubAlgebra of C220);
reconsider D116 = (the Sorts of C221) , D117 = (the Sorts of C222) as (MSSubset of C220) by L226;
L712: (the Sorts of ( C221 /\ ( C221 "\/" C222 ) )) = ( (the Sorts of C221) /\ (the Sorts of ( C221 "\/" C222 )) ) by L555;
L713: (D116 c= (the Sorts of C220) & D117 c= (the Sorts of C220)) by PBOOLE:def 18;
L714: ( D116 \/ D117 ) c= (the Sorts of C220) by L713 , PBOOLE:16;
reconsider D118 = ( D116 \/ D117 ) as (MSSubset of C220) by L714 , PBOOLE:def 18;
L715: ( C221 "\/" C222 ) = ( GenMSAlg D118 ) by L651;
L716: D118 is (MSSubset of ( C221 "\/" C222 )) by L715 , L588;
L717: D118 c= (the Sorts of ( C221 "\/" C222 )) by L716 , PBOOLE:def 18;
L718: (the Sorts of C221) c= D118 by PBOOLE:14;
L719: (the Sorts of C221) c= (the Sorts of ( C221 "\/" C222 )) by L718 , L717 , PBOOLE:13;
L720: (the Sorts of C221) c= (the Sorts of ( C221 /\ ( C221 "\/" C222 ) )) by L719 , L712 , PBOOLE:17;
reconsider D119 = (the Sorts of ( C221 /\ ( C221 "\/" C222 ) )) as (MSSubset of C220) by L226;
L721: (the Charact of ( C221 /\ ( C221 "\/" C222 ) )) = ( Opers (C220 , D119) ) by L555;
L722: (the Sorts of ( C221 /\ ( C221 "\/" C222 ) )) c= (the Sorts of C221) by L712 , PBOOLE:15;
L723: (the Sorts of ( C221 /\ ( C221 "\/" C222 ) )) = (the Sorts of C221) by L722 , L720 , PBOOLE:146;
thus L724: thesis by L723 , L721 , L226;
end;
theorem
L725: (for B161 being non  void non  empty ManySortedSign holds (for B162 being  non-empty MSAlgebra over B161 holds (for B163 , B164 being (MSSubAlgebra of B162) holds ( ( B163 /\ B164 ) "\/" B164 ) = ( the MSAlgebra of B164 ))))
proof
let C223 being non  void non  empty ManySortedSign;
let C224 being  non-empty MSAlgebra over C223;
let C225 , C226 being (MSSubAlgebra of C224);
reconsider D120 = (the Sorts of ( C225 /\ C226 )) , D121 = (the Sorts of C226) as (MSSubset of C224) by L226;
L726: (D120 c= (the Sorts of C224) & D121 c= (the Sorts of C224)) by PBOOLE:def 18;
L727: ( D120 \/ D121 ) c= (the Sorts of C224) by L726 , PBOOLE:16;
reconsider D122 = ( D120 \/ D121 ) as (MSSubset of C224) by L727 , PBOOLE:def 18;
L728: D120 = ( (the Sorts of C225) /\ (the Sorts of C226) ) by L555;
L729: D120 c= D121 by L728 , PBOOLE:15;
L730: D122 = D121 by L729 , PBOOLE:22;
L731: ( ( C225 /\ C226 ) "\/" C226 ) = ( GenMSAlg D122 ) by L651;
thus L732: thesis by L731 , L730 , L635;
end;
begin
definition
let C227 being non  void non  empty ManySortedSign;
let C228 being MSAlgebra over C227;
func MSSub C228 -> set means 
:L733: (for R1 being set holds (R1 in it iff R1 is  strict  strict  strict  strict (MSSubAlgebra of C228)));
existence
proof
reconsider D123 = { ( GenMSAlg ( @ B165 ) ) where B165 is (Element of ( SubSort C228 )) : (not contradiction) } as set;
take D123;
let R1 being set;
thus L734: (R1 in D123 implies R1 is  strict  strict  strict  strict (MSSubAlgebra of C228))
proof
assume L735: R1 in D123;
L736: (ex B166 being (Element of ( SubSort C228 )) st R1 = ( GenMSAlg ( @ B166 ) )) by L735;
thus L737: thesis by L736;
end;

assume L738: R1 is  strict  strict  strict  strict (MSSubAlgebra of C228);
reconsider D124 = R1 as  strict (MSSubAlgebra of C228) by L738;
reconsider D125 = (the Sorts of D124) as (MSSubset of C228) by L226;
L739: D125 is  opers_closed by L226;
reconsider D126 = D125 as (Element of ( SubSort C228 )) by L739 , L411;
L740: D124 = ( GenMSAlg ( @ D126 ) ) by L635;
thus L741: thesis by L740;
end;
uniqueness
proof
defpred S10[ set ] means $1 is  strict  strict  strict  strict (MSSubAlgebra of C228);
L742: (for B167 , B168 being set holds (((for B169 being set holds (B169 in B167 iff S10[ B169 ])) & (for B170 being set holds (B170 in B168 iff S10[ B170 ]))) implies B167 = B168)) from XBOOLE_0:sch 3;
thus L743: thesis by L742;
end;
end;
registration
let C229 being non  void non  empty ManySortedSign;
let C230 being MSAlgebra over C229;
cluster ( MSSub C230 ) -> non  empty;
coherence
proof
set D127 = the  strict (MSSubAlgebra of C230);
L745: D127 in ( MSSub C230 ) by L733;
thus L746: thesis by L745;
end;
end;
definition
let C231 being non  void non  empty ManySortedSign;
let C232 being  non-empty MSAlgebra over C231;
func MSAlg_join C232 -> (BinOp of ( MSSub C232 )) means 
:L748: (for B171 , B172 being (Element of ( MSSub C232 )) holds (for B173 , B174 being  strict (MSSubAlgebra of C232) holds ((B171 = B173 & B172 = B174) implies ( it . (B171 , B172) ) = ( B173 "\/" B174 ))));
existence
proof
defpred S11[ (Element of ( MSSub C232 )) , (Element of ( MSSub C232 )) , (Element of ( MSSub C232 )) ] means (for B175 , B176 being  strict (MSSubAlgebra of C232) holds (($1 = B175 & $2 = B176) implies $3 = ( B175 "\/" B176 )));
L749: (for B177 , B178 being (Element of ( MSSub C232 )) holds (ex B179 being (Element of ( MSSub C232 )) st S11[ B177 , B178 , B179 ]))
proof
let C233 , C234 being (Element of ( MSSub C232 ));
reconsider D128 = C233 , D129 = C234 as  strict (MSSubAlgebra of C232) by L733;
reconsider D130 = ( D128 "\/" D129 ) as (Element of ( MSSub C232 )) by L733;
take D130;
thus L750: thesis;
end;
consider C235 being (BinOp of ( MSSub C232 )) such that L751: (for B180 , B181 being (Element of ( MSSub C232 )) holds S11[ B180 , B181 , ( C235 . (B180 , B181) ) ]) from BINOP_1:sch 3(L749);
take C235;
thus L752: thesis by L751;
end;
uniqueness
proof
let C236 , C237 being (BinOp of ( MSSub C232 ));
assume that
L753: (for B182 , B183 being (Element of ( MSSub C232 )) holds (for B184 , B185 being  strict (MSSubAlgebra of C232) holds ((B182 = B184 & B183 = B185) implies ( C236 . (B182 , B183) ) = ( B184 "\/" B185 ))))
and
L754: (for B186 , B187 being (Element of ( MSSub C232 )) holds (for B188 , B189 being  strict (MSSubAlgebra of C232) holds ((B186 = B188 & B187 = B189) implies ( C237 . (B186 , B187) ) = ( B188 "\/" B189 ))));
L755: (for B190 being (Element of ( MSSub C232 )) holds (for B191 being (Element of ( MSSub C232 )) holds ( C236 . (B190 , B191) ) = ( C237 . (B190 , B191) )))
proof
let C238 , C239 being (Element of ( MSSub C232 ));
reconsider D131 = C238 , D132 = C239 as  strict (MSSubAlgebra of C232) by L733;
L756: ( C236 . (C238 , C239) ) = ( D131 "\/" D132 ) by L753;
thus L757: thesis by L756 , L754;
end;
thus L758: thesis by L755 , BINOP_1:2;
end;
end;
definition
let C240 being non  void non  empty ManySortedSign;
let C241 being  non-empty MSAlgebra over C240;
func MSAlg_meet C241 -> (BinOp of ( MSSub C241 )) means 
:L760: (for B192 , B193 being (Element of ( MSSub C241 )) holds (for B194 , B195 being  strict (MSSubAlgebra of C241) holds ((B192 = B194 & B193 = B195) implies ( it . (B192 , B193) ) = ( B194 /\ B195 ))));
existence
proof
defpred S12[ (Element of ( MSSub C241 )) , (Element of ( MSSub C241 )) , (Element of ( MSSub C241 )) ] means (for B196 , B197 being  strict (MSSubAlgebra of C241) holds (($1 = B196 & $2 = B197) implies $3 = ( B196 /\ B197 )));
L761: (for B198 , B199 being (Element of ( MSSub C241 )) holds (ex B200 being (Element of ( MSSub C241 )) st S12[ B198 , B199 , B200 ]))
proof
let C242 , C243 being (Element of ( MSSub C241 ));
reconsider D133 = C242 , D134 = C243 as  strict (MSSubAlgebra of C241) by L733;
reconsider D135 = ( D133 /\ D134 ) as (Element of ( MSSub C241 )) by L733;
take D135;
thus L762: thesis;
end;
consider C244 being (BinOp of ( MSSub C241 )) such that L763: (for B201 , B202 being (Element of ( MSSub C241 )) holds S12[ B201 , B202 , ( C244 . (B201 , B202) ) ]) from BINOP_1:sch 3(L761);
take C244;
thus L764: thesis by L763;
end;
uniqueness
proof
let C245 , C246 being (BinOp of ( MSSub C241 ));
assume that
L765: (for B203 , B204 being (Element of ( MSSub C241 )) holds (for B205 , B206 being  strict (MSSubAlgebra of C241) holds ((B203 = B205 & B204 = B206) implies ( C245 . (B203 , B204) ) = ( B205 /\ B206 ))))
and
L766: (for B207 , B208 being (Element of ( MSSub C241 )) holds (for B209 , B210 being  strict (MSSubAlgebra of C241) holds ((B207 = B209 & B208 = B210) implies ( C246 . (B207 , B208) ) = ( B209 /\ B210 ))));
L767: (for B211 being (Element of ( MSSub C241 )) holds (for B212 being (Element of ( MSSub C241 )) holds ( C245 . (B211 , B212) ) = ( C246 . (B211 , B212) )))
proof
let C247 , C248 being (Element of ( MSSub C241 ));
reconsider D136 = C247 , D137 = C248 as  strict (MSSubAlgebra of C241) by L733;
L768: ( C245 . (C247 , C248) ) = ( D136 /\ D137 ) by L765;
thus L769: thesis by L768 , L766;
end;
thus L770: thesis by L767 , BINOP_1:2;
end;
end;
theorem
L772: (for R3 being non  void non  empty ManySortedSign holds (for R8 being  non-empty MSAlgebra over R3 holds ( MSAlg_join R8 ) is  commutative))
proof
let R3 being non  void non  empty ManySortedSign;
let R8 being  non-empty MSAlgebra over R3;
set D138 = ( MSAlg_join R8 );
L773: (for B213 , B214 being (Element of ( MSSub R8 )) holds ( D138 . (B213 , B214) ) = ( D138 . (B214 , B213) ))
proof
let C249 , C250 being (Element of ( MSSub R8 ));
reconsider D139 = C249 , D140 = C250 as  strict (MSSubAlgebra of R8) by L733;
set D141 = ( (the Sorts of D139) \/ (the Sorts of D140) );
L774: (the Sorts of D140) is (MSSubset of R8) by L226;
L775: (the Sorts of D140) c= (the Sorts of R8) by L774 , PBOOLE:def 18;
L776: (the Sorts of D139) is (MSSubset of R8) by L226;
L777: (the Sorts of D139) c= (the Sorts of R8) by L776 , PBOOLE:def 18;
L778: D141 c= (the Sorts of R8) by L777 , L775 , PBOOLE:16;
reconsider D142 = D141 as (MSSubset of R8) by L778 , PBOOLE:def 18;
L779: ( D139 "\/" D140 ) = ( GenMSAlg D142 ) by L651;
L780: (( D138 . (C249 , C250) ) = ( D139 "\/" D140 ) & ( D138 . (C250 , C249) ) = ( D140 "\/" D139 )) by L748;
thus L781: thesis by L780 , L779 , L651;
end;
thus L782: thesis by L773 , BINOP_1:def 2;
end;
theorem
L783: (for R3 being non  void non  empty ManySortedSign holds (for R8 being  non-empty MSAlgebra over R3 holds ( MSAlg_join R8 ) is  associative))
proof
let R3 being non  void non  empty ManySortedSign;
let R8 being  non-empty MSAlgebra over R3;
set D143 = ( MSAlg_join R8 );
L784: (for B215 , B216 , B217 being (Element of ( MSSub R8 )) holds ( D143 . (B215 , ( D143 . (B216 , B217) )) ) = ( D143 . (( D143 . (B215 , B216) ) , B217) ))
proof
let C251 , C252 , C253 being (Element of ( MSSub R8 ));
reconsider D144 = C251 , D145 = C252 , D146 = C253 as  strict (MSSubAlgebra of R8) by L733;
set D147 = ( (the Sorts of D144) \/ ( (the Sorts of D145) \/ (the Sorts of D146) ) );
L785: ( D143 . (C251 , C252) ) = ( D144 "\/" D145 ) by L748;
L786: (the Sorts of D145) is (MSSubset of R8) by L226;
L787: (the Sorts of D145) c= (the Sorts of R8) by L786 , PBOOLE:def 18;
L788: (the Sorts of D146) is (MSSubset of R8) by L226;
L789: (the Sorts of D146) c= (the Sorts of R8) by L788 , PBOOLE:def 18;
L790: ( (the Sorts of D145) \/ (the Sorts of D146) ) c= (the Sorts of R8) by L789 , L787 , PBOOLE:16;
reconsider D148 = ( (the Sorts of D145) \/ (the Sorts of D146) ) as (MSSubset of R8) by L790 , PBOOLE:def 18;
L791: (the Sorts of D144) is (MSSubset of R8) by L226;
L792: (the Sorts of D144) c= (the Sorts of R8) by L791 , PBOOLE:def 18;
L793: D147 c= (the Sorts of R8) by L792 , L790 , PBOOLE:16;
L794: ( (the Sorts of D144) \/ (the Sorts of D145) ) c= (the Sorts of R8) by L792 , L787 , PBOOLE:16;
reconsider D149 = ( (the Sorts of D144) \/ (the Sorts of D145) ) as (MSSubset of R8) by L794 , PBOOLE:def 18;
reconsider D150 = D147 as (MSSubset of R8) by L793 , PBOOLE:def 18;
L795: D150 = ( D149 \/ (the Sorts of D146) ) by PBOOLE:28;
L796: ( ( D144 "\/" D145 ) "\/" D146 ) = ( ( GenMSAlg D149 ) "\/" D146 ) by L651
.= ( GenMSAlg D150 ) by L795 , L668;
L797: ( D143 . (C252 , C253) ) = ( D145 "\/" D146 ) by L748;
L798: ( D143 . (C251 , ( D143 . (C252 , C253) )) ) = ( D144 "\/" ( D145 "\/" D146 ) ) by L797 , L748;
L799: ( D144 "\/" ( D145 "\/" D146 ) ) = ( D144 "\/" ( GenMSAlg D148 ) ) by L651
.= ( ( GenMSAlg D148 ) "\/" D144 ) by L706
.= ( GenMSAlg D150 ) by L668;
thus L800: thesis by L799 , L785 , L798 , L796 , L748;
end;
thus L801: thesis by L784 , BINOP_1:def 3;
end;
theorem
L802: (for B218 being non  void non  empty ManySortedSign holds (for B219 being  non-empty MSAlgebra over B218 holds ( MSAlg_meet B219 ) is  commutative))
proof
let C254 being non  void non  empty ManySortedSign;
let C255 being  non-empty MSAlgebra over C254;
set D151 = ( MSAlg_meet C255 );
L803: (for B220 , B221 being (Element of ( MSSub C255 )) holds ( D151 . (B220 , B221) ) = ( D151 . (B221 , B220) ))
proof
let C256 , C257 being (Element of ( MSSub C255 ));
reconsider D152 = C256 , D153 = C257 as  strict (MSSubAlgebra of C255) by L733;
L804: ((the Sorts of ( D153 /\ D152 )) = ( (the Sorts of D153) /\ (the Sorts of D152) ) & (for B222 being (MSSubset of C255) holds (B222 = (the Sorts of ( D153 /\ D152 )) implies (B222 is  opers_closed & (the Charact of ( D153 /\ D152 )) = ( Opers (C255 , B222) ))))) by L555;
L805: (( D151 . (C256 , C257) ) = ( D152 /\ D153 ) & ( D151 . (C257 , C256) ) = ( D153 /\ D152 )) by L760;
thus L806: thesis by L805 , L804 , L555;
end;
thus L807: thesis by L803 , BINOP_1:def 2;
end;
theorem
L808: (for B223 being non  void non  empty ManySortedSign holds (for B224 being  non-empty MSAlgebra over B223 holds ( MSAlg_meet B224 ) is  associative))
proof
let C258 being non  void non  empty ManySortedSign;
let C259 being  non-empty MSAlgebra over C258;
set D154 = ( MSAlg_meet C259 );
L809: (for B225 , B226 , B227 being (Element of ( MSSub C259 )) holds ( D154 . (B225 , ( D154 . (B226 , B227) )) ) = ( D154 . (( D154 . (B225 , B226) ) , B227) ))
proof
let C260 , C261 , C262 being (Element of ( MSSub C259 ));
reconsider D155 = C260 , D156 = C261 , D157 = C262 as  strict (MSSubAlgebra of C259) by L733;
reconsider D158 = ( D156 /\ D157 ) , D159 = ( D155 /\ D156 ) as (Element of ( MSSub C259 )) by L733;
L810: ((the Sorts of ( D155 /\ D156 )) = ( (the Sorts of D155) /\ (the Sorts of D156) ) & (for B228 being (MSSubset of C259) holds (B228 = (the Sorts of ( D155 /\ ( D156 /\ D157 ) )) implies (B228 is  opers_closed & (the Charact of ( D155 /\ ( D156 /\ D157 ) )) = ( Opers (C259 , B228) ))))) by L555;
L811: ( D154 . (( D154 . (C260 , C261) ) , C262) ) = ( D154 . (D159 , C262) ) by L760
.= ( ( D155 /\ D156 ) /\ D157 ) by L760;
L812: (the Sorts of ( D156 /\ D157 )) = ( (the Sorts of D156) /\ (the Sorts of D157) ) by L555;
L813: (the Sorts of ( D155 /\ ( D156 /\ D157 ) )) = ( (the Sorts of D155) /\ ( (the Sorts of D156) /\ (the Sorts of D157) ) ) by L812 , L555;
reconsider D160 = ( (the Sorts of D155) /\ ( (the Sorts of D156) /\ (the Sorts of D157) ) ) as (MSSubset of C259) by L813 , L226;
L814: ( D154 . (C260 , ( D154 . (C261 , C262) )) ) = ( D154 . (C260 , D158) ) by L760
.= ( D155 /\ ( D156 /\ D157 ) ) by L760;
L815: D160 = ( ( (the Sorts of D155) /\ (the Sorts of D156) ) /\ (the Sorts of D157) ) by PBOOLE:29;
thus L816: thesis by L815 , L814 , L811 , L813 , L810 , L555;
end;
thus L817: thesis by L809 , BINOP_1:def 3;
end;
definition
let C263 being non  void non  empty ManySortedSign;
let C264 being  non-empty MSAlgebra over C263;
func MSSubAlLattice C264 ->  strict Lattice equals 
LattStr (# ( MSSub C264 ) , ( MSAlg_join C264 ) , ( MSAlg_meet C264 ) #);
coherence
proof
set D161 = LattStr (# ( MSSub C264 ) , ( MSAlg_join C264 ) , ( MSAlg_meet C264 ) #);
L818: (for B229 , B230 , B231 being (Element of D161) holds ( B229 "\/" ( B230 "\/" B231 ) ) = ( ( B229 "\/" B230 ) "\/" B231 ))
proof
let C265 , C266 , C267 being (Element of D161);
L819: ( MSAlg_join C264 ) is  associative by L783;
thus L820: thesis by L819 , BINOP_1:def 3;
end;
L821: (for B232 , B233 being (Element of D161) holds ( B232 "/\" B233 ) = ( B233 "/\" B232 ))
proof
let C268 , C269 being (Element of D161);
L822: ( MSAlg_meet C264 ) is  commutative by L802;
thus L823: thesis by L822 , BINOP_1:def 2;
end;
L824: (for B234 , B235 being (Element of D161) holds ( B234 "/\" ( B234 "\/" B235 ) ) = B234)
proof
let C270 , C271 being (Element of D161);
reconsider D162 = C270 , D163 = C271 as (Element of ( MSSub C264 ));
L825: ( ( MSAlg_meet C264 ) . (D162 , ( ( MSAlg_join C264 ) . (D162 , D163) )) ) = D162
proof
reconsider D164 = D162 , D165 = D163 as  strict (MSSubAlgebra of C264) by L733;
L826: ( ( MSAlg_join C264 ) . (D162 , D163) ) = ( D164 "\/" D165 ) by L748;
thus L827: ( ( MSAlg_meet C264 ) . (D162 , ( ( MSAlg_join C264 ) . (D162 , D163) )) ) = ( D164 /\ ( D164 "\/" D165 ) ) by L826 , L760
.= D162 by L711;
end;
thus L828: thesis by L825;
end;
L829: (for B236 , B237 being (Element of D161) holds ( ( B236 "/\" B237 ) "\/" B237 ) = B237)
proof
let C272 , C273 being (Element of D161);
reconsider D166 = C272 , D167 = C273 as (Element of ( MSSub C264 ));
L830: ( ( MSAlg_join C264 ) . (( ( MSAlg_meet C264 ) . (D166 , D167) ) , D167) ) = D167
proof
reconsider D168 = D166 , D169 = D167 as  strict (MSSubAlgebra of C264) by L733;
L831: ( ( MSAlg_meet C264 ) . (D166 , D167) ) = ( D168 /\ D169 ) by L760;
thus L832: ( ( MSAlg_join C264 ) . (( ( MSAlg_meet C264 ) . (D166 , D167) ) , D167) ) = ( ( D168 /\ D169 ) "\/" D169 ) by L831 , L748
.= D167 by L725;
end;
thus L833: thesis by L830;
end;
L834: (for B238 , B239 , B240 being (Element of D161) holds ( B238 "/\" ( B239 "/\" B240 ) ) = ( ( B238 "/\" B239 ) "/\" B240 ))
proof
let C274 , C275 , C276 being (Element of D161);
L835: ( MSAlg_meet C264 ) is  associative by L808;
thus L836: thesis by L835 , BINOP_1:def 3;
end;
L837: (for B241 , B242 being (Element of D161) holds ( B241 "\/" B242 ) = ( B242 "\/" B241 ))
proof
let C277 , C278 being (Element of D161);
L838: ( MSAlg_join C264 ) is  commutative by L772;
thus L839: thesis by L838 , BINOP_1:def 2;
end;
L840: D161 is  strict  join-commutative  join-associative  meet-absorbing  meet-commutative  meet-associative  join-absorbing by L837 , L818 , L829 , L821 , L834 , L824 , LATTICES:def 4 , LATTICES:def 5 , LATTICES:def 6 , LATTICES:def 7 , LATTICES:def 8 , LATTICES:def 9;
thus L841: thesis by L840;
end;
end;
theorem
L843: (for B243 being non  void non  empty ManySortedSign holds (for B244 being  non-empty MSAlgebra over B243 holds ( MSSubAlLattice B244 ) is  bounded))
proof
let C279 being non  void non  empty ManySortedSign;
let C280 being  non-empty MSAlgebra over C279;
set D170 = ( MSSubAlLattice C280 );
thus L844: D170 is  lower-bounded
proof
set D171 = ( Constants C280 );
reconsider D172 = ( GenMSAlg D171 ) as (Element of ( MSSub C280 )) by L733;
reconsider D173 = D172 as (Element of D170);
take D173;
let C281 being (Element of D170);
reconsider D174 = C281 as (Element of ( MSSub C280 ));
reconsider D175 = D174 as  strict (MSSubAlgebra of C280) by L733;
thus L845: ( D173 "/\" C281 ) = ( ( GenMSAlg D171 ) /\ D175 ) by L760
.= D173 by L643;
thus L846: thesis by L845;
end;

thus L847: D170 is  upper-bounded
proof
reconsider D176 = (the Sorts of C280) as (MSSubset of C280) by PBOOLE:def 18;
reconsider D177 = ( GenMSAlg D176 ) as (Element of ( MSSub C280 )) by L733;
reconsider D178 = D177 as (Element of D170);
take D178;
let C282 being (Element of D170);
reconsider D179 = C282 as (Element of ( MSSub C280 ));
reconsider D180 = D179 as  strict (MSSubAlgebra of C280) by L733;
thus L848: ( D178 "\/" C282 ) = ( ( GenMSAlg D176 ) "\/" D180 ) by L748
.= D178 by L700;
thus L849: thesis by L848;
end;

end;
registration
let C283 being non  void non  empty ManySortedSign;
let C284 being  non-empty MSAlgebra over C283;
cluster ( MSSubAlLattice C284 ) ->  bounded;
coherence by L843;
end;
theorem
L849: (for B245 being non  void non  empty ManySortedSign holds (for B246 being  non-empty MSAlgebra over B245 holds ( Bottom ( MSSubAlLattice B246 ) ) = ( GenMSAlg ( Constants B246 ) )))
proof
let C285 being non  void non  empty ManySortedSign;
let C286 being  non-empty MSAlgebra over C285;
set D181 = ( Constants C286 );
reconsider D182 = ( GenMSAlg D181 ) as (Element of ( MSSub C286 )) by L733;
set D183 = ( MSSubAlLattice C286 );
reconsider D184 = D182 as (Element of D183);
L850:
now
let C287 being (Element of D183);
reconsider D185 = C287 as (Element of ( MSSub C286 ));
reconsider D186 = D185 as  strict (MSSubAlgebra of C286) by L733;
thus L851: ( D184 "/\" C287 ) = ( ( GenMSAlg D181 ) /\ D186 ) by L760
.= D184 by L643;
thus L852: ( C287 "/\" D184 ) = D184 by L851;
end;
thus L853: thesis by L850 , LATTICES:def 16;
end;
theorem
L854: (for B247 being non  void non  empty ManySortedSign holds (for B248 being  non-empty MSAlgebra over B247 holds (for B249 being (MSSubset of B248) holds (B249 = (the Sorts of B248) implies ( Top ( MSSubAlLattice B248 ) ) = ( GenMSAlg B249 )))))
proof
let C288 being non  void non  empty ManySortedSign;
let C289 being  non-empty MSAlgebra over C288;
let C290 being (MSSubset of C289);
reconsider D187 = ( GenMSAlg C290 ) as (Element of ( MSSub C289 )) by L733;
set D188 = ( MSSubAlLattice C289 );
reconsider D189 = D187 as (Element of D188);
assume L855: C290 = (the Sorts of C289);
L856:
now
let C291 being (Element of D188);
reconsider D190 = C291 as (Element of ( MSSub C289 ));
reconsider D191 = D190 as  strict (MSSubAlgebra of C289) by L733;
thus L857: ( D189 "\/" C291 ) = ( ( GenMSAlg C290 ) "\/" D191 ) by L748
.= D189 by L855 , L700;
thus L858: ( C291 "\/" D189 ) = D189 by L857;
end;
thus L859: thesis by L856 , LATTICES:def 17;
end;
theorem
L860: (for B250 being non  void non  empty ManySortedSign holds (for B251 being  non-empty MSAlgebra over B250 holds ( Top ( MSSubAlLattice B251 ) ) = ( the MSAlgebra of B251 )))
proof
let C292 being non  void non  empty ManySortedSign;
let C293 being  non-empty MSAlgebra over C292;
reconsider D192 = (the Sorts of C293) as (MSSubset of C293) by PBOOLE:def 18;
thus L861: ( Top ( MSSubAlLattice C293 ) ) = ( GenMSAlg D192 ) by L854
.= ( the MSAlgebra of C293 ) by L626;
end;
theorem
L862: (for B252 being non  void non  empty ManySortedSign holds (for B253 being MSAlgebra over B252 holds MSAlgebra (# (the Sorts of B253) , (the Charact of B253) #) is (MSSubAlgebra of B253))) by L236;
theorem
L863: (for B254 being non  void non  empty ManySortedSign holds (for B255 being MSAlgebra over B254 holds (for B256 being (MSSubset of B255) holds (the Sorts of B255) in ( SubSort B256 )))) by L367;
theorem
L864: (for B257 being non  void non  empty ManySortedSign holds (for B258 being MSAlgebra over B257 holds (for B259 being (MSSubset of B258) holds ( SubSort B259 ) c= ( SubSort B258 ))))
proof
let C294 being non  void non  empty ManySortedSign;
let C295 being MSAlgebra over C294;
let C296 being (MSSubset of C295);
let C297 being set;
assume that
L865: C297 in ( SubSort C296 );
L866: (for B260 being (MSSubset of C295) holds (B260 = C297 implies B260 is  opers_closed)) by L865 , L361;
L867: (C297 in ( Funcs ((the carrier of C294) , ( bool ( Union (the Sorts of C295) ) )) ) & C297 is (MSSubset of C295)) by L865 , L361;
thus L868: thesis by L867 , L866 , L374;
end;
