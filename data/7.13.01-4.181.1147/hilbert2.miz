:: Defining by structural induction in the positive propositional language
::  by Andrzej Trybulec
::
:: Received April 23, 1999
:: Copyright (c) 1999-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, PBOOLE, FUNCT_1, CARD_3, RELAT_1, TARSKI, FINSEQ_1,
      ORDINAL4, XBOOLE_0, SUBSET_1, HILBERT1, TREES_1, TREES_A, CARD_1,
      ARYTM_3, TREES_2, TREES_4, TREES_3, TREES_9, FUNCT_6, QC_LANG1, XBOOLEAN,
      ZF_LANG, GLIB_000, XXREAL_0, NAT_1, ORDINAL1, ZFMISC_1, PARTFUN1,
      FUNCT_4, FUNCOP_1, HILBERT2;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, NUMBERS, CARD_3, RELAT_1,
      ORDINAL1, FUNCT_1, PARTFUN1, NAT_1, FINSEQ_1, FUNCOP_1, FUNCT_4, FUNCT_6,
      PBOOLE, TREES_1, TREES_2, TREES_3, TREES_4, TREES_9, HILBERT1, XXREAL_0;
 constructors FUNCT_4, XREAL_0, NAT_1, CARD_3, TREES_4, HILBERT1, RELSET_1;
 registrations XBOOLE_0, SUBSET_1, RELAT_1, FUNCT_1, ORDINAL1, FUNCOP_1,
      XREAL_0, NAT_1, FINSEQ_1, TREES_2, TREES_3, HILBERT1, TREES_4;
 requirements NUMERALS, REAL, BOOLE, SUBSET, ARITHM;
 definitions TARSKI, FUNCT_1, HILBERT1, PARTFUN1, FUNCOP_1;
 theorems PBOOLE, ZFMISC_1, FUNCT_1, HILBERT1, ORDERS_1, SUBSET_1, TARSKI,
      FUNCT_4, FUNCOP_1, WELLFND1, CARD_3, GRFUNC_1, NAT_1, FINSEQ_1, TREES_1,
      TREES_4, TREES_2, TREES_9, FINSEQ_2, TREES_3, RELAT_1, ORDINAL1,
      XBOOLE_0, XBOOLE_1, XREAL_1, XXREAL_0, CARD_1, PARTFUN1, EQREL_1;
 schemes PBOOLE, NAT_1, FINSEQ_1;

begin
theorem
L1: (for B1 being set holds (for B2 being (ManySortedSet of B1) holds ((for B3 being set holds (B3 in B1 implies ( B2 . B3 ) is (ManySortedSet of B3))) implies (for B4 being Function holds (B4 = ( Union B2 ) implies ( dom B4 ) = ( union B1 ))))))
proof
let C1 being set;
let C2 being (ManySortedSet of C1);
assume that
L2: (for B5 being set holds (B5 in C1 implies ( C2 . B5 ) is (ManySortedSet of B5)));
let C3 being Function;
assume L3: C3 = ( Union C2 );
L4: C3 = ( union ( rng C2 ) ) by L3 , CARD_3:def 4;
L5: (for B6 being set holds (B6 in ( dom C3 ) iff (ex B7 being set st (B6 in B7 & B7 in C1))))
proof
let C4 being set;
thus L6: (C4 in ( dom C3 ) implies (ex B8 being set st (C4 in B8 & B8 in C1)))
proof
assume L7: C4 in ( dom C3 );
L8: [ C4 , ( C3 . C4 ) ] in C3 by L7 , FUNCT_1:def 2;
consider C5 being set such that L9: [ C4 , ( C3 . C4 ) ] in C5 and L10: C5 in ( rng C2 ) by L8 , L4 , TARSKI:def 4;
consider C6 being set such that L11: C6 in ( dom C2 ) and L12: C5 = ( C2 . C6 ) by L10 , FUNCT_1:def 3;
L13: C6 in C1 by L11 , PARTFUN1:def 2;
reconsider D1 = C5 as (ManySortedSet of C6) by L13 , L2 , L12;
take ( dom D1 );
thus L14: C4 in ( dom D1 ) by L9 , FUNCT_1:1;
thus L15: thesis by L13 , PARTFUN1:def 2;
end;

given C7 being set such that
L16: C4 in C7
and
L17: C7 in C1;

reconsider D2 = ( C2 . C7 ) as (ManySortedSet of C7) by L2 , L17;
L18: C7 = ( dom D2 ) by PARTFUN1:def 2;
L19: [ C4 , ( D2 . C4 ) ] in D2 by L18 , L16 , FUNCT_1:1;
L20: C1 = ( dom C2 ) by PARTFUN1:def 2;
L21: D2 in ( rng C2 ) by L20 , L17 , FUNCT_1:def 3;
L22: [ C4 , ( D2 . C4 ) ] in C3 by L21 , L4 , L19 , TARSKI:def 4;
thus L23: thesis by L22 , FUNCT_1:1;
end;
thus L24: thesis by L5 , TARSKI:def 4;
end;
theorem
L25: (for B9 , B10 being set holds (for B11 , B12 being FinSequence holds (( <* B9 *> ^ B11 ) = ( <* B10 *> ^ B12 ) implies B11 = B12)))
proof
let C8 , C9 being set;
let C10 , C11 being FinSequence;
assume L26: ( <* C8 *> ^ C10 ) = ( <* C9 *> ^ C11 );
L27: C8 = ( ( <* C9 *> ^ C11 ) . 1 ) by L26 , FINSEQ_1:41
.= C9 by FINSEQ_1:41;
thus L28: thesis by L27 , L26 , FINSEQ_1:33;
end;
theorem
L29: (for R1 being set holds (for R2 being set holds (<* R2 *> is (FinSequence of R1) implies R2 in R1)))
proof
let R1 being set;
let R2 being set;
L30: ( rng <* R2 *> ) = { R2 } by FINSEQ_1:38;
assume L31: <* R2 *> is (FinSequence of R1);
L32: { R2 } c= R1 by L31 , L30 , FINSEQ_1:def 4;
thus L33: thesis by L32 , ZFMISC_1:31;
end;
theorem
L34: (for R1 being set holds (for B13 being (FinSequence of R1) holds (B13 <> ( {} ) implies (ex B14 being (FinSequence of R1) st (ex B15 being (Element of R1) st B13 = ( B14 ^ <* B15 *> ))))))
proof
let C12 being set;
let C13 being (FinSequence of C12);
assume L35: C13 <> ( {} );
consider C14 being FinSequence, C15 being set such that L36: C13 = ( C14 ^ <* C15 *> ) by L35 , FINSEQ_1:46;
reconsider D3 = C14 as (FinSequence of C12) by L36 , FINSEQ_1:36;
take D3;
take C15;
L37: <* C15 *> is (FinSequence of C12) by L36 , FINSEQ_1:36;
thus L38: C15 is (Element of C12) by L37 , L29;
thus L39: thesis by L36;
end;
theorem
L40: (for R2 being set holds (for R12 being Tree holds (for R13 being Tree holds (<* R2 *> in ( tree (R12 , R13) ) iff (R2 = ( 0 ) or R2 = 1)))))
proof
let R2 being set;
let R12 being Tree;
let R13 being Tree;
L41: (( len <* R12 , R13 *> ) = 2 & ( tree (R12 , R13) ) = ( tree <* R12 , R13 *> )) by FINSEQ_1:44 , TREES_3:def 17;
thus L42: (<* R2 *> in ( tree (R12 , R13) ) implies (R2 = ( 0 ) or R2 = 1))
proof
assume L43: <* R2 *> in ( tree (R12 , R13) );
consider C16 being (Element of ( NAT )), C17 being FinSequence such that L44: C16 < 2 and L45: C17 in ( <* R12 , R13 *> . ( C16 + 1 ) ) and L46: <* R2 *> = ( <* C16 *> ^ C17 ) by L43 , L41 , TREES_3:def 15;
L47: R2 = ( <* R2 *> . 1 ) by FINSEQ_1:40
.= C16 by L46 , FINSEQ_1:41;
thus L48: thesis by L47 , L44 , NAT_1:23;
end;

assume L49: (R2 = ( 0 ) or R2 = 1);
reconsider D4 = R2 as (Element of ( NAT )) by L49;
L50: (( <* R12 , R13 *> . ( D4 + 1 ) ) = R12 or ( <* R12 , R13 *> . ( D4 + 1 ) ) = R13) by L49 , FINSEQ_1:44;
L51: ( {} ) in ( <* R12 , R13 *> . ( D4 + 1 ) ) by L50 , TREES_1:22;
L52: <* D4 *> = ( <* D4 *> ^ ( {} ) ) by FINSEQ_1:34;
thus L53: thesis by L52 , L41 , L49 , L51 , TREES_3:def 15;
end;
scheme InTreeInd { F1() -> Tree , P1[set] } : (for B16 being (Element of F1()) holds P1[ B16 ])
provided
L54: P1[ ( <*> ( NAT ) ) ]
and
L55: (for B17 being (Element of F1()) holds (P1[ B17 ] implies (for R5 being (Element of ( NAT )) holds (( B17 ^ <* R5 *> ) in F1() implies P1[ ( B17 ^ <* R5 *> ) ]))))
proof
defpred S1[ FinSequence ] means ($1 in F1() implies P1[ $1 ]);
L56: (for B18 being FinSequence holds (for B19 being set holds (S1[ B18 ] implies S1[ ( B18 ^ <* B19 *> ) ])))
proof
let C18 being FinSequence;
let C19 being set;
assume that
L57: S1[ C18 ];
assume L58: ( C18 ^ <* C19 *> ) in F1();
reconsider D5 = ( C18 ^ <* C19 *> ) as (FinSequence of ( NAT )) by L58 , TREES_1:19;
consider C20 being (FinSequence of ( NAT )), R5 being (Element of ( NAT )) such that L59: D5 = ( C20 ^ <* R5 *> ) by L34;
L60: C20 = C18 by L59 , FINSEQ_2:17;
reconsider D6 = C20 as (Element of F1()) by L58 , L59 , TREES_1:21;
L61: P1[ D6 ] by L57 , L60;
thus L62: thesis by L61 , L55 , L58 , L59;
end;
L63: S1[ ( {} ) ] by L54;
L64: (for B20 being FinSequence holds S1[ B20 ]) from FINSEQ_1:sch 3(L63 , L56);
thus L65: thesis by L64;
end;
theorem
L66: (for B21 being set holds (for R14 being DecoratedTree holds (for R15 being DecoratedTree holds ( ( B21 -tree (R14 , R15) ) . ( {} ) ) = B21)))
proof
let C21 being set;
let R14 being DecoratedTree;
let R15 being DecoratedTree;
L67: ( C21 -tree (R14 , R15) ) = ( C21 -tree <* R14 , R15 *> ) by TREES_4:def 6;
thus L68: thesis by L67 , TREES_4:def 4;
end;
theorem
L69: (for R2 being set holds (for R14 being DecoratedTree holds (for R15 being DecoratedTree holds (( ( R2 -tree (R14 , R15) ) . <* ( 0 ) *> ) = ( R14 . ( {} ) ) & ( ( R2 -tree (R14 , R15) ) . <* 1 *> ) = ( R15 . ( {} ) )))))
proof
let R2 being set;
let R14 being DecoratedTree;
let R15 being DecoratedTree;
L70: ( len <* R14 , R15 *> ) = 2 by FINSEQ_1:44;
reconsider D7 = ( {} ) as (Node of R14) by TREES_1:22;
L71: ( <* R14 , R15 *> . ( ( 0 ) + 1 ) ) = R14 by FINSEQ_1:44;
thus L72: ( ( R2 -tree (R14 , R15) ) . <* ( 0 ) *> ) = ( ( R2 -tree <* R14 , R15 *> ) . <* ( 0 ) *> ) by TREES_4:def 6
.= ( ( R2 -tree <* R14 , R15 *> ) . ( <* ( 0 ) *> ^ D7 ) ) by FINSEQ_1:34
.= ( R14 . ( {} ) ) by L70 , L71 , TREES_4:12;
reconsider D8 = ( {} ) as (Node of R15) by TREES_1:22;
L73: ( <* R14 , R15 *> . ( 1 + 1 ) ) = R15 by FINSEQ_1:44;
thus L74: ( ( R2 -tree (R14 , R15) ) . <* 1 *> ) = ( ( R2 -tree <* R14 , R15 *> ) . <* 1 *> ) by TREES_4:def 6
.= ( ( R2 -tree <* R14 , R15 *> ) . ( <* 1 *> ^ D8 ) ) by FINSEQ_1:34
.= ( R15 . ( {} ) ) by L70 , L73 , TREES_4:12;
end;
theorem
L75: (for R2 being set holds (for R14 being DecoratedTree holds (for R15 being DecoratedTree holds (( ( R2 -tree (R14 , R15) ) | <* ( 0 ) *> ) = R14 & ( ( R2 -tree (R14 , R15) ) | <* 1 *> ) = R15))))
proof
let R2 being set;
let R14 being DecoratedTree;
let R15 being DecoratedTree;
L76: ( len <* R14 , R15 *> ) = 2 by FINSEQ_1:44;
thus L77: ( ( R2 -tree (R14 , R15) ) | <* ( 0 ) *> ) = ( ( R2 -tree <* R14 , R15 *> ) | <* ( 0 ) *> ) by TREES_4:def 6
.= ( <* R14 , R15 *> . ( ( 0 ) + 1 ) ) by L76 , TREES_4:def 4
.= R14 by FINSEQ_1:44;
thus L78: ( ( R2 -tree (R14 , R15) ) | <* 1 *> ) = ( ( R2 -tree <* R14 , R15 *> ) | <* 1 *> ) by TREES_4:def 6
.= ( <* R14 , R15 *> . ( 1 + 1 ) ) by L76 , TREES_4:def 4
.= R15 by FINSEQ_1:44;
end;
registration
let R2 being set;
let C22 being  DTree-yielding non  empty FinSequence;
cluster ( R2 -tree C22 ) -> non  root;
coherence
proof
assume L79: ( R2 -tree C22 ) is  root;
L80: ( dom ( R2 -tree C22 ) ) = ( tree ( {} ) ) by L79 , TREES_3:52 , TREES_9:def 1;
L81: (ex B22 being  DTree-yielding FinSequence st (C22 = B22 & ( dom ( R2 -tree C22 ) ) = ( tree ( doms B22 ) ))) by TREES_4:def 4;
L82: (( dom C22 ) <> ( {} ) & ( doms C22 ) = ( {} )) by L81 , L80 , TREES_3:50;
thus L83: contradiction by L82 , RELAT_1:38 , TREES_3:37;
end;
end;
registration
let R2 being set;
let C23 being DecoratedTree;
cluster ( R2 -tree C23 ) -> non  root;
coherence
proof
L85: ( R2 -tree C23 ) = ( R2 -tree <* C23 *> ) by TREES_4:def 5;
thus L86: thesis by L85;
end;
let C24 being DecoratedTree;
cluster ( R2 -tree (C23 , C24) ) -> non  root;
coherence
proof
L87: ( R2 -tree (C23 , C24) ) = ( R2 -tree <* C23 , C24 *> ) by TREES_4:def 6;
thus L88: thesis by L87;
end;
end;
begin
definition
let R5 being (Element of ( NAT ));
func prop R5 -> (Element of ( HP-WFF )) equals 
<* ( 3 + R5 ) *>;
coherence by HILBERT1:def 4;
end;
definition
let C25 being set;
redefine attr C25 is  with_VERUM
means
:L91: ( VERUM ) in C25;
compatibility by HILBERT1:def 1;
redefine attr C25 is  with_propositional_variables
means
(for R5 being (Element of ( NAT )) holds ( prop R5 ) in C25);
compatibility
proof
thus L92: (C25 is  with_propositional_variables implies (for R5 being (Element of ( NAT )) holds ( prop R5 ) in C25)) by HILBERT1:def 4;
assume L93: (for R5 being (Element of ( NAT )) holds ( prop R5 ) in C25);
let R5 being (Element of ( NAT ));
L94: ( prop R5 ) = <* ( 3 + R5 ) *>;
thus L95: thesis by L94 , L93;
end;
end;
definition
let C26 being (Subset of ( HP-WFF ));
redefine attr C26 is  with_implication
means
(for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ((R6 in C26 & R7 in C26) implies ( R6 => R7 ) in C26)));
compatibility
proof
thus L97: (C26 is  with_implication implies (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ((R6 in C26 & R7 in C26) implies ( R6 => R7 ) in C26)))) by HILBERT1:def 2;
assume L98: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ((R6 in C26 & R7 in C26) implies ( R6 => R7 ) in C26)));
let C27 , C28 being FinSequence;
assume L99: (C27 in C26 & C28 in C26);
reconsider D9 = C27 , D10 = C28 as (Element of ( HP-WFF )) by L99;
L100: ( D9 => D10 ) in C26 by L98 , L99;
thus L101: thesis by L100;
end;
redefine attr C26 is  with_conjunction
means
(for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ((R6 in C26 & R7 in C26) implies ( R6 '&' R7 ) in C26)));
compatibility
proof
thus L102: (C26 is  with_conjunction implies (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ((R6 in C26 & R7 in C26) implies ( R6 '&' R7 ) in C26)))) by HILBERT1:def 3;
assume L103: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ((R6 in C26 & R7 in C26) implies ( R6 '&' R7 ) in C26)));
let C29 , C30 being FinSequence;
assume L104: (C29 in C26 & C30 in C26);
reconsider D11 = C29 , D12 = C30 as (Element of ( HP-WFF )) by L104;
L105: ( D11 '&' D12 ) in C26 by L103 , L104;
thus L106: thesis by L105;
end;
end;
definition
let R6 being (Element of ( HP-WFF ));
attr R6 is  conjunctive
means
:L108: (ex R8 being (Element of ( HP-WFF )) st (ex R9 being (Element of ( HP-WFF )) st R6 = ( R8 '&' R9 )));
attr R6 is  conditional
means
:L109: (ex R8 being (Element of ( HP-WFF )) st (ex R9 being (Element of ( HP-WFF )) st R6 = ( R8 => R9 )));
attr R6 is  simple
means
:L110: (ex R5 being (Element of ( NAT )) st R6 = ( prop R5 ));
end;
scheme HPInd { P2[set] } : (for R8 being (Element of ( HP-WFF )) holds P2[ R8 ])
provided
L112: P2[ ( VERUM ) ]
and
L113: (for R5 being (Element of ( NAT )) holds P2[ ( prop R5 ) ])
and
L114: (for R8 being (Element of ( HP-WFF )) holds (for R9 being (Element of ( HP-WFF )) holds ((P2[ R8 ] & P2[ R9 ]) implies (P2[ ( R8 '&' R9 ) ] & P2[ ( R8 => R9 ) ]))))
proof
set D13 = { B23 where B23 is (Element of ( HP-WFF )) : P2[ B23 ] };
L115: D13 c= ( HP-WFF )
proof
let C31 being set;
assume L116: C31 in D13;
L117: (ex B24 being (Element of ( HP-WFF )) st (C31 = B24 & P2[ B24 ])) by L116;
thus L118: thesis by L117;
end;
reconsider D14 = D13 as (Subset of ( HP-WFF )) by L115;
let R8 being (Element of ( HP-WFF ));
L119: R8 in ( HP-WFF );
L120: D14 is  with_propositional_variables
proof
let R5 being (Element of ( NAT ));
L121: P2[ ( prop R5 ) ] by L113;
thus L122: thesis by L121;
end;
L123: D14 is  with_implication
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
assume L124: R6 in D14;
L125: (ex B25 being (Element of ( HP-WFF )) st (R6 = B25 & P2[ B25 ])) by L124;
assume L126: R7 in D14;
L127: (ex B26 being (Element of ( HP-WFF )) st (R7 = B26 & P2[ B26 ])) by L126;
L128: P2[ ( R6 => R7 ) ] by L127 , L114 , L125;
thus L129: thesis by L128;
end;
L130: ( HP-WFF ) c= ( ( NAT ) * ) by HILBERT1:def 5;
L131: D14 c= ( ( NAT ) * )
proof
let C32 being set;
assume L132: C32 in D14;
L133: C32 in ( HP-WFF ) by L132;
thus L134: thesis by L133 , L130;
end;
L135: D14 is  with_conjunction
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
assume L136: R6 in D14;
L137: (ex B27 being (Element of ( HP-WFF )) st (R6 = B27 & P2[ B27 ])) by L136;
assume L138: R7 in D14;
L139: (ex B28 being (Element of ( HP-WFF )) st (R7 = B28 & P2[ B28 ])) by L138;
L140: P2[ ( R6 '&' R7 ) ] by L139 , L114 , L137;
thus L141: thesis by L140;
end;
L142: ( VERUM ) in D14 by L112;
L143: D14 is  with_VERUM by L142 , L91;
L144: ( HP-WFF ) c= D14 by L143 , L131 , L123 , L135 , L120 , HILBERT1:def 6;
L145: R8 in D14 by L144 , L119;
L146: (ex B29 being (Element of ( HP-WFF )) st (R8 = B29 & P2[ B29 ])) by L145;
thus L147: thesis by L146;
end;
theorem
L148: (for R6 being (Element of ( HP-WFF )) holds (R6 is  conjunctive or R6 is  conditional or R6 is  simple or R6 = ( VERUM )))
proof
let R6 being (Element of ( HP-WFF ));
defpred S2[ (Element of ( HP-WFF )) ] means ($1 is  conjunctive or $1 is  conditional or $1 is  simple or $1 = ( VERUM ));
L149: S2[ ( VERUM ) ];
L150: (for R5 being (Element of ( NAT )) holds S2[ ( prop R5 ) ]) by L110;
L151: (for R8 being (Element of ( HP-WFF )) holds (for R9 being (Element of ( HP-WFF )) holds ((S2[ R8 ] & S2[ R9 ]) implies (S2[ ( R8 '&' R9 ) ] & S2[ ( R8 => R9 ) ])))) by L108 , L109;
L152: (for R6 being (Element of ( HP-WFF )) holds S2[ R6 ]) from HPInd(L149 , L150 , L151);
thus L153: thesis by L152;
end;
theorem
L154: (for R6 being (Element of ( HP-WFF )) holds ( len R6 ) >= 1)
proof
let R6 being (Element of ( HP-WFF ));
per cases  by L148;
suppose L155: R6 is  conjunctive;

consider R8 being (Element of ( HP-WFF )), R9 being (Element of ( HP-WFF )) such that L156: R6 = ( R8 '&' R9 ) by L155 , L108;
L157: ( len R6 ) = ( len ( <* 2 *> ^ ( R8 ^ R9 ) ) ) by L156 , FINSEQ_1:32
.= ( ( len <* 2 *> ) + ( len ( R8 ^ R9 ) ) ) by FINSEQ_1:22
.= ( 1 + ( len ( R8 ^ R9 ) ) ) by FINSEQ_1:39;
thus L158: thesis by L157 , NAT_1:11;
end;
suppose L159: R6 is  conditional;

consider R8 being (Element of ( HP-WFF )), R9 being (Element of ( HP-WFF )) such that L160: R6 = ( R8 => R9 ) by L159 , L109;
L161: ( len R6 ) = ( len ( <* 1 *> ^ ( R8 ^ R9 ) ) ) by L160 , FINSEQ_1:32
.= ( ( len <* 1 *> ) + ( len ( R8 ^ R9 ) ) ) by FINSEQ_1:22
.= ( 1 + ( len ( R8 ^ R9 ) ) ) by FINSEQ_1:39;
thus L162: thesis by L161 , NAT_1:11;
end;
suppose L163: R6 is  simple;

L164: (ex R5 being (Element of ( NAT )) st R6 = ( prop R5 )) by L163 , L110;
thus L165: thesis by L164 , FINSEQ_1:39;
end;
suppose L166: R6 = ( VERUM );

thus L167: thesis by L166 , FINSEQ_1:39;
end;
end;
theorem
L169: (for R6 being (Element of ( HP-WFF )) holds (( R6 . 1 ) = 1 implies R6 is  conditional))
proof
let R6 being (Element of ( HP-WFF ));
assume L170: ( R6 . 1 ) = 1;
per cases  by L148;
suppose L171: R6 is  conjunctive;

consider R8 being (Element of ( HP-WFF )), R9 being (Element of ( HP-WFF )) such that L172: R6 = ( R8 '&' R9 ) by L171 , L108;
L173: R6 = ( <* 2 *> ^ ( R8 ^ R9 ) ) by L172 , FINSEQ_1:32;
thus L174: thesis by L173 , L170 , FINSEQ_1:41;
end;
suppose L175: R6 is  conditional;

thus L176: thesis by L175;
end;
suppose L177: R6 is  simple;

consider R5 being (Element of ( NAT )) such that L178: R6 = ( prop R5 ) by L177 , L110;
L179: ( 1 + ( 0 ) ) = ( 1 + ( 2 + R5 ) ) by L170 , L178 , FINSEQ_1:40;
thus L180: thesis by L179;
end;
suppose L181: R6 = ( VERUM );

thus L182: thesis by L181 , L170 , FINSEQ_1:40;
end;
end;
theorem
L184: (for R6 being (Element of ( HP-WFF )) holds (( R6 . 1 ) = 2 implies R6 is  conjunctive))
proof
let R6 being (Element of ( HP-WFF ));
assume L185: ( R6 . 1 ) = 2;
per cases  by L148;
suppose L186: R6 is  conjunctive;

thus L187: thesis by L186;
end;
suppose L188: R6 is  conditional;

consider R8 being (Element of ( HP-WFF )), R9 being (Element of ( HP-WFF )) such that L189: R6 = ( R8 => R9 ) by L188 , L109;
L190: R6 = ( <* 1 *> ^ ( R8 ^ R9 ) ) by L189 , FINSEQ_1:32;
thus L191: thesis by L190 , L185 , FINSEQ_1:41;
end;
suppose L192: R6 is  simple;

consider R5 being (Element of ( NAT )) such that L193: R6 = ( prop R5 ) by L192 , L110;
L194: ( 2 + ( 0 ) ) = ( 2 + ( 1 + R5 ) ) by L185 , L193 , FINSEQ_1:40;
thus L195: thesis by L194;
end;
suppose L196: R6 = ( VERUM );

thus L197: thesis by L196 , L185 , FINSEQ_1:40;
end;
end;
theorem
L199: (for R5 being (Element of ( NAT )) holds (for R6 being (Element of ( HP-WFF )) holds (( R6 . 1 ) = ( 3 + R5 ) implies R6 is  simple)))
proof
let R5 being (Element of ( NAT ));
let R6 being (Element of ( HP-WFF ));
assume L200: ( R6 . 1 ) = ( 3 + R5 );
per cases  by L148;
suppose L201: R6 is  conjunctive;

consider R8 being (Element of ( HP-WFF )), R9 being (Element of ( HP-WFF )) such that L202: R6 = ( R8 '&' R9 ) by L201 , L108;
L203: R6 = ( <* 2 *> ^ ( R8 ^ R9 ) ) by L202 , FINSEQ_1:32;
L204: ( 2 + ( 0 ) ) = ( 2 + ( 1 + R5 ) ) by L203 , L200 , FINSEQ_1:41;
thus L205: thesis by L204;
end;
suppose L206: R6 is  conditional;

consider R8 being (Element of ( HP-WFF )), R9 being (Element of ( HP-WFF )) such that L207: R6 = ( R8 => R9 ) by L206 , L109;
L208: R6 = ( <* 1 *> ^ ( R8 ^ R9 ) ) by L207 , FINSEQ_1:32;
L209: ( 1 + ( 0 ) ) = ( 1 + ( 2 + R5 ) ) by L208 , L200 , FINSEQ_1:41;
thus L210: thesis by L209;
end;
suppose L211: R6 is  simple;

thus L212: thesis by L211;
end;
suppose L213: R6 = ( VERUM );

thus L214: thesis by L213 , L200 , FINSEQ_1:40;
end;
end;
theorem
L216: (for R6 being (Element of ( HP-WFF )) holds (( R6 . 1 ) = ( 0 ) implies R6 = ( VERUM )))
proof
let R6 being (Element of ( HP-WFF ));
assume L217: ( R6 . 1 ) = ( 0 );
per cases  by L148;
suppose L218: R6 is  conjunctive;

consider R8 being (Element of ( HP-WFF )), R9 being (Element of ( HP-WFF )) such that L219: R6 = ( R8 '&' R9 ) by L218 , L108;
L220: R6 = ( <* 2 *> ^ ( R8 ^ R9 ) ) by L219 , FINSEQ_1:32;
thus L221: thesis by L220 , L217 , FINSEQ_1:41;
end;
suppose L222: R6 is  conditional;

consider R8 being (Element of ( HP-WFF )), R9 being (Element of ( HP-WFF )) such that L223: R6 = ( R8 => R9 ) by L222 , L109;
L224: R6 = ( <* 1 *> ^ ( R8 ^ R9 ) ) by L223 , FINSEQ_1:32;
thus L225: thesis by L224 , L217 , FINSEQ_1:41;
end;
suppose L226: R6 is  simple;

L227: (ex R5 being (Element of ( NAT )) st R6 = ( prop R5 )) by L226 , L110;
thus L228: thesis by L227 , L217 , FINSEQ_1:40;
end;
suppose L229: R6 = ( VERUM );

thus L230: thesis by L229;
end;
end;
theorem
L232: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( len R6 ) < ( len ( R6 '&' R7 ) ) & ( len R7 ) < ( len ( R6 '&' R7 ) ))))
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
L233: ( len ( R6 '&' R7 ) ) = ( ( len ( <* 2 *> ^ R6 ) ) + ( len R7 ) ) by FINSEQ_1:22
.= ( ( ( len <* 2 *> ) + ( len R6 ) ) + ( len R7 ) ) by FINSEQ_1:22
.= ( ( 1 + ( len R6 ) ) + ( len R7 ) ) by FINSEQ_1:39
.= ( 1 + ( ( len R6 ) + ( len R7 ) ) );
L234: ( ( len R6 ) + ( len R7 ) ) < ( len ( R6 '&' R7 ) ) by L233 , XREAL_1:29;
L235: (( len R6 ) <= ( ( len R6 ) + ( len R7 ) ) & ( len R7 ) <= ( ( len R6 ) + ( len R7 ) )) by NAT_1:11;
thus L236: thesis by L235 , L234 , XXREAL_0:2;
end;
theorem
L237: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( len R6 ) < ( len ( R6 => R7 ) ) & ( len R7 ) < ( len ( R6 => R7 ) ))))
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
L238: ( len ( R6 => R7 ) ) = ( ( len ( <* 1 *> ^ R6 ) ) + ( len R7 ) ) by FINSEQ_1:22
.= ( ( ( len <* 1 *> ) + ( len R6 ) ) + ( len R7 ) ) by FINSEQ_1:22
.= ( ( 1 + ( len R6 ) ) + ( len R7 ) ) by FINSEQ_1:39
.= ( 1 + ( ( len R6 ) + ( len R7 ) ) );
L239: ( ( len R6 ) + ( len R7 ) ) < ( len ( R6 => R7 ) ) by L238 , XREAL_1:29;
L240: (( len R6 ) <= ( ( len R6 ) + ( len R7 ) ) & ( len R7 ) <= ( ( len R6 ) + ( len R7 ) )) by NAT_1:11;
thus L241: thesis by L240 , L239 , XXREAL_0:2;
end;
theorem
L242: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (for R16 being FinSequence holds (R6 = ( R7 ^ R16 ) implies R6 = R7))))
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
let R16 being FinSequence;
defpred S3[ Nat ] means (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (for R16 being FinSequence holds ((( len R6 ) = $1 & R6 = ( R7 ^ R16 )) implies R6 = R7))));
L243: (for B30 being Nat holds ((for B31 being Nat holds (B31 < B30 implies S3[ B31 ])) implies S3[ B30 ]))
proof
let C33 being Nat;
assume that
L244: (for B32 being Nat holds (B32 < C33 implies (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (for R16 being FinSequence holds ((( len R6 ) = B32 & R6 = ( R7 ^ R16 )) implies R6 = R7))))));
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
let R16 being FinSequence;
assume that
L245: ( len R6 ) = C33
and
L246: R6 = ( R7 ^ R16 );
L247: ( len R7 ) >= 1 by L154;
L248: ( R6 . 1 ) = ( R7 . 1 ) by L247 , L246 , FINSEQ_1:64;
per cases  by L148;
suppose L249: R6 is  conjunctive;

consider R8 being (Element of ( HP-WFF )), R9 being (Element of ( HP-WFF )) such that L250: R6 = ( R8 '&' R9 ) by L249 , L108;
L251: ( R7 . 1 ) = ( ( <* 2 *> ^ ( R8 ^ R9 ) ) . 1 ) by L248 , L250 , FINSEQ_1:32
.= 2 by FINSEQ_1:41;
L252: R7 is  conjunctive by L251 , L184;
consider R10 being (Element of ( HP-WFF )), R11 being (Element of ( HP-WFF )) such that L253: R7 = ( R10 '&' R11 ) by L252 , L108;
L254: ( <* 2 *> ^ ( ( R10 ^ R11 ) ^ R16 ) ) = ( ( <* 2 *> ^ ( R10 ^ R11 ) ) ^ R16 ) by FINSEQ_1:32
.= ( ( <* 2 *> ^ R8 ) ^ R9 ) by L246 , L250 , L253 , FINSEQ_1:32
.= ( <* 2 *> ^ ( R8 ^ R9 ) ) by FINSEQ_1:32;
L255: ( ( R10 ^ R11 ) ^ R16 ) = ( R8 ^ R9 ) by L254 , L25;
L256: ( R10 ^ ( R11 ^ R16 ) ) = ( R8 ^ R9 ) by L255 , FINSEQ_1:32;
L257:
now
per cases ;
suppose L258: ( len R8 ) <= ( len R10 );

L259: C33 = ( ( len R7 ) + ( len R16 ) ) by L245 , L246 , FINSEQ_1:22;
L260: ( len R7 ) <= C33 by L259 , NAT_1:11;
L261: ( len R10 ) < C33 by L260 , L253 , L232 , XXREAL_0:2;
L262: (ex R17 being FinSequence st ( R8 ^ R17 ) = R10) by L256 , L258 , FINSEQ_1:47;
L263: R8 = R10 by L262 , L244 , L261;
L264: ( R11 ^ R16 ) = R9 by L263 , L256 , FINSEQ_1:33;
L265: ( len R9 ) < C33 by L245 , L250 , L232;
L266: R11 = R9 by L265 , L244 , L264;
L267: R16 = ( {} ) by L266 , L264 , FINSEQ_1:87;
thus L268: thesis by L267 , L246 , FINSEQ_1:34;
end;
suppose L269: ( len R8 ) >= ( len R10 );

L270: (ex R17 being FinSequence st ( R10 ^ R17 ) = R8) by L269 , L256 , FINSEQ_1:47;
L271: ( len R8 ) < C33 by L245 , L250 , L232;
L272: R8 = R10 by L271 , L244 , L270;
L273: ( R11 ^ R16 ) = R9 by L272 , L256 , FINSEQ_1:33;
L274: ( len R9 ) < C33 by L245 , L250 , L232;
L275: R11 = R9 by L274 , L244 , L273;
L276: R16 = ( {} ) by L275 , L273 , FINSEQ_1:87;
thus L277: thesis by L276 , L246 , FINSEQ_1:34;
end;
end;
thus L279: thesis by L257;
end;
suppose L280: R6 is  conditional;

consider R8 being (Element of ( HP-WFF )), R9 being (Element of ( HP-WFF )) such that L281: R6 = ( R8 => R9 ) by L280 , L109;
L282: ( R7 . 1 ) = ( ( <* 1 *> ^ ( R8 ^ R9 ) ) . 1 ) by L248 , L281 , FINSEQ_1:32
.= 1 by FINSEQ_1:41;
L283: R7 is  conditional by L282 , L169;
consider R10 being (Element of ( HP-WFF )), R11 being (Element of ( HP-WFF )) such that L284: R7 = ( R10 => R11 ) by L283 , L109;
L285: ( <* 1 *> ^ ( ( R10 ^ R11 ) ^ R16 ) ) = ( ( <* 1 *> ^ ( R10 ^ R11 ) ) ^ R16 ) by FINSEQ_1:32
.= ( ( <* 1 *> ^ R8 ) ^ R9 ) by L246 , L281 , L284 , FINSEQ_1:32
.= ( <* 1 *> ^ ( R8 ^ R9 ) ) by FINSEQ_1:32;
L286: ( ( R10 ^ R11 ) ^ R16 ) = ( R8 ^ R9 ) by L285 , L25;
L287: ( R10 ^ ( R11 ^ R16 ) ) = ( R8 ^ R9 ) by L286 , FINSEQ_1:32;
L288:
now
per cases ;
suppose L289: ( len R8 ) <= ( len R10 );

L290: C33 = ( ( len R7 ) + ( len R16 ) ) by L245 , L246 , FINSEQ_1:22;
L291: ( len R7 ) <= C33 by L290 , NAT_1:11;
L292: ( len R10 ) < C33 by L291 , L284 , L237 , XXREAL_0:2;
L293: (ex R17 being FinSequence st ( R8 ^ R17 ) = R10) by L287 , L289 , FINSEQ_1:47;
L294: R8 = R10 by L293 , L244 , L292;
L295: ( R11 ^ R16 ) = R9 by L294 , L287 , FINSEQ_1:33;
L296: ( len R9 ) < C33 by L245 , L281 , L237;
L297: R11 = R9 by L296 , L244 , L295;
L298: R16 = ( {} ) by L297 , L295 , FINSEQ_1:87;
thus L299: thesis by L298 , L246 , FINSEQ_1:34;
end;
suppose L300: ( len R8 ) >= ( len R10 );

L301: (ex R17 being FinSequence st ( R10 ^ R17 ) = R8) by L300 , L287 , FINSEQ_1:47;
L302: ( len R8 ) < C33 by L245 , L281 , L237;
L303: R8 = R10 by L302 , L244 , L301;
L304: ( R11 ^ R16 ) = R9 by L303 , L287 , FINSEQ_1:33;
L305: ( len R9 ) < C33 by L245 , L281 , L237;
L306: R11 = R9 by L305 , L244 , L304;
L307: R16 = ( {} ) by L306 , L304 , FINSEQ_1:87;
thus L308: thesis by L307 , L246 , FINSEQ_1:34;
end;
end;
thus L310: thesis by L288;
end;
suppose L311: R6 is  simple;

L312: R7 <> ( {} ) by L154 , CARD_1:27;
L313: (ex R5 being (Element of ( NAT )) st R6 = ( prop R5 )) by L311 , L110;
thus L314: thesis by L313 , L246 , L312 , FINSEQ_1:88;
end;
suppose L315: R6 = ( VERUM );

L316: R7 <> ( {} ) by L154 , CARD_1:27;
thus L317: thesis by L316 , L246 , L315 , FINSEQ_1:88;
end;
end;
L319: (for B33 being Nat holds S3[ B33 ]) from NAT_1:sch 4(L243);
L320: ( len R6 ) = ( len R6 );
thus L321: thesis by L320 , L319;
end;
theorem
L322: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (for R8 being (Element of ( HP-WFF )) holds (for R9 being (Element of ( HP-WFF )) holds (( R6 ^ R7 ) = ( R8 ^ R9 ) implies (R6 = R8 & R7 = R9))))))
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
let R8 being (Element of ( HP-WFF ));
let R9 being (Element of ( HP-WFF ));
assume L323: ( R6 ^ R7 ) = ( R8 ^ R9 );
per cases ;
suppose L324: ( len R6 ) <= ( len R8 );

L325: (ex R16 being FinSequence st ( R6 ^ R16 ) = R8) by L324 , L323 , FINSEQ_1:47;
thus L326: R6 = R8 by L325 , L242;
thus L327: thesis by L326 , L323 , FINSEQ_1:33;
end;
suppose L328: ( len R6 ) >= ( len R8 );

L329: (ex R16 being FinSequence st ( R8 ^ R16 ) = R6) by L328 , L323 , FINSEQ_1:47;
thus L330: R6 = R8 by L329 , L242;
thus L331: thesis by L330 , L323 , FINSEQ_1:33;
end;
end;
theorem
L333: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (for R8 being (Element of ( HP-WFF )) holds (for R9 being (Element of ( HP-WFF )) holds (( R6 '&' R7 ) = ( R8 '&' R9 ) implies (R6 = R8 & R9 = R7))))))
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
let R8 being (Element of ( HP-WFF ));
let R9 being (Element of ( HP-WFF ));
assume L334: ( R6 '&' R7 ) = ( R8 '&' R9 );
L335: ( <* 2 *> ^ ( R6 ^ R7 ) ) = ( R8 '&' R9 ) by L334 , FINSEQ_1:32
.= ( <* 2 *> ^ ( R8 ^ R9 ) ) by FINSEQ_1:32;
L336: ( R6 ^ R7 ) = ( R8 ^ R9 ) by L335 , L25;
thus L337: thesis by L336 , L322;
end;
theorem
L338: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (for R8 being (Element of ( HP-WFF )) holds (for R9 being (Element of ( HP-WFF )) holds (( R6 => R7 ) = ( R8 => R9 ) implies (R6 = R8 & R9 = R7))))))
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
let R8 being (Element of ( HP-WFF ));
let R9 being (Element of ( HP-WFF ));
assume L339: ( R6 => R7 ) = ( R8 => R9 );
L340: ( <* 1 *> ^ ( R6 ^ R7 ) ) = ( R8 => R9 ) by L339 , FINSEQ_1:32
.= ( <* 1 *> ^ ( R8 ^ R9 ) ) by FINSEQ_1:32;
L341: ( R6 ^ R7 ) = ( R8 ^ R9 ) by L340 , L25;
thus L342: thesis by L341 , L322;
end;
theorem
L343: (for R4 being (Element of ( NAT )) holds (for R5 being (Element of ( NAT )) holds (( prop R5 ) = ( prop R4 ) implies R5 = R4)))
proof
let R4 being (Element of ( NAT ));
let R5 being (Element of ( NAT ));
assume L344: ( prop R5 ) = ( prop R4 );
L345: ( 3 + R5 ) = ( 3 + R4 ) by L344 , FINSEQ_1:76;
thus L346: thesis by L345;
end;
theorem
L347: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (for R8 being (Element of ( HP-WFF )) holds (for R9 being (Element of ( HP-WFF )) holds ( R6 '&' R7 ) <> ( R8 => R9 )))))
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
let R8 being (Element of ( HP-WFF ));
let R9 being (Element of ( HP-WFF ));
L348: ( R6 '&' R7 ) = ( <* 2 *> ^ ( R6 ^ R7 ) ) by FINSEQ_1:32;
L349: (( R8 => R9 ) = ( <* 1 *> ^ ( R8 ^ R9 ) ) & ( ( R6 '&' R7 ) . 1 ) = 2) by L348 , FINSEQ_1:32 , FINSEQ_1:41;
thus L350: thesis by L349 , FINSEQ_1:41;
end;
theorem
L351: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ( R6 '&' R7 ) <> ( VERUM )))
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
L352: ( R6 '&' R7 ) = ( <* 2 *> ^ ( R6 ^ R7 ) ) by FINSEQ_1:32;
L353: ( ( R6 '&' R7 ) . 1 ) = 2 by L352 , FINSEQ_1:41;
thus L354: thesis by L353 , FINSEQ_1:40;
end;
theorem
L355: (for R5 being (Element of ( NAT )) holds (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ( R6 '&' R7 ) <> ( prop R5 ))))
proof
let R5 being (Element of ( NAT ));
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
L356:
now
assume L357: 2 = ( ( 2 + 1 ) + R5 );
L358: ( 2 + ( 0 ) ) = ( 2 + ( 1 + R5 ) ) by L357;
thus L359: contradiction by L358;
end;
L360: ( R6 '&' R7 ) = ( <* 2 *> ^ ( R6 ^ R7 ) ) by FINSEQ_1:32;
L361: ( ( R6 '&' R7 ) . 1 ) = 2 by L360 , FINSEQ_1:41;
thus L362: thesis by L361 , L356 , FINSEQ_1:40;
end;
theorem
L363: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ( R6 => R7 ) <> ( VERUM )))
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
L364: ( R6 => R7 ) = ( <* 1 *> ^ ( R6 ^ R7 ) ) by FINSEQ_1:32;
L365: ( ( R6 => R7 ) . 1 ) = 1 by L364 , FINSEQ_1:41;
thus L366: thesis by L365 , FINSEQ_1:40;
end;
theorem
L367: (for R5 being (Element of ( NAT )) holds (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ( R6 => R7 ) <> ( prop R5 ))))
proof
let R5 being (Element of ( NAT ));
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
L368:
now
assume L369: 1 = ( ( 1 + 2 ) + R5 );
L370: ( 1 + ( 0 ) ) = ( 1 + ( 2 + R5 ) ) by L369;
thus L371: contradiction by L370;
end;
L372: ( R6 => R7 ) = ( <* 1 *> ^ ( R6 ^ R7 ) ) by FINSEQ_1:32;
L373: ( ( R6 => R7 ) . 1 ) = 1 by L372 , FINSEQ_1:41;
thus L374: thesis by L373 , L368 , FINSEQ_1:40;
end;
theorem
L375: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 '&' R7 ) <> R6 & ( R6 '&' R7 ) <> R7)))
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
L376: ( len R6 ) < ( len ( R6 '&' R7 ) ) by L232;
thus L377: thesis by L376 , L232;
end;
theorem
L378: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 => R7 ) <> R6 & ( R6 => R7 ) <> R7)))
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
L379: ( len R6 ) < ( len ( R6 => R7 ) ) by L237;
thus L380: thesis by L379 , L237;
end;
theorem
L381: (for R5 being (Element of ( NAT )) holds ( VERUM ) <> ( prop R5 ))
proof
let R5 being (Element of ( NAT ));
assume L382: (not thesis);
L383: ( ( VERUM ) . 1 ) = ( 0 ) by FINSEQ_1:40;
thus L384: contradiction by L383 , L382 , FINSEQ_1:40;
end;
begin
scheme HPMSSExL { F2() -> set , F3((Element of ( NAT ))) -> set , P3 , P4[(Element of ( HP-WFF )) , (Element of ( HP-WFF )) , set , set , set] } : (ex B34 being (ManySortedSet of ( HP-WFF )) st (( B34 . ( VERUM ) ) = F2() & (for R5 being (Element of ( NAT )) holds ( B34 . ( prop R5 ) ) = F3(R5)) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (P3[ R6 , R7 , ( B34 . R6 ) , ( B34 . R7 ) , ( B34 . ( R6 '&' R7 ) ) ] & P4[ R6 , R7 , ( B34 . R6 ) , ( B34 . R7 ) , ( B34 . ( R6 => R7 ) ) ])))))
provided
L385: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (for B35 , B36 being set holds (ex B37 being set st P3[ R6 , R7 , B35 , B36 , B37 ]))))
and
L386: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (for B38 , B39 being set holds (ex B40 being set st P4[ R6 , R7 , B38 , B39 , B40 ]))))
and
L387: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (for B41 , B42 , B43 , B44 being set holds ((P3[ R6 , R7 , B41 , B42 , B43 ] & P3[ R6 , R7 , B41 , B42 , B44 ]) implies B43 = B44))))
and
L388: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (for B45 , B46 , B47 , B48 being set holds ((P4[ R6 , R7 , B45 , B46 , B47 ] & P4[ R6 , R7 , B45 , B46 , B48 ]) implies B47 = B48))))
proof
defpred S4[ set , set ] means (($1 = ( VERUM ) implies $2 = F2()) & (for R5 being (Element of ( NAT )) holds ($1 = ( prop R5 ) implies $2 = F3(R5))));
set D15 = { ( prop R5 ) where R5 is (Element of ( NAT )) : (not contradiction) };
set D16 = { B49 where B49 is (Subset of ( HP-WFF )) : (( VERUM ) in B49 & (for R5 being (Element of ( NAT )) holds ( prop R5 ) in B49) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ((( R6 '&' R7 ) in B49 or ( R6 => R7 ) in B49) implies (R6 in B49 & R7 in B49)))) & (ex B50 being (ManySortedSet of B49) st (( B50 . ( VERUM ) ) = F2() & (for R5 being (Element of ( NAT )) holds ( B50 . ( prop R5 ) ) = F3(R5)) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 '&' R7 ) in B49 implies (for B51 , B52 , B53 being set holds ((B51 = ( B50 . R6 ) & B52 = ( B50 . R7 ) & B53 = ( B50 . ( R6 '&' R7 ) )) implies P3[ R6 , R7 , B51 , B52 , B53 ]))))) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 => R7 ) in B49 implies (for B54 , B55 , B56 being set holds ((B54 = ( B50 . R6 ) & B55 = ( B50 . R7 ) & B56 = ( B50 . ( R6 => R7 ) )) implies P4[ R6 , R7 , B54 , B55 , B56 ])))))))) };
L389: D15 c= ( HP-WFF )
proof
let C34 being set;
assume L390: C34 in D15;
L391: (ex R5 being (Element of ( NAT )) st C34 = ( prop R5 )) by L390;
thus L392: thesis by L391;
end;
L393: { ( VERUM ) } c= ( HP-WFF ) by ZFMISC_1:31;
reconsider D17 = ( D15 \/ { ( VERUM ) } ) as (Subset of ( HP-WFF )) by L393 , L389 , XBOOLE_1:8;
L394: (for B57 being set holds (B57 in D17 implies (ex B58 being set st S4[ B57 , B58 ])))
proof
let C35 being set;
assume L395: C35 in D17;
per cases  by L395 , XBOOLE_0:def 3;
suppose L396: C35 in D15;

consider R5 being (Element of ( NAT )) such that L397: C35 = ( prop R5 ) by L396;
take F3(R5);
thus L398: (C35 = ( VERUM ) implies F3(R5) = F2()) by L397 , L381;
let R3 being (Element of ( NAT ));
assume L399: C35 = ( prop R3 );
thus L400: thesis by L399 , L397 , L343;
end;
suppose L401: C35 in { ( VERUM ) };

take F2();
L402: C35 = ( VERUM ) by L401 , TARSKI:def 1;
thus L403: thesis by L402 , L381;
end;
end;
consider C36 being (ManySortedSet of D17) such that L405: (for B59 being set holds (B59 in D17 implies S4[ B59 , ( C36 . B59 ) ])) from PBOOLE:sch 3(L394);
L406: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ((not ( R6 '&' R7 ) in D17) & (not ( R6 => R7 ) in D17))))
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
assume L407: (not thesis);
per cases  by L407 , XBOOLE_0:def 3;
suppose L408: (( R6 '&' R7 ) in { ( VERUM ) } or ( R6 => R7 ) in { ( VERUM ) });

L409: (( R6 '&' R7 ) = ( VERUM ) or ( R6 => R7 ) = ( VERUM )) by L408 , TARSKI:def 1;
thus L410: contradiction by L409 , L351 , L363;
end;
suppose L411: ( R6 '&' R7 ) in D15;

L412: (ex R5 being (Element of ( NAT )) st ( R6 '&' R7 ) = ( prop R5 )) by L411;
thus L413: contradiction by L412 , L355;
end;
suppose L414: ( R6 => R7 ) in D15;

L415: (ex R5 being (Element of ( NAT )) st ( R6 => R7 ) = ( prop R5 )) by L414;
thus L416: contradiction by L415 , L367;
end;
end;
L418: ((for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ((( R6 '&' R7 ) in D17 or ( R6 => R7 ) in D17) implies (R6 in D17 & R7 in D17)))) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 '&' R7 ) in D17 implies (for B60 , B61 , B62 being set holds ((B60 = ( C36 . R6 ) & B61 = ( C36 . R7 ) & B62 = ( C36 . ( R6 '&' R7 ) )) implies P3[ R6 , R7 , B60 , B61 , B62 ])))))) by L406;
L419: (for R5 being (Element of ( NAT )) holds ( prop R5 ) in D17)
proof
let R3 being (Element of ( NAT ));
L420: ( prop R3 ) in D15;
thus L421: thesis by L420 , XBOOLE_0:def 3;
end;
L422: (for R5 being (Element of ( NAT )) holds ( C36 . ( prop R5 ) ) = F3(R5))
proof
let R5 being (Element of ( NAT ));
L423: ( prop R5 ) in D17 by L419;
thus L424: thesis by L423 , L405;
end;
L425: ( VERUM ) in { ( VERUM ) } by TARSKI:def 1;
L426: ( VERUM ) in D17 by L425 , XBOOLE_0:def 3;
L427: (for B63 being set holds ((B63 <> ( {} ) & B63 c= D16 & B63 is  c=-linear) implies ( union B63 ) in D16))
proof
defpred S5[ set , set ] means (ex B64 being (ManySortedSet of $1) st (B64 = $2 & ( B64 . ( VERUM ) ) = F2() & (for R5 being (Element of ( NAT )) holds ( B64 . ( prop R5 ) ) = F3(R5)) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 '&' R7 ) in $1 implies (for B65 , B66 , B67 being set holds ((B65 = ( B64 . R6 ) & B66 = ( B64 . R7 ) & B67 = ( B64 . ( R6 '&' R7 ) )) implies P3[ R6 , R7 , B65 , B66 , B67 ]))))) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 => R7 ) in $1 implies (for B68 , B69 , B70 being set holds ((B68 = ( B64 . R6 ) & B69 = ( B64 . R7 ) & B70 = ( B64 . ( R6 => R7 ) )) implies P4[ R6 , R7 , B68 , B69 , B70 ])))))));
let C37 being set;
assume that
L428: C37 <> ( {} )
and
L429: C37 c= D16
and
L430: C37 is  c=-linear;
L431: D16 c= ( bool ( HP-WFF ) )
proof
let C38 being set;
assume L432: C38 in D16;
L433: (ex B71 being (Subset of ( HP-WFF )) st (C38 = B71 & ( VERUM ) in B71 & (for R5 being (Element of ( NAT )) holds ( prop R5 ) in B71) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ((( R6 '&' R7 ) in B71 or ( R6 => R7 ) in B71) implies (R6 in B71 & R7 in B71)))) & (ex B72 being (ManySortedSet of B71) st (( B72 . ( VERUM ) ) = F2() & (for R5 being (Element of ( NAT )) holds ( B72 . ( prop R5 ) ) = F3(R5)) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 '&' R7 ) in B71 implies (for B73 , B74 , B75 being set holds ((B73 = ( B72 . R6 ) & B74 = ( B72 . R7 ) & B75 = ( B72 . ( R6 '&' R7 ) )) implies P3[ R6 , R7 , B73 , B74 , B75 ]))))) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 => R7 ) in B71 implies (for B76 , B77 , B78 being set holds ((B76 = ( B72 . R6 ) & B77 = ( B72 . R7 ) & B78 = ( B72 . ( R6 => R7 ) )) implies P4[ R6 , R7 , B76 , B77 , B78 ]))))))))) by L432;
thus L434: thesis by L433;
end;
reconsider D18 = ( union C37 ) as (Subset of ( HP-WFF )) by L431 , L429 , EQREL_1:61;
consider C39 being set such that L435: C39 in C37 by L428 , XBOOLE_0:def 1;
L436: (for B79 being set holds (B79 in C37 implies (ex B80 being set st S5[ B79 , B80 ])))
proof
let C40 being set;
assume L437: C40 in C37;
L438: C40 in D16 by L437 , L429;
consider C41 being (Subset of ( HP-WFF )) such that L439: C41 = C40 and L440: ( VERUM ) in C41 and L441: (for R5 being (Element of ( NAT )) holds ( prop R5 ) in C41) and L442: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ((( R6 '&' R7 ) in C41 or ( R6 => R7 ) in C41) implies (R6 in C41 & R7 in C41)))) and L443: (ex B81 being (ManySortedSet of C41) st (( B81 . ( VERUM ) ) = F2() & (for R5 being (Element of ( NAT )) holds ( B81 . ( prop R5 ) ) = F3(R5)) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 '&' R7 ) in C41 implies (for B82 , B83 , B84 being set holds ((B82 = ( B81 . R6 ) & B83 = ( B81 . R7 ) & B84 = ( B81 . ( R6 '&' R7 ) )) implies P3[ R6 , R7 , B82 , B83 , B84 ]))))) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 => R7 ) in C41 implies (for B85 , B86 , B87 being set holds ((B85 = ( B81 . R6 ) & B86 = ( B81 . R7 ) & B87 = ( B81 . ( R6 => R7 ) )) implies P4[ R6 , R7 , B85 , B86 , B87 ]))))))) by L438;
consider C42 being (ManySortedSet of C41) such that L444: (( C42 . ( VERUM ) ) = F2() & (for R5 being (Element of ( NAT )) holds ( C42 . ( prop R5 ) ) = F3(R5)) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 '&' R7 ) in C41 implies (for B88 , B89 , B90 being set holds ((B88 = ( C42 . R6 ) & B89 = ( C42 . R7 ) & B90 = ( C42 . ( R6 '&' R7 ) )) implies P3[ R6 , R7 , B88 , B89 , B90 ]))))) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 => R7 ) in C41 implies (for B91 , B92 , B93 being set holds ((B91 = ( C42 . R6 ) & B92 = ( C42 . R7 ) & B93 = ( C42 . ( R6 => R7 ) )) implies P4[ R6 , R7 , B91 , B92 , B93 ])))))) by L443;
take C42;
thus L445: thesis by L439 , L444;
end;
consider C43 being (ManySortedSet of C37) such that L446: (for B94 being set holds (B94 in C37 implies S5[ B94 , ( C43 . B94 ) ])) from PBOOLE:sch 3(L436);
L447: ( rng C43 ) is  functional
proof
let C44 being set;
assume L448: C44 in ( rng C43 );
consider C45 being set such that L449: C45 in ( dom C43 ) and L450: C44 = ( C43 . C45 ) by L448 , FUNCT_1:def 3;
L451: C45 in C37 by L449 , PARTFUN1:def 2;
L452: S5[ C45 , C44 ] by L451 , L446 , L450;
thus L453: thesis by L452;
end;
reconsider D19 = ( rng C43 ) as  functional set by L447;
L454: (for B95 , B96 being Function holds ((B95 in D19 & B96 in D19 & ( dom B95 ) c= ( dom B96 )) implies B95 tolerates B96))
proof
let C46 , C47 being Function;
assume L455: C46 in D19;
consider C48 being set such that L456: C48 in ( dom C43 ) and L457: C46 = ( C43 . C48 ) by L455 , FUNCT_1:def 3;
L458: C48 in C37 by L456 , PARTFUN1:def 2;
L459: (ex B97 being (ManySortedSet of C48) st (B97 = C46 & ( B97 . ( VERUM ) ) = F2() & (for R5 being (Element of ( NAT )) holds ( B97 . ( prop R5 ) ) = F3(R5)) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 '&' R7 ) in C48 implies (for B98 , B99 , B100 being set holds ((B98 = ( B97 . R6 ) & B99 = ( B97 . R7 ) & B100 = ( B97 . ( R6 '&' R7 ) )) implies P3[ R6 , R7 , B98 , B99 , B100 ]))))) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 => R7 ) in C48 implies (for B101 , B102 , B103 being set holds ((B101 = ( B97 . R6 ) & B102 = ( B97 . R7 ) & B103 = ( B97 . ( R6 => R7 ) )) implies P4[ R6 , R7 , B101 , B102 , B103 ]))))))) by L458 , L446 , L457;
L460: C48 = ( dom C46 ) by L459 , PARTFUN1:def 2;
assume L461: C47 in D19;
consider C49 being set such that L462: C49 in ( dom C43 ) and L463: C47 = ( C43 . C49 ) by L461 , FUNCT_1:def 3;
defpred S6[ (Element of ( HP-WFF )) ] means ($1 in C48 implies ( C46 . $1 ) = ( C47 . $1 ));
assume L464: ( dom C46 ) c= ( dom C47 );
L465: C49 in C37 by L462 , PARTFUN1:def 2;
L466: (ex B104 being (ManySortedSet of C49) st (B104 = C47 & ( B104 . ( VERUM ) ) = F2() & (for R5 being (Element of ( NAT )) holds ( B104 . ( prop R5 ) ) = F3(R5)) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 '&' R7 ) in C49 implies (for B105 , B106 , B107 being set holds ((B105 = ( B104 . R6 ) & B106 = ( B104 . R7 ) & B107 = ( B104 . ( R6 '&' R7 ) )) implies P3[ R6 , R7 , B105 , B106 , B107 ]))))) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 => R7 ) in C49 implies (for B108 , B109 , B110 being set holds ((B108 = ( B104 . R6 ) & B109 = ( B104 . R7 ) & B110 = ( B104 . ( R6 => R7 ) )) implies P4[ R6 , R7 , B108 , B109 , B110 ]))))))) by L465 , L446 , L463;
L467: (for R5 being (Element of ( NAT )) holds S6[ ( prop R5 ) ])
proof
let R5 being (Element of ( NAT ));
assume that
L468: ( prop R5 ) in C48;
thus L469: ( C46 . ( prop R5 ) ) = F3(R5) by L459
.= ( C47 . ( prop R5 ) ) by L466;
end;
L470: C48 in D16 by L429 , L458;
L471: (for R8 being (Element of ( HP-WFF )) holds (for R9 being (Element of ( HP-WFF )) holds ((S6[ R8 ] & S6[ R9 ]) implies (S6[ ( R8 '&' R9 ) ] & S6[ ( R8 => R9 ) ]))))
proof
L472: ((ex B111 being (Subset of ( HP-WFF )) st (B111 = C48 & ( VERUM ) in B111 & (for R5 being (Element of ( NAT )) holds ( prop R5 ) in B111) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ((( R6 '&' R7 ) in B111 or ( R6 => R7 ) in B111) implies (R6 in B111 & R7 in B111)))) & (ex B112 being (ManySortedSet of B111) st (( B112 . ( VERUM ) ) = F2() & (for R5 being (Element of ( NAT )) holds ( B112 . ( prop R5 ) ) = F3(R5)) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 '&' R7 ) in B111 implies (for B113 , B114 , B115 being set holds ((B113 = ( B112 . R6 ) & B114 = ( B112 . R7 ) & B115 = ( B112 . ( R6 '&' R7 ) )) implies P3[ R6 , R7 , B113 , B114 , B115 ]))))) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 => R7 ) in B111 implies (for B116 , B117 , B118 being set holds ((B116 = ( B112 . R6 ) & B117 = ( B112 . R7 ) & B118 = ( B112 . ( R6 => R7 ) )) implies P4[ R6 , R7 , B116 , B117 , B118 ]))))))))) & C48 c= C49) by L466 , L464 , L460 , L470 , PARTFUN1:def 2;
let R8 being (Element of ( HP-WFF ));
let R9 being (Element of ( HP-WFF ));
assume that
L473: ((R8 in C48 implies ( C46 . R8 ) = ( C47 . R8 )) & (R9 in C48 implies ( C46 . R9 ) = ( C47 . R9 )));
thus L474: (( R8 '&' R9 ) in C48 implies ( C46 . ( R8 '&' R9 ) ) = ( C47 . ( R8 '&' R9 ) ))
proof
assume L475: ( R8 '&' R9 ) in C48;
L476: (P3[ R8 , R9 , ( C47 . R8 ) , ( C47 . R9 ) , ( C46 . ( R8 '&' R9 ) ) ] & P3[ R8 , R9 , ( C47 . R8 ) , ( C47 . R9 ) , ( C47 . ( R8 '&' R9 ) ) ]) by L475 , L459 , L466 , L473 , L472;
thus L477: thesis by L476 , L387;
end;

thus L478: (( R8 => R9 ) in C48 implies ( C46 . ( R8 => R9 ) ) = ( C47 . ( R8 => R9 ) ))
proof
assume L479: ( R8 => R9 ) in C48;
L480: (P4[ R8 , R9 , ( C47 . R8 ) , ( C47 . R9 ) , ( C46 . ( R8 => R9 ) ) ] & P4[ R8 , R9 , ( C47 . R8 ) , ( C47 . R9 ) , ( C47 . ( R8 => R9 ) ) ]) by L479 , L459 , L466 , L473 , L472;
thus L481: thesis by L480 , L388;
end;

end;
let C50 being set;
assume L479: C50 in ( ( dom C46 ) /\ ( dom C47 ) );
L480: C50 in C48 by L479 , L464 , L460 , XBOOLE_1:28;
L481: S6[ ( VERUM ) ] by L459 , L466;
L482: (for R6 being (Element of ( HP-WFF )) holds S6[ R6 ]) from HPInd(L481 , L467 , L471);
thus L483: thesis by L482 , L431 , L480 , L470;
end;
L484: (for B119 , B120 being Function holds ((B119 in D19 & B120 in D19) implies B119 tolerates B120))
proof
let C51 , C52 being Function;
assume L485: C51 in D19;
consider C53 being set such that L486: C53 in ( dom C43 ) and L487: C51 = ( C43 . C53 ) by L485 , FUNCT_1:def 3;
L488: C53 in C37 by L486 , PARTFUN1:def 2;
L489: (ex B121 being (ManySortedSet of C53) st (B121 = C51 & ( B121 . ( VERUM ) ) = F2() & (for R5 being (Element of ( NAT )) holds ( B121 . ( prop R5 ) ) = F3(R5)) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 '&' R7 ) in C53 implies (for B122 , B123 , B124 being set holds ((B122 = ( B121 . R6 ) & B123 = ( B121 . R7 ) & B124 = ( B121 . ( R6 '&' R7 ) )) implies P3[ R6 , R7 , B122 , B123 , B124 ]))))) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 => R7 ) in C53 implies (for B125 , B126 , B127 being set holds ((B125 = ( B121 . R6 ) & B126 = ( B121 . R7 ) & B127 = ( B121 . ( R6 => R7 ) )) implies P4[ R6 , R7 , B125 , B126 , B127 ]))))))) by L488 , L446 , L487;
L490: C53 = ( dom C51 ) by L489 , PARTFUN1:def 2;
assume L491: C52 in D19;
consider C54 being set such that L492: C54 in ( dom C43 ) and L493: C52 = ( C43 . C54 ) by L491 , FUNCT_1:def 3;
L494: C54 in C37 by L492 , PARTFUN1:def 2;
L495: C53 , C54 are_c=-comparable  by L494 , L430 , L488 , ORDINAL1:def 8;
L496: (C53 c= C54 or C54 c= C53) by L495 , XBOOLE_0:def 9;
L497: (ex B128 being (ManySortedSet of C54) st (B128 = C52 & ( B128 . ( VERUM ) ) = F2() & (for R5 being (Element of ( NAT )) holds ( B128 . ( prop R5 ) ) = F3(R5)) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 '&' R7 ) in C54 implies (for B129 , B130 , B131 being set holds ((B129 = ( B128 . R6 ) & B130 = ( B128 . R7 ) & B131 = ( B128 . ( R6 '&' R7 ) )) implies P3[ R6 , R7 , B129 , B130 , B131 ]))))) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 => R7 ) in C54 implies (for B132 , B133 , B134 being set holds ((B132 = ( B128 . R6 ) & B133 = ( B128 . R7 ) & B134 = ( B128 . ( R6 => R7 ) )) implies P4[ R6 , R7 , B132 , B133 , B134 ]))))))) by L446 , L493 , L494;
L498: C54 = ( dom C52 ) by L497 , PARTFUN1:def 2;
thus L499: thesis by L498 , L454 , L485 , L491 , L490 , L496;
end;
L500: ( union D19 ) is Function by L484 , WELLFND1:1;
reconsider D20 = ( Union C43 ) as Function by L500 , CARD_3:def 4;
L501: (for B135 being set holds (B135 in C37 implies ( C43 . B135 ) is (ManySortedSet of B135)))
proof
let C55 being set;
assume L502: C55 in C37;
L503: S5[ C55 , ( C43 . C55 ) ] by L502 , L446;
thus L504: thesis by L503;
end;
L505: ( dom D20 ) = D18 by L501 , L1;
reconsider D21 = D20 as (ManySortedSet of D18) by L505 , PARTFUN1:def 2 , RELAT_1:def 18;
L506: D21 = ( union D19 ) by CARD_3:def 4;
L507: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 '&' R7 ) in D18 implies (for B136 , B137 , B138 being set holds ((B136 = ( D21 . R6 ) & B137 = ( D21 . R7 ) & B138 = ( D21 . ( R6 '&' R7 ) )) implies P3[ R6 , R7 , B136 , B137 , B138 ])))))
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
assume L508: ( R6 '&' R7 ) in D18;
consider C56 being set such that L509: ( R6 '&' R7 ) in C56 and L510: C56 in C37 by L508 , TARSKI:def 4;
L511: C56 in ( dom C43 ) by L510 , PARTFUN1:def 2;
L512: ( C43 . C56 ) in D19 by L511 , FUNCT_1:def 3;
L513: ( C43 . C56 ) c= D21 by L512 , L506 , ZFMISC_1:74;
let C57 , C58 , C59 being set;
assume that
L514: C57 = ( D21 . R6 )
and
L515: C58 = ( D21 . R7 )
and
L516: C59 = ( D21 . ( R6 '&' R7 ) );
consider C60 being (ManySortedSet of C56) such that L517: C60 = ( C43 . C56 ) and L518: ( C60 . ( VERUM ) ) = F2() and L519: (for R5 being (Element of ( NAT )) holds ( C60 . ( prop R5 ) ) = F3(R5)) and L520: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 '&' R7 ) in C56 implies (for B139 , B140 , B141 being set holds ((B139 = ( C60 . R6 ) & B140 = ( C60 . R7 ) & B141 = ( C60 . ( R6 '&' R7 ) )) implies P3[ R6 , R7 , B139 , B140 , B141 ]))))) and L521: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 => R7 ) in C56 implies (for B142 , B143 , B144 being set holds ((B142 = ( C60 . R6 ) & B143 = ( C60 . R7 ) & B144 = ( C60 . ( R6 => R7 ) )) implies P4[ R6 , R7 , B142 , B143 , B144 ]))))) by L446 , L510;
L522: ( R6 '&' R7 ) in ( dom C60 ) by L509 , PARTFUN1:def 2;
L523: C59 = ( C60 . ( R6 '&' R7 ) ) by L522 , L517 , L513 , L516 , GRFUNC_1:2;
L524: C56 in D16 by L429 , L510;
L525: (ex B145 being (Subset of ( HP-WFF )) st (C56 = B145 & ( VERUM ) in B145 & (for R5 being (Element of ( NAT )) holds ( prop R5 ) in B145) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ((( R6 '&' R7 ) in B145 or ( R6 => R7 ) in B145) implies (R6 in B145 & R7 in B145)))) & (ex B146 being (ManySortedSet of B145) st (( B146 . ( VERUM ) ) = F2() & (for R5 being (Element of ( NAT )) holds ( B146 . ( prop R5 ) ) = F3(R5)) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 '&' R7 ) in B145 implies (for B147 , B148 , B149 being set holds ((B147 = ( B146 . R6 ) & B148 = ( B146 . R7 ) & B149 = ( B146 . ( R6 '&' R7 ) )) implies P3[ R6 , R7 , B147 , B148 , B149 ]))))) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 => R7 ) in B145 implies (for B150 , B151 , B152 being set holds ((B150 = ( B146 . R6 ) & B151 = ( B146 . R7 ) & B152 = ( B146 . ( R6 => R7 ) )) implies P4[ R6 , R7 , B150 , B151 , B152 ]))))))))) by L524;
L526: R7 in C56 by L525 , L509;
L527: R7 in ( dom C60 ) by L526 , PARTFUN1:def 2;
L528: C58 = ( C60 . R7 ) by L527 , L517 , L513 , L515 , GRFUNC_1:2;
L529: R6 in C56 by L509 , L525;
L530: R6 in ( dom C60 ) by L529 , PARTFUN1:def 2;
L531: C57 = ( C60 . R6 ) by L530 , L517 , L513 , L514 , GRFUNC_1:2;
thus L532: thesis by L531 , L509 , L520 , L528 , L523;
end;
L533: C39 in ( dom C43 ) by L435 , PARTFUN1:def 2;
L534: ( C43 . C39 ) in D19 by L533 , FUNCT_1:def 3;
L535: ( C43 . C39 ) c= D21 by L534 , L506 , ZFMISC_1:74;
consider C61 being (ManySortedSet of C39) such that L536: C61 = ( C43 . C39 ) and L537: ( C61 . ( VERUM ) ) = F2() and L538: (for R5 being (Element of ( NAT )) holds ( C61 . ( prop R5 ) ) = F3(R5)) and L539: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 '&' R7 ) in C39 implies (for B153 , B154 , B155 being set holds ((B153 = ( C61 . R6 ) & B154 = ( C61 . R7 ) & B155 = ( C61 . ( R6 '&' R7 ) )) implies P3[ R6 , R7 , B153 , B154 , B155 ]))))) and L540: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 => R7 ) in C39 implies (for B156 , B157 , B158 being set holds ((B156 = ( C61 . R6 ) & B157 = ( C61 . R7 ) & B158 = ( C61 . ( R6 => R7 ) )) implies P4[ R6 , R7 , B156 , B157 , B158 ]))))) by L435 , L446;
L541: D17 c= C39
proof
let C62 being set;
L542: C39 in D16 by L429 , L435;
L543: (ex B159 being (Subset of ( HP-WFF )) st (B159 = C39 & ( VERUM ) in B159 & (for R5 being (Element of ( NAT )) holds ( prop R5 ) in B159) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ((( R6 '&' R7 ) in B159 or ( R6 => R7 ) in B159) implies (R6 in B159 & R7 in B159)))) & (ex B160 being (ManySortedSet of B159) st (( B160 . ( VERUM ) ) = F2() & (for R5 being (Element of ( NAT )) holds ( B160 . ( prop R5 ) ) = F3(R5)) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 '&' R7 ) in B159 implies (for B161 , B162 , B163 being set holds ((B161 = ( B160 . R6 ) & B162 = ( B160 . R7 ) & B163 = ( B160 . ( R6 '&' R7 ) )) implies P3[ R6 , R7 , B161 , B162 , B163 ]))))) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 => R7 ) in B159 implies (for B164 , B165 , B166 being set holds ((B164 = ( B160 . R6 ) & B165 = ( B160 . R7 ) & B166 = ( B160 . ( R6 => R7 ) )) implies P4[ R6 , R7 , B164 , B165 , B166 ]))))))))) by L542;
assume L544: C62 in D17;
per cases  by L544 , XBOOLE_0:def 3;
suppose L545: C62 in { ( VERUM ) };

thus L546: thesis by L545 , L543 , TARSKI:def 1;
end;
suppose L547: C62 in D15;

L548: (ex R5 being (Element of ( NAT )) st C62 = ( prop R5 )) by L547;
thus L549: thesis by L548 , L543;
end;
end;
L551: D17 c= ( dom C61 ) by L541 , PARTFUN1:def 2;
L552: (for R5 being (Element of ( NAT )) holds ( D21 . ( prop R5 ) ) = F3(R5))
proof
let R5 being (Element of ( NAT ));
L553: ( prop R5 ) in D17 by L419;
thus L554: ( D21 . ( prop R5 ) ) = ( C61 . ( prop R5 ) ) by L553 , L535 , L536 , L551 , GRFUNC_1:2
.= F3(R5) by L538;
end;
L555: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 => R7 ) in D18 implies (for B167 , B168 , B169 being set holds ((B167 = ( D21 . R6 ) & B168 = ( D21 . R7 ) & B169 = ( D21 . ( R6 => R7 ) )) implies P4[ R6 , R7 , B167 , B168 , B169 ])))))
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
assume L556: ( R6 => R7 ) in D18;
consider C63 being set such that L557: ( R6 => R7 ) in C63 and L558: C63 in C37 by L556 , TARSKI:def 4;
L559: C63 in ( dom C43 ) by L558 , PARTFUN1:def 2;
L560: ( C43 . C63 ) in D19 by L559 , FUNCT_1:def 3;
L561: ( C43 . C63 ) c= D21 by L560 , L506 , ZFMISC_1:74;
let C64 , C65 , C66 being set;
assume that
L562: C64 = ( D21 . R6 )
and
L563: C65 = ( D21 . R7 )
and
L564: C66 = ( D21 . ( R6 => R7 ) );
consider C67 being (ManySortedSet of C63) such that L565: C67 = ( C43 . C63 ) and L566: ( C67 . ( VERUM ) ) = F2() and L567: (for R5 being (Element of ( NAT )) holds ( C67 . ( prop R5 ) ) = F3(R5)) and L568: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 '&' R7 ) in C63 implies (for B170 , B171 , B172 being set holds ((B170 = ( C67 . R6 ) & B171 = ( C67 . R7 ) & B172 = ( C67 . ( R6 '&' R7 ) )) implies P3[ R6 , R7 , B170 , B171 , B172 ]))))) and L569: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 => R7 ) in C63 implies (for B173 , B174 , B175 being set holds ((B173 = ( C67 . R6 ) & B174 = ( C67 . R7 ) & B175 = ( C67 . ( R6 => R7 ) )) implies P4[ R6 , R7 , B173 , B174 , B175 ]))))) by L446 , L558;
L570: ( R6 => R7 ) in ( dom C67 ) by L557 , PARTFUN1:def 2;
L571: C66 = ( C67 . ( R6 => R7 ) ) by L570 , L565 , L561 , L564 , GRFUNC_1:2;
L572: C63 in D16 by L429 , L558;
L573: (ex B176 being (Subset of ( HP-WFF )) st (C63 = B176 & ( VERUM ) in B176 & (for R5 being (Element of ( NAT )) holds ( prop R5 ) in B176) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ((( R6 '&' R7 ) in B176 or ( R6 => R7 ) in B176) implies (R6 in B176 & R7 in B176)))) & (ex B177 being (ManySortedSet of B176) st (( B177 . ( VERUM ) ) = F2() & (for R5 being (Element of ( NAT )) holds ( B177 . ( prop R5 ) ) = F3(R5)) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 '&' R7 ) in B176 implies (for B178 , B179 , B180 being set holds ((B178 = ( B177 . R6 ) & B179 = ( B177 . R7 ) & B180 = ( B177 . ( R6 '&' R7 ) )) implies P3[ R6 , R7 , B178 , B179 , B180 ]))))) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 => R7 ) in B176 implies (for B181 , B182 , B183 being set holds ((B181 = ( B177 . R6 ) & B182 = ( B177 . R7 ) & B183 = ( B177 . ( R6 => R7 ) )) implies P4[ R6 , R7 , B181 , B182 , B183 ]))))))))) by L572;
L574: R7 in C63 by L573 , L557;
L575: R7 in ( dom C67 ) by L574 , PARTFUN1:def 2;
L576: C65 = ( C67 . R7 ) by L575 , L565 , L561 , L563 , GRFUNC_1:2;
L577: R6 in C63 by L557 , L573;
L578: R6 in ( dom C67 ) by L577 , PARTFUN1:def 2;
L579: C64 = ( C67 . R6 ) by L578 , L565 , L561 , L562 , GRFUNC_1:2;
thus L580: thesis by L579 , L557 , L569 , L576 , L571;
end;
L581: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ((( R6 '&' R7 ) in D18 or ( R6 => R7 ) in D18) implies (R6 in D18 & R7 in D18))))
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
assume L582: (( R6 '&' R7 ) in D18 or ( R6 => R7 ) in D18);
per cases  by L582;
suppose L583: ( R6 '&' R7 ) in D18;

consider C68 being set such that L584: ( R6 '&' R7 ) in C68 and L585: C68 in C37 by L583 , TARSKI:def 4;
L586: C68 in D16 by L429 , L585;
L587: (ex B184 being (Subset of ( HP-WFF )) st (C68 = B184 & ( VERUM ) in B184 & (for R5 being (Element of ( NAT )) holds ( prop R5 ) in B184) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ((( R6 '&' R7 ) in B184 or ( R6 => R7 ) in B184) implies (R6 in B184 & R7 in B184)))) & (ex B185 being (ManySortedSet of B184) st (( B185 . ( VERUM ) ) = F2() & (for R5 being (Element of ( NAT )) holds ( B185 . ( prop R5 ) ) = F3(R5)) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 '&' R7 ) in B184 implies (for B186 , B187 , B188 being set holds ((B186 = ( B185 . R6 ) & B187 = ( B185 . R7 ) & B188 = ( B185 . ( R6 '&' R7 ) )) implies P3[ R6 , R7 , B186 , B187 , B188 ]))))) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 => R7 ) in B184 implies (for B189 , B190 , B191 being set holds ((B189 = ( B185 . R6 ) & B190 = ( B185 . R7 ) & B191 = ( B185 . ( R6 => R7 ) )) implies P4[ R6 , R7 , B189 , B190 , B191 ]))))))))) by L586;
L588: (R6 in C68 & R7 in C68) by L587 , L584;
thus L589: thesis by L588 , L585 , TARSKI:def 4;
end;
suppose L590: ( R6 => R7 ) in D18;

consider C69 being set such that L591: ( R6 => R7 ) in C69 and L592: C69 in C37 by L590 , TARSKI:def 4;
L593: C69 in D16 by L429 , L592;
L594: (ex B192 being (Subset of ( HP-WFF )) st (C69 = B192 & ( VERUM ) in B192 & (for R5 being (Element of ( NAT )) holds ( prop R5 ) in B192) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ((( R6 '&' R7 ) in B192 or ( R6 => R7 ) in B192) implies (R6 in B192 & R7 in B192)))) & (ex B193 being (ManySortedSet of B192) st (( B193 . ( VERUM ) ) = F2() & (for R5 being (Element of ( NAT )) holds ( B193 . ( prop R5 ) ) = F3(R5)) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 '&' R7 ) in B192 implies (for B194 , B195 , B196 being set holds ((B194 = ( B193 . R6 ) & B195 = ( B193 . R7 ) & B196 = ( B193 . ( R6 '&' R7 ) )) implies P3[ R6 , R7 , B194 , B195 , B196 ]))))) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 => R7 ) in B192 implies (for B197 , B198 , B199 being set holds ((B197 = ( B193 . R6 ) & B198 = ( B193 . R7 ) & B199 = ( B193 . ( R6 => R7 ) )) implies P4[ R6 , R7 , B197 , B198 , B199 ]))))))))) by L593;
L595: (R6 in C69 & R7 in C69) by L594 , L591;
thus L596: thesis by L595 , L592 , TARSKI:def 4;
end;
end;
L598: C39 c= D18 by L435 , ZFMISC_1:74;
L599: D17 c= D18 by L598 , L541 , XBOOLE_1:1;
L600: (for R5 being (Element of ( NAT )) holds ( prop R5 ) in D18)
proof
let R5 being (Element of ( NAT ));
L601: ( prop R5 ) in D17 by L419;
thus L602: thesis by L601 , L599;
end;
L603: ( D21 . ( VERUM ) ) = F2() by L426 , L535 , L536 , L537 , L551 , GRFUNC_1:2;
thus L604: thesis by L603 , L426 , L599 , L600 , L581 , L552 , L507 , L555;
end;
L605: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 => R7 ) in D17 implies (for B200 , B201 , B202 being set holds ((B200 = ( C36 . R6 ) & B201 = ( C36 . R7 ) & B202 = ( C36 . ( R6 => R7 ) )) implies P4[ R6 , R7 , B200 , B201 , B202 ]))))) by L406;
L606: ( C36 . ( VERUM ) ) = F2() by L405 , L426;
L607: D17 in D16 by L606 , L426 , L419 , L422 , L418 , L605;
consider C70 being set such that L608: C70 in D16 and L609: (for B203 being set holds ((B203 in D16 & B203 <> C70) implies (not C70 c= B203))) by L607 , L427 , ORDERS_1:67;
consider C71 being (Subset of ( HP-WFF )) such that L610: C71 = C70 and L611: ( VERUM ) in C71 and L612: (for R5 being (Element of ( NAT )) holds ( prop R5 ) in C71) and L613: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ((( R6 '&' R7 ) in C71 or ( R6 => R7 ) in C71) implies (R6 in C71 & R7 in C71)))) and L614: (ex B204 being (ManySortedSet of C71) st (( B204 . ( VERUM ) ) = F2() & (for R5 being (Element of ( NAT )) holds ( B204 . ( prop R5 ) ) = F3(R5)) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 '&' R7 ) in C71 implies (for B205 , B206 , B207 being set holds ((B205 = ( B204 . R6 ) & B206 = ( B204 . R7 ) & B207 = ( B204 . ( R6 '&' R7 ) )) implies P3[ R6 , R7 , B205 , B206 , B207 ]))))) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 => R7 ) in C71 implies (for B208 , B209 , B210 being set holds ((B208 = ( B204 . R6 ) & B209 = ( B204 . R7 ) & B210 = ( B204 . ( R6 => R7 ) )) implies P4[ R6 , R7 , B208 , B209 , B210 ]))))))) by L608;
consider C72 being (ManySortedSet of C71) such that L615: ( C72 . ( VERUM ) ) = F2() and L616: (for R5 being (Element of ( NAT )) holds ( C72 . ( prop R5 ) ) = F3(R5)) and L617: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 '&' R7 ) in C71 implies (for B211 , B212 , B213 being set holds ((B211 = ( C72 . R6 ) & B212 = ( C72 . R7 ) & B213 = ( C72 . ( R6 '&' R7 ) )) implies P3[ R6 , R7 , B211 , B212 , B213 ]))))) and L618: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 => R7 ) in C71 implies (for B214 , B215 , B216 being set holds ((B214 = ( C72 . R6 ) & B215 = ( C72 . R7 ) & B216 = ( C72 . ( R6 => R7 ) )) implies P4[ R6 , R7 , B214 , B215 , B216 ]))))) by L614;
L619: C71 = ( HP-WFF )
proof
defpred S7[ (Element of ( HP-WFF )) ] means $1 in C71;
L620: (for R5 being (Element of ( NAT )) holds S7[ ( prop R5 ) ]) by L612;
L621: (for R8 being (Element of ( HP-WFF )) holds (for R9 being (Element of ( HP-WFF )) holds ((S7[ R8 ] & S7[ R9 ]) implies (S7[ ( R8 '&' R9 ) ] & S7[ ( R8 => R9 ) ]))))
proof
let R8 being (Element of ( HP-WFF ));
let R9 being (Element of ( HP-WFF ));
assume that
L622: (R8 in C71 & R9 in C71);
assume L623: (not thesis);
per cases  by L623;
suppose L624: (not ( R8 '&' R9 ) in C71);

L625: { ( R8 '&' R9 ) } c= ( HP-WFF ) by ZFMISC_1:31;
reconsider D22 = ( C71 \/ { ( R8 '&' R9 ) } ) as (Subset of ( HP-WFF )) by L625 , XBOOLE_1:8;
consider C73 being set such that L626: P3[ R8 , R9 , ( C72 . R8 ) , ( C72 . R9 ) , C73 ] by L385;
set D23 = ( C72 +* ( ( R8 '&' R9 ) .--> C73 ) );
L627: ( dom ( ( R8 '&' R9 ) .--> C73 ) ) = { ( R8 '&' R9 ) } by FUNCOP_1:13;
L628: ( dom C72 ) = C71 by PARTFUN1:def 2;
L629: ( dom D23 ) = D22 by L628 , L627 , FUNCT_4:def 1;
reconsider D24 = D23 as (ManySortedSet of D22) by L629 , PARTFUN1:def 2 , RELAT_1:def 18;
L630: ( R8 '&' R9 ) in { ( R8 '&' R9 ) } by TARSKI:def 1;
L631: ( R8 '&' R9 ) in D22 by L630 , XBOOLE_0:def 3;
L632: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 => R7 ) in D22 implies (for B217 , B218 , B219 being set holds ((B217 = ( D24 . R6 ) & B218 = ( D24 . R7 ) & B219 = ( D24 . ( R6 => R7 ) )) implies P4[ R6 , R7 , B217 , B218 , B219 ])))))
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
assume that
L633: ( R6 => R7 ) in D22;
L634: ( R6 => R7 ) <> ( R8 '&' R9 ) by L347;
L635: (not ( R6 => R7 ) in { ( R8 '&' R9 ) }) by L634 , TARSKI:def 1;
L636: ( R6 => R7 ) in C71 by L635 , L633 , XBOOLE_0:def 3;
L637: R6 in C71 by L636 , L613;
L638: (not R6 in { ( R8 '&' R9 ) }) by L637 , L624 , TARSKI:def 1;
L639: ( D24 . R6 ) = ( C72 . R6 ) by L638 , L627 , FUNCT_4:11;
L640: R7 in C71 by L613 , L636;
L641: (not R7 in { ( R8 '&' R9 ) }) by L640 , L624 , TARSKI:def 1;
L642: ( D24 . R7 ) = ( C72 . R7 ) by L641 , L627 , FUNCT_4:11;
L643: ( D24 . ( R6 => R7 ) ) = ( C72 . ( R6 => R7 ) ) by L627 , L635 , FUNCT_4:11;
let C74 , C75 , C76 being set;
assume L644: (C74 = ( D24 . R6 ) & C75 = ( D24 . R7 ) & C76 = ( D24 . ( R6 => R7 ) ));
thus L645: thesis by L644 , L618 , L636 , L639 , L642 , L643;
end;
L646: (for R5 being (Element of ( NAT )) holds ( D24 . ( prop R5 ) ) = F3(R5))
proof
let R5 being (Element of ( NAT ));
L647: ( prop R5 ) <> ( R8 '&' R9 ) by L355;
L648: (not ( prop R5 ) in { ( R8 '&' R9 ) }) by L647 , TARSKI:def 1;
thus L649: ( D24 . ( prop R5 ) ) = ( C72 . ( prop R5 ) ) by L648 , L627 , FUNCT_4:11
.= F3(R5) by L616;
end;
L650: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 '&' R7 ) in D22 implies (for B220 , B221 , B222 being set holds ((B220 = ( D24 . R6 ) & B221 = ( D24 . R7 ) & B222 = ( D24 . ( R6 '&' R7 ) )) implies P3[ R6 , R7 , B220 , B221 , B222 ])))))
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
assume that
L651: ( R6 '&' R7 ) in D22;
let C77 , C78 , C79 being set;
assume that
L652: (C77 = ( D24 . R6 ) & C78 = ( D24 . R7 ) & C79 = ( D24 . ( R6 '&' R7 ) ));
per cases ;
suppose L653: ( R6 '&' R7 ) = ( R8 '&' R9 );

L654: R7 <> ( R6 '&' R7 ) by L375;
L655: (not R7 in { ( R8 '&' R9 ) }) by L654 , L653 , TARSKI:def 1;
L656: ( D24 . R7 ) = ( C72 . R7 ) by L655 , L627 , FUNCT_4:11;
L657: R6 <> ( R6 '&' R7 ) by L375;
L658: (not R6 in { ( R8 '&' R9 ) }) by L657 , L653 , TARSKI:def 1;
L659: ( D24 . R6 ) = ( C72 . R6 ) by L658 , L627 , FUNCT_4:11;
L660: ( R6 '&' R7 ) in { ( R8 '&' R9 ) } by L653 , TARSKI:def 1;
L661: ( D24 . ( R6 '&' R7 ) ) = ( ( ( R8 '&' R9 ) .--> C73 ) . ( R6 '&' R7 ) ) by L660 , L627 , FUNCT_4:13;
L662: (R6 = R8 & R7 = R9) by L653 , L333;
thus L663: thesis by L662 , L626 , L652 , L659 , L656 , L661 , FUNCOP_1:72;
end;
suppose L664: ( R6 '&' R7 ) <> ( R8 '&' R9 );

L665: (not ( R6 '&' R7 ) in { ( R8 '&' R9 ) }) by L664 , TARSKI:def 1;
L666: ( R6 '&' R7 ) in C71 by L665 , L651 , XBOOLE_0:def 3;
L667: R6 in C71 by L666 , L613;
L668: (not R6 in { ( R8 '&' R9 ) }) by L667 , L624 , TARSKI:def 1;
L669: ( D24 . R6 ) = ( C72 . R6 ) by L668 , L627 , FUNCT_4:11;
L670: R7 in C71 by L613 , L666;
L671: (not R7 in { ( R8 '&' R9 ) }) by L670 , L624 , TARSKI:def 1;
L672: ( D24 . R7 ) = ( C72 . R7 ) by L671 , L627 , FUNCT_4:11;
L673: ( D24 . ( R6 '&' R7 ) ) = ( C72 . ( R6 '&' R7 ) ) by L627 , L665 , FUNCT_4:11;
thus L674: thesis by L673 , L617 , L652 , L666 , L669 , L672;
end;
end;
L676: C71 c= D22 by XBOOLE_1:7;
L677:
now
let R5 being (Element of ( NAT ));
L678: ( prop R5 ) in C71 by L612;
thus L679: ( prop R5 ) in D22 by L678 , L676;
end;
L680: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ((( R6 '&' R7 ) in D22 or ( R6 => R7 ) in D22) implies (R6 in D22 & R7 in D22))))
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
assume that
L681: (( R6 '&' R7 ) in D22 or ( R6 => R7 ) in D22);
per cases  by L681;
suppose L682: ( R6 '&' R7 ) = ( R8 '&' R9 );

L683: (R6 = R8 & R7 = R9) by L682 , L333;
thus L684: thesis by L683 , L622 , L676;
end;
suppose that L685: ( R6 '&' R7 ) in D22
and
L686: ( R6 '&' R7 ) <> ( R8 '&' R9 );
L687: (not ( R6 '&' R7 ) in { ( R8 '&' R9 ) }) by L686 , TARSKI:def 1;
L688: ( R6 '&' R7 ) in C71 by L687 , L685 , XBOOLE_0:def 3;
L689: (R6 in C71 & R7 in C71) by L688 , L613;
thus L690: thesis by L689 , L676;
end;
suppose L691: ( R6 => R7 ) in D22;

L692: ( R6 => R7 ) <> ( R8 '&' R9 ) by L347;
L693: (not ( R6 => R7 ) in { ( R8 '&' R9 ) }) by L692 , TARSKI:def 1;
L694: ( R6 => R7 ) in C71 by L693 , L691 , XBOOLE_0:def 3;
L695: (R6 in C71 & R7 in C71) by L694 , L613;
thus L696: thesis by L695 , L676;
end;
end;
L698: ( VERUM ) <> ( R8 '&' R9 ) by L351;
L699: (not ( VERUM ) in { ( R8 '&' R9 ) }) by L698 , TARSKI:def 1;
L700: ( D24 . ( VERUM ) ) = F2() by L699 , L615 , L627 , FUNCT_4:11;
L701: D22 in D16 by L700 , L611 , L676 , L677 , L680 , L646 , L650 , L632;
thus L702: contradiction by L701 , L609 , L610 , L624 , L631 , XBOOLE_1:7;
end;
suppose L703: (not ( R8 => R9 ) in C71);

L704: { ( R8 => R9 ) } c= ( HP-WFF ) by ZFMISC_1:31;
reconsider D25 = ( C71 \/ { ( R8 => R9 ) } ) as (Subset of ( HP-WFF )) by L704 , XBOOLE_1:8;
consider C80 being set such that L705: P4[ R8 , R9 , ( C72 . R8 ) , ( C72 . R9 ) , C80 ] by L386;
set D26 = ( C72 +* ( ( R8 => R9 ) .--> C80 ) );
L706: ( dom ( ( R8 => R9 ) .--> C80 ) ) = { ( R8 => R9 ) } by FUNCOP_1:13;
L707: ( dom C72 ) = C71 by PARTFUN1:def 2;
L708: ( dom D26 ) = D25 by L707 , L706 , FUNCT_4:def 1;
reconsider D27 = D26 as (ManySortedSet of D25) by L708 , PARTFUN1:def 2 , RELAT_1:def 18;
L709: ( R8 => R9 ) in { ( R8 => R9 ) } by TARSKI:def 1;
L710: ( R8 => R9 ) in D25 by L709 , XBOOLE_0:def 3;
L711: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 '&' R7 ) in D25 implies (for B223 , B224 , B225 being set holds ((B223 = ( D27 . R6 ) & B224 = ( D27 . R7 ) & B225 = ( D27 . ( R6 '&' R7 ) )) implies P3[ R6 , R7 , B223 , B224 , B225 ])))))
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
assume that
L712: ( R6 '&' R7 ) in D25;
L713: ( R6 '&' R7 ) <> ( R8 => R9 ) by L347;
L714: (not ( R6 '&' R7 ) in { ( R8 => R9 ) }) by L713 , TARSKI:def 1;
L715: ( R6 '&' R7 ) in C71 by L714 , L712 , XBOOLE_0:def 3;
L716: R6 in C71 by L715 , L613;
L717: (not R6 in { ( R8 => R9 ) }) by L716 , L703 , TARSKI:def 1;
L718: ( D27 . R6 ) = ( C72 . R6 ) by L717 , L706 , FUNCT_4:11;
L719: R7 in C71 by L613 , L715;
L720: (not R7 in { ( R8 => R9 ) }) by L719 , L703 , TARSKI:def 1;
L721: ( D27 . R7 ) = ( C72 . R7 ) by L720 , L706 , FUNCT_4:11;
L722: ( D27 . ( R6 '&' R7 ) ) = ( C72 . ( R6 '&' R7 ) ) by L706 , L714 , FUNCT_4:11;
let C81 , C82 , C83 being set;
assume L723: (C81 = ( D27 . R6 ) & C82 = ( D27 . R7 ) & C83 = ( D27 . ( R6 '&' R7 ) ));
thus L724: thesis by L723 , L617 , L715 , L718 , L721 , L722;
end;
L725: (for R5 being (Element of ( NAT )) holds ( D27 . ( prop R5 ) ) = F3(R5))
proof
let R5 being (Element of ( NAT ));
L726: ( prop R5 ) <> ( R8 => R9 ) by L367;
L727: (not ( prop R5 ) in { ( R8 => R9 ) }) by L726 , TARSKI:def 1;
thus L728: ( D27 . ( prop R5 ) ) = ( C72 . ( prop R5 ) ) by L727 , L706 , FUNCT_4:11
.= F3(R5) by L616;
end;
L729: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( R6 => R7 ) in D25 implies (for B226 , B227 , B228 being set holds ((B226 = ( D27 . R6 ) & B227 = ( D27 . R7 ) & B228 = ( D27 . ( R6 => R7 ) )) implies P4[ R6 , R7 , B226 , B227 , B228 ])))))
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
assume that
L730: ( R6 => R7 ) in D25;
let C84 , C85 , C86 being set;
assume that
L731: (C84 = ( D27 . R6 ) & C85 = ( D27 . R7 ) & C86 = ( D27 . ( R6 => R7 ) ));
per cases ;
suppose L732: ( R6 => R7 ) = ( R8 => R9 );

L733: R7 <> ( R6 => R7 ) by L378;
L734: (not R7 in { ( R8 => R9 ) }) by L733 , L732 , TARSKI:def 1;
L735: ( D27 . R7 ) = ( C72 . R7 ) by L734 , L706 , FUNCT_4:11;
L736: R6 <> ( R6 => R7 ) by L378;
L737: (not R6 in { ( R8 => R9 ) }) by L736 , L732 , TARSKI:def 1;
L738: ( D27 . R6 ) = ( C72 . R6 ) by L737 , L706 , FUNCT_4:11;
L739: ( R6 => R7 ) in { ( R8 => R9 ) } by L732 , TARSKI:def 1;
L740: ( D27 . ( R6 => R7 ) ) = ( ( ( R8 => R9 ) .--> C80 ) . ( R6 => R7 ) ) by L739 , L706 , FUNCT_4:13;
L741: (R6 = R8 & R7 = R9) by L732 , L338;
thus L742: thesis by L741 , L705 , L731 , L738 , L735 , L740 , FUNCOP_1:72;
end;
suppose L743: ( R6 => R7 ) <> ( R8 => R9 );

L744: (not ( R6 => R7 ) in { ( R8 => R9 ) }) by L743 , TARSKI:def 1;
L745: ( R6 => R7 ) in C71 by L744 , L730 , XBOOLE_0:def 3;
L746: R6 in C71 by L745 , L613;
L747: (not R6 in { ( R8 => R9 ) }) by L746 , L703 , TARSKI:def 1;
L748: ( D27 . R6 ) = ( C72 . R6 ) by L747 , L706 , FUNCT_4:11;
L749: R7 in C71 by L613 , L745;
L750: (not R7 in { ( R8 => R9 ) }) by L749 , L703 , TARSKI:def 1;
L751: ( D27 . R7 ) = ( C72 . R7 ) by L750 , L706 , FUNCT_4:11;
L752: ( D27 . ( R6 => R7 ) ) = ( C72 . ( R6 => R7 ) ) by L706 , L744 , FUNCT_4:11;
thus L753: thesis by L752 , L618 , L731 , L745 , L748 , L751;
end;
end;
L755: C71 c= D25 by XBOOLE_1:7;
L756:
now
let R5 being (Element of ( NAT ));
L757: ( prop R5 ) in C71 by L612;
thus L758: ( prop R5 ) in D25 by L757 , L755;
end;
L759: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ((( R6 '&' R7 ) in D25 or ( R6 => R7 ) in D25) implies (R6 in D25 & R7 in D25))))
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
assume that
L760: (( R6 '&' R7 ) in D25 or ( R6 => R7 ) in D25);
per cases  by L760;
suppose L761: ( R6 => R7 ) = ( R8 => R9 );

L762: (R6 = R8 & R7 = R9) by L761 , L338;
thus L763: thesis by L762 , L622 , L755;
end;
suppose that L764: ( R6 => R7 ) in D25
and
L765: ( R6 => R7 ) <> ( R8 => R9 );
L766: (not ( R6 => R7 ) in { ( R8 => R9 ) }) by L765 , TARSKI:def 1;
L767: ( R6 => R7 ) in C71 by L766 , L764 , XBOOLE_0:def 3;
L768: (R6 in C71 & R7 in C71) by L767 , L613;
thus L769: thesis by L768 , L755;
end;
suppose L770: ( R6 '&' R7 ) in D25;

L771: ( R6 '&' R7 ) <> ( R8 => R9 ) by L347;
L772: (not ( R6 '&' R7 ) in { ( R8 => R9 ) }) by L771 , TARSKI:def 1;
L773: ( R6 '&' R7 ) in C71 by L772 , L770 , XBOOLE_0:def 3;
L774: (R6 in C71 & R7 in C71) by L773 , L613;
thus L775: thesis by L774 , L755;
end;
end;
L777: ( VERUM ) <> ( R8 => R9 ) by L363;
L778: (not ( VERUM ) in { ( R8 => R9 ) }) by L777 , TARSKI:def 1;
L779: ( D27 . ( VERUM ) ) = F2() by L778 , L615 , L706 , FUNCT_4:11;
L780: D25 in D16 by L779 , L611 , L755 , L756 , L759 , L725 , L729 , L711;
thus L781: contradiction by L780 , L609 , L610 , L703 , L710 , XBOOLE_1:7;
end;
end;
L783: S7[ ( VERUM ) ] by L611;
L784: (for R9 being (Element of ( HP-WFF )) holds S7[ R9 ]) from HPInd(L783 , L620 , L621);
thus L785: thesis by L784 , SUBSET_1:28;
end;
reconsider D28 = C72 as (ManySortedSet of ( HP-WFF )) by L619;
take D28;
thus L786: thesis by L615 , L616 , L617 , L618 , L619;
end;
scheme HPMSSLambda { F4() -> set , F5((Element of ( NAT ))) -> set , F6 , F7(set , set) -> set } : (ex B229 being (ManySortedSet of ( HP-WFF )) st (( B229 . ( VERUM ) ) = F4() & (for R5 being (Element of ( NAT )) holds ( B229 . ( prop R5 ) ) = F5(R5)) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (( B229 . ( R6 '&' R7 ) ) = F6(( B229 . R6 ) , ( B229 . R7 )) & ( B229 . ( R6 => R7 ) ) = F7(( B229 . R6 ) , ( B229 . R7 )))))))
proof
defpred S8[ (Element of ( HP-WFF )) , (Element of ( HP-WFF )) , set , set , set ] means $5 = F7($3 , $4);
defpred S9[ (Element of ( HP-WFF )) , (Element of ( HP-WFF )) , set , set , set ] means $5 = F6($3 , $4);
L787: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (for B230 , B231 being set holds (ex B232 being set st S8[ R6 , R7 , B230 , B231 , B232 ]))));
L788: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (for B233 , B234 , B235 , B236 being set holds ((S9[ R6 , R7 , B233 , B234 , B235 ] & S9[ R6 , R7 , B233 , B234 , B236 ]) implies B235 = B236))));
L789: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (for B237 , B238 , B239 , B240 being set holds ((S8[ R6 , R7 , B237 , B238 , B239 ] & S8[ R6 , R7 , B237 , B238 , B240 ]) implies B239 = B240))));
L790: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (for B241 , B242 being set holds (ex B243 being set st S9[ R6 , R7 , B241 , B242 , B243 ]))));
consider C87 being (ManySortedSet of ( HP-WFF )) such that L791: ( C87 . ( VERUM ) ) = F4() and L792: (for R5 being (Element of ( NAT )) holds ( C87 . ( prop R5 ) ) = F5(R5)) and L793: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (S9[ R6 , R7 , ( C87 . R6 ) , ( C87 . R7 ) , ( C87 . ( R6 '&' R7 ) ) ] & S8[ R6 , R7 , ( C87 . R6 ) , ( C87 . R7 ) , ( C87 . ( R6 => R7 ) ) ]))) from HPMSSExL(L790 , L787 , L788 , L789);
take C87;
thus L794: ( C87 . ( VERUM ) ) = F4() by L791;
thus L795: (for R5 being (Element of ( NAT )) holds ( C87 . ( prop R5 ) ) = F5(R5)) by L792;
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
set D29 = ( C87 . R6 );
set D30 = ( C87 . R7 );
thus L796: ( C87 . ( R6 '&' R7 ) ) = F6(D29 , D30) by L793;
thus L797: thesis by L793;
end;
begin
definition
func HP-Subformulae -> (ManySortedSet of ( HP-WFF )) means 
:L798: (( it . ( VERUM ) ) = ( root-tree ( VERUM ) ) & (for R5 being (Element of ( NAT )) holds ( it . ( prop R5 ) ) = ( root-tree ( prop R5 ) )) & (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (ex B244 , B245 being (DecoratedTree of ( HP-WFF )) st (B244 = ( it . R6 ) & B245 = ( it . R7 ) & ( it . ( R6 '&' R7 ) ) = ( ( R6 '&' R7 ) -tree (B244 , B245) ) & ( it . ( R6 => R7 ) ) = ( ( R6 => R7 ) -tree (B244 , B245) ))))));
existence
proof
deffunc H1((Element of ( NAT ))) = ( root-tree ( prop $1 ) );
defpred S10[ (Element of ( HP-WFF )) , (Element of ( HP-WFF )) , set , set , set ] means ((($3 is (DecoratedTree of ( HP-WFF )) & $4 is (DecoratedTree of ( HP-WFF ))) implies (ex B246 , B247 being (DecoratedTree of ( HP-WFF )) st (B246 = $3 & B247 = $4 & $5 = ( ( $1 => $2 ) -tree (B246 , B247) )))) & (((not $3 is (DecoratedTree of ( HP-WFF ))) or (not $4 is (DecoratedTree of ( HP-WFF )))) implies $5 = ( {} )));
defpred S11[ (Element of ( HP-WFF )) , (Element of ( HP-WFF )) , set , set , set ] means ((($3 is (DecoratedTree of ( HP-WFF )) & $4 is (DecoratedTree of ( HP-WFF ))) implies (ex B248 , B249 being (DecoratedTree of ( HP-WFF )) st (B248 = $3 & B249 = $4 & $5 = ( ( $1 '&' $2 ) -tree (B248 , B249) )))) & (((not $3 is (DecoratedTree of ( HP-WFF ))) or (not $4 is (DecoratedTree of ( HP-WFF )))) implies $5 = ( {} )));
L799: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (for B250 , B251 being set holds (ex B252 being set st S11[ R6 , R7 , B250 , B251 , B252 ]))))
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
let C88 , C89 being set;
per cases ;
suppose that L800: C88 is (DecoratedTree of ( HP-WFF ))
and
L801: C89 is (DecoratedTree of ( HP-WFF ));
reconsider D31 = C89 as (DecoratedTree of ( HP-WFF )) by L801;
reconsider D32 = C88 as (DecoratedTree of ( HP-WFF )) by L800;
take ( ( R6 '&' R7 ) -tree (D32 , D31) );
thus L802: thesis;
end;
suppose L803: ((not C88 is (DecoratedTree of ( HP-WFF ))) or (not C89 is (DecoratedTree of ( HP-WFF ))));

thus L804: thesis by L803;
end;
end;
L806: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (for B253 , B254 being set holds (ex B255 being set st S10[ R6 , R7 , B253 , B254 , B255 ]))))
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
let C90 , C91 being set;
per cases ;
suppose that L807: C90 is (DecoratedTree of ( HP-WFF ))
and
L808: C91 is (DecoratedTree of ( HP-WFF ));
reconsider D33 = C91 as (DecoratedTree of ( HP-WFF )) by L808;
reconsider D34 = C90 as (DecoratedTree of ( HP-WFF )) by L807;
take ( ( R6 => R7 ) -tree (D34 , D33) );
thus L809: thesis;
end;
suppose L810: ((not C90 is (DecoratedTree of ( HP-WFF ))) or (not C91 is (DecoratedTree of ( HP-WFF ))));

thus L811: thesis by L810;
end;
end;
L813: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (for B256 , B257 , B258 , B259 being set holds ((S10[ R6 , R7 , B256 , B257 , B258 ] & S10[ R6 , R7 , B256 , B257 , B259 ]) implies B258 = B259))));
L814: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (for B260 , B261 , B262 , B263 being set holds ((S11[ R6 , R7 , B260 , B261 , B262 ] & S11[ R6 , R7 , B260 , B261 , B263 ]) implies B262 = B263))));
consider C92 being (ManySortedSet of ( HP-WFF )) such that L815: ( C92 . ( VERUM ) ) = ( root-tree ( VERUM ) ) and L816: (for R5 being (Element of ( NAT )) holds ( C92 . ( prop R5 ) ) = H1(R5)) and L817: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (S11[ R6 , R7 , ( C92 . R6 ) , ( C92 . R7 ) , ( C92 . ( R6 '&' R7 ) ) ] & S10[ R6 , R7 , ( C92 . R6 ) , ( C92 . R7 ) , ( C92 . ( R6 => R7 ) ) ]))) from HPMSSExL(L799 , L806 , L814 , L813);
take C92;
thus L818: ( C92 . ( VERUM ) ) = ( root-tree ( VERUM ) ) by L815;
thus L819: (for R5 being (Element of ( NAT )) holds ( C92 . ( prop R5 ) ) = ( root-tree ( prop R5 ) )) by L816;
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
L820: (S11[ R6 , R7 , ( C92 . R6 ) , ( C92 . R7 ) , ( C92 . ( R6 '&' R7 ) ) ] & S10[ R6 , R7 , ( C92 . R6 ) , ( C92 . R7 ) , ( C92 . ( R6 => R7 ) ) ]) by L817;
defpred S12[ (Element of ( HP-WFF )) ] means ( C92 . $1 ) is (DecoratedTree of ( HP-WFF ));
L821: (for R8 being (Element of ( HP-WFF )) holds (for R9 being (Element of ( HP-WFF )) holds ((S12[ R8 ] & S12[ R9 ]) implies (S12[ ( R8 '&' R9 ) ] & S12[ ( R8 => R9 ) ]))))
proof
let R8 being (Element of ( HP-WFF ));
let R9 being (Element of ( HP-WFF ));
assume that
L822: (( C92 . R8 ) is (DecoratedTree of ( HP-WFF )) & ( C92 . R9 ) is (DecoratedTree of ( HP-WFF )));
L823: S11[ R8 , R9 , ( C92 . R8 ) , ( C92 . R9 ) , ( C92 . ( R8 '&' R9 ) ) ] by L817;
thus L824: ( C92 . ( R8 '&' R9 ) ) is (DecoratedTree of ( HP-WFF )) by L823 , L822;
L825: S10[ R8 , R9 , ( C92 . R8 ) , ( C92 . R9 ) , ( C92 . ( R8 => R9 ) ) ] by L817;
thus L826: thesis by L825 , L822;
end;
L827: (for R5 being (Element of ( NAT )) holds S12[ ( prop R5 ) ])
proof
let R5 being (Element of ( NAT ));
L828: ( C92 . ( prop R5 ) ) = ( root-tree ( prop R5 ) ) by L816;
thus L829: thesis by L828;
end;
L830: S12[ ( VERUM ) ] by L815;
L831: (for R6 being (Element of ( HP-WFF )) holds S12[ R6 ]) from HPInd(L830 , L827 , L821);
thus L832: thesis by L831 , L820;
end;
uniqueness
proof
let C93 , C94 being (ManySortedSet of ( HP-WFF ));
assume that
L833: ( C93 . ( VERUM ) ) = ( root-tree ( VERUM ) )
and
L834: (for R5 being (Element of ( NAT )) holds ( C93 . ( prop R5 ) ) = ( root-tree ( prop R5 ) ))
and
L835: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (ex B264 , B265 being (DecoratedTree of ( HP-WFF )) st (B264 = ( C93 . R6 ) & B265 = ( C93 . R7 ) & ( C93 . ( R6 '&' R7 ) ) = ( ( R6 '&' R7 ) -tree (B264 , B265) ) & ( C93 . ( R6 => R7 ) ) = ( ( R6 => R7 ) -tree (B264 , B265) )))))
and
L836: ( C94 . ( VERUM ) ) = ( root-tree ( VERUM ) )
and
L837: (for R5 being (Element of ( NAT )) holds ( C94 . ( prop R5 ) ) = ( root-tree ( prop R5 ) ))
and
L838: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (ex B266 , B267 being (DecoratedTree of ( HP-WFF )) st (B266 = ( C94 . R6 ) & B267 = ( C94 . R7 ) & ( C94 . ( R6 '&' R7 ) ) = ( ( R6 '&' R7 ) -tree (B266 , B267) ) & ( C94 . ( R6 => R7 ) ) = ( ( R6 => R7 ) -tree (B266 , B267) )))));
defpred S13[ (Element of ( HP-WFF )) ] means ( C93 . $1 ) = ( C94 . $1 );
L839: (for R5 being (Element of ( NAT )) holds S13[ ( prop R5 ) ])
proof
let R5 being (Element of ( NAT ));
thus L840: ( C93 . ( prop R5 ) ) = ( root-tree ( prop R5 ) ) by L834
.= ( C94 . ( prop R5 ) ) by L837;
end;
L841: (for R8 being (Element of ( HP-WFF )) holds (for R9 being (Element of ( HP-WFF )) holds ((S13[ R8 ] & S13[ R9 ]) implies (S13[ ( R8 '&' R9 ) ] & S13[ ( R8 => R9 ) ]))))
proof
let R8 being (Element of ( HP-WFF ));
let R9 being (Element of ( HP-WFF ));
assume that
L842: (( C93 . R8 ) = ( C94 . R8 ) & ( C93 . R9 ) = ( C94 . R9 ));
L843: ((ex B268 , B269 being (DecoratedTree of ( HP-WFF )) st (B268 = ( C93 . R8 ) & B269 = ( C93 . R9 ) & ( C93 . ( R8 '&' R9 ) ) = ( ( R8 '&' R9 ) -tree (B268 , B269) ) & ( C93 . ( R8 => R9 ) ) = ( ( R8 => R9 ) -tree (B268 , B269) ))) & (ex B270 , B271 being (DecoratedTree of ( HP-WFF )) st (B270 = ( C94 . R8 ) & B271 = ( C94 . R9 ) & ( C94 . ( R8 '&' R9 ) ) = ( ( R8 '&' R9 ) -tree (B270 , B271) ) & ( C94 . ( R8 => R9 ) ) = ( ( R8 => R9 ) -tree (B270 , B271) )))) by L835 , L838;
thus L844: ( C93 . ( R8 '&' R9 ) ) = ( C94 . ( R8 '&' R9 ) ) by L843 , L842;
thus L845: thesis by L842 , L843;
end;
L846: S13[ ( VERUM ) ] by L833 , L836;
L847: (for R8 being (Element of ( HP-WFF )) holds S13[ R8 ]) from HPInd(L846 , L839 , L841);
L848: (for B272 being set holds (B272 in ( HP-WFF ) implies ( C93 . B272 ) = ( C94 . B272 ))) by L847;
thus L849: C93 = C94 by L848 , PBOOLE:3;
end;
end;
definition
let R6 being (Element of ( HP-WFF ));
func Subformulae R6 -> (DecoratedTree of ( HP-WFF )) equals 
( ( HP-Subformulae ) . R6 );
correctness
proof
defpred S14[ (Element of ( HP-WFF )) ] means ( ( HP-Subformulae ) . $1 ) is (DecoratedTree of ( HP-WFF ));
L851: (for R5 being (Element of ( NAT )) holds S14[ ( prop R5 ) ])
proof
let R5 being (Element of ( NAT ));
L852: ( ( HP-Subformulae ) . ( prop R5 ) ) = ( root-tree ( prop R5 ) ) by L798;
thus L853: thesis by L852;
end;
L854: (for R8 being (Element of ( HP-WFF )) holds (for R9 being (Element of ( HP-WFF )) holds ((S14[ R8 ] & S14[ R9 ]) implies (S14[ ( R8 '&' R9 ) ] & S14[ ( R8 => R9 ) ]))))
proof
let R8 being (Element of ( HP-WFF ));
let R9 being (Element of ( HP-WFF ));
L855: (ex B273 , B274 being (DecoratedTree of ( HP-WFF )) st (B273 = ( ( HP-Subformulae ) . R8 ) & B274 = ( ( HP-Subformulae ) . R9 ) & ( ( HP-Subformulae ) . ( R8 '&' R9 ) ) = ( ( R8 '&' R9 ) -tree (B273 , B274) ) & ( ( HP-Subformulae ) . ( R8 => R9 ) ) = ( ( R8 => R9 ) -tree (B273 , B274) ))) by L798;
thus L856: thesis by L855;
end;
L857: S14[ ( VERUM ) ] by L798;
L858: (for R6 being (Element of ( HP-WFF )) holds S14[ R6 ]) from HPInd(L857 , L851 , L854);
thus L859: thesis by L858;
end;
end;
theorem
L861: ( Subformulae ( VERUM ) ) = ( root-tree ( VERUM ) ) by L798;
theorem
L862: (for R5 being (Element of ( NAT )) holds ( Subformulae ( prop R5 ) ) = ( root-tree ( prop R5 ) )) by L798;
theorem
L863: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ( Subformulae ( R6 '&' R7 ) ) = ( ( R6 '&' R7 ) -tree (( Subformulae R6 ) , ( Subformulae R7 )) )))
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
L864: (ex B275 , B276 being (DecoratedTree of ( HP-WFF )) st (B275 = ( ( HP-Subformulae ) . R6 ) & B276 = ( ( HP-Subformulae ) . R7 ) & ( ( HP-Subformulae ) . ( R6 '&' R7 ) ) = ( ( R6 '&' R7 ) -tree (B275 , B276) ) & ( ( HP-Subformulae ) . ( R6 => R7 ) ) = ( ( R6 => R7 ) -tree (B275 , B276) ))) by L798;
thus L865: thesis by L864;
end;
theorem
L866: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds ( Subformulae ( R6 => R7 ) ) = ( ( R6 => R7 ) -tree (( Subformulae R6 ) , ( Subformulae R7 )) )))
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
L867: (ex B277 , B278 being (DecoratedTree of ( HP-WFF )) st (B277 = ( ( HP-Subformulae ) . R6 ) & B278 = ( ( HP-Subformulae ) . R7 ) & ( ( HP-Subformulae ) . ( R6 '&' R7 ) ) = ( ( R6 '&' R7 ) -tree (B277 , B278) ) & ( ( HP-Subformulae ) . ( R6 => R7 ) ) = ( ( R6 => R7 ) -tree (B277 , B278) ))) by L798;
thus L868: thesis by L867;
end;
theorem
L869: (for R6 being (Element of ( HP-WFF )) holds ( ( Subformulae R6 ) . ( {} ) ) = R6)
proof
let R6 being (Element of ( HP-WFF ));
per cases  by L148;
suppose L870: R6 is  conjunctive;

consider R8 being (Element of ( HP-WFF )), R9 being (Element of ( HP-WFF )) such that L871: R6 = ( R8 '&' R9 ) by L870 , L108;
L872: ( Subformulae R6 ) = ( R6 -tree (( Subformulae R8 ) , ( Subformulae R9 )) ) by L871 , L863;
thus L873: thesis by L872 , L66;
end;
suppose L874: R6 is  conditional;

consider R8 being (Element of ( HP-WFF )), R9 being (Element of ( HP-WFF )) such that L875: R6 = ( R8 => R9 ) by L874 , L109;
L876: ( Subformulae R6 ) = ( R6 -tree (( Subformulae R8 ) , ( Subformulae R9 )) ) by L875 , L866;
thus L877: thesis by L876 , L66;
end;
suppose L878: R6 is  simple;

L879: (ex R5 being (Element of ( NAT )) st R6 = ( prop R5 )) by L878 , L110;
L880: ( Subformulae R6 ) = ( root-tree R6 ) by L879 , L798;
thus L881: thesis by L880 , TREES_4:3;
end;
suppose L882: R6 = ( VERUM );

thus L883: thesis by L882 , L861 , TREES_4:3;
end;
end;
theorem
L885: (for R6 being (Element of ( HP-WFF )) holds (for B279 being (Element of ( dom ( Subformulae R6 ) )) holds ( ( Subformulae R6 ) | B279 ) = ( Subformulae ( ( Subformulae R6 ) . B279 ) )))
proof
let R6 being (Element of ( HP-WFF ));
let C95 being (Element of ( dom ( Subformulae R6 ) ));
defpred S15[ (FinSequence of ( NAT )) ] means (ex B280 being (Element of ( HP-WFF )) st (B280 = ( ( Subformulae R6 ) . $1 ) & ( ( Subformulae R6 ) | $1 ) = ( Subformulae B280 )));
L886: (for B281 being (Element of ( dom ( Subformulae R6 ) )) holds (S15[ (B281 qua (FinSequence of ( NAT ))) ] implies (for R5 being (Element of ( NAT )) holds (( B281 ^ <* R5 *> ) in ( dom ( Subformulae R6 ) ) implies S15[ (( B281 ^ <* R5 *> ) qua (FinSequence of ( NAT ))) ]))))
proof
let C96 being (Element of ( dom ( Subformulae R6 ) ));
given C97 being (Element of ( HP-WFF )) such that
L887: C97 = ( ( Subformulae R6 ) . C96 )
and
L888: ( ( Subformulae R6 ) | C96 ) = ( Subformulae C97 );

let R5 being (Element of ( NAT ));
assume that
L889: ( C96 ^ <* R5 *> ) in ( dom ( Subformulae R6 ) );
L890: ( ( Subformulae R6 ) | ( C96 ^ <* R5 *> ) ) = ( ( Subformulae C97 ) | <* R5 *> ) by L888 , L889 , TREES_9:3;
L891: ( ( dom ( Subformulae R6 ) ) | C96 ) = ( dom ( Subformulae C97 ) ) by L888 , TREES_2:def 10;
L892: <* R5 *> in ( dom ( Subformulae C97 ) ) by L891 , L889 , TREES_1:def 6;
L893: ( ( Subformulae R6 ) . ( C96 ^ <* R5 *> ) ) = ( ( Subformulae C97 ) . <* R5 *> ) by L892 , L888 , L891 , TREES_2:def 10;
per cases  by L148;
suppose L894: C97 is  conjunctive;

consider R8 being (Element of ( HP-WFF )), R9 being (Element of ( HP-WFF )) such that L895: C97 = ( R8 '&' R9 ) by L894 , L108;
L896: ( Subformulae C97 ) = ( ( R8 '&' R9 ) -tree (( Subformulae R8 ) , ( Subformulae R9 )) ) by L895 , L863;
L897: ( dom ( Subformulae C97 ) ) = ( tree (( dom ( Subformulae R8 ) ) , ( dom ( Subformulae R9 ) )) ) by L896 , TREES_4:14;
L898:
now
per cases  by L892 , L897 , L40;
suppose L899: R5 = ( 0 );

take D35 = R8;
thus L900: D35 = ( ( Subformulae D35 ) . ( {} ) ) by L869
.= ( ( Subformulae R6 ) . ( C96 ^ <* R5 *> ) ) by L893 , L896 , L899 , L69;
thus L901: ( ( Subformulae R6 ) | ( C96 ^ <* R5 *> ) ) = ( Subformulae D35 ) by L890 , L896 , L899 , L75;
end;
suppose L902: R5 = 1;

take D36 = R9;
thus L903: D36 = ( ( Subformulae D36 ) . ( {} ) ) by L869
.= ( ( Subformulae R6 ) . ( C96 ^ <* R5 *> ) ) by L893 , L896 , L902 , L69;
thus L904: ( ( Subformulae R6 ) | ( C96 ^ <* R5 *> ) ) = ( Subformulae D36 ) by L890 , L896 , L902 , L75;
end;
end;
thus L906: thesis by L898;
end;
suppose L907: C97 is  conditional;

consider R8 being (Element of ( HP-WFF )), R9 being (Element of ( HP-WFF )) such that L908: C97 = ( R8 => R9 ) by L907 , L109;
L909: ( Subformulae C97 ) = ( ( R8 => R9 ) -tree (( Subformulae R8 ) , ( Subformulae R9 )) ) by L908 , L866;
L910: ( dom ( Subformulae C97 ) ) = ( tree (( dom ( Subformulae R8 ) ) , ( dom ( Subformulae R9 ) )) ) by L909 , TREES_4:14;
L911:
now
per cases  by L892 , L910 , L40;
suppose L912: R5 = ( 0 );

take D37 = R8;
thus L913: D37 = ( ( Subformulae D37 ) . ( {} ) ) by L869
.= ( ( Subformulae R6 ) . ( C96 ^ <* R5 *> ) ) by L893 , L909 , L912 , L69;
thus L914: ( ( Subformulae R6 ) | ( C96 ^ <* R5 *> ) ) = ( Subformulae D37 ) by L890 , L909 , L912 , L75;
end;
suppose L915: R5 = 1;

take D38 = R9;
thus L916: D38 = ( ( Subformulae D38 ) . ( {} ) ) by L869
.= ( ( Subformulae R6 ) . ( C96 ^ <* R5 *> ) ) by L893 , L909 , L915 , L69;
thus L917: ( ( Subformulae R6 ) | ( C96 ^ <* R5 *> ) ) = ( Subformulae D38 ) by L890 , L909 , L915 , L75;
end;
end;
thus L919: thesis by L911;
end;
suppose L920: C97 is  simple;

consider R3 being (Element of ( NAT )) such that L921: C97 = ( prop R3 ) by L920 , L110;
L922: ( Subformulae C97 ) = ( root-tree ( prop R3 ) ) by L921 , L798;
L923: ( dom ( Subformulae C97 ) ) = { ( {} ) } by L922 , TREES_1:29 , TREES_4:3;
thus L924: thesis by L923 , L892 , TARSKI:def 1;
end;
suppose L925: C97 = ( VERUM );

L926: ( dom ( Subformulae C97 ) ) = { ( {} ) } by L925 , L861 , TREES_1:29 , TREES_4:3;
thus L927: thesis by L926 , L892 , TARSKI:def 1;
end;
end;
L929: ( ( Subformulae R6 ) . ( {} ) ) = R6 by L869;
L930: S15[ (( <*> ( NAT ) ) qua (FinSequence of ( NAT ))) ] by L929 , TREES_9:1;
L931: (for B282 being (Element of ( dom ( Subformulae R6 ) )) holds S15[ (B282 qua (FinSequence of ( NAT ))) ]) from InTreeInd(L930 , L886);
L932: S15[ (C95 qua (FinSequence of ( NAT ))) ] by L931;
thus L933: thesis by L932;
end;
theorem
L934: (for R6 being (Element of ( HP-WFF )) holds (for R7 being (Element of ( HP-WFF )) holds (R6 in ( Leaves ( Subformulae R7 ) ) implies (R6 = ( VERUM ) or R6 is  simple))))
proof
let R6 being (Element of ( HP-WFF ));
let R7 being (Element of ( HP-WFF ));
assume L935: R6 in ( Leaves ( Subformulae R7 ) );
L936: R6 in ( ( Subformulae R7 ) .: ( Leaves ( dom ( Subformulae R7 ) ) ) ) by L935 , TREES_2:def 9;
consider C98 being set such that L937: C98 in ( dom ( Subformulae R7 ) ) and L938: C98 in ( Leaves ( dom ( Subformulae R7 ) ) ) and L939: R6 = ( ( Subformulae R7 ) . C98 ) by L936 , FUNCT_1:def 6;
reconsider D39 = C98 as (Element of ( dom ( Subformulae R7 ) )) by L937;
L940: ( ( Subformulae R7 ) | D39 ) = ( Subformulae R6 ) by L939 , L885;
L941: (not R6 is  conditional)
proof
assume L942: (not thesis);
consider R8 being (Element of ( HP-WFF )), R9 being (Element of ( HP-WFF )) such that L943: R6 = ( R8 => R9 ) by L942 , L109;
L944: ( Subformulae R6 ) = ( R6 -tree (( Subformulae R8 ) , ( Subformulae R9 )) ) by L943 , L866;
thus L945: contradiction by L944 , L938 , L940 , TREES_9:6;
end;
L946: (not R6 is  conjunctive)
proof
assume L947: (not thesis);
consider R8 being (Element of ( HP-WFF )), R9 being (Element of ( HP-WFF )) such that L948: R6 = ( R8 '&' R9 ) by L947 , L108;
L949: ( Subformulae R6 ) = ( R6 -tree (( Subformulae R8 ) , ( Subformulae R9 )) ) by L948 , L863;
thus L950: contradiction by L949 , L938 , L940 , TREES_9:6;
end;
thus L951: thesis by L946 , L941 , L148;
end;
