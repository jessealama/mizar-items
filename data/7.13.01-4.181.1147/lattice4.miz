:: Homomorphisms of Lattices \\ Finite Join and Finite Meet
::  by Jolanta Kamie\'nska and Jaros\l aw Stanis\l aw Walijewski
::
:: Received July 14, 1993
:: Copyright (c) 1993-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies XBOOLE_0, TARSKI, ORDINAL1, SUBSET_1, LATTICES, CARD_FIL,
      FILTER_0, INT_2, PBOOLE, GROUP_6, FUNCT_1, STRUCT_0, EQREL_1, FUNCT_2,
      RELAT_1, WELLORD1, FILTER_1, XBOOLEAN, FINSUB_1, LATTICE2, SETWISEO,
      BINOP_1, FUNCOP_1, XXREAL_2, VECTSP_1, ZFMISC_1, SETFAM_1, LATTICE4;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, SETFAM_1, RELAT_1, ORDINAL1,
      FUNCT_1, PARTFUN1, FUNCT_2, BINOP_1, FINSUB_1, STRUCT_0, LATTICES,
      LATTICE2, FILTER_0, FUNCOP_1, SETWISEO, WELLORD1, FILTER_1;
 constructors WELLORD1, DOMAIN_1, SETWISEO, LATTICE2, FILTER_1, GRCAT_1,
      FUNCOP_1, RELSET_1, FILTER_0;
 registrations XBOOLE_0, SUBSET_1, RELSET_1, FUNCT_2, STRUCT_0, LATTICES,
      FILTER_0, LATTICE2;
 requirements BOOLE, SUBSET;
 definitions TARSKI, FILTER_0, LATTICES, XBOOLE_0, STRUCT_0;
 theorems LATTICES, ZFMISC_1, FUNCT_2, FILTER_0, SETFAM_1, ORDERS_1, TARSKI,
      SETWISEO, LATTICE2, FUNCOP_1, FILTER_1, WELLORD1, RELAT_1, XBOOLE_1,
      FUNCT_1;
 schemes FUNCT_2, SETWISEO, BINOP_2, XBOOLE_0;

begin
theorem
L1: (for R3 being set holds ((R3 <> ( {} ) & (for R6 being set holds ((R6 <> ( {} ) & R6 c= R3 & R6 is  c=-linear) implies (ex R5 being set st (R5 in R3 & (for R4 being set holds (R4 in R6 implies R4 c= R5))))))) implies (ex R5 being set st (R5 in R3 & (for R6 being set holds ((R6 in R3 & R6 <> R5) implies (not R5 c= R6)))))))
proof
let R3 being set;
assume that
L2: R3 <> ( {} )
and
L3: (for R6 being set holds ((R6 <> ( {} ) & R6 c= R3 & R6 is  c=-linear) implies (ex R5 being set st (R5 in R3 & (for R4 being set holds (R4 in R6 implies R4 c= R5))))));
L4: (for R6 being set holds ((R6 c= R3 & R6 is  c=-linear) implies (ex R5 being set st (R5 in R3 & (for R4 being set holds (R4 in R6 implies R4 c= R5))))))
proof
let R6 being set;
assume that
L5: (R6 c= R3 & R6 is  c=-linear);
per cases ;
suppose L6: R6 = ( {} );

set D1 = the (Element of R3);
L7: (for R4 being set holds (R4 in R6 implies R4 c= D1)) by L6;
thus L8: thesis by L7 , L2;
end;
suppose L9: R6 <> ( {} );

thus L10: thesis by L9 , L3 , L5;
end;
end;
thus L12: thesis by L4 , L2 , ORDERS_1:65;
end;
begin
registration
let R7 being Lattice;
cluster <. R7 .) ->  prime;
coherence
proof
let R10 being (Element of R7);
thus L13: thesis;
end;
end;
theorem
L15: (for R7 being Lattice holds (for R8 being (Filter of R7) holds (for R9 being (Filter of R7) holds (R8 c= <. ( R8 \/ R9 ) .) & R9 c= <. ( R8 \/ R9 ) .)))))
proof
let R7 being Lattice;
let R8 being (Filter of R7);
let R9 being (Filter of R7);
L16: ( R8 \/ R9 ) c= <. ( R8 \/ R9 ) .) by FILTER_0:def 4;
L17: (R8 c= ( R8 \/ R9 ) & R9 c= ( R8 \/ R9 )) by XBOOLE_1:7;
thus L18: thesis by L17 , L16 , XBOOLE_1:1;
end;
theorem
L19: (for R7 being Lattice holds (for R8 being (Filter of R7) holds (for R10 being (Element of R7) holds (for R11 being (Element of R7) holds (R10 in <. ( <. R11 .) \/ R8 ) .) implies (ex R12 being (Element of R7) st (R12 in R8 & ( R11 "/\" R12 ) [= R10)))))))
proof
let R7 being Lattice;
let R8 being (Filter of R7);
let R10 being (Element of R7);
let R11 being (Element of R7);
L20: <. ( <. R11 .) \/ R8 ) .) = { R12 where R12 is (Element of R7) : (ex B1 , B2 being (Element of R7) st (( B1 "/\" B2 ) [= R12 & B1 in <. R11 .) & B2 in R8)) } by FILTER_0:35;
assume L21: R10 in <. ( <. R11 .) \/ R8 ) .);
L22: (ex R12 being (Element of R7) st (R12 = R10 & (ex B3 , B4 being (Element of R7) st (( B3 "/\" B4 ) [= R12 & B3 in <. R11 .) & B4 in R8)))) by L21 , L20;
consider C1 , C2 being (Element of R7) such that L23: ( C1 "/\" C2 ) [= R10 and L24: C1 in <. R11 .) and L25: C2 in R8 by L22;
L26: R11 [= C1 by L24 , FILTER_0:15;
L27: ( R11 "/\" C2 ) [= ( C1 "/\" C2 ) by L26 , LATTICES:9;
thus L28: thesis by L27 , L23 , L25 , LATTICES:7;
end;
definition
let R13 being Lattice;
let R14 being Lattice;
mode Homomorphism of R13 , R14
 -> (Function of (the carrier of R13) , (the carrier of R14))
means :L29: (for R15 being (Element of R13) holds (for R16 being (Element of R13) holds (( it . ( R15 "\/" R16 ) ) = ( ( it . R15 ) "\/" ( it . R16 ) ) & ( it . ( R15 "/\" R16 ) ) = ( ( it . R15 ) "/\" ( it . R16 ) ))));
existence
proof
set D2 = the (Element of R14);
defpred S1[ set , set ] means (for R15 being (Element of R13) holds ($1 = R15 implies $2 = D2));
L30:
now
let C3 being (Element of R13);
take D3 = D2;
thus L31: S1[ C3 , D3 ];
end;
consider C4 being (Function of (the carrier of R13) , (the carrier of R14)) such that L32: (for B5 being (Element of R13) holds S1[ B5 , ( C4 . B5 ) ]) from FUNCT_2:sch 3(L30);
take C4;
L33:
now
let R15 being (Element of R13);
let R16 being (Element of R13);
thus L34: ( C4 . ( R15 "\/" R16 ) ) = D2 by L32
.= ( D2 "\/" D2 )
.= ( ( C4 . R15 ) "\/" D2 ) by L32
.= ( ( C4 . R15 ) "\/" ( C4 . R16 ) ) by L32;
thus L35: ( C4 . ( R15 "/\" R16 ) ) = D2 by L32
.= ( D2 "/\" D2 )
.= ( ( C4 . R15 ) "/\" D2 ) by L32
.= ( ( C4 . R15 ) "/\" ( C4 . R16 ) ) by L32;
end;
thus L36: thesis by L33;
end;
end;
theorem
L38: (for R13 being Lattice holds (for R14 being Lattice holds (for R15 being (Element of R13) holds (for R16 being (Element of R13) holds (for R18 being (Homomorphism of R13 , R14) holds (R15 [= R16 implies ( R18 . R15 ) [= ( R18 . R16 )))))))
proof
let R13 being Lattice;
let R14 being Lattice;
let R15 being (Element of R13);
let R16 being (Element of R13);
let R18 being (Homomorphism of R13 , R14);
assume L39: R15 [= R16;
L40: ( ( R18 . R15 ) "\/" ( R18 . R16 ) ) = ( R18 . ( R15 "\/" R16 ) ) by L29
.= ( R18 . R16 ) by L39 , LATTICES:def 3;
thus L41: ( R18 . R15 ) [= ( R18 . R16 ) by L40 , LATTICES:def 3;
end;
theorem
L42: (for R13 being Lattice holds (for R14 being Lattice holds (for R15 being (Element of R13) holds (for R16 being (Element of R13) holds (for R18 being (Homomorphism of R13 , R14) holds (R18 is  one-to-one implies (R15 [= R16 iff ( R18 . R15 ) [= ( R18 . R16 ))))))))
proof
let R13 being Lattice;
let R14 being Lattice;
let R15 being (Element of R13);
let R16 being (Element of R13);
let R18 being (Homomorphism of R13 , R14);
assume L43: R18 is  one-to-one;
reconsider D4 = R18 as (Function of (the carrier of R13) , (the carrier of R14));
L44: (( D4 . R15 ) [= ( D4 . R16 ) implies R15 [= R16)
proof
assume L45: ( D4 . R15 ) [= ( D4 . R16 );
L46: ( ( D4 . R15 ) "\/" ( D4 . R16 ) ) = ( D4 . R16 ) by L45 , LATTICES:def 3;
L47: ( D4 . ( R15 "\/" R16 ) ) = ( D4 . R16 ) by L46 , L29;
thus L48: ( R15 "\/" R16 ) = R16 by L47 , L43 , FUNCT_2:19;
end;
thus L49: thesis by L44 , L38;
end;
theorem
L50: (for R13 being Lattice holds (for R14 being Lattice holds (for B6 being (Function of (the carrier of R13) , (the carrier of R14)) holds (B6 is  onto implies (for R17 being (Element of R14) holds (ex R15 being (Element of R13) st R17 = ( B6 . R15 )))))))
proof
let R13 being Lattice;
let R14 being Lattice;
let C5 being (Function of (the carrier of R13) , (the carrier of R14));
reconsider D5 = C5 as (Function of (the carrier of R13) , (the carrier of R14));
assume L51: C5 is  onto;
L52: ( rng D5 ) = (the carrier of R14) by L51 , FUNCT_2:def 3;
L53:
now
let C6 being (Element of R14);
L54: (ex B7 being set st (B7 in (the carrier of R13) & ( D5 . B7 ) = C6)) by L52 , FUNCT_2:11;
thus L55: (ex R15 being (Element of R13) st ( D5 . R15 ) = C6) by L54;
end;
thus L56: thesis by L53;
end;
definition
let R13 being Lattice;
let R14 being Lattice;
redefine pred R13 , R14 are_isomorphic 
means
(ex R18 being (Homomorphism of R13 , R14) st R18 is  bijective)
;compatibility
proof
thus L57: (R13 , R14 are_isomorphic  implies (ex R18 being (Homomorphism of R13 , R14) st R18 is  bijective))
proof
set D6 = ( LattRel R13 );
set D7 = ( LattRel R14 );
assume L58: R13 , R14 are_isomorphic ;
L59: ( LattRel R13 ) , ( LattRel R14 ) are_isomorphic  by L58 , FILTER_1:def 9;
consider C7 being Function such that L60: C7 is_isomorphism_of ( LattRel R13 ) , ( LattRel R14 ) by L59 , WELLORD1:def 8;
L61: ( dom C7 ) = ( field D6 ) by L60 , WELLORD1:def 7;
L62: (( field D7 ) = (the carrier of R14) & ( rng C7 ) = ( field D7 )) by L60 , FILTER_1:32 , WELLORD1:def 7;
L63: ( field D6 ) = (the carrier of R13) by FILTER_1:32;
reconsider D8 = C7 as (Function of (the carrier of R13) , (the carrier of R14)) by L63 , L61 , L62 , FUNCT_2:1;
L64:
now
let C8 , C9 being (Element of R13);
reconsider D9 = C8 , D10 = C9 as (Element of R13);
L65: D8 is  onto by L62 , FUNCT_2:def 3;
thus L66: ( D8 . ( C8 "\/" C9 ) ) = ( ( D8 . C8 ) "\/" ( D8 . C9 ) )
proof
L67: D10 [= ( D9 "\/" D10 ) by LATTICES:5;
L68: [ C9 , ( C8 "\/" C9 ) ] in D6 by L67 , FILTER_1:31;
L69: [ ( D8 . C9 ) , ( D8 . ( C8 "\/" C9 ) ) ] in D7 by L68 , L60 , WELLORD1:def 7;
L70: ( D8 . D10 ) [= ( D8 . ( D9 "\/" D10 ) ) by L69 , FILTER_1:31;
consider C10 being (Element of R13) such that L71: ( ( D8 . C8 ) "\/" ( D8 . C9 ) ) = ( D8 . C10 ) by L65 , L50;
L72: ( D8 . C9 ) [= ( D8 . C10 ) by L71 , LATTICES:5;
L73: [ ( D8 . C9 ) , ( D8 . C10 ) ] in ( LattRel R14 ) by L72 , FILTER_1:31;
L74: [ C9 , C10 ] in ( LattRel R13 ) by L73 , L60 , L63 , WELLORD1:def 7;
L75: C9 [= C10 by L74 , FILTER_1:31;
L76: ( D8 . C8 ) [= ( D8 . C10 ) by L71 , LATTICES:5;
L77: [ ( D8 . C8 ) , ( D8 . C10 ) ] in ( LattRel R14 ) by L76 , FILTER_1:31;
L78: [ C8 , C10 ] in ( LattRel R13 ) by L77 , L60 , L63 , WELLORD1:def 7;
L79: C8 [= C10 by L78 , FILTER_1:31;
L80: ( C8 "\/" C9 ) [= C10 by L79 , L75 , FILTER_0:6;
L81: [ ( C8 "\/" C9 ) , C10 ] in D6 by L80 , FILTER_1:31;
L82: [ ( D8 . ( C8 "\/" C9 ) ) , ( D8 . C10 ) ] in ( LattRel R14 ) by L81 , L60 , WELLORD1:def 7;
L83: ( D8 . ( C8 "\/" C9 ) ) [= ( ( D8 . C8 ) "\/" ( D8 . C9 ) ) by L82 , L71 , FILTER_1:31;
L84: D9 [= ( D9 "\/" D10 ) by LATTICES:5;
L85: [ C8 , ( C8 "\/" C9 ) ] in D6 by L84 , FILTER_1:31;
L86: [ ( D8 . C8 ) , ( D8 . ( C8 "\/" C9 ) ) ] in D7 by L85 , L60 , WELLORD1:def 7;
L87: ( D8 . D9 ) [= ( D8 . ( D9 "\/" D10 ) ) by L86 , FILTER_1:31;
L88: ( ( D8 . C8 ) "\/" ( D8 . C9 ) ) [= ( D8 . ( C8 "\/" C9 ) ) by L87 , L70 , FILTER_0:6;
thus L89: thesis by L88 , L83 , LATTICES:8;
end;

thus L90: ( D8 . ( C8 "/\" C9 ) ) = ( ( D8 . C8 ) "/\" ( D8 . C9 ) )
proof
L91: ( D9 "/\" D10 ) [= D10 by LATTICES:6;
L92: [ ( C8 "/\" C9 ) , C9 ] in D6 by L91 , FILTER_1:31;
L93: [ ( D8 . ( C8 "/\" C9 ) ) , ( D8 . C9 ) ] in D7 by L92 , L60 , WELLORD1:def 7;
L94: ( D8 . ( D9 "/\" D10 ) ) [= ( D8 . D10 ) by L93 , FILTER_1:31;
consider C11 being (Element of R13) such that L95: ( ( D8 . C8 ) "/\" ( D8 . C9 ) ) = ( D8 . C11 ) by L65 , L50;
L96: ( D8 . C11 ) [= ( D8 . C9 ) by L95 , LATTICES:6;
L97: [ ( D8 . C11 ) , ( D8 . C9 ) ] in ( LattRel R14 ) by L96 , FILTER_1:31;
L98: [ C11 , C9 ] in ( LattRel R13 ) by L97 , L60 , L63 , WELLORD1:def 7;
L99: C11 [= C9 by L98 , FILTER_1:31;
L100: ( D8 . C11 ) [= ( D8 . C8 ) by L95 , LATTICES:6;
L101: [ ( D8 . C11 ) , ( D8 . C8 ) ] in ( LattRel R14 ) by L100 , FILTER_1:31;
L102: [ C11 , C8 ] in ( LattRel R13 ) by L101 , L60 , L63 , WELLORD1:def 7;
L103: C11 [= C8 by L102 , FILTER_1:31;
L104: C11 [= ( C8 "/\" C9 ) by L103 , L99 , FILTER_0:7;
L105: [ C11 , ( C8 "/\" C9 ) ] in ( LattRel R13 ) by L104 , FILTER_1:31;
L106: [ ( D8 . C11 ) , ( D8 . ( C8 "/\" C9 ) ) ] in ( LattRel R14 ) by L105 , L60 , WELLORD1:def 7;
L107: ( ( D8 . C8 ) "/\" ( D8 . C9 ) ) [= ( D8 . ( C8 "/\" C9 ) ) by L106 , L95 , FILTER_1:31;
L108: ( D9 "/\" D10 ) [= D9 by LATTICES:6;
L109: [ ( C8 "/\" C9 ) , C8 ] in D6 by L108 , FILTER_1:31;
L110: [ ( D8 . ( C8 "/\" C9 ) ) , ( D8 . C8 ) ] in D7 by L109 , L60 , WELLORD1:def 7;
L111: ( D8 . ( D9 "/\" D10 ) ) [= ( D8 . D9 ) by L110 , FILTER_1:31;
L112: ( D8 . ( C8 "/\" C9 ) ) [= ( ( D8 . C8 ) "/\" ( D8 . C9 ) ) by L111 , L94 , FILTER_0:7;
thus L113: thesis by L112 , L107 , LATTICES:8;
end;

end;
reconsider D11 = D8 as (Homomorphism of R13 , R14) by L64 , L29;
take D11;
L91: D11 is  one-to-one  onto by L60 , L62 , FUNCT_2:def 3 , WELLORD1:def 7;
thus L92: thesis by L91;
end;

set D12 = ( LattRel R13 );
set D13 = ( LattRel R14 );
given R18 being (Homomorphism of R13 , R14) such that
L93: R18 is  bijective;

L94: (for B8 , B9 being set holds ([ B8 , B9 ] in D12 iff (B8 in ( field D12 ) & B9 in ( field D12 ) & [ ( R18 . B8 ) , ( R18 . B9 ) ] in D13)))
proof
let C12 , C13 being set;
thus L95:now
assume L96: [ C12 , C13 ] in D12;
thus L97: (C12 in ( field D12 ) & C13 in ( field D12 )) by L96 , RELAT_1:15;
reconsider D14 = C12 , D15 = C13 as (Element of R13) by L97 , FILTER_1:32;
L98: D14 [= D15 by L96 , FILTER_1:31;
L99: ( R18 . D14 ) [= ( R18 . D15 ) by L98 , L93 , L42;
thus L100: [ ( R18 . C12 ) , ( R18 . C13 ) ] in D13 by L99 , FILTER_1:31;
end;
assume that
L101: (C12 in ( field D12 ) & C13 in ( field D12 ))
and
L102: [ ( R18 . C12 ) , ( R18 . C13 ) ] in D13;
reconsider D16 = C12 , D17 = C13 as (Element of R13) by L101 , FILTER_1:32;
L103: ( R18 . D16 ) [= ( R18 . D17 ) by L102 , FILTER_1:31;
L104: D16 [= D17 by L103 , L93 , L42;
thus L105: thesis by L104 , FILTER_1:31;
end;
L106: ( dom R18 ) = (the carrier of R13) by FUNCT_2:def 1
.= ( field D12 ) by FILTER_1:32;
L107: ( rng R18 ) = (the carrier of R14) by L93 , FUNCT_2:def 3
.= ( field D13 ) by FILTER_1:32;
L108: R18 is_isomorphism_of ( LattRel R13 ) , ( LattRel R14 ) by L107 , L93 , L106 , L94 , WELLORD1:def 7;
L109: ( LattRel R13 ) , ( LattRel R14 ) are_isomorphic  by L108 , WELLORD1:def 8;
thus L110: thesis by L109 , FILTER_1:def 9;
end;
end;
definition
let R13 being Lattice;
let R14 being Lattice;
let R18 being (Homomorphism of R13 , R14);
pred R18 preserves_implication 
means
:L112: (for R15 being (Element of R13) holds (for R16 being (Element of R13) holds ( R18 . ( R15 => R16 ) ) = ( ( R18 . R15 ) => ( R18 . R16 ) )))
;pred R18 preserves_top 
means
:L113: ( R18 . ( Top R13 ) ) = ( Top R14 )
;pred R18 preserves_bottom 
means
:L114: ( R18 . ( Bottom R13 ) ) = ( Bottom R14 )
;pred R18 preserves_complement 
means
:L115: (for R15 being (Element of R13) holds ( R18 . ( R15 ` ) ) = ( ( R18 . R15 ) ` ))
;end;
definition
let R7 being Lattice;
mode ClosedSubset of R7
 is  meet-closed  join-closed (Subset of R7);
end;
theorem
L118: (for R7 being Lattice holds (the carrier of R7) is (ClosedSubset of R7))
proof
let R7 being Lattice;
L119: (the carrier of R7) c= (the carrier of R7);
reconsider D18 = (the carrier of R7) as (Subset of R7) by L119;
L120: (for R10 being (Element of R7) holds (for R11 being (Element of R7) holds ((R10 in D18 & R11 in D18) implies ( R10 "/\" R11 ) in D18)));
L121: (for R10 being (Element of R7) holds (for R11 being (Element of R7) holds ((R10 in D18 & R11 in D18) implies ( R10 "\/" R11 ) in D18)));
thus L122: thesis by L121 , L120 , LATTICES:def 24 , LATTICES:def 25;
end;
registration
let R7 being Lattice;
cluster non  empty for (ClosedSubset of R7);
existence
proof
L123: (the carrier of R7) is (ClosedSubset of R7) by L118;
thus L124: thesis by L123;
end;
end;
theorem
L126: (for R7 being Lattice holds (for B10 being (Filter of R7) holds B10 is (ClosedSubset of R7)));
definition
let R7 being Lattice;
let R19 being (Finite_Subset of (the carrier of R7));
func FinJoin R19 -> (Element of R7) equals 
( FinJoin (R19 , ( id R7 )) );
coherence;
func FinMeet R19 -> (Element of R7) equals 
( FinMeet (R19 , ( id R7 )) );
coherence;
end;
theorem
L128: (for R7 being Lattice holds (for R10 being (Element of R7) holds ( FinJoin {. R10 .} ) = R10))
proof
let R7 being Lattice;
let R10 being (Element of R7);
thus L129: ( FinJoin {. R10 .} ) = ( (the L_join of R7) $$ ({. R10 .} , ( id R7 )) ) by LATTICE2:def 3
.= ( ( id R7 ) . R10 ) by SETWISEO:17
.= R10 by FUNCT_1:18;
end;
theorem
L130: (for R7 being Lattice holds (for R10 being (Element of R7) holds ( FinMeet {. R10 .} ) = R10))
proof
let R7 being Lattice;
let R10 being (Element of R7);
set D19 = (the L_meet of R7);
thus L131: ( FinMeet {. R10 .} ) = ( D19 $$ ({. R10 .} , ( id R7 )) ) by LATTICE2:def 4
.= ( ( id R7 ) . R10 ) by SETWISEO:17
.= R10 by FUNCT_1:18;
end;
begin
theorem
L132: (for R14 being Lattice holds (for R20 being  distributive Lattice holds (for R21 being (Homomorphism of R20 , R14) holds (R21 is  onto implies R14 is  distributive))))
proof
let R14 being Lattice;
let R20 being  distributive Lattice;
let R21 being (Homomorphism of R20 , R14);
assume L133: R21 is  onto;
thus L134: R14 is  distributive
proof
let C14 , C15 , C16 being (Element of R14);
consider C17 being (Element of R20) such that L135: ( R21 . C17 ) = C14 by L133 , L50;
consider C18 being (Element of R20) such that L136: ( R21 . C18 ) = C16 by L133 , L50;
consider C19 being (Element of R20) such that L137: ( R21 . C19 ) = C15 by L133 , L50;
thus L138: ( C14 "/\" ( C15 "\/" C16 ) ) = ( C14 "/\" ( R21 . ( C19 "\/" C18 ) ) ) by L137 , L136 , L29
.= ( R21 . ( C17 "/\" ( C19 "\/" C18 ) ) ) by L135 , L29
.= ( R21 . ( ( C17 "/\" C19 ) "\/" ( C17 "/\" C18 ) ) ) by LATTICES:def 11
.= ( ( R21 . ( C17 "/\" C19 ) ) "\/" ( R21 . ( C17 "/\" C18 ) ) ) by L29
.= ( ( C14 "/\" C15 ) "\/" ( R21 . ( C17 "/\" C18 ) ) ) by L135 , L137 , L29
.= ( ( C14 "/\" C15 ) "\/" ( C14 "/\" C16 ) ) by L135 , L136 , L29;
end;

end;
begin
theorem
L135: (for R14 being Lattice holds (for R22 being  lower-bounded Lattice holds (for B11 being (Homomorphism of R22 , R14) holds (B11 is  onto implies (R14 is  lower-bounded & B11 preserves_bottom )))))
proof
let R14 being Lattice;
let R22 being  lower-bounded Lattice;
let C20 being (Homomorphism of R22 , R14);
set D20 = ( C20 . ( Bottom R22 ) );
assume L136: C20 is  onto;
L137:
now
let C21 being (Element of R14);
consider C22 being (Element of R22) such that L138: ( C20 . C22 ) = C21 by L136 , L50;
thus L139: ( D20 "/\" C21 ) = ( C20 . ( ( Bottom R22 ) "/\" C22 ) ) by L138 , L29
.= D20 by LATTICES:15;
thus L140: ( C21 "/\" D20 ) = D20 by L139;
end;
thus L141: R14 is  lower-bounded
proof
take D20;
thus L142: thesis by L137;
end;

L143: ( Bottom R14 ) = D20 by L141 , L137 , LATTICES:def 16;
thus L144: thesis by L143 , L114;
end;
theorem
L145: (for R22 being  lower-bounded Lattice holds (for R23 being (Finite_Subset of (the carrier of R22)) holds (for R26 being (Element of R22) holds (for R27 being (UnOp of (the carrier of R22)) holds ( FinJoin (( R23 \/ {. R26 .} ) , R27) ) = ( ( FinJoin (R23 , R27) ) "\/" ( R27 . R26 ) )))))
proof
let R22 being  lower-bounded Lattice;
let R23 being (Finite_Subset of (the carrier of R22));
let R26 being (Element of R22);
let R27 being (UnOp of (the carrier of R22));
set D21 = (the L_join of R22);
thus L146: ( FinJoin (( R23 \/ {. R26 .} ) , R27) ) = ( D21 $$ (( R23 \/ {. R26 .} ) , R27) ) by LATTICE2:def 3
.= ( ( D21 $$ (R23 , R27) ) "\/" ( R27 . R26 ) ) by SETWISEO:32
.= ( ( FinJoin (R23 , R27) ) "\/" ( R27 . R26 ) ) by LATTICE2:def 3;
end;
theorem
L147: (for R22 being  lower-bounded Lattice holds (for R23 being (Finite_Subset of (the carrier of R22)) holds (for R26 being (Element of R22) holds ( FinJoin ( R23 \/ {. R26 .} ) ) = ( ( FinJoin R23 ) "\/" R26 ))))
proof
let R22 being  lower-bounded Lattice;
let R23 being (Finite_Subset of (the carrier of R22));
let R26 being (Element of R22);
thus L148: ( FinJoin ( R23 \/ {. R26 .} ) ) = ( ( FinJoin (R23 , ( id R22 )) ) "\/" ( ( id R22 ) . R26 ) ) by L145
.= ( ( FinJoin R23 ) "\/" R26 ) by FUNCT_1:18;
end;
theorem
L149: (for R22 being  lower-bounded Lattice holds (for R24 being (Finite_Subset of (the carrier of R22)) holds (for R25 being (Finite_Subset of (the carrier of R22)) holds ( ( FinJoin R24 ) "\/" ( FinJoin R25 ) ) = ( FinJoin ( R24 \/ R25 ) ))))
proof
let R22 being  lower-bounded Lattice;
let R24 being (Finite_Subset of (the carrier of R22));
let R25 being (Finite_Subset of (the carrier of R22));
set D22 = (the L_join of R22);
thus L150: ( FinJoin ( R24 \/ R25 ) ) = ( D22 $$ (( R24 \/ R25 ) , ( id R22 )) ) by LATTICE2:def 3
.= ( ( D22 $$ (R24 , ( id R22 )) ) "\/" ( D22 $$ (R25 , ( id R22 )) ) ) by SETWISEO:33
.= ( ( FinJoin R24 ) "\/" ( D22 $$ (R25 , ( id R22 )) ) ) by LATTICE2:def 3
.= ( ( FinJoin R24 ) "\/" ( FinJoin R25 ) ) by LATTICE2:def 3;
end;
L151: (for R22 being  lower-bounded Lattice holds (for B12 being (Function of (the carrier of R22) , (the carrier of R22)) holds ( FinJoin (( {}. (the carrier of R22) ) , B12) ) = ( Bottom R22 )))
proof
let R22 being  lower-bounded Lattice;
let C23 being (Function of (the carrier of R22) , (the carrier of R22));
set D23 = (the L_join of R22);
thus L152: ( FinJoin (( {}. (the carrier of R22) ) , C23) ) = ( D23 $$ (( {}. (the carrier of R22) ) , C23) ) by LATTICE2:def 3
.= ( the_unity_wrt D23 ) by SETWISEO:31
.= ( Bottom R22 ) by LATTICE2:52;
end;
theorem
L153: (for R22 being  lower-bounded Lattice holds ( FinJoin ( {}. (the carrier of R22) ) ) = ( Bottom R22 )) by L151;
theorem
L154: (for R22 being  lower-bounded Lattice holds (for B13 being (ClosedSubset of R22) holds (( Bottom R22 ) in B13 implies (for R23 being (Finite_Subset of (the carrier of R22)) holds (R23 c= B13 implies ( FinJoin R23 ) in B13)))))
proof
let R22 being  lower-bounded Lattice;
let C24 being (ClosedSubset of R22);
defpred S2[ (Finite_Subset of (the carrier of R22)) ] means ($1 c= C24 implies ( FinJoin $1 ) in C24);
L155: (for B14 being (Finite_Subset of (the carrier of R22)) holds (for B15 being (Element of R22) holds (S2[ B14 ] implies S2[ ( B14 \/ {. B15 .} ) ])))
proof
let C25 being (Finite_Subset of (the carrier of R22));
let C26 being (Element of R22);
assume L156: (C25 c= C24 implies ( FinJoin C25 ) in C24);
assume L157: ( C25 \/ { C26 } ) c= C24;
L158: { C26 } c= C24 by L157 , XBOOLE_1:11;
L159: C26 in C24 by L158 , ZFMISC_1:31;
L160: ( ( FinJoin C25 ) "\/" C26 ) in C24 by L159 , L156 , L157 , LATTICES:def 25 , XBOOLE_1:11;
thus L161: thesis by L160 , L147;
end;
assume L162: ( Bottom R22 ) in C24;
L163: S2[ ( {}. (the carrier of R22) ) ] by L162 , L151;
thus L164: (for B16 being (Element of ( Fin (the carrier of R22) )) holds S2[ B16 ]) from SETWISEO:sch 4(L163 , L155);
end;
begin
theorem
L165: (for R14 being Lattice holds (for R28 being  upper-bounded Lattice holds (for B17 being (Homomorphism of R28 , R14) holds (B17 is  onto implies (R14 is  upper-bounded & B17 preserves_top )))))
proof
let R14 being Lattice;
let R28 being  upper-bounded Lattice;
let C27 being (Homomorphism of R28 , R14);
set D24 = ( C27 . ( Top R28 ) );
assume L166: C27 is  onto;
L167:
now
let C28 being (Element of R14);
consider C29 being (Element of R28) such that L168: ( C27 . C29 ) = C28 by L166 , L50;
thus L169: ( D24 "\/" C28 ) = ( C27 . ( ( Top R28 ) "\/" C29 ) ) by L168 , L29
.= D24 by LATTICES:18;
thus L170: ( C28 "\/" D24 ) = D24 by L169;
end;
thus L171: R14 is  upper-bounded
proof
take D24;
thus L172: thesis by L167;
end;

L173: ( Top R14 ) = D24 by L171 , L167 , LATTICES:def 17;
thus L174: thesis by L173 , L113;
end;
L175: (for R28 being  upper-bounded Lattice holds (for B18 being (Function of (the carrier of R28) , (the carrier of R28)) holds ( FinMeet (( {}. (the carrier of R28) ) , B18) ) = ( Top R28 )))
proof
let R28 being  upper-bounded Lattice;
let C30 being (Function of (the carrier of R28) , (the carrier of R28));
set D25 = (the L_meet of R28);
thus L176: ( FinMeet (( {}. (the carrier of R28) ) , C30) ) = ( D25 $$ (( {}. (the carrier of R28) ) , C30) ) by LATTICE2:def 4
.= ( the_unity_wrt D25 ) by SETWISEO:31
.= ( Top R28 ) by LATTICE2:57;
end;
theorem
L177: (for R28 being  upper-bounded Lattice holds ( FinMeet ( {}. (the carrier of R28) ) ) = ( Top R28 )) by L175;
theorem
L178: (for R28 being  upper-bounded Lattice holds (for R29 being (Finite_Subset of (the carrier of R28)) holds (for R32 being (Element of R28) holds (for R33 being (UnOp of (the carrier of R28)) holds ( FinMeet (( R29 \/ {. R32 .} ) , R33) ) = ( ( FinMeet (R29 , R33) ) "/\" ( R33 . R32 ) )))))
proof
let R28 being  upper-bounded Lattice;
let R29 being (Finite_Subset of (the carrier of R28));
let R32 being (Element of R28);
let R33 being (UnOp of (the carrier of R28));
set D26 = (the L_meet of R28);
thus L179: ( FinMeet (( R29 \/ {. R32 .} ) , R33) ) = ( D26 $$ (( R29 \/ {. R32 .} ) , R33) ) by LATTICE2:def 4
.= ( ( D26 $$ (R29 , R33) ) "/\" ( R33 . R32 ) ) by SETWISEO:32
.= ( ( FinMeet (R29 , R33) ) "/\" ( R33 . R32 ) ) by LATTICE2:def 4;
end;
theorem
L180: (for R28 being  upper-bounded Lattice holds (for R29 being (Finite_Subset of (the carrier of R28)) holds (for R32 being (Element of R28) holds ( FinMeet ( R29 \/ {. R32 .} ) ) = ( ( FinMeet R29 ) "/\" R32 ))))
proof
let R28 being  upper-bounded Lattice;
let R29 being (Finite_Subset of (the carrier of R28));
let R32 being (Element of R28);
thus L181: ( FinMeet ( R29 \/ {. R32 .} ) ) = ( ( FinMeet (R29 , ( id R28 )) ) "/\" ( ( id R28 ) . R32 ) ) by L178
.= ( ( FinMeet R29 ) "/\" R32 ) by FUNCT_1:18;
end;
theorem
L182: (for R28 being  upper-bounded Lattice holds (for R29 being (Finite_Subset of (the carrier of R28)) holds (for R33 being (UnOp of (the carrier of R28)) holds (for R34 being (UnOp of (the carrier of R28)) holds ( FinMeet (( R33 .: R29 ) , R34) ) = ( FinMeet (R29 , ( R34 * R33 )) )))))
proof
let R28 being  upper-bounded Lattice;
let R29 being (Finite_Subset of (the carrier of R28));
let R33 being (UnOp of (the carrier of R28));
let R34 being (UnOp of (the carrier of R28));
set D27 = (the L_meet of R28);
thus L183: ( FinMeet (( R33 .: R29 ) , R34) ) = ( D27 $$ (( R33 .: R29 ) , R34) ) by LATTICE2:def 4
.= ( D27 $$ (R29 , ( R34 * R33 )) ) by SETWISEO:35
.= ( FinMeet (R29 , ( R34 * R33 )) ) by LATTICE2:def 4;
end;
theorem
L184: (for R28 being  upper-bounded Lattice holds (for R30 being (Finite_Subset of (the carrier of R28)) holds (for R31 being (Finite_Subset of (the carrier of R28)) holds ( ( FinMeet R30 ) "/\" ( FinMeet R31 ) ) = ( FinMeet ( R30 \/ R31 ) ))))
proof
let R28 being  upper-bounded Lattice;
let R30 being (Finite_Subset of (the carrier of R28));
let R31 being (Finite_Subset of (the carrier of R28));
set D28 = (the L_meet of R28);
thus L185: ( FinMeet ( R30 \/ R31 ) ) = ( D28 $$ (( R30 \/ R31 ) , ( id R28 )) ) by LATTICE2:def 4
.= ( ( D28 $$ (R30 , ( id R28 )) ) "/\" ( D28 $$ (R31 , ( id R28 )) ) ) by SETWISEO:33
.= ( ( FinMeet R30 ) "/\" ( D28 $$ (R31 , ( id R28 )) ) ) by LATTICE2:def 4
.= ( ( FinMeet R30 ) "/\" ( FinMeet R31 ) ) by LATTICE2:def 4;
end;
theorem
L186: (for R28 being  upper-bounded Lattice holds (for B19 being (ClosedSubset of R28) holds (( Top R28 ) in B19 implies (for R29 being (Finite_Subset of (the carrier of R28)) holds (R29 c= B19 implies ( FinMeet R29 ) in B19)))))
proof
let R28 being  upper-bounded Lattice;
let C31 being (ClosedSubset of R28);
defpred S3[ (Finite_Subset of (the carrier of R28)) ] means ($1 c= C31 implies ( FinMeet $1 ) in C31);
L187: (for B20 being (Finite_Subset of (the carrier of R28)) holds (for B21 being (Element of R28) holds (S3[ B20 ] implies S3[ ( B20 \/ {. B21 .} ) ])))
proof
let C32 being (Finite_Subset of (the carrier of R28));
let C33 being (Element of R28);
assume L188: (C32 c= C31 implies ( FinMeet C32 ) in C31);
assume L189: ( C32 \/ { C33 } ) c= C31;
L190: { C33 } c= C31 by L189 , XBOOLE_1:11;
L191: C33 in C31 by L190 , ZFMISC_1:31;
L192: ( ( FinMeet C32 ) "/\" C33 ) in C31 by L191 , L188 , L189 , LATTICES:def 24 , XBOOLE_1:11;
thus L193: thesis by L192 , L180;
end;
assume L194: ( Top R28 ) in C31;
L195: S3[ ( {}. (the carrier of R28) ) ] by L194 , L175;
thus L196: (for B22 being (Element of ( Fin (the carrier of R28) )) holds S3[ B22 ]) from SETWISEO:sch 4(L195 , L187);
end;
begin
L197: (for R35 being  distributive  upper-bounded Lattice holds (for R36 being (Finite_Subset of (the carrier of R35)) holds (for R37 being (Element of R35) holds (for R38 being (UnOp of (the carrier of R35)) holds ( (the L_join of R35) . (( (the L_meet of R35) $$ (R36 , R38) ) , R37) ) = ( (the L_meet of R35) $$ (R36 , ( (the L_join of R35) [:] (R38 , R37) )) )))))
proof
let R35 being  distributive  upper-bounded Lattice;
let R36 being (Finite_Subset of (the carrier of R35));
let R37 being (Element of R35);
let R38 being (UnOp of (the carrier of R35));
set D29 = (the L_join of R35);
set D30 = (the L_meet of R35);
L198:
now
per cases ;
suppose L199: R36 <> ( {} );

thus L200: thesis by L199 , LATTICE2:21 , SETWISEO:28;
end;
suppose L201: R36 = ( {} );

L202:
now
let R38 being (UnOp of (the carrier of R35));
thus L203: ( D30 $$ (R36 , R38) ) = ( FinMeet (( {}. (the carrier of R35) ) , R38) ) by L201 , LATTICE2:def 4
.= ( Top R35 ) by L175;
end;
thus L204: ( D29 . (( D30 $$ (R36 , R38) ) , R37) ) = ( ( Top R35 ) "\/" R37 ) by L202
.= ( Top R35 )
.= ( D30 $$ (R36 , ( D29 [:] (R38 , R37) )) ) by L202;
end;
end;
thus L206: thesis by L198;
end;
theorem
L207: (for R35 being  distributive  upper-bounded Lattice holds (for R36 being (Finite_Subset of (the carrier of R35)) holds (for R37 being (Element of R35) holds ( ( FinMeet R36 ) "\/" R37 ) = ( FinMeet ( ( (the L_join of R35) [:] (( id R35 ) , R37) ) .: R36 ) ))))
proof
let R35 being  distributive  upper-bounded Lattice;
let R36 being (Finite_Subset of (the carrier of R35));
let R37 being (Element of R35);
set D31 = (the L_join of R35);
set D32 = (the L_meet of R35);
thus L208: ( ( FinMeet R36 ) "\/" R37 ) = ( D31 . (( D32 $$ (R36 , ( id R35 )) ) , R37) ) by LATTICE2:def 4
.= ( D32 $$ (R36 , ( D31 [:] (( id R35 ) , R37) )) ) by L197
.= ( FinMeet (R36 , ( D31 [:] (( id R35 ) , R37) )) ) by LATTICE2:def 4
.= ( FinMeet (R36 , ( ( id R35 ) * ( D31 [:] (( id R35 ) , R37) ) )) ) by FUNCT_2:17
.= ( FinMeet ( ( (the L_join of R35) [:] (( id R35 ) , R37) ) .: R36 ) ) by L182;
end;
begin
theorem
L209: (for R39 being C_Lattice holds (for R40 being  implicative Lattice holds (for R41 being (Homomorphism of R40 , R39) holds (for R42 being (Element of R40) holds (for R43 being (Element of R40) holds ( ( R41 . R42 ) "/\" ( R41 . ( R42 => R43 ) ) ) [= ( R41 . R43 ))))))
proof
let R39 being C_Lattice;
let R40 being  implicative Lattice;
let R41 being (Homomorphism of R40 , R39);
let R42 being (Element of R40);
let R43 being (Element of R40);
L210: ( R42 "/\" ( R42 => R43 ) ) [= R43 by FILTER_0:def 7;
L211: ( R41 . ( R42 "/\" ( R42 => R43 ) ) ) [= ( R41 . R43 ) by L210 , L38;
thus L212: thesis by L211 , L29;
end;
theorem
L213: (for R39 being C_Lattice holds (for R40 being  implicative Lattice holds (for R41 being (Homomorphism of R40 , R39) holds (for R42 being (Element of R40) holds (for R43 being (Element of R40) holds (for R44 being (Element of R40) holds (R41 is  one-to-one implies (( ( R41 . R42 ) "/\" ( R41 . R44 ) ) [= ( R41 . R43 ) implies ( R41 . R44 ) [= ( R41 . ( R42 => R43 ) )))))))))
proof
let R39 being C_Lattice;
let R40 being  implicative Lattice;
let R41 being (Homomorphism of R40 , R39);
let R42 being (Element of R40);
let R43 being (Element of R40);
let R44 being (Element of R40);
assume L214: R41 is  one-to-one;
thus L215:now
assume L216: ( ( R41 . R42 ) "/\" ( R41 . R44 ) ) [= ( R41 . R43 );
L217: ( R41 . ( R42 "/\" R44 ) ) [= ( R41 . R43 ) by L216 , L29;
L218: ( R42 "/\" R44 ) [= R43 by L217 , L214 , L42;
L219: R44 [= ( R42 => R43 ) by L218 , FILTER_0:def 7;
thus L220: ( R41 . R44 ) [= ( R41 . ( R42 => R43 ) ) by L219 , L38;
end;
end;
theorem
L216: (for R39 being C_Lattice holds (for R40 being  implicative Lattice holds (for R41 being (Homomorphism of R40 , R39) holds (R41 is  bijective implies (R39 is  implicative & R41 preserves_implication )))))
proof
let R39 being C_Lattice;
let R40 being  implicative Lattice;
let R41 being (Homomorphism of R40 , R39);
assume L217: R41 is  bijective;
thus L218: R39 is  implicative
proof
let C34 , C35 being (Element of R39);
consider R42 being (Element of R40) such that L219: ( R41 . R42 ) = C34 by L217 , L50;
consider R43 being (Element of R40) such that L220: ( R41 . R43 ) = C35 by L217 , L50;
take D33 = ( R41 . ( R42 => R43 ) );
thus L221: ( C34 "/\" D33 ) [= C35 by L219 , L220 , L209;
thus L222:now
let C36 being (Element of R39);
assume L223: ( C34 "/\" C36 ) [= C35;
L224: (ex R44 being (Element of R40) st ( R41 . R44 ) = C36) by L217 , L50;
thus L225: C36 [= D33 by L224 , L217 , L219 , L220 , L223 , L213;
end;
end;

reconsider D34 = R39 as  implicative Lattice by L218;
reconsider D35 = R41 as (Homomorphism of R40 , D34);
L223:
now
let R42 being (Element of R40);
let R43 being (Element of R40);
L224:
now
let C37 being (Element of D34);
assume L225: ( ( D35 . R42 ) "/\" C37 ) [= ( D35 . R43 );
L226: (ex R44 being (Element of R40) st ( D35 . R44 ) = C37) by L217 , L50;
thus L227: C37 [= ( D35 . ( R42 => R43 ) ) by L226 , L217 , L225 , L213;
end;
L228: ( ( D35 . R42 ) "/\" ( D35 . ( R42 => R43 ) ) ) [= ( D35 . R43 ) by L209;
thus L229: ( ( D35 . R42 ) => ( D35 . R43 ) ) = ( D35 . ( R42 => R43 ) ) by L228 , L224 , FILTER_0:def 7;
end;
thus L230: thesis by L223 , L112;
end;
begin
theorem
L231: (for R45 being  Boolean Lattice holds ( ( Top R45 ) ` ) = ( Bottom R45 ))
proof
let R45 being  Boolean Lattice;
set D36 = ( Bottom R45 );
thus L232: ( ( Top R45 ) ` ) = ( ( D36 "\/" ( D36 ` ) ) ` ) by LATTICES:21
.= ( ( D36 ` ) "/\" ( ( D36 ` ) ` ) )
.= ( Bottom R45 );
end;
theorem
L233: (for R45 being  Boolean Lattice holds ( ( Bottom R45 ) ` ) = ( Top R45 ))
proof
let R45 being  Boolean Lattice;
set D37 = ( Top R45 );
thus L234: ( ( Bottom R45 ) ` ) = ( ( D37 "/\" ( D37 ` ) ) ` ) by LATTICES:20
.= ( ( D37 ` ) "\/" ( ( D37 ` ) ` ) )
.= ( Top R45 );
end;
theorem
L235: (for R39 being C_Lattice holds (for R45 being  Boolean Lattice holds (for R46 being (Homomorphism of R45 , R39) holds (R46 is  onto implies (R39 is  Boolean & R46 preserves_complement )))))
proof
let R39 being C_Lattice;
let R45 being  Boolean Lattice;
let R46 being (Homomorphism of R45 , R39);
assume L236: R46 is  onto;
L237: R46 preserves_top  by L236 , L165;
thus L238: R39 is  bounded  complemented;
thus L239: R39 is  distributive by L236 , L132;
reconsider D38 = R39 as  Boolean Lattice by L239;
L240: R46 preserves_bottom  by L236 , L135;
reconsider D39 = R46 as (Homomorphism of R45 , D38);
L241:
now
let R48 being (Element of R45);
L242: ( ( D39 . ( R48 ` ) ) "/\" ( D39 . R48 ) ) = ( D39 . ( ( R48 ` ) "/\" R48 ) ) by L29
.= ( D39 . ( Bottom R45 ) ) by LATTICES:20
.= ( Bottom D38 ) by L240 , L114;
L243: ( ( D39 . ( R48 ` ) ) "\/" ( D39 . R48 ) ) = ( D39 . ( ( R48 ` ) "\/" R48 ) ) by L29
.= ( D39 . ( Top R45 ) ) by LATTICES:21
.= ( Top D38 ) by L237 , L113;
L244: ( D39 . ( R48 ` ) ) is_a_complement_of ( D39 . R48 ) by L243 , L242 , LATTICES:def 18;
thus L245: ( ( D39 . R48 ) ` ) = ( D39 . ( R48 ` ) ) by L244 , LATTICES:def 21;
end;
thus L246: thesis by L241 , L115;
end;
definition
let R45 being  Boolean Lattice;
mode Field of R45
 -> non  empty (Subset of R45)
means :L247: (for R49 being (Element of R45) holds (for R50 being (Element of R45) holds ((R49 in it & R50 in it) implies (( R49 "/\" R50 ) in it & ( R49 ` ) in it))));
existence
proof
L248: (the carrier of R45) c= (the carrier of R45);
reconsider D40 = (the carrier of R45) as non  empty (Subset of R45) by L248;
take D40;
thus L249: thesis;
end;
end;
theorem
L251: (for R45 being  Boolean Lattice holds (for R49 being (Element of R45) holds (for R50 being (Element of R45) holds (for R60 being (Field of R45) holds ((R49 in R60 & R50 in R60) implies ( R49 "\/" R50 ) in R60)))))
proof
let R45 being  Boolean Lattice;
let R49 being (Element of R45);
let R50 being (Element of R45);
let R60 being (Field of R45);
assume L252: (R49 in R60 & R50 in R60);
L253: (( R49 ` ) in R60 & ( R50 ` ) in R60) by L252 , L247;
L254: ( ( R49 ` ) "/\" ( R50 ` ) ) in R60 by L253 , L247;
L255: ( ( R49 "\/" R50 ) ` ) in R60 by L254 , LATTICES:24;
L256: ( ( ( R49 "\/" R50 ) ` ) ` ) in R60 by L255 , L247;
thus L257: thesis by L256 , LATTICES:22;
end;
theorem
L258: (for R45 being  Boolean Lattice holds (for R49 being (Element of R45) holds (for R50 being (Element of R45) holds (for R60 being (Field of R45) holds ((R49 in R60 & R50 in R60) implies ( R49 => R50 ) in R60)))))
proof
let R45 being  Boolean Lattice;
let R49 being (Element of R45);
let R50 being (Element of R45);
let R60 being (Field of R45);
assume that
L259: R49 in R60
and
L260: R50 in R60;
L261: ( R49 ` ) in R60 by L259 , L247;
L262: ( ( R49 ` ) "\/" R50 ) in R60 by L261 , L260 , L251;
thus L263: thesis by L262 , FILTER_0:42;
end;
theorem
L264: (for R45 being  Boolean Lattice holds (the carrier of R45) is (Field of R45))
proof
let R45 being  Boolean Lattice;
L265: (the carrier of R45) c= (the carrier of R45);
reconsider D41 = (the carrier of R45) as non  empty (Subset of R45) by L265;
L266: (for R49 being (Element of R45) holds (for R50 being (Element of R45) holds ((R49 in D41 & R50 in D41) implies (( R49 "/\" R50 ) in D41 & ( R49 ` ) in D41))));
thus L267: thesis by L266 , L247;
end;
theorem
L268: (for R45 being  Boolean Lattice holds (for R60 being (Field of R45) holds R60 is (ClosedSubset of R45)))
proof
let R45 being  Boolean Lattice;
let R60 being (Field of R45);
L269: (for R49 being (Element of R45) holds (for R50 being (Element of R45) holds ((R49 in R60 & R50 in R60) implies ( R49 "/\" R50 ) in R60))) by L247;
L270: (for R49 being (Element of R45) holds (for R50 being (Element of R45) holds ((R49 in R60 & R50 in R60) implies ( R49 "\/" R50 ) in R60))) by L251;
thus L271: thesis by L270 , L269 , LATTICES:def 24 , LATTICES:def 25;
end;
definition
let R45 being  Boolean Lattice;
let R47 being non  empty (Subset of R45);
func field_by R47 -> (Field of R45) means 
:L272: (R47 c= it & (for R60 being (Field of R45) holds (R47 c= R60 implies it c= R60)));
existence
proof
set D42 = the (Element of R47);
defpred S4[ set ] means ($1 is (Field of R45) & R47 c= $1);
consider R3 being set such that L273: (for R6 being set holds (R6 in R3 iff (R6 in ( bool (the carrier of R45) ) & S4[ R6 ]))) from XBOOLE_0:sch 1;
reconsider D43 = D42 as (Element of R45);
L274: (the carrier of R45) is (Field of R45) by L264;
L275: R3 <> ( {} ) by L274 , L273;
L276:
now
let R6 being set;
assume L277: R6 in R3;
L278: R47 c= R6 by L277 , L273;
thus L279: D43 in R6 by L278 , TARSKI:def 3;
end;
reconsider D44 = ( meet R3 ) as non  empty set by L276 , L275 , SETFAM_1:def 1;
L280: (the carrier of R45) in R3 by L273 , L274;
L281: D44 c= (the carrier of R45)
proof
let R1 being set;
thus L282: thesis by L280 , SETFAM_1:def 1;
end;
reconsider D45 = D44 as non  empty (Subset of R45) by L281;
L283: D45 is (Field of R45)
proof
let R49 being (Element of R45);
let R50 being (Element of R45);
assume that
L284: R49 in D45
and
L285: R50 in D45;
L286: (for R6 being set holds (R6 in R3 implies ( R49 "/\" R50 ) in R6))
proof
let R6 being set;
assume L287: R6 in R3;
L288: R50 in R6 by L287 , L285 , SETFAM_1:def 1;
L289: (R6 is (Field of R45) & R49 in R6) by L273 , L284 , L287 , SETFAM_1:def 1;
thus L290: thesis by L289 , L288 , L247;
end;
L291: (for R6 being set holds (R6 in R3 implies ( R49 ` ) in R6))
proof
let R6 being set;
assume L292: R6 in R3;
L293: (R6 is (Field of R45) & R49 in R6) by L292 , L273 , L284 , SETFAM_1:def 1;
thus L294: thesis by L293 , L247;
end;
thus L295: thesis by L291 , L275 , L286 , SETFAM_1:def 1;
end;
reconsider D46 = D45 as (Field of R45) by L283;
take D46;
L296: (for R6 being set holds (R6 in R3 implies R47 c= R6)) by L273;
thus L297: R47 c= D46 by L296 , L280 , SETFAM_1:5;
let R61 being (Field of R45);
assume L298: R47 c= R61;
L299: R61 in R3 by L298 , L273;
thus L300: thesis by L299 , SETFAM_1:3;
end;
uniqueness
proof
let C38 , C39 being (Field of R45);
assume L301: (R47 c= C38 & (for R60 being (Field of R45) holds (R47 c= R60 implies C38 c= R60)) & R47 c= C39 & (for R60 being (Field of R45) holds (R47 c= R60 implies C39 c= R60)));
thus L302: (C38 c= C39 & C39 c= C38) by L301;
end;
end;
definition
let R45 being  Boolean Lattice;
let R47 being non  empty (Subset of R45);
func SetImp R47 -> (Subset of R45) equals 
{ ( R49 => R50 ) where R49 is (Element of R45) , R50 is (Element of R45) : (R49 in R47 & R50 in R47) };
coherence
proof
set D47 = { ( R49 => R50 ) where R49 is (Element of R45) , R50 is (Element of R45) : (R49 in R47 & R50 in R47) };
L304: D47 c= (the carrier of R45)
proof
let R1 being set;
assume L305: R1 in D47;
L306: (ex R52 being (Element of R45) st (ex R53 being (Element of R45) st (R1 = ( R52 => R53 ) & R52 in R47 & R53 in R47))) by L305;
thus L307: thesis by L306;
end;
thus L308: thesis by L304;
end;
end;
registration
let R45 being  Boolean Lattice;
let R47 being non  empty (Subset of R45);
cluster ( SetImp R47 ) -> non  empty;
coherence
proof
set D48 = the (Element of R47);
set D49 = { ( R49 => R50 ) where R49 is (Element of R45) , R50 is (Element of R45) : (R49 in R47 & R50 in R47) };
reconsider D50 = D48 as (Element of R45);
L310: ( D50 => D50 ) in D49;
reconsider D51 = D49 as non  empty set by L310;
L311: D51 = ( SetImp R47 );
thus L312: thesis by L311;
end;
end;
theorem
L314: (for R1 being set holds (for R45 being  Boolean Lattice holds (for R47 being non  empty (Subset of R45) holds (R1 in ( SetImp R47 ) iff (ex R52 being (Element of R45) st (ex R53 being (Element of R45) st (R1 = ( R52 => R53 ) & R52 in R47 & R53 in R47)))))));
theorem
L315: (for R45 being  Boolean Lattice holds (for R47 being non  empty (Subset of R45) holds (for R51 being (Element of R45) holds (R51 in ( SetImp R47 ) iff (ex R52 being (Element of R45) st (ex R53 being (Element of R45) st (R51 = ( ( R52 ` ) "\/" R53 ) & R52 in R47 & R53 in R47)))))))
proof
let R45 being  Boolean Lattice;
let R47 being non  empty (Subset of R45);
let R51 being (Element of R45);
thus L316:now
assume L317: R51 in ( SetImp R47 );
consider R52 being (Element of R45), R53 being (Element of R45) such that L318: (R51 = ( R52 => R53 ) & R52 in R47 & R53 in R47) by L317;
take D52 = R52;
take D53 = R53;
thus L319: (R51 = ( ( D52 ` ) "\/" D53 ) & D52 in R47 & D53 in R47) by L318 , FILTER_0:42;
end;
given R52 being (Element of R45) , R53 being (Element of R45) such that
L320: R51 = ( ( R52 ` ) "\/" R53 )
and
L321: (R52 in R47 & R53 in R47);

L322: R51 = ( R52 => R53 ) by L320 , FILTER_0:42;
thus L323: thesis by L322 , L321;
end;
definition
let R45 being  Boolean Lattice;
deffunc H1((Element of R45)) = ( $1 ` );
func comp R45 -> (Function of (the carrier of R45) , (the carrier of R45)) means 
:L324: (for R49 being (Element of R45) holds ( it . R49 ) = ( R49 ` ));
existence
proof
consider C40 being (Function of (the carrier of R45) , (the carrier of R45)) such that L325: (for R49 being (Element of R45) holds ( C40 . R49 ) = H1(R49)) from FUNCT_2:sch 4;
take C40;
thus L326: thesis by L325;
end;
uniqueness
proof
thus L327: (for B23 , B24 being (Function of (the carrier of R45) , (the carrier of R45)) holds (((for B25 being (Element of R45) holds ( B23 . B25 ) = H1(B25)) & (for B26 being (Element of R45) holds ( B24 . B26 ) = H1(B26))) implies B23 = B24)) from BINOP_2:sch 1;
end;
end;
theorem
L329: (for R45 being  Boolean Lattice holds (for R50 being (Element of R45) holds (for R54 being (Finite_Subset of (the carrier of R45)) holds ( FinJoin (( R54 \/ {. R50 .} ) , ( comp R45 )) ) = ( ( FinJoin (R54 , ( comp R45 )) ) "\/" ( R50 ` ) ))))
proof
let R45 being  Boolean Lattice;
let R50 being (Element of R45);
let R54 being (Finite_Subset of (the carrier of R45));
thus L330: ( FinJoin (( R54 \/ {. R50 .} ) , ( comp R45 )) ) = ( ( FinJoin (R54 , ( comp R45 )) ) "\/" ( ( comp R45 ) . R50 ) ) by L145
.= ( ( FinJoin (R54 , ( comp R45 )) ) "\/" ( R50 ` ) ) by L324;
end;
theorem
L331: (for R45 being  Boolean Lattice holds (for R54 being (Finite_Subset of (the carrier of R45)) holds ( ( FinJoin R54 ) ` ) = ( FinMeet (R54 , ( comp R45 )) )))
proof
let R45 being  Boolean Lattice;
let R54 being (Finite_Subset of (the carrier of R45));
set D54 = (the L_meet of R45);
set D55 = (the L_join of R45);
L332: (for B27 , B28 being (Element of R45) holds ( ( comp R45 ) . ( D55 . (B27 , B28) ) ) = ( D54 . (( ( comp R45 ) . B27 ) , ( ( comp R45 ) . B28 )) ))
proof
let C41 , C42 being (Element of R45);
thus L333: ( ( comp R45 ) . ( D55 . (C41 , C42) ) ) = ( ( C41 "\/" C42 ) ` ) by L324
.= ( ( C41 ` ) "/\" ( C42 ` ) ) by LATTICES:24
.= ( D54 . (( ( comp R45 ) . C41 ) , ( C42 ` )) ) by L324
.= ( D54 . (( ( comp R45 ) . C41 ) , ( ( comp R45 ) . C42 )) ) by L324;
end;
L334: ( ( comp R45 ) . ( the_unity_wrt D55 ) ) = ( ( the_unity_wrt D55 ) ` ) by L324
.= ( ( Bottom R45 ) ` ) by LATTICE2:52
.= ( Top R45 ) by L233
.= ( the_unity_wrt D54 ) by LATTICE2:57;
thus L335: ( ( FinJoin R54 ) ` ) = ( ( D55 $$ (R54 , ( id R45 )) ) ` ) by LATTICE2:def 3
.= ( ( comp R45 ) . ( D55 $$ (R54 , ( id R45 )) ) ) by L324
.= ( D54 $$ (R54 , ( ( comp R45 ) * ( id R45 ) )) ) by L334 , L332 , SETWISEO:36
.= ( D54 $$ (R54 , ( comp R45 )) ) by FUNCT_2:17
.= ( FinMeet (R54 , ( comp R45 )) ) by LATTICE2:def 4;
end;
theorem
L336: (for R45 being  Boolean Lattice holds (for R50 being (Element of R45) holds (for R54 being (Finite_Subset of (the carrier of R45)) holds ( FinMeet (( R54 \/ {. R50 .} ) , ( comp R45 )) ) = ( ( FinMeet (R54 , ( comp R45 )) ) "/\" ( R50 ` ) ))))
proof
let R45 being  Boolean Lattice;
let R50 being (Element of R45);
let R54 being (Finite_Subset of (the carrier of R45));
thus L337: ( FinMeet (( R54 \/ {. R50 .} ) , ( comp R45 )) ) = ( ( FinMeet (R54 , ( comp R45 )) ) "/\" ( ( comp R45 ) . R50 ) ) by L178
.= ( ( FinMeet (R54 , ( comp R45 )) ) "/\" ( R50 ` ) ) by L324;
end;
theorem
L338: (for R45 being  Boolean Lattice holds (for R54 being (Finite_Subset of (the carrier of R45)) holds ( ( FinMeet R54 ) ` ) = ( FinJoin (R54 , ( comp R45 )) )))
proof
let R45 being  Boolean Lattice;
let R54 being (Finite_Subset of (the carrier of R45));
set D56 = (the L_meet of R45);
set D57 = (the L_join of R45);
L339: (for B29 , B30 being (Element of R45) holds ( ( comp R45 ) . ( D56 . (B29 , B30) ) ) = ( D57 . (( ( comp R45 ) . B29 ) , ( ( comp R45 ) . B30 )) ))
proof
let C43 , C44 being (Element of R45);
thus L340: ( ( comp R45 ) . ( D56 . (C43 , C44) ) ) = ( ( C43 "/\" C44 ) ` ) by L324
.= ( ( C43 ` ) "\/" ( C44 ` ) ) by LATTICES:23
.= ( D57 . (( ( comp R45 ) . C43 ) , ( C44 ` )) ) by L324
.= ( D57 . (( ( comp R45 ) . C43 ) , ( ( comp R45 ) . C44 )) ) by L324;
end;
L341: ( ( comp R45 ) . ( the_unity_wrt D56 ) ) = ( ( the_unity_wrt D56 ) ` ) by L324
.= ( ( Top R45 ) ` ) by LATTICE2:57
.= ( Bottom R45 ) by L231
.= ( the_unity_wrt D57 ) by LATTICE2:52;
thus L342: ( ( FinMeet R54 ) ` ) = ( ( D56 $$ (R54 , ( id R45 )) ) ` ) by LATTICE2:def 4
.= ( ( comp R45 ) . ( D56 $$ (R54 , ( id R45 )) ) ) by L324
.= ( D57 $$ (R54 , ( ( comp R45 ) * ( id R45 ) )) ) by L341 , L339 , SETWISEO:36
.= ( D57 $$ (R54 , ( comp R45 )) ) by FUNCT_2:17
.= ( FinJoin (R54 , ( comp R45 )) ) by LATTICE2:def 3;
end;
theorem
L343: (for R45 being  Boolean Lattice holds (for B31 being non  empty (ClosedSubset of R45) holds ((( Bottom R45 ) in B31 & ( Top R45 ) in B31) implies (for R54 being (Finite_Subset of (the carrier of R45)) holds (R54 c= ( SetImp B31 ) implies (ex R55 being (Finite_Subset of (the carrier of R45)) st (R55 c= ( SetImp B31 ) & ( FinJoin (R54 , ( comp R45 )) ) = ( FinMeet R55 ))))))))
proof
let R45 being  Boolean Lattice;
let C45 being non  empty (ClosedSubset of R45);
assume that
L344: ( Bottom R45 ) in C45
and
L345: ( Top R45 ) in C45;
set D58 = { ( ( FinJoin R58 ) "\/" ( FinJoin (R59 , ( comp R45 )) ) ) where R58 is (Finite_Subset of (the carrier of R45)) , R59 is (Finite_Subset of (the carrier of R45)) : (R58 c= C45 & R59 c= C45) };
L346: D58 c= ( SetImp C45 )
proof
let R1 being set;
assume L347: R1 in D58;
consider R58 being (Finite_Subset of (the carrier of R45)), R59 being (Finite_Subset of (the carrier of R45)) such that L348: R1 = ( ( FinJoin R58 ) "\/" ( FinJoin (R59 , ( comp R45 )) ) ) and L349: (R58 c= C45 & R59 c= C45) by L347;
consider R52 being (Element of R45), R53 being (Element of R45) such that L350: (R52 = ( FinMeet R59 ) & R53 = ( FinJoin R58 ));
L351: R1 = ( ( R52 ` ) "\/" R53 ) by L348 , L350 , L338;
L352: (R52 in C45 & R53 in C45) by L344 , L345 , L349 , L350 , L154 , L186;
thus L353: thesis by L352 , L351 , L315;
end;
defpred S5[ (Finite_Subset of (the carrier of R45)) ] means ($1 c= ( SetImp C45 ) implies (ex R55 being (Finite_Subset of (the carrier of R45)) st (R55 c= D58 & ( FinJoin ($1 , ( comp R45 )) ) = ( FinMeet R55 ))));
let R54 being (Finite_Subset of (the carrier of R45));
assume L354: R54 c= ( SetImp C45 );
L355: (for B32 being (Finite_Subset of (the carrier of R45)) holds (for B33 being (Element of R45) holds (S5[ B32 ] implies S5[ ( B32 \/ {. B33 .} ) ])))
proof
set D59 = (the L_join of R45);
let C46 being (Finite_Subset of (the carrier of R45));
let C47 being (Element of R45);
assume L356: (C46 c= ( SetImp C45 ) implies (ex R56 being (Finite_Subset of (the carrier of R45)) st (R56 c= D58 & ( FinJoin (C46 , ( comp R45 )) ) = ( FinMeet R56 ))));
assume L357: ( C46 \/ { C47 } ) c= ( SetImp C45 );
consider R56 being (Finite_Subset of (the carrier of R45)) such that L358: R56 c= D58 and L359: ( FinJoin (C46 , ( comp R45 )) ) = ( FinMeet R56 ) by L357 , L356 , ZFMISC_1:137;
L360: C47 in ( SetImp C45 ) by L357 , ZFMISC_1:137;
consider R52 being (Element of R45), R53 being (Element of R45) such that L361: C47 = ( ( R52 ` ) "\/" R53 ) and L362: R52 in C45 and L363: R53 in C45 by L360 , L315;
L364: (for R1 being set holds (for R50 being (Element of R45) holds (R1 in ( ( D59 [:] (( id R45 ) , R50) ) .: R56 ) implies (ex R49 being (Element of R45) st (R49 in R56 & R1 = ( R49 "\/" R50 ))))))
proof
let R1 being set;
let R50 being (Element of R45);
assume L365: R1 in ( ( D59 [:] (( id R45 ) , R50) ) .: R56 );
L366: ( ( D59 [:] (( id R45 ) , R50) ) .: R56 ) c= (the carrier of R45) by FUNCT_2:36;
reconsider D60 = R1 as (Element of R45) by L366 , L365;
consider R49 being (Element of R45) such that L367: R49 in R56 and L368: D60 = ( ( D59 [:] (( id R45 ) , R50) ) . R49 ) by L365 , FUNCT_2:65;
L369: D60 = ( D59 . (( ( id R45 ) . R49 ) , R50) ) by L368 , FUNCOP_1:48
.= ( R49 "\/" R50 ) by FUNCT_1:18;
thus L370: thesis by L369 , L367;
end;
L371: ( ( D59 [:] (( id R45 ) , R52) ) .: R56 ) c= D58
proof
let R1 being set;
assume L372: R1 in ( ( D59 [:] (( id R45 ) , R52) ) .: R56 );
consider R49 being (Element of R45) such that L373: R49 in R56 and L374: R1 = ( R49 "\/" R52 ) by L372 , L364;
L375: R49 in D58 by L358 , L373;
consider R58 being (Finite_Subset of (the carrier of R45)), R59 being (Finite_Subset of (the carrier of R45)) such that L376: R49 = ( ( FinJoin R58 ) "\/" ( FinJoin (R59 , ( comp R45 )) ) ) and L377: (R58 c= C45 & R59 c= C45) by L375;
L378: (ex B34 , B35 being (Finite_Subset of (the carrier of R45)) st (R1 = ( ( FinJoin B34 ) "\/" ( FinJoin (B35 , ( comp R45 )) ) ) & B34 c= C45 & B35 c= C45))
proof
take D61 = ( R58 \/ {. R52 .} );
take D62 = R59;
L379: R1 = ( ( ( FinJoin R58 ) "\/" R52 ) "\/" ( FinJoin (R59 , ( comp R45 )) ) ) by L374 , L376 , LATTICES:def 5
.= ( ( FinJoin D61 ) "\/" ( FinJoin (D62 , ( comp R45 )) ) ) by L147;
thus L380: thesis by L379 , L362 , L377 , ZFMISC_1:137;
end;
thus L381: thesis by L378;
end;
L382: ( ( D59 [:] (( id R45 ) , ( R53 ` )) ) .: R56 ) c= D58
proof
let R1 being set;
assume L383: R1 in ( ( D59 [:] (( id R45 ) , ( R53 ` )) ) .: R56 );
consider R49 being (Element of R45) such that L384: R49 in R56 and L385: R1 = ( R49 "\/" ( R53 ` ) ) by L383 , L364;
L386: R49 in D58 by L358 , L384;
consider R58 being (Finite_Subset of (the carrier of R45)), R59 being (Finite_Subset of (the carrier of R45)) such that L387: R49 = ( ( FinJoin R58 ) "\/" ( FinJoin (R59 , ( comp R45 )) ) ) and L388: (R58 c= C45 & R59 c= C45) by L386;
L389: (ex B36 , B37 being (Finite_Subset of (the carrier of R45)) st (R1 = ( ( FinJoin B36 ) "\/" ( FinJoin (B37 , ( comp R45 )) ) ) & B36 c= C45 & B37 c= C45))
proof
take D63 = R58;
take D64 = ( R59 \/ {. R53 .} );
L390: R1 = ( ( FinJoin R58 ) "\/" ( ( FinJoin (R59 , ( comp R45 )) ) "\/" ( R53 ` ) ) ) by L385 , L387 , LATTICES:def 5
.= ( ( FinJoin D63 ) "\/" ( FinJoin (D64 , ( comp R45 )) ) ) by L329;
thus L391: thesis by L390 , L363 , L388 , ZFMISC_1:137;
end;
thus L392: thesis by L389;
end;
take ( ( ( D59 [:] (( id R45 ) , R52) ) .: R56 ) \/ ( ( D59 [:] (( id R45 ) , ( R53 ` )) ) .: R56 ) );
L393: ( C47 ` ) = ( ( ( R52 ` ) ` ) "/\" ( R53 ` ) ) by L361 , LATTICES:24
.= ( R52 "/\" ( R53 ` ) );
L394: ( FinJoin (( C46 \/ {. C47 .} ) , ( comp R45 )) ) = ( ( FinMeet R56 ) "\/" ( R52 "/\" ( R53 ` ) ) ) by L393 , L359 , L329
.= ( ( ( FinMeet R56 ) "\/" R52 ) "/\" ( ( FinMeet R56 ) "\/" ( R53 ` ) ) ) by LATTICES:11
.= ( ( FinMeet ( ( D59 [:] (( id R45 ) , R52) ) .: R56 ) ) "/\" ( ( FinMeet R56 ) "\/" ( R53 ` ) ) ) by L207
.= ( ( FinMeet ( ( D59 [:] (( id R45 ) , R52) ) .: R56 ) ) "/\" ( FinMeet ( ( D59 [:] (( id R45 ) , ( R53 ` )) ) .: R56 ) ) ) by L207
.= ( FinMeet ( ( ( D59 [:] (( id R45 ) , R52) ) .: R56 ) \/ ( ( D59 [:] (( id R45 ) , ( R53 ` )) ) .: R56 ) ) ) by L184;
thus L395: thesis by L394 , L371 , L382 , XBOOLE_1:8;
end;
L396: S5[ ( {}. (the carrier of R45) ) ]
proof
assume L397: ( {}. (the carrier of R45) ) c= ( SetImp C45 );
take D65 = {. ( Bottom R45 ) .};
L398: D65 c= D58
proof
let R1 being set;
assume L399: R1 in D65;
L400: R1 = ( Bottom R45 ) by L399 , TARSKI:def 1;
L401: (ex R58 being (Finite_Subset of (the carrier of R45)) st (ex R59 being (Finite_Subset of (the carrier of R45)) st (R1 = ( ( FinJoin R58 ) "\/" ( FinJoin (R59 , ( comp R45 )) ) ) & R58 c= C45 & R59 c= C45)))
proof
take D66 = {. ( Bottom R45 ) .};
take D67 = {. ( Top R45 ) .};
thus L402: R1 = ( ( Bottom R45 ) "\/" ( Bottom R45 ) ) by L400
.= ( ( Bottom R45 ) "\/" ( ( Top R45 ) ` ) ) by L231
.= ( ( FinJoin D66 ) "\/" ( ( Top R45 ) ` ) ) by L128
.= ( ( FinJoin D66 ) "\/" ( ( FinMeet D67 ) ` ) ) by L130
.= ( ( FinJoin D66 ) "\/" ( FinJoin (D67 , ( comp R45 )) ) ) by L338;
thus L403: D66 c= C45 by L344 , ZFMISC_1:31;
thus L404: thesis by L345 , ZFMISC_1:31;
end;
thus L405: thesis by L401;
end;
L406: ( FinJoin (( {}. (the carrier of R45) ) , ( comp R45 )) ) = ( Bottom R45 ) by L151
.= ( FinMeet {. ( Bottom R45 ) .} ) by L130;
thus L407: thesis by L406 , L398;
end;
L408: (for B38 being (Finite_Subset of (the carrier of R45)) holds S5[ B38 ]) from SETWISEO:sch 4(L396 , L355);
L409: (ex R56 being (Finite_Subset of (the carrier of R45)) st (R56 c= D58 & ( FinJoin (R54 , ( comp R45 )) ) = ( FinMeet R56 ))) by L408 , L354;
thus L410: thesis by L409 , L346 , XBOOLE_1:1;
end;
theorem
L411: (for R45 being  Boolean Lattice holds (for B39 being non  empty (ClosedSubset of R45) holds ((( Bottom R45 ) in B39 & ( Top R45 ) in B39) implies { ( FinMeet R54 ) where R54 is (Finite_Subset of (the carrier of R45)) : R54 c= ( SetImp B39 ) } = ( field_by B39 ))))
proof
let R45 being  Boolean Lattice;
let C48 being non  empty (ClosedSubset of R45);
assume that
L412: ( Bottom R45 ) in C48
and
L413: ( Top R45 ) in C48;
set D68 = { ( FinMeet R54 ) where R54 is (Finite_Subset of (the carrier of R45)) : R54 c= ( SetImp C48 ) };
L414: C48 c= D68
proof
let R1 being set;
assume L415: R1 in C48;
reconsider D69 = R1 as (Element of R45) by L415;
reconsider D70 = {. D69 .} as (Finite_Subset of (the carrier of R45));
L416: D69 = ( ( Bottom R45 ) "\/" D69 )
.= ( ( ( Top R45 ) ` ) "\/" D69 ) by L231;
L417: D69 in ( SetImp C48 ) by L416 , L413 , L415 , L315;
L418: D70 c= ( SetImp C48 ) by L417 , ZFMISC_1:31;
L419: R1 = ( FinMeet D70 ) by L130;
thus L420: thesis by L419 , L418;
end;
L421: D68 c= (the carrier of R45)
proof
let R1 being set;
assume L422: R1 in D68;
L423: (ex R54 being (Finite_Subset of (the carrier of R45)) st (R1 = ( FinMeet R54 ) & R54 c= ( SetImp C48 ))) by L422;
thus L424: thesis by L423;
end;
reconsider D71 = D68 as non  empty (Subset of R45) by L421 , L414;
L425:
now
let R60 being (Field of R45);
assume L426: C48 c= R60;
thus L427: D71 c= R60
proof
reconsider D72 = R60 as (ClosedSubset of R45) by L268;
let R1 being set;
assume L428: R1 in D71;
consider R54 being (Finite_Subset of (the carrier of R45)) such that L429: R1 = ( FinMeet R54 ) and L430: R54 c= ( SetImp C48 ) by L428;
L431: ( SetImp C48 ) c= R60
proof
let R2 being set;
assume L432: R2 in ( SetImp C48 );
L433: (ex R52 being (Element of R45) st (ex R53 being (Element of R45) st (R2 = ( R52 => R53 ) & R52 in C48 & R53 in C48))) by L432;
thus L434: thesis by L433 , L426 , L258;
end;
L435: R54 c= D72 by L431 , L430 , XBOOLE_1:1;
thus L436: thesis by L435 , L413 , L426 , L429 , L186;
end;

end;
L428: D71 is (Field of R45)
proof
let R52 being (Element of R45);
let R53 being (Element of R45);
assume that
L429: R52 in D71
and
L430: R53 in D71;
thus L431: ( R52 "/\" R53 ) in D71
proof
consider R57 being (Finite_Subset of (the carrier of R45)) such that L432: (R53 = ( FinMeet R57 ) & R57 c= ( SetImp C48 )) by L430;
consider R56 being (Finite_Subset of (the carrier of R45)) such that L433: (R52 = ( FinMeet R56 ) & R56 c= ( SetImp C48 )) by L429;
consider R55 being (Finite_Subset of (the carrier of R45)) such that L434: R55 = ( R56 \/ R57 );
L435: (R55 c= ( SetImp C48 ) & ( R52 "/\" R53 ) = ( FinMeet R55 )) by L433 , L432 , L434 , L184 , XBOOLE_1:8;
thus L436: thesis by L435;
end;

thus L437: ( R52 ` ) in D71
proof
consider R54 being (Finite_Subset of (the carrier of R45)) such that L438: R52 = ( FinMeet R54 ) and L439: R54 c= ( SetImp C48 ) by L429;
L440: ( R52 ` ) = ( FinJoin (R54 , ( comp R45 )) ) by L438 , L338;
L441: (ex R55 being (Finite_Subset of (the carrier of R45)) st (R55 c= ( SetImp C48 ) & ( R52 ` ) = ( FinMeet R55 ))) by L440 , L412 , L413 , L439 , L343;
thus L442: thesis by L441;
end;

end;
thus L438: thesis by L428 , L414 , L425 , L272;
end;
