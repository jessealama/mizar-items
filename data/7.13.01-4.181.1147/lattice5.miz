:: J\'onsson Theorem
::  by Jaros{\l}aw Gryko
::
:: Received November 13, 1997
:: Copyright (c) 1997-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, FUNCT_1, FUNCOP_1, TARSKI, RELAT_1, FUNCT_6, XBOOLE_0,
      ZFMISC_1, SUBSET_1, ORDINAL1, ORDERS_2, LATTICE3, MSUALG_5, STRUCT_0,
      EQREL_1, PBOOLE, LATTICES, XXREAL_0, REWRITE1, SETFAM_1, RELAT_2,
      WAYBEL_0, GROUP_6, YELLOW_0, ORDINAL2, FINSEQ_1, ARYTM_3, ABIAN,
      FINSEQ_2, ARYTM_1, CARD_1, ORDINAL4, NAT_1, VALUED_0, FUNCT_2, MCART_1,
      PARTFUN1, LATTICE5, RECDEF_2;
 notations TARSKI, XBOOLE_0, ENUMSET1, ZFMISC_1, XTUPLE_0, SUBSET_1, RELAT_1,
      RELAT_2, FUNCT_1, RELSET_1, FUNCT_2, FUNCT_6, CARD_1, NUMBERS, XCMPLX_0,
      ORDINAL1, NAT_1, NAT_D, SETFAM_1, ORDINAL2, MCART_1, DOMAIN_1, PARTFUN1,
      FUNCOP_1, STRUCT_0, ORDERS_2, EQREL_1, MSUALG_5, FINSEQ_1, FINSEQ_2,
      SEQ_4, LATTICES, LATTICE3, BINOP_1, YELLOW_0, WAYBEL_0, YELLOW_2, ABIAN,
      XXREAL_0;
 constructors SETFAM_1, BINOP_1, DOMAIN_1, ORDINAL2, NAT_1, CLASSES1, SEQ_4,
      FINSOP_1, FUNCT_6, RFUNCT_3, BINARITH, ABIAN, LATTICE3, MSUALG_5,
      YELLOW_2, NAT_D, RELSET_1, XTUPLE_0;
 registrations XBOOLE_0, SUBSET_1, ORDINAL1, PARTFUN1, FUNCOP_1, XREAL_0,
      CARD_1, MEMBERED, FINSEQ_1, ABIAN, STRUCT_0, LATTICES, LATTICE3,
      YELLOW_0, YELLOW_1, RELAT_1, XXREAL_2, RELSET_1, FINSEQ_2, FUNCT_1,
      XTUPLE_0;
 requirements REAL, NUMERALS, BOOLE, SUBSET, ARITHM;
 definitions TARSKI, LATTICE3, FUNCOP_1, WAYBEL_0, XBOOLE_0, BINOP_1, FINSEQ_1,
      FINSEQ_2, XTUPLE_0;
 theorems EQREL_1, RELAT_1, RELAT_2, FINSEQ_1, FINSEQ_2, MSUALG_5, ORDERS_2,
      TARSKI, ENUMSET1, ORDINAL1, ORDINAL3, WELLORD2, TREES_2, PARTFUN1,
      GRFUNC_1, FUNCT_6, MCART_1, FINSEQ_5, NAT_1, INT_1, BINOP_1, ZFMISC_1,
      FUNCT_1, FUNCT_2, FILTER_0, LATTICES, LATTICE3, YELLOW_0, YELLOW_2,
      YELLOW_3, YELLOW_5, WAYBEL_0, WAYBEL_1, WAYBEL_6, RELSET_1, CARD_1,
      FINSEQ_3, SETFAM_1, XBOOLE_0, XBOOLE_1, ORDERS_1, FUNCOP_1, XREAL_1,
      XXREAL_0, XXREAL_2, XREAL_0, XTUPLE_0, XREGULAR;
 schemes DOMAIN_1, FUNCT_2, RELSET_1, RECDEF_1, ORDINAL2, NAT_1, FINSEQ_1,
      CLASSES1, BINOP_1;

begin
theorem
L1: (for B1 being Function holds (for B2 being  Function-yielding Function holds (B1 = ( union ( rng B2 ) ) implies ( dom B1 ) = ( union ( rng ( doms B2 ) ) ))))
proof
let C1 being Function;
let C2 being  Function-yielding Function;
assume L2: C1 = ( union ( rng C2 ) );
thus L3: ( dom C1 ) c= ( union ( rng ( doms C2 ) ) )
proof
let C3 being set;
assume L4: C3 in ( dom C1 );
L5: [ C3 , ( C1 . C3 ) ] in ( union ( rng C2 ) ) by L4 , L2 , FUNCT_1:def 2;
consider C4 being set such that L6: [ C3 , ( C1 . C3 ) ] in C4 and L7: C4 in ( rng C2 ) by L5 , TARSKI:def 4;
consider C5 being set such that L8: C5 in ( dom C2 ) and L9: C4 = ( C2 . C5 ) by L7 , FUNCT_1:def 3;
L10: C5 in ( dom ( doms C2 ) ) by L8 , L9 , FUNCT_6:22;
L11: ( ( doms C2 ) . C5 ) in ( rng ( doms C2 ) ) by L10 , FUNCT_1:def 3;
L12: C3 in ( dom ( C2 . C5 ) ) by L6 , L9 , FUNCT_1:1;
L13: C3 in ( ( doms C2 ) . C5 ) by L12 , L8 , FUNCT_6:22;
thus L14: thesis by L13 , L11 , TARSKI:def 4;
end;

let C6 being set;
assume L15: C6 in ( union ( rng ( doms C2 ) ) );
consider C7 being set such that L16: C6 in C7 and L17: C7 in ( rng ( doms C2 ) ) by L15 , TARSKI:def 4;
consider C8 being set such that L18: C8 in ( dom ( doms C2 ) ) and L19: C7 = ( ( doms C2 ) . C8 ) by L17 , FUNCT_1:def 3;
L20: C8 in ( dom C2 ) by L18 , FUNCT_6:59;
L21: ( C2 . C8 ) in ( rng C2 ) by L20 , FUNCT_1:def 3;
consider C9 being Function such that L22: C9 = ( C2 . C8 );
L23: C7 = ( dom ( C2 . C8 ) ) by L19 , L20 , FUNCT_6:22;
L24: [ C6 , ( C9 . C6 ) ] in ( C2 . C8 ) by L23 , L16 , L22 , FUNCT_1:def 2;
L25: [ C6 , ( C9 . C6 ) ] in C1 by L24 , L2 , L21 , TARSKI:def 4;
thus L26: thesis by L25 , FUNCT_1:1;
end;
theorem
L27: (for B3 , B4 being non  empty set holds [: ( union B3 ) , ( union B4 ) :] = ( union { [: B5 , B6 :] where B5 is (Element of B3) , B6 is (Element of B4) : (B5 in B3 & B6 in B4) } ))
proof
let C10 , C11 being non  empty set;
set D1 = { [: B7 , B8 :] where B7 is (Element of C10) , B8 is (Element of C11) : (B7 in C10 & B8 in C11) };
thus L28: [: ( union C10 ) , ( union C11 ) :] c= ( union D1 )
proof
let C12 being set;
assume L29: C12 in [: ( union C10 ) , ( union C11 ) :];
consider C13 , C14 being set such that L30: C12 = [ C13 , C14 ] by L29 , RELAT_1:def 1;
L31: C14 in ( union C11 ) by L29 , L30 , ZFMISC_1:87;
consider C15 being set such that L32: C14 in C15 and L33: C15 in C11 by L31 , TARSKI:def 4;
L34: C13 in ( union C10 ) by L29 , L30 , ZFMISC_1:87;
consider C16 being set such that L35: C13 in C16 and L36: C16 in C10 by L34 , TARSKI:def 4;
reconsider D2 = C15 as (Element of C11) by L33;
reconsider D3 = C16 as (Element of C10) by L36;
L37: [: D3 , D2 :] in D1;
L38: C12 in [: D3 , D2 :] by L30 , L35 , L32 , ZFMISC_1:def 2;
thus L39: thesis by L38 , L37 , TARSKI:def 4;
end;

let C17 being set;
assume L40: C17 in ( union D1 );
consider C18 being set such that L41: C17 in C18 and L42: C18 in D1 by L40 , TARSKI:def 4;
consider C19 being (Element of C10), C20 being (Element of C11) such that L43: [: C19 , C20 :] = C18 and L44: C19 in C10 and L45: C20 in C11 by L42;
consider C21 , C22 being set such that L46: (C21 in C19 & C22 in C20) and L47: C17 = [ C21 , C22 ] by L41 , L43 , ZFMISC_1:def 2;
L48: (C21 in ( union C10 ) & C22 in ( union C11 )) by L46 , TARSKI:def 4;
thus L49: thesis by L48 , L47 , ZFMISC_1:def 2;
end;
theorem
L50: (for B9 being non  empty set holds (B9 is  c=-linear implies [: ( union B9 ) , ( union B9 ) :] = ( union { [: B10 , B10 :] where B10 is (Element of B9) : B10 in B9 } )))
proof
let C23 being non  empty set;
set D4 = { [: B11 , B11 :] where B11 is (Element of C23) : B11 in C23 };
set D5 = { [: B12 , B13 :] where B12 is (Element of C23) , B13 is (Element of C23) : (B12 in C23 & B13 in C23) };
assume L51: C23 is  c=-linear;
L52: ( union D5 ) c= ( union D4 )
proof
let C24 being set;
assume L53: C24 in ( union D5 );
consider C25 being set such that L54: C24 in C25 and L55: C25 in D5 by L53 , TARSKI:def 4;
consider C26 , C27 being (Element of C23) such that L56: C25 = [: C26 , C27 :] and L57: C26 in C23 and L58: C27 in C23 by L55;
L59: C26 , C27 are_c=-comparable  by L51 , ORDINAL1:def 8;
per cases  by L59 , XBOOLE_0:def 9;
suppose L60: C26 c= C27;

L61: [: C27 , C27 :] in D4;
L62: [: C26 , C27 :] c= [: C27 , C27 :] by L60 , ZFMISC_1:95;
thus L63: thesis by L62 , L54 , L56 , L61 , TARSKI:def 4;
end;
suppose L64: C27 c= C26;

L65: [: C26 , C26 :] in D4;
L66: [: C26 , C27 :] c= [: C26 , C26 :] by L64 , ZFMISC_1:95;
thus L67: thesis by L66 , L54 , L56 , L65 , TARSKI:def 4;
end;
end;
L69: D4 c= D5
proof
let C28 being set;
assume L70: C28 in D4;
L71: (ex B14 being (Element of C23) st (C28 = [: B14 , B14 :] & B14 in C23)) by L70;
thus L72: thesis by L71;
end;
L73: ( union D4 ) c= ( union D5 ) by L69 , ZFMISC_1:77;
L74: ( union D4 ) = ( union D5 ) by L73 , L52 , XBOOLE_0:def 10;
thus L75: thesis by L74 , L27;
end;
begin
definition
let C29 being set;
func EqRelLATT C29 -> Poset equals 
( LattPOSet ( EqRelLatt C29 ) );
correctness;
end;
registration
let C30 being set;
cluster ( EqRelLATT C30 ) ->  with_infima  with_suprema;
coherence;
end;
theorem
L78: (for B15 , B16 being set holds (B16 in (the carrier of ( EqRelLATT B15 )) iff B16 is (Equivalence_Relation of B15)))
proof
let C31 , C32 being set;
thus L79:now
assume L80: C32 in (the carrier of ( EqRelLATT C31 ));
reconsider D6 = C32 as (Element of ( LattPOSet ( EqRelLatt C31 ) )) by L80;
L81: ( % D6 ) = D6;
L82: C32 in (the carrier of ( EqRelLatt C31 )) by L81;
L83: (the carrier of ( EqRelLatt C31 )) = { B17 where B17 is (Relation of C31 , C31) : B17 is (Equivalence_Relation of C31) } by MSUALG_5:def 2;
L84: (ex B18 being (Relation of C31 , C31) st (B18 = C32 & B18 is (Equivalence_Relation of C31))) by L83 , L82;
thus L85: C32 is (Equivalence_Relation of C31) by L84;
end;
L86: (the carrier of ( EqRelLatt C31 )) = { B19 where B19 is (Relation of C31 , C31) : B19 is (Equivalence_Relation of C31) } by MSUALG_5:def 2;
assume L87: C32 is (Equivalence_Relation of C31);
L88: C32 in (the carrier of ( EqRelLatt C31 )) by L87 , L86;
reconsider D7 = C32 as (Element of ( EqRelLatt C31 )) by L88;
reconsider D8 = D7 as (Element of ( EqRelLATT C31 ));
L89: D8 in (the carrier of ( EqRelLATT C31 ));
thus L90: thesis by L89;
end;
theorem
L91: (for B20 being set holds (for B21 , B22 being (Element of ( EqRelLatt B20 )) holds (B21 [= B22 iff B21 c= B22)))
proof
let C33 being set;
let C34 , C35 being (Element of ( EqRelLatt C33 ));
reconsider D9 = C34 , D10 = C35 as (Equivalence_Relation of C33) by MSUALG_5:21;
L92: (( D9 /\ D10 ) = D9 iff D9 c= D10) by XBOOLE_1:17 , XBOOLE_1:28;
L93: ( C34 "/\" C35 ) = ( (the L_meet of ( EqRelLatt C33 )) . (D9 , D10) ) by LATTICES:def 2
.= ( D9 /\ D10 ) by MSUALG_5:def 2;
thus L94: thesis by L93 , L92 , LATTICES:4;
end;
theorem
L95: (for B23 being set holds (for B24 , B25 being (Element of ( EqRelLATT B23 )) holds (B24 <= B25 iff B24 c= B25)))
proof
let C36 being set;
let C37 , C38 being (Element of ( EqRelLATT C36 ));
set D11 = ( EqRelLatt C36 );
reconsider D12 = C37 as (Element of D11);
reconsider D13 = C38 as (Element of D11);
thus L96: (C37 <= C38 implies C37 c= C38)
proof
assume L97: C37 <= C38;
L98: ( D12 % ) <= ( D13 % ) by L97;
L99: D12 [= D13 by L98 , LATTICE3:7;
thus L100: thesis by L99 , L91;
end;

thus L101: (C37 c= C38 implies C37 <= C38)
proof
assume L102: C37 c= C38;
L103: D12 [= D13 by L102 , L91;
L104: ( D12 % ) <= ( D13 % ) by L103 , LATTICE3:7;
thus L105: thesis by L104;
end;

end;
theorem
L102: (for B26 being Lattice holds (for B27 , B28 being (Element of ( LattPOSet B26 )) holds ( B27 "/\" B28 ) = ( ( % B27 ) "/\" ( % B28 ) )))
proof
let C39 being Lattice;
let C40 , C41 being (Element of ( LattPOSet C39 ));
reconsider D14 = C40 , D15 = C41 as (Element of C39);
set D16 = ( D14 "/\" D15 );
L103: D16 [= D14 by LATTICES:6;
L104: D16 [= D15 by LATTICES:6;
L105: ( D16 % ) = D16;
reconsider D17 = D16 as (Element of ( LattPOSet C39 ));
L106: ( D15 % ) = D15;
L107: D17 <= C41 by L106 , L104 , L105 , LATTICE3:7;
L108: ( D14 % ) = D14;
L109: (for B29 being (Element of ( LattPOSet C39 )) holds ((B29 <= C40 & B29 <= C41) implies B29 <= D17))
proof
let C42 being (Element of ( LattPOSet C39 ));
reconsider D18 = C42 as (Element of C39);
L110: ( D18 % ) = D18;
assume L111: (C42 <= C40 & C42 <= C41);
L112: (D18 [= D14 & D18 [= D15) by L111 , L108 , L106 , L110 , LATTICE3:7;
L113: D18 [= ( D14 "/\" D15 ) by L112 , FILTER_0:7;
thus L114: thesis by L113 , L105 , L110 , LATTICE3:7;
end;
L115: D17 <= C40 by L103 , L105 , L108 , LATTICE3:7;
thus L116: thesis by L115 , L107 , L109 , YELLOW_0:23;
end;
theorem
L117: (for B30 being set holds (for B31 , B32 being (Element of ( EqRelLATT B30 )) holds ( B31 "/\" B32 ) = ( B31 /\ B32 )))
proof
let C43 being set;
let C44 , C45 being (Element of ( EqRelLATT C43 ));
L118:
now
let C46 , C47 being (Element of ( EqRelLatt C43 ));
reconsider D19 = C46 as (Equivalence_Relation of C43) by MSUALG_5:21;
reconsider D20 = C47 as (Equivalence_Relation of C43) by MSUALG_5:21;
thus L119: ( C46 "/\" C47 ) = ( (the L_meet of ( EqRelLatt C43 )) . (D19 , D20) ) by LATTICES:def 2
.= ( C46 /\ C47 ) by MSUALG_5:def 2;
end;
reconsider D21 = C45 as (Element of ( LattPOSet ( EqRelLatt C43 ) ));
reconsider D22 = C44 as (Element of ( LattPOSet ( EqRelLatt C43 ) ));
reconsider D23 = D22 as (Element of ( EqRelLatt C43 ));
reconsider D24 = D21 as (Element of ( EqRelLatt C43 ));
L120: (( % ( D23 % ) ) = ( D23 % ) & ( % ( D24 % ) ) = ( D24 % ));
thus L121: ( C44 "/\" C45 ) = ( D23 "/\" D24 ) by L120 , L102
.= ( C44 /\ C45 ) by L118;
end;
theorem
L122: (for B33 being Lattice holds (for B34 , B35 being (Element of ( LattPOSet B33 )) holds ( B34 "\/" B35 ) = ( ( % B34 ) "\/" ( % B35 ) )))
proof
let C48 being Lattice;
let C49 , C50 being (Element of ( LattPOSet C48 ));
reconsider D25 = C49 , D26 = C50 as (Element of C48);
set D27 = ( D25 "\/" D26 );
L123: ( D27 % ) = D27;
L124: (D26 [= D27 & ( D26 % ) = D26) by LATTICES:5;
L125: (D25 [= D27 & ( D25 % ) = D25) by LATTICES:5;
reconsider D28 = D27 as (Element of ( LattPOSet C48 ));
L126: C50 <= D28 by L123 , L124 , LATTICE3:7;
L127: (for B36 being (Element of ( LattPOSet C48 )) holds ((C49 <= B36 & C50 <= B36) implies D28 <= B36))
proof
let C51 being (Element of ( LattPOSet C48 ));
assume that
L128: C49 <= C51
and
L129: C50 <= C51;
reconsider D29 = C51 as (Element of C48);
L130: ( D26 % ) <= ( D29 % ) by L129;
L131: D26 [= D29 by L130 , LATTICE3:7;
L132: ( D25 % ) <= ( D29 % ) by L128;
L133: D25 [= D29 by L132 , LATTICE3:7;
L134: ( D25 "\/" D26 ) [= D29 by L133 , L131 , FILTER_0:6;
L135: ( ( D25 "\/" D26 ) % ) <= ( D29 % ) by L134 , LATTICE3:7;
thus L136: thesis by L135;
end;
L137: C49 <= D28 by L123 , L125 , LATTICE3:7;
thus L138: thesis by L137 , L126 , L127 , YELLOW_0:22;
end;
theorem
L139: (for B37 being set holds (for B38 , B39 being (Element of ( EqRelLATT B37 )) holds (for B40 , B41 being (Equivalence_Relation of B37) holds ((B38 = B40 & B39 = B41) implies ( B38 "\/" B39 ) = ( B40 "\/" B41 )))))
proof
let C52 being set;
let C53 , C54 being (Element of ( EqRelLATT C52 ));
let C55 , C56 being (Equivalence_Relation of C52);
assume L140: (C53 = C55 & C54 = C56);
reconsider D30 = C54 as (Element of ( LattPOSet ( EqRelLatt C52 ) ));
reconsider D31 = C53 as (Element of ( LattPOSet ( EqRelLatt C52 ) ));
reconsider D32 = D31 as (Element of ( EqRelLatt C52 ));
reconsider D33 = D30 as (Element of ( EqRelLatt C52 ));
L141: (( % ( D32 % ) ) = ( D32 % ) & ( % ( D33 % ) ) = ( D33 % ));
thus L142: ( C53 "\/" C54 ) = ( D32 "\/" D33 ) by L141 , L122
.= ( (the L_join of ( EqRelLatt C52 )) . (D32 , D33) ) by LATTICES:def 1
.= ( C55 "\/" C56 ) by L140 , MSUALG_5:def 2;
end;
definition
let C57 being non  empty RelStr;
redefine attr C57 is  complete
means
(for B42 being (Subset of C57) holds (ex B43 being (Element of C57) st (B43 is_<=_than B42 & (for B44 being (Element of C57) holds (B44 is_<=_than B42 implies B44 <= B43)))));
compatibility
proof
thus L143:now
assume L144: C57 is  complete;
let C58 being (Subset of C57);
set D34 = { B45 where B45 is (Element of C57) : B45 is_<=_than C58 };
consider C59 being (Element of C57) such that L145: D34 is_<=_than C59 and L146: (for B46 being (Element of C57) holds (D34 is_<=_than B46 implies C59 <= B46)) by L144 , LATTICE3:def 12;
take D35 = C59;
thus L147: D35 is_<=_than C58
proof
let C60 being (Element of C57);
assume L148: C60 in C58;
L149: D34 is_<=_than C60
proof
let C61 being (Element of C57);
assume L150: C61 in D34;
L151: (ex B47 being (Element of C57) st (C61 = B47 & B47 is_<=_than C58)) by L150;
thus L152: thesis by L151 , L148 , LATTICE3:def 8;
end;
thus L153: thesis by L149 , L146;
end;

let C62 being (Element of C57);
assume L154: C62 is_<=_than C58;
L155: C62 in D34 by L154;
thus L156: C62 <= D35 by L155 , L145 , LATTICE3:def 9;
end;
assume L157: (for B48 being (Subset of C57) holds (ex B49 being (Element of C57) st (B49 is_<=_than B48 & (for B50 being (Element of C57) holds (B50 is_<=_than B48 implies B50 <= B49)))));
let C63 being set;
set D36 = { B51 where B51 is (Element of C57) : C63 is_<=_than B51 };
L158: D36 c= (the carrier of C57)
proof
let C64 being set;
assume L159: C64 in D36;
L160: (ex B52 being (Element of C57) st (C64 = B52 & C63 is_<=_than B52)) by L159;
thus L161: thesis by L160;
end;
consider C65 being (Element of C57) such that L162: C65 is_<=_than D36 and L163: (for B53 being (Element of C57) holds (B53 is_<=_than D36 implies B53 <= C65)) by L158 , L157;
take C65;
thus L164: C63 is_<=_than C65
proof
let C66 being (Element of C57);
assume L165: C66 in C63;
L166: C66 is_<=_than D36
proof
let C67 being (Element of C57);
assume L167: C67 in D36;
L168: (ex B54 being (Element of C57) st (C67 = B54 & C63 is_<=_than B54)) by L167;
thus L169: thesis by L168 , L165 , LATTICE3:def 9;
end;
thus L170: thesis by L166 , L163;
end;

let C68 being (Element of C57);
assume L171: C63 is_<=_than C68;
L172: C68 in D36 by L171;
thus L173: thesis by L172 , L162 , LATTICE3:def 8;
end;
end;
registration
let C69 being set;
cluster ( EqRelLATT C69 ) ->  complete;
coherence
proof
let C70 being (Subset of ( EqRelLATT C69 ));
set D37 = ( C70 /\ (the carrier of ( EqRelLATT C69 )) );
L175: D37 c= ( bool [: C69 , C69 :] )
proof
let C71 being set;
assume L176: C71 in D37;
L177: C71 is (Equivalence_Relation of C69) by L176 , L78;
thus L178: thesis by L177;
end;
reconsider D38 = D37 as (Subset-Family of [: C69 , C69 :]) by L175;
consider C72 being (Subset of [: C69 , C69 :]) such that L179: C72 = ( Intersect D38 );
L180: (for B55 being set holds (B55 in C69 implies [ B55 , B55 ] in C72))
proof
let C73 being set;
assume L181: C73 in C69;
L182: (for B56 being set holds (B56 in D38 implies [ C73 , C73 ] in B56))
proof
let C74 being set;
assume L183: C74 in D38;
L184: C74 is (Equivalence_Relation of C69) by L183 , L78;
thus L185: thesis by L184 , L181 , EQREL_1:5;
end;
L186: [ C73 , C73 ] in [: C69 , C69 :] by L181 , ZFMISC_1:def 2;
thus L187: thesis by L186 , L179 , L182 , SETFAM_1:43;
end;
L188: C72 is_reflexive_in C69 by L180 , RELAT_2:def 1;
reconsider D39 = C72 as (Relation of C69);
L189: (( dom D39 ) = C69 & ( field D39 ) = C69) by L188 , ORDERS_1:13;
L190: (for B57 , B58 , B59 being set holds ((B57 in C69 & B58 in C69 & B59 in C69 & [ B57 , B58 ] in D39 & [ B58 , B59 ] in D39) implies [ B57 , B59 ] in D39))
proof
let C75 , C76 , C77 being set;
assume that
L191: C75 in C69
and
L192: C76 in C69
and
L193: C77 in C69
and
L194: ([ C75 , C76 ] in D39 & [ C76 , C77 ] in D39);
L195: (for B60 being set holds (B60 in D38 implies [ C75 , C77 ] in B60))
proof
let C78 being set;
assume L196: C78 in D38;
L197: C78 is (Equivalence_Relation of C69) by L196 , L78;
L198: ([ C75 , C76 ] in C78 & [ C76 , C77 ] in C78) by L179 , L194 , L196 , SETFAM_1:43;
thus L199: thesis by L198 , L197 , EQREL_1:7;
end;
L200: [ C75 , C77 ] in [: C69 , C69 :] by L191 , L193 , ZFMISC_1:def 2;
thus L201: thesis by L200 , L179 , L195 , SETFAM_1:43;
end;
L202: D39 is_transitive_in C69 by L190 , RELAT_2:def 8;
L203: (for B61 , B62 being set holds ((B61 in C69 & B62 in C69 & [ B61 , B62 ] in D39) implies [ B62 , B61 ] in D39))
proof
let C79 , C80 being set;
assume that
L204: (C79 in C69 & C80 in C69)
and
L205: [ C79 , C80 ] in D39;
L206: (for B63 being set holds (B63 in D38 implies [ C80 , C79 ] in B63))
proof
let C81 being set;
assume L207: C81 in D38;
L208: ([ C79 , C80 ] in C81 & C81 is (Equivalence_Relation of C69)) by L207 , L179 , L205 , L78 , SETFAM_1:43;
thus L209: thesis by L208 , EQREL_1:6;
end;
L210: [ C80 , C79 ] in [: C69 , C69 :] by L204 , ZFMISC_1:def 2;
thus L211: thesis by L210 , L179 , L206 , SETFAM_1:43;
end;
L212: D39 is_symmetric_in C69 by L203 , RELAT_2:def 3;
reconsider D40 = D39 as (Equivalence_Relation of C69) by L212 , L189 , L202 , PARTFUN1:def 2 , RELAT_2:def 11 , RELAT_2:def 16;
reconsider D41 = D40 as (Element of ( EqRelLATT C69 )) by L78;
take D41;
L213:
now
let C82 being (Element of ( EqRelLATT C69 ));
reconsider D42 = C82 as (Equivalence_Relation of C69) by L78;
reconsider D43 = D41 as (Equivalence_Relation of C69);
assume L214: C82 in ( C70 /\ (the carrier of ( EqRelLATT C69 )) );
L215: (for B64 , B65 being set holds ([ B64 , B65 ] in D43 implies [ B64 , B65 ] in D42)) by L214 , L179 , SETFAM_1:43;
L216: D43 c= D42 by L215 , RELAT_1:def 3;
thus L217: D41 <= C82 by L216 , L95;
end;
L218: D41 is_<=_than ( C70 /\ (the carrier of ( EqRelLATT C69 )) ) by L213 , LATTICE3:def 8;
thus L219: D41 is_<=_than C70 by L218 , YELLOW_0:5;
let C83 being (Element of ( EqRelLATT C69 ));
reconsider D44 = C83 as (Equivalence_Relation of C69) by L78;
assume L220: C83 is_<=_than C70;
L221: C83 is_<=_than ( C70 /\ (the carrier of ( EqRelLATT C69 )) ) by L220 , YELLOW_0:5;
L222: (for B66 being (Element of ( EqRelLATT C69 )) holds (B66 in D38 implies D44 c= B66))
proof
let C84 being (Element of ( EqRelLATT C69 ));
assume L223: C84 in D38;
L224: C83 <= C84 by L223 , L221 , LATTICE3:def 8;
thus L225: thesis by L224 , L95;
end;
L226: D44 c= ( Intersect D38 )
proof
let C85 being set;
assume L227: C85 in D44;
L228: (for B67 being set holds (B67 in D38 implies C85 in B67))
proof
let C86 being set;
assume L229: C86 in D38;
L230: D44 c= C86 by L229 , L222;
thus L231: thesis by L230 , L227;
end;
thus L232: thesis by L228 , L227 , SETFAM_1:43;
end;
thus L233: C83 <= D41 by L226 , L179 , L95;
end;
end;
begin
registration
let C87 , C88 being LATTICE;
cluster  meet-preserving  join-preserving for (Function of C87 , C88);
existence
proof
set D45 = the (Element of C88);
reconsider D46 = ( (the carrier of C87) --> D45 ) as (Function of C87 , C88);
take D46;
L235: (for B68 , B69 being (Element of C87) holds ( D46 . ( B68 "/\" B69 ) ) = ( ( D46 . B68 ) "/\" ( D46 . B69 ) ))
proof
let C89 , C90 being (Element of C87);
thus L236: ( D46 . ( C89 "/\" C90 ) ) = D45 by FUNCOP_1:7
.= ( D45 "/\" D45 ) by YELLOW_5:2
.= ( ( D46 . C89 ) "/\" D45 ) by FUNCOP_1:7
.= ( ( D46 . C89 ) "/\" ( D46 . C90 ) ) by FUNCOP_1:7;
end;
thus L237: D46 is  meet-preserving by L235 , WAYBEL_6:1;
L238: (for B70 , B71 being (Element of C87) holds ( D46 . ( B70 "\/" B71 ) ) = ( ( D46 . B70 ) "\/" ( D46 . B71 ) ))
proof
let C91 , C92 being (Element of C87);
thus L239: ( D46 . ( C91 "\/" C92 ) ) = D45 by FUNCOP_1:7
.= ( D45 "\/" D45 ) by YELLOW_5:1
.= ( ( D46 . C91 ) "\/" D45 ) by FUNCOP_1:7
.= ( ( D46 . C91 ) "\/" ( D46 . C92 ) ) by FUNCOP_1:7;
end;
thus L240: thesis by L238 , WAYBEL_6:2;
end;
end;
definition
let C93 , C94 being LATTICE;
mode Homomorphism of C93 , C94
 is  meet-preserving  join-preserving (Function of C93 , C94);
end;
registration
let C95 being LATTICE;
cluster  meet-inheriting  join-inheriting  strict for (SubRelStr of C95);
existence
proof
set D47 = the (Element of C95);
set D48 = the (Relation of { D47 });
L243: (for B72 , B73 being (Element of C95) holds ((B72 in { D47 } & B73 in { D47 } &  ex_sup_of { B72 , B73 } , C95) implies ( sup { B72 , B73 } ) in { D47 }))
proof
let C96 , C97 being (Element of C95);
assume that
L244: (C96 in { D47 } & C97 in { D47 })
and
L245:  ex_sup_of { C96 , C97 } , C95;
L246: (C96 = D47 & C97 = D47) by L244 , TARSKI:def 1;
L247: ( sup { C96 , C97 } ) = ( D47 "\/" D47 ) by L246 , YELLOW_0:41
.= D47 by YELLOW_5:1;
thus L248: thesis by L247 , TARSKI:def 1;
end;
L249: D48 c= (the InternalRel of C95)
proof
let C98 being set;
assume L250: C98 in D48;
consider C99 , C100 being set such that L251: C98 = [ C99 , C100 ] and L252: C99 in { D47 } and L253: C100 in { D47 } by L250 , RELSET_1:2;
L254: C99 = D47 by L252 , TARSKI:def 1;
L255: C98 = [ D47 , D47 ] by L254 , L251 , L253 , TARSKI:def 1;
L256: D47 <= D47;
thus L257: thesis by L256 , L255 , ORDERS_2:def 5;
end;
reconsider D49 = RelStr (# { D47 } , D48 #) as  strict (SubRelStr of C95) by L249 , YELLOW_0:def 13;
take D49;
L258: (for B74 , B75 being (Element of C95) holds ((B74 in { D47 } & B75 in { D47 } &  ex_inf_of { B74 , B75 } , C95) implies ( inf { B74 , B75 } ) in { D47 }))
proof
let C101 , C102 being (Element of C95);
assume that
L259: (C101 in { D47 } & C102 in { D47 })
and
L260:  ex_inf_of { C101 , C102 } , C95;
L261: (C101 = D47 & C102 = D47) by L259 , TARSKI:def 1;
L262: ( inf { C101 , C102 } ) = ( D47 "/\" D47 ) by L261 , YELLOW_0:40
.= D47 by YELLOW_5:2;
thus L263: thesis by L262 , TARSKI:def 1;
end;
thus L264: thesis by L258 , L243 , YELLOW_0:def 16 , YELLOW_0:def 17;
end;
end;
definition
let C103 being non  empty RelStr;
mode Sublattice of C103
 is  meet-inheriting  join-inheriting (SubRelStr of C103);
end;
registration
let C104 , C105 being LATTICE;
let C106 being (Homomorphism of C104 , C105);
cluster ( Image C106 ) ->  meet-inheriting  join-inheriting;
coherence
proof
set D50 = ( subrelstr ( rng C106 ) );
L267: (the carrier of D50) = ( rng C106 ) by YELLOW_0:def 15;
L268: ( dom C106 ) = (the carrier of C104) by FUNCT_2:def 1;
L269: (for B76 , B77 being (Element of C105) holds ((B76 in (the carrier of D50) & B77 in (the carrier of D50) &  ex_sup_of { B76 , B77 } , C105) implies ( sup { B76 , B77 } ) in (the carrier of D50)))
proof
let C107 , C108 being (Element of C105);
assume that
L270: C107 in (the carrier of D50)
and
L271: C108 in (the carrier of D50)
and
L272:  ex_sup_of { C107 , C108 } , C105;
consider C109 being set such that L273: C109 in ( dom C106 ) and L274: C107 = ( C106 . C109 ) by L267 , L270 , FUNCT_1:def 3;
consider C110 being set such that L275: C110 in ( dom C106 ) and L276: C108 = ( C106 . C110 ) by L267 , L271 , FUNCT_1:def 3;
reconsider D51 = C109 , D52 = C110 as (Element of C104) by L273 , L275;
L277: (C106 preserves_sup_of { D51 , D52 } &  ex_sup_of { D51 , D52 } , C104) by WAYBEL_0:def 35 , YELLOW_0:20;
L278: ( sup { C107 , C108 } ) = ( sup ( C106 .: { D51 , D52 } ) ) by L273 , L274 , L275 , L276 , FUNCT_1:60
.= ( C106 . ( sup { D51 , D52 } ) ) by L277 , WAYBEL_0:def 31;
thus L279: thesis by L278 , L267 , L268 , FUNCT_1:def 3;
end;
L280: D50 is  join-inheriting by L269 , YELLOW_0:def 17;
L281: (for B78 , B79 being (Element of C105) holds ((B78 in (the carrier of D50) & B79 in (the carrier of D50) &  ex_inf_of { B78 , B79 } , C105) implies ( inf { B78 , B79 } ) in (the carrier of D50)))
proof
let C111 , C112 being (Element of C105);
assume that
L282: C111 in (the carrier of D50)
and
L283: C112 in (the carrier of D50)
and
L284:  ex_inf_of { C111 , C112 } , C105;
consider C113 being set such that L285: C113 in ( dom C106 ) and L286: C111 = ( C106 . C113 ) by L267 , L282 , FUNCT_1:def 3;
consider C114 being set such that L287: C114 in ( dom C106 ) and L288: C112 = ( C106 . C114 ) by L267 , L283 , FUNCT_1:def 3;
reconsider D53 = C113 , D54 = C114 as (Element of C104) by L285 , L287;
L289: (C106 preserves_inf_of { D53 , D54 } &  ex_inf_of { D53 , D54 } , C104) by WAYBEL_0:def 34 , YELLOW_0:21;
L290: ( inf { C111 , C112 } ) = ( inf ( C106 .: { D53 , D54 } ) ) by L285 , L286 , L287 , L288 , FUNCT_1:60
.= ( C106 . ( inf { D53 , D54 } ) ) by L289 , WAYBEL_0:def 30;
thus L291: thesis by L290 , L267 , L268 , FUNCT_1:def 3;
end;
L292: D50 is  meet-inheriting by L281 , YELLOW_0:def 16;
thus L293: thesis by L292 , L280 , YELLOW_2:def 2;
end;
end;
definition
let R1 being non  empty set;
let C115 being non  empty (FinSequence of R1);
let R7 being set;
let R8 being set;
let C116 , C117 being Relation;
pred R7 , R8 are_joint_by C115 , C116 , C117
means
:L295: (( C115 . 1 ) = R7 & ( C115 . ( len C115 ) ) = R8 & (for B80 being (Element of ( NAT )) holds ((1 <= B80 & B80 < ( len C115 )) implies ((B80 is  odd implies [ ( C115 . B80 ) , ( C115 . ( B80 + 1 ) ) ] in C116) & (B80 is  even implies [ ( C115 . B80 ) , ( C115 . ( B80 + 1 ) ) ] in C117)))))
;end;
theorem
L297: (for R1 being non  empty set holds (for B81 being set holds (for B82 being (Element of ( NAT )) holds (for B83 , B84 being Relation holds (for B85 being non  empty (FinSequence of R1) holds ((B83 is_reflexive_in R1 & B84 is_reflexive_in R1 & B85 = ( B82 |-> B81 )) implies B81 , B81 are_joint_by B85 , B83 , B84))))))
proof
let R1 being non  empty set;
let C118 being set;
let C119 being (Element of ( NAT ));
let C120 , C121 being Relation;
let C122 being non  empty (FinSequence of R1);
assume that
L298: C120 is_reflexive_in R1
and
L299: C121 is_reflexive_in R1
and
L300: C122 = ( C119 |-> C118 );
L301: ( dom C122 ) = ( Seg C119 ) by L300 , FUNCOP_1:13;
L302: ( C122 . 1 ) = C118 by L301 , L300 , FINSEQ_5:6 , FUNCOP_1:7;
L303: (for B86 being (Element of ( NAT )) holds ((1 <= B86 & B86 < ( len C122 )) implies ((B86 is  odd implies [ ( C122 . B86 ) , ( C122 . ( B86 + 1 ) ) ] in C120) & (B86 is  even implies [ ( C122 . B86 ) , ( C122 . ( B86 + 1 ) ) ] in C121))))
proof
let C123 being (Element of ( NAT ));
assume that
L304: 1 <= C123
and
L305: C123 < ( len C122 );
L306: (C123 is  even implies [ ( C122 . C123 ) , ( C122 . ( C123 + 1 ) ) ] in C121)
proof
L307: (1 <= ( C123 + 1 ) & ( C123 + 1 ) <= ( len C122 )) by L304 , L305 , NAT_1:13;
L308: ( C123 + 1 ) in ( Seg ( len C122 ) ) by L307;
L309: ( C123 + 1 ) in ( Seg C119 ) by L308 , L300 , CARD_1:def 7;
L310: ( C122 . ( C123 + 1 ) ) = C118 by L309 , L300 , FUNCOP_1:7;
assume L311: C123 is  even;
L312: C123 <= C119 by L300 , L305 , CARD_1:def 7;
L313: C123 in ( Seg C119 ) by L312 , L304;
L314: ( C122 . C123 ) = C118 by L313 , L300 , FUNCOP_1:7;
L315: C118 in R1 by L301 , L302 , FINSEQ_2:11 , FINSEQ_5:6;
thus L316: thesis by L315 , L299 , L310 , L314 , RELAT_2:def 1;
end;
L317: (C123 is  odd implies [ ( C122 . C123 ) , ( C122 . ( C123 + 1 ) ) ] in C120)
proof
L318: (1 <= ( C123 + 1 ) & ( C123 + 1 ) <= ( len C122 )) by L304 , L305 , NAT_1:13;
L319: ( C123 + 1 ) in ( Seg ( len C122 ) ) by L318;
L320: ( C123 + 1 ) in ( Seg C119 ) by L319 , L300 , CARD_1:def 7;
L321: ( C122 . ( C123 + 1 ) ) = C118 by L320 , L300 , FUNCOP_1:7;
assume L322: C123 is  odd;
L323: C123 <= C119 by L300 , L305 , CARD_1:def 7;
L324: C123 in ( Seg C119 ) by L323 , L304;
L325: ( C122 . C123 ) = C118 by L324 , L300 , FUNCOP_1:7;
L326: C118 in R1 by L301 , L302 , FINSEQ_2:11 , FINSEQ_5:6;
thus L327: thesis by L326 , L298 , L321 , L325 , RELAT_2:def 1;
end;
thus L328: thesis by L317 , L306;
end;
L329: ( len C122 ) in ( Seg C119 ) by L301 , FINSEQ_5:6;
L330: ( C122 . ( len C122 ) ) = C118 by L329 , L300 , FUNCOP_1:7;
thus L331: thesis by L330 , L302 , L303 , L295;
end;
L332:
now
let C124 , C125 , C126 being (Element of ( NAT ));
assume L333: (1 <= C124 & C124 < ( C125 + C126 ));
L334: ((1 <= C124 & C124 < C125) or (C125 = C124 & C124 < ( C125 + C126 )) or (C125 < C124 & C124 < ( C125 + C126 ))) by L333 , XXREAL_0:1;
thus L335: ((1 <= C124 & C124 < C125) or (C125 = C124 & C124 < ( C125 + C126 )) or (( C125 + 1 ) <= C124 & C124 < ( C125 + C126 ))) by L334 , NAT_1:13;
end;
theorem
L336: (for R1 being non  empty set holds (for B87 , B88 being set holds (for B89 , B90 being Relation holds (for B91 , B92 being (Element of ( NAT )) holds ((B91 <= B92 & B89 is_reflexive_in R1 & B90 is_reflexive_in R1 & (ex B93 being non  empty (FinSequence of R1) st (( len B93 ) = B91 & B87 , B88 are_joint_by B93 , B89 , B90))) implies (ex B94 being non  empty (FinSequence of R1) st (( len B94 ) = B92 & B87 , B88 are_joint_by B94 , B89 , B90)))))))
proof
let R1 being non  empty set;
let C127 , C128 being set;
let C129 , C130 being Relation;
let C131 , C132 being (Element of ( NAT ));
assume that
L337: C131 <= C132
and
L338: C129 is_reflexive_in R1
and
L339: C130 is_reflexive_in R1;
given C133 being non  empty (FinSequence of R1) such that
L340: ( len C133 ) = C131
and
L341: C127 , C128 are_joint_by C133 , C129 , C130;

L342: ( C133 . ( len C133 ) ) = C128 by L341 , L295;
per cases  by L337 , XXREAL_0:1;
suppose L343: C131 < C132;

L344: ( len C133 ) in ( dom C133 ) by FINSEQ_5:6;
L345: C128 in ( rng C133 ) by L344 , L342 , FUNCT_1:def 3;
reconsider D55 = C128 as (Element of R1) by L345;
reconsider D56 = ( C132 - C131 ) as (Element of ( NAT )) by L337 , INT_1:5;
reconsider D57 = ( D56 |-> D55 ) as (FinSequence of R1);
L346: D56 > ( 0 ) by L343 , XREAL_1:50;
reconsider D58 = D57 as non  empty (FinSequence of R1) by L346;
L347: 1 in ( dom D58 ) by FINSEQ_5:6;
reconsider D59 = ( C133 ^ D58 ) as non  empty (FinSequence of R1);
take D59;
L348: ( len D58 ) = ( C132 - C131 ) by CARD_1:def 7;
L349: C128 , C128 are_joint_by D58 , C129 , C130 by L338 , L339 , L297;
thus L350: ( len D59 ) = ( ( len C133 ) + ( len D58 ) ) by FINSEQ_1:22
.= ( C131 + ( C132 - C131 ) ) by L340 , CARD_1:def 7
.= C132;
L351: ( len D58 ) in ( dom D58 ) by FINSEQ_5:6;
thus L352: C127 , C128 are_joint_by D59 , C129 , C130
proof
L353: ( rng C133 ) <> ( {} );
L354: 1 in ( dom C133 ) by L353 , FINSEQ_3:32;
thus L355: ( D59 . 1 ) = ( C133 . 1 ) by L354 , FINSEQ_1:def 7
.= C127 by L341 , L295;
thus L356: ( D59 . ( len D59 ) ) = ( D59 . ( ( len C133 ) + ( len D58 ) ) ) by FINSEQ_1:22
.= ( D58 . ( len D58 ) ) by L351 , FINSEQ_1:def 7
.= C128 by L349 , L295;
let C134 being (Element of ( NAT ));
L357: ( dom C133 ) = ( Seg ( len C133 ) ) by FINSEQ_1:def 3;
assume L358: (1 <= C134 & C134 < ( len D59 ));
thus L359: (C134 is  odd implies [ ( D59 . C134 ) , ( D59 . ( C134 + 1 ) ) ] in C129)
proof
assume L360: C134 is  odd;
per cases  by L358 , L332 , FINSEQ_1:22;
suppose L361: (1 <= C134 & C134 < ( len C133 ));

L362: (1 <= ( C134 + 1 ) & ( C134 + 1 ) <= ( len C133 )) by L361 , NAT_1:13;
L363: ( C134 + 1 ) in ( dom C133 ) by L362 , L357;
L364: ( C133 . ( C134 + 1 ) ) = ( D59 . ( C134 + 1 ) ) by L363 , FINSEQ_1:def 7;
L365: C134 in ( dom C133 ) by L357 , L361;
L366: ( C133 . C134 ) = ( D59 . C134 ) by L365 , FINSEQ_1:def 7;
thus L367: thesis by L366 , L341 , L360 , L361 , L364 , L295;
end;
suppose L368: C134 = ( len C133 );

L369: C134 in ( dom C133 ) by L368 , FINSEQ_5:6;
L370: ( D59 . C134 ) = C128 by L369 , L342 , L368 , FINSEQ_1:def 7;
L371: ( D59 . ( C134 + 1 ) ) = ( D58 . 1 ) by L347 , L368 , FINSEQ_1:def 7
.= C128 by L349 , L295;
thus L372: thesis by L371 , L338 , L370 , RELAT_2:def 1;
end;
suppose L373: (( ( len C133 ) + 1 ) <= C134 & C134 < ( ( len C133 ) + ( len D58 ) ));

L374: ( C134 + 1 ) <= ( ( len C133 ) + ( len D58 ) ) by L373 , NAT_1:13;
L375: ( C134 + 1 ) <= ( len D59 ) by L374 , FINSEQ_1:22;
L376: 1 <= ( C134 - ( len C133 ) ) by L373 , XREAL_1:19;
L377: ( 0 ) < ( C134 - ( len C133 ) ) by L376 , XXREAL_0:2;
L378: ( ( 0 ) + ( len C133 ) ) < ( ( C134 - ( len C133 ) ) + ( len C133 ) ) by L377 , XREAL_1:6;
reconsider D60 = ( C134 - ( len C133 ) ) as (Element of ( NAT )) by L378 , INT_1:5;
L379: ( C134 - ( len C133 ) ) < ( ( ( len C133 ) + ( len D58 ) ) - ( len C133 ) ) by L373 , XREAL_1:9;
L380: ( D60 + 1 ) <= ( len D58 ) by L379 , NAT_1:13;
L381: C134 < ( C134 + 1 ) by XREAL_1:29;
L382: ( len C133 ) < ( C134 + 1 ) by L381 , L378 , XXREAL_0:2;
L383: ( D59 . ( C134 + 1 ) ) = ( D58 . ( ( C134 + 1 ) - ( len C133 ) ) ) by L382 , L375 , FINSEQ_1:24
.= ( D58 . ( D60 + 1 ) );
L384: 1 <= ( D60 + 1 ) by L376 , NAT_1:13;
L385: ( D60 + 1 ) in ( Seg ( len D58 ) ) by L384 , L380;
L386: ( D58 . ( D60 + 1 ) ) = C128 by L385 , L348 , FUNCOP_1:7;
L387: D60 in ( Seg ( len D58 ) ) by L376 , L379;
L388: ( D58 . D60 ) = C128 by L387 , L348 , FUNCOP_1:7;
L389: ( D59 . C134 ) = C128 by L388 , L373 , FINSEQ_1:23;
thus L390: thesis by L389 , L338 , L386 , L383 , RELAT_2:def 1;
end;
end;

assume L392: C134 is  even;
per cases  by L358 , L332 , FINSEQ_1:22;
suppose L393: (1 <= C134 & C134 < ( len C133 ));

L394: (1 <= ( C134 + 1 ) & ( C134 + 1 ) <= ( len C133 )) by L393 , NAT_1:13;
L395: ( C134 + 1 ) in ( dom C133 ) by L394 , L357;
L396: ( C133 . ( C134 + 1 ) ) = ( D59 . ( C134 + 1 ) ) by L395 , FINSEQ_1:def 7;
L397: C134 in ( dom C133 ) by L357 , L393;
L398: ( C133 . C134 ) = ( D59 . C134 ) by L397 , FINSEQ_1:def 7;
thus L399: thesis by L398 , L341 , L392 , L393 , L396 , L295;
end;
suppose L400: C134 = ( len C133 );

L401: C134 in ( dom C133 ) by L400 , FINSEQ_5:6;
L402: ( D59 . C134 ) = C128 by L401 , L342 , L400 , FINSEQ_1:def 7;
L403: ( D59 . ( C134 + 1 ) ) = ( D58 . 1 ) by L347 , L400 , FINSEQ_1:def 7
.= C128 by L349 , L295;
thus L404: thesis by L403 , L339 , L402 , RELAT_2:def 1;
end;
suppose L405: (( ( len C133 ) + 1 ) <= C134 & C134 < ( ( len C133 ) + ( len D58 ) ));

L406: ( C134 + 1 ) <= ( ( len C133 ) + ( len D58 ) ) by L405 , NAT_1:13;
L407: ( C134 + 1 ) <= ( len D59 ) by L406 , FINSEQ_1:22;
L408: 1 <= ( C134 - ( len C133 ) ) by L405 , XREAL_1:19;
L409: ( 0 ) < ( C134 - ( len C133 ) ) by L408 , XXREAL_0:2;
L410: ( ( 0 ) + ( len C133 ) ) < ( ( C134 - ( len C133 ) ) + ( len C133 ) ) by L409 , XREAL_1:6;
reconsider D61 = ( C134 - ( len C133 ) ) as (Element of ( NAT )) by L410 , INT_1:5;
L411: ( C134 - ( len C133 ) ) < ( ( ( len C133 ) + ( len D58 ) ) - ( len C133 ) ) by L405 , XREAL_1:9;
L412: ( D61 + 1 ) <= ( len D58 ) by L411 , NAT_1:13;
L413: C134 < ( C134 + 1 ) by XREAL_1:29;
L414: ( len C133 ) < ( C134 + 1 ) by L413 , L410 , XXREAL_0:2;
L415: ( D59 . ( C134 + 1 ) ) = ( D58 . ( ( C134 + 1 ) - ( len C133 ) ) ) by L414 , L407 , FINSEQ_1:24
.= ( D58 . ( D61 + 1 ) );
L416: 1 <= ( D61 + 1 ) by L408 , NAT_1:13;
L417: ( D61 + 1 ) in ( Seg ( len D58 ) ) by L416 , L412;
L418: ( D58 . ( D61 + 1 ) ) = C128 by L417 , L348 , FUNCOP_1:7;
L419: D61 in ( Seg ( len D58 ) ) by L408 , L411;
L420: ( D58 . D61 ) = C128 by L419 , L348 , FUNCOP_1:7;
L421: ( D59 . C134 ) = C128 by L420 , L405 , FINSEQ_1:23;
thus L422: thesis by L421 , L339 , L418 , L415 , RELAT_2:def 1;
end;
end;

end;
suppose L353: C131 = C132;

thus L354: thesis by L353 , L340 , L341;
end;
end;
definition
let R1 being non  empty set;
let C135 being (Sublattice of ( EqRelLATT R1 ));
given R2 being (Equivalence_Relation of R1) such that
L356: R2 in (the carrier of C135)
and
L357: R2 <> ( id R1 );

given C136 being (Element of ( NAT )) such that
L358: (for R3 being (Equivalence_Relation of R1) holds (for R4 being (Equivalence_Relation of R1) holds (for R7 being set holds (for R8 being set holds ((R3 in (the carrier of C135) & R4 in (the carrier of C135) & [ R7 , R8 ] in ( R3 "\/" R4 )) implies (ex B95 being non  empty (FinSequence of R1) st (( len B95 ) = C136 & R7 , R8 are_joint_by B95 , R3 , R4)))))));

func type_of C135 -> (Element of ( NAT )) means 
:L359: ((for R3 being (Equivalence_Relation of R1) holds (for R4 being (Equivalence_Relation of R1) holds (for R7 being set holds (for R8 being set holds ((R3 in (the carrier of C135) & R4 in (the carrier of C135) & [ R7 , R8 ] in ( R3 "\/" R4 )) implies (ex B96 being non  empty (FinSequence of R1) st (( len B96 ) = ( it + 2 ) & R7 , R8 are_joint_by B96 , R3 , R4))))))) & (ex R3 being (Equivalence_Relation of R1) st (ex R4 being (Equivalence_Relation of R1) st (ex R7 being set st (ex R8 being set st (R3 in (the carrier of C135) & R4 in (the carrier of C135) & [ R7 , R8 ] in ( R3 "\/" R4 ) & (not (ex B97 being non  empty (FinSequence of R1) st (( len B97 ) = ( it + 1 ) & R7 , R8 are_joint_by B97 , R3 , R4)))))))));
existence
proof
defpred S1[ (Element of ( NAT )) ] means (for R3 being (Equivalence_Relation of R1) holds (for R4 being (Equivalence_Relation of R1) holds (for R7 being set holds (for R8 being set holds ((R3 in (the carrier of C135) & R4 in (the carrier of C135) & [ R7 , R8 ] in ( R3 "\/" R4 )) implies (ex B98 being non  empty (FinSequence of R1) st (( len B98 ) = ( $1 + 2 ) & R7 , R8 are_joint_by B98 , R3 , R4)))))));
set D62 = { B99 where B99 is (Element of ( NAT )) : S1[ B99 ] };
consider R3 being (Equivalence_Relation of R1), R4 being (Equivalence_Relation of R1) such that L360: (R3 = R2 & R4 = R2);
L361: ( field R2 ) = R1 by EQREL_1:9;
L362: ( id R1 ) c= R2 by L361 , RELAT_2:1;
L363: (not R2 c= ( id R1 )) by L362 , L357 , XBOOLE_0:def 10;
consider R7 being set, R8 being set such that L364: [ R7 , R8 ] in R2 and L365: (not [ R7 , R8 ] in ( id R1 )) by L363 , RELAT_1:def 3;
L366: ((not R7 in R1) or R7 <> R8) by L365 , RELAT_1:def 10;
L367: [ R7 , R8 ] in ( R3 "\/" R4 ) by L364 , L360;
consider C137 being non  empty (FinSequence of R1) such that L368: ( len C137 ) = C136 and L369: R7 , R8 are_joint_by C137 , R3 , R4 by L367 , L356 , L358 , L360;
L370: (( C137 . 1 ) = R7 & ( C137 . ( len C137 ) ) = R8) by L369 , L295;
L371: C136 >= 2
proof
assume L372: (not thesis);
L373: ( len C137 ) < ( 1 + 1 ) by L372 , L368;
L374: (( 0 ) <= ( len C137 ) & ( len C137 ) <= ( ( 0 ) + 1 )) by L373 , NAT_1:2 , NAT_1:13;
thus L375: contradiction by L374 , L361 , L364 , L366 , L370 , NAT_1:9 , RELAT_1:15;
end;
consider C138 being Nat such that L376: C136 = ( 2 + C138 ) by L371 , NAT_1:10;
L377: D62 is (Subset of ( NAT )) from DOMAIN_1:sch 7;
L378: C138 in ( NAT ) by ORDINAL1:def 12;
consider C139 being (Element of ( NAT )) such that L379: C139 = C138 and L380: (for R3 being (Equivalence_Relation of R1) holds (for R4 being (Equivalence_Relation of R1) holds (for R7 being set holds (for R8 being set holds ((R3 in (the carrier of C135) & R4 in (the carrier of C135) & [ R7 , R8 ] in ( R3 "\/" R4 )) implies (ex B100 being non  empty (FinSequence of R1) st (( len B100 ) = ( C139 + 2 ) & R7 , R8 are_joint_by B100 , R3 , R4))))))) by L378 , L358 , L376;
L381: C139 in D62 by L380;
reconsider D63 = D62 as non  empty (Subset of ( NAT )) by L381 , L377;
set D64 = ( min D63 );
L382: (ex R3 being (Equivalence_Relation of R1) st (ex R4 being (Equivalence_Relation of R1) st (ex R7 being set st (ex R8 being set st (R3 in (the carrier of C135) & R4 in (the carrier of C135) & [ R7 , R8 ] in ( R3 "\/" R4 ) & (not (ex B101 being non  empty (FinSequence of R1) st (( len B101 ) = ( D64 + 1 ) & R7 , R8 are_joint_by B101 , R3 , R4))))))))
proof
assume L383: (not thesis);
consider C140 being non  empty (FinSequence of R1) such that L384: ( len C140 ) = ( D64 + 1 ) and L385: R7 , R8 are_joint_by C140 , R3 , R4 by L383 , L356 , L360 , L367;
L386: (( C140 . 1 ) = R7 & ( C140 . ( len C140 ) ) = R8) by L385 , L295;
L387: ( len C140 ) >= 2
proof
assume L388: (not thesis);
L389: ( len C140 ) < ( 1 + 1 ) by L388;
L390: (( 0 ) <= ( len C140 ) & ( len C140 ) <= ( ( 0 ) + 1 )) by L389 , NAT_1:2 , NAT_1:13;
thus L391: contradiction by L390 , L361 , L364 , L366 , L386 , NAT_1:9 , RELAT_1:15;
end;
L392: ( D64 + 1 ) >= ( 1 + 1 ) by L387 , L384;
L393: D64 >= 1 by L392 , XREAL_1:6;
L394: (( D64 + 1 ) = ( ( D64 - 1 ) + 2 ) & ( D64 - 1 ) = ( D64 -' 1 )) by L393 , XREAL_1:233;
L395: ( D64 -' 1 ) in D63 by L394 , L383;
L396: D64 < ( D64 + 1 ) by XREAL_1:29;
L397: ( D64 - 1 ) < ( ( D64 + 1 ) - 1 ) by L396 , XREAL_1:9;
L398: ( D64 - 1 ) >= ( 0 ) by L393 , XREAL_1:48;
L399: ( D64 -' 1 ) < D64 by L398 , L397 , XREAL_0:def 2;
thus L400: contradiction by L399 , L395 , XXREAL_2:def 7;
end;
L401: D64 in D63 by XXREAL_2:def 7;
L402: (ex B102 being (Element of ( NAT )) st (B102 = D64 & (for R3 being (Equivalence_Relation of R1) holds (for R4 being (Equivalence_Relation of R1) holds (for R7 being set holds (for R8 being set holds ((R3 in (the carrier of C135) & R4 in (the carrier of C135) & [ R7 , R8 ] in ( R3 "\/" R4 )) implies (ex B103 being non  empty (FinSequence of R1) st (( len B103 ) = ( B102 + 2 ) & R7 , R8 are_joint_by B103 , R3 , R4))))))))) by L401;
thus L403: thesis by L402 , L382;
end;
uniqueness
proof
let C141 , C142 being (Element of ( NAT ));
assume L404: (for R3 being (Equivalence_Relation of R1) holds (for R4 being (Equivalence_Relation of R1) holds (for R7 being set holds (for R8 being set holds ((R3 in (the carrier of C135) & R4 in (the carrier of C135) & [ R7 , R8 ] in ( R3 "\/" R4 )) implies (ex B104 being non  empty (FinSequence of R1) st (( len B104 ) = ( C141 + 2 ) & R7 , R8 are_joint_by B104 , R3 , R4)))))));
given R5 being (Equivalence_Relation of R1) , R6 being (Equivalence_Relation of R1) , R9 being set , R10 being set such that
L405: (R5 in (the carrier of C135) & R6 in (the carrier of C135) & [ R9 , R10 ] in ( R5 "\/" R6 ))
and
L406: (not (ex B105 being non  empty (FinSequence of R1) st (( len B105 ) = ( C141 + 1 ) & R9 , R10 are_joint_by B105 , R5 , R6)));

assume L407: (for R3 being (Equivalence_Relation of R1) holds (for R4 being (Equivalence_Relation of R1) holds (for R7 being set holds (for R8 being set holds ((R3 in (the carrier of C135) & R4 in (the carrier of C135) & [ R7 , R8 ] in ( R3 "\/" R4 )) implies (ex B106 being non  empty (FinSequence of R1) st (( len B106 ) = ( C142 + 2 ) & R7 , R8 are_joint_by B106 , R3 , R4)))))));
L408: (ex B107 being non  empty (FinSequence of R1) st (( len B107 ) = ( C142 + 2 ) & R9 , R10 are_joint_by B107 , R5 , R6)) by L407 , L405;
L409: ( field R6 ) = R1 by EQREL_1:9;
L410: R6 is_reflexive_in R1 by L409 , RELAT_2:def 9;
L411: ( field R5 ) = R1 by EQREL_1:9;
L412: R5 is_reflexive_in R1 by L411 , RELAT_2:def 9;
given R3 being (Equivalence_Relation of R1) , R4 being (Equivalence_Relation of R1) , R7 being set , R8 being set such that
L413: (R3 in (the carrier of C135) & R4 in (the carrier of C135) & [ R7 , R8 ] in ( R3 "\/" R4 ))
and
L414: (not (ex B108 being non  empty (FinSequence of R1) st (( len B108 ) = ( C142 + 1 ) & R7 , R8 are_joint_by B108 , R3 , R4)));

L415: (ex B109 being non  empty (FinSequence of R1) st (( len B109 ) = ( C141 + 2 ) & R7 , R8 are_joint_by B109 , R3 , R4)) by L404 , L413;
L416: ( field R4 ) = R1 by EQREL_1:9;
L417: R4 is_reflexive_in R1 by L416 , RELAT_2:def 9;
L418: ( field R3 ) = R1 by EQREL_1:9;
L419: R3 is_reflexive_in R1 by L418 , RELAT_2:def 9;
assume L420: (not thesis);
per cases  by L420 , XXREAL_0:1;
suppose L421: C141 < C142;

L422: ( C141 + 2 ) < ( C142 + ( 1 + 1 ) ) by L421 , XREAL_1:6;
L423: ( C141 + 2 ) < ( ( C142 + 1 ) + 1 ) by L422;
L424: ( C141 + 2 ) <= ( C142 + 1 ) by L423 , NAT_1:13;
thus L425: contradiction by L424 , L414 , L415 , L419 , L417 , L336;
end;
suppose L426: C142 < C141;

L427: ( C142 + 2 ) < ( C141 + ( 1 + 1 ) ) by L426 , XREAL_1:6;
L428: ( C142 + 2 ) < ( ( C141 + 1 ) + 1 ) by L427;
L429: ( C142 + 2 ) <= ( C141 + 1 ) by L428 , NAT_1:13;
thus L430: contradiction by L429 , L406 , L408 , L412 , L410 , L336;
end;
end;
end;
theorem
L433: (for R1 being non  empty set holds (for B110 being (Sublattice of ( EqRelLATT R1 )) holds (for B111 being (Element of ( NAT )) holds (((ex R2 being (Equivalence_Relation of R1) st (R2 in (the carrier of B110) & R2 <> ( id R1 ))) & (for R3 being (Equivalence_Relation of R1) holds (for R4 being (Equivalence_Relation of R1) holds (for R7 being set holds (for R8 being set holds ((R3 in (the carrier of B110) & R4 in (the carrier of B110) & [ R7 , R8 ] in ( R3 "\/" R4 )) implies (ex B112 being non  empty (FinSequence of R1) st (( len B112 ) = ( B111 + 2 ) & R7 , R8 are_joint_by B112 , R3 , R4)))))))) implies ( type_of B110 ) <= B111))))
proof
let R1 being non  empty set;
let C143 being (Sublattice of ( EqRelLATT R1 ));
let C144 being (Element of ( NAT ));
assume that
L434: (ex R2 being (Equivalence_Relation of R1) st (R2 in (the carrier of C143) & R2 <> ( id R1 )))
and
L435: (for R3 being (Equivalence_Relation of R1) holds (for R4 being (Equivalence_Relation of R1) holds (for R7 being set holds (for R8 being set holds ((R3 in (the carrier of C143) & R4 in (the carrier of C143) & [ R7 , R8 ] in ( R3 "\/" R4 )) implies (ex B113 being non  empty (FinSequence of R1) st (( len B113 ) = ( C144 + 2 ) & R7 , R8 are_joint_by B113 , R3 , R4)))))))
and
L436: C144 < ( type_of C143 );
L437: ( C144 + 1 ) <= ( type_of C143 ) by L436 , NAT_1:13;
consider C145 being Nat such that L438: ( type_of C143 ) = ( ( C144 + 1 ) + C145 ) by L437 , NAT_1:10;
reconsider D65 = C145 as (Element of ( NAT )) by ORDINAL1:def 12;
L439: ( ( ( C144 + 1 ) + D65 ) + 1 ) = ( ( C144 + D65 ) + 2 );
consider R3 being (Equivalence_Relation of R1), R4 being (Equivalence_Relation of R1), R7 being set, R8 being set such that L440: (R3 in (the carrier of C143) & R4 in (the carrier of C143) & [ R7 , R8 ] in ( R3 "\/" R4 )) and L441: (not (ex B114 being non  empty (FinSequence of R1) st (( len B114 ) = ( ( C144 + D65 ) + 2 ) & R7 , R8 are_joint_by B114 , R3 , R4))) by L439 , L434 , L438 , L359;
L442: ( ( C144 + 2 ) + D65 ) = ( ( C144 + D65 ) + 2 );
L443: ( field R4 ) = R1 by EQREL_1:9;
L444: R4 is_reflexive_in R1 by L443 , RELAT_2:def 9;
L445: ( field R3 ) = R1 by EQREL_1:9;
L446: R3 is_reflexive_in R1 by L445 , RELAT_2:def 9;
L447: (ex B115 being non  empty (FinSequence of R1) st (( len B115 ) = ( C144 + 2 ) & R7 , R8 are_joint_by B115 , R3 , R4)) by L435 , L440;
thus L448: contradiction by L447 , L441 , L446 , L444 , L442 , L336 , NAT_1:11;
end;
begin
definition
let C146 being set;
let C147 being 1-sorted;
mode BiFunction of C146 , C147
 is (Function of [: C146 , C146 :] , (the carrier of C147));
end;
definition
let C148 being non  empty set;
let C149 being 1-sorted;
let C150 being (BiFunction of C148 , C149);
let C151 , C152 being (Element of C148);
redefine func C150 . (C151 , C152) -> (Element of C149);

coherence
proof
reconsider D66 = [ C151 , C152 ] as (Element of [: C148 , C148 :]);
L450: ( C150 . D66 ) is (Element of C149);
thus L451: thesis by L450;
end;
end;
definition
let R11 being non  empty set;
let C153 being 1-sorted;
let C154 being (BiFunction of R11 , C153);
attr C154 is  symmetric
means
:L453: (for B116 , B117 being (Element of R11) holds ( C154 . (B116 , B117) ) = ( C154 . (B117 , B116) ));
end;
definition
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let C155 being (BiFunction of R11 , R12);
attr C155 is  zeroed
means
:L455: (for B118 being (Element of R11) holds ( C155 . (B118 , B118) ) = ( Bottom R12 ));
attr C155 is  u.t.i.
means
:L456: (for B119 , B120 , B121 being (Element of R11) holds ( ( C155 . (B119 , B120) ) "\/" ( C155 . (B120 , B121) ) ) >= ( C155 . (B119 , B121) ));
end;
registration
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
cluster  symmetric  zeroed  u.t.i. for (BiFunction of R11 , R12);
existence
proof
reconsider D67 = ( [: R11 , R11 :] --> ( Bottom R12 ) ) as (Function of [: R11 , R11 :] , (the carrier of R12));
L458: (for B122 , B123 being (Element of R11) holds ( D67 . [ B122 , B123 ] ) = ( Bottom R12 )) by FUNCOP_1:7;
reconsider D68 = D67 as (BiFunction of R11 , R12);
L459: (for B124 , B125 being (Element of R11) holds ( D68 . (B124 , B125) ) = ( D68 . (B125 , B124) ))
proof
let C156 , C157 being (Element of R11);
thus L460: ( D68 . (C156 , C157) ) = ( Bottom R12 ) by L458
.= ( D68 . (C157 , C156) ) by L458;
end;
L461: D68 is  symmetric by L459 , L453;
L462: (for B126 , B127 , B128 being (Element of R11) holds ( ( D68 . (B126 , B127) ) "\/" ( D68 . (B127 , B128) ) ) >= ( D68 . (B126 , B128) ))
proof
let C158 , C159 , C160 being (Element of R11);
L463: ( D68 . (C158 , C160) ) <= ( Bottom R12 ) by L458;
L464: (( D68 . (C158 , C159) ) = ( Bottom R12 ) & ( D68 . (C159 , C160) ) = ( Bottom R12 )) by L458;
thus L465: thesis by L464 , L463 , YELLOW_5:1;
end;
L466: D68 is  u.t.i. by L462 , L456;
L467: (for B129 being (Element of R11) holds ( D68 . (B129 , B129) ) = ( Bottom R12 )) by L458;
L468: D68 is  zeroed by L467 , L455;
thus L469: thesis by L468 , L461 , L466;
end;
end;
definition
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
mode distance_function of R11 , R12
 is  symmetric  zeroed  u.t.i. (BiFunction of R11 , R12);
end;
definition
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let C161 being (distance_function of R11 , R12);
func alpha C161 -> (Function of R12 , ( EqRelLATT R11 )) means 
:L472: (for B130 being (Element of R12) holds (ex B131 being (Equivalence_Relation of R11) st (B131 = ( it . B130 ) & (for B132 , B133 being (Element of R11) holds ([ B132 , B133 ] in B131 iff ( C161 . (B132 , B133) ) <= B130)))));
existence
proof
defpred S2[ (Element of R12) , (Element of ( EqRelLATT R11 )) ] means (ex B134 being (Equivalence_Relation of R11) st (B134 = $2 & (for B135 , B136 being (Element of R11) holds ([ B135 , B136 ] in B134 iff ( C161 . (B135 , B136) ) <= $1))));
L473: (for B137 being (Element of R12) holds (ex B138 being (Element of ( EqRelLATT R11 )) st S2[ B137 , B138 ]))
proof
let C162 being (Element of R12);
defpred S3[ (Element of R11) , (Element of R11) ] means ( C161 . ($1 , $2) ) <= C162;
consider C163 being (Relation of R11 , R11) such that L474: (for B139 , B140 being (Element of R11) holds ([ B139 , B140 ] in C163 iff S3[ B139 , B140 ])) from RELSET_1:sch 2;
L475: (for B141 , B142 being set holds ((B141 in R11 & B142 in R11 & [ B141 , B142 ] in C163) implies [ B142 , B141 ] in C163))
proof
let C164 , C165 being set;
assume that
L476: C164 in R11
and
L477: C165 in R11
and
L478: [ C164 , C165 ] in C163;
reconsider D69 = C165 as (Element of R11) by L477;
reconsider D70 = C164 as (Element of R11) by L476;
L479: ( C161 . (D70 , D69) ) <= C162 by L474 , L478;
L480: ( C161 . (D69 , D70) ) <= C162 by L479 , L453;
thus L481: thesis by L480 , L474;
end;
L482: C163 is_symmetric_in R11 by L475 , RELAT_2:def 3;
L483: (for B143 being set holds (B143 in R11 implies [ B143 , B143 ] in C163))
proof
let C166 being set;
assume L484: C166 in R11;
reconsider D71 = C166 as (Element of R11) by L484;
L485: ( Bottom R12 ) <= C162 by YELLOW_0:44;
L486: ( C161 . (D71 , D71) ) <= C162 by L485 , L455;
thus L487: thesis by L486 , L474;
end;
L488: C163 is_reflexive_in R11 by L483 , RELAT_2:def 1;
L489: (( dom C163 ) = R11 & ( field C163 ) = R11) by L488 , ORDERS_1:13;
L490: (for B144 , B145 , B146 being set holds ((B144 in R11 & B145 in R11 & B146 in R11 & [ B144 , B145 ] in C163 & [ B145 , B146 ] in C163) implies [ B144 , B146 ] in C163))
proof
let C167 , C168 , C169 being set;
assume that
L491: (C167 in R11 & C168 in R11 & C169 in R11)
and
L492: ([ C167 , C168 ] in C163 & [ C168 , C169 ] in C163);
reconsider D72 = C167 , D73 = C168 , D74 = C169 as (Element of R11) by L491;
L493: (( C161 . (D72 , D73) ) <= C162 & ( C161 . (D73 , D74) ) <= C162) by L474 , L492;
L494: ( ( C161 . (D72 , D73) ) "\/" ( C161 . (D73 , D74) ) ) <= C162 by L493 , YELLOW_0:22;
L495: ( C161 . (D72 , D74) ) <= ( ( C161 . (D72 , D73) ) "\/" ( C161 . (D73 , D74) ) ) by L456;
L496: ( C161 . (D72 , D74) ) <= C162 by L495 , L494 , ORDERS_2:3;
thus L497: thesis by L496 , L474;
end;
L498: C163 is_transitive_in R11 by L490 , RELAT_2:def 8;
reconsider D75 = C163 as (Equivalence_Relation of R11) by L498 , L489 , L482 , PARTFUN1:def 2 , RELAT_2:def 11 , RELAT_2:def 16;
reconsider D76 = D75 as (Element of ( EqRelLATT R11 )) by L78;
L499: (ex B147 being (Element of ( EqRelLATT R11 )) st B147 = D76);
thus L500: thesis by L499 , L474;
end;
L501: (ex B148 being (Function of R12 , ( EqRelLATT R11 )) st (for B149 being (Element of R12) holds S2[ B149 , ( B148 . B149 ) ])) from FUNCT_2:sch 3(L473);
thus L502: thesis by L501;
end;
uniqueness
proof
let C170 , C171 being (Function of R12 , ( EqRelLATT R11 ));
assume that
L503: (for B150 being (Element of R12) holds (ex B151 being (Equivalence_Relation of R11) st (B151 = ( C170 . B150 ) & (for B152 , B153 being (Element of R11) holds ([ B152 , B153 ] in B151 iff ( C161 . (B152 , B153) ) <= B150)))))
and
L504: (for B154 being (Element of R12) holds (ex B155 being (Equivalence_Relation of R11) st (B155 = ( C171 . B154 ) & (for B156 , B157 being (Element of R11) holds ([ B156 , B157 ] in B155 iff ( C161 . (B156 , B157) ) <= B154)))));
reconsider D77 = C170 , D78 = C171 as (Function of (the carrier of R12) , (the carrier of ( EqRelLATT R11 )));
L505: (for B158 being (Element of R12) holds ( C170 . B158 ) = ( C171 . B158 ))
proof
let C172 being (Element of R12);
consider C173 being (Equivalence_Relation of R11) such that L506: C173 = ( C170 . C172 ) and L507: (for B159 , B160 being (Element of R11) holds ([ B159 , B160 ] in C173 iff ( C161 . (B159 , B160) ) <= C172)) by L503;
consider C174 being (Equivalence_Relation of R11) such that L508: C174 = ( C171 . C172 ) and L509: (for B161 , B162 being (Element of R11) holds ([ B161 , B162 ] in C174 iff ( C161 . (B161 , B162) ) <= C172)) by L504;
L510: (for B163 , B164 being (Element of R11) holds ([ B163 , B164 ] in C173 iff [ B163 , B164 ] in C174))
proof
let C175 , C176 being (Element of R11);
L511: ([ C175 , C176 ] in C173 iff ( C161 . (C175 , C176) ) <= C172) by L507;
thus L512: thesis by L511 , L509;
end;
L513: (for B165 , B166 being set holds ([ B165 , B166 ] in C173 iff [ B165 , B166 ] in C174))
proof
let C177 , C178 being set;
L514: ( field C173 ) = R11 by EQREL_1:9;
thus L515:now
assume L516: [ C177 , C178 ] in C173;
reconsider D79 = C177 , D80 = C178 as (Element of R11) by L516 , L514 , RELAT_1:15;
L517: [ D79 , D80 ] in C174 by L510 , L516;
thus L518: [ C177 , C178 ] in C174 by L517;
end;
assume L519: [ C177 , C178 ] in C174;
L520: ( field C174 ) = R11 by EQREL_1:9;
reconsider D81 = C177 , D82 = C178 as (Element of R11) by L520 , L519 , RELAT_1:15;
L521: [ D81 , D82 ] in C173 by L510 , L519;
thus L522: thesis by L521;
end;
thus L523: thesis by L513 , L506 , L508 , RELAT_1:def 2;
end;
L524: (for B167 being set holds (B167 in (the carrier of R12) implies ( D77 . B167 ) = ( D78 . B167 ))) by L505;
thus L525: C170 = C171 by L524 , FUNCT_2:12;
end;
end;
theorem
L527: (for R11 being non  empty set holds (for R12 being  lower-bounded LATTICE holds (for B168 being (distance_function of R11 , R12) holds ( alpha B168 ) is  meet-preserving)))
proof
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let C179 being (distance_function of R11 , R12);
let C180 , C181 being (Element of R12);
set D83 = ( alpha C179 );
L528:  ex_inf_of ( D83 .: { C180 , C181 } ) , ( EqRelLATT R11 ) by YELLOW_0:17;
consider C182 being (Equivalence_Relation of R11) such that L529: C182 = ( D83 . ( C180 "/\" C181 ) ) and L530: (for B169 , B170 being (Element of R11) holds ([ B169 , B170 ] in C182 iff ( C179 . (B169 , B170) ) <= ( C180 "/\" C181 ))) by L472;
consider C183 being (Equivalence_Relation of R11) such that L531: C183 = ( D83 . C181 ) and L532: (for B171 , B172 being (Element of R11) holds ([ B171 , B172 ] in C183 iff ( C179 . (B171 , B172) ) <= C181)) by L472;
consider C184 being (Equivalence_Relation of R11) such that L533: C184 = ( D83 . C180 ) and L534: (for B173 , B174 being (Element of R11) holds ([ B173 , B174 ] in C184 iff ( C179 . (B173 , B174) ) <= C180)) by L472;
L535: (for B175 , B176 being (Element of R11) holds ([ B175 , B176 ] in ( C184 /\ C183 ) iff [ B175 , B176 ] in C182))
proof
let C185 , C186 being (Element of R11);
thus L536:now
assume L537: [ C185 , C186 ] in ( C184 /\ C183 );
L538: [ C185 , C186 ] in C183 by L537 , XBOOLE_0:def 4;
L539: ( C179 . (C185 , C186) ) <= C181 by L538 , L532;
L540: [ C185 , C186 ] in C184 by L537 , XBOOLE_0:def 4;
L541: ( C179 . (C185 , C186) ) <= C180 by L540 , L534;
L542: ( C179 . (C185 , C186) ) <= ( C180 "/\" C181 ) by L541 , L539 , YELLOW_0:23;
thus L543: [ C185 , C186 ] in C182 by L542 , L530;
end;
assume L544: [ C185 , C186 ] in C182;
L545: ( C179 . (C185 , C186) ) <= ( C180 "/\" C181 ) by L544 , L530;
L546: ( C180 "/\" C181 ) <= C181 by YELLOW_0:23;
L547: ( C179 . (C185 , C186) ) <= C181 by L546 , L545 , ORDERS_2:3;
L548: [ C185 , C186 ] in C183 by L547 , L532;
L549: ( C180 "/\" C181 ) <= C180 by YELLOW_0:23;
L550: ( C179 . (C185 , C186) ) <= C180 by L549 , L545 , ORDERS_2:3;
L551: [ C185 , C186 ] in C184 by L550 , L534;
thus L552: thesis by L551 , L548 , XBOOLE_0:def 4;
end;
L553: (for B177 , B178 being set holds ([ B177 , B178 ] in ( C184 /\ C183 ) iff [ B177 , B178 ] in C182))
proof
let C187 , C188 being set;
L554: ( ( field C184 ) /\ ( field C183 ) ) = ( R11 /\ ( field C183 ) ) by EQREL_1:9
.= ( R11 /\ R11 ) by EQREL_1:9
.= R11;
L555: ( field ( C184 /\ C183 ) ) c= R11 by L554 , RELAT_1:19;
thus L556:now
assume L557: [ C187 , C188 ] in ( C184 /\ C183 );
L558: (C187 in ( field ( C184 /\ C183 ) ) & C188 in ( field ( C184 /\ C183 ) )) by L557 , RELAT_1:15;
reconsider D84 = C187 , D85 = C188 as (Element of R11) by L558 , L555;
L559: [ D84 , D85 ] in C182 by L535 , L557;
thus L560: [ C187 , C188 ] in C182 by L559;
end;
assume L561: [ C187 , C188 ] in C182;
L562: ( field C182 ) = R11 by EQREL_1:9;
reconsider D86 = C187 , D87 = C188 as (Element of R11) by L562 , L561 , RELAT_1:15;
L563: [ D86 , D87 ] in ( C184 /\ C183 ) by L535 , L561;
thus L564: thesis by L563;
end;
L565: ( dom D83 ) = (the carrier of R12) by FUNCT_2:def 1;
L566: ( inf ( D83 .: { C180 , C181 } ) ) = ( inf { ( D83 . C180 ) , ( D83 . C181 ) } ) by L565 , FUNCT_1:60
.= ( ( D83 . C180 ) "/\" ( D83 . C181 ) ) by YELLOW_0:40
.= ( C184 /\ C183 ) by L533 , L531 , L117
.= ( D83 . ( C180 "/\" C181 ) ) by L529 , L553 , RELAT_1:def 2
.= ( D83 . ( inf { C180 , C181 } ) ) by YELLOW_0:40;
thus L567: thesis by L566 , L528 , WAYBEL_0:def 30;
end;
theorem
L568: (for R11 being non  empty set holds (for R12 being  lower-bounded LATTICE holds (for B179 being (distance_function of R11 , R12) holds (B179 is  onto implies ( alpha B179 ) is  one-to-one))))
proof
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let C189 being (distance_function of R11 , R12);
set D88 = ( alpha C189 );
assume L569: C189 is  onto;
L570: ( rng C189 ) = (the carrier of R12) by L569 , FUNCT_2:def 3;
L571: (for B180 , B181 being (Element of R12) holds (( D88 . B180 ) = ( D88 . B181 ) implies B180 = B181))
proof
let C190 , C191 being (Element of R12);
assume L572: ( D88 . C190 ) = ( D88 . C191 );
consider C192 being set such that L573: C192 in [: R11 , R11 :] and L574: ( C189 . C192 ) = C190 by L570 , FUNCT_2:11;
consider C193 , C194 being set such that L575: (C193 in R11 & C194 in R11) and L576: C192 = [ C193 , C194 ] by L573 , ZFMISC_1:def 2;
reconsider D89 = C193 , D90 = C194 as (Element of R11) by L575;
consider C195 being set such that L577: C195 in [: R11 , R11 :] and L578: ( C189 . C195 ) = C191 by L570 , FUNCT_2:11;
consider C196 , C197 being set such that L579: (C196 in R11 & C197 in R11) and L580: C195 = [ C196 , C197 ] by L577 , ZFMISC_1:def 2;
reconsider D91 = C196 , D92 = C197 as (Element of R11) by L579;
consider C198 being (Equivalence_Relation of R11) such that L581: C198 = ( D88 . C190 ) and L582: (for B182 , B183 being (Element of R11) holds ([ B182 , B183 ] in C198 iff ( C189 . (B182 , B183) ) <= C190)) by L472;
consider C199 being (Equivalence_Relation of R11) such that L583: C199 = ( D88 . C191 ) and L584: (for B184 , B185 being (Element of R11) holds ([ B184 , B185 ] in C199 iff ( C189 . (B184 , B185) ) <= C191)) by L472;
L585: ( C189 . (D91 , D92) ) = C191 by L578 , L580;
L586: [ D91 , D92 ] in C199 by L585 , L584;
L587: C191 <= C190 by L586 , L572 , L585 , L581 , L582 , L583;
L588: ( C189 . (D89 , D90) ) = C190 by L574 , L576;
L589: [ D89 , D90 ] in C198 by L588 , L582;
L590: C190 <= C191 by L589 , L572 , L588 , L581 , L583 , L584;
thus L591: thesis by L590 , L587 , ORDERS_2:2;
end;
thus L592: thesis by L571 , WAYBEL_1:def 1;
end;
begin
definition
let C200 being set;
func new_set C200 equals 
( C200 \/ { { C200 } , { { C200 } } , { { { C200 } } } } );
correctness;
end;
registration
let C201 being set;
cluster ( new_set C201 ) -> non  empty;
coherence;
end;
definition
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let C202 being (BiFunction of R11 , R12);
let C203 being (Element of [: R11 , R11 , (the carrier of R12) , (the carrier of R12) :]);
func new_bi_fun (C202 , C203) -> (BiFunction of ( new_set R11 ) , R12) means 
:L595: ((for B186 , B187 being (Element of R11) holds ( it . (B186 , B187) ) = ( C202 . (B186 , B187) )) & ( it . ({ R11 } , { R11 }) ) = ( Bottom R12 ) & ( it . ({ { R11 } } , { { R11 } }) ) = ( Bottom R12 ) & ( it . ({ { { R11 } } } , { { { R11 } } }) ) = ( Bottom R12 ) & ( it . ({ { R11 } } , { { { R11 } } }) ) = ( C203 `3_4 ) & ( it . ({ { { R11 } } } , { { R11 } }) ) = ( C203 `3_4 ) & ( it . ({ R11 } , { { R11 } }) ) = ( C203 `4_4 ) & ( it . ({ { R11 } } , { R11 }) ) = ( C203 `4_4 ) & ( it . ({ R11 } , { { { R11 } } }) ) = ( ( C203 `3_4 ) "\/" ( C203 `4_4 ) ) & ( it . ({ { { R11 } } } , { R11 }) ) = ( ( C203 `3_4 ) "\/" ( C203 `4_4 ) ) & (for B188 being (Element of R11) holds (( it . (B188 , { R11 }) ) = ( ( C202 . (B188 , ( C203 `1_4 )) ) "\/" ( C203 `3_4 ) ) & ( it . ({ R11 } , B188) ) = ( ( C202 . (B188 , ( C203 `1_4 )) ) "\/" ( C203 `3_4 ) ) & ( it . (B188 , { { R11 } }) ) = ( ( ( C202 . (B188 , ( C203 `1_4 )) ) "\/" ( C203 `3_4 ) ) "\/" ( C203 `4_4 ) ) & ( it . ({ { R11 } } , B188) ) = ( ( ( C202 . (B188 , ( C203 `1_4 )) ) "\/" ( C203 `3_4 ) ) "\/" ( C203 `4_4 ) ) & ( it . (B188 , { { { R11 } } }) ) = ( ( C202 . (B188 , ( C203 `2_4 )) ) "\/" ( C203 `4_4 ) ) & ( it . ({ { { R11 } } } , B188) ) = ( ( C202 . (B188 , ( C203 `2_4 )) ) "\/" ( C203 `4_4 ) ))));
existence
proof
reconsider D93 = ( C203 `3_4 ) , D94 = ( C203 `4_4 ) as (Element of R12);
set D95 = ( C203 `1_4 );
set D96 = ( C203 `2_4 );
defpred S4[ (Element of ( new_set R11 )) , (Element of ( new_set R11 )) , (Element of R12) ] means ((($1 in R11 & $2 in R11) implies $3 = ( C202 . ($1 , $2) )) & ((($1 = { { R11 } } & $2 = { { { R11 } } }) or ($2 = { { R11 } } & $1 = { { { R11 } } })) implies $3 = D93) & ((($1 = { R11 } & $2 = { { R11 } }) or ($2 = { R11 } & $1 = { { R11 } })) implies $3 = D94) & ((($1 = { R11 } & $2 = { { { R11 } } }) or ($2 = { R11 } & $1 = { { { R11 } } })) implies $3 = ( D93 "\/" D94 )) & ((($1 = { R11 } or $1 = { { R11 } } or $1 = { { { R11 } } }) & $2 = $1) implies $3 = ( Bottom R12 )) & (($1 in R11 & $2 = { R11 }) implies (ex B189 being (Element of R11) st (B189 = $1 & $3 = ( ( C202 . (B189 , D95) ) "\/" D93 )))) & (($1 in R11 & $2 = { { R11 } }) implies (ex B190 being (Element of R11) st (B190 = $1 & $3 = ( ( ( C202 . (B190 , D95) ) "\/" D93 ) "\/" D94 )))) & (($1 in R11 & $2 = { { { R11 } } }) implies (ex B191 being (Element of R11) st (B191 = $1 & $3 = ( ( C202 . (B191 , D96) ) "\/" D94 )))) & (($2 in R11 & $1 = { R11 }) implies (ex B192 being (Element of R11) st (B192 = $2 & $3 = ( ( C202 . (B192 , D95) ) "\/" D93 )))) & (($2 in R11 & $1 = { { R11 } }) implies (ex B193 being (Element of R11) st (B193 = $2 & $3 = ( ( ( C202 . (B193 , D95) ) "\/" D93 ) "\/" D94 )))) & (($2 in R11 & $1 = { { { R11 } } }) implies (ex B194 being (Element of R11) st (B194 = $2 & $3 = ( ( C202 . (B194 , D96) ) "\/" D94 )))));
L596: { { R11 } } in { { R11 } , { { R11 } } , { { { R11 } } } } by ENUMSET1:def 1;
L597: { { R11 } } in ( new_set R11 ) by L596 , XBOOLE_0:def 3;
L598: (for B195 , B196 being (Element of ( new_set R11 )) holds (ex B197 being (Element of R12) st S4[ B195 , B196 , B197 ]))
proof
let C204 , C205 being (Element of ( new_set R11 ));
L599: (C204 in R11 or C204 in { { R11 } , { { R11 } } , { { { R11 } } } }) by XBOOLE_0:def 3;
L600: (C205 in R11 or C205 in { { R11 } , { { R11 } } , { { { R11 } } } }) by XBOOLE_0:def 3;
L601: (((C204 = { R11 } or C204 = { { R11 } } or C204 = { { { R11 } } }) & C204 = C205) iff ((C204 = { R11 } & C205 = { R11 }) or (C204 = { { R11 } } & C205 = { { R11 } }) or (C204 = { { { R11 } } } & C205 = { { { R11 } } })));
L602: (not { R11 } in R11) by TARSKI:def 1;
L603: { { R11 } } <> { { { R11 } } }
proof
assume L604: { { R11 } } = { { { R11 } } };
L605: { { R11 } } in { { R11 } } by L604 , TARSKI:def 1;
thus L606: contradiction by L605;
end;
L607: (not { { { R11 } } } in R11)
proof
L608: { { R11 } } in { { { R11 } } } by TARSKI:def 1;
L609: (R11 in { R11 } & { R11 } in { { R11 } }) by TARSKI:def 1;
assume L610: { { { R11 } } } in R11;
thus L611: contradiction by L610 , L609 , L608 , XREGULAR:8;
end;
L612: { R11 } <> { { { R11 } } }
proof
assume L613: { R11 } = { { { R11 } } };
L614: { { R11 } } in { R11 } by L613 , TARSKI:def 1;
thus L615: contradiction by L614 , TARSKI:def 1;
end;
L616: (not { { R11 } } in R11)
proof
L617: (R11 in { R11 } & { R11 } in { { R11 } }) by TARSKI:def 1;
assume L618: { { R11 } } in R11;
thus L619: contradiction by L618 , L617 , XREGULAR:7;
end;
per cases  by L599 , L600 , L601 , ENUMSET1:def 1;
suppose L620: (C204 in R11 & C205 in R11);

reconsider D97 = C204 , D98 = C205 as (Element of R11) by L620;
take ( C202 . (D97 , D98) );
thus L621: thesis by L602 , L616 , L607;
end;
suppose L622: ((C204 = { { R11 } } & C205 = { { { R11 } } }) or (C205 = { { R11 } } & C204 = { { { R11 } } }));

take D93;
thus L623: thesis by L603 , L612 , L616 , L607 , L622;
end;
suppose L624: ((C204 = { R11 } & C205 = { { R11 } }) or (C205 = { R11 } & C204 = { { R11 } }));

take D94;
thus L625: thesis by L603 , L612 , L616 , L624 , TARSKI:def 1;
end;
suppose L626: ((C204 = { R11 } & C205 = { { { R11 } } }) or (C205 = { R11 } & C204 = { { { R11 } } }));

take ( D93 "\/" D94 );
thus L627: thesis by L603 , L612 , L607 , L626 , TARSKI:def 1;
end;
suppose L628: ((C204 = { R11 } or C204 = { { R11 } } or C204 = { { { R11 } } }) & C205 = C204);

take ( Bottom R12 );
thus L629: thesis by L603 , L612 , L616 , L607 , L628 , TARSKI:def 1;
end;
suppose L630: (C204 in R11 & C205 = { R11 });

reconsider D99 = C204 as (Element of R11) by L630;
take ( ( C202 . (D99 , D95) ) "\/" D93 );
thus L631: thesis by L612 , L616 , L607 , L630 , TARSKI:def 1;
end;
suppose L632: (C204 in R11 & C205 = { { R11 } });

reconsider D100 = C204 as (Element of R11) by L632;
take ( ( ( C202 . (D100 , D95) ) "\/" D93 ) "\/" D94 );
thus L633: thesis by L603 , L616 , L607 , L632 , TARSKI:def 1;
end;
suppose L634: (C204 in R11 & C205 = { { { R11 } } });

reconsider D101 = C204 as (Element of R11) by L634;
take ( ( C202 . (D101 , D96) ) "\/" D94 );
thus L635: thesis by L603 , L612 , L616 , L607 , L634 , TARSKI:def 1;
end;
suppose L636: (C205 in R11 & C204 = { R11 });

reconsider D102 = C205 as (Element of R11) by L636;
take ( ( C202 . (D102 , D95) ) "\/" D93 );
thus L637: thesis by L612 , L616 , L607 , L636 , TARSKI:def 1;
end;
suppose L638: (C205 in R11 & C204 = { { R11 } });

reconsider D103 = C205 as (Element of R11) by L638;
take ( ( ( C202 . (D103 , D95) ) "\/" D93 ) "\/" D94 );
thus L639: thesis by L603 , L616 , L607 , L638 , TARSKI:def 1;
end;
suppose L640: (C205 in R11 & C204 = { { { R11 } } });

reconsider D104 = C205 as (Element of R11) by L640;
take ( ( C202 . (D104 , D96) ) "\/" D94 );
thus L641: thesis by L603 , L612 , L616 , L607 , L640 , TARSKI:def 1;
end;
end;
consider C206 being (Function of [: ( new_set R11 ) , ( new_set R11 ) :] , (the carrier of R12)) such that L643: (for B198 , B199 being (Element of ( new_set R11 )) holds S4[ B198 , B199 , ( C206 . (B198 , B199) ) ]) from BINOP_1:sch 3(L598);
L644: { { { R11 } } } in { { R11 } , { { R11 } } , { { { R11 } } } } by ENUMSET1:def 1;
L645: { { { R11 } } } in ( new_set R11 ) by L644 , XBOOLE_0:def 3;
reconsider D105 = C206 as (BiFunction of ( new_set R11 ) , R12);
L646: { R11 } in { { R11 } , { { R11 } } , { { { R11 } } } } by ENUMSET1:def 1;
L647: { R11 } in ( new_set R11 ) by L646 , XBOOLE_0:def 3;
L648: (for B200 being (Element of R11) holds (( D105 . ({ R11 } , B200) ) = ( ( C202 . (B200 , D95) ) "\/" D93 ) & ( D105 . ({ { R11 } } , B200) ) = ( ( ( C202 . (B200 , D95) ) "\/" D93 ) "\/" D94 ) & ( D105 . ({ { { R11 } } } , B200) ) = ( ( C202 . (B200 , D96) ) "\/" D94 )))
proof
let C207 being (Element of R11);
reconsider D106 = C207 as (Element of ( new_set R11 )) by XBOOLE_0:def 3;
L649: (ex B201 being (Element of R11) st (B201 = D106 & ( D105 . ({ R11 } , D106) ) = ( ( C202 . (B201 , D95) ) "\/" D93 ))) by L647 , L643;
thus L650: ( D105 . ({ R11 } , C207) ) = ( ( C202 . (C207 , D95) ) "\/" D93 ) by L649;
L651: (ex B202 being (Element of R11) st (B202 = D106 & ( D105 . ({ { R11 } } , D106) ) = ( ( ( C202 . (B202 , D95) ) "\/" D93 ) "\/" D94 ))) by L597 , L643;
thus L652: ( D105 . ({ { R11 } } , C207) ) = ( ( ( C202 . (C207 , D95) ) "\/" D93 ) "\/" D94 ) by L651;
L653: (ex B203 being (Element of R11) st (B203 = D106 & ( D105 . ({ { { R11 } } } , D106) ) = ( ( C202 . (B203 , D96) ) "\/" D94 ))) by L645 , L643;
thus L654: thesis by L653;
end;
take D105;
L655: (for B204 , B205 being (Element of R11) holds ( D105 . (B204 , B205) ) = ( C202 . (B204 , B205) ))
proof
let C208 , C209 being (Element of R11);
reconsider D107 = C208 , D108 = C209 as (Element of ( new_set R11 )) by XBOOLE_0:def 3;
thus L656: ( D105 . (C208 , C209) ) = ( D105 . (D107 , D108) )
.= ( C202 . (C208 , C209) ) by L643;
end;
L657: (for B206 being (Element of R11) holds (( D105 . (B206 , { R11 }) ) = ( ( C202 . (B206 , D95) ) "\/" D93 ) & ( D105 . (B206 , { { R11 } }) ) = ( ( ( C202 . (B206 , D95) ) "\/" D93 ) "\/" D94 ) & ( D105 . (B206 , { { { R11 } } }) ) = ( ( C202 . (B206 , D96) ) "\/" D94 )))
proof
let C210 being (Element of R11);
reconsider D109 = C210 as (Element of ( new_set R11 )) by XBOOLE_0:def 3;
L658: (ex B207 being (Element of R11) st (B207 = D109 & ( D105 . (D109 , { R11 }) ) = ( ( C202 . (B207 , D95) ) "\/" D93 ))) by L647 , L643;
thus L659: ( D105 . (C210 , { R11 }) ) = ( ( C202 . (C210 , D95) ) "\/" D93 ) by L658;
L660: (ex B208 being (Element of R11) st (B208 = D109 & ( D105 . (D109 , { { R11 } }) ) = ( ( ( C202 . (B208 , D95) ) "\/" D93 ) "\/" D94 ))) by L597 , L643;
thus L661: ( D105 . (C210 , { { R11 } }) ) = ( ( ( C202 . (C210 , D95) ) "\/" D93 ) "\/" D94 ) by L660;
L662: (ex B209 being (Element of R11) st (B209 = D109 & ( D105 . (D109 , { { { R11 } } }) ) = ( ( C202 . (B209 , D96) ) "\/" D94 ))) by L645 , L643;
thus L663: thesis by L662;
end;
thus L664: thesis by L657 , L647 , L597 , L645 , L643 , L655 , L648;
end;
uniqueness
proof
set D110 = ( C203 `1_4 );
set D111 = ( C203 `2_4 );
set D112 = ( C203 `3_4 );
set D113 = ( C203 `4_4 );
let C211 , C212 being (BiFunction of ( new_set R11 ) , R12);
assume that
L665: (for B210 , B211 being (Element of R11) holds ( C211 . (B210 , B211) ) = ( C202 . (B210 , B211) ))
and
L666: ( C211 . ({ R11 } , { R11 }) ) = ( Bottom R12 )
and
L667: ( C211 . ({ { R11 } } , { { R11 } }) ) = ( Bottom R12 )
and
L668: ( C211 . ({ { { R11 } } } , { { { R11 } } }) ) = ( Bottom R12 )
and
L669: ( C211 . ({ { R11 } } , { { { R11 } } }) ) = D112
and
L670: ( C211 . ({ { { R11 } } } , { { R11 } }) ) = D112
and
L671: ( C211 . ({ R11 } , { { R11 } }) ) = D113
and
L672: ( C211 . ({ { R11 } } , { R11 }) ) = D113
and
L673: ( C211 . ({ R11 } , { { { R11 } } }) ) = ( D112 "\/" D113 )
and
L674: ( C211 . ({ { { R11 } } } , { R11 }) ) = ( D112 "\/" D113 )
and
L675: (for B212 being (Element of R11) holds (( C211 . (B212 , { R11 }) ) = ( ( C202 . (B212 , D110) ) "\/" D112 ) & ( C211 . ({ R11 } , B212) ) = ( ( C202 . (B212 , D110) ) "\/" D112 ) & ( C211 . (B212 , { { R11 } }) ) = ( ( ( C202 . (B212 , D110) ) "\/" D112 ) "\/" D113 ) & ( C211 . ({ { R11 } } , B212) ) = ( ( ( C202 . (B212 , D110) ) "\/" D112 ) "\/" D113 ) & ( C211 . (B212 , { { { R11 } } }) ) = ( ( C202 . (B212 , D111) ) "\/" D113 ) & ( C211 . ({ { { R11 } } } , B212) ) = ( ( C202 . (B212 , D111) ) "\/" D113 )))
and
L676: (for B213 , B214 being (Element of R11) holds ( C212 . (B213 , B214) ) = ( C202 . (B213 , B214) ))
and
L677: ( C212 . ({ R11 } , { R11 }) ) = ( Bottom R12 )
and
L678: ( C212 . ({ { R11 } } , { { R11 } }) ) = ( Bottom R12 )
and
L679: ( C212 . ({ { { R11 } } } , { { { R11 } } }) ) = ( Bottom R12 )
and
L680: ( C212 . ({ { R11 } } , { { { R11 } } }) ) = D112
and
L681: ( C212 . ({ { { R11 } } } , { { R11 } }) ) = D112
and
L682: ( C212 . ({ R11 } , { { R11 } }) ) = D113
and
L683: ( C212 . ({ { R11 } } , { R11 }) ) = D113
and
L684: ( C212 . ({ R11 } , { { { R11 } } }) ) = ( D112 "\/" D113 )
and
L685: ( C212 . ({ { { R11 } } } , { R11 }) ) = ( D112 "\/" D113 )
and
L686: (for B215 being (Element of R11) holds (( C212 . (B215 , { R11 }) ) = ( ( C202 . (B215 , D110) ) "\/" D112 ) & ( C212 . ({ R11 } , B215) ) = ( ( C202 . (B215 , D110) ) "\/" D112 ) & ( C212 . (B215 , { { R11 } }) ) = ( ( ( C202 . (B215 , D110) ) "\/" D112 ) "\/" D113 ) & ( C212 . ({ { R11 } } , B215) ) = ( ( ( C202 . (B215 , D110) ) "\/" D112 ) "\/" D113 ) & ( C212 . (B215 , { { { R11 } } }) ) = ( ( C202 . (B215 , D111) ) "\/" D113 ) & ( C212 . ({ { { R11 } } } , B215) ) = ( ( C202 . (B215 , D111) ) "\/" D113 )));
L687:
now
let C213 , C214 being (Element of ( new_set R11 ));
L688: (C213 in R11 or C213 in { { R11 } , { { R11 } } , { { { R11 } } } }) by XBOOLE_0:def 3;
L689: (C214 in R11 or C214 in { { R11 } , { { R11 } } , { { { R11 } } } }) by XBOOLE_0:def 3;
per cases  by L688 , L689 , ENUMSET1:def 1;
suppose L690: (C213 in R11 & C214 in R11);

thus L691: ( C211 . (C213 , C214) ) = ( C202 . (C213 , C214) ) by L690 , L665
.= ( C212 . (C213 , C214) ) by L676 , L690;
end;
suppose L692: (C213 in R11 & C214 = { R11 });

reconsider D114 = C213 as (Element of R11) by L692;
thus L693: ( C211 . (C213 , C214) ) = ( ( C202 . (D114 , D110) ) "\/" D112 ) by L675 , L692
.= ( C212 . (C213 , C214) ) by L686 , L692;
end;
suppose L694: (C213 in R11 & C214 = { { R11 } });

reconsider D115 = C213 as (Element of R11) by L694;
thus L695: ( C211 . (C213 , C214) ) = ( ( ( C202 . (D115 , D110) ) "\/" D112 ) "\/" D113 ) by L675 , L694
.= ( C212 . (C213 , C214) ) by L686 , L694;
end;
suppose L696: (C213 in R11 & C214 = { { { R11 } } });

reconsider D116 = C213 as (Element of R11) by L696;
thus L697: ( C211 . (C213 , C214) ) = ( ( C202 . (D116 , D111) ) "\/" D113 ) by L675 , L696
.= ( C212 . (C213 , C214) ) by L686 , L696;
end;
suppose L698: (C213 = { R11 } & C214 in R11);

reconsider D117 = C214 as (Element of R11) by L698;
thus L699: ( C211 . (C213 , C214) ) = ( ( C202 . (D117 , D110) ) "\/" D112 ) by L675 , L698
.= ( C212 . (C213 , C214) ) by L686 , L698;
end;
suppose L700: (C213 = { R11 } & C214 = { R11 });

thus L701: ( C211 . (C213 , C214) ) = ( C212 . (C213 , C214) ) by L700 , L666 , L677;
end;
suppose L702: (C213 = { R11 } & C214 = { { R11 } });

thus L703: ( C211 . (C213 , C214) ) = ( C212 . (C213 , C214) ) by L702 , L671 , L682;
end;
suppose L704: (C213 = { R11 } & C214 = { { { R11 } } });

thus L705: ( C211 . (C213 , C214) ) = ( C212 . (C213 , C214) ) by L704 , L673 , L684;
end;
suppose L706: (C213 = { { R11 } } & C214 in R11);

reconsider D118 = C214 as (Element of R11) by L706;
thus L707: ( C211 . (C213 , C214) ) = ( ( ( C202 . (D118 , D110) ) "\/" D112 ) "\/" D113 ) by L675 , L706
.= ( C212 . (C213 , C214) ) by L686 , L706;
end;
suppose L708: (C213 = { { R11 } } & C214 = { R11 });

thus L709: ( C211 . (C213 , C214) ) = ( C212 . (C213 , C214) ) by L708 , L672 , L683;
end;
suppose L710: (C213 = { { R11 } } & C214 = { { R11 } });

thus L711: ( C211 . (C213 , C214) ) = ( C212 . (C213 , C214) ) by L710 , L667 , L678;
end;
suppose L712: (C213 = { { R11 } } & C214 = { { { R11 } } });

thus L713: ( C211 . (C213 , C214) ) = ( C212 . (C213 , C214) ) by L712 , L669 , L680;
end;
suppose L714: (C213 = { { { R11 } } } & C214 in R11);

reconsider D119 = C214 as (Element of R11) by L714;
thus L715: ( C211 . (C213 , C214) ) = ( ( C202 . (D119 , D111) ) "\/" D113 ) by L675 , L714
.= ( C212 . (C213 , C214) ) by L686 , L714;
end;
suppose L716: (C213 = { { { R11 } } } & C214 = { R11 });

thus L717: ( C211 . (C213 , C214) ) = ( C212 . (C213 , C214) ) by L716 , L674 , L685;
end;
suppose L718: (C213 = { { { R11 } } } & C214 = { { R11 } });

thus L719: ( C211 . (C213 , C214) ) = ( C212 . (C213 , C214) ) by L718 , L670 , L681;
end;
suppose L720: (C213 = { { { R11 } } } & C214 = { { { R11 } } });

thus L721: ( C211 . (C213 , C214) ) = ( C212 . (C213 , C214) ) by L720 , L668 , L679;
end;
end;
thus L723: C211 = C212 by L687 , BINOP_1:2;
end;
end;
theorem
L725: (for R11 being non  empty set holds (for R12 being  lower-bounded LATTICE holds (for B216 being (BiFunction of R11 , R12) holds (B216 is  zeroed implies (for B217 being (Element of [: R11 , R11 , (the carrier of R12) , (the carrier of R12) :]) holds ( new_bi_fun (B216 , B217) ) is  zeroed)))))
proof
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let C215 being (BiFunction of R11 , R12);
assume L726: C215 is  zeroed;
let C216 being (Element of [: R11 , R11 , (the carrier of R12) , (the carrier of R12) :]);
set D120 = ( new_bi_fun (C215 , C216) );
L727: (for B218 being (Element of ( new_set R11 )) holds ( D120 . (B218 , B218) ) = ( Bottom R12 ))
proof
let C217 being (Element of ( new_set R11 ));
L728: (C217 in R11 or C217 in { { R11 } , { { R11 } } , { { { R11 } } } }) by XBOOLE_0:def 3;
per cases  by L728 , ENUMSET1:def 1;
suppose L729: C217 in R11;

reconsider D121 = C217 as (Element of R11) by L729;
thus L730: ( D120 . (C217 , C217) ) = ( C215 . (D121 , D121) ) by L595
.= ( Bottom R12 ) by L726 , L455;
end;
suppose L731: (C217 = { R11 } or C217 = { { R11 } } or C217 = { { { R11 } } });

thus L732: thesis by L731 , L595;
end;
end;
thus L734: thesis by L727 , L455;
end;
theorem
L735: (for R11 being non  empty set holds (for R12 being  lower-bounded LATTICE holds (for B219 being (BiFunction of R11 , R12) holds (B219 is  symmetric implies (for B220 being (Element of [: R11 , R11 , (the carrier of R12) , (the carrier of R12) :]) holds ( new_bi_fun (B219 , B220) ) is  symmetric)))))
proof
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let C218 being (BiFunction of R11 , R12);
assume L736: C218 is  symmetric;
let C219 being (Element of [: R11 , R11 , (the carrier of R12) , (the carrier of R12) :]);
set D122 = ( new_bi_fun (C218 , C219) );
set D123 = ( C219 `1_4 );
set D124 = ( C219 `2_4 );
set D125 = ( C219 `3_4 );
set D126 = ( C219 `4_4 );
let C220 , C221 being (Element of ( new_set R11 ));
L737: (C220 in R11 or C220 in { { R11 } , { { R11 } } , { { { R11 } } } }) by XBOOLE_0:def 3;
L738: (C221 in R11 or C221 in { { R11 } , { { R11 } } , { { { R11 } } } }) by XBOOLE_0:def 3;
per cases  by L737 , L738 , ENUMSET1:def 1;
suppose L739: (C220 in R11 & C221 in R11);

reconsider D127 = C220 , D128 = C221 as (Element of R11) by L739;
thus L740: ( D122 . (C220 , C221) ) = ( C218 . (D127 , D128) ) by L595
.= ( C218 . (D128 , D127) ) by L736 , L453
.= ( D122 . (C221 , C220) ) by L595;
end;
suppose L741: (C220 in R11 & C221 = { R11 });

reconsider D129 = C220 as (Element of R11) by L741;
thus L742: ( D122 . (C220 , C221) ) = ( ( C218 . (D129 , D123) ) "\/" D125 ) by L741 , L595
.= ( D122 . (C221 , C220) ) by L741 , L595;
end;
suppose L743: (C220 in R11 & C221 = { { R11 } });

reconsider D130 = C220 as (Element of R11) by L743;
thus L744: ( D122 . (C220 , C221) ) = ( ( ( C218 . (D130 , D123) ) "\/" D125 ) "\/" D126 ) by L743 , L595
.= ( D122 . (C221 , C220) ) by L743 , L595;
end;
suppose L745: (C220 in R11 & C221 = { { { R11 } } });

reconsider D131 = C220 as (Element of R11) by L745;
thus L746: ( D122 . (C220 , C221) ) = ( ( C218 . (D131 , D124) ) "\/" D126 ) by L745 , L595
.= ( D122 . (C221 , C220) ) by L745 , L595;
end;
suppose L747: (C220 = { R11 } & C221 in R11);

reconsider D132 = C221 as (Element of R11) by L747;
thus L748: ( D122 . (C220 , C221) ) = ( ( C218 . (D132 , D123) ) "\/" D125 ) by L747 , L595
.= ( D122 . (C221 , C220) ) by L747 , L595;
end;
suppose L749: (C220 = { R11 } & C221 = { R11 });

thus L750: thesis by L749;
end;
suppose L751: (C220 = { R11 } & C221 = { { R11 } });

thus L752: ( D122 . (C220 , C221) ) = D126 by L751 , L595
.= ( D122 . (C221 , C220) ) by L751 , L595;
end;
suppose L753: (C220 = { R11 } & C221 = { { { R11 } } });

thus L754: ( D122 . (C220 , C221) ) = ( D125 "\/" D126 ) by L753 , L595
.= ( D122 . (C221 , C220) ) by L753 , L595;
end;
suppose L755: (C220 = { { R11 } } & C221 in R11);

reconsider D133 = C221 as (Element of R11) by L755;
thus L756: ( D122 . (C220 , C221) ) = ( ( ( C218 . (D133 , D123) ) "\/" D125 ) "\/" D126 ) by L755 , L595
.= ( D122 . (C221 , C220) ) by L755 , L595;
end;
suppose L757: (C220 = { { R11 } } & C221 = { R11 });

thus L758: ( D122 . (C220 , C221) ) = D126 by L757 , L595
.= ( D122 . (C221 , C220) ) by L757 , L595;
end;
suppose L759: (C220 = { { R11 } } & C221 = { { R11 } });

thus L760: thesis by L759;
end;
suppose L761: (C220 = { { R11 } } & C221 = { { { R11 } } });

thus L762: ( D122 . (C220 , C221) ) = D125 by L761 , L595
.= ( D122 . (C221 , C220) ) by L761 , L595;
end;
suppose L763: (C220 = { { { R11 } } } & C221 in R11);

reconsider D134 = C221 as (Element of R11) by L763;
thus L764: ( D122 . (C220 , C221) ) = ( ( C218 . (D134 , D124) ) "\/" D126 ) by L763 , L595
.= ( D122 . (C221 , C220) ) by L763 , L595;
end;
suppose L765: (C220 = { { { R11 } } } & C221 = { R11 });

thus L766: ( D122 . (C220 , C221) ) = ( D125 "\/" D126 ) by L765 , L595
.= ( D122 . (C221 , C220) ) by L765 , L595;
end;
suppose L767: (C220 = { { { R11 } } } & C221 = { { R11 } });

thus L768: ( D122 . (C220 , C221) ) = D125 by L767 , L595
.= ( D122 . (C221 , C220) ) by L767 , L595;
end;
suppose L769: (C220 = { { { R11 } } } & C221 = { { { R11 } } });

thus L770: thesis by L769;
end;
end;
theorem
L772: (for R11 being non  empty set holds (for R12 being  lower-bounded LATTICE holds (for B221 being (BiFunction of R11 , R12) holds ((B221 is  symmetric & B221 is  u.t.i.) implies (for B222 being (Element of [: R11 , R11 , (the carrier of R12) , (the carrier of R12) :]) holds (( B221 . (( B222 `1_4 ) , ( B222 `2_4 )) ) <= ( ( B222 `3_4 ) "\/" ( B222 `4_4 ) ) implies ( new_bi_fun (B221 , B222) ) is  u.t.i.))))))
proof
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let C222 being (BiFunction of R11 , R12);
assume that
L773: C222 is  symmetric
and
L774: C222 is  u.t.i.;
reconsider D135 = { { R11 } , { { R11 } } , { { { R11 } } } } as non  empty set;
let C223 being (Element of [: R11 , R11 , (the carrier of R12) , (the carrier of R12) :]);
set D136 = ( C223 `1_4 );
set D137 = ( C223 `2_4 );
set D138 = ( new_bi_fun (C222 , C223) );
reconsider D139 = ( C223 `3_4 ) , D140 = ( C223 `4_4 ) as (Element of R12);
L775: (for B223 , B224 , B225 being (Element of ( new_set R11 )) holds ((B223 in R11 & B224 in D135 & B225 in R11) implies ( D138 . (B223 , B225) ) <= ( ( D138 . (B223 , B224) ) "\/" ( D138 . (B224 , B225) ) )))
proof
let C224 , C225 , C226 being (Element of ( new_set R11 ));
assume L776: (C224 in R11 & C225 in D135 & C226 in R11);
per cases  by L776 , ENUMSET1:def 1;
suppose L777: (C224 in R11 & C226 in R11 & C225 = { R11 });

reconsider D141 = C224 , D142 = C226 as (Element of R11) by L777;
L778: ( C222 . (D141 , D142) ) <= ( ( C222 . (D141 , D136) ) "\/" ( C222 . (D136 , D142) ) ) by L774 , L456;
L779: (( ( C222 . (D141 , D136) ) "\/" ( C222 . (D142 , D136) ) ) <= ( ( ( C222 . (D141 , D136) ) "\/" ( C222 . (D142 , D136) ) ) "\/" D139 ) & ( C222 . (D141 , D142) ) <= ( ( C222 . (D141 , D136) ) "\/" ( C222 . (D142 , D136) ) )) by L778 , L773 , L453 , YELLOW_0:22;
L780: ( ( ( C222 . (D141 , D136) ) "\/" ( C222 . (D142 , D136) ) ) "\/" D139 ) = ( ( C222 . (D141 , D136) ) "\/" ( ( C222 . (D142 , D136) ) "\/" D139 ) ) by LATTICE3:14
.= ( ( C222 . (D141 , D136) ) "\/" ( ( C222 . (D142 , D136) ) "\/" ( D139 "\/" D139 ) ) ) by YELLOW_5:1
.= ( ( C222 . (D141 , D136) ) "\/" ( ( ( C222 . (D142 , D136) ) "\/" D139 ) "\/" D139 ) ) by LATTICE3:14
.= ( ( ( C222 . (D141 , D136) ) "\/" D139 ) "\/" ( ( C222 . (D142 , D136) ) "\/" D139 ) ) by LATTICE3:14;
L781: ( C222 . (D141 , D142) ) <= ( ( ( C222 . (D141 , D136) ) "\/" D139 ) "\/" ( ( C222 . (D142 , D136) ) "\/" D139 ) ) by L780 , L779 , ORDERS_2:3;
L782: (( D138 . (C224 , C225) ) = ( ( C222 . (D141 , D136) ) "\/" D139 ) & ( D138 . (C225 , C226) ) = ( ( C222 . (D142 , D136) ) "\/" D139 )) by L777 , L595;
thus L783: thesis by L782 , L781 , L595;
end;
suppose L784: (C224 in R11 & C226 in R11 & C225 = { { R11 } });

reconsider D143 = C224 , D144 = C226 as (Element of R11) by L784;
L785: ( C222 . (D143 , D144) ) <= ( ( C222 . (D143 , D136) ) "\/" ( C222 . (D136 , D144) ) ) by L774 , L456;
L786: (( ( C222 . (D143 , D136) ) "\/" ( C222 . (D144 , D136) ) ) <= ( ( ( C222 . (D143 , D136) ) "\/" ( C222 . (D144 , D136) ) ) "\/" ( D139 "\/" D140 ) ) & ( C222 . (D143 , D144) ) <= ( ( C222 . (D143 , D136) ) "\/" ( C222 . (D144 , D136) ) )) by L785 , L773 , L453 , YELLOW_0:22;
L787: ( ( ( C222 . (D143 , D136) ) "\/" ( C222 . (D144 , D136) ) ) "\/" ( D139 "\/" D140 ) ) = ( ( C222 . (D143 , D136) ) "\/" ( ( C222 . (D144 , D136) ) "\/" ( D139 "\/" D140 ) ) ) by LATTICE3:14
.= ( ( C222 . (D143 , D136) ) "\/" ( ( C222 . (D144 , D136) ) "\/" ( ( D139 "\/" D140 ) "\/" ( D139 "\/" D140 ) ) ) ) by YELLOW_5:1
.= ( ( C222 . (D143 , D136) ) "\/" ( ( ( C222 . (D144 , D136) ) "\/" ( D139 "\/" D140 ) ) "\/" ( D139 "\/" D140 ) ) ) by LATTICE3:14
.= ( ( ( C222 . (D143 , D136) ) "\/" ( D139 "\/" D140 ) ) "\/" ( ( C222 . (D144 , D136) ) "\/" ( D139 "\/" D140 ) ) ) by LATTICE3:14
.= ( ( ( ( C222 . (D143 , D136) ) "\/" D139 ) "\/" D140 ) "\/" ( ( C222 . (D144 , D136) ) "\/" ( D139 "\/" D140 ) ) ) by LATTICE3:14
.= ( ( ( ( C222 . (D143 , D136) ) "\/" D139 ) "\/" D140 ) "\/" ( ( ( C222 . (D144 , D136) ) "\/" D139 ) "\/" D140 ) ) by LATTICE3:14;
L788: ( C222 . (D143 , D144) ) <= ( ( ( ( C222 . (D143 , D136) ) "\/" D139 ) "\/" D140 ) "\/" ( ( ( C222 . (D144 , D136) ) "\/" D139 ) "\/" D140 ) ) by L787 , L786 , ORDERS_2:3;
L789: (( D138 . (C224 , C225) ) = ( ( ( C222 . (D143 , D136) ) "\/" D139 ) "\/" D140 ) & ( D138 . (C225 , C226) ) = ( ( ( C222 . (D144 , D136) ) "\/" D139 ) "\/" D140 )) by L784 , L595;
thus L790: thesis by L789 , L788 , L595;
end;
suppose L791: (C224 in R11 & C226 in R11 & C225 = { { { R11 } } });

reconsider D145 = C224 , D146 = C226 as (Element of R11) by L791;
L792: ( C222 . (D145 , D146) ) <= ( ( C222 . (D145 , D137) ) "\/" ( C222 . (D137 , D146) ) ) by L774 , L456;
L793: (( ( C222 . (D145 , D137) ) "\/" ( C222 . (D146 , D137) ) ) <= ( ( ( C222 . (D145 , D137) ) "\/" ( C222 . (D146 , D137) ) ) "\/" D140 ) & ( C222 . (D145 , D146) ) <= ( ( C222 . (D145 , D137) ) "\/" ( C222 . (D146 , D137) ) )) by L792 , L773 , L453 , YELLOW_0:22;
L794: ( ( ( C222 . (D145 , D137) ) "\/" ( C222 . (D146 , D137) ) ) "\/" D140 ) = ( ( C222 . (D145 , D137) ) "\/" ( ( C222 . (D146 , D137) ) "\/" D140 ) ) by LATTICE3:14
.= ( ( C222 . (D145 , D137) ) "\/" ( ( C222 . (D146 , D137) ) "\/" ( D140 "\/" D140 ) ) ) by YELLOW_5:1
.= ( ( C222 . (D145 , D137) ) "\/" ( ( ( C222 . (D146 , D137) ) "\/" D140 ) "\/" D140 ) ) by LATTICE3:14
.= ( ( ( C222 . (D145 , D137) ) "\/" D140 ) "\/" ( ( C222 . (D146 , D137) ) "\/" D140 ) ) by LATTICE3:14;
L795: ( C222 . (D145 , D146) ) <= ( ( ( C222 . (D145 , D137) ) "\/" D140 ) "\/" ( ( C222 . (D146 , D137) ) "\/" D140 ) ) by L794 , L793 , ORDERS_2:3;
L796: (( D138 . (C224 , C225) ) = ( ( C222 . (D145 , D137) ) "\/" D140 ) & ( D138 . (C225 , C226) ) = ( ( C222 . (D146 , D137) ) "\/" D140 )) by L791 , L595;
thus L797: thesis by L796 , L795 , L595;
end;
end;
assume L799: ( C222 . (( C223 `1_4 ) , ( C223 `2_4 )) ) <= ( ( C223 `3_4 ) "\/" ( C223 `4_4 ) );
L800: (for B226 , B227 , B228 being (Element of ( new_set R11 )) holds ((B226 in D135 & B227 in D135 & B228 in R11) implies ( D138 . (B226 , B228) ) <= ( ( D138 . (B226 , B227) ) "\/" ( D138 . (B227 , B228) ) )))
proof
let C227 , C228 , C229 being (Element of ( new_set R11 ));
assume that
L801: (C227 in D135 & C228 in D135)
and
L802: C229 in R11;
reconsider D147 = C229 as (Element of R11) by L802;
per cases  by L801 , L802 , ENUMSET1:def 1;
suppose L803: (C229 in R11 & C228 = { R11 } & C227 = { R11 });

L804: ( ( D138 . (C227 , C228) ) "\/" ( D138 . (C228 , C229) ) ) = ( ( Bottom R12 ) "\/" ( D138 . (C228 , C229) ) ) by L803 , L595
.= ( D138 . (C227 , C229) ) by L803 , WAYBEL_1:3;
thus L805: thesis by L804;
end;
suppose L806: (C229 in R11 & C228 = { R11 } & C227 = { { R11 } });

L807: ( ( D138 . (C227 , C228) ) "\/" ( D138 . (C228 , C229) ) ) = ( D140 "\/" ( D138 . (C228 , C229) ) ) by L806 , L595
.= ( ( ( C222 . (D147 , D136) ) "\/" D139 ) "\/" D140 ) by L806 , L595;
thus L808: thesis by L807 , L806 , L595;
end;
suppose L809: (C229 in R11 & C228 = { R11 } & C227 = { { { R11 } } });

L810: ( D140 "\/" ( D139 "\/" D140 ) ) = ( ( D140 "\/" D140 ) "\/" D139 ) by LATTICE3:14
.= ( D140 "\/" D139 ) by YELLOW_5:1
.= ( D140 "\/" ( D139 "\/" D139 ) ) by YELLOW_5:1
.= ( D139 "\/" ( D139 "\/" D140 ) ) by LATTICE3:14;
L811: ( ( ( C222 . (D147 , D136) ) "\/" D140 ) "\/" ( D139 "\/" D140 ) ) = ( ( C222 . (D147 , D136) ) "\/" ( D139 "\/" ( D139 "\/" D140 ) ) ) by L810 , LATTICE3:14
.= ( ( D139 "\/" D140 ) "\/" ( ( C222 . (D147 , D136) ) "\/" D139 ) ) by LATTICE3:14
.= ( ( D138 . (C227 , C228) ) "\/" ( ( C222 . (D147 , D136) ) "\/" D139 ) ) by L809 , L595;
L812: ( C222 . (D147 , D137) ) <= ( ( C222 . (D147 , D136) ) "\/" ( C222 . (D136 , D137) ) ) by L774 , L456;
L813: ( ( C222 . (D147 , D137) ) "\/" D140 ) <= ( ( ( C222 . (D147 , D136) ) "\/" ( C222 . (D136 , D137) ) ) "\/" D140 ) by L812 , WAYBEL_1:2;
L814: ( ( C222 . (D147 , D136) ) "\/" D140 ) <= ( ( C222 . (D147 , D136) ) "\/" D140 );
L815: (( ( ( C222 . (D147 , D136) ) "\/" ( C222 . (D136 , D137) ) ) "\/" D140 ) = ( ( ( C222 . (D147 , D136) ) "\/" D140 ) "\/" ( C222 . (D136 , D137) ) ) & ( ( ( C222 . (D147 , D136) ) "\/" D140 ) "\/" ( C222 . (D136 , D137) ) ) <= ( ( ( C222 . (D147 , D136) ) "\/" D140 ) "\/" ( D139 "\/" D140 ) )) by L814 , L799 , LATTICE3:14 , YELLOW_3:3;
L816: ( D138 . (C227 , C229) ) = ( ( C222 . (D147 , D137) ) "\/" D140 ) by L809 , L595;
L817: ( D138 . (C227 , C229) ) <= ( ( ( C222 . (D147 , D136) ) "\/" D140 ) "\/" ( D139 "\/" D140 ) ) by L816 , L813 , L815 , ORDERS_2:3;
thus L818: thesis by L817 , L809 , L811 , L595;
end;
suppose L819: (C229 in R11 & C228 = { { R11 } } & C227 = { R11 });

L820: ( ( D138 . (C227 , C228) ) "\/" ( D138 . (C228 , C229) ) ) = ( D140 "\/" ( D138 . (C228 , C229) ) ) by L819 , L595
.= ( D140 "\/" ( ( ( C222 . (D147 , D136) ) "\/" D139 ) "\/" D140 ) ) by L819 , L595
.= ( D140 "\/" ( D140 "\/" ( D138 . (C227 , C229) ) ) ) by L819 , L595
.= ( ( D140 "\/" D140 ) "\/" ( D138 . (C227 , C229) ) ) by LATTICE3:14
.= ( D140 "\/" ( D138 . (C227 , C229) ) ) by YELLOW_5:1;
thus L821: thesis by L820 , YELLOW_0:22;
end;
suppose L822: (C229 in R11 & C228 = { { R11 } } & C227 = { { R11 } });

L823: ( ( D138 . (C227 , C228) ) "\/" ( D138 . (C228 , C229) ) ) = ( ( Bottom R12 ) "\/" ( D138 . (C228 , C229) ) ) by L822 , L595
.= ( D138 . (C227 , C229) ) by L822 , WAYBEL_1:3;
thus L824: thesis by L823;
end;
suppose L825: (C229 in R11 & C228 = { { R11 } } & C227 = { { { R11 } } });

L826: ( D140 "\/" ( D139 "\/" D140 ) ) = ( ( D140 "\/" D140 ) "\/" D139 ) by LATTICE3:14
.= ( D140 "\/" D139 ) by YELLOW_5:1
.= ( D140 "\/" ( D139 "\/" D139 ) ) by YELLOW_5:1
.= ( ( D139 "\/" D140 ) "\/" D139 ) by LATTICE3:14;
L827: ( ( ( C222 . (D147 , D136) ) "\/" D140 ) "\/" ( D139 "\/" D140 ) ) = ( ( C222 . (D147 , D136) ) "\/" ( ( D139 "\/" D140 ) "\/" D139 ) ) by L826 , LATTICE3:14
.= ( ( ( C222 . (D147 , D136) ) "\/" ( D139 "\/" D140 ) ) "\/" D139 ) by LATTICE3:14
.= ( ( ( ( C222 . (D147 , D136) ) "\/" D139 ) "\/" D140 ) "\/" D139 ) by LATTICE3:14
.= ( ( D138 . (C227 , C228) ) "\/" ( ( ( C222 . (D147 , D136) ) "\/" D139 ) "\/" D140 ) ) by L825 , L595;
L828: ( ( C222 . (D147 , D136) ) "\/" D140 ) <= ( ( C222 . (D147 , D136) ) "\/" D140 );
L829: (( ( ( C222 . (D147 , D136) ) "\/" ( C222 . (D136 , D137) ) ) "\/" D140 ) = ( ( ( C222 . (D147 , D136) ) "\/" D140 ) "\/" ( C222 . (D136 , D137) ) ) & ( ( ( C222 . (D147 , D136) ) "\/" D140 ) "\/" ( C222 . (D136 , D137) ) ) <= ( ( ( C222 . (D147 , D136) ) "\/" D140 ) "\/" ( D139 "\/" D140 ) )) by L828 , L799 , LATTICE3:14 , YELLOW_3:3;
L830: ( C222 . (D147 , D137) ) <= ( ( C222 . (D147 , D136) ) "\/" ( C222 . (D136 , D137) ) ) by L774 , L456;
L831: ( ( C222 . (D147 , D137) ) "\/" D140 ) <= ( ( ( C222 . (D147 , D136) ) "\/" ( C222 . (D136 , D137) ) ) "\/" D140 ) by L830 , WAYBEL_1:2;
L832: ( D138 . (C227 , C229) ) = ( ( C222 . (D147 , D137) ) "\/" D140 ) by L825 , L595;
L833: ( D138 . (C227 , C229) ) <= ( ( ( C222 . (D147 , D136) ) "\/" D140 ) "\/" ( D139 "\/" D140 ) ) by L832 , L831 , L829 , ORDERS_2:3;
thus L834: thesis by L833 , L825 , L827 , L595;
end;
suppose L835: (C229 in R11 & C228 = { { { R11 } } } & C227 = { R11 });

L836: ( D139 "\/" ( D139 "\/" D140 ) ) = ( ( D139 "\/" D139 ) "\/" D140 ) by LATTICE3:14
.= ( D139 "\/" D140 ) by YELLOW_5:1
.= ( D139 "\/" ( D140 "\/" D140 ) ) by YELLOW_5:1
.= ( D140 "\/" ( D139 "\/" D140 ) ) by LATTICE3:14;
L837: ( ( D139 "\/" ( C222 . (D147 , D137) ) ) "\/" ( D139 "\/" D140 ) ) = ( ( C222 . (D147 , D137) ) "\/" ( D139 "\/" ( D139 "\/" D140 ) ) ) by LATTICE3:14
.= ( ( ( C222 . (D147 , D137) ) "\/" D140 ) "\/" ( D139 "\/" D140 ) ) by L836 , LATTICE3:14
.= ( ( D138 . (C227 , C228) ) "\/" ( ( C222 . (D147 , D137) ) "\/" D140 ) ) by L835 , L595;
L838: ( D139 "\/" ( C222 . (D147 , D137) ) ) <= ( D139 "\/" ( C222 . (D147 , D137) ) );
L839: ( ( D139 "\/" ( C222 . (D147 , D137) ) ) "\/" ( C222 . (D136 , D137) ) ) <= ( ( D139 "\/" ( C222 . (D147 , D137) ) ) "\/" ( D139 "\/" D140 ) ) by L838 , L799 , YELLOW_3:3;
L840: ( C222 . (D147 , D136) ) <= ( ( C222 . (D147 , D137) ) "\/" ( C222 . (D137 , D136) ) ) by L774 , L456;
L841: ( ( C222 . (D147 , D136) ) "\/" D139 ) <= ( ( ( C222 . (D147 , D137) ) "\/" ( C222 . (D137 , D136) ) ) "\/" D139 ) by L840 , WAYBEL_1:2;
L842: ( ( ( C222 . (D147 , D137) ) "\/" ( C222 . (D137 , D136) ) ) "\/" D139 ) = ( ( C222 . (D137 , D136) ) "\/" ( ( C222 . (D147 , D137) ) "\/" D139 ) ) by LATTICE3:14
.= ( ( D139 "\/" ( C222 . (D147 , D137) ) ) "\/" ( C222 . (D136 , D137) ) ) by L773 , L453;
L843: ( D138 . (C227 , C229) ) = ( ( C222 . (D147 , D136) ) "\/" D139 ) by L835 , L595;
L844: ( D138 . (C227 , C229) ) <= ( ( D139 "\/" ( C222 . (D147 , D137) ) ) "\/" ( D139 "\/" D140 ) ) by L843 , L841 , L842 , L839 , ORDERS_2:3;
thus L845: thesis by L844 , L835 , L837 , L595;
end;
suppose L846: (C229 in R11 & C228 = { { { R11 } } } & C227 = { { R11 } });

L847: ( D138 . (C227 , C229) ) = ( ( ( C222 . (D147 , D136) ) "\/" D139 ) "\/" D140 ) by L846 , L595
.= ( ( C222 . (D147 , D136) ) "\/" ( D139 "\/" D140 ) ) by LATTICE3:14;
L848: ( ( D139 "\/" D140 ) "\/" ( C222 . (D147 , D137) ) ) <= ( ( D139 "\/" D140 ) "\/" ( C222 . (D147 , D137) ) );
L849: ( ( ( D139 "\/" D140 ) "\/" ( C222 . (D147 , D137) ) ) "\/" ( C222 . (D136 , D137) ) ) <= ( ( ( D139 "\/" D140 ) "\/" ( C222 . (D147 , D137) ) ) "\/" ( D139 "\/" D140 ) ) by L848 , L799 , YELLOW_3:3;
L850: ( C222 . (D147 , D136) ) <= ( ( C222 . (D147 , D137) ) "\/" ( C222 . (D137 , D136) ) ) by L774 , L456;
L851: ( ( C222 . (D147 , D136) ) "\/" ( D139 "\/" D140 ) ) <= ( ( ( C222 . (D147 , D137) ) "\/" ( C222 . (D137 , D136) ) ) "\/" ( D139 "\/" D140 ) ) by L850 , WAYBEL_1:2;
L852: ( ( ( C222 . (D147 , D137) ) "\/" ( C222 . (D137 , D136) ) ) "\/" ( D139 "\/" D140 ) ) = ( ( ( D139 "\/" D140 ) "\/" ( C222 . (D147 , D137) ) ) "\/" ( C222 . (D137 , D136) ) ) by LATTICE3:14
.= ( ( ( D139 "\/" D140 ) "\/" ( C222 . (D147 , D137) ) ) "\/" ( C222 . (D136 , D137) ) ) by L773 , L453;
L853: ( ( D138 . (C227 , C228) ) "\/" ( D138 . (C228 , C229) ) ) = ( D139 "\/" ( D138 . (C228 , C229) ) ) by L846 , L595
.= ( D139 "\/" ( D140 "\/" ( C222 . (D147 , D137) ) ) ) by L846 , L595
.= ( ( D139 "\/" D140 ) "\/" ( C222 . (D147 , D137) ) ) by LATTICE3:14
.= ( ( ( D139 "\/" D140 ) "\/" ( D139 "\/" D140 ) ) "\/" ( C222 . (D147 , D137) ) ) by YELLOW_5:1
.= ( ( D139 "\/" D140 ) "\/" ( ( C222 . (D147 , D137) ) "\/" ( D139 "\/" D140 ) ) ) by LATTICE3:14;
thus L854: thesis by L853 , L847 , L851 , L852 , L849 , ORDERS_2:3;
end;
suppose L855: (C229 in R11 & C228 = { { { R11 } } } & C227 = { { { R11 } } });

L856: ( ( D138 . (C227 , C228) ) "\/" ( D138 . (C228 , C229) ) ) = ( ( Bottom R12 ) "\/" ( D138 . (C228 , C229) ) ) by L855 , L595
.= ( D138 . (C227 , C229) ) by L855 , WAYBEL_1:3;
thus L857: thesis by L856;
end;
end;
L859: (for B229 , B230 , B231 being (Element of ( new_set R11 )) holds ((B229 in D135 & B230 in R11 & B231 in R11) implies ( D138 . (B229 , B231) ) <= ( ( D138 . (B229 , B230) ) "\/" ( D138 . (B230 , B231) ) )))
proof
let C230 , C231 , C232 being (Element of ( new_set R11 ));
assume that
L860: C230 in D135
and
L861: (C231 in R11 & C232 in R11);
reconsider D148 = C231 , D149 = C232 as (Element of R11) by L861;
per cases  by L860 , L861 , ENUMSET1:def 1;
suppose L862: (C230 = { R11 } & C231 in R11 & C232 in R11);

L863: ( C222 . (D149 , D136) ) <= ( ( C222 . (D149 , D148) ) "\/" ( C222 . (D148 , D136) ) ) by L774 , L456;
L864: ( C222 . (D149 , D136) ) <= ( ( C222 . (D148 , D149) ) "\/" ( C222 . (D148 , D136) ) ) by L863 , L773 , L453;
L865: ( ( C222 . (D149 , D136) ) "\/" D139 ) <= ( ( ( C222 . (D148 , D136) ) "\/" ( C222 . (D148 , D149) ) ) "\/" D139 ) by L864 , WAYBEL_1:2;
L866: ( ( C222 . (D149 , D136) ) "\/" D139 ) <= ( ( ( C222 . (D148 , D136) ) "\/" D139 ) "\/" ( C222 . (D148 , D149) ) ) by L865 , LATTICE3:14;
L867: ( D138 . (C231 , C232) ) = ( C222 . (D148 , D149) ) by L595;
L868: ( D138 . (C230 , C231) ) = ( ( C222 . (D148 , D136) ) "\/" D139 ) by L862 , L595;
thus L869: thesis by L868 , L862 , L867 , L866 , L595;
end;
suppose L870: (C230 = { { R11 } } & C231 in R11 & C232 in R11);

L871: ( C222 . (D149 , D136) ) <= ( ( C222 . (D149 , D148) ) "\/" ( C222 . (D148 , D136) ) ) by L774 , L456;
L872: ( C222 . (D149 , D136) ) <= ( ( C222 . (D148 , D149) ) "\/" ( C222 . (D148 , D136) ) ) by L871 , L773 , L453;
L873: ( ( C222 . (D149 , D136) ) "\/" ( D139 "\/" D140 ) ) <= ( ( ( C222 . (D148 , D136) ) "\/" ( C222 . (D148 , D149) ) ) "\/" ( D139 "\/" D140 ) ) by L872 , WAYBEL_1:2;
L874: ( ( ( C222 . (D149 , D136) ) "\/" D139 ) "\/" D140 ) <= ( ( ( C222 . (D148 , D136) ) "\/" ( C222 . (D148 , D149) ) ) "\/" ( D139 "\/" D140 ) ) by L873 , LATTICE3:14;
L875: ( ( ( C222 . (D149 , D136) ) "\/" D139 ) "\/" D140 ) <= ( ( ( C222 . (D148 , D136) ) "\/" ( D139 "\/" D140 ) ) "\/" ( C222 . (D148 , D149) ) ) by L874 , LATTICE3:14;
L876: ( ( ( C222 . (D149 , D136) ) "\/" D139 ) "\/" D140 ) <= ( ( ( ( C222 . (D148 , D136) ) "\/" D139 ) "\/" D140 ) "\/" ( C222 . (D148 , D149) ) ) by L875 , LATTICE3:14;
L877: ( D138 . (C231 , C232) ) = ( C222 . (D148 , D149) ) by L595;
L878: ( D138 . (C230 , C231) ) = ( ( ( C222 . (D148 , D136) ) "\/" D139 ) "\/" D140 ) by L870 , L595;
thus L879: thesis by L878 , L870 , L877 , L876 , L595;
end;
suppose L880: (C230 = { { { R11 } } } & C231 in R11 & C232 in R11);

L881: ( C222 . (D149 , D137) ) <= ( ( C222 . (D149 , D148) ) "\/" ( C222 . (D148 , D137) ) ) by L774 , L456;
L882: ( C222 . (D149 , D137) ) <= ( ( C222 . (D148 , D149) ) "\/" ( C222 . (D148 , D137) ) ) by L881 , L773 , L453;
L883: ( ( C222 . (D149 , D137) ) "\/" D140 ) <= ( ( ( C222 . (D148 , D137) ) "\/" ( C222 . (D148 , D149) ) ) "\/" D140 ) by L882 , WAYBEL_1:2;
L884: ( ( C222 . (D149 , D137) ) "\/" D140 ) <= ( ( ( C222 . (D148 , D137) ) "\/" D140 ) "\/" ( C222 . (D148 , D149) ) ) by L883 , LATTICE3:14;
L885: ( D138 . (C231 , C232) ) = ( C222 . (D148 , D149) ) by L595;
L886: ( D138 . (C230 , C231) ) = ( ( C222 . (D148 , D137) ) "\/" D140 ) by L880 , L595;
thus L887: thesis by L886 , L880 , L885 , L884 , L595;
end;
end;
L889: (for B232 , B233 , B234 being (Element of ( new_set R11 )) holds ((B232 in R11 & B233 in R11 & B234 in D135) implies ( D138 . (B232 , B234) ) <= ( ( D138 . (B232 , B233) ) "\/" ( D138 . (B233 , B234) ) )))
proof
let C233 , C234 , C235 being (Element of ( new_set R11 ));
assume L890: (C233 in R11 & C234 in R11 & C235 in D135);
per cases  by L890 , ENUMSET1:def 1;
suppose L891: (C233 in R11 & C234 in R11 & C235 = { R11 });

reconsider D150 = C233 , D151 = C234 as (Element of R11) by L891;
L892: ( D138 . (C233 , C234) ) = ( C222 . (D150 , D151) ) by L595;
L893: ( C222 . (D150 , D136) ) <= ( ( C222 . (D150 , D151) ) "\/" ( C222 . (D151 , D136) ) ) by L774 , L456;
L894: ( ( C222 . (D150 , D136) ) "\/" D139 ) <= ( ( ( C222 . (D150 , D151) ) "\/" ( C222 . (D151 , D136) ) ) "\/" D139 ) by L893 , WAYBEL_1:2;
L895: (( D138 . (C233 , C235) ) = ( ( C222 . (D150 , D136) ) "\/" D139 ) & ( D138 . (C234 , C235) ) = ( ( C222 . (D151 , D136) ) "\/" D139 )) by L891 , L595;
thus L896: thesis by L895 , L892 , L894 , LATTICE3:14;
end;
suppose L897: (C233 in R11 & C234 in R11 & C235 = { { R11 } });

reconsider D152 = C233 , D153 = C234 as (Element of R11) by L897;
L898: ( D138 . (C233 , C234) ) = ( C222 . (D152 , D153) ) by L595;
L899: ( C222 . (D152 , D136) ) <= ( ( C222 . (D152 , D153) ) "\/" ( C222 . (D153 , D136) ) ) by L774 , L456;
L900: ( ( C222 . (D152 , D136) ) "\/" D139 ) <= ( ( ( C222 . (D152 , D153) ) "\/" ( C222 . (D153 , D136) ) ) "\/" D139 ) by L899 , WAYBEL_1:2;
L901: ( ( ( C222 . (D152 , D136) ) "\/" D139 ) "\/" D140 ) <= ( ( ( ( C222 . (D152 , D153) ) "\/" ( C222 . (D153 , D136) ) ) "\/" D139 ) "\/" D140 ) by L900 , WAYBEL_1:2;
L902: ( ( ( C222 . (D152 , D136) ) "\/" D139 ) "\/" D140 ) <= ( ( ( C222 . (D152 , D153) ) "\/" ( ( C222 . (D153 , D136) ) "\/" D139 ) ) "\/" D140 ) by L901 , LATTICE3:14;
L903: (( D138 . (C233 , C235) ) = ( ( ( C222 . (D152 , D136) ) "\/" D139 ) "\/" D140 ) & ( D138 . (C234 , C235) ) = ( ( ( C222 . (D153 , D136) ) "\/" D139 ) "\/" D140 )) by L897 , L595;
thus L904: thesis by L903 , L898 , L902 , LATTICE3:14;
end;
suppose L905: (C233 in R11 & C234 in R11 & C235 = { { { R11 } } });

reconsider D154 = C233 , D155 = C234 as (Element of R11) by L905;
L906: ( D138 . (C233 , C234) ) = ( C222 . (D154 , D155) ) by L595;
L907: ( C222 . (D154 , D137) ) <= ( ( C222 . (D154 , D155) ) "\/" ( C222 . (D155 , D137) ) ) by L774 , L456;
L908: ( ( C222 . (D154 , D137) ) "\/" D140 ) <= ( ( ( C222 . (D154 , D155) ) "\/" ( C222 . (D155 , D137) ) ) "\/" D140 ) by L907 , WAYBEL_1:2;
L909: (( D138 . (C233 , C235) ) = ( ( C222 . (D154 , D137) ) "\/" D140 ) & ( D138 . (C234 , C235) ) = ( ( C222 . (D155 , D137) ) "\/" D140 )) by L905 , L595;
thus L910: thesis by L909 , L906 , L908 , LATTICE3:14;
end;
end;
L912: (for B235 , B236 , B237 being (Element of ( new_set R11 )) holds ((B235 in D135 & B236 in D135 & B237 in D135) implies ( D138 . (B235 , B237) ) <= ( ( D138 . (B235 , B236) ) "\/" ( D138 . (B236 , B237) ) )))
proof
let C236 , C237 , C238 being (Element of ( new_set R11 ));
assume L913: (C236 in D135 & C237 in D135 & C238 in D135);
per cases  by L913 , ENUMSET1:def 1;
suppose L914: (C236 = { R11 } & C237 = { R11 } & C238 = { R11 });

L915: ( Bottom R12 ) <= ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) by YELLOW_0:44;
thus L916: thesis by L915 , L914 , L595;
end;
suppose L917: (C236 = { R11 } & C237 = { R11 } & C238 = { { R11 } });

L918: ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) = ( ( Bottom R12 ) "\/" ( D138 . (C236 , C238) ) ) by L917 , L595
.= ( ( Bottom R12 ) "\/" D140 ) by L917 , L595
.= D140 by WAYBEL_1:3;
thus L919: thesis by L918 , L917 , L595;
end;
suppose L920: (C236 = { R11 } & C237 = { R11 } & C238 = { { { R11 } } });

L921: ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) = ( ( Bottom R12 ) "\/" ( D138 . (C236 , C238) ) ) by L920 , L595
.= ( ( Bottom R12 ) "\/" ( D139 "\/" D140 ) ) by L920 , L595
.= ( D139 "\/" D140 ) by WAYBEL_1:3;
thus L922: thesis by L921 , L920 , L595;
end;
suppose L923: (C236 = { R11 } & C237 = { { R11 } } & C238 = { R11 });

L924: ( Bottom R12 ) <= ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) by YELLOW_0:44;
thus L925: thesis by L924 , L923 , L595;
end;
suppose L926: (C236 = { R11 } & C237 = { { R11 } } & C238 = { { R11 } });

L927: ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) = ( D140 "\/" ( D138 . (C237 , C238) ) ) by L926 , L595
.= ( ( Bottom R12 ) "\/" D140 ) by L926 , L595
.= D140 by WAYBEL_1:3;
thus L928: thesis by L927 , L926 , L595;
end;
suppose L929: (C236 = { R11 } & C237 = { { R11 } } & C238 = { { { R11 } } });

L930: ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) = ( D140 "\/" ( D138 . (C237 , C238) ) ) by L929 , L595
.= ( D139 "\/" D140 ) by L929 , L595;
thus L931: thesis by L930 , L929 , L595;
end;
suppose L932: (C236 = { R11 } & C237 = { { { R11 } } } & C238 = { R11 });

L933: ( Bottom R12 ) <= ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) by YELLOW_0:44;
thus L934: thesis by L933 , L932 , L595;
end;
suppose L935: (C236 = { R11 } & C237 = { { { R11 } } } & C238 = { { R11 } });

L936: ( D138 . (C236 , C238) ) = D140 by L935 , L595;
L937: ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) = ( ( D139 "\/" D140 ) "\/" ( D138 . (C237 , C238) ) ) by L935 , L595
.= ( ( D140 "\/" D139 ) "\/" D139 ) by L935 , L595
.= ( D140 "\/" ( D139 "\/" D139 ) ) by LATTICE3:14
.= ( D140 "\/" D139 ) by YELLOW_5:1;
thus L938: thesis by L937 , L936 , YELLOW_0:22;
end;
suppose L939: (C236 = { R11 } & C237 = { { { R11 } } } & C238 = { { { R11 } } });

L940: ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) = ( ( D139 "\/" D140 ) "\/" ( D138 . (C237 , C238) ) ) by L939 , L595
.= ( ( Bottom R12 ) "\/" ( D139 "\/" D140 ) ) by L939 , L595
.= ( D139 "\/" D140 ) by WAYBEL_1:3
.= ( D138 . (C236 , C237) ) by L939 , L595;
thus L941: thesis by L940 , L939;
end;
suppose L942: (C236 = { { R11 } } & C237 = { R11 } & C238 = { R11 });

L943: ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) = ( D140 "\/" ( D138 . (C237 , C238) ) ) by L942 , L595
.= ( ( Bottom R12 ) "\/" D140 ) by L942 , L595
.= D140 by WAYBEL_1:3
.= ( D138 . (C236 , C237) ) by L942 , L595;
thus L944: thesis by L943 , L942;
end;
suppose L945: (C236 = { { R11 } } & C237 = { R11 } & C238 = { { R11 } });

L946: ( Bottom R12 ) <= ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) by YELLOW_0:44;
thus L947: thesis by L946 , L945 , L595;
end;
suppose L948: (C236 = { { R11 } } & C237 = { R11 } & C238 = { { { R11 } } });

L949: ( D138 . (C236 , C238) ) = D139 by L948 , L595;
L950: ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) = ( D140 "\/" ( D138 . (C237 , C238) ) ) by L948 , L595
.= ( D140 "\/" ( D140 "\/" D139 ) ) by L948 , L595
.= ( ( D140 "\/" D140 ) "\/" D139 ) by LATTICE3:14
.= ( D140 "\/" D139 ) by YELLOW_5:1;
thus L951: thesis by L950 , L949 , YELLOW_0:22;
end;
suppose L952: (C236 = { { R11 } } & C237 = { { R11 } } & C238 = { R11 });

L953: ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) = ( ( Bottom R12 ) "\/" ( D138 . (C236 , C238) ) ) by L952 , L595
.= ( ( Bottom R12 ) "\/" D140 ) by L952 , L595
.= D140 by WAYBEL_1:3;
thus L954: thesis by L953 , L952 , L595;
end;
suppose L955: (C236 = { { R11 } } & C237 = { { R11 } } & C238 = { { R11 } });

L956: ( Bottom R12 ) <= ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) by YELLOW_0:44;
thus L957: thesis by L956 , L955 , L595;
end;
suppose L958: (C236 = { { R11 } } & C237 = { { R11 } } & C238 = { { { R11 } } });

L959: ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) = ( ( Bottom R12 ) "\/" ( D138 . (C236 , C238) ) ) by L958 , L595
.= ( ( Bottom R12 ) "\/" D139 ) by L958 , L595
.= D139 by WAYBEL_1:3;
thus L960: thesis by L959 , L958 , L595;
end;
suppose L961: (C236 = { { R11 } } & C237 = { { { R11 } } } & C238 = { R11 });

L962: ( D138 . (C236 , C238) ) = D140 by L961 , L595;
L963: ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) = ( D139 "\/" ( D138 . (C237 , C238) ) ) by L961 , L595
.= ( D139 "\/" ( D139 "\/" D140 ) ) by L961 , L595
.= ( ( D139 "\/" D139 ) "\/" D140 ) by LATTICE3:14
.= ( D139 "\/" D140 ) by YELLOW_5:1;
thus L964: thesis by L963 , L962 , YELLOW_0:22;
end;
suppose L965: (C236 = { { R11 } } & C237 = { { { R11 } } } & C238 = { { R11 } });

L966: ( Bottom R12 ) <= ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) by YELLOW_0:44;
thus L967: thesis by L966 , L965 , L595;
end;
suppose L968: (C236 = { { R11 } } & C237 = { { { R11 } } } & C238 = { { { R11 } } });

L969: ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) = ( D139 "\/" ( D138 . (C237 , C238) ) ) by L968 , L595
.= ( ( Bottom R12 ) "\/" D139 ) by L968 , L595
.= D139 by WAYBEL_1:3
.= ( D138 . (C236 , C237) ) by L968 , L595;
thus L970: thesis by L969 , L968;
end;
suppose L971: (C236 = { { { R11 } } } & C237 = { R11 } & C238 = { R11 });

L972: ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) = ( ( D139 "\/" D140 ) "\/" ( D138 . (C237 , C238) ) ) by L971 , L595
.= ( ( Bottom R12 ) "\/" ( D139 "\/" D140 ) ) by L971 , L595
.= ( D139 "\/" D140 ) by WAYBEL_1:3
.= ( D138 . (C236 , C237) ) by L971 , L595;
thus L973: thesis by L972 , L971;
end;
suppose L974: (C236 = { { { R11 } } } & C237 = { R11 } & C238 = { { R11 } });

L975: ( D138 . (C236 , C238) ) = D139 by L974 , L595;
L976: ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) = ( ( D139 "\/" D140 ) "\/" ( D138 . (C237 , C238) ) ) by L974 , L595
.= ( ( D139 "\/" D140 ) "\/" D140 ) by L974 , L595
.= ( D139 "\/" ( D140 "\/" D140 ) ) by LATTICE3:14
.= ( D139 "\/" D140 ) by YELLOW_5:1;
thus L977: thesis by L976 , L975 , YELLOW_0:22;
end;
suppose L978: (C236 = { { { R11 } } } & C237 = { R11 } & C238 = { { { R11 } } });

L979: ( Bottom R12 ) <= ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) by YELLOW_0:44;
thus L980: thesis by L979 , L978 , L595;
end;
suppose L981: (C236 = { { { R11 } } } & C237 = { { R11 } } & C238 = { R11 });

L982: ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) = ( D139 "\/" ( D138 . (C237 , C238) ) ) by L981 , L595
.= ( D139 "\/" D140 ) by L981 , L595;
thus L983: thesis by L982 , L981 , L595;
end;
suppose L984: (C236 = { { { R11 } } } & C237 = { { R11 } } & C238 = { { R11 } });

L985: ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) = ( D139 "\/" ( D138 . (C237 , C238) ) ) by L984 , L595
.= ( ( Bottom R12 ) "\/" D139 ) by L984 , L595
.= D139 by WAYBEL_1:3
.= ( D138 . (C236 , C237) ) by L984 , L595;
thus L986: thesis by L985 , L984;
end;
suppose L987: (C236 = { { { R11 } } } & C237 = { { R11 } } & C238 = { { { R11 } } });

L988: ( Bottom R12 ) <= ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) by YELLOW_0:44;
thus L989: thesis by L988 , L987 , L595;
end;
suppose L990: (C236 = { { { R11 } } } & C237 = { { { R11 } } } & C238 = { R11 });

L991: ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) = ( ( Bottom R12 ) "\/" ( D138 . (C236 , C238) ) ) by L990 , L595
.= ( ( Bottom R12 ) "\/" ( D139 "\/" D140 ) ) by L990 , L595
.= ( D139 "\/" D140 ) by WAYBEL_1:3;
thus L992: thesis by L991 , L990 , L595;
end;
suppose L993: (C236 = { { { R11 } } } & C237 = { { { R11 } } } & C238 = { { R11 } });

L994: ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) = ( ( Bottom R12 ) "\/" ( D138 . (C236 , C238) ) ) by L993 , L595
.= ( ( Bottom R12 ) "\/" D139 ) by L993 , L595
.= D139 by WAYBEL_1:3;
thus L995: thesis by L994 , L993 , L595;
end;
suppose L996: (C236 = { { { R11 } } } & C237 = { { { R11 } } } & C238 = { { { R11 } } });

L997: ( Bottom R12 ) <= ( ( D138 . (C236 , C237) ) "\/" ( D138 . (C237 , C238) ) ) by YELLOW_0:44;
thus L998: thesis by L997 , L996 , L595;
end;
end;
L1000: (for B238 , B239 , B240 being (Element of ( new_set R11 )) holds ((B238 in D135 & B239 in R11 & B240 in D135) implies ( D138 . (B238 , B240) ) <= ( ( D138 . (B238 , B239) ) "\/" ( D138 . (B239 , B240) ) )))
proof
let C239 , C240 , C241 being (Element of ( new_set R11 ));
assume that
L1001: C239 in D135
and
L1002: C240 in R11
and
L1003: C241 in D135;
reconsider D156 = C240 as (Element of R11) by L1002;
per cases  by L1001 , L1002 , L1003 , ENUMSET1:def 1;
suppose L1004: (C240 in R11 & C239 = { R11 } & C241 = { R11 });

L1005: ( D138 . (C239 , C241) ) = ( Bottom R12 ) by L1004 , L595;
thus L1006: thesis by L1005 , YELLOW_0:44;
end;
suppose L1007: (C240 in R11 & C239 = { R11 } & C241 = { { R11 } });

L1008: ( ( D138 . (C239 , C240) ) "\/" ( D138 . (C240 , C241) ) ) = ( ( D138 . (C239 , C240) ) "\/" ( ( ( C222 . (D156 , D136) ) "\/" D139 ) "\/" D140 ) ) by L1007 , L595
.= ( ( D138 . (C239 , C240) ) "\/" ( ( C222 . (D156 , D136) ) "\/" ( D139 "\/" D140 ) ) ) by LATTICE3:14
.= ( ( ( D138 . (C239 , C240) ) "\/" ( C222 . (D156 , D136) ) ) "\/" ( D139 "\/" D140 ) ) by LATTICE3:14
.= ( ( ( ( D138 . (C239 , C240) ) "\/" ( C222 . (D156 , D136) ) ) "\/" D139 ) "\/" D140 ) by LATTICE3:14;
L1009: ( D138 . (C239 , C241) ) = D140 by L1007 , L595;
thus L1010: thesis by L1009 , L1008 , YELLOW_0:22;
end;
suppose L1011: (C240 in R11 & C239 = { R11 } & C241 = { { { R11 } } });

L1012: ( D138 . (C239 , C241) ) = ( D139 "\/" D140 ) by L1011 , L595;
L1013: ( ( D138 . (C239 , C240) ) "\/" ( D138 . (C240 , C241) ) ) = ( ( ( C222 . (D156 , D136) ) "\/" D139 ) "\/" ( D138 . (C240 , C241) ) ) by L1011 , L595
.= ( ( ( C222 . (D156 , D136) ) "\/" D139 ) "\/" ( ( C222 . (D156 , D137) ) "\/" D140 ) ) by L1011 , L595
.= ( ( C222 . (D156 , D136) ) "\/" ( D139 "\/" ( ( C222 . (D156 , D137) ) "\/" D140 ) ) ) by LATTICE3:14
.= ( ( C222 . (D156 , D136) ) "\/" ( ( C222 . (D156 , D137) ) "\/" ( D139 "\/" D140 ) ) ) by LATTICE3:14
.= ( ( ( C222 . (D156 , D136) ) "\/" ( C222 . (D156 , D137) ) ) "\/" ( D139 "\/" D140 ) ) by LATTICE3:14;
thus L1014: thesis by L1013 , L1012 , YELLOW_0:22;
end;
suppose L1015: (C240 in R11 & C239 = { { R11 } } & C241 = { R11 });

L1016: ( ( D138 . (C239 , C240) ) "\/" ( D138 . (C240 , C241) ) ) = ( ( ( ( C222 . (D156 , D136) ) "\/" D139 ) "\/" D140 ) "\/" ( D138 . (C240 , C241) ) ) by L1015 , L595
.= ( ( D138 . (C240 , C241) ) "\/" ( ( C222 . (D156 , D136) ) "\/" ( D139 "\/" D140 ) ) ) by LATTICE3:14
.= ( ( ( D138 . (C240 , C241) ) "\/" ( C222 . (D156 , D136) ) ) "\/" ( D139 "\/" D140 ) ) by LATTICE3:14
.= ( ( ( ( D138 . (C240 , C241) ) "\/" ( C222 . (D156 , D136) ) ) "\/" D139 ) "\/" D140 ) by LATTICE3:14;
L1017: ( D138 . (C239 , C241) ) = D140 by L1015 , L595;
thus L1018: thesis by L1017 , L1016 , YELLOW_0:22;
end;
suppose L1019: (C240 in R11 & C239 = { { R11 } } & C241 = { { R11 } });

L1020: ( D138 . (C239 , C241) ) = ( Bottom R12 ) by L1019 , L595;
thus L1021: thesis by L1020 , YELLOW_0:44;
end;
suppose L1022: (C240 in R11 & C239 = { { R11 } } & C241 = { { { R11 } } });

L1023: ( ( D138 . (C239 , C240) ) "\/" ( D138 . (C240 , C241) ) ) = ( ( ( ( C222 . (D156 , D136) ) "\/" D139 ) "\/" D140 ) "\/" ( D138 . (C240 , C241) ) ) by L1022 , L595
.= ( ( D139 "\/" ( ( C222 . (D156 , D136) ) "\/" D140 ) ) "\/" ( D138 . (C240 , C241) ) ) by LATTICE3:14
.= ( D139 "\/" ( ( ( C222 . (D156 , D136) ) "\/" D140 ) "\/" ( D138 . (C240 , C241) ) ) ) by LATTICE3:14;
L1024: ( D138 . (C239 , C241) ) = D139 by L1022 , L595;
thus L1025: thesis by L1024 , L1023 , YELLOW_0:22;
end;
suppose L1026: (C240 in R11 & C239 = { { { R11 } } } & C241 = { R11 });

L1027: ( D138 . (C239 , C241) ) = ( D139 "\/" D140 ) by L1026 , L595;
L1028: ( ( D138 . (C239 , C240) ) "\/" ( D138 . (C240 , C241) ) ) = ( ( ( C222 . (D156 , D137) ) "\/" D140 ) "\/" ( D138 . (C240 , C241) ) ) by L1026 , L595
.= ( ( ( C222 . (D156 , D137) ) "\/" D140 ) "\/" ( ( C222 . (D156 , D136) ) "\/" D139 ) ) by L1026 , L595
.= ( ( C222 . (D156 , D137) ) "\/" ( D140 "\/" ( ( C222 . (D156 , D136) ) "\/" D139 ) ) ) by LATTICE3:14
.= ( ( C222 . (D156 , D137) ) "\/" ( ( C222 . (D156 , D136) ) "\/" ( D140 "\/" D139 ) ) ) by LATTICE3:14
.= ( ( ( C222 . (D156 , D137) ) "\/" ( C222 . (D156 , D136) ) ) "\/" ( D139 "\/" D140 ) ) by LATTICE3:14;
thus L1029: thesis by L1028 , L1027 , YELLOW_0:22;
end;
suppose L1030: (C240 in R11 & C239 = { { { R11 } } } & C241 = { { R11 } });

L1031: ( ( D138 . (C239 , C240) ) "\/" ( D138 . (C240 , C241) ) ) = ( ( D138 . (C239 , C240) ) "\/" ( ( ( C222 . (D156 , D136) ) "\/" D139 ) "\/" D140 ) ) by L1030 , L595
.= ( ( D138 . (C239 , C240) ) "\/" ( ( C222 . (D156 , D136) ) "\/" ( D139 "\/" D140 ) ) ) by LATTICE3:14
.= ( ( ( D138 . (C239 , C240) ) "\/" ( C222 . (D156 , D136) ) ) "\/" ( D139 "\/" D140 ) ) by LATTICE3:14
.= ( ( ( ( D138 . (C239 , C240) ) "\/" ( C222 . (D156 , D136) ) ) "\/" D140 ) "\/" D139 ) by LATTICE3:14;
L1032: ( D138 . (C239 , C241) ) = D139 by L1030 , L595;
thus L1033: thesis by L1032 , L1031 , YELLOW_0:22;
end;
suppose L1034: (C240 in R11 & C239 = { { { R11 } } } & C241 = { { { R11 } } });

L1035: ( D138 . (C239 , C241) ) = ( Bottom R12 ) by L1034 , L595;
thus L1036: thesis by L1035 , YELLOW_0:44;
end;
end;
L1038: (for B241 , B242 , B243 being (Element of ( new_set R11 )) holds ((B241 in R11 & B242 in D135 & B243 in D135) implies ( D138 . (B241 , B243) ) <= ( ( D138 . (B241 , B242) ) "\/" ( D138 . (B242 , B243) ) )))
proof
let C242 , C243 , C244 being (Element of ( new_set R11 ));
assume that
L1039: C242 in R11
and
L1040: (C243 in D135 & C244 in D135);
reconsider D157 = C242 as (Element of R11) by L1039;
per cases  by L1039 , L1040 , ENUMSET1:def 1;
suppose L1041: (C242 in R11 & C243 = { R11 } & C244 = { R11 });

L1042: ( ( D138 . (C242 , C243) ) "\/" ( D138 . (C243 , C244) ) ) = ( ( Bottom R12 ) "\/" ( D138 . (C242 , C243) ) ) by L1041 , L595
.= ( D138 . (C242 , C243) ) by WAYBEL_1:3;
thus L1043: thesis by L1042 , L1041;
end;
suppose L1044: (C242 in R11 & C243 = { R11 } & C244 = { { R11 } });

L1045: ( D138 . (C242 , C244) ) = ( ( ( C222 . (D157 , D136) ) "\/" D139 ) "\/" D140 ) by L1044 , L595
.= ( ( D138 . (C242 , C243) ) "\/" D140 ) by L1044 , L595;
thus L1046: thesis by L1045 , L1044 , L595;
end;
suppose L1047: (C242 in R11 & C243 = { R11 } & C244 = { { { R11 } } });

L1048: ( C222 . (D157 , D137) ) <= ( ( C222 . (D157 , D136) ) "\/" ( C222 . (D136 , D137) ) ) by L774 , L456;
L1049: ( ( C222 . (D157 , D137) ) "\/" D140 ) <= ( ( ( C222 . (D157 , D136) ) "\/" ( C222 . (D136 , D137) ) ) "\/" D140 ) by L1048 , WAYBEL_1:2;
L1050: ( D138 . (C242 , C244) ) <= ( ( ( C222 . (D157 , D136) ) "\/" ( C222 . (D136 , D137) ) ) "\/" D140 ) by L1049 , L1047 , L595;
L1051: ( ( C222 . (D157 , D136) ) "\/" D140 ) <= ( ( C222 . (D157 , D136) ) "\/" D140 );
L1052: (( ( ( C222 . (D157 , D136) ) "\/" ( C222 . (D136 , D137) ) ) "\/" D140 ) = ( ( ( C222 . (D157 , D136) ) "\/" D140 ) "\/" ( C222 . (D136 , D137) ) ) & ( ( ( C222 . (D157 , D136) ) "\/" D140 ) "\/" ( C222 . (D136 , D137) ) ) <= ( ( ( C222 . (D157 , D136) ) "\/" D140 ) "\/" ( D139 "\/" D140 ) )) by L1051 , L799 , LATTICE3:14 , YELLOW_3:3;
L1053: ( D138 . (C242 , C244) ) <= ( ( ( C222 . (D157 , D136) ) "\/" D140 ) "\/" ( D139 "\/" D140 ) ) by L1052 , L1050 , ORDERS_2:3;
L1054: ( ( ( C222 . (D157 , D136) ) "\/" D140 ) "\/" ( D139 "\/" D140 ) ) = ( ( C222 . (D157 , D136) ) "\/" ( ( D140 "\/" D139 ) "\/" D140 ) ) by LATTICE3:14
.= ( ( C222 . (D157 , D136) ) "\/" ( D139 "\/" ( D140 "\/" D140 ) ) ) by LATTICE3:14
.= ( ( C222 . (D157 , D136) ) "\/" ( D139 "\/" D140 ) ) by YELLOW_5:1
.= ( ( C222 . (D157 , D136) ) "\/" ( ( D139 "\/" D139 ) "\/" D140 ) ) by YELLOW_5:1
.= ( ( C222 . (D157 , D136) ) "\/" ( D139 "\/" ( D139 "\/" D140 ) ) ) by LATTICE3:14
.= ( ( ( C222 . (D157 , D136) ) "\/" D139 ) "\/" ( D139 "\/" D140 ) ) by LATTICE3:14;
L1055: ( D138 . (C242 , C243) ) = ( ( C222 . (D157 , D136) ) "\/" D139 ) by L1047 , L595;
thus L1056: thesis by L1055 , L1047 , L1053 , L1054 , L595;
end;
suppose L1057: (C242 in R11 & C243 = { { R11 } } & C244 = { R11 });

L1058: ( D138 . (C242 , C243) ) = ( ( ( C222 . (D157 , D136) ) "\/" D139 ) "\/" D140 ) by L1057 , L595
.= ( ( D138 . (C242 , C244) ) "\/" D140 ) by L1057 , L595;
L1059: ( ( D138 . (C242 , C243) ) "\/" ( D138 . (C243 , C244) ) ) = ( ( ( D138 . (C242 , C244) ) "\/" D140 ) "\/" D140 ) by L1058 , L1057 , L595
.= ( ( D138 . (C242 , C244) ) "\/" ( D140 "\/" D140 ) ) by LATTICE3:14
.= ( ( D138 . (C242 , C244) ) "\/" D140 ) by YELLOW_5:1;
thus L1060: thesis by L1059 , YELLOW_0:22;
end;
suppose L1061: (C242 in R11 & C243 = { { R11 } } & C244 = { { R11 } });

L1062: ( ( D138 . (C242 , C243) ) "\/" ( D138 . (C243 , C244) ) ) = ( ( Bottom R12 ) "\/" ( D138 . (C242 , C243) ) ) by L1061 , L595
.= ( D138 . (C242 , C243) ) by WAYBEL_1:3;
thus L1063: thesis by L1062 , L1061;
end;
suppose L1064: (C242 in R11 & C243 = { { R11 } } & C244 = { { { R11 } } });

L1065: ( C222 . (D157 , D137) ) <= ( ( C222 . (D157 , D136) ) "\/" ( C222 . (D136 , D137) ) ) by L774 , L456;
L1066: ( ( C222 . (D157 , D137) ) "\/" D140 ) <= ( ( ( C222 . (D157 , D136) ) "\/" ( C222 . (D136 , D137) ) ) "\/" D140 ) by L1065 , WAYBEL_1:2;
L1067: ( D138 . (C242 , C244) ) <= ( ( ( C222 . (D157 , D136) ) "\/" ( C222 . (D136 , D137) ) ) "\/" D140 ) by L1066 , L1064 , L595;
L1068: ( ( C222 . (D157 , D136) ) "\/" D140 ) <= ( ( C222 . (D157 , D136) ) "\/" D140 );
L1069: (( ( ( C222 . (D157 , D136) ) "\/" ( C222 . (D136 , D137) ) ) "\/" D140 ) = ( ( ( C222 . (D157 , D136) ) "\/" D140 ) "\/" ( C222 . (D136 , D137) ) ) & ( ( ( C222 . (D157 , D136) ) "\/" D140 ) "\/" ( C222 . (D136 , D137) ) ) <= ( ( ( C222 . (D157 , D136) ) "\/" D140 ) "\/" ( D139 "\/" D140 ) )) by L1068 , L799 , LATTICE3:14 , YELLOW_3:3;
L1070: ( D138 . (C242 , C244) ) <= ( ( ( C222 . (D157 , D136) ) "\/" D140 ) "\/" ( D139 "\/" D140 ) ) by L1069 , L1067 , ORDERS_2:3;
L1071: ( ( ( C222 . (D157 , D136) ) "\/" D140 ) "\/" ( D139 "\/" D140 ) ) = ( ( C222 . (D157 , D136) ) "\/" ( ( D140 "\/" D139 ) "\/" D140 ) ) by LATTICE3:14
.= ( ( C222 . (D157 , D136) ) "\/" ( D139 "\/" ( D140 "\/" D140 ) ) ) by LATTICE3:14
.= ( ( C222 . (D157 , D136) ) "\/" ( D139 "\/" D140 ) ) by YELLOW_5:1
.= ( ( C222 . (D157 , D136) ) "\/" ( ( D139 "\/" D139 ) "\/" D140 ) ) by YELLOW_5:1
.= ( ( C222 . (D157 , D136) ) "\/" ( D139 "\/" ( D139 "\/" D140 ) ) ) by LATTICE3:14
.= ( ( ( C222 . (D157 , D136) ) "\/" ( D139 "\/" D140 ) ) "\/" D139 ) by LATTICE3:14
.= ( ( ( ( C222 . (D157 , D136) ) "\/" D139 ) "\/" D140 ) "\/" D139 ) by LATTICE3:14;
L1072: ( D138 . (C242 , C243) ) = ( ( ( C222 . (D157 , D136) ) "\/" D139 ) "\/" D140 ) by L1064 , L595;
thus L1073: thesis by L1072 , L1064 , L1070 , L1071 , L595;
end;
suppose L1074: (C242 in R11 & C243 = { { { R11 } } } & C244 = { R11 });

L1075: ( C222 . (D157 , D136) ) <= ( ( C222 . (D157 , D137) ) "\/" ( C222 . (D137 , D136) ) ) by L774 , L456;
L1076: ( ( C222 . (D157 , D136) ) "\/" D139 ) <= ( ( ( C222 . (D157 , D137) ) "\/" ( C222 . (D137 , D136) ) ) "\/" D139 ) by L1075 , WAYBEL_1:2;
L1077: ( D138 . (C242 , C244) ) <= ( ( ( C222 . (D157 , D137) ) "\/" ( C222 . (D137 , D136) ) ) "\/" D139 ) by L1076 , L1074 , L595;
L1078: (( C222 . (D137 , D136) ) <= ( D139 "\/" D140 ) & ( ( C222 . (D157 , D137) ) "\/" D139 ) <= ( ( C222 . (D157 , D137) ) "\/" D139 )) by L773 , L799 , L453;
L1079: (( ( ( C222 . (D157 , D137) ) "\/" ( C222 . (D137 , D136) ) ) "\/" D139 ) = ( ( ( C222 . (D157 , D137) ) "\/" D139 ) "\/" ( C222 . (D137 , D136) ) ) & ( ( ( C222 . (D157 , D137) ) "\/" D139 ) "\/" ( C222 . (D137 , D136) ) ) <= ( ( ( C222 . (D157 , D137) ) "\/" D139 ) "\/" ( D139 "\/" D140 ) )) by L1078 , LATTICE3:14 , YELLOW_3:3;
L1080: ( D138 . (C242 , C244) ) <= ( ( ( C222 . (D157 , D137) ) "\/" D139 ) "\/" ( D139 "\/" D140 ) ) by L1079 , L1077 , ORDERS_2:3;
L1081: ( ( ( C222 . (D157 , D137) ) "\/" D139 ) "\/" ( D139 "\/" D140 ) ) = ( ( ( ( C222 . (D157 , D137) ) "\/" D139 ) "\/" D139 ) "\/" D140 ) by LATTICE3:14
.= ( ( ( C222 . (D157 , D137) ) "\/" ( D139 "\/" D139 ) ) "\/" D140 ) by LATTICE3:14
.= ( ( ( C222 . (D157 , D137) ) "\/" D139 ) "\/" D140 ) by YELLOW_5:1
.= ( ( C222 . (D157 , D137) ) "\/" ( D139 "\/" D140 ) ) by LATTICE3:14
.= ( ( C222 . (D157 , D137) ) "\/" ( D139 "\/" ( D140 "\/" D140 ) ) ) by YELLOW_5:1
.= ( ( C222 . (D157 , D137) ) "\/" ( ( D139 "\/" D140 ) "\/" D140 ) ) by LATTICE3:14
.= ( ( ( C222 . (D157 , D137) ) "\/" D140 ) "\/" ( D139 "\/" D140 ) ) by LATTICE3:14;
L1082: ( D138 . (C242 , C243) ) = ( ( C222 . (D157 , D137) ) "\/" D140 ) by L1074 , L595;
thus L1083: thesis by L1082 , L1074 , L1080 , L1081 , L595;
end;
suppose L1084: (C242 in R11 & C243 = { { { R11 } } } & C244 = { { R11 } });

L1085: ( C222 . (D157 , D136) ) <= ( ( C222 . (D157 , D137) ) "\/" ( C222 . (D137 , D136) ) ) by L774 , L456;
L1086: ( ( C222 . (D157 , D136) ) "\/" ( D139 "\/" D140 ) ) <= ( ( ( C222 . (D157 , D137) ) "\/" ( C222 . (D137 , D136) ) ) "\/" ( D139 "\/" D140 ) ) by L1085 , WAYBEL_1:2;
L1087: ( D138 . (C242 , C244) ) = ( ( ( C222 . (D157 , D136) ) "\/" D139 ) "\/" D140 ) by L1084 , L595;
L1088: ( D138 . (C242 , C244) ) <= ( ( ( C222 . (D157 , D137) ) "\/" ( C222 . (D137 , D136) ) ) "\/" ( D139 "\/" D140 ) ) by L1087 , L1086 , LATTICE3:14;
L1089: ( ( ( C222 . (D157 , D137) ) "\/" D139 ) "\/" ( D139 "\/" D140 ) ) = ( ( ( ( C222 . (D157 , D137) ) "\/" D139 ) "\/" D139 ) "\/" D140 ) by LATTICE3:14
.= ( ( ( C222 . (D157 , D137) ) "\/" ( D139 "\/" D139 ) ) "\/" D140 ) by LATTICE3:14
.= ( ( ( C222 . (D157 , D137) ) "\/" D139 ) "\/" D140 ) by YELLOW_5:1
.= ( ( ( C222 . (D157 , D137) ) "\/" D140 ) "\/" D139 ) by LATTICE3:14;
L1090: ( D138 . (C242 , C243) ) = ( ( C222 . (D157 , D137) ) "\/" D140 ) by L1084 , L595;
L1091: ( ( C222 . (D157 , D137) ) "\/" ( D139 "\/" D140 ) ) <= ( ( C222 . (D157 , D137) ) "\/" ( D139 "\/" D140 ) );
L1092: (( C222 . (D137 , D136) ) <= ( D139 "\/" D140 ) & ( ( ( C222 . (D157 , D137) ) "\/" ( C222 . (D137 , D136) ) ) "\/" ( D139 "\/" D140 ) ) = ( ( ( C222 . (D157 , D137) ) "\/" ( D139 "\/" D140 ) ) "\/" ( C222 . (D137 , D136) ) )) by L773 , L799 , L453 , LATTICE3:14;
L1093: ( ( ( C222 . (D157 , D137) ) "\/" ( C222 . (D137 , D136) ) ) "\/" ( D139 "\/" D140 ) ) <= ( ( ( C222 . (D157 , D137) ) "\/" ( D139 "\/" D140 ) ) "\/" ( D139 "\/" D140 ) ) by L1092 , L1091 , YELLOW_3:3;
L1094: ( ( ( C222 . (D157 , D137) ) "\/" D139 ) "\/" ( D139 "\/" D140 ) ) = ( ( ( C222 . (D157 , D137) ) "\/" D139 ) "\/" ( ( D139 "\/" D140 ) "\/" ( D139 "\/" D140 ) ) ) by YELLOW_5:1
.= ( ( C222 . (D157 , D137) ) "\/" ( D139 "\/" ( ( D139 "\/" D140 ) "\/" ( D139 "\/" D140 ) ) ) ) by LATTICE3:14
.= ( ( C222 . (D157 , D137) ) "\/" ( ( D139 "\/" ( D139 "\/" D140 ) ) "\/" ( D139 "\/" D140 ) ) ) by LATTICE3:14
.= ( ( C222 . (D157 , D137) ) "\/" ( ( ( D139 "\/" D139 ) "\/" D140 ) "\/" ( D139 "\/" D140 ) ) ) by LATTICE3:14
.= ( ( C222 . (D157 , D137) ) "\/" ( ( D139 "\/" D140 ) "\/" ( D139 "\/" D140 ) ) ) by YELLOW_5:1
.= ( ( ( C222 . (D157 , D137) ) "\/" ( D139 "\/" D140 ) ) "\/" ( D139 "\/" D140 ) ) by LATTICE3:14;
L1095: ( D138 . (C242 , C244) ) <= ( ( ( C222 . (D157 , D137) ) "\/" D139 ) "\/" ( D139 "\/" D140 ) ) by L1094 , L1093 , L1088 , ORDERS_2:3;
thus L1096: thesis by L1095 , L1084 , L1090 , L1089 , L595;
end;
suppose L1097: (C242 in R11 & C243 = { { { R11 } } } & C244 = { { { R11 } } });

L1098: ( ( D138 . (C242 , C243) ) "\/" ( D138 . (C243 , C244) ) ) = ( ( Bottom R12 ) "\/" ( D138 . (C242 , C243) ) ) by L1097 , L595
.= ( D138 . (C242 , C243) ) by WAYBEL_1:3;
thus L1099: thesis by L1098 , L1097;
end;
end;
L1101: (for B244 , B245 , B246 being (Element of ( new_set R11 )) holds ((B244 in R11 & B245 in R11 & B246 in R11) implies ( D138 . (B244 , B246) ) <= ( ( D138 . (B244 , B245) ) "\/" ( D138 . (B245 , B246) ) )))
proof
let C245 , C246 , C247 being (Element of ( new_set R11 ));
assume L1102: (C245 in R11 & C246 in R11 & C247 in R11);
reconsider D158 = C245 , D159 = C246 , D160 = C247 as (Element of R11) by L1102;
L1103: ( D138 . (C246 , C247) ) = ( C222 . (D159 , D160) ) by L595;
L1104: (( D138 . (C245 , C247) ) = ( C222 . (D158 , D160) ) & ( D138 . (C245 , C246) ) = ( C222 . (D158 , D159) )) by L595;
thus L1105: thesis by L1104 , L774 , L1103 , L456;
end;
L1106: (for B247 , B248 , B249 being (Element of ( new_set R11 )) holds ( D138 . (B247 , B249) ) <= ( ( D138 . (B247 , B248) ) "\/" ( D138 . (B248 , B249) ) ))
proof
let C248 , C249 , C250 being (Element of ( new_set R11 ));
per cases  by XBOOLE_0:def 3;
suppose L1107: (C248 in R11 & C249 in R11 & C250 in R11);

thus L1108: thesis by L1107 , L1101;
end;
suppose L1109: (C248 in R11 & C249 in R11 & C250 in D135);

thus L1110: thesis by L1109 , L889;
end;
suppose L1111: (C248 in R11 & C249 in D135 & C250 in R11);

thus L1112: thesis by L1111 , L775;
end;
suppose L1113: (C248 in R11 & C249 in D135 & C250 in D135);

thus L1114: thesis by L1113 , L1038;
end;
suppose L1115: (C248 in D135 & C249 in R11 & C250 in R11);

thus L1116: thesis by L1115 , L859;
end;
suppose L1117: (C248 in D135 & C249 in R11 & C250 in D135);

thus L1118: thesis by L1117 , L1000;
end;
suppose L1119: (C248 in D135 & C249 in D135 & C250 in R11);

thus L1120: thesis by L1119 , L800;
end;
suppose L1121: (C248 in D135 & C249 in D135 & C250 in D135);

thus L1122: thesis by L1121 , L912;
end;
end;
thus L1124: thesis by L1106 , L456;
end;
theorem
L1125: (for R11 being non  empty set holds (for R12 being  lower-bounded LATTICE holds (for B250 being (BiFunction of R11 , R12) holds (for B251 being (Element of [: R11 , R11 , (the carrier of R12) , (the carrier of R12) :]) holds B250 c= ( new_bi_fun (B250 , B251) )))))
proof
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let C251 being (BiFunction of R11 , R12);
let C252 being (Element of [: R11 , R11 , (the carrier of R12) , (the carrier of R12) :]);
set D161 = ( new_bi_fun (C251 , C252) );
L1126: R11 c= ( new_set R11 ) by XBOOLE_1:7;
L1127: (for B252 being set holds (B252 in ( dom C251 ) implies ( C251 . B252 ) = ( D161 . B252 )))
proof
let C253 being set;
assume L1128: C253 in ( dom C251 );
consider R7 being set, R8 being set such that L1129: [ R7 , R8 ] = C253 by L1128 , RELAT_1:def 1;
reconsider D162 = R7 , D163 = R8 as (Element of R11) by L1128 , L1129 , ZFMISC_1:87;
L1130: ( C251 . [ R7 , R8 ] ) = ( C251 . (D162 , D163) )
.= ( D161 . (D162 , D163) ) by L595
.= ( D161 . [ R7 , R8 ] );
thus L1131: thesis by L1130 , L1129;
end;
L1132: (( dom C251 ) = [: R11 , R11 :] & ( dom D161 ) = [: ( new_set R11 ) , ( new_set R11 ) :]) by FUNCT_2:def 1;
L1133: ( dom C251 ) c= ( dom D161 ) by L1132 , L1126 , ZFMISC_1:96;
thus L1134: thesis by L1133 , L1127 , GRFUNC_1:2;
end;
definition
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let C254 being (BiFunction of R11 , R12);
func DistEsti C254 -> Cardinal means 
:L1135: it , { [ B253 , B254 , B255 , B256 ] where B253 is (Element of R11) , B254 is (Element of R11) , B255 is (Element of R12) , B256 is (Element of R12) : ( C254 . (B253 , B254) ) <= ( B255 "\/" B256 ) } are_equipotent ;
existence
proof
set D164 = { [ B257 , B258 , B259 , B260 ] where B257 is (Element of R11) , B258 is (Element of R11) , B259 is (Element of R12) , B260 is (Element of R12) : ( C254 . (B257 , B258) ) <= ( B259 "\/" B260 ) };
take ( card D164 );
thus L1136: thesis by CARD_1:def 2;
end;
uniqueness
proof
set D165 = { [ B261 , B262 , B263 , B264 ] where B261 is (Element of R11) , B262 is (Element of R11) , B263 is (Element of R12) , B264 is (Element of R12) : ( C254 . (B261 , B262) ) <= ( B263 "\/" B264 ) };
let C255 , C256 being Cardinal;
assume L1137: (C255 , D165 are_equipotent  & C256 , D165 are_equipotent );
L1138: C255 , C256 are_equipotent  by L1137 , WELLORD2:15;
thus L1139: thesis by L1138 , CARD_1:2;
end;
end;
theorem
L1141: (for R11 being non  empty set holds (for R12 being  lower-bounded LATTICE holds (for B265 being (distance_function of R11 , R12) holds ( DistEsti B265 ) <> ( {} ))))
proof
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let C257 being (distance_function of R11 , R12);
set D166 = { [ B266 , B267 , B268 , B269 ] where B266 is (Element of R11) , B267 is (Element of R11) , B268 is (Element of R12) , B269 is (Element of R12) : ( C257 . (B266 , B267) ) <= ( B268 "\/" B269 ) };
set D167 = the (Element of R11);
consider C258 being set such that L1142: C258 = [ D167 , D167 , ( Bottom R12 ) , ( Bottom R12 ) ];
L1143: ( DistEsti C257 ) , D166 are_equipotent  by L1135;
L1144: ( C257 . (D167 , D167) ) = ( Bottom R12 ) by L455
.= ( ( Bottom R12 ) "\/" ( Bottom R12 ) ) by YELLOW_5:1;
L1145: C258 in D166 by L1144 , L1142;
thus L1146: thesis by L1145 , L1143 , CARD_1:26;
end;
definition
let R11 being non  empty set;
let R15 being Ordinal;
func ConsecutiveSet (R11 , R15) means 
:L1147: (ex B270 being T-Sequence st (it = ( last B270 ) & ( dom B270 ) = ( succ R15 ) & ( B270 . ( {} ) ) = R11 & (for B271 being Ordinal holds (( succ B271 ) in ( succ R15 ) implies ( B270 . ( succ B271 ) ) = ( new_set ( B270 . B271 ) ))) & (for B272 being Ordinal holds ((B272 in ( succ R15 ) & B272 <> ( {} ) & B272 is  limit_ordinal) implies ( B270 . B272 ) = ( union ( rng ( B270 | B272 ) ) )))));
correctness
proof
deffunc H1(Ordinal , T-Sequence) = ( union ( rng $2 ) );
deffunc H2(Ordinal , set) = ( new_set $2 );
thus L1148: ((ex R7 being set st (ex R14 being T-Sequence st (R7 = ( last R14 ) & ( dom R14 ) = ( succ R15 ) & ( R14 . ( {} ) ) = R11 & (for B273 being Ordinal holds (( succ B273 ) in ( succ R15 ) implies ( R14 . ( succ B273 ) ) = H2(B273 , ( R14 . B273 )))) & (for B274 being Ordinal holds ((B274 in ( succ R15 ) & B274 <> ( {} ) & B274 is  limit_ordinal) implies ( R14 . B274 ) = H1(B274 , ( R14 | B274 ))))))) & (for B275 , B276 being set holds (((ex R14 being T-Sequence st (B275 = ( last R14 ) & ( dom R14 ) = ( succ R15 ) & ( R14 . ( {} ) ) = R11 & (for R19 being Ordinal holds (( succ R19 ) in ( succ R15 ) implies ( R14 . ( succ R19 ) ) = H2(R19 , ( R14 . R19 )))) & (for R19 being Ordinal holds ((R19 in ( succ R15 ) & R19 <> ( {} ) & R19 is  limit_ordinal) implies ( R14 . R19 ) = H1(R19 , ( R14 | R19 )))))) & (ex R14 being T-Sequence st (B276 = ( last R14 ) & ( dom R14 ) = ( succ R15 ) & ( R14 . ( {} ) ) = R11 & (for R19 being Ordinal holds (( succ R19 ) in ( succ R15 ) implies ( R14 . ( succ R19 ) ) = H2(R19 , ( R14 . R19 )))) & (for R19 being Ordinal holds ((R19 in ( succ R15 ) & R19 <> ( {} ) & R19 is  limit_ordinal) implies ( R14 . R19 ) = H1(R19 , ( R14 | R19 ))))))) implies B275 = B276))) from ORDINAL2:sch 7;
end;
end;
theorem
L1150: (for R11 being non  empty set holds ( ConsecutiveSet (R11 , ( {} )) ) = R11)
proof
let R11 being non  empty set;
deffunc H3(Ordinal , T-Sequence) = ( union ( rng $2 ) );
deffunc H4(Ordinal , set) = ( new_set $2 );
deffunc H5(Ordinal) = ( ConsecutiveSet (R11 , $1) );
L1151: (for B277 being Ordinal holds (for B278 being set holds (B278 = H5(B277) iff (ex B279 being T-Sequence st (B278 = ( last B279 ) & ( dom B279 ) = ( succ B277 ) & ( B279 . ( {} ) ) = R11 & (for B280 being Ordinal holds (( succ B280 ) in ( succ B277 ) implies ( B279 . ( succ B280 ) ) = H4(B280 , ( B279 . B280 )))) & (for B281 being Ordinal holds ((B281 in ( succ B277 ) & B281 <> ( {} ) & B281 is  limit_ordinal) implies ( B279 . B281 ) = H3(B281 , ( B279 | B281 ))))))))) by L1147;
thus L1152: H5(( {} )) = R11 from ORDINAL2:sch 8(L1151);
end;
theorem
L1153: (for R11 being non  empty set holds (for R15 being Ordinal holds ( ConsecutiveSet (R11 , ( succ R15 )) ) = ( new_set ( ConsecutiveSet (R11 , R15) ) )))
proof
let R11 being non  empty set;
let R15 being Ordinal;
deffunc H6(Ordinal , T-Sequence) = ( union ( rng $2 ) );
deffunc H7(Ordinal , set) = ( new_set $2 );
deffunc H8(Ordinal) = ( ConsecutiveSet (R11 , $1) );
L1154: (for B282 being Ordinal holds (for B283 being set holds (B283 = H8(B282) iff (ex B284 being T-Sequence st (B283 = ( last B284 ) & ( dom B284 ) = ( succ B282 ) & ( B284 . ( {} ) ) = R11 & (for B285 being Ordinal holds (( succ B285 ) in ( succ B282 ) implies ( B284 . ( succ B285 ) ) = H7(B285 , ( B284 . B285 )))) & (for B286 being Ordinal holds ((B286 in ( succ B282 ) & B286 <> ( {} ) & B286 is  limit_ordinal) implies ( B284 . B286 ) = H6(B286 , ( B284 | B286 ))))))))) by L1147;
L1155: (for R15 being Ordinal holds H8(( succ R15 )) = H7(R15 , H8(R15))) from ORDINAL2:sch 9(L1154);
thus L1156: thesis by L1155;
end;
theorem
L1157: (for R11 being non  empty set holds (for R13 being T-Sequence holds (for R15 being Ordinal holds ((R15 <> ( {} ) & R15 is  limit_ordinal & ( dom R13 ) = R15 & (for B287 being Ordinal holds (B287 in R15 implies ( R13 . B287 ) = ( ConsecutiveSet (R11 , B287) )))) implies ( ConsecutiveSet (R11 , R15) ) = ( union ( rng R13 ) )))))
proof
let R11 being non  empty set;
let R13 being T-Sequence;
let R15 being Ordinal;
deffunc H9(Ordinal , T-Sequence) = ( union ( rng $2 ) );
deffunc H10(Ordinal , set) = ( new_set $2 );
deffunc H11(Ordinal) = ( ConsecutiveSet (R11 , $1) );
assume that
L1158: (R15 <> ( {} ) & R15 is  limit_ordinal)
and
L1159: ( dom R13 ) = R15
and
L1160: (for B288 being Ordinal holds (B288 in R15 implies ( R13 . B288 ) = H11(B288)));
L1161: (for B289 being Ordinal holds (for B290 being set holds (B290 = H11(B289) iff (ex B291 being T-Sequence st (B290 = ( last B291 ) & ( dom B291 ) = ( succ B289 ) & ( B291 . ( {} ) ) = R11 & (for B292 being Ordinal holds (( succ B292 ) in ( succ B289 ) implies ( B291 . ( succ B292 ) ) = H10(B292 , ( B291 . B292 )))) & (for B293 being Ordinal holds ((B293 in ( succ B289 ) & B293 <> ( {} ) & B293 is  limit_ordinal) implies ( B291 . B293 ) = H9(B293 , ( B291 | B293 ))))))))) by L1147;
thus L1162: H11(R15) = H9(R15 , R13) from ORDINAL2:sch 10(L1161 , L1158 , L1159 , L1160);
end;
registration
let R11 being non  empty set;
let R15 being Ordinal;
cluster ( ConsecutiveSet (R11 , R15) ) -> non  empty;
coherence
proof
defpred S5[ Ordinal ] means ( ConsecutiveSet (R11 , $1) ) is non  empty;
L1163: (for R15 being Ordinal holds (S5[ R15 ] implies S5[ ( succ R15 ) ]))
proof
let R16 being Ordinal;
assume L1164: ( ConsecutiveSet (R11 , R16) ) is non  empty;
L1165: ( ConsecutiveSet (R11 , ( succ R16 )) ) = ( new_set ( ConsecutiveSet (R11 , R16) ) ) by L1153;
thus L1166: thesis by L1165;
end;
L1167: (for R15 being Ordinal holds ((R15 <> ( {} ) & R15 is  limit_ordinal & (for B294 being Ordinal holds (B294 in R15 implies S5[ B294 ]))) implies S5[ R15 ]))
proof
deffunc H12(Ordinal) = ( ConsecutiveSet (R11 , $1) );
let R16 being Ordinal;
assume that
L1168: R16 <> ( {} )
and
L1169: R16 is  limit_ordinal
and
L1170: (for R17 being Ordinal holds (R17 in R16 implies ( ConsecutiveSet (R11 , R17) ) is non  empty));
L1171: ( {} ) in R16 by L1168 , ORDINAL3:8;
consider C259 being T-Sequence such that L1172: (( dom C259 ) = R16 & (for B295 being Ordinal holds (B295 in R16 implies ( C259 . B295 ) = H12(B295)))) from ORDINAL2:sch 2;
L1173: ( C259 . ( {} ) ) = ( ConsecutiveSet (R11 , ( {} )) ) by L1168 , L1172 , ORDINAL3:8
.= R11 by L1150;
L1174: R11 in ( rng C259 ) by L1173 , L1172 , L1171 , FUNCT_1:def 3;
L1175: ( ConsecutiveSet (R11 , R16) ) = ( union ( rng C259 ) ) by L1168 , L1169 , L1172 , L1157;
L1176: R11 c= ( ConsecutiveSet (R11 , R16) ) by L1175 , L1174 , ZFMISC_1:74;
thus L1177: thesis by L1176;
end;
L1178: S5[ ( {} ) ] by L1150;
L1179: (for R15 being Ordinal holds S5[ R15 ]) from ORDINAL2:sch 1(L1178 , L1163 , L1167);
thus L1180: thesis by L1179;
end;
end;
theorem
L1182: (for R11 being non  empty set holds (for R15 being Ordinal holds R11 c= ( ConsecutiveSet (R11 , R15) )))
proof
let R11 being non  empty set;
let R15 being Ordinal;
defpred S6[ Ordinal ] means R11 c= ( ConsecutiveSet (R11 , $1) );
L1183: (for R16 being Ordinal holds (S6[ R16 ] implies S6[ ( succ R16 ) ]))
proof
let R16 being Ordinal;
L1184: ( ConsecutiveSet (R11 , ( succ R16 )) ) = ( new_set ( ConsecutiveSet (R11 , R16) ) ) by L1153;
L1185: ( ConsecutiveSet (R11 , R16) ) c= ( ConsecutiveSet (R11 , ( succ R16 )) ) by L1184 , XBOOLE_1:7;
assume L1186: R11 c= ( ConsecutiveSet (R11 , R16) );
thus L1187: thesis by L1186 , L1185 , XBOOLE_1:1;
end;
L1188: (for R17 being Ordinal holds ((R17 <> ( {} ) & R17 is  limit_ordinal & (for R16 being Ordinal holds (R16 in R17 implies S6[ R16 ]))) implies S6[ R17 ]))
proof
deffunc H13(Ordinal) = ( ConsecutiveSet (R11 , $1) );
let R17 being Ordinal;
assume that
L1189: R17 <> ( {} )
and
L1190: R17 is  limit_ordinal
and
L1191: (for R16 being Ordinal holds (R16 in R17 implies R11 c= ( ConsecutiveSet (R11 , R16) )));
L1192: ( {} ) in R17 by L1189 , ORDINAL3:8;
consider C260 being T-Sequence such that L1193: (( dom C260 ) = R17 & (for B296 being Ordinal holds (B296 in R17 implies ( C260 . B296 ) = H13(B296)))) from ORDINAL2:sch 2;
L1194: ( C260 . ( {} ) ) = ( ConsecutiveSet (R11 , ( {} )) ) by L1189 , L1193 , ORDINAL3:8
.= R11 by L1150;
L1195: R11 in ( rng C260 ) by L1194 , L1193 , L1192 , FUNCT_1:def 3;
L1196: ( ConsecutiveSet (R11 , R17) ) = ( union ( rng C260 ) ) by L1189 , L1190 , L1193 , L1157;
thus L1197: thesis by L1196 , L1195 , ZFMISC_1:74;
end;
L1198: S6[ ( {} ) ] by L1150;
L1199: (for R15 being Ordinal holds S6[ R15 ]) from ORDINAL2:sch 1(L1198 , L1183 , L1188);
thus L1200: thesis by L1199;
end;
definition
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let C261 being (BiFunction of R11 , R12);
mode QuadrSeq of C261
 -> (T-Sequence of [: R11 , R11 , (the carrier of R12) , (the carrier of R12) :])
means :L1201: (( dom it ) is Cardinal & it is  one-to-one & ( rng it ) = { [ B297 , B298 , B299 , B300 ] where B297 is (Element of R11) , B298 is (Element of R11) , B299 is (Element of R12) , B300 is (Element of R12) : ( C261 . (B297 , B298) ) <= ( B299 "\/" B300 ) });
existence
proof
set D168 = { [ B301 , B302 , B303 , B304 ] where B301 is (Element of R11) , B302 is (Element of R11) , B303 is (Element of R12) , B304 is (Element of R12) : ( C261 . (B301 , B302) ) <= ( B303 "\/" B304 ) };
L1202: ( card D168 ) , D168 are_equipotent  by CARD_1:def 2;
consider C262 being Function such that L1203: C262 is  one-to-one and L1204: ( dom C262 ) = ( card D168 ) and L1205: ( rng C262 ) = D168 by L1202 , WELLORD2:def 4;
reconsider D169 = C262 as T-Sequence by L1204 , ORDINAL1:def 7;
L1206: ( rng D169 ) c= [: R11 , R11 , (the carrier of R12) , (the carrier of R12) :]
proof
let C263 being set;
assume L1207: C263 in ( rng D169 );
L1208: (ex B305 , B306 being (Element of R11) st (ex B307 , B308 being (Element of R12) st (C263 = [ B305 , B306 , B307 , B308 ] & ( C261 . (B305 , B306) ) <= ( B307 "\/" B308 )))) by L1207 , L1205;
thus L1209: thesis by L1208;
end;
reconsider D170 = D169 as (T-Sequence of [: R11 , R11 , (the carrier of R12) , (the carrier of R12) :]) by L1206 , RELAT_1:def 19;
take D170;
thus L1210: ( dom D170 ) is Cardinal by L1204;
thus L1211: D170 is  one-to-one by L1203;
thus L1212: thesis by L1205;
end;
end;
definition
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let C264 being (BiFunction of R11 , R12);
let C265 being (QuadrSeq of C264);
let R15 being Ordinal;
assume L1214: R15 in ( dom C265 );
func Quadr (C265 , R15) -> (Element of [: ( ConsecutiveSet (R11 , R15) ) , ( ConsecutiveSet (R11 , R15) ) , (the carrier of R12) , (the carrier of R12) :]) equals 
:L1215: ( C265 . R15 );
correctness
proof
L1216: ( C265 . R15 ) in ( rng C265 ) by L1214 , FUNCT_1:def 3;
L1217: ( C265 . R15 ) in { [ B309 , B310 , B311 , B312 ] where B309 is (Element of R11) , B310 is (Element of R11) , B311 is (Element of R12) , B312 is (Element of R12) : ( C264 . (B309 , B310) ) <= ( B311 "\/" B312 ) } by L1216 , L1201;
consider C266 , C267 being (Element of R11), C268 , C269 being (Element of R12) such that L1218: ( C265 . R15 ) = [ C266 , C267 , C268 , C269 ] and L1219: ( C264 . (C266 , C267) ) <= ( C268 "\/" C269 ) by L1217;
reconsider D171 = C268 , D172 = C269 as (Element of R12);
L1220: (C266 in R11 & C267 in R11);
L1221: R11 c= ( ConsecutiveSet (R11 , R15) ) by L1182;
reconsider D173 = C266 , D174 = C267 as (Element of ( ConsecutiveSet (R11 , R15) )) by L1221 , L1220;
reconsider D175 = [ D173 , D174 , D171 , D172 ] as (Element of [: ( ConsecutiveSet (R11 , R15) ) , ( ConsecutiveSet (R11 , R15) ) , (the carrier of R12) , (the carrier of R12) :]);
L1222: D175 = ( C265 . R15 ) by L1218;
thus L1223: thesis by L1222;
end;
end;
theorem
L1225: (for R11 being non  empty set holds (for R12 being  lower-bounded LATTICE holds (for R15 being Ordinal holds (for B313 being (BiFunction of R11 , R12) holds (for B314 being (QuadrSeq of B313) holds (R15 in ( DistEsti B313 ) iff R15 in ( dom B314 )))))))
proof
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let R15 being Ordinal;
let C270 being (BiFunction of R11 , R12);
let C271 being (QuadrSeq of C270);
reconsider D176 = ( dom C271 ) as Cardinal by L1201;
reconsider D177 = ( DistEsti C270 ) as Cardinal;
L1226: C271 is  one-to-one by L1201;
L1227: ( dom C271 ) , ( rng C271 ) are_equipotent  by L1226 , WELLORD2:def 4;
L1228: ( DistEsti C270 ) , { [ B315 , B316 , B317 , B318 ] where B315 is (Element of R11) , B316 is (Element of R11) , B317 is (Element of R12) , B318 is (Element of R12) : ( C270 . (B315 , B316) ) <= ( B317 "\/" B318 ) } are_equipotent  by L1135;
L1229: ( DistEsti C270 ) , ( rng C271 ) are_equipotent  by L1228 , L1201;
L1230: ( DistEsti C270 ) , ( dom C271 ) are_equipotent  by L1229 , L1227 , WELLORD2:15;
L1231: D177 = D176 by L1230 , CARD_1:2;
thus L1232: (R15 in ( DistEsti C270 ) implies R15 in ( dom C271 )) by L1231;
assume L1233: R15 in ( dom C271 );
thus L1234: thesis by L1233 , L1231;
end;
definition
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let C272 being set;
assume L1235: C272 is (BiFunction of R11 , R12);
func BiFun (C272 , R11 , R12) -> (BiFunction of R11 , R12) equals 
:L1236: C272;
coherence by L1235;
end;
definition
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let C273 being (BiFunction of R11 , R12);
let C274 being (QuadrSeq of C273);
let R15 being Ordinal;
func ConsecutiveDelta (C274 , R15) means 
:L1238: (ex B319 being T-Sequence st (it = ( last B319 ) & ( dom B319 ) = ( succ R15 ) & ( B319 . ( {} ) ) = C273 & (for B320 being Ordinal holds (( succ B320 ) in ( succ R15 ) implies ( B319 . ( succ B320 ) ) = ( new_bi_fun (( BiFun (( B319 . B320 ) , ( ConsecutiveSet (R11 , B320) ) , R12) ) , ( Quadr (C274 , B320) )) ))) & (for B321 being Ordinal holds ((B321 in ( succ R15 ) & B321 <> ( {} ) & B321 is  limit_ordinal) implies ( B319 . B321 ) = ( union ( rng ( B319 | B321 ) ) )))));
correctness
proof
deffunc H14(Ordinal , T-Sequence) = ( union ( rng $2 ) );
deffunc H15(Ordinal , set) = ( new_bi_fun (( BiFun ($2 , ( ConsecutiveSet (R11 , $1) ) , R12) ) , ( Quadr (C274 , $1) )) );
thus L1239: ((ex R7 being set st (ex R14 being T-Sequence st (R7 = ( last R14 ) & ( dom R14 ) = ( succ R15 ) & ( R14 . ( {} ) ) = C273 & (for B322 being Ordinal holds (( succ B322 ) in ( succ R15 ) implies ( R14 . ( succ B322 ) ) = H15(B322 , ( R14 . B322 )))) & (for B323 being Ordinal holds ((B323 in ( succ R15 ) & B323 <> ( {} ) & B323 is  limit_ordinal) implies ( R14 . B323 ) = H14(B323 , ( R14 | B323 ))))))) & (for B324 , B325 being set holds (((ex R14 being T-Sequence st (B324 = ( last R14 ) & ( dom R14 ) = ( succ R15 ) & ( R14 . ( {} ) ) = C273 & (for R19 being Ordinal holds (( succ R19 ) in ( succ R15 ) implies ( R14 . ( succ R19 ) ) = H15(R19 , ( R14 . R19 )))) & (for R19 being Ordinal holds ((R19 in ( succ R15 ) & R19 <> ( {} ) & R19 is  limit_ordinal) implies ( R14 . R19 ) = H14(R19 , ( R14 | R19 )))))) & (ex R14 being T-Sequence st (B325 = ( last R14 ) & ( dom R14 ) = ( succ R15 ) & ( R14 . ( {} ) ) = C273 & (for R19 being Ordinal holds (( succ R19 ) in ( succ R15 ) implies ( R14 . ( succ R19 ) ) = H15(R19 , ( R14 . R19 )))) & (for R19 being Ordinal holds ((R19 in ( succ R15 ) & R19 <> ( {} ) & R19 is  limit_ordinal) implies ( R14 . R19 ) = H14(R19 , ( R14 | R19 ))))))) implies B324 = B325))) from ORDINAL2:sch 7;
end;
end;
theorem
L1241: (for R11 being non  empty set holds (for R12 being  lower-bounded LATTICE holds (for B326 being (BiFunction of R11 , R12) holds (for B327 being (QuadrSeq of B326) holds ( ConsecutiveDelta (B327 , ( {} )) ) = B326))))
proof
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
deffunc H16(Ordinal , T-Sequence) = ( union ( rng $2 ) );
let C275 being (BiFunction of R11 , R12);
let C276 being (QuadrSeq of C275);
deffunc H17(Ordinal , set) = ( new_bi_fun (( BiFun ($2 , ( ConsecutiveSet (R11 , $1) ) , R12) ) , ( Quadr (C276 , $1) )) );
deffunc H18(Ordinal) = ( ConsecutiveDelta (C276 , $1) );
L1242: (for B328 being Ordinal holds (for B329 being set holds (B329 = H18(B328) iff (ex B330 being T-Sequence st (B329 = ( last B330 ) & ( dom B330 ) = ( succ B328 ) & ( B330 . ( {} ) ) = C275 & (for B331 being Ordinal holds (( succ B331 ) in ( succ B328 ) implies ( B330 . ( succ B331 ) ) = H17(B331 , ( B330 . B331 )))) & (for B332 being Ordinal holds ((B332 in ( succ B328 ) & B332 <> ( {} ) & B332 is  limit_ordinal) implies ( B330 . B332 ) = H16(B332 , ( B330 | B332 ))))))))) by L1238;
thus L1243: H18(( {} )) = C275 from ORDINAL2:sch 8(L1242);
end;
theorem
L1244: (for R11 being non  empty set holds (for R12 being  lower-bounded LATTICE holds (for R15 being Ordinal holds (for B333 being (BiFunction of R11 , R12) holds (for B334 being (QuadrSeq of B333) holds ( ConsecutiveDelta (B334 , ( succ R15 )) ) = ( new_bi_fun (( BiFun (( ConsecutiveDelta (B334 , R15) ) , ( ConsecutiveSet (R11 , R15) ) , R12) ) , ( Quadr (B334 , R15) )) ))))))
proof
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let R15 being Ordinal;
deffunc H19(Ordinal , T-Sequence) = ( union ( rng $2 ) );
let C277 being (BiFunction of R11 , R12);
let C278 being (QuadrSeq of C277);
deffunc H20(Ordinal , set) = ( new_bi_fun (( BiFun ($2 , ( ConsecutiveSet (R11 , $1) ) , R12) ) , ( Quadr (C278 , $1) )) );
deffunc H21(Ordinal) = ( ConsecutiveDelta (C278 , $1) );
L1245: (for B335 being Ordinal holds (for B336 being set holds (B336 = H21(B335) iff (ex B337 being T-Sequence st (B336 = ( last B337 ) & ( dom B337 ) = ( succ B335 ) & ( B337 . ( {} ) ) = C277 & (for B338 being Ordinal holds (( succ B338 ) in ( succ B335 ) implies ( B337 . ( succ B338 ) ) = H20(B338 , ( B337 . B338 )))) & (for B339 being Ordinal holds ((B339 in ( succ B335 ) & B339 <> ( {} ) & B339 is  limit_ordinal) implies ( B337 . B339 ) = H19(B339 , ( B337 | B339 ))))))))) by L1238;
L1246: (for R15 being Ordinal holds H21(( succ R15 )) = H20(R15 , H21(R15))) from ORDINAL2:sch 9(L1245);
thus L1247: thesis by L1246;
end;
theorem
L1248: (for R11 being non  empty set holds (for R12 being  lower-bounded LATTICE holds (for R13 being T-Sequence holds (for R15 being Ordinal holds (for B340 being (BiFunction of R11 , R12) holds (for B341 being (QuadrSeq of B340) holds ((R15 <> ( {} ) & R15 is  limit_ordinal & ( dom R13 ) = R15 & (for B342 being Ordinal holds (B342 in R15 implies ( R13 . B342 ) = ( ConsecutiveDelta (B341 , B342) )))) implies ( ConsecutiveDelta (B341 , R15) ) = ( union ( rng R13 ) ))))))))
proof
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let R13 being T-Sequence;
let R15 being Ordinal;
deffunc H22(Ordinal , T-Sequence) = ( union ( rng $2 ) );
let C279 being (BiFunction of R11 , R12);
let C280 being (QuadrSeq of C279);
deffunc H23(Ordinal , set) = ( new_bi_fun (( BiFun ($2 , ( ConsecutiveSet (R11 , $1) ) , R12) ) , ( Quadr (C280 , $1) )) );
deffunc H24(Ordinal) = ( ConsecutiveDelta (C280 , $1) );
assume that
L1249: (R15 <> ( {} ) & R15 is  limit_ordinal)
and
L1250: ( dom R13 ) = R15
and
L1251: (for B343 being Ordinal holds (B343 in R15 implies ( R13 . B343 ) = H24(B343)));
L1252: (for B344 being Ordinal holds (for B345 being set holds (B345 = H24(B344) iff (ex B346 being T-Sequence st (B345 = ( last B346 ) & ( dom B346 ) = ( succ B344 ) & ( B346 . ( {} ) ) = C279 & (for B347 being Ordinal holds (( succ B347 ) in ( succ B344 ) implies ( B346 . ( succ B347 ) ) = H23(B347 , ( B346 . B347 )))) & (for B348 being Ordinal holds ((B348 in ( succ B344 ) & B348 <> ( {} ) & B348 is  limit_ordinal) implies ( B346 . B348 ) = H22(B348 , ( B346 | B348 ))))))))) by L1238;
thus L1253: H24(R15) = H22(R15 , R13) from ORDINAL2:sch 10(L1252 , L1249 , L1250 , L1251);
end;
theorem
L1254: (for R11 being non  empty set holds (for R16 being Ordinal holds (for R17 being Ordinal holds (R16 c= R17 implies ( ConsecutiveSet (R11 , R16) ) c= ( ConsecutiveSet (R11 , R17) )))))
proof
let R11 being non  empty set;
let R16 being Ordinal;
let R17 being Ordinal;
defpred S7[ Ordinal ] means (R16 c= $1 implies ( ConsecutiveSet (R11 , R16) ) c= ( ConsecutiveSet (R11 , $1) ));
L1255: (for R17 being Ordinal holds (S7[ R17 ] implies S7[ ( succ R17 ) ]))
proof
let R17 being Ordinal;
assume L1256: (R16 c= R17 implies ( ConsecutiveSet (R11 , R16) ) c= ( ConsecutiveSet (R11 , R17) ));
assume L1257: R16 c= ( succ R17 );
per cases ;
suppose L1258: R16 = ( succ R17 );

thus L1259: thesis by L1258;
end;
suppose L1260: R16 <> ( succ R17 );

L1261: R16 c< ( succ R17 ) by L1260 , L1257 , XBOOLE_0:def 8;
L1262: R16 in ( succ R17 ) by L1261 , ORDINAL1:11;
L1263: ( ConsecutiveSet (R11 , R17) ) c= ( new_set ( ConsecutiveSet (R11 , R17) ) ) by XBOOLE_1:7;
L1264: ( ConsecutiveSet (R11 , R16) ) c= ( new_set ( ConsecutiveSet (R11 , R17) ) ) by L1263 , L1256 , L1262 , ORDINAL1:22 , XBOOLE_1:1;
thus L1265: thesis by L1264 , L1153;
end;
end;
L1267: (for R17 being Ordinal holds ((R17 <> ( {} ) & R17 is  limit_ordinal & (for R18 being Ordinal holds (R18 in R17 implies S7[ R18 ]))) implies S7[ R17 ]))
proof
deffunc H25(Ordinal) = ( ConsecutiveSet (R11 , $1) );
let R17 being Ordinal;
assume that
L1268: (R17 <> ( {} ) & R17 is  limit_ordinal)
and
L1269: (for R18 being Ordinal holds (R18 in R17 implies (R16 c= R18 implies ( ConsecutiveSet (R11 , R16) ) c= ( ConsecutiveSet (R11 , R18) ))));
consider C281 being T-Sequence such that L1270: (( dom C281 ) = R17 & (for B349 being Ordinal holds (B349 in R17 implies ( C281 . B349 ) = H25(B349)))) from ORDINAL2:sch 2;
L1271: ( ConsecutiveSet (R11 , R17) ) = ( union ( rng C281 ) ) by L1268 , L1270 , L1157;
assume L1272: R16 c= R17;
per cases ;
suppose L1273: R16 = R17;

thus L1274: thesis by L1273;
end;
suppose L1275: R16 <> R17;

L1276: R16 c< R17 by L1275 , L1272 , XBOOLE_0:def 8;
L1277: R16 in R17 by L1276 , ORDINAL1:11;
L1278: ( C281 . R16 ) in ( rng C281 ) by L1277 , L1270 , FUNCT_1:def 3;
L1279: ( C281 . R16 ) = ( ConsecutiveSet (R11 , R16) ) by L1270 , L1276 , ORDINAL1:11;
thus L1280: thesis by L1279 , L1271 , L1278 , ZFMISC_1:74;
end;
end;
L1282: S7[ ( {} ) ];
L1283: (for R17 being Ordinal holds S7[ R17 ]) from ORDINAL2:sch 1(L1282 , L1255 , L1267);
thus L1284: thesis by L1283;
end;
theorem
L1285: (for R11 being non  empty set holds (for R12 being  lower-bounded LATTICE holds (for R15 being Ordinal holds (for B350 being (BiFunction of R11 , R12) holds (for B351 being (QuadrSeq of B350) holds ( ConsecutiveDelta (B351 , R15) ) is (BiFunction of ( ConsecutiveSet (R11 , R15) ) , R12))))))
proof
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let R15 being Ordinal;
let C282 being (BiFunction of R11 , R12);
let C283 being (QuadrSeq of C282);
defpred S8[ Ordinal ] means ( ConsecutiveDelta (C283 , $1) ) is (BiFunction of ( ConsecutiveSet (R11 , $1) ) , R12);
L1286: (for R16 being Ordinal holds (S8[ R16 ] implies S8[ ( succ R16 ) ]))
proof
let R16 being Ordinal;
assume L1287: ( ConsecutiveDelta (C283 , R16) ) is (BiFunction of ( ConsecutiveSet (R11 , R16) ) , R12);
reconsider D178 = ( ConsecutiveDelta (C283 , R16) ) as (BiFunction of ( ConsecutiveSet (R11 , R16) ) , R12) by L1287;
L1288: ( ConsecutiveSet (R11 , ( succ R16 )) ) = ( new_set ( ConsecutiveSet (R11 , R16) ) ) by L1153;
L1289: ( ConsecutiveDelta (C283 , ( succ R16 )) ) = ( new_bi_fun (( BiFun (( ConsecutiveDelta (C283 , R16) ) , ( ConsecutiveSet (R11 , R16) ) , R12) ) , ( Quadr (C283 , R16) )) ) by L1244
.= ( new_bi_fun (D178 , ( Quadr (C283 , R16) )) ) by L1236;
thus L1290: thesis by L1289 , L1288;
end;
L1291: (for R16 being Ordinal holds ((R16 <> ( {} ) & R16 is  limit_ordinal & (for R17 being Ordinal holds (R17 in R16 implies S8[ R17 ]))) implies S8[ R16 ]))
proof
deffunc H26(Ordinal) = ( ConsecutiveDelta (C283 , $1) );
let R16 being Ordinal;
assume that
L1292: R16 <> ( {} )
and
L1293: R16 is  limit_ordinal
and
L1294: (for R17 being Ordinal holds (R17 in R16 implies ( ConsecutiveDelta (C283 , R17) ) is (BiFunction of ( ConsecutiveSet (R11 , R17) ) , R12)));
consider C284 being T-Sequence such that L1295: (( dom C284 ) = R16 & (for B352 being Ordinal holds (B352 in R16 implies ( C284 . B352 ) = H26(B352)))) from ORDINAL2:sch 2;
L1296: (for R15 being Ordinal holds (for R17 being Ordinal holds ((R15 c= R17 & R17 in ( dom C284 )) implies ( C284 . R15 ) c= ( C284 . R17 ))))
proof
let R15 being Ordinal;
defpred S9[ Ordinal ] means ((R15 c= $1 & $1 in ( dom C284 )) implies ( C284 . R15 ) c= ( C284 . $1 ));
L1297: (for R17 being Ordinal holds ((R17 <> ( {} ) & R17 is  limit_ordinal & (for R18 being Ordinal holds (R18 in R17 implies S9[ R18 ]))) implies S9[ R17 ]))
proof
deffunc H27(Ordinal) = ( ConsecutiveDelta (C283 , $1) );
let R17 being Ordinal;
assume that
L1298: (R17 <> ( {} ) & R17 is  limit_ordinal)
and
L1299: (for R18 being Ordinal holds (R18 in R17 implies ((R15 c= R18 & R18 in ( dom C284 )) implies ( C284 . R15 ) c= ( C284 . R18 ))));
assume that
L1300: R15 c= R17
and
L1301: R17 in ( dom C284 );
consider C285 being T-Sequence such that L1302: (( dom C285 ) = R17 & (for B353 being Ordinal holds (B353 in R17 implies ( C285 . B353 ) = H27(B353)))) from ORDINAL2:sch 2;
L1303: ( C284 . R17 ) = ( ConsecutiveDelta (C283 , R17) ) by L1295 , L1301
.= ( union ( rng C285 ) ) by L1298 , L1302 , L1248;
per cases ;
suppose L1304: R15 = R17;

thus L1305: thesis by L1304;
end;
suppose L1306: R15 <> R17;

L1307: R15 c< R17 by L1306 , L1300 , XBOOLE_0:def 8;
L1308: R15 in R17 by L1307 , ORDINAL1:11;
L1309: ( C284 . R15 ) = ( ConsecutiveDelta (C283 , R15) ) by L1308 , L1295 , L1301 , ORDINAL1:10
.= ( C285 . R15 ) by L1302 , L1307 , ORDINAL1:11;
L1310: ( C284 . R15 ) in ( rng C285 ) by L1309 , L1302 , L1308 , FUNCT_1:def 3;
thus L1311: thesis by L1310 , L1303 , ZFMISC_1:74;
end;
end;
L1313: (for R17 being Ordinal holds (S9[ R17 ] implies S9[ ( succ R17 ) ]))
proof
let R17 being Ordinal;
assume L1314: ((R15 c= R17 & R17 in ( dom C284 )) implies ( C284 . R15 ) c= ( C284 . R17 ));
assume that
L1315: R15 c= ( succ R17 )
and
L1316: ( succ R17 ) in ( dom C284 );
per cases ;
suppose L1317: R15 = ( succ R17 );

thus L1318: thesis by L1317;
end;
suppose L1319: R15 <> ( succ R17 );

L1320: R15 c< ( succ R17 ) by L1319 , L1315 , XBOOLE_0:def 8;
L1321: R15 in ( succ R17 ) by L1320 , ORDINAL1:11;
L1322: R17 in ( succ R17 ) by ORDINAL1:6;
L1323: R17 in ( dom C284 ) by L1322 , L1316 , ORDINAL1:10;
reconsider D179 = ( ConsecutiveDelta (C283 , R17) ) as (BiFunction of ( ConsecutiveSet (R11 , R17) ) , R12) by L1323 , L1294 , L1295;
L1324: ( C284 . ( succ R17 ) ) = ( ConsecutiveDelta (C283 , ( succ R17 )) ) by L1295 , L1316
.= ( new_bi_fun (( BiFun (( ConsecutiveDelta (C283 , R17) ) , ( ConsecutiveSet (R11 , R17) ) , R12) ) , ( Quadr (C283 , R17) )) ) by L1244
.= ( new_bi_fun (D179 , ( Quadr (C283 , R17) )) ) by L1236;
L1325: ( ConsecutiveDelta (C283 , R17) ) c= ( C284 . ( succ R17 ) ) by L1324 , L1125;
L1326: ( C284 . R17 ) c= ( C284 . ( succ R17 ) ) by L1325 , L1295 , L1316 , L1322 , ORDINAL1:10;
thus L1327: thesis by L1326 , L1314 , L1316 , L1321 , L1322 , ORDINAL1:10 , ORDINAL1:22 , XBOOLE_1:1;
end;
end;
L1329: S9[ ( {} ) ];
thus L1330: (for R17 being Ordinal holds S9[ R17 ]) from ORDINAL2:sch 1(L1329 , L1313 , L1297);
end;
L1331: (for B354 , B355 being set holds ((B354 in ( rng C284 ) & B355 in ( rng C284 )) implies B354 , B355 are_c=-comparable ))
proof
let C286 , C287 being set;
assume that
L1332: C286 in ( rng C284 )
and
L1333: C287 in ( rng C284 );
consider C288 being set such that L1334: C288 in ( dom C284 ) and L1335: ( C284 . C288 ) = C286 by L1332 , FUNCT_1:def 3;
consider C289 being set such that L1336: C289 in ( dom C284 ) and L1337: ( C284 . C289 ) = C287 by L1333 , FUNCT_1:def 3;
reconsider D180 = C288 , D181 = C289 as Ordinal by L1334 , L1336;
L1338: (D180 c= D181 or D181 c= D180);
L1339: (C286 c= C287 or C287 c= C286) by L1338 , L1296 , L1334 , L1335 , L1336 , L1337;
thus L1340: thesis by L1339 , XBOOLE_0:def 9;
end;
L1341: ( rng C284 ) is  c=-linear by L1331 , ORDINAL1:def 8;
set D182 = (the carrier of R12);
set D183 = [: ( ConsecutiveSet (R11 , R16) ) , ( ConsecutiveSet (R11 , R16) ) :];
set D184 = ( union ( rng C284 ) );
L1342: ( rng C284 ) c= ( PFuncs (D183 , D182) )
proof
let C290 being set;
assume L1343: C290 in ( rng C284 );
consider C291 being set such that L1344: C291 in ( dom C284 ) and L1345: C290 = ( C284 . C291 ) by L1343 , FUNCT_1:def 3;
reconsider D185 = C291 as Ordinal by L1344;
L1346: ( C284 . D185 ) = ( ConsecutiveDelta (C283 , D185) ) by L1295 , L1344;
reconsider D186 = ( C284 . D185 ) as (BiFunction of ( ConsecutiveSet (R11 , D185) ) , R12) by L1346 , L1294 , L1295 , L1344;
L1347: D185 c= R16 by L1295 , L1344 , ORDINAL1:def 2;
L1348: (( dom D186 ) = [: ( ConsecutiveSet (R11 , D185) ) , ( ConsecutiveSet (R11 , D185) ) :] & ( ConsecutiveSet (R11 , D185) ) c= ( ConsecutiveSet (R11 , R16) )) by L1347 , L1254 , FUNCT_2:def 1;
L1349: (( rng D186 ) c= D182 & ( dom D186 ) c= D183) by L1348 , ZFMISC_1:96;
thus L1350: thesis by L1349 , L1345 , PARTFUN1:def 3;
end;
L1351: D184 in ( PFuncs (D183 , D182) ) by L1342 , L1341 , TREES_2:40;
L1352: (ex B356 being Function st (D184 = B356 & ( dom B356 ) c= D183 & ( rng B356 ) c= D182)) by L1351 , PARTFUN1:def 3;
reconsider D187 = R16 as non  empty Ordinal by L1292;
set D188 = { [: ( ConsecutiveSet (R11 , B357) ) , ( ConsecutiveSet (R11 , B357) ) :] where B357 is (Element of D187) : (not contradiction) };
deffunc H28(Ordinal) = ( ConsecutiveSet (R11 , $1) );
consider C292 being T-Sequence such that L1353: (( dom C292 ) = R16 & (for B358 being Ordinal holds (B358 in R16 implies ( C292 . B358 ) = H28(B358)))) from ORDINAL2:sch 2;
L1354: C284 is  Function-yielding
proof
let C293 being set;
assume L1355: C293 in ( dom C284 );
reconsider D189 = C293 as Ordinal by L1355;
L1356: ( C284 . D189 ) = ( ConsecutiveDelta (C283 , D189) ) by L1295 , L1355;
thus L1357: thesis by L1356 , L1294 , L1295 , L1355;
end;
reconsider D190 = C284 as  Function-yielding Function by L1354;
L1358: ( rng ( doms C284 ) ) = D188
proof
thus L1359: ( rng ( doms C284 ) ) c= D188
proof
let C294 being set;
assume L1360: C294 in ( rng ( doms C284 ) );
consider C295 being set such that L1361: C295 in ( dom ( doms C284 ) ) and L1362: C294 = ( ( doms C284 ) . C295 ) by L1360 , FUNCT_1:def 3;
L1363: C295 in ( dom D190 ) by L1361 , FUNCT_6:59;
reconsider D191 = C295 as (Element of D187) by L1363 , L1295;
L1364: ( C284 . D191 ) = ( ConsecutiveDelta (C283 , D191) ) by L1295;
reconsider D192 = ( C284 . D191 ) as (BiFunction of ( ConsecutiveSet (R11 , D191) ) , R12) by L1364 , L1294;
L1365: C294 = ( dom D192 ) by L1362 , L1363 , FUNCT_6:22
.= [: ( ConsecutiveSet (R11 , D191) ) , ( ConsecutiveSet (R11 , D191) ) :] by FUNCT_2:def 1;
thus L1366: thesis by L1365;
end;

let C296 being set;
assume L1367: C296 in D188;
consider C297 being (Element of D187) such that L1368: C296 = [: ( ConsecutiveSet (R11 , C297) ) , ( ConsecutiveSet (R11 , C297) ) :] by L1367;
L1369: ( C284 . C297 ) = ( ConsecutiveDelta (C283 , C297) ) by L1295;
reconsider D193 = ( C284 . C297 ) as (BiFunction of ( ConsecutiveSet (R11 , C297) ) , R12) by L1369 , L1294;
L1370: C297 in ( dom D190 ) by L1295;
L1371: C297 in ( dom ( doms D190 ) ) by L1370 , FUNCT_6:59;
L1372: C296 = ( dom D193 ) by L1368 , FUNCT_2:def 1
.= ( ( doms C284 ) . C297 ) by L1295 , FUNCT_6:22;
thus L1373: thesis by L1372 , L1371 , FUNCT_1:def 3;
end;
L1374: ( {} ) in R16 by L1292 , ORDINAL3:8;
reconsider D194 = ( rng C292 ) as non  empty set by L1374 , L1353 , FUNCT_1:3;
reconsider D195 = D184 as Function by L1352;
L1375: ( dom D195 ) = ( union ( rng ( doms D190 ) ) ) by L1;
L1376: D188 = { [: B359 , B359 :] where B359 is (Element of D194) : B359 in D194 }
proof
set D196 = { [: B360 , B360 :] where B360 is (Element of D194) : B360 in D194 };
thus L1377: D188 c= D196
proof
let C298 being set;
assume L1378: C298 in D188;
consider C299 being (Element of D187) such that L1379: C298 = [: ( ConsecutiveSet (R11 , C299) ) , ( ConsecutiveSet (R11 , C299) ) :] by L1378;
L1380: ( C292 . C299 ) = ( ConsecutiveSet (R11 , C299) ) by L1353;
reconsider D197 = ( ConsecutiveSet (R11 , C299) ) as (Element of D194) by L1380 , L1353 , FUNCT_1:def 3;
L1381: C298 = [: D197 , D197 :] by L1379;
thus L1382: thesis by L1381;
end;

let C300 being set;
assume L1383: C300 in D196;
consider C301 being (Element of D194) such that L1384: C300 = [: C301 , C301 :] and L1385: C301 in D194 by L1383;
consider C302 being set such that L1386: C302 in ( dom C292 ) and L1387: C301 = ( C292 . C302 ) by FUNCT_1:def 3;
reconsider D198 = C302 as Ordinal by L1386;
L1388: C301 = ( ConsecutiveSet (R11 , D198) ) by L1353 , L1386 , L1387;
thus L1389: thesis by L1388 , L1353 , L1384 , L1386;
end;
L1390: (for B361 , B362 being set holds ((B361 in D194 & B362 in D194) implies B361 , B362 are_c=-comparable ))
proof
let C303 , C304 being set;
assume that
L1391: C303 in D194
and
L1392: C304 in D194;
consider C305 being set such that L1393: C305 in ( dom C292 ) and L1394: ( C292 . C305 ) = C303 by L1391 , FUNCT_1:def 3;
consider C306 being set such that L1395: C306 in ( dom C292 ) and L1396: ( C292 . C306 ) = C304 by L1392 , FUNCT_1:def 3;
reconsider D199 = C305 , D200 = C306 as Ordinal by L1393 , L1395;
L1397: ( C292 . D200 ) = ( ConsecutiveSet (R11 , D200) ) by L1353 , L1395;
L1398: (D199 c= D200 or D200 c= D199);
L1399: ( C292 . D199 ) = ( ConsecutiveSet (R11 , D199) ) by L1353 , L1393;
L1400: (C303 c= C304 or C304 c= C303) by L1399 , L1394 , L1396 , L1397 , L1398 , L1254;
thus L1401: thesis by L1400 , XBOOLE_0:def 9;
end;
L1402: D194 is  c=-linear by L1390 , ORDINAL1:def 8;
L1403: ( ConsecutiveDelta (C283 , R16) ) = ( union ( rng C284 ) ) by L1292 , L1293 , L1295 , L1248;
L1404: D183 = [: ( union ( rng C292 ) ) , ( ConsecutiveSet (R11 , R16) ) :] by L1292 , L1293 , L1353 , L1157
.= [: ( union D194 ) , ( union D194 ) :] by L1292 , L1293 , L1353 , L1157
.= ( dom D195 ) by L1375 , L1358 , L1402 , L1376 , L50;
thus L1405: thesis by L1404 , L1403 , L1352 , FUNCT_2:def 1 , RELSET_1:4;
end;
L1406: ( ConsecutiveSet (R11 , ( {} )) ) = R11 by L1150;
L1407: S8[ ( {} ) ] by L1406 , L1241;
L1408: (for R15 being Ordinal holds S8[ R15 ]) from ORDINAL2:sch 1(L1407 , L1286 , L1291);
thus L1409: thesis by L1408;
end;
definition
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let C307 being (BiFunction of R11 , R12);
let C308 being (QuadrSeq of C307);
let R15 being Ordinal;
redefine func ConsecutiveDelta (C308 , R15) -> (BiFunction of ( ConsecutiveSet (R11 , R15) ) , R12);

coherence by L1285;
end;
theorem
L1411: (for R11 being non  empty set holds (for R12 being  lower-bounded LATTICE holds (for R15 being Ordinal holds (for B363 being (BiFunction of R11 , R12) holds (for B364 being (QuadrSeq of B363) holds B363 c= ( ConsecutiveDelta (B364 , R15) ))))))
proof
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let R15 being Ordinal;
let C309 being (BiFunction of R11 , R12);
let C310 being (QuadrSeq of C309);
defpred S10[ Ordinal ] means C309 c= ( ConsecutiveDelta (C310 , $1) );
L1412: (for R17 being Ordinal holds ((R17 <> ( {} ) & R17 is  limit_ordinal & (for R16 being Ordinal holds (R16 in R17 implies S10[ R16 ]))) implies S10[ R17 ]))
proof
deffunc H29(Ordinal) = ( ConsecutiveDelta (C310 , $1) );
let R17 being Ordinal;
assume that
L1413: R17 <> ( {} )
and
L1414: R17 is  limit_ordinal
and
L1415: (for R16 being Ordinal holds (R16 in R17 implies C309 c= ( ConsecutiveDelta (C310 , R16) )));
L1416: ( {} ) in R17 by L1413 , ORDINAL3:8;
consider C311 being T-Sequence such that L1417: (( dom C311 ) = R17 & (for B365 being Ordinal holds (B365 in R17 implies ( C311 . B365 ) = H29(B365)))) from ORDINAL2:sch 2;
L1418: ( C311 . ( {} ) ) = ( ConsecutiveDelta (C310 , ( {} )) ) by L1413 , L1417 , ORDINAL3:8
.= C309 by L1241;
L1419: C309 in ( rng C311 ) by L1418 , L1417 , L1416 , FUNCT_1:def 3;
L1420: ( ConsecutiveDelta (C310 , R17) ) = ( union ( rng C311 ) ) by L1413 , L1414 , L1417 , L1248;
thus L1421: thesis by L1420 , L1419 , ZFMISC_1:74;
end;
L1422: (for R16 being Ordinal holds (S10[ R16 ] implies S10[ ( succ R16 ) ]))
proof
let R16 being Ordinal;
L1423: ( ConsecutiveDelta (C310 , ( succ R16 )) ) = ( new_bi_fun (( BiFun (( ConsecutiveDelta (C310 , R16) ) , ( ConsecutiveSet (R11 , R16) ) , R12) ) , ( Quadr (C310 , R16) )) ) by L1244
.= ( new_bi_fun (( ConsecutiveDelta (C310 , R16) ) , ( Quadr (C310 , R16) )) ) by L1236;
L1424: ( ConsecutiveDelta (C310 , R16) ) c= ( ConsecutiveDelta (C310 , ( succ R16 )) ) by L1423 , L1125;
assume L1425: C309 c= ( ConsecutiveDelta (C310 , R16) );
thus L1426: thesis by L1425 , L1424 , XBOOLE_1:1;
end;
L1427: S10[ ( {} ) ] by L1241;
L1428: (for R15 being Ordinal holds S10[ R15 ]) from ORDINAL2:sch 1(L1427 , L1422 , L1412);
thus L1429: thesis by L1428;
end;
theorem
L1430: (for R11 being non  empty set holds (for R12 being  lower-bounded LATTICE holds (for R16 being Ordinal holds (for R17 being Ordinal holds (for B366 being (BiFunction of R11 , R12) holds (for B367 being (QuadrSeq of B366) holds (R16 c= R17 implies ( ConsecutiveDelta (B367 , R16) ) c= ( ConsecutiveDelta (B367 , R17) ))))))))
proof
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let R16 being Ordinal;
let R17 being Ordinal;
let C312 being (BiFunction of R11 , R12);
let C313 being (QuadrSeq of C312);
defpred S11[ Ordinal ] means (R16 c= $1 implies ( ConsecutiveDelta (C313 , R16) ) c= ( ConsecutiveDelta (C313 , $1) ));
L1431: (for R17 being Ordinal holds ((R17 <> ( {} ) & R17 is  limit_ordinal & (for R18 being Ordinal holds (R18 in R17 implies S11[ R18 ]))) implies S11[ R17 ]))
proof
deffunc H30(Ordinal) = ( ConsecutiveDelta (C313 , $1) );
let R17 being Ordinal;
assume that
L1432: (R17 <> ( {} ) & R17 is  limit_ordinal)
and
L1433: (for R18 being Ordinal holds (R18 in R17 implies (R16 c= R18 implies ( ConsecutiveDelta (C313 , R16) ) c= ( ConsecutiveDelta (C313 , R18) ))));
consider C314 being T-Sequence such that L1434: (( dom C314 ) = R17 & (for B368 being Ordinal holds (B368 in R17 implies ( C314 . B368 ) = H30(B368)))) from ORDINAL2:sch 2;
L1435: ( ConsecutiveDelta (C313 , R17) ) = ( union ( rng C314 ) ) by L1432 , L1434 , L1248;
assume L1436: R16 c= R17;
per cases ;
suppose L1437: R16 = R17;

thus L1438: thesis by L1437;
end;
suppose L1439: R16 <> R17;

L1440: R16 c< R17 by L1439 , L1436 , XBOOLE_0:def 8;
L1441: R16 in R17 by L1440 , ORDINAL1:11;
L1442: ( C314 . R16 ) in ( rng C314 ) by L1441 , L1434 , FUNCT_1:def 3;
L1443: ( C314 . R16 ) = ( ConsecutiveDelta (C313 , R16) ) by L1434 , L1440 , ORDINAL1:11;
thus L1444: thesis by L1443 , L1435 , L1442 , ZFMISC_1:74;
end;
end;
L1446: (for R17 being Ordinal holds (S11[ R17 ] implies S11[ ( succ R17 ) ]))
proof
let R17 being Ordinal;
assume L1447: (R16 c= R17 implies ( ConsecutiveDelta (C313 , R16) ) c= ( ConsecutiveDelta (C313 , R17) ));
assume L1448: R16 c= ( succ R17 );
per cases ;
suppose L1449: R16 = ( succ R17 );

thus L1450: thesis by L1449;
end;
suppose L1451: R16 <> ( succ R17 );

L1452: R16 c< ( succ R17 ) by L1451 , L1448 , XBOOLE_0:def 8;
L1453: R16 in ( succ R17 ) by L1452 , ORDINAL1:11;
L1454: ( ConsecutiveDelta (C313 , ( succ R17 )) ) = ( new_bi_fun (( BiFun (( ConsecutiveDelta (C313 , R17) ) , ( ConsecutiveSet (R11 , R17) ) , R12) ) , ( Quadr (C313 , R17) )) ) by L1244
.= ( new_bi_fun (( ConsecutiveDelta (C313 , R17) ) , ( Quadr (C313 , R17) )) ) by L1236;
L1455: ( ConsecutiveDelta (C313 , R17) ) c= ( ConsecutiveDelta (C313 , ( succ R17 )) ) by L1454 , L1125;
thus L1456: thesis by L1455 , L1447 , L1453 , ORDINAL1:22 , XBOOLE_1:1;
end;
end;
L1458: S11[ ( {} ) ];
L1459: (for R17 being Ordinal holds S11[ R17 ]) from ORDINAL2:sch 1(L1458 , L1446 , L1431);
thus L1460: thesis by L1459;
end;
theorem
L1461: (for R11 being non  empty set holds (for R12 being  lower-bounded LATTICE holds (for R15 being Ordinal holds (for B369 being (BiFunction of R11 , R12) holds (B369 is  zeroed implies (for B370 being (QuadrSeq of B369) holds ( ConsecutiveDelta (B370 , R15) ) is  zeroed))))))
proof
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let R15 being Ordinal;
let C315 being (BiFunction of R11 , R12);
assume L1462: C315 is  zeroed;
let C316 being (QuadrSeq of C315);
defpred S12[ Ordinal ] means ( ConsecutiveDelta (C316 , $1) ) is  zeroed;
L1463: (for R16 being Ordinal holds (S12[ R16 ] implies S12[ ( succ R16 ) ]))
proof
let R16 being Ordinal;
assume L1464: ( ConsecutiveDelta (C316 , R16) ) is  zeroed;
L1465: ( new_bi_fun (( ConsecutiveDelta (C316 , R16) ) , ( Quadr (C316 , R16) )) ) is  zeroed by L1464 , L725;
let C317 being (Element of ( ConsecutiveSet (R11 , ( succ R16 )) ));
reconsider D201 = C317 as (Element of ( new_set ( ConsecutiveSet (R11 , R16) ) )) by L1153;
L1466: ( ConsecutiveDelta (C316 , ( succ R16 )) ) = ( new_bi_fun (( BiFun (( ConsecutiveDelta (C316 , R16) ) , ( ConsecutiveSet (R11 , R16) ) , R12) ) , ( Quadr (C316 , R16) )) ) by L1244
.= ( new_bi_fun (( ConsecutiveDelta (C316 , R16) ) , ( Quadr (C316 , R16) )) ) by L1236;
thus L1467: ( ( ConsecutiveDelta (C316 , ( succ R16 )) ) . (C317 , C317) ) = ( ( new_bi_fun (( ConsecutiveDelta (C316 , R16) ) , ( Quadr (C316 , R16) )) ) . (D201 , D201) ) by L1466
.= ( Bottom R12 ) by L1465 , L455;
end;
L1468: (for R17 being Ordinal holds ((R17 <> ( {} ) & R17 is  limit_ordinal & (for R16 being Ordinal holds (R16 in R17 implies S12[ R16 ]))) implies S12[ R17 ]))
proof
deffunc H31(Ordinal) = ( ConsecutiveDelta (C316 , $1) );
let R17 being Ordinal;
assume that
L1469: (R17 <> ( {} ) & R17 is  limit_ordinal)
and
L1470: (for R16 being Ordinal holds (R16 in R17 implies ( ConsecutiveDelta (C316 , R16) ) is  zeroed));
set D202 = ( ConsecutiveSet (R11 , R17) );
consider C318 being T-Sequence such that L1471: (( dom C318 ) = R17 & (for B371 being Ordinal holds (B371 in R17 implies ( C318 . B371 ) = H31(B371)))) from ORDINAL2:sch 2;
L1472: ( ConsecutiveDelta (C316 , R17) ) = ( union ( rng C318 ) ) by L1469 , L1471 , L1248;
reconsider D203 = ( union ( rng C318 ) ) as (BiFunction of D202 , R12) by L1472;
deffunc H32(Ordinal) = ( ConsecutiveSet (R11 , $1) );
consider C319 being T-Sequence such that L1473: (( dom C319 ) = R17 & (for B372 being Ordinal holds (B372 in R17 implies ( C319 . B372 ) = H32(B372)))) from ORDINAL2:sch 2;
L1474: ( ConsecutiveSet (R11 , R17) ) = ( union ( rng C319 ) ) by L1469 , L1473 , L1157;
L1475: D203 is  zeroed
proof
let C320 being (Element of D202);
consider C321 being set such that L1476: C320 in C321 and L1477: C321 in ( rng C319 ) by L1474 , TARSKI:def 4;
consider C322 being set such that L1478: C322 in ( dom C319 ) and L1479: C321 = ( C319 . C322 ) by L1477 , FUNCT_1:def 3;
reconsider D204 = C322 as Ordinal by L1478;
L1480: ( C318 . D204 ) = ( ConsecutiveDelta (C316 , D204) ) by L1471 , L1473 , L1478;
reconsider D205 = ( C318 . D204 ) as (BiFunction of ( ConsecutiveSet (R11 , D204) ) , R12) by L1480;
reconsider D206 = C320 as (Element of ( ConsecutiveSet (R11 , D204) )) by L1473 , L1476 , L1478 , L1479;
L1481: ( dom D205 ) = [: ( ConsecutiveSet (R11 , D204) ) , ( ConsecutiveSet (R11 , D204) ) :] by FUNCT_2:def 1;
L1482: D205 is  zeroed
proof
let C323 being (Element of ( ConsecutiveSet (R11 , D204) ));
L1483: ( ConsecutiveDelta (C316 , D204) ) is  zeroed by L1470 , L1473 , L1478;
thus L1484: ( D205 . (C323 , C323) ) = ( ( ConsecutiveDelta (C316 , D204) ) . (C323 , C323) ) by L1471 , L1473 , L1478
.= ( Bottom R12 ) by L1483 , L455;
end;
L1485: ( ConsecutiveDelta (C316 , D204) ) in ( rng C318 ) by L1471 , L1473 , L1478 , L1480 , FUNCT_1:def 3;
L1486: D205 c= D203 by L1485 , L1480 , ZFMISC_1:74;
L1487: C320 in ( ConsecutiveSet (R11 , D204) ) by L1473 , L1476 , L1478 , L1479;
L1488: [ C320 , C320 ] in ( dom D205 ) by L1487 , L1481 , ZFMISC_1:87;
thus L1489: ( D203 . (C320 , C320) ) = ( D205 . (D206 , D206) ) by L1488 , L1486 , GRFUNC_1:2
.= ( Bottom R12 ) by L1482 , L455;
end;
thus L1490: thesis by L1475 , L1469 , L1471 , L1248;
end;
L1491: S12[ ( {} ) ]
proof
let C324 being (Element of ( ConsecutiveSet (R11 , ( {} )) ));
reconsider D207 = C324 as (Element of R11) by L1150;
thus L1492: ( ( ConsecutiveDelta (C316 , ( {} )) ) . (C324 , C324) ) = ( C315 . (D207 , D207) ) by L1241
.= ( Bottom R12 ) by L1462 , L455;
end;
L1493: (for R15 being Ordinal holds S12[ R15 ]) from ORDINAL2:sch 1(L1491 , L1463 , L1468);
thus L1494: thesis by L1493;
end;
theorem
L1495: (for R11 being non  empty set holds (for R12 being  lower-bounded LATTICE holds (for R15 being Ordinal holds (for B373 being (BiFunction of R11 , R12) holds (B373 is  symmetric implies (for B374 being (QuadrSeq of B373) holds ( ConsecutiveDelta (B374 , R15) ) is  symmetric))))))
proof
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let R15 being Ordinal;
let C325 being (BiFunction of R11 , R12);
assume L1496: C325 is  symmetric;
let C326 being (QuadrSeq of C325);
defpred S13[ Ordinal ] means ( ConsecutiveDelta (C326 , $1) ) is  symmetric;
L1497: (for R16 being Ordinal holds (S13[ R16 ] implies S13[ ( succ R16 ) ]))
proof
let R16 being Ordinal;
assume L1498: ( ConsecutiveDelta (C326 , R16) ) is  symmetric;
L1499: ( new_bi_fun (( ConsecutiveDelta (C326 , R16) ) , ( Quadr (C326 , R16) )) ) is  symmetric by L1498 , L735;
let C327 , C328 being (Element of ( ConsecutiveSet (R11 , ( succ R16 )) ));
reconsider D208 = C327 , D209 = C328 as (Element of ( new_set ( ConsecutiveSet (R11 , R16) ) )) by L1153;
L1500: ( ConsecutiveDelta (C326 , ( succ R16 )) ) = ( new_bi_fun (( BiFun (( ConsecutiveDelta (C326 , R16) ) , ( ConsecutiveSet (R11 , R16) ) , R12) ) , ( Quadr (C326 , R16) )) ) by L1244
.= ( new_bi_fun (( ConsecutiveDelta (C326 , R16) ) , ( Quadr (C326 , R16) )) ) by L1236;
thus L1501: ( ( ConsecutiveDelta (C326 , ( succ R16 )) ) . (C327 , C328) ) = ( ( new_bi_fun (( ConsecutiveDelta (C326 , R16) ) , ( Quadr (C326 , R16) )) ) . (D209 , D208) ) by L1500 , L1499 , L453
.= ( ( ConsecutiveDelta (C326 , ( succ R16 )) ) . (C328 , C327) ) by L1500;
end;
L1502: (for R17 being Ordinal holds ((R17 <> ( {} ) & R17 is  limit_ordinal & (for R16 being Ordinal holds (R16 in R17 implies S13[ R16 ]))) implies S13[ R17 ]))
proof
deffunc H33(Ordinal) = ( ConsecutiveDelta (C326 , $1) );
let R17 being Ordinal;
assume that
L1503: (R17 <> ( {} ) & R17 is  limit_ordinal)
and
L1504: (for R16 being Ordinal holds (R16 in R17 implies ( ConsecutiveDelta (C326 , R16) ) is  symmetric));
set D210 = ( ConsecutiveSet (R11 , R17) );
consider C329 being T-Sequence such that L1505: (( dom C329 ) = R17 & (for B375 being Ordinal holds (B375 in R17 implies ( C329 . B375 ) = H33(B375)))) from ORDINAL2:sch 2;
L1506: ( ConsecutiveDelta (C326 , R17) ) = ( union ( rng C329 ) ) by L1503 , L1505 , L1248;
reconsider D211 = ( union ( rng C329 ) ) as (BiFunction of D210 , R12) by L1506;
deffunc H34(Ordinal) = ( ConsecutiveSet (R11 , $1) );
consider C330 being T-Sequence such that L1507: (( dom C330 ) = R17 & (for B376 being Ordinal holds (B376 in R17 implies ( C330 . B376 ) = H34(B376)))) from ORDINAL2:sch 2;
L1508: ( ConsecutiveSet (R11 , R17) ) = ( union ( rng C330 ) ) by L1503 , L1507 , L1157;
L1509: D211 is  symmetric
proof
let C331 , C332 being (Element of D210);
consider C333 being set such that L1510: C331 in C333 and L1511: C333 in ( rng C330 ) by L1508 , TARSKI:def 4;
consider C334 being set such that L1512: C334 in ( dom C330 ) and L1513: C333 = ( C330 . C334 ) by L1511 , FUNCT_1:def 3;
consider C335 being set such that L1514: C332 in C335 and L1515: C335 in ( rng C330 ) by L1508 , TARSKI:def 4;
consider C336 being set such that L1516: C336 in ( dom C330 ) and L1517: C335 = ( C330 . C336 ) by L1515 , FUNCT_1:def 3;
reconsider D212 = C334 , D213 = C336 as Ordinal by L1512 , L1516;
L1518: C331 in ( ConsecutiveSet (R11 , D212) ) by L1507 , L1510 , L1512 , L1513;
L1519: ( C329 . D212 ) = ( ConsecutiveDelta (C326 , D212) ) by L1505 , L1507 , L1512;
reconsider D214 = ( C329 . D212 ) as (BiFunction of ( ConsecutiveSet (R11 , D212) ) , R12) by L1519;
L1520: D214 is  symmetric
proof
let C337 , C338 being (Element of ( ConsecutiveSet (R11 , D212) ));
L1521: ( ConsecutiveDelta (C326 , D212) ) is  symmetric by L1504 , L1507 , L1512;
thus L1522: ( D214 . (C337 , C338) ) = ( ( ConsecutiveDelta (C326 , D212) ) . (C337 , C338) ) by L1505 , L1507 , L1512
.= ( ( ConsecutiveDelta (C326 , D212) ) . (C338 , C337) ) by L1521 , L453
.= ( D214 . (C338 , C337) ) by L1505 , L1507 , L1512;
end;
L1523: ( dom D214 ) = [: ( ConsecutiveSet (R11 , D212) ) , ( ConsecutiveSet (R11 , D212) ) :] by FUNCT_2:def 1;
L1524: C332 in ( ConsecutiveSet (R11 , D213) ) by L1507 , L1514 , L1516 , L1517;
L1525: ( C329 . D213 ) = ( ConsecutiveDelta (C326 , D213) ) by L1505 , L1507 , L1516;
reconsider D215 = ( C329 . D213 ) as (BiFunction of ( ConsecutiveSet (R11 , D213) ) , R12) by L1525;
L1526: D215 is  symmetric
proof
let C339 , C340 being (Element of ( ConsecutiveSet (R11 , D213) ));
L1527: ( ConsecutiveDelta (C326 , D213) ) is  symmetric by L1504 , L1507 , L1516;
thus L1528: ( D215 . (C339 , C340) ) = ( ( ConsecutiveDelta (C326 , D213) ) . (C339 , C340) ) by L1505 , L1507 , L1516
.= ( ( ConsecutiveDelta (C326 , D213) ) . (C340 , C339) ) by L1527 , L453
.= ( D215 . (C340 , C339) ) by L1505 , L1507 , L1516;
end;
L1529: ( dom D215 ) = [: ( ConsecutiveSet (R11 , D213) ) , ( ConsecutiveSet (R11 , D213) ) :] by FUNCT_2:def 1;
per cases ;
suppose L1530: D212 c= D213;

L1531: ( ConsecutiveSet (R11 , D212) ) c= ( ConsecutiveSet (R11 , D213) ) by L1530 , L1254;
L1532: [ C332 , C331 ] in ( dom D215 ) by L1531 , L1518 , L1524 , L1529 , ZFMISC_1:87;
L1533: ( ConsecutiveDelta (C326 , D213) ) in ( rng C329 ) by L1505 , L1507 , L1516 , L1525 , FUNCT_1:def 3;
L1534: D215 c= D211 by L1533 , L1525 , ZFMISC_1:74;
reconsider D216 = C331 , D217 = C332 as (Element of ( ConsecutiveSet (R11 , D213) )) by L1507 , L1514 , L1516 , L1517 , L1518 , L1531;
L1535: [ C331 , C332 ] in ( dom D215 ) by L1518 , L1524 , L1529 , L1531 , ZFMISC_1:87;
thus L1536: ( D211 . (C331 , C332) ) = ( D215 . (D216 , D217) ) by L1535 , L1534 , GRFUNC_1:2
.= ( D215 . (D217 , D216) ) by L1526 , L453
.= ( D211 . (C332 , C331) ) by L1534 , L1532 , GRFUNC_1:2;
end;
suppose L1537: D213 c= D212;

L1538: ( ConsecutiveSet (R11 , D213) ) c= ( ConsecutiveSet (R11 , D212) ) by L1537 , L1254;
L1539: [ C332 , C331 ] in ( dom D214 ) by L1538 , L1518 , L1524 , L1523 , ZFMISC_1:87;
L1540: ( ConsecutiveDelta (C326 , D212) ) in ( rng C329 ) by L1505 , L1507 , L1512 , L1519 , FUNCT_1:def 3;
L1541: D214 c= D211 by L1540 , L1519 , ZFMISC_1:74;
reconsider D218 = C331 , D219 = C332 as (Element of ( ConsecutiveSet (R11 , D212) )) by L1507 , L1510 , L1512 , L1513 , L1524 , L1538;
L1542: [ C331 , C332 ] in ( dom D214 ) by L1518 , L1524 , L1523 , L1538 , ZFMISC_1:87;
thus L1543: ( D211 . (C331 , C332) ) = ( D214 . (D218 , D219) ) by L1542 , L1541 , GRFUNC_1:2
.= ( D214 . (D219 , D218) ) by L1520 , L453
.= ( D211 . (C332 , C331) ) by L1541 , L1539 , GRFUNC_1:2;
end;
end;
thus L1545: thesis by L1509 , L1503 , L1505 , L1248;
end;
L1546: S13[ ( {} ) ]
proof
let C341 , C342 being (Element of ( ConsecutiveSet (R11 , ( {} )) ));
reconsider D220 = C341 , D221 = C342 as (Element of R11) by L1150;
thus L1547: ( ( ConsecutiveDelta (C326 , ( {} )) ) . (C341 , C342) ) = ( C325 . (D220 , D221) ) by L1241
.= ( C325 . (D221 , D220) ) by L1496 , L453
.= ( ( ConsecutiveDelta (C326 , ( {} )) ) . (C342 , C341) ) by L1241;
end;
L1548: (for R15 being Ordinal holds S13[ R15 ]) from ORDINAL2:sch 1(L1546 , L1497 , L1502);
thus L1549: thesis by L1548;
end;
theorem
L1550: (for R11 being non  empty set holds (for R12 being  lower-bounded LATTICE holds (for R15 being Ordinal holds (for B377 being (BiFunction of R11 , R12) holds (B377 is  symmetric  u.t.i. implies (for B378 being (QuadrSeq of B377) holds (R15 c= ( DistEsti B377 ) implies ( ConsecutiveDelta (B378 , R15) ) is  u.t.i.)))))))
proof
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let R15 being Ordinal;
let C343 being (BiFunction of R11 , R12);
assume that
L1551: C343 is  symmetric
and
L1552: C343 is  u.t.i.;
let C344 being (QuadrSeq of C343);
defpred S14[ Ordinal ] means ($1 c= ( DistEsti C343 ) implies ( ConsecutiveDelta (C344 , $1) ) is  u.t.i.);
L1553: (for R16 being Ordinal holds (S14[ R16 ] implies S14[ ( succ R16 ) ]))
proof
let R16 being Ordinal;
assume that
L1554: (R16 c= ( DistEsti C343 ) implies ( ConsecutiveDelta (C344 , R16) ) is  u.t.i.)
and
L1555: ( succ R16 ) c= ( DistEsti C343 );
L1556: R16 in ( DistEsti C343 ) by L1555 , ORDINAL1:21;
L1557: R16 in ( dom C344 ) by L1556 , L1225;
L1558: ( C344 . R16 ) in ( rng C344 ) by L1557 , FUNCT_1:def 3;
L1559: ( C344 . R16 ) in { [ B379 , B380 , B381 , B382 ] where B379 is (Element of R11) , B380 is (Element of R11) , B381 is (Element of R12) , B382 is (Element of R12) : ( C343 . (B379 , B380) ) <= ( B381 "\/" B382 ) } by L1558 , L1201;
let C345 , C346 , C347 being (Element of ( ConsecutiveSet (R11 , ( succ R16 )) ));
L1560: ( ConsecutiveDelta (C344 , R16) ) is  symmetric by L1551 , L1495;
reconsider D222 = C345 , D223 = C346 , D224 = C347 as (Element of ( new_set ( ConsecutiveSet (R11 , R16) ) )) by L1153;
set D225 = ( new_bi_fun (( ConsecutiveDelta (C344 , R16) ) , ( Quadr (C344 , R16) )) );
set D226 = ( ( Quadr (C344 , R16) ) `1_4 );
set D227 = ( ( Quadr (C344 , R16) ) `2_4 );
reconsider D228 = ( ( Quadr (C344 , R16) ) `3_4 ) , D229 = ( ( Quadr (C344 , R16) ) `4_4 ) as (Element of R12);
L1561: (( dom C343 ) = [: R11 , R11 :] & C343 c= ( ConsecutiveDelta (C344 , R16) )) by L1411 , FUNCT_2:def 1;
consider C348 , C349 being (Element of R11), C350 , C351 being (Element of R12) such that L1562: ( C344 . R16 ) = [ C348 , C349 , C350 , C351 ] and L1563: ( C343 . (C348 , C349) ) <= ( C350 "\/" C351 ) by L1559;
L1564: ( Quadr (C344 , R16) ) = [ C348 , C349 , C350 , C351 ] by L1557 , L1562 , L1215;
L1565: (C348 = D226 & C349 = D227) by L1564 , MCART_1:def 8 , MCART_1:def 9;
L1566: (C350 = D228 & C351 = D229) by L1564 , MCART_1:def 10 , MCART_1:def 11;
L1567: ( C343 . (C348 , C349) ) = ( C343 . [ C348 , C349 ] )
.= ( ( ConsecutiveDelta (C344 , R16) ) . (D226 , D227) ) by L1565 , L1561 , GRFUNC_1:2;
L1568: ( new_bi_fun (( ConsecutiveDelta (C344 , R16) ) , ( Quadr (C344 , R16) )) ) is  u.t.i. by L1567 , L1554 , L1556 , L1560 , L1563 , L1566 , L772 , ORDINAL1:def 2;
L1569: ( D225 . (D222 , D224) ) <= ( ( D225 . (D222 , D223) ) "\/" ( D225 . (D223 , D224) ) ) by L1568 , L456;
L1570: ( ConsecutiveDelta (C344 , ( succ R16 )) ) = ( new_bi_fun (( BiFun (( ConsecutiveDelta (C344 , R16) ) , ( ConsecutiveSet (R11 , R16) ) , R12) ) , ( Quadr (C344 , R16) )) ) by L1244
.= ( new_bi_fun (( ConsecutiveDelta (C344 , R16) ) , ( Quadr (C344 , R16) )) ) by L1236;
thus L1571: ( ( ConsecutiveDelta (C344 , ( succ R16 )) ) . (C345 , C347) ) <= ( ( ( ConsecutiveDelta (C344 , ( succ R16 )) ) . (C345 , C346) ) "\/" ( ( ConsecutiveDelta (C344 , ( succ R16 )) ) . (C346 , C347) ) ) by L1570 , L1569;
end;
L1572: (for R17 being Ordinal holds ((R17 <> ( {} ) & R17 is  limit_ordinal & (for R16 being Ordinal holds (R16 in R17 implies S14[ R16 ]))) implies S14[ R17 ]))
proof
deffunc H35(Ordinal) = ( ConsecutiveDelta (C344 , $1) );
let R17 being Ordinal;
assume that
L1573: (R17 <> ( {} ) & R17 is  limit_ordinal)
and
L1574: (for R16 being Ordinal holds (R16 in R17 implies (R16 c= ( DistEsti C343 ) implies ( ConsecutiveDelta (C344 , R16) ) is  u.t.i.)))
and
L1575: R17 c= ( DistEsti C343 );
set D230 = ( ConsecutiveSet (R11 , R17) );
consider C352 being T-Sequence such that L1576: (( dom C352 ) = R17 & (for B383 being Ordinal holds (B383 in R17 implies ( C352 . B383 ) = H35(B383)))) from ORDINAL2:sch 2;
L1577: ( ConsecutiveDelta (C344 , R17) ) = ( union ( rng C352 ) ) by L1573 , L1576 , L1248;
reconsider D231 = ( union ( rng C352 ) ) as (BiFunction of D230 , R12) by L1577;
deffunc H36(Ordinal) = ( ConsecutiveSet (R11 , $1) );
consider C353 being T-Sequence such that L1578: (( dom C353 ) = R17 & (for B384 being Ordinal holds (B384 in R17 implies ( C353 . B384 ) = H36(B384)))) from ORDINAL2:sch 2;
L1579: ( ConsecutiveSet (R11 , R17) ) = ( union ( rng C353 ) ) by L1573 , L1578 , L1157;
L1580: D231 is  u.t.i.
proof
let C354 , C355 , C356 being (Element of D230);
consider C357 being set such that L1581: C354 in C357 and L1582: C357 in ( rng C353 ) by L1579 , TARSKI:def 4;
consider C358 being set such that L1583: C358 in ( dom C353 ) and L1584: C357 = ( C353 . C358 ) by L1582 , FUNCT_1:def 3;
consider C359 being set such that L1585: C355 in C359 and L1586: C359 in ( rng C353 ) by L1579 , TARSKI:def 4;
consider C360 being set such that L1587: C360 in ( dom C353 ) and L1588: C359 = ( C353 . C360 ) by L1586 , FUNCT_1:def 3;
consider C361 being set such that L1589: C356 in C361 and L1590: C361 in ( rng C353 ) by L1579 , TARSKI:def 4;
consider C362 being set such that L1591: C362 in ( dom C353 ) and L1592: C361 = ( C353 . C362 ) by L1590 , FUNCT_1:def 3;
reconsider D232 = C358 , D233 = C360 , D234 = C362 as Ordinal by L1583 , L1587 , L1591;
L1593: C354 in ( ConsecutiveSet (R11 , D232) ) by L1578 , L1581 , L1583 , L1584;
L1594: ( C352 . D234 ) = ( ConsecutiveDelta (C344 , D234) ) by L1576 , L1578 , L1591;
reconsider D235 = ( C352 . D234 ) as (BiFunction of ( ConsecutiveSet (R11 , D234) ) , R12) by L1594;
L1595: D235 is  u.t.i.
proof
let C363 , C364 , C365 being (Element of ( ConsecutiveSet (R11 , D234) ));
L1596: D234 c= ( DistEsti C343 ) by L1575 , L1578 , L1591 , ORDINAL1:def 2;
L1597: ( ConsecutiveDelta (C344 , D234) ) is  u.t.i. by L1596 , L1574 , L1578 , L1591;
L1598: ( ConsecutiveDelta (C344 , D234) ) = D235 by L1576 , L1578 , L1591;
thus L1599: ( D235 . (C363 , C365) ) <= ( ( D235 . (C363 , C364) ) "\/" ( D235 . (C364 , C365) ) ) by L1598 , L1597 , L456;
end;
L1600: ( dom D235 ) = [: ( ConsecutiveSet (R11 , D234) ) , ( ConsecutiveSet (R11 , D234) ) :] by FUNCT_2:def 1;
L1601: C356 in ( ConsecutiveSet (R11 , D234) ) by L1578 , L1589 , L1591 , L1592;
L1602: ( C352 . D233 ) = ( ConsecutiveDelta (C344 , D233) ) by L1576 , L1578 , L1587;
reconsider D236 = ( C352 . D233 ) as (BiFunction of ( ConsecutiveSet (R11 , D233) ) , R12) by L1602;
L1603: D236 is  u.t.i.
proof
let C366 , C367 , C368 being (Element of ( ConsecutiveSet (R11 , D233) ));
L1604: D233 c= ( DistEsti C343 ) by L1575 , L1578 , L1587 , ORDINAL1:def 2;
L1605: ( ConsecutiveDelta (C344 , D233) ) is  u.t.i. by L1604 , L1574 , L1578 , L1587;
L1606: ( ConsecutiveDelta (C344 , D233) ) = D236 by L1576 , L1578 , L1587;
thus L1607: ( D236 . (C366 , C368) ) <= ( ( D236 . (C366 , C367) ) "\/" ( D236 . (C367 , C368) ) ) by L1606 , L1605 , L456;
end;
L1608: ( dom D236 ) = [: ( ConsecutiveSet (R11 , D233) ) , ( ConsecutiveSet (R11 , D233) ) :] by FUNCT_2:def 1;
L1609: ( C352 . D232 ) = ( ConsecutiveDelta (C344 , D232) ) by L1576 , L1578 , L1583;
reconsider D237 = ( C352 . D232 ) as (BiFunction of ( ConsecutiveSet (R11 , D232) ) , R12) by L1609;
L1610: D237 is  u.t.i.
proof
let C369 , C370 , C371 being (Element of ( ConsecutiveSet (R11 , D232) ));
L1611: D232 c= ( DistEsti C343 ) by L1575 , L1578 , L1583 , ORDINAL1:def 2;
L1612: ( ConsecutiveDelta (C344 , D232) ) is  u.t.i. by L1611 , L1574 , L1578 , L1583;
L1613: ( ConsecutiveDelta (C344 , D232) ) = D237 by L1576 , L1578 , L1583;
thus L1614: ( D237 . (C369 , C371) ) <= ( ( D237 . (C369 , C370) ) "\/" ( D237 . (C370 , C371) ) ) by L1613 , L1612 , L456;
end;
L1615: ( dom D237 ) = [: ( ConsecutiveSet (R11 , D232) ) , ( ConsecutiveSet (R11 , D232) ) :] by FUNCT_2:def 1;
L1616: C355 in ( ConsecutiveSet (R11 , D233) ) by L1578 , L1585 , L1587 , L1588;
per cases ;
suppose L1617: D232 c= D234;

L1618: ( ConsecutiveSet (R11 , D232) ) c= ( ConsecutiveSet (R11 , D234) ) by L1617 , L1254;
thus L1619: ( ( D231 . (C354 , C355) ) "\/" ( D231 . (C355 , C356) ) ) >= ( D231 . (C354 , C356) )
proof
per cases ;
suppose L1620: D233 c= D234;

reconsider D238 = C356 as (Element of ( ConsecutiveSet (R11 , D234) )) by L1578 , L1589 , L1591 , L1592;
reconsider D239 = C354 as (Element of ( ConsecutiveSet (R11 , D234) )) by L1593 , L1618;
L1621: ( ConsecutiveDelta (C344 , D234) ) in ( rng C352 ) by L1576 , L1578 , L1591 , L1594 , FUNCT_1:def 3;
L1622: D235 c= D231 by L1621 , L1594 , ZFMISC_1:74;
L1623: ( ConsecutiveSet (R11 , D233) ) c= ( ConsecutiveSet (R11 , D234) ) by L1620 , L1254;
reconsider D240 = C355 as (Element of ( ConsecutiveSet (R11 , D234) )) by L1623 , L1616;
L1624: [ C355 , C356 ] in ( dom D235 ) by L1616 , L1601 , L1600 , L1623 , ZFMISC_1:87;
L1625: ( D231 . (C355 , C356) ) = ( D235 . (D240 , D238) ) by L1624 , L1622 , GRFUNC_1:2;
L1626: [ C354 , C356 ] in ( dom D235 ) by L1593 , L1601 , L1600 , L1618 , ZFMISC_1:87;
L1627: ( D231 . (C354 , C356) ) = ( D235 . (D239 , D238) ) by L1626 , L1622 , GRFUNC_1:2;
L1628: [ C354 , C355 ] in ( dom D235 ) by L1593 , L1616 , L1600 , L1618 , L1623 , ZFMISC_1:87;
L1629: ( D231 . (C354 , C355) ) = ( D235 . (D239 , D240) ) by L1628 , L1622 , GRFUNC_1:2;
thus L1630: thesis by L1629 , L1595 , L1625 , L1627 , L456;
end;
suppose L1631: D234 c= D233;

reconsider D241 = C355 as (Element of ( ConsecutiveSet (R11 , D233) )) by L1578 , L1585 , L1587 , L1588;
L1632: ( ConsecutiveDelta (C344 , D233) ) in ( rng C352 ) by L1576 , L1578 , L1587 , L1602 , FUNCT_1:def 3;
L1633: D236 c= D231 by L1632 , L1602 , ZFMISC_1:74;
L1634: ( ConsecutiveSet (R11 , D234) ) c= ( ConsecutiveSet (R11 , D233) ) by L1631 , L1254;
reconsider D242 = C356 as (Element of ( ConsecutiveSet (R11 , D233) )) by L1634 , L1601;
L1635: [ C355 , C356 ] in ( dom D236 ) by L1616 , L1601 , L1608 , L1634 , ZFMISC_1:87;
L1636: ( D231 . (C355 , C356) ) = ( D236 . (D241 , D242) ) by L1635 , L1633 , GRFUNC_1:2;
L1637: ( ConsecutiveSet (R11 , D232) ) c= ( ConsecutiveSet (R11 , D234) ) by L1617 , L1254;
L1638: ( ConsecutiveSet (R11 , D232) ) c= ( ConsecutiveSet (R11 , D233) ) by L1637 , L1634 , XBOOLE_1:1;
reconsider D243 = C354 as (Element of ( ConsecutiveSet (R11 , D233) )) by L1638 , L1593;
L1639: [ C354 , C355 ] in ( dom D236 ) by L1593 , L1616 , L1608 , L1638 , ZFMISC_1:87;
L1640: ( D231 . (C354 , C355) ) = ( D236 . (D243 , D241) ) by L1639 , L1633 , GRFUNC_1:2;
L1641: [ C354 , C356 ] in ( dom D236 ) by L1593 , L1601 , L1608 , L1634 , L1638 , ZFMISC_1:87;
L1642: ( D231 . (C354 , C356) ) = ( D236 . (D243 , D242) ) by L1641 , L1633 , GRFUNC_1:2;
thus L1643: thesis by L1642 , L1603 , L1640 , L1636 , L456;
end;
end;

end;
suppose L1620: D234 c= D232;

L1621: ( ConsecutiveSet (R11 , D234) ) c= ( ConsecutiveSet (R11 , D232) ) by L1620 , L1254;
thus L1622: ( ( D231 . (C354 , C355) ) "\/" ( D231 . (C355 , C356) ) ) >= ( D231 . (C354 , C356) )
proof
per cases ;
suppose L1623: D232 c= D233;

reconsider D244 = C355 as (Element of ( ConsecutiveSet (R11 , D233) )) by L1578 , L1585 , L1587 , L1588;
L1624: ( ConsecutiveDelta (C344 , D233) ) in ( rng C352 ) by L1576 , L1578 , L1587 , L1602 , FUNCT_1:def 3;
L1625: D236 c= D231 by L1624 , L1602 , ZFMISC_1:74;
L1626: ( ConsecutiveSet (R11 , D232) ) c= ( ConsecutiveSet (R11 , D233) ) by L1623 , L1254;
reconsider D245 = C354 as (Element of ( ConsecutiveSet (R11 , D233) )) by L1626 , L1593;
L1627: [ C354 , C355 ] in ( dom D236 ) by L1593 , L1616 , L1608 , L1626 , ZFMISC_1:87;
L1628: ( D231 . (C354 , C355) ) = ( D236 . (D245 , D244) ) by L1627 , L1625 , GRFUNC_1:2;
L1629: ( ConsecutiveSet (R11 , D234) ) c= ( ConsecutiveSet (R11 , D232) ) by L1620 , L1254;
L1630: ( ConsecutiveSet (R11 , D234) ) c= ( ConsecutiveSet (R11 , D233) ) by L1629 , L1626 , XBOOLE_1:1;
reconsider D246 = C356 as (Element of ( ConsecutiveSet (R11 , D233) )) by L1630 , L1601;
L1631: [ C355 , C356 ] in ( dom D236 ) by L1616 , L1601 , L1608 , L1630 , ZFMISC_1:87;
L1632: ( D231 . (C355 , C356) ) = ( D236 . (D244 , D246) ) by L1631 , L1625 , GRFUNC_1:2;
L1633: [ C354 , C356 ] in ( dom D236 ) by L1593 , L1601 , L1608 , L1626 , L1630 , ZFMISC_1:87;
L1634: ( D231 . (C354 , C356) ) = ( D236 . (D245 , D246) ) by L1633 , L1625 , GRFUNC_1:2;
thus L1635: thesis by L1634 , L1603 , L1628 , L1632 , L456;
end;
suppose L1636: D233 c= D232;

reconsider D247 = C354 as (Element of ( ConsecutiveSet (R11 , D232) )) by L1578 , L1581 , L1583 , L1584;
reconsider D248 = C356 as (Element of ( ConsecutiveSet (R11 , D232) )) by L1601 , L1621;
L1637: ( ConsecutiveDelta (C344 , D232) ) in ( rng C352 ) by L1576 , L1578 , L1583 , L1609 , FUNCT_1:def 3;
L1638: D237 c= D231 by L1637 , L1609 , ZFMISC_1:74;
L1639: ( ConsecutiveSet (R11 , D233) ) c= ( ConsecutiveSet (R11 , D232) ) by L1636 , L1254;
reconsider D249 = C355 as (Element of ( ConsecutiveSet (R11 , D232) )) by L1639 , L1616;
L1640: [ C354 , C355 ] in ( dom D237 ) by L1593 , L1616 , L1615 , L1639 , ZFMISC_1:87;
L1641: ( D231 . (C354 , C355) ) = ( D237 . (D247 , D249) ) by L1640 , L1638 , GRFUNC_1:2;
L1642: [ C354 , C356 ] in ( dom D237 ) by L1593 , L1601 , L1615 , L1621 , ZFMISC_1:87;
L1643: ( D231 . (C354 , C356) ) = ( D237 . (D247 , D248) ) by L1642 , L1638 , GRFUNC_1:2;
L1644: [ C355 , C356 ] in ( dom D237 ) by L1616 , L1601 , L1615 , L1621 , L1639 , ZFMISC_1:87;
L1645: ( D231 . (C355 , C356) ) = ( D237 . (D249 , D248) ) by L1644 , L1638 , GRFUNC_1:2;
thus L1646: thesis by L1645 , L1610 , L1641 , L1643 , L456;
end;
end;

end;
end;
thus L1624: thesis by L1580 , L1573 , L1576 , L1248;
end;
L1625: S14[ ( {} ) ]
proof
assume L1626: ( {} ) c= ( DistEsti C343 );
let C372 , C373 , C374 being (Element of ( ConsecutiveSet (R11 , ( {} )) ));
reconsider D250 = C372 , D251 = C373 , D252 = C374 as (Element of R11) by L1150;
L1627: (( ConsecutiveDelta (C344 , ( {} )) ) = C343 & ( C343 . (D250 , D252) ) <= ( ( C343 . (D250 , D251) ) "\/" ( C343 . (D251 , D252) ) )) by L1552 , L456 , L1241;
thus L1628: ( ( ConsecutiveDelta (C344 , ( {} )) ) . (C372 , C374) ) <= ( ( ( ConsecutiveDelta (C344 , ( {} )) ) . (C372 , C373) ) "\/" ( ( ConsecutiveDelta (C344 , ( {} )) ) . (C373 , C374) ) ) by L1627;
end;
L1629: (for R15 being Ordinal holds S14[ R15 ]) from ORDINAL2:sch 1(L1625 , L1553 , L1572);
thus L1630: thesis by L1629;
end;
theorem
L1631: (for R11 being non  empty set holds (for R12 being  lower-bounded LATTICE holds (for R15 being Ordinal holds (for B385 being (distance_function of R11 , R12) holds (for B386 being (QuadrSeq of B385) holds (R15 c= ( DistEsti B385 ) implies ( ConsecutiveDelta (B386 , R15) ) is (distance_function of ( ConsecutiveSet (R11 , R15) ) , R12))))))) by L1461 , L1495 , L1550;
definition
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let C375 being (BiFunction of R11 , R12);
func NextSet C375 equals 
( ConsecutiveSet (R11 , ( DistEsti C375 )) );
correctness;
end;
registration
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let C376 being (BiFunction of R11 , R12);
cluster ( NextSet C376 ) -> non  empty;
coherence;
end;
definition
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let C377 being (BiFunction of R11 , R12);
let C378 being (QuadrSeq of C377);
func NextDelta C378 equals 
( ConsecutiveDelta (C378 , ( DistEsti C377 )) );
correctness;
end;
definition
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let C379 being (distance_function of R11 , R12);
let C380 being (QuadrSeq of C379);
redefine func NextDelta C380 -> (distance_function of ( NextSet C379 ) , R12);

coherence by L1461 , L1495 , L1550;
end;
definition
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let C381 being (distance_function of R11 , R12);
let C382 being non  empty set;
let C383 being (distance_function of C382 , R12);
pred C382 , C383 is_extension_of R11 , C381
means
:L1636: (ex B387 being (QuadrSeq of C381) st (C382 = ( NextSet C381 ) & C383 = ( NextDelta B387 )))
;end;
theorem
L1638: (for R11 being non  empty set holds (for R12 being  lower-bounded LATTICE holds (for B388 being (distance_function of R11 , R12) holds (for B389 being non  empty set holds (for B390 being (distance_function of B389 , R12) holds (B389 , B390 is_extension_of R11 , B388 implies (for B391 , B392 being (Element of R11) holds (for B393 , B394 being (Element of R12) holds (( B388 . (B391 , B392) ) <= ( B393 "\/" B394 ) implies (ex B395 , B396 , B397 being (Element of B389) st (( B390 . (B391 , B395) ) = B393 & ( B390 . (B396 , B397) ) = B393 & ( B390 . (B395 , B396) ) = B394 & ( B390 . (B397 , B392) ) = B394)))))))))))
proof
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let C384 being (distance_function of R11 , R12);
let C385 being non  empty set;
let C386 being (distance_function of C385 , R12);
assume L1639: C385 , C386 is_extension_of R11 , C384;
consider C387 being (QuadrSeq of C384) such that L1640: C385 = ( NextSet C384 ) and L1641: C386 = ( NextDelta C387 ) by L1639 , L1636;
let C388 , C389 being (Element of R11);
let C390 , C391 being (Element of R12);
assume L1642: ( C384 . (C388 , C389) ) <= ( C390 "\/" C391 );
L1643: ( rng C387 ) = { [ B398 , B399 , B400 , B401 ] where B398 is (Element of R11) , B399 is (Element of R11) , B400 is (Element of R12) , B401 is (Element of R12) : ( C384 . (B398 , B399) ) <= ( B400 "\/" B401 ) } by L1201;
L1644: [ C388 , C389 , C390 , C391 ] in ( rng C387 ) by L1643 , L1642;
consider C392 being set such that L1645: C392 in ( dom C387 ) and L1646: ( C387 . C392 ) = [ C388 , C389 , C390 , C391 ] by L1644 , FUNCT_1:def 3;
reconsider D253 = C392 as Ordinal by L1645;
L1647: ( C387 . D253 ) = ( Quadr (C387 , D253) ) by L1645 , L1215;
L1648: C388 = ( ( Quadr (C387 , D253) ) `1_4 ) by L1647 , L1646 , MCART_1:74;
L1649: C391 = ( ( Quadr (C387 , D253) ) `4_4 ) by L1646 , L1647 , MCART_1:74;
L1650: C389 = ( ( Quadr (C387 , D253) ) `2_4 ) by L1646 , L1647 , MCART_1:74;
L1651: C390 = ( ( Quadr (C387 , D253) ) `3_4 ) by L1646 , L1647 , MCART_1:74;
reconsider D254 = ( ConsecutiveSet (R11 , D253) ) as non  empty set;
L1652: { D254 } in { { D254 } , { { D254 } } , { { { D254 } } } } by ENUMSET1:def 1;
L1653: { D254 } in ( D254 \/ { { D254 } , { { D254 } } , { { { D254 } } } } ) by L1652 , XBOOLE_0:def 3;
reconsider D255 = ( ConsecutiveDelta (C387 , D253) ) as (BiFunction of D254 , R12);
reconsider D256 = ( Quadr (C387 , D253) ) as (Element of [: D254 , D254 , (the carrier of R12) , (the carrier of R12) :]);
L1654: (C388 in R11 & C389 in R11);
L1655: { { D254 } } in { { D254 } , { { D254 } } , { { { D254 } } } } by ENUMSET1:def 1;
L1656: { { D254 } } in ( new_set D254 ) by L1655 , XBOOLE_0:def 3;
L1657: R11 c= D254 by L1182;
reconsider D257 = C388 , D258 = C389 as (Element of D254) by L1657 , L1654;
L1658: D254 c= ( new_set D254 ) by XBOOLE_1:7;
L1659: (D257 in D254 & D258 in D254);
reconsider D259 = D257 , D260 = D258 as (Element of ( new_set D254 )) by L1659 , L1658;
L1660: D255 is  zeroed by L1461;
L1661: { { { D254 } } } in { { D254 } , { { D254 } } , { { { D254 } } } } by ENUMSET1:def 1;
L1662: { { { D254 } } } in ( new_set D254 ) by L1661 , XBOOLE_0:def 3;
L1663: D253 in ( DistEsti C384 ) by L1645 , L1225;
L1664: ( succ D253 ) c= ( DistEsti C384 ) by L1663 , ORDINAL1:21;
L1665: ( ConsecutiveDelta (C387 , ( succ D253 )) ) c= ( ConsecutiveDelta (C387 , ( DistEsti C384 )) ) by L1664 , L1430;
L1666: ( ConsecutiveSet (R11 , ( succ D253 )) ) = ( new_set D254 ) by L1153;
L1667: ( new_set D254 ) c= ( ConsecutiveSet (R11 , ( DistEsti C384 )) ) by L1666 , L1664 , L1254;
reconsider D261 = { D254 } , D262 = { { D254 } } , D263 = { { { D254 } } } as (Element of C385) by L1667 , L1640 , L1653 , L1656 , L1662;
take D261;
take D262;
take D263;
L1668: ( ConsecutiveDelta (C387 , ( succ D253 )) ) = ( new_bi_fun (( BiFun (( ConsecutiveDelta (C387 , D253) ) , ( ConsecutiveSet (R11 , D253) ) , R12) ) , ( Quadr (C387 , D253) )) ) by L1244
.= ( new_bi_fun (D255 , D256) ) by L1236;
L1669: ( dom ( new_bi_fun (D255 , D256) ) ) = [: ( new_set D254 ) , ( new_set D254 ) :] by FUNCT_2:def 1;
L1670: [ D259 , { D254 } ] in ( dom ( new_bi_fun (D255 , D256) ) ) by L1669 , L1653 , ZFMISC_1:87;
thus L1671: ( C386 . (C388 , D261) ) = ( ( new_bi_fun (D255 , D256) ) . (D259 , { D254 }) ) by L1670 , L1641 , L1665 , L1668 , GRFUNC_1:2
.= ( ( D255 . (D257 , D257) ) "\/" C390 ) by L1648 , L1651 , L595
.= ( ( Bottom R12 ) "\/" C390 ) by L1660 , L455
.= C390 by WAYBEL_1:3;
L1672: { { D254 } } in ( D254 \/ { { D254 } , { { D254 } } , { { { D254 } } } } ) by L1655 , XBOOLE_0:def 3;
L1673: [ { { D254 } } , { { { D254 } } } ] in ( dom ( new_bi_fun (D255 , D256) ) ) by L1672 , L1662 , L1669 , ZFMISC_1:87;
thus L1674: ( C386 . (D262 , D263) ) = ( ( new_bi_fun (D255 , D256) ) . ({ { D254 } } , { { { D254 } } }) ) by L1673 , L1641 , L1665 , L1668 , GRFUNC_1:2
.= C390 by L1651 , L595;
L1675: [ { D254 } , { { D254 } } ] in ( dom ( new_bi_fun (D255 , D256) ) ) by L1653 , L1656 , L1669 , ZFMISC_1:87;
thus L1676: ( C386 . (D261 , D262) ) = ( ( new_bi_fun (D255 , D256) ) . ({ D254 } , { { D254 } }) ) by L1675 , L1641 , L1665 , L1668 , GRFUNC_1:2
.= C391 by L1649 , L595;
L1677: { { { D254 } } } in ( D254 \/ { { D254 } , { { D254 } } , { { { D254 } } } } ) by L1661 , XBOOLE_0:def 3;
L1678: [ { { { D254 } } } , D260 ] in ( dom ( new_bi_fun (D255 , D256) ) ) by L1677 , L1669 , ZFMISC_1:87;
thus L1679: ( C386 . (D263 , C389) ) = ( ( new_bi_fun (D255 , D256) ) . ({ { { D254 } } } , D260) ) by L1678 , L1641 , L1665 , L1668 , GRFUNC_1:2
.= ( ( D255 . (D258 , D258) ) "\/" C391 ) by L1650 , L1649 , L595
.= ( ( Bottom R12 ) "\/" C391 ) by L1660 , L455
.= C391 by WAYBEL_1:3;
end;
definition
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let C393 being (distance_function of R11 , R12);
mode ExtensionSeq of R11 , C393
 -> Function
means :L1680: (( dom it ) = ( NAT ) & ( it . ( 0 ) ) = [ R11 , C393 ] & (for B402 being (Element of ( NAT )) holds (ex B403 being non  empty set st (ex B404 being (distance_function of B403 , R12) st (ex B405 being non  empty set st (ex B406 being (distance_function of B405 , R12) st (B405 , B406 is_extension_of B403 , B404 & ( it . B402 ) = [ B403 , B404 ] & ( it . ( B402 + 1 ) ) = [ B405 , B406 ])))))));
existence
proof
defpred S15[ set , set , set ] means ((ex B407 being non  empty set st (ex B408 being (distance_function of B407 , R12) st (ex B409 being non  empty set st (ex B410 being (distance_function of B409 , R12) st (B409 , B410 is_extension_of B407 , B408 & $2 = [ B407 , B408 ] & $3 = [ B409 , B410 ]))))) or ($3 = ( 0 ) & (not (ex B411 being non  empty set st (ex B412 being (distance_function of B411 , R12) st (ex B413 being non  empty set st (ex B414 being (distance_function of B413 , R12) st (B413 , B414 is_extension_of B411 , B412 & $2 = [ B411 , B412 ]))))))));
L1681: (for B415 being (Element of ( NAT )) holds (for B416 being set holds (ex B417 being set st S15[ B415 , B416 , B417 ])))
proof
let C394 being (Element of ( NAT ));
let C395 being set;
per cases ;
suppose L1682: (ex B418 being non  empty set st (ex B419 being (distance_function of B418 , R12) st (ex B420 being non  empty set st (ex B421 being (distance_function of B420 , R12) st (B420 , B421 is_extension_of B418 , B419 & C395 = [ B418 , B419 ])))));

consider C396 being non  empty set, C397 being (distance_function of C396 , R12), C398 being non  empty set, C399 being (distance_function of C398 , R12) such that L1683: (C398 , C399 is_extension_of C396 , C397 & C395 = [ C396 , C397 ]) by L1682;
take [ C398 , C399 ];
thus L1684: thesis by L1683;
end;
suppose L1685: (not (ex B422 being non  empty set st (ex B423 being (distance_function of B422 , R12) st (ex B424 being non  empty set st (ex B425 being (distance_function of B424 , R12) st (B424 , B425 is_extension_of B422 , B423 & C395 = [ B422 , B423 ]))))));

take ( 0 );
thus L1686: thesis by L1685;
end;
end;
consider C400 being Function such that L1688: ( dom C400 ) = ( NAT ) and L1689: ( C400 . ( 0 ) ) = [ R11 , C393 ] and L1690: (for B426 being (Element of ( NAT )) holds S15[ B426 , ( C400 . B426 ) , ( C400 . ( B426 + 1 ) ) ]) from RECDEF_1:sch 1(L1681);
take C400;
thus L1691: ( dom C400 ) = ( NAT ) by L1688;
thus L1692: ( C400 . ( 0 ) ) = [ R11 , C393 ] by L1689;
defpred S16[ (Element of ( NAT )) ] means (ex B427 being non  empty set st (ex B428 being (distance_function of B427 , R12) st (ex B429 being non  empty set st (ex B430 being (distance_function of B429 , R12) st (B429 , B430 is_extension_of B427 , B428 & ( C400 . $1 ) = [ B427 , B428 ] & ( C400 . ( $1 + 1 ) ) = [ B429 , B430 ])))));
L1693: (for B431 being (Element of ( NAT )) holds (S16[ B431 ] implies S16[ ( B431 + 1 ) ]))
proof
let C401 being (Element of ( NAT ));
given C402 being non  empty set , C403 being (distance_function of C402 , R12) , C404 being non  empty set , C405 being (distance_function of C404 , R12) such that
L1694: C404 , C405 is_extension_of C402 , C403
and
L1695: ( C400 . C401 ) = [ C402 , C403 ]
and
L1696: ( C400 . ( C401 + 1 ) ) = [ C404 , C405 ];

L1697: (ex B432 being non  empty set st (ex B433 being (distance_function of B432 , R12) st (ex B434 being non  empty set st (ex B435 being (distance_function of B434 , R12) st (B434 , B435 is_extension_of B432 , B433 & ( C400 . ( C401 + 1 ) ) = [ B432 , B433 ])))))
proof
set D264 = the (QuadrSeq of C405);
set D265 = ( NextSet C405 );
take C404;
take C405;
set D266 = ( NextDelta D264 );
take D265;
take D266;
thus L1698: D265 , D266 is_extension_of C404 , C405 by L1636;
thus L1699: thesis by L1696;
end;
thus L1700: thesis by L1697 , L1690;
end;
L1701: (ex B436 being non  empty set st (ex B437 being (distance_function of B436 , R12) st (ex B438 being non  empty set st (ex B439 being (distance_function of B438 , R12) st (B438 , B439 is_extension_of B436 , B437 & ( C400 . ( 0 ) ) = [ B436 , B437 ])))))
proof
set D267 = ( NextSet C393 );
set D268 = the (QuadrSeq of C393);
take R11;
take C393;
consider C406 being (distance_function of D267 , R12) such that L1702: C406 = ( NextDelta D268 );
take D267;
take C406;
thus L1703: D267 , C406 is_extension_of R11 , C393 by L1702 , L1636;
thus L1704: thesis by L1689;
end;
L1705: S16[ ( 0 ) ] by L1701 , L1690;
thus L1706: (for B440 being (Element of ( NAT )) holds S16[ B440 ]) from NAT_1:sch 1(L1705 , L1693);
end;
end;
theorem
L1708: (for R11 being non  empty set holds (for R12 being  lower-bounded LATTICE holds (for B441 being (distance_function of R11 , R12) holds (for B442 being (ExtensionSeq of R11 , B441) holds (for B443 , B444 being (Element of ( NAT )) holds (B443 <= B444 implies ( ( B442 . B443 ) `1 ) c= ( ( B442 . B444 ) `1 )))))))
proof
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let C407 being (distance_function of R11 , R12);
let C408 being (ExtensionSeq of R11 , C407);
let C409 being (Element of ( NAT ));
defpred S17[ (Element of ( NAT )) ] means (C409 <= $1 implies ( ( C408 . C409 ) `1 ) c= ( ( C408 . $1 ) `1 ));
L1709: (for B445 being (Element of ( NAT )) holds (S17[ B445 ] implies S17[ ( B445 + 1 ) ]))
proof
let C410 being (Element of ( NAT ));
assume that
L1710: (C409 <= C410 implies ( ( C408 . C409 ) `1 ) c= ( ( C408 . C410 ) `1 ))
and
L1711: C409 <= ( C410 + 1 );
per cases  by L1711 , NAT_1:8;
suppose L1712: C409 = ( C410 + 1 );

thus L1713: thesis by L1712;
end;
suppose L1714: C409 <= C410;

consider C411 being non  empty set, C412 being (distance_function of C411 , R12), C413 being non  empty set, C414 being (distance_function of C413 , R12) such that L1715: C413 , C414 is_extension_of C411 , C412 and L1716: ( C408 . C410 ) = [ C411 , C412 ] and L1717: ( C408 . ( C410 + 1 ) ) = [ C413 , C414 ] by L1680;
L1718: ( [ C411 , C412 ] `1 ) = C411;
L1719: ( ( C408 . C410 ) `1 ) c= ( ConsecutiveSet (C411 , ( DistEsti C412 )) ) by L1718 , L1182 , L1716;
L1720: ( [ C413 , C414 ] `1 ) = C413;
L1721: (ex B446 being (QuadrSeq of C412) st (C413 = ( NextSet C412 ) & C414 = ( NextDelta B446 ))) by L1715 , L1636;
L1722: ( ( C408 . ( C410 + 1 ) ) `1 ) = ( ConsecutiveSet (C411 , ( DistEsti C412 )) ) by L1721 , L1717 , L1720;
thus L1723: thesis by L1722 , L1710 , L1714 , L1719 , XBOOLE_1:1;
end;
end;
L1725: S17[ ( 0 ) ] by NAT_1:3;
thus L1726: (for B447 being (Element of ( NAT )) holds S17[ B447 ]) from NAT_1:sch 1(L1725 , L1709);
end;
theorem
L1727: (for R11 being non  empty set holds (for R12 being  lower-bounded LATTICE holds (for B448 being (distance_function of R11 , R12) holds (for B449 being (ExtensionSeq of R11 , B448) holds (for B450 , B451 being (Element of ( NAT )) holds (B450 <= B451 implies ( ( B449 . B450 ) `2 ) c= ( ( B449 . B451 ) `2 )))))))
proof
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let C415 being (distance_function of R11 , R12);
let C416 being (ExtensionSeq of R11 , C415);
let C417 being (Element of ( NAT ));
defpred S18[ (Element of ( NAT )) ] means (C417 <= $1 implies ( ( C416 . C417 ) `2 ) c= ( ( C416 . $1 ) `2 ));
L1728: (for B452 being (Element of ( NAT )) holds (S18[ B452 ] implies S18[ ( B452 + 1 ) ]))
proof
let C418 being (Element of ( NAT ));
assume that
L1729: (C417 <= C418 implies ( ( C416 . C417 ) `2 ) c= ( ( C416 . C418 ) `2 ))
and
L1730: C417 <= ( C418 + 1 );
per cases  by L1730 , NAT_1:8;
suppose L1731: C417 = ( C418 + 1 );

thus L1732: thesis by L1731;
end;
suppose L1733: C417 <= C418;

consider C419 being non  empty set, C420 being (distance_function of C419 , R12), C421 being non  empty set, C422 being (distance_function of C421 , R12) such that L1734: C421 , C422 is_extension_of C419 , C420 and L1735: ( C416 . C418 ) = [ C419 , C420 ] and L1736: ( C416 . ( C418 + 1 ) ) = [ C421 , C422 ] by L1680;
consider C423 being (QuadrSeq of C420) such that L1737: C421 = ( NextSet C420 ) and L1738: C422 = ( NextDelta C423 ) by L1734 , L1636;
L1739: ( [ C419 , C420 ] `2 ) = C420;
L1740: ( ( C416 . C418 ) `2 ) c= ( ConsecutiveDelta (C423 , ( DistEsti C420 )) ) by L1739 , L1411 , L1735;
L1741: ( [ C421 , C422 ] `2 ) = C422;
L1742: ( ( C416 . ( C418 + 1 ) ) `2 ) = ( ConsecutiveDelta (C423 , ( DistEsti C420 )) ) by L1736 , L1738 , L1741;
thus L1743: thesis by L1742 , L1729 , L1733 , L1740 , XBOOLE_1:1;
end;
end;
L1745: S18[ ( 0 ) ] by NAT_1:3;
thus L1746: (for B453 being (Element of ( NAT )) holds S18[ B453 ]) from NAT_1:sch 1(L1745 , L1728);
end;
definition
let R12 being  lower-bounded LATTICE;
func BasicDF R12 -> (distance_function of (the carrier of R12) , R12) means 
:L1747: (for B454 , B455 being (Element of R12) holds ((B454 <> B455 implies ( it . (B454 , B455) ) = ( B454 "\/" B455 )) & (B454 = B455 implies ( it . (B454 , B455) ) = ( Bottom R12 ))));
existence
proof
defpred S19[ (Element of R12) , (Element of R12) , set ] means (($1 = $2 implies $3 = ( Bottom R12 )) & ($1 <> $2 implies $3 = ( $1 "\/" $2 )));
set D269 = (the carrier of R12);
L1748: (for B456 , B457 being (Element of R12) holds (ex B458 being (Element of R12) st S19[ B456 , B457 , B458 ]))
proof
let C424 , C425 being (Element of R12);
per cases ;
suppose L1749: C424 = C425;

take ( Bottom R12 );
thus L1750: thesis by L1749;
end;
suppose L1751: C424 <> C425;

take ( C424 "\/" C425 );
thus L1752: thesis by L1751;
end;
end;
consider C426 being (Function of [: (the carrier of R12) , (the carrier of R12) :] , (the carrier of R12)) such that L1754: (for B459 , B460 being (Element of R12) holds S19[ B459 , B460 , ( C426 . (B459 , B460) ) ]) from BINOP_1:sch 3(L1748);
reconsider D270 = C426 as (BiFunction of D269 , R12);
L1755: D270 is  zeroed
proof
let C427 being (Element of D269);
thus L1756: thesis by L1754;
end;
L1757: D270 is  u.t.i.
proof
let C428 , C429 , C430 being (Element of D269);
reconsider D271 = C428 , D272 = C429 , D273 = C430 as (Element of R12);
per cases ;
suppose L1758: C428 = C430;

L1759: ( ( D270 . (C428 , C429) ) "\/" ( D270 . (C429 , C430) ) ) >= ( Bottom R12 ) by YELLOW_0:44;
thus L1760: thesis by L1759 , L1754 , L1758;
end;
suppose L1761: C428 <> C430;

thus L1762: ( ( D270 . (C428 , C429) ) "\/" ( D270 . (C429 , C430) ) ) >= ( D270 . (C428 , C430) )
proof
per cases ;
suppose L1763: C428 = C429;

L1764: ( D271 "\/" D273 ) >= ( D271 "\/" D273 ) by ORDERS_2:1;
L1765: ( D270 . (C428 , C430) ) >= ( D271 "\/" D273 ) by L1764 , L1754 , L1761;
L1766: ( ( Bottom R12 ) "\/" ( D270 . (C428 , C430) ) ) >= ( D271 "\/" D273 ) by L1765 , WAYBEL_1:3;
L1767: ( ( D270 . (C428 , C429) ) "\/" ( D270 . (C429 , C430) ) ) >= ( D271 "\/" D273 ) by L1766 , L1754 , L1763;
thus L1768: thesis by L1767 , L1754 , L1761;
end;
suppose L1769: C428 <> C429;

L1770: ( ( D271 "\/" D272 ) "\/" ( D270 . (C429 , C430) ) ) >= ( D271 "\/" D273 )
proof
per cases ;
suppose L1771: C429 = C430;

L1772: ( D271 "\/" D272 ) >= ( D271 "\/" D272 ) by ORDERS_2:1;
L1773: ( ( Bottom R12 ) "\/" ( D271 "\/" D272 ) ) >= ( D271 "\/" D273 ) by L1772 , L1771 , WAYBEL_1:3;
thus L1774: thesis by L1773 , L1754 , L1771;
end;
suppose L1775: C429 <> C430;

L1776: ( ( D271 "\/" D273 ) "\/" D272 ) = ( ( D271 "\/" D273 ) "\/" ( D272 "\/" D272 ) ) by YELLOW_5:1
.= ( D271 "\/" ( D273 "\/" ( D272 "\/" D272 ) ) ) by LATTICE3:14
.= ( D271 "\/" ( D272 "\/" ( D272 "\/" D273 ) ) ) by LATTICE3:14
.= ( ( D271 "\/" D272 ) "\/" ( D272 "\/" D273 ) ) by LATTICE3:14;
L1777: ( ( D271 "\/" D272 ) "\/" ( D272 "\/" D273 ) ) >= ( D271 "\/" D273 ) by L1776 , YELLOW_0:22;
thus L1778: thesis by L1777 , L1754 , L1775;
end;
end;
L1780: ( ( D270 . (C428 , C429) ) "\/" ( D270 . (C429 , C430) ) ) >= ( D271 "\/" D273 ) by L1770 , L1754 , L1769;
thus L1781: thesis by L1780 , L1754 , L1761;
end;
end;

end;
end;
L1764: D270 is  symmetric
proof
let C431 , C432 being (Element of D269);
reconsider D274 = C431 , D275 = C432 as (Element of R12);
per cases ;
suppose L1765: C431 = C432;

thus L1766: thesis by L1765;
end;
suppose L1767: C431 <> C432;

thus L1768: ( D270 . (C431 , C432) ) = ( D275 "\/" D274 ) by L1767 , L1754
.= ( D270 . (C432 , C431) ) by L1754 , L1767;
end;
end;
reconsider D276 = D270 as (distance_function of D269 , R12) by L1764 , L1755 , L1757;
take D276;
thus L1770: thesis by L1754;
end;
uniqueness
proof
let C433 , C434 being (distance_function of (the carrier of R12) , R12);
assume that
L1771: (for B461 , B462 being (Element of R12) holds ((B461 <> B462 implies ( C433 . (B461 , B462) ) = ( B461 "\/" B462 )) & (B461 = B462 implies ( C433 . (B461 , B462) ) = ( Bottom R12 ))))
and
L1772: (for B463 , B464 being (Element of R12) holds ((B463 <> B464 implies ( C434 . (B463 , B464) ) = ( B463 "\/" B464 )) & (B463 = B464 implies ( C434 . (B463 , B464) ) = ( Bottom R12 ))));
L1773: (for B465 being set holds (B465 in ( dom C433 ) implies ( C433 . B465 ) = ( C434 . B465 )))
proof
let C435 being set;
assume L1774: C435 in ( dom C433 );
consider C436 , C437 being set such that L1775: C435 = [ C436 , C437 ] by L1774 , RELAT_1:def 1;
reconsider D277 = C436 , D278 = C437 as (Element of R12) by L1774 , L1775 , ZFMISC_1:87;
per cases ;
suppose L1776: D277 = D278;

thus L1777: ( C433 . C435 ) = ( C433 . (D277 , D278) ) by L1775
.= ( Bottom R12 ) by L1771 , L1776
.= ( C434 . (D277 , D278) ) by L1772 , L1776
.= ( C434 . C435 ) by L1775;
end;
suppose L1778: D277 <> D278;

thus L1779: ( C433 . C435 ) = ( C433 . (D277 , D278) ) by L1775
.= ( D277 "\/" D278 ) by L1771 , L1778
.= ( C434 . (D277 , D278) ) by L1772 , L1778
.= ( C434 . C435 ) by L1775;
end;
end;
L1781: ( dom C433 ) = [: (the carrier of R12) , (the carrier of R12) :] by FUNCT_2:def 1
.= ( dom C434 ) by FUNCT_2:def 1;
thus L1782: C433 = C434 by L1781 , L1773 , FUNCT_1:2;
end;
end;
theorem
L1784: (for R12 being  lower-bounded LATTICE holds ( BasicDF R12 ) is  onto)
proof
let R12 being  lower-bounded LATTICE;
set D279 = (the carrier of R12);
set D280 = ( BasicDF R12 );
L1785: (for B466 being set holds (B466 in D279 implies (ex B467 being set st (B467 in [: D279 , D279 :] & B466 = ( D280 . B467 )))))
proof
let C438 being set;
assume L1786: C438 in D279;
reconsider D281 = C438 as (Element of R12) by L1786;
reconsider D282 = C438 as (Element of R12) by L1786;
per cases ;
suppose L1787: C438 = ( Bottom R12 );

take D283 = [ C438 , C438 ];
thus L1788: D283 in [: D279 , D279 :] by L1786 , ZFMISC_1:87;
thus L1789: ( D280 . D283 ) = ( D280 . (D281 , D281) )
.= C438 by L1787 , L1747;
end;
suppose L1790: C438 <> ( Bottom R12 );

take D284 = [ ( Bottom R12 ) , C438 ];
thus L1791: D284 in [: D279 , D279 :] by L1786 , ZFMISC_1:87;
thus L1792: ( D280 . D284 ) = ( D280 . (( Bottom R12 ) , D281) )
.= ( ( Bottom R12 ) "\/" D282 ) by L1790 , L1747
.= C438 by WAYBEL_1:3;
end;
end;
L1794: ( rng D280 ) = (the carrier of R12) by L1785 , FUNCT_2:10;
thus L1795: thesis by L1794 , FUNCT_2:def 3;
end;
L1796:
now
let C439 being (Element of ( NAT ));
assume that
L1797: 1 <= C439
and
L1798: C439 < 5;
L1799: C439 < ( 4 + 1 ) by L1798;
L1800: C439 <= 4 by L1799 , NAT_1:13;
L1801: (C439 = ( 0 ) or C439 = 1 or C439 = 2 or C439 = 3 or C439 = 4) by L1800 , NAT_1:28;
thus L1802: (C439 = 1 or C439 = 2 or C439 = 3 or C439 = 4) by L1801 , L1797;
end;
L1803:
now
let C440 being (Element of ( NAT ));
assume L1804: C440 in ( Seg 5 );
L1805: C440 <= 5 by L1804 , FINSEQ_1:1;
L1806: (C440 = ( 0 ) or C440 = 1 or C440 = 2 or C440 = 3 or C440 = 4 or C440 = 5) by L1805 , NAT_1:29;
thus L1807: (C440 = 1 or C440 = 2 or C440 = 3 or C440 = 4 or C440 = 5) by L1806 , L1804 , FINSEQ_1:1;
end;
L1808:
now
let R11 being non  empty set;
let R12 being  lower-bounded LATTICE;
let C441 being (distance_function of R11 , R12);
L1809: (( succ ( {} ) ) c= ( DistEsti C441 ) or ( DistEsti C441 ) in ( succ ( {} ) )) by ORDINAL1:16;
L1810: (( succ ( {} ) ) c= ( DistEsti C441 ) or ( DistEsti C441 ) c= ( {} )) by L1809 , ORDINAL1:22;
thus L1811: ( succ ( {} ) ) c= ( DistEsti C441 ) by L1810 , L1141 , XBOOLE_1:3;
end;
theorem
L1812: (for R12 being  lower-bounded LATTICE holds (for B468 being (ExtensionSeq of (the carrier of R12) , ( BasicDF R12 )) holds (for B469 being non  empty set holds (B469 = ( union { ( ( B468 . B470 ) `1 ) where B470 is (Element of ( NAT )) : (not contradiction) } ) implies ( union { ( ( B468 . B471 ) `2 ) where B471 is (Element of ( NAT )) : (not contradiction) } ) is (distance_function of B469 , R12)))))
proof
let R12 being  lower-bounded LATTICE;
let C442 being (ExtensionSeq of (the carrier of R12) , ( BasicDF R12 ));
let C443 being non  empty set;
assume L1813: C443 = ( union { ( ( C442 . B472 ) `1 ) where B472 is (Element of ( NAT )) : (not contradiction) } );
reconsider D285 = C443 as non  empty set;
set D286 = (the carrier of R12);
set D287 = ( union { ( ( C442 . B473 ) `2 ) where B473 is (Element of ( NAT )) : (not contradiction) } );
L1814:
now
let C444 , C445 being set;
assume that
L1815: C444 in { ( ( C442 . B474 ) `2 ) where B474 is (Element of ( NAT )) : (not contradiction) }
and
L1816: C445 in { ( ( C442 . B475 ) `2 ) where B475 is (Element of ( NAT )) : (not contradiction) };
consider C446 being (Element of ( NAT )) such that L1817: C444 = ( ( C442 . C446 ) `2 ) by L1815;
consider C447 being (Element of ( NAT )) such that L1818: C445 = ( ( C442 . C447 ) `2 ) by L1816;
L1819: (C446 <= C447 or C447 <= C446);
L1820: (C444 c= C445 or C445 c= C444) by L1819 , L1817 , L1818 , L1727;
thus L1821: C444 , C445 are_c=-comparable  by L1820 , XBOOLE_0:def 9;
end;
L1822: { ( ( C442 . B476 ) `2 ) where B476 is (Element of ( NAT )) : (not contradiction) } is  c=-linear by L1814 , ORDINAL1:def 8;
L1823: { ( ( C442 . B477 ) `2 ) where B477 is (Element of ( NAT )) : (not contradiction) } c= ( PFuncs ([: D285 , D285 :] , D286) )
proof
let C448 being set;
assume L1824: C448 in { ( ( C442 . B478 ) `2 ) where B478 is (Element of ( NAT )) : (not contradiction) };
consider C449 being (Element of ( NAT )) such that L1825: C448 = ( ( C442 . C449 ) `2 ) by L1824;
consider C450 being non  empty set, C451 being (distance_function of C450 , R12), C452 being non  empty set, C453 being (distance_function of C452 , R12) such that L1826: C452 , C453 is_extension_of C450 , C451 and L1827: ( C442 . C449 ) = [ C450 , C451 ] and L1828: ( C442 . ( C449 + 1 ) ) = [ C452 , C453 ] by L1680;
L1829: C451 = ( [ C450 , C451 ] `2 );
L1830: C450 = ( [ C450 , C451 ] `1 );
L1831: C450 in { ( ( C442 . B479 ) `1 ) where B479 is (Element of ( NAT )) : (not contradiction) } by L1830 , L1827;
L1832: (( dom C451 ) = [: C450 , C450 :] & C450 c= D285) by L1831 , L1813 , FUNCT_2:def 1 , ZFMISC_1:74;
L1833: (( rng C451 ) c= D286 & ( dom C451 ) c= [: D285 , D285 :]) by L1832 , ZFMISC_1:96;
L1834: C448 = C451 by L1825 , L1827 , L1829;
thus L1835: thesis by L1834 , L1833 , PARTFUN1:def 3;
end;
L1836: D287 in ( PFuncs ([: D285 , D285 :] , D286) ) by L1823 , L1822 , TREES_2:40;
L1837: (ex B480 being Function st (D287 = B480 & ( dom B480 ) c= [: D285 , D285 :] & ( rng B480 ) c= D286)) by L1836 , PARTFUN1:def 3;
L1838: ( ( C442 . ( 0 ) ) `1 ) in { ( ( C442 . B481 ) `1 ) where B481 is (Element of ( NAT )) : (not contradiction) };
reconsider D288 = { ( ( C442 . B482 ) `1 ) where B482 is (Element of ( NAT )) : (not contradiction) } as non  empty set by L1838;
set D289 = { [: B483 , B483 :] where B483 is (Element of D288) : B483 in D288 };
set D290 = { [: ( ( C442 . B484 ) `1 ) , ( ( C442 . B484 ) `1 ) :] where B484 is (Element of ( NAT )) : (not contradiction) };
defpred S20[ set , set ] means $2 = ( ( C442 . $1 ) `2 );
L1839: D289 = D290
proof
thus L1840: D289 c= D290
proof
let C454 being set;
assume L1841: C454 in D289;
consider C455 being (Element of D288) such that L1842: C454 = [: C455 , C455 :] and L1843: C455 in D288 by L1841;
L1844: (ex B485 being (Element of ( NAT )) st C455 = ( ( C442 . B485 ) `1 )) by L1843;
thus L1845: thesis by L1844 , L1842;
end;

let C456 being set;
assume L1846: C456 in D290;
consider C457 being (Element of ( NAT )) such that L1847: C456 = [: ( ( C442 . C457 ) `1 ) , ( ( C442 . C457 ) `1 ) :] by L1846;
L1848: ( ( C442 . C457 ) `1 ) in D288;
thus L1849: thesis by L1848 , L1847;
end;
reconsider D291 = D287 as Function by L1837;
L1850: (for B486 being set holds (B486 in ( NAT ) implies (ex B487 being set st S20[ B486 , B487 ])));
consider C458 being Function such that L1851: ( dom C458 ) = ( NAT ) and L1852: (for B488 being set holds (B488 in ( NAT ) implies S20[ B488 , ( C458 . B488 ) ])) from CLASSES1:sch 1(L1850);
L1853: ( rng C458 ) = { ( ( C442 . B489 ) `2 ) where B489 is (Element of ( NAT )) : (not contradiction) }
proof
thus L1854: ( rng C458 ) c= { ( ( C442 . B490 ) `2 ) where B490 is (Element of ( NAT )) : (not contradiction) }
proof
let C459 being set;
assume L1855: C459 in ( rng C458 );
consider C460 being set such that L1856: C460 in ( dom C458 ) and L1857: ( C458 . C460 ) = C459 by L1855 , FUNCT_1:def 3;
reconsider D292 = C460 as (Element of ( NAT )) by L1851 , L1856;
L1858: C459 = ( ( C442 . D292 ) `2 ) by L1852 , L1857;
thus L1859: thesis by L1858;
end;

let C461 being set;
assume L1860: C461 in { ( ( C442 . B491 ) `2 ) where B491 is (Element of ( NAT )) : (not contradiction) };
consider C462 being (Element of ( NAT )) such that L1861: C461 = ( ( C442 . C462 ) `2 ) by L1860;
L1862: C461 = ( C458 . C462 ) by L1852 , L1861;
thus L1863: thesis by L1862 , L1851 , FUNCT_1:def 3;
end;
L1864: C458 is  Function-yielding
proof
let C463 being set;
assume L1865: C463 in ( dom C458 );
reconsider D293 = C463 as (Element of ( NAT )) by L1865 , L1851;
consider C464 being non  empty set, C465 being (distance_function of C464 , R12), C466 being non  empty set, C467 being (distance_function of C466 , R12) such that L1866: C466 , C467 is_extension_of C464 , C465 and L1867: ( C442 . D293 ) = [ C464 , C465 ] and L1868: ( C442 . ( D293 + 1 ) ) = [ C466 , C467 ] by L1680;
L1869: ( [ C464 , C465 ] `2 ) = C465;
thus L1870: thesis by L1869 , L1852 , L1867;
end;
reconsider D294 = C458 as  Function-yielding Function by L1864;
L1871: ( rng ( doms D294 ) ) = D290
proof
thus L1872: ( rng ( doms D294 ) ) c= D290
proof
let C468 being set;
assume L1873: C468 in ( rng ( doms D294 ) );
consider C469 being set such that L1874: C469 in ( dom ( doms D294 ) ) and L1875: C468 = ( ( doms D294 ) . C469 ) by L1873 , FUNCT_1:def 3;
L1876: C469 in ( dom D294 ) by L1874 , FUNCT_6:59;
reconsider D295 = C469 as (Element of ( NAT )) by L1851 , L1874 , FUNCT_6:59;
consider C470 being non  empty set, C471 being (distance_function of C470 , R12), C472 being non  empty set, C473 being (distance_function of C472 , R12) such that L1877: C472 , C473 is_extension_of C470 , C471 and L1878: ( C442 . D295 ) = [ C470 , C471 ] and L1879: ( C442 . ( D295 + 1 ) ) = [ C472 , C473 ] by L1680;
L1880: ( [ C470 , C471 ] `2 ) = C471;
L1881: ( [ C470 , C471 ] `1 ) = C470;
L1882: C468 = ( dom ( D294 . D295 ) ) by L1875 , L1876 , FUNCT_6:22
.= ( dom C471 ) by L1852 , L1880 , L1878
.= [: ( ( C442 . D295 ) `1 ) , ( ( C442 . D295 ) `1 ) :] by L1881 , L1878 , FUNCT_2:def 1;
thus L1883: thesis by L1882;
end;

let C474 being set;
assume L1884: C474 in D290;
consider C475 being (Element of ( NAT )) such that L1885: C474 = [: ( ( C442 . C475 ) `1 ) , ( ( C442 . C475 ) `1 ) :] by L1884;
consider C476 being non  empty set, C477 being (distance_function of C476 , R12), C478 being non  empty set, C479 being (distance_function of C478 , R12) such that L1886: C478 , C479 is_extension_of C476 , C477 and L1887: ( C442 . C475 ) = [ C476 , C477 ] and L1888: ( C442 . ( C475 + 1 ) ) = [ C478 , C479 ] by L1680;
L1889: ( [ C476 , C477 ] `2 ) = C477;
L1890: C475 in ( NAT );
L1891: C475 in ( dom ( doms D294 ) ) by L1890 , L1851 , FUNCT_6:59;
L1892: ( [ C476 , C477 ] `1 ) = C476;
L1893: C474 = ( dom C477 ) by L1892 , L1885 , L1887 , FUNCT_2:def 1
.= ( dom ( D294 . C475 ) ) by L1852 , L1889 , L1887
.= ( ( doms D294 ) . C475 ) by L1851 , FUNCT_6:22;
thus L1894: thesis by L1893 , L1891 , FUNCT_1:def 3;
end;
L1895:
now
let C480 , C481 being set;
assume that
L1896: C480 in D288
and
L1897: C481 in D288;
consider C482 being (Element of ( NAT )) such that L1898: C480 = ( ( C442 . C482 ) `1 ) by L1896;
consider C483 being (Element of ( NAT )) such that L1899: C481 = ( ( C442 . C483 ) `1 ) by L1897;
L1900: (C482 <= C483 or C483 <= C482);
L1901: (C480 c= C481 or C481 c= C480) by L1900 , L1898 , L1899 , L1708;
thus L1902: C480 , C481 are_c=-comparable  by L1901 , XBOOLE_0:def 9;
end;
L1903: D288 is  c=-linear by L1895 , ORDINAL1:def 8;
L1904: [: D285 , D285 :] = ( union ( rng ( doms D294 ) ) ) by L1903 , L1813 , L1871 , L1839 , L50
.= ( dom D291 ) by L1853 , L1;
reconsider D296 = D291 as (BiFunction of D285 , R12) by L1904 , L1837 , FUNCT_2:def 1 , RELSET_1:4;
L1905: D296 is  symmetric
proof
let C484 , C485 being (Element of D285);
consider C486 being set such that L1906: C484 in C486 and L1907: C486 in D288 by L1813 , TARSKI:def 4;
consider C487 being (Element of ( NAT )) such that L1908: C486 = ( ( C442 . C487 ) `1 ) by L1907;
consider C488 being non  empty set, C489 being (distance_function of C488 , R12), C490 being non  empty set, C491 being (distance_function of C490 , R12) such that L1909: C490 , C491 is_extension_of C488 , C489 and L1910: ( C442 . C487 ) = [ C488 , C489 ] and L1911: ( C442 . ( C487 + 1 ) ) = [ C490 , C491 ] by L1680;
L1912: ( [ C488 , C489 ] `1 ) = C488;
L1913: C484 in C488 by L1912 , L1906 , L1908 , L1910;
L1914: ( [ C488 , C489 ] `2 ) = C489;
L1915: C489 in { ( ( C442 . B492 ) `2 ) where B492 is (Element of ( NAT )) : (not contradiction) } by L1914 , L1910;
L1916: C489 c= D296 by L1915 , ZFMISC_1:74;
consider C492 being set such that L1917: C485 in C492 and L1918: C492 in D288 by L1813 , TARSKI:def 4;
consider C493 being (Element of ( NAT )) such that L1919: C492 = ( ( C442 . C493 ) `1 ) by L1918;
consider C494 being non  empty set, C495 being (distance_function of C494 , R12), C496 being non  empty set, C497 being (distance_function of C496 , R12) such that L1920: C496 , C497 is_extension_of C494 , C495 and L1921: ( C442 . C493 ) = [ C494 , C495 ] and L1922: ( C442 . ( C493 + 1 ) ) = [ C496 , C497 ] by L1680;
L1923: ( [ C494 , C495 ] `1 ) = C494;
L1924: C485 in C494 by L1923 , L1917 , L1919 , L1921;
L1925: ( [ C494 , C495 ] `2 ) = C495;
L1926: C495 in { ( ( C442 . B493 ) `2 ) where B493 is (Element of ( NAT )) : (not contradiction) } by L1925 , L1921;
L1927: C495 c= D296 by L1926 , ZFMISC_1:74;
per cases ;
suppose L1928: C487 <= C493;

L1929: C488 c= C494 by L1928 , L1912 , L1923 , L1708 , L1910 , L1921;
reconsider D297 = C484 , D298 = C485 as (Element of C494) by L1929 , L1913 , L1924;
L1930: ( dom C495 ) = [: C494 , C494 :] by FUNCT_2:def 1;
thus L1931: ( D296 . (C484 , C485) ) = ( C495 . [ D297 , D298 ] ) by L1930 , L1927 , GRFUNC_1:2
.= ( C495 . (D297 , D298) )
.= ( C495 . (D298 , D297) ) by L453
.= ( D296 . [ D298 , D297 ] ) by L1927 , L1930 , GRFUNC_1:2
.= ( D296 . (C485 , C484) );
end;
suppose L1932: C493 <= C487;

L1933: C494 c= C488 by L1932 , L1912 , L1923 , L1708 , L1921 , L1910;
reconsider D299 = C484 , D300 = C485 as (Element of C488) by L1933 , L1906 , L1908 , L1910 , L1924 , L1912;
L1934: ( dom C489 ) = [: C488 , C488 :] by FUNCT_2:def 1;
thus L1935: ( D296 . (C484 , C485) ) = ( C489 . [ D299 , D300 ] ) by L1934 , L1916 , GRFUNC_1:2
.= ( C489 . (D299 , D300) )
.= ( C489 . (D300 , D299) ) by L453
.= ( D296 . [ D300 , D299 ] ) by L1916 , L1934 , GRFUNC_1:2
.= ( D296 . (C485 , C484) );
end;
end;
L1937: D296 is  u.t.i.
proof
let C498 , C499 , C500 being (Element of D285);
consider C501 being set such that L1938: C498 in C501 and L1939: C501 in D288 by L1813 , TARSKI:def 4;
consider C502 being (Element of ( NAT )) such that L1940: C501 = ( ( C442 . C502 ) `1 ) by L1939;
consider C503 being non  empty set, C504 being (distance_function of C503 , R12), C505 being non  empty set, C506 being (distance_function of C505 , R12) such that L1941: C505 , C506 is_extension_of C503 , C504 and L1942: ( C442 . C502 ) = [ C503 , C504 ] and L1943: ( C442 . ( C502 + 1 ) ) = [ C505 , C506 ] by L1680;
L1944: ( [ C503 , C504 ] `1 ) = C503;
L1945: C498 in C503 by L1944 , L1938 , L1940 , L1942;
L1946: ( [ C503 , C504 ] `2 ) = C504;
L1947: C504 in { ( ( C442 . B494 ) `2 ) where B494 is (Element of ( NAT )) : (not contradiction) } by L1946 , L1942;
L1948: C504 c= D296 by L1947 , ZFMISC_1:74;
L1949: ( dom C504 ) = [: C503 , C503 :] by FUNCT_2:def 1;
L1950: ( ( C442 . C502 ) `1 ) = C503 by L1942 , L1944;
consider C507 being set such that L1951: C499 in C507 and L1952: C507 in D288 by L1813 , TARSKI:def 4;
consider C508 being (Element of ( NAT )) such that L1953: C507 = ( ( C442 . C508 ) `1 ) by L1952;
consider C509 being non  empty set, C510 being (distance_function of C509 , R12), C511 being non  empty set, C512 being (distance_function of C511 , R12) such that L1954: C511 , C512 is_extension_of C509 , C510 and L1955: ( C442 . C508 ) = [ C509 , C510 ] and L1956: ( C442 . ( C508 + 1 ) ) = [ C511 , C512 ] by L1680;
L1957: ( [ C509 , C510 ] `1 ) = C509;
L1958: C499 in C509 by L1957 , L1951 , L1953 , L1955;
L1959: ( [ C509 , C510 ] `2 ) = C510;
L1960: C510 in { ( ( C442 . B495 ) `2 ) where B495 is (Element of ( NAT )) : (not contradiction) } by L1959 , L1955;
L1961: C510 c= D296 by L1960 , ZFMISC_1:74;
L1962: ( dom C510 ) = [: C509 , C509 :] by FUNCT_2:def 1;
L1963: ( [ C509 , C510 ] `1 ) = C509;
consider C513 being set such that L1964: C500 in C513 and L1965: C513 in D288 by L1813 , TARSKI:def 4;
consider C514 being (Element of ( NAT )) such that L1966: C513 = ( ( C442 . C514 ) `1 ) by L1965;
consider C515 being non  empty set, C516 being (distance_function of C515 , R12), C517 being non  empty set, C518 being (distance_function of C517 , R12) such that L1967: C517 , C518 is_extension_of C515 , C516 and L1968: ( C442 . C514 ) = [ C515 , C516 ] and L1969: ( C442 . ( C514 + 1 ) ) = [ C517 , C518 ] by L1680;
L1970: ( [ C515 , C516 ] `1 ) = C515;
L1971: C500 in C515 by L1970 , L1964 , L1966 , L1968;
L1972: ( [ C515 , C516 ] `2 ) = C516;
L1973: C516 in { ( ( C442 . B496 ) `2 ) where B496 is (Element of ( NAT )) : (not contradiction) } by L1972 , L1968;
L1974: C516 c= D296 by L1973 , ZFMISC_1:74;
L1975: ( dom C516 ) = [: C515 , C515 :] by FUNCT_2:def 1;
per cases ;
suppose L1976: C502 <= C508;

L1977: C503 c= C509 by L1976 , L1950 , L1963 , L1708 , L1955;
thus L1978: ( ( D296 . (C498 , C499) ) "\/" ( D296 . (C499 , C500) ) ) >= ( D296 . (C498 , C500) )
proof
per cases ;
suppose L1979: C508 <= C514;

L1980: C509 c= C515 by L1979 , L1963 , L1970 , L1708 , L1968 , L1955;
L1981: C503 c= C515 by L1980 , L1977 , XBOOLE_1:1;
reconsider D301 = C498 , D302 = C499 as (Element of C515) by L1981 , L1945 , L1958 , L1980;
reconsider D303 = C500 as (Element of C515) by L1971;
L1982: ( D296 . (C499 , C500) ) = ( C516 . [ D302 , D303 ] ) by L1974 , L1975 , GRFUNC_1:2
.= ( C516 . (D302 , D303) );
L1983: ( D296 . (C498 , C500) ) = ( C516 . [ D301 , D303 ] ) by L1974 , L1975 , GRFUNC_1:2
.= ( C516 . (D301 , D303) );
L1984: ( D296 . (C498 , C499) ) = ( C516 . [ D301 , D302 ] ) by L1974 , L1975 , GRFUNC_1:2
.= ( C516 . (D301 , D302) );
thus L1985: thesis by L1984 , L1982 , L1983 , L456;
end;
suppose L1986: C514 <= C508;

L1987: C515 c= C509 by L1986 , L1963 , L1970 , L1708 , L1968 , L1955;
reconsider D304 = C499 as (Element of C509) by L1958;
reconsider D305 = C498 as (Element of C509) by L1945 , L1977;
reconsider D306 = C500 as (Element of C509) by L1971 , L1987;
L1988: ( D296 . (C499 , C500) ) = ( C510 . [ D304 , D306 ] ) by L1961 , L1962 , GRFUNC_1:2
.= ( C510 . (D304 , D306) );
L1989: ( D296 . (C498 , C500) ) = ( C510 . [ D305 , D306 ] ) by L1961 , L1962 , GRFUNC_1:2
.= ( C510 . (D305 , D306) );
L1990: ( D296 . (C498 , C499) ) = ( C510 . [ D305 , D304 ] ) by L1961 , L1962 , GRFUNC_1:2
.= ( C510 . (D305 , D304) );
thus L1991: thesis by L1990 , L1988 , L1989 , L456;
end;
end;

end;
suppose L1979: C508 <= C502;

L1980: C509 c= C503 by L1979 , L1950 , L1963 , L1708 , L1955;
thus L1981: ( ( D296 . (C498 , C499) ) "\/" ( D296 . (C499 , C500) ) ) >= ( D296 . (C498 , C500) )
proof
per cases ;
suppose L1982: C502 <= C514;

L1983: C503 c= C515 by L1982 , L1950 , L1970 , L1708 , L1968;
L1984: C509 c= C515 by L1983 , L1980 , XBOOLE_1:1;
reconsider D307 = C498 as (Element of C515) by L1945 , L1983;
reconsider D308 = C500 as (Element of C515) by L1964 , L1966 , L1968 , L1970;
reconsider D309 = C499 as (Element of C515) by L1958 , L1984;
L1985: ( D296 . (C499 , C500) ) = ( C516 . [ D309 , D308 ] ) by L1974 , L1975 , GRFUNC_1:2
.= ( C516 . (D309 , D308) );
L1986: ( D296 . (C498 , C500) ) = ( C516 . [ D307 , D308 ] ) by L1974 , L1975 , GRFUNC_1:2
.= ( C516 . (D307 , D308) );
L1987: ( D296 . (C498 , C499) ) = ( C516 . [ D307 , D309 ] ) by L1974 , L1975 , GRFUNC_1:2
.= ( C516 . (D307 , D309) );
thus L1988: thesis by L1987 , L1985 , L1986 , L456;
end;
suppose L1989: C514 <= C502;

L1990: C515 c= C503 by L1989 , L1950 , L1970 , L1708 , L1968;
reconsider D310 = C498 , D311 = C499 , D312 = C500 as (Element of C503) by L1990 , L1938 , L1940 , L1942 , L1958 , L1971 , L1980 , L1944;
L1991: ( D296 . (C499 , C500) ) = ( C504 . [ D311 , D312 ] ) by L1948 , L1949 , GRFUNC_1:2
.= ( C504 . (D311 , D312) );
L1992: ( D296 . (C498 , C500) ) = ( C504 . [ D310 , D312 ] ) by L1948 , L1949 , GRFUNC_1:2
.= ( C504 . (D310 , D312) );
L1993: ( D296 . (C498 , C499) ) = ( C504 . [ D310 , D311 ] ) by L1948 , L1949 , GRFUNC_1:2
.= ( C504 . (D310 , D311) );
thus L1994: thesis by L1993 , L1991 , L1992 , L456;
end;
end;

end;
end;
L1983: D296 is  zeroed
proof
let C519 being (Element of D285);
consider C520 being set such that L1984: C519 in C520 and L1985: C520 in D288 by L1813 , TARSKI:def 4;
consider C521 being (Element of ( NAT )) such that L1986: C520 = ( ( C442 . C521 ) `1 ) by L1985;
consider C522 being non  empty set, C523 being (distance_function of C522 , R12), C524 being non  empty set, C525 being (distance_function of C524 , R12) such that L1987: C524 , C525 is_extension_of C522 , C523 and L1988: ( C442 . C521 ) = [ C522 , C523 ] and L1989: ( C442 . ( C521 + 1 ) ) = [ C524 , C525 ] by L1680;
L1990: ( [ C522 , C523 ] `1 ) = C522;
reconsider D313 = C519 as (Element of C522) by L1990 , L1984 , L1986 , L1988;
L1991: ( [ C522 , C523 ] `2 ) = C523;
L1992: C523 in { ( ( C442 . B497 ) `2 ) where B497 is (Element of ( NAT )) : (not contradiction) } by L1991 , L1988;
L1993: C523 c= D296 by L1992 , ZFMISC_1:74;
L1994: ( dom C523 ) = [: C522 , C522 :] by FUNCT_2:def 1;
thus L1995: ( D296 . (C519 , C519) ) = ( C523 . [ D313 , D313 ] ) by L1994 , L1993 , GRFUNC_1:2
.= ( C523 . (D313 , D313) )
.= ( Bottom R12 ) by L455;
end;
thus L1996: thesis by L1983 , L1905 , L1937;
end;
theorem
L1997: (for R12 being  lower-bounded LATTICE holds (for B498 being (ExtensionSeq of (the carrier of R12) , ( BasicDF R12 )) holds (for B499 being non  empty set holds (for B500 being (distance_function of B499 , R12) holds (for B501 , B502 being (Element of B499) holds (for B503 , B504 being (Element of R12) holds ((B499 = ( union { ( ( B498 . B505 ) `1 ) where B505 is (Element of ( NAT )) : (not contradiction) } ) & B500 = ( union { ( ( B498 . B506 ) `2 ) where B506 is (Element of ( NAT )) : (not contradiction) } ) & ( B500 . (B501 , B502) ) <= ( B503 "\/" B504 )) implies (ex B507 , B508 , B509 being (Element of B499) st (( B500 . (B501 , B507) ) = B503 & ( B500 . (B508 , B509) ) = B503 & ( B500 . (B507 , B508) ) = B504 & ( B500 . (B509 , B502) ) = B504)))))))))
proof
let R12 being  lower-bounded LATTICE;
let C526 being (ExtensionSeq of (the carrier of R12) , ( BasicDF R12 ));
let C527 being non  empty set;
let C528 being (distance_function of C527 , R12);
let C529 , C530 being (Element of C527);
let C531 , C532 being (Element of R12);
assume that
L1998: C527 = ( union { ( ( C526 . B510 ) `1 ) where B510 is (Element of ( NAT )) : (not contradiction) } )
and
L1999: C528 = ( union { ( ( C526 . B511 ) `2 ) where B511 is (Element of ( NAT )) : (not contradiction) } )
and
L2000: ( C528 . (C529 , C530) ) <= ( C531 "\/" C532 );
L2001: ( ( C526 . ( 0 ) ) `1 ) in { ( ( C526 . B512 ) `1 ) where B512 is (Element of ( NAT )) : (not contradiction) };
reconsider D314 = { ( ( C526 . B513 ) `1 ) where B513 is (Element of ( NAT )) : (not contradiction) } as non  empty set by L2001;
consider C533 being set such that L2002: C529 in C533 and L2003: C533 in D314 by L1998 , TARSKI:def 4;
consider C534 being (Element of ( NAT )) such that L2004: C533 = ( ( C526 . C534 ) `1 ) by L2003;
consider C535 being non  empty set, C536 being (distance_function of C535 , R12), C537 being non  empty set, C538 being (distance_function of C537 , R12) such that L2005: C537 , C538 is_extension_of C535 , C536 and L2006: ( C526 . C534 ) = [ C535 , C536 ] and L2007: ( C526 . ( C534 + 1 ) ) = [ C537 , C538 ] by L1680;
L2008: ( [ C535 , C536 ] `1 ) = C535;
L2009: C529 in C535 by L2008 , L2002 , L2004 , L2006;
L2010: ( [ C535 , C536 ] `2 ) = C536;
L2011: C536 in { ( ( C526 . B514 ) `2 ) where B514 is (Element of ( NAT )) : (not contradiction) } by L2010 , L2006;
L2012: C536 c= C528 by L2011 , L1999 , ZFMISC_1:74;
L2013: ( [ C537 , C538 ] `1 ) = C537;
L2014: C537 in { ( ( C526 . B515 ) `1 ) where B515 is (Element of ( NAT )) : (not contradiction) } by L2013 , L2007;
L2015: C537 c= C527 by L2014 , L1998 , ZFMISC_1:74;
L2016: ( [ C537 , C538 ] `2 ) = C538;
L2017: C538 in { ( ( C526 . B516 ) `2 ) where B516 is (Element of ( NAT )) : (not contradiction) } by L2016 , L2007;
L2018: C538 c= C528 by L2017 , L1999 , ZFMISC_1:74;
consider C539 being set such that L2019: C530 in C539 and L2020: C539 in D314 by L1998 , TARSKI:def 4;
consider C540 being (Element of ( NAT )) such that L2021: C539 = ( ( C526 . C540 ) `1 ) by L2020;
consider C541 being non  empty set, C542 being (distance_function of C541 , R12), C543 being non  empty set, C544 being (distance_function of C543 , R12) such that L2022: C543 , C544 is_extension_of C541 , C542 and L2023: ( C526 . C540 ) = [ C541 , C542 ] and L2024: ( C526 . ( C540 + 1 ) ) = [ C543 , C544 ] by L1680;
L2025: ( [ C541 , C542 ] `1 ) = C541;
L2026: C530 in C541 by L2025 , L2019 , L2021 , L2023;
L2027: ( [ C541 , C542 ] `2 ) = C542;
L2028: C542 in { ( ( C526 . B517 ) `2 ) where B517 is (Element of ( NAT )) : (not contradiction) } by L2027 , L2023;
L2029: C542 c= C528 by L2028 , L1999 , ZFMISC_1:74;
L2030: ( [ C543 , C544 ] `1 ) = C543;
L2031: C543 in { ( ( C526 . B518 ) `1 ) where B518 is (Element of ( NAT )) : (not contradiction) } by L2030 , L2024;
L2032: C543 c= C527 by L2031 , L1998 , ZFMISC_1:74;
L2033: ( [ C543 , C544 ] `2 ) = C544;
L2034: C544 in { ( ( C526 . B519 ) `2 ) where B519 is (Element of ( NAT )) : (not contradiction) } by L2033 , L2024;
L2035: C544 c= C528 by L2034 , L1999 , ZFMISC_1:74;
per cases ;
suppose L2036: C534 <= C540;

L2037: C535 c= C541 by L2036 , L2008 , L2025 , L1708 , L2023 , L2006;
reconsider D315 = C529 , D316 = C530 as (Element of C541) by L2037 , L2009 , L2019 , L2021 , L2023 , L2025;
L2038: (D315 in C541 & D316 in C541);
L2039: C541 c= C543 by L2025 , L2030 , L1708 , L2023 , L2024 , NAT_1:11;
reconsider D317 = D315 , D318 = D316 as (Element of C543) by L2039 , L2038;
L2040: ( dom C542 ) = [: C541 , C541 :] by FUNCT_2:def 1;
L2041: ( C528 . (C529 , C530) ) = ( C542 . [ D315 , D316 ] ) by L2040 , L2029 , GRFUNC_1:2
.= ( C542 . (D315 , D316) );
consider C545 , C546 , C547 being (Element of C543) such that L2042: ( C544 . (C529 , C545) ) = C531 and L2043: ( C544 . (C546 , C547) ) = C531 and L2044: ( C544 . (C545 , C546) ) = C532 and L2045: ( C544 . (C547 , C530) ) = C532 by L2041 , L2000 , L2022 , L1638;
L2046: C547 in C543;
L2047: (C545 in C543 & C546 in C543);
reconsider D319 = C545 , D320 = C546 , D321 = C547 as (Element of C527) by L2047 , L2032 , L2046;
take D319;
take D320;
take D321;
L2048: ( dom C544 ) = [: C543 , C543 :] by FUNCT_2:def 1;
thus L2049: ( C528 . (C529 , D319) ) = ( C544 . [ D317 , C545 ] ) by L2048 , L2035 , GRFUNC_1:2
.= C531 by L2042;
thus L2050: ( C528 . (D320 , D321) ) = ( C544 . [ C546 , C547 ] ) by L2035 , L2048 , GRFUNC_1:2
.= C531 by L2043;
thus L2051: ( C528 . (D319 , D320) ) = ( C544 . [ C545 , C546 ] ) by L2035 , L2048 , GRFUNC_1:2
.= C532 by L2044;
thus L2052: ( C528 . (D321 , C530) ) = ( C544 . [ C547 , D318 ] ) by L2035 , L2048 , GRFUNC_1:2
.= C532 by L2045;
end;
suppose L2053: C540 <= C534;

L2054: C541 c= C535 by L2053 , L2008 , L2025 , L1708 , L2023 , L2006;
reconsider D322 = C529 , D323 = C530 as (Element of C535) by L2054 , L2002 , L2004 , L2006 , L2026 , L2008;
L2055: (D322 in C535 & D323 in C535);
L2056: C535 c= C537 by L2008 , L2013 , L1708 , L2006 , L2007 , NAT_1:11;
reconsider D324 = D322 , D325 = D323 as (Element of C537) by L2056 , L2055;
L2057: ( dom C536 ) = [: C535 , C535 :] by FUNCT_2:def 1;
L2058: ( C528 . (C529 , C530) ) = ( C536 . [ D322 , D323 ] ) by L2057 , L2012 , GRFUNC_1:2
.= ( C536 . (D322 , D323) );
consider C548 , C549 , C550 being (Element of C537) such that L2059: ( C538 . (C529 , C548) ) = C531 and L2060: ( C538 . (C549 , C550) ) = C531 and L2061: ( C538 . (C548 , C549) ) = C532 and L2062: ( C538 . (C550 , C530) ) = C532 by L2058 , L2000 , L2005 , L1638;
L2063: C550 in C537;
L2064: (C548 in C537 & C549 in C537);
reconsider D326 = C548 , D327 = C549 , D328 = C550 as (Element of C527) by L2064 , L2015 , L2063;
take D326;
take D327;
take D328;
L2065: ( dom C538 ) = [: C537 , C537 :] by FUNCT_2:def 1;
thus L2066: ( C528 . (C529 , D326) ) = ( C538 . [ D324 , C548 ] ) by L2065 , L2018 , GRFUNC_1:2
.= C531 by L2059;
thus L2067: ( C528 . (D327 , D328) ) = ( C538 . [ C549 , C550 ] ) by L2018 , L2065 , GRFUNC_1:2
.= C531 by L2060;
thus L2068: ( C528 . (D326 , D327) ) = ( C538 . [ C548 , C549 ] ) by L2018 , L2065 , GRFUNC_1:2
.= C532 by L2061;
thus L2069: ( C528 . (D328 , C530) ) = ( C538 . [ C550 , D325 ] ) by L2018 , L2065 , GRFUNC_1:2
.= C532 by L2062;
end;
end;
theorem
L2071: (for R12 being  lower-bounded LATTICE holds (for B520 being (ExtensionSeq of (the carrier of R12) , ( BasicDF R12 )) holds (for B521 being non  empty set holds (for B522 being (distance_function of B521 , R12) holds (for B523 being (Homomorphism of R12 , ( EqRelLATT B521 )) holds (for B524 , B525 being (Element of B521) holds (for B526 , B527 being (Equivalence_Relation of B521) holds (for R7 being set holds (for R8 being set holds ((B523 = ( alpha B522 ) & B521 = ( union { ( ( B520 . B528 ) `1 ) where B528 is (Element of ( NAT )) : (not contradiction) } ) & B522 = ( union { ( ( B520 . B529 ) `2 ) where B529 is (Element of ( NAT )) : (not contradiction) } ) & B526 in (the carrier of ( Image B523 )) & B527 in (the carrier of ( Image B523 )) & [ R7 , R8 ] in ( B526 "\/" B527 )) implies (ex B530 being non  empty (FinSequence of B521) st (( len B530 ) = ( 3 + 2 ) & R7 , R8 are_joint_by B530 , B526 , B527))))))))))))
proof
let R12 being  lower-bounded LATTICE;
let C551 being (ExtensionSeq of (the carrier of R12) , ( BasicDF R12 ));
let C552 being non  empty set;
let C553 being (distance_function of C552 , R12);
let C554 being (Homomorphism of R12 , ( EqRelLATT C552 ));
let C555 , C556 being (Element of C552);
let C557 , C558 being (Equivalence_Relation of C552);
let R7 being set;
let R8 being set;
assume that
L2072: C554 = ( alpha C553 )
and
L2073: (C552 = ( union { ( ( C551 . B531 ) `1 ) where B531 is (Element of ( NAT )) : (not contradiction) } ) & C553 = ( union { ( ( C551 . B532 ) `2 ) where B532 is (Element of ( NAT )) : (not contradiction) } ))
and
L2074: C557 in (the carrier of ( Image C554 ))
and
L2075: C558 in (the carrier of ( Image C554 ))
and
L2076: [ R7 , R8 ] in ( C557 "\/" C558 );
L2077: 4 in ( Seg 5 );
L2078: ( field ( C557 "\/" C558 ) ) = C552 by ORDERS_1:12;
reconsider D329 = R7 , D330 = R8 as (Element of C552) by L2078 , L2076 , RELAT_1:15;
L2079: 1 in ( Seg 5 );
L2080: ( Image C554 ) = ( subrelstr ( rng C554 ) ) by YELLOW_2:def 2;
L2081: (the carrier of ( Image C554 )) = ( rng C554 ) by L2080 , YELLOW_0:def 15;
consider C559 being set such that L2082: C559 in ( dom C554 ) and L2083: C557 = ( C554 . C559 ) by L2081 , L2074 , FUNCT_1:def 3;
consider C560 being set such that L2084: C560 in ( dom C554 ) and L2085: C558 = ( C554 . C560 ) by L2075 , L2081 , FUNCT_1:def 3;
reconsider D331 = C559 , D332 = C560 as (Element of R12) by L2082 , L2084;
reconsider D333 = D331 , D334 = D332 as (Element of R12);
consider C561 being (Equivalence_Relation of C552) such that L2086: C561 = ( C554 . ( D333 "\/" D334 ) ) and L2087: (for B533 , B534 being (Element of C552) holds ([ B533 , B534 ] in C561 iff ( C553 . (B533 , B534) ) <= ( D333 "\/" D334 ))) by L2072 , L472;
consider C562 being (Equivalence_Relation of C552) such that L2088: C562 = ( C554 . D333 ) and L2089: (for B535 , B536 being (Element of C552) holds ([ B535 , B536 ] in C562 iff ( C553 . (B535 , B536) ) <= D333)) by L2072 , L472;
consider C563 being (Equivalence_Relation of C552) such that L2090: C563 = ( C554 . D334 ) and L2091: (for B537 , B538 being (Element of C552) holds ([ B537 , B538 ] in C563 iff ( C553 . (B537 , B538) ) <= D334)) by L2072 , L472;
L2092: 3 in ( Seg 5 );
L2093: C561 = ( ( C554 . D333 ) "\/" ( C554 . D334 ) ) by L2086 , WAYBEL_6:2
.= ( C557 "\/" C558 ) by L2083 , L2085 , L139;
L2094: ( C553 . (D329 , D330) ) <= ( D333 "\/" D334 ) by L2093 , L2076 , L2087;
consider C564 , C565 , C566 being (Element of C552) such that L2095: ( C553 . (D329 , C564) ) = D333 and L2096: ( C553 . (C565 , C566) ) = D333 and L2097: ( C553 . (C564 , C565) ) = D334 and L2098: ( C553 . (C566 , D330) ) = D334 by L2094 , L2073 , L1997;
defpred S21[ set , set ] means (($1 = 1 implies $2 = D329) & ($1 = 2 implies $2 = C564) & ($1 = 3 implies $2 = C565) & ($1 = 4 implies $2 = C566) & ($1 = 5 implies $2 = D330));
L2099: (for B539 being Nat holds (B539 in ( Seg 5 ) implies (ex B540 being set st S21[ B539 , B540 ])))
proof
let C567 being Nat;
assume L2100: C567 in ( Seg 5 );
per cases  by L2100 , L1803;
suppose L2101: C567 = 1;

take R7;
thus L2102: thesis by L2101;
end;
suppose L2103: C567 = 2;

take C564;
thus L2104: thesis by L2103;
end;
suppose L2105: C567 = 3;

take C565;
thus L2106: thesis by L2105;
end;
suppose L2107: C567 = 4;

take C566;
thus L2108: thesis by L2107;
end;
suppose L2109: C567 = 5;

take R8;
thus L2110: thesis by L2109;
end;
end;
L2112: (ex B541 being FinSequence st (( dom B541 ) = ( Seg 5 ) & (for B542 being Nat holds (B542 in ( Seg 5 ) implies S21[ B542 , ( B541 . B542 ) ])))) from FINSEQ_1:sch 1(L2099);
consider C568 being FinSequence such that L2113: ( dom C568 ) = ( Seg 5 ) and L2114: (for B543 being Nat holds (B543 in ( Seg 5 ) implies ((B543 = 1 implies ( C568 . B543 ) = D329) & (B543 = 2 implies ( C568 . B543 ) = C564) & (B543 = 3 implies ( C568 . B543 ) = C565) & (B543 = 4 implies ( C568 . B543 ) = C566) & (B543 = 5 implies ( C568 . B543 ) = D330)))) by L2112;
L2115: ( len C568 ) = 5 by L2113 , FINSEQ_1:def 3;
L2116: 5 in ( Seg 5 );
L2117: 2 in ( Seg 5 );
L2118: ( rng C568 ) c= C552
proof
let C569 being set;
assume L2119: C569 in ( rng C568 );
consider C570 being set such that L2120: C570 in ( dom C568 ) and L2121: C569 = ( C568 . C570 ) by L2119 , FUNCT_1:def 3;
per cases  by L2113 , L2120 , L1803;
suppose L2122: C570 = 1;

L2123: ( C568 . C570 ) = D329 by L2122 , L2114 , L2079;
thus L2124: thesis by L2123 , L2121;
end;
suppose L2125: C570 = 2;

L2126: ( C568 . C570 ) = C564 by L2125 , L2114 , L2117;
thus L2127: thesis by L2126 , L2121;
end;
suppose L2128: C570 = 3;

L2129: ( C568 . C570 ) = C565 by L2128 , L2114 , L2092;
thus L2130: thesis by L2129 , L2121;
end;
suppose L2131: C570 = 4;

L2132: ( C568 . C570 ) = C566 by L2131 , L2114 , L2077;
thus L2133: thesis by L2132 , L2121;
end;
suppose L2134: C570 = 5;

L2135: ( C568 . C570 ) = D330 by L2134 , L2114 , L2116;
thus L2136: thesis by L2135 , L2121;
end;
end;
reconsider D335 = C568 as (FinSequence of C552) by L2118 , FINSEQ_1:def 4;
reconsider D336 = D335 as non  empty (FinSequence of C552) by L2113;
L2138: ( D336 . 1 ) = R7 by L2114 , L2079;
L2139: (for B544 being (Element of ( NAT )) holds ((1 <= B544 & B544 < ( len D336 )) implies ((B544 is  odd implies [ ( D336 . B544 ) , ( D336 . ( B544 + 1 ) ) ] in C557) & (B544 is  even implies [ ( D336 . B544 ) , ( D336 . ( B544 + 1 ) ) ] in C558))))
proof
let C571 being (Element of ( NAT ));
assume L2140: (1 <= C571 & C571 < ( len D336 ));
per cases  by L2115 , L2140 , L1796;
suppose L2141: C571 = 1;

L2142: [ D329 , C564 ] in C562 by L2089 , L2095;
L2143: [ ( D336 . 1 ) , C564 ] in C562 by L2142 , L2114 , L2079;
thus L2144: thesis by L2143 , L2083 , L2088 , L2114 , L2117 , L2141;
end;
suppose L2145: C571 = 3;

L2146: [ C565 , C566 ] in C562 by L2089 , L2096;
L2147: [ ( D336 . 3 ) , C566 ] in C562 by L2146 , L2114 , L2092;
L2148: ( ( 2 * 1 ) + 1 ) = C571 by L2145;
thus L2149: thesis by L2148 , L2083 , L2088 , L2114 , L2077 , L2147;
end;
suppose L2150: C571 = 2;

L2151: [ C564 , C565 ] in C563 by L2091 , L2097;
L2152: [ ( D336 . 2 ) , C565 ] in C563 by L2151 , L2114 , L2117;
L2153: ( 2 * 1 ) = C571 by L2150;
thus L2154: thesis by L2153 , L2085 , L2090 , L2114 , L2092 , L2152;
end;
suppose L2155: C571 = 4;

L2156: [ C566 , D330 ] in C563 by L2091 , L2098;
L2157: [ ( D336 . 4 ) , D330 ] in C563 by L2156 , L2114 , L2077;
L2158: ( 2 * 2 ) = C571 by L2155;
thus L2159: thesis by L2158 , L2085 , L2090 , L2114 , L2116 , L2157;
end;
end;
take D336;
thus L2161: ( len D336 ) = ( 3 + 2 ) by L2113 , FINSEQ_1:def 3;
L2162: ( D336 . ( len D336 ) ) = ( D336 . 5 ) by L2113 , FINSEQ_1:def 3
.= R8 by L2114 , L2116;
thus L2163: thesis by L2162 , L2138 , L2139 , L295;
end;
::$N Jonsson Theorem for lattices
theorem
L2164: (for R12 being  lower-bounded LATTICE holds (ex B545 being non  empty set st (ex B546 being (Homomorphism of R12 , ( EqRelLATT B545 )) st (B546 is  one-to-one & ( type_of ( Image B546 ) ) <= 3))))
proof
let R12 being  lower-bounded LATTICE;
set D337 = (the carrier of R12);
set D338 = ( BasicDF R12 );
set D339 = the (ExtensionSeq of D337 , D338);
set D340 = ( union { ( ( D339 . B547 ) `1 ) where B547 is (Element of ( NAT )) : (not contradiction) } );
L2165: ( ( D339 . ( 0 ) ) `1 ) in { ( ( D339 . B548 ) `1 ) where B548 is (Element of ( NAT )) : (not contradiction) };
L2166: ( D339 . ( 0 ) ) = [ D337 , D338 ] by L1680;
L2167: ( [ D337 , D338 ] `1 ) = D337;
L2168: D337 c= D340 by L2167 , L2165 , L2166 , ZFMISC_1:74;
reconsider D341 = D340 as non  empty set by L2168;
reconsider D342 = ( union { ( ( D339 . B549 ) `2 ) where B549 is (Element of ( NAT )) : (not contradiction) } ) as (distance_function of D341 , R12) by L1812;
L2169: ( alpha D342 ) is  join-preserving
proof
set D343 = ( alpha D342 );
let C572 , C573 being (Element of R12);
L2170:  ex_sup_of ( D343 .: { C572 , C573 } ) , ( EqRelLATT D341 ) by YELLOW_0:17;
consider C574 being (Equivalence_Relation of D341) such that L2171: C574 = ( D343 . ( C572 "\/" C573 ) ) and L2172: (for B550 , B551 being (Element of D341) holds ([ B550 , B551 ] in C574 iff ( D342 . (B550 , B551) ) <= ( C572 "\/" C573 ))) by L472;
consider C575 being (Equivalence_Relation of D341) such that L2173: C575 = ( D343 . C573 ) and L2174: (for B552 , B553 being (Element of D341) holds ([ B552 , B553 ] in C575 iff ( D342 . (B552 , B553) ) <= C573)) by L472;
consider C576 being (Equivalence_Relation of D341) such that L2175: C576 = ( D343 . C572 ) and L2176: (for B554 , B555 being (Element of D341) holds ([ B554 , B555 ] in C576 iff ( D342 . (B554 , B555) ) <= C572)) by L472;
L2177: ( field C575 ) = D341 by ORDERS_1:12;
L2178:
now
let C577 , C578 being set;
L2179: C573 <= ( C573 "\/" C572 ) by YELLOW_0:22;
assume L2180: [ C577 , C578 ] in C575;
reconsider D344 = C577 , D345 = C578 as (Element of D341) by L2180 , L2177 , RELAT_1:15;
L2181: ( D342 . (D344 , D345) ) <= C573 by L2174 , L2180;
L2182: ( D342 . (D344 , D345) ) <= ( C573 "\/" C572 ) by L2181 , L2179 , ORDERS_2:3;
thus L2183: [ C577 , C578 ] in C574 by L2182 , L2172;
end;
L2184: C575 c= C574 by L2178 , RELAT_1:def 3;
L2185: ( field C574 ) = D341 by ORDERS_1:12;
L2186: (for B556 , B557 being set holds ([ B556 , B557 ] in C574 implies [ B556 , B557 ] in ( C576 "\/" C575 )))
proof
let C579 , C580 being set;
L2187: 3 in ( Seg 5 );
assume L2188: [ C579 , C580 ] in C574;
reconsider D346 = C579 , D347 = C580 as (Element of D341) by L2188 , L2185 , RELAT_1:15;
L2189: ( D342 . (D346 , D347) ) <= ( C572 "\/" C573 ) by L2172 , L2188;
consider C581 , C582 , C583 being (Element of D341) such that L2190: ( D342 . (D346 , C581) ) = C572 and L2191: ( D342 . (C582 , C583) ) = C572 and L2192: ( D342 . (C581 , C582) ) = C573 and L2193: ( D342 . (C583 , D347) ) = C573 by L2189 , L1997;
L2194: C579 in D341 by L2185 , L2188 , RELAT_1:15;
defpred S22[ set , set ] means (($1 = 1 implies $2 = D346) & ($1 = 2 implies $2 = C581) & ($1 = 3 implies $2 = C582) & ($1 = 4 implies $2 = C583) & ($1 = 5 implies $2 = D347));
L2195: (for B558 being Nat holds (B558 in ( Seg 5 ) implies (ex B559 being set st S22[ B558 , B559 ])))
proof
let C584 being Nat;
assume L2196: C584 in ( Seg 5 );
per cases  by L2196 , L1803;
suppose L2197: C584 = 1;

take D346;
thus L2198: thesis by L2197;
end;
suppose L2199: C584 = 2;

take C581;
thus L2200: thesis by L2199;
end;
suppose L2201: C584 = 3;

take C582;
thus L2202: thesis by L2201;
end;
suppose L2203: C584 = 4;

take C583;
thus L2204: thesis by L2203;
end;
suppose L2205: C584 = 5;

take D347;
thus L2206: thesis by L2205;
end;
end;
L2208: (ex B560 being FinSequence st (( dom B560 ) = ( Seg 5 ) & (for B561 being Nat holds (B561 in ( Seg 5 ) implies S22[ B561 , ( B560 . B561 ) ])))) from FINSEQ_1:sch 1(L2195);
consider C585 being FinSequence such that L2209: ( dom C585 ) = ( Seg 5 ) and L2210: (for B562 being Nat holds (B562 in ( Seg 5 ) implies ((B562 = 1 implies ( C585 . B562 ) = D346) & (B562 = 2 implies ( C585 . B562 ) = C581) & (B562 = 3 implies ( C585 . B562 ) = C582) & (B562 = 4 implies ( C585 . B562 ) = C583) & (B562 = 5 implies ( C585 . B562 ) = D347)))) by L2208;
L2211: ( len C585 ) = 5 by L2209 , FINSEQ_1:def 3;
L2212: 5 in ( Seg 5 );
L2213: 4 in ( Seg 5 );
L2214: 1 in ( Seg 5 );
L2215: C579 = ( C585 . 1 ) by L2214 , L2210;
L2216: 2 in ( Seg 5 );
L2217: (for B563 being (Element of ( NAT )) holds ((1 <= B563 & B563 < ( len C585 )) implies [ ( C585 . B563 ) , ( C585 . ( B563 + 1 ) ) ] in ( C576 \/ C575 )))
proof
let C586 being (Element of ( NAT ));
assume L2218: (1 <= C586 & C586 < ( len C585 ));
per cases  by L2211 , L2218 , L1796;
suppose L2219: C586 = 1;

L2220: [ D346 , C581 ] in C576 by L2176 , L2190;
L2221: [ ( C585 . 1 ) , C581 ] in C576 by L2220 , L2210 , L2214;
L2222: [ ( C585 . 1 ) , ( C585 . 2 ) ] in C576 by L2221 , L2210 , L2216;
thus L2223: thesis by L2222 , L2219 , XBOOLE_0:def 3;
end;
suppose L2224: C586 = 3;

L2225: [ C582 , C583 ] in C576 by L2176 , L2191;
L2226: [ ( C585 . 3 ) , C583 ] in C576 by L2225 , L2210 , L2187;
L2227: [ ( C585 . 3 ) , ( C585 . 4 ) ] in C576 by L2226 , L2210 , L2213;
thus L2228: thesis by L2227 , L2224 , XBOOLE_0:def 3;
end;
suppose L2229: C586 = 2;

L2230: [ C581 , C582 ] in C575 by L2174 , L2192;
L2231: [ ( C585 . 2 ) , C582 ] in C575 by L2230 , L2210 , L2216;
L2232: [ ( C585 . 2 ) , ( C585 . 3 ) ] in C575 by L2231 , L2210 , L2187;
thus L2233: thesis by L2232 , L2229 , XBOOLE_0:def 3;
end;
suppose L2234: C586 = 4;

L2235: [ C583 , D347 ] in C575 by L2174 , L2193;
L2236: [ ( C585 . 4 ) , D347 ] in C575 by L2235 , L2210 , L2213;
L2237: [ ( C585 . 4 ) , ( C585 . 5 ) ] in C575 by L2236 , L2210 , L2212;
thus L2238: thesis by L2237 , L2234 , XBOOLE_0:def 3;
end;
end;
L2240: C580 = ( C585 . 5 ) by L2210 , L2212
.= ( C585 . ( len C585 ) ) by L2209 , FINSEQ_1:def 3;
thus L2241: thesis by L2240 , L2194 , L2211 , L2215 , L2217 , EQREL_1:28;
end;
L2242: C574 c= ( C576 "\/" C575 ) by L2186 , RELAT_1:def 3;
L2243: ( field C576 ) = D341 by ORDERS_1:12;
L2244:
now
let C587 , C588 being set;
L2245: C572 <= ( C572 "\/" C573 ) by YELLOW_0:22;
assume L2246: [ C587 , C588 ] in C576;
reconsider D348 = C587 , D349 = C588 as (Element of D341) by L2246 , L2243 , RELAT_1:15;
L2247: ( D342 . (D348 , D349) ) <= C572 by L2176 , L2246;
L2248: ( D342 . (D348 , D349) ) <= ( C572 "\/" C573 ) by L2247 , L2245 , ORDERS_2:3;
thus L2249: [ C587 , C588 ] in C574 by L2248 , L2172;
end;
L2250: C576 c= C574 by L2244 , RELAT_1:def 3;
L2251: ( C576 \/ C575 ) c= C574 by L2250 , L2184 , XBOOLE_1:8;
L2252: ( C576 "\/" C575 ) c= C574 by L2251 , EQREL_1:def 2;
L2253: ( dom D343 ) = (the carrier of R12) by FUNCT_2:def 1;
L2254: ( sup ( D343 .: { C572 , C573 } ) ) = ( sup { ( D343 . C572 ) , ( D343 . C573 ) } ) by L2253 , FUNCT_1:60
.= ( ( D343 . C572 ) "\/" ( D343 . C573 ) ) by YELLOW_0:41
.= ( C576 "\/" C575 ) by L2175 , L2173 , L139
.= ( D343 . ( C572 "\/" C573 ) ) by L2171 , L2252 , L2242 , XBOOLE_0:def 10
.= ( D343 . ( sup { C572 , C573 } ) ) by YELLOW_0:41;
thus L2255: thesis by L2254 , L2170 , WAYBEL_0:def 31;
end;
reconsider D350 = ( alpha D342 ) as (Homomorphism of R12 , ( EqRelLATT D341 )) by L2169 , L527;
L2256: ( dom D350 ) = (the carrier of R12) by FUNCT_2:def 1;
L2257: ( Image D350 ) = ( subrelstr ( rng D350 ) ) by YELLOW_2:def 2;
L2258: (ex B564 being (Equivalence_Relation of D341) st (B564 in (the carrier of ( Image D350 )) & B564 <> ( id D341 )))
proof
L2259: { D337 } <> { { D337 } }
proof
assume L2260: { D337 } = { { D337 } };
L2261: { D337 } in { D337 } by L2260 , TARSKI:def 1;
thus L2262: contradiction by L2261;
end;
consider C589 being non  empty set, C590 being (distance_function of C589 , R12), C591 being non  empty set, C592 being (distance_function of C591 , R12) such that L2263: C591 , C592 is_extension_of C589 , C590 and L2264: ( D339 . ( 0 ) ) = [ C589 , C590 ] and L2265: ( D339 . ( ( 0 ) + 1 ) ) = [ C591 , C592 ] by L1680;
L2266: (C589 = D337 & C590 = D338) by L2166 , L2264 , XTUPLE_0:1;
consider C593 being (QuadrSeq of D338) such that L2267: C591 = ( NextSet D338 ) and L2268: C592 = ( NextDelta C593 ) by L2266 , L2263 , L1636;
L2269: ( ConsecutiveSet (D337 , ( {} )) ) = D337 by L1150;
reconsider D351 = ( Quadr (C593 , ( {} )) ) as (Element of [: D337 , D337 , (the carrier of R12) , (the carrier of R12) :]) by L2269;
L2270: ( ( D339 . 1 ) `2 ) in { ( ( D339 . B565 ) `2 ) where B565 is (Element of ( NAT )) : (not contradiction) };
L2271: ( succ ( {} ) ) c= ( DistEsti D338 ) by L1808;
L2272: ( {} ) in ( DistEsti D338 ) by L2271 , ORDINAL1:21;
L2273: ( {} ) in ( dom C593 ) by L2272 , L1225;
L2274: ( C593 . ( {} ) ) in ( rng C593 ) by L2273 , FUNCT_1:def 3;
L2275: ( C593 . ( {} ) ) in { [ B566 , B567 , B568 , B569 ] where B566 is (Element of D337) , B567 is (Element of D337) , B568 is (Element of R12) , B569 is (Element of R12) : ( D338 . (B566 , B567) ) <= ( B568 "\/" B569 ) } by L2274 , L1201;
consider C594 , C595 being (Element of D337), C596 , C597 being (Element of R12) such that L2276: ( C593 . ( {} ) ) = [ C594 , C595 , C596 , C597 ] and L2277: ( D338 . (C594 , C595) ) <= ( C596 "\/" C597 ) by L2275;
consider C598 being (Equivalence_Relation of D341) such that L2278: C598 = ( D350 . C597 ) and L2279: (for B570 , B571 being (Element of D341) holds ([ B570 , B571 ] in C598 iff ( D342 . (B570 , B571) ) <= C597)) by L472;
L2280: ( Quadr (C593 , ( {} )) ) = [ C594 , C595 , C596 , C597 ] by L2273 , L2276 , L1215;
L2281: ( [ C591 , C592 ] `2 ) = ( NextDelta C593 ) by L2268;
L2282: ( NextDelta C593 ) c= D342 by L2281 , L2270 , L2265 , ZFMISC_1:74;
L2283: { { D337 } } in { { D337 } , { { D337 } } , { { { D337 } } } } by ENUMSET1:def 1;
L2284: { { D337 } } in ( D337 \/ { { D337 } , { { D337 } } , { { { D337 } } } } ) by L2283 , XBOOLE_0:def 3;
take C598;
L2285: C598 in ( rng D350 ) by L2256 , L2278 , FUNCT_1:def 3;
thus L2286: C598 in (the carrier of ( Image D350 )) by L2285 , L2257 , YELLOW_0:def 15;
L2287: ( ( D339 . 1 ) `1 ) in { ( ( D339 . B572 ) `1 ) where B572 is (Element of ( NAT )) : (not contradiction) };
L2288: ( [ C591 , C592 ] `1 ) = ( NextSet D338 ) by L2267;
L2289: ( NextSet D338 ) c= D341 by L2288 , L2287 , L2265 , ZFMISC_1:74;
L2290: ( new_set D337 ) = ( new_set ( ConsecutiveSet (D337 , ( {} )) ) ) by L1150
.= ( ConsecutiveSet (D337 , ( succ ( {} ) )) ) by L1153;
L2291: ( new_set D337 ) c= ( NextSet D338 ) by L2290 , L1808 , L1254;
L2292: ( new_set D337 ) c= D341 by L2291 , L2289 , XBOOLE_1:1;
L2293: { { D337 } } in ( new_set D337 ) by L2283 , XBOOLE_0:def 3;
L2294: { D337 } in { { D337 } , { { D337 } } , { { { D337 } } } } by ENUMSET1:def 1;
L2295: { D337 } in ( D337 \/ { { D337 } , { { D337 } } , { { { D337 } } } } ) by L2294 , XBOOLE_0:def 3;
reconsider D352 = { D337 } , D353 = { { D337 } } as (Element of D341) by L2295 , L2292 , L2293;
L2296: (( ConsecutiveSet (D337 , ( {} )) ) = D337 & ( ConsecutiveDelta (C593 , ( {} )) ) = D338) by L1150 , L1241;
L2297: ( ConsecutiveDelta (C593 , ( succ ( {} ) )) ) = ( new_bi_fun (( BiFun (( ConsecutiveDelta (C593 , ( {} )) ) , ( ConsecutiveSet (D337 , ( {} )) ) , R12) ) , ( Quadr (C593 , ( {} )) )) ) by L1244
.= ( new_bi_fun (D338 , D351) ) by L2296 , L1236;
L2298: ( new_bi_fun (D338 , D351) ) c= ( NextDelta C593 ) by L2297 , L1808 , L1430;
L2299: ( new_bi_fun (D338 , D351) ) c= D342 by L2298 , L2282 , XBOOLE_1:1;
L2300: (( dom ( new_bi_fun (D338 , D351) ) ) = [: ( new_set D337 ) , ( new_set D337 ) :] & { D337 } in ( new_set D337 )) by L2294 , FUNCT_2:def 1 , XBOOLE_0:def 3;
L2301: [ { D337 } , { { D337 } } ] in ( dom ( new_bi_fun (D338 , D351) ) ) by L2300 , L2284 , ZFMISC_1:87;
L2302: ( D342 . (D352 , D353) ) = ( ( new_bi_fun (D338 , D351) ) . ({ D337 } , { { D337 } }) ) by L2301 , L2299 , GRFUNC_1:2
.= ( D351 `4_4 ) by L595
.= C597 by L2280 , MCART_1:def 11;
L2303: [ { D337 } , { { D337 } } ] in C598 by L2302 , L2279;
thus L2304: thesis by L2303 , L2259 , RELAT_1:def 10;
end;
take D341;
take D350;
L2305: D338 is  onto by L1784;
L2306: ( rng D338 ) = D337 by L2305 , FUNCT_2:def 3;
L2307: (for B573 being set holds (B573 in D337 implies (ex B574 being set st (B574 in [: D341 , D341 :] & B573 = ( D342 . B574 )))))
proof
let C599 being set;
L2308: ( ( D339 . ( 0 ) ) `1 ) in { ( ( D339 . B575 ) `1 ) where B575 is (Element of ( NAT )) : (not contradiction) };
L2309: ( ( D339 . ( 0 ) ) `2 ) in { ( ( D339 . B576 ) `2 ) where B576 is (Element of ( NAT )) : (not contradiction) };
L2310: ( D339 . ( 0 ) ) = [ D337 , D338 ] by L1680;
L2311: D338 = ( [ D337 , D338 ] `2 );
L2312: D338 c= D342 by L2311 , L2309 , L2310 , ZFMISC_1:74;
assume L2313: C599 in D337;
consider C600 being set such that L2314: C600 in [: D337 , D337 :] and L2315: ( D338 . C600 ) = C599 by L2313 , L2306 , FUNCT_2:11;
take C600;
L2316: D337 = ( [ D337 , D338 ] `1 );
L2317: D337 c= D341 by L2316 , L2308 , L2310 , ZFMISC_1:74;
L2318: [: D337 , D337 :] c= [: D341 , D341 :] by L2317 , ZFMISC_1:96;
thus L2319: C600 in [: D341 , D341 :] by L2318 , L2314;
L2320: C600 in ( dom D338 ) by L2314 , FUNCT_2:def 1;
thus L2321: thesis by L2320 , L2315 , L2312 , GRFUNC_1:2;
end;
L2322: ( rng D342 ) = D337 by L2307 , FUNCT_2:10;
L2323: D342 is  onto by L2322 , FUNCT_2:def 3;
thus L2324: D350 is  one-to-one by L2323 , L568;
L2325: (for B577 , B578 being (Equivalence_Relation of D341) holds (for R7 being set holds (for R8 being set holds ((B577 in (the carrier of ( Image D350 )) & B578 in (the carrier of ( Image D350 )) & [ R7 , R8 ] in ( B577 "\/" B578 )) implies (ex B579 being non  empty (FinSequence of D341) st (( len B579 ) = ( 3 + 2 ) & R7 , R8 are_joint_by B579 , B577 , B578)))))) by L2071;
thus L2326: thesis by L2325 , L2258 , L433;
end;
