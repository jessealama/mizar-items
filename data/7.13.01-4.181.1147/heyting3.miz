:: The Incompleteness of the Lattice of Substitutions
::  by Adam Grabowski
::
:: Received July 17, 2000
:: Copyright (c) 2000-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, ABIAN, RELAT_1, CARD_1, ARYTM_3, ORDERS_2, SUBSET_1,
      TARSKI, ZFMISC_1, FUNCT_1, XXREAL_0, FINSET_1, XBOOLE_0, FINSEQ_1,
      MCART_1, LATTICES, LATTICE3, PBOOLE, EQREL_1, FINSUB_1, PARTFUN1,
      HEYTING1, SUBSTLAT, NORMFORM, REALSET1, STRUCT_0, BINOP_1, RELAT_2,
      ORDINAL4, CAT_1, YELLOW_0, WELLORD1, HEYTING2, REWRITE1, HEYTING3;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, NUMBERS, RELAT_1, FUNCT_1,
      ORDERS_2, NAT_1, FINSEQ_1, BINOP_1, FINSET_1, FINSUB_1, PARTFUN1,
      LATTICES, DOMAIN_1, REALSET1, STRUCT_0, SUBSTLAT, XTUPLE_0, MCART_1,
      WELLORD1, YELLOW_0, ABIAN, XXREAL_2, LATTICE3, HEYTING2, XXREAL_0;
 constructors BINOP_1, TOLER_1, REALSET1, ABIAN, LATTICE3, YELLOW_0, HEYTING2,
      VALUED_1, XXREAL_2, RELSET_1, XTUPLE_0;
 registrations XBOOLE_0, SUBSET_1, ORDINAL1, RELSET_1, PARTFUN1, FINSET_1,
      FINSUB_1, XXREAL_0, NAT_1, MEMBERED, FINSEQ_1, REALSET1, ABIAN, STRUCT_0,
      LATTICES, LATTICE3, YELLOW_0, YELLOW_1, SUBSTLAT, XXREAL_2, RELAT_1,
      HEYTING2, XTUPLE_0;
 requirements SUBSET, BOOLE, NUMERALS, REAL, ARITHM;
 definitions TARSKI, LATTICE3, FUNCT_1, XBOOLE_0, BINOP_1, REALSET1, WELLORD1,
      XTUPLE_0;
 theorems HEYTING2, ZFMISC_1, PARTFUN1, YELLOW_0, LATTICE3, TARSKI, NAT_1,
      LATTICE5, FINSEQ_1, MCART_1, FUNCT_5, ORDERS_2, YELLOW_5, SUBSTLAT,
      FINSUB_1, WAYBEL15, LATTICES, GRFUNC_1, RELAT_1, SYSREL, BINOP_1,
      FUNCT_1, FUNCT_2, XBOOLE_0, XBOOLE_1, ORDINAL1, XREAL_1, XXREAL_0,
      XXREAL_2, PRE_POLY, ABIAN, XTUPLE_0;
 schemes LMOD_7, XBOOLE_0;

begin
scheme SSubsetUniq { F1() -> 1-sorted , P1[set] } : (for B1 , B2 being (Subset of F1()) holds (((for B3 being set holds (B3 in B1 iff P1[ B3 ])) & (for B4 being set holds (B4 in B2 iff P1[ B4 ]))) implies B1 = B2))
proof
let C1 , C2 being (Subset of F1());
assume that
L1: (for B5 being set holds (B5 in C1 iff P1[ B5 ]))
and
L2: (for B6 being set holds (B6 in C2 iff P1[ B6 ]));
thus L3: C1 c= C2
proof
let C3 being set;
assume L4: C3 in C1;
L5: P1[ C3 ] by L4 , L1;
thus L6: thesis by L5 , L2;
end;

let C4 being set;
assume L7: C4 in C2;
L8: P1[ C4 ] by L7 , L2;
thus L9: thesis by L8 , L1;
end;
L10: (for B7 , B8 being set holds [: B7 , { B8 } :] is Function)
proof
let C5 , C6 being set;
set D1 = [: C5 , { C6 } :];
L11: D1 is  Function-like
proof
let C7 , C8 , C9 being set;
assume that
L12: [ C7 , C8 ] in D1
and
L13: [ C7 , C9 ] in D1;
L14: C8 = C6 by L12 , ZFMISC_1:106;
thus L15: thesis by L14 , L13 , ZFMISC_1:106;
end;
thus L16: thesis by L11;
end;
registration
let C10 , C11 being set;
cluster [: C10 , { C11 } :] ->  Function-like;
coherence by L10;
end;
L18: ( 0 ) = ( 2 * ( 0 ) );
L19: 1 = ( ( 0 ) + 1 );
theorem
L20: (for B9 being  finite non  empty (Subset of ( NAT )) holds (ex B10 being (Element of ( NAT )) st B9 c= ( ( Seg B10 ) \/ { ( 0 ) } )))
proof
let C12 being  finite non  empty (Subset of ( NAT ));
reconsider D2 = ( max C12 ) as (Element of ( NAT )) by ORDINAL1:def 12;
take D2;
let C13 being set;
L21: ( Seg D2 ) c= ( ( Seg D2 ) \/ { ( 0 ) } ) by XBOOLE_1:7;
L22: { ( 0 ) } c= ( ( Seg D2 ) \/ { ( 0 ) } ) by XBOOLE_1:7;
assume L23: C13 in C12;
reconsider D3 = C13 as (Element of ( NAT )) by L23;
L24: D3 <= D2 by L23 , XXREAL_2:def 8;
per cases  by NAT_1:25;
suppose L25: 1 <= D3;

L26: D3 in ( Seg D2 ) by L25 , L24 , FINSEQ_1:1;
thus L27: thesis by L26 , L21;
end;
suppose L28: ( 0 ) = D3;

L29: D3 in { ( 0 ) } by L28 , TARSKI:def 1;
thus L30: thesis by L29 , L22;
end;
end;
theorem
L32: (for B11 being  finite (Subset of ( NAT )) holds (ex B12 being  odd (Element of ( NAT )) st (not B12 in B11)))
proof
let C14 being  finite (Subset of ( NAT ));
per cases ;
suppose L33: C14 is non  empty;

consider C15 being (Element of ( NAT )) such that L34: C14 c= ( ( Seg C15 ) \/ { ( 0 ) } ) by L33 , L20;
L35: (not ( ( 2 * C15 ) + 1 ) in C14)
proof
L36: (not ( ( 2 * C15 ) + 1 ) in { ( 0 ) }) by TARSKI:def 1;
assume L37: ( ( 2 * C15 ) + 1 ) in C14;
L38: ( ( 2 * C15 ) + 1 ) in ( Seg C15 ) by L37 , L34 , L36 , XBOOLE_0:def 3;
L39: ( ( 2 * C15 ) + 1 ) <= C15 by L38 , FINSEQ_1:1;
L40: ( 1 * C15 ) <= ( 2 * C15 ) by NAT_1:4;
thus L41: thesis by L40 , L39 , NAT_1:13;
end;
assume L42: (for B13 being  odd (Element of ( NAT )) holds B13 in C14);
thus L43: contradiction by L42 , L35;
end;
suppose L44: C14 is  empty;

thus L45: thesis by L44;
end;
end;
theorem
L47: (for B14 being (Element of ( NAT )) holds (for B15 being  finite non  empty (Subset of [: ( NAT ) , { B14 } :]) holds (ex B16 being non  empty (Element of ( NAT )) st B15 c= [: ( ( Seg B16 ) \/ { ( 0 ) } ) , { B14 } :])))
proof
let C16 being (Element of ( NAT ));
let C17 being  finite non  empty (Subset of [: ( NAT ) , { C16 } :]);
reconsider D4 = ( proj1 C17 ) as  finite non  empty (Subset of ( NAT )) by FUNCT_5:11;
reconsider D5 = ( max D4 ) as (Element of ( NAT )) by ORDINAL1:def 12;
reconsider D6 = ( D5 + 1 ) as non  empty (Element of ( NAT ));
take D6;
let C18 being set;
L48: ( Seg D6 ) c= ( ( Seg D6 ) \/ { ( 0 ) } ) by XBOOLE_1:7;
L49: { ( 0 ) } c= ( ( Seg D6 ) \/ { ( 0 ) } ) by XBOOLE_1:7;
assume L50: C18 in C17;
consider C19 , C20 being set such that L51: C19 in ( NAT ) and L52: C20 in { C16 } and L53: C18 = [ C19 , C20 ] by L50 , ZFMISC_1:def 2;
reconsider D7 = ( C18 `1 ) as (Element of ( NAT )) by L51 , L53 , MCART_1:7;
L54: C19 = ( C18 `1 ) by L53 , MCART_1:7;
L55: ( [ C19 , C20 ] `1 ) = C19;
L56: D7 in D4 by L55 , L50 , L53 , XTUPLE_0:def 12;
L57: (( max D4 ) <= D6 & D7 <= ( max D4 )) by L56 , NAT_1:11 , XXREAL_2:def 8;
L58: D7 <= D6 by L57 , XXREAL_0:2;
per cases  by NAT_1:25;
suppose L59: 1 <= D7;

L60: D7 in ( Seg D6 ) by L59 , L58 , FINSEQ_1:1;
thus L61: thesis by L60 , L52 , L53 , L54 , L48 , ZFMISC_1:87;
end;
suppose L62: ( 0 ) = D7;

L63: D7 in { ( 0 ) } by L62 , TARSKI:def 1;
thus L64: thesis by L63 , L52 , L53 , L54 , L49 , ZFMISC_1:87;
end;
end;
theorem
L66: (for B17 being (Element of ( NAT )) holds (for B18 being  finite non  empty (Subset of [: ( NAT ) , { B17 } :]) holds (ex B19 being non  empty (Element of ( NAT )) st (not [ ( ( 2 * B19 ) + 1 ) , B17 ] in B18))))
proof
let C21 being (Element of ( NAT ));
let C22 being  finite non  empty (Subset of [: ( NAT ) , { C21 } :]);
consider C23 being non  empty (Element of ( NAT )) such that L67: C22 c= [: ( ( Seg C23 ) \/ { ( 0 ) } ) , { C21 } :] by L47;
L68: (not [ ( ( 2 * C23 ) + 1 ) , C21 ] in C22)
proof
assume L69: [ ( ( 2 * C23 ) + 1 ) , C21 ] in C22;
L70: ( ( 2 * C23 ) + 1 ) in ( ( Seg C23 ) \/ { ( 0 ) } ) by L69 , L67 , ZFMISC_1:87;
L71: (not ( ( 2 * C23 ) + 1 ) in { ( 0 ) }) by TARSKI:def 1;
L72: ( ( 2 * C23 ) + 1 ) in ( Seg C23 ) by L71 , L70 , XBOOLE_0:def 3;
L73: ( ( 2 * C23 ) + 1 ) <= C23 by L72 , FINSEQ_1:1;
L74: ( 1 * C23 ) <= ( 2 * C23 ) by NAT_1:4;
thus L75: thesis by L74 , L73 , NAT_1:13;
end;
assume L76: (for B20 being non  empty (Element of ( NAT )) holds [ ( ( 2 * B20 ) + 1 ) , C21 ] in C22);
thus L77: contradiction by L76 , L68;
end;
theorem
L78: (for B21 being (Element of ( NAT )) holds (for B22 being  finite (Subset of [: ( NAT ) , { B21 } :]) holds (ex B23 being (Element of ( NAT )) st (for B24 being (Element of ( NAT )) holds (B24 >= B23 implies (not [ B24 , B21 ] in B22))))))
proof
let C24 being (Element of ( NAT ));
let C25 being  finite (Subset of [: ( NAT ) , { C24 } :]);
per cases ;
suppose L79: C25 is non  empty;

reconsider D8 = C25 as  finite non  empty (Subset of [: ( NAT ) , { C24 } :]) by L79;
consider C26 being non  empty (Element of ( NAT )) such that L80: D8 c= [: ( ( Seg C26 ) \/ { ( 0 ) } ) , { C24 } :] by L47;
take D9 = ( C26 + 1 );
let C27 being (Element of ( NAT ));
assume L81: C27 >= D9;
assume L82: [ C27 , C24 ] in C25;
L83: C27 in ( ( Seg C26 ) \/ { ( 0 ) } ) by L82 , L80 , ZFMISC_1:87;
L84:
now
per cases  by L83 , XBOOLE_0:def 3;
suppose L85: C27 in ( Seg C26 );

L86: C27 <= C26 by L85 , FINSEQ_1:1;
thus L87: contradiction by L86 , L81 , NAT_1:13;
end;
suppose L88: C27 in { ( 0 ) };

thus L89: contradiction by L88 , L81 , TARSKI:def 1;
end;
end;
thus L91: thesis by L84;
end;
suppose L92: C25 is  empty;

L93: (for B25 being (Element of ( NAT )) holds (B25 >= ( 0 ) implies (not [ B25 , C24 ] in C25))) by L92;
thus L94: thesis by L93;
end;
end;
theorem
L96: (for B26 being  upper-bounded Lattice holds ( Top B26 ) = ( Top ( LattPOSet B26 ) ))
proof
let C28 being  upper-bounded Lattice;
set D10 = ( % ( Top ( LattPOSet C28 ) ) );
L97:
now
let C29 being (Element of C28);
L98: ( C29 % ) <= ( D10 % ) by YELLOW_0:45;
L99: C29 [= D10 by L98 , LATTICE3:7;
thus L100: (( D10 "\/" C29 ) = D10 & ( C29 "\/" D10 ) = D10) by L99 , LATTICES:def 3;
end;
thus L101: thesis by L97 , LATTICES:def 17;
end;
theorem
L102: (for B27 being  lower-bounded Lattice holds ( Bottom B27 ) = ( Bottom ( LattPOSet B27 ) ))
proof
let C30 being  lower-bounded Lattice;
set D11 = ( % ( Bottom ( LattPOSet C30 ) ) );
L103:
now
let C31 being (Element of C30);
L104: ( C31 % ) >= ( D11 % ) by YELLOW_0:44;
L105: D11 [= C31 by L104 , LATTICE3:7;
thus L106: (( D11 "/\" C31 ) = D11 & ( C31 "/\" D11 ) = D11) by L105 , LATTICES:4;
end;
thus L107: thesis by L103 , LATTICES:def 16;
end;
begin
theorem
L108: (for B28 being set holds (for B29 being  finite set holds (for B30 , B31 being (Element of ( Fin ( PFuncs (B28 , B29) ) )) holds ((B30 = ( {} ) & B31 <> ( {} )) implies ( B31 =>> B30 ) = ( {} )))))
proof
let C32 being set;
let C33 being  finite set;
let C34 , C35 being (Element of ( Fin ( PFuncs (C32 , C33) ) ));
assume L109: (C34 = ( {} ) & C35 <> ( {} ));
assume L110: ( C35 =>> C34 ) <> ( {} );
consider C36 being set such that L111: C36 in ( C35 =>> C34 ) by L110 , XBOOLE_0:def 1;
L112: (ex B32 being (PartFunc of C35 , C34) st (C36 = ( union { ( ( B32 . B33 ) \ B33 ) where B33 is (Element of ( PFuncs (C32 , C33) )) : B33 in C35 } ) & ( dom B32 ) = C35)) by L111 , HEYTING2:15;
thus L113: thesis by L112 , L109;
end;
theorem
L114: (for B34 , B35 , B36 , B37 being set holds ((B34 c= B35 & B36 c= B37) implies ( SubstitutionSet (B34 , B36) ) c= ( SubstitutionSet (B35 , B37) )))
proof
let C37 , C38 , C39 , C40 being set;
assume L115: (C37 c= C38 & C39 c= C40);
L116: ( PFuncs (C37 , C39) ) c= ( PFuncs (C38 , C40) ) by L115 , PARTFUN1:50;
let C41 being set;
assume L117: C41 in ( SubstitutionSet (C37 , C39) );
L118: C41 in { B38 where B38 is (Element of ( Fin ( PFuncs (C37 , C39) ) )) : ((for B39 being set holds (B39 in B38 implies B39 is  finite)) & (for B40 , B41 being (Element of ( PFuncs (C37 , C39) )) holds ((B40 in B38 & B41 in B38 & B40 c= B41) implies B40 = B41))) } by L117 , SUBSTLAT:def 1;
consider C42 being (Element of ( Fin ( PFuncs (C37 , C39) ) )) such that L119: (C42 = C41 & (for B42 being set holds (B42 in C42 implies B42 is  finite))) and L120: (for B43 , B44 being (Element of ( PFuncs (C37 , C39) )) holds ((B43 in C42 & B44 in C42 & B43 c= B44) implies B43 = B44)) by L118;
L121: (C42 in ( Fin ( PFuncs (C37 , C39) ) ) & ( Fin ( PFuncs (C37 , C39) ) ) c= ( Fin ( PFuncs (C38 , C40) ) )) by L116 , FINSUB_1:10;
L122: C42 c= ( PFuncs (C37 , C39) ) by FINSUB_1:def 5;
reconsider D12 = C42 as (Element of ( Fin ( PFuncs (C38 , C40) ) )) by L121;
L123: (for B45 , B46 being (Element of ( PFuncs (C38 , C40) )) holds ((B45 in D12 & B46 in D12 & B45 c= B46) implies B45 = B46)) by L120 , L122;
L124: C41 in { B47 where B47 is (Element of ( Fin ( PFuncs (C38 , C40) ) )) : ((for B48 being set holds (B48 in B47 implies B48 is  finite)) & (for B49 , B50 being (Element of ( PFuncs (C38 , C40) )) holds ((B49 in B47 & B50 in B47 & B49 c= B50) implies B49 = B50))) } by L123 , L119;
thus L125: thesis by L124 , SUBSTLAT:def 1;
end;
theorem
L126: (for B51 , B52 , B53 , B54 being set holds (for B55 being (Element of ( Fin ( PFuncs (B51 , B53) ) )) holds (for B56 being (Element of ( Fin ( PFuncs (B52 , B54) ) )) holds ((B51 c= B52 & B53 c= B54 & B55 = B56) implies ( mi B55 ) = ( mi B56 )))))
proof
let C43 , C44 , C45 , C46 being set;
let C47 being (Element of ( Fin ( PFuncs (C43 , C45) ) ));
let C48 being (Element of ( Fin ( PFuncs (C44 , C46) ) ));
assume that
L127: (C43 c= C44 & C45 c= C46)
and
L128: C47 = C48;
thus L129:now
let C49 being set;
L130: ( PFuncs (C43 , C45) ) c= ( PFuncs (C44 , C46) ) by L127 , PARTFUN1:50;
assume L131: C49 in ( mi C47 );
L132: C49 in { B57 where B57 is (Element of ( PFuncs (C43 , C45) )) : (B57 is  finite & (for B58 being (Element of ( PFuncs (C43 , C45) )) holds ((B58 in C47 & B58 c= B57) iff B58 = B57))) } by L131 , SUBSTLAT:def 2;
consider C50 being (Element of ( PFuncs (C43 , C45) )) such that L133: C50 = C49 and L134: C50 is  finite and L135: (for B59 being (Element of ( PFuncs (C43 , C45) )) holds ((B59 in C47 & B59 c= C50) iff B59 = C50)) by L132;
L136: C49 in ( PFuncs (C43 , C45) ) by L133;
reconsider D13 = C50 as (Element of ( PFuncs (C44 , C46) )) by L136 , L133 , L130;
L137: (for B60 being (Element of ( PFuncs (C44 , C46) )) holds ((B60 in C48 & B60 c= D13) iff B60 = D13)) by L128 , L131 , L133 , SUBSTLAT:6;
L138: C49 in { B61 where B61 is (Element of ( PFuncs (C44 , C46) )) : (B61 is  finite & (for B62 being (Element of ( PFuncs (C44 , C46) )) holds ((B62 in C48 & B62 c= B61) iff B62 = B61))) } by L137 , L133 , L134;
thus L139: C49 in ( mi C48 ) by L138 , SUBSTLAT:def 2;
end;
let C51 being set;
assume L140: C51 in ( mi C48 );
L141: C51 in { B63 where B63 is (Element of ( PFuncs (C44 , C46) )) : (B63 is  finite & (for B64 being (Element of ( PFuncs (C44 , C46) )) holds ((B64 in C48 & B64 c= B63) iff B64 = B63))) } by L140 , SUBSTLAT:def 2;
L142: (ex B65 being (Element of ( PFuncs (C44 , C46) )) st (B65 = C51 & B65 is  finite & (for B66 being (Element of ( PFuncs (C44 , C46) )) holds ((B66 in C48 & B66 c= B65) iff B66 = B65)))) by L141;
reconsider D14 = C51 as  finite set by L142;
L143: (( mi C48 ) c= C48 & (for B67 being  finite set holds ((B67 in C47 & B67 c= D14) implies B67 = D14))) by L128 , L140 , SUBSTLAT:6 , SUBSTLAT:8;
thus L144: thesis by L143 , L128 , L140 , SUBSTLAT:7;
end;
theorem
L145: (for B68 , B69 , B70 , B71 being set holds ((B68 c= B69 & B70 c= B71) implies (the L_join of ( SubstLatt (B68 , B70) )) = ( (the L_join of ( SubstLatt (B69 , B71) )) || (the carrier of ( SubstLatt (B68 , B70) )) )))
proof
let C52 , C53 , C54 , C55 being set;
set D15 = ( SubstLatt (C52 , C54) );
set D16 = ( SubstLatt (C53 , C55) );
L146: ( SubstitutionSet (C52 , C54) ) = (the carrier of D15) by SUBSTLAT:def 4;
L147: ( dom (the L_join of D16) ) = [: (the carrier of D16) , (the carrier of D16) :] by FUNCT_2:def 1;
reconsider D17 = (the L_join of D15) as (BinOp of (the carrier of D15));
set D18 = ( (the L_join of D16) || (the carrier of D15) );
assume L148: (C52 c= C53 & C54 c= C55);
L149: ( SubstitutionSet (C53 , C55) ) = (the carrier of D16) by SUBSTLAT:def 4;
L150: (the carrier of D15) c= (the carrier of D16) by L149 , L146 , L148 , L114;
L151: ( dom D18 ) = [: (the carrier of D15) , (the carrier of D15) :] by L150 , L147 , RELAT_1:62 , ZFMISC_1:96;
L152: ( SubstitutionSet (C52 , C54) ) c= ( SubstitutionSet (C53 , C55) ) by L148 , L114;
L153: ( rng D18 ) c= (the carrier of D15)
proof
let C56 being set;
assume L154: C56 in ( rng D18 );
consider C57 being set such that L155: C57 in ( dom D18 ) and L156: C56 = ( D18 . C57 ) by L154 , FUNCT_1:def 3;
consider C58 , C59 being set such that L157: (C58 in (the carrier of D15) & C59 in (the carrier of D15)) and L158: C57 = [ C58 , C59 ] by L151 , L155 , ZFMISC_1:def 2;
L159: (C58 in ( SubstitutionSet (C52 , C54) ) & C59 in ( SubstitutionSet (C52 , C54) )) by L157 , SUBSTLAT:def 4;
reconsider D19 = C58 , D20 = C59 as (Element of ( SubstitutionSet (C53 , C55) )) by L159 , L152;
reconsider D21 = C58 , D22 = C59 as (Element of ( SubstitutionSet (C52 , C54) )) by L157 , SUBSTLAT:def 4;
L160: ( D18 . C57 ) = ( (the L_join of D16) . (C58 , C59) ) by L151 , L155 , L158 , FUNCT_1:49
.= ( mi ( D19 \/ D20 ) ) by SUBSTLAT:def 4
.= ( mi ( D21 \/ D22 ) ) by L148 , L126;
thus L161: thesis by L160 , L146 , L156;
end;
reconsider D23 = D18 as (BinOp of (the carrier of D15)) by L153 , L151 , FUNCT_2:2;
L162:
now
let C60 , C61 being (Element of D15);
reconsider D24 = C60 , D25 = C61 as (Element of ( SubstitutionSet (C52 , C54) )) by SUBSTLAT:def 4;
L163: (D24 in ( SubstitutionSet (C52 , C54) ) & D25 in ( SubstitutionSet (C52 , C54) ));
reconsider D26 = C60 , D27 = C61 as (Element of ( SubstitutionSet (C53 , C55) )) by L163 , L152;
thus L164: ( D17 . (C60 , C61) ) = ( mi ( D24 \/ D25 ) ) by SUBSTLAT:def 4
.= ( mi ( D26 \/ D27 ) ) by L148 , L126
.= ( (the L_join of D16) . (C60 , C61) ) by SUBSTLAT:def 4
.= ( D23 . [ C60 , C61 ] ) by FUNCT_1:49
.= ( D23 . (C60 , C61) );
end;
thus L165: thesis by L162 , BINOP_1:2;
end;
definition
let C62 , C63 being set;
func SubstPoset (C62 , C63) -> RelStr equals 
( LattPOSet ( SubstLatt (C62 , C63) ) );
coherence;
end;
registration
let C64 , C65 being set;
cluster ( SubstPoset (C64 , C65) ) ->  with_suprema  with_infima;
coherence;
end;
registration
let C66 , C67 being set;
cluster ( SubstPoset (C66 , C67) ) ->  reflexive  antisymmetric  transitive;
coherence;
end;
theorem
L169: (for B72 , B73 being set holds (for B74 , B75 being (Element of ( SubstPoset (B72 , B73) )) holds (B74 <= B75 iff (for B76 being set holds (B76 in B74 implies (ex B77 being set st (B77 in B75 & B77 c= B76)))))))
proof
let C68 , C69 being set;
let C70 , C71 being (Element of ( SubstPoset (C68 , C69) ));
reconsider D28 = C70 , D29 = C71 as (Element of ( SubstLatt (C68 , C69) ));
reconsider D30 = C70 , D31 = C71 as (Element of ( SubstitutionSet (C68 , C69) )) by SUBSTLAT:def 4;
L170: (( D28 % ) = C70 & ( D29 % ) = C71);
thus L171:now
assume L172: C70 <= C71;
L173: D28 [= D29 by L172 , L170 , LATTICE3:7;
L174: D28 = ( D28 "/\" D29 ) by L173 , LATTICES:4
.= ( (the L_meet of ( SubstLatt (C68 , C69) )) . (D28 , D29) ) by LATTICES:def 2
.= ( mi ( D30 ^ D31 ) ) by SUBSTLAT:def 4;
thus L175: (for B78 being set holds (B78 in C70 implies (ex B79 being set st (B79 in C71 & B79 c= B78)))) by L174 , HEYTING2:4;
end;
assume L176: (for B80 being set holds (B80 in C70 implies (ex B81 being set st (B81 in C71 & B81 c= B80))));
L177: ( mi ( D30 ^ D31 ) ) = D30 by L176 , HEYTING2:5;
L178: D28 = ( (the L_meet of ( SubstLatt (C68 , C69) )) . (D28 , D29) ) by L177 , SUBSTLAT:def 4
.= ( D28 "/\" D29 ) by LATTICES:def 2;
L179: D28 [= D29 by L178 , LATTICES:4;
thus L180: thesis by L179 , L170 , LATTICE3:7;
end;
theorem
L181: (for B82 , B83 , B84 , B85 being set holds ((B82 c= B83 & B84 c= B85) implies ( SubstPoset (B82 , B84) ) is  full  full  full  full (SubRelStr of ( SubstPoset (B83 , B85) ))))
proof
let C72 , C73 , C74 , C75 being set;
set D32 = ( SubstPoset (C72 , C74) );
set D33 = ( SubstPoset (C73 , C75) );
L182: ((the carrier of D32) = ( SubstitutionSet (C72 , C74) ) & (the carrier of D33) = ( SubstitutionSet (C73 , C75) )) by SUBSTLAT:def 4;
assume L183: (C72 c= C73 & C74 c= C75);
L184: (the carrier of D32) c= (the carrier of D33) by L183 , L182 , L114;
L185:
now
let C76 , C77 being set;
assume L186: [ C76 , C77 ] in (the InternalRel of D32);
reconsider D34 = C76 , D35 = C77 as (Element of D32) by L186 , ZFMISC_1:87;
L187: (C76 in (the carrier of D32) & C77 in (the carrier of D32)) by L186 , ZFMISC_1:87;
reconsider D36 = C76 , D37 = C77 as (Element of D33) by L187 , L184;
L188: D34 <= D35 by L186 , ORDERS_2:def 5;
L189: (for B86 being set holds (B86 in D34 implies (ex B87 being set st (B87 in D35 & B87 c= B86)))) by L188 , L169;
L190: D36 <= D37 by L189 , L169;
thus L191: [ C76 , C77 ] in (the InternalRel of D33) by L190 , ORDERS_2:def 5;
end;
L192: (the InternalRel of D32) c= (the InternalRel of D33) by L185 , RELAT_1:def 3;
reconsider D38 = D32 as (SubRelStr of D33) by L192 , L184 , YELLOW_0:def 13;
L193:
now
let C78 , C79 being set;
assume L194: [ C78 , C79 ] in ( (the InternalRel of D33) |_2 (the carrier of D38) );
L195: [ C78 , C79 ] in (the InternalRel of D33) by L194 , XBOOLE_0:def 4;
reconsider D39 = C78 , D40 = C79 as (Element of D33) by L195 , ZFMISC_1:87;
L196: [ C78 , C79 ] in [: (the carrier of D38) , (the carrier of D38) :] by L194 , XBOOLE_0:def 4;
reconsider D41 = C78 , D42 = C79 as (Element of D38) by L196 , ZFMISC_1:87;
L197: D39 <= D40 by L195 , ORDERS_2:def 5;
L198: (for B88 being set holds (B88 in D39 implies (ex B89 being set st (B89 in D40 & B89 c= B88)))) by L197 , L169;
L199: D41 <= D42 by L198 , L169;
thus L200: [ C78 , C79 ] in (the InternalRel of D38) by L199 , ORDERS_2:def 5;
end;
L201: ( (the InternalRel of D33) |_2 (the carrier of D38) ) c= (the InternalRel of D38) by L193 , RELAT_1:def 3;
L202:
now
let C80 , C81 being set;
assume L203: [ C80 , C81 ] in (the InternalRel of D38);
reconsider D43 = C80 , D44 = C81 as (Element of D38) by L203 , ZFMISC_1:87;
L204: (C80 in (the carrier of D38) & C81 in (the carrier of D38)) by L203 , ZFMISC_1:87;
reconsider D45 = D43 , D46 = D44 as (Element of D33) by L204 , L184;
L205: D43 <= D44 by L203 , ORDERS_2:def 5;
L206: (for B90 being set holds (B90 in D43 implies (ex B91 being set st (B91 in D44 & B91 c= B90)))) by L205 , L169;
L207: D45 <= D46 by L206 , L169;
L208: [ D45 , D46 ] in (the InternalRel of D33) by L207 , ORDERS_2:def 5;
thus L209: [ C80 , C81 ] in ( (the InternalRel of D33) |_2 (the carrier of D38) ) by L208 , L203 , XBOOLE_0:def 4;
end;
L210: (the InternalRel of D38) c= ( (the InternalRel of D33) |_2 (the carrier of D38) ) by L202 , RELAT_1:def 3;
L211: (the InternalRel of D38) = ( (the InternalRel of D33) |_2 (the carrier of D38) ) by L210 , L201 , XBOOLE_0:def 10;
thus L212: thesis by L211 , YELLOW_0:def 14;
end;
definition
let C82 , C83 being (Element of ( NAT ));
func PFArt (C82 , C83) -> (Element of ( PFuncs (( NAT ) , { C83 }) )) means 
:L213: (for B92 being set holds (B92 in it iff ((ex B93 being  odd (Element of ( NAT )) st (B93 <= ( 2 * C82 ) & [ B93 , C83 ] = B92)) or [ ( 2 * C82 ) , C83 ] = B92)));
existence
proof
defpred S1[ set ] means ((ex B94 being  odd (Element of ( NAT )) st (B94 <= ( 2 * C82 ) & [ B94 , C83 ] = $1)) or [ ( 2 * C82 ) , C83 ] = $1);
consider C84 being set such that L214: (for B95 being set holds (B95 in C84 iff (B95 in [: ( NAT ) , { C83 } :] & S1[ B95 ]))) from XBOOLE_0:sch 1;
L215: C84 c= [: ( NAT ) , { C83 } :]
proof
let C85 being set;
assume L216: C85 in C84;
thus L217: thesis by L216 , L214;
end;
reconsider D47 = C84 as Function by L215 , GRFUNC_1:1;
L218: (( dom D47 ) c= ( NAT ) & ( rng D47 ) c= { C83 }) by L215 , SYSREL:3;
reconsider D48 = C84 as (Element of ( PFuncs (( NAT ) , { C83 }) )) by L218 , PARTFUN1:def 3;
take D48;
let C86 being set;
thus L219: (C86 in D48 implies ((ex B96 being  odd (Element of ( NAT )) st (B96 <= ( 2 * C82 ) & [ B96 , C83 ] = C86)) or [ ( 2 * C82 ) , C83 ] = C86)) by L214;
assume L220: ((ex B97 being  odd (Element of ( NAT )) st (B97 <= ( 2 * C82 ) & [ B97 , C83 ] = C86)) or [ ( 2 * C82 ) , C83 ] = C86);
per cases  by L220;
suppose L221: (ex B98 being  odd (Element of ( NAT )) st (B98 <= ( 2 * C82 ) & [ B98 , C83 ] = C86));

L222: C86 in [: ( NAT ) , { C83 } :] by L221 , ZFMISC_1:106;
thus L223: thesis by L222 , L214 , L220;
end;
suppose L224: [ ( 2 * C82 ) , C83 ] = C86;

L225: C86 in [: ( NAT ) , { C83 } :] by L224 , ZFMISC_1:106;
thus L226: thesis by L225 , L214 , L224;
end;
end;
uniqueness
proof
defpred S2[ set ] means ((ex B99 being  odd (Element of ( NAT )) st (B99 <= ( 2 * C82 ) & [ B99 , C83 ] = $1)) or [ ( 2 * C82 ) , C83 ] = $1);
L228: (for B100 , B101 being (Element of ( PFuncs (( NAT ) , { C83 }) )) holds (((for B102 being set holds (B102 in B100 iff S2[ B102 ])) & (for B103 being set holds (B103 in B101 iff S2[ B103 ]))) implies B100 = B101)) from LMOD_7:sch 1;
let C87 , C88 being (Element of ( PFuncs (( NAT ) , { C83 }) ));
assume L229: ((for B104 being set holds (B104 in C87 iff S2[ B104 ])) & (for B105 being set holds (B105 in C88 iff S2[ B105 ])));
thus L230: thesis by L229 , L228;
end;
end;
registration
let C89 , C90 being (Element of ( NAT ));
cluster ( PFArt (C89 , C90) ) ->  finite;
coherence
proof
L232: ( PFArt (C89 , C90) ) c= [: ( ( Seg ( 2 * C89 ) ) \/ { ( 0 ) } ) , { C90 } :]
proof
let C91 being set;
assume L233: C91 in ( PFArt (C89 , C90) );
per cases  by L233 , L213;
suppose L234: (ex B106 being  odd (Element of ( NAT )) st (B106 <= ( 2 * C89 ) & [ B106 , C90 ] = C91));

consider C92 being  odd (Element of ( NAT )) such that L235: C92 <= ( 2 * C89 ) and L236: [ C92 , C90 ] = C91 by L234;
L237: 1 <= C92 by ABIAN:12;
L238: C92 in ( Seg ( 2 * C89 ) ) by L237 , L235 , FINSEQ_1:1;
L239: C92 in ( ( Seg ( 2 * C89 ) ) \/ { ( 0 ) } ) by L238 , XBOOLE_0:def 3;
thus L240: thesis by L239 , L236 , ZFMISC_1:106;
end;
suppose L241: [ ( 2 * C89 ) , C90 ] = C91;

L242:
now
per cases ;
suppose L243: C89 is non  empty;

L244: C89 <= ( 2 * C89 ) by XREAL_1:151;
L245: 1 <= C89 by L243 , NAT_1:14;
L246: 1 <= ( 2 * C89 ) by L245 , L244 , XXREAL_0:2;
L247: ( 2 * C89 ) in ( Seg ( 2 * C89 ) ) by L246 , FINSEQ_1:1;
L248: ( 2 * C89 ) in ( ( Seg ( 2 * C89 ) ) \/ { ( 0 ) } ) by L247 , XBOOLE_0:def 3;
thus L249: thesis by L248 , L241 , ZFMISC_1:106;
end;
suppose L250: C89 is  empty;

L251: ( 2 * C89 ) in { ( 0 ) } by L250 , TARSKI:def 1;
L252: ( 2 * C89 ) in ( ( Seg ( 2 * C89 ) ) \/ { ( 0 ) } ) by L251 , XBOOLE_0:def 3;
thus L253: thesis by L252 , L241 , ZFMISC_1:106;
end;
end;
thus L255: thesis by L242;
end;
end;
thus L257: thesis by L232;
end;
end;
definition
let C93 , C94 being (Element of ( NAT ));
func PFCrt (C93 , C94) -> (Element of ( PFuncs (( NAT ) , { C94 }) )) means 
:L259: (for B107 being set holds (B107 in it iff (ex B108 being  odd (Element of ( NAT )) st (B108 <= ( ( 2 * C93 ) + 1 ) & [ B108 , C94 ] = B107))));
existence
proof
defpred S3[ set ] means (ex B109 being  odd (Element of ( NAT )) st (B109 <= ( ( 2 * C93 ) + 1 ) & [ B109 , C94 ] = $1));
consider C95 being set such that L260: (for B110 being set holds (B110 in C95 iff (B110 in [: ( NAT ) , { C94 } :] & S3[ B110 ]))) from XBOOLE_0:sch 1;
L261: C95 c= [: ( NAT ) , { C94 } :]
proof
let C96 being set;
assume L262: C96 in C95;
thus L263: thesis by L262 , L260;
end;
reconsider D49 = C95 as Function by L261 , GRFUNC_1:1;
L264: (( dom D49 ) c= ( NAT ) & ( rng D49 ) c= { C94 }) by L261 , SYSREL:3;
reconsider D50 = C95 as (Element of ( PFuncs (( NAT ) , { C94 }) )) by L264 , PARTFUN1:def 3;
take D50;
let C97 being set;
thus L265: (C97 in D50 implies (ex B111 being  odd (Element of ( NAT )) st (B111 <= ( ( 2 * C93 ) + 1 ) & [ B111 , C94 ] = C97))) by L260;
given C98 being  odd (Element of ( NAT )) such that
L266: C98 <= ( ( 2 * C93 ) + 1 )
and
L267: [ C98 , C94 ] = C97;

L268: C97 in [: ( NAT ) , { C94 } :] by L267 , ZFMISC_1:106;
thus L269: thesis by L268 , L260 , L266 , L267;
end;
uniqueness
proof
defpred S4[ set ] means (ex B112 being  odd (Element of ( NAT )) st (B112 <= ( ( 2 * C93 ) + 1 ) & [ B112 , C94 ] = $1));
L270: (for B113 , B114 being (Element of ( PFuncs (( NAT ) , { C94 }) )) holds (((for B115 being set holds (B115 in B113 iff S4[ B115 ])) & (for B116 being set holds (B116 in B114 iff S4[ B116 ]))) implies B113 = B114)) from LMOD_7:sch 1;
let C99 , C100 being (Element of ( PFuncs (( NAT ) , { C94 }) ));
assume L271: ((for B117 being set holds (B117 in C99 iff S4[ B117 ])) & (for B118 being set holds (B118 in C100 iff S4[ B118 ])));
thus L272: thesis by L271 , L270;
end;
end;
registration
let C101 , C102 being (Element of ( NAT ));
cluster ( PFCrt (C101 , C102) ) ->  finite;
coherence
proof
set D51 = ( PFCrt (C101 , C102) );
L274: D51 c= [: ( Seg ( ( 2 * C101 ) + 1 ) ) , { C102 } :]
proof
let C103 being set;
assume L275: C103 in D51;
consider C104 being  odd (Element of ( NAT )) such that L276: C104 <= ( ( 2 * C101 ) + 1 ) and L277: [ C104 , C102 ] = C103 by L275 , L259;
L278: 1 <= C104 by ABIAN:12;
L279: C104 in ( Seg ( ( 2 * C101 ) + 1 ) ) by L278 , L276 , FINSEQ_1:1;
thus L280: thesis by L279 , L277 , ZFMISC_1:106;
end;
thus L281: thesis by L274;
end;
end;
theorem
L283: (for B119 , B120 being (Element of ( NAT )) holds [ ( ( 2 * B119 ) + 1 ) , B120 ] in ( PFCrt (B119 , B120) )) by L259;
theorem
L284: (for B121 , B122 being (Element of ( NAT )) holds ( PFCrt (B121 , B122) ) misses { [ ( ( 2 * B121 ) + 3 ) , B122 ] })
proof
let C105 , C106 being (Element of ( NAT ));
assume L285: ( ( PFCrt (C105 , C106) ) /\ { [ ( ( 2 * C105 ) + 3 ) , C106 ] } ) <> ( {} );
consider C107 being set such that L286: C107 in ( ( PFCrt (C105 , C106) ) /\ { [ ( ( 2 * C105 ) + 3 ) , C106 ] } ) by L285 , XBOOLE_0:def 1;
L287: C107 in ( PFCrt (C105 , C106) ) by L286 , XBOOLE_0:def 4;
consider C108 being  odd (Element of ( NAT )) such that L288: C108 <= ( ( 2 * C105 ) + 1 ) and L289: [ C108 , C106 ] = C107 by L287 , L259;
L290: C107 in { [ ( ( 2 * C105 ) + 3 ) , C106 ] } by L286 , XBOOLE_0:def 4;
L291: C107 = [ ( ( 2 * C105 ) + 3 ) , C106 ] by L290 , TARSKI:def 1;
L292: C108 = ( ( 2 * C105 ) + 3 ) by L291 , L289 , XTUPLE_0:1;
thus L293: thesis by L292 , L288 , XREAL_1:6;
end;
L294: (for B123 being (Element of ( NAT )) holds ( ( 2 * B123 ) + 1 ) <= ( ( 2 * ( B123 + 1 ) ) + 1 ))
proof
let C109 being (Element of ( NAT ));
L295: ( ( 2 * ( C109 + 1 ) ) + 1 ) = ( ( ( 2 * C109 ) + 1 ) + 2 );
thus L296: thesis by L295 , NAT_1:11;
end;
theorem
L297: (for B124 , B125 being (Element of ( NAT )) holds ( PFCrt (( B124 + 1 ) , B125) ) = ( ( PFCrt (B124 , B125) ) \/ { [ ( ( 2 * B124 ) + 3 ) , B125 ] } ))
proof
let C110 , C111 being (Element of ( NAT ));
L298: ( ( 2 * ( C110 + 1 ) ) + 1 ) = ( ( 2 * C110 ) + 3 );
thus L299: ( PFCrt (( C110 + 1 ) , C111) ) c= ( ( PFCrt (C110 , C111) ) \/ { [ ( ( 2 * C110 ) + 3 ) , C111 ] } )
proof
let C112 being set;
assume L300: C112 in ( PFCrt (( C110 + 1 ) , C111) );
consider C113 being  odd (Element of ( NAT )) such that L301: C113 <= ( ( 2 * ( C110 + 1 ) ) + 1 ) and L302: [ C113 , C111 ] = C112 by L300 , L259;
per cases  by L301 , NAT_1:9;
suppose L303: C113 <= ( 2 * ( C110 + 1 ) );

L304: (C113 <= ( ( 2 * C110 ) + 1 ) or C113 = ( ( ( 2 * C110 ) + 1 ) + 1 )) by L303 , NAT_1:8;
L305: C112 in ( PFCrt (C110 , C111) ) by L304 , L302 , L259;
thus L306: thesis by L305 , XBOOLE_0:def 3;
end;
suppose L307: C113 = ( ( 2 * ( C110 + 1 ) ) + 1 );

L308: C112 in { [ ( ( 2 * C110 ) + 3 ) , C111 ] } by L307 , L302 , TARSKI:def 1;
thus L309: thesis by L308 , XBOOLE_0:def 3;
end;
end;

let C114 being set;
assume L311: C114 in ( ( PFCrt (C110 , C111) ) \/ { [ ( ( 2 * C110 ) + 3 ) , C111 ] } );
per cases  by L311 , XBOOLE_0:def 3;
suppose L312: C114 in ( PFCrt (C110 , C111) );

consider C115 being  odd (Element of ( NAT )) such that L313: C115 <= ( ( 2 * C110 ) + 1 ) and L314: [ C115 , C111 ] = C114 by L312 , L259;
L315: ( ( 2 * C110 ) + 1 ) <= ( ( 2 * ( C110 + 1 ) ) + 1 ) by L294;
L316: C115 <= ( ( 2 * ( C110 + 1 ) ) + 1 ) by L315 , L313 , XXREAL_0:2;
thus L317: thesis by L316 , L314 , L259;
end;
suppose L318: C114 in { [ ( ( 2 * C110 ) + 3 ) , C111 ] };

L319: C114 = [ ( ( 2 * C110 ) + 3 ) , C111 ] by L318 , TARSKI:def 1;
thus L320: thesis by L319 , L298 , L259;
end;
end;
L322: (for B126 , B127 being (Element of ( NAT )) holds (not ( PFCrt (( B126 + 1 ) , B127) ) c= ( PFCrt (B126 , B127) )))
proof
let C116 , C117 being (Element of ( NAT ));
set D52 = [ ( ( 2 * C116 ) + 3 ) , C117 ];
L323: ( PFCrt (( C116 + 1 ) , C117) ) = ( ( PFCrt (C116 , C117) ) \/ { [ ( ( 2 * C116 ) + 3 ) , C117 ] } ) by L297;
L324: { D52 } c= ( PFCrt (( C116 + 1 ) , C117) ) by L323 , XBOOLE_1:7;
L325: D52 in ( PFCrt (( C116 + 1 ) , C117) ) by L324 , ZFMISC_1:31;
L326: ( PFCrt (C116 , C117) ) misses { [ ( ( 2 * C116 ) + 3 ) , C117 ] } by L284;
L327: ( ( PFCrt (C116 , C117) ) /\ { [ ( ( 2 * C116 ) + 3 ) , C117 ] } ) = ( {} ) by L326 , XBOOLE_0:def 7;
thus L328: thesis by L327 , L325 , ZFMISC_1:46;
end;
theorem
L329: (for B128 , B129 being (Element of ( NAT )) holds ( PFCrt (B128 , B129) ) c< ( PFCrt (( B128 + 1 ) , B129) ))
proof
let C118 , C119 being (Element of ( NAT ));
thus L330: ( PFCrt (C118 , C119) ) c= ( PFCrt (( C118 + 1 ) , C119) )
proof
let C120 being set;
assume L331: C120 in ( PFCrt (C118 , C119) );
consider C121 being  odd (Element of ( NAT )) such that L332: C121 <= ( ( 2 * C118 ) + 1 ) and L333: [ C121 , C119 ] = C120 by L331 , L259;
L334: ( ( 2 * C118 ) + 1 ) <= ( ( 2 * ( C118 + 1 ) ) + 1 ) by L294;
L335: C121 <= ( ( 2 * ( C118 + 1 ) ) + 1 ) by L334 , L332 , XXREAL_0:2;
thus L336: thesis by L335 , L333 , L259;
end;

thus L337: thesis by L322;
end;
registration
let C122 , C123 being (Element of ( NAT ));
cluster ( PFArt (C122 , C123) ) -> non  empty;
coherence
proof
L338: [ ( 2 * C122 ) , C123 ] in ( PFArt (C122 , C123) ) by L213;
thus L339: thesis by L338;
end;
end;
theorem
L341: (for B130 , B131 , B132 being (Element of ( NAT )) holds (not ( PFArt (B130 , B131) ) c= ( PFCrt (B132 , B131) )))
proof
let C124 , C125 , C126 being (Element of ( NAT ));
set D53 = [ ( 2 * C124 ) , C125 ];
L342: (not D53 in ( PFCrt (C126 , C125) ))
proof
assume L343: D53 in ( PFCrt (C126 , C125) );
L344: (ex B133 being  odd (Element of ( NAT )) st (B133 <= ( ( 2 * C126 ) + 1 ) & [ B133 , C125 ] = D53)) by L343 , L259;
thus L345: thesis by L344 , XTUPLE_0:1;
end;
L346: D53 in ( PFArt (C124 , C125) ) by L213;
thus L347: thesis by L346 , L342;
end;
L348: (for B134 , B135 being (Element of ( NAT )) holds ( PFCrt (B134 , B135) ) c= ( PFCrt (( B134 + 1 ) , B135) ))
proof
let C127 , C128 being (Element of ( NAT ));
L349: ( PFCrt (C127 , C128) ) c< ( PFCrt (( C127 + 1 ) , C128) ) by L329;
thus L350: thesis by L349 , XBOOLE_0:def 8;
end;
theorem
L351: (for B136 , B137 , B138 being (Element of ( NAT )) holds (B136 <= B138 implies ( PFCrt (B136 , B137) ) c= ( PFCrt (B138 , B137) )))
proof
let C129 , C130 , C131 being (Element of ( NAT ));
assume L352: C129 <= C131;
L353: ( 2 * C129 ) <= ( 2 * C131 ) by L352 , NAT_1:4;
L354: ( ( 2 * C129 ) + 1 ) <= ( ( 2 * C131 ) + 1 ) by L353 , XREAL_1:6;
let C132 being set;
assume L355: C132 in ( PFCrt (C129 , C130) );
consider C133 being  odd (Element of ( NAT )) such that L356: C133 <= ( ( 2 * C129 ) + 1 ) and L357: [ C133 , C130 ] = C132 by L355 , L259;
L358: C133 <= ( ( 2 * C131 ) + 1 ) by L354 , L356 , XXREAL_0:2;
thus L359: thesis by L358 , L357 , L259;
end;
L360: (for B139 , B140 , B141 being (Element of ( NAT )) holds (B139 < B141 implies ( PFCrt (B139 , B140) ) c= ( PFArt (B141 , B140) )))
proof
let C134 , C135 , C136 being (Element of ( NAT ));
assume L361: C134 < C136;
L362: ( 2 * C134 ) < ( 2 * C136 ) by L361 , XREAL_1:68;
L363: ( ( 2 * C134 ) + 1 ) <= ( 2 * C136 ) by L362 , NAT_1:13;
let C137 being set;
assume L364: C137 in ( PFCrt (C134 , C135) );
consider C138 being  odd (Element of ( NAT )) such that L365: C138 <= ( ( 2 * C134 ) + 1 ) and L366: [ C138 , C135 ] = C137 by L364 , L259;
L367: C138 <= ( 2 * C136 ) by L363 , L365 , XXREAL_0:2;
thus L368: thesis by L367 , L366 , L213;
end;
theorem
L369: (for B142 being (Element of ( NAT )) holds ( PFArt (1 , B142) ) = { [ 1 , B142 ] , [ 2 , B142 ] })
proof
let C139 being (Element of ( NAT ));
thus L370: ( PFArt (1 , C139) ) c= { [ 1 , C139 ] , [ 2 , C139 ] }
proof
let C140 being set;
assume L371: C140 in ( PFArt (1 , C139) );
per cases  by L371 , L213;
suppose L372: (ex B143 being  odd (Element of ( NAT )) st (B143 <= ( 2 * 1 ) & [ B143 , C139 ] = C140));

L373: C140 = [ 1 , C139 ] by L372 , NAT_1:26;
thus L374: thesis by L373 , TARSKI:def 2;
end;
suppose L375: [ ( 2 * 1 ) , C139 ] = C140;

thus L376: thesis by L375 , TARSKI:def 2;
end;
end;

let C141 being set;
assume L378: C141 in { [ 1 , C139 ] , [ 2 , C139 ] };
per cases  by L378 , TARSKI:def 2;
suppose L379: C141 = [ 1 , C139 ];

L380: 1 <= ( 2 * 1 );
thus L381: thesis by L380 , L379 , L213 , L18 , L19;
end;
suppose L382: C141 = [ 2 , C139 ];

L383: C141 = [ ( 2 * 1 ) , C139 ] by L382;
thus L384: thesis by L383 , L213;
end;
end;
definition
let C142 , C143 being (Element of ( NAT ));
func PFBrt (C142 , C143) -> (Element of ( Fin ( PFuncs (( NAT ) , { C143 }) ) )) means 
:L386: (for B144 being set holds (B144 in it iff ((ex B145 being non  empty (Element of ( NAT )) st (B145 <= C142 & B144 = ( PFArt (B145 , C143) ))) or B144 = ( PFCrt (C142 , C143) ))));
existence
proof
defpred S5[ set ] means ((ex B146 being non  empty (Element of ( NAT )) st (B146 <= C142 & $1 = ( PFArt (B146 , C143) ))) or $1 = ( PFCrt (C142 , C143) ));
consider C144 being set such that L387: (for B147 being set holds (B147 in C144 iff (B147 in ( PFuncs (( NAT ) , { C143 }) ) & S5[ B147 ]))) from XBOOLE_0:sch 1;
L388: C144 c= ( bool [: ( Seg ( ( 2 * C142 ) + 1 ) ) , { C143 } :] )
proof
let C145 being set;
assume L389: C145 in C144;
per cases  by L387 , L389;
suppose L390: (ex B148 being non  empty (Element of ( NAT )) st (B148 <= C142 & C145 = ( PFArt (B148 , C143) )));

L391: ( 2 * C142 ) <= ( ( 2 * C142 ) + 1 ) by NAT_1:11;
consider C146 being non  empty (Element of ( NAT )) such that L392: C146 <= C142 and L393: C145 = ( PFArt (C146 , C143) ) by L390;
L394: ( 2 * C146 ) <= ( 2 * C142 ) by L392 , NAT_1:4;
L395: ( 2 * C146 ) <= ( ( 2 * C142 ) + 1 ) by L394 , L391 , XXREAL_0:2;
L396: C145 c= [: ( Seg ( ( 2 * C142 ) + 1 ) ) , { C143 } :]
proof
let C147 being set;
assume L397: C147 in C145;
per cases  by L393 , L397 , L213;
suppose L398: (ex B149 being  odd (Element of ( NAT )) st (B149 <= ( 2 * C146 ) & [ B149 , C143 ] = C147));

consider C148 being  odd (Element of ( NAT )) such that L399: C148 <= ( 2 * C146 ) and L400: [ C148 , C143 ] = C147 by L398;
L401: 1 <= C148 by ABIAN:12;
L402: C148 <= ( ( 2 * C142 ) + 1 ) by L395 , L399 , XXREAL_0:2;
L403: C148 in ( Seg ( ( 2 * C142 ) + 1 ) ) by L402 , L401 , FINSEQ_1:1;
thus L404: thesis by L403 , L400 , ZFMISC_1:106;
end;
suppose L405: [ ( 2 * C146 ) , C143 ] = C147;

L406: C146 <= ( 2 * C146 ) by XREAL_1:151;
L407: 1 <= ( 2 * C146 ) by L406 , NAT_1:14;
L408: ( 2 * C146 ) in ( Seg ( ( 2 * C142 ) + 1 ) ) by L407 , L395 , FINSEQ_1:1;
thus L409: thesis by L408 , L405 , ZFMISC_1:106;
end;
end;
thus L411: thesis by L396;
end;
suppose L412: C145 = ( PFCrt (C142 , C143) );

L413: C145 c= [: ( Seg ( ( 2 * C142 ) + 1 ) ) , { C143 } :]
proof
let C149 being set;
assume L414: C149 in C145;
consider C150 being  odd (Element of ( NAT )) such that L415: C150 <= ( ( 2 * C142 ) + 1 ) and L416: [ C150 , C143 ] = C149 by L414 , L412 , L259;
L417: 1 <= C150 by ABIAN:12;
L418: C150 in ( Seg ( ( 2 * C142 ) + 1 ) ) by L417 , L415 , FINSEQ_1:1;
thus L419: thesis by L418 , L416 , ZFMISC_1:106;
end;
thus L420: thesis by L413;
end;
end;
L422: C144 c= ( PFuncs (( NAT ) , { C143 }) )
proof
let C151 being set;
assume L423: C151 in C144;
thus L424: thesis by L423 , L387;
end;
reconsider D54 = C144 as (Element of ( Fin ( PFuncs (( NAT ) , { C143 }) ) )) by L422 , L388 , FINSUB_1:def 5;
take D54;
let C152 being set;
thus L425: (C152 in D54 implies ((ex B150 being non  empty (Element of ( NAT )) st (B150 <= C142 & C152 = ( PFArt (B150 , C143) ))) or C152 = ( PFCrt (C142 , C143) ))) by L387;
assume L426: ((ex B151 being non  empty (Element of ( NAT )) st (B151 <= C142 & C152 = ( PFArt (B151 , C143) ))) or C152 = ( PFCrt (C142 , C143) ));
thus L427: thesis by L426 , L387;
end;
uniqueness
proof
defpred S6[ set ] means ((ex B152 being non  empty (Element of ( NAT )) st (B152 <= C142 & $1 = ( PFArt (B152 , C143) ))) or $1 = ( PFCrt (C142 , C143) ));
L428: (for B153 , B154 being (Element of ( Fin ( PFuncs (( NAT ) , { C143 }) ) )) holds (((for B155 being set holds (B155 in B153 iff S6[ B155 ])) & (for B156 being set holds (B156 in B154 iff S6[ B156 ]))) implies B153 = B154)) from LMOD_7:sch 1;
let C153 , C154 being (Element of ( Fin ( PFuncs (( NAT ) , { C143 }) ) ));
assume L429: ((for B157 being set holds (B157 in C153 iff S6[ B157 ])) & (for B158 being set holds (B158 in C154 iff S6[ B158 ])));
thus L430: thesis by L429 , L428;
end;
end;
theorem
L432: (for B159 , B160 being (Element of ( NAT )) holds (for B161 being set holds (B161 in ( PFBrt (( B159 + 1 ) , B160) ) implies (ex B162 being set st (B162 in ( PFBrt (B159 , B160) ) & B162 c= B161)))))
proof
let C155 , C156 being (Element of ( NAT ));
let C157 being set;
assume L433: C157 in ( PFBrt (( C155 + 1 ) , C156) );
per cases  by L433 , L386;
suppose L434: (ex B163 being non  empty (Element of ( NAT )) st (B163 <= ( C155 + 1 ) & C157 = ( PFArt (B163 , C156) )));

consider C158 being non  empty (Element of ( NAT )) such that L435: C158 <= ( C155 + 1 ) and L436: C157 = ( PFArt (C158 , C156) ) by L434;
thus L437: (ex B164 being set st (B164 in ( PFBrt (C155 , C156) ) & B164 c= C157))
proof
per cases  by L435 , NAT_1:8;
suppose L438: C158 <= C155;

take D55 = C157;
thus L439: D55 in ( PFBrt (C155 , C156) ) by L436 , L438 , L386;
thus L440: thesis;
end;
suppose L441: C158 = ( C155 + 1 );

take ( PFCrt (C155 , C156) );
L442: C155 < ( C155 + 1 ) by NAT_1:13;
thus L443: thesis by L442 , L436 , L441 , L386 , L360;
end;
end;

end;
suppose L438: C157 = ( PFCrt (( C155 + 1 ) , C156) );

take D56 = ( PFCrt (C155 , C156) );
thus L439: D56 in ( PFBrt (C155 , C156) ) by L386;
thus L440: thesis by L438 , L348;
end;
end;
theorem
L442: (for B165 , B166 being (Element of ( NAT )) holds (not ( PFCrt (B165 , B166) ) in ( PFBrt (( B165 + 1 ) , B166) )))
proof
let C159 , C160 being (Element of ( NAT ));
assume L443: ( PFCrt (C159 , C160) ) in ( PFBrt (( C159 + 1 ) , C160) );
L444: ((ex B167 being non  empty (Element of ( NAT )) st (B167 <= ( C159 + 1 ) & ( PFCrt (C159 , C160) ) = ( PFArt (B167 , C160) ))) or ( PFCrt (C159 , C160) ) = ( PFCrt (( C159 + 1 ) , C160) )) by L443 , L386;
thus L445: thesis by L444 , L329 , L341;
end;
L446: (for B168 , B169 being (Element of ( NAT )) holds (for B170 being set holds (B170 in ( PFBrt (B168 , B169) ) implies B170 is  finite)))
proof
let C161 , C162 being (Element of ( NAT ));
let C163 being set;
assume L447: C163 in ( PFBrt (C161 , C162) );
L448: ((ex B171 being non  empty (Element of ( NAT )) st (B171 <= C161 & C163 = ( PFArt (B171 , C162) ))) or C163 = ( PFCrt (C161 , C162) )) by L447 , L386;
per cases  by L448;
suppose L449: (ex B172 being (Element of ( NAT )) st (B172 <= C161 & C163 = ( PFArt (B172 , C162) )));

thus L450: thesis by L449;
end;
suppose L451: C163 = ( PFCrt (C161 , C162) );

thus L452: thesis by L451;
end;
end;
theorem
L454: (for B173 , B174 , B175 being (Element of ( NAT )) holds (( PFArt (B173 , B174) ) c= ( PFArt (B175 , B174) ) implies B173 = B175))
proof
let C164 , C165 , C166 being (Element of ( NAT ));
assume L455: ( PFArt (C164 , C165) ) c= ( PFArt (C166 , C165) );
assume L456: C164 <> C166;
L457: ( 2 * C164 ) <> ( 2 * C166 ) by L456;
L458: [ ( 2 * C164 ) , C165 ] <> [ ( 2 * C166 ) , C165 ] by L457 , XTUPLE_0:1;
L459: [ ( 2 * C164 ) , C165 ] in ( PFArt (C164 , C165) ) by L213;
L460: (ex B176 being  odd (Element of ( NAT )) st (B176 <= ( 2 * C166 ) & [ B176 , C165 ] = [ ( 2 * C164 ) , C165 ])) by L459 , L455 , L458 , L213;
thus L461: thesis by L460 , XTUPLE_0:1;
end;
theorem
L462: (for B177 , B178 , B179 being (Element of ( NAT )) holds (( PFCrt (B177 , B178) ) c= ( PFArt (B179 , B178) ) iff B177 < B179))
proof
let C167 , C168 , C169 being (Element of ( NAT ));
thus L463: (( PFCrt (C167 , C168) ) c= ( PFArt (C169 , C168) ) implies C167 < C169)
proof
assume L464: ( PFCrt (C167 , C168) ) c= ( PFArt (C169 , C168) );
assume L465: C169 <= C167;
L466: (not [ ( ( 2 * C167 ) + 1 ) , C168 ] in ( PFArt (C169 , C168) ))
proof
assume L467: [ ( ( 2 * C167 ) + 1 ) , C168 ] in ( PFArt (C169 , C168) );
per cases  by L467 , L213;
suppose L468: (ex B180 being  odd (Element of ( NAT )) st (B180 <= ( 2 * C169 ) & [ B180 , C168 ] = [ ( ( 2 * C167 ) + 1 ) , C168 ]));

L469: ( 2 * C169 ) <= ( 2 * C167 ) by L465 , NAT_1:4;
L470: ( ( 2 * C167 ) + 1 ) <= ( 2 * C169 ) by L468 , XTUPLE_0:1;
thus L471: thesis by L470 , L469 , NAT_1:13;
end;
suppose L472: [ ( 2 * C169 ) , C168 ] = [ ( ( 2 * C167 ) + 1 ) , C168 ];

thus L473: thesis by L472 , XTUPLE_0:1;
end;
end;
L475: [ ( ( 2 * C167 ) + 1 ) , C168 ] in ( PFCrt (C167 , C168) ) by L259;
thus L476: thesis by L475 , L464 , L466;
end;

thus L477: thesis by L360;
end;
begin
theorem
L478: (for B181 , B182 being (Element of ( NAT )) holds ( PFBrt (B181 , B182) ) is (Element of ( SubstPoset (( NAT ) , { B182 }) )))
proof
let C170 , C171 being (Element of ( NAT ));
L479: (for B183 , B184 being (Element of ( PFuncs (( NAT ) , { C171 }) )) holds ((B183 in ( PFBrt (C170 , C171) ) & B184 in ( PFBrt (C170 , C171) ) & B183 c= B184) implies B183 = B184))
proof
let C172 , C173 being (Element of ( PFuncs (( NAT ) , { C171 }) ));
assume that
L480: C172 in ( PFBrt (C170 , C171) )
and
L481: C173 in ( PFBrt (C170 , C171) )
and
L482: C172 c= C173;
L483: ((ex B185 being non  empty (Element of ( NAT )) st (B185 <= C170 & C172 = ( PFArt (B185 , C171) ))) or C172 = ( PFCrt (C170 , C171) )) by L480 , L386;
L484: ((ex B186 being non  empty (Element of ( NAT )) st (B186 <= C170 & C173 = ( PFArt (B186 , C171) ))) or C173 = ( PFCrt (C170 , C171) )) by L481 , L386;
per cases  by L483 , L484;
suppose L485: ((ex B187 being (Element of ( NAT )) st (B187 <= C170 & C172 = ( PFArt (B187 , C171) ))) & (ex B188 being (Element of ( NAT )) st (B188 <= C170 & C173 = ( PFArt (B188 , C171) ))));

thus L486: thesis by L485 , L482 , L454;
end;
suppose L487: ((ex B189 being (Element of ( NAT )) st (B189 <= C170 & C172 = ( PFArt (B189 , C171) ))) & C173 = ( PFCrt (C170 , C171) ));

thus L488: thesis by L487 , L482 , L341;
end;
suppose L489: (C172 = ( PFCrt (C170 , C171) ) & (ex B190 being (Element of ( NAT )) st (B190 <= C170 & C173 = ( PFArt (B190 , C171) ))));

thus L490: thesis by L489 , L482 , L462;
end;
suppose L491: (C172 = ( PFCrt (C170 , C171) ) & C173 = ( PFCrt (C170 , C171) ));

thus L492: thesis by L491;
end;
end;
L494: (for B191 being set holds (B191 in ( PFBrt (C170 , C171) ) implies B191 is  finite)) by L446;
L495: (( SubstitutionSet (( NAT ) , { C171 }) ) = (the carrier of ( SubstPoset (( NAT ) , { C171 }) )) & ( PFBrt (C170 , C171) ) in { B192 where B192 is (Element of ( Fin ( PFuncs (( NAT ) , { C171 }) ) )) : ((for B193 being set holds (B193 in B192 implies B193 is  finite)) & (for B194 , B195 being (Element of ( PFuncs (( NAT ) , { C171 }) )) holds ((B194 in B192 & B195 in B192 & B194 c= B195) implies B194 = B195))) }) by L494 , L479 , SUBSTLAT:def 4;
thus L496: thesis by L495 , SUBSTLAT:def 1;
end;
definition
let C174 being (Element of ( NAT ));
func PFDrt C174 -> (Subset of ( SubstPoset (( NAT ) , { C174 }) )) means 
:L497: (for B196 being set holds (B196 in it iff (ex B197 being non  empty (Element of ( NAT )) st B196 = ( PFBrt (B197 , C174) ))));
existence
proof
defpred S7[ set ] means (ex B198 being non  empty (Element of ( NAT )) st $1 = ( PFBrt (B198 , C174) ));
consider C175 being set such that L498: (for B199 being set holds (B199 in C175 iff (B199 in (the carrier of ( SubstPoset (( NAT ) , { C174 }) )) & S7[ B199 ]))) from XBOOLE_0:sch 1;
L499: C175 c= (the carrier of ( SubstPoset (( NAT ) , { C174 }) ))
proof
let C176 being set;
assume L500: C176 in C175;
thus L501: thesis by L500 , L498;
end;
reconsider D57 = C175 as (Subset of ( SubstPoset (( NAT ) , { C174 }) )) by L499;
take D57;
let C177 being set;
thus L502: (C177 in D57 implies (ex B200 being non  empty (Element of ( NAT )) st C177 = ( PFBrt (B200 , C174) ))) by L498;
given C178 being non  empty (Element of ( NAT )) such that
L503: C177 = ( PFBrt (C178 , C174) );

L504: C177 is (Element of ( SubstPoset (( NAT ) , { C174 }) )) by L503 , L478;
thus L505: thesis by L504 , L498 , L503;
end;
uniqueness
proof
defpred S8[ set ] means (ex B201 being non  empty (Element of ( NAT )) st $1 = ( PFBrt (B201 , C174) ));
L506: (for B202 , B203 being (Subset of ( SubstPoset (( NAT ) , { C174 }) )) holds (((for B204 being set holds (B204 in B202 iff S8[ B204 ])) & (for B205 being set holds (B205 in B203 iff S8[ B205 ]))) implies B202 = B203)) from SSubsetUniq;
let C179 , C180 being (Subset of ( SubstPoset (( NAT ) , { C174 }) ));
assume L507: ((for B206 being set holds (B206 in C179 iff S8[ B206 ])) & (for B207 being set holds (B207 in C180 iff S8[ B207 ])));
thus L508: thesis by L507 , L506;
end;
end;
theorem
L510: (for B208 being (Element of ( NAT )) holds ( PFBrt (1 , B208) ) = { ( PFArt (1 , B208) ) , ( PFCrt (1 , B208) ) })
proof
let C181 being (Element of ( NAT ));
thus L511: ( PFBrt (1 , C181) ) c= { ( PFArt (1 , C181) ) , ( PFCrt (1 , C181) ) }
proof
let C182 being set;
assume L512: C182 in ( PFBrt (1 , C181) );
per cases  by L512 , L386;
suppose L513: (ex B209 being non  empty (Element of ( NAT )) st (B209 <= 1 & C182 = ( PFArt (B209 , C181) )));

consider C183 being non  empty (Element of ( NAT )) such that L514: C183 <= 1 and L515: C182 = ( PFArt (C183 , C181) ) by L513;
L516: C183 >= 1 by NAT_1:14;
L517: C183 = 1 by L516 , L514 , XXREAL_0:1;
thus L518: thesis by L517 , L515 , TARSKI:def 2;
end;
suppose L519: C182 = ( PFCrt (1 , C181) );

thus L520: thesis by L519 , TARSKI:def 2;
end;
end;

let C184 being set;
assume L522: C184 in { ( PFArt (1 , C181) ) , ( PFCrt (1 , C181) ) };
per cases  by L522 , TARSKI:def 2;
suppose L523: C184 = ( PFArt (1 , C181) );

thus L524: thesis by L523 , L386;
end;
suppose L525: C184 = ( PFCrt (1 , C181) );

thus L526: thesis by L525 , L386;
end;
end;
theorem
L528: (for B210 being (Element of ( NAT )) holds ( PFBrt (1 , B210) ) <> { ( {} ) })
proof
let C185 being (Element of ( NAT ));
L529: ( PFArt (1 , C185) ) in ( PFBrt (1 , C185) ) by L386;
thus L530: thesis by L529 , TARSKI:def 1;
end;
registration
let C186 being (Element of ( NAT ));
cluster ( PFBrt (1 , C186) ) -> non  empty;
coherence
proof
L531: ( PFArt (1 , C186) ) in ( PFBrt (1 , C186) ) by L386;
thus L532: thesis by L531;
end;
end;
theorem
L534: (for B211 , B212 being (Element of ( NAT )) holds { ( PFArt (B211 , B212) ) } is (Element of ( SubstPoset (( NAT ) , { B212 }) )))
proof
let C187 , C188 being (Element of ( NAT ));
L535: ( SubstitutionSet (( NAT ) , { C188 }) ) = (the carrier of ( SubstPoset (( NAT ) , { C188 }) )) by SUBSTLAT:def 4;
thus L536: thesis by L535 , HEYTING2:2;
end;
theorem
L537: (for B213 being (Element of ( NAT )) holds (for B214 , B215 being set holds (for B216 being (Element of ( SubstPoset (B214 , { B213 }) )) holds (B215 in B216 implies B215 is  finite  finite  finite  finite (Subset of [: B214 , { B213 } :])))))
proof
let C189 being (Element of ( NAT ));
let C190 , C191 being set;
let C192 being (Element of ( SubstPoset (C190 , { C189 }) ));
assume L538: C191 in C192;
L539: ( PFuncs (C190 , { C189 }) ) c= ( bool [: C190 , { C189 } :] ) by PRE_POLY:16;
L540: ( SubstitutionSet (C190 , { C189 }) ) = (the carrier of ( SubstPoset (C190 , { C189 }) )) by SUBSTLAT:def 4;
L541: C192 in ( SubstitutionSet (C190 , { C189 }) ) by L540;
L542: C192 c= ( PFuncs (C190 , { C189 }) ) by L541 , FINSUB_1:def 5;
L543: C191 in ( PFuncs (C190 , { C189 }) ) by L542 , L538;
thus L544: thesis by L543 , L540 , L538 , L539 , HEYTING2:1;
end;
theorem
L545: (for B217 being (Element of ( NAT )) holds (for B218 being (Element of ( SubstPoset (( NAT ) , { B217 }) )) holds (( PFDrt B217 ) is_>=_than B218 implies (for B219 being non  empty set holds (B219 in B218 implies (not (for B220 being (Element of ( NAT )) holds ([ B220 , B217 ] in B219 implies B220 is  odd))))))))
proof
let C193 being (Element of ( NAT ));
let C194 being (Element of ( SubstPoset (( NAT ) , { C193 }) ));
assume L546: ( PFDrt C193 ) is_>=_than C194;
let C195 being non  empty set;
assume L547: C195 in C194;
reconsider D58 = C195 as  finite non  empty (Subset of [: ( NAT ) , { C193 } :]) by L547 , L537;
assume L548: (for B221 being (Element of ( NAT )) holds ([ B221 , C193 ] in C195 implies B221 is  odd));
L549:
now
let C196 being non  empty (Element of ( NAT ));
reconsider D59 = ( PFBrt (C196 , C193) ) as (Element of ( SubstPoset (( NAT ) , { C193 }) )) by L478;
L550: [ ( ( 2 * C196 ) + 1 ) , C193 ] in ( PFCrt (C196 , C193) ) by L259;
L551: D59 in ( PFDrt C193 ) by L497;
L552: C194 <= D59 by L551 , L546 , LATTICE3:def 8;
consider C197 being set such that L553: C197 in D59 and L554: C197 c= C195 by L552 , L547 , L169;
L555: (not (ex B222 being (Element of ( NAT )) st (B222 <= C196 & C197 = ( PFArt (B222 , C193) ))))
proof
given C198 being (Element of ( NAT )) such that
L556: C198 <= C196
and
L557: C197 = ( PFArt (C198 , C193) );

L558: [ ( 2 * C198 ) , C193 ] in ( PFArt (C198 , C193) ) by L213;
thus L559: thesis by L558 , L548 , L554 , L557;
end;
L560: ((ex B223 being non  empty (Element of ( NAT )) st (B223 <= C196 & C197 = ( PFArt (B223 , C193) ))) or C197 = ( PFCrt (C196 , C193) )) by L553 , L386;
thus L561: [ ( ( 2 * C196 ) + 1 ) , C193 ] in C195 by L560 , L554 , L555 , L550;
end;
L562: (ex B224 being non  empty (Element of ( NAT )) st (not [ ( ( 2 * B224 ) + 1 ) , C193 ] in D58)) by L66;
thus L563: thesis by L562 , L549;
end;
theorem
L564: (for B225 being (Element of ( NAT )) holds (for B226 , B227 being (Element of ( SubstPoset (( NAT ) , { B225 }) )) holds (for B228 being (Subset of ( SubstPoset (( NAT ) , { B225 }) )) holds ((B226 is_<=_than B228 & B227 is_<=_than B228) implies ( B226 "\/" B227 ) is_<=_than B228))))
proof
let C199 being (Element of ( NAT ));
let C200 , C201 being (Element of ( SubstPoset (( NAT ) , { C199 }) ));
let C202 being (Subset of ( SubstPoset (( NAT ) , { C199 }) ));
assume L565: (C200 is_<=_than C202 & C201 is_<=_than C202);
let C203 being (Element of ( SubstPoset (( NAT ) , { C199 }) ));
assume L566: C203 in C202;
L567: (C200 <= C203 & C201 <= C203) by L566 , L565 , LATTICE3:def 8;
thus L568: thesis by L567 , YELLOW_5:9;
end;
registration
let C204 being (Element of ( NAT ));
cluster non  empty for (Element of ( SubstPoset (( NAT ) , { C204 }) ));
existence
proof
L569: ( SubstitutionSet (( NAT ) , { C204 }) ) = (the carrier of ( SubstPoset (( NAT ) , { C204 }) )) by SUBSTLAT:def 4;
reconsider D60 = { ( {} ) } as (Element of ( SubstPoset (( NAT ) , { C204 }) )) by L569 , SUBSTLAT:2;
take D60;
thus L570: thesis;
end;
end;
L572: (for B229 being non  empty set holds ((B229 <> { ( {} ) } & ( {} ) in B229) implies (ex B230 being set st (B230 in B229 & B230 <> ( {} )))))
proof
let C205 being non  empty set;
assume that
L573: C205 <> { ( {} ) }
and
L574: ( {} ) in C205;
assume L575: (for B231 being set holds (B231 in C205 implies B231 = ( {} )));
L576: C205 = { ( {} ) }
proof
thus L577: C205 c= { ( {} ) }
proof
let C206 being set;
assume L578: C206 in C205;
L579: C206 = ( {} ) by L578 , L575;
thus L580: thesis by L579 , TARSKI:def 1;
end;

let C207 being set;
assume L581: C207 in { ( {} ) };
thus L582: thesis by L581 , L574 , TARSKI:def 1;
end;
thus L583: thesis by L576 , L573;
end;
theorem
L584: (for B232 being (Element of ( NAT )) holds (for B233 being (Element of ( SubstPoset (( NAT ) , { B232 }) )) holds (( {} ) in B233 implies B233 = { ( {} ) })))
proof
let C208 being (Element of ( NAT ));
let C209 being (Element of ( SubstPoset (( NAT ) , { C208 }) ));
assume L585: ( {} ) in C209;
L586: ( SubstitutionSet (( NAT ) , { C208 }) ) = (the carrier of ( SubstPoset (( NAT ) , { C208 }) )) by SUBSTLAT:def 4;
L587: C209 in ( SubstitutionSet (( NAT ) , { C208 }) ) by L586;
assume L588: C209 <> { ( {} ) };
L589: (ex B234 being set st (B234 in C209 & B234 <> ( {} ))) by L588 , L585 , L572;
thus L590: thesis by L589 , L587 , L585 , SUBSTLAT:5 , XBOOLE_1:2;
end;
theorem
L591: (for B235 being (Element of ( NAT )) holds (for B236 being non  empty (Element of ( SubstPoset (( NAT ) , { B235 }) )) holds (B236 <> { ( {} ) } implies (ex B237 being  finite Function st (B237 in B236 & B237 <> ( {} ))))))
proof
let C210 being (Element of ( NAT ));
let C211 being non  empty (Element of ( SubstPoset (( NAT ) , { C210 }) ));
assume L592: C211 <> { ( {} ) };
consider C212 being set such that L593: C212 in C211 by XBOOLE_0:def 1;
L594: ( SubstitutionSet (( NAT ) , { C210 }) ) = (the carrier of ( SubstPoset (( NAT ) , { C210 }) )) by SUBSTLAT:def 4;
reconsider D61 = C212 as  finite Function by L594 , L593 , HEYTING2:1;
take D61;
thus L595: D61 in C211 by L593;
assume L596: D61 = ( {} );
thus L597: thesis by L596 , L592 , L593 , L584;
end;
theorem
L598: (for B238 being (Element of ( NAT )) holds (for B239 being non  empty (Element of ( SubstPoset (( NAT ) , { B238 }) )) holds (for B240 being (Element of ( Fin ( PFuncs (( NAT ) , { B238 }) ) )) holds ((B239 <> { ( {} ) } & B239 = B240) implies ( Involved B240 ) is  finite non  empty  finite non  empty  finite non  empty  finite non  empty (Subset of ( NAT ))))))
proof
let C213 being (Element of ( NAT ));
let C214 being non  empty (Element of ( SubstPoset (( NAT ) , { C213 }) ));
let C215 being (Element of ( Fin ( PFuncs (( NAT ) , { C213 }) ) ));
assume that
L599: C214 <> { ( {} ) }
and
L600: C214 = C215;
consider C216 being  finite Function such that L601: C216 in C214 and L602: C216 <> ( {} ) by L599 , L591;
L603: (ex B241 being set st B241 in ( dom C216 )) by L602 , XBOOLE_0:def 1;
thus L604: thesis by L603 , L600 , L601 , HEYTING2:6 , HEYTING2:def 1;
end;
theorem
L605: (for B242 being (Element of ( NAT )) holds (for B243 being (Element of ( SubstPoset (( NAT ) , { B242 }) )) holds (for B244 being (Element of ( Fin ( PFuncs (( NAT ) , { B242 }) ) )) holds (for B245 being  finite non  empty (Subset of ( NAT )) holds ((B245 = ( Involved B244 ) & B244 = B243) implies (for B246 being set holds (B246 in B243 implies (for B247 being (Element of ( NAT )) holds (B247 > ( ( max B245 ) + 1 ) implies (not [ B247 , B242 ] in B246))))))))))
proof
let C217 being (Element of ( NAT ));
let C218 being (Element of ( SubstPoset (( NAT ) , { C217 }) ));
let C219 being (Element of ( Fin ( PFuncs (( NAT ) , { C217 }) ) ));
let C220 being  finite non  empty (Subset of ( NAT ));
assume that
L606: C220 = ( Involved C219 )
and
L607: C219 = C218;
let C221 being set;
assume L608: C221 in C218;
L609: ( SubstitutionSet (( NAT ) , { C217 }) ) = (the carrier of ( SubstPoset (( NAT ) , { C217 }) )) by SUBSTLAT:def 4;
reconsider D62 = C221 as  finite Function by L609 , L608 , HEYTING2:1;
let C222 being (Element of ( NAT ));
assume L610: C222 > ( ( max C220 ) + 1 );
assume L611: [ C222 , C217 ] in C221;
L612: C222 in ( dom D62 ) by L611 , XTUPLE_0:def 12;
L613: C222 in ( Involved C219 ) by L612 , L607 , L608 , HEYTING2:def 1;
L614: (( ( max C220 ) + 1 ) >= ( max C220 ) & ( max C220 ) >= C222) by L613 , L606 , NAT_1:11 , XXREAL_2:def 8;
thus L615: thesis by L614 , L610 , XXREAL_0:2;
end;
theorem
L616: (for B248 being (Element of ( NAT )) holds ( Top ( SubstPoset (( NAT ) , { B248 }) ) ) = { ( {} ) })
proof
let C223 being (Element of ( NAT ));
L617: ( SubstitutionSet (( NAT ) , { C223 }) ) = (the carrier of ( SubstPoset (( NAT ) , { C223 }) )) by SUBSTLAT:def 4;
reconsider D63 = { ( {} ) } as (Element of ( SubstPoset (( NAT ) , { C223 }) )) by L617 , SUBSTLAT:2;
L618: (for B249 being (Element of ( SubstPoset (( NAT ) , { C223 }) )) holds (B249 is_<=_than ( {} ) implies D63 >= B249))
proof
let C224 being (Element of ( SubstPoset (( NAT ) , { C223 }) ));
assume L619: C224 is_<=_than ( {} );
L620:
now
let C225 being set;
assume L621: C225 in C224;
take D64 = ( {} );
thus L622: (D64 in D63 & D64 c= C225) by TARSKI:def 1 , XBOOLE_1:2;
end;
thus L623: thesis by L620 , L169;
end;
L624: D63 is_<=_than ( {} ) by YELLOW_0:6;
L625: D63 = ( "/\" (( {} ) , ( SubstPoset (( NAT ) , { C223 }) )) ) by L624 , L618 , YELLOW_0:31;
thus L626: thesis by L625 , YELLOW_0:def 12;
end;
theorem
L627: (for B250 being (Element of ( NAT )) holds ( Bottom ( SubstPoset (( NAT ) , { B250 }) ) ) = ( {} ))
proof
let C226 being (Element of ( NAT ));
L628: ( SubstitutionSet (( NAT ) , { C226 }) ) = (the carrier of ( SubstPoset (( NAT ) , { C226 }) )) by SUBSTLAT:def 4;
reconsider D65 = ( {} ) as (Element of ( SubstPoset (( NAT ) , { C226 }) )) by L628 , SUBSTLAT:1;
L629: (for B251 being (Element of ( SubstPoset (( NAT ) , { C226 }) )) holds (B251 is_>=_than ( {} ) implies D65 <= B251))
proof
let C227 being (Element of ( SubstPoset (( NAT ) , { C226 }) ));
assume L630: C227 is_>=_than ( {} );
L631: (for B252 being set holds (B252 in D65 implies (ex B253 being set st (B253 in C227 & B253 c= B252))));
thus L632: thesis by L631 , L169;
end;
L633: D65 is_>=_than ( {} ) by YELLOW_0:6;
L634: D65 = ( "\/" (( {} ) , ( SubstPoset (( NAT ) , { C226 }) )) ) by L633 , L629 , YELLOW_0:30;
thus L635: thesis by L634 , YELLOW_0:def 11;
end;
theorem
L636: (for B254 being (Element of ( NAT )) holds (for B255 , B256 being (Element of ( SubstPoset (( NAT ) , { B254 }) )) holds ((B255 <= B256 & B255 = { ( {} ) }) implies B256 = { ( {} ) })))
proof
let C228 being (Element of ( NAT ));
let C229 , C230 being (Element of ( SubstPoset (( NAT ) , { C228 }) ));
assume L637: (C229 <= C230 & C229 = { ( {} ) });
L638: ( Top ( SubstPoset (( NAT ) , { C228 }) ) ) = { ( {} ) } by L616;
thus L639: thesis by L638 , L637 , WAYBEL15:3;
end;
theorem
L640: (for B257 being (Element of ( NAT )) holds (for B258 , B259 being (Element of ( SubstPoset (( NAT ) , { B257 }) )) holds ((B258 <= B259 & B259 = ( {} )) implies B258 = ( {} ))))
proof
let C231 being (Element of ( NAT ));
let C232 , C233 being (Element of ( SubstPoset (( NAT ) , { C231 }) ));
assume L641: (C232 <= C233 & C233 = ( {} ));
L642: ( Bottom ( SubstPoset (( NAT ) , { C231 }) ) ) = ( {} ) by L627;
thus L643: thesis by L642 , L641 , YELLOW_5:19;
end;
theorem
L644: (for B260 being (Element of ( NAT )) holds (for B261 being (Element of ( SubstPoset (( NAT ) , { B260 }) )) holds (( PFDrt B260 ) is_>=_than B261 implies B261 <> { ( {} ) })))
proof
let C234 being (Element of ( NAT ));
reconsider D66 = ( PFBrt (1 , C234) ) as (Element of ( SubstPoset (( NAT ) , { C234 }) )) by L478;
let C235 being (Element of ( SubstPoset (( NAT ) , { C234 }) ));
assume L645: ( PFDrt C234 ) is_>=_than C235;
L646: ( PFBrt (1 , C234) ) in ( PFDrt C234 ) by L497;
L647: D66 >= C235 by L646 , L645 , LATTICE3:def 8;
assume L648: C235 = { ( {} ) };
L649: ( Top ( SubstPoset (( NAT ) , { C234 }) ) ) = { ( {} ) } by L616;
thus L650: thesis by L649 , L648 , L647 , L528 , WAYBEL15:3;
end;
L651: (for B262 being (Element of ( NAT )) holds (not ( SubstPoset (( NAT ) , { B262 }) ) is  complete))
proof
let C236 being (Element of ( NAT ));
reconsider D67 = { ( PFArt (1 , C236) ) } as (Element of ( SubstPoset (( NAT ) , { C236 }) )) by L534;
assume L652: ( SubstPoset (( NAT ) , { C236 }) ) is  complete;
consider C237 being (Element of ( SubstPoset (( NAT ) , { C236 }) )) such that L653: ( PFDrt C236 ) is_>=_than C237 and L654: (for B263 being (Element of ( SubstPoset (( NAT ) , { C236 }) )) holds (( PFDrt C236 ) is_>=_than B263 implies C237 >= B263)) by L652 , LATTICE5:def 2;
L655: ( SubstitutionSet (( NAT ) , { C236 }) ) = (the carrier of ( SubstPoset (( NAT ) , { C236 }) )) by SUBSTLAT:def 4;
L656: C237 in ( SubstitutionSet (( NAT ) , { C236 }) ) by L655;
reconsider D68 = C237 as (Element of ( Fin ( PFuncs (( NAT ) , { C236 }) ) )) by L656;
set D69 = ( Involved D68 );
L657: ( PFDrt C236 ) is_>=_than D67
proof
let C238 being (Element of ( SubstPoset (( NAT ) , { C236 }) ));
assume L658: C238 in ( PFDrt C236 );
consider C239 being non  empty (Element of ( NAT )) such that L659: C238 = ( PFBrt (C239 , C236) ) by L658 , L497;
L660:
now
let C240 being set;
assume L661: C240 in D67;
L662: C240 = ( PFArt (1 , C236) ) by L661 , TARSKI:def 1;
L663: 1 <= C239 by NAT_1:14;
L664: C240 in ( PFBrt (C239 , C236) ) by L663 , L662 , L386;
thus L665: (ex B264 being set st (B264 in C238 & B264 c= C240)) by L664 , L659;
end;
thus L666: thesis by L660 , L169;
end;
L667: C237 <> ( {} ) by L657 , L654 , L640;
reconsider D70 = D69 as  finite non  empty (Subset of ( NAT )) by L667 , L653 , L598 , L644;
reconsider D71 = ( ( max D70 ) + 1 ) as non  empty (Element of ( NAT ));
reconsider D72 = { ( PFArt (D71 , C236) ) } as (Element of ( SubstPoset (( NAT ) , { C236 }) )) by L534;
set D73 = ( C237 "\/" D72 );
L668: D72 is_<=_than ( PFDrt C236 )
proof
let C241 being (Element of ( SubstPoset (( NAT ) , { C236 }) ));
assume L669: C241 in ( PFDrt C236 );
consider C242 being non  empty (Element of ( NAT )) such that L670: C241 = ( PFBrt (C242 , C236) ) by L669 , L497;
L671: (for B265 being set holds (B265 in D72 implies (ex B266 being set st (B266 in C241 & B266 c= B265))))
proof
let C243 being set;
assume L672: C243 in D72;
L673: C243 = ( PFArt (D71 , C236) ) by L672 , TARSKI:def 1;
per cases ;
suppose L674: C242 < D71;

take D74 = ( PFCrt (C242 , C236) );
thus L675: D74 in C241 by L670 , L386;
thus L676: thesis by L673 , L674 , L360;
end;
suppose L677: C242 >= D71;

take D75 = ( PFArt (D71 , C236) );
thus L678: D75 in C241 by L670 , L677 , L386;
thus L679: thesis by L672 , TARSKI:def 1;
end;
end;
thus L681: D72 <= C241 by L671 , L169;
end;
L682: ( PFDrt C236 ) is_>=_than D73 by L668 , L653 , L564;
L683: C237 <> D73
proof
L684: ( PFArt (D71 , C236) ) in D72 by TARSKI:def 1;
assume L685: C237 = D73;
L686: D72 <= C237 by L685 , YELLOW_0:24;
consider C244 being set such that L687: C244 in C237 and L688: C244 c= ( PFArt (D71 , C236) ) by L686 , L684 , L169;
per cases ;
suppose L689: C244 is non  empty;

consider C245 being (Element of ( NAT )) such that L690: [ C245 , C236 ] in C244 and L691: C245 is  even by L689 , L653 , L687 , L545;
L692:
now
per cases  by L688 , L690 , L213;
suppose L693: (ex B267 being  odd (Element of ( NAT )) st (B267 <= ( 2 * D71 ) & [ B267 , C236 ] = [ C245 , C236 ]));

thus L694: thesis by L693 , L691 , XTUPLE_0:1;
end;
suppose L695: [ ( 2 * D71 ) , C236 ] = [ C245 , C236 ];

thus L696: thesis by L695 , L687 , L690 , L605 , XREAL_1:155;
end;
end;
thus L698: thesis by L692;
end;
suppose L699: C244 is  empty;

reconsider D76 = ( PFBrt (1 , C236) ) as (Element of ( SubstPoset (( NAT ) , { C236 }) )) by L478;
L700: ( PFBrt (1 , C236) ) in ( PFDrt C236 ) by L497;
L701: D76 >= D73 by L700 , L682 , LATTICE3:def 8;
L702: ( PFBrt (1 , C236) ) <> { ( {} ) } by L528;
thus L703: thesis by L702 , L685 , L687 , L699 , L701 , L584 , L636;
end;
end;
L705: C237 <= D73 by YELLOW_0:22;
L706: C237 < D73 by L705 , L683 , ORDERS_2:def 6;
thus L707: contradiction by L706 , L654 , L682 , ORDERS_2:6;
end;
registration
let C246 being (Element of ( NAT ));
cluster ( SubstPoset (( NAT ) , { C246 }) ) -> non  complete;
coherence by L651;
end;
registration
let C247 being (Element of ( NAT ));
cluster ( SubstLatt (( NAT ) , { C247 }) ) -> non  complete;
coherence
proof
assume L709: ( SubstLatt (( NAT ) , { C247 }) ) is  complete;
reconsider D77 = ( SubstLatt (( NAT ) , { C247 }) ) as  complete Lattice by L709;
L710: (( LattPOSet D77 ) is  complete & ( SubstPoset (( NAT ) , { C247 }) ) is non  complete);
thus L711: thesis by L710;
end;
end;
