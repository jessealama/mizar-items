:: Continuity of Barycentric Coordinates in Euclidean Topological Spaces
::  by Karol P\kak
::
:: Received December 21, 2010
:: Copyright (c) 2010-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies ALGSTR_0, AOFA_I00, ARYTM_1, ARYTM_3, CARD_1, CARD_3, CLASSES1,
      COMPLEX1, CONVEX1, EUCLID, EUCLID_9, FINSEQ_1, FINSEQ_2, FINSEQ_4,
      FINSET_1, FUNCOP_1, FUNCSDOM, FUNCT_1, FUNCT_2, LMOD_7, MATRIX_1,
      MATRIX_3, MATRIX13, MATRLIN, MATRLIN2, MESFUNC1, METRIC_1, MONOID_0,
      NAT_1, NUMBERS, ORDINAL1, ORDINAL2, ORDINAL4, PARTFUN1, PCOMPS_1,
      PRE_TOPC, PROB_1, PRVECT_1, QC_LANG1, RCOMP_1, REAL_1, RELAT_1, RFINSEQ,
      RLAFFIN1, RLSUB_1, RLTOPSP1, RLVECT_1, RLVECT_2, RLVECT_3, RLVECT_5,
      RUSUB_4, SEMI_AF1, SETFAM_1, STRUCT_0, SUBSET_1, SUPINF_2, TARSKI,
      TOPMETR, TOPS_1, TOPS_2, VALUED_0, VALUED_1, VECTSP_1, XBOOLE_0,
      XCMPLX_0, XREAL_0, XXREAL_0, XXREAL_1, ZFMISC_1;
 notations TARSKI, XBOOLE_0, SUBSET_1, ZFMISC_1, ORDINAL1, NUMBERS, XXREAL_0,
      CARD_1, XREAL_0, REAL_1, FINSET_1, DOMAIN_1, RELAT_1, FUNCT_1, RELSET_1,
      PARTFUN1, FUNCT_2, FINSEQ_1, FUNCOP_1, STRUCT_0, FINSEQ_2, FINSEQOP,
      RVSUM_1, RLVECT_1, RLVECT_2, RUSUB_4, CONVEX1, RLAFFIN1, COMPLEX1,
      VALUED_0, METRIC_1, BINOP_2, PRE_TOPC, PCOMPS_1, ALGSTR_0, FUNCSDOM,
      TOPS_2, RLTOPSP1, EUCLID, VFUNCT_1, FVSUM_1, RLSUB_1, RLVECT_3, RLVECT_5,
      CARD_3, RCOMP_1, EUCLID_9, VECTSP_1, MATRIX_1, NAT_D, MATRIX_3, MATRIX_6,
      VECTSP_6, VECTSP_7, MATRIX13, MATRLIN, RLSUB_2, RFINSEQ, TOPMETR,
      RLAFFIN2, SETFAM_1, PRVECT_1, TOPREAL9, MATRTOP1;
 constructors BINOP_2, CONVEX1, EUCLID_9, FUNCSDOM, FVSUM_1, MATRIX_6,
      MATRIX13, MATRTOP1, MONOID_0, NAT_D, RANKNULL, RCOMP_1, REAL_1, REALSET1,
      RFINSEQ, RLAFFIN1, RLAFFIN2, RLSUB_2, RLVECT_3, RLVECT_5, RUSUB_5, SEQ_1,
      TOPMETR, TOPREAL9, TOPS_2, VECTSP_7, VFUNCT_1, WELLORD2;
 registrations CARD_1, EUCLID, EUCLID_7, EUCLID_9, FINSEQ_1, FINSEQ_2,
      FINSET_1, FUNCT_1, JORDAN2B, MATRIX13, MATRTOP1, MEMBERED, MONOID_0,
      NAT_1, NUMBERS, PRE_TOPC, PRVECT_1, REAL_1, RELSET_1, RLAFFIN1, RLTOPSP1,
      RLVECT_5, RVSUM_1, STRUCT_0, SUBSET_1, TOPMETR, TOPREAL1, TOPS_1,
      VALUED_0, VECTSP_1, VECTSP_9, XBOOLE_0, XREAL_0, XXREAL_0, ZFMISC_1;
 requirements REAL, NUMERALS, SUBSET, BOOLE, ARITHM;
 definitions FINSEQ_1, MATRIX13, MATRTOP1, RLTOPSP1, STRUCT_0, SUBSET_1,
      TARSKI, XBOOLE_0;
 theorems BORSUK_5, CARD_1, CARD_2, CARD_3, CARD_FIN, COMPLEX1, CONVEX1,
      EUCLID, EUCLID_7, EUCLID_9, FINSEQ_1, FINSEQ_2, FINSEQ_3, FINSEQ_4,
      FUNCOP_1, FUNCT_1, FUNCT_2, FVSUM_1, GOBOARD6, JORDAN2B, JORDAN6,
      LAPLACE, MATRIX_6, MATRIX13, MATRLIN, MATRLIN2, MATRTOP1, MATRTOP2,
      METRIC_1, METRIZTS, NAT_1, ORDINAL1, PARTFUN1, PCOMPS_1, PRALG_3,
      PRE_TOPC, RELAT_1, RFINSEQ, RLAFFIN1, RLAFFIN2, RLSUB_1, RLSUB_2,
      RLTOPSP1, RLVECT_1, RLVECT_2, RLVECT_3, RLVECT_5, RUSUB_4, RVSUM_1,
      SETFAM_1, SPPOL_1, STIRL2_1, STRUCT_0, TARSKI, TOPGRP_1, TOPMETR,
      TOPREAL9, TOPS_1, TOPS_2, TREAL_1, TSEP_1, URYSOHN1, VECTSP_1, VECTSP_4,
      VECTSP_7, VECTSP_9, VFUNCT_1, XBOOLE_0, XBOOLE_1, XCMPLX_0, XCMPLX_1,
      XREAL_0, XREAL_1, XXREAL_0, XXREAL_1, ZFMISC_1, NAT_D, TOPREAL3;
 schemes FINSEQ_1, FUNCT_2, TREES_2;

begin
L1: (for R2 being Nat holds (for B1 being R2 -element  real-valued FinSequence holds B1 is (Point of ( TOP-REAL R2 ))))
proof
let R2 being Nat;
let C1 being R2 -element  real-valued FinSequence;
L2: (( len C1 ) = R2 & ( @ ( @ C1 ) ) = C1) by CARD_1:def 7;
thus L3: thesis by L2 , TOPREAL3:46;
end;
theorem
L4: (for B2 , B3 being  real-valued FinSequence holds (for B4 being  real number holds ( ( Intervals (B2 , B4) ) ^ ( Intervals (B3 , B4) ) ) = ( Intervals (( B2 ^ B3 ) , B4) )))
proof
let C2 , C3 being  real-valued FinSequence;
let C4 being  real number;
set D1 = ( Intervals (C2 , C4) );
set D2 = ( Intervals (C3 , C4) );
set D3 = ( C2 ^ C3 );
set D4 = ( Intervals (D3 , C4) );
L5: ( dom D4 ) = ( dom D3 ) by EUCLID_9:def 3;
L6: (( len D3 ) = ( ( len C2 ) + ( len C3 ) ) & ( len ( D1 ^ D2 ) ) = ( ( len D1 ) + ( len D2 ) )) by FINSEQ_1:22;
L7: ( dom D1 ) = ( dom C2 ) by EUCLID_9:def 3;
L8: ( len D1 ) = ( len C2 ) by L7 , FINSEQ_3:29;
L9: ( dom D2 ) = ( dom C3 ) by EUCLID_9:def 3;
L10: ( len D2 ) = ( len C3 ) by L9 , FINSEQ_3:29;
L11: ( dom ( D1 ^ D2 ) ) = ( dom D4 ) by L10 , L5 , L8 , L6 , FINSEQ_3:29;
L12:
now
let C5 being Nat;
assume L13: C5 in ( dom ( D1 ^ D2 ) );
L14: ( D4 . C5 ) = ]. ( ( D3 . C5 ) - C4 ) , ( ( D3 . C5 ) + C4 ) .[ by L13 , L5 , L11 , EUCLID_9:def 3;
per cases  by L13 , FINSEQ_1:25;
suppose L15: C5 in ( dom D1 );

L16: (( ( D1 ^ D2 ) . C5 ) = ( D1 . C5 ) & ( D3 . C5 ) = ( C2 . C5 )) by L15 , L7 , FINSEQ_1:def 7;
thus L17: ( ( D1 ^ D2 ) . C5 ) = ( D4 . C5 ) by L16 , L7 , L14 , L15 , EUCLID_9:def 3;
end;
suppose L18: (ex B5 being Nat st (B5 in ( dom D2 ) & C5 = ( ( len D1 ) + B5 )));

consider C6 being Nat such that L19: C6 in ( dom D2 ) and L20: C5 = ( ( len D1 ) + C6 ) by L18;
L21: (( ( D1 ^ D2 ) . C5 ) = ( D2 . C6 ) & ( D3 . C5 ) = ( C3 . C6 )) by L9 , L8 , L19 , L20 , FINSEQ_1:def 7;
thus L22: ( ( D1 ^ D2 ) . C5 ) = ( D4 . C5 ) by L21 , L9 , L14 , L19 , EUCLID_9:def 3;
end;
end;
thus L24: thesis by L12 , L11 , FINSEQ_1:13;
end;
theorem
L25: (for R1 being set holds (for B6 , B7 being FinSequence holds (R1 in ( product ( B6 ^ B7 ) ) iff (ex B8 , B9 being FinSequence st (R1 = ( B8 ^ B9 ) & B8 in ( product B6 ) & B9 in ( product B7 ))))))
proof
let R1 being set;
let C7 , C8 being FinSequence;
set D5 = ( C7 ^ C8 );
L26: ( len D5 ) = ( ( len C7 ) + ( len C8 ) ) by FINSEQ_1:22;
L27: ( dom C7 ) = ( Seg ( len C7 ) ) by FINSEQ_1:def 3;
L28: ( D5 | ( Seg ( len C7 ) ) ) = C7 by L27 , FINSEQ_1:21;
thus L29:now
assume L30: R1 in ( product D5 );
consider C9 being Function such that L31: R1 = C9 and L32: ( dom C9 ) = ( dom D5 ) and L33: (for B10 being set holds (B10 in ( dom D5 ) implies ( C9 . B10 ) in ( D5 . B10 ))) by L30 , CARD_3:def 5;
L34: ( dom D5 ) = ( Seg ( len D5 ) ) by FINSEQ_1:def 3;
reconsider D6 = C9 as FinSequence by L34 , L32 , FINSEQ_1:def 2;
set D7 = ( D6 | ( len C7 ) );
consider C10 being FinSequence such that L35: D6 = ( D7 ^ C10 ) by FINSEQ_1:80;
take D8 = D7;
take D9 = C10;
thus L36: (R1 = ( D8 ^ D9 ) & D8 in ( product C7 )) by L28 , L30 , L31 , L35 , PRALG_3:1;
L37: ( len D5 ) = ( len D6 ) by L32 , FINSEQ_3:29;
L38: ( len C7 ) = ( len D8 ) by L37 , L26 , FINSEQ_1:59 , NAT_1:11;
L39: ( len D6 ) = ( ( len D8 ) + ( len D9 ) ) by L35 , FINSEQ_1:22;
L40: ( dom C8 ) = ( dom D9 ) by L39 , L26 , L37 , L38 , FINSEQ_3:29;
L41:
now
let C11 being set;
assume L42: C11 in ( dom C8 );
reconsider D10 = C11 as Nat by L42;
L43: ( D10 + ( len C7 ) ) in ( dom D5 ) by L42 , FINSEQ_1:28;
L44: (( D6 . ( D10 + ( len C7 ) ) ) in ( D5 . ( D10 + ( len C7 ) ) ) & ( D5 . ( D10 + ( len C7 ) ) ) = ( C8 . D10 )) by L43 , L33 , L42 , FINSEQ_1:def 7;
thus L45: ( D9 . C11 ) in ( C8 . C11 ) by L44 , L35 , L38 , L40 , L42 , FINSEQ_1:def 7;
end;
thus L46: D9 in ( product C8 ) by L41 , L40 , CARD_3:def 5;
end;
given C12 , C13 being FinSequence such that
L47: R1 = ( C12 ^ C13 )
and
L48: C12 in ( product C7 )
and
L49: C13 in ( product C8 );

L50: (ex B11 being Function st (C13 = B11 & ( dom B11 ) = ( dom C8 ) & (for B12 being set holds (B12 in ( dom C8 ) implies ( B11 . B12 ) in ( C8 . B12 ))))) by L49 , CARD_3:def 5;
L51: (ex B13 being Function st (C12 = B13 & ( dom B13 ) = ( dom C7 ) & (for B14 being set holds (B14 in ( dom C7 ) implies ( B13 . B14 ) in ( C7 . B14 ))))) by L48 , CARD_3:def 5;
L52: ( len C12 ) = ( len C7 ) by L51 , FINSEQ_3:29;
L53:
now
let C14 being set;
assume L54: C14 in ( dom D5 );
reconsider D11 = C14 as Nat by L54;
per cases  by L54 , FINSEQ_1:25;
suppose L55: D11 in ( dom C7 );

L56: (( D5 . C14 ) = ( C7 . D11 ) & ( ( C12 ^ C13 ) . C14 ) = ( C12 . D11 )) by L55 , L51 , FINSEQ_1:def 7;
thus L57: ( ( C12 ^ C13 ) . C14 ) in ( D5 . C14 ) by L56 , L51 , L55;
end;
suppose L58: (ex B15 being Nat st (B15 in ( dom C8 ) & D11 = ( ( len C7 ) + B15 )));

consider C15 being Nat such that L59: C15 in ( dom C8 ) and L60: D11 = ( ( len C7 ) + C15 ) by L58;
L61: (( D5 . C14 ) = ( C8 . C15 ) & ( ( C12 ^ C13 ) . C14 ) = ( C13 . C15 )) by L50 , L52 , L59 , L60 , FINSEQ_1:def 7;
thus L62: ( ( C12 ^ C13 ) . C14 ) in ( D5 . C14 ) by L61 , L50 , L59;
end;
end;
L64: (( len ( C12 ^ C13 ) ) = ( ( len C12 ) + ( len C13 ) ) & ( len C13 ) = ( len C8 )) by L50 , FINSEQ_1:22 , FINSEQ_3:29;
L65: ( dom ( C12 ^ C13 ) ) = ( dom D5 ) by L64 , L26 , L52 , FINSEQ_3:29;
thus L66: thesis by L65 , L47 , L53 , CARD_3:def 5;
end;
L67: (for R6 being RealLinearSpace holds (for B16 being (Subset of R6) holds ( Lin B16 ) = ( Lin ( B16 \ { ( 0. R6 ) } ) )))
proof
let R6 being RealLinearSpace;
let C16 being (Subset of R6);
per cases ;
suppose L68: (not ( 0. R6 ) in C16);

thus L69: thesis by L68 , ZFMISC_1:57;
end;
suppose L70: ( 0. R6 ) in C16;

L71: { ( 0. R6 ) } = (the carrier of ( (0). R6 )) by RLSUB_1:def 3;
L72: ( Lin { ( 0. R6 ) } ) = ( (0). R6 ) by L71 , RLVECT_3:18;
L73: C16 = ( ( C16 \ { ( 0. R6 ) } ) \/ { ( 0. R6 ) } ) by L70 , ZFMISC_1:116;
thus L74: ( Lin C16 ) = ( ( Lin ( C16 \ { ( 0. R6 ) } ) ) + ( (0). R6 ) ) by L73 , L72 , RLVECT_3:22
.= ( Lin ( C16 \ { ( 0. R6 ) } ) ) by RLSUB_2:9;
end;
end;
theorem
L76: (for R6 being RealLinearSpace holds (R6 is  finite-dimensional iff ( (Omega). R6 ) is  finite-dimensional))
proof
let R6 being RealLinearSpace;
set D12 = ( (Omega). R6 );
thus L77: (R6 is  finite-dimensional implies D12 is  finite-dimensional);
assume L78: D12 is  finite-dimensional;
consider C17 being  finite (Subset of D12) such that L79: C17 is (Basis of D12) by L78 , RLVECT_5:def 1;
L80: ( the RLSStruct of R6 ) = D12 by RLSUB_1:def 4;
reconsider D13 = C17 as  finite (Subset of R6) by L80;
L81: ( Lin C17 ) = D12 by L79 , RLVECT_3:def 3;
L82: ( Lin D13 ) = D12 by L81 , RLVECT_5:20;
L83: C17 is  linearly-independent by L79 , RLVECT_3:def 3;
L84: D13 is  linearly-independent by L83 , RLVECT_5:14;
L85: D13 is (Basis of R6) by L84 , L80 , L82 , RLVECT_3:def 3;
thus L86: thesis by L85 , RLVECT_5:def 1;
end;
registration
let C18 being  finite-dimensional RealLinearSpace;
cluster  ->  finite for  affinely-independent  affinely-independent  affinely-independent  affinely-independent (Subset of C18);
coherence
proof
let C19 being  affinely-independent (Subset of C18);
per cases ;
suppose L87: C19 is  empty;

thus L88: thesis by L87;
end;
suppose L89: C19 is non  empty;

consider C20 being (VECTOR of C18) such that L90: C20 in C19 and L91: ( ( ( - C20 ) + C19 ) \ { ( 0. C18 ) } ) is  linearly-independent by L89 , RLAFFIN1:def 4;
set D14 = ( ( - C20 ) + C19 );
L92: ( ( D14 \ { ( 0. C18 ) } ) \/ { ( 0. C18 ) } ) = ( D14 \/ { ( 0. C18 ) } ) by XBOOLE_1:39;
L93: (( card D14 ) = ( card C19 ) & D14 c= ( ( D14 \ { ( 0. C18 ) } ) \/ { ( 0. C18 ) } )) by L92 , RLAFFIN1:7 , XBOOLE_1:7;
L94: ( D14 \ { ( 0. C18 ) } ) is  finite by L91 , RLVECT_5:24;
thus L95: thesis by L94 , L93;
end;
end;
end;
registration
let R2 being Nat;
cluster ( TOP-REAL R2 ) ->  add-continuous  Mult-continuous;
coherence
proof
set D15 = ( TOP-REAL R2 );
set D16 = ( Euclid R2 );
set D17 = ( TopSpaceMetr D16 );
L98: ( the TopStruct of D15 ) = D17 by EUCLID:def 8;
L99: R2 in ( NAT ) by ORDINAL1:def 12;
thus L100: D15 is  add-continuous
proof
let C21 , C22 being (Point of D15);
let C23 being (Subset of D15);
assume that
L101: C23 is  open
and
L102: ( C21 + C22 ) in C23;
reconsider D18 = C21 , D19 = C22 , D20 = ( C21 + C22 ) as (Point of D16) by L98 , TOPMETR:12;
reconsider D21 = C23 as (Subset of D17) by L98;
L103: C23 in (the topology of D15) by L101 , PRE_TOPC:def 2;
L104: D21 is  open by L103 , L98 , PRE_TOPC:def 2;
consider C24 being  real number such that L105: C24 > ( 0 ) and L106: ( Ball (D20 , C24) ) c= D21 by L104 , L102 , TOPMETR:15;
set D22 = ( C24 / 2 );
reconsider D23 = ( Ball (D18 , D22) ) , D24 = ( Ball (D19 , D22) ) as (Subset of D15) by L98 , TOPMETR:12;
take D23;
take D24;
thus L107: (D23 is  open & D24 is  open & C21 in D23 & C22 in D24) by L105 , GOBOARD6:1 , GOBOARD6:3 , XREAL_1:215;
let C25 being set;
assume L108: C25 in ( D23 + D24 );
L109: C25 in { ( B17 + B18 ) where B17 , B18 is (Element of D15) : (B17 in D23 & B18 in D24) } by L108 , RUSUB_4:def 9;
consider C26 , C27 being (Element of D15) such that L110: C25 = ( C26 + C27 ) and L111: C26 in D23 and L112: C27 in D24 by L109;
reconsider D25 = C26 , D26 = C27 , D27 = ( C26 + C27 ) as (Point of D16) by L98 , TOPMETR:12;
reconsider D28 = C21 , D29 = C22 , D30 = C26 , D31 = C27 as (Element of ( REAL R2 )) by EUCLID:22;
L113: ( dist (D19 , D26) ) < D22 by L112 , METRIC_1:11;
L114: |. ( D29 - D31 ) .| < D22 by L113 , L99 , SPPOL_1:5;
L115: ( dist (D18 , D25) ) < D22 by L111 , METRIC_1:11;
L116: |. ( D28 - D30 ) .| < D22 by L115 , L99 , SPPOL_1:5;
L117: ( |. ( D28 - D30 ) .| + |. ( D29 - D31 ) .| ) < ( D22 + D22 ) by L116 , L114 , XREAL_1:8;
L118: ( ( D28 + D29 ) - ( D30 + D31 ) ) = ( ( D28 + D29 ) + ( - ( D31 + D30 ) ) ) by RVSUM_1:31
.= ( ( D28 + D29 ) + ( ( - D31 ) + ( - D30 ) ) ) by RVSUM_1:26
.= ( ( ( D28 + D29 ) + ( - D31 ) ) + ( - D30 ) ) by RVSUM_1:15
.= ( ( ( D29 + ( - D31 ) ) + D28 ) + ( - D30 ) ) by RVSUM_1:15
.= ( ( D29 + ( - D31 ) ) + ( D28 + ( - D30 ) ) ) by RVSUM_1:15
.= ( ( D29 - D31 ) + ( D28 + ( - D30 ) ) ) by RVSUM_1:31
.= ( ( D29 - D31 ) + ( D28 - D30 ) ) by RVSUM_1:31;
L119: ( dist (D20 , D27) ) = |. ( ( D28 - D30 ) + ( D29 - D31 ) ) .| by L99 , L118 , SPPOL_1:5;
L120: |. ( ( D28 - D30 ) + ( D29 - D31 ) ) .| <= ( |. ( D28 - D30 ) .| + |. ( D29 - D31 ) .| ) by EUCLID:12;
L121: ( dist (D20 , D27) ) < C24 by L120 , L117 , L119 , XXREAL_0:2;
L122: D27 in ( Ball (D20 , C24) ) by L121 , METRIC_1:11;
thus L123: C25 in C23 by L122 , L106 , L110;
end;

let C28 being Real;
let C29 being (Point of D15);
let C30 being (Subset of D15);
assume that
L124: C30 is  open
and
L125: ( C28 * C29 ) in C30;
reconsider D32 = C29 , D33 = ( C28 * C29 ) as (Point of D16) by L98 , TOPMETR:12;
reconsider D34 = C30 as (Subset of D17) by L98;
L126: C30 in (the topology of D15) by L124 , PRE_TOPC:def 2;
L127: D34 is  open by L126 , L98 , PRE_TOPC:def 2;
consider C31 being  real number such that L128: C31 > ( 0 ) and L129: ( Ball (D33 , C31) ) c= D34 by L127 , L125 , TOPMETR:15;
set D35 = ( C31 / 2 );
L130: D35 > ( 0 ) by L128 , XREAL_1:215;
L131: ( D35 / 2 ) > ( 0 ) by L130 , XREAL_1:215;
L132: (ex B19 being  positive Real st ( ( abs C28 ) * B19 ) < D35)
proof
per cases  by COMPLEX1:46;
suppose L133: ( abs C28 ) = ( 0 );

L134: ( ( abs C28 ) * 1 ) < D35 by L133 , L128 , XREAL_1:215;
thus L135: thesis by L134;
end;
suppose L136: ( abs C28 ) > ( 0 );

reconsider D36 = ( ( D35 / 2 ) / ( abs C28 ) ) as  positive Real by L136 , L131 , XREAL_1:139;
take D36;
L137: ( D35 / 2 ) < D35 by L128 , XREAL_1:215 , XREAL_1:216;
thus L138: thesis by L137 , L136 , XCMPLX_1:87;
end;
end;
consider C32 being  positive Real such that L140: ( ( abs C28 ) * C32 ) < D35 by L132;
reconsider D37 = ( Ball (D32 , C32) ) as (Subset of D15) by L98 , TOPMETR:12;
reconsider D38 = ( D35 / ( |. C29 .| + C32 ) ) as  positive Real by L130 , XREAL_1:139;
take D38;
take D37;
thus L141: (D37 is  open & C29 in D37) by GOBOARD6:1 , GOBOARD6:3;
let C33 being Real;
assume L142: ( abs ( C33 - C28 ) ) < D38;
let C34 being set;
assume L143: C34 in ( C33 * D37 );
L144: C34 in { ( C33 * B20 ) where B20 is (Element of D15) : B20 in D37 } by L143 , CONVEX1:def 1;
consider C35 being (Element of D15) such that L145: C34 = ( C33 * C35 ) and L146: C35 in D37 by L144;
reconsider D39 = C35 , D40 = ( C33 * C35 ) as (Point of D16) by L98 , TOPMETR:12;
reconsider D41 = C29 , D42 = C35 as (Element of ( REAL R2 )) by EUCLID:22;
reconsider D43 = D41 , D44 = D42 as (Element of ( R2 -tuples_on ( REAL ) )) by EUCLID:def 1;
L147: D42 = ( D44 - ( R2 |-> ( 0 ) ) ) by RVSUM_1:32
.= ( D44 - ( D43 - D43 ) ) by RVSUM_1:37
.= ( ( D44 - D43 ) + D43 ) by RVSUM_1:41;
L148: |. D42 .| <= ( |. ( D42 - D41 ) .| + |. D41 .| ) by L147 , EUCLID:12;
L149: ( dist (D32 , D39) ) < C32 by L146 , METRIC_1:11;
L150: |. ( D42 - D41 ) .| < C32 by L149 , L99 , SPPOL_1:5;
L151: ( |. ( D42 - D41 ) .| + |. D41 .| ) <= ( C32 + |. C29 .| ) by L150 , XREAL_1:6;
L152: |. D42 .| <= ( C32 + |. C29 .| ) by L151 , L148 , XXREAL_0:2;
L153: ( D38 * |. D42 .| ) <= ( D38 * ( C32 + |. C29 .| ) ) by L152 , XREAL_1:64;
L154: ( ( C28 * D41 ) + ( - ( C28 * D42 ) ) ) = ( ( C28 * D41 ) + ( ( - 1 ) * ( C28 * D42 ) ) ) by RVSUM_1:54
.= ( ( C28 * D41 ) + ( ( ( - 1 ) * C28 ) * D42 ) ) by RVSUM_1:49
.= ( ( C28 * D41 ) + ( C28 * ( ( - 1 ) * D42 ) ) ) by RVSUM_1:49
.= ( C28 * ( D41 + ( ( - 1 ) * D42 ) ) ) by RVSUM_1:51
.= ( C28 * ( D41 + ( - D42 ) ) ) by RVSUM_1:54
.= ( C28 * ( D41 - D42 ) ) by RVSUM_1:31;
L155: |. ( ( C28 * D41 ) + ( - ( C28 * D42 ) ) ) .| = ( ( abs C28 ) * |. ( D41 - D42 ) .| ) by L154 , EUCLID:11;
L156: (( abs C28 ) >= ( 0 ) & |. ( D41 - D42 ) .| = ( dist (D32 , D39) )) by L99 , COMPLEX1:46 , SPPOL_1:5;
L157: |. ( ( C28 * D41 ) + ( - ( C28 * D42 ) ) ) .| <= ( ( abs C28 ) * C32 ) by L156 , L149 , L155 , XREAL_1:64;
L158: |. ( ( C28 * D41 ) + ( - ( C28 * D42 ) ) ) .| < D35 by L157 , L140 , XXREAL_0:2;
L159: ( ( C28 * D42 ) + ( - ( C33 * D42 ) ) ) = ( ( C28 * D42 ) + ( ( - 1 ) * ( C33 * D42 ) ) ) by RVSUM_1:54
.= ( ( C28 * D42 ) + ( ( ( - 1 ) * C33 ) * D42 ) ) by RVSUM_1:49
.= ( ( C28 + ( ( - 1 ) * C33 ) ) * D42 ) by RVSUM_1:50;
L160: |. ( ( C28 * D42 ) + ( - ( C33 * D42 ) ) ) .| = ( ( abs ( C28 - C33 ) ) * |. D42 .| ) by L159 , EUCLID:11
.= ( ( abs ( - ( C28 - C33 ) ) ) * |. D42 .| ) by COMPLEX1:52;
L161: (( D38 * ( |. C29 .| + C32 ) ) = D35 & |. ( ( C28 * D42 ) + ( - ( C33 * D42 ) ) ) .| <= ( D38 * |. D42 .| )) by L160 , L142 , XCMPLX_1:87 , XREAL_1:64;
L162: |. ( ( C28 * D42 ) + ( - ( C33 * D42 ) ) ) .| <= D35 by L161 , L153 , XXREAL_0:2;
L163: (|. ( ( ( C28 * D41 ) + ( - ( C28 * D42 ) ) ) + ( ( C28 * D42 ) + ( - ( C33 * D42 ) ) ) ) .| <= ( |. ( ( C28 * D41 ) + ( - ( C28 * D42 ) ) ) .| + |. ( ( C28 * D42 ) + ( - ( C33 * D42 ) ) ) .| ) & ( |. ( ( C28 * D41 ) + ( - ( C28 * D42 ) ) ) .| + |. ( ( C28 * D42 ) + ( - ( C33 * D42 ) ) ) .| ) < ( D35 + D35 )) by L162 , L158 , EUCLID:12 , XREAL_1:8;
L164: ( ( C28 * D41 ) - ( C33 * D42 ) ) = ( ( ( C28 * D43 ) - ( R2 |-> ( 0 ) ) ) - ( C33 * D44 ) ) by RVSUM_1:32
.= ( ( ( C28 * D41 ) - ( ( C28 * D44 ) - ( C28 * D44 ) ) ) - ( C33 * D42 ) ) by RVSUM_1:37
.= ( ( ( ( C28 * D41 ) - ( C28 * D44 ) ) + ( C28 * D44 ) ) - ( C33 * D42 ) ) by RVSUM_1:41
.= ( ( ( ( C28 * D41 ) - ( C28 * D44 ) ) + ( C28 * D44 ) ) + ( - ( C33 * D42 ) ) ) by RVSUM_1:31
.= ( ( ( C28 * D41 ) - ( C28 * D44 ) ) + ( ( C28 * D42 ) + ( - ( C33 * D42 ) ) ) ) by RVSUM_1:15
.= ( ( ( C28 * D41 ) + ( - ( C28 * D42 ) ) ) + ( ( C28 * D42 ) + ( - ( C33 * D42 ) ) ) ) by RVSUM_1:31;
L165: ( dist (D33 , D40) ) = |. ( ( ( C28 * D41 ) + ( - ( C28 * D42 ) ) ) + ( ( C28 * D42 ) + ( - ( C33 * D42 ) ) ) ) .| by L164 , L99 , SPPOL_1:5;
L166: ( dist (D33 , D40) ) < C31 by L165 , L163 , XXREAL_0:2;
L167: D40 in ( Ball (D33 , C31) ) by L166 , METRIC_1:11;
thus L168: C34 in C30 by L167 , L129 , L145;
end;
cluster ( TOP-REAL R2 ) ->  finite-dimensional;
coherence
proof
L169: ( the RLSStruct of ( TOP-REAL R2 ) ) = ( RealVectSpace ( Seg R2 ) ) by EUCLID:def 8;
L170: ( (Omega). ( TOP-REAL R2 ) ) = ( RealVectSpace ( Seg R2 ) ) by L169 , RLSUB_1:def 4;
thus L171: thesis by L170 , L76;
end;
end;
theorem
L173: (for R2 being Nat holds ( dim ( TOP-REAL R2 ) ) = R2)
proof
let R2 being Nat;
L174: ( the RLSStruct of ( TOP-REAL R2 ) ) = ( RealVectSpace ( Seg R2 ) ) by EUCLID:def 8;
L175: ( (Omega). ( TOP-REAL R2 ) ) = ( RealVectSpace ( Seg R2 ) ) by L174 , RLSUB_1:def 4;
L176: ( dim ( (Omega). ( TOP-REAL R2 ) ) ) = R2 by L175 , EUCLID_7:46;
thus L177: thesis by L176 , RLVECT_5:30;
end;
theorem
L178: (for B21 being  finite-dimensional RealLinearSpace holds (for B22 being  affinely-independent (Subset of B21) holds ( card B22 ) <= ( 1 + ( dim B21 ) )))
proof
let C36 being  finite-dimensional RealLinearSpace;
let C37 being  affinely-independent (Subset of C36);
per cases ;
suppose L179: C37 is  empty;

thus L180: thesis by L179;
end;
suppose L181: C37 is non  empty;

consider C38 being (VECTOR of C36) such that L182: C38 in C37 and L183: ( ( ( - C38 ) + C37 ) \ { ( 0. C36 ) } ) is  linearly-independent by L181 , RLAFFIN1:def 4;
set D45 = ( ( - C38 ) + C37 );
L184: ( D45 \ { ( 0. C36 ) } ) misses { ( 0. C36 ) } by XBOOLE_1:79;
L185: (( card { ( 0. C36 ) } ) = 1 & ( card ( ( D45 \ { ( 0. C36 ) } ) \/ { ( 0. C36 ) } ) ) = ( ( card ( D45 \ { ( 0. C36 ) } ) ) + ( card { ( 0. C36 ) } ) )) by L184 , CARD_2:40 , CARD_2:42;
L186: ( card D45 ) = ( card C37 ) by RLAFFIN1:7;
reconsider D46 = D45 as  finite set;
L187: ( card ( D46 \ { ( 0. C36 ) } ) ) = ( dim ( Lin ( ( ( - C38 ) + C37 ) \ { ( 0. C36 ) } ) ) ) by L183 , RLVECT_5:29;
L188: ( card ( D46 \ { ( 0. C36 ) } ) ) <= ( dim C36 ) by L187 , RLVECT_5:28;
L189: ( card ( ( D46 \ { ( 0. C36 ) } ) \/ { ( 0. C36 ) } ) ) <= ( 1 + ( dim C36 ) ) by L188 , L185 , XREAL_1:7;
L190: ( ( D46 \ { ( 0. C36 ) } ) \/ { ( 0. C36 ) } ) = ( D46 \/ { ( 0. C36 ) } ) by XBOOLE_1:39;
L191: ( card C37 ) <= ( card ( ( D46 \ { ( 0. C36 ) } ) \/ { ( 0. C36 ) } ) ) by L190 , L186 , NAT_1:43 , XBOOLE_1:7;
thus L192: thesis by L191 , L189 , XXREAL_0:2;
end;
end;
theorem
L194: (for B23 being  finite-dimensional RealLinearSpace holds (for B24 being  affinely-independent (Subset of B23) holds (( card B24 ) = ( ( dim B23 ) + 1 ) iff ( Affin B24 ) = ( [#] B23 ))))
proof
let C39 being  finite-dimensional RealLinearSpace;
let C40 being  affinely-independent (Subset of C39);
L195: ( 0. C39 ) in ( [#] C39 );
L196: C40 c= ( Affin C40 ) by RLAFFIN1:49;
thus L197:now
assume L198: ( card C40 ) = ( ( dim C39 ) + 1 );
L199: C40 is non  empty by L198;
consider C41 being (VECTOR of C39) such that L200: C41 in C40 and L201: ( ( ( - C41 ) + C40 ) \ { ( 0. C39 ) } ) is  linearly-independent by L199 , RLAFFIN1:def 4;
set D47 = ( ( - C41 ) + C40 );
reconsider D48 = D47 as  finite (Subset of C39);
L202: ( ( - C41 ) + C41 ) in { ( ( - C41 ) + B25 ) where B25 is (Element of C39) : B25 in C40 } by L200;
L203: ( ( - C41 ) + C41 ) in D48 by L202 , RUSUB_4:def 8;
L204: (( card D48 ) = ( card C40 ) & ( card { ( 0. C39 ) } ) = 1) by CARD_2:42 , RLAFFIN1:7;
L205: ( ( - C41 ) + C41 ) = ( 0. C39 ) by RLVECT_1:5;
L206: D48 = ( ( D48 \ { ( 0. C39 ) } ) \/ { ( 0. C39 ) } ) by L205 , L203 , ZFMISC_1:116;
L207: ( card C40 ) = ( ( card ( D48 \ { ( 0. C39 ) } ) ) + 1 ) by L206 , L204 , CARD_2:40 , XBOOLE_1:79;
L208: ( dim ( Lin ( D48 \ { ( 0. C39 ) } ) ) ) = ( card ( D48 \ { ( 0. C39 ) } ) ) by L201 , RLVECT_5:29;
L209: ( (Omega). C39 ) = ( (Omega). ( Lin ( D48 \ { ( 0. C39 ) } ) ) ) by L208 , L198 , L207 , RLVECT_5:31
.= ( Lin ( D48 \ { ( 0. C39 ) } ) ) by RLSUB_1:def 4;
L210: ( the RLSStruct of C39 ) = ( Lin ( D48 \ { ( 0. C39 ) } ) ) by L209 , RLSUB_1:def 4;
L211: ( [#] C39 ) = (the carrier of ( Lin D48 )) by L210 , L67;
L212: C41 in ( Lin D48 ) by L211 , STRUCT_0:def 5;
thus L213: ( [#] C39 ) = ( C41 + ( Lin D48 ) ) by L212 , L211 , RLSUB_1:48
.= ( C41 + ( Up ( Lin D48 ) ) ) by RUSUB_4:30
.= ( Affin C40 ) by L196 , L200 , RLAFFIN1:57;
end;
assume L214: ( Affin C40 ) = ( [#] C39 );
L215: C40 is non  empty by L214;
consider C42 being (VECTOR of C39) such that L216: C42 in C40 and L217: ( ( ( - C42 ) + C40 ) \ { ( 0. C39 ) } ) is  linearly-independent by L215 , RLAFFIN1:def 4;
set D49 = ( ( - C42 ) + C40 );
reconsider D50 = D49 as  finite (Subset of C39);
L218: ( [#] C39 ) = ( C42 + ( Up ( Lin D50 ) ) ) by L214 , RLAFFIN1:57
.= ( C42 + ( Lin D50 ) ) by RUSUB_4:30;
L219: ( [#] ( Lin D50 ) ) = (the carrier of ( the RLSStruct of C39 )) by L218 , L195 , RLSUB_1:47
.= (the carrier of ( (Omega). C39 )) by RLSUB_1:def 4;
L220: ( Lin D50 ) = ( (Omega). C39 ) by L219 , RLSUB_1:30
.= ( the RLSStruct of C39 ) by RLSUB_1:def 4;
L221: ( the RLSStruct of C39 ) = ( Lin ( D50 \ { ( 0. C39 ) } ) ) by L220 , L67;
L222: ( D50 \ { ( 0. C39 ) } ) is (Basis of C39) by L221 , L217 , RLVECT_3:def 3;
L223: ( ( - C42 ) + C42 ) in { ( ( - C42 ) + B26 ) where B26 is (Element of C39) : B26 in C40 } by L216;
L224: ( ( - C42 ) + C42 ) in D50 by L223 , RUSUB_4:def 8;
L225: ( ( - C42 ) + C42 ) = ( 0. C39 ) by RLVECT_1:5;
L226: D50 = ( ( D50 \ { ( 0. C39 ) } ) \/ { ( 0. C39 ) } ) by L225 , L224 , ZFMISC_1:116;
L227: (( card D50 ) = ( card C40 ) & ( card { ( 0. C39 ) } ) = 1) by CARD_2:42 , RLAFFIN1:7;
thus L228: ( card C40 ) = ( ( card ( D50 \ { ( 0. C39 ) } ) ) + 1 ) by L227 , L226 , CARD_2:40 , XBOOLE_1:79
.= ( ( dim C39 ) + 1 ) by L222 , RLVECT_5:def 2;
end;
begin
theorem
L229: (for R2 being Nat holds (for R4 being Nat holds (for R14 being (Subset of ( TOP-REAL R2 )) holds (for R16 being (Subset of ( TOP-REAL R4 )) holds ((R4 <= R2 & R14 = { B27 where B27 is (Element of ( TOP-REAL R2 )) : ( B27 | R4 ) in R16 }) implies (R14 is  open iff R16 is  open))))))
proof
let R2 being Nat;
let R4 being Nat;
let R14 being (Subset of ( TOP-REAL R2 ));
let R16 being (Subset of ( TOP-REAL R4 ));
assume L230: R4 <= R2;
reconsider D51 = ( R2 - R4 ) as (Element of ( NAT )) by L230 , NAT_1:21;
L231: ( the TopStruct of ( TOP-REAL R2 ) ) = ( TopSpaceMetr ( Euclid R2 ) ) by EUCLID:def 8;
reconsider D52 = R14 as (Subset of ( TopSpaceMetr ( Euclid R2 ) )) by L231;
L232: ( the TopStruct of ( TOP-REAL R4 ) ) = ( TopSpaceMetr ( Euclid R4 ) ) by EUCLID:def 8;
reconsider D53 = R16 as (Subset of ( TopSpaceMetr ( Euclid R4 ) )) by L232;
assume L233: R14 = { B28 where B28 is (Element of ( TOP-REAL R2 )) : ( B28 | R4 ) in R16 };
thus L234:now
assume L235: R14 is  open;
L236: D52 in (the topology of ( TOP-REAL R2 )) by L235 , PRE_TOPC:def 2;
L237: D52 is  open by L236 , L231 , PRE_TOPC:def 2;
L238: (for B29 being (Point of ( Euclid R4 )) holds (B29 in D53 implies (ex B30 being  real number st (B30 > ( 0 ) & ( OpenHypercube (B29 , B30) ) c= D53))))
proof
L239: (( len ( D51 |-> ( 0 ) ) ) = D51 & ( @ ( @ ( D51 |-> ( 0 ) ) ) ) = ( D51 |-> ( 0 ) )) by CARD_1:def 7;
reconsider D54 = ( D51 |-> ( 0 ) ) as (Point of ( Euclid D51 )) by L239 , TOPREAL3:45;
let C43 being (Point of ( Euclid R4 ));
L240: (( @ ( @ ( C43 ^ ( D51 |-> ( 0 ) ) ) ) ) = ( C43 ^ ( D51 |-> ( 0 ) ) ) & ( len ( C43 ^ D54 ) ) = R2) by CARD_1:def 7;
reconsider D55 = ( C43 ^ D54 ) as (Point of ( Euclid R2 )) by L240 , TOPREAL3:45;
reconsider D56 = ( C43 ^ D54 ) as (Point of ( TOP-REAL R2 )) by L240 , TOPREAL3:46;
L241: ( len C43 ) = R4 by CARD_1:def 7;
L242: ( dom C43 ) = ( Seg R4 ) by L241 , FINSEQ_1:def 3;
L243: C43 = ( D56 | R4 ) by L242 , FINSEQ_1:21;
assume L244: C43 in D53;
L245: D55 in D52 by L244 , L233 , L243;
consider C44 being non  zero (Element of ( NAT )) such that L246: ( OpenHypercube (D55 , ( 1 / C44 )) ) c= D52 by L245 , L237 , EUCLID_9:23;
take D57 = ( 1 / C44 );
thus L247: D57 > ( 0 ) by XREAL_1:139;
let C45 being set;
assume L248: C45 in ( OpenHypercube (C43 , D57) );
reconsider D58 = C45 as (Point of ( TopSpaceMetr ( Euclid R4 ) )) by L248;
L249: D58 in ( product ( Intervals (C43 , D57) ) ) by L248 , EUCLID_9:def 4;
reconsider D59 = D58 as (Point of ( TOP-REAL R4 )) by L232;
L250: D54 in ( OpenHypercube (D54 , D57) ) by EUCLID_9:11 , XREAL_1:139;
L251: D54 in ( product ( Intervals (D54 , D57) ) ) by L250 , EUCLID_9:def 4;
L252: ( ( Intervals (C43 , D57) ) ^ ( Intervals (D54 , D57) ) ) = ( Intervals (D55 , D57) ) by L4;
L253: ( D59 ^ D54 ) in ( product ( Intervals (D55 , D57) ) ) by L252 , L251 , L249 , L25;
L254: ( D59 ^ D54 ) in ( OpenHypercube (D55 , D57) ) by L253 , EUCLID_9:def 4;
L255: ( D59 ^ D54 ) in D52 by L254 , L246;
consider C46 being (Element of ( TOP-REAL R2 )) such that L256: (C46 = ( D59 ^ D54 ) & ( C46 | R4 ) in R16) by L255 , L233;
L257: ( len D59 ) = R4 by CARD_1:def 7;
L258: ( dom D59 ) = ( Seg R4 ) by L257 , FINSEQ_1:def 3;
thus L259: C45 in D53 by L258 , L256 , FINSEQ_1:21;
end;
L260: D53 is  open by L238 , EUCLID_9:24;
L261: D53 in (the topology of ( TOP-REAL R4 )) by L260 , L232 , PRE_TOPC:def 2;
thus L262: R16 is  open by L261 , PRE_TOPC:def 2;
end;
assume L263: R16 is  open;
L264: D53 in (the topology of ( TOP-REAL R4 )) by L263 , PRE_TOPC:def 2;
L265: D53 is  open by L264 , L232 , PRE_TOPC:def 2;
L266: (for B31 being (Point of ( Euclid R2 )) holds (B31 in D52 implies (ex B32 being  real number st (B32 > ( 0 ) & ( OpenHypercube (B31 , B32) ) c= D52))))
proof
let C47 being (Point of ( Euclid R2 ));
assume L267: C47 in D52;
consider C48 being (Element of ( TOP-REAL R2 )) such that L268: C47 = C48 and L269: ( C48 | R4 ) in R16 by L267 , L233;
reconsider D60 = ( C48 | R4 ) as (Point of ( TOP-REAL R4 )) by L269;
L270: ( len D60 ) = R4 by CARD_1:def 7;
L271: ( @ ( @ D60 ) ) = D60;
reconsider D61 = D60 as (Point of ( Euclid R4 )) by L271 , L270 , TOPREAL3:45;
consider C49 being non  zero (Element of ( NAT )) such that L272: ( OpenHypercube (D61 , ( 1 / C49 )) ) c= D53 by L265 , L269 , EUCLID_9:23;
take D62 = ( 1 / C49 );
thus L273: D62 > ( 0 ) by XREAL_1:139;
let C50 being set;
assume L274: C50 in ( OpenHypercube (C47 , D62) );
L275: C50 in ( product ( Intervals (C47 , D62) ) ) by L274 , EUCLID_9:def 4;
reconsider D63 = C50 as (Point of ( TOP-REAL R2 )) by L231 , L274;
L276: ( len C48 ) = R2 by CARD_1:def 7;
consider C51 being FinSequence such that L277: ( @ ( @ C48 ) ) = ( D60 ^ C51 ) by FINSEQ_1:80;
reconsider D64 = C51 as (FinSequence of ( REAL )) by L277 , FINSEQ_1:36;
L278: ( len C48 ) = ( ( len D60 ) + ( len D64 ) ) by L277 , FINSEQ_1:22;
reconsider D65 = D64 as (Point of ( Euclid D51 )) by L278 , L270 , L276 , TOPREAL3:45;
L279: ( ( Intervals (D61 , D62) ) ^ ( Intervals (D65 , D62) ) ) = ( Intervals (C47 , D62) ) by L268 , L277 , L4;
consider C52 , C53 being FinSequence such that L280: C50 = ( C52 ^ C53 ) and L281: C52 in ( product ( Intervals (D61 , D62) ) ) and L282: C53 in ( product ( Intervals (D65 , D62) ) ) by L279 , L275 , L25;
L283: C52 in ( OpenHypercube (D61 , ( 1 / C49 )) ) by L281 , EUCLID_9:def 4;
L284: ( len C52 ) = R4 by L283 , L232 , CARD_1:def 7;
L285: ( D63 | R4 ) = ( D63 | ( dom C52 ) ) by L284 , FINSEQ_1:def 3
.= C52 by L280 , FINSEQ_1:21;
thus L286: thesis by L285 , L233 , L272 , L283;
end;
L287: D52 is  open by L266 , EUCLID_9:24;
L288: D52 in (the topology of ( TOP-REAL R2 )) by L287 , L231 , PRE_TOPC:def 2;
thus L289: thesis by L288 , PRE_TOPC:def 2;
end;
L290: (for R2 being Nat holds (the carrier of ( R2 -VectSp_over ( F_Real ) )) = (the carrier of ( TOP-REAL R2 )))
proof
let R2 being Nat;
thus L291: (the carrier of ( R2 -VectSp_over ( F_Real ) )) = ( R2 -tuples_on (the carrier of ( F_Real )) ) by MATRIX13:102
.= ( REAL R2 ) by EUCLID:def 1 , VECTSP_1:def 5
.= (the carrier of ( TOP-REAL R2 )) by EUCLID:22;
end;
theorem
L292: (for R2 being Nat holds (for R4 being Nat holds (for R16 being (Subset of ( TOP-REAL R4 )) holds (for B33 being (Subset of ( TOP-REAL ( R4 + R2 ) )) holds (B33 = { ( B34 ^ ( R2 |-> ( 0 ) ) ) where B34 is (Element of ( TOP-REAL R4 )) : (not contradiction) } implies (for B35 being (Subset of ( ( TOP-REAL ( R4 + R2 ) ) | B33 )) holds (B35 = { B36 where B36 is (Point of ( TOP-REAL ( R4 + R2 ) )) : (( B36 | R4 ) in R16 & B36 in B33) } implies (R16 is  open iff B35 is  open))))))))
proof
let R2 being Nat;
let R4 being Nat;
let R16 being (Subset of ( TOP-REAL R4 ));
set D66 = ( R4 + R2 );
set D67 = ( TOP-REAL D66 );
set D68 = ( TOP-REAL R4 );
let C54 being (Subset of D67);
assume that
L293: C54 = { ( B37 ^ ( R2 |-> ( 0 ) ) ) where B37 is (Element of D68) : (not contradiction) };
L294: ( the TopStruct of D68 ) = ( TopSpaceMetr ( Euclid R4 ) ) by EUCLID:def 8;
reconsider D69 = R16 as (Subset of ( TopSpaceMetr ( Euclid R4 ) )) by L294;
set D70 = ( D67 | C54 );
let C55 being (Subset of ( D67 | C54 ));
assume that
L295: C55 = { B38 where B38 is (Element of D67) : (( B38 | R4 ) in R16 & B38 in C54) };
L296: ( [#] D70 ) = C54 by PRE_TOPC:def 5;
L297: D66 >= R4 by NAT_1:11;
thus L298:now
set D71 = { B39 where B39 is (Element of D67) : ( B39 | R4 ) in R16 };
L299: D71 c= ( [#] D67 )
proof
let C56 being set;
assume L300: C56 in D71;
L301: (ex B40 being (Element of D67) st (C56 = B40 & ( B40 | R4 ) in R16)) by L300;
thus L302: thesis by L301;
end;
reconsider D72 = D71 as (Subset of D67) by L299;
L303: ( D72 /\ C54 ) c= C55
proof
let C57 being set;
assume L304: C57 in ( D72 /\ C54 );
L305: C57 in D72 by L304 , XBOOLE_0:def 4;
consider C58 being (Element of D67) such that L306: (C57 = C58 & ( C58 | R4 ) in R16) by L305;
L307: C57 in C54 by L304 , XBOOLE_0:def 4;
thus L308: thesis by L307 , L295 , L306;
end;
assume L309: R16 is  open;
L310: D72 is  open by L309 , L297 , L229;
L311: D72 in (the topology of D67) by L310 , PRE_TOPC:def 2;
L312: ( D72 /\ ( [#] D70 ) ) in (the topology of D70) by L311 , PRE_TOPC:def 4;
L313: C55 c= ( D72 /\ C54 )
proof
let C59 being set;
assume L314: C59 in C55;
consider C60 being (Element of D67) such that L315: C59 = C60 and L316: ( C60 | R4 ) in R16 and L317: C60 in C54 by L314 , L295;
L318: C60 in D72 by L316;
thus L319: thesis by L318 , L315 , L317 , XBOOLE_0:def 4;
end;
L320: C55 = ( D72 /\ C54 ) by L313 , L303 , XBOOLE_0:def 10;
thus L321: C55 is  open by L320 , L296 , L312 , PRE_TOPC:def 2;
end;
assume L322: C55 is  open;
L323: C55 in (the topology of D70) by L322 , PRE_TOPC:def 2;
consider C61 being (Subset of D67) such that L324: C61 in (the topology of D67) and L325: ( C61 /\ ( [#] D70 ) ) = C55 by L323 , PRE_TOPC:def 4;
L326: ( the TopStruct of D67 ) = ( TopSpaceMetr ( Euclid D66 ) ) by EUCLID:def 8;
reconsider D73 = C61 as (Subset of ( TopSpaceMetr ( Euclid D66 ) )) by L326;
L327: D73 is  open by L324 , L326 , PRE_TOPC:def 2;
L328: (for B41 being (Point of ( Euclid R4 )) holds (B41 in D69 implies (ex B42 being  real number st (B42 > ( 0 ) & ( OpenHypercube (B41 , B42) ) c= D69))))
proof
let C62 being (Point of ( Euclid R4 ));
L329: ( len ( R2 |-> ( 0 ) ) ) = R2 by CARD_1:def 7;
L330: ( @ ( @ ( C62 ^ ( R2 |-> ( 0 ) ) ) ) ) = ( C62 ^ ( R2 |-> ( 0 ) ) );
L331: ( len C62 ) = R4 by CARD_1:def 7;
L332: ( len ( C62 ^ ( R2 |-> ( 0 ) ) ) ) = D66 by L331 , L329 , FINSEQ_1:22;
reconsider D74 = ( C62 ^ ( R2 |-> ( 0 ) ) ) as (Point of ( Euclid D66 )) by L332 , L330 , TOPREAL3:45;
L333: ( dom C62 ) = ( Seg R4 ) by L331 , FINSEQ_1:def 3;
L334: C62 = ( D74 | R4 ) by L333 , FINSEQ_1:21;
L335: ( R2 |-> ( 0 ) ) = ( @ ( @ ( R2 |-> ( 0 ) ) ) );
reconsider D75 = ( R2 |-> ( 0 ) ) as (Element of ( Euclid R2 )) by L335 , L329 , TOPREAL3:45;
L336: C62 is (Element of D68) by L1;
L337: D74 in C54 by L336 , L293;
assume L338: C62 in D69;
L339: D74 in C55 by L338 , L295 , L337 , L334;
L340: D74 in D73 by L339 , L325 , XBOOLE_0:def 4;
consider C63 being non  zero (Element of ( NAT )) such that L341: ( OpenHypercube (D74 , ( 1 / C63 )) ) c= D73 by L340 , L327 , EUCLID_9:23;
set D76 = ( 1 / C63 );
take D76;
thus L342: D76 > ( 0 ) by XREAL_1:139;
let C64 being set;
L343: D75 in ( OpenHypercube (D75 , D76) ) by EUCLID_9:11 , XREAL_1:139;
L344: D75 in ( product ( Intervals (D75 , D76) ) ) by L343 , EUCLID_9:def 4;
assume L345: C64 in ( OpenHypercube (C62 , D76) );
reconsider D77 = C64 as (Point of D68) by L345 , L294;
L346: ( ( Intervals (C62 , D76) ) ^ ( Intervals (D75 , D76) ) ) = ( Intervals (( C62 ^ D75 ) , D76) ) by L4;
L347: D77 in ( product ( Intervals (C62 , D76) ) ) by L345 , EUCLID_9:def 4;
L348: ( D77 ^ D75 ) in ( product ( Intervals (D74 , D76) ) ) by L347 , L344 , L346 , L25;
L349: ( D77 ^ D75 ) in ( OpenHypercube (D74 , D76) ) by L348 , EUCLID_9:def 4;
L350: ( D77 ^ D75 ) in C54 by L293;
L351: ( D77 ^ D75 ) in C55 by L350 , L296 , L325 , L341 , L349 , XBOOLE_0:def 4;
L352: (ex B43 being (Element of D67) st (( D77 ^ D75 ) = B43 & ( B43 | R4 ) in R16 & B43 in C54)) by L351 , L295;
L353: ( len D77 ) = R4 by CARD_1:def 7;
L354: ( ( D77 ^ D75 ) | R4 ) = ( ( D77 ^ D75 ) | ( dom D77 ) ) by L353 , FINSEQ_1:def 3
.= D77 by FINSEQ_1:21;
thus L355: thesis by L354 , L352;
end;
L356: D69 is  open by L328 , EUCLID_9:24;
L357: R16 in (the topology of ( TOP-REAL R4 )) by L356 , L294 , PRE_TOPC:def 2;
thus L358: thesis by L357 , PRE_TOPC:def 2;
end;
theorem
L359: (for R6 being RealLinearSpace holds (for B44 being  affinely-independent (Subset of R6) holds (for B45 being (Subset of R6) holds (B45 c= B44 implies ( ( conv B44 ) /\ ( Affin B45 ) ) = ( conv B45 )))))
proof
let R6 being RealLinearSpace;
let C65 being  affinely-independent (Subset of R6);
let C66 being (Subset of R6);
L360: ( conv C66 ) c= ( Affin C66 ) by RLAFFIN1:65;
assume L361: C66 c= C65;
thus L362: ( ( conv C65 ) /\ ( Affin C66 ) ) c= ( conv C66 )
proof
let C67 being set;
assume L363: C67 in ( ( conv C65 ) /\ ( Affin C66 ) );
L364: C67 in ( Affin C66 ) by L363 , XBOOLE_0:def 4;
L365: C67 in ( conv C65 ) by L363 , XBOOLE_0:def 4;
L366:
now
let C68 being (Element of R6);
L367: ( C67 |-- C66 ) = ( C67 |-- C65 ) by L361 , L364 , RLAFFIN1:77;
thus L368: (C68 in C66 implies ( 0 ) <= ( ( C67 |-- C66 ) . C68 )) by L367 , L365 , RLAFFIN1:71;
end;
L369: C66 is  affinely-independent by L361 , RLAFFIN1:43;
thus L370: thesis by L369 , L364 , L366 , RLAFFIN1:73;
end;

L371: ( conv C66 ) c= ( conv C65 ) by L361 , RLAFFIN1:3;
thus L372: thesis by L371 , L360 , XBOOLE_1:19;
end;
theorem
L373: (for R5 being Real holds (for B46 being non  empty RLSStruct holds (for B47 being non  empty set holds (for B48 being (PartFunc of B47 , (the carrier of B46)) holds (for B49 being set holds ( ( R5 (#) B48 ) .: B49 ) = ( R5 * ( B48 .: B49 ) ))))))
proof
let R5 being Real;
let C69 being non  empty RLSStruct;
let C70 being non  empty set;
let C71 being (PartFunc of C70 , (the carrier of C69));
let C72 being set;
set D78 = ( R5 (#) C71 );
L374: ( dom D78 ) = ( dom C71 ) by VFUNCT_1:def 4;
thus L375:now
let C73 being set;
assume L376: C73 in ( D78 .: C72 );
consider C74 being set such that L377: C74 in ( dom D78 ) and L378: C74 in C72 and L379: C73 = ( D78 . C74 ) by L376 , FUNCT_1:def 6;
L380: ( D78 . C74 ) = ( D78 /. C74 ) by L377 , PARTFUN1:def 6;
L381: C73 = ( R5 * ( C71 /. C74 ) ) by L380 , L377 , L379 , VFUNCT_1:def 4;
L382: ( C71 . C74 ) = ( C71 /. C74 ) by L374 , L377 , PARTFUN1:def 6;
L383: ( C71 /. C74 ) in ( C71 .: C72 ) by L382 , L374 , L377 , L378 , FUNCT_1:def 6;
L384: C73 in { ( R5 * B50 ) where B50 is (Element of C69) : B50 in ( C71 .: C72 ) } by L383 , L381;
thus L385: C73 in ( R5 * ( C71 .: C72 ) ) by L384 , CONVEX1:def 1;
end;
let C75 being set;
assume L386: C75 in ( R5 * ( C71 .: C72 ) );
L387: C75 in { ( R5 * B51 ) where B51 is (Element of C69) : B51 in ( C71 .: C72 ) } by L386 , CONVEX1:def 1;
consider C76 being (Element of C69) such that L388: C75 = ( R5 * C76 ) and L389: C76 in ( C71 .: C72 ) by L387;
consider C77 being set such that L390: C77 in ( dom C71 ) and L391: C77 in C72 and L392: C76 = ( C71 . C77 ) by L389 , FUNCT_1:def 6;
L393: C76 = ( C71 /. C77 ) by L390 , L392 , PARTFUN1:def 6;
L394: C75 = ( D78 /. C77 ) by L393 , L374 , L388 , L390 , VFUNCT_1:def 4
.= ( D78 . C77 ) by L374 , L390 , PARTFUN1:def 6;
thus L395: thesis by L394 , L374 , L390 , L391 , FUNCT_1:def 6;
end;
theorem
L396: (for R2 being Nat holds (for R14 being (Subset of ( TOP-REAL R2 )) holds (( 0* R2 ) in R14 implies ( Affin R14 ) = ( [#] ( Lin R14 ) ))))
proof
let R2 being Nat;
let R14 being (Subset of ( TOP-REAL R2 ));
set D79 = ( TOP-REAL R2 );
set D80 = R14;
L397: (( 0* R2 ) = ( 0. D79 ) & D80 c= ( Affin D80 )) by EUCLID:66 , RLAFFIN1:49;
assume L398: ( 0* R2 ) in D80;
thus L399: ( Affin D80 ) = ( ( 0. D79 ) + ( Up ( Lin ( ( - ( 0. D79 ) ) + D80 ) ) ) ) by L398 , L397 , RLAFFIN1:57
.= ( Up ( Lin ( ( - ( 0. D79 ) ) + D80 ) ) ) by RLAFFIN1:6
.= ( Up ( Lin ( ( 0. D79 ) + D80 ) ) ) by RLVECT_1:12
.= ( Up ( Lin D80 ) ) by RLAFFIN1:6
.= ( [#] ( Lin D80 ) ) by RUSUB_4:def 5;
end;
registration
let C78 being non  empty addLoopStr;
let C79 being  finite (Subset of C78);
let C80 being (Element of C78);
cluster ( C80 + C79 ) ->  finite;
coherence
proof
deffunc H1((Element of C78)) = ( C80 + $1 );
L400: ( card { H1(B52) where B52 is (Element of C78) : B52 in C79 } ) c= ( card C79 ) from TREES_2:sch 2;
L401: ( card ( C80 + C79 ) ) is  finite by L400 , RUSUB_4:def 8;
thus L402: thesis by L401;
end;
end;
L404: (for B53 being non  empty RLSStruct holds (for B54 being (Subset of B53) holds (for B55 being Real holds ( card ( B55 * B54 ) ) c= ( card B54 ))))
proof
let C81 being non  empty RLSStruct;
let C82 being (Subset of C81);
let C83 being  real number;
deffunc H2((Element of C81)) = ( C83 * $1 );
L405: ( card { H2(B56) where B56 is (Element of C81) : B56 in C82 } ) c= ( card C82 ) from TREES_2:sch 2;
thus L406: thesis by L405 , CONVEX1:def 1;
end;
registration
let C84 being non  empty RLSStruct;
let C85 being  finite (Subset of C84);
let R5 being Real;
cluster ( R5 * C85 ) ->  finite;
coherence
proof
L407: ( card ( R5 * C85 ) ) c= ( card C85 ) by L404;
thus L408: thesis by L407;
end;
end;
theorem
L410: (for R5 being Real holds (for R6 being RealLinearSpace holds (for B57 being (Subset of R6) holds (( card B57 ) = ( card ( R5 * B57 ) ) iff (R5 <> ( 0 ) or B57 is  trivial)))))
proof
let R5 being Real;
let R6 being RealLinearSpace;
let C86 being (Subset of R6);
L411: ( card { ( 0. R6 ) } ) = 1 by CARD_2:42;
thus L412:now
assume L413: ( card C86 ) = ( card ( R5 * C86 ) );
assume L414: R5 = ( 0 );
L415: ( R5 * C86 ) c= { ( 0. R6 ) } by L414 , RLAFFIN1:12;
reconsider D81 = C86 as  finite set by L415 , L413;
reconsider D82 = ( R5 * C86 ) as  finite set by L415;
L416: ( card D82 ) <= ( card { ( 0. R6 ) } ) by L414 , NAT_1:43 , RLAFFIN1:12;
L417: ( card D81 ) < ( 1 + 1 ) by L416 , L411 , L413 , NAT_1:13;
thus L418: C86 is  trivial by L417 , NAT_D:60;
end;
assume L419: (R5 <> ( 0 ) or C86 is  trivial);
per cases  by L419;
suppose L420: R5 <> ( 0 );

L421: (( 1 * C86 ) = C86 & ( ( ( 1 / R5 ) * R5 ) * C86 ) = ( ( 1 / R5 ) * ( R5 * C86 ) )) by RLAFFIN1:10 , RLAFFIN1:11;
L422: ( card ( R5 * C86 ) ) c= ( card C86 ) by L404;
L423: ( ( 1 / R5 ) * R5 ) = 1 by L420 , XCMPLX_1:87;
L424: ( card C86 ) c= ( card ( R5 * C86 ) ) by L423 , L421 , L404;
thus L425: thesis by L424 , L422 , XBOOLE_0:def 10;
end;
suppose L426: C86 is  empty;

L427: ( R5 * C86 ) is  empty
proof
assume L428: ( R5 * C86 ) is non  empty;
consider C87 being set such that L429: C87 in ( R5 * C86 ) by L428 , XBOOLE_0:def 1;
L430: C87 in { ( R5 * B58 ) where B58 is (Element of R6) : B58 in C86 } by L429 , CONVEX1:def 1;
L431: (ex B59 being (Element of R6) st (C87 = ( R5 * B59 ) & B59 in C86)) by L430;
thus L432: contradiction by L431 , L426;
end;
thus L433: thesis by L427 , L426;
end;
suppose L434: (R5 = ( 0 ) & C86 is 1 -element);

consider C88 being set such that L435: C86 = { C88 } by L434 , ZFMISC_1:131;
L436: ( R5 * C86 ) = { ( 0. R6 ) } by L434 , CONVEX1:34;
thus L437: thesis by L436 , L411 , L435 , CARD_2:42;
end;
end;
registration
let C89 being non  empty RLSStruct;
let C90 being (FinSequence of C89);
let R5 being Real;
cluster ( R5 (#) C90 ) ->  FinSequence-like;
coherence
proof
L439: ( dom ( R5 (#) C90 ) ) = ( dom C90 ) by VFUNCT_1:def 4
.= ( Seg ( len C90 ) ) by FINSEQ_1:def 3;
thus L440: thesis by L439 , FINSEQ_1:def 2;
end;
end;
begin
definition
let C91 being  finite set;
mode Enumeration of C91
 ->  one-to-one FinSequence
means :L442: ( rng it ) = C91;
existence
proof
L443: (ex B60 being FinSequence st (( rng B60 ) = C91 & B60 is  one-to-one)) by FINSEQ_4:58;
thus L444: thesis by L443;
end;
end;
definition
let C92 being 1-sorted;
let C93 being  finite (Subset of C92);
redefine mode Enumeration of C93
 ->  one-to-one (FinSequence of C92);
coherence
proof
let C94 being (Enumeration of C93);
L446: ( rng C94 ) = C93 by L442;
thus L447: thesis by L446 , FINSEQ_1:def 4;
end;
end;
theorem
L449: (for B61 being  Abelian  add-associative  right_zeroed  right_complementable non  empty addLoopStr holds (for B62 being  finite (Subset of B61) holds (for B63 being (Enumeration of B62) holds (for B64 being (Element of B61) holds ( B63 + ( ( card B62 ) |-> B64 ) ) is (Enumeration of ( B64 + B62 ))))))
proof
let C95 being  Abelian  add-associative  right_zeroed  right_complementable non  empty addLoopStr;
let C96 being  finite (Subset of C95);
let C97 being (Enumeration of C96);
let C98 being (Element of C95);
L450: ( rng C97 ) = C96 by L442;
L451: ( len C97 ) = ( card C96 ) by L450 , FINSEQ_4:62;
reconsider D83 = C97 , D84 = ( ( card C96 ) |-> C98 ) as (Element of ( ( card C96 ) -tuples_on (the carrier of C95) )) by L451 , FINSEQ_2:92;
L452: ( len ( D83 + D84 ) ) = ( card C96 ) by CARD_1:def 7;
L453: ( dom ( D83 + D84 ) ) = ( Seg ( card C96 ) ) by L452 , FINSEQ_1:def 3;
L454: ( dom D83 ) = ( Seg ( card C96 ) ) by L451 , FINSEQ_1:def 3;
L455: ( rng ( D83 + D84 ) ) c= ( C98 + C96 )
proof
let C99 being set;
assume L456: C99 in ( rng ( D83 + D84 ) );
consider C100 being set such that L457: C100 in ( dom ( D83 + D84 ) ) and L458: ( ( D83 + D84 ) . C100 ) = C99 by L456 , FUNCT_1:def 3;
reconsider D85 = C100 as (Element of ( NAT )) by L457;
L459: ( D83 . D85 ) in ( rng D83 ) by L454 , L453 , L457 , FUNCT_1:def 3;
reconsider D86 = ( D83 . D85 ) as (Element of C95) by L459;
L460: ( D84 . D85 ) = C98 by L453 , L457 , FINSEQ_2:57;
L461: C99 = ( D86 + C98 ) by L460 , L457 , L458 , FVSUM_1:17;
L462: C99 = ( C98 + D86 ) by L461 , RLVECT_1:def 2;
L463: C99 in { ( C98 + B65 ) where B65 is (Element of C95) : B65 in C96 } by L462 , L450 , L459;
thus L464: thesis by L463 , RUSUB_4:def 8;
end;
L465: ( C98 + C96 ) c= ( rng ( D83 + D84 ) )
proof
let C101 being set;
assume L466: C101 in ( C98 + C96 );
L467: C101 in { ( C98 + B66 ) where B66 is (Element of C95) : B66 in C96 } by L466 , RUSUB_4:def 8;
consider C102 being (Element of C95) such that L468: C101 = ( C98 + C102 ) and L469: C102 in C96 by L467;
consider C103 being set such that L470: C103 in ( dom C97 ) and L471: ( C97 . C103 ) = C102 by L450 , L469 , FUNCT_1:def 3;
reconsider D87 = C103 as (Element of ( NAT )) by L470;
L472: ( D84 . D87 ) = C98 by L454 , L470 , FINSEQ_2:57;
L473: ( ( D83 + D84 ) . D87 ) = ( C102 + C98 ) by L472 , L454 , L453 , L470 , L471 , FVSUM_1:17
.= C101 by L468 , RLVECT_1:def 2;
thus L474: thesis by L473 , L454 , L453 , L470 , FUNCT_1:def 3;
end;
L475: ( C98 + C96 ) = ( rng ( D83 + D84 ) ) by L465 , L455 , XBOOLE_0:def 10;
L476: ( card C96 ) = ( card ( C98 + C96 ) ) by RLAFFIN1:7;
L477: ( D83 + D84 ) is  one-to-one by L476 , L452 , L475 , FINSEQ_4:62;
thus L478: thesis by L477 , L475 , L442;
end;
theorem
L479: (for R5 being Real holds (for R6 being RealLinearSpace holds (for R11 being  finite (Subset of R6) holds (for B67 being (Enumeration of R11) holds (( R5 (#) B67 ) is (Enumeration of ( R5 * R11 )) iff (R5 <> ( 0 ) or R11 is  trivial))))))
proof
let R5 being Real;
let R6 being RealLinearSpace;
let R11 being  finite (Subset of R6);
let C104 being (Enumeration of R11);
set D88 = ( R5 (#) C104 );
L480: ( dom D88 ) = ( dom C104 ) by VFUNCT_1:def 4;
L481: ( len D88 ) = ( len C104 ) by L480 , FINSEQ_3:29;
L482: ( rng C104 ) = R11 by L442;
L483: ( card R11 ) = ( len C104 ) by L482 , FINSEQ_4:62;
L484: ( rng D88 ) = ( D88 .: ( dom C104 ) ) by L480 , RELAT_1:113
.= ( R5 * ( C104 .: ( dom C104 ) ) ) by L373
.= ( R5 * R11 ) by L482 , RELAT_1:113;
L485: ( card { ( 0. R6 ) } ) = 1 by CARD_2:42;
thus L486:now
reconsider D89 = ( R5 * R11 ) as  finite set;
assume L487: D88 is (Enumeration of ( R5 * R11 ));
L488: ( card ( R5 * R11 ) ) = ( card R11 ) by L487 , L483 , L481 , L484 , FINSEQ_4:62;
assume L489: R5 = ( 0 );
L490: ( card R11 ) <= 1 by L489 , L485 , L488 , NAT_1:43 , RLAFFIN1:12;
L491: ( card R11 ) < ( 1 + 1 ) by L490 , NAT_1:13;
thus L492: R11 is  trivial by L491 , NAT_D:60;
end;
assume L493: (R5 <> ( 0 ) or R11 is  trivial);
L494: ( card R11 ) = ( card ( R5 * R11 ) ) by L493 , L410;
L495: D88 is  one-to-one by L494 , L483 , L481 , L484 , FINSEQ_4:62;
thus L496: thesis by L495 , L484 , L442;
end;
theorem
L497: (for R2 being Nat holds (for R3 being Nat holds (for B68 being (Matrix of R2 , R3 , ( F_Real )) holds (( the_rank_of B68 ) = R2 implies (for B69 being  finite (Subset of ( TOP-REAL R2 )) holds (for B70 being (Enumeration of B69) holds ( ( Mx2Tran B68 ) * B70 ) is (Enumeration of ( ( Mx2Tran B68 ) .: B69 ))))))))
proof
let R2 being Nat;
let R3 being Nat;
let C105 being (Matrix of R2 , R3 , ( F_Real ));
assume that
L498: ( the_rank_of C105 ) = R2;
set D90 = ( Mx2Tran C105 );
L499: D90 is  one-to-one by L498 , MATRTOP1:39;
set D91 = ( TOP-REAL R2 );
let C106 being  finite (Subset of ( TOP-REAL R2 ));
let C107 being (Enumeration of C106);
L500: ( rng C107 ) = C106 by L442;
L501: ( dom D90 ) = ( [#] D91 ) by FUNCT_2:def 1;
L502: ( len ( D90 * C107 ) ) = ( len C107 ) by L501 , L500 , FINSEQ_2:29;
L503: ( dom ( D90 * C107 ) ) = ( dom C107 ) by L502 , FINSEQ_3:29;
L504: ( rng ( D90 * C107 ) ) = ( ( D90 * C107 ) .: ( dom ( D90 * C107 ) ) ) by RELAT_1:113
.= ( D90 .: ( C107 .: ( dom C107 ) ) ) by L503 , RELAT_1:126
.= ( D90 .: C106 ) by L500 , RELAT_1:113;
thus L505: thesis by L504 , L499 , L442;
end;
definition
let R6 being RealLinearSpace;
let R11 being  finite (Subset of R6);
let C108 being (Enumeration of R11);
let R1 being set;
func R1 |-- C108 -> (FinSequence of ( REAL )) equals 
( ( R1 |-- R11 ) * C108 );
coherence;
end;
theorem
L507: (for R1 being set holds (for R6 being RealLinearSpace holds (for R11 being  finite (Subset of R6) holds (for B71 being (Enumeration of R11) holds ( len ( R1 |-- B71 ) ) = ( card R11 )))))
proof
let R1 being set;
let R6 being RealLinearSpace;
let R11 being  finite (Subset of R6);
let C109 being (Enumeration of R11);
L508: ( rng C109 ) = R11 by L442;
L509: ( len C109 ) = ( card R11 ) by L508 , FINSEQ_4:62;
thus L510: thesis by L509 , FINSEQ_2:33;
end;
theorem
L511: (for R6 being RealLinearSpace holds (for R7 being (VECTOR of R6) holds (for R9 being (VECTOR of R6) holds (for R12 being  finite  affinely-independent (Subset of R6) holds (for R17 being (Enumeration of R12) holds (for B72 being (Enumeration of ( R7 + R12 )) holds ((R9 in ( Affin R12 ) & B72 = ( R17 + ( ( card R12 ) |-> R7 ) )) implies ( R9 |-- R17 ) = ( ( R7 + R9 ) |-- B72 ))))))))
proof
let R6 being RealLinearSpace;
let R7 being (VECTOR of R6);
let R9 being (VECTOR of R6);
let R12 being  finite  affinely-independent (Subset of R6);
let R17 being (Enumeration of R12);
set D92 = R17;
let C110 being (Enumeration of ( R7 + R12 ));
assume that
L512: R9 in ( Affin R12 )
and
L513: C110 = ( D92 + ( ( card R12 ) |-> R7 ) );
set D93 = ( R9 |-- R12 );
L514: ( sum D93 ) = 1 by L512 , RLAFFIN1:def 7;
L515: ( R7 + R9 ) in { ( R7 + R8 ) where R8 is (VECTOR of R6) : R8 in ( Affin R12 ) } by L512;
L516: ( R7 + R9 ) in ( R7 + ( Affin R12 ) ) by L515 , RUSUB_4:def 8;
L517: ( rng D92 ) = R12 by L442;
L518: ( len D92 ) = ( card R12 ) by L517 , FINSEQ_4:62;
reconsider D94 = D92 , D95 = ( ( card R12 ) |-> R7 ) as (Element of ( ( card R12 ) -tuples_on (the carrier of R6) )) by L518 , FINSEQ_2:92;
L519: (( Affin ( R7 + R12 ) ) = ( R7 + ( Affin R12 ) ) & ( 1 * R7 ) = R7) by RLAFFIN1:53 , RLVECT_1:def 8;
L520: (( Carrier ( R7 + D93 ) ) = ( R7 + ( Carrier D93 ) ) & ( Carrier D93 ) c= R12) by RLAFFIN1:16 , RLVECT_2:def 6;
L521: ( Carrier ( R7 + D93 ) ) c= ( R7 + R12 ) by L520 , RLTOPSP1:8;
reconsider D96 = ( R7 + D93 ) as (Linear_Combination of ( R7 + R12 )) by L521 , RLVECT_2:def 6;
L522: ( Sum D93 ) = R9 by L512 , RLAFFIN1:def 7;
L523: ( Sum D96 ) = ( ( 1 * R7 ) + R9 ) by L522 , L514 , RLAFFIN1:39;
L524: ( len ( R9 |-- D92 ) ) = ( card R12 ) by L507;
L525: ( card R12 ) = ( card ( R7 + R12 ) ) by RLAFFIN1:7;
L526: ( len ( ( R7 + R9 ) |-- C110 ) ) = ( card R12 ) by L525 , L507;
L527: ( dom ( R9 |-- D92 ) ) = ( dom ( ( R7 + R9 ) |-- C110 ) ) by L526 , L524 , FINSEQ_3:29;
L528: ( rng C110 ) = ( R7 + R12 ) by L442;
L529: ( len C110 ) = ( card R12 ) by L528 , L525 , FINSEQ_4:62;
L530: ( sum D96 ) = 1 by L514 , RLAFFIN1:37;
L531: D96 = ( ( R7 + R9 ) |-- ( R7 + R12 ) ) by L530 , L516 , L523 , L519 , RLAFFIN1:def 7;
L532:
now
let C111 being Nat;
assume L533: C111 in ( dom ( R9 |-- D92 ) );
L534: ( ( R9 |-- D92 ) . C111 ) = ( ( R9 |-- R12 ) . ( D92 . C111 ) ) by L533 , FUNCT_1:12;
L535: ( dom D92 ) = ( dom ( R9 |-- D92 ) ) by L524 , L518 , FINSEQ_3:29;
L536: ( D92 . C111 ) = ( D92 /. C111 ) by L535 , L533 , PARTFUN1:def 6;
L537: C111 in ( Seg ( card R12 ) ) by L524 , L533 , FINSEQ_1:def 3;
L538: ( D95 . C111 ) = R7 by L537 , FINSEQ_2:57;
L539: ( ( ( R7 + R9 ) |-- C110 ) . C111 ) = ( ( ( R7 + R9 ) |-- ( R7 + R12 ) ) . ( C110 . C111 ) ) by L527 , L533 , FUNCT_1:12;
L540: ( dom C110 ) = ( dom ( R9 |-- D92 ) ) by L524 , L529 , FINSEQ_3:29;
L541: ( C110 . C111 ) = ( ( D92 /. C111 ) + R7 ) by L540 , L513 , L533 , L538 , L536 , FVSUM_1:17;
thus L542: ( ( ( R7 + R9 ) |-- C110 ) . C111 ) = ( ( R9 |-- R12 ) . ( ( ( D92 /. C111 ) + R7 ) - R7 ) ) by L541 , L531 , L539 , RLAFFIN1:def 1
.= ( ( R9 |-- R12 ) . ( ( D92 /. C111 ) + ( R7 - R7 ) ) ) by RLVECT_1:28
.= ( ( R9 |-- R12 ) . ( ( D92 /. C111 ) + ( 0. R6 ) ) ) by RLVECT_1:15
.= ( ( R9 |-- D92 ) . C111 ) by L534 , L536 , RLVECT_1:def 4;
end;
thus L543: thesis by L532 , L527 , FINSEQ_1:13;
end;
theorem
L544: (for R5 being Real holds (for R6 being RealLinearSpace holds (for R7 being (VECTOR of R6) holds (for R12 being  finite  affinely-independent (Subset of R6) holds (for R17 being (Enumeration of R12) holds (for B73 being (Enumeration of ( R5 * R12 )) holds ((R7 in ( Affin R12 ) & B73 = ( R5 (#) R17 ) & R5 <> ( 0 )) implies ( R7 |-- R17 ) = ( ( R5 * R7 ) |-- B73 ))))))))
proof
let R5 being Real;
let R6 being RealLinearSpace;
let R7 being (VECTOR of R6);
let R12 being  finite  affinely-independent (Subset of R6);
let R17 being (Enumeration of R12);
set D97 = R17;
let C112 being (Enumeration of ( R5 * R12 ));
assume that
L545: R7 in ( Affin R12 )
and
L546: C112 = ( R5 (#) D97 )
and
L547: R5 <> ( 0 );
set D98 = ( R7 |-- R12 );
L548: ( Carrier D98 ) c= R12 by RLVECT_2:def 6;
L549: ( R5 * R7 ) in { ( R5 * R8 ) where R8 is (VECTOR of R6) : R8 in ( Affin R12 ) } by L545;
L550: ( dom C112 ) = ( dom D97 ) by L546 , VFUNCT_1:def 4;
L551: ( Carrier ( R5 (*) D98 ) ) = ( R5 * ( Carrier D98 ) ) by L547 , RLAFFIN1:23;
L552: ( Carrier ( R5 (*) D98 ) ) c= ( R5 * R12 ) by L551 , L548 , CONVEX1:39;
reconsider D99 = ( R5 (*) D98 ) as (Linear_Combination of ( R5 * R12 )) by L552 , RLVECT_2:def 6;
L553: ( sum D98 ) = 1 by L545 , RLAFFIN1:def 7;
L554: ( sum D99 ) = 1 by L553 , L547 , RLAFFIN1:38;
L555: ( Sum D98 ) = R7 by L545 , RLAFFIN1:def 7;
L556: ( Sum D99 ) = ( R5 * R7 ) by L555 , RLAFFIN1:40;
L557: ( len ( ( R5 * R7 ) |-- C112 ) ) = ( card ( R5 * R12 ) ) by L507;
L558: ( len ( R7 |-- D97 ) ) = ( card R12 ) by L507;
L559: ( rng D97 ) = R12 by L442;
L560: ( len D97 ) = ( card R12 ) by L559 , FINSEQ_4:62;
L561: ( dom ( R7 |-- D97 ) ) = ( dom D97 ) by L560 , L558 , FINSEQ_3:29;
L562: ( card R12 ) = ( card ( R5 * R12 ) ) by L547 , L410;
L563: ( dom ( R7 |-- D97 ) ) = ( dom ( ( R5 * R7 ) |-- C112 ) ) by L562 , L558 , L557 , FINSEQ_3:29;
L564: ( Affin ( R5 * R12 ) ) = ( R5 * ( Affin R12 ) ) by L547 , RLAFFIN1:55;
L565: ( R5 * R7 ) in ( Affin ( R5 * R12 ) ) by L564 , L549 , CONVEX1:def 1;
L566: D99 = ( ( R5 * R7 ) |-- ( R5 * R12 ) ) by L565 , L554 , L556 , RLAFFIN1:def 7;
L567:
now
let C113 being Nat;
assume L568: C113 in ( dom ( R7 |-- D97 ) );
L569: (( ( R7 |-- D97 ) . C113 ) = ( D98 . ( D97 . C113 ) ) & ( D97 /. C113 ) = ( D97 . C113 )) by L568 , L561 , FUNCT_1:12 , PARTFUN1:def 6;
L570: ( C112 /. C113 ) = ( R5 * ( D97 /. C113 ) ) by L546 , L561 , L550 , L568 , VFUNCT_1:def 4;
L571: (( ( ( R5 * R7 ) |-- C112 ) . C113 ) = ( D99 . ( C112 . C113 ) ) & ( C112 /. C113 ) = ( C112 . C113 )) by L566 , L563 , L561 , L550 , L568 , FUNCT_1:12 , PARTFUN1:def 6;
thus L572: ( ( ( R5 * R7 ) |-- C112 ) . C113 ) = ( D98 . ( ( R5 " ) * ( R5 * ( D97 /. C113 ) ) ) ) by L571 , L547 , L570 , RLAFFIN1:def 2
.= ( D98 . ( ( ( R5 " ) * R5 ) * ( D97 /. C113 ) ) ) by RLVECT_1:def 7
.= ( D98 . ( 1 * ( D97 /. C113 ) ) ) by L547 , XCMPLX_0:def 7
.= ( ( R7 |-- D97 ) . C113 ) by L569 , RLVECT_1:def 8;
end;
thus L573: thesis by L567 , L563 , FINSEQ_1:13;
end;
theorem
L574: (for R2 being Nat holds (for R3 being Nat holds (for R15 being  affinely-independent (Subset of ( TOP-REAL R2 )) holds (for R18 being (Enumeration of R15) holds (for B74 being (Matrix of R2 , R3 , ( F_Real )) holds (( the_rank_of B74 ) = R2 implies (for B75 being (Enumeration of ( ( Mx2Tran B74 ) .: R15 )) holds (B75 = ( ( Mx2Tran B74 ) * R18 ) implies (for R13 being (Point of ( TOP-REAL R2 )) holds (R13 in ( Affin R15 ) implies ( R13 |-- R18 ) = ( ( ( Mx2Tran B74 ) . R13 ) |-- B75 )))))))))))
proof
let R2 being Nat;
let R3 being Nat;
let R15 being  affinely-independent (Subset of ( TOP-REAL R2 ));
let R18 being (Enumeration of R15);
set D100 = ( TOP-REAL R2 );
let C114 being (Matrix of R2 , R3 , ( F_Real ));
assume that
L575: ( the_rank_of C114 ) = R2;
set D101 = ( Mx2Tran C114 );
L576: D101 is  one-to-one by L575 , MATRTOP1:39;
set D102 = R18;
set D103 = R15;
let C115 being (Enumeration of ( ( Mx2Tran C114 ) .: D103 ));
assume that
L577: C115 = ( ( Mx2Tran C114 ) * D102 );
L578: ( dom D101 ) = (the carrier of D100) by FUNCT_2:def 1;
L579: D103 , ( D101 .: D103 ) are_equipotent  by L578 , L576 , CARD_1:33;
L580: ( card D103 ) = ( card ( D101 .: D103 ) ) by L579 , CARD_1:5;
let C116 being (Element of ( TOP-REAL R2 ));
assume that
L581: C116 in ( Affin D103 );
set D104 = ( D101 . C116 );
L582: ( len ( C116 |-- D102 ) ) = ( card D103 ) by L507;
L583: ( len ( D104 |-- C115 ) ) = ( card ( D101 .: D103 ) ) by L507;
L584:
now
let C117 being Nat;
assume L585: (1 <= C117 & C117 <= ( card D103 ));
L586: C117 in ( dom ( D104 |-- C115 ) ) by L585 , L580 , L583 , FINSEQ_3:25;
L587: C117 in ( dom C115 ) by L586 , FUNCT_1:11;
L588: C117 in ( dom ( C116 |-- D102 ) ) by L582 , L585 , FINSEQ_3:25;
L589: C117 in ( dom D102 ) by L588 , FUNCT_1:11;
L590: ( D102 . C117 ) in ( rng D102 ) by L589 , FUNCT_1:def 3;
reconsider D105 = ( D102 . C117 ) as (Element of D100) by L590;
thus L591: ( ( C116 |-- D102 ) . C117 ) = ( ( C116 |-- D103 ) . D105 ) by L588 , FUNCT_1:12
.= ( ( D104 |-- ( D101 .: D103 ) ) . ( D101 . D105 ) ) by L575 , L581 , MATRTOP2:25
.= ( ( D104 |-- ( D101 .: D103 ) ) . ( C115 . C117 ) ) by L577 , L587 , FUNCT_1:12
.= ( ( D104 |-- C115 ) . C117 ) by L586 , FUNCT_1:12;
end;
thus L592: thesis by L584 , L580 , L583 , L582 , FINSEQ_1:14;
end;
theorem
L593: (for R1 being set holds (for R6 being RealLinearSpace holds (for R12 being  finite  affinely-independent (Subset of R6) holds (for R17 being (Enumeration of R12) holds (for B76 being (Subset of R6) holds ((B76 c= R12 & R1 in ( Affin R12 )) implies (R1 in ( Affin B76 ) iff (for B77 being set holds ((B77 in ( dom ( R1 |-- R17 ) ) & (not ( R17 . B77 ) in B76)) implies ( ( R1 |-- R17 ) . B77 ) = ( 0 ))))))))))
proof
let R1 being set;
let R6 being RealLinearSpace;
let R12 being  finite  affinely-independent (Subset of R6);
let R17 being (Enumeration of R12);
let C118 being (Subset of R6);
assume that
L594: C118 c= R12;
set D106 = ( R1 |-- R12 );
set D107 = ( R1 |-- C118 );
set D108 = ( card R12 );
set D109 = R17;
assume L595: R1 in ( Affin R12 );
set D110 = ( R1 |-- D109 );
L596: ( len D110 ) = D108 by L507;
L597: ( rng D109 ) = R12 by L442;
L598: ( len D109 ) = D108 by L597 , FINSEQ_4:62;
L599: ( dom D110 ) = ( dom D109 ) by L598 , L596 , FINSEQ_3:29;
L600: ( Carrier D107 ) c= C118 by RLVECT_2:def 6;
thus L601:now
assume L602: R1 in ( Affin C118 );
L603: D107 = D106 by L602 , L594 , RLAFFIN1:77;
let C119 being set;
assume that
L604: C119 in ( dom D110 )
and
L605: (not ( D109 . C119 ) in C118);
L606: C119 in ( dom D109 ) by L604 , FUNCT_1:11;
L607: ( D109 . C119 ) in R12 by L606 , L597 , FUNCT_1:def 3;
reconsider D111 = ( D109 . C119 ) as (Element of R6) by L607;
L608: (( D110 . C119 ) = ( ( R1 |-- R12 ) . ( D109 . C119 ) ) & (not D111 in ( Carrier D107 ))) by L600 , L604 , L605 , FUNCT_1:12;
thus L609: ( D110 . C119 ) = ( 0 ) by L608 , L603 , RLVECT_2:19;
end;
assume L610: (for B78 being set holds ((B78 in ( dom D110 ) & (not ( D109 . B78 ) in C118)) implies ( D110 . B78 ) = ( 0 )));
L611:
now
let C120 being set;
assume L612: C120 in ( R12 \ C118 );
L613: C120 in R12 by L612 , XBOOLE_0:def 5;
consider C121 being set such that L614: (C121 in ( dom D109 ) & ( D109 . C121 ) = C120) by L613 , L597 , FUNCT_1:def 3;
L615: (not C120 in C118) by L612 , XBOOLE_0:def 5;
L616: ( D110 . C121 ) = ( 0 ) by L615 , L599 , L610 , L614;
thus L617: ( D106 . C120 ) = ( 0 ) by L616 , L599 , L614 , FUNCT_1:12;
end;
L618: ( R12 \ ( R12 \ C118 ) ) = ( R12 /\ C118 ) by XBOOLE_1:48
.= C118 by L594 , XBOOLE_1:28;
thus L619: thesis by L618 , L595 , L611 , RLAFFIN1:75;
end;
theorem
L620: (for R1 being set holds (for R4 being Nat holds (for R6 being RealLinearSpace holds (for R12 being  finite  affinely-independent (Subset of R6) holds (for R17 being (Enumeration of R12) holds (R1 in ( Affin R12 ) implies (R1 in ( Affin ( R17 .: ( Seg R4 ) ) ) iff ( R1 |-- R17 ) = ( ( ( R1 |-- R17 ) | R4 ) ^ ( ( ( card R12 ) -' R4 ) |-> ( 0 ) ) ))))))))
proof
let R1 being set;
let R4 being Nat;
let R6 being RealLinearSpace;
let R12 being  finite  affinely-independent (Subset of R6);
let C122 being (Enumeration of R12);
set D112 = ( C122 .: ( Seg R4 ) );
set D113 = ( card R12 );
set D114 = ( D113 -' R4 );
set D115 = ( R1 |-- C122 );
set D116 = ( D115 | R4 );
set D117 = ( D114 |-> ( 0 ) );
L621: D112 c= ( rng C122 ) by RELAT_1:111;
assume L622: R1 in ( Affin R12 );
reconsider D118 = R1 as (Element of R6) by L622;
L623: ( len D115 ) = D113 by L507;
L624: ( rng C122 ) = R12 by L442;
L625: ( len C122 ) = D113 by L624 , FINSEQ_4:62;
per cases ;
suppose L626: R4 > D113;

L627: ( Seg D113 ) c= ( Seg R4 ) by L626 , FINSEQ_1:5;
L628: ( dom C122 ) c= ( Seg R4 ) by L627 , L625 , FINSEQ_1:def 3;
L629: ( ( dom C122 ) /\ ( Seg R4 ) ) = ( dom C122 ) by L628 , XBOOLE_1:28;
L630: D112 = ( C122 .: ( dom C122 ) ) by L629 , RELAT_1:112;
L631: ( D113 - R4 ) < ( 0 ) by L626 , XREAL_1:49;
L632: D114 = ( 0 ) by L631 , XREAL_0:def 2;
L633: D117 is  empty by L632;
L634: D116 = D115 by L623 , L626 , FINSEQ_1:58;
thus L635: thesis by L634 , L622 , L624 , L633 , L630 , FINSEQ_1:34 , RELAT_1:113;
end;
suppose L636: R4 <= D113;

L637: ( len D117 ) = D114 by CARD_1:def 7;
L638: ( len D116 ) = R4 by L623 , L636 , FINSEQ_1:59;
L639: D114 = ( D113 - R4 ) by L636 , XREAL_1:233;
L640: ( len ( D116 ^ D117 ) ) = ( R4 + ( D113 - R4 ) ) by L639 , L638 , L637 , FINSEQ_1:22;
thus L641:now
assume L642: R1 in ( Affin D112 );
L643:
now
let C123 being Nat;
assume L644: (1 <= C123 & C123 <= ( len D115 ));
L645: C123 in ( dom D115 ) by L644 , FINSEQ_3:25;
L646: C123 in ( dom C122 ) by L623 , L625 , L644 , FINSEQ_3:25;
L647: C123 in ( dom ( D116 ^ D117 ) ) by L623 , L640 , L644 , FINSEQ_3:25;
per cases  by L638 , L647 , FINSEQ_1:25;
suppose L648: C123 in ( dom D116 );

thus L649: ( ( D116 ^ D117 ) . C123 ) = ( D116 . C123 ) by L648 , FINSEQ_1:def 7
.= ( D115 . C123 ) by L648 , FUNCT_1:47;
end;
suppose L650: (ex B79 being Nat st (B79 in ( dom D117 ) & C123 = ( R4 + B79 )));

consider C124 being Nat such that L651: C124 in ( dom D117 ) and L652: C123 = ( R4 + C124 ) by L650;
L653: (not ( C122 . C123 ) in D112)
proof
assume L654: ( C122 . C123 ) in D112;
consider C125 being set such that L655: (C125 in ( dom C122 ) & C125 in ( Seg R4 ) & ( C122 . C125 ) = ( C122 . C123 )) by L654 , FUNCT_1:def 6;
L656: C123 in ( Seg R4 ) by L646 , L655 , FUNCT_1:def 4;
L657: C123 <= R4 by L656 , FINSEQ_1:1;
L658: C123 >= R4 by L652 , NAT_1:11;
L659: C123 = R4 by L658 , L657 , XXREAL_0:1;
thus L660: contradiction by L659 , L651 , L652 , FINSEQ_3:25;
end;
L661: ( D117 . C124 ) = ( 0 );
L662: ( ( D116 ^ D117 ) . C123 ) = ( 0 ) by L661 , L638 , L651 , L652 , FINSEQ_1:def 7;
thus L663: ( D115 . C123 ) = ( ( D116 ^ D117 ) . C123 ) by L662 , L622 , L621 , L624 , L642 , L645 , L653 , L593;
end;
end;
thus L665: D115 = ( D116 ^ D117 ) by L643 , L640 , L507 , FINSEQ_1:14;
end;
assume L666: D115 = ( D116 ^ D117 );
L667: ( dom ( D116 ^ D117 ) ) = ( dom D115 ) by L623 , L640 , FINSEQ_3:29;
L668:
now
let C126 being set;
assume that
L669: C126 in ( dom D115 )
and
L670: (not ( C122 . C126 ) in D112);
reconsider D119 = C126 as Nat by L669;
L671: D119 in ( dom C122 ) by L623 , L625 , L669 , FINSEQ_3:29;
L672: (not D119 in ( Seg R4 )) by L671 , L670 , FUNCT_1:def 6;
L673: (not D119 in ( dom D116 )) by L672 , L638 , FINSEQ_1:def 3;
consider C127 being Nat such that L674: (C127 in ( dom D117 ) & D119 = ( R4 + C127 )) by L673 , L638 , L667 , L669 , FINSEQ_1:25;
L675: ( D117 . C127 ) = ( 0 );
thus L676: ( D115 . C126 ) = ( 0 ) by L675 , L638 , L666 , L674 , FINSEQ_1:def 7;
end;
thus L677: R1 in ( Affin D112 ) by L668 , L622 , L621 , L624 , L593;
end;
end;
theorem
L679: (for R1 being set holds (for R4 being Nat holds (for R6 being RealLinearSpace holds (for R12 being  finite  affinely-independent (Subset of R6) holds (for R17 being (Enumeration of R12) holds ((R4 <= ( card R12 ) & R1 in ( Affin R12 )) implies (R1 in ( Affin ( R12 \ ( R17 .: ( Seg R4 ) ) ) ) iff ( R1 |-- R17 ) = ( ( R4 |-> ( 0 ) ) ^ ( ( R1 |-- R17 ) /^ R4 ) ))))))))
proof
let R1 being set;
let R4 being Nat;
let R6 being RealLinearSpace;
let R12 being  finite  affinely-independent (Subset of R6);
let C128 being (Enumeration of R12);
set D120 = ( card R12 );
set D121 = ( C128 .: ( Seg R4 ) );
set D122 = ( R12 \ D121 );
set D123 = ( R1 |-- C128 );
set D124 = ( D123 | R4 );
set D125 = ( R1 |-- R12 );
set D126 = ( R4 |-> ( 0 ) );
L680: D122 c= R12 by XBOOLE_1:36;
L681: D123 = ( ( D123 | R4 ) ^ ( D123 /^ R4 ) ) by RFINSEQ:8;
assume L682: R4 <= ( card R12 );
L683: ( Seg R4 ) c= ( Seg D120 ) by L682 , FINSEQ_1:5;
L684: ( len D123 ) = D120 by L507;
L685: ( Seg D120 ) = ( dom D123 ) by L684 , FINSEQ_1:def 3;
L686: ( rng C128 ) = R12 by L442;
L687: ( len C128 ) = D120 by L686 , FINSEQ_4:62;
L688: ( dom C128 ) = ( dom D123 ) by L687 , L684 , FINSEQ_3:29;
assume L689: R1 in ( Affin R12 );
L690: (( len D126 ) = R4 & ( len D124 ) = R4) by L682 , L684 , CARD_1:def 7 , FINSEQ_1:59;
thus L691:now
assume L692: R1 in ( Affin D122 );
L693:
now
let C129 being Nat;
assume L694: (1 <= C129 & C129 <= R4);
L695: C129 in ( Seg R4 ) by L694 , FINSEQ_1:1;
L696: ( C128 . C129 ) in D121 by L695 , L688 , L683 , L685 , FUNCT_1:def 6;
L697: (not ( C128 . C129 ) in D122) by L696 , XBOOLE_0:def 5;
L698: ( D123 . C129 ) = ( 0 ) by L697 , L689 , L680 , L683 , L685 , L692 , L695 , L593;
thus L699: ( D124 . C129 ) = ( D126 . C129 ) by L698 , L695 , FUNCT_1:49;
end;
thus L700: D123 = ( D126 ^ ( D123 /^ R4 ) ) by L693 , L690 , L681 , FINSEQ_1:14;
end;
assume L701: D123 = ( D126 ^ ( D123 /^ R4 ) );
L702: D124 = D126 by L701 , L681 , FINSEQ_1:33;
L703:
now
let C130 being set;
assume that
L704: C130 in ( dom D123 )
and
L705: (not ( C128 . C130 ) in D122);
L706: ( C128 . C130 ) in R12 by L686 , L688 , L704 , FUNCT_1:def 3;
L707: ( C128 . C130 ) in ( C128 .: ( Seg R4 ) ) by L706 , L705 , XBOOLE_0:def 5;
consider C131 being set such that L708: C131 in ( dom C128 ) and L709: C131 in ( Seg R4 ) and L710: ( C128 . C131 ) = ( C128 . C130 ) by L707 , FUNCT_1:def 6;
L711: C131 = C130 by L688 , L704 , L708 , L710 , FUNCT_1:def 4;
L712: ( D124 . C130 ) = ( D123 . C130 ) by L711 , L709 , FUNCT_1:49;
thus L713: ( D123 . C130 ) = ( 0 ) by L712 , L702;
end;
thus L714: thesis by L703 , L689 , L680 , L593;
end;
theorem
L715: (for R2 being Nat holds (for R15 being  affinely-independent (Subset of ( TOP-REAL R2 )) holds (for R18 being (Enumeration of R15) holds ((( 0* R2 ) in R15 & ( R18 . ( len R18 ) ) = ( 0* R2 )) implies (( rng ( R18 | ( ( card R15 ) -' 1 ) ) ) = ( R15 \ { ( 0* R2 ) } ) & (for B80 being (Subset of ( R2 -VectSp_over ( F_Real ) )) holds (R15 = B80 implies ( R18 | ( ( card R15 ) -' 1 ) ) is (OrdBasis of ( Lin B80 )))))))))
proof
let R2 being Nat;
let R15 being  affinely-independent (Subset of ( TOP-REAL R2 ));
let R18 being (Enumeration of R15);
set D127 = R15;
set D128 = R18;
assume that
L716: ( 0* R2 ) in D127
and
L717: ( D128 . ( len D128 ) ) = ( 0* R2 );
L718: ( card D127 ) >= 1 by L716 , NAT_1:14;
set D129 = ( ( card D127 ) -' 1 );
L719: ( rng D128 ) = D127 by L442;
L720: D129 = ( ( card D127 ) - 1 ) by L716 , NAT_1:14 , XREAL_1:233;
L721: ( len D128 ) = ( D129 + 1 ) by L720 , L719 , FINSEQ_4:62;
L722: ( len D128 ) = ( card D127 ) by L719 , FINSEQ_4:62;
L723: (not ( 0* R2 ) in ( rng ( D128 | D129 ) ))
proof
L724: ( len D128 ) in ( dom D128 ) by L722 , L718 , FINSEQ_3:25;
assume L725: ( 0* R2 ) in ( rng ( D128 | D129 ) );
consider C132 being set such that L726: C132 in ( dom ( D128 | D129 ) ) and L727: ( ( D128 | D129 ) . C132 ) = ( 0* R2 ) by L725 , FUNCT_1:def 3;
L728: C132 in ( Seg D129 ) by L726 , RELAT_1:57;
L729: (C132 in ( dom D128 ) & ( ( D128 | D129 ) . C132 ) = ( D128 . C132 )) by L726 , FUNCT_1:47 , RELAT_1:57;
L730: C132 = ( D129 + 1 ) by L729 , L717 , L721 , L727 , L724 , FUNCT_1:def 4;
L731: ( D129 + 1 ) <= D129 by L730 , L728 , FINSEQ_1:1;
thus L732: thesis by L731 , NAT_1:13;
end;
L733: D128 = ( ( D128 | D129 ) ^ <* ( D128 . ( len D128 ) ) *> ) by L721 , FINSEQ_3:55;
L734: D127 = ( ( rng ( D128 | D129 ) ) \/ ( rng <* ( D128 . ( len D128 ) ) *> ) ) by L733 , L719 , FINSEQ_1:31
.= ( ( rng ( D128 | D129 ) ) \/ { ( 0* R2 ) } ) by L717 , FINSEQ_1:38;
thus L735: ( D127 \ { ( 0* R2 ) } ) = ( rng ( D128 | D129 ) ) by L734 , L723 , ZFMISC_1:117;
let C133 being (Subset of ( R2 -VectSp_over ( F_Real ) ));
assume that
L736: D127 = C133;
L737: C133 c= ( [#] ( Lin C133 ) )
proof
let C134 being set;
assume L738: C134 in C133;
L739: C134 in ( Lin C133 ) by L738 , VECTSP_7:8;
thus L740: thesis by L739 , STRUCT_0:def 5;
end;
reconsider D130 = D128 as (FinSequence of ( Lin C133 )) by L737 , L719 , L736 , FINSEQ_1:def 4;
L741: ( 0* R2 ) = ( 0. ( TOP-REAL R2 ) ) by EUCLID:66;
L742: ( D127 \ { ( 0* R2 ) } ) is  linearly-independent by L741 , L716 , RLAFFIN1:46;
L743: ( C133 \ { ( 0* R2 ) } ) is  linearly-independent by L742 , L736 , MATRTOP2:7;
L744: ( rng ( D130 | D129 ) ) is  linearly-independent by L743 , L736 , L735 , VECTSP_9:12;
L745: ( [#] ( Lin C133 ) ) = ( [#] ( Lin D127 ) ) by L736 , MATRTOP2:6
.= ( [#] ( Lin ( D127 \ { ( 0. ( TOP-REAL R2 ) ) } ) ) ) by L67
.= ( [#] ( Lin ( D127 \ { ( 0* R2 ) } ) ) ) by EUCLID:66
.= ( [#] ( Lin ( C133 \ { ( 0* R2 ) } ) ) ) by L736 , MATRTOP2:6;
L746: ( Lin C133 ) = ( Lin ( C133 \ { ( 0* R2 ) } ) ) by L745 , VECTSP_4:29
.= ( Lin ( rng ( D130 | D129 ) ) ) by L734 , L723 , L736 , VECTSP_9:17 , ZFMISC_1:117;
L747: (( D130 | D129 ) is  one-to-one & ( rng ( D130 | D129 ) ) is (Basis of ( Lin C133 ))) by L746 , L744 , FUNCT_1:52 , VECTSP_7:def 3;
thus L748: thesis by L747 , MATRLIN:def 2;
end;
L749: ( 0 ) in ( REAL ) by XREAL_0:def 1;
theorem
L750: (for R2 being Nat holds (for R15 being  affinely-independent (Subset of ( TOP-REAL R2 )) holds (for R18 being (Enumeration of R15) holds (for B81 being (Subset of ( R2 -VectSp_over ( F_Real ) )) holds ((R15 = B81 & ( 0* R2 ) in R15 & ( R18 . ( len R18 ) ) = ( 0* R2 )) implies (for B82 being (OrdBasis of ( Lin B81 )) holds (B82 = ( R18 | ( ( card R15 ) -' 1 ) ) implies (for B83 being (Element of ( Lin B81 )) holds ( B83 |-- B82 ) = ( ( B83 |-- R18 ) | ( ( card R15 ) -' 1 ) )))))))))
proof
let R2 being Nat;
let R15 being  affinely-independent (Subset of ( TOP-REAL R2 ));
let R18 being (Enumeration of R15);
reconsider D131 = ( 0 ) as (Element of ( REAL )) by L749;
set D132 = ( TOP-REAL R2 );
set D133 = R15;
set D134 = ( R2 -VectSp_over ( F_Real ) );
set D135 = R18;
let C135 being (Subset of D134);
assume that
L751: D133 = C135
and
L752: ( 0* R2 ) in D133
and
L753: ( D135 . ( len D135 ) ) = ( 0* R2 );
deffunc H3(set) = D131;
L754: ( Affin D133 ) = ( [#] ( Lin D133 ) ) by L752 , L396;
set D136 = ( ( card D133 ) -' 1 );
let C136 being (OrdBasis of ( Lin C135 ));
assume that
L755: C136 = ( D135 | D136 );
L756: ( rng C136 ) = ( D133 \ { ( 0* R2 ) } ) by L752 , L753 , L755 , L715;
reconsider D137 = ( rng C136 ) as (Subset of D132) by L756;
let C137 being (Element of ( Lin C135 ));
set D138 = ( C137 |-- C136 );
consider C138 being (Linear_Combination of ( Lin C135 )) such that L757: C137 = ( Sum C138 ) and L758: ( Carrier C138 ) c= ( rng C136 ) and L759: (for B84 being Nat holds ((1 <= B84 & B84 <= ( len D138 )) implies ( D138 /. B84 ) = ( C138 . ( C136 /. B84 ) ))) by MATRLIN:def 7;
L760: ( ( C137 |-- D135 ) | D136 ) = ( ( C137 |-- D133 ) * ( D135 | D136 ) ) by RELAT_1:83;
L761: ( dom ( C137 |-- D133 ) ) = ( [#] D132 ) by FUNCT_2:def 1;
L762: D137 c= ( dom ( C137 |-- D133 ) ) by L761;
L763: ( len ( ( C137 |-- D135 ) | D136 ) ) = ( len C136 ) by L762 , L755 , L760 , FINSEQ_2:29;
L764: ( [#] ( Lin C135 ) ) = ( [#] ( Lin D133 ) ) by L751 , MATRTOP2:6;
reconsider D139 = D137 as (Subset of ( Lin D133 )) by L764;
reconsider D140 = C138 as (Linear_Combination of ( Lin D133 )) by L764 , MATRTOP2:11;
L765: ( Carrier D140 ) = ( Carrier C138 ) by MATRTOP2:12;
consider C139 being (Linear_Combination of D132) such that L766: ( Carrier C139 ) = ( Carrier D140 ) and L767: ( Sum C139 ) = ( Sum D140 ) by RLVECT_5:11;
L768: ( rng C136 ) c= D133 by L756 , XBOOLE_1:36;
L769: ( Carrier C139 ) c= D133 by L768 , L758 , L765 , L766 , XBOOLE_1:1;
reconsider D141 = ( C139 | ( [#] ( Lin D133 ) ) ) as (Linear_Combination of ( Lin D133 )) by MATRTOP2:10;
L770: (( Carrier D141 ) = ( Carrier C139 ) & ( Sum D141 ) = ( Sum C139 )) by L766 , RLVECT_5:10;
reconsider D142 = C139 as (Linear_Combination of D133) by L769 , RLVECT_2:def 6;
consider C140 being (Function of (the carrier of D132) , ( REAL )) such that L771: ( C140 . ( 0. D132 ) ) = ( 1 - ( sum D142 ) ) and L772: (for B85 being (Element of D132) holds (B85 <> ( 0. D132 ) implies ( C140 . B85 ) = H3(B85))) from FUNCT_2:sch 6;
reconsider D143 = C140 as (Element of ( Funcs ((the carrier of D132) , ( REAL )) )) by FUNCT_2:8;
L773:
now
let C141 being (VECTOR of D132);
assume L774: (not C141 in { ( 0. D132 ) });
L775: C141 <> ( 0. D132 ) by L774 , TARSKI:def 1;
thus L776: ( D143 . C141 ) = ( 0 ) by L775 , L772;
end;
reconsider D144 = D143 as (Linear_Combination of D132) by L773 , RLVECT_2:def 3;
L777: ( Carrier D144 ) c= { ( 0. D132 ) }
proof
let R1 being set;
assume that
L778: R1 in ( Carrier D144 )
and
L779: (not R1 in { ( 0. D132 ) });
L780: (( D144 . R1 ) <> ( 0 ) & R1 <> ( 0. D132 )) by L778 , L779 , RLVECT_2:19 , TARSKI:def 1;
thus L781: thesis by L780 , L772 , L778;
end;
reconsider D145 = D144 as (Linear_Combination of { ( 0. D132 ) }) by L777 , RLVECT_2:def 6;
L782: ( Carrier D145 ) c= { ( 0. D132 ) } by RLVECT_2:def 6;
L783: ( rng C136 ) is (Basis of ( Lin C135 )) by MATRLIN:def 2;
L784: ( rng C136 ) is  linearly-independent by L783 , VECTSP_7:def 3;
L785: ( rng C136 ) is  linearly-independent  linearly-independent  linearly-independent  linearly-independent (Subset of D134) by L784 , VECTSP_9:11;
L786: D137 is  linearly-independent by L785 , MATRTOP2:7;
L787: D139 is  linearly-independent by L786 , RLVECT_5:15;
L788: ( len D138 ) = ( len C136 ) by MATRLIN:def 7;
L789: ( Sum D145 ) = ( ( D145 . ( 0. D132 ) ) * ( 0. D132 ) ) by RLVECT_2:32
.= ( 0. D132 ) by RLVECT_1:10;
L790: ( 0. D132 ) = ( 0* R2 ) by EUCLID:66;
L791: { ( 0. D132 ) } c= D133 by L790 , L752 , ZFMISC_1:31;
reconsider D146 = D145 as (Linear_Combination of D133) by L791 , RLVECT_2:21;
reconsider D147 = ( D142 + D146 ) as (Linear_Combination of D133) by RLVECT_2:38;
L792: ( sum D147 ) = ( ( sum D142 ) + ( sum D146 ) ) by RLAFFIN1:34
.= ( ( sum D142 ) + ( 1 - ( sum D142 ) ) ) by L771 , L782 , RLAFFIN1:32
.= 1;
L793: ( Sum D147 ) = ( ( Sum D142 ) + ( Sum D146 ) ) by RLVECT_3:1
.= ( Sum D142 ) by L789 , RLVECT_1:def 4
.= C137 by L757 , L767 , MATRTOP2:12;
L794: ( C137 |-- D133 ) = D147 by L793 , L764 , L754 , L792 , RLAFFIN1:def 7;
L795:
now
let C142 being Nat;
reconsider D148 = ( C136 /. C142 ) as (Element of D132) by L764 , RLSUB_1:10;
assume L796: (1 <= C142 & C142 <= ( len C136 ));
L797: (( D138 /. C142 ) = ( C138 . D148 ) & C142 in ( dom ( ( C137 |-- D135 ) | D136 ) )) by L796 , L788 , L759 , L763 , FINSEQ_3:25;
L798: C142 in ( dom C136 ) by L796 , FINSEQ_3:25;
L799: D148 = ( C136 . C142 ) by L798 , PARTFUN1:def 6;
L800: D148 in ( rng C136 ) by L799 , L798 , FUNCT_1:def 3;
L801: D148 <> ( 0. D132 ) by L800 , L756 , L790 , ZFMISC_1:56;
L802: (not D148 in ( Carrier D146 )) by L801 , L782 , TARSKI:def 1;
L803: ( D146 . D148 ) = ( 0 ) by L802 , RLVECT_2:19;
L804: C142 in ( dom D138 ) by L788 , L796 , FINSEQ_3:25;
L805: ( D138 . C142 ) = ( D138 /. C142 ) by L804 , PARTFUN1:def 6;
L806: ( D147 . D148 ) = ( ( D142 . D148 ) + ( D146 . D148 ) ) by RLVECT_2:def 10;
L807: ( D147 . D148 ) = ( D141 . D148 ) by L806 , L764 , L803 , FUNCT_1:49
.= ( C138 . D148 ) by L787 , L758 , L765 , L766 , L767 , L770 , RLVECT_5:1;
thus L808: ( ( ( C137 |-- D135 ) | D136 ) . C142 ) = ( D138 . C142 ) by L807 , L755 , L794 , L760 , L797 , L805 , L799 , FUNCT_1:12;
end;
thus L809: thesis by L795 , L788 , L763 , FINSEQ_1:14;
end;
L810: (for R4 being Nat holds (for B86 being non  empty LinearTopSpace holds (for B87 being  finite  affinely-independent (Subset of B86) holds (for B88 being (Enumeration of B87) holds (for B89 being (Point of B86) holds (for B90 being (Enumeration of ( B89 + B87 )) holds (B90 = ( B88 + ( ( card B87 ) |-> B89 ) ) implies (for B91 being set holds ( ( transl (B89 , B86) ) .: { B92 where B92 is (Point of B86) : (B92 in ( Affin B87 ) & ( ( B92 |-- B88 ) | R4 ) in B91) } ) = { B93 where B93 is (Point of B86) : (B93 in ( Affin ( B89 + B87 ) ) & ( ( B93 |-- B90 ) | R4 ) in B91) }))))))))
proof
let R4 being Nat;
let C143 being non  empty LinearTopSpace;
let C144 being  finite  affinely-independent (Subset of C143);
let C145 being (Enumeration of C144);
let C146 being (Point of C143);
let C147 being (Enumeration of ( C146 + C144 ));
assume that
L811: C147 = ( C145 + ( ( card C144 ) |-> C146 ) );
set D149 = ( transl (C146 , C143) );
let C148 being set;
set D150 = { B94 where B94 is (Point of C143) : (B94 in ( Affin C144 ) & ( ( B94 |-- C145 ) | R4 ) in C148) };
set D151 = { B95 where B95 is (Point of C143) : (B95 in ( Affin ( C146 + C144 ) ) & ( ( B95 |-- C147 ) | R4 ) in C148) };
L812: ( Affin ( C146 + C144 ) ) = ( C146 + ( Affin C144 ) ) by RLAFFIN1:53;
thus L813:now
let C149 being set;
assume L814: C149 in ( D149 .: D150 );
consider C150 being set such that L815: C150 in ( dom D149 ) and L816: C150 in D150 and L817: ( D149 . C150 ) = C149 by L814 , FUNCT_1:def 6;
consider C151 being (Point of C143) such that L818: C150 = C151 and L819: C151 in ( Affin C144 ) and L820: ( ( C151 |-- C145 ) | R4 ) in C148 by L816;
L821: ( C146 + C151 ) in { ( C146 + B96 ) where B96 is (Point of C143) : B96 in ( Affin C144 ) } by L819;
L822: ( C146 + C151 ) in ( Affin ( C146 + C144 ) ) by L821 , L812 , RUSUB_4:def 8;
L823: ( C151 |-- C145 ) = ( ( C146 + C151 ) |-- C147 ) by L811 , L819 , L511;
L824: ( C146 + C151 ) in D151 by L823 , L820 , L822;
thus L825: C149 in D151 by L824 , L817 , L818 , RLTOPSP1:def 10;
end;
let C152 being set;
assume L826: C152 in D151;
consider C153 being (Point of C143) such that L827: C152 = C153 and L828: C153 in ( Affin ( C146 + C144 ) ) and L829: ( ( C153 |-- C147 ) | R4 ) in C148 by L826;
L830: C153 in { ( C146 + B97 ) where B97 is (Point of C143) : B97 in ( Affin C144 ) } by L812 , L828 , RUSUB_4:def 8;
consider C154 being (Point of C143) such that L831: C153 = ( C146 + C154 ) and L832: C154 in ( Affin C144 ) by L830;
L833: ( C153 |-- C147 ) = ( C154 |-- C145 ) by L811 , L831 , L832 , L511;
L834: (( dom D149 ) = (the carrier of C143) & C154 in D150) by L833 , L829 , L832 , FUNCT_2:52;
L835: ( D149 . C154 ) in ( D149 .: D150 ) by L834 , FUNCT_1:def 6;
thus L836: thesis by L835 , L827 , L831 , RLTOPSP1:def 10;
end;
L837: (for R2 being Nat holds (for R4 being Nat holds (R4 <= R2 implies (for B98 being non  empty  finite  affinely-independent (Subset of ( TOP-REAL R2 )) holds (( card B98 ) = ( R2 + 1 ) implies (for B99 being (Enumeration of B98) holds (( B99 . ( len B99 ) ) = ( 0* R2 ) implies (for B100 being (Subset of ( TOP-REAL R4 )) holds (for B101 being (Subset of ( TOP-REAL R2 )) holds (B101 = { R13 where R13 is (Point of ( TOP-REAL R2 )) : ( ( R13 |-- B99 ) | R4 ) in B100 } implies (B100 is  open iff B101 is  open)))))))))))
proof
let C155 , C156 being Nat;
assume that
L838: C156 <= C155;
set D152 = ( C155 -VectSp_over ( F_Real ) );
set D153 = ( TOP-REAL C155 );
let C157 being non  empty  finite  affinely-independent (Subset of D153);
reconsider D154 = C157 as (Subset of D152) by L290;
set D155 = ( TOP-REAL C156 );
set D156 = ( ( card C157 ) -' 1 );
assume L839: ( card C157 ) = ( C155 + 1 );
L840: ( dim D153 ) = C155 by L173;
L841: ( Affin C157 ) = ( [#] D153 ) by L840 , L839 , L194;
L842: ( 0* C155 ) = ( 0. D153 ) by EUCLID:66;
L843: ( Lin ( C157 \ { ( 0* C155 ) } ) ) = ( Lin C157 ) by L842 , L67;
let C158 being (Enumeration of C157);
reconsider D157 = C158 as (FinSequence of D152) by L290;
L844: ( rng C158 ) = C157 by L442;
L845: ( len C158 ) = ( card C157 ) by L844 , FINSEQ_4:62;
L846: C155 < ( C155 + 1 ) by NAT_1:13;
reconsider D158 = ( FinS2MX ( D157 | C155 ) ) as (Matrix of C155 , ( F_Real )) by L846 , L839 , L845 , FINSEQ_1:59;
L847: ( ( card C157 ) - 1 ) = D156 by NAT_1:14 , XREAL_1:233;
set D159 = ( Mx2Tran D158 );
assume L848: ( C158 . ( len C158 ) ) = ( 0* C155 );
let C159 being (Subset of D155);
let C160 being (Subset of D153);
set D160 = { B102 where B102 is (Element of D153) : ( B102 | C156 ) in C159 };
L849: D160 c= (the carrier of D153)
proof
let C161 being set;
assume L850: C161 in D160;
L851: (ex B103 being (Element of D153) st (C161 = B103 & ( B103 | C156 ) in C159)) by L850;
thus L852: thesis by L851;
end;
reconsider D161 = D160 as (Subset of D153) by L849;
assume L853: C160 = { B104 where B104 is (Element of D153) : ( ( B104 |-- C158 ) | C156 ) in C159 };
L854: ( card C157 ) >= 1 by NAT_1:14;
L855: ( len C158 ) in ( dom C158 ) by L854 , L845 , FINSEQ_3:25;
L856: ( 0* C155 ) in C157 by L855 , L848 , L844 , FUNCT_1:def 3;
L857: (( [#] ( Lin ( C157 \ { ( 0* C155 ) } ) ) ) = ( [#] ( Lin ( D154 \ { ( 0* C155 ) } ) ) ) & ( rng ( C158 | D156 ) ) = ( C157 \ { ( 0* C155 ) } )) by L856 , L848 , L715 , MATRTOP2:6;
L858: ( [#] ( Lin C157 ) ) = ( [#] ( Lin D154 ) ) by MATRTOP2:6;
L859: ( Lin ( lines D158 ) ) = ( Lin D154 ) by L858 , L839 , L847 , L843 , L857 , VECTSP_4:29;
reconsider D162 = ( C158 | D156 ) as (OrdBasis of ( Lin ( lines D158 ) )) by L859 , L848 , L856 , L715;
L860: ( rng D162 ) is (Basis of ( Lin ( lines D158 ) )) by MATRLIN:def 2;
L861: ( rng D162 ) is  linearly-independent by L860 , VECTSP_7:def 3;
L862: ( lines D158 ) is  linearly-independent by L861 , L839 , L847 , VECTSP_9:11;
L863: D162 = D158 by L839 , L847;
L864: D158 is  one-to-one by L863 , MATRLIN:def 2;
L865: ( the_rank_of D158 ) = C155 by L864 , L862 , MATRIX13:121;
L866: ( Det D158 ) <> ( 0. ( F_Real ) ) by L865 , MATRIX13:83;
L867: D158 is  invertible by L866 , LAPLACE:34;
L868: D159 is  onto by L865 , MATRTOP1:41;
L869: ( rng D159 ) = (the carrier of D153) by L868 , FUNCT_2:def 3;
L870: C160 c= ( D159 .: D161 )
proof
let C162 being set;
assume L871: C162 in C160;
consider C163 being (Element of D153) such that L872: C162 = C163 and L873: ( ( C163 |-- C158 ) | C156 ) in C159 by L871 , L853;
consider C164 being set such that L874: (C164 in ( dom D159 ) & ( D159 . C164 ) = C163) by L869 , FUNCT_1:def 3;
L875: ( len ( C163 |-- C158 ) ) = ( C155 + 1 ) by L839 , L507;
L876: ( len ( ( C163 |-- C158 ) | C155 ) ) = C155 by L875 , FINSEQ_1:59 , NAT_1:11;
L877: ( ( C163 |-- C158 ) | C155 ) is (Element of ( C155 -tuples_on ( REAL ) )) by L876 , FINSEQ_2:92;
L878: ( ( C163 |-- C158 ) | C155 ) in ( C155 -tuples_on ( REAL ) ) by L877;
L879: ( ( C163 |-- C158 ) | C155 ) in ( REAL C155 ) by L878 , EUCLID:def 1;
L880: ( ( C163 |-- C158 ) | C155 ) is (Element of D153) by L879 , EUCLID:22;
reconsider D163 = C163 as (Element of ( Lin ( lines D158 ) )) by L839 , L847 , L841 , L856 , L843 , L857 , L396;
L881: ( ( ( C163 |-- C158 ) | C155 ) | C156 ) = ( ( C163 |-- C158 ) | C156 ) by L838 , FINSEQ_1:82;
L882: C164 = ( D163 |-- D162 ) by L839 , L847 , L874 , MATRTOP2:17
.= ( ( D163 |-- C158 ) | D156 ) by L848 , L856 , L859 , L750;
L883: C164 in D161 by L882 , L839 , L847 , L873 , L880 , L881;
thus L884: thesis by L883 , L872 , L874 , FUNCT_1:def 6;
end;
L885: ( D159 .: D161 ) c= C160
proof
let C165 being set;
assume L886: C165 in ( D159 .: D161 );
consider C166 being set such that L887: C166 in ( dom D159 ) and L888: C166 in D161 and L889: ( D159 . C166 ) = C165 by L886 , FUNCT_1:def 6;
consider C167 being (Element of D153) such that L890: (C166 = C167 & ( C167 | C156 ) in C159) by L888;
reconsider D164 = ( D159 . C167 ) as (Element of ( Lin ( lines D158 ) )) by L839 , L847 , L841 , L856 , L843 , L857 , L396;
L891: C167 = ( D164 |-- D162 ) by L839 , L847 , MATRTOP2:17
.= ( ( D164 |-- C158 ) | D156 ) by L848 , L856 , L859 , L750;
L892: ( C167 | C156 ) = ( ( D164 |-- C158 ) | C156 ) by L891 , L838 , L839 , L847 , FINSEQ_1:82;
thus L893: thesis by L892 , L853 , L889 , L890;
end;
L894: ( D159 .: D161 ) = C160 by L885 , L870 , XBOOLE_0:def 10;
L895: (C159 is  open iff D161 is  open) by L838 , L229;
thus L896: thesis by L895 , L867 , L894 , TOPGRP_1:25;
end;
L897: (for R2 being Nat holds (for R4 being Nat holds (for B105 being non  empty  finite  affinely-independent (Subset of ( TOP-REAL R2 )) holds (R4 < ( card B105 ) implies (for B106 being (Enumeration of B105) holds (( B106 . ( len B106 ) ) = ( 0* R2 ) implies (for B107 being (Subset of ( TOP-REAL R4 )) holds (for B108 being (Subset of ( ( TOP-REAL R2 ) | ( Affin B105 ) )) holds (B108 = { B109 where B109 is (Element of ( ( TOP-REAL R2 ) | ( Affin B105 ) )) : ( ( B109 |-- B106 ) | R4 ) in B107 } implies (B107 is  open iff B108 is  open))))))))))
proof
let C168 , C169 being Nat;
set D165 = ( TOP-REAL C168 );
let C170 being non  empty  finite  affinely-independent (Subset of D165);
assume that
L898: C169 < ( card C170 );
reconsider D166 = ( ( card C170 ) - 1 ) as (Element of ( NAT )) by NAT_1:14 , NAT_1:21;
set D167 = ( Affin C170 );
let C171 being (Enumeration of C170);
assume that
L899: ( C171 . ( len C171 ) ) = ( 0* C168 );
L900: ( rng C171 ) = C170 by L442;
L901: ( len C171 ) = ( card C170 ) by L900 , FINSEQ_4:62;
L902: ( len C171 ) >= 1 by L901 , NAT_1:14;
L903: ( len C171 ) in ( dom C171 ) by L902 , FINSEQ_3:25;
L904: ( 0* C168 ) in ( rng C171 ) by L903 , L899 , FUNCT_1:def 3;
L905: ( 0. D165 ) = ( 0* C168 ) by EUCLID:66;
L906: ( 0. D165 ) in C170 by L905 , L899 , L900 , L903 , FUNCT_1:def 3;
L907: ( C170 \ { ( 0. D165 ) } ) is  linearly-independent by L906 , RLAFFIN1:46;
L908: ( card C170 ) <= ( 1 + ( dim D165 ) ) by L178;
L909: ( D166 + 1 ) <= ( 1 + C168 ) by L908 , L173;
L910: D166 <= C168 by L909 , XREAL_1:6;
set D168 = ( C168 -' D166 );
let C172 being (Subset of ( TOP-REAL C169 ));
let C173 being (Subset of ( D165 | D167 ));
assume that
L911: C173 = { B110 where B110 is (Element of ( D165 | D167 )) : ( ( B110 |-- C171 ) | C169 ) in C172 };
L912: ( [#] ( D165 | D167 ) ) = D167 by PRE_TOPC:def 5;
consider C174 being FinSequence such that L913: ( rng C174 ) = ( C170 \ { ( 0. D165 ) } ) and L914: C174 is  one-to-one by FINSEQ_4:58;
set D169 = ( C168 -VectSp_over ( F_Real ) );
reconsider D170 = ( MX2FinS ( 1. (( F_Real ) , C168) ) ) as (OrdBasis of D169) by MATRLIN2:45;
L915: ( len D170 ) = C168 by MATRTOP1:19;
reconsider D171 = ( FinS2MX ( D170 | D166 ) ) as (Matrix of D166 , C168 , ( F_Real )) by L915 , L910 , FINSEQ_1:59;
reconsider D172 = ( Mx2Tran D171 ) as Function;
L916: ( D166 + 1 ) = ( card C170 );
L917: ( len C174 ) = ( card ( C170 \ { ( 0. D165 ) } ) ) by L913 , L914 , FINSEQ_4:62
.= D166 by L906 , L916 , STIRL2_1:55;
set D173 = ( Mx2Tran D171 );
set D174 = ( TOP-REAL D166 );
L918: (( dom D173 ) = ( [#] D174 ) & ( D173 . ( 0. D174 ) ) = ( 0. D165 )) by FUNCT_2:def 1 , MATRTOP1:29;
L919: ( rng D170 ) is (Basis of D169) by MATRLIN:def 2;
L920: ( rng D170 ) is  linearly-independent by L919 , VECTSP_7:def 3;
L921: ( rng ( D170 | D166 ) ) is  linearly-independent by L920 , RELAT_1:70 , VECTSP_7:1;
reconsider D175 = C174 as (FinSequence of D165) by L913 , FINSEQ_1:def 4;
L922: ( [#] ( Lin ( rng ( D170 | ( len D175 ) ) ) ) ) c= (the carrier of D169) by VECTSP_4:def 2;
reconsider D176 = ( [#] ( Lin ( rng ( D170 | ( len D175 ) ) ) ) ) as (Subset of D165) by L922 , L290;
L923: ( rng D172 ) = D176 by L917 , MATRTOP2:18;
consider C175 being (Matrix of C168 , ( F_Real )) such that L924: C175 is  invertible and L925: ( C175 | ( len D175 ) ) = D175 by L907 , L913 , L914 , MATRTOP2:19;
set D177 = ( Mx2Tran ( C175 ~ ) );
L926: ( [#] ( D165 | D176 ) ) = D176 by PRE_TOPC:def 5;
L927: ( C175 ~ ) is  invertible by L924 , MATRIX_6:16;
L928: ( Det ( C175 ~ ) ) <> ( 0. ( F_Real ) ) by L927 , LAPLACE:34;
L929: ( the_rank_of ( C175 ~ ) ) = C168 by L928 , MATRIX13:83;
reconsider D178 = ( D177 * C171 ) as (Enumeration of ( D177 .: C170 )) by L929 , L497;
L930: ( rng D178 ) = ( D177 .: C170 ) by L442;
L931: (( dom D177 ) = ( [#] D165 ) & D177 is  one-to-one) by L928 , FUNCT_2:def 1 , MATRTOP1:40;
L932: C170 , ( D177 .: C170 ) are_equipotent  by L931 , CARD_1:33;
L933: ( card C170 ) = ( card ( D177 .: C170 ) ) by L932 , CARD_1:5;
L934: ( len D178 ) = ( len C171 ) by L933 , L901 , L930 , FINSEQ_4:62;
L935: ( len C171 ) in ( dom D178 ) by L934 , L902 , FINSEQ_3:25;
L936: ( D178 . ( len C171 ) ) = ( D177 . ( 0. D165 ) ) by L935 , L899 , L905 , FUNCT_1:12
.= ( 0. D165 ) by MATRTOP1:29;
set D179 = ( Mx2Tran C175 );
L937: ( Affin C170 ) = ( [#] ( Lin C170 ) ) by L900 , L904 , L396
.= ( [#] ( Lin ( rng D175 ) ) ) by L913 , L67;
L938: ( D179 .: D176 ) = D167 by L937 , L907 , L913 , L914 , L924 , L925 , MATRTOP2:21;
L939: ( rng ( D179 | D176 ) ) = D167 by L938 , RELAT_1:115;
L940: ( dom D179 ) = ( [#] D165 ) by FUNCT_2:def 1;
L941: ( dom ( D179 | D176 ) ) = D176 by L940 , RELAT_1:62;
reconsider D180 = ( D179 | D176 ) as (Function of ( D165 | D176 ) , ( D165 | D167 )) by L941 , L912 , L926 , L939 , FUNCT_2:1;
reconsider D181 = D179 as Function;
L942: ( Det C175 ) <> ( 0. ( F_Real ) ) by L924 , LAPLACE:34;
L943: ( D181 " ) = D177 by L942 , MATRTOP1:43;
L944: D180 is  being_homeomorphism by L924 , L938 , METRIZTS:2;
L945: (( D180 " C173 ) is  open iff C173 is  open) by L944 , TOPGRP_1:26;
set D182 = ( D168 |-> ( 0 ) );
set D183 = { ( B111 ^ D182 ) where B111 is (Element of D174) : (not contradiction) };
L946: D168 = ( C168 - D166 ) by L910 , XREAL_1:233;
L947: C168 = ( D166 + D168 ) by L946;
L948: D181 is  one-to-one by L942 , MATRTOP1:40;
L949: ( D181 " D167 ) = D176 by L948 , L938 , L940 , FUNCT_1:94;
L950: ( D181 " C170 ) c= ( D181 " D167 ) by RELAT_1:143 , RLAFFIN1:49;
L951: ( D177 .: C170 ) c= D176 by L950 , L943 , L948 , L949 , FUNCT_1:85;
L952: D170 is  one-to-one by MATRLIN:def 2;
L953: ( D170 | D166 ) is  one-to-one by L952 , FUNCT_1:52;
L954: ( the_rank_of D171 ) = D166 by L953 , L921 , MATRIX13:121;
L955: D172 is  one-to-one by L954 , MATRTOP1:39;
L956: ( dom ( D172 " ) ) = ( rng D172 ) by L955 , FUNCT_1:33;
reconsider D184 = ( ( D172 " ) * D178 ) as FinSequence by L956 , L923 , L930 , L951 , FINSEQ_1:16;
L957: ( rng D184 ) = ( ( D172 " ) .: ( D177 .: C170 ) ) by L930 , RELAT_1:127;
L958: ( D177 .: C170 ) is  affinely-independent by L929 , MATRTOP2:24;
L959: ( D173 " ( D177 .: C170 ) ) is  affinely-independent by L958 , L954 , MATRTOP2:27;
reconsider D185 = ( rng D184 ) as  finite  affinely-independent (Subset of D174) by L959 , L955 , L957 , FUNCT_1:85;
reconsider D186 = D184 as (Enumeration of D185) by L955 , L442;
reconsider D187 = ( D173 * D186 ) as (Enumeration of ( ( Mx2Tran D171 ) .: D185 )) by L954 , L497;
L960: ( D172 * ( D172 " ) ) = ( id ( rng D172 ) ) by L955 , FUNCT_1:39;
L961: D187 = ( ( id ( rng D172 ) ) * D178 ) by L960 , RELAT_1:36
.= D178 by L923 , L930 , L951 , RELAT_1:53;
set D188 = { B112 where B112 is (Element of D174) : ( ( B112 |-- D186 ) | C169 ) in C172 };
L962: D188 c= ( [#] D174 )
proof
let C176 being set;
assume L963: C176 in D188;
L964: (ex B113 being (Element of D174) st (C176 = B113 & ( ( B113 |-- D186 ) | C169 ) in C172)) by L963;
thus L965: thesis by L964;
end;
L966: ( D177 .: C170 ) = ( D181 " C170 ) by L943 , L948 , FUNCT_1:85;
L967: ( D181 " C173 ) c= ( D181 " D167 ) by L912 , RELAT_1:143;
L968: ( D177 .: C170 ) , D185 are_equipotent  by L923 , L955 , L956 , L951 , L957 , CARD_1:33;
L969: ( D166 + 1 ) = ( card D185 ) by L968 , L933 , CARD_1:5;
L970: (C169 <= D166 & D185 is non  empty) by L969 , L898 , NAT_1:13;
reconsider D189 = D188 as (Subset of D174) by L962;
set D190 = { B114 where B114 is (Element of D165) : (( B114 | D166 ) in D189 & B114 in D176) };
L971: ( dim D174 ) = D166 by L173;
L972: ( Affin D185 ) = ( [#] D174 ) by L971 , L969 , L194;
L973: ( ( Mx2Tran D171 ) .: D185 ) = ( D172 .: ( ( D172 " ) .: ( D177 .: C170 ) ) ) by L930 , RELAT_1:127
.= ( ( D172 * ( D172 " ) ) .: ( D177 .: C170 ) ) by RELAT_1:126
.= ( ( id ( rng D172 ) ) .: ( D177 .: C170 ) ) by L955 , FUNCT_1:39
.= ( D177 .: C170 ) by L966 , L949 , L950 , L923 , FUNCT_1:92;
L974: ( D181 " C173 ) c= D190
proof
let C177 being set;
assume L975: C177 in ( D181 " C173 );
reconsider D191 = C177 as (Element of ( D165 | D176 )) by L975 , L938 , L926 , L940 , L948 , L967 , FUNCT_1:94;
L976: ( D181 . C177 ) in C173 by L975 , FUNCT_1:def 7;
consider C178 being (Element of ( D165 | D167 )) such that L977: ( D181 . C177 ) = C178 and L978: ( ( C178 |-- C171 ) | C169 ) in C172 by L976 , L911;
L979: C177 in ( dom D181 ) by L975 , FUNCT_1:def 7;
L980: ( D177 . C178 ) = C177 by L979 , L943 , L948 , L977 , FUNCT_1:34;
L981: C177 in D176 by L949 , L967 , L975;
reconsider D192 = C177 as (Element of D165) by L981;
L982: C178 in D167 by L912;
consider C179 being set such that L983: C179 in ( dom D173 ) and L984: ( D173 . C179 ) = D191 by L949 , L967 , L923 , L975 , FUNCT_1:def 3;
L985: ( D192 | D166 ) = C179 by L983 , L984 , MATRTOP1:38;
reconsider D193 = C179 as (Element of D174) by L983;
L986: ( D193 |-- D186 ) = ( D191 |-- D178 ) by L984 , L973 , L961 , L954 , L972 , L574
.= ( C178 |-- C171 ) by L929 , L980 , L982 , L574;
L987: D193 in D189 by L986 , L978;
thus L988: thesis by L987 , L949 , L967 , L975 , L985;
end;
L989: D176 c= D183
proof
let C180 being set;
assume L990: C180 in D176;
reconsider D194 = C180 as (Element of D165) by L990;
L991: ( len D194 ) = C168 by CARD_1:def 7;
L992: ( len ( D194 | D166 ) ) = D166 by L991 , L910 , FINSEQ_1:59;
L993: ( D194 | D166 ) is D166 -element by L992 , CARD_1:def 7;
L994: ( D194 | D166 ) is (Element of D174) by L993 , L1;
L995: D194 in ( Lin ( rng ( D170 | D166 ) ) ) by L917 , L990 , STRUCT_0:def 5;
L996: D194 = ( ( D194 | D166 ) ^ D182 ) by L995 , MATRTOP2:20;
thus L997: thesis by L996 , L994;
end;
L998: D183 c= D176
proof
let C181 being set;
assume L999: C181 in D183;
consider C182 being (Element of D174) such that L1000: C181 = ( C182 ^ D182 ) and L1001: (not contradiction) by L999;
L1002: ( len C182 ) = D166 by CARD_1:def 7;
L1003: ( ( C182 ^ ( D168 |-> ( 0 ) ) ) | D166 ) = ( ( C182 ^ ( D168 |-> ( 0 ) ) ) | ( dom C182 ) ) by L1002 , FINSEQ_1:def 3
.= C182 by FINSEQ_1:21;
L1004: ( C182 ^ ( D168 |-> ( 0 ) ) ) in ( Lin ( rng ( D170 | D166 ) ) ) by L1003 , L946 , MATRTOP2:20;
thus L1005: thesis by L1004 , L917 , L1000 , STRUCT_0:def 5;
end;
L1006: D176 = D183 by L998 , L989 , XBOOLE_0:def 10;
L1007: D190 c= ( D181 " C173 )
proof
let C183 being set;
assume L1008: C183 in D190;
consider C184 being (Element of D165) such that L1009: C183 = C184 and L1010: ( C184 | D166 ) in D189 and L1011: C184 in D176 by L1008;
consider C185 being (Element of D174) such that L1012: C184 = ( C185 ^ D182 ) by L1006 , L1011;
consider C186 being (Element of D174) such that L1013: C186 = ( C184 | D166 ) and L1014: ( ( C186 |-- D186 ) | C169 ) in C172 by L1010;
set D195 = ( D173 . C186 );
L1015: D195 = ( D177 . ( D181 . D195 ) ) by L940 , L943 , L948 , FUNCT_1:34;
L1016: ( dom D173 ) = ( [#] D174 ) by FUNCT_2:def 1;
L1017: D195 in D176 by L1016 , L923 , FUNCT_1:def 3;
L1018: ( D181 . D195 ) in D167 by L1017 , L938 , L940 , FUNCT_1:def 6;
L1019: ( C186 |-- D186 ) = ( D195 |-- D187 ) by L954 , L972 , L574
.= ( ( D181 . D195 ) |-- C171 ) by L929 , L1015 , L1018 , L574 , L973 , L961;
L1020: ( D181 . D195 ) in C173 by L1019 , L911 , L912 , L1014 , L1018;
consider C187 being (Element of D174) such that L1021: D195 = ( C187 ^ D182 ) by L1006 , L1017;
L1022: C187 = ( D195 | ( dom C187 ) ) by L1021 , FINSEQ_1:21
.= ( D195 | ( Seg ( len C187 ) ) ) by FINSEQ_1:def 3
.= ( D195 | D166 ) by CARD_1:def 7
.= ( C184 | D166 ) by L1013 , MATRTOP1:38
.= ( C184 | ( Seg ( len C185 ) ) ) by CARD_1:def 7
.= ( C184 | ( dom C185 ) ) by FINSEQ_1:def 3
.= C185 by L1012 , FINSEQ_1:21;
thus L1023: thesis by L1022 , L940 , L1009 , L1021 , L1012 , L1020 , FUNCT_1:def 7;
end;
L1024: ( len D186 ) = ( len C171 ) by L901 , L969 , FINSEQ_4:62;
L1025: ( len C171 ) in ( dom D186 ) by L1024 , L902 , FINSEQ_3:25;
L1026: ( D186 . ( len C171 ) ) = ( ( D172 " ) . ( 0. D165 ) ) by L1025 , L936 , FUNCT_1:12
.= ( 0. D174 ) by L955 , L918 , FUNCT_1:34;
L1027: ( D186 . ( len D186 ) ) = ( 0* D166 ) by L1026 , L1024 , EUCLID:70;
L1028: ( D180 " C173 ) = ( D176 /\ ( D181 " C173 ) ) by FUNCT_1:70
.= ( D181 " C173 ) by L912 , L949 , RELAT_1:143 , XBOOLE_1:28;
L1029: ( D180 " C173 ) = D190 by L1028 , L974 , L1007 , XBOOLE_0:def 10;
L1030: (D189 is  open iff C173 is  open) by L1029 , L945 , L1006 , L947 , L292;
L1031: ( card D185 ) = ( D166 + 1 ) by L933 , L968 , CARD_1:5;
thus L1032: thesis by L1031 , L1027 , L1030 , L970 , L837;
end;
theorem
L1033: (for R2 being Nat holds (for R4 being Nat holds (for R15 being  affinely-independent (Subset of ( TOP-REAL R2 )) holds (for R16 being (Subset of ( TOP-REAL R4 )) holds (for R18 being (Enumeration of R15) holds (for R14 being (Subset of ( TOP-REAL R2 )) holds ((R4 <= R2 & ( card R15 ) = ( R2 + 1 ) & R14 = { R13 where R13 is (Point of ( TOP-REAL R2 )) : ( ( R13 |-- R18 ) | R4 ) in R16 }) implies (R16 is  open iff R14 is  open))))))))
proof
let R2 being Nat;
let R4 being Nat;
let R15 being  affinely-independent (Subset of ( TOP-REAL R2 ));
let R16 being (Subset of ( TOP-REAL R4 ));
set D196 = R15;
set D197 = ( Affin D196 );
set D198 = ( TOP-REAL R2 );
let R18 being (Enumeration of R15);
let R14 being (Subset of ( TOP-REAL R2 ));
assume that
L1034: R4 <= R2
and
L1035: ( card D196 ) = ( R2 + 1 )
and
L1036: R14 = { B115 where B115 is (Element of D198) : ( ( B115 |-- R18 ) | R4 ) in R16 };
set D199 = R18;
L1037: ( rng D199 ) = D196 by L442;
L1038: ( len D199 ) = ( card D196 ) by L1037 , FINSEQ_4:62;
L1039: ( len D199 ) >= 1 by L1038 , L1035 , NAT_1:14;
L1040: ( len D199 ) in ( dom D199 ) by L1039 , FINSEQ_3:25;
L1041: ( D199 . ( len D199 ) ) in D196 by L1040 , L1037 , FUNCT_1:def 3;
reconsider D200 = ( D199 . ( len D199 ) ) as (Element of D198) by L1041;
L1042: ( card ( ( - D200 ) + D196 ) ) = ( R2 + 1 ) by L1035 , RLAFFIN1:7;
set D201 = { B116 where B116 is (Element of D198) : (B116 in D197 & ( ( B116 |-- D199 ) | R4 ) in R16) };
L1043: D201 c= R14
proof
let C188 being set;
assume L1044: C188 in D201;
L1045: (ex B117 being (Element of D198) st (C188 = B117 & B117 in D197 & ( ( B117 |-- D199 ) | R4 ) in R16)) by L1044;
thus L1046: thesis by L1045 , L1036;
end;
reconsider D202 = ( D199 + ( ( card D196 ) |-> ( - D200 ) ) ) as (Enumeration of ( ( - D200 ) + D196 )) by L449;
set D203 = { B118 where B118 is (Element of D198) : ( ( B118 |-- D202 ) | R4 ) in R16 };
set D204 = ( transl (( - D200 ) , D198) );
L1047: ( dim D198 ) = R2 by L173;
L1048: ( [#] D198 ) = D197 by L1047 , L1035 , L194;
L1049: R14 c= D201
proof
let C189 being set;
assume L1050: C189 in R14;
consider C190 being (Element of D198) such that L1051: (C189 = C190 & ( ( C190 |-- D199 ) | R4 ) in R16) by L1050 , L1036;
thus L1052: thesis by L1048 , L1051;
end;
L1053: D201 = R14 by L1049 , L1043 , XBOOLE_0:def 10;
L1054: ( D204 .: R14 ) = { B119 where B119 is (Element of D198) : (B119 in ( Affin ( ( - D200 ) + D196 ) ) & ( ( B119 |-- D202 ) | R4 ) in R16) } by L1053 , L810;
L1055: ( D204 .: R14 ) c= D203
proof
let C191 being set;
assume L1056: C191 in ( D204 .: R14 );
L1057: (ex B120 being (Element of D198) st (C191 = B120 & B120 in ( Affin ( ( - D200 ) + D196 ) ) & ( ( B120 |-- D202 ) | R4 ) in R16)) by L1056 , L1054;
thus L1058: thesis by L1057;
end;
L1059: ( card ( ( - D200 ) + D196 ) ) = ( card D196 ) by RLAFFIN1:7;
L1060: ( Affin ( ( - D200 ) + D196 ) ) = ( [#] D198 ) by L1059 , L1035 , L1047 , L194;
L1061: D203 c= ( D204 .: R14 )
proof
let C192 being set;
assume L1062: C192 in D203;
consider C193 being (Element of D198) such that L1063: (C192 = C193 & ( ( C193 |-- D202 ) | R4 ) in R16) by L1062;
thus L1064: thesis by L1060 , L1054 , L1063;
end;
L1065: ( D204 .: R14 ) = D203 by L1061 , L1055 , XBOOLE_0:def 10;
L1066: ( len D199 ) in ( Seg ( card D196 ) ) by L1038 , L1039;
L1067: ( ( ( card D196 ) |-> ( - D200 ) ) . ( len D199 ) ) = ( - D200 ) by L1066 , FINSEQ_2:57;
L1068: ( rng D202 ) = ( ( - D200 ) + D196 ) by L442;
L1069: ( len D202 ) = ( card D196 ) by L1068 , L1059 , FINSEQ_4:62;
L1070: ( dom D199 ) = ( dom D202 ) by L1069 , L1038 , FINSEQ_3:29;
L1071: ( D202 . ( len D199 ) ) = ( D200 + ( - D200 ) ) by L1070 , L1040 , L1067 , FVSUM_1:17
.= ( 0. D198 ) by RLVECT_1:5
.= ( 0* R2 ) by EUCLID:70;
L1072: ( D202 . ( len D202 ) ) = ( 0* R2 ) by L1071 , L1038 , L1059 , L1068 , FINSEQ_4:62;
L1073: ( ( - D200 ) + D196 ) is non  empty by L1035 , L1059;
L1074: (( D204 .: R14 ) is  open iff R16 is  open) by L1073 , L1034 , L1072 , L1042 , L1065 , L837;
thus L1075: thesis by L1074 , TOPGRP_1:25;
set D205 = ( D204 .: D197 );
L1076: ( rng ( D204 | D197 ) ) = ( D204 .: D197 ) by RELAT_1:115;
L1077: ( dom D204 ) = ( [#] D198 ) by FUNCT_2:52;
L1078: ( dom ( D204 | D197 ) ) = D197 by L1077 , RELAT_1:62;
L1079: (( [#] ( D198 | D197 ) ) = D197 & ( [#] ( D198 | D205 ) ) = D205) by PRE_TOPC:def 5;
reconsider D206 = ( D204 | D197 ) as (Function of ( D198 | D197 ) , ( D198 | D205 )) by L1079 , L1078 , L1076 , FUNCT_2:1;
reconsider D207 = ( D206 .: R14 ) as (Subset of ( D198 | D205 ));
reconsider D208 = ( D206 .: R14 ) as (Subset of ( D198 | D205 ));
end;
theorem
L1081: (for R2 being Nat holds (for R4 being Nat holds (for R14 being (Subset of ( TOP-REAL R2 )) holds (for R15 being  affinely-independent (Subset of ( TOP-REAL R2 )) holds (for R16 being (Subset of ( TOP-REAL R4 )) holds (for R18 being (Enumeration of R15) holds ((R4 <= R2 & ( card R15 ) = ( R2 + 1 ) & R14 = { R13 where R13 is (Point of ( TOP-REAL R2 )) : ( ( R13 |-- R18 ) | R4 ) in R16 }) implies (R16 is  closed iff R14 is  closed))))))))
proof
let R2 being Nat;
let R4 being Nat;
let R14 being (Subset of ( TOP-REAL R2 ));
let R15 being  affinely-independent (Subset of ( TOP-REAL R2 ));
let R16 being (Subset of ( TOP-REAL R4 ));
set D209 = ( TOP-REAL R2 );
set D210 = ( TOP-REAL R4 );
set D211 = R15;
let C194 being (Enumeration of D211);
assume that
L1082: (R4 <= R2 & ( card D211 ) = ( R2 + 1 ))
and
L1083: R14 = { B121 where B121 is (Element of D209) : ( ( B121 |-- C194 ) | R4 ) in R16 };
set D212 = { B122 where B122 is (Element of D209) : ( ( B122 |-- C194 ) | R4 ) in ( R16 ` ) };
L1084: R4 < ( card D211 ) by L1082 , NAT_1:13;
L1085: ( R14 ` ) c= D212
proof
let C195 being set;
assume L1086: C195 in ( R14 ` );
reconsider D213 = C195 as (Element of D209) by L1086;
set D214 = ( D213 |-- C194 );
L1087: ( len D214 ) = ( card D211 ) by L507;
L1088: ( len ( D214 | R4 ) ) = R4 by L1087 , L1084 , FINSEQ_1:59;
L1089: ( D214 | R4 ) is (Element of D210) by L1088 , TOPREAL3:46;
assume L1090: (not C195 in D212);
L1091: (not ( D214 | R4 ) in ( R16 ` )) by L1090;
L1092: ( D214 | R4 ) in R16 by L1091 , L1089 , XBOOLE_0:def 5;
L1093: D213 in R14 by L1092 , L1083;
thus L1094: contradiction by L1093 , L1086 , XBOOLE_0:def 5;
end;
L1095: D212 c= ( R14 ` )
proof
let C196 being set;
assume L1096: C196 in D212;
consider C197 being (Element of D209) such that L1097: C196 = C197 and L1098: ( ( C197 |-- C194 ) | R4 ) in ( R16 ` ) by L1096;
assume L1099: (not C196 in ( R14 ` ));
L1100: C197 in R14 by L1099 , L1097 , XBOOLE_0:def 5;
L1101: (ex B123 being (Element of D209) st (C197 = B123 & ( ( B123 |-- C194 ) | R4 ) in R16)) by L1100 , L1083;
thus L1102: contradiction by L1101 , L1098 , XBOOLE_0:def 5;
end;
L1103: ( R14 ` ) = D212 by L1095 , L1085 , XBOOLE_0:def 10;
L1104: (( R16 ` ) is  open iff ( R14 ` ) is  open) by L1103 , L1082 , L1033;
thus L1105: thesis by L1104 , TOPS_1:3;
end;
registration
let R2 being Nat;
cluster  Affine ->  closed for (Subset of ( TOP-REAL R2 ));
coherence
proof
set D215 = ( TOP-REAL R2 );
let C198 being (Subset of D215);
assume L1106: C198 is  Affine;
L1107: ( Affin C198 ) = C198 by L1106 , RLAFFIN1:50;
per cases ;
suppose L1108: C198 is  empty;

thus L1109: thesis by L1108;
end;
suppose L1110: C198 is non  empty;

L1111: ( {} D215 ) c= C198 by XBOOLE_1:2;
consider C199 being  affinely-independent (Subset of D215) such that L1112: ( {} ) c= C199 and L1113: C199 c= C198 and L1114: ( Affin C199 ) = C198 by L1111 , L1107 , RLAFFIN1:60;
consider C200 being  affinely-independent (Subset of D215) such that L1115: C199 c= C200 and L1116: C200 c= ( [#] D215 ) and L1117: ( Affin C200 ) = ( Affin ( [#] D215 ) ) by RLAFFIN1:60;
reconsider D216 = ( C200 \ C199 ) as  affinely-independent (Subset of D215) by RLAFFIN1:43 , XBOOLE_1:36;
set D217 = ( card D216 );
L1118: ( dim D215 ) = R2 by L173;
L1119: D217 <= ( R2 + 1 ) by L1118 , L178;
L1120: ( [#] D215 ) is  Affine by RUSUB_4:22;
L1121: ( Affin ( [#] D215 ) ) = ( [#] D215 ) by L1120 , RLAFFIN1:50;
L1122: ( card C200 ) = ( R2 + 1 ) by L1121 , L1117 , L1118 , L194;
L1123: C199 is non  empty by L1110 , L1114;
L1124: C200 meets C199 by L1123 , L1115 , XBOOLE_1:67;
L1125: C200 <> D216 by L1124 , XBOOLE_1:83;
L1126: D217 <> ( R2 + 1 ) by L1125 , L1122 , CARD_FIN:1 , XBOOLE_1:36;
L1127: D217 < ( R2 + 1 ) by L1126 , L1119 , XXREAL_0:1;
L1128: D217 < ( card C200 ) by L1127 , L1117 , L1121 , L1118 , L194;
set D218 = ( TOP-REAL D217 );
L1129: ( 0* D217 ) = ( 0. D218 ) by EUCLID:66;
L1130: ( D217 |-> ( 0 ) ) is (Element of D218) by L1129 , EUCLID:def 4;
reconsider D219 = { ( D217 |-> ( 0 ) ) } as (Subset of D218) by L1130 , ZFMISC_1:31;
L1131: ( 0* D217 ) = ( D217 |-> ( 0 ) ) by EUCLID:def 4;
L1132: D219 is  closed by L1131 , L1129 , PCOMPS_1:7;
set D220 = the (Enumeration of C199);
L1133: ( rng D220 ) = C199 by L442;
set D221 = the (Enumeration of D216);
set D222 = ( D221 ^ D220 );
L1134: ( rng D221 ) = D216 by L442;
L1135: C199 misses D216 by XBOOLE_1:79;
L1136: D222 is  one-to-one by L1135 , L1133 , L1134 , FINSEQ_3:91;
L1137: ( C199 \/ D216 ) = ( C199 \/ C200 ) by XBOOLE_1:39
.= C200 by L1115 , XBOOLE_1:12;
L1138: ( rng D222 ) = C200 by L1137 , L1133 , L1134 , FINSEQ_1:31;
reconsider D223 = D222 as (Enumeration of C200) by L1138 , L1136 , L442;
L1139: ( len D221 ) = ( card D216 ) by L1134 , FINSEQ_4:62;
L1140: ( D223 .: ( Seg D217 ) ) = ( D223 .: ( dom D221 ) ) by L1139 , FINSEQ_1:def 3
.= ( rng ( D223 | ( dom D221 ) ) ) by RELAT_1:115
.= ( rng D221 ) by FINSEQ_1:21
.= D216 by L442;
set D224 = { B124 where B124 is (Element of D215) : ( ( B124 |-- D223 ) | D217 ) in D219 };
L1141: ( C200 \ D216 ) = ( C200 /\ C199 ) by XBOOLE_1:48
.= C199 by L1115 , XBOOLE_1:28;
L1142: ( Affin C198 ) c= D224
proof
let C201 being set;
assume L1143: C201 in ( Affin C198 );
reconsider D225 = C201 as (Element of D215) by L1143;
set D226 = ( D225 |-- D223 );
L1144: D226 = ( ( D226 | D217 ) ^ ( D226 /^ D217 ) ) by RFINSEQ:8;
L1145: D226 = ( ( D217 |-> ( 0 ) ) ^ ( D226 /^ D217 ) ) by L1107 , L1114 , L1117 , L1121 , L1141 , L1140 , L1128 , L1143 , L679;
L1146: ( D226 | D217 ) = ( D217 |-> ( 0 ) ) by L1145 , L1144 , FINSEQ_1:33;
L1147: ( D226 | D217 ) in D219 by L1146 , TARSKI:def 1;
thus L1148: thesis by L1147;
end;
L1149: D217 <= R2 by L1127 , NAT_1:13;
L1150: D224 c= ( Affin C198 )
proof
let C202 being set;
assume L1151: C202 in D224;
consider C203 being (Element of D215) such that L1152: C202 = C203 and L1153: ( ( C203 |-- D223 ) | D217 ) in D219 by L1151;
set D227 = ( C203 |-- D223 );
L1154: ( D227 | D217 ) = ( D217 |-> ( 0 ) ) by L1153 , TARSKI:def 1;
L1155: D227 = ( ( D217 |-> ( 0 ) ) ^ ( D227 /^ D217 ) ) by L1154 , RFINSEQ:8;
thus L1156: thesis by L1155 , L1107 , L1114 , L1117 , L1121 , L1141 , L1140 , L1128 , L1152 , L679;
end;
L1157: D224 = ( Affin C198 ) by L1150 , L1142 , XBOOLE_0:def 10;
thus L1158: thesis by L1157 , L1107 , L1122 , L1149 , L1132 , L1081;
end;
end;
end;
theorem
L1161: (for R2 being Nat holds (for R4 being Nat holds (for R15 being  affinely-independent (Subset of ( TOP-REAL R2 )) holds (for R16 being (Subset of ( TOP-REAL R4 )) holds (for R18 being (Enumeration of R15) holds (for B125 being (Subset of ( ( TOP-REAL R2 ) | ( Affin R15 ) )) holds ((R4 < ( card R15 ) & B125 = { R19 where R19 is (Element of ( ( TOP-REAL R2 ) | ( Affin R15 ) )) : ( ( R19 |-- R18 ) | R4 ) in R16 }) implies (R16 is  open iff B125 is  open))))))))
proof
let R2 being Nat;
let R4 being Nat;
let R15 being  affinely-independent (Subset of ( TOP-REAL R2 ));
let R16 being (Subset of ( TOP-REAL R4 ));
let R18 being (Enumeration of R15);
set D228 = R18;
set D229 = ( TOP-REAL R2 );
set D230 = ( TOP-REAL R4 );
set D231 = R15;
set D232 = ( ( card D231 ) -' 1 );
set D233 = ( TOP-REAL D232 );
set D234 = ( Affin D231 );
let C204 being (Subset of ( D229 | D234 ));
assume that
L1162: R4 < ( card D231 )
and
L1163: C204 = { B126 where B126 is (Element of ( D229 | D234 )) : ( ( B126 |-- D228 ) | R4 ) in R16 };
set D235 = { B127 where B127 is (Element of D229) : (B127 in D234 & ( ( B127 |-- D228 ) | R4 ) in R16) };
L1164: ( [#] ( D229 | D234 ) ) = D234 by PRE_TOPC:def 5;
L1165: D235 c= C204
proof
let C205 being set;
assume L1166: C205 in D235;
consider C206 being (Element of D229) such that L1167: (C205 = C206 & C206 in D234 & ( ( C206 |-- D228 ) | R4 ) in R16) by L1166;
thus L1168: thesis by L1163 , L1164 , L1167;
end;
L1169: D231 is non  empty by L1162;
L1170: C204 c= D235
proof
let C207 being set;
assume L1171: C207 in C204;
consider C208 being (Element of ( D229 | D234 )) such that L1172: (C207 = C208 & ( ( C208 |-- D228 ) | R4 ) in R16) by L1171 , L1163;
L1173: D234 is non  empty by L1169;
L1174: C208 in D234 by L1173 , L1164;
thus L1175: thesis by L1174 , L1172;
end;
L1176: D235 = C204 by L1170 , L1165 , XBOOLE_0:def 10;
L1177: ( rng D228 ) = D231 by L442;
L1178: ( len D228 ) = ( card D231 ) by L1177 , FINSEQ_4:62;
L1179: ( len D228 ) >= 1 by L1178 , L1162 , NAT_1:14;
L1180: ( len D228 ) in ( dom D228 ) by L1179 , FINSEQ_3:25;
L1181: ( D228 . ( len D228 ) ) in D231 by L1180 , L1177 , FUNCT_1:def 3;
reconsider D236 = ( D228 . ( len D228 ) ) as (Element of D229) by L1181;
L1182: ( len D228 ) in ( Seg ( card D231 ) ) by L1178 , L1179;
L1183: ( ( ( card D231 ) |-> ( - D236 ) ) . ( len D228 ) ) = ( - D236 ) by L1182 , FINSEQ_2:57;
L1184: R4 < ( card ( ( - D236 ) + D231 ) ) by L1162 , RLAFFIN1:7;
set D237 = ( transl (( - D236 ) , D229) );
set D238 = ( D237 .: D234 );
L1185: ( [#] ( D229 | D238 ) ) = D238 by PRE_TOPC:def 5;
L1186: ( rng ( D237 | D234 ) ) = ( D237 .: D234 ) by RELAT_1:115;
L1187: ( dom D237 ) = ( [#] D229 ) by FUNCT_2:52;
L1188: ( dom ( D237 | D234 ) ) = D234 by L1187 , RELAT_1:62;
reconsider D239 = ( D237 | D234 ) as (Function of ( D229 | D234 ) , ( D229 | D238 )) by L1188 , L1164 , L1185 , L1186 , FUNCT_2:1;
reconsider D240 = ( D239 .: C204 ) as (Subset of ( D229 | D238 ));
L1189: D239 is  being_homeomorphism by METRIZTS:2;
reconsider D241 = ( D228 + ( ( card D231 ) |-> ( - D236 ) ) ) as (Enumeration of ( ( - D236 ) + D231 )) by L449;
L1190: ( card ( ( - D236 ) + D231 ) ) = ( card D231 ) by RLAFFIN1:7;
L1191: ( ( - D236 ) + D231 ) is non  empty by L1190 , L1162;
L1192: ( rng D241 ) = ( ( - D236 ) + D231 ) by L442;
L1193: ( len D241 ) = ( card D231 ) by L1192 , L1190 , FINSEQ_4:62;
L1194: ( dom D228 ) = ( dom D241 ) by L1193 , L1178 , FINSEQ_3:29;
L1195: ( D241 . ( len D228 ) ) = ( D236 + ( - D236 ) ) by L1194 , L1180 , L1183 , FVSUM_1:17
.= ( 0. D229 ) by RLVECT_1:5
.= ( 0* R2 ) by EUCLID:70;
L1196: ( D241 . ( len D241 ) ) = ( 0* R2 ) by L1195 , L1178 , L1190 , L1192 , FINSEQ_4:62;
set D242 = { B128 where B128 is (Element of ( D229 | D238 )) : ( ( B128 |-- D241 ) | R4 ) in R16 };
L1197: ( ( - D236 ) + D234 ) = ( Affin ( ( - D236 ) + D231 ) ) by RLAFFIN1:53;
L1198: ( D237 .: D234 ) = ( Affin ( ( - D236 ) + D231 ) ) by L1197 , RLTOPSP1:33;
L1199: ( D239 .: C204 ) = ( D237 .: C204 ) by L1164 , RELAT_1:129;
L1200: D240 = { B129 where B129 is (Element of D229) : (B129 in ( Affin ( ( - D236 ) + D231 ) ) & ( ( B129 |-- D241 ) | R4 ) in R16) } by L1199 , L1176 , L810;
L1201: D240 c= D242
proof
let C209 being set;
assume L1202: C209 in D240;
consider C210 being (Element of D229) such that L1203: C209 = C210 and L1204: C210 in ( Affin ( ( - D236 ) + D231 ) ) and L1205: ( ( C210 |-- D241 ) | R4 ) in R16 by L1202 , L1200;
L1206: C210 in D238 by L1197 , L1204 , RLTOPSP1:33;
thus L1207: thesis by L1206 , L1185 , L1203 , L1205;
end;
L1208: ( D237 .: D234 ) is non  empty by L1169 , L1187 , RELAT_1:119;
L1209: D242 c= D240
proof
let C211 being set;
assume L1210: C211 in D242;
consider C212 being (Element of ( D229 | D238 )) such that L1211: (C211 = C212 & ( ( C212 |-- D241 ) | R4 ) in R16) by L1210;
L1212: C212 in D238 by L1185 , L1208;
thus L1213: thesis by L1212 , L1198 , L1200 , L1211;
end;
L1214: D240 = D242 by L1209 , L1201 , XBOOLE_0:def 10;
L1215: (D240 is  open iff R16 is  open) by L1214 , L1198 , L1196 , L1184 , L1191 , L897;
thus L1216: thesis by L1215 , L1169 , L1189 , L1208 , TOPGRP_1:25;
end;
theorem
L1217: (for R2 being Nat holds (for R4 being Nat holds (for R15 being  affinely-independent (Subset of ( TOP-REAL R2 )) holds (for R16 being (Subset of ( TOP-REAL R4 )) holds (for R18 being (Enumeration of R15) holds (for B130 being (Subset of ( ( TOP-REAL R2 ) | ( Affin R15 ) )) holds ((R4 < ( card R15 ) & B130 = { R19 where R19 is (Element of ( ( TOP-REAL R2 ) | ( Affin R15 ) )) : ( ( R19 |-- R18 ) | R4 ) in R16 }) implies (R16 is  closed iff B130 is  closed))))))))
proof
let R2 being Nat;
let R4 being Nat;
let R15 being  affinely-independent (Subset of ( TOP-REAL R2 ));
let R16 being (Subset of ( TOP-REAL R4 ));
let C213 being (Enumeration of R15);
set D243 = ( TOP-REAL R2 );
set D244 = R15;
set D245 = ( Affin D244 );
let C214 being (Subset of ( D243 | D245 ));
assume that
L1218: R4 < ( card D244 )
and
L1219: C214 = { B131 where B131 is (Element of ( D243 | D245 )) : ( ( B131 |-- C213 ) | R4 ) in R16 };
set D246 = { B132 where B132 is (Element of ( D243 | D245 )) : ( ( B132 |-- C213 ) | R4 ) in ( R16 ` ) };
L1220: ( C214 ` ) c= D246
proof
let C215 being set;
assume L1221: C215 in ( C214 ` );
reconsider D247 = C215 as (Element of ( D243 | D245 )) by L1221;
set D248 = ( D247 |-- C213 );
L1222: ( len D248 ) = ( card D244 ) by L507;
L1223: ( len ( D248 | R4 ) ) = R4 by L1222 , L1218 , FINSEQ_1:59;
L1224: ( D248 | R4 ) in ( [#] ( TOP-REAL R4 ) ) by L1223 , TOPREAL3:46;
L1225: (not D247 in C214) by L1221 , XBOOLE_0:def 5;
L1226: (not ( D248 | R4 ) in R16) by L1225 , L1219;
L1227: ( D248 | R4 ) in ( R16 ` ) by L1226 , L1224 , XBOOLE_0:def 5;
thus L1228: thesis by L1227;
end;
L1229: D244 is non  empty by L1218;
L1230: D246 c= ( C214 ` )
proof
let C216 being set;
assume L1231: C216 in D246;
consider C217 being (Element of ( D243 | D245 )) such that L1232: C216 = C217 and L1233: ( ( C217 |-- C213 ) | R4 ) in ( R16 ` ) by L1231;
assume L1234: (not C216 in ( C214 ` ));
L1235: C217 in C214 by L1234 , L1229 , L1232 , XBOOLE_0:def 5;
L1236: (ex B133 being (Element of ( D243 | D245 )) st (B133 = C217 & ( ( B133 |-- C213 ) | R4 ) in R16)) by L1235 , L1219;
thus L1237: contradiction by L1236 , L1233 , XBOOLE_0:def 5;
set D249 = ( C217 |-- C213 );
end;
L1239: D246 = ( C214 ` ) by L1230 , L1220 , XBOOLE_0:def 10;
L1240: (( R16 ` ) is  open iff ( C214 ` ) is  open) by L1239 , L1218 , L1161;
thus L1241: thesis by L1240 , TOPS_1:3;
end;
registration
let R2 being Nat;
let C218 , C219 being (Point of ( TOP-REAL R2 ));
cluster ( halfline (C218 , C219) ) ->  closed;
coherence
proof
set D250 = { C218 , C219 };
L1242: R2 in ( NAT ) by ORDINAL1:def 12;
per cases ;
suppose L1243: C218 = C219;

L1244: { C218 } is  closed by URYSOHN1:19;
thus L1245: thesis by L1244 , L1242 , L1243 , TOPREAL9:29;
end;
suppose L1246: C218 <> C219;

L1247: ( rng <* C218 , C219 *> ) = D250 by FINSEQ_2:127;
L1248: <* C218 , C219 *> is  one-to-one by L1246 , FINSEQ_3:94;
reconsider D251 = <* C218 , C219 *> as (Enumeration of D250) by L1248 , L1247 , L442;
set D252 = ( Affin D250 );
set D253 = ( TOP-REAL R2 );
set D254 = ( TOP-REAL 1 );
set D255 = ]. ( -infty ) , 1 .];
L1249: ( D251 . 1 ) = C218 by FINSEQ_1:44;
reconsider D256 = D255 as (Subset of ( R^1 )) by TOPMETR:17;
consider C220 being (Function of D254 , ( R^1 )) such that L1250: (for B134 being (Point of D254) holds ( C220 . B134 ) = ( B134 /. 1 )) by JORDAN2B:1;
set D257 = { B135 where B135 is (Element of ( D253 | D252 )) : ( ( B135 |-- D251 ) | 1 ) in ( C220 " D256 ) };
L1251: D257 c= ( [#] ( D253 | D252 ) )
proof
let C221 being set;
assume L1252: C221 in D257;
L1253: (ex B136 being (Element of ( D253 | D252 )) st (C221 = B136 & ( ( B136 |-- D251 ) | 1 ) in ( C220 " D256 ))) by L1252;
thus L1254: thesis by L1253;
end;
reconsider D258 = D257 as (Subset of ( D253 | D252 )) by L1251;
L1255: ( [#] ( D253 | D252 ) ) = D252 by PRE_TOPC:def 5;
L1256: ( card D250 ) = 2 by L1246 , CARD_2:57;
L1257: C220 is  being_homeomorphism by L1250 , JORDAN2B:28;
L1258: ( dom C220 ) = ( [#] D254 ) by L1257 , TOPGRP_1:24;
L1259: ( halfline (C218 , C219) ) c= D258
proof
L1260: ( Carrier ( C219 |-- { C219 } ) ) c= { C219 } by RLVECT_2:def 6;
L1261: (not C218 in ( Carrier ( C219 |-- { C219 } ) )) by L1260 , L1246 , TARSKI:def 1;
L1262: ( ( C219 |-- { C219 } ) . C218 ) = ( 0 ) by L1261 , RLVECT_2:19;
L1263: { C219 } is  Affine by RUSUB_4:23;
L1264: ( Affin { C219 } ) = { C219 } by L1263 , RLAFFIN1:50;
let R1 being set;
set D259 = ( R1 |-- D250 );
set D260 = ( R1 |-- D251 );
L1265: C218 in D250 by TARSKI:def 2;
assume L1266: R1 in ( halfline (C218 , C219) );
consider C222 being  real number such that L1267: R1 = ( ( ( 1 - C222 ) * C218 ) + ( C222 * C219 ) ) and L1268: ( 0 ) <= C222 by L1266 , L1242 , TOPREAL9:26;
reconsider D261 = C222 as Real by XREAL_0:def 1;
L1269: (C219 in { C219 } & { C219 } c= D250) by TARSKI:def 1 , ZFMISC_1:36;
L1270: ( 0 ) = ( ( C219 |-- D250 ) . C218 ) by L1269 , L1262 , L1264 , RLAFFIN1:77;
L1271: ( ( D261 * ( C219 |-- D250 ) ) . C218 ) = ( D261 * ( 0 ) ) by L1270 , RLVECT_2:def 11
.= ( 0 );
L1272: D250 c= ( conv D250 ) by CONVEX1:41;
L1273: ( ( C218 |-- D250 ) . C218 ) = 1 by L1272 , L1265 , RLAFFIN1:72;
L1274: (C219 in D250 & D250 c= ( Affin D250 )) by RLAFFIN1:49 , TARSKI:def 2;
L1275: D259 = ( ( ( 1 - D261 ) * ( C218 |-- D250 ) ) + ( D261 * ( C219 |-- D250 ) ) ) by L1274 , L1267 , L1265 , RLAFFIN1:70;
L1276: ( D259 . C218 ) = ( ( ( ( 1 - D261 ) * ( C218 |-- D250 ) ) . C218 ) + ( ( D261 * ( C219 |-- D250 ) ) . C218 ) ) by L1275 , RLVECT_2:def 10
.= ( ( ( 1 - D261 ) * ( ( C218 |-- D250 ) . C218 ) ) + ( 0 ) ) by L1271 , RLVECT_2:def 11
.= ( 1 - D261 ) by L1273;
L1277: ( D259 . C218 ) <= ( 1 - ( 0 ) ) by L1276 , L1268 , XREAL_1:10;
L1278: ( D259 . C218 ) in D256 by L1277 , XXREAL_1:234;
L1279: ( ( 1 - D261 ) + D261 ) = 1;
reconsider D262 = R1 as (Element of ( D253 | D252 )) by L1279 , L1255 , L1267 , L1265 , L1274 , RLAFFIN1:78;
L1280: ( len D260 ) = 2 by L1256 , L507;
L1281: ( len ( D260 | 1 ) ) = 1 by L1280 , FINSEQ_1:59;
reconsider D263 = ( D260 | 1 ) as (Point of ( TOP-REAL 1 )) by L1281 , TOPREAL3:46;
L1282: 1 in ( dom D263 ) by L1281 , FINSEQ_3:25;
L1283: (( D263 /. 1 ) = ( D263 . 1 ) & ( D263 . 1 ) = ( D260 . 1 )) by L1282 , FUNCT_1:47 , PARTFUN1:def 6;
L1284: 1 in ( dom D260 ) by L1282 , RELAT_1:57;
L1285: ( C220 . D263 ) = ( D263 /. 1 ) by L1250;
L1286: ( C220 . D263 ) in D256 by L1285 , L1249 , L1278 , L1283 , L1284 , FUNCT_1:12;
L1287: D263 in ( C220 " D256 ) by L1286 , L1258 , FUNCT_1:def 7;
L1288: D262 in D258 by L1287;
thus L1289: thesis by L1288;
end;
L1290: D256 is  closed by BORSUK_5:41;
L1291: ( C220 " D256 ) is  closed by L1290 , L1257 , TOPGRP_1:24;
L1292: D258 is  closed by L1291 , L1256 , L1217;
L1293: D258 c= ( halfline (C218 , C219) )
proof
let R1 being set;
assume L1294: R1 in D258;
consider C223 being (Element of ( D253 | D252 )) such that L1295: R1 = C223 and L1296: ( ( C223 |-- D251 ) | 1 ) in ( C220 " D256 ) by L1294;
set D264 = ( C223 |-- D250 );
set D265 = ( C223 |-- D251 );
reconsider D266 = ( D265 | 1 ) as (Point of D254) by L1296;
L1297: ( C220 . D266 ) = ( D266 /. 1 ) by L1250;
L1298: ( len D266 ) = 1 by CARD_1:def 7;
L1299: 1 in ( dom D266 ) by L1298 , FINSEQ_3:25;
L1300: (( D266 /. 1 ) = ( D266 . 1 ) & ( D266 . 1 ) = ( D265 . 1 )) by L1299 , FUNCT_1:47 , PARTFUN1:def 6;
L1301: 1 in ( dom D265 ) by L1299 , RELAT_1:57;
L1302: ( C220 . ( D265 | 1 ) ) in D256 by L1296 , FUNCT_1:def 7;
L1303: ( D264 . C218 ) in D256 by L1302 , L1249 , L1297 , L1300 , L1301 , FUNCT_1:12;
L1304: ( D264 . C218 ) <= 1 by L1303 , XXREAL_1:234;
L1305: ( ( D264 . C218 ) - ( D264 . C218 ) ) <= ( 1 - ( D264 . C218 ) ) by L1304 , XREAL_1:9;
L1306: ( sum D264 ) = 1 by L1255 , RLAFFIN1:def 7;
L1307: ( Carrier D264 ) c= D250 by RLVECT_2:def 6;
L1308: ( sum D264 ) = ( ( D264 . C218 ) + ( D264 . C219 ) ) by L1307 , L1246 , RLAFFIN1:33;
L1309: ( Sum D264 ) = C223 by L1255 , RLAFFIN1:def 7;
L1310: C223 = ( ( ( 1 - ( D264 . C219 ) ) * C218 ) + ( ( D264 . C219 ) * C219 ) ) by L1309 , L1246 , L1308 , L1306 , RLVECT_2:33;
thus L1311: thesis by L1310 , L1242 , L1295 , L1308 , L1306 , L1305 , TOPREAL9:26;
end;
L1312: ( halfline (C218 , C219) ) = D258 by L1293 , L1259 , XBOOLE_0:def 10;
thus L1313: thesis by L1312 , L1255 , L1292 , TSEP_1:8;
end;
end;
end;
begin
definition
let R6 being RealLinearSpace;
let C224 being (Subset of R6);
let R1 being set;
func |-- (C224 , R1) -> (Function of R6 , ( R^1 )) means 
:L1316: (for R7 being (VECTOR of R6) holds ( it . R7 ) = ( ( R7 |-- C224 ) . R1 ));
existence
proof
deffunc H4(set) = ( ( $1 |-- C224 ) . R1 );
L1317: (for B137 being set holds (B137 in (the carrier of R6) implies H4(B137) in (the carrier of ( R^1 ))))
proof
let C225 being set;
assume that
L1318: C225 in (the carrier of R6);
set D267 = ( C225 |-- C224 );
per cases ;
suppose L1319: R1 in ( dom D267 );

L1320: ( D267 . R1 ) in ( rng D267 ) by L1319 , FUNCT_1:def 3;
thus L1321: thesis by L1320 , TOPMETR:17;
end;
suppose L1322: (not R1 in ( dom D267 ));

L1323: ( D267 . R1 ) = ( 0 ) by L1322 , FUNCT_1:def 2;
thus L1324: thesis by L1323 , L749 , TOPMETR:17;
end;
end;
consider C226 being (Function of R6 , ( R^1 )) such that L1326: (for B138 being set holds (B138 in (the carrier of R6) implies ( C226 . B138 ) = H4(B138))) from FUNCT_2:sch 2(L1317);
take C226;
let C227 being (Element of R6);
thus L1327: thesis by L1326;
end;
uniqueness
proof
let C228 , C229 being (Function of R6 , ( R^1 ));
assume that
L1328: (for B139 being (Element of R6) holds ( C228 . B139 ) = ( ( B139 |-- C224 ) . R1 ))
and
L1329: (for B140 being (Element of R6) holds ( C229 . B140 ) = ( ( B140 |-- C224 ) . R1 ));
L1330:
now
let C230 being set;
assume L1331: C230 in (the carrier of R6);
thus L1332: ( C228 . C230 ) = ( ( C230 |-- C224 ) . R1 ) by L1331 , L1328
.= ( C229 . C230 ) by L1329 , L1331;
end;
thus L1333: thesis by L1330 , FUNCT_2:12;
end;
end;
theorem
L1335: (for R1 being set holds (for R6 being RealLinearSpace holds (for B141 being (Subset of R6) holds ((not R1 in B141) implies ( |-- (B141 , R1) ) = ( ( [#] R6 ) --> ( 0 ) )))))
proof
let R1 being set;
let R6 being RealLinearSpace;
let C231 being (Subset of R6);
set D268 = ( |-- (C231 , R1) );
assume L1336: (not R1 in C231);
L1337:
now
let C232 being set;
assume L1338: C232 in ( dom D268 );
L1339: ( D268 . C232 ) = ( ( C232 |-- C231 ) . R1 ) by L1338 , L1316;
L1340: ( Carrier ( C232 |-- C231 ) ) c= C231 by RLVECT_2:def 6;
L1341: (not R1 in ( Carrier ( C232 |-- C231 ) )) by L1340 , L1336;
per cases ;
suppose L1342: R1 in ( [#] R6 );

thus L1343: ( D268 . C232 ) = ( 0 ) by L1342 , L1339 , L1341 , RLVECT_2:19;
end;
suppose L1344: (not R1 in ( [#] R6 ));

L1345: (not R1 in ( dom ( C232 |-- C231 ) )) by L1344;
thus L1346: ( D268 . C232 ) = ( 0 ) by L1345 , L1339 , FUNCT_1:def 2;
end;
end;
L1348: ( dom D268 ) = ( [#] R6 ) by FUNCT_2:def 1;
thus L1349: thesis by L1348 , L1337 , FUNCOP_1:11;
end;
theorem
L1350: (for R1 being set holds (for R6 being RealLinearSpace holds (for B142 being  affinely-independent (Subset of R6) holds (( |-- (B142 , R1) ) = ( ( [#] R6 ) --> ( 0 ) ) implies (not R1 in B142)))))
proof
let R1 being set;
let R6 being RealLinearSpace;
let C233 being  affinely-independent (Subset of R6);
set D269 = ( |-- (C233 , R1) );
assume L1351: ( |-- (C233 , R1) ) = ( ( [#] R6 ) --> ( 0 ) );
L1352: C233 c= ( conv C233 ) by RLAFFIN1:2;
assume L1353: R1 in C233;
L1354: ( 0 ) = ( D269 . R1 ) by L1353 , L1351 , FUNCOP_1:7
.= ( ( R1 |-- C233 ) . R1 ) by L1353 , L1316
.= 1 by L1353 , L1352 , RLAFFIN1:72;
thus L1355: contradiction by L1354;
end;
theorem
L1356: (for R1 being set holds (for R2 being Nat holds (for R15 being  affinely-independent (Subset of ( TOP-REAL R2 )) holds ( ( |-- (R15 , R1) ) | ( Affin R15 ) ) is  continuous  continuous  continuous  continuous (Function of ( ( TOP-REAL R2 ) | ( Affin R15 ) ) , ( R^1 )))))
proof
let R1 being set;
let R2 being Nat;
let R15 being  affinely-independent (Subset of ( TOP-REAL R2 ));
reconsider D270 = ( 0 ) as (Element of ( R^1 )) by L749 , TOPMETR:17;
set D271 = ( TOP-REAL R2 );
set D272 = ( Affin R15 );
set D273 = ( |-- (R15 , R1) );
set D274 = ( D273 | D272 );
L1357: ( ( [#] D271 ) /\ D272 ) = D272 by XBOOLE_1:28;
L1358: D272 = ( [#] ( D271 | D272 ) ) by PRE_TOPC:def 5;
reconsider D275 = D274 as (Function of ( D271 | D272 ) , ( R^1 )) by L1358 , FUNCT_2:32;
L1359: ( dom D275 ) = D272 by L1358 , FUNCT_2:def 1;
per cases ;
suppose L1360: (not R1 in R15);

L1361: D273 = ( ( [#] D271 ) --> D270 ) by L1360 , L1335;
L1362: D275 = ( ( D271 | D272 ) --> D270 ) by L1361 , L1358 , L1357 , FUNCOP_1:12;
thus L1363: thesis by L1362;
end;
suppose L1364: (R1 in R15 & ( card R15 ) = 1);

L1365: ( rng D275 ) c= (the carrier of ( R^1 )) by RELAT_1:def 19;
consider C234 being set such that L1366: R15 = { C234 } by L1364 , CARD_2:42;
L1367: R1 = C234 by L1364 , L1366 , TARSKI:def 1;
L1368: R15 is  Affine by L1367 , L1364 , L1366 , RUSUB_4:23;
L1369: D272 = R15 by L1368 , RLAFFIN1:50;
L1370: ( D275 . R1 ) in ( rng D275 ) by L1369 , L1359 , L1364 , FUNCT_1:def 3;
reconsider D276 = ( D275 . R1 ) as (Element of ( R^1 )) by L1370 , L1365;
L1371: ( rng D275 ) = { ( D275 . R1 ) } by L1359 , L1366 , L1367 , L1369 , FUNCT_1:4;
L1372: D275 = ( ( D271 | D272 ) --> D276 ) by L1371 , L1358 , L1359 , FUNCOP_1:9;
thus L1373: thesis by L1372;
end;
suppose L1374: (R1 in R15 & ( card R15 ) <> 1);

set D277 = the (Enumeration of ( R15 \ { R1 } ));
set D278 = <* R1 *>;
set D279 = ( D278 ^ D277 );
L1375: (( rng D278 ) = { R1 } & ( rng D277 ) = ( R15 \ { R1 } )) by L442 , FINSEQ_1:39;
L1376: (D278 is  one-to-one & { R1 } misses ( R15 \ { R1 } )) by FINSEQ_3:93 , XBOOLE_1:79;
L1377: D279 is  one-to-one by L1376 , L1375 , FINSEQ_3:91;
L1378: ( rng D279 ) = ( ( rng D278 ) \/ ( rng D277 ) ) by FINSEQ_1:31;
L1379: ( rng D279 ) = R15 by L1378 , L1374 , L1375 , ZFMISC_1:116;
reconsider D280 = D279 as (Enumeration of R15) by L1379 , L1377 , L442;
set D281 = ( TOP-REAL 1 );
consider C235 being (Function of D281 , ( R^1 )) such that L1380: (for B143 being (Element of D281) holds ( C235 . B143 ) = ( B143 /. 1 )) by JORDAN2B:1;
L1381: C235 is  being_homeomorphism by L1380 , JORDAN2B:28;
L1382: ( card R15 ) >= 1 by L1374 , NAT_1:14;
L1383: ( card R15 ) > 1 by L1382 , L1374 , XXREAL_0:1;
L1384:
now
L1385: ( dom D278 ) c= ( dom D280 ) by FINSEQ_1:26;
let C236 being (Subset of ( R^1 ));
set D282 = { B144 where B144 is (Element of ( D271 | D272 )) : ( ( B144 |-- D280 ) | 1 ) in ( C235 " C236 ) };
L1386: 1 in { 1 } by FINSEQ_1:2;
assume L1387: C236 is  closed;
L1388: ( C235 " C236 ) is  closed by L1387 , L1381 , TOPGRP_1:24;
L1389: ( dom D278 ) = ( Seg 1 ) by FINSEQ_1:38;
L1390: ( D280 . 1 ) = ( D278 . 1 ) by L1389 , L1386 , FINSEQ_1:2 , FINSEQ_1:def 7
.= R1 by FINSEQ_1:40;
L1391: D272 is non  empty by L1374;
L1392: D282 c= ( D275 " C236 )
proof
let C237 being set;
assume L1393: C237 in D282;
consider C238 being (Element of ( D271 | D272 )) such that L1394: C237 = C238 and L1395: ( ( C238 |-- D280 ) | 1 ) in ( C235 " C236 ) by L1393;
set D283 = ( C238 |-- D280 );
reconsider D284 = ( D283 | 1 ) as (Element of D281) by L1395;
L1396: C238 in D272 by L1358 , L1391;
L1397: ( len D284 ) = 1 by CARD_1:def 7;
L1398: ( dom D284 ) = ( Seg 1 ) by L1397 , FINSEQ_1:def 3;
L1399: 1 in ( dom D284 ) by L1398;
L1400: 1 in ( dom D283 ) by L1399 , RELAT_1:57;
L1401: ( C235 . D284 ) = ( D284 /. 1 ) by L1380
.= ( D284 . 1 ) by L1399 , PARTFUN1:def 6
.= ( D283 . 1 ) by L1399 , FUNCT_1:47
.= ( ( C238 |-- R15 ) . R1 ) by L1390 , L1400 , FUNCT_1:12
.= ( D273 . C238 ) by L1396 , L1316;
L1402: ( D273 . C238 ) in C236 by L1401 , L1395 , FUNCT_1:def 7;
L1403: ( D275 . C238 ) in C236 by L1402 , L1358 , L1359 , L1374 , FUNCT_1:47;
thus L1404: thesis by L1403 , L1358 , L1359 , L1374 , L1394 , FUNCT_1:def 7;
end;
L1405: ( dom C235 ) = ( [#] D281 ) by L1381 , TOPGRP_1:24;
L1406: ( D275 " C236 ) c= D282
proof
let C239 being set;
set D285 = ( C239 |-- D280 );
L1407: ( len D285 ) = ( card R15 ) by L507;
L1408: ( len ( D285 | 1 ) ) = 1 by L1407 , L1374 , FINSEQ_1:59 , NAT_1:14;
reconsider D286 = ( D285 | 1 ) as (Element of D281) by L1408 , TOPREAL3:46;
L1409: ( dom D286 ) = ( Seg 1 ) by L1408 , FINSEQ_1:def 3;
assume L1410: C239 in ( D275 " C236 );
L1411: C239 in ( dom D275 ) by L1410 , FUNCT_1:def 7;
L1412: ( D275 . C239 ) = ( D273 . C239 ) by L1411 , FUNCT_1:47
.= ( ( C239 |-- R15 ) . ( D280 . 1 ) ) by L1390 , L1359 , L1411 , L1316
.= ( D285 . 1 ) by L1389 , L1386 , L1385 , FINSEQ_1:2 , FUNCT_1:13
.= ( D286 . 1 ) by L1386 , L1409 , FINSEQ_1:2 , FUNCT_1:47
.= ( D286 /. 1 ) by L1386 , L1409 , FINSEQ_1:2 , PARTFUN1:def 6
.= ( C235 . D286 ) by L1380;
L1413: ( C235 . D286 ) in C236 by L1412 , L1410 , FUNCT_1:def 7;
L1414: D286 in ( C235 " C236 ) by L1413 , L1405 , FUNCT_1:def 7;
thus L1415: thesis by L1414 , L1410;
end;
L1416: D282 = ( D275 " C236 ) by L1406 , L1392 , XBOOLE_0:def 10;
thus L1417: ( D275 " C236 ) is  closed by L1416 , L1383 , L1388 , L1217;
end;
thus L1418: thesis by L1384 , PRE_TOPC:def 6;
end;
end;
theorem
L1420: (for R1 being set holds (for R2 being Nat holds (for R15 being  affinely-independent (Subset of ( TOP-REAL R2 )) holds (( card R15 ) = ( R2 + 1 ) implies ( |-- (R15 , R1) ) is  continuous))))
proof
let R1 being set;
let R2 being Nat;
let R15 being  affinely-independent (Subset of ( TOP-REAL R2 ));
set D287 = ( TOP-REAL R2 );
set D288 = ( Affin R15 );
set D289 = ( |-- (R15 , R1) );
reconsider D290 = ( D289 | D288 ) as  continuous (Function of ( D287 | D288 ) , ( R^1 )) by L1356;
assume L1421: ( card R15 ) = ( R2 + 1 );
L1422: ( dim D287 ) = R2 by L173;
L1423: D288 = ( [#] D287 ) by L1422 , L1421 , L194;
L1424: ( D287 | D288 ) = ( the TopStruct of D287 ) by L1423 , TSEP_1:93;
L1425: ( dom D289 ) = D288 by L1423 , FUNCT_2:def 1;
L1426:
now
let C240 being (Subset of ( R^1 ));
assume L1427: C240 is  closed;
L1428: ( D290 " C240 ) is  closed by L1427 , PRE_TOPC:def 6;
L1429: ( ( D290 " C240 ) ` ) in (the topology of ( the TopStruct of D287 )) by L1428 , L1424 , PRE_TOPC:def 2;
L1430: ( ( D290 " C240 ) ` ) = ( ( D289 " C240 ) ` ) by L1425 , L1424 , RELAT_1:69;
L1431: ( ( D289 " C240 ) ` ) is  open by L1430 , L1429 , PRE_TOPC:def 2;
thus L1432: ( D289 " C240 ) is  closed by L1431 , TOPS_1:3;
end;
thus L1433: thesis by L1426 , PRE_TOPC:def 6;
end;
L1434: (for R2 being Nat holds (for B145 being  affinely-independent (Subset of ( TOP-REAL R2 )) holds (( card B145 ) = ( R2 + 1 ) implies ( conv B145 ) is  closed)))
proof
let R2 being Nat;
set D291 = [. ( 0 ) , 1 .];
set D292 = ( TOP-REAL R2 );
let C241 being  affinely-independent (Subset of D292);
assume L1435: ( card C241 ) = ( R2 + 1 );
reconsider D293 = D291 as (Subset of ( R^1 )) by TOPMETR:17;
set D294 = the (Enumeration of C241);
deffunc H5(set) = ( ( |-- (C241 , ( D294 . $1 )) ) " D293 );
consider C242 being FinSequence such that L1436: ( len C242 ) = ( R2 + 1 ) and L1437: (for B146 being Nat holds (B146 in ( dom C242 ) implies ( C242 . B146 ) = H5(B146))) from FINSEQ_1:sch 2;
L1438: ( dom C242 ) = ( Seg ( len C242 ) ) by FINSEQ_1:def 3;
L1439: ( rng C242 ) is non  empty by L1438 , L1436 , RELAT_1:42;
L1440: ( rng C242 ) c= ( bool (the carrier of D292) )
proof
let C243 being set;
assume L1441: C243 in ( rng C242 );
consider C244 being set such that L1442: C244 in ( dom C242 ) and L1443: ( C242 . C244 ) = C243 by L1441 , FUNCT_1:def 3;
L1444: ( C242 . C244 ) = H5(C244) by L1437 , L1442;
thus L1445: thesis by L1444 , L1443;
end;
reconsider D295 = C242 as (FinSequence of ( bool (the carrier of D292) )) by L1440 , FINSEQ_1:def 4;
L1446: ( rng D294 ) = C241 by L442;
L1447: ( len D294 ) = ( card C241 ) by L1446 , FINSEQ_4:62;
L1448: ( meet ( rng D295 ) ) c= ( conv C241 )
proof
let C245 being set;
assume L1449: C245 in ( meet ( rng D295 ) );
L1450:
now
let C246 being (Element of D292);
assume L1451: C246 in C241;
consider C247 being set such that L1452: C247 in ( dom D294 ) and L1453: ( D294 . C247 ) = C246 by L1451 , L1446 , FUNCT_1:def 3;
L1454: C247 in ( dom D295 ) by L1435 , L1436 , L1447 , L1438 , L1452 , FINSEQ_1:def 3;
L1455: ( D295 . C247 ) in ( rng D295 ) by L1454 , FUNCT_1:def 3;
L1456: ( meet ( rng D295 ) ) c= ( D295 . C247 ) by L1455 , SETFAM_1:3;
L1457: ( ( C245 |-- C241 ) . C246 ) = ( ( |-- (C241 , C246) ) . C245 ) by L1449 , L1316;
L1458: ( D295 . C247 ) = ( ( |-- (C241 , C246) ) " D293 ) by L1437 , L1453 , L1454;
L1459: ( ( C245 |-- C241 ) . C246 ) in D293 by L1458 , L1449 , L1457 , L1456 , FUNCT_1:def 7;
thus L1460: ( ( C245 |-- C241 ) . C246 ) >= ( 0 ) by L1459 , XXREAL_1:1;
end;
L1461: ( dim D292 ) = R2 by L173;
L1462: ( [#] D292 ) = ( Affin C241 ) by L1461 , L1435 , L194;
thus L1463: thesis by L1462 , L1449 , L1450 , RLAFFIN1:73;
end;
L1464: ( dom D294 ) = ( Seg ( len D294 ) ) by FINSEQ_1:def 3;
L1465: ( conv C241 ) c= ( meet ( rng D295 ) )
proof
let C248 being set;
assume L1466: C248 in ( conv C241 );
L1467:
now
let C249 being set;
assume L1468: C249 in ( rng D295 );
consider C250 being set such that L1469: C250 in ( dom D295 ) and L1470: ( D295 . C250 ) = C249 by L1468 , FUNCT_1:def 3;
L1471: ( D294 . C250 ) in C241 by L1435 , L1436 , L1446 , L1447 , L1438 , L1464 , L1469 , FUNCT_1:def 3;
reconsider D296 = ( D294 . C250 ) as (Element of D292) by L1471;
L1472: ( dom ( |-- (C241 , D296) ) ) = ( [#] D292 ) by FUNCT_2:def 1;
L1473: (( 0 ) <= ( ( C248 |-- C241 ) . D296 ) & ( ( C248 |-- C241 ) . D296 ) <= 1) by L1466 , RLAFFIN1:71;
L1474: ( ( C248 |-- C241 ) . D296 ) = ( ( |-- (C241 , D296) ) . C248 ) by L1466 , L1316;
L1475: ( ( |-- (C241 , D296) ) . C248 ) in D293 by L1474 , L1473 , XXREAL_1:1;
L1476: C249 = ( ( |-- (C241 , ( D294 . C250 )) ) " D293 ) by L1437 , L1469 , L1470;
thus L1477: C248 in C249 by L1476 , L1466 , L1475 , L1472 , FUNCT_1:def 7;
end;
thus L1478: thesis by L1467 , L1439 , SETFAM_1:def 1;
end;
L1479:
now
let C251 being (Subset of D292);
assume L1480: C251 in ( rng D295 );
consider C252 being set such that L1481: (C252 in ( dom D295 ) & ( D295 . C252 ) = C251) by L1480 , FUNCT_1:def 3;
L1482: (( |-- (C241 , ( D294 . C252 )) ) is  continuous & D293 is  closed) by L1435 , L1420 , TREAL_1:1;
L1483: ( ( |-- (C241 , ( D294 . C252 )) ) " D293 ) is  closed by L1482 , PRE_TOPC:def 6;
thus L1484: C251 is  closed by L1483 , L1437 , L1481;
end;
L1485: ( rng D295 ) is  closed by L1479 , TOPS_2:def 2;
L1486: ( meet ( rng D295 ) ) is  closed by L1485 , TOPS_2:22;
thus L1487: thesis by L1486 , L1465 , L1448 , XBOOLE_0:def 10;
end;
registration
let R2 being Nat;
let R15 being  affinely-independent (Subset of ( TOP-REAL R2 ));
cluster ( conv R15 ) ->  closed;
coherence
proof
set D297 = ( TOP-REAL R2 );
consider C253 being  affinely-independent (Subset of D297) such that L1488: R15 c= C253 and L1489: C253 c= ( [#] D297 ) and L1490: ( Affin C253 ) = ( Affin ( [#] D297 ) ) by RLAFFIN1:60;
L1491: ( dim D297 ) = R2 by L173;
L1492: ( [#] D297 ) is  Affine by RUSUB_4:22;
L1493: ( Affin C253 ) = ( [#] D297 ) by L1492 , L1490 , RLAFFIN1:50;
L1494: ( card C253 ) = ( R2 + 1 ) by L1493 , L1491 , L194;
L1495: ( conv C253 ) is  closed by L1494 , L1434;
L1496: ( ( conv C253 ) /\ ( Affin R15 ) ) is  closed by L1495;
thus L1497: thesis by L1496 , L1488 , L359;
end;
end;
theorem
L1499: (for R2 being Nat holds (for R15 being  affinely-independent (Subset of ( TOP-REAL R2 )) holds (( card R15 ) = ( R2 + 1 ) implies ( Int R15 ) is  open)))
proof
let R2 being Nat;
let R15 being  affinely-independent (Subset of ( TOP-REAL R2 ));
set D298 = ]. ( 0 ) , 1 .[;
set D299 = ( TOP-REAL R2 );
set D300 = R15;
assume that
L1500: ( card D300 ) = ( R2 + 1 );
per cases ;
suppose L1501: R2 <> ( 0 );

reconsider D301 = D298 as (Subset of ( R^1 )) by TOPMETR:17;
set D302 = the (Enumeration of D300);
deffunc H6(set) = ( ( |-- (D300 , ( D302 . $1 )) ) " D301 );
consider C254 being FinSequence such that L1502: ( len C254 ) = ( R2 + 1 ) and L1503: (for B147 being Nat holds (B147 in ( dom C254 ) implies ( C254 . B147 ) = H6(B147))) from FINSEQ_1:sch 2;
L1504: ( dom C254 ) = ( Seg ( len C254 ) ) by FINSEQ_1:def 3;
L1505: ( rng C254 ) is non  empty by L1504 , L1502 , RELAT_1:42;
L1506: ( rng C254 ) c= ( bool (the carrier of D299) )
proof
let C255 being set;
assume L1507: C255 in ( rng C254 );
consider C256 being set such that L1508: C256 in ( dom C254 ) and L1509: ( C254 . C256 ) = C255 by L1507 , FUNCT_1:def 3;
L1510: ( C254 . C256 ) = H6(C256) by L1503 , L1508;
thus L1511: thesis by L1510 , L1509;
end;
reconsider D303 = C254 as (FinSequence of ( bool (the carrier of D299) )) by L1506 , FINSEQ_1:def 4;
L1512: ( rng D302 ) = D300 by L442;
L1513: ( len D302 ) = ( card D300 ) by L1512 , FINSEQ_4:62;
L1514: ( meet ( rng D303 ) ) c= ( Int D300 )
proof
let C257 being set;
L1515: ( dim D299 ) = R2 by L173;
L1516: ( [#] D299 ) = ( Affin D300 ) by L1515 , L1500 , L194;
assume L1517: C257 in ( meet ( rng D303 ) );
L1518:
now
let C258 being (Element of D299);
assume L1519: C258 in D300;
consider C259 being set such that L1520: C259 in ( dom D302 ) and L1521: ( D302 . C259 ) = C258 by L1519 , L1512 , FUNCT_1:def 3;
L1522: C259 in ( dom D303 ) by L1500 , L1502 , L1513 , L1504 , L1520 , FINSEQ_1:def 3;
L1523: ( D303 . C259 ) in ( rng D303 ) by L1522 , FUNCT_1:def 3;
L1524: ( meet ( rng D303 ) ) c= ( D303 . C259 ) by L1523 , SETFAM_1:3;
L1525: ( ( C257 |-- D300 ) . C258 ) = ( ( |-- (D300 , C258) ) . C257 ) by L1517 , L1316;
L1526: ( D303 . C259 ) = ( ( |-- (D300 , C258) ) " D301 ) by L1503 , L1521 , L1522;
L1527: ( ( C257 |-- D300 ) . C258 ) in D301 by L1526 , L1517 , L1525 , L1524 , FUNCT_1:def 7;
thus L1528: ( ( C257 |-- D300 ) . C258 ) > ( 0 ) by L1527 , XXREAL_1:4;
end;
L1529: D300 c= ( Carrier ( C257 |-- D300 ) )
proof
let C260 being set;
assume L1530: C260 in D300;
L1531: ( ( C257 |-- D300 ) . C260 ) > ( 0 ) by L1530 , L1518;
thus L1532: thesis by L1531 , L1530 , RLVECT_2:19;
end;
L1533: ( Carrier ( C257 |-- D300 ) ) c= D300 by RLVECT_2:def 6;
L1534: ( Carrier ( C257 |-- D300 ) ) = D300 by L1533 , L1529 , XBOOLE_0:def 10;
L1535: (for B148 being (Element of D299) holds (B148 in D300 implies ( ( C257 |-- D300 ) . B148 ) >= ( 0 ))) by L1518;
L1536: C257 in ( conv D300 ) by L1535 , L1517 , L1516 , RLAFFIN1:73;
L1537: ( Sum ( C257 |-- D300 ) ) = C257 by L1517 , L1516 , RLAFFIN1:def 7;
thus L1538: thesis by L1537 , L1536 , L1534 , RLAFFIN1:71 , RLAFFIN2:12;
end;
L1539: ( conv D300 ) c= ( Affin D300 ) by RLAFFIN1:65;
L1540: ( Int D300 ) c= ( conv D300 ) by RLAFFIN2:5;
L1541: ( dom D302 ) = ( Seg ( len D302 ) ) by FINSEQ_1:def 3;
L1542: ( Int D300 ) c= ( meet ( rng D303 ) )
proof
let C261 being set;
assume L1543: C261 in ( Int D300 );
consider C262 being (Linear_Combination of D300) such that L1544: C262 is  convex and L1545: C261 = ( Sum C262 ) by L1543 , RLAFFIN2:10;
L1546: C261 in ( conv D300 ) by L1540 , L1543;
L1547: ( sum C262 ) = 1 by L1544 , RLAFFIN1:62;
L1548: C262 = ( C261 |-- D300 ) by L1547 , L1539 , L1545 , L1546 , RLAFFIN1:def 7;
L1549: ( Carrier C262 ) = D300 by L1543 , L1544 , L1545 , RLAFFIN2:11;
L1550:
now
let C263 being set;
assume L1551: C263 in ( rng D303 );
consider C264 being set such that L1552: C264 in ( dom D303 ) and L1553: ( D303 . C264 ) = C263 by L1551 , FUNCT_1:def 3;
L1554: ( D302 . C264 ) in D300 by L1500 , L1502 , L1512 , L1513 , L1504 , L1541 , L1552 , FUNCT_1:def 3;
reconsider D304 = ( D302 . C264 ) as (Element of D299) by L1554;
L1555: ( ( C261 |-- D300 ) . D304 ) <> ( 0 ) by L1548 , L1549 , L1554 , RLVECT_2:19;
L1556: ( 0 ) < ( ( C261 |-- D300 ) . D304 ) by L1555 , L1544 , L1548 , RLAFFIN1:62;
L1557: ( ( C261 |-- D300 ) . D304 ) < 1
proof
assume L1558: ( ( C261 |-- D300 ) . D304 ) >= 1;
L1559: ( ( C261 |-- D300 ) . D304 ) <= 1 by L1544 , L1548 , RLAFFIN1:63;
L1560: D300 = { D304 } by L1559 , L1544 , L1548 , L1549 , L1558 , RLAFFIN1:64 , XXREAL_0:1;
L1561: ( card D300 ) = 1 by L1560 , CARD_2:42;
thus L1562: contradiction by L1561 , L1500 , L1501;
end;
L1563: ( ( C261 |-- D300 ) . D304 ) = ( ( |-- (D300 , D304) ) . C261 ) by L1545 , L1316;
L1564: ( ( |-- (D300 , D304) ) . C261 ) in D301 by L1563 , L1557 , L1556 , XXREAL_1:4;
L1565: ( dom ( |-- (D300 , D304) ) ) = ( [#] D299 ) by FUNCT_2:def 1;
L1566: C263 = ( ( |-- (D300 , ( D302 . C264 )) ) " D301 ) by L1503 , L1552 , L1553;
thus L1567: C261 in C263 by L1566 , L1543 , L1564 , L1565 , FUNCT_1:def 7;
end;
thus L1568: thesis by L1550 , L1505 , SETFAM_1:def 1;
end;
L1569:
now
let C265 being (Subset of D299);
L1570: ( [#] ( R^1 ) ) is non  empty;
assume L1571: C265 in ( rng D303 );
consider C266 being set such that L1572: (C266 in ( dom D303 ) & ( D303 . C266 ) = C265) by L1571 , FUNCT_1:def 3;
L1573: (( |-- (D300 , ( D302 . C266 )) ) is  continuous & D301 is  open) by L1500 , L1420 , JORDAN6:35;
L1574: ( ( |-- (D300 , ( D302 . C266 )) ) " D301 ) is  open by L1573 , L1570 , TOPS_2:43;
thus L1575: C265 is  open by L1574 , L1503 , L1572;
end;
L1576: ( rng D303 ) is  open by L1569 , TOPS_2:def 1;
L1577: ( meet ( rng D303 ) ) is  open by L1576 , TOPS_2:20;
thus L1578: thesis by L1577 , L1542 , L1514 , XBOOLE_0:def 10;
end;
suppose L1579: R2 = ( 0 );

L1580: R15 is non  empty by L1500;
L1581: ( Int R15 ) is non  empty by L1580 , RLAFFIN2:20;
L1582: (the carrier of D299) = { ( 0. D299 ) } by L1579 , EUCLID:22 , EUCLID:77;
L1583: ( Int R15 ) = ( [#] D299 ) by L1582 , L1581 , ZFMISC_1:33;
thus L1584: thesis by L1583;
end;
end;
