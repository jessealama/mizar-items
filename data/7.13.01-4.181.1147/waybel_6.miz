:: Irreducible and Prime Elements
::  by Beata Madras
::
:: Received December 1, 1996
:: Copyright (c) 1996-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies WAYBEL_0, SUBSET_1, XBOOLE_0, ORDERS_2, FUNCT_1, RELAT_1, TARSKI,
      NUMBERS, FUNCT_7, TREES_2, RELAT_2, XXREAL_0, STRUCT_0, ORDINAL2,
      LATTICES, ORDERS_1, ZFMISC_1, YELLOW_0, EQREL_1, REWRITE1, FUNCOP_1,
      LATTICE3, SEQM_3, WAYBEL_2, WAYBEL_3, CARD_FIL, SETFAM_1, ARYTM_3,
      CARD_1, NAT_1, ORDINAL1, YELLOW_8, FINSET_1, INT_2, YELLOW_1, FUNCT_3,
      LATTICE2, ARYTM_0, WAYBEL_5, PBOOLE, YELLOW_2, FUNCT_6, CARD_3, WAYBEL_6;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, NUMBERS, ORDINAL1, NAT_1,
      FINSET_1, RELAT_1, RELAT_2, ORDERS_1, FUNCT_1, RELSET_1, PARTFUN1,
      FUNCT_2, DOMAIN_1, FUNCOP_1, STRUCT_0, ORDERS_2, CARD_3, LATTICE3,
      FUNCT_3, FUNCT_6, PBOOLE, YELLOW_0, YELLOW_1, WAYBEL_0, WAYBEL_1,
      YELLOW_2, YELLOW_4, WAYBEL_2, WAYBEL_3, WAYBEL_4, WAYBEL_5, YELLOW_7,
      FUNCT_7, XXREAL_0;
 constructors SETFAM_1, XXREAL_0, NAT_1, FUNCT_7, BORSUK_1, PRALG_2, ORDERS_3,
      WAYBEL_1, YELLOW_4, WAYBEL_2, WAYBEL_3, WAYBEL_4, WAYBEL_5, RELSET_1;
 registrations XBOOLE_0, SUBSET_1, FUNCT_1, FUNCOP_1, FINSET_1, XREAL_0,
      PBOOLE, STRUCT_0, ORDERS_2, LATTICE3, YELLOW_0, WAYBEL_0, YELLOW_1,
      WAYBEL_1, YELLOW_4, WAYBEL_2, WAYBEL_3, WAYBEL_5, YELLOW_7, ORDINAL1,
      RELSET_1, XXREAL_0, CARD_1, RELAT_1;
 requirements NUMERALS, BOOLE, SUBSET, ARITHM;
 definitions TARSKI, RELAT_1, RELAT_2, LATTICE3, WAYBEL_0, WAYBEL_1, WAYBEL_2,
      WAYBEL_5, FUNCT_1, ORDERS_3, XBOOLE_0, SUBSET_1, STRUCT_0;
 theorems WAYBEL_3, TARSKI, YELLOW_0, ZFMISC_1, WAYBEL_0, ORDERS_2, WAYBEL_4,
      FUNCT_2, FUNCT_1, LATTICE3, NAT_1, WAYBEL_1, YELLOW_1, YELLOW_5,
      WAYBEL_2, YELLOW_2, WAYBEL_5, CARD_3, FUNCT_6, YELLOW_7, ORDERS_1,
      RELAT_2, FUNCT_3, YELLOW_4, YELLOW_3, FUNCOP_1, RELAT_1, RELSET_1,
      ORDINAL1, XBOOLE_0, XBOOLE_1, FUNCT_7, CARD_1, PARTFUN1;
 schemes FUNCT_1, FINSET_1, CLASSES1, NAT_1, FUNCT_2, YELLOW_3, SUBSET_1;

begin
scheme NonUniqExD1 { F1() -> non  empty RelStr , F2() -> (Subset of F1()) , F3() -> non  empty (Subset of F1()) , P1[set , set] } : (ex B1 being (Function of F2() , F3()) st (for B2 being (Element of F1()) holds (B2 in F2() implies (ex B3 being (Element of F1()) st (B3 in F3() & B3 = ( B1 . B2 ) & P1[ B2 , B3 ])))))
provided
L1: (for B4 being (Element of F1()) holds (B4 in F2() implies (ex B5 being (Element of F1()) st (B5 in F3() & P1[ B4 , B5 ]))))
proof
L2: (for B6 being set holds (B6 in F2() implies (ex B7 being set st (B7 in F3() & P1[ B6 , B7 ]))))
proof
let C1 being set;
assume L3: C1 in F2();
reconsider D1 = C1 as (Element of F2()) by L3;
reconsider D2 = D1 as (Element of F1()) by L3;
consider C2 being (Element of F1()) such that L4: (C2 in F3() & P1[ D2 , C2 ]) by L1 , L3;
reconsider D3 = C2 as set;
take D3;
thus L5: thesis by L4;
end;
consider C3 being Function such that L6: (( dom C3 ) = F2() & ( rng C3 ) c= F3()) and L7: (for B8 being set holds (B8 in F2() implies P1[ B8 , ( C3 . B8 ) ])) from FUNCT_1:sch 5(L2);
reconsider D4 = C3 as (Function of F2() , F3()) by L6 , FUNCT_2:def 1 , RELSET_1:4;
take D4;
L8: (for B9 being (Element of F1()) holds (B9 in F2() implies (ex B10 being (Element of F1()) st (B10 in F3() & B10 = ( D4 . B9 ) & P1[ B9 , B10 ]))))
proof
let C4 being (Element of F1());
assume L9: C4 in F2();
reconsider D5 = ( D4 . C4 ) as (Element of F3()) by L9 , FUNCT_2:5;
reconsider D6 = D5 as (Element of F1());
take D6;
thus L10: thesis by L7 , L9;
end;
thus L11: thesis by L8;
end;
definition
let C5 being LATTICE;
let C6 being non  empty (Subset of C5);
let C7 being (Function of C6 , C6);
let C8 being (Element of ( NAT ));
redefine func iter (C7 , C8) -> (Function of C6 , C6);

coherence by FUNCT_7:83;
end;
definition
let C9 being LATTICE;
let C10 , C11 being non  empty (Subset of C9);
let C12 being (Function of C10 , C11);
let C13 being (Element of C10);
redefine func C12 . C13 -> (Element of C9);

coherence
proof
L13: ( C12 . C13 ) in C11;
thus L14: thesis by L13;
end;
end;
registration
let C14 being non  empty Poset;
cluster  ->  filtered  directed for (Chain of C14);
coherence
proof
let C15 being (Chain of C14);
L16: (the InternalRel of C14) is_strongly_connected_in C15 by ORDERS_2:def 7;
thus L17: C15 is  filtered
proof
let C16 , C17 being (Element of C14);
L18: (C16 <= C16 & C17 <= C17);
assume L19: (C16 in C15 & C17 in C15);
L20: ([ C16 , C17 ] in (the InternalRel of C14) or [ C17 , C16 ] in (the InternalRel of C14)) by L19 , L16 , RELAT_2:def 7;
L21: (C16 <= C17 or C17 <= C16) by L20 , ORDERS_2:def 5;
thus L22: thesis by L21 , L19 , L18;
end;

let C18 , C19 being (Element of C14);
L23: (C18 <= C18 & C19 <= C19);
assume L24: (C18 in C15 & C19 in C15);
L25: ([ C18 , C19 ] in (the InternalRel of C14) or [ C19 , C18 ] in (the InternalRel of C14)) by L24 , L16 , RELAT_2:def 7;
L26: (C18 <= C19 or C19 <= C18) by L25 , ORDERS_2:def 5;
thus L27: thesis by L26 , L24 , L23;
end;
end;
registration
cluster  strict  continuous  distributive  lower-bounded for LATTICE;
existence
proof
set D7 = the set;
set D8 = the (Order of { D7 });
reconsider D9 = RelStr (# { D7 } , D8 #) as  reflexive 1 -element RelStr;
take D9;
thus L29: thesis;
end;
end;
theorem
L31: (for B11 , B12 being Semilattice holds (for B13 being (Function of B11 , B12) holds (B13 is  meet-preserving iff (for B14 , B15 being (Element of B11) holds ( B13 . ( B14 "/\" B15 ) ) = ( ( B13 . B14 ) "/\" ( B13 . B15 ) )))))
proof
let C20 , C21 being Semilattice;
let C22 being (Function of C20 , C21);
L32: ( dom C22 ) = (the carrier of C20) by FUNCT_2:def 1;
thus L33: (C22 is  meet-preserving implies (for B16 , B17 being (Element of C20) holds ( C22 . ( B16 "/\" B17 ) ) = ( ( C22 . B16 ) "/\" ( C22 . B17 ) )))
proof
assume L34: C22 is  meet-preserving;
let C23 , C24 being (Element of C20);
L35: C22 preserves_inf_of { C23 , C24 } by L34 , WAYBEL_0:def 34;
L36: (( C22 .: { C23 , C24 } ) = { ( C22 . C23 ) , ( C22 . C24 ) } &  ex_inf_of { C23 , C24 } , C20) by L32 , FUNCT_1:60 , YELLOW_0:21;
thus L37: ( C22 . ( C23 "/\" C24 ) ) = ( C22 . ( inf { C23 , C24 } ) ) by YELLOW_0:40
.= ( inf { ( C22 . C23 ) , ( C22 . C24 ) } ) by L36 , L35 , WAYBEL_0:def 30
.= ( ( C22 . C23 ) "/\" ( C22 . C24 ) ) by YELLOW_0:40;
end;

assume L38: (for B18 , B19 being (Element of C20) holds ( C22 . ( B18 "/\" B19 ) ) = ( ( C22 . B18 ) "/\" ( C22 . B19 ) ));
L39: (for B20 , B21 being (Element of C20) holds C22 preserves_inf_of { B20 , B21 })
proof
let C25 , C26 being (Element of C20);
L40: ( C22 .: { C25 , C26 } ) = { ( C22 . C25 ) , ( C22 . C26 ) } by L32 , FUNCT_1:60;
L41: ( ex_inf_of { C25 , C26 } , C20 implies  ex_inf_of ( C22 .: { C25 , C26 } ) , C21) by L40 , YELLOW_0:21;
L42: ( inf ( C22 .: { C25 , C26 } ) ) = ( ( C22 . C25 ) "/\" ( C22 . C26 ) ) by L40 , YELLOW_0:40
.= ( C22 . ( C25 "/\" C26 ) ) by L38
.= ( C22 . ( inf { C25 , C26 } ) ) by YELLOW_0:40;
thus L43: thesis by L42 , L41 , WAYBEL_0:def 30;
end;
thus L44: thesis by L39 , WAYBEL_0:def 34;
end;
theorem
L45: (for B22 , B23 being sup-Semilattice holds (for B24 being (Function of B22 , B23) holds (B24 is  join-preserving iff (for B25 , B26 being (Element of B22) holds ( B24 . ( B25 "\/" B26 ) ) = ( ( B24 . B25 ) "\/" ( B24 . B26 ) )))))
proof
let C27 , C28 being sup-Semilattice;
let C29 being (Function of C27 , C28);
L46: ( dom C29 ) = (the carrier of C27) by FUNCT_2:def 1;
thus L47: (C29 is  join-preserving implies (for B27 , B28 being (Element of C27) holds ( C29 . ( B27 "\/" B28 ) ) = ( ( C29 . B27 ) "\/" ( C29 . B28 ) )))
proof
assume L48: C29 is  join-preserving;
let C30 , C31 being (Element of C27);
L49: C29 preserves_sup_of { C30 , C31 } by L48 , WAYBEL_0:def 35;
L50: (( C29 .: { C30 , C31 } ) = { ( C29 . C30 ) , ( C29 . C31 ) } &  ex_sup_of { C30 , C31 } , C27) by L46 , FUNCT_1:60 , YELLOW_0:20;
thus L51: ( C29 . ( C30 "\/" C31 ) ) = ( C29 . ( sup { C30 , C31 } ) ) by YELLOW_0:41
.= ( sup { ( C29 . C30 ) , ( C29 . C31 ) } ) by L50 , L49 , WAYBEL_0:def 31
.= ( ( C29 . C30 ) "\/" ( C29 . C31 ) ) by YELLOW_0:41;
end;

assume L52: (for B29 , B30 being (Element of C27) holds ( C29 . ( B29 "\/" B30 ) ) = ( ( C29 . B29 ) "\/" ( C29 . B30 ) ));
L53: (for B31 , B32 being (Element of C27) holds C29 preserves_sup_of { B31 , B32 })
proof
let C32 , C33 being (Element of C27);
L54: ( C29 .: { C32 , C33 } ) = { ( C29 . C32 ) , ( C29 . C33 ) } by L46 , FUNCT_1:60;
L55: ( ex_sup_of { C32 , C33 } , C27 implies  ex_sup_of ( C29 .: { C32 , C33 } ) , C28) by L54 , YELLOW_0:20;
L56: ( sup ( C29 .: { C32 , C33 } ) ) = ( ( C29 . C32 ) "\/" ( C29 . C33 ) ) by L54 , YELLOW_0:41
.= ( C29 . ( C32 "\/" C33 ) ) by L52
.= ( C29 . ( sup { C32 , C33 } ) ) by YELLOW_0:41;
thus L57: thesis by L56 , L55 , WAYBEL_0:def 31;
end;
thus L58: thesis by L53 , WAYBEL_0:def 35;
end;
theorem
L59: (for B33 , B34 being LATTICE holds (for B35 being (Function of B33 , B34) holds ((B34 is  distributive & B35 is  meet-preserving  join-preserving  one-to-one) implies B33 is  distributive)))
proof
let C34 , C35 being LATTICE;
let C36 being (Function of C34 , C35);
assume that
L60: C35 is  distributive
and
L61: C36 is  meet-preserving  join-preserving  one-to-one;
let C37 , C38 , C39 being (Element of C34);
L62: ( C36 . ( C37 "/\" ( C38 "\/" C39 ) ) ) = ( ( C36 . C37 ) "/\" ( C36 . ( C38 "\/" C39 ) ) ) by L61 , L31
.= ( ( C36 . C37 ) "/\" ( ( C36 . C38 ) "\/" ( C36 . C39 ) ) ) by L61 , L45
.= ( ( ( C36 . C37 ) "/\" ( C36 . C38 ) ) "\/" ( ( C36 . C37 ) "/\" ( C36 . C39 ) ) ) by L60 , WAYBEL_1:def 3
.= ( ( ( C36 . C37 ) "/\" ( C36 . C38 ) ) "\/" ( C36 . ( C37 "/\" C39 ) ) ) by L61 , L31
.= ( ( C36 . ( C37 "/\" C38 ) ) "\/" ( C36 . ( C37 "/\" C39 ) ) ) by L61 , L31
.= ( C36 . ( ( C37 "/\" C38 ) "\/" ( C37 "/\" C39 ) ) ) by L61 , L45;
thus L63: ( C37 "/\" ( C38 "\/" C39 ) ) = ( ( C37 "/\" C38 ) "\/" ( C37 "/\" C39 ) ) by L62 , L61 , FUNCT_2:19;
end;
registration
let C40 , C41 being  complete LATTICE;
cluster  sups-preserving for (Function of C40 , C41);
existence
proof
set D10 = ( Bottom C41 );
set D11 = ( C40 --> D10 );
take D11;
let C42 being (Subset of C40);
assume L64:  ex_sup_of C42 , C40;
thus L65:  ex_sup_of ( D11 .: C42 ) , C41 by YELLOW_0:17;
L66: (( D11 .: C42 ) c= ( rng D11 ) & ( rng D11 ) c= { D10 }) by FUNCOP_1:13 , RELAT_1:111;
L67: ( D11 .: C42 ) c= { D10 } by L66 , XBOOLE_1:1;
L68: (( D11 .: C42 ) = { D10 } or ( D11 .: C42 ) = ( {} )) by L67 , ZFMISC_1:33;
per cases ;
suppose L69: C42 = ( {} );

L70: ( D11 .: C42 ) = ( {} ) by L69;
L71: ( sup ( D11 .: C42 ) ) = D10 by L70 , YELLOW_0:def 11;
thus L72: thesis by L71 , FUNCOP_1:7;
end;
suppose L73: C42 <> ( {} );

reconsider D12 = C42 as non  empty (Subset of C40) by L73;
set D13 = the (Element of D12);
L74: ( D11 . D13 ) in ( D11 .: C42 ) by FUNCT_2:35;
thus L75: ( sup ( D11 .: C42 ) ) = D10 by L74 , L68 , YELLOW_0:39
.= ( D11 . ( sup C42 ) ) by FUNCOP_1:7;
end;
end;
end;
L78: (for B36 , B37 being  with_suprema non  empty Poset holds (for B38 being (Function of B36 , B37) holds (B38 is  directed-sups-preserving implies B38 is  monotone)))
proof
let C43 , C44 being  with_suprema non  empty Poset;
let C45 being (Function of C43 , C44);
assume L79: C45 is  directed-sups-preserving;
let C46 , C47 being (Element of C43);
assume that
L80: C46 <= C47;
L81: C47 = ( C47 "\/" C46 ) by L80 , YELLOW_0:24;
L82: (for B39 , B40 being (Element of C43) holds ((B39 in { C46 , C47 } & B40 in { C46 , C47 }) implies (ex B41 being (Element of C43) st (B41 in { C46 , C47 } & B39 <= B41 & B40 <= B41))))
proof
let C48 , C49 being (Element of C43);
assume that
L83: (C48 in { C46 , C47 } & C49 in { C46 , C47 });
take C47;
thus L84: C47 in { C46 , C47 } by TARSKI:def 2;
thus L85: thesis by L80 , L83 , TARSKI:def 2;
end;
L86: { C46 , C47 } is  directed non  empty by L82 , WAYBEL_0:def 1;
L87: C45 preserves_sup_of { C46 , C47 } by L86 , L79 , WAYBEL_0:def 37;
L88: ( dom C45 ) = (the carrier of C43) by FUNCT_2:def 1;
L89: C47 <= C47;
L90: { C46 , C47 } is_<=_than C47 by L89 , L80 , YELLOW_0:8;
L91: (for B42 being (Element of C43) holds ({ C46 , C47 } is_<=_than B42 implies C47 <= B42)) by YELLOW_0:8;
L92:  ex_sup_of { C46 , C47 } , C43 by L91 , L90 , YELLOW_0:30;
L93: ( sup ( C45 .: { C46 , C47 } ) ) = ( C45 . ( sup { C46 , C47 } ) ) by L92 , L87 , WAYBEL_0:def 31
.= ( C45 . C47 ) by L81 , YELLOW_0:41;
L94: ( C45 . C47 ) = ( sup { ( C45 . C46 ) , ( C45 . C47 ) } ) by L93 , L88 , FUNCT_1:60
.= ( ( C45 . C47 ) "\/" ( C45 . C46 ) ) by YELLOW_0:41;
let C50 , C51 being (Element of C44);
assume L95: (C50 = ( C45 . C46 ) & C51 = ( C45 . C47 ));
thus L96: C50 <= C51 by L95 , L94 , YELLOW_0:22;
end;
theorem
L97: (for B43 , B44 being  complete LATTICE holds (for B45 being  sups-preserving (Function of B43 , B44) holds ((B44 is  meet-continuous & B45 is  meet-preserving  one-to-one) implies B43 is  meet-continuous)))
proof
let C52 , C53 being  complete LATTICE;
let C54 being  sups-preserving (Function of C52 , C53);
assume that
L98: C53 is  meet-continuous
and
L99: C54 is  meet-preserving  one-to-one;
L100: C52 is  satisfying_MC
proof
let C55 being (Element of C52);
let C56 being non  empty  directed (Subset of C52);
L101: ( ex_sup_of C56 , C52 & C54 preserves_sup_of C56) by WAYBEL_0:75 , WAYBEL_0:def 33;
reconsider D14 = { C55 } as  directed non  empty (Subset of C52) by WAYBEL_0:5;
L102: ( ex_sup_of ( D14 "/\" C56 ) , C52 & C54 preserves_sup_of ( { C55 } "/\" C56 )) by WAYBEL_0:75 , WAYBEL_0:def 33;
reconsider D15 = ( C54 .: C56 ) as  directed (Subset of C53) by L78 , YELLOW_2:15;
L103: ( dom C54 ) = (the carrier of C52) by FUNCT_2:def 1;
L104: ( { ( C54 . C55 ) } "/\" ( C54 .: C56 ) ) = { ( ( C54 . C55 ) "/\" B46 ) where B46 is (Element of C53) : B46 in ( C54 .: C56 ) } by YELLOW_4:42;
L105: ( { ( C54 . C55 ) } "/\" ( C54 .: C56 ) ) c= ( C54 .: ( { C55 } "/\" C56 ) )
proof
let C57 being set;
assume L106: C57 in ( { ( C54 . C55 ) } "/\" ( C54 .: C56 ) );
consider C58 being (Element of C53) such that L107: C57 = ( ( C54 . C55 ) "/\" C58 ) and L108: C58 in ( C54 .: C56 ) by L106 , L104;
consider C59 being set such that L109: C59 in ( dom C54 ) and L110: C59 in C56 and L111: C58 = ( C54 . C59 ) by L108 , FUNCT_1:def 6;
reconsider D16 = C59 as (Element of C52) by L109;
L112: ( C55 "/\" D16 ) in { ( C55 "/\" B47 ) where B47 is (Element of C52) : B47 in C56 } by L110;
L113: ( C55 "/\" D16 ) in ( { C55 } "/\" C56 ) by L112 , YELLOW_4:42;
L114: C54 preserves_inf_of { C55 , D16 } by L99 , WAYBEL_0:def 34;
L115: C57 = ( C54 . ( C55 "/\" D16 ) ) by L114 , L107 , L111 , YELLOW_3:8;
thus L116: thesis by L115 , L103 , L113 , FUNCT_1:def 6;
end;
L117: ( { C55 } "/\" C56 ) = { ( C55 "/\" B48 ) where B48 is (Element of C52) : B48 in C56 } by YELLOW_4:42;
L118: ( C54 .: ( { C55 } "/\" C56 ) ) c= ( { ( C54 . C55 ) } "/\" ( C54 .: C56 ) )
proof
let C60 being set;
assume L119: C60 in ( C54 .: ( { C55 } "/\" C56 ) );
consider C61 being set such that L120: C61 in ( dom C54 ) and L121: C61 in ( { C55 } "/\" C56 ) and L122: C60 = ( C54 . C61 ) by L119 , FUNCT_1:def 6;
reconsider D17 = C61 as (Element of C52) by L120;
consider C62 being (Element of C52) such that L123: D17 = ( C55 "/\" C62 ) and L124: C62 in C56 by L117 , L121;
reconsider D18 = ( C54 . C62 ) as (Element of C53);
L125: C54 preserves_inf_of { C55 , C62 } by L99 , WAYBEL_0:def 34;
L126: C60 = ( ( C54 . C55 ) "/\" D18 ) by L125 , L122 , L123 , YELLOW_3:8;
L127: D18 in ( C54 .: C56 ) by L103 , L124 , FUNCT_1:def 6;
thus L128: thesis by L127 , L104 , L126;
end;
L129: ( C54 . ( C55 "/\" ( sup C56 ) ) ) = ( ( C54 . C55 ) "/\" ( C54 . ( sup C56 ) ) ) by L99 , L31
.= ( ( C54 . C55 ) "/\" ( sup D15 ) ) by L101 , WAYBEL_0:def 31
.= ( sup ( { ( C54 . C55 ) } "/\" D15 ) ) by L98 , WAYBEL_2:def 6
.= ( sup ( C54 .: ( { C55 } "/\" C56 ) ) ) by L105 , L118 , XBOOLE_0:def 10
.= ( C54 . ( sup ( { C55 } "/\" C56 ) ) ) by L102 , WAYBEL_0:def 31;
thus L130: ( C55 "/\" ( sup C56 ) ) = ( sup ( { C55 } "/\" C56 ) ) by L129 , L99 , L103 , FUNCT_1:def 4;
end;
thus L131: thesis by L100;
end;
begin
definition
let C63 being non  empty  reflexive RelStr;
let C64 being (Subset of C63);
attr C64 is  Open
means
:L132: (for B49 being (Element of C63) holds (B49 in C64 implies (ex B50 being (Element of C63) st (B50 in C64 & B50 << B49))));
end;
theorem
L134: (for B51 being  up-complete LATTICE holds (for B52 being  upper (Subset of B51) holds (B52 is  Open iff (for B53 being (Element of B51) holds (B53 in B52 implies ( waybelow B53 ) meets B52)))))
proof
let C65 being  up-complete LATTICE;
let C66 being  upper (Subset of C65);
thus L135:now
assume L136: C66 is  Open;
thus L137: (for B54 being (Element of C65) holds (B54 in C66 implies ( waybelow B54 ) meets C66))
proof
let C67 being (Element of C65);
assume L138: C67 in C66;
consider C68 being (Element of C65) such that L139: C68 in C66 and L140: C68 << C67 by L138 , L136 , L132;
L141: C68 in { B55 where B55 is (Element of C65) : B55 << C67 } by L140;
L142: C68 in ( waybelow C67 ) by L141 , WAYBEL_3:def 3;
thus L143: thesis by L142 , L139 , XBOOLE_0:3;
end;

end;
assume L138: (for B56 being (Element of C65) holds (B56 in C66 implies ( waybelow B56 ) meets C66));
L139:
now
let C69 being (Element of C65);
assume L140: C69 in C66;
L141: ( waybelow C69 ) meets C66 by L140 , L138;
consider R2 being set such that L142: R2 in ( waybelow C69 ) and L143: R2 in C66 by L141 , XBOOLE_0:3;
L144: ( waybelow C69 ) = { B57 where B57 is (Element of C65) : B57 << C69 } by WAYBEL_3:def 3;
L145: (ex B58 being (Element of C65) st (B58 = R2 & B58 << C69)) by L144 , L142;
thus L146: (ex B59 being (Element of C65) st (B59 in C66 & B59 << C69)) by L145 , L143;
end;
thus L147: thesis by L139 , L132;
end;
theorem
L148: (for B60 being  up-complete LATTICE holds (for B61 being  upper (Subset of B60) holds (B61 is  Open iff B61 = ( union { ( wayabove B62 ) where B62 is (Element of B60) : B62 in B61 } ))))
proof
let C70 being  up-complete LATTICE;
let C71 being  upper (Subset of C70);
thus L149:now
assume L150: C71 is  Open;
L151: C71 c= ( union { ( wayabove B63 ) where B63 is (Element of C70) : B63 in C71 } )
proof
let C72 being set;
assume L152: C72 in C71;
reconsider D19 = C72 as (Element of C71) by L152;
reconsider D20 = D19 as (Element of C70) by L152;
consider C73 being (Element of C70) such that L153: C73 in C71 and L154: C73 << D20 by L150 , L152 , L132;
L155: D20 in { B64 where B64 is (Element of C70) : B64 >> C73 } by L154;
L156: D20 in ( wayabove C73 ) by L155 , WAYBEL_3:def 4;
L157: ( wayabove C73 ) in { ( wayabove B65 ) where B65 is (Element of C70) : B65 in C71 } by L153;
thus L158: thesis by L157 , L156 , TARSKI:def 4;
end;
L159: ( union { ( wayabove B66 ) where B66 is (Element of C70) : B66 in C71 } ) c= C71
proof
let C74 being set;
assume L160: C74 in ( union { ( wayabove B67 ) where B67 is (Element of C70) : B67 in C71 } );
consider C75 being set such that L161: C74 in C75 and L162: C75 in { ( wayabove B68 ) where B68 is (Element of C70) : B68 in C71 } by L160 , TARSKI:def 4;
consider C76 being (Element of C70) such that L163: C75 = ( wayabove C76 ) and L164: C76 in C71 by L162;
L165: C74 in { B69 where B69 is (Element of C70) : B69 >> C76 } by L161 , L163 , WAYBEL_3:def 4;
consider C77 being (Element of C70) such that L166: C77 = C74 and L167: C77 >> C76 by L165;
L168: C76 <= C77 by L167 , WAYBEL_3:1;
thus L169: thesis by L168 , L164 , L166 , WAYBEL_0:def 20;
end;
thus L170: C71 = ( union { ( wayabove B70 ) where B70 is (Element of C70) : B70 in C71 } ) by L159 , L151 , XBOOLE_0:def 10;
end;
assume L171: C71 = ( union { ( wayabove B71 ) where B71 is (Element of C70) : B71 in C71 } );
L172:
now
let C78 being (Element of C70);
assume L173: C78 in C71;
consider C79 being set such that L174: C78 in C79 and L175: C79 in { ( wayabove B72 ) where B72 is (Element of C70) : B72 in C71 } by L173 , L171 , TARSKI:def 4;
consider C80 being (Element of C70) such that L176: C79 = ( wayabove C80 ) and L177: C80 in C71 by L175;
L178: C78 in { B73 where B73 is (Element of C70) : B73 >> C80 } by L174 , L176 , WAYBEL_3:def 4;
L179: (ex B74 being (Element of C70) st (B74 = C78 & B74 >> C80)) by L178;
thus L180: (ex B75 being (Element of C70) st (B75 in C71 & B75 << C78)) by L179 , L177;
end;
thus L181: thesis by L172 , L132;
end;
registration
let C81 being  up-complete  lower-bounded LATTICE;
cluster  Open for (Filter of C81);
existence
proof
take ( [#] C81 );
L182:
now
let C82 being (Element of C81);
assume L183: C82 in ( [#] C81 );
L184: ( Bottom C81 ) << C82 by WAYBEL_3:4;
thus L185: (ex B76 being (Element of C81) st (B76 in ( [#] C81 ) & B76 << C82)) by L184;
end;
thus L186: thesis by L182 , L132;
end;
end;
theorem
L188: (for B77 being  lower-bounded  continuous LATTICE holds (for B78 being (Element of B77) holds ( wayabove B78 ) is  Open))
proof
let C83 being  lower-bounded  continuous LATTICE;
let C84 being (Element of C83);
L189: (for B79 being (Element of C83) holds (B79 in ( wayabove C84 ) implies (ex B80 being (Element of C83) st (B80 in ( wayabove C84 ) & B80 << B79))))
proof
let C85 being (Element of C83);
assume L190: C85 in ( wayabove C84 );
L191: C84 << C85 by L190 , WAYBEL_3:8;
consider C86 being (Element of C83) such that L192: (C84 << C86 & C86 << C85) by L191 , WAYBEL_4:52;
take C86;
thus L193: thesis by L192 , WAYBEL_3:8;
end;
thus L194: thesis by L189 , L132;
end;
theorem
L195: (for B81 being  lower-bounded  continuous LATTICE holds (for B82 , B83 being (Element of B81) holds (B82 << B83 implies (ex B84 being  Open (Filter of B81) st (B83 in B84 & B84 c= ( wayabove B82 ))))))
proof
let C87 being  lower-bounded  continuous LATTICE;
let C88 , C89 being (Element of C87);
defpred S1[ (Element of C87) , (Element of C87) ] means $2 << $1;
assume L196: C88 << C89;
reconsider D21 = ( wayabove C88 ) as non  empty (Subset of C87) by L196 , WAYBEL_3:8;
L197: (for B85 being (Element of C87) holds (B85 in D21 implies (ex B86 being (Element of C87) st (B86 in D21 & S1[ B85 , B86 ]))))
proof
let C90 being (Element of C87);
assume L198: C90 in D21;
L199: C88 << C90 by L198 , WAYBEL_3:8;
consider C91 being (Element of C87) such that L200: C88 << C91 and L201: C91 << C90 by L199 , WAYBEL_4:52;
L202: C91 in D21 by L200 , WAYBEL_3:8;
thus L203: thesis by L202 , L201;
end;
consider C92 being (Function of D21 , D21) such that L204: (for B87 being (Element of C87) holds (B87 in D21 implies (ex B88 being (Element of C87) st (B88 in D21 & B88 = ( C92 . B87 ) & S1[ B87 , B88 ])))) from NonUniqExD1(L197);
set D22 = { ( uparrow B89 ) where B89 is (Element of C87) : (ex B90 being (Element of ( NAT )) st B89 = ( ( iter (C92 , B90) ) . C89 )) };
L205:
now
let C93 being set;
assume L206: C93 in D22;
L207: (ex B91 being (Element of C87) st (C93 = ( uparrow B91 ) & (ex B92 being (Element of ( NAT )) st B91 = ( ( iter (C92 , B92) ) . C89 )))) by L206;
thus L208: C93 in ( bool (the carrier of C87) ) by L207;
end;
reconsider D23 = D22 as (Subset-Family of C87) by L205 , TARSKI:def 3;
L209: (for B93 , B94 being (Subset of C87) holds ((B93 in D23 & B94 in D23) implies (ex B95 being (Subset of C87) st (B95 in D23 & ( B93 \/ B94 ) c= B95))))
proof
reconsider D24 = C89 as (Element of D21) by L196 , WAYBEL_3:8;
let C94 , C95 being (Subset of C87);
assume that
L210: C94 in D23
and
L211: C95 in D23;
consider C96 being (Element of C87) such that L212: C95 = ( uparrow C96 ) and L213: (ex B96 being (Element of ( NAT )) st C96 = ( ( iter (C92 , B96) ) . C89 )) by L211;
consider C97 being (Element of ( NAT )) such that L214: C96 = ( ( iter (C92 , C97) ) . C89 ) by L213;
consider C98 being (Element of C87) such that L215: C94 = ( uparrow C98 ) and L216: (ex B97 being (Element of ( NAT )) st C98 = ( ( iter (C92 , B97) ) . C89 )) by L210;
set D25 = ( C98 "/\" C96 );
consider C99 being (Element of ( NAT )) such that L217: C98 = ( ( iter (C92 , C99) ) . C89 ) by L216;
L218: (for B98 , B99 being (Element of ( NAT )) holds ( ( iter (C92 , ( B98 + B99 )) ) . D24 ) <= ( ( iter (C92 , B98) ) . D24 ))
proof
let C100 being (Element of ( NAT ));
defpred S2[ (Element of ( NAT )) ] means ( ( iter (C92 , ( C100 + $1 )) ) . D24 ) <= ( ( iter (C92 , C100) ) . D24 );
L219: (for B100 being (Element of ( NAT )) holds (S2[ B100 ] implies S2[ ( B100 + 1 ) ]))
proof
let C101 being (Element of ( NAT ));
assume L220: ( ( iter (C92 , ( C100 + C101 )) ) . D24 ) <= ( ( iter (C92 , C100) ) . D24 );
set D26 = ( ( iter (C92 , ( C100 + C101 )) ) . D24 );
L221: D26 in D21 by FUNCT_2:5;
consider C102 being (Element of C87) such that L222: C102 in D21 and L223: C102 = ( C92 . D26 ) and L224: C102 << D26 by L221 , L204;
L225: ( dom ( iter (C92 , ( C100 + C101 )) ) ) = D21 by FUNCT_2:def 1;
L226: C102 = ( ( C92 * ( iter (C92 , ( C100 + C101 )) ) ) . D24 ) by L225 , L223 , FUNCT_1:13
.= ( ( iter (C92 , ( ( C100 + C101 ) + 1 )) ) . D24 ) by FUNCT_7:71
.= ( ( iter (C92 , ( C100 + ( C101 + 1 ) )) ) . D24 );
L227: C102 <= D26 by L224 , WAYBEL_3:1;
thus L228: thesis by L227 , L220 , L226 , ORDERS_2:3;
end;
L229: S2[ ( 0 ) ];
L230: (for B101 being (Element of ( NAT )) holds S2[ B101 ]) from NAT_1:sch 1(L229 , L219);
thus L231: thesis by L230;
end;
L232:
now
per cases ;
suppose L233: C99 <= C97;

consider C103 being Nat such that L234: ( C99 + C103 ) = C97 by L233 , NAT_1:10;
L235: C103 in ( NAT ) by ORDINAL1:def 12;
L236: C96 <= C98 by L235 , L217 , L214 , L218 , L234;
thus L237: ( uparrow D25 ) in D23 by L236 , L211 , L212 , YELLOW_0:25;
end;
suppose L238: C97 <= C99;

consider C104 being Nat such that L239: ( C97 + C104 ) = C99 by L238 , NAT_1:10;
L240: C104 in ( NAT ) by ORDINAL1:def 12;
L241: C98 <= C96 by L240 , L217 , L214 , L218 , L239;
thus L242: ( uparrow D25 ) in D23 by L241 , L210 , L215 , YELLOW_0:25;
end;
end;
L244: D25 <= C96 by YELLOW_0:23;
L245: ( uparrow C96 ) c= ( uparrow D25 ) by L244 , WAYBEL_0:22;
L246: D25 <= C98 by YELLOW_0:23;
L247: ( uparrow C98 ) c= ( uparrow D25 ) by L246 , WAYBEL_0:22;
thus L248: thesis by L247 , L215 , L212 , L232 , L245 , XBOOLE_1:8;
end;
L249: (for B102 being (Subset of C87) holds (B102 in D23 implies B102 is  filtered))
proof
let C105 being (Subset of C87);
assume L250: C105 in D23;
L251: (ex B103 being (Element of C87) st (C105 = ( uparrow B103 ) & (ex B104 being (Element of ( NAT )) st B103 = ( ( iter (C92 , B104) ) . C89 )))) by L250;
thus L252: thesis by L251;
end;
L253: C89 <= C89;
L254: C89 in ( uparrow C89 ) by L253 , WAYBEL_0:18;
set D27 = ( union { ( uparrow B105 ) where B105 is (Element of C87) : (ex B106 being (Element of ( NAT )) st B105 = ( ( iter (C92 , B106) ) . C89 )) } );
L255:
now
let C106 being set;
assume L256: C106 in D27;
consider C107 being set such that L257: C106 in C107 and L258: C107 in { ( uparrow B107 ) where B107 is (Element of C87) : (ex B108 being (Element of ( NAT )) st B107 = ( ( iter (C92 , B108) ) . C89 )) } by L256 , TARSKI:def 4;
consider C108 being (Element of C87) such that L259: C107 = ( uparrow C108 ) and L260: (ex B109 being (Element of ( NAT )) st C108 = ( ( iter (C92 , B109) ) . C89 )) by L258;
reconsider D28 = { C108 } as (Subset of C87);
L261: C106 in { B110 where B110 is (Element of C87) : (ex B111 being (Element of C87) st (B110 >= B111 & B111 in D28)) } by L257 , L259 , WAYBEL_0:15;
L262: (ex B112 being (Element of C87) st (B112 = C106 & (ex B113 being (Element of C87) st (B112 >= B113 & B113 in D28)))) by L261;
thus L263: C106 in (the carrier of C87) by L262;
end;
reconsider D29 = D27 as (Subset of C87) by L255 , TARSKI:def 3;
L264: C89 in ( wayabove C88 ) by L196 , WAYBEL_3:8;
L265:
now
let C109 being (Element of C87);
assume L266: C109 in D29;
consider C110 being set such that L267: C109 in C110 and L268: C110 in { ( uparrow B114 ) where B114 is (Element of C87) : (ex B115 being (Element of ( NAT )) st B114 = ( ( iter (C92 , B115) ) . C89 )) } by L266 , TARSKI:def 4;
consider C111 being (Element of C87) such that L269: C110 = ( uparrow C111 ) and L270: (ex B116 being (Element of ( NAT )) st C111 = ( ( iter (C92 , B116) ) . C89 )) by L268;
consider C112 being (Element of ( NAT )) such that L271: C111 = ( ( iter (C92 , C112) ) . C89 ) by L270;
L272: C111 in D21 by L264 , L271 , FUNCT_2:5;
consider C113 being (Element of C87) such that L273: C113 in D21 and L274: C113 = ( C92 . C111 ) and L275: C113 << C111 by L272 , L204;
L276: C113 <= C113;
L277: C113 in ( uparrow C113 ) by L276 , WAYBEL_0:18;
L278: ( dom ( iter (C92 , C112) ) ) = D21 by FUNCT_2:def 1;
L279: C113 = ( ( C92 * ( iter (C92 , C112) ) ) . C89 ) by L278 , L264 , L271 , L274 , FUNCT_1:13
.= ( ( iter (C92 , ( C112 + 1 )) ) . C89 ) by FUNCT_7:71;
L280: ( uparrow C113 ) in { ( uparrow B117 ) where B117 is (Element of C87) : (ex B118 being (Element of ( NAT )) st B117 = ( ( iter (C92 , B118) ) . C89 )) } by L279;
L281: C113 in D29 by L280 , L277 , TARSKI:def 4;
reconsider D30 = { C111 } as (Subset of C87);
L282: C109 in { B119 where B119 is (Element of C87) : (ex B120 being (Element of C87) st (B119 >= B120 & B120 in D30)) } by L267 , L269 , WAYBEL_0:15;
consider C114 being (Element of C87) such that L283: C114 = C109 and L284: (ex B121 being (Element of C87) st (C114 >= B121 & B121 in D30)) by L282;
consider C115 being (Element of C87) such that L285: C114 >= C115 and L286: C115 in D30 by L284;
L287: C115 = C111 by L286 , TARSKI:def 1;
thus L288: (ex B122 being (Element of C87) st (B122 in D29 & B122 << C109)) by L287 , L283 , L285 , L275 , L281 , WAYBEL_3:2;
end;
L289: ( dom C92 ) = D21 by FUNCT_2:def 1;
L290: C89 in ( field C92 ) by L289 , L264 , XBOOLE_0:def 3;
L291: ( ( iter (C92 , ( 0 )) ) . C89 ) = ( ( id ( field C92 ) ) . C89 ) by FUNCT_7:68
.= C89 by L290 , FUNCT_1:18;
L292: ( uparrow C89 ) in { ( uparrow B123 ) where B123 is (Element of C87) : (ex B124 being (Element of ( NAT )) st B123 = ( ( iter (C92 , B124) ) . C89 )) } by L291;
L293: (for B125 being (Subset of C87) holds (B125 in D23 implies B125 is  upper))
proof
let C116 being (Subset of C87);
assume L294: C116 in D23;
L295: (ex B126 being (Element of C87) st (C116 = ( uparrow B126 ) & (ex B127 being (Element of ( NAT )) st B126 = ( ( iter (C92 , B127) ) . C89 )))) by L294;
thus L296: thesis by L295;
end;
reconsider D31 = D29 as  Open (Filter of C87) by L293 , L254 , L292 , L249 , L209 , L265 , L132 , TARSKI:def 4 , WAYBEL_0:28 , WAYBEL_0:47;
take D31;
L297:
now
let C117 being set;
assume L298: C117 in D31;
consider C118 being set such that L299: C117 in C118 and L300: C118 in { ( uparrow B128 ) where B128 is (Element of C87) : (ex B129 being (Element of ( NAT )) st B128 = ( ( iter (C92 , B129) ) . C89 )) } by L298 , TARSKI:def 4;
reconsider D32 = C117 as (Element of C87) by L298;
consider C119 being (Element of C87) such that L301: C118 = ( uparrow C119 ) and L302: (ex B130 being (Element of ( NAT )) st C119 = ( ( iter (C92 , B130) ) . C89 )) by L300;
L303: C119 in ( wayabove C88 ) by L264 , L302 , FUNCT_2:5;
L304: C88 << C119 by L303 , WAYBEL_3:8;
L305: C119 <= D32 by L299 , L301 , WAYBEL_0:18;
L306: C88 << D32 by L305 , L304 , WAYBEL_3:2;
thus L307: C117 in ( wayabove C88 ) by L306 , WAYBEL_3:8;
end;
thus L308: thesis by L297 , L254 , L292 , TARSKI:def 3 , TARSKI:def 4;
end;
theorem
L309: (for B131 being  complete LATTICE holds (for B132 being  Open  upper (Subset of B131) holds (for B133 being (Element of B131) holds (B133 in ( B132 ` ) implies (ex B134 being (Element of B131) st (B133 <= B134 & B134 is_maximal_in ( B132 ` )))))))
proof
let C120 being  complete LATTICE;
let C121 being  Open  upper (Subset of C120);
let C122 being (Element of C120);
set D33 = { B135 where B135 is (Chain of C120) : (B135 c= ( C121 ` ) & C122 in B135) };
reconsider D34 = { C122 } as (Chain of C120) by ORDERS_2:8;
L310: (for B136 being set holds ((B136 <> ( {} ) & B136 c= D33 & B136 is  c=-linear) implies ( union B136 ) in D33))
proof
let C123 being set;
assume that
L311: C123 <> ( {} )
and
L312: C123 c= D33
and
L313: C123 is  c=-linear;
L314:
now
let R3 being set;
assume L315: R3 in C123;
L316: R3 in D33 by L315 , L312;
L317: (ex B137 being (Chain of C120) st (R3 = B137 & B137 c= ( C121 ` ) & C122 in B137)) by L316;
thus L318: R3 c= (the carrier of C120) by L317;
end;
reconsider D35 = ( union C123 ) as (Subset of C120) by L314 , ZFMISC_1:76;
L319: (the InternalRel of C120) is_strongly_connected_in D35
proof
let C124 , C125 being set;
assume that
L320: C124 in D35
and
L321: C125 in D35;
consider C126 being set such that L322: C124 in C126 and L323: C126 in C123 by L320 , TARSKI:def 4;
consider C127 being set such that L324: C125 in C127 and L325: C127 in C123 by L321 , TARSKI:def 4;
L326: C126 , C127 are_c=-comparable  by L313 , L323 , L325 , ORDINAL1:def 8;
L327: (C126 c= C127 or C127 c= C126) by L326 , XBOOLE_0:def 9;
L328: C127 in D33 by L312 , L325;
L329: (ex B138 being (Chain of C120) st (C127 = B138 & B138 c= ( C121 ` ) & C122 in B138)) by L328;
L330: C126 in D33 by L312 , L323;
L331: (ex B139 being (Chain of C120) st (C126 = B139 & B139 c= ( C121 ` ) & C122 in B139)) by L330;
reconsider D36 = C127 as (Chain of C120) by L329;
reconsider D37 = C126 as (Chain of C120) by L331;
L332: ((the InternalRel of C120) is_strongly_connected_in D37 & (the InternalRel of C120) is_strongly_connected_in D36) by ORDERS_2:def 7;
thus L333: thesis by L332 , L322 , L324 , L327 , RELAT_2:def 7;
end;
reconsider D38 = D35 as (Chain of C120) by L319 , ORDERS_2:def 7;
L334:
now
let R3 being set;
assume L335: R3 in C123;
L336: R3 in D33 by L335 , L312;
L337: (ex B140 being (Chain of C120) st (R3 = B140 & B140 c= ( C121 ` ) & C122 in B140)) by L336;
thus L338: R3 c= ( C121 ` ) by L337;
end;
set D39 = the (Element of C123);
L339: D39 in C123 by L311;
L340: D39 in D33 by L339 , L312;
L341: (ex B141 being (Chain of C120) st (D39 = B141 & B141 c= ( C121 ` ) & C122 in B141)) by L340;
L342: C122 in D38 by L341 , L311 , TARSKI:def 4;
L343: D38 c= ( C121 ` ) by L334 , ZFMISC_1:76;
thus L344: thesis by L343 , L342;
end;
assume L345: C122 in ( C121 ` );
L346: D34 c= ( C121 ` ) by L345 , ZFMISC_1:31;
L347: C122 in D34 by ZFMISC_1:31;
L348: D34 in D33 by L347 , L346;
consider C128 being set such that L349: C128 in D33 and L350: (for R4 being set holds ((R4 in D33 & R4 <> C128) implies (not C128 c= R4))) by L348 , L310 , ORDERS_1:67;
consider C129 being (Chain of C120) such that L351: C129 = C128 and L352: C129 c= ( C121 ` ) and L353: C122 in C129 by L349;
set D40 = ( sup C129 );
L354: D40 is_>=_than C129 by YELLOW_0:32;
L355: C122 <= D40 by L354 , L353 , LATTICE3:def 9;
L356: D40 is_>=_than C129 by YELLOW_0:32;
L357:
now
given C130 being (Element of C120) such that
L358: C130 in ( C121 ` )
and
L359: C130 > D40;

L360:
now
assume L361: C130 in C129;
L362: C130 <= D40 by L361 , L356 , LATTICE3:def 9;
thus L363: contradiction by L362 , L359 , ORDERS_2:6;
end;
set D41 = ( C129 \/ { C130 } );
L364: D40 <= C130 by L359 , ORDERS_2:def 6;
L365: (the InternalRel of C120) is_strongly_connected_in D41
proof
let C131 , C132 being set;
assume L366: (C131 in D41 & C132 in D41);
per cases  by L366 , XBOOLE_0:def 3;
suppose L367: (C131 in C129 & C132 in C129);

L368: (the InternalRel of C120) is_strongly_connected_in C129 by ORDERS_2:def 7;
thus L369: thesis by L368 , L367 , RELAT_2:def 7;
end;
suppose L370: (C131 in C129 & C132 in { C130 });

reconsider D42 = C131 as (Element of C120) by L370;
reconsider D43 = C132 as (Element of C120) by L370;
L371: (D43 = C130 & D42 <= D40) by L356 , L370 , LATTICE3:def 9 , TARSKI:def 1;
L372: D42 <= D43 by L371 , L364 , ORDERS_2:3;
thus L373: thesis by L372 , ORDERS_2:def 5;
end;
suppose L374: (C131 in { C130 } & C132 in C129);

reconsider D44 = C132 as (Element of C120) by L374;
reconsider D45 = C131 as (Element of C120) by L374;
L375: (D45 = C130 & D44 <= D40) by L356 , L374 , LATTICE3:def 9 , TARSKI:def 1;
L376: D44 <= D45 by L375 , L364 , ORDERS_2:3;
thus L377: thesis by L376 , ORDERS_2:def 5;
end;
suppose L378: (C131 in { C130 } & C132 in { C130 });

reconsider D46 = C131 as (Element of C120) by L378;
L379: D46 <= D46;
L380: (C131 = C130 & C132 = C130) by L378 , TARSKI:def 1;
thus L381: thesis by L380 , L379 , ORDERS_2:def 5;
end;
end;
reconsider D47 = D41 as (Chain of C120) by L365 , ORDERS_2:def 7;
L383: { C130 } c= ( C121 ` ) by L358 , ZFMISC_1:31;
L384: D47 c= ( C121 ` ) by L383 , L352 , XBOOLE_1:8;
L385: C130 in { C130 } by TARSKI:def 1;
L386: C130 in D47 by L385 , XBOOLE_0:def 3;
L387: C122 in D47 by L353 , XBOOLE_0:def 3;
L388: D47 in D33 by L387 , L384;
thus L389: contradiction by L388 , L350 , L351 , L360 , L386 , XBOOLE_1:7;
end;
L390:
now
assume L391: D40 in C121;
consider C133 being (Element of C120) such that L392: C133 in C121 and L393: C133 << D40 by L391 , L132;
consider C134 being (Element of C120) such that L394: C134 in C129 and L395: C133 <= C134 by L353 , L393 , WAYBEL_3:def 1;
L396: C134 in C121 by L392 , L395 , WAYBEL_0:def 20;
thus L397: contradiction by L396 , L352 , L394 , XBOOLE_0:def 5;
end;
L398: D40 in ( C121 ` ) by L390 , XBOOLE_0:def 5;
L399: D40 is_maximal_in ( C121 ` ) by L398 , L357 , WAYBEL_4:55;
thus L400: thesis by L399 , L355;
end;
begin
definition
let C135 being non  empty RelStr;
let C136 being (Element of C135);
attr C136 is  meet-irreducible
means
:L401: (for B142 , B143 being (Element of C135) holds (C136 = ( B142 "/\" B143 ) implies (B142 = C136 or B143 = C136)));
end;
notation
let C137 being non  empty RelStr;
let C138 being (Element of C137);
synonym C138 is  irreducible for C138 is  meet-irreducible;
end;
definition
let C139 being non  empty RelStr;
let C140 being (Element of C139);
attr C140 is  join-irreducible
means
(for B144 , B145 being (Element of C139) holds (C140 = ( B144 "\/" B145 ) implies (B144 = C140 or B145 = C140)));
end;
definition
let C141 being non  empty RelStr;
func IRR C141 -> (Subset of C141) means 
:L405: (for B146 being (Element of C141) holds (B146 in it iff B146 is  irreducible));
existence
proof
defpred S3[ (Element of C141) ] means $1 is  irreducible;
consider C142 being (Subset of C141) such that L406: (for B147 being (Element of C141) holds (B147 in C142 iff S3[ B147 ])) from SUBSET_1:sch 3;
take C142;
thus L407: thesis by L406;
end;
uniqueness
proof
let C143 , C144 being (Subset of C141);
assume that
L408: (for B148 being (Element of C141) holds (B148 in C143 iff B148 is  irreducible))
and
L409: (for B149 being (Element of C141) holds (B149 in C144 iff B149 is  irreducible));
L410:
now
let R1 being set;
assume L411: R1 in C144;
reconsider D48 = R1 as (Element of C141) by L411;
L412: D48 is  irreducible by L409 , L411;
thus L413: R1 in C143 by L412 , L408;
end;
L414: C144 c= C143 by L410 , TARSKI:def 3;
L415:
now
let R1 being set;
assume L416: R1 in C143;
reconsider D49 = R1 as (Element of C141) by L416;
L417: D49 is  irreducible by L408 , L416;
thus L418: R1 in C144 by L417 , L409;
end;
L419: C143 c= C144 by L415 , TARSKI:def 3;
thus L420: thesis by L419 , L414 , XBOOLE_0:def 10;
end;
end;
theorem
L422: (for B150 being  upper-bounded  antisymmetric  with_infima non  empty RelStr holds ( Top B150 ) is  irreducible)
proof
let C145 being  upper-bounded  with_infima  antisymmetric non  empty RelStr;
let C146 , C147 being (Element of C145);
assume L423: ( C146 "/\" C147 ) = ( Top C145 );
L424: (C146 >= ( Top C145 ) & C147 >= ( Top C145 )) by L423 , YELLOW_0:23;
L425: (C146 <= ( Top C145 ) or C147 <= ( Top C145 )) by YELLOW_0:45;
thus L426: thesis by L425 , L424 , ORDERS_2:2;
end;
registration
let C148 being  upper-bounded  antisymmetric  with_infima non  empty RelStr;
cluster  irreducible for (Element of C148);
existence
proof
take ( Top C148 );
thus L427: thesis by L422;
end;
end;
theorem
L429: (for B151 being Semilattice holds (for B152 being (Element of B151) holds (B152 is  irreducible iff (for B153 being  finite non  empty (Subset of B151) holds (B152 = ( inf B153 ) implies B152 in B153)))))
proof
let C149 being Semilattice;
let C150 being (Element of C149);
thus L430: (C150 is  irreducible implies (for B154 being  finite non  empty (Subset of C149) holds (C150 = ( inf B154 ) implies C150 in B154)))
proof
defpred S4[ set ] means (($1 is non  empty & C150 = ( "/\" ($1 , C149) )) implies C150 in $1);
assume L431: (for B155 , B156 being (Element of C149) holds (C150 = ( B155 "/\" B156 ) implies (C150 = B155 or C150 = B156)));
let C151 being  finite non  empty (Subset of C149);
L432:
now
let C152 , C153 being set;
assume that
L433: C152 in C151
and
L434: C153 c= C151
and
L435: S4[ C153 ];
thus L436: S4[ ( C153 \/ { C152 } ) ]
proof
reconsider D50 = C152 as (Element of C149) by L433;
reconsider D51 = C153 as  finite (Subset of C149) by L434 , XBOOLE_1:1;
assume that
L437: ( C153 \/ { C152 } ) is non  empty
and
L438: C150 = ( "/\" (( C153 \/ { C152 } ) , C149) );
per cases ;
suppose L439: C153 = ( {} );

L440: ( "/\" (( C153 \/ { D50 } ) , C149) ) = D50 by L439 , YELLOW_0:39;
thus L441: thesis by L440 , L438 , L439 , TARSKI:def 1;
end;
suppose L442: C153 <> ( {} );

L443: ( inf { D50 } ) = D50 by YELLOW_0:39;
L444:  ex_inf_of { D50 } , C149 by YELLOW_0:55;
L445:  ex_inf_of D51 , C149 by L442 , YELLOW_0:55;
L446: ( "/\" (( C153 \/ { C152 } ) , C149) ) = ( ( inf D51 ) "/\" ( inf { D50 } ) ) by L445 , L444 , YELLOW_2:4;
thus L447:now
per cases  by L431 , L438 , L446 , L443;
suppose L448: ( inf D51 ) = C150;

thus L449: thesis by L448 , L435 , L442 , XBOOLE_0:def 3;
end;
suppose L450: D50 = C150;

L451: D50 in { D50 } by TARSKI:def 1;
thus L452: thesis by L451 , L450 , XBOOLE_0:def 3;
end;
end;
end;
end;

end;
L437: S4[ ( {} ) ];
L438: C151 is  finite;
L439: S4[ C151 ] from FINSET_1:sch 2(L438 , L437 , L432);
thus L440: thesis by L439;
end;

assume L441: (for B157 being  finite non  empty (Subset of C149) holds (C150 = ( inf B157 ) implies C150 in B157));
let C154 , C155 being (Element of C149);
assume L442: C150 = ( C154 "/\" C155 );
L443: C150 = ( inf { C154 , C155 } ) by L442 , YELLOW_0:40;
L444: C150 in { C154 , C155 } by L443 , L441;
thus L445: thesis by L444 , TARSKI:def 2;
end;
theorem
L446: (for B158 being LATTICE holds (for B159 being (Element of B158) holds (( ( uparrow B159 ) \ { B159 } ) is (Filter of B158) implies B159 is  irreducible)))
proof
let C156 being LATTICE;
let C157 being (Element of C156);
set D52 = ( ( uparrow C157 ) \ { C157 } );
assume L447: ( ( uparrow C157 ) \ { C157 } ) is (Filter of C156);
L448:
now
let C158 , C159 being (Element of C156);
assume that
L449: C157 = ( C158 "/\" C159 )
and
L450: C158 <> C157
and
L451: C159 <> C157;
L452: C157 <= C159 by L449 , YELLOW_0:23;
L453: C159 in ( uparrow C157 ) by L452 , WAYBEL_0:18;
L454: C159 in D52 by L453 , L451 , ZFMISC_1:56;
L455: C157 <= C158 by L449 , YELLOW_0:23;
L456: C158 in ( uparrow C157 ) by L455 , WAYBEL_0:18;
L457: C158 in D52 by L456 , L450 , ZFMISC_1:56;
consider C160 being (Element of C156) such that L458: C160 in D52 and L459: (C160 <= C158 & C160 <= C159) by L457 , L447 , L454 , WAYBEL_0:def 2;
L460: C157 >= C160 by L449 , L459 , YELLOW_0:23;
L461: C157 in D52 by L460 , L447 , L458 , WAYBEL_0:def 20;
thus L462: contradiction by L461 , ZFMISC_1:56;
end;
thus L463: thesis by L448 , L401;
end;
theorem
L464: (for B160 being LATTICE holds (for B161 being (Element of B160) holds (for B162 being (Filter of B160) holds (B161 is_maximal_in ( B162 ` ) implies B161 is  irreducible))))
proof
let C161 being LATTICE;
let C162 being (Element of C161);
let C163 being (Filter of C161);
assume that
L465: C162 is_maximal_in ( C163 ` );
set D53 = ( (the carrier of C161) \ C163 );
L466: C162 in D53 by L465 , WAYBEL_4:55;
L467:
now
let C164 , C165 being (Element of C161);
assume that
L468: C162 = ( C164 "/\" C165 )
and
L469: C164 <> C162
and
L470: C165 <> C162;
L471: C162 <= C165 by L468 , YELLOW_0:23;
L472: C162 < C165 by L471 , L470 , ORDERS_2:def 6;
L473:
now
assume L474: (C164 in C163 & C165 in C163);
consider C166 being (Element of C161) such that L475: C166 in C163 and L476: (C166 <= C164 & C166 <= C165) by L474 , WAYBEL_0:def 2;
L477: C162 >= C166 by L468 , L476 , YELLOW_0:23;
L478: C162 in C163 by L477 , L475 , WAYBEL_0:def 20;
thus L479: contradiction by L478 , L466 , XBOOLE_0:def 5;
end;
L480: (C164 in D53 or C165 in D53) by L473 , XBOOLE_0:def 5;
L481: C162 <= C164 by L468 , YELLOW_0:23;
L482: C162 < C164 by L481 , L469 , ORDERS_2:def 6;
thus L483: contradiction by L482 , L465 , L480 , L472 , WAYBEL_4:55;
end;
thus L484: thesis by L467 , L401;
end;
theorem
L485: (for B163 being  lower-bounded  continuous LATTICE holds (for B164 , B165 being (Element of B163) holds ((not B165 <= B164) implies (ex B166 being (Element of B163) st (B166 is  irreducible & B164 <= B166 & (not B165 <= B166))))))
proof
let C167 being  lower-bounded  continuous LATTICE;
let C168 , C169 being (Element of C167);
assume that
L486: (not C169 <= C168);
L487: (for B167 being (Element of C167) holds ( waybelow B167 ) is non  empty  directed);
consider C170 being (Element of C167) such that L488: C170 << C169 and L489: (not C170 <= C168) by L487 , L486 , WAYBEL_3:24;
consider C171 being  Open (Filter of C167) such that L490: C169 in C171 and L491: C171 c= ( wayabove C170 ) by L488 , L195;
L492: ( wayabove C170 ) c= ( uparrow C170 ) by WAYBEL_3:11;
L493:
now
assume L494: C168 in C171;
L495: C168 in ( uparrow C170 ) by L494 , L491 , L492 , TARSKI:def 3;
thus L496: contradiction by L495 , L489 , WAYBEL_0:18;
end;
L497: C168 in ( (the carrier of C167) \ C171 ) by L493 , XBOOLE_0:def 5;
consider C172 being (Element of C167) such that L498: C168 <= C172 and L499: C172 is_maximal_in ( C171 ` ) by L497 , L309;
take C172;
L500: C172 in ( C171 ` ) by L499 , WAYBEL_4:55;
L501:
now
assume L502: C169 <= C172;
L503: C172 in C171 by L502 , L490 , WAYBEL_0:def 20;
thus L504: contradiction by L503 , L500 , XBOOLE_0:def 5;
end;
thus L505: thesis by L501 , L498 , L499 , L464;
end;
begin
definition
let C173 being non  empty RelStr;
let C174 being (Subset of C173);
attr C174 is  order-generating
means
:L506: (for B168 being (Element of C173) holds ( ex_inf_of ( ( uparrow B168 ) /\ C174 ) , C173 & B168 = ( inf ( ( uparrow B168 ) /\ C174 ) )));
end;
theorem
L508: (for B169 being  up-complete  lower-bounded LATTICE holds (for B170 being (Subset of B169) holds (B170 is  order-generating iff (for B171 being (Element of B169) holds (ex B172 being (Subset of B170) st B171 = ( "/\" (B172 , B169) ))))))
proof
let C175 being  up-complete  lower-bounded LATTICE;
let C176 being (Subset of C175);
thus L509: (C176 is  order-generating implies (for B173 being (Element of C175) holds (ex B174 being (Subset of C176) st B173 = ( "/\" (B174 , C175) ))))
proof
assume L510: C176 is  order-generating;
let C177 being (Element of C175);
L511: (for R1 being set holds (R1 in ( ( uparrow C177 ) /\ C176 ) implies R1 in C176)) by XBOOLE_0:def 4;
reconsider D54 = ( ( uparrow C177 ) /\ C176 ) as (Subset of C176) by L511 , TARSKI:def 3;
L512: C177 = ( "/\" (D54 , C175) ) by L510 , L506;
thus L513: thesis by L512;
end;

thus L514: ((for B175 being (Element of C175) holds (ex B176 being (Subset of C176) st B175 = ( "/\" (B176 , C175) ))) implies C176 is  order-generating)
proof
assume L515: (for B177 being (Element of C175) holds (ex B178 being (Subset of C176) st B177 = ( "/\" (B178 , C175) )));
let C178 being (Element of C175);
consider C179 being (Subset of C176) such that L516: C178 = ( "/\" (C179 , C175) ) by L515;
set D55 = ( ( uparrow C178 ) /\ C176 );
thus L517:  ex_inf_of D55 , C175 by YELLOW_0:17;
L518: (for B179 being (Element of C175) holds (B179 is_<=_than D55 implies B179 <= C178))
proof
let C180 being (Element of C175);
assume L519: C180 is_<=_than D55;
L520:
now
let C181 being (Element of C175);
assume L521: C181 in C179;
L522: C178 is_<=_than C179 by L516 , YELLOW_0:33;
L523: C178 <= C181 by L522 , L521 , LATTICE3:def 8;
L524: C181 in ( uparrow C178 ) by L523 , WAYBEL_0:18;
L525: C181 in D55 by L524 , L521 , XBOOLE_0:def 4;
thus L526: C180 <= C181 by L525 , L519 , LATTICE3:def 8;
end;
L527: C180 is_<=_than C179 by L520 , LATTICE3:def 8;
thus L528: thesis by L527 , L516 , YELLOW_0:33;
end;
L529:
now
let C182 being (Element of C175);
assume L530: C182 in D55;
L531: C182 in ( uparrow C178 ) by L530 , XBOOLE_0:def 4;
thus L532: C178 <= C182 by L531 , WAYBEL_0:18;
end;
L533: C178 is_<=_than D55 by L529 , LATTICE3:def 8;
thus L534: thesis by L533 , L518 , YELLOW_0:33;
end;

end;
theorem
L515: (for B180 being  up-complete  lower-bounded LATTICE holds (for B181 being (Subset of B180) holds (B181 is  order-generating iff (for B182 being (Subset of B180) holds ((B181 c= B182 & (for B183 being (Subset of B182) holds ( "/\" (B183 , B180) ) in B182)) implies (the carrier of B180) = B182)))))
proof
let C183 being  up-complete  lower-bounded LATTICE;
let C184 being (Subset of C183);
thus L516: (C184 is  order-generating implies (for B184 being (Subset of C183) holds ((C184 c= B184 & (for B185 being (Subset of B184) holds ( "/\" (B185 , C183) ) in B184)) implies (the carrier of C183) = B184)))
proof
assume L517: C184 is  order-generating;
let C185 being (Subset of C183);
assume that
L518: C184 c= C185
and
L519: (for B186 being (Subset of C185) holds ( "/\" (B186 , C183) ) in C185);
L520:
now
let C186 being set;
assume L521: C186 in (the carrier of C183);
reconsider D56 = C186 as (Element of C183) by L521;
L522: (( ( uparrow D56 ) /\ C185 ) c= C185 & ( ( uparrow D56 ) /\ C184 ) c= ( ( uparrow D56 ) /\ C185 )) by L518 , XBOOLE_1:17 , XBOOLE_1:26;
L523: ( ( uparrow D56 ) /\ C184 ) c= C185 by L522 , XBOOLE_1:1;
L524: D56 = ( inf ( ( uparrow D56 ) /\ C184 ) ) by L517 , L506;
thus L525: C186 in C185 by L524 , L519 , L523;
end;
thus L526: (the carrier of C183) c= C185 by L520 , TARSKI:def 3;
thus L527: thesis;
end;

thus L528: ((for B187 being (Subset of C183) holds ((C184 c= B187 & (for B188 being (Subset of B187) holds ( "/\" (B188 , C183) ) in B187)) implies (the carrier of C183) = B187)) implies C184 is  order-generating)
proof
set D57 = { ( "/\" (B189 , C183) ) where B189 is (Subset of C183) : B189 c= C184 };
L529:
now
let R1 being set;
assume L530: R1 in D57;
L531: (ex B190 being (Subset of C183) st (R1 = ( "/\" (B190 , C183) ) & B190 c= C184)) by L530;
thus L532: R1 in (the carrier of C183) by L531;
end;
reconsider D58 = D57 as (Subset of C183) by L529 , TARSKI:def 3;
L533:
now
let R1 being set;
assume L534: R1 in C184;
reconsider D59 = R1 as (Element of C183) by L534;
reconsider D60 = { D59 } as (Subset of C183);
L535: D59 = ( "/\" (D60 , C183) ) by YELLOW_0:39;
L536: { D59 } c= C184 by L534 , ZFMISC_1:31;
thus L537: R1 in D58 by L536 , L535;
end;
L538: C184 c= D58 by L533 , TARSKI:def 3;
assume L539: (for B191 being (Subset of C183) holds ((C184 c= B191 & (for B192 being (Subset of B191) holds ( "/\" (B192 , C183) ) in B191)) implies (the carrier of C183) = B191));
L540: (for B193 being (Element of C183) holds (ex B194 being (Subset of C184) st B193 = ( "/\" (B194 , C183) )))
proof
let C187 being (Element of C183);
L541: (for B195 being (Subset of D58) holds ( "/\" (B195 , C183) ) in D58)
proof
let C188 being (Subset of D58);
set D61 = ( union { B196 where B196 is (Subset of C183) : (B196 c= C184 & ( "/\" (B196 , C183) ) in C188) } );
L542:
now
let R1 being set;
assume L543: R1 in D61;
consider C189 being set such that L544: R1 in C189 and L545: C189 in { B197 where B197 is (Subset of C183) : (B197 c= C184 & ( "/\" (B197 , C183) ) in C188) } by L543 , TARSKI:def 4;
L546: (ex B198 being (Subset of C183) st (C189 = B198 & B198 c= C184 & ( "/\" (B198 , C183) ) in C188)) by L545;
thus L547: R1 in (the carrier of C183) by L546 , L544;
end;
reconsider D62 = D61 as (Subset of C183) by L542 , TARSKI:def 3;
defpred S5[ (Subset of C183) ] means ($1 c= C184 & ( "/\" ($1 , C183) ) in C188);
set D63 = { ( "/\" (B199 , C183) ) where B199 is (Subset of C183) : S5[ B199 ] };
L548:
now
let R1 being set;
assume L549: R1 in C188;
L550: R1 in D58 by L549;
L551: (ex B200 being (Subset of C183) st (R1 = ( "/\" (B200 , C183) ) & B200 c= C184)) by L550;
thus L552: R1 in D63 by L551 , L549;
end;
L553: C188 c= D63 by L548 , TARSKI:def 3;
L554:
now
let C190 being set;
assume L555: C190 in { B201 where B201 is (Subset of C183) : (B201 c= C184 & ( "/\" (B201 , C183) ) in C188) };
L556: (ex B202 being (Subset of C183) st (C190 = B202 & B202 c= C184 & ( "/\" (B202 , C183) ) in C188)) by L555;
thus L557: C190 c= C184 by L556;
end;
L558: D62 c= C184 by L554 , ZFMISC_1:76;
L559:
now
let R1 being set;
assume L560: R1 in D63;
L561: (ex B203 being (Subset of C183) st (R1 = ( "/\" (B203 , C183) ) & B203 c= C184 & ( "/\" (B203 , C183) ) in C188)) by L560;
thus L562: R1 in C188 by L561;
end;
L563: D63 c= C188 by L559 , TARSKI:def 3;
L564: ( "/\" (C188 , C183) ) = ( "/\" (D63 , C183) ) by L563 , L553 , XBOOLE_0:def 10
.= ( "/\" (( union { B204 where B204 is (Subset of C183) : S5[ B204 ] } ) , C183) ) from YELLOW_3:sch 3;
thus L565: thesis by L564 , L558;
end;
L566: (the carrier of C183) = D58 by L541 , L539 , L538;
L567: C187 in D58 by L566;
L568: (ex B205 being (Subset of C183) st (C187 = ( "/\" (B205 , C183) ) & B205 c= C184)) by L567;
thus L569: thesis by L568;
end;
thus L570: thesis by L540 , L508;
end;

end;
theorem
L529: (for B206 being  up-complete  lower-bounded LATTICE holds (for B207 being (Subset of B206) holds (B207 is  order-generating iff (for B208 , B209 being (Element of B206) holds ((not B209 <= B208) implies (ex B210 being (Element of B206) st (B210 in B207 & B208 <= B210 & (not B209 <= B210))))))))
proof
let C191 being  up-complete  lower-bounded LATTICE;
let C192 being (Subset of C191);
thus L530: (C192 is  order-generating implies (for B211 , B212 being (Element of C191) holds ((not B212 <= B211) implies (ex B213 being (Element of C191) st (B213 in C192 & B211 <= B213 & (not B212 <= B213))))))
proof
assume L531: C192 is  order-generating;
let C193 , C194 being (Element of C191);
consider C195 being (Subset of C192) such that L532: C193 = ( "/\" (C195 , C191) ) by L531 , L508;
assume L533: (not C194 <= C193);
L534:
now
assume L535: (for B214 being (Element of C191) holds (B214 in C195 implies C194 <= B214));
L536: C194 is_<=_than C195 by L535 , LATTICE3:def 8;
thus L537: contradiction by L536 , L533 , L532 , YELLOW_0:33;
end;
consider C196 being (Element of C191) such that L538: (C196 in C195 & (not C194 <= C196)) by L534;
take C196;
L539: C193 is_<=_than C195 by L532 , YELLOW_0:33;
thus L540: thesis by L539 , L538 , LATTICE3:def 8;
end;

thus L541: ((for B215 , B216 being (Element of C191) holds ((not B216 <= B215) implies (ex B217 being (Element of C191) st (B217 in C192 & B215 <= B217 & (not B216 <= B217))))) implies C192 is  order-generating)
proof
assume L542: (for B218 , B219 being (Element of C191) holds ((not B219 <= B218) implies (ex B220 being (Element of C191) st (B220 in C192 & B218 <= B220 & (not B219 <= B220)))));
let C197 being (Element of C191);
set D64 = ( inf ( ( uparrow C197 ) /\ C192 ) );
thus L543:  ex_inf_of ( ( uparrow C197 ) /\ C192 ) , C191 by YELLOW_0:17;
L544: D64 is_<=_than ( ( uparrow C197 ) /\ C192 ) by YELLOW_0:33;
L545:
now
L546: C197 is_<=_than ( ( uparrow C197 ) /\ C192 )
proof
let C198 being (Element of C191);
assume L547: C198 in ( ( uparrow C197 ) /\ C192 );
L548: C198 in ( uparrow C197 ) by L547 , XBOOLE_0:def 4;
thus L549: thesis by L548 , WAYBEL_0:18;
end;
L550: C197 <= D64 by L546 , YELLOW_0:33;
L551: (not D64 < C197) by L550 , ORDERS_2:6;
assume L552: D64 <> C197;
L553:
now
per cases  by L551 , ORDERS_2:def 6;
suppose L554: (not D64 <= C197);

consider C199 being (Element of C191) such that L555: C199 in C192 and L556: C197 <= C199 and L557: (not D64 <= C199) by L554 , L542;
L558: C199 in ( uparrow C197 ) by L556 , WAYBEL_0:18;
L559: C199 in ( ( uparrow C197 ) /\ C192 ) by L558 , L555 , XBOOLE_0:def 4;
thus L560: contradiction by L559 , L544 , L557 , LATTICE3:def 8;
end;
suppose L561: D64 = C197;

thus L562: contradiction by L561 , L552;
end;
end;
thus L564: contradiction by L553;
end;
thus L565: thesis by L545;
end;

end;
theorem
L542: (for B221 being  lower-bounded  continuous LATTICE holds (for B222 being (Subset of B221) holds (B222 = ( ( IRR B221 ) \ { ( Top B221 ) } ) implies B222 is  order-generating)))
proof
let C200 being  lower-bounded  continuous LATTICE;
let C201 being (Subset of C200);
assume L543: C201 = ( ( IRR C200 ) \ { ( Top C200 ) } );
L544: (for B223 , B224 being (Element of C200) holds ((not B224 <= B223) implies (ex B225 being (Element of C200) st (B225 in C201 & B223 <= B225 & (not B224 <= B225)))))
proof
let C202 , C203 being (Element of C200);
assume L545: (not C203 <= C202);
consider C204 being (Element of C200) such that L546: C204 is  irreducible and L547: C202 <= C204 and L548: (not C203 <= C204) by L545 , L485;
L549: (C204 <> ( Top C200 ) & C204 in ( IRR C200 )) by L546 , L548 , L405 , YELLOW_0:45;
L550: C204 in C201 by L549 , L543 , ZFMISC_1:56;
thus L551: thesis by L550 , L547 , L548;
end;
thus L552: thesis by L544 , L529;
end;
theorem
L553: (for B226 being  lower-bounded  continuous LATTICE holds (for B227 , B228 being (Subset of B226) holds ((B227 is  order-generating & B227 c= B228) implies B228 is  order-generating)))
proof
let C205 being  lower-bounded  continuous LATTICE;
let C206 , C207 being (Subset of C205);
assume that
L554: C206 is  order-generating
and
L555: C206 c= C207;
let C208 being (Element of C205);
thus L556:  ex_inf_of ( ( uparrow C208 ) /\ C207 ) , C205 by YELLOW_0:17;
L557:  ex_inf_of ( ( uparrow C208 ) /\ C207 ) , C205 by YELLOW_0:17;
L558:  ex_inf_of ( uparrow C208 ) , C205 by WAYBEL_0:39;
L559: ( inf ( ( uparrow C208 ) /\ C207 ) ) >= ( inf ( uparrow C208 ) ) by L558 , L557 , XBOOLE_1:17 , YELLOW_0:35;
L560: ( inf ( ( uparrow C208 ) /\ C207 ) ) >= C208 by L559 , WAYBEL_0:39;
L561:  ex_inf_of ( ( uparrow C208 ) /\ C206 ) , C205 by YELLOW_0:17;
L562: ( inf ( ( uparrow C208 ) /\ C206 ) ) >= ( inf ( ( uparrow C208 ) /\ C207 ) ) by L561 , L555 , L557 , XBOOLE_1:26 , YELLOW_0:35;
L563: C208 >= ( inf ( ( uparrow C208 ) /\ C207 ) ) by L562 , L554 , L506;
thus L564: thesis by L563 , L560 , ORDERS_2:2;
end;
begin
definition
let C209 being non  empty RelStr;
let C210 being (Element of C209);
attr C210 is  prime
means
:L565: (for B229 , B230 being (Element of C209) holds (( B229 "/\" B230 ) <= C210 implies (B229 <= C210 or B230 <= C210)));
end;
definition
let C211 being non  empty RelStr;
func PRIME C211 -> (Subset of C211) means 
:L567: (for B231 being (Element of C211) holds (B231 in it iff B231 is  prime));
existence
proof
defpred S6[ (Element of C211) ] means $1 is  prime;
consider C212 being (Subset of C211) such that L568: (for B232 being (Element of C211) holds (B232 in C212 iff S6[ B232 ])) from SUBSET_1:sch 3;
take C212;
thus L569: thesis by L568;
end;
uniqueness
proof
let C213 , C214 being (Subset of C211);
assume that
L570: (for B233 being (Element of C211) holds (B233 in C213 iff B233 is  prime))
and
L571: (for B234 being (Element of C211) holds (B234 in C214 iff B234 is  prime));
thus L572: C213 c= C214
proof
let R1 being set;
assume L573: R1 in C213;
reconsider D65 = R1 as (Element of C211) by L573;
L574: D65 is  prime by L570 , L573;
thus L575: thesis by L574 , L571;
end;

thus L576: C214 c= C213
proof
let R1 being set;
assume L577: R1 in C214;
reconsider D66 = R1 as (Element of C211) by L577;
L578: D66 is  prime by L571 , L577;
thus L579: thesis by L578 , L570;
end;

end;
end;
definition
let C215 being non  empty RelStr;
let C216 being (Element of C215);
attr C216 is  co-prime
means
:L578: ( C216 ~ ) is  prime;
end;
theorem
L580: (for B235 being  upper-bounded  antisymmetric non  empty RelStr holds ( Top B235 ) is  prime)
proof
let C217 being  upper-bounded  antisymmetric non  empty RelStr;
let C218 , C219 being (Element of C217);
assume L581: ( C218 "/\" C219 ) <= ( Top C217 );
thus L582: thesis by YELLOW_0:45;
end;
theorem
L583: (for B236 being  lower-bounded  antisymmetric non  empty RelStr holds ( Bottom B236 ) is  co-prime)
proof
let C220 being  lower-bounded  antisymmetric non  empty RelStr;
L584: ( Top ( C220 ~ ) ) is  prime by L580;
thus L585: ( ( Bottom C220 ) ~ ) is  prime by L584 , YELLOW_7:33;
end;
registration
let C221 being  upper-bounded  antisymmetric non  empty RelStr;
cluster  prime for (Element of C221);
existence
proof
take ( Top C221 );
thus L586: thesis by L580;
end;
end;
theorem
L588: (for B237 being Semilattice holds (for B238 being (Element of B237) holds (B238 is  prime iff (for B239 being  finite non  empty (Subset of B237) holds (B238 >= ( inf B239 ) implies (ex B240 being (Element of B237) st (B240 in B239 & B238 >= B240)))))))
proof
let C222 being Semilattice;
let C223 being (Element of C222);
thus L589: (C223 is  prime implies (for B241 being  finite non  empty (Subset of C222) holds (C223 >= ( inf B241 ) implies (ex B242 being (Element of C222) st (B242 in B241 & C223 >= B242)))))
proof
defpred S7[ set ] means (($1 is non  empty & C223 >= ( "/\" ($1 , C222) )) implies (ex B243 being (Element of C222) st (B243 in $1 & C223 >= B243)));
assume L590: (for B244 , B245 being (Element of C222) holds (C223 >= ( B244 "/\" B245 ) implies (C223 >= B244 or C223 >= B245)));
let C224 being  finite non  empty (Subset of C222);
L591:
now
let C225 , C226 being set;
assume that
L592: C225 in C224
and
L593: C226 c= C224
and
L594: S7[ C226 ];
thus L595: S7[ ( C226 \/ { C225 } ) ]
proof
reconsider D67 = C225 as (Element of C222) by L592;
reconsider D68 = C226 as  finite (Subset of C222) by L593 , XBOOLE_1:1;
assume that
L596: ( C226 \/ { C225 } ) is non  empty
and
L597: C223 >= ( "/\" (( C226 \/ { C225 } ) , C222) );
per cases ;
suppose L598: C226 = ( {} );

L599: (( "/\" (( C226 \/ { D67 } ) , C222) ) = D67 & D67 in ( C226 \/ { D67 } )) by L598 , TARSKI:def 1 , YELLOW_0:39;
thus L600: thesis by L599 , L597;
end;
suppose L601: C226 <> ( {} );

L602: ( inf { D67 } ) = D67 by YELLOW_0:39;
L603:  ex_inf_of { D67 } , C222 by YELLOW_0:55;
L604:  ex_inf_of D68 , C222 by L601 , YELLOW_0:55;
L605: ( "/\" (( C226 \/ { C225 } ) , C222) ) = ( ( inf D68 ) "/\" ( inf { D67 } ) ) by L604 , L603 , YELLOW_2:4;
thus L606:now
per cases  by L590 , L597 , L605 , L602;
suppose L607: ( inf D68 ) <= C223;

consider C227 being (Element of C222) such that L608: C227 in C226 and L609: C227 <= C223 by L607 , L594 , L601;
L610: C227 in ( C226 \/ { C225 } ) by L608 , XBOOLE_0:def 3;
thus L611: thesis by L610 , L609;
end;
suppose L612: D67 <= C223;

L613: D67 in { D67 } by TARSKI:def 1;
L614: D67 in ( C226 \/ { C225 } ) by L613 , XBOOLE_0:def 3;
thus L615: thesis by L614 , L612;
end;
end;
end;
end;

end;
L596: S7[ ( {} ) ];
L597: C224 is  finite;
L598: S7[ C224 ] from FINSET_1:sch 2(L597 , L596 , L591);
thus L599: thesis by L598;
end;

assume L600: (for B246 being  finite non  empty (Subset of C222) holds (C223 >= ( inf B246 ) implies (ex B247 being (Element of C222) st (B247 in B246 & C223 >= B247))));
let C228 , C229 being (Element of C222);
set D69 = { C228 , C229 };
L601: ( inf D69 ) = ( C228 "/\" C229 ) by YELLOW_0:40;
assume L602: ( C228 "/\" C229 ) <= C223;
L603: (ex B248 being (Element of C222) st (B248 in D69 & C223 >= B248)) by L602 , L600 , L601;
thus L604: thesis by L603 , TARSKI:def 2;
end;
theorem
L605: (for B249 being sup-Semilattice holds (for B250 being (Element of B249) holds (B250 is  co-prime iff (for B251 being  finite non  empty (Subset of B249) holds (B250 <= ( sup B251 ) implies (ex B252 being (Element of B249) st (B252 in B251 & B250 <= B252)))))))
proof
let C230 being sup-Semilattice;
let C231 being (Element of C230);
thus L606: (C231 is  co-prime implies (for B253 being  finite non  empty (Subset of C230) holds (C231 <= ( sup B253 ) implies (ex B254 being (Element of C230) st (B254 in B253 & C231 <= B254)))))
proof
assume L607: C231 is  co-prime;
L608: ( C231 ~ ) is  prime by L607 , L578;
let C232 being  finite non  empty (Subset of C230);
reconsider D70 = C232 as  finite non  empty (Subset of ( C230 ~ ));
assume L609: C231 <= ( sup C232 );
L610: ( C231 ~ ) >= ( ( sup C232 ) ~ ) by L609 , LATTICE3:9;
L611:  ex_sup_of C232 , C230 by YELLOW_0:54;
L612: ( "\/" (C232 , C230) ) is_>=_than C232 by L611 , YELLOW_0:def 9;
L613: ( ( "\/" (C232 , C230) ) ~ ) is_<=_than C232 by L612 , YELLOW_7:8;
L614:
now
let C233 being (Element of ( C230 ~ ));
assume L615: C233 is_<=_than C232;
L616: ( ~ C233 ) is_>=_than C232 by L615 , YELLOW_7:9;
L617: ( ~ C233 ) >= ( "\/" (C232 , C230) ) by L616 , L611 , YELLOW_0:def 9;
thus L618: C233 <= ( ( "\/" (C232 , C230) ) ~ ) by L617 , YELLOW_7:2;
end;
L619:  ex_inf_of C232 , ( C230 ~ ) by L611 , YELLOW_7:10;
L620: ( ( sup C232 ) ~ ) = ( inf D70 ) by L619 , L613 , L614 , YELLOW_0:def 10;
consider C234 being (Element of ( C230 ~ )) such that L621: (C234 in D70 & ( C231 ~ ) >= C234) by L620 , L608 , L610 , L588;
take ( ~ C234 );
thus L622: thesis by L621 , YELLOW_7:2;
end;

thus L623: ((for B255 being  finite non  empty (Subset of C230) holds (C231 <= ( sup B255 ) implies (ex B256 being (Element of C230) st (B256 in B255 & C231 <= B256)))) implies C231 is  co-prime)
proof
assume L624: (for B257 being  finite non  empty (Subset of C230) holds (C231 <= ( sup B257 ) implies (ex B258 being (Element of C230) st (B258 in B257 & C231 <= B258))));
L625:
now
let C235 , C236 being (Element of ( C230 ~ ));
set D71 = { ( ~ C235 ) , ( ~ C236 ) };
assume L626: ( C235 "/\" C236 ) <= ( C231 ~ );
L627: C231 <= ( ~ ( C235 "/\" C236 ) ) by L626 , YELLOW_7:2;
L628: (( sup D71 ) = ( ( ~ C235 ) "\/" ( ~ C236 ) ) & C231 <= ( ( ~ C235 ) "\/" ( ~ C236 ) )) by L627 , YELLOW_0:41 , YELLOW_7:24;
consider C237 being (Element of C230) such that L629: C237 in D71 and L630: C231 <= C237 by L628 , L624;
L631: (C237 = ( ~ C235 ) or C237 = ( ~ C236 )) by L629 , TARSKI:def 2;
thus L632: (C235 <= ( C231 ~ ) or C236 <= ( C231 ~ )) by L631 , L630 , YELLOW_7:2;
end;
L633: ( C231 ~ ) is  prime by L625 , L565;
thus L634: thesis by L633 , L578;
end;

end;
theorem
L624: (for B259 being LATTICE holds (for B260 being (Element of B259) holds (B260 is  prime implies B260 is  irreducible)))
proof
let C238 being LATTICE;
let C239 being (Element of C238);
assume L625: C239 is  prime;
let C240 , C241 being (Element of C238);
assume L626: C239 = ( C240 "/\" C241 );
L627: ( C240 "/\" C241 ) <= C239 by L626;
L628: (C240 <= C239 or C241 <= C239) by L627 , L625 , L565;
L629: (C239 <= C240 & C239 <= C241) by L626 , YELLOW_0:23;
thus L630: thesis by L629 , L628 , ORDERS_2:2;
end;
theorem
L631: (for R5 being LATTICE holds (for R6 being (Element of R5) holds (R6 is  prime iff (for B261 being set holds (for B262 being (Function of R5 , ( BoolePoset { B261 } )) holds ((for B263 being (Element of R5) holds (( B262 . B263 ) = ( {} ) iff B263 <= R6)) implies B262 is  meet-preserving  join-preserving))))))
proof
let R5 being LATTICE;
let R6 being (Element of R5);
thus L632: (R6 is  prime implies (for B264 being set holds (for B265 being (Function of R5 , ( BoolePoset { B264 } )) holds ((for B266 being (Element of R5) holds (( B265 . B266 ) = ( {} ) iff B266 <= R6)) implies B265 is  meet-preserving  join-preserving))))
proof
assume L633: R6 is  prime;
let C242 being set;
let C243 being (Function of R5 , ( BoolePoset { C242 } ));
assume L634: (for B267 being (Element of R5) holds (( C243 . B267 ) = ( {} ) iff B267 <= R6));
L635: (the carrier of ( BoolePoset { C242 } )) = (the carrier of ( InclPoset ( bool { C242 } ) )) by YELLOW_1:4
.= ( bool { C242 } ) by YELLOW_1:1
.= { ( {} ) , { C242 } } by ZFMISC_1:24;
L636: ( dom C243 ) = (the carrier of R5) by FUNCT_2:def 1;
L637: (for B268 , B269 being (Element of R5) holds C243 preserves_inf_of { B268 , B269 })
proof
let C244 , C245 being (Element of R5);
L638: ( C243 .: { C244 , C245 } ) = { ( C243 . C244 ) , ( C243 . C245 ) } by L636 , FUNCT_1:60;
L639: ( ex_inf_of { C244 , C245 } , R5 implies  ex_inf_of ( C243 .: { C244 , C245 } ) , ( BoolePoset { C242 } )) by L638 , YELLOW_0:21;
L640:
now
per cases  by L635 , TARSKI:def 2;
suppose L641: (( C243 . C244 ) = ( {} ) & ( C243 . C245 ) = ( {} ));

L642: (( C244 "/\" C245 ) <= C244 & C244 <= R6) by L641 , L634 , YELLOW_0:23;
L643: ( C244 "/\" C245 ) <= R6 by L642 , ORDERS_2:3;
thus L644: ( ( C243 . C244 ) "/\" ( C243 . C245 ) ) = ( ( {} ) /\ ( {} ) ) by L641 , YELLOW_1:17
.= ( C243 . ( C244 "/\" C245 ) ) by L634 , L643;
end;
suppose L645: (( C243 . C244 ) = { C242 } & ( C243 . C245 ) = { C242 });

L646: ((not C245 <= R6) & (not C244 <= R6)) by L645 , L634;
L647: (not ( C244 "/\" C245 ) <= R6) by L646 , L633 , L565;
L648: (not ( C243 . ( C244 "/\" C245 ) ) = ( {} )) by L647 , L634;
thus L649: ( ( C243 . C244 ) "/\" ( C243 . C245 ) ) = ( { C242 } /\ { C242 } ) by L645 , YELLOW_1:17
.= ( C243 . ( C244 "/\" C245 ) ) by L635 , L648 , TARSKI:def 2;
end;
suppose L650: (( C243 . C244 ) = ( {} ) & ( C243 . C245 ) = { C242 });

L651: (( C244 "/\" C245 ) <= C244 & C244 <= R6) by L650 , L634 , YELLOW_0:23;
L652: ( C244 "/\" C245 ) <= R6 by L651 , ORDERS_2:3;
thus L653: ( ( C243 . C244 ) "/\" ( C243 . C245 ) ) = ( ( {} ) /\ { C242 } ) by L650 , YELLOW_1:17
.= ( C243 . ( C244 "/\" C245 ) ) by L634 , L652;
end;
suppose L654: (( C243 . C244 ) = { C242 } & ( C243 . C245 ) = ( {} ));

L655: (( C244 "/\" C245 ) <= C245 & C245 <= R6) by L654 , L634 , YELLOW_0:23;
L656: ( C244 "/\" C245 ) <= R6 by L655 , ORDERS_2:3;
thus L657: ( ( C243 . C244 ) "/\" ( C243 . C245 ) ) = ( { C242 } /\ ( {} ) ) by L654 , YELLOW_1:17
.= ( C243 . ( C244 "/\" C245 ) ) by L634 , L656;
end;
end;
L659: ( inf ( C243 .: { C244 , C245 } ) ) = ( ( C243 . C244 ) "/\" ( C243 . C245 ) ) by L638 , YELLOW_0:40
.= ( C243 . ( inf { C244 , C245 } ) ) by L640 , YELLOW_0:40;
thus L660: thesis by L659 , L639 , WAYBEL_0:def 30;
end;
thus L661: C243 is  meet-preserving by L637 , WAYBEL_0:def 34;
L662: (for B270 , B271 being (Element of R5) holds C243 preserves_sup_of { B270 , B271 })
proof
let C246 , C247 being (Element of R5);
L663: ( C243 .: { C246 , C247 } ) = { ( C243 . C246 ) , ( C243 . C247 ) } by L636 , FUNCT_1:60;
L664: ( ex_sup_of { C246 , C247 } , R5 implies  ex_sup_of ( C243 .: { C246 , C247 } ) , ( BoolePoset { C242 } )) by L663 , YELLOW_0:20;
L665:
now
per cases  by L635 , TARSKI:def 2;
suppose L666: (( C243 . C246 ) = ( {} ) & ( C243 . C247 ) = ( {} ));

L667: (C246 <= R6 & C247 <= R6) by L666 , L634;
L668: ( C246 "\/" C247 ) <= R6 by L667 , YELLOW_0:22;
thus L669: ( ( C243 . C246 ) "\/" ( C243 . C247 ) ) = ( ( {} ) \/ ( {} ) ) by L666 , YELLOW_1:17
.= ( C243 . ( C246 "\/" C247 ) ) by L634 , L668;
end;
suppose L670: (( C243 . C246 ) = { C242 } & ( C243 . C247 ) = { C242 });

L671: (( C246 "\/" C247 ) >= C246 & (not C246 <= R6)) by L670 , L634 , YELLOW_0:22;
L672: (not ( C246 "\/" C247 ) <= R6) by L671 , ORDERS_2:3;
L673: (not ( C243 . ( C246 "\/" C247 ) ) = ( {} )) by L672 , L634;
thus L674: ( ( C243 . C246 ) "\/" ( C243 . C247 ) ) = ( { C242 } \/ { C242 } ) by L670 , YELLOW_1:17
.= ( C243 . ( C246 "\/" C247 ) ) by L635 , L673 , TARSKI:def 2;
end;
suppose L675: (( C243 . C246 ) = ( {} ) & ( C243 . C247 ) = { C242 });

L676: (( C246 "\/" C247 ) >= C247 & (not C247 <= R6)) by L675 , L634 , YELLOW_0:22;
L677: (not ( C246 "\/" C247 ) <= R6) by L676 , ORDERS_2:3;
L678: (not ( C243 . ( C246 "\/" C247 ) ) = ( {} )) by L677 , L634;
thus L679: ( ( C243 . C246 ) "\/" ( C243 . C247 ) ) = ( ( {} ) \/ { C242 } ) by L675 , YELLOW_1:17
.= ( C243 . ( C246 "\/" C247 ) ) by L635 , L678 , TARSKI:def 2;
end;
suppose L680: (( C243 . C246 ) = { C242 } & ( C243 . C247 ) = ( {} ));

L681: (( C246 "\/" C247 ) >= C246 & (not C246 <= R6)) by L680 , L634 , YELLOW_0:22;
L682: (not ( C246 "\/" C247 ) <= R6) by L681 , ORDERS_2:3;
L683: (not ( C243 . ( C246 "\/" C247 ) ) = ( {} )) by L682 , L634;
thus L684: ( ( C243 . C246 ) "\/" ( C243 . C247 ) ) = ( { C242 } \/ ( {} ) ) by L680 , YELLOW_1:17
.= ( C243 . ( C246 "\/" C247 ) ) by L635 , L683 , TARSKI:def 2;
end;
end;
L686: ( sup ( C243 .: { C246 , C247 } ) ) = ( ( C243 . C246 ) "\/" ( C243 . C247 ) ) by L663 , YELLOW_0:41
.= ( C243 . ( sup { C246 , C247 } ) ) by L665 , YELLOW_0:41;
thus L687: thesis by L686 , L664 , WAYBEL_0:def 31;
end;
thus L688: thesis by L662 , WAYBEL_0:def 35;
end;

thus L689: ((for B272 being set holds (for B273 being (Function of R5 , ( BoolePoset { B272 } )) holds ((for B274 being (Element of R5) holds (( B273 . B274 ) = ( {} ) iff B274 <= R6)) implies B273 is  meet-preserving  join-preserving))) implies R6 is  prime)
proof
defpred S8[ (Element of R5) , set ] means ($1 <= R6 iff $2 = ( {} ));
assume L690: (for B275 being set holds (for B276 being (Function of R5 , ( BoolePoset { B275 } )) holds ((for B277 being (Element of R5) holds (( B276 . B277 ) = ( {} ) iff B277 <= R6)) implies B276 is  meet-preserving  join-preserving)));
let C248 , C249 being (Element of R5);
L691: (the carrier of ( BoolePoset { ( {} ) } )) = (the carrier of ( InclPoset ( bool { ( {} ) } ) )) by YELLOW_1:4
.= ( bool { ( {} ) } ) by YELLOW_1:1
.= { ( {} ) , { ( {} ) } } by ZFMISC_1:24;
L692: (for B278 being (Element of R5) holds (ex B279 being (Element of ( BoolePoset { ( {} ) } )) st S8[ B278 , B279 ]))
proof
let C250 being (Element of R5);
L693:
now
per cases ;
suppose L694: C250 <= R6;

set D72 = ( {} );
reconsider D73 = D72 as (Element of ( BoolePoset { ( {} ) } )) by L691 , TARSKI:def 2;
L695: (C250 <= R6 iff D73 = ( {} )) by L694;
thus L696: thesis by L695;
end;
suppose L697: (not C250 <= R6);

set D74 = { ( {} ) };
reconsider D75 = D74 as (Element of ( BoolePoset { ( {} ) } )) by L691 , TARSKI:def 2;
L698: (C250 <= R6 iff D75 = ( {} )) by L697;
thus L699: thesis by L698;
end;
end;
thus L701: thesis by L693;
end;
consider C251 being (Function of R5 , ( BoolePoset { ( {} ) } )) such that L702: (for B280 being (Element of R5) holds S8[ B280 , ( C251 . B280 ) ]) from FUNCT_2:sch 3(L692);
L703: C251 is  meet-preserving by L690 , L702;
L704: ( ex_inf_of { C248 , C249 } , R5 & C251 preserves_inf_of { C248 , C249 }) by L703 , WAYBEL_0:def 34 , YELLOW_0:21;
L705: ( dom C251 ) = (the carrier of R5) by FUNCT_2:def 1;
L706: ( C251 .: { C248 , C249 } ) = { ( C251 . C248 ) , ( C251 . C249 ) } by L705 , FUNCT_1:60;
assume L707: ( C248 "/\" C249 ) <= R6;
L708: ( {} ) = ( C251 . ( C248 "/\" C249 ) ) by L707 , L702
.= ( C251 . ( inf { C248 , C249 } ) ) by YELLOW_0:40
.= ( inf { ( C251 . C248 ) , ( C251 . C249 ) } ) by L706 , L704 , WAYBEL_0:def 30
.= ( ( C251 . C248 ) "/\" ( C251 . C249 ) ) by YELLOW_0:40
.= ( ( C251 . C248 ) /\ ( C251 . C249 ) ) by YELLOW_1:17;
L709:
now
assume L710: ((not ( C251 . C248 ) = ( {} )) & (not ( C251 . C249 ) = ( {} )));
L711: (( C251 . C248 ) = { ( {} ) } & ( C251 . C249 ) = { ( {} ) }) by L710 , L691 , TARSKI:def 2;
thus L712: contradiction by L711 , L708;
end;
thus L713: (C248 <= R6 or C249 <= R6) by L709 , L702;
end;

end;
theorem
L690: (for B281 being  upper-bounded LATTICE holds (for B282 being (Element of B281) holds (B282 <> ( Top B281 ) implies (B282 is  prime iff ( ( downarrow B282 ) ` ) is (Filter of B281)))))
proof
let C252 being  upper-bounded LATTICE;
let C253 being (Element of C252);
set D76 = ( (the carrier of C252) \ ( downarrow C253 ) );
reconsider D77 = D76 as (Subset of C252);
assume L691: C253 <> ( Top C252 );
thus L692: (C253 is  prime implies ( ( downarrow C253 ) ` ) is (Filter of C252))
proof
assume L693: C253 is  prime;
L694:
now
let C254 , C255 being (Element of C252);
assume that
L695: C254 in D77
and
L696: C255 in D77;
L697: (not C255 in ( downarrow C253 )) by L696 , XBOOLE_0:def 5;
L698: (not C255 <= C253) by L697 , WAYBEL_0:17;
L699: (not C254 in ( downarrow C253 )) by L695 , XBOOLE_0:def 5;
L700: (not C254 <= C253) by L699 , WAYBEL_0:17;
L701:
now
assume L702: ( C254 "/\" C255 ) in ( downarrow C253 );
L703: ( C254 "/\" C255 ) <= C253 by L702 , WAYBEL_0:17;
thus L704: contradiction by L703 , L693 , L700 , L698 , L565;
end;
L705: ( C254 "/\" C255 ) in D77 by L701 , XBOOLE_0:def 5;
L706: (( C254 "/\" C255 ) <= C254 & ( C254 "/\" C255 ) <= C255) by YELLOW_0:23;
thus L707: (ex B283 being (Element of C252) st (B283 in D77 & B283 <= C254 & B283 <= C255)) by L706 , L705;
end;
L708:
now
let C256 , C257 being (Element of C252);
assume that
L709: C256 in D77
and
L710: C256 <= C257;
L711: (not C256 in ( downarrow C253 )) by L709 , XBOOLE_0:def 5;
L712: (not C256 <= C253) by L711 , WAYBEL_0:17;
L713: (not C257 <= C253) by L712 , L710 , ORDERS_2:3;
L714: (not C257 in ( downarrow C253 )) by L713 , WAYBEL_0:17;
thus L715: C257 in D77 by L714 , XBOOLE_0:def 5;
end;
L716:
now
assume L717: ( Top C252 ) in ( downarrow C253 );
L718: ( Top C252 ) <= C253 by L717 , WAYBEL_0:17;
L719: ( Top C252 ) < C253 by L718 , L691 , ORDERS_2:def 6;
thus L720: contradiction by L719 , ORDERS_2:6 , YELLOW_0:45;
end;
thus L721: thesis by L716 , L694 , L708 , WAYBEL_0:def 2 , WAYBEL_0:def 20 , XBOOLE_0:def 5;
end;

thus L722: (( ( downarrow C253 ) ` ) is (Filter of C252) implies C253 is  prime)
proof
L723: C253 <= C253;
L724: C253 in ( downarrow C253 ) by L723 , WAYBEL_0:17;
assume L725: ( ( downarrow C253 ) ` ) is (Filter of C252);
let C258 , C259 being (Element of C252);
assume L726: ( C258 "/\" C259 ) <= C253;
L727:
now
assume that
L728: (not C258 <= C253)
and
L729: (not C259 <= C253);
L730: (not C259 in ( downarrow C253 )) by L729 , WAYBEL_0:17;
L731: C259 in D77 by L730 , XBOOLE_0:def 5;
L732: (not C258 in ( downarrow C253 )) by L728 , WAYBEL_0:17;
L733: C258 in D77 by L732 , XBOOLE_0:def 5;
consider C260 being (Element of C252) such that L734: C260 in D77 and L735: (C260 <= C258 & C260 <= C259) by L733 , L725 , L731 , WAYBEL_0:def 2;
L736: C260 <= ( C258 "/\" C259 ) by L735 , YELLOW_0:23;
L737: C260 <= C253 by L736 , L726 , ORDERS_2:3;
L738: C253 in D77 by L737 , L725 , L734 , WAYBEL_0:def 20;
thus L739: contradiction by L738 , L724 , XBOOLE_0:def 5;
end;
thus L740: (C258 <= C253 or C259 <= C253) by L727;
end;

end;
theorem
L723: (for B284 being  distributive LATTICE holds (for B285 being (Element of B284) holds (B285 is  prime iff B285 is  irreducible)))
proof
let C261 being  distributive LATTICE;
let C262 being (Element of C261);
thus L724: (C262 is  prime implies C262 is  irreducible) by L624;
thus L725: (C262 is  irreducible implies C262 is  prime)
proof
assume L726: C262 is  irreducible;
let C263 , C264 being (Element of C261);
assume L727: ( C263 "/\" C264 ) <= C262;
L728: C262 = ( C262 "\/" ( C263 "/\" C264 ) ) by L727 , YELLOW_0:24
.= ( ( C262 "\/" C263 ) "/\" ( C262 "\/" C264 ) ) by WAYBEL_1:5;
L729: (C262 = ( C262 "\/" C263 ) or C262 = ( C262 "\/" C264 )) by L728 , L726 , L401;
thus L730: (C263 <= C262 or C264 <= C262) by L729 , YELLOW_0:24;
end;

end;
theorem
L726: (for B286 being  distributive LATTICE holds ( PRIME B286 ) = ( IRR B286 ))
proof
let C265 being  distributive LATTICE;
L727:
now
let C266 being set;
assume L728: C266 in ( PRIME C265 );
reconsider D78 = C266 as (Element of ( PRIME C265 )) by L728;
reconsider D79 = D78 as (Element of C265) by L728;
L729: D79 is  prime by L728 , L567;
L730: D79 is  irreducible by L729 , L723;
thus L731: C266 in ( IRR C265 ) by L730 , L405;
end;
thus L732: ( PRIME C265 ) c= ( IRR C265 ) by L727 , TARSKI:def 3;
L733:
now
let C267 being set;
assume L734: C267 in ( IRR C265 );
reconsider D80 = C267 as (Element of ( IRR C265 )) by L734;
reconsider D81 = D80 as (Element of C265) by L734;
L735: D81 is  irreducible by L734 , L405;
L736: D81 is  prime by L735 , L723;
thus L737: C267 in ( PRIME C265 ) by L736 , L567;
end;
thus L738: thesis by L733 , TARSKI:def 3;
end;
theorem
L739: (for B287 being  Boolean LATTICE holds (for B288 being (Element of B287) holds (B288 <> ( Top B287 ) implies (B288 is  prime iff (for B289 being (Element of B287) holds (B289 > B288 implies B289 = ( Top B287 )))))))
proof
let C268 being  Boolean LATTICE;
let C269 being (Element of C268);
assume L740: C269 <> ( Top C268 );
thus L741: (C269 is  prime implies (for B290 being (Element of C268) holds (B290 > C269 implies B290 = ( Top C268 ))))
proof
assume L742: C269 is  prime;
let C270 being (Element of C268);
consider C271 being (Element of C268) such that L743: C271 is_a_complement_of C270 by WAYBEL_1:def 24;
L744: ( C270 "/\" C271 ) = ( Bottom C268 ) by L743 , WAYBEL_1:def 23;
L745: ( C270 "/\" C271 ) <= C269 by L744 , YELLOW_0:44;
L746: (C270 <= C269 or C271 <= C269) by L745 , L742 , L565;
assume L747: C270 > C269;
L748: C271 < C270 by L747 , L746 , ORDERS_2:7;
L749: C271 <= C270 by L748 , ORDERS_2:def 6;
L750: ( C270 "\/" C271 ) = ( Top C268 ) by L743 , WAYBEL_1:def 23;
thus L751: thesis by L750 , L749 , YELLOW_0:24;
end;

thus L752: ((for B291 being (Element of C268) holds (B291 > C269 implies B291 = ( Top C268 ))) implies C269 is  prime)
proof
assume L753: (for B292 being (Element of C268) holds (B292 > C269 implies B292 = ( Top C268 )));
let C272 , C273 being (Element of C268);
assume L754: ( C272 "/\" C273 ) <= C269;
L755: C269 = ( C269 "\/" ( C272 "/\" C273 ) ) by L754 , YELLOW_0:24
.= ( ( C269 "\/" C272 ) "/\" ( C269 "\/" C273 ) ) by WAYBEL_1:5;
assume that
L756: (not C272 <= C269)
and
L757: (not C273 <= C269);
L758: C269 <> ( C269 "\/" C273 ) by L757 , YELLOW_0:24;
L759: C269 <= ( C269 "\/" C273 ) by L755 , YELLOW_0:23;
L760: C269 < ( C269 "\/" C273 ) by L759 , L758 , ORDERS_2:def 6;
L761: ( C269 "\/" C273 ) = ( Top C268 ) by L760 , L753;
L762: C269 <> ( C269 "\/" C272 ) by L756 , YELLOW_0:24;
L763: C269 <= ( C269 "\/" C272 ) by L755 , YELLOW_0:23;
L764: C269 < ( C269 "\/" C272 ) by L763 , L762 , ORDERS_2:def 6;
L765: ( C269 "\/" C272 ) = ( Top C268 ) by L764 , L753;
thus L766: contradiction by L765 , L740 , L755 , L761 , YELLOW_5:2;
end;

end;
theorem
L753: (for B293 being  continuous  distributive  lower-bounded LATTICE holds (for B294 being (Element of B293) holds (B294 <> ( Top B293 ) implies (B294 is  prime iff (ex B295 being  Open (Filter of B293) st B294 is_maximal_in ( B295 ` ))))))
proof
let C274 being  continuous  distributive  lower-bounded LATTICE;
let C275 being (Element of C274);
set D82 = ( ( downarrow C275 ) ` );
assume L754: C275 <> ( Top C274 );
thus L755: (C275 is  prime implies (ex B296 being  Open (Filter of C274) st C275 is_maximal_in ( B296 ` )))
proof
L756: (for B297 being (Element of C274) holds ( waybelow B297 ) is non  empty  directed);
L757:
now
let C276 being (Element of C274);
assume L758: C276 in D82;
L759: (not C276 in ( downarrow C275 )) by L758 , XBOOLE_0:def 5;
L760: (not C276 <= C275) by L759 , WAYBEL_0:17;
consider C277 being (Element of C274) such that L761: C277 << C276 and L762: (not C277 <= C275) by L760 , L756 , WAYBEL_3:24;
L763: (not C277 in ( downarrow C275 )) by L762 , WAYBEL_0:17;
L764: C277 in D82 by L763 , XBOOLE_0:def 5;
thus L765: (ex B298 being (Element of C274) st (B298 in D82 & B298 << C276)) by L764 , L761;
end;
assume L766: C275 is  prime;
reconsider D83 = D82 as  Open (Filter of C274) by L766 , L754 , L757 , L132 , L690;
take D83;
L767:
now
given C278 being (Element of C274) such that
L768: C278 in ( D83 ` )
and
L769: C278 > C275;

L770: C278 <= C275 by L768 , WAYBEL_0:17;
thus L771: contradiction by L770 , L769 , ORDERS_2:6;
end;
L772: C275 <= C275;
L773: C275 in ( D83 ` ) by L772 , WAYBEL_0:17;
thus L774: thesis by L773 , L767 , WAYBEL_4:55;
end;

thus L775: ((ex B299 being  Open (Filter of C274) st C275 is_maximal_in ( B299 ` )) implies C275 is  prime)
proof
assume L776: (ex B300 being  Open (Filter of C274) st C275 is_maximal_in ( B300 ` ));
L777: C275 is  irreducible by L776 , L464;
L778:
now
let C279 , C280 being (Element of C274);
assume L779: ( C279 "/\" C280 ) <= C275;
L780: C275 = ( C275 "\/" ( C279 "/\" C280 ) ) by L779 , YELLOW_0:24
.= ( ( C275 "\/" C279 ) "/\" ( C275 "\/" C280 ) ) by WAYBEL_1:5;
L781: (C275 = ( C275 "\/" C279 ) or C275 = ( C275 "\/" C280 )) by L780 , L777 , L401;
assume L782: ((not C279 <= C275) & (not C280 <= C275));
thus L783: contradiction by L782 , L781 , YELLOW_0:24;
end;
thus L784: thesis by L778 , L565;
end;

end;
theorem
L776: (for B301 being RelStr holds (for B302 being (Subset of B301) holds ( chi (B302 , (the carrier of B301)) ) is (Function of B301 , ( BoolePoset { ( {} ) } ))))
proof
let C281 being RelStr;
let C282 being (Subset of C281);
L777: (the carrier of ( BoolePoset { ( {} ) } )) = (the carrier of ( InclPoset ( bool { ( {} ) } ) )) by YELLOW_1:4
.= ( bool { ( {} ) } ) by YELLOW_1:1
.= { ( 0 ) , 1 } by CARD_1:49 , ZFMISC_1:24;
thus L778: thesis by L777;
end;
theorem
L779: (for B303 being non  empty RelStr holds (for B304 , B305 being (Element of B303) holds (( ( chi (( ( downarrow B304 ) ` ) , (the carrier of B303)) ) . B305 ) = ( {} ) iff B305 <= B304)))
proof
let C283 being non  empty RelStr;
let C284 , C285 being (Element of C283);
L780: ((not C285 in ( ( downarrow C284 ) ` )) iff C285 in ( downarrow C284 )) by XBOOLE_0:def 5;
thus L781: thesis by L780 , FUNCT_3:def 3 , WAYBEL_0:17;
end;
theorem
L782: (for B306 being  upper-bounded LATTICE holds (for B307 being (Function of B306 , ( BoolePoset { ( {} ) } )) holds (for B308 being  prime (Element of B306) holds (( chi (( ( downarrow B308 ) ` ) , (the carrier of B306)) ) = B307 implies B307 is  meet-preserving  join-preserving))))
proof
let C286 being  upper-bounded LATTICE;
let C287 being (Function of C286 , ( BoolePoset { ( {} ) } ));
let C288 being  prime (Element of C286);
assume L783: ( chi (( ( downarrow C288 ) ` ) , (the carrier of C286)) ) = C287;
L784: (for B309 being (Element of C286) holds (( C287 . B309 ) = ( {} ) iff B309 <= C288)) by L783 , L779;
thus L785: thesis by L784 , L631;
end;
theorem
L786: (for B310 being  complete LATTICE holds (( PRIME B310 ) is  order-generating implies B310 is  distributive  meet-continuous))
proof
let C289 being  complete LATTICE;
set D84 = { ( chi (( ( downarrow B311 ) ` ) , (the carrier of C289)) ) where B311 is (Element of C289) : B311 is  prime };
set D85 = the  prime (Element of C289);
L787: ( chi (( ( downarrow D85 ) ` ) , (the carrier of C289)) ) in D84;
L788:
now
let C290 being set;
assume L789: C290 in D84;
L790: (ex B312 being (Element of C289) st (C290 = ( chi (( ( downarrow B312 ) ` ) , (the carrier of C289)) ) & B312 is  prime)) by L789;
thus L791: C290 is Function by L790;
end;
reconsider D86 = D84 as  functional non  empty set by L788 , L787 , FUNCT_1:def 13;
deffunc H1(set) = { B313 where B313 is (Element of D86) : ( B313 . $1 ) = 1 };
consider C291 being Function such that L792: ( dom C291 ) = (the carrier of C289) and L793: (for B314 being set holds (B314 in (the carrier of C289) implies ( C291 . B314 ) = H1(B314))) from FUNCT_1:sch 3;
L794: (the carrier of ( BoolePoset D86 )) = (the carrier of ( InclPoset ( bool D86 ) )) by YELLOW_1:4
.= ( bool D86 ) by YELLOW_1:1;
L795: ( rng C291 ) c= (the carrier of ( BoolePoset D86 ))
proof
let R2 being set;
assume L796: R2 in ( rng C291 );
consider R1 being set such that L797: (R1 in ( dom C291 ) & R2 = ( C291 . R1 )) by L796 , FUNCT_1:def 3;
L798: R2 = { B315 where B315 is (Element of D86) : ( B315 . R1 ) = 1 } by L792 , L793 , L797;
L799: R2 c= D86
proof
let C292 being set;
assume L800: C292 in R2;
L801: (ex B316 being (Element of D86) st (C292 = B316 & ( B316 . R1 ) = 1)) by L800 , L798;
thus L802: thesis by L801;
end;
thus L803: thesis by L799 , L794;
end;
reconsider D87 = C291 as (Function of C289 , ( BoolePoset D86 )) by L795 , L792 , FUNCT_2:def 1 , RELSET_1:4;
L804: D87 is  meet-preserving
proof
let C293 , C294 being (Element of C289);
assume L805:  ex_inf_of { C293 , C294 } , C289;
thus L806:  ex_inf_of ( D87 .: { C293 , C294 } ) , ( BoolePoset D86 ) by YELLOW_0:17;
L807: { B317 where B317 is (Element of D86) : ( B317 . ( C293 "/\" C294 ) ) = 1 } c= ( { B318 where B318 is (Element of D86) : ( B318 . C293 ) = 1 } /\ { B319 where B319 is (Element of D86) : ( B319 . C294 ) = 1 } )
proof
L808: ( ex_inf_of { C293 , C294 } , C289 & ( C293 "/\" C294 ) = ( inf { C293 , C294 } )) by YELLOW_0:17 , YELLOW_0:40;
let C295 being set;
L809: 1 = ( Top ( BoolePoset { ( {} ) } ) ) by CARD_1:49 , YELLOW_1:19;
assume L810: C295 in { B320 where B320 is (Element of D86) : ( B320 . ( C293 "/\" C294 ) ) = 1 };
consider C296 being (Element of D86) such that L811: C296 = C295 and L812: ( C296 . ( C293 "/\" C294 ) ) = 1 by L810;
L813: C296 in D86;
L814: (ex B321 being (Element of C289) st (( chi (( ( downarrow B321 ) ` ) , (the carrier of C289)) ) = C296 & B321 is  prime)) by L813;
reconsider D88 = C296 as (Function of C289 , ( BoolePoset { ( {} ) } )) by L814 , L776;
L815: D88 is  meet-preserving by L814 , L782;
L816: D88 preserves_inf_of { C293 , C294 } by L815 , WAYBEL_0:def 34;
L817: ( dom D88 ) = (the carrier of C289) by FUNCT_2:def 1;
L818: { ( D88 . C293 ) , ( D88 . C294 ) } = ( D88 .: { C293 , C294 } ) by L817 , FUNCT_1:60;
L819: ( ( D88 . C293 ) "/\" ( D88 . C294 ) ) = ( inf { ( D88 . C293 ) , ( D88 . C294 ) } ) by YELLOW_0:40;
L820: ( D88 . ( C293 "/\" C294 ) ) = ( ( D88 . C293 ) "/\" ( D88 . C294 ) ) by L819 , L818 , L816 , L808 , WAYBEL_0:def 30;
L821: (( D88 . C294 ) <= ( Top ( BoolePoset { ( {} ) } ) ) & ( D88 . C294 ) >= ( Top ( BoolePoset { ( {} ) } ) )) by L820 , L812 , L809 , YELLOW_0:23 , YELLOW_0:45;
L822: ( D88 . C294 ) = 1 by L821 , L809 , ORDERS_2:2;
L823: C295 in { B322 where B322 is (Element of D86) : ( B322 . C294 ) = 1 } by L822 , L811;
L824: (( D88 . C293 ) <= ( Top ( BoolePoset { ( {} ) } ) ) & ( D88 . C293 ) >= ( Top ( BoolePoset { ( {} ) } ) )) by L812 , L809 , L820 , YELLOW_0:23 , YELLOW_0:45;
L825: ( D88 . C293 ) = 1 by L824 , L809 , ORDERS_2:2;
L826: C295 in { B323 where B323 is (Element of D86) : ( B323 . C293 ) = 1 } by L825 , L811;
thus L827: thesis by L826 , L823 , XBOOLE_0:def 4;
end;
L828: ( { B324 where B324 is (Element of D86) : ( B324 . C293 ) = 1 } /\ { B325 where B325 is (Element of D86) : ( B325 . C294 ) = 1 } ) c= { B326 where B326 is (Element of D86) : ( B326 . ( C293 "/\" C294 ) ) = 1 }
proof
let C297 being set;
L829: ( ex_inf_of { C293 , C294 } , C289 & ( C293 "/\" C294 ) = ( inf { C293 , C294 } )) by YELLOW_0:17 , YELLOW_0:40;
assume L830: C297 in ( { B327 where B327 is (Element of D86) : ( B327 . C293 ) = 1 } /\ { B328 where B328 is (Element of D86) : ( B328 . C294 ) = 1 } );
L831: C297 in { B329 where B329 is (Element of D86) : ( B329 . C293 ) = 1 } by L830 , XBOOLE_0:def 4;
consider C298 being (Element of D86) such that L832: C298 = C297 and L833: ( C298 . C293 ) = 1 by L831;
L834: C297 in { B330 where B330 is (Element of D86) : ( B330 . C294 ) = 1 } by L830 , XBOOLE_0:def 4;
L835: (ex B331 being (Element of D86) st (B331 = C297 & ( B331 . C294 ) = 1)) by L834;
L836: C298 in D86;
consider C299 being (Element of C289) such that L837: ( chi (( ( downarrow C299 ) ` ) , (the carrier of C289)) ) = C298 and L838: C299 is  prime by L836;
reconsider D89 = C298 as (Function of C289 , ( BoolePoset { ( {} ) } )) by L837 , L776;
L839: (for B332 being (Element of C289) holds (( D89 . B332 ) = ( {} ) iff B332 <= C299)) by L837 , L779;
L840: D89 is  meet-preserving by L839 , L838 , L631;
L841: D89 preserves_inf_of { C293 , C294 } by L840 , WAYBEL_0:def 34;
L842: ( dom D89 ) = (the carrier of C289) by FUNCT_2:def 1;
L843: { ( D89 . C293 ) , ( D89 . C294 ) } = ( D89 .: { C293 , C294 } ) by L842 , FUNCT_1:60;
L844: ( ( D89 . C293 ) "/\" ( D89 . C294 ) ) = ( inf { ( D89 . C293 ) , ( D89 . C294 ) } ) by YELLOW_0:40;
L845: ( D89 . ( C293 "/\" C294 ) ) = ( ( D89 . C293 ) "/\" ( D89 . C294 ) ) by L844 , L843 , L841 , L829 , WAYBEL_0:def 30
.= 1 by L832 , L833 , L835 , YELLOW_5:2;
thus L846: thesis by L845 , L832;
end;
L847: ( D87 .: { C293 , C294 } ) = { ( D87 . C293 ) , ( D87 . C294 ) } by L792 , FUNCT_1:60;
thus L848: ( inf ( D87 .: { C293 , C294 } ) ) = ( ( D87 . C293 ) "/\" ( D87 . C294 ) ) by L847 , YELLOW_0:40
.= ( ( D87 . C293 ) /\ ( D87 . C294 ) ) by YELLOW_1:17
.= ( { B333 where B333 is (Element of D86) : ( B333 . C293 ) = 1 } /\ ( D87 . C294 ) ) by L793
.= ( { B334 where B334 is (Element of D86) : ( B334 . C293 ) = 1 } /\ { B335 where B335 is (Element of D86) : ( B335 . C294 ) = 1 } ) by L793
.= { B336 where B336 is (Element of D86) : ( B336 . ( C293 "/\" C294 ) ) = 1 } by L828 , L807 , XBOOLE_0:def 10
.= ( D87 . ( C293 "/\" C294 ) ) by L793
.= ( D87 . ( inf { C293 , C294 } ) ) by YELLOW_0:40;
end;
assume L849: ( PRIME C289 ) is  order-generating;
L850: D87 is  one-to-one
proof
let C300 , C301 being set;
assume that
L851: C300 in ( dom D87 )
and
L852: C301 in ( dom D87 )
and
L853: ( D87 . C300 ) = ( D87 . C301 );
reconsider D90 = C301 as (Element of C289) by L852;
reconsider D91 = C300 as (Element of C289) by L851;
L854:
now
L855: ( D87 . D90 ) = { B337 where B337 is (Element of D86) : ( B337 . D90 ) = 1 } by L793;
L856: ( D87 . D91 ) = { B338 where B338 is (Element of D86) : ( B338 . D91 ) = 1 } by L793;
assume L857: D91 <> D90;
per cases  by L857 , ORDERS_2:2;
suppose L858: (not D91 <= D90);

consider C302 being (Element of C289) such that L859: C302 in ( PRIME C289 ) and L860: D90 <= C302 and L861: (not D91 <= C302) by L858 , L849 , L529;
set D92 = ( chi (( ( downarrow C302 ) ` ) , (the carrier of C289)) );
L862: C302 is  prime by L859 , L567;
L863: D92 in D86 by L862;
reconsider D93 = D92 as (Element of D86) by L863;
L864:
now
assume L865: D93 in ( D87 . D90 );
L866: (ex B339 being (Element of D86) st (B339 = D93 & ( B339 . D90 ) = 1)) by L865 , L855;
thus L867: contradiction by L866 , L860 , L779;
end;
L868: ( dom D93 ) = (the carrier of C289) by FUNCT_2:def 1;
L869: (( rng D93 ) c= { ( 0 ) , 1 } & ( D93 . D91 ) in ( rng D93 )) by L868 , FUNCT_1:def 3 , RELAT_1:def 19;
L870: (( D93 . D91 ) = ( 0 ) or ( D93 . D91 ) = 1) by L869 , TARSKI:def 2;
thus L871: contradiction by L870 , L853 , L856 , L861 , L864 , L779;
end;
suppose L872: (not D90 <= D91);

consider C303 being (Element of C289) such that L873: C303 in ( PRIME C289 ) and L874: D91 <= C303 and L875: (not D90 <= C303) by L872 , L849 , L529;
set D94 = ( chi (( ( downarrow C303 ) ` ) , (the carrier of C289)) );
L876: C303 is  prime by L873 , L567;
L877: D94 in D86 by L876;
reconsider D95 = D94 as (Element of D86) by L877;
L878:
now
assume L879: D95 in ( D87 . D91 );
L880: (ex B340 being (Element of D86) st (B340 = D95 & ( B340 . D91 ) = 1)) by L879 , L856;
thus L881: contradiction by L880 , L874 , L779;
end;
L882: ( dom D95 ) = (the carrier of C289) by FUNCT_2:def 1;
L883: (( rng D95 ) c= { ( 0 ) , 1 } & ( D95 . D90 ) in ( rng D95 )) by L882 , FUNCT_1:def 3 , RELAT_1:def 19;
L884: (( D95 . D90 ) = ( 0 ) or ( D95 . D90 ) = 1) by L883 , TARSKI:def 2;
thus L885: contradiction by L884 , L853 , L855 , L875 , L878 , L779;
end;
end;
thus L887: thesis by L854;
end;
L888: D87 is  join-preserving
proof
let C304 , C305 being (Element of C289);
assume L889:  ex_sup_of { C304 , C305 } , C289;
thus L890:  ex_sup_of ( D87 .: { C304 , C305 } ) , ( BoolePoset D86 ) by YELLOW_0:17;
L891: { B341 where B341 is (Element of D86) : ( B341 . ( C304 "\/" C305 ) ) = 1 } c= ( { B342 where B342 is (Element of D86) : ( B342 . C304 ) = 1 } \/ { B343 where B343 is (Element of D86) : ( B343 . C305 ) = 1 } )
proof
let C306 being set;
L892: 1 = ( Top ( BoolePoset { ( {} ) } ) ) by CARD_1:49 , YELLOW_1:19;
assume L893: C306 in { B344 where B344 is (Element of D86) : ( B344 . ( C304 "\/" C305 ) ) = 1 };
consider C307 being (Element of D86) such that L894: C307 = C306 and L895: ( C307 . ( C304 "\/" C305 ) ) = 1 by L893;
L896: C307 in D86;
L897: (ex B345 being (Element of C289) st (( chi (( ( downarrow B345 ) ` ) , (the carrier of C289)) ) = C307 & B345 is  prime)) by L896;
reconsider D96 = C307 as (Function of C289 , ( BoolePoset { ( {} ) } )) by L897 , L776;
L898: D96 is  join-preserving by L897 , L782;
L899: D96 preserves_sup_of { C304 , C305 } by L898 , WAYBEL_0:def 35;
L900: ( dom D96 ) = (the carrier of C289) by FUNCT_2:def 1;
L901: ( D96 .: { C304 , C305 } ) = { ( D96 . C304 ) , ( D96 . C305 ) } by L900 , FUNCT_1:60;
L902: ( ex_sup_of { C304 , C305 } , C289 & ( C304 "\/" C305 ) = ( sup { C304 , C305 } )) by YELLOW_0:17 , YELLOW_0:41;
L903: ( ( D96 . C304 ) "\/" ( D96 . C305 ) ) = ( sup { ( D96 . C304 ) , ( D96 . C305 ) } ) by YELLOW_0:41;
L904:
now
assume L905: (( D96 . C304 ) = ( {} ) & ( D96 . C305 ) = ( {} ));
L906: ( ( D96 . C304 ) "\/" ( D96 . C305 ) ) = ( ( {} ) \/ ( {} ) ) by L905 , YELLOW_1:17
.= ( 0 );
thus L907: contradiction by L906 , L895 , L901 , L899 , L902 , L903 , WAYBEL_0:def 31;
end;
L908: (the carrier of ( BoolePoset { ( {} ) } )) = (the carrier of ( InclPoset ( bool { ( {} ) } ) )) by YELLOW_1:4
.= ( bool { ( {} ) } ) by YELLOW_1:1
.= { ( {} ) , { ( {} ) } } by ZFMISC_1:24;
L909: (( D96 . C305 ) = ( {} ) or ( D96 . C305 ) = { ( {} ) }) by L908 , TARSKI:def 2;
L910: (( D96 . C304 ) = ( {} ) or ( D96 . C304 ) = { ( {} ) }) by L908 , TARSKI:def 2;
L911: (( D96 . C304 ) = ( Top ( BoolePoset { ( {} ) } ) ) or ( D96 . C305 ) = ( Top ( BoolePoset { ( {} ) } ) )) by L910 , L909 , L904 , YELLOW_1:19;
L912: (C306 in { B346 where B346 is (Element of D86) : ( B346 . C304 ) = 1 } or C306 in { B347 where B347 is (Element of D86) : ( B347 . C305 ) = 1 }) by L911 , L894 , L892;
thus L913: thesis by L912 , XBOOLE_0:def 3;
end;
L914: ( { B348 where B348 is (Element of D86) : ( B348 . C304 ) = 1 } \/ { B349 where B349 is (Element of D86) : ( B349 . C305 ) = 1 } ) c= { B350 where B350 is (Element of D86) : ( B350 . ( C304 "\/" C305 ) ) = 1 }
proof
let C308 being set;
assume L915: C308 in ( { B351 where B351 is (Element of D86) : ( B351 . C304 ) = 1 } \/ { B352 where B352 is (Element of D86) : ( B352 . C305 ) = 1 } );
per cases  by L915 , XBOOLE_0:def 3;
suppose L916: C308 in { B353 where B353 is (Element of D86) : ( B353 . C304 ) = 1 };

consider C309 being (Element of D86) such that L917: C309 = C308 and L918: ( C309 . C304 ) = 1 by L916;
L919: C309 in D86;
consider C310 being (Element of C289) such that L920: ( chi (( ( downarrow C310 ) ` ) , (the carrier of C289)) ) = C309 and L921: C310 is  prime by L919;
reconsider D97 = C309 as (Function of C289 , ( BoolePoset { ( {} ) } )) by L920 , L776;
L922: (for B354 being (Element of C289) holds (( D97 . B354 ) = ( {} ) iff B354 <= C310)) by L920 , L779;
L923: D97 is  join-preserving by L922 , L921 , L631;
L924: D97 preserves_sup_of { C304 , C305 } by L923 , WAYBEL_0:def 35;
L925: ( dom D97 ) = (the carrier of C289) by FUNCT_2:def 1;
L926: { ( D97 . C304 ) , ( D97 . C305 ) } = ( D97 .: { C304 , C305 } ) by L925 , FUNCT_1:60;
L927: (1 = ( Top ( BoolePoset { ( {} ) } ) ) & ( D97 . C305 ) <= ( Top ( BoolePoset { ( {} ) } ) )) by CARD_1:49 , YELLOW_0:45 , YELLOW_1:19;
L928: ( ex_sup_of { C304 , C305 } , C289 & ( C304 "\/" C305 ) = ( sup { C304 , C305 } )) by YELLOW_0:17 , YELLOW_0:41;
L929: ( ( D97 . C304 ) "\/" ( D97 . C305 ) ) = ( sup { ( D97 . C304 ) , ( D97 . C305 ) } ) by YELLOW_0:41;
L930: ( D97 . ( C304 "\/" C305 ) ) = ( ( D97 . C304 ) "\/" ( D97 . C305 ) ) by L929 , L926 , L924 , L928 , WAYBEL_0:def 31
.= 1 by L918 , L927 , YELLOW_0:24;
thus L931: thesis by L930 , L917;
end;
suppose L932: C308 in { B355 where B355 is (Element of D86) : ( B355 . C305 ) = 1 };

consider C311 being (Element of D86) such that L933: C311 = C308 and L934: ( C311 . C305 ) = 1 by L932;
L935: C311 in D86;
consider C312 being (Element of C289) such that L936: ( chi (( ( downarrow C312 ) ` ) , (the carrier of C289)) ) = C311 and L937: C312 is  prime by L935;
reconsider D98 = C311 as (Function of C289 , ( BoolePoset { ( {} ) } )) by L936 , L776;
L938: (for B356 being (Element of C289) holds (( D98 . B356 ) = ( {} ) iff B356 <= C312)) by L936 , L779;
L939: D98 is  join-preserving by L938 , L937 , L631;
L940: D98 preserves_sup_of { C304 , C305 } by L939 , WAYBEL_0:def 35;
L941: ( dom D98 ) = (the carrier of C289) by FUNCT_2:def 1;
L942: { ( D98 . C304 ) , ( D98 . C305 ) } = ( D98 .: { C304 , C305 } ) by L941 , FUNCT_1:60;
L943: (1 = ( Top ( BoolePoset { ( {} ) } ) ) & ( D98 . C304 ) <= ( Top ( BoolePoset { ( {} ) } ) )) by CARD_1:49 , YELLOW_0:45 , YELLOW_1:19;
L944: ( ex_sup_of { C304 , C305 } , C289 & ( C304 "\/" C305 ) = ( sup { C304 , C305 } )) by YELLOW_0:17 , YELLOW_0:41;
L945: ( ( D98 . C304 ) "\/" ( D98 . C305 ) ) = ( sup { ( D98 . C304 ) , ( D98 . C305 ) } ) by YELLOW_0:41;
L946: ( D98 . ( C304 "\/" C305 ) ) = ( ( D98 . C305 ) "\/" ( D98 . C304 ) ) by L945 , L942 , L940 , L944 , WAYBEL_0:def 31
.= 1 by L934 , L943 , YELLOW_0:24;
thus L947: thesis by L946 , L933;
end;
end;
L949: ( D87 .: { C304 , C305 } ) = { ( D87 . C304 ) , ( D87 . C305 ) } by L792 , FUNCT_1:60;
thus L950: ( sup ( D87 .: { C304 , C305 } ) ) = ( ( D87 . C304 ) "\/" ( D87 . C305 ) ) by L949 , YELLOW_0:41
.= ( ( D87 . C304 ) \/ ( D87 . C305 ) ) by YELLOW_1:17
.= ( { B357 where B357 is (Element of D86) : ( B357 . C304 ) = 1 } \/ ( D87 . C305 ) ) by L793
.= ( { B358 where B358 is (Element of D86) : ( B358 . C304 ) = 1 } \/ { B359 where B359 is (Element of D86) : ( B359 . C305 ) = 1 } ) by L793
.= { B360 where B360 is (Element of D86) : ( B360 . ( C304 "\/" C305 ) ) = 1 } by L914 , L891 , XBOOLE_0:def 10
.= ( D87 . ( C304 "\/" C305 ) ) by L793
.= ( D87 . ( sup { C304 , C305 } ) ) by YELLOW_0:41;
end;
thus L951: C289 is  distributive by L888 , L804 , L850 , L59;
L952: D87 is  sups-preserving
proof
let C313 being (Subset of C289);
L953: D87 preserves_sup_of C313
proof
assume L954:  ex_sup_of C313 , C289;
thus L955:  ex_sup_of ( D87 .: C313 ) , ( BoolePoset D86 ) by YELLOW_0:17;
L956: ( D87 . ( sup C313 ) ) = { B361 where B361 is (Element of D86) : ( B361 . ( sup C313 ) ) = 1 } by L793;
L957: ( sup ( D87 .: C313 ) ) c= ( D87 . ( sup C313 ) )
proof
let C314 being set;
assume L958: C314 in ( sup ( D87 .: C313 ) );
L959: C314 in ( union ( D87 .: C313 ) ) by L958 , YELLOW_1:21;
consider C315 being set such that L960: C314 in C315 and L961: C315 in ( D87 .: C313 ) by L959 , TARSKI:def 4;
consider C316 being set such that L962: C316 in ( dom D87 ) and L963: C316 in C313 and L964: C315 = ( D87 . C316 ) by L961 , FUNCT_1:def 6;
reconsider D99 = C316 as (Element of C289) by L962;
L965: ( D87 . D99 ) = { B362 where B362 is (Element of D86) : ( B362 . D99 ) = 1 } by L793;
consider C317 being (Element of D86) such that L966: C314 = C317 and L967: ( C317 . D99 ) = 1 by L965 , L960 , L964;
L968: C317 in D86;
consider C318 being (Element of C289) such that L969: C317 = ( chi (( ( downarrow C318 ) ` ) , (the carrier of C289)) ) and L970: C318 is  prime by L968;
L971:
now
L972: ( sup C313 ) is_>=_than C313 by YELLOW_0:32;
L973: D99 <= ( sup C313 ) by L972 , L963 , LATTICE3:def 9;
assume L974: ( C317 . ( sup C313 ) ) = ( 0 );
L975: ( sup C313 ) <= C318 by L974 , L969 , L779;
L976: D99 <= C318 by L975 , L973 , ORDERS_2:3;
thus L977: contradiction by L976 , L967 , L969 , L779;
end;
L978: ( dom C317 ) = (the carrier of C289) by L969 , FUNCT_2:def 1;
L979: ( C317 . ( sup C313 ) ) in ( rng C317 ) by L978 , FUNCT_1:def 3;
L980: ( rng C317 ) c= { ( 0 ) , 1 } by L969 , RELAT_1:def 19;
L981: (( C317 . ( sup C313 ) ) = ( 0 ) or ( C317 . ( sup C313 ) ) = 1) by L980 , L979 , TARSKI:def 2;
thus L982: thesis by L981 , L956 , L966 , L971;
end;
L983: ( D87 . ( sup C313 ) ) c= ( sup ( D87 .: C313 ) )
proof
let C319 being set;
assume L984: C319 in ( D87 . ( sup C313 ) );
consider C320 being (Element of D86) such that L985: C319 = C320 and L986: ( C320 . ( sup C313 ) ) = 1 by L984 , L956;
L987: C320 in D86;
consider C321 being (Element of C289) such that L988: C320 = ( chi (( ( downarrow C321 ) ` ) , (the carrier of C289)) ) and L989: C321 is  prime by L987;
L990: ( rng C320 ) c= { ( 0 ) , 1 } by L988 , RELAT_1:def 19;
L991: (not ( sup C313 ) <= C321) by L986 , L988 , L779;
L992:
now
assume L993: (for B363 being (Element of C289) holds (B363 in C313 implies B363 <= C321));
L994: C313 is_<=_than C321 by L993 , LATTICE3:def 9;
thus L995: contradiction by L994 , L991 , YELLOW_0:32;
end;
consider C322 being (Element of C289) such that L996: C322 in C313 and L997: (not C322 <= C321) by L992;
L998: ( dom C320 ) = (the carrier of C289) by L988 , FUNCT_2:def 1;
L999: ( C320 . C322 ) in ( rng C320 ) by L998 , FUNCT_1:def 3;
L1000: (( C320 . C322 ) = ( 0 ) or ( C320 . C322 ) = 1) by L999 , L990 , TARSKI:def 2;
L1001: C320 in { B364 where B364 is (Element of D86) : ( B364 . C322 ) = 1 } by L1000 , L988 , L997 , L779;
L1002: C320 in ( D87 . C322 ) by L1001 , L793;
L1003: ( D87 . C322 ) in ( D87 .: C313 ) by L792 , L996 , FUNCT_1:def 6;
L1004: C319 in ( union ( D87 .: C313 ) ) by L1003 , L985 , L1002 , TARSKI:def 4;
thus L1005: thesis by L1004 , YELLOW_1:21;
end;
thus L1006: thesis by L983 , L957 , XBOOLE_0:def 10;
end;
thus L1007: thesis by L953;
end;
thus L1008: thesis by L952 , L804 , L850 , L97;
end;
theorem
L1009: (for B365 being  lower-bounded  continuous LATTICE holds (B365 is  distributive iff ( PRIME B365 ) is  order-generating))
proof
let C323 being  lower-bounded  continuous LATTICE;
thus L1010: (C323 is  distributive implies ( PRIME C323 ) is  order-generating)
proof
assume L1011: C323 is  distributive;
L1012: ( PRIME C323 ) = ( IRR C323 ) by L1011 , L726;
L1013: ( ( IRR C323 ) \ { ( Top C323 ) } ) c= ( IRR C323 ) by XBOOLE_1:36;
thus L1014: thesis by L1013 , L1012 , L542 , L553;
end;

thus L1015: thesis by L786;
end;
theorem
L1016: (for B366 being  lower-bounded  continuous LATTICE holds (B366 is  distributive iff B366 is  Heyting))
proof
let C324 being  lower-bounded  continuous LATTICE;
thus L1017: (C324 is  distributive implies C324 is  Heyting)
proof
assume L1018: C324 is  distributive;
L1019: ( PRIME C324 ) is  order-generating by L1018 , L1009;
L1020: C324 is  distributive  meet-continuous by L1019 , L786;
thus L1021: thesis by L1020;
end;

thus L1022: thesis;
end;
theorem
L1023: (for B367 being  continuous  complete LATTICE holds ((for B368 being (Element of B367) holds (ex B369 being (Subset of B367) st (B368 = ( sup B369 ) & (for B370 being (Element of B367) holds (B370 in B369 implies B370 is  co-prime))))) implies (for B371 being (Element of B367) holds B371 = ( "\/" (( ( waybelow B371 ) /\ ( PRIME ( B367 opp ) ) ) , B367) ))))
proof
let C325 being  continuous  complete LATTICE;
defpred S9[ set , set ] means ($2 c= ( PRIME ( C325 ~ ) ) & $1 = ( "\/" ($2 , C325) ));
assume L1024: (for B372 being (Element of C325) holds (ex B373 being (Subset of C325) st (B372 = ( sup B373 ) & (for B374 being (Element of C325) holds (B374 in B373 implies B374 is  co-prime)))));
L1025: (for B375 being set holds (B375 in (the carrier of C325) implies (ex B376 being set st S9[ B375 , B376 ])))
proof
let C326 being set;
assume L1026: C326 in (the carrier of C325);
reconsider D100 = C326 as (Element of C325) by L1026;
consider C327 being (Subset of C325) such that L1027: D100 = ( sup C327 ) and L1028: (for B377 being (Element of C325) holds (B377 in C327 implies B377 is  co-prime)) by L1024;
L1029:
now
let C328 being set;
assume L1030: C328 in C327;
reconsider D101 = C328 as (Element of C325) by L1030;
L1031: D101 is  co-prime by L1028 , L1030;
L1032: ( D101 ~ ) is  prime by L1031 , L578;
thus L1033: C328 in ( PRIME ( C325 ~ ) ) by L1032 , L567;
end;
L1034: C327 c= ( PRIME ( C325 ~ ) ) by L1029 , TARSKI:def 3;
thus L1035: thesis by L1034 , L1027;
end;
consider C329 being Function such that L1036: ( dom C329 ) = (the carrier of C325) and L1037: (for B378 being set holds (B378 in (the carrier of C325) implies S9[ B378 , ( C329 . B378 ) ])) from CLASSES1:sch 1(L1025);
let C330 being (Element of C325);
L1038:  ex_sup_of ( ( waybelow C330 ) /\ ( PRIME ( C325 ~ ) ) ) , C325 by YELLOW_0:17;
L1039: ( waybelow C330 ) c= { ( sup B379 ) where B379 is (Subset of C325) : (B379 in ( rng C329 ) & ( sup B379 ) in ( waybelow C330 )) }
proof
let C331 being set;
assume L1040: C331 in ( waybelow C330 );
L1041: ( C329 . C331 ) c= ( PRIME ( C325 ~ ) ) by L1040 , L1037;
L1042: ( C329 . C331 ) c= (the carrier of ( C325 ~ )) by L1041 , XBOOLE_1:1;
L1043: (C331 = ( "\/" (( C329 . C331 ) , C325) ) & ( C329 . C331 ) in ( rng C329 )) by L1036 , L1037 , L1040 , FUNCT_1:def 3;
thus L1044: thesis by L1043 , L1040 , L1042;
end;
defpred S10[ (Subset of C325) ] means ($1 in ( rng C329 ) & ( sup $1 ) in ( waybelow C330 ));
L1045: C330 = ( sup ( waybelow C330 ) ) by WAYBEL_3:def 5;
set D102 = ( union { B380 where B380 is (Subset of C325) : (B380 in ( rng C329 ) & ( sup B380 ) in ( waybelow C330 )) } );
L1046: D102 c= ( ( waybelow C330 ) /\ ( PRIME ( C325 ~ ) ) )
proof
let C332 being set;
assume L1047: C332 in D102;
consider C333 being set such that L1048: C332 in C333 and L1049: C333 in { B381 where B381 is (Subset of C325) : (B381 in ( rng C329 ) & ( sup B381 ) in ( waybelow C330 )) } by L1047 , TARSKI:def 4;
consider C334 being (Subset of C325) such that L1050: C333 = C334 and L1051: C334 in ( rng C329 ) and L1052: ( sup C334 ) in ( waybelow C330 ) by L1049;
reconsider D103 = C332 as (Element of C325) by L1048 , L1050;
L1053: D103 <= ( sup C334 ) by L1048 , L1050 , YELLOW_2:22;
L1054: C332 in ( waybelow C330 ) by L1053 , L1052 , WAYBEL_0:def 19;
L1055: (ex B382 being set st (B382 in ( dom C329 ) & C334 = ( C329 . B382 ))) by L1051 , FUNCT_1:def 3;
L1056: C334 c= ( PRIME ( C325 ~ ) ) by L1055 , L1036 , L1037;
thus L1057: thesis by L1056 , L1048 , L1050 , L1054 , XBOOLE_0:def 4;
end;
L1058:  ex_sup_of D102 , C325 by YELLOW_0:17;
L1059:  ex_sup_of ( waybelow C330 ) , C325 by YELLOW_0:17;
L1060: ( "\/" (( ( waybelow C330 ) /\ ( PRIME ( C325 ~ ) ) ) , C325) ) <= ( "\/" (( waybelow C330 ) , C325) ) by L1059 , L1038 , XBOOLE_1:17 , YELLOW_0:34;
L1061: { ( sup B383 ) where B383 is (Subset of C325) : S10[ B383 ] } c= ( waybelow C330 )
proof
let C335 being set;
assume L1062: C335 in { ( sup B384 ) where B384 is (Subset of C325) : (B384 in ( rng C329 ) & ( sup B384 ) in ( waybelow C330 )) };
L1063: (ex B385 being (Subset of C325) st (C335 = ( sup B385 ) & B385 in ( rng C329 ) & ( sup B385 ) in ( waybelow C330 ))) by L1062;
thus L1064: thesis by L1063;
end;
L1065: C330 = ( "\/" ({ ( sup B386 ) where B386 is (Subset of C325) : S10[ B386 ] } , C325) ) by L1061 , L1045 , L1039 , XBOOLE_0:def 10
.= ( "\/" (( union { B387 where B387 is (Subset of C325) : S10[ B387 ] } ) , C325) ) from YELLOW_3:sch 5;
L1066: C330 <= ( "\/" (( ( waybelow C330 ) /\ ( PRIME ( C325 ~ ) ) ) , C325) ) by L1065 , L1058 , L1038 , L1046 , YELLOW_0:34;
thus L1067: thesis by L1066 , L1045 , L1060 , ORDERS_2:2;
end;
L1068: (for B388 being  continuous  complete LATTICE holds ((for B389 being (Element of B388) holds (ex B390 being (Subset of B388) st (B389 = ( sup B390 ) & (for B391 being (Element of B388) holds (B391 in B390 implies B391 is  co-prime))))) implies B388 is  completely-distributive))
proof
let C336 being  continuous  complete LATTICE;
assume that
L1069: (for B392 being (Element of C336) holds (ex B393 being (Subset of C336) st (B392 = ( sup B393 ) & (for B394 being (Element of C336) holds (B394 in B393 implies B394 is  co-prime)))));
thus L1070: C336 is  complete;
let C337 being non  empty set;
let C338 being  non-empty (ManySortedSet of C337);
let C339 being (DoubleIndexedSet of C338 , C336);
set D104 = ( Inf ( Sups C339 ) );
set D105 = ( ( waybelow D104 ) /\ ( PRIME ( C336 ~ ) ) );
L1071: D105 c= ( waybelow D104 ) by XBOOLE_1:17;
reconsider D106 = D105 as (Subset of C336);
L1072: ( dom C339 ) = C337 by PARTFUN1:def 2;
L1073: (for B395 being (Element of C336) holds (B395 in D106 implies B395 is  co-prime))
proof
let C340 being (Element of C336);
assume L1074: C340 in D106;
L1075: C340 in ( PRIME ( C336 ~ ) ) by L1074 , XBOOLE_0:def 4;
L1076: ( C340 ~ ) is  prime by L1075 , L567;
thus L1077: thesis by L1076 , L578;
end;
L1078: ( inf ( rng ( Sups C339 ) ) ) = ( Inf ( Sups C339 ) ) by YELLOW_2:def 6;
L1079: D106 is_<=_than ( Sup ( Infs ( Frege C339 ) ) )
proof
let C341 being (Element of C336);
defpred S11[ set , set ] means ($2 in ( C338 . $1 ) & [ C341 , ( ( C339 . $1 ) . $2 ) ] in (the InternalRel of C336));
assume L1080: C341 in D106;
L1081: (for B396 being set holds (B396 in C337 implies (ex B397 being set st S11[ B396 , B397 ])))
proof
let C342 being set;
assume L1082: C342 in C337;
reconsider D107 = C342 as (Element of C337) by L1082;
set D108 = the (Element of ( C338 . D107 ));
L1083: ( dom ( Sups C339 ) ) = C337 by L1072 , FUNCT_2:def 1;
L1084: ( ( Sups C339 ) . D107 ) in ( rng ( Sups C339 ) ) by L1083 , FUNCT_1:def 3;
L1085: (C341 << D104 & ( Sup ( C339 . D107 ) ) = ( sup ( rng ( C339 . D107 ) ) )) by L1071 , L1080 , WAYBEL_3:7 , YELLOW_2:def 5;
L1086: ( Sup ( C339 . D107 ) ) = ( ( Sups C339 ) . D107 ) by L1072 , WAYBEL_5:def 1;
L1087: D104 <= ( Sup ( C339 . D107 ) ) by L1086 , L1078 , L1084 , YELLOW_2:22;
consider C343 being  finite (Subset of C336) such that L1088: C343 c= ( rng ( C339 . D107 ) ) and L1089: C341 <= ( sup C343 ) by L1087 , L1085 , WAYBEL_3:18;
L1090: ( ex_sup_of C343 , C336 &  ex_sup_of ( C343 \/ { ( ( C339 . D107 ) . D108 ) } ) , C336) by YELLOW_0:17;
L1091: ( sup C343 ) <= ( sup ( C343 \/ { ( ( C339 . D107 ) . D108 ) } ) ) by L1090 , XBOOLE_1:7 , YELLOW_0:34;
L1092: C341 <= ( sup ( C343 \/ { ( ( C339 . D107 ) . D108 ) } ) ) by L1091 , L1089 , ORDERS_2:3;
L1093: C341 is  co-prime by L1073 , L1080;
consider C344 being (Element of C336) such that L1094: C344 in ( C343 \/ { ( ( C339 . D107 ) . D108 ) } ) and L1095: C341 <= C344 by L1093 , L1092 , L605;
per cases  by L1094 , XBOOLE_0:def 3;
suppose L1096: C344 in C343;

consider C345 being set such that L1097: C345 in ( dom ( C339 . D107 ) ) and L1098: C344 = ( ( C339 . D107 ) . C345 ) by L1096 , L1088 , FUNCT_1:def 3;
reconsider D109 = C345 as (Element of ( C338 . D107 )) by L1097;
L1099: [ C341 , ( ( C339 . D107 ) . D109 ) ] in (the InternalRel of C336) by L1095 , L1098 , ORDERS_2:def 5;
thus L1100: thesis by L1099;
end;
suppose L1101: C344 in { ( ( C339 . D107 ) . D108 ) };

L1102: C344 = ( ( C339 . D107 ) . D108 ) by L1101 , TARSKI:def 1;
L1103: [ C341 , ( ( C339 . D107 ) . D108 ) ] in (the InternalRel of C336) by L1102 , L1095 , ORDERS_2:def 5;
thus L1104: thesis by L1103;
end;
end;
consider C346 being Function such that L1106: ( dom C346 ) = C337 and L1107: (for B398 being set holds (B398 in C337 implies S11[ B398 , ( C346 . B398 ) ])) from CLASSES1:sch 1(L1081);
L1108:
now
let C347 being set;
assume L1109: C347 in ( dom ( doms C339 ) );
L1110: C347 in ( C339 " ( SubFuncs ( rng C339 ) ) ) by L1109 , FUNCT_6:def 2;
thus L1111: C347 in ( dom C346 ) by L1110 , L1072 , L1106 , FUNCT_6:19;
end;
L1112: ( dom ( doms C339 ) ) c= ( dom C346 ) by L1108 , TARSKI:def 3;
L1113:
now
let C348 being set;
L1114: ( C339 . C348 ) is Function;
assume L1115: C348 in ( dom C346 );
L1116: C348 in ( C339 " ( SubFuncs ( rng C339 ) ) ) by L1115 , L1072 , L1106 , L1114 , FUNCT_6:19;
thus L1117: C348 in ( dom ( doms C339 ) ) by L1116 , FUNCT_6:def 2;
end;
L1118: ( dom C346 ) c= ( dom ( doms C339 ) ) by L1113 , TARSKI:def 3;
L1119: ( dom C346 ) = ( dom ( doms C339 ) ) by L1118 , L1112 , XBOOLE_0:def 10;
L1120: (for B399 being set holds (B399 in ( dom ( doms C339 ) ) implies ( C346 . B399 ) in ( ( doms C339 ) . B399 )))
proof
let C349 being set;
assume L1121: C349 in ( dom ( doms C339 ) );
L1122: ( C339 . C349 ) is (Function of ( C338 . C349 ) , (the carrier of C336)) by L1121 , L1106 , L1112 , WAYBEL_5:6;
L1123: ( ( doms C339 ) . C349 ) = ( dom ( C339 . C349 ) ) by L1072 , L1106 , L1112 , L1121 , FUNCT_6:22
.= ( C338 . C349 ) by L1122 , FUNCT_2:def 1;
thus L1124: thesis by L1123 , L1106 , L1107 , L1112 , L1121;
end;
reconsider D110 = ( product ( doms C339 ) ) as non  empty set by L1120 , L1119 , CARD_3:9;
reconsider D111 = C346 as (Element of ( product ( doms C339 ) )) by L1119 , L1120 , CARD_3:9;
L1125: C346 in ( product ( doms C339 ) ) by L1119 , L1120 , CARD_3:9;
L1126: C341 is_<=_than ( rng ( ( Frege C339 ) . D111 ) )
proof
let C350 being (Element of C336);
assume L1127: C350 in ( rng ( ( Frege C339 ) . D111 ) );
consider C351 being set such that L1128: C351 in ( dom ( ( Frege C339 ) . D111 ) ) and L1129: C350 = ( ( ( Frege C339 ) . D111 ) . C351 ) by L1127 , FUNCT_1:def 3;
reconsider D112 = C351 as (Element of C337) by L1128;
L1130: D111 in ( dom ( Frege C339 ) ) by L1125 , PARTFUN1:def 2;
L1131: ( ( ( Frege C339 ) . D111 ) . D112 ) = ( ( C339 . D112 ) . ( C346 . D112 ) ) by L1130 , L1072 , WAYBEL_5:9;
L1132: [ C341 , ( ( ( Frege C339 ) . D111 ) . D112 ) ] in (the InternalRel of C336) by L1131 , L1107;
thus L1133: C341 <= C350 by L1132 , L1129 , ORDERS_2:def 5;
end;
L1134: C341 <= ( inf ( rng ( ( Frege C339 ) . D111 ) ) ) by L1126 , YELLOW_0:33;
L1135: C341 <= ( Inf ( ( Frege C339 ) . D111 ) ) by L1134 , YELLOW_2:def 6;
reconsider D113 = ( D110 --> C337 ) as (ManySortedSet of D110);
reconsider D114 = ( Frege C339 ) as (DoubleIndexedSet of D113 , C336);
reconsider D115 = D111 as (Element of D110);
L1136: ( Inf ( D114 . D115 ) ) in ( rng ( Infs D114 ) ) by WAYBEL_5:14;
L1137: ( Inf ( ( Frege C339 ) . D111 ) ) <= ( sup ( rng ( Infs ( Frege C339 ) ) ) ) by L1136 , YELLOW_2:22;
L1138: ( Inf ( ( Frege C339 ) . D111 ) ) <= ( Sup ( Infs ( Frege C339 ) ) ) by L1137 , YELLOW_2:def 5;
thus L1139: thesis by L1138 , L1135 , ORDERS_2:3;
end;
L1140: ( sup D106 ) <= ( Sup ( Infs ( Frege C339 ) ) ) by L1079 , YELLOW_0:32;
L1141: (( Inf ( Sups C339 ) ) >= ( Sup ( Infs ( Frege C339 ) ) ) & ( Inf ( Sups C339 ) ) = ( sup D106 )) by L1069 , L1023 , WAYBEL_5:16;
thus L1142: thesis by L1141 , L1140 , ORDERS_2:2;
end;
L1143: (for B400 being  completely-distributive  complete LATTICE holds (B400 is  distributive  continuous & ( B400 ~ ) is  continuous))
proof
let C352 being  completely-distributive  complete LATTICE;
L1144: ( C352 ~ ) is  completely-distributive by YELLOW_7:51;
thus L1145: thesis by L1144;
end;
L1146: (for B401 being  complete LATTICE holds ((B401 is  distributive  continuous & ( B401 ~ ) is  continuous) implies (for B402 being (Element of B401) holds (ex B403 being (Subset of B401) st (B402 = ( sup B403 ) & (for B404 being (Element of B401) holds (B404 in B403 implies B404 is  co-prime)))))))
proof
let C353 being  complete LATTICE;
assume that
L1147: C353 is  distributive  continuous
and
L1148: ( C353 ~ ) is  continuous;
let C354 being (Element of C353);
reconsider D116 = C353 as  distributive  continuous  complete LATTICE by L1147;
reconsider D117 = C354 as (Element of ( D116 ~ ));
L1149: ( PRIME ( D116 ~ ) ) is  order-generating by L1148 , L1009;
consider C355 being (Subset of ( PRIME ( D116 ~ ) )) such that L1150: D117 = ( "/\" (C355 , ( D116 ~ )) ) by L1149 , L508;
reconsider D118 = C355 as (Subset of D116) by XBOOLE_1:1;
L1151: (for B405 being (Element of D116) holds (B405 in D118 implies B405 is  co-prime))
proof
let C356 being (Element of D116);
assume L1152: C356 in D118;
L1153: ( C356 ~ ) is  prime by L1152 , L567;
thus L1154: thesis by L1153 , L578;
end;
L1155:  ex_sup_of D118 , D116 by YELLOW_0:17;
L1156: ( "\/" (D118 , D116) ) = ( "/\" (D118 , ( D116 ~ )) ) by L1155 , YELLOW_7:12;
thus L1157: thesis by L1156 , L1150 , L1151;
end;
theorem
L1158: (for B406 being  complete LATTICE holds (B406 is  completely-distributive iff (B406 is  continuous & (for B407 being (Element of B406) holds (ex B408 being (Subset of B406) st (B407 = ( sup B408 ) & (for B409 being (Element of B406) holds (B409 in B408 implies B409 is  co-prime))))))))
proof
let C357 being  complete LATTICE;
thus L1159: (C357 is  completely-distributive implies (C357 is  continuous & (for B410 being (Element of C357) holds (ex B411 being (Subset of C357) st (B410 = ( sup B411 ) & (for B412 being (Element of C357) holds (B412 in B411 implies B412 is  co-prime)))))))
proof
assume L1160: C357 is  completely-distributive;
reconsider D119 = C357 as  completely-distributive LATTICE by L1160;
L1161: ( D119 ~ ) is  continuous by L1143;
thus L1162: thesis by L1161 , L1146;
end;

thus L1163: thesis by L1068;
end;
theorem
L1164: (for B413 being  complete LATTICE holds (B413 is  completely-distributive iff (B413 is  distributive  continuous & ( B413 opp ) is  continuous)))
proof
let C358 being  complete LATTICE;
thus L1165: (C358 is  completely-distributive implies (C358 is  distributive  continuous & ( C358 ~ ) is  continuous)) by L1143;
assume that
L1166: C358 is  distributive  continuous
and
L1167: ( C358 ~ ) is  continuous;
reconsider D120 = C358 as  distributive  continuous LATTICE by L1166;
L1168: (for B414 being (Element of D120) holds (ex B415 being (Subset of D120) st (B414 = ( sup B415 ) & (for B416 being (Element of D120) holds (B416 in B415 implies B416 is  co-prime))))) by L1167 , L1146;
thus L1169: thesis by L1168 , L1068;
end;
