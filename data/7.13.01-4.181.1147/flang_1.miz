:: Formal Languages -- Concatenation and Closure
::  by Micha{\l} Trybulec
::
:: Received March 9, 2007
:: Copyright (c) 2007-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, SUBSET_1, AFINSQ_1, NAT_1, ORDINAL4, XBOOLE_0, TARSKI,
      RELAT_1, FUNCT_1, ZFMISC_1, XXREAL_0, ARYTM_3, CARD_1, FINSEQ_1,
      PRE_POLY, NEWTON, SETFAM_1, FLANG_1;
 notations TARSKI, XBOOLE_0, SUBSET_1, NUMBERS, XCMPLX_0, ORDINAL1, FUNCT_1,
      RELSET_1, FUNCT_2, SETFAM_1, XXREAL_0, AFINSQ_1, CATALAN2;
 constructors XREAL_0, NAT_1, CATALAN2, RELSET_1;
 registrations XBOOLE_0, SUBSET_1, RELAT_1, ORDINAL1, XXREAL_0, XREAL_0, NAT_1,
      AFINSQ_1, CATALAN2, FUNCT_1, RELSET_1, FINSET_1;
 requirements NUMERALS, REAL, BOOLE, SUBSET, ARITHM;
 definitions TARSKI;
 theorems AFINSQ_1, NAT_1, ORDINAL1, SUBSET_1, TARSKI, XBOOLE_0, XBOOLE_1,
      XREAL_1, ZFMISC_1, XXREAL_0, FUNCT_2, RELAT_1;
 schemes CARD_FIL, DOMAIN_1, NAT_1, RECDEF_1, SUBSET_1;

begin
definition
let R1 being set;
let R9 being (Element of ( R1 ^omega ));
let R12 being (Element of ( R1 ^omega ));
redefine func R9 ^ R12 -> (Element of ( R1 ^omega ));

coherence by AFINSQ_1:def 7;
end;
definition
let R1 being set;
redefine func <%> R1 -> (Element of ( R1 ^omega ));

coherence by AFINSQ_1:def 7;
end;
definition
let C1 being non  empty set;
let C2 being (Element of C1);
redefine func <%C2 %> -> (Element of ( C1 ^omega ));

coherence by AFINSQ_1:def 7;
end;
definition
let R1 being set;
let R9 being (Element of ( R1 ^omega ));
redefine func {R9 } -> (Subset of ( R1 ^omega ));

coherence by SUBSET_1:33;
end;
definition
let R1 being set;
let C3 being (Function of ( NAT ) , ( bool R1 ));
let R24 being Nat;
redefine func C3 . R24 -> (Subset of R1);

coherence
proof
L5: R24 is (Element of ( NAT )) by ORDINAL1:def 12;
L6: ( C3 . R24 ) in ( rng C3 ) by L5 , FUNCT_2:112;
thus L7: thesis by L6;
end;
end;
theorem
L9: (for R24 being Nat holds (for R25 being Nat holds (for R26 being Nat holds ((R25 > R24 or R26 > R24) implies ( R25 + R26 ) > R24))))
proof
let R24 being Nat;
let R25 being Nat;
let R26 being Nat;
L10: ((R25 > R24 & R26 >= ( 0 )) implies ( R25 + R26 ) > ( R24 + ( 0 ) )) by XREAL_1:8;
L11: ((R25 >= ( 0 ) & R26 > R24) implies ( R25 + R26 ) > ( R24 + ( 0 ) )) by XREAL_1:8;
assume L12: (R25 > R24 or R26 > R24);
thus L13: thesis by L12 , L10 , L11;
end;
theorem
L14: (for R24 being Nat holds (for R25 being Nat holds (for R26 being Nat holds ((( R25 + R24 ) <= ( R26 + 1 ) & R24 > ( 0 )) implies R25 <= R26))))
proof
let R24 being Nat;
let R25 being Nat;
let R26 being Nat;
assume that
L15: ( R25 + R24 ) <= ( R26 + 1 )
and
L16: R24 > ( 0 );
L17: ( 1 + ( 0 ) ) <= R24 by L16 , NAT_1:13;
thus L18: thesis by L17 , L15 , XREAL_1:8;
end;
theorem
L19: (for R25 being Nat holds (for R26 being Nat holds (( R25 + R26 ) = 1 iff ((R25 = 1 & R26 = ( 0 )) or (R25 = ( 0 ) & R26 = 1)))))
proof
let R25 being Nat;
let R26 being Nat;
thus L20: (( R25 + R26 ) = 1 implies ((R25 = 1 & R26 = ( 0 )) or (R25 = ( 0 ) & R26 = 1)))
proof
assume L21: ( R25 + R26 ) = 1;
L22:
now
L23: ((R25 = ( 0 ) & R26 = ( 0 )) implies contradiction) by L21;
assume L24: (R25 <= 1 & R26 <= 1);
L25: ((R25 = 1 & R26 = 1) implies contradiction) by L21;
thus L26: thesis by L25 , L24 , L23 , NAT_1:25;
end;
thus L27: thesis by L22 , L21 , L9;
end;

thus L28: thesis;
end;
theorem
L29: (for R1 being set holds (for R2 being set holds (for R9 being (Element of ( R1 ^omega )) holds (for R12 being (Element of ( R1 ^omega )) holds (( R9 ^ R12 ) = <% R2 %> iff ((R9 = ( <%> R1 ) & R12 = <% R2 %>) or (R12 = ( <%> R1 ) & R9 = <% R2 %>)))))))
proof
let R1 being set;
let R2 being set;
let R9 being (Element of ( R1 ^omega ));
let R12 being (Element of ( R1 ^omega ));
L30: (( ( {} ) ^ R12 ) = R12 & ( R9 ^ ( {} ) ) = R9);
thus L31: (( R9 ^ R12 ) = <% R2 %> implies ((R9 = ( <%> R1 ) & R12 = <% R2 %>) or (R12 = ( <%> R1 ) & R9 = <% R2 %>)))
proof
assume L32: ( R9 ^ R12 ) = <% R2 %>;
L33: ( len ( R9 ^ R12 ) ) = 1 by L32 , AFINSQ_1:34;
L34: ( ( len R9 ) + ( len R12 ) ) = 1 by L33 , AFINSQ_1:17;
L35: ((( len R9 ) = 1 & R12 = ( <%> R1 )) or (R9 = ( <%> R1 ) & ( len R12 ) = 1)) by L34 , L19;
thus L36: thesis by L35 , L32 , L30;
end;

assume L37: ((R9 = ( <%> R1 ) & R12 = <% R2 %>) or (R12 = ( <%> R1 ) & R9 = <% R2 %>));
thus L38: thesis by L37 , L30;
end;
theorem
L39: (for R1 being set holds (for R9 being (Element of ( R1 ^omega )) holds (for B1 , B2 being XFinSequence holds (R9 = ( B1 ^ B2 ) implies (B1 is (Element of ( R1 ^omega )) & B2 is (Element of ( R1 ^omega )))))))
proof
let R1 being set;
let R9 being (Element of ( R1 ^omega ));
let C4 , C5 being XFinSequence;
assume L40: R9 = ( C4 ^ C5 );
L41: (C4 is (XFinSequence of R1) & C5 is (XFinSequence of R1)) by L40 , AFINSQ_1:31;
thus L42: thesis by L41 , AFINSQ_1:def 7;
end;
theorem
L43: (for R1 being set holds (for R2 being set holds (<% R2 %> is (Element of ( R1 ^omega )) implies R2 in R1)))
proof
let R1 being set;
let R2 being set;
assume L44: <% R2 %> is (Element of ( R1 ^omega ));
L45: ( rng <% R2 %> ) c= R1 by L44 , RELAT_1:def 19;
L46: { R2 } c= R1 by L45 , AFINSQ_1:33;
thus L47: thesis by L46 , ZFMISC_1:31;
end;
theorem
L48: (for R1 being set holds (for R12 being (Element of ( R1 ^omega )) holds (for R24 being Nat holds (( len R12 ) = ( R24 + 1 ) implies (ex R13 being (Element of ( R1 ^omega )) st (ex R19 being (Element of R1) st (( len R13 ) = R24 & R12 = ( R13 ^ <% R19 %> ))))))))
proof
let R1 being set;
let R12 being (Element of ( R1 ^omega ));
let R24 being Nat;
assume L49: ( len R12 ) = ( R24 + 1 );
L50: R12 <> ( {} ) by L49;
consider C6 being XFinSequence, R2 being set such that L51: R12 = ( C6 ^ <% R2 %> ) by L50 , AFINSQ_1:40;
L52: <% R2 %> is (Element of ( R1 ^omega )) by L51 , L39;
reconsider D1 = R2 as (Element of R1) by L52 , L43;
reconsider D2 = C6 as (Element of ( R1 ^omega )) by L51 , L39;
take D2;
take D1;
L53: ( R24 + 1 ) = ( ( len D2 ) + ( len <% R2 %> ) ) by L49 , L51 , AFINSQ_1:17
.= ( ( len D2 ) + 1 ) by AFINSQ_1:33;
thus L54: thesis by L53 , L51;
end;
theorem
L55: (for B3 being XFinSequence holds (B3 <> ( {} ) implies (ex B4 being XFinSequence st (ex R2 being set st B3 = ( <% R2 %> ^ B4 )))))
proof
let C7 being XFinSequence;
defpred S1[ Nat ] means (for B5 being XFinSequence holds ((( len B5 ) = $1 & B5 <> ( {} )) implies (ex B6 being XFinSequence st (ex R2 being set st B5 = ( <% R2 %> ^ B6 )))));
L56:
now
let R24 being Nat;
assume L57: S1[ R24 ];
thus L58: S1[ ( R24 + 1 ) ]
proof
let C8 being XFinSequence;
assume that
L59: ( len C8 ) = ( R24 + 1 )
and
L60: C8 <> ( {} );
consider C9 being XFinSequence, R2 being set such that L61: C8 = ( C9 ^ <% R2 %> ) by L60 , AFINSQ_1:40;
L62: ( R24 + 1 ) = ( ( len C9 ) + ( len <% R2 %> ) ) by L59 , L61 , AFINSQ_1:17
.= ( ( len C9 ) + 1 ) by AFINSQ_1:33;
per cases ;
suppose L63: C9 = ( {} );

L64: C8 = ( ( {} ) ^ <% R2 %> ) by L63 , L61
.= ( <% R2 %> ^ ( {} ) );
thus L65: thesis by L64;
end;
suppose L66: C9 <> ( {} );

consider C10 being XFinSequence, R3 being set such that L67: C9 = ( <% R3 %> ^ C10 ) by L66 , L57 , L62;
L68: C8 = ( <% R3 %> ^ ( C10 ^ <% R2 %> ) ) by L61 , L67 , AFINSQ_1:27;
thus L69: thesis by L68;
end;
end;

end;
L59: S1[ ( 0 ) ];
L60: (for R24 being Nat holds S1[ R24 ]) from NAT_1:sch 2(L59 , L56);
L61: ( len C7 ) = ( len C7 );
assume L62: C7 <> ( {} );
thus L63: thesis by L62 , L60 , L61;
end;
theorem
L64: (for R1 being set holds (for R12 being (Element of ( R1 ^omega )) holds (for R24 being Nat holds (( len R12 ) = ( R24 + 1 ) implies (ex R13 being (Element of ( R1 ^omega )) st (ex R19 being (Element of R1) st (( len R13 ) = R24 & R12 = ( <% R19 %> ^ R13 ))))))))
proof
let R1 being set;
let R12 being (Element of ( R1 ^omega ));
let R24 being Nat;
assume L65: ( len R12 ) = ( R24 + 1 );
L66: R12 <> ( {} ) by L65;
consider C11 being XFinSequence, R2 being set such that L67: R12 = ( <% R2 %> ^ C11 ) by L66 , L55;
L68: <% R2 %> is (Element of ( R1 ^omega )) by L67 , L39;
reconsider D3 = R2 as (Element of R1) by L68 , L43;
reconsider D4 = C11 as (Element of ( R1 ^omega )) by L67 , L39;
take D4;
take D3;
L69: ( R24 + 1 ) = ( ( len D4 ) + ( len <% R2 %> ) ) by L65 , L67 , AFINSQ_1:17
.= ( ( len D4 ) + 1 ) by AFINSQ_1:33;
thus L70: thesis by L69 , L67;
end;
L71: (for R20 being Nat holds (for R21 being Nat holds (for B7 being XFinSequence holds (( len B7 ) = ( R20 + R21 ) implies (ex B8 , B9 being XFinSequence st (( len B8 ) = R20 & ( len B9 ) = R21 & B7 = ( B8 ^ B9 ))))))) by AFINSQ_1:61;
theorem
L72: (for R1 being set holds (for R12 being (Element of ( R1 ^omega )) holds (for R24 being Nat holds (for R27 being Nat holds (( len R12 ) = ( R24 + R27 ) implies (ex R14 being (Element of ( R1 ^omega )) st (ex R15 being (Element of ( R1 ^omega )) st (( len R14 ) = R24 & ( len R15 ) = R27 & R12 = ( R14 ^ R15 )))))))))
proof
let R1 being set;
let R12 being (Element of ( R1 ^omega ));
let R24 being Nat;
let R27 being Nat;
assume L73: ( len R12 ) = ( R24 + R27 );
consider C12 , C13 being XFinSequence such that L74: (( len C12 ) = R24 & ( len C13 ) = R27) and L75: R12 = ( C12 ^ C13 ) by L73 , L71;
reconsider D5 = C13 as (Element of ( R1 ^omega )) by L75 , L39;
reconsider D6 = C12 as (Element of ( R1 ^omega )) by L75 , L39;
take D6;
take D5;
thus L76: thesis by L74 , L75;
end;
theorem
L77: (for R1 being set holds (for R9 being (Element of ( R1 ^omega )) holds (( R9 ^ R9 ) = R9 implies R9 = ( {} ))))
proof
let R1 being set;
let R9 being (Element of ( R1 ^omega ));
assume L78: ( R9 ^ R9 ) = R9;
L79: ( ( len R9 ) + ( len R9 ) ) = ( len R9 ) by L78 , AFINSQ_1:17;
thus L80: thesis by L79;
end;
begin
definition
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R6 being (Subset of ( R1 ^omega ));
func R5 ^^ R6 -> (Subset of ( R1 ^omega )) means 
:L81: (for R2 being set holds (R2 in it iff (ex R9 being (Element of ( R1 ^omega )) st (ex R12 being (Element of ( R1 ^omega )) st (R9 in R5 & R12 in R6 & R2 = ( R9 ^ R12 ))))));
existence
proof
defpred S2[ set ] means (ex R9 being (Element of ( R1 ^omega )) st (ex R12 being (Element of ( R1 ^omega )) st (R9 in R5 & R12 in R6 & $1 = ( R9 ^ R12 ))));
consider R7 being (Subset of ( R1 ^omega )) such that L82: (for R2 being set holds (R2 in R7 iff (R2 in ( R1 ^omega ) & S2[ R2 ]))) from SUBSET_1:sch 1;
take R7;
thus L83: thesis by L82;
end;
uniqueness
proof
let C14 , C15 being (Subset of ( R1 ^omega ));
assume that
L84: (for R2 being set holds (R2 in C14 iff (ex R9 being (Element of ( R1 ^omega )) st (ex R12 being (Element of ( R1 ^omega )) st (R9 in R5 & R12 in R6 & R2 = ( R9 ^ R12 ))))))
and
L85: (for R2 being set holds (R2 in C15 iff (ex R9 being (Element of ( R1 ^omega )) st (ex R12 being (Element of ( R1 ^omega )) st (R9 in R5 & R12 in R6 & R2 = ( R9 ^ R12 ))))));
L86:
now
let R2 being set;
thus L87: (R2 in C14 implies R2 in C15)
proof
assume L88: R2 in C14;
L89: (ex R9 being (Element of ( R1 ^omega )) st (ex R12 being (Element of ( R1 ^omega )) st (R9 in R5 & R12 in R6 & R2 = ( R9 ^ R12 )))) by L88 , L84;
thus L90: thesis by L89 , L85;
end;

assume L91: R2 in C15;
L92: (ex R9 being (Element of ( R1 ^omega )) st (ex R12 being (Element of ( R1 ^omega )) st (R9 in R5 & R12 in R6 & R2 = ( R9 ^ R12 )))) by L91 , L85;
thus L93: R2 in C14 by L92 , L84;
end;
thus L94: thesis by L86 , TARSKI:1;
end;
end;
theorem
L96: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R6 being (Subset of ( R1 ^omega )) holds (( R5 ^^ R6 ) = ( {} ) iff (R5 = ( {} ) or R6 = ( {} ))))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R6 being (Subset of ( R1 ^omega ));
thus L97: (( R5 ^^ R6 ) = ( {} ) implies (R5 = ( {} ) or R6 = ( {} )))
proof
assume that
L98: ( R5 ^^ R6 ) = ( {} )
and
L99: R5 <> ( {} )
and
L100: R6 <> ( {} );
consider R9 being (Element of ( R1 ^omega )) such that L101: R9 in R5 by L99 , SUBSET_1:4;
consider R12 being (Element of ( R1 ^omega )) such that L102: R12 in R6 by L100 , SUBSET_1:4;
L103: ( R9 ^ R12 ) in ( R5 ^^ R6 ) by L101 , L102 , L81;
thus L104: contradiction by L103 , L98;
end;

assume L105: (R5 = ( {} ) or R6 = ( {} ));
L106: (not (ex R2 being set st R2 in ( R5 ^^ R6 )))
proof
given R2 being set such that
L107: R2 in ( R5 ^^ R6 );

L108: (ex R9 being (Element of ( R1 ^omega )) st (ex R12 being (Element of ( R1 ^omega )) st (R9 in R5 & R12 in R6 & R2 = ( R9 ^ R12 )))) by L107 , L81;
thus L109: contradiction by L108 , L105;
end;
thus L110: thesis by L106 , XBOOLE_0:def 1;
end;
theorem
L111: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (( R5 ^^ { ( <%> R1 ) } ) = R5 & ( { ( <%> R1 ) } ^^ R5 ) = R5)))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
L112: (for R2 being set holds (R2 in ( R5 ^^ { ( <%> R1 ) } ) implies R2 in R5))
proof
let R2 being set;
assume L113: R2 in ( R5 ^^ { ( <%> R1 ) } );
consider R9 being (Element of ( R1 ^omega )), R16 being (Element of ( R1 ^omega )) such that L114: R9 in R5 and L115: (R16 in { ( <%> R1 ) } & R2 = ( R9 ^ R16 )) by L113 , L81;
L116: R2 = ( R9 ^ ( {} ) ) by L115 , TARSKI:def 1;
thus L117: thesis by L116 , L114;
end;
L118: (for R2 being set holds (R2 in R5 implies R2 in ( { ( <%> R1 ) } ^^ R5 )))
proof
let R2 being set;
assume L119: R2 in R5;
L120: (ex R16 being (Element of ( R1 ^omega )) st (ex R9 being (Element of ( R1 ^omega )) st (R16 in { ( <%> R1 ) } & R9 in R5 & R2 = ( R16 ^ R9 ))))
proof
reconsider D7 = R2 as (Element of ( R1 ^omega )) by L119;
consider R16 being (Element of ( R1 ^omega )) such that L121: R16 = ( <%> R1 );
take R16;
take D7;
L122: ( ( {} ) ^ D7 ) = D7;
thus L123: thesis by L122 , L119 , L121 , TARSKI:def 1;
end;
thus L124: thesis by L120 , L81;
end;
L125: (for R2 being set holds (R2 in R5 implies R2 in ( R5 ^^ { ( <%> R1 ) } )))
proof
let R2 being set;
assume L126: R2 in R5;
L127: (ex R9 being (Element of ( R1 ^omega )) st (ex R16 being (Element of ( R1 ^omega )) st (R9 in R5 & R16 in { ( <%> R1 ) } & R2 = ( R9 ^ R16 ))))
proof
reconsider D8 = R2 as (Element of ( R1 ^omega )) by L126;
set D9 = ( <%> R1 );
take D8;
take D9;
L128: ( D8 ^ ( {} ) ) = D8;
thus L129: thesis by L128 , L126 , TARSKI:def 1;
end;
thus L130: thesis by L127 , L81;
end;
L131: (for R2 being set holds (R2 in ( { ( <%> R1 ) } ^^ R5 ) implies R2 in R5))
proof
let R2 being set;
assume L132: R2 in ( { ( <%> R1 ) } ^^ R5 );
consider R16 being (Element of ( R1 ^omega )), R9 being (Element of ( R1 ^omega )) such that L133: R16 in { ( <%> R1 ) } and L134: R9 in R5 and L135: R2 = ( R16 ^ R9 ) by L132 , L81;
L136: R2 = ( ( {} ) ^ R9 ) by L133 , L135 , TARSKI:def 1;
thus L137: thesis by L136 , L134;
end;
thus L138: thesis by L131 , L112 , L118 , L125 , TARSKI:1;
end;
theorem
L139: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R6 being (Subset of ( R1 ^omega )) holds (( R5 ^^ R6 ) = { ( <%> R1 ) } iff (R5 = { ( <%> R1 ) } & R6 = { ( <%> R1 ) })))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R6 being (Subset of ( R1 ^omega ));
thus L140: (( R5 ^^ R6 ) = { ( <%> R1 ) } implies (R5 = { ( <%> R1 ) } & R6 = { ( <%> R1 ) }))
proof
assume that
L141: ( R5 ^^ R6 ) = { ( <%> R1 ) }
and
L142: (R5 <> { ( <%> R1 ) } or R6 <> { ( <%> R1 ) });
L143: ( <%> R1 ) in ( R5 ^^ R6 ) by L141 , TARSKI:def 1;
consider R9 being (Element of ( R1 ^omega )), R12 being (Element of ( R1 ^omega )) such that L144: R9 in R5 and L145: R12 in R6 and L146: ( <%> R1 ) = ( R9 ^ R12 ) by L143 , L81;
L147:
now
let R2 being set;
assume that
L148: (R2 in R5 or R2 in R6)
and
L149: R2 <> ( <%> R1 );
L150:
now
assume L151: R2 in R6;
reconsider D10 = R2 as (Element of ( R1 ^omega )) by L151;
L152: ( R9 ^ D10 ) <> ( <%> R1 ) by L149 , AFINSQ_1:30;
L153: ( R9 ^ D10 ) in ( R5 ^^ R6 ) by L144 , L151 , L81;
thus L154: contradiction by L153 , L141 , L152 , TARSKI:def 1;
end;
L155:
now
assume L156: R2 in R5;
reconsider D11 = R2 as (Element of ( R1 ^omega )) by L156;
L157: ( D11 ^ R12 ) <> ( <%> R1 ) by L149 , AFINSQ_1:30;
L158: ( D11 ^ R12 ) in ( R5 ^^ R6 ) by L145 , L156 , L81;
thus L159: contradiction by L158 , L141 , L157 , TARSKI:def 1;
end;
thus L160: contradiction by L155 , L148 , L150;
end;
L161: (for R2 being set holds (R2 in R6 iff R2 = ( <%> R1 ))) by L147 , L145;
L162: (for R2 being set holds (R2 in R5 iff R2 = ( <%> R1 ))) by L144 , L147;
thus L163: contradiction by L162 , L142 , L161 , TARSKI:def 1;
end;

assume L164: (R5 = { ( <%> R1 ) } & R6 = { ( <%> R1 ) });
thus L165: thesis by L164 , L111;
end;
theorem
L166: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R6 being (Subset of ( R1 ^omega )) holds (( <%> R1 ) in ( R5 ^^ R6 ) iff (( <%> R1 ) in R5 & ( <%> R1 ) in R6)))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R6 being (Subset of ( R1 ^omega ));
thus L167: (( <%> R1 ) in ( R5 ^^ R6 ) implies (( <%> R1 ) in R5 & ( <%> R1 ) in R6))
proof
assume L168: ( <%> R1 ) in ( R5 ^^ R6 );
L169: (ex R9 being (Element of ( R1 ^omega )) st (ex R12 being (Element of ( R1 ^omega )) st (R9 in R5 & R12 in R6 & ( R9 ^ R12 ) = ( <%> R1 )))) by L168 , L81;
thus L170: thesis by L169 , AFINSQ_1:30;
end;

assume L171: (( <%> R1 ) in R5 & ( <%> R1 ) in R6);
L172: ( ( {} ) ^ ( <%> R1 ) ) in ( R5 ^^ R6 ) by L171 , L81;
thus L173: thesis by L172;
end;
theorem
L174: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R6 being (Subset of ( R1 ^omega )) holds (( <%> R1 ) in R6 implies (R5 c= ( R5 ^^ R6 ) & R5 c= ( R6 ^^ R5 ))))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R6 being (Subset of ( R1 ^omega ));
assume L175: ( <%> R1 ) in R6;
thus L176: R5 c= ( R5 ^^ R6 )
proof
let R2 being set;
assume L177: R2 in R5;
reconsider D12 = R2 as (Element of ( R1 ^omega )) by L177;
L178: ( D12 ^ ( {} ) ) in ( R5 ^^ R6 ) by L175 , L177 , L81;
thus L179: thesis by L178;
end;

thus L180: R5 c= ( R6 ^^ R5 )
proof
let R2 being set;
assume L181: R2 in R5;
reconsider D13 = R2 as (Element of ( R1 ^omega )) by L181;
L182: ( ( {} ) ^ D13 ) in ( R6 ^^ R5 ) by L175 , L181 , L81;
thus L183: thesis by L182;
end;

end;
theorem
L181: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R6 being (Subset of ( R1 ^omega )) holds (for R7 being (Subset of ( R1 ^omega )) holds (for R8 being (Subset of ( R1 ^omega )) holds ((R5 c= R7 & R6 c= R8) implies ( R5 ^^ R6 ) c= ( R7 ^^ R8 )))))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R6 being (Subset of ( R1 ^omega ));
let R7 being (Subset of ( R1 ^omega ));
let R8 being (Subset of ( R1 ^omega ));
assume L182: (R5 c= R7 & R6 c= R8);
thus L183: thesis
proof
let R2 being set;
assume L184: R2 in ( R5 ^^ R6 );
L185: (ex R9 being (Element of ( R1 ^omega )) st (ex R12 being (Element of ( R1 ^omega )) st (R9 in R5 & R12 in R6 & R2 = ( R9 ^ R12 )))) by L184 , L81;
thus L186: thesis by L185 , L182 , L81;
end;

end;
theorem
L184: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R6 being (Subset of ( R1 ^omega )) holds (for R7 being (Subset of ( R1 ^omega )) holds ( ( R5 ^^ R6 ) ^^ R7 ) = ( R5 ^^ ( R6 ^^ R7 ) )))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R6 being (Subset of ( R1 ^omega ));
let R7 being (Subset of ( R1 ^omega ));
L185:
now
let R2 being set;
thus L186: (R2 in ( ( R5 ^^ R6 ) ^^ R7 ) implies R2 in ( R5 ^^ ( R6 ^^ R7 ) ))
proof
assume L187: R2 in ( ( R5 ^^ R6 ) ^^ R7 );
consider R17 being (Element of ( R1 ^omega )), R13 being (Element of ( R1 ^omega )) such that L188: R17 in ( R5 ^^ R6 ) and L189: (R13 in R7 & R2 = ( R17 ^ R13 )) by L187 , L81;
consider R9 being (Element of ( R1 ^omega )), R12 being (Element of ( R1 ^omega )) such that L190: R9 in R5 and L191: (R12 in R6 & R17 = ( R9 ^ R12 )) by L188 , L81;
L192: (R2 = ( R9 ^ ( R12 ^ R13 ) ) & ( R12 ^ R13 ) in ( R6 ^^ R7 )) by L189 , L191 , L81 , AFINSQ_1:27;
thus L193: thesis by L192 , L190 , L81;
end;

assume L194: R2 in ( R5 ^^ ( R6 ^^ R7 ) );
consider R9 being (Element of ( R1 ^omega )), R18 being (Element of ( R1 ^omega )) such that L195: R9 in R5 and L196: R18 in ( R6 ^^ R7 ) and L197: R2 = ( R9 ^ R18 ) by L194 , L81;
consider R12 being (Element of ( R1 ^omega )), R13 being (Element of ( R1 ^omega )) such that L198: R12 in R6 and L199: R13 in R7 and L200: R18 = ( R12 ^ R13 ) by L196 , L81;
L201: (R2 = ( ( R9 ^ R12 ) ^ R13 ) & ( R9 ^ R12 ) in ( R5 ^^ R6 )) by L195 , L197 , L198 , L200 , L81 , AFINSQ_1:27;
thus L202: R2 in ( ( R5 ^^ R6 ) ^^ R7 ) by L201 , L199 , L81;
end;
thus L203: thesis by L185 , TARSKI:1;
end;
theorem
L204: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R6 being (Subset of ( R1 ^omega )) holds (for R7 being (Subset of ( R1 ^omega )) holds (( R5 ^^ ( R6 /\ R7 ) ) c= ( ( R5 ^^ R6 ) /\ ( R5 ^^ R7 ) ) & ( ( R6 /\ R7 ) ^^ R5 ) c= ( ( R6 ^^ R5 ) /\ ( R7 ^^ R5 ) ))))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R6 being (Subset of ( R1 ^omega ));
let R7 being (Subset of ( R1 ^omega ));
thus L205: ( R5 ^^ ( R6 /\ R7 ) ) c= ( ( R5 ^^ R6 ) /\ ( R5 ^^ R7 ) )
proof
let R2 being set;
assume L206: R2 in ( R5 ^^ ( R6 /\ R7 ) );
consider R9 being (Element of ( R1 ^omega )), R18 being (Element of ( R1 ^omega )) such that L207: R9 in R5 and L208: R18 in ( R6 /\ R7 ) and L209: R2 = ( R9 ^ R18 ) by L206 , L81;
L210: R18 in R7 by L208 , XBOOLE_0:def 4;
L211: R2 in ( R5 ^^ R7 ) by L210 , L207 , L209 , L81;
L212: R18 in R6 by L208 , XBOOLE_0:def 4;
L213: R2 in ( R5 ^^ R6 ) by L212 , L207 , L209 , L81;
thus L214: thesis by L213 , L211 , XBOOLE_0:def 4;
end;

thus L215: ( ( R6 /\ R7 ) ^^ R5 ) c= ( ( R6 ^^ R5 ) /\ ( R7 ^^ R5 ) )
proof
let R2 being set;
assume L216: R2 in ( ( R6 /\ R7 ) ^^ R5 );
consider R18 being (Element of ( R1 ^omega )), R9 being (Element of ( R1 ^omega )) such that L217: R18 in ( R6 /\ R7 ) and L218: (R9 in R5 & R2 = ( R18 ^ R9 )) by L216 , L81;
L219: R18 in R7 by L217 , XBOOLE_0:def 4;
L220: R2 in ( R7 ^^ R5 ) by L219 , L218 , L81;
L221: R18 in R6 by L217 , XBOOLE_0:def 4;
L222: R2 in ( R6 ^^ R5 ) by L221 , L218 , L81;
thus L223: thesis by L222 , L220 , XBOOLE_0:def 4;
end;

end;
theorem
L216: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R6 being (Subset of ( R1 ^omega )) holds (for R7 being (Subset of ( R1 ^omega )) holds (( ( R5 ^^ R6 ) \/ ( R5 ^^ R7 ) ) = ( R5 ^^ ( R6 \/ R7 ) ) & ( ( R6 ^^ R5 ) \/ ( R7 ^^ R5 ) ) = ( ( R6 \/ R7 ) ^^ R5 ))))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R6 being (Subset of ( R1 ^omega ));
let R7 being (Subset of ( R1 ^omega ));
L217: ( R5 ^^ ( R6 \/ R7 ) ) c= ( ( R5 ^^ R6 ) \/ ( R5 ^^ R7 ) )
proof
let R2 being set;
assume L218: R2 in ( R5 ^^ ( R6 \/ R7 ) );
consider R9 being (Element of ( R1 ^omega )), R18 being (Element of ( R1 ^omega )) such that L219: R9 in R5 and L220: R18 in ( R6 \/ R7 ) and L221: R2 = ( R9 ^ R18 ) by L218 , L81;
L222: (R18 in R6 or R18 in R7) by L220 , XBOOLE_0:def 3;
L223: (R2 in ( R5 ^^ R6 ) or R2 in ( R5 ^^ R7 )) by L222 , L219 , L221 , L81;
thus L224: thesis by L223 , XBOOLE_0:def 3;
end;
L225: ( ( R6 \/ R7 ) ^^ R5 ) c= ( ( R6 ^^ R5 ) \/ ( R7 ^^ R5 ) )
proof
let R2 being set;
assume L226: R2 in ( ( R6 \/ R7 ) ^^ R5 );
consider R18 being (Element of ( R1 ^omega )), R9 being (Element of ( R1 ^omega )) such that L227: R18 in ( R6 \/ R7 ) and L228: (R9 in R5 & R2 = ( R18 ^ R9 )) by L226 , L81;
L229: (R18 in R6 or R18 in R7) by L227 , XBOOLE_0:def 3;
L230: (R2 in ( R6 ^^ R5 ) or R2 in ( R7 ^^ R5 )) by L229 , L228 , L81;
thus L231: thesis by L230 , XBOOLE_0:def 3;
end;
L232: R7 c= ( R6 \/ R7 ) by XBOOLE_1:7;
L233: ( R7 ^^ R5 ) c= ( ( R6 \/ R7 ) ^^ R5 ) by L232 , L181;
L234: R6 c= ( R6 \/ R7 ) by XBOOLE_1:7;
L235: ( R6 ^^ R5 ) c= ( ( R6 \/ R7 ) ^^ R5 ) by L234 , L181;
L236: ( ( R6 ^^ R5 ) \/ ( R7 ^^ R5 ) ) c= ( ( R6 \/ R7 ) ^^ R5 ) by L235 , L233 , XBOOLE_1:8;
L237: R7 c= ( R6 \/ R7 ) by XBOOLE_1:7;
L238: ( R5 ^^ R7 ) c= ( R5 ^^ ( R6 \/ R7 ) ) by L237 , L181;
L239: R6 c= ( R6 \/ R7 ) by XBOOLE_1:7;
L240: ( R5 ^^ R6 ) c= ( R5 ^^ ( R6 \/ R7 ) ) by L239 , L181;
L241: ( ( R5 ^^ R6 ) \/ ( R5 ^^ R7 ) ) c= ( R5 ^^ ( R6 \/ R7 ) ) by L240 , L238 , XBOOLE_1:8;
thus L242: thesis by L241 , L217 , L225 , L236 , XBOOLE_0:def 10;
end;
theorem
L243: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R6 being (Subset of ( R1 ^omega )) holds (for R7 being (Subset of ( R1 ^omega )) holds (( ( R5 ^^ R6 ) \ ( R5 ^^ R7 ) ) c= ( R5 ^^ ( R6 \ R7 ) ) & ( ( R6 ^^ R5 ) \ ( R7 ^^ R5 ) ) c= ( ( R6 \ R7 ) ^^ R5 ))))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R6 being (Subset of ( R1 ^omega ));
let R7 being (Subset of ( R1 ^omega ));
thus L244: ( ( R5 ^^ R6 ) \ ( R5 ^^ R7 ) ) c= ( R5 ^^ ( R6 \ R7 ) )
proof
let R2 being set;
assume L245: R2 in ( ( R5 ^^ R6 ) \ ( R5 ^^ R7 ) );
L246: R2 in ( R5 ^^ R6 ) by L245 , XBOOLE_0:def 5;
consider R9 being (Element of ( R1 ^omega )), R12 being (Element of ( R1 ^omega )) such that L247: R9 in R5 and L248: R12 in R6 and L249: R2 = ( R9 ^ R12 ) by L246 , L81;
L250:
now
assume L251: (not R12 in R7);
L252: R12 in ( R6 \ R7 ) by L251 , L248 , XBOOLE_0:def 5;
thus L253: thesis by L252 , L247 , L249 , L81;
end;
L254: (not R2 in ( R5 ^^ R7 )) by L245 , XBOOLE_0:def 5;
thus L255: thesis by L254 , L247 , L249 , L250 , L81;
end;

thus L256: ( ( R6 ^^ R5 ) \ ( R7 ^^ R5 ) ) c= ( ( R6 \ R7 ) ^^ R5 )
proof
let R2 being set;
assume L257: R2 in ( ( R6 ^^ R5 ) \ ( R7 ^^ R5 ) );
L258: R2 in ( R6 ^^ R5 ) by L257 , XBOOLE_0:def 5;
consider R12 being (Element of ( R1 ^omega )), R9 being (Element of ( R1 ^omega )) such that L259: R12 in R6 and L260: (R9 in R5 & R2 = ( R12 ^ R9 )) by L258 , L81;
L261:
now
assume L262: (not R12 in R7);
L263: R12 in ( R6 \ R7 ) by L262 , L259 , XBOOLE_0:def 5;
thus L264: thesis by L263 , L260 , L81;
end;
L265: (not R2 in ( R7 ^^ R5 )) by L257 , XBOOLE_0:def 5;
thus L266: thesis by L265 , L260 , L261 , L81;
end;

end;
theorem
L257: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R6 being (Subset of ( R1 ^omega )) holds (for R7 being (Subset of ( R1 ^omega )) holds (( ( R5 ^^ R6 ) \+\ ( R5 ^^ R7 ) ) c= ( R5 ^^ ( R6 \+\ R7 ) ) & ( ( R6 ^^ R5 ) \+\ ( R7 ^^ R5 ) ) c= ( ( R6 \+\ R7 ) ^^ R5 ))))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R6 being (Subset of ( R1 ^omega ));
let R7 being (Subset of ( R1 ^omega ));
L258: ( ( R5 ^^ R6 ) \+\ ( R5 ^^ R7 ) ) = ( ( ( R5 ^^ R6 ) \/ ( R5 ^^ R7 ) ) \ ( ( R5 ^^ R6 ) /\ ( R5 ^^ R7 ) ) ) by XBOOLE_1:101
.= ( ( R5 ^^ ( R6 \/ R7 ) ) \ ( ( R5 ^^ R6 ) /\ ( R5 ^^ R7 ) ) ) by L216;
L259: ( ( R5 ^^ R6 ) \+\ ( R5 ^^ R7 ) ) c= ( ( R5 ^^ ( R6 \/ R7 ) ) \ ( R5 ^^ ( R6 /\ R7 ) ) ) by L258 , L204 , XBOOLE_1:34;
L260: ( ( R6 ^^ R5 ) \+\ ( R7 ^^ R5 ) ) = ( ( ( R6 ^^ R5 ) \/ ( R7 ^^ R5 ) ) \ ( ( R6 ^^ R5 ) /\ ( R7 ^^ R5 ) ) ) by XBOOLE_1:101
.= ( ( ( R6 \/ R7 ) ^^ R5 ) \ ( ( R6 ^^ R5 ) /\ ( R7 ^^ R5 ) ) ) by L216;
L261: ( ( R6 ^^ R5 ) \+\ ( R7 ^^ R5 ) ) c= ( ( ( R6 \/ R7 ) ^^ R5 ) \ ( ( R6 /\ R7 ) ^^ R5 ) ) by L260 , L204 , XBOOLE_1:34;
L262: ( ( ( R6 \/ R7 ) ^^ R5 ) \ ( ( R6 /\ R7 ) ^^ R5 ) ) c= ( ( ( R6 \/ R7 ) \ ( R6 /\ R7 ) ) ^^ R5 ) by L243;
L263: ( ( R6 ^^ R5 ) \+\ ( R7 ^^ R5 ) ) c= ( ( ( R6 \/ R7 ) \ ( R6 /\ R7 ) ) ^^ R5 ) by L262 , L261 , XBOOLE_1:1;
L264: ( ( R5 ^^ ( R6 \/ R7 ) ) \ ( R5 ^^ ( R6 /\ R7 ) ) ) c= ( R5 ^^ ( ( R6 \/ R7 ) \ ( R6 /\ R7 ) ) ) by L243;
L265: ( ( R5 ^^ R6 ) \+\ ( R5 ^^ R7 ) ) c= ( R5 ^^ ( ( R6 \/ R7 ) \ ( R6 /\ R7 ) ) ) by L264 , L259 , XBOOLE_1:1;
thus L266: thesis by L265 , L263 , XBOOLE_1:101;
end;
begin
definition
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R24 being Nat;
func R5 |^ R24 -> (Subset of ( R1 ^omega )) means 
:L267: (ex B10 being (Function of ( NAT ) , ( bool ( R1 ^omega ) )) st (it = ( B10 . R24 ) & ( B10 . ( 0 ) ) = { ( <%> R1 ) } & (for R20 being Nat holds ( B10 . ( R20 + 1 ) ) = ( ( B10 . R20 ) ^^ R5 ))));
existence
proof
defpred S3[ set , set , set ] means (ex R6 being (Subset of ( R1 ^omega )) st (ex R7 being (Subset of ( R1 ^omega )) st (R7 = $3 & R6 = $2 & R7 = ( R6 ^^ R5 ))));
L268: (for B11 being (Element of ( NAT )) holds (for B12 being (Element of ( bool ( R1 ^omega ) )) holds (ex B13 being (Element of ( bool ( R1 ^omega ) )) st S3[ B11 , B12 , B13 ])))
proof
let C16 being (Element of ( NAT ));
let C17 being (Element of ( bool ( R1 ^omega ) ));
take ( C17 ^^ R5 );
thus L269: thesis;
end;
consider C18 being (Function of ( NAT ) , ( bool ( R1 ^omega ) )) such that L270: (( C18 . ( 0 ) ) = { ( <%> R1 ) } & (for B14 being (Element of ( NAT )) holds S3[ B14 , ( C18 . B14 ) , ( C18 . ( B14 + 1 ) ) ])) from RECDEF_1:sch 2(L268);
consider C19 being (Subset of ( R1 ^omega )) such that L271: C19 = ( C18 . R24 );
take C19;
L272:
now
let R20 being Nat;
reconsider D14 = R20 as (Element of ( NAT )) by ORDINAL1:def 12;
L273: (ex R6 being (Subset of ( R1 ^omega )) st (ex R7 being (Subset of ( R1 ^omega )) st (R7 = ( C18 . ( D14 + 1 ) ) & R6 = ( C18 . D14 ) & R7 = ( R6 ^^ R5 )))) by L270;
thus L274: ( C18 . ( R20 + 1 ) ) = ( ( C18 . R20 ) ^^ R5 ) by L273;
end;
thus L275: thesis by L272 , L270 , L271;
end;
uniqueness
proof
let C20 , C21 being (Subset of ( R1 ^omega ));
given C22 being (Function of ( NAT ) , ( bool ( R1 ^omega ) )) such that
L276: C20 = ( C22 . R24 )
and
L277: ( C22 . ( 0 ) ) = { ( <%> R1 ) }
and
L278: (for R20 being Nat holds ( C22 . ( R20 + 1 ) ) = ( ( C22 . R20 ) ^^ R5 ));

given C23 being (Function of ( NAT ) , ( bool ( R1 ^omega ) )) such that
L279: C21 = ( C23 . R24 )
and
L280: ( C23 . ( 0 ) ) = { ( <%> R1 ) }
and
L281: (for R20 being Nat holds ( C23 . ( R20 + 1 ) ) = ( ( C23 . R20 ) ^^ R5 ));

defpred S4[ Nat ] means ( C22 . $1 ) = ( C23 . $1 );
L282:
now
let R22 being Nat;
assume L283: S4[ R22 ];
L284: ( C23 . ( R22 + 1 ) ) = ( ( C23 . R22 ) ^^ R5 ) by L281;
thus L285: S4[ ( R22 + 1 ) ] by L284 , L278 , L283;
end;
L286: S4[ ( 0 ) ] by L277 , L280;
L287: (for R22 being Nat holds S4[ R22 ]) from NAT_1:sch 2(L286 , L282);
thus L288: thesis by L287 , L276 , L279;
end;
end;
theorem
L290: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R24 being Nat holds ( R5 |^ ( R24 + 1 ) ) = ( ( R5 |^ R24 ) ^^ R5 ))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R24 being Nat;
consider C24 being (Function of ( NAT ) , ( bool ( R1 ^omega ) )) such that L291: ( R5 |^ R24 ) = ( C24 . R24 ) and L292: ( C24 . ( 0 ) ) = { ( <%> R1 ) } and L293: (for R20 being Nat holds ( C24 . ( R20 + 1 ) ) = ( ( C24 . R20 ) ^^ R5 )) by L267;
L294: ( C24 . ( R24 + 1 ) ) = ( ( R5 |^ R24 ) ^^ R5 ) by L291 , L293;
thus L295: thesis by L294 , L292 , L293 , L267;
end;
theorem
L296: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds ( R5 |^ ( 0 ) ) = { ( <%> R1 ) }))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
L297: (ex B15 being (Function of ( NAT ) , ( bool ( R1 ^omega ) )) st (( R5 |^ ( 0 ) ) = ( B15 . ( 0 ) ) & ( B15 . ( 0 ) ) = { ( <%> R1 ) } & (for R20 being Nat holds ( B15 . ( R20 + 1 ) ) = ( ( B15 . R20 ) ^^ R5 )))) by L267;
thus L298: thesis by L297;
end;
theorem
L299: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds ( R5 |^ 1 ) = R5))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
consider C25 being (Function of ( NAT ) , ( bool ( R1 ^omega ) )) such that L300: ( R5 |^ 1 ) = ( C25 . 1 ) and L301: (( C25 . ( 0 ) ) = { ( <%> R1 ) } & (for R20 being Nat holds ( C25 . ( R20 + 1 ) ) = ( ( C25 . R20 ) ^^ R5 ))) by L267;
thus L302: ( R5 |^ 1 ) = ( C25 . ( ( 0 ) + 1 ) ) by L300
.= ( { ( <%> R1 ) } ^^ R5 ) by L301
.= R5 by L111;
end;
theorem
L303: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds ( R5 |^ 2 ) = ( R5 ^^ R5 )))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
thus L304: ( R5 |^ 2 ) = ( R5 |^ ( 1 + 1 ) )
.= ( ( R5 |^ 1 ) ^^ R5 ) by L290
.= ( R5 ^^ R5 ) by L299;
end;
theorem
L305: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R24 being Nat holds (( R5 |^ R24 ) = ( {} ) iff (R24 > ( 0 ) & R5 = ( {} ))))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R24 being Nat;
defpred S5[ Nat ] means ( R5 |^ $1 ) = ( {} );
thus L306: (( R5 |^ R24 ) = ( {} ) implies (R24 > ( 0 ) & R5 = ( {} )))
proof
assume that
L307: ( R5 |^ R24 ) = ( {} )
and
L308: (R24 <= ( 0 ) or R5 <> ( {} ));
L309:
now
defpred S6[ Nat ] means ( R5 |^ $1 ) <> ( {} );
assume L310: R5 <> ( {} );
L311:
now
let R24 being Nat;
assume L312: S6[ R24 ];
consider R10 being (Element of ( R1 ^omega )) such that L313: R10 in ( R5 |^ R24 ) by L312 , SUBSET_1:4;
consider R11 being (Element of ( R1 ^omega )) such that L314: R11 in R5 by L310 , SUBSET_1:4;
L315: ( R10 ^ R11 ) in ( ( R5 |^ R24 ) ^^ R5 ) by L313 , L314 , L81;
thus L316: S6[ ( R24 + 1 ) ] by L315 , L290;
end;
L317: ( R5 |^ ( 0 ) ) = { ( <%> R1 ) } by L296;
L318: S6[ ( 0 ) ] by L317;
L319: (for R24 being Nat holds S6[ R24 ]) from NAT_1:sch 2(L318 , L311);
thus L320: contradiction by L319 , L307;
end;
L321:
now
assume L322: R24 <= ( 0 );
L323: R24 = ( 0 ) by L322;
L324: ( R5 |^ R24 ) = { ( <%> R1 ) } by L323 , L296;
thus L325: contradiction by L324 , L307;
end;
thus L326: thesis by L321 , L308 , L309;
end;

assume that
L327: R24 > ( 0 )
and
L328: R5 = ( {} );
L329:
now
let C26 being Nat;
assume that
L330: 1 <= C26
and
L331: S5[ C26 ];
L332: ( ( {} ( R1 ^omega ) ) |^ ( C26 + 1 ) ) = ( ( ( {} ( R1 ^omega ) ) |^ C26 ) ^^ ( {} ( R1 ^omega ) ) ) by L290
.= ( {} ) by L96;
thus L333: S5[ ( C26 + 1 ) ] by L332 , L328;
end;
L334: S5[ 1 ] by L328 , L299;
L335: (for B16 being Nat holds (B16 >= 1 implies S5[ B16 ])) from NAT_1:sch 8(L334 , L329);
L336: R24 >= ( ( 0 ) + 1 ) by L327 , NAT_1:13;
thus L337: thesis by L336 , L335;
end;
theorem
L338: (for R1 being set holds (for R24 being Nat holds ( { ( <%> R1 ) } |^ R24 ) = { ( <%> R1 ) }))
proof
let R1 being set;
let R24 being Nat;
defpred S7[ Nat ] means ( { ( <%> R1 ) } |^ $1 ) = { ( <%> R1 ) };
L339:
now
let R24 being Nat;
assume L340: S7[ R24 ];
L341: ( { ( <%> R1 ) } |^ ( R24 + 1 ) ) = ( ( { ( <%> R1 ) } |^ R24 ) ^^ { ( <%> R1 ) } ) by L290
.= { ( <%> R1 ) } by L340 , L111;
thus L342: S7[ ( R24 + 1 ) ] by L341;
end;
L343: S7[ ( 0 ) ] by L296;
L344: (for R24 being Nat holds S7[ R24 ]) from NAT_1:sch 2(L343 , L339);
thus L345: thesis by L344;
end;
theorem
L346: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R24 being Nat holds (( R5 |^ R24 ) = { ( <%> R1 ) } iff (R24 = ( 0 ) or R5 = { ( <%> R1 ) })))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R24 being Nat;
thus L347: (( R5 |^ R24 ) = { ( <%> R1 ) } implies (R24 = ( 0 ) or R5 = { ( <%> R1 ) }))
proof
assume L348: ( R5 |^ R24 ) = { ( <%> R1 ) };
L349:
now
assume L350: R24 > ( 0 );
consider R27 being Nat such that L351: ( R27 + 1 ) = R24 by L350 , NAT_1:6;
L352: ( R5 |^ R24 ) = ( ( R5 |^ R27 ) ^^ R5 ) by L351 , L290;
thus L353: R5 = { ( <%> R1 ) } by L352 , L348 , L139;
end;
thus L354: thesis by L349;
end;

assume L355: (R24 = ( 0 ) or R5 = { ( <%> R1 ) });
thus L356: thesis by L355 , L296 , L338;
end;
theorem
L357: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R24 being Nat holds (( <%> R1 ) in R5 implies ( <%> R1 ) in ( R5 |^ R24 )))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R24 being Nat;
defpred S8[ Nat ] means ( <%> R1 ) in ( R5 |^ $1 );
assume L358: ( <%> R1 ) in R5;
L359:
now
let R24 being Nat;
assume L360: S8[ R24 ];
L361: ( <%> R1 ) in ( ( R5 |^ R24 ) ^^ R5 ) by L360 , L358 , L166;
thus L362: S8[ ( R24 + 1 ) ] by L361 , L290;
end;
L363: ( R5 |^ ( 0 ) ) = { ( <%> R1 ) } by L296;
L364: S8[ ( 0 ) ] by L363 , TARSKI:def 1;
L365: (for R24 being Nat holds S8[ R24 ]) from NAT_1:sch 2(L364 , L359);
thus L366: thesis by L365;
end;
theorem
L367: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R24 being Nat holds ((( <%> R1 ) in ( R5 |^ R24 ) & R24 > ( 0 )) implies ( <%> R1 ) in R5))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R24 being Nat;
assume that
L368: ( <%> R1 ) in ( R5 |^ R24 )
and
L369: R24 > ( 0 );
consider R27 being Nat such that L370: ( R27 + 1 ) = R24 by L369 , NAT_1:6;
L371: ( R5 |^ R24 ) = ( ( R5 |^ R27 ) ^^ R5 ) by L370 , L290;
L372: (ex R10 being (Element of ( R1 ^omega )) st (ex R11 being (Element of ( R1 ^omega )) st (R10 in ( R5 |^ R27 ) & R11 in R5 & ( R10 ^ R11 ) = ( <%> R1 )))) by L371 , L368 , L81;
thus L373: thesis by L372 , AFINSQ_1:30;
end;
theorem
L374: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R24 being Nat holds ( ( R5 |^ R24 ) ^^ R5 ) = ( R5 ^^ ( R5 |^ R24 ) ))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R24 being Nat;
defpred S9[ Nat ] means ( ( R5 |^ $1 ) ^^ R5 ) = ( R5 ^^ ( R5 |^ $1 ) );
L375:
now
let R24 being Nat;
assume L376: S9[ R24 ];
L377: ( ( R5 |^ ( R24 + 1 ) ) ^^ R5 ) = ( ( ( R5 |^ R24 ) ^^ R5 ) ^^ R5 ) by L290
.= ( R5 ^^ ( ( R5 |^ R24 ) ^^ R5 ) ) by L376 , L184
.= ( R5 ^^ ( R5 |^ ( R24 + 1 ) ) ) by L290;
thus L378: S9[ ( R24 + 1 ) ] by L377;
end;
L379: ( ( R5 |^ ( 0 ) ) ^^ R5 ) = ( { ( <%> R1 ) } ^^ R5 ) by L296
.= R5 by L111
.= ( R5 ^^ { ( <%> R1 ) } ) by L111
.= ( R5 ^^ ( R5 |^ ( 0 ) ) ) by L296;
L380: S9[ ( 0 ) ] by L379;
L381: (for R24 being Nat holds S9[ R24 ]) from NAT_1:sch 2(L380 , L375);
thus L382: thesis by L381;
end;
theorem
L383: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R24 being Nat holds (for R27 being Nat holds ( R5 |^ ( R27 + R24 ) ) = ( ( R5 |^ R27 ) ^^ ( R5 |^ R24 ) )))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R24 being Nat;
let R27 being Nat;
defpred S10[ Nat ] means (for R27 being Nat holds (for R24 being Nat holds (( R27 + R24 ) <= $1 implies ( R5 |^ ( R27 + R24 ) ) = ( ( R5 |^ R27 ) ^^ ( R5 |^ R24 ) ))));
L384:
now
let R23 being Nat;
assume L385: S10[ R23 ];
L386:
now
let C27 , C28 being Nat;
L387:
now
assume L388: ( C27 + C28 ) < ( R23 + 1 );
L389: ( C27 + C28 ) <= R23 by L388 , NAT_1:13;
thus L390: ( R5 |^ ( C27 + C28 ) ) = ( ( R5 |^ C27 ) ^^ ( R5 |^ C28 ) ) by L389 , L385;
end;
L391:
now
assume L392: ( C27 + C28 ) = ( R23 + 1 );
L393:
now
assume L394: C28 = ( 0 );
thus L395: ( R5 |^ ( C27 + C28 ) ) = ( ( R5 |^ ( R23 + 1 ) ) ^^ { ( <%> R1 ) } ) by L392 , L111
.= ( ( R5 |^ C27 ) ^^ ( R5 |^ C28 ) ) by L392 , L394 , L296;
end;
L396:
now
assume that
L397: C27 > ( 0 )
and
L398: C28 > ( 0 );
consider R22 being Nat such that L399: ( R22 + 1 ) = C27 by L397 , NAT_1:6;
L400: ( R5 |^ ( C27 + C28 ) ) = ( R5 |^ ( ( R22 + C28 ) + 1 ) ) by L399
.= ( ( R5 |^ ( R22 + C28 ) ) ^^ R5 ) by L290
.= ( R5 ^^ ( R5 |^ ( R22 + C28 ) ) ) by L374
.= ( R5 ^^ ( ( R5 |^ R22 ) ^^ ( R5 |^ C28 ) ) ) by L385 , L392 , L399
.= ( ( R5 ^^ ( R5 |^ R22 ) ) ^^ ( R5 |^ C28 ) ) by L184
.= ( ( ( R5 |^ R22 ) ^^ R5 ) ^^ ( R5 |^ C28 ) ) by L374
.= ( ( ( R5 |^ R22 ) ^^ ( R5 |^ 1 ) ) ^^ ( R5 |^ C28 ) ) by L299
.= ( ( R5 |^ C27 ) ^^ ( R5 |^ C28 ) ) by L385 , L392 , L398 , L399 , L14;
thus L401: ( R5 |^ ( C27 + C28 ) ) = ( ( R5 |^ C27 ) ^^ ( R5 |^ C28 ) ) by L400;
end;
L402:
now
assume L403: C27 = ( 0 );
thus L404: ( R5 |^ ( C27 + C28 ) ) = ( { ( <%> R1 ) } ^^ ( R5 |^ ( R23 + 1 ) ) ) by L392 , L111
.= ( ( R5 |^ C27 ) ^^ ( R5 |^ C28 ) ) by L392 , L403 , L296;
end;
thus L405: ( R5 |^ ( C27 + C28 ) ) = ( ( R5 |^ C27 ) ^^ ( R5 |^ C28 ) ) by L402 , L393 , L396;
end;
assume L406: ( C27 + C28 ) <= ( R23 + 1 );
thus L407: ( R5 |^ ( C27 + C28 ) ) = ( ( R5 |^ C27 ) ^^ ( R5 |^ C28 ) ) by L406 , L391 , L387 , XXREAL_0:1;
end;
thus L408: S10[ ( R23 + 1 ) ] by L386;
end;
L409: S10[ ( 0 ) ]
proof
let R27 being Nat;
let R24 being Nat;
assume L410: ( R27 + R24 ) <= ( 0 );
L411: R27 = ( 0 ) by L410;
L412: ( R27 + R24 ) = ( 0 ) by L410;
thus L413: ( R5 |^ ( R27 + R24 ) ) = ( ( R5 |^ ( 0 ) ) ^^ { ( <%> R1 ) } ) by L412 , L111
.= ( ( R5 |^ R27 ) ^^ ( R5 |^ R24 ) ) by L412 , L411 , L296;
end;
L414: (for R23 being Nat holds S10[ R23 ]) from NAT_1:sch 2(L409 , L384);
thus L415: thesis by L414;
end;
theorem
L416: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R24 being Nat holds (for R27 being Nat holds ( ( R5 |^ R27 ) |^ R24 ) = ( R5 |^ ( R27 * R24 ) )))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R24 being Nat;
let R27 being Nat;
defpred S11[ Nat ] means (for R27 being Nat holds (for R24 being Nat holds (( R27 + R24 ) <= $1 implies ( ( R5 |^ R27 ) |^ R24 ) = ( R5 |^ ( R27 * R24 ) ))));
L417:
now
let R23 being Nat;
assume L418: S11[ R23 ];
L419:
now
let R27 being Nat;
let R24 being Nat;
L420:
now
assume L421: ( R27 + R24 ) < ( R23 + 1 );
L422: ( R27 + R24 ) <= R23 by L421 , NAT_1:13;
thus L423: ( ( R5 |^ R27 ) |^ R24 ) = ( R5 |^ ( R27 * R24 ) ) by L422 , L418;
end;
L424:
now
assume L425: ( R27 + R24 ) = ( R23 + 1 );
L426:
now
assume that
L427: R27 > ( 0 )
and
L428: R24 > ( 0 );
consider R22 being Nat such that L429: ( R22 + 1 ) = R24 by L428 , NAT_1:6;
L430: ( R27 + R22 ) <= R23 by L425 , L429;
L431: ( ( R5 |^ R27 ) |^ R24 ) = ( ( ( R5 |^ R27 ) |^ R22 ) ^^ ( R5 |^ R27 ) ) by L429 , L290
.= ( ( R5 |^ ( R27 * R22 ) ) ^^ ( R5 |^ R27 ) ) by L418 , L430
.= ( R5 |^ ( ( R27 * R22 ) + R27 ) ) by L383
.= ( R5 |^ ( R27 * R24 ) ) by L429;
thus L432: ( ( R5 |^ R27 ) |^ R24 ) = ( R5 |^ ( R27 * R24 ) ) by L431;
end;
L433:
now
assume L434: R24 = ( 0 );
thus L435: ( ( R5 |^ R27 ) |^ R24 ) = { ( <%> R1 ) } by L434 , L296
.= ( R5 |^ ( R27 * R24 ) ) by L434 , L296;
end;
L436:
now
assume L437: R27 = ( 0 );
thus L438: ( ( R5 |^ R27 ) |^ R24 ) = ( { ( <%> R1 ) } |^ R24 ) by L437 , L296
.= { ( <%> R1 ) } by L338
.= ( R5 |^ ( R27 * R24 ) ) by L437 , L296;
end;
thus L439: ( ( R5 |^ R27 ) |^ R24 ) = ( R5 |^ ( R27 * R24 ) ) by L436 , L433 , L426;
end;
assume L440: ( R27 + R24 ) <= ( R23 + 1 );
thus L441: ( ( R5 |^ R27 ) |^ R24 ) = ( R5 |^ ( R27 * R24 ) ) by L440 , L424 , L420 , XXREAL_0:1;
end;
thus L442: S11[ ( R23 + 1 ) ] by L419;
end;
L443: S11[ ( 0 ) ]
proof
let R27 being Nat;
let R24 being Nat;
assume L444: ( R27 + R24 ) <= ( 0 );
L445: R27 = ( 0 ) by L444;
L446: R24 = ( 0 ) by L444;
thus L447: ( ( R5 |^ R27 ) |^ R24 ) = { ( <%> R1 ) } by L446 , L296
.= ( R5 |^ ( R27 * R24 ) ) by L445 , L296;
end;
L448: (for R23 being Nat holds S11[ R23 ]) from NAT_1:sch 2(L443 , L417);
L449:
now
let R27 being Nat;
let R24 being Nat;
reconsider D15 = ( R27 + R24 ) as Nat;
L450: ( R27 + R24 ) <= D15;
thus L451: ( ( R5 |^ R27 ) |^ R24 ) = ( R5 |^ ( R27 * R24 ) ) by L450 , L448;
end;
thus L452: thesis by L449;
end;
theorem
L453: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R24 being Nat holds ((( <%> R1 ) in R5 & R24 > ( 0 )) implies R5 c= ( R5 |^ R24 )))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R24 being Nat;
assume that
L454: ( <%> R1 ) in R5
and
L455: R24 > ( 0 );
consider R27 being Nat such that L456: ( R27 + 1 ) = R24 by L455 , NAT_1:6;
L457: ( <%> R1 ) in ( R5 |^ R27 ) by L454 , L357;
L458: R5 c= ( ( R5 |^ R27 ) ^^ R5 ) by L457 , L174;
thus L459: thesis by L458 , L456 , L290;
end;
theorem
L460: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R24 being Nat holds (for R27 being Nat holds ((( <%> R1 ) in R5 & R27 > R24) implies ( R5 |^ R24 ) c= ( R5 |^ R27 ))))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R24 being Nat;
let R27 being Nat;
assume that
L461: ( <%> R1 ) in R5
and
L462: R27 > R24;
consider R22 being Nat such that L463: ( R24 + R22 ) = R27 by L462 , NAT_1:10;
L464: ( <%> R1 ) in ( R5 |^ R22 ) by L461 , L357;
L465: ( R5 |^ R24 ) c= ( ( R5 |^ R22 ) ^^ ( R5 |^ R24 ) ) by L464 , L174;
thus L466: thesis by L465 , L463 , L383;
end;
theorem
L467: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R6 being (Subset of ( R1 ^omega )) holds (for R24 being Nat holds (R5 c= R6 implies ( R5 |^ R24 ) c= ( R6 |^ R24 ))))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R6 being (Subset of ( R1 ^omega ));
let R24 being Nat;
defpred S12[ Nat ] means ( R5 |^ $1 ) c= ( R6 |^ $1 );
assume L468: R5 c= R6;
L469:
now
let R24 being Nat;
assume L470: S12[ R24 ];
L471: (( ( R5 |^ R24 ) ^^ R5 ) = ( R5 |^ ( R24 + 1 ) ) & ( ( R6 |^ R24 ) ^^ R6 ) = ( R6 |^ ( R24 + 1 ) )) by L290;
thus L472: S12[ ( R24 + 1 ) ] by L471 , L468 , L470 , L181;
end;
L473: ( R5 |^ ( 0 ) ) = { ( <%> R1 ) } by L296;
L474: S12[ ( 0 ) ] by L473 , L296;
L475: (for R24 being Nat holds S12[ R24 ]) from NAT_1:sch 2(L474 , L469);
thus L476: thesis by L475;
end;
theorem
L477: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R6 being (Subset of ( R1 ^omega )) holds (for R24 being Nat holds ( ( R5 |^ R24 ) \/ ( R6 |^ R24 ) ) c= ( ( R5 \/ R6 ) |^ R24 )))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R6 being (Subset of ( R1 ^omega ));
let R24 being Nat;
L478: (( R5 |^ R24 ) c= ( ( R5 \/ R6 ) |^ R24 ) & ( R6 |^ R24 ) c= ( ( R5 \/ R6 ) |^ R24 )) by L467 , XBOOLE_1:7;
thus L479: thesis by L478 , XBOOLE_1:8;
end;
theorem
L480: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R6 being (Subset of ( R1 ^omega )) holds (for R24 being Nat holds ( ( R5 /\ R6 ) |^ R24 ) c= ( ( R5 |^ R24 ) /\ ( R6 |^ R24 ) )))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R6 being (Subset of ( R1 ^omega ));
let R24 being Nat;
L481: (( ( R5 /\ R6 ) |^ R24 ) c= ( R5 |^ R24 ) & ( ( R5 /\ R6 ) |^ R24 ) c= ( R6 |^ R24 )) by L467 , XBOOLE_1:17;
thus L482: thesis by L481 , XBOOLE_1:19;
end;
theorem
L483: (for R1 being set holds (for R7 being (Subset of ( R1 ^omega )) holds (for R9 being (Element of ( R1 ^omega )) holds (for R12 being (Element of ( R1 ^omega )) holds (for R24 being Nat holds (for R27 being Nat holds ((R9 in ( R7 |^ R27 ) & R12 in ( R7 |^ R24 )) implies ( R9 ^ R12 ) in ( R7 |^ ( R27 + R24 ) ))))))))
proof
let R1 being set;
let R7 being (Subset of ( R1 ^omega ));
let R9 being (Element of ( R1 ^omega ));
let R12 being (Element of ( R1 ^omega ));
let R24 being Nat;
let R27 being Nat;
assume L484: (R9 in ( R7 |^ R27 ) & R12 in ( R7 |^ R24 ));
L485: ( R9 ^ R12 ) in ( ( R7 |^ R27 ) ^^ ( R7 |^ R24 ) ) by L484 , L81;
thus L486: thesis by L485 , L383;
end;
begin
definition
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
func R5 * -> (Subset of ( R1 ^omega )) equals 
( union { R6 where R6 is (Subset of ( R1 ^omega )) : (ex R24 being Nat st R6 = ( R5 |^ R24 )) } );
coherence
proof
defpred S13[ set ] means (ex R24 being Nat st $1 = ( R5 |^ R24 ));
reconsider D16 = { R6 where R6 is (Subset of ( R1 ^omega )) : S13[ R6 ] } as (Subset-Family of ( R1 ^omega )) from DOMAIN_1:sch 7;
L487: ( union D16 ) is (Subset of ( R1 ^omega ));
thus L488: thesis by L487;
end;
end;
theorem
L490: (for R1 being set holds (for R2 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (R2 in ( R5 * ) iff (ex R24 being Nat st R2 in ( R5 |^ R24 ))))))
proof
let R1 being set;
let R2 being set;
let R5 being (Subset of ( R1 ^omega ));
thus L491: (R2 in ( R5 * ) implies (ex R24 being Nat st R2 in ( R5 |^ R24 )))
proof
defpred S14[ set ] means (ex R22 being Nat st $1 = ( R5 |^ R22 ));
assume L492: R2 in ( R5 * );
consider R4 being set such that L493: R2 in R4 and L494: R4 in { R6 where R6 is (Subset of ( R1 ^omega )) : (ex R22 being Nat st R6 = ( R5 |^ R22 )) } by L492 , TARSKI:def 4;
L495: R4 in { R6 where R6 is (Subset of ( R1 ^omega )) : S14[ R6 ] } by L494;
L496: S14[ R4 ] from CARD_FIL:sch 1(L495);
thus L497: thesis by L496 , L493;
end;

given R24 being Nat such that
L498: R2 in ( R5 |^ R24 );

defpred S15[ set ] means (ex R22 being Nat st $1 = ( R5 |^ R22 ));
consider R6 being (Subset of ( R1 ^omega )) such that L499: R2 in R6 and L500: S15[ R6 ] by L498;
reconsider D17 = { R7 where R7 is (Subset of ( R1 ^omega )) : S15[ R7 ] } as (Subset-Family of ( R1 ^omega )) from DOMAIN_1:sch 7;
L501: R6 in D17 by L500;
thus L502: thesis by L501 , L499 , TARSKI:def 4;
end;
theorem
L503: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R24 being Nat holds ( R5 |^ R24 ) c= ( R5 * ))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R24 being Nat;
L504: ( R5 |^ R24 ) in { R6 where R6 is (Subset of ( R1 ^omega )) : (ex R22 being Nat st R6 = ( R5 |^ R22 )) };
thus L505: thesis by L504 , ZFMISC_1:74;
end;
theorem
L506: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds R5 c= ( R5 * )))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
L507: R5 = ( R5 |^ 1 ) by L299;
thus L508: thesis by L507 , L503;
end;
theorem
L509: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds ( R5 ^^ R5 ) c= ( R5 * )))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
L510: ( R5 ^^ R5 ) = ( R5 |^ 2 ) by L303;
thus L511: thesis by L510 , L503;
end;
theorem
L512: (for R1 being set holds (for R7 being (Subset of ( R1 ^omega )) holds (for R9 being (Element of ( R1 ^omega )) holds (for R12 being (Element of ( R1 ^omega )) holds ((R9 in ( R7 * ) & R12 in ( R7 * )) implies ( R9 ^ R12 ) in ( R7 * ))))))
proof
let R1 being set;
let R7 being (Subset of ( R1 ^omega ));
let R9 being (Element of ( R1 ^omega ));
let R12 being (Element of ( R1 ^omega ));
assume that
L513: R9 in ( R7 * )
and
L514: R12 in ( R7 * );
consider R22 being Nat such that L515: R9 in ( R7 |^ R22 ) by L513 , L490;
consider R23 being Nat such that L516: R12 in ( R7 |^ R23 ) by L514 , L490;
L517: ( R9 ^ R12 ) in ( R7 |^ ( R22 + R23 ) ) by L515 , L516 , L483;
thus L518: thesis by L517 , L490;
end;
theorem
L519: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R6 being (Subset of ( R1 ^omega )) holds (for R7 being (Subset of ( R1 ^omega )) holds ((R5 c= ( R7 * ) & R6 c= ( R7 * )) implies ( R5 ^^ R6 ) c= ( R7 * ))))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R6 being (Subset of ( R1 ^omega ));
let R7 being (Subset of ( R1 ^omega ));
assume L520: (R5 c= ( R7 * ) & R6 c= ( R7 * ));
thus L521: thesis
proof
let R2 being set;
assume L522: R2 in ( R5 ^^ R6 );
L523: (ex R9 being (Element of ( R1 ^omega )) st (ex R12 being (Element of ( R1 ^omega )) st (R9 in R5 & R12 in R6 & R2 = ( R9 ^ R12 )))) by L522 , L81;
thus L524: thesis by L523 , L520 , L512;
end;

end;
theorem
L522: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (( R5 * ) = { ( <%> R1 ) } iff (R5 = ( {} ) or R5 = { ( <%> R1 ) }))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
thus L523: (( R5 * ) = { ( <%> R1 ) } implies (R5 = ( {} ) or R5 = { ( <%> R1 ) }))
proof
L524: R5 c= ( R5 * ) by L506;
assume that
L525: ( R5 * ) = { ( <%> R1 ) }
and
L526: (R5 <> ( {} ) & R5 <> { ( <%> R1 ) });
L527: (ex R2 being set st (R2 in R5 & R2 <> ( <%> R1 ))) by L526 , ZFMISC_1:35;
thus L528: contradiction by L527 , L525 , L524 , TARSKI:def 1;
end;

L529:
now
assume L530: R5 = ( {} );
L531:
now
let R2 being set;
assume L532: R2 in ( R5 * );
consider R24 being Nat such that L533: R2 in ( R5 |^ R24 ) by L532 , L490;
L534: (R24 = ( 0 ) implies R2 in { ( <%> R1 ) }) by L533 , L296;
thus L535: R2 in { ( <%> R1 ) } by L534 , L530 , L533 , L305;
end;
L536:
now
let R2 being set;
assume L537: R2 in { ( <%> R1 ) };
L538: R2 in ( R5 |^ ( 0 ) ) by L537 , L296;
thus L539: R2 in ( R5 * ) by L538 , L490;
end;
thus L540: ( R5 * ) = { ( <%> R1 ) } by L536 , L531 , TARSKI:1;
end;
L541:
now
assume L542: R5 = { ( <%> R1 ) };
L543: ( R5 * ) c= { ( <%> R1 ) }
proof
let R2 being set;
assume L544: R2 in ( R5 * );
L545: (ex R24 being Nat st R2 in ( R5 |^ R24 )) by L544 , L490;
thus L546: thesis by L545 , L542 , L338;
end;
L547: { ( <%> R1 ) } c= ( R5 * )
proof
let R2 being set;
assume L548: R2 in { ( <%> R1 ) };
L549: R2 in ( R5 |^ ( 0 ) ) by L548 , L296;
thus L550: thesis by L549 , L490;
end;
thus L551: ( R5 * ) = { ( <%> R1 ) } by L547 , L543 , XBOOLE_0:def 10;
end;
thus L552: thesis by L541 , L529;
end;
theorem
L553: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds ( <%> R1 ) in ( R5 * )))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
L554: { ( <%> R1 ) } = ( R5 |^ ( 0 ) ) by L296;
L555: ( <%> R1 ) in ( R5 |^ ( 0 ) ) by L554 , TARSKI:def 1;
thus L556: thesis by L555 , L490;
end;
theorem
L557: (for R1 being set holds (for R2 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (( R5 * ) = { R2 } implies R2 = ( <%> R1 )))))
proof
let R1 being set;
let R2 being set;
let R5 being (Subset of ( R1 ^omega ));
assume that
L558: ( R5 * ) = { R2 }
and
L559: R2 <> ( <%> R1 );
reconsider D18 = R2 as (Element of ( R1 ^omega )) by L558 , ZFMISC_1:31;
L560: R2 in ( R5 * ) by L558 , ZFMISC_1:31;
L561: ( D18 ^ D18 ) in ( R5 * ) by L560 , L512;
L562: ( D18 ^ D18 ) <> R2 by L559 , L77;
thus L563: thesis by L562 , L558 , L561 , TARSKI:def 1;
end;
theorem
L564: (for R1 being set holds (for R2 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R27 being Nat holds (R2 in ( R5 |^ ( R27 + 1 ) ) implies (R2 in ( ( R5 * ) ^^ R5 ) & R2 in ( R5 ^^ ( R5 * ) )))))))
proof
let R1 being set;
let R2 being set;
let R5 being (Subset of ( R1 ^omega ));
let R27 being Nat;
assume L565: R2 in ( R5 |^ ( R27 + 1 ) );
L566: R2 in ( ( R5 |^ R27 ) ^^ R5 ) by L565 , L290;
consider R9 being (Element of ( R1 ^omega )), R12 being (Element of ( R1 ^omega )) such that L567: R9 in ( R5 |^ R27 ) and L568: (R12 in R5 & R2 = ( R9 ^ R12 )) by L566 , L81;
L569: R9 in ( R5 * ) by L567 , L490;
thus L570: R2 in ( ( R5 * ) ^^ R5 ) by L569 , L568 , L81;
L571: R2 in ( R5 ^^ ( R5 |^ R27 ) ) by L566 , L374;
consider R9 being (Element of ( R1 ^omega )), R12 being (Element of ( R1 ^omega )) such that L572: R9 in R5 and L573: R12 in ( R5 |^ R27 ) and L574: R2 = ( R9 ^ R12 ) by L571 , L81;
L575: R12 in ( R5 * ) by L573 , L490;
thus L576: thesis by L575 , L572 , L574 , L81;
end;
theorem
L577: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R27 being Nat holds (( R5 |^ ( R27 + 1 ) ) c= ( ( R5 * ) ^^ R5 ) & ( R5 |^ ( R27 + 1 ) ) c= ( R5 ^^ ( R5 * ) )))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R27 being Nat;
thus L578: ( R5 |^ ( R27 + 1 ) ) c= ( ( R5 * ) ^^ R5 )
proof
let R2 being set;
assume L579: R2 in ( R5 |^ ( R27 + 1 ) );
thus L580: thesis by L579 , L564;
end;

let R2 being set;
assume L581: R2 in ( R5 |^ ( R27 + 1 ) );
thus L582: thesis by L581 , L564;
end;
theorem
L583: (for R1 being set holds (for R2 being set holds (for R5 being (Subset of ( R1 ^omega )) holds ((R2 in ( ( R5 * ) ^^ R5 ) or R2 in ( R5 ^^ ( R5 * ) )) implies R2 in ( R5 * )))))
proof
let R1 being set;
let R2 being set;
let R5 being (Subset of ( R1 ^omega ));
L584:
now
let R2 being set;
assume L585: R2 in ( R5 ^^ ( R5 * ) );
consider R9 being (Element of ( R1 ^omega )), R12 being (Element of ( R1 ^omega )) such that L586: R9 in R5 and L587: R12 in ( R5 * ) and L588: R2 = ( R9 ^ R12 ) by L585 , L81;
consider R24 being Nat such that L589: R12 in ( R5 |^ R24 ) by L587 , L490;
L590: R9 in ( R5 |^ 1 ) by L586 , L299;
L591: ( R9 ^ R12 ) in ( R5 |^ ( R24 + 1 ) ) by L590 , L589 , L483;
thus L592: R2 in ( R5 * ) by L591 , L588 , L490;
end;
L593:
now
let R2 being set;
assume L594: R2 in ( ( R5 * ) ^^ R5 );
consider R9 being (Element of ( R1 ^omega )), R12 being (Element of ( R1 ^omega )) such that L595: R9 in ( R5 * ) and L596: R12 in R5 and L597: R2 = ( R9 ^ R12 ) by L594 , L81;
consider R24 being Nat such that L598: R9 in ( R5 |^ R24 ) by L595 , L490;
L599: R12 in ( R5 |^ 1 ) by L596 , L299;
L600: ( R9 ^ R12 ) in ( R5 |^ ( R24 + 1 ) ) by L599 , L598 , L483;
thus L601: R2 in ( R5 * ) by L600 , L597 , L490;
end;
thus L602: thesis by L593 , L584;
end;
theorem
L603: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (( ( R5 * ) ^^ R5 ) c= ( R5 * ) & ( R5 ^^ ( R5 * ) ) c= ( R5 * ))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
thus L604: ( ( R5 * ) ^^ R5 ) c= ( R5 * )
proof
let R2 being set;
assume L605: R2 in ( ( R5 * ) ^^ R5 );
thus L606: thesis by L605 , L583;
end;

thus L607: ( R5 ^^ ( R5 * ) ) c= ( R5 * )
proof
let R2 being set;
assume L608: R2 in ( R5 ^^ ( R5 * ) );
thus L609: thesis by L608 , L583;
end;

end;
theorem
L608: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (( <%> R1 ) in R5 implies (( R5 * ) = ( ( R5 * ) ^^ R5 ) & ( R5 * ) = ( R5 ^^ ( R5 * ) )))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
assume L609: ( <%> R1 ) in R5;
L610: ( <%> R1 ) in ( R5 * ) by L553;
L611:
now
let R2 being set;
assume L612: R2 in ( R5 * );
consider R24 being Nat such that L613: R2 in ( R5 |^ R24 ) by L612 , L490;
L614:
now
assume L615: R24 = ( 0 );
L616: R2 in { ( <%> R1 ) } by L615 , L613 , L296;
L617: R2 = ( <%> R1 ) by L616 , TARSKI:def 1;
thus L618: (R2 in ( ( R5 * ) ^^ R5 ) & R2 in ( R5 ^^ ( R5 * ) )) by L617 , L609 , L610 , L166;
end;
L619:
now
assume L620: R24 > ( 0 );
L621: (ex R27 being Nat st ( R27 + 1 ) = R24) by L620 , NAT_1:6;
thus L622: R2 in ( R5 ^^ ( R5 * ) ) by L621 , L613 , L564;
end;
L623:
now
assume L624: R24 > ( 0 );
L625: (ex R27 being Nat st ( R27 + 1 ) = R24) by L624 , NAT_1:6;
thus L626: R2 in ( ( R5 * ) ^^ R5 ) by L625 , L613 , L564;
end;
thus L627: (R2 in ( ( R5 * ) ^^ R5 ) & R2 in ( R5 ^^ ( R5 * ) )) by L623 , L614 , L619;
end;
L628: (for R2 being set holds (R2 in ( R5 * ) implies R2 in ( ( R5 * ) ^^ R5 ))) by L611;
L629: (for R2 being set holds (R2 in ( R5 * ) implies R2 in ( R5 ^^ ( R5 * ) ))) by L611;
L630: (for R2 being set holds ((R2 in ( ( R5 * ) ^^ R5 ) implies R2 in ( R5 * )) & (R2 in ( R5 ^^ ( R5 * ) ) implies R2 in ( R5 * )))) by L583;
thus L631: thesis by L630 , L628 , L629 , TARSKI:1;
end;
theorem
L632: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R24 being Nat holds (( <%> R1 ) in R5 implies (( R5 * ) = ( ( R5 * ) ^^ ( R5 |^ R24 ) ) & ( R5 * ) = ( ( R5 |^ R24 ) ^^ ( R5 * ) ))))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R24 being Nat;
defpred S16[ Nat ] means (( R5 * ) = ( ( R5 * ) ^^ ( R5 |^ $1 ) ) & ( R5 * ) = ( ( R5 |^ $1 ) ^^ ( R5 * ) ));
L633: ( ( R5 |^ ( 0 ) ) ^^ ( R5 * ) ) = ( { ( <%> R1 ) } ^^ ( R5 * ) ) by L296
.= ( R5 * ) by L111;
assume L634: ( <%> R1 ) in R5;
L635:
now
let R24 being Nat;
assume L636: S16[ R24 ];
L637: ( ( R5 * ) ^^ ( R5 |^ ( R24 + 1 ) ) ) = ( ( R5 * ) ^^ ( ( R5 |^ R24 ) ^^ R5 ) ) by L290
.= ( ( R5 * ) ^^ R5 ) by L636 , L184
.= ( R5 * ) by L634 , L608;
L638: ( ( R5 |^ ( R24 + 1 ) ) ^^ ( R5 * ) ) = ( ( ( R5 |^ R24 ) ^^ R5 ) ^^ ( R5 * ) ) by L290
.= ( ( R5 ^^ ( R5 |^ R24 ) ) ^^ ( R5 * ) ) by L374
.= ( R5 ^^ ( R5 * ) ) by L636 , L184
.= ( R5 * ) by L634 , L608;
thus L639: S16[ ( R24 + 1 ) ] by L638 , L637;
end;
L640: ( ( R5 * ) ^^ ( R5 |^ ( 0 ) ) ) = ( ( R5 * ) ^^ { ( <%> R1 ) } ) by L296
.= ( R5 * ) by L111;
L641: S16[ ( 0 ) ] by L640 , L633;
L642: (for R24 being Nat holds S16[ R24 ]) from NAT_1:sch 2(L641 , L635);
thus L643: thesis by L642;
end;
theorem
L644: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (( R5 * ) = ( { ( <%> R1 ) } \/ ( R5 ^^ ( R5 * ) ) ) & ( R5 * ) = ( { ( <%> R1 ) } \/ ( ( R5 * ) ^^ R5 ) ))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
L645:
now
let R2 being set;
assume L646: R2 in ( { ( <%> R1 ) } \/ ( ( R5 * ) ^^ R5 ) );
L647: (R2 in { ( <%> R1 ) } or R2 in ( ( R5 * ) ^^ R5 )) by L646 , XBOOLE_0:def 3;
L648: (R2 = ( <%> R1 ) or R2 in ( R5 * )) by L647 , L583 , TARSKI:def 1;
thus L649: R2 in ( R5 * ) by L648 , L553;
end;
L650:
now
let R2 being set;
assume L651: R2 in ( R5 * );
consider R24 being Nat such that L652: R2 in ( R5 |^ R24 ) by L651 , L490;
L653:
now
assume L654: R24 > ( 0 );
L655: (ex R27 being Nat st ( R27 + 1 ) = R24) by L654 , NAT_1:6;
thus L656: R2 in ( ( R5 * ) ^^ R5 ) by L655 , L652 , L564;
end;
L657: (R24 = ( 0 ) implies R2 in { ( <%> R1 ) }) by L652 , L296;
thus L658: R2 in ( { ( <%> R1 ) } \/ ( ( R5 * ) ^^ R5 ) ) by L657 , L653 , XBOOLE_0:def 3;
end;
L659:
now
let R2 being set;
assume L660: R2 in ( R5 * );
consider R24 being Nat such that L661: R2 in ( R5 |^ R24 ) by L660 , L490;
L662:
now
assume L663: R24 > ( 0 );
L664: (ex R27 being Nat st ( R27 + 1 ) = R24) by L663 , NAT_1:6;
thus L665: R2 in ( R5 ^^ ( R5 * ) ) by L664 , L661 , L564;
end;
L666: (R24 = ( 0 ) implies R2 in { ( <%> R1 ) }) by L661 , L296;
thus L667: R2 in ( { ( <%> R1 ) } \/ ( R5 ^^ ( R5 * ) ) ) by L666 , L662 , XBOOLE_0:def 3;
end;
L668:
now
let R2 being set;
assume L669: R2 in ( { ( <%> R1 ) } \/ ( R5 ^^ ( R5 * ) ) );
L670: (R2 in { ( <%> R1 ) } or R2 in ( R5 ^^ ( R5 * ) )) by L669 , XBOOLE_0:def 3;
L671: (R2 = ( <%> R1 ) or R2 in ( R5 * )) by L670 , L583 , TARSKI:def 1;
thus L672: R2 in ( R5 * ) by L671 , L553;
end;
thus L673: thesis by L668 , L650 , L659 , L645 , TARSKI:1;
end;
theorem
L674: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds ( R5 ^^ ( R5 * ) ) = ( ( R5 * ) ^^ R5 )))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
L675: (( R5 * ) = ( { ( <%> R1 ) } \/ ( R5 ^^ ( R5 * ) ) ) & ( R5 * ) = ( { ( <%> R1 ) } \/ ( ( R5 * ) ^^ R5 ) )) by L644;
L676:
now
per cases ;
suppose L677: ( <%> R1 ) in R5;

L678: ( R5 * ) = ( R5 ^^ ( R5 * ) ) by L677 , L608;
thus L679: thesis by L678 , L677 , L608;
end;
suppose L680: (not ( <%> R1 ) in R5);

L681: (not ( <%> R1 ) in ( ( R5 * ) ^^ R5 )) by L680 , L166;
L682: { ( <%> R1 ) } misses ( ( R5 * ) ^^ R5 ) by L681 , ZFMISC_1:50;
L683: (not ( <%> R1 ) in ( R5 ^^ ( R5 * ) )) by L680 , L166;
L684: { ( <%> R1 ) } misses ( R5 ^^ ( R5 * ) ) by L683 , ZFMISC_1:50;
thus L685: thesis by L684 , L675 , L682 , XBOOLE_1:71;
end;
end;
thus L687: thesis by L676;
end;
theorem
L688: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R24 being Nat holds ( ( R5 |^ R24 ) ^^ ( R5 * ) ) = ( ( R5 * ) ^^ ( R5 |^ R24 ) ))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R24 being Nat;
defpred S17[ Nat ] means ( ( R5 |^ $1 ) ^^ ( R5 * ) ) = ( ( R5 * ) ^^ ( R5 |^ $1 ) );
L689:
now
let R24 being Nat;
assume L690: S17[ R24 ];
L691: ( ( R5 |^ ( R24 + 1 ) ) ^^ ( R5 * ) ) = ( ( ( R5 |^ R24 ) ^^ R5 ) ^^ ( R5 * ) ) by L290
.= ( ( R5 |^ R24 ) ^^ ( R5 ^^ ( R5 * ) ) ) by L184
.= ( ( R5 |^ R24 ) ^^ ( ( R5 * ) ^^ R5 ) ) by L674
.= ( ( ( R5 * ) ^^ ( R5 |^ R24 ) ) ^^ R5 ) by L690 , L184
.= ( ( R5 * ) ^^ ( ( R5 |^ R24 ) ^^ R5 ) ) by L184
.= ( ( R5 * ) ^^ ( R5 |^ ( R24 + 1 ) ) ) by L290;
thus L692: S17[ ( R24 + 1 ) ] by L691;
end;
L693: ( ( R5 |^ ( 0 ) ) ^^ ( R5 * ) ) = ( { ( <%> R1 ) } ^^ ( R5 * ) ) by L296
.= ( R5 * ) by L111
.= ( ( R5 * ) ^^ { ( <%> R1 ) } ) by L111
.= ( ( R5 * ) ^^ ( R5 |^ ( 0 ) ) ) by L296;
L694: S17[ ( 0 ) ] by L693;
L695: (for R24 being Nat holds S17[ R24 ]) from NAT_1:sch 2(L694 , L689);
thus L696: thesis by L695;
end;
theorem
L697: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R6 being (Subset of ( R1 ^omega )) holds (for R24 being Nat holds (R5 c= ( R6 * ) implies ( R5 |^ R24 ) c= ( R6 * ))))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R6 being (Subset of ( R1 ^omega ));
let R24 being Nat;
defpred S18[ Nat ] means ( R5 |^ $1 ) c= ( R6 * );
assume L698: R5 c= ( R6 * );
L699:
now
let R24 being Nat;
assume L700: S18[ R24 ];
L701: ( ( R5 |^ R24 ) ^^ R5 ) c= ( R6 * ) by L700 , L698 , L519;
thus L702: S18[ ( R24 + 1 ) ] by L701 , L290;
end;
L703: ( <%> R1 ) in ( R6 * ) by L553;
L704: { ( <%> R1 ) } c= ( R6 * ) by L703 , ZFMISC_1:31;
L705: S18[ ( 0 ) ] by L704 , L296;
L706: (for R24 being Nat holds S18[ R24 ]) from NAT_1:sch 2(L705 , L699);
thus L707: thesis by L706;
end;
theorem
L708: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R6 being (Subset of ( R1 ^omega )) holds (R5 c= ( R6 * ) implies ( R5 * ) c= ( R6 * )))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R6 being (Subset of ( R1 ^omega ));
assume L709: R5 c= ( R6 * );
thus L710: thesis
proof
let R2 being set;
assume L711: R2 in ( R5 * );
consider R24 being Nat such that L712: R2 in ( R5 |^ R24 ) by L711 , L490;
L713: ( R5 |^ R24 ) c= ( R6 * ) by L709 , L697;
thus L714: thesis by L713 , L712;
end;

end;
theorem
L711: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R6 being (Subset of ( R1 ^omega )) holds (R5 c= R6 implies ( R5 * ) c= ( R6 * )))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R6 being (Subset of ( R1 ^omega ));
assume L712: R5 c= R6;
L713: R6 c= ( R6 * ) by L506;
L714: R5 c= ( R6 * ) by L713 , L712 , XBOOLE_1:1;
thus L715: thesis by L714 , L708;
end;
theorem
L716: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds ( ( R5 * ) * ) = ( R5 * )))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
L717: (( ( R5 * ) * ) c= ( R5 * ) & ( R5 * ) c= ( ( R5 * ) * )) by L506 , L708;
thus L718: thesis by L717 , XBOOLE_0:def 10;
end;
theorem
L719: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds ( ( R5 * ) ^^ ( R5 * ) ) = ( R5 * )))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
L720: ( <%> R1 ) in ( R5 * ) by L553;
L721: ( R5 * ) c= ( ( R5 * ) ^^ ( R5 * ) ) by L720 , L174;
L722: ( ( R5 * ) ^^ ( R5 * ) ) c= ( R5 * ) by L519;
thus L723: thesis by L722 , L721 , XBOOLE_0:def 10;
end;
theorem
L724: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R24 being Nat holds ( ( R5 |^ R24 ) * ) c= ( R5 * )))) by L503 , L708;
theorem
L725: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R24 being Nat holds ( ( R5 * ) |^ R24 ) c= ( R5 * ))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R24 being Nat;
L726: ( ( R5 * ) |^ R24 ) c= ( ( R5 * ) * ) by L503;
thus L727: thesis by L726 , L716;
end;
theorem
L728: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R24 being Nat holds (R24 > ( 0 ) implies ( ( R5 * ) |^ R24 ) = ( R5 * )))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R24 being Nat;
L729: ( <%> R1 ) in ( R5 * ) by L553;
L730: (R24 > ( 0 ) implies ( R5 * ) c= ( ( R5 * ) |^ R24 )) by L729 , L453;
L731: ( ( R5 * ) |^ R24 ) c= ( R5 * ) by L725;
thus L732: thesis by L731 , L730 , XBOOLE_0:def 10;
end;
theorem
L733: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R6 being (Subset of ( R1 ^omega )) holds (R5 c= ( R6 * ) implies ( R6 * ) = ( ( R6 \/ R5 ) * )))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R6 being (Subset of ( R1 ^omega ));
defpred S19[ Nat ] means ( ( R6 \/ R5 ) |^ $1 ) c= ( R6 * );
assume L734: R5 c= ( R6 * );
L735:
now
let R24 being Nat;
assume L736: S19[ R24 ];
L737: R6 c= ( R6 * ) by L506;
L738: ( R6 \/ R5 ) c= ( R6 * ) by L737 , L734 , XBOOLE_1:8;
L739: ( ( R6 \/ R5 ) |^ ( R24 + 1 ) ) = ( ( ( R6 \/ R5 ) |^ R24 ) ^^ ( R6 \/ R5 ) ) by L290;
thus L740: S19[ ( R24 + 1 ) ] by L739 , L736 , L738 , L519;
end;
L741: (( ( R6 \/ R5 ) |^ ( 0 ) ) = { ( <%> R1 ) } & ( <%> R1 ) in ( R6 * )) by L296 , L553;
L742: S19[ ( 0 ) ] by L741 , ZFMISC_1:31;
L743: (for R24 being Nat holds S19[ R24 ]) from NAT_1:sch 2(L742 , L735);
L744: ( ( R6 \/ R5 ) * ) c= ( R6 * )
proof
let R2 being set;
assume L745: R2 in ( ( R6 \/ R5 ) * );
consider R24 being Nat such that L746: R2 in ( ( R6 \/ R5 ) |^ R24 ) by L745 , L490;
L747: ( ( R6 \/ R5 ) |^ R24 ) c= ( R6 * ) by L743;
thus L748: thesis by L747 , L746;
end;
L749: ( R6 * ) c= ( ( R6 \/ R5 ) * ) by L711 , XBOOLE_1:7;
thus L750: thesis by L749 , L744 , XBOOLE_0:def 10;
end;
theorem
L751: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R9 being (Element of ( R1 ^omega )) holds (R9 in ( R5 * ) implies ( R5 * ) = ( ( R5 \/ { R9 } ) * )))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R9 being (Element of ( R1 ^omega ));
assume L752: R9 in ( R5 * );
L753: { R9 } c= ( R5 * ) by L752 , ZFMISC_1:31;
thus L754: thesis by L753 , L733;
end;
theorem
L755: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds ( R5 * ) = ( ( R5 \ { ( <%> R1 ) } ) * )))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
thus L756: ( ( R5 \ { ( <%> R1 ) } ) * ) = ( ( ( R5 \ { ( <%> R1 ) } ) \/ { ( <%> R1 ) } ) * ) by L553 , L751
.= ( ( R5 \/ { ( <%> R1 ) } ) * ) by XBOOLE_1:39
.= ( R5 * ) by L553 , L751;
end;
theorem
L757: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R6 being (Subset of ( R1 ^omega )) holds ( ( R5 * ) \/ ( R6 * ) ) c= ( ( R5 \/ R6 ) * ))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R6 being (Subset of ( R1 ^omega ));
L758: (( R5 * ) c= ( ( R5 \/ R6 ) * ) & ( R6 * ) c= ( ( R5 \/ R6 ) * )) by L711 , XBOOLE_1:7;
thus L759: thesis by L758 , XBOOLE_1:8;
end;
theorem
L760: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (for R6 being (Subset of ( R1 ^omega )) holds ( ( R5 /\ R6 ) * ) c= ( ( R5 * ) /\ ( R6 * ) ))))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
let R6 being (Subset of ( R1 ^omega ));
L761: (( ( R5 /\ R6 ) * ) c= ( R5 * ) & ( ( R5 /\ R6 ) * ) c= ( R6 * )) by L711 , XBOOLE_1:17;
thus L762: thesis by L761 , XBOOLE_1:19;
end;
theorem
L763: (for R1 being set holds (for R2 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (<% R2 %> in ( R5 * ) iff <% R2 %> in R5))))
proof
let R1 being set;
let R2 being set;
let R5 being (Subset of ( R1 ^omega ));
thus L764: (<% R2 %> in ( R5 * ) implies <% R2 %> in R5)
proof
defpred S20[ Nat ] means <% R2 %> in ( R5 |^ $1 );
assume that
L765: <% R2 %> in ( R5 * )
and
L766: (not <% R2 %> in R5);
L767: (ex B17 being Nat st S20[ B17 ]) by L765 , L490;
L768: (ex B18 being Nat st (S20[ B18 ] & (for B19 being Nat holds (S20[ B19 ] implies B18 <= B19)))) from NAT_1:sch 5(L767);
consider C29 being Nat such that L769: S20[ C29 ] and L770: (for B20 being Nat holds (S20[ B20 ] implies C29 <= B20)) by L768;
L771:
now
assume L772: C29 = ( 0 );
L773: <% R2 %> in { ( <%> R1 ) } by L772 , L769 , L296;
thus L774: contradiction by L773 , TARSKI:def 1;
end;
L775:
now
assume L776: C29 > 1;
consider R26 being Nat such that L777: ( R26 + 1 ) = C29 by L776 , NAT_1:6;
L778: <% R2 %> in ( ( R5 |^ R26 ) ^^ R5 ) by L769 , L777 , L290;
consider R9 being (Element of ( R1 ^omega )), R12 being (Element of ( R1 ^omega )) such that L779: R9 in ( R5 |^ R26 ) and L780: (R12 in R5 & <% R2 %> = ( R9 ^ R12 )) by L778 , L81;
L781:
now
reconsider D19 = R26 as (Element of ( NAT )) by ORDINAL1:def 12;
assume that
L782: R9 = <% R2 %>
and
L783: R12 = ( <%> R1 );
L784: (ex B21 being (Element of ( NAT )) st (S20[ B21 ] & C29 > B21))
proof
take D19;
thus L785: thesis by L777 , L779 , L782 , NAT_1:13;
end;
thus L786: contradiction by L784 , L770;
end;
thus L787: <% R2 %> in R5 by L781 , L780 , L29;
end;
L788: (C29 = 1 implies <% R2 %> in R5) by L769 , L299;
thus L789: contradiction by L788 , L766 , L775 , L771 , NAT_1:25;
end;

assume L790: <% R2 %> in R5;
L791: <% R2 %> in ( R5 |^ 1 ) by L790 , L299;
thus L792: thesis by L791 , L490;
end;
begin
definition
let R1 being set;
func Lex R1 -> (Subset of ( R1 ^omega )) means 
:L793: (for R2 being set holds (R2 in it iff (ex R19 being (Element of R1) st (R19 in R1 & R2 = <% R19 %>))));
existence
proof
defpred S21[ set ] means (ex R19 being (Element of R1) st (R19 in R1 & $1 = <% R19 %>));
consider R7 being (Subset of ( R1 ^omega )) such that L794: (for R2 being set holds (R2 in R7 iff (R2 in ( R1 ^omega ) & S21[ R2 ]))) from SUBSET_1:sch 1;
take R7;
L795: (for R2 being set holds (R2 in R7 iff (ex R19 being (Element of R1) st (R19 in R1 & R2 = <% R19 %>))))
proof
let R2 being set;
thus L796: (R2 in R7 implies (ex R19 being (Element of R1) st (R19 in R1 & R2 = <% R19 %>))) by L794;
given R19 being (Element of R1) such that
L797: R19 in R1
and
L798: R2 = <% R19 %>;

L799: { R19 } c= R1 by L797 , ZFMISC_1:31;
L800: ( rng <% R19 %> ) c= R1 by L799 , AFINSQ_1:33;
L801: <% R19 %> is (XFinSequence of R1) by L800 , RELAT_1:def 19;
L802: <% R19 %> is (Element of ( R1 ^omega )) by L801 , AFINSQ_1:def 7;
thus L803: thesis by L802 , L794 , L797 , L798;
end;
thus L804: thesis by L795;
end;
uniqueness
proof
let C30 , C31 being (Subset of ( R1 ^omega ));
assume that
L805: (for R2 being set holds (R2 in C30 iff (ex R19 being (Element of R1) st (R19 in R1 & R2 = <% R19 %>))))
and
L806: (for R2 being set holds (R2 in C31 iff (ex R19 being (Element of R1) st (R19 in R1 & R2 = <% R19 %>))));
L807:
now
let R2 being set;
thus L808: (R2 in C30 implies R2 in C31)
proof
assume L809: R2 in C30;
L810: (ex R19 being (Element of R1) st (R19 in R1 & R2 = <% R19 %>)) by L809 , L805;
thus L811: thesis by L810 , L806;
end;

assume L812: R2 in C31;
L813: (ex R19 being (Element of R1) st (R19 in R1 & R2 = <% R19 %>)) by L812 , L806;
thus L814: R2 in C30 by L813 , L805;
end;
thus L815: thesis by L807 , TARSKI:1;
end;
end;
theorem
L817: (for R1 being set holds (for R9 being (Element of ( R1 ^omega )) holds R9 in ( ( Lex R1 ) |^ ( len R9 ) )))
proof
let R1 being set;
let R9 being (Element of ( R1 ^omega ));
defpred S22[ Nat ] means (for R9 being (Element of ( R1 ^omega )) holds (( len R9 ) = $1 implies R9 in ( ( Lex R1 ) |^ $1 )));
L818:
now
let R24 being Nat;
assume L819: S22[ R24 ];
L820:
now
let R12 being (Element of ( R1 ^omega ));
assume L821: ( len R12 ) = ( R24 + 1 );
consider R13 being (Element of ( R1 ^omega )), R19 being (Element of R1) such that L822: ( len R13 ) = R24 and L823: R12 = ( R13 ^ <% R19 %> ) by L821 , L48;
L824: <% R19 %> is (Element of ( R1 ^omega )) by L823 , L39;
L825: R19 in R1 by L824 , L43;
L826: <% R19 %> in ( Lex R1 ) by L825 , L793;
L827: <% R19 %> in ( ( Lex R1 ) |^ 1 ) by L826 , L299;
L828: R13 in ( ( Lex R1 ) |^ R24 ) by L819 , L822;
thus L829: R12 in ( ( Lex R1 ) |^ ( R24 + 1 ) ) by L828 , L823 , L827 , L483;
end;
thus L830: S22[ ( R24 + 1 ) ] by L820;
end;
L831: S22[ ( 0 ) ]
proof
let R9 being (Element of ( R1 ^omega ));
assume L832: ( len R9 ) = ( 0 );
L833: R9 = ( <%> R1 ) by L832;
L834: R9 in { ( <%> R1 ) } by L833 , TARSKI:def 1;
thus L835: thesis by L834 , L296;
end;
L836: (for R24 being Nat holds S22[ R24 ]) from NAT_1:sch 2(L831 , L818);
thus L837: thesis by L836;
end;
theorem
L838: (for R1 being set holds ( ( Lex R1 ) * ) = ( R1 ^omega ))
proof
let R1 being set;
L839:
now
let R2 being set;
assume L840: R2 in ( R1 ^omega );
reconsider D20 = R2 as (Element of ( R1 ^omega )) by L840;
L841: D20 in ( ( Lex R1 ) |^ ( len D20 ) ) by L817;
thus L842: R2 in ( ( Lex R1 ) * ) by L841 , L490;
end;
L843: (for R2 being set holds (R2 in ( ( Lex R1 ) * ) implies R2 in ( R1 ^omega )));
thus L844: thesis by L843 , L839 , TARSKI:1;
end;
theorem
L845: (for R1 being set holds (for R5 being (Subset of ( R1 ^omega )) holds (( R5 * ) = ( R1 ^omega ) implies ( Lex R1 ) c= R5)))
proof
let R1 being set;
let R5 being (Subset of ( R1 ^omega ));
assume L846: ( R5 * ) = ( R1 ^omega );
thus L847: thesis
proof
let R2 being set;
assume L848: R2 in ( Lex R1 );
L849: (ex R19 being (Element of R1) st (R19 in R1 & R2 = <% R19 %>)) by L848 , L793;
thus L850: thesis by L849 , L846 , L848 , L763;
end;

end;
