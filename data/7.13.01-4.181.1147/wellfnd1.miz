:: On same equivalents of well-foundedness
::  by Piotr Rudnicki and Andrzej Trybulec
::
:: Received February 25, 1997
:: Copyright (c) 1997-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies FUNCT_1, PARTFUN1, TARSKI, RELAT_1, SUBSET_1, CARD_1, XBOOLE_0,
      CARD_5, ORDINAL2, ORDERS_2, WELLORD1, STRUCT_0, WAYBEL_0, XXREAL_0,
      ZFMISC_1, SETFAM_1, ORDINAL1, CARD_2, FINSET_1, FUNCOP_1, FUNCT_4, NAT_1,
      ARYTM_3, NUMBERS, WELLFND1;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, CARD_1, NUMBERS, RELAT_1,
      FUNCT_1, BINOP_1, SETFAM_1, DOMAIN_1, ORDINAL1, NAT_1, STRUCT_0,
      RELSET_1, PARTFUN1, FUNCT_2, FUNCT_4, FUNCOP_1, WELLORD1, ORDINAL2,
      FINSET_1, CARD_2, ORDERS_2, CARD_5, RFUNCT_3, WAYBEL_0;
 constructors SETFAM_1, WELLORD1, BINOP_1, FUNCT_4, ORDINAL2, CARD_2, REALSET1,
      CARD_5, RFUNCT_3, WAYBEL_0, RELSET_1;
 registrations XBOOLE_0, SUBSET_1, ORDINAL1, RELSET_1, PARTFUN1, FUNCOP_1,
      CARD_1, CARD_5, STRUCT_0, WAYBEL_0, FUNCT_1, ZFMISC_1;
 requirements NUMERALS, SUBSET, BOOLE;
 definitions TARSKI, RELAT_1, FUNCT_1, WELLORD1, WAYBEL_0, XBOOLE_0, BINOP_1,
      FUNCOP_1;
 theorems TARSKI, ENUMSET1, ZFMISC_1, RELAT_1, RELSET_1, FUNCT_1, ORDINAL1,
      WELLORD1, GRFUNC_1, PARTFUN1, FUNCT_2, ORDINAL2, FUNCOP_1, CARD_1,
      ORDERS_2, FUNCT_4, CARD_5, WAYBEL_0, XBOOLE_0, XBOOLE_1, BINOP_1, CARD_2,
      XTUPLE_0;
 schemes NAT_1, SUBSET_1, DOMAIN_1, FUNCT_7, BINOP_1;

begin
theorem
L1: (for B1 being  functional set holds ((for B2 , B3 being Function holds ((B2 in B1 & B3 in B1) implies B2 tolerates B3)) implies ( union B1 ) is Function))
proof
let C1 being  functional set;
assume L2: (for B4 , B5 being Function holds ((B4 in C1 & B5 in C1) implies B4 tolerates B5));
L3: ( union C1 ) is  Function-like
proof
let C2 , C3 , C4 being set;
assume that
L4: [ C2 , C3 ] in ( union C1 )
and
L5: [ C2 , C4 ] in ( union C1 )
and
L6: C3 <> C4;
consider C5 being set such that L7: [ C2 , C4 ] in C5 and L8: C5 in C1 by L5 , TARSKI:def 4;
consider C6 being set such that L9: [ C2 , C3 ] in C6 and L10: C6 in C1 by L4 , TARSKI:def 4;
reconsider D1 = C6 , D2 = C5 as Function by L10 , L8;
L11: D1 tolerates D2 by L2 , L10 , L8;
L12: (ex B6 being Function st (D1 c= B6 & D2 c= B6)) by L11 , PARTFUN1:52;
thus L13: contradiction by L12 , L6 , L9 , L7 , FUNCT_1:def 1;
end;
L14: ( union C1 ) is  Relation-like
proof
let C7 being set;
assume L15: C7 in ( union C1 );
L16: (ex B7 being set st (C7 in B7 & B7 in C1)) by L15 , TARSKI:def 4;
thus L17: thesis by L16 , RELAT_1:def 1;
end;
thus L18: thesis by L14 , L3;
end;
scheme PFSeparation { F1 , F2() -> set , P1[set] } : (ex B8 being (Subset of ( PFuncs (F1() , F2()) )) st (for B9 being (PartFunc of F1() , F2()) holds (B9 in B8 iff P1[ B9 ])))
proof
consider C8 being (Subset of ( PFuncs (F1() , F2()) )) such that L19: (for B10 being set holds (B10 in C8 iff (B10 in ( PFuncs (F1() , F2()) ) & P1[ B10 ]))) from SUBSET_1:sch 1;
take C8;
let C9 being (PartFunc of F1() , F2());
L20: C9 in ( PFuncs (F1() , F2()) ) by PARTFUN1:45;
thus L21: thesis by L20 , L19;
end;
registration
let C10 being set;
cluster ( nextcard C10 ) -> non  empty;
coherence by CARD_1:def 3;
end;
registration
cluster  regular for Aleph;
existence by CARD_5:30;
end;
theorem
L24: (for B11 being  regular Aleph holds (for B12 being set holds ((B12 c= B11 & ( card B12 ) in B11) implies ( sup B12 ) in B11)))
proof
let C11 being  regular Aleph;
L25: ( cf C11 ) = C11 by CARD_5:def 3;
thus L26: thesis by L25 , CARD_5:26;
end;
theorem
L27: (for B13 being RelStr holds (for B14 being set holds ( (the InternalRel of B13) -Seg B14 ) c= (the carrier of B13)))
proof
let C12 being RelStr;
let C13 being set;
set D3 = (the InternalRel of C12);
set D4 = (the carrier of C12);
L28: (( D3 -Seg C13 ) c= ( field D3 ) & ( field D3 ) c= ( D4 \/ D4 )) by RELSET_1:8 , WELLORD1:9;
thus L29: thesis by L28 , XBOOLE_1:1;
end;
definition
let C14 being RelStr;
let C15 being (Subset of C14);
redefine attr C15 is  lower
means
:L30: (for B15 , B16 being set holds ((B15 in C15 & [ B16 , B15 ] in (the InternalRel of C14)) implies B16 in C15));
compatibility
proof
thus L31:now
assume L32: C15 is  lower;
let C16 , C17 being set;
assume that
L33: C16 in C15
and
L34: [ C17 , C16 ] in (the InternalRel of C14);
reconsider D5 = C16 , D6 = C17 as (Element of C14) by L34 , ZFMISC_1:87;
L35: D6 <= D5 by L34 , ORDERS_2:def 5;
thus L36: C17 in C15 by L35 , L32 , L33 , WAYBEL_0:def 19;
end;
assume L37: (for B17 , B18 being set holds ((B17 in C15 & [ B18 , B17 ] in (the InternalRel of C14)) implies B18 in C15));
let C18 , C19 being (Element of C14);
assume that
L38: C18 in C15;
assume L39: C19 <= C18;
L40: [ C19 , C18 ] in (the InternalRel of C14) by L39 , ORDERS_2:def 5;
thus L41: thesis by L40 , L37 , L38;
end;
end;
theorem
L43: (for B19 being RelStr holds (for B20 being (Subset of B19) holds (for B21 being set holds ((B20 is  lower & B21 in B20) implies ( (the InternalRel of B19) -Seg B21 ) c= B20))))
proof
let C20 being RelStr;
let C21 being (Subset of C20);
let C22 being set;
assume that
L44: (C21 is  lower & C22 in C21);
let C23 being set;
assume L45: C23 in ( (the InternalRel of C20) -Seg C22 );
L46: [ C23 , C22 ] in (the InternalRel of C20) by L45 , WELLORD1:1;
thus L47: thesis by L46 , L44 , L30;
end;
theorem
L48: (for B22 being RelStr holds (for B23 being  lower (Subset of B22) holds (for B24 being (Subset of B22) holds (for B25 being set holds ((B24 = ( B23 \/ { B25 } ) & ( (the InternalRel of B22) -Seg B25 ) c= B23) implies B24 is  lower)))))
proof
let C24 being RelStr;
let C25 being  lower (Subset of C24);
let C26 being (Subset of C24);
let C27 being set;
set D7 = (the InternalRel of C24);
assume that
L49: C26 = ( C25 \/ { C27 } )
and
L50: ( D7 -Seg C27 ) c= C25;
let C28 , C29 being set;
assume that
L51: C28 in C26
and
L52: [ C29 , C28 ] in D7;
per cases  by L49 , L51 , XBOOLE_0:def 3;
suppose L53: C28 in C25;

L54: C29 in C25 by L53 , L52 , L30;
thus L55: thesis by L54 , L49 , XBOOLE_0:def 3;
end;
suppose L56: (C28 in { C27 } & C29 = C28);

thus L57: thesis by L56 , L51;
end;
suppose L58: (C28 in { C27 } & C29 <> C28);

L59: C28 = C27 by L58 , TARSKI:def 1;
L60: C29 in ( D7 -Seg C27 ) by L59 , L52 , L58 , WELLORD1:1;
thus L61: thesis by L60 , L49 , L50 , XBOOLE_0:def 3;
end;
end;
begin
definition
let C30 being RelStr;
attr C30 is  well_founded
means
:L63: (the InternalRel of C30) is_well_founded_in (the carrier of C30);
end;
registration
cluster non  empty  well_founded for RelStr;
existence
proof
reconsider D8 = ( {} ) as (Relation of { ( {} ) }) by RELSET_1:12;
take D9 = RelStr (# { ( {} ) } , D8 #);
thus L65: D9 is non  empty;
let C31 being set;
assume L66: (C31 c= (the carrier of D9) & C31 <> ( {} ));
take D10 = ( {} );
L67: C31 = { ( {} ) } by L66 , ZFMISC_1:33;
thus L68: D10 in C31 by L67 , TARSKI:def 1;
assume L69: ( ( (the InternalRel of D9) -Seg D10 ) /\ C31 ) <> ( {} );
consider C32 being set such that L70: C32 in ( ( (the InternalRel of D9) -Seg D10 ) /\ C31 ) by L69 , XBOOLE_0:def 1;
L71: C32 in ( (the InternalRel of D9) -Seg D10 ) by L70 , XBOOLE_0:def 4;
thus L72: contradiction by L71 , WELLORD1:1;
end;
end;
definition
let C33 being RelStr;
let C34 being (Subset of C33);
attr C34 is  well_founded
means
:L74: (the InternalRel of C33) is_well_founded_in C34;
end;
registration
let C35 being RelStr;
cluster  well_founded for (Subset of C35);
existence
proof
reconsider D11 = ( {} ) as (Subset of C35) by XBOOLE_1:2;
take D11;
let C36 being set;
assume L76: (C36 c= D11 & C36 <> ( {} ));
thus L77: thesis by L76;
end;
end;
definition
let C37 being RelStr;
func well_founded-Part C37 -> (Subset of C37) means 
:L79: it = ( union { B26 where B26 is (Subset of C37) : B26 is  well_founded  lower } );
existence
proof
set D12 = { B27 where B27 is (Subset of C37) : B27 is  well_founded  lower };
L80: D12 c= ( bool (the carrier of C37) )
proof
let C38 being set;
assume L81: C38 in D12;
L82: (ex B28 being (Subset of C37) st (C38 = B28 & B28 is  well_founded  lower)) by L81;
thus L83: thesis by L82;
end;
reconsider D13 = D12 as (Subset-Family of C37) by L80;
L84: ( union D13 ) is (Subset of C37);
thus L85: thesis by L84;
end;
uniqueness;
end;
registration
let C39 being RelStr;
cluster ( well_founded-Part C39 ) ->  lower  well_founded;
coherence
proof
set D14 = ( well_founded-Part C39 );
set D15 = (the InternalRel of C39);
set D16 = { B29 where B29 is (Subset of C39) : B29 is  well_founded  lower };
L87: D14 = ( union D16 ) by L79;
thus L88:now
let C40 , C41 being set;
assume that
L89: C40 in D14
and
L90: [ C41 , C40 ] in D15;
consider C42 being set such that L91: C40 in C42 and L92: C42 in D16 by L87 , L89 , TARSKI:def 4;
consider C43 being (Subset of C39) such that L93: C42 = C43 and L94: C43 is  well_founded  lower by L92;
L95: C41 in C43 by L90 , L91 , L93 , L94 , L30;
thus L96: C41 in D14 by L95 , L87 , L92 , L93 , TARSKI:def 4;
end;
let C44 being set;
assume that
L97: C44 c= D14
and
L98: C44 <> ( {} );
consider C45 being set such that L99: C45 in C44 by L98 , XBOOLE_0:def 1;
consider C46 being set such that L100: C45 in C46 and L101: C46 in D16 by L87 , L97 , L99 , TARSKI:def 4;
consider C47 being (Subset of C39) such that L102: C46 = C47 and L103: C47 is  well_founded  lower by L101;
set D17 = ( C44 /\ C47 );
L104: D15 is_well_founded_in C47 by L103 , L74;
L105: (D17 c= C47 & D17 <> ( {} )) by L99 , L100 , L102 , XBOOLE_0:def 4 , XBOOLE_1:17;
consider C48 being set such that L106: C48 in D17 and L107: ( D15 -Seg C48 ) misses D17 by L105 , L104 , WELLORD1:def 3;
L108: C48 in C44 by L106 , XBOOLE_0:def 4;
L109: C48 in C47 by L106 , XBOOLE_0:def 4;
L110: ( ( D15 -Seg C48 ) /\ C44 ) = ( ( ( D15 -Seg C48 ) /\ C47 ) /\ C44 ) by L109 , L103 , L43 , XBOOLE_1:28
.= ( ( D15 -Seg C48 ) /\ D17 ) by XBOOLE_1:16;
L111: ( ( D15 -Seg C48 ) /\ D17 ) = ( {} ) by L107 , XBOOLE_0:def 7;
L112: ( D15 -Seg C48 ) misses C44 by L111 , L110 , XBOOLE_0:def 7;
thus L113: thesis by L112 , L108;
end;
end;
theorem
L115: (for B30 being non  empty RelStr holds (for B31 being (Element of B30) holds { B31 } is  well_founded  well_founded  well_founded  well_founded (Subset of B30)))
proof
let C49 being non  empty RelStr;
let C50 being (Element of C49);
set D18 = (the InternalRel of C49);
reconsider D19 = { C50 } as (Subset of C49);
L116: D19 is  well_founded
proof
let C51 being set;
assume that
L117: C51 c= D19
and
L118: C51 <> ( {} );
take C50;
L119: C51 = D19 by L117 , L118 , ZFMISC_1:33;
thus L120: C50 in C51 by L119 , TARSKI:def 1;
assume L121: (not thesis);
consider C52 being set such that L122: C52 in ( ( D18 -Seg C50 ) /\ C51 ) by L121 , XBOOLE_0:4;
L123: C52 in ( D18 -Seg C50 ) by L122 , XBOOLE_0:def 4;
L124: C52 <> C50 by L123 , WELLORD1:1;
L125: C52 in C51 by L122 , XBOOLE_0:def 4;
thus L126: contradiction by L125 , L117 , L124 , TARSKI:def 1;
end;
thus L127: thesis by L116;
end;
theorem
L128: (for B32 being RelStr holds (for B33 , B34 being  well_founded (Subset of B32) holds (B33 is  lower implies ( B33 \/ B34 ) is  well_founded  well_founded  well_founded  well_founded (Subset of B32))))
proof
let C53 being RelStr;
let C54 , C55 being  well_founded (Subset of C53);
set D20 = (the InternalRel of C53);
assume L129: C54 is  lower;
reconsider D21 = ( C54 \/ C55 ) as (Subset of C53);
L130: D20 is_well_founded_in C55 by L74;
L131: D20 is_well_founded_in C54 by L74;
L132: D21 is  well_founded
proof
let C56 being set;
assume that
L133: C56 c= D21
and
L134: C56 <> ( {} );
set D22 = ( C54 /\ C56 );
L135: D22 c= C54 by XBOOLE_1:17;
per cases ;
suppose L136: D22 = ( {} );

L137: C54 misses C56 by L136 , XBOOLE_0:def 7;
L138: C56 c= C55 by L137 , L133 , XBOOLE_1:73;
thus L139: thesis by L138 , L130 , L134 , WELLORD1:def 3;
end;
suppose L140: D22 <> ( {} );

consider C57 being set such that L141: C57 in D22 and L142: ( D20 -Seg C57 ) misses D22 by L140 , L131 , L135 , WELLORD1:def 3;
L143: C57 in C54 by L141 , XBOOLE_0:def 4;
take C57;
thus L144: C57 in C56 by L141 , XBOOLE_0:def 4;
assume L145: ( ( D20 -Seg C57 ) /\ C56 ) <> ( {} );
consider C58 being set such that L146: C58 in ( ( D20 -Seg C57 ) /\ C56 ) by L145 , XBOOLE_0:def 1;
L147: C58 in C56 by L146 , XBOOLE_0:def 4;
L148: C58 in ( D20 -Seg C57 ) by L146 , XBOOLE_0:def 4;
L149: [ C58 , C57 ] in D20 by L148 , WELLORD1:1;
L150: C58 in C54 by L149 , L129 , L143 , L30;
L151: C58 in D22 by L150 , L147 , XBOOLE_0:def 4;
thus L152: contradiction by L151 , L142 , L148 , XBOOLE_0:3;
end;
end;
thus L154: thesis by L132;
end;
theorem
L155: (for B35 being RelStr holds (B35 is  well_founded iff ( well_founded-Part B35 ) = (the carrier of B35)))
proof
let C59 being RelStr;
set D23 = (the InternalRel of C59);
set D24 = (the carrier of C59);
set D25 = ( well_founded-Part C59 );
set D26 = { B36 where B36 is (Subset of C59) : B36 is  well_founded  lower };
L156: D24 c= D24;
reconsider D27 = D24 as (Subset of C59) by L156;
L157: D25 = ( union D26 ) by L79;
thus L158:now
L159: D27 is  lower
proof
let C60 , C61 being set;
thus L160: thesis by ZFMISC_1:87;
end;
assume L161: C59 is  well_founded;
L162: D23 is_well_founded_in D27 by L161 , L63;
L163: D27 is  well_founded by L162 , L74;
L164: D27 in D26 by L163 , L159;
L165: D27 c= D25 by L164 , L157 , ZFMISC_1:74;
thus L166: D25 = D24 by L165 , XBOOLE_0:def 10;
end;
assume L167: D25 = D24;
let C62 being set;
assume that
L168: C62 c= D24
and
L169: C62 <> ( {} );
consider C63 being set such that L170: C63 in C62 by L169 , XBOOLE_0:def 1;
consider C64 being set such that L171: C63 in C64 and L172: C64 in D26 by L157 , L167 , L168 , L170 , TARSKI:def 4;
consider C65 being (Subset of C59) such that L173: C64 = C65 and L174: C65 is  well_founded  lower by L172;
set D28 = ( C62 /\ C65 );
L175: D23 is_well_founded_in C65 by L174 , L74;
L176: (D28 c= C65 & D28 <> ( {} )) by L170 , L171 , L173 , XBOOLE_0:def 4 , XBOOLE_1:17;
consider C66 being set such that L177: C66 in D28 and L178: ( D23 -Seg C66 ) misses D28 by L176 , L175 , WELLORD1:def 3;
L179: C66 in C62 by L177 , XBOOLE_0:def 4;
L180: C66 in C65 by L177 , XBOOLE_0:def 4;
L181: ( ( D23 -Seg C66 ) /\ C62 ) = ( ( ( D23 -Seg C66 ) /\ C65 ) /\ C62 ) by L180 , L174 , L43 , XBOOLE_1:28
.= ( ( D23 -Seg C66 ) /\ D28 ) by XBOOLE_1:16;
L182: ( ( D23 -Seg C66 ) /\ D28 ) = ( {} ) by L178 , XBOOLE_0:def 7;
L183: ( D23 -Seg C66 ) misses C62 by L182 , L181 , XBOOLE_0:def 7;
thus L184: thesis by L183 , L179;
end;
theorem
L185: (for B37 being non  empty RelStr holds (for B38 being (Element of B37) holds (( (the InternalRel of B37) -Seg B38 ) c= ( well_founded-Part B37 ) implies B38 in ( well_founded-Part B37 ))))
proof
let C67 being non  empty RelStr;
let C68 being (Element of C67);
set D29 = ( well_founded-Part C67 );
set D30 = { B39 where B39 is (Subset of C67) : B39 is  well_founded  lower };
set D31 = ( D29 \/ { C68 } );
L186: D29 = ( union D30 ) by L79;
L187: C68 in { C68 } by TARSKI:def 1;
L188: C68 in D31 by L187 , XBOOLE_0:def 3;
reconsider D32 = D31 as (Subset of C67);
L189: { C68 } is  well_founded  well_founded  well_founded  well_founded (Subset of C67) by L115;
L190: D32 is  well_founded by L189 , L128;
assume L191: ( (the InternalRel of C67) -Seg C68 ) c= D29;
L192: D32 is  lower by L191 , L48;
L193: D32 in D30 by L192 , L190;
thus L194: thesis by L193 , L186 , L188 , TARSKI:def 4;
end;
scheme WFMin { F3() -> non  empty RelStr , F4() -> (Element of F3()) , P2[set] } : (ex B40 being (Element of F3()) st (P2[ B40 ] & (not (ex B41 being (Element of F3()) st (B40 <> B41 & P2[ B41 ] & [ B41 , B40 ] in (the InternalRel of F3()))))))
provided
L195: P2[ F4() ]
and
L196: F3() is  well_founded
proof
set D33 = (the carrier of F3());
set D34 = (the InternalRel of F3());
set D35 = { B42 where B42 is (Element of D33) : P2[ B42 ] };
L197: F4() in D35 by L195;
L198: D35 is (Subset of D33) from DOMAIN_1:sch 7;
reconsider D36 = D35 as non  empty (Subset of D33) by L198 , L197;
L199: D34 is_well_founded_in D33 by L196 , L63;
consider C69 being set such that L200: C69 in D36 and L201: ( D34 -Seg C69 ) misses D36 by L199 , WELLORD1:def 3;
reconsider D37 = C69 as (Element of F3()) by L200;
take D37;
L202: (ex B43 being (Element of D33) st (B43 = D37 & P2[ B43 ])) by L200;
thus L203: P2[ D37 ] by L202;
given C70 being (Element of F3()) such that
L204: (D37 <> C70 & P2[ C70 ] & [ C70 , D37 ] in D34);

L205: (C70 in D36 & C70 in ( D34 -Seg D37 )) by L204 , WELLORD1:1;
thus L206: contradiction by L205 , L201 , XBOOLE_0:3;
end;
theorem
L207: (for B44 being non  empty RelStr holds (B44 is  well_founded iff (for B45 being set holds ((for B46 being (Element of B44) holds (( (the InternalRel of B44) -Seg B46 ) c= B45 implies B46 in B45)) implies (the carrier of B44) c= B45))))
proof
let C71 being non  empty RelStr;
set D38 = (the carrier of C71);
set D39 = (the InternalRel of C71);
thus L208:now
assume L209: C71 is  well_founded;
let C72 being set;
assume that
L210: (for B47 being (Element of D38) holds (( D39 -Seg B47 ) c= C72 implies B47 in C72));
defpred S1[ set ] means ($1 in D38 & (not $1 in C72));
assume L211: (not D38 c= C72);
consider C73 being set such that L212: C73 in D38 and L213: (not C73 in C72) by L211 , TARSKI:def 3;
reconsider D40 = C73 as (Element of C71) by L212;
L214: S1[ D40 ] by L213;
consider C74 being (Element of C71) such that L215: S1[ C74 ] and L216: (not (ex B48 being (Element of C71) st (C74 <> B48 & S1[ B48 ] & [ B48 , C74 ] in D39))) from WFMin(L214 , L209);
L217:
now
assume L218: (not ( D39 -Seg C74 ) c= C72);
consider C75 being set such that L219: C75 in ( D39 -Seg C74 ) and L220: (not C75 in C72) by L218 , TARSKI:def 3;
L221: C74 <> C75 by L219 , WELLORD1:1;
L222: [ C75 , C74 ] in D39 by L219 , WELLORD1:1;
reconsider D41 = C75 as (Element of C71) by L222 , ZFMISC_1:87;
L223: D41 = D41;
thus L224: contradiction by L223 , L216 , L220 , L221 , L222;
end;
thus L225: contradiction by L217 , L210 , L215;
end;
assume L226: (for B49 being set holds ((for B50 being (Element of D38) holds (( D39 -Seg B50 ) c= B49 implies B50 in B49)) implies D38 c= B49));
assume L227: (not C71 is  well_founded);
L228: (not D39 is_well_founded_in D38) by L227 , L63;
consider C76 being set such that L229: (C76 c= D38 & C76 <> ( {} )) and L230: (not (ex B51 being set st (B51 in C76 & ( D39 -Seg B51 ) misses C76))) by L228 , WELLORD1:def 3;
L231:
now
let C77 being (Element of D38);
assume that
L232: ( D39 -Seg C77 ) c= ( D38 \ C76 );
assume L233: (not C77 in ( D38 \ C76 ));
L234: C77 in C76 by L233 , XBOOLE_0:def 5;
L235: ( D39 -Seg C77 ) meets C76 by L234 , L230;
L236: (ex B52 being set st (B52 in ( D39 -Seg C77 ) & B52 in C76)) by L235 , XBOOLE_0:3;
thus L237: contradiction by L236 , L232 , XBOOLE_0:def 5;
end;
L238: D38 c= ( D38 \ C76 ) by L231 , L226;
thus L239: contradiction by L238 , L229 , XBOOLE_1:1 , XBOOLE_1:38;
end;
scheme WFInduction { F5() -> non  empty RelStr , P3[set] } : (for B53 being (Element of F5()) holds P3[ B53 ])
provided
L240: (for B54 being (Element of F5()) holds ((for B55 being (Element of F5()) holds ((B55 <> B54 & [ B55 , B54 ] in (the InternalRel of F5())) implies P3[ B55 ])) implies P3[ B54 ]))
and
L241: F5() is  well_founded
proof
set D42 = (the carrier of F5());
set D43 = (the InternalRel of F5());
set D44 = { B56 where B56 is (Element of D42) : P3[ B56 ] };
L242:
now
let C78 being (Element of D42);
assume that
L243: ( D43 -Seg C78 ) c= D44;
reconsider D45 = C78 as (Element of F5());
L244:
now
let C79 being (Element of F5());
assume L245: (C79 <> D45 & [ C79 , D45 ] in D43);
L246: C79 in ( D43 -Seg D45 ) by L245 , WELLORD1:1;
L247: C79 in D44 by L246 , L243;
L248: (ex B57 being (Element of D42) st (B57 = C79 & P3[ B57 ])) by L247;
thus L249: P3[ C79 ] by L248;
end;
L250: P3[ D45 ] by L244 , L240;
thus L251: C78 in D44 by L250;
end;
L252: D42 c= D44 by L242 , L241 , L207;
let C80 being (Element of F5());
L253: C80 in D42;
L254: C80 in D44 by L253 , L252;
L255: (ex B58 being (Element of D42) st (C80 = B58 & P3[ B58 ])) by L254;
thus L256: thesis by L255;
end;
definition
let C81 being non  empty RelStr;
let C82 being non  empty set;
let C83 being (Function of [: (the carrier of C81) , ( PFuncs ((the carrier of C81) , C82) ) :] , C82);
let C84 being Function;
pred C84 is_recursively_expressed_by C83
means
:L257: (for B59 being (Element of C81) holds ( C84 . B59 ) = ( C83 . (B59 , ( C84 | ( (the InternalRel of C81) -Seg B59 ) )) ))
;end;
theorem
L259: (for B60 being non  empty RelStr holds (B60 is  well_founded iff (for B61 being non  empty set holds (for B62 being (Function of [: (the carrier of B60) , ( PFuncs ((the carrier of B60) , B61) ) :] , B61) holds (ex B63 being (Function of (the carrier of B60) , B61) st B63 is_recursively_expressed_by B62)))))
proof
let C85 being non  empty RelStr;
set D46 = (the carrier of C85);
set D47 = (the InternalRel of C85);
defpred S2[  ] means (for B64 being non  empty set holds (for B65 being (Function of [: D46 , ( PFuncs (D46 , B64) ) :] , B64) holds (ex B66 being (Function of D46 , B64) st B66 is_recursively_expressed_by B65)));
reconsider D48 = ( ( omega ) +` ( card D46 ) ) as  infinite Cardinal;
set D49 = ( nextcard D48 );
deffunc H1((Element of D46) , (Element of ( PFuncs (D46 , D49) ))) = ( sup ( rng $2 ) );
L260: (for B67 being (Element of D46) holds (for B68 being (Element of ( PFuncs (D46 , D49) )) holds H1(B67 , B68) in D49))
proof
let C86 being (Element of D46);
let C87 being (Element of ( PFuncs (D46 , D49) ));
L261: (( card ( dom C87 ) ) c= ( card D46 ) & ( card ( rng C87 ) ) c= ( card ( dom C87 ) )) by CARD_1:11 , CARD_1:12;
L262: ( card ( rng C87 ) ) c= ( card D46 ) by L261 , XBOOLE_1:1;
L263: ( card D46 ) c= D48 by CARD_2:94;
L264: ( card ( rng C87 ) ) c= D48 by L263 , L262 , XBOOLE_1:1;
L265: ( card ( rng C87 ) ) in D49 by L264 , CARD_1:18 , ORDINAL1:12;
L266: D49 is  regular by CARD_5:30;
thus L267: thesis by L266 , L265 , L24;
end;
consider C88 being (Function of [: D46 , ( PFuncs (D46 , D49) ) :] , D49) such that L268: (for B69 being (Element of D46) holds (for B70 being (Element of ( PFuncs (D46 , D49) )) holds ( C88 . (B69 , B70) ) = H1(B69 , B70))) from FUNCT_7:sch 1(L260);
thus L269: (C85 is  well_founded implies S2[  ])
proof
assume L270: C85 is  well_founded;
let C89 being non  empty set;
let C90 being (Function of [: D46 , ( PFuncs (D46 , C89) ) :] , C89);
defpred S3[ (PartFunc of D46 , C89) ] means (( dom $1 ) is  lower & (for B71 being set holds (B71 in ( dom $1 ) implies ( $1 . B71 ) = ( C90 . [ B71 , ( $1 | ( D47 -Seg B71 ) ) ] ))));
consider C91 being (Subset of ( PFuncs (D46 , C89) )) such that L271: (for B72 being (PartFunc of D46 , C89) holds (B72 in C91 iff S3[ B72 ])) from PFSeparation;
L272:
now
let C92 , C93 being Function;
assume that
L273: C92 in C91
and
L274: C93 in C91;
reconsider D50 = C92 , D51 = C93 as (PartFunc of D46 , C89) by L273 , L274 , PARTFUN1:46;
defpred S4[ set ] means ($1 in ( dom D50 ) & $1 in ( dom D51 ) & ( D50 . $1 ) <> ( D51 . $1 ));
assume L275: (not C92 tolerates C93);
consider C94 being set such that L276: C94 in ( ( dom D50 ) /\ ( dom D51 ) ) and L277: ( D50 . C94 ) <> ( D51 . C94 ) by L275 , PARTFUN1:def 4;
reconsider D52 = C94 as (Element of C85) by L276;
L278: S4[ D52 ] by L276 , L277 , XBOOLE_0:def 4;
consider C95 being (Element of C85) such that L279: S4[ C95 ] and L280: (not (ex B73 being (Element of C85) st (C95 <> B73 & S4[ B73 ] & [ B73 , C95 ] in (the InternalRel of C85)))) from WFMin(L278 , L270);
L281: ( D50 | ( D47 -Seg C95 ) ) = ( D51 | ( D47 -Seg C95 ) )
proof
set D53 = ( D50 | ( D47 -Seg C95 ) );
set D54 = ( D51 | ( D47 -Seg C95 ) );
assume L282: (not thesis);
L283: ( dom D50 ) is  lower by L271 , L273;
L284: ( dom D53 ) = ( D47 -Seg C95 ) by L283 , L279 , L43 , RELAT_1:62;
L285: ( dom D51 ) is  lower by L271 , L274;
L286: ( dom D53 ) = ( dom D54 ) by L285 , L279 , L284 , L43 , RELAT_1:62;
consider C96 being set such that L287: C96 in ( dom D53 ) and L288: ( D53 . C96 ) <> ( D54 . C96 ) by L286 , L282 , FUNCT_1:2;
L289: [ C96 , C95 ] in D47 by L284 , L287 , WELLORD1:1;
reconsider D55 = C96 as (Element of C85) by L287;
L290: (( D53 . D55 ) = ( D50 . D55 ) & ( D54 . D55 ) = ( D51 . D55 )) by L284 , L287 , FUNCT_1:49;
L291: D55 <> C95 by L284 , L287 , WELLORD1:1;
L292: D55 in ( dom D51 ) by L279 , L285 , L289 , L30;
L293: D55 in ( dom D50 ) by L279 , L283 , L289 , L30;
thus L294: contradiction by L293 , L280 , L288 , L289 , L290 , L291 , L292;
end;
L295: ( D50 . C95 ) = ( C90 . [ C95 , ( D51 | ( D47 -Seg C95 ) ) ] ) by L281 , L271 , L273 , L279
.= ( D51 . C95 ) by L271 , L274 , L279;
thus L296: contradiction by L295 , L279;
end;
reconsider D56 = ( union C91 ) as Function by L272 , L1;
L297:
now
let C97 being set;
assume L298: C97 in ( dom D56 );
L299: [ C97 , ( D56 . C97 ) ] in D56 by L298 , FUNCT_1:1;
consider C98 being set such that L300: [ C97 , ( D56 . C97 ) ] in C98 and L301: C98 in C91 by L299 , TARSKI:def 4;
reconsider D57 = C98 as (PartFunc of D46 , C89) by L301 , PARTFUN1:46;
L302: C97 in ( dom D57 ) by L300 , FUNCT_1:1;
L303: (( dom D57 ) is  lower & D57 c= D56) by L271 , L301 , ZFMISC_1:74;
thus L304: ( D56 . C97 ) = ( D57 . C97 ) by L300 , FUNCT_1:1
.= ( C90 . [ C97 , ( D57 | ( D47 -Seg C97 ) ) ] ) by L271 , L301 , L302
.= ( C90 . [ C97 , ( D56 | ( D47 -Seg C97 ) ) ] ) by L302 , L303 , L43 , GRFUNC_1:27;
end;
L305: ( dom D56 ) c= D46
proof
let C99 being set;
assume L306: C99 in ( dom D56 );
L307: [ C99 , ( D56 . C99 ) ] in D56 by L306 , FUNCT_1:1;
consider C100 being set such that L308: [ C99 , ( D56 . C99 ) ] in C100 and L309: C100 in C91 by L307 , TARSKI:def 4;
consider C101 being Function such that L310: C101 = C100 and L311: ( dom C101 ) c= D46 and L312: ( rng C101 ) c= C89 by L309 , PARTFUN1:def 3;
L313: C99 in ( dom C101 ) by L308 , L310 , XTUPLE_0:def 12;
thus L314: thesis by L313 , L311;
end;
L315: ( rng D56 ) c= C89
proof
let C102 being set;
assume L316: C102 in ( rng D56 );
consider C103 being set such that L317: (C103 in ( dom D56 ) & C102 = ( D56 . C103 )) by L316 , FUNCT_1:def 3;
L318: [ C103 , C102 ] in D56 by L317 , FUNCT_1:1;
consider C104 being set such that L319: [ C103 , C102 ] in C104 and L320: C104 in C91 by L318 , TARSKI:def 4;
consider C105 being Function such that L321: C105 = C104 and L322: ( dom C105 ) c= D46 and L323: ( rng C105 ) c= C89 by L320 , PARTFUN1:def 3;
L324: C102 in ( rng C105 ) by L319 , L321 , XTUPLE_0:def 13;
thus L325: thesis by L324 , L323;
end;
L326:
now
let C106 , C107 being set;
assume that
L327: C106 in ( dom D56 )
and
L328: [ C107 , C106 ] in D47;
L329: [ C106 , ( D56 . C106 ) ] in D56 by L327 , FUNCT_1:1;
consider C108 being set such that L330: [ C106 , ( D56 . C106 ) ] in C108 and L331: C108 in C91 by L329 , TARSKI:def 4;
reconsider D58 = C108 as (PartFunc of D46 , C89) by L331 , PARTFUN1:46;
L332: D58 c= D56 by L331 , ZFMISC_1:74;
L333: ( dom D58 ) c= ( dom D56 ) by L332 , GRFUNC_1:2;
L334: (( dom D58 ) is  lower & C106 in ( dom D58 )) by L271 , L330 , L331 , FUNCT_1:1;
L335: C107 in ( dom D58 ) by L334 , L328 , L30;
thus L336: C107 in ( dom D56 ) by L335 , L333;
end;
L337: ( dom D56 ) = D46
proof
defpred S5[ set ] means ($1 in D46 & (not $1 in ( dom D56 )));
assume L338: ( dom D56 ) <> D46;
consider C109 being set such that L339: (not (C109 in ( dom D56 ) iff C109 in D46)) by L338 , TARSKI:1;
reconsider D59 = C109 as (Element of C85) by L305 , L339;
L340: S5[ D59 ] by L339;
consider C110 being (Element of C85) such that L341: S5[ C110 ] and L342: (not (ex B74 being (Element of C85) st (C110 <> B74 & S5[ B74 ] & [ B74 , C110 ] in (the InternalRel of C85)))) from WFMin(L340 , L270);
set D60 = ( C110 .--> ( C90 . [ C110 , ( D56 | ( D47 -Seg C110 ) ) ] ) );
set D61 = ( D56 +* D60 );
L343: ( dom D60 ) = { C110 } by FUNCOP_1:13;
L344: ( rng D61 ) c= C89
proof
L345: D56 in ( PFuncs (D46 , C89) ) by L305 , L315 , PARTFUN1:def 3;
L346: D56 is (PartFunc of D46 , C89) by L345 , PARTFUN1:46;
L347: ( D56 | ( D47 -Seg C110 ) ) is (PartFunc of D46 , C89) by L346 , PARTFUN1:11;
L348: ( D56 | ( D47 -Seg C110 ) ) in ( PFuncs (D46 , C89) ) by L347 , PARTFUN1:45;
let C111 being set;
assume L349: C111 in ( rng D61 );
assume L350: (not C111 in C89);
L351: (( rng D61 ) c= ( ( rng D56 ) \/ ( rng D60 ) ) & (not C111 in ( rng D56 ))) by L350 , L315 , FUNCT_4:17;
L352: C111 in ( rng D60 ) by L351 , L349 , XBOOLE_0:def 3;
L353: ( rng D60 ) = { ( C90 . [ C110 , ( D56 | ( D47 -Seg C110 ) ) ] ) } by FUNCOP_1:8;
L354: C111 = ( C90 . (C110 , ( D56 | ( D47 -Seg C110 ) )) ) by L353 , L352 , TARSKI:def 1;
thus L355: contradiction by L354 , L350 , L348 , BINOP_1:17;
end;
L356: ( dom D61 ) = ( ( dom D56 ) \/ ( dom D60 ) ) by FUNCT_4:def 1;
L357: ( dom D61 ) c= D46
proof
let C112 being set;
assume that
L358: C112 in ( dom D61 )
and
L359: (not C112 in D46);
L360: (not C112 in ( dom D56 )) by L305 , L359;
L361: C112 in ( dom D60 ) by L360 , L356 , L358 , XBOOLE_0:def 3;
thus L362: contradiction by L361 , L343 , L359;
end;
L363: D61 in ( PFuncs (D46 , C89) ) by L357 , L344 , PARTFUN1:def 3;
L364: C110 in ( dom D60 ) by L343 , TARSKI:def 1;
L365: C110 in ( dom D61 ) by L364 , L356 , XBOOLE_0:def 3;
L366: [ C110 , ( D61 . C110 ) ] in D61 by L365 , FUNCT_1:1;
reconsider D62 = D61 as (PartFunc of D46 , C89) by L363 , PARTFUN1:46;
L367:
now
let C113 being set;
assume L368: C113 in ( dom D62 );
per cases  by L356 , L368 , XBOOLE_0:def 3;
suppose L369: C113 in ( dom D56 );

L370: { C110 } misses ( D47 -Seg C113 )
proof
assume L371: { C110 } meets ( D47 -Seg C113 );
consider C114 being set such that L372: C114 in { C110 } and L373: C114 in ( D47 -Seg C113 ) by L371 , XBOOLE_0:3;
L374: C114 = C110 by L372 , TARSKI:def 1;
L375: [ C110 , C113 ] in D47 by L374 , L373 , WELLORD1:1;
thus L376: contradiction by L375 , L326 , L341 , L369;
end;
L377: (not C113 in ( dom D60 )) by L341 , L369 , TARSKI:def 1;
thus L378: ( D62 . C113 ) = ( D56 . C113 ) by L377 , FUNCT_4:11
.= ( C90 . [ C113 , ( D56 | ( D47 -Seg C113 ) ) ] ) by L297 , L369
.= ( C90 . [ C113 , ( D62 | ( D47 -Seg C113 ) ) ] ) by L343 , L370 , FUNCT_4:72;
end;
suppose L379: C113 in ( dom D60 );

L380: { C110 } misses ( D47 -Seg C110 )
proof
assume L381: { C110 } meets ( D47 -Seg C110 );
consider C115 being set such that L382: C115 in { C110 } and L383: C115 in ( D47 -Seg C110 ) by L381 , XBOOLE_0:3;
L384: C115 = C110 by L382 , TARSKI:def 1;
thus L385: contradiction by L384 , L383 , WELLORD1:1;
end;
L386: C113 = C110 by L379 , TARSKI:def 1;
thus L387: ( D62 . C113 ) = ( D60 . C110 ) by L386 , L379 , FUNCT_4:13
.= ( C90 . [ C110 , ( D56 | ( D47 -Seg C110 ) ) ] ) by FUNCOP_1:72
.= ( C90 . [ C113 , ( D62 | ( D47 -Seg C113 ) ) ] ) by L343 , L386 , L380 , FUNCT_4:72;
end;
end;
L389: ( dom D62 ) is  lower
proof
let C116 , C117 being set;
assume that
L390: C116 in ( dom D62 )
and
L391: [ C117 , C116 ] in D47;
assume L392: (not C117 in ( dom D62 ));
L393: (not C117 in ( dom D56 )) by L392 , L356 , XBOOLE_0:def 3;
L394: (not C116 in ( dom D56 )) by L393 , L326 , L391;
L395: C116 in ( dom D60 ) by L394 , L356 , L390 , XBOOLE_0:def 3;
L396: C116 = C110 by L395 , TARSKI:def 1;
reconsider D63 = C117 as (Element of C85) by L391 , ZFMISC_1:87;
L397: (not D63 in ( dom D60 )) by L356 , L392 , XBOOLE_0:def 3;
L398: D63 <> C110 by L397 , L343 , TARSKI:def 1;
thus L399: contradiction by L398 , L342 , L391 , L393 , L396;
end;
L400: D62 in C91 by L389 , L271 , L367;
L401: [ C110 , ( D62 . C110 ) ] in D56 by L400 , L366 , TARSKI:def 4;
thus L402: contradiction by L401 , L341 , FUNCT_1:1;
end;
reconsider D64 = D56 as (Function of D46 , C89) by L337 , L315 , FUNCT_2:def 1 , RELSET_1:4;
take D64;
let C118 being (Element of D46);
thus L403: thesis by L297 , L337;
end;

assume L404: S2[  ];
consider C119 being (Function of D46 , D49) such that L405: C119 is_recursively_expressed_by C88 by L404;
let C120 being set;
assume that
L406: C120 c= D46
and
L407: C120 <> ( {} );
set D65 = ( inf ( C119 .: C120 ) );
consider C121 being set such that L408: C121 in C120 by L407 , XBOOLE_0:def 1;
L409: ( dom C119 ) = D46 by FUNCT_2:def 1;
L410: ( C119 . C121 ) in ( C119 .: C120 ) by L409 , L406 , L408 , FUNCT_1:def 6;
L411: D65 in ( C119 .: C120 ) by L410 , ORDINAL2:17;
consider C122 being set such that L412: C122 in ( dom C119 ) and L413: C122 in C120 and L414: ( C119 . C122 ) = D65 by L411 , FUNCT_1:def 6;
take C122;
thus L415: C122 in C120 by L413;
assume L416: ( ( D47 -Seg C122 ) /\ C120 ) <> ( {} );
consider C123 being set such that L417: C123 in ( ( D47 -Seg C122 ) /\ C120 ) by L416 , XBOOLE_0:def 1;
L418: C123 in ( D47 -Seg C122 ) by L417 , XBOOLE_0:def 4;
reconsider D66 = C122 as (Element of D46) by L412;
reconsider D67 = ( C119 | ( D47 -Seg D66 ) ) as (Element of ( PFuncs (D46 , D49) )) by PARTFUN1:45;
L419: ( C119 . D66 ) = ( C88 . (D66 , D67) ) by L405 , L257
.= ( sup ( rng D67 ) ) by L268;
L420: C123 in C120 by L417 , XBOOLE_0:def 4;
reconsider D68 = ( C119 . C123 ) as Ordinal by L420 , L406 , FUNCT_2:5 , ORDINAL1:13;
L421: D68 in ( C119 .: C120 ) by L409 , L406 , L420 , FUNCT_1:def 6;
L422: D65 c= ( C119 . C123 ) by L421 , ORDINAL2:14;
L423: D68 in ( rng D67 ) by L409 , L406 , L418 , L420 , FUNCT_1:50;
thus L424: contradiction by L423 , L414 , L422 , L419 , ORDINAL1:5 , ORDINAL2:19;
end;
theorem
L425: (for B75 being non  empty RelStr holds (for B76 being non  trivial set holds ((for B77 being (Function of [: (the carrier of B75) , ( PFuncs ((the carrier of B75) , B76) ) :] , B76) holds (for B78 , B79 being (Function of (the carrier of B75) , B76) holds ((B78 is_recursively_expressed_by B77 & B79 is_recursively_expressed_by B77) implies B78 = B79))) implies B75 is  well_founded)))
proof
let C124 being non  empty RelStr;
let C125 being non  trivial set;
set D69 = (the carrier of C124);
set D70 = (the InternalRel of C124);
set D71 = ( PFuncs (D69 , C125) );
set D72 = ( well_founded-Part C124 );
consider C126 , C127 being set such that L426: C126 in C125 and L427: C127 in C125 and L428: C126 <> C127 by ZFMISC_1:def 10;
set D73 = ( D69 --> C127 );
set D74 = ( D72 --> C126 );
set D75 = ( D73 +* D74 );
L429: ( dom D73 ) = D69 by FUNCOP_1:13;
defpred S6[ set , Function , set ] means ((ex B80 being set st (B80 in ( dom $2 ) & ( $2 . B80 ) = C127)) iff $3 = C127);
set D76 = { C126 , C127 };
L430:
now
reconsider D77 = C127 , D78 = C126 as (Element of D76) by TARSKI:def 2;
let C128 being (Element of D69);
let C129 being (Element of D71);
per cases ;
suppose L431: (ex B81 being set st (B81 in ( dom C129 ) & ( C129 . B81 ) = C127));

take D79 = D77;
thus L432: S6[ C128 , C129 , D79 ] by L431;
end;
suppose L433: (not (ex B82 being set st (B82 in ( dom C129 ) & ( C129 . B82 ) = C127)));

take D80 = D78;
thus L434: S6[ C128 , C129 , D80 ] by L428 , L433;
end;
end;
consider C130 being (Function of [: D69 , D71 :] , D76) such that L436: (for B83 being (Element of D69) holds (for B84 being (Element of D71) holds S6[ B83 , B84 , ( C130 . (B83 , B84) ) ])) from BINOP_1:sch 3(L430);
L437: D76 c= C125 by L426 , L427 , ZFMISC_1:32;
L438: ( rng C130 ) c= C125 by L437 , XBOOLE_1:1;
L439: ( ( rng D73 ) \/ ( rng D74 ) ) c= ( { C126 } \/ { C127 } ) by XBOOLE_1:13;
L440: ( ( rng D73 ) \/ ( rng D74 ) ) c= D76 by L439 , ENUMSET1:1;
L441: ( rng D75 ) c= ( ( rng D73 ) \/ ( rng D74 ) ) by FUNCT_4:17;
L442: ( rng D75 ) c= D76 by L441 , L440 , XBOOLE_1:1;
L443: ( rng D75 ) c= C125 by L442 , L437 , XBOOLE_1:1;
L444: ( rng C130 ) c= D76;
L445: ( dom C130 ) = [: D69 , D71 :] by FUNCT_2:def 1;
reconsider D81 = C130 as (Function of [: D69 , D71 :] , C125) by L445 , L438 , FUNCT_2:def 1 , RELSET_1:4;
L446: ( dom D74 ) = D72 by FUNCOP_1:13;
L447: ( dom D75 ) = ( ( dom D73 ) \/ ( dom D74 ) ) by FUNCT_4:def 1
.= D69 by L429 , L446 , XBOOLE_1:12;
reconsider D82 = D75 as (Function of D69 , C125) by L447 , L443 , FUNCT_2:def 1 , RELSET_1:4;
L448: D82 is_recursively_expressed_by D81
proof
let C131 being (Element of D69);
reconsider D83 = ( D82 | ( D70 -Seg C131 ) ) as (Element of D71) by PARTFUN1:45;
per cases ;
suppose L449: C131 in D72;

L450:
now
let C132 being set;
L451: ( D70 -Seg C131 ) c= D72 by L449 , L43;
assume L452: C132 in ( dom D83 );
L453: C132 in ( D70 -Seg C131 ) by L452 , RELAT_1:57;
L454: ( D83 . C132 ) = ( D82 . C132 ) by L453 , FUNCT_1:49
.= ( D74 . C132 ) by L446 , L453 , L451 , FUNCT_4:13
.= C126 by L453 , L451 , FUNCOP_1:7;
thus L455: ( D83 . C132 ) <> C127 by L454 , L428;
end;
L456: ( D81 . (C131 , D83) ) <> C127 by L450 , L436;
L457: ( D81 . [ C131 , D83 ] ) in ( rng D81 ) by L445 , FUNCT_1:def 3;
L458: ( D74 . C131 ) = C126 by L449 , FUNCOP_1:7;
thus L459: ( D82 . C131 ) = C126 by L458 , L446 , L449 , FUNCT_4:13
.= ( D81 . (C131 , ( D82 | ( D70 -Seg C131 ) )) ) by L444 , L456 , L457 , TARSKI:def 2;
end;
suppose L460: (not C131 in D72);

L461: (not ( D70 -Seg C131 ) c= D72) by L460 , L185;
consider C133 being set such that L462: C133 in ( D70 -Seg C131 ) and L463: (not C133 in D72) by L461 , TARSKI:def 3;
L464: ( D70 -Seg C131 ) c= D69 by L27;
L465: C133 in ( dom D83 ) by L464 , L447 , L462 , RELAT_1:57;
L466: ( D83 . C133 ) = ( D82 . C133 ) by L462 , FUNCT_1:49
.= ( D73 . C133 ) by L446 , L463 , FUNCT_4:11
.= C127 by L462 , L464 , FUNCOP_1:7;
thus L467: ( D82 . C131 ) = ( D73 . C131 ) by L446 , L460 , FUNCT_4:11
.= C127 by FUNCOP_1:7
.= ( D81 . (C131 , ( D82 | ( D70 -Seg C131 ) )) ) by L436 , L465 , L466;
end;
end;
reconsider D84 = ( D69 --> C126 ) as (Function of D69 , C125) by L426 , FUNCOP_1:45;
assume L469: (for B85 being (Function of [: D69 , D71 :] , C125) holds (for B86 , B87 being (Function of D69 , C125) holds ((B86 is_recursively_expressed_by B85 & B87 is_recursively_expressed_by B85) implies B86 = B87)));
assume L470: (not C124 is  well_founded);
L471: D72 <> D69 by L470 , L155;
consider C134 being set such that L472: (not (C134 in D72 iff C134 in D69)) by L471 , TARSKI:1;
L473: D84 is_recursively_expressed_by D81
proof
let C135 being (Element of D69);
reconsider D85 = ( D84 | ( D70 -Seg C135 ) ) as (Element of D71) by PARTFUN1:45;
L474: ( D81 . [ C135 , D85 ] ) in ( rng D81 ) by L445 , FUNCT_1:def 3;
L475:
now
let C136 being set;
assume L476: C136 in ( dom D85 );
L477: C136 in ( D70 -Seg C135 ) by L476 , RELAT_1:57;
L478: ( D85 . C136 ) = ( D84 . C136 ) by L477 , FUNCT_1:49
.= C126 by L476 , FUNCOP_1:7;
thus L479: ( D85 . C136 ) <> C127 by L478 , L428;
end;
L480: ( D81 . (C135 , D85) ) <> C127 by L475 , L436;
thus L481: ( D84 . C135 ) = C126 by FUNCOP_1:7
.= ( D81 . (C135 , ( D84 | ( D70 -Seg C135 ) )) ) by L444 , L480 , L474 , TARSKI:def 2;
end;
L482: ( D84 . C134 ) = C126 by L472 , FUNCOP_1:7;
L483: ( D82 . C134 ) = ( D73 . C134 ) by L446 , L472 , FUNCT_4:11
.= C127 by L472 , FUNCOP_1:7;
thus L484: contradiction by L483 , L428 , L473 , L448 , L469 , L482;
end;
theorem
L485: (for B88 being non  empty  well_founded RelStr holds (for B89 being non  empty set holds (for B90 being (Function of [: (the carrier of B88) , ( PFuncs ((the carrier of B88) , B89) ) :] , B89) holds (for B91 , B92 being (Function of (the carrier of B88) , B89) holds ((B91 is_recursively_expressed_by B90 & B92 is_recursively_expressed_by B90) implies B91 = B92)))))
proof
let C137 being non  empty  well_founded RelStr;
let C138 being non  empty set;
set D86 = (the carrier of C137);
set D87 = (the InternalRel of C137);
let C139 being (Function of [: D86 , ( PFuncs (D86 , C138) ) :] , C138);
let C140 , C141 being (Function of D86 , C138);
assume that
L486: C140 is_recursively_expressed_by C139
and
L487: C141 is_recursively_expressed_by C139;
defpred S7[ set ] means ( C140 . $1 ) <> ( C141 . $1 );
L488: ( dom C141 ) = D86 by FUNCT_2:def 1;
assume L489: C140 <> C141;
consider C142 being (Element of D86) such that L490: ( C140 . C142 ) <> ( C141 . C142 ) by L489 , FUNCT_2:63;
reconsider D88 = C142 as (Element of C137);
L491: C137 is  well_founded;
L492: S7[ D88 ] by L490;
consider C143 being (Element of C137) such that L493: S7[ C143 ] and L494: (not (ex B93 being (Element of C137) st (C143 <> B93 & S7[ B93 ] & [ B93 , C143 ] in D87))) from WFMin(L492 , L491);
L495: ( dom C140 ) = D86 by FUNCT_2:def 1;
L496: ( C140 | ( D87 -Seg C143 ) ) = ( C141 | ( D87 -Seg C143 ) )
proof
set D89 = ( C140 | ( D87 -Seg C143 ) );
set D90 = ( C141 | ( D87 -Seg C143 ) );
assume L497: (not thesis);
L498: ( dom D89 ) = ( D87 -Seg C143 ) by L495 , L27 , RELAT_1:62;
L499: ( dom D90 ) = ( D87 -Seg C143 ) by L488 , L27 , RELAT_1:62;
consider C144 being set such that L500: C144 in ( dom D89 ) and L501: ( D89 . C144 ) <> ( D90 . C144 ) by L499 , L498 , L497 , FUNCT_1:2;
L502: [ C144 , C143 ] in D87 by L498 , L500 , WELLORD1:1;
reconsider D91 = C144 as (Element of C137) by L500;
L503: D91 <> C143 by L498 , L500 , WELLORD1:1;
L504: (( D89 . D91 ) = ( C140 . D91 ) & ( D90 . D91 ) = ( C141 . D91 )) by L498 , L500 , FUNCT_1:49;
thus L505: contradiction by L504 , L494 , L501 , L502 , L503;
end;
L506: ( C140 . C143 ) = ( C139 . (C143 , ( C141 | ( D87 -Seg C143 ) )) ) by L496 , L486 , L257
.= ( C141 . C143 ) by L487 , L257;
thus L507: contradiction by L506 , L493;
end;
definition
let C145 being RelStr;
let C146 being (sequence of C145);
attr C146 is  descending
means
:L508: (for B94 being Nat holds (( C146 . ( B94 + 1 ) ) <> ( C146 . B94 ) & [ ( C146 . ( B94 + 1 ) ) , ( C146 . B94 ) ] in (the InternalRel of C145)));
end;
theorem
L510: (for B95 being non  empty RelStr holds (B95 is  well_founded iff (not (ex B96 being (sequence of B95) st B96 is  descending))))
proof
let C147 being non  empty RelStr;
set D92 = (the carrier of C147);
set D93 = (the InternalRel of C147);
thus L511:now
assume L512: C147 is  well_founded;
L513: D93 is_well_founded_in D92 by L512 , L63;
given C148 being (sequence of C147) such that
L514: C148 is  descending;

L515: ( dom C148 ) = ( NAT ) by FUNCT_2:def 1;
L516: ( rng C148 ) <> ( {} ) by L515 , RELAT_1:42;
consider C149 being set such that L517: C149 in ( rng C148 ) and L518: ( D93 -Seg C149 ) misses ( rng C148 ) by L516 , L513 , WELLORD1:def 3;
consider C150 being set such that L519: C150 in ( dom C148 ) and L520: C149 = ( C148 . C150 ) by L517 , FUNCT_1:def 3;
reconsider D94 = C150 as (Element of ( NAT )) by L519;
L521: (( C148 . ( D94 + 1 ) ) <> ( C148 . D94 ) & [ ( C148 . ( D94 + 1 ) ) , ( C148 . D94 ) ] in (the InternalRel of C147)) by L514 , L508;
L522: ( C148 . ( D94 + 1 ) ) in ( D93 -Seg ( C148 . D94 ) ) by L521 , WELLORD1:1;
L523: ( C148 . ( D94 + 1 ) ) in ( rng C148 ) by L515 , FUNCT_1:def 3;
thus L524: contradiction by L523 , L518 , L520 , L522 , XBOOLE_0:3;
end;
assume L525: (not (ex B97 being (sequence of C147) st B97 is  descending));
assume L526: (not C147 is  well_founded);
L527: (not D93 is_well_founded_in D92) by L526 , L63;
consider C151 being set such that L528: C151 c= D92 and L529: C151 <> ( {} ) and L530: (for B98 being set holds ((not B98 in C151) or ( D93 -Seg B98 ) meets C151)) by L527 , WELLORD1:def 3;
deffunc H2(set , set) = ( choose ( ( D93 -Seg $2 ) /\ C151 ) );
consider C152 being Function such that L531: ( dom C152 ) = ( NAT ) and L532: ( C152 . ( 0 ) ) = ( choose C151 ) and L533: (for B99 being Nat holds ( C152 . ( B99 + 1 ) ) = H2(B99 , ( C152 . B99 ))) from NAT_1:sch 11;
defpred S8[ Nat ] means ( C152 . $1 ) in C151;
L534:
now
let C153 being Nat;
assume L535: S8[ C153 ];
L536: ( D93 -Seg ( C152 . C153 ) ) meets C151 by L535 , L530;
L537: ( ( D93 -Seg ( C152 . C153 ) ) /\ C151 ) <> ( {} ) by L536 , XBOOLE_0:def 7;
L538: ( C152 . ( C153 + 1 ) ) = ( choose ( ( D93 -Seg ( C152 . C153 ) ) /\ C151 ) ) by L533;
thus L539: S8[ ( C153 + 1 ) ] by L538 , L537 , XBOOLE_0:def 4;
end;
L540: S8[ ( 0 ) ] by L529 , L532;
L541: (for B100 being Nat holds S8[ B100 ]) from NAT_1:sch 2(L540 , L534);
L542: ( rng C152 ) c= D92
proof
let C154 being set;
assume L543: C154 in ( rng C152 );
consider C155 being set such that L544: C155 in ( dom C152 ) and L545: C154 = ( C152 . C155 ) by L543 , FUNCT_1:def 3;
reconsider D95 = C155 as (Element of ( NAT )) by L531 , L544;
L546: ( C152 . D95 ) in C151 by L541;
thus L547: thesis by L546 , L528 , L545;
end;
reconsider D96 = C152 as (sequence of C147) by L542 , L531 , FUNCT_2:2;
L548:
now
let C156 being Nat;
L549: ( D93 -Seg ( D96 . C156 ) ) meets C151 by L530 , L541;
L550: ( ( D93 -Seg ( D96 . C156 ) ) /\ C151 ) <> ( {} ) by L549 , XBOOLE_0:def 7;
L551: ( D96 . ( C156 + 1 ) ) = ( choose ( ( D93 -Seg ( D96 . C156 ) ) /\ C151 ) ) by L533;
L552: ( D96 . ( C156 + 1 ) ) in ( D93 -Seg ( D96 . C156 ) ) by L551 , L550 , XBOOLE_0:def 4;
thus L553: (( D96 . ( C156 + 1 ) ) <> ( D96 . C156 ) & [ ( D96 . ( C156 + 1 ) ) , ( D96 . C156 ) ] in D93) by L552 , WELLORD1:1;
end;
L554: D96 is  descending by L548 , L508;
thus L555: contradiction by L554 , L525;
end;
