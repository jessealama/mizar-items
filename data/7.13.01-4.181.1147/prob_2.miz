:: Probability. Independence of Events and Conditional Probability
::  by Andrzej N\c{e}dzusiak
::
:: Received June 1, 1990
:: Copyright (c) 1990-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, XBOOLE_0, SUBSET_1, REAL_1, SEQ_1, PROB_1, RPR_1,
      CARD_1, ARYTM_3, RELAT_1, SEQ_2, FUNCT_1, ARYTM_1, ORDINAL2, XREAL_0,
      ORDINAL1, XXREAL_0, COMPLEX1, EQREL_1, TARSKI, ZFMISC_1, NAT_1, CARD_3,
      VALUED_1, PROB_2;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, ORDINAL1, NUMBERS, XREAL_0,
      COMPLEX1, RELAT_1, REAL_1, FUNCT_1, FUNCT_2, VALUED_1, SEQ_1, COMSEQ_2,
      SEQ_2,
      PROB_1, NAT_1, XXREAL_0;
 constructors XXREAL_0, REAL_1, NAT_1, COMPLEX1, VALUED_1, SEQ_1, SEQ_2,
      PROB_1, XXREAL_1, RELSET_1, COMSEQ_2;
 registrations XBOOLE_0, SUBSET_1, ORDINAL1, RELSET_1, NUMBERS, XXREAL_0,
      XREAL_0, MEMBERED, VALUED_0, PROB_1, COMSEQ_2;
 requirements REAL, NUMERALS, BOOLE, SUBSET, ARITHM;
 definitions PROB_1, SUBSET_1;
 theorems FUNCT_1, FUNCT_2, SEQ_2, SUBSET_1, PROB_1, NAT_1, TARSKI, XBOOLE_0,
      XBOOLE_1, XCMPLX_0, XCMPLX_1, COMPLEX1, XREAL_1, ORDINAL1, VALUED_1,
      VALUED_0, RELAT_1;
 schemes FUNCT_1, FUNCT_2, NAT_1;

begin
theorem
L1: (for R7 being Real holds (for R8 being Real holds (for R9 being Real holds (for R10 being Real holds ((R7 <> ( 0 ) & R8 <> ( 0 )) implies (( R10 / R8 ) = ( R9 / R7 ) iff ( R10 * R7 ) = ( R9 * R8 )))))))
proof
let R7 being Real;
let R8 being Real;
let R9 being Real;
let R10 being Real;
assume that
L2: R7 <> ( 0 )
and
L3: R8 <> ( 0 );
thus L4: (( R10 / R8 ) = ( R9 / R7 ) implies ( R10 * R7 ) = ( R9 * R8 ))
proof
assume L5: ( R10 / R8 ) = ( R9 / R7 );
L6: ( R10 * R7 ) = ( ( ( R10 / R8 ) * R8 ) * R7 ) by L3 , XCMPLX_1:87
.= ( ( ( R9 / R7 ) * R7 ) * R8 ) by L5
.= ( R9 * R8 ) by L2 , XCMPLX_1:87;
thus L7: thesis by L6;
end;

assume L8: ( R10 * R7 ) = ( R9 * R8 );
L9: ( R10 / R8 ) = ( ( R10 * 1 ) / R8 )
.= ( ( R10 * ( R7 * ( R7 " ) ) ) / R8 ) by L2 , XCMPLX_0:def 7
.= ( ( ( R9 * R8 ) * ( R7 " ) ) / R8 ) by L8 , XCMPLX_1:4
.= ( ( ( R9 * ( R7 " ) ) * R8 ) / R8 )
.= ( ( ( R9 / R7 ) * R8 ) / R8 ) by XCMPLX_0:def 9
.= ( ( ( R9 / R7 ) * R8 ) * ( R8 " ) ) by XCMPLX_0:def 9
.= ( ( R9 / R7 ) * ( R8 * ( R8 " ) ) )
.= ( ( R9 / R7 ) * 1 ) by L3 , XCMPLX_0:def 7
.= ( R9 / R7 );
thus L10: thesis by L9;
end;
theorem
L11: (for R7 being Real holds (for R11 being Real_Sequence holds (for R12 being Real_Sequence holds ((R11 is  convergent & (for R3 being (Element of ( NAT )) holds ( R12 . R3 ) = ( R7 - ( R11 . R3 ) ))) implies (R12 is  convergent & ( lim R12 ) = ( R7 - ( lim R11 ) ))))))
proof
let R7 being Real;
let R11 being Real_Sequence;
let R12 being Real_Sequence;
assume that
L12: R11 is  convergent
and
L13: (for R3 being (Element of ( NAT )) holds ( R12 . R3 ) = ( R7 - ( R11 . R3 ) ));
consider C1 being  real number such that L14: (for B1 being  real number holds (( 0 ) < B1 implies (ex R3 being (Element of ( NAT )) st (for R2 being (Element of ( NAT )) holds (R3 <= R2 implies ( abs ( ( R11 . R2 ) - C1 ) ) < B1))))) by L12 , SEQ_2:def 6;
L15:
now
let C2 being  real number;
assume L16: ( 0 ) < C2;
consider R3 being (Element of ( NAT )) such that L17: (for R2 being (Element of ( NAT )) holds (R3 <= R2 implies ( abs ( ( R11 . R2 ) - C1 ) ) < C2)) by L16 , L14;
take D1 = R3;
L18:
now
let R2 being (Element of ( NAT ));
assume that
L19: D1 <= R2;
L20: ( abs ( ( R11 . R2 ) - C1 ) ) = ( abs ( - ( ( R11 . R2 ) - C1 ) ) ) by COMPLEX1:52
.= ( abs ( ( C1 - R7 ) + ( R7 - ( R11 . R2 ) ) ) )
.= ( abs ( ( R12 . R2 ) + ( - ( - ( C1 - R7 ) ) ) ) ) by L13
.= ( abs ( ( R12 . R2 ) - ( R7 - C1 ) ) );
thus L21: ( abs ( ( R12 . R2 ) - ( R7 - C1 ) ) ) < C2 by L20 , L17 , L19;
end;
thus L22: (for R2 being (Element of ( NAT )) holds (D1 <= R2 implies ( abs ( ( R12 . R2 ) - ( R7 - C1 ) ) ) < C2)) by L18;
end;
thus L23: R12 is  convergent by L15 , SEQ_2:def 6;
L24: ( lim R11 ) = C1 by L12 , L14 , SEQ_2:def 7;
thus L25: thesis by L24 , L15 , L23 , SEQ_2:def 7;
end;
definition
let R1 being set;
let R13 being (SigmaField of R1);
let R14 being (SetSequence of R13);
let R3 being (Element of ( NAT ));
redefine func R14 . R3 -> (Event of R13);

coherence by PROB_1:25;
end;
definition
let R1 being set;
let R13 being (SigmaField of R1);
let R14 being (SetSequence of R13);
func @Intersection R14 -> (Event of R13) equals 
( Intersection R14 );
coherence
proof
L27: ( rng R14 ) c= R13 by RELAT_1:def 19;
thus L28: thesis by L27 , PROB_1:def 6;
end;
end;
theorem
L30: (for R1 being set holds (for R13 being (SigmaField of R1) holds (for R14 being (SetSequence of R13) holds (for R17 being (Event of R13) holds (ex R15 being (SetSequence of R13) st (for R3 being (Element of ( NAT )) holds ( R15 . R3 ) = ( ( R14 . R3 ) /\ R17 )))))))
proof
let R1 being set;
let R13 being (SigmaField of R1);
let R14 being (SetSequence of R13);
let R17 being (Event of R13);
deffunc H1((Element of ( NAT ))) = ( ( R14 . $1 ) /\ R17 );
consider C3 being Function such that L31: (( dom C3 ) = ( NAT ) & (for R3 being (Element of ( NAT )) holds ( C3 . R3 ) = H1(R3))) from FUNCT_1:sch 4;
L32:
now
let R2 being (Element of ( NAT ));
L33: ( ( R14 . R2 ) /\ R17 ) in ( bool R1 );
thus L34: ( C3 . R2 ) in ( bool R1 ) by L33 , L31;
end;
L35: (for B2 being set holds (B2 in ( NAT ) implies ( C3 . B2 ) in ( bool R1 ))) by L32;
reconsider D2 = C3 as (SetSequence of R1) by L35 , L31 , FUNCT_2:3;
L36:
now
let C4 being Nat;
reconsider D3 = C4 as (Element of ( NAT )) by ORDINAL1:def 12;
L37: ( ( R14 . D3 ) /\ R17 ) in R13;
thus L38: ( D2 . C4 ) in R13 by L37 , L31;
end;
L39: ( rng D2 ) c= R13 by L36 , NAT_1:52;
reconsider D4 = D2 as (SetSequence of R13) by L39 , RELAT_1:def 19;
take D4;
thus L40: thesis by L31;
end;
theorem
L41: (for R1 being set holds (for R13 being (SigmaField of R1) holds (for R14 being (SetSequence of R13) holds (for R15 being (SetSequence of R13) holds (for R17 being (Event of R13) holds ((R14 is  non-ascending & (for R3 being (Element of ( NAT )) holds ( R15 . R3 ) = ( ( R14 . R3 ) /\ R17 ))) implies R15 is  non-ascending))))))
proof
let R1 being set;
let R13 being (SigmaField of R1);
let R14 being (SetSequence of R13);
let R15 being (SetSequence of R13);
let R17 being (Event of R13);
assume that
L42: R14 is  non-ascending
and
L43: (for R3 being (Element of ( NAT )) holds ( R15 . R3 ) = ( ( R14 . R3 ) /\ R17 ));
thus L44: (R15 qua Function) is  non-ascending
proof
let R2 being (Element of ( NAT ));
let R3 being (Element of ( NAT ));
assume L45: R2 <= R3;
L46: ( R14 . R3 ) c= ( R14 . R2 ) by L45 , L42 , PROB_1:def 4;
L47: ( ( R14 . R3 ) /\ R17 ) c= ( ( R14 . R2 ) /\ R17 ) by L46 , XBOOLE_1:26;
L48: ( R15 . R3 ) c= ( ( R14 . R2 ) /\ R17 ) by L47 , L43;
thus L49: ( R15 . R3 ) c= ( R15 . R2 ) by L48 , L43;
end;

end;
theorem
L45: (for R1 being set holds (for R13 being (SigmaField of R1) holds (for R14 being (SetSequence of R13) holds (for R15 being (SetSequence of R13) holds (for R17 being (Event of R13) holds ((for R3 being (Element of ( NAT )) holds ( R15 . R3 ) = ( ( R14 . R3 ) /\ R17 )) implies ( ( Intersection R14 ) /\ R17 ) = ( Intersection R15 )))))))
proof
let R1 being set;
let R13 being (SigmaField of R1);
let R14 being (SetSequence of R13);
let R15 being (SetSequence of R13);
let R17 being (Event of R13);
assume L46: (for R3 being (Element of ( NAT )) holds ( R15 . R3 ) = ( ( R14 . R3 ) /\ R17 ));
L47:
now
let R5 being set;
assume L48: R5 in ( Intersection R15 );
L49: (for R3 being (Element of ( NAT )) holds R5 in ( ( R14 . R3 ) /\ R17 ))
proof
let R3 being (Element of ( NAT ));
L50: R5 in ( R15 . R3 ) by L48 , PROB_1:13;
thus L51: thesis by L50 , L46;
end;
L52: (for R3 being (Element of ( NAT )) holds (R5 in ( R14 . R3 ) & R5 in R17))
proof
let R3 being (Element of ( NAT ));
L53: R5 in ( ( R14 . R3 ) /\ R17 ) by L49;
thus L54: thesis by L53 , XBOOLE_0:def 4;
end;
L55: R5 in ( Intersection R14 ) by L52 , PROB_1:13;
thus L56: R5 in ( ( Intersection R14 ) /\ R17 ) by L55 , L52 , XBOOLE_0:def 4;
end;
L57:
now
let R5 being set;
assume L58: R5 in ( ( Intersection R14 ) /\ R17 );
L59: R5 in ( Intersection R14 ) by L58 , XBOOLE_0:def 4;
L60: (for R3 being (Element of ( NAT )) holds R5 in ( ( R14 . R3 ) /\ R17 ))
proof
let R3 being (Element of ( NAT ));
L61: (R5 in ( R14 . R3 ) & R5 in R17) by L58 , L59 , PROB_1:13 , XBOOLE_0:def 4;
thus L62: thesis by L61 , XBOOLE_0:def 4;
end;
L63: (for R3 being (Element of ( NAT )) holds R5 in ( R15 . R3 ))
proof
let R3 being (Element of ( NAT ));
L64: R5 in ( ( R14 . R3 ) /\ R17 ) by L60;
thus L65: thesis by L64 , L46;
end;
thus L66: R5 in ( Intersection R15 ) by L63 , PROB_1:13;
end;
thus L67: thesis by L57 , L47 , TARSKI:1;
end;
registration
let R1 being set;
let R13 being (SigmaField of R1);
let R14 being (SetSequence of R13);
cluster ( Complement R14 ) -> R13 -valued;
coherence
proof
L68:
now
let C5 being Nat;
reconsider D5 = C5 as (Element of ( NAT )) by ORDINAL1:def 12;
L69: ( ( Complement R14 ) . D5 ) = ( ( R14 . D5 ) ` ) by PROB_1:def 2;
L70: ( ( Complement R14 ) . D5 ) is (Event of R13) by L69 , PROB_1:20;
thus L71: ( ( Complement R14 ) . C5 ) in R13 by L70;
end;
L72: ( rng ( Complement R14 ) ) c= R13 by L68 , NAT_1:52;
thus L73: thesis by L72 , RELAT_1:def 19;
end;
end;
theorem
L75: (for B3 being set holds (for B4 being (SetSequence of B3) holds (B4 is  non-ascending iff (for R3 being (Element of ( NAT )) holds ( B4 . ( R3 + 1 ) ) c= ( B4 . R3 )))))
proof
let C6 being set;
let C7 being (SetSequence of C6);
thus L76: (C7 is  non-ascending implies (for R3 being (Element of ( NAT )) holds ( C7 . ( R3 + 1 ) ) c= ( C7 . R3 )))
proof
assume L77: C7 is  non-ascending;
L78:
now
let R3 being (Element of ( NAT ));
L79: R3 <= ( R3 + 1 ) by NAT_1:11;
thus L80: ( C7 . ( R3 + 1 ) ) c= ( C7 . R3 ) by L79 , L77 , PROB_1:def 4;
end;
thus L81: thesis by L78;
end;

assume L82: (for R3 being (Element of ( NAT )) holds ( C7 . ( R3 + 1 ) ) c= ( C7 . R3 ));
L83:
now
let R3 being (Element of ( NAT ));
let R2 being (Element of ( NAT ));
assume that
L84: R3 <= R2;
L85:
now
defpred S1[ (Element of ( NAT )) ] means ( C7 . ( R3 + $1 ) ) c= ( C7 . R3 );
L86: (for R4 being (Element of ( NAT )) holds (S1[ R4 ] implies S1[ ( R4 + 1 ) ]))
proof
let R4 being (Element of ( NAT ));
assume that
L87: ( C7 . ( R3 + R4 ) ) c= ( C7 . R3 );
L88: ( C7 . ( ( R3 + R4 ) + 1 ) ) c= ( C7 . ( R3 + R4 ) ) by L82;
thus L89: thesis by L88 , L87 , XBOOLE_1:1;
end;
L90: S1[ ( 0 ) ];
thus L91: (for R4 being (Element of ( NAT )) holds S1[ R4 ]) from NAT_1:sch 1(L90 , L86);
end;
consider C8 being Nat such that L92: R2 = ( R3 + C8 ) by L84 , NAT_1:10;
L93: C8 in ( NAT ) by ORDINAL1:def 12;
thus L94: ( C7 . R2 ) c= ( C7 . R3 ) by L93 , L85 , L92;
end;
thus L95: thesis by L83 , PROB_1:def 4;
end;
theorem
L96: (for B5 being set holds (for B6 being (SetSequence of B5) holds (B6 is  non-descending iff (for R3 being (Element of ( NAT )) holds ( B6 . R3 ) c= ( B6 . ( R3 + 1 ) )))))
proof
let C9 being set;
let C10 being (SetSequence of C9);
thus L97: (C10 is  non-descending implies (for R3 being (Element of ( NAT )) holds ( C10 . R3 ) c= ( C10 . ( R3 + 1 ) )))
proof
assume L98: C10 is  non-descending;
L99:
now
let R3 being (Element of ( NAT ));
L100: R3 <= ( R3 + 1 ) by NAT_1:11;
thus L101: ( C10 . R3 ) c= ( C10 . ( R3 + 1 ) ) by L100 , L98 , PROB_1:def 5;
end;
thus L102: thesis by L99;
end;

assume L103: (for R3 being (Element of ( NAT )) holds ( C10 . R3 ) c= ( C10 . ( R3 + 1 ) ));
L104:
now
let R3 being (Element of ( NAT ));
let R2 being (Element of ( NAT ));
assume that
L105: R3 <= R2;
L106:
now
defpred S2[ (Element of ( NAT )) ] means ( C10 . R3 ) c= ( C10 . ( R3 + $1 ) );
L107: (for R4 being (Element of ( NAT )) holds (S2[ R4 ] implies S2[ ( R4 + 1 ) ]))
proof
let R4 being (Element of ( NAT ));
assume that
L108: ( C10 . R3 ) c= ( C10 . ( R3 + R4 ) );
L109: ( C10 . ( R3 + R4 ) ) c= ( C10 . ( ( R3 + R4 ) + 1 ) ) by L103;
thus L110: thesis by L109 , L108 , XBOOLE_1:1;
end;
L111: S2[ ( 0 ) ];
thus L112: (for R4 being (Element of ( NAT )) holds S2[ R4 ]) from NAT_1:sch 1(L111 , L107);
end;
consider C11 being Nat such that L113: R2 = ( R3 + C11 ) by L105 , NAT_1:10;
L114: C11 in ( NAT ) by ORDINAL1:def 12;
thus L115: ( C10 . R3 ) c= ( C10 . R2 ) by L114 , L106 , L113;
end;
thus L116: thesis by L104 , PROB_1:def 5;
end;
theorem
L117: (for R1 being set holds (for B7 being (SetSequence of R1) holds (B7 is  non-ascending iff ( Complement B7 ) is  non-descending)))
proof
let R1 being set;
let C12 being (SetSequence of R1);
thus L118: (C12 is  non-ascending implies ( Complement C12 ) is  non-descending)
proof
assume L119: C12 is  non-ascending;
L120:
now
let R3 being (Element of ( NAT ));
let R2 being (Element of ( NAT ));
assume L121: R3 <= R2;
L122: ( C12 . R2 ) c= ( C12 . R3 ) by L121 , L119 , PROB_1:def 4;
L123: ( ( C12 . R3 ) ` ) c= ( ( C12 . R2 ) ` ) by L122 , SUBSET_1:12;
L124: ( ( Complement C12 ) . R3 ) c= ( ( C12 . R2 ) ` ) by L123 , PROB_1:def 2;
thus L125: ( ( Complement C12 ) . R3 ) c= ( ( Complement C12 ) . R2 ) by L124 , PROB_1:def 2;
end;
thus L126: thesis by L120 , PROB_1:def 5;
end;

assume L127: ( Complement C12 ) is  non-descending;
L128:
now
let R3 being (Element of ( NAT ));
let R2 being (Element of ( NAT ));
assume L129: R3 <= R2;
L130: ( ( Complement C12 ) . R3 ) c= ( ( Complement C12 ) . R2 ) by L129 , L127 , PROB_1:def 5;
L131: ( ( C12 . R3 ) ` ) c= ( ( Complement C12 ) . R2 ) by L130 , PROB_1:def 2;
L132: ( ( C12 . R3 ) ` ) c= ( ( C12 . R2 ) ` ) by L131 , PROB_1:def 2;
thus L133: ( C12 . R2 ) c= ( C12 . R3 ) by L132 , SUBSET_1:12;
end;
thus L134: thesis by L128 , PROB_1:def 4;
end;
L135: (for R1 being set holds (for B8 being (SetSequence of R1) holds (B8 is  non-descending iff ( Complement B8 ) is  non-ascending)))
proof
let R1 being set;
let C13 being (SetSequence of R1);
thus L136: (C13 is  non-descending implies ( Complement C13 ) is  non-ascending)
proof
assume L137: C13 is  non-descending;
L138:
now
let R3 being (Element of ( NAT ));
let R2 being (Element of ( NAT ));
assume L139: R3 <= R2;
L140: ( C13 . R3 ) c= ( C13 . R2 ) by L139 , L137 , PROB_1:def 5;
L141: ( ( C13 . R2 ) ` ) c= ( ( C13 . R3 ) ` ) by L140 , SUBSET_1:12;
L142: ( ( Complement C13 ) . R2 ) c= ( ( C13 . R3 ) ` ) by L141 , PROB_1:def 2;
thus L143: ( ( Complement C13 ) . R2 ) c= ( ( Complement C13 ) . R3 ) by L142 , PROB_1:def 2;
end;
thus L144: thesis by L138 , PROB_1:def 4;
end;

assume L145: ( Complement C13 ) is  non-ascending;
L146:
now
let R3 being (Element of ( NAT ));
let R2 being (Element of ( NAT ));
assume L147: R3 <= R2;
L148: ( ( Complement C13 ) . R2 ) c= ( ( Complement C13 ) . R3 ) by L147 , L145 , PROB_1:def 4;
L149: ( ( C13 . R2 ) ` ) c= ( ( Complement C13 ) . R3 ) by L148 , PROB_1:def 2;
L150: ( ( C13 . R2 ) ` ) c= ( ( C13 . R3 ) ` ) by L149 , PROB_1:def 2;
thus L151: ( C13 . R3 ) c= ( C13 . R2 ) by L150 , SUBSET_1:12;
end;
thus L152: thesis by L146 , PROB_1:def 5;
end;
definition
let C14 being Function;
attr C14 is  disjoint_valued
means
:L153: (for R5 being set holds (for R6 being set holds (R5 <> R6 implies ( C14 . R5 ) misses ( C14 . R6 ))));
end;
definition
let R1 being set;
let R13 being (SigmaField of R1);
let R14 being (SetSequence of R13);
redefine attr R14 is  disjoint_valued
means
(for R2 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds (R2 <> R3 implies ( R14 . R2 ) misses ( R14 . R3 ))));
compatibility
proof
thus L155: (R14 is  disjoint_valued implies (for R2 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds (R2 <> R3 implies ( R14 . R2 ) misses ( R14 . R3 ))))) by L153;
L156: ( dom R14 ) = ( NAT ) by FUNCT_2:def 1;
assume L157: (for R2 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds (R2 <> R3 implies ( R14 . R2 ) misses ( R14 . R3 ))));
let R5 being set;
let R6 being set;
assume L158: R5 <> R6;
per cases ;
suppose L159: (R5 in ( dom R14 ) & R6 in ( dom R14 ));

thus L160: thesis by L159 , L156 , L157 , L158;
end;
suppose L161: (not (R5 in ( dom R14 ) & R6 in ( dom R14 )));

L162: (( R14 . R5 ) = ( {} ) or ( R14 . R6 ) = ( {} )) by L161 , FUNCT_1:def 2;
thus L163: thesis by L162 , XBOOLE_1:65;
end;
end;
end;
L166: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R32 being (Probability of R23) holds (for R30 being (SetSequence of R23) holds (R30 is  non-descending implies (( R32 * R30 ) is  convergent & ( lim ( R32 * R30 ) ) = ( R32 . ( Union R30 ) )))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R32 being (Probability of R23);
let R30 being (SetSequence of R23);
assume that
L167: R30 is  non-descending;
set D6 = ( Complement R30 );
L168: D6 is  non-ascending by L167 , L135;
L169: ( R32 * D6 ) is  convergent by L168 , PROB_1:def 8;
L170:
now
let R3 being (Element of ( NAT ));
L171: ( ( R32 * D6 ) . R3 ) = ( R32 . ( D6 . R3 ) ) by FUNCT_2:15
.= ( R32 . ( ( R30 . R3 ) ` ) ) by PROB_1:def 2
.= ( R32 . ( ( [#] R23 ) \ ( R30 . R3 ) ) )
.= ( 1 - ( R32 . ( R30 . R3 ) ) ) by PROB_1:32
.= ( 1 - ( ( R32 * R30 ) . R3 ) ) by FUNCT_2:15
.= ( 1 + ( - ( ( R32 * R30 ) . R3 ) ) );
thus L172: ( ( R32 * R30 ) . R3 ) = ( 1 - ( ( R32 * D6 ) . R3 ) ) by L171;
end;
thus L173: ( R32 * R30 ) is  convergent by L170 , L169 , L11;
reconsider D7 = ( Union R30 ) as (Event of R23) by PROB_1:26;
L174: ( Intersection D6 ) = ( ( [#] R23 ) \ ( Union R30 ) );
L175: ( R32 . ( Intersection D6 ) ) = ( 1 - ( R32 . D7 ) ) by L174 , PROB_1:32;
thus L176: ( lim ( R32 * R30 ) ) = ( 1 - ( lim ( R32 * D6 ) ) ) by L169 , L170 , L11
.= ( 1 - ( 1 - ( R32 . D7 ) ) ) by L168 , L175 , PROB_1:def 8
.= ( R32 . ( Union R30 ) );
end;
theorem
L177: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R32 being (Probability of R23) holds (for R33 being (Probability of R23) holds ((for R24 being (Event of R23) holds ( R32 . R24 ) = ( R33 . R24 )) implies R32 = R33)))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R32 being (Probability of R23);
let R33 being (Probability of R23);
assume L178: (for R24 being (Event of R23) holds ( R32 . R24 ) = ( R33 . R24 ));
L179: (for R5 being set holds (R5 in R23 implies ( R32 . R5 ) = ( R33 . R5 ))) by L178;
thus L180: thesis by L179 , FUNCT_2:12;
end;
theorem
L181: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for B9 being (Function of R23 , ( REAL )) holds (B9 is (Probability of R23) iff ((for R24 being (Event of R23) holds ( 0 ) <= ( B9 . R24 )) & ( B9 . R22 ) = 1 & (for R24 being (Event of R23) holds (for R25 being (Event of R23) holds (R24 misses R25 implies ( B9 . ( R24 \/ R25 ) ) = ( ( B9 . R24 ) + ( B9 . R25 ) )))) & (for R30 being (SetSequence of R23) holds (R30 is  non-descending implies (( B9 * R30 ) is  convergent & ( lim ( B9 * R30 ) ) = ( B9 . ( Union R30 ) )))))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let C15 being (Function of R23 , ( REAL ));
thus L182: (C15 is (Probability of R23) implies ((for R24 being (Event of R23) holds ( 0 ) <= ( C15 . R24 )) & ( C15 . R22 ) = 1 & (for R24 being (Event of R23) holds (for R25 being (Event of R23) holds (R24 misses R25 implies ( C15 . ( R24 \/ R25 ) ) = ( ( C15 . R24 ) + ( C15 . R25 ) )))) & (for R30 being (SetSequence of R23) holds (R30 is  non-descending implies (( C15 * R30 ) is  convergent & ( lim ( C15 * R30 ) ) = ( C15 . ( Union R30 ) )))))) by L166 , PROB_1:def 8;
assume that
L183: (for R24 being (Event of R23) holds ( 0 ) <= ( C15 . R24 ))
and
L184: ( C15 . R22 ) = 1
and
L185: (for R24 being (Event of R23) holds (for R25 being (Event of R23) holds (R24 misses R25 implies ( C15 . ( R24 \/ R25 ) ) = ( ( C15 . R24 ) + ( C15 . R25 ) ))))
and
L186: (for R30 being (SetSequence of R23) holds (R30 is  non-descending implies (( C15 * R30 ) is  convergent & ( lim ( C15 * R30 ) ) = ( C15 . ( Union R30 ) ))));
L187: (for R30 being (SetSequence of R23) holds (R30 is  non-ascending implies (( C15 * R30 ) is  convergent & ( lim ( C15 * R30 ) ) = ( C15 . ( Intersection R30 ) ))))
proof
let R30 being (SetSequence of R23);
assume that
L188: R30 is  non-ascending;
L189: ( Intersection R30 ) = ( @Intersection R30 );
reconsider D8 = ( Intersection R30 ) as (Event of R23) by L189;
set D9 = ( Complement R30 );
L190: (for R24 being (Event of R23) holds ( C15 . ( R24 ` ) ) = ( 1 - ( C15 . R24 ) ))
proof
let R24 being (Event of R23);
reconsider D10 = ( R24 ` ) as (Event of R23) by PROB_1:20;
L191: R24 misses D10 by SUBSET_1:24;
L192: 1 = ( C15 . ( [#] R22 ) ) by L184
.= ( C15 . ( R24 \/ D10 ) ) by SUBSET_1:10
.= ( ( C15 . R24 ) + ( C15 . D10 ) ) by L185 , L191;
thus L193: thesis by L192;
end;
L194:
now
let R3 being (Element of ( NAT ));
L195: ( ( C15 * D9 ) . R3 ) = ( C15 . ( D9 . R3 ) ) by FUNCT_2:15
.= ( C15 . ( ( R30 . R3 ) ` ) ) by PROB_1:def 2
.= ( 1 - ( C15 . ( R30 . R3 ) ) ) by L190
.= ( 1 - ( ( C15 * R30 ) . R3 ) ) by FUNCT_2:15
.= ( 1 + ( - ( ( C15 * R30 ) . R3 ) ) );
thus L196: ( ( C15 * R30 ) . R3 ) = ( 1 - ( ( C15 * D9 ) . R3 ) ) by L195;
end;
L197: ( Union D9 ) = ( ( Intersection R30 ) ` );
L198: ( C15 . ( Union D9 ) ) = ( 1 - ( C15 . D8 ) ) by L197 , L190;
L199: D9 is  non-descending by L188 , L117;
L200: ( C15 * D9 ) is  convergent by L199 , L186;
thus L201: ( C15 * R30 ) is  convergent by L200 , L194 , L11;
thus L202: ( lim ( C15 * R30 ) ) = ( 1 - ( lim ( C15 * D9 ) ) ) by L200 , L194 , L11
.= ( 1 - ( 1 - ( C15 . D8 ) ) ) by L186 , L199 , L198
.= ( C15 . ( Intersection R30 ) );
end;
thus L203: thesis by L187 , L183 , L184 , L185 , PROB_1:def 8;
end;
theorem
L204: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R24 being (Event of R23) holds (for R25 being (Event of R23) holds (for R26 being (Event of R23) holds (for R32 being (Probability of R23) holds ( R32 . ( ( R24 \/ R25 ) \/ R26 ) ) = ( ( ( ( ( R32 . R24 ) + ( R32 . R25 ) ) + ( R32 . R26 ) ) - ( ( ( R32 . ( R24 /\ R25 ) ) + ( R32 . ( R25 /\ R26 ) ) ) + ( R32 . ( R24 /\ R26 ) ) ) ) + ( R32 . ( ( R24 /\ R25 ) /\ R26 ) ) )))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R24 being (Event of R23);
let R25 being (Event of R23);
let R26 being (Event of R23);
let R32 being (Probability of R23);
L205: ( R32 . ( ( R24 \/ R25 ) /\ R26 ) ) = ( R32 . ( ( R24 /\ R26 ) \/ ( R25 /\ R26 ) ) ) by XBOOLE_1:23
.= ( ( ( R32 . ( R24 /\ R26 ) ) + ( R32 . ( R25 /\ R26 ) ) ) - ( R32 . ( ( R24 /\ R26 ) /\ ( R25 /\ R26 ) ) ) ) by PROB_1:38
.= ( ( ( R32 . ( R24 /\ R26 ) ) + ( R32 . ( R25 /\ R26 ) ) ) - ( R32 . ( R24 /\ ( ( R25 /\ R26 ) /\ R26 ) ) ) ) by XBOOLE_1:16
.= ( ( ( R32 . ( R24 /\ R26 ) ) + ( R32 . ( R25 /\ R26 ) ) ) - ( R32 . ( R24 /\ ( R25 /\ ( R26 /\ R26 ) ) ) ) ) by XBOOLE_1:16
.= ( ( ( R32 . ( R25 /\ R26 ) ) + ( R32 . ( R24 /\ R26 ) ) ) - ( R32 . ( ( R24 /\ R25 ) /\ R26 ) ) ) by XBOOLE_1:16;
L206: ( R32 . ( ( R24 \/ R25 ) \/ R26 ) ) = ( ( ( R32 . ( R24 \/ R25 ) ) + ( R32 . R26 ) ) - ( R32 . ( ( R24 \/ R25 ) /\ R26 ) ) ) by PROB_1:38
.= ( ( ( ( ( R32 . R24 ) + ( R32 . R25 ) ) - ( R32 . ( R24 /\ R25 ) ) ) + ( R32 . R26 ) ) - ( R32 . ( ( R24 \/ R25 ) /\ R26 ) ) ) by PROB_1:38
.= ( ( ( ( R32 . R24 ) + ( R32 . R25 ) ) + ( R32 . R26 ) ) - ( ( R32 . ( R24 /\ R25 ) ) + ( R32 . ( ( R24 \/ R25 ) /\ R26 ) ) ) );
thus L207: thesis by L206 , L205;
end;
theorem
L208: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R24 being (Event of R23) holds (for R25 being (Event of R23) holds (for R32 being (Probability of R23) holds ( R32 . ( R24 \ ( R24 /\ R25 ) ) ) = ( ( R32 . R24 ) - ( R32 . ( R24 /\ R25 ) ) )))))) by PROB_1:33 , XBOOLE_1:17;
theorem
L209: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R24 being (Event of R23) holds (for R25 being (Event of R23) holds (for R32 being (Probability of R23) holds (( R32 . ( R24 /\ R25 ) ) <= ( R32 . R25 ) & ( R32 . ( R24 /\ R25 ) ) <= ( R32 . R24 ))))))) by PROB_1:34 , XBOOLE_1:17;
theorem
L210: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R24 being (Event of R23) holds (for R25 being (Event of R23) holds (for R26 being (Event of R23) holds (for R32 being (Probability of R23) holds (R26 = ( R25 ` ) implies ( R32 . R24 ) = ( ( R32 . ( R24 /\ R25 ) ) + ( R32 . ( R24 /\ R26 ) ) ))))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R24 being (Event of R23);
let R25 being (Event of R23);
let R26 being (Event of R23);
let R32 being (Probability of R23);
assume L211: R26 = ( R25 ` );
L212: R25 misses R26 by L211 , SUBSET_1:24;
L213: ( R24 /\ R26 ) misses R25 by L212 , XBOOLE_1:74;
L214: ( R24 /\ R25 ) misses ( R24 /\ R26 ) by L213 , XBOOLE_1:74;
L215: ( R32 . R24 ) = ( R32 . ( R24 /\ ( [#] R22 ) ) ) by XBOOLE_1:28
.= ( R32 . ( R24 /\ ( R25 \/ R26 ) ) ) by L211 , SUBSET_1:10
.= ( R32 . ( ( R24 /\ R25 ) \/ ( R24 /\ R26 ) ) ) by XBOOLE_1:23
.= ( ( R32 . ( R24 /\ R25 ) ) + ( R32 . ( R24 /\ R26 ) ) ) by L214 , PROB_1:def 8;
thus L216: thesis by L215;
end;
theorem
L217: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R24 being (Event of R23) holds (for R25 being (Event of R23) holds (for R32 being (Probability of R23) holds ( ( ( R32 . R24 ) + ( R32 . R25 ) ) - 1 ) <= ( R32 . ( R24 /\ R25 ) ))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R24 being (Event of R23);
let R25 being (Event of R23);
let R32 being (Probability of R23);
L218: ( ( ( R32 . R24 ) + ( R32 . R25 ) ) - ( R32 . ( R24 /\ R25 ) ) ) = ( R32 . ( R24 \/ R25 ) ) by PROB_1:38;
L219: ( ( ( R32 . R24 ) + ( R32 . R25 ) ) - ( R32 . ( R24 /\ R25 ) ) ) <= 1 by L218 , PROB_1:35;
L220: ( ( R32 . R24 ) + ( R32 . R25 ) ) <= ( ( R32 . ( R24 /\ R25 ) ) + 1 ) by L219 , XREAL_1:20;
thus L221: thesis by L220 , XREAL_1:20;
end;
theorem
L222: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R24 being (Event of R23) holds (for R32 being (Probability of R23) holds ( R32 . R24 ) = ( 1 - ( R32 . ( ( [#] R23 ) \ R24 ) ) )))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R24 being (Event of R23);
let R32 being (Probability of R23);
L223: ( ( R32 . ( ( [#] R23 ) \ R24 ) ) + ( R32 . R24 ) ) = 1 by PROB_1:31;
thus L224: thesis by L223;
end;
theorem
L225: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R24 being (Event of R23) holds (for R32 being (Probability of R23) holds (( R32 . R24 ) < 1 iff ( 0 ) < ( R32 . ( ( [#] R23 ) \ R24 ) ))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R24 being (Event of R23);
let R32 being (Probability of R23);
thus L226: (( R32 . R24 ) < 1 implies ( 0 ) < ( R32 . ( ( [#] R23 ) \ R24 ) ))
proof
assume L227: ( R32 . R24 ) < 1;
L228: ( 1 - ( R32 . ( ( [#] R23 ) \ R24 ) ) ) < 1 by L227 , L222;
L229: ( 1 + ( - ( R32 . ( ( [#] R23 ) \ R24 ) ) ) ) < 1 by L228;
L230: ( - ( R32 . ( ( [#] R23 ) \ R24 ) ) ) < ( 1 - 1 ) by L229 , XREAL_1:20;
thus L231: thesis by L230;
end;

assume L232: ( 0 ) < ( R32 . ( ( [#] R23 ) \ R24 ) );
L233: ( 0 ) < ( 1 - ( R32 . R24 ) ) by L232 , PROB_1:32;
L234: ( ( R32 . R24 ) + ( 0 ) ) < 1 by L233 , XREAL_1:20;
thus L235: thesis by L234;
end;
theorem
L236: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R24 being (Event of R23) holds (for R32 being (Probability of R23) holds (( R32 . ( ( [#] R23 ) \ R24 ) ) < 1 iff ( 0 ) < ( R32 . R24 ))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R24 being (Event of R23);
let R32 being (Probability of R23);
thus L237: (( R32 . ( ( [#] R23 ) \ R24 ) ) < 1 implies ( 0 ) < ( R32 . R24 ))
proof
assume L238: ( R32 . ( ( [#] R23 ) \ R24 ) ) < 1;
L239: ( 1 - ( R32 . R24 ) ) < 1 by L238 , PROB_1:32;
L240: ( 1 + ( - ( R32 . R24 ) ) ) < 1 by L239;
L241: ( - ( R32 . R24 ) ) < ( 1 - 1 ) by L240 , XREAL_1:20;
thus L242: thesis by L241;
end;

assume L243: ( 0 ) < ( R32 . R24 );
L244: ( 0 ) < ( 1 - ( R32 . ( ( [#] R23 ) \ R24 ) ) ) by L243 , L222;
L245: ( ( R32 . ( ( [#] R23 ) \ R24 ) ) + ( 0 ) ) < 1 by L244 , XREAL_1:20;
thus L246: thesis by L245;
end;
definition
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R32 being (Probability of R23);
let R24 being (Event of R23);
let R25 being (Event of R23);
pred R24 , R25 are_independent_respect_to R32
means
:L247: ( R32 . ( R24 /\ R25 ) ) = ( ( R32 . R24 ) * ( R32 . R25 ) )
;let R26 being (Event of R23);
pred R24 , R25 , R26 are_independent_respect_to R32
means
:L248: (( R32 . ( ( R24 /\ R25 ) /\ R26 ) ) = ( ( ( R32 . R24 ) * ( R32 . R25 ) ) * ( R32 . R26 ) ) & ( R32 . ( R24 /\ R25 ) ) = ( ( R32 . R24 ) * ( R32 . R25 ) ) & ( R32 . ( R24 /\ R26 ) ) = ( ( R32 . R24 ) * ( R32 . R26 ) ) & ( R32 . ( R25 /\ R26 ) ) = ( ( R32 . R25 ) * ( R32 . R26 ) ))
;end;
theorem
L250: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R24 being (Event of R23) holds (for R25 being (Event of R23) holds (for R32 being (Probability of R23) holds (R24 , R25 are_independent_respect_to R32 implies R25 , R24 are_independent_respect_to R32))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R24 being (Event of R23);
let R25 being (Event of R23);
let R32 being (Probability of R23);
assume L251: R24 , R25 are_independent_respect_to R32;
L252: ( R32 . ( R25 /\ R24 ) ) = ( ( R32 . R25 ) * ( R32 . R24 ) ) by L251 , L247;
thus L253: thesis by L252 , L247;
end;
theorem
L254: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R24 being (Event of R23) holds (for R25 being (Event of R23) holds (for R26 being (Event of R23) holds (for R32 being (Probability of R23) holds (R24 , R25 , R26 are_independent_respect_to R32 iff (( R32 . ( ( R24 /\ R25 ) /\ R26 ) ) = ( ( ( R32 . R24 ) * ( R32 . R25 ) ) * ( R32 . R26 ) ) & R24 , R25 are_independent_respect_to R32 & R25 , R26 are_independent_respect_to R32 & R24 , R26 are_independent_respect_to R32))))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R24 being (Event of R23);
let R25 being (Event of R23);
let R26 being (Event of R23);
let R32 being (Probability of R23);
thus L255: (R24 , R25 , R26 are_independent_respect_to R32 implies (( R32 . ( ( R24 /\ R25 ) /\ R26 ) ) = ( ( ( R32 . R24 ) * ( R32 . R25 ) ) * ( R32 . R26 ) ) & R24 , R25 are_independent_respect_to R32 & R25 , R26 are_independent_respect_to R32 & R24 , R26 are_independent_respect_to R32))
proof
assume L256: R24 , R25 , R26 are_independent_respect_to R32;
L257: ( R32 . ( R25 /\ R26 ) ) = ( ( R32 . R25 ) * ( R32 . R26 ) ) by L256 , L248;
L258: (( R32 . ( R24 /\ R25 ) ) = ( ( R32 . R24 ) * ( R32 . R25 ) ) & ( R32 . ( R24 /\ R26 ) ) = ( ( R32 . R24 ) * ( R32 . R26 ) )) by L256 , L248;
thus L259: thesis by L258 , L256 , L257 , L247 , L248;
end;

assume that
L260: ( R32 . ( ( R24 /\ R25 ) /\ R26 ) ) = ( ( ( R32 . R24 ) * ( R32 . R25 ) ) * ( R32 . R26 ) )
and
L261: R24 , R25 are_independent_respect_to R32
and
L262: R25 , R26 are_independent_respect_to R32
and
L263: R24 , R26 are_independent_respect_to R32;
L264: ( R32 . ( R25 /\ R26 ) ) = ( ( R32 . R25 ) * ( R32 . R26 ) ) by L262 , L247;
L265: (( R32 . ( R24 /\ R25 ) ) = ( ( R32 . R24 ) * ( R32 . R25 ) ) & ( R32 . ( R24 /\ R26 ) ) = ( ( R32 . R24 ) * ( R32 . R26 ) )) by L261 , L263 , L247;
thus L266: thesis by L265 , L260 , L264 , L248;
end;
theorem
L267: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R24 being (Event of R23) holds (for R25 being (Event of R23) holds (for R26 being (Event of R23) holds (for R32 being (Probability of R23) holds (R24 , R25 , R26 are_independent_respect_to R32 implies R25 , R24 , R26 are_independent_respect_to R32)))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R24 being (Event of R23);
let R25 being (Event of R23);
let R26 being (Event of R23);
let R32 being (Probability of R23);
assume L268: R24 , R25 , R26 are_independent_respect_to R32;
L269: R24 , R26 are_independent_respect_to R32 by L268 , L254;
L270: R24 , R25 are_independent_respect_to R32 by L268 , L254;
L271: R25 , R24 are_independent_respect_to R32 by L270 , L250;
L272: (( R32 . ( ( R24 /\ R25 ) /\ R26 ) ) = ( ( ( R32 . R24 ) * ( R32 . R25 ) ) * ( R32 . R26 ) ) & R25 , R26 are_independent_respect_to R32) by L268 , L254;
thus L273: thesis by L272 , L269 , L271 , L254;
end;
theorem
L274: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R24 being (Event of R23) holds (for R25 being (Event of R23) holds (for R26 being (Event of R23) holds (for R32 being (Probability of R23) holds (R24 , R25 , R26 are_independent_respect_to R32 implies R24 , R26 , R25 are_independent_respect_to R32)))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R24 being (Event of R23);
let R25 being (Event of R23);
let R26 being (Event of R23);
let R32 being (Probability of R23);
assume L275: R24 , R25 , R26 are_independent_respect_to R32;
L276: ( R32 . ( ( R24 /\ R25 ) /\ R26 ) ) = ( ( ( R32 . R24 ) * ( R32 . R25 ) ) * ( R32 . R26 ) ) by L275 , L254;
L277: ( R32 . ( ( R24 /\ R26 ) /\ R25 ) ) = ( ( ( R32 . R24 ) * ( R32 . R26 ) ) * ( R32 . R25 ) ) by L276 , XBOOLE_1:16;
L278: R25 , R26 are_independent_respect_to R32 by L275 , L254;
L279: R26 , R25 are_independent_respect_to R32 by L278 , L250;
L280: (R24 , R25 are_independent_respect_to R32 & R24 , R26 are_independent_respect_to R32) by L275 , L254;
thus L281: thesis by L280 , L277 , L279 , L254;
end;
theorem
L282: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R24 being (Event of R23) holds (for R32 being (Probability of R23) holds (for B10 being (Event of R23) holds (B10 = ( {} ) implies R24 , B10 are_independent_respect_to R32))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R24 being (Event of R23);
let R32 being (Probability of R23);
let C16 being (Event of R23);
L283: ( R32 . ( R24 /\ ( {} R23 ) ) ) = ( ( R32 . R24 ) * ( 0 ) ) by VALUED_0:def 19
.= ( ( R32 . R24 ) * ( R32 . ( {} R23 ) ) ) by VALUED_0:def 19;
assume L284: C16 = ( {} );
thus L285: thesis by L284 , L283 , L247;
end;
theorem
L286: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R24 being (Event of R23) holds (for R32 being (Probability of R23) holds R24 , ( [#] R23 ) are_independent_respect_to R32))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R24 being (Event of R23);
let R32 being (Probability of R23);
L287: ( R32 . ( R24 /\ ( [#] R23 ) ) ) = ( ( R32 . R24 ) * 1 ) by XBOOLE_1:28
.= ( ( R32 . R24 ) * ( R32 . ( [#] R23 ) ) ) by PROB_1:30;
thus L288: thesis by L287 , L247;
end;
theorem
L289: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R24 being (Event of R23) holds (for R25 being (Event of R23) holds (for R32 being (Probability of R23) holds (R24 , R25 are_independent_respect_to R32 implies R24 , ( ( [#] R23 ) \ R25 ) are_independent_respect_to R32))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R24 being (Event of R23);
let R25 being (Event of R23);
let R32 being (Probability of R23);
assume L290: R24 , R25 are_independent_respect_to R32;
L291: ( R32 . ( R24 /\ R25 ) ) = ( ( R32 . R24 ) * ( R32 . R25 ) ) by L290 , L247;
L292: ( R32 . ( R24 /\ ( ( [#] R23 ) \ R25 ) ) ) = ( R32 . ( R24 /\ ( R25 ` ) ) )
.= ( R32 . ( R24 \ R25 ) ) by SUBSET_1:13
.= ( R32 . ( R24 \ ( R24 /\ R25 ) ) ) by XBOOLE_1:47
.= ( ( ( R32 . R24 ) * 1 ) - ( ( R32 . R24 ) * ( R32 . R25 ) ) ) by L291 , PROB_1:33 , XBOOLE_1:17
.= ( ( R32 . R24 ) * ( 1 - ( R32 . R25 ) ) )
.= ( ( R32 . R24 ) * ( R32 . ( ( [#] R23 ) \ R25 ) ) ) by PROB_1:32;
thus L293: thesis by L292 , L247;
end;
theorem
L294: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R24 being (Event of R23) holds (for R25 being (Event of R23) holds (for R32 being (Probability of R23) holds (R24 , R25 are_independent_respect_to R32 implies ( ( [#] R23 ) \ R24 ) , ( ( [#] R23 ) \ R25 ) are_independent_respect_to R32))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R24 being (Event of R23);
let R25 being (Event of R23);
let R32 being (Probability of R23);
assume L295: R24 , R25 are_independent_respect_to R32;
L296: R24 , ( ( [#] R23 ) \ R25 ) are_independent_respect_to R32 by L295 , L289;
L297: ( ( [#] R23 ) \ R25 ) , R24 are_independent_respect_to R32 by L296 , L250;
L298: ( ( [#] R23 ) \ R25 ) , ( ( [#] R23 ) \ R24 ) are_independent_respect_to R32 by L297 , L289;
thus L299: thesis by L298 , L250;
end;
theorem
L300: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R24 being (Event of R23) holds (for R25 being (Event of R23) holds (for R26 being (Event of R23) holds (for R32 being (Probability of R23) holds ((R24 , R25 are_independent_respect_to R32 & R24 , R26 are_independent_respect_to R32 & R25 misses R26) implies R24 , ( R25 \/ R26 ) are_independent_respect_to R32)))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R24 being (Event of R23);
let R25 being (Event of R23);
let R26 being (Event of R23);
let R32 being (Probability of R23);
assume that
L301: R24 , R25 are_independent_respect_to R32
and
L302: R24 , R26 are_independent_respect_to R32
and
L303: R25 misses R26;
L304: ( R24 /\ R25 ) misses ( R24 /\ R26 ) by L303 , XBOOLE_1:76;
L305: ( R32 . ( R24 /\ ( R25 \/ R26 ) ) ) = ( R32 . ( ( R24 /\ R25 ) \/ ( R24 /\ R26 ) ) ) by XBOOLE_1:23
.= ( ( R32 . ( R24 /\ R25 ) ) + ( R32 . ( R24 /\ R26 ) ) ) by L304 , PROB_1:def 8
.= ( ( ( R32 . R24 ) * ( R32 . R25 ) ) + ( R32 . ( R24 /\ R26 ) ) ) by L301 , L247
.= ( ( ( R32 . R24 ) * ( R32 . R25 ) ) + ( ( R32 . R24 ) * ( R32 . R26 ) ) ) by L302 , L247
.= ( ( R32 . R24 ) * ( ( R32 . R25 ) + ( R32 . R26 ) ) )
.= ( ( R32 . R24 ) * ( R32 . ( R25 \/ R26 ) ) ) by L303 , PROB_1:def 8;
thus L306: thesis by L305 , L247;
end;
theorem
L307: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R32 being (Probability of R23) holds (for R24 being (Event of R23) holds (for R25 being (Event of R23) holds ((R24 , R25 are_independent_respect_to R32 & ( R32 . R24 ) < 1 & ( R32 . R25 ) < 1) implies ( R32 . ( R24 \/ R25 ) ) < 1))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
L308:
now
let R7 being Real;
let R8 being Real;
assume L309: ( 0 ) < R8;
L310: ( - R8 ) < ( - ( 0 ) ) by L309 , XREAL_1:24;
L311: ( R7 + ( - R8 ) ) < ( R7 + ( 0 ) ) by L310 , XREAL_1:6;
thus L312: ( R7 - R8 ) < R7 by L311;
end;
let R32 being (Probability of R23);
let R24 being (Event of R23);
let R25 being (Event of R23);
assume that
L313: R24 , R25 are_independent_respect_to R32
and
L314: (( R32 . R24 ) < 1 & ( R32 . R25 ) < 1);
L315: ( ( [#] R23 ) \ R24 ) , ( ( [#] R23 ) \ R25 ) are_independent_respect_to R32 by L313 , L294;
L316: (( 0 ) < ( R32 . ( ( [#] R23 ) \ R24 ) ) & ( 0 ) < ( R32 . ( ( [#] R23 ) \ R25 ) )) by L314 , L225;
L317: ( R32 . ( R24 \/ R25 ) ) = ( 1 - ( R32 . ( ( [#] R23 ) \ ( R24 \/ R25 ) ) ) ) by L222
.= ( 1 - ( R32 . ( ( ( [#] R23 ) \ R24 ) /\ ( ( [#] R23 ) \ R25 ) ) ) ) by XBOOLE_1:53
.= ( 1 - ( ( R32 . ( ( [#] R23 ) \ R24 ) ) * ( R32 . ( ( [#] R23 ) \ R25 ) ) ) ) by L315 , L247;
thus L318: thesis by L317 , L316 , L308 , XREAL_1:129;
end;
definition
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R32 being (Probability of R23);
let R25 being (Event of R23);
assume L319: ( 0 ) < ( R32 . R25 );
func R32 .|. R25 -> (Probability of R23) means 
:L320: (for R24 being (Event of R23) holds ( it . R24 ) = ( ( R32 . ( R24 /\ R25 ) ) / ( R32 . R25 ) ));
existence
proof
defpred S3[ set , set ] means (ex R24 being (Event of R23) st (ex R7 being Real st (R24 = $1 & R7 = $2 & R7 = ( ( R32 . ( R24 /\ R25 ) ) / ( R32 . R25 ) ))));
L321: (for R5 being set holds (R5 in R23 implies (ex R6 being set st (R6 in ( REAL ) & S3[ R5 , R6 ]))))
proof
let R5 being set;
assume L322: R5 in R23;
reconsider D11 = R5 as (Event of R23) by L322;
consider R6 being set such that L323: R6 = ( ( R32 . ( D11 /\ R25 ) ) / ( R32 . R25 ) );
take R6;
thus L324: thesis by L323;
end;
consider C17 being (Function of R23 , ( REAL )) such that L325: (for R5 being set holds (R5 in R23 implies S3[ R5 , ( C17 . R5 ) ])) from FUNCT_2:sch 1(L321);
L326: (for R24 being (Event of R23) holds ( C17 . R24 ) = ( ( R32 . ( R24 /\ R25 ) ) / ( R32 . R25 ) ))
proof
let R24 being (Event of R23);
L327: (ex R26 being (Event of R23) st (ex R8 being Real st (R26 = R24 & R8 = ( C17 . R24 ) & R8 = ( ( R32 . ( R26 /\ R25 ) ) / ( R32 . R25 ) )))) by L325;
thus L328: thesis by L327;
end;
L329: ( C17 . R22 ) = ( ( R32 . ( ( [#] R23 ) /\ R25 ) ) / ( R32 . R25 ) ) by L326
.= ( ( R32 . R25 ) / ( R32 . R25 ) ) by XBOOLE_1:28
.= 1 by L319 , XCMPLX_1:60;
L330: (for R24 being (Event of R23) holds (for R26 being (Event of R23) holds (R24 misses R26 implies ( C17 . ( R24 \/ R26 ) ) = ( ( C17 . R24 ) + ( C17 . R26 ) ))))
proof
let R24 being (Event of R23);
let R26 being (Event of R23);
assume L331: R24 misses R26;
L332: ( R24 /\ R25 ) misses ( R26 /\ R25 ) by L331 , XBOOLE_1:76;
thus L333: ( C17 . ( R24 \/ R26 ) ) = ( ( R32 . ( ( R24 \/ R26 ) /\ R25 ) ) / ( R32 . R25 ) ) by L326
.= ( ( R32 . ( ( R24 /\ R25 ) \/ ( R26 /\ R25 ) ) ) / ( R32 . R25 ) ) by XBOOLE_1:23
.= ( ( ( R32 . ( R24 /\ R25 ) ) + ( R32 . ( R26 /\ R25 ) ) ) / ( R32 . R25 ) ) by L332 , PROB_1:def 8
.= ( ( ( R32 . ( R24 /\ R25 ) ) / ( R32 . R25 ) ) + ( ( R32 . ( R26 /\ R25 ) ) / ( R32 . R25 ) ) ) by XCMPLX_1:62
.= ( ( ( R32 . ( R24 /\ R25 ) ) / ( R32 . R25 ) ) + ( C17 . R26 ) ) by L326
.= ( ( C17 . R24 ) + ( C17 . R26 ) ) by L326;
end;
L334: (for R24 being (Event of R23) holds ( 0 ) <= ( C17 . R24 ))
proof
let R24 being (Event of R23);
L335: ( 0 ) <= ( R32 . ( R24 /\ R25 ) ) by PROB_1:def 8;
L336: ( 0 ) <= ( ( R32 . ( R24 /\ R25 ) ) / ( R32 . R25 ) ) by L335 , L319;
thus L337: thesis by L336 , L326;
end;
L338: (for R30 being (SetSequence of R23) holds (R30 is  non-ascending implies (( C17 * R30 ) is  convergent & ( lim ( C17 * R30 ) ) = ( C17 . ( Intersection R30 ) ))))
proof
let R30 being (SetSequence of R23);
assume that
L339: R30 is  non-ascending;
consider R31 being (SetSequence of R23) such that L340: (for R3 being (Element of ( NAT )) holds ( R31 . R3 ) = ( ( R30 . R3 ) /\ R25 )) by L30;
L341: ( dom ( C17 * R30 ) ) = ( NAT ) by FUNCT_2:def 1;
L342:
now
let C18 being set;
assume L343: C18 in ( dom ( C17 * R30 ) );
reconsider D12 = C18 as (Element of ( NAT )) by L343 , FUNCT_2:def 1;
thus L344: ( ( C17 * R30 ) . C18 ) = ( C17 . ( R30 . C18 ) ) by L341 , L343 , FUNCT_2:15
.= ( ( R32 . ( ( R30 . D12 ) /\ R25 ) ) / ( R32 . R25 ) ) by L326
.= ( ( R32 . ( R31 . C18 ) ) / ( R32 . R25 ) ) by L340
.= ( ( ( R32 * R31 ) . C18 ) / ( R32 . R25 ) ) by L341 , L343 , FUNCT_2:15
.= ( ( ( R32 . R25 ) " ) * ( ( R32 * R31 ) . C18 ) ) by XCMPLX_0:def 9;
end;
L345: R31 is  non-ascending by L339 , L340 , L41;
L346: ( R32 * R31 ) is  convergent by L345 , PROB_1:def 8;
L347: ( dom ( R32 * R31 ) ) = ( NAT ) by FUNCT_2:def 1;
L348: ( C17 * R30 ) = ( ( ( R32 . R25 ) " ) (#) ( R32 * R31 ) ) by L347 , L341 , L342 , VALUED_1:def 5;
thus L349: ( C17 * R30 ) is  convergent by L348 , L346 , SEQ_2:7;
L350: ( lim ( R32 * R31 ) ) = ( R32 . ( Intersection R31 ) ) by L345 , PROB_1:def 8;
thus L351: ( lim ( C17 * R30 ) ) = ( ( ( R32 . R25 ) " ) * ( R32 . ( @Intersection R31 ) ) ) by L350 , L348 , L346 , SEQ_2:8
.= ( ( R32 . ( @Intersection R31 ) ) / ( R32 . R25 ) ) by XCMPLX_0:def 9
.= ( ( R32 . ( ( @Intersection R30 ) /\ R25 ) ) / ( R32 . R25 ) ) by L340 , L45
.= ( C17 . ( Intersection R30 ) ) by L326;
end;
reconsider D13 = C17 as (Probability of R23) by L338 , L334 , L329 , L330 , PROB_1:def 8;
take D13;
thus L352: thesis by L326;
end;
uniqueness
proof
let R33 being (Probability of R23);
let R34 being (Probability of R23);
assume that
L353: (for R24 being (Event of R23) holds ( R33 . R24 ) = ( ( R32 . ( R24 /\ R25 ) ) / ( R32 . R25 ) ))
and
L354: (for R24 being (Event of R23) holds ( R34 . R24 ) = ( ( R32 . ( R24 /\ R25 ) ) / ( R32 . R25 ) ));
L355:
now
let R24 being (Event of R23);
thus L356: ( R33 . R24 ) = ( ( R32 . ( R24 /\ R25 ) ) / ( R32 . R25 ) ) by L353
.= ( R34 . R24 ) by L354;
end;
thus L357: thesis by L355 , L177;
end;
end;
theorem
L359: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R32 being (Probability of R23) holds (for R25 being (Event of R23) holds (for R24 being (Event of R23) holds (( 0 ) < ( R32 . R25 ) implies ( R32 . ( R24 /\ R25 ) ) = ( ( ( R32 .|. R25 ) . R24 ) * ( R32 . R25 ) )))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R32 being (Probability of R23);
let R25 being (Event of R23);
let R24 being (Event of R23);
assume L360: ( 0 ) < ( R32 . R25 );
L361: ( ( ( R32 .|. R25 ) . R24 ) * ( R32 . R25 ) ) = ( ( ( R32 . ( R24 /\ R25 ) ) / ( R32 . R25 ) ) * ( R32 . R25 ) ) by L360 , L320
.= ( ( ( R32 . ( R24 /\ R25 ) ) * ( ( R32 . R25 ) " ) ) * ( R32 . R25 ) ) by XCMPLX_0:def 9
.= ( ( R32 . ( R24 /\ R25 ) ) * ( ( ( R32 . R25 ) " ) * ( R32 . R25 ) ) )
.= ( ( R32 . ( R24 /\ R25 ) ) * 1 ) by L360 , XCMPLX_0:def 7
.= ( R32 . ( R24 /\ R25 ) );
thus L362: thesis by L361;
end;
theorem
L363: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R32 being (Probability of R23) holds (for R24 being (Event of R23) holds (for R25 being (Event of R23) holds (for R26 being (Event of R23) holds (( 0 ) < ( R32 . ( R24 /\ R25 ) ) implies ( R32 . ( ( R24 /\ R25 ) /\ R26 ) ) = ( ( ( R32 . R24 ) * ( ( R32 .|. R24 ) . R25 ) ) * ( ( R32 .|. ( R24 /\ R25 ) ) . R26 ) ))))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R32 being (Probability of R23);
let R24 being (Event of R23);
let R25 being (Event of R23);
let R26 being (Event of R23);
assume L364: ( 0 ) < ( R32 . ( R24 /\ R25 ) );
L365: ( 0 ) < ( R32 . R24 ) by L364 , PROB_1:34 , XBOOLE_1:17;
L366: ( R32 . ( ( R24 /\ R25 ) /\ R26 ) ) = ( ( R32 . ( R25 /\ R24 ) ) * ( ( R32 .|. ( R24 /\ R25 ) ) . R26 ) ) by L364 , L359
.= ( ( ( R32 . R24 ) * ( ( R32 .|. R24 ) . R25 ) ) * ( ( R32 .|. ( R24 /\ R25 ) ) . R26 ) ) by L365 , L359;
thus L367: thesis by L366;
end;
theorem
L368: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R32 being (Probability of R23) holds (for R24 being (Event of R23) holds (for R25 being (Event of R23) holds (for R26 being (Event of R23) holds ((R26 = ( R25 ` ) & ( 0 ) < ( R32 . R25 ) & ( 0 ) < ( R32 . R26 )) implies ( R32 . R24 ) = ( ( ( ( R32 .|. R25 ) . R24 ) * ( R32 . R25 ) ) + ( ( ( R32 .|. R26 ) . R24 ) * ( R32 . R26 ) ) ))))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R32 being (Probability of R23);
let R24 being (Event of R23);
let R25 being (Event of R23);
let R26 being (Event of R23);
assume that
L369: R26 = ( R25 ` )
and
L370: ( 0 ) < ( R32 . R25 )
and
L371: ( 0 ) < ( R32 . R26 );
L372: ( R32 . R24 ) = ( ( R32 . ( R24 /\ R25 ) ) + ( R32 . ( R24 /\ R26 ) ) ) by L369 , L210
.= ( ( ( ( R32 .|. R25 ) . R24 ) * ( R32 . R25 ) ) + ( R32 . ( R24 /\ R26 ) ) ) by L370 , L359
.= ( ( ( ( R32 .|. R25 ) . R24 ) * ( R32 . R25 ) ) + ( ( ( R32 .|. R26 ) . R24 ) * ( R32 . R26 ) ) ) by L371 , L359;
thus L373: thesis by L372;
end;
theorem
L374: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R32 being (Probability of R23) holds (for R24 being (Event of R23) holds (for R27 being (Event of R23) holds (for R28 being (Event of R23) holds (for R29 being (Event of R23) holds ((R27 misses R28 & R29 = ( ( R27 \/ R28 ) ` ) & ( 0 ) < ( R32 . R27 ) & ( 0 ) < ( R32 . R28 ) & ( 0 ) < ( R32 . R29 )) implies ( R32 . R24 ) = ( ( ( ( ( R32 .|. R27 ) . R24 ) * ( R32 . R27 ) ) + ( ( ( R32 .|. R28 ) . R24 ) * ( R32 . R28 ) ) ) + ( ( ( R32 .|. R29 ) . R24 ) * ( R32 . R29 ) ) )))))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R32 being (Probability of R23);
let R24 being (Event of R23);
let R27 being (Event of R23);
let R28 being (Event of R23);
let R29 being (Event of R23);
assume that
L375: R27 misses R28
and
L376: R29 = ( ( R27 \/ R28 ) ` )
and
L377: ( 0 ) < ( R32 . R27 )
and
L378: ( 0 ) < ( R32 . R28 )
and
L379: ( 0 ) < ( R32 . R29 );
L380: ( R24 /\ R27 ) misses ( R24 /\ R28 ) by L375 , XBOOLE_1:76;
L381: ( R27 \/ R28 ) misses R29 by L376 , SUBSET_1:24;
L382: ( R24 /\ ( R27 \/ R28 ) ) misses ( R24 /\ R29 ) by L381 , XBOOLE_1:76;
L383: ( ( R27 \/ R28 ) \/ R29 ) = ( [#] R22 ) by L376 , SUBSET_1:10
.= R22;
L384: ( ( ( ( ( R32 .|. R27 ) . R24 ) * ( R32 . R27 ) ) + ( ( ( R32 .|. R28 ) . R24 ) * ( R32 . R28 ) ) ) + ( ( ( R32 .|. R29 ) . R24 ) * ( R32 . R29 ) ) ) = ( ( ( R32 . ( R24 /\ R27 ) ) + ( ( ( R32 .|. R28 ) . R24 ) * ( R32 . R28 ) ) ) + ( ( ( R32 .|. R29 ) . R24 ) * ( R32 . R29 ) ) ) by L377 , L359
.= ( ( ( R32 . ( R24 /\ R27 ) ) + ( R32 . ( R24 /\ R28 ) ) ) + ( ( ( R32 .|. R29 ) . R24 ) * ( R32 . R29 ) ) ) by L378 , L359
.= ( ( ( R32 . ( R24 /\ R27 ) ) + ( R32 . ( R24 /\ R28 ) ) ) + ( R32 . ( R24 /\ R29 ) ) ) by L379 , L359
.= ( ( R32 . ( ( R24 /\ R27 ) \/ ( R24 /\ R28 ) ) ) + ( R32 . ( R24 /\ R29 ) ) ) by L380 , PROB_1:def 8
.= ( ( R32 . ( R24 /\ ( R27 \/ R28 ) ) ) + ( R32 . ( R24 /\ R29 ) ) ) by XBOOLE_1:23
.= ( R32 . ( ( R24 /\ ( R27 \/ R28 ) ) \/ ( R24 /\ R29 ) ) ) by L382 , PROB_1:def 8
.= ( R32 . ( R24 /\ R22 ) ) by L383 , XBOOLE_1:23
.= ( R32 . R24 ) by XBOOLE_1:28;
thus L385: thesis by L384;
end;
theorem
L386: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R32 being (Probability of R23) holds (for R24 being (Event of R23) holds (for R25 being (Event of R23) holds (( 0 ) < ( R32 . R25 ) implies (( ( R32 .|. R25 ) . R24 ) = ( R32 . R24 ) iff R24 , R25 are_independent_respect_to R32)))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R32 being (Probability of R23);
let R24 being (Event of R23);
let R25 being (Event of R23);
assume L387: ( 0 ) < ( R32 . R25 );
thus L388: (( ( R32 .|. R25 ) . R24 ) = ( R32 . R24 ) implies R24 , R25 are_independent_respect_to R32)
proof
assume L389: ( ( R32 .|. R25 ) . R24 ) = ( R32 . R24 );
L390: ( ( ( R32 . ( R24 /\ R25 ) ) / ( R32 . R25 ) ) * ( R32 . R25 ) ) = ( ( R32 . R24 ) * ( R32 . R25 ) ) by L389 , L387 , L320;
L391: ( R32 . ( R24 /\ R25 ) ) = ( ( R32 . R24 ) * ( R32 . R25 ) ) by L390 , L387 , XCMPLX_1:87;
thus L392: thesis by L391 , L247;
end;

assume L393: R24 , R25 are_independent_respect_to R32;
L394: ( ( R32 . ( R24 /\ R25 ) ) * ( ( R32 . R25 ) " ) ) = ( ( ( R32 . R24 ) * ( R32 . R25 ) ) * ( ( R32 . R25 ) " ) ) by L393 , L247;
L395: ( ( R32 . ( R24 /\ R25 ) ) * ( ( R32 . R25 ) " ) ) = ( ( R32 . R24 ) * ( ( R32 . R25 ) * ( ( R32 . R25 ) " ) ) ) by L394;
L396: ( ( R32 . ( R24 /\ R25 ) ) * ( ( R32 . R25 ) " ) ) = ( ( R32 . R24 ) * 1 ) by L395 , L387 , XCMPLX_0:def 7;
L397: ( ( R32 . ( R24 /\ R25 ) ) / ( R32 . R25 ) ) = ( R32 . R24 ) by L396 , XCMPLX_0:def 9;
thus L398: thesis by L397 , L387 , L320;
end;
theorem
L399: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R32 being (Probability of R23) holds (for R24 being (Event of R23) holds (for R25 being (Event of R23) holds ((( 0 ) < ( R32 . R25 ) & ( R32 . R25 ) < 1 & ( ( R32 .|. R25 ) . R24 ) = ( ( R32 .|. ( ( [#] R23 ) \ R25 ) ) . R24 )) implies R24 , R25 are_independent_respect_to R32))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R32 being (Probability of R23);
let R24 being (Event of R23);
let R25 being (Event of R23);
assume that
L400: ( 0 ) < ( R32 . R25 )
and
L401: ( R32 . R25 ) < 1
and
L402: ( ( R32 .|. R25 ) . R24 ) = ( ( R32 .|. ( ( [#] R23 ) \ R25 ) ) . R24 );
L403: (( 0 ) < ( R32 . ( ( [#] R23 ) \ R25 ) ) & ( ( R32 . ( R24 /\ R25 ) ) / ( R32 . R25 ) ) = ( ( R32 .|. ( ( [#] R23 ) \ R25 ) ) . R24 )) by L400 , L401 , L402 , L320 , L225;
L404: ( ( R32 . ( R24 /\ R25 ) ) / ( R32 . R25 ) ) = ( ( R32 . ( R24 /\ ( ( [#] R23 ) \ R25 ) ) ) / ( R32 . ( ( [#] R23 ) \ R25 ) ) ) by L403 , L320;
L405: ( R25 ` ) = ( ( [#] R23 ) \ R25 );
L406: ( R32 . ( ( [#] R23 ) \ R25 ) ) <> ( 0 ) by L401 , L225;
L407: ( ( R32 . ( R24 /\ R25 ) ) * ( R32 . ( ( [#] R23 ) \ R25 ) ) ) = ( ( R32 . ( R24 /\ ( ( [#] R23 ) \ R25 ) ) ) * ( R32 . R25 ) ) by L406 , L400 , L404 , L1;
L408: ( ( R32 . ( R24 /\ R25 ) ) * ( 1 - ( R32 . R25 ) ) ) = ( ( R32 . ( R24 /\ ( ( [#] R23 ) \ R25 ) ) ) * ( R32 . R25 ) ) by L407 , PROB_1:32;
L409: ( R32 . ( R24 /\ R25 ) ) = ( ( ( R32 . ( R24 /\ ( ( [#] R23 ) \ R25 ) ) ) + ( R32 . ( R24 /\ R25 ) ) ) * ( R32 . R25 ) ) by L408
.= ( ( R32 . R24 ) * ( R32 . R25 ) ) by L405 , L210;
thus L410: thesis by L409 , L247;
end;
theorem
L411: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R32 being (Probability of R23) holds (for R24 being (Event of R23) holds (for R25 being (Event of R23) holds (( 0 ) < ( R32 . R25 ) implies ( ( ( ( R32 . R24 ) + ( R32 . R25 ) ) - 1 ) / ( R32 . R25 ) ) <= ( ( R32 .|. R25 ) . R24 )))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R32 being (Probability of R23);
let R24 being (Event of R23);
let R25 being (Event of R23);
assume that
L412: ( 0 ) < ( R32 . R25 );
L413: ( ( ( ( R32 . R24 ) + ( R32 . R25 ) ) - 1 ) / ( R32 . R25 ) ) <= ( ( R32 . ( R24 /\ R25 ) ) / ( R32 . R25 ) ) by L412 , L217 , XREAL_1:72;
thus L414: thesis by L413 , L412 , L320;
end;
theorem
L415: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R24 being (Event of R23) holds (for R25 being (Event of R23) holds (for R32 being (Probability of R23) holds ((( 0 ) < ( R32 . R24 ) & ( 0 ) < ( R32 . R25 )) implies ( ( R32 .|. R25 ) . R24 ) = ( ( ( ( R32 .|. R24 ) . R25 ) * ( R32 . R24 ) ) / ( R32 . R25 ) )))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R24 being (Event of R23);
let R25 being (Event of R23);
let R32 being (Probability of R23);
assume that
L416: ( 0 ) < ( R32 . R24 )
and
L417: ( 0 ) < ( R32 . R25 );
thus L418: ( ( ( ( R32 .|. R24 ) . R25 ) * ( R32 . R24 ) ) / ( R32 . R25 ) ) = ( ( R32 . ( R24 /\ R25 ) ) / ( R32 . R25 ) ) by L416 , L359
.= ( ( R32 .|. R25 ) . R24 ) by L417 , L320;
end;
theorem
L419: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R25 being (Event of R23) holds (for R27 being (Event of R23) holds (for R28 being (Event of R23) holds (for R32 being (Probability of R23) holds ((( 0 ) < ( R32 . R25 ) & R28 = ( R27 ` ) & ( 0 ) < ( R32 . R27 ) & ( 0 ) < ( R32 . R28 )) implies (( ( R32 .|. R25 ) . R27 ) = ( ( ( ( R32 .|. R27 ) . R25 ) * ( R32 . R27 ) ) / ( ( ( ( R32 .|. R27 ) . R25 ) * ( R32 . R27 ) ) + ( ( ( R32 .|. R28 ) . R25 ) * ( R32 . R28 ) ) ) ) & ( ( R32 .|. R25 ) . R28 ) = ( ( ( ( R32 .|. R28 ) . R25 ) * ( R32 . R28 ) ) / ( ( ( ( R32 .|. R27 ) . R25 ) * ( R32 . R27 ) ) + ( ( ( R32 .|. R28 ) . R25 ) * ( R32 . R28 ) ) ) )))))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R25 being (Event of R23);
let R27 being (Event of R23);
let R28 being (Event of R23);
let R32 being (Probability of R23);
assume that
L420: ( 0 ) < ( R32 . R25 )
and
L421: R28 = ( R27 ` )
and
L422: ( 0 ) < ( R32 . R27 )
and
L423: ( 0 ) < ( R32 . R28 );
thus L424: ( ( ( ( R32 .|. R27 ) . R25 ) * ( R32 . R27 ) ) / ( ( ( ( R32 .|. R27 ) . R25 ) * ( R32 . R27 ) ) + ( ( ( R32 .|. R28 ) . R25 ) * ( R32 . R28 ) ) ) ) = ( ( ( ( R32 .|. R27 ) . R25 ) * ( R32 . R27 ) ) / ( R32 . R25 ) ) by L421 , L422 , L423 , L368
.= ( ( R32 .|. R25 ) . R27 ) by L420 , L422 , L415;
thus L425: ( ( ( ( R32 .|. R28 ) . R25 ) * ( R32 . R28 ) ) / ( ( ( ( R32 .|. R27 ) . R25 ) * ( R32 . R27 ) ) + ( ( ( R32 .|. R28 ) . R25 ) * ( R32 . R28 ) ) ) ) = ( ( ( ( R32 .|. R28 ) . R25 ) * ( R32 . R28 ) ) / ( R32 . R25 ) ) by L421 , L422 , L423 , L368
.= ( ( R32 .|. R25 ) . R28 ) by L420 , L423 , L415;
end;
theorem
L426: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R25 being (Event of R23) holds (for R27 being (Event of R23) holds (for R28 being (Event of R23) holds (for R29 being (Event of R23) holds (for R32 being (Probability of R23) holds ((( 0 ) < ( R32 . R25 ) & ( 0 ) < ( R32 . R27 ) & ( 0 ) < ( R32 . R28 ) & ( 0 ) < ( R32 . R29 ) & R27 misses R28 & R29 = ( ( R27 \/ R28 ) ` )) implies (( ( R32 .|. R25 ) . R27 ) = ( ( ( ( R32 .|. R27 ) . R25 ) * ( R32 . R27 ) ) / ( ( ( ( ( R32 .|. R27 ) . R25 ) * ( R32 . R27 ) ) + ( ( ( R32 .|. R28 ) . R25 ) * ( R32 . R28 ) ) ) + ( ( ( R32 .|. R29 ) . R25 ) * ( R32 . R29 ) ) ) ) & ( ( R32 .|. R25 ) . R28 ) = ( ( ( ( R32 .|. R28 ) . R25 ) * ( R32 . R28 ) ) / ( ( ( ( ( R32 .|. R27 ) . R25 ) * ( R32 . R27 ) ) + ( ( ( R32 .|. R28 ) . R25 ) * ( R32 . R28 ) ) ) + ( ( ( R32 .|. R29 ) . R25 ) * ( R32 . R29 ) ) ) ) & ( ( R32 .|. R25 ) . R29 ) = ( ( ( ( R32 .|. R29 ) . R25 ) * ( R32 . R29 ) ) / ( ( ( ( ( R32 .|. R27 ) . R25 ) * ( R32 . R27 ) ) + ( ( ( R32 .|. R28 ) . R25 ) * ( R32 . R28 ) ) ) + ( ( ( R32 .|. R29 ) . R25 ) * ( R32 . R29 ) ) ) ))))))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R25 being (Event of R23);
let R27 being (Event of R23);
let R28 being (Event of R23);
let R29 being (Event of R23);
let R32 being (Probability of R23);
assume that
L427: ( 0 ) < ( R32 . R25 )
and
L428: ( 0 ) < ( R32 . R27 )
and
L429: ( 0 ) < ( R32 . R28 )
and
L430: ( 0 ) < ( R32 . R29 )
and
L431: (R27 misses R28 & R29 = ( ( R27 \/ R28 ) ` ));
thus L432: ( ( ( ( R32 .|. R27 ) . R25 ) * ( R32 . R27 ) ) / ( ( ( ( ( R32 .|. R27 ) . R25 ) * ( R32 . R27 ) ) + ( ( ( R32 .|. R28 ) . R25 ) * ( R32 . R28 ) ) ) + ( ( ( R32 .|. R29 ) . R25 ) * ( R32 . R29 ) ) ) ) = ( ( ( ( R32 .|. R27 ) . R25 ) * ( R32 . R27 ) ) / ( R32 . R25 ) ) by L428 , L429 , L430 , L431 , L374
.= ( ( R32 .|. R25 ) . R27 ) by L427 , L428 , L415;
thus L433: ( ( ( ( R32 .|. R28 ) . R25 ) * ( R32 . R28 ) ) / ( ( ( ( ( R32 .|. R27 ) . R25 ) * ( R32 . R27 ) ) + ( ( ( R32 .|. R28 ) . R25 ) * ( R32 . R28 ) ) ) + ( ( ( R32 .|. R29 ) . R25 ) * ( R32 . R29 ) ) ) ) = ( ( ( ( R32 .|. R28 ) . R25 ) * ( R32 . R28 ) ) / ( R32 . R25 ) ) by L428 , L429 , L430 , L431 , L374
.= ( ( R32 .|. R25 ) . R28 ) by L427 , L429 , L415;
thus L434: ( ( ( ( R32 .|. R29 ) . R25 ) * ( R32 . R29 ) ) / ( ( ( ( ( R32 .|. R27 ) . R25 ) * ( R32 . R27 ) ) + ( ( ( R32 .|. R28 ) . R25 ) * ( R32 . R28 ) ) ) + ( ( ( R32 .|. R29 ) . R25 ) * ( R32 . R29 ) ) ) ) = ( ( ( ( R32 .|. R29 ) . R25 ) * ( R32 . R29 ) ) / ( R32 . R25 ) ) by L428 , L429 , L430 , L431 , L374
.= ( ( R32 .|. R25 ) . R29 ) by L427 , L430 , L415;
end;
theorem
L435: (for R22 being non  empty set holds (for R23 being (SigmaField of R22) holds (for R24 being (Event of R23) holds (for R25 being (Event of R23) holds (for R32 being (Probability of R23) holds (( 0 ) < ( R32 . R25 ) implies ( 1 - ( ( R32 . ( ( [#] R23 ) \ R24 ) ) / ( R32 . R25 ) ) ) <= ( ( R32 .|. R25 ) . R24 )))))))
proof
let R22 being non  empty set;
let R23 being (SigmaField of R22);
let R24 being (Event of R23);
let R25 being (Event of R23);
let R32 being (Probability of R23);
assume L436: ( 0 ) < ( R32 . R25 );
L437: ( ( ( R32 . R25 ) + ( R32 . R24 ) ) - 1 ) <= ( R32 . ( R24 /\ R25 ) ) by L217;
L438: ( ( R32 . R25 ) + ( - ( 1 - ( R32 . R24 ) ) ) ) <= ( R32 . ( R24 /\ R25 ) ) by L437;
L439: ( ( R32 . R25 ) + ( - ( R32 . ( ( [#] R23 ) \ R24 ) ) ) ) <= ( R32 . ( R24 /\ R25 ) ) by L438 , PROB_1:32;
L440: ( ( ( R32 . R25 ) + ( - ( R32 . ( ( [#] R23 ) \ R24 ) ) ) ) / ( R32 . R25 ) ) <= ( ( R32 . ( R24 /\ R25 ) ) / ( R32 . R25 ) ) by L439 , L436 , XREAL_1:72;
L441: ( ( ( R32 . R25 ) - ( R32 . ( ( [#] R23 ) \ R24 ) ) ) / ( R32 . R25 ) ) <= ( ( R32 .|. R25 ) . R24 ) by L440 , L436 , L320;
L442: ( ( ( R32 . R25 ) / ( R32 . R25 ) ) - ( ( R32 . ( ( [#] R23 ) \ R24 ) ) / ( R32 . R25 ) ) ) <= ( ( R32 .|. R25 ) . R24 ) by L441 , XCMPLX_1:120;
thus L443: thesis by L442 , L436 , XCMPLX_1:60;
end;
