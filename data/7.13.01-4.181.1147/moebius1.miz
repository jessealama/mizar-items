:: On the Properties of the {M}\"obius Function
::  by Magdalena Jastrz\c{e}bska and Adam Grabowski
::
:: Received March 21, 2006
:: Copyright (c) 2006-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, XBOOLE_0, SUBSET_1, FUNCT_1, CARD_1, XCMPLX_0, INT_2,
      ORDINAL1, XXREAL_0, ARYTM_3, FINSEQ_1, RELAT_1, ABIAN, NEWTON, NAT_3,
      PRE_POLY, NAT_1, UPROOTS, CARD_3, TARSKI, INT_1, FINSET_1, ARYTM_1,
      PYTHTRIP, ZFMISC_1, SQUARE_1, XREAL_0, REAL_1, SETFAM_1, PBOOLE,
      VALUED_0, FUNCOP_1, MOEBIUS1;
 notations TARSKI, XBOOLE_0, SUBSET_1, FINSET_1, ZFMISC_1, ORDINAL1, CARD_1,
      NUMBERS, XREAL_0, XXREAL_0, NEWTON, SETFAM_1, RELAT_1, FUNCT_1, FUNCT_2,
      FINSEQ_1, VALUED_0, SEQ_1, PBOOLE, SQUARE_1, RVSUM_1, BINOP_2, FUNCOP_1,
      XXREAL_2, NAT_3, DOMAIN_1, ABIAN, PYTHTRIP, UPROOTS, RECDEF_1, PRE_POLY,
      POLYNOM2, REAL_1, NAT_1, NAT_D, INT_2;
 constructors NAT_D, FINSOP_1, WSIERP_1, ABIAN, PEPIN, PYTHTRIP, POLYNOM2,
      UPROOTS, NAT_3, SEQ_1, RECDEF_1, BINOP_2, XXREAL_2, REAL_1, DOMAIN_1,
      RELSET_1;
 registrations XBOOLE_0, FUNCT_1, ORDINAL1, FINSET_1, NUMBERS, XCMPLX_0,
      XXREAL_0, XREAL_0, NAT_1, INT_1, MEMBERED, FINSEQ_1, NEWTON, NAT_3,
      VALUED_0, XXREAL_2, CARD_1, UPROOTS, RELSET_1, PRE_POLY;
 requirements NUMERALS, SUBSET, ARITHM, REAL, BOOLE;
 definitions TARSKI, XBOOLE_0, RVSUM_1, SQUARE_1;
 theorems XBOOLE_0, NAT_3, BAGORDER, NEWTON, INT_2, NAT_2, WSIERP_1, CARD_1,
      PEPIN, NAT_1, XCMPLX_1, XREAL_1, PYTHTRIP, ABIAN, ORDINAL1, EULER_1,
      XREAL_0, FINSEQ_1, XBOOLE_1, TARSKI, ZFMISC_1, RVSUM_1, FINSEQ_2,
      NUMBERS, INT_1, FUNCT_1, PBOOLE, UPROOTS, CARD_4, FUNCOP_1, RELAT_1,
      FINSOP_1, XXREAL_0, NAT_D, VALUED_0, XXREAL_2, FUNCT_2, PARTFUN1,
      PRE_POLY, MEASURE6;
 schemes FUNCT_2, CLASSES1, PRE_CIRC, SUBSET_1, NAT_1;

begin
L1: (for B1 , B2 , B3 , B4 being set holds (B1 misses B2 implies (B4 in ( B1 /\ B3 ) implies (not B4 in ( B2 /\ B3 )))))
proof
let C1 , C2 , C3 , C4 being set;
assume that
L2: C1 misses C2
and
L3: C4 in ( C1 /\ C3 );
L4: ( C1 /\ C3 ) misses ( C2 /\ C3 ) by L2 , XBOOLE_1:76;
thus L5: thesis by L4 , L3 , XBOOLE_0:3;
end;
scheme LambdaNATC { F1() -> (Element of ( NAT )) , F2() -> set , F3(set) -> set } : (ex B5 being (Function of ( NAT ) , F2()) st (( B5 . ( 0 ) ) = F1() & (for B6 being non  zero (Element of ( NAT )) holds ( B5 . B6 ) = F3(B6))))
provided
L6: F1() in F2()
and
L7: (for B7 being non  zero (Element of ( NAT )) holds F3(B7) in F2())
proof
deffunc H1(set) = F1();
defpred S1[ set ] means $1 = ( 0 );
L8: (for B8 being set holds (B8 in ( NAT ) implies ((S1[ B8 ] implies H1(B8) in F2()) & ((not S1[ B8 ]) implies F3(B8) in F2())))) by L6 , L7;
L9: (ex B9 being (Function of ( NAT ) , F2()) st (for B10 being set holds (B10 in ( NAT ) implies ((S1[ B10 ] implies ( B9 . B10 ) = H1(B10)) & ((not S1[ B10 ]) implies ( B9 . B10 ) = F3(B10)))))) from FUNCT_2:sch 5(L8);
consider C5 being (Function of ( NAT ) , F2()) such that L10: (for B11 being set holds (B11 in ( NAT ) implies ((S1[ B11 ] implies ( C5 . B11 ) = H1(B11)) & ((not S1[ B11 ]) implies ( C5 . B11 ) = F3(B11))))) by L9;
take C5;
thus L11: ( C5 . ( 0 ) ) = F1() by L10;
let C6 being non  zero (Element of ( NAT ));
thus L12: thesis by L10;
end;
registration
cluster non  prime non  zero for (Element of ( NAT ));
existence by INT_2:29;
end;
theorem
L14: (for B12 being non  zero Nat holds (B12 <> 1 implies B12 >= 2))
proof
let C7 being non  zero Nat;
assume L15: C7 <> 1;
assume L16: C7 < 2;
L17: C7 < ( 1 + 1 ) by L16;
L18: C7 <= ( ( 0 ) + 1 ) by L17 , NAT_1:13;
thus L19: contradiction by L18 , L15 , NAT_1:8;
end;
theorem
L20: (for B13 , B14 , B15 being Nat holds (1 <= B13 implies (B15 in ( Seg B14 ) iff ( B13 * B15 ) in ( Seg ( B13 * B14 ) ))))
proof
let C8 , C9 , C10 being Nat;
assume L21: 1 <= C8;
thus L22:now
assume L23: C10 in ( Seg C9 );
L24: C10 <= C9 by L23 , FINSEQ_1:1;
L25: ( C8 * C10 ) <= ( C8 * C9 ) by L24 , NAT_1:4;
L26: 1 <= C10 by L23 , FINSEQ_1:1;
L27: ( 1 * 1 ) <= ( C8 * C10 ) by L26 , L21 , XREAL_1:66;
thus L28: ( C8 * C10 ) in ( Seg ( C8 * C9 ) ) by L27 , L25 , FINSEQ_1:1;
end;
assume L29: ( C8 * C10 ) in ( Seg ( C8 * C9 ) );
L30: ( 0 ) < C10 by L29 , FINSEQ_1:1;
L31: ( ( 0 ) + 1 ) <= C10 by L30 , NAT_1:13;
L32: ( C8 * C10 ) <= ( C8 * C9 ) by L29 , FINSEQ_1:1;
L33: C10 <= C9 by L32 , L21 , XREAL_1:68;
thus L34: thesis by L33 , L31 , FINSEQ_1:1;
end;
theorem
L35: (for B16 , B17 being (Element of ( NAT )) holds (B16 , B17 are_relative_prime  implies (B16 > ( 0 ) or B17 > ( 0 ))))
proof
let C11 , C12 being (Element of ( NAT ));
assume L36: C11 , C12 are_relative_prime ;
L37: (C11 is  odd or C12 is  odd) by L36 , PYTHTRIP:10;
thus L38: thesis by L37 , ABIAN:12;
end;
L39: (for B18 being Nat holds (B18 <> 1 implies (ex B19 being Prime st B19 divides B18)))
proof
let C13 being Nat;
assume L40: C13 <> 1;
per cases ;
suppose L41: C13 is  zero;

thus L42: thesis by L41 , INT_2:28 , NAT_D:6;
end;
suppose L43: C13 is non  zero;

L44: (ex B20 being (Element of ( NAT )) st (B20 is  prime & B20 divides C13)) by L43 , L40 , L14 , INT_2:31;
thus L45: thesis by L44;
end;
end;
theorem
L47: (for B21 being non  prime (Element of ( NAT )) holds (B21 <> 1 implies (ex B22 being Prime st (B22 divides B21 & B22 <> B21))))
proof
let C14 being non  prime (Element of ( NAT ));
assume L48: C14 <> 1;
L49: (ex B23 being Prime st B23 divides C14) by L48 , L39;
thus L50: thesis by L49;
end;
theorem
L51: (for B24 being Nat holds (B24 <> 1 implies (ex B25 being Prime st B25 divides B24)))
proof
let C15 being Nat;
L52: C15 in ( NAT ) by ORDINAL1:def 12;
assume L53: C15 <> 1;
per cases ;
suppose L54: C15 is Prime;

thus L55: thesis by L54;
end;
suppose L56: (not C15 is Prime);

L57: (ex B26 being Prime st (B26 divides C15 & B26 <> C15)) by L56 , L52 , L53 , L47;
thus L58: thesis by L57;
end;
end;
theorem
L60: (for B27 being Prime holds (for B28 being non  zero Nat holds (B27 divides B28 iff ( B27 |-count B28 ) > ( 0 ))))
proof
let C16 being Prime;
let C17 being non  zero Nat;
L61: C16 <> 1 by INT_2:def 4;
thus L62: (C16 divides C17 implies ( C16 |-count C17 ) > ( 0 ))
proof
assume L63: C16 divides C17;
L64: ( C16 |-count C17 ) >= 1
proof
assume L65: ( C16 |-count C17 ) < 1;
L66: ( C16 |-count C17 ) = ( 0 ) by L65 , NAT_1:25;
L67: (not ( C16 |^ ( ( 0 ) + 1 ) ) divides C17) by L66 , L61 , NAT_3:def 7;
thus L68: contradiction by L67 , L63 , NEWTON:5;
end;
thus L69: thesis by L64;
end;

assume L70: ( C16 |-count C17 ) > ( 0 );
reconsider D1 = ( C16 |-count C17 ) as non  zero Nat by L70;
L71: C16 <> 1 by INT_2:def 4;
L72: ( C16 |^ D1 ) divides C17 by L71 , NAT_3:def 7;
L73: ( C16 |^ ( ( 0 ) + 1 ) ) divides C17 by L72 , NAT_3:4;
thus L74: thesis by L73 , NEWTON:5;
end;
theorem
L75: ( support ( ppf 1 ) ) = ( {} )
proof
L76: ( support ( pfexp 1 ) ) = ( {} );
thus L77: thesis by L76 , NAT_3:def 9;
end;
theorem
L78: (for B29 being Prime holds ( support ( ppf B29 ) ) = { B29 })
proof
let C18 being Prime;
L79: ( support ( pfexp C18 ) ) = { C18 } by NAT_3:43;
thus L80: thesis by L79 , NAT_3:def 9;
end;
theorem
L81: (for R1 being Nat holds (for R2 being Nat holds (for B30 being Prime holds ((R2 <> ( 0 ) & R1 <= ( B30 |-count R2 )) implies ( B30 |^ R1 ) divides R2))))
proof
let R1 being Nat;
let R2 being Nat;
let C19 being Prime;
assume that
L82: R2 <> ( 0 )
and
L83: R1 <= ( C19 |-count R2 );
L84: ( C19 |^ R1 ) divides ( C19 |^ ( C19 |-count R2 ) ) by L83 , NEWTON:89;
L85: C19 > 1 by INT_2:def 4;
L86: ( C19 |^ ( C19 |-count R2 ) ) divides R2 by L85 , L82 , NAT_3:def 7;
thus L87: thesis by L86 , L84 , NAT_D:4;
end;
theorem
L88: (for B31 being (Element of ( NAT )) holds (for B32 being Prime holds (( B32 |^ 2 ) divides B31 implies B32 divides B31)))
proof
let C20 being (Element of ( NAT ));
let C21 being Prime;
assume L89: ( C21 |^ 2 ) divides C20;
consider C22 being Nat such that L90: C20 = ( ( C21 |^ 2 ) * C22 ) by L89 , NAT_D:def 3;
L91: C20 = ( ( C21 * C21 ) * C22 ) by L90 , WSIERP_1:1
.= ( C21 * ( C21 * C22 ) );
thus L92: thesis by L91 , NAT_D:def 3;
end;
theorem
L93: (for B33 being  prime (Element of ( NAT )) holds (for B34 , B35 being non  zero (Element of ( NAT )) holds ((B34 , B35 are_relative_prime  & ( B33 |^ 2 ) divides ( B34 * B35 )) implies (( B33 |^ 2 ) divides B34 or ( B33 |^ 2 ) divides B35))))
proof
let C23 being  prime (Element of ( NAT ));
let C24 , C25 being non  zero (Element of ( NAT ));
assume that
L94: C24 , C25 are_relative_prime 
and
L95: ( C23 |^ 2 ) divides ( C24 * C25 );
L96: C23 divides ( C23 |^ 2 ) by NAT_3:3;
L97: C23 divides ( C24 * C25 ) by L96 , L95 , NAT_D:4;
per cases  by L97 , NEWTON:80;
suppose L98: C23 divides C24;

L99: (not C23 divides C25) by L98 , L94 , PYTHTRIP:def 2;
L100: C23 , C25 are_relative_prime 
proof
reconsider D2 = ( C23 gcd C25 ) as (Element of ( NAT )) by ORDINAL1:def 12;
assume L101: (not C23 , C25 are_relative_prime );
L102: D2 <> 1 by L101 , INT_2:def 3;
L103: (D2 divides C23 & D2 divides C25) by NAT_D:def 5;
thus L104: contradiction by L103 , L99 , L102 , INT_2:def 4;
end;
L105: ( C23 * C23 ) , C25 are_relative_prime  by L100 , EULER_1:14;
L106: ( C23 |^ 2 ) , C25 are_relative_prime  by L105 , WSIERP_1:1;
thus L107: thesis by L106 , L95 , EULER_1:13;
end;
suppose L108: C23 divides C25;

L109: (not C23 divides C24) by L108 , L94 , PYTHTRIP:def 2;
L110: C23 , C24 are_relative_prime 
proof
reconsider D3 = ( C23 gcd C24 ) as (Element of ( NAT )) by ORDINAL1:def 12;
assume L111: (not C23 , C24 are_relative_prime );
L112: D3 <> 1 by L111 , INT_2:def 3;
L113: (D3 divides C23 & D3 divides C24) by NAT_D:def 5;
thus L114: contradiction by L113 , L109 , L112 , INT_2:def 4;
end;
L115: ( C23 * C23 ) , C24 are_relative_prime  by L110 , EULER_1:14;
L116: ( C23 |^ 2 ) , C24 are_relative_prime  by L115 , WSIERP_1:1;
thus L117: thesis by L116 , L95 , EULER_1:13;
end;
end;
theorem
L119: (for R2 being Nat holds (for B36 being (Rbag of ( NAT )) holds (( support B36 ) = { R2 } implies ( Sum B36 ) = ( B36 . R2 ))))
proof
let R2 being Nat;
let C26 being (Rbag of ( NAT ));
reconsider D4 = <* ( C26 . R2 ) *> as (FinSequence of ( REAL ));
assume L120: ( support C26 ) = { R2 };
L121: { R2 } c= ( dom C26 ) by L120 , PRE_POLY:37;
L122: R2 in ( dom C26 ) by L121 , ZFMISC_1:31;
L123: D4 = ( C26 * <* R2 *> ) by L122 , FINSEQ_2:34
.= ( C26 * ( canFS ( support C26 ) ) ) by L120 , UPROOTS:4;
L124: ( Sum D4 ) = ( C26 . R2 ) by FINSOP_1:11;
thus L125: thesis by L124 , L123 , UPROOTS:def 3;
end;
registration
cluster ( canFS ( {} ) ) ->  empty;
coherence;
end;
theorem
L127: (for R2 being Nat holds (for B37 being Prime holds (B37 divides R2 implies { B38 where B38 is (Element of ( NAT )) : (B38 > ( 0 ) & B38 divides R2 & B37 divides B38) } = { ( B37 * B39 ) where B39 is (Element of ( NAT )) : (B39 > ( 0 ) & B39 divides ( R2 div B37 )) })))
proof
let R2 being Nat;
let C27 being Prime;
assume L128: C27 divides R2;
set D5 = { ( C27 * B40 ) where B40 is (Element of ( NAT )) : (B40 > ( 0 ) & B40 divides ( R2 div C27 )) };
set D6 = { B41 where B41 is (Element of ( NAT )) : (B41 > ( 0 ) & B41 divides R2 & C27 divides B41) };
thus L129: D6 c= D5
proof
let C28 being set;
assume L130: C28 in D6;
consider C29 being (Element of ( NAT )) such that L131: C29 = C28 and L132: C29 > ( 0 ) and L133: C29 divides R2 and L134: C27 divides C29 by L130;
consider C30 being Nat such that L135: C29 = ( C27 * C30 ) by L134 , NAT_D:def 3;
consider C31 being Nat such that L136: R2 = ( C29 * C31 ) by L133 , NAT_D:def 3;
L137: R2 = ( C27 * ( C30 * C31 ) ) by L135 , L136;
L138: C27 divides R2 by L137 , NAT_D:def 3;
L139: ( C27 * ( R2 div C27 ) ) = ( C27 * ( C30 * C31 ) ) by L138 , L135 , L136 , NAT_D:3;
L140: ( R2 div C27 ) = ( C30 * C31 ) by L139 , XCMPLX_1:5;
L141: C30 divides ( R2 div C27 ) by L140 , NAT_D:def 3;
L142: (C30 in ( NAT ) & C30 > ( 0 )) by L132 , L135 , ORDINAL1:def 12;
thus L143: thesis by L142 , L131 , L135 , L141;
end;

let C32 being set;
assume L144: C32 in D5;
consider C33 being (Element of ( NAT )) such that L145: ( C27 * C33 ) = C32 and L146: C33 > ( 0 ) and L147: C33 divides ( R2 div C27 ) by L144;
reconsider D7 = C32 as (Element of ( NAT )) by L145;
consider C34 being Nat such that L148: ( R2 div C27 ) = ( C33 * C34 ) by L147 , NAT_D:def 3;
L149: ( ( R2 div C27 ) * C27 ) = ( ( C33 * C34 ) * C27 ) by L148;
L150: R2 = ( C34 * ( C33 * C27 ) ) by L149 , L128 , NAT_D:3;
L151: D7 divides R2 by L150 , L145 , NAT_D:def 3;
L152: C27 divides D7 by L145 , NAT_D:def 3;
thus L153: thesis by L152 , L145 , L146 , L151;
end;
theorem
L154: (for B42 being non  zero Nat holds (ex B43 being (Element of ( NAT )) st ( support ( ppf B42 ) ) c= ( Seg B43 )))
proof
let C35 being non  zero Nat;
L155: ( support ( ppf C35 ) ) = ( support ( pfexp C35 ) ) by NAT_3:def 9;
per cases ;
suppose L156: ( support ( ppf C35 ) ) is  empty;

take ( 0 );
thus L157: thesis by L156;
end;
suppose L158: ( support ( ppf C35 ) ) is non  empty;

reconsider D8 = ( support ( ppf C35 ) ) as  finite non  empty (Subset of ( NAT )) by L158 , XBOOLE_1:1;
take ( max D8 );
L159: ( support ( ppf C35 ) ) c= ( Seg ( max D8 ) )
proof
let C36 being set;
assume L160: C36 in ( support ( ppf C35 ) );
reconsider D9 = C36 as Nat by L160;
L161: C36 is Prime by L155 , L160 , NAT_3:34;
L162: 1 <= D9 by L161 , INT_2:def 4;
L163: D9 <= ( max D8 ) by L160 , XXREAL_2:def 8;
thus L164: thesis by L163 , L162 , FINSEQ_1:1;
end;
L165: ( max D8 ) is (Element of ( NAT )) by ORDINAL1:def 12;
thus L166: thesis by L165 , L159;
end;
end;
theorem
L168: (for B44 being non  zero (Element of ( NAT )) holds (for B45 being Prime holds ((not B45 in ( support ( ppf B44 ) )) implies ( B45 |-count B44 ) = ( 0 ))))
proof
let C37 being non  zero (Element of ( NAT ));
let C38 being Prime;
assume L169: (not C38 in ( support ( ppf C37 ) ));
assume L170: ( C38 |-count C37 ) <> ( 0 );
L171: ( ( ppf C37 ) . C38 ) = ( C38 |^ ( C38 |-count C37 ) ) by L170 , NAT_3:56;
thus L172: thesis by L171 , L169 , PRE_POLY:def 7;
end;
theorem
L173: (for B46 being (Element of ( NAT )) holds (for B47 being non  zero (Element of ( NAT )) holds ((( support ( ppf B47 ) ) c= ( Seg ( B46 + 1 ) ) & (not ( support ( ppf B47 ) ) c= ( Seg B46 ))) implies ( B46 + 1 ) is Prime)))
proof
let C39 being (Element of ( NAT ));
let C40 being non  zero (Element of ( NAT ));
assume that
L174: ( support ( ppf C40 ) ) c= ( Seg ( C39 + 1 ) )
and
L175: (not ( support ( ppf C40 ) ) c= ( Seg C39 ));
L176: ( C39 + 1 ) in ( support ( ppf C40 ) )
proof
assume L177: (not ( C39 + 1 ) in ( support ( ppf C40 ) ));
L178: { ( C39 + 1 ) } misses ( support ( ppf C40 ) ) by L177 , ZFMISC_1:50;
L179: ( ( support ( ppf C40 ) ) \ { ( C39 + 1 ) } ) c= ( ( Seg ( C39 + 1 ) ) \ { ( C39 + 1 ) } ) by L174 , XBOOLE_1:33;
L180: ( support ( ppf C40 ) ) c= ( ( Seg ( C39 + 1 ) ) \ { ( C39 + 1 ) } ) by L179 , L178 , XBOOLE_1:83;
thus L181: thesis by L180 , L175 , FINSEQ_1:10;
end;
L182: ( C39 + 1 ) in ( support ( pfexp C40 ) ) by L176 , NAT_3:def 9;
thus L183: thesis by L182 , NAT_3:34;
end;
theorem
L184: (for B48 , B49 being non  zero Nat holds ((for B50 being Prime holds ( B50 |-count B48 ) <= ( B50 |-count B49 )) implies ( support ( ppf B48 ) ) c= ( support ( ppf B49 ) )))
proof
let C41 , C42 being non  zero Nat;
assume L185: (for B51 being Prime holds ( B51 |-count C41 ) <= ( B51 |-count C42 ));
let C43 being set;
assume L186: C43 in ( support ( ppf C41 ) );
L187: C43 in ( support ( pfexp C41 ) ) by L186 , NAT_3:def 9;
reconsider D10 = C43 as Prime by L187 , NAT_3:34;
L188: ( ( ppf C41 ) . D10 ) <> ( 0 ) by L186 , PRE_POLY:def 7;
L189: ( D10 |-count C41 ) <> ( 0 ) by L188 , NAT_3:55;
L190: ( D10 |-count C42 ) > ( 0 ) by L189 , L185;
L191: ( ( ppf C42 ) . D10 ) = ( D10 |^ ( D10 |-count C42 ) ) by L190 , NAT_3:56;
thus L192: thesis by L191 , PRE_POLY:def 7;
end;
theorem
L193: (for B52 being (Element of ( NAT )) holds (for B53 being non  zero (Element of ( NAT )) holds (( support ( ppf B53 ) ) c= ( Seg ( B52 + 1 ) ) implies (ex B54 being non  zero (Element of ( NAT )) st (ex B55 being (Element of ( NAT )) st (( support ( ppf B54 ) ) c= ( Seg B52 ) & B53 = ( B54 * ( ( B52 + 1 ) |^ B55 ) ) & (for B56 being Prime holds ((B56 in ( support ( ppf B54 ) ) implies ( B56 |-count B54 ) = ( B56 |-count B53 )) & ((not B56 in ( support ( ppf B54 ) )) implies ( B56 |-count B54 ) <= ( B56 |-count B53 ))))))))))
proof
let C44 being (Element of ( NAT ));
let C45 being non  zero (Element of ( NAT ));
assume L194: ( support ( ppf C45 ) ) c= ( Seg ( C44 + 1 ) );
per cases ;
suppose L195: ( support ( ppf C45 ) ) c= ( Seg C44 );

take C45;
take D11 = ( 0 );
L196: ( ( C44 + 1 ) |^ D11 ) = 1 by NEWTON:4;
thus L197: thesis by L196 , L195;
end;
suppose L198: (not ( support ( ppf C45 ) ) c= ( Seg C44 ));

reconsider D12 = ( C44 + 1 ) as non  zero (Element of ( NAT ));
set D13 = ( D12 |-count C45 );
set D14 = ( D12 |^ D13 );
L199:
now
assume L200: (not ( C44 + 1 ) in ( support ( ppf C45 ) ));
L201: ( support ( ppf C45 ) ) c= ( Seg C44 )
proof
let C46 being set;
assume L202: C46 in ( support ( ppf C45 ) );
reconsider D15 = C46 as Nat by L202;
L203: C46 in ( support ( pfexp C45 ) ) by L202 , NAT_3:def 9;
L204: C46 is Prime by L203 , NAT_3:34;
L205: 1 <= D15 by L204 , INT_2:def 4;
L206: D15 <= ( C44 + 1 ) by L194 , L202 , FINSEQ_1:1;
L207: D15 < ( C44 + 1 ) by L206 , L200 , L202 , XXREAL_0:1;
L208: D15 <= C44 by L207 , NAT_1:13;
thus L209: thesis by L208 , L205 , FINSEQ_1:1;
end;
thus L210: contradiction by L201 , L198;
end;
L211: ( C44 + 1 ) in ( support ( pfexp C45 ) ) by L199 , NAT_3:def 9;
L212: D12 is Prime by L211 , NAT_3:34;
L213: D12 > 1 by L212 , INT_2:def 4;
L214: D14 divides C45 by L213 , NAT_3:def 7;
consider C47 being Nat such that L215: C45 = ( D14 * C47 ) by L214 , NAT_D:def 3;
reconsider D16 = D14 , D17 = C47 as non  zero (Element of ( NAT )) by L215 , ORDINAL1:def 12;
L216: ( support ( ppf D17 ) ) = ( support ( pfexp D17 ) ) by NAT_3:def 9;
L217: ( support ( ppf D17 ) ) c= ( Seg C44 )
proof
set D18 = ( D12 |-count D17 );
let C48 being set;
assume L218: C48 in ( support ( ppf D17 ) );
reconsider D19 = C48 as Nat by L218;
L219: C48 in ( support ( pfexp D17 ) ) by L218 , NAT_3:def 9;
L220:
now
assume L221: D19 = D12;
L222: ( ( pfexp D17 ) . D12 ) = D18 by L212 , NAT_3:def 8;
L223: D18 <> ( 0 ) by L222 , L219 , L221 , PRE_POLY:def 7;
L224: D18 >= ( ( 0 ) + 1 ) by L223 , NAT_1:13;
consider C49 being Nat such that L225: D18 = ( 1 + C49 ) by L224 , NAT_1:10;
L226: ( D12 |^ D18 ) divides D17 by L213 , NAT_3:def 7;
consider C50 being Nat such that L227: D17 = ( ( D12 |^ D18 ) * C50 ) by L226 , NAT_D:def 3;
reconsider D20 = C49 as (Element of ( NAT )) by ORDINAL1:def 12;
L228: C45 = ( D16 * ( ( ( D12 |^ D20 ) * D12 ) * C50 ) ) by L215 , L225 , L227 , NEWTON:6
.= ( ( D16 * D12 ) * ( ( D12 |^ D20 ) * C50 ) )
.= ( ( D12 |^ ( D13 + 1 ) ) * ( ( D12 |^ D20 ) * C50 ) ) by NEWTON:6;
L229: ( D12 |^ ( D13 + 1 ) ) divides C45 by L228 , NAT_D:def 3;
thus L230: contradiction by L229 , L213 , NAT_3:def 7;
end;
L231: ( support ( pfexp D17 ) ) c= ( support ( pfexp C45 ) ) by L215 , NAT_3:45;
L232: ( support ( ppf D17 ) ) c= ( support ( ppf C45 ) ) by L231 , L216 , NAT_3:def 9;
L233: D19 in ( support ( ppf C45 ) ) by L232 , L218;
L234: D19 <= ( C44 + 1 ) by L233 , L194 , FINSEQ_1:1;
L235: D19 < D12 by L234 , L220 , XXREAL_0:1;
L236: D19 <= C44 by L235 , NAT_1:13;
L237: C48 is Prime by L219 , NAT_3:34;
L238: 1 <= D19 by L237 , INT_2:def 4;
thus L239: thesis by L238 , L236 , FINSEQ_1:1;
end;
L240: D13 <> ( 0 )
proof
assume L241: D13 = ( 0 );
L242: C45 = ( 1 * D17 ) by L241 , L215 , NEWTON:4;
thus L243: thesis by L242 , L198 , L217;
end;
take D21 = D17;
take D22 = ( ( C44 + 1 ) |-count C45 );
L244: ( support ( ppf D16 ) ) = ( support ( pfexp D16 ) ) by NAT_3:def 9;
L245: ( support ( ppf D16 ) ) = { D12 } by L244 , L212 , L240 , NAT_3:42;
L246:
now
assume L247: ( support ( ppf D16 ) ) meets ( support ( ppf D17 ) );
consider C51 being set such that L248: C51 in ( support ( ppf D16 ) ) and L249: C51 in ( support ( ppf D17 ) ) by L247 , XBOOLE_0:3;
L250: C51 = D12 by L245 , L248 , TARSKI:def 1;
L251: D12 <= C44 by L250 , L217 , L249 , FINSEQ_1:1;
thus L252: contradiction by L251 , NAT_1:13;
end;
L253: (for B57 being Prime holds ((B57 in ( support ( ppf D21 ) ) implies ( B57 |-count D21 ) = ( B57 |-count C45 )) & ((not B57 in ( support ( ppf D21 ) )) implies ( B57 |-count D21 ) <= ( B57 |-count C45 ))))
proof
let C52 being Prime;
thus L254:now
assume L255: C52 in ( support ( ppf D21 ) );
L256: (not C52 in ( support ( ppf D16 ) )) by L255 , L246 , XBOOLE_0:3;
L257: ( C52 |-count D16 ) = ( 0 ) by L256 , L168;
L258: ( C52 |-count C45 ) = ( ( C52 |-count ( D12 |^ D22 ) ) + ( C52 |-count D17 ) ) by L215 , NAT_3:28;
thus L259: ( C52 |-count D21 ) = ( C52 |-count C45 ) by L258 , L257;
end;
assume L260: (not C52 in ( support ( ppf D21 ) ));
thus L261: thesis by L260 , L168;
end;
thus L262: thesis by L253 , L215 , L217;
end;
end;
theorem
L264: (for B58 , B59 being non  zero Nat holds ((for B60 being Prime holds ( B60 |-count B58 ) <= ( B60 |-count B59 )) implies B58 divides B59))
proof
defpred S2[ (Element of ( NAT )) ] means (for B61 , B62 being non  zero (Element of ( NAT )) holds ((( support ( ppf B61 ) ) c= ( Seg $1 ) & ( support ( ppf B62 ) ) c= ( Seg $1 ) & (for B63 being Prime holds ( B63 |-count B61 ) <= ( B63 |-count B62 ))) implies B61 divides B62));
let C53 , C54 being non  zero Nat;
L265: (C53 is (Element of ( NAT )) & C54 is (Element of ( NAT ))) by ORDINAL1:def 12;
consider C55 being (Element of ( NAT )) such that L266: ( support ( ppf C54 ) ) c= ( Seg C55 ) by L154;
L267: (for B64 being (Element of ( NAT )) holds (S2[ B64 ] implies S2[ ( B64 + 1 ) ]))
proof
let C56 being (Element of ( NAT ));
assume L268: S2[ C56 ];
let C57 , C58 being non  zero (Element of ( NAT ));
assume that
L269: ( support ( ppf C57 ) ) c= ( Seg ( C56 + 1 ) )
and
L270: ( support ( ppf C58 ) ) c= ( Seg ( C56 + 1 ) )
and
L271: (for B65 being Prime holds ( B65 |-count C57 ) <= ( B65 |-count C58 ));
per cases ;
suppose L272: ((not ( support ( ppf C58 ) ) c= ( Seg C56 )) & ( support ( ppf C57 ) ) c= ( Seg C56 ));

reconsider D23 = ( C56 + 1 ) as non  zero (Element of ( NAT ));
set D24 = ( D23 |-count C58 );
set D25 = ( D23 |^ D24 );
L273:
now
assume L274: (not ( C56 + 1 ) in ( support ( ppf C58 ) ));
L275: ( support ( ppf C58 ) ) c= ( Seg C56 )
proof
let C59 being set;
assume L276: C59 in ( support ( ppf C58 ) );
reconsider D26 = C59 as Nat by L276;
L277: C59 in ( support ( pfexp C58 ) ) by L276 , NAT_3:def 9;
L278: C59 is Prime by L277 , NAT_3:34;
L279: 1 <= D26 by L278 , INT_2:def 4;
L280: D26 <= ( C56 + 1 ) by L270 , L276 , FINSEQ_1:1;
L281: D26 < ( C56 + 1 ) by L280 , L274 , L276 , XXREAL_0:1;
L282: D26 <= C56 by L281 , NAT_1:13;
thus L283: thesis by L282 , L279 , FINSEQ_1:1;
end;
thus L284: contradiction by L275 , L272;
end;
L285: ( C56 + 1 ) in ( support ( pfexp C58 ) ) by L273 , NAT_3:def 9;
L286: D23 is Prime by L285 , NAT_3:34;
L287: D23 > 1 by L286 , INT_2:def 4;
L288: D25 divides C58 by L287 , NAT_3:def 7;
consider C60 being Nat such that L289: C58 = ( D25 * C60 ) by L288 , NAT_D:def 3;
L290: C60 divides C58 by L289 , NAT_D:def 3;
reconsider D27 = D25 , D28 = C60 as non  zero (Element of ( NAT )) by L289 , ORDINAL1:def 12;
L291: ( support ( ppf D28 ) ) = ( support ( pfexp D28 ) ) by NAT_3:def 9;
L292: ( support ( ppf D28 ) ) c= ( Seg C56 )
proof
set D29 = ( D23 |-count D28 );
let C61 being set;
assume L293: C61 in ( support ( ppf D28 ) );
reconsider D30 = C61 as Nat by L293;
L294: C61 in ( support ( pfexp D28 ) ) by L293 , NAT_3:def 9;
L295:
now
assume L296: D30 = D23;
L297: ( ( pfexp D28 ) . D23 ) = D29 by L286 , NAT_3:def 8;
L298: D29 <> ( 0 ) by L297 , L294 , L296 , PRE_POLY:def 7;
L299: D29 >= ( ( 0 ) + 1 ) by L298 , NAT_1:13;
consider C62 being Nat such that L300: D29 = ( 1 + C62 ) by L299 , NAT_1:10;
L301: ( D23 |^ D29 ) divides D28 by L287 , NAT_3:def 7;
consider C63 being Nat such that L302: D28 = ( ( D23 |^ D29 ) * C63 ) by L301 , NAT_D:def 3;
reconsider D31 = C62 as (Element of ( NAT )) by ORDINAL1:def 12;
L303: C58 = ( D27 * ( ( ( D23 |^ D31 ) * D23 ) * C63 ) ) by L289 , L300 , L302 , NEWTON:6
.= ( ( D27 * D23 ) * ( ( D23 |^ D31 ) * C63 ) )
.= ( ( D23 |^ ( D24 + 1 ) ) * ( ( D23 |^ D31 ) * C63 ) ) by NEWTON:6;
L304: ( D23 |^ ( D24 + 1 ) ) divides C58 by L303 , NAT_D:def 3;
thus L305: contradiction by L304 , L287 , NAT_3:def 7;
end;
L306: ( support ( pfexp D28 ) ) c= ( support ( pfexp C58 ) ) by L289 , NAT_3:45;
L307: ( support ( ppf D28 ) ) c= ( support ( ppf C58 ) ) by L306 , L291 , NAT_3:def 9;
L308: D30 in ( support ( ppf C58 ) ) by L307 , L293;
L309: D30 <= ( C56 + 1 ) by L308 , L270 , FINSEQ_1:1;
L310: D30 < D23 by L309 , L295 , XXREAL_0:1;
L311: D30 <= C56 by L310 , NAT_1:13;
L312: C61 is Prime by L294 , NAT_3:34;
L313: 1 <= D30 by L312 , INT_2:def 4;
thus L314: thesis by L313 , L311 , FINSEQ_1:1;
end;
L315: ( support ( ppf D27 ) ) = ( support ( pfexp D27 ) ) by NAT_3:def 9;
L316: D24 <> ( 0 )
proof
assume L317: D24 = ( 0 );
L318: (not D23 divides C58) by L317 , L287 , NAT_3:27;
thus L319: thesis by L318 , L285 , NAT_3:36;
end;
L320: ( support ( ppf D27 ) ) = { D23 } by L316 , L286 , L315 , NAT_3:42;
L321:
now
assume L322: ( support ( ppf D27 ) ) meets ( support ( ppf D28 ) );
consider C64 being set such that L323: C64 in ( support ( ppf D27 ) ) and L324: C64 in ( support ( ppf D28 ) ) by L322 , XBOOLE_0:3;
L325: C64 = D23 by L320 , L323 , TARSKI:def 1;
L326: D23 <= C56 by L325 , L292 , L324 , FINSEQ_1:1;
thus L327: contradiction by L326 , NAT_1:13;
end;
L328: ((( support ( ppf C57 ) ) c= ( Seg C56 ) & ( support ( ppf D28 ) ) c= ( Seg C56 ) & (for B66 being Prime holds ( B66 |-count C57 ) <= ( B66 |-count D28 ))) implies C57 divides D28) by L268;
L329: (( support ( ppf C58 ) ) = ( support ( pfexp C58 ) ) & ( support ( ppf D28 ) ) = ( support ( pfexp D28 ) )) by NAT_3:def 9;
L330: ( support ( ppf C58 ) ) = ( ( support ( ppf D27 ) ) \/ ( support ( ppf D28 ) ) ) by L329 , L289 , L315 , NAT_3:46;
L331: (for B67 being Prime holds ( B67 |-count C57 ) <= ( B67 |-count D28 ))
proof
let C65 being Prime;
L332: ( C65 |-count C58 ) = ( ( C65 |-count ( D23 |^ D24 ) ) + ( C65 |-count D28 ) ) by L289 , NAT_3:28;
per cases ;
suppose L333: C65 in ( support ( ppf C58 ) );

per cases  by L330 , L333 , XBOOLE_0:def 3;
suppose L334: C65 in ( support ( ppf D27 ) );

L335: C65 = ( C56 + 1 ) by L334 , L320 , TARSKI:def 1;
per cases ;
suppose L336: C65 in ( support ( ppf C57 ) );

L337: C65 <= C56 by L336 , L272 , FINSEQ_1:1;
thus L338: thesis by L337 , L335 , NAT_1:13;
end;
suppose L339: (not C65 in ( support ( ppf C57 ) ));

thus L340: thesis by L339 , L168;
end;
end;
suppose L342: C65 in ( support ( ppf D28 ) );

L343: (not C65 in ( support ( ppf D27 ) )) by L342 , L321 , XBOOLE_0:3;
L344: ( C65 |-count D27 ) = ( 0 ) by L343 , L168;
thus L345: thesis by L344 , L271 , L332;
end;
end;
suppose L347: (not C65 in ( support ( ppf C58 ) ));

L348: ( C65 |-count C58 ) = ( 0 ) by L347 , L168;
thus L349: thesis by L348 , L271;
end;
end;
L351: ( support ( ppf C57 ) ) c= ( support ( ppf D28 ) ) by L331 , L184;
thus L352: thesis by L351 , L290 , L292 , L331 , L328 , NAT_D:4 , XBOOLE_1:1;
end;
suppose L353: ((not ( support ( ppf C58 ) ) c= ( Seg C56 )) & (not ( support ( ppf C57 ) ) c= ( Seg C56 )));

reconsider D32 = ( C56 + 1 ) as Prime by L353 , L269 , L173;
consider C66 being non  zero (Element of ( NAT )), C67 being (Element of ( NAT )) such that L354: ( support ( ppf C66 ) ) c= ( Seg C56 ) and L355: C57 = ( C66 * ( ( C56 + 1 ) |^ C67 ) ) and L356: (for B68 being Prime holds ((B68 in ( support ( ppf C66 ) ) implies ( B68 |-count C66 ) = ( B68 |-count C57 )) & ((not B68 in ( support ( ppf C66 ) )) implies ( B68 |-count C66 ) <= ( B68 |-count C57 )))) by L269 , L193;
consider C68 being non  zero (Element of ( NAT )), C69 being (Element of ( NAT )) such that L357: ( support ( ppf C68 ) ) c= ( Seg C56 ) and L358: C58 = ( C68 * ( ( C56 + 1 ) |^ C69 ) ) and L359: (for B69 being Prime holds ((B69 in ( support ( ppf C68 ) ) implies ( B69 |-count C68 ) = ( B69 |-count C58 )) & ((not B69 in ( support ( ppf C68 ) )) implies ( B69 |-count C68 ) <= ( B69 |-count C58 )))) by L270 , L193;
L360: (not D32 divides C68)
proof
assume L361: D32 divides C68;
L362: D32 in ( support ( pfexp C68 ) ) by L361 , NAT_3:37;
L363: D32 in ( support ( ppf C68 ) ) by L362 , NAT_3:def 9;
L364: D32 <= C56 by L363 , L357 , FINSEQ_1:1;
thus L365: thesis by L364 , NAT_1:13;
end;
L366: ( C56 + 1 ) is Prime by L269 , L353 , L173;
L367: (for B70 being Prime holds ( B70 |-count C66 ) <= ( B70 |-count C68 ))
proof
let C70 being Prime;
per cases ;
suppose L368: (C70 in ( support ( ppf C66 ) ) & C70 in ( support ( ppf C68 ) ));

L369: (( C70 |-count C66 ) = ( C70 |-count C57 ) & ( C70 |-count C68 ) = ( C70 |-count C58 )) by L368 , L356 , L359;
thus L370: thesis by L369 , L271;
end;
suppose L371: ((not C70 in ( support ( ppf C66 ) )) & C70 in ( support ( ppf C68 ) ));

thus L372: thesis by L371 , L168;
end;
suppose L373: (C70 in ( support ( ppf C66 ) ) & (not C70 in ( support ( ppf C68 ) )));

L374: C66 divides C57 by L355 , NAT_D:def 3;
L375: ( C70 |-count C66 ) <= ( C70 |-count C57 ) by L374 , NAT_3:30;
L376: C70 > 1 by INT_2:def 4;
L377: C70 in ( support ( pfexp C66 ) ) by L373 , NAT_3:def 9;
L378: C70 divides C66 by L377 , NAT_3:36;
L379: ( C70 |-count C66 ) <> ( 0 ) by L378 , L376 , NAT_3:27;
L380: ( C70 |-count C66 ) > ( 0 ) by L379;
L381: ( C70 |-count C58 ) > ( 0 ) by L380 , L271 , L375;
L382: C70 divides C58 by L381 , L376 , NAT_3:27;
L383: ( C70 |-count C68 ) = ( 0 ) by L373 , L168;
L384: (not C70 divides C68) by L383 , L376 , NAT_3:27;
L385: C70 divides ( ( C56 + 1 ) |^ C69 ) by L384 , L358 , L382 , NEWTON:80;
L386: C70 divides ( C56 + 1 ) by L385 , NAT_3:5;
L387: C70 = ( C56 + 1 ) by L386 , L366 , L376 , INT_2:def 4;
L388: C56 < ( C56 + 1 ) by NAT_1:13;
thus L389: thesis by L388 , L354 , L373 , L387 , FINSEQ_1:1;
end;
suppose L390: ((not C70 in ( support ( ppf C66 ) )) & (not C70 in ( support ( ppf C68 ) )));

thus L391: thesis by L390 , L168;
end;
end;
L393: C66 divides C68 by L367 , L268 , L354 , L357;
L394: (not D32 divides C66)
proof
assume L395: D32 divides C66;
L396: D32 in ( support ( pfexp C66 ) ) by L395 , NAT_3:37;
L397: D32 in ( support ( ppf C66 ) ) by L396 , NAT_3:def 9;
L398: D32 <= C56 by L397 , L354 , FINSEQ_1:1;
thus L399: thesis by L398 , NAT_1:13;
end;
L400: D32 > 1 by INT_2:def 4;
L401: ( D32 |-count ( D32 |^ C69 ) ) = C69 by L400 , NAT_3:25;
L402: ( D32 |-count C58 ) = ( ( D32 |-count C68 ) + C69 ) by L401 , L358 , NAT_3:28
.= ( ( 0 ) + C69 ) by L400 , L360 , NAT_3:27
.= C69;
L403: ( D32 |-count ( D32 |^ C67 ) ) = C67 by L400 , NAT_3:25;
L404: ( D32 |-count C57 ) = ( ( D32 |-count C66 ) + C67 ) by L403 , L355 , NAT_3:28
.= ( ( 0 ) + C67 ) by L400 , L394 , NAT_3:27
.= C67;
L405: ( ( C56 + 1 ) |^ C67 ) divides ( ( C56 + 1 ) |^ C69 ) by L404 , L271 , L402 , NEWTON:89;
thus L406: thesis by L405 , L355 , L358 , L393 , NAT_3:1;
end;
suppose L407: ( support ( ppf C58 ) ) c= ( Seg C56 );

L408: ( support ( ppf C57 ) ) c= ( support ( ppf C58 ) ) by L271 , L184;
L409: ( support ( ppf C57 ) ) c= ( Seg C56 ) by L408 , L407 , XBOOLE_1:1;
thus L410: thesis by L409 , L268 , L271 , L407;
end;
end;
L412: S2[ ( 0 ) ]
proof
let C71 , C72 being non  zero (Element of ( NAT ));
assume that
L413: ( support ( ppf C71 ) ) c= ( Seg ( 0 ) )
and
L414: ( support ( ppf C72 ) ) c= ( Seg ( 0 ) )
and
L415: (for B71 being Prime holds ( B71 |-count C71 ) <= ( B71 |-count C72 ));
L416: ( support ( ppf C71 ) ) = ( {} ) by L413 , XBOOLE_1:3;
L417: ( support ( pfexp C71 ) ) = ( {} ) by L416 , NAT_3:def 9;
per cases ;
suppose L418: C71 <> 1;

L419: (ex B72 being Prime st B72 divides C71) by L418 , L39;
thus L420: thesis by L419 , L417 , NAT_3:37;
end;
suppose L421: C71 = 1;

thus L422: thesis by L421 , NAT_D:6;
end;
end;
L424: (for B73 being (Element of ( NAT )) holds S2[ B73 ]) from NAT_1:sch 1(L412 , L267);
assume L425: (for B74 being Prime holds ( B74 |-count C53 ) <= ( B74 |-count C54 ));
L426: ( support ( ppf C53 ) ) c= ( support ( ppf C54 ) ) by L425 , L184;
L427: ( support ( ppf C53 ) ) c= ( Seg C55 ) by L426 , L266 , XBOOLE_1:1;
thus L428: thesis by L427 , L425 , L424 , L266 , L265;
end;
begin
definition
let C73 being Nat;
attr C73 is  square-containing
means
:L429: (ex B75 being Prime st ( B75 |^ 2 ) divides C73);
end;
theorem
L431: (for B76 being Nat holds ((ex B77 being non  zero Nat st (B77 <> 1 & ( B77 |^ 2 ) divides B76)) implies B76 is  square-containing))
proof
let C74 being Nat;
given C75 being non  zero Nat such that
L432: C75 <> 1
and
L433: ( C75 |^ 2 ) divides C74;

consider C76 being Prime such that L434: C76 divides C75 by L432 , L39;
L435: ( C76 |^ 2 ) divides ( C75 |^ 2 ) by L434 , WSIERP_1:14;
L436: ( C76 |^ 2 ) divides C74 by L435 , L433 , NAT_D:4;
thus L437: thesis by L436 , L429;
end;
notation
let C77 being Nat;
antonym C77 is  square-free for C77 is  square-containing;
end;
theorem
L439: ( 0 ) is  square-containing
proof
set D33 = the Prime;
L440: ( D33 |^ 2 ) divides ( 0 ) by NAT_D:6;
thus L441: thesis by L440 , L429;
end;
theorem
L442: 1 is  square-free
proof
assume L443: 1 is  square-containing;
consider C78 being Prime such that L444: ( C78 |^ 2 ) divides 1 by L443 , L429;
L445: ( C78 * C78 ) divides 1 by L444 , WSIERP_1:1;
L446: (C78 = 1 or C78 = ( - 1 )) by L445 , WSIERP_1:15 , XCMPLX_1:182;
thus L447: contradiction by L446 , INT_2:def 4;
end;
theorem
L448: (for B78 being Prime holds B78 is  square-free)
proof
let C79 being Prime;
assume L449: C79 is  square-containing;
consider C80 being Prime such that L450: ( C80 |^ 2 ) divides C79 by L449 , L429;
L451: C80 divides ( C80 |^ 2 ) by NAT_3:3;
L452: C80 divides C79 by L451 , L450 , NAT_D:4;
per cases  by L452 , INT_2:def 4;
suppose L453: C80 = 1;

thus L454: contradiction by L453 , INT_2:def 4;
end;
suppose L455: C80 = C79;

L456: C80 = ( C80 |^ 2 ) by L455 , L450 , L451 , NAT_D:5;
L457: ( C80 |^ 1 ) = ( C80 |^ 2 ) by L456 , NEWTON:5;
L458: C80 <= 1 by L457 , PEPIN:30;
thus L459: contradiction by L458 , INT_2:def 4;
end;
end;
registration
cluster  prime ->  square-free for (Element of ( NAT ));
coherence by L448;
end;
definition
func SCNAT -> (Subset of ( NAT )) means 
:L462: (for B79 being Nat holds (B79 in it iff B79 is  square-free));
existence
proof
defpred S3[ Nat ] means $1 is  square-free;
consider C81 being (Subset of ( NAT )) such that L463: (for B80 being (Element of ( NAT )) holds (B80 in C81 iff S3[ B80 ])) from SUBSET_1:sch 3;
take C81;
let C82 being Nat;
thus L464: (C82 in C81 implies C82 is  square-free) by L463;
assume L465: C82 is  square-free;
L466: C82 is (Element of ( NAT )) by INT_1:3;
thus L467: thesis by L466 , L463 , L465;
end;
uniqueness
proof
let C83 , C84 being (Subset of ( NAT ));
defpred S4[ Nat ] means $1 is  square-free;
assume that
L468: (for B81 being Nat holds (B81 in C83 iff B81 is  square-free))
and
L469: (for B82 being Nat holds (B82 in C84 iff B82 is  square-free));
L470: (for B83 being (Element of ( NAT )) holds (B83 in C84 iff S4[ B83 ])) by L469;
L471: (for B84 being (Element of ( NAT )) holds (B84 in C83 iff S4[ B84 ])) by L468;
thus L472: C83 = C84 from SUBSET_1:sch 2(L471 , L470);
end;
end;
registration
cluster  square-free for Nat;
existence by L442;
cluster  square-containing for Nat;
existence
proof
take 4;
L474: ( 2 |^ 2 ) = ( 2 * 2 ) by NEWTON:81
.= 4;
thus L475: thesis by L474 , L429 , INT_2:28;
end;
end;
registration
cluster  square non  trivial ->  square-containing for Nat;
coherence
proof
let C85 being Nat;
assume L477: C85 is  square non  trivial;
consider C86 being Nat such that L478: C85 = ( C86 ^2 ) by L477 , PYTHTRIP:def 3;
L479: ( C86 |^ 2 ) divides C85 by L478 , WSIERP_1:1;
L480: (C86 <> ( 1 ^2 ) & C86 <> ( ( 0 ) ^2 )) by L477 , L478 , NAT_2:28;
thus L481: thesis by L480 , L479 , L431;
end;
end;
theorem
L483: (for R2 being Nat holds (R2 is  square-free implies (for B85 being Prime holds ( B85 |-count R2 ) <= 1)))
proof
let R2 being Nat;
assume L484: R2 is  square-free;
given C87 being Prime such that
L485: ( C87 |-count R2 ) > 1;

L486: ( C87 |-count R2 ) >= ( 1 + 1 ) by L485 , NAT_1:13;
L487: ( C87 |^ 2 ) divides R2 by L486 , L484 , L81 , L439;
thus L488: thesis by L487 , L484 , L429;
end;
theorem
L489: (for R1 being Nat holds (for R2 being Nat holds (( R1 * R2 ) is  square-free implies R1 is  square-free)))
proof
let R1 being Nat;
let R2 being Nat;
assume L490: ( R1 * R2 ) is  square-free;
assume L491: R1 is  square-containing;
consider C88 being Prime such that L492: ( C88 |^ 2 ) divides R1 by L491 , L429;
L493: ( C88 |^ 2 ) divides ( R1 * R2 ) by L492 , NAT_D:9;
thus L494: thesis by L493 , L490 , L429;
end;
theorem
L495: (for R1 being Nat holds (for R2 being Nat holds ((R1 is  square-free & R2 divides R1) implies R2 is  square-free)))
proof
let R1 being Nat;
let R2 being Nat;
assume that
L496: R1 is  square-free
and
L497: R2 divides R1;
L498: (ex B86 being Nat st R1 = ( R2 * B86 )) by L497 , NAT_D:def 3;
thus L499: thesis by L498 , L496 , L489;
end;
theorem
L500: (for B87 being Prime holds (for B88 , B89 being Nat holds ((B88 is  square-free & B87 divides B88 & B89 divides ( B88 div B87 )) implies (B89 divides B88 & (not B87 divides B89)))))
proof
let C89 being Prime;
let C90 , C91 being Nat;
assume that
L501: C90 is  square-free
and
L502: C89 divides C90;
assume L503: C91 divides ( C90 div C89 );
consider C92 being Nat such that L504: ( C90 div C89 ) = ( C91 * C92 ) by L503 , NAT_D:def 3;
L505: ( ( C90 div C89 ) * C89 ) = ( ( C91 * C92 ) * C89 ) by L504;
L506: C90 = ( C91 * ( C92 * C89 ) ) by L505 , L502 , NAT_D:3;
thus L507: C91 divides C90 by L506 , NAT_D:def 3;
assume L508: C89 divides C91;
consider C93 being Nat such that L509: C91 = ( C89 * C93 ) by L508 , NAT_D:def 3;
L510: C90 = ( ( C93 * ( C89 * C89 ) ) * C92 ) by L502 , L505 , L509 , NAT_D:3
.= ( ( C93 * ( C89 |^ 2 ) ) * C92 ) by WSIERP_1:1
.= ( ( C89 |^ 2 ) * ( C93 * C92 ) );
L511: ( C89 |^ 2 ) divides C90 by L510 , NAT_D:def 3;
thus L512: thesis by L511 , L501 , L429;
end;
theorem
L513: (for B90 being Prime holds (for B91 , B92 being Nat holds ((B90 divides B91 & B92 divides B91 & (not B90 divides B92)) implies B92 divides ( B91 div B90 ))))
proof
let C94 being Prime;
let C95 , C96 being Nat;
assume that
L514: C94 divides C95
and
L515: C96 divides C95
and
L516: (not C94 divides C96);
consider C97 being Nat such that L517: C95 = ( C96 * C97 ) by L515 , NAT_D:def 3;
L518: C94 divides C97 by L514 , L516 , L517 , NEWTON:80;
consider C98 being Nat such that L519: C97 = ( C94 * C98 ) by L518 , NAT_D:def 3;
L520: C95 = ( ( C96 * C98 ) * C94 ) by L517 , L519;
L521: ( C95 div C94 ) = ( C96 * C98 ) by L520 , NAT_D:18;
thus L522: thesis by L521 , NAT_D:def 3;
end;
theorem
L523: (for B93 being Prime holds (for B94 being Nat holds ((B94 is  square-free & B93 divides B94) implies { B95 where B95 is (Element of ( NAT )) : (( 0 ) < B95 & B95 divides B94 & (not B93 divides B95)) } = { B96 where B96 is (Element of ( NAT )) : (( 0 ) < B96 & B96 divides ( B94 div B93 )) })))
proof
let C99 being Prime;
let C100 being Nat;
assume that
L524: C100 is  square-free
and
L525: C99 divides C100;
set D34 = { B97 where B97 is (Element of ( NAT )) : (( 0 ) < B97 & B97 divides ( C100 div C99 )) };
set D35 = { B98 where B98 is (Element of ( NAT )) : (( 0 ) < B98 & B98 divides C100 & (not C99 divides B98)) };
thus L526: D35 c= D34
proof
let C101 being set;
assume L527: C101 in D35;
consider C102 being (Element of ( NAT )) such that L528: (C102 = C101 & ( 0 ) < C102) and L529: (C102 divides C100 & (not C99 divides C102)) by L527;
L530: C102 divides ( C100 div C99 ) by L525 , L529 , L513;
thus L531: thesis by L530 , L528;
end;

let C103 being set;
assume L532: C103 in D34;
consider C104 being (Element of ( NAT )) such that L533: (C104 = C103 & ( 0 ) < C104) and L534: C104 divides ( C100 div C99 ) by L532;
L535: (C104 divides C100 & (not C99 divides C104)) by L524 , L525 , L534 , L500;
thus L536: thesis by L535 , L533;
end;
begin
definition
let C105 being Nat;
::$N Moebius function
func Moebius C105 ->  real number means 
:L537: it = ( 0 ) if C105 is  square-containing otherwise (ex B99 being non  zero Nat st (B99 = C105 & it = ( ( - 1 ) |^ ( card ( support ( ppf B99 ) ) ) )));
consistency;
existence
proof
thus L538: (C105 is  square-containing implies (ex B100 being  real number st B100 = ( 0 )));
L539: (C105 is  square-free implies (ex B101 being non  zero Nat st (B101 = C105 & (ex B102 being  real number st B102 = ( ( - 1 ) |^ ( card ( support ( ppf B101 ) ) ) )))))
proof
assume L540: C105 is  square-free;
L541: C105 is non  zero non  zero non  zero non  zero Nat
proof
set D36 = the Prime;
assume L542: (not C105 is non  zero non  zero non  zero non  zero Nat);
L543: ( D36 |^ 2 ) divides C105 by L542 , NAT_D:6;
thus L544: contradiction by L543 , L540 , L429;
end;
reconsider D37 = C105 as non  zero Nat by L541;
L545: (ex B103 being  real number st B103 = ( ( - 1 ) |^ ( card ( support ( ppf D37 ) ) ) ));
thus L546: thesis by L545;
end;
thus L547: thesis by L539;
end;
uniqueness;
end;
theorem
L549: ( Moebius 1 ) = 1
proof
L550: ( Moebius 1 ) = ( ( - 1 ) |^ ( card ( 0 ) ) ) by L537 , L75 , L442
.= 1 by NEWTON:4;
thus L551: thesis by L550;
end;
theorem
L552: ( Moebius 2 ) = ( - 1 )
proof
L553: ( Moebius 2 ) = ( ( - 1 ) |^ ( card ( support ( ppf 2 ) ) ) ) by L537 , INT_2:28
.= ( ( - 1 ) |^ ( card { 2 } ) ) by L78 , INT_2:28
.= ( ( - 1 ) |^ 1 ) by CARD_1:30;
thus L554: thesis by L553 , NEWTON:5;
end;
theorem
L555: ( Moebius 3 ) = ( - 1 )
proof
L556: ( Moebius 3 ) = ( ( - 1 ) |^ ( card ( support ( ppf 3 ) ) ) ) by L537 , PEPIN:41
.= ( ( - 1 ) |^ ( card { 3 } ) ) by L78 , PEPIN:41
.= ( ( - 1 ) |^ 1 ) by CARD_1:30;
thus L557: thesis by L556 , NEWTON:5;
end;
theorem
L558: (for B104 being Nat holds (B104 is  square-free implies ( Moebius B104 ) <> ( 0 )))
proof
let C106 being Nat;
assume L559: C106 is  square-free;
consider C107 being non  zero Nat such that L560: (C107 = C106 & ( Moebius C106 ) = ( ( - 1 ) |^ ( card ( support ( ppf C107 ) ) ) )) by L559 , L537;
L561: ( Moebius C106 ) = ( (( - 1 ) qua Real) |^ ( card ( support ( ppf C107 ) ) ) ) by L560;
thus L562: thesis by L561 , CARD_4:3;
end;
registration
let C108 being  square-free Nat;
cluster ( Moebius C108 ) -> non  zero;
coherence by L558;
end;
theorem
L564: (for B105 being Prime holds ( Moebius B105 ) = ( - 1 ))
proof
let C109 being Prime;
reconsider D38 = C109 as  prime (Element of ( NAT )) by ORDINAL1:def 12;
L565: ( Moebius C109 ) = ( ( - 1 ) |^ ( card ( support ( ppf D38 ) ) ) ) by L537
.= ( ( - 1 ) |^ ( card { C109 } ) ) by L78
.= ( ( - 1 ) |^ 1 ) by CARD_1:30;
thus L566: thesis by L565 , NEWTON:5;
end;
theorem
L567: (for B106 , B107 being non  zero (Element of ( NAT )) holds (B106 , B107 are_relative_prime  implies ( Moebius ( B106 * B107 ) ) = ( ( Moebius B106 ) * ( Moebius B107 ) )))
proof
let C110 , C111 being non  zero (Element of ( NAT ));
assume L568: C110 , C111 are_relative_prime ;
per cases ;
suppose L569: (C110 is  square-free & C111 is  square-free);

L570: ( C110 * C111 ) is  square-free
proof
assume L571: ( C110 * C111 ) is  square-containing;
consider C112 being Prime such that L572: ( C112 |^ 2 ) divides ( C110 * C111 ) by L571 , L429;
L573: C112 in ( NAT ) by ORDINAL1:def 12;
L574: (( C112 |^ 2 ) divides C110 or ( C112 |^ 2 ) divides C111) by L573 , L568 , L572 , L93;
thus L575: contradiction by L574 , L569 , L429;
end;
L576: ( Moebius C110 ) = ( ( - 1 ) |^ ( card ( support ( ppf C110 ) ) ) ) by L569 , L537;
L577: ( card ( support ( pfexp ( C110 * C111 ) ) ) ) = ( ( card ( support ( pfexp C110 ) ) ) + ( card ( support ( pfexp C111 ) ) ) ) by L568 , NAT_3:47;
L578: ( card ( support ( ppf ( C110 * C111 ) ) ) ) = ( ( card ( support ( pfexp C110 ) ) ) + ( card ( support ( pfexp C111 ) ) ) ) by L577 , NAT_3:def 9
.= ( ( card ( support ( pfexp C110 ) ) ) + ( card ( support ( ppf C111 ) ) ) ) by NAT_3:def 9
.= ( ( card ( support ( ppf C110 ) ) ) + ( card ( support ( ppf C111 ) ) ) ) by NAT_3:def 9;
L579: ( Moebius ( C110 * C111 ) ) = ( ( - 1 ) |^ ( ( card ( support ( ppf C110 ) ) ) + ( card ( support ( ppf C111 ) ) ) ) ) by L578 , L570 , L537
.= ( ( ( - 1 ) |^ ( card ( support ( ppf C110 ) ) ) ) * ( ( - 1 ) |^ ( card ( support ( ppf C111 ) ) ) ) ) by NEWTON:8;
thus L580: thesis by L579 , L569 , L576 , L537;
end;
suppose L581: (C110 is  square-free & C111 is  square-containing);

consider C113 being Prime such that L582: ( C113 |^ 2 ) divides C111 by L581 , L429;
L583: ( C113 |^ 2 ) divides ( C110 * C111 ) by L582 , NAT_D:9;
L584: ( C110 * C111 ) is  square-containing by L583 , L429;
L585: ( Moebius C111 ) = ( 0 ) by L581 , L537;
thus L586: thesis by L585 , L584 , L537;
end;
suppose L587: (C110 is  square-containing & C111 is  square-free);

consider C114 being Prime such that L588: ( C114 |^ 2 ) divides C110 by L587 , L429;
L589: ( C114 |^ 2 ) divides ( C110 * C111 ) by L588 , NAT_D:9;
L590: ( C110 * C111 ) is  square-containing by L589 , L429;
L591: ( Moebius C110 ) = ( 0 ) by L587 , L537;
thus L592: thesis by L591 , L590 , L537;
end;
suppose L593: (C110 is  square-containing & C111 is  square-containing);

consider C115 being Prime such that L594: ( C115 |^ 2 ) divides C110 by L593 , L429;
L595: ( C115 |^ 2 ) divides ( C110 * C111 ) by L594 , NAT_D:9;
L596: ( C110 * C111 ) is  square-containing by L595 , L429;
L597: ( Moebius C110 ) = ( 0 ) by L593 , L537;
thus L598: thesis by L597 , L596 , L537;
end;
end;
theorem
L600: (for B108 being Prime holds (for B109 being (Element of ( NAT )) holds ((1 <= B109 & ( B109 * B108 ) is  square-free) implies ( Moebius ( B109 * B108 ) ) = ( - ( Moebius B109 ) ))))
proof
let C116 being Prime;
let C117 being (Element of ( NAT ));
assume that
L601: 1 <= C117
and
L602: ( C117 * C116 ) is  square-free;
L603: C116 in ( NAT ) by ORDINAL1:def 12;
L604: C117 , C116 are_relative_prime 
proof
assume L605: (not C117 , C116 are_relative_prime );
consider C118 being  prime Nat such that L606: C118 divides C117 and L607: C118 divides C116 by L605 , PYTHTRIP:def 2;
L608: (C118 = 1 or C118 = C116) by L607 , INT_2:def 4;
L609: ( C116 * C116 ) divides ( C117 * C116 ) by L608 , L603 , L606 , INT_2:def 4 , PYTHTRIP:7;
L610: ( C116 |^ 2 ) divides ( C117 * C116 ) by L609 , WSIERP_1:1;
thus L611: thesis by L610 , L602 , L429;
end;
L612: ( Moebius ( C117 * C116 ) ) = ( ( Moebius C117 ) * ( Moebius C116 ) ) by L604 , L601 , L603 , L567
.= ( ( Moebius C117 ) * ( - 1 ) ) by L564;
thus L613: thesis by L612;
end;
theorem
L614: (for B110 , B111 being non  zero (Element of ( NAT )) holds ((not B110 , B111 are_relative_prime ) implies ( Moebius ( B110 * B111 ) ) = ( 0 )))
proof
let C119 , C120 being non  zero (Element of ( NAT ));
assume L615: (not C119 , C120 are_relative_prime );
consider C121 being  prime Nat such that L616: (C121 divides C119 & C121 divides C120) by L615 , PYTHTRIP:def 2;
reconsider D39 = C121 as  prime (Element of ( NAT )) by ORDINAL1:def 12;
L617: ( D39 * D39 ) divides ( C119 * C120 ) by L616 , NAT_3:1;
L618: ( D39 |^ 2 ) divides ( C119 * C120 ) by L617 , WSIERP_1:1;
L619: ( C119 * C120 ) is  square-containing by L618 , L429;
thus L620: thesis by L619 , L537;
end;
theorem
L621: (for B112 being Nat holds (B112 in ( SCNAT ) iff ( Moebius B112 ) <> ( 0 )))
proof
let C122 being Nat;
thus L622:now
assume L623: C122 in ( SCNAT );
L624: C122 is  square-free by L623 , L462;
thus L625: ( Moebius C122 ) <> ( 0 ) by L624;
end;
assume L626: ( Moebius C122 ) <> ( 0 );
L627: C122 is  square-free by L626 , L537;
thus L628: thesis by L627 , L462;
end;
begin
definition
let C123 being Nat;
func NatDivisors C123 -> (Subset of ( NAT )) equals 
{ B113 where B113 is (Element of ( NAT )) : (B113 <> ( 0 ) & B113 divides C123) };
coherence
proof
L629: { B114 where B114 is (Element of ( NAT )) : (B114 <> ( 0 ) & B114 divides C123) } c= ( NAT )
proof
let C124 being set;
assume L630: C124 in { B115 where B115 is (Element of ( NAT )) : (B115 <> ( 0 ) & B115 divides C123) };
L631: (ex B116 being (Element of ( NAT )) st (B116 = C124 & B116 <> ( 0 ) & B116 divides C123)) by L630;
thus L632: thesis by L631;
end;
thus L633: thesis by L629;
end;
end;
theorem
L635: (for B117 , B118 being Nat holds (B118 in ( NatDivisors B117 ) iff (( 0 ) < B118 & B118 divides B117)))
proof
let C125 , C126 being Nat;
thus L636:now
assume L637: C126 in ( NatDivisors C125 );
L638: (ex B119 being (Element of ( NAT )) st (B119 = C126 & B119 <> ( 0 ) & B119 divides C125)) by L637;
thus L639: (( 0 ) < C126 & C126 divides C125) by L638;
end;
assume L640: (( 0 ) < C126 & C126 divides C125);
L641: C126 is (Element of ( NAT )) by ORDINAL1:def 12;
thus L642: thesis by L641 , L640;
end;
theorem
L643: (for B120 being non  zero Nat holds ( NatDivisors B120 ) c= ( Seg B120 ))
proof
let C127 being non  zero Nat;
let C128 being set;
assume L644: C128 in ( NatDivisors C127 );
consider C129 being (Element of ( NAT )) such that L645: C128 = C129 and L646: (C129 <> ( 0 ) & C129 divides C127) by L644;
L647: (1 <= C129 & C129 <= C127) by L646 , NAT_1:14 , NAT_D:7;
thus L648: thesis by L647 , L645 , FINSEQ_1:1;
end;
registration
let C130 being non  zero Nat;
cluster ( NatDivisors C130 ) ->  finite  with_non-empty_elements;
coherence
proof
set D40 = ( NatDivisors C130 );
L649: (not ( 0 ) in D40)
proof
assume L650: ( 0 ) in D40;
L651: (ex B121 being (Element of ( NAT )) st (B121 = ( 0 ) & B121 <> ( 0 ) & B121 divides C130)) by L650;
thus L652: contradiction by L651;
end;
L653: D40 c= ( Seg C130 ) by L643;
thus L654: thesis by L653 , L649 , MEASURE6:def 2;
end;
end;
theorem
L656: ( NatDivisors 1 ) = { 1 }
proof
thus L657: ( NatDivisors 1 ) c= { 1 }
proof
let C131 being set;
assume L658: C131 in ( NatDivisors 1 );
consider C132 being (Element of ( NAT )) such that L659: C131 = C132 and L660: C132 <> ( 0 ) and L661: C132 divides 1 by L658;
L662: C132 = 1 by L661 , WSIERP_1:15;
thus L663: thesis by L662 , L659 , ZFMISC_1:31;
end;

let C133 being set;
assume L664: C133 in { 1 };
reconsider D41 = C133 as (Element of ( NAT )) by L664;
L665: (D41 <> ( 0 ) & D41 divides 1) by L664 , TARSKI:def 1;
thus L666: thesis by L665;
end;
begin
definition
let C134 being set;
func SMoebius C134 -> (ManySortedSet of ( NAT )) means 
:L667: (( support it ) = ( C134 /\ ( SCNAT ) ) & (for B122 being (Element of ( NAT )) holds (B122 in ( support it ) implies ( it . B122 ) = ( Moebius B122 ))));
existence
proof
defpred S5[ set ] means $1 in ( C134 /\ ( SCNAT ) );
deffunc H2((Element of ( NAT ))) = ( 0 );
deffunc H3((Element of ( NAT ))) = ( Moebius $1 );
L668: (ex B123 being (ManySortedSet of ( NAT )) st (for B124 being (Element of ( NAT )) holds (B124 in ( NAT ) implies ((S5[ B124 ] implies ( B123 . B124 ) = H3(B124)) & ((not S5[ B124 ]) implies ( B123 . B124 ) = H2(B124)))))) from PRE_CIRC:sch 2;
consider C135 being (ManySortedSet of ( NAT )) such that L669: (for B125 being (Element of ( NAT )) holds (B125 in ( NAT ) implies ((S5[ B125 ] implies ( C135 . B125 ) = H3(B125)) & ((not S5[ B125 ]) implies ( C135 . B125 ) = H2(B125))))) by L668;
L670: ( support C135 ) c= ( SCNAT )
proof
L671: ( dom C135 ) = ( NAT ) by PARTFUN1:def 2;
L672: ( support C135 ) c= ( NAT ) by L671 , PRE_POLY:37;
let C136 being set;
assume L673: C136 in ( support C135 );
L674: ( C135 . C136 ) <> ( 0 ) by L673 , PRE_POLY:def 7;
per cases ;
suppose L675: S5[ C136 ];

thus L676: thesis by L675 , XBOOLE_0:def 4;
end;
suppose L677: (not S5[ C136 ]);

thus L678: thesis by L677 , L669 , L673 , L674 , L672;
end;
end;
L680: ( support C135 ) = ( C134 /\ ( SCNAT ) )
proof
thus L681: ( support C135 ) c= ( C134 /\ ( SCNAT ) )
proof
let C137 being set;
assume L682: C137 in ( support C135 );
L683: C137 in ( SCNAT ) by L682 , L670;
reconsider D42 = C137 as (Element of ( NAT )) by L683;
assume L684: (not C137 in ( C134 /\ ( SCNAT ) ));
L685: ( C135 . D42 ) = ( 0 ) by L684 , L669;
thus L686: contradiction by L685 , L682 , PRE_POLY:def 7;
end;

let C138 being set;
assume L687: C138 in ( C134 /\ ( SCNAT ) );
reconsider D43 = C138 as (Element of ( NAT )) by L687;
L688: C138 in ( SCNAT ) by L687 , XBOOLE_0:def 4;
L689: ( Moebius D43 ) <> ( 0 ) by L688 , L621;
L690: ( C135 . D43 ) = ( Moebius D43 ) by L669 , L687;
thus L691: thesis by L690 , L689 , PRE_POLY:def 7;
end;
reconsider D44 = C135 as (ManySortedSet of ( NAT ));
take D44;
thus L692: ( support D44 ) = ( C134 /\ ( SCNAT ) ) by L680;
let C139 being (Element of ( NAT ));
assume L693: C139 in ( support D44 );
thus L694: thesis by L693 , L669 , L680;
end;
uniqueness
proof
let C140 , C141 being (ManySortedSet of ( NAT ));
assume that
L695: ( support C140 ) = ( C134 /\ ( SCNAT ) )
and
L696: (for B126 being (Element of ( NAT )) holds (B126 in ( support C140 ) implies ( C140 . B126 ) = ( Moebius B126 )))
and
L697: ( support C141 ) = ( C134 /\ ( SCNAT ) )
and
L698: (for B127 being (Element of ( NAT )) holds (B127 in ( support C141 ) implies ( C141 . B127 ) = ( Moebius B127 )));
L699: (for B128 being set holds (B128 in ( NAT ) implies ( C140 . B128 ) = ( C141 . B128 )))
proof
let C142 being set;
assume L700: C142 in ( NAT );
reconsider D45 = C142 as (Element of ( NAT )) by L700;
per cases ;
suppose L701: D45 in ( support C140 );

thus L702: ( C140 . C142 ) = ( Moebius D45 ) by L701 , L696
.= ( C141 . C142 ) by L695 , L697 , L698 , L701;
end;
suppose L703: (not D45 in ( support C140 ));

thus L704: ( C140 . C142 ) = ( 0 ) by L703 , PRE_POLY:def 7
.= ( C141 . C142 ) by L695 , L697 , L703 , PRE_POLY:def 7;
end;
end;
thus L706: thesis by L699 , PBOOLE:3;
end;
end;
registration
let C143 being set;
cluster ( SMoebius C143 ) ->  real-valued;
coherence
proof
L708: ( rng ( SMoebius C143 ) ) c= ( REAL )
proof
let C144 being set;
assume L709: C144 in ( rng ( SMoebius C143 ) );
consider C145 being set such that L710: C145 in ( dom ( SMoebius C143 ) ) and L711: ( ( SMoebius C143 ) . C145 ) = C144 by L709 , FUNCT_1:def 3;
L712: ( dom ( SMoebius C143 ) ) = ( NAT ) by PARTFUN1:def 2;
reconsider D46 = C145 as Nat by L712 , L710;
per cases ;
suppose L713: D46 in ( support ( SMoebius C143 ) );

L714: D46 in ( C143 /\ ( SCNAT ) ) by L713 , L667;
L715: C144 = ( Moebius D46 ) by L714 , L711 , L713 , L667;
thus L716: thesis by L715 , XREAL_0:def 1;
end;
suppose L717: (not D46 in ( support ( SMoebius C143 ) ));

L718: ( ( SMoebius C143 ) . D46 ) = ( 0 ) by L717 , PRE_POLY:def 7;
thus L719: thesis by L718 , L711;
end;
end;
thus L721: thesis by L708 , VALUED_0:def 3;
end;
end;
registration
let C146 being  finite set;
cluster ( SMoebius C146 ) ->  finite-support;
coherence
proof
L723: ( support ( SMoebius C146 ) ) = ( C146 /\ ( SCNAT ) ) by L667;
thus L724: thesis by L723 , PRE_POLY:def 8;
end;
end;
theorem
L726: ( Sum ( SMoebius ( NatDivisors 1 ) ) ) = 1
proof
reconsider D47 = 1 as (Element of ( NAT ));
reconsider D48 = ( ({ 1 } , 1) -bag ) as (Rbag of ( NAT ));
L727: 1 in { 1 } by TARSKI:def 1;
L728: 1 in ( SCNAT ) by L462 , L442;
L729: D47 in { 1 } by TARSKI:def 1;
L730: D47 in ( { 1 } /\ ( SCNAT ) ) by L729 , L728 , XBOOLE_0:def 4;
L731: D47 in ( support ( SMoebius { 1 } ) ) by L730 , L667;
L732: ( ( SMoebius { 1 } ) . 1 ) = 1 by L731 , L667 , L549;
L733: { 1 } c= ( SCNAT ) by L728 , ZFMISC_1:31;
L734: ( { 1 } /\ ( SCNAT ) ) = { 1 } by L733 , XBOOLE_1:28;
L735: (for B129 being set holds (B129 in ( NAT ) implies ( ( SMoebius { 1 } ) . B129 ) = ( D48 . B129 )))
proof
let C147 being set;
per cases ;
suppose L736: C147 in { 1 };

L737: C147 = 1 by L736 , TARSKI:def 1;
thus L738: thesis by L737 , L732 , L736 , UPROOTS:7;
end;
suppose L739: (not C147 in { 1 });

L740: (not C147 in ( support ( SMoebius { 1 } ) )) by L739 , L734 , L667;
L741: ( D48 . C147 ) = ( 0 ) by L739 , UPROOTS:6
.= ( ( SMoebius { 1 } ) . C147 ) by L740 , PRE_POLY:def 7;
thus L742: thesis by L741;
end;
end;
L744: (( support D48 ) = { 1 } & ( SMoebius { 1 } ) = D48) by L735 , PBOOLE:3 , UPROOTS:8;
L745: ( Sum ( SMoebius ( NatDivisors 1 ) ) ) = ( D48 . 1 ) by L744 , L119 , L656
.= 1 by L727 , UPROOTS:7;
thus L746: thesis by L745;
end;
theorem
L747: (for B130 , B131 being  finite (Subset of ( NAT )) holds (B130 misses B131 implies ( ( support ( SMoebius B130 ) ) \/ ( support ( SMoebius B131 ) ) ) = ( support ( ( SMoebius B130 ) + ( SMoebius B131 ) ) )))
proof
let C148 , C149 being  finite (Subset of ( NAT ));
assume L748: C148 misses C149;
thus L749: ( ( support ( SMoebius C148 ) ) \/ ( support ( SMoebius C149 ) ) ) c= ( support ( ( SMoebius C148 ) + ( SMoebius C149 ) ) )
proof
let C150 being set;
L750: (( support ( SMoebius C148 ) ) = ( C148 /\ ( SCNAT ) ) & ( support ( SMoebius C149 ) ) = ( C149 /\ ( SCNAT ) )) by L667;
L751: ( support ( SMoebius C148 ) ) misses ( support ( SMoebius C149 ) ) by L750 , L748 , XBOOLE_1:76;
assume L752: C150 in ( ( support ( SMoebius C148 ) ) \/ ( support ( SMoebius C149 ) ) );
per cases  by L752 , XBOOLE_0:def 3;
suppose L753: C150 in ( support ( SMoebius C148 ) );

L754: (not C150 in ( support ( SMoebius C149 ) )) by L753 , L751 , XBOOLE_0:3;
L755: ( ( SMoebius C149 ) . C150 ) = ( 0 ) by L754 , PRE_POLY:def 7;
L756: ( ( ( SMoebius C148 ) . C150 ) + ( ( SMoebius C149 ) . C150 ) ) <> ( 0 ) by L755 , L753 , PRE_POLY:def 7;
L757: ( ( ( SMoebius C148 ) + ( SMoebius C149 ) ) . C150 ) <> ( 0 ) by L756 , PRE_POLY:def 5;
thus L758: thesis by L757 , PRE_POLY:def 7;
end;
suppose L759: C150 in ( support ( SMoebius C149 ) );

L760: (not C150 in ( support ( SMoebius C148 ) )) by L759 , L751 , XBOOLE_0:3;
L761: ( ( SMoebius C148 ) . C150 ) = ( 0 ) by L760 , PRE_POLY:def 7;
L762: ( ( ( SMoebius C148 ) . C150 ) + ( ( SMoebius C149 ) . C150 ) ) <> ( 0 ) by L761 , L759 , PRE_POLY:def 7;
L763: ( ( ( SMoebius C148 ) + ( SMoebius C149 ) ) . C150 ) <> ( 0 ) by L762 , PRE_POLY:def 5;
thus L764: thesis by L763 , PRE_POLY:def 7;
end;
end;

thus L766: thesis by PRE_POLY:75;
end;
theorem
L767: (for B132 , B133 being  finite (Subset of ( NAT )) holds (B132 misses B133 implies ( SMoebius ( B132 \/ B133 ) ) = ( ( SMoebius B132 ) + ( SMoebius B133 ) )))
proof
let C151 , C152 being  finite (Subset of ( NAT ));
L768: ( support ( SMoebius ( C151 \/ C152 ) ) ) = ( ( C151 \/ C152 ) /\ ( SCNAT ) ) by L667
.= ( ( C151 /\ ( SCNAT ) ) \/ ( C152 /\ ( SCNAT ) ) ) by XBOOLE_1:23;
assume L769: C151 misses C152;
L770: (for B134 being set holds (B134 in ( NAT ) implies ( ( SMoebius ( C151 \/ C152 ) ) . B134 ) = ( ( ( SMoebius C151 ) + ( SMoebius C152 ) ) . B134 )))
proof
let C153 being set;
per cases ;
suppose L771: C153 in ( support ( SMoebius ( C151 \/ C152 ) ) );

per cases  by L768 , L771 , XBOOLE_0:def 3;
suppose L772: C153 in ( C151 /\ ( SCNAT ) );

reconsider D49 = C153 as (Element of ( NAT )) by L772;
L773: D49 in ( support ( SMoebius C151 ) ) by L772 , L667;
L774: (not C153 in ( C152 /\ ( SCNAT ) )) by L769 , L772 , L1;
L775: (not D49 in ( support ( SMoebius C152 ) )) by L774 , L667;
L776: ( ( SMoebius ( C151 \/ C152 ) ) . C153 ) = ( ( Moebius D49 ) + (( 0 ) qua Nat) ) by L771 , L667
.= ( ( Moebius D49 ) + ( ( SMoebius C152 ) . D49 ) ) by L775 , PRE_POLY:def 7
.= ( ( ( SMoebius C151 ) . D49 ) + ( ( SMoebius C152 ) . D49 ) ) by L773 , L667
.= ( ( ( SMoebius C151 ) + ( SMoebius C152 ) ) . C153 ) by PRE_POLY:def 5;
thus L777: thesis by L776;
end;
suppose L778: C153 in ( C152 /\ ( SCNAT ) );

consider C154 being (Element of ( NAT )) such that L779: C154 = C153 by L778;
L780: (not C153 in ( C151 /\ ( SCNAT ) )) by L769 , L778 , L1;
L781: (not C154 in ( support ( SMoebius C151 ) )) by L780 , L779 , L667;
L782: C154 in ( support ( SMoebius C152 ) ) by L778 , L779 , L667;
L783: ( ( SMoebius ( C151 \/ C152 ) ) . C153 ) = ( ( Moebius C154 ) + (( 0 ) qua Nat) ) by L771 , L779 , L667
.= ( ( Moebius C154 ) + ( ( SMoebius C151 ) . C154 ) ) by L781 , PRE_POLY:def 7
.= ( ( ( SMoebius C152 ) . C154 ) + ( ( SMoebius C151 ) . C154 ) ) by L782 , L667
.= ( ( ( SMoebius C151 ) + ( SMoebius C152 ) ) . C153 ) by L779 , PRE_POLY:def 5;
thus L784: thesis by L783;
end;
end;
suppose L786: (not C153 in ( support ( SMoebius ( C151 \/ C152 ) ) ));

L787: (not C153 in ( C152 /\ ( SCNAT ) )) by L786 , L768 , XBOOLE_0:def 3;
L788: (not C153 in ( support ( SMoebius C152 ) )) by L787 , L667;
L789: (not C153 in ( C151 /\ ( SCNAT ) )) by L768 , L786 , XBOOLE_0:def 3;
L790: (not C153 in ( support ( SMoebius C151 ) )) by L789 , L667;
L791: ( ( SMoebius ( C151 \/ C152 ) ) . C153 ) = ( 0 ) by L786 , PRE_POLY:def 7
.= ( ( ( SMoebius C152 ) . C153 ) + ( 0 ) ) by L788 , PRE_POLY:def 7
.= ( ( ( SMoebius C152 ) . C153 ) + ( ( SMoebius C151 ) . C153 ) ) by L790 , PRE_POLY:def 7
.= ( ( ( SMoebius C151 ) + ( SMoebius C152 ) ) . C153 ) by PRE_POLY:def 5;
thus L792: thesis by L791;
end;
end;
thus L794: thesis by L770 , PBOOLE:3;
end;
begin
definition
let C155 being non  zero Nat;
func PFactors C155 -> (ManySortedSet of ( SetPrimes )) means 
:L795: (( support it ) = ( support ( pfexp C155 ) ) & (for B135 being Nat holds (B135 in ( support ( pfexp C155 ) ) implies ( it . B135 ) = B135)));
existence
proof
defpred S6[ set , set ] means (for B136 being Prime holds ($1 = B136 implies ((B136 in ( support ( pfexp C155 ) ) implies $2 = B136) & ((not B136 in ( support ( pfexp C155 ) )) implies $2 = ( 0 )))));
L796: (for B137 being set holds (B137 in ( SetPrimes ) implies (ex B138 being set st S6[ B137 , B138 ])))
proof
let C156 being set;
assume L797: C156 in ( SetPrimes );
reconsider D50 = C156 as  prime (Element of ( NAT )) by L797 , NEWTON:def 6;
per cases ;
suppose L798: D50 in ( support ( pfexp C155 ) );

take D50;
let C157 being Prime;
assume L799: C157 = C156;
thus L800: thesis by L799 , L798;
end;
suppose L801: (not D50 in ( support ( pfexp C155 ) ));

take ( 0 );
let C158 being Prime;
assume L802: C158 = C156;
thus L803: thesis by L802 , L801;
end;
end;
consider C159 being Function such that L805: ( dom C159 ) = ( SetPrimes ) and L806: (for B139 being set holds (B139 in ( SetPrimes ) implies S6[ B139 , ( C159 . B139 ) ])) from CLASSES1:sch 1(L796);
L807: ( support C159 ) c= ( SetPrimes ) by L805 , PRE_POLY:37;
L808:
now
let C160 being set;
thus L809:now
assume L810: C160 in ( support C159 );
L811: C160 in ( SetPrimes ) by L810 , L807;
reconsider D51 = C160 as  prime (Element of ( NAT )) by L811 , NEWTON:def 6;
assume L812: (not C160 in ( support ( pfexp C155 ) ));
L813: ( C159 . D51 ) = ( 0 ) by L812 , L806 , L807 , L810;
thus L814: contradiction by L813 , L810 , PRE_POLY:def 7;
end;
assume L815: C160 in ( support ( pfexp C155 ) );
L816: C160 in ( SetPrimes ) by L815;
reconsider D52 = C160 as  prime (Element of ( NAT )) by L816 , NEWTON:def 6;
L817: ( C159 . D52 ) = D52 by L806 , L815;
thus L818: C160 in ( support C159 ) by L817 , PRE_POLY:def 7;
end;
reconsider D53 = C159 as (ManySortedSet of ( SetPrimes )) by L805 , PARTFUN1:def 2 , RELAT_1:def 18;
take D53;
thus L819: ( support D53 ) = ( support ( pfexp C155 ) ) by L808 , TARSKI:1;
let C161 being Nat;
assume L820: C161 in ( support ( pfexp C155 ) );
L821: C161 is Prime by L820 , NAT_3:34;
thus L822: thesis by L821 , L806 , L820;
end;
uniqueness
proof
let C162 , C163 being (ManySortedSet of ( SetPrimes ));
assume that
L823: ( support C162 ) = ( support ( pfexp C155 ) )
and
L824: (for B140 being Nat holds (B140 in ( support ( pfexp C155 ) ) implies ( C162 . B140 ) = B140))
and
L825: ( support C163 ) = ( support ( pfexp C155 ) )
and
L826: (for B141 being Nat holds (B141 in ( support ( pfexp C155 ) ) implies ( C163 . B141 ) = B141));
L827:
now
let C164 being set;
assume L828: C164 in ( SetPrimes );
reconsider D54 = C164 as  prime (Element of ( NAT )) by L828 , NEWTON:def 6;
per cases ;
suppose L829: D54 in ( support ( pfexp C155 ) );

thus L830: ( C162 . C164 ) = D54 by L829 , L824
.= ( C163 . C164 ) by L826 , L829;
end;
suppose L831: (not D54 in ( support ( pfexp C155 ) ));

thus L832: ( C162 . C164 ) = ( 0 ) by L831 , L823 , PRE_POLY:def 7
.= ( C163 . C164 ) by L825 , L831 , PRE_POLY:def 7;
end;
end;
thus L834: C162 = C163 by L827 , PBOOLE:3;
end;
end;
registration
let C165 being non  zero Nat;
cluster ( PFactors C165 ) ->  finite-support  natural-valued;
coherence
proof
L836: ( rng ( PFactors C165 ) ) c= ( NAT )
proof
let C166 being set;
assume L837: C166 in ( rng ( PFactors C165 ) );
consider C167 being set such that L838: C167 in ( dom ( PFactors C165 ) ) and L839: ( ( PFactors C165 ) . C167 ) = C166 by L837 , FUNCT_1:def 3;
L840: C167 in ( SetPrimes ) by L838 , PARTFUN1:def 2;
per cases ;
suppose L841: C167 in ( support ( pfexp C165 ) );

L842: C166 = C167 by L841 , L839 , L795;
thus L843: thesis by L842 , L840;
end;
suppose L844: (not C167 in ( support ( pfexp C165 ) ));

L845: (not C167 in ( support ( PFactors C165 ) )) by L844 , L795;
L846: C166 = ( 0 ) by L845 , L839 , PRE_POLY:def 7;
thus L847: thesis by L846;
end;
end;
L849: ( support ( PFactors C165 ) ) = ( support ( pfexp C165 ) ) by L795;
thus L850: thesis by L849 , L836 , PRE_POLY:def 8 , VALUED_0:def 6;
end;
end;
theorem
L852: ( PFactors 1 ) = ( EmptyBag ( SetPrimes ) )
proof
set D55 = ( PFactors 1 );
L853: (for B142 being set holds (B142 in ( dom D55 ) implies ( D55 . B142 ) = ( 0 )))
proof
let C168 being set;
assume L854: C168 in ( dom D55 );
L855: C168 in ( SetPrimes ) by L854 , PARTFUN1:def 2;
reconsider D56 = C168 as (Element of ( NAT )) by L855;
L856: ( support ( pfexp 1 ) ) = ( {} );
L857: (not D56 in ( support D55 )) by L856 , L795;
thus L858: thesis by L857 , PRE_POLY:def 7;
end;
L859: D55 = ( ( dom D55 ) --> ( 0 ) ) by L853 , FUNCOP_1:11;
L860: ( dom D55 ) = ( SetPrimes ) by PARTFUN1:def 2;
thus L861: thesis by L860 , L859 , PRE_POLY:def 13;
end;
theorem
L862: (for B143 being Prime holds ( ( PFactors B143 ) * <* B143 *> ) = <* B143 *>)
proof
let C169 being Prime;
set D57 = <* C169 *>;
set D58 = ( PFactors C169 );
L863: ( dom ( D58 * D57 ) ) = { 1 }
proof
thus L864: ( dom ( D58 * D57 ) ) c= { 1 }
proof
let C170 being set;
assume L865: C170 in ( dom ( D58 * D57 ) );
L866: C170 in ( dom D57 ) by L865 , FUNCT_1:11;
thus L867: thesis by L866 , FINSEQ_1:2 , FINSEQ_1:38;
end;

let C171 being set;
assume L868: C171 in { 1 };
L869: C171 = 1 by L868 , TARSKI:def 1;
L870: ( D57 . C171 ) = C169 by L869 , FINSEQ_1:def 8;
L871: ( D57 . C171 ) in ( SetPrimes ) by L870 , NEWTON:def 6;
L872: ( D57 . C171 ) in ( dom D58 ) by L871 , PARTFUN1:def 2;
L873: C171 in ( dom D57 ) by L868 , FINSEQ_1:2 , FINSEQ_1:38;
thus L874: thesis by L873 , L872 , FUNCT_1:11;
end;
L875: (for B144 being set holds (B144 in ( dom ( D58 * D57 ) ) implies ( ( D58 * D57 ) . B144 ) = ( D57 . B144 )))
proof
let C172 being set;
L876: ( ( pfexp C169 ) . C169 ) <> ( 0 ) by NAT_3:38;
L877: C169 in ( support ( pfexp C169 ) ) by L876 , PRE_POLY:def 7;
assume L878: C172 in ( dom ( D58 * D57 ) );
L879: C172 = 1 by L878 , L863 , TARSKI:def 1;
L880: ( ( D58 * D57 ) . 1 ) = ( D58 . ( D57 . 1 ) ) by L879 , L878 , FUNCT_1:12
.= ( D58 . C169 ) by FINSEQ_1:def 8
.= C169 by L877 , L795
.= ( D57 . 1 ) by FINSEQ_1:def 8;
thus L881: thesis by L880 , L879;
end;
L882: ( dom D57 ) = { 1 } by FINSEQ_1:2 , FINSEQ_1:38;
thus L883: thesis by L882 , L863 , L875 , FUNCT_1:2;
end;
theorem
L884: (for B145 being Prime holds (for B146 being non  zero Nat holds ( ( PFactors ( B145 |^ B146 ) ) * <* B145 *> ) = <* B145 *>))
proof
let C173 being Prime;
let C174 being non  zero Nat;
set D59 = ( C173 |^ C174 );
set D60 = <* C173 *>;
set D61 = ( PFactors D59 );
L885: ( dom D60 ) = { 1 } by FINSEQ_1:2 , FINSEQ_1:38;
L886: ( dom ( D61 * D60 ) ) = { 1 }
proof
thus L887: ( dom ( D61 * D60 ) ) c= { 1 }
proof
let C175 being set;
assume L888: C175 in ( dom ( D61 * D60 ) );
thus L889: thesis by L888 , L885 , FUNCT_1:11;
end;

let C176 being set;
assume L890: C176 in { 1 };
L891: C176 = 1 by L890 , TARSKI:def 1;
L892: ( D60 . C176 ) = C173 by L891 , FINSEQ_1:def 8;
L893: ( D60 . C176 ) in ( SetPrimes ) by L892 , NEWTON:def 6;
L894: ( D60 . C176 ) in ( dom D61 ) by L893 , PARTFUN1:def 2;
L895: C176 in ( dom D60 ) by L890 , FINSEQ_1:2 , FINSEQ_1:38;
thus L896: thesis by L895 , L894 , FUNCT_1:11;
end;
L897: (for B147 being set holds (B147 in ( dom ( D61 * D60 ) ) implies ( ( D61 * D60 ) . B147 ) = ( D60 . B147 )))
proof
let C177 being set;
L898: ( ( pfexp C173 ) . C173 ) <> ( 0 ) by NAT_3:38;
L899: C173 in ( support ( pfexp C173 ) ) by L898 , PRE_POLY:def 7;
L900: C173 in ( support ( pfexp D59 ) ) by L899 , NAT_3:48;
assume L901: C177 in ( dom ( D61 * D60 ) );
L902: C177 = 1 by L901 , L886 , TARSKI:def 1;
L903: ( ( D61 * D60 ) . 1 ) = ( D61 . ( D60 . 1 ) ) by L902 , L901 , FUNCT_1:12
.= ( D61 . C173 ) by FINSEQ_1:def 8
.= C173 by L900 , L795
.= ( D60 . 1 ) by FINSEQ_1:def 8;
thus L904: thesis by L903 , L902;
end;
L905: ( dom ( D61 * D60 ) ) = ( dom D60 ) by L886 , FINSEQ_1:2 , FINSEQ_1:38;
thus L906: thesis by L905 , L897 , FUNCT_1:2;
end;
theorem
L907: (for B148 being Prime holds (for B149 being non  zero Nat holds (( B148 |-count B149 ) = ( 0 ) implies ( ( PFactors B149 ) . B148 ) = ( 0 ))))
proof
let C178 being Prime;
let C179 being non  zero Nat;
assume L908: ( C178 |-count C179 ) = ( 0 );
L909: ( ( pfexp C179 ) . C178 ) = ( 0 ) by L908 , NAT_3:def 8;
L910: (not C178 in ( support ( pfexp C179 ) )) by L909 , PRE_POLY:def 7;
L911: (not C178 in ( support ( PFactors C179 ) )) by L910 , L795;
thus L912: thesis by L911 , PRE_POLY:def 7;
end;
theorem
L913: (for B150 being non  zero Nat holds (for B151 being Prime holds (( B151 |-count B150 ) <> ( 0 ) implies ( ( PFactors B150 ) . B151 ) = B151)))
proof
let C180 being non  zero Nat;
let C181 being Prime;
assume L914: ( C181 |-count C180 ) <> ( 0 );
L915: ( ( pfexp C180 ) . C181 ) <> ( 0 ) by L914 , NAT_3:def 8;
L916: C181 in ( support ( pfexp C180 ) ) by L915 , PRE_POLY:def 7;
thus L917: thesis by L916 , L795;
end;
theorem
L918: (for B152 , B153 being non  zero (Element of ( NAT )) holds (B152 , B153 are_relative_prime  implies ( PFactors ( B152 * B153 ) ) = ( ( PFactors B152 ) + ( PFactors B153 ) )))
proof
let C182 , C183 being non  zero (Element of ( NAT ));
reconsider D62 = C182 , D63 = C183 as non  zero Nat;
assume L919: C182 , C183 are_relative_prime ;
L920:
now
let C184 being set;
assume L921: C184 in ( SetPrimes );
reconsider D64 = C184 as  prime (Element of ( NAT )) by L921 , NEWTON:def 6;
L922: ( D64 |-count ( D62 * D63 ) ) = ( ( D64 |-count C182 ) + ( D64 |-count C183 ) ) by NAT_3:28;
L923: ( C182 gcd C183 ) = 1 by L919 , INT_2:def 3;
L924: D64 > 1 by INT_2:def 4;
per cases ;
suppose L925: ( D64 |-count ( C182 * C183 ) ) = ( 0 );

L926: ( D64 |-count C183 ) = ( 0 ) by L925 , L922;
L927: ( D64 |-count C182 ) = ( 0 ) by L922 , L925;
thus L928: ( ( PFactors ( C182 * C183 ) ) . C184 ) = ( 0 ) by L925 , L907
.= ( ( 0 ) + ( ( PFactors C183 ) . C184 ) ) by L926 , L907
.= ( ( ( PFactors C182 ) . C184 ) + ( ( PFactors C183 ) . C184 ) ) by L927 , L907
.= ( ( ( PFactors C182 ) + ( PFactors C183 ) ) . C184 ) by PRE_POLY:def 5;
end;
suppose L929: ( D64 |-count ( C182 * C183 ) ) <> ( 0 );

thus L930: ( ( PFactors ( C182 * C183 ) ) . C184 ) = ( ( ( PFactors C182 ) + ( PFactors C183 ) ) . C184 )
proof
per cases  by L922 , L929;
suppose L931: ( D64 |-count C182 ) <> ( 0 );

L932:
now
consider C185 being Nat such that L933: ( D64 |-count C182 ) = ( C185 + 1 ) by L931 , NAT_1:6;
reconsider D65 = C185 as (Element of ( NAT )) by ORDINAL1:def 12;
L934: ( D64 |^ ( D64 |-count C182 ) ) divides C182 by L924 , NAT_3:def 7;
L935: ( D64 * ( D64 |^ D65 ) ) divides C182 by L934 , L933 , NEWTON:6;
consider C186 being Nat such that L936: C182 = ( ( D64 * ( D64 |^ D65 ) ) * C186 ) by L935 , NAT_D:def 3;
L937: C182 = ( D64 * ( ( D64 |^ D65 ) * C186 ) ) by L936;
L938: D64 divides C182 by L937 , NAT_D:def 3;
assume L939: ( D64 |-count C183 ) <> ( 0 );
consider C187 being Nat such that L940: ( D64 |-count C183 ) = ( C187 + 1 ) by L939 , NAT_1:6;
reconsider D66 = C187 as (Element of ( NAT )) by ORDINAL1:def 12;
L941: ( D64 |^ ( D64 |-count C183 ) ) divides C183 by L924 , NAT_3:def 7;
L942: ( D64 * ( D64 |^ D66 ) ) divides C183 by L941 , L940 , NEWTON:6;
consider C188 being Nat such that L943: C183 = ( ( D64 * ( D64 |^ D66 ) ) * C188 ) by L942 , NAT_D:def 3;
L944: C183 = ( D64 * ( ( D64 |^ D66 ) * C188 ) ) by L943;
L945: D64 divides C183 by L944 , NAT_D:def 3;
L946: D64 divides 1 by L945 , L923 , L938 , NAT_D:def 5;
thus L947: contradiction by L946 , L924 , NAT_D:7;
end;
thus L948: ( ( PFactors ( C182 * C183 ) ) . C184 ) = D64 by L929 , L913
.= ( ( ( PFactors C182 ) . D64 ) + ( 0 ) ) by L931 , L913
.= ( ( ( PFactors C182 ) . D64 ) + ( ( PFactors C183 ) . D64 ) ) by L932 , L907
.= ( ( ( PFactors C182 ) + ( PFactors C183 ) ) . C184 ) by PRE_POLY:def 5;
end;
suppose L949: ( D64 |-count C183 ) <> ( 0 );

L950:
now
assume L951: ( D64 |-count C182 ) <> ( 0 );
consider C189 being Nat such that L952: ( D64 |-count C182 ) = ( C189 + 1 ) by L951 , NAT_1:6;
reconsider D67 = C189 as (Element of ( NAT )) by ORDINAL1:def 12;
L953: ( D64 |^ ( D64 |-count C182 ) ) divides C182 by L924 , NAT_3:def 7;
L954: ( D64 * ( D64 |^ D67 ) ) divides C182 by L953 , L952 , NEWTON:6;
consider C190 being Nat such that L955: C182 = ( ( D64 * ( D64 |^ D67 ) ) * C190 ) by L954 , NAT_D:def 3;
L956: C182 = ( D64 * ( ( D64 |^ D67 ) * C190 ) ) by L955;
L957: D64 divides C182 by L956 , NAT_D:def 3;
consider C191 being Nat such that L958: ( D64 |-count C183 ) = ( C191 + 1 ) by L949 , NAT_1:6;
reconsider D68 = C191 as (Element of ( NAT )) by ORDINAL1:def 12;
L959: ( D64 |^ ( D64 |-count C183 ) ) divides C183 by L924 , NAT_3:def 7;
L960: ( D64 * ( D64 |^ D68 ) ) divides C183 by L959 , L958 , NEWTON:6;
consider C192 being Nat such that L961: C183 = ( ( D64 * ( D64 |^ D68 ) ) * C192 ) by L960 , NAT_D:def 3;
L962: C183 = ( D64 * ( ( D64 |^ D68 ) * C192 ) ) by L961;
L963: D64 divides C183 by L962 , NAT_D:def 3;
L964: D64 divides 1 by L963 , L923 , L957 , NAT_D:def 5;
thus L965: contradiction by L964 , L924 , NAT_D:7;
end;
thus L966: ( ( PFactors ( C182 * C183 ) ) . C184 ) = D64 by L929 , L913
.= ( ( 0 ) + ( ( PFactors C183 ) . D64 ) ) by L949 , L913
.= ( ( ( PFactors C182 ) . D64 ) + ( ( PFactors C183 ) . D64 ) ) by L950 , L907
.= ( ( ( PFactors C182 ) + ( PFactors C183 ) ) . C184 ) by PRE_POLY:def 5;
end;
end;

end;
end;
thus L932: thesis by L920 , PBOOLE:3;
end;
theorem
L933: (for B154 being non  zero (Element of ( NAT )) holds (for B155 being  finite (Subset of ( NAT )) holds (B155 = { B156 where B156 is (Element of ( NAT )) : (( 0 ) < B156 & B156 divides B154 & B156 is  square-containing) } implies ( SMoebius B155 ) = ( EmptyBag ( NAT ) ))))
proof
let C193 being non  zero (Element of ( NAT ));
let C194 being  finite (Subset of ( NAT ));
assume L934: C194 = { B157 where B157 is (Element of ( NAT )) : (( 0 ) < B157 & B157 divides C193 & B157 is  square-containing) };
L935: C194 misses ( SCNAT )
proof
assume L936: C194 meets ( SCNAT );
consider C195 being set such that L937: C195 in C194 and L938: C195 in ( SCNAT ) by L936 , XBOOLE_0:3;
L939: (ex B158 being (Element of ( NAT )) st (B158 = C195 & ( 0 ) < B158 & B158 divides C193 & B158 is  square-containing)) by L934 , L937;
thus L940: thesis by L939 , L938 , L462;
end;
L941: (for B159 being set holds (B159 in ( NAT ) implies ( ( SMoebius C194 ) . B159 ) = ( ( EmptyBag ( NAT ) ) . B159 )))
proof
let C196 being set;
assume L942: C196 in ( NAT );
reconsider D69 = C196 as (Element of ( NAT )) by L942;
L943: ( support ( SMoebius C194 ) ) = ( C194 /\ ( SCNAT ) ) by L667
.= ( {} ) by L935 , XBOOLE_0:def 7;
L944: ( ( SMoebius C194 ) . D69 ) = ( 0 ) by L943 , PRE_POLY:def 7;
thus L945: thesis by L944 , PRE_POLY:52;
end;
thus L946: thesis by L941 , PBOOLE:3;
end;
begin
definition
let C197 being non  zero Nat;
func Radical C197 -> (Element of ( NAT )) equals 
( Product ( PFactors C197 ) );
coherence;
end;
theorem
L948: (for B160 being non  zero Nat holds ( Radical B160 ) > ( 0 ))
proof
let C198 being non  zero Nat;
assume L949: ( Radical C198 ) <= ( 0 );
L950: ( Product ( PFactors C198 ) ) = ( 0 ) by L949;
consider C199 being (FinSequence of ( COMPLEX )) such that L951: ( Product C199 ) = ( 0 ) and L952: C199 = ( ( PFactors C198 ) * ( canFS ( support ( PFactors C198 ) ) ) ) by L950 , NAT_3:def 5;
L953: (not (ex B161 being Nat st (B161 in ( dom C199 ) & ( C199 . B161 ) = ( 0 ))))
proof
given C200 being Nat such that
L954: C200 in ( dom C199 )
and
L955: ( C199 . C200 ) = ( 0 );

L956: C200 in ( dom ( canFS ( support ( PFactors C198 ) ) ) ) by L952 , L954 , FUNCT_1:11;
L957: (( rng ( canFS ( support ( PFactors C198 ) ) ) ) c= ( support ( PFactors C198 ) ) & ( ( canFS ( support ( PFactors C198 ) ) ) . C200 ) in ( rng ( canFS ( support ( PFactors C198 ) ) ) )) by L956 , FINSEQ_1:def 4 , FUNCT_1:3;
L958: ( ( canFS ( support ( PFactors C198 ) ) ) . C200 ) in ( support ( PFactors C198 ) ) by L957;
reconsider D70 = ( ( canFS ( support ( PFactors C198 ) ) ) . C200 ) as  prime (Element of ( NAT )) by L958 , NEWTON:def 6;
L959: D70 in ( support ( PFactors C198 ) ) by L957;
L960: D70 in ( support ( pfexp C198 ) ) by L959 , L795;
L961: ( C199 . C200 ) = ( ( PFactors C198 ) . D70 ) by L952 , L954 , FUNCT_1:12
.= D70 by L960 , L795;
thus L962: thesis by L961 , L955;
end;
thus L963: contradiction by L953 , L951 , RVSUM_1:103;
end;
registration
let C201 being non  zero Nat;
cluster ( Radical C201 ) -> non  zero;
coherence by L948;
end;
theorem
L965: (for B162 being Prime holds B162 = ( Radical B162 ))
proof
let C202 being Prime;
L966: ( support ( PFactors C202 ) ) = ( support ( pfexp C202 ) ) by L795
.= { C202 } by NAT_3:43;
reconsider D71 = C202 as  prime (Element of ( NAT )) by ORDINAL1:def 12;
reconsider D72 = <* D71 *> as (FinSequence of ( NAT ));
L967: ( rng D72 ) c= ( NAT ) by FINSEQ_1:def 4;
L968: ( rng D72 ) c= ( COMPLEX ) by L967 , NUMBERS:20 , XBOOLE_1:1;
L969: (( Product D72 ) = D71 & D72 is (FinSequence of ( COMPLEX ))) by L968 , FINSEQ_1:def 4 , RVSUM_1:95;
L970: D72 = ( ( PFactors D71 ) * <* D71 *> ) by L862
.= ( ( PFactors D71 ) * ( canFS { D71 } ) ) by UPROOTS:4;
thus L971: thesis by L970 , L966 , L969 , NAT_3:def 5;
end;
theorem
L972: (for B163 being Prime holds (for B164 being non  zero (Element of ( NAT )) holds ( Radical ( B163 |^ B164 ) ) = B163))
proof
let C203 being Prime;
let C204 being non  zero (Element of ( NAT ));
reconsider D73 = C203 as  prime (Element of ( NAT )) by ORDINAL1:def 12;
reconsider D74 = <* D73 *> as (FinSequence of ( NAT ));
set D75 = ( D73 |^ C204 );
L973: D74 = ( ( PFactors D75 ) * <* D73 *> ) by L884
.= ( ( PFactors D75 ) * ( canFS { D73 } ) ) by UPROOTS:4;
L974: ( rng D74 ) c= ( NAT ) by FINSEQ_1:def 4;
L975: ( rng D74 ) c= ( COMPLEX ) by L974 , NUMBERS:20 , XBOOLE_1:1;
L976: (( Product D74 ) = D73 & D74 is (FinSequence of ( COMPLEX ))) by L975 , FINSEQ_1:def 4 , RVSUM_1:95;
L977: ( support ( PFactors D75 ) ) = ( support ( pfexp D75 ) ) by L795
.= ( support ( pfexp D73 ) ) by NAT_3:48
.= { D73 } by NAT_3:43;
thus L978: thesis by L977 , L973 , L976 , NAT_3:def 5;
end;
theorem
L979: (for B165 being non  zero Nat holds ( Radical B165 ) divides B165)
proof
defpred S7[ Nat ] means (for B166 being non  zero Nat holds (( support ( PFactors B166 ) ) c= ( Seg $1 ) implies ( Radical B166 ) divides B166));
let C205 being non  zero Nat;
L980: (ex B167 being (Element of ( NAT )) st ( support ( ppf C205 ) ) c= ( Seg B167 )) by L154;
L981: ( support ( ppf C205 ) ) = ( support ( pfexp C205 ) ) by NAT_3:def 9
.= ( support ( PFactors C205 ) ) by L795;
L982: (for B168 being Nat holds (S7[ B168 ] implies S7[ ( B168 + 1 ) ]))
proof
let C206 being Nat;
assume L983: S7[ C206 ];
let C207 being non  zero Nat;
assume that
L984: ( support ( PFactors C207 ) ) c= ( Seg ( C206 + 1 ) );
L985: ( support ( pfexp C207 ) ) = ( support ( PFactors C207 ) ) by L795;
per cases ;
suppose L986: (not ( support ( PFactors C207 ) ) c= ( Seg C206 ));

set D76 = ( C206 + 1 );
set D77 = ( D76 |-count C207 );
set D78 = ( D76 |^ D77 );
L987:
now
assume L988: (not ( C206 + 1 ) in ( support ( PFactors C207 ) ));
L989: ( support ( PFactors C207 ) ) c= ( Seg C206 )
proof
let C208 being set;
assume L990: C208 in ( support ( PFactors C207 ) );
reconsider D79 = C208 as Nat by L990;
L991: D79 <= ( C206 + 1 ) by L984 , L990 , FINSEQ_1:1;
L992: D79 < ( C206 + 1 ) by L991 , L988 , L990 , XXREAL_0:1;
L993: D79 <= C206 by L992 , NAT_1:13;
L994: C208 is Prime by L985 , L990 , NAT_3:34;
L995: 1 <= D79 by L994 , INT_2:def 4;
thus L996: thesis by L995 , L993 , FINSEQ_1:1;
end;
thus L997: contradiction by L989 , L986;
end;
L998: D76 is Prime by L987 , L985 , NAT_3:34;
L999: D76 > 1 by L998 , INT_2:def 4;
L1000: D78 divides C207 by L999 , NAT_3:def 7;
consider C209 being Nat such that L1001: C207 = ( D78 * C209 ) by L1000 , NAT_D:def 3;
reconsider D80 = D78 , D81 = C209 as non  zero Nat by L1001;
consider C210 being (FinSequence of ( COMPLEX )) such that L1002: ( Product ( PFactors D80 ) ) = ( Product C210 ) and L1003: C210 = ( ( PFactors D80 ) * ( canFS ( support ( PFactors D80 ) ) ) ) by NAT_3:def 5;
L1004: ( dom ( PFactors D80 ) ) = ( SetPrimes ) by PARTFUN1:def 2;
L1005: ( support ( ppf D80 ) ) = ( support ( pfexp D80 ) ) by NAT_3:def 9;
L1006: ( support ( ppf D80 ) ) = ( support ( PFactors D80 ) ) by L1005 , L795;
L1007: ( ( pfexp C207 ) . D76 ) = D77 by L998 , NAT_3:def 8;
L1008: D77 <> ( 0 ) by L1007 , L985 , L987 , PRE_POLY:def 7;
L1009: ( support ( ppf D80 ) ) = { D76 } by L1008 , L998 , L1005 , NAT_3:42;
L1010: D76 in ( support ( pfexp D80 ) ) by L1009 , L1005 , TARSKI:def 1;
L1011: ( support ( PFactors D81 ) ) c= ( Seg C206 )
proof
set D82 = ( D76 |-count D81 );
let C211 being set;
assume L1012: C211 in ( support ( PFactors D81 ) );
reconsider D83 = C211 as Nat by L1012;
L1013: C211 in ( support ( pfexp D81 ) ) by L1012 , L795;
L1014:
now
assume L1015: D83 = D76;
L1016: ( ( pfexp D81 ) . D76 ) = D82 by L998 , NAT_3:def 8;
L1017: D82 <> ( 0 ) by L1016 , L1013 , L1015 , PRE_POLY:def 7;
L1018: D82 >= ( ( 0 ) + 1 ) by L1017 , NAT_1:13;
consider C212 being Nat such that L1019: D82 = ( 1 + C212 ) by L1018 , NAT_1:10;
L1020: ( D76 |^ D82 ) divides D81 by L999 , NAT_3:def 7;
consider C213 being Nat such that L1021: D81 = ( ( D76 |^ D82 ) * C213 ) by L1020 , NAT_D:def 3;
reconsider D84 = C212 as (Element of ( NAT )) by ORDINAL1:def 12;
L1022: C207 = ( D80 * ( ( ( D76 |^ D84 ) * D76 ) * C213 ) ) by L1001 , L1019 , L1021 , NEWTON:6
.= ( ( D80 * D76 ) * ( ( D76 |^ D84 ) * C213 ) )
.= ( ( D76 |^ ( D77 + 1 ) ) * ( ( D76 |^ D84 ) * C213 ) ) by NEWTON:6;
L1023: ( D76 |^ ( D77 + 1 ) ) divides C207 by L1022 , NAT_D:def 3;
thus L1024: contradiction by L1023 , L999 , NAT_3:def 7;
end;
L1025: ( support ( pfexp D81 ) ) c= ( support ( pfexp C207 ) ) by L1001 , NAT_3:45;
L1026: ( support ( PFactors D81 ) ) c= ( support ( PFactors C207 ) ) by L1025 , L985 , L795;
L1027: D83 in ( support ( PFactors C207 ) ) by L1026 , L1012;
L1028: D83 <= ( C206 + 1 ) by L1027 , L984 , FINSEQ_1:1;
L1029: D83 < D76 by L1028 , L1014 , XXREAL_0:1;
L1030: D83 <= C206 by L1029 , NAT_1:13;
L1031: C211 is Prime by L1013 , NAT_3:34;
L1032: 1 <= D83 by L1031 , INT_2:def 4;
thus L1033: thesis by L1032 , L1030 , FINSEQ_1:1;
end;
L1034: ( Radical D81 ) divides D81 by L1011 , L983;
L1035: ( support ( PFactors D80 ) ) = { D76 } by L1005 , L1009 , L795;
L1036: C210 = ( ( PFactors D80 ) * <* D76 *> ) by L1035 , L1003 , UPROOTS:4
.= <* ( ( PFactors D80 ) . D76 ) *> by L987 , L1004 , FINSEQ_2:34;
L1037: ( Product ( PFactors D80 ) ) = ( ( PFactors D80 ) . D76 ) by L1036 , L1002 , RVSUM_1:95
.= D76 by L1010 , L795;
L1038: ( Radical D80 ) divides D80 by L1037 , L1008 , NAT_3:3;
reconsider D85 = D80 , D86 = D81 as non  zero (Element of ( NAT )) by ORDINAL1:def 12;
L1039: ( support ( ppf D81 ) ) = ( support ( pfexp D81 ) ) by NAT_3:def 9;
L1040: ( support ( ppf D81 ) ) = ( support ( PFactors D81 ) ) by L1039 , L795;
L1041:
now
assume L1042: ( support ( ppf D80 ) ) meets ( support ( ppf D81 ) );
consider C214 being set such that L1043: C214 in ( support ( ppf D80 ) ) and L1044: C214 in ( support ( ppf D81 ) ) by L1042 , XBOOLE_0:3;
L1045: C214 in ( support ( pfexp D81 ) ) by L1044 , NAT_3:def 9;
L1046: C214 in ( support ( PFactors D81 ) ) by L1045 , L795;
L1047: C214 = D76 by L1009 , L1043 , TARSKI:def 1;
L1048: D76 <= C206 by L1047 , L1011 , L1046 , FINSEQ_1:1;
thus L1049: contradiction by L1048 , NAT_1:13;
end;
L1050: D85 , D86 are_relative_prime 
proof
set D87 = ( D85 gcd D86 );
L1051: D87 divides D86 by NAT_D:def 5;
L1052: D87 <> ( 0 ) by INT_2:5;
L1053: ( ( 0 ) + 1 ) <= D87 by L1052 , NAT_1:13;
assume L1054: (not D85 , D86 are_relative_prime );
L1055: ( D85 gcd D86 ) <> 1 by L1054 , INT_2:def 3;
L1056: D87 > 1 by L1055 , L1053 , XXREAL_0:1;
L1057: D87 >= ( 1 + 1 ) by L1056 , NAT_1:13;
consider C215 being (Element of ( NAT )) such that L1058: C215 is  prime and L1059: C215 divides D87 by L1057 , INT_2:31;
L1060: D87 divides D85 by NAT_D:def 5;
L1061: C215 divides D85 by L1060 , L1059 , NAT_D:4;
L1062: C215 divides D76 by L1061 , L1058 , NAT_3:5;
L1063: (C215 = 1 or C215 = D76) by L1062 , L998 , INT_2:def 4;
L1064: D76 divides D86 by L1063 , L1058 , L1059 , L1051 , INT_2:def 4 , NAT_D:4;
L1065: D76 in ( support ( pfexp D81 ) ) by L1064 , L998 , NAT_3:37;
L1066: D76 in ( support ( PFactors D81 ) ) by L1065 , L795;
L1067: ( C206 + 1 ) <= C206 by L1066 , L1011 , FINSEQ_1:1;
thus L1068: contradiction by L1067 , NAT_1:13;
end;
L1069: ( Radical C207 ) = ( Product ( ( PFactors D80 ) + ( PFactors D81 ) ) ) by L1050 , L1001 , L918
.= ( ( Radical D80 ) * ( Radical D81 ) ) by L1041 , L1006 , L1040 , NAT_3:19;
thus L1070: thesis by L1069 , L1001 , L1038 , L1034 , NAT_3:1;
end;
suppose L1071: ( support ( PFactors C207 ) ) c= ( Seg C206 );

thus L1072: thesis by L1071 , L983;
end;
end;
L1074: S7[ ( 0 ) ]
proof
let C216 being non  zero Nat;
L1075: ( {} ) c= ( support ( PFactors C216 ) ) by XBOOLE_1:2;
assume L1076: ( support ( PFactors C216 ) ) c= ( Seg ( 0 ) );
L1077: ( support ( PFactors C216 ) ) = ( {} ) by L1076 , L1075 , XBOOLE_0:def 10;
L1078: ( PFactors C216 ) = ( EmptyBag ( SetPrimes ) ) by L1077 , BAGORDER:19;
L1079: ( Radical C216 ) = 1 by L1078 , NAT_3:20;
thus L1080: thesis by L1079 , NAT_D:6;
end;
L1081: (for B169 being Nat holds S7[ B169 ]) from NAT_1:sch 2(L1074 , L982);
thus L1082: thesis by L1081 , L980 , L981;
end;
theorem
L1083: (for B170 being Prime holds (for B171 being non  zero Nat holds (B170 divides B171 iff B170 divides ( Radical B171 ))))
proof
let C217 being Prime;
let C218 being non  zero Nat;
thus L1084: (C217 divides C218 implies C217 divides ( Radical C218 ))
proof
assume that
L1085: C217 divides C218
and
L1086: (not C217 divides ( Radical C218 ));
L1087: C217 in ( support ( pfexp C218 ) ) by L1085 , NAT_3:37;
L1088: C217 in ( support ( PFactors C218 ) ) by L1087 , L795;
L1089: C217 in ( rng ( canFS ( support ( PFactors C218 ) ) ) ) by L1088 , FUNCT_2:def 3;
consider C219 being set such that L1090: C219 in ( dom ( canFS ( support ( PFactors C218 ) ) ) ) and L1091: C217 = ( ( canFS ( support ( PFactors C218 ) ) ) . C219 ) by L1089 , FUNCT_1:def 3;
consider C220 being (FinSequence of ( COMPLEX )) such that L1092: ( Product ( PFactors C218 ) ) = ( Product C220 ) and L1093: C220 = ( ( PFactors C218 ) * ( canFS ( support ( PFactors C218 ) ) ) ) by NAT_3:def 5;
L1094: (( rng ( PFactors C218 ) ) c= ( NAT ) & ( rng C220 ) c= ( rng ( PFactors C218 ) )) by L1093 , RELAT_1:26 , VALUED_0:def 6;
L1095: ( rng C220 ) c= ( NAT ) by L1094 , XBOOLE_1:1;
L1096: ( support ( PFactors C218 ) ) c= ( dom ( PFactors C218 ) ) by PRE_POLY:37;
L1097: C219 in ( dom C220 ) by L1096 , L1088 , L1093 , L1090 , L1091 , FUNCT_1:11;
reconsider D88 = C220 as (FinSequence of ( NAT )) by L1095 , FINSEQ_1:def 4;
L1098: ( ( PFactors C218 ) . C217 ) = C217 by L1087 , L795;
L1099: ( D88 . C219 ) = C217 by L1098 , L1093 , L1091 , L1097 , FUNCT_1:12;
L1100: C217 in ( rng D88 ) by L1099 , L1097 , FUNCT_1:3;
thus L1101: contradiction by L1100 , L1086 , L1092 , NAT_3:7;
end;

assume L1102: C217 divides ( Radical C218 );
L1103: ( Radical C218 ) divides C218 by L979;
thus L1104: thesis by L1103 , L1102 , NAT_D:4;
end;
theorem
L1105: (for B172 being non  zero Nat holds (B172 is  square-free implies ( Radical B172 ) = B172))
proof
let C221 being non  zero Nat;
assume L1106: C221 is  square-free;
L1107: (for B173 being set holds (B173 in ( SetPrimes ) implies ( ( PFactors C221 ) . B173 ) = ( ( ppf C221 ) . B173 )))
proof
let C222 being set;
assume L1108: C222 in ( SetPrimes );
reconsider D89 = C222 as  prime (Element of ( NAT )) by L1108 , NEWTON:def 6;
per cases ;
suppose L1109: D89 in ( support ( pfexp C221 ) );

L1110: D89 <> 1 by INT_2:def 4;
L1111: ( D89 |-count C221 ) <> ( 0 )
proof
assume L1112: ( D89 |-count C221 ) = ( 0 );
L1113: (not D89 divides C221) by L1112 , L1110 , NAT_3:27;
thus L1114: thesis by L1113 , L1109 , NAT_3:36;
end;
L1115: ( D89 |-count C221 ) >= 1 by L1111 , NAT_1:14;
L1116: ( D89 |-count C221 ) <= 1 by L1106 , L483;
L1117: ( D89 |-count C221 ) = 1 by L1116 , L1115 , XXREAL_0:1;
L1118: ( ( ppf C221 ) . D89 ) = ( D89 |^ 1 ) by L1117 , L1109 , NAT_3:def 9
.= D89 by NEWTON:5;
thus L1119: thesis by L1118 , L1109 , L795;
end;
suppose L1120: (not D89 in ( support ( pfexp C221 ) ));

L1121: (not D89 in ( support ( PFactors C221 ) )) by L1120 , L795;
L1122: ( ( PFactors C221 ) . D89 ) = ( 0 ) by L1121 , PRE_POLY:def 7;
L1123: (not D89 in ( support ( ppf C221 ) )) by L1120 , NAT_3:def 9;
thus L1124: thesis by L1123 , L1122 , PRE_POLY:def 7;
end;
end;
L1126: ( PFactors C221 ) = ( ppf C221 ) by L1107 , PBOOLE:3;
thus L1127: thesis by L1126 , NAT_3:61;
end;
theorem
L1128: (for B174 being non  zero Nat holds ( Radical B174 ) <= B174) by L979 , NAT_D:7;
theorem
L1129: (for B175 being Prime holds (for B176 being non  zero Nat holds ( B175 |-count ( Radical B176 ) ) <= ( B175 |-count B176 ))) by L979 , NAT_3:30;
theorem
L1130: (for B177 being non  zero Nat holds (( Radical B177 ) = 1 iff B177 = 1))
proof
let C223 being non  zero Nat;
thus L1131: (( Radical C223 ) = 1 implies C223 = 1)
proof
L1132: ( rng ( PFactors C223 ) ) c= ( NAT ) by VALUED_0:def 6;
consider C224 being (FinSequence of ( COMPLEX )) such that L1133: ( Product ( PFactors C223 ) ) = ( Product C224 ) and L1134: C224 = ( ( PFactors C223 ) * ( canFS ( support ( PFactors C223 ) ) ) ) by NAT_3:def 5;
L1135: ( rng C224 ) c= ( rng ( PFactors C223 ) ) by L1134 , RELAT_1:26;
L1136: ( rng C224 ) c= ( NAT ) by L1135 , L1132 , XBOOLE_1:1;
reconsider D90 = C224 as (FinSequence of ( NAT )) by L1136 , FINSEQ_1:def 4;
assume L1137: ( Radical C223 ) = 1;
assume L1138: C223 <> 1;
consider C225 being Prime such that L1139: C225 divides C223 by L1138 , L51;
L1140: C225 in ( support ( pfexp C223 ) ) by L1139 , NAT_3:37;
L1141: C225 in ( support ( PFactors C223 ) ) by L1140 , L795;
L1142: C225 in ( rng ( canFS ( support ( PFactors C223 ) ) ) ) by L1141 , FUNCT_2:def 3;
consider C226 being set such that L1143: (C226 in ( dom ( canFS ( support ( PFactors C223 ) ) ) ) & C225 = ( ( canFS ( support ( PFactors C223 ) ) ) . C226 )) by L1142 , FUNCT_1:def 3;
L1144: ( ( PFactors C223 ) . C225 ) = C225 by L1140 , L795;
L1145: ( D90 . C226 ) = C225 by L1144 , L1134 , L1143 , FUNCT_1:13;
L1146: ( support ( PFactors C223 ) ) c= ( dom ( PFactors C223 ) ) by PRE_POLY:37;
L1147: C226 in ( dom D90 ) by L1146 , L1134 , L1141 , L1143 , FUNCT_1:11;
L1148: (1 < C225 & C225 in ( rng D90 )) by L1147 , L1145 , FUNCT_1:3 , INT_2:def 4;
thus L1149: thesis by L1148 , L1137 , L1133 , NAT_3:7 , NAT_D:7;
end;

thus L1150: thesis by L852 , NAT_3:20;
end;
theorem
L1151: (for B178 being Prime holds (for B179 being non  zero Nat holds ( B178 |-count ( Radical B179 ) ) <= 1))
proof
defpred S8[ Nat ] means (for B180 being non  zero Nat holds (( support ( PFactors B180 ) ) c= ( Seg $1 ) implies (for B181 being Prime holds ( B181 |-count ( Radical B180 ) ) <= 1)));
let C227 being Prime;
let C228 being non  zero Nat;
L1152: (ex B182 being (Element of ( NAT )) st ( support ( ppf C228 ) ) c= ( Seg B182 )) by L154;
L1153: ( support ( ppf C228 ) ) = ( support ( pfexp C228 ) ) by NAT_3:def 9
.= ( support ( PFactors C228 ) ) by L795;
L1154: (for B183 being Nat holds (S8[ B183 ] implies S8[ ( B183 + 1 ) ]))
proof
let C229 being Nat;
assume L1155: S8[ C229 ];
let C230 being non  zero Nat;
assume that
L1156: ( support ( PFactors C230 ) ) c= ( Seg ( C229 + 1 ) );
L1157: ( support ( pfexp C230 ) ) = ( support ( PFactors C230 ) ) by L795;
per cases ;
suppose L1158: (not ( support ( PFactors C230 ) ) c= ( Seg C229 ));

let C231 being Prime;
reconsider D91 = ( C229 + 1 ) as non  zero (Element of ( NAT ));
set D92 = ( D91 |-count C230 );
set D93 = ( D91 |^ D92 );
L1159:
now
assume L1160: (not ( C229 + 1 ) in ( support ( PFactors C230 ) ));
L1161: ( support ( PFactors C230 ) ) c= ( Seg C229 )
proof
let C232 being set;
assume L1162: C232 in ( support ( PFactors C230 ) );
reconsider D94 = C232 as Nat by L1162;
L1163: D94 <= ( C229 + 1 ) by L1156 , L1162 , FINSEQ_1:1;
L1164: D94 < ( C229 + 1 ) by L1163 , L1160 , L1162 , XXREAL_0:1;
L1165: D94 <= C229 by L1164 , NAT_1:13;
L1166: C232 is Prime by L1157 , L1162 , NAT_3:34;
L1167: 1 <= D94 by L1166 , INT_2:def 4;
thus L1168: thesis by L1167 , L1165 , FINSEQ_1:1;
end;
thus L1169: contradiction by L1161 , L1158;
end;
L1170: D91 is Prime by L1159 , L1157 , NAT_3:34;
L1171: D91 > 1 by L1170 , INT_2:def 4;
L1172: D93 divides C230 by L1171 , NAT_3:def 7;
consider C233 being Nat such that L1173: C230 = ( D93 * C233 ) by L1172 , NAT_D:def 3;
reconsider D95 = D93 , D96 = C233 as non  zero Nat by L1173;
reconsider D97 = D95 , D98 = D96 as non  zero (Element of ( NAT )) by ORDINAL1:def 12;
L1174: ( support ( ppf D95 ) ) = ( support ( pfexp D95 ) ) by NAT_3:def 9;
L1175: ( support ( ppf D95 ) ) = ( support ( PFactors D95 ) ) by L1174 , L795;
L1176: ( support ( PFactors D96 ) ) c= ( Seg C229 )
proof
set D99 = ( D91 |-count D96 );
let C234 being set;
assume L1177: C234 in ( support ( PFactors D96 ) );
reconsider D100 = C234 as Nat by L1177;
L1178: C234 in ( support ( pfexp D96 ) ) by L1177 , L795;
L1179:
now
assume L1180: D100 = D91;
L1181: ( ( pfexp D96 ) . D91 ) = D99 by L1170 , NAT_3:def 8;
L1182: D99 <> ( 0 ) by L1181 , L1178 , L1180 , PRE_POLY:def 7;
L1183: D99 >= ( ( 0 ) + 1 ) by L1182 , NAT_1:13;
consider C235 being Nat such that L1184: D99 = ( 1 + C235 ) by L1183 , NAT_1:10;
L1185: ( D91 |^ D99 ) divides D96 by L1171 , NAT_3:def 7;
consider C236 being Nat such that L1186: D96 = ( ( D91 |^ D99 ) * C236 ) by L1185 , NAT_D:def 3;
reconsider D101 = C235 as (Element of ( NAT )) by ORDINAL1:def 12;
L1187: C230 = ( D95 * ( ( ( D91 |^ D101 ) * D91 ) * C236 ) ) by L1173 , L1184 , L1186 , NEWTON:6
.= ( ( D95 * D91 ) * ( ( D91 |^ D101 ) * C236 ) )
.= ( ( D91 |^ ( D92 + 1 ) ) * ( ( D91 |^ D101 ) * C236 ) ) by NEWTON:6;
L1188: ( D91 |^ ( D92 + 1 ) ) divides C230 by L1187 , NAT_D:def 3;
thus L1189: contradiction by L1188 , L1171 , NAT_3:def 7;
end;
L1190: ( support ( pfexp D96 ) ) c= ( support ( pfexp C230 ) ) by L1173 , NAT_3:45;
L1191: ( support ( PFactors D96 ) ) c= ( support ( PFactors C230 ) ) by L1190 , L1157 , L795;
L1192: D100 in ( support ( PFactors C230 ) ) by L1191 , L1177;
L1193: D100 <= ( C229 + 1 ) by L1192 , L1156 , FINSEQ_1:1;
L1194: D100 < D91 by L1193 , L1179 , XXREAL_0:1;
L1195: D100 <= C229 by L1194 , NAT_1:13;
L1196: C234 is Prime by L1178 , NAT_3:34;
L1197: 1 <= D100 by L1196 , INT_2:def 4;
thus L1198: thesis by L1197 , L1195 , FINSEQ_1:1;
end;
L1199: ( ( pfexp C230 ) . D91 ) = D92 by L1170 , NAT_3:def 8;
L1200: D92 <> ( 0 ) by L1199 , L1157 , L1159 , PRE_POLY:def 7;
L1201: ( C231 |-count ( Radical D95 ) ) <= 1
proof
per cases ;
suppose L1202: C231 = D91;

L1203: C231 > 1 by INT_2:def 4;
L1204: ( Radical D95 ) = D91 by L1200 , L1202 , L972;
thus L1205: thesis by L1204 , L1202 , L1203 , NAT_3:22;
end;
suppose L1206: C231 <> D91;

L1207: C231 , D91 are_relative_prime  by L1206 , L1170 , INT_2:30;
L1208: (not C231 divides D91) by L1207 , PYTHTRIP:def 2;
L1209: C231 > 1 by INT_2:def 4;
L1210: ( C231 |-count D95 ) = ( D92 * ( C231 |-count D91 ) ) by NAT_3:32
.= ( D92 * ( 0 ) ) by L1208 , L1209 , NAT_3:27
.= ( 0 );
thus L1211: thesis by L1210 , L979 , NAT_3:30;
end;
end;
L1213: ( support ( ppf D95 ) ) = { D91 } by L1170 , L1200 , L1174 , NAT_3:42;
L1214:
now
assume L1215: ( support ( ppf D95 ) ) meets ( support ( ppf D96 ) );
consider C237 being set such that L1216: C237 in ( support ( ppf D95 ) ) and L1217: C237 in ( support ( ppf D96 ) ) by L1215 , XBOOLE_0:3;
L1218: C237 in ( support ( pfexp D96 ) ) by L1217 , NAT_3:def 9;
L1219: C237 in ( support ( PFactors D96 ) ) by L1218 , L795;
L1220: C237 = D91 by L1213 , L1216 , TARSKI:def 1;
L1221: D91 <= C229 by L1220 , L1176 , L1219 , FINSEQ_1:1;
thus L1222: contradiction by L1221 , NAT_1:13;
end;
L1223: ( support ( ppf D96 ) ) = ( support ( pfexp D96 ) ) by NAT_3:def 9;
L1224: ( support ( ppf D96 ) ) = ( support ( PFactors D96 ) ) by L1223 , L795;
L1225: (( C231 |-count ( Radical D95 ) ) = ( 0 ) or ( C231 |-count ( Radical D96 ) ) = ( 0 ))
proof
assume that
L1226: ( C231 |-count ( Radical D95 ) ) <> ( 0 )
and
L1227: ( C231 |-count ( Radical D96 ) ) <> ( 0 );
L1228: ( C231 |-count D96 ) > ( 0 ) by L1227 , L979 , NAT_3:30;
L1229: ( ( PFactors D96 ) . C231 ) <> ( 0 ) by L1228 , L913;
L1230: C231 in ( support ( PFactors D96 ) ) by L1229 , PRE_POLY:def 7;
L1231: ( C231 |-count D95 ) > ( 0 ) by L1226 , L979 , NAT_3:30;
L1232: ( ( PFactors D95 ) . C231 ) <> ( 0 ) by L1231 , L913;
L1233: C231 in ( support ( PFactors D95 ) ) by L1232 , PRE_POLY:def 7;
thus L1234: thesis by L1233 , L1214 , L1175 , L1224 , L1230 , XBOOLE_0:3;
end;
L1235: D97 , D98 are_relative_prime 
proof
set D102 = ( D97 gcd D98 );
L1236: D102 divides D98 by NAT_D:def 5;
L1237: D102 <> ( 0 ) by INT_2:5;
L1238: ( ( 0 ) + 1 ) <= D102 by L1237 , NAT_1:13;
assume L1239: (not D97 , D98 are_relative_prime );
L1240: ( D97 gcd D98 ) <> 1 by L1239 , INT_2:def 3;
L1241: D102 > 1 by L1240 , L1238 , XXREAL_0:1;
L1242: D102 >= ( 1 + 1 ) by L1241 , NAT_1:13;
consider C238 being (Element of ( NAT )) such that L1243: C238 is  prime and L1244: C238 divides D102 by L1242 , INT_2:31;
L1245: D102 divides D97 by NAT_D:def 5;
L1246: C238 divides D97 by L1245 , L1244 , NAT_D:4;
L1247: C238 divides D91 by L1246 , L1243 , NAT_3:5;
L1248: (C238 = 1 or C238 = D91) by L1247 , L1170 , INT_2:def 4;
L1249: D91 divides D98 by L1248 , L1243 , L1244 , L1236 , INT_2:def 4 , NAT_D:4;
L1250: D91 in ( support ( pfexp D96 ) ) by L1249 , L1170 , NAT_3:37;
L1251: D91 in ( support ( PFactors D96 ) ) by L1250 , L795;
L1252: ( C229 + 1 ) <= C229 by L1251 , L1176 , FINSEQ_1:1;
thus L1253: contradiction by L1252 , NAT_1:13;
end;
L1254: ( Radical C230 ) = ( Product ( ( PFactors D95 ) + ( PFactors D96 ) ) ) by L1235 , L1173 , L918
.= ( ( Radical D95 ) * ( Radical D96 ) ) by L1214 , L1175 , L1224 , NAT_3:19;
L1255: ( C231 |-count ( Radical C230 ) ) = ( ( C231 |-count ( Radical D96 ) ) + ( C231 |-count ( Radical D95 ) ) ) by L1254 , NAT_3:28;
thus L1256: thesis by L1255 , L1155 , L1176 , L1225 , L1201;
end;
suppose L1257: ( support ( PFactors C230 ) ) c= ( Seg C229 );

thus L1258: thesis by L1257 , L1155;
end;
end;
L1260: S8[ ( 0 ) ]
proof
let C239 being non  zero Nat;
assume L1261: ( support ( PFactors C239 ) ) c= ( Seg ( 0 ) );
let C240 being Prime;
L1262: ( {} ) c= ( support ( PFactors C239 ) ) by XBOOLE_1:2;
L1263: ( support ( PFactors C239 ) ) = ( {} ) by L1262 , L1261 , XBOOLE_0:def 10;
L1264: ( PFactors C239 ) = ( EmptyBag ( SetPrimes ) ) by L1263 , BAGORDER:19;
L1265: (not C240 divides ( Radical C239 ))
proof
assume L1266: C240 divides ( Radical C239 );
L1267: C240 divides 1 by L1266 , L1264 , NAT_3:20;
L1268: 1 divides C240 by NAT_D:6;
L1269: C240 = 1 by L1268 , L1267 , NAT_D:5;
thus L1270: thesis by L1269 , INT_2:def 4;
end;
thus L1271: thesis by L1265 , L60;
end;
L1272: (for B184 being Nat holds S8[ B184 ]) from NAT_1:sch 2(L1260 , L1154);
thus L1273: thesis by L1272 , L1152 , L1153;
end;
L1274: (for B185 being non  zero Nat holds (for B186 being Prime holds (not ( B186 |^ 2 ) divides ( Radical B185 ))))
proof
let C241 being non  zero Nat;
let C242 being Prime;
set D103 = ( C242 |-count ( Radical C241 ) );
L1275: C242 <> 1 by INT_2:def 4;
assume L1276: ( C242 |^ 2 ) divides ( Radical C241 );
L1277: D103 is non  zero non  zero non  zero non  zero (Element of ( NAT ))
proof
assume L1278: (not D103 is non  zero non  zero non  zero non  zero (Element of ( NAT )));
L1279: (not ( C242 |^ ( ( 0 ) + 1 ) ) divides ( Radical C241 )) by L1278 , L1275 , NAT_3:def 7;
L1280: (not C242 divides ( Radical C241 )) by L1279 , NEWTON:5;
thus L1281: contradiction by L1280 , L1276 , L88;
end;
L1282: D103 >= 2
proof
assume L1283: D103 < 2;
L1284: D103 = 1 by L1283 , L1277 , NAT_1:23;
L1285: (not ( C242 |^ ( 1 + 1 ) ) divides ( Radical C241 )) by L1284 , L1275 , NAT_3:def 7;
thus L1286: contradiction by L1285 , L1276;
end;
L1287: D103 > 1 by L1282 , XXREAL_0:2;
thus L1288: contradiction by L1287 , L1151;
end;
L1289: (for B187 being non  zero Nat holds ( Radical B187 ) is  square-free)
proof
let C243 being non  zero Nat;
assume L1290: ( Radical C243 ) is  square-containing;
L1291: (ex B188 being Prime st ( B188 |^ 2 ) divides ( Radical C243 )) by L1290 , L429;
thus L1292: contradiction by L1291 , L1274;
end;
registration
let C244 being non  zero Nat;
cluster ( Radical C244 ) ->  square-free;
coherence by L1289;
end;
theorem
L1294: (for B189 being non  zero Nat holds ( Radical ( Radical B189 ) ) = ( Radical B189 )) by L1105;
theorem
L1295: (for B190 being non  zero (Element of ( NAT )) holds (for B191 being Prime holds { B192 where B192 is (Element of ( NAT )) : (( 0 ) < B192 & B192 divides ( Radical B190 ) & B191 divides B192) } c= ( Seg B190 )))
proof
let C245 being non  zero (Element of ( NAT ));
let C246 being Prime;
let C247 being set;
assume L1296: C247 in { B193 where B193 is (Element of ( NAT )) : (( 0 ) < B193 & B193 divides ( Radical C245 ) & C246 divides B193) };
consider C248 being (Element of ( NAT )) such that L1297: C247 = C248 and L1298: C248 > ( 0 ) and L1299: C248 divides ( Radical C245 ) and L1300: C246 divides C248 by L1296;
L1301: 1 <= C248 by L1298 , NAT_1:14;
L1302: ( Radical C245 ) <= C245 by L979 , NAT_D:7;
L1303: C248 <= ( Radical C245 ) by L1299 , NAT_D:7;
L1304: C248 <= C245 by L1303 , L1302 , XXREAL_0:2;
thus L1305: thesis by L1304 , L1297 , L1301 , FINSEQ_1:1;
end;
theorem
L1306: (for B194 being non  zero (Element of ( NAT )) holds (for B195 being Prime holds { B196 where B196 is (Element of ( NAT )) : (( 0 ) < B196 & B196 divides ( Radical B194 ) & (not B195 divides B196)) } c= ( Seg B194 )))
proof
let C249 being non  zero (Element of ( NAT ));
let C250 being Prime;
let C251 being set;
assume L1307: C251 in { B197 where B197 is (Element of ( NAT )) : (( 0 ) < B197 & B197 divides ( Radical C249 ) & (not C250 divides B197)) };
consider C252 being (Element of ( NAT )) such that L1308: C251 = C252 and L1309: C252 > ( 0 ) and L1310: C252 divides ( Radical C249 ) and L1311: (not C250 divides C252) by L1307;
L1312: 1 <= C252 by L1309 , NAT_1:14;
L1313: ( Radical C249 ) <= C249 by L979 , NAT_D:7;
L1314: C252 <= ( Radical C249 ) by L1310 , NAT_D:7;
L1315: C252 <= C249 by L1314 , L1313 , XXREAL_0:2;
thus L1316: thesis by L1315 , L1308 , L1312 , FINSEQ_1:1;
end;
L1317: (for B198 , B199 being non  zero (Element of ( NAT )) holds ((B198 divides B199 & B198 is  square-free) implies B198 divides ( Radical B199 )))
proof
let C253 , C254 being non  zero (Element of ( NAT ));
assume that
L1318: C253 divides C254
and
L1319: C253 is  square-free;
L1320: (for B200 being Prime holds ( B200 |-count C253 ) <= ( B200 |-count ( Radical C254 ) ))
proof
let C255 being Prime;
L1321: C255 > 1 by INT_2:def 4;
per cases ;
suppose L1322: C255 divides C253;

L1323: C255 divides C254 by L1322 , L1318 , NAT_D:4;
L1324: C255 divides ( Radical C254 ) by L1323 , L1083;
L1325: ( C255 |-count ( Radical C254 ) ) <> ( 0 ) by L1324 , L1321 , NAT_3:27;
L1326: ( C255 |-count ( Radical C254 ) ) <= 1 by L1151;
L1327: ( C255 |-count ( Radical C254 ) ) < ( 1 + 1 ) by L1326 , NAT_1:13;
L1328: ( C255 |-count C253 ) <= 1 by L1319 , L483;
thus L1329: thesis by L1328 , L1327 , L1325 , NAT_1:23;
end;
suppose L1330: (not C255 divides C253);

thus L1331: thesis by L1330 , L1321 , NAT_3:27;
end;
end;
thus L1333: thesis by L1320 , L264;
end;
theorem
L1334: (for B201 , B202 being non  zero Nat holds ((B201 divides B202 & B201 is  square-free) iff B201 divides ( Radical B202 )))
proof
let C256 , C257 being non  zero Nat;
L1335: (C256 divides ( Radical C257 ) implies (C256 divides C257 & C256 is  square-free))
proof
assume L1336: C256 divides ( Radical C257 );
L1337: ( Radical C257 ) divides C257 by L979;
thus L1338: thesis by L1337 , L1336 , L495 , NAT_D:4;
end;
L1339: (C256 is non  zero non  zero non  zero non  zero (Element of ( NAT )) & C257 is non  zero non  zero non  zero non  zero (Element of ( NAT ))) by ORDINAL1:def 12;
thus L1340: thesis by L1339 , L1335 , L1317;
end;
theorem
L1341: (for B203 being non  zero Nat holds { B204 where B204 is (Element of ( NAT )) : (( 0 ) < B204 & B204 divides B203 & B204 is  square-free) } = { B205 where B205 is (Element of ( NAT )) : (( 0 ) < B205 & B205 divides ( Radical B203 )) })
proof
let C258 being non  zero Nat;
thus L1342: { B206 where B206 is (Element of ( NAT )) : (( 0 ) < B206 & B206 divides C258 & B206 is  square-free) } c= { B207 where B207 is (Element of ( NAT )) : (( 0 ) < B207 & B207 divides ( Radical C258 )) }
proof
let C259 being set;
assume L1343: C259 in { B208 where B208 is (Element of ( NAT )) : (( 0 ) < B208 & B208 divides C258 & B208 is  square-free) };
consider C260 being (Element of ( NAT )) such that L1344: C260 = C259 and L1345: ( 0 ) < C260 and L1346: (C260 divides C258 & C260 is  square-free) by L1343;
L1347: C260 divides ( Radical C258 ) by L1345 , L1346 , L1334;
thus L1348: thesis by L1347 , L1344 , L1345;
end;

let C261 being set;
assume L1349: C261 in { B209 where B209 is (Element of ( NAT )) : (( 0 ) < B209 & B209 divides ( Radical C258 )) };
consider C262 being (Element of ( NAT )) such that L1350: (C261 = C262 & ( 0 ) < C262) and L1351: C262 divides ( Radical C258 ) by L1349;
L1352: C262 is  square-free by L1351 , L495;
L1353: ( Radical C258 ) divides C258 by L979;
L1354: C262 divides C258 by L1353 , L1351 , NAT_D:4;
thus L1355: thesis by L1354 , L1350 , L1352;
end;
