:: Basic Properties of Circulant Matrices and Anti-circular Matrices
::  by Xiaopeng Yue and Xiquan Liang
::
:: Received August 26, 2008
:: Copyright (c) 2008-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, SUBSET_1, VECTSP_1, FINSEQ_1, MATRIX_1, NAT_1, XXREAL_0,
      ARYTM_1, INT_1, ARYTM_3, CARD_1, ZFMISC_1, GROUP_1, RELAT_1, FUNCT_1,
      TARSKI, STRUCT_0, ALGSTR_0, FUNCOP_1, FVSUM_1, SUPINF_2, FINSEQ_2,
      TREES_1, XBOOLE_0, QC_LANG1, INCSP_1, PARTFUN1, MESFUNC1, MATRIX16;
 notations MATRIX_1, VECTSP_1, GROUP_1, XBOOLE_0, ZFMISC_1, SUBSET_1, ORDINAL1,
      TARSKI, FINSEQ_1, FINSEQ_2, MATRIX_3, FVSUM_1, FUNCT_1, STRUCT_0,
      BINOP_1, XXREAL_0, MATRIX_2, FUNCOP_1, INT_1, NUMBERS, XCMPLX_0,
      MATRIX_6, RELAT_1, ALGSTR_0, PARTFUN1, MATRIX13;
 constructors REAL_1, MATRIX_6, MATRIX13, POLYNOM1, FVSUM_1;
 registrations STRUCT_0, INT_1, RELSET_1, VECTSP_1, FINSEQ_2, XXREAL_0,
      FUNCOP_1, XREAL_0, XBOOLE_0, FUNCT_1, ORDINAL1;
 requirements REAL, NUMERALS, BOOLE, SUBSET, ARITHM;
 definitions MATRIX_1, MATRIX_3, FVSUM_1, MATRIX_4, FINSEQ_1, FINSEQ_2,
      ALGSTR_0;
 theorems MATRIX_5, MATRIX_3, FINSEQ_1, FUNCT_1, ZFMISC_1, POLYNOM1, NAT_1,
      RLVECT_1, MATRIX_2, INT_1, VECTSP_1, FVSUM_1, MATRIX_1, FINSEQ_2,
      FUNCOP_1, MATRIXR1, XREAL_1, XXREAL_0, ORDINAL1, VECTSP_2, PARTFUN1,
      FINTOPO5, CARD_1, NAT_D;

begin
L1: (for R4 being (Element of ( NAT )) holds (for B1 being Nat holds ((B1 <= R4 & B1 >= 1) implies ( ( B1 - 1 ) mod R4 ) = ( B1 - 1 ))))
proof
let R4 being (Element of ( NAT ));
let C1 being Nat;
assume that
L2: C1 <= R4
and
L3: C1 >= 1;
L4: ( C1 - 1 ) >= ( 1 - 1 ) by L3 , XREAL_1:9;
L5: ( R4 - 1 ) < R4 by XREAL_1:44;
L6: ( C1 - 1 ) <= ( R4 - 1 ) by L2 , XREAL_1:9;
L7: ( C1 - 1 ) < R4 by L6 , L5 , XXREAL_0:2;
thus L8: thesis by L7 , L4 , NAT_D:63;
end;
L9: (for B2 , B3 , B4 being Nat holds ((B3 in ( Seg B2 ) & B4 in ( Seg B2 )) implies ( ( ( B4 - B3 ) mod B2 ) + 1 ) in ( Seg B2 )))
proof
let C2 , C3 , C4 being Nat;
assume that
L10: C3 in ( Seg C2 )
and
L11: C4 in ( Seg C2 );
L12: (C3 <= C2 & 1 <= C4) by L10 , L11 , FINSEQ_1:1;
L13: ( 1 - C2 ) <= ( C4 - C3 ) by L12 , XREAL_1:13;
L14: (1 <= C3 & C4 <= C2) by L10 , L11 , FINSEQ_1:1;
L15: ( C4 - C3 ) <= ( C2 - 1 ) by L14 , XREAL_1:13;
L16: ( - C2 ) <= ( ( - C2 ) + 1 ) by XREAL_1:29;
L17: ( - C2 ) <= ( C4 - C3 ) by L16 , L13 , XXREAL_0:2;
L18: ( C2 - 1 ) < C2 by XREAL_1:44;
L19: ( C4 - C3 ) < C2 by L18 , L15 , XXREAL_0:2;
L20: ( ( C4 - C3 ) mod C2 ) <= ( C2 - 1 )
proof
per cases ;
suppose L21: ( 0 ) <= ( C4 - C3 );

thus L22: thesis by L21 , L15 , L19 , NAT_D:63;
end;
suppose L23: ( 0 ) > ( C4 - C3 );

L24: ( C4 - C3 ) <= ( - 1 ) by L23 , INT_1:8;
L25: ( C2 + ( C4 - C3 ) ) <= ( C2 + ( - 1 ) ) by L24 , XREAL_1:6;
thus L26: thesis by L25 , L17 , L23 , NAT_D:63;
end;
end;
L28: ( ( ( C4 - C3 ) mod C2 ) + 1 ) <= ( ( C2 - 1 ) + 1 ) by L20 , XREAL_1:6;
L29: C2 in ( NAT ) by ORDINAL1:def 12;
L30: C2 > ( 0 ) by L29 , L10 , FINTOPO5:2;
L31: ( ( C4 - C3 ) mod C2 ) >= ( 0 ) by L30 , NAT_D:62;
L32: (( ( ( C4 - C3 ) mod C2 ) + 1 ) >= ( ( 0 ) + 1 ) & ( ( ( C4 - C3 ) mod C2 ) + 1 ) in ( NAT )) by L31 , INT_1:3 , XREAL_1:6;
thus L33: thesis by L32 , L28;
end;
L34: (for B5 , B6 , B7 being Nat holds (([ B6 , B7 ] in [: ( Seg B5 ) , ( Seg B5 ) :] or [ B7 , B6 ] in [: ( Seg B5 ) , ( Seg B5 ) :]) implies ( ( ( B7 - B6 ) mod B5 ) + 1 ) in ( Seg B5 )))
proof
let C5 , C6 , C7 being Nat;
assume L35: ([ C6 , C7 ] in [: ( Seg C5 ) , ( Seg C5 ) :] or [ C7 , C6 ] in [: ( Seg C5 ) , ( Seg C5 ) :]);
L36: (C6 in ( Seg C5 ) & C7 in ( Seg C5 )) by L35 , ZFMISC_1:87;
thus L37: thesis by L36 , L9;
end;
theorem
L38: (for R6 being Field holds (for R10 being (FinSequence of R6) holds ( ( 1_ R6 ) * R10 ) = R10))
proof
let R6 being Field;
let R10 being (FinSequence of R6);
L39: ( dom R10 ) = ( Seg ( len R10 ) ) by FINSEQ_1:def 3;
L40: (( Seg ( len ( ( 1_ R6 ) * R10 ) ) ) = ( Seg ( len R10 ) ) & ( dom ( ( 1_ R6 ) * R10 ) ) = ( Seg ( len ( ( 1_ R6 ) * R10 ) ) )) by FINSEQ_1:def 3 , MATRIXR1:16;
L41: (for B8 being Nat holds (B8 in ( dom R10 ) implies ( ( ( 1_ R6 ) * R10 ) . B8 ) = ( R10 . B8 )))
proof
let C8 being Nat;
L42: ( rng R10 ) c= (the carrier of R6) by FINSEQ_1:def 4;
assume L43: C8 in ( dom R10 );
L44: ( R10 . C8 ) in ( dom ( (the multF of R6) [;] (( 1_ R6 ) , ( id (the carrier of R6) )) ) ) by L43 , L40 , L39 , FUNCT_1:11;
L45: ( R10 . C8 ) in ( rng R10 ) by L43 , FUNCT_1:3;
reconsider D1 = ( R10 . C8 ) as (Element of R6) by L45 , L42;
L46: ( ( ( 1_ R6 ) * R10 ) . C8 ) = ( ( ( 1_ R6 ) multfield ) . ( R10 . C8 ) ) by L43 , FUNCT_1:13
.= ( (the multF of R6) . (( 1_ R6 ) , ( ( id (the carrier of R6) ) . ( R10 . C8 ) )) ) by L44 , FUNCOP_1:32
.= ( ( 1_ R6 ) * D1 ) by FUNCT_1:18
.= ( R10 . C8 ) by VECTSP_1:def 8;
thus L47: thesis by L46;
end;
thus L48: thesis by L41 , L40 , L39 , FINSEQ_1:13;
end;
theorem
L49: (for R6 being Field holds (for R10 being (FinSequence of R6) holds ( ( - ( 1_ R6 ) ) * R10 ) = ( - R10 )))
proof
let R6 being Field;
let R10 being (FinSequence of R6);
L50: (( Seg ( len ( ( - ( 1_ R6 ) ) * R10 ) ) ) = ( Seg ( len R10 ) ) & ( dom ( ( - ( 1_ R6 ) ) * R10 ) ) = ( Seg ( len ( ( - ( 1_ R6 ) ) * R10 ) ) )) by FINSEQ_1:def 3 , MATRIXR1:16;
L51: ( dom R10 ) = ( Seg ( len R10 ) ) by FINSEQ_1:def 3;
L52: (for B9 being Nat holds (B9 in ( dom R10 ) implies ( ( ( - ( 1_ R6 ) ) * R10 ) . B9 ) = ( ( - R10 ) . B9 )))
proof
let C9 being Nat;
L53: ( rng R10 ) c= (the carrier of R6) by FINSEQ_1:def 4;
assume L54: C9 in ( dom R10 );
L55: ( R10 . C9 ) in ( dom ( (the multF of R6) [;] (( - ( 1_ R6 ) ) , ( id (the carrier of R6) )) ) ) by L54 , L50 , L51 , FUNCT_1:11;
L56: ( R10 . C9 ) in ( rng R10 ) by L54 , FUNCT_1:3;
reconsider D2 = ( R10 . C9 ) as (Element of R6) by L56 , L53;
L57: ( ( ( - ( 1_ R6 ) ) * D2 ) + D2 ) = ( ( ( - ( 1_ R6 ) ) * D2 ) + ( ( 1_ R6 ) * D2 ) ) by VECTSP_1:def 8
.= ( ( ( - ( 1_ R6 ) ) + ( 1_ R6 ) ) * D2 ) by VECTSP_1:def 7
.= ( ( 0. R6 ) * D2 ) by RLVECT_1:5
.= ( 0. R6 ) by VECTSP_1:7;
L58: ( ( ( - ( 1_ R6 ) ) * D2 ) + ( D2 + ( - D2 ) ) ) = ( ( 0. R6 ) + ( - D2 ) ) by L57 , RLVECT_1:def 3;
L59: ( ( 0. R6 ) + ( - D2 ) ) = ( ( ( - ( 1_ R6 ) ) * D2 ) + ( 0. R6 ) ) by L58 , RLVECT_1:5
.= ( ( - ( 1_ R6 ) ) * D2 ) by RLVECT_1:4;
L60: ( ( - ( 1_ R6 ) ) * D2 ) = ( - D2 ) by L59 , RLVECT_1:4;
L61: ( ( ( - ( 1_ R6 ) ) * R10 ) . C9 ) = ( ( ( - ( 1_ R6 ) ) multfield ) . ( R10 . C9 ) ) by L54 , FUNCT_1:13
.= ( (the multF of R6) . (( - ( 1_ R6 ) ) , ( ( id (the carrier of R6) ) . ( R10 . C9 ) )) ) by L55 , FUNCOP_1:32
.= ( (the multF of R6) . (( - ( 1_ R6 ) ) , D2) ) by FUNCT_1:18
.= ( ( comp R6 ) . D2 ) by L60 , VECTSP_1:def 13
.= ( ( - R10 ) . C9 ) by L54 , FUNCT_1:13;
thus L62: thesis by L61;
end;
L63: R10 is (Element of ( ( len R10 ) -tuples_on (the carrier of R6) )) by FINSEQ_2:92;
L64: ( - R10 ) is (Element of ( ( len R10 ) -tuples_on (the carrier of R6) )) by L63 , FINSEQ_2:113;
L65: ( len ( - R10 ) ) = ( len R10 ) by L64 , CARD_1:def 7;
L66: (( dom ( - R10 ) ) = ( Seg ( len ( - R10 ) ) ) & ( dom R10 ) = ( Seg ( len R10 ) )) by FINSEQ_1:def 3;
thus L67: thesis by L66 , L50 , L52 , L65 , FINSEQ_1:13;
end;
definition
let C10 being set;
let C11 being (Matrix of C10);
let C12 being FinSequence;
pred C11 is_line_circulant_about C12
means
:L68: (( len C12 ) = ( width C11 ) & (for B10 , B11 being Nat holds ([ B10 , B11 ] in ( Indices C11 ) implies ( C11 * (B10 , B11) ) = ( C12 . ( ( ( B11 - B10 ) mod ( len C12 ) ) + 1 ) ))))
;end;
definition
let C13 being set;
let C14 being (Matrix of C13);
attr C14 is  line_circulant
means
:L70: (ex B12 being (FinSequence of C13) st (( len B12 ) = ( width C14 ) & C14 is_line_circulant_about B12));
end;
definition
let C15 being non  empty set;
let C16 being (FinSequence of C15);
attr C16 is  first-line-of-circulant
means
:L72: (ex B13 being (Matrix of ( len C16 ) , C15) st B13 is_line_circulant_about C16);
end;
definition
let C17 being set;
let C18 being (Matrix of C17);
let C19 being FinSequence;
pred C18 is_col_circulant_about C19
means
:L74: (( len C19 ) = ( len C18 ) & (for B14 , B15 being Nat holds ([ B14 , B15 ] in ( Indices C18 ) implies ( C18 * (B14 , B15) ) = ( C19 . ( ( ( B14 - B15 ) mod ( len C19 ) ) + 1 ) ))))
;end;
definition
let C20 being set;
let C21 being (Matrix of C20);
attr C21 is  col_circulant
means
:L76: (ex B16 being (FinSequence of C20) st (( len B16 ) = ( len C21 ) & C21 is_col_circulant_about B16));
end;
definition
let C22 being non  empty set;
let C23 being (FinSequence of C22);
attr C23 is  first-col-of-circulant
means
:L78: (ex B17 being (Matrix of ( len C23 ) , C22) st B17 is_col_circulant_about C23);
end;
definition
let C24 being non  empty set;
let C25 being (FinSequence of C24);
assume L80: C25 is  first-line-of-circulant;
func LCirc C25 -> (Matrix of ( len C25 ) , C24) means 
:L81: it is_line_circulant_about C25;
existence by L80 , L72;
uniqueness
proof
let C26 , C27 being (Matrix of ( len C25 ) , C24);
assume that
L82: C26 is_line_circulant_about C25
and
L83: C27 is_line_circulant_about C25;
L84: ( Indices C26 ) = ( Indices C27 ) by MATRIX_1:26;
L85: (for B18 , B19 being Nat holds ([ B18 , B19 ] in ( Indices C26 ) implies ( C26 * (B18 , B19) ) = ( C27 * (B18 , B19) )))
proof
let C28 , C29 being Nat;
assume L86: [ C28 , C29 ] in ( Indices C26 );
L87: ( C26 * (C28 , C29) ) = ( C25 . ( ( ( C29 - C28 ) mod ( len C25 ) ) + 1 ) ) by L86 , L82 , L68;
thus L88: thesis by L87 , L83 , L84 , L86 , L68;
end;
thus L89: thesis by L85 , MATRIX_1:27;
end;
end;
definition
let C30 being non  empty set;
let C31 being (FinSequence of C30);
assume L91: C31 is  first-col-of-circulant;
func CCirc C31 -> (Matrix of ( len C31 ) , C30) means 
:L92: it is_col_circulant_about C31;
existence by L91 , L78;
uniqueness
proof
let C32 , C33 being (Matrix of ( len C31 ) , C30);
assume that
L93: C32 is_col_circulant_about C31
and
L94: C33 is_col_circulant_about C31;
L95: ( Indices C32 ) = ( Indices C33 ) by MATRIX_1:26;
L96: (for B20 , B21 being Nat holds ([ B20 , B21 ] in ( Indices C32 ) implies ( C32 * (B20 , B21) ) = ( C33 * (B20 , B21) )))
proof
let C34 , C35 being Nat;
assume L97: [ C34 , C35 ] in ( Indices C32 );
L98: ( C32 * (C34 , C35) ) = ( C31 . ( ( ( C34 - C35 ) mod ( len C31 ) ) + 1 ) ) by L97 , L93 , L74;
thus L99: thesis by L98 , L94 , L95 , L97 , L74;
end;
thus L100: thesis by L96 , MATRIX_1:27;
end;
end;
registration
let C36 being Field;
cluster  first-line-of-circulant  first-col-of-circulant for (FinSequence of C36);
existence
proof
L102: ( 0. (C36 , 1 , 1) ) = ( 1 |-> ( 1 |-> ( 0. C36 ) ) );
set D3 = ( 0. (C36 , 1) );
take D4 = ( 1 |-> ( 0. C36 ) );
L103: ( len ( 1 |-> ( 0. C36 ) ) ) = 1 by CARD_1:def 7;
L104: ( Indices ( 0. (C36 , 1) ) ) = [: ( Seg 1 ) , ( Seg 1 ) :] by MATRIX_1:24;
L105: (for B22 , B23 being Nat holds ([ B22 , B23 ] in ( Indices D3 ) implies ( D3 * (B22 , B23) ) = ( D4 . ( ( ( B22 - B23 ) mod ( len D4 ) ) + 1 ) )))
proof
let C37 , C38 being Nat;
assume L106: [ C37 , C38 ] in ( Indices D3 );
L107: ( ( ( C37 - C38 ) mod 1 ) + 1 ) in ( Seg 1 ) by L106 , L104 , L34;
L108: ( ( ( Seg 1 ) --> ( 0. C36 ) ) . ( ( ( C37 - C38 ) mod 1 ) + 1 ) ) = ( 0. C36 ) by L107 , FUNCOP_1:7;
thus L109: thesis by L108 , L103 , L102 , L106 , MATRIX_3:1;
end;
L110: (for B24 , B25 being Nat holds ([ B24 , B25 ] in ( Indices D3 ) implies ( D3 * (B24 , B25) ) = ( D4 . ( ( ( B25 - B24 ) mod ( len D4 ) ) + 1 ) )))
proof
let C39 , C40 being Nat;
assume L111: [ C39 , C40 ] in ( Indices D3 );
L112: ( ( ( C40 - C39 ) mod 1 ) + 1 ) in ( Seg 1 ) by L111 , L104 , L34;
L113: ( ( ( Seg 1 ) --> ( 0. C36 ) ) . ( ( ( C40 - C39 ) mod 1 ) + 1 ) ) = ( 0. C36 ) by L112 , FUNCOP_1:7;
thus L114: thesis by L113 , L103 , L102 , L111 , MATRIX_3:1;
end;
L115: ( width ( 0. (C36 , 1) ) ) = 1 by MATRIX_1:24;
L116: D3 is_line_circulant_about D4 by L115 , L103 , L110 , L68;
thus L117: D4 is  first-line-of-circulant by L116 , L103 , L72;
L118: ( len ( 0. (C36 , 1) ) ) = 1 by MATRIX_1:24;
L119: D3 is_col_circulant_about D4 by L118 , L103 , L105 , L74;
thus L120: thesis by L119 , L103 , L78;
end;
end;
registration
let R6 being Field;
let R4 being (Element of ( NAT ));
cluster ( 0. (R6 , R4) ) ->  line_circulant  col_circulant;
coherence
proof
set D5 = ( R4 |-> ( 0. R6 ) );
L122: ( len ( 0. (R6 , R4) ) ) = R4 by MATRIX_1:24;
L123: ( 0. (R6 , R4 , R4) ) = ( R4 |-> ( R4 |-> ( 0. R6 ) ) );
set D6 = ( 0. (R6 , R4) );
L124: ( len ( R4 |-> ( 0. R6 ) ) ) = R4 by CARD_1:def 7;
L125: ( Indices ( 0. (R6 , R4) ) ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
L126: (for B26 , B27 being Nat holds ([ B26 , B27 ] in ( Indices D6 ) implies ( D6 * (B26 , B27) ) = ( D5 . ( ( ( B26 - B27 ) mod ( len D5 ) ) + 1 ) )))
proof
let C41 , C42 being Nat;
assume L127: [ C41 , C42 ] in ( Indices D6 );
L128: ( ( ( C41 - C42 ) mod R4 ) + 1 ) in ( Seg R4 ) by L127 , L125 , L34;
L129: ( ( ( C41 - C42 ) mod ( len D5 ) ) + 1 ) in ( Seg R4 ) by L128 , CARD_1:def 7;
L130: ( ( ( Seg R4 ) --> ( 0. R6 ) ) . ( ( ( C41 - C42 ) mod ( len D5 ) ) + 1 ) ) = ( 0. R6 ) by L129 , FUNCOP_1:7;
thus L131: thesis by L130 , L123 , L127 , MATRIX_3:1;
end;
L132: D6 is_col_circulant_about D5 by L126 , L122 , L124 , L74;
L133: ( width ( 0. (R6 , R4) ) ) = R4 by MATRIX_1:24;
thus L134: D6 is  line_circulant
proof
L135: (for B28 , B29 being Nat holds ([ B28 , B29 ] in ( Indices D6 ) implies ( D6 * (B28 , B29) ) = ( D5 . ( ( ( B29 - B28 ) mod ( len D5 ) ) + 1 ) )))
proof
let C43 , C44 being Nat;
assume L136: [ C43 , C44 ] in ( Indices D6 );
L137: ( ( ( C44 - C43 ) mod R4 ) + 1 ) in ( Seg R4 ) by L136 , L125 , L34;
L138: ( ( ( Seg R4 ) --> ( 0. R6 ) ) . ( ( ( C44 - C43 ) mod R4 ) + 1 ) ) = ( 0. R6 ) by L137 , FUNCOP_1:7;
thus L139: thesis by L138 , L124 , L123 , L136 , MATRIX_3:1;
end;
L140: D6 is_line_circulant_about D5 by L135 , L133 , L124 , L68;
consider C45 being (FinSequence of R6) such that L141: (( len C45 ) = ( width D6 ) & D6 is_line_circulant_about C45) by L140 , L133 , L124;
take C45;
thus L142: thesis by L141;
end;

consider C46 being (FinSequence of R6) such that L143: (( len C46 ) = ( len D6 ) & D6 is_col_circulant_about C46) by L122 , L124 , L132;
take C46;
thus L144: thesis by L143;
end;
end;
registration
let R6 being Field;
let R4 being (Element of ( NAT ));
let C47 being (Element of R6);
cluster ( (R4 , R4) --> C47 ) ->  line_circulant for (Matrix of R4 , R6);
coherence
proof
set D7 = ( R4 |-> C47 );
L146: (( width ( (R4 , R4) --> C47 ) ) = R4 & ( len D7 ) = R4) by CARD_1:def 7 , MATRIX_1:24;
L147: ( Indices ( (R4 , R4) --> C47 ) ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
L148: (for B30 , B31 being Nat holds ([ B30 , B31 ] in ( Indices ( (R4 , R4) --> C47 ) ) implies ( ( (R4 , R4) --> C47 ) * (B30 , B31) ) = ( D7 . ( ( ( B31 - B30 ) mod ( len D7 ) ) + 1 ) )))
proof
let C48 , C49 being Nat;
assume L149: [ C48 , C49 ] in ( Indices ( (R4 , R4) --> C47 ) );
L150: ( ( ( C49 - C48 ) mod R4 ) + 1 ) in ( Seg R4 ) by L149 , L147 , L34;
L151: ( ( ( C49 - C48 ) mod ( len D7 ) ) + 1 ) in ( Seg R4 ) by L150 , CARD_1:def 7;
L152: ( ( ( Seg R4 ) --> C47 ) . ( ( ( C49 - C48 ) mod ( len D7 ) ) + 1 ) ) = C47 by L151 , FUNCOP_1:7;
thus L153: thesis by L152 , L149 , MATRIX_2:1;
end;
L154: ( (R4 , R4) --> C47 ) is_line_circulant_about D7 by L148 , L146 , L68;
thus L155: thesis by L154 , L146 , L70;
end;
cluster ( (R4 , R4) --> C47 ) ->  col_circulant for (Matrix of R4 , R6);
coherence
proof
set D8 = ( (R4 , R4) --> C47 );
set D9 = ( R4 |-> C47 );
L156: (( len ( (R4 , R4) --> C47 ) ) = R4 & ( len D9 ) = R4) by CARD_1:def 7 , MATRIX_1:24;
L157: ( Indices ( (R4 , R4) --> C47 ) ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
L158: (for B32 , B33 being Nat holds ([ B32 , B33 ] in ( Indices D8 ) implies ( D8 * (B32 , B33) ) = ( D9 . ( ( ( B32 - B33 ) mod ( len D9 ) ) + 1 ) )))
proof
let C50 , C51 being Nat;
assume L159: [ C50 , C51 ] in ( Indices D8 );
L160: ( ( ( C50 - C51 ) mod R4 ) + 1 ) in ( Seg R4 ) by L159 , L157 , L34;
L161: ( ( ( C50 - C51 ) mod ( len D9 ) ) + 1 ) in ( Seg R4 ) by L160 , CARD_1:def 7;
L162: ( ( ( Seg R4 ) --> C47 ) . ( ( ( C50 - C51 ) mod ( len D9 ) ) + 1 ) ) = C47 by L161 , FUNCOP_1:7;
thus L163: thesis by L162 , L159 , MATRIX_2:1;
end;
L164: D8 is_col_circulant_about D9 by L158 , L156 , L74;
thus L165: thesis by L164 , L156 , L76;
end;
end;
registration
let R6 being Field;
cluster  line_circulant  col_circulant for (Matrix of R6);
existence
proof
take ( (1 , 1) --> ( 0. R6 ) );
thus L167: thesis;
end;
end;
theorem
L169: (for R4 being (Element of ( NAT )) holds (for R15 being non  empty set holds (for R17 being (Matrix of R4 , R15) holds ((R17 is  line_circulant & R4 > ( 0 )) implies ( R17 @ ) is  col_circulant))))
proof
let R4 being (Element of ( NAT ));
let R15 being non  empty set;
let R17 being (Matrix of R4 , R15);
assume that
L170: R17 is  line_circulant
and
L171: R4 > ( 0 );
consider C52 being (FinSequence of R15) such that L172: ( len C52 ) = ( width R17 ) and L173: R17 is_line_circulant_about C52 by L170 , L70;
L174: ( width R17 ) = R4 by MATRIX_1:24;
L175: ( len ( R17 @ ) ) = ( len C52 ) by L174 , L171 , L172 , MATRIX_2:10;
L176: (for B34 , B35 being Nat holds ([ B34 , B35 ] in ( Indices ( R17 @ ) ) implies ( ( R17 @ ) * (B34 , B35) ) = ( C52 . ( ( ( B34 - B35 ) mod ( len C52 ) ) + 1 ) )))
proof
let C53 , C54 being Nat;
L177: ( Indices R17 ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
assume L178: [ C53 , C54 ] in ( Indices ( R17 @ ) );
L179: [ C53 , C54 ] in ( Indices R17 ) by L178 , MATRIX_1:26;
L180: (C53 in ( Seg R4 ) & C54 in ( Seg R4 )) by L179 , L177 , ZFMISC_1:87;
L181: [ C54 , C53 ] in ( Indices R17 ) by L180 , L177 , ZFMISC_1:87;
L182: ( ( R17 @ ) * (C53 , C54) ) = ( R17 * (C54 , C53) ) by L181 , MATRIX_1:def 6;
thus L183: thesis by L182 , L173 , L181 , L68;
end;
L184: ( R17 @ ) is_col_circulant_about C52 by L176 , L175 , L74;
consider C55 being (FinSequence of R15) such that L185: (( len C55 ) = ( len ( R17 @ ) ) & ( R17 @ ) is_col_circulant_about C55) by L184 , L175;
take C55;
thus L186: thesis by L185;
end;
theorem
L187: (for R4 being (Element of ( NAT )) holds (for R15 being non  empty set holds (for R16 being (FinSequence of R15) holds (for R17 being (Matrix of R4 , R15) holds ((R17 is_line_circulant_about R16 & R4 > ( 0 )) implies R16 = ( Line (R17 , 1) ))))))
proof
let R4 being (Element of ( NAT ));
let R15 being non  empty set;
let R16 being (FinSequence of R15);
let R17 being (Matrix of R4 , R15);
assume that
L188: R17 is_line_circulant_about R16
and
L189: R4 > ( 0 );
L190: ( width R17 ) = R4 by MATRIX_1:24;
L191: (( dom R16 ) = ( Seg ( len R16 ) ) & ( len R16 ) = R4) by L190 , L188 , L68 , FINSEQ_1:def 3;
L192: (for B36 being Nat holds (B36 in ( dom R16 ) implies ( R16 . B36 ) = ( ( Line (R17 , 1) ) . B36 )))
proof
let C56 being Nat;
assume L193: C56 in ( dom R16 );
L194: (1 <= C56 & C56 <= R4) by L193 , L191 , FINSEQ_1:1;
L195: R4 >= ( ( 0 ) + 1 ) by L189 , INT_1:7;
L196: 1 in ( Seg R4 ) by L195;
L197: [ 1 , C56 ] in [: ( Seg R4 ) , ( Seg R4 ) :] by L196 , L191 , L193 , ZFMISC_1:def 2;
L198: [ 1 , C56 ] in ( Indices R17 ) by L197 , MATRIX_1:24;
L199: ( ( Line (R17 , 1) ) . C56 ) = ( R17 * (1 , C56) ) by L190 , L191 , L193 , MATRIX_1:def 7
.= ( R16 . ( ( ( C56 - 1 ) mod ( len R16 ) ) + 1 ) ) by L188 , L198 , L68
.= ( R16 . ( ( ( C56 - 1 ) mod R4 ) + 1 ) ) by L188 , L190 , L68
.= ( R16 . ( ( C56 - 1 ) + 1 ) ) by L194 , L1;
thus L200: thesis by L199;
end;
L201: ( len ( Line (R17 , 1) ) ) = R4 by L190 , MATRIX_1:def 7;
L202: ( dom ( Line (R17 , 1) ) ) = ( dom R16 ) by L201 , L191 , FINSEQ_1:def 3;
thus L203: thesis by L202 , L192 , FINSEQ_1:13;
end;
theorem
L204: (for R1 being (Element of ( NAT )) holds (for R2 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds (for R4 being (Element of ( NAT )) holds (for R5 being (Element of ( NAT )) holds (for R15 being non  empty set holds (for R17 being (Matrix of R4 , R15) holds ((R17 is  line_circulant & [ R1 , R2 ] in [: ( Seg R4 ) , ( Seg R4 ) :] & R3 = ( R1 + 1 ) & R5 = ( R2 + 1 ) & R1 < R4 & R2 < R4) implies ( R17 * (R1 , R2) ) = ( R17 * (R3 , R5) )))))))))
proof
let R1 being (Element of ( NAT ));
let R2 being (Element of ( NAT ));
let R3 being (Element of ( NAT ));
let R4 being (Element of ( NAT ));
let R5 being (Element of ( NAT ));
let R15 being non  empty set;
let R17 being (Matrix of R4 , R15);
assume that
L205: R17 is  line_circulant
and
L206: [ R1 , R2 ] in [: ( Seg R4 ) , ( Seg R4 ) :]
and
L207: R3 = ( R1 + 1 )
and
L208: R5 = ( R2 + 1 )
and
L209: R1 < R4
and
L210: R2 < R4;
consider C57 being (FinSequence of R15) such that L211: ( len C57 ) = ( width R17 ) and L212: R17 is_line_circulant_about C57 by L205 , L70;
L213: ( Indices R17 ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
L214: R2 in ( Seg R4 ) by L206 , ZFMISC_1:87;
L215: 1 <= R2 by L214 , FINSEQ_1:1;
L216: ( 1 + 1 ) <= ( R2 + 1 ) by L215 , XREAL_1:6;
L217: 1 <= ( R2 + 1 ) by L216 , XXREAL_0:2;
L218: ( R2 + 1 ) <= R4 by L210 , INT_1:7;
L219: R5 in ( Seg R4 ) by L218 , L208 , L217;
L220: R1 in ( Seg R4 ) by L206 , ZFMISC_1:87;
L221: 1 <= R1 by L220 , FINSEQ_1:1;
L222: ( 1 + 1 ) <= ( R1 + 1 ) by L221 , XREAL_1:6;
L223: 1 <= ( R1 + 1 ) by L222 , XXREAL_0:2;
L224: ( R1 + 1 ) <= R4 by L209 , INT_1:7;
L225: R3 in ( Seg R4 ) by L224 , L207 , L223;
L226: [ R3 , R5 ] in ( Indices R17 ) by L225 , L213 , L219 , ZFMISC_1:87;
L227: ( R17 * (R3 , R5) ) = ( C57 . ( ( ( R5 - R3 ) mod ( len C57 ) ) + 1 ) ) by L226 , L212 , L68
.= ( C57 . ( ( ( R2 - R1 ) mod ( len C57 ) ) + 1 ) ) by L207 , L208
.= ( R17 * (R1 , R2) ) by L206 , L212 , L213 , L68;
thus L228: thesis by L227;
end;
theorem
L229: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R7 being (Element of R6) holds (for R12 being (Matrix of R4 , R6) holds (R12 is  line_circulant implies ( R7 * R12 ) is  line_circulant)))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R7 being (Element of R6);
let R12 being (Matrix of R4 , R6);
L230: ( Indices ( R7 * R12 ) ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
assume L231: R12 is  line_circulant;
consider C58 being (FinSequence of R6) such that L232: ( len C58 ) = ( width R12 ) and L233: R12 is_line_circulant_about C58 by L231 , L70;
L234: ( width R12 ) = R4 by MATRIX_1:24;
L235: ( dom C58 ) = ( Seg R4 ) by L234 , L232 , FINSEQ_1:def 3;
L236: ( dom ( R7 * C58 ) ) = ( Seg ( len ( R7 * C58 ) ) ) by FINSEQ_1:def 3;
L237: (for B37 , B38 being Nat holds ([ B37 , B38 ] in ( Indices ( R7 * R12 ) ) implies ( ( R7 * R12 ) * (B37 , B38) ) = ( ( R7 * C58 ) . ( ( ( B38 - B37 ) mod ( len ( R7 * C58 ) ) ) + 1 ) )))
proof
let C59 , C60 being Nat;
assume L238: [ C59 , C60 ] in ( Indices ( R7 * R12 ) );
L239: ( ( ( C60 - C59 ) mod R4 ) + 1 ) in ( Seg R4 ) by L238 , L230 , L34;
L240: ( ( ( C60 - C59 ) mod ( len C58 ) ) + 1 ) in ( dom ( R7 * C58 ) ) by L239 , L232 , L234 , L236 , MATRIXR1:16;
L241: [ C59 , C60 ] in ( Indices R12 ) by L230 , L238 , MATRIX_1:24;
L242: ( ( R7 * R12 ) * (C59 , C60) ) = ( R7 * ( R12 * (C59 , C60) ) ) by L241 , MATRIX_3:def 5
.= ( ( R7 multfield ) . ( R12 * (C59 , C60) ) ) by FVSUM_1:49
.= ( ( R7 multfield ) . ( C58 . ( ( ( C60 - C59 ) mod ( len C58 ) ) + 1 ) ) ) by L233 , L241 , L68
.= ( ( R7 multfield ) . ( C58 /. ( ( ( C60 - C59 ) mod ( len C58 ) ) + 1 ) ) ) by L232 , L234 , L235 , L239 , PARTFUN1:def 6
.= ( R7 * ( C58 /. ( ( ( C60 - C59 ) mod ( len C58 ) ) + 1 ) ) ) by FVSUM_1:49
.= ( ( R7 * C58 ) /. ( ( ( C60 - C59 ) mod ( len C58 ) ) + 1 ) ) by L232 , L234 , L235 , L239 , POLYNOM1:def 1
.= ( ( R7 * C58 ) . ( ( ( C60 - C59 ) mod ( len C58 ) ) + 1 ) ) by L240 , PARTFUN1:def 6;
thus L243: thesis by L242 , MATRIXR1:16;
end;
L244: (( width ( R7 * R12 ) ) = R4 & ( len ( R7 * C58 ) ) = ( len C58 )) by MATRIXR1:16 , MATRIX_1:24;
L245: ( len C58 ) = R4 by L232 , MATRIX_1:24;
L246: ( R7 * R12 ) is_line_circulant_about ( R7 * C58 ) by L245 , L244 , L237 , L68;
consider C61 being (FinSequence of R6) such that L247: (( len C61 ) = ( width ( R7 * R12 ) ) & ( R7 * R12 ) is_line_circulant_about C61) by L246 , L232 , L244 , MATRIX_1:24;
take C61;
thus L248: thesis by L247;
end;
theorem
L249: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R12 being (Matrix of R4 , R6) holds (for R13 being (Matrix of R4 , R6) holds ((R12 is  line_circulant & R13 is  line_circulant) implies ( R12 + R13 ) is  line_circulant)))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R12 being (Matrix of R4 , R6);
let R13 being (Matrix of R4 , R6);
assume that
L250: R12 is  line_circulant
and
L251: R13 is  line_circulant;
consider C62 being (FinSequence of R6) such that L252: ( len C62 ) = ( width R12 ) and L253: R12 is_line_circulant_about C62 by L250 , L70;
L254: ( Indices R13 ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
L255: ( Indices ( R12 + R13 ) ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
L256: ( width R12 ) = R4 by MATRIX_1:24;
L257: ( dom C62 ) = ( Seg R4 ) by L256 , L252 , FINSEQ_1:def 3;
consider C63 being (FinSequence of R6) such that L258: ( len C63 ) = ( width R13 ) and L259: R13 is_line_circulant_about C63 by L251 , L70;
L260: ( Indices R12 ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
L261: ( width R13 ) = R4 by MATRIX_1:24;
L262: ( dom C63 ) = ( Seg R4 ) by L261 , L258 , FINSEQ_1:def 3;
L263: ( dom ( C62 + C63 ) ) = ( dom C62 ) by L262 , L257 , POLYNOM1:1;
L264: ( len ( C62 + C63 ) ) = R4 by L263 , L257 , FINSEQ_1:def 3;
L265: ( width ( R12 + R13 ) ) = R4 by MATRIX_1:24;
L266: ( dom ( C62 + C63 ) ) = ( Seg ( len ( C62 + C63 ) ) ) by FINSEQ_1:def 3;
L267: (for B39 , B40 being Nat holds ([ B39 , B40 ] in ( Indices ( R12 + R13 ) ) implies ( ( R12 + R13 ) * (B39 , B40) ) = ( ( C62 + C63 ) . ( ( ( B40 - B39 ) mod ( len ( C62 + C63 ) ) ) + 1 ) )))
proof
let C64 , C65 being Nat;
assume L268: [ C64 , C65 ] in ( Indices ( R12 + R13 ) );
L269: ( ( ( C65 - C64 ) mod ( len ( C62 + C63 ) ) ) + 1 ) in ( dom ( C62 + C63 ) ) by L268 , L255 , L257 , L266 , L263 , L34;
L270: ( ( R12 + R13 ) * (C64 , C65) ) = ( ( R12 * (C64 , C65) ) + ( R13 * (C64 , C65) ) ) by L260 , L255 , L268 , MATRIX_3:def 3
.= ( (the addF of R6) . (( R12 * (C64 , C65) ) , ( C63 . ( ( ( C65 - C64 ) mod ( len C63 ) ) + 1 ) )) ) by L259 , L254 , L255 , L268 , L68
.= ( (the addF of R6) . (( C62 . ( ( ( C65 - C64 ) mod ( len ( C62 + C63 ) ) ) + 1 ) ) , ( C63 . ( ( ( C65 - C64 ) mod ( len ( C62 + C63 ) ) ) + 1 ) )) ) by L252 , L253 , L258 , L260 , L256 , L261 , L255 , L264 , L268 , L68
.= ( ( C62 + C63 ) . ( ( ( C65 - C64 ) mod ( len ( C62 + C63 ) ) ) + 1 ) ) by L269 , FUNCOP_1:22;
thus L271: thesis by L270;
end;
L272: ( R12 + R13 ) is_line_circulant_about ( C62 + C63 ) by L267 , L265 , L264 , L68;
consider C66 being (FinSequence of R6) such that L273: (( len C66 ) = ( width ( R12 + R13 ) ) & ( R12 + R13 ) is_line_circulant_about C66) by L272 , L265 , L264;
take C66;
thus L274: thesis by L273;
end;
theorem
L275: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R12 being (Matrix of R4 , R6) holds (for R13 being (Matrix of R4 , R6) holds (for R14 being (Matrix of R4 , R6) holds ((R12 is  line_circulant & R13 is  line_circulant & R14 is  line_circulant) implies ( ( R12 + R13 ) + R14 ) is  line_circulant))))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R12 being (Matrix of R4 , R6);
let R13 being (Matrix of R4 , R6);
let R14 being (Matrix of R4 , R6);
assume that
L276: (R12 is  line_circulant & R13 is  line_circulant)
and
L277: R14 is  line_circulant;
L278: ( R12 + R13 ) is  line_circulant by L276 , L249;
thus L279: thesis by L278 , L277 , L249;
end;
theorem
L280: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R7 being (Element of R6) holds (for R8 being (Element of R6) holds (for R12 being (Matrix of R4 , R6) holds (for R13 being (Matrix of R4 , R6) holds ((R12 is  line_circulant & R13 is  line_circulant) implies ( ( R7 * R12 ) + ( R8 * R13 ) ) is  line_circulant)))))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R7 being (Element of R6);
let R8 being (Element of R6);
let R12 being (Matrix of R4 , R6);
let R13 being (Matrix of R4 , R6);
assume L281: (R12 is  line_circulant & R13 is  line_circulant);
L282: (( R7 * R12 ) is  line_circulant & ( R8 * R13 ) is  line_circulant) by L281 , L229;
thus L283: thesis by L282 , L249;
end;
theorem
L284: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R7 being (Element of R6) holds (for R8 being (Element of R6) holds (for R9 being (Element of R6) holds (for R12 being (Matrix of R4 , R6) holds (for R13 being (Matrix of R4 , R6) holds (for R14 being (Matrix of R4 , R6) holds ((R12 is  line_circulant & R13 is  line_circulant & R14 is  line_circulant) implies ( ( ( R7 * R12 ) + ( R8 * R13 ) ) + ( R9 * R14 ) ) is  line_circulant)))))))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R7 being (Element of R6);
let R8 being (Element of R6);
let R9 being (Element of R6);
let R12 being (Matrix of R4 , R6);
let R13 being (Matrix of R4 , R6);
let R14 being (Matrix of R4 , R6);
assume that
L285: (R12 is  line_circulant & R13 is  line_circulant)
and
L286: R14 is  line_circulant;
L287: ( R9 * R14 ) is  line_circulant by L286 , L229;
L288: (( R7 * R12 ) is  line_circulant & ( R8 * R13 ) is  line_circulant) by L285 , L229;
thus L289: thesis by L288 , L287 , L275;
end;
theorem
L290: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R12 being (Matrix of R4 , R6) holds (R12 is  line_circulant implies ( - R12 ) is  line_circulant))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R12 being (Matrix of R4 , R6);
L291: ( width R12 ) = R4 by MATRIX_1:24;
L292: ( Indices ( - R12 ) ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
assume L293: R12 is  line_circulant;
consider C67 being (FinSequence of R6) such that L294: ( len C67 ) = ( width R12 ) and L295: R12 is_line_circulant_about C67 by L293 , L70;
L296: C67 is (Element of ( ( len C67 ) -tuples_on (the carrier of R6) )) by FINSEQ_2:92;
L297: ( - C67 ) is (Element of ( ( len C67 ) -tuples_on (the carrier of R6) )) by L296 , FINSEQ_2:113;
L298: (( width ( - R12 ) ) = R4 & ( len ( - C67 ) ) = ( len C67 )) by L297 , CARD_1:def 7 , MATRIX_1:24;
L299: ( Indices R12 ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
L300: (for B41 , B42 being Nat holds ([ B41 , B42 ] in ( Indices ( - R12 ) ) implies ( ( - R12 ) * (B41 , B42) ) = ( ( - C67 ) . ( ( ( B42 - B41 ) mod ( len ( - C67 ) ) ) + 1 ) )))
proof
let C68 , C69 being Nat;
assume L301: [ C68 , C69 ] in ( Indices ( - R12 ) );
L302: ( ( ( C69 - C68 ) mod R4 ) + 1 ) in ( Seg R4 ) by L301 , L292 , L34;
L303: ( ( ( C69 - C68 ) mod ( len C67 ) ) + 1 ) in ( dom C67 ) by L302 , L294 , L291 , FINSEQ_1:def 3;
L304: ( ( - R12 ) * (C68 , C69) ) = ( - ( R12 * (C68 , C69) ) ) by L299 , L292 , L301 , MATRIX_3:def 2
.= ( ( comp R6 ) . ( R12 * (C68 , C69) ) ) by VECTSP_1:def 13
.= ( ( comp R6 ) . ( C67 . ( ( ( C69 - C68 ) mod ( len C67 ) ) + 1 ) ) ) by L295 , L299 , L292 , L301 , L68
.= ( ( - C67 ) . ( ( ( C69 - C68 ) mod ( len C67 ) ) + 1 ) ) by L303 , FUNCT_1:13;
thus L305: thesis by L304 , L297 , CARD_1:def 7;
end;
L306: ( - R12 ) is_line_circulant_about ( - C67 ) by L300 , L294 , L291 , L298 , L68;
consider C70 being (FinSequence of R6) such that L307: (( len C70 ) = ( width ( - R12 ) ) & ( - R12 ) is_line_circulant_about C70) by L306 , L294 , L298 , MATRIX_1:24;
take C70;
thus L308: thesis by L307;
end;
theorem
L309: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R12 being (Matrix of R4 , R6) holds (for R13 being (Matrix of R4 , R6) holds ((R12 is  line_circulant & R13 is  line_circulant) implies ( R12 - R13 ) is  line_circulant)))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R12 being (Matrix of R4 , R6);
let R13 being (Matrix of R4 , R6);
assume that
L310: R12 is  line_circulant
and
L311: R13 is  line_circulant;
L312: ( - R13 ) is  line_circulant by L311 , L290;
thus L313: thesis by L312 , L310 , L249;
end;
theorem
L314: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R7 being (Element of R6) holds (for R8 being (Element of R6) holds (for R12 being (Matrix of R4 , R6) holds (for R13 being (Matrix of R4 , R6) holds ((R12 is  line_circulant & R13 is  line_circulant) implies ( ( R7 * R12 ) - ( R8 * R13 ) ) is  line_circulant)))))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R7 being (Element of R6);
let R8 being (Element of R6);
let R12 being (Matrix of R4 , R6);
let R13 being (Matrix of R4 , R6);
assume that
L315: R12 is  line_circulant
and
L316: R13 is  line_circulant;
L317: ( R8 * R13 ) is  line_circulant by L316 , L229;
L318: ( - ( R8 * R13 ) ) is  line_circulant by L317 , L290;
L319: ( R7 * R12 ) is  line_circulant by L315 , L229;
thus L320: thesis by L319 , L318 , L249;
end;
theorem
L321: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R7 being (Element of R6) holds (for R8 being (Element of R6) holds (for R9 being (Element of R6) holds (for R12 being (Matrix of R4 , R6) holds (for R13 being (Matrix of R4 , R6) holds (for R14 being (Matrix of R4 , R6) holds ((R12 is  line_circulant & R13 is  line_circulant & R14 is  line_circulant) implies ( ( ( R7 * R12 ) + ( R8 * R13 ) ) - ( R9 * R14 ) ) is  line_circulant)))))))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R7 being (Element of R6);
let R8 being (Element of R6);
let R9 being (Element of R6);
let R12 being (Matrix of R4 , R6);
let R13 being (Matrix of R4 , R6);
let R14 being (Matrix of R4 , R6);
assume that
L322: (R12 is  line_circulant & R13 is  line_circulant)
and
L323: R14 is  line_circulant;
L324: ( R9 * R14 ) is  line_circulant by L323 , L229;
L325: ( - ( R9 * R14 ) ) is  line_circulant by L324 , L290;
L326: (( R7 * R12 ) is  line_circulant & ( R8 * R13 ) is  line_circulant) by L322 , L229;
L327: ( ( R7 * R12 ) + ( R8 * R13 ) ) is  line_circulant by L326 , L249;
thus L328: thesis by L327 , L325 , L249;
end;
theorem
L329: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R7 being (Element of R6) holds (for R8 being (Element of R6) holds (for R9 being (Element of R6) holds (for R12 being (Matrix of R4 , R6) holds (for R13 being (Matrix of R4 , R6) holds (for R14 being (Matrix of R4 , R6) holds ((R12 is  line_circulant & R13 is  line_circulant & R14 is  line_circulant) implies ( ( ( R7 * R12 ) - ( R8 * R13 ) ) - ( R9 * R14 ) ) is  line_circulant)))))))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R7 being (Element of R6);
let R8 being (Element of R6);
let R9 being (Element of R6);
let R12 being (Matrix of R4 , R6);
let R13 being (Matrix of R4 , R6);
let R14 being (Matrix of R4 , R6);
assume that
L330: (R12 is  line_circulant & R13 is  line_circulant)
and
L331: R14 is  line_circulant;
L332: ( R9 * R14 ) is  line_circulant by L331 , L229;
L333: ( - ( R9 * R14 ) ) is  line_circulant by L332 , L290;
L334: ( ( R7 * R12 ) - ( R8 * R13 ) ) is  line_circulant by L330 , L314;
thus L335: thesis by L334 , L333 , L249;
end;
theorem
L336: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R7 being (Element of R6) holds (for R8 being (Element of R6) holds (for R9 being (Element of R6) holds (for R12 being (Matrix of R4 , R6) holds (for R13 being (Matrix of R4 , R6) holds (for R14 being (Matrix of R4 , R6) holds ((R12 is  line_circulant & R13 is  line_circulant & R14 is  line_circulant) implies ( ( ( R7 * R12 ) - ( R8 * R13 ) ) + ( R9 * R14 ) ) is  line_circulant)))))))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R7 being (Element of R6);
let R8 being (Element of R6);
let R9 being (Element of R6);
let R12 being (Matrix of R4 , R6);
let R13 being (Matrix of R4 , R6);
let R14 being (Matrix of R4 , R6);
assume L337: (R12 is  line_circulant & R13 is  line_circulant & R14 is  line_circulant);
L338: (( R9 * R14 ) is  line_circulant & ( ( R7 * R12 ) - ( R8 * R13 ) ) is  line_circulant) by L337 , L229 , L314;
thus L339: thesis by L338 , L249;
end;
theorem
L340: (for R4 being (Element of ( NAT )) holds (for R15 being non  empty set holds (for R17 being (Matrix of R4 , R15) holds ((R17 is  col_circulant & R4 > ( 0 )) implies ( R17 @ ) is  line_circulant))))
proof
let R4 being (Element of ( NAT ));
let R15 being non  empty set;
let R17 being (Matrix of R4 , R15);
assume that
L341: R17 is  col_circulant
and
L342: R4 > ( 0 );
consider C71 being (FinSequence of R15) such that L343: ( len C71 ) = ( len R17 ) and L344: R17 is_col_circulant_about C71 by L341 , L76;
L345: ( width R17 ) = R4 by MATRIX_1:24;
L346: ( width ( R17 @ ) ) = ( len C71 ) by L345 , L342 , L343 , MATRIX_2:10;
L347: (for B43 , B44 being Nat holds ([ B43 , B44 ] in ( Indices ( R17 @ ) ) implies ( ( R17 @ ) * (B43 , B44) ) = ( C71 . ( ( ( B44 - B43 ) mod ( len C71 ) ) + 1 ) )))
proof
let C72 , C73 being Nat;
L348: ( Indices R17 ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
assume L349: [ C72 , C73 ] in ( Indices ( R17 @ ) );
L350: [ C72 , C73 ] in ( Indices R17 ) by L349 , MATRIX_1:26;
L351: (C72 in ( Seg R4 ) & C73 in ( Seg R4 )) by L350 , L348 , ZFMISC_1:87;
L352: [ C73 , C72 ] in ( Indices R17 ) by L351 , L348 , ZFMISC_1:87;
L353: ( ( R17 @ ) * (C72 , C73) ) = ( R17 * (C73 , C72) ) by L352 , MATRIX_1:def 6;
thus L354: thesis by L353 , L344 , L352 , L74;
end;
L355: ( R17 @ ) is_line_circulant_about C71 by L347 , L346 , L68;
consider C74 being (FinSequence of R15) such that L356: (( len C74 ) = ( width ( R17 @ ) ) & ( R17 @ ) is_line_circulant_about C74) by L355 , L346;
take C74;
thus L357: thesis by L356;
end;
theorem
L358: (for R4 being (Element of ( NAT )) holds (for R15 being non  empty set holds (for R16 being (FinSequence of R15) holds (for R17 being (Matrix of R4 , R15) holds ((R17 is_col_circulant_about R16 & R4 > ( 0 )) implies R16 = ( Col (R17 , 1) ))))))
proof
let R4 being (Element of ( NAT ));
let R15 being non  empty set;
let R16 being (FinSequence of R15);
let R17 being (Matrix of R4 , R15);
assume that
L359: R17 is_col_circulant_about R16
and
L360: R4 > ( 0 );
L361: ( len R17 ) = R4 by MATRIX_1:24;
L362: ( len R16 ) = R4 by L361 , L359 , L74;
L363: ( dom R16 ) = ( Seg ( len R16 ) ) by FINSEQ_1:def 3;
L364: ( len ( Col (R17 , 1) ) ) = R4 by L361 , MATRIX_1:def 8;
L365: ( dom ( Col (R17 , 1) ) ) = ( dom R16 ) by L364 , L363 , L362 , FINSEQ_1:def 3;
L366: (for B45 being Nat holds (B45 in ( dom R16 ) implies ( R16 . B45 ) = ( ( Col (R17 , 1) ) . B45 )))
proof
let C75 being Nat;
assume L367: C75 in ( dom R16 );
L368: (1 <= C75 & C75 <= R4) by L367 , L363 , L362 , FINSEQ_1:1;
L369: R4 >= ( ( 0 ) + 1 ) by L360 , INT_1:7;
L370: 1 in ( Seg R4 ) by L369;
L371: [ C75 , 1 ] in [: ( Seg R4 ) , ( Seg R4 ) :] by L370 , L363 , L362 , L367 , ZFMISC_1:def 2;
L372: [ C75 , 1 ] in ( Indices R17 ) by L371 , MATRIX_1:24;
L373: ( len ( Col (R17 , 1) ) ) = ( len R17 ) by MATRIX_1:def 8;
L374: ( dom ( Col (R17 , 1) ) ) = ( Seg ( len R17 ) ) by L373 , FINSEQ_1:def 3;
L375: C75 in ( dom R17 ) by L374 , L365 , L367 , FINSEQ_1:def 3;
L376: ( ( Col (R17 , 1) ) . C75 ) = ( R17 * (C75 , 1) ) by L375 , MATRIX_1:def 8
.= ( R16 . ( ( ( C75 - 1 ) mod ( len R16 ) ) + 1 ) ) by L359 , L372 , L74
.= ( R16 . ( ( C75 - 1 ) + 1 ) ) by L362 , L368 , L1;
thus L377: thesis by L376;
end;
thus L378: thesis by L366 , L365 , FINSEQ_1:13;
end;
theorem
L379: (for R1 being (Element of ( NAT )) holds (for R2 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds (for R4 being (Element of ( NAT )) holds (for R5 being (Element of ( NAT )) holds (for R15 being non  empty set holds (for R17 being (Matrix of R4 , R15) holds ((R17 is  col_circulant & [ R1 , R2 ] in [: ( Seg R4 ) , ( Seg R4 ) :] & R3 = ( R1 + 1 ) & R5 = ( R2 + 1 ) & R1 < R4 & R2 < R4) implies ( R17 * (R1 , R2) ) = ( R17 * (R3 , R5) )))))))))
proof
let R1 being (Element of ( NAT ));
let R2 being (Element of ( NAT ));
let R3 being (Element of ( NAT ));
let R4 being (Element of ( NAT ));
let R5 being (Element of ( NAT ));
let R15 being non  empty set;
let R17 being (Matrix of R4 , R15);
assume that
L380: R17 is  col_circulant
and
L381: [ R1 , R2 ] in [: ( Seg R4 ) , ( Seg R4 ) :]
and
L382: R3 = ( R1 + 1 )
and
L383: R5 = ( R2 + 1 )
and
L384: R1 < R4
and
L385: R2 < R4;
L386: [ R1 , R2 ] in ( Indices R17 ) by L381 , MATRIX_1:24;
L387: R2 in ( Seg R4 ) by L381 , ZFMISC_1:87;
L388: 1 <= R2 by L387 , FINSEQ_1:1;
L389: ( 1 + 1 ) <= ( R2 + 1 ) by L388 , XREAL_1:6;
L390: 1 <= R5 by L389 , L383 , XXREAL_0:2;
L391: R5 <= R4 by L383 , L385 , INT_1:7;
L392: R5 in ( Seg R4 ) by L391 , L390;
L393: R1 in ( Seg R4 ) by L381 , ZFMISC_1:87;
L394: 1 <= R1 by L393 , FINSEQ_1:1;
L395: ( 1 + 1 ) <= ( R1 + 1 ) by L394 , XREAL_1:6;
L396: 1 <= R3 by L395 , L382 , XXREAL_0:2;
consider C76 being (FinSequence of R15) such that L397: ( len C76 ) = ( len R17 ) and L398: R17 is_col_circulant_about C76 by L380 , L76;
L399: R3 <= R4 by L382 , L384 , INT_1:7;
L400: (( Indices R17 ) = [: ( Seg R4 ) , ( Seg R4 ) :] & R3 in ( Seg R4 )) by L399 , L396 , MATRIX_1:24;
L401: [ R3 , R5 ] in ( Indices R17 ) by L400 , L392 , ZFMISC_1:87;
L402: ( R17 * (R3 , R5) ) = ( C76 . ( ( ( R3 - R5 ) mod ( len C76 ) ) + 1 ) ) by L401 , L398 , L74
.= ( C76 . ( ( ( R1 - R2 ) mod ( len C76 ) ) + 1 ) ) by L382 , L383
.= ( R17 * (R1 , R2) ) by L398 , L386 , L74;
thus L403: thesis by L402;
end;
theorem
L404: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R7 being (Element of R6) holds (for R12 being (Matrix of R4 , R6) holds (R12 is  col_circulant implies ( R7 * R12 ) is  col_circulant)))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R7 being (Element of R6);
let R12 being (Matrix of R4 , R6);
L405: ( Indices R12 ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
assume L406: R12 is  col_circulant;
consider C77 being (FinSequence of R6) such that L407: ( len C77 ) = ( len R12 ) and L408: R12 is_col_circulant_about C77 by L406 , L76;
L409: ( len R12 ) = R4 by MATRIX_1:24;
L410: ( dom C77 ) = ( Seg R4 ) by L409 , L407 , FINSEQ_1:def 3;
L411: ( len ( R7 * C77 ) ) = ( len C77 ) by MATRIXR1:16;
L412: ( dom ( R7 * C77 ) ) = ( Seg ( len ( R7 * C77 ) ) ) by FINSEQ_1:def 3;
L413: (for B46 , B47 being Nat holds ([ B46 , B47 ] in ( Indices ( R7 * R12 ) ) implies ( ( R7 * R12 ) * (B46 , B47) ) = ( ( R7 * C77 ) . ( ( ( B46 - B47 ) mod ( len C77 ) ) + 1 ) )))
proof
let C78 , C79 being Nat;
assume L414: [ C78 , C79 ] in ( Indices ( R7 * R12 ) );
L415: [ C78 , C79 ] in ( Indices R12 ) by L414 , MATRIX_1:26;
L416: ( ( ( C78 - C79 ) mod ( len C77 ) ) + 1 ) in ( Seg R4 ) by L415 , L407 , L405 , L409 , L34;
L417: ( ( R7 * R12 ) * (C78 , C79) ) = ( R7 * ( R12 * (C78 , C79) ) ) by L415 , MATRIX_3:def 5
.= ( ( R7 multfield ) . ( R12 * (C78 , C79) ) ) by FVSUM_1:49
.= ( ( R7 multfield ) . ( C77 . ( ( ( C78 - C79 ) mod ( len C77 ) ) + 1 ) ) ) by L408 , L415 , L74
.= ( ( R7 multfield ) . ( C77 /. ( ( ( C78 - C79 ) mod ( len C77 ) ) + 1 ) ) ) by L410 , L416 , PARTFUN1:def 6
.= ( R7 * ( C77 /. ( ( ( C78 - C79 ) mod ( len C77 ) ) + 1 ) ) ) by FVSUM_1:49
.= ( ( R7 * C77 ) /. ( ( ( C78 - C79 ) mod ( len C77 ) ) + 1 ) ) by L410 , L416 , POLYNOM1:def 1
.= ( ( R7 * C77 ) . ( ( ( C78 - C79 ) mod ( len C77 ) ) + 1 ) ) by L407 , L409 , L411 , L412 , L416 , PARTFUN1:def 6;
thus L418: thesis by L417;
end;
L419: ( len ( R7 * R12 ) ) = R4 by MATRIX_1:24;
L420: ( len C77 ) = R4 by L407 , MATRIX_1:24;
L421: ( R7 * R12 ) is_col_circulant_about ( R7 * C77 ) by L420 , L419 , L411 , L413 , L74;
consider C80 being (FinSequence of R6) such that L422: (( len C80 ) = ( len ( R7 * R12 ) ) & ( R7 * R12 ) is_col_circulant_about C80) by L421 , L407 , L419 , L411 , MATRIX_1:24;
take C80;
thus L423: thesis by L422;
end;
theorem
L424: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R12 being (Matrix of R4 , R6) holds (for R13 being (Matrix of R4 , R6) holds ((R12 is  col_circulant & R13 is  col_circulant) implies ( R12 + R13 ) is  col_circulant)))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R12 being (Matrix of R4 , R6);
let R13 being (Matrix of R4 , R6);
assume that
L425: R12 is  col_circulant
and
L426: R13 is  col_circulant;
consider C81 being (FinSequence of R6) such that L427: ( len C81 ) = ( len R12 ) and L428: R12 is_col_circulant_about C81 by L425 , L76;
L429: ( Indices R13 ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
L430: ( Indices ( R12 + R13 ) ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
consider C82 being (FinSequence of R6) such that L431: ( len C82 ) = ( len R13 ) and L432: R13 is_col_circulant_about C82 by L426 , L76;
L433: ( Indices R12 ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
L434: ( len ( R12 + R13 ) ) = R4 by MATRIX_1:24;
L435: ( len R12 ) = R4 by MATRIX_1:24;
L436: ( dom C81 ) = ( Seg R4 ) by L435 , L427 , FINSEQ_1:def 3;
L437: ( len R13 ) = R4 by MATRIX_1:24;
L438: ( dom C82 ) = ( Seg R4 ) by L437 , L431 , FINSEQ_1:def 3;
L439: ( dom ( C81 + C82 ) ) = ( dom C81 ) by L438 , L436 , POLYNOM1:1;
L440: ( len ( C81 + C82 ) ) = R4 by L439 , L436 , FINSEQ_1:def 3;
L441: ( dom ( C81 + C82 ) ) = ( Seg ( len ( C81 + C82 ) ) ) by FINSEQ_1:def 3;
L442: (for B48 , B49 being Nat holds ([ B48 , B49 ] in ( Indices ( R12 + R13 ) ) implies ( ( R12 + R13 ) * (B48 , B49) ) = ( ( C81 + C82 ) . ( ( ( B48 - B49 ) mod ( len ( C81 + C82 ) ) ) + 1 ) )))
proof
let C83 , C84 being Nat;
assume L443: [ C83 , C84 ] in ( Indices ( R12 + R13 ) );
L444: ( ( ( C83 - C84 ) mod ( len ( C81 + C82 ) ) ) + 1 ) in ( Seg R4 ) by L443 , L430 , L436 , L441 , L439 , L34;
L445: ( ( R12 + R13 ) * (C83 , C84) ) = ( ( R12 * (C83 , C84) ) + ( R13 * (C83 , C84) ) ) by L433 , L430 , L443 , MATRIX_3:def 3
.= ( (the addF of R6) . (( R12 * (C83 , C84) ) , ( C82 . ( ( ( C83 - C84 ) mod ( len C82 ) ) + 1 ) )) ) by L432 , L429 , L430 , L443 , L74
.= ( (the addF of R6) . (( C81 . ( ( ( C83 - C84 ) mod ( len ( C81 + C82 ) ) ) + 1 ) ) , ( C82 . ( ( ( C83 - C84 ) mod ( len ( C81 + C82 ) ) ) + 1 ) )) ) by L427 , L428 , L431 , L433 , L435 , L437 , L430 , L440 , L443 , L74
.= ( ( C81 + C82 ) . ( ( ( C83 - C84 ) mod ( len ( C81 + C82 ) ) ) + 1 ) ) by L436 , L439 , L444 , FUNCOP_1:22;
thus L446: thesis by L445;
end;
L447: ( R12 + R13 ) is_col_circulant_about ( C81 + C82 ) by L442 , L434 , L440 , L74;
consider C85 being (FinSequence of R6) such that L448: (( len C85 ) = ( len ( R12 + R13 ) ) & ( R12 + R13 ) is_col_circulant_about C85) by L447 , L434 , L440;
take C85;
thus L449: thesis by L448;
end;
theorem
L450: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R12 being (Matrix of R4 , R6) holds (for R13 being (Matrix of R4 , R6) holds (for R14 being (Matrix of R4 , R6) holds ((R12 is  col_circulant & R13 is  col_circulant & R14 is  col_circulant) implies ( ( R12 + R13 ) + R14 ) is  col_circulant))))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R12 being (Matrix of R4 , R6);
let R13 being (Matrix of R4 , R6);
let R14 being (Matrix of R4 , R6);
assume that
L451: (R12 is  col_circulant & R13 is  col_circulant)
and
L452: R14 is  col_circulant;
L453: ( R12 + R13 ) is  col_circulant by L451 , L424;
thus L454: thesis by L453 , L452 , L424;
end;
theorem
L455: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R7 being (Element of R6) holds (for R8 being (Element of R6) holds (for R12 being (Matrix of R4 , R6) holds (for R13 being (Matrix of R4 , R6) holds ((R12 is  col_circulant & R13 is  col_circulant) implies ( ( R7 * R12 ) + ( R8 * R13 ) ) is  col_circulant)))))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R7 being (Element of R6);
let R8 being (Element of R6);
let R12 being (Matrix of R4 , R6);
let R13 being (Matrix of R4 , R6);
assume L456: (R12 is  col_circulant & R13 is  col_circulant);
L457: (( R7 * R12 ) is  col_circulant & ( R8 * R13 ) is  col_circulant) by L456 , L404;
thus L458: thesis by L457 , L424;
end;
theorem
L459: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R7 being (Element of R6) holds (for R8 being (Element of R6) holds (for R9 being (Element of R6) holds (for R12 being (Matrix of R4 , R6) holds (for R13 being (Matrix of R4 , R6) holds (for R14 being (Matrix of R4 , R6) holds ((R12 is  col_circulant & R13 is  col_circulant & R14 is  col_circulant) implies ( ( ( R7 * R12 ) + ( R8 * R13 ) ) + ( R9 * R14 ) ) is  col_circulant)))))))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R7 being (Element of R6);
let R8 being (Element of R6);
let R9 being (Element of R6);
let R12 being (Matrix of R4 , R6);
let R13 being (Matrix of R4 , R6);
let R14 being (Matrix of R4 , R6);
assume that
L460: (R12 is  col_circulant & R13 is  col_circulant)
and
L461: R14 is  col_circulant;
L462: ( R9 * R14 ) is  col_circulant by L461 , L404;
L463: (( R7 * R12 ) is  col_circulant & ( R8 * R13 ) is  col_circulant) by L460 , L404;
thus L464: thesis by L463 , L462 , L450;
end;
theorem
L465: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R12 being (Matrix of R4 , R6) holds (R12 is  col_circulant implies ( - R12 ) is  col_circulant))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R12 being (Matrix of R4 , R6);
L466: ( Indices R12 ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
L467: ( Indices ( - R12 ) ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
assume L468: R12 is  col_circulant;
consider C86 being (FinSequence of R6) such that L469: ( len C86 ) = ( len R12 ) and L470: R12 is_col_circulant_about C86 by L468 , L76;
L471: C86 is (Element of ( ( len C86 ) -tuples_on (the carrier of R6) )) by FINSEQ_2:92;
L472: ( - C86 ) is (Element of ( ( len C86 ) -tuples_on (the carrier of R6) )) by L471 , FINSEQ_2:113;
L473: (( len ( - R12 ) ) = R4 & ( len ( - C86 ) ) = ( len C86 )) by L472 , CARD_1:def 7 , MATRIX_1:24;
L474: ( len R12 ) = R4 by MATRIX_1:24;
L475: ( dom C86 ) = ( Seg R4 ) by L474 , L469 , FINSEQ_1:def 3;
L476: (for B50 , B51 being Nat holds ([ B50 , B51 ] in ( Indices ( - R12 ) ) implies ( ( - R12 ) * (B50 , B51) ) = ( ( - C86 ) . ( ( ( B50 - B51 ) mod ( len ( - C86 ) ) ) + 1 ) )))
proof
let C87 , C88 being Nat;
assume L477: [ C87 , C88 ] in ( Indices ( - R12 ) );
L478: ( ( ( C87 - C88 ) mod R4 ) + 1 ) in ( Seg R4 ) by L477 , L467 , L34;
L479: ( ( - R12 ) * (C87 , C88) ) = ( - ( R12 * (C87 , C88) ) ) by L466 , L467 , L477 , MATRIX_3:def 2
.= ( ( comp R6 ) . ( R12 * (C87 , C88) ) ) by VECTSP_1:def 13
.= ( ( comp R6 ) . ( C86 . ( ( ( C87 - C88 ) mod ( len C86 ) ) + 1 ) ) ) by L470 , L466 , L467 , L477 , L74
.= ( ( - C86 ) . ( ( ( C87 - C88 ) mod ( len C86 ) ) + 1 ) ) by L469 , L474 , L475 , L478 , FUNCT_1:13;
thus L480: thesis by L479 , L472 , CARD_1:def 7;
end;
L481: ( - R12 ) is_col_circulant_about ( - C86 ) by L476 , L469 , L474 , L473 , L74;
consider C89 being (FinSequence of R6) such that L482: (( len C89 ) = ( len ( - R12 ) ) & ( - R12 ) is_col_circulant_about C89) by L481 , L469 , L473 , MATRIX_1:24;
take C89;
thus L483: thesis by L482;
end;
theorem
L484: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R12 being (Matrix of R4 , R6) holds (for R13 being (Matrix of R4 , R6) holds ((R12 is  col_circulant & R13 is  col_circulant) implies ( R12 - R13 ) is  col_circulant)))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R12 being (Matrix of R4 , R6);
let R13 being (Matrix of R4 , R6);
assume that
L485: R12 is  col_circulant
and
L486: R13 is  col_circulant;
L487: ( - R13 ) is  col_circulant by L486 , L465;
thus L488: thesis by L487 , L485 , L424;
end;
theorem
L489: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R7 being (Element of R6) holds (for R8 being (Element of R6) holds (for R12 being (Matrix of R4 , R6) holds (for R13 being (Matrix of R4 , R6) holds ((R12 is  col_circulant & R13 is  col_circulant) implies ( ( R7 * R12 ) - ( R8 * R13 ) ) is  col_circulant)))))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R7 being (Element of R6);
let R8 being (Element of R6);
let R12 being (Matrix of R4 , R6);
let R13 being (Matrix of R4 , R6);
assume that
L490: R12 is  col_circulant
and
L491: R13 is  col_circulant;
L492: ( R8 * R13 ) is  col_circulant by L491 , L404;
L493: ( - ( R8 * R13 ) ) is  col_circulant by L492 , L465;
L494: ( R7 * R12 ) is  col_circulant by L490 , L404;
thus L495: thesis by L494 , L493 , L424;
end;
theorem
L496: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R7 being (Element of R6) holds (for R8 being (Element of R6) holds (for R9 being (Element of R6) holds (for R12 being (Matrix of R4 , R6) holds (for R13 being (Matrix of R4 , R6) holds (for R14 being (Matrix of R4 , R6) holds ((R12 is  col_circulant & R13 is  col_circulant & R14 is  col_circulant) implies ( ( ( R7 * R12 ) + ( R8 * R13 ) ) - ( R9 * R14 ) ) is  col_circulant)))))))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R7 being (Element of R6);
let R8 being (Element of R6);
let R9 being (Element of R6);
let R12 being (Matrix of R4 , R6);
let R13 being (Matrix of R4 , R6);
let R14 being (Matrix of R4 , R6);
assume that
L497: (R12 is  col_circulant & R13 is  col_circulant)
and
L498: R14 is  col_circulant;
L499: ( R9 * R14 ) is  col_circulant by L498 , L404;
L500: ( - ( R9 * R14 ) ) is  col_circulant by L499 , L465;
L501: (( R7 * R12 ) is  col_circulant & ( R8 * R13 ) is  col_circulant) by L497 , L404;
L502: ( ( R7 * R12 ) + ( R8 * R13 ) ) is  col_circulant by L501 , L424;
thus L503: thesis by L502 , L500 , L424;
end;
theorem
L504: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R7 being (Element of R6) holds (for R8 being (Element of R6) holds (for R9 being (Element of R6) holds (for R12 being (Matrix of R4 , R6) holds (for R13 being (Matrix of R4 , R6) holds (for R14 being (Matrix of R4 , R6) holds ((R12 is  col_circulant & R13 is  col_circulant & R14 is  col_circulant) implies ( ( ( R7 * R12 ) - ( R8 * R13 ) ) - ( R9 * R14 ) ) is  col_circulant)))))))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R7 being (Element of R6);
let R8 being (Element of R6);
let R9 being (Element of R6);
let R12 being (Matrix of R4 , R6);
let R13 being (Matrix of R4 , R6);
let R14 being (Matrix of R4 , R6);
assume that
L505: (R12 is  col_circulant & R13 is  col_circulant)
and
L506: R14 is  col_circulant;
L507: ( R9 * R14 ) is  col_circulant by L506 , L404;
L508: ( - ( R9 * R14 ) ) is  col_circulant by L507 , L465;
L509: ( ( R7 * R12 ) - ( R8 * R13 ) ) is  col_circulant by L505 , L489;
thus L510: thesis by L509 , L508 , L424;
end;
theorem
L511: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R7 being (Element of R6) holds (for R8 being (Element of R6) holds (for R9 being (Element of R6) holds (for R12 being (Matrix of R4 , R6) holds (for R13 being (Matrix of R4 , R6) holds (for R14 being (Matrix of R4 , R6) holds ((R12 is  col_circulant & R13 is  col_circulant & R14 is  col_circulant) implies ( ( ( R7 * R12 ) - ( R8 * R13 ) ) + ( R9 * R14 ) ) is  col_circulant)))))))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R7 being (Element of R6);
let R8 being (Element of R6);
let R9 being (Element of R6);
let R12 being (Matrix of R4 , R6);
let R13 being (Matrix of R4 , R6);
let R14 being (Matrix of R4 , R6);
assume L512: (R12 is  col_circulant & R13 is  col_circulant & R14 is  col_circulant);
L513: (( R9 * R14 ) is  col_circulant & ( ( R7 * R12 ) - ( R8 * R13 ) ) is  col_circulant) by L512 , L404 , L489;
thus L514: thesis by L513 , L424;
end;
theorem
L515: (for R6 being Field holds (for R10 being (FinSequence of R6) holds (R10 is  first-line-of-circulant implies ( - R10 ) is  first-line-of-circulant)))
proof
let R6 being Field;
let R10 being (FinSequence of R6);
set D10 = ( len R10 );
assume L516: R10 is  first-line-of-circulant;
consider C90 being (Matrix of ( len R10 ) , R6) such that L517: C90 is_line_circulant_about R10 by L516 , L72;
set D11 = ( - C90 );
L518: ( Indices C90 ) = [: ( Seg D10 ) , ( Seg D10 ) :] by MATRIX_1:24;
L519: ( Indices ( - C90 ) ) = [: ( Seg D10 ) , ( Seg D10 ) :] by MATRIX_1:24;
L520: R10 is (Element of ( ( len R10 ) -tuples_on (the carrier of R6) )) by FINSEQ_2:92;
L521: ( - R10 ) is (Element of ( ( len R10 ) -tuples_on (the carrier of R6) )) by L520 , FINSEQ_2:113;
L522: ( len ( - R10 ) ) = ( len R10 ) by L521 , CARD_1:def 7;
L523: ( dom R10 ) = ( Seg ( len R10 ) ) by FINSEQ_1:def 3;
L524: (for B52 , B53 being Nat holds ([ B52 , B53 ] in ( Indices ( - C90 ) ) implies ( ( - C90 ) * (B52 , B53) ) = ( ( - R10 ) . ( ( ( B53 - B52 ) mod ( len ( - R10 ) ) ) + 1 ) )))
proof
let C91 , C92 being Nat;
assume L525: [ C91 , C92 ] in ( Indices ( - C90 ) );
L526: ( ( ( C92 - C91 ) mod D10 ) + 1 ) in ( Seg D10 ) by L525 , L519 , L34;
L527: ( ( - C90 ) * (C91 , C92) ) = ( - ( C90 * (C91 , C92) ) ) by L518 , L519 , L525 , MATRIX_3:def 2
.= ( ( comp R6 ) . ( C90 * (C91 , C92) ) ) by VECTSP_1:def 13
.= ( ( comp R6 ) . ( R10 . ( ( ( C92 - C91 ) mod ( len R10 ) ) + 1 ) ) ) by L517 , L518 , L519 , L525 , L68
.= ( ( - R10 ) . ( ( ( C92 - C91 ) mod ( len R10 ) ) + 1 ) ) by L523 , L526 , FUNCT_1:13;
thus L528: thesis by L527 , L521 , CARD_1:def 7;
end;
L529: ( width ( - C90 ) ) = D10 by MATRIX_1:24;
L530: D11 is_line_circulant_about ( - R10 ) by L529 , L522 , L524 , L68;
consider C93 being (Matrix of ( len ( - R10 ) ) , R6) such that L531: C93 is_line_circulant_about ( - R10 ) by L530 , L522;
take C93;
thus L532: thesis by L531;
end;
theorem
L533: (for R6 being Field holds (for R10 being (FinSequence of R6) holds (R10 is  first-line-of-circulant implies ( LCirc ( - R10 ) ) = ( - ( LCirc R10 ) ))))
proof
let R6 being Field;
let R10 being (FinSequence of R6);
set D12 = ( len R10 );
L534: (( len ( LCirc R10 ) ) = ( len R10 ) & ( width ( LCirc R10 ) ) = ( len R10 )) by MATRIX_1:24;
L535: ( Indices ( LCirc R10 ) ) = [: ( Seg D12 ) , ( Seg D12 ) :] by MATRIX_1:24;
L536: R10 is (Element of ( ( len R10 ) -tuples_on (the carrier of R6) )) by FINSEQ_2:92;
L537: ( - R10 ) is (Element of ( ( len R10 ) -tuples_on (the carrier of R6) )) by L536 , FINSEQ_2:113;
L538: ( len ( - R10 ) ) = ( len R10 ) by L537 , CARD_1:def 7;
assume L539: R10 is  first-line-of-circulant;
L540: ( - R10 ) is  first-line-of-circulant by L539 , L515;
L541: ( LCirc ( - R10 ) ) is_line_circulant_about ( - R10 ) by L540 , L81;
L542: ( LCirc R10 ) is_line_circulant_about R10 by L539 , L81;
L543: (for B54 , B55 being Nat holds ([ B54 , B55 ] in ( Indices ( LCirc R10 ) ) implies ( ( LCirc ( - R10 ) ) * (B54 , B55) ) = ( - ( ( LCirc R10 ) * (B54 , B55) ) )))
proof
let C94 , C95 being Nat;
assume L544: [ C94 , C95 ] in ( Indices ( LCirc R10 ) );
L545: ( ( ( C95 - C94 ) mod D12 ) + 1 ) in ( Seg D12 ) by L544 , L535 , L34;
L546: ( ( ( C95 - C94 ) mod ( len R10 ) ) + 1 ) in ( dom R10 ) by L545 , FINSEQ_1:def 3;
L547: [ C94 , C95 ] in ( Indices ( LCirc ( - R10 ) ) ) by L538 , L544 , MATRIX_1:26;
L548: ( ( LCirc ( - R10 ) ) * (C94 , C95) ) = ( ( - R10 ) . ( ( ( C95 - C94 ) mod ( len ( - R10 ) ) ) + 1 ) ) by L547 , L541 , L68
.= ( ( comp R6 ) . ( R10 . ( ( ( C95 - C94 ) mod ( len R10 ) ) + 1 ) ) ) by L538 , L546 , FUNCT_1:13
.= ( ( comp R6 ) . ( ( LCirc R10 ) * (C94 , C95) ) ) by L542 , L544 , L68
.= ( - ( ( LCirc R10 ) * (C94 , C95) ) ) by VECTSP_1:def 13;
thus L549: thesis by L548;
end;
L550: (( len ( LCirc ( - R10 ) ) ) = ( len R10 ) & ( width ( LCirc ( - R10 ) ) ) = ( len R10 )) by L538 , MATRIX_1:24;
thus L551: thesis by L550 , L534 , L543 , MATRIX_3:def 2;
end;
theorem
L552: (for R6 being Field holds (for R10 being (FinSequence of R6) holds (for R11 being (FinSequence of R6) holds ((R10 is  first-line-of-circulant & R11 is  first-line-of-circulant & ( len R10 ) = ( len R11 )) implies ( R10 + R11 ) is  first-line-of-circulant))))
proof
let R6 being Field;
let R10 being (FinSequence of R6);
let R11 being (FinSequence of R6);
set D13 = ( len R10 );
assume that
L553: R10 is  first-line-of-circulant
and
L554: R11 is  first-line-of-circulant
and
L555: ( len R10 ) = ( len R11 );
consider C96 being (Matrix of D13 , R6) such that L556: C96 is_line_circulant_about R11 by L554 , L555 , L72;
L557: ( dom ( R10 + R11 ) ) = ( Seg ( len ( R10 + R11 ) ) ) by FINSEQ_1:def 3;
L558: ( dom R10 ) = ( Seg D13 ) by FINSEQ_1:def 3;
L559: ( dom R11 ) = ( Seg D13 ) by L555 , FINSEQ_1:def 3;
L560: ( dom ( R10 + R11 ) ) = ( dom R10 ) by L559 , L558 , POLYNOM1:1;
L561: ( len ( R10 + R11 ) ) = D13 by L560 , L558 , FINSEQ_1:def 3;
consider C97 being (Matrix of D13 , R6) such that L562: C97 is_line_circulant_about R10 by L553 , L72;
L563: ( Indices C97 ) = [: ( Seg D13 ) , ( Seg D13 ) :] by MATRIX_1:24;
set D14 = ( C97 + C96 );
L564: ( width ( C97 + C96 ) ) = D13 by MATRIX_1:24;
L565: ( Indices C96 ) = [: ( Seg D13 ) , ( Seg D13 ) :] by MATRIX_1:24;
L566: (for B56 , B57 being Nat holds ([ B56 , B57 ] in ( Indices D14 ) implies ( D14 * (B56 , B57) ) = ( ( R10 + R11 ) . ( ( ( B57 - B56 ) mod ( len ( R10 + R11 ) ) ) + 1 ) )))
proof
let C98 , C99 being Nat;
assume L567: [ C98 , C99 ] in ( Indices ( C97 + C96 ) );
L568: [ C98 , C99 ] in ( Indices C97 ) by L567 , L563 , MATRIX_1:24;
L569: ( ( ( C99 - C98 ) mod ( len ( R10 + R11 ) ) ) + 1 ) in ( dom ( R10 + R11 ) ) by L568 , L563 , L558 , L557 , L560 , L34;
L570: [ C98 , C99 ] in ( Indices C96 ) by L565 , L567 , MATRIX_1:24;
L571: ( D14 * (C98 , C99) ) = ( ( C97 * (C98 , C99) ) + ( C96 * (C98 , C99) ) ) by L568 , MATRIX_3:def 3
.= ( (the addF of R6) . (( C97 * (C98 , C99) ) , ( R11 . ( ( ( C99 - C98 ) mod ( len R11 ) ) + 1 ) )) ) by L556 , L570 , L68
.= ( (the addF of R6) . (( R10 . ( ( ( C99 - C98 ) mod ( len ( R10 + R11 ) ) ) + 1 ) ) , ( R11 . ( ( ( C99 - C98 ) mod ( len ( R10 + R11 ) ) ) + 1 ) )) ) by L555 , L562 , L561 , L568 , L68
.= ( ( R10 + R11 ) . ( ( ( C99 - C98 ) mod ( len ( R10 + R11 ) ) ) + 1 ) ) by L569 , FUNCOP_1:22;
thus L572: thesis by L571;
end;
L573: ( C97 + C96 ) is_line_circulant_about ( R10 + R11 ) by L566 , L564 , L561 , L68;
consider C100 being (Matrix of ( len ( R10 + R11 ) ) , R6) such that L574: ( len ( R10 + R11 ) ) = ( width C100 ) and L575: C100 is_line_circulant_about ( R10 + R11 ) by L573 , L564 , L561;
take C100;
thus L576: thesis by L575;
end;
theorem
L577: (for R6 being Field holds (for R10 being (FinSequence of R6) holds (for R11 being (FinSequence of R6) holds ((( len R10 ) = ( len R11 ) & R10 is  first-line-of-circulant & R11 is  first-line-of-circulant) implies ( LCirc ( R10 + R11 ) ) = ( ( LCirc R10 ) + ( LCirc R11 ) )))))
proof
let R6 being Field;
let R10 being (FinSequence of R6);
let R11 being (FinSequence of R6);
set D15 = ( len R10 );
assume that
L578: ( len R10 ) = ( len R11 )
and
L579: R10 is  first-line-of-circulant
and
L580: R11 is  first-line-of-circulant;
L581: (( LCirc R11 ) is_line_circulant_about R11 & ( Indices ( LCirc R10 ) ) = ( Indices ( LCirc R11 ) )) by L578 , L580 , L81 , MATRIX_1:26;
L582: ( R10 + R11 ) is  first-line-of-circulant by L578 , L579 , L580 , L552;
L583: ( LCirc ( R10 + R11 ) ) is_line_circulant_about ( R10 + R11 ) by L582 , L81;
L584: ( dom R10 ) = ( Seg D15 ) by FINSEQ_1:def 3;
L585: ( LCirc R10 ) is_line_circulant_about R10 by L579 , L81;
L586: ( dom ( R10 + R11 ) ) = ( Seg ( len ( R10 + R11 ) ) ) by FINSEQ_1:def 3;
L587: ( Indices ( LCirc R10 ) ) = [: ( Seg D15 ) , ( Seg D15 ) :] by MATRIX_1:24;
L588: ( dom R11 ) = ( Seg D15 ) by L578 , FINSEQ_1:def 3;
L589: ( dom ( R10 + R11 ) ) = ( dom R10 ) by L588 , L584 , POLYNOM1:1;
L590: ( len ( R10 + R11 ) ) = D15 by L589 , L584 , FINSEQ_1:def 3;
L591: ( Indices ( LCirc R10 ) ) = ( Indices ( LCirc ( R10 + R11 ) ) ) by L590 , MATRIX_1:26;
L592: (for B58 , B59 being Nat holds ([ B58 , B59 ] in ( Indices ( LCirc R10 ) ) implies ( ( LCirc ( R10 + R11 ) ) * (B58 , B59) ) = ( ( ( LCirc R10 ) * (B58 , B59) ) + ( ( LCirc R11 ) * (B58 , B59) ) )))
proof
let C101 , C102 being Nat;
assume L593: [ C101 , C102 ] in ( Indices ( LCirc R10 ) );
L594: ( ( ( C102 - C101 ) mod D15 ) + 1 ) in ( Seg D15 ) by L593 , L587 , L34;
L595: ( ( LCirc ( R10 + R11 ) ) * (C101 , C102) ) = ( ( R10 + R11 ) . ( ( ( C102 - C101 ) mod ( len ( R10 + R11 ) ) ) + 1 ) ) by L583 , L591 , L593 , L68
.= ( (the addF of R6) . (( R10 . ( ( ( C102 - C101 ) mod ( len ( R10 + R11 ) ) ) + 1 ) ) , ( R11 . ( ( ( C102 - C101 ) mod ( len ( R10 + R11 ) ) ) + 1 ) )) ) by L586 , L590 , L594 , FUNCOP_1:22
.= ( (the addF of R6) . (( ( LCirc R10 ) * (C101 , C102) ) , ( R11 . ( ( ( C102 - C101 ) mod ( len R11 ) ) + 1 ) )) ) by L578 , L590 , L585 , L593 , L68
.= ( ( ( LCirc R10 ) * (C101 , C102) ) + ( ( LCirc R11 ) * (C101 , C102) ) ) by L581 , L593 , L68;
thus L596: thesis by L595;
end;
L597: (( len ( LCirc R10 ) ) = ( len R10 ) & ( width ( LCirc R10 ) ) = ( len R10 )) by MATRIX_1:24;
L598: (( len ( LCirc ( R10 + R11 ) ) ) = ( len R10 ) & ( width ( LCirc ( R10 + R11 ) ) ) = ( len R10 )) by L590 , MATRIX_1:24;
thus L599: thesis by L598 , L597 , L592 , MATRIX_3:def 3;
end;
theorem
L600: (for R6 being Field holds (for R10 being (FinSequence of R6) holds (R10 is  first-col-of-circulant implies ( - R10 ) is  first-col-of-circulant)))
proof
let R6 being Field;
let R10 being (FinSequence of R6);
set D16 = ( len R10 );
assume L601: R10 is  first-col-of-circulant;
consider C103 being (Matrix of D16 , R6) such that L602: C103 is_col_circulant_about R10 by L601 , L78;
set D17 = ( - C103 );
L603: ( Indices C103 ) = [: ( Seg D16 ) , ( Seg D16 ) :] by MATRIX_1:24;
L604: ( Indices ( - C103 ) ) = [: ( Seg D16 ) , ( Seg D16 ) :] by MATRIX_1:24;
L605: R10 is (Element of ( ( len R10 ) -tuples_on (the carrier of R6) )) by FINSEQ_2:92;
L606: ( - R10 ) is (Element of ( ( len R10 ) -tuples_on (the carrier of R6) )) by L605 , FINSEQ_2:113;
L607: ( len ( - R10 ) ) = ( len R10 ) by L606 , CARD_1:def 7;
L608: ( dom R10 ) = ( Seg ( len R10 ) ) by FINSEQ_1:def 3;
L609: (for B60 , B61 being Nat holds ([ B60 , B61 ] in ( Indices ( - C103 ) ) implies ( ( - C103 ) * (B60 , B61) ) = ( ( - R10 ) . ( ( ( B60 - B61 ) mod ( len ( - R10 ) ) ) + 1 ) )))
proof
let C104 , C105 being Nat;
assume L610: [ C104 , C105 ] in ( Indices ( - C103 ) );
L611: ( ( ( C104 - C105 ) mod D16 ) + 1 ) in ( Seg D16 ) by L610 , L604 , L34;
L612: ( ( - C103 ) * (C104 , C105) ) = ( - ( C103 * (C104 , C105) ) ) by L603 , L604 , L610 , MATRIX_3:def 2
.= ( ( comp R6 ) . ( C103 * (C104 , C105) ) ) by VECTSP_1:def 13
.= ( ( comp R6 ) . ( R10 . ( ( ( C104 - C105 ) mod ( len R10 ) ) + 1 ) ) ) by L602 , L603 , L604 , L610 , L74
.= ( ( - R10 ) . ( ( ( C104 - C105 ) mod ( len R10 ) ) + 1 ) ) by L608 , L611 , FUNCT_1:13;
thus L613: thesis by L612 , L606 , CARD_1:def 7;
end;
L614: ( len ( - C103 ) ) = D16 by MATRIX_1:24;
L615: D17 is_col_circulant_about ( - R10 ) by L614 , L607 , L609 , L74;
consider C106 being (Matrix of ( len ( - R10 ) ) , R6) such that L616: C106 is_col_circulant_about ( - R10 ) by L615 , L607;
take C106;
thus L617: thesis by L616;
end;
theorem
L618: (for R6 being Field holds (for B62 being (FinSequence of R6) holds (B62 is  first-col-of-circulant implies ( CCirc ( - B62 ) ) = ( - ( CCirc B62 ) ))))
proof
let R6 being Field;
let R10 being (FinSequence of R6);
set D18 = ( len R10 );
L619: ( dom R10 ) = ( Seg ( len R10 ) ) by FINSEQ_1:def 3;
L620: ( Indices ( CCirc R10 ) ) = [: ( Seg D18 ) , ( Seg D18 ) :] by MATRIX_1:24;
assume L621: R10 is  first-col-of-circulant;
L622: ( CCirc R10 ) is_col_circulant_about R10 by L621 , L92;
L623: ( - R10 ) is  first-col-of-circulant by L621 , L600;
L624: ( CCirc ( - R10 ) ) is_col_circulant_about ( - R10 ) by L623 , L92;
L625: R10 is (Element of ( ( len R10 ) -tuples_on (the carrier of R6) )) by FINSEQ_2:92;
L626: ( - R10 ) is (Element of ( ( len R10 ) -tuples_on (the carrier of R6) )) by L625 , FINSEQ_2:113;
L627: ( len ( - R10 ) ) = ( len R10 ) by L626 , CARD_1:def 7;
L628: ( Indices ( CCirc R10 ) ) = ( Indices ( CCirc ( - R10 ) ) ) by L627 , MATRIX_1:26;
L629: (for B63 , B64 being Nat holds ([ B63 , B64 ] in ( Indices ( CCirc R10 ) ) implies ( ( CCirc ( - R10 ) ) * (B63 , B64) ) = ( - ( ( CCirc R10 ) * (B63 , B64) ) )))
proof
let C107 , C108 being Nat;
assume L630: [ C107 , C108 ] in ( Indices ( CCirc R10 ) );
L631: ( ( ( C107 - C108 ) mod D18 ) + 1 ) in ( Seg D18 ) by L630 , L620 , L34;
L632: ( ( CCirc ( - R10 ) ) * (C107 , C108) ) = ( ( - R10 ) . ( ( ( C107 - C108 ) mod ( len ( - R10 ) ) ) + 1 ) ) by L624 , L628 , L630 , L74
.= ( ( comp R6 ) . ( R10 . ( ( ( C107 - C108 ) mod ( len R10 ) ) + 1 ) ) ) by L627 , L619 , L631 , FUNCT_1:13
.= ( ( comp R6 ) . ( ( CCirc R10 ) * (C107 , C108) ) ) by L622 , L630 , L74
.= ( - ( ( CCirc R10 ) * (C107 , C108) ) ) by VECTSP_1:def 13;
thus L633: thesis by L632;
end;
L634: (( len ( CCirc R10 ) ) = ( len R10 ) & ( width ( CCirc R10 ) ) = ( len R10 )) by MATRIX_1:24;
L635: (( len ( CCirc ( - R10 ) ) ) = ( len R10 ) & ( width ( CCirc ( - R10 ) ) ) = ( len R10 )) by L627 , MATRIX_1:24;
thus L636: thesis by L635 , L634 , L629 , MATRIX_3:def 2;
end;
theorem
L637: (for R6 being Field holds (for R10 being (FinSequence of R6) holds (for R11 being (FinSequence of R6) holds ((R10 is  first-col-of-circulant & R11 is  first-col-of-circulant & ( len R10 ) = ( len R11 )) implies ( R10 + R11 ) is  first-col-of-circulant))))
proof
let R6 being Field;
let R10 being (FinSequence of R6);
let R11 being (FinSequence of R6);
set D19 = ( len R10 );
assume that
L638: R10 is  first-col-of-circulant
and
L639: R11 is  first-col-of-circulant
and
L640: ( len R10 ) = ( len R11 );
consider C109 being (Matrix of D19 , R6) such that L641: C109 is_col_circulant_about R11 by L639 , L640 , L78;
L642: ( dom ( R10 + R11 ) ) = ( Seg ( len ( R10 + R11 ) ) ) by FINSEQ_1:def 3;
L643: ( dom R10 ) = ( Seg D19 ) by FINSEQ_1:def 3;
L644: ( dom R11 ) = ( Seg D19 ) by L640 , FINSEQ_1:def 3;
L645: ( dom ( R10 + R11 ) ) = ( dom R10 ) by L644 , L643 , POLYNOM1:1;
L646: ( len ( R10 + R11 ) ) = D19 by L645 , L643 , FINSEQ_1:def 3;
consider C110 being (Matrix of D19 , R6) such that L647: C110 is_col_circulant_about R10 by L638 , L78;
L648: ( Indices C110 ) = [: ( Seg D19 ) , ( Seg D19 ) :] by MATRIX_1:24;
set D20 = ( C110 + C109 );
L649: ( len ( C110 + C109 ) ) = D19 by MATRIX_1:24;
L650: ( Indices C109 ) = [: ( Seg D19 ) , ( Seg D19 ) :] by MATRIX_1:24;
L651: (for B65 , B66 being Nat holds ([ B65 , B66 ] in ( Indices D20 ) implies ( D20 * (B65 , B66) ) = ( ( R10 + R11 ) . ( ( ( B65 - B66 ) mod ( len ( R10 + R11 ) ) ) + 1 ) )))
proof
let C111 , C112 being Nat;
assume L652: [ C111 , C112 ] in ( Indices ( C110 + C109 ) );
L653: [ C111 , C112 ] in ( Indices C110 ) by L652 , L648 , MATRIX_1:24;
L654: ( ( ( C111 - C112 ) mod ( len ( R10 + R11 ) ) ) + 1 ) in ( dom ( R10 + R11 ) ) by L653 , L648 , L643 , L642 , L645 , L34;
L655: [ C111 , C112 ] in ( Indices C109 ) by L650 , L652 , MATRIX_1:24;
L656: ( D20 * (C111 , C112) ) = ( ( C110 * (C111 , C112) ) + ( C109 * (C111 , C112) ) ) by L653 , MATRIX_3:def 3
.= ( (the addF of R6) . (( C110 * (C111 , C112) ) , ( R11 . ( ( ( C111 - C112 ) mod ( len R11 ) ) + 1 ) )) ) by L641 , L655 , L74
.= ( (the addF of R6) . (( R10 . ( ( ( C111 - C112 ) mod ( len ( R10 + R11 ) ) ) + 1 ) ) , ( R11 . ( ( ( C111 - C112 ) mod ( len ( R10 + R11 ) ) ) + 1 ) )) ) by L640 , L647 , L646 , L653 , L74
.= ( ( R10 + R11 ) . ( ( ( C111 - C112 ) mod ( len ( R10 + R11 ) ) ) + 1 ) ) by L654 , FUNCOP_1:22;
thus L657: thesis by L656;
end;
L658: ( C110 + C109 ) is_col_circulant_about ( R10 + R11 ) by L651 , L649 , L646 , L74;
consider C113 being (Matrix of ( len ( R10 + R11 ) ) , R6) such that L659: ( len ( R10 + R11 ) ) = ( len C113 ) and L660: C113 is_col_circulant_about ( R10 + R11 ) by L658 , L649 , L646;
take C113;
thus L661: thesis by L660;
end;
theorem
L662: (for R6 being Field holds (for R10 being (FinSequence of R6) holds (for R11 being (FinSequence of R6) holds ((( len R10 ) = ( len R11 ) & R10 is  first-col-of-circulant & R11 is  first-col-of-circulant) implies ( CCirc ( R10 + R11 ) ) = ( ( CCirc R10 ) + ( CCirc R11 ) )))))
proof
let R6 being Field;
let R10 being (FinSequence of R6);
let R11 being (FinSequence of R6);
set D21 = ( len R10 );
assume that
L663: ( len R10 ) = ( len R11 )
and
L664: R10 is  first-col-of-circulant
and
L665: R11 is  first-col-of-circulant;
L666: (( CCirc R11 ) is_col_circulant_about R11 & ( Indices ( CCirc R10 ) ) = ( Indices ( CCirc R11 ) )) by L663 , L665 , L92 , MATRIX_1:26;
L667: ( R10 + R11 ) is  first-col-of-circulant by L663 , L664 , L665 , L637;
L668: ( CCirc ( R10 + R11 ) ) is_col_circulant_about ( R10 + R11 ) by L667 , L92;
L669: ( dom R10 ) = ( Seg D21 ) by FINSEQ_1:def 3;
L670: ( CCirc R10 ) is_col_circulant_about R10 by L664 , L92;
L671: ( dom ( R10 + R11 ) ) = ( Seg ( len ( R10 + R11 ) ) ) by FINSEQ_1:def 3;
L672: ( Indices ( CCirc R10 ) ) = [: ( Seg D21 ) , ( Seg D21 ) :] by MATRIX_1:24;
L673: ( dom R11 ) = ( Seg D21 ) by L663 , FINSEQ_1:def 3;
L674: ( dom ( R10 + R11 ) ) = ( dom R10 ) by L673 , L669 , POLYNOM1:1;
L675: ( len ( R10 + R11 ) ) = D21 by L674 , L669 , FINSEQ_1:def 3;
L676: ( Indices ( CCirc R10 ) ) = ( Indices ( CCirc ( R10 + R11 ) ) ) by L675 , MATRIX_1:26;
L677: (for B67 , B68 being Nat holds ([ B67 , B68 ] in ( Indices ( CCirc R10 ) ) implies ( ( CCirc ( R10 + R11 ) ) * (B67 , B68) ) = ( ( ( CCirc R10 ) * (B67 , B68) ) + ( ( CCirc R11 ) * (B67 , B68) ) )))
proof
let C114 , C115 being Nat;
assume L678: [ C114 , C115 ] in ( Indices ( CCirc R10 ) );
L679: ( ( ( C114 - C115 ) mod D21 ) + 1 ) in ( Seg D21 ) by L678 , L672 , L34;
L680: ( ( CCirc ( R10 + R11 ) ) * (C114 , C115) ) = ( ( R10 + R11 ) . ( ( ( C114 - C115 ) mod ( len ( R10 + R11 ) ) ) + 1 ) ) by L668 , L676 , L678 , L74
.= ( (the addF of R6) . (( R10 . ( ( ( C114 - C115 ) mod ( len ( R10 + R11 ) ) ) + 1 ) ) , ( R11 . ( ( ( C114 - C115 ) mod ( len ( R10 + R11 ) ) ) + 1 ) )) ) by L671 , L675 , L679 , FUNCOP_1:22
.= ( (the addF of R6) . (( ( CCirc R10 ) * (C114 , C115) ) , ( R11 . ( ( ( C114 - C115 ) mod ( len R11 ) ) + 1 ) )) ) by L663 , L675 , L670 , L678 , L74
.= ( ( ( CCirc R10 ) * (C114 , C115) ) + ( ( CCirc R11 ) * (C114 , C115) ) ) by L666 , L678 , L74;
thus L681: thesis by L680;
end;
L682: (( len ( CCirc R10 ) ) = ( len R10 ) & ( width ( CCirc R10 ) ) = ( len R10 )) by MATRIX_1:24;
L683: (( len ( CCirc ( R10 + R11 ) ) ) = ( len R10 ) & ( width ( CCirc ( R10 + R11 ) ) ) = ( len R10 )) by L675 , MATRIX_1:24;
thus L684: thesis by L683 , L682 , L677 , MATRIX_3:def 3;
end;
theorem
L685: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (R4 > ( 0 ) implies ( 1. (R6 , R4) ) is  col_circulant)))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
assume L686: R4 > ( 0 );
set D22 = ( 1. (R6 , R4) );
L687: ( Indices ( 1. (R6 , R4) ) ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
set D23 = ( Col (D22 , 1) );
L688: ( len ( 1. (R6 , R4) ) ) = R4 by MATRIX_1:24;
L689: ( len D23 ) = R4 by L688 , MATRIX_1:def 8;
L690: ( dom D22 ) = ( Seg R4 ) by L688 , FINSEQ_1:def 3;
L691: ( width ( 1. (R6 , R4) ) ) = R4 by MATRIX_1:24;
L692: (for B69 , B70 being Nat holds ([ B69 , B70 ] in ( Indices D22 ) implies ( D22 * (B69 , B70) ) = ( D23 . ( ( ( B69 - B70 ) mod ( len D23 ) ) + 1 ) )))
proof
let C116 , C117 being Nat;
L693: ( ( C116 - C117 ) mod R4 ) >= ( 0 ) by L686 , NAT_D:62;
L694: ( ( ( C116 - C117 ) mod R4 ) + 1 ) in ( NAT ) by L693 , INT_1:3;
assume L695: [ C116 , C117 ] in ( Indices D22 );
L696: C117 in ( Seg R4 ) by L695 , L687 , ZFMISC_1:87;
L697: 1 <= C117 by L696 , FINSEQ_1:1;
L698: C117 <= R4 by L696 , FINSEQ_1:1;
L699: C116 in ( Seg R4 ) by L687 , L695 , ZFMISC_1:87;
L700: 1 <= C116 by L699 , FINSEQ_1:1;
L701: ( 1 - R4 ) <= ( C116 - C117 ) by L700 , L698 , XREAL_1:13;
L702: ( - R4 ) <= ( ( - R4 ) + 1 ) by XREAL_1:29;
L703: ( - R4 ) <= ( C116 - C117 ) by L702 , L701 , XXREAL_0:2;
L704: C116 <= R4 by L699 , FINSEQ_1:1;
L705: ( C116 - C117 ) <= ( R4 - 1 ) by L704 , L697 , XREAL_1:13;
L706: ( R4 - 1 ) < R4 by XREAL_1:44;
L707: ( C116 - C117 ) < R4 by L706 , L705 , XXREAL_0:2;
L708: ( ( C116 - C117 ) mod R4 ) <= ( R4 - 1 )
proof
per cases ;
suppose L709: ( 0 ) <= ( C116 - C117 );

thus L710: thesis by L709 , L705 , L707 , NAT_D:63;
end;
suppose L711: ( 0 ) > ( C116 - C117 );

L712: ( C116 - C117 ) <= ( - 1 ) by L711 , INT_1:8;
L713: ( R4 + ( C116 - C117 ) ) <= ( R4 + ( - 1 ) ) by L712 , XREAL_1:6;
thus L714: thesis by L713 , L703 , L711 , NAT_D:63;
end;
end;
L716: ( ( ( C116 - C117 ) mod R4 ) + 1 ) <= ( ( R4 - 1 ) + 1 ) by L708 , XREAL_1:6;
L717: ( ( ( C116 - C117 ) mod R4 ) + 1 ) >= ( ( 0 ) + 1 ) by L693 , XREAL_1:6;
L718: ( ( ( C116 - C117 ) mod R4 ) + 1 ) in ( Seg R4 ) by L717 , L716 , L694;
L719: ( ( ( C116 - C117 ) mod ( len D23 ) ) + 1 ) in ( Seg R4 ) by L718 , L688 , MATRIX_1:def 8;
L720: ( D22 * (C116 , C117) ) = ( D23 . ( ( ( C116 - C117 ) mod ( len D23 ) ) + 1 ) )
proof
per cases ;
suppose L721: C116 = C117;

L722: ( ( 0 ) + 1 ) <= R4 by L686 , NAT_1:13;
L723: 1 in ( Seg R4 ) by L722;
L724: [ 1 , 1 ] in ( Indices D22 ) by L723 , L687 , ZFMISC_1:87;
L725: ( ( C116 - C117 ) mod ( len D23 ) ) = ( 0 ) by L686 , L689 , L721 , NAT_D:63;
L726: ( D23 . ( ( ( C116 - C117 ) mod ( len D23 ) ) + 1 ) ) = ( D22 * (1 , 1) ) by L725 , L690 , L719 , MATRIX_1:def 8
.= ( 1_ R6 ) by L724 , MATRIX_1:def 11;
thus L727: thesis by L726 , L695 , L721 , MATRIX_1:def 11;
end;
suppose L728: C116 <> C117;

L729: ( C116 - C117 ) <> ( 0 ) by L728;
L730: ( ( C116 - C117 ) mod R4 ) <> ( 0 )
proof
per cases ;
suppose L731: ( 0 ) <= ( C116 - C117 );

thus L732: thesis by L731 , L707 , L729 , NAT_D:63;
end;
suppose L733: ( 0 ) > ( C116 - C117 );

L734: ( ( 1 - R4 ) + R4 ) <= ( ( C116 - C117 ) + R4 ) by L701 , XREAL_1:6;
thus L735: thesis by L734 , L703 , L733 , NAT_D:63;
end;
end;
L737: ( ( ( C116 - C117 ) mod ( len D23 ) ) + 1 ) <> 1 by L730 , L688 , MATRIX_1:def 8;
set D24 = ( ( ( C116 - C117 ) mod ( len D23 ) ) + 1 );
reconsider D25 = D24 as Nat by L688 , L694 , MATRIX_1:def 8;
L738: ( ( 0 ) + 1 ) <= R4 by L686 , NAT_1:13;
L739: 1 in ( Seg R4 ) by L738;
L740: D25 in ( dom D22 ) by L688 , L689 , L718 , FINSEQ_1:def 3;
L741: [ D25 , 1 ] in ( Indices D22 ) by L740 , L691 , L739 , ZFMISC_1:87;
L742: ( D23 . D25 ) = ( D22 * (D25 , 1) ) by L690 , L719 , MATRIX_1:def 8
.= ( 0. R6 ) by L737 , L741 , MATRIX_1:def 11;
thus L743: thesis by L742 , L695 , L728 , MATRIX_1:def 11;
end;
end;
thus L745: thesis by L720;
end;
L746: D22 is_col_circulant_about D23 by L692 , L688 , L689 , L74;
consider C118 being (FinSequence of R6) such that L747: (( len C118 ) = ( len D22 ) & D22 is_col_circulant_about C118) by L746 , L688 , L689;
take C118;
thus L748: thesis by L747;
end;
theorem
L749: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (R4 > ( 0 ) implies ( 1. (R6 , R4) ) is  line_circulant)))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
set D26 = ( 1. (R6 , R4) );
set D27 = ( Line (D26 , 1) );
assume L750: R4 > ( 0 );
L751: ( Indices ( 1. (R6 , R4) ) ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
L752: ( width ( 1. (R6 , R4) ) ) = R4 by MATRIX_1:24;
L753: ( len D27 ) = R4 by L752 , MATRIX_1:def 7;
L754: (for B71 , B72 being Nat holds ([ B71 , B72 ] in ( Indices D26 ) implies ( D26 * (B71 , B72) ) = ( D27 . ( ( ( B72 - B71 ) mod ( len D27 ) ) + 1 ) )))
proof
let C119 , C120 being Nat;
L755: ( ( C120 - C119 ) mod R4 ) >= ( 0 ) by L750 , NAT_D:62;
L756: ( ( ( C120 - C119 ) mod R4 ) + 1 ) in ( NAT ) by L755 , INT_1:3;
assume L757: [ C119 , C120 ] in ( Indices D26 );
L758: C120 in ( Seg R4 ) by L757 , L751 , ZFMISC_1:87;
L759: 1 <= C120 by L758 , FINSEQ_1:1;
L760: C120 <= R4 by L758 , FINSEQ_1:1;
L761: C119 in ( Seg R4 ) by L751 , L757 , ZFMISC_1:87;
L762: 1 <= C119 by L761 , FINSEQ_1:1;
L763: ( C120 - C119 ) <= ( R4 - 1 ) by L762 , L760 , XREAL_1:13;
L764: ( R4 - 1 ) < R4 by XREAL_1:44;
L765: ( C120 - C119 ) < R4 by L764 , L763 , XXREAL_0:2;
L766: C119 <= R4 by L761 , FINSEQ_1:1;
L767: ( 1 - R4 ) <= ( C120 - C119 ) by L766 , L759 , XREAL_1:13;
L768: ( - R4 ) <= ( ( - R4 ) + 1 ) by XREAL_1:29;
L769: ( - R4 ) <= ( C120 - C119 ) by L768 , L767 , XXREAL_0:2;
L770: ( ( C120 - C119 ) mod R4 ) <= ( R4 - 1 )
proof
per cases ;
suppose L771: ( 0 ) <= ( C120 - C119 );

thus L772: thesis by L771 , L763 , L765 , NAT_D:63;
end;
suppose L773: ( 0 ) > ( C120 - C119 );

L774: ( C120 - C119 ) <= ( - 1 ) by L773 , INT_1:8;
L775: ( R4 + ( C120 - C119 ) ) <= ( R4 + ( - 1 ) ) by L774 , XREAL_1:6;
thus L776: thesis by L775 , L769 , L773 , NAT_D:63;
end;
end;
L778: ( ( ( C120 - C119 ) mod R4 ) + 1 ) <= ( ( R4 - 1 ) + 1 ) by L770 , XREAL_1:6;
L779: ( ( ( C120 - C119 ) mod R4 ) + 1 ) >= ( ( 0 ) + 1 ) by L755 , XREAL_1:6;
L780: ( ( ( C120 - C119 ) mod R4 ) + 1 ) in ( Seg R4 ) by L779 , L778 , L756;
L781: ( ( ( C120 - C119 ) mod ( len D27 ) ) + 1 ) in ( Seg R4 ) by L780 , L752 , MATRIX_1:def 7;
L782: ( D26 * (C119 , C120) ) = ( D27 . ( ( ( C120 - C119 ) mod ( len D27 ) ) + 1 ) )
proof
per cases ;
suppose L783: C119 = C120;

L784: ( ( 0 ) + 1 ) <= R4 by L750 , NAT_1:13;
L785: 1 in ( Seg R4 ) by L784;
L786: [ 1 , 1 ] in ( Indices D26 ) by L785 , L751 , ZFMISC_1:87;
L787: ( ( C120 - C119 ) mod ( len D27 ) ) = ( 0 ) by L750 , L753 , L783 , NAT_D:63;
L788: ( D27 . ( ( ( C120 - C119 ) mod ( len D27 ) ) + 1 ) ) = ( D26 * (1 , 1) ) by L787 , L752 , L781 , MATRIX_1:def 7
.= ( 1_ R6 ) by L786 , MATRIX_1:def 11;
thus L789: thesis by L788 , L757 , L783 , MATRIX_1:def 11;
end;
suppose L790: C119 <> C120;

L791: ( ( C120 - C119 ) mod R4 ) <> ( 0 )
proof
per cases ;
suppose L792: ( 0 ) <= ( C120 - C119 );

L793: ( ( C120 - C119 ) mod R4 ) = ( C120 - C119 ) by L792 , L765 , NAT_D:63;
thus L794: thesis by L793 , L790;
end;
suppose L795: ( 0 ) > ( C120 - C119 );

L796: ( ( 1 - R4 ) + R4 ) <= ( ( C120 - C119 ) + R4 ) by L767 , XREAL_1:6;
thus L797: thesis by L796 , L769 , L795 , NAT_D:63;
end;
end;
L799: ( ( ( C120 - C119 ) mod ( len D27 ) ) + 1 ) <> 1 by L791 , L752 , MATRIX_1:def 7;
set D28 = ( ( ( C120 - C119 ) mod ( len D27 ) ) + 1 );
reconsider D29 = D28 as Nat by L752 , L756 , MATRIX_1:def 7;
L800: ( ( 0 ) + 1 ) <= R4 by L750 , NAT_1:13;
L801: 1 in ( Seg R4 ) by L800;
L802: D29 in ( Seg R4 ) by L752 , L780 , MATRIX_1:def 7;
L803: [ 1 , D29 ] in ( Indices D26 ) by L802 , L751 , L801 , ZFMISC_1:87;
L804: ( D27 . D29 ) = ( D26 * (1 , D29) ) by L752 , L781 , MATRIX_1:def 7
.= ( 0. R6 ) by L799 , L803 , MATRIX_1:def 11;
thus L805: thesis by L804 , L757 , L790 , MATRIX_1:def 11;
end;
end;
thus L807: thesis by L782;
end;
L808: D26 is_line_circulant_about D27 by L754 , L752 , L753 , L68;
consider C121 being (FinSequence of R6) such that L809: (( len C121 ) = ( width D26 ) & D26 is_line_circulant_about C121) by L808 , L752 , L753;
take C121;
thus L810: thesis by L809;
end;
theorem
L811: (for R6 being Field holds (for R7 being (Element of R6) holds (for R10 being (FinSequence of R6) holds (R10 is  first-line-of-circulant implies ( R7 * R10 ) is  first-line-of-circulant))))
proof
let R6 being Field;
let R7 being (Element of R6);
let R10 being (FinSequence of R6);
set D30 = ( len R10 );
L812: ( len ( R7 * R10 ) ) = ( len R10 ) by MATRIXR1:16;
assume L813: R10 is  first-line-of-circulant;
consider C122 being (Matrix of D30 , R6) such that L814: C122 is_line_circulant_about R10 by L813 , L72;
L815: ( Indices ( R7 * C122 ) ) = [: ( Seg D30 ) , ( Seg D30 ) :] by MATRIX_1:24;
L816: ( dom R10 ) = ( Seg D30 ) by FINSEQ_1:def 3;
L817: ( dom ( R7 * R10 ) ) = ( Seg ( len ( R7 * R10 ) ) ) by FINSEQ_1:def 3;
L818: (for B73 , B74 being Nat holds ([ B73 , B74 ] in ( Indices ( R7 * C122 ) ) implies ( ( R7 * C122 ) * (B73 , B74) ) = ( ( R7 * R10 ) . ( ( ( B74 - B73 ) mod ( len ( R7 * R10 ) ) ) + 1 ) )))
proof
let C123 , C124 being Nat;
assume L819: [ C123 , C124 ] in ( Indices ( R7 * C122 ) );
L820: ( ( ( C124 - C123 ) mod D30 ) + 1 ) in ( Seg D30 ) by L819 , L815 , L34;
L821: ( ( ( C124 - C123 ) mod ( len R10 ) ) + 1 ) in ( dom ( R7 * R10 ) ) by L820 , L817 , MATRIXR1:16;
L822: [ C123 , C124 ] in ( Indices C122 ) by L815 , L819 , MATRIX_1:24;
L823: ( ( R7 * C122 ) * (C123 , C124) ) = ( R7 * ( C122 * (C123 , C124) ) ) by L822 , MATRIX_3:def 5
.= ( ( R7 multfield ) . ( C122 * (C123 , C124) ) ) by FVSUM_1:49
.= ( ( R7 multfield ) . ( R10 . ( ( ( C124 - C123 ) mod ( len R10 ) ) + 1 ) ) ) by L814 , L822 , L68
.= ( ( R7 multfield ) . ( R10 /. ( ( ( C124 - C123 ) mod ( len R10 ) ) + 1 ) ) ) by L816 , L820 , PARTFUN1:def 6
.= ( R7 * ( R10 /. ( ( ( C124 - C123 ) mod ( len R10 ) ) + 1 ) ) ) by FVSUM_1:49
.= ( ( R7 * R10 ) /. ( ( ( C124 - C123 ) mod ( len R10 ) ) + 1 ) ) by L816 , L820 , POLYNOM1:def 1
.= ( ( R7 * R10 ) . ( ( ( C124 - C123 ) mod ( len R10 ) ) + 1 ) ) by L821 , PARTFUN1:def 6;
thus L824: thesis by L823 , MATRIXR1:16;
end;
L825: ( width ( R7 * C122 ) ) = D30 by MATRIX_1:24;
L826: ( R7 * C122 ) is_line_circulant_about ( R7 * R10 ) by L825 , L812 , L818 , L68;
consider C125 being (Matrix of ( len ( R7 * R10 ) ) , R6) such that L827: C125 is_line_circulant_about ( R7 * R10 ) by L826 , L812;
take C125;
thus L828: thesis by L827;
end;
theorem
L829: (for R6 being Field holds (for R7 being (Element of R6) holds (for R10 being (FinSequence of R6) holds (R10 is  first-line-of-circulant implies ( LCirc ( R7 * R10 ) ) = ( R7 * ( LCirc R10 ) )))))
proof
let R6 being Field;
let R7 being (Element of R6);
let R10 being (FinSequence of R6);
set D31 = ( len R10 );
L830: ( len ( R7 * R10 ) ) = ( len R10 ) by MATRIXR1:16;
assume L831: R10 is  first-line-of-circulant;
L832: ( R7 * R10 ) is  first-line-of-circulant by L831 , L811;
L833: ( LCirc ( R7 * R10 ) ) is_line_circulant_about ( R7 * R10 ) by L832 , L81;
L834: ( Indices ( LCirc R10 ) ) = [: ( Seg D31 ) , ( Seg D31 ) :] by MATRIX_1:24;
L835: ( LCirc R10 ) is_line_circulant_about R10 by L831 , L81;
L836: (for B75 , B76 being Nat holds ([ B75 , B76 ] in ( Indices ( LCirc R10 ) ) implies ( ( LCirc ( R7 * R10 ) ) * (B75 , B76) ) = ( R7 * ( ( LCirc R10 ) * (B75 , B76) ) )))
proof
let C126 , C127 being Nat;
L837: ( dom ( R7 * R10 ) ) = ( Seg ( len ( R7 * R10 ) ) ) by FINSEQ_1:def 3;
assume L838: [ C126 , C127 ] in ( Indices ( LCirc R10 ) );
L839: ( ( ( C127 - C126 ) mod D31 ) + 1 ) in ( Seg D31 ) by L838 , L834 , L34;
L840: ( dom R10 ) = ( Seg ( len R10 ) ) by FINSEQ_1:def 3;
L841: [ C126 , C127 ] in ( Indices ( LCirc ( R7 * R10 ) ) ) by L830 , L838 , MATRIX_1:26;
L842: ( ( LCirc ( R7 * R10 ) ) * (C126 , C127) ) = ( ( R7 * R10 ) . ( ( ( C127 - C126 ) mod ( len ( R7 * R10 ) ) ) + 1 ) ) by L841 , L833 , L68
.= ( ( R7 * R10 ) /. ( ( ( C127 - C126 ) mod ( len R10 ) ) + 1 ) ) by L830 , L839 , L837 , PARTFUN1:def 6
.= ( R7 * ( R10 /. ( ( ( C127 - C126 ) mod ( len R10 ) ) + 1 ) ) ) by L839 , L840 , POLYNOM1:def 1
.= ( ( R7 multfield ) . ( R10 /. ( ( ( C127 - C126 ) mod ( len R10 ) ) + 1 ) ) ) by FVSUM_1:49
.= ( ( R7 multfield ) . ( R10 . ( ( ( C127 - C126 ) mod ( len R10 ) ) + 1 ) ) ) by L839 , L840 , PARTFUN1:def 6
.= ( ( R7 multfield ) . ( ( LCirc R10 ) * (C126 , C127) ) ) by L835 , L838 , L68
.= ( R7 * ( ( LCirc R10 ) * (C126 , C127) ) ) by FVSUM_1:49;
thus L843: thesis by L842;
end;
L844: (( len ( LCirc R10 ) ) = ( len R10 ) & ( width ( LCirc R10 ) ) = ( len R10 )) by MATRIX_1:24;
L845: (( len ( LCirc ( R7 * R10 ) ) ) = ( len R10 ) & ( width ( LCirc ( R7 * R10 ) ) ) = ( len R10 )) by L830 , MATRIX_1:24;
thus L846: thesis by L845 , L844 , L836 , MATRIX_3:def 5;
end;
theorem
L847: (for R6 being Field holds (for R7 being (Element of R6) holds (for R8 being (Element of R6) holds (for R10 being (FinSequence of R6) holds (R10 is  first-line-of-circulant implies ( ( R7 * ( LCirc R10 ) ) + ( R8 * ( LCirc R10 ) ) ) = ( LCirc ( ( R7 + R8 ) * R10 ) ))))))
proof
let R6 being Field;
let R7 being (Element of R6);
let R8 being (Element of R6);
let R10 being (FinSequence of R6);
L848: ( len ( R8 * R10 ) ) = ( len R10 ) by MATRIXR1:16;
L849: R10 is (Element of ( ( len R10 ) -tuples_on (the carrier of R6) )) by FINSEQ_2:92;
assume L850: R10 is  first-line-of-circulant;
L851: (( R7 * R10 ) is  first-line-of-circulant & ( R8 * R10 ) is  first-line-of-circulant) by L850 , L811;
L852: (( R7 * ( LCirc R10 ) ) = ( LCirc ( R7 * R10 ) ) & ( R8 * ( LCirc R10 ) ) = ( LCirc ( R8 * R10 ) )) by L850 , L829;
L853: ( ( R7 * ( LCirc R10 ) ) + ( R8 * ( LCirc R10 ) ) ) = ( LCirc ( ( R7 * R10 ) + ( R8 * R10 ) ) ) by L852 , L851 , L848 , L577 , MATRIXR1:16;
thus L854: thesis by L853 , L849 , FVSUM_1:55;
end;
theorem
L855: (for R6 being Field holds (for R7 being (Element of R6) holds (for R10 being (FinSequence of R6) holds (for R11 being (FinSequence of R6) holds ((R10 is  first-line-of-circulant & R11 is  first-line-of-circulant & ( len R10 ) = ( len R11 )) implies ( ( R7 * ( LCirc R10 ) ) + ( R7 * ( LCirc R11 ) ) ) = ( LCirc ( R7 * ( R10 + R11 ) ) ))))))
proof
let R6 being Field;
let R7 being (Element of R6);
let R10 being (FinSequence of R6);
let R11 being (FinSequence of R6);
assume that
L856: (R10 is  first-line-of-circulant & R11 is  first-line-of-circulant)
and
L857: ( len R10 ) = ( len R11 );
L858: (( len ( LCirc R10 ) ) = ( len R10 ) & ( width ( LCirc R10 ) ) = ( len R10 )) by MATRIX_1:24;
L859: (( len ( LCirc R11 ) ) = ( len R10 ) & ( width ( LCirc R11 ) ) = ( len R10 )) by L857 , MATRIX_1:24;
L860: ( ( R7 * ( LCirc R10 ) ) + ( R7 * ( LCirc R11 ) ) ) = ( R7 * ( ( LCirc R10 ) + ( LCirc R11 ) ) ) by L859 , L858 , MATRIX_5:20
.= ( R7 * ( LCirc ( R10 + R11 ) ) ) by L856 , L857 , L577
.= ( LCirc ( R7 * ( R10 + R11 ) ) ) by L856 , L857 , L552 , L829;
thus L861: thesis by L860;
end;
theorem
L862: (for R6 being Field holds (for R7 being (Element of R6) holds (for R8 being (Element of R6) holds (for R10 being (FinSequence of R6) holds (for R11 being (FinSequence of R6) holds ((R10 is  first-line-of-circulant & R11 is  first-line-of-circulant & ( len R10 ) = ( len R11 )) implies ( ( R7 * ( LCirc R10 ) ) + ( R8 * ( LCirc R11 ) ) ) = ( LCirc ( ( R7 * R10 ) + ( R8 * R11 ) ) )))))))
proof
let R6 being Field;
let R7 being (Element of R6);
let R8 being (Element of R6);
let R10 being (FinSequence of R6);
let R11 being (FinSequence of R6);
set D32 = ( len R10 );
assume that
L863: R10 is  first-line-of-circulant
and
L864: R11 is  first-line-of-circulant
and
L865: ( len R10 ) = ( len R11 );
L866: (( R7 * R10 ) is  first-line-of-circulant & ( R8 * R11 ) is  first-line-of-circulant) by L863 , L864 , L811;
L867: ( len ( R8 * R11 ) ) = D32 by L865 , MATRIXR1:16;
L868: ( ( R7 * ( LCirc R10 ) ) + ( R8 * ( LCirc R11 ) ) ) = ( ( LCirc ( R7 * R10 ) ) + ( R8 * ( LCirc R11 ) ) ) by L863 , L829
.= ( ( LCirc ( R7 * R10 ) ) + ( LCirc ( R8 * R11 ) ) ) by L864 , L829
.= ( LCirc ( ( R7 * R10 ) + ( R8 * R11 ) ) ) by L866 , L867 , L577 , MATRIXR1:16;
thus L869: thesis by L868;
end;
theorem
L870: (for R6 being Field holds (for R7 being (Element of R6) holds (for R10 being (FinSequence of R6) holds (R10 is  first-col-of-circulant implies ( R7 * R10 ) is  first-col-of-circulant))))
proof
let R6 being Field;
let R7 being (Element of R6);
let R10 being (FinSequence of R6);
set D33 = ( len R10 );
L871: ( len ( R7 * R10 ) ) = ( len R10 ) by MATRIXR1:16;
assume L872: R10 is  first-col-of-circulant;
consider C128 being (Matrix of D33 , R6) such that L873: C128 is_col_circulant_about R10 by L872 , L78;
L874: ( Indices ( R7 * C128 ) ) = [: ( Seg D33 ) , ( Seg D33 ) :] by MATRIX_1:24;
L875: ( dom R10 ) = ( Seg D33 ) by FINSEQ_1:def 3;
L876: ( dom ( R7 * R10 ) ) = ( Seg ( len ( R7 * R10 ) ) ) by FINSEQ_1:def 3;
L877: (for B77 , B78 being Nat holds ([ B77 , B78 ] in ( Indices ( R7 * C128 ) ) implies ( ( R7 * C128 ) * (B77 , B78) ) = ( ( R7 * R10 ) . ( ( ( B77 - B78 ) mod ( len ( R7 * R10 ) ) ) + 1 ) )))
proof
let C129 , C130 being Nat;
assume L878: [ C129 , C130 ] in ( Indices ( R7 * C128 ) );
L879: ( ( ( C129 - C130 ) mod D33 ) + 1 ) in ( Seg D33 ) by L878 , L874 , L34;
L880: ( ( ( C129 - C130 ) mod ( len R10 ) ) + 1 ) in ( dom ( R7 * R10 ) ) by L879 , L876 , MATRIXR1:16;
L881: [ C129 , C130 ] in ( Indices C128 ) by L874 , L878 , MATRIX_1:24;
L882: ( ( R7 * C128 ) * (C129 , C130) ) = ( R7 * ( C128 * (C129 , C130) ) ) by L881 , MATRIX_3:def 5
.= ( ( R7 multfield ) . ( C128 * (C129 , C130) ) ) by FVSUM_1:49
.= ( ( R7 multfield ) . ( R10 . ( ( ( C129 - C130 ) mod ( len R10 ) ) + 1 ) ) ) by L873 , L881 , L74
.= ( ( R7 multfield ) . ( R10 /. ( ( ( C129 - C130 ) mod ( len R10 ) ) + 1 ) ) ) by L875 , L879 , PARTFUN1:def 6
.= ( R7 * ( R10 /. ( ( ( C129 - C130 ) mod ( len R10 ) ) + 1 ) ) ) by FVSUM_1:49
.= ( ( R7 * R10 ) /. ( ( ( C129 - C130 ) mod ( len R10 ) ) + 1 ) ) by L875 , L879 , POLYNOM1:def 1
.= ( ( R7 * R10 ) . ( ( ( C129 - C130 ) mod ( len R10 ) ) + 1 ) ) by L880 , PARTFUN1:def 6;
thus L883: thesis by L882 , MATRIXR1:16;
end;
L884: ( len ( R7 * C128 ) ) = D33 by MATRIX_1:24;
L885: ( R7 * C128 ) is_col_circulant_about ( R7 * R10 ) by L884 , L871 , L877 , L74;
consider C131 being (Matrix of ( len ( R7 * R10 ) ) , R6) such that L886: C131 is_col_circulant_about ( R7 * R10 ) by L885 , L871;
take C131;
thus L887: thesis by L886;
end;
theorem
L888: (for R6 being Field holds (for R7 being (Element of R6) holds (for R10 being (FinSequence of R6) holds (R10 is  first-col-of-circulant implies ( CCirc ( R7 * R10 ) ) = ( R7 * ( CCirc R10 ) )))))
proof
let R6 being Field;
let R7 being (Element of R6);
let R10 being (FinSequence of R6);
set D34 = ( len R10 );
L889: ( len ( R7 * R10 ) ) = ( len R10 ) by MATRIXR1:16;
assume L890: R10 is  first-col-of-circulant;
L891: ( R7 * R10 ) is  first-col-of-circulant by L890 , L870;
L892: ( CCirc ( R7 * R10 ) ) is_col_circulant_about ( R7 * R10 ) by L891 , L92;
L893: ( Indices ( CCirc R10 ) ) = [: ( Seg D34 ) , ( Seg D34 ) :] by MATRIX_1:24;
L894: ( CCirc R10 ) is_col_circulant_about R10 by L890 , L92;
L895: (for B79 , B80 being Nat holds ([ B79 , B80 ] in ( Indices ( CCirc R10 ) ) implies ( ( CCirc ( R7 * R10 ) ) * (B79 , B80) ) = ( R7 * ( ( CCirc R10 ) * (B79 , B80) ) )))
proof
let C132 , C133 being Nat;
L896: ( dom ( R7 * R10 ) ) = ( Seg ( len ( R7 * R10 ) ) ) by FINSEQ_1:def 3;
assume L897: [ C132 , C133 ] in ( Indices ( CCirc R10 ) );
L898: ( ( ( C132 - C133 ) mod D34 ) + 1 ) in ( Seg D34 ) by L897 , L893 , L34;
L899: ( dom R10 ) = ( Seg ( len R10 ) ) by FINSEQ_1:def 3;
L900: [ C132 , C133 ] in ( Indices ( CCirc ( R7 * R10 ) ) ) by L889 , L897 , MATRIX_1:26;
L901: ( ( CCirc ( R7 * R10 ) ) * (C132 , C133) ) = ( ( R7 * R10 ) . ( ( ( C132 - C133 ) mod ( len ( R7 * R10 ) ) ) + 1 ) ) by L900 , L892 , L74
.= ( ( R7 * R10 ) /. ( ( ( C132 - C133 ) mod ( len R10 ) ) + 1 ) ) by L889 , L898 , L896 , PARTFUN1:def 6
.= ( R7 * ( R10 /. ( ( ( C132 - C133 ) mod ( len R10 ) ) + 1 ) ) ) by L898 , L899 , POLYNOM1:def 1
.= ( ( R7 multfield ) . ( R10 /. ( ( ( C132 - C133 ) mod ( len R10 ) ) + 1 ) ) ) by FVSUM_1:49
.= ( ( R7 multfield ) . ( R10 . ( ( ( C132 - C133 ) mod ( len R10 ) ) + 1 ) ) ) by L898 , L899 , PARTFUN1:def 6
.= ( ( R7 multfield ) . ( ( CCirc R10 ) * (C132 , C133) ) ) by L894 , L897 , L74
.= ( R7 * ( ( CCirc R10 ) * (C132 , C133) ) ) by FVSUM_1:49;
thus L902: thesis by L901;
end;
L903: (( len ( CCirc R10 ) ) = ( len R10 ) & ( width ( CCirc R10 ) ) = ( len R10 )) by MATRIX_1:24;
L904: (( len ( CCirc ( R7 * R10 ) ) ) = ( len R10 ) & ( width ( CCirc ( R7 * R10 ) ) ) = ( len R10 )) by L889 , MATRIX_1:24;
thus L905: thesis by L904 , L903 , L895 , MATRIX_3:def 5;
end;
theorem
L906: (for R6 being Field holds (for R7 being (Element of R6) holds (for R8 being (Element of R6) holds (for R10 being (FinSequence of R6) holds (R10 is  first-col-of-circulant implies ( ( R7 * ( CCirc R10 ) ) + ( R8 * ( CCirc R10 ) ) ) = ( CCirc ( ( R7 + R8 ) * R10 ) ))))))
proof
let R6 being Field;
let R7 being (Element of R6);
let R8 being (Element of R6);
let R10 being (FinSequence of R6);
L907: ( len ( R8 * R10 ) ) = ( len R10 ) by MATRIXR1:16;
L908: R10 is (Element of ( ( len R10 ) -tuples_on (the carrier of R6) )) by FINSEQ_2:92;
assume L909: R10 is  first-col-of-circulant;
L910: (( R7 * R10 ) is  first-col-of-circulant & ( R8 * R10 ) is  first-col-of-circulant) by L909 , L870;
L911: (( R7 * ( CCirc R10 ) ) = ( CCirc ( R7 * R10 ) ) & ( R8 * ( CCirc R10 ) ) = ( CCirc ( R8 * R10 ) )) by L909 , L888;
L912: ( ( R7 * ( CCirc R10 ) ) + ( R8 * ( CCirc R10 ) ) ) = ( CCirc ( ( R7 * R10 ) + ( R8 * R10 ) ) ) by L911 , L910 , L907 , L662 , MATRIXR1:16;
thus L913: thesis by L912 , L908 , FVSUM_1:55;
end;
theorem
L914: (for R6 being Field holds (for R7 being (Element of R6) holds (for R10 being (FinSequence of R6) holds (for R11 being (FinSequence of R6) holds ((R10 is  first-col-of-circulant & R11 is  first-col-of-circulant & ( len R10 ) = ( len R11 ) & ( len R10 ) > ( 0 )) implies ( ( R7 * ( CCirc R10 ) ) + ( R7 * ( CCirc R11 ) ) ) = ( CCirc ( R7 * ( R10 + R11 ) ) ))))))
proof
let R6 being Field;
let R7 being (Element of R6);
let R10 being (FinSequence of R6);
let R11 being (FinSequence of R6);
assume that
L915: (R10 is  first-col-of-circulant & R11 is  first-col-of-circulant)
and
L916: ( len R10 ) = ( len R11 );
L917: (( len ( CCirc R10 ) ) = ( len R10 ) & ( width ( CCirc R10 ) ) = ( len R10 )) by MATRIX_1:24;
L918: (( len ( CCirc R11 ) ) = ( len R10 ) & ( width ( CCirc R11 ) ) = ( len R10 )) by L916 , MATRIX_1:24;
L919: ( ( R7 * ( CCirc R10 ) ) + ( R7 * ( CCirc R11 ) ) ) = ( R7 * ( ( CCirc R10 ) + ( CCirc R11 ) ) ) by L918 , L917 , MATRIX_5:20
.= ( R7 * ( CCirc ( R10 + R11 ) ) ) by L915 , L916 , L662
.= ( CCirc ( R7 * ( R10 + R11 ) ) ) by L915 , L916 , L637 , L888;
thus L920: thesis by L919;
end;
theorem
L921: (for R6 being Field holds (for R7 being (Element of R6) holds (for R8 being (Element of R6) holds (for R10 being (FinSequence of R6) holds (for R11 being (FinSequence of R6) holds ((R10 is  first-col-of-circulant & R11 is  first-col-of-circulant & ( len R10 ) = ( len R11 )) implies ( ( R7 * ( CCirc R10 ) ) + ( R8 * ( CCirc R11 ) ) ) = ( CCirc ( ( R7 * R10 ) + ( R8 * R11 ) ) )))))))
proof
let R6 being Field;
let R7 being (Element of R6);
let R8 being (Element of R6);
let R10 being (FinSequence of R6);
let R11 being (FinSequence of R6);
set D35 = ( len R10 );
assume that
L922: R10 is  first-col-of-circulant
and
L923: R11 is  first-col-of-circulant
and
L924: ( len R10 ) = ( len R11 );
L925: (( R7 * R10 ) is  first-col-of-circulant & ( R8 * R11 ) is  first-col-of-circulant) by L922 , L923 , L870;
L926: ( len ( R8 * R11 ) ) = D35 by L924 , MATRIXR1:16;
L927: ( ( R7 * ( CCirc R10 ) ) + ( R8 * ( CCirc R11 ) ) ) = ( ( CCirc ( R7 * R10 ) ) + ( R8 * ( CCirc R11 ) ) ) by L922 , L888
.= ( ( CCirc ( R7 * R10 ) ) + ( CCirc ( R8 * R11 ) ) ) by L923 , L888
.= ( CCirc ( ( R7 * R10 ) + ( R8 * R11 ) ) ) by L925 , L926 , L662 , MATRIXR1:16;
thus L928: thesis by L927;
end;
notation
let C134 being set;
let C135 being (Matrix of C134);
synonym C135 is  circulant for C135 is  line_circulant;
end;
begin
definition
let C136 being Field;
let C137 being (Matrix of C136);
let C138 being (FinSequence of C136);
pred C137 is_anti-circular_about C138
means
:L930: (( len C138 ) = ( width C137 ) & (for B81 , B82 being Nat holds (([ B81 , B82 ] in ( Indices C137 ) & B81 <= B82) implies ( C137 * (B81 , B82) ) = ( C138 . ( ( ( B82 - B81 ) mod ( len C138 ) ) + 1 ) ))) & (for B83 , B84 being Nat holds (([ B83 , B84 ] in ( Indices C137 ) & B83 >= B84) implies ( C137 * (B83 , B84) ) = ( ( - C138 ) . ( ( ( B84 - B83 ) mod ( len C138 ) ) + 1 ) ))))
;end;
definition
let C139 being Field;
let C140 being (Matrix of C139);
attr C140 is  anti-circular
means
:L932: (ex B85 being (FinSequence of C139) st (( len B85 ) = ( width C140 ) & C140 is_anti-circular_about B85));
end;
definition
let C141 being Field;
let C142 being (FinSequence of C141);
attr C142 is  first-line-of-anti-circular
means
:L934: (ex B86 being (Matrix of ( len C142 ) , C141) st B86 is_anti-circular_about C142);
end;
definition
let C143 being Field;
let C144 being (FinSequence of C143);
assume L936: C144 is  first-line-of-anti-circular;
func ACirc C144 -> (Matrix of ( len C144 ) , C143) means 
:L937: it is_anti-circular_about C144;
existence by L936 , L934;
uniqueness
proof
let C145 , C146 being (Matrix of ( len C144 ) , C143);
assume that
L938: C145 is_anti-circular_about C144
and
L939: C146 is_anti-circular_about C144;
L940: ( Indices C145 ) = ( Indices C146 ) by MATRIX_1:26;
L941: (for B87 , B88 being Nat holds ([ B87 , B88 ] in ( Indices C145 ) implies ( C145 * (B87 , B88) ) = ( C146 * (B87 , B88) )))
proof
let C147 , C148 being Nat;
assume L942: [ C147 , C148 ] in ( Indices C145 );
per cases ;
suppose L943: C147 <= C148;

L944: ( C145 * (C147 , C148) ) = ( C144 . ( ( ( C148 - C147 ) mod ( len C144 ) ) + 1 ) ) by L943 , L938 , L942 , L930;
thus L945: thesis by L944 , L939 , L940 , L942 , L943 , L930;
end;
suppose L946: C147 > C148;

L947: ( C145 * (C147 , C148) ) = ( ( - C144 ) . ( ( ( C148 - C147 ) mod ( len C144 ) ) + 1 ) ) by L946 , L938 , L942 , L930;
thus L948: thesis by L947 , L939 , L940 , L942 , L946 , L930;
end;
end;
thus L950: thesis by L941 , MATRIX_1:27;
end;
end;
theorem
L952: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R7 being (Element of R6) holds (for R12 being (Matrix of R4 , R6) holds (R12 is  anti-circular implies ( R7 * R12 ) is  anti-circular)))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R7 being (Element of R6);
let R12 being (Matrix of R4 , R6);
L953: ( Indices ( R7 * R12 ) ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
assume L954: R12 is  anti-circular;
consider C149 being (FinSequence of R6) such that L955: ( len C149 ) = ( width R12 ) and L956: R12 is_anti-circular_about C149 by L954 , L932;
L957: ( width R12 ) = R4 by MATRIX_1:24;
L958: ( dom C149 ) = ( Seg R4 ) by L957 , L955 , FINSEQ_1:def 3;
L959: ( dom ( R7 * C149 ) ) = ( Seg ( len ( R7 * C149 ) ) ) by FINSEQ_1:def 3;
L960: (for B89 , B90 being Nat holds (([ B89 , B90 ] in ( Indices ( R7 * R12 ) ) & B89 <= B90) implies ( ( R7 * R12 ) * (B89 , B90) ) = ( ( R7 * C149 ) . ( ( ( B90 - B89 ) mod ( len ( R7 * C149 ) ) ) + 1 ) )))
proof
let C150 , C151 being Nat;
assume that
L961: [ C150 , C151 ] in ( Indices ( R7 * R12 ) )
and
L962: C150 <= C151;
L963: ( ( ( C151 - C150 ) mod R4 ) + 1 ) in ( Seg R4 ) by L953 , L961 , L34;
L964: ( ( ( C151 - C150 ) mod ( len C149 ) ) + 1 ) in ( dom ( R7 * C149 ) ) by L963 , L955 , L957 , L959 , MATRIXR1:16;
L965: [ C150 , C151 ] in ( Indices R12 ) by L953 , L961 , MATRIX_1:24;
L966: ( ( R7 * R12 ) * (C150 , C151) ) = ( R7 * ( R12 * (C150 , C151) ) ) by L965 , MATRIX_3:def 5
.= ( ( R7 multfield ) . ( R12 * (C150 , C151) ) ) by FVSUM_1:49
.= ( ( R7 multfield ) . ( C149 . ( ( ( C151 - C150 ) mod ( len C149 ) ) + 1 ) ) ) by L956 , L962 , L965 , L930
.= ( ( R7 multfield ) . ( C149 /. ( ( ( C151 - C150 ) mod ( len C149 ) ) + 1 ) ) ) by L955 , L957 , L958 , L963 , PARTFUN1:def 6
.= ( R7 * ( C149 /. ( ( ( C151 - C150 ) mod ( len C149 ) ) + 1 ) ) ) by FVSUM_1:49
.= ( ( R7 * C149 ) /. ( ( ( C151 - C150 ) mod ( len C149 ) ) + 1 ) ) by L955 , L957 , L958 , L963 , POLYNOM1:def 1
.= ( ( R7 * C149 ) . ( ( ( C151 - C150 ) mod ( len C149 ) ) + 1 ) ) by L964 , PARTFUN1:def 6;
thus L967: thesis by L966 , MATRIXR1:16;
end;
L968: ( width ( R7 * R12 ) ) = R4 by MATRIX_1:24;
L969: ( len C149 ) = R4 by L955 , MATRIX_1:24;
L970: ( len ( R7 * C149 ) ) = ( len C149 ) by MATRIXR1:16;
L971: (for B91 , B92 being Nat holds (([ B91 , B92 ] in ( Indices ( R7 * R12 ) ) & B91 >= B92) implies ( ( R7 * R12 ) * (B91 , B92) ) = ( ( - ( R7 * C149 ) ) . ( ( ( B92 - B91 ) mod ( len ( R7 * C149 ) ) ) + 1 ) )))
proof
L972: ( len ( R7 * ( - C149 ) ) ) = ( len ( - C149 ) ) by MATRIXR1:16;
L973: ( dom ( R7 * ( - C149 ) ) ) = ( Seg ( len ( - C149 ) ) ) by L972 , FINSEQ_1:def 3
.= ( dom ( - C149 ) ) by FINSEQ_1:def 3;
L974: ( R7 * C149 ) is (Element of ( R4 -tuples_on (the carrier of R6) )) by L970 , L969 , FINSEQ_2:92;
let C152 , C153 being Nat;
assume that
L975: [ C152 , C153 ] in ( Indices ( R7 * R12 ) )
and
L976: C152 >= C153;
L977: ( ( ( C153 - C152 ) mod R4 ) + 1 ) in ( Seg R4 ) by L953 , L975 , L34;
L978: C149 is (Element of ( R4 -tuples_on (the carrier of R6) )) by L969 , FINSEQ_2:92;
L979: ( - C149 ) is (Element of ( ( len C149 ) -tuples_on (the carrier of R6) )) by L978 , L969 , FINSEQ_2:113;
L980: ( len ( - C149 ) ) = ( len C149 ) by L979 , CARD_1:def 7;
L981: ( dom ( - C149 ) ) = ( Seg R4 ) by L980 , L955 , L957 , FINSEQ_1:def 3;
L982: [ C152 , C153 ] in ( Indices R12 ) by L953 , L975 , MATRIX_1:24;
L983: ( ( R7 * R12 ) * (C152 , C153) ) = ( R7 * ( R12 * (C152 , C153) ) ) by L982 , MATRIX_3:def 5
.= ( ( R7 multfield ) . ( R12 * (C152 , C153) ) ) by FVSUM_1:49
.= ( ( R7 multfield ) . ( ( - C149 ) . ( ( ( C153 - C152 ) mod ( len C149 ) ) + 1 ) ) ) by L956 , L976 , L982 , L930
.= ( ( R7 multfield ) . ( ( - C149 ) /. ( ( ( C153 - C152 ) mod ( len C149 ) ) + 1 ) ) ) by L955 , L957 , L977 , L981 , PARTFUN1:def 6
.= ( R7 * ( ( - C149 ) /. ( ( ( C153 - C152 ) mod ( len C149 ) ) + 1 ) ) ) by FVSUM_1:49
.= ( ( R7 * ( - C149 ) ) /. ( ( ( C153 - C152 ) mod ( len C149 ) ) + 1 ) ) by L955 , L957 , L977 , L981 , POLYNOM1:def 1
.= ( ( R7 * ( - C149 ) ) . ( ( ( C153 - C152 ) mod ( len C149 ) ) + 1 ) ) by L955 , L957 , L977 , L981 , L973 , PARTFUN1:def 6
.= ( ( R7 * ( ( - ( 1_ R6 ) ) * C149 ) ) . ( ( ( C153 - C152 ) mod ( len C149 ) ) + 1 ) ) by L978 , FVSUM_1:59
.= ( ( ( R7 * ( - ( 1_ R6 ) ) ) * C149 ) . ( ( ( C153 - C152 ) mod ( len C149 ) ) + 1 ) ) by L978 , FVSUM_1:54
.= ( ( ( - ( R7 * ( 1_ R6 ) ) ) * C149 ) . ( ( ( C153 - C152 ) mod ( len C149 ) ) + 1 ) ) by VECTSP_1:8
.= ( ( ( - R7 ) * C149 ) . ( ( ( C153 - C152 ) mod ( len C149 ) ) + 1 ) ) by VECTSP_1:def 6
.= ( ( ( - ( ( 1_ R6 ) * R7 ) ) * C149 ) . ( ( ( C153 - C152 ) mod ( len C149 ) ) + 1 ) ) by VECTSP_1:def 6
.= ( ( ( ( - ( 1_ R6 ) ) * R7 ) * C149 ) . ( ( ( C153 - C152 ) mod ( len C149 ) ) + 1 ) ) by VECTSP_1:9
.= ( ( ( - ( 1_ R6 ) ) * ( R7 * C149 ) ) . ( ( ( C153 - C152 ) mod ( len C149 ) ) + 1 ) ) by L978 , FVSUM_1:54
.= ( ( - ( R7 * C149 ) ) . ( ( ( C153 - C152 ) mod ( len C149 ) ) + 1 ) ) by L974 , FVSUM_1:59;
thus L984: thesis by L983 , MATRIXR1:16;
end;
L985: ( R7 * R12 ) is_anti-circular_about ( R7 * C149 ) by L971 , L968 , L970 , L969 , L960 , L930;
consider C154 being (FinSequence of R6) such that L986: (( len C154 ) = ( width ( R7 * R12 ) ) & ( R7 * R12 ) is_anti-circular_about C154) by L985 , L955 , L968 , L970 , MATRIX_1:24;
take C154;
thus L987: thesis by L986;
end;
theorem
L988: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R12 being (Matrix of R4 , R6) holds (for R13 being (Matrix of R4 , R6) holds ((R12 is  anti-circular & R13 is  anti-circular) implies ( R12 + R13 ) is  anti-circular)))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R12 being (Matrix of R4 , R6);
let R13 being (Matrix of R4 , R6);
assume that
L989: R12 is  anti-circular
and
L990: R13 is  anti-circular;
consider C155 being (FinSequence of R6) such that L991: ( len C155 ) = ( width R12 ) and L992: R12 is_anti-circular_about C155 by L989 , L932;
L993: ( width R12 ) = R4 by MATRIX_1:24;
L994: ( dom C155 ) = ( Seg R4 ) by L993 , L991 , FINSEQ_1:def 3;
consider C156 being (FinSequence of R6) such that L995: ( len C156 ) = ( width R13 ) and L996: R13 is_anti-circular_about C156 by L990 , L932;
L997: ( dom ( C155 + C156 ) ) = ( Seg ( len ( C155 + C156 ) ) ) by FINSEQ_1:def 3;
L998: ( width R13 ) = R4 by MATRIX_1:24;
L999: ( dom C156 ) = ( Seg R4 ) by L998 , L995 , FINSEQ_1:def 3;
L1000: ( dom ( C155 + C156 ) ) = ( dom C155 ) by L999 , L994 , POLYNOM1:1;
L1001: ( len ( C155 + C156 ) ) = R4 by L1000 , L994 , FINSEQ_1:def 3;
L1002: C155 is (Element of ( ( len C155 ) -tuples_on (the carrier of R6) )) by FINSEQ_2:92;
L1003: ( - C155 ) is (Element of ( ( len C155 ) -tuples_on (the carrier of R6) )) by L1002 , FINSEQ_2:113;
L1004: ( len ( - C155 ) ) = ( len C155 ) by L1003 , CARD_1:def 7;
L1005: ( dom ( - C155 ) ) = ( Seg R4 ) by L1004 , L991 , L993 , FINSEQ_1:def 3;
L1006: ( Indices R13 ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
L1007: ( Indices ( R12 + R13 ) ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
L1008: ( Indices R12 ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
L1009: C156 is (Element of ( ( len C156 ) -tuples_on (the carrier of R6) )) by FINSEQ_2:92;
L1010: ( - C156 ) is (Element of ( ( len C156 ) -tuples_on (the carrier of R6) )) by L1009 , FINSEQ_2:113;
L1011: ( len ( - C156 ) ) = ( len C156 ) by L1010 , CARD_1:def 7;
L1012: ( dom ( - C156 ) ) = ( Seg R4 ) by L1011 , L995 , L998 , FINSEQ_1:def 3;
L1013: (for B93 , B94 being Nat holds (([ B93 , B94 ] in ( Indices ( R12 + R13 ) ) & B93 >= B94) implies ( ( R12 + R13 ) * (B93 , B94) ) = ( ( - ( C155 + C156 ) ) . ( ( ( B94 - B93 ) mod ( len ( C155 + C156 ) ) ) + 1 ) )))
proof
let C157 , C158 being Nat;
assume that
L1014: [ C157 , C158 ] in ( Indices ( R12 + R13 ) )
and
L1015: C157 >= C158;
L1016: ( dom ( ( - C155 ) + ( - C156 ) ) ) = ( dom ( - C155 ) ) by L1005 , L1012 , POLYNOM1:1;
L1017: ( ( ( C158 - C157 ) mod ( len ( C155 + C156 ) ) ) + 1 ) in ( dom ( ( - C155 ) + ( - C156 ) ) ) by L1016 , L1007 , L994 , L997 , L1005 , L1000 , L1014 , L34;
L1018: ( ( R12 + R13 ) * (C157 , C158) ) = ( ( R12 * (C157 , C158) ) + ( R13 * (C157 , C158) ) ) by L1008 , L1007 , L1014 , MATRIX_3:def 3
.= ( (the addF of R6) . (( R12 * (C157 , C158) ) , ( ( - C156 ) . ( ( ( C158 - C157 ) mod ( len C156 ) ) + 1 ) )) ) by L996 , L1006 , L1007 , L1014 , L1015 , L930
.= ( (the addF of R6) . (( ( - C155 ) . ( ( ( C158 - C157 ) mod ( len ( C155 + C156 ) ) ) + 1 ) ) , ( ( - C156 ) . ( ( ( C158 - C157 ) mod ( len ( C155 + C156 ) ) ) + 1 ) )) ) by L991 , L992 , L995 , L1008 , L993 , L998 , L1007 , L1001 , L1014 , L1015 , L930
.= ( ( ( - C155 ) + ( - C156 ) ) . ( ( ( C158 - C157 ) mod ( len ( C155 + C156 ) ) ) + 1 ) ) by L1017 , FUNCOP_1:22
.= ( ( - ( C155 + C156 ) ) . ( ( ( C158 - C157 ) mod ( len ( C155 + C156 ) ) ) + 1 ) ) by L991 , L995 , L1002 , L1009 , L993 , L998 , FVSUM_1:31;
thus L1019: thesis by L1018;
end;
L1020: ( width ( R12 + R13 ) ) = R4 by MATRIX_1:24;
L1021: (for B95 , B96 being Nat holds (([ B95 , B96 ] in ( Indices ( R12 + R13 ) ) & B95 <= B96) implies ( ( R12 + R13 ) * (B95 , B96) ) = ( ( C155 + C156 ) . ( ( ( B96 - B95 ) mod ( len ( C155 + C156 ) ) ) + 1 ) )))
proof
let C159 , C160 being Nat;
assume that
L1022: [ C159 , C160 ] in ( Indices ( R12 + R13 ) )
and
L1023: C159 <= C160;
L1024: ( ( ( C160 - C159 ) mod ( len ( C155 + C156 ) ) ) + 1 ) in ( dom ( C155 + C156 ) ) by L1007 , L994 , L997 , L1000 , L1022 , L34;
L1025: ( ( R12 + R13 ) * (C159 , C160) ) = ( ( R12 * (C159 , C160) ) + ( R13 * (C159 , C160) ) ) by L1008 , L1007 , L1022 , MATRIX_3:def 3
.= ( (the addF of R6) . (( R12 * (C159 , C160) ) , ( C156 . ( ( ( C160 - C159 ) mod ( len C156 ) ) + 1 ) )) ) by L996 , L1006 , L1007 , L1022 , L1023 , L930
.= ( (the addF of R6) . (( C155 . ( ( ( C160 - C159 ) mod ( len ( C155 + C156 ) ) ) + 1 ) ) , ( C156 . ( ( ( C160 - C159 ) mod ( len ( C155 + C156 ) ) ) + 1 ) )) ) by L991 , L992 , L995 , L1008 , L993 , L998 , L1007 , L1001 , L1022 , L1023 , L930
.= ( ( C155 + C156 ) . ( ( ( C160 - C159 ) mod ( len ( C155 + C156 ) ) ) + 1 ) ) by L1024 , FUNCOP_1:22;
thus L1026: thesis by L1025;
end;
L1027: ( R12 + R13 ) is_anti-circular_about ( C155 + C156 ) by L1021 , L1020 , L1001 , L1013 , L930;
consider C161 being (FinSequence of R6) such that L1028: (( len C161 ) = ( width ( R12 + R13 ) ) & ( R12 + R13 ) is_anti-circular_about C161) by L1027 , L1020 , L1001;
take C161;
thus L1029: thesis by L1028;
end;
theorem
L1030: (for B97 being  Fanoian Field holds (for B98 , B99 , B100 being Nat holds (for B101 being (Matrix of B98 , B97) holds (([ B99 , B100 ] in ( Indices B101 ) & B99 = B100 & B101 is  anti-circular) implies ( B101 * (B99 , B100) ) = ( 0. B97 )))))
proof
let C162 being  Fanoian Field;
let C163 , C164 , C165 being Nat;
let C166 being (Matrix of C163 , C162);
assume that
L1031: [ C164 , C165 ] in ( Indices C166 )
and
L1032: C164 = C165
and
L1033: C166 is  anti-circular;
consider C167 being (FinSequence of C162) such that L1034: ( len C167 ) = ( width C166 ) and L1035: C166 is_anti-circular_about C167 by L1033 , L932;
L1036: ( C166 * (C164 , C165) ) = ( C167 . ( ( ( C165 - C164 ) mod ( len C167 ) ) + 1 ) ) by L1031 , L1032 , L1035 , L930;
L1037: ( width C166 ) = C163 by MATRIX_1:24;
L1038: C167 is (Element of ( ( len C167 ) -tuples_on (the carrier of C162) )) by FINSEQ_2:92;
L1039: ( - C167 ) is (Element of ( ( len C167 ) -tuples_on (the carrier of C162) )) by L1038 , FINSEQ_2:113;
L1040: ( len ( - C167 ) ) = ( len C167 ) by L1039 , CARD_1:def 7;
L1041: (( Indices C166 ) = [: ( Seg C163 ) , ( Seg C163 ) :] & ( dom ( - C167 ) ) = ( Seg C163 )) by L1040 , L1034 , L1037 , FINSEQ_1:def 3 , MATRIX_1:24;
L1042: ( ( ( C165 - C164 ) mod ( len C167 ) ) + 1 ) in ( dom ( - C167 ) ) by L1041 , L1031 , L1034 , L1037 , L34;
L1043: ( C166 * (C164 , C165) ) = ( ( - C167 ) . ( ( ( C165 - C164 ) mod ( len C167 ) ) + 1 ) ) by L1031 , L1032 , L1035 , L930
.= ( ( comp C162 ) . ( C167 . ( ( ( C165 - C164 ) mod ( len C167 ) ) + 1 ) ) ) by L1042 , FUNCT_1:12
.= ( - ( C166 * (C164 , C165) ) ) by L1036 , VECTSP_1:def 13;
L1044: ( ( C166 * (C164 , C165) ) + ( C166 * (C164 , C165) ) ) = ( 0. C162 ) by L1043 , RLVECT_1:5;
L1045: ( ( ( 1_ C162 ) * ( C166 * (C164 , C165) ) ) + ( C166 * (C164 , C165) ) ) = ( 0. C162 ) by L1044 , VECTSP_1:def 8;
L1046: ( ( ( 1_ C162 ) * ( C166 * (C164 , C165) ) ) + ( ( 1_ C162 ) * ( C166 * (C164 , C165) ) ) ) = ( 0. C162 ) by L1045 , VECTSP_1:def 8;
L1047: (( ( 1_ C162 ) + ( 1_ C162 ) ) <> ( 0. C162 ) & ( ( ( 1_ C162 ) + ( 1_ C162 ) ) * ( C166 * (C164 , C165) ) ) = ( 0. C162 )) by L1046 , VECTSP_1:def 7 , VECTSP_1:def 19;
thus L1048: thesis by L1047 , VECTSP_1:12;
end;
theorem
L1049: (for R1 being (Element of ( NAT )) holds (for R2 being (Element of ( NAT )) holds (for R3 being (Element of ( NAT )) holds (for R4 being (Element of ( NAT )) holds (for R5 being (Element of ( NAT )) holds (for R6 being Field holds (for R12 being (Matrix of R4 , R6) holds ((R12 is  anti-circular & [ R1 , R2 ] in [: ( Seg R4 ) , ( Seg R4 ) :] & R3 = ( R1 + 1 ) & R5 = ( R2 + 1 ) & R1 < R4 & R2 < R4) implies ( R12 * (R3 , R5) ) = ( R12 * (R1 , R2) )))))))))
proof
let R1 being (Element of ( NAT ));
let R2 being (Element of ( NAT ));
let R3 being (Element of ( NAT ));
let R4 being (Element of ( NAT ));
let R5 being (Element of ( NAT ));
let R6 being Field;
let R12 being (Matrix of R4 , R6);
L1050:
now
per cases ;
case L1051: R1 <= R2;
L1052: ( R1 + 1 ) <= ( R2 + 1 ) by L1051 , XREAL_1:6;
L1053: ( Indices R12 ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
assume that
L1054: R12 is  anti-circular
and
L1055: [ R1 , R2 ] in [: ( Seg R4 ) , ( Seg R4 ) :]
and
L1056: R3 = ( R1 + 1 )
and
L1057: R5 = ( R2 + 1 )
and
L1058: R1 < R4
and
L1059: R2 < R4;
L1060: R2 in ( Seg R4 ) by L1055 , ZFMISC_1:87;
L1061: 1 <= R2 by L1060 , FINSEQ_1:1;
L1062: ( 1 + 1 ) <= ( R2 + 1 ) by L1061 , XREAL_1:6;
L1063: 1 <= ( R2 + 1 ) by L1062 , XXREAL_0:2;
L1064: ( R2 + 1 ) <= R4 by L1059 , INT_1:7;
L1065: R5 in ( Seg R4 ) by L1064 , L1057 , L1063;
L1066: R1 in ( Seg R4 ) by L1055 , ZFMISC_1:87;
L1067: 1 <= R1 by L1066 , FINSEQ_1:1;
L1068: ( 1 + 1 ) <= ( R1 + 1 ) by L1067 , XREAL_1:6;
L1069: 1 <= ( R1 + 1 ) by L1068 , XXREAL_0:2;
consider C168 being (FinSequence of R6) such that L1070: ( len C168 ) = ( width R12 ) and L1071: R12 is_anti-circular_about C168 by L1054 , L932;
L1072: ( R1 + 1 ) <= R4 by L1058 , INT_1:7;
L1073: R3 in ( Seg R4 ) by L1072 , L1056 , L1069;
L1074: [ R3 , R5 ] in ( Indices R12 ) by L1073 , L1053 , L1065 , ZFMISC_1:87;
L1075: ( R12 * (R3 , R5) ) = ( C168 . ( ( ( R5 - R3 ) mod ( len C168 ) ) + 1 ) ) by L1074 , L1056 , L1057 , L1071 , L1052 , L930
.= ( C168 . ( ( ( R2 - R1 ) mod ( len C168 ) ) + 1 ) ) by L1056 , L1057
.= ( R12 * (R1 , R2) ) by L1051 , L1055 , L1071 , L1053 , L930;
thus L1076: thesis by L1075;
end;
case L1077: R1 >= R2;
L1078: ( R1 + 1 ) >= ( R2 + 1 ) by L1077 , XREAL_1:6;
L1079: ( Indices R12 ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
assume that
L1080: R12 is  anti-circular
and
L1081: [ R1 , R2 ] in [: ( Seg R4 ) , ( Seg R4 ) :]
and
L1082: R3 = ( R1 + 1 )
and
L1083: R5 = ( R2 + 1 )
and
L1084: R1 < R4
and
L1085: R2 < R4;
L1086: R2 in ( Seg R4 ) by L1081 , ZFMISC_1:87;
L1087: 1 <= R2 by L1086 , FINSEQ_1:1;
L1088: ( 1 + 1 ) <= ( R2 + 1 ) by L1087 , XREAL_1:6;
L1089: 1 <= ( R2 + 1 ) by L1088 , XXREAL_0:2;
L1090: ( R2 + 1 ) <= R4 by L1085 , INT_1:7;
L1091: R5 in ( Seg R4 ) by L1090 , L1083 , L1089;
L1092: R1 in ( Seg R4 ) by L1081 , ZFMISC_1:87;
L1093: 1 <= R1 by L1092 , FINSEQ_1:1;
L1094: ( 1 + 1 ) <= ( R1 + 1 ) by L1093 , XREAL_1:6;
L1095: 1 <= ( R1 + 1 ) by L1094 , XXREAL_0:2;
consider C169 being (FinSequence of R6) such that L1096: ( len C169 ) = ( width R12 ) and L1097: R12 is_anti-circular_about C169 by L1080 , L932;
L1098: ( R1 + 1 ) <= R4 by L1084 , INT_1:7;
L1099: R3 in ( Seg R4 ) by L1098 , L1082 , L1095;
L1100: [ R3 , R5 ] in ( Indices R12 ) by L1099 , L1079 , L1091 , ZFMISC_1:87;
L1101: ( R12 * (R3 , R5) ) = ( ( - C169 ) . ( ( ( R5 - R3 ) mod ( len C169 ) ) + 1 ) ) by L1100 , L1082 , L1083 , L1097 , L1078 , L930
.= ( ( - C169 ) . ( ( ( R2 - R1 ) mod ( len C169 ) ) + 1 ) ) by L1082 , L1083
.= ( R12 * (R1 , R2) ) by L1077 , L1081 , L1097 , L1079 , L930;
thus L1102: thesis by L1101;
end;
end;
thus L1104: thesis by L1050;
end;
theorem
L1105: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R12 being (Matrix of R4 , R6) holds (R12 is  anti-circular implies ( - R12 ) is  anti-circular))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R12 being (Matrix of R4 , R6);
L1106: ( Indices R12 ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
assume L1107: R12 is  anti-circular;
consider C170 being (FinSequence of R6) such that L1108: ( len C170 ) = ( width R12 ) and L1109: R12 is_anti-circular_about C170 by L1107 , L932;
set D36 = ( - C170 );
L1110: C170 is (Element of ( ( len C170 ) -tuples_on (the carrier of R6) )) by FINSEQ_2:92;
L1111: ( - C170 ) is (Element of ( ( len C170 ) -tuples_on (the carrier of R6) )) by L1110 , FINSEQ_2:113;
L1112: ( Indices ( - R12 ) ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
L1113: ( width R12 ) = R4 by MATRIX_1:24;
L1114: (for B102 , B103 being Nat holds (([ B102 , B103 ] in ( Indices ( - R12 ) ) & B102 <= B103) implies ( ( - R12 ) * (B102 , B103) ) = ( D36 . ( ( ( B103 - B102 ) mod ( len D36 ) ) + 1 ) )))
proof
let C171 , C172 being Nat;
assume that
L1115: [ C171 , C172 ] in ( Indices ( - R12 ) )
and
L1116: C171 <= C172;
L1117: ( ( ( C172 - C171 ) mod R4 ) + 1 ) in ( Seg R4 ) by L1112 , L1115 , L34;
L1118: ( ( ( C172 - C171 ) mod ( len C170 ) ) + 1 ) in ( dom C170 ) by L1117 , L1108 , L1113 , FINSEQ_1:def 3;
L1119: ( ( - R12 ) * (C171 , C172) ) = ( - ( R12 * (C171 , C172) ) ) by L1106 , L1112 , L1115 , MATRIX_3:def 2
.= ( ( comp R6 ) . ( R12 * (C171 , C172) ) ) by VECTSP_1:def 13
.= ( ( comp R6 ) . ( C170 . ( ( ( C172 - C171 ) mod ( len C170 ) ) + 1 ) ) ) by L1109 , L1106 , L1112 , L1115 , L1116 , L930
.= ( ( - C170 ) . ( ( ( C172 - C171 ) mod ( len C170 ) ) + 1 ) ) by L1118 , FUNCT_1:13;
thus L1120: thesis by L1119 , L1111 , CARD_1:def 7;
end;
L1121: ( width ( - R12 ) ) = R4 by MATRIX_1:24;
L1122: ( len ( - C170 ) ) = ( len C170 ) by L1111 , CARD_1:def 7;
L1123: ( dom ( - C170 ) ) = ( Seg ( len C170 ) ) by L1122 , FINSEQ_1:def 3;
L1124: (for B104 , B105 being Nat holds (([ B104 , B105 ] in ( Indices ( - R12 ) ) & B104 >= B105) implies ( ( - R12 ) * (B104 , B105) ) = ( ( - D36 ) . ( ( ( B105 - B104 ) mod ( len D36 ) ) + 1 ) )))
proof
let C173 , C174 being Nat;
assume that
L1125: [ C173 , C174 ] in ( Indices ( - R12 ) )
and
L1126: C173 >= C174;
L1127: ( ( ( C174 - C173 ) mod R4 ) + 1 ) in ( Seg R4 ) by L1112 , L1125 , L34;
L1128: ( ( - R12 ) * (C173 , C174) ) = ( - ( R12 * (C173 , C174) ) ) by L1106 , L1112 , L1125 , MATRIX_3:def 2
.= ( ( comp R6 ) . ( R12 * (C173 , C174) ) ) by VECTSP_1:def 13
.= ( ( comp R6 ) . ( ( - C170 ) . ( ( ( C174 - C173 ) mod ( len C170 ) ) + 1 ) ) ) by L1109 , L1106 , L1112 , L1125 , L1126 , L930
.= ( ( - ( - C170 ) ) . ( ( ( C174 - C173 ) mod ( len C170 ) ) + 1 ) ) by L1108 , L1113 , L1123 , L1127 , FUNCT_1:13;
thus L1129: thesis by L1128 , L1111 , CARD_1:def 7;
end;
L1130: ( - R12 ) is_anti-circular_about D36 by L1124 , L1108 , L1113 , L1121 , L1122 , L1114 , L930;
consider C175 being (FinSequence of R6) such that L1131: (( len C175 ) = ( width ( - R12 ) ) & ( - R12 ) is_anti-circular_about C175) by L1130 , L1108 , L1121 , L1122 , MATRIX_1:24;
take C175;
thus L1132: thesis by L1131;
end;
theorem
L1133: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R12 being (Matrix of R4 , R6) holds (for R13 being (Matrix of R4 , R6) holds ((R12 is  anti-circular & R13 is  anti-circular) implies ( R12 - R13 ) is  anti-circular)))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R12 being (Matrix of R4 , R6);
let R13 being (Matrix of R4 , R6);
assume that
L1134: R12 is  anti-circular
and
L1135: R13 is  anti-circular;
L1136: ( - R13 ) is  anti-circular by L1135 , L1105;
thus L1137: thesis by L1136 , L1134 , L988;
end;
theorem
L1138: (for R4 being (Element of ( NAT )) holds (for R6 being Field holds (for R10 being (FinSequence of R6) holds (for R12 being (Matrix of R4 , R6) holds ((R12 is_anti-circular_about R10 & R4 > ( 0 )) implies R10 = ( Line (R12 , 1) ))))))
proof
let R4 being (Element of ( NAT ));
let R6 being Field;
let R10 being (FinSequence of R6);
let R12 being (Matrix of R4 , R6);
assume that
L1139: R12 is_anti-circular_about R10
and
L1140: R4 > ( 0 );
L1141: ( dom R10 ) = ( Seg ( len R10 ) ) by FINSEQ_1:def 3;
L1142: ( width R12 ) = R4 by MATRIX_1:24;
L1143: ( len R10 ) = R4 by L1142 , L1139 , L930;
L1144: (for B106 being Nat holds (B106 in ( dom R10 ) implies ( R10 . B106 ) = ( ( Line (R12 , 1) ) . B106 )))
proof
let C176 being Nat;
assume L1145: C176 in ( dom R10 );
L1146: 1 <= C176 by L1145 , L1141 , FINSEQ_1:1;
L1147: R4 >= ( ( 0 ) + 1 ) by L1140 , INT_1:7;
L1148: 1 in ( Seg R4 ) by L1147;
L1149: [ 1 , C176 ] in [: ( Seg R4 ) , ( Seg R4 ) :] by L1148 , L1141 , L1143 , L1145 , ZFMISC_1:def 2;
L1150: [ 1 , C176 ] in ( Indices R12 ) by L1149 , MATRIX_1:24;
L1151: C176 <= R4 by L1141 , L1143 , L1145 , FINSEQ_1:1;
L1152: ( ( Line (R12 , 1) ) . C176 ) = ( R12 * (1 , C176) ) by L1142 , L1141 , L1143 , L1145 , MATRIX_1:def 7
.= ( R10 . ( ( ( C176 - 1 ) mod ( len R10 ) ) + 1 ) ) by L1139 , L1146 , L1150 , L930
.= ( R10 . ( ( ( C176 - 1 ) mod R4 ) + 1 ) ) by L1139 , L1142 , L930
.= ( R10 . ( ( C176 - 1 ) + 1 ) ) by L1146 , L1151 , L1;
thus L1153: thesis by L1152;
end;
L1154: ( len ( Line (R12 , 1) ) ) = R4 by L1142 , MATRIX_1:def 7;
L1155: ( dom ( Line (R12 , 1) ) ) = ( dom R10 ) by L1154 , L1141 , L1143 , FINSEQ_1:def 3;
thus L1156: thesis by L1155 , L1144 , FINSEQ_1:13;
end;
theorem
L1157: (for R6 being Field holds (for R10 being (FinSequence of R6) holds (R10 is  first-line-of-anti-circular implies ( - R10 ) is  first-line-of-anti-circular)))
proof
let R6 being Field;
let R10 being (FinSequence of R6);
set D37 = ( len R10 );
assume L1158: R10 is  first-line-of-anti-circular;
consider C177 being (Matrix of ( len R10 ) , R6) such that L1159: C177 is_anti-circular_about R10 by L1158 , L934;
set D38 = ( - C177 );
L1160: ( Indices C177 ) = [: ( Seg D37 ) , ( Seg D37 ) :] by MATRIX_1:24;
L1161: ( Indices ( - C177 ) ) = [: ( Seg D37 ) , ( Seg D37 ) :] by MATRIX_1:24;
L1162: R10 is (Element of ( ( len R10 ) -tuples_on (the carrier of R6) )) by FINSEQ_2:92;
L1163: ( - R10 ) is (Element of ( ( len R10 ) -tuples_on (the carrier of R6) )) by L1162 , FINSEQ_2:113;
L1164: ( len ( - R10 ) ) = ( len R10 ) by L1163 , CARD_1:def 7;
L1165: ( dom ( - R10 ) ) = ( Seg ( len R10 ) ) by L1164 , FINSEQ_1:def 3;
L1166: (for B107 , B108 being Nat holds (([ B107 , B108 ] in ( Indices ( - C177 ) ) & B107 >= B108) implies ( ( - C177 ) * (B107 , B108) ) = ( ( - ( - R10 ) ) . ( ( ( B108 - B107 ) mod ( len ( - R10 ) ) ) + 1 ) )))
proof
let C178 , C179 being Nat;
assume that
L1167: [ C178 , C179 ] in ( Indices ( - C177 ) )
and
L1168: C178 >= C179;
L1169: ( ( ( C179 - C178 ) mod D37 ) + 1 ) in ( Seg D37 ) by L1161 , L1167 , L34;
L1170: ( ( - C177 ) * (C178 , C179) ) = ( - ( C177 * (C178 , C179) ) ) by L1160 , L1161 , L1167 , MATRIX_3:def 2
.= ( ( comp R6 ) . ( C177 * (C178 , C179) ) ) by VECTSP_1:def 13
.= ( ( comp R6 ) . ( ( - R10 ) . ( ( ( C179 - C178 ) mod ( len R10 ) ) + 1 ) ) ) by L1159 , L1160 , L1161 , L1167 , L1168 , L930
.= ( ( - ( - R10 ) ) . ( ( ( C179 - C178 ) mod ( len R10 ) ) + 1 ) ) by L1165 , L1169 , FUNCT_1:13;
thus L1171: thesis by L1170 , L1163 , CARD_1:def 7;
end;
L1172: (for B109 , B110 being Nat holds (([ B109 , B110 ] in ( Indices ( - C177 ) ) & B109 <= B110) implies ( ( - C177 ) * (B109 , B110) ) = ( ( - R10 ) . ( ( ( B110 - B109 ) mod ( len ( - R10 ) ) ) + 1 ) )))
proof
let C180 , C181 being Nat;
assume that
L1173: [ C180 , C181 ] in ( Indices ( - C177 ) )
and
L1174: C180 <= C181;
L1175: ( ( ( C181 - C180 ) mod D37 ) + 1 ) in ( Seg D37 ) by L1161 , L1173 , L34;
L1176: ( ( ( C181 - C180 ) mod ( len R10 ) ) + 1 ) in ( dom R10 ) by L1175 , FINSEQ_1:def 3;
L1177: ( ( - C177 ) * (C180 , C181) ) = ( - ( C177 * (C180 , C181) ) ) by L1160 , L1161 , L1173 , MATRIX_3:def 2
.= ( ( comp R6 ) . ( C177 * (C180 , C181) ) ) by VECTSP_1:def 13
.= ( ( comp R6 ) . ( R10 . ( ( ( C181 - C180 ) mod ( len R10 ) ) + 1 ) ) ) by L1159 , L1160 , L1161 , L1173 , L1174 , L930
.= ( ( - R10 ) . ( ( ( C181 - C180 ) mod ( len R10 ) ) + 1 ) ) by L1176 , FUNCT_1:13;
thus L1178: thesis by L1177 , L1163 , CARD_1:def 7;
end;
L1179: ( width ( - C177 ) ) = D37 by MATRIX_1:24;
L1180: D38 is_anti-circular_about ( - R10 ) by L1179 , L1164 , L1172 , L1166 , L930;
consider C182 being (Matrix of ( len ( - R10 ) ) , R6) such that L1181: C182 is_anti-circular_about ( - R10 ) by L1180 , L1164;
take C182;
thus L1182: thesis by L1181;
end;
theorem
L1183: (for R6 being Field holds (for R10 being (FinSequence of R6) holds (R10 is  first-line-of-anti-circular implies ( ACirc ( - R10 ) ) = ( - ( ACirc R10 ) ))))
proof
let R6 being Field;
let R10 being (FinSequence of R6);
set D39 = ( len R10 );
L1184: (( len ( ACirc R10 ) ) = ( len R10 ) & ( width ( ACirc R10 ) ) = ( len R10 )) by MATRIX_1:24;
L1185: ( Indices ( ACirc R10 ) ) = [: ( Seg D39 ) , ( Seg D39 ) :] by MATRIX_1:24;
L1186: R10 is (Element of ( ( len R10 ) -tuples_on (the carrier of R6) )) by FINSEQ_2:92;
L1187: ( - R10 ) is (Element of ( ( len R10 ) -tuples_on (the carrier of R6) )) by L1186 , FINSEQ_2:113;
L1188: ( len ( - R10 ) ) = ( len R10 ) by L1187 , CARD_1:def 7;
assume L1189: R10 is  first-line-of-anti-circular;
L1190: ( - R10 ) is  first-line-of-anti-circular by L1189 , L1157;
L1191: ( ACirc ( - R10 ) ) is_anti-circular_about ( - R10 ) by L1190 , L937;
L1192: ( ACirc R10 ) is_anti-circular_about R10 by L1189 , L937;
L1193: (for B111 , B112 being Nat holds ([ B111 , B112 ] in ( Indices ( ACirc R10 ) ) implies ( ( ACirc ( - R10 ) ) * (B111 , B112) ) = ( - ( ( ACirc R10 ) * (B111 , B112) ) )))
proof
let C183 , C184 being Nat;
assume L1194: [ C183 , C184 ] in ( Indices ( ACirc R10 ) );
L1195:
now
per cases ;
case L1196: C183 <= C184;
L1197: ( ( ( C184 - C183 ) mod D39 ) + 1 ) in ( Seg D39 ) by L1185 , L1194 , L34;
L1198: ( ( ( C184 - C183 ) mod ( len R10 ) ) + 1 ) in ( dom R10 ) by L1197 , FINSEQ_1:def 3;
L1199: [ C183 , C184 ] in ( Indices ( ACirc ( - R10 ) ) ) by L1188 , L1194 , MATRIX_1:26;
L1200: ( ( ACirc ( - R10 ) ) * (C183 , C184) ) = ( ( - R10 ) . ( ( ( C184 - C183 ) mod ( len ( - R10 ) ) ) + 1 ) ) by L1199 , L1191 , L1196 , L930
.= ( ( comp R6 ) . ( R10 . ( ( ( C184 - C183 ) mod ( len R10 ) ) + 1 ) ) ) by L1188 , L1198 , FUNCT_1:13
.= ( ( comp R6 ) . ( ( ACirc R10 ) * (C183 , C184) ) ) by L1192 , L1194 , L1196 , L930
.= ( - ( ( ACirc R10 ) * (C183 , C184) ) ) by VECTSP_1:def 13;
thus L1201: thesis by L1200;
end;
case L1202: C183 >= C184;
L1203: ( ( ( C184 - C183 ) mod D39 ) + 1 ) in ( Seg D39 ) by L1185 , L1194 , L34;
L1204: ( ( ( C184 - C183 ) mod ( len R10 ) ) + 1 ) in ( dom ( - R10 ) ) by L1203 , L1188 , FINSEQ_1:def 3;
L1205: [ C183 , C184 ] in ( Indices ( ACirc ( - R10 ) ) ) by L1188 , L1194 , MATRIX_1:26;
L1206: ( ( ACirc ( - R10 ) ) * (C183 , C184) ) = ( ( - ( - R10 ) ) . ( ( ( C184 - C183 ) mod ( len ( - R10 ) ) ) + 1 ) ) by L1205 , L1191 , L1202 , L930
.= ( ( comp R6 ) . ( ( - R10 ) . ( ( ( C184 - C183 ) mod ( len R10 ) ) + 1 ) ) ) by L1188 , L1204 , FUNCT_1:13
.= ( ( comp R6 ) . ( ( ACirc R10 ) * (C183 , C184) ) ) by L1192 , L1194 , L1202 , L930
.= ( - ( ( ACirc R10 ) * (C183 , C184) ) ) by VECTSP_1:def 13;
thus L1207: thesis by L1206;
end;
end;
thus L1209: thesis by L1195;
end;
L1210: (( len ( ACirc ( - R10 ) ) ) = ( len R10 ) & ( width ( ACirc ( - R10 ) ) ) = ( len R10 )) by L1188 , MATRIX_1:24;
thus L1211: thesis by L1210 , L1184 , L1193 , MATRIX_3:def 2;
end;
theorem
L1212: (for R6 being Field holds (for R10 being (FinSequence of R6) holds (for R11 being (FinSequence of R6) holds ((R10 is  first-line-of-anti-circular & R11 is  first-line-of-anti-circular & ( len R10 ) = ( len R11 )) implies ( R10 + R11 ) is  first-line-of-anti-circular))))
proof
let R6 being Field;
let R10 being (FinSequence of R6);
let R11 being (FinSequence of R6);
set D40 = ( len R10 );
assume that
L1213: R10 is  first-line-of-anti-circular
and
L1214: R11 is  first-line-of-anti-circular
and
L1215: ( len R10 ) = ( len R11 );
consider C185 being (Matrix of D40 , R6) such that L1216: C185 is_anti-circular_about R11 by L1214 , L1215 , L934;
L1217: ( width C185 ) = D40 by MATRIX_1:24;
L1218: ( dom R10 ) = ( Seg D40 ) by FINSEQ_1:def 3;
L1219: ( len R11 ) = ( width C185 ) by L1216 , L930;
L1220: ( dom R11 ) = ( Seg D40 ) by L1219 , L1217 , FINSEQ_1:def 3;
L1221: ( dom ( R10 + R11 ) ) = ( dom R10 ) by L1220 , L1218 , POLYNOM1:1;
L1222: ( len ( R10 + R11 ) ) = D40 by L1221 , L1218 , FINSEQ_1:def 3;
consider C186 being (Matrix of D40 , R6) such that L1223: C186 is_anti-circular_about R10 by L1213 , L934;
L1224: ( Indices C186 ) = [: ( Seg D40 ) , ( Seg D40 ) :] by MATRIX_1:24;
set D41 = ( C186 + C185 );
L1225: R11 is (Element of ( ( len R11 ) -tuples_on (the carrier of R6) )) by FINSEQ_2:92;
L1226: ( - R11 ) is (Element of ( ( len R11 ) -tuples_on (the carrier of R6) )) by L1225 , FINSEQ_2:113;
L1227: ( len ( - R11 ) ) = ( len R11 ) by L1226 , CARD_1:def 7;
L1228: ( Indices C185 ) = [: ( Seg D40 ) , ( Seg D40 ) :] by MATRIX_1:24;
L1229: ( Indices ( C186 + C185 ) ) = [: ( Seg D40 ) , ( Seg D40 ) :] by MATRIX_1:24;
L1230: ( dom ( R10 + R11 ) ) = ( Seg ( len ( R10 + R11 ) ) ) by FINSEQ_1:def 3;
L1231: (for B113 , B114 being Nat holds (([ B113 , B114 ] in ( Indices ( C186 + C185 ) ) & B113 <= B114) implies ( ( C186 + C185 ) * (B113 , B114) ) = ( ( R10 + R11 ) . ( ( ( B114 - B113 ) mod ( len ( R10 + R11 ) ) ) + 1 ) )))
proof
let C187 , C188 being Nat;
assume that
L1232: [ C187 , C188 ] in ( Indices ( C186 + C185 ) )
and
L1233: C187 <= C188;
L1234: ( ( ( C188 - C187 ) mod ( len ( R10 + R11 ) ) ) + 1 ) in ( dom ( R10 + R11 ) ) by L1229 , L1218 , L1230 , L1221 , L1232 , L34;
L1235: ( ( C186 + C185 ) * (C187 , C188) ) = ( ( C186 * (C187 , C188) ) + ( C185 * (C187 , C188) ) ) by L1224 , L1229 , L1232 , MATRIX_3:def 3
.= ( (the addF of R6) . (( C186 * (C187 , C188) ) , ( R11 . ( ( ( C188 - C187 ) mod ( len R11 ) ) + 1 ) )) ) by L1216 , L1228 , L1229 , L1232 , L1233 , L930
.= ( (the addF of R6) . (( R10 . ( ( ( C188 - C187 ) mod ( len ( R10 + R11 ) ) ) + 1 ) ) , ( R11 . ( ( ( C188 - C187 ) mod ( len ( R10 + R11 ) ) ) + 1 ) )) ) by L1215 , L1223 , L1224 , L1229 , L1222 , L1232 , L1233 , L930
.= ( ( R10 + R11 ) . ( ( ( C188 - C187 ) mod ( len ( R10 + R11 ) ) ) + 1 ) ) by L1234 , FUNCOP_1:22;
thus L1236: thesis by L1235;
end;
L1237: R10 is (Element of ( ( len R10 ) -tuples_on (the carrier of R6) )) by FINSEQ_2:92;
L1238: ( - R10 ) is (Element of ( ( len R10 ) -tuples_on (the carrier of R6) )) by L1237 , FINSEQ_2:113;
L1239: ( len ( - R10 ) ) = ( len R10 ) by L1238 , CARD_1:def 7;
L1240: ( dom ( - R10 ) ) = ( Seg D40 ) by L1239 , FINSEQ_1:def 3;
L1241: (for B115 , B116 being Nat holds (([ B115 , B116 ] in ( Indices ( C186 + C185 ) ) & B115 >= B116) implies ( ( C186 + C185 ) * (B115 , B116) ) = ( ( - ( R10 + R11 ) ) . ( ( ( B116 - B115 ) mod ( len ( R10 + R11 ) ) ) + 1 ) )))
proof
let C189 , C190 being Nat;
assume that
L1242: [ C189 , C190 ] in ( Indices ( C186 + C185 ) )
and
L1243: C189 >= C190;
L1244: (( dom ( - R10 ) ) = ( Seg ( len R10 ) ) & ( dom ( - R11 ) ) = ( Seg ( len R11 ) )) by L1239 , L1227 , FINSEQ_1:def 3;
L1245: ( dom ( ( - R10 ) + ( - R11 ) ) ) = ( dom ( - R10 ) ) by L1244 , L1215 , POLYNOM1:1;
L1246: ( ( ( C190 - C189 ) mod ( len ( R10 + R11 ) ) ) + 1 ) in ( dom ( ( - R10 ) + ( - R11 ) ) ) by L1245 , L1229 , L1218 , L1230 , L1240 , L1221 , L1242 , L34;
L1247: ( ( C186 + C185 ) * (C189 , C190) ) = ( ( C186 * (C189 , C190) ) + ( C185 * (C189 , C190) ) ) by L1224 , L1229 , L1242 , MATRIX_3:def 3
.= ( (the addF of R6) . (( C186 * (C189 , C190) ) , ( ( - R11 ) . ( ( ( C190 - C189 ) mod ( len R11 ) ) + 1 ) )) ) by L1216 , L1228 , L1229 , L1242 , L1243 , L930
.= ( (the addF of R6) . (( ( - R10 ) . ( ( ( C190 - C189 ) mod ( len R10 ) ) + 1 ) ) , ( ( - R11 ) . ( ( ( C190 - C189 ) mod ( len R11 ) ) + 1 ) )) ) by L1223 , L1224 , L1229 , L1242 , L1243 , L930
.= ( ( ( - R10 ) + ( - R11 ) ) . ( ( ( C190 - C189 ) mod ( len ( R10 + R11 ) ) ) + 1 ) ) by L1215 , L1222 , L1246 , FUNCOP_1:22
.= ( ( - ( R10 + R11 ) ) . ( ( ( C190 - C189 ) mod ( len ( R10 + R11 ) ) ) + 1 ) ) by L1215 , L1237 , L1225 , FVSUM_1:31;
thus L1248: thesis by L1247;
end;
L1249: ( width ( C186 + C185 ) ) = D40 by MATRIX_1:24;
L1250: ( len ( R10 + R11 ) ) = ( width ( C186 + C185 ) ) by L1249 , L1218 , L1221 , FINSEQ_1:def 3;
L1251: (( len ( C186 + C185 ) ) = D40 & D41 is_anti-circular_about ( R10 + R11 )) by L1250 , L1231 , L1241 , L930 , MATRIX_1:24;
consider C191 being (Matrix of ( len ( R10 + R11 ) ) , R6) such that L1252: ( len ( R10 + R11 ) ) = ( len C191 ) and L1253: C191 is_anti-circular_about ( R10 + R11 ) by L1251 , L1222;
take C191;
thus L1254: thesis by L1253;
end;
theorem
L1255: (for R6 being Field holds (for R10 being (FinSequence of R6) holds (for R11 being (FinSequence of R6) holds ((R10 is  first-line-of-anti-circular & R11 is  first-line-of-anti-circular & ( len R10 ) = ( len R11 )) implies ( ACirc ( R10 + R11 ) ) = ( ( ACirc R10 ) + ( ACirc R11 ) )))))
proof
let R6 being Field;
let R10 being (FinSequence of R6);
let R11 being (FinSequence of R6);
set D42 = ( len R10 );
assume that
L1256: R10 is  first-line-of-anti-circular
and
L1257: R11 is  first-line-of-anti-circular
and
L1258: ( len R10 ) = ( len R11 );
L1259: ( dom R10 ) = ( Seg D42 ) by FINSEQ_1:def 3;
L1260: ( dom R11 ) = ( Seg D42 ) by L1258 , FINSEQ_1:def 3;
L1261: ( dom ( R10 + R11 ) ) = ( dom R10 ) by L1260 , L1259 , POLYNOM1:1;
L1262: ( len ( R10 + R11 ) ) = D42 by L1261 , L1259 , FINSEQ_1:def 3;
L1263: ( Indices ( ACirc R10 ) ) = ( Indices ( ACirc ( R10 + R11 ) ) ) by L1262 , MATRIX_1:26;
L1264: ( Indices ( ACirc R10 ) ) = ( Indices ( ACirc R11 ) ) by L1258 , MATRIX_1:26;
L1265: ( dom ( R10 + R11 ) ) = ( Seg ( len ( R10 + R11 ) ) ) by FINSEQ_1:def 3;
L1266: R10 is (Element of ( ( len R10 ) -tuples_on (the carrier of R6) )) by FINSEQ_2:92;
L1267: ( - R10 ) is (Element of ( ( len R10 ) -tuples_on (the carrier of R6) )) by L1266 , FINSEQ_2:113;
L1268: ( len ( - R10 ) ) = ( len R10 ) by L1267 , CARD_1:def 7;
L1269: ( Indices ( ACirc R10 ) ) = [: ( Seg D42 ) , ( Seg D42 ) :] by MATRIX_1:24;
L1270: ( R10 + R11 ) is  first-line-of-anti-circular by L1256 , L1257 , L1258 , L1212;
L1271: ( ACirc ( R10 + R11 ) ) is_anti-circular_about ( R10 + R11 ) by L1270 , L937;
L1272: ( ACirc R11 ) is_anti-circular_about R11 by L1257 , L937;
L1273: R11 is (Element of ( ( len R11 ) -tuples_on (the carrier of R6) )) by FINSEQ_2:92;
L1274: ( - R11 ) is (Element of ( ( len R11 ) -tuples_on (the carrier of R6) )) by L1273 , FINSEQ_2:113;
L1275: ( len ( - R11 ) ) = ( len R11 ) by L1274 , CARD_1:def 7;
L1276: ( ACirc R10 ) is_anti-circular_about R10 by L1256 , L937;
L1277: ( Indices ( ACirc R11 ) ) = [: ( Seg D42 ) , ( Seg D42 ) :] by L1258 , MATRIX_1:24;
L1278: (for B117 , B118 being Nat holds ([ B117 , B118 ] in ( Indices ( ACirc R10 ) ) implies ( ( ACirc ( R10 + R11 ) ) * (B117 , B118) ) = ( ( ( ACirc R10 ) * (B117 , B118) ) + ( ( ACirc R11 ) * (B117 , B118) ) )))
proof
let C192 , C193 being Nat;
assume L1279: [ C192 , C193 ] in ( Indices ( ACirc R10 ) );
L1280: ( ( ( C193 - C192 ) mod D42 ) + 1 ) in ( Seg D42 ) by L1279 , L1269 , L34;
L1281:
now
per cases ;
case L1282: C192 <= C193;
L1283: ( ( ACirc ( R10 + R11 ) ) * (C192 , C193) ) = ( ( R10 + R11 ) . ( ( ( C193 - C192 ) mod ( len ( R10 + R11 ) ) ) + 1 ) ) by L1282 , L1271 , L1263 , L1279 , L930
.= ( (the addF of R6) . (( R10 . ( ( ( C193 - C192 ) mod ( len ( R10 + R11 ) ) ) + 1 ) ) , ( R11 . ( ( ( C193 - C192 ) mod ( len ( R10 + R11 ) ) ) + 1 ) )) ) by L1265 , L1262 , L1280 , FUNCOP_1:22
.= ( (the addF of R6) . (( ( ACirc R10 ) * (C192 , C193) ) , ( R11 . ( ( ( C193 - C192 ) mod ( len R11 ) ) + 1 ) )) ) by L1258 , L1262 , L1276 , L1279 , L1282 , L930
.= ( ( ( ACirc R10 ) * (C192 , C193) ) + ( ( ACirc R11 ) * (C192 , C193) ) ) by L1272 , L1264 , L1279 , L1282 , L930;
thus L1284: thesis by L1283;
end;
case L1285: C192 >= C193;
L1286: ( dom ( - R10 ) ) = ( Seg ( len R10 ) ) by L1268 , FINSEQ_1:def 3;
L1287: ( dom ( - R11 ) ) = ( Seg ( len R11 ) ) by L1275 , FINSEQ_1:def 3;
L1288: (( dom R10 ) = ( Seg D42 ) & ( dom ( ( - R10 ) + ( - R11 ) ) ) = ( dom ( - R10 ) )) by L1287 , L1258 , L1286 , FINSEQ_1:def 3 , POLYNOM1:1;
L1289: ( ( ( C193 - C192 ) mod ( len ( R10 + R11 ) ) ) + 1 ) in ( dom ( ( - R10 ) + ( - R11 ) ) ) by L1288 , L1265 , L1261 , L1269 , L1279 , L1286 , L34;
L1290: ( ( ACirc ( R10 + R11 ) ) * (C192 , C193) ) = ( ( - ( R10 + R11 ) ) . ( ( ( C193 - C192 ) mod ( len ( R10 + R11 ) ) ) + 1 ) ) by L1271 , L1263 , L1279 , L1285 , L930
.= ( ( ( - R10 ) + ( - R11 ) ) . ( ( ( C193 - C192 ) mod ( len ( R10 + R11 ) ) ) + 1 ) ) by L1258 , L1266 , L1273 , FVSUM_1:31
.= ( (the addF of R6) . (( ( - R10 ) . ( ( ( C193 - C192 ) mod ( len ( R10 + R11 ) ) ) + 1 ) ) , ( ( - R11 ) . ( ( ( C193 - C192 ) mod ( len ( R10 + R11 ) ) ) + 1 ) )) ) by L1289 , FUNCOP_1:22
.= ( (the addF of R6) . (( ( ACirc R10 ) * (C192 , C193) ) , ( ( - R11 ) . ( ( ( C193 - C192 ) mod ( len R11 ) ) + 1 ) )) ) by L1258 , L1262 , L1276 , L1279 , L1285 , L930
.= ( ( ( ACirc R10 ) * (C192 , C193) ) + ( ( ACirc R11 ) * (C192 , C193) ) ) by L1272 , L1269 , L1277 , L1279 , L1285 , L930;
thus L1291: thesis by L1290;
end;
end;
thus L1293: thesis by L1281;
end;
L1294: (( len ( ACirc R10 ) ) = ( len R10 ) & ( width ( ACirc R10 ) ) = ( len R10 )) by MATRIX_1:24;
L1295: (( len ( ACirc ( R10 + R11 ) ) ) = ( len R10 ) & ( width ( ACirc ( R10 + R11 ) ) ) = ( len R10 )) by L1262 , MATRIX_1:24;
thus L1296: thesis by L1295 , L1294 , L1278 , MATRIX_3:def 3;
end;
theorem
L1297: (for R6 being Field holds (for R7 being (Element of R6) holds (for R10 being (FinSequence of R6) holds (R10 is  first-line-of-anti-circular implies ( R7 * R10 ) is  first-line-of-anti-circular))))
proof
let R6 being Field;
let R7 being (Element of R6);
let R10 being (FinSequence of R6);
set D43 = ( len R10 );
L1298: ( dom R10 ) = ( Seg D43 ) by FINSEQ_1:def 3;
assume L1299: R10 is  first-line-of-anti-circular;
consider C194 being (Matrix of D43 , R6) such that L1300: C194 is_anti-circular_about R10 by L1299 , L934;
L1301: ( Indices ( R7 * C194 ) ) = [: ( Seg D43 ) , ( Seg D43 ) :] by MATRIX_1:24;
L1302: ( len ( R7 * R10 ) ) = ( len R10 ) by MATRIXR1:16;
L1303: (for B119 , B120 being Nat holds (([ B119 , B120 ] in ( Indices ( R7 * C194 ) ) & B119 >= B120) implies ( ( R7 * C194 ) * (B119 , B120) ) = ( ( - ( R7 * R10 ) ) . ( ( ( B120 - B119 ) mod ( len ( R7 * R10 ) ) ) + 1 ) )))
proof
L1304: ( len ( R7 * ( - R10 ) ) ) = ( len ( - R10 ) ) by MATRIXR1:16;
L1305: ( dom ( R7 * ( - R10 ) ) ) = ( Seg ( len ( - R10 ) ) ) by L1304 , FINSEQ_1:def 3
.= ( dom ( - R10 ) ) by FINSEQ_1:def 3;
L1306: ( R7 * R10 ) is (Element of ( D43 -tuples_on (the carrier of R6) )) by L1302 , FINSEQ_2:92;
let C195 , C196 being Nat;
assume that
L1307: [ C195 , C196 ] in ( Indices ( R7 * C194 ) )
and
L1308: C195 >= C196;
L1309: ( ( ( C196 - C195 ) mod D43 ) + 1 ) in ( Seg D43 ) by L1301 , L1307 , L34;
L1310: R10 is (Element of ( D43 -tuples_on (the carrier of R6) )) by FINSEQ_2:92;
L1311: ( - R10 ) is (Element of ( ( len R10 ) -tuples_on (the carrier of R6) )) by L1310 , FINSEQ_2:113;
L1312: ( len ( - R10 ) ) = ( len R10 ) by L1311 , CARD_1:def 7;
L1313: ( dom ( - R10 ) ) = ( Seg D43 ) by L1312 , FINSEQ_1:def 3;
L1314: [ C195 , C196 ] in ( Indices C194 ) by L1301 , L1307 , MATRIX_1:24;
L1315: ( ( R7 * C194 ) * (C195 , C196) ) = ( R7 * ( C194 * (C195 , C196) ) ) by L1314 , MATRIX_3:def 5
.= ( ( R7 multfield ) . ( C194 * (C195 , C196) ) ) by FVSUM_1:49
.= ( ( R7 multfield ) . ( ( - R10 ) . ( ( ( C196 - C195 ) mod ( len R10 ) ) + 1 ) ) ) by L1300 , L1308 , L1314 , L930
.= ( ( R7 multfield ) . ( ( - R10 ) /. ( ( ( C196 - C195 ) mod ( len R10 ) ) + 1 ) ) ) by L1309 , L1313 , PARTFUN1:def 6
.= ( R7 * ( ( - R10 ) /. ( ( ( C196 - C195 ) mod ( len R10 ) ) + 1 ) ) ) by FVSUM_1:49
.= ( ( R7 * ( - R10 ) ) /. ( ( ( C196 - C195 ) mod ( len R10 ) ) + 1 ) ) by L1309 , L1313 , POLYNOM1:def 1
.= ( ( R7 * ( - R10 ) ) . ( ( ( C196 - C195 ) mod ( len R10 ) ) + 1 ) ) by L1309 , L1313 , L1305 , PARTFUN1:def 6
.= ( ( R7 * ( ( - ( 1_ R6 ) ) * R10 ) ) . ( ( ( C196 - C195 ) mod ( len R10 ) ) + 1 ) ) by L1310 , FVSUM_1:59
.= ( ( ( R7 * ( - ( 1_ R6 ) ) ) * R10 ) . ( ( ( C196 - C195 ) mod ( len R10 ) ) + 1 ) ) by L1310 , FVSUM_1:54
.= ( ( ( - ( R7 * ( 1_ R6 ) ) ) * R10 ) . ( ( ( C196 - C195 ) mod ( len R10 ) ) + 1 ) ) by VECTSP_1:8
.= ( ( ( - R7 ) * R10 ) . ( ( ( C196 - C195 ) mod ( len R10 ) ) + 1 ) ) by VECTSP_1:def 6
.= ( ( ( - ( ( 1_ R6 ) * R7 ) ) * R10 ) . ( ( ( C196 - C195 ) mod ( len R10 ) ) + 1 ) ) by VECTSP_1:def 6
.= ( ( ( ( - ( 1_ R6 ) ) * R7 ) * R10 ) . ( ( ( C196 - C195 ) mod ( len R10 ) ) + 1 ) ) by VECTSP_1:9
.= ( ( ( - ( 1_ R6 ) ) * ( R7 * R10 ) ) . ( ( ( C196 - C195 ) mod ( len R10 ) ) + 1 ) ) by L1310 , FVSUM_1:54
.= ( ( - ( R7 * R10 ) ) . ( ( ( C196 - C195 ) mod ( len R10 ) ) + 1 ) ) by L1306 , FVSUM_1:59;
thus L1316: thesis by L1315 , MATRIXR1:16;
end;
L1317: ( dom ( R7 * R10 ) ) = ( Seg ( len ( R7 * R10 ) ) ) by FINSEQ_1:def 3;
L1318: (for B121 , B122 being Nat holds (([ B121 , B122 ] in ( Indices ( R7 * C194 ) ) & B121 <= B122) implies ( ( R7 * C194 ) * (B121 , B122) ) = ( ( R7 * R10 ) . ( ( ( B122 - B121 ) mod ( len ( R7 * R10 ) ) ) + 1 ) )))
proof
let C197 , C198 being Nat;
assume that
L1319: [ C197 , C198 ] in ( Indices ( R7 * C194 ) )
and
L1320: C197 <= C198;
L1321: ( ( ( C198 - C197 ) mod D43 ) + 1 ) in ( Seg D43 ) by L1301 , L1319 , L34;
L1322: ( ( ( C198 - C197 ) mod ( len R10 ) ) + 1 ) in ( dom ( R7 * R10 ) ) by L1321 , L1317 , MATRIXR1:16;
L1323: [ C197 , C198 ] in ( Indices C194 ) by L1301 , L1319 , MATRIX_1:24;
L1324: ( ( R7 * C194 ) * (C197 , C198) ) = ( R7 * ( C194 * (C197 , C198) ) ) by L1323 , MATRIX_3:def 5
.= ( ( R7 multfield ) . ( C194 * (C197 , C198) ) ) by FVSUM_1:49
.= ( ( R7 multfield ) . ( R10 . ( ( ( C198 - C197 ) mod ( len R10 ) ) + 1 ) ) ) by L1300 , L1320 , L1323 , L930
.= ( ( R7 multfield ) . ( R10 /. ( ( ( C198 - C197 ) mod ( len R10 ) ) + 1 ) ) ) by L1298 , L1321 , PARTFUN1:def 6
.= ( R7 * ( R10 /. ( ( ( C198 - C197 ) mod ( len R10 ) ) + 1 ) ) ) by FVSUM_1:49
.= ( ( R7 * R10 ) /. ( ( ( C198 - C197 ) mod ( len R10 ) ) + 1 ) ) by L1298 , L1321 , POLYNOM1:def 1
.= ( ( R7 * R10 ) . ( ( ( C198 - C197 ) mod ( len R10 ) ) + 1 ) ) by L1322 , PARTFUN1:def 6;
thus L1325: thesis by L1324 , MATRIXR1:16;
end;
L1326: ( width ( R7 * C194 ) ) = D43 by MATRIX_1:24;
L1327: ( R7 * C194 ) is_anti-circular_about ( R7 * R10 ) by L1326 , L1302 , L1318 , L1303 , L930;
consider C199 being (Matrix of ( len ( R7 * R10 ) ) , R6) such that L1328: C199 is_anti-circular_about ( R7 * R10 ) by L1327 , L1302;
take C199;
thus L1329: thesis by L1328;
end;
theorem
L1330: (for R6 being Field holds (for R7 being (Element of R6) holds (for R10 being (FinSequence of R6) holds (R10 is  first-line-of-anti-circular implies ( ACirc ( R7 * R10 ) ) = ( R7 * ( ACirc R10 ) )))))
proof
let R6 being Field;
let R7 being (Element of R6);
let R10 being (FinSequence of R6);
set D44 = ( len R10 );
L1331: ( len ( R7 * R10 ) ) = ( len R10 ) by MATRIXR1:16;
assume L1332: R10 is  first-line-of-anti-circular;
L1333: ( ACirc R10 ) is_anti-circular_about R10 by L1332 , L937;
L1334: ( R7 * R10 ) is  first-line-of-anti-circular by L1332 , L1297;
L1335: ( ACirc ( R7 * R10 ) ) is_anti-circular_about ( R7 * R10 ) by L1334 , L937;
L1336: ( Indices ( ACirc R10 ) ) = [: ( Seg D44 ) , ( Seg D44 ) :] by MATRIX_1:24;
L1337: (for B123 , B124 being Nat holds ([ B123 , B124 ] in ( Indices ( ACirc R10 ) ) implies ( ( ACirc ( R7 * R10 ) ) * (B123 , B124) ) = ( R7 * ( ( ACirc R10 ) * (B123 , B124) ) )))
proof
let C200 , C201 being Nat;
assume L1338: [ C200 , C201 ] in ( Indices ( ACirc R10 ) );
L1339: ( ( ( C201 - C200 ) mod D44 ) + 1 ) in ( Seg D44 ) by L1338 , L1336 , L34;
L1340: [ C200 , C201 ] in ( Indices ( ACirc ( R7 * R10 ) ) ) by L1331 , L1338 , MATRIX_1:26;
L1341:
now
per cases ;
case L1342: C200 <= C201;
L1343: ( dom ( R7 * R10 ) ) = ( Seg ( len ( R7 * R10 ) ) ) by FINSEQ_1:def 3;
L1344: ( dom R10 ) = ( Seg ( len R10 ) ) by FINSEQ_1:def 3;
L1345: ( ( ACirc ( R7 * R10 ) ) * (C200 , C201) ) = ( ( R7 * R10 ) . ( ( ( C201 - C200 ) mod ( len ( R7 * R10 ) ) ) + 1 ) ) by L1335 , L1340 , L1342 , L930
.= ( ( R7 * R10 ) /. ( ( ( C201 - C200 ) mod ( len R10 ) ) + 1 ) ) by L1331 , L1339 , L1343 , PARTFUN1:def 6
.= ( R7 * ( R10 /. ( ( ( C201 - C200 ) mod ( len R10 ) ) + 1 ) ) ) by L1339 , L1344 , POLYNOM1:def 1
.= ( ( R7 multfield ) . ( R10 /. ( ( ( C201 - C200 ) mod ( len R10 ) ) + 1 ) ) ) by FVSUM_1:49
.= ( ( R7 multfield ) . ( R10 . ( ( ( C201 - C200 ) mod ( len R10 ) ) + 1 ) ) ) by L1339 , L1344 , PARTFUN1:def 6
.= ( ( R7 multfield ) . ( ( ACirc R10 ) * (C200 , C201) ) ) by L1333 , L1338 , L1342 , L930
.= ( R7 * ( ( ACirc R10 ) * (C200 , C201) ) ) by FVSUM_1:49;
thus L1346: thesis by L1345;
end;
case L1347: C200 >= C201;
L1348: ( len ( R7 * ( - R10 ) ) ) = ( len ( - R10 ) ) by MATRIXR1:16;
L1349: ( dom ( R7 * ( - R10 ) ) ) = ( Seg ( len ( - R10 ) ) ) by L1348 , FINSEQ_1:def 3
.= ( dom ( - R10 ) ) by FINSEQ_1:def 3;
L1350: ( R7 * R10 ) is (Element of ( D44 -tuples_on (the carrier of R6) )) by L1331 , FINSEQ_2:92;
L1351: R10 is (Element of ( D44 -tuples_on (the carrier of R6) )) by FINSEQ_2:92;
L1352: ( - R10 ) is (Element of ( ( len R10 ) -tuples_on (the carrier of R6) )) by L1351 , FINSEQ_2:113;
L1353: ( len ( - R10 ) ) = ( len R10 ) by L1352 , CARD_1:def 7;
L1354: ( dom ( - R10 ) ) = ( Seg D44 ) by L1353 , FINSEQ_1:def 3;
L1355: ( R7 * ( ( ACirc R10 ) * (C200 , C201) ) ) = ( ( R7 multfield ) . ( ( ACirc R10 ) * (C200 , C201) ) ) by FVSUM_1:49
.= ( ( R7 multfield ) . ( ( - R10 ) . ( ( ( C201 - C200 ) mod ( len R10 ) ) + 1 ) ) ) by L1333 , L1338 , L1347 , L930
.= ( ( R7 multfield ) . ( ( - R10 ) /. ( ( ( C201 - C200 ) mod ( len R10 ) ) + 1 ) ) ) by L1339 , L1354 , PARTFUN1:def 6
.= ( R7 * ( ( - R10 ) /. ( ( ( C201 - C200 ) mod ( len R10 ) ) + 1 ) ) ) by FVSUM_1:49
.= ( ( R7 * ( - R10 ) ) /. ( ( ( C201 - C200 ) mod ( len R10 ) ) + 1 ) ) by L1339 , L1354 , POLYNOM1:def 1
.= ( ( R7 * ( - R10 ) ) . ( ( ( C201 - C200 ) mod ( len R10 ) ) + 1 ) ) by L1339 , L1354 , L1349 , PARTFUN1:def 6
.= ( ( R7 * ( ( - ( 1_ R6 ) ) * R10 ) ) . ( ( ( C201 - C200 ) mod ( len R10 ) ) + 1 ) ) by L1351 , FVSUM_1:59
.= ( ( ( R7 * ( - ( 1_ R6 ) ) ) * R10 ) . ( ( ( C201 - C200 ) mod ( len R10 ) ) + 1 ) ) by L1351 , FVSUM_1:54
.= ( ( ( - ( R7 * ( 1_ R6 ) ) ) * R10 ) . ( ( ( C201 - C200 ) mod ( len R10 ) ) + 1 ) ) by VECTSP_1:8
.= ( ( ( - R7 ) * R10 ) . ( ( ( C201 - C200 ) mod ( len R10 ) ) + 1 ) ) by VECTSP_1:def 6
.= ( ( ( - ( ( 1_ R6 ) * R7 ) ) * R10 ) . ( ( ( C201 - C200 ) mod ( len R10 ) ) + 1 ) ) by VECTSP_1:def 6
.= ( ( ( ( - ( 1_ R6 ) ) * R7 ) * R10 ) . ( ( ( C201 - C200 ) mod ( len R10 ) ) + 1 ) ) by VECTSP_1:9
.= ( ( ( - ( 1_ R6 ) ) * ( R7 * R10 ) ) . ( ( ( C201 - C200 ) mod ( len R10 ) ) + 1 ) ) by L1351 , FVSUM_1:54
.= ( ( - ( R7 * R10 ) ) . ( ( ( C201 - C200 ) mod ( len R10 ) ) + 1 ) ) by L1350 , FVSUM_1:59
.= ( ( ACirc ( R7 * R10 ) ) * (C200 , C201) ) by L1331 , L1335 , L1340 , L1347 , L930;
thus L1356: thesis by L1355;
end;
end;
thus L1358: thesis by L1341;
end;
L1359: (( len ( ACirc R10 ) ) = ( len R10 ) & ( width ( ACirc R10 ) ) = ( len R10 )) by MATRIX_1:24;
L1360: (( len ( ACirc ( R7 * R10 ) ) ) = ( len R10 ) & ( width ( ACirc ( R7 * R10 ) ) ) = ( len R10 )) by L1331 , MATRIX_1:24;
thus L1361: thesis by L1360 , L1359 , L1337 , MATRIX_3:def 5;
end;
theorem
L1362: (for R6 being Field holds (for R7 being (Element of R6) holds (for R8 being (Element of R6) holds (for R10 being (FinSequence of R6) holds (R10 is  first-line-of-anti-circular implies ( ( R7 * ( ACirc R10 ) ) + ( R8 * ( ACirc R10 ) ) ) = ( ACirc ( ( R7 + R8 ) * R10 ) ))))))
proof
let R6 being Field;
let R7 being (Element of R6);
let R8 being (Element of R6);
let R10 being (FinSequence of R6);
L1363: ( len ( R8 * R10 ) ) = ( len R10 ) by MATRIXR1:16;
L1364: R10 is (Element of ( ( len R10 ) -tuples_on (the carrier of R6) )) by FINSEQ_2:92;
assume L1365: R10 is  first-line-of-anti-circular;
L1366: (( R7 * R10 ) is  first-line-of-anti-circular & ( R8 * R10 ) is  first-line-of-anti-circular) by L1365 , L1297;
L1367: ( ( R7 * ( ACirc R10 ) ) + ( R8 * ( ACirc R10 ) ) ) = ( ( ACirc ( R7 * R10 ) ) + ( R8 * ( ACirc R10 ) ) ) by L1365 , L1330
.= ( ( ACirc ( R7 * R10 ) ) + ( ACirc ( R8 * R10 ) ) ) by L1365 , L1330
.= ( ACirc ( ( R7 * R10 ) + ( R8 * R10 ) ) ) by L1366 , L1363 , L1255 , MATRIXR1:16;
thus L1368: thesis by L1367 , L1364 , FVSUM_1:55;
end;
theorem
L1369: (for R6 being Field holds (for R7 being (Element of R6) holds (for R10 being (FinSequence of R6) holds (for R11 being (FinSequence of R6) holds ((R10 is  first-line-of-anti-circular & R11 is  first-line-of-anti-circular & ( len R10 ) = ( len R11 )) implies ( ( R7 * ( ACirc R10 ) ) + ( R7 * ( ACirc R11 ) ) ) = ( ACirc ( R7 * ( R10 + R11 ) ) ))))))
proof
let R6 being Field;
let R7 being (Element of R6);
let R10 being (FinSequence of R6);
let R11 being (FinSequence of R6);
assume that
L1370: (R10 is  first-line-of-anti-circular & R11 is  first-line-of-anti-circular)
and
L1371: ( len R10 ) = ( len R11 );
L1372: (( len ( ACirc R10 ) ) = ( len R10 ) & ( width ( ACirc R10 ) ) = ( len R10 )) by MATRIX_1:24;
L1373: (( len ( ACirc R11 ) ) = ( len R10 ) & ( width ( ACirc R11 ) ) = ( len R10 )) by L1371 , MATRIX_1:24;
L1374: ( ( R7 * ( ACirc R10 ) ) + ( R7 * ( ACirc R11 ) ) ) = ( R7 * ( ( ACirc R10 ) + ( ACirc R11 ) ) ) by L1373 , L1372 , MATRIX_5:20
.= ( R7 * ( ACirc ( R10 + R11 ) ) ) by L1370 , L1371 , L1255
.= ( ACirc ( R7 * ( R10 + R11 ) ) ) by L1370 , L1371 , L1212 , L1330;
thus L1375: thesis by L1374;
end;
theorem
L1376: (for R6 being Field holds (for R7 being (Element of R6) holds (for R8 being (Element of R6) holds (for R10 being (FinSequence of R6) holds (for R11 being (FinSequence of R6) holds ((R10 is  first-line-of-anti-circular & R11 is  first-line-of-anti-circular & ( len R10 ) = ( len R11 )) implies ( ( R7 * ( ACirc R10 ) ) + ( R8 * ( ACirc R11 ) ) ) = ( ACirc ( ( R7 * R10 ) + ( R8 * R11 ) ) )))))))
proof
let R6 being Field;
let R7 being (Element of R6);
let R8 being (Element of R6);
let R10 being (FinSequence of R6);
let R11 being (FinSequence of R6);
set D45 = ( len R10 );
assume that
L1377: R10 is  first-line-of-anti-circular
and
L1378: R11 is  first-line-of-anti-circular
and
L1379: ( len R10 ) = ( len R11 );
L1380: (( R7 * R10 ) is  first-line-of-anti-circular & ( R8 * R11 ) is  first-line-of-anti-circular) by L1377 , L1378 , L1297;
L1381: ( len ( R8 * R11 ) ) = D45 by L1379 , MATRIXR1:16;
L1382: ( ( R7 * ( ACirc R10 ) ) + ( R8 * ( ACirc R11 ) ) ) = ( ( ACirc ( R7 * R10 ) ) + ( R8 * ( ACirc R11 ) ) ) by L1377 , L1330
.= ( ( ACirc ( R7 * R10 ) ) + ( ACirc ( R8 * R11 ) ) ) by L1378 , L1330
.= ( ACirc ( ( R7 * R10 ) + ( R8 * R11 ) ) ) by L1380 , L1381 , L1255 , MATRIXR1:16;
thus L1383: thesis by L1382;
end;
registration
let R6 being Field;
let R4 being (Element of ( NAT ));
cluster ( 0. (R6 , R4) ) ->  anti-circular;
coherence
proof
set D46 = ( R4 |-> ( 0. R6 ) );
L1384: ( width ( 0. (R6 , R4) ) ) = R4 by MATRIX_1:24;
L1385: ( 0. (R6 , R4 , R4) ) = ( R4 |-> ( R4 |-> ( 0. R6 ) ) );
set D47 = ( 0. (R6 , R4) );
L1386: ( len ( R4 |-> ( 0. R6 ) ) ) = R4 by CARD_1:def 7;
L1387: ( Indices ( 0. (R6 , R4) ) ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
L1388: (for B125 , B126 being Nat holds (([ B125 , B126 ] in ( Indices D47 ) & B125 >= B126) implies ( D47 * (B125 , B126) ) = ( ( - D46 ) . ( ( ( B126 - B125 ) mod ( len D46 ) ) + 1 ) )))
proof
let C202 , C203 being Nat;
assume that
L1389: [ C202 , C203 ] in ( Indices D47 )
and
L1390: C202 >= C203;
L1391: ( ( ( C203 - C202 ) mod R4 ) + 1 ) in ( Seg R4 ) by L1387 , L1389 , L34;
L1392: ( ( - D46 ) . ( ( ( C203 - C202 ) mod ( len D46 ) ) + 1 ) ) = ( ( R4 |-> ( - ( 0. R6 ) ) ) . ( ( ( C203 - C202 ) mod R4 ) + 1 ) ) by L1386 , FVSUM_1:25
.= ( - ( 0. R6 ) ) by L1391 , FUNCOP_1:7
.= ( 0. R6 ) by VECTSP_2:3;
thus L1393: thesis by L1392 , L1385 , L1389 , MATRIX_3:1;
end;
L1394: (for B127 , B128 being Nat holds (([ B127 , B128 ] in ( Indices D47 ) & B127 <= B128) implies ( D47 * (B127 , B128) ) = ( D46 . ( ( ( B128 - B127 ) mod ( len D46 ) ) + 1 ) )))
proof
let C204 , C205 being Nat;
assume that
L1395: [ C204 , C205 ] in ( Indices D47 )
and
L1396: C204 <= C205;
L1397: ( ( ( C205 - C204 ) mod R4 ) + 1 ) in ( Seg R4 ) by L1387 , L1395 , L34;
L1398: ( ( ( Seg R4 ) --> ( 0. R6 ) ) . ( ( ( C205 - C204 ) mod R4 ) + 1 ) ) = ( 0. R6 ) by L1397 , FUNCOP_1:7;
thus L1399: thesis by L1398 , L1386 , L1385 , L1395 , MATRIX_3:1;
end;
L1400: D47 is_anti-circular_about D46 by L1394 , L1384 , L1386 , L1388 , L930;
consider C206 being (FinSequence of R6) such that L1401: (( len C206 ) = ( width D47 ) & D47 is_anti-circular_about C206) by L1400 , L1384 , L1386;
take C206;
thus L1402: thesis by L1401;
end;
end;
