:: The Class of Series-Parallel Graphs, {II}
::  by Krzysztof Retel
::
:: Received May 29, 2003
:: Copyright (c) 2003-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, CLASSES2, RELAT_1, ZFMISC_1, ORDERS_2, NECKLACE, CARD_1,
      ARYTM_3, SUBSET_1, XBOOLE_0, TARSKI, XXREAL_0, ORDINAL1, FINSET_1,
      CLASSES1, STRUCT_0, FUNCT_1, SETFAM_1, NAT_1, CARD_3, NECKLA_2;
 notations TARSKI, XBOOLE_0, ENUMSET1, SUBSET_1, ZFMISC_1, RELSET_1, PARTIT_2,
      FINSET_1, CARD_1, ORDINAL1, NUMBERS, CLASSES2, SETFAM_1, CLASSES1,
      CARD_3, XXREAL_0, NAT_1, RELAT_1, FUNCT_1, FUNCT_2, STRUCT_0, ORDERS_2,
      NECKLACE;
 constructors NAT_1, CLASSES2, REALSET2, COH_SP, NECKLACE, RELSET_1, PARTIT_2;
 registrations XBOOLE_0, SUBSET_1, ORDINAL1, RELSET_1, FINSET_1, XREAL_0,
      CLASSES2, STRUCT_0, ORDERS_2, CARD_1, CLASSES1;
 requirements BOOLE, SUBSET, REAL, NUMERALS, ARITHM;
 definitions TARSKI;
 theorems FUNCT_1, FUNCT_2, ENUMSET1, RELSET_1, ZFMISC_1, XBOOLE_1, TARSKI,
      ORDINAL1, PARTFUN1, NECKLACE, CLASSES2, CLASSES1, XBOOLE_0, SETFAM_1,
      CARD_5, NAT_1, STRUCT_0, RELAT_1, CARD_2, XREAL_1, XXREAL_0, XTUPLE_0;
 schemes TARSKI, XBOOLE_0, NAT_1;

begin
theorem
L1: (for R1 being Universe holds (for B1 , B2 being set holds ((B1 in R1 & B2 in R1) implies (for B3 being (Relation of B1 , B2) holds B3 in R1))))
proof
let R1 being Universe;
let C1 , C2 being set;
assume that
L2: C1 in R1
and
L3: C2 in R1;
L4: [: C1 , C2 :] in R1 by L2 , L3 , CLASSES2:61;
thus L5: thesis by L4 , CLASSES1:def 1;
end;
theorem
L6: (the InternalRel of ( Necklace 4 )) = { [ ( 0 ) , 1 ] , [ 1 , ( 0 ) ] , [ 1 , 2 ] , [ 2 , 1 ] , [ 2 , 3 ] , [ 3 , 2 ] }
proof
set D1 = { [ ( 0 ) , 1 ] , [ 1 , ( 0 ) ] , [ 1 , 2 ] , [ 2 , 1 ] , [ 2 , 3 ] , [ 3 , 2 ] };
set D2 = (the InternalRel of ( Necklace 4 ));
L7: [ ( ( 0 ) + 1 ) , ( 0 ) ] in { [ ( B4 + 1 ) , B4 ] where B4 is (Element of ( NAT )) : ( B4 + 1 ) < 4 };
L8: D2 = ( { [ B5 , ( B5 + 1 ) ] where B5 is (Element of ( NAT )) : ( B5 + 1 ) < 4 } \/ { [ ( B6 + 1 ) , B6 ] where B6 is (Element of ( NAT )) : ( B6 + 1 ) < 4 } ) by NECKLACE:18;
L9: D2 c= D1
proof
let C3 being set;
assume L10: C3 in D2;
consider C4 , C5 being set such that L11: C3 = [ C4 , C5 ] by L10 , RELAT_1:def 1;
per cases  by L8 , L10 , XBOOLE_0:def 3;
suppose L12: C3 in { [ B7 , ( B7 + 1 ) ] where B7 is (Element of ( NAT )) : ( B7 + 1 ) < 4 };

consider C6 being (Element of ( NAT )) such that L13: [ C4 , C5 ] = [ C6 , ( C6 + 1 ) ] and L14: ( C6 + 1 ) < 4 by L12 , L11;
L15: C4 = C6 by L13 , XTUPLE_0:1;
L16: ( C6 + 1 ) < ( 1 + 3 ) by L14;
L17: C6 < ( 2 + 1 ) by L16 , XREAL_1:7;
L18: C6 <= 2 by L17 , NAT_1:13;
L19: (C4 = ( 0 ) or C4 = 1 or C4 = 2) by L18 , L15 , NAT_1:26;
thus L20: thesis by L19 , L11 , L13 , L15 , ENUMSET1:def 4;
end;
suppose L21: C3 in { [ ( B8 + 1 ) , B8 ] where B8 is (Element of ( NAT )) : ( B8 + 1 ) < 4 };

consider C7 being (Element of ( NAT )) such that L22: [ C4 , C5 ] = [ ( C7 + 1 ) , C7 ] and L23: ( C7 + 1 ) < 4 by L21 , L11;
L24: C5 = C7 by L22 , XTUPLE_0:1;
L25: ( C7 + 1 ) < ( 1 + 3 ) by L23;
L26: C7 < ( 2 + 1 ) by L25 , XREAL_1:7;
L27: C7 <= 2 by L26 , NAT_1:13;
L28: (C5 = ( 0 ) or C5 = 1 or C5 = 2) by L27 , L24 , NAT_1:26;
thus L29: thesis by L28 , L11 , L22 , L24 , ENUMSET1:def 4;
end;
end;
L31: [ ( 2 + 1 ) , ( 1 + 1 ) ] in { [ ( B9 + 1 ) , B9 ] where B9 is (Element of ( NAT )) : ( B9 + 1 ) < 4 };
L32: [ ( 1 + 1 ) , ( 2 + 1 ) ] in { [ B10 , ( B10 + 1 ) ] where B10 is (Element of ( NAT )) : ( B10 + 1 ) < 4 };
L33: [ ( 1 + 1 ) , ( ( 0 ) + 1 ) ] in { [ ( B11 + 1 ) , B11 ] where B11 is (Element of ( NAT )) : ( B11 + 1 ) < 4 };
L34: [ ( ( 0 ) + 1 ) , ( 1 + 1 ) ] in { [ B12 , ( B12 + 1 ) ] where B12 is (Element of ( NAT )) : ( B12 + 1 ) < 4 };
L35: [ ( 0 ) , ( ( 0 ) + 1 ) ] in { [ B13 , ( B13 + 1 ) ] where B13 is (Element of ( NAT )) : ( B13 + 1 ) < 4 };
L36: D1 c= D2
proof
let C8 being set;
assume L37: C8 in D1;
per cases  by L37 , ENUMSET1:def 4;
suppose L38: C8 = [ ( 0 ) , 1 ];

thus L39: thesis by L38 , L8 , L35 , XBOOLE_0:def 3;
end;
suppose L40: C8 = [ 1 , ( 0 ) ];

thus L41: thesis by L40 , L8 , L7 , XBOOLE_0:def 3;
end;
suppose L42: C8 = [ 1 , 2 ];

thus L43: thesis by L42 , L8 , L34 , XBOOLE_0:def 3;
end;
suppose L44: C8 = [ 2 , 1 ];

thus L45: thesis by L44 , L8 , L33 , XBOOLE_0:def 3;
end;
suppose L46: C8 = [ 2 , 3 ];

thus L47: thesis by L46 , L8 , L32 , XBOOLE_0:def 3;
end;
suppose L48: C8 = [ 3 , 2 ];

thus L49: thesis by L48 , L8 , L31 , XBOOLE_0:def 3;
end;
end;
thus L51: thesis by L36 , L9 , XBOOLE_0:def 10;
end;
registration
let C9 being Nat;
cluster  ->  finite for (Element of ( Rank C9 ));
coherence
proof
reconsider D3 = C9 as (Element of ( NAT )) by ORDINAL1:def 12;
let C10 being (Element of ( Rank C9 ));
per cases ;
suppose L52: ( Rank C9 ) = ( {} );

thus L53: thesis by L52;
end;
suppose L54: ( Rank C9 ) <> ( {} );

L55: ( Rank D3 ) is  finite by CARD_2:67;
L56: C10 c= ( Rank C9 ) by L54 , ORDINAL1:def 2;
thus L57: thesis by L56 , L55;
end;
end;
end;
theorem
L60: (for B14 being set holds (B14 in ( FinSETS ) implies B14 is  finite))
proof
L61: ( omega ) is  limit_ordinal by ORDINAL1:def 11;
let C11 being set;
assume L62: C11 in ( FinSETS );
consider C12 being Ordinal such that L63: C12 in ( omega ) and L64: C11 in ( Rank C12 ) by L62 , L61 , CLASSES1:31 , CLASSES2:64;
reconsider D4 = C12 as Nat by L63;
L65: C11 is (Element of ( Rank D4 )) by L64;
thus L66: thesis by L65;
end;
registration
cluster  ->  finite for (Element of ( FinSETS ));
coherence by L60;
end;
definition
let C13 being non  empty RelStr;
attr C13 is  N-free
means
:L68: (not C13 embeds ( Necklace 4 ));
end;
registration
cluster  strict  finite  N-free for non  empty non  empty non  empty non  empty RelStr;
existence
proof
set D5 = { ( 0 ) , 1 };
set D6 = ( Necklace 4 );
reconsider D7 = ( id D5 ) as (Relation of D5) by RELSET_1:14;
take D8 = RelStr (# D5 , D7 #);
L70:
now
let C14 being (Function of D6 , D8);
L71: ( dom C14 ) = (the carrier of D6) by FUNCT_2:def 1
.= { ( 0 ) , 1 , 2 , 3 } by NECKLACE:1 , NECKLACE:20;
L72: 3 in ( dom C14 ) by L71 , ENUMSET1:def 2;
L73: ( C14 . 3 ) in D5 by L72 , PARTFUN1:4;
L74: 2 in ( dom C14 ) by L71 , ENUMSET1:def 2;
L75: ( C14 . 2 ) in D5 by L74 , PARTFUN1:4;
L76: (( C14 . 2 ) = ( 0 ) or ( C14 . 2 ) = 1) by L75 , TARSKI:def 2;
L77: 1 in ( dom C14 ) by L71 , ENUMSET1:def 2;
L78: ( C14 . 1 ) in D5 by L77 , PARTFUN1:4;
L79: (( C14 . 1 ) = ( 0 ) or ( C14 . 1 ) = 1) by L78 , TARSKI:def 2;
assume L80: C14 is  one-to-one;
L81: ( C14 . 2 ) <> ( C14 . 3 ) by L80 , L74 , L72 , FUNCT_1:def 4;
L82: ( C14 . 1 ) <> ( C14 . 3 ) by L80 , L77 , L72 , FUNCT_1:def 4;
thus L83: (ex B15 , B16 being (Element of D6) st (not ([ B15 , B16 ] in (the InternalRel of D6) iff [ ( C14 . B15 ) , ( C14 . B16 ) ] in (the InternalRel of D8)))) by L82 , L80 , L77 , L74 , L81 , L73 , L79 , L76 , FUNCT_1:def 4 , TARSKI:def 2;
end;
L84: (not D8 embeds D6) by L70 , NECKLACE:def 1;
thus L85: thesis by L84 , L68;
end;
end;
definition
let C15 , C16 being RelStr;
func union_of (C15 , C16) ->  strict RelStr means 
:L87: ((the carrier of it) = ( (the carrier of C15) \/ (the carrier of C16) ) & (the InternalRel of it) = ( (the InternalRel of C15) \/ (the InternalRel of C16) ));
existence
proof
set D9 = ( (the carrier of C15) \/ (the carrier of C16) );
L88: (the carrier of C16) c= D9 by XBOOLE_1:7;
L89: (the carrier of C15) c= D9 by XBOOLE_1:7;
reconsider D10 = (the InternalRel of C15) , D11 = (the InternalRel of C16) as (Relation of D9) by L89 , L88 , RELSET_1:7;
set D12 = ( D10 \/ D11 );
reconsider D13 = D12 as (Relation of D9);
take RelStr (# D9 , D13 #);
thus L90: thesis;
end;
uniqueness;
end;
definition
let C17 , C18 being RelStr;
func sum_of (C17 , C18) ->  strict RelStr means 
:L92: ((the carrier of it) = ( (the carrier of C17) \/ (the carrier of C18) ) & (the InternalRel of it) = ( ( ( (the InternalRel of C17) \/ (the InternalRel of C18) ) \/ [: (the carrier of C17) , (the carrier of C18) :] ) \/ [: (the carrier of C18) , (the carrier of C17) :] ));
existence
proof
set D14 = ( (the carrier of C17) \/ (the carrier of C18) );
L93: (the carrier of C18) c= D14 by XBOOLE_1:7;
L94: (the carrier of C17) c= D14 by XBOOLE_1:7;
reconsider D15 = [: (the carrier of C17) , (the carrier of C18) :] as (Relation of D14) by L94 , L93 , ZFMISC_1:96;
reconsider D16 = [: (the carrier of C18) , (the carrier of C17) :] as (Relation of D14) by L94 , L93 , ZFMISC_1:96;
L95: (the carrier of C18) c= D14 by XBOOLE_1:7;
L96: (the carrier of C17) c= D14 by XBOOLE_1:7;
reconsider D17 = (the InternalRel of C17) , D18 = (the InternalRel of C18) as (Relation of D14) by L96 , L95 , RELSET_1:7;
set D19 = ( ( ( D17 \/ D18 ) \/ D15 ) \/ D16 );
take RelStr (# D14 , D19 #);
thus L97: thesis;
end;
uniqueness;
end;
definition
func fin_RelStr means 
:L99: (for B17 being set holds (B17 in it iff (ex B18 being  strict RelStr st (B17 = B18 & (the carrier of B18) in ( FinSETS )))));
existence
proof
defpred S1[ set , set ] means (ex B19 being  strict RelStr st ($1 = [ (the carrier of B19) , (the InternalRel of B19) ] & $2 = B19));
L100: (for B20 , B21 , B22 being set holds ((S1[ B20 , B21 ] & S1[ B20 , B22 ]) implies B21 = B22))
proof
let C19 , C20 , C21 being set;
given C22 being  strict RelStr such that
L101: C19 = [ (the carrier of C22) , (the InternalRel of C22) ]
and
L102: C20 = C22;

given C23 being  strict RelStr such that
L103: C19 = [ (the carrier of C23) , (the InternalRel of C23) ]
and
L104: C21 = C23;

L105: (the carrier of C22) = (the carrier of C23) by L101 , L103 , XTUPLE_0:1;
thus L106: thesis by L105 , L101 , L102 , L103 , L104 , XTUPLE_0:1;
end;
consider C24 being set such that L107: (for B23 being set holds (B23 in C24 iff (ex B24 being set st (B24 in ( FinSETS ) & S1[ B24 , B23 ])))) from TARSKI:sch 1(L100);
take C24;
L108: (for B25 being set holds (B25 in C24 iff (ex B26 being  strict RelStr st (B25 = B26 & (the carrier of B26) in ( FinSETS )))))
proof
let C25 being set;
thus L109: (C25 in C24 implies (ex B27 being  strict RelStr st (C25 = B27 & (the carrier of B27) in ( FinSETS ))))
proof
assume L110: C25 in C24;
consider C26 being set such that L111: C26 in ( FinSETS ) and L112: (ex B28 being  strict RelStr st (C26 = [ (the carrier of B28) , (the InternalRel of B28) ] & C25 = B28)) by L110 , L107;
consider C27 being  strict RelStr such that L113: C26 = [ (the carrier of C27) , (the InternalRel of C27) ] and L114: C25 = C27 by L112;
L115: { (the carrier of C27) } in { { (the carrier of C27) , (the InternalRel of C27) } , { (the carrier of C27) } } by TARSKI:def 2;
L116: { { (the carrier of C27) , (the InternalRel of C27) } , { (the carrier of C27) } } c= ( FinSETS ) by L111 , L113 , ORDINAL1:def 2;
L117: { (the carrier of C27) } c= ( FinSETS ) by L116 , L115 , ORDINAL1:def 2;
L118: (the carrier of C27) in { (the carrier of C27) } by TARSKI:def 1;
thus L119: thesis by L118 , L114 , L117;
end;

given C28 being  strict RelStr such that
L120: C25 = C28
and
L121: (the carrier of C28) in ( FinSETS );

consider C29 being  strict RelStr such that L122: C25 = C29 and L123: (the carrier of C29) in ( FinSETS ) by L120 , L121;
L124: (the InternalRel of C29) in ( FinSETS ) by L123 , L1;
L125: [ (the carrier of C29) , (the InternalRel of C29) ] in ( FinSETS ) by L124 , L123 , CLASSES2:58;
thus L126: thesis by L125 , L107 , L122;
end;
thus L127: thesis by L108;
end;
uniqueness
proof
defpred S2[ set ] means (ex B29 being  strict RelStr st ($1 = B29 & (the carrier of B29) in ( FinSETS )));
thus L128: (for B30 , B31 being set holds (((for B32 being set holds (B32 in B30 iff S2[ B32 ])) & (for B33 being set holds (B33 in B31 iff S2[ B33 ]))) implies B30 = B31)) from XBOOLE_0:sch 3;
end;
end;
registration
cluster ( fin_RelStr ) -> non  empty;
correctness
proof
L130: RelStr (# ( {} ) , ( {} (( {} ) , ( {} )) ) #) in ( fin_RelStr )
proof
set D20 = RelStr (# ( {} ) , ( {} (( {} ) , ( {} )) ) #);
L131: (the carrier of D20) in ( FinSETS ) by CLASSES1:2 , CLASSES2:def 2;
thus L132: thesis by L131 , L99;
end;
thus L133: thesis by L130;
end;
end;
definition
func fin_RelStr_sp -> (Subset of ( fin_RelStr )) means 
:L135: ((for B34 being  strict RelStr holds (((the carrier of B34) is 1 -element & (the carrier of B34) in ( FinSETS )) implies B34 in it)) & (for B35 , B36 being  strict RelStr holds (((the carrier of B35) misses (the carrier of B36) & B35 in it & B36 in it) implies (( union_of (B35 , B36) ) in it & ( sum_of (B35 , B36) ) in it))) & (for B37 being (Subset of ( fin_RelStr )) holds (((for B38 being  strict RelStr holds (((the carrier of B38) is 1 -element & (the carrier of B38) in ( FinSETS )) implies B38 in B37)) & (for B39 , B40 being  strict RelStr holds (((the carrier of B39) misses (the carrier of B40) & B39 in B37 & B40 in B37) implies (( union_of (B39 , B40) ) in B37 & ( sum_of (B39 , B40) ) in B37)))) implies it c= B37)));
existence
proof
defpred S3[ set ] means ((for B41 being  strict RelStr holds (((the carrier of B41) is 1 -element & (the carrier of B41) in ( FinSETS )) implies B41 in $1)) & (for B42 , B43 being  strict RelStr holds (((the carrier of B42) misses (the carrier of B43) & B42 in $1 & B43 in $1) implies (( union_of (B42 , B43) ) in $1 & ( sum_of (B42 , B43) ) in $1))));
consider C30 being set such that L136: (for B44 being set holds (B44 in C30 iff (B44 in ( bool ( fin_RelStr ) ) & S3[ B44 ]))) from XBOOLE_0:sch 1;
L137: (for B45 being set holds (B45 in C30 implies B45 in ( bool ( fin_RelStr ) ))) by L136;
reconsider D21 = C30 as (Subset-Family of ( fin_RelStr )) by L137 , TARSKI:def 3;
take D22 = ( Intersect D21 );
L138: S3[ ( fin_RelStr ) ]
proof
set D23 = ( fin_RelStr );
L139: (for B46 , B47 being  strict RelStr holds (((the carrier of B46) misses (the carrier of B47) & B46 in D23 & B47 in D23) implies (( union_of (B46 , B47) ) in D23 & ( sum_of (B46 , B47) ) in D23)))
proof
let C31 , C32 being  strict RelStr;
assume that
L140: (the carrier of C31) misses (the carrier of C32)
and
L141: C31 in D23
and
L142: C32 in D23;
consider C33 being  strict RelStr such that L143: C33 = C32 and L144: (the carrier of C33) in ( FinSETS ) by L142 , L99;
reconsider D24 = ( sum_of (C31 , C32) ) as  strict RelStr;
consider C34 being  strict RelStr such that L145: C34 = C31 and L146: (the carrier of C34) in ( FinSETS ) by L141 , L99;
reconsider D25 = ( union_of (C34 , C33) ) as  strict RelStr;
L147: ( (the carrier of C31) \/ (the carrier of C32) ) in ( FinSETS ) by L145 , L146 , L143 , L144 , CLASSES2:60;
L148: (the carrier of D25) in ( FinSETS ) by L147 , L145 , L143 , L87;
thus L149: ( union_of (C31 , C32) ) in D23 by L148 , L145 , L143 , L99;
L150: (the carrier of D24) in ( FinSETS ) by L147 , L92;
thus L151: thesis by L150 , L99;
end;
thus L152: thesis by L139 , L99;
end;
L153: ( fin_RelStr ) in ( bool ( fin_RelStr ) ) by ZFMISC_1:def 1;
L154: D21 <> ( {} ) by L153 , L136 , L138;
L155: D22 = ( meet D21 ) by L154 , SETFAM_1:def 9;
L156: (S3[ D22 ] & (for B48 being (Subset of ( fin_RelStr )) holds (S3[ B48 ] implies D22 c= B48)))
proof
L157: (for B49 , B50 being  strict RelStr holds (((the carrier of B49) misses (the carrier of B50) & B49 in D22 & B50 in D22) implies (( union_of (B49 , B50) ) in D22 & ( sum_of (B49 , B50) ) in D22)))
proof
let C35 , C36 being  strict RelStr;
assume that
L158: (the carrier of C35) misses (the carrier of C36)
and
L159: C35 in D22
and
L160: C36 in D22;
L161: (for B51 being set holds (B51 in D21 implies ( sum_of (C35 , C36) ) in B51))
proof
let C37 being set;
assume L162: C37 in D21;
L163: C36 in C37 by L162 , L155 , L160 , SETFAM_1:def 1;
L164: C35 in C37 by L155 , L159 , L162 , SETFAM_1:def 1;
thus L165: thesis by L164 , L136 , L158 , L162 , L163;
end;
L166: (for B52 being set holds (B52 in D21 implies ( union_of (C35 , C36) ) in B52))
proof
let C38 being set;
assume L167: C38 in D21;
L168: C36 in C38 by L167 , L155 , L160 , SETFAM_1:def 1;
L169: C35 in C38 by L155 , L159 , L167 , SETFAM_1:def 1;
thus L170: thesis by L169 , L136 , L158 , L167 , L168;
end;
thus L171: thesis by L166 , L154 , L155 , L161 , SETFAM_1:def 1;
end;
L172: (for B53 being  strict RelStr holds (((the carrier of B53) is 1 -element & (the carrier of B53) in ( FinSETS )) implies B53 in D22))
proof
let C39 being  strict RelStr;
assume that
L173: (the carrier of C39) is 1 -element
and
L174: (the carrier of C39) in ( FinSETS );
L175: (for B54 being set holds (B54 in D21 implies C39 in B54)) by L136 , L173 , L174;
thus L176: thesis by L175 , L154 , L155 , SETFAM_1:def 1;
end;
thus L177: S3[ D22 ] by L172 , L157;
let C40 being (Subset of ( fin_RelStr ));
assume that
L178: S3[ C40 ];
L179: D22 c= C40
proof
L180: C40 in D21 by L136 , L178;
let C41 being set;
assume L181: C41 in D22;
thus L182: thesis by L181 , L155 , L180 , SETFAM_1:def 1;
end;
thus L183: thesis by L179;
end;
thus L184: thesis by L156;
end;
uniqueness
proof
let C42 , C43 being (Subset of ( fin_RelStr ));
assume that
L185: (for B55 being  strict RelStr holds (((the carrier of B55) is 1 -element & (the carrier of B55) in ( FinSETS )) implies B55 in C42))
and
L186: (for B56 , B57 being  strict RelStr holds (((the carrier of B56) misses (the carrier of B57) & B56 in C42 & B57 in C42) implies (( union_of (B56 , B57) ) in C42 & ( sum_of (B56 , B57) ) in C42)))
and
L187: (for B58 being (Subset of ( fin_RelStr )) holds (((for B59 being  strict RelStr holds (((the carrier of B59) is 1 -element & (the carrier of B59) in ( FinSETS )) implies B59 in B58)) & (for B60 , B61 being  strict RelStr holds (((the carrier of B60) misses (the carrier of B61) & B60 in B58 & B61 in B58) implies (( union_of (B60 , B61) ) in B58 & ( sum_of (B60 , B61) ) in B58)))) implies C42 c= B58))
and
L188: (for B62 being  strict RelStr holds (((the carrier of B62) is 1 -element & (the carrier of B62) in ( FinSETS )) implies B62 in C43))
and
L189: (for B63 , B64 being  strict RelStr holds (((the carrier of B63) misses (the carrier of B64) & B63 in C43 & B64 in C43) implies (( union_of (B63 , B64) ) in C43 & ( sum_of (B63 , B64) ) in C43)))
and
L190: (for B65 being (Subset of ( fin_RelStr )) holds (((for B66 being  strict RelStr holds (((the carrier of B66) is 1 -element & (the carrier of B66) in ( FinSETS )) implies B66 in B65)) & (for B67 , B68 being  strict RelStr holds (((the carrier of B67) misses (the carrier of B68) & B67 in B65 & B68 in B65) implies (( union_of (B67 , B68) ) in B65 & ( sum_of (B67 , B68) ) in B65)))) implies C43 c= B65));
L191: C43 c= C42 by L185 , L186 , L190;
L192: C42 c= C43 by L187 , L188 , L189;
thus L193: thesis by L192 , L191 , XBOOLE_0:def 10;
end;
end;
registration
cluster ( fin_RelStr_sp ) -> non  empty;
correctness
proof
L195: [: { ( 0 ) } , { ( 0 ) } :] c= [: { ( 0 ) } , { ( 0 ) } :];
reconsider D26 = [: { ( 0 ) } , { ( 0 ) } :] as (Relation of { ( 0 ) }) by L195;
L196: RelStr (# { ( 0 ) } , D26 #) in ( fin_RelStr_sp )
proof
set D27 = RelStr (# { ( 0 ) } , D26 #);
L197: (the carrier of D27) in ( FinSETS ) by CLASSES2:56 , CLASSES2:57;
thus L198: thesis by L197 , L135;
end;
thus L199: thesis by L196;
end;
end;
theorem
L201: (for B69 being set holds (B69 in ( fin_RelStr_sp ) implies B69 is  finite  strict non  empty  finite  strict non  empty  finite  strict non  empty  finite  strict non  empty RelStr))
proof
let C44 being set;
assume L202: C44 in ( fin_RelStr_sp );
L203: (ex B70 being  strict RelStr st (C44 = B70 & (the carrier of B70) in ( FinSETS ))) by L202 , L99;
reconsider D28 = C44 as  strict RelStr by L203;
L204:
now
set D29 = ( ( fin_RelStr_sp ) \ { D28 } );
set D30 = ( fin_RelStr_sp );
reconsider D31 = D29 as (Subset of ( fin_RelStr ));
L205: D28 in { D28 } by TARSKI:def 1;
assume L206: D28 is  empty;
L207:
now
let C45 , C46 being  strict RelStr;
assume that
L208: (the carrier of C45) misses (the carrier of C46)
and
L209: C45 in D31
and
L210: C46 in D31;
L211: C46 in D30 by L210 , XBOOLE_0:def 5;
L212: (not C45 in { D28 }) by L209 , XBOOLE_0:def 5;
L213: (the carrier of C45) <> ( {} )
proof
per cases  by L212 , TARSKI:def 1;
suppose L214: (the carrier of C45) <> (the carrier of D28);

thus L215: thesis by L214 , L206;
end;
suppose L216: (the InternalRel of C45) <> (the InternalRel of D28);

set D32 = (the InternalRel of C45);
L217: D32 <> ( {} ) by L206 , L216;
thus L218: thesis by L217;
end;
end;
reconsider D33 = (the carrier of C45) as non  empty set by L213;
L220: ( D33 \/ (the carrier of C46) ) <> ( {} );
L221: ( union_of (C45 , C46) ) <> D28 by L220 , L206 , L87;
L222: (not ( union_of (C45 , C46) ) in { D28 }) by L221 , TARSKI:def 1;
L223: (the carrier of ( sum_of (C45 , C46) )) = ( D33 \/ (the carrier of C46) ) by L92;
L224: (not ( sum_of (C45 , C46) ) in { D28 }) by L223 , L206 , TARSKI:def 1;
L225: C45 in D30 by L209 , XBOOLE_0:def 5;
L226: ( union_of (C45 , C46) ) in D30 by L225 , L208 , L211 , L135;
thus L227: ( union_of (C45 , C46) ) in D31 by L226 , L222 , XBOOLE_0:def 5;
L228: ( sum_of (C45 , C46) ) in D30 by L208 , L225 , L211 , L135;
thus L229: ( sum_of (C45 , C46) ) in D31 by L228 , L224 , XBOOLE_0:def 5;
end;
L230:
now
let C47 being  strict RelStr;
assume that
L231: (the carrier of C47) is 1 -element
and
L232: (the carrier of C47) in ( FinSETS );
L233: (not C47 in { D28 }) by L206 , L231 , TARSKI:def 1;
L234: C47 in D30 by L231 , L232 , L135;
thus L235: C47 in D31 by L234 , L233 , XBOOLE_0:def 5;
end;
L236: D30 c= D31 by L230 , L207 , L135;
thus L237: contradiction by L236 , L202 , L205 , XBOOLE_0:def 5;
end;
thus L238: thesis by L204 , L203;
end;
theorem
L239: (for B71 being RelStr holds (B71 in ( fin_RelStr_sp ) implies (the carrier of B71) in ( FinSETS )))
proof
let C48 being RelStr;
assume L240: C48 in ( fin_RelStr_sp );
L241: (ex B72 being  strict RelStr st (C48 = B72 & (the carrier of B72) in ( FinSETS ))) by L240 , L99;
thus L242: thesis by L241;
end;
theorem
L243: (for B73 being set holds (B73 in ( fin_RelStr_sp ) implies (B73 is  strict 1 -element  strict 1 -element  strict 1 -element  strict 1 -element RelStr or (ex B74 , B75 being  strict RelStr st ((the carrier of B74) misses (the carrier of B75) & B74 in ( fin_RelStr_sp ) & B75 in ( fin_RelStr_sp ) & (B73 = ( union_of (B74 , B75) ) or B73 = ( sum_of (B74 , B75) )))))))
proof
deffunc H1(set , set) = ( $2 \/ { B76 where B76 is (Element of ( fin_RelStr_sp )) : (ex B77 , B78 being  strict RelStr st ((the carrier of B77) misses (the carrier of B78) & B77 in $2 & B78 in $2 & (B76 = ( union_of (B77 , B78) ) or B76 = ( sum_of (B77 , B78) )))) } );
set D34 = ( fin_RelStr_sp );
let C49 being set;
assume that
L244: C49 in ( fin_RelStr_sp );
consider C50 being Function such that L245: ( dom C50 ) = ( NAT ) and L246: ( C50 . ( 0 ) ) = { B79 where B79 is (Element of ( fin_RelStr_sp )) : B79 is  trivial  trivial  trivial  trivial RelStr } and L247: (for B80 being Nat holds ( C50 . ( B80 + 1 ) ) = H1(B80 , ( C50 . B80 ))) from NAT_1:sch 11;
L248: ( Union C50 ) c= ( fin_RelStr_sp )
proof
defpred S4[ Nat ] means ( C50 . $1 ) c= ( fin_RelStr_sp );
let C51 being set;
assume L249: C51 in ( Union C50 );
consider C52 being set such that L250: C52 in ( dom C50 ) and L251: C51 in ( C50 . C52 ) by L249 , CARD_5:2;
reconsider D35 = C52 as (Element of ( NAT )) by L245 , L250;
L252: (for B81 being Nat holds (S4[ B81 ] implies S4[ ( B81 + 1 ) ]))
proof
let C53 being Nat;
assume that
L253: S4[ C53 ];
L254: { B82 where B82 is (Element of ( fin_RelStr_sp )) : (ex B83 , B84 being  strict RelStr st ((the carrier of B83) misses (the carrier of B84) & B83 in ( C50 . C53 ) & B84 in ( C50 . C53 ) & (B82 = ( union_of (B83 , B84) ) or B82 = ( sum_of (B83 , B84) )))) } c= ( fin_RelStr_sp )
proof
let C54 being set;
set D36 = { B85 where B85 is (Element of ( fin_RelStr_sp )) : (ex B86 , B87 being  strict RelStr st ((the carrier of B86) misses (the carrier of B87) & B86 in ( C50 . C53 ) & B87 in ( C50 . C53 ) & (B85 = ( union_of (B86 , B87) ) or B85 = ( sum_of (B86 , B87) )))) };
assume L255: C54 in D36;
L256: (ex B88 being (Element of ( fin_RelStr_sp )) st (C54 = B88 & (ex B89 , B90 being  strict RelStr st ((the carrier of B89) misses (the carrier of B90) & B89 in ( C50 . C53 ) & B90 in ( C50 . C53 ) & (B88 = ( union_of (B89 , B90) ) or B88 = ( sum_of (B89 , B90) )))))) by L255;
thus L257: thesis by L256;
end;
L258: ( C50 . ( C53 + 1 ) ) = ( ( C50 . C53 ) \/ { B91 where B91 is (Element of ( fin_RelStr_sp )) : (ex B92 , B93 being  strict RelStr st ((the carrier of B92) misses (the carrier of B93) & B92 in ( C50 . C53 ) & B93 in ( C50 . C53 ) & (B91 = ( union_of (B92 , B93) ) or B91 = ( sum_of (B92 , B93) )))) } ) by L247;
thus L259: thesis by L258 , L253 , L254 , XBOOLE_1:8;
end;
L260: S4[ ( 0 ) ]
proof
let C55 being set;
assume L261: C55 in ( C50 . ( 0 ) );
L262: (ex B94 being (Element of ( fin_RelStr_sp )) st (C55 = B94 & B94 is  trivial  trivial  trivial  trivial RelStr)) by L261 , L246;
thus L263: thesis by L262;
end;
L264: (for B95 being Nat holds S4[ B95 ]) from NAT_1:sch 2(L260 , L252);
L265: ( C50 . D35 ) c= ( fin_RelStr_sp ) by L264;
thus L266: thesis by L265 , L251;
end;
reconsider D37 = ( Union C50 ) as (Subset of ( fin_RelStr )) by L248 , XBOOLE_1:1;
L267: (for B96 being Nat holds ( C50 . B96 ) c= ( C50 . ( B96 + 1 ) ))
proof
let C56 being Nat;
L268: ( C50 . ( C56 + 1 ) ) = ( ( C50 . C56 ) \/ { B97 where B97 is (Element of ( fin_RelStr_sp )) : (ex B98 , B99 being  strict RelStr st ((the carrier of B98) misses (the carrier of B99) & B98 in ( C50 . C56 ) & B99 in ( C50 . C56 ) & (B97 = ( union_of (B98 , B99) ) or B97 = ( sum_of (B98 , B99) )))) } ) by L247;
let C57 being set;
assume L269: C57 in ( C50 . C56 );
thus L270: thesis by L269 , L268 , XBOOLE_0:def 3;
end;
L271: (for B100 , B101 being (Element of ( NAT )) holds (B100 <= B101 implies ( C50 . B100 ) c= ( C50 . B101 )))
proof
let C58 , C59 being (Element of ( NAT ));
defpred S5[ Nat ] means ( C50 . C58 ) c= ( C50 . ( C58 + $1 ) );
assume L272: C58 <= C59;
L273: (ex B102 being Nat st C59 = ( C58 + B102 )) by L272 , NAT_1:10;
L274: (for B103 being Nat holds (S5[ B103 ] implies S5[ ( B103 + 1 ) ]))
proof
let C60 being Nat;
assume that
L275: S5[ C60 ];
L276: ( C50 . ( C58 + C60 ) ) c= ( C50 . ( ( C58 + C60 ) + 1 ) ) by L267;
thus L277: thesis by L276 , L275 , XBOOLE_1:1;
end;
L278: S5[ ( 0 ) ];
L279: (for B104 being Nat holds S5[ B104 ]) from NAT_1:sch 2(L278 , L274);
thus L280: thesis by L279 , L273;
end;
L281: (for B105 , B106 being  strict RelStr holds (((the carrier of B105) misses (the carrier of B106) & B105 in D37 & B106 in D37) implies (( union_of (B105 , B106) ) in D37 & ( sum_of (B105 , B106) ) in D37)))
proof
let C61 , C62 being  strict RelStr;
assume that
L282: (the carrier of C61) misses (the carrier of C62)
and
L283: C61 in D37
and
L284: C62 in D37;
consider C63 being set such that L285: C63 in ( dom C50 ) and L286: C62 in ( C50 . C63 ) by L284 , CARD_5:2;
consider C64 being set such that L287: C64 in ( dom C50 ) and L288: C61 in ( C50 . C64 ) by L283 , CARD_5:2;
reconsider D38 = C64 , D39 = C63 as (Element of ( NAT )) by L245 , L287 , L285;
set D40 = { B107 where B107 is (Element of ( fin_RelStr_sp )) : (ex B108 , B109 being  strict RelStr st ((the carrier of B108) misses (the carrier of B109) & B108 in ( C50 . ( max (D38 , D39) ) ) & B109 in ( C50 . ( max (D38 , D39) ) ) & (B107 = ( union_of (B108 , B109) ) or B107 = ( sum_of (B108 , B109) )))) };
L289: ( C50 . ( ( max (D38 , D39) ) + 1 ) ) = ( ( C50 . ( max (D38 , D39) ) ) \/ D40 ) by L247;
L290: ( C50 . D38 ) c= ( C50 . ( max (D38 , D39) ) ) by L271 , XXREAL_0:25;
L291: ( C50 . D39 ) c= ( C50 . ( max (D38 , D39) ) ) by L271 , XXREAL_0:25;
L292: ( sum_of (C61 , C62) ) in ( fin_RelStr_sp ) by L248 , L282 , L283 , L284 , L135;
L293: ( sum_of (C61 , C62) ) in D40 by L292 , L282 , L288 , L286 , L290 , L291;
L294: ( sum_of (C61 , C62) ) in ( C50 . ( ( max (D38 , D39) ) + 1 ) ) by L293 , L289 , XBOOLE_0:def 3;
L295: ( union_of (C61 , C62) ) in ( fin_RelStr_sp ) by L248 , L282 , L283 , L284 , L135;
L296: ( union_of (C61 , C62) ) in D40 by L295 , L282 , L288 , L286 , L290 , L291;
L297: ( union_of (C61 , C62) ) in ( C50 . ( ( max (D38 , D39) ) + 1 ) ) by L296 , L289 , XBOOLE_0:def 3;
thus L298: thesis by L297 , L245 , L294 , CARD_5:2;
end;
L299: (for B110 being  strict RelStr holds (((the carrier of B110) is 1 -element & (the carrier of B110) in ( FinSETS )) implies B110 in D37))
proof
L300: ( C50 . ( 0 ) ) c= D37
proof
let C65 being set;
assume L301: C65 in ( C50 . ( 0 ) );
thus L302: thesis by L301 , L245 , CARD_5:2;
end;
let C66 being  strict RelStr;
assume that
L303: (the carrier of C66) is 1 -element
and
L304: (the carrier of C66) in ( FinSETS );
L305: C66 is  trivial  trivial  trivial  trivial RelStr by L303;
L306: C66 is (Element of ( fin_RelStr_sp )) by L303 , L304 , L135;
L307: C66 in ( C50 . ( 0 ) ) by L306 , L246 , L305;
thus L308: thesis by L307 , L300;
end;
L309: ( fin_RelStr_sp ) c= D37 by L299 , L281 , L135;
L310: ( Union C50 ) = ( fin_RelStr_sp ) by L309 , L248 , XBOOLE_0:def 10;
assume L311: (not C49 is  strict 1 -element  strict 1 -element  strict 1 -element  strict 1 -element RelStr);
L312: (ex B111 , B112 being  strict RelStr st ((the carrier of B111) misses (the carrier of B112) & B111 in D34 & B112 in D34 & (C49 = ( union_of (B111 , B112) ) or C49 = ( sum_of (B111 , B112) ))))
proof
defpred S6[ Nat ] means (C49 in ( C50 . $1 ) implies (ex B113 , B114 being  strict RelStr st ((the carrier of B113) misses (the carrier of B114) & B113 in D34 & B114 in D34 & (C49 = ( union_of (B113 , B114) ) or C49 = ( sum_of (B113 , B114) )))));
L313: (for B115 being Nat holds (S6[ B115 ] implies S6[ ( B115 + 1 ) ]))
proof
let C67 being Nat;
assume that
L314: S6[ C67 ];
set D41 = { B116 where B116 is (Element of ( fin_RelStr_sp )) : (ex B117 , B118 being  strict RelStr st ((the carrier of B117) misses (the carrier of B118) & B117 in ( C50 . C67 ) & B118 in ( C50 . C67 ) & (B116 = ( union_of (B117 , B118) ) or B116 = ( sum_of (B117 , B118) )))) };
assume L315: C49 in ( C50 . ( C67 + 1 ) );
reconsider D42 = C67 as (Element of ( NAT )) by ORDINAL1:def 12;
L316: ( C50 . ( D42 + 1 ) ) = ( ( C50 . D42 ) \/ D41 ) by L247;
per cases  by L315 , L316 , XBOOLE_0:def 3;
suppose L317: C49 in ( C50 . D42 );

thus L318: thesis by L317 , L314;
end;
suppose L319: C49 in D41;

L320: (ex B119 being (Element of ( fin_RelStr_sp )) st (B119 = C49 & (ex B120 , B121 being  strict RelStr st ((the carrier of B120) misses (the carrier of B121) & B120 in ( C50 . D42 ) & B121 in ( C50 . D42 ) & (B119 = ( union_of (B120 , B121) ) or B119 = ( sum_of (B120 , B121) )))))) by L319;
consider C68 , C69 being  strict RelStr such that L321: (the carrier of C68) misses (the carrier of C69) and L322: C68 in ( C50 . D42 ) and L323: C69 in ( C50 . D42 ) and L324: (C49 = ( union_of (C68 , C69) ) or C49 = ( sum_of (C68 , C69) )) by L320;
L325: C69 in D34 by L245 , L310 , L323 , CARD_5:2;
L326: C68 in D34 by L245 , L310 , L322 , CARD_5:2;
thus L327: thesis by L326 , L321 , L324 , L325;
end;
end;
L329: S6[ ( 0 ) ]
proof
assume L330: C49 in ( C50 . ( 0 ) );
consider C70 being (Element of ( fin_RelStr_sp )) such that L331: (C49 = C70 & C70 is  trivial  trivial  trivial  trivial RelStr) by L330 , L246;
L332: C70 is  strict non  empty  strict non  empty  strict non  empty  strict non  empty RelStr by L201;
L333: C70 is non  empty  trivial  strict non  empty  trivial  strict non  empty  trivial  strict non  empty  trivial  strict RelStr by L332 , L331;
reconsider D43 = C70 as non  empty  trivial  strict RelStr by L333;
L334: D43 is 1 -element  strict 1 -element  strict 1 -element  strict 1 -element  strict RelStr;
thus L335: thesis by L334 , L311 , L331;
end;
L336: (for B122 being Nat holds S6[ B122 ]) from NAT_1:sch 2(L329 , L313);
L337: (ex B123 being set st (B123 in ( dom C50 ) & C49 in ( C50 . B123 ))) by L244 , L309 , CARD_5:2;
thus L338: thesis by L337 , L245 , L336;
end;
thus L339: thesis by L312;
end;
L340: (the carrier of ( Necklace 4 )) = { ( 0 ) , 1 , 2 , 3 } by NECKLACE:1 , NECKLACE:20;
theorem
L341: (for B124 being  strict non  empty RelStr holds (B124 in ( fin_RelStr_sp ) implies B124 is  N-free))
proof
let C71 being  strict non  empty RelStr;
set D44 = ( Necklace 4 );
defpred S7[ Nat ] means (ex B125 being  strict non  empty RelStr st (B125 in ( fin_RelStr_sp ) & ( card (the carrier of B125) ) = $1 & B125 embeds D44));
assume L342: C71 in ( fin_RelStr_sp );
L343: (ex B126 being  strict RelStr st (C71 = B126 & (the carrier of B126) in ( FinSETS ))) by L342 , L99;
reconsider D45 = (the carrier of C71) as (Element of ( FinSETS )) by L343;
set D46 = ( card D45 );
L344: (for B127 being Nat holds ((B127 <> ( 0 ) & S7[ B127 ]) implies (ex B128 being Nat st (B128 < B127 & S7[ B128 ]))))
proof
let C72 being Nat;
assume that
L345: C72 <> ( 0 )
and
L346: S7[ C72 ];
consider C73 being non  empty  strict RelStr such that L347: C73 in ( fin_RelStr_sp ) and L348: ( card (the carrier of C73) ) = C72 and L349: C73 embeds D44 by L346;
per cases  by L347 , L243;
suppose L350: C73 is  strict 1 -element  strict 1 -element  strict 1 -element  strict 1 -element RelStr;

L351: ( dom (the InternalRel of C73) ) c= (the carrier of C73) by RELAT_1:def 18;
L352: ( rng (the InternalRel of C73) ) c= (the carrier of C73) by RELAT_1:def 19;
consider C74 being (Function of D44 , C73) such that L353: C74 is  one-to-one and L354: (for B129 , B130 being (Element of D44) holds ([ B129 , B130 ] in (the InternalRel of D44) iff [ ( C74 . B129 ) , ( C74 . B130 ) ] in (the InternalRel of C73))) by L349 , NECKLACE:def 1;
L355: (the carrier of D44) = { ( 0 ) , 1 , 2 , 3 } by NECKLACE:1 , NECKLACE:20;
L356: ( 0 ) in (the carrier of D44) by L355 , ENUMSET1:def 2;
L357: 1 in (the carrier of D44) by L355 , ENUMSET1:def 2;
L358: (( 0 ) = ( ( 0 ) + 1 ) or 1 = ( ( 0 ) + 1 ));
L359: [ ( 0 ) , 1 ] in (the InternalRel of D44) by L358 , L356 , L357 , NECKLACE:25;
L360: [ ( C74 . ( 0 ) ) , ( C74 . 1 ) ] in (the InternalRel of C73) by L359 , L354 , L356 , L357;
L361: ( C74 . 1 ) in ( rng (the InternalRel of C73) ) by L360 , XTUPLE_0:def 13;
L362: ( C74 . ( 0 ) ) in ( dom (the InternalRel of C73) ) by L360 , XTUPLE_0:def 12;
L363: ( C74 . ( 0 ) ) = ( C74 . 1 ) by L362 , L350 , L361 , L351 , L352 , STRUCT_0:def 10;
L364: [ ( 0 ) , ( 0 ) ] in (the InternalRel of D44) by L363 , L354 , L356 , L360;
L365: ([ ( 0 ) , ( 0 ) ] = [ ( 0 ) , 1 ] or [ ( 0 ) , ( 0 ) ] = [ 1 , ( 0 ) ] or [ ( 0 ) , ( 0 ) ] = [ 1 , 2 ] or [ ( 0 ) , ( 0 ) ] = [ 2 , 1 ] or [ ( 0 ) , ( 0 ) ] = [ 2 , 3 ] or [ ( 0 ) , ( 0 ) ] = [ 3 , 2 ]) by L364 , L6 , ENUMSET1:def 4;
thus L366: thesis by L365 , XTUPLE_0:1;
end;
suppose L367: (ex B131 , B132 being  strict RelStr st ((the carrier of B131) misses (the carrier of B132) & B131 in ( fin_RelStr_sp ) & B132 in ( fin_RelStr_sp ) & (C73 = ( union_of (B131 , B132) ) or C73 = ( sum_of (B131 , B132) ))));

consider C75 , C76 being  strict RelStr such that L368: (the carrier of C75) misses (the carrier of C76) and L369: C75 in ( fin_RelStr_sp ) and L370: C76 in ( fin_RelStr_sp ) and L371: (C73 = ( union_of (C75 , C76) ) or C73 = ( sum_of (C75 , C76) )) by L367;
L372:
now
L373: (not [ 1 , 3 ] in (the InternalRel of D44))
proof
assume L374: [ 1 , 3 ] in (the InternalRel of D44);
per cases  by L374 , L6 , ENUMSET1:def 4;
suppose L375: [ 1 , 3 ] = [ ( 0 ) , 1 ];

thus L376: contradiction by L375 , XTUPLE_0:1;
end;
suppose L377: [ 1 , 3 ] = [ 1 , 2 ];

thus L378: contradiction by L377 , XTUPLE_0:1;
end;
suppose L379: [ 1 , 3 ] = [ 2 , 3 ];

thus L380: contradiction by L379 , XTUPLE_0:1;
end;
suppose L381: [ 1 , 3 ] = [ 3 , 2 ];

thus L382: contradiction by L381 , XTUPLE_0:1;
end;
suppose L383: [ 1 , 3 ] = [ 2 , 1 ];

thus L384: contradiction by L383 , XTUPLE_0:1;
end;
suppose L385: [ 1 , 3 ] = [ 1 , ( 0 ) ];

thus L386: contradiction by L385 , XTUPLE_0:1;
end;
end;
L388: (not [ ( 0 ) , 2 ] in (the InternalRel of D44))
proof
assume L389: [ ( 0 ) , 2 ] in (the InternalRel of D44);
per cases  by L389 , L6 , ENUMSET1:def 4;
suppose L390: [ ( 0 ) , 2 ] = [ ( 0 ) , 1 ];

thus L391: contradiction by L390 , XTUPLE_0:1;
end;
suppose L392: [ ( 0 ) , 2 ] = [ 1 , 2 ];

thus L393: contradiction by L392 , XTUPLE_0:1;
end;
suppose L394: [ ( 0 ) , 2 ] = [ 2 , 3 ];

thus L395: contradiction by L394 , XTUPLE_0:1;
end;
suppose L396: [ ( 0 ) , 2 ] = [ 3 , 2 ];

thus L397: contradiction by L396 , XTUPLE_0:1;
end;
suppose L398: [ ( 0 ) , 2 ] = [ 2 , 1 ];

thus L399: contradiction by L398 , XTUPLE_0:1;
end;
suppose L400: [ ( 0 ) , 2 ] = [ 1 , ( 0 ) ];

thus L401: contradiction by L400 , XTUPLE_0:1;
end;
end;
L403: (the carrier of D44) = { ( 0 ) , 1 , 2 , 3 } by NECKLACE:1 , NECKLACE:20;
L404: ( 0 ) in (the carrier of D44) by L403 , ENUMSET1:def 2;
L405: (not [ ( 0 ) , 3 ] in (the InternalRel of D44))
proof
assume L406: [ ( 0 ) , 3 ] in (the InternalRel of D44);
per cases  by L406 , L6 , ENUMSET1:def 4;
suppose L407: [ ( 0 ) , 3 ] = [ ( 0 ) , 1 ];

thus L408: contradiction by L407 , XTUPLE_0:1;
end;
suppose L409: [ ( 0 ) , 3 ] = [ 1 , 2 ];

thus L410: contradiction by L409 , XTUPLE_0:1;
end;
suppose L411: [ ( 0 ) , 3 ] = [ 2 , 3 ];

thus L412: contradiction by L411 , XTUPLE_0:1;
end;
suppose L413: [ ( 0 ) , 3 ] = [ 3 , 2 ];

thus L414: contradiction by L413 , XTUPLE_0:1;
end;
suppose L415: [ ( 0 ) , 3 ] = [ 2 , 1 ];

thus L416: contradiction by L415 , XTUPLE_0:1;
end;
suppose L417: [ ( 0 ) , 3 ] = [ 1 , ( 0 ) ];

thus L418: contradiction by L417 , XTUPLE_0:1;
end;
end;
set D47 = (the InternalRel of C75);
set D48 = (the InternalRel of C76);
set D49 = [: (the carrier of C75) , (the carrier of C76) :];
set D50 = [: (the carrier of C76) , (the carrier of C75) :];
set D51 = (the carrier of C75);
set D52 = (the carrier of C76);
set D53 = (the carrier of C73);
L420: ( dom (the InternalRel of C73) ) c= D53 by RELAT_1:def 18;
assume L421: C73 = ( sum_of (C75 , C76) );
L422: D49 c= (the InternalRel of C73)
proof
let C77 being set;
assume L423: C77 in D49;
L424: C77 in ( ( D47 \/ D48 ) \/ D49 ) by L423 , XBOOLE_0:def 3;
L425: ( ( D47 \/ D48 ) \/ D49 ) c= ( ( ( D47 \/ D48 ) \/ D49 ) \/ D50 ) by XBOOLE_1:7;
L426: ( ( D47 \/ D48 ) \/ D49 ) c= (the InternalRel of C73) by L425 , L421 , L92;
thus L427: thesis by L426 , L424;
end;
L428: ( rng (the InternalRel of C73) ) c= D53 by RELAT_1:def 19;
L429: 3 in (the carrier of D44) by L403 , ENUMSET1:def 2;
L430: D50 c= (the InternalRel of C73)
proof
let C78 being set;
L431: ( ( D48 \/ D49 ) \/ D50 ) c= ( D47 \/ ( ( D48 \/ D49 ) \/ D50 ) ) by XBOOLE_1:7;
L432: ( ( D48 \/ D49 ) \/ D50 ) c= ( D47 \/ ( D48 \/ ( D49 \/ D50 ) ) ) by L431 , XBOOLE_1:4;
L433: ( ( D48 \/ D49 ) \/ D50 ) c= ( ( D47 \/ D48 ) \/ ( D49 \/ D50 ) ) by L432 , XBOOLE_1:4;
L434: ( ( D48 \/ D49 ) \/ D50 ) c= ( ( ( D47 \/ D48 ) \/ D49 ) \/ D50 ) by L433 , XBOOLE_1:4;
L435: ( ( D48 \/ D49 ) \/ D50 ) c= (the InternalRel of C73) by L434 , L421 , L92;
assume L436: C78 in D50;
L437: C78 in ( ( D48 \/ D49 ) \/ D50 ) by L436 , XBOOLE_0:def 3;
thus L438: thesis by L437 , L435;
end;
L439: ( rng D47 ) c= D51 by RELAT_1:def 19;
L440: 1 in (the carrier of D44) by L403 , ENUMSET1:def 2;
consider C79 being (Function of D44 , C73) such that L441: C79 is  one-to-one and L442: (for B133 , B134 being (Element of D44) holds ([ B133 , B134 ] in (the InternalRel of D44) iff [ ( C79 . B133 ) , ( C79 . B134 ) ] in (the InternalRel of C73))) by L349 , NECKLACE:def 1;
L443: [ 1 , ( 0 ) ] in (the InternalRel of D44) by L6 , ENUMSET1:def 4;
L444: [ ( C79 . 1 ) , ( C79 . ( 0 ) ) ] in (the InternalRel of C73) by L443 , L442 , L404 , L440;
L445: 2 in (the carrier of D44) by L403 , ENUMSET1:def 2;
L446: [ 3 , 2 ] in (the InternalRel of D44) by L6 , ENUMSET1:def 4;
L447: [ ( C79 . 3 ) , ( C79 . 2 ) ] in (the InternalRel of C73) by L446 , L442 , L445 , L429;
L448: [ 2 , 1 ] in (the InternalRel of D44) by L6 , ENUMSET1:def 4;
L449: [ ( C79 . 2 ) , ( C79 . 1 ) ] in (the InternalRel of C73) by L448 , L442 , L440 , L445;
L450: ( rng D48 ) c= D52 by RELAT_1:def 19;
L451: [ 2 , 3 ] in (the InternalRel of D44) by L6 , ENUMSET1:def 4;
L452: [ ( C79 . 2 ) , ( C79 . 3 ) ] in (the InternalRel of C73) by L451 , L442 , L445 , L429;
L453: ( C79 . 3 ) in ( rng (the InternalRel of C73) ) by L452 , XTUPLE_0:def 13;
L454: ( C79 . 3 ) in D53 by L453 , L428;
L455: ( C79 . 3 ) in ( D51 \/ D52 ) by L454 , L421 , L92;
L456: [ ( 0 ) , 1 ] in (the InternalRel of D44) by L6 , ENUMSET1:def 4;
L457: [ ( C79 . ( 0 ) ) , ( C79 . 1 ) ] in (the InternalRel of C73) by L456 , L442 , L404 , L440;
L458: ( C79 . ( 0 ) ) in ( dom (the InternalRel of C73) ) by L457 , XTUPLE_0:def 12;
L459: ( C79 . ( 0 ) ) in D53 by L458 , L420;
L460: ( C79 . ( 0 ) ) in ( D51 \/ D52 ) by L459 , L421 , L92;
L461: ( C79 . 1 ) in ( rng (the InternalRel of C73) ) by L457 , XTUPLE_0:def 13;
L462: ( C79 . 1 ) in D53 by L461 , L428;
L463: ( C79 . 1 ) in ( D51 \/ D52 ) by L462 , L421 , L92;
L464: ( dom D47 ) c= D51 by RELAT_1:def 18;
L465: [ 1 , 2 ] in (the InternalRel of D44) by L6 , ENUMSET1:def 4;
L466: [ ( C79 . 1 ) , ( C79 . 2 ) ] in (the InternalRel of C73) by L465 , L442 , L440 , L445;
L467: ( C79 . 2 ) in ( rng (the InternalRel of C73) ) by L466 , XTUPLE_0:def 13;
L468: ( C79 . 2 ) in D53 by L467 , L428;
L469: ( C79 . 2 ) in ( D51 \/ D52 ) by L468 , L421 , L92;
L470: ( dom D48 ) c= D52 by RELAT_1:def 18;
per cases  by L460 , XBOOLE_0:def 3;
suppose L471: ( C79 . ( 0 ) ) in D51;

set D54 = [ ( C79 . ( 0 ) ) , ( C79 . 1 ) ];
set D55 = [ ( C79 . 1 ) , ( C79 . 2 ) ];
set D56 = [ ( C79 . 2 ) , ( C79 . 3 ) ];
set D57 = [ ( C79 . 1 ) , ( C79 . ( 0 ) ) ];
set D58 = [ ( C79 . 2 ) , ( C79 . 1 ) ];
set D59 = [ ( C79 . 3 ) , ( C79 . 2 ) ];
L472:
now
assume L473: D54 in D50;
L474: ( C79 . ( 0 ) ) in D52 by L473 , ZFMISC_1:87;
thus L475: contradiction by L474 , L368 , L471 , XBOOLE_0:3;
end;
L476:
now
assume L477: ( C79 . 2 ) in D52;
L478: [ ( C79 . ( 0 ) ) , ( C79 . 2 ) ] in D49 by L477 , L471 , ZFMISC_1:87;
thus L479: contradiction by L478 , L442 , L404 , L445 , L388 , L422;
end;
L480:
now
assume L481: D57 in D48;
L482: ( C79 . ( 0 ) ) in ( rng D48 ) by L481 , XTUPLE_0:def 13;
thus L483: contradiction by L482 , L368 , L450 , L471 , XBOOLE_0:3;
end;
L484:
now
assume L485: D57 in D49;
L486: ( C79 . ( 0 ) ) in D52 by L485 , ZFMISC_1:87;
thus L487: contradiction by L486 , L368 , L471 , XBOOLE_0:3;
end;
L488:
now
assume L489: D54 in D48;
L490: ( C79 . ( 0 ) ) in ( dom D48 ) by L489 , XTUPLE_0:def 12;
thus L491: contradiction by L490 , L368 , L470 , L471 , XBOOLE_0:3;
end;
L492:
now
assume L493: ( C79 . 3 ) in D52;
L494: [ ( C79 . ( 0 ) ) , ( C79 . 3 ) ] in D49 by L493 , L471 , ZFMISC_1:87;
thus L495: contradiction by L494 , L442 , L404 , L429 , L405 , L422;
end;
L496: ( C79 . 3 ) in D51 by L492 , L455 , XBOOLE_0:def 3;
L497:
now
assume L498: ( C79 . 1 ) in D52;
L499: [ ( C79 . 1 ) , ( C79 . 3 ) ] in D50 by L498 , L496 , ZFMISC_1:87;
thus L500: contradiction by L499 , L442 , L440 , L429 , L373 , L430;
end;
L501: ( dom C79 ) = (the carrier of D44) by FUNCT_2:def 1;
L502: ( rng C79 ) c= (the carrier of C75)
proof
let C80 being set;
assume L503: C80 in ( rng C79 );
consider C81 being set such that L504: C81 in ( dom C79 ) and L505: C80 = ( C79 . C81 ) by L503 , FUNCT_1:def 3;
per cases  by L501 , L504 , L340 , ENUMSET1:def 2;
suppose L506: C81 = ( 0 );

thus L507: thesis by L506 , L471 , L505;
end;
suppose L508: C81 = 1;

thus L509: thesis by L508 , L463 , L497 , L505 , XBOOLE_0:def 3;
end;
suppose L510: C81 = 2;

thus L511: thesis by L510 , L469 , L476 , L505 , XBOOLE_0:def 3;
end;
suppose L512: C81 = 3;

thus L513: thesis by L512 , L455 , L492 , L505 , XBOOLE_0:def 3;
end;
end;
L515: C79 is (Function of (the carrier of D44) , D51) by L502 , FUNCT_2:6;
L516: C75 is  finite by L369 , L201;
reconsider D60 = D51 as  finite set by L516;
L517: C75 is  strict non  empty  strict non  empty  strict non  empty  strict non  empty RelStr by L369 , L201;
L518:
now
assume L519: D59 in D48;
L520: ( C79 . 2 ) in ( rng D48 ) by L519 , XTUPLE_0:def 13;
thus L521: contradiction by L520 , L450 , L476;
end;
L522:
now
assume L523: D56 in D48;
L524: ( C79 . 2 ) in ( dom D48 ) by L523 , XTUPLE_0:def 12;
thus L525: contradiction by L524 , L470 , L476;
end;
L526: D57 in ( ( ( D47 \/ D48 ) \/ D49 ) \/ D50 ) by L421 , L444 , L92;
L527: (D57 in ( ( D47 \/ D48 ) \/ D49 ) or D57 in D50) by L526 , XBOOLE_0:def 3;
L528: (D57 in ( D47 \/ D48 ) or D57 in D49 or D57 in D50) by L527 , XBOOLE_0:def 3;
L529: [ ( C79 . 1 ) , ( C79 . ( 0 ) ) ] in D47 by L528 , L480 , L484 , L497 , XBOOLE_0:def 3 , ZFMISC_1:87;
L530:
now
assume L531: D55 in D48;
L532: ( C79 . 1 ) in ( dom D48 ) by L531 , XTUPLE_0:def 12;
thus L533: contradiction by L532 , L470 , L497;
end;
L534: D55 in ( ( ( D47 \/ D48 ) \/ D49 ) \/ D50 ) by L421 , L466 , L92;
L535: (D55 in ( ( D47 \/ D48 ) \/ D49 ) or D55 in D50) by L534 , XBOOLE_0:def 3;
L536: (D55 in ( D47 \/ D48 ) or D55 in D49 or D55 in D50) by L535 , XBOOLE_0:def 3;
L537: [ ( C79 . 1 ) , ( C79 . 2 ) ] in D47 by L536 , L530 , L476 , L497 , XBOOLE_0:def 3 , ZFMISC_1:87;
L538: D59 in ( ( ( D47 \/ D48 ) \/ D49 ) \/ D50 ) by L421 , L447 , L92;
L539: (D59 in ( ( D47 \/ D48 ) \/ D49 ) or D59 in D50) by L538 , XBOOLE_0:def 3;
L540: (D59 in ( D47 \/ D48 ) or D59 in D49 or D59 in D50) by L539 , XBOOLE_0:def 3;
L541: [ ( C79 . 3 ) , ( C79 . 2 ) ] in D47 by L540 , L518 , L476 , L492 , XBOOLE_0:def 3 , ZFMISC_1:87;
L542: D56 in ( ( ( D47 \/ D48 ) \/ D49 ) \/ D50 ) by L421 , L452 , L92;
L543: (D56 in ( ( D47 \/ D48 ) \/ D49 ) or D56 in D50) by L542 , XBOOLE_0:def 3;
L544: (D56 in ( D47 \/ D48 ) or D56 in D49 or D56 in D50) by L543 , XBOOLE_0:def 3;
L545: [ ( C79 . 2 ) , ( C79 . 3 ) ] in D47 by L544 , L522 , L492 , L476 , XBOOLE_0:def 3 , ZFMISC_1:87;
L546:
now
assume L547: D58 in D48;
L548: ( C79 . 1 ) in ( rng D48 ) by L547 , XTUPLE_0:def 13;
thus L549: contradiction by L548 , L450 , L497;
end;
L550: C76 is  finite by L370 , L201;
reconsider D61 = D52 as  finite set by L550;
L551: D53 = ( D60 \/ D61 ) by L421 , L92;
reconsider D62 = D53 as  finite set by L551;
L552: C76 is non  empty by L370 , L201;
L553: D60 <> D62
proof
L554: D62 = ( D60 \/ D61 ) by L421 , L92;
assume L555: D60 = D62;
consider C82 being set such that L556: C82 in D61 by L552 , XBOOLE_0:def 1;
L557: ( D60 /\ D61 ) = ( {} ) by L368 , XBOOLE_0:def 7;
L558: (not C82 in D60) by L557 , L556 , XBOOLE_0:def 4;
thus L559: contradiction by L558 , L555 , L554 , L556 , XBOOLE_0:def 3;
end;
L560: D62 = ( D60 \/ D61 ) by L421 , L92;
L561: D60 c= D62 by L560 , XBOOLE_1:7;
L562: D60 c< D62 by L561 , L553 , XBOOLE_0:def 8;
L563: ( card D60 ) < ( card D62 ) by L562 , CARD_2:48;
L564: D58 in ( ( ( D47 \/ D48 ) \/ D49 ) \/ D50 ) by L421 , L449 , L92;
L565: (D58 in ( ( D47 \/ D48 ) \/ D49 ) or D58 in D50) by L564 , XBOOLE_0:def 3;
L566: (D58 in ( D47 \/ D48 ) or D58 in D49 or D58 in D50) by L565 , XBOOLE_0:def 3;
L567: [ ( C79 . 2 ) , ( C79 . 1 ) ] in D47 by L566 , L546 , L497 , L476 , XBOOLE_0:def 3 , ZFMISC_1:87;
L568: D54 in ( ( ( D47 \/ D48 ) \/ D49 ) \/ D50 ) by L421 , L457 , L92;
L569: (D54 in ( ( D47 \/ D48 ) \/ D49 ) or D54 in D50) by L568 , XBOOLE_0:def 3;
L570: (D54 in ( D47 \/ D48 ) or D54 in D49 or D54 in D50) by L569 , XBOOLE_0:def 3;
L571: [ ( C79 . ( 0 ) ) , ( C79 . 1 ) ] in D47 by L570 , L488 , L497 , L472 , XBOOLE_0:def 3 , ZFMISC_1:87;
L572: (for B135 , B136 being (Element of D44) holds ([ B135 , B136 ] in (the InternalRel of D44) iff [ ( C79 . B135 ) , ( C79 . B136 ) ] in (the InternalRel of C75)))
proof
let C83 , C84 being (Element of D44);
thus L573: ([ C83 , C84 ] in (the InternalRel of D44) implies [ ( C79 . C83 ) , ( C79 . C84 ) ] in (the InternalRel of C75))
proof
assume L574: [ C83 , C84 ] in (the InternalRel of D44);
per cases  by L574 , L6 , ENUMSET1:def 4;
suppose L575: [ C83 , C84 ] = [ ( 0 ) , 1 ];

L576: C83 = ( 0 ) by L575 , XTUPLE_0:1;
thus L577: thesis by L576 , L571 , L575 , XTUPLE_0:1;
end;
suppose L578: [ C83 , C84 ] = [ 1 , ( 0 ) ];

L579: C83 = 1 by L578 , XTUPLE_0:1;
thus L580: thesis by L579 , L529 , L578 , XTUPLE_0:1;
end;
suppose L581: [ C83 , C84 ] = [ 1 , 2 ];

L582: C83 = 1 by L581 , XTUPLE_0:1;
thus L583: thesis by L582 , L537 , L581 , XTUPLE_0:1;
end;
suppose L584: [ C83 , C84 ] = [ 2 , 1 ];

L585: C83 = 2 by L584 , XTUPLE_0:1;
thus L586: thesis by L585 , L567 , L584 , XTUPLE_0:1;
end;
suppose L587: [ C83 , C84 ] = [ 2 , 3 ];

L588: C83 = 2 by L587 , XTUPLE_0:1;
thus L589: thesis by L588 , L545 , L587 , XTUPLE_0:1;
end;
suppose L590: [ C83 , C84 ] = [ 3 , 2 ];

L591: C83 = 3 by L590 , XTUPLE_0:1;
thus L592: thesis by L591 , L541 , L590 , XTUPLE_0:1;
end;
end;

thus L594: ([ ( C79 . C83 ) , ( C79 . C84 ) ] in (the InternalRel of C75) implies [ C83 , C84 ] in (the InternalRel of D44))
proof
L595: ([ ( C79 . C83 ) , ( C79 . C84 ) ] in (the InternalRel of C73) implies [ C83 , C84 ] in (the InternalRel of D44)) by L442;
L596: ([ ( C79 . C83 ) , ( C79 . C84 ) ] in ( ( ( D47 \/ D48 ) \/ D49 ) \/ D50 ) implies [ C83 , C84 ] in (the InternalRel of D44)) by L595 , L421 , L92;
L597: ([ ( C79 . C83 ) , ( C79 . C84 ) ] in ( ( D47 \/ D48 ) \/ ( D49 \/ D50 ) ) implies [ C83 , C84 ] in (the InternalRel of D44)) by L596 , XBOOLE_1:4;
L598: ([ ( C79 . C83 ) , ( C79 . C84 ) ] in ( D47 \/ ( D48 \/ ( D49 \/ D50 ) ) ) implies [ C83 , C84 ] in (the InternalRel of D44)) by L597 , XBOOLE_1:4;
assume L599: [ ( C79 . C83 ) , ( C79 . C84 ) ] in (the InternalRel of C75);
thus L600: thesis by L599 , L598 , XBOOLE_0:def 3;
end;

end;
L595: C75 embeds D44 by L572 , L441 , L515 , NECKLACE:def 1;
thus L596: thesis by L595 , L348 , L369 , L517 , L563;
end;
suppose L597: ( C79 . ( 0 ) ) in (the carrier of C76);

set D63 = [ ( C79 . ( 0 ) ) , ( C79 . 1 ) ];
set D64 = [ ( C79 . 1 ) , ( C79 . 2 ) ];
set D65 = [ ( C79 . 2 ) , ( C79 . 3 ) ];
set D66 = [ ( C79 . 1 ) , ( C79 . ( 0 ) ) ];
set D67 = [ ( C79 . 2 ) , ( C79 . 1 ) ];
set D68 = [ ( C79 . 3 ) , ( C79 . 2 ) ];
L598:
now
assume L599: D63 in D49;
L600: ( C79 . ( 0 ) ) in D51 by L599 , ZFMISC_1:87;
thus L601: contradiction by L600 , L368 , L597 , XBOOLE_0:3;
end;
L602:
now
assume L603: D66 in D50;
L604: ( C79 . ( 0 ) ) in D51 by L603 , ZFMISC_1:87;
thus L605: contradiction by L604 , L368 , L597 , XBOOLE_0:3;
end;
L606:
now
assume L607: ( C79 . 3 ) in D51;
L608: [ ( C79 . ( 0 ) ) , ( C79 . 3 ) ] in D50 by L607 , L597 , ZFMISC_1:87;
thus L609: contradiction by L608 , L442 , L404 , L429 , L405 , L430;
end;
L610: ( C79 . 3 ) in D52 by L606 , L455 , XBOOLE_0:def 3;
L611:
now
assume L612: ( C79 . 1 ) in D51;
L613: [ ( C79 . 1 ) , ( C79 . 3 ) ] in D49 by L612 , L610 , ZFMISC_1:87;
thus L614: contradiction by L613 , L442 , L440 , L429 , L373 , L422;
end;
L615:
now
assume L616: D66 in D47;
L617: ( C79 . 1 ) in ( dom D47 ) by L616 , XTUPLE_0:def 12;
thus L618: contradiction by L617 , L464 , L611;
end;
L619: D66 in ( ( ( D47 \/ D48 ) \/ D49 ) \/ D50 ) by L421 , L444 , L92;
L620: (D66 in ( ( D47 \/ D48 ) \/ D49 ) or D66 in D50) by L619 , XBOOLE_0:def 3;
L621: (D66 in ( D47 \/ D48 ) or D66 in D49 or D66 in D50) by L620 , XBOOLE_0:def 3;
L622: [ ( C79 . 1 ) , ( C79 . ( 0 ) ) ] in D48 by L621 , L615 , L611 , L602 , XBOOLE_0:def 3 , ZFMISC_1:87;
L623:
now
assume L624: D67 in D47;
L625: ( C79 . 1 ) in ( rng D47 ) by L624 , XTUPLE_0:def 13;
thus L626: contradiction by L625 , L439 , L611;
end;
L627:
now
assume L628: ( C79 . 2 ) in D51;
L629: [ ( C79 . ( 0 ) ) , ( C79 . 2 ) ] in D50 by L628 , L597 , ZFMISC_1:87;
thus L630: contradiction by L629 , L442 , L404 , L445 , L388 , L430;
end;
L631: ( dom C79 ) = (the carrier of D44) by FUNCT_2:def 1;
L632: ( rng C79 ) c= (the carrier of C76)
proof
let C85 being set;
assume L633: C85 in ( rng C79 );
consider C86 being set such that L634: C86 in ( dom C79 ) and L635: C85 = ( C79 . C86 ) by L633 , FUNCT_1:def 3;
per cases  by L631 , L634 , L340 , ENUMSET1:def 2;
suppose L636: C86 = ( 0 );

thus L637: thesis by L636 , L597 , L635;
end;
suppose L638: C86 = 1;

thus L639: thesis by L638 , L463 , L611 , L635 , XBOOLE_0:def 3;
end;
suppose L640: C86 = 2;

thus L641: thesis by L640 , L469 , L627 , L635 , XBOOLE_0:def 3;
end;
suppose L642: C86 = 3;

thus L643: thesis by L642 , L455 , L606 , L635 , XBOOLE_0:def 3;
end;
end;
L645: C79 is (Function of (the carrier of D44) , D52) by L632 , FUNCT_2:6;
L646: C75 is  finite by L369 , L201;
reconsider D69 = D51 as  finite set by L646;
L647: C76 is  strict non  empty  strict non  empty  strict non  empty  strict non  empty RelStr by L370 , L201;
L648:
now
assume L649: D63 in D47;
L650: ( C79 . ( 0 ) ) in ( dom D47 ) by L649 , XTUPLE_0:def 12;
thus L651: contradiction by L650 , L368 , L464 , L597 , XBOOLE_0:3;
end;
L652:
now
assume L653: D68 in D47;
L654: ( C79 . 2 ) in ( rng D47 ) by L653 , XTUPLE_0:def 13;
thus L655: contradiction by L654 , L439 , L627;
end;
L656:
now
assume L657: D65 in D47;
L658: ( C79 . 2 ) in ( dom D47 ) by L657 , XTUPLE_0:def 12;
thus L659: contradiction by L658 , L464 , L627;
end;
L660: D68 in ( ( ( D47 \/ D48 ) \/ D49 ) \/ D50 ) by L421 , L447 , L92;
L661: (D68 in ( ( D47 \/ D48 ) \/ D49 ) or D68 in D50) by L660 , XBOOLE_0:def 3;
L662: (D68 in ( D47 \/ D48 ) or D68 in D49 or D68 in D50) by L661 , XBOOLE_0:def 3;
L663: [ ( C79 . 3 ) , ( C79 . 2 ) ] in D48 by L662 , L652 , L606 , L627 , XBOOLE_0:def 3 , ZFMISC_1:87;
L664:
now
assume L665: D64 in D47;
L666: ( C79 . 2 ) in ( rng D47 ) by L665 , XTUPLE_0:def 13;
thus L667: contradiction by L666 , L439 , L627;
end;
L668: D64 in ( ( ( D47 \/ D48 ) \/ D49 ) \/ D50 ) by L421 , L466 , L92;
L669: (D64 in ( ( D47 \/ D48 ) \/ D49 ) or D64 in D50) by L668 , XBOOLE_0:def 3;
L670: (D64 in ( D47 \/ D48 ) or D64 in D49 or D64 in D50) by L669 , XBOOLE_0:def 3;
L671: [ ( C79 . 1 ) , ( C79 . 2 ) ] in D48 by L670 , L664 , L611 , L627 , XBOOLE_0:def 3 , ZFMISC_1:87;
L672: D65 in ( ( ( D47 \/ D48 ) \/ D49 ) \/ D50 ) by L421 , L452 , L92;
L673: (D65 in ( ( D47 \/ D48 ) \/ D49 ) or D65 in D50) by L672 , XBOOLE_0:def 3;
L674: (D65 in ( D47 \/ D48 ) or D65 in D49 or D65 in D50) by L673 , XBOOLE_0:def 3;
L675: [ ( C79 . 2 ) , ( C79 . 3 ) ] in D48 by L674 , L656 , L627 , L606 , XBOOLE_0:def 3 , ZFMISC_1:87;
L676: D67 in ( ( ( D47 \/ D48 ) \/ D49 ) \/ D50 ) by L421 , L449 , L92;
L677: (D67 in ( ( D47 \/ D48 ) \/ D49 ) or D67 in D50) by L676 , XBOOLE_0:def 3;
L678: (D67 in ( D47 \/ D48 ) or D67 in D49 or D67 in D50) by L677 , XBOOLE_0:def 3;
L679: [ ( C79 . 2 ) , ( C79 . 1 ) ] in D48 by L678 , L623 , L627 , L611 , XBOOLE_0:def 3 , ZFMISC_1:87;
L680: C76 is  finite by L370 , L201;
reconsider D70 = D52 as  finite set by L680;
L681: D53 = ( D69 \/ D70 ) by L421 , L92;
reconsider D71 = D53 as  finite set by L681;
L682: C75 is non  empty by L369 , L201;
L683: D70 <> D71
proof
L684: D71 = ( D69 \/ D70 ) by L421 , L92;
assume L685: D70 = D71;
consider C87 being set such that L686: C87 in D69 by L682 , XBOOLE_0:def 1;
L687: ( D69 /\ D70 ) = ( {} ) by L368 , XBOOLE_0:def 7;
L688: (not C87 in D70) by L687 , L686 , XBOOLE_0:def 4;
thus L689: contradiction by L688 , L685 , L684 , L686 , XBOOLE_0:def 3;
end;
L690: D71 = ( D69 \/ D70 ) by L421 , L92;
L691: D70 c= D71 by L690 , XBOOLE_1:7;
L692: D70 c< D71 by L691 , L683 , XBOOLE_0:def 8;
L693: ( card D70 ) < ( card D71 ) by L692 , CARD_2:48;
L694: D63 in ( ( ( D47 \/ D48 ) \/ D49 ) \/ D50 ) by L421 , L457 , L92;
L695: (D63 in ( ( D47 \/ D48 ) \/ D49 ) or D63 in D50) by L694 , XBOOLE_0:def 3;
L696: (D63 in ( D47 \/ D48 ) or D63 in D49 or D63 in D50) by L695 , XBOOLE_0:def 3;
L697: [ ( C79 . ( 0 ) ) , ( C79 . 1 ) ] in D48 by L696 , L648 , L598 , L611 , XBOOLE_0:def 3 , ZFMISC_1:87;
L698: (for B137 , B138 being (Element of D44) holds ([ B137 , B138 ] in (the InternalRel of D44) iff [ ( C79 . B137 ) , ( C79 . B138 ) ] in (the InternalRel of C76)))
proof
let C88 , C89 being (Element of D44);
thus L699: ([ C88 , C89 ] in (the InternalRel of D44) implies [ ( C79 . C88 ) , ( C79 . C89 ) ] in (the InternalRel of C76))
proof
assume L700: [ C88 , C89 ] in (the InternalRel of D44);
per cases  by L700 , L6 , ENUMSET1:def 4;
suppose L701: [ C88 , C89 ] = [ ( 0 ) , 1 ];

L702: C88 = ( 0 ) by L701 , XTUPLE_0:1;
thus L703: thesis by L702 , L697 , L701 , XTUPLE_0:1;
end;
suppose L704: [ C88 , C89 ] = [ 1 , ( 0 ) ];

L705: C88 = 1 by L704 , XTUPLE_0:1;
thus L706: thesis by L705 , L622 , L704 , XTUPLE_0:1;
end;
suppose L707: [ C88 , C89 ] = [ 1 , 2 ];

L708: C88 = 1 by L707 , XTUPLE_0:1;
thus L709: thesis by L708 , L671 , L707 , XTUPLE_0:1;
end;
suppose L710: [ C88 , C89 ] = [ 2 , 1 ];

L711: C88 = 2 by L710 , XTUPLE_0:1;
thus L712: thesis by L711 , L679 , L710 , XTUPLE_0:1;
end;
suppose L713: [ C88 , C89 ] = [ 2 , 3 ];

L714: C88 = 2 by L713 , XTUPLE_0:1;
thus L715: thesis by L714 , L675 , L713 , XTUPLE_0:1;
end;
suppose L716: [ C88 , C89 ] = [ 3 , 2 ];

L717: C88 = 3 by L716 , XTUPLE_0:1;
thus L718: thesis by L717 , L663 , L716 , XTUPLE_0:1;
end;
end;

thus L720: ([ ( C79 . C88 ) , ( C79 . C89 ) ] in (the InternalRel of C76) implies [ C88 , C89 ] in (the InternalRel of D44))
proof
L721: ([ ( C79 . C88 ) , ( C79 . C89 ) ] in (the InternalRel of C73) implies [ C88 , C89 ] in (the InternalRel of D44)) by L442;
L722: ([ ( C79 . C88 ) , ( C79 . C89 ) ] in ( ( ( D47 \/ D48 ) \/ D49 ) \/ D50 ) implies [ C88 , C89 ] in (the InternalRel of D44)) by L721 , L421 , L92;
L723: ([ ( C79 . C88 ) , ( C79 . C89 ) ] in ( ( D47 \/ D48 ) \/ ( D49 \/ D50 ) ) implies [ C88 , C89 ] in (the InternalRel of D44)) by L722 , XBOOLE_1:4;
L724: ([ ( C79 . C88 ) , ( C79 . C89 ) ] in ( D48 \/ ( D47 \/ ( D49 \/ D50 ) ) ) implies [ C88 , C89 ] in (the InternalRel of D44)) by L723 , XBOOLE_1:4;
assume L725: [ ( C79 . C88 ) , ( C79 . C89 ) ] in (the InternalRel of C76);
thus L726: thesis by L725 , L724 , XBOOLE_0:def 3;
end;

end;
L721: C76 embeds D44 by L698 , L441 , L645 , NECKLACE:def 1;
thus L722: thesis by L721 , L348 , L370 , L647 , L693;
end;
end;
L724:
now
L725: (the carrier of D44) = { ( 0 ) , 1 , 2 , 3 } by NECKLACE:1 , NECKLACE:20;
L726: ( 0 ) in (the carrier of D44) by L725 , ENUMSET1:def 2;
L727: 3 in (the carrier of D44) by L725 , ENUMSET1:def 2;
L728: 1 in (the carrier of D44) by L725 , ENUMSET1:def 2;
L729: ( dom (the InternalRel of C73) ) c= (the carrier of C73) by RELAT_1:def 18;
consider C90 being (Function of D44 , C73) such that L730: C90 is  one-to-one and L731: (for B139 , B140 being (Element of D44) holds ([ B139 , B140 ] in (the InternalRel of D44) iff [ ( C90 . B139 ) , ( C90 . B140 ) ] in (the InternalRel of C73))) by L349 , NECKLACE:def 1;
assume L732: C73 = ( union_of (C75 , C76) );
L733: [ ( 0 ) , 1 ] in (the InternalRel of D44) by L6 , ENUMSET1:def 4;
L734: [ ( C90 . ( 0 ) ) , ( C90 . 1 ) ] in (the InternalRel of C73) by L733 , L731 , L726 , L728;
L735: ( C90 . ( 0 ) ) in ( dom (the InternalRel of C73) ) by L734 , XTUPLE_0:def 12;
L736: ( C90 . ( 0 ) ) in (the carrier of C73) by L735 , L729;
L737: ( C90 . ( 0 ) ) in ( (the carrier of C75) \/ (the carrier of C76) ) by L736 , L732 , L87;
L738: 2 in (the carrier of D44) by L725 , ENUMSET1:def 2;
L739: [ 3 , 2 ] in (the InternalRel of D44) by L6 , ENUMSET1:def 4;
L740: [ ( C90 . 3 ) , ( C90 . 2 ) ] in (the InternalRel of C73) by L739 , L731 , L738 , L727;
L741: [ 2 , 3 ] in (the InternalRel of D44) by L6 , ENUMSET1:def 4;
L742: [ ( C90 . 2 ) , ( C90 . 3 ) ] in (the InternalRel of C73) by L741 , L731 , L738 , L727;
L743: [ 2 , 1 ] in (the InternalRel of D44) by L6 , ENUMSET1:def 4;
L744: [ ( C90 . 2 ) , ( C90 . 1 ) ] in (the InternalRel of C73) by L743 , L731 , L728 , L738;
L745: [ 1 , 2 ] in (the InternalRel of D44) by L6 , ENUMSET1:def 4;
L746: [ ( C90 . 1 ) , ( C90 . 2 ) ] in (the InternalRel of C73) by L745 , L731 , L728 , L738;
L747: [ 1 , ( 0 ) ] in (the InternalRel of D44) by L6 , ENUMSET1:def 4;
L748: [ ( C90 . 1 ) , ( C90 . ( 0 ) ) ] in (the InternalRel of C73) by L747 , L731 , L726 , L728;
per cases  by L737 , XBOOLE_0:def 3;
suppose L749: ( C90 . ( 0 ) ) in (the carrier of C75);

set D72 = (the carrier of C73);
set D73 = (the carrier of C75);
set D74 = (the carrier of C76);
L750: ( dom C90 ) = (the carrier of D44) by FUNCT_2:def 1;
L751: C76 is  finite by L370 , L201;
reconsider D75 = D74 as  finite set by L751;
L752: C75 is  finite by L369 , L201;
reconsider D76 = D73 as  finite set by L752;
L753: D72 = ( D76 \/ D75 ) by L732 , L87;
L754: ( dom (the InternalRel of C76) ) c= (the carrier of C76) by RELAT_1:def 18;
L755:
now
assume L756: [ ( C90 . ( 0 ) ) , ( C90 . 1 ) ] in (the InternalRel of C76);
L757: ( C90 . ( 0 ) ) in ( dom (the InternalRel of C76) ) by L756 , XTUPLE_0:def 12;
thus L758: contradiction by L757 , L368 , L749 , L754 , XBOOLE_0:3;
end;
L759: ( rng (the InternalRel of C76) ) c= (the carrier of C76) by RELAT_1:def 19;
L760:
now
assume L761: [ ( C90 . 1 ) , ( C90 . ( 0 ) ) ] in (the InternalRel of C76);
L762: ( C90 . ( 0 ) ) in ( rng (the InternalRel of C76) ) by L761 , XTUPLE_0:def 13;
thus L763: contradiction by L762 , L368 , L749 , L759 , XBOOLE_0:3;
end;
L764: [ ( C90 . 1 ) , ( C90 . ( 0 ) ) ] in ( (the InternalRel of C75) \/ (the InternalRel of C76) ) by L732 , L748 , L87;
L765: [ ( C90 . 1 ) , ( C90 . ( 0 ) ) ] in (the InternalRel of C75) by L764 , L760 , XBOOLE_0:def 3;
L766: C75 is  strict non  empty  strict non  empty  strict non  empty  strict non  empty RelStr by L369 , L201;
reconsider D77 = D72 as  finite set by L753;
L767: ( rng (the InternalRel of C75) ) c= (the carrier of C75) by RELAT_1:def 19;
L768: [ ( C90 . ( 0 ) ) , ( C90 . 1 ) ] in ( (the InternalRel of C75) \/ (the InternalRel of C76) ) by L732 , L734 , L87;
L769: [ ( C90 . ( 0 ) ) , ( C90 . 1 ) ] in (the InternalRel of C75) by L768 , L755 , XBOOLE_0:def 3;
L770: ( C90 . 1 ) in ( rng (the InternalRel of C75) ) by L769 , XTUPLE_0:def 13;
L771:
now
assume L772: [ ( C90 . 2 ) , ( C90 . 1 ) ] in (the InternalRel of C76);
L773: ( C90 . 1 ) in ( rng (the InternalRel of C76) ) by L772 , XTUPLE_0:def 13;
thus L774: contradiction by L773 , L368 , L767 , L759 , L770 , XBOOLE_0:3;
end;
L775: C76 is non  empty by L370 , L201;
L776: D76 <> D77
proof
L777: D77 = ( D76 \/ D75 ) by L732 , L87;
assume L778: D76 = D77;
consider C91 being set such that L779: C91 in D75 by L775 , XBOOLE_0:def 1;
L780: ( D76 /\ D75 ) = ( {} ) by L368 , XBOOLE_0:def 7;
L781: (not C91 in D76) by L780 , L779 , XBOOLE_0:def 4;
thus L782: contradiction by L781 , L778 , L777 , L779 , XBOOLE_0:def 3;
end;
L783: D77 = ( D76 \/ D75 ) by L732 , L87;
L784: D76 c= D77 by L783 , XBOOLE_1:7;
L785: D76 c< D77 by L784 , L776 , XBOOLE_0:def 8;
L786: ( card D76 ) < ( card D77 ) by L785 , CARD_2:48;
L787: [ ( C90 . 2 ) , ( C90 . 3 ) ] in ( (the InternalRel of C75) \/ (the InternalRel of C76) ) by L732 , L742 , L87;
L788: [ ( C90 . 1 ) , ( C90 . 2 ) ] in ( (the InternalRel of C75) \/ (the InternalRel of C76) ) by L732 , L746 , L87;
L789:
now
assume L790: [ ( C90 . 1 ) , ( C90 . 2 ) ] in (the InternalRel of C76);
L791: ( C90 . 1 ) in ( dom (the InternalRel of C76) ) by L790 , XTUPLE_0:def 12;
thus L792: contradiction by L791 , L368 , L767 , L754 , L770 , XBOOLE_0:3;
end;
L793: [ ( C90 . 1 ) , ( C90 . 2 ) ] in (the InternalRel of C75) by L789 , L788 , XBOOLE_0:def 3;
L794: ( C90 . 2 ) in ( rng (the InternalRel of C75) ) by L793 , XTUPLE_0:def 13;
L795:
now
assume L796: [ ( C90 . 2 ) , ( C90 . 3 ) ] in (the InternalRel of C76);
L797: ( C90 . 2 ) in ( dom (the InternalRel of C76) ) by L796 , XTUPLE_0:def 12;
thus L798: contradiction by L797 , L368 , L767 , L754 , L794 , XBOOLE_0:3;
end;
L799: [ ( C90 . 2 ) , ( C90 . 3 ) ] in (the InternalRel of C75) by L795 , L787 , XBOOLE_0:def 3;
L800: [ ( C90 . 2 ) , ( C90 . 1 ) ] in ( (the InternalRel of C75) \/ (the InternalRel of C76) ) by L732 , L744 , L87;
L801: [ ( C90 . 2 ) , ( C90 . 1 ) ] in (the InternalRel of C75) by L800 , L771 , XBOOLE_0:def 3;
L802:
now
assume L803: [ ( C90 . 3 ) , ( C90 . 2 ) ] in (the InternalRel of C76);
L804: ( C90 . 2 ) in ( rng (the InternalRel of C76) ) by L803 , XTUPLE_0:def 13;
thus L805: contradiction by L804 , L368 , L767 , L759 , L794 , XBOOLE_0:3;
end;
L806: [ ( C90 . 3 ) , ( C90 . 2 ) ] in ( (the InternalRel of C75) \/ (the InternalRel of C76) ) by L732 , L740 , L87;
L807: [ ( C90 . 3 ) , ( C90 . 2 ) ] in (the InternalRel of C75) by L806 , L802 , XBOOLE_0:def 3;
L808: (for B141 , B142 being (Element of D44) holds ([ B141 , B142 ] in (the InternalRel of D44) iff [ ( C90 . B141 ) , ( C90 . B142 ) ] in (the InternalRel of C75)))
proof
let C92 , C93 being (Element of D44);
thus L809: ([ C92 , C93 ] in (the InternalRel of D44) implies [ ( C90 . C92 ) , ( C90 . C93 ) ] in (the InternalRel of C75))
proof
assume L810: [ C92 , C93 ] in (the InternalRel of D44);
per cases  by L810 , L6 , ENUMSET1:def 4;
suppose L811: [ C92 , C93 ] = [ ( 0 ) , 1 ];

L812: C92 = ( 0 ) by L811 , XTUPLE_0:1;
thus L813: thesis by L812 , L769 , L811 , XTUPLE_0:1;
end;
suppose L814: [ C92 , C93 ] = [ 1 , ( 0 ) ];

L815: C92 = 1 by L814 , XTUPLE_0:1;
thus L816: thesis by L815 , L765 , L814 , XTUPLE_0:1;
end;
suppose L817: [ C92 , C93 ] = [ 1 , 2 ];

L818: C92 = 1 by L817 , XTUPLE_0:1;
thus L819: thesis by L818 , L793 , L817 , XTUPLE_0:1;
end;
suppose L820: [ C92 , C93 ] = [ 2 , 1 ];

L821: C92 = 2 by L820 , XTUPLE_0:1;
thus L822: thesis by L821 , L801 , L820 , XTUPLE_0:1;
end;
suppose L823: [ C92 , C93 ] = [ 2 , 3 ];

L824: C92 = 2 by L823 , XTUPLE_0:1;
thus L825: thesis by L824 , L799 , L823 , XTUPLE_0:1;
end;
suppose L826: [ C92 , C93 ] = [ 3 , 2 ];

L827: C92 = 3 by L826 , XTUPLE_0:1;
thus L828: thesis by L827 , L807 , L826 , XTUPLE_0:1;
end;
end;

thus L830: ([ ( C90 . C92 ) , ( C90 . C93 ) ] in (the InternalRel of C75) implies [ C92 , C93 ] in (the InternalRel of D44))
proof
L831: ([ ( C90 . C92 ) , ( C90 . C93 ) ] in (the InternalRel of C73) implies [ C92 , C93 ] in (the InternalRel of D44)) by L731;
L832: ([ ( C90 . C92 ) , ( C90 . C93 ) ] in ( (the InternalRel of C75) \/ (the InternalRel of C76) ) implies [ C92 , C93 ] in (the InternalRel of D44)) by L831 , L732 , L87;
assume L833: [ ( C90 . C92 ) , ( C90 . C93 ) ] in (the InternalRel of C75);
thus L834: thesis by L833 , L832 , XBOOLE_0:def 3;
end;

end;
L831: ( C90 . 3 ) in ( rng (the InternalRel of C75) ) by L799 , XTUPLE_0:def 13;
L832: ( rng C90 ) c= (the carrier of C75)
proof
let C94 being set;
assume L833: C94 in ( rng C90 );
consider C95 being set such that L834: C95 in ( dom C90 ) and L835: C94 = ( C90 . C95 ) by L833 , FUNCT_1:def 3;
per cases  by L750 , L834 , L340 , ENUMSET1:def 2;
suppose L836: C95 = ( 0 );

thus L837: thesis by L836 , L749 , L835;
end;
suppose L838: C95 = 1;

thus L839: thesis by L838 , L767 , L770 , L835;
end;
suppose L840: C95 = 2;

thus L841: thesis by L840 , L767 , L794 , L835;
end;
suppose L842: C95 = 3;

thus L843: thesis by L842 , L767 , L831 , L835;
end;
end;
L845: C90 is (Function of (the carrier of D44) , (the carrier of C75)) by L832 , FUNCT_2:6;
L846: C75 embeds D44 by L845 , L730 , L808 , NECKLACE:def 1;
thus L847: thesis by L846 , L348 , L369 , L766 , L786;
end;
suppose L848: ( C90 . ( 0 ) ) in (the carrier of C76);

set D78 = (the carrier of C73);
set D79 = (the carrier of C75);
set D80 = (the carrier of C76);
L849: ( dom C90 ) = (the carrier of D44) by FUNCT_2:def 1;
L850: C76 is  finite by L370 , L201;
reconsider D81 = D80 as  finite set by L850;
L851: C75 is  finite by L369 , L201;
reconsider D82 = D79 as  finite set by L851;
L852: D78 = ( D82 \/ D81 ) by L732 , L87;
L853: ( dom (the InternalRel of C75) ) c= (the carrier of C75) by RELAT_1:def 18;
L854:
now
assume L855: [ ( C90 . ( 0 ) ) , ( C90 . 1 ) ] in (the InternalRel of C75);
L856: ( C90 . ( 0 ) ) in ( dom (the InternalRel of C75) ) by L855 , XTUPLE_0:def 12;
thus L857: contradiction by L856 , L368 , L848 , L853 , XBOOLE_0:3;
end;
L858: ( rng (the InternalRel of C75) ) c= (the carrier of C75) by RELAT_1:def 19;
L859:
now
assume L860: [ ( C90 . 1 ) , ( C90 . ( 0 ) ) ] in (the InternalRel of C75);
L861: ( C90 . ( 0 ) ) in ( rng (the InternalRel of C75) ) by L860 , XTUPLE_0:def 13;
thus L862: contradiction by L861 , L368 , L848 , L858 , XBOOLE_0:3;
end;
L863: [ ( C90 . 1 ) , ( C90 . ( 0 ) ) ] in ( (the InternalRel of C75) \/ (the InternalRel of C76) ) by L732 , L748 , L87;
L864: [ ( C90 . 1 ) , ( C90 . ( 0 ) ) ] in (the InternalRel of C76) by L863 , L859 , XBOOLE_0:def 3;
L865: C76 is  strict non  empty  strict non  empty  strict non  empty  strict non  empty RelStr by L370 , L201;
reconsider D83 = D78 as  finite set by L852;
L866: ( rng (the InternalRel of C76) ) c= (the carrier of C76) by RELAT_1:def 19;
L867: [ ( C90 . ( 0 ) ) , ( C90 . 1 ) ] in ( (the InternalRel of C75) \/ (the InternalRel of C76) ) by L732 , L734 , L87;
L868: [ ( C90 . ( 0 ) ) , ( C90 . 1 ) ] in (the InternalRel of C76) by L867 , L854 , XBOOLE_0:def 3;
L869: ( C90 . 1 ) in ( rng (the InternalRel of C76) ) by L868 , XTUPLE_0:def 13;
L870:
now
assume L871: [ ( C90 . 2 ) , ( C90 . 1 ) ] in (the InternalRel of C75);
L872: ( C90 . 1 ) in ( rng (the InternalRel of C75) ) by L871 , XTUPLE_0:def 13;
thus L873: contradiction by L872 , L368 , L866 , L858 , L869 , XBOOLE_0:3;
end;
L874: C75 is non  empty by L369 , L201;
L875: D81 <> D83
proof
L876: D83 = ( D82 \/ D81 ) by L732 , L87;
assume L877: D81 = D83;
consider C96 being set such that L878: C96 in D82 by L874 , XBOOLE_0:def 1;
L879: ( D82 /\ D81 ) = ( {} ) by L368 , XBOOLE_0:def 7;
L880: (not C96 in D81) by L879 , L878 , XBOOLE_0:def 4;
thus L881: contradiction by L880 , L877 , L876 , L878 , XBOOLE_0:def 3;
end;
L882: D83 = ( D82 \/ D81 ) by L732 , L87;
L883: D81 c= D83 by L882 , XBOOLE_1:7;
L884: D81 c< D83 by L883 , L875 , XBOOLE_0:def 8;
L885: ( card D81 ) < ( card D83 ) by L884 , CARD_2:48;
L886: [ ( C90 . 2 ) , ( C90 . 3 ) ] in ( (the InternalRel of C75) \/ (the InternalRel of C76) ) by L732 , L742 , L87;
L887: [ ( C90 . 1 ) , ( C90 . 2 ) ] in ( (the InternalRel of C75) \/ (the InternalRel of C76) ) by L732 , L746 , L87;
L888:
now
assume L889: [ ( C90 . 1 ) , ( C90 . 2 ) ] in (the InternalRel of C75);
L890: ( C90 . 1 ) in ( dom (the InternalRel of C75) ) by L889 , XTUPLE_0:def 12;
thus L891: contradiction by L890 , L368 , L866 , L853 , L869 , XBOOLE_0:3;
end;
L892: [ ( C90 . 1 ) , ( C90 . 2 ) ] in (the InternalRel of C76) by L888 , L887 , XBOOLE_0:def 3;
L893: ( C90 . 2 ) in ( rng (the InternalRel of C76) ) by L892 , XTUPLE_0:def 13;
L894:
now
assume L895: [ ( C90 . 2 ) , ( C90 . 3 ) ] in (the InternalRel of C75);
L896: ( C90 . 2 ) in ( dom (the InternalRel of C75) ) by L895 , XTUPLE_0:def 12;
thus L897: contradiction by L896 , L368 , L866 , L853 , L893 , XBOOLE_0:3;
end;
L898: [ ( C90 . 2 ) , ( C90 . 3 ) ] in (the InternalRel of C76) by L894 , L886 , XBOOLE_0:def 3;
L899: [ ( C90 . 2 ) , ( C90 . 1 ) ] in ( (the InternalRel of C75) \/ (the InternalRel of C76) ) by L732 , L744 , L87;
L900: [ ( C90 . 2 ) , ( C90 . 1 ) ] in (the InternalRel of C76) by L899 , L870 , XBOOLE_0:def 3;
L901:
now
assume L902: [ ( C90 . 3 ) , ( C90 . 2 ) ] in (the InternalRel of C75);
L903: ( C90 . 2 ) in ( rng (the InternalRel of C75) ) by L902 , XTUPLE_0:def 13;
thus L904: contradiction by L903 , L368 , L866 , L858 , L893 , XBOOLE_0:3;
end;
L905: [ ( C90 . 3 ) , ( C90 . 2 ) ] in ( (the InternalRel of C75) \/ (the InternalRel of C76) ) by L732 , L740 , L87;
L906: [ ( C90 . 3 ) , ( C90 . 2 ) ] in (the InternalRel of C76) by L905 , L901 , XBOOLE_0:def 3;
L907: (for B143 , B144 being (Element of D44) holds ([ B143 , B144 ] in (the InternalRel of D44) iff [ ( C90 . B143 ) , ( C90 . B144 ) ] in (the InternalRel of C76)))
proof
let C97 , C98 being (Element of D44);
thus L908: ([ C97 , C98 ] in (the InternalRel of D44) implies [ ( C90 . C97 ) , ( C90 . C98 ) ] in (the InternalRel of C76))
proof
assume L909: [ C97 , C98 ] in (the InternalRel of D44);
per cases  by L909 , L6 , ENUMSET1:def 4;
suppose L910: [ C97 , C98 ] = [ ( 0 ) , 1 ];

L911: C97 = ( 0 ) by L910 , XTUPLE_0:1;
thus L912: thesis by L911 , L868 , L910 , XTUPLE_0:1;
end;
suppose L913: [ C97 , C98 ] = [ 1 , ( 0 ) ];

L914: C97 = 1 by L913 , XTUPLE_0:1;
thus L915: thesis by L914 , L864 , L913 , XTUPLE_0:1;
end;
suppose L916: [ C97 , C98 ] = [ 1 , 2 ];

L917: C97 = 1 by L916 , XTUPLE_0:1;
thus L918: thesis by L917 , L892 , L916 , XTUPLE_0:1;
end;
suppose L919: [ C97 , C98 ] = [ 2 , 1 ];

L920: C97 = 2 by L919 , XTUPLE_0:1;
thus L921: thesis by L920 , L900 , L919 , XTUPLE_0:1;
end;
suppose L922: [ C97 , C98 ] = [ 2 , 3 ];

L923: C97 = 2 by L922 , XTUPLE_0:1;
thus L924: thesis by L923 , L898 , L922 , XTUPLE_0:1;
end;
suppose L925: [ C97 , C98 ] = [ 3 , 2 ];

L926: C97 = 3 by L925 , XTUPLE_0:1;
thus L927: thesis by L926 , L906 , L925 , XTUPLE_0:1;
end;
end;

thus L929: ([ ( C90 . C97 ) , ( C90 . C98 ) ] in (the InternalRel of C76) implies [ C97 , C98 ] in (the InternalRel of D44))
proof
L930: ([ ( C90 . C97 ) , ( C90 . C98 ) ] in (the InternalRel of C73) implies [ C97 , C98 ] in (the InternalRel of D44)) by L731;
L931: ([ ( C90 . C97 ) , ( C90 . C98 ) ] in ( (the InternalRel of C75) \/ (the InternalRel of C76) ) implies [ C97 , C98 ] in (the InternalRel of D44)) by L930 , L732 , L87;
assume L932: [ ( C90 . C97 ) , ( C90 . C98 ) ] in (the InternalRel of C76);
thus L933: thesis by L932 , L931 , XBOOLE_0:def 3;
end;

end;
L930: ( C90 . 3 ) in ( rng (the InternalRel of C76) ) by L898 , XTUPLE_0:def 13;
L931: ( rng C90 ) c= (the carrier of C76)
proof
let C99 being set;
assume L932: C99 in ( rng C90 );
consider C100 being set such that L933: C100 in ( dom C90 ) and L934: C99 = ( C90 . C100 ) by L932 , FUNCT_1:def 3;
per cases  by L849 , L933 , L340 , ENUMSET1:def 2;
suppose L935: C100 = ( 0 );

thus L936: thesis by L935 , L848 , L934;
end;
suppose L937: C100 = 1;

thus L938: thesis by L937 , L866 , L869 , L934;
end;
suppose L939: C100 = 2;

thus L940: thesis by L939 , L866 , L893 , L934;
end;
suppose L941: C100 = 3;

thus L942: thesis by L941 , L866 , L930 , L934;
end;
end;
L944: C90 is (Function of (the carrier of D44) , (the carrier of C76)) by L931 , FUNCT_2:6;
L945: C76 embeds D44 by L944 , L730 , L907 , NECKLACE:def 1;
thus L946: thesis by L945 , L348 , L370 , L865 , L885;
end;
end;
thus L948: thesis by L724 , L371 , L372;
end;
end;
assume L950: C71 embeds D44;
L951: S7[ D46 ] by L950 , L342;
L952: (ex B145 being Nat st S7[ B145 ]) by L951;
L953: S7[ ( 0 ) ] from NAT_1:sch 7(L952 , L344);
thus L954: thesis by L953;
end;
