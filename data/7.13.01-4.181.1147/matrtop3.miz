:: The Rotation Group
::  by Karol P\kak
::
:: Received May 30, 2011
:: Copyright (c) 2011-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, SUBSET_1, XREAL_0, ORDINAL1, PRE_TOPC, EUCLID, ARYTM_1,
      ARYTM_3, SUPINF_2, XBOOLE_0, RELAT_1, CARD_1, VALUED_0, FINSEQ_1,
      COMPLEX1, SQUARE_1, CARD_3, RVSUM_1, XXREAL_0, NAT_1, TARSKI, STRUCT_0,
      REAL_1, FUNCT_1, UNIALG_1, MSSUBFAM, FUNCOP_1, FINSEQ_2, ALGSTR_0,
      FUNCT_2, FVSUM_1, INCSP_1, MATRIX_1, MATRIX_3, MATRIX13, MATRLIN,
      MATRLIN2, MESFUNC1, ORDINAL4, PARTFUN1, PRVECT_1, QC_LANG1, RLVECT_2,
      RLVECT_3, TREES_1, VALUED_1, VECTSP_1, MATRIXJ1, ZFMISC_1, BINOP_1,
      GROUP_1, ABIAN, MATRIX_2, XXREAL_1, SIN_COS, FINSOP_1, FUNCT_4, MATRIX_6,
      PRE_POLY, TOPS_2, RFINSEQ, MONOID_0, MATRIXR2, MATRTOP3;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, RELAT_1, FUNCT_1, PARTFUN1,
      FUNCT_2, ORDINAL1, NUMBERS, XCMPLX_0, XXREAL_0, XREAL_0, COMPLEX1,
      REAL_1, NAT_1, NAT_D, FUNCOP_1, FINSEQ_1, PRE_POLY, RFINSEQ, FINSEQ_2,
      RVSUM_1, VALUED_0, SQUARE_1, STRUCT_0, PRE_TOPC, TOPS_2, RLVECT_1,
      EUCLID, TOPREAL9, CARD_1, VECTSP_1, MATRIX_1, MATRIX_2,
      MATRIX_3, MATRIX_6, GROUP_1, MATRIX11, MATRTOP1, SIN_COS, ALGSTR_0,
      MATRIX_7, BINOP_1, FVSUM_1, RCOMP_1, SEQ_1, MONOID_0, GROUP_4, PRVECT_1,
      RLVECT_2, RLVECT_3, FUNCT_7, MATRIX13, MATRIXR2, FINSOP_1, MATRLIN,
      MATRLIN2, MOD_2, MATRIXJ1, TMAP_1;
 constructors REAL_1, SQUARE_1, BORSUK_1, MONOID_0, CONVEX1, TOPREAL9,
      BINARITH, FVSUM_1, LAPLACE, MATRIX_6, MATRIX11, TOPS_2, MATRIX13,
      MATRLIN2, MATRTOP1, REALSET1, RLVECT_3, SEQ_1, MATRIXJ1, RCOMP_1, ABIAN,
      SIN_COS, MATRIX_7, SETWISEO, GROUP_4, TMAP_1, FINSOP_1, MATRIXR2;
 registrations XBOOLE_0, XXREAL_0, XREAL_0, SQUARE_1, NAT_1, MEMBERED,
      STRUCT_0, MONOID_0, EUCLID, VALUED_0, FINSEQ_1, FUNCT_1, RELAT_1,
      TOPREAL9, CARD_1, FINSEQ_2, FINSET_1, FUNCT_2, MATRIX13, MATRIX_2,
      MATRTOP1, NUMBERS, PRVECT_1, RELSET_1, RLVECT_2, VECTSP_1, XCMPLX_0,
      SIN_COS, MATRIX11, MATRIXJ1, GRCAT_1, BORSUK_3, FUNCOP_1, MATRIX_1,
      INT_1, FUNCT_7, PRE_POLY, SUBSET_1;
 requirements NUMERALS, BOOLE, SUBSET, ARITHM, REAL;
 definitions TARSKI, SQUARE_1, EUCLID, XCMPLX_0, ALGSTR_0, STRUCT_0,
      TOPREAL9, FINSEQ_1, MATRTOP1, VECTSP_1, MATRIX_7, FVSUM_1;
 theorems XREAL_0, TARSKI, FUNCT_2, EUCLID, XBOOLE_1, XBOOLE_0, SQUARE_1,
      XCMPLX_1, ABSVALUE, RVSUM_1, EUCLID_2, ENUMSET1, XREAL_1, XXREAL_0,
      RLVECT_1, ORDINAL1, VECTSP_1, CARD_1, CARD_2, FINSEQ_1, FINSEQ_2,
      FINSEQ_3, FUNCT_1, FVSUM_1, LAPLACE, MATRIX_1, MATRIX_2, MATRIX_6,
      MATRIX13, MATRIXR1, MATRLIN2, MATRTOP1, NAT_1, PARTFUN1, PRE_POLY,
      RELAT_1, RLSUB_1, RLVECT_2, RLVECT_3, STRUCT_0, ZFMISC_1, MATRIXJ1,
      STIRL2_1, TOPS_2, TOPREAL9, MATRIX_9, SIN_COS, MATRIX_7, MATRIXR2,
      MATRIX11, MATRIX_3, MATRIX15, RFINSEQ, FINSEQ_7, SIN_COS6, XXREAL_1,
      GROUP_4, MONOID_0, GROUP_1, FINSEQ_5, TMAP_1, RLVECT_4, FUNCT_7,
      TOPREALC, VALUED_1, INT_1, FINSOP_1, MOD_2, TOPREAL3;
 schemes NAT_1, FINSEQ_4, MATRIX_1;

begin
theorem
L1: (for R11 being Nat holds (for B1 being Field holds (for B2 being (Matrix of R11 , B1) holds (for B3 being (Permutation of ( Seg R11 )) holds (( Det ( ( ( ( B2 * B3 ) @ ) * B3 ) @ ) ) = ( Det B2 ) & (for R7 being Nat holds (for R8 being Nat holds ([ R7 , R8 ] in ( Indices B2 ) implies ( ( ( ( ( B2 * B3 ) @ ) * B3 ) @ ) * (R7 , R8) ) = ( B2 * (( B3 . R7 ) , ( B3 . R8 )) )))))))))
proof
let R11 being Nat;
let C1 being Field;
let C2 being (Matrix of R11 , C1);
let C3 being (Permutation of ( Seg R11 ));
reconsider D1 = C3 as (Element of ( Permutations R11 )) by MATRIX_2:def 9;
L2: ( - ( - ( Det C2 ) ) ) = ( Det C2 ) by RLVECT_1:17;
L3: ((D1 is  even & ( - (( Det C2 ) , D1) ) = ( Det C2 )) or (D1 is  odd & ( - (( Det C2 ) , D1) ) = ( - ( Det C2 ) ))) by MATRIX_2:def 13;
thus L4: ( Det ( ( ( ( C2 * C3 ) @ ) * C3 ) @ ) ) = ( Det ( ( ( C2 * C3 ) @ ) * C3 ) ) by MATRIXR2:43
.= ( - (( Det ( ( C2 * C3 ) @ ) ) , D1) ) by MATRIX11:46
.= ( - (( Det ( C2 * C3 ) ) , D1) ) by MATRIXR2:43
.= ( - (( - (( Det C2 ) , D1) ) , D1) ) by MATRIX11:46
.= ( Det C2 ) by L2 , L3 , MATRIX_2:def 13;
let R7 being Nat;
let R8 being Nat;
assume L5: [ R7 , R8 ] in ( Indices C2 );
L6: ( Indices C2 ) = ( Indices ( ( ( ( C2 * C3 ) @ ) * C3 ) @ ) ) by MATRIX_1:26;
L7: [ R8 , R7 ] in ( Indices ( ( ( C2 * C3 ) @ ) * C3 ) ) by L6 , L5 , MATRIX_1:def 6;
L8: ( ( ( ( ( C2 * C3 ) @ ) * C3 ) @ ) * (R7 , R8) ) = ( ( ( ( C2 * C3 ) @ ) * C3 ) * (R8 , R7) ) by L7 , MATRIX_1:def 6;
L9: (( Indices C2 ) = ( Indices ( ( ( C2 * C3 ) @ ) * C3 ) ) & ( Indices C2 ) = ( Indices ( ( C2 * C3 ) @ ) )) by MATRIX_1:26;
L10: (ex R9 being Nat st (R9 = ( C3 . R8 ) & [ R9 , R7 ] in ( Indices ( ( C2 * C3 ) @ ) ) & ( ( ( ( C2 * C3 ) @ ) * C3 ) * (R8 , R7) ) = ( ( ( C2 * C3 ) @ ) * (R9 , R7) ))) by L9 , L7 , MATRIX11:37;
L11: [ R7 , ( C3 . R8 ) ] in ( Indices ( C2 * C3 ) ) by L10 , MATRIX_1:def 6;
L12: ( Indices ( C2 * C3 ) ) = ( Indices C2 ) by MATRIX_1:26;
L13: ( ( C2 * C3 ) * (R7 , ( C3 . R8 )) ) = ( C2 * (( C3 . R7 ) , ( C3 . R8 )) ) by L12 , L11 , MATRIX11:def 4;
thus L14: ( ( ( ( ( C2 * C3 ) @ ) * C3 ) @ ) * (R7 , R8) ) = ( C2 * (( C3 . R7 ) , ( C3 . R8 )) ) by L13 , L8 , L10 , L11 , MATRIX_1:def 6;
end;
theorem
L15: (for R11 being Nat holds (for B4 being Field holds (for B5 being  diagonal (Matrix of R11 , B4) holds ( B5 @ ) = B5)))
proof
let R11 being Nat;
let C4 being Field;
let C5 being  diagonal (Matrix of R11 , C4);
L16: (for R7 being Nat holds (for R8 being Nat holds ([ R7 , R8 ] in ( Indices C5 ) implies ( C5 * (R7 , R8) ) = ( ( C5 @ ) * (R7 , R8) ))))
proof
let R7 being Nat;
let R8 being Nat;
assume L17: [ R7 , R8 ] in ( Indices C5 );
L18: [ R8 , R7 ] in ( Indices C5 ) by L17 , MATRIX_1:28;
L19: ( ( C5 @ ) * (R7 , R8) ) = ( C5 * (R8 , R7) ) by L18 , MATRIX_1:def 6;
per cases ;
suppose L20: R7 = R8;

thus L21: thesis by L20 , L17 , MATRIX_1:def 6;
end;
suppose L22: R7 <> R8;

L23: ( C5 * (R7 , R8) ) = ( 0. C4 ) by L22 , L17 , MATRIX_1:def 14;
thus L24: thesis by L23 , L18 , L19 , L22 , MATRIX_1:def 14;
end;
end;
thus L26: thesis by L16 , MATRIX_1:27;
end;
theorem
L27: (for R3 being  real number holds (for B6 being  real-valued FinSequence holds (for R7 being Nat holds (R7 in ( dom B6 ) implies ( Sum ( sqr ( B6 +* (R7 , R3) ) ) ) = ( ( ( Sum ( sqr B6 ) ) - ( ( B6 . R7 ) ^2 ) ) + ( R3 ^2 ) )))))
proof
let R3 being  real number;
let C6 being  real-valued FinSequence;
let R7 being Nat;
assume that
L28: R7 in ( dom C6 );
reconsider D2 = ( C6 . R7 ) as (Element of ( REAL ));
set D3 = ( @ ( @ C6 ) );
set D4 = ( D3 | ( R7 -' 1 ) );
set D5 = ( D3 /^ R7 );
L29: ( sqr <* D2 *> ) = <* ( D2 ^2 ) *> by RVSUM_1:55;
L30: D3 = ( D3 +* (R7 , D2) ) by FUNCT_7:35
.= ( ( D4 ^ <* D2 *> ) ^ D5 ) by L28 , FUNCT_7:98;
L31: ( sqr D3 ) = ( ( sqr ( D4 ^ <* D2 *> ) ) ^ ( sqr D5 ) ) by L30 , RVSUM_1:144
.= ( ( ( sqr D4 ) ^ ( sqr <* D2 *> ) ) ^ ( sqr D5 ) ) by RVSUM_1:144;
L32: ( Sum ( sqr D3 ) ) = ( ( Sum ( ( sqr D4 ) ^ ( sqr <* D2 *> ) ) ) + ( Sum ( sqr D5 ) ) ) by L31 , RVSUM_1:75
.= ( ( ( Sum ( sqr D4 ) ) + ( D2 ^2 ) ) + ( Sum ( sqr D5 ) ) ) by L29 , RVSUM_1:74;
reconsider D6 = R3 as (Element of ( REAL )) by XREAL_0:def 1;
L33: ( sqr <* D6 *> ) = <* ( D6 ^2 ) *> by RVSUM_1:55;
L34: ( D3 +* (R7 , D6) ) = ( ( D4 ^ <* D6 *> ) ^ D5 ) by L28 , FUNCT_7:98;
L35: ( sqr ( D3 +* (R7 , D6) ) ) = ( ( sqr ( D4 ^ <* D6 *> ) ) ^ ( sqr D5 ) ) by L34 , RVSUM_1:144
.= ( ( ( sqr D4 ) ^ ( sqr <* D6 *> ) ) ^ ( sqr D5 ) ) by RVSUM_1:144;
L36: ( Sum ( sqr ( D3 +* (R7 , D6) ) ) ) = ( ( Sum ( ( sqr D4 ) ^ ( sqr <* D6 *> ) ) ) + ( Sum ( sqr D5 ) ) ) by L35 , RVSUM_1:75
.= ( ( ( Sum ( sqr D4 ) ) + ( D6 ^2 ) ) + ( Sum ( sqr D5 ) ) ) by L33 , RVSUM_1:74;
thus L37: thesis by L36 , L32;
end;
definition
let R2 being set;
let C7 being  Function-yielding Function;
attr C7 is R2 -support-yielding
means
:L38: (for B7 being Function holds (for R1 being set holds ((B7 in ( dom C7 ) & ( ( C7 . B7 ) . R1 ) <> ( B7 . R1 )) implies R1 in R2)));
end;
registration
let R2 being set;
cluster R2 -support-yielding for  Function-yielding  Function-yielding  Function-yielding  Function-yielding Function;
existence
proof
reconsider D7 = ( {} ) as  Function-yielding Function;
L40: (for B8 being Function holds (for B9 being set holds ((B8 in ( dom D7 ) & ( ( D7 . B8 ) . B9 ) <> ( B8 . B9 )) implies B9 in R2)));
L41: D7 is R2 -support-yielding by L40 , L38;
thus L42: thesis by L41;
end;
end;
registration
let R2 being set;
let C8 being (Subset of R2);
cluster C8 -support-yielding -> R2 -support-yielding for  Function-yielding  Function-yielding  Function-yielding  Function-yielding Function;
coherence
proof
let C9 being  Function-yielding Function;
assume L44: C9 is C8 -support-yielding;
let C10 being Function;
let C11 being set;
assume L45: (C10 in ( dom C9 ) & ( ( C9 . C10 ) . C11 ) <> ( C10 . C11 ));
L46: C11 in C8 by L45 , L44 , L38;
thus L47: thesis by L46;
end;
end;
registration
let C12 , C13 being set;
cluster C12 -support-yielding C13 -support-yielding -> ( C12 /\ C13 ) -support-yielding for  Function-yielding  Function-yielding  Function-yielding  Function-yielding Function;
coherence
proof
let C14 being  Function-yielding Function;
assume L49: C14 is C12 -support-yielding C13 -support-yielding;
let C15 being Function;
let C16 being set;
assume L50: (C15 in ( dom C14 ) & ( ( C14 . C15 ) . C16 ) <> ( C15 . C16 ));
L51: (C16 in C12 & C16 in C13) by L50 , L49 , L38;
thus L52: thesis by L51 , XBOOLE_0:def 4;
end;
let C17 being C12 -support-yielding  Function-yielding Function;
let C18 being C13 -support-yielding  Function-yielding Function;
cluster ( C17 * C18 ) -> ( C12 \/ C13 ) -support-yielding;
coherence
proof
set D8 = ( C17 * C18 );
let C19 being Function;
let C20 being set;
assume that
L53: C19 in ( dom D8 )
and
L54: ( ( D8 . C19 ) . C20 ) <> ( C19 . C20 );
L55: C19 in ( dom C18 ) by L53 , FUNCT_1:11;
assume L56: (not C20 in ( C12 \/ C13 ));
L57: (not C20 in C13) by L56 , XBOOLE_0:def 3;
L58: ( ( C18 . C19 ) . C20 ) = ( C19 . C20 ) by L57 , L55 , L38;
L59: (( D8 . C19 ) = ( C17 . ( C18 . C19 ) ) & ( C18 . C19 ) in ( dom C17 )) by L53 , FUNCT_1:11 , FUNCT_1:12;
L60: (not C20 in C12) by L56 , XBOOLE_0:def 3;
thus L61: thesis by L60 , L54 , L58 , L59 , L38;
end;
end;
registration
let R11 being Nat;
cluster  homogeneous for (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
existence
proof
reconsider D9 = R11 as (Element of ( NAT )) by ORDINAL1:def 12;
L63: the  homogeneous (Function of ( TOP-REAL D9 ) , ( TOP-REAL D9 )) is  homogeneous;
thus L64: thesis by L63;
end;
end;
registration
let R11 being Nat;
let R10 being Nat;
cluster  ->  FinSequence-yielding for (Function of ( TOP-REAL R11 ) , ( TOP-REAL R10 ));
coherence
proof
let C21 being (Function of ( TOP-REAL R11 ) , ( TOP-REAL R10 ));
L66:
now
let C22 being set;
assume L67: C22 in ( dom C21 );
L68: (( rng C21 ) c= (the carrier of ( TOP-REAL R10 )) & ( C21 . C22 ) in ( rng C21 )) by L67 , FUNCT_1:def 3 , RELAT_1:def 19;
thus L69: ( C21 . C22 ) is FinSequence by L68;
end;
thus L70: thesis by L66 , PRE_POLY:def 3;
end;
end;
registration
let R11 being Nat;
let R10 being Nat;
let C23 being (Matrix of R11 , R10 , ( F_Real ));
cluster ( Mx2Tran C23 ) ->  additive;
coherence
proof
let C24 , C25 being (Point of ( TOP-REAL R11 ));
thus L72: thesis by MATRTOP1:22;
end;
end;
registration
let R11 being Nat;
let C26 being (Matrix of R11 , ( F_Real ));
cluster ( Mx2Tran C26 ) ->  homogeneous;
coherence
proof
let R3 being  real number;
let C27 being (Point of ( TOP-REAL R11 ));
thus L74: ( ( Mx2Tran C26 ) . ( R3 * C27 ) ) = ( R3 * ( ( Mx2Tran C26 ) . C27 ) ) by MATRTOP1:23;
end;
end;
registration
let R11 being Nat;
let C28 , C29 being  homogeneous (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
cluster ( C28 * C29 ) ->  homogeneous for (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
coherence
proof
set D10 = ( TOP-REAL R11 );
L76:
now
let C30 being  real number;
let C31 being (Point of D10);
reconsider D11 = ( C29 . C31 ) as (Point of D10);
L77: ( dom ( C28 * C29 ) ) = (the carrier of D10) by FUNCT_2:52;
thus L78: ( ( C28 * C29 ) . ( C30 * C31 ) ) = ( C28 . ( C29 . ( C30 * C31 ) ) ) by L77 , FUNCT_1:12
.= ( C28 . ( C30 * D11 ) ) by TOPREAL9:def 4
.= ( C30 * ( C28 . D11 ) ) by TOPREAL9:def 4
.= ( C30 * ( ( C28 * C29 ) . C31 ) ) by L77 , FUNCT_1:12;
end;
thus L79: thesis by L76 , TOPREAL9:def 4;
end;
end;
begin
L81: (for R7 being Nat holds (for R11 being Nat holds (R7 in ( Seg R11 ) implies (ex B10 being (Matrix of R11 , ( F_Real )) st (( Det B10 ) = ( - ( 1. ( F_Real ) ) ) & ( B10 * (R7 , R7) ) = ( - ( 1. ( F_Real ) ) ) & (for R9 being Nat holds (for R10 being Nat holds ([ R9 , R10 ] in ( Indices B10 ) implies (((R9 = R10 & R9 <> R7) implies ( B10 * (R9 , R9) ) = ( 1. ( F_Real ) )) & (R9 <> R10 implies ( B10 * (R9 , R10) ) = ( 0. ( F_Real ) )))))))))))
proof
let R7 being Nat;
let R11 being Nat;
set D12 = (the carrier of ( F_Real ));
set D13 = (the multF of ( F_Real ));
reconsider D14 = R11 as (Element of ( NAT )) by ORDINAL1:def 12;
defpred S1[ set , set , set ] means ((($1 = $2 & $1 = R7) implies $3 = ( - ( 1. ( F_Real ) ) )) & (($1 = $2 & $1 <> R7) implies $3 = ( 1. ( F_Real ) )) & ($1 <> $2 implies $3 = ( 0. ( F_Real ) )));
L82: (for R9 being Nat holds (for R10 being Nat holds ([ R9 , R10 ] in [: ( Seg D14 ) , ( Seg D14 ) :] implies (ex B11 being (Element of ( F_Real )) st S1[ R9 , R10 , B11 ]))))
proof
let R9 being Nat;
let R10 being Nat;
assume L83: [ R9 , R10 ] in [: ( Seg D14 ) , ( Seg D14 ) :];
L84: ((R9 = R10 & R9 = R7) or (R9 = R10 & R9 <> R7) or R9 <> R10);
thus L85: thesis by L84;
end;
consider C32 being (Matrix of D14 , ( F_Real )) such that L86: (for R11 being Nat holds (for R10 being Nat holds ([ R11 , R10 ] in ( Indices C32 ) implies S1[ R11 , R10 , ( C32 * (R11 , R10) ) ]))) from MATRIX_1:sch 2(L82);
reconsider D15 = C32 as (Matrix of R11 , ( F_Real ));
L87: ( Indices D15 ) = [: ( Seg R11 ) , ( Seg R11 ) :] by MATRIX_1:24;
L88:
now
let C33 , C34 being (Element of ( NAT ));
assume L89: (C33 in ( Seg R11 ) & C34 in ( Seg R11 ));
L90: [ C33 , C34 ] in ( Indices D15 ) by L89 , L87 , ZFMISC_1:87;
assume L91: C33 <> C34;
thus L92: ( D15 * (C33 , C34) ) = ( 0. ( F_Real ) ) by L91 , L86 , L90;
end;
L93: D15 is  diagonal by L88 , MATRIX_7:def 2;
set D16 = ( diagonal_of_Matrix D15 );
defpred S2[ Nat ] means (( $1 + R7 ) <= R11 implies ( D13 "**" ( D16 | ( $1 + R7 ) ) ) = ( - ( 1. ( F_Real ) ) ));
L94: ( len D16 ) = R11 by MATRIX_3:def 10;
L95: (for R9 being Nat holds (S2[ R9 ] implies S2[ ( R9 + 1 ) ]))
proof
let R9 being Nat;
assume L96: S2[ R9 ];
set D17 = ( R9 + 1 );
set D18 = ( D17 + R7 );
assume L97: ( D17 + R7 ) <= R11;
L98: ( D17 + R7 ) = ( ( R9 + R7 ) + 1 );
L99: 1 <= D18 by L98 , NAT_1:11;
L100: D18 in ( dom D16 ) by L99 , L94 , L97 , FINSEQ_3:25;
L101: ( D16 | D18 ) = ( ( D16 | ( R9 + R7 ) ) ^ <* ( D16 . D18 ) *> ) by L100 , L98 , FINSEQ_5:10;
L102: R7 <= ( R9 + R7 ) by NAT_1:11;
L103: R7 < ( D17 + R7 ) by L102 , L98 , NAT_1:13;
L104: D18 in ( Seg R11 ) by L97 , L99;
L105: [ D18 , D18 ] in ( Indices D15 ) by L104 , L87 , ZFMISC_1:87;
L106: ( 1. ( F_Real ) ) = ( D15 * (D18 , D18) ) by L105 , L86 , L103
.= ( D16 . D18 ) by L104 , MATRIX_3:def 10;
thus L107: ( D13 "**" ( D16 | D18 ) ) = ( ( - ( 1. ( F_Real ) ) ) * ( 1. ( F_Real ) ) ) by L106 , L96 , L97 , L98 , L101 , FINSOP_1:4 , NAT_1:13
.= ( - ( 1. ( F_Real ) ) );
end;
defpred S3[ Nat ] means ($1 < R7 implies ( D13 "**" ( D16 | $1 ) ) = ( 1. ( F_Real ) ));
L108: S3[ ( 0 ) ]
proof
assume L109: ( 0 ) < R7;
L110: (( D16 | ( 0 ) ) = ( <*> (the carrier of ( F_Real )) ) & ( the_unity_wrt D13 ) = ( 1. ( F_Real ) )) by FVSUM_1:5;
thus L111: thesis by L110 , FINSOP_1:10;
end;
assume L112: R7 in ( Seg R11 );
L113: 1 <= R7 by L112 , FINSEQ_1:1;
L114: R7 <= R11 by L112 , FINSEQ_1:1;
L115: (( ( R11 - R7 ) + R7 ) = R11 & ( R11 - R7 ) is Nat) by L114 , NAT_1:21;
take D15;
L116: (for R9 being Nat holds (S3[ R9 ] implies S3[ ( R9 + 1 ) ]))
proof
let R9 being Nat;
assume that
L117: S3[ R9 ];
set D19 = ( R9 + 1 );
assume L118: D19 < R7;
L119: (1 <= D19 & D19 <= R11) by L118 , L114 , NAT_1:14 , XXREAL_0:2;
L120: D19 in ( dom D16 ) by L119 , L94 , FINSEQ_3:25;
L121: ( D16 | D19 ) = ( ( D16 | R9 ) ^ <* ( D16 . D19 ) *> ) by L120 , FINSEQ_5:10;
L122: D19 in ( Seg R11 ) by L119;
L123: [ D19 , D19 ] in ( Indices D15 ) by L122 , L87 , ZFMISC_1:87;
L124: ( 1. ( F_Real ) ) = ( D15 * (D19 , D19) ) by L123 , L86 , L118
.= ( D16 . D19 ) by L122 , MATRIX_3:def 10;
thus L125: ( D13 "**" ( D16 | D19 ) ) = ( ( 1. ( F_Real ) ) * ( 1. ( F_Real ) ) ) by L124 , L117 , L118 , L121 , FINSOP_1:4 , NAT_1:13
.= ( 1. ( F_Real ) );
end;
L126: (for R9 being Nat holds S3[ R9 ]) from NAT_1:sch 2(L108 , L116);
L127: S2[ ( 0 ) ]
proof
reconsider D20 = ( R7 - 1 ) as Nat by L113 , NAT_1:21;
assume L128: ( ( 0 ) + R7 ) <= R11;
L129: ( D20 + 1 ) = R7;
L130: D20 < R7 by L129 , NAT_1:13;
L131: ( D13 "**" ( D16 | D20 ) ) = ( 1. ( F_Real ) ) by L130 , L126;
L132: 1 <= R7 by L112 , FINSEQ_1:1;
L133: R7 in ( dom D16 ) by L132 , L94 , L114 , FINSEQ_3:25;
L134: ( D16 | R7 ) = ( ( D16 | D20 ) ^ <* ( D16 . R7 ) *> ) by L133 , L129 , FINSEQ_5:10;
L135: [ R7 , R7 ] in ( Indices D15 ) by L87 , L112 , ZFMISC_1:87;
L136: ( - ( 1. ( F_Real ) ) ) = ( D15 * (R7 , R7) ) by L135 , L86
.= ( D16 . R7 ) by L112 , MATRIX_3:def 10;
thus L137: ( D13 "**" ( D16 | ( ( 0 ) + R7 ) ) ) = ( ( 1. ( F_Real ) ) * ( - ( 1. ( F_Real ) ) ) ) by L136 , L131 , L134 , FINSOP_1:4
.= ( - ( 1. ( F_Real ) ) );
end;
L138: (for R9 being Nat holds S2[ R9 ]) from NAT_1:sch 2(L127 , L95);
thus L139: ( - ( 1. ( F_Real ) ) ) = ( D13 "**" ( D16 | R11 ) ) by L138 , L115
.= ( D13 "**" D16 ) by L94 , FINSEQ_1:58
.= ( Det D15 ) by L93 , L113 , L114 , MATRIX_7:17 , XXREAL_0:2;
L140: [ R7 , R7 ] in ( Indices D15 ) by L87 , L112 , ZFMISC_1:87;
thus L141: ( D15 * (R7 , R7) ) = ( - ( 1. ( F_Real ) ) ) by L140 , L86;
let R9 being Nat;
let R10 being Nat;
assume L142: [ R9 , R10 ] in ( Indices D15 );
thus L143: thesis by L142 , L86;
end;
definition
let R11 being Nat;
let R7 being Nat;
assume that
L144: R7 in ( Seg R11 );
func AxialSymmetry (R7 , R11) ->  invertible (Matrix of R11 , ( F_Real )) means 
:L145: (( it * (R7 , R7) ) = ( - ( 1. ( F_Real ) ) ) & (for R9 being Nat holds (for R10 being Nat holds ([ R9 , R10 ] in ( Indices it ) implies (((R9 = R10 & R9 <> R7) implies ( it * (R9 , R9) ) = ( 1. ( F_Real ) )) & (R9 <> R10 implies ( it * (R9 , R10) ) = ( 0. ( F_Real ) )))))));
existence
proof
consider C35 being (Matrix of R11 , ( F_Real )) such that L146: ( Det C35 ) = ( - ( 1. ( F_Real ) ) ) and L147: (( C35 * (R7 , R7) ) = ( - ( 1. ( F_Real ) ) ) & (for R9 being Nat holds (for R10 being Nat holds ([ R9 , R10 ] in ( Indices C35 ) implies (((R9 = R10 & R9 <> R7) implies ( C35 * (R9 , R9) ) = ( 1. ( F_Real ) )) & (R9 <> R10 implies ( C35 * (R9 , R10) ) = ( 0. ( F_Real ) ))))))) by L144 , L81;
L148: ( Det C35 ) <> ( 0. ( F_Real ) ) by L146;
L149: C35 is  invertible by L148 , LAPLACE:34;
thus L150: thesis by L149 , L147;
end;
uniqueness
proof
let C36 , C37 being  invertible (Matrix of R11 , ( F_Real ));
assume that
L151: ( C36 * (R7 , R7) ) = ( - ( 1. ( F_Real ) ) )
and
L152: (for R9 being Nat holds (for R10 being Nat holds ([ R9 , R10 ] in ( Indices C36 ) implies (((R9 = R10 & R9 <> R7) implies ( C36 * (R9 , R9) ) = ( 1. ( F_Real ) )) & (R9 <> R10 implies ( C36 * (R9 , R10) ) = ( 0. ( F_Real ) ))))))
and
L153: ( C37 * (R7 , R7) ) = ( - ( 1. ( F_Real ) ) )
and
L154: (for R9 being Nat holds (for R10 being Nat holds ([ R9 , R10 ] in ( Indices C37 ) implies (((R9 = R10 & R9 <> R7) implies ( C37 * (R9 , R9) ) = ( 1. ( F_Real ) )) & (R9 <> R10 implies ( C37 * (R9 , R10) ) = ( 0. ( F_Real ) ))))));
L155: (for R9 being Nat holds (for R10 being Nat holds ([ R9 , R10 ] in ( Indices C36 ) implies ( C36 * (R9 , R10) ) = ( C37 * (R9 , R10) ))))
proof
let R9 being Nat;
let R10 being Nat;
assume L156: [ R9 , R10 ] in ( Indices C36 );
L157: [ R9 , R10 ] in ( Indices C37 ) by L156 , MATRIX_1:26;
per cases ;
suppose L158: R9 <> R10;

L159: ( C36 * (R9 , R10) ) = ( 0. ( F_Real ) ) by L158 , L152 , L156;
thus L160: thesis by L159 , L154 , L157 , L158;
end;
suppose L161: (R9 = R10 & R9 <> R7);

L162: ( C36 * (R9 , R10) ) = ( 1. ( F_Real ) ) by L161 , L152 , L156;
thus L163: thesis by L162 , L154 , L157 , L161;
end;
suppose L164: (R9 = R10 & R9 = R7);

thus L165: thesis by L164 , L151 , L153;
end;
end;
thus L167: thesis by L155 , MATRIX_1:27;
end;
end;
theorem
L169: (for R7 being Nat holds (for R11 being Nat holds (R7 in ( Seg R11 ) implies ( Det ( AxialSymmetry (R7 , R11) ) ) = ( - ( 1. ( F_Real ) ) ))))
proof
let R7 being Nat;
let R11 being Nat;
assume L170: R7 in ( Seg R11 );
consider C38 being (Matrix of R11 , ( F_Real )) such that L171: ( Det C38 ) = ( - ( 1. ( F_Real ) ) ) and L172: (( C38 * (R7 , R7) ) = ( - ( 1. ( F_Real ) ) ) & (for R9 being Nat holds (for R10 being Nat holds ([ R9 , R10 ] in ( Indices C38 ) implies (((R9 = R10 & R9 <> R7) implies ( C38 * (R9 , R9) ) = ( 1. ( F_Real ) )) & (R9 <> R10 implies ( C38 * (R9 , R10) ) = ( 0. ( F_Real ) ))))))) by L170 , L81;
L173: ( Det C38 ) <> ( 0. ( F_Real ) ) by L171;
L174: C38 is  invertible by L173 , LAPLACE:34;
thus L175: thesis by L174 , L170 , L171 , L172 , L145;
end;
theorem
L176: (for R7 being Nat holds (for R8 being Nat holds (for R11 being Nat holds (for R12 being (Point of ( TOP-REAL R11 )) holds ((R7 in ( Seg R11 ) & R8 in ( Seg R11 ) & R7 <> R8) implies ( ( @ R12 ) "*" ( Col (( AxialSymmetry (R7 , R11) ) , R8) ) ) = ( R12 . R8 ))))))
proof
let R7 being Nat;
let R8 being Nat;
let R11 being Nat;
let R12 being (Point of ( TOP-REAL R11 ));
set D21 = ( Seg R11 );
assume that
L177: R7 in D21
and
L178: R8 in D21
and
L179: R7 <> R8;
set D22 = ( AxialSymmetry (R7 , R11) );
set D23 = ( Col (D22 , R8) );
L180: ( Indices D22 ) = [: D21 , D21 :] by MATRIX_1:24;
L181: [ R8 , R8 ] in ( Indices D22 ) by L180 , L178 , ZFMISC_1:87;
L182: ( len D22 ) = R11 by MATRIX_1:25;
L183: ( dom D22 ) = D21 by L182 , FINSEQ_1:def 3;
L184: ( len D23 ) = R11 by L182 , MATRIX_1:def 8;
L185: ( dom D23 ) = D21 by L184 , FINSEQ_1:def 3;
L186:
now
let R10 being Nat;
assume that
L187: R10 in ( dom D23 )
and
L188: R10 <> R8;
L189: [ R10 , R8 ] in ( Indices D22 ) by L178 , L180 , L185 , L187 , ZFMISC_1:87;
thus L190: ( D23 . R10 ) = ( D22 * (R10 , R8) ) by L183 , L185 , L187 , MATRIX_1:def 8
.= ( 0. ( F_Real ) ) by L177 , L188 , L189 , L145;
end;
L191: ( len R12 ) = R11 by CARD_1:def 7;
L192: ( dom R12 ) = D21 by L191 , FINSEQ_1:def 3;
L193: ( D23 . R8 ) = ( D22 * (R8 , R8) ) by L178 , L183 , MATRIX_1:def 8
.= ( 1. ( F_Real ) ) by L177 , L179 , L181 , L145;
thus L194: ( R12 . R8 ) = ( Sum ( mlt (D23 , ( @ R12 )) ) ) by L193 , L178 , L185 , L186 , L192 , MATRIX_3:17
.= ( ( @ R12 ) "*" D23 ) by FVSUM_1:64;
end;
theorem
L195: (for R7 being Nat holds (for R11 being Nat holds (for R12 being (Point of ( TOP-REAL R11 )) holds (R7 in ( Seg R11 ) implies ( ( @ R12 ) "*" ( Col (( AxialSymmetry (R7 , R11) ) , R7) ) ) = ( - ( R12 . R7 ) )))))
proof
let R7 being Nat;
let R11 being Nat;
let R12 being (Point of ( TOP-REAL R11 ));
set D24 = ( Seg R11 );
assume L196: R7 in D24;
reconsider D25 = ( ( @ R12 ) . R7 ) as (Element of ( F_Real ));
set D26 = ( AxialSymmetry (R7 , R11) );
set D27 = ( Col (D26 , R7) );
L197: ( len D26 ) = R11 by MATRIX_1:25;
L198: ( dom D26 ) = D24 by L197 , FINSEQ_1:def 3;
L199: ( D27 . R7 ) = ( D26 * (R7 , R7) ) by L198 , L196 , MATRIX_1:def 8;
L200: (( len R12 ) = R11 & ( len D27 ) = R11) by L197 , CARD_1:def 7;
L201: ( len ( mlt (( @ R12 ) , D27) ) ) = R11 by L200 , MATRIX_3:6;
L202: ( dom ( mlt (( @ R12 ) , D27) ) ) = D24 by L201 , FINSEQ_1:def 3;
L203: ( Indices D26 ) = [: D24 , D24 :] by MATRIX_1:24;
L204: (for R9 being Nat holds ((R9 in ( dom ( mlt (( @ R12 ) , D27) ) ) & R9 <> R7) implies ( ( mlt (( @ R12 ) , D27) ) . R9 ) = ( 0. ( F_Real ) )))
proof
let R9 being Nat;
assume that
L205: R9 in ( dom ( mlt (( @ R12 ) , D27) ) )
and
L206: R9 <> R7;
reconsider D28 = ( ( @ R12 ) . R9 ) as (Element of ( F_Real ));
L207: [ R9 , R7 ] in ( Indices D26 ) by L196 , L202 , L203 , L205 , ZFMISC_1:87;
L208: ( D27 . R9 ) = ( D26 * (R9 , R7) ) by L198 , L202 , L205 , MATRIX_1:def 8;
thus L209: ( ( mlt (( @ R12 ) , D27) ) . R9 ) = ( D28 * ( D26 * (R9 , R7) ) ) by L208 , L205 , FVSUM_1:60
.= ( D28 * ( 0. ( F_Real ) ) ) by L196 , L206 , L207 , L145
.= ( 0. ( F_Real ) );
end;
thus L210: ( ( @ R12 ) "*" D27 ) = ( ( mlt (( @ R12 ) , D27) ) . R7 ) by L196 , L202 , L204 , MATRIX_3:12
.= ( D25 * ( D26 * (R7 , R7) ) ) by L196 , L199 , L202 , FVSUM_1:60
.= ( D25 * ( - ( 1. ( F_Real ) ) ) ) by L196 , L145
.= ( - ( R12 . R7 ) );
end;
theorem
L211: (for R7 being Nat holds (for R11 being Nat holds (R7 in ( Seg R11 ) implies (( AxialSymmetry (R7 , R11) ) is  diagonal & ( ( AxialSymmetry (R7 , R11) ) ~ ) = ( AxialSymmetry (R7 , R11) )))))
proof
let R7 being Nat;
let R11 being Nat;
set D29 = ( Seg R11 );
set D30 = ( AxialSymmetry (R7 , R11) );
set D31 = ( 1. (( F_Real ) , R11) );
set D32 = ( D30 * D30 );
assume L212: R7 in D29;
L213: (for R9 being Nat holds (for R10 being Nat holds (([ R9 , R10 ] in ( Indices D30 ) & ( D30 * (R9 , R10) ) <> ( 0. ( F_Real ) )) implies R9 = R10))) by L212 , L145;
thus L214: D30 is  diagonal by L213 , MATRIX_1:def 14;
L215: (for R9 being Nat holds (for R10 being Nat holds ([ R9 , R10 ] in ( Indices D32 ) implies ( D32 * (R9 , R10) ) = ( D31 * (R9 , R10) ))))
proof
let R9 being Nat;
let R10 being Nat;
assume that
L216: [ R9 , R10 ] in ( Indices D32 );
L217: ( width D30 ) = R11 by MATRIX_1:24;
L218: ( len ( @ ( Line (D30 , R9) ) ) ) = R11 by L217 , CARD_1:def 7;
reconsider D33 = ( @ ( Line (D30 , R9) ) ) as (Element of ( TOP-REAL R11 )) by L218 , TOPREAL3:46;
L219: ( len D30 ) = R11 by MATRIX_1:25;
L220: ( D32 * (R9 , R10) ) = ( ( @ D33 ) "*" ( Col (D30 , R10) ) ) by L219 , L216 , L217 , MATRIX_3:def 4;
L221: ( Indices D32 ) = [: D29 , D29 :] by MATRIX_1:24;
L222: R10 in D29 by L221 , L216 , ZFMISC_1:87;
L223: ( ( Line (D30 , R9) ) . R10 ) = ( D30 * (R9 , R10) ) by L222 , L217 , MATRIX_1:def 7;
L224: ( Indices D30 ) = [: D29 , D29 :] by MATRIX_1:24;
L225: ( Indices D31 ) = [: D29 , D29 :] by MATRIX_1:24;
per cases ;
suppose L226: R10 <> R7;

L227: ( D32 * (R9 , R10) ) = ( D30 * (R9 , R10) ) by L226 , L212 , L220 , L222 , L223 , L176;
per cases ;
suppose L228: R9 <> R10;

L229: ( D31 * (R9 , R10) ) = ( 0. ( F_Real ) ) by L228 , L216 , L221 , L225 , MATRIX_1:def 11;
thus L230: thesis by L229 , L212 , L216 , L221 , L224 , L227 , L228 , L145;
end;
suppose L231: R9 = R10;

L232: ( D31 * (R9 , R10) ) = ( 1. ( F_Real ) ) by L231 , L216 , L221 , L225 , MATRIX_1:def 11;
thus L233: thesis by L232 , L212 , L216 , L221 , L224 , L226 , L227 , L231 , L145;
end;
end;
suppose L235: R10 = R7;

L236: ( D32 * (R9 , R10) ) = ( - ( D30 * (R9 , R10) ) ) by L235 , L220 , L222 , L223 , L195;
per cases ;
suppose L237: R9 <> R10;

L238: ( D30 * (R9 , R10) ) = ( 0. ( F_Real ) ) by L237 , L212 , L216 , L221 , L224 , L145;
thus L239: thesis by L238 , L216 , L221 , L225 , L236 , L237 , MATRIX_1:def 11;
end;
suppose L240: R9 = R10;

L241: ( D32 * (R9 , R10) ) = ( - ( - ( 1. ( F_Real ) ) ) ) by L240 , L212 , L235 , L236 , L145;
thus L242: thesis by L241 , L216 , L221 , L225 , L240 , MATRIX_1:def 11;
end;
end;
end;
L245: D32 = D31 by L215 , MATRIX_1:27;
L246: D30 is_reverse_of D30 by L245 , MATRIX_6:def 2;
thus L247: thesis by L246 , MATRIX_6:def 4;
end;
theorem
L248: (for R7 being Nat holds (for R8 being Nat holds (for R11 being Nat holds (for R12 being (Point of ( TOP-REAL R11 )) holds ((R7 in ( Seg R11 ) & R7 <> R8) implies ( ( ( Mx2Tran ( AxialSymmetry (R7 , R11) ) ) . R12 ) . R8 ) = ( R12 . R8 ))))))
proof
let R7 being Nat;
let R8 being Nat;
let R11 being Nat;
let R12 being (Point of ( TOP-REAL R11 ));
set D34 = ( AxialSymmetry (R7 , R11) );
set D35 = ( Mx2Tran D34 );
set D36 = ( D35 . R12 );
set D37 = ( Seg R11 );
assume L249: (R7 in D37 & R7 <> R8);
L250: ( len D36 ) = R11 by CARD_1:def 7;
L251: ( dom D36 ) = D37 by L250 , FINSEQ_1:def 3;
L252: ( len R12 ) = R11 by CARD_1:def 7;
L253: ( dom R12 ) = D37 by L252 , FINSEQ_1:def 3;
per cases ;
suppose L254: R8 in D37;

L255: (1 <= R8 & R8 <= R11) by L254 , FINSEQ_1:1;
thus L256: ( D36 . R8 ) = ( ( @ R12 ) "*" ( Col (D34 , R8) ) ) by L255 , MATRTOP1:18
.= ( R12 . R8 ) by L249 , L254 , L176;
end;
suppose L257: (not R8 in D37);

L258: ( D36 . R8 ) = ( {} ) by L257 , L251 , FUNCT_1:def 2;
thus L259: thesis by L258 , L253 , L257 , FUNCT_1:def 2;
end;
end;
theorem
L261: (for R7 being Nat holds (for R11 being Nat holds (for R12 being (Point of ( TOP-REAL R11 )) holds (R7 in ( Seg R11 ) implies ( ( ( Mx2Tran ( AxialSymmetry (R7 , R11) ) ) . R12 ) . R7 ) = ( - ( R12 . R7 ) )))))
proof
let R7 being Nat;
let R11 being Nat;
let R12 being (Point of ( TOP-REAL R11 ));
set D38 = ( AxialSymmetry (R7 , R11) );
set D39 = ( Mx2Tran D38 );
set D40 = ( D39 . R12 );
set D41 = ( Seg R11 );
assume L262: R7 in D41;
L263: (1 <= R7 & R7 <= R11) by L262 , FINSEQ_1:1;
thus L264: ( D40 . R7 ) = ( ( @ R12 ) "*" ( Col (D38 , R7) ) ) by L263 , MATRTOP1:18
.= ( - ( R12 . R7 ) ) by L262 , L195;
end;
theorem
L265: (for R7 being Nat holds (for R11 being Nat holds (for R12 being (Point of ( TOP-REAL R11 )) holds (R7 in ( Seg R11 ) implies ( ( Mx2Tran ( AxialSymmetry (R7 , R11) ) ) . R12 ) = ( R12 +* (R7 , ( - ( R12 . R7 ) )) )))))
proof
let R7 being Nat;
let R11 being Nat;
let R12 being (Point of ( TOP-REAL R11 ));
set D42 = ( Seg R11 );
set D43 = ( ( Mx2Tran ( AxialSymmetry (R7 , R11) ) ) . R12 );
set D44 = ( R12 +* (R7 , ( - ( R12 . R7 ) )) );
L266: ( len R12 ) = R11 by CARD_1:def 7;
assume L267: R7 in D42;
L268: (for R8 being Nat holds ((1 <= R8 & R8 <= R11) implies ( D43 . R8 ) = ( D44 . R8 )))
proof
let R8 being Nat;
assume that
L269: (1 <= R8 & R8 <= R11);
L270: R8 in D42 by L269 , FINSEQ_1:1;
L271: R8 in ( dom R12 ) by L266 , L269 , FINSEQ_3:25;
per cases ;
suppose L272: R8 <> R7;

L273: ( D44 . R8 ) = ( R12 . R8 ) by L272 , FUNCT_7:32;
thus L274: thesis by L273 , L267 , L272 , L248;
end;
suppose L275: R8 = R7;

L276: ( D44 . R8 ) = ( - ( R12 . R7 ) ) by L275 , L271 , FUNCT_7:31;
thus L277: thesis by L276 , L270 , L275 , L261;
end;
end;
L279: (( len D44 ) = ( len R12 ) & ( len D43 ) = R11) by CARD_1:def 7 , FUNCT_7:97;
thus L280: thesis by L279 , L266 , L268 , FINSEQ_1:14;
end;
theorem
L281: (for R7 being Nat holds (for R11 being Nat holds (R7 in ( Seg R11 ) implies ( Mx2Tran ( AxialSymmetry (R7 , R11) ) ) is { R7 } -support-yielding)))
proof
let R7 being Nat;
let R11 being Nat;
set D45 = ( Mx2Tran ( AxialSymmetry (R7 , R11) ) );
assume L282: R7 in ( Seg R11 );
let C39 being Function;
let C40 being set;
assume L283: C39 in ( dom D45 );
reconsider D46 = C39 as (Point of ( TOP-REAL R11 )) by L283 , FUNCT_2:52;
assume L284: ( ( D45 . C39 ) . C40 ) <> ( C39 . C40 );
L285: ( len ( D45 . D46 ) ) = R11 by CARD_1:def 7;
L286: ( dom ( D45 . D46 ) ) = ( Seg R11 ) by L285 , FINSEQ_1:def 3;
L287: ( len D46 ) = R11 by CARD_1:def 7;
L288: ( dom D46 ) = ( Seg R11 ) by L287 , FINSEQ_1:def 3;
per cases ;
suppose L289: (not C40 in ( Seg R11 ));

L290: ( ( D45 . D46 ) . C40 ) = ( {} ) by L289 , L286 , FUNCT_1:def 2
.= ( D46 . C40 ) by L288 , L289 , FUNCT_1:def 2;
thus L291: thesis by L290 , L284;
end;
suppose L292: C40 in ( Seg R11 );

L293: C40 = R7 by L292 , L282 , L284 , L287 , L248;
thus L294: thesis by L293 , TARSKI:def 1;
end;
end;
theorem
L296: (for R3 being  real number holds (for R11 being Nat holds (for B12 , B13 being (Element of ( F_Real )) holds ((B12 = ( cos R3 ) & B13 = ( sin R3 )) implies ( Det ( block_diagonal (<* ( (B12 , B13) ][ (( - B13 ) , B12) ) , ( 1. (( F_Real ) , R11) ) *> , ( 0. ( F_Real ) )) ) ) = ( 1. ( F_Real ) )))))
proof
let R3 being  real number;
let R11 being Nat;
let C41 , C42 being (Element of ( F_Real ));
set D47 = ( (C41 , C42) ][ (( - C42 ) , C41) );
set D48 = ( 1. (( F_Real ) , R11) );
set D49 = ( block_diagonal (<* D47 , D48 *> , ( 0. ( F_Real ) )) );
L297: (R11 = ( 0 ) or R11 >= 1) by NAT_1:14;
L298: R11 in ( NAT ) by ORDINAL1:def 12;
L299: (( Det D48 ) = ( 1_ ( F_Real ) ) or ( Det D48 ) = ( 1. ( F_Real ) )) by L298 , L297 , MATRIXR2:41 , MATRIX_7:16;
assume L300: (C41 = ( cos R3 ) & C42 = ( sin R3 ));
L301: ( ( ( cos R3 ) * ( cos R3 ) ) + ( ( sin R3 ) * ( sin R3 ) ) ) = ( ( C41 * C41 ) - ( C42 * ( - C42 ) ) ) by L300
.= ( Det D47 ) by MATRIX_9:13;
L302: (( cos R3 ) = ( ( cos ) . R3 ) & ( sin R3 ) = ( ( sin ) . R3 )) by SIN_COS:def 17 , SIN_COS:def 19;
thus L303: ( Det D49 ) = ( ( Det D47 ) * ( Det D48 ) ) by MATRIXJ1:52
.= ( 1. ( F_Real ) ) by L299 , L301 , L302 , SIN_COS:28;
end;
L304: (for R7 being Nat holds (for R8 being Nat holds (for R11 being Nat holds ((1 <= R7 & R7 < R8 & R8 <= R11) implies (ex B14 being (Permutation of ( Seg R11 )) st (( B14 . 1 ) = R7 & ( B14 . 2 ) = R8 & (for R9 being Nat holds ((R9 in ( Seg R11 ) & R9 > 2) implies ((R9 <= ( R7 + 1 ) implies ( B14 . R9 ) = ( R9 - 2 )) & ((( R7 + 1 ) < R9 & R9 <= R8) implies ( B14 . R9 ) = ( R9 - 1 )) & (R9 > R8 implies ( B14 . R9 ) = R9))))))))))
proof
let R7 being Nat;
let R8 being Nat;
let R11 being Nat;
assume that
L305: 1 <= R7
and
L306: R7 < R8
and
L307: R8 <= R11;
L308: R7 <= R11 by L306 , L307 , XXREAL_0:2;
L309: R7 in ( Seg R11 ) by L308 , L305 , FINSEQ_1:1;
L310: 1 <= R8 by L305 , L306 , XXREAL_0:2;
L311: R8 in ( Seg R11 ) by L310 , L307 , FINSEQ_1:1;
reconsider D50 = ( Seg R11 ) as non  empty (Subset of ( NAT )) by L305 , L306 , L307;
defpred S4[ Nat , Nat ] means (($1 = 1 implies $2 = R7) & ($1 = 2 implies $2 = R8) & ($1 > 2 implies (($1 <= ( R7 + 1 ) implies $2 = ( $1 - 2 )) & ((( R7 + 1 ) < $1 & $1 <= R8) implies $2 = ( $1 - 1 )) & ($1 > R8 implies $2 = $1))));
L312: ( R7 + 1 ) < ( R8 + 1 ) by L306 , XREAL_1:8;
L313: (for R9 being Nat holds (R9 in ( Seg R11 ) implies (ex B15 being (Element of D50) st S4[ R9 , B15 ])))
proof
let R9 being Nat;
assume L314: R9 in ( Seg R11 );
L315: R9 <= R11 by L314 , FINSEQ_1:1;
L316: R9 <> ( 0 ) by L314 , FINSEQ_1:1;
per cases  by L316 , NAT_1:26;
suppose L317: (R9 = 1 or R9 = 2);

thus L318: thesis by L317 , L309 , L311;
end;
suppose L319: (R9 > 2 & R9 <> 1 & R9 <> 2);

reconsider D51 = ( R9 - 2 ) as Nat by L319 , NAT_1:21;
L320: D51 > ( 2 - 2 ) by L319 , XREAL_1:8;
L321: D51 >= 1 by L320 , NAT_1:14;
L322: D51 <= ( R9 - ( 0 ) ) by XREAL_1:10;
per cases  by L314;
suppose L323: R9 <= ( R7 + 1 );

L324: R9 < ( R8 + 1 ) by L323 , L312 , XXREAL_0:2;
L325: R9 <= R8 by L324 , NAT_1:13;
L326: D51 <= R11 by L315 , L322 , XXREAL_0:2;
L327: D51 in D50 by L326 , L321 , FINSEQ_1:1;
thus L328: thesis by L327 , L319 , L323 , L325;
end;
suppose L329: (R9 > ( R7 + 1 ) & R9 <= R8);

set D52 = ( D51 + 1 );
L330: D52 <= ( D52 + 1 ) by NAT_1:11;
L331: D52 <= R11 by L330 , L315 , XXREAL_0:2;
L332: D52 >= 1 by NAT_1:11;
L333: D52 in D50 by L332 , L331;
thus L334: thesis by L333 , L319 , L329;
end;
suppose L335: (R9 > ( R7 + 1 ) & R9 > R8 & R9 in D50);

thus L336: thesis by L335 , L319;
end;
end;
end;
consider C43 being (FinSequence of D50) such that L339: (( len C43 ) = R11 & (for R9 being Nat holds (R9 in ( Seg R11 ) implies S4[ R9 , ( C43 /. R9 ) ]))) from FINSEQ_4:sch 1(L313);
L340: 1 < R8 by L305 , L306 , XXREAL_0:2;
L341: 1 <= R11 by L340 , L307 , XXREAL_0:2;
L342: 1 in D50 by L341;
L343: S4[ 1 , ( C43 /. 1 ) ] by L342 , L339;
L344: ( 1 + 1 ) <= R8 by L340 , NAT_1:13;
L345: 2 <= R11 by L344 , L307 , XXREAL_0:2;
L346: 2 in D50 by L345;
L347: S4[ 2 , ( C43 /. 2 ) ] by L346 , L339;
L348: ( dom C43 ) = D50 by L339 , FINSEQ_1:def 3;
L349: ( C43 /. 1 ) = ( C43 . 1 ) by L348 , L342 , PARTFUN1:def 6;
L350: ( rng C43 ) c= D50 by FINSEQ_1:def 4;
reconsider D53 = C43 as (Function of D50 , D50) by L350 , L348 , FUNCT_2:2;
L351: ( C43 /. 2 ) = ( C43 . 2 ) by L346 , L348 , PARTFUN1:def 6;
L352: D50 c= ( rng C43 )
proof
let C44 being set;
assume L353: C44 in D50;
reconsider D54 = C44 as Nat by L353;
set D55 = ( D54 + 1 );
set D56 = ( D55 + 1 );
L354: 1 <= D54 by L353 , FINSEQ_1:1;
per cases  by XXREAL_0:1;
suppose L355: D54 < R7;

L356: ( D54 + 2 ) > ( (( 0 ) qua Nat) + 2 ) by L354 , XREAL_1:8;
L357: D55 <= R7 by L355 , NAT_1:13;
L358: D55 < R8 by L357 , L306 , XXREAL_0:2;
L359: D56 <= R8 by L358 , NAT_1:13;
L360: (1 <= D56 & D56 <= R11) by L359 , L307 , NAT_1:11 , XXREAL_0:2;
L361: D56 in D50 by L360;
L362: S4[ D56 , ( C43 /. D56 ) ] by L361 , L339;
L363: ( C43 . D56 ) = D54 by L362 , L348 , L356 , L357 , L361 , PARTFUN1:def 6 , XREAL_1:6;
thus L364: thesis by L363 , L348 , L361 , FUNCT_1:def 3;
end;
suppose L365: D54 = R7;

thus L366: thesis by L365 , L342 , L343 , L348 , L349 , FUNCT_1:def 3;
end;
suppose L367: (D54 > R7 & D54 < R8);

L368: D54 > 1 by L367 , L305 , L354 , XXREAL_0:1;
L369: D54 >= ( 1 + 1 ) by L368 , NAT_1:13;
L370: D55 <= R8 by L367 , NAT_1:13;
L371: (1 <= D55 & D55 <= R11) by L370 , L307 , NAT_1:11 , XXREAL_0:2;
L372: D55 in D50 by L371;
L373: S4[ D55 , ( C43 /. D55 ) ] by L372 , L339;
L374: ( C43 . D55 ) = D54 by L373 , L348 , L367 , L369 , L372 , NAT_1:13 , PARTFUN1:def 6 , XREAL_1:8;
thus L375: thesis by L374 , L348 , L372 , FUNCT_1:def 3;
end;
suppose L376: D54 = R8;

thus L377: thesis by L376 , L346 , L347 , L348 , L351 , FUNCT_1:def 3;
end;
suppose L378: D54 > R8;

L379: R8 > 1 by L305 , L306 , XXREAL_0:2;
L380: R8 >= ( 1 + 1 ) by L379 , NAT_1:13;
L381: S4[ D54 , ( C43 /. D54 ) ] by L339 , L353;
L382: ( C43 . D54 ) = D54 by L381 , L348 , L378 , L380 , PARTFUN1:def 6 , XXREAL_0:2;
thus L383: thesis by L382 , L348 , L353 , FUNCT_1:def 3;
end;
end;
L385: ( rng D53 ) = D50 by L352 , L350 , XBOOLE_0:def 10;
L386: D53 is  onto by L385 , FUNCT_2:def 3;
L387: ( card D50 ) = ( card D50 );
L388: D53 is  one-to-one by L387 , L386 , STIRL2_1:60;
reconsider D57 = D53 as (Permutation of ( Seg R11 )) by L388 , L386;
take D57;
thus L389: (( D57 . 1 ) = R7 & ( D57 . 2 ) = R8) by L342 , L343 , L346 , L347 , L348 , PARTFUN1:def 6;
let R9 being Nat;
assume that
L390: R9 in ( Seg R11 )
and
L391: R9 > 2;
L392: ( C43 /. R9 ) = ( C43 . R9 ) by L348 , L390 , PARTFUN1:def 6;
thus L393: thesis by L392 , L339 , L390 , L391;
end;
L394: (for R3 being  real number holds (for R7 being Nat holds (for R8 being Nat holds (for R11 being Nat holds ((1 <= R7 & R7 < R8 & R8 <= R11) implies (ex B16 being (Matrix of R11 , ( F_Real )) st (( Det B16 ) = ( 1. ( F_Real ) ) & ( B16 * (R7 , R7) ) = ( cos R3 ) & ( B16 * (R8 , R8) ) = ( cos R3 ) & ( B16 * (R7 , R8) ) = ( sin R3 ) & ( B16 * (R8 , R7) ) = ( - ( sin R3 ) ) & (for R9 being Nat holds (for R10 being Nat holds ([ R9 , R10 ] in ( Indices B16 ) implies (((R9 = R10 & R9 <> R7 & R9 <> R8) implies ( B16 * (R9 , R9) ) = ( 1. ( F_Real ) )) & ((R9 <> R10 & { R9 , R10 } <> { R7 , R8 }) implies ( B16 * (R9 , R10) ) = ( 0. ( F_Real ) )))))))))))))
proof
let R3 being  real number;
let R7 being Nat;
let R8 being Nat;
let R11 being Nat;
L395:
now
let R9 being Nat;
assume that
L396: (R9 >= 1 & R9 <> 1)
and
L397: R9 <> 2;
L398: R9 > 1 by L396 , XXREAL_0:1;
L399: R9 >= ( 1 + 1 ) by L398 , NAT_1:13;
thus L400: R9 > 2 by L399 , L397 , XXREAL_0:1;
end;
reconsider D58 = ( sin R3 ) , D59 = ( cos R3 ) as (Element of ( F_Real )) by XREAL_0:def 1;
set D60 = ( Seg R11 );
assume that
L401: 1 <= R7
and
L402: R7 < R8
and
L403: R8 <= R11;
L404: 1 < R8 by L401 , L402 , XXREAL_0:2;
L405: ( 1 + 1 ) <= R8 by L404 , NAT_1:13;
reconsider D61 = ( R11 - 2 ) as Nat by L405 , L403 , NAT_1:21 , XXREAL_0:2;
consider C45 being (Permutation of D60) such that L406: ( C45 . 1 ) = R7 and L407: ( C45 . 2 ) = R8 and L408: (for R9 being Nat holds ((R9 in ( Seg R11 ) & R9 > 2) implies ((R9 <= ( R7 + 1 ) implies ( C45 . R9 ) = ( R9 - 2 )) & ((( R7 + 1 ) < R9 & R9 <= R8) implies ( C45 . R9 ) = ( R9 - 1 )) & (R9 > R8 implies ( C45 . R9 ) = R9)))) by L401 , L402 , L403 , L304;
reconsider D62 = C45 as  one-to-one Function;
L409: ( dom C45 ) = D60 by FUNCT_2:52;
L410: ( rng ( D62 " ) ) = D60 by L409 , FUNCT_1:33;
L411: ( rng C45 ) = D60 by FUNCT_2:def 3;
L412: ( dom ( D62 " ) ) = D60 by L411 , FUNCT_1:33;
reconsider D63 = ( D62 " ) as  one-to-one (Function of D60 , D60) by L412 , L410 , FUNCT_2:1;
L413: D63 is  onto by L410 , FUNCT_2:def 3;
reconsider D64 = D63 as (Permutation of D60) by L413;
L414: ( dom C45 ) = D60 by FUNCT_2:52;
L415: 1 <= R11 by L403 , L404 , XXREAL_0:2;
L416: 1 in D60 by L415;
L417: ( D64 . ( C45 . 1 ) ) = 1 by L416 , L414 , FUNCT_1:34;
set D65 = ( (D59 , D58) ][ (( - D58 ) , D59) );
set D66 = ( 1. (( F_Real ) , D61) );
set D67 = <* D65 , D66 *>;
set D68 = ( block_diagonal (D67 , ( 0. ( F_Real ) )) );
L418: ( len D65 ) = 2 by MATRIX_1:25;
L419: ( Len <* D65 *> ) = <* 2 *> by L418 , MATRIXJ1:15;
L420: ( Sum ( Len <* D65 *> ) ) = 2 by L419 , RVSUM_1:73;
L421: ( len D66 ) = D61 by MATRIX_1:25;
L422: ( Sum ( Len D67 ) ) = ( 2 + D61 ) by L421 , L418 , MATRIXJ1:16;
reconsider D69 = D68 as (Matrix of R11 , ( F_Real )) by L422;
L423: ( Indices D69 ) = [: D60 , D60 :] by MATRIX_1:24;
L424: 2 <= R11 by L403 , L405 , XXREAL_0:2;
L425: 2 in D60 by L424;
L426: ( D64 . ( C45 . 2 ) ) = 2 by L425 , L414 , FUNCT_1:34;
set D70 = ( ( ( ( D69 * D64 ) @ ) * D64 ) @ );
L427: ( dom D64 ) = D60 by FUNCT_2:52;
L428: R7 < R11 by L402 , L403 , XXREAL_0:2;
L429: R7 in D60 by L428 , L401 , FINSEQ_1:1;
L430: [ R7 , R7 ] in ( Indices D69 ) by L429 , L423 , ZFMISC_1:87;
L431: ( D70 * (R7 , R7) ) = ( D69 * (1 , 1) ) by L430 , L406 , L417 , L1;
take D70;
L432: ( Indices D70 ) = [: D60 , D60 :] by MATRIX_1:24;
L433: ( Det D69 ) = ( 1. ( F_Real ) ) by L422 , L296;
L434: ( block_diagonal (<* D65 *> , ( 0. ( F_Real ) )) ) = D65 by MATRIXJ1:34;
L435: ( width D65 ) = 2 by MATRIX_1:24;
L436: ( Width <* D65 *> ) = <* 2 *> by L435 , MATRIXJ1:19;
L437: ( Sum ( Width <* D65 *> ) ) = 2 by L436 , RVSUM_1:73;
L438: 1 < R8 by L401 , L402 , XXREAL_0:2;
L439: R8 in D60 by L438 , L403 , FINSEQ_1:1;
L440: [ R8 , R8 ] in ( Indices D69 ) by L439 , L423 , ZFMISC_1:87;
L441: ( D70 * (R8 , R8) ) = ( D69 * (2 , 2) ) by L440 , L407 , L426 , L1;
L442: ( block_diagonal (<* D66 *> , ( 0. ( F_Real ) )) ) = D66 by MATRIXJ1:34;
L443: [ 1 , 1 ] in ( Indices D65 ) by MATRIX_2:4;
L444: ( D69 * (1 , 1) ) = ( D65 * (1 , 1) ) by L443 , L434 , L442 , MATRIXJ1:26;
L445: [ 2 , 1 ] in ( Indices D65 ) by MATRIX_2:4;
L446: ( D69 * (2 , 1) ) = ( D65 * (2 , 1) ) by L445 , L434 , L442 , MATRIXJ1:26;
L447: [ 1 , 2 ] in ( Indices D65 ) by MATRIX_2:4;
L448: ( D69 * (1 , 2) ) = ( D65 * (1 , 2) ) by L447 , L434 , L442 , MATRIXJ1:26;
L449: [ 2 , 2 ] in ( Indices D65 ) by MATRIX_2:4;
L450: ( D69 * (2 , 2) ) = ( D65 * (2 , 2) ) by L449 , L434 , L442 , MATRIXJ1:26;
L451: ( <* D65 *> ^ <* D66 *> ) = D67;
L452: [ R7 , R8 ] in ( Indices D69 ) by L423 , L429 , L439 , ZFMISC_1:87;
L453: ( D70 * (R7 , R8) ) = ( D69 * (1 , 2) ) by L452 , L406 , L407 , L417 , L426 , L1;
L454: [ R8 , R7 ] in ( Indices D69 ) by L423 , L429 , L439 , ZFMISC_1:87;
L455: ( D70 * (R8 , R7) ) = ( D69 * (2 , 1) ) by L454 , L406 , L407 , L417 , L426 , L1;
thus L456: (( Det D70 ) = ( 1. ( F_Real ) ) & ( D70 * (R7 , R7) ) = ( cos R3 ) & ( D70 * (R8 , R8) ) = ( cos R3 ) & ( D70 * (R7 , R8) ) = ( sin R3 ) & ( D70 * (R8 , R7) ) = ( - ( sin R3 ) )) by L455 , L431 , L433 , L441 , L450 , L448 , L446 , L444 , L453 , L1 , MATRIX_2:6;
let R9 being Nat;
let R10 being Nat;
assume that
L457: [ R9 , R10 ] in ( Indices D70 );
L458: R9 in D60 by L432 , L457 , ZFMISC_1:87;
set D71 = ( D64 . R9 );
set D72 = ( D64 . R10 );
L459: ( rng D64 ) = D60 by FUNCT_2:def 3;
L460: D71 in D60 by L459 , L427 , L458 , FUNCT_1:def 3;
L461: D71 >= 1 by L460 , FINSEQ_1:1;
L462: R10 in D60 by L432 , L457 , ZFMISC_1:87;
L463: D72 in D60 by L462 , L427 , L459 , FUNCT_1:def 3;
L464: [ D71 , D72 ] in [: D60 , D60 :] by L463 , L460 , ZFMISC_1:87;
L465: ( D70 * (R9 , R10) ) = ( D69 * (D71 , D72) ) by L423 , L432 , L457 , L1;
thus L466: ((R9 = R10 & R9 <> R7 & R9 <> R8) implies ( D70 * (R9 , R9) ) = ( 1. ( F_Real ) ))
proof
assume that
L467: R9 = R10
and
L468: (R9 <> R7 & R9 <> R8);
L469: (D71 <> 1 & D71 <> 2) by L406 , L407 , L417 , L426 , L427 , L429 , L439 , L458 , L468 , FUNCT_1:def 4;
L470: D71 > 2 by L469 , L395 , L461;
reconsider D73 = ( D71 - 2 ) as Nat by L470 , NAT_1:21;
L471: (D71 = ( D73 + 2 ) & D73 > ( 2 - 2 )) by L470 , XREAL_1:8;
L472: [ D73 , D73 ] in ( Indices D66 ) by L471 , L420 , L423 , L437 , L442 , L464 , L467 , MATRIXJ1:27;
L473: ( D66 * (D73 , D73) ) = ( D69 * (( D73 + 2 ) , ( D73 + 2 )) ) by L472 , L420 , L437 , L442 , MATRIXJ1:28;
thus L474: thesis by L473 , L465 , L467 , L472 , MATRIX_1:def 11;
end;

L475: D72 >= 1 by L463 , FINSEQ_1:1;
thus L476: ((R9 <> R10 & { R9 , R10 } <> { R7 , R8 }) implies ( D70 * (R9 , R10) ) = ( 0. ( F_Real ) ))
proof
assume that
L477: R9 <> R10
and
L478: { R9 , R10 } <> { R7 , R8 };
L479: D71 <> D72 by L427 , L458 , L462 , L477 , FUNCT_1:def 4;
per cases  by L478;
suppose L480: (R9 <> R7 & R9 <> R8 & R10 <> R7 & R10 <> R8);

L481: (D71 <> 1 & D71 <> 2) by L480 , L406 , L407 , L417 , L426 , L427 , L429 , L439 , L458 , FUNCT_1:def 4;
L482: D71 > 2 by L481 , L395 , L461;
L483: (D72 <> 1 & D72 <> 2) by L406 , L407 , L417 , L426 , L427 , L429 , L439 , L462 , L480 , FUNCT_1:def 4;
L484: D72 > 2 by L483 , L395 , L475;
reconsider D74 = ( D71 - 2 ) , D75 = ( D72 - 2 ) as Nat by L484 , L482 , NAT_1:21;
L485: D74 > ( 2 - 2 ) by L482 , XREAL_1:8;
L486: (D71 = ( D74 + 2 ) & D72 = ( D75 + 2 ));
L487: D75 > ( 2 - 2 ) by L484 , XREAL_1:8;
L488: [ D74 , D75 ] in ( Indices D66 ) by L487 , L420 , L423 , L437 , L442 , L464 , L486 , L485 , MATRIXJ1:27;
L489: ( D66 * (D74 , D75) ) = ( D69 * (( D74 + 2 ) , ( D75 + 2 )) ) by L488 , L420 , L437 , L442 , MATRIXJ1:28;
thus L490: thesis by L489 , L465 , L479 , L488 , MATRIX_1:def 11;
end;
suppose L491: (R9 = R7 & R10 <> R8);

L492: D72 <> 2 by L491 , L407 , L426 , L427 , L439 , L462 , FUNCT_1:def 4;
L493: D72 > 2 by L492 , L395 , L406 , L417 , L475 , L479 , L491;
L494: D71 = 1 by L406 , L414 , L416 , L491 , FUNCT_1:34;
thus L495: thesis by L494 , L420 , L423 , L437 , L451 , L464 , L465 , L493 , MATRIXJ1:29;
end;
suppose L496: (R9 = R8 & R10 <> R7);

L497: D72 <> 1 by L496 , L406 , L417 , L427 , L429 , L462 , FUNCT_1:def 4;
L498: D72 > 2 by L497 , L395 , L407 , L426 , L475 , L479 , L496;
L499: D71 = 2 by L407 , L414 , L425 , L496 , FUNCT_1:34;
thus L500: thesis by L499 , L420 , L423 , L437 , L451 , L464 , L465 , L498 , MATRIXJ1:29;
end;
suppose L501: (R10 = R7 & R9 <> R8);

L502: D71 <> 2 by L501 , L407 , L426 , L427 , L439 , L458 , FUNCT_1:def 4;
L503: D71 > 2 by L502 , L395 , L406 , L417 , L461 , L479 , L501;
L504: D72 = 1 by L406 , L414 , L416 , L501 , FUNCT_1:34;
thus L505: thesis by L504 , L420 , L423 , L437 , L451 , L464 , L465 , L503 , MATRIXJ1:29;
end;
suppose L506: (R10 = R8 & R9 <> R7);

L507: D71 <> 1 by L506 , L406 , L417 , L427 , L429 , L458 , FUNCT_1:def 4;
L508: D71 > 2 by L507 , L395 , L407 , L426 , L461 , L479 , L506;
L509: D72 = 2 by L407 , L414 , L425 , L506 , FUNCT_1:34;
thus L510: thesis by L509 , L420 , L423 , L437 , L451 , L464 , L465 , L508 , MATRIXJ1:29;
end;
end;

end;
begin
definition
let R11 being Nat;
let R3 being  real number;
let R7 being Nat;
let R8 being Nat;
assume that
L477: (1 <= R7 & R7 < R8 & R8 <= R11);
func Rotation (R7 , R8 , R11 , R3) ->  invertible (Matrix of R11 , ( F_Real )) means 
:L478: (( it * (R7 , R7) ) = ( cos R3 ) & ( it * (R8 , R8) ) = ( cos R3 ) & ( it * (R7 , R8) ) = ( sin R3 ) & ( it * (R8 , R7) ) = ( - ( sin R3 ) ) & (for R9 being Nat holds (for R10 being Nat holds ([ R9 , R10 ] in ( Indices it ) implies (((R9 = R10 & R9 <> R7 & R9 <> R8) implies ( it * (R9 , R9) ) = ( 1. ( F_Real ) )) & ((R9 <> R10 & { R9 , R10 } <> { R7 , R8 }) implies ( it * (R9 , R10) ) = ( 0. ( F_Real ) )))))));
existence
proof
consider C46 being (Matrix of R11 , ( F_Real )) such that L479: ( Det C46 ) = ( 1. ( F_Real ) ) and L480: (( C46 * (R7 , R7) ) = ( cos R3 ) & ( C46 * (R8 , R8) ) = ( cos R3 ) & ( C46 * (R7 , R8) ) = ( sin R3 ) & ( C46 * (R8 , R7) ) = ( - ( sin R3 ) ) & (for R9 being Nat holds (for R10 being Nat holds ([ R9 , R10 ] in ( Indices C46 ) implies (((R9 = R10 & R9 <> R7 & R9 <> R8) implies ( C46 * (R9 , R9) ) = ( 1. ( F_Real ) )) & ((R9 <> R10 & { R9 , R10 } <> { R7 , R8 }) implies ( C46 * (R9 , R10) ) = ( 0. ( F_Real ) ))))))) by L477 , L394;
L481: ( Det C46 ) <> ( 0. ( F_Real ) ) by L479;
L482: C46 is  invertible by L481 , LAPLACE:34;
thus L483: thesis by L482 , L480;
end;
uniqueness
proof
let C47 , C48 being  invertible (Matrix of R11 , ( F_Real ));
assume that
L484: (( C47 * (R7 , R7) ) = ( cos R3 ) & ( C47 * (R8 , R8) ) = ( cos R3 ) & ( C47 * (R7 , R8) ) = ( sin R3 ) & ( C47 * (R8 , R7) ) = ( - ( sin R3 ) ))
and
L485: (for R9 being Nat holds (for R10 being Nat holds ([ R9 , R10 ] in ( Indices C47 ) implies (((R9 = R10 & R9 <> R7 & R9 <> R8) implies ( C47 * (R9 , R9) ) = ( 1. ( F_Real ) )) & ((R9 <> R10 & { R9 , R10 } <> { R7 , R8 }) implies ( C47 * (R9 , R10) ) = ( 0. ( F_Real ) ))))))
and
L486: (( C48 * (R7 , R7) ) = ( cos R3 ) & ( C48 * (R8 , R8) ) = ( cos R3 ) & ( C48 * (R7 , R8) ) = ( sin R3 ) & ( C48 * (R8 , R7) ) = ( - ( sin R3 ) ))
and
L487: (for R9 being Nat holds (for R10 being Nat holds ([ R9 , R10 ] in ( Indices C48 ) implies (((R9 = R10 & R9 <> R7 & R9 <> R8) implies ( C48 * (R9 , R9) ) = ( 1. ( F_Real ) )) & ((R9 <> R10 & { R9 , R10 } <> { R7 , R8 }) implies ( C48 * (R9 , R10) ) = ( 0. ( F_Real ) ))))));
L488: (for R9 being Nat holds (for R10 being Nat holds ([ R9 , R10 ] in ( Indices C47 ) implies ( C47 * (R9 , R10) ) = ( C48 * (R9 , R10) ))))
proof
let R9 being Nat;
let R10 being Nat;
assume L489: [ R9 , R10 ] in ( Indices C47 );
L490: [ R9 , R10 ] in ( Indices C48 ) by L489 , MATRIX_1:26;
per cases ;
suppose L491: ((R9 = R10 & (R9 = R7 or R9 = R8)) or (R9 <> R10 & ((R9 = R7 & R10 = R8) or (R9 = R8 & R10 = R7))));

thus L492: thesis by L491 , L484 , L486;
end;
suppose L493: (R9 = R10 & R9 <> R7 & R9 <> R8);

L494: ( C47 * (R9 , R10) ) = ( 1. ( F_Real ) ) by L493 , L485 , L489;
thus L495: thesis by L494 , L487 , L490 , L493;
end;
suppose L496: (R9 <> R10 & ((R9 = R7 & R10 <> R8) or (R9 = R8 & R10 <> R7) or (R10 = R7 & R9 <> R8) or (R10 = R8 & R9 <> R7) or (R9 <> R7 & R9 <> R8 & R10 <> R7 & R10 <> R8)));

L497: { R9 , R10 } <> { R7 , R8 } by L496 , ZFMISC_1:6;
L498: ( C47 * (R9 , R10) ) = ( 0. ( F_Real ) ) by L497 , L485 , L489 , L496;
thus L499: thesis by L498 , L487 , L490 , L496 , L497;
end;
end;
thus L501: thesis by L488 , MATRIX_1:27;
end;
end;
theorem
L503: (for R3 being  real number holds (for R7 being Nat holds (for R8 being Nat holds (for R11 being Nat holds ((1 <= R7 & R7 < R8 & R8 <= R11) implies ( Det ( Rotation (R7 , R8 , R11 , R3) ) ) = ( 1. ( F_Real ) ))))))
proof
let R3 being  real number;
let R7 being Nat;
let R8 being Nat;
let R11 being Nat;
assume L504: (1 <= R7 & R7 < R8 & R8 <= R11);
consider C49 being (Matrix of R11 , ( F_Real )) such that L505: ( Det C49 ) = ( 1. ( F_Real ) ) and L506: (( C49 * (R7 , R7) ) = ( cos R3 ) & ( C49 * (R8 , R8) ) = ( cos R3 ) & ( C49 * (R7 , R8) ) = ( sin R3 ) & ( C49 * (R8 , R7) ) = ( - ( sin R3 ) ) & (for R9 being Nat holds (for R10 being Nat holds ([ R9 , R10 ] in ( Indices C49 ) implies (((R9 = R10 & R9 <> R7 & R9 <> R8) implies ( C49 * (R9 , R9) ) = ( 1. ( F_Real ) )) & ((R9 <> R10 & { R9 , R10 } <> { R7 , R8 }) implies ( C49 * (R9 , R10) ) = ( 0. ( F_Real ) ))))))) by L504 , L394;
L507: ( Det C49 ) <> ( 0. ( F_Real ) ) by L505;
L508: C49 is  invertible by L507 , LAPLACE:34;
thus L509: thesis by L508 , L504 , L505 , L506 , L478;
end;
theorem
L510: (for R3 being  real number holds (for R7 being Nat holds (for R8 being Nat holds (for R9 being Nat holds (for R11 being Nat holds (for R12 being (Point of ( TOP-REAL R11 )) holds ((1 <= R7 & R7 < R8 & R8 <= R11 & R9 in ( Seg R11 ) & R9 <> R7 & R9 <> R8) implies ( ( @ R12 ) "*" ( Col (( Rotation (R7 , R8 , R11 , R3) ) , R9) ) ) = ( R12 . R9 ))))))))
proof
let R3 being  real number;
let R7 being Nat;
let R8 being Nat;
let R9 being Nat;
let R11 being Nat;
let R12 being (Point of ( TOP-REAL R11 ));
set D76 = ( Seg R11 );
assume that
L511: (1 <= R7 & R7 < R8 & R8 <= R11)
and
L512: R9 in ( Seg R11 )
and
L513: (R9 <> R7 & R9 <> R8);
set D77 = ( Rotation (R7 , R8 , R11 , R3) );
set D78 = ( Col (D77 , R9) );
L514: ( Indices D77 ) = [: D76 , D76 :] by MATRIX_1:24;
L515: [ R9 , R9 ] in ( Indices D77 ) by L514 , L512 , ZFMISC_1:87;
L516: ( len D77 ) = R11 by MATRIX_1:25;
L517: ( dom D77 ) = D76 by L516 , FINSEQ_1:def 3;
L518: ( len D78 ) = R11 by L516 , MATRIX_1:def 8;
L519: ( dom D78 ) = D76 by L518 , FINSEQ_1:def 3;
L520:
now
let R10 being Nat;
assume that
L521: R10 in ( dom D78 )
and
L522: R10 <> R9;
L523: [ R10 , R9 ] in ( Indices D77 ) by L512 , L514 , L519 , L521 , ZFMISC_1:87;
L524: (not R9 in { R7 , R8 }) by L513 , TARSKI:def 2;
L525: { R10 , R9 } <> { R7 , R8 } by L524 , TARSKI:def 2;
thus L526: ( D78 . R10 ) = ( D77 * (R10 , R9) ) by L517 , L519 , L521 , MATRIX_1:def 8
.= ( 0. ( F_Real ) ) by L511 , L522 , L523 , L525 , L478;
end;
L527: ( len R12 ) = R11 by CARD_1:def 7;
L528: ( dom R12 ) = D76 by L527 , FINSEQ_1:def 3;
L529: ( D78 . R9 ) = ( D77 * (R9 , R9) ) by L512 , L517 , MATRIX_1:def 8
.= ( 1. ( F_Real ) ) by L511 , L513 , L515 , L478;
thus L530: ( R12 . R9 ) = ( Sum ( mlt (D78 , ( @ R12 )) ) ) by L529 , L512 , L519 , L520 , L528 , MATRIX_3:17
.= ( ( @ R12 ) "*" D78 ) by FVSUM_1:64;
end;
theorem
L531: (for R3 being  real number holds (for R7 being Nat holds (for R8 being Nat holds (for R11 being Nat holds (for R12 being (Point of ( TOP-REAL R11 )) holds ((1 <= R7 & R7 < R8 & R8 <= R11) implies ( ( @ R12 ) "*" ( Col (( Rotation (R7 , R8 , R11 , R3) ) , R7) ) ) = ( ( ( R12 . R7 ) * ( cos R3 ) ) + ( ( R12 . R8 ) * ( - ( sin R3 ) ) ) )))))))
proof
let R3 being  real number;
let R7 being Nat;
let R8 being Nat;
let R11 being Nat;
let R12 being (Point of ( TOP-REAL R11 ));
assume that
L532: 1 <= R7
and
L533: R7 < R8
and
L534: R8 <= R11;
set D79 = ( Rotation (R7 , R8 , R11 , R3) );
set D80 = ( Col (D79 , R7) );
set D81 = ( Seg R11 );
L535: 1 <= R8 by L532 , L533 , XXREAL_0:2;
L536: R8 in D81 by L535 , L534 , FINSEQ_1:1;
L537: ( len D79 ) = R11 by MATRIX_1:25;
L538: ( dom D79 ) = D81 by L537 , FINSEQ_1:def 3;
L539: ( D80 . R8 ) = ( D79 * (R8 , R7) ) by L538 , L536 , MATRIX_1:def 8;
L540: R7 <= R11 by L533 , L534 , XXREAL_0:2;
L541: R7 in D81 by L540 , L532 , FINSEQ_1:1;
L542: ( D80 . R7 ) = ( D79 * (R7 , R7) ) by L541 , L538 , MATRIX_1:def 8;
L543: (( len R12 ) = R11 & ( len D80 ) = R11) by L537 , CARD_1:def 7;
L544: ( len ( mlt (( @ R12 ) , D80) ) ) = R11 by L543 , MATRIX_3:6;
L545: ( dom ( mlt (( @ R12 ) , D80) ) ) = D81 by L544 , FINSEQ_1:def 3;
L546: ( Indices D79 ) = [: D81 , D81 :] by MATRIX_1:24;
L547: (for R9 being Nat holds ((R9 in ( dom ( mlt (( @ R12 ) , D80) ) ) & R9 <> R7 & R9 <> R8) implies ( ( mlt (( @ R12 ) , D80) ) . R9 ) = ( 0. ( F_Real ) )))
proof
let R9 being Nat;
assume that
L548: R9 in ( dom ( mlt (( @ R12 ) , D80) ) )
and
L549: R9 <> R7
and
L550: R9 <> R8;
L551: (not R9 in { R7 , R8 }) by L549 , L550 , TARSKI:def 2;
L552: { R9 , R7 } <> { R7 , R8 } by L551 , TARSKI:def 2;
reconsider D82 = ( ( @ R12 ) . R9 ) as (Element of ( F_Real ));
L553: [ R9 , R7 ] in ( Indices D79 ) by L541 , L545 , L546 , L548 , ZFMISC_1:87;
L554: ( D80 . R9 ) = ( D79 * (R9 , R7) ) by L538 , L545 , L548 , MATRIX_1:def 8;
thus L555: ( ( mlt (( @ R12 ) , D80) ) . R9 ) = ( D82 * ( D79 * (R9 , R7) ) ) by L554 , L548 , FVSUM_1:60
.= ( D82 * ( 0. ( F_Real ) ) ) by L532 , L533 , L534 , L549 , L552 , L553 , L478
.= ( 0. ( F_Real ) );
end;
L556: ( Sum ( mlt (( @ R12 ) , D80) ) ) = ( ( ( mlt (( @ R12 ) , D80) ) /. R7 ) + ( ( mlt (( @ R12 ) , D80) ) /. R8 ) ) by L547 , L533 , L536 , L541 , L545 , MATRIX15:7;
L557: R7 in ( dom ( mlt (( @ R12 ) , D80) ) ) by L541 , L544 , FINSEQ_1:def 3;
reconsider D83 = ( ( @ R12 ) . R7 ) , D84 = ( ( @ R12 ) . R8 ) as (Element of ( F_Real ));
L558: ( ( mlt (( @ R12 ) , D80) ) /. R7 ) = ( ( mlt (( @ R12 ) , D80) ) . R7 ) by L541 , L545 , PARTFUN1:def 6
.= ( D83 * ( D79 * (R7 , R7) ) ) by L542 , L557 , FVSUM_1:60
.= ( ( R12 . R7 ) * ( cos R3 ) ) by L532 , L533 , L534 , L478;
L559: ( ( mlt (( @ R12 ) , D80) ) /. R8 ) = ( ( mlt (( @ R12 ) , D80) ) . R8 ) by L536 , L545 , PARTFUN1:def 6
.= ( D84 * ( D79 * (R8 , R7) ) ) by L536 , L539 , L545 , FVSUM_1:60
.= ( ( R12 . R8 ) * ( - ( sin R3 ) ) ) by L532 , L533 , L534 , L478;
thus L560: thesis by L559 , L556 , L558;
end;
theorem
L561: (for R3 being  real number holds (for R7 being Nat holds (for R8 being Nat holds (for R11 being Nat holds (for R12 being (Point of ( TOP-REAL R11 )) holds ((1 <= R7 & R7 < R8 & R8 <= R11) implies ( ( @ R12 ) "*" ( Col (( Rotation (R7 , R8 , R11 , R3) ) , R8) ) ) = ( ( ( R12 . R7 ) * ( sin R3 ) ) + ( ( R12 . R8 ) * ( cos R3 ) ) )))))))
proof
let R3 being  real number;
let R7 being Nat;
let R8 being Nat;
let R11 being Nat;
let R12 being (Point of ( TOP-REAL R11 ));
assume that
L562: 1 <= R7
and
L563: R7 < R8
and
L564: R8 <= R11;
set D85 = ( Rotation (R7 , R8 , R11 , R3) );
set D86 = ( Col (D85 , R8) );
set D87 = ( Seg R11 );
L565: 1 <= R8 by L562 , L563 , XXREAL_0:2;
L566: R8 in D87 by L565 , L564 , FINSEQ_1:1;
L567: ( len D85 ) = R11 by MATRIX_1:25;
L568: ( dom D85 ) = D87 by L567 , FINSEQ_1:def 3;
L569: ( D86 . R8 ) = ( D85 * (R8 , R8) ) by L568 , L566 , MATRIX_1:def 8;
L570: R7 <= R11 by L563 , L564 , XXREAL_0:2;
L571: R7 in D87 by L570 , L562 , FINSEQ_1:1;
L572: ( D86 . R7 ) = ( D85 * (R7 , R8) ) by L571 , L568 , MATRIX_1:def 8;
L573: (( len R12 ) = R11 & ( len D86 ) = R11) by L567 , CARD_1:def 7;
L574: ( len ( mlt (( @ R12 ) , D86) ) ) = R11 by L573 , MATRIX_3:6;
L575: ( dom ( mlt (( @ R12 ) , D86) ) ) = D87 by L574 , FINSEQ_1:def 3;
L576: R7 in ( dom ( mlt (( @ R12 ) , D86) ) ) by L575 , L562 , L570 , FINSEQ_1:1;
L577: ( Indices D85 ) = [: D87 , D87 :] by MATRIX_1:24;
L578: (for R9 being Nat holds ((R9 in ( dom ( mlt (( @ R12 ) , D86) ) ) & R9 <> R7 & R9 <> R8) implies ( ( mlt (( @ R12 ) , D86) ) . R9 ) = ( 0. ( F_Real ) )))
proof
let R9 being Nat;
assume that
L579: R9 in ( dom ( mlt (( @ R12 ) , D86) ) )
and
L580: R9 <> R7
and
L581: R9 <> R8;
L582: (not R9 in { R7 , R8 }) by L580 , L581 , TARSKI:def 2;
L583: { R9 , R8 } <> { R7 , R8 } by L582 , TARSKI:def 2;
reconsider D88 = ( ( @ R12 ) . R9 ) as (Element of ( F_Real ));
L584: [ R9 , R8 ] in ( Indices D85 ) by L566 , L575 , L577 , L579 , ZFMISC_1:87;
L585: ( D86 . R9 ) = ( D85 * (R9 , R8) ) by L568 , L575 , L579 , MATRIX_1:def 8;
thus L586: ( ( mlt (( @ R12 ) , D86) ) . R9 ) = ( D88 * ( D85 * (R9 , R8) ) ) by L585 , L579 , FVSUM_1:60
.= ( D88 * ( 0. ( F_Real ) ) ) by L562 , L563 , L564 , L581 , L583 , L584 , L478
.= ( 0. ( F_Real ) );
end;
L587: ( Sum ( mlt (( @ R12 ) , D86) ) ) = ( ( ( mlt (( @ R12 ) , D86) ) /. R7 ) + ( ( mlt (( @ R12 ) , D86) ) /. R8 ) ) by L578 , L563 , L566 , L571 , L575 , MATRIX15:7;
reconsider D89 = ( ( @ R12 ) . R7 ) , D90 = ( ( @ R12 ) . R8 ) as (Element of ( F_Real ));
L588: ( ( mlt (( @ R12 ) , D86) ) /. R7 ) = ( ( mlt (( @ R12 ) , D86) ) . R7 ) by L571 , L575 , PARTFUN1:def 6
.= ( D89 * ( D85 * (R7 , R8) ) ) by L572 , L576 , FVSUM_1:60
.= ( ( R12 . R7 ) * ( sin R3 ) ) by L562 , L563 , L564 , L478;
L589: ( ( mlt (( @ R12 ) , D86) ) /. R8 ) = ( ( mlt (( @ R12 ) , D86) ) . R8 ) by L566 , L575 , PARTFUN1:def 6
.= ( D90 * ( D85 * (R8 , R8) ) ) by L566 , L569 , L575 , FVSUM_1:60
.= ( ( R12 . R8 ) * ( cos R3 ) ) by L562 , L563 , L564 , L478;
thus L590: thesis by L589 , L587 , L588;
end;
theorem
L591: (for R4 being  real number holds (for R5 being  real number holds (for R7 being Nat holds (for R8 being Nat holds (for R11 being Nat holds ((1 <= R7 & R7 < R8 & R8 <= R11) implies ( ( Rotation (R7 , R8 , R11 , R4) ) * ( Rotation (R7 , R8 , R11 , R5) ) ) = ( Rotation (R7 , R8 , R11 , ( R4 + R5 )) )))))))
proof
let R4 being  real number;
let R5 being  real number;
let R7 being Nat;
let R8 being Nat;
let R11 being Nat;
assume that
L592: 1 <= R7
and
L593: R7 < R8
and
L594: R8 <= R11;
set D91 = ( Seg R11 );
L595: 1 <= R8 by L592 , L593 , XXREAL_0:2;
L596: R8 in D91 by L595 , L594 , FINSEQ_1:1;
set D92 = ( Rotation (R7 , R8 , R11 , R4) );
set D93 = ( Rotation (R7 , R8 , R11 , R5) );
set D94 = ( Rotation (R7 , R8 , R11 , ( R4 + R5 )) );
set D95 = ( D92 * D93 );
L597: ( width D92 ) = R11 by MATRIX_1:24;
L598: R7 <= R11 by L593 , L594 , XXREAL_0:2;
L599: R7 in D91 by L598 , L592 , FINSEQ_1:1;
L600: ( Indices D92 ) = [: D91 , D91 :] by MATRIX_1:24;
L601: ( Indices D95 ) = [: D91 , D91 :] by MATRIX_1:24;
L602: ( Indices D94 ) = [: D91 , D91 :] by MATRIX_1:24;
L603: ( len D93 ) = R11 by MATRIX_1:25;
L604: (for R9 being Nat holds (for R10 being Nat holds ([ R9 , R10 ] in ( Indices D95 ) implies ( D95 * (R9 , R10) ) = ( D94 * (R9 , R10) ))))
proof
let R9 being Nat;
let R10 being Nat;
assume L605: [ R9 , R10 ] in ( Indices D95 );
L606: R9 in D91 by L605 , L601 , ZFMISC_1:87;
L607: ( D95 * (R9 , R10) ) = ( ( Line (D92 , R9) ) "*" ( Col (D93 , R10) ) ) by L597 , L603 , L605 , MATRIX_3:def 4;
L608: ( len ( @ ( Line (D92 , R9) ) ) ) = R11 by L597 , CARD_1:def 7;
reconsider D96 = ( @ ( Line (D92 , R9) ) ) as (Element of ( TOP-REAL R11 )) by L608 , TOPREAL3:46;
L609: R10 in D91 by L601 , L605 , ZFMISC_1:87;
L610: ( D96 . R10 ) = ( D92 * (R9 , R10) ) by L609 , L597 , MATRIX_1:def 7;
L611: ( @ D96 ) = ( Line (D92 , R9) );
L612: ( D96 . R7 ) = ( D92 * (R9 , R7) ) by L597 , L599 , MATRIX_1:def 7;
L613: ( D96 . R8 ) = ( D92 * (R9 , R8) ) by L596 , L597 , MATRIX_1:def 7;
per cases ;
suppose L614: R10 = R7;

L615: ( ( Line (D92 , R9) ) "*" ( Col (D93 , R10) ) ) = ( ( ( D96 . R7 ) * ( cos R5 ) ) + ( ( D96 . R8 ) * ( - ( sin R5 ) ) ) ) by L614 , L592 , L593 , L594 , L611 , L531;
per cases ;
suppose L616: R9 = R7;

thus L617: ( D95 * (R9 , R10) ) = ( ( ( cos R4 ) * ( cos R5 ) ) + ( ( D96 . R8 ) * ( - ( sin R5 ) ) ) ) by L616 , L592 , L593 , L594 , L607 , L612 , L615 , L478
.= ( ( ( cos R4 ) * ( cos R5 ) ) + ( ( sin R4 ) * ( - ( sin R5 ) ) ) ) by L592 , L593 , L594 , L613 , L616 , L478
.= ( ( ( cos R4 ) * ( cos R5 ) ) - ( ( sin R4 ) * ( sin R5 ) ) )
.= ( cos ( R4 + R5 ) ) by SIN_COS:75
.= ( D94 * (R9 , R10) ) by L592 , L593 , L594 , L614 , L616 , L478;
end;
suppose L618: R9 = R8;

thus L619: ( D95 * (R9 , R10) ) = ( ( ( - ( sin R4 ) ) * ( cos R5 ) ) + ( ( D96 . R8 ) * ( - ( sin R5 ) ) ) ) by L618 , L592 , L593 , L594 , L607 , L612 , L615 , L478
.= ( ( ( - ( sin R4 ) ) * ( cos R5 ) ) + ( ( cos R4 ) * ( - ( sin R5 ) ) ) ) by L592 , L593 , L594 , L613 , L618 , L478
.= ( - ( ( ( sin R4 ) * ( cos R5 ) ) + ( ( cos R4 ) * ( sin R5 ) ) ) )
.= ( - ( sin ( R4 + R5 ) ) ) by SIN_COS:75
.= ( D94 * (R9 , R10) ) by L592 , L593 , L594 , L614 , L618 , L478;
end;
suppose L620: (R9 <> R8 & R9 <> R7);

L621: (not R9 in { R7 , R8 }) by L620 , TARSKI:def 2;
L622: ({ R9 , R7 } <> { R7 , R8 } & { R9 , R8 } <> { R7 , R8 }) by L621 , TARSKI:def 2;
L623: [ R9 , R8 ] in [: D91 , D91 :] by L596 , L606 , ZFMISC_1:87;
L624: [ R9 , R7 ] in [: D91 , D91 :] by L599 , L606 , ZFMISC_1:87;
L625: ( D92 * (R9 , R7) ) = ( 0. ( F_Real ) ) by L624 , L592 , L593 , L594 , L600 , L622 , L478;
thus L626: ( D95 * (R9 , R10) ) = ( ( ( 0 ) * ( cos R5 ) ) + ( ( 0 ) * ( - ( sin R5 ) ) ) ) by L625 , L592 , L593 , L594 , L600 , L607 , L612 , L613 , L615 , L622 , L623 , L478
.= ( D94 * (R9 , R10) ) by L592 , L593 , L594 , L602 , L614 , L622 , L624 , L478;
end;
end;
suppose L628: R10 = R8;

L629: ( ( Line (D92 , R9) ) "*" ( Col (D93 , R10) ) ) = ( ( ( D96 . R7 ) * ( sin R5 ) ) + ( ( D96 . R8 ) * ( cos R5 ) ) ) by L628 , L592 , L593 , L594 , L611 , L561;
per cases ;
suppose L630: R9 = R7;

thus L631: ( D95 * (R9 , R10) ) = ( ( ( cos R4 ) * ( sin R5 ) ) + ( ( D96 . R8 ) * ( cos R5 ) ) ) by L630 , L592 , L593 , L594 , L607 , L612 , L629 , L478
.= ( ( ( cos R4 ) * ( sin R5 ) ) + ( ( sin R4 ) * ( cos R5 ) ) ) by L592 , L593 , L594 , L613 , L630 , L478
.= ( sin ( R4 + R5 ) ) by SIN_COS:75
.= ( D94 * (R9 , R10) ) by L592 , L593 , L594 , L628 , L630 , L478;
end;
suppose L632: R9 = R8;

thus L633: ( D95 * (R9 , R10) ) = ( ( ( - ( sin R4 ) ) * ( sin R5 ) ) + ( ( D96 . R8 ) * ( cos R5 ) ) ) by L632 , L592 , L593 , L594 , L607 , L612 , L629 , L478
.= ( ( ( cos R4 ) * ( cos R5 ) ) - ( ( sin R4 ) * ( sin R5 ) ) ) by L592 , L593 , L594 , L613 , L632 , L478
.= ( cos ( R4 + R5 ) ) by SIN_COS:75
.= ( D94 * (R9 , R10) ) by L592 , L593 , L594 , L628 , L632 , L478;
end;
suppose L634: (R9 <> R8 & R9 <> R7);

L635: (not R9 in { R7 , R8 }) by L634 , TARSKI:def 2;
L636: ({ R9 , R7 } <> { R7 , R8 } & { R9 , R8 } <> { R7 , R8 }) by L635 , TARSKI:def 2;
L637: [ R9 , R8 ] in [: D91 , D91 :] by L596 , L606 , ZFMISC_1:87;
L638: [ R9 , R7 ] in [: D91 , D91 :] by L599 , L606 , ZFMISC_1:87;
L639: ( D92 * (R9 , R7) ) = ( 0. ( F_Real ) ) by L638 , L592 , L593 , L594 , L600 , L636 , L478;
thus L640: ( D95 * (R9 , R10) ) = ( ( ( 0 ) * ( sin R5 ) ) + ( ( 0 ) * ( cos R5 ) ) ) by L639 , L592 , L593 , L594 , L600 , L607 , L612 , L613 , L629 , L636 , L637 , L478
.= ( D94 * (R9 , R10) ) by L592 , L593 , L594 , L602 , L628 , L636 , L637 , L478;
end;
end;
suppose L642: (R10 <> R7 & R10 <> R8);

L643: ( D95 * (R9 , R10) ) = ( D96 . R10 ) by L642 , L592 , L593 , L594 , L607 , L609 , L611 , L510;
L644: [ R9 , R10 ] in [: D91 , D91 :] by L605 , MATRIX_1:24;
per cases ;
suppose L645: R9 = R10;

L646: ( D92 * (R9 , R10) ) = ( 1. ( F_Real ) ) by L645 , L592 , L593 , L594 , L600 , L601 , L605 , L642 , L478;
thus L647: thesis by L646 , L592 , L593 , L594 , L602 , L610 , L642 , L643 , L644 , L645 , L478;
end;
suppose L648: R9 <> R10;

L649: (not R10 in { R7 , R8 }) by L642 , TARSKI:def 2;
L650: { R9 , R10 } <> { R7 , R8 } by L649 , TARSKI:def 2;
L651: ( D92 * (R9 , R10) ) = ( 0. ( F_Real ) ) by L650 , L592 , L593 , L594 , L600 , L601 , L605 , L648 , L478;
thus L652: thesis by L651 , L592 , L593 , L594 , L602 , L610 , L643 , L644 , L648 , L650 , L478;
end;
end;
end;
thus L655: thesis by L604 , MATRIX_1:27;
end;
L656: (for R3 being  real number holds (for R7 being Nat holds (for R8 being Nat holds (for R11 being Nat holds ((1 <= R7 & R7 < R8 & R8 <= R11) implies ( ( Rotation (R7 , R8 , R11 , R3) ) @ ) = ( Rotation (R7 , R8 , R11 , ( - R3 )) ))))))
proof
let R3 being  real number;
let R7 being Nat;
let R8 being Nat;
let R11 being Nat;
set D97 = ( Rotation (R7 , R8 , R11 , R3) );
set D98 = ( Rotation (R7 , R8 , R11 , ( - R3 )) );
set D99 = ( Seg R11 );
assume L657: (1 <= R7 & R7 < R8 & R8 <= R11);
L658: ( Indices D98 ) = [: D99 , D99 :] by MATRIX_1:24;
L659: ( Indices D97 ) = [: D99 , D99 :] by MATRIX_1:24;
L660: ( Indices ( D97 @ ) ) = [: D99 , D99 :] by MATRIX_1:24;
L661: (for R9 being Nat holds (for R10 being Nat holds ([ R9 , R10 ] in [: D99 , D99 :] implies ( ( D97 @ ) * (R9 , R10) ) = ( D98 * (R9 , R10) ))))
proof
L662: ( cos R3 ) = ( cos ( - R3 ) ) by SIN_COS:31;
let R9 being Nat;
let R10 being Nat;
L663: ( - ( sin R3 ) ) = ( sin ( - R3 ) ) by SIN_COS:31;
assume L664: [ R9 , R10 ] in [: D99 , D99 :];
L665: [ R10 , R9 ] in [: D99 , D99 :] by L664 , L659 , L660 , MATRIX_1:def 6;
L666: ( ( D97 @ ) * (R9 , R10) ) = ( D97 * (R10 , R9) ) by L665 , L659 , MATRIX_1:def 6;
per cases ;
suppose L667: (R9 = R10 & R9 = R7);

L668: ( D97 * (R10 , R9) ) = ( cos R3 ) by L667 , L657 , L478;
thus L669: thesis by L668 , L657 , L662 , L666 , L667 , L478;
end;
suppose L670: (R9 = R10 & R9 = R8);

L671: ( D97 * (R10 , R9) ) = ( cos R3 ) by L670 , L657 , L478;
thus L672: thesis by L671 , L657 , L662 , L666 , L670 , L478;
end;
suppose L673: (R9 = R10 & R9 <> R7 & R9 <> R8);

L674: ( D97 * (R10 , R9) ) = ( 1. ( F_Real ) ) by L673 , L657 , L659 , L664 , L478;
thus L675: thesis by L674 , L657 , L658 , L664 , L666 , L673 , L478;
end;
suppose L676: (R9 <> R10 & R9 = R7 & R10 = R8);

L677: ( D97 * (R10 , R9) ) = ( - ( sin R3 ) ) by L676 , L657 , L478;
thus L678: thesis by L677 , L657 , L663 , L666 , L676 , L478;
end;
suppose L679: (R9 <> R10 & R9 = R7 & R10 <> R8);

L680: (not R10 in { R7 , R8 }) by L679 , TARSKI:def 2;
L681: { R10 , R9 } <> { R7 , R8 } by L680 , TARSKI:def 2;
L682: ( D97 * (R10 , R9) ) = ( 0. ( F_Real ) ) by L681 , L657 , L659 , L665 , L679 , L478;
thus L683: thesis by L682 , L657 , L658 , L664 , L666 , L679 , L681 , L478;
end;
suppose L684: (R9 <> R10 & R9 = R8 & R10 = R7);

L685: ( D98 * (R9 , R10) ) = ( - ( sin ( - R3 ) ) ) by L684 , L657 , L478;
thus L686: thesis by L685 , L657 , L663 , L666 , L684 , L478;
end;
suppose L687: (R9 <> R10 & R9 = R8 & R10 <> R7);

L688: (not R10 in { R7 , R8 }) by L687 , TARSKI:def 2;
L689: { R10 , R9 } <> { R7 , R8 } by L688 , TARSKI:def 2;
L690: ( D97 * (R10 , R9) ) = ( 0. ( F_Real ) ) by L689 , L657 , L659 , L665 , L687 , L478;
thus L691: thesis by L690 , L657 , L658 , L664 , L666 , L687 , L689 , L478;
end;
suppose L692: (R9 <> R10 & R9 <> R8 & R9 <> R7);

L693: (not R9 in { R7 , R8 }) by L692 , TARSKI:def 2;
L694: { R10 , R9 } <> { R7 , R8 } by L693 , TARSKI:def 2;
L695: ( D97 * (R10 , R9) ) = ( 0. ( F_Real ) ) by L694 , L657 , L659 , L665 , L692 , L478;
thus L696: thesis by L695 , L657 , L658 , L664 , L666 , L692 , L694 , L478;
end;
suppose L697: (R9 <> R10 & R10 <> R8 & R10 <> R7);

L698: (not R10 in { R7 , R8 }) by L697 , TARSKI:def 2;
L699: { R10 , R9 } <> { R7 , R8 } by L698 , TARSKI:def 2;
L700: ( D97 * (R10 , R9) ) = ( 0. ( F_Real ) ) by L699 , L657 , L659 , L665 , L697 , L478;
thus L701: thesis by L700 , L657 , L658 , L664 , L666 , L697 , L699 , L478;
end;
end;
thus L703: thesis by L661 , L660 , MATRIX_1:27;
end;
theorem
L704: (for R7 being Nat holds (for R8 being Nat holds (for R11 being Nat holds ((1 <= R7 & R7 < R8 & R8 <= R11) implies ( Rotation (R7 , R8 , R11 , ( 0 )) ) = ( 1. (( F_Real ) , R11) )))))
proof
let R7 being Nat;
let R8 being Nat;
let R11 being Nat;
set D100 = ( Rotation (R7 , R8 , R11 , ( 0 )) );
assume L705: (1 <= R7 & R7 < R8 & R8 <= R11);
L706: (for R9 being Nat holds (for R10 being Nat holds (([ R9 , R10 ] in ( Indices D100 ) & R9 <> R10) implies ( D100 * (R9 , R10) ) = ( 0. ( F_Real ) ))))
proof
let R9 being Nat;
let R10 being Nat;
assume that
L707: [ R9 , R10 ] in ( Indices D100 )
and
L708: R9 <> R10;
per cases ;
suppose L709: ((R9 = R7 & R10 = R8) or (R9 = R8 & R10 = R7));

L710: (( D100 * (R9 , R10) ) = ( sin ( 0 ) ) or ( D100 * (R9 , R10) ) = ( - ( sin ( 0 ) ) )) by L709 , L705 , L478;
thus L711: thesis by L710 , SIN_COS:31;
end;
suppose L712: (R9 = R7 & R10 <> R8);

L713: (not R10 in { R7 , R8 }) by L712 , L708 , TARSKI:def 2;
L714: { R9 , R10 } <> { R7 , R8 } by L713 , TARSKI:def 2;
thus L715: thesis by L714 , L705 , L707 , L708 , L478;
end;
suppose L716: (R9 = R8 & R10 <> R7);

L717: (not R10 in { R7 , R8 }) by L716 , L708 , TARSKI:def 2;
L718: { R9 , R10 } <> { R7 , R8 } by L717 , TARSKI:def 2;
thus L719: thesis by L718 , L705 , L707 , L708 , L478;
end;
suppose L720: (R10 = R7 & R9 <> R8);

L721: (not R9 in { R7 , R8 }) by L720 , L708 , TARSKI:def 2;
L722: { R9 , R10 } <> { R7 , R8 } by L721 , TARSKI:def 2;
thus L723: thesis by L722 , L705 , L707 , L708 , L478;
end;
suppose L724: (R10 = R8 & R9 <> R7);

L725: (not R9 in { R7 , R8 }) by L724 , L708 , TARSKI:def 2;
L726: { R9 , R10 } <> { R7 , R8 } by L725 , TARSKI:def 2;
thus L727: thesis by L726 , L705 , L707 , L708 , L478;
end;
suppose L728: (R9 <> R7 & R9 <> R8 & R10 <> R7 & R10 <> R8);

L729: (not R10 in { R7 , R8 }) by L728 , TARSKI:def 2;
L730: { R9 , R10 } <> { R7 , R8 } by L729 , TARSKI:def 2;
thus L731: thesis by L730 , L705 , L707 , L708 , L478;
end;
end;
L733: (for R9 being Nat holds ([ R9 , R9 ] in ( Indices D100 ) implies ( D100 * (R9 , R9) ) = ( 1. ( F_Real ) )))
proof
let R9 being Nat;
assume L734: [ R9 , R9 ] in ( Indices D100 );
L735: (R9 = R7 or R9 = R8 or (R9 <> R7 & R9 <> R8));
thus L736: thesis by L735 , L705 , L734 , L478 , SIN_COS:31;
end;
thus L737: thesis by L733 , L706 , MATRIX_1:def 11;
end;
L738: (for R3 being  real number holds (for R7 being Nat holds (for R8 being Nat holds (for R11 being Nat holds ((1 <= R7 & R7 < R8 & R8 <= R11) implies ( ( Rotation (R7 , R8 , R11 , R3) ) ~ ) = ( Rotation (R7 , R8 , R11 , ( - R3 )) ))))))
proof
let R3 being  real number;
let R7 being Nat;
let R8 being Nat;
let R11 being Nat;
assume L739: (1 <= R7 & R7 < R8 & R8 <= R11);
L740: ( ( Rotation (R7 , R8 , R11 , R3) ) * ( Rotation (R7 , R8 , R11 , ( - R3 )) ) ) = ( Rotation (R7 , R8 , R11 , ( R3 + ( - R3 ) )) ) by L739 , L591
.= ( 1. (( F_Real ) , R11) ) by L739 , L704;
L741: ( ( Rotation (R7 , R8 , R11 , ( - R3 )) ) * ( Rotation (R7 , R8 , R11 , R3) ) ) = ( Rotation (R7 , R8 , R11 , ( ( - R3 ) + R3 )) ) by L739 , L591
.= ( 1. (( F_Real ) , R11) ) by L739 , L704;
L742: ( Rotation (R7 , R8 , R11 , R3) ) is_reverse_of ( Rotation (R7 , R8 , R11 , ( - R3 )) ) by L741 , L740 , MATRIX_6:def 2;
thus L743: thesis by L742 , MATRIX_6:def 4;
end;
theorem
L744: (for R3 being  real number holds (for R7 being Nat holds (for R8 being Nat holds (for R11 being Nat holds ((1 <= R7 & R7 < R8 & R8 <= R11) implies (( Rotation (R7 , R8 , R11 , R3) ) is  Orthogonal & ( ( Rotation (R7 , R8 , R11 , R3) ) ~ ) = ( Rotation (R7 , R8 , R11 , ( - R3 )) )))))))
proof
let R3 being  real number;
let R7 being Nat;
let R8 being Nat;
let R11 being Nat;
assume L745: (1 <= R7 & R7 < R8 & R8 <= R11);
L746: (( ( Rotation (R7 , R8 , R11 , R3) ) ~ ) = ( Rotation (R7 , R8 , R11 , ( - R3 )) ) & ( ( Rotation (R7 , R8 , R11 , R3) ) @ ) = ( Rotation (R7 , R8 , R11 , ( - R3 )) )) by L745 , L656 , L738;
thus L747: thesis by L746 , MATRIX_6:def 7;
end;
theorem
L748: (for R3 being  real number holds (for R7 being Nat holds (for R8 being Nat holds (for R9 being Nat holds (for R11 being Nat holds (for R12 being (Point of ( TOP-REAL R11 )) holds ((1 <= R7 & R7 < R8 & R8 <= R11 & R9 <> R7 & R9 <> R8) implies ( ( ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ) . R12 ) . R9 ) = ( R12 . R9 ))))))))
proof
let R3 being  real number;
let R7 being Nat;
let R8 being Nat;
let R9 being Nat;
let R11 being Nat;
let R12 being (Point of ( TOP-REAL R11 ));
set D101 = ( Rotation (R7 , R8 , R11 , R3) );
set D102 = ( Mx2Tran D101 );
set D103 = ( D102 . R12 );
set D104 = ( Seg R11 );
assume L749: (1 <= R7 & R7 < R8 & R8 <= R11 & R9 <> R7 & R9 <> R8);
L750: ( len D103 ) = R11 by CARD_1:def 7;
L751: ( dom D103 ) = D104 by L750 , FINSEQ_1:def 3;
L752: ( len R12 ) = R11 by CARD_1:def 7;
L753: ( dom R12 ) = D104 by L752 , FINSEQ_1:def 3;
per cases ;
suppose L754: R9 in D104;

L755: (1 <= R9 & R9 <= R11) by L754 , FINSEQ_1:1;
thus L756: ( D103 . R9 ) = ( ( @ R12 ) "*" ( Col (D101 , R9) ) ) by L755 , MATRTOP1:18
.= ( R12 . R9 ) by L749 , L754 , L510;
end;
suppose L757: (not R9 in D104);

L758: ( D103 . R9 ) = ( {} ) by L757 , L751 , FUNCT_1:def 2;
thus L759: thesis by L758 , L753 , L757 , FUNCT_1:def 2;
end;
end;
theorem
L761: (for R3 being  real number holds (for R7 being Nat holds (for R8 being Nat holds (for R11 being Nat holds (for R12 being (Point of ( TOP-REAL R11 )) holds ((1 <= R7 & R7 < R8 & R8 <= R11) implies ( ( ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ) . R12 ) . R7 ) = ( ( ( R12 . R7 ) * ( cos R3 ) ) + ( ( R12 . R8 ) * ( - ( sin R3 ) ) ) )))))))
proof
let R3 being  real number;
let R7 being Nat;
let R8 being Nat;
let R11 being Nat;
let R12 being (Point of ( TOP-REAL R11 ));
set D105 = ( Rotation (R7 , R8 , R11 , R3) );
set D106 = ( Mx2Tran D105 );
set D107 = ( D106 . R12 );
set D108 = ( Seg R11 );
assume that
L762: 1 <= R7
and
L763: (R7 < R8 & R8 <= R11);
L764: R7 <= R11 by L763 , XXREAL_0:2;
thus L765: ( D107 . R7 ) = ( ( @ R12 ) "*" ( Col (D105 , R7) ) ) by L764 , L762 , MATRTOP1:18
.= ( ( ( R12 . R7 ) * ( cos R3 ) ) + ( ( R12 . R8 ) * ( - ( sin R3 ) ) ) ) by L762 , L763 , L531;
end;
theorem
L766: (for R3 being  real number holds (for R7 being Nat holds (for R8 being Nat holds (for R11 being Nat holds (for R12 being (Point of ( TOP-REAL R11 )) holds ((1 <= R7 & R7 < R8 & R8 <= R11) implies ( ( ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ) . R12 ) . R8 ) = ( ( ( R12 . R7 ) * ( sin R3 ) ) + ( ( R12 . R8 ) * ( cos R3 ) ) )))))))
proof
let R3 being  real number;
let R7 being Nat;
let R8 being Nat;
let R11 being Nat;
let R12 being (Point of ( TOP-REAL R11 ));
set D109 = ( Rotation (R7 , R8 , R11 , R3) );
set D110 = ( Mx2Tran D109 );
set D111 = ( D110 . R12 );
set D112 = ( Seg R11 );
assume that
L767: (1 <= R7 & R7 < R8)
and
L768: R8 <= R11;
L769: 1 <= R8 by L767 , XXREAL_0:2;
thus L770: ( D111 . R8 ) = ( ( @ R12 ) "*" ( Col (D109 , R8) ) ) by L769 , L768 , MATRTOP1:18
.= ( ( ( R12 . R7 ) * ( sin R3 ) ) + ( ( R12 . R8 ) * ( cos R3 ) ) ) by L767 , L768 , L561;
end;
theorem
L771: (for R3 being  real number holds (for R7 being Nat holds (for R8 being Nat holds (for R11 being Nat holds (for R12 being (Point of ( TOP-REAL R11 )) holds ((1 <= R7 & R7 < R8 & R8 <= R11) implies ( ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ) . R12 ) = ( ( ( ( ( R12 | ( R7 -' 1 ) ) ^ <* ( ( ( R12 . R7 ) * ( cos R3 ) ) + ( ( R12 . R8 ) * ( - ( sin R3 ) ) ) ) *> ) ^ ( ( R12 /^ R7 ) | ( ( R8 -' R7 ) -' 1 ) ) ) ^ <* ( ( ( R12 . R7 ) * ( sin R3 ) ) + ( ( R12 . R8 ) * ( cos R3 ) ) ) *> ) ^ ( R12 /^ R8 ) )))))))
proof
let R3 being  real number;
let R7 being Nat;
let R8 being Nat;
let R11 being Nat;
let R12 being (Point of ( TOP-REAL R11 ));
assume that
L772: 1 <= R7
and
L773: R7 < R8
and
L774: R8 <= R11;
set D113 = ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) );
set D114 = ( D113 . R12 );
set D115 = ( R7 -' 1 );
set D116 = ( R8 -' R7 );
L775: R7 < R11 by L773 , L774 , XXREAL_0:2;
L776: (D115 < ( D115 + 1 ) & D115 = ( R7 - 1 )) by L772 , NAT_1:13 , XREAL_1:233;
L777:
now
let R9 being Nat;
assume that
L778: 1 <= R9
and
L779: R9 <= D115;
L780: (( ( D114 | D115 ) . R9 ) = ( D114 . R9 ) & ( ( R12 | D115 ) . R9 ) = ( R12 . R9 )) by L779 , FINSEQ_3:112;
L781: R9 < R7 by L776 , L779 , XXREAL_0:2;
thus L782: ( ( D114 | D115 ) . R9 ) = ( ( R12 | D115 ) . R9 ) by L781 , L772 , L773 , L774 , L780 , L748;
end;
L783: ( len D114 ) = R11 by CARD_1:def 7;
L784: ( len ( D114 | D115 ) ) = D115 by L783 , L776 , L775 , FINSEQ_1:59 , XXREAL_0:2;
L785: ( len R12 ) = R11 by CARD_1:def 7;
L786: ( len ( R12 /^ R7 ) ) = ( R11 - R7 ) by L785 , L775 , RFINSEQ:def 1;
L787: D116 = ( R8 - R7 ) by L773 , XREAL_1:233;
L788: (( D116 -' 1 ) < ( ( D116 -' 1 ) + 1 ) & D116 <= ( R11 - R7 )) by L787 , L774 , NAT_1:13 , XREAL_1:6;
L789: ( R8 - R7 ) > ( R7 - R7 ) by L773 , XREAL_1:8;
L790: ( D116 -' 1 ) = ( D116 - 1 ) by L789 , L787 , NAT_1:14 , XREAL_1:233;
L791: ( len ( R12 /^ R8 ) ) = ( R11 - R8 ) by L774 , L785 , RFINSEQ:def 1;
L792: ( len ( D114 /^ R7 ) ) = ( R11 - R7 ) by L783 , L775 , RFINSEQ:def 1;
L793: ( len ( ( D114 /^ R7 ) | ( D116 -' 1 ) ) ) = ( D116 -' 1 ) by L792 , L788 , L790 , FINSEQ_1:59 , XXREAL_0:2;
L794: ( D116 -' 1 ) < ( R11 - R7 ) by L788 , L790 , XXREAL_0:2;
L795:
now
let R9 being Nat;
assume that
L796: 1 <= R9
and
L797: R9 <= ( D116 -' 1 );
L798: ( ( ( R12 /^ R7 ) | ( D116 -' 1 ) ) . R9 ) = ( ( R12 /^ R7 ) . R9 ) by L797 , FINSEQ_3:112;
L799: R9 <= ( R11 - R7 ) by L794 , L797 , XXREAL_0:2;
L800: R9 in ( dom ( D114 /^ R7 ) ) by L799 , L792 , L796 , FINSEQ_3:25;
L801: ( ( D114 /^ R7 ) . R9 ) = ( D114 . ( R7 + R9 ) ) by L800 , L783 , L775 , RFINSEQ:def 1;
L802: R9 < ( ( D116 -' 1 ) + 1 ) by L797 , NAT_1:13;
L803: ( R7 + R9 ) < ( R7 + D116 ) by L802 , L790 , XREAL_1:8;
L804: R9 in ( dom ( R12 /^ R7 ) ) by L786 , L796 , L799 , FINSEQ_3:25;
L805: ( ( R12 /^ R7 ) . R9 ) = ( R12 . ( R7 + R9 ) ) by L804 , L785 , L775 , RFINSEQ:def 1;
L806: (( R9 + R7 ) <> R7 & ( ( ( D114 /^ R7 ) | ( D116 -' 1 ) ) . R9 ) = ( ( D114 /^ R7 ) . R9 )) by L796 , L797 , FINSEQ_3:112 , NAT_1:14;
thus L807: ( ( ( D114 /^ R7 ) | ( D116 -' 1 ) ) . R9 ) = ( ( ( R12 /^ R7 ) | ( D116 -' 1 ) ) . R9 ) by L806 , L772 , L773 , L774 , L787 , L801 , L803 , L805 , L798 , L748;
end;
L808: ( len ( ( R12 /^ R7 ) | ( D116 -' 1 ) ) ) = ( D116 -' 1 ) by L788 , L790 , L786 , FINSEQ_1:59 , XXREAL_0:2;
L809: ( ( D114 /^ R7 ) | ( D116 -' 1 ) ) = ( ( R12 /^ R7 ) | ( D116 -' 1 ) ) by L808 , L795 , L793 , FINSEQ_1:14;
L810: ( len ( D114 /^ R8 ) ) = ( R11 - R8 ) by L774 , L783 , RFINSEQ:def 1;
L811:
now
let R9 being Nat;
assume that
L812: 1 <= R9
and
L813: R9 <= ( R11 - R8 );
L814: R9 in ( dom ( D114 /^ R8 ) ) by L810 , L812 , L813 , FINSEQ_3:25;
L815: ( ( D114 /^ R8 ) . R9 ) = ( D114 . ( R8 + R9 ) ) by L814 , L774 , L783 , RFINSEQ:def 1;
L816: R9 in ( dom ( R12 /^ R8 ) ) by L791 , L812 , L813 , FINSEQ_3:25;
L817: ( ( R12 /^ R8 ) . R9 ) = ( R12 . ( R8 + R9 ) ) by L816 , L774 , L785 , RFINSEQ:def 1;
L818: (( R8 + R9 ) >= R8 & ( R8 + R9 ) <> R8) by L812 , NAT_1:11 , NAT_1:14;
thus L819: ( ( D114 /^ R8 ) . R9 ) = ( ( R12 /^ R8 ) . R9 ) by L818 , L772 , L773 , L774 , L815 , L817 , L748;
end;
L820: ( D114 /^ R8 ) = ( R12 /^ R8 ) by L811 , L791 , L810 , FINSEQ_1:14;
L821: ( len ( R12 | D115 ) ) = D115 by L776 , L785 , L775 , FINSEQ_1:59 , XXREAL_0:2;
L822: ( D114 | D115 ) = ( R12 | D115 ) by L821 , L777 , L784 , FINSEQ_1:14;
L823: ( D114 . R7 ) = ( ( ( R12 . R7 ) * ( cos R3 ) ) + ( ( R12 . R8 ) * ( - ( sin R3 ) ) ) ) by L772 , L773 , L774 , L761;
L824: D114 = ( @ ( @ D114 ) );
L825: D114 = ( ( ( ( ( D114 | D115 ) ^ <* ( D114 . R7 ) *> ) ^ ( ( D114 /^ R7 ) | ( ( R8 -' R7 ) -' 1 ) ) ) ^ <* ( D114 . R8 ) *> ) ^ ( D114 /^ R8 ) ) by L824 , L772 , L773 , L774 , L783 , FINSEQ_7:1;
thus L826: thesis by L825 , L772 , L773 , L774 , L820 , L809 , L822 , L823 , L766;
end;
theorem
L827: (for R6 being  real number holds (for R7 being Nat holds (for R8 being Nat holds (for R11 being Nat holds (for R12 being (Point of ( TOP-REAL R11 )) holds ((1 <= R7 & R7 < R8 & R8 <= R11 & ( R6 ^2 ) <= ( ( ( R12 . R7 ) ^2 ) + ( ( R12 . R8 ) ^2 ) )) implies (ex R3 being  real number st ( ( ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ) . R12 ) . R7 ) = R6)))))))
proof
let R6 being  real number;
let R7 being Nat;
let R8 being Nat;
let R11 being Nat;
let R12 being (Point of ( TOP-REAL R11 ));
set D117 = ( R12 . R7 );
set D118 = ( R12 . R8 );
set D119 = ( ( D117 ^2 ) + ( D118 ^2 ) );
set D120 = ( sqrt D119 );
assume that
L828: (1 <= R7 & R7 < R8 & R8 <= R11)
and
L829: ( R6 ^2 ) <= ( ( ( R12 . R7 ) ^2 ) + ( ( R12 . R8 ) ^2 ) );
L830: (( 0 ) <= ( D117 * D117 ) & ( 0 ) <= ( D118 * D118 )) by XREAL_1:63;
per cases ;
suppose L831: (D117 <> ( 0 ) or D118 <> ( 0 ));

L832: ( 0 ) <= ( D117 * D117 ) by XREAL_1:63;
L833: D120 > ( 0 ) by L830 , L831 , SQUARE_1:25;
L834: ( ( R6 / D120 ) * D120 ) = R6 by L833 , XCMPLX_1:87;
L835: ( 0 ) <= ( D118 * D118 ) by XREAL_1:63;
L836: ( ( D117 ^2 ) + ( 0 ) ) <= ( ( D117 ^2 ) + ( D118 ^2 ) ) by L835 , XREAL_1:6;
L837: ( sqrt ( D117 ^2 ) ) <= D120 by L836 , L832 , SQUARE_1:26;
L838:
now
per cases ;
suppose L839: D117 >= ( 0 );

L840: D117 <= D120 by L839 , L837 , SQUARE_1:22;
L841: ( D117 / D120 ) <= 1 by L840 , L833 , XREAL_1:185;
thus L842: ( D117 / D120 ) in [. ( - 1 ) , 1 .] by L841 , L839 , L840 , XXREAL_1:1;
end;
suppose L843: D117 <= ( 0 );

L844: ( - D117 ) <= D120 by L843 , L837 , SQUARE_1:23;
L845: ( - 1 ) <= ( D117 / D120 ) by L844 , L833 , XREAL_1:194;
thus L846: ( D117 / D120 ) in [. ( - 1 ) , 1 .] by L845 , L833 , L843 , XXREAL_1:1;
end;
end;
consider C50 being set such that L848: C50 in ( dom ( sin ) ) and L849: C50 in [. ( - ( ( PI ) / 2 ) ) , ( ( PI ) / 2 ) .] and L850: ( ( sin ) . C50 ) = ( D117 / D120 ) by L838 , FUNCT_1:def 6 , SIN_COS6:45;
L851: ( D120 * D120 ) = ( D120 ^2 )
.= D119 by L832 , L835 , SQUARE_1:def 2;
L852: ( 0 ) <= ( R6 * R6 ) by XREAL_1:63;
L853: ( sqrt ( R6 ^2 ) ) <= D120 by L852 , L829 , SQUARE_1:26;
L854:
now
per cases ;
suppose L855: R6 >= ( 0 );

L856: R6 <= D120 by L855 , L853 , SQUARE_1:22;
L857: ( R6 / D120 ) <= 1 by L856 , L833 , XREAL_1:185;
thus L858: ( R6 / D120 ) in [. ( - 1 ) , 1 .] by L857 , L855 , L856 , XXREAL_1:1;
end;
suppose L859: R6 <= ( 0 );

L860: ( - R6 ) <= D120 by L859 , L853 , SQUARE_1:23;
L861: ( - 1 ) <= ( R6 / D120 ) by L860 , L833 , XREAL_1:194;
thus L862: ( R6 / D120 ) in [. ( - 1 ) , 1 .] by L861 , L833 , L859 , XXREAL_1:1;
end;
end;
consider C51 being set such that L864: C51 in ( dom ( sin ) ) and L865: C51 in [. ( - ( ( PI ) / 2 ) ) , ( ( PI ) / 2 ) .] and L866: ( ( sin ) . C51 ) = ( R6 / D120 ) by L854 , FUNCT_1:def 6 , SIN_COS6:45;
reconsider D121 = C51 as Real by L865;
L867: ( ( D120 * D117 ) / D120 ) = D117 by L833 , XCMPLX_1:89;
reconsider D122 = C50 as Real by L848 , FUNCT_2:def 1;
L868: ( ( sin ) . D122 ) = ( sin D122 ) by SIN_COS:def 17;
L869: ( ( D117 / D120 ) * ( D117 / D120 ) ) = ( ( D117 * D117 ) / D119 ) by L851 , XCMPLX_1:76;
L870: ( ( ( cos D122 ) * ( cos D122 ) ) + ( ( D117 * D117 ) / D119 ) ) = 1 by L869 , L850 , L868 , SIN_COS:29;
L871: ( ( cos D122 ) * ( cos D122 ) ) = ( 1 - ( ( D117 * D117 ) / D119 ) ) by L870
.= ( ( D119 / D119 ) - ( ( D117 * D117 ) / D119 ) ) by L830 , L831 , XCMPLX_1:60
.= ( ( D118 * D118 ) / D119 )
.= ( ( D118 / D120 ) ^2 ) by L851 , XCMPLX_1:76;
L872: ( ( cos D122 ) ^2 ) = ( ( D118 / D120 ) ^2 ) by L871;
per cases  by L872 , SQUARE_1:40;
suppose L873: ( cos D122 ) = ( D118 / D120 );

take D123 = ( D122 - D121 );
L874: ( - ( sin D121 ) ) = ( sin ( ( - D122 ) + D123 ) ) by SIN_COS:31
.= ( ( ( sin ( - D122 ) ) * ( cos D123 ) ) + ( ( cos ( - D122 ) ) * ( sin D123 ) ) ) by SIN_COS:75
.= ( ( ( - ( sin D122 ) ) * ( cos D123 ) ) + ( ( cos ( - D122 ) ) * ( sin D123 ) ) ) by SIN_COS:31
.= ( ( - ( ( sin D122 ) * ( cos D123 ) ) ) + ( ( cos D122 ) * ( sin D123 ) ) ) by SIN_COS:31
.= ( ( - ( ( sin D122 ) * ( cos D123 ) ) ) + ( - ( ( cos D122 ) * ( - ( sin D123 ) ) ) ) );
L875: ( sin D121 ) = ( ( ( sin D122 ) * ( cos D123 ) ) + ( ( cos D122 ) * ( - ( sin D123 ) ) ) ) by L874;
thus L876: R6 = ( D120 * ( ( ( D117 / D120 ) * ( cos D123 ) ) + ( ( D118 / D120 ) * ( - ( sin D123 ) ) ) ) ) by L875 , L834 , L850 , L866 , L868 , L873 , SIN_COS:def 17
.= ( ( ( ( D120 * D117 ) / D120 ) * ( cos D123 ) ) + ( ( ( D120 * D118 ) / D120 ) * ( - ( sin D123 ) ) ) )
.= ( ( D117 * ( cos D123 ) ) + ( D118 * ( - ( sin D123 ) ) ) ) by L833 , L867 , XCMPLX_1:89
.= ( ( ( Mx2Tran ( Rotation (R7 , R8 , R11 , D123) ) ) . R12 ) . R7 ) by L828 , L761;
end;
suppose L877: ( cos D122 ) = ( - ( D118 / D120 ) );

take D124 = ( D121 - D122 );
L878: ( sin D121 ) = ( sin ( D122 + D124 ) )
.= ( ( ( sin D122 ) * ( cos D124 ) ) + ( ( cos D122 ) * ( sin D124 ) ) ) by SIN_COS:75
.= ( ( ( D117 / D120 ) * ( cos D124 ) ) + ( ( D118 / D120 ) * ( - ( sin D124 ) ) ) ) by L850 , L877 , SIN_COS:def 17;
thus L879: R6 = ( D120 * ( ( ( D117 / D120 ) * ( cos D124 ) ) + ( ( D118 / D120 ) * ( - ( sin D124 ) ) ) ) ) by L878 , L834 , L866 , SIN_COS:def 17
.= ( ( ( ( D120 * D117 ) / D120 ) * ( cos D124 ) ) + ( ( ( D120 * D118 ) / D120 ) * ( - ( sin D124 ) ) ) )
.= ( ( D117 * ( cos D124 ) ) + ( D118 * ( - ( sin D124 ) ) ) ) by L833 , L867 , XCMPLX_1:89
.= ( ( ( Mx2Tran ( Rotation (R7 , R8 , R11 , D124) ) ) . R12 ) . R7 ) by L828 , L761;
end;
end;
suppose L881: (D117 = ( 0 ) & D118 = ( 0 ));

take D125 = ( 0 );
set D126 = ( Mx2Tran ( Rotation (R7 , R8 , R11 , D125) ) );
L882: D126 = ( Mx2Tran ( 1. (( F_Real ) , R11) ) ) by L828 , L704;
L883: D126 = ( id ( TOP-REAL R11 ) ) by L882 , MATRTOP1:33;
L884: R6 = ( 0 ) by L829 , L881 , XREAL_1:63;
thus L885: thesis by L884 , L881 , L883 , FUNCT_1:17;
end;
end;
L887: (for R3 being  real number holds (for R7 being Nat holds (for R8 being Nat holds (for R11 being Nat holds (for R12 being (Point of ( TOP-REAL R11 )) holds ((1 <= R7 & R7 < R8 & R8 <= R11) implies ( ( ( ( ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ) . R12 ) . R7 ) * ( ( ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ) . R12 ) . R7 ) ) + ( ( ( ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ) . R12 ) . R8 ) * ( ( ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ) . R12 ) . R8 ) ) ) = ( ( ( R12 . R7 ) * ( R12 . R7 ) ) + ( ( R12 . R8 ) * ( R12 . R8 ) ) )))))))
proof
let R3 being  real number;
let R7 being Nat;
let R8 being Nat;
let R11 being Nat;
let R12 being (Point of ( TOP-REAL R11 ));
set D127 = ( R12 . R7 );
set D128 = ( R12 . R8 );
set D129 = ( ( D127 ^2 ) + ( D128 ^2 ) );
set D130 = ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) );
set D131 = ( sin R3 );
set D132 = ( cos R3 );
set D133 = ( D130 . R12 );
L888: ( ( D132 * D132 ) + ( D131 * D131 ) ) = 1 by SIN_COS:29;
assume L889: (1 <= R7 & R7 < R8 & R8 <= R11);
L890: ( D133 . R7 ) = ( ( D127 * D132 ) + ( D128 * ( - D131 ) ) ) by L889 , L761;
L891: ( ( D133 . R7 ) * ( D133 . R7 ) ) = ( ( ( ( ( D127 * D127 ) * D132 ) * D132 ) - ( ( ( ( 2 * D127 ) * D128 ) * D132 ) * D131 ) ) + ( ( ( D128 * D128 ) * D131 ) * D131 ) ) by L890;
L892: ( D133 . R8 ) = ( ( D127 * D131 ) + ( D128 * D132 ) ) by L889 , L766;
L893: ( ( D133 . R8 ) * ( D133 . R8 ) ) = ( ( ( ( ( D127 * D127 ) * D131 ) * D131 ) + ( ( 2 * ( D127 * D128 ) ) * ( D132 * D131 ) ) ) + ( ( D128 * D128 ) * ( D132 * D132 ) ) ) by L892;
thus L894: ( ( ( D133 . R7 ) * ( D133 . R7 ) ) + ( ( D133 . R8 ) * ( D133 . R8 ) ) ) = ( ( ( D127 * D127 ) * ( ( D132 * D132 ) + ( D131 * D131 ) ) ) + ( ( D128 * D128 ) * ( ( D132 * D132 ) + ( D131 * D131 ) ) ) ) by L893 , L891
.= ( ( D127 * D127 ) + ( D128 * D128 ) ) by L888;
end;
theorem
L895: (for R6 being  real number holds (for R7 being Nat holds (for R8 being Nat holds (for R11 being Nat holds (for R12 being (Point of ( TOP-REAL R11 )) holds ((1 <= R7 & R7 < R8 & R8 <= R11 & ( R6 ^2 ) <= ( ( ( R12 . R7 ) ^2 ) + ( ( R12 . R8 ) ^2 ) )) implies (ex R3 being  real number st ( ( ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ) . R12 ) . R8 ) = R6)))))))
proof
let R6 being  real number;
let R7 being Nat;
let R8 being Nat;
let R11 being Nat;
let R12 being (Point of ( TOP-REAL R11 ));
set D134 = ( R12 . R7 );
set D135 = ( R12 . R8 );
set D136 = ( ( D134 ^2 ) + ( D135 ^2 ) );
set D137 = ( D136 - ( R6 ^2 ) );
assume that
L896: (1 <= R7 & R7 < R8 & R8 <= R11)
and
L897: ( R6 ^2 ) <= ( ( D134 ^2 ) + ( D135 ^2 ) );
L898: ( 0 ) <= ( R6 * R6 ) by XREAL_1:63;
L899: D137 <= ( D136 - ( 0 ) ) by L898 , XREAL_1:6;
L900: ( ( R6 ^2 ) - ( R6 ^2 ) ) <= D137 by L897 , XREAL_1:6;
L901: ( ( sqrt D137 ) ^2 ) = D137 by L900 , SQUARE_1:def 2;
consider R3 being  real number such that L902: ( ( ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ) . R12 ) . R7 ) = ( sqrt D137 ) by L901 , L896 , L899 , L827;
set D138 = ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) );
set D139 = ( D138 . R12 );
L903: D136 = ( ( ( sqrt D137 ) ^2 ) + ( ( D139 . R8 ) * ( D139 . R8 ) ) ) by L902 , L896 , L887
.= ( D137 + ( ( D139 . R8 ) * ( D139 . R8 ) ) ) by L900 , SQUARE_1:def 2;
L904: ( R6 ^2 ) = ( ( D139 . R8 ) ^2 ) by L903;
per cases  by L904 , SQUARE_1:40;
suppose L905: ( D139 . R8 ) = R6;

thus L906: thesis by L905;
end;
suppose L907: ( D139 . R8 ) = ( - R6 );

take D140 = ( R3 + ( PI ) );
thus L908: ( ( ( Mx2Tran ( Rotation (R7 , R8 , R11 , D140) ) ) . R12 ) . R8 ) = ( ( ( R12 . R7 ) * ( sin D140 ) ) + ( ( R12 . R8 ) * ( cos D140 ) ) ) by L896 , L766
.= ( ( ( R12 . R7 ) * ( - ( sin R3 ) ) ) + ( ( R12 . R8 ) * ( cos D140 ) ) ) by SIN_COS:79
.= ( ( ( R12 . R7 ) * ( - ( sin R3 ) ) ) + ( ( R12 . R8 ) * ( - ( cos R3 ) ) ) ) by SIN_COS:79
.= ( - ( ( ( R12 . R7 ) * ( sin R3 ) ) + ( ( R12 . R8 ) * ( cos R3 ) ) ) )
.= ( - ( D139 . R8 ) ) by L896 , L766
.= R6 by L907;
end;
end;
theorem
L910: (for R3 being  real number holds (for R7 being Nat holds (for R8 being Nat holds (for R11 being Nat holds ((1 <= R7 & R7 < R8 & R8 <= R11) implies ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ) is { R7 , R8 } -support-yielding)))))
proof
let R3 being  real number;
let R7 being Nat;
let R8 being Nat;
let R11 being Nat;
set D141 = ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) );
assume L911: (1 <= R7 & R7 < R8 & R8 <= R11);
let C52 being Function;
let C53 being set;
assume that
L912: C52 in ( dom D141 )
and
L913: ( ( D141 . C52 ) . C53 ) <> ( C52 . C53 );
reconsider D142 = C52 as (Point of ( TOP-REAL R11 )) by L912 , FUNCT_2:52;
L914: ( len D142 ) = R11 by CARD_1:def 7;
L915: ( dom D142 ) = ( Seg R11 ) by L914 , FINSEQ_1:def 3;
L916: ( len ( D141 . D142 ) ) = R11 by CARD_1:def 7;
L917: ( dom ( D141 . D142 ) ) = ( Seg R11 ) by L916 , FINSEQ_1:def 3;
per cases ;
suppose L918: (not C53 in ( Seg R11 ));

L919: ( ( D141 . D142 ) . C53 ) = ( {} ) by L918 , L917 , FUNCT_1:def 2;
thus L920: thesis by L919 , L913 , L915 , L918 , FUNCT_1:def 2;
end;
suppose L921: C53 in ( Seg R11 );

L922: ( ( D141 . D142 ) . C53 ) <> ( D142 . C53 ) by L913;
L923: (C53 = R7 or C53 = R8) by L922 , L911 , L921 , L748;
thus L924: thesis by L923 , TARSKI:def 2;
end;
end;
begin
definition
let R11 being Nat;
let C54 being (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
attr C54 is  rotation
means
:L926: (for R12 being (Point of ( TOP-REAL R11 )) holds |. R12 .| = |. ( C54 . R12 ) .|);
end;
theorem
L928: (for R7 being Nat holds (for R11 being Nat holds (R7 in ( Seg R11 ) implies ( Mx2Tran ( AxialSymmetry (R7 , R11) ) ) is  rotation)))
proof
let R7 being Nat;
let R11 being Nat;
set D143 = ( Seg R11 );
set D144 = ( Mx2Tran ( AxialSymmetry (R7 , R11) ) );
assume L929: R7 in D143;
let C55 being (Point of ( TOP-REAL R11 ));
L930: ( len C55 ) = R11 by CARD_1:def 7;
L931: R7 in ( dom C55 ) by L930 , L929 , FINSEQ_1:def 3;
thus L932: |. ( D144 . C55 ) .| = ( sqrt ( Sum ( sqr ( C55 +* (R7 , ( - ( C55 . R7 ) )) ) ) ) ) by L929 , L265
.= ( sqrt ( ( ( Sum ( sqr C55 ) ) - ( ( C55 . R7 ) ^2 ) ) + ( ( - ( C55 . R7 ) ) ^2 ) ) ) by L931 , L27
.= |. C55 .|;
end;
definition
let R11 being Nat;
let C56 being (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
attr C56 is  base_rotation
means
:L933: (ex B17 being (FinSequence of ( GFuncs (the carrier of ( TOP-REAL R11 )) )) st (C56 = ( Product B17 ) & (for R9 being Nat holds (R9 in ( dom B17 ) implies (ex R7 being Nat st (ex R8 being Nat st (ex R3 being  real number st (1 <= R7 & R7 < R8 & R8 <= R11 & ( B17 . R9 ) = ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) )))))))));
end;
registration
let R11 being Nat;
cluster ( id ( TOP-REAL R11 ) ) ->  base_rotation;
coherence
proof
set D145 = (the carrier of ( TOP-REAL R11 ));
set D146 = ( GFuncs D145 );
take D147 = ( <*> (the carrier of D146) );
thus L935: ( Product D147 ) = ( 1_ D146 ) by GROUP_4:8
.= ( the_unity_wrt (the multF of D146) ) by GROUP_1:22
.= ( id ( TOP-REAL R11 ) ) by MONOID_0:75;
let R9 being Nat;
assume L936: R9 in ( dom D147 );
thus L937: thesis by L936;
end;
end;
registration
let R11 being Nat;
cluster  base_rotation for (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
existence
proof
L939: ( id ( TOP-REAL R11 ) ) is  base_rotation;
thus L940: thesis by L939;
end;
end;
registration
let R11 being Nat;
let C57 , C58 being  base_rotation (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
cluster ( C57 * C58 ) ->  base_rotation for (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
coherence
proof
consider C59 being (FinSequence of ( GFuncs (the carrier of ( TOP-REAL R11 )) )) such that L942: C57 = ( Product C59 ) and L943: (for R9 being Nat holds (R9 in ( dom C59 ) implies (ex R7 being Nat st (ex R8 being Nat st (ex R3 being  real number st (1 <= R7 & R7 < R8 & R8 <= R11 & ( C59 . R9 ) = ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ))))))) by L933;
consider C60 being (FinSequence of ( GFuncs (the carrier of ( TOP-REAL R11 )) )) such that L944: C58 = ( Product C60 ) and L945: (for R9 being Nat holds (R9 in ( dom C60 ) implies (ex R7 being Nat st (ex R8 being Nat st (ex R3 being  real number st (1 <= R7 & R7 < R8 & R8 <= R11 & ( C60 . R9 ) = ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ))))))) by L933;
L946: ( C57 * C58 ) is  base_rotation
proof
take D148 = ( C60 ^ C59 );
thus L947: ( Product D148 ) = ( ( Product C60 ) * ( Product C59 ) ) by GROUP_4:5
.= ( C57 * C58 ) by L944 , L942 , MONOID_0:70;
let R9 being Nat;
assume L948: R9 in ( dom D148 );
per cases  by L948 , FINSEQ_1:25;
suppose L949: R9 in ( dom C60 );

L950: ( C60 . R9 ) = ( D148 . R9 ) by L949 , FINSEQ_1:def 7;
thus L951: thesis by L950 , L945 , L949;
end;
suppose L952: (ex R10 being Nat st (R10 in ( dom C59 ) & R9 = ( ( len C60 ) + R10 )));

consider R10 being Nat such that L953: R10 in ( dom C59 ) and L954: R9 = ( ( len C60 ) + R10 ) by L952;
L955: ( D148 . R9 ) = ( C59 . R10 ) by L953 , L954 , FINSEQ_1:def 7;
thus L956: thesis by L955 , L943 , L953;
end;
end;
thus L958: thesis by L946;
end;
end;
L960: (for R3 being  real number holds (for R7 being Nat holds (for R8 being Nat holds (for R11 being Nat holds ((1 <= R7 & R7 < R8 & R8 <= R11) implies ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ) is  rotation)))))
proof
let R3 being  real number;
let R7 being Nat;
let R8 being Nat;
let R11 being Nat;
assume L961: (1 <= R7 & R7 < R8 & R8 <= R11);
let R12 being (Point of ( TOP-REAL R11 ));
L962: R12 = ( @ ( @ R12 ) );
reconsider D149 = R12 as (FinSequence of ( REAL )) by L962;
set D150 = ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) );
set D151 = ( D150 . R12 );
set D152 = ( D149 | ( R7 -' 1 ) );
set D153 = ( ( D149 /^ R7 ) | ( ( R8 -' R7 ) -' 1 ) );
set D154 = ( D149 /^ R8 );
set D155 = ( sin R3 );
set D156 = ( cos R3 );
reconsider D157 = ( D149 . R7 ) , D158 = ( D149 . R8 ) as (Element of ( REAL ));
L963: ( sqr <* D157 *> ) = <* ( D157 ^2 ) *> by RVSUM_1:55;
set D159 = ( ( D157 * D156 ) + ( D158 * ( - D155 ) ) );
set D160 = ( ( D157 * D155 ) + ( D158 * D156 ) );
L964: ( sqr <* D159 *> ) = <* ( D159 ^2 ) *> by RVSUM_1:55;
L965: ( sqr <* D160 *> ) = <* ( D160 ^2 ) *> by RVSUM_1:55;
L966: ( sqr <* D158 *> ) = <* ( D158 ^2 ) *> by RVSUM_1:55;
L967: ( len R12 ) = R11 by CARD_1:def 7;
L968: R12 = ( ( ( ( D152 ^ <* D157 *> ) ^ D153 ) ^ <* D158 *> ) ^ D154 ) by L967 , L961 , FINSEQ_7:1;
L969: ( sqr R12 ) = ( ( sqr ( ( ( D152 ^ <* D157 *> ) ^ D153 ) ^ <* D158 *> ) ) ^ ( sqr D154 ) ) by L968 , RVSUM_1:144
.= ( ( ( sqr ( ( D152 ^ <* D157 *> ) ^ D153 ) ) ^ ( sqr <* D158 *> ) ) ^ ( sqr D154 ) ) by RVSUM_1:144
.= ( ( ( ( sqr ( D152 ^ <* D157 *> ) ) ^ ( sqr D153 ) ) ^ ( sqr <* D158 *> ) ) ^ ( sqr D154 ) ) by RVSUM_1:144
.= ( ( ( ( ( sqr D152 ) ^ ( sqr <* D157 *> ) ) ^ ( sqr D153 ) ) ^ ( sqr <* D158 *> ) ) ^ ( sqr D154 ) ) by RVSUM_1:144;
L970: ( Sum ( sqr R12 ) ) = ( ( Sum ( ( ( ( sqr D152 ) ^ ( sqr <* D157 *> ) ) ^ ( sqr D153 ) ) ^ ( sqr <* D158 *> ) ) ) + ( Sum ( sqr D154 ) ) ) by L969 , RVSUM_1:75
.= ( ( ( Sum ( ( ( sqr D152 ) ^ ( sqr <* D157 *> ) ) ^ ( sqr D153 ) ) ) + ( D158 ^2 ) ) + ( Sum ( sqr D154 ) ) ) by L966 , RVSUM_1:74
.= ( ( ( ( Sum ( ( sqr D152 ) ^ ( sqr <* D157 *> ) ) ) + ( Sum ( sqr D153 ) ) ) + ( D158 ^2 ) ) + ( Sum ( sqr D154 ) ) ) by RVSUM_1:75
.= ( ( ( ( ( Sum ( sqr D152 ) ) + ( D157 ^2 ) ) + ( Sum ( sqr D153 ) ) ) + ( D158 ^2 ) ) + ( Sum ( sqr D154 ) ) ) by L963 , RVSUM_1:74;
L971: ( ( D156 * D156 ) + ( D155 * D155 ) ) = 1 by SIN_COS:29;
L972: ( ( D159 ^2 ) + ( D160 ^2 ) ) = ( ( ( D157 * D157 ) * ( ( D156 * D156 ) + ( D155 * D155 ) ) ) + ( ( D158 * D158 ) * ( ( D156 * D156 ) + ( D155 * D155 ) ) ) )
.= ( ( D157 ^2 ) + ( D158 ^2 ) ) by L971;
L973: D151 = ( ( ( ( D152 ^ <* D159 *> ) ^ D153 ) ^ <* D160 *> ) ^ D154 ) by L961 , L771;
L974: ( sqr D151 ) = ( ( sqr ( ( ( D152 ^ <* D159 *> ) ^ D153 ) ^ <* D160 *> ) ) ^ ( sqr D154 ) ) by L973 , RVSUM_1:144
.= ( ( ( sqr ( ( D152 ^ <* D159 *> ) ^ D153 ) ) ^ ( sqr <* D160 *> ) ) ^ ( sqr D154 ) ) by RVSUM_1:144
.= ( ( ( ( sqr ( D152 ^ <* D159 *> ) ) ^ ( sqr D153 ) ) ^ ( sqr <* D160 *> ) ) ^ ( sqr D154 ) ) by RVSUM_1:144
.= ( ( ( ( ( sqr D152 ) ^ ( sqr <* D159 *> ) ) ^ ( sqr D153 ) ) ^ ( sqr <* D160 *> ) ) ^ ( sqr D154 ) ) by RVSUM_1:144;
L975: ( Sum ( sqr D151 ) ) = ( ( Sum ( ( ( ( sqr D152 ) ^ ( sqr <* D159 *> ) ) ^ ( sqr D153 ) ) ^ ( sqr <* D160 *> ) ) ) + ( Sum ( sqr D154 ) ) ) by L974 , RVSUM_1:75
.= ( ( ( Sum ( ( ( sqr D152 ) ^ ( sqr <* D159 *> ) ) ^ ( sqr D153 ) ) ) + ( D160 ^2 ) ) + ( Sum ( sqr D154 ) ) ) by L965 , RVSUM_1:74
.= ( ( ( ( Sum ( ( sqr D152 ) ^ ( sqr <* D159 *> ) ) ) + ( Sum ( sqr D153 ) ) ) + ( D160 ^2 ) ) + ( Sum ( sqr D154 ) ) ) by RVSUM_1:75
.= ( ( ( ( ( Sum ( sqr D152 ) ) + ( D159 ^2 ) ) + ( Sum ( sqr D153 ) ) ) + ( D160 ^2 ) ) + ( Sum ( sqr D154 ) ) ) by L964 , RVSUM_1:74;
thus L976: |. R12 .| = |. D151 .| by L975 , L970 , L972;
end;
theorem
L977: (for R3 being  real number holds (for R7 being Nat holds (for R8 being Nat holds (for R11 being Nat holds ((1 <= R7 & R7 < R8 & R8 <= R11) implies ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ) is  base_rotation)))))
proof
let R3 being  real number;
let R7 being Nat;
let R8 being Nat;
let R11 being Nat;
assume L978: (1 <= R7 & R7 < R8 & R8 <= R11);
set D161 = (the carrier of ( TOP-REAL R11 ));
set D162 = ( GFuncs D161 );
reconsider D163 = ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ) as (Element of D162) by MONOID_0:73;
take D164 = <* D163 *>;
thus L979: ( Product D164 ) = ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ) by GROUP_4:9;
let R9 being Nat;
assume L980: R9 in ( dom D164 );
L981: R9 in { 1 } by L980 , FINSEQ_1:2 , FINSEQ_1:38;
L982: R9 = 1 by L981 , TARSKI:def 1;
L983: ( D164 . 1 ) = D163 by FINSEQ_1:40;
thus L984: thesis by L983 , L978 , L982;
end;
L985: (for R11 being Nat holds (for B18 , B19 being (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 )) holds ((B18 is  rotation & B19 is  rotation) implies ( B18 * B19 ) is  rotation)))
proof
let R11 being Nat;
set D165 = ( TOP-REAL R11 );
let C61 , C62 being (Function of D165 , D165);
assume that
L986: C61 is  rotation
and
L987: C62 is  rotation;
let R12 being (Point of ( TOP-REAL R11 ));
L988: ( dom ( C61 * C62 ) ) = (the carrier of D165) by FUNCT_2:52;
thus L989: |. ( ( C61 * C62 ) . R12 ) .| = |. ( C61 . ( C62 . R12 ) ) .| by L988 , FUNCT_1:12
.= |. ( C62 . R12 ) .| by L986 , L926
.= |. R12 .| by L987 , L926;
end;
registration
let R11 being Nat;
cluster  base_rotation ->  homogeneous  additive  rotation  being_homeomorphism for (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
coherence
proof
set D166 = ( TOP-REAL R11 );
set D167 = ( GFuncs (the carrier of D166) );
let C63 being (Function of D166 , D166);
assume L990: C63 is  base_rotation;
consider C64 being (FinSequence of D167) such that L991: C63 = ( Product C64 ) and L992: (for R9 being Nat holds (R9 in ( dom C64 ) implies (ex R7 being Nat st (ex R8 being Nat st (ex R3 being  real number st (1 <= R7 & R7 < R8 & R8 <= R11 & ( C64 . R9 ) = ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ))))))) by L990 , L933;
defpred S5[ Nat ] means ($1 <= ( len C64 ) implies (for B20 being (Function of D166 , D166) holds (B20 = ( Product ( C64 | $1 ) ) implies B20 is  homogeneous  additive  being_homeomorphism  rotation)));
L993: (for R10 being Nat holds (S5[ R10 ] implies S5[ ( R10 + 1 ) ]))
proof
let R10 being Nat;
assume L994: S5[ R10 ];
set D168 = ( R10 + 1 );
reconsider D169 = ( Product ( C64 | R10 ) ) as (Function of D166 , D166) by MONOID_0:73;
assume L995: D168 <= ( len C64 );
L996: 1 <= D168 by NAT_1:11;
L997: D168 in ( dom C64 ) by L996 , L995 , FINSEQ_3:25;
consider R7 being Nat, R8 being Nat, R3 being  real number such that L998: (1 <= R7 & R7 < R8 & R8 <= R11) and L999: ( C64 . D168 ) = ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ) by L997 , L992;
reconsider D170 = ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ) as (Element of D167) by MONOID_0:73;
L1000: ( C64 | D168 ) = ( ( C64 | R10 ) ^ <* D170 *> ) by L997 , L999 , FINSEQ_5:10;
let C65 being (Function of D166 , D166);
assume that
L1001: C65 = ( Product ( C64 | D168 ) );
L1002: C65 = ( ( Product ( C64 | R10 ) ) * D170 ) by L1000 , L1001 , GROUP_4:6
.= ( ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ) * D169 ) by MONOID_0:70;
L1003: ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ) is  rotation by L998 , L960;
L1004: D169 is  homogeneous  additive  being_homeomorphism  rotation by L994 , L995 , NAT_1:13;
thus L1005: thesis by L1004 , L1002 , L1003 , L985 , TOPS_2:57;
end;
L1006: ( C64 | ( len C64 ) ) = C64 by FINSEQ_1:58;
L1007: S5[ ( 0 ) ]
proof
L1008: ( id D166 ) is  rotation
proof
let R12 being (Point of ( TOP-REAL R11 ));
thus L1009: thesis by FUNCT_1:17;
end;
assume L1010: ( 0 ) <= ( len C64 );
let C66 being (Function of D166 , D166);
L1011: ( id D166 ) is  homogeneous
proof
let R3 being  real number;
let R12 being (Point of ( TOP-REAL R11 ));
thus L1012: ( ( id D166 ) . ( R3 * R12 ) ) = ( R3 * R12 ) by FUNCT_1:17
.= ( R3 * ( ( id D166 ) . R12 ) ) by FUNCT_1:17;
end;
assume L1013: C66 = ( Product ( C64 | ( 0 ) ) );
L1014: ( C64 | ( 0 ) ) = ( <*> (the carrier of D167) );
L1015: C66 = ( 1_ D167 ) by L1014 , L1013 , GROUP_4:8
.= ( the_unity_wrt (the multF of D167) ) by GROUP_1:22
.= ( id D166 ) by MONOID_0:75;
thus L1016: thesis by L1015 , L1011 , L1008;
end;
L1017: (for R10 being Nat holds S5[ R10 ]) from NAT_1:sch 2(L1007 , L993);
thus L1018: thesis by L1017 , L991 , L1006;
end;
end;
registration
let R11 being Nat;
let C67 being  base_rotation (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
cluster ( C67 " ) ->  base_rotation;
coherence
proof
set D171 = ( TOP-REAL R11 );
set D172 = ( GFuncs (the carrier of D171) );
defpred S6[ Nat ] means (for B21 being (FinSequence of D172) holds (for B22 being (Function of D171 , D171) holds ((( len B21 ) = $1 & ( Product B21 ) = B22 & (for R9 being Nat holds (R9 in ( dom B21 ) implies (ex R7 being Nat st (ex R8 being Nat st (ex R3 being  real number st (1 <= R7 & R7 < R8 & R8 <= R11 & ( B21 . R9 ) = ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) )))))))) implies ( B22 " ) is  base_rotation)));
consider C68 being (FinSequence of D172) such that L1020: (C67 = ( Product C68 ) & (for R9 being Nat holds (R9 in ( dom C68 ) implies (ex R7 being Nat st (ex R8 being Nat st (ex R3 being  real number st (1 <= R7 & R7 < R8 & R8 <= R11 & ( C68 . R9 ) = ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) )))))))) by L933;
L1021: (for R7 being Nat holds (S6[ R7 ] implies S6[ ( R7 + 1 ) ]))
proof
let C69 being Nat;
assume that
L1022: S6[ C69 ];
set D173 = ( C69 + 1 );
let C70 being (FinSequence of D172);
let C71 being (Function of D171 , D171);
assume that
L1023: ( len C70 ) = D173
and
L1024: ( Product C70 ) = C71
and
L1025: (for R9 being Nat holds (R9 in ( dom C70 ) implies (ex R7 being Nat st (ex R8 being Nat st (ex R3 being  real number st (1 <= R7 & R7 < R8 & R8 <= R11 & ( C70 . R9 ) = ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) )))))));
set D174 = ( C70 | C69 );
reconsider D175 = ( Product D174 ) as (Function of D171 , D171) by MONOID_0:73;
L1026: 1 <= D173 by NAT_1:11;
L1027: D173 in ( dom C70 ) by L1026 , L1023 , FINSEQ_3:25;
consider R7 being Nat, R8 being Nat, R3 being  real number such that L1028: (1 <= R7 & R7 < R8 & R8 <= R11) and L1029: ( C70 . D173 ) = ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ) by L1027 , L1025;
set D176 = ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) );
reconsider D177 = D176 as (Element of D172) by MONOID_0:73;
L1030: C70 = ( D174 ^ <* D177 *> ) by L1023 , L1029 , FINSEQ_3:55;
L1031: C71 = ( ( Product D174 ) * D177 ) by L1030 , L1024 , GROUP_4:6
.= ( D176 * D175 ) by MONOID_0:70;
L1032: ( dom D174 ) c= ( dom C70 ) by RELAT_1:60;
L1033:
now
let R9 being Nat;
assume L1034: R9 in ( dom D174 );
L1035: ( D174 . R9 ) = ( C70 . R9 ) by L1034 , FUNCT_1:47;
thus L1036: (ex R7 being Nat st (ex R8 being Nat st (ex R3 being  real number st (1 <= R7 & R7 < R8 & R8 <= R11 & ( D174 . R9 ) = ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ))))) by L1035 , L1025 , L1032 , L1034;
end;
L1037: D175 is  base_rotation by L1033 , L933;
L1038: (( Det ( Rotation (R7 , R8 , R11 , R3) ) ) <> ( 0. ( F_Real ) ) & ( ( Rotation (R7 , R8 , R11 , R3) ) ~ ) = ( Rotation (R7 , R8 , R11 , ( - R3 )) )) by L1028 , L738 , L503;
L1039: ( (D176 qua Function) " ) = ( Mx2Tran ( Rotation (R7 , R8 , R11 , ( - R3 )) ) ) by L1038 , MATRTOP1:43;
L1040: (( rng D176 ) = ( [#] D171 ) & D176 is  one-to-one & ( dom D176 ) = ( [#] D171 )) by TOPS_2:def 5;
L1041: D176 is  onto by L1040 , FUNCT_2:def 3;
L1042: ( D176 " ) = ( (D176 qua Function) " ) by L1041 , L1040 , TOPS_2:def 4;
L1043: ( len D174 ) = C69 by L1023 , FINSEQ_1:59 , NAT_1:11;
L1044: ( D175 " ) is  base_rotation by L1043 , L1022 , L1033;
L1045: (D175 is  one-to-one & ( dom D175 ) = ( [#] D171 ) & ( rng D175 ) = ( [#] D171 )) by L1037 , TOPS_2:def 5;
L1046: ( C71 " ) = ( ( D175 " ) * ( D176 " ) ) by L1045 , L1031 , L1040 , TOPS_2:53;
L1047: ( Mx2Tran ( Rotation (R7 , R8 , R11 , ( - R3 )) ) ) is  base_rotation by L1028 , L977;
thus L1048: thesis by L1047 , L1039 , L1042 , L1044 , L1046;
end;
L1049: S6[ ( 0 ) ]
proof
let C72 being (FinSequence of D172);
let C73 being (Function of D171 , D171);
assume that
L1050: ( len C72 ) = ( 0 )
and
L1051: ( Product C72 ) = C73;
L1052: C72 = ( <*> (the carrier of D172) ) by L1050;
L1053: C73 = ( 1_ D172 ) by L1052 , L1051 , GROUP_4:8
.= ( the_unity_wrt (the multF of D172) ) by GROUP_1:22
.= ( id D171 ) by MONOID_0:75;
L1054: ( rng C73 ) = ( [#] D171 ) by L1053 , TOPS_2:def 5;
L1055: C73 is  onto by L1054 , FUNCT_2:def 3;
L1056: ( C73 /" ) = ( (C73 qua Function) " ) by L1055 , L1053 , TOPS_2:def 4;
thus L1057: thesis by L1056 , L1053 , FUNCT_1:45;
end;
L1058: (for R7 being Nat holds S6[ R7 ]) from NAT_1:sch 2(L1049 , L1021);
L1059: S6[ ( len C68 ) ] by L1058;
thus L1060: thesis by L1059 , L1020;
end;
end;
registration
let R11 being Nat;
let C74 , C75 being  rotation (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
cluster ( C74 * C75 ) ->  rotation for (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
coherence by L985;
end;
definition
let R11 being Nat;
let R14 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
func AutMt R14 -> (Matrix of R11 , ( F_Real )) means 
:L1063: R14 = ( Mx2Tran it );
existence
proof
set D178 = ( R11 -VectSp_over ( F_Real ) );
set D179 = ( TOP-REAL R11 );
reconsider D180 = ( MX2FinS ( 1. (( F_Real ) , R11) ) ) as (OrdBasis of D178) by MATRLIN2:45;
L1064: (the carrier of D178) = ( REAL R11 ) by MATRIX13:102
.= (the carrier of D179) by EUCLID:22;
reconsider D181 = R14 as (Function of D178 , D178) by L1064;
L1065:
now
let C76 , C77 being (Vector of D178);
reconsider D182 = C76 , D183 = C77 , D184 = ( D181 . C76 ) , D185 = ( D181 . C77 ) as (Element of ( R11 -tuples_on (the carrier of ( F_Real )) )) by MATRIX13:102;
L1066: (( @ ( @ D184 ) ) = D184 & ( @ ( @ D185 ) ) = D185);
reconsider D186 = C76 , D187 = C77 as (Point of D179) by L1064;
L1067: (( @ ( @ D182 ) ) = D182 & ( @ ( @ D183 ) ) = D183);
L1068: ( C76 + C77 ) = ( D182 + D183 ) by MATRIX13:102
.= ( D186 + D187 ) by L1067 , MATRTOP1:1;
thus L1069: ( D181 . ( C76 + C77 ) ) = ( ( R14 . D186 ) + ( R14 . D187 ) ) by L1068 , VECTSP_1:def 20
.= ( D184 + D185 ) by L1066 , MATRTOP1:1
.= ( ( D181 . C76 ) + ( D181 . C77 ) ) by MATRIX13:102;
end;
L1070: D181 is  additive by L1065 , VECTSP_1:def 20;
L1071: ( len D180 ) = R11 by MATRTOP1:19;
reconsider D188 = ( AutMt (D181 , D180 , D180) ) as (Matrix of R11 , ( F_Real )) by L1071;
take D188;
L1072:
now
let C78 being (Scalar of ( F_Real ));
let C79 being (Vector of D178);
reconsider D189 = C79 as (Point of D179) by L1064;
reconsider D190 = C79 , D191 = ( D181 . C79 ) as (Element of ( R11 -tuples_on (the carrier of ( F_Real )) )) by MATRIX13:102;
L1073: ( C78 * C79 ) = ( C78 * D190 ) by MATRIX13:102
.= ( C78 * D189 ) by MATRIXR1:17;
thus L1074: ( D181 . ( C78 * C79 ) ) = ( C78 * ( R14 . D189 ) ) by L1073 , TOPREAL9:def 4
.= ( C78 * D191 ) by MATRIXR1:17
.= ( C78 * ( D181 . C79 ) ) by MATRIX13:102;
end;
L1075: D181 is  homogeneous by L1072 , MOD_2:def 2;
L1076: ( Mx2Tran D188 ) = ( Mx2Tran (( AutMt (D181 , D180 , D180) ) , D180 , D180) ) by MATRTOP1:20
.= R14 by L1075 , L1070 , MATRLIN2:34;
thus L1077: thesis by L1076;
end;
uniqueness by MATRTOP1:34;
end;
theorem
L1079: (for R11 being Nat holds (for R15 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 )) holds (for R16 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 )) holds ( AutMt ( R15 * R16 ) ) = ( ( AutMt R16 ) * ( AutMt R15 ) ))))
proof
let R11 being Nat;
let R15 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
let R16 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
set D192 = ( AutMt R15 );
set D193 = ( AutMt R16 );
L1080: (( width D192 ) = R11 & ( width D193 ) = R11 & ( len D193 ) = R11) by MATRIX_1:24;
L1081: (R11 = ( 0 ) implies R11 = ( 0 ));
L1082: ( Mx2Tran ( D193 * D192 ) ) = ( ( Mx2Tran D192 ) * ( Mx2Tran D193 ) ) by L1081 , L1080 , MATRTOP1:32
.= ( R15 * ( Mx2Tran D193 ) ) by L1063
.= ( R15 * R16 ) by L1063;
thus L1083: thesis by L1082 , L1063;
end;
theorem
L1084: (for R2 being set holds (for R9 being Nat holds (for R11 being Nat holds (for R12 being (Point of ( TOP-REAL R11 )) holds ((R9 in R2 & R9 in ( Seg R11 )) implies (ex R14 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 )) st (R14 is R2 -support-yielding  base_rotation & (( card ( R2 /\ ( Seg R11 ) ) ) > 1 implies ( ( R14 . R12 ) . R9 ) >= ( 0 )) & (for R7 being Nat holds ((R7 in ( R2 /\ ( Seg R11 ) ) & R7 <> R9) implies ( ( R14 . R12 ) . R7 ) = ( 0 ))))))))))
proof
let R2 being set;
let R9 being Nat;
let R11 being Nat;
let R12 being (Point of ( TOP-REAL R11 ));
assume that
L1085: R9 in R2
and
L1086: R9 in ( Seg R11 );
set D194 = ( TOP-REAL R11 );
defpred S7[ Nat ] means ($1 <= R11 implies (ex B23 being  base_rotation (Function of D194 , D194) st (B23 is ( ( R2 /\ ( Seg $1 ) ) \/ { R9 } ) -support-yielding & (( card ( ( R2 /\ ( Seg $1 ) ) \/ { R9 } ) ) > 1 implies ( ( B23 . R12 ) . R9 ) >= ( 0 )) & (for R7 being Nat holds ((R7 in ( R2 /\ ( Seg $1 ) ) & R7 <> R9) implies ( ( B23 . R12 ) . R7 ) = ( 0 ))))));
L1087: (for B24 being Nat holds (S7[ B24 ] implies S7[ ( B24 + 1 ) ]))
proof
let C80 being Nat;
set D195 = ( C80 + 1 );
assume L1088: S7[ C80 ];
L1089: ( Seg D195 ) = ( ( Seg C80 ) \/ { D195 } ) by FINSEQ_1:9;
L1090: ( Seg D195 ) = ( ( Seg C80 ) \/ { D195 } ) by FINSEQ_1:9;
L1091: (D195 in R2 implies ( ( ( R2 /\ ( Seg C80 ) ) \/ { R9 } ) \/ { D195 , R9 } ) = ( ( R2 /\ ( Seg D195 ) ) \/ { R9 } ))
proof
assume L1092: D195 in R2;
L1093: ( R2 \/ { D195 } ) = R2 by L1092 , ZFMISC_1:40;
L1094: { D195 , R9 } = ( { D195 } \/ { R9 } ) by ENUMSET1:1;
thus L1095: ( ( ( R2 /\ ( Seg C80 ) ) \/ { R9 } ) \/ { D195 , R9 } ) = ( ( R2 /\ ( Seg C80 ) ) \/ ( { R9 } \/ ( { R9 } \/ { D195 } ) ) ) by L1094 , XBOOLE_1:4
.= ( ( R2 /\ ( Seg C80 ) ) \/ ( ( { R9 } \/ { R9 } ) \/ { D195 } ) ) by XBOOLE_1:4
.= ( ( ( R2 /\ ( Seg C80 ) ) \/ { D195 } ) \/ { R9 } ) by XBOOLE_1:4
.= ( ( R2 /\ ( Seg D195 ) ) \/ { R9 } ) by L1090 , L1093 , XBOOLE_1:24;
end;
assume L1096: D195 <= R11;
consider C81 being  base_rotation (Function of D194 , D194) such that L1097: C81 is ( ( R2 /\ ( Seg C80 ) ) \/ { R9 } ) -support-yielding and L1098: (( card ( ( R2 /\ ( Seg C80 ) ) \/ { R9 } ) ) > 1 implies ( ( C81 . R12 ) . R9 ) >= ( 0 )) and L1099: (for R10 being Nat holds ((R10 in ( R2 /\ ( Seg C80 ) ) & R10 <> R9) implies ( ( C81 . R12 ) . R10 ) = ( 0 ))) by L1096 , L1088 , NAT_1:13;
set D196 = ( C80 + 1 );
per cases  by XXREAL_0:1;
suppose L1100: D196 = R9;

take C81;
L1101: ( ( Seg D196 ) \/ { D196 } ) = ( ( Seg C80 ) \/ ( { D196 } \/ { D196 } ) ) by L1089 , XBOOLE_1:4
.= ( ( Seg C80 ) \/ { D196 } );
L1102: ( ( R2 /\ ( Seg D196 ) ) \/ { R9 } ) = ( ( R2 \/ { R9 } ) /\ ( ( Seg C80 ) \/ { R9 } ) ) by L1101 , L1100 , XBOOLE_1:24
.= ( ( R2 /\ ( Seg C80 ) ) \/ { R9 } ) by XBOOLE_1:24;
thus L1103: C81 is ( ( R2 /\ ( Seg D196 ) ) \/ { R9 } ) -support-yielding by L1102 , L1097;
thus L1104: (( card ( ( R2 /\ ( Seg D196 ) ) \/ { R9 } ) ) > 1 implies ( ( C81 . R12 ) . R9 ) >= ( 0 )) by L1098 , L1102;
let R10 being Nat;
assume that
L1105: R10 in ( R2 /\ ( Seg D196 ) )
and
L1106: R10 <> R9;
L1107: R10 in ( Seg D196 ) by L1105 , XBOOLE_0:def 4;
L1108: R10 in R2 by L1105 , XBOOLE_0:def 4;
L1109: (not R10 in { D196 }) by L1100 , L1106 , TARSKI:def 1;
L1110: R10 in ( Seg C80 ) by L1109 , L1089 , L1107 , XBOOLE_0:def 3;
L1111: R10 in ( R2 /\ ( Seg C80 ) ) by L1110 , L1108 , XBOOLE_0:def 4;
thus L1112: ( ( C81 . R12 ) . R10 ) = ( 0 ) by L1111 , L1099 , L1106;
end;
suppose L1113: (not D196 in R2);

take C81;
L1114: { D196 } misses R2 by L1113 , ZFMISC_1:50;
L1115: ( R2 /\ ( Seg D196 ) ) = ( ( R2 /\ ( Seg C80 ) ) \/ ( R2 /\ { D196 } ) ) by L1089 , XBOOLE_1:23
.= ( ( R2 /\ ( Seg C80 ) ) \/ ( {} ) ) by L1114 , XBOOLE_0:def 7
.= ( R2 /\ ( Seg C80 ) );
thus L1116: C81 is ( ( R2 /\ ( Seg D196 ) ) \/ { R9 } ) -support-yielding by L1115 , L1097;
thus L1117: (( card ( ( R2 /\ ( Seg D196 ) ) \/ { R9 } ) ) > 1 implies ( ( C81 . R12 ) . R9 ) >= ( 0 )) by L1098 , L1115;
let R10 being Nat;
assume that
L1118: R10 in ( R2 /\ ( Seg D196 ) )
and
L1119: R10 <> R9;
L1120: R10 in ( Seg D196 ) by L1118 , XBOOLE_0:def 4;
L1121: R10 in R2 by L1118 , XBOOLE_0:def 4;
L1122: (not R10 in { D196 }) by L1121 , L1113 , TARSKI:def 1;
L1123: R10 in ( Seg C80 ) by L1122 , L1089 , L1120 , XBOOLE_0:def 3;
L1124: R10 in ( R2 /\ ( Seg C80 ) ) by L1123 , L1121 , XBOOLE_0:def 4;
thus L1125: ( ( C81 . R12 ) . R10 ) = ( 0 ) by L1124 , L1099 , L1119;
end;
suppose L1126: (D196 < R9 & D196 in R2);

set D197 = ( C81 . R12 );
set D198 = ( ( ( D197 . D196 ) ^2 ) + ( ( D197 . R9 ) ^2 ) );
L1127: (D196 >= 1 & R9 <= R11) by L1086 , FINSEQ_1:1 , NAT_1:11;
L1128: (( ( D197 . R9 ) ^2 ) >= ( 0 ) & ( ( D197 . D196 ) ^2 ) >= ( 0 )) by XREAL_1:63;
L1129: ( ( sqrt D198 ) ^2 ) = D198 by L1128 , SQUARE_1:def 2;
consider R3 being  real number such that L1130: ( ( ( Mx2Tran ( Rotation (D196 , R9 , R11 , R3) ) ) . D197 ) . R9 ) = ( sqrt D198 ) by L1129 , L1126 , L1127 , L895;
reconsider D199 = ( Mx2Tran ( Rotation (D196 , R9 , R11 , R3) ) ) as  base_rotation (Function of D194 , D194) by L1126 , L1127 , L977;
take D200 = ( D199 * C81 );
L1131: D199 is { D196 , R9 } -support-yielding by L1126 , L1127 , L910;
thus L1132: D200 is ( ( R2 /\ ( Seg D196 ) ) \/ { R9 } ) -support-yielding by L1131 , L1091 , L1097 , L1126;
L1133: ( dom D200 ) = (the carrier of D194) by FUNCT_2:52;
L1134: D197 in ( dom D199 ) by L1133 , FUNCT_1:11;
L1135: ( D200 . R12 ) = ( D199 . D197 ) by L1133 , FUNCT_1:12;
thus L1136: (( card ( ( R2 /\ ( Seg D196 ) ) \/ { R9 } ) ) > 1 implies ( ( D200 . R12 ) . R9 ) >= ( 0 )) by L1135 , L1128 , L1130 , SQUARE_1:def 2;
let R7 being Nat;
assume that
L1137: R7 in ( R2 /\ ( Seg D196 ) )
and
L1138: R7 <> R9;
L1139: R7 in R2 by L1137 , XBOOLE_0:def 4;
L1140: R7 in ( Seg D196 ) by L1137 , XBOOLE_0:def 4;
L1141: (R7 in ( Seg C80 ) or R7 in { D196 }) by L1140 , L1089 , XBOOLE_0:def 3;
per cases  by L1141 , TARSKI:def 1;
suppose L1142: R7 in ( Seg C80 );

L1143: R7 in ( R2 /\ ( Seg C80 ) ) by L1142 , L1139 , XBOOLE_0:def 4;
L1144: R7 <= C80 by L1142 , FINSEQ_1:1;
L1145: R7 < D196 by L1144 , NAT_1:13;
L1146: (not R7 in { D196 , R9 }) by L1145 , L1138 , TARSKI:def 2;
thus L1147: ( ( D200 . R12 ) . R7 ) = ( D197 . R7 ) by L1146 , L1131 , L1134 , L1135 , L38
.= ( 0 ) by L1099 , L1138 , L1143;
end;
suppose L1148: R7 = D196;

L1149: ( ( ( ( D199 . D197 ) . R7 ) * ( ( D199 . D197 ) . R7 ) ) + D198 ) = D198 by L1148 , L1126 , L1127 , L1129 , L1130 , L887;
thus L1150: ( ( D200 . R12 ) . R7 ) = ( ( D199 . D197 ) . R7 ) by L1133 , FUNCT_1:12
.= ( 0 ) by L1149;
end;
end;
suppose L1152: (D196 > R9 & D196 in R2);

set D201 = ( C81 . R12 );
set D202 = ( ( ( D201 . D196 ) ^2 ) + ( ( D201 . R9 ) ^2 ) );
L1153: 1 <= R9 by L1086 , FINSEQ_1:1;
L1154: (( ( D201 . R9 ) ^2 ) >= ( 0 ) & ( ( D201 . D196 ) ^2 ) >= ( 0 )) by XREAL_1:63;
L1155: ( ( sqrt D202 ) ^2 ) = D202 by L1154 , SQUARE_1:def 2;
consider R3 being  real number such that L1156: ( ( ( Mx2Tran ( Rotation (R9 , D196 , R11 , R3) ) ) . D201 ) . R9 ) = ( sqrt D202 ) by L1155 , L1096 , L1152 , L1153 , L827;
reconsider D203 = ( Mx2Tran ( Rotation (R9 , D196 , R11 , R3) ) ) as  base_rotation (Function of D194 , D194) by L1096 , L1152 , L1153 , L977;
take D204 = ( D203 * C81 );
L1157: D203 is { R9 , D196 } -support-yielding by L1096 , L1152 , L1153 , L910;
thus L1158: D204 is ( ( R2 /\ ( Seg D196 ) ) \/ { R9 } ) -support-yielding by L1157 , L1091 , L1097 , L1152;
L1159: ( dom D204 ) = (the carrier of D194) by FUNCT_2:52;
L1160: ( D204 . R12 ) = ( D203 . D201 ) by L1159 , FUNCT_1:12;
thus L1161: (( card ( ( R2 /\ ( Seg D196 ) ) \/ { R9 } ) ) > 1 implies ( ( D204 . R12 ) . R9 ) >= ( 0 )) by L1160 , L1154 , L1156 , SQUARE_1:def 2;
let R7 being Nat;
assume that
L1162: R7 in ( R2 /\ ( Seg D196 ) )
and
L1163: R7 <> R9;
L1164: R7 in R2 by L1162 , XBOOLE_0:def 4;
L1165: R7 in ( Seg D196 ) by L1162 , XBOOLE_0:def 4;
L1166: (R7 in ( Seg C80 ) or R7 in { D196 }) by L1165 , L1089 , XBOOLE_0:def 3;
per cases  by L1166 , TARSKI:def 1;
suppose L1167: R7 in ( Seg C80 );

L1168: R7 <= C80 by L1167 , FINSEQ_1:1;
L1169: R7 < D196 by L1168 , NAT_1:13;
L1170: (not R7 in { D196 , R9 }) by L1169 , L1163 , TARSKI:def 2;
L1171: R7 in ( R2 /\ ( Seg C80 ) ) by L1164 , L1167 , XBOOLE_0:def 4;
L1172: D201 in ( dom D203 ) by L1159 , FUNCT_1:11;
thus L1173: ( ( D204 . R12 ) . R7 ) = ( D201 . R7 ) by L1172 , L1157 , L1160 , L1170 , L38
.= ( 0 ) by L1099 , L1163 , L1171;
end;
suppose L1174: R7 = D196;

L1175: ( ( ( ( D203 . D201 ) . R7 ) * ( ( D203 . D201 ) . R7 ) ) + D202 ) = D202 by L1174 , L1096 , L1152 , L1153 , L1155 , L1156 , L887;
thus L1176: ( ( D204 . R12 ) . R7 ) = ( ( D203 . D201 ) . R7 ) by L1159 , FUNCT_1:12
.= ( 0 ) by L1175;
end;
end;
end;
L1179: S7[ ( 0 ) ]
proof
assume L1180: ( 0 ) <= R11;
take D205 = ( id D194 );
L1181: D205 is ( {} ) -support-yielding
proof
let C82 being Function;
let C83 being set;
assume that
L1182: C82 in ( dom D205 )
and
L1183: ( ( D205 . C82 ) . C83 ) <> ( C82 . C83 );
L1184: C82 in (the carrier of D194) by L1182 , FUNCT_1:17;
thus L1185: thesis by L1184 , L1183 , FUNCT_1:17;
end;
L1186: ( {} ) c= ( ( R2 /\ ( Seg ( 0 ) ) ) \/ { R9 } ) by XBOOLE_1:2;
thus L1187: D205 is ( ( R2 /\ ( Seg ( 0 ) ) ) \/ { R9 } ) -support-yielding by L1186 , L1181;
thus L1188: (( card ( ( R2 /\ ( Seg ( 0 ) ) ) \/ { R9 } ) ) > 1 implies ( ( D205 . R12 ) . R9 ) >= ( 0 )) by CARD_2:42;
let R10 being Nat;
assume L1189: R10 in ( R2 /\ ( Seg ( 0 ) ) );
thus L1190: thesis by L1189;
end;
L1191: (for B25 being Nat holds S7[ B25 ]) from NAT_1:sch 2(L1179 , L1087);
consider C84 being  base_rotation (Function of D194 , D194) such that L1192: (C84 is ( ( R2 /\ ( Seg R11 ) ) \/ { R9 } ) -support-yielding & (( card ( ( R2 /\ ( Seg R11 ) ) \/ { R9 } ) ) > 1 implies ( ( C84 . R12 ) . R9 ) >= ( 0 )) & (for R7 being Nat holds ((R7 in ( R2 /\ ( Seg R11 ) ) & R7 <> R9) implies ( ( C84 . R12 ) . R7 ) = ( 0 )))) by L1191;
take C84;
L1193: ( R2 /\ ( Seg R11 ) ) c= R2 by XBOOLE_1:17;
L1194: ({ R9 } c= R2 & { R9 } c= ( Seg R11 )) by L1085 , L1086 , ZFMISC_1:31;
L1195: ( ( R2 /\ ( Seg R11 ) ) \/ { R9 } ) = ( R2 /\ ( Seg R11 ) ) by L1194 , XBOOLE_1:12 , XBOOLE_1:19;
thus L1196: thesis by L1195 , L1192 , L1193;
end;
theorem
L1197: (for R11 being Nat holds (for R14 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 )) holds (for B26 being (Subset of ( TOP-REAL R11 )) holds (( R14 | B26 ) = ( id B26 ) implies ( R14 | ( Lin B26 ) ) = ( id ( Lin B26 ) )))))
proof
let R11 being Nat;
let R14 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
set D206 = ( TOP-REAL R11 );
let C85 being (Subset of ( TOP-REAL R11 ));
assume that
L1198: ( R14 | C85 ) = ( id C85 );
defpred S8[ Nat ] means (for B27 being (Linear_Combination of C85) holds (( card ( Carrier B27 ) ) <= $1 implies ( R14 . ( Sum B27 ) ) = ( Sum B27 )));
L1199: (for R7 being Nat holds (S8[ R7 ] implies S8[ ( R7 + 1 ) ]))
proof
let R7 being Nat;
assume L1200: S8[ R7 ];
set D207 = ( R7 + 1 );
let C86 being (Linear_Combination of C85);
assume L1201: ( card ( Carrier C86 ) ) <= D207;
per cases  by L1201 , NAT_1:8;
suppose L1202: ( card ( Carrier C86 ) ) <= R7;

thus L1203: thesis by L1202 , L1200;
end;
suppose L1204: ( card ( Carrier C86 ) ) = D207;

L1205: ( Carrier C86 ) is non  empty by L1204;
consider C87 being set such that L1206: C87 in ( Carrier C86 ) by L1205 , XBOOLE_0:def 1;
reconsider D208 = C87 as (Point of D206) by L1206;
reconsider D209 = { D208 } as (Subset of D206) by ZFMISC_1:31;
consider C88 being (Linear_Combination of D209) such that L1207: ( C88 . D208 ) = ( C86 . D208 ) by RLVECT_4:37;
L1208: ( C86 . D208 ) <> ( 0 ) by L1206 , RLVECT_2:19;
L1209: (( Carrier C88 ) c= { D208 } & D208 in ( Carrier C88 )) by L1208 , L1207 , RLVECT_2:19 , RLVECT_2:def 6;
L1210: ( Carrier C88 ) = { D208 } by L1209 , ZFMISC_1:33;
L1211: ( { D208 } \/ ( Carrier C86 ) ) = ( Carrier C86 ) by L1206 , ZFMISC_1:40;
L1212: ( Carrier ( C86 - C88 ) ) c= ( Carrier C86 ) by L1211 , L1210 , RLVECT_2:55;
L1213: ( ( C86 - C88 ) . D208 ) = ( ( C86 . D208 ) - ( C88 . D208 ) ) by RLVECT_2:54
.= ( 0 ) by L1207;
L1214: (not D208 in ( Carrier ( C86 - C88 ) )) by L1213 , RLVECT_2:19;
L1215: ( Carrier ( C86 - C88 ) ) c< ( Carrier C86 ) by L1214 , L1206 , L1212 , XBOOLE_0:def 8;
L1216: ( card ( Carrier ( C86 - C88 ) ) ) < D207 by L1215 , L1204 , CARD_2:48;
L1217: ( card ( Carrier ( C86 - C88 ) ) ) <= R7 by L1216 , NAT_1:13;
L1218: ( ZeroLC D206 ) = ( ( - C88 ) - ( - C88 ) ) by RLVECT_2:57
.= ( ( - C88 ) + ( - ( - C88 ) ) ) by RLVECT_2:def 13
.= ( ( - C88 ) + C88 ) by RLVECT_2:53;
L1219: C86 = ( C86 + ( ( - C88 ) + C88 ) ) by L1218 , RLVECT_2:41
.= ( ( C86 + ( - C88 ) ) + C88 ) by RLVECT_2:40
.= ( ( C86 - C88 ) + C88 ) by RLVECT_2:def 13;
L1220: ( Sum C86 ) = ( ( Sum ( C86 - C88 ) ) + ( Sum C88 ) ) by L1219 , RLVECT_3:1;
L1221: ( Carrier C86 ) c= C85 by RLVECT_2:def 6;
L1222: ( ( R14 | C85 ) . D208 ) = ( R14 . D208 ) by L1221 , L1206 , FUNCT_1:49;
L1223: ( R14 . D208 ) = D208 by L1222 , L1198 , L1206 , L1221 , FUNCT_1:17;
L1224: ( Carrier ( C86 - C88 ) ) c= C85 by L1212 , L1221 , XBOOLE_1:1;
L1225: ( C86 - C88 ) is (Linear_Combination of C85) by L1224 , RLVECT_2:def 6;
L1226: ( R14 . ( Sum ( C86 - C88 ) ) ) = ( Sum ( C86 - C88 ) ) by L1225 , L1200 , L1217;
L1227: ( Sum C88 ) = ( ( C86 . D208 ) * D208 ) by L1207 , RLVECT_2:32;
L1228: ( R14 . ( Sum C88 ) ) = ( Sum C88 ) by L1227 , L1223 , TOPREAL9:def 4;
thus L1229: ( R14 . ( Sum C86 ) ) = ( Sum C86 ) by L1228 , L1220 , L1226 , VECTSP_1:def 20;
end;
end;
set D210 = ( Lin C85 );
set D211 = (the carrier of D210);
L1231: D211 c= (the carrier of D206) by RLSUB_1:def 2;
L1232: ( R14 | D210 ) = ( R14 | D211 ) by L1231 , TMAP_1:def 3;
L1233: S8[ ( 0 ) ]
proof
let C89 being (Linear_Combination of C85);
assume L1234: ( card ( Carrier C89 ) ) <= ( 0 );
L1235: ( Carrier C89 ) = ( {} ) by L1234;
L1236: C89 is (Linear_Combination of ( {} (the carrier of D206) )) by L1235 , RLVECT_2:def 6;
L1237: ( Sum C89 ) = ( 0. D206 ) by L1236 , RLVECT_2:31;
L1238: ( R14 . ( 0. D206 ) ) = ( R14 . ( (( 0 ) qua  real number) * ( 0. D206 ) ) ) by RLVECT_1:10
.= ( (( 0 ) qua  real number) * ( R14 . ( 0. D206 ) ) ) by TOPREAL9:def 4
.= ( 0. D206 ) by RLVECT_1:10;
thus L1239: thesis by L1238 , L1237;
end;
L1240: (for R7 being Nat holds S8[ R7 ]) from NAT_1:sch 2(L1233 , L1199);
L1241: (for R1 being set holds (R1 in D211 implies ( ( R14 | D210 ) . R1 ) = ( ( id D210 ) . R1 )))
proof
let R1 being set;
assume L1242: R1 in D211;
L1243: R1 in D210 by L1242 , STRUCT_0:def 5;
consider C90 being (Linear_Combination of C85) such that L1244: ( Sum C90 ) = R1 by L1243 , RLVECT_3:14;
L1245: S8[ ( card ( Carrier C90 ) ) ] by L1240;
L1246: ( R14 . R1 ) = R1 by L1245 , L1244;
L1247: ( ( R14 | D210 ) . R1 ) = ( R14 . R1 ) by L1232 , L1242 , FUNCT_1:49;
thus L1248: thesis by L1247 , L1242 , L1246 , FUNCT_1:17;
end;
L1249: (( dom ( R14 | D210 ) ) = D211 & ( dom ( id D210 ) ) = D211) by FUNCT_2:def 1;
thus L1250: thesis by L1249 , L1241 , FUNCT_1:2;
end;
theorem
L1251: (for R11 being Nat holds (for R12 being (Point of ( TOP-REAL R11 )) holds (for R14 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 )) holds (for B28 being (Subset of ( TOP-REAL R11 )) holds ((R14 is  rotation & ( R14 | B28 ) = ( id B28 )) implies (for R7 being Nat holds ((R7 in ( Seg R11 ) & ( Base_FinSeq (R11 , R7) ) in ( Lin B28 )) implies ( ( R14 . R12 ) . R7 ) = ( R12 . R7 ))))))))
proof
let R11 being Nat;
let R12 being (Point of ( TOP-REAL R11 ));
let R14 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
set D212 = ( TOP-REAL R11 );
let C91 being (Subset of D212);
assume that
L1252: R14 is  rotation
and
L1253: ( R14 | C91 ) = ( id C91 );
set D213 = ( Lin C91 );
set D214 = ( 0* R11 );
L1254: ( R14 | D213 ) = ( id D213 ) by L1253 , L1197;
L1255: ( len D214 ) = R11 by CARD_1:def 7;
L1256: ( dom D214 ) = ( Seg R11 ) by L1255 , FINSEQ_1:def 3;
let R9 being Nat;
assume that
L1257: R9 in ( Seg R11 )
and
L1258: ( Base_FinSeq (R11 , R9) ) in D213;
set D215 = ( D214 +* (R9 , 1) );
L1259: D215 = ( Base_FinSeq (R11 , R9) ) by MATRIXR2:def 4;
set D216 = ( R12 . R9 );
L1260: (the carrier of D213) c= (the carrier of D212) by RLSUB_1:def 2;
L1261: ( R14 | D213 ) = ( R14 | (the carrier of D213) ) by L1260 , TMAP_1:def 3;
L1262: ( dom D215 ) = ( dom D214 ) by FUNCT_7:30;
L1263: ( len D215 ) = R11 by L1262 , L1255 , FINSEQ_3:29;
L1264: D215 = ( @ ( @ D215 ) );
reconsider D217 = D215 as (Point of D212) by L1264 , L1263 , TOPREAL3:46;
L1265: D215 is (Element of ( R11 -tuples_on ( REAL ) )) by L1263 , L1264 , FINSEQ_2:92;
L1266: (for R12 being (Point of ( TOP-REAL R11 )) holds (( R12 . R9 ) <> ( 0 ) implies ( ( R14 . R12 ) . R9 ) = ( R12 . R9 )))
proof
let R12 being (Point of ( TOP-REAL R11 ));
assume L1267: ( R12 . R9 ) <> ( 0 );
set D218 = ( R14 . R12 );
set D219 = ( R12 . R9 );
set D220 = ( D219 * D217 );
set D221 = ( R12 - D220 );
L1268: ( ( R14 . D221 ) + ( R14 . D220 ) ) = ( R14 . ( D221 + D220 ) ) by VECTSP_1:def 20;
L1269: (( len ( R14 . D221 ) ) = R11 & ( len ( R14 . D220 ) ) = R11) by CARD_1:def 7;
L1270: ( |. ( R14 . ( D221 + D220 ) ) .| ^2 ) = ( ( ( |. ( R14 . D221 ) .| ^2 ) + ( 2 * |( ( R14 . D220 ) , ( R14 . D221 ) )| ) ) + ( |. ( R14 . D220 ) .| ^2 ) ) by L1269 , L1268 , EUCLID_2:11;
L1271: ( ( R11 |-> D219 ) . R9 ) = D219 by L1257 , FINSEQ_2:57;
L1272: ( D219 * D215 ) = ( mlt (( R11 |-> D219 ) , D215) ) by L1265 , RVSUM_1:63
.= ( ( 0* R11 ) +* (R9 , ( D219 * 1 )) ) by L1271 , TOPREALC:15
.= ( ( 0* R11 ) +* (R9 , D219) );
L1273: ( len D218 ) = R11 by CARD_1:def 7;
L1274: ( dom D218 ) = ( Seg R11 ) by L1273 , FINSEQ_1:def 3;
L1275: ( len D221 ) = R11 by CARD_1:def 7;
L1276: ( dom D221 ) = ( Seg R11 ) by L1275 , FINSEQ_1:def 3;
L1277: ( D221 . R9 ) = ( D219 - ( D220 . R9 ) ) by L1276 , L1257 , VALUED_1:13;
L1278: ( len D220 ) = R11 by CARD_1:def 7;
L1279: ( |. ( D221 + D220 ) .| ^2 ) = ( ( ( |. D221 .| ^2 ) + ( 2 * |( D220 , D221 )| ) ) + ( |. D220 .| ^2 ) ) by L1278 , L1275 , EUCLID_2:11;
L1280: D220 in D213 by L1258 , L1259 , RLSUB_1:21;
L1281: D220 in (the carrier of D213) by L1280 , STRUCT_0:def 5;
L1282: D220 = ( ( R14 | D213 ) . D220 ) by L1281 , L1254 , FUNCT_1:17
.= ( R14 . D220 ) by L1261 , L1281 , FUNCT_1:49;
L1283: (|. ( D221 + D220 ) .| = |. ( R14 . ( D221 + D220 ) ) .| & |. D221 .| = |. ( R14 . D221 ) .|) by L1252 , L926;
L1284: |( D220 , D221 )| = ( D219 * ( ( R14 . D221 ) . R9 ) ) by L1283 , L1272 , L1270 , L1279 , L1282 , TOPREALC:16;
L1285: ( D219 * ( D221 . R9 ) ) = ( D219 * ( ( R14 . D221 ) . R9 ) ) by L1284 , L1272 , TOPREALC:16;
L1286: ( D220 . R9 ) = D219 by L1257 , L1256 , L1272 , FUNCT_7:31;
L1287: ( ( R14 . D221 ) . R9 ) = ( 0 ) by L1286 , L1267 , L1277 , L1285;
L1288: ( D221 + D220 ) = ( R12 - ( D220 - D220 ) ) by EUCLID:47
.= ( R12 - ( 0. D212 ) ) by EUCLID:42
.= R12 by RLVECT_1:13;
L1289: ( D218 . R9 ) = ( ( ( R14 . D221 ) . R9 ) + ( ( R14 . D220 ) . R9 ) ) by L1288 , L1257 , L1268 , L1274 , VALUED_1:def 1
.= ( ( ( R14 . D221 ) . R9 ) + D219 ) by L1257 , L1256 , L1272 , L1282 , FUNCT_7:31;
thus L1290: thesis by L1289 , L1287;
end;
per cases ;
suppose L1291: ( R12 . R9 ) <> ( 0 );

thus L1292: thesis by L1291 , L1266;
end;
suppose L1293: ( R12 . R9 ) = ( 0 );

L1294: ( len ( R14 . R12 ) ) = R11 by CARD_1:def 7;
L1295: ( |. ( ( R14 . R12 ) + D217 ) .| ^2 ) = ( ( ( |. ( R14 . R12 ) .| ^2 ) + ( 2 * |( D217 , ( R14 . R12 ) )| ) ) + ( |. D217 .| ^2 ) ) by L1294 , L1263 , EUCLID_2:11;
L1296: ( len R12 ) = R11 by CARD_1:def 7;
L1297: ( |. ( R12 + D217 ) .| ^2 ) = ( ( ( |. R12 .| ^2 ) + ( 2 * |( D217 , R12 )| ) ) + ( |. D217 .| ^2 ) ) by L1296 , L1263 , EUCLID_2:11;
L1298: D217 in (the carrier of D213) by L1258 , L1259 , STRUCT_0:def 5;
L1299: D217 = ( ( R14 | D213 ) . D217 ) by L1298 , L1254 , FUNCT_1:17
.= ( R14 . D217 ) by L1261 , L1298 , FUNCT_1:49;
L1300: ( R14 . ( R12 + D217 ) ) = ( ( R14 . R12 ) + D217 ) by L1299 , VECTSP_1:def 20;
L1301: (|. ( R12 + D217 ) .| = |. ( R14 . ( R12 + D217 ) ) .| & |. ( R14 . R12 ) .| = |. R12 .|) by L1252 , L926;
L1302: |( D217 , ( R14 . R12 ) )| = ( (1 qua Real) * ( R12 . R9 ) ) by L1301 , L1295 , L1297 , L1300 , TOPREALC:16;
L1303: ( R12 . R9 ) = ( (1 qua Real) * ( ( R14 . R12 ) . R9 ) ) by L1302 , TOPREALC:16;
thus L1304: thesis by L1303;
end;
end;
theorem
L1306: (for R2 being set holds (for R11 being Nat holds (for R12 being (Point of ( TOP-REAL R11 )) holds (for B29 being  rotation (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 )) holds ((B29 is R2 -support-yielding & (for R7 being Nat holds (R7 in ( R2 /\ ( Seg R11 ) ) implies ( R12 . R7 ) = ( 0 )))) implies ( B29 . R12 ) = R12)))))
proof
let R2 being set;
let R11 being Nat;
let R12 being (Point of ( TOP-REAL R11 ));
set D222 = ( TOP-REAL R11 );
let C92 being  rotation (Function of D222 , D222);
assume that
L1307: C92 is R2 -support-yielding
and
L1308: (for R7 being Nat holds (R7 in ( R2 /\ ( Seg R11 ) ) implies ( R12 . R7 ) = ( 0 )));
set D223 = ( sqr R12 );
set D224 = ( sqr ( C92 . R12 ) );
L1309: ( Sum D223 ) >= ( 0 ) by RVSUM_1:86;
L1310: (( Sum D224 ) >= ( 0 ) & |. ( C92 . R12 ) .| = |. R12 .|) by L926 , RVSUM_1:86;
L1311: ( Sum D223 ) = ( Sum D224 ) by L1310 , L1309 , SQUARE_1:28;
L1312: ( len R12 ) = R11 by CARD_1:def 7;
L1313: R12 = ( @ ( @ R12 ) );
L1314: ( len D223 ) = R11 by L1313 , L1312 , RVSUM_1:143;
L1315: ( len ( C92 . R12 ) ) = R11 by CARD_1:def 7;
L1316: ( @ ( @ ( C92 . R12 ) ) ) = ( C92 . R12 );
L1317: ( len D224 ) = R11 by L1316 , L1315 , RVSUM_1:143;
reconsider D225 = D223 , D226 = D224 as (Element of ( R11 -tuples_on ( REAL ) )) by L1317 , L1314 , FINSEQ_2:92;
L1318: ( dom C92 ) = (the carrier of D222) by FUNCT_2:52;
L1319: (for R7 being Nat holds (R7 in ( Seg R11 ) implies ( D225 . R7 ) <= ( D226 . R7 )))
proof
let R7 being Nat;
L1320: (( D225 . R7 ) = ( ( R12 . R7 ) ^2 ) & ( D226 . R7 ) = ( ( ( C92 . R12 ) . R7 ) ^2 )) by VALUED_1:11;
assume L1321: R7 in ( Seg R11 );
per cases ;
suppose L1322: R7 in R2;

L1323: R7 in ( R2 /\ ( Seg R11 ) ) by L1322 , L1321 , XBOOLE_0:def 4;
L1324: ( R12 . R7 ) = ( 0 ) by L1323 , L1308;
thus L1325: thesis by L1324 , L1320 , XREAL_1:63;
end;
suppose L1326: (not R7 in R2);

thus L1327: thesis by L1326 , L1307 , L1318 , L1320 , L38;
end;
end;
L1329: (for R7 being Nat holds ((1 <= R7 & R7 <= R11) implies ( R12 . R7 ) = ( ( C92 . R12 ) . R7 )))
proof
let R7 being Nat;
L1330: ( D225 . R7 ) = ( ( R12 . R7 ) ^2 ) by VALUED_1:11;
assume L1331: (1 <= R7 & R7 <= R11);
L1332: R7 in ( Seg R11 ) by L1331 , FINSEQ_1:1;
L1333: (( D225 . R7 ) >= ( D226 . R7 ) & ( D225 . R7 ) <= ( D226 . R7 )) by L1332 , L1311 , L1319 , RVSUM_1:83;
per cases ;
suppose L1334: R7 in R2;

L1335: R7 in ( R2 /\ ( Seg R11 ) ) by L1334 , L1332 , XBOOLE_0:def 4;
L1336: ( R12 . R7 ) = ( 0 ) by L1335 , L1308;
L1337: ( ( ( C92 . R12 ) . R7 ) ^2 ) = ( 0 ) by L1336 , L1330 , L1333 , VALUED_1:11;
L1338: ( ( C92 . R12 ) . R7 ) = ( 0 ) by L1337;
thus L1339: thesis by L1338 , L1308 , L1335;
end;
suppose L1340: (not R7 in R2);

thus L1341: thesis by L1340 , L1307 , L1318 , L38;
end;
end;
thus L1343: thesis by L1329 , L1312 , L1315 , FINSEQ_1:14;
end;
theorem
L1344: (for R7 being Nat holds (for R11 being Nat holds (for R12 being (Point of ( TOP-REAL R11 )) holds ((R7 in ( Seg R11 ) & R11 >= 2) implies (ex R14 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 )) st (R14 is  base_rotation & ( R14 . R12 ) = ( R12 +* (R7 , ( - ( R12 . R7 ) )) )))))))
proof
let R7 being Nat;
let R11 being Nat;
let R12 being (Point of ( TOP-REAL R11 ));
set D227 = ( TOP-REAL R11 );
assume that
L1345: R7 in ( Seg R11 )
and
L1346: R11 >= 2;
L1347: { R7 } c= ( Seg R11 ) by L1345 , ZFMISC_1:31;
L1348: 1 <= R7 by L1345 , FINSEQ_1:1;
L1349: (( card ( Seg R11 ) ) = R11 & ( card { R7 } ) = 1) by CARD_2:42 , FINSEQ_1:57;
L1350: { R7 } <> ( Seg R11 ) by L1349 , L1346;
L1351: { R7 } c< ( Seg R11 ) by L1350 , L1347 , XBOOLE_0:def 8;
consider C93 being set such that L1352: C93 in ( Seg R11 ) and L1353: (not C93 in { R7 }) by L1351 , XBOOLE_0:6;
reconsider D228 = C93 as Nat by L1352;
L1354: D228 <> R7 by L1353 , TARSKI:def 1;
L1355: 1 <= D228 by L1352 , FINSEQ_1:1;
set D229 = ( R12 +* (R7 , ( - ( R12 . R7 ) )) );
L1356: ( len D229 ) = ( len R12 ) by FUNCT_7:97;
L1357: ( len R12 ) = R11 by CARD_1:def 7;
L1358: ( dom R12 ) = ( Seg R11 ) by L1357 , FINSEQ_1:def 3;
L1359: R7 <= R11 by L1345 , FINSEQ_1:1;
L1360: (( ( R12 . R7 ) * ( R12 . R7 ) ) >= ( 0 ) & ( ( R12 . D228 ) * ( R12 . D228 ) ) >= ( 0 )) by XREAL_1:63;
L1361: (( ( 0 ) ^2 ) = ( 0* ( 0 ) ) & ( 0 ) <= ( ( ( R12 . R7 ) ^2 ) + ( ( R12 . D228 ) ^2 ) )) by L1360;
L1362: D228 <= R11 by L1352 , FINSEQ_1:1;
per cases  by L1354 , XXREAL_0:1;
suppose L1363: R7 < D228;

consider R3 being  real number such that L1364: ( ( ( Mx2Tran ( Rotation (R7 , D228 , R11 , R3) ) ) . R12 ) . R7 ) = ( 0 ) by L1363 , L1348 , L1361 , L1362 , L827;
set D230 = ( sin R3 );
set D231 = ( cos R3 );
L1365: ( 0 ) = ( ( ( R12 . R7 ) * D231 ) + ( ( R12 . D228 ) * ( - D230 ) ) ) by L1348 , L1362 , L1363 , L1364 , L761;
reconsider D232 = ( Mx2Tran ( Rotation (R7 , D228 , R11 , ( R3 + R3 )) ) ) as  base_rotation (Function of D227 , D227) by L1348 , L1362 , L1363 , L977;
set D233 = ( D232 . R12 );
L1366: (( cos ( R3 + R3 ) ) = ( ( D231 * D231 ) - ( D230 * D230 ) ) & ( sin ( R3 + R3 ) ) = ( ( D230 * D231 ) + ( D230 * D231 ) )) by SIN_COS:75;
L1367: D232 is { R7 , D228 } -support-yielding by L1348 , L1362 , L1363 , L910;
L1368: (for R9 being Nat holds ((1 <= R9 & R9 <= R11) implies ( D229 . R9 ) = ( D233 . R9 )))
proof
let R9 being Nat;
assume L1369: (1 <= R9 & R9 <= R11);
L1370: R9 in ( Seg R11 ) by L1369 , FINSEQ_1:1;
per cases ;
suppose L1371: R7 = R9;

thus L1372: ( D229 . R9 ) = ( - ( ( R12 . R7 ) * 1 ) ) by L1371 , L1358 , L1370 , FUNCT_7:31
.= ( - ( ( R12 . R7 ) * ( ( D230 * D230 ) + ( D231 * D231 ) ) ) ) by SIN_COS:29
.= ( ( ( ( R12 . R7 ) * ( ( D231 * D231 ) - ( D230 * D230 ) ) ) - ( ( ( R12 . R7 ) * D231 ) * D231 ) ) - ( ( ( R12 . R7 ) * D231 ) * D231 ) )
.= ( ( ( ( R12 . R7 ) * ( ( D231 * D231 ) - ( D230 * D230 ) ) ) - ( ( ( R12 . D228 ) * D230 ) * D231 ) ) - ( ( ( R12 . D228 ) * D230 ) * D231 ) ) by L1365
.= ( ( ( R12 . R7 ) * ( ( D231 * D231 ) - ( D230 * D230 ) ) ) + ( ( R12 . D228 ) * ( - ( ( D230 * D231 ) + ( D230 * D231 ) ) ) ) )
.= ( D233 . R9 ) by L1348 , L1362 , L1363 , L1366 , L1371 , L761;
end;
suppose L1373: D228 = R9;

thus L1374: ( D229 . R9 ) = ( ( R12 . D228 ) * 1 ) by L1373 , L1363 , FUNCT_7:32
.= ( ( R12 . D228 ) * ( ( D230 * D230 ) + ( D231 * D231 ) ) ) by SIN_COS:29
.= ( ( ( ( ( R12 . D228 ) * D230 ) * D230 ) + ( ( ( R12 . D228 ) * D230 ) * D230 ) ) + ( ( R12 . D228 ) * ( ( D231 * D231 ) - ( D230 * D230 ) ) ) )
.= ( ( ( ( ( R12 . R7 ) * D231 ) * D230 ) + ( ( ( R12 . R7 ) * D231 ) * D230 ) ) + ( ( R12 . D228 ) * ( ( D231 * D231 ) - ( D230 * D230 ) ) ) ) by L1365
.= ( ( ( R12 . R7 ) * ( ( D230 * D231 ) + ( D230 * D231 ) ) ) + ( ( R12 . D228 ) * ( ( D231 * D231 ) - ( D230 * D230 ) ) ) )
.= ( D233 . R9 ) by L1348 , L1362 , L1363 , L1366 , L1373 , L766;
end;
suppose L1375: (R7 <> R9 & D228 <> R9);

L1376: ( dom D232 ) = (the carrier of D227) by FUNCT_2:52;
L1377: (( D229 . R9 ) = ( R12 . R9 ) & (not R9 in { R7 , D228 })) by L1375 , FUNCT_7:32 , TARSKI:def 2;
thus L1378: thesis by L1377 , L1367 , L1376 , L38;
end;
end;
take D232;
L1380: ( len D233 ) = R11 by CARD_1:def 7;
thus L1381: thesis by L1380 , L1356 , L1357 , L1368 , FINSEQ_1:14;
end;
suppose L1382: D228 < R7;

consider R3 being  real number such that L1383: ( ( ( Mx2Tran ( Rotation (D228 , R7 , R11 , R3) ) ) . R12 ) . R7 ) = ( 0 ) by L1382 , L1355 , L1359 , L1361 , L895;
set D234 = ( sin R3 );
set D235 = ( cos R3 );
L1384: ( 0 ) = ( ( ( R12 . D228 ) * D234 ) + ( ( R12 . R7 ) * D235 ) ) by L1355 , L1359 , L1382 , L1383 , L766;
reconsider D236 = ( Mx2Tran ( Rotation (D228 , R7 , R11 , ( R3 + R3 )) ) ) as  base_rotation (Function of D227 , D227) by L1355 , L1359 , L1382 , L977;
set D237 = ( D236 . R12 );
L1385: (( cos ( R3 + R3 ) ) = ( ( D235 * D235 ) - ( D234 * D234 ) ) & ( sin ( R3 + R3 ) ) = ( ( D234 * D235 ) + ( D234 * D235 ) )) by SIN_COS:75;
L1386: D236 is { R7 , D228 } -support-yielding by L1355 , L1359 , L1382 , L910;
L1387: (for R9 being Nat holds ((1 <= R9 & R9 <= R11) implies ( D229 . R9 ) = ( D237 . R9 )))
proof
let R9 being Nat;
assume L1388: (1 <= R9 & R9 <= R11);
L1389: R9 in ( Seg R11 ) by L1388 , FINSEQ_1:1;
per cases ;
suppose L1390: R7 = R9;

thus L1391: ( D229 . R9 ) = ( - ( ( R12 . R7 ) * 1 ) ) by L1390 , L1358 , L1389 , FUNCT_7:31
.= ( - ( ( R12 . R7 ) * ( ( D234 * D234 ) + ( D235 * D235 ) ) ) ) by SIN_COS:29
.= ( ( ( - ( ( ( R12 . R7 ) * D235 ) * D235 ) ) + ( ( - ( ( R12 . R7 ) * D235 ) ) * D235 ) ) + ( ( R12 . R7 ) * ( ( D235 * D235 ) - ( D234 * D234 ) ) ) )
.= ( ( ( ( ( R12 . D228 ) * D234 ) * D235 ) + ( ( ( R12 . D228 ) * D234 ) * D235 ) ) + ( ( R12 . R7 ) * ( ( D235 * D235 ) - ( D234 * D234 ) ) ) ) by L1384
.= ( ( ( R12 . D228 ) * ( ( D234 * D235 ) + ( D234 * D235 ) ) ) + ( ( R12 . R7 ) * ( ( D235 * D235 ) - ( D234 * D234 ) ) ) )
.= ( D237 . R9 ) by L1355 , L1359 , L1382 , L1385 , L1390 , L766;
end;
suppose L1392: D228 = R9;

thus L1393: ( D229 . R9 ) = ( ( R12 . D228 ) * 1 ) by L1392 , L1382 , FUNCT_7:32
.= ( ( R12 . D228 ) * ( ( D234 * D234 ) + ( D235 * D235 ) ) ) by SIN_COS:29
.= ( ( ( ( R12 . D228 ) * ( ( D235 * D235 ) - ( D234 * D234 ) ) ) + ( ( ( R12 . D228 ) * D234 ) * D234 ) ) + ( ( ( R12 . D228 ) * D234 ) * D234 ) )
.= ( ( ( ( R12 . D228 ) * ( ( D235 * D235 ) - ( D234 * D234 ) ) ) + ( ( - ( ( R12 . R7 ) * D235 ) ) * D234 ) ) + ( ( - ( ( R12 . R7 ) * D235 ) ) * D234 ) ) by L1384
.= ( ( ( R12 . D228 ) * ( ( D235 * D235 ) - ( D234 * D234 ) ) ) + ( ( R12 . R7 ) * ( - ( ( D234 * D235 ) + ( D234 * D235 ) ) ) ) )
.= ( D237 . R9 ) by L1355 , L1359 , L1382 , L1385 , L1392 , L761;
end;
suppose L1394: (R7 <> R9 & D228 <> R9);

L1395: ( dom D236 ) = (the carrier of D227) by FUNCT_2:52;
L1396: (( D229 . R9 ) = ( R12 . R9 ) & (not R9 in { R7 , D228 })) by L1394 , FUNCT_7:32 , TARSKI:def 2;
thus L1397: thesis by L1396 , L1386 , L1395 , L38;
end;
end;
take D236;
L1399: ( len D237 ) = R11 by CARD_1:def 7;
thus L1400: thesis by L1399 , L1356 , L1357 , L1387 , FINSEQ_1:14;
end;
end;
L1402: (for R2 being set holds (for R7 being Nat holds (for R11 being Nat holds (for B30 being  homogeneous  additive  rotation (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 )) holds ((B30 is R2 -support-yielding & (not R7 in R2)) implies ( B30 . ( Base_FinSeq (R11 , R7) ) ) = ( Base_FinSeq (R11 , R7) ))))))
proof
let R2 being set;
let R7 being Nat;
let R11 being Nat;
let C94 being  homogeneous  additive  rotation (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
set D238 = ( Base_FinSeq (R11 , R7) );
assume that
L1403: C94 is R2 -support-yielding
and
L1404: (not R7 in R2);
L1405:
now
let R8 being Nat;
assume L1406: R8 in ( R2 /\ ( Seg R11 ) );
L1407: R8 in ( Seg R11 ) by L1406 , XBOOLE_0:def 4;
L1408: (1 <= R8 & R8 <= R11) by L1407 , FINSEQ_1:1;
L1409: R8 <> R7 by L1404 , L1406 , XBOOLE_0:def 4;
thus L1410: ( D238 . R8 ) = ( 0 ) by L1409 , L1408 , MATRIXR2:76;
end;
L1411: ( len D238 ) = R11 by MATRIXR2:74;
L1412: D238 is (Point of ( TOP-REAL R11 )) by L1411 , TOPREAL3:46;
thus L1413: thesis by L1412 , L1403 , L1405 , L1306;
end;
theorem
L1414: (for R7 being Nat holds (for R11 being Nat holds (for R14 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 )) holds (R14 is { R7 } -support-yielding  rotation implies (( AutMt R14 ) = ( AxialSymmetry (R7 , R11) ) or ( AutMt R14 ) = ( 1. (( F_Real ) , R11) ))))))
proof
let R7 being Nat;
let R11 being Nat;
let R14 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
set D239 = ( TOP-REAL R11 );
set D240 = { ( Base_FinSeq (R11 , B31) ) where B31 is (Element of ( NAT )) : (1 <= B31 & B31 <= R11) };
L1415: D240 c= (the carrier of D239)
proof
let R1 being set;
assume L1416: R1 in D240;
consider C95 being (Element of ( NAT )) such that L1417: R1 = ( Base_FinSeq (R11 , C95) ) and L1418: (1 <= C95 & C95 <= R11) by L1416;
L1419: ( len ( Base_FinSeq (R11 , C95) ) ) = R11 by MATRIXR2:74;
thus L1420: thesis by L1419 , L1417 , TOPREAL3:46;
end;
reconsider D241 = D240 as (Subset of D239) by L1415;
set D242 = ( Mx2Tran ( AxialSymmetry (R11 , R7) ) );
assume L1421: R14 is { R7 } -support-yielding  rotation;
L1422: ( id D239 ) = ( Mx2Tran ( 1. (( F_Real ) , R11) ) ) by MATRTOP1:33;
L1423: ( AutMt ( id D239 ) ) = ( 1. (( F_Real ) , R11) ) by L1422 , L1063;
L1424: ( dom R14 ) = (the carrier of D239) by FUNCT_2:52;
per cases ;
suppose L1425: (not R7 in ( Seg R11 ));

L1426:
now
let C96 being (Point of D239);
L1427:
now
let R8 being Nat;
assume L1428: (1 <= R8 & R8 <= R11);
L1429: R8 <> R7 by L1428 , L1425 , FINSEQ_1:1;
L1430: (not R8 in { R7 }) by L1429 , TARSKI:def 1;
thus L1431: ( ( R14 . C96 ) . R8 ) = ( C96 . R8 ) by L1430 , L1421 , L1424 , L38;
end;
L1432: (( len ( R14 . C96 ) ) = R11 & ( len C96 ) = R11) by CARD_1:def 7;
thus L1433: ( R14 . C96 ) = C96 by L1432 , L1427 , FINSEQ_1:14;
end;
L1434: R14 = ( id D239 ) by L1426 , FUNCT_2:124;
thus L1435: thesis by L1434 , L1422 , L1063;
end;
suppose L1436: R7 in ( Seg R11 );

L1437: (1 <= R7 & R7 <= R11) by L1436 , FINSEQ_1:1;
L1438: ( Base_FinSeq (R11 , R7) ) in D241 by L1437 , L1436;
reconsider D243 = ( Base_FinSeq (R11 , R7) ) as (Point of D239) by L1438;
L1439: D243 = ( ( 0* R11 ) +* (R7 , 1) ) by MATRIXR2:def 4;
L1440: |. D243 .| = ( abs 1 ) by L1439 , L1436 , TOPREALC:13
.= 1 by ABSVALUE:def 1;
set D244 = ( ( 0* R11 ) +* (R7 , ( ( R14 . D243 ) . R7 )) );
L1441: ( len ( 0* R11 ) ) = R11 by CARD_1:def 7;
L1442: (for R8 being Nat holds ((1 <= R8 & R8 <= R11) implies ( ( R14 . D243 ) . R8 ) = ( D244 . R8 )))
proof
let R8 being Nat;
assume L1443: (1 <= R8 & R8 <= R11);
L1444: R8 in ( dom ( 0* R11 ) ) by L1441 , L1443 , FINSEQ_3:25;
per cases ;
suppose L1445: R8 = R7;

thus L1446: ( D244 . R8 ) = ( ( R14 . D243 ) . R8 ) by L1445 , L1444 , FUNCT_7:31;
end;
suppose L1447: R8 <> R7;

L1448: (not R8 in { R7 }) by L1447 , TARSKI:def 1;
thus L1449: ( D244 . R8 ) = ( ( 0* R11 ) . R8 ) by L1447 , FUNCT_7:32
.= ( 0 )
.= ( D243 . R8 ) by L1443 , L1447 , MATRIXR2:76
.= ( ( R14 . D243 ) . R8 ) by L1421 , L1424 , L1448 , L38;
end;
end;
L1451: (( len D244 ) = ( len ( 0* R11 ) ) & ( len ( R14 . D243 ) ) = R11) by CARD_1:def 7 , FUNCT_7:97;
L1452: ( R14 . D243 ) = D244 by L1451 , L1441 , L1442 , FINSEQ_1:14;
L1453: |. D243 .| = |. D244 .| by L1452 , L1421 , L926
.= ( abs ( ( R14 . D243 ) . R7 ) ) by L1436 , TOPREALC:13;
L1454: (for B32 being  homogeneous  additive  rotation (Function of D239 , D239) holds (( B32 | D241 ) = ( id D241 ) implies B32 = ( id D239 )))
proof
let C97 being  homogeneous  additive  rotation (Function of D239 , D239);
L1455: ( dom ( id D239 ) ) = (the carrier of D239) by FUNCT_2:def 1;
assume L1456: ( C97 | D241 ) = ( id D241 );
L1457: (for R1 being set holds (R1 in ( dom ( id D239 ) ) implies ( ( id D239 ) . R1 ) = ( C97 . R1 )))
proof
let R1 being set;
assume L1458: R1 in ( dom ( id D239 ) );
reconsider D245 = R1 as (Point of D239) by L1458 , FUNCT_2:def 1;
set D246 = ( C97 . D245 );
L1459: (( len D245 ) = R11 & ( len D246 ) = R11) by CARD_1:def 7;
L1460:
now
let R8 being Nat;
assume L1461: (1 <= R8 & R8 <= R11);
L1462: R8 in ( Seg R11 ) by L1461 , FINSEQ_1:1;
L1463: ( Base_FinSeq (R11 , R8) ) in D241 by L1462 , L1461;
L1464: ( Base_FinSeq (R11 , R8) ) in ( Lin D241 ) by L1463 , RLVECT_3:15;
thus L1465: ( D245 . R8 ) = ( D246 . R8 ) by L1464 , L1456 , L1462 , L1251;
end;
L1466: ( ( id D239 ) . R1 ) = R1 by L1455 , L1458 , FUNCT_1:17;
thus L1467: thesis by L1466 , L1459 , L1460 , FINSEQ_1:14;
end;
L1468: ( dom C97 ) = (the carrier of D239) by FUNCT_2:def 1;
thus L1469: thesis by L1468 , L1455 , L1457 , FUNCT_1:2;
end;
per cases ;
suppose L1470: ( ( R14 . D243 ) . R7 ) >= ( 0 );

L1471: ( dom ( R14 | D241 ) ) = D241 by L1424 , RELAT_1:62;
L1472: ( ( R14 . D243 ) . R7 ) = 1 by L1440 , L1453 , L1470 , ABSVALUE:def 1;
L1473: (for R1 being set holds (R1 in D241 implies ( ( R14 | D241 ) . R1 ) = ( ( id D241 ) . R1 )))
proof
let R1 being set;
assume L1474: R1 in D241;
consider C98 being (Element of ( NAT )) such that L1475: R1 = ( Base_FinSeq (R11 , C98) ) and L1476: 1 <= C98 and L1477: C98 <= R11 by L1474;
L1478: (( ( R14 | D241 ) . R1 ) = ( R14 . R1 ) & ( ( id D241 ) . R1 ) = R1) by L1471 , L1474 , FUNCT_1:17 , FUNCT_1:47;
per cases ;
suppose L1479: C98 = R7;

thus L1480: thesis by L1479 , L1452 , L1472 , L1475 , L1478 , MATRIXR2:def 4;
end;
suppose L1481: C98 <> R7;

L1482: (not C98 in { R7 }) by L1481 , TARSKI:def 1;
thus L1483: thesis by L1482 , L1421 , L1475 , L1478 , L1402;
end;
end;
L1485: ( dom ( id D241 ) ) = D241;
thus L1486: thesis by L1485 , L1421 , L1423 , L1454 , L1471 , L1473 , FUNCT_1:2;
end;
suppose L1487: ( ( R14 . D243 ) . R7 ) < ( 0 );

set D247 = ( Mx2Tran ( AxialSymmetry (R7 , R11) ) );
L1488: D247 is  rotation by L1436 , L928;
reconsider D248 = ( D247 * R14 ) as  homogeneous  additive  rotation (Function of D239 , D239) by L1488 , L1421;
L1489: ( dom D248 ) = (the carrier of D239) by FUNCT_2:52;
L1490: ( dom ( D248 | D241 ) ) = D241 by L1489 , RELAT_1:62;
L1491: (D247 is { R7 } -support-yielding & ( { R7 } \/ { R7 } ) = { R7 }) by L1436 , L281;
L1492: (for R1 being set holds (R1 in D241 implies ( ( D248 | D241 ) . R1 ) = ( ( id D241 ) . R1 )))
proof
let R1 being set;
assume L1493: R1 in D241;
consider C99 being (Element of ( NAT )) such that L1494: R1 = ( Base_FinSeq (R11 , C99) ) and L1495: (1 <= C99 & C99 <= R11) by L1493;
L1496: (( ( D248 | D241 ) . R1 ) = ( D248 . R1 ) & ( ( id D241 ) . R1 ) = R1) by L1490 , L1493 , FUNCT_1:17 , FUNCT_1:47;
per cases ;
suppose L1497: C99 = R7;

L1498: (for R9 being Nat holds ((1 <= R9 & R9 <= R11) implies ( ( D248 . D243 ) . R9 ) = ( D243 . R9 )))
proof
let R9 being Nat;
assume L1499: (1 <= R9 & R9 <= R11);
L1500: R9 in ( Seg R11 ) by L1499 , FINSEQ_1:1;
per cases ;
suppose L1501: R9 = R7;

thus L1502: ( ( D248 . D243 ) . R9 ) = ( ( D247 . ( R14 . D243 ) ) . R9 ) by L1489 , FUNCT_1:12
.= ( - ( ( R14 . D243 ) . R9 ) ) by L1500 , L1501 , L261
.= ( - ( - 1 ) ) by L1440 , L1453 , L1487 , L1501 , ABSVALUE:def 1
.= ( D243 . R9 ) by L1499 , L1501 , MATRIXR2:75;
end;
suppose L1503: R9 <> R7;

L1504: (not R9 in { R7 }) by L1503 , TARSKI:def 1;
thus L1505: ( ( D248 . D243 ) . R9 ) = ( ( D247 . ( R14 . D243 ) ) . R9 ) by L1489 , FUNCT_1:12
.= ( ( R14 . D243 ) . R9 ) by L1436 , L1503 , L248
.= ( D243 . R9 ) by L1421 , L1424 , L1504 , L38;
end;
end;
L1507: (( len ( D248 . D243 ) ) = R11 & ( len D243 ) = R11) by CARD_1:def 7;
thus L1508: thesis by L1507 , L1494 , L1496 , L1497 , L1498 , FINSEQ_1:14;
end;
suppose L1509: C99 <> R7;

L1510: (not C99 in { R7 }) by L1509 , TARSKI:def 1;
thus L1511: thesis by L1510 , L1421 , L1491 , L1494 , L1496 , L1402;
end;
end;
L1513: ( dom ( id D241 ) ) = D241;
L1514: D248 = ( id D239 ) by L1513 , L1454 , L1490 , L1492 , FUNCT_1:2;
L1515: ( dom D247 ) = ( [#] D239 ) by TOPS_2:def 5;
set D249 = ( AutMt R14 );
L1516: ( rng D247 ) = ( [#] D239 ) by TOPS_2:def 5;
L1517: D247 is  one-to-one by TOPS_2:def 5;
L1518: (the carrier of D239) c= ( rng R14 )
proof
let R1 being set;
assume L1519: R1 in (the carrier of D239);
L1520: ( D247 . R1 ) in ( rng D247 ) by L1519 , L1515 , FUNCT_1:def 3;
L1521: ( D248 . ( D247 . R1 ) ) = ( D247 . ( R14 . ( D247 . R1 ) ) ) by L1520 , L1489 , L1516 , FUNCT_1:12;
L1522: (( R14 . ( D247 . R1 ) ) in ( dom D247 ) & ( D248 . ( D247 . R1 ) ) = ( D247 . R1 )) by L1489 , L1514 , L1516 , L1520 , FUNCT_1:11 , FUNCT_1:18;
L1523: R1 = ( R14 . ( D247 . R1 ) ) by L1522 , L1515 , L1517 , L1519 , L1521 , FUNCT_1:def 4;
thus L1524: thesis by L1523 , L1424 , L1516 , L1520 , FUNCT_1:def 3;
end;
L1525: ( rng R14 ) c= (the carrier of D239) by RELAT_1:def 19;
L1526: ( rng R14 ) = (the carrier of D239) by L1525 , L1518 , XBOOLE_0:def 10;
L1527: R14 = ( (D247 qua Function) " ) by L1526 , L1514 , L1516 , L1515 , L1517 , FUNCT_1:42;
L1528: (R14 = ( Mx2Tran D249 ) & ( Det ( AxialSymmetry (R7 , R11) ) ) <> ( 0. ( F_Real ) )) by L1436 , L1063 , L169;
L1529: D249 = ( ( AxialSymmetry (R7 , R11) ) ~ ) by L1528 , L1527 , MATRTOP1:43
.= ( AxialSymmetry (R7 , R11) ) by L1436 , L211;
thus L1530: thesis by L1529;
end;
end;
end;
theorem
L1533: (for R11 being Nat holds (for R15 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 )) holds (R15 is  rotation implies (ex R16 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 )) st (R16 is  base_rotation & ( R16 * R15 ) is { R11 } -support-yielding)))))
proof
let R11 being Nat;
let R15 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
set D250 = ( TOP-REAL R11 );
assume L1534: R15 is  rotation;
set D251 = (the carrier of D250);
set D252 = R15;
L1535: ( dom D252 ) = D251 by FUNCT_2:52;
L1536: ( rng D252 ) c= D251 by RELAT_1:def 19;
per cases ;
suppose L1537: R11 = ( 0 );

take D253 = ( id D250 );
L1538: ( dom ( id D251 ) ) = D251;
L1539: (for B33 being Function holds (for B34 being set holds ((B33 in ( dom D253 ) & ( ( D253 . B33 ) . B34 ) <> ( B33 . B34 )) implies B34 in { R11 }))) by L1538 , FUNCT_1:17;
L1540: D251 = { ( 0. D250 ) } by L1537 , EUCLID:22 , EUCLID:77;
L1541: (( rng ( id D251 ) ) = D251 & ( rng D252 ) = D251) by L1540 , L1536 , ZFMISC_1:33;
L1542: D252 = ( id D251 ) by L1541 , L1535 , L1538 , L1540 , FUNCT_1:7;
L1543: ( D253 * D252 ) = D253 by L1542 , L1535 , RELAT_1:52;
thus L1544: thesis by L1543 , L1539 , L38;
end;
suppose L1545: R11 > ( 0 );

reconsider D254 = ( R11 - 1 ) as Nat by L1545 , NAT_1:20;
defpred S9[ Nat ] means ($1 <= ( R11 - 1 ) implies (for B35 being (Subset of D250) holds (B35 = { ( Base_FinSeq (R11 , B36) ) where B36 is (Element of ( NAT )) : (1 <= B36 & B36 <= $1) } implies (ex B37 being  base_rotation (Function of D250 , D250) st ( ( B37 * D252 ) | B35 ) = ( id B35 )))));
set D255 = { ( Base_FinSeq (R11 , B38) ) where B38 is (Element of ( NAT )) : (1 <= B38 & B38 <= D254) };
L1546: D255 c= (the carrier of D250)
proof
let R1 being set;
assume L1547: R1 in D255;
consider C100 being (Element of ( NAT )) such that L1548: R1 = ( Base_FinSeq (R11 , C100) ) and L1549: 1 <= C100 and L1550: C100 <= D254 by L1547;
L1551: ( len ( Base_FinSeq (R11 , C100) ) ) = R11 by MATRIXR2:74;
thus L1552: thesis by L1551 , L1548 , TOPREAL3:46;
end;
reconsider D256 = D255 as (Subset of D250) by L1546;
L1553: (for R9 being Nat holds (S9[ R9 ] implies S9[ ( R9 + 1 ) ]))
proof
let C101 being Nat;
assume L1554: S9[ C101 ];
set D257 = ( C101 + 1 );
set D258 = { ( Base_FinSeq (R11 , B39) ) where B39 is (Element of ( NAT )) : (1 <= B39 & B39 <= C101) };
assume L1555: D257 <= ( R11 - 1 );
reconsider D259 = ( R11 - 1 ) as (Element of ( NAT )) by L1555 , INT_1:3;
L1556: D259 < ( D259 + 1 ) by NAT_1:13;
L1557: D257 < R11 by L1556 , L1555 , XXREAL_0:2;
set D260 = ( Base_FinSeq (R11 , D257) );
set D261 = { B40 where B40 is (Element of ( NAT )) : (D257 <= B40 & B40 <= R11) };
let C102 being (Subset of D250);
assume that
L1558: C102 = { ( Base_FinSeq (R11 , B41) ) where B41 is (Element of ( NAT )) : (1 <= B41 & B41 <= D257) };
L1559: D258 c= C102
proof
let R1 being set;
assume L1560: R1 in D258;
consider C103 being (Element of ( NAT )) such that L1561: (R1 = ( Base_FinSeq (R11 , C103) ) & 1 <= C103) and L1562: C103 <= C101 by L1560;
L1563: C103 < D257 by L1562 , NAT_1:13;
thus L1564: thesis by L1563 , L1558 , L1561;
end;
reconsider D262 = D258 as (Subset of D250) by L1559 , XBOOLE_1:1;
L1565: C101 < D259 by L1555 , NAT_1:13;
consider C104 being  base_rotation (Function of D250 , D250) such that L1566: ( ( C104 * D252 ) | D262 ) = ( id D262 ) by L1565 , L1554;
L1567: R11 in ( NAT ) by ORDINAL1:def 12;
L1568: R11 in D261 by L1567 , L1557;
L1569: R11 >= 1 by L1556 , NAT_1:14;
L1570: R11 in ( Seg R11 ) by L1569 , L1567;
L1571: R11 in ( D261 /\ ( Seg R11 ) ) by L1570 , L1568 , XBOOLE_0:def 4;
L1572: ( card { D257 , R11 } ) = 2 by L1555 , L1556 , CARD_2:57;
L1573: 1 <= D257 by NAT_1:11;
L1574: D257 in ( Seg R11 ) by L1573 , L1557;
L1575: D260 in C102 by L1558 , L1573;
reconsider D263 = D260 as (Point of D250) by L1575;
set D264 = ( ( C104 * D252 ) . D263 );
L1576: D257 in D261 by L1557;
consider C105 being  homogeneous  additive (Function of D250 , D250) such that L1577: C105 is D261 -support-yielding  base_rotation and L1578: (( card ( D261 /\ ( Seg R11 ) ) ) > 1 implies ( ( C105 . D264 ) . D257 ) >= ( 0 )) and L1579: (for R7 being Nat holds ((R7 in ( D261 /\ ( Seg R11 ) ) & R7 <> D257) implies ( ( C105 . D264 ) . R7 ) = ( 0 ))) by L1576 , L1574 , L1084;
reconsider D265 = ( C105 * C104 ) as  base_rotation (Function of D250 , D250) by L1577;
L1580: ( dom ( D265 * D252 ) ) = (the carrier of D250) by FUNCT_2:52;
L1581: (for R1 being set holds (R1 in D262 implies (( ( ( C105 * C104 ) * D252 ) . R1 ) = R1 & ( C105 . R1 ) = R1)))
proof
let R1 being set;
assume that
L1582: R1 in D262;
reconsider D266 = R1 as (Point of D250) by L1582;
L1583: ( ( ( C104 * D252 ) | D262 ) . R1 ) = ( ( C104 * D252 ) . R1 ) by L1582 , FUNCT_1:49;
L1584: ( ( C104 * D252 ) . R1 ) = R1 by L1583 , L1566 , L1582 , FUNCT_1:17;
L1585: (ex B42 being (Element of ( NAT )) st (R1 = ( Base_FinSeq (R11 , B42) ) & 1 <= B42 & B42 <= C101)) by L1582;
L1586: (for R8 being Nat holds (R8 in ( D261 /\ ( Seg R11 ) ) implies ( D266 . R8 ) = ( 0 )))
proof
let R8 being Nat;
assume L1587: R8 in ( D261 /\ ( Seg R11 ) );
L1588: R8 in D261 by L1587 , XBOOLE_0:def 4;
L1589: (ex B43 being (Element of ( NAT )) st (B43 = R8 & D257 <= B43 & B43 <= R11)) by L1588;
L1590: C101 < R8 by L1589 , NAT_1:13;
L1591: R8 in ( Seg R11 ) by L1587 , XBOOLE_0:def 4;
L1592: (1 <= R8 & R8 <= R11) by L1591 , FINSEQ_1:1;
thus L1593: thesis by L1592 , L1585 , L1590 , MATRIXR2:76;
end;
L1594: ( D265 * D252 ) = ( C105 * ( C104 * D252 ) ) by RELAT_1:36;
L1595: ( ( C105 * ( C104 * D252 ) ) . R1 ) = ( C105 . ( ( C104 * D252 ) . R1 ) ) by L1594 , L1580 , L1582 , FUNCT_1:12;
thus L1596: thesis by L1595 , L1577 , L1584 , L1586 , L1594 , L1306;
end;
L1597: D257 in ( D261 /\ ( Seg R11 ) ) by L1574 , L1576 , XBOOLE_0:def 4;
L1598: { D257 , R11 } c= ( D261 /\ ( Seg R11 ) ) by L1597 , L1571 , ZFMISC_1:32;
L1599: ( 1 + 1 ) <= ( card ( D261 /\ ( Seg R11 ) ) ) by L1598 , L1572 , NAT_1:43;
L1600: (for R1 being set holds (R1 in C102 implies ( ( ( D265 * D252 ) | C102 ) . R1 ) = ( ( id C102 ) . R1 )))
proof
let R1 being set;
assume that
L1601: R1 in C102;
L1602: ( ( id C102 ) . R1 ) = R1 by L1601 , FUNCT_1:17;
L1603: ( D265 * D252 ) = ( C105 * ( C104 * D252 ) ) by RELAT_1:36;
L1604: ( ( ( D265 * D252 ) | C102 ) . R1 ) = ( ( D265 * D252 ) . R1 ) by L1601 , FUNCT_1:49;
consider C106 being (Element of ( NAT )) such that L1605: R1 = ( Base_FinSeq (R11 , C106) ) and L1606: 1 <= C106 and L1607: C106 <= D257 by L1558 , L1601;
per cases  by L1607 , NAT_1:8;
suppose L1608: C106 <= C101;

L1609: R1 in D262 by L1608 , L1605 , L1606;
thus L1610: thesis by L1609 , L1581 , L1602 , L1604;
end;
suppose L1611: C106 = D257;

set D267 = ( C105 . D264 );
L1612: ( ( C105 * ( C104 * D252 ) ) . R1 ) = ( C105 . D264 ) by L1580 , L1603 , L1605 , L1611 , FUNCT_1:12;
L1613: ( len D267 ) = R11 by CARD_1:def 7;
L1614: (for R8 being Nat holds ((R8 in ( Seg R11 ) & R8 < D257) implies ( ( C105 . D264 ) . R8 ) = ( 0 )))
proof
let R8 being Nat;
assume that
L1615: R8 in ( Seg R11 )
and
L1616: R8 < D257;
L1617: 1 <= R8 by L1615 , FINSEQ_1:1;
L1618: R8 <= C101 by L1616 , NAT_1:13;
L1619: ( Base_FinSeq (R11 , R8) ) in D262 by L1618 , L1615 , L1617;
reconsider D268 = ( Base_FinSeq (R11 , R8) ) as (Point of D250) by L1619;
L1620: ( ( ( C105 * C104 ) * D252 ) . D268 ) = D268 by L1581 , L1619;
L1621: ( D268 + D267 ) = ( ( ( C105 * C104 ) * D252 ) . ( D268 + D263 ) ) by L1620 , L1603 , L1605 , L1611 , L1612 , VECTSP_1:def 20;
L1622: ( len D268 ) = R11 by CARD_1:def 7;
L1623: |. ( ( ( C105 * C104 ) * D252 ) . ( D268 + D263 ) ) .| = |. ( D268 + D263 ) .| by L1534 , L1577 , L926;
L1624: ( |. ( D268 + D263 ) .| ^2 ) = ( ( ( |. D268 .| ^2 ) + ( 2 * |( D267 , D268 )| ) ) + ( |. D267 .| ^2 ) ) by L1623 , L1613 , L1621 , L1622 , EUCLID_2:11;
L1625: D268 = ( ( 0* R11 ) +* (R8 , 1) ) by MATRIXR2:def 4;
L1626: ( len D263 ) = R11 by CARD_1:def 7;
L1627: ( |. ( D268 + D263 ) .| ^2 ) = ( ( ( |. D268 .| ^2 ) + ( 2 * |( D263 , D268 )| ) ) + ( |. D263 .| ^2 ) ) by L1626 , L1622 , EUCLID_2:11;
L1628: R8 <= R11 by L1615 , FINSEQ_1:1;
L1629: |. D267 .| = |. D263 .| by L1534 , L1577 , L1605 , L1611 , L1612 , L926;
L1630: ( ( D263 . R8 ) * 1 ) = |( D267 , D268 )| by L1629 , L1624 , L1625 , L1627 , TOPREALC:16
.= ( ( D267 . R8 ) * 1 ) by L1625 , TOPREALC:16;
thus L1631: thesis by L1630 , L1616 , L1617 , L1628 , MATRIXR2:76;
end;
set D269 = ( C105 . D264 );
set D270 = ( ( 0* R11 ) +* (D257 , ( D269 . D257 )) );
L1632: ( len ( 0* R11 ) ) = R11 by CARD_1:def 7;
L1633: (for R8 being Nat holds ((R8 in ( Seg R11 ) & R8 > D257) implies ( ( C105 . D264 ) . R8 ) = ( 0 )))
proof
let R8 being Nat;
assume that
L1634: R8 in ( Seg R11 )
and
L1635: R8 > D257;
L1636: R8 <= R11 by L1634 , FINSEQ_1:1;
L1637: R8 in D261 by L1636 , L1634 , L1635;
L1638: R8 in ( D261 /\ ( Seg R11 ) ) by L1637 , L1634 , XBOOLE_0:def 4;
thus L1639: thesis by L1638 , L1579 , L1635;
end;
L1640: (for R8 being Nat holds ((1 <= R8 & R8 <= R11) implies ( D269 . R8 ) = ( D270 . R8 )))
proof
let R8 being Nat;
assume L1641: (1 <= R8 & R8 <= R11);
L1642: R8 in ( Seg R11 ) by L1641 , FINSEQ_1:1;
L1643: R8 in ( dom ( 0* R11 ) ) by L1642 , L1632 , FINSEQ_1:def 3;
per cases ;
suppose L1644: R8 = D257;

thus L1645: thesis by L1644 , L1643 , FUNCT_7:31;
end;
suppose L1646: R8 <> D257;

L1647: (R8 > D257 or R8 < D257) by L1646 , XXREAL_0:1;
L1648: ( D269 . R8 ) = ( 0 ) by L1647 , L1614 , L1633 , L1642;
L1649: ( D270 . R8 ) = ( ( 0* R11 ) . R8 ) by L1646 , FUNCT_7:32;
thus L1650: thesis by L1649 , L1648;
end;
end;
L1652: (( len D269 ) = R11 & ( len D270 ) = ( len ( 0* R11 ) )) by CARD_1:def 7 , FUNCT_7:97;
L1653: D270 = D269 by L1652 , L1632 , L1640 , FINSEQ_1:14;
L1654: |. D264 .| = |. D263 .| by L1534 , L926;
L1655: D263 = ( ( 0* R11 ) +* (D257 , 1) ) by MATRIXR2:def 4;
L1656: |. D263 .| = ( abs 1 ) by L1655 , L1574 , TOPREALC:13
.= 1 by ABSVALUE:def 1;
L1657: (|. D269 .| = |. D264 .| & ( abs ( D269 . D257 ) ) = ( D269 . D257 )) by L1577 , L1578 , L1599 , L926 , ABSVALUE:def 1 , NAT_1:13;
L1658: D269 = D263 by L1657 , L1574 , L1653 , L1655 , L1656 , L1654 , TOPREALC:13;
thus L1659: thesis by L1658 , L1601 , L1602 , L1603 , L1605 , L1611 , L1612 , FUNCT_1:49;
end;
end;
take D265;
L1661: (( dom ( id C102 ) ) = C102 & ( dom ( ( D265 * D252 ) | C102 ) ) = C102) by L1580 , RELAT_1:62;
thus L1662: thesis by L1661 , L1600 , FUNCT_1:2;
end;
L1663: S9[ ( 0 ) ]
proof
assume L1664: ( 0 ) <= ( R11 - 1 );
let C107 being (Subset of D250);
assume that
L1665: C107 = { ( Base_FinSeq (R11 , B44) ) where B44 is (Element of ( NAT )) : (1 <= B44 & B44 <= ( 0 )) };
L1666: C107 = ( {} )
proof
assume L1667: C107 <> ( {} );
consider C108 being set such that L1668: C108 in C107 by L1667 , XBOOLE_0:def 1;
L1669: (ex B45 being (Element of ( NAT )) st (C108 = ( Base_FinSeq (R11 , B45) ) & 1 <= B45 & B45 <= ( 0 ))) by L1665 , L1668;
thus L1670: contradiction by L1669;
end;
take D271 = ( id ( TOP-REAL R11 ) );
L1671: ( ( D271 * D252 ) | C107 ) = ( {} ) by L1666;
thus L1672: thesis by L1671 , L1666;
end;
L1673: (for R9 being Nat holds S9[ R9 ]) from NAT_1:sch 2(L1663 , L1553);
consider C109 being  base_rotation (Function of D250 , D250) such that L1674: ( ( C109 * D252 ) | D256 ) = ( id D256 ) by L1673;
take C109;
set D272 = ( C109 * D252 );
thus L1675: C109 is  base_rotation;
let C110 being Function;
let C111 being set;
assume that
L1676: C110 in ( dom D272 )
and
L1677: ( ( D272 . C110 ) . C111 ) <> ( C110 . C111 );
reconsider D273 = C110 as (Point of D250) by L1676 , FUNCT_2:52;
L1678: ( len ( D272 . D273 ) ) = R11 by CARD_1:def 7;
L1679: ( dom ( D272 . D273 ) ) = ( Seg R11 ) by L1678 , FINSEQ_1:def 3;
L1680: ((not C111 in ( Seg R11 )) implies ( ( D272 . D273 ) . C111 ) = ( {} )) by L1679 , FUNCT_1:def 2;
L1681: ( len D273 ) = R11 by CARD_1:def 7;
L1682: ( dom D273 ) = ( Seg R11 ) by L1681 , FINSEQ_1:def 3;
L1683: C111 in ( Seg R11 ) by L1682 , L1677 , L1680 , FUNCT_1:def 2;
assume L1684: (not C111 in { R11 });
reconsider D274 = C111 as Nat by L1683;
L1685: D274 <= R11 by L1683 , FINSEQ_1:1;
L1686: D274 <> R11 by L1684 , TARSKI:def 1;
L1687: D274 < ( D254 + 1 ) by L1686 , L1685 , XXREAL_0:1;
L1688: D274 <= D254 by L1687 , NAT_1:13;
L1689: (D274 in ( NAT ) & 1 <= D274) by L1683 , FINSEQ_1:1;
L1690: ( Base_FinSeq (R11 , D274) ) in D256 by L1689 , L1688;
L1691: ( Base_FinSeq (R11 , D274) ) in ( Lin D256 ) by L1690 , RLVECT_3:15;
L1692: ( ( D272 . D273 ) . D274 ) = ( D273 . D274 ) by L1691 , L1534 , L1674 , L1683 , L1251;
thus L1693: contradiction by L1692 , L1677;
end;
end;
L1695: (for R11 being Nat holds (for B46 being (Matrix of R11 , ( F_Real )) holds (( Mx2Tran B46 ) is  base_rotation implies ( Det B46 ) = ( 1. ( F_Real ) ))))
proof
let R11 being Nat;
let C112 being (Matrix of R11 , ( F_Real ));
set D275 = ( TOP-REAL R11 );
set D276 = ( GFuncs (the carrier of D275) );
assume L1696: ( Mx2Tran C112 ) is  base_rotation;
consider C113 being (FinSequence of D276) such that L1697: ( Mx2Tran C112 ) = ( Product C113 ) and L1698: (for R9 being Nat holds (R9 in ( dom C113 ) implies (ex R7 being Nat st (ex R8 being Nat st (ex R3 being  real number st (1 <= R7 & R7 < R8 & R8 <= R11 & ( C113 . R9 ) = ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ))))))) by L1696 , L933;
defpred S10[ Nat ] means ($1 <= ( len C113 ) implies (( Product ( C113 | $1 ) ) is  base_rotation  base_rotation  base_rotation  base_rotation (Function of D275 , D275) & (for B47 being (Matrix of R11 , ( F_Real )) holds (( Mx2Tran B47 ) = ( Product ( C113 | $1 ) ) implies ( Det B47 ) = ( 1. ( F_Real ) )))));
L1699: (for R10 being Nat holds (S10[ R10 ] implies S10[ ( R10 + 1 ) ]))
proof
let R10 being Nat;
L1700: (R11 = ( 0 ) implies R11 = ( 0 ));
set D277 = ( R10 + 1 );
assume L1701: S10[ R10 ];
assume L1702: D277 <= ( len C113 );
reconsider D278 = ( Product ( C113 | R10 ) ) as  base_rotation (Function of D275 , D275) by L1702 , L1701 , NAT_1:13;
set D279 = ( AutMt D278 );
L1703: (( width D279 ) = R11 & ( len D279 ) = R11) by MATRIX_1:24;
L1704: 1 <= D277 by NAT_1:11;
L1705: D277 in ( dom C113 ) by L1704 , L1702 , FINSEQ_3:25;
consider R7 being Nat, R8 being Nat, R3 being  real number such that L1706: (1 <= R7 & R7 < R8 & R8 <= R11) and L1707: ( C113 . D277 ) = ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ) by L1705 , L1698;
set D280 = ( Rotation (R7 , R8 , R11 , R3) );
reconsider D281 = ( Mx2Tran D280 ) as (Element of D276) by MONOID_0:73;
L1708: ( C113 | D277 ) = ( ( C113 | R10 ) ^ <* D281 *> ) by L1705 , L1707 , FINSEQ_5:10;
L1709: ( Product ( C113 | D277 ) ) = ( ( Product ( C113 | R10 ) ) * D281 ) by L1708 , GROUP_4:6
.= ( ( Mx2Tran D280 ) * D278 ) by MONOID_0:70;
L1710: ( Mx2Tran D280 ) is  base_rotation by L1706 , L977;
thus L1711: ( Product ( C113 | D277 ) ) is  base_rotation  base_rotation  base_rotation  base_rotation (Function of D275 , D275) by L1710 , L1709;
L1712: (( width D280 ) = R11 & ( len D280 ) = R11) by MATRIX_1:24;
let C114 being (Matrix of R11 , ( F_Real ));
assume that
L1713: ( Mx2Tran C114 ) = ( Product ( C113 | D277 ) );
L1714: ( Mx2Tran C114 ) = ( ( Mx2Tran D280 ) * ( Mx2Tran D279 ) ) by L1709 , L1713 , L1063
.= ( Mx2Tran ( D279 * D280 ) ) by L1700 , L1712 , L1703 , MATRTOP1:32;
L1715: C114 = ( D279 * D280 ) by L1714 , MATRTOP1:34;
L1716: D278 = ( Mx2Tran D279 ) by L1063;
L1717: ( Det D279 ) = ( 1. ( F_Real ) ) by L1716 , L1701 , L1702 , NAT_1:13;
L1718: (( len D279 ) = R11 & ( Det D280 ) = ( 1. ( F_Real ) )) by L1706 , L503 , MATRIX_1:25;
thus L1719: ( Det C114 ) = ( ( 1. ( F_Real ) ) * ( 1. ( F_Real ) ) ) by L1718 , L1715 , L1717 , MATRIXR2:45
.= ( 1. ( F_Real ) );
end;
L1720: ( C113 | ( len C113 ) ) = C113 by FINSEQ_1:58;
L1721: S10[ ( 0 ) ]
proof
assume L1722: ( 0 ) <= ( len C113 );
L1723: ( Mx2Tran ( 1. (( F_Real ) , R11) ) ) = ( id D275 ) by MATRTOP1:33;
L1724: ( C113 | ( 0 ) ) = ( <*> (the carrier of D276) );
L1725: ( Product ( C113 | ( 0 ) ) ) = ( 1_ D276 ) by L1724 , GROUP_4:8
.= ( the_unity_wrt (the multF of D276) ) by GROUP_1:22
.= ( id D275 ) by MONOID_0:75;
thus L1726: ( Product ( C113 | ( 0 ) ) ) is  base_rotation  base_rotation  base_rotation  base_rotation (Function of D275 , D275) by L1725;
L1727: R11 in ( NAT ) by ORDINAL1:def 12;
L1728: (R11 = ( 0 ) or R11 >= 1) by NAT_1:14;
L1729: ((( Det ( 1. (( F_Real ) , R11) ) ) = ( 1_ ( F_Real ) ) & R11 >= 1) or (( Det ( 1. (( F_Real ) , R11) ) ) = ( 1. ( F_Real ) ) & R11 = ( 0 ))) by L1728 , L1727 , MATRIXR2:41 , MATRIX_7:16;
let C115 being (Matrix of R11 , ( F_Real ));
thus L1730: thesis by L1723 , L1725 , L1729 , MATRTOP1:34;
end;
L1731: (for R10 being Nat holds S10[ R10 ]) from NAT_1:sch 2(L1721 , L1699);
thus L1732: thesis by L1731 , L1697 , L1720;
end;
begin
theorem
L1733: (for R11 being Nat holds (for R14 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 )) holds (R14 is  rotation implies (( Det ( AutMt R14 ) ) = ( 1. ( F_Real ) ) iff R14 is  base_rotation))))
proof
let R11 being Nat;
let R14 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
set D282 = ( TOP-REAL R11 );
set D283 = (the carrier of D282);
set D284 = ( AutMt R14 );
set D285 = ( Mx2Tran D284 );
L1734: (( len D284 ) = R11 & ( width D284 ) = R11) by MATRIX_1:24;
L1735: (R11 = ( 0 ) implies R11 = ( 0 ));
L1736: D285 = R14 by L1063;
assume L1737: R14 is  rotation;
consider C116 being  homogeneous  additive (Function of D282 , D282) such that L1738: C116 is  base_rotation and L1739: ( C116 * D285 ) is { R11 } -support-yielding by L1737 , L1736 , L1533;
set D286 = ( AutMt C116 );
L1740: ( width D286 ) = R11 by MATRIX_1:24;
L1741: C116 = ( Mx2Tran D286 ) by L1063;
L1742: (( AutMt ( C116 * D285 ) ) = ( 1. (( F_Real ) , R11) ) or ( AutMt ( C116 * D285 ) ) = ( AxialSymmetry (R11 , R11) )) by L1737 , L1736 , L1738 , L1739 , L1414;
L1743: (( Det D284 ) = ( 1. ( F_Real ) ) implies D285 is  base_rotation)
proof
assume L1744: ( Det D284 ) = ( 1. ( F_Real ) );
L1745: (( Det D286 ) = ( 1. ( F_Real ) ) & R11 in ( NAT )) by L1738 , L1741 , L1695 , ORDINAL1:def 12;
L1746: ( Det ( D284 * D286 ) ) = ( ( 1. ( F_Real ) ) * ( 1. ( F_Real ) ) ) by L1745 , L1744 , MATRIXR2:45
.= ( 1. ( F_Real ) );
L1747: ( rng D285 ) c= D283 by RELAT_1:def 19;
L1748: ( rng C116 ) = ( [#] D282 ) by L1738 , TOPS_2:def 5;
L1749: (( dom C116 ) = ( [#] D282 ) & C116 is  one-to-one) by L1738 , TOPS_2:def 5;
L1750: ( dom ( C116 " ) ) = ( [#] D282 ) by L1738 , TOPS_2:def 5;
L1751: ( id D282 ) = ( Mx2Tran ( 1. (( F_Real ) , R11) ) ) by MATRTOP1:33;
L1752: ( C116 * D285 ) = ( id D283 )
proof
assume L1753: ( C116 * D285 ) <> ( id D283 );
L1754: R11 <> ( 0 )
proof
L1755: (( dom ( C116 * D285 ) ) = D283 & ( dom ( id D283 ) ) = D283) by FUNCT_2:52;
assume L1756: R11 = ( 0 );
L1757: D283 = { ( 0. D282 ) } by L1756 , EUCLID:22 , EUCLID:77;
L1758: ( rng ( C116 * D285 ) ) c= D283 by RELAT_1:def 19;
L1759: (( rng ( id D283 ) ) = D283 & ( rng ( C116 * D285 ) ) = D283) by L1758 , L1757 , ZFMISC_1:33;
thus L1760: contradiction by L1759 , L1753 , L1755 , L1757 , FUNCT_1:7;
end;
L1761: R11 in ( Seg R11 ) by L1754 , FINSEQ_1:3;
L1762: ( Mx2Tran ( AutMt ( C116 * D285 ) ) ) = ( C116 * D285 ) by L1063;
L1763: ( Mx2Tran ( AxialSymmetry (R11 , R11) ) ) = ( Mx2Tran ( D284 * D286 ) ) by L1762 , L1734 , L1735 , L1742 , L1741 , L1740 , L1751 , L1753 , MATRTOP1:32;
L1764: ( AxialSymmetry (R11 , R11) ) = ( D284 * D286 ) by L1763 , MATRTOP1:34;
thus L1765: contradiction by L1764 , L1746 , L1761 , L169;
end;
L1766: ( ( C116 " ) * ( C116 * D285 ) ) = ( C116 " ) by L1752 , L1750 , RELAT_1:52;
L1767: ( C116 " ) = ( ( ( C116 " ) * C116 ) * D285 ) by L1766 , RELAT_1:36
.= ( ( id D283 ) * D285 ) by L1749 , L1748 , TOPS_2:52
.= D285 by L1747 , RELAT_1:53;
thus L1768: thesis by L1767 , L1738;
end;
thus L1769: thesis by L1743 , L1736 , L1695;
end;
theorem
L1770: (for R11 being Nat holds (for R14 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 )) holds (R14 is  rotation implies (( Det ( AutMt R14 ) ) = ( 1. ( F_Real ) ) or ( Det ( AutMt R14 ) ) = ( - ( 1. ( F_Real ) ) )))))
proof
let R11 being Nat;
let R14 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
set D287 = ( AutMt R14 );
set D288 = ( Mx2Tran D287 );
set D289 = ( TOP-REAL R11 );
L1771: (( len D287 ) = R11 & ( width D287 ) = R11) by MATRIX_1:24;
L1772: (R11 = ( 0 ) implies R11 = ( 0 ));
L1773: R11 in ( NAT ) by ORDINAL1:def 12;
L1774: (R11 = ( 0 ) or R11 >= 1) by NAT_1:14;
L1775: ((( Det ( 1. (( F_Real ) , R11) ) ) = ( 1_ ( F_Real ) ) & R11 >= 1) or (( Det ( 1. (( F_Real ) , R11) ) ) = ( 1. ( F_Real ) ) & R11 = ( 0 ))) by L1774 , L1773 , MATRIXR2:41 , MATRIX_7:16;
assume L1776: R14 is  rotation;
L1777: D288 is  rotation by L1776 , L1063;
consider C117 being  homogeneous  additive (Function of D289 , D289) such that L1778: C117 is  base_rotation and L1779: ( C117 * D288 ) is { R11 } -support-yielding by L1777 , L1533;
set D290 = ( AutMt C117 );
L1780: C117 = ( Mx2Tran D290 ) by L1063;
L1781: (R11 in ( NAT ) & ( Det D290 ) = ( 1. ( F_Real ) )) by L1780 , L1778 , L1695 , ORDINAL1:def 12;
L1782: ( Det ( D287 * D290 ) ) = ( ( Det D287 ) * ( 1. ( F_Real ) ) ) by L1781 , MATRIXR2:45
.= ( Det D287 );
L1783: ( width D290 ) = R11 by MATRIX_1:24;
L1784: ( C117 * D288 ) = ( Mx2Tran ( D287 * D290 ) ) by L1783 , L1771 , L1772 , L1780 , MATRTOP1:32;
per cases  by L1777 , L1778 , L1779 , L1414;
suppose L1785: ( AutMt ( C117 * D288 ) ) = ( 1. (( F_Real ) , R11) );

thus L1786: thesis by L1785 , L1775 , L1782 , L1784 , L1063;
end;
suppose L1787: (( AutMt ( C117 * D288 ) ) <> ( 1. (( F_Real ) , R11) ) & ( AutMt ( C117 * D288 ) ) = ( AxialSymmetry (R11 , R11) ));

set D291 = (the carrier of D289);
L1788: R11 <> ( 0 )
proof
L1789: (( dom ( C117 * D288 ) ) = D291 & ( dom ( id D291 ) ) = D291) by FUNCT_2:52;
assume L1790: R11 = ( 0 );
L1791: D291 = { ( 0. D289 ) } by L1790 , EUCLID:22 , EUCLID:77;
L1792: ( rng ( C117 * D288 ) ) c= D291 by RELAT_1:def 19;
L1793: (( rng ( id D291 ) ) = D291 & ( rng ( C117 * D288 ) ) = D291) by L1792 , L1791 , ZFMISC_1:33;
L1794: ( C117 * D288 ) = ( id D289 ) by L1793 , L1789 , L1791 , FUNCT_1:7
.= ( Mx2Tran ( 1. (( F_Real ) , R11) ) ) by MATRTOP1:33;
thus L1795: contradiction by L1794 , L1787 , L1063;
end;
L1796: R11 in ( Seg R11 ) by L1788 , FINSEQ_1:3;
L1797: ( Det ( AxialSymmetry (R11 , R11) ) ) = ( - ( 1. ( F_Real ) ) ) by L1796 , L169;
thus L1798: thesis by L1797 , L1782 , L1784 , L1787 , L1063;
end;
end;
theorem
L1800: (for R7 being Nat holds (for R11 being Nat holds (for R15 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 )) holds (for R16 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 )) holds ((R15 is  rotation & ( Det ( AutMt R15 ) ) = ( - ( 1. ( F_Real ) ) ) & R7 in ( Seg R11 ) & ( AutMt R16 ) = ( AxialSymmetry (R7 , R11) )) implies ( R15 * R16 ) is  base_rotation)))))
proof
let R7 being Nat;
let R11 being Nat;
let R15 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
let R16 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
set D292 = ( AutMt R15 );
set D293 = ( AutMt R16 );
assume that
L1801: R15 is  rotation
and
L1802: ( Det D292 ) = ( - ( 1. ( F_Real ) ) )
and
L1803: R7 in ( Seg R11 )
and
L1804: D293 = ( AxialSymmetry (R7 , R11) );
L1805: R16 = ( Mx2Tran ( AxialSymmetry (R7 , R11) ) ) by L1804 , L1063;
reconsider D294 = ( ( Mx2Tran D292 ) * R16 ) as  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
set D295 = ( AxialSymmetry (R7 , R11) );
set D296 = ( AutMt D294 );
L1806: (R11 = ( 0 ) implies R11 = ( 0 ));
L1807: (D294 = ( Mx2Tran D296 ) & ( width D292 ) = R11) by L1063 , MATRIX_1:24;
L1808: (( len D295 ) = R11 & ( width D295 ) = R11) by MATRIX_1:24;
L1809: ( Mx2Tran D296 ) = ( Mx2Tran ( D295 * D292 ) ) by L1808 , L1805 , L1806 , L1807 , MATRTOP1:32;
L1810: D296 = ( D295 * D292 ) by L1809 , MATRTOP1:34;
L1811: (R11 in ( NAT ) & ( Det D295 ) = ( - ( 1. ( F_Real ) ) )) by L1803 , L169 , ORDINAL1:def 12;
L1812: ( Det D296 ) = ( ( - ( 1. ( F_Real ) ) ) * ( - ( 1. ( F_Real ) ) ) ) by L1811 , L1802 , L1810 , MATRIXR2:45
.= ( 1. ( F_Real ) );
L1813: ( Mx2Tran D292 ) = R15 by L1063;
L1814: R16 is  rotation by L1803 , L1805 , L928;
thus L1815: thesis by L1814 , L1813 , L1801 , L1812 , L1733;
end;
L1816: (for R11 being Nat holds (for R14 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 )) holds (R14 is  base_rotation implies ( AutMt R14 ) is  Orthogonal)))
proof
let R11 being Nat;
let R14 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
set D297 = ( TOP-REAL R11 );
set D298 = ( GFuncs (the carrier of D297) );
assume L1817: R14 is  base_rotation;
consider C118 being (FinSequence of D298) such that L1818: R14 = ( Product C118 ) and L1819: (for R9 being Nat holds (R9 in ( dom C118 ) implies (ex R7 being Nat st (ex R8 being Nat st (ex R3 being  real number st (1 <= R7 & R7 < R8 & R8 <= R11 & ( C118 . R9 ) = ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ))))))) by L1817 , L933;
L1820: R14 = ( Mx2Tran ( AutMt R14 ) ) by L1063;
defpred S11[ Nat ] means ($1 <= ( len C118 ) implies (( Product ( C118 | $1 ) ) is  base_rotation  base_rotation  base_rotation  base_rotation (Function of D297 , D297) & (for B48 being (Matrix of R11 , ( F_Real )) holds (( Mx2Tran B48 ) = ( Product ( C118 | $1 ) ) implies B48 is  Orthogonal))));
L1821: (for R10 being Nat holds (S11[ R10 ] implies S11[ ( R10 + 1 ) ]))
proof
let R10 being Nat;
L1822: (R11 = ( 0 ) implies R11 = ( 0 ));
set D299 = ( R10 + 1 );
assume L1823: S11[ R10 ];
assume L1824: D299 <= ( len C118 );
reconsider D300 = ( Product ( C118 | R10 ) ) as  base_rotation (Function of D297 , D297) by L1824 , L1823 , NAT_1:13;
set D301 = ( AutMt D300 );
L1825: (( width D301 ) = R11 & ( len D301 ) = R11) by MATRIX_1:24;
L1826: 1 <= D299 by NAT_1:11;
L1827: D299 in ( dom C118 ) by L1826 , L1824 , FINSEQ_3:25;
consider R7 being Nat, R8 being Nat, R3 being  real number such that L1828: (1 <= R7 & R7 < R8 & R8 <= R11) and L1829: ( C118 . D299 ) = ( Mx2Tran ( Rotation (R7 , R8 , R11 , R3) ) ) by L1827 , L1819;
set D302 = ( Rotation (R7 , R8 , R11 , R3) );
reconsider D303 = ( Mx2Tran D302 ) as (Element of D298) by MONOID_0:73;
L1830: ( C118 | D299 ) = ( ( C118 | R10 ) ^ <* D303 *> ) by L1827 , L1829 , FINSEQ_5:10;
L1831: ( Product ( C118 | D299 ) ) = ( ( Product ( C118 | R10 ) ) * D303 ) by L1830 , GROUP_4:6
.= ( ( Mx2Tran D302 ) * D300 ) by MONOID_0:70;
L1832: ( Mx2Tran D302 ) is  base_rotation by L1828 , L977;
thus L1833: ( Product ( C118 | D299 ) ) is  base_rotation  base_rotation  base_rotation  base_rotation (Function of D297 , D297) by L1832 , L1831;
L1834: (( width D302 ) = R11 & ( len D302 ) = R11) by MATRIX_1:24;
let C119 being (Matrix of R11 , ( F_Real ));
assume that
L1835: ( Mx2Tran C119 ) = ( Product ( C118 | D299 ) );
L1836: ( Mx2Tran C119 ) = ( ( Mx2Tran D302 ) * ( Mx2Tran D301 ) ) by L1831 , L1835 , L1063
.= ( Mx2Tran ( D301 * D302 ) ) by L1822 , L1834 , L1825 , MATRTOP1:32;
L1837: C119 = ( D301 * D302 ) by L1836 , MATRTOP1:34;
L1838: D300 = ( Mx2Tran D301 ) by L1063;
L1839: (D301 is  Orthogonal & R11 > R7) by L1838 , L1828 , L1823 , L1824 , NAT_1:13 , XXREAL_0:2;
L1840: (( len D301 ) = R11 & D302 is  Orthogonal & R11 > ( 0 )) by L1828 , L744 , MATRIX_1:25;
thus L1841: C119 is  Orthogonal by L1840 , L1837 , L1839 , MATRIX_6:46;
end;
L1842: ( C118 | ( len C118 ) ) = C118 by FINSEQ_1:58;
L1843: S11[ ( 0 ) ]
proof
assume L1844: ( 0 ) <= ( len C118 );
L1845: ( Mx2Tran ( 1. (( F_Real ) , R11) ) ) = ( id D297 ) by MATRTOP1:33;
L1846: ( C118 | ( 0 ) ) = ( <*> (the carrier of D298) );
L1847: ( Product ( C118 | ( 0 ) ) ) = ( 1_ D298 ) by L1846 , GROUP_4:8
.= ( the_unity_wrt (the multF of D298) ) by GROUP_1:22
.= ( id D297 ) by MONOID_0:75;
thus L1848: ( Product ( C118 | ( 0 ) ) ) is  base_rotation  base_rotation  base_rotation  base_rotation (Function of D297 , D297) by L1847;
L1849: ( 1. (( F_Real ) , R11) ) is  Orthogonal by MATRIX_6:58;
let C120 being (Matrix of R11 , ( F_Real ));
thus L1850: thesis by L1845 , L1847 , L1849 , MATRTOP1:34;
end;
L1851: (for R10 being Nat holds S11[ R10 ]) from NAT_1:sch 2(L1843 , L1821);
thus L1852: thesis by L1851 , L1818 , L1842 , L1820;
end;
registration
let R11 being Nat;
let C121 being  rotation  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
cluster ( AutMt C121 ) ->  Orthogonal;
coherence
proof
set D304 = ( TOP-REAL R11 );
set D305 = (the carrier of D304);
set D306 = ( AutMt C121 );
per cases  by L1733 , L1770;
suppose L1853: ( Det D306 ) = ( 1. ( F_Real ) );

L1854: C121 is  base_rotation by L1853 , L1733;
thus L1855: thesis by L1854 , L1816;
end;
suppose L1856: (( Det D306 ) = ( - ( 1. ( F_Real ) ) ) & (not C121 is  base_rotation));

L1857: R11 > ( 0 )
proof
L1858: (( dom C121 ) = D305 & ( dom ( id D305 ) ) = D305) by FUNCT_2:52;
assume L1859: R11 <= ( 0 );
L1860: R11 = ( 0 ) by L1859;
L1861: D305 = { ( 0. D304 ) } by L1860 , EUCLID:22 , EUCLID:77;
L1862: ( rng C121 ) c= D305 by RELAT_1:def 19;
L1863: (( rng ( id D305 ) ) = D305 & ( rng C121 ) = D305) by L1862 , L1861 , ZFMISC_1:33;
L1864: C121 = ( id D304 ) by L1863 , L1858 , L1861 , FUNCT_1:7;
thus L1865: contradiction by L1864 , L1856;
end;
L1866: R11 in ( Seg R11 ) by L1857 , FINSEQ_1:3;
set D307 = ( AxialSymmetry (R11 , R11) );
set D308 = ( Mx2Tran D307 );
L1867: ( AutMt D308 ) = D307 by L1063;
L1868: ( C121 * D308 ) is  base_rotation by L1867 , L1856 , L1866 , L1800;
L1869: (D307 is  diagonal & ( D307 ~ ) = D307) by L1866 , L211;
L1870: ( D307 @ ) = ( D307 ~ ) by L1869 , L15;
L1871: (D307 is  Orthogonal & ( AutMt ( C121 * D308 ) ) is  Orthogonal) by L1870 , L1868 , L1816 , MATRIX_6:def 7;
L1872: ( AutMt ( C121 * D308 ) ) = ( ( AutMt D308 ) * D306 ) by L1079
.= ( D307 * D306 ) by L1063;
L1873: ( D307 ~ ) is_reverse_of D307 by MATRIX_6:def 4;
L1874: ( ( D307 ~ ) * D307 ) = ( 1. (( F_Real ) , R11) ) by L1873 , MATRIX_6:def 2;
L1875: (( width ( D307 ~ ) ) = R11 & ( len D307 ) = R11 & ( width D307 ) = R11 & ( len D306 ) = R11) by MATRIX_1:24;
L1876: ( ( D307 ~ ) * ( D307 * D306 ) ) = ( ( ( D307 ~ ) * D307 ) * D306 ) by L1875 , MATRIX_3:33
.= D306 by L1874 , MATRIX_3:18;
thus L1877: thesis by L1876 , L1857 , L1871 , L1872 , MATRIX_6:59;
end;
end;
end;
registration
let R11 being Nat;
cluster  homogeneous  additive  rotation ->  being_homeomorphism for (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 ));
coherence
proof
set D309 = ( TOP-REAL R11 );
set D310 = (the carrier of D309);
let C122 being (Function of D309 , D309);
assume L1880: C122 is  homogeneous  additive  rotation;
reconsider D311 = C122 as  homogeneous  additive (Function of D309 , D309) by L1880;
set D312 = ( AutMt D311 );
per cases  by L1880 , L1733 , L1770;
suppose L1881: ( Det D312 ) = ( 1. ( F_Real ) );

L1882: C122 is  base_rotation by L1881 , L1880 , L1733;
thus L1883: thesis by L1882;
end;
suppose L1884: (( Det D312 ) = ( - ( 1. ( F_Real ) ) ) & (not C122 is  base_rotation));

L1885: R11 <> ( 0 )
proof
L1886: (( dom C122 ) = D310 & ( dom ( id D310 ) ) = D310) by FUNCT_2:52;
assume L1887: R11 = ( 0 );
L1888: D310 = { ( 0. D309 ) } by L1887 , EUCLID:22 , EUCLID:77;
L1889: ( rng C122 ) c= D310 by RELAT_1:def 19;
L1890: (( rng ( id D310 ) ) = D310 & ( rng C122 ) = D310) by L1889 , L1888 , ZFMISC_1:33;
L1891: C122 = ( id D309 ) by L1890 , L1886 , L1888 , FUNCT_1:7;
thus L1892: contradiction by L1891 , L1884;
end;
L1893: R11 in ( Seg R11 ) by L1885 , FINSEQ_1:3;
L1894: ( dom C122 ) = D310 by FUNCT_2:52;
set D313 = ( AxialSymmetry (R11 , R11) );
set D314 = ( Mx2Tran D313 );
L1895: ( D314 " ) is  being_homeomorphism by TOPS_2:56;
L1896: (D314 is  one-to-one & ( rng D314 ) = ( [#] D309 )) by TOPS_2:def 5;
L1897: ( AutMt D314 ) = D313 by L1063;
L1898: ( C122 * D314 ) is  base_rotation by L1897 , L1880 , L1884 , L1893 , L1800;
L1899: ( ( C122 * D314 ) * ( D314 " ) ) = ( C122 * ( D314 * ( D314 " ) ) ) by RELAT_1:36
.= ( C122 * ( id D310 ) ) by L1896 , TOPS_2:52
.= C122 by L1894 , RELAT_1:51;
thus L1900: thesis by L1899 , L1898 , L1895 , TOPS_2:57;
end;
end;
end;
begin
theorem
L1903: (for R11 being Nat holds (for R12 being (Point of ( TOP-REAL R11 )) holds (for R13 being (Point of ( TOP-REAL R11 )) holds ((R11 = 1 & |. R12 .| = |. R13 .|) implies (ex R14 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 )) st (R14 is  rotation & ( R14 . R12 ) = R13 & (( AutMt R14 ) = ( AxialSymmetry (R11 , R11) ) or ( AutMt R14 ) = ( 1. (( F_Real ) , R11) ))))))))
proof
let R11 being Nat;
let R12 being (Point of ( TOP-REAL R11 ));
let R13 being (Point of ( TOP-REAL R11 ));
set D315 = ( TOP-REAL R11 );
assume that
L1904: R11 = 1
and
L1905: |. R12 .| = |. R13 .|;
per cases ;
suppose L1906: R12 = R13;

take D316 = ( id D315 );
L1907: ( id D315 ) = ( Mx2Tran ( 1. (( F_Real ) , 1) ) ) by L1904 , MATRTOP1:33;
thus L1908: thesis by L1907 , L1904 , L1906 , L1063 , FUNCT_1:17;
end;
suppose L1909: R12 <> R13;

L1910: ( len R12 ) = 1 by L1904 , CARD_1:def 7;
L1911: R12 = <* ( R12 . 1 ) *> by L1910 , FINSEQ_1:40;
L1912: 1 in ( Seg 1 );
reconsider D317 = ( Mx2Tran ( AxialSymmetry (1 , 1) ) ) as  homogeneous  additive  rotation (Function of D315 , D315) by L1912 , L1904 , L928;
take D317;
L1913: (( ( R13 . 1 ) ^2 ) >= ( 0 ) & ( ( R12 . 1 ) ^2 ) >= ( 0 )) by XREAL_1:63;
L1914: |. R12 .| = ( sqrt ( Sum ( sqr <* ( R12 . 1 ) *> ) ) ) by L1910 , FINSEQ_1:40
.= ( sqrt ( Sum <* ( ( R12 . 1 ) ^2 ) *> ) ) by RVSUM_1:55
.= ( sqrt ( ( R12 . 1 ) ^2 ) ) by RVSUM_1:73;
L1915: ( len R13 ) = 1 by L1904 , CARD_1:def 7;
L1916: R13 = <* ( R13 . 1 ) *> by L1915 , FINSEQ_1:40;
L1917: |. R13 .| = ( sqrt ( Sum ( sqr <* ( R13 . 1 ) *> ) ) ) by L1915 , FINSEQ_1:40
.= ( sqrt ( Sum <* ( ( R13 . 1 ) ^2 ) *> ) ) by RVSUM_1:55
.= ( sqrt ( ( R13 . 1 ) ^2 ) ) by RVSUM_1:73;
L1918: ( ( R13 . 1 ) ^2 ) = ( ( R12 . 1 ) ^2 ) by L1917 , L1905 , L1913 , L1914 , SQUARE_1:28;
L1919: ( len ( D317 . R12 ) ) = 1 by L1904 , CARD_1:def 7;
L1920: ( D317 . R12 ) = <* ( ( D317 . R12 ) . 1 ) *> by L1919 , FINSEQ_1:40
.= <* ( - ( R12 . 1 ) ) *> by L1904 , L1912 , L261
.= R13 by L1909 , L1911 , L1916 , L1918 , SQUARE_1:40;
thus L1921: thesis by L1920 , L1904 , L1063;
end;
end;
theorem
L1923: (for R11 being Nat holds (for R12 being (Point of ( TOP-REAL R11 )) holds (for R13 being (Point of ( TOP-REAL R11 )) holds ((R11 <> 1 & |. R12 .| = |. R13 .|) implies (ex R14 being  homogeneous  additive (Function of ( TOP-REAL R11 ) , ( TOP-REAL R11 )) st (R14 is  base_rotation & ( R14 . R12 ) = R13))))))
proof
let R11 being Nat;
let R12 being (Point of ( TOP-REAL R11 ));
let R13 being (Point of ( TOP-REAL R11 ));
set D318 = ( TOP-REAL R11 );
assume L1924: R11 <> 1;
assume L1925: |. R12 .| = |. R13 .|;
per cases ;
suppose L1926: R12 = R13;

take D319 = ( id D318 );
thus L1927: thesis by L1926 , FUNCT_1:17;
end;
suppose L1928: R12 <> R13;

L1929: R11 <> ( 0 )
proof
assume L1930: R11 = ( 0 );
L1931: R12 = ( 0. D318 ) by L1930 , EUCLID:77;
thus L1932: thesis by L1931 , L1928 , L1930 , EUCLID:77;
end;
L1933: R11 >= 1 by L1929 , NAT_1:14;
defpred S12[ Nat ] means (( $1 + 1 ) <= R11 implies (ex B49 being  base_rotation (Function of D318 , D318) st (ex B50 being set st (( card B50 ) = $1 & B50 c= ( Seg R11 ) & (for R9 being Nat holds (R9 in B50 implies ( ( B49 . R12 ) . R9 ) = ( R13 . R9 )))))));
L1934: ( Sum ( sqr R13 ) ) >= ( 0 ) by RVSUM_1:86;
L1935: ( card ( Seg R11 ) ) = R11 by FINSEQ_1:57;
L1936: (for R10 being Nat holds (S12[ R10 ] implies S12[ ( R10 + 1 ) ]))
proof
let R10 being Nat;
assume that
L1937: S12[ R10 ];
set D320 = ( R10 + 1 );
assume L1938: ( D320 + 1 ) <= R11;
consider C123 being  base_rotation (Function of D318 , D318), C124 being set such that L1939: ( card C124 ) = R10 and L1940: C124 c= ( Seg R11 ) and L1941: (for R9 being Nat holds (R9 in C124 implies ( ( C123 . R12 ) . R9 ) = ( R13 . R9 ))) by L1938 , L1937 , NAT_1:13;
set D321 = ( C123 . R12 );
set D322 = ( sqr D321 );
set D323 = ( sqr R13 );
L1942: D320 < R11 by L1938 , NAT_1:13;
per cases ;
suppose L1943: (ex R9 being Nat st (R9 in ( ( Seg R11 ) \ C124 ) & ( D322 . R9 ) >= ( D323 . R9 )));

consider R9 being Nat such that L1944: R9 in ( ( Seg R11 ) \ C124 ) and L1945: ( D322 . R9 ) >= ( D323 . R9 ) by L1943;
L1946: R9 in ( Seg R11 ) by L1944 , XBOOLE_0:def 5;
L1947: 1 <= R9 by L1946 , FINSEQ_1:1;
set D324 = ( C124 \/ { R9 } );
L1948: (( D322 . R9 ) = ( ( D321 . R9 ) ^2 ) & ( D323 . R9 ) = ( ( R13 . R9 ) ^2 )) by VALUED_1:11;
L1949: { R9 } c= ( Seg R11 ) by L1946 , ZFMISC_1:31;
L1950: D324 c= ( Seg R11 ) by L1949 , L1940 , XBOOLE_1:8;
L1951: (not R9 in C124) by L1944 , XBOOLE_0:def 5;
L1952: ( card D324 ) = D320 by L1951 , L1939 , L1940 , CARD_2:41;
L1953: D324 c< ( Seg R11 ) by L1952 , L1935 , L1942 , L1950 , XBOOLE_0:def 8;
consider C125 being set such that L1954: C125 in ( Seg R11 ) and L1955: (not C125 in D324) by L1953 , XBOOLE_0:6;
reconsider D325 = C125 as Nat by L1954;
L1956: 1 <= D325 by L1954 , FINSEQ_1:1;
L1957: ( ( D321 . D325 ) ^2 ) >= ( 0 ) by XREAL_1:63;
L1958: ( ( 0 ) + ( ( R13 . R9 ) ^2 ) ) <= ( ( ( D321 . D325 ) ^2 ) + ( ( D321 . R9 ) ^2 ) ) by L1957 , L1945 , L1948 , XREAL_1:7;
L1959: D325 <= R11 by L1954 , FINSEQ_1:1;
L1960: R9 <= R11 by L1946 , FINSEQ_1:1;
L1961: (not D325 in { R9 }) by L1955 , XBOOLE_0:def 3;
L1962: D325 <> R9 by L1961 , TARSKI:def 1;
L1963:
now
per cases  by L1962 , XXREAL_0:1;
suppose L1964: D325 < R9;

consider R3 being  real number such that L1965: ( ( ( Mx2Tran ( Rotation (D325 , R9 , R11 , R3) ) ) . D321 ) . R9 ) = ( R13 . R9 ) by L1964 , L1956 , L1958 , L1960 , L895;
L1966: ( Mx2Tran ( Rotation (D325 , R9 , R11 , R3) ) ) is { R9 , D325 } -support-yielding  base_rotation by L1956 , L1960 , L1964 , L977 , L910;
thus L1967: (ex B51 being  base_rotation (Function of D318 , D318) st (B51 is { R9 , D325 } -support-yielding & ( ( B51 . D321 ) . R9 ) = ( R13 . R9 ))) by L1966 , L1965;
end;
suppose L1968: D325 > R9;

consider R3 being  real number such that L1969: ( ( ( Mx2Tran ( Rotation (R9 , D325 , R11 , R3) ) ) . D321 ) . R9 ) = ( R13 . R9 ) by L1968 , L1947 , L1958 , L1959 , L827;
L1970: ( Mx2Tran ( Rotation (R9 , D325 , R11 , R3) ) ) is { D325 , R9 } -support-yielding  base_rotation by L1947 , L1959 , L1968 , L977 , L910;
thus L1971: (ex B52 being  base_rotation (Function of D318 , D318) st (B52 is { R9 , D325 } -support-yielding & ( ( B52 . D321 ) . R9 ) = ( R13 . R9 ))) by L1970 , L1969;
end;
end;
consider C126 being  base_rotation (Function of D318 , D318) such that L1973: C126 is { R9 , D325 } -support-yielding and L1974: ( ( C126 . D321 ) . R9 ) = ( R13 . R9 ) by L1963;
take D326 = ( C126 * C123 );
take D324;
thus L1975: (( card D324 ) = D320 & D324 c= ( Seg R11 )) by L1939 , L1940 , L1949 , L1951 , CARD_2:41 , XBOOLE_1:8;
let R10 being Nat;
L1976: ( dom D326 ) = (the carrier of D318) by FUNCT_2:52;
L1977: ( dom C126 ) = (the carrier of D318) by FUNCT_2:52;
assume L1978: R10 in D324;
L1979: (R10 in C124 or R10 in { R9 }) by L1978 , XBOOLE_0:def 3;
per cases  by L1979 , TARSKI:def 1;
suppose L1980: R10 in C124;

L1981: R10 <> R9 by L1980 , L1944 , XBOOLE_0:def 5;
L1982: (not R10 in { R9 , D325 }) by L1981 , L1955 , L1978 , TARSKI:def 2;
L1983: ( ( C126 . D321 ) . R10 ) = ( D321 . R10 ) by L1982 , L1973 , L1977 , L38;
thus L1984: ( ( D326 . R12 ) . R10 ) = ( D321 . R10 ) by L1983 , L1976 , FUNCT_1:12
.= ( R13 . R10 ) by L1941 , L1980;
end;
suppose L1985: R10 = R9;

thus L1986: ( ( D326 . R12 ) . R10 ) = ( R13 . R10 ) by L1985 , L1974 , L1976 , FUNCT_1:12;
end;
end;
suppose L1988: (for R9 being Nat holds (R9 in ( ( Seg R11 ) \ C124 ) implies ( D322 . R9 ) < ( D323 . R9 )));

L1989: ( Sum D322 ) >= ( 0 ) by RVSUM_1:86;
L1990: (( Sum D323 ) >= ( 0 ) & |. R12 .| = |. D321 .|) by L926 , RVSUM_1:86;
L1991: ( Sum D322 ) = ( Sum D323 ) by L1990 , L1925 , L1989 , SQUARE_1:28;
L1992: D321 = ( @ ( @ D321 ) );
L1993: ( len D322 ) = ( len D321 ) by L1992 , RVSUM_1:143;
L1994: R13 = ( @ ( @ R13 ) );
L1995: ( len D323 ) = ( len R13 ) by L1994 , RVSUM_1:143;
L1996: (( len D321 ) = R11 & ( len R13 ) = R11) by CARD_1:def 7;
reconsider D327 = D322 , D328 = D323 as (Element of ( R11 -tuples_on ( REAL ) )) by L1996 , L1993 , L1995 , FINSEQ_2:92;
L1997: R10 < R11 by L1942 , NAT_1:13;
L1998: C124 <> ( Seg R11 ) by L1997 , L1939 , FINSEQ_1:57;
L1999: C124 c< ( Seg R11 ) by L1998 , L1940 , XBOOLE_0:def 8;
consider C127 being set such that L2000: C127 in ( Seg R11 ) and L2001: (not C127 in C124) by L1999 , XBOOLE_0:6;
reconsider D329 = C127 as Nat by L2000;
L2002: D329 in ( ( Seg R11 ) \ C124 ) by L2000 , L2001 , XBOOLE_0:def 5;
L2003: (for R9 being Nat holds (R9 in ( Seg R11 ) implies ( D327 . R9 ) <= ( D328 . R9 )))
proof
let R9 being Nat;
assume that
L2004: R9 in ( Seg R11 );
per cases  by L2004 , XBOOLE_0:def 5;
suppose L2005: R9 in ( ( Seg R11 ) \ C124 );

thus L2006: thesis by L2005 , L1988;
end;
suppose L2007: R9 in C124;

L2008: ( D321 . R9 ) = ( R13 . R9 ) by L2007 , L1941;
L2009: ( D327 . R9 ) = ( ( R13 . R9 ) ^2 ) by L2008 , VALUED_1:11
.= ( D328 . R9 ) by VALUED_1:11;
thus L2010: thesis by L2009;
end;
end;
L2012: ( D327 . D329 ) >= ( D328 . D329 ) by L2003 , L1991 , L2000 , RVSUM_1:83;
thus L2013: thesis by L2012 , L1988 , L2002;
end;
end;
reconsider D330 = ( R11 - 1 ) as Nat by L1929 , NAT_1:14 , NAT_1:21;
L2015: ( D330 + 1 ) = R11;
L2016: S12[ ( 0 ) ]
proof
assume L2017: ( ( 0 ) + 1 ) <= R11;
take D331 = ( id D318 );
take D332 = ( {} );
thus L2018: (( card D332 ) = ( 0 ) & D332 c= ( Seg R11 )) by XBOOLE_1:2;
let R9 being Nat;
assume L2019: R9 in D332;
thus L2020: thesis by L2019;
end;
L2021: (for R10 being Nat holds S12[ R10 ]) from NAT_1:sch 2(L2016 , L1936);
consider C128 being  base_rotation (Function of D318 , D318), C129 being set such that L2022: (( card C129 ) = D330 & C129 c= ( Seg R11 )) and L2023: (for R9 being Nat holds (R9 in C129 implies ( ( C128 . R12 ) . R9 ) = ( R13 . R9 ))) by L2021 , L2015;
L2024: ( card ( ( Seg R11 ) \ C129 ) ) = ( R11 - D330 ) by L1935 , L2022 , CARD_2:44;
consider C130 being set such that L2025: { C130 } = ( ( Seg R11 ) \ C129 ) by L2024 , CARD_2:42;
set D333 = ( C128 . R12 );
L2026: (( Sum ( sqr D333 ) ) >= ( 0 ) & |. R12 .| = |. D333 .|) by L926 , RVSUM_1:86;
L2027: ( Sum ( sqr R13 ) ) = ( Sum ( sqr D333 ) ) by L2026 , L1925 , L1934 , SQUARE_1:28;
L2028: C130 in { C130 } by TARSKI:def 1;
L2029: C130 in ( Seg R11 ) by L2028 , L2025 , XBOOLE_0:def 5;
reconsider D334 = C130 as Nat by L2025 , L2028;
set D335 = ( D333 +* (D334 , ( R13 . D334 )) );
L2030: ( len D333 ) = R11 by CARD_1:def 7;
L2031: ( dom D333 ) = ( Seg R11 ) by L2030 , FINSEQ_1:def 3;
L2032: (for R9 being Nat holds ((1 <= R9 & R9 <= R11) implies ( D335 . R9 ) = ( R13 . R9 )))
proof
let R9 being Nat;
assume L2033: (1 <= R9 & R9 <= R11);
L2034: R9 in ( Seg R11 ) by L2033 , FINSEQ_1:1;
per cases ;
suppose L2035: R9 = D334;

thus L2036: thesis by L2035 , L2031 , L2034 , FUNCT_7:31;
end;
suppose L2037: R9 <> D334;

L2038: (not R9 in ( ( Seg R11 ) \ C129 )) by L2037 , L2025 , TARSKI:def 1;
L2039: R9 in C129 by L2038 , L2034 , XBOOLE_0:def 5;
L2040: ( D335 . R9 ) = ( D333 . R9 ) by L2037 , FUNCT_7:32;
thus L2041: thesis by L2040 , L2023 , L2039;
end;
end;
L2043: (( len D335 ) = ( len D333 ) & ( len R13 ) = R11) by CARD_1:def 7 , FUNCT_7:97;
L2044: D335 = R13 by L2043 , L2030 , L2032 , FINSEQ_1:14;
L2045: ( Sum ( sqr R13 ) ) = ( ( ( Sum ( sqr D333 ) ) - ( ( D333 . D334 ) ^2 ) ) + ( ( R13 . D334 ) ^2 ) ) by L2044 , L2029 , L2031 , L27;
per cases  by L2045 , L2027 , SQUARE_1:40;
suppose L2046: ( D333 . D334 ) = ( R13 . D334 );

L2047: D333 = R13 by L2046 , L2044 , FUNCT_7:35;
thus L2048: thesis by L2047;
end;
suppose L2049: ( D333 . D334 ) = ( - ( R13 . D334 ) );

L2050: 1 < R11 by L1924 , L1933 , XXREAL_0:1;
L2051: ( 1 + 1 ) <= R11 by L2050 , NAT_1:13;
consider C131 being  homogeneous  additive (Function of D318 , D318) such that L2052: C131 is  base_rotation and L2053: ( C131 . D333 ) = ( D333 +* (D334 , ( - ( D333 . D334 ) )) ) by L2051 , L2029 , L1344;
L2054: ( dom ( C131 * C128 ) ) = (the carrier of D318) by FUNCT_2:52;
L2055: ( ( C131 * C128 ) . R12 ) = ( D333 +* (D334 , ( - ( D333 . D334 ) )) ) by L2054 , L2053 , FUNCT_1:12
.= R13 by L2030 , L2032 , L2043 , L2049 , FINSEQ_1:14;
thus L2056: thesis by L2055 , L2052;
end;
end;
end;
