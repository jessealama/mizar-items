:: Convex Hull, Set of Convex Combinations and Convex Cone
::  by Noboru Endou and Yasunari Shidama
::
:: Received June 16, 2003
:: Copyright (c) 2003-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, RLVECT_1, CONVEX2, FUNCT_2, STRUCT_0, XBOOLE_0,
      SUBSET_1, CARD_3, RLVECT_2, FUNCT_1, FINSEQ_1, RELAT_1, VALUED_1, TARSKI,
      NAT_1, XXREAL_0, CARD_1, ARYTM_3, ORDINAL4, CONVEX1, REAL_1, ARYTM_1,
      RFINSEQ, PARTFUN1, FINSET_1, SUPINF_2, CONVEX3;
 notations TARSKI, XBOOLE_0, SUBSET_1, CARD_1, NUMBERS, XCMPLX_0, XXREAL_0,
      REAL_1, RELAT_1, FUNCT_1, FINSET_1, ORDINAL1, DOMAIN_1, PARTFUN1,
      STRUCT_0, ALGSTR_0, FUNCT_2, FINSEQ_1, RLVECT_1, RLVECT_2, RVSUM_1,
      CONVEX1, RFINSEQ, CONVEX2;
 constructors DOMAIN_1, REAL_1, FINSOP_1, RVSUM_1, RFINSEQ, CONVEX1, SEQ_1,
      BINOP_2, RELSET_1;
 registrations XBOOLE_0, ORDINAL1, RELSET_1, FINSET_1, NUMBERS, XXREAL_0,
      XREAL_0, NAT_1, STRUCT_0, RLVECT_1, VALUED_0, CARD_1, RLVECT_2;
 requirements REAL, NUMERALS, SUBSET, BOOLE, ARITHM;
 definitions RVSUM_1;
 theorems RLVECT_1, RVSUM_1, FUNCT_1, FINSEQ_1, TARSKI, ZFMISC_1, XBOOLE_0,
      XBOOLE_1, RLVECT_2, CARD_1, FINSEQ_3, FINSEQ_4, ENUMSET1, CONVEX1,
      FUNCT_2, NAT_1, RFINSEQ, CONVEX2, RLVECT_3, CARD_2, FINSEQ_5, PARTFUN2,
      GRAPH_5, RELAT_1, XCMPLX_1, XREAL_1, XXREAL_0, FINSOP_1, ORDINAL1,
      PARTFUN1, VALUED_1, RLVECT_4;
 schemes NAT_1, XBOOLE_0, FINSEQ_1, CLASSES1;

begin
definition
let C1 being RealLinearSpace;
defpred S1[ set ] means $1 is (Convex_Combination of C1);
func ConvexComb C1 -> set means 
:L1: (for B1 being set holds (B1 in it iff B1 is (Convex_Combination of C1)));
existence
proof
consider C2 being set such that L2: (for B2 being set holds (B2 in C2 iff (B2 in ( Funcs ((the carrier of C1) , ( REAL )) ) & S1[ B2 ]))) from XBOOLE_0:sch 1;
take C2;
let C3 being set;
thus L3: (C3 in C2 implies C3 is (Convex_Combination of C1)) by L2;
assume L4: C3 is (Convex_Combination of C1);
thus L5: thesis by L4 , L2;
end;
uniqueness
proof
thus L6: (for B3 , B4 being set holds (((for B5 being set holds (B5 in B3 iff S1[ B5 ])) & (for B6 being set holds (B6 in B4 iff S1[ B6 ]))) implies B3 = B4)) from XBOOLE_0:sch 3;
end;
end;
definition
let C4 being RealLinearSpace;
let C5 being non  empty (Subset of C4);
defpred S2[ set ] means $1 is (Convex_Combination of C5);
func ConvexComb C5 -> set means 
(for B7 being set holds (B7 in it iff B7 is (Convex_Combination of C5)));
existence
proof
consider C6 being set such that L8: (for B8 being set holds (B8 in C6 iff (B8 in ( Funcs ((the carrier of C4) , ( REAL )) ) & S2[ B8 ]))) from XBOOLE_0:sch 1;
take C6;
let C7 being set;
thus L9: (C7 in C6 implies C7 is (Convex_Combination of C5)) by L8;
assume L10: C7 is (Convex_Combination of C5);
thus L11: thesis by L10 , L8;
end;
uniqueness
proof
thus L12: (for B9 , B10 being set holds (((for B11 being set holds (B11 in B9 iff S2[ B11 ])) & (for B12 being set holds (B12 in B10 iff S2[ B12 ]))) implies B9 = B10)) from XBOOLE_0:sch 3;
end;
end;
theorem
L14: (for B13 being RealLinearSpace holds (for B14 being (VECTOR of B13) holds (ex B15 being (Convex_Combination of B13) st (( Sum B15 ) = B14 & (for B16 being non  empty (Subset of B13) holds (B14 in B16 implies B15 is (Convex_Combination of B16)))))))
proof
let C8 being RealLinearSpace;
let C9 being (VECTOR of C8);
consider C10 being (Linear_Combination of { C9 }) such that L15: ( C10 . C9 ) = 1 by RLVECT_4:37;
consider C11 being (FinSequence of (the carrier of C8)) such that L16: (C11 is  one-to-one & ( rng C11 ) = ( Carrier C10 )) and L17: ( Sum C10 ) = ( Sum ( C10 (#) C11 ) ) by RLVECT_2:def 8;
L18: C9 in ( Carrier C10 ) by L15 , RLVECT_2:19;
L19: (( Carrier C10 ) c= { C9 } & { C9 } c= ( Carrier C10 )) by L18 , RLVECT_2:def 6 , ZFMISC_1:31;
L20: { C9 } = ( Carrier C10 ) by L19 , XBOOLE_0:def 10;
L21: C11 = <* C9 *> by L20 , L16 , FINSEQ_3:97;
L22: ( C11 . 1 ) = C9 by L21 , FINSEQ_1:def 8;
deffunc H1(set) = ( C10 . ( C11 . $1 ) );
consider C12 being FinSequence such that L23: (( len C12 ) = ( len C11 ) & (for B17 being Nat holds (B17 in ( dom C12 ) implies ( C12 . B17 ) = H1(B17)))) from FINSEQ_1:sch 2;
L24: ( len C11 ) = 1 by L20 , L16 , FINSEQ_3:96;
L25: 1 in ( dom C12 ) by L24 , L23 , FINSEQ_3:25;
L26: ( C12 . 1 ) = ( C10 . ( C11 . 1 ) ) by L25 , L23;
L27: C12 = <* 1 *> by L26 , L15 , L23 , L24 , L22 , FINSEQ_1:40;
L28: ( rng C12 ) = { 1 } by L27 , FINSEQ_1:38;
L29: ( rng C12 ) c= ( REAL ) by L28 , ZFMISC_1:31;
reconsider D1 = C12 as (FinSequence of ( REAL )) by L29 , FINSEQ_1:def 4;
L30: (for B18 being Nat holds (B18 in ( dom D1 ) implies (( D1 . B18 ) = ( C10 . ( C11 . B18 ) ) & ( D1 . B18 ) >= ( 0 ))))
proof
let C13 being Nat;
assume L31: C13 in ( dom D1 );
L32: C13 in ( Seg ( len D1 ) ) by L31 , FINSEQ_1:def 3;
thus L33: thesis by L32 , L15 , L23 , L24 , L26 , L22 , L31 , FINSEQ_1:2 , TARSKI:def 1;
end;
L34: D1 = <* 1 *> by L15 , L23 , L24 , L26 , L22 , FINSEQ_1:40;
L35: ( Sum D1 ) = 1 by L34 , FINSOP_1:11;
reconsider D2 = C10 as (Convex_Combination of C8) by L35 , L16 , L23 , L30 , CONVEX1:def 3;
L36: (for B19 being non  empty (Subset of C8) holds (C9 in B19 implies D2 is (Convex_Combination of B19)))
proof
let C14 being non  empty (Subset of C8);
assume L37: C9 in C14;
L38: { C9 } c= C14 by L37 , ZFMISC_1:31;
thus L39: thesis by L38 , L20 , RLVECT_2:def 6;
end;
take D2;
L40: ( Sum D2 ) = ( 1 * C9 ) by L15 , L20 , RLVECT_2:35;
thus L41: thesis by L40 , L36 , RLVECT_1:def 8;
end;
theorem
L42: (for B20 being RealLinearSpace holds (for B21 , B22 being (VECTOR of B20) holds (B21 <> B22 implies (ex B23 being (Convex_Combination of B20) st (for B24 being non  empty (Subset of B20) holds ({ B21 , B22 } c= B24 implies B23 is (Convex_Combination of B24)))))))
proof
let C15 being RealLinearSpace;
let C16 , C17 being (VECTOR of C15);
assume L43: C16 <> C17;
consider C18 being (Linear_Combination of { C16 , C17 }) such that L44: (( C18 . C16 ) = ( 1 / 2 ) & ( C18 . C17 ) = ( 1 / 2 )) by L43 , RLVECT_4:38;
consider C19 being (FinSequence of (the carrier of C15)) such that L45: (C19 is  one-to-one & ( rng C19 ) = ( Carrier C18 )) and L46: ( Sum C18 ) = ( Sum ( C18 (#) C19 ) ) by RLVECT_2:def 8;
deffunc H2(set) = ( C18 . ( C19 . $1 ) );
consider C20 being FinSequence such that L47: (( len C20 ) = ( len C19 ) & (for B25 being Nat holds (B25 in ( dom C20 ) implies ( C20 . B25 ) = H2(B25)))) from FINSEQ_1:sch 2;
L48: (C16 in ( Carrier C18 ) & C17 in ( Carrier C18 )) by L44 , RLVECT_2:19;
L49: (( Carrier C18 ) c= { C16 , C17 } & { C16 , C17 } c= ( Carrier C18 )) by L48 , RLVECT_2:def 6 , ZFMISC_1:32;
L50: { C16 , C17 } = ( Carrier C18 ) by L49 , XBOOLE_0:def 10;
L51: ( len C19 ) = 2 by L50 , L43 , L45 , FINSEQ_3:98;
L52: 2 in ( dom C20 ) by L51 , L47 , FINSEQ_3:25;
L53: ( C20 . 2 ) = ( C18 . ( C19 . 2 ) ) by L52 , L47;
L54: 1 in ( dom C20 ) by L47 , L51 , FINSEQ_3:25;
L55: ( C20 . 1 ) = ( C18 . ( C19 . 1 ) ) by L54 , L47;
L56:
now
per cases  by L43 , L50 , L45 , FINSEQ_3:99;
suppose L57: C19 = <* C16 , C17 *>;

L58: (( C19 . 1 ) = C16 & ( C19 . 2 ) = C17) by L57 , FINSEQ_1:44;
L59: C20 = <* ( 1 / 2 ) , ( 1 / 2 ) *> by L58 , L44 , L47 , L51 , L55 , L53 , FINSEQ_1:44;
L60: C20 = ( <* ( 1 / 2 ) *> ^ <* ( 1 / 2 ) *> ) by L59 , FINSEQ_1:def 9;
L61: ( rng C20 ) = ( ( rng <* ( 1 / 2 ) *> ) \/ ( rng <* ( 1 / 2 ) *> ) ) by L60 , FINSEQ_1:31
.= { ( 1 / 2 ) } by FINSEQ_1:38;
reconsider D3 = C20 as (FinSequence of ( REAL )) by L61 , FINSEQ_1:def 4;
L62: (for B26 being Nat holds (B26 in ( dom D3 ) implies (( D3 . B26 ) = ( C18 . ( C19 . B26 ) ) & ( D3 . B26 ) >= ( 0 ))))
proof
let C21 being Nat;
assume L63: C21 in ( dom D3 );
L64: C21 in ( Seg ( len D3 ) ) by L63 , FINSEQ_1:def 3;
thus L65: thesis by L64 , L44 , L47 , L51 , L55 , L53 , L58 , L63 , FINSEQ_1:2 , TARSKI:def 2;
end;
L66: D3 = <* ( 1 / 2 ) , ( 1 / 2 ) *> by L44 , L47 , L51 , L55 , L53 , L58 , FINSEQ_1:44;
L67: ( Sum D3 ) = ( ( 1 / 2 ) + ( 1 / 2 ) ) by L66 , RVSUM_1:77
.= 1;
reconsider D4 = C18 as (Convex_Combination of C15) by L67 , L45 , L47 , L62 , CONVEX1:def 3;
take D5 = D4;
L68: (for B27 being non  empty (Subset of C15) holds ({ C16 , C17 } c= B27 implies D5 is (Convex_Combination of B27))) by L50 , RLVECT_2:def 6;
thus L69: thesis by L68;
end;
suppose L70: C19 = <* C17 , C16 *>;

L71: (( C19 . 1 ) = C17 & ( C19 . 2 ) = C16) by L70 , FINSEQ_1:44;
L72: C20 = <* ( 1 / 2 ) , ( 1 / 2 ) *> by L71 , L44 , L47 , L51 , L55 , L53 , FINSEQ_1:44;
L73: C20 = ( <* ( 1 / 2 ) *> ^ <* ( 1 / 2 ) *> ) by L72 , FINSEQ_1:def 9;
L74: ( rng C20 ) = ( ( rng <* ( 1 / 2 ) *> ) \/ ( rng <* ( 1 / 2 ) *> ) ) by L73 , FINSEQ_1:31
.= { ( 1 / 2 ) } by FINSEQ_1:38;
reconsider D6 = C20 as (FinSequence of ( REAL )) by L74 , FINSEQ_1:def 4;
L75: (for B28 being Nat holds (B28 in ( dom D6 ) implies (( D6 . B28 ) = ( C18 . ( C19 . B28 ) ) & ( D6 . B28 ) >= ( 0 ))))
proof
let C22 being Nat;
assume L76: C22 in ( dom D6 );
L77: C22 in ( Seg ( len D6 ) ) by L76 , FINSEQ_1:def 3;
thus L78: thesis by L77 , L44 , L47 , L51 , L55 , L53 , L71 , L76 , FINSEQ_1:2 , TARSKI:def 2;
end;
L79: D6 = <* ( 1 / 2 ) , ( 1 / 2 ) *> by L44 , L47 , L51 , L55 , L53 , L71 , FINSEQ_1:44;
L80: ( Sum D6 ) = ( ( 1 / 2 ) + ( 1 / 2 ) ) by L79 , RVSUM_1:77
.= 1;
reconsider D7 = C18 as (Convex_Combination of C15) by L80 , L45 , L47 , L75 , CONVEX1:def 3;
take D8 = D7;
L81: (for B29 being non  empty (Subset of C15) holds ({ C16 , C17 } c= B29 implies D8 is (Convex_Combination of B29))) by L50 , RLVECT_2:def 6;
thus L82: thesis by L81;
end;
end;
thus L84: thesis by L56;
end;
theorem
L85: (for B30 being RealLinearSpace holds (for B31 , B32 , B33 being (VECTOR of B30) holds ((B31 <> B32 & B31 <> B33 & B32 <> B33) implies (ex B34 being (Convex_Combination of B30) st (for B35 being non  empty (Subset of B30) holds ({ B31 , B32 , B33 } c= B35 implies B34 is (Convex_Combination of B35)))))))
proof
let C23 being RealLinearSpace;
let C24 , C25 , C26 being (VECTOR of C23);
assume that
L86: C24 <> C25
and
L87: C24 <> C26
and
L88: C25 <> C26;
consider C27 being (Linear_Combination of { C24 , C25 , C26 }) such that L89: (( C27 . C24 ) = ( 1 / 3 ) & ( C27 . C25 ) = ( 1 / 3 ) & ( C27 . C26 ) = ( 1 / 3 )) by L86 , L87 , L88 , RLVECT_4:39;
consider C28 being (FinSequence of (the carrier of C23)) such that L90: (C28 is  one-to-one & ( rng C28 ) = ( Carrier C27 )) and L91: ( Sum C27 ) = ( Sum ( C27 (#) C28 ) ) by RLVECT_2:def 8;
deffunc H3(set) = ( C27 . ( C28 . $1 ) );
consider C29 being FinSequence such that L92: (( len C29 ) = ( len C28 ) & (for B36 being Nat holds (B36 in ( dom C29 ) implies ( C29 . B36 ) = H3(B36)))) from FINSEQ_1:sch 2;
L93: (for B37 being set holds (B37 in { C24 , C25 , C26 } implies B37 in ( Carrier C27 )))
proof
let C30 being set;
assume L94: C30 in { C24 , C25 , C26 };
reconsider D9 = C30 as (VECTOR of C23) by L94;
L95: (D9 = C24 or D9 = C25 or D9 = C26) by L94 , ENUMSET1:def 1;
thus L96: thesis by L95 , L89 , RLVECT_2:19;
end;
L97: (( Carrier C27 ) c= { C24 , C25 , C26 } & { C24 , C25 , C26 } c= ( Carrier C27 )) by L93 , RLVECT_2:def 6 , TARSKI:def 3;
L98: { C24 , C25 , C26 } = ( Carrier C27 ) by L97 , XBOOLE_0:def 10;
L99: ( len C28 ) = 3 by L98 , L86 , L87 , L88 , L90 , FINSEQ_3:101;
L100: 2 in ( dom C29 ) by L99 , L92 , FINSEQ_3:25;
L101: ( C29 . 2 ) = ( C27 . ( C28 . 2 ) ) by L100 , L92;
L102: 3 in ( dom C29 ) by L92 , L99 , FINSEQ_3:25;
L103: ( C29 . 3 ) = ( C27 . ( C28 . 3 ) ) by L102 , L92;
L104: 1 in ( dom C29 ) by L92 , L99 , FINSEQ_3:25;
L105: ( C29 . 1 ) = ( C27 . ( C28 . 1 ) ) by L104 , L92;
L106:
now
per cases  by L86 , L87 , L88 , L98 , L90 , CONVEX1:31;
suppose L107: C28 = <* C24 , C25 , C26 *>;

L108: ( C28 . 3 ) = C26 by L107 , FINSEQ_1:45;
L109: (( C28 . 1 ) = C24 & ( C28 . 2 ) = C25) by L107 , FINSEQ_1:45;
L110: C29 = <* ( 1 / 3 ) , ( 1 / 3 ) , ( 1 / 3 ) *> by L109 , L89 , L92 , L99 , L105 , L101 , L103 , L108 , FINSEQ_1:45;
L111: C29 = ( ( <* ( 1 / 3 ) *> ^ <* ( 1 / 3 ) *> ) ^ <* ( 1 / 3 ) *> ) by L110 , FINSEQ_1:def 10;
L112: ( rng C29 ) = ( ( rng ( <* ( 1 / 3 ) *> ^ <* ( 1 / 3 ) *> ) ) \/ ( rng <* ( 1 / 3 ) *> ) ) by L111 , FINSEQ_1:31
.= ( ( ( rng <* ( 1 / 3 ) *> ) \/ ( rng <* ( 1 / 3 ) *> ) ) \/ ( rng <* ( 1 / 3 ) *> ) ) by FINSEQ_1:31
.= { ( 1 / 3 ) } by FINSEQ_1:38;
reconsider D10 = C29 as (FinSequence of ( REAL )) by L112 , FINSEQ_1:def 4;
L113: (for B38 being Nat holds (B38 in ( dom D10 ) implies (( D10 . B38 ) = ( C27 . ( C28 . B38 ) ) & ( D10 . B38 ) >= ( 0 ))))
proof
let C31 being Nat;
assume L114: C31 in ( dom D10 );
L115: C31 in ( Seg ( len D10 ) ) by L114 , FINSEQ_1:def 3;
thus L116: thesis by L115 , L89 , L92 , L99 , L105 , L101 , L103 , L109 , L108 , L114 , ENUMSET1:def 1 , FINSEQ_3:1;
end;
L117: D10 = <* ( 1 / 3 ) , ( 1 / 3 ) , ( 1 / 3 ) *> by L89 , L92 , L99 , L105 , L101 , L103 , L109 , L108 , FINSEQ_1:45;
L118: ( Sum D10 ) = ( ( ( 1 / 3 ) + ( 1 / 3 ) ) + ( 1 / 3 ) ) by L117 , RVSUM_1:78
.= 1;
reconsider D11 = C27 as (Convex_Combination of C23) by L118 , L90 , L92 , L113 , CONVEX1:def 3;
take D12 = D11;
L119: (for B39 being non  empty (Subset of C23) holds ({ C24 , C25 , C26 } c= B39 implies D12 is (Convex_Combination of B39))) by L98 , RLVECT_2:def 6;
thus L120: thesis by L119;
end;
suppose L121: C28 = <* C24 , C26 , C25 *>;

L122: ( C28 . 3 ) = C25 by L121 , FINSEQ_1:45;
L123: (( C28 . 1 ) = C24 & ( C28 . 2 ) = C26) by L121 , FINSEQ_1:45;
L124: C29 = <* ( 1 / 3 ) , ( 1 / 3 ) , ( 1 / 3 ) *> by L123 , L89 , L92 , L99 , L105 , L101 , L103 , L122 , FINSEQ_1:45;
L125: C29 = ( ( <* ( 1 / 3 ) *> ^ <* ( 1 / 3 ) *> ) ^ <* ( 1 / 3 ) *> ) by L124 , FINSEQ_1:def 10;
L126: ( rng C29 ) = ( ( rng ( <* ( 1 / 3 ) *> ^ <* ( 1 / 3 ) *> ) ) \/ ( rng <* ( 1 / 3 ) *> ) ) by L125 , FINSEQ_1:31
.= ( ( ( rng <* ( 1 / 3 ) *> ) \/ ( rng <* ( 1 / 3 ) *> ) ) \/ ( rng <* ( 1 / 3 ) *> ) ) by FINSEQ_1:31
.= { ( 1 / 3 ) } by FINSEQ_1:38;
reconsider D13 = C29 as (FinSequence of ( REAL )) by L126 , FINSEQ_1:def 4;
L127: (for B40 being Nat holds (B40 in ( dom D13 ) implies (( D13 . B40 ) = ( C27 . ( C28 . B40 ) ) & ( D13 . B40 ) >= ( 0 ))))
proof
let C32 being Nat;
assume L128: C32 in ( dom D13 );
L129: C32 in ( Seg ( len D13 ) ) by L128 , FINSEQ_1:def 3;
thus L130: thesis by L129 , L89 , L92 , L99 , L105 , L101 , L103 , L123 , L122 , L128 , ENUMSET1:def 1 , FINSEQ_3:1;
end;
L131: D13 = <* ( 1 / 3 ) , ( 1 / 3 ) , ( 1 / 3 ) *> by L89 , L92 , L99 , L105 , L101 , L103 , L123 , L122 , FINSEQ_1:45;
L132: ( Sum D13 ) = ( ( ( 1 / 3 ) + ( 1 / 3 ) ) + ( 1 / 3 ) ) by L131 , RVSUM_1:78
.= 1;
reconsider D14 = C27 as (Convex_Combination of C23) by L132 , L90 , L92 , L127 , CONVEX1:def 3;
take D15 = D14;
L133: (for B41 being non  empty (Subset of C23) holds ({ C24 , C25 , C26 } c= B41 implies D15 is (Convex_Combination of B41))) by L98 , RLVECT_2:def 6;
thus L134: thesis by L133;
end;
suppose L135: C28 = <* C25 , C24 , C26 *>;

L136: ( C28 . 3 ) = C26 by L135 , FINSEQ_1:45;
L137: (( C28 . 1 ) = C25 & ( C28 . 2 ) = C24) by L135 , FINSEQ_1:45;
L138: C29 = <* ( 1 / 3 ) , ( 1 / 3 ) , ( 1 / 3 ) *> by L137 , L89 , L92 , L99 , L105 , L101 , L103 , L136 , FINSEQ_1:45;
L139: C29 = ( ( <* ( 1 / 3 ) *> ^ <* ( 1 / 3 ) *> ) ^ <* ( 1 / 3 ) *> ) by L138 , FINSEQ_1:def 10;
L140: ( rng C29 ) = ( ( rng ( <* ( 1 / 3 ) *> ^ <* ( 1 / 3 ) *> ) ) \/ ( rng <* ( 1 / 3 ) *> ) ) by L139 , FINSEQ_1:31
.= ( ( ( rng <* ( 1 / 3 ) *> ) \/ ( rng <* ( 1 / 3 ) *> ) ) \/ ( rng <* ( 1 / 3 ) *> ) ) by FINSEQ_1:31
.= { ( 1 / 3 ) } by FINSEQ_1:38;
reconsider D16 = C29 as (FinSequence of ( REAL )) by L140 , FINSEQ_1:def 4;
L141: (for B42 being Nat holds (B42 in ( dom D16 ) implies (( D16 . B42 ) = ( C27 . ( C28 . B42 ) ) & ( D16 . B42 ) >= ( 0 ))))
proof
let C33 being Nat;
assume L142: C33 in ( dom D16 );
L143: C33 in ( Seg ( len D16 ) ) by L142 , FINSEQ_1:def 3;
thus L144: thesis by L143 , L89 , L92 , L99 , L105 , L101 , L103 , L137 , L136 , L142 , ENUMSET1:def 1 , FINSEQ_3:1;
end;
L145: D16 = <* ( 1 / 3 ) , ( 1 / 3 ) , ( 1 / 3 ) *> by L89 , L92 , L99 , L105 , L101 , L103 , L137 , L136 , FINSEQ_1:45;
L146: ( Sum D16 ) = ( ( ( 1 / 3 ) + ( 1 / 3 ) ) + ( 1 / 3 ) ) by L145 , RVSUM_1:78
.= 1;
reconsider D17 = C27 as (Convex_Combination of C23) by L146 , L90 , L92 , L141 , CONVEX1:def 3;
take D18 = D17;
L147: (for B43 being non  empty (Subset of C23) holds ({ C24 , C25 , C26 } c= B43 implies D18 is (Convex_Combination of B43))) by L98 , RLVECT_2:def 6;
thus L148: thesis by L147;
end;
suppose L149: C28 = <* C25 , C26 , C24 *>;

L150: ( C28 . 3 ) = C24 by L149 , FINSEQ_1:45;
L151: (( C28 . 1 ) = C25 & ( C28 . 2 ) = C26) by L149 , FINSEQ_1:45;
L152: C29 = <* ( 1 / 3 ) , ( 1 / 3 ) , ( 1 / 3 ) *> by L151 , L89 , L92 , L99 , L105 , L101 , L103 , L150 , FINSEQ_1:45;
L153: C29 = ( ( <* ( 1 / 3 ) *> ^ <* ( 1 / 3 ) *> ) ^ <* ( 1 / 3 ) *> ) by L152 , FINSEQ_1:def 10;
L154: ( rng C29 ) = ( ( rng ( <* ( 1 / 3 ) *> ^ <* ( 1 / 3 ) *> ) ) \/ ( rng <* ( 1 / 3 ) *> ) ) by L153 , FINSEQ_1:31
.= ( ( ( rng <* ( 1 / 3 ) *> ) \/ ( rng <* ( 1 / 3 ) *> ) ) \/ ( rng <* ( 1 / 3 ) *> ) ) by FINSEQ_1:31
.= { ( 1 / 3 ) } by FINSEQ_1:38;
reconsider D19 = C29 as (FinSequence of ( REAL )) by L154 , FINSEQ_1:def 4;
L155: (for B44 being Nat holds (B44 in ( dom D19 ) implies (( D19 . B44 ) = ( C27 . ( C28 . B44 ) ) & ( D19 . B44 ) >= ( 0 ))))
proof
let C34 being Nat;
assume L156: C34 in ( dom D19 );
L157: C34 in ( Seg ( len D19 ) ) by L156 , FINSEQ_1:def 3;
thus L158: thesis by L157 , L89 , L92 , L99 , L105 , L101 , L103 , L151 , L150 , L156 , ENUMSET1:def 1 , FINSEQ_3:1;
end;
L159: D19 = <* ( 1 / 3 ) , ( 1 / 3 ) , ( 1 / 3 ) *> by L89 , L92 , L99 , L105 , L101 , L103 , L151 , L150 , FINSEQ_1:45;
L160: ( Sum D19 ) = ( ( ( 1 / 3 ) + ( 1 / 3 ) ) + ( 1 / 3 ) ) by L159 , RVSUM_1:78
.= 1;
reconsider D20 = C27 as (Convex_Combination of C23) by L160 , L90 , L92 , L155 , CONVEX1:def 3;
take D21 = D20;
L161: (for B45 being non  empty (Subset of C23) holds ({ C24 , C25 , C26 } c= B45 implies D21 is (Convex_Combination of B45))) by L98 , RLVECT_2:def 6;
thus L162: thesis by L161;
end;
suppose L163: C28 = <* C26 , C24 , C25 *>;

L164: ( C28 . 3 ) = C25 by L163 , FINSEQ_1:45;
L165: (( C28 . 1 ) = C26 & ( C28 . 2 ) = C24) by L163 , FINSEQ_1:45;
L166: C29 = <* ( 1 / 3 ) , ( 1 / 3 ) , ( 1 / 3 ) *> by L165 , L89 , L92 , L99 , L105 , L101 , L103 , L164 , FINSEQ_1:45;
L167: C29 = ( ( <* ( 1 / 3 ) *> ^ <* ( 1 / 3 ) *> ) ^ <* ( 1 / 3 ) *> ) by L166 , FINSEQ_1:def 10;
L168: ( rng C29 ) = ( ( rng ( <* ( 1 / 3 ) *> ^ <* ( 1 / 3 ) *> ) ) \/ ( rng <* ( 1 / 3 ) *> ) ) by L167 , FINSEQ_1:31
.= ( ( ( rng <* ( 1 / 3 ) *> ) \/ ( rng <* ( 1 / 3 ) *> ) ) \/ ( rng <* ( 1 / 3 ) *> ) ) by FINSEQ_1:31
.= { ( 1 / 3 ) } by FINSEQ_1:38;
reconsider D22 = C29 as (FinSequence of ( REAL )) by L168 , FINSEQ_1:def 4;
L169: (for B46 being Nat holds (B46 in ( dom D22 ) implies (( D22 . B46 ) = ( C27 . ( C28 . B46 ) ) & ( D22 . B46 ) >= ( 0 ))))
proof
let C35 being Nat;
assume L170: C35 in ( dom D22 );
L171: C35 in ( Seg ( len D22 ) ) by L170 , FINSEQ_1:def 3;
thus L172: thesis by L171 , L89 , L92 , L99 , L105 , L101 , L103 , L165 , L164 , L170 , ENUMSET1:def 1 , FINSEQ_3:1;
end;
L173: D22 = <* ( 1 / 3 ) , ( 1 / 3 ) , ( 1 / 3 ) *> by L89 , L92 , L99 , L105 , L101 , L103 , L165 , L164 , FINSEQ_1:45;
L174: ( Sum D22 ) = ( ( ( 1 / 3 ) + ( 1 / 3 ) ) + ( 1 / 3 ) ) by L173 , RVSUM_1:78
.= 1;
reconsider D23 = C27 as (Convex_Combination of C23) by L174 , L90 , L92 , L169 , CONVEX1:def 3;
take D24 = D23;
L175: (for B47 being non  empty (Subset of C23) holds ({ C24 , C25 , C26 } c= B47 implies D24 is (Convex_Combination of B47))) by L98 , RLVECT_2:def 6;
thus L176: thesis by L175;
end;
suppose L177: C28 = <* C26 , C25 , C24 *>;

L178: ( C28 . 3 ) = C24 by L177 , FINSEQ_1:45;
L179: (( C28 . 1 ) = C26 & ( C28 . 2 ) = C25) by L177 , FINSEQ_1:45;
L180: C29 = <* ( 1 / 3 ) , ( 1 / 3 ) , ( 1 / 3 ) *> by L179 , L89 , L92 , L99 , L105 , L101 , L103 , L178 , FINSEQ_1:45;
L181: C29 = ( ( <* ( 1 / 3 ) *> ^ <* ( 1 / 3 ) *> ) ^ <* ( 1 / 3 ) *> ) by L180 , FINSEQ_1:def 10;
L182: ( rng C29 ) = ( ( rng ( <* ( 1 / 3 ) *> ^ <* ( 1 / 3 ) *> ) ) \/ ( rng <* ( 1 / 3 ) *> ) ) by L181 , FINSEQ_1:31
.= ( ( ( rng <* ( 1 / 3 ) *> ) \/ ( rng <* ( 1 / 3 ) *> ) ) \/ ( rng <* ( 1 / 3 ) *> ) ) by FINSEQ_1:31
.= { ( 1 / 3 ) } by FINSEQ_1:38;
reconsider D25 = C29 as (FinSequence of ( REAL )) by L182 , FINSEQ_1:def 4;
L183: (for B48 being Nat holds (B48 in ( dom D25 ) implies (( D25 . B48 ) = ( C27 . ( C28 . B48 ) ) & ( D25 . B48 ) >= ( 0 ))))
proof
let C36 being Nat;
assume L184: C36 in ( dom D25 );
L185: C36 in ( Seg ( len D25 ) ) by L184 , FINSEQ_1:def 3;
thus L186: thesis by L185 , L89 , L92 , L99 , L105 , L101 , L103 , L179 , L178 , L184 , ENUMSET1:def 1 , FINSEQ_3:1;
end;
L187: D25 = <* ( 1 / 3 ) , ( 1 / 3 ) , ( 1 / 3 ) *> by L89 , L92 , L99 , L105 , L101 , L103 , L179 , L178 , FINSEQ_1:45;
L188: ( Sum D25 ) = ( ( ( 1 / 3 ) + ( 1 / 3 ) ) + ( 1 / 3 ) ) by L187 , RVSUM_1:78
.= 1;
reconsider D26 = C27 as (Convex_Combination of C23) by L188 , L90 , L92 , L183 , CONVEX1:def 3;
take D27 = D26;
L189: (for B49 being non  empty (Subset of C23) holds ({ C24 , C25 , C26 } c= B49 implies D27 is (Convex_Combination of B49))) by L98 , RLVECT_2:def 6;
thus L190: thesis by L189;
end;
end;
thus L192: thesis by L106;
end;
L193: (for B50 being RealLinearSpace holds (for B51 being non  empty (Subset of B50) holds ({ ( Sum B52 ) where B52 is (Convex_Combination of B51) : B52 in ( ConvexComb B50 ) } c= B51 implies B51 is  convex)))
proof
let C37 being RealLinearSpace;
let C38 being non  empty (Subset of C37);
assume L194: { ( Sum B53 ) where B53 is (Convex_Combination of C38) : B53 in ( ConvexComb C37 ) } c= C38;
L195: (for B54 , B55 being (VECTOR of C37) holds (for B56 being Real holds ((( 0 ) < B56 & B56 < 1 & B54 in C38 & B55 in C38) implies ( ( B56 * B54 ) + ( ( 1 - B56 ) * B55 ) ) in C38)))
proof
set D28 = { ( Sum B57 ) where B57 is (Convex_Combination of C38) : B57 in ( ConvexComb C37 ) };
let C39 , C40 being (VECTOR of C37);
let C41 being Real;
assume that
L196: (( 0 ) < C41 & C41 < 1)
and
L197: C39 in C38
and
L198: C40 in C38;
consider C42 being (Convex_Combination of C37) such that L199: ( Sum C42 ) = C40 and L200: (for B58 being non  empty (Subset of C37) holds (C40 in B58 implies C42 is (Convex_Combination of B58))) by L14;
reconsider D29 = C42 as (Convex_Combination of C38) by L198 , L200;
consider C43 being (Convex_Combination of C37) such that L201: ( Sum C43 ) = C39 and L202: (for B59 being non  empty (Subset of C37) holds (C39 in B59 implies C43 is (Convex_Combination of B59))) by L14;
reconsider D30 = C43 as (Convex_Combination of C38) by L197 , L202;
L203: ( ( C41 * C39 ) + ( ( 1 - C41 ) * C40 ) ) = ( ( Sum ( C41 * D30 ) ) + ( ( 1 - C41 ) * ( Sum D29 ) ) ) by L201 , L199 , RLVECT_3:2
.= ( ( Sum ( C41 * D30 ) ) + ( Sum ( ( 1 - C41 ) * D29 ) ) ) by RLVECT_3:2
.= ( Sum ( ( C41 * D30 ) + ( ( 1 - C41 ) * D29 ) ) ) by RLVECT_3:1;
L204: ( ( C41 * D30 ) + ( ( 1 - C41 ) * D29 ) ) is (Convex_Combination of C38) by L196 , CONVEX2:9;
L205: ( ( C41 * D30 ) + ( ( 1 - C41 ) * D29 ) ) in ( ConvexComb C37 ) by L204 , L1;
L206: ( ( C41 * C39 ) + ( ( 1 - C41 ) * C40 ) ) in D28 by L205 , L203 , L204;
thus L207: thesis by L206 , L194;
end;
thus L208: thesis by L195 , CONVEX1:def 2;
end;
L209: (for B60 being RealLinearSpace holds (for B61 being non  empty (Subset of B60) holds (for B62 being (Convex_Combination of B61) holds (( card ( Carrier B62 ) ) >= 2 implies (ex B63 , B64 being (Convex_Combination of B61) st (ex B65 being Real st (( 0 ) < B65 & B65 < 1 & B62 = ( ( B65 * B63 ) + ( ( 1 - B65 ) * B64 ) ) & ( card ( Carrier B63 ) ) = 1 & ( card ( Carrier B64 ) ) = ( ( card ( Carrier B62 ) ) - 1 ))))))))
proof
let C44 being RealLinearSpace;
let C45 being non  empty (Subset of C44);
let C46 being (Convex_Combination of C45);
consider C47 being (FinSequence of (the carrier of C44)) such that L210: C47 is  one-to-one and L211: ( rng C47 ) = ( Carrier C46 ) and L212: (ex B66 being (FinSequence of ( REAL )) st (( len B66 ) = ( len C47 ) & ( Sum B66 ) = 1 & (for B67 being Nat holds (B67 in ( dom B66 ) implies (( B66 . B67 ) = ( C46 . ( C47 . B67 ) ) & ( B66 . B67 ) >= ( 0 )))))) by CONVEX1:def 3;
L213: (for B68 , B69 being (Element of ( NAT )) holds ((1 <= B68 & B68 < B69 & B69 <= ( len C47 )) implies ( C47 . B68 ) <> ( C47 . B69 )))
proof
let C48 , C49 being (Element of ( NAT ));
assume that
L214: 1 <= C48
and
L215: C48 < C49
and
L216: C49 <= ( len C47 );
L217: C48 <= ( len C47 ) by L215 , L216 , XXREAL_0:2;
L218: C48 in ( Seg ( len C47 ) ) by L217 , L214 , FINSEQ_1:1;
L219: C48 in ( dom C47 ) by L218 , FINSEQ_1:def 3;
L220: 1 <= C49 by L214 , L215 , XXREAL_0:2;
L221: C49 in ( Seg ( len C47 ) ) by L220 , L216 , FINSEQ_1:1;
L222: C49 in ( dom C47 ) by L221 , FINSEQ_1:def 3;
assume L223: ( C47 . C48 ) = ( C47 . C49 );
thus L224: contradiction by L223 , L210 , L215 , L219 , L222 , FUNCT_1:def 4;
end;
assume L225: ( card ( Carrier C46 ) ) >= 2;
L226: ( len C47 ) >= 2 by L225 , L211 , L213 , GRAPH_5:7;
consider C50 being Nat such that L227: ( len C47 ) = ( C50 + 1 ) by L226 , NAT_1:6;
set D31 = ( C47 . ( len C47 ) );
L228: ( Carrier C46 ) c= C45 by RLVECT_2:def 6;
L229: 1 <= ( len C47 ) by L226 , XXREAL_0:2;
L230: ( len C47 ) in ( dom C47 ) by L229 , FINSEQ_3:25;
L231: ( C47 . ( len C47 ) ) in ( rng C47 ) by L230 , FUNCT_1:3;
L232: ( rng C47 ) c= (the carrier of C44) by FINSEQ_1:def 4;
reconsider D32 = D31 as (VECTOR of C44) by L232 , L231;
L233: ( C47 . ( len C47 ) ) in ( rng C47 ) by L230 , FUNCT_1:3;
reconsider D33 = C50 as (Element of ( NAT )) by ORDINAL1:def 12;
consider C51 being (FinSequence of ( REAL )) such that L234: ( len C51 ) = ( len C47 ) and L235: ( Sum C51 ) = 1 and L236: (for B70 being Nat holds (B70 in ( dom C51 ) implies (( C51 . B70 ) = ( C46 . ( C47 . B70 ) ) & ( C51 . B70 ) >= ( 0 )))) by L212;
L237: 1 <= ( len C51 ) by L234 , L226 , XXREAL_0:2;
L238: 1 in ( Seg ( len C51 ) ) by L237 , FINSEQ_1:1;
L239: 1 in ( dom C51 ) by L238 , FINSEQ_1:def 3;
L240: 1 in ( dom C47 ) by L234 , L238 , FINSEQ_1:def 3;
L241: ( C47 . 1 ) in ( rng C47 ) by L240 , FUNCT_1:3;
L242: ( C46 . ( C47 . 1 ) ) <> ( 0 ) by L241 , L211 , RLVECT_2:19;
L243: (for B71 being Nat holds (B71 in ( dom ( C51 | D33 ) ) implies ( 0 ) <= ( ( C51 | D33 ) . B71 )))
proof
L244: ( dom ( C51 | D33 ) ) c= ( dom C51 ) by FINSEQ_5:18;
let C52 being Nat;
assume L245: C52 in ( dom ( C51 | D33 ) );
L246: ( C51 | D33 ) = ( C51 | ( Seg D33 ) ) by FINSEQ_1:def 15;
L247: ( ( C51 | D33 ) . C52 ) = ( C51 . C52 ) by L246 , L245 , FUNCT_1:47;
thus L248: thesis by L247 , L236 , L245 , L244;
end;
L249: ( len C47 ) >= ( 1 + 1 ) by L225 , L211 , L213 , GRAPH_5:7;
L250: ( ( len C47 ) - 1 ) >= 1 by L249 , XREAL_1:19;
L251: 1 in ( Seg D33 ) by L250 , L227 , FINSEQ_1:1;
L252: 1 in ( dom ( C51 | ( Seg D33 ) ) ) by L251 , L239 , RELAT_1:57;
L253: ( C51 | D33 ) = ( C51 | ( Seg D33 ) ) by FINSEQ_1:def 15;
L254: ( ( C51 | D33 ) . 1 ) = ( C51 . 1 ) by L253 , L252 , FUNCT_1:47
.= ( C46 . ( C47 . 1 ) ) by L236 , L239;
L255: 1 in ( dom ( C51 | D33 ) ) by L252 , FINSEQ_1:def 15;
L256: ( ( C51 | D33 ) . 1 ) >= ( 0 ) by L255 , L243;
L257: ( Sum ( C51 | D33 ) ) > ( 0 ) by L256 , L243 , L255 , L254 , L242 , RVSUM_1:85;
L258: 1 <= ( len C51 ) by L234 , L226 , XXREAL_0:2;
L259: ( len C51 ) in ( Seg ( len C51 ) ) by L258 , FINSEQ_1:1;
L260: ( len C51 ) in ( dom C51 ) by L259 , FINSEQ_1:def 3;
L261: ( C51 . ( len C51 ) ) in ( rng C51 ) by L260 , FUNCT_1:3;
reconsider D34 = ( C51 . ( len C51 ) ) as Real by L261;
L262: C51 = ( ( C51 | D33 ) ^ ( C51 /^ D33 ) ) by RFINSEQ:8;
L263: (for B72 , B73 being (Element of ( NAT )) holds ((B72 in ( dom ( C47 | D33 ) ) & B73 in ( dom ( C47 | D33 ) ) & ( ( C47 | D33 ) /. B72 ) = ( ( C47 | D33 ) /. B73 )) implies B72 = B73))
proof
L264: ( dom ( C47 | D33 ) ) c= ( dom C47 ) by FINSEQ_5:18;
let C53 , C54 being (Element of ( NAT ));
assume that
L265: C53 in ( dom ( C47 | D33 ) )
and
L266: C54 in ( dom ( C47 | D33 ) )
and
L267: ( ( C47 | D33 ) /. C53 ) = ( ( C47 | D33 ) /. C54 );
L268: ( C47 /. C53 ) = ( ( C47 | D33 ) /. C53 ) by L265 , FINSEQ_4:70
.= ( C47 /. C54 ) by L266 , L267 , FINSEQ_4:70;
thus L269: thesis by L268 , L210 , L265 , L266 , L264 , PARTFUN2:10;
end;
L270: ( C47 | D33 ) is  one-to-one by L263 , PARTFUN2:9;
reconsider D35 = { D32 } as non  empty (Subset of C44);
consider C55 being (Convex_Combination of C44) such that L271: ( Sum C55 ) = D32 and L272: (for B74 being non  empty (Subset of C44) holds (D32 in B74 implies C55 is (Convex_Combination of B74))) by L14;
L273: C51 = ( ( C51 | D33 ) ^ ( C51 /^ D33 ) ) by RFINSEQ:8;
set D36 = ( 1 / ( 1 - D34 ) );
defpred S3[ set , set ] means (($1 in ( ( rng C47 ) \ { D32 } ) implies $2 = ( D36 * ( C46 . $1 ) )) & ((not $1 in ( ( rng C47 ) \ { D32 } )) implies $2 = ( 0 )));
L274: (for B75 being set holds (B75 in (the carrier of C44) implies (ex B76 being set st S3[ B75 , B76 ])))
proof
let C56 being set;
assume L275: C56 in (the carrier of C44);
L276: (C56 in ( ( rng C47 ) \ { D32 } ) or (not C56 in ( ( rng C47 ) \ { D32 } )));
thus L277: thesis by L276;
end;
consider C57 being Function such that L278: (( dom C57 ) = (the carrier of C44) & (for B77 being set holds (B77 in (the carrier of C44) implies S3[ B77 , ( C57 . B77 ) ]))) from CLASSES1:sch 1(L274);
L279: (for B78 being set holds (B78 in ( rng C57 ) implies B78 in ( REAL )))
proof
let C58 being set;
assume L280: C58 in ( rng C57 );
consider C59 being set such that L281: C59 in ( dom C57 ) and L282: C58 = ( C57 . C59 ) by L280 , FUNCT_1:def 3;
per cases ;
suppose L283: C59 in ( ( rng C47 ) \ { D32 } );

L284: C59 in ( rng C47 ) by L283;
reconsider D37 = C59 as (VECTOR of C44) by L284 , L211;
L285: C58 = ( D36 * ( C46 . D37 ) ) by L278 , L282 , L283
.= ( ( D36 * C46 ) . D37 ) by RLVECT_2:def 11;
thus L286: thesis by L285;
end;
suppose L287: (not C59 in ( ( rng C47 ) \ { D32 } ));

L288: C58 = ( 0 ) by L287 , L278 , L281 , L282;
thus L289: thesis by L288;
end;
end;
L291: ( rng C57 ) c= ( REAL ) by L279 , TARSKI:def 3;
L292: C57 is (Element of ( Funcs ((the carrier of C44) , ( REAL )) )) by L291 , L278 , FUNCT_2:def 2;
L293: (ex B79 being  finite (Subset of C44) st (for B80 being (Element of C44) holds ((not B80 in B79) implies ( C57 . B80 ) = ( 0 ))))
proof
reconsider D38 = ( ( Carrier C46 ) \ { D32 } ) as  finite (Subset of C44);
take D38;
thus L294: thesis by L211 , L278;
end;
reconsider D39 = C57 as (Linear_Combination of C44) by L293 , L292 , RLVECT_2:def 3;
L295: (for B81 being set holds (B81 in ( Carrier D39 ) implies B81 in ( ( Carrier C46 ) \ { D32 } )))
proof
let C60 being set;
assume L296: C60 in ( Carrier D39 );
reconsider D40 = C60 as (Element of C44) by L296;
L297: ( D39 . D40 ) <> ( 0 ) by L296 , RLVECT_2:19;
thus L298: thesis by L297 , L211 , L278;
end;
L299: ( Carrier D39 ) c= ( ( Carrier C46 ) \ { D32 } ) by L295 , TARSKI:def 3;
L300: ( C51 /^ D33 ) = <* ( C51 /. ( len C51 ) ) *> by L234 , L227 , FINSEQ_5:30
.= <* ( C51 . ( len C51 ) ) *> by L260 , PARTFUN1:def 6;
L301: ( Sum C51 ) = ( ( Sum ( C51 | D33 ) ) + D34 ) by L300 , L262 , RVSUM_1:74;
L302: ( Sum ( C51 | D33 ) ) = ( 1 - D34 ) by L301 , L235;
L303: 1 > ( D34 + ( 0 ) ) by L302 , L257 , XREAL_1:20;
L304: D36 > ( 0 ) by L235 , L301 , L257 , XREAL_1:139;
L305: (for B82 being set holds (B82 in ( ( Carrier C46 ) \ { D32 } ) implies B82 in ( Carrier D39 )))
proof
let C61 being set;
assume L306: C61 in ( ( Carrier C46 ) \ { D32 } );
reconsider D41 = C61 as (Element of C44) by L306;
L307: D41 in ( Carrier C46 ) by L306 , XBOOLE_0:def 5;
L308: ( C46 . D41 ) <> ( 0 ) by L307 , RLVECT_2:19;
L309: ( D39 . D41 ) = ( D36 * ( C46 . D41 ) ) by L211 , L278 , L306;
L310: ( D39 . D41 ) <> ( 0 ) by L309 , L304 , L308 , XCMPLX_1:6;
thus L311: thesis by L310 , RLVECT_2:19;
end;
L312: ( ( Carrier C46 ) \ { D32 } ) c= ( Carrier D39 ) by L305 , TARSKI:def 3;
L313: ( Carrier D39 ) = ( ( Carrier C46 ) \ { D32 } ) by L312 , L299 , XBOOLE_0:def 10;
L314: ( Carrier D39 ) c= ( Carrier C46 ) by L313 , XBOOLE_1:36;
L315: ( Carrier D39 ) c= C45 by L314 , L228 , XBOOLE_1:1;
reconsider D42 = D39 as (Linear_Combination of C45) by L315 , RLVECT_2:def 6;
deffunc H4(set) = ( D42 . ( ( C47 | D33 ) . $1 ) );
consider C62 being FinSequence such that L316: (( len C62 ) = ( len ( C47 | D33 ) ) & (for B83 being Nat holds (B83 in ( dom C62 ) implies ( C62 . B83 ) = H4(B83)))) from FINSEQ_1:sch 2;
L317: C47 = ( ( C47 | D33 ) ^ ( C47 /^ D33 ) ) by RFINSEQ:8;
L318: ( Carrier C46 ) = ( ( rng ( C47 | D33 ) ) \/ ( rng ( C47 /^ D33 ) ) ) by L317 , L211 , FINSEQ_1:31;
L319: ( ( Carrier C46 ) \ ( rng ( C47 /^ D33 ) ) ) = ( rng ( C47 | D33 ) ) by L318 , L210 , FINSEQ_5:34 , XBOOLE_1:88;
L320: (for B84 being set holds (B84 in ( rng C62 ) implies B84 in ( REAL )))
proof
let C63 being set;
L321: (ex B85 being Function st (D42 = B85 & ( dom B85 ) = (the carrier of C44) & ( rng B85 ) c= ( REAL ))) by FUNCT_2:def 2;
assume L322: C63 in ( rng C62 );
consider C64 being set such that L323: C64 in ( dom C62 ) and L324: C63 = ( C62 . C64 ) by L322 , FUNCT_1:def 3;
L325: C64 in ( Seg ( len C62 ) ) by L323 , FINSEQ_1:def 3;
reconsider D43 = C64 as (Element of ( NAT )) by L323;
L326: D43 in ( dom ( C47 | D33 ) ) by L316 , L325 , FINSEQ_1:def 3;
L327: ( ( C47 | D33 ) . D43 ) in ( rng ( C47 | D33 ) ) by L326 , FUNCT_1:3;
L328: ( D42 . ( ( C47 | D33 ) . D43 ) ) in ( rng D42 ) by L327 , L319 , L321 , FUNCT_1:3;
L329: ( D42 . ( ( C47 | D33 ) . D43 ) ) in ( REAL ) by L328;
thus L330: thesis by L329 , L316 , L323 , L324;
end;
L331: ( rng C62 ) c= ( REAL ) by L320 , TARSKI:def 3;
reconsider D44 = C62 as (FinSequence of ( REAL )) by L331 , FINSEQ_1:def 4;
L332: ( dom D44 ) = ( Seg ( len ( C47 | D33 ) ) ) by L316 , FINSEQ_1:def 3;
L333: ( dom D44 ) = ( Seg D33 ) by L332 , L227 , FINSEQ_1:59 , NAT_1:12
.= ( Seg ( len ( C51 | D33 ) ) ) by L234 , L227 , FINSEQ_1:59 , NAT_1:12
.= ( dom ( C51 | D33 ) ) by FINSEQ_1:def 3;
L334: ( ( len C47 ) - 1 ) = D33 by L227;
L335: (for B86 being (Element of ( NAT )) holds (B86 in ( dom D44 ) implies (( D44 . B86 ) = ( ( D36 * ( C51 | D33 ) ) . B86 ) & ( D44 . B86 ) >= ( 0 ))))
proof
let C65 being (Element of ( NAT ));
assume L336: C65 in ( dom D44 );
L337: ( D44 . C65 ) = ( D42 . ( ( C47 | D33 ) . C65 ) ) by L336 , L316;
L338: C65 in ( dom ( C51 | ( Seg D33 ) ) ) by L333 , L336 , FINSEQ_1:def 15;
L339: C65 in ( ( dom C51 ) /\ ( Seg D33 ) ) by L338 , RELAT_1:61;
L340: C65 in ( dom C51 ) by L339 , XBOOLE_0:def 4;
L341: C65 in ( dom ( C47 | D33 ) ) by L332 , L336 , FINSEQ_1:def 3;
L342: ( ( C47 | D33 ) . C65 ) in ( rng ( C47 | D33 ) ) by L341 , FUNCT_1:3;
reconsider D45 = ( ( C47 | D33 ) . C65 ) as (Element of C44) by L342 , L319;
L343: ( C47 | D33 ) = ( C47 | ( Seg D33 ) ) by FINSEQ_1:def 15;
L344: ( ( C47 | D33 ) . C65 ) = ( C47 . C65 ) by L343 , L341 , FUNCT_1:47;
L345: (not D45 in { D32 })
proof
L346: (C65 <= ( len ( C47 | D33 ) ) & ( len ( C47 | D33 ) ) <= D33) by L332 , L336 , FINSEQ_1:1 , FINSEQ_5:17;
L347: C65 <= D33 by L346 , XXREAL_0:2;
L348: ( C65 + 1 ) <= ( len C47 ) by L347 , L334 , XREAL_1:19;
assume L349: D45 in { D32 };
L350: ( C47 . C65 ) = D32 by L349 , L344 , TARSKI:def 1;
L351: ( dom ( C47 | ( Seg D33 ) ) ) c= ( dom C47 ) by RELAT_1:60;
L352: C65 = ( len C47 ) by L351 , L210 , L230 , L341 , L343 , L350 , FUNCT_1:def 4;
thus L353: contradiction by L352 , L348 , NAT_1:13;
end;
L354: ( C51 | D33 ) = ( C51 | ( Seg D33 ) ) by FINSEQ_1:def 15;
L355: ( ( C51 | D33 ) . C65 ) = ( C51 . C65 ) by L354 , L333 , L336 , FUNCT_1:47;
L356: ( ( C51 | D33 ) . C65 ) = ( C46 . ( C47 . C65 ) ) by L355 , L236 , L340;
L357: ( ( C51 | D33 ) . C65 ) = ( C46 . ( ( C47 | D33 ) . C65 ) ) by L356 , L341 , L343 , FUNCT_1:47;
per cases ;
suppose L358: D45 in ( ( rng C47 ) \ { D32 } );

L359: ( C51 . C65 ) >= ( 0 ) by L236 , L340;
L360: ( D36 * ( ( C51 | D33 ) . C65 ) ) >= ( 0 ) by L359 , L235 , L301 , L257 , L355;
L361: ( D42 . D45 ) = ( D36 * ( C46 . D45 ) ) by L278 , L358
.= ( D36 * ( ( C51 | D33 ) . C65 ) ) by L356 , L341 , L343 , FUNCT_1:47
.= ( ( D36 * ( C51 | D33 ) ) . C65 ) by RVSUM_1:44;
thus L362: thesis by L361 , L337 , L360 , RVSUM_1:44;
end;
suppose L363: (not D45 in ( ( rng C47 ) \ { D32 } ));

L364: (not D45 in ( rng C47 )) by L363 , L345 , XBOOLE_0:def 5;
L365: ( C46 . D45 ) = ( 0 ) by L364 , L211 , RLVECT_2:19;
L366: ( D36 * ( ( C51 | D33 ) . C65 ) ) = ( 0 ) by L365 , L357;
L367: ( D44 . C65 ) = ( 0 ) by L278 , L337 , L363;
thus L368: thesis by L367 , L366 , RVSUM_1:44;
end;
end;
L370: (for B87 being Nat holds (B87 in ( dom D44 ) implies (( D44 . B87 ) = ( D42 . ( ( C47 | D33 ) . B87 ) ) & ( D44 . B87 ) >= ( 0 )))) by L335 , L316;
L371: ( C51 /^ D33 ) = <* ( C51 /. ( len C51 ) ) *> by L234 , L227 , FINSEQ_5:30
.= <* ( C51 . ( len C51 ) ) *> by L260 , PARTFUN1:def 6;
L372: ( Sum C51 ) = ( ( Sum ( C51 | D33 ) ) + D34 ) by L371 , L273 , RVSUM_1:74;
L373: ( C47 /^ D33 ) = <* ( C47 /. ( len C47 ) ) *> by L227 , FINSEQ_5:30
.= <* ( C47 . ( len C47 ) ) *> by L230 , PARTFUN1:def 6;
L374: ( rng ( C47 | D33 ) ) = ( Carrier D42 ) by L373 , L313 , L319 , FINSEQ_1:38;
L375: (for B88 being Nat holds (B88 in ( dom D44 ) implies ( D44 . B88 ) = ( ( D36 * ( C51 | D33 ) ) . B88 ))) by L335;
L376: ( dom D44 ) = ( dom ( D36 * ( C51 | D33 ) ) ) by L333 , VALUED_1:def 5;
L377: D44 = ( D36 * ( C51 | D33 ) ) by L376 , L375 , FINSEQ_1:13;
L378: ( Sum D44 ) = ( ( 1 / ( 1 - D34 ) ) * ( 1 - D34 ) ) by L377 , L235 , L372 , RVSUM_1:87
.= ( 1 / ( ( 1 - D34 ) / ( 1 - D34 ) ) ) by XCMPLX_1:81
.= ( 1 / 1 ) by L235 , L301 , L257 , XCMPLX_1:60
.= 1;
reconsider D46 = D42 as (Convex_Combination of C45) by L378 , L270 , L374 , L316 , L370 , CONVEX1:def 3;
L379: D32 in ( Carrier C46 ) by L211 , L230 , FUNCT_1:3;
L380: { D32 } c= ( Carrier C46 ) by L379 , ZFMISC_1:31;
L381: ( card ( Carrier D46 ) ) = ( ( card ( Carrier C46 ) ) - ( card { D32 } ) ) by L380 , L313 , CARD_2:44;
L382: ( Carrier C46 ) c= C45 by RLVECT_2:def 6;
reconsider D47 = C55 as (Convex_Combination of C45) by L382 , L272 , L379;
L383: D32 in { D32 } by TARSKI:def 1;
L384: D47 is (Convex_Combination of D35) by L383 , L272;
L385: ( Carrier D47 ) c= { D32 } by L384 , RLVECT_2:def 6;
L386: (( Carrier D47 ) = ( {} ) or ( Carrier D47 ) = { D32 }) by L385 , ZFMISC_1:33;
L387: (for B89 being (Element of C44) holds ( C46 . B89 ) = ( ( ( D34 * D47 ) + ( ( 1 - D34 ) * D46 ) ) . B89 ))
proof
let C66 being (Element of C44);
L388: ( ( ( D34 * D47 ) + ( ( 1 - D34 ) * D46 ) ) . C66 ) = ( ( ( D34 * D47 ) . C66 ) + ( ( ( 1 - D34 ) * D46 ) . C66 ) ) by RLVECT_2:def 10;
per cases ;
suppose L389: C66 in ( Carrier C46 );

per cases ;
suppose L390: C66 = D32;

L391: C66 in { D32 } by L390 , TARSKI:def 1;
L392: (not C66 in ( Carrier D46 )) by L391 , L299 , XBOOLE_0:def 5;
L393: ( D46 . C66 ) = ( 0 ) by L392 , RLVECT_2:19;
L394: ( ( 1 - D34 ) * ( D46 . C66 ) ) = ( 0 ) by L393;
L395: ( ( ( 1 - D34 ) * D46 ) . C66 ) = ( 0 ) by L394 , RLVECT_2:def 11;
L396: ( D47 . C66 ) = 1 by L386 , L390 , CONVEX1:21 , CONVEX1:27;
L397: ( D34 * ( D47 . C66 ) ) = D34 by L396;
L398: ( C46 . C66 ) = ( D34 + ( 0 ) ) by L234 , L236 , L260 , L390;
thus L399: thesis by L398 , L388 , L397 , L395 , RLVECT_2:def 11;
end;
suppose L400: C66 <> D32;

L401: (not C66 in ( Carrier D47 )) by L400 , L385 , TARSKI:def 1;
L402: ( D47 . C66 ) = ( 0 ) by L401 , RLVECT_2:19;
L403: ( D34 * ( D47 . C66 ) ) = ( 0 ) by L402;
L404: ( ( D34 * D47 ) . C66 ) = ( 0 ) by L403 , RLVECT_2:def 11;
L405: C66 in ( Carrier D46 ) by L313 , L386 , L389 , L401 , CONVEX1:21 , XBOOLE_0:def 5;
L406: ( D46 . C66 ) = ( D36 * ( C46 . C66 ) ) by L405 , L211 , L278 , L299;
L407: ( ( 1 - D34 ) * ( D46 . C66 ) ) = ( ( ( 1 - D34 ) * D36 ) * ( C46 . C66 ) ) by L406
.= ( ( 1 / ( ( 1 - D34 ) / ( 1 - D34 ) ) ) * ( C46 . C66 ) ) by XCMPLX_1:81
.= ( 1 * ( C46 . C66 ) ) by L235 , L301 , L257 , XCMPLX_1:51
.= ( C46 . C66 );
thus L408: thesis by L407 , L388 , L404 , RLVECT_2:def 11;
end;
end;
suppose L410: (not C66 in ( Carrier C46 ));

L411: (not C66 in ( Carrier D47 )) by L410 , L211 , L231 , L385 , TARSKI:def 1;
L412: ( D47 . C66 ) = ( 0 ) by L411 , RLVECT_2:19;
L413: ( D34 * ( D47 . C66 ) ) = ( 0 ) by L412;
L414: ( ( D34 * D47 ) . C66 ) = ( 0 ) by L413 , RLVECT_2:def 11;
L415: (not C66 in ( Carrier D46 )) by L299 , L410 , XBOOLE_0:def 5;
L416: ( D46 . C66 ) = ( 0 ) by L415 , RLVECT_2:19;
L417: ( ( 1 - D34 ) * ( D46 . C66 ) ) = ( 0 ) by L416;
L418: ( C46 . C66 ) = ( ( 0 ) + ( 0 ) ) by L410 , RLVECT_2:19;
thus L419: thesis by L418 , L388 , L414 , L417 , RLVECT_2:def 11;
end;
end;
take D47;
take D46;
take D34;
L421: ( C51 . ( len C51 ) ) = ( C46 . ( C47 . ( len C51 ) ) ) by L236 , L260;
L422: D34 <> ( 0 ) by L421 , L211 , L234 , L233 , RLVECT_2:19;
thus L423: thesis by L422 , L236 , L260 , L303 , L386 , L387 , L381 , CARD_1:30 , CONVEX1:21 , RLVECT_2:def 9;
end;
L424: (for B90 being RealLinearSpace holds (for B91 being non  empty (Subset of B90) holds (B91 is  convex implies { ( Sum B92 ) where B92 is (Convex_Combination of B91) : B92 in ( ConvexComb B90 ) } c= B91)))
proof
let C67 being RealLinearSpace;
let C68 being non  empty (Subset of C67);
set D48 = { ( Sum B93 ) where B93 is (Convex_Combination of C68) : B93 in ( ConvexComb C67 ) };
assume L425: C68 is  convex;
L426: (for B94 being set holds (B94 in D48 implies B94 in C68))
proof
let C69 being set;
assume L427: C69 in D48;
consider C70 being (Convex_Combination of C68) such that L428: C69 = ( Sum C70 ) and L429: C70 in ( ConvexComb C67 ) by L427;
reconsider D49 = C69 as (VECTOR of C67) by L428;
per cases ;
suppose L430: ( card ( Carrier C70 ) ) < 2;

L431: ( Carrier C70 ) <> ( 0 ) by CONVEX1:21;
L432: ( card ( Carrier C70 ) ) >= ( ( 0 ) + 1 ) by L431 , NAT_1:13;
L433: ( card ( Carrier C70 ) ) < ( 1 + 1 ) by L430;
L434: ( card ( Carrier C70 ) ) <= 1 by L433 , NAT_1:13;
L435: ( card ( Carrier C70 ) ) = 1 by L434 , L432 , XXREAL_0:1;
consider C71 being set such that L436: ( Carrier C70 ) = { C71 } by L435 , CARD_2:42;
L437: C71 in ( Carrier C70 ) by L436 , TARSKI:def 1;
reconsider D50 = C71 as (VECTOR of C67) by L437;
L438: { D50 } c= C68 by L436 , RLVECT_2:def 6;
L439: D49 = ( ( C70 . D50 ) * D50 ) by L428 , L436 , RLVECT_2:35
.= ( 1 * D50 ) by L436 , CONVEX1:27
.= D50 by RLVECT_1:def 8;
thus L440: thesis by L439 , L438 , ZFMISC_1:31;
end;
suppose L441: ( card ( Carrier C70 ) ) >= 2;

defpred S4[ Nat ] means (for B95 being (Convex_Combination of C68) holds ((( card ( Carrier B95 ) ) = ( 1 + $1 ) & (ex B96 , B97 being (Convex_Combination of C68) st (ex B98 being Real st (( 0 ) < B98 & B98 < 1 & B95 = ( ( B98 * B96 ) + ( ( 1 - B98 ) * B97 ) ) & ( card ( Carrier B96 ) ) = 1 & ( card ( Carrier B97 ) ) = ( ( card ( Carrier B95 ) ) - 1 ))))) implies ( Sum B95 ) in C68));
L442: S4[ 1 ]
proof
let C72 being (Convex_Combination of C68);
assume that
L443: ( card ( Carrier C72 ) ) = ( 1 + 1 )
and
L444: (ex B99 , B100 being (Convex_Combination of C68) st (ex B101 being Real st (( 0 ) < B101 & B101 < 1 & C72 = ( ( B101 * B99 ) + ( ( 1 - B101 ) * B100 ) ) & ( card ( Carrier B99 ) ) = 1 & ( card ( Carrier B100 ) ) = ( ( card ( Carrier C72 ) ) - 1 ))));
consider C73 , C74 being (Convex_Combination of C68), C75 being Real such that L445: (( 0 ) < C75 & C75 < 1) and L446: C72 = ( ( C75 * C73 ) + ( ( 1 - C75 ) * C74 ) ) and L447: ( card ( Carrier C73 ) ) = 1 and L448: ( card ( Carrier C74 ) ) = ( ( card ( Carrier C72 ) ) - 1 ) by L444;
consider C76 being set such that L449: ( Carrier C74 ) = { C76 } by L443 , L448 , CARD_2:42;
L450: C76 in ( Carrier C74 ) by L449 , TARSKI:def 1;
reconsider D51 = C76 as (VECTOR of C67) by L450;
L451: (( Sum C74 ) = ( ( C74 . D51 ) * D51 ) & ( C74 . D51 ) = 1) by L449 , CONVEX1:27 , RLVECT_2:35;
L452: ( Sum C74 ) = D51 by L451 , RLVECT_1:def 8;
L453: { D51 } c= C68 by L449 , RLVECT_2:def 6;
L454: ( Sum C74 ) in C68 by L453 , L452 , ZFMISC_1:31;
consider C77 being set such that L455: ( Carrier C73 ) = { C77 } by L447 , CARD_2:42;
L456: C77 in ( Carrier C73 ) by L455 , TARSKI:def 1;
reconsider D52 = C77 as (VECTOR of C67) by L456;
L457: (( Sum C73 ) = ( ( C73 . D52 ) * D52 ) & ( C73 . D52 ) = 1) by L455 , CONVEX1:27 , RLVECT_2:35;
L458: ( Sum C73 ) = D52 by L457 , RLVECT_1:def 8;
L459: { D52 } c= C68 by L455 , RLVECT_2:def 6;
L460: ( Sum C73 ) in C68 by L459 , L458 , ZFMISC_1:31;
L461: ( Sum C72 ) = ( ( Sum ( C75 * C73 ) ) + ( Sum ( ( 1 - C75 ) * C74 ) ) ) by L446 , RLVECT_3:1
.= ( ( C75 * ( Sum C73 ) ) + ( Sum ( ( 1 - C75 ) * C74 ) ) ) by RLVECT_3:2
.= ( ( C75 * ( Sum C73 ) ) + ( ( 1 - C75 ) * ( Sum C74 ) ) ) by RLVECT_3:2;
thus L462: thesis by L461 , L425 , L445 , L460 , L454 , CONVEX1:def 2;
end;
consider C78 being Nat such that L463: ( card ( Carrier C70 ) ) = ( C78 + 1 ) by L441 , NAT_1:6;
reconsider D53 = C78 as non  empty (Element of ( NAT )) by L441 , L463 , ORDINAL1:def 12;
L464: ( card ( Carrier C70 ) ) = ( 1 + D53 ) by L463;
L465: (ex B102 , B103 being (Convex_Combination of C68) st (ex B104 being Real st (( 0 ) < B104 & B104 < 1 & C70 = ( ( B104 * B102 ) + ( ( 1 - B104 ) * B103 ) ) & ( card ( Carrier B102 ) ) = 1 & ( card ( Carrier B103 ) ) = ( ( card ( Carrier C70 ) ) - 1 )))) by L441 , L209;
L466: (for B105 being non  empty Nat holds (S4[ B105 ] implies S4[ ( B105 + 1 ) ]))
proof
let C79 being non  empty Nat;
assume L467: S4[ C79 ];
let C80 being (Convex_Combination of C68);
assume that
L468: ( card ( Carrier C80 ) ) = ( 1 + ( C79 + 1 ) )
and
L469: (ex B106 , B107 being (Convex_Combination of C68) st (ex B108 being Real st (( 0 ) < B108 & B108 < 1 & C80 = ( ( B108 * B106 ) + ( ( 1 - B108 ) * B107 ) ) & ( card ( Carrier B106 ) ) = 1 & ( card ( Carrier B107 ) ) = ( ( card ( Carrier C80 ) ) - 1 ))));
consider C81 , C82 being (Convex_Combination of C68), C83 being Real such that L470: (( 0 ) < C83 & C83 < 1) and L471: C80 = ( ( C83 * C81 ) + ( ( 1 - C83 ) * C82 ) ) and L472: ( card ( Carrier C81 ) ) = 1 and L473: ( card ( Carrier C82 ) ) = ( ( card ( Carrier C80 ) ) - 1 ) by L469;
L474: C79 >= ( ( 0 ) + 1 ) by NAT_1:13;
L475: ( C79 + 1 ) >= ( 1 + 1 ) by L474 , XREAL_1:6;
L476: (ex B109 , B110 being (Convex_Combination of C68) st (ex B111 being Real st (( 0 ) < B111 & B111 < 1 & C82 = ( ( B111 * B109 ) + ( ( 1 - B111 ) * B110 ) ) & ( card ( Carrier B109 ) ) = 1 & ( card ( Carrier B110 ) ) = ( ( card ( Carrier C82 ) ) - 1 )))) by L475 , L468 , L473 , L209;
L477: ( Sum C82 ) in C68 by L476 , L467 , L468 , L473;
consider C84 being set such that L478: ( Carrier C81 ) = { C84 } by L472 , CARD_2:42;
L479: C84 in ( Carrier C81 ) by L478 , TARSKI:def 1;
reconsider D54 = C84 as (VECTOR of C67) by L479;
L480: (( Sum C81 ) = ( ( C81 . D54 ) * D54 ) & ( C81 . D54 ) = 1) by L478 , CONVEX1:27 , RLVECT_2:35;
L481: ( Sum C81 ) = D54 by L480 , RLVECT_1:def 8;
L482: { D54 } c= C68 by L478 , RLVECT_2:def 6;
L483: ( Sum C81 ) in C68 by L482 , L481 , ZFMISC_1:31;
L484: ( Sum C80 ) = ( ( Sum ( C83 * C81 ) ) + ( Sum ( ( 1 - C83 ) * C82 ) ) ) by L471 , RLVECT_3:1
.= ( ( C83 * ( Sum C81 ) ) + ( Sum ( ( 1 - C83 ) * C82 ) ) ) by RLVECT_3:2
.= ( ( C83 * ( Sum C81 ) ) + ( ( 1 - C83 ) * ( Sum C82 ) ) ) by RLVECT_3:2;
thus L485: thesis by L484 , L425 , L470 , L483 , L477 , CONVEX1:def 2;
end;
L486: (for B112 being non  empty Nat holds S4[ B112 ]) from NAT_1:sch 10(L442 , L466);
thus L487: thesis by L486 , L428 , L464 , L465;
end;
end;
thus L489: thesis by L426 , TARSKI:def 3;
end;
theorem
L490: (for B113 being RealLinearSpace holds (for B114 being non  empty (Subset of B113) holds (B114 is  convex iff { ( Sum B115 ) where B115 is (Convex_Combination of B114) : B115 in ( ConvexComb B113 ) } c= B114))) by L193 , L424;
theorem
L491: (for B116 being RealLinearSpace holds (for B117 being non  empty (Subset of B116) holds ( conv B117 ) = { ( Sum B118 ) where B118 is (Convex_Combination of B117) : B118 in ( ConvexComb B116 ) }))
proof
let C85 being RealLinearSpace;
let C86 being non  empty (Subset of C85);
consider C87 being set such that L492: C87 in C86 by XBOOLE_0:def 1;
reconsider D55 = C87 as (VECTOR of C85) by L492;
consider C88 being (Convex_Combination of C85) such that L493: ( Sum C88 ) = D55 and L494: (for B119 being non  empty (Subset of C85) holds (D55 in B119 implies C88 is (Convex_Combination of B119))) by L14;
reconsider D56 = C88 as (Convex_Combination of C86) by L492 , L494;
L495: D56 in ( ConvexComb C85 ) by L1;
L496: D55 in { ( Sum B120 ) where B120 is (Convex_Combination of C86) : B120 in ( ConvexComb C85 ) } by L495 , L493;
reconsider D57 = { ( Sum B121 ) where B121 is (Convex_Combination of C86) : B121 in ( ConvexComb C85 ) } as non  empty set by L496;
L497: (for B122 being set holds (B122 in D57 implies B122 in (the carrier of C85)))
proof
let C89 being set;
assume L498: C89 in D57;
L499: (ex B123 being (Convex_Combination of C86) st (C89 = ( Sum B123 ) & B123 in ( ConvexComb C85 ))) by L498;
thus L500: thesis by L499;
end;
reconsider D58 = D57 as (Subset of C85) by L497 , TARSKI:def 3;
L501: (for B124 being set holds (B124 in { ( Sum B125 ) where B125 is (Convex_Combination of C86) : B125 in ( ConvexComb C85 ) } implies B124 in ( conv C86 )))
proof
let C90 being set;
assume L502: C90 in { ( Sum B126 ) where B126 is (Convex_Combination of C86) : B126 in ( ConvexComb C85 ) };
L503: (ex B127 being (Convex_Combination of C86) st (C90 = ( Sum B127 ) & B127 in ( ConvexComb C85 ))) by L502;
L504: C86 c= ( conv C86 ) by CONVEX1:41;
thus L505: thesis by L504 , L503 , CONVEX2:6;
end;
L506: { ( Sum B128 ) where B128 is (Convex_Combination of C86) : B128 in ( ConvexComb C85 ) } c= ( conv C86 ) by L501 , TARSKI:def 3;
L507: (for B129 , B130 being (VECTOR of C85) holds (for B131 being Real holds ((( 0 ) < B131 & B131 < 1 & B129 in D58 & B130 in D58) implies ( ( B131 * B129 ) + ( ( 1 - B131 ) * B130 ) ) in D58)))
proof
let C91 , C92 being (VECTOR of C85);
let C93 being Real;
assume that
L508: (( 0 ) < C93 & C93 < 1)
and
L509: C91 in D58
and
L510: C92 in D58;
consider C94 being (Convex_Combination of C86) such that L511: C92 = ( Sum C94 ) and L512: C94 in ( ConvexComb C85 ) by L510;
consider C95 being (Convex_Combination of C86) such that L513: C91 = ( Sum C95 ) and L514: C95 in ( ConvexComb C85 ) by L509;
reconsider D59 = ( ( C93 * C95 ) + ( ( 1 - C93 ) * C94 ) ) as (Convex_Combination of C86) by L508 , CONVEX2:9;
L515: ( ( C93 * C95 ) + ( ( 1 - C93 ) * C94 ) ) is (Convex_Combination of C85) by L508 , CONVEX2:8;
L516: ( ( C93 * C95 ) + ( ( 1 - C93 ) * C94 ) ) in ( ConvexComb C85 ) by L515 , L1;
L517: ( Sum D59 ) = ( ( Sum ( C93 * C95 ) ) + ( Sum ( ( 1 - C93 ) * C94 ) ) ) by RLVECT_3:1
.= ( ( C93 * ( Sum C95 ) ) + ( Sum ( ( 1 - C93 ) * C94 ) ) ) by RLVECT_3:2
.= ( ( C93 * ( Sum C95 ) ) + ( ( 1 - C93 ) * ( Sum C94 ) ) ) by RLVECT_3:2;
thus L518: thesis by L517 , L513 , L511 , L516;
end;
L519: D58 is  convex by L507 , CONVEX1:def 2;
L520: (for B132 being set holds (B132 in C86 implies B132 in D58))
proof
let C96 being set;
assume L521: C96 in C86;
reconsider D60 = C96 as (VECTOR of C85) by L521;
consider C97 being (Convex_Combination of C85) such that L522: ( Sum C97 ) = D60 and L523: (for B133 being non  empty (Subset of C85) holds (D60 in B133 implies C97 is (Convex_Combination of B133))) by L14;
reconsider D61 = C97 as (Convex_Combination of C86) by L521 , L523;
L524: D61 in ( ConvexComb C85 ) by L1;
thus L525: thesis by L524 , L522;
end;
L526: C86 c= D58 by L520 , TARSKI:def 3;
L527: ( conv C86 ) c= D58 by L526 , L519 , CONVEX1:30;
thus L528: thesis by L527 , L506 , XBOOLE_0:def 10;
end;
begin
definition
let C98 being non  empty RLSStruct;
let C99 being (Subset of C98);
attr C99 is  cone
means
:L529: (for B134 being Real holds (for B135 being (VECTOR of C98) holds ((B134 > ( 0 ) & B135 in C99) implies ( B134 * B135 ) in C99)));
end;
theorem
L531: (for B136 being non  empty RLSStruct holds (for B137 being (Subset of B136) holds (B137 = ( {} ) implies B137 is  cone)))
proof
let C100 being non  empty RLSStruct;
let C101 being (Subset of C100);
L532: (for B138 being Real holds (for B139 being (VECTOR of C100) holds ((B138 > ( 0 ) & B139 in ( {} )) implies ( B138 * B139 ) in ( {} ))));
assume L533: C101 = ( {} );
thus L534: thesis by L533 , L532 , L529;
end;
registration
let C102 being non  empty RLSStruct;
cluster  cone for (Subset of C102);
existence
proof
L535: ( {} C102 ) is  cone by L531;
thus L536: thesis by L535;
end;
end;
registration
let C103 being non  empty RLSStruct;
cluster  empty  cone for (Subset of C103);
existence
proof
set D62 = ( {} );
reconsider D63 = D62 as (Subset of C103) by XBOOLE_1:2;
reconsider D64 = D63 as  cone (Subset of C103) by L531;
take D64;
thus L538: thesis;
end;
end;
registration
let C104 being RealLinearSpace;
cluster non  empty  cone for (Subset of C104);
existence
proof
set D65 = { ( 0. C104 ) };
reconsider D66 = D65 as (Subset of C104);
L540: (for B140 being Real holds (for B141 being (VECTOR of C104) holds ((B140 > ( 0 ) & B141 in D66) implies ( B140 * B141 ) in D66)))
proof
let C105 being Real;
let C106 being (VECTOR of C104);
assume that
L541: C105 > ( 0 )
and
L542: C106 in D66;
L543: C106 = ( 0. C104 ) by L542 , TARSKI:def 1;
L544: ( C105 * C106 ) = ( 0. C104 ) by L543 , RLVECT_1:10;
thus L545: thesis by L544 , TARSKI:def 1;
end;
reconsider D67 = D66 as  cone (Subset of C104) by L540 , L529;
take D67;
thus L546: thesis;
end;
end;
theorem
L548: (for B142 being non  empty RLSStruct holds (for B143 being  cone (Subset of B142) holds (B142 is  vector-distributive  scalar-distributive  scalar-associative  scalar-unital implies (B143 is  convex iff (for B144 , B145 being (VECTOR of B142) holds ((B144 in B143 & B145 in B143) implies ( B144 + B145 ) in B143))))))
proof
let C107 being non  empty RLSStruct;
let C108 being  cone (Subset of C107);
L549: ((for B146 , B147 being (VECTOR of C107) holds ((B146 in C108 & B147 in C108) implies ( B146 + B147 ) in C108)) implies C108 is  convex)
proof
assume L550: (for B148 , B149 being (VECTOR of C107) holds ((B148 in C108 & B149 in C108) implies ( B148 + B149 ) in C108));
L551: (for B150 , B151 being (VECTOR of C107) holds (for B152 being Real holds ((( 0 ) < B152 & B152 < 1 & B150 in C108 & B151 in C108) implies ( ( B152 * B150 ) + ( ( 1 - B152 ) * B151 ) ) in C108)))
proof
let C109 , C110 being (VECTOR of C107);
let C111 being Real;
assume that
L552: ( 0 ) < C111
and
L553: C111 < 1
and
L554: C109 in C108
and
L555: C110 in C108;
L556: ( C111 + ( 0 ) ) < 1 by L553;
L557: ( 1 - C111 ) > ( 0 ) by L556 , XREAL_1:20;
L558: ( ( 1 - C111 ) * C110 ) in C108 by L557 , L555 , L529;
L559: ( C111 * C109 ) in C108 by L552 , L554 , L529;
thus L560: thesis by L559 , L550 , L558;
end;
thus L561: thesis by L551 , CONVEX1:def 2;
end;
assume L562: C107 is  vector-distributive  scalar-distributive  scalar-associative  scalar-unital;
L563: (C108 is  convex implies (for B153 , B154 being (VECTOR of C107) holds ((B153 in C108 & B154 in C108) implies ( B153 + B154 ) in C108)))
proof
assume L564: C108 is  convex;
L565: (for B155 , B156 being (VECTOR of C107) holds ((B155 in C108 & B156 in C108) implies ( B155 + B156 ) in C108))
proof
let C112 , C113 being (VECTOR of C107);
assume L566: (C112 in C108 & C113 in C108);
L567: ( ( ( 1 / 2 ) * C112 ) + ( ( 1 - ( 1 / 2 ) ) * C113 ) ) in C108 by L566 , L564 , CONVEX1:def 2;
L568: ( 2 * ( ( ( 1 / 2 ) * C112 ) + ( ( 1 / 2 ) * C113 ) ) ) in C108 by L567 , L529;
L569: ( 2 * ( ( ( 1 / 2 ) * C112 ) + ( ( 1 / 2 ) * C113 ) ) ) = ( ( 2 * ( ( 1 / 2 ) * C112 ) ) + ( 2 * ( ( 1 / 2 ) * C113 ) ) ) by L562 , RLVECT_1:def 5
.= ( ( ( 2 * ( 1 / 2 ) ) * C112 ) + ( 2 * ( ( 1 / 2 ) * C113 ) ) ) by L562 , RLVECT_1:def 7
.= ( ( 1 * C112 ) + ( ( 2 * ( 1 / 2 ) ) * C113 ) ) by L562 , RLVECT_1:def 7
.= ( C112 + ( 1 * C113 ) ) by L562 , RLVECT_1:def 8;
thus L570: thesis by L569 , L562 , L568 , RLVECT_1:def 8;
end;
thus L571: thesis by L565;
end;
thus L572: thesis by L563 , L549;
end;
L573: (for B157 being RealLinearSpace holds (for B158 being (Subset of B157) holds (for B159 being (Linear_Combination of B158) holds (( card ( Carrier B159 ) ) >= 1 implies (ex B160 , B161 being (Linear_Combination of B158) st (( Sum B159 ) = ( ( Sum B160 ) + ( Sum B161 ) ) & ( card ( Carrier B160 ) ) = 1 & ( card ( Carrier B161 ) ) = ( ( card ( Carrier B159 ) ) - 1 ) & ( Carrier B160 ) c= ( Carrier B159 ) & ( Carrier B161 ) c= ( Carrier B159 ) & (for B162 being (VECTOR of B157) holds (B162 in ( Carrier B160 ) implies ( B160 . B162 ) = ( B159 . B162 ))) & (for B163 being (VECTOR of B157) holds (B163 in ( Carrier B161 ) implies ( B161 . B163 ) = ( B159 . B163 )))))))))
proof
let C114 being RealLinearSpace;
let C115 being (Subset of C114);
let C116 being (Linear_Combination of C115);
assume L574: ( card ( Carrier C116 ) ) >= 1;
L575: ( Carrier C116 ) <> ( {} ) by L574;
consider C117 being set such that L576: C117 in ( Carrier C116 ) by L575 , XBOOLE_0:def 1;
reconsider D68 = C117 as (VECTOR of C114) by L576;
consider C118 being (Linear_Combination of { D68 }) such that L577: ( C118 . D68 ) = ( C116 . D68 ) by RLVECT_4:37;
L578: ( Carrier C118 ) c= { D68 } by RLVECT_2:def 6;
L579: ( Carrier C116 ) c= C115 by RLVECT_2:def 6;
L580: { D68 } c= C115 by L579 , L576 , ZFMISC_1:31;
L581: ( Carrier C118 ) c= C115 by L580 , L578 , XBOOLE_1:1;
reconsider D69 = C118 as (Linear_Combination of C115) by L581 , RLVECT_2:def 6;
L582: (for B164 being (VECTOR of C114) holds (B164 in ( Carrier D69 ) implies ( D69 . B164 ) = ( C116 . B164 )))
proof
let C119 being (VECTOR of C114);
assume L583: C119 in ( Carrier D69 );
L584: C119 = D68 by L583 , L578 , TARSKI:def 1;
thus L585: thesis by L584 , L577;
end;
defpred S5[ set , set ] means (($1 in ( ( Carrier C116 ) \ { D68 } ) implies $2 = ( C116 . $1 )) & ((not $1 in ( ( Carrier C116 ) \ { D68 } )) implies $2 = ( 0 )));
L586: (for B165 being set holds (B165 in (the carrier of C114) implies (ex B166 being set st S5[ B165 , B166 ])))
proof
let C120 being set;
assume L587: C120 in (the carrier of C114);
L588: (C120 in ( ( Carrier C116 ) \ { D68 } ) or (not C120 in ( ( Carrier C116 ) \ { D68 } )));
thus L589: thesis by L588;
end;
consider C121 being Function such that L590: (( dom C121 ) = (the carrier of C114) & (for B167 being set holds (B167 in (the carrier of C114) implies S5[ B167 , ( C121 . B167 ) ]))) from CLASSES1:sch 1(L586);
L591: (for B168 being set holds (B168 in ( rng C121 ) implies B168 in ( REAL )))
proof
let C122 being set;
assume L592: C122 in ( rng C121 );
consider C123 being set such that L593: C123 in ( dom C121 ) and L594: C122 = ( C121 . C123 ) by L592 , FUNCT_1:def 3;
per cases ;
suppose L595: C123 in ( ( Carrier C116 ) \ { D68 } );

reconsider D70 = C123 as (VECTOR of C114) by L595;
L596: C122 = ( C116 . D70 ) by L590 , L594 , L595;
thus L597: thesis by L596;
end;
suppose L598: (not C123 in ( ( Carrier C116 ) \ { D68 } ));

L599: C122 = ( 0 ) by L598 , L590 , L593 , L594;
thus L600: thesis by L599;
end;
end;
L602: ( rng C121 ) c= ( REAL ) by L591 , TARSKI:def 3;
L603: C121 is (Element of ( Funcs ((the carrier of C114) , ( REAL )) )) by L602 , L590 , FUNCT_2:def 2;
L604: (ex B169 being  finite (Subset of C114) st (for B170 being (Element of C114) holds ((not B170 in B169) implies ( C121 . B170 ) = ( 0 ))))
proof
set D71 = ( ( Carrier C116 ) \ { D68 } );
reconsider D72 = D71 as  finite (Subset of C114);
take D72;
thus L605: thesis by L590;
end;
reconsider D73 = C121 as (Linear_Combination of C114) by L604 , L603 , RLVECT_2:def 3;
L606: (for B171 being set holds (B171 in ( Carrier D73 ) implies B171 in C115))
proof
let C124 being set;
assume L607: C124 in ( Carrier D73 );
reconsider D74 = C124 as (VECTOR of C114) by L607;
L608: ( D73 . D74 ) <> ( 0 ) by L607 , RLVECT_2:19;
L609: D74 in ( ( Carrier C116 ) \ { D68 } ) by L608 , L590;
L610: D74 in ( Carrier C116 ) by L609 , XBOOLE_0:def 5;
L611: ( Carrier C116 ) c= C115 by RLVECT_2:def 6;
thus L612: thesis by L611 , L610;
end;
L613: ( Carrier D73 ) c= C115 by L606 , TARSKI:def 3;
reconsider D75 = D73 as (Linear_Combination of C115) by L613 , RLVECT_2:def 6;
L614: (for B172 being set holds (B172 in ( Carrier D75 ) implies B172 in ( ( Carrier C116 ) \ { D68 } )))
proof
let C125 being set;
assume L615: C125 in ( Carrier D75 );
reconsider D76 = C125 as (VECTOR of C114) by L615;
L616: ( D75 . D76 ) <> ( 0 ) by L615 , RLVECT_2:19;
thus L617: thesis by L616 , L590;
end;
L618: ( Carrier D75 ) c= ( ( Carrier C116 ) \ { D68 } ) by L614 , TARSKI:def 3;
L619: (for B173 being (VECTOR of C114) holds ( C116 . B173 ) = ( ( D69 + D75 ) . B173 ))
proof
let C126 being (VECTOR of C114);
per cases ;
suppose L620: C126 in ( Carrier C116 );

per cases ;
suppose L621: C126 = D68;

L622: (not C126 in ( Carrier D75 )) by L621 , L618 , ZFMISC_1:56;
L623: ( ( D69 + D75 ) . C126 ) = ( ( D69 . C126 ) + ( D75 . C126 ) ) by RLVECT_2:def 10
.= ( ( C116 . C126 ) + ( 0 ) ) by L577 , L621 , L622 , RLVECT_2:19;
thus L624: thesis by L623;
end;
suppose L625: C126 <> D68;

L626: (not C126 in ( Carrier D69 )) by L625 , L578 , TARSKI:def 1;
L627: ( D69 . C126 ) = ( 0 ) by L626 , RLVECT_2:19;
L628: C126 in ( ( Carrier C116 ) \ { D68 } ) by L620 , L625 , ZFMISC_1:56;
L629: ( ( D69 + D75 ) . C126 ) = ( ( D69 . C126 ) + ( D75 . C126 ) ) by RLVECT_2:def 10
.= ( ( 0 ) + ( C116 . C126 ) ) by L590 , L627 , L628;
thus L630: thesis by L629;
end;
end;
suppose L632: (not C126 in ( Carrier C116 ));

L633: (not C126 in ( Carrier D75 )) by L632 , L618 , ZFMISC_1:56;
L634: ( D75 . C126 ) = ( 0 ) by L633 , RLVECT_2:19;
L635: (not C126 in ( Carrier D69 )) by L576 , L578 , L632 , TARSKI:def 1;
L636: ( ( D69 + D75 ) . C126 ) = ( ( D69 . C126 ) + ( D75 . C126 ) ) by RLVECT_2:def 10
.= ( 0 ) by L635 , L634 , RLVECT_2:19;
thus L637: thesis by L636 , L632 , RLVECT_2:19;
end;
end;
L639: C116 = ( D69 + D75 ) by L619 , RLVECT_2:def 9;
L640: (for B174 being set holds (B174 in ( ( Carrier C116 ) \ { D68 } ) implies B174 in ( Carrier D75 )))
proof
let C127 being set;
assume L641: C127 in ( ( Carrier C116 ) \ { D68 } );
reconsider D77 = C127 as (VECTOR of C114) by L641;
L642: D77 in ( Carrier C116 ) by L641 , XBOOLE_0:def 5;
L643: ( C116 . D77 ) <> ( 0 ) by L642 , RLVECT_2:19;
L644: ( D75 . D77 ) = ( C116 . D77 ) by L590 , L641;
thus L645: thesis by L644 , L643 , RLVECT_2:19;
end;
L646: ( ( Carrier C116 ) \ { D68 } ) c= ( Carrier D75 ) by L640 , TARSKI:def 3;
L647: ( Carrier D75 ) = ( ( Carrier C116 ) \ { D68 } ) by L646 , L618 , XBOOLE_0:def 10;
take D69;
take D75;
L648: ( ( Carrier C116 ) \ { D68 } ) c= ( Carrier C116 ) by XBOOLE_1:36;
L649: ( Carrier D69 ) <> ( {} )
proof
assume L650: ( Carrier D69 ) = ( {} );
L651: ( C116 . D68 ) = ( 0 ) by L650 , L577 , RLVECT_2:19;
thus L652: contradiction by L651 , L576 , RLVECT_2:19;
end;
L653: ( Carrier D69 ) = { D68 } by L649 , L578 , ZFMISC_1:33;
L654: ( Carrier D69 ) c= ( Carrier C116 ) by L653 , L576 , ZFMISC_1:31;
L655: ( card ( Carrier D75 ) ) = ( ( card ( Carrier C116 ) ) - ( card ( Carrier D69 ) ) ) by L654 , L653 , L647 , CARD_2:44
.= ( ( card ( Carrier C116 ) ) - 1 ) by L653 , CARD_1:30;
thus L656: thesis by L655 , L576 , L582 , L590 , L653 , L618 , L639 , L648 , CARD_1:30 , RLVECT_3:1 , XBOOLE_1:1 , ZFMISC_1:31;
end;
theorem
L657: (for B175 being RealLinearSpace holds (for B176 being (Subset of B175) holds ((B176 is  convex & B176 is  cone) iff (for B177 being (Linear_Combination of B176) holds ((( Carrier B177 ) <> ( {} ) & (for B178 being (VECTOR of B175) holds (B178 in ( Carrier B177 ) implies ( B177 . B178 ) > ( 0 )))) implies ( Sum B177 ) in B176)))))
proof
let C128 being RealLinearSpace;
let C129 being (Subset of C128);
L658: ((for B179 being (Linear_Combination of C129) holds ((( Carrier B179 ) <> ( {} ) & (for B180 being (VECTOR of C128) holds (B180 in ( Carrier B179 ) implies ( B179 . B180 ) > ( 0 )))) implies ( Sum B179 ) in C129)) implies (C129 is  convex & C129 is  cone))
proof
assume L659: (for B181 being (Linear_Combination of C129) holds ((( Carrier B181 ) <> ( {} ) & (for B182 being (VECTOR of C128) holds (B182 in ( Carrier B181 ) implies ( B181 . B182 ) > ( 0 )))) implies ( Sum B181 ) in C129));
L660: (for B183 being Real holds (for B184 being (VECTOR of C128) holds ((B183 > ( 0 ) & B184 in C129) implies ( B183 * B184 ) in C129)))
proof
let C130 being Real;
let C131 being (VECTOR of C128);
assume that
L661: C130 > ( 0 )
and
L662: C131 in C129;
consider C132 being (Linear_Combination of { C131 }) such that L663: ( C132 . C131 ) = C130 by RLVECT_4:37;
L664: (for B185 being (VECTOR of C128) holds (B185 in ( Carrier C132 ) implies ( C132 . B185 ) > ( 0 )))
proof
let C133 being (VECTOR of C128);
L665: ( Carrier C132 ) c= { C131 } by RLVECT_2:def 6;
assume L666: C133 in ( Carrier C132 );
thus L667: thesis by L666 , L661 , L663 , L665 , TARSKI:def 1;
end;
L668: C131 in ( Carrier C132 ) by L661 , L663 , RLVECT_2:19;
L669: { C131 } c= C129 by L662 , ZFMISC_1:31;
reconsider D78 = C132 as (Linear_Combination of C129) by L669 , RLVECT_2:21;
L670: ( Sum D78 ) in C129 by L659 , L668 , L664;
thus L671: thesis by L670 , L663 , RLVECT_2:32;
end;
L672: (for B186 , B187 being (VECTOR of C128) holds ((B186 in C129 & B187 in C129) implies ( B186 + B187 ) in C129))
proof
let C134 , C135 being (VECTOR of C128);
assume that
L673: C134 in C129
and
L674: C135 in C129;
per cases ;
suppose L675: C134 <> C135;

consider C136 being (Linear_Combination of { C134 , C135 }) such that L676: (( C136 . C134 ) = 1 & ( C136 . C135 ) = 1) by L675 , RLVECT_4:38;
L677: ( Sum C136 ) = ( ( 1 * C134 ) + ( 1 * C135 ) ) by L675 , L676 , RLVECT_2:33
.= ( C134 + ( 1 * C135 ) ) by RLVECT_1:def 8
.= ( C134 + C135 ) by RLVECT_1:def 8;
L678: ( Carrier C136 ) <> ( {} ) by L676 , RLVECT_2:19;
L679: (for B188 being (VECTOR of C128) holds (B188 in ( Carrier C136 ) implies ( C136 . B188 ) > ( 0 )))
proof
let C137 being (VECTOR of C128);
L680: ( Carrier C136 ) c= { C134 , C135 } by RLVECT_2:def 6;
assume L681: C137 in ( Carrier C136 );
per cases  by L681 , L680 , TARSKI:def 2;
suppose L682: C137 = C134;

thus L683: thesis by L682 , L676;
end;
suppose L684: C137 = C135;

thus L685: thesis by L684 , L676;
end;
end;
L687: { C134 , C135 } c= C129 by L673 , L674 , ZFMISC_1:32;
reconsider D79 = C136 as (Linear_Combination of C129) by L687 , RLVECT_2:21;
L688: ( Sum D79 ) in C129 by L659 , L678 , L679;
thus L689: thesis by L688 , L677;
end;
suppose L690: C134 = C135;

L691: ( ( 1 + 1 ) * C134 ) in C129 by L660 , L673;
L692: ( ( 1 * C134 ) + ( 1 * C134 ) ) in C129 by L691 , RLVECT_1:def 6;
L693: ( C134 + ( 1 * C134 ) ) in C129 by L692 , RLVECT_1:def 8;
thus L694: thesis by L693 , L690 , RLVECT_1:def 8;
end;
end;
L696: C129 is  cone by L660 , L529;
thus L697: thesis by L696 , L672 , L548;
end;
L698: ((C129 is  convex & C129 is  cone) implies (for B189 being (Linear_Combination of C129) holds ((( Carrier B189 ) <> ( {} ) & (for B190 being (VECTOR of C128) holds (B190 in ( Carrier B189 ) implies ( B189 . B190 ) > ( 0 )))) implies ( Sum B189 ) in C129)))
proof
defpred S6[ Nat ] means (for B191 being (Linear_Combination of C129) holds ((( card ( Carrier B191 ) ) = $1 & (for B192 being (VECTOR of C128) holds (B192 in ( Carrier B191 ) implies ( B191 . B192 ) > ( 0 ))) & (ex B193 , B194 being (Linear_Combination of C129) st (( Sum B191 ) = ( ( Sum B193 ) + ( Sum B194 ) ) & ( card ( Carrier B193 ) ) = 1 & ( card ( Carrier B194 ) ) = ( ( card ( Carrier B191 ) ) - 1 ) & ( Carrier B193 ) c= ( Carrier B191 ) & ( Carrier B194 ) c= ( Carrier B191 ) & (for B195 being (VECTOR of C128) holds (B195 in ( Carrier B193 ) implies ( B193 . B195 ) = ( B191 . B195 ))) & (for B196 being (VECTOR of C128) holds (B196 in ( Carrier B194 ) implies ( B194 . B196 ) = ( B191 . B196 )))))) implies ( Sum B191 ) in C129));
assume that
L699: C129 is  convex
and
L700: C129 is  cone;
L701: S6[ 1 ]
proof
let C138 being (Linear_Combination of C129);
assume that
L702: ( card ( Carrier C138 ) ) = 1
and
L703: (for B197 being (VECTOR of C128) holds (B197 in ( Carrier C138 ) implies ( C138 . B197 ) > ( 0 )))
and
L704: (ex B198 , B199 being (Linear_Combination of C129) st (( Sum C138 ) = ( ( Sum B198 ) + ( Sum B199 ) ) & ( card ( Carrier B198 ) ) = 1 & ( card ( Carrier B199 ) ) = ( ( card ( Carrier C138 ) ) - 1 ) & ( Carrier B198 ) c= ( Carrier C138 ) & ( Carrier B199 ) c= ( Carrier C138 ) & (for B200 being (VECTOR of C128) holds (B200 in ( Carrier B198 ) implies ( B198 . B200 ) = ( C138 . B200 ))) & (for B201 being (VECTOR of C128) holds (B201 in ( Carrier B199 ) implies ( B199 . B201 ) = ( C138 . B201 )))));
consider C139 being set such that L705: ( Carrier C138 ) = { C139 } by L702 , CARD_2:42;
L706: { C139 } c= C129 by L705 , RLVECT_2:def 6;
L707: C139 in C129 by L706 , ZFMISC_1:31;
reconsider D80 = C139 as (VECTOR of C128) by L707;
L708: D80 in ( Carrier C138 ) by L705 , TARSKI:def 1;
L709: ( C138 . D80 ) > ( 0 ) by L708 , L703;
L710: ( Sum C138 ) = ( ( C138 . D80 ) * D80 ) by L705 , RLVECT_2:35;
thus L711: thesis by L710 , L700 , L707 , L709 , L529;
end;
L712: (for B202 being non  empty Nat holds (S6[ B202 ] implies S6[ ( B202 + 1 ) ]))
proof
let C140 being non  empty Nat;
assume L713: S6[ C140 ];
let C141 being (Linear_Combination of C129);
assume that
L714: ( card ( Carrier C141 ) ) = ( C140 + 1 )
and
L715: (for B203 being (VECTOR of C128) holds (B203 in ( Carrier C141 ) implies ( C141 . B203 ) > ( 0 )))
and
L716: (ex B204 , B205 being (Linear_Combination of C129) st (( Sum C141 ) = ( ( Sum B204 ) + ( Sum B205 ) ) & ( card ( Carrier B204 ) ) = 1 & ( card ( Carrier B205 ) ) = ( ( card ( Carrier C141 ) ) - 1 ) & ( Carrier B204 ) c= ( Carrier C141 ) & ( Carrier B205 ) c= ( Carrier C141 ) & (for B206 being (VECTOR of C128) holds (B206 in ( Carrier B204 ) implies ( B204 . B206 ) = ( C141 . B206 ))) & (for B207 being (VECTOR of C128) holds (B207 in ( Carrier B205 ) implies ( B205 . B207 ) = ( C141 . B207 )))));
consider C142 , C143 being (Linear_Combination of C129) such that L717: ( Sum C141 ) = ( ( Sum C142 ) + ( Sum C143 ) ) and L718: ( card ( Carrier C142 ) ) = 1 and L719: ( card ( Carrier C143 ) ) = ( ( card ( Carrier C141 ) ) - 1 ) and L720: ( Carrier C142 ) c= ( Carrier C141 ) and L721: ( Carrier C143 ) c= ( Carrier C141 ) and L722: (for B208 being (VECTOR of C128) holds (B208 in ( Carrier C142 ) implies ( C142 . B208 ) = ( C141 . B208 ))) and L723: (for B209 being (VECTOR of C128) holds (B209 in ( Carrier C143 ) implies ( C143 . B209 ) = ( C141 . B209 ))) by L716;
L724: (for B210 being (VECTOR of C128) holds (B210 in ( Carrier C142 ) implies ( C142 . B210 ) > ( 0 )))
proof
let C144 being (VECTOR of C128);
assume L725: C144 in ( Carrier C142 );
L726: ( C142 . C144 ) = ( C141 . C144 ) by L725 , L722;
thus L727: thesis by L726 , L715 , L720 , L725;
end;
L728: (for B211 being (VECTOR of C128) holds (B211 in ( Carrier C143 ) implies ( C143 . B211 ) > ( 0 )))
proof
let C145 being (VECTOR of C128);
assume L729: C145 in ( Carrier C143 );
L730: ( C143 . C145 ) = ( C141 . C145 ) by L729 , L723;
thus L731: thesis by L730 , L715 , L721 , L729;
end;
L732: (ex B212 , B213 being (Linear_Combination of C129) st (( Sum C142 ) = ( ( Sum B212 ) + ( Sum B213 ) ) & ( card ( Carrier B212 ) ) = 1 & ( card ( Carrier B213 ) ) = ( ( card ( Carrier C142 ) ) - 1 ) & ( Carrier B212 ) c= ( Carrier C142 ) & ( Carrier B213 ) c= ( Carrier C142 ) & (for B214 being (VECTOR of C128) holds (B214 in ( Carrier B212 ) implies ( B212 . B214 ) = ( C142 . B214 ))) & (for B215 being (VECTOR of C128) holds (B215 in ( Carrier B213 ) implies ( B213 . B215 ) = ( C142 . B215 ))))) by L718 , L573;
L733: ( Sum C142 ) in C129 by L732 , L701 , L718 , L724;
L734: ( card ( Carrier C143 ) ) >= ( ( 0 ) + 1 ) by L714 , L719 , NAT_1:13;
L735: (ex B216 , B217 being (Linear_Combination of C129) st (( Sum C143 ) = ( ( Sum B216 ) + ( Sum B217 ) ) & ( card ( Carrier B216 ) ) = 1 & ( card ( Carrier B217 ) ) = ( ( card ( Carrier C143 ) ) - 1 ) & ( Carrier B216 ) c= ( Carrier C143 ) & ( Carrier B217 ) c= ( Carrier C143 ) & (for B218 being (VECTOR of C128) holds (B218 in ( Carrier B216 ) implies ( B216 . B218 ) = ( C143 . B218 ))) & (for B219 being (VECTOR of C128) holds (B219 in ( Carrier B217 ) implies ( B217 . B219 ) = ( C143 . B219 ))))) by L734 , L573;
L736: ( Sum C143 ) in C129 by L735 , L713 , L714 , L719 , L728;
thus L737: thesis by L736 , L699 , L700 , L717 , L733 , L548;
end;
L738: (for B220 being non  empty Nat holds S6[ B220 ]) from NAT_1:sch 10(L701 , L712);
let C146 being (Linear_Combination of C129);
assume that
L739: ( Carrier C146 ) <> ( {} )
and
L740: (for B221 being (VECTOR of C128) holds (B221 in ( Carrier C146 ) implies ( C146 . B221 ) > ( 0 )));
L741: ( card ( Carrier C146 ) ) >= ( ( 0 ) + 1 ) by L739 , NAT_1:13;
L742: (ex B222 , B223 being (Linear_Combination of C129) st (( Sum C146 ) = ( ( Sum B222 ) + ( Sum B223 ) ) & ( card ( Carrier B222 ) ) = 1 & ( card ( Carrier B223 ) ) = ( ( card ( Carrier C146 ) ) - 1 ) & ( Carrier B222 ) c= ( Carrier C146 ) & ( Carrier B223 ) c= ( Carrier C146 ) & (for B224 being (VECTOR of C128) holds (B224 in ( Carrier B222 ) implies ( B222 . B224 ) = ( C146 . B224 ))) & (for B225 being (VECTOR of C128) holds (B225 in ( Carrier B223 ) implies ( B223 . B225 ) = ( C146 . B225 ))))) by L741 , L573;
thus L743: thesis by L742 , L739 , L740 , L738;
end;
thus L744: thesis by L698 , L658;
end;
theorem
L745: (for B226 being non  empty RLSStruct holds (for B227 , B228 being (Subset of B226) holds ((B227 is  cone & B228 is  cone) implies ( B227 /\ B228 ) is  cone)))
proof
let C147 being non  empty RLSStruct;
let C148 , C149 being (Subset of C147);
assume that
L746: C148 is  cone
and
L747: C149 is  cone;
let C150 being Real;
let C151 being (VECTOR of C147);
assume that
L748: C150 > ( 0 )
and
L749: C151 in ( C148 /\ C149 );
L750: C151 in C149 by L749 , XBOOLE_0:def 4;
L751: ( C150 * C151 ) in C149 by L750 , L747 , L748 , L529;
L752: C151 in C148 by L749 , XBOOLE_0:def 4;
L753: ( C150 * C151 ) in C148 by L752 , L746 , L748 , L529;
thus L754: thesis by L753 , L751 , XBOOLE_0:def 4;
end;
