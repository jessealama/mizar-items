:: Certain Facts about Families of Subsets of Many Sorted Sets
::  by Artur Korni{\l}owicz
::
:: Received October 27, 1995
:: Copyright (c) 1995-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies PBOOLE, FUNCT_6, RELAT_1, PARTFUN1, FUNCT_1, SETFAM_1, SUBSET_1,
      FINSET_1, XBOOLE_0, TARSKI, MEMBER_1, PZFMISC1, ZFMISC_1, FUNCT_4,
      FUNCOP_1, FUNCT_2, ORDINAL1, MSSUBFAM;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, SETFAM_1, RELAT_1, FUNCT_1,
      ORDINAL1, PARTFUN1, FUNCT_2, FUNCOP_1, FINSET_1, FUNCT_4, FUNCT_6,
      PBOOLE, MBOOLEAN, PZFMISC1;
 constructors SETFAM_1, FUNCT_4, FUNCT_6, MBOOLEAN, PZFMISC1, PARTFUN1,
      RELSET_1, ORDINAL1, PBOOLE, FINSET_1;
 registrations XBOOLE_0, FUNCT_1, FUNCOP_1, FINSET_1, PBOOLE, PRE_CIRC,
      MBOOLEAN, PZFMISC1, FUNCT_2, PARTFUN1, CARD_1, RELSET_1, RELAT_1;
 requirements SUBSET, BOOLE;
 definitions XBOOLE_0, PBOOLE, FINSET_1, ORDINAL1, FUNCOP_1;
 theorems FUNCOP_1, FINSET_1, ORDERS_1, FRAENKEL, FUNCT_2, FUNCT_4, FUNCT_6,
      MBOOLEAN, PBOOLE, PZFMISC1, SETFAM_1, TARSKI, RELSET_1, XBOOLE_0,
      XBOOLE_1, RELAT_1, PARTFUN1;
 schemes FUNCT_2, PBOOLE;

begin
registration
let C1 being set;
let C2 being (ManySortedFunction of C1);
cluster ( doms C2 ) -> C1 -defined;
coherence
proof
L1: ( dom ( doms C2 ) ) = ( dom C2 ) by FUNCT_6:59
.= C1 by PARTFUN1:def 2;
thus L2: thesis by L1 , RELAT_1:def 18;
end;
cluster ( rngs C2 ) -> C1 -defined;
coherence
proof
L3: ( dom ( rngs C2 ) ) = ( dom C2 ) by FUNCT_6:60
.= C1 by PARTFUN1:def 2;
thus L4: thesis by L3 , RELAT_1:def 18;
end;
end;
registration
let C3 being set;
let C4 being (ManySortedFunction of C3);
cluster ( doms C4 ) ->  total for C3 -defined C3 -defined C3 -defined C3 -defined Function;
coherence
proof
L6: ( dom ( doms C4 ) ) = ( dom C4 ) by FUNCT_6:59
.= C3 by PARTFUN1:def 2;
thus L7: thesis by L6 , PARTFUN1:def 2;
end;
cluster ( rngs C4 ) ->  total for C3 -defined C3 -defined C3 -defined C3 -defined Function;
coherence
proof
L8: ( dom ( rngs C4 ) ) = ( dom C4 ) by FUNCT_6:60
.= C3 by PARTFUN1:def 2;
thus L9: thesis by L8 , PARTFUN1:def 2;
end;
end;
scheme MSFExFunc { F1() -> set , F2 , F3() -> (ManySortedSet of F1()) , P1[set , set , set] } : (ex B1 being (ManySortedFunction of F2() , F3()) st (for B2 being set holds (B2 in F1() implies (ex B3 being (Function of ( F2() . B2 ) , ( F3() . B2 )) st (B3 = ( B1 . B2 ) & (for B4 being set holds (B4 in ( F2() . B2 ) implies P1[ ( B3 . B4 ) , B4 , B2 ])))))))
provided
L11: (for B5 being set holds (B5 in F1() implies (for B6 being set holds (B6 in ( F2() . B5 ) implies (ex B7 being set st (B7 in ( F3() . B5 ) & P1[ B7 , B6 , B5 ]))))))
proof
defpred S1[ set , set ] means (ex B8 being (Function of ( F2() . $1 ) , ( F3() . $1 )) st (B8 = $2 & (for B9 being set holds (B9 in ( F2() . $1 ) implies P1[ ( B8 . B9 ) , B9 , $1 ]))));
L12:
now
let C5 being set;
assume that
L13: C5 in F1();
per cases ;
suppose L14: ( F3() . C5 ) is non  empty;

reconsider D1 = ( F3() . C5 ) as non  empty set by L14;
defpred S2[ set , set ] means P1[ $2 , $1 , C5 ];
L15: (for B10 being set holds (B10 in ( F2() . C5 ) implies (ex B11 being set st (B11 in D1 & S2[ B10 , B11 ])))) by L11 , L13;
consider C6 being (Function of ( F2() . C5 ) , D1) such that L16: (for B12 being set holds (B12 in ( F2() . C5 ) implies S2[ B12 , ( C6 . B12 ) ])) from FUNCT_2:sch 1(L15);
reconsider D2 = C6 as (Function of ( F2() . C5 ) , ( F3() . C5 ));
reconsider D3 = D2 as set;
take D4 = D3;
thus L17: S1[ C5 , D4 ] by L16;
end;
suppose L18: ( F3() . C5 ) is  empty;

L19:
now
let C7 being set;
L20: (for B13 being set holds (not (B13 in ( F3() . C5 ) & P1[ B13 , C7 , C5 ]))) by L18;
thus L21: (not C7 in ( F2() . C5 )) by L20 , L11 , L13;
end;
L22: ( F2() . C5 ) = ( {} ) by L19 , XBOOLE_0:def 1;
reconsider D5 = ( {} ) as (Function of ( F2() . C5 ) , ( F3() . C5 )) by L22 , RELSET_1:12;
reconsider D6 = D5 as set;
take D7 = D6;
thus L23: S1[ C5 , D7 ]
proof
take D5;
thus L24: D5 = D7;
thus L25: thesis by L19;
end;

end;
end;
consider C8 being (ManySortedSet of F1()) such that L25: (for B14 being set holds (B14 in F1() implies S1[ B14 , ( C8 . B14 ) ])) from PBOOLE:sch 3(L12);
L26: C8 is (ManySortedFunction of F2() , F3())
proof
let C9 being set;
assume L27: C9 in F1();
L28: (ex B15 being (Function of ( F2() . C9 ) , ( F3() . C9 )) st (B15 = ( C8 . C9 ) & (for B16 being set holds (B16 in ( F2() . C9 ) implies P1[ ( B15 . B16 ) , B16 , C9 ])))) by L27 , L25;
thus L29: thesis by L28;
end;
reconsider D8 = C8 as (ManySortedFunction of F2() , F3()) by L26;
take D8;
thus L30: thesis by L25;
end;
theorem
L31: (for R1 being set holds (for R9 being (Subset-Family of R1) holds (R9 <> ( {} ) implies ( Intersect R9 ) c= ( union R9 ))))
proof
let R1 being set;
let R9 being (Subset-Family of R1);
assume L32: R9 <> ( {} );
L33: ( Intersect R9 ) = ( meet R9 ) by L32 , SETFAM_1:def 9;
thus L34: thesis by L33 , SETFAM_1:2;
end;
theorem
L35: (for R1 being set holds (for R2 being set holds (for R9 being (Subset-Family of R1) holds (R2 in R9 implies ( Intersect R9 ) c= R2))))
proof
let R1 being set;
let R2 being set;
let R9 being (Subset-Family of R1);
assume L36: R2 in R9;
L37: ( meet R9 ) = ( Intersect R9 ) by L36 , SETFAM_1:def 9;
thus L38: thesis by L37 , L36 , SETFAM_1:3;
end;
theorem
L39: (for R1 being set holds (for R9 being (Subset-Family of R1) holds (( {} ) in R9 implies ( Intersect R9 ) = ( {} ))))
proof
let R1 being set;
let R9 being (Subset-Family of R1);
assume L40: ( {} ) in R9;
L41: ( Intersect R9 ) = ( meet R9 ) by L40 , SETFAM_1:def 9;
thus L42: thesis by L41 , L40 , SETFAM_1:4;
end;
theorem
L43: (for R1 being set holds (for R9 being (Subset-Family of R1) holds (for B17 being (Subset of R1) holds ((for B18 being set holds (B18 in R9 implies B17 c= B18)) implies B17 c= ( Intersect R9 )))))
proof
let R1 being set;
let R9 being (Subset-Family of R1);
let C10 being (Subset of R1);
assume that
L44: (for B19 being set holds (B19 in R9 implies C10 c= B19));
per cases ;
suppose L45: R9 <> ( {} );

L46: ( Intersect R9 ) = ( meet R9 ) by L45 , SETFAM_1:def 9;
thus L47: thesis by L46 , L44 , L45 , SETFAM_1:5;
end;
suppose L48: R9 = ( {} );

L49: ( Intersect R9 ) = R1 by L48 , SETFAM_1:def 9;
thus L50: thesis by L49;
end;
end;
theorem
L52: (for R1 being set holds (for R2 being set holds (for R9 being (Subset-Family of R1) holds ((R9 <> ( {} ) & (for B20 being set holds (B20 in R9 implies R2 c= B20))) implies R2 c= ( Intersect R9 )))))
proof
let R1 being set;
let R2 being set;
let R9 being (Subset-Family of R1);
assume that
L53: R9 <> ( {} )
and
L54: (for B21 being set holds (B21 in R9 implies R2 c= B21));
L55: ( Intersect R9 ) = ( meet R9 ) by L53 , SETFAM_1:def 9;
thus L56: thesis by L55 , L53 , L54 , SETFAM_1:5;
end;
theorem
L57: (for R1 being set holds (for R2 being set holds (for R3 being set holds (for R9 being (Subset-Family of R1) holds ((R2 in R9 & R2 c= R3) implies ( Intersect R9 ) c= R3)))))
proof
let R1 being set;
let R2 being set;
let R3 being set;
let R9 being (Subset-Family of R1);
assume that
L58: R2 in R9
and
L59: R2 c= R3;
L60: ( Intersect R9 ) = ( meet R9 ) by L58 , SETFAM_1:def 9;
thus L61: thesis by L60 , L58 , L59 , SETFAM_1:7;
end;
theorem
L62: (for R1 being set holds (for R2 being set holds (for R3 being set holds (for R9 being (Subset-Family of R1) holds ((R2 in R9 & R2 misses R3) implies ( Intersect R9 ) misses R3)))))
proof
let R1 being set;
let R2 being set;
let R3 being set;
let R9 being (Subset-Family of R1);
assume that
L63: R2 in R9
and
L64: R2 misses R3;
L65: ( Intersect R9 ) = ( meet R9 ) by L63 , SETFAM_1:def 9;
thus L66: thesis by L65 , L63 , L64 , SETFAM_1:8;
end;
theorem
L67: (for R1 being set holds (for R9 being (Subset-Family of R1) holds (for R10 being (Subset-Family of R1) holds (for R11 being (Subset-Family of R1) holds (R11 = ( R9 \/ R10 ) implies ( Intersect R11 ) = ( ( Intersect R9 ) /\ ( Intersect R10 ) ))))))
proof
let R1 being set;
let R9 being (Subset-Family of R1);
let R10 being (Subset-Family of R1);
let R11 being (Subset-Family of R1);
assume L68: R11 = ( R9 \/ R10 );
per cases ;
suppose L69: (R9 = ( {} ) & R10 = ( {} ));

thus L70: thesis by L69 , L68;
end;
suppose L71: (R9 <> ( {} ) & R10 = ( {} ));

thus L72: ( Intersect R11 ) = ( meet R9 ) by L71 , L68 , SETFAM_1:def 9
.= ( ( meet R9 ) /\ R1 ) by XBOOLE_1:28
.= ( ( Intersect R9 ) /\ R1 ) by L71 , SETFAM_1:def 9
.= ( ( Intersect R9 ) /\ ( Intersect R10 ) ) by L71 , SETFAM_1:def 9;
end;
suppose L73: (R9 = ( {} ) & R10 <> ( {} ));

thus L74: ( Intersect R11 ) = ( meet R10 ) by L73 , L68 , SETFAM_1:def 9
.= ( R1 /\ ( meet R10 ) ) by XBOOLE_1:28
.= ( R1 /\ ( Intersect R10 ) ) by L73 , SETFAM_1:def 9
.= ( ( Intersect R9 ) /\ ( Intersect R10 ) ) by L73 , SETFAM_1:def 9;
end;
suppose L75: (R9 <> ( {} ) & R10 <> ( {} ));

L76: ( Intersect R10 ) = ( meet R10 ) by L75 , SETFAM_1:def 9;
L77: (( Intersect R11 ) = ( meet R11 ) & ( Intersect R9 ) = ( meet R9 )) by L68 , L75 , SETFAM_1:def 9;
thus L78: thesis by L77 , L68 , L75 , L76 , SETFAM_1:9;
end;
end;
theorem
L80: (for R1 being set holds (for R9 being (Subset-Family of R1) holds (for R12 being (Subset of R1) holds (R9 = { R12 } implies ( Intersect R9 ) = R12))))
proof
let R1 being set;
let R9 being (Subset-Family of R1);
let R12 being (Subset of R1);
assume L81: R9 = { R12 };
L82: ( Intersect R9 ) = ( meet R9 ) by L81 , SETFAM_1:def 9;
thus L83: thesis by L82 , L81 , SETFAM_1:10;
end;
theorem
L84: (for R1 being set holds (for R9 being (Subset-Family of R1) holds (for R12 being (Subset of R1) holds (for R13 being (Subset of R1) holds (R9 = { R12 , R13 } implies ( Intersect R9 ) = ( R12 /\ R13 ))))))
proof
let R1 being set;
let R9 being (Subset-Family of R1);
let R12 being (Subset of R1);
let R13 being (Subset of R1);
assume L85: R9 = { R12 , R13 };
L86: ( Intersect R9 ) = ( meet R9 ) by L85 , SETFAM_1:def 9;
thus L87: thesis by L86 , L85 , SETFAM_1:11;
end;
theorem
L88: (for R1 being set holds (for R6 being (ManySortedSet of R1) holds (for R7 being (ManySortedSet of R1) holds (R6 in R7 implies R6 is (Element of R7)))))
proof
let R1 being set;
let R6 being (ManySortedSet of R1);
let R7 being (ManySortedSet of R1);
assume L89: R6 in R7;
let R4 being set;
assume L90: R4 in R1;
thus L91: thesis by L90 , L89 , PBOOLE:def 1;
end;
theorem
L92: (for R1 being set holds (for R6 being (ManySortedSet of R1) holds (for B22 being  non-empty (ManySortedSet of R1) holds (R6 is (Element of B22) implies R6 in B22))))
proof
let R1 being set;
let R6 being (ManySortedSet of R1);
let C11 being  non-empty (ManySortedSet of R1);
assume L93: R6 is (Element of C11);
let R4 being set;
assume L94: R4 in R1;
L95: ( C11 . R4 ) <> ( {} ) by L94;
L96: ( R6 . R4 ) is (Element of ( C11 . R4 )) by L93 , L94 , PBOOLE:def 14;
thus L97: thesis by L96 , L95;
end;
theorem
L98: (for R1 being set holds (for R4 being set holds (for R14 being (ManySortedFunction of R1) holds (for B23 being Function holds ((R4 in R1 & B23 = ( R14 . R4 )) implies ( ( rngs R14 ) . R4 ) = ( rng B23 ))))))
proof
let R1 being set;
let R4 being set;
let R14 being (ManySortedFunction of R1);
L99: ( dom R14 ) = R1 by PARTFUN1:def 2;
let C12 being Function;
assume L100: (R4 in R1 & C12 = ( R14 . R4 ));
thus L101: thesis by L100 , L99 , FUNCT_6:22;
end;
theorem
L102: (for R1 being set holds (for R4 being set holds (for R14 being (ManySortedFunction of R1) holds (for B24 being Function holds ((R4 in R1 & B24 = ( R14 . R4 )) implies ( ( doms R14 ) . R4 ) = ( dom B24 ))))))
proof
let R1 being set;
let R4 being set;
let R14 being (ManySortedFunction of R1);
L103: ( dom R14 ) = R1 by PARTFUN1:def 2;
let C13 being Function;
assume L104: (R4 in R1 & C13 = ( R14 . R4 ));
thus L105: thesis by L104 , L103 , FUNCT_6:22;
end;
theorem
L106: (for R1 being set holds (for B25 , B26 being (ManySortedFunction of R1) holds ( B26 ** B25 ) is (ManySortedFunction of R1)))
proof
let R1 being set;
let C14 , C15 being (ManySortedFunction of R1);
L107: ( dom ( C15 ** C14 ) ) = ( ( dom C14 ) /\ ( dom C15 ) ) by PBOOLE:def 19
.= ( R1 /\ ( dom C15 ) ) by PARTFUN1:def 2
.= ( R1 /\ R1 ) by PARTFUN1:def 2
.= R1;
thus L108: thesis by L107 , PARTFUN1:def 2 , RELAT_1:def 18;
end;
theorem
L109: (for R1 being set holds (for B27 being  non-empty (ManySortedSet of R1) holds (for B28 being (ManySortedFunction of B27 , ( [[0]] R1 )) holds B28 = ( [[0]] R1 ))))
proof
let R1 being set;
let C16 being  non-empty (ManySortedSet of R1);
let C17 being (ManySortedFunction of C16 , ( [[0]] R1 ));
L110:
now
let R4 being set;
assume L111: R4 in R1;
reconsider D9 = ( C17 . R4 ) as (Function of ( C16 . R4 ) , ( ( [[0]] R1 ) . R4 )) by L111 , PBOOLE:def 15;
L112: D9 = ( {} );
thus L113: ( C17 . R4 ) = ( ( [[0]] R1 ) . R4 ) by L112;
end;
thus L114: thesis by L110 , PBOOLE:3;
end;
theorem
L115: (for R1 being set holds (for R6 being (ManySortedSet of R1) holds (for R7 being (ManySortedSet of R1) holds (for R14 being (ManySortedFunction of R1) holds ((R6 is_transformable_to R7 & R14 is (ManySortedFunction of R6 , R7)) implies (( doms R14 ) = R6 & ( rngs R14 ) c= R7))))))
proof
let R1 being set;
let R6 being (ManySortedSet of R1);
let R7 being (ManySortedSet of R1);
let R14 being (ManySortedFunction of R1);
assume that
L116: R6 is_transformable_to R7
and
L117: R14 is (ManySortedFunction of R6 , R7);
L118:
now
let R4 being set;
assume L119: R4 in R1;
reconsider D10 = ( R14 . R4 ) as (Function of ( R6 . R4 ) , ( R7 . R4 )) by L119 , L117 , PBOOLE:def 15;
L120: (( R7 . R4 ) = ( {} ) implies ( R6 . R4 ) = ( {} )) by L116 , L119 , PZFMISC1:def 3;
thus L121: ( ( doms R14 ) . R4 ) = ( dom D10 ) by L119 , L102
.= ( R6 . R4 ) by L120 , FUNCT_2:def 1;
end;
thus L122: ( doms R14 ) = R6 by L118 , PBOOLE:3;
let R4 being set;
assume L123: R4 in R1;
reconsider D11 = ( R14 . R4 ) as (Function of ( R6 . R4 ) , ( R7 . R4 )) by L123 , L117 , PBOOLE:def 15;
L124: ( rng D11 ) c= ( R7 . R4 ) by RELAT_1:def 19;
thus L125: thesis by L124 , L123 , L98;
end;
begin
registration
let R1 being set;
cluster  empty-yielding ->  finite-yielding for (ManySortedSet of R1);
coherence
proof
let C18 being (ManySortedSet of R1);
assume that
L126: C18 is  empty-yielding;
let R4 being set;
assume L127: R4 in R1;
reconsider D12 = ( C18 . R4 ) as  empty set by L126;
L128: D12 is  finite;
thus L129: thesis by L128;
end;
end;
registration
let R1 being set;
cluster ( [[0]] R1 ) ->  empty-yielding  finite-yielding;
coherence;
end;
registration
let R1 being set;
let R6 being (ManySortedSet of R1);
cluster  empty-yielding  finite-yielding for (ManySortedSubset of R6);
existence
proof
set D13 = ( [[0]] R1 );
L132: D13 c= R6 by PBOOLE:43;
reconsider D14 = D13 as (ManySortedSubset of R6) by L132 , PBOOLE:def 18;
take D14;
thus L133: thesis;
end;
end;
theorem
L135: (for R1 being set holds (for R6 being (ManySortedSet of R1) holds (for R7 being (ManySortedSet of R1) holds ((R6 c= R7 & R7 is  finite-yielding) implies R6 is  finite-yielding))))
proof
let R1 being set;
let R6 being (ManySortedSet of R1);
let R7 being (ManySortedSet of R1);
assume L136: (R6 c= R7 & R7 is  finite-yielding);
let R4 being set;
assume L137: R4 in R1;
L138: (( R6 . R4 ) c= ( R7 . R4 ) & ( R7 . R4 ) is  finite) by L137 , L136 , PBOOLE:def 2;
thus L139: thesis by L138;
end;
registration
let R1 being set;
let C19 being  finite-yielding (ManySortedSet of R1);
cluster  ->  finite-yielding for (ManySortedSubset of C19);
coherence
proof
let C20 being (ManySortedSubset of C19);
reconsider D15 = C20 as (ManySortedSet of R1);
L140: D15 c= C19 by PBOOLE:def 18;
thus L141: thesis by L140 , L135;
end;
end;
registration
let R1 being set;
let C21 , C22 being  finite-yielding (ManySortedSet of R1);
cluster ( C21 \/ C22 ) ->  finite-yielding;
coherence
proof
let R4 being set;
assume L143: R4 in R1;
L144: ( ( C21 . R4 ) \/ ( C22 . R4 ) ) is  finite;
thus L145: thesis by L144 , L143 , PBOOLE:def 4;
end;
end;
registration
let R1 being set;
let R6 being (ManySortedSet of R1);
let C23 being  finite-yielding (ManySortedSet of R1);
cluster ( R6 /\ C23 ) ->  finite-yielding;
coherence
proof
let R4 being set;
assume L147: R4 in R1;
L148: ( ( R6 . R4 ) /\ ( C23 . R4 ) ) is  finite;
thus L149: thesis by L148 , L147 , PBOOLE:def 5;
end;
end;
registration
let R1 being set;
let R7 being (ManySortedSet of R1);
let C24 being  finite-yielding (ManySortedSet of R1);
cluster ( C24 /\ R7 ) ->  finite-yielding;
coherence;
end;
registration
let R1 being set;
let R7 being (ManySortedSet of R1);
let C25 being  finite-yielding (ManySortedSet of R1);
cluster ( C25 \ R7 ) ->  finite-yielding;
coherence
proof
let R4 being set;
assume L152: R4 in R1;
L153: ( ( C25 . R4 ) \ ( R7 . R4 ) ) is  finite;
thus L154: thesis by L153 , L152 , PBOOLE:def 6;
end;
end;
registration
let R1 being set;
let R14 being (ManySortedFunction of R1);
let C26 being  finite-yielding (ManySortedSet of R1);
cluster ( R14 .:.: C26 ) ->  finite-yielding;
coherence
proof
let R4 being set;
assume that
L156: R4 in R1;
reconsider D16 = ( R14 . R4 ) as Function;
L157: ( D16 .: ( C26 . R4 ) ) is  finite;
thus L158: thesis by L157 , L156 , PBOOLE:def 20;
end;
end;
registration
let R1 being set;
let C27 , C28 being  finite-yielding (ManySortedSet of R1);
cluster [| C27 , C28 |] ->  finite-yielding;
coherence
proof
let R4 being set;
assume L160: R4 in R1;
L161: [: ( C27 . R4 ) , ( C28 . R4 ) :] is  finite;
thus L162: thesis by L161 , L160 , PBOOLE:def 16;
end;
end;
theorem
L164: (for R1 being set holds (for R6 being (ManySortedSet of R1) holds (for R7 being (ManySortedSet of R1) holds ((R7 is  non-empty & [| R6 , R7 |] is  finite-yielding) implies R6 is  finite-yielding))))
proof
let R1 being set;
let R6 being (ManySortedSet of R1);
let R7 being (ManySortedSet of R1);
assume that
L165: R7 is  non-empty
and
L166: [| R6 , R7 |] is  finite-yielding;
let R4 being set;
assume L167: R4 in R1;
L168: ( [| R6 , R7 |] . R4 ) is  finite by L166;
L169: [: ( R6 . R4 ) , ( R7 . R4 ) :] is  finite by L168 , L167 , PBOOLE:def 16;
thus L170: thesis by L169 , L165 , L167;
end;
theorem
L171: (for R1 being set holds (for R6 being (ManySortedSet of R1) holds (for R7 being (ManySortedSet of R1) holds ((R6 is  non-empty & [| R6 , R7 |] is  finite-yielding) implies R7 is  finite-yielding))))
proof
let R1 being set;
let R6 being (ManySortedSet of R1);
let R7 being (ManySortedSet of R1);
assume that
L172: R6 is  non-empty
and
L173: [| R6 , R7 |] is  finite-yielding;
let R4 being set;
assume L174: R4 in R1;
L175: ( [| R6 , R7 |] . R4 ) is  finite by L173;
L176: [: ( R6 . R4 ) , ( R7 . R4 ) :] is  finite by L175 , L174 , PBOOLE:def 16;
thus L177: thesis by L176 , L172 , L174;
end;
theorem
L178: (for R1 being set holds (for R6 being (ManySortedSet of R1) holds (R6 is  finite-yielding iff ( bool R6 ) is  finite-yielding)))
proof
let R1 being set;
let R6 being (ManySortedSet of R1);
thus L179: (R6 is  finite-yielding implies ( bool R6 ) is  finite-yielding)
proof
assume L180: R6 is  finite-yielding;
let R4 being set;
assume L181: R4 in R1;
L182: ( R6 . R4 ) is  finite by L180;
L183: ( bool ( R6 . R4 ) ) is  finite by L182;
thus L184: thesis by L183 , L181 , MBOOLEAN:def 1;
end;

assume L185: ( bool R6 ) is  finite-yielding;
let R4 being set;
assume L186: R4 in R1;
L187: ( ( bool R6 ) . R4 ) is  finite by L185;
L188: ( bool ( R6 . R4 ) ) is  finite by L187 , L186 , MBOOLEAN:def 1;
thus L189: thesis by L188;
end;
registration
let R1 being set;
let C29 being  finite-yielding (ManySortedSet of R1);
cluster ( bool C29 ) ->  finite-yielding;
coherence by L178;
end;
theorem
L191: (for R1 being set holds (for B29 being  non-empty (ManySortedSet of R1) holds ((B29 is  finite-yielding & (for B30 being (ManySortedSet of R1) holds (B30 in B29 implies B30 is  finite-yielding))) implies ( union B29 ) is  finite-yielding)))
proof
let R1 being set;
let C30 being  non-empty (ManySortedSet of R1);
assume that
L192: C30 is  finite-yielding
and
L193: (for B31 being (ManySortedSet of R1) holds (B31 in C30 implies B31 is  finite-yielding));
let R4 being set;
assume L194: R4 in R1;
L195: (for B32 being set holds (B32 in ( C30 . R4 ) implies B32 is  finite))
proof
consider C31 being (ManySortedSet of R1) such that L196: C31 in C30 by PBOOLE:134;
let C32 being set;
assume that
L197: C32 in ( C30 . R4 );
L198: ( dom ( C31 +* ( R4 .--> C32 ) ) ) = R1 by L194 , PZFMISC1:1;
reconsider D17 = ( C31 +* ( R4 .--> C32 ) ) as (ManySortedSet of R1) by L198 , PARTFUN1:def 2 , RELAT_1:def 18;
L199: ( dom ( R4 .--> C32 ) ) = { R4 } by FUNCOP_1:13;
L200: R4 in { R4 } by TARSKI:def 1;
L201: ( D17 . R4 ) = ( ( R4 .--> C32 ) . R4 ) by L200 , L199 , FUNCT_4:13
.= C32 by FUNCOP_1:72;
L202: D17 in C30
proof
let C33 being set;
assume that
L203: C33 in R1;
L204:
now
per cases ;
case L205: C33 = R4;
thus L206: thesis by L205 , L197 , L201;
end;
case L207: C33 <> R4;
L208: (not C33 in ( dom ( R4 .--> C32 ) )) by L207 , L199 , TARSKI:def 1;
L209: ( D17 . C33 ) = ( C31 . C33 ) by L208 , FUNCT_4:11;
thus L210: thesis by L209 , L196 , L203 , PBOOLE:def 1;
end;
end;
thus L212: thesis by L204;
end;
L213: D17 is  finite-yielding by L202 , L193;
thus L214: thesis by L213 , L201;
end;
L215: ( C30 . R4 ) is  finite by L192;
L216: ( union ( C30 . R4 ) ) is  finite by L215 , L195 , FINSET_1:7;
thus L217: thesis by L216 , L194 , MBOOLEAN:def 2;
end;
theorem
L218: (for R1 being set holds (for R6 being (ManySortedSet of R1) holds (( union R6 ) is  finite-yielding implies (R6 is  finite-yielding & (for R8 being (ManySortedSet of R1) holds (R8 in R6 implies R8 is  finite-yielding))))))
proof
let R1 being set;
let R6 being (ManySortedSet of R1);
assume L219: ( union R6 ) is  finite-yielding;
thus L220: R6 is  finite-yielding
proof
let R4 being set;
assume L221: R4 in R1;
L222: ( ( union R6 ) . R4 ) is  finite by L219;
L223: ( union ( R6 . R4 ) ) is  finite by L222 , L221 , MBOOLEAN:def 2;
thus L224: thesis by L223 , FINSET_1:7;
end;

let R8 being (ManySortedSet of R1);
assume that
L225: R8 in R6;
let R4 being set;
assume L226: R4 in R1;
L227: ( ( union R6 ) . R4 ) is  finite by L219;
L228: ( union ( R6 . R4 ) ) is  finite by L227 , L226 , MBOOLEAN:def 2;
L229: ( R8 . R4 ) in ( R6 . R4 ) by L225 , L226 , PBOOLE:def 1;
thus L230: thesis by L229 , L228 , FINSET_1:7;
end;
theorem
L231: (for R1 being set holds (for R14 being (ManySortedFunction of R1) holds (( doms R14 ) is  finite-yielding implies ( rngs R14 ) is  finite-yielding)))
proof
let R1 being set;
let R14 being (ManySortedFunction of R1);
assume L232: ( doms R14 ) is  finite-yielding;
let R4 being set;
assume that
L233: R4 in R1;
reconsider D18 = ( R14 . R4 ) as Function;
L234: ( ( doms R14 ) . R4 ) is  finite by L232;
L235: ( dom D18 ) is  finite by L234 , L233 , L102;
L236: ( rng D18 ) is  finite by L235 , FINSET_1:8;
thus L237: thesis by L236 , L233 , L98;
end;
theorem
L238: (for R1 being set holds (for R6 being (ManySortedSet of R1) holds (for R14 being (ManySortedFunction of R1) holds ((R6 c= ( rngs R14 ) & (for B33 being set holds (for B34 being Function holds ((B33 in R1 & B34 = ( R14 . B33 )) implies ( B34 " ( R6 . B33 ) ) is  finite)))) implies R6 is  finite-yielding))))
proof
let R1 being set;
let R6 being (ManySortedSet of R1);
let R14 being (ManySortedFunction of R1);
assume that
L239: R6 c= ( rngs R14 )
and
L240: (for B35 being set holds (for B36 being Function holds ((B35 in R1 & B36 = ( R14 . B35 )) implies ( B36 " ( R6 . B35 ) ) is  finite)));
let R4 being set;
assume that
L241: R4 in R1;
reconsider D19 = ( R14 . R4 ) as Function;
L242: ( ( rngs R14 ) . R4 ) = ( rng D19 ) by L241 , L98;
L243: ( R6 . R4 ) c= ( rng D19 ) by L242 , L239 , L241 , PBOOLE:def 2;
L244: ( D19 " ( R6 . R4 ) ) is  finite by L240 , L241;
thus L245: thesis by L244 , L243 , FINSET_1:9;
end;
registration
let R1 being set;
let C34 , C35 being  finite-yielding (ManySortedSet of R1);
cluster ( (Funcs) (C34 , C35) ) ->  finite-yielding;
coherence
proof
let R4 being set;
assume L246: R4 in R1;
L247: (( ( (Funcs) (C34 , C35) ) . R4 ) = ( Funcs (( C34 . R4 ) , ( C35 . R4 )) ) & ( C34 . R4 ) is  finite) by L246 , PBOOLE:def 17;
thus L248: thesis by L247 , FRAENKEL:6;
end;
end;
registration
let R1 being set;
let C36 , C37 being  finite-yielding (ManySortedSet of R1);
cluster ( C36 \+\ C37 ) ->  finite-yielding;
coherence;
end;
theorem
L251: (for R1 being set holds (for R15 being (ManySortedSet of R1) holds (for R16 being (ManySortedSet of R1) holds (for R17 being (ManySortedSet of R1) holds ((R15 is  finite-yielding & R15 c= [| R16 , R17 |]) implies (ex R6 being (ManySortedSet of R1) st (ex R7 being (ManySortedSet of R1) st (R6 is  finite-yielding & R6 c= R16 & R7 is  finite-yielding & R7 c= R17 & R15 c= [| R6 , R7 |]))))))))
proof
let R1 being set;
let R15 being (ManySortedSet of R1);
let R16 being (ManySortedSet of R1);
let R17 being (ManySortedSet of R1);
assume that
L252: R15 is  finite-yielding
and
L253: R15 c= [| R16 , R17 |];
defpred S3[ set , set ] means (ex B37 being set st ($2 is  finite & $2 c= ( R16 . $1 ) & B37 is  finite & B37 c= ( R17 . $1 ) & ( R15 . $1 ) c= [: $2 , B37 :]));
L254: (for R4 being set holds (R4 in R1 implies (ex B38 being set st S3[ R4 , B38 ])))
proof
let R4 being set;
assume L255: R4 in R1;
L256: ( R15 . R4 ) c= ( [| R16 , R17 |] . R4 ) by L255 , L253 , PBOOLE:def 2;
L257: ( R15 . R4 ) c= [: ( R16 . R4 ) , ( R17 . R4 ) :] by L256 , L255 , PBOOLE:def 16;
L258: ( R15 . R4 ) is  finite by L252;
thus L259: thesis by L258 , L257 , FINSET_1:13;
end;
consider C38 being (ManySortedSet of R1) such that L260: (for R4 being set holds (R4 in R1 implies S3[ R4 , ( C38 . R4 ) ])) from PBOOLE:sch 3(L254);
defpred S4[ set , set ] means (( C38 . $1 ) is  finite & ( C38 . $1 ) c= ( R16 . $1 ) & $2 is  finite & $2 c= ( R17 . $1 ) & ( R15 . $1 ) c= [: ( C38 . $1 ) , $2 :]);
L261: (for R4 being set holds (R4 in R1 implies (ex B39 being set st S4[ R4 , B39 ]))) by L260;
consider C39 being (ManySortedSet of R1) such that L262: (for R4 being set holds (R4 in R1 implies S4[ R4 , ( C39 . R4 ) ])) from PBOOLE:sch 3(L261);
take C38;
take C39;
thus L263: C38 is  finite-yielding
proof
let R4 being set;
assume L264: R4 in R1;
thus L265: thesis by L264 , L262;
end;

thus L266: C38 c= R16
proof
let R4 being set;
assume L267: R4 in R1;
thus L268: thesis by L267 , L262;
end;

thus L269: C39 is  finite-yielding
proof
let R4 being set;
assume L270: R4 in R1;
thus L271: thesis by L270 , L262;
end;

thus L272: C39 c= R17
proof
let R4 being set;
assume L273: R4 in R1;
thus L274: thesis by L273 , L262;
end;

thus L275: R15 c= [| C38 , C39 |]
proof
let R4 being set;
assume L276: R4 in R1;
L277: ( R15 . R4 ) c= [: ( C38 . R4 ) , ( C39 . R4 ) :] by L276 , L262;
thus L278: thesis by L277 , L276 , PBOOLE:def 16;
end;

end;
theorem
L276: (for R1 being set holds (for R15 being (ManySortedSet of R1) holds (for R16 being (ManySortedSet of R1) holds (for R17 being (ManySortedSet of R1) holds ((R15 is  finite-yielding & R15 c= [| R16 , R17 |]) implies (ex R6 being (ManySortedSet of R1) st (R6 is  finite-yielding & R6 c= R16 & R15 c= [| R6 , R17 |])))))))
proof
let R1 being set;
let R15 being (ManySortedSet of R1);
let R16 being (ManySortedSet of R1);
let R17 being (ManySortedSet of R1);
assume that
L277: R15 is  finite-yielding
and
L278: R15 c= [| R16 , R17 |];
defpred S5[ set , set ] means ($2 is  finite & $2 c= ( R16 . $1 ) & ( R15 . $1 ) c= [: $2 , ( R17 . $1 ) :]);
L279: (for R4 being set holds (R4 in R1 implies (ex B40 being set st S5[ R4 , B40 ])))
proof
let R4 being set;
assume L280: R4 in R1;
L281: ( R15 . R4 ) c= ( [| R16 , R17 |] . R4 ) by L280 , L278 , PBOOLE:def 2;
L282: ( R15 . R4 ) c= [: ( R16 . R4 ) , ( R17 . R4 ) :] by L281 , L280 , PBOOLE:def 16;
L283: ( R15 . R4 ) is  finite by L277;
consider C40 being set such that L284: (C40 is  finite & C40 c= ( R16 . R4 ) & ( R15 . R4 ) c= [: C40 , ( R17 . R4 ) :]) by L283 , L282 , FINSET_1:14;
take C40;
thus L285: thesis by L284;
end;
consider R6 being (ManySortedSet of R1) such that L286: (for R4 being set holds (R4 in R1 implies S5[ R4 , ( R6 . R4 ) ])) from PBOOLE:sch 3(L279);
take R6;
thus L287: R6 is  finite-yielding
proof
let R4 being set;
assume L288: R4 in R1;
thus L289: thesis by L288 , L286;
end;

thus L290: R6 c= R16
proof
let R4 being set;
assume L291: R4 in R1;
thus L292: thesis by L291 , L286;
end;

thus L293: R15 c= [| R6 , R17 |]
proof
let R4 being set;
assume L294: R4 in R1;
L295: ( R15 . R4 ) c= [: ( R6 . R4 ) , ( R17 . R4 ) :] by L294 , L286;
thus L296: thesis by L295 , L294 , PBOOLE:def 16;
end;

end;
theorem
L294: (for R1 being set holds (for B41 being  non-empty  finite-yielding (ManySortedSet of R1) holds ((for B42 , B43 being (ManySortedSet of R1) holds ((B42 in B41 & B43 in B41) implies (B42 c= B43 or B43 c= B42))) implies (ex B44 being (ManySortedSet of R1) st (B44 in B41 & (for B45 being (ManySortedSet of R1) holds (B45 in B41 implies B44 c= B45)))))))
proof
let R1 being set;
let C41 being  non-empty  finite-yielding (ManySortedSet of R1);
assume that
L295: (for B46 , B47 being (ManySortedSet of R1) holds ((B46 in C41 & B47 in C41) implies (B46 c= B47 or B47 c= B46)));
defpred S6[ set , set ] means ($2 in ( C41 . $1 ) & (for B48 being set holds (B48 in ( C41 . $1 ) implies $2 c= B48)));
L296: (for R4 being set holds (R4 in R1 implies (ex B49 being set st S6[ R4 , B49 ])))
proof
let R4 being set;
assume L297: R4 in R1;
L298: ( C41 . R4 ) is  c=-linear
proof
consider C42 being (ManySortedSet of R1) such that L299: C42 in C41 by PBOOLE:134;
consider C43 being (ManySortedSet of R1) such that L300: C43 in C41 by PBOOLE:134;
let C44 , C45 being set;
assume that
L301: C44 in ( C41 . R4 )
and
L302: C45 in ( C41 . R4 );
L303: ( dom ( R4 .--> C44 ) ) = { R4 } by FUNCOP_1:13;
set D20 = ( C42 +* ( R4 .--> C45 ) );
L304: ( dom D20 ) = R1 by L297 , PZFMISC1:1;
reconsider D21 = D20 as (ManySortedSet of R1) by L304 , PARTFUN1:def 2 , RELAT_1:def 18;
L305: ( dom ( R4 .--> C45 ) ) = { R4 } by FUNCOP_1:13;
L306: R4 in { R4 } by TARSKI:def 1;
L307: ( D21 . R4 ) = ( ( R4 .--> C45 ) . R4 ) by L306 , L305 , FUNCT_4:13
.= C45 by FUNCOP_1:72;
L308: D21 in C41
proof
let C46 being set;
assume that
L309: C46 in R1;
L310:
now
per cases ;
case L311: C46 = R4;
thus L312: thesis by L311 , L302 , L307;
end;
case L313: C46 <> R4;
L314: (not C46 in ( dom ( R4 .--> C45 ) )) by L313 , L305 , TARSKI:def 1;
L315: ( D21 . C46 ) = ( C42 . C46 ) by L314 , FUNCT_4:11;
thus L316: thesis by L315 , L299 , L309 , PBOOLE:def 1;
end;
end;
thus L318: thesis by L310;
end;
set D22 = ( C43 +* ( R4 .--> C44 ) );
L319: ( dom D22 ) = R1 by L297 , PZFMISC1:1;
reconsider D23 = D22 as (ManySortedSet of R1) by L319 , PARTFUN1:def 2 , RELAT_1:def 18;
assume L320: (not C44 c= C45);
L321: R4 in { R4 } by TARSKI:def 1;
L322: ( D23 . R4 ) = ( ( R4 .--> C44 ) . R4 ) by L321 , L303 , FUNCT_4:13
.= C44 by FUNCOP_1:72;
L323: D23 in C41
proof
let C47 being set;
assume that
L324: C47 in R1;
L325:
now
per cases ;
case L326: C47 = R4;
thus L327: thesis by L326 , L301 , L322;
end;
case L328: C47 <> R4;
L329: (not C47 in ( dom ( R4 .--> C44 ) )) by L328 , L303 , TARSKI:def 1;
L330: ( D23 . C47 ) = ( C43 . C47 ) by L329 , FUNCT_4:11;
thus L331: thesis by L330 , L300 , L324 , PBOOLE:def 1;
end;
end;
thus L333: thesis by L325;
end;
L334: (D23 c= D21 or D21 c= D23) by L323 , L295 , L308;
thus L335: thesis by L334 , L297 , L320 , L322 , L307 , PBOOLE:def 2;
end;
consider C48 being set such that L336: (C48 in ( C41 . R4 ) & (for B50 being set holds (B50 in ( C41 . R4 ) implies C48 c= B50))) by L298 , L297 , FINSET_1:11;
take C48;
thus L337: thesis by L336;
end;
consider C49 being (ManySortedSet of R1) such that L338: (for R4 being set holds (R4 in R1 implies S6[ R4 , ( C49 . R4 ) ])) from PBOOLE:sch 3(L296);
take C49;
thus L339: C49 in C41
proof
let R4 being set;
assume L340: R4 in R1;
thus L341: thesis by L340 , L338;
end;

thus L342: (for B51 being (ManySortedSet of R1) holds (B51 in C41 implies C49 c= B51))
proof
let C50 being (ManySortedSet of R1);
assume that
L343: C50 in C41;
let R4 being set;
assume L344: R4 in R1;
L345: ( C50 . R4 ) in ( C41 . R4 ) by L344 , L343 , PBOOLE:def 1;
thus L346: thesis by L345 , L338 , L344;
end;

end;
theorem
L343: (for R1 being set holds (for B52 being  non-empty  finite-yielding (ManySortedSet of R1) holds ((for B53 , B54 being (ManySortedSet of R1) holds ((B53 in B52 & B54 in B52) implies (B53 c= B54 or B54 c= B53))) implies (ex B55 being (ManySortedSet of R1) st (B55 in B52 & (for B56 being (ManySortedSet of R1) holds (B56 in B52 implies B56 c= B55)))))))
proof
let R1 being set;
let C51 being  non-empty  finite-yielding (ManySortedSet of R1);
assume that
L344: (for B57 , B58 being (ManySortedSet of R1) holds ((B57 in C51 & B58 in C51) implies (B57 c= B58 or B58 c= B57)));
defpred S7[ set , set ] means ($2 in ( C51 . $1 ) & (for B59 being set holds (B59 in ( C51 . $1 ) implies B59 c= $2)));
L345: (for R4 being set holds (R4 in R1 implies (ex B60 being set st S7[ R4 , B60 ])))
proof
let R4 being set;
assume L346: R4 in R1;
L347: ( C51 . R4 ) is  c=-linear
proof
consider C52 being (ManySortedSet of R1) such that L348: C52 in C51 by PBOOLE:134;
consider C53 being (ManySortedSet of R1) such that L349: C53 in C51 by PBOOLE:134;
let C54 , C55 being set;
assume that
L350: C54 in ( C51 . R4 )
and
L351: C55 in ( C51 . R4 );
L352: ( dom ( R4 .--> C54 ) ) = { R4 } by FUNCOP_1:13;
set D24 = ( C52 +* ( R4 .--> C55 ) );
L353: ( dom D24 ) = R1 by L346 , PZFMISC1:1;
reconsider D25 = D24 as (ManySortedSet of R1) by L353 , PARTFUN1:def 2 , RELAT_1:def 18;
L354: ( dom ( R4 .--> C55 ) ) = { R4 } by FUNCOP_1:13;
L355: R4 in { R4 } by TARSKI:def 1;
L356: ( D25 . R4 ) = ( ( R4 .--> C55 ) . R4 ) by L355 , L354 , FUNCT_4:13
.= C55 by FUNCOP_1:72;
L357: D25 in C51
proof
let C56 being set;
assume that
L358: C56 in R1;
L359:
now
per cases ;
case L360: C56 = R4;
thus L361: thesis by L360 , L351 , L356;
end;
case L362: C56 <> R4;
L363: (not C56 in ( dom ( R4 .--> C55 ) )) by L362 , L354 , TARSKI:def 1;
L364: ( D25 . C56 ) = ( C52 . C56 ) by L363 , FUNCT_4:11;
thus L365: thesis by L364 , L348 , L358 , PBOOLE:def 1;
end;
end;
thus L367: thesis by L359;
end;
set D26 = ( C53 +* ( R4 .--> C54 ) );
L368: ( dom D26 ) = R1 by L346 , PZFMISC1:1;
reconsider D27 = D26 as (ManySortedSet of R1) by L368 , PARTFUN1:def 2 , RELAT_1:def 18;
assume L369: (not C54 c= C55);
L370: R4 in { R4 } by TARSKI:def 1;
L371: ( D27 . R4 ) = ( ( R4 .--> C54 ) . R4 ) by L370 , L352 , FUNCT_4:13
.= C54 by FUNCOP_1:72;
L372: D27 in C51
proof
let C57 being set;
assume that
L373: C57 in R1;
L374:
now
per cases ;
case L375: C57 = R4;
thus L376: thesis by L375 , L350 , L371;
end;
case L377: C57 <> R4;
L378: (not C57 in ( dom ( R4 .--> C54 ) )) by L377 , L352 , TARSKI:def 1;
L379: ( D27 . C57 ) = ( C53 . C57 ) by L378 , FUNCT_4:11;
thus L380: thesis by L379 , L349 , L373 , PBOOLE:def 1;
end;
end;
thus L382: thesis by L374;
end;
L383: (D27 c= D25 or D25 c= D27) by L372 , L344 , L357;
thus L384: thesis by L383 , L346 , L369 , L371 , L356 , PBOOLE:def 2;
end;
consider C58 being set such that L385: (C58 in ( C51 . R4 ) & (for B61 being set holds (B61 in ( C51 . R4 ) implies B61 c= C58))) by L347 , L346 , FINSET_1:12;
take C58;
thus L386: thesis by L385;
end;
consider C59 being (ManySortedSet of R1) such that L387: (for R4 being set holds (R4 in R1 implies S7[ R4 , ( C59 . R4 ) ])) from PBOOLE:sch 3(L345);
take C59;
thus L388: C59 in C51
proof
let R4 being set;
assume L389: R4 in R1;
thus L390: thesis by L389 , L387;
end;

thus L391: (for B62 being (ManySortedSet of R1) holds (B62 in C51 implies B62 c= C59))
proof
let C60 being (ManySortedSet of R1);
assume that
L392: C60 in C51;
let R4 being set;
assume L393: R4 in R1;
L394: ( C60 . R4 ) in ( C51 . R4 ) by L393 , L392 , PBOOLE:def 1;
thus L395: thesis by L394 , L387 , L393;
end;

end;
theorem
L392: (for R1 being set holds (for R14 being (ManySortedFunction of R1) holds (for R17 being (ManySortedSet of R1) holds ((R17 is  finite-yielding & R17 c= ( rngs R14 )) implies (ex R16 being (ManySortedSet of R1) st (R16 c= ( doms R14 ) & R16 is  finite-yielding & ( R14 .:.: R16 ) = R17))))))
proof
let R1 being set;
let R14 being (ManySortedFunction of R1);
let R17 being (ManySortedSet of R1);
assume that
L393: R17 is  finite-yielding
and
L394: R17 c= ( rngs R14 );
defpred S8[ set , set ] means (ex B63 being Function st (B63 = ( R14 . $1 ) & $2 c= ( ( doms R14 ) . $1 ) & $2 is  finite & ( B63 .: $2 ) = ( R17 . $1 )));
L395: (for R4 being set holds (R4 in R1 implies (ex B64 being set st S8[ R4 , B64 ])))
proof
let R4 being set;
reconsider D28 = ( R14 . R4 ) as Function;
assume L396: R4 in R1;
L397: ( rng D28 ) = ( ( rngs R14 ) . R4 ) by L396 , L98;
L398: ( R17 . R4 ) c= ( rng D28 ) by L397 , L394 , L396 , PBOOLE:def 2;
L399: ( R17 . R4 ) is  finite by L393;
consider C61 being set such that L400: (C61 c= ( dom D28 ) & C61 is  finite & ( D28 .: C61 ) = ( R17 . R4 )) by L399 , L398 , ORDERS_1:85;
take C61;
take D28;
thus L401: D28 = ( R14 . R4 );
thus L402: thesis by L396 , L400 , L102;
end;
consider C62 being (ManySortedSet of R1) such that L403: (for R4 being set holds (R4 in R1 implies S8[ R4 , ( C62 . R4 ) ])) from PBOOLE:sch 3(L395);
take C62;
thus L404: C62 c= ( doms R14 )
proof
let R4 being set;
assume L405: R4 in R1;
L406: (ex B65 being Function st (B65 = ( R14 . R4 ) & ( C62 . R4 ) c= ( ( doms R14 ) . R4 ) & ( C62 . R4 ) is  finite & ( B65 .: ( C62 . R4 ) ) = ( R17 . R4 ))) by L405 , L403;
thus L407: thesis by L406;
end;

thus L408: C62 is  finite-yielding
proof
let R4 being set;
assume L409: R4 in R1;
L410: (ex B66 being Function st (B66 = ( R14 . R4 ) & ( C62 . R4 ) c= ( ( doms R14 ) . R4 ) & ( C62 . R4 ) is  finite & ( B66 .: ( C62 . R4 ) ) = ( R17 . R4 ))) by L409 , L403;
thus L411: thesis by L410;
end;

L412:
now
let R4 being set;
assume L413: R4 in R1;
L414: (ex B67 being Function st (B67 = ( R14 . R4 ) & ( C62 . R4 ) c= ( ( doms R14 ) . R4 ) & ( C62 . R4 ) is  finite & ( B67 .: ( C62 . R4 ) ) = ( R17 . R4 ))) by L413 , L403;
thus L415: ( ( R14 .:.: C62 ) . R4 ) = ( R17 . R4 ) by L414 , L413 , PBOOLE:def 20;
end;
thus L416: thesis by L412 , PBOOLE:3;
end;
begin
definition
let R1 being set;
let R8 being (ManySortedSet of R1);
mode MSSubsetFamily of R8
 is (ManySortedSubset of ( bool R8 ));
end;
registration
let R1 being set;
let R8 being (ManySortedSet of R1);
cluster  non-empty for (MSSubsetFamily of R8);
existence
proof
L418: ( bool R8 ) is (ManySortedSubset of ( bool R8 )) by PBOOLE:def 18;
thus L419: thesis by L418;
end;
end;
definition
let R1 being set;
let R8 being (ManySortedSet of R1);
redefine func bool R8 -> (MSSubsetFamily of R8);

coherence by PBOOLE:def 18;
end;
registration
let R1 being set;
let R8 being (ManySortedSet of R1);
cluster  empty-yielding  finite-yielding for (MSSubsetFamily of R8);
existence
proof
L422: ( [[0]] R1 ) c= ( bool R8 ) by PBOOLE:43;
L423: ( [[0]] R1 ) is (ManySortedSubset of ( bool R8 )) by L422 , PBOOLE:def 18;
thus L424: thesis by L423;
end;
end;
theorem
L426: (for R1 being set holds (for R8 being (ManySortedSet of R1) holds ( [[0]] R1 ) is  empty-yielding  finite-yielding  empty-yielding  finite-yielding  empty-yielding  finite-yielding  empty-yielding  finite-yielding (MSSubsetFamily of R8)))
proof
let R1 being set;
let R8 being (ManySortedSet of R1);
L427: ( [[0]] R1 ) c= ( bool R8 ) by PBOOLE:43;
thus L428: thesis by L427 , PBOOLE:def 18;
end;
registration
let R1 being set;
let C63 being  finite-yielding (ManySortedSet of R1);
cluster  non-empty  finite-yielding for (MSSubsetFamily of C63);
existence
proof
L429: ( bool C63 ) is (MSSubsetFamily of C63);
thus L430: thesis by L429;
end;
end;
definition
let C64 being non  empty set;
let C65 being (ManySortedSet of C64);
let C66 being (MSSubsetFamily of C65);
let C67 being (Element of C64);
redefine func C66 . C67 -> (Subset-Family of ( C65 . C67 ));

coherence
proof
L432: C66 c= ( bool C65 ) by PBOOLE:def 18;
L433: ( C66 . C67 ) c= ( ( bool C65 ) . C67 ) by L432 , PBOOLE:def 2;
thus L434: thesis by L433 , MBOOLEAN:def 1;
end;
end;
theorem
L436: (for R1 being set holds (for R4 being set holds (for R8 being (ManySortedSet of R1) holds (for R18 being (MSSubsetFamily of R8) holds (R4 in R1 implies ( R18 . R4 ) is (Subset-Family of ( R8 . R4 )))))))
proof
let R1 being set;
let R4 being set;
let R8 being (ManySortedSet of R1);
let R18 being (MSSubsetFamily of R8);
assume L437: R4 in R1;
L438: R18 c= ( bool R8 ) by PBOOLE:def 18;
L439: ( R18 . R4 ) c= ( ( bool R8 ) . R4 ) by L438 , L437 , PBOOLE:def 2;
thus L440: thesis by L439 , L437 , MBOOLEAN:def 1;
end;
theorem
L441: (for R1 being set holds (for R6 being (ManySortedSet of R1) holds (for R8 being (ManySortedSet of R1) holds (for R18 being (MSSubsetFamily of R8) holds (R6 in R18 implies R6 is (ManySortedSubset of R8))))))
proof
let R1 being set;
let R6 being (ManySortedSet of R1);
let R8 being (ManySortedSet of R1);
let R18 being (MSSubsetFamily of R8);
L442: R18 c= ( bool R8 ) by PBOOLE:def 18;
assume L443: R6 in R18;
L444: R6 in ( bool R8 ) by L443 , L442 , PBOOLE:9;
L445: R6 c= R8 by L444 , MBOOLEAN:18;
thus L446: thesis by L445 , PBOOLE:def 18;
end;
theorem
L447: (for R1 being set holds (for R8 being (ManySortedSet of R1) holds (for R18 being (MSSubsetFamily of R8) holds (for R19 being (MSSubsetFamily of R8) holds ( R18 \/ R19 ) is (MSSubsetFamily of R8)))))
proof
let R1 being set;
let R8 being (ManySortedSet of R1);
let R18 being (MSSubsetFamily of R8);
let R19 being (MSSubsetFamily of R8);
L448: (R18 c= ( bool R8 ) & R19 c= ( bool R8 )) by PBOOLE:def 18;
L449: ( R18 \/ R19 ) c= ( bool R8 ) by L448 , PBOOLE:16;
thus L450: thesis by L449 , PBOOLE:def 18;
end;
theorem
L451: (for R1 being set holds (for R8 being (ManySortedSet of R1) holds (for R18 being (MSSubsetFamily of R8) holds (for R19 being (MSSubsetFamily of R8) holds ( R18 /\ R19 ) is (MSSubsetFamily of R8)))))
proof
let R1 being set;
let R8 being (ManySortedSet of R1);
let R18 being (MSSubsetFamily of R8);
let R19 being (MSSubsetFamily of R8);
L452: (R18 c= ( bool R8 ) & R19 c= ( bool R8 )) by PBOOLE:def 18;
L453: ( R18 /\ R19 ) c= ( ( bool R8 ) /\ ( bool R8 ) ) by L452 , PBOOLE:21;
thus L454: thesis by L453 , PBOOLE:def 18;
end;
theorem
L455: (for R1 being set holds (for R6 being (ManySortedSet of R1) holds (for R8 being (ManySortedSet of R1) holds (for R18 being (MSSubsetFamily of R8) holds ( R18 \ R6 ) is (MSSubsetFamily of R8)))))
proof
let R1 being set;
let R6 being (ManySortedSet of R1);
let R8 being (ManySortedSet of R1);
let R18 being (MSSubsetFamily of R8);
L456: R18 c= ( bool R8 ) by PBOOLE:def 18;
L457: ( R18 \ R6 ) c= ( ( bool R8 ) \ R6 ) by L456 , PBOOLE:53;
L458: ( ( bool R8 ) \ R6 ) c= ( bool R8 ) by PBOOLE:56;
L459: ( R18 \ R6 ) c= ( bool R8 ) by L458 , L457 , PBOOLE:13;
thus L460: thesis by L459 , PBOOLE:def 18;
end;
theorem
L461: (for R1 being set holds (for R8 being (ManySortedSet of R1) holds (for R18 being (MSSubsetFamily of R8) holds (for R19 being (MSSubsetFamily of R8) holds ( R18 \+\ R19 ) is (MSSubsetFamily of R8)))))
proof
let R1 being set;
let R8 being (ManySortedSet of R1);
let R18 being (MSSubsetFamily of R8);
let R19 being (MSSubsetFamily of R8);
L462: (( R18 \ R19 ) is (MSSubsetFamily of R8) & ( R19 \ R18 ) is (MSSubsetFamily of R8)) by L455;
thus L463: thesis by L462 , L447;
end;
theorem
L464: (for R1 being set holds (for R6 being (ManySortedSet of R1) holds (for R8 being (ManySortedSet of R1) holds (R6 c= R8 implies { R6 } is (MSSubsetFamily of R8)))))
proof
let R1 being set;
let R6 being (ManySortedSet of R1);
let R8 being (ManySortedSet of R1);
assume L465: R6 c= R8;
L466: R6 in ( bool R8 ) by L465 , MBOOLEAN:18;
L467: { R6 } c= ( bool R8 ) by L466 , PZFMISC1:33;
thus L468: thesis by L467 , PBOOLE:def 18;
end;
theorem
L469: (for R1 being set holds (for R6 being (ManySortedSet of R1) holds (for R7 being (ManySortedSet of R1) holds (for R8 being (ManySortedSet of R1) holds ((R6 c= R8 & R7 c= R8) implies { R6 , R7 } is (MSSubsetFamily of R8))))))
proof
let R1 being set;
let R6 being (ManySortedSet of R1);
let R7 being (ManySortedSet of R1);
let R8 being (ManySortedSet of R1);
assume L470: (R6 c= R8 & R7 c= R8);
L471: ({ R6 } is (MSSubsetFamily of R8) & { R7 } is (MSSubsetFamily of R8)) by L470 , L464;
L472: ( { R6 } \/ { R7 } ) is (MSSubsetFamily of R8) by L471 , L447;
thus L473: thesis by L472 , PZFMISC1:10;
end;
theorem
L474: (for R1 being set holds (for R8 being (ManySortedSet of R1) holds (for R18 being (MSSubsetFamily of R8) holds ( union R18 ) c= R8)))
proof
let R1 being set;
let R8 being (ManySortedSet of R1);
let R18 being (MSSubsetFamily of R8);
L475: (for R5 being set holds (for B68 being (Subset-Family of R5) holds ( union B68 ) is (Subset of R5)));
let R4 being set;
assume that
L476: R4 in R1;
L477: ( R18 . R4 ) is (Subset-Family of ( R8 . R4 )) by L476 , L436;
L478: ( union ( R18 . R4 ) ) is (Subset of ( R8 . R4 )) by L477 , L475;
L479: ( union ( R18 . R4 ) ) c= ( R8 . R4 ) by L478;
thus L480: thesis by L479 , L476 , MBOOLEAN:def 2;
end;
begin
definition
let R1 being set;
let R8 being (ManySortedSet of R1);
let R18 being (MSSubsetFamily of R8);
func meet R18 -> (ManySortedSet of R1) means 
:L481: (for B69 being set holds (B69 in R1 implies (ex B70 being (Subset-Family of ( R8 . B69 )) st (B70 = ( R18 . B69 ) & ( it . B69 ) = ( Intersect B70 )))));
existence
proof
defpred S9[ set , set ] means (ex B71 being (Subset-Family of ( R8 . $1 )) st (B71 = ( R18 . $1 ) & $2 = ( Intersect B71 )));
L482: (for R4 being set holds (R4 in R1 implies (ex B72 being set st S9[ R4 , B72 ])))
proof
let R4 being set;
assume L483: R4 in R1;
reconsider D29 = ( R18 . R4 ) as (Subset-Family of ( R8 . R4 )) by L483 , L436;
reconsider D30 = ( R1 --> ( Intersect D29 ) ) as (ManySortedSet of R1);
take ( D30 . R4 );
take D29;
thus L484: thesis by L483 , FUNCOP_1:7;
end;
L485: (ex B73 being (ManySortedSet of R1) st (for B74 being set holds (B74 in R1 implies S9[ B74 , ( B73 . B74 ) ]))) from PBOOLE:sch 3(L482);
thus L486: thesis by L485;
end;
uniqueness
proof
let C68 , C69 being (ManySortedSet of R1);
assume that
L487: ((for R4 being set holds (R4 in R1 implies (ex B75 being (Subset-Family of ( R8 . R4 )) st (B75 = ( R18 . R4 ) & ( C68 . R4 ) = ( Intersect B75 ))))) & (for R4 being set holds (R4 in R1 implies (ex B76 being (Subset-Family of ( R8 . R4 )) st (B76 = ( R18 . R4 ) & ( C69 . R4 ) = ( Intersect B76 ))))));
L488:
now
let C70 being set;
assume L489: C70 in R1;
L490: ((ex B77 being (Subset-Family of ( R8 . C70 )) st (B77 = ( R18 . C70 ) & ( C68 . C70 ) = ( Intersect B77 ))) & (ex B78 being (Subset-Family of ( R8 . C70 )) st (B78 = ( R18 . C70 ) & ( C69 . C70 ) = ( Intersect B78 )))) by L489 , L487;
thus L491: ( C68 . C70 ) = ( C69 . C70 ) by L490;
end;
thus L492: C68 = C69 by L488 , PBOOLE:3;
end;
end;
definition
let R1 being set;
let R8 being (ManySortedSet of R1);
let R18 being (MSSubsetFamily of R8);
redefine func meet R18 -> (ManySortedSubset of R8);

coherence
proof
let R4 being set;
assume L494: R4 in R1;
L495: (ex B79 being (Subset-Family of ( R8 . R4 )) st (B79 = ( R18 . R4 ) & ( ( meet R18 ) . R4 ) = ( Intersect B79 ))) by L494 , L481;
thus L496: thesis by L495;
end;
end;
theorem
L498: (for R1 being set holds (for R8 being (ManySortedSet of R1) holds (for R18 being (MSSubsetFamily of R8) holds (R18 = ( [[0]] R1 ) implies ( meet R18 ) = R8))))
proof
let R1 being set;
let R8 being (ManySortedSet of R1);
let R18 being (MSSubsetFamily of R8);
assume L499: R18 = ( [[0]] R1 );
L500:
now
let R4 being set;
assume L501: R4 in R1;
consider C71 being (Subset-Family of ( R8 . R4 )) such that L502: C71 = ( R18 . R4 ) and L503: ( ( meet R18 ) . R4 ) = ( Intersect C71 ) by L501 , L481;
L504: C71 = ( {} ) by L499 , L502;
thus L505: ( ( meet R18 ) . R4 ) = ( R8 . R4 ) by L504 , L503 , SETFAM_1:def 9;
end;
thus L506: thesis by L500 , PBOOLE:3;
end;
theorem
L507: (for R1 being set holds (for R8 being (ManySortedSet of R1) holds (for R21 being  non-empty (MSSubsetFamily of R8) holds ( meet R21 ) c= ( union R21 ))))
proof
let R1 being set;
let R8 being (ManySortedSet of R1);
let R21 being  non-empty (MSSubsetFamily of R8);
let R4 being set;
assume L508: R4 in R1;
consider C72 being (Subset-Family of ( R8 . R4 )) such that L509: C72 = ( R21 . R4 ) and L510: ( ( meet R21 ) . R4 ) = ( Intersect C72 ) by L508 , L481;
L511: (( meet C72 ) c= ( union C72 ) & ( Intersect C72 ) = ( meet C72 )) by L508 , L509 , SETFAM_1:2 , SETFAM_1:def 9;
thus L512: thesis by L511 , L508 , L509 , L510 , MBOOLEAN:def 2;
end;
theorem
L513: (for R1 being set holds (for R6 being (ManySortedSet of R1) holds (for R8 being (ManySortedSet of R1) holds (for R18 being (MSSubsetFamily of R8) holds (R6 in R18 implies ( meet R18 ) c= R6)))))
proof
let R1 being set;
let R6 being (ManySortedSet of R1);
let R8 being (ManySortedSet of R1);
let R18 being (MSSubsetFamily of R8);
assume L514: R6 in R18;
let R4 being set;
assume L515: R4 in R1;
consider C73 being (Subset-Family of ( R8 . R4 )) such that L516: C73 = ( R18 . R4 ) and L517: ( ( meet R18 ) . R4 ) = ( Intersect C73 ) by L515 , L481;
L518: ( R6 . R4 ) in ( R18 . R4 ) by L514 , L515 , PBOOLE:def 1;
L519: ( Intersect C73 ) = ( meet C73 ) by L518 , L516 , SETFAM_1:def 9;
thus L520: thesis by L519 , L516 , L517 , L518 , SETFAM_1:3;
end;
theorem
L521: (for R1 being set holds (for R8 being (ManySortedSet of R1) holds (for R18 being (MSSubsetFamily of R8) holds (( [[0]] R1 ) in R18 implies ( meet R18 ) = ( [[0]] R1 )))))
proof
let R1 being set;
let R8 being (ManySortedSet of R1);
let R18 being (MSSubsetFamily of R8);
assume L522: ( [[0]] R1 ) in R18;
L523:
now
let R4 being set;
assume L524: R4 in R1;
consider C74 being (Subset-Family of ( R8 . R4 )) such that L525: C74 = ( R18 . R4 ) and L526: ( ( meet R18 ) . R4 ) = ( Intersect C74 ) by L524 , L481;
L527: ( ( [[0]] R1 ) . R4 ) in C74 by L522 , L524 , L525 , PBOOLE:def 1;
L528: ( {} ) in C74 by L527;
L529: ( ( [[0]] R1 ) . R4 ) in ( R18 . R4 ) by L522 , L524 , PBOOLE:def 1;
L530: ( Intersect C74 ) = ( meet C74 ) by L529 , L525 , SETFAM_1:def 9;
L531: ( Intersect C74 ) = ( {} ) by L530 , L528 , SETFAM_1:4;
thus L532: ( ( meet R18 ) . R4 ) = ( ( [[0]] R1 ) . R4 ) by L531 , L526;
end;
thus L533: thesis by L523 , PBOOLE:3;
end;
theorem
L534: (for R1 being set holds (for B80 , B81 being (ManySortedSet of R1) holds (for B82 being  non-empty (MSSubsetFamily of B81) holds ((for B83 being (ManySortedSet of R1) holds (B83 in B82 implies B80 c= B83)) implies B80 c= ( meet B82 )))))
proof
let R1 being set;
let C75 , C76 being (ManySortedSet of R1);
let C77 being  non-empty (MSSubsetFamily of C76);
assume that
L535: (for B84 being (ManySortedSet of R1) holds (B84 in C77 implies C75 c= B84));
let R4 being set;
consider C78 being (ManySortedSet of R1) such that L536: C78 in C77 by PBOOLE:134;
assume L537: R4 in R1;
consider C79 being (Subset-Family of ( C76 . R4 )) such that L538: C79 = ( C77 . R4 ) and L539: ( ( meet C77 ) . R4 ) = ( Intersect C79 ) by L537 , L481;
L540: (for B85 being set holds (B85 in C79 implies ( C75 . R4 ) c= B85))
proof
let C80 being set;
assume that
L541: C80 in C79;
L542: ( dom ( C78 +* ( R4 .--> C80 ) ) ) = R1 by L537 , PZFMISC1:1;
reconsider D31 = ( C78 +* ( R4 .--> C80 ) ) as (ManySortedSet of R1) by L542 , PARTFUN1:def 2 , RELAT_1:def 18;
L543: ( dom ( R4 .--> C80 ) ) = { R4 } by FUNCOP_1:13;
L544: R4 in { R4 } by TARSKI:def 1;
L545: ( D31 . R4 ) = ( ( R4 .--> C80 ) . R4 ) by L544 , L543 , FUNCT_4:13
.= C80 by FUNCOP_1:72;
L546: D31 in C77
proof
let C81 being set;
assume that
L547: C81 in R1;
per cases ;
suppose L548: C81 = R4;

thus L549: thesis by L548 , L538 , L541 , L545;
end;
suppose L550: C81 <> R4;

L551: (not C81 in ( dom ( R4 .--> C80 ) )) by L550 , L543 , TARSKI:def 1;
L552: ( D31 . C81 ) = ( C78 . C81 ) by L551 , FUNCT_4:11;
thus L553: thesis by L552 , L536 , L547 , PBOOLE:def 1;
end;
end;
L555: C75 c= D31 by L546 , L535;
thus L556: thesis by L555 , L537 , L545 , PBOOLE:def 2;
end;
L557: ( Intersect C79 ) = ( meet C79 ) by L537 , L538 , SETFAM_1:def 9;
thus L558: thesis by L557 , L537 , L538 , L539 , L540 , SETFAM_1:5;
end;
theorem
L559: (for R1 being set holds (for R8 being (ManySortedSet of R1) holds (for R18 being (MSSubsetFamily of R8) holds (for R19 being (MSSubsetFamily of R8) holds (R18 c= R19 implies ( meet R19 ) c= ( meet R18 ))))))
proof
let R1 being set;
let R8 being (ManySortedSet of R1);
let R18 being (MSSubsetFamily of R8);
let R19 being (MSSubsetFamily of R8);
assume L560: R18 c= R19;
let R4 being set;
assume L561: R4 in R1;
consider C82 being (Subset-Family of ( R8 . R4 )) such that L562: C82 = ( R18 . R4 ) and L563: ( ( meet R18 ) . R4 ) = ( Intersect C82 ) by L561 , L481;
consider C83 being (Subset-Family of ( R8 . R4 )) such that L564: C83 = ( R19 . R4 ) and L565: ( ( meet R19 ) . R4 ) = ( Intersect C83 ) by L561 , L481;
L566: C82 c= C83 by L560 , L561 , L562 , L564 , PBOOLE:def 2;
thus L567: thesis by L566 , L563 , L565 , SETFAM_1:44;
end;
theorem
L568: (for R1 being set holds (for R6 being (ManySortedSet of R1) holds (for R7 being (ManySortedSet of R1) holds (for R8 being (ManySortedSet of R1) holds (for R18 being (MSSubsetFamily of R8) holds ((R6 in R18 & R6 c= R7) implies ( meet R18 ) c= R7))))))
proof
let R1 being set;
let R6 being (ManySortedSet of R1);
let R7 being (ManySortedSet of R1);
let R8 being (ManySortedSet of R1);
let R18 being (MSSubsetFamily of R8);
assume that
L569: R6 in R18
and
L570: R6 c= R7;
let R4 being set;
assume L571: R4 in R1;
L572: ( R6 . R4 ) c= ( R7 . R4 ) by L571 , L570 , PBOOLE:def 2;
consider C84 being (Subset-Family of ( R8 . R4 )) such that L573: C84 = ( R18 . R4 ) and L574: ( ( meet R18 ) . R4 ) = ( Intersect C84 ) by L571 , L481;
L575: ( R6 . R4 ) in ( R18 . R4 ) by L569 , L571 , PBOOLE:def 1;
L576: ( Intersect C84 ) = ( meet C84 ) by L575 , L573 , SETFAM_1:def 9;
thus L577: thesis by L576 , L573 , L574 , L575 , L572 , SETFAM_1:7;
end;
theorem
L578: (for R1 being set holds (for R6 being (ManySortedSet of R1) holds (for R7 being (ManySortedSet of R1) holds (for R8 being (ManySortedSet of R1) holds (for R18 being (MSSubsetFamily of R8) holds ((R6 in R18 & ( R6 /\ R7 ) = ( [[0]] R1 )) implies ( ( meet R18 ) /\ R7 ) = ( [[0]] R1 )))))))
proof
let R1 being set;
let R6 being (ManySortedSet of R1);
let R7 being (ManySortedSet of R1);
let R8 being (ManySortedSet of R1);
let R18 being (MSSubsetFamily of R8);
assume that
L579: R6 in R18
and
L580: ( R6 /\ R7 ) = ( [[0]] R1 );
L581:
now
let R4 being set;
assume L582: R4 in R1;
consider C85 being (Subset-Family of ( R8 . R4 )) such that L583: C85 = ( R18 . R4 ) and L584: ( ( meet R18 ) . R4 ) = ( Intersect C85 ) by L582 , L481;
L585: ( R6 . R4 ) in ( R18 . R4 ) by L579 , L582 , PBOOLE:def 1;
L586: ( ( R6 . R4 ) /\ ( R7 . R4 ) ) = ( ( [[0]] R1 ) . R4 ) by L580 , L582 , PBOOLE:def 5;
L587: ( ( R6 . R4 ) /\ ( R7 . R4 ) ) = ( {} ) by L586;
L588: ( R6 . R4 ) misses ( R7 . R4 ) by L587 , XBOOLE_0:def 7;
L589: ( meet C85 ) misses ( R7 . R4 ) by L588 , L583 , L585 , SETFAM_1:8;
L590: ( ( meet C85 ) /\ ( R7 . R4 ) ) = ( {} ) by L589 , XBOOLE_0:def 7;
L591: ( ( meet C85 ) /\ ( R7 . R4 ) ) = ( ( [[0]] R1 ) . R4 ) by L590;
L592: ( Intersect C85 ) = ( meet C85 ) by L583 , L585 , SETFAM_1:def 9;
thus L593: ( ( ( meet R18 ) /\ R7 ) . R4 ) = ( ( [[0]] R1 ) . R4 ) by L592 , L582 , L584 , L591 , PBOOLE:def 5;
end;
thus L594: thesis by L581 , PBOOLE:3;
end;
theorem
L595: (for R1 being set holds (for R8 being (ManySortedSet of R1) holds (for R18 being (MSSubsetFamily of R8) holds (for R19 being (MSSubsetFamily of R8) holds (for R20 being (MSSubsetFamily of R8) holds (R20 = ( R18 \/ R19 ) implies ( meet R20 ) = ( ( meet R18 ) /\ ( meet R19 ) )))))))
proof
let R1 being set;
let R8 being (ManySortedSet of R1);
let R18 being (MSSubsetFamily of R8);
let R19 being (MSSubsetFamily of R8);
let R20 being (MSSubsetFamily of R8);
assume L596: R20 = ( R18 \/ R19 );
L597:
now
let R4 being set;
assume L598: R4 in R1;
consider C86 being (Subset-Family of ( R8 . R4 )) such that L599: C86 = ( R18 . R4 ) and L600: ( ( meet R18 ) . R4 ) = ( Intersect C86 ) by L598 , L481;
consider C87 being (Subset-Family of ( R8 . R4 )) such that L601: C87 = ( R20 . R4 ) and L602: ( ( meet R20 ) . R4 ) = ( Intersect C87 ) by L598 , L481;
consider C88 being (Subset-Family of ( R8 . R4 )) such that L603: C88 = ( R19 . R4 ) and L604: ( ( meet R19 ) . R4 ) = ( Intersect C88 ) by L598 , L481;
L605: C87 = ( C86 \/ C88 ) by L596 , L598 , L599 , L603 , L601 , PBOOLE:def 4;
L606:
now
per cases ;
case L607: (C86 <> ( {} ) & C88 <> ( {} ));
thus L608: ( ( meet R20 ) . R4 ) = ( meet C87 ) by L607 , L602 , L605 , SETFAM_1:def 9
.= ( ( meet C86 ) /\ ( meet C88 ) ) by L605 , L607 , SETFAM_1:9
.= ( ( ( meet R18 ) . R4 ) /\ ( meet C88 ) ) by L600 , L607 , SETFAM_1:def 9
.= ( ( ( meet R18 ) . R4 ) /\ ( ( meet R19 ) . R4 ) ) by L604 , L607 , SETFAM_1:def 9
.= ( ( ( meet R18 ) /\ ( meet R19 ) ) . R4 ) by L598 , PBOOLE:def 5;
end;
case L609: (C86 <> ( {} ) & C88 = ( {} ));
thus L610: ( ( meet R20 ) . R4 ) = ( ( ( meet R18 ) . R4 ) /\ ( R8 . R4 ) ) by L609 , L600 , L602 , L605 , XBOOLE_1:28
.= ( ( ( meet R18 ) . R4 ) /\ ( ( meet R19 ) . R4 ) ) by L604 , L609 , SETFAM_1:def 9
.= ( ( ( meet R18 ) /\ ( meet R19 ) ) . R4 ) by L598 , PBOOLE:def 5;
end;
case L611: (C86 = ( {} ) & C88 <> ( {} ));
thus L612: ( ( meet R20 ) . R4 ) = ( ( R8 . R4 ) /\ ( ( meet R19 ) . R4 ) ) by L611 , L604 , L602 , L605 , XBOOLE_1:28
.= ( ( ( meet R18 ) . R4 ) /\ ( ( meet R19 ) . R4 ) ) by L600 , L611 , SETFAM_1:def 9
.= ( ( ( meet R18 ) /\ ( meet R19 ) ) . R4 ) by L598 , PBOOLE:def 5;
end;
case L613: (C86 = ( {} ) & C88 = ( {} ));
thus L614: ( ( meet R20 ) . R4 ) = ( ( Intersect C86 ) /\ ( Intersect C88 ) ) by L613 , L602 , L605
.= ( ( ( meet R18 ) /\ ( meet R19 ) ) . R4 ) by L598 , L600 , L604 , PBOOLE:def 5;
end;
end;
thus L616: ( ( meet R20 ) . R4 ) = ( ( ( meet R18 ) /\ ( meet R19 ) ) . R4 ) by L606;
end;
thus L617: thesis by L597 , PBOOLE:3;
end;
theorem
L618: (for R1 being set holds (for R8 being (ManySortedSet of R1) holds (for R18 being (MSSubsetFamily of R8) holds (for R22 being (ManySortedSubset of R8) holds (R18 = { R22 } implies ( meet R18 ) = R22)))))
proof
let R1 being set;
let R8 being (ManySortedSet of R1);
let R18 being (MSSubsetFamily of R8);
let R22 being (ManySortedSubset of R8);
assume L619: R18 = { R22 };
L620:
now
let C89 being set;
assume L621: C89 in R1;
consider C90 being (Subset-Family of ( R8 . C89 )) such that L622: C90 = ( R18 . C89 ) and L623: ( ( meet R18 ) . C89 ) = ( Intersect C90 ) by L621 , L481;
thus L624: ( ( meet R18 ) . C89 ) = ( meet C90 ) by L619 , L621 , L622 , L623 , SETFAM_1:def 9
.= ( meet { ( R22 . C89 ) } ) by L619 , L621 , L622 , PZFMISC1:def 1
.= ( R22 . C89 ) by SETFAM_1:10;
end;
thus L625: thesis by L620 , PBOOLE:3;
end;
theorem
L626: (for R1 being set holds (for R8 being (ManySortedSet of R1) holds (for R18 being (MSSubsetFamily of R8) holds (for R22 being (ManySortedSubset of R8) holds (for R23 being (ManySortedSubset of R8) holds (R18 = { R22 , R23 } implies ( meet R18 ) = ( R22 /\ R23 )))))))
proof
let R1 being set;
let R8 being (ManySortedSet of R1);
let R18 being (MSSubsetFamily of R8);
let R22 being (ManySortedSubset of R8);
let R23 being (ManySortedSubset of R8);
assume L627: R18 = { R22 , R23 };
L628:
now
let C91 being set;
assume L629: C91 in R1;
L630: (ex B86 being (Subset-Family of ( R8 . C91 )) st (B86 = ( R18 . C91 ) & ( ( meet R18 ) . C91 ) = ( Intersect B86 ))) by L629 , L481;
thus L631: ( ( meet R18 ) . C91 ) = ( meet ( { R22 , R23 } . C91 ) ) by L630 , L627 , L629 , SETFAM_1:def 9
.= ( meet { ( R22 . C91 ) , ( R23 . C91 ) } ) by L629 , PZFMISC1:def 2
.= ( ( R22 . C91 ) /\ ( R23 . C91 ) ) by SETFAM_1:11
.= ( ( R22 /\ R23 ) . C91 ) by L629 , PBOOLE:def 5;
end;
thus L632: thesis by L628 , PBOOLE:3;
end;
theorem
L633: (for R1 being set holds (for R6 being (ManySortedSet of R1) holds (for R8 being (ManySortedSet of R1) holds (for R18 being (MSSubsetFamily of R8) holds (R6 in ( meet R18 ) implies (for R7 being (ManySortedSet of R1) holds (R7 in R18 implies R6 in R7)))))))
proof
let R1 being set;
let R6 being (ManySortedSet of R1);
let R8 being (ManySortedSet of R1);
let R18 being (MSSubsetFamily of R8);
assume L634: R6 in ( meet R18 );
let R7 being (ManySortedSet of R1);
assume that
L635: R7 in R18;
let R4 being set;
assume L636: R4 in R1;
L637: ( R6 . R4 ) in ( ( meet R18 ) . R4 ) by L636 , L634 , PBOOLE:def 1;
L638: ( R7 . R4 ) in ( R18 . R4 ) by L635 , L636 , PBOOLE:def 1;
L639: (ex B87 being (Subset-Family of ( R8 . R4 )) st (B87 = ( R18 . R4 ) & ( ( meet R18 ) . R4 ) = ( Intersect B87 ))) by L636 , L481;
thus L640: thesis by L639 , L637 , L638 , SETFAM_1:43;
end;
theorem
L641: (for R1 being set holds (for B88 , B89 being (ManySortedSet of R1) holds (for B90 being  non-empty (MSSubsetFamily of B89) holds ((B88 in B89 & (for B91 being (ManySortedSet of R1) holds (B91 in B90 implies B88 in B91))) implies B88 in ( meet B90 )))))
proof
let R1 being set;
let C92 , C93 being (ManySortedSet of R1);
let C94 being  non-empty (MSSubsetFamily of C93);
assume that
L642: C92 in C93
and
L643: (for B92 being (ManySortedSet of R1) holds (B92 in C94 implies C92 in B92));
let R4 being set;
consider C95 being (ManySortedSet of R1) such that L644: C95 in C94 by PBOOLE:134;
assume L645: R4 in R1;
consider C96 being (Subset-Family of ( C93 . R4 )) such that L646: C96 = ( C94 . R4 ) and L647: ( ( meet C94 ) . R4 ) = ( Intersect C96 ) by L645 , L481;
L648: (for B93 being set holds (B93 in C96 implies ( C92 . R4 ) in B93))
proof
let C97 being set;
assume that
L649: C97 in C96;
L650: ( dom ( C95 +* ( R4 .--> C97 ) ) ) = R1 by L645 , PZFMISC1:1;
reconsider D32 = ( C95 +* ( R4 .--> C97 ) ) as (ManySortedSet of R1) by L650 , PARTFUN1:def 2 , RELAT_1:def 18;
L651: ( dom ( R4 .--> C97 ) ) = { R4 } by FUNCOP_1:13;
L652: R4 in { R4 } by TARSKI:def 1;
L653: ( D32 . R4 ) = ( ( R4 .--> C97 ) . R4 ) by L652 , L651 , FUNCT_4:13
.= C97 by FUNCOP_1:72;
L654: D32 in C94
proof
let C98 being set;
assume that
L655: C98 in R1;
per cases ;
suppose L656: C98 = R4;

thus L657: thesis by L656 , L646 , L649 , L653;
end;
suppose L658: C98 <> R4;

L659: (not C98 in ( dom ( R4 .--> C97 ) )) by L658 , L651 , TARSKI:def 1;
L660: ( D32 . C98 ) = ( C95 . C98 ) by L659 , FUNCT_4:11;
thus L661: thesis by L660 , L644 , L655 , PBOOLE:def 1;
end;
end;
L663: C92 in D32 by L654 , L643;
thus L664: thesis by L663 , L645 , L653 , PBOOLE:def 1;
end;
L665: ( C92 . R4 ) in ( C93 . R4 ) by L642 , L645 , PBOOLE:def 1;
thus L666: thesis by L665 , L647 , L648 , SETFAM_1:43;
end;
definition
let R1 being set;
let R8 being (ManySortedSet of R1);
let C99 being (MSSubsetFamily of R8);
attr C99 is  additive
means
(for R6 being (ManySortedSet of R1) holds (for R7 being (ManySortedSet of R1) holds ((R6 in C99 & R7 in C99) implies ( R6 \/ R7 ) in C99)));
attr C99 is  absolutely-additive
means
:L667: (for B94 being (MSSubsetFamily of R8) holds (B94 c= C99 implies ( union B94 ) in C99));
attr C99 is  multiplicative
means
(for R6 being (ManySortedSet of R1) holds (for R7 being (ManySortedSet of R1) holds ((R6 in C99 & R7 in C99) implies ( R6 /\ R7 ) in C99)));
attr C99 is  absolutely-multiplicative
means
:L668: (for B95 being (MSSubsetFamily of R8) holds (B95 c= C99 implies ( meet B95 ) in C99));
attr C99 is  properly-upper-bound
means
:L669: R8 in C99;
attr C99 is  properly-lower-bound
means
:L670: ( [[0]] R1 ) in C99;
end;
L672: (for R1 being set holds (for R8 being (ManySortedSet of R1) holds ( bool R8 ) is  additive  absolutely-additive  multiplicative  absolutely-multiplicative  properly-upper-bound  properly-lower-bound))
proof
let R1 being set;
let R8 being (ManySortedSet of R1);
thus L673: ( bool R8 ) is  additive
proof
let R6 being (ManySortedSet of R1);
let R7 being (ManySortedSet of R1);
assume L674: (R6 in ( bool R8 ) & R7 in ( bool R8 ));
L675: (R6 c= R8 & R7 c= R8) by L674 , MBOOLEAN:1;
L676: ( R6 \/ R7 ) c= R8 by L675 , PBOOLE:16;
thus L677: thesis by L676 , MBOOLEAN:1;
end;

thus L678: ( bool R8 ) is  absolutely-additive
proof
let C100 being (MSSubsetFamily of R8);
assume that
L679: C100 c= ( bool R8 );
L680: ( union C100 ) c= R8 by L474;
thus L681: thesis by L680 , MBOOLEAN:18;
end;

thus L682: ( bool R8 ) is  multiplicative
proof
let R6 being (ManySortedSet of R1);
let R7 being (ManySortedSet of R1);
assume that
L683: R6 in ( bool R8 )
and
L684: R7 in ( bool R8 );
L685: R6 c= R8 by L683 , MBOOLEAN:1;
L686: ( R6 /\ R7 ) c= R8 by L685 , MBOOLEAN:14;
thus L687: thesis by L686 , MBOOLEAN:1;
end;

thus L688: ( bool R8 ) is  absolutely-multiplicative
proof
let C101 being (MSSubsetFamily of R8);
assume that
L689: C101 c= ( bool R8 );
L690: ( meet C101 ) c= R8 by PBOOLE:def 18;
thus L691: thesis by L690 , MBOOLEAN:18;
end;

L692: R8 in ( bool R8 ) by MBOOLEAN:18;
thus L693: ( bool R8 ) is  properly-upper-bound by L692 , L669;
L694: ( [[0]] R1 ) c= R8 by MBOOLEAN:5;
L695: ( [[0]] R1 ) in ( bool R8 ) by L694 , MBOOLEAN:1;
thus L696: ( bool R8 ) is  properly-lower-bound by L695 , L670;
end;
registration
let R1 being set;
let R8 being (ManySortedSet of R1);
cluster  non-empty  additive  absolutely-additive  multiplicative  absolutely-multiplicative  properly-upper-bound  properly-lower-bound for (MSSubsetFamily of R8);
existence
proof
take ( bool R8 );
thus L697: thesis by L672;
end;
end;
definition
let R1 being set;
let R8 being (ManySortedSet of R1);
redefine func bool R8 ->  additive  absolutely-additive  multiplicative  absolutely-multiplicative  properly-upper-bound  properly-lower-bound (MSSubsetFamily of R8);

coherence by L672;
end;
registration
let R1 being set;
let R8 being (ManySortedSet of R1);
cluster  absolutely-additive ->  additive for (MSSubsetFamily of R8);
coherence
proof
let C102 being (MSSubsetFamily of R8);
assume that
L700: C102 is  absolutely-additive;
let R6 being (ManySortedSet of R1);
let R7 being (ManySortedSet of R1);
assume that
L701: R6 in C102
and
L702: R7 in C102;
L703: ({ R6 } c= C102 & { R7 } c= C102) by L701 , L702 , PZFMISC1:33;
L704: ( { R6 } \/ { R7 } ) c= C102 by L703 , PBOOLE:16;
L705: { R6 , R7 } c= C102 by L704 , PZFMISC1:10;
L706: R7 is (ManySortedSubset of R8) by L702 , L441;
L707: R7 c= R8 by L706 , PBOOLE:def 18;
L708: R6 is (ManySortedSubset of R8) by L701 , L441;
L709: R6 c= R8 by L708 , PBOOLE:def 18;
L710: { R6 , R7 } is (MSSubsetFamily of R8) by L709 , L707 , L469;
L711: ( union { R6 , R7 } ) in C102 by L710 , L700 , L705 , L667;
thus L712: thesis by L711 , PZFMISC1:32;
end;
end;
registration
let R1 being set;
let R8 being (ManySortedSet of R1);
cluster  absolutely-multiplicative ->  multiplicative for (MSSubsetFamily of R8);
coherence
proof
let C103 being (MSSubsetFamily of R8);
assume that
L714: C103 is  absolutely-multiplicative;
let R6 being (ManySortedSet of R1);
let R7 being (ManySortedSet of R1);
assume that
L715: R6 in C103
and
L716: R7 in C103;
L717: R7 is (ManySortedSubset of R8) by L716 , L441;
L718: R7 c= R8 by L717 , PBOOLE:def 18;
L719: R6 is (ManySortedSubset of R8) by L715 , L441;
L720: R6 c= R8 by L719 , PBOOLE:def 18;
reconsider D33 = { R6 , R7 } as (MSSubsetFamily of R8) by L720 , L718 , L469;
L721: ({ R6 } c= C103 & { R7 } c= C103) by L715 , L716 , PZFMISC1:33;
L722: ( { R6 } \/ { R7 } ) c= C103 by L721 , PBOOLE:16;
L723: { R6 , R7 } c= C103 by L722 , PZFMISC1:10;
L724: ( meet D33 ) in C103 by L723 , L714 , L668;
thus L725: thesis by L724 , L719 , L717 , L626;
end;
end;
registration
let R1 being set;
let R8 being (ManySortedSet of R1);
cluster  absolutely-multiplicative ->  properly-upper-bound for (MSSubsetFamily of R8);
coherence
proof
L727: ( [[0]] R1 ) c= ( bool R8 ) by PBOOLE:43;
reconsider D34 = ( [[0]] R1 ) as (MSSubsetFamily of R8) by L727 , PBOOLE:def 18;
let C104 being (MSSubsetFamily of R8);
assume that
L728: C104 is  absolutely-multiplicative;
L729: (( meet D34 ) = R8 & ( [[0]] R1 ) c= C104) by L498 , PBOOLE:43;
thus L730: R8 in C104 by L729 , L728 , L668;
end;
end;
registration
let R1 being set;
let R8 being (ManySortedSet of R1);
cluster  properly-upper-bound ->  non-empty for (MSSubsetFamily of R8);
coherence
proof
let C105 being (MSSubsetFamily of R8);
assume L732: C105 is  properly-upper-bound;
L733: R8 in C105 by L732 , L669;
let R4 being set;
assume L734: R4 in R1;
thus L735: thesis by L734 , L733 , PBOOLE:def 1;
end;
end;
registration
let R1 being set;
let R8 being (ManySortedSet of R1);
cluster  absolutely-additive ->  properly-lower-bound for (MSSubsetFamily of R8);
coherence
proof
L737: ( [[0]] R1 ) c= ( bool R8 ) by PBOOLE:43;
reconsider D35 = ( [[0]] R1 ) as (MSSubsetFamily of R8) by L737 , PBOOLE:def 18;
let C106 being (MSSubsetFamily of R8);
assume that
L738: C106 is  absolutely-additive;
L739: (( union D35 ) = ( [[0]] R1 ) & ( [[0]] R1 ) c= C106) by MBOOLEAN:21 , PBOOLE:43;
thus L740: ( [[0]] R1 ) in C106 by L739 , L738 , L667;
end;
end;
registration
let R1 being set;
let R8 being (ManySortedSet of R1);
cluster  properly-lower-bound ->  non-empty for (MSSubsetFamily of R8);
coherence
proof
let C107 being (MSSubsetFamily of R8);
assume L742: C107 is  properly-lower-bound;
L743: ( [[0]] R1 ) in C107 by L742 , L670;
let R4 being set;
assume L744: R4 in R1;
thus L745: thesis by L744 , L743 , PBOOLE:def 1;
end;
end;
