:: Metrics in Cartesian Product
::  by Stanis{\l}awa Kanas and Jan Stankiewicz
::
:: Received September 27, 1990
:: Copyright (c) 1990-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies XBOOLE_0, METRIC_1, SUBSET_1, FUNCT_1, ZFMISC_1, MCART_1,
      STRUCT_0, NUMBERS, ARYTM_3, CARD_1, XXREAL_0, REAL_1, METRIC_3, SQUARE_1,
      XREAL_0, ORDINAL1, RELAT_1, ARYTM_1, COMPLEX1, RECDEF_2;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, DOMAIN_1, ORDINAL1, NUMBERS,
      XCMPLX_0, XREAL_0, COMPLEX1, REAL_1, FUNCT_2, BINOP_1, STRUCT_0,
      METRIC_1, MCART_1, XXREAL_0, SQUARE_1;
 constructors XXREAL_0, REAL_1, MEMBERED, METRIC_1, SQUARE_1, DOMAIN_1,
      COMPLEX1;
 registrations XBOOLE_0, SUBSET_1, RELSET_1, NUMBERS, MEMBERED, STRUCT_0,
      METRIC_1, RELAT_1, XCMPLX_0, XREAL_0, SQUARE_1, MCART_1;
 requirements SUBSET, BOOLE, ARITHM, NUMERALS, REAL;
 definitions SQUARE_1;
 theorems BINOP_1, DOMAIN_1, ZFMISC_1, METRIC_1, MCART_1, XREAL_1, SQUARE_1,
      COMPLEX1, XXREAL_0, XTUPLE_0;
 schemes BINOP_1;

begin
scheme LambdaMCART { F1 , F2 , F3() -> non  empty set , F4(set , set , set , set) -> (Element of F3()) } : (ex B1 being (Function of [: [: F1() , F2() :] , [: F1() , F2() :] :] , F3()) st (for B2 , B3 being (Element of F1()) holds (for B4 , B5 being (Element of F2()) holds (for B6 , B7 being (Element of [: F1() , F2() :]) holds ((B6 = [ B2 , B4 ] & B7 = [ B3 , B5 ]) implies ( B1 . (B6 , B7) ) = F4(B2 , B3 , B4 , B5))))))
proof
deffunc H1((Element of [: F1() , F2() :]) , (Element of [: F1() , F2() :])) = F4(( $1 `1 ) , ( $2 `1 ) , ( $1 `2 ) , ( $2 `2 ));
consider C1 being (Function of [: [: F1() , F2() :] , [: F1() , F2() :] :] , F3()) such that L1: (for B8 , B9 being (Element of [: F1() , F2() :]) holds ( C1 . (B8 , B9) ) = H1(B8 , B9)) from BINOP_1:sch 4;
take C1;
let C2 , C3 being (Element of F1());
let C4 , C5 being (Element of F2());
let C6 , C7 being (Element of [: F1() , F2() :]);
assume that
L2: C6 = [ C2 , C4 ]
and
L3: C7 = [ C3 , C5 ];
L4: C7 = [ ( C7 `1 ) , ( C7 `2 ) ] by MCART_1:21;
L5: (C3 = ( C7 `1 ) & C5 = ( C7 `2 )) by L4 , L3 , XTUPLE_0:1;
L6: C6 = [ ( C6 `1 ) , ( C6 `2 ) ] by MCART_1:21;
L7: (C2 = ( C6 `1 ) & C4 = ( C6 `2 )) by L6 , L2 , XTUPLE_0:1;
thus L8: thesis by L7 , L1 , L5;
end;
definition
let R1 being non  empty MetrSpace;
let R2 being non  empty MetrSpace;
func dist_cart2 (R1 , R2) -> (Function of [: [: (the carrier of R1) , (the carrier of R2) :] , [: (the carrier of R1) , (the carrier of R2) :] :] , ( REAL )) means 
:L9: (for B10 , B11 being (Element of R1) holds (for B12 , B13 being (Element of R2) holds (for B14 , B15 being (Element of [: (the carrier of R1) , (the carrier of R2) :]) holds ((B14 = [ B10 , B12 ] & B15 = [ B11 , B13 ]) implies ( it . (B14 , B15) ) = ( ( dist (B10 , B11) ) + ( dist (B12 , B13) ) )))));
existence
proof
deffunc H2((Element of R1) , (Element of R1) , (Element of R2) , (Element of R2)) = ( ( dist ($1 , $2) ) + ( dist ($3 , $4) ) );
consider C8 being (Function of [: [: (the carrier of R1) , (the carrier of R2) :] , [: (the carrier of R1) , (the carrier of R2) :] :] , ( REAL )) such that L10: (for B16 , B17 being (Element of R1) holds (for B18 , B19 being (Element of R2) holds (for B20 , B21 being (Element of [: (the carrier of R1) , (the carrier of R2) :]) holds ((B20 = [ B16 , B18 ] & B21 = [ B17 , B19 ]) implies ( C8 . (B20 , B21) ) = H2(B16 , B17 , B18 , B19))))) from LambdaMCART;
take C8;
let C9 , C10 being (Element of R1);
let C11 , C12 being (Element of R2);
let C13 , C14 being (Element of [: (the carrier of R1) , (the carrier of R2) :]);
assume L11: (C13 = [ C9 , C11 ] & C14 = [ C10 , C12 ]);
thus L12: thesis by L11 , L10;
end;
uniqueness
proof
let C15 , C16 being (Function of [: [: (the carrier of R1) , (the carrier of R2) :] , [: (the carrier of R1) , (the carrier of R2) :] :] , ( REAL ));
assume that
L13: (for B22 , B23 being (Element of R1) holds (for B24 , B25 being (Element of R2) holds (for B26 , B27 being (Element of [: (the carrier of R1) , (the carrier of R2) :]) holds ((B26 = [ B22 , B24 ] & B27 = [ B23 , B25 ]) implies ( C15 . (B26 , B27) ) = ( ( dist (B22 , B23) ) + ( dist (B24 , B25) ) )))))
and
L14: (for B28 , B29 being (Element of R1) holds (for B30 , B31 being (Element of R2) holds (for B32 , B33 being (Element of [: (the carrier of R1) , (the carrier of R2) :]) holds ((B32 = [ B28 , B30 ] & B33 = [ B29 , B31 ]) implies ( C16 . (B32 , B33) ) = ( ( dist (B28 , B29) ) + ( dist (B30 , B31) ) )))));
L15: (for B34 , B35 being (Element of [: (the carrier of R1) , (the carrier of R2) :]) holds ( C15 . (B34 , B35) ) = ( C16 . (B34 , B35) ))
proof
let C17 , C18 being (Element of [: (the carrier of R1) , (the carrier of R2) :]);
consider C19 being (Element of R1), C20 being (Element of R2) such that L16: C17 = [ C19 , C20 ] by DOMAIN_1:1;
consider C21 being (Element of R1), C22 being (Element of R2) such that L17: C18 = [ C21 , C22 ] by DOMAIN_1:1;
thus L18: ( C15 . (C17 , C18) ) = ( ( dist (C19 , C21) ) + ( dist (C20 , C22) ) ) by L13 , L16 , L17
.= ( C16 . (C17 , C18) ) by L14 , L16 , L17;
end;
thus L19: thesis by L15 , BINOP_1:2;
end;
end;
theorem
L21: (for R1 being non  empty MetrSpace holds (for R2 being non  empty MetrSpace holds (for B36 , B37 being (Element of [: (the carrier of R1) , (the carrier of R2) :]) holds (( ( dist_cart2 (R1 , R2) ) . (B36 , B37) ) = ( 0 ) iff B36 = B37))))
proof
let R1 being non  empty MetrSpace;
let R2 being non  empty MetrSpace;
let C23 , C24 being (Element of [: (the carrier of R1) , (the carrier of R2) :]);
reconsider D1 = ( C23 `1 ) , D2 = ( C24 `1 ) as (Element of R1);
reconsider D3 = ( C23 `2 ) , D4 = ( C24 `2 ) as (Element of R2);
L22: (C23 = [ D1 , D3 ] & C24 = [ D2 , D4 ]) by MCART_1:22;
thus L23: (( ( dist_cart2 (R1 , R2) ) . (C23 , C24) ) = ( 0 ) implies C23 = C24)
proof
set D5 = ( dist (D1 , D2) );
set D6 = ( dist (D3 , D4) );
assume L24: ( ( dist_cart2 (R1 , R2) ) . (C23 , C24) ) = ( 0 );
L25: ( D5 + D6 ) = ( 0 ) by L24 , L22 , L9;
L26: (( 0 ) <= D5 & ( 0 ) <= D6) by METRIC_1:5;
L27: D5 = ( 0 ) by L26 , L25 , XREAL_1:27;
L28: D1 = D2 by L27 , METRIC_1:2;
L29: D6 = ( 0 ) by L25 , L26 , XREAL_1:27;
thus L30: thesis by L29 , L22 , L28 , METRIC_1:2;
end;

assume L31: C23 = C24;
L32: ( dist (D3 , D4) ) = ( 0 ) by L31 , METRIC_1:1;
L33: ( ( dist_cart2 (R1 , R2) ) . (C23 , C24) ) = ( ( dist (D1 , D2) ) + ( dist (D3 , D4) ) ) by L22 , L9
.= ( 0 ) by L31 , L32 , METRIC_1:1;
thus L34: thesis by L33;
end;
theorem
L35: (for R1 being non  empty MetrSpace holds (for R2 being non  empty MetrSpace holds (for B38 , B39 being (Element of [: (the carrier of R1) , (the carrier of R2) :]) holds ( ( dist_cart2 (R1 , R2) ) . (B38 , B39) ) = ( ( dist_cart2 (R1 , R2) ) . (B39 , B38) ))))
proof
let R1 being non  empty MetrSpace;
let R2 being non  empty MetrSpace;
let C25 , C26 being (Element of [: (the carrier of R1) , (the carrier of R2) :]);
reconsider D7 = ( C25 `1 ) , D8 = ( C26 `1 ) as (Element of R1);
reconsider D9 = ( C25 `2 ) , D10 = ( C26 `2 ) as (Element of R2);
L36: (C25 = [ D7 , D9 ] & C26 = [ D8 , D10 ]) by MCART_1:22;
L37: ( ( dist_cart2 (R1 , R2) ) . (C25 , C26) ) = ( ( dist (D8 , D7) ) + ( dist (D9 , D10) ) ) by L36 , L9
.= ( ( dist_cart2 (R1 , R2) ) . (C26 , C25) ) by L36 , L9;
thus L38: thesis by L37;
end;
theorem
L39: (for R1 being non  empty MetrSpace holds (for R2 being non  empty MetrSpace holds (for B40 , B41 , B42 being (Element of [: (the carrier of R1) , (the carrier of R2) :]) holds ( ( dist_cart2 (R1 , R2) ) . (B40 , B42) ) <= ( ( ( dist_cart2 (R1 , R2) ) . (B40 , B41) ) + ( ( dist_cart2 (R1 , R2) ) . (B41 , B42) ) ))))
proof
let R1 being non  empty MetrSpace;
let R2 being non  empty MetrSpace;
let C27 , C28 , C29 being (Element of [: (the carrier of R1) , (the carrier of R2) :]);
reconsider D11 = ( C27 `1 ) , D12 = ( C28 `1 ) , D13 = ( C29 `1 ) as (Element of R1);
reconsider D14 = ( C27 `2 ) , D15 = ( C28 `2 ) , D16 = ( C29 `2 ) as (Element of R2);
L40: C28 = [ D12 , D15 ] by MCART_1:22;
set D17 = ( dist (D15 , D16) );
set D18 = ( dist (D14 , D15) );
set D19 = ( dist (D14 , D16) );
set D20 = ( dist (D12 , D13) );
set D21 = ( dist (D11 , D12) );
set D22 = ( dist (D11 , D13) );
L41: C29 = [ D13 , D16 ] by MCART_1:22;
L42: C27 = [ D11 , D14 ] by MCART_1:22;
L43: ( ( dist_cart2 (R1 , R2) ) . (C27 , C29) ) = ( D22 + D19 ) by L42 , L41 , L9;
L44: (D22 <= ( D21 + D20 ) & D19 <= ( D18 + D17 )) by METRIC_1:4;
L45: ( ( D21 + D20 ) + ( D18 + D17 ) ) = ( ( D21 + D18 ) + ( D20 + D17 ) )
.= ( ( ( dist_cart2 (R1 , R2) ) . (C27 , C28) ) + ( D20 + D17 ) ) by L42 , L40 , L9
.= ( ( ( dist_cart2 (R1 , R2) ) . (C27 , C28) ) + ( ( dist_cart2 (R1 , R2) ) . (C28 , C29) ) ) by L40 , L41 , L9;
thus L46: thesis by L45 , L44 , L43 , XREAL_1:7;
end;
definition
let R1 being non  empty MetrSpace;
let R2 being non  empty MetrSpace;
let C30 , C31 being (Element of [: (the carrier of R1) , (the carrier of R2) :]);
func dist2 (C30 , C31) -> Real equals 
( ( dist_cart2 (R1 , R2) ) . (C30 , C31) );
coherence;
end;
registration
let C32 being non  empty set;
let C33 being (Function of [: C32 , C32 :] , ( REAL ));
cluster MetrStruct (# C32 , C33 #) -> non  empty;
coherence;
end;
definition
let R1 being non  empty MetrSpace;
let R2 being non  empty MetrSpace;
func MetrSpaceCart2 (R1 , R2) ->  strict non  empty MetrSpace equals 
MetrStruct (# [: (the carrier of R1) , (the carrier of R2) :] , ( dist_cart2 (R1 , R2) ) #);
coherence
proof
set D23 = MetrStruct (# [: (the carrier of R1) , (the carrier of R2) :] , ( dist_cart2 (R1 , R2) ) #);
L49:
now
let C34 , C35 , C36 being (Element of D23);
L50: ( dist (C34 , C35) ) = ( ( dist_cart2 (R1 , R2) ) . (C34 , C35) ) by METRIC_1:def 1;
thus L51: (( dist (C34 , C35) ) = ( 0 ) iff C34 = C35) by L50 , L21;
L52: ( dist (C35 , C34) ) = ( ( dist_cart2 (R1 , R2) ) . (C35 , C34) ) by METRIC_1:def 1;
thus L53: ( dist (C34 , C35) ) = ( dist (C35 , C34) ) by L52 , L50 , L35;
L54: (( dist (C34 , C36) ) = ( ( dist_cart2 (R1 , R2) ) . (C34 , C36) ) & ( dist (C35 , C36) ) = ( ( dist_cart2 (R1 , R2) ) . (C35 , C36) )) by METRIC_1:def 1;
thus L55: ( dist (C34 , C36) ) <= ( ( dist (C34 , C35) ) + ( dist (C35 , C36) ) ) by L54 , L50 , L39;
end;
thus L56: thesis by L49 , METRIC_1:6;
end;
end;
scheme LambdaMCART1 { F5 , F6 , F7 , F8() -> non  empty set , F9(set , set , set , set , set , set) -> (Element of F8()) } : (ex B43 being (Function of [: [: F5() , F6() , F7() :] , [: F5() , F6() , F7() :] :] , F8()) st (for B44 , B45 being (Element of F5()) holds (for B46 , B47 being (Element of F6()) holds (for B48 , B49 being (Element of F7()) holds (for B50 , B51 being (Element of [: F5() , F6() , F7() :]) holds ((B50 = [ B44 , B46 , B48 ] & B51 = [ B45 , B47 , B49 ]) implies ( B43 . (B50 , B51) ) = F9(B44 , B45 , B46 , B47 , B48 , B49)))))))
proof
deffunc H3((Element of [: F5() , F6() , F7() :]) , (Element of [: F5() , F6() , F7() :])) = F9(( $1 `1_3 ) , ( $2 `1_3 ) , ( $1 `2_3 ) , ( $2 `2_3 ) , ( $1 `3_3 ) , ( $2 `3_3 ));
consider C37 being (Function of [: [: F5() , F6() , F7() :] , [: F5() , F6() , F7() :] :] , F8()) such that L58: (for B52 , B53 being (Element of [: F5() , F6() , F7() :]) holds ( C37 . (B52 , B53) ) = H3(B52 , B53)) from BINOP_1:sch 4;
take C37;
let C38 , C39 being (Element of F5());
let C40 , C41 being (Element of F6());
let C42 , C43 being (Element of F7());
let C44 , C45 being (Element of [: F5() , F6() , F7() :]);
assume that
L59: C44 = [ C38 , C40 , C42 ]
and
L60: C45 = [ C39 , C41 , C43 ];
L61: C45 = [ ( C45 `1_3 ) , ( C45 `2_3 ) , ( C45 `3_3 ) ] by MCART_1:44;
L62: (C39 = ( C45 `1_3 ) & C41 = ( C45 `2_3 )) by L61 , L60 , XTUPLE_0:3;
L63: C44 = [ ( C44 `1_3 ) , ( C44 `2_3 ) , ( C44 `3_3 ) ] by MCART_1:44;
L64: C42 = ( C44 `3_3 ) by L63 , L59 , XTUPLE_0:3;
L65: C43 = ( C45 `3_3 ) by L60 , L61 , XTUPLE_0:3;
L66: (C38 = ( C44 `1_3 ) & C40 = ( C44 `2_3 )) by L59 , L63 , XTUPLE_0:3;
thus L67: thesis by L66 , L58 , L62 , L64 , L65;
end;
definition
let R1 being non  empty MetrSpace;
let R2 being non  empty MetrSpace;
let R3 being non  empty MetrSpace;
func dist_cart3 (R1 , R2 , R3) -> (Function of [: [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) :] , [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) :] :] , ( REAL )) means 
:L68: (for B54 , B55 being (Element of R1) holds (for B56 , B57 being (Element of R2) holds (for B58 , B59 being (Element of R3) holds (for B60 , B61 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) :]) holds ((B60 = [ B54 , B56 , B58 ] & B61 = [ B55 , B57 , B59 ]) implies ( it . (B60 , B61) ) = ( ( ( dist (B54 , B55) ) + ( dist (B56 , B57) ) ) + ( dist (B58 , B59) ) ))))));
existence
proof
deffunc H4((Element of R1) , (Element of R1) , (Element of R2) , (Element of R2) , (Element of R3) , (Element of R3)) = ( ( ( dist ($1 , $2) ) + ( dist ($3 , $4) ) ) + ( dist ($5 , $6) ) );
consider C46 being (Function of [: [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) :] , [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) :] :] , ( REAL )) such that L69: (for B62 , B63 being (Element of R1) holds (for B64 , B65 being (Element of R2) holds (for B66 , B67 being (Element of R3) holds (for B68 , B69 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) :]) holds ((B68 = [ B62 , B64 , B66 ] & B69 = [ B63 , B65 , B67 ]) implies ( C46 . (B68 , B69) ) = H4(B62 , B63 , B64 , B65 , B66 , B67)))))) from LambdaMCART1;
take C46;
let C47 , C48 being (Element of R1);
let C49 , C50 being (Element of R2);
let C51 , C52 being (Element of R3);
let C53 , C54 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) :]);
assume L70: (C53 = [ C47 , C49 , C51 ] & C54 = [ C48 , C50 , C52 ]);
thus L71: thesis by L70 , L69;
end;
uniqueness
proof
let C55 , C56 being (Function of [: [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) :] , [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) :] :] , ( REAL ));
assume that
L72: (for B70 , B71 being (Element of R1) holds (for B72 , B73 being (Element of R2) holds (for B74 , B75 being (Element of R3) holds (for B76 , B77 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) :]) holds ((B76 = [ B70 , B72 , B74 ] & B77 = [ B71 , B73 , B75 ]) implies ( C55 . (B76 , B77) ) = ( ( ( dist (B70 , B71) ) + ( dist (B72 , B73) ) ) + ( dist (B74 , B75) ) ))))))
and
L73: (for B78 , B79 being (Element of R1) holds (for B80 , B81 being (Element of R2) holds (for B82 , B83 being (Element of R3) holds (for B84 , B85 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) :]) holds ((B84 = [ B78 , B80 , B82 ] & B85 = [ B79 , B81 , B83 ]) implies ( C56 . (B84 , B85) ) = ( ( ( dist (B78 , B79) ) + ( dist (B80 , B81) ) ) + ( dist (B82 , B83) ) ))))));
L74: (for B86 , B87 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) :]) holds ( C55 . (B86 , B87) ) = ( C56 . (B86 , B87) ))
proof
let C57 , C58 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) :]);
consider C59 being (Element of R1), C60 being (Element of R2), C61 being (Element of R3) such that L75: C57 = [ C59 , C60 , C61 ] by DOMAIN_1:3;
consider C62 being (Element of R1), C63 being (Element of R2), C64 being (Element of R3) such that L76: C58 = [ C62 , C63 , C64 ] by DOMAIN_1:3;
thus L77: ( C55 . (C57 , C58) ) = ( ( ( dist (C59 , C62) ) + ( dist (C60 , C63) ) ) + ( dist (C61 , C64) ) ) by L72 , L75 , L76
.= ( C56 . (C57 , C58) ) by L73 , L75 , L76;
end;
thus L78: thesis by L74 , BINOP_1:2;
end;
end;
theorem
L80: (for R1 being non  empty MetrSpace holds (for R2 being non  empty MetrSpace holds (for R3 being non  empty MetrSpace holds (for B88 , B89 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) :]) holds (( ( dist_cart3 (R1 , R2 , R3) ) . (B88 , B89) ) = ( 0 ) iff B88 = B89)))))
proof
let R1 being non  empty MetrSpace;
let R2 being non  empty MetrSpace;
let R3 being non  empty MetrSpace;
let C65 , C66 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) :]);
reconsider D24 = ( C65 `1_3 ) , D25 = ( C66 `1_3 ) as (Element of R1);
reconsider D26 = ( C65 `2_3 ) , D27 = ( C66 `2_3 ) as (Element of R2);
reconsider D28 = ( C65 `3_3 ) , D29 = ( C66 `3_3 ) as (Element of R3);
L81: (C65 = [ D24 , D26 , D28 ] & C66 = [ D25 , D27 , D29 ]) by MCART_1:44;
thus L82: (( ( dist_cart3 (R1 , R2 , R3) ) . (C65 , C66) ) = ( 0 ) implies C65 = C66)
proof
set D30 = ( dist (D28 , D29) );
set D31 = ( dist (D26 , D27) );
set D32 = ( dist (D24 , D25) );
set D33 = ( D32 + D31 );
assume L83: ( ( dist_cart3 (R1 , R2 , R3) ) . (C65 , C66) ) = ( 0 );
L84: ( D33 + D30 ) = ( 0 ) by L83 , L81 , L68;
L85: (( 0 ) <= D32 & ( 0 ) <= D31) by METRIC_1:5;
L86: (( 0 ) <= D30 & ( ( 0 ) + ( 0 ) ) <= ( D32 + D31 )) by L85 , METRIC_1:5 , XREAL_1:7;
L87: D33 = ( 0 ) by L86 , L84 , XREAL_1:27;
L88: D32 = ( 0 ) by L87 , L85 , XREAL_1:27;
L89: D24 = D25 by L88 , METRIC_1:2;
L90: D30 = ( 0 ) by L84 , L86 , XREAL_1:27;
L91: D28 = D29 by L90 , METRIC_1:2;
L92: D31 = ( 0 ) by L85 , L87 , XREAL_1:27;
thus L93: thesis by L92 , L81 , L91 , L89 , METRIC_1:2;
end;

assume L94: C65 = C66;
L95: (( dist (D24 , D25) ) = ( 0 ) & ( dist (D26 , D27) ) = ( 0 )) by L94 , METRIC_1:1;
L96: ( ( dist_cart3 (R1 , R2 , R3) ) . (C65 , C66) ) = ( ( ( dist (D24 , D25) ) + ( dist (D26 , D27) ) ) + ( dist (D28 , D29) ) ) by L81 , L68
.= ( 0 ) by L94 , L95 , METRIC_1:1;
thus L97: thesis by L96;
end;
theorem
L98: (for R1 being non  empty MetrSpace holds (for R2 being non  empty MetrSpace holds (for R3 being non  empty MetrSpace holds (for B90 , B91 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) :]) holds ( ( dist_cart3 (R1 , R2 , R3) ) . (B90 , B91) ) = ( ( dist_cart3 (R1 , R2 , R3) ) . (B91 , B90) )))))
proof
let R1 being non  empty MetrSpace;
let R2 being non  empty MetrSpace;
let R3 being non  empty MetrSpace;
let C67 , C68 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) :]);
reconsider D34 = ( C67 `1_3 ) , D35 = ( C68 `1_3 ) as (Element of R1);
reconsider D36 = ( C67 `2_3 ) , D37 = ( C68 `2_3 ) as (Element of R2);
reconsider D38 = ( C67 `3_3 ) , D39 = ( C68 `3_3 ) as (Element of R3);
L99: (C67 = [ D34 , D36 , D38 ] & C68 = [ D35 , D37 , D39 ]) by MCART_1:44;
L100: ( ( dist_cart3 (R1 , R2 , R3) ) . (C67 , C68) ) = ( ( ( dist (D35 , D34) ) + ( dist (D37 , D36) ) ) + ( dist (D39 , D38) ) ) by L99 , L68
.= ( ( dist_cart3 (R1 , R2 , R3) ) . (C68 , C67) ) by L99 , L68;
thus L101: thesis by L100;
end;
theorem
L102: (for R1 being non  empty MetrSpace holds (for R2 being non  empty MetrSpace holds (for R3 being non  empty MetrSpace holds (for B92 , B93 , B94 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) :]) holds ( ( dist_cart3 (R1 , R2 , R3) ) . (B92 , B94) ) <= ( ( ( dist_cart3 (R1 , R2 , R3) ) . (B92 , B93) ) + ( ( dist_cart3 (R1 , R2 , R3) ) . (B93 , B94) ) )))))
proof
let R1 being non  empty MetrSpace;
let R2 being non  empty MetrSpace;
let R3 being non  empty MetrSpace;
let C69 , C70 , C71 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) :]);
reconsider D40 = ( C69 `1_3 ) , D41 = ( C70 `1_3 ) , D42 = ( C71 `1_3 ) as (Element of R1);
reconsider D43 = ( C69 `2_3 ) , D44 = ( C70 `2_3 ) , D45 = ( C71 `2_3 ) as (Element of R2);
reconsider D46 = ( C69 `3_3 ) , D47 = ( C70 `3_3 ) , D48 = ( C71 `3_3 ) as (Element of R3);
L103: C69 = [ D40 , D43 , D46 ] by MCART_1:44;
set D49 = ( dist (D43 , D45) );
set D50 = ( dist (D43 , D44) );
set D51 = ( dist (D44 , D45) );
L104: C71 = [ D42 , D45 , D48 ] by MCART_1:44;
set D52 = ( dist (D46 , D48) );
set D53 = ( dist (D46 , D47) );
set D54 = ( dist (D47 , D48) );
set D55 = ( dist (D40 , D42) );
set D56 = ( dist (D40 , D41) );
set D57 = ( dist (D41 , D42) );
L105: C70 = [ D41 , D44 , D47 ] by MCART_1:44;
set D58 = ( D55 + D49 );
L106: (D55 <= ( D56 + D57 ) & D49 <= ( D50 + D51 )) by METRIC_1:4;
L107: D58 <= ( ( D56 + D57 ) + ( D50 + D51 ) ) by L106 , XREAL_1:7;
L108: D52 <= ( D53 + D54 ) by METRIC_1:4;
L109: ( D58 + D52 ) <= ( ( ( D56 + D57 ) + ( D50 + D51 ) ) + ( D53 + D54 ) ) by L108 , L107 , XREAL_1:7;
L110: ( ( ( D56 + D57 ) + ( D50 + D51 ) ) + ( D53 + D54 ) ) = ( ( ( D56 + D50 ) + D53 ) + ( ( D57 + D51 ) + D54 ) )
.= ( ( ( dist_cart3 (R1 , R2 , R3) ) . (C69 , C70) ) + ( ( D57 + D51 ) + D54 ) ) by L103 , L105 , L68
.= ( ( ( dist_cart3 (R1 , R2 , R3) ) . (C69 , C70) ) + ( ( dist_cart3 (R1 , R2 , R3) ) . (C70 , C71) ) ) by L105 , L104 , L68;
thus L111: thesis by L110 , L103 , L104 , L109 , L68;
end;
definition
let R1 being non  empty MetrSpace;
let R2 being non  empty MetrSpace;
let R3 being non  empty MetrSpace;
func MetrSpaceCart3 (R1 , R2 , R3) ->  strict non  empty MetrSpace equals 
MetrStruct (# [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) :] , ( dist_cart3 (R1 , R2 , R3) ) #);
coherence
proof
set D59 = MetrStruct (# [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) :] , ( dist_cart3 (R1 , R2 , R3) ) #);
L112:
now
let C72 , C73 , C74 being (Element of D59);
L113: ( dist (C72 , C73) ) = ( ( dist_cart3 (R1 , R2 , R3) ) . (C72 , C73) ) by METRIC_1:def 1;
thus L114: (( dist (C72 , C73) ) = ( 0 ) iff C72 = C73) by L113 , L80;
L115: ( dist (C73 , C72) ) = ( ( dist_cart3 (R1 , R2 , R3) ) . (C73 , C72) ) by METRIC_1:def 1;
thus L116: ( dist (C72 , C73) ) = ( dist (C73 , C72) ) by L115 , L113 , L98;
L117: (( dist (C72 , C74) ) = ( ( dist_cart3 (R1 , R2 , R3) ) . (C72 , C74) ) & ( dist (C73 , C74) ) = ( ( dist_cart3 (R1 , R2 , R3) ) . (C73 , C74) )) by METRIC_1:def 1;
thus L118: ( dist (C72 , C74) ) <= ( ( dist (C72 , C73) ) + ( dist (C73 , C74) ) ) by L117 , L113 , L102;
end;
thus L119: thesis by L112 , METRIC_1:6;
end;
end;
definition
let R1 being non  empty MetrSpace;
let R2 being non  empty MetrSpace;
let R3 being non  empty MetrSpace;
let C75 , C76 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) :]);
func dist3 (C75 , C76) -> Real equals 
( ( dist_cart3 (R1 , R2 , R3) ) . (C75 , C76) );
coherence;
end;
scheme LambdaMCART2 { F10 , F11 , F12 , F13 , F14() -> non  empty set , F15(set , set , set , set , set , set , set , set) -> (Element of F14()) } : (ex B95 being (Function of [: [: F10() , F11() , F12() , F13() :] , [: F10() , F11() , F12() , F13() :] :] , F14()) st (for B96 , B97 being (Element of F10()) holds (for B98 , B99 being (Element of F11()) holds (for B100 , B101 being (Element of F12()) holds (for B102 , B103 being (Element of F13()) holds (for B104 , B105 being (Element of [: F10() , F11() , F12() , F13() :]) holds ((B104 = [ B96 , B98 , B100 , B102 ] & B105 = [ B97 , B99 , B101 , B103 ]) implies ( B95 . (B104 , B105) ) = F15(B96 , B97 , B98 , B99 , B100 , B101 , B102 , B103))))))))
proof
deffunc H5((Element of [: F10() , F11() , F12() , F13() :]) , (Element of [: F10() , F11() , F12() , F13() :])) = F15(( $1 `1_4 ) , ( $2 `1_4 ) , ( $1 `2_4 ) , ( $2 `2_4 ) , ( $1 `3_4 ) , ( $2 `3_4 ) , ( $1 `4_4 ) , ( $2 `4_4 ));
consider C77 being (Function of [: [: F10() , F11() , F12() , F13() :] , [: F10() , F11() , F12() , F13() :] :] , F14()) such that L122: (for B106 , B107 being (Element of [: F10() , F11() , F12() , F13() :]) holds ( C77 . (B106 , B107) ) = H5(B106 , B107)) from BINOP_1:sch 4;
take C77;
let C78 , C79 being (Element of F10());
let C80 , C81 being (Element of F11());
let C82 , C83 being (Element of F12());
let C84 , C85 being (Element of F13());
let C86 , C87 being (Element of [: F10() , F11() , F12() , F13() :]);
assume that
L123: C86 = [ C78 , C80 , C82 , C84 ]
and
L124: C87 = [ C79 , C81 , C83 , C85 ];
L125: C87 = [ ( C87 `1_4 ) , ( C87 `2_4 ) , ( C87 `3_4 ) , ( C87 `4_4 ) ] by MCART_1:56;
L126: (C79 = ( C87 `1_4 ) & C81 = ( C87 `2_4 )) by L125 , L124 , XTUPLE_0:5;
L127: C86 = [ ( C86 `1_4 ) , ( C86 `2_4 ) , ( C86 `3_4 ) , ( C86 `4_4 ) ] by MCART_1:56;
L128: (C82 = ( C86 `3_4 ) & C84 = ( C86 `4_4 )) by L127 , L123 , XTUPLE_0:5;
L129: (C83 = ( C87 `3_4 ) & C85 = ( C87 `4_4 )) by L124 , L125 , XTUPLE_0:5;
L130: (C78 = ( C86 `1_4 ) & C80 = ( C86 `2_4 )) by L123 , L127 , XTUPLE_0:5;
thus L131: thesis by L130 , L122 , L126 , L128 , L129;
end;
definition
let R1 being non  empty MetrSpace;
let R2 being non  empty MetrSpace;
let R3 being non  empty MetrSpace;
let R4 being non  empty MetrSpace;
func dist_cart4 (R1 , R2 , R3 , R4) -> (Function of [: [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) , (the carrier of R4) :] , [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) , (the carrier of R4) :] :] , ( REAL )) means 
:L132: (for B108 , B109 being (Element of R1) holds (for B110 , B111 being (Element of R2) holds (for B112 , B113 being (Element of R3) holds (for B114 , B115 being (Element of R4) holds (for B116 , B117 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) , (the carrier of R4) :]) holds ((B116 = [ B108 , B110 , B112 , B114 ] & B117 = [ B109 , B111 , B113 , B115 ]) implies ( it . (B116 , B117) ) = ( ( ( dist (B108 , B109) ) + ( dist (B110 , B111) ) ) + ( ( dist (B112 , B113) ) + ( dist (B114 , B115) ) ) )))))));
existence
proof
deffunc H6((Element of R1) , (Element of R1) , (Element of R2) , (Element of R2) , (Element of R3) , (Element of R3) , (Element of R4) , (Element of R4)) = ( ( ( dist ($1 , $2) ) + ( dist ($3 , $4) ) ) + ( ( dist ($5 , $6) ) + ( dist ($7 , $8) ) ) );
consider C88 being (Function of [: [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) , (the carrier of R4) :] , [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) , (the carrier of R4) :] :] , ( REAL )) such that L133: (for B118 , B119 being (Element of R1) holds (for B120 , B121 being (Element of R2) holds (for B122 , B123 being (Element of R3) holds (for B124 , B125 being (Element of R4) holds (for B126 , B127 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) , (the carrier of R4) :]) holds ((B126 = [ B118 , B120 , B122 , B124 ] & B127 = [ B119 , B121 , B123 , B125 ]) implies ( C88 . (B126 , B127) ) = H6(B118 , B119 , B120 , B121 , B122 , B123 , B124 , B125))))))) from LambdaMCART2;
take C88;
let C89 , C90 being (Element of R1);
let C91 , C92 being (Element of R2);
let C93 , C94 being (Element of R3);
let C95 , C96 being (Element of R4);
let C97 , C98 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) , (the carrier of R4) :]);
assume L134: (C97 = [ C89 , C91 , C93 , C95 ] & C98 = [ C90 , C92 , C94 , C96 ]);
thus L135: thesis by L134 , L133;
end;
uniqueness
proof
let C99 , C100 being (Function of [: [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) , (the carrier of R4) :] , [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) , (the carrier of R4) :] :] , ( REAL ));
assume that
L136: (for B128 , B129 being (Element of R1) holds (for B130 , B131 being (Element of R2) holds (for B132 , B133 being (Element of R3) holds (for B134 , B135 being (Element of R4) holds (for B136 , B137 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) , (the carrier of R4) :]) holds ((B136 = [ B128 , B130 , B132 , B134 ] & B137 = [ B129 , B131 , B133 , B135 ]) implies ( C99 . (B136 , B137) ) = ( ( ( dist (B128 , B129) ) + ( dist (B130 , B131) ) ) + ( ( dist (B132 , B133) ) + ( dist (B134 , B135) ) ) )))))))
and
L137: (for B138 , B139 being (Element of R1) holds (for B140 , B141 being (Element of R2) holds (for B142 , B143 being (Element of R3) holds (for B144 , B145 being (Element of R4) holds (for B146 , B147 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) , (the carrier of R4) :]) holds ((B146 = [ B138 , B140 , B142 , B144 ] & B147 = [ B139 , B141 , B143 , B145 ]) implies ( C100 . (B146 , B147) ) = ( ( ( dist (B138 , B139) ) + ( dist (B140 , B141) ) ) + ( ( dist (B142 , B143) ) + ( dist (B144 , B145) ) ) )))))));
L138: (for B148 , B149 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) , (the carrier of R4) :]) holds ( C99 . (B148 , B149) ) = ( C100 . (B148 , B149) ))
proof
let C101 , C102 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) , (the carrier of R4) :]);
consider C103 being (Element of R1), C104 being (Element of R2), C105 being (Element of R3), C106 being (Element of R4) such that L139: C101 = [ C103 , C104 , C105 , C106 ] by DOMAIN_1:10;
consider C107 being (Element of R1), C108 being (Element of R2), C109 being (Element of R3), C110 being (Element of R4) such that L140: C102 = [ C107 , C108 , C109 , C110 ] by DOMAIN_1:10;
thus L141: ( C99 . (C101 , C102) ) = ( ( ( dist (C103 , C107) ) + ( dist (C104 , C108) ) ) + ( ( dist (C105 , C109) ) + ( dist (C106 , C110) ) ) ) by L136 , L139 , L140
.= ( C100 . (C101 , C102) ) by L137 , L139 , L140;
end;
thus L142: thesis by L138 , BINOP_1:2;
end;
end;
theorem
L144: (for R1 being non  empty MetrSpace holds (for R2 being non  empty MetrSpace holds (for R3 being non  empty MetrSpace holds (for R4 being non  empty MetrSpace holds (for B150 , B151 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) , (the carrier of R4) :]) holds (( ( dist_cart4 (R1 , R2 , R3 , R4) ) . (B150 , B151) ) = ( 0 ) iff B150 = B151))))))
proof
let R1 being non  empty MetrSpace;
let R2 being non  empty MetrSpace;
let R3 being non  empty MetrSpace;
let R4 being non  empty MetrSpace;
let C111 , C112 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) , (the carrier of R4) :]);
reconsider D60 = ( C111 `1_4 ) , D61 = ( C112 `1_4 ) as (Element of R1);
reconsider D62 = ( C111 `2_4 ) , D63 = ( C112 `2_4 ) as (Element of R2);
reconsider D64 = ( C111 `3_4 ) , D65 = ( C112 `3_4 ) as (Element of R3);
reconsider D66 = ( C111 `4_4 ) , D67 = ( C112 `4_4 ) as (Element of R4);
L145: (C111 = [ D60 , D62 , D64 , D66 ] & C112 = [ D61 , D63 , D65 , D67 ]) by MCART_1:56;
thus L146: (( ( dist_cart4 (R1 , R2 , R3 , R4) ) . (C111 , C112) ) = ( 0 ) implies C111 = C112)
proof
set D68 = ( dist (D60 , D61) );
set D69 = ( dist (D62 , D63) );
set D70 = ( dist (D64 , D65) );
set D71 = ( dist (D66 , D67) );
set D72 = ( D68 + D69 );
set D73 = ( D70 + D71 );
L147: (( 0 ) <= D70 & ( 0 ) <= D71) by METRIC_1:5;
L148: ( ( 0 ) + ( 0 ) ) <= ( D70 + D71 ) by L147 , XREAL_1:7;
assume L149: ( ( dist_cart4 (R1 , R2 , R3 , R4) ) . (C111 , C112) ) = ( 0 );
L150: ( D72 + D73 ) = ( 0 ) by L149 , L145 , L132;
L151: (( 0 ) <= D68 & ( 0 ) <= D69) by METRIC_1:5;
L152: ( ( 0 ) + ( 0 ) ) <= ( D68 + D69 ) by L151 , XREAL_1:7;
L153: D72 = ( 0 ) by L152 , L150 , L148 , XREAL_1:27;
L154: D69 = ( 0 ) by L153 , L151 , XREAL_1:27;
L155: D62 = D63 by L154 , METRIC_1:2;
L156: D73 = ( 0 ) by L150 , L152 , L148 , XREAL_1:27;
L157: D70 = ( 0 ) by L156 , L147 , XREAL_1:27;
L158: D64 = D65 by L157 , METRIC_1:2;
L159: D71 = ( 0 ) by L147 , L156 , XREAL_1:27;
L160: D66 = D67 by L159 , METRIC_1:2;
L161: D68 = ( 0 ) by L151 , L153 , XREAL_1:27;
thus L162: thesis by L161 , L145 , L155 , L158 , L160 , METRIC_1:2;
end;

assume L163: C111 = C112;
L164: (( dist (D62 , D63) ) = ( 0 ) & ( dist (D64 , D65) ) = ( 0 )) by L163 , METRIC_1:1;
L165: ( dist (D66 , D67) ) = ( 0 ) by L163 , METRIC_1:1;
L166: ( ( dist_cart4 (R1 , R2 , R3 , R4) ) . (C111 , C112) ) = ( ( ( dist (D60 , D61) ) + ( dist (D62 , D63) ) ) + ( ( dist (D64 , D65) ) + ( dist (D66 , D67) ) ) ) by L145 , L132
.= ( 0 ) by L163 , L164 , L165 , METRIC_1:1;
thus L167: thesis by L166;
end;
theorem
L168: (for R1 being non  empty MetrSpace holds (for R2 being non  empty MetrSpace holds (for R3 being non  empty MetrSpace holds (for R4 being non  empty MetrSpace holds (for B152 , B153 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) , (the carrier of R4) :]) holds ( ( dist_cart4 (R1 , R2 , R3 , R4) ) . (B152 , B153) ) = ( ( dist_cart4 (R1 , R2 , R3 , R4) ) . (B153 , B152) ))))))
proof
let R1 being non  empty MetrSpace;
let R2 being non  empty MetrSpace;
let R3 being non  empty MetrSpace;
let R4 being non  empty MetrSpace;
let C113 , C114 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) , (the carrier of R4) :]);
reconsider D74 = ( C113 `1_4 ) , D75 = ( C114 `1_4 ) as (Element of R1);
reconsider D76 = ( C113 `2_4 ) , D77 = ( C114 `2_4 ) as (Element of R2);
reconsider D78 = ( C113 `3_4 ) , D79 = ( C114 `3_4 ) as (Element of R3);
reconsider D80 = ( C113 `4_4 ) , D81 = ( C114 `4_4 ) as (Element of R4);
L169: (C113 = [ D74 , D76 , D78 , D80 ] & C114 = [ D75 , D77 , D79 , D81 ]) by MCART_1:56;
L170: ( ( dist_cart4 (R1 , R2 , R3 , R4) ) . (C113 , C114) ) = ( ( ( dist (D75 , D74) ) + ( dist (D77 , D76) ) ) + ( ( dist (D79 , D78) ) + ( dist (D80 , D81) ) ) ) by L169 , L132
.= ( ( dist_cart4 (R1 , R2 , R3 , R4) ) . (C114 , C113) ) by L169 , L132;
thus L171: thesis by L170;
end;
theorem
L172: (for R1 being non  empty MetrSpace holds (for R2 being non  empty MetrSpace holds (for R3 being non  empty MetrSpace holds (for R4 being non  empty MetrSpace holds (for B154 , B155 , B156 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) , (the carrier of R4) :]) holds ( ( dist_cart4 (R1 , R2 , R3 , R4) ) . (B154 , B156) ) <= ( ( ( dist_cart4 (R1 , R2 , R3 , R4) ) . (B154 , B155) ) + ( ( dist_cart4 (R1 , R2 , R3 , R4) ) . (B155 , B156) ) ))))))
proof
let R1 being non  empty MetrSpace;
let R2 being non  empty MetrSpace;
let R3 being non  empty MetrSpace;
let R4 being non  empty MetrSpace;
let C115 , C116 , C117 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) , (the carrier of R4) :]);
reconsider D82 = ( C115 `1_4 ) , D83 = ( C116 `1_4 ) , D84 = ( C117 `1_4 ) as (Element of R1);
reconsider D85 = ( C115 `2_4 ) , D86 = ( C116 `2_4 ) , D87 = ( C117 `2_4 ) as (Element of R2);
reconsider D88 = ( C115 `3_4 ) , D89 = ( C116 `3_4 ) , D90 = ( C117 `3_4 ) as (Element of R3);
reconsider D91 = ( C115 `4_4 ) , D92 = ( C116 `4_4 ) , D93 = ( C117 `4_4 ) as (Element of R4);
L173: C115 = [ D82 , D85 , D88 , D91 ] by MCART_1:56;
set D94 = ( dist (D88 , D90) );
set D95 = ( dist (D88 , D89) );
set D96 = ( dist (D89 , D90) );
set D97 = ( dist (D82 , D84) );
set D98 = ( dist (D82 , D83) );
set D99 = ( dist (D83 , D84) );
L174: C116 = [ D83 , D86 , D89 , D92 ] by MCART_1:56;
set D100 = ( dist (D91 , D93) );
set D101 = ( dist (D91 , D92) );
set D102 = ( dist (D92 , D93) );
set D103 = ( dist (D85 , D87) );
set D104 = ( dist (D85 , D86) );
set D105 = ( dist (D86 , D87) );
L175: C117 = [ D84 , D87 , D90 , D93 ] by MCART_1:56;
set D106 = ( D94 + D100 );
set D107 = ( D97 + D103 );
set D108 = ( ( D95 + D96 ) + ( D101 + D102 ) );
set D109 = ( ( D98 + D99 ) + ( D104 + D105 ) );
L176: (D94 <= ( D95 + D96 ) & D100 <= ( D101 + D102 )) by METRIC_1:4;
L177: D106 <= D108 by L176 , XREAL_1:7;
L178: (D97 <= ( D98 + D99 ) & D103 <= ( D104 + D105 )) by METRIC_1:4;
L179: D107 <= D109 by L178 , XREAL_1:7;
L180: ( D107 + D106 ) <= ( D109 + D108 ) by L179 , L177 , XREAL_1:7;
L181: ( D109 + D108 ) = ( ( ( D98 + D104 ) + ( D95 + D101 ) ) + ( ( D99 + D105 ) + ( D96 + D102 ) ) )
.= ( ( ( dist_cart4 (R1 , R2 , R3 , R4) ) . (C115 , C116) ) + ( ( D99 + D105 ) + ( D96 + D102 ) ) ) by L173 , L174 , L132
.= ( ( ( dist_cart4 (R1 , R2 , R3 , R4) ) . (C115 , C116) ) + ( ( dist_cart4 (R1 , R2 , R3 , R4) ) . (C116 , C117) ) ) by L174 , L175 , L132;
thus L182: thesis by L181 , L173 , L175 , L180 , L132;
end;
definition
let R1 being non  empty MetrSpace;
let R2 being non  empty MetrSpace;
let R3 being non  empty MetrSpace;
let R4 being non  empty MetrSpace;
func MetrSpaceCart4 (R1 , R2 , R3 , R4) ->  strict non  empty MetrSpace equals 
MetrStruct (# [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) , (the carrier of R4) :] , ( dist_cart4 (R1 , R2 , R3 , R4) ) #);
coherence
proof
set D110 = MetrStruct (# [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) , (the carrier of R4) :] , ( dist_cart4 (R1 , R2 , R3 , R4) ) #);
L183:
now
let C118 , C119 , C120 being (Element of D110);
reconsider D111 = C118 , D112 = C119 , D113 = C120 as (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) , (the carrier of R4) :]);
L184: ( dist (C118 , C119) ) = ( ( dist_cart4 (R1 , R2 , R3 , R4) ) . (D111 , D112) ) by METRIC_1:def 1;
thus L185: (( dist (C118 , C119) ) = ( 0 ) iff C118 = C119) by L184 , L144;
L186: ( dist (C119 , C118) ) = ( ( dist_cart4 (R1 , R2 , R3 , R4) ) . (D112 , D111) ) by METRIC_1:def 1;
thus L187: ( dist (C118 , C119) ) = ( dist (C119 , C118) ) by L186 , L184 , L168;
L188: (( dist (C118 , C120) ) = ( ( dist_cart4 (R1 , R2 , R3 , R4) ) . (D111 , D113) ) & ( dist (C119 , C120) ) = ( ( dist_cart4 (R1 , R2 , R3 , R4) ) . (D112 , D113) )) by METRIC_1:def 1;
thus L189: ( dist (C118 , C120) ) <= ( ( dist (C118 , C119) ) + ( dist (C119 , C120) ) ) by L188 , L184 , L172;
end;
thus L190: thesis by L183 , METRIC_1:6;
end;
end;
definition
let R1 being non  empty MetrSpace;
let R2 being non  empty MetrSpace;
let R3 being non  empty MetrSpace;
let R4 being non  empty MetrSpace;
let C121 , C122 being (Element of [: (the carrier of R1) , (the carrier of R2) , (the carrier of R3) , (the carrier of R4) :]);
func dist4 (C121 , C122) -> Real equals 
( ( dist_cart4 (R1 , R2 , R3 , R4) ) . (C121 , C122) );
coherence;
end;
begin
definition
let R5 being non  empty MetrSpace;
let R6 being non  empty MetrSpace;
func dist_cart2S (R5 , R6) -> (Function of [: [: (the carrier of R5) , (the carrier of R6) :] , [: (the carrier of R5) , (the carrier of R6) :] :] , ( REAL )) means 
:L193: (for B157 , B158 being (Element of R5) holds (for B159 , B160 being (Element of R6) holds (for B161 , B162 being (Element of [: (the carrier of R5) , (the carrier of R6) :]) holds ((B161 = [ B157 , B159 ] & B162 = [ B158 , B160 ]) implies ( it . (B161 , B162) ) = ( sqrt ( ( ( dist (B157 , B158) ) ^2 ) + ( ( dist (B159 , B160) ) ^2 ) ) )))));
existence
proof
deffunc H7((Element of R5) , (Element of R5) , (Element of R6) , (Element of R6)) = ( sqrt ( ( ( dist ($1 , $2) ) ^2 ) + ( ( dist ($3 , $4) ) ^2 ) ) );
consider C123 being (Function of [: [: (the carrier of R5) , (the carrier of R6) :] , [: (the carrier of R5) , (the carrier of R6) :] :] , ( REAL )) such that L194: (for B163 , B164 being (Element of R5) holds (for B165 , B166 being (Element of R6) holds (for B167 , B168 being (Element of [: (the carrier of R5) , (the carrier of R6) :]) holds ((B167 = [ B163 , B165 ] & B168 = [ B164 , B166 ]) implies ( C123 . (B167 , B168) ) = H7(B163 , B164 , B165 , B166))))) from LambdaMCART;
take C123;
let C124 , C125 being (Element of R5);
let C126 , C127 being (Element of R6);
let C128 , C129 being (Element of [: (the carrier of R5) , (the carrier of R6) :]);
assume L195: (C128 = [ C124 , C126 ] & C129 = [ C125 , C127 ]);
thus L196: thesis by L195 , L194;
end;
uniqueness
proof
let C130 , C131 being (Function of [: [: (the carrier of R5) , (the carrier of R6) :] , [: (the carrier of R5) , (the carrier of R6) :] :] , ( REAL ));
assume that
L197: (for B169 , B170 being (Element of R5) holds (for B171 , B172 being (Element of R6) holds (for B173 , B174 being (Element of [: (the carrier of R5) , (the carrier of R6) :]) holds ((B173 = [ B169 , B171 ] & B174 = [ B170 , B172 ]) implies ( C130 . (B173 , B174) ) = ( sqrt ( ( ( dist (B169 , B170) ) ^2 ) + ( ( dist (B171 , B172) ) ^2 ) ) )))))
and
L198: (for B175 , B176 being (Element of R5) holds (for B177 , B178 being (Element of R6) holds (for B179 , B180 being (Element of [: (the carrier of R5) , (the carrier of R6) :]) holds ((B179 = [ B175 , B177 ] & B180 = [ B176 , B178 ]) implies ( C131 . (B179 , B180) ) = ( sqrt ( ( ( dist (B175 , B176) ) ^2 ) + ( ( dist (B177 , B178) ) ^2 ) ) )))));
L199: (for B181 , B182 being (Element of [: (the carrier of R5) , (the carrier of R6) :]) holds ( C130 . (B181 , B182) ) = ( C131 . (B181 , B182) ))
proof
let C132 , C133 being (Element of [: (the carrier of R5) , (the carrier of R6) :]);
consider C134 being (Element of R5), C135 being (Element of R6) such that L200: C132 = [ C134 , C135 ] by DOMAIN_1:1;
consider C136 being (Element of R5), C137 being (Element of R6) such that L201: C133 = [ C136 , C137 ] by DOMAIN_1:1;
thus L202: ( C130 . (C132 , C133) ) = ( sqrt ( ( ( dist (C134 , C136) ) ^2 ) + ( ( dist (C135 , C137) ) ^2 ) ) ) by L197 , L200 , L201
.= ( C131 . (C132 , C133) ) by L198 , L200 , L201;
end;
thus L203: thesis by L199 , BINOP_1:2;
end;
end;
L205: (for B183 , B184 being  real number holds ((( 0 ) <= B183 & ( 0 ) <= B184) implies (( sqrt ( B183 + B184 ) ) = ( 0 ) iff (B183 = ( 0 ) & B184 = ( 0 ))))) by SQUARE_1:31;
theorem
L206: (for R5 being non  empty MetrSpace holds (for R6 being non  empty MetrSpace holds (for B185 , B186 being (Element of [: (the carrier of R5) , (the carrier of R6) :]) holds (( ( dist_cart2S (R5 , R6) ) . (B185 , B186) ) = ( 0 ) iff B185 = B186))))
proof
let R5 being non  empty MetrSpace;
let R6 being non  empty MetrSpace;
let C138 , C139 being (Element of [: (the carrier of R5) , (the carrier of R6) :]);
reconsider D114 = ( C138 `1 ) , D115 = ( C139 `1 ) as (Element of R5);
reconsider D116 = ( C138 `2 ) , D117 = ( C139 `2 ) as (Element of R6);
L207: (C138 = [ D114 , D116 ] & C139 = [ D115 , D117 ]) by MCART_1:22;
thus L208: (( ( dist_cart2S (R5 , R6) ) . (C138 , C139) ) = ( 0 ) implies C138 = C139)
proof
set D118 = ( dist (D116 , D117) );
set D119 = ( dist (D114 , D115) );
assume L209: ( ( dist_cart2S (R5 , R6) ) . (C138 , C139) ) = ( 0 );
L210: ( sqrt ( ( D119 ^2 ) + ( D118 ^2 ) ) ) = ( 0 ) by L209 , L207 , L193;
L211: (( 0 ) <= ( D119 ^2 ) & ( 0 ) <= ( D118 ^2 )) by XREAL_1:63;
L212: D119 = ( 0 ) by L211 , L210 , L205;
L213: D114 = D115 by L212 , METRIC_1:2;
L214: D118 = ( 0 ) by L210 , L211 , L205;
thus L215: thesis by L214 , L207 , L213 , METRIC_1:2;
end;

assume L216: C138 = C139;
L217: (( ( dist (D114 , D115) ) ^2 ) = ( ( 0 ) ^2 ) & ( ( dist (D116 , D117) ) ^2 ) = ( ( 0 ) ^2 )) by L216 , METRIC_1:1;
L218: ( ( dist_cart2S (R5 , R6) ) . (C138 , C139) ) = ( sqrt ( ( ( dist (D114 , D115) ) ^2 ) + ( ( dist (D116 , D117) ) ^2 ) ) ) by L207 , L193
.= ( 0 ) by L217 , L205;
thus L219: thesis by L218;
end;
theorem
L220: (for R5 being non  empty MetrSpace holds (for R6 being non  empty MetrSpace holds (for B187 , B188 being (Element of [: (the carrier of R5) , (the carrier of R6) :]) holds ( ( dist_cart2S (R5 , R6) ) . (B187 , B188) ) = ( ( dist_cart2S (R5 , R6) ) . (B188 , B187) ))))
proof
let R5 being non  empty MetrSpace;
let R6 being non  empty MetrSpace;
let C140 , C141 being (Element of [: (the carrier of R5) , (the carrier of R6) :]);
reconsider D120 = ( C140 `1 ) , D121 = ( C141 `1 ) as (Element of R5);
reconsider D122 = ( C140 `2 ) , D123 = ( C141 `2 ) as (Element of R6);
L221: (C140 = [ D120 , D122 ] & C141 = [ D121 , D123 ]) by MCART_1:22;
L222: ( ( dist_cart2S (R5 , R6) ) . (C140 , C141) ) = ( sqrt ( ( ( dist (D121 , D120) ) ^2 ) + ( ( dist (D122 , D123) ) ^2 ) ) ) by L221 , L193
.= ( ( dist_cart2S (R5 , R6) ) . (C141 , C140) ) by L221 , L193;
thus L223: thesis by L222;
end;
theorem
L224: (for B189 , B190 , B191 , B192 being  real number holds ((( 0 ) <= B189 & ( 0 ) <= B190 & ( 0 ) <= B191 & ( 0 ) <= B192) implies ( sqrt ( ( ( B189 + B191 ) ^2 ) + ( ( B190 + B192 ) ^2 ) ) ) <= ( ( sqrt ( ( B189 ^2 ) + ( B190 ^2 ) ) ) + ( sqrt ( ( B191 ^2 ) + ( B192 ^2 ) ) ) )))
proof
let C142 , C143 , C144 , C145 being  real number;
assume L225: (( 0 ) <= C142 & ( 0 ) <= C143 & ( 0 ) <= C144 & ( 0 ) <= C145);
L226: (( 0 ) <= ( C142 * C144 ) & ( 0 ) <= ( C145 * C143 )) by L225 , XREAL_1:127;
L227: ( ( 0 ) + ( 0 ) ) <= ( ( C142 * C144 ) + ( C145 * C143 ) ) by L226 , XREAL_1:7;
L228: (( 0 ) <= ( C145 ^2 ) & ( 0 ) <= ( C144 ^2 )) by XREAL_1:63;
L229: ( ( 0 ) + ( 0 ) ) <= ( ( C144 ^2 ) + ( C145 ^2 ) ) by L228 , XREAL_1:7;
L230: ( 0 ) <= ( sqrt ( ( C144 ^2 ) + ( C145 ^2 ) ) ) by L229 , SQUARE_1:def 2;
L231: ( 0 ) <= ( ( ( C142 * C145 ) - ( C144 * C143 ) ) ^2 ) by XREAL_1:63;
L232: ( 0 ) <= ( ( ( ( C142 ^2 ) * ( C145 ^2 ) ) + ( ( C144 ^2 ) * ( C143 ^2 ) ) ) - ( ( 2 * ( C142 * C145 ) ) * ( C144 * C143 ) ) ) by L231;
L233: ( ( 0 ) + ( ( 2 * ( C142 * C145 ) ) * ( C144 * C143 ) ) ) <= ( ( ( C142 ^2 ) * ( C145 ^2 ) ) + ( ( C144 ^2 ) * ( C143 ^2 ) ) ) by L232 , XREAL_1:19;
L234: ( ( ( C143 ^2 ) * ( C145 ^2 ) ) + ( ( 2 * ( C142 * C145 ) ) * ( C144 * C143 ) ) ) <= ( ( ( ( C142 ^2 ) * ( C145 ^2 ) ) + ( ( C144 ^2 ) * ( C143 ^2 ) ) ) + ( ( C143 ^2 ) * ( C145 ^2 ) ) ) by L233 , XREAL_1:6;
L235: ( ( ( C142 ^2 ) * ( C144 ^2 ) ) + ( ( ( C143 ^2 ) * ( C145 ^2 ) ) + ( ( 2 * ( C142 * C145 ) ) * ( C144 * C143 ) ) ) ) <= ( ( ( C142 ^2 ) * ( C144 ^2 ) ) + ( ( ( C143 ^2 ) * ( C145 ^2 ) ) + ( ( ( C142 ^2 ) * ( C145 ^2 ) ) + ( ( C144 ^2 ) * ( C143 ^2 ) ) ) ) ) by L234 , XREAL_1:6;
L236: (( 0 ) <= ( C142 ^2 ) & ( 0 ) <= ( C143 ^2 )) by XREAL_1:63;
L237: ( ( 0 ) + ( 0 ) ) <= ( ( C142 ^2 ) + ( C143 ^2 ) ) by L236 , XREAL_1:7;
L238: ( 0 ) <= ( sqrt ( ( C142 ^2 ) + ( C143 ^2 ) ) ) by L237 , SQUARE_1:def 2;
L239: ( ( 0 ) + ( 0 ) ) <= ( ( sqrt ( ( C142 ^2 ) + ( C143 ^2 ) ) ) + ( sqrt ( ( C144 ^2 ) + ( C145 ^2 ) ) ) ) by L238 , L230 , XREAL_1:7;
L240: ( 0 ) <= ( ( ( C142 * C144 ) + ( C145 * C143 ) ) ^2 ) by XREAL_1:63;
L241: ( sqrt ( ( ( C142 * C144 ) + ( C145 * C143 ) ) ^2 ) ) <= ( sqrt ( ( ( C142 ^2 ) + ( C143 ^2 ) ) * ( ( C144 ^2 ) + ( C145 ^2 ) ) ) ) by L240 , L235 , SQUARE_1:26;
L242: ( 2 * ( sqrt ( ( ( C142 * C144 ) + ( C145 * C143 ) ) ^2 ) ) ) <= ( 2 * ( sqrt ( ( ( C142 ^2 ) + ( C143 ^2 ) ) * ( ( C144 ^2 ) + ( C145 ^2 ) ) ) ) ) by L241 , XREAL_1:64;
L243: ( 2 * ( sqrt ( ( ( C142 * C144 ) + ( C145 * C143 ) ) ^2 ) ) ) <= ( 2 * ( ( sqrt ( ( C142 ^2 ) + ( C143 ^2 ) ) ) * ( sqrt ( ( C144 ^2 ) + ( C145 ^2 ) ) ) ) ) by L242 , L237 , L229 , SQUARE_1:29;
L244: ( 2 * ( ( C142 * C144 ) + ( C145 * C143 ) ) ) <= ( 2 * ( ( sqrt ( ( C142 ^2 ) + ( C143 ^2 ) ) ) * ( sqrt ( ( C145 ^2 ) + ( C144 ^2 ) ) ) ) ) by L243 , L227 , SQUARE_1:22;
L245: ( ( C143 ^2 ) + ( 2 * ( ( C142 * C144 ) + ( C145 * C143 ) ) ) ) <= ( ( 2 * ( ( sqrt ( ( C142 ^2 ) + ( C143 ^2 ) ) ) * ( sqrt ( ( C145 ^2 ) + ( C144 ^2 ) ) ) ) ) + ( C143 ^2 ) ) by L244 , XREAL_1:6;
L246: ( ( C145 ^2 ) + ( ( C143 ^2 ) + ( 2 * ( ( C142 * C144 ) + ( C145 * C143 ) ) ) ) ) <= ( ( C145 ^2 ) + ( ( C143 ^2 ) + ( 2 * ( ( sqrt ( ( C142 ^2 ) + ( C143 ^2 ) ) ) * ( sqrt ( ( C145 ^2 ) + ( C144 ^2 ) ) ) ) ) ) ) by L245 , XREAL_1:6;
L247: ( ( C144 ^2 ) + ( ( C145 ^2 ) + ( ( C143 ^2 ) + ( 2 * ( ( C142 * C144 ) + ( C145 * C143 ) ) ) ) ) ) <= ( ( ( C145 ^2 ) + ( ( C143 ^2 ) + ( 2 * ( ( sqrt ( ( C142 ^2 ) + ( C143 ^2 ) ) ) * ( sqrt ( ( C145 ^2 ) + ( C144 ^2 ) ) ) ) ) ) ) + ( C144 ^2 ) ) by L246 , XREAL_1:6;
L248: ( ( C142 ^2 ) + ( ( C144 ^2 ) + ( ( C145 ^2 ) + ( ( ( C143 ^2 ) + ( 2 * ( C145 * C143 ) ) ) + ( 2 * ( C142 * C144 ) ) ) ) ) ) <= ( ( C142 ^2 ) + ( ( C144 ^2 ) + ( ( C145 ^2 ) + ( ( C143 ^2 ) + ( 2 * ( ( sqrt ( ( C142 ^2 ) + ( C143 ^2 ) ) ) * ( sqrt ( ( C145 ^2 ) + ( C144 ^2 ) ) ) ) ) ) ) ) ) by L247 , XREAL_1:6;
L249: ( ( ( C142 + C144 ) ^2 ) + ( ( C145 + C143 ) ^2 ) ) <= ( ( ( ( C142 ^2 ) + ( C143 ^2 ) ) + ( 2 * ( ( sqrt ( ( C142 ^2 ) + ( C143 ^2 ) ) ) * ( sqrt ( ( C144 ^2 ) + ( C145 ^2 ) ) ) ) ) ) + ( ( C144 ^2 ) + ( C145 ^2 ) ) ) by L248;
L250: ( ( ( C142 + C144 ) ^2 ) + ( ( C145 + C143 ) ^2 ) ) <= ( ( ( ( sqrt ( ( C142 ^2 ) + ( C143 ^2 ) ) ) ^2 ) + ( 2 * ( ( sqrt ( ( C142 ^2 ) + ( C143 ^2 ) ) ) * ( sqrt ( ( C144 ^2 ) + ( C145 ^2 ) ) ) ) ) ) + ( ( C144 ^2 ) + ( C145 ^2 ) ) ) by L249 , L237 , SQUARE_1:def 2;
L251: ( ( ( C142 + C144 ) ^2 ) + ( ( C145 + C143 ) ^2 ) ) <= ( ( ( ( sqrt ( ( C142 ^2 ) + ( C143 ^2 ) ) ) ^2 ) + ( ( 2 * ( sqrt ( ( C142 ^2 ) + ( C143 ^2 ) ) ) ) * ( sqrt ( ( C144 ^2 ) + ( C145 ^2 ) ) ) ) ) + ( ( sqrt ( ( C144 ^2 ) + ( C145 ^2 ) ) ) ^2 ) ) by L250 , L229 , SQUARE_1:def 2;
L252: (( 0 ) <= ( ( C142 + C144 ) ^2 ) & ( 0 ) <= ( ( C145 + C143 ) ^2 )) by XREAL_1:63;
L253: ( ( 0 ) + ( 0 ) ) <= ( ( ( C142 + C144 ) ^2 ) + ( ( C145 + C143 ) ^2 ) ) by L252 , XREAL_1:7;
L254: ( sqrt ( ( ( C142 + C144 ) ^2 ) + ( ( C145 + C143 ) ^2 ) ) ) <= ( sqrt ( ( ( sqrt ( ( C142 ^2 ) + ( C143 ^2 ) ) ) + ( sqrt ( ( C144 ^2 ) + ( C145 ^2 ) ) ) ) ^2 ) ) by L253 , L251 , SQUARE_1:26;
thus L255: thesis by L254 , L239 , SQUARE_1:22;
end;
theorem
L256: (for R5 being non  empty MetrSpace holds (for R6 being non  empty MetrSpace holds (for B193 , B194 , B195 being (Element of [: (the carrier of R5) , (the carrier of R6) :]) holds ( ( dist_cart2S (R5 , R6) ) . (B193 , B195) ) <= ( ( ( dist_cart2S (R5 , R6) ) . (B193 , B194) ) + ( ( dist_cart2S (R5 , R6) ) . (B194 , B195) ) ))))
proof
let R5 being non  empty MetrSpace;
let R6 being non  empty MetrSpace;
let C146 , C147 , C148 being (Element of [: (the carrier of R5) , (the carrier of R6) :]);
reconsider D124 = ( C146 `1 ) , D125 = ( C147 `1 ) , D126 = ( C148 `1 ) as (Element of R5);
reconsider D127 = ( C146 `2 ) , D128 = ( C147 `2 ) , D129 = ( C148 `2 ) as (Element of R6);
L257: C146 = [ D124 , D127 ] by MCART_1:22;
set D130 = ( dist (D127 , D128) );
set D131 = ( dist (D125 , D126) );
set D132 = ( dist (D124 , D126) );
L258: C147 = [ D125 , D128 ] by MCART_1:22;
set D133 = ( dist (D128 , D129) );
set D134 = ( dist (D127 , D129) );
set D135 = ( dist (D124 , D125) );
L259: C148 = [ D126 , D129 ] by MCART_1:22;
L260: (( 0 ) <= ( D132 ^2 ) & ( 0 ) <= ( D134 ^2 )) by XREAL_1:63;
L261: ( ( 0 ) + ( 0 ) ) <= ( ( D132 ^2 ) + ( D134 ^2 ) ) by L260 , XREAL_1:7;
L262: (D134 <= ( D130 + D133 ) & ( 0 ) <= D134) by METRIC_1:4 , METRIC_1:5;
L263: ( D134 ^2 ) <= ( ( D130 + D133 ) ^2 ) by L262 , SQUARE_1:15;
L264: (D132 <= ( D135 + D131 ) & ( 0 ) <= D132) by METRIC_1:4 , METRIC_1:5;
L265: ( D132 ^2 ) <= ( ( D135 + D131 ) ^2 ) by L264 , SQUARE_1:15;
L266: ( ( D132 ^2 ) + ( D134 ^2 ) ) <= ( ( ( D135 + D131 ) ^2 ) + ( ( D130 + D133 ) ^2 ) ) by L265 , L263 , XREAL_1:7;
L267: ( sqrt ( ( D132 ^2 ) + ( D134 ^2 ) ) ) <= ( sqrt ( ( ( D135 + D131 ) ^2 ) + ( ( D130 + D133 ) ^2 ) ) ) by L266 , L261 , SQUARE_1:26;
L268: (( 0 ) <= D130 & ( 0 ) <= D133) by METRIC_1:5;
L269: (( 0 ) <= D135 & ( 0 ) <= D131) by METRIC_1:5;
L270: ( sqrt ( ( ( D135 + D131 ) ^2 ) + ( ( D130 + D133 ) ^2 ) ) ) <= ( ( sqrt ( ( D135 ^2 ) + ( D130 ^2 ) ) ) + ( sqrt ( ( D131 ^2 ) + ( D133 ^2 ) ) ) ) by L269 , L268 , L224;
L271: ( sqrt ( ( D132 ^2 ) + ( D134 ^2 ) ) ) <= ( ( sqrt ( ( D135 ^2 ) + ( D130 ^2 ) ) ) + ( sqrt ( ( D131 ^2 ) + ( D133 ^2 ) ) ) ) by L270 , L267 , XXREAL_0:2;
L272: ( ( dist_cart2S (R5 , R6) ) . (C146 , C148) ) <= ( ( sqrt ( ( D135 ^2 ) + ( D130 ^2 ) ) ) + ( sqrt ( ( D131 ^2 ) + ( D133 ^2 ) ) ) ) by L271 , L257 , L259 , L193;
L273: ( ( dist_cart2S (R5 , R6) ) . (C146 , C148) ) <= ( ( ( dist_cart2S (R5 , R6) ) . (C146 , C147) ) + ( sqrt ( ( D131 ^2 ) + ( D133 ^2 ) ) ) ) by L272 , L257 , L258 , L193;
thus L274: thesis by L273 , L258 , L259 , L193;
end;
definition
let R5 being non  empty MetrSpace;
let R6 being non  empty MetrSpace;
let C149 , C150 being (Element of [: (the carrier of R5) , (the carrier of R6) :]);
func dist2S (C149 , C150) -> Real equals 
( ( dist_cart2S (R5 , R6) ) . (C149 , C150) );
coherence;
end;
definition
let R5 being non  empty MetrSpace;
let R6 being non  empty MetrSpace;
func MetrSpaceCart2S (R5 , R6) ->  strict non  empty MetrSpace equals 
MetrStruct (# [: (the carrier of R5) , (the carrier of R6) :] , ( dist_cart2S (R5 , R6) ) #);
coherence
proof
L276:
now
let C151 , C152 , C153 being (Element of MetrStruct (# [: (the carrier of R5) , (the carrier of R6) :] , ( dist_cart2S (R5 , R6) ) #));
reconsider D136 = C151 , D137 = C152 , D138 = C153 as (Element of [: (the carrier of R5) , (the carrier of R6) :]);
L277: ( dist (C151 , C152) ) = ( ( dist_cart2S (R5 , R6) ) . (D136 , D137) ) by METRIC_1:def 1;
thus L278: (( dist (C151 , C152) ) = ( 0 ) iff C151 = C152) by L277 , L206;
L279: ( dist (C152 , C151) ) = ( ( dist_cart2S (R5 , R6) ) . (D137 , D136) ) by METRIC_1:def 1;
thus L280: ( dist (C151 , C152) ) = ( dist (C152 , C151) ) by L279 , L277 , L220;
L281: (( dist (C151 , C153) ) = ( ( dist_cart2S (R5 , R6) ) . (D136 , D138) ) & ( dist (C152 , C153) ) = ( ( dist_cart2S (R5 , R6) ) . (D137 , D138) )) by METRIC_1:def 1;
thus L282: ( dist (C151 , C153) ) <= ( ( dist (C151 , C152) ) + ( dist (C152 , C153) ) ) by L281 , L277 , L256;
end;
thus L283: thesis by L276 , METRIC_1:6;
end;
end;
begin
definition
let R5 being non  empty MetrSpace;
let R6 being non  empty MetrSpace;
let R7 being non  empty MetrSpace;
func dist_cart3S (R5 , R6 , R7) -> (Function of [: [: (the carrier of R5) , (the carrier of R6) , (the carrier of R7) :] , [: (the carrier of R5) , (the carrier of R6) , (the carrier of R7) :] :] , ( REAL )) means 
:L285: (for B196 , B197 being (Element of R5) holds (for B198 , B199 being (Element of R6) holds (for B200 , B201 being (Element of R7) holds (for B202 , B203 being (Element of [: (the carrier of R5) , (the carrier of R6) , (the carrier of R7) :]) holds ((B202 = [ B196 , B198 , B200 ] & B203 = [ B197 , B199 , B201 ]) implies ( it . (B202 , B203) ) = ( sqrt ( ( ( ( dist (B196 , B197) ) ^2 ) + ( ( dist (B198 , B199) ) ^2 ) ) + ( ( dist (B200 , B201) ) ^2 ) ) ))))));
existence
proof
deffunc H8((Element of R5) , (Element of R5) , (Element of R6) , (Element of R6) , (Element of R7) , (Element of R7)) = ( sqrt ( ( ( ( dist ($1 , $2) ) ^2 ) + ( ( dist ($3 , $4) ) ^2 ) ) + ( ( dist ($5 , $6) ) ^2 ) ) );
consider C154 being (Function of [: [: (the carrier of R5) , (the carrier of R6) , (the carrier of R7) :] , [: (the carrier of R5) , (the carrier of R6) , (the carrier of R7) :] :] , ( REAL )) such that L286: (for B204 , B205 being (Element of R5) holds (for B206 , B207 being (Element of R6) holds (for B208 , B209 being (Element of R7) holds (for B210 , B211 being (Element of [: (the carrier of R5) , (the carrier of R6) , (the carrier of R7) :]) holds ((B210 = [ B204 , B206 , B208 ] & B211 = [ B205 , B207 , B209 ]) implies ( C154 . (B210 , B211) ) = H8(B204 , B205 , B206 , B207 , B208 , B209)))))) from LambdaMCART1;
take C154;
let C155 , C156 being (Element of R5);
let C157 , C158 being (Element of R6);
let C159 , C160 being (Element of R7);
let C161 , C162 being (Element of [: (the carrier of R5) , (the carrier of R6) , (the carrier of R7) :]);
assume L287: (C161 = [ C155 , C157 , C159 ] & C162 = [ C156 , C158 , C160 ]);
thus L288: thesis by L287 , L286;
end;
uniqueness
proof
let C163 , C164 being (Function of [: [: (the carrier of R5) , (the carrier of R6) , (the carrier of R7) :] , [: (the carrier of R5) , (the carrier of R6) , (the carrier of R7) :] :] , ( REAL ));
assume that
L289: (for B212 , B213 being (Element of R5) holds (for B214 , B215 being (Element of R6) holds (for B216 , B217 being (Element of R7) holds (for B218 , B219 being (Element of [: (the carrier of R5) , (the carrier of R6) , (the carrier of R7) :]) holds ((B218 = [ B212 , B214 , B216 ] & B219 = [ B213 , B215 , B217 ]) implies ( C163 . (B218 , B219) ) = ( sqrt ( ( ( ( dist (B212 , B213) ) ^2 ) + ( ( dist (B214 , B215) ) ^2 ) ) + ( ( dist (B216 , B217) ) ^2 ) ) ))))))
and
L290: (for B220 , B221 being (Element of R5) holds (for B222 , B223 being (Element of R6) holds (for B224 , B225 being (Element of R7) holds (for B226 , B227 being (Element of [: (the carrier of R5) , (the carrier of R6) , (the carrier of R7) :]) holds ((B226 = [ B220 , B222 , B224 ] & B227 = [ B221 , B223 , B225 ]) implies ( C164 . (B226 , B227) ) = ( sqrt ( ( ( ( dist (B220 , B221) ) ^2 ) + ( ( dist (B222 , B223) ) ^2 ) ) + ( ( dist (B224 , B225) ) ^2 ) ) ))))));
L291: (for B228 , B229 being (Element of [: (the carrier of R5) , (the carrier of R6) , (the carrier of R7) :]) holds ( C163 . (B228 , B229) ) = ( C164 . (B228 , B229) ))
proof
let C165 , C166 being (Element of [: (the carrier of R5) , (the carrier of R6) , (the carrier of R7) :]);
consider C167 being (Element of R5), C168 being (Element of R6), C169 being (Element of R7) such that L292: C165 = [ C167 , C168 , C169 ] by DOMAIN_1:3;
consider C170 being (Element of R5), C171 being (Element of R6), C172 being (Element of R7) such that L293: C166 = [ C170 , C171 , C172 ] by DOMAIN_1:3;
thus L294: ( C163 . (C165 , C166) ) = ( sqrt ( ( ( ( dist (C167 , C170) ) ^2 ) + ( ( dist (C168 , C171) ) ^2 ) ) + ( ( dist (C169 , C172) ) ^2 ) ) ) by L289 , L292 , L293
.= ( C164 . (C165 , C166) ) by L290 , L292 , L293;
end;
thus L295: thesis by L291 , BINOP_1:2;
end;
end;
theorem
L297: (for R5 being non  empty MetrSpace holds (for R6 being non  empty MetrSpace holds (for R7 being non  empty MetrSpace holds (for B230 , B231 being (Element of [: (the carrier of R5) , (the carrier of R6) , (the carrier of R7) :]) holds (( ( dist_cart3S (R5 , R6 , R7) ) . (B230 , B231) ) = ( 0 ) iff B230 = B231)))))
proof
let R5 being non  empty MetrSpace;
let R6 being non  empty MetrSpace;
let R7 being non  empty MetrSpace;
let C173 , C174 being (Element of [: (the carrier of R5) , (the carrier of R6) , (the carrier of R7) :]);
reconsider D139 = ( C173 `1_3 ) , D140 = ( C174 `1_3 ) as (Element of R5);
reconsider D141 = ( C173 `2_3 ) , D142 = ( C174 `2_3 ) as (Element of R6);
reconsider D143 = ( C173 `3_3 ) , D144 = ( C174 `3_3 ) as (Element of R7);
L298: (C173 = [ D139 , D141 , D143 ] & C174 = [ D140 , D142 , D144 ]) by MCART_1:44;
thus L299: (( ( dist_cart3S (R5 , R6 , R7) ) . (C173 , C174) ) = ( 0 ) implies C173 = C174)
proof
set D145 = ( dist (D143 , D144) );
set D146 = ( dist (D141 , D142) );
set D147 = ( dist (D139 , D140) );
L300: (( 0 ) <= ( D146 ^2 ) & ( 0 ) <= ( D145 ^2 )) by XREAL_1:63;
assume L301: ( ( dist_cart3S (R5 , R6 , R7) ) . (C173 , C174) ) = ( 0 );
L302: ( sqrt ( ( ( D147 ^2 ) + ( D146 ^2 ) ) + ( D145 ^2 ) ) ) = ( 0 ) by L301 , L298 , L285;
L303: ( sqrt ( ( D147 ^2 ) + ( ( D146 ^2 ) + ( D145 ^2 ) ) ) ) = ( 0 ) by L302;
L304: (( 0 ) <= ( D146 ^2 ) & ( 0 ) <= ( D145 ^2 )) by XREAL_1:63;
L305: (( 0 ) <= ( D147 ^2 ) & ( ( 0 ) + ( 0 ) ) <= ( ( D146 ^2 ) + ( D145 ^2 ) )) by L304 , XREAL_1:7 , XREAL_1:63;
L306: D147 = ( 0 ) by L305 , L303 , L205;
L307: D139 = D140 by L306 , METRIC_1:2;
L308: ( ( D146 ^2 ) + ( D145 ^2 ) ) = ( 0 ) by L303 , L305 , L205;
L309: D146 = ( 0 ) by L308 , L300 , XREAL_1:27;
L310: D141 = D142 by L309 , METRIC_1:2;
L311: D145 = ( 0 ) by L308 , L300 , XREAL_1:27;
thus L312: thesis by L311 , L298 , L307 , L310 , METRIC_1:2;
end;

assume L313: C173 = C174;
L314: (( ( dist (D139 , D140) ) ^2 ) = ( ( 0 ) ^2 ) & ( ( dist (D141 , D142) ) ^2 ) = ( ( 0 ) ^2 )) by L313 , METRIC_1:1;
L315: ( ( dist_cart3S (R5 , R6 , R7) ) . (C173 , C174) ) = ( sqrt ( ( ( ( dist (D139 , D140) ) ^2 ) + ( ( dist (D141 , D142) ) ^2 ) ) + ( ( dist (D143 , D144) ) ^2 ) ) ) by L298 , L285
.= ( ( 0 ) ^2 ) by L313 , L314 , METRIC_1:1 , SQUARE_1:17;
thus L316: thesis by L315;
end;
theorem
L317: (for R5 being non  empty MetrSpace holds (for R6 being non  empty MetrSpace holds (for R7 being non  empty MetrSpace holds (for B232 , B233 being (Element of [: (the carrier of R5) , (the carrier of R6) , (the carrier of R7) :]) holds ( ( dist_cart3S (R5 , R6 , R7) ) . (B232 , B233) ) = ( ( dist_cart3S (R5 , R6 , R7) ) . (B233 , B232) )))))
proof
let R5 being non  empty MetrSpace;
let R6 being non  empty MetrSpace;
let R7 being non  empty MetrSpace;
let C175 , C176 being (Element of [: (the carrier of R5) , (the carrier of R6) , (the carrier of R7) :]);
reconsider D148 = ( C175 `1_3 ) , D149 = ( C176 `1_3 ) as (Element of R5);
reconsider D150 = ( C175 `2_3 ) , D151 = ( C176 `2_3 ) as (Element of R6);
reconsider D152 = ( C175 `3_3 ) , D153 = ( C176 `3_3 ) as (Element of R7);
L318: (C175 = [ D148 , D150 , D152 ] & C176 = [ D149 , D151 , D153 ]) by MCART_1:44;
L319: ( ( dist_cart3S (R5 , R6 , R7) ) . (C175 , C176) ) = ( sqrt ( ( ( ( dist (D149 , D148) ) ^2 ) + ( ( dist (D151 , D150) ) ^2 ) ) + ( ( dist (D153 , D152) ) ^2 ) ) ) by L318 , L285
.= ( ( dist_cart3S (R5 , R6 , R7) ) . (C176 , C175) ) by L318 , L285;
thus L320: thesis by L319;
end;
theorem
L321: (for B234 , B235 , B236 , B237 , B238 , B239 being  real number holds ( ( ( ( 2 * ( B234 * B237 ) ) * ( B236 * B235 ) ) + ( ( 2 * ( B234 * B239 ) ) * ( B238 * B236 ) ) ) + ( ( 2 * ( B235 * B239 ) ) * ( B238 * B237 ) ) ) <= ( ( ( ( ( ( ( B234 * B237 ) ^2 ) + ( ( B236 * B235 ) ^2 ) ) + ( ( B234 * B239 ) ^2 ) ) + ( ( B238 * B236 ) ^2 ) ) + ( ( B235 * B239 ) ^2 ) ) + ( ( B238 * B237 ) ^2 ) ))
proof
let C177 , C178 , C179 , C180 , C181 , C182 being  real number;
L322: (( 0 ) <= ( ( ( C177 * C182 ) - ( C181 * C179 ) ) ^2 ) & ( 0 ) <= ( ( ( C178 * C182 ) - ( C181 * C180 ) ) ^2 )) by XREAL_1:63;
L323: (( 0 ) <= ( ( ( C177 * C180 ) - ( C179 * C178 ) ) ^2 ) & ( ( 0 ) + ( 0 ) ) <= ( ( ( ( C177 * C182 ) - ( C181 * C179 ) ) ^2 ) + ( ( ( C178 * C182 ) - ( C181 * C180 ) ) ^2 ) )) by L322 , XREAL_1:7 , XREAL_1:63;
L324: ( ( 0 ) + ( 0 ) ) <= ( ( ( ( C177 * C180 ) - ( C179 * C178 ) ) ^2 ) + ( ( ( ( C177 * C182 ) - ( C181 * C179 ) ) ^2 ) + ( ( ( C178 * C182 ) - ( C181 * C180 ) ) ^2 ) ) ) by L323 , XREAL_1:7;
L325: ( 0 ) <= ( ( ( ( ( ( C177 * C180 ) ^2 ) + ( ( C179 * C178 ) ^2 ) ) + ( ( ( C177 * C182 ) - ( C181 * C179 ) ) ^2 ) ) + ( ( ( C178 * C182 ) - ( C181 * C180 ) ) ^2 ) ) - ( ( 2 * ( C177 * C180 ) ) * ( C179 * C178 ) ) ) by L324;
L326: ( ( 0 ) + ( ( 2 * ( C177 * C180 ) ) * ( C179 * C178 ) ) ) <= ( ( ( ( ( C177 * C180 ) ^2 ) + ( ( C179 * C178 ) ^2 ) ) + ( ( ( C177 * C182 ) - ( C181 * C179 ) ) ^2 ) ) + ( ( ( C178 * C182 ) - ( C181 * C180 ) ) ^2 ) ) by L325 , XREAL_1:19;
L327: ( ( 2 * ( C177 * C180 ) ) * ( C179 * C178 ) ) <= ( ( ( ( ( ( ( C177 * C180 ) ^2 ) + ( ( C179 * C178 ) ^2 ) ) + ( ( C177 * C182 ) ^2 ) ) + ( ( C181 * C179 ) ^2 ) ) + ( ( ( C178 * C182 ) - ( C181 * C180 ) ) ^2 ) ) - ( ( 2 * ( C177 * C182 ) ) * ( C181 * C179 ) ) ) by L326;
L328: ( ( ( 2 * ( C177 * C180 ) ) * ( C179 * C178 ) ) + ( ( 2 * ( C177 * C182 ) ) * ( C181 * C179 ) ) ) <= ( ( ( ( ( ( ( ( C177 * C180 ) ^2 ) + ( ( C179 * C178 ) ^2 ) ) + ( ( C177 * C182 ) ^2 ) ) + ( ( C181 * C179 ) ^2 ) ) + ( ( C178 * C182 ) ^2 ) ) + ( ( C181 * C180 ) ^2 ) ) - ( ( 2 * ( C178 * C182 ) ) * ( C181 * C180 ) ) ) by L327 , XREAL_1:19;
thus L329: thesis by L328 , XREAL_1:19;
end;
theorem
L330: (for B240 , B241 , B242 , B243 , B244 , B245 being  real number holds ( ( ( ( B240 * B242 ) + ( B241 * B243 ) ) + ( B244 * B245 ) ) ^2 ) <= ( ( ( ( B240 ^2 ) + ( B241 ^2 ) ) + ( B244 ^2 ) ) * ( ( ( B242 ^2 ) + ( B243 ^2 ) ) + ( B245 ^2 ) ) ))
proof
let C183 , C184 , C185 , C186 , C187 , C188 being  real number;
L331: ( ( ( ( 2 * ( C183 * C186 ) ) * ( C185 * C184 ) ) + ( ( 2 * ( C183 * C188 ) ) * ( C187 * C185 ) ) ) + ( ( 2 * ( C184 * C188 ) ) * ( C187 * C186 ) ) ) <= ( ( ( ( ( ( ( C183 * C186 ) ^2 ) + ( ( C185 * C184 ) ^2 ) ) + ( ( C183 * C188 ) ^2 ) ) + ( ( C187 * C185 ) ^2 ) ) + ( ( C184 * C188 ) ^2 ) ) + ( ( C187 * C186 ) ^2 ) ) by L321;
L332: ( ( ( C187 * C188 ) ^2 ) + ( ( ( ( 2 * ( C183 * C184 ) ) * ( C185 * C186 ) ) + ( ( 2 * ( C183 * C185 ) ) * ( C187 * C188 ) ) ) + ( ( 2 * ( C184 * C186 ) ) * ( C187 * C188 ) ) ) ) <= ( ( ( ( ( ( ( ( C183 * C186 ) ^2 ) + ( ( C185 * C184 ) ^2 ) ) + ( ( C183 * C188 ) ^2 ) ) + ( ( C187 * C185 ) ^2 ) ) + ( ( C184 * C188 ) ^2 ) ) + ( ( C187 * C186 ) ^2 ) ) + ( ( C187 * C188 ) ^2 ) ) by L331 , XREAL_1:6;
L333: ( ( ( C184 * C186 ) ^2 ) + ( ( ( C187 * C188 ) ^2 ) + ( ( ( ( 2 * ( C183 * C184 ) ) * ( C185 * C186 ) ) + ( ( 2 * ( C183 * C185 ) ) * ( C187 * C188 ) ) ) + ( ( 2 * ( C184 * C186 ) ) * ( C187 * C188 ) ) ) ) ) <= ( ( ( ( ( ( ( ( ( C183 * C186 ) ^2 ) + ( ( C185 * C184 ) ^2 ) ) + ( ( C183 * C188 ) ^2 ) ) + ( ( C187 * C185 ) ^2 ) ) + ( ( C184 * C188 ) ^2 ) ) + ( ( C187 * C186 ) ^2 ) ) + ( ( C187 * C188 ) ^2 ) ) + ( ( C184 * C186 ) ^2 ) ) by L332 , XREAL_1:6;
L334: ( ( ( C183 * C185 ) ^2 ) + ( ( ( C184 * C186 ) ^2 ) + ( ( ( C187 * C188 ) ^2 ) + ( ( ( ( 2 * ( C183 * C184 ) ) * ( C185 * C186 ) ) + ( ( 2 * ( C183 * C185 ) ) * ( C187 * C188 ) ) ) + ( ( 2 * ( C184 * C186 ) ) * ( C187 * C188 ) ) ) ) ) ) <= ( ( ( ( ( ( ( ( ( ( C183 * C186 ) ^2 ) + ( ( C185 * C184 ) ^2 ) ) + ( ( C183 * C188 ) ^2 ) ) + ( ( C187 * C185 ) ^2 ) ) + ( ( C184 * C188 ) ^2 ) ) + ( ( C187 * C186 ) ^2 ) ) + ( ( C187 * C188 ) ^2 ) ) + ( ( C184 * C186 ) ^2 ) ) + ( ( C183 * C185 ) ^2 ) ) by L333 , XREAL_1:6;
thus L335: thesis by L334;
end;
L336: (for B246 , B247 , B248 , B249 , B250 , B251 being  real number holds ((( 0 ) <= B246 & ( 0 ) <= B247 & ( 0 ) <= B248 & ( 0 ) <= B249 & ( 0 ) <= B250 & ( 0 ) <= B251) implies ( sqrt ( ( ( ( B246 + B248 ) ^2 ) + ( ( B247 + B249 ) ^2 ) ) + ( ( B250 + B251 ) ^2 ) ) ) <= ( ( sqrt ( ( ( B246 ^2 ) + ( B247 ^2 ) ) + ( B250 ^2 ) ) ) + ( sqrt ( ( ( B248 ^2 ) + ( B249 ^2 ) ) + ( B251 ^2 ) ) ) )))
proof
let C189 , C190 , C191 , C192 , C193 , C194 being  real number;
assume that
L337: ( 0 ) <= C189
and
L338: ( 0 ) <= C190
and
L339: ( 0 ) <= C191
and
L340: (( 0 ) <= C192 & ( 0 ) <= C193 & ( 0 ) <= C194);
L341: (( 0 ) <= ( C190 * C192 ) & ( 0 ) <= ( C193 * C194 )) by L338 , L340 , XREAL_1:127;
L342: ( ( 0 ) + ( 0 ) ) <= ( ( C190 * C192 ) + ( C193 * C194 ) ) by L341 , XREAL_1:7;
L343: (( 0 ) <= ( C191 ^2 ) & ( 0 ) <= ( C192 ^2 )) by XREAL_1:63;
L344: ( ( 0 ) + ( 0 ) ) <= ( ( C191 ^2 ) + ( C192 ^2 ) ) by L343 , XREAL_1:7;
L345: ( 0 ) <= ( C194 ^2 ) by XREAL_1:63;
L346: ( ( 0 ) + ( 0 ) ) <= ( ( ( C191 ^2 ) + ( C192 ^2 ) ) + ( C194 ^2 ) ) by L345 , L344 , XREAL_1:7;
L347: ( 0 ) <= ( sqrt ( ( ( C191 ^2 ) + ( C192 ^2 ) ) + ( C194 ^2 ) ) ) by L346 , SQUARE_1:def 2;
L348: ( 0 ) <= ( ( ( ( C189 * C191 ) + ( C190 * C192 ) ) + ( C193 * C194 ) ) ^2 ) by XREAL_1:63;
L349: ( sqrt ( ( ( ( C189 * C191 ) + ( C190 * C192 ) ) + ( C193 * C194 ) ) ^2 ) ) <= ( sqrt ( ( ( ( C189 ^2 ) + ( C190 ^2 ) ) + ( C193 ^2 ) ) * ( ( ( C191 ^2 ) + ( C192 ^2 ) ) + ( C194 ^2 ) ) ) ) by L348 , L330 , SQUARE_1:26;
L350: (( 0 ) <= ( C189 ^2 ) & ( 0 ) <= ( C190 ^2 )) by XREAL_1:63;
L351: ( ( 0 ) + ( 0 ) ) <= ( ( C189 ^2 ) + ( C190 ^2 ) ) by L350 , XREAL_1:7;
L352: ( 0 ) <= ( C193 ^2 ) by XREAL_1:63;
L353: ( ( 0 ) + ( 0 ) ) <= ( ( ( C189 ^2 ) + ( C190 ^2 ) ) + ( C193 ^2 ) ) by L352 , L351 , XREAL_1:7;
L354: ( 0 ) <= ( C189 * C191 ) by L337 , L339 , XREAL_1:127;
L355: ( ( 0 ) + ( 0 ) ) <= ( ( C189 * C191 ) + ( ( C190 * C192 ) + ( C193 * C194 ) ) ) by L354 , L342 , XREAL_1:7;
L356: ( ( ( C189 * C191 ) + ( C190 * C192 ) ) + ( C193 * C194 ) ) <= ( sqrt ( ( ( ( C189 ^2 ) + ( C190 ^2 ) ) + ( C193 ^2 ) ) * ( ( ( C191 ^2 ) + ( C192 ^2 ) ) + ( C194 ^2 ) ) ) ) by L355 , L349 , SQUARE_1:22;
L357: ( ( ( C189 * C191 ) + ( C190 * C192 ) ) + ( C193 * C194 ) ) <= ( ( sqrt ( ( ( C189 ^2 ) + ( C190 ^2 ) ) + ( C193 ^2 ) ) ) * ( sqrt ( ( ( C191 ^2 ) + ( C192 ^2 ) ) + ( C194 ^2 ) ) ) ) by L356 , L353 , L346 , SQUARE_1:29;
L358: ( 2 * ( ( ( C189 * C191 ) + ( C190 * C192 ) ) + ( C193 * C194 ) ) ) <= ( 2 * ( ( sqrt ( ( ( C189 ^2 ) + ( C190 ^2 ) ) + ( C193 ^2 ) ) ) * ( sqrt ( ( ( C191 ^2 ) + ( C192 ^2 ) ) + ( C194 ^2 ) ) ) ) ) by L357 , XREAL_1:64;
L359: ( ( ( 2 * ( ( C189 * C191 ) + ( C190 * C192 ) ) ) + ( 2 * ( C193 * C194 ) ) ) + ( C193 ^2 ) ) <= ( ( ( 2 * ( sqrt ( ( ( C189 ^2 ) + ( C190 ^2 ) ) + ( C193 ^2 ) ) ) ) * ( sqrt ( ( ( C191 ^2 ) + ( C192 ^2 ) ) + ( C194 ^2 ) ) ) ) + ( C193 ^2 ) ) by L358 , XREAL_1:6;
L360: ( ( ( 2 * ( ( C189 * C191 ) + ( C190 * C192 ) ) ) + ( ( C193 ^2 ) + ( 2 * ( C193 * C194 ) ) ) ) + ( C194 ^2 ) ) <= ( ( ( ( 2 * ( sqrt ( ( ( C189 ^2 ) + ( C190 ^2 ) ) + ( C193 ^2 ) ) ) ) * ( sqrt ( ( ( C191 ^2 ) + ( C192 ^2 ) ) + ( C194 ^2 ) ) ) ) + ( C193 ^2 ) ) + ( C194 ^2 ) ) by L359 , XREAL_1:6;
L361: ( ( ( ( 2 * ( C189 * C191 ) ) + ( 2 * ( C190 * C192 ) ) ) + ( ( C193 + C194 ) ^2 ) ) + ( C190 ^2 ) ) <= ( ( ( ( C193 ^2 ) + ( ( 2 * ( sqrt ( ( ( C189 ^2 ) + ( C190 ^2 ) ) + ( C193 ^2 ) ) ) ) * ( sqrt ( ( ( C191 ^2 ) + ( C192 ^2 ) ) + ( C194 ^2 ) ) ) ) ) + ( C194 ^2 ) ) + ( C190 ^2 ) ) by L360 , XREAL_1:6;
L362: ( ( ( ( 2 * ( C189 * C191 ) ) + ( ( C190 ^2 ) + ( 2 * ( C190 * C192 ) ) ) ) + ( ( C193 + C194 ) ^2 ) ) + ( C192 ^2 ) ) <= ( ( ( C190 ^2 ) + ( ( ( C193 ^2 ) + ( ( 2 * ( sqrt ( ( ( C189 ^2 ) + ( C190 ^2 ) ) + ( C193 ^2 ) ) ) ) * ( sqrt ( ( ( C191 ^2 ) + ( C192 ^2 ) ) + ( C194 ^2 ) ) ) ) ) + ( C194 ^2 ) ) ) + ( C192 ^2 ) ) by L361 , XREAL_1:6;
L363: ( ( C189 ^2 ) + ( ( 2 * ( C189 * C191 ) ) + ( ( ( C190 + C192 ) ^2 ) + ( ( C193 + C194 ) ^2 ) ) ) ) <= ( ( ( C190 ^2 ) + ( ( ( C193 ^2 ) + ( ( 2 * ( sqrt ( ( ( C189 ^2 ) + ( C190 ^2 ) ) + ( C193 ^2 ) ) ) ) * ( sqrt ( ( ( C191 ^2 ) + ( C192 ^2 ) ) + ( C194 ^2 ) ) ) ) ) + ( ( C192 ^2 ) + ( C194 ^2 ) ) ) ) + ( C189 ^2 ) ) by L362 , XREAL_1:6;
L364: ( ( ( ( C189 ^2 ) + ( 2 * ( C189 * C191 ) ) ) + ( ( ( C190 + C192 ) ^2 ) + ( ( C193 + C194 ) ^2 ) ) ) + ( C191 ^2 ) ) <= ( ( ( ( ( ( C189 ^2 ) + ( C190 ^2 ) ) + ( C193 ^2 ) ) + ( ( 2 * ( sqrt ( ( ( C189 ^2 ) + ( C190 ^2 ) ) + ( C193 ^2 ) ) ) ) * ( sqrt ( ( ( C191 ^2 ) + ( C192 ^2 ) ) + ( C194 ^2 ) ) ) ) ) + ( ( C192 ^2 ) + ( C194 ^2 ) ) ) + ( C191 ^2 ) ) by L363 , XREAL_1:6;
L365: ( ( ( ( C189 + C191 ) ^2 ) + ( ( C190 + C192 ) ^2 ) ) + ( ( C193 + C194 ) ^2 ) ) <= ( ( ( ( ( C189 ^2 ) + ( C190 ^2 ) ) + ( C193 ^2 ) ) + ( ( 2 * ( sqrt ( ( ( C189 ^2 ) + ( C190 ^2 ) ) + ( C193 ^2 ) ) ) ) * ( sqrt ( ( ( C191 ^2 ) + ( C192 ^2 ) ) + ( C194 ^2 ) ) ) ) ) + ( ( C191 ^2 ) + ( ( C192 ^2 ) + ( C194 ^2 ) ) ) ) by L364;
L366: ( ( ( ( C189 + C191 ) ^2 ) + ( ( C190 + C192 ) ^2 ) ) + ( ( C193 + C194 ) ^2 ) ) <= ( ( ( ( sqrt ( ( ( C189 ^2 ) + ( C190 ^2 ) ) + ( C193 ^2 ) ) ) ^2 ) + ( ( 2 * ( sqrt ( ( ( C189 ^2 ) + ( C190 ^2 ) ) + ( C193 ^2 ) ) ) ) * ( sqrt ( ( ( C191 ^2 ) + ( C192 ^2 ) ) + ( C194 ^2 ) ) ) ) ) + ( ( ( C191 ^2 ) + ( C192 ^2 ) ) + ( C194 ^2 ) ) ) by L365 , L353 , SQUARE_1:def 2;
L367: ( ( ( ( C189 + C191 ) ^2 ) + ( ( C190 + C192 ) ^2 ) ) + ( ( C193 + C194 ) ^2 ) ) <= ( ( ( ( sqrt ( ( ( C189 ^2 ) + ( C190 ^2 ) ) + ( C193 ^2 ) ) ) ^2 ) + ( ( 2 * ( sqrt ( ( ( C189 ^2 ) + ( C190 ^2 ) ) + ( C193 ^2 ) ) ) ) * ( sqrt ( ( ( C191 ^2 ) + ( C192 ^2 ) ) + ( C194 ^2 ) ) ) ) ) + ( ( sqrt ( ( ( C191 ^2 ) + ( C192 ^2 ) ) + ( C194 ^2 ) ) ) ^2 ) ) by L366 , L346 , SQUARE_1:def 2;
L368: (( 0 ) <= ( ( C189 + C191 ) ^2 ) & ( 0 ) <= ( ( C190 + C192 ) ^2 )) by XREAL_1:63;
L369: ( ( 0 ) + ( 0 ) ) <= ( ( ( C189 + C191 ) ^2 ) + ( ( C190 + C192 ) ^2 ) ) by L368 , XREAL_1:7;
L370: ( 0 ) <= ( ( C193 + C194 ) ^2 ) by XREAL_1:63;
L371: ( ( 0 ) + ( 0 ) ) <= ( ( ( ( C189 + C191 ) ^2 ) + ( ( C190 + C192 ) ^2 ) ) + ( ( C193 + C194 ) ^2 ) ) by L370 , L369 , XREAL_1:7;
L372: ( sqrt ( ( ( ( C189 + C191 ) ^2 ) + ( ( C190 + C192 ) ^2 ) ) + ( ( C193 + C194 ) ^2 ) ) ) <= ( sqrt ( ( ( sqrt ( ( ( C189 ^2 ) + ( C190 ^2 ) ) + ( C193 ^2 ) ) ) + ( sqrt ( ( ( C191 ^2 ) + ( C192 ^2 ) ) + ( C194 ^2 ) ) ) ) ^2 ) ) by L371 , L367 , SQUARE_1:26;
L373: ( 0 ) <= ( sqrt ( ( ( C189 ^2 ) + ( C190 ^2 ) ) + ( C193 ^2 ) ) ) by L353 , SQUARE_1:def 2;
L374: ( ( 0 ) + ( 0 ) ) <= ( ( sqrt ( ( ( C189 ^2 ) + ( C190 ^2 ) ) + ( C193 ^2 ) ) ) + ( sqrt ( ( ( C191 ^2 ) + ( C192 ^2 ) ) + ( C194 ^2 ) ) ) ) by L373 , L347 , XREAL_1:7;
thus L375: thesis by L374 , L372 , SQUARE_1:22;
end;
theorem
L376: (for R5 being non  empty MetrSpace holds (for R6 being non  empty MetrSpace holds (for R7 being non  empty MetrSpace holds (for B252 , B253 , B254 being (Element of [: (the carrier of R5) , (the carrier of R6) , (the carrier of R7) :]) holds ( ( dist_cart3S (R5 , R6 , R7) ) . (B252 , B254) ) <= ( ( ( dist_cart3S (R5 , R6 , R7) ) . (B252 , B253) ) + ( ( dist_cart3S (R5 , R6 , R7) ) . (B253 , B254) ) )))))
proof
let R5 being non  empty MetrSpace;
let R6 being non  empty MetrSpace;
let R7 being non  empty MetrSpace;
let C195 , C196 , C197 being (Element of [: (the carrier of R5) , (the carrier of R6) , (the carrier of R7) :]);
reconsider D154 = ( C195 `1_3 ) , D155 = ( C196 `1_3 ) , D156 = ( C197 `1_3 ) as (Element of R5);
reconsider D157 = ( C195 `2_3 ) , D158 = ( C196 `2_3 ) , D159 = ( C197 `2_3 ) as (Element of R6);
reconsider D160 = ( C195 `3_3 ) , D161 = ( C196 `3_3 ) , D162 = ( C197 `3_3 ) as (Element of R7);
L377: C195 = [ D154 , D157 , D160 ] by MCART_1:44;
set D163 = ( dist (D160 , D162) );
set D164 = ( dist (D160 , D161) );
set D165 = ( dist (D161 , D162) );
set D166 = ( dist (D154 , D156) );
set D167 = ( dist (D154 , D155) );
set D168 = ( dist (D155 , D156) );
L378: C196 = [ D155 , D158 , D161 ] by MCART_1:44;
L379: (D163 <= ( D164 + D165 ) & ( 0 ) <= D163) by METRIC_1:4 , METRIC_1:5;
L380: ( D163 ^2 ) <= ( ( D164 + D165 ) ^2 ) by L379 , SQUARE_1:15;
L381: (( 0 ) <= D164 & ( 0 ) <= D165) by METRIC_1:5;
set D169 = ( dist (D157 , D159) );
set D170 = ( dist (D157 , D158) );
set D171 = ( dist (D158 , D159) );
L382: C197 = [ D156 , D159 , D162 ] by MCART_1:44;
L383: (D169 <= ( D170 + D171 ) & ( 0 ) <= D169) by METRIC_1:4 , METRIC_1:5;
L384: ( D169 ^2 ) <= ( ( D170 + D171 ) ^2 ) by L383 , SQUARE_1:15;
L385: (( 0 ) <= D170 & ( 0 ) <= D171) by METRIC_1:5;
L386: (( 0 ) <= ( D166 ^2 ) & ( 0 ) <= ( D169 ^2 )) by XREAL_1:63;
L387: ( ( 0 ) + ( 0 ) ) <= ( ( D166 ^2 ) + ( D169 ^2 ) ) by L386 , XREAL_1:7;
L388: (D166 <= ( D167 + D168 ) & ( 0 ) <= D166) by METRIC_1:4 , METRIC_1:5;
L389: ( D166 ^2 ) <= ( ( D167 + D168 ) ^2 ) by L388 , SQUARE_1:15;
L390: ( ( D166 ^2 ) + ( D169 ^2 ) ) <= ( ( ( D167 + D168 ) ^2 ) + ( ( D170 + D171 ) ^2 ) ) by L389 , L384 , XREAL_1:7;
L391: ( ( ( D166 ^2 ) + ( D169 ^2 ) ) + ( D163 ^2 ) ) <= ( ( ( ( D167 + D168 ) ^2 ) + ( ( D170 + D171 ) ^2 ) ) + ( ( D164 + D165 ) ^2 ) ) by L390 , L380 , XREAL_1:7;
L392: ( 0 ) <= ( D163 ^2 ) by XREAL_1:63;
L393: ( ( 0 ) + ( 0 ) ) <= ( ( ( D166 ^2 ) + ( D169 ^2 ) ) + ( D163 ^2 ) ) by L392 , L387 , XREAL_1:7;
L394: ( sqrt ( ( ( D166 ^2 ) + ( D169 ^2 ) ) + ( D163 ^2 ) ) ) <= ( sqrt ( ( ( ( D167 + D168 ) ^2 ) + ( ( D170 + D171 ) ^2 ) ) + ( ( D164 + D165 ) ^2 ) ) ) by L393 , L391 , SQUARE_1:26;
L395: (( 0 ) <= D167 & ( 0 ) <= D168) by METRIC_1:5;
L396: ( sqrt ( ( ( ( D167 + D168 ) ^2 ) + ( ( D170 + D171 ) ^2 ) ) + ( ( D164 + D165 ) ^2 ) ) ) <= ( ( sqrt ( ( ( D167 ^2 ) + ( D170 ^2 ) ) + ( D164 ^2 ) ) ) + ( sqrt ( ( ( D168 ^2 ) + ( D171 ^2 ) ) + ( D165 ^2 ) ) ) ) by L395 , L385 , L381 , L336;
L397: ( sqrt ( ( ( D166 ^2 ) + ( D169 ^2 ) ) + ( D163 ^2 ) ) ) <= ( ( sqrt ( ( ( D167 ^2 ) + ( D170 ^2 ) ) + ( D164 ^2 ) ) ) + ( sqrt ( ( ( D168 ^2 ) + ( D171 ^2 ) ) + ( D165 ^2 ) ) ) ) by L396 , L394 , XXREAL_0:2;
L398: ( ( dist_cart3S (R5 , R6 , R7) ) . (C195 , C197) ) <= ( ( sqrt ( ( ( D167 ^2 ) + ( D170 ^2 ) ) + ( D164 ^2 ) ) ) + ( sqrt ( ( ( D168 ^2 ) + ( D171 ^2 ) ) + ( D165 ^2 ) ) ) ) by L397 , L377 , L382 , L285;
L399: ( ( dist_cart3S (R5 , R6 , R7) ) . (C195 , C197) ) <= ( ( ( dist_cart3S (R5 , R6 , R7) ) . (C195 , C196) ) + ( sqrt ( ( ( D168 ^2 ) + ( D171 ^2 ) ) + ( D165 ^2 ) ) ) ) by L398 , L377 , L378 , L285;
thus L400: thesis by L399 , L378 , L382 , L285;
end;
definition
let R5 being non  empty MetrSpace;
let R6 being non  empty MetrSpace;
let R7 being non  empty MetrSpace;
let C198 , C199 being (Element of [: (the carrier of R5) , (the carrier of R6) , (the carrier of R7) :]);
func dist3S (C198 , C199) -> Real equals 
( ( dist_cart3S (R5 , R6 , R7) ) . (C198 , C199) );
coherence;
end;
definition
let R5 being non  empty MetrSpace;
let R6 being non  empty MetrSpace;
let R7 being non  empty MetrSpace;
func MetrSpaceCart3S (R5 , R6 , R7) ->  strict non  empty MetrSpace equals 
MetrStruct (# [: (the carrier of R5) , (the carrier of R6) , (the carrier of R7) :] , ( dist_cart3S (R5 , R6 , R7) ) #);
coherence
proof
L402:
now
let C200 , C201 , C202 being (Element of MetrStruct (# [: (the carrier of R5) , (the carrier of R6) , (the carrier of R7) :] , ( dist_cart3S (R5 , R6 , R7) ) #));
reconsider D172 = C200 , D173 = C201 , D174 = C202 as (Element of [: (the carrier of R5) , (the carrier of R6) , (the carrier of R7) :]);
L403: ( dist (C200 , C201) ) = ( ( dist_cart3S (R5 , R6 , R7) ) . (D172 , D173) ) by METRIC_1:def 1;
thus L404: (( dist (C200 , C201) ) = ( 0 ) iff C200 = C201) by L403 , L297;
L405: ( dist (C201 , C200) ) = ( ( dist_cart3S (R5 , R6 , R7) ) . (D173 , D172) ) by METRIC_1:def 1;
thus L406: ( dist (C200 , C201) ) = ( dist (C201 , C200) ) by L405 , L403 , L317;
L407: (( dist (C200 , C202) ) = ( ( dist_cart3S (R5 , R6 , R7) ) . (D172 , D174) ) & ( dist (C201 , C202) ) = ( ( dist_cart3S (R5 , R6 , R7) ) . (D173 , D174) )) by METRIC_1:def 1;
thus L408: ( dist (C200 , C202) ) <= ( ( dist (C200 , C201) ) + ( dist (C201 , C202) ) ) by L407 , L403 , L376;
end;
thus L409: thesis by L402 , METRIC_1:6;
end;
end;
definition
func taxi_dist2 -> (Function of [: [: ( REAL ) , ( REAL ) :] , [: ( REAL ) , ( REAL ) :] :] , ( REAL )) means 
:L411: (for B255 , B256 , B257 , B258 being (Element of ( REAL )) holds (for B259 , B260 being (Element of [: ( REAL ) , ( REAL ) :]) holds ((B259 = [ B255 , B257 ] & B260 = [ B256 , B258 ]) implies ( it . (B259 , B260) ) = ( ( ( real_dist ) . (B255 , B256) ) + ( ( real_dist ) . (B257 , B258) ) ))));
existence
proof
deffunc H9((Element of ( REAL )) , (Element of ( REAL )) , (Element of ( REAL )) , (Element of ( REAL ))) = ( ( ( real_dist ) . ($1 , $2) ) + ( ( real_dist ) . ($3 , $4) ) );
consider C203 being (Function of [: [: ( REAL ) , ( REAL ) :] , [: ( REAL ) , ( REAL ) :] :] , ( REAL )) such that L412: (for B261 , B262 , B263 , B264 being (Element of ( REAL )) holds (for B265 , B266 being (Element of [: ( REAL ) , ( REAL ) :]) holds ((B265 = [ B261 , B263 ] & B266 = [ B262 , B264 ]) implies ( C203 . (B265 , B266) ) = H9(B261 , B262 , B263 , B264)))) from LambdaMCART;
take C203;
let C204 , C205 , C206 , C207 being (Element of ( REAL ));
let C208 , C209 being (Element of [: ( REAL ) , ( REAL ) :]);
assume L413: (C208 = [ C204 , C206 ] & C209 = [ C205 , C207 ]);
thus L414: thesis by L413 , L412;
end;
uniqueness
proof
let C210 , C211 being (Function of [: [: ( REAL ) , ( REAL ) :] , [: ( REAL ) , ( REAL ) :] :] , ( REAL ));
assume that
L415: (for B267 , B268 , B269 , B270 being (Element of ( REAL )) holds (for B271 , B272 being (Element of [: ( REAL ) , ( REAL ) :]) holds ((B271 = [ B267 , B269 ] & B272 = [ B268 , B270 ]) implies ( C210 . (B271 , B272) ) = ( ( ( real_dist ) . (B267 , B268) ) + ( ( real_dist ) . (B269 , B270) ) ))))
and
L416: (for B273 , B274 , B275 , B276 being (Element of ( REAL )) holds (for B277 , B278 being (Element of [: ( REAL ) , ( REAL ) :]) holds ((B277 = [ B273 , B275 ] & B278 = [ B274 , B276 ]) implies ( C211 . (B277 , B278) ) = ( ( ( real_dist ) . (B273 , B274) ) + ( ( real_dist ) . (B275 , B276) ) ))));
L417: (for B279 , B280 being (Element of [: ( REAL ) , ( REAL ) :]) holds ( C210 . (B279 , B280) ) = ( C211 . (B279 , B280) ))
proof
let C212 , C213 being (Element of [: ( REAL ) , ( REAL ) :]);
consider C214 , C215 being (Element of ( REAL )) such that L418: C212 = [ C214 , C215 ] by DOMAIN_1:1;
consider C216 , C217 being (Element of ( REAL )) such that L419: C213 = [ C216 , C217 ] by DOMAIN_1:1;
thus L420: ( C210 . (C212 , C213) ) = ( ( ( real_dist ) . (C214 , C216) ) + ( ( real_dist ) . (C215 , C217) ) ) by L415 , L418 , L419
.= ( C211 . (C212 , C213) ) by L416 , L418 , L419;
end;
thus L421: thesis by L417 , BINOP_1:2;
end;
end;
theorem
L423: (for B281 , B282 being (Element of [: ( REAL ) , ( REAL ) :]) holds (( ( taxi_dist2 ) . (B281 , B282) ) = ( 0 ) iff B281 = B282))
proof
let C218 , C219 being (Element of [: ( REAL ) , ( REAL ) :]);
reconsider D175 = ( C218 `1 ) , D176 = ( C218 `2 ) , D177 = ( C219 `1 ) , D178 = ( C219 `2 ) as (Element of ( REAL ));
L424: (C218 = [ D175 , D176 ] & C219 = [ D177 , D178 ]) by MCART_1:22;
thus L425: (( ( taxi_dist2 ) . (C218 , C219) ) = ( 0 ) implies C218 = C219)
proof
set D179 = ( ( real_dist ) . (D176 , D178) );
set D180 = ( ( real_dist ) . (D175 , D177) );
L426: D180 = ( abs ( D175 - D177 ) ) by METRIC_1:def 12;
L427: ( 0 ) <= D180 by L426 , COMPLEX1:46;
L428: D179 = ( abs ( D176 - D178 ) ) by METRIC_1:def 12;
L429: ( 0 ) <= D179 by L428 , COMPLEX1:46;
assume L430: ( ( taxi_dist2 ) . (C218 , C219) ) = ( 0 );
L431: ( D180 + D179 ) = ( 0 ) by L430 , L424 , L411;
L432: D180 = ( 0 ) by L431 , L427 , L429 , XREAL_1:27;
L433: D175 = D177 by L432 , METRIC_1:8;
L434: D179 = ( 0 ) by L431 , L427 , L429 , XREAL_1:27;
thus L435: thesis by L434 , L424 , L433 , METRIC_1:8;
end;

assume L436: C218 = C219;
L437: ( ( real_dist ) . (D176 , D178) ) = ( 0 ) by L436 , METRIC_1:8;
L438: ( ( taxi_dist2 ) . (C218 , C219) ) = ( ( ( real_dist ) . (D175 , D177) ) + ( ( real_dist ) . (D176 , D178) ) ) by L424 , L411
.= ( 0 ) by L436 , L437 , METRIC_1:8;
thus L439: thesis by L438;
end;
theorem
L440: (for B283 , B284 being (Element of [: ( REAL ) , ( REAL ) :]) holds ( ( taxi_dist2 ) . (B283 , B284) ) = ( ( taxi_dist2 ) . (B284 , B283) ))
proof
let C220 , C221 being (Element of [: ( REAL ) , ( REAL ) :]);
reconsider D181 = ( C220 `1 ) , D182 = ( C220 `2 ) , D183 = ( C221 `1 ) , D184 = ( C221 `2 ) as (Element of ( REAL ));
L441: (C220 = [ D181 , D182 ] & C221 = [ D183 , D184 ]) by MCART_1:22;
L442: ( ( taxi_dist2 ) . (C220 , C221) ) = ( ( ( real_dist ) . (D181 , D183) ) + ( ( real_dist ) . (D182 , D184) ) ) by L441 , L411
.= ( ( ( real_dist ) . (D183 , D181) ) + ( ( real_dist ) . (D182 , D184) ) ) by METRIC_1:9
.= ( ( ( real_dist ) . (D183 , D181) ) + ( ( real_dist ) . (D184 , D182) ) ) by METRIC_1:9
.= ( ( taxi_dist2 ) . (C221 , C220) ) by L441 , L411;
thus L443: thesis by L442;
end;
theorem
L444: (for B285 , B286 , B287 being (Element of [: ( REAL ) , ( REAL ) :]) holds ( ( taxi_dist2 ) . (B285 , B287) ) <= ( ( ( taxi_dist2 ) . (B285 , B286) ) + ( ( taxi_dist2 ) . (B286 , B287) ) ))
proof
let C222 , C223 , C224 being (Element of [: ( REAL ) , ( REAL ) :]);
reconsider D185 = ( C222 `1 ) , D186 = ( C222 `2 ) , D187 = ( C223 `1 ) , D188 = ( C223 `2 ) , D189 = ( C224 `1 ) , D190 = ( C224 `2 ) as (Element of ( REAL ));
L445: C223 = [ D187 , D188 ] by MCART_1:22;
set D191 = ( ( real_dist ) . (D186 , D188) );
set D192 = ( ( real_dist ) . (D188 , D190) );
set D193 = ( ( real_dist ) . (D187 , D189) );
set D194 = ( ( real_dist ) . (D186 , D190) );
set D195 = ( ( real_dist ) . (D185 , D189) );
set D196 = ( ( real_dist ) . (D185 , D187) );
L446: C224 = [ D189 , D190 ] by MCART_1:22;
L447: C222 = [ D185 , D186 ] by MCART_1:22;
L448: ( ( taxi_dist2 ) . (C222 , C224) ) = ( D195 + D194 ) by L447 , L446 , L411;
L449: (D195 <= ( D196 + D193 ) & D194 <= ( D191 + D192 )) by METRIC_1:10;
L450: ( ( D196 + D193 ) + ( D191 + D192 ) ) = ( ( D196 + D191 ) + ( D193 + D192 ) )
.= ( ( ( taxi_dist2 ) . (C222 , C223) ) + ( D193 + D192 ) ) by L447 , L445 , L411
.= ( ( ( taxi_dist2 ) . (C222 , C223) ) + ( ( taxi_dist2 ) . (C223 , C224) ) ) by L445 , L446 , L411;
thus L451: thesis by L450 , L449 , L448 , XREAL_1:7;
end;
definition
func RealSpaceCart2 ->  strict non  empty MetrSpace equals 
MetrStruct (# [: ( REAL ) , ( REAL ) :] , ( taxi_dist2 ) #);
coherence
proof
L452:
now
let C225 , C226 , C227 being (Element of MetrStruct (# [: ( REAL ) , ( REAL ) :] , ( taxi_dist2 ) #));
reconsider D197 = C225 , D198 = C226 , D199 = C227 as (Element of [: ( REAL ) , ( REAL ) :]);
L453: ( dist (C225 , C226) ) = ( ( taxi_dist2 ) . (D197 , D198) ) by METRIC_1:def 1;
thus L454: (( dist (C225 , C226) ) = ( 0 ) iff C225 = C226) by L453 , L423;
L455: ( dist (C226 , C225) ) = ( ( taxi_dist2 ) . (D198 , D197) ) by METRIC_1:def 1;
thus L456: ( dist (C225 , C226) ) = ( dist (C226 , C225) ) by L455 , L453 , L440;
L457: (( dist (C225 , C227) ) = ( ( taxi_dist2 ) . (D197 , D199) ) & ( dist (C226 , C227) ) = ( ( taxi_dist2 ) . (D198 , D199) )) by METRIC_1:def 1;
thus L458: ( dist (C225 , C227) ) <= ( ( dist (C225 , C226) ) + ( dist (C226 , C227) ) ) by L457 , L453 , L444;
end;
thus L459: thesis by L452 , METRIC_1:6;
end;
end;
definition
func Eukl_dist2 -> (Function of [: [: ( REAL ) , ( REAL ) :] , [: ( REAL ) , ( REAL ) :] :] , ( REAL )) means 
:L461: (for B288 , B289 , B290 , B291 being (Element of ( REAL )) holds (for B292 , B293 being (Element of [: ( REAL ) , ( REAL ) :]) holds ((B292 = [ B288 , B290 ] & B293 = [ B289 , B291 ]) implies ( it . (B292 , B293) ) = ( sqrt ( ( ( ( real_dist ) . (B288 , B289) ) ^2 ) + ( ( ( real_dist ) . (B290 , B291) ) ^2 ) ) ))));
existence
proof
deffunc H10((Element of ( REAL )) , (Element of ( REAL )) , (Element of ( REAL )) , (Element of ( REAL ))) = ( sqrt ( ( ( ( real_dist ) . ($1 , $2) ) ^2 ) + ( ( ( real_dist ) . ($3 , $4) ) ^2 ) ) );
consider C228 being (Function of [: [: ( REAL ) , ( REAL ) :] , [: ( REAL ) , ( REAL ) :] :] , ( REAL )) such that L462: (for B294 , B295 , B296 , B297 being (Element of ( REAL )) holds (for B298 , B299 being (Element of [: ( REAL ) , ( REAL ) :]) holds ((B298 = [ B294 , B296 ] & B299 = [ B295 , B297 ]) implies ( C228 . (B298 , B299) ) = H10(B294 , B295 , B296 , B297)))) from LambdaMCART;
take C228;
let C229 , C230 , C231 , C232 being (Element of ( REAL ));
let C233 , C234 being (Element of [: ( REAL ) , ( REAL ) :]);
assume L463: (C233 = [ C229 , C231 ] & C234 = [ C230 , C232 ]);
thus L464: thesis by L463 , L462;
end;
uniqueness
proof
let C235 , C236 being (Function of [: [: ( REAL ) , ( REAL ) :] , [: ( REAL ) , ( REAL ) :] :] , ( REAL ));
assume that
L465: (for B300 , B301 , B302 , B303 being (Element of ( REAL )) holds (for B304 , B305 being (Element of [: ( REAL ) , ( REAL ) :]) holds ((B304 = [ B300 , B302 ] & B305 = [ B301 , B303 ]) implies ( C235 . (B304 , B305) ) = ( sqrt ( ( ( ( real_dist ) . (B300 , B301) ) ^2 ) + ( ( ( real_dist ) . (B302 , B303) ) ^2 ) ) ))))
and
L466: (for B306 , B307 , B308 , B309 being (Element of ( REAL )) holds (for B310 , B311 being (Element of [: ( REAL ) , ( REAL ) :]) holds ((B310 = [ B306 , B308 ] & B311 = [ B307 , B309 ]) implies ( C236 . (B310 , B311) ) = ( sqrt ( ( ( ( real_dist ) . (B306 , B307) ) ^2 ) + ( ( ( real_dist ) . (B308 , B309) ) ^2 ) ) ))));
L467: (for B312 , B313 being (Element of [: ( REAL ) , ( REAL ) :]) holds ( C235 . (B312 , B313) ) = ( C236 . (B312 , B313) ))
proof
let C237 , C238 being (Element of [: ( REAL ) , ( REAL ) :]);
consider C239 , C240 being (Element of ( REAL )) such that L468: C237 = [ C239 , C240 ] by DOMAIN_1:1;
consider C241 , C242 being (Element of ( REAL )) such that L469: C238 = [ C241 , C242 ] by DOMAIN_1:1;
thus L470: ( C235 . (C237 , C238) ) = ( sqrt ( ( ( ( real_dist ) . (C239 , C241) ) ^2 ) + ( ( ( real_dist ) . (C240 , C242) ) ^2 ) ) ) by L465 , L468 , L469
.= ( C236 . (C237 , C238) ) by L466 , L468 , L469;
end;
thus L471: thesis by L467 , BINOP_1:2;
end;
end;
theorem
L473: (for B314 , B315 being (Element of [: ( REAL ) , ( REAL ) :]) holds (( ( Eukl_dist2 ) . (B314 , B315) ) = ( 0 ) iff B314 = B315))
proof
let C243 , C244 being (Element of [: ( REAL ) , ( REAL ) :]);
reconsider D200 = ( C243 `1 ) , D201 = ( C243 `2 ) , D202 = ( C244 `1 ) , D203 = ( C244 `2 ) as (Element of ( REAL ));
L474: (C243 = [ D200 , D201 ] & C244 = [ D202 , D203 ]) by MCART_1:22;
thus L475: (( ( Eukl_dist2 ) . (C243 , C244) ) = ( 0 ) implies C243 = C244)
proof
set D204 = ( ( real_dist ) . (D201 , D203) );
set D205 = ( ( real_dist ) . (D200 , D202) );
assume L476: ( ( Eukl_dist2 ) . (C243 , C244) ) = ( 0 );
L477: ( sqrt ( ( D205 ^2 ) + ( D204 ^2 ) ) ) = ( 0 ) by L476 , L474 , L461;
L478: (( 0 ) <= ( D205 ^2 ) & ( 0 ) <= ( D204 ^2 )) by XREAL_1:63;
L479: D205 = ( 0 ) by L478 , L477 , L205;
L480: D200 = D202 by L479 , METRIC_1:8;
L481: D204 = ( 0 ) by L477 , L478 , L205;
thus L482: thesis by L481 , L474 , L480 , METRIC_1:8;
end;

assume L483: C243 = C244;
L484: (( ( ( real_dist ) . (D200 , D202) ) ^2 ) = ( ( 0 ) ^2 ) & ( ( ( real_dist ) . (D201 , D203) ) ^2 ) = ( ( 0 ) ^2 )) by L483 , METRIC_1:8;
L485: ( ( Eukl_dist2 ) . (C243 , C244) ) = ( sqrt ( ( ( ( real_dist ) . (D200 , D202) ) ^2 ) + ( ( ( real_dist ) . (D201 , D203) ) ^2 ) ) ) by L474 , L461
.= ( 0 ) by L484 , L205;
thus L486: thesis by L485;
end;
theorem
L487: (for B316 , B317 being (Element of [: ( REAL ) , ( REAL ) :]) holds ( ( Eukl_dist2 ) . (B316 , B317) ) = ( ( Eukl_dist2 ) . (B317 , B316) ))
proof
let C245 , C246 being (Element of [: ( REAL ) , ( REAL ) :]);
reconsider D206 = ( C245 `1 ) , D207 = ( C245 `2 ) , D208 = ( C246 `1 ) , D209 = ( C246 `2 ) as (Element of ( REAL ));
L488: (C245 = [ D206 , D207 ] & C246 = [ D208 , D209 ]) by MCART_1:22;
L489: ( ( Eukl_dist2 ) . (C245 , C246) ) = ( sqrt ( ( ( ( real_dist ) . (D206 , D208) ) ^2 ) + ( ( ( real_dist ) . (D207 , D209) ) ^2 ) ) ) by L488 , L461
.= ( sqrt ( ( ( ( real_dist ) . (D208 , D206) ) ^2 ) + ( ( ( real_dist ) . (D207 , D209) ) ^2 ) ) ) by METRIC_1:9
.= ( sqrt ( ( ( ( real_dist ) . (D208 , D206) ) ^2 ) + ( ( ( real_dist ) . (D209 , D207) ) ^2 ) ) ) by METRIC_1:9
.= ( ( Eukl_dist2 ) . (C246 , C245) ) by L488 , L461;
thus L490: thesis by L489;
end;
theorem
L491: (for B318 , B319 , B320 being (Element of [: ( REAL ) , ( REAL ) :]) holds ( ( Eukl_dist2 ) . (B318 , B320) ) <= ( ( ( Eukl_dist2 ) . (B318 , B319) ) + ( ( Eukl_dist2 ) . (B319 , B320) ) ))
proof
let C247 , C248 , C249 being (Element of [: ( REAL ) , ( REAL ) :]);
reconsider D210 = ( C247 `1 ) , D211 = ( C247 `2 ) , D212 = ( C248 `1 ) , D213 = ( C248 `2 ) , D214 = ( C249 `1 ) , D215 = ( C249 `2 ) as (Element of ( REAL ));
L492: C247 = [ D210 , D211 ] by MCART_1:22;
set D216 = ( ( real_dist ) . (D211 , D213) );
set D217 = ( ( real_dist ) . (D212 , D214) );
set D218 = ( ( real_dist ) . (D210 , D214) );
L493: C248 = [ D212 , D213 ] by MCART_1:22;
set D219 = ( ( real_dist ) . (D213 , D215) );
set D220 = ( ( real_dist ) . (D211 , D215) );
set D221 = ( ( real_dist ) . (D210 , D212) );
L494: C249 = [ D214 , D215 ] by MCART_1:22;
L495: D220 = ( abs ( D211 - D215 ) ) by METRIC_1:def 12;
L496: ( 0 ) <= D220 by L495 , COMPLEX1:46;
L497: ( D220 ^2 ) <= ( ( D216 + D219 ) ^2 ) by L496 , METRIC_1:10 , SQUARE_1:15;
L498: (( 0 ) <= ( D218 ^2 ) & ( 0 ) <= ( D220 ^2 )) by XREAL_1:63;
L499: ( ( 0 ) + ( 0 ) ) <= ( ( D218 ^2 ) + ( D220 ^2 ) ) by L498 , XREAL_1:7;
L500: D218 = ( abs ( D210 - D214 ) ) by METRIC_1:def 12;
L501: ( 0 ) <= D218 by L500 , COMPLEX1:46;
L502: ( D218 ^2 ) <= ( ( D221 + D217 ) ^2 ) by L501 , METRIC_1:10 , SQUARE_1:15;
L503: ( ( D218 ^2 ) + ( D220 ^2 ) ) <= ( ( ( D221 + D217 ) ^2 ) + ( ( D216 + D219 ) ^2 ) ) by L502 , L497 , XREAL_1:7;
L504: ( sqrt ( ( D218 ^2 ) + ( D220 ^2 ) ) ) <= ( sqrt ( ( ( D221 + D217 ) ^2 ) + ( ( D216 + D219 ) ^2 ) ) ) by L503 , L499 , SQUARE_1:26;
L505: D219 = ( abs ( D213 - D215 ) ) by METRIC_1:def 12;
L506: ( 0 ) <= D219 by L505 , COMPLEX1:46;
L507: D216 = ( abs ( D211 - D213 ) ) by METRIC_1:def 12;
L508: ( 0 ) <= D216 by L507 , COMPLEX1:46;
L509: D217 = ( abs ( D212 - D214 ) ) by METRIC_1:def 12;
L510: ( 0 ) <= D217 by L509 , COMPLEX1:46;
L511: D221 = ( abs ( D210 - D212 ) ) by METRIC_1:def 12;
L512: ( 0 ) <= D221 by L511 , COMPLEX1:46;
L513: ( sqrt ( ( ( D221 + D217 ) ^2 ) + ( ( D216 + D219 ) ^2 ) ) ) <= ( ( sqrt ( ( D221 ^2 ) + ( D216 ^2 ) ) ) + ( sqrt ( ( D217 ^2 ) + ( D219 ^2 ) ) ) ) by L512 , L510 , L508 , L506 , L224;
L514: ( sqrt ( ( D218 ^2 ) + ( D220 ^2 ) ) ) <= ( ( sqrt ( ( D221 ^2 ) + ( D216 ^2 ) ) ) + ( sqrt ( ( D217 ^2 ) + ( D219 ^2 ) ) ) ) by L513 , L504 , XXREAL_0:2;
L515: ( ( Eukl_dist2 ) . (C247 , C249) ) <= ( ( sqrt ( ( D221 ^2 ) + ( D216 ^2 ) ) ) + ( sqrt ( ( D217 ^2 ) + ( D219 ^2 ) ) ) ) by L514 , L492 , L494 , L461;
L516: ( ( Eukl_dist2 ) . (C247 , C249) ) <= ( ( ( Eukl_dist2 ) . (C247 , C248) ) + ( sqrt ( ( D217 ^2 ) + ( D219 ^2 ) ) ) ) by L515 , L492 , L493 , L461;
thus L517: thesis by L516 , L493 , L494 , L461;
end;
definition
func EuklSpace2 ->  strict non  empty MetrSpace equals 
MetrStruct (# [: ( REAL ) , ( REAL ) :] , ( Eukl_dist2 ) #);
coherence
proof
L518:
now
let C250 , C251 , C252 being (Element of MetrStruct (# [: ( REAL ) , ( REAL ) :] , ( Eukl_dist2 ) #));
reconsider D222 = C250 , D223 = C251 , D224 = C252 as (Element of [: ( REAL ) , ( REAL ) :]);
L519: ( dist (C250 , C251) ) = ( ( Eukl_dist2 ) . (D222 , D223) ) by METRIC_1:def 1;
thus L520: (( dist (C250 , C251) ) = ( 0 ) iff C250 = C251) by L519 , L473;
L521: ( dist (C251 , C250) ) = ( ( Eukl_dist2 ) . (D223 , D222) ) by METRIC_1:def 1;
thus L522: ( dist (C250 , C251) ) = ( dist (C251 , C250) ) by L521 , L519 , L487;
L523: (( dist (C250 , C252) ) = ( ( Eukl_dist2 ) . (D222 , D224) ) & ( dist (C251 , C252) ) = ( ( Eukl_dist2 ) . (D223 , D224) )) by METRIC_1:def 1;
thus L524: ( dist (C250 , C252) ) <= ( ( dist (C250 , C251) ) + ( dist (C251 , C252) ) ) by L523 , L519 , L491;
end;
thus L525: thesis by L518 , METRIC_1:6;
end;
end;
definition
func taxi_dist3 -> (Function of [: [: ( REAL ) , ( REAL ) , ( REAL ) :] , [: ( REAL ) , ( REAL ) , ( REAL ) :] :] , ( REAL )) means 
:L527: (for B321 , B322 , B323 , B324 , B325 , B326 being (Element of ( REAL )) holds (for B327 , B328 being (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]) holds ((B327 = [ B321 , B323 , B325 ] & B328 = [ B322 , B324 , B326 ]) implies ( it . (B327 , B328) ) = ( ( ( ( real_dist ) . (B321 , B322) ) + ( ( real_dist ) . (B323 , B324) ) ) + ( ( real_dist ) . (B325 , B326) ) ))));
existence
proof
deffunc H11((Element of ( REAL )) , (Element of ( REAL )) , (Element of ( REAL )) , (Element of ( REAL )) , (Element of ( REAL )) , (Element of ( REAL ))) = ( ( ( ( real_dist ) . ($1 , $2) ) + ( ( real_dist ) . ($3 , $4) ) ) + ( ( real_dist ) . ($5 , $6) ) );
consider C253 being (Function of [: [: ( REAL ) , ( REAL ) , ( REAL ) :] , [: ( REAL ) , ( REAL ) , ( REAL ) :] :] , ( REAL )) such that L528: (for B329 , B330 , B331 , B332 , B333 , B334 being (Element of ( REAL )) holds (for B335 , B336 being (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]) holds ((B335 = [ B329 , B331 , B333 ] & B336 = [ B330 , B332 , B334 ]) implies ( C253 . (B335 , B336) ) = H11(B329 , B330 , B331 , B332 , B333 , B334)))) from LambdaMCART1;
take C253;
let C254 , C255 , C256 , C257 , C258 , C259 being (Element of ( REAL ));
let C260 , C261 being (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]);
assume L529: (C260 = [ C254 , C256 , C258 ] & C261 = [ C255 , C257 , C259 ]);
thus L530: thesis by L529 , L528;
end;
uniqueness
proof
let C262 , C263 being (Function of [: [: ( REAL ) , ( REAL ) , ( REAL ) :] , [: ( REAL ) , ( REAL ) , ( REAL ) :] :] , ( REAL ));
assume that
L531: (for B337 , B338 , B339 , B340 , B341 , B342 being (Element of ( REAL )) holds (for B343 , B344 being (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]) holds ((B343 = [ B337 , B339 , B341 ] & B344 = [ B338 , B340 , B342 ]) implies ( C262 . (B343 , B344) ) = ( ( ( ( real_dist ) . (B337 , B338) ) + ( ( real_dist ) . (B339 , B340) ) ) + ( ( real_dist ) . (B341 , B342) ) ))))
and
L532: (for B345 , B346 , B347 , B348 , B349 , B350 being (Element of ( REAL )) holds (for B351 , B352 being (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]) holds ((B351 = [ B345 , B347 , B349 ] & B352 = [ B346 , B348 , B350 ]) implies ( C263 . (B351 , B352) ) = ( ( ( ( real_dist ) . (B345 , B346) ) + ( ( real_dist ) . (B347 , B348) ) ) + ( ( real_dist ) . (B349 , B350) ) ))));
L533: (for B353 , B354 being (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]) holds ( C262 . (B353 , B354) ) = ( C263 . (B353 , B354) ))
proof
let C264 , C265 being (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]);
consider C266 , C267 , C268 being (Element of ( REAL )) such that L534: C264 = [ C266 , C267 , C268 ] by DOMAIN_1:3;
consider C269 , C270 , C271 being (Element of ( REAL )) such that L535: C265 = [ C269 , C270 , C271 ] by DOMAIN_1:3;
thus L536: ( C262 . (C264 , C265) ) = ( ( ( ( real_dist ) . (C266 , C269) ) + ( ( real_dist ) . (C267 , C270) ) ) + ( ( real_dist ) . (C268 , C271) ) ) by L531 , L534 , L535
.= ( C263 . (C264 , C265) ) by L532 , L534 , L535;
end;
thus L537: thesis by L533 , BINOP_1:2;
end;
end;
theorem
L539: (for B355 , B356 being (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]) holds (( ( taxi_dist3 ) . (B355 , B356) ) = ( 0 ) iff B355 = B356))
proof
let C272 , C273 being (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]);
reconsider D225 = ( C272 `1_3 ) , D226 = ( C272 `2_3 ) , D227 = ( C272 `3_3 ) , D228 = ( C273 `1_3 ) , D229 = ( C273 `2_3 ) , D230 = ( C273 `3_3 ) as (Element of ( REAL ));
L540: (C272 = [ D225 , D226 , D227 ] & C273 = [ D228 , D229 , D230 ]) by MCART_1:44;
thus L541: (( ( taxi_dist3 ) . (C272 , C273) ) = ( 0 ) implies C272 = C273)
proof
set D231 = ( ( real_dist ) . (D227 , D230) );
set D232 = ( ( real_dist ) . (D226 , D229) );
set D233 = ( ( real_dist ) . (D225 , D228) );
set D234 = ( D233 + D232 );
L542: D231 = ( abs ( D227 - D230 ) ) by METRIC_1:def 12;
L543: ( 0 ) <= D231 by L542 , COMPLEX1:46;
L544: D233 = ( abs ( D225 - D228 ) ) by METRIC_1:def 12;
L545: ( 0 ) <= D233 by L544 , COMPLEX1:46;
assume L546: ( ( taxi_dist3 ) . (C272 , C273) ) = ( 0 );
L547: ( D234 + D231 ) = ( 0 ) by L546 , L540 , L527;
L548: D232 = ( abs ( D226 - D229 ) ) by METRIC_1:def 12;
L549: ( 0 ) <= D232 by L548 , COMPLEX1:46;
L550: ( ( 0 ) + ( 0 ) ) <= ( D233 + D232 ) by L549 , L545 , XREAL_1:7;
L551: D234 = ( 0 ) by L550 , L547 , L543 , XREAL_1:27;
L552: D233 = ( 0 ) by L551 , L549 , L545 , XREAL_1:27;
L553: D225 = D228 by L552 , METRIC_1:8;
L554: D231 = ( 0 ) by L547 , L543 , L550 , XREAL_1:27;
L555: D227 = D230 by L554 , METRIC_1:8;
L556: D232 = ( 0 ) by L549 , L545 , L551 , XREAL_1:27;
thus L557: thesis by L556 , L540 , L555 , L553 , METRIC_1:8;
end;

assume L558: C272 = C273;
L559: (( ( real_dist ) . (D225 , D228) ) = ( 0 ) & ( ( real_dist ) . (D226 , D229) ) = ( 0 )) by L558 , METRIC_1:8;
L560: ( ( taxi_dist3 ) . (C272 , C273) ) = ( ( ( ( real_dist ) . (D225 , D228) ) + ( ( real_dist ) . (D226 , D229) ) ) + ( ( real_dist ) . (D227 , D230) ) ) by L540 , L527
.= ( 0 ) by L558 , L559 , METRIC_1:8;
thus L561: thesis by L560;
end;
theorem
L562: (for B357 , B358 being (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]) holds ( ( taxi_dist3 ) . (B357 , B358) ) = ( ( taxi_dist3 ) . (B358 , B357) ))
proof
let C274 , C275 being (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]);
reconsider D235 = ( C274 `1_3 ) , D236 = ( C274 `2_3 ) , D237 = ( C274 `3_3 ) , D238 = ( C275 `1_3 ) , D239 = ( C275 `2_3 ) , D240 = ( C275 `3_3 ) as (Element of ( REAL ));
L563: (C274 = [ D235 , D236 , D237 ] & C275 = [ D238 , D239 , D240 ]) by MCART_1:44;
L564: ( ( taxi_dist3 ) . (C274 , C275) ) = ( ( ( ( real_dist ) . (D235 , D238) ) + ( ( real_dist ) . (D236 , D239) ) ) + ( ( real_dist ) . (D237 , D240) ) ) by L563 , L527
.= ( ( ( ( real_dist ) . (D238 , D235) ) + ( ( real_dist ) . (D236 , D239) ) ) + ( ( real_dist ) . (D237 , D240) ) ) by METRIC_1:9
.= ( ( ( ( real_dist ) . (D238 , D235) ) + ( ( real_dist ) . (D239 , D236) ) ) + ( ( real_dist ) . (D237 , D240) ) ) by METRIC_1:9
.= ( ( ( ( real_dist ) . (D238 , D235) ) + ( ( real_dist ) . (D239 , D236) ) ) + ( ( real_dist ) . (D240 , D237) ) ) by METRIC_1:9
.= ( ( taxi_dist3 ) . (C275 , C274) ) by L563 , L527;
thus L565: thesis by L564;
end;
theorem
L566: (for B359 , B360 , B361 being (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]) holds ( ( taxi_dist3 ) . (B359 , B361) ) <= ( ( ( taxi_dist3 ) . (B359 , B360) ) + ( ( taxi_dist3 ) . (B360 , B361) ) ))
proof
let C276 , C277 , C278 being (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]);
reconsider D241 = ( C276 `1_3 ) , D242 = ( C276 `2_3 ) , D243 = ( C276 `3_3 ) , D244 = ( C277 `1_3 ) , D245 = ( C277 `2_3 ) , D246 = ( C277 `3_3 ) , D247 = ( C278 `1_3 ) , D248 = ( C278 `2_3 ) , D249 = ( C278 `3_3 ) as (Element of ( REAL ));
L567: C276 = [ D241 , D242 , D243 ] by MCART_1:44;
set D250 = ( ( real_dist ) . (D243 , D249) );
set D251 = ( ( real_dist ) . (D243 , D246) );
set D252 = ( ( real_dist ) . (D244 , D247) );
set D253 = ( ( real_dist ) . (D242 , D248) );
L568: C278 = [ D247 , D248 , D249 ] by MCART_1:44;
set D254 = ( ( real_dist ) . (D246 , D249) );
set D255 = ( ( real_dist ) . (D242 , D245) );
set D256 = ( ( real_dist ) . (D245 , D248) );
set D257 = ( ( real_dist ) . (D241 , D247) );
set D258 = ( ( real_dist ) . (D241 , D244) );
L569: C277 = [ D244 , D245 , D246 ] by MCART_1:44;
set D259 = ( D257 + D253 );
L570: (D257 <= ( D258 + D252 ) & D253 <= ( D255 + D256 )) by METRIC_1:10;
L571: D259 <= ( ( D258 + D252 ) + ( D255 + D256 ) ) by L570 , XREAL_1:7;
L572: D250 <= ( D251 + D254 ) by METRIC_1:10;
L573: ( D259 + D250 ) <= ( ( ( D258 + D252 ) + ( D255 + D256 ) ) + ( D251 + D254 ) ) by L572 , L571 , XREAL_1:7;
L574: ( ( ( D258 + D252 ) + ( D255 + D256 ) ) + ( D251 + D254 ) ) = ( ( ( D258 + D255 ) + D251 ) + ( ( D252 + D256 ) + D254 ) )
.= ( ( ( taxi_dist3 ) . (C276 , C277) ) + ( ( D252 + D256 ) + D254 ) ) by L567 , L569 , L527
.= ( ( ( taxi_dist3 ) . (C276 , C277) ) + ( ( taxi_dist3 ) . (C277 , C278) ) ) by L569 , L568 , L527;
thus L575: thesis by L574 , L567 , L568 , L573 , L527;
end;
definition
func RealSpaceCart3 ->  strict non  empty MetrSpace equals 
MetrStruct (# [: ( REAL ) , ( REAL ) , ( REAL ) :] , ( taxi_dist3 ) #);
coherence
proof
L576:
now
let C279 , C280 , C281 being (Element of MetrStruct (# [: ( REAL ) , ( REAL ) , ( REAL ) :] , ( taxi_dist3 ) #));
reconsider D260 = C279 , D261 = C280 , D262 = C281 as (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]);
L577: ( dist (C279 , C280) ) = ( ( taxi_dist3 ) . (D260 , D261) ) by METRIC_1:def 1;
thus L578: (( dist (C279 , C280) ) = ( 0 ) iff C279 = C280) by L577 , L539;
L579: ( dist (C280 , C279) ) = ( ( taxi_dist3 ) . (D261 , D260) ) by METRIC_1:def 1;
thus L580: ( dist (C279 , C280) ) = ( dist (C280 , C279) ) by L579 , L577 , L562;
L581: (( dist (C279 , C281) ) = ( ( taxi_dist3 ) . (D260 , D262) ) & ( dist (C280 , C281) ) = ( ( taxi_dist3 ) . (D261 , D262) )) by METRIC_1:def 1;
thus L582: ( dist (C279 , C281) ) <= ( ( dist (C279 , C280) ) + ( dist (C280 , C281) ) ) by L581 , L577 , L566;
end;
thus L583: thesis by L576 , METRIC_1:6;
end;
end;
definition
func Eukl_dist3 -> (Function of [: [: ( REAL ) , ( REAL ) , ( REAL ) :] , [: ( REAL ) , ( REAL ) , ( REAL ) :] :] , ( REAL )) means 
:L585: (for B362 , B363 , B364 , B365 , B366 , B367 being (Element of ( REAL )) holds (for B368 , B369 being (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]) holds ((B368 = [ B362 , B364 , B366 ] & B369 = [ B363 , B365 , B367 ]) implies ( it . (B368 , B369) ) = ( sqrt ( ( ( ( ( real_dist ) . (B362 , B363) ) ^2 ) + ( ( ( real_dist ) . (B364 , B365) ) ^2 ) ) + ( ( ( real_dist ) . (B366 , B367) ) ^2 ) ) ))));
existence
proof
deffunc H12((Element of ( REAL )) , (Element of ( REAL )) , (Element of ( REAL )) , (Element of ( REAL )) , (Element of ( REAL )) , (Element of ( REAL ))) = ( sqrt ( ( ( ( ( real_dist ) . ($1 , $2) ) ^2 ) + ( ( ( real_dist ) . ($3 , $4) ) ^2 ) ) + ( ( ( real_dist ) . ($5 , $6) ) ^2 ) ) );
consider C282 being (Function of [: [: ( REAL ) , ( REAL ) , ( REAL ) :] , [: ( REAL ) , ( REAL ) , ( REAL ) :] :] , ( REAL )) such that L586: (for B370 , B371 , B372 , B373 , B374 , B375 being (Element of ( REAL )) holds (for B376 , B377 being (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]) holds ((B376 = [ B370 , B372 , B374 ] & B377 = [ B371 , B373 , B375 ]) implies ( C282 . (B376 , B377) ) = H12(B370 , B371 , B372 , B373 , B374 , B375)))) from LambdaMCART1;
take C282;
let C283 , C284 , C285 , C286 , C287 , C288 being (Element of ( REAL ));
let C289 , C290 being (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]);
assume L587: (C289 = [ C283 , C285 , C287 ] & C290 = [ C284 , C286 , C288 ]);
thus L588: thesis by L587 , L586;
end;
uniqueness
proof
let C291 , C292 being (Function of [: [: ( REAL ) , ( REAL ) , ( REAL ) :] , [: ( REAL ) , ( REAL ) , ( REAL ) :] :] , ( REAL ));
assume that
L589: (for B378 , B379 , B380 , B381 , B382 , B383 being (Element of ( REAL )) holds (for B384 , B385 being (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]) holds ((B384 = [ B378 , B380 , B382 ] & B385 = [ B379 , B381 , B383 ]) implies ( C291 . (B384 , B385) ) = ( sqrt ( ( ( ( ( real_dist ) . (B378 , B379) ) ^2 ) + ( ( ( real_dist ) . (B380 , B381) ) ^2 ) ) + ( ( ( real_dist ) . (B382 , B383) ) ^2 ) ) ))))
and
L590: (for B386 , B387 , B388 , B389 , B390 , B391 being (Element of ( REAL )) holds (for B392 , B393 being (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]) holds ((B392 = [ B386 , B388 , B390 ] & B393 = [ B387 , B389 , B391 ]) implies ( C292 . (B392 , B393) ) = ( sqrt ( ( ( ( ( real_dist ) . (B386 , B387) ) ^2 ) + ( ( ( real_dist ) . (B388 , B389) ) ^2 ) ) + ( ( ( real_dist ) . (B390 , B391) ) ^2 ) ) ))));
L591: (for B394 , B395 being (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]) holds ( C291 . (B394 , B395) ) = ( C292 . (B394 , B395) ))
proof
let C293 , C294 being (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]);
consider C295 , C296 , C297 being (Element of ( REAL )) such that L592: C293 = [ C295 , C296 , C297 ] by DOMAIN_1:3;
consider C298 , C299 , C300 being (Element of ( REAL )) such that L593: C294 = [ C298 , C299 , C300 ] by DOMAIN_1:3;
thus L594: ( C291 . (C293 , C294) ) = ( sqrt ( ( ( ( ( real_dist ) . (C295 , C298) ) ^2 ) + ( ( ( real_dist ) . (C296 , C299) ) ^2 ) ) + ( ( ( real_dist ) . (C297 , C300) ) ^2 ) ) ) by L589 , L592 , L593
.= ( C292 . (C293 , C294) ) by L590 , L592 , L593;
end;
thus L595: thesis by L591 , BINOP_1:2;
end;
end;
theorem
L597: (for B396 , B397 being (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]) holds (( ( Eukl_dist3 ) . (B396 , B397) ) = ( 0 ) iff B396 = B397))
proof
let C301 , C302 being (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]);
reconsider D263 = ( C301 `1_3 ) , D264 = ( C301 `2_3 ) , D265 = ( C301 `3_3 ) , D266 = ( C302 `1_3 ) , D267 = ( C302 `2_3 ) , D268 = ( C302 `3_3 ) as (Element of ( REAL ));
L598: (C301 = [ D263 , D264 , D265 ] & C302 = [ D266 , D267 , D268 ]) by MCART_1:44;
thus L599: (( ( Eukl_dist3 ) . (C301 , C302) ) = ( 0 ) implies C301 = C302)
proof
set D269 = ( ( real_dist ) . (D265 , D268) );
set D270 = ( ( real_dist ) . (D264 , D267) );
set D271 = ( ( real_dist ) . (D263 , D266) );
L600: (( 0 ) <= ( D270 ^2 ) & ( 0 ) <= ( D269 ^2 )) by XREAL_1:63;
assume L601: ( ( Eukl_dist3 ) . (C301 , C302) ) = ( 0 );
L602: ( sqrt ( ( ( D271 ^2 ) + ( D270 ^2 ) ) + ( D269 ^2 ) ) ) = ( 0 ) by L601 , L598 , L585;
L603: ( sqrt ( ( D271 ^2 ) + ( ( D270 ^2 ) + ( D269 ^2 ) ) ) ) = ( 0 ) by L602;
L604: (( 0 ) <= ( D270 ^2 ) & ( 0 ) <= ( D269 ^2 )) by XREAL_1:63;
L605: (( 0 ) <= ( D271 ^2 ) & ( ( 0 ) + ( 0 ) ) <= ( ( D270 ^2 ) + ( D269 ^2 ) )) by L604 , XREAL_1:7 , XREAL_1:63;
L606: D271 = ( 0 ) by L605 , L603 , L205;
L607: D263 = D266 by L606 , METRIC_1:8;
L608: ( ( D270 ^2 ) + ( D269 ^2 ) ) = ( 0 ) by L603 , L605 , L205;
L609: D270 = ( 0 ) by L608 , L600 , XREAL_1:27;
L610: D264 = D267 by L609 , METRIC_1:8;
L611: D269 = ( 0 ) by L608 , L600 , XREAL_1:27;
thus L612: thesis by L611 , L598 , L607 , L610 , METRIC_1:8;
end;

assume L613: C301 = C302;
L614: (( ( ( real_dist ) . (D263 , D266) ) ^2 ) = ( ( 0 ) ^2 ) & ( ( ( real_dist ) . (D264 , D267) ) ^2 ) = ( ( 0 ) ^2 )) by L613 , METRIC_1:8;
L615: ( ( Eukl_dist3 ) . (C301 , C302) ) = ( sqrt ( ( ( ( ( real_dist ) . (D263 , D266) ) ^2 ) + ( ( ( real_dist ) . (D264 , D267) ) ^2 ) ) + ( ( ( real_dist ) . (D265 , D268) ) ^2 ) ) ) by L598 , L585
.= ( ( 0 ) ^2 ) by L613 , L614 , METRIC_1:8 , SQUARE_1:17;
thus L616: thesis by L615;
end;
theorem
L617: (for B398 , B399 being (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]) holds ( ( Eukl_dist3 ) . (B398 , B399) ) = ( ( Eukl_dist3 ) . (B399 , B398) ))
proof
let C303 , C304 being (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]);
reconsider D272 = ( C303 `1_3 ) , D273 = ( C303 `2_3 ) , D274 = ( C303 `3_3 ) , D275 = ( C304 `1_3 ) , D276 = ( C304 `2_3 ) , D277 = ( C304 `3_3 ) as (Element of ( REAL ));
L618: (C303 = [ D272 , D273 , D274 ] & C304 = [ D275 , D276 , D277 ]) by MCART_1:44;
L619: ( ( Eukl_dist3 ) . (C303 , C304) ) = ( sqrt ( ( ( ( ( real_dist ) . (D272 , D275) ) ^2 ) + ( ( ( real_dist ) . (D273 , D276) ) ^2 ) ) + ( ( ( real_dist ) . (D274 , D277) ) ^2 ) ) ) by L618 , L585
.= ( sqrt ( ( ( ( ( real_dist ) . (D275 , D272) ) ^2 ) + ( ( ( real_dist ) . (D273 , D276) ) ^2 ) ) + ( ( ( real_dist ) . (D274 , D277) ) ^2 ) ) ) by METRIC_1:9
.= ( sqrt ( ( ( ( ( real_dist ) . (D275 , D272) ) ^2 ) + ( ( ( real_dist ) . (D276 , D273) ) ^2 ) ) + ( ( ( real_dist ) . (D274 , D277) ) ^2 ) ) ) by METRIC_1:9
.= ( sqrt ( ( ( ( ( real_dist ) . (D275 , D272) ) ^2 ) + ( ( ( real_dist ) . (D276 , D273) ) ^2 ) ) + ( ( ( real_dist ) . (D277 , D274) ) ^2 ) ) ) by METRIC_1:9
.= ( ( Eukl_dist3 ) . (C304 , C303) ) by L618 , L585;
thus L620: thesis by L619;
end;
theorem
L621: (for B400 , B401 , B402 being (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]) holds ( ( Eukl_dist3 ) . (B400 , B402) ) <= ( ( ( Eukl_dist3 ) . (B400 , B401) ) + ( ( Eukl_dist3 ) . (B401 , B402) ) ))
proof
let C305 , C306 , C307 being (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]);
reconsider D278 = ( C305 `1_3 ) , D279 = ( C305 `2_3 ) , D280 = ( C305 `3_3 ) , D281 = ( C306 `1_3 ) , D282 = ( C306 `2_3 ) , D283 = ( C306 `3_3 ) , D284 = ( C307 `1_3 ) , D285 = ( C307 `2_3 ) , D286 = ( C307 `3_3 ) as (Element of ( REAL ));
L622: C305 = [ D278 , D279 , D280 ] by MCART_1:44;
set D287 = ( ( real_dist ) . (D283 , D286) );
set D288 = ( ( real_dist ) . (D279 , D282) );
set D289 = ( ( real_dist ) . (D282 , D285) );
set D290 = ( ( real_dist ) . (D278 , D284) );
set D291 = ( ( real_dist ) . (D278 , D281) );
L623: C306 = [ D281 , D282 , D283 ] by MCART_1:44;
L624: D287 = ( abs ( D283 - D286 ) ) by METRIC_1:def 12;
L625: ( 0 ) <= D287 by L624 , COMPLEX1:46;
L626: D289 = ( abs ( D282 - D285 ) ) by METRIC_1:def 12;
L627: ( 0 ) <= D289 by L626 , COMPLEX1:46;
L628: D288 = ( abs ( D279 - D282 ) ) by METRIC_1:def 12;
L629: ( 0 ) <= D288 by L628 , COMPLEX1:46;
set D292 = ( ( real_dist ) . (D280 , D286) );
set D293 = ( ( real_dist ) . (D280 , D283) );
set D294 = ( ( real_dist ) . (D281 , D284) );
set D295 = ( ( real_dist ) . (D279 , D285) );
L630: C307 = [ D284 , D285 , D286 ] by MCART_1:44;
L631: D292 = ( abs ( D280 - D286 ) ) by METRIC_1:def 12;
L632: ( 0 ) <= D292 by L631 , COMPLEX1:46;
L633: ( D292 ^2 ) <= ( ( D293 + D287 ) ^2 ) by L632 , METRIC_1:10 , SQUARE_1:15;
L634: D295 = ( abs ( D279 - D285 ) ) by METRIC_1:def 12;
L635: ( 0 ) <= D295 by L634 , COMPLEX1:46;
L636: ( D295 ^2 ) <= ( ( D288 + D289 ) ^2 ) by L635 , METRIC_1:10 , SQUARE_1:15;
L637: D290 = ( abs ( D278 - D284 ) ) by METRIC_1:def 12;
L638: ( 0 ) <= D290 by L637 , COMPLEX1:46;
L639: ( D290 ^2 ) <= ( ( D291 + D294 ) ^2 ) by L638 , METRIC_1:10 , SQUARE_1:15;
L640: ( ( D290 ^2 ) + ( D295 ^2 ) ) <= ( ( ( D291 + D294 ) ^2 ) + ( ( D288 + D289 ) ^2 ) ) by L639 , L636 , XREAL_1:7;
L641: ( ( ( D290 ^2 ) + ( D295 ^2 ) ) + ( D292 ^2 ) ) <= ( ( ( ( D291 + D294 ) ^2 ) + ( ( D288 + D289 ) ^2 ) ) + ( ( D293 + D287 ) ^2 ) ) by L640 , L633 , XREAL_1:7;
L642: (( 0 ) <= ( D290 ^2 ) & ( 0 ) <= ( D295 ^2 )) by XREAL_1:63;
L643: ( ( 0 ) + ( 0 ) ) <= ( ( D290 ^2 ) + ( D295 ^2 ) ) by L642 , XREAL_1:7;
L644: ( 0 ) <= ( D292 ^2 ) by XREAL_1:63;
L645: ( ( 0 ) + ( 0 ) ) <= ( ( ( D290 ^2 ) + ( D295 ^2 ) ) + ( D292 ^2 ) ) by L644 , L643 , XREAL_1:7;
L646: ( sqrt ( ( ( D290 ^2 ) + ( D295 ^2 ) ) + ( D292 ^2 ) ) ) <= ( sqrt ( ( ( ( D291 + D294 ) ^2 ) + ( ( D288 + D289 ) ^2 ) ) + ( ( D293 + D287 ) ^2 ) ) ) by L645 , L641 , SQUARE_1:26;
L647: D293 = ( abs ( D280 - D283 ) ) by METRIC_1:def 12;
L648: ( 0 ) <= D293 by L647 , COMPLEX1:46;
L649: D294 = ( abs ( D281 - D284 ) ) by METRIC_1:def 12;
L650: ( 0 ) <= D294 by L649 , COMPLEX1:46;
L651: D291 = ( abs ( D278 - D281 ) ) by METRIC_1:def 12;
L652: ( 0 ) <= D291 by L651 , COMPLEX1:46;
L653: ( sqrt ( ( ( ( D291 + D294 ) ^2 ) + ( ( D288 + D289 ) ^2 ) ) + ( ( D293 + D287 ) ^2 ) ) ) <= ( ( sqrt ( ( ( D291 ^2 ) + ( D288 ^2 ) ) + ( D293 ^2 ) ) ) + ( sqrt ( ( ( D294 ^2 ) + ( D289 ^2 ) ) + ( D287 ^2 ) ) ) ) by L652 , L650 , L629 , L627 , L648 , L625 , L336;
L654: ( sqrt ( ( ( D290 ^2 ) + ( D295 ^2 ) ) + ( D292 ^2 ) ) ) <= ( ( sqrt ( ( ( D291 ^2 ) + ( D288 ^2 ) ) + ( D293 ^2 ) ) ) + ( sqrt ( ( ( D294 ^2 ) + ( D289 ^2 ) ) + ( D287 ^2 ) ) ) ) by L653 , L646 , XXREAL_0:2;
L655: ( ( Eukl_dist3 ) . (C305 , C307) ) <= ( ( sqrt ( ( ( D291 ^2 ) + ( D288 ^2 ) ) + ( D293 ^2 ) ) ) + ( sqrt ( ( ( D294 ^2 ) + ( D289 ^2 ) ) + ( D287 ^2 ) ) ) ) by L654 , L622 , L630 , L585;
L656: ( ( Eukl_dist3 ) . (C305 , C307) ) <= ( ( ( Eukl_dist3 ) . (C305 , C306) ) + ( sqrt ( ( ( D294 ^2 ) + ( D289 ^2 ) ) + ( D287 ^2 ) ) ) ) by L655 , L622 , L623 , L585;
thus L657: thesis by L656 , L623 , L630 , L585;
end;
definition
func EuklSpace3 ->  strict non  empty MetrSpace equals 
MetrStruct (# [: ( REAL ) , ( REAL ) , ( REAL ) :] , ( Eukl_dist3 ) #);
coherence
proof
L658:
now
let C308 , C309 , C310 being (Element of MetrStruct (# [: ( REAL ) , ( REAL ) , ( REAL ) :] , ( Eukl_dist3 ) #));
reconsider D296 = C308 , D297 = C309 , D298 = C310 as (Element of [: ( REAL ) , ( REAL ) , ( REAL ) :]);
L659: ( dist (C308 , C309) ) = ( ( Eukl_dist3 ) . (D296 , D297) ) by METRIC_1:def 1;
thus L660: (( dist (C308 , C309) ) = ( 0 ) iff C308 = C309) by L659 , L597;
L661: ( dist (C309 , C308) ) = ( ( Eukl_dist3 ) . (D297 , D296) ) by METRIC_1:def 1;
thus L662: ( dist (C308 , C309) ) = ( dist (C309 , C308) ) by L661 , L659 , L617;
L663: (( dist (C308 , C310) ) = ( ( Eukl_dist3 ) . (D296 , D298) ) & ( dist (C309 , C310) ) = ( ( Eukl_dist3 ) . (D297 , D298) )) by METRIC_1:def 1;
thus L664: ( dist (C308 , C310) ) <= ( ( dist (C308 , C309) ) + ( dist (C309 , C310) ) ) by L663 , L659 , L621;
end;
thus L665: thesis by L658 , METRIC_1:6;
end;
end;
