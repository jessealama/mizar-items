:: The Class of Series-Parallel Graphs, {III}
::  by Krzysztof Retel
::
:: Received February 3, 2004
:: Copyright (c) 2004-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, RELAT_1, XBOOLE_0, ZFMISC_1, TARSKI, RELAT_2, STRUCT_0,
      FINSET_1, ORDERS_2, CARD_1, CAT_1, YELLOW_0, WELLORD1, NECKLA_2,
      NECKLACE, SUBSET_1, FUNCT_1, XXREAL_0, SEQM_3, REWRITE1, FINSEQ_1, NAT_1,
      ARYTM_3, FINSEQ_5, EQREL_1, MSUALG_5, CLASSES2, FUNCOP_1, FUNCT_4,
      ARYTM_1, NECKLA_3;
 notations TARSKI, XBOOLE_0, ENUMSET1, SUBSET_1, ZFMISC_1, RELAT_1, RELAT_2,
      RELSET_1, FUNCT_1, PARTFUN1, FUNCT_2, FINSET_1, CARD_1, NUMBERS,
      XCMPLX_0, XXREAL_0, ORDINAL1, DOMAIN_1, STRUCT_0, ORDERS_2, WAYBEL_1,
      FUNCOP_1, CLASSES2, NECKLACE, WAYBEL_0, FUNCT_4, REWRITE1, FINSEQ_1,
      FINSEQ_5, EQREL_1, MSUALG_5, YELLOW_0, NECKLA_2, WELLORD1;
 constructors NAT_1, EQREL_1, CLASSES1, TOLER_1, CLASSES2, FINSEQ_5, REWRITE1,
      REALSET2, MSUALG_5, ORDERS_3, WAYBEL_1, NECKLACE, NECKLA_2, RELSET_1;
 registrations XBOOLE_0, SUBSET_1, RELAT_1, FUNCT_1, PARTFUN1, FUNCT_2,
      FUNCOP_1, FINSET_1, XXREAL_0, XREAL_0, NAT_1, CARD_1, FINSEQ_1, REALSET1,
      STRUCT_0, ORDERS_2, YELLOW_0, NECKLACE, NECKLA_2, ORDINAL1, FUNCT_4,
      RELSET_1, ZFMISC_1;
 requirements BOOLE, SUBSET, REAL, NUMERALS, ARITHM;
 definitions XBOOLE_0, TARSKI, NECKLACE, RELAT_2, FUNCOP_1, WELLORD1, STRUCT_0;
 theorems RELSET_1, NECKLACE, XBOOLE_0, WAYBEL_0, YELLOW_0, FUNCT_1, FUNCT_2,
      ORDERS_2, RELAT_2, SUBSET_1, ZFMISC_1, XBOOLE_1, TARSKI, MCART_1,
      CLASSES2, CLASSES1, NECKLA_2, FUNCOP_1, ENUMSET1, RELAT_1, SYSREL,
      PARTFUN1, GROUP_6, CARD_2, REWRITE1, FINSEQ_1, FINSEQ_3, FINSEQ_5, NAT_1,
      EQREL_1, MSUALG_6, MSUALG_5, CARD_1, NAT_2, FUNCT_4, FUNCT_3, WAYBEL_1,
      YELLOW_6, XREAL_1, XXREAL_0, ORDINAL1, NAT_D, STRUCT_0, XTUPLE_0;
 schemes NAT_1;

begin
theorem
L1: (for R1 being set holds (for R2 being set holds ( ( id R1 ) | R2 ) = ( ( id R1 ) /\ [: R2 , R2 :] )))
proof
let R1 being set;
let R2 being set;
thus L2: ( ( id R1 ) | R2 ) c= ( ( id R1 ) /\ [: R2 , R2 :] )
proof
let C1 being set;
assume L3: C1 in ( ( id R1 ) | R2 );
L4: ( ( id R1 ) | R2 ) is (Relation of R2 , R1) by RELSET_1:18;
consider C2 , C3 being set such that L5: C1 = [ C2 , C3 ] and L6: C2 in R2 and L7: C3 in R1 by L4 , L3 , RELSET_1:2;
L8: [ C2 , C3 ] in ( id R1 ) by L3 , L5 , RELAT_1:def 11;
L9: C2 = C3 by L8 , RELAT_1:def 10;
L10: [ C2 , C3 ] in [: R2 , R2 :] by L9 , L6 , ZFMISC_1:87;
thus L11: thesis by L10 , L5 , L8 , XBOOLE_0:def 4;
end;

let C4 being set;
assume L12: C4 in ( ( id R1 ) /\ [: R2 , R2 :] );
L13: C4 in [: R2 , R2 :] by L12 , XBOOLE_0:def 4;
L14: (ex B1 , B2 being set st (B1 in R2 & B2 in R2 & C4 = [ B1 , B2 ])) by L13 , ZFMISC_1:def 2;
L15: C4 in ( id R1 ) by L12 , XBOOLE_0:def 4;
thus L16: thesis by L15 , L14 , RELAT_1:def 11;
end;
theorem
L17: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R6 being set holds ( id { R3 , R4 , R5 , R6 } ) = { [ R3 , R3 ] , [ R4 , R4 ] , [ R5 , R5 ] , [ R6 , R6 ] }))))
proof
let R3 being set;
let R4 being set;
let R5 being set;
let R6 being set;
set D1 = { R3 , R4 , R5 , R6 };
thus L18: ( id D1 ) c= { [ R3 , R3 ] , [ R4 , R4 ] , [ R5 , R5 ] , [ R6 , R6 ] }
proof
let C5 being set;
assume L19: C5 in ( id D1 );
consider C6 , C7 being set such that L20: C5 = [ C6 , C7 ] and L21: C6 in D1 and L22: C7 in D1 by L19 , RELSET_1:2;
L23: C6 = C7 by L19 , L20 , RELAT_1:def 10;
per cases  by L21 , ENUMSET1:def 2;
suppose L24: C6 = R3;

thus L25: thesis by L24 , L20 , L23 , ENUMSET1:def 2;
end;
suppose L26: C6 = R4;

thus L27: thesis by L26 , L20 , L23 , ENUMSET1:def 2;
end;
suppose L28: C6 = R5;

thus L29: thesis by L28 , L20 , L23 , ENUMSET1:def 2;
end;
suppose L30: C6 = R6;

thus L31: thesis by L30 , L20 , L23 , ENUMSET1:def 2;
end;
end;

let C8 being set;
assume L33: C8 in { [ R3 , R3 ] , [ R4 , R4 ] , [ R5 , R5 ] , [ R6 , R6 ] };
per cases  by L33 , ENUMSET1:def 2;
suppose L34: C8 = [ R3 , R3 ];

L35: R3 in D1 by ENUMSET1:def 2;
thus L36: thesis by L35 , L34 , RELAT_1:def 10;
end;
suppose L37: C8 = [ R4 , R4 ];

L38: R4 in D1 by ENUMSET1:def 2;
thus L39: thesis by L38 , L37 , RELAT_1:def 10;
end;
suppose L40: C8 = [ R5 , R5 ];

L41: R5 in D1 by ENUMSET1:def 2;
thus L42: thesis by L41 , L40 , RELAT_1:def 10;
end;
suppose L43: C8 = [ R6 , R6 ];

L44: R6 in D1 by ENUMSET1:def 2;
thus L45: thesis by L44 , L43 , RELAT_1:def 10;
end;
end;
theorem
L47: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R6 being set holds (for R7 being set holds (for R8 being set holds (for R9 being set holds (for R10 being set holds [: { R3 , R4 , R5 , R6 } , { R7 , R8 , R9 , R10 } :] = ( { [ R3 , R7 ] , [ R3 , R8 ] , [ R4 , R7 ] , [ R4 , R8 ] , [ R3 , R9 ] , [ R3 , R10 ] , [ R4 , R9 ] , [ R4 , R10 ] } \/ { [ R5 , R7 ] , [ R5 , R8 ] , [ R6 , R7 ] , [ R6 , R8 ] , [ R5 , R9 ] , [ R5 , R10 ] , [ R6 , R9 ] , [ R6 , R10 ] } )))))))))
proof
let R3 being set;
let R4 being set;
let R5 being set;
let R6 being set;
let R7 being set;
let R8 being set;
let R9 being set;
let R10 being set;
set D2 = { R3 , R4 , R5 , R6 };
set D3 = { R7 , R8 , R9 , R10 };
set D4 = { R3 , R4 };
set D5 = { R5 , R6 };
set D6 = { R7 , R8 };
set D7 = { R9 , R10 };
L48: ([: D5 , D6 :] = { [ R5 , R7 ] , [ R5 , R8 ] , [ R6 , R7 ] , [ R6 , R8 ] } & [: D5 , D7 :] = { [ R5 , R9 ] , [ R5 , R10 ] , [ R6 , R9 ] , [ R6 , R10 ] }) by MCART_1:23;
L49: (D2 = ( D4 \/ D5 ) & D3 = ( D6 \/ D7 )) by ENUMSET1:5;
L50: [: D2 , D3 :] = ( ( ( [: D4 , D6 :] \/ [: D4 , D7 :] ) \/ [: D5 , D6 :] ) \/ [: D5 , D7 :] ) by L49 , ZFMISC_1:98;
L51: ([: D4 , D6 :] = { [ R3 , R7 ] , [ R3 , R8 ] , [ R4 , R7 ] , [ R4 , R8 ] } & [: D4 , D7 :] = { [ R3 , R9 ] , [ R3 , R10 ] , [ R4 , R9 ] , [ R4 , R10 ] }) by MCART_1:23;
L52: [: D2 , D3 :] = ( ( { [ R3 , R7 ] , [ R3 , R8 ] , [ R4 , R7 ] , [ R4 , R8 ] , [ R3 , R9 ] , [ R3 , R10 ] , [ R4 , R9 ] , [ R4 , R10 ] } \/ { [ R5 , R7 ] , [ R5 , R8 ] , [ R6 , R7 ] , [ R6 , R8 ] } ) \/ { [ R5 , R9 ] , [ R5 , R10 ] , [ R6 , R9 ] , [ R6 , R10 ] } ) by L51 , L48 , L50 , ENUMSET1:25
.= ( { [ R3 , R7 ] , [ R3 , R8 ] , [ R4 , R7 ] , [ R4 , R8 ] , [ R3 , R9 ] , [ R3 , R10 ] , [ R4 , R9 ] , [ R4 , R10 ] } \/ ( { [ R5 , R7 ] , [ R5 , R8 ] , [ R6 , R7 ] , [ R6 , R8 ] } \/ { [ R5 , R9 ] , [ R5 , R10 ] , [ R6 , R9 ] , [ R6 , R10 ] } ) ) by XBOOLE_1:4
.= ( { [ R3 , R7 ] , [ R3 , R8 ] , [ R4 , R7 ] , [ R4 , R8 ] , [ R3 , R9 ] , [ R3 , R10 ] , [ R4 , R9 ] , [ R4 , R10 ] } \/ { [ R5 , R7 ] , [ R5 , R8 ] , [ R6 , R7 ] , [ R6 , R8 ] , [ R5 , R9 ] , [ R5 , R10 ] , [ R6 , R9 ] , [ R6 , R10 ] } ) by ENUMSET1:25;
thus L53: thesis by L52;
end;
registration
let C9 , C10 being  trivial set;
cluster  ->  trivial for (Relation of C9 , C10);
correctness
proof
let C11 being (Relation of C9 , C10);
L54: (C9 is  empty or (ex B3 being set st C9 = { B3 })) by ZFMISC_1:131;
L55: (C10 is  empty or (ex B4 being set st C10 = { B4 })) by ZFMISC_1:131;
assume L56: (not thesis);
consider C12 , C13 being set such that L57: C12 in C11 and L58: C13 in C11 and L59: C12 <> C13 by L56 , ZFMISC_1:def 10;
per cases  by L54 , L55;
suppose L60: (C9 is  empty & C10 is  empty);

thus L61: thesis by L60 , L57;
end;
suppose L62: (C9 is  empty & (ex B5 being set st C10 = { B5 }));

thus L63: thesis by L62 , L57;
end;
suppose L64: (ex B6 being set st (C9 = { B6 } & C10 is  empty));

thus L65: thesis by L64 , L57;
end;
suppose L66: (ex B7 being set st (C9 = { B7 } & (ex B8 being set st C10 = { B8 })));

consider C14 being set such that L67: C9 = { C14 } by L66;
consider C15 , C16 being set such that L68: C12 = [ C15 , C16 ] and L69: C15 in C9 and L70: C16 in C10 by L57 , RELSET_1:2;
L71: C15 = C14 by L67 , L69 , TARSKI:def 1;
consider C17 being set such that L72: C10 = { C17 } by L66;
consider C18 , C19 being set such that L73: C13 = [ C18 , C19 ] and L74: C18 in C9 and L75: C19 in C10 by L58 , RELSET_1:2;
L76: C18 = C14 by L67 , L74 , TARSKI:def 1;
L77: C16 = C17 by L72 , L70 , TARSKI:def 1;
thus L78: thesis by L77 , L59 , L72 , L68 , L71 , L73 , L75 , L76 , TARSKI:def 1;
end;
end;
end;
theorem
L81: (for B9 being  trivial set holds (for B10 being (Relation of B9) holds (B10 is non  empty implies (ex B11 being set st B10 = { [ B11 , B11 ] }))))
proof
let C20 being  trivial set;
let C21 being (Relation of C20);
assume L82: C21 is non  empty;
consider C22 being set such that L83: C22 in C21 by L82 , XBOOLE_0:def 1;
consider C23 , C24 being set such that L84: C22 = [ C23 , C24 ] and L85: C23 in C20 and L86: C24 in C20 by L83 , RELSET_1:2;
consider C25 being set such that L87: C20 = { C25 } by L85 , ZFMISC_1:131;
L88: (C23 = C25 & C24 = C25) by L85 , L86 , L87 , TARSKI:def 1;
L89: C21 = { [ C25 , C25 ] }
proof
thus L90: C21 c= { [ C25 , C25 ] }
proof
let C26 being set;
assume L91: C26 in C21;
consider C27 , C28 being set such that L92: C26 = [ C27 , C28 ] and L93: (C27 in C20 & C28 in C20) by L91 , RELSET_1:2;
L94: (C27 = C25 & C28 = C25) by L87 , L93 , TARSKI:def 1;
thus L95: thesis by L94 , L92 , TARSKI:def 1;
end;

let C29 being set;
assume L96: C29 in { [ C25 , C25 ] };
thus L97: thesis by L96 , L83 , L84 , L88 , TARSKI:def 1;
end;
thus L98: thesis by L89;
end;
registration
let C30 being  trivial set;
cluster  ->  trivial  reflexive  symmetric  transitive  strongly_connected for (Relation of C30);
correctness
proof
let C31 being (Relation of C30 , C30);
L99: C31 is_reflexive_in ( field C31 )
proof
per cases ;
suppose L100: C31 is  empty;

let C32 being set;
assume L101: C32 in ( field C31 );
thus L102: thesis by L101 , L100 , RELAT_1:40;
end;
suppose L103: C31 is non  empty;

consider C33 being set such that L104: C31 = { [ C33 , C33 ] } by L103 , L81;
let C34 being set;
assume L105: C34 in ( field C31 );
L106: C34 in ( ( dom C31 ) \/ ( rng C31 ) ) by L105 , RELAT_1:def 6;
L107: (( dom C31 ) = { C33 } & ( rng C31 ) = { C33 }) by L104 , RELAT_1:9;
L108: C34 = C33 by L107 , L106 , TARSKI:def 1;
thus L109: thesis by L108 , L104 , TARSKI:def 1;
end;
end;
L111: C31 is_transitive_in ( field C31 )
proof
per cases ;
suppose L112: C31 is  empty;

let C35 , C36 , C37 being set;
assume that
L113: C35 in ( field C31 )
and
L114: C36 in ( field C31 )
and
L115: C37 in ( field C31 )
and
L116: [ C35 , C36 ] in C31
and
L117: [ C36 , C37 ] in C31;
thus L118: thesis by L112 , L116;
end;
suppose L119: C31 is non  empty;

let C38 , C39 , C40 being set;
assume that
L120: C38 in ( field C31 )
and
L121: C39 in ( field C31 )
and
L122: C40 in ( field C31 )
and
L123: [ C38 , C39 ] in C31
and
L124: [ C39 , C40 ] in C31;
consider C41 being set such that L125: C31 = { [ C41 , C41 ] } by L119 , L81;
L126: [ C39 , C40 ] = [ C41 , C41 ] by L125 , L124 , TARSKI:def 1;
L127: C40 = C41 by L126 , XTUPLE_0:1;
L128: [ C38 , C39 ] = [ C41 , C41 ] by L125 , L123 , TARSKI:def 1;
L129: C38 = C41 by L128 , XTUPLE_0:1;
thus L130: thesis by L129 , L125 , L127 , TARSKI:def 1;
end;
end;
L132: C31 is_strongly_connected_in ( field C31 )
proof
per cases ;
suppose L133: C31 is  empty;

let C42 , C43 being set;
assume that
L134: C42 in ( field C31 )
and
L135: C43 in ( field C31 );
thus L136: thesis by L133 , L134 , RELAT_1:40;
end;
suppose L137: C31 is non  empty;

let C44 , C45 being set;
assume that
L138: C44 in ( field C31 )
and
L139: C45 in ( field C31 );
consider C46 being set such that L140: C31 = { [ C46 , C46 ] } by L137 , L81;
L141: (( dom C31 ) = { C46 } & ( rng C31 ) = { C46 }) by L140 , RELAT_1:9;
L142: C45 in ( ( dom C31 ) \/ ( rng C31 ) ) by L139 , RELAT_1:def 6;
L143: C45 = C46 by L142 , L141 , TARSKI:def 1;
L144: C44 in ( ( dom C31 ) \/ ( rng C31 ) ) by L138 , RELAT_1:def 6;
L145: C44 = C46 by L144 , L141 , TARSKI:def 1;
thus L146: thesis by L145 , L140 , L143 , TARSKI:def 1;
end;
end;
L148: C31 is_symmetric_in ( field C31 )
proof
per cases ;
suppose L149: C31 is  empty;

let C47 , C48 being set;
assume that
L150: C47 in ( field C31 )
and
L151: C48 in ( field C31 )
and
L152: [ C47 , C48 ] in C31;
thus L153: thesis by L149 , L152;
end;
suppose L154: C31 is non  empty;

let C49 , C50 being set;
assume that
L155: C49 in ( field C31 )
and
L156: C50 in ( field C31 )
and
L157: [ C49 , C50 ] in C31;
consider C51 being set such that L158: C31 = { [ C51 , C51 ] } by L154 , L81;
L159: [ C49 , C50 ] = [ C51 , C51 ] by L158 , L157 , TARSKI:def 1;
L160: (C49 = C51 & C50 = C51) by L159 , XTUPLE_0:1;
thus L161: thesis by L160 , L158 , TARSKI:def 1;
end;
end;
thus L163: thesis by L148 , L99 , L111 , L132 , RELAT_2:def 9 , RELAT_2:def 11 , RELAT_2:def 15 , RELAT_2:def 16;
end;
end;
theorem
L165: (for B12 being 1 -element set holds (for B13 being (Relation of B12) holds B13 is_symmetric_in B12))
proof
let C52 being 1 -element set;
let C53 being (Relation of C52);
consider C54 being set such that L166: C52 = { C54 } by ZFMISC_1:131;
let C55 , C56 being set;
assume that
L167: C55 in C52
and
L168: (C56 in C52 & [ C55 , C56 ] in C53);
L169: C55 = C54 by L166 , L167 , TARSKI:def 1;
thus L170: thesis by L169 , L166 , L168 , TARSKI:def 1;
end;
registration
cluster non  empty  strict  finite  irreflexive  symmetric for RelStr;
correctness
proof
set D8 = { ( 0 ) , 1 };
set D9 = { [ ( 0 ) , 1 ] , [ 1 , ( 0 ) ] };
L171: (( 0 ) in D8 & 1 in D8) by TARSKI:def 2;
L172: ([ ( 0 ) , 1 ] in [: D8 , D8 :] & [ 1 , ( 0 ) ] in [: D8 , D8 :]) by L171 , ZFMISC_1:def 2;
L173: D9 c= [: D8 , D8 :]
proof
let C57 being set;
assume L174: C57 in D9;
thus L175: thesis by L174 , L172 , TARSKI:def 2;
end;
reconsider D10 = D9 as (Relation of D8 , D8) by L173;
take D11 = RelStr (# D8 , D10 #);
L176: (for B14 being set holds (B14 in (the carrier of D11) implies (not [ B14 , B14 ] in (the InternalRel of D11))))
proof
let C58 being set;
L177: (not [ ( 0 ) , ( 0 ) ] in D10)
proof
assume L178: [ ( 0 ) , ( 0 ) ] in D10;
L179: ([ ( 0 ) , ( 0 ) ] = [ ( 0 ) , 1 ] or [ ( 0 ) , ( 0 ) ] = [ 1 , ( 0 ) ]) by L178 , TARSKI:def 2;
thus L180: contradiction by L179 , XTUPLE_0:1;
end;
L181: (not [ 1 , 1 ] in D10)
proof
assume L182: [ 1 , 1 ] in D10;
L183: ([ 1 , 1 ] = [ ( 0 ) , 1 ] or [ 1 , 1 ] = [ 1 , ( 0 ) ]) by L182 , TARSKI:def 2;
thus L184: contradiction by L183 , XTUPLE_0:1;
end;
assume L185: C58 in (the carrier of D11);
L186: (C58 = ( 0 ) or C58 = 1) by L185 , TARSKI:def 2;
thus L187: thesis by L186 , L177 , L181;
end;
L188: (for B15 , B16 being set holds ((B15 in D8 & B16 in D8 & [ B15 , B16 ] in D10) implies [ B16 , B15 ] in D10))
proof
let C59 , C60 being set;
assume that
L189: C59 in D8
and
L190: C60 in D8
and
L191: [ C59 , C60 ] in D10;
per cases  by L191 , TARSKI:def 2;
suppose L192: [ C59 , C60 ] = [ ( 0 ) , 1 ];

L193: (C59 = ( 0 ) & C60 = 1) by L192 , XTUPLE_0:1;
thus L194: thesis by L193 , TARSKI:def 2;
end;
suppose L195: [ C59 , C60 ] = [ 1 , ( 0 ) ];

L196: (C59 = 1 & C60 = ( 0 )) by L195 , XTUPLE_0:1;
thus L197: thesis by L196 , TARSKI:def 2;
end;
end;
L199: D10 is_symmetric_in D8 by L188 , RELAT_2:def 3;
thus L200: thesis by L199 , L176 , NECKLACE:def 3 , NECKLACE:def 5;
end;
end;
registration
let C61 being  irreflexive RelStr;
cluster  ->  irreflexive for  full  full  full  full (SubRelStr of C61);
correctness
proof
let C62 being  full (SubRelStr of C61);
let C63 being set;
assume L202: C63 in (the carrier of C62);
L203: (the carrier of C62) c= (the carrier of C61) by YELLOW_0:def 13;
L204: ((the InternalRel of C62) = ( (the InternalRel of C61) |_2 (the carrier of C62) ) & (not [ C63 , C63 ] in (the InternalRel of C61))) by L203 , L202 , NECKLACE:def 5 , YELLOW_0:def 14;
thus L205: thesis by L204 , XBOOLE_0:def 4;
end;
end;
registration
let C64 being  symmetric RelStr;
cluster  ->  symmetric for  full  full  full  full (SubRelStr of C64);
correctness
proof
let C65 being  full (SubRelStr of C64);
let C66 , C67 being set;
assume that
L207: (C66 in (the carrier of C65) & C67 in (the carrier of C65))
and
L208: [ C66 , C67 ] in (the InternalRel of C65);
L209: [ C67 , C66 ] in [: (the carrier of C65) , (the carrier of C65) :] by L207 , ZFMISC_1:87;
L210: ((the carrier of C65) c= (the carrier of C64) & (the InternalRel of C64) is_symmetric_in (the carrier of C64)) by NECKLACE:def 3 , YELLOW_0:def 13;
L211: (the InternalRel of C65) = ( (the InternalRel of C64) |_2 (the carrier of C65) ) by YELLOW_0:def 14;
L212: [ C66 , C67 ] in (the InternalRel of C64) by L211 , L208 , XBOOLE_0:def 4;
L213: [ C67 , C66 ] in (the InternalRel of C64) by L212 , L207 , L210 , RELAT_2:def 3;
thus L214: thesis by L213 , L211 , L209 , XBOOLE_0:def 4;
end;
end;
theorem
L216: (for B17 being  irreflexive  symmetric RelStr holds (( card (the carrier of B17) ) = 2 implies (ex B18 , B19 being set st ((the carrier of B17) = { B18 , B19 } & ((the InternalRel of B17) = { [ B18 , B19 ] , [ B19 , B18 ] } or (the InternalRel of B17) = ( {} ))))))
proof
let C68 being  irreflexive  symmetric RelStr;
set D12 = (the InternalRel of C68);
assume L217: ( card (the carrier of C68) ) = 2;
reconsider D13 = (the carrier of C68) as  finite set by L217;
consider C69 , C70 being set such that L218: C69 <> C70 and L219: D13 = { C69 , C70 } by L217 , CARD_2:60;
L220: (the InternalRel of C68) c= { [ C69 , C70 ] , [ C70 , C69 ] }
proof
let C71 being set;
assume L221: C71 in (the InternalRel of C68);
consider C72 , C73 being set such that L222: C71 = [ C72 , C73 ] and L223: C72 in D13 and L224: C73 in D13 by L221 , RELSET_1:2;
L225: (C72 = C69 or C72 = C70) by L219 , L223 , TARSKI:def 2;
per cases  by L219 , L222 , L224 , L225 , TARSKI:def 2;
suppose L226: C71 = [ C69 , C69 ];

L227: C69 in (the carrier of C68) by L219 , TARSKI:def 2;
thus L228: thesis by L227 , L221 , L226 , NECKLACE:def 5;
end;
suppose L229: C71 = [ C69 , C70 ];

thus L230: thesis by L229 , TARSKI:def 2;
end;
suppose L231: C71 = [ C70 , C69 ];

thus L232: thesis by L231 , TARSKI:def 2;
end;
suppose L233: C71 = [ C70 , C70 ];

L234: C70 in (the carrier of C68) by L219 , TARSKI:def 2;
thus L235: thesis by L234 , L221 , L233 , NECKLACE:def 5;
end;
end;
per cases  by L220 , ZFMISC_1:36;
suppose L237: D12 = ( {} );

thus L238: thesis by L237 , L219;
end;
suppose L239: D12 = { [ C69 , C70 ] };

L240: (C69 in D13 & C70 in D13) by L219 , TARSKI:def 2;
L241: D12 is_symmetric_in D13 by NECKLACE:def 3;
L242: [ C69 , C70 ] in D12 by L239 , TARSKI:def 1;
L243: [ C70 , C69 ] in D12 by L242 , L240 , L241 , RELAT_2:def 3;
L244: [ C70 , C69 ] = [ C69 , C70 ] by L243 , L239 , TARSKI:def 1;
thus L245: thesis by L244 , L218 , XTUPLE_0:1;
end;
suppose L246: D12 = { [ C70 , C69 ] };

L247: (C69 in D13 & C70 in D13) by L219 , TARSKI:def 2;
L248: D12 is_symmetric_in D13 by NECKLACE:def 3;
L249: [ C70 , C69 ] in D12 by L246 , TARSKI:def 1;
L250: [ C69 , C70 ] in D12 by L249 , L247 , L248 , RELAT_2:def 3;
L251: [ C70 , C69 ] = [ C69 , C70 ] by L250 , L246 , TARSKI:def 1;
thus L252: thesis by L251 , L218 , XTUPLE_0:1;
end;
suppose L253: D12 = { [ C69 , C70 ] , [ C70 , C69 ] };

thus L254: thesis by L253 , L219;
end;
end;
begin
registration
let C74 being non  empty RelStr;
let C75 being RelStr;
cluster ( union_of (C74 , C75) ) -> non  empty;
correctness
proof
L256: ( (the carrier of C74) \/ (the carrier of C75) ) is non  empty;
thus L257: thesis by L256 , NECKLA_2:def 2;
end;
cluster ( sum_of (C74 , C75) ) -> non  empty;
correctness
proof
L258: ( (the carrier of C74) \/ (the carrier of C75) ) is non  empty;
thus L259: thesis by L258 , NECKLA_2:def 3;
end;
end;
registration
let C76 being RelStr;
let C77 being non  empty RelStr;
cluster ( union_of (C76 , C77) ) -> non  empty;
correctness
proof
L261: ( (the carrier of C76) \/ (the carrier of C77) ) is non  empty;
thus L262: thesis by L261 , NECKLA_2:def 2;
end;
cluster ( sum_of (C76 , C77) ) -> non  empty;
correctness
proof
L263: ( (the carrier of C76) \/ (the carrier of C77) ) is non  empty;
thus L264: thesis by L263 , NECKLA_2:def 3;
end;
end;
registration
let C78 , C79 being  finite RelStr;
cluster ( union_of (C78 , C79) ) ->  finite;
correctness
proof
L266: ( (the carrier of C78) \/ (the carrier of C79) ) is  finite;
thus L267: thesis by L266 , NECKLA_2:def 2;
end;
cluster ( sum_of (C78 , C79) ) ->  finite;
correctness
proof
L268: ( (the carrier of C78) \/ (the carrier of C79) ) is  finite;
thus L269: thesis by L268 , NECKLA_2:def 3;
end;
end;
registration
let C80 , C81 being  symmetric RelStr;
cluster ( union_of (C80 , C81) ) ->  symmetric;
correctness
proof
let C82 , C83 being set;
set D14 = ( union_of (C80 , C81) );
set D15 = (the carrier of D14);
set D16 = (the InternalRel of D14);
set D17 = (the carrier of C80);
set D18 = (the carrier of C81);
assume that
L271: C82 in D15
and
L272: C83 in D15
and
L273: [ C82 , C83 ] in D16;
L274: [ C82 , C83 ] in ( (the InternalRel of C80) \/ (the InternalRel of C81) ) by L273 , NECKLA_2:def 2;
per cases  by L274 , XBOOLE_0:def 3;
suppose L275: [ C82 , C83 ] in (the InternalRel of C80);

L276: (the InternalRel of C80) is_symmetric_in D17 by NECKLACE:def 3;
L277: (C82 in D17 & C83 in D17) by L275 , ZFMISC_1:87;
L278: [ C83 , C82 ] in (the InternalRel of C80) by L277 , L275 , L276 , RELAT_2:def 3;
L279: [ C83 , C82 ] in ( (the InternalRel of C80) \/ (the InternalRel of C81) ) by L278 , XBOOLE_0:def 3;
thus L280: thesis by L279 , NECKLA_2:def 2;
end;
suppose L281: [ C82 , C83 ] in (the InternalRel of C81);

L282: (the InternalRel of C81) is_symmetric_in D18 by NECKLACE:def 3;
L283: (C82 in D18 & C83 in D18) by L281 , ZFMISC_1:87;
L284: [ C83 , C82 ] in (the InternalRel of C81) by L283 , L281 , L282 , RELAT_2:def 3;
L285: [ C83 , C82 ] in ( (the InternalRel of C80) \/ (the InternalRel of C81) ) by L284 , XBOOLE_0:def 3;
thus L286: thesis by L285 , NECKLA_2:def 2;
end;
end;
cluster ( sum_of (C80 , C81) ) ->  symmetric;
correctness
proof
set D19 = ( sum_of (C80 , C81) );
set D20 = (the carrier of ( sum_of (C80 , C81) ));
set D21 = (the InternalRel of D19);
set D22 = (the carrier of C80);
set D23 = (the InternalRel of C80);
set D24 = (the carrier of C81);
set D25 = (the InternalRel of C81);
L288: D25 is_symmetric_in D24 by NECKLACE:def 3;
L289: D23 is_symmetric_in D22 by NECKLACE:def 3;
L290: (the InternalRel of ( sum_of (C80 , C81) )) is_symmetric_in D20
proof
let C84 , C85 being set;
assume that
L291: C84 in D20
and
L292: C85 in D20
and
L293: [ C84 , C85 ] in D21;
L294: [ C84 , C85 ] in ( ( ( D23 \/ D25 ) \/ [: D22 , D24 :] ) \/ [: D24 , D22 :] ) by L293 , NECKLA_2:def 3;
L295: ([ C84 , C85 ] in ( ( D23 \/ D25 ) \/ [: D22 , D24 :] ) or [ C84 , C85 ] in [: D24 , D22 :]) by L294 , XBOOLE_0:def 3;
L296: ([ C84 , C85 ] in ( D23 \/ D25 ) or [ C84 , C85 ] in [: D22 , D24 :] or [ C84 , C85 ] in [: D24 , D22 :]) by L295 , XBOOLE_0:def 3;
per cases  by L296 , XBOOLE_0:def 3;
suppose L297: [ C84 , C85 ] in D23;

L298: (C84 in D22 & C85 in D22) by L297 , ZFMISC_1:87;
L299: [ C85 , C84 ] in D23 by L298 , L289 , L297 , RELAT_2:def 3;
L300: [ C85 , C84 ] in ( D23 \/ D25 ) by L299 , XBOOLE_0:def 3;
L301: [ C85 , C84 ] in ( ( D23 \/ D25 ) \/ [: D22 , D24 :] ) by L300 , XBOOLE_0:def 3;
L302: [ C85 , C84 ] in ( ( ( D23 \/ D25 ) \/ [: D22 , D24 :] ) \/ [: D24 , D22 :] ) by L301 , XBOOLE_0:def 3;
thus L303: thesis by L302 , NECKLA_2:def 3;
end;
suppose L304: [ C84 , C85 ] in D25;

L305: (C84 in D24 & C85 in D24) by L304 , ZFMISC_1:87;
L306: [ C85 , C84 ] in D25 by L305 , L288 , L304 , RELAT_2:def 3;
L307: [ C85 , C84 ] in ( D23 \/ D25 ) by L306 , XBOOLE_0:def 3;
L308: [ C85 , C84 ] in ( ( D23 \/ D25 ) \/ [: D22 , D24 :] ) by L307 , XBOOLE_0:def 3;
L309: [ C85 , C84 ] in ( ( ( D23 \/ D25 ) \/ [: D22 , D24 :] ) \/ [: D24 , D22 :] ) by L308 , XBOOLE_0:def 3;
thus L310: thesis by L309 , NECKLA_2:def 3;
end;
suppose L311: [ C84 , C85 ] in [: D22 , D24 :];

L312: (C84 in D22 & C85 in D24) by L311 , ZFMISC_1:87;
L313: [ C85 , C84 ] in [: D24 , D22 :] by L312 , ZFMISC_1:87;
L314: [ C85 , C84 ] in ( [: D22 , D24 :] \/ [: D24 , D22 :] ) by L313 , XBOOLE_0:def 3;
L315: [ C85 , C84 ] in ( D25 \/ ( [: D22 , D24 :] \/ [: D24 , D22 :] ) ) by L314 , XBOOLE_0:def 3;
L316: [ C85 , C84 ] in ( ( D25 \/ [: D22 , D24 :] ) \/ [: D24 , D22 :] ) by L315 , XBOOLE_1:4;
L317: [ C85 , C84 ] in ( D23 \/ ( ( D25 \/ [: D22 , D24 :] ) \/ [: D24 , D22 :] ) ) by L316 , XBOOLE_0:def 3;
L318: [ C85 , C84 ] in ( D23 \/ ( D25 \/ ( [: D22 , D24 :] \/ [: D24 , D22 :] ) ) ) by L317 , XBOOLE_1:4;
L319: [ C85 , C84 ] in ( ( D23 \/ D25 ) \/ ( [: D22 , D24 :] \/ [: D24 , D22 :] ) ) by L318 , XBOOLE_1:4;
L320: [ C85 , C84 ] in ( ( ( D23 \/ D25 ) \/ [: D22 , D24 :] ) \/ [: D24 , D22 :] ) by L319 , XBOOLE_1:4;
thus L321: thesis by L320 , NECKLA_2:def 3;
end;
suppose L322: [ C84 , C85 ] in [: D24 , D22 :];

L323: (C84 in D24 & C85 in D22) by L322 , ZFMISC_1:87;
L324: [ C85 , C84 ] in [: D22 , D24 :] by L323 , ZFMISC_1:87;
L325: [ C85 , C84 ] in ( [: D22 , D24 :] \/ [: D24 , D22 :] ) by L324 , XBOOLE_0:def 3;
L326: [ C85 , C84 ] in ( D25 \/ ( [: D22 , D24 :] \/ [: D24 , D22 :] ) ) by L325 , XBOOLE_0:def 3;
L327: [ C85 , C84 ] in ( ( D25 \/ [: D22 , D24 :] ) \/ [: D24 , D22 :] ) by L326 , XBOOLE_1:4;
L328: [ C85 , C84 ] in ( D23 \/ ( ( D25 \/ [: D22 , D24 :] ) \/ [: D24 , D22 :] ) ) by L327 , XBOOLE_0:def 3;
L329: [ C85 , C84 ] in ( D23 \/ ( D25 \/ ( [: D22 , D24 :] \/ [: D24 , D22 :] ) ) ) by L328 , XBOOLE_1:4;
L330: [ C85 , C84 ] in ( ( D23 \/ D25 ) \/ ( [: D22 , D24 :] \/ [: D24 , D22 :] ) ) by L329 , XBOOLE_1:4;
L331: [ C85 , C84 ] in ( ( ( D23 \/ D25 ) \/ [: D22 , D24 :] ) \/ [: D24 , D22 :] ) by L330 , XBOOLE_1:4;
thus L332: thesis by L331 , NECKLA_2:def 3;
end;
end;
thus L334: thesis by L290 , NECKLACE:def 3;
end;
end;
registration
let C86 , C87 being  irreflexive RelStr;
cluster ( union_of (C86 , C87) ) ->  irreflexive;
correctness
proof
set D26 = ( union_of (C86 , C87) );
set D27 = (the carrier of D26);
set D28 = (the InternalRel of D26);
set D29 = (the carrier of C86);
set D30 = (the carrier of C87);
L336: (for B20 being set holds (B20 in D27 implies (not [ B20 , B20 ] in D28)))
proof
let C88 being set;
assume that
L337: C88 in D27;
assume L338: (not thesis);
L339: [ C88 , C88 ] in ( (the InternalRel of C86) \/ (the InternalRel of C87) ) by L338 , NECKLA_2:def 2;
per cases  by L339 , XBOOLE_0:def 3;
suppose L340: [ C88 , C88 ] in (the InternalRel of C86);

L341: C88 in D29 by L340 , ZFMISC_1:87;
thus L342: thesis by L341 , L340 , NECKLACE:def 5;
end;
suppose L343: [ C88 , C88 ] in (the InternalRel of C87);

L344: C88 in D30 by L343 , ZFMISC_1:87;
thus L345: thesis by L344 , L343 , NECKLACE:def 5;
end;
end;
thus L347: thesis by L336 , NECKLACE:def 5;
end;
end;
theorem
L349: (for B21 , B22 being  irreflexive RelStr holds ((the carrier of B21) misses (the carrier of B22) implies ( sum_of (B21 , B22) ) is  irreflexive))
proof
let C89 , C90 being  irreflexive RelStr;
assume that
L350: (the carrier of C89) misses (the carrier of C90);
L351: (for B23 being set holds (B23 in (the carrier of ( sum_of (C89 , C90) )) implies (not [ B23 , B23 ] in (the InternalRel of ( sum_of (C89 , C90) )))))
proof
set D31 = (the InternalRel of C89);
set D32 = (the InternalRel of C90);
set D33 = [: (the carrier of C89) , (the carrier of C90) :];
set D34 = [: (the carrier of C90) , (the carrier of C89) :];
let C91 being set;
assume L352: C91 in (the carrier of ( sum_of (C89 , C90) ));
assume L353: (not thesis);
L354: [ C91 , C91 ] in ( ( ( D31 \/ D32 ) \/ D33 ) \/ D34 ) by L353 , NECKLA_2:def 3;
L355: ([ C91 , C91 ] in ( ( D31 \/ D32 ) \/ D33 ) or [ C91 , C91 ] in D34) by L354 , XBOOLE_0:def 3;
L356: ([ C91 , C91 ] in ( D31 \/ D32 ) or [ C91 , C91 ] in D33 or [ C91 , C91 ] in D34) by L355 , XBOOLE_0:def 3;
per cases  by L356 , XBOOLE_0:def 3;
suppose L357: [ C91 , C91 ] in D31;

L358: C91 in (the carrier of C89) by L357 , ZFMISC_1:87;
thus L359: thesis by L358 , L357 , NECKLACE:def 5;
end;
suppose L360: [ C91 , C91 ] in D32;

L361: C91 in (the carrier of C90) by L360 , ZFMISC_1:87;
thus L362: thesis by L361 , L360 , NECKLACE:def 5;
end;
suppose L363: [ C91 , C91 ] in D33;

L364: (C91 in (the carrier of C89) & C91 in (the carrier of C90)) by L363 , ZFMISC_1:87;
thus L365: thesis by L364 , L350 , XBOOLE_0:3;
end;
suppose L366: [ C91 , C91 ] in D34;

L367: (C91 in (the carrier of C90) & C91 in (the carrier of C89)) by L366 , ZFMISC_1:87;
thus L368: thesis by L367 , L350 , XBOOLE_0:3;
end;
end;
thus L370: thesis by L351 , NECKLACE:def 5;
end;
theorem
L371: (for B24 , B25 being RelStr holds (( union_of (B24 , B25) ) = ( union_of (B25 , B24) ) & ( sum_of (B24 , B25) ) = ( sum_of (B25 , B24) )))
proof
let C92 , C93 being RelStr;
set D35 = ( union_of (C92 , C93) );
set D36 = ( sum_of (C92 , C93) );
L372: (the carrier of D36) = ( (the carrier of C93) \/ (the carrier of C92) ) by NECKLA_2:def 3;
L373: (the InternalRel of D36) = ( ( ( (the InternalRel of C92) \/ (the InternalRel of C93) ) \/ [: (the carrier of C92) , (the carrier of C93) :] ) \/ [: (the carrier of C93) , (the carrier of C92) :] ) by NECKLA_2:def 3
.= ( ( ( (the InternalRel of C93) \/ (the InternalRel of C92) ) \/ [: (the carrier of C93) , (the carrier of C92) :] ) \/ [: (the carrier of C92) , (the carrier of C93) :] ) by XBOOLE_1:4;
L374: ((the carrier of D35) = ( (the carrier of C93) \/ (the carrier of C92) ) & (the InternalRel of D35) = ( (the InternalRel of C93) \/ (the InternalRel of C92) )) by NECKLA_2:def 2;
thus L375: thesis by L374 , L372 , L373 , NECKLA_2:def 2 , NECKLA_2:def 3;
end;
theorem
L376: (for B26 being  irreflexive RelStr holds (for B27 , B28 being RelStr holds ((B26 = ( union_of (B27 , B28) ) or B26 = ( sum_of (B27 , B28) )) implies (B27 is  irreflexive & B28 is  irreflexive))))
proof
let C94 being  irreflexive RelStr;
let C95 , C96 being RelStr;
assume L377: (C94 = ( union_of (C95 , C96) ) or C94 = ( sum_of (C95 , C96) ));
per cases  by L377;
suppose L378: C94 = ( union_of (C95 , C96) );

assume L379: (not thesis);
thus L380: thesis
proof
per cases  by L379;
suppose L381: (not C95 is  irreflexive);

consider C97 being set such that L382: C97 in (the carrier of C95) and L383: [ C97 , C97 ] in (the InternalRel of C95) by L381 , NECKLACE:def 5;
L384: [ C97 , C97 ] in ( (the InternalRel of C95) \/ (the InternalRel of C96) ) by L383 , XBOOLE_0:def 3;
L385: [ C97 , C97 ] in (the InternalRel of C94) by L384 , L378 , NECKLA_2:def 2;
L386: C97 in ( (the carrier of C95) \/ (the carrier of C96) ) by L382 , XBOOLE_0:def 3;
L387: C97 in (the carrier of C94) by L386 , L378 , NECKLA_2:def 2;
thus L388: thesis by L387 , L385 , NECKLACE:def 5;
end;
suppose L389: (not C96 is  irreflexive);

consider C98 being set such that L390: C98 in (the carrier of C96) and L391: [ C98 , C98 ] in (the InternalRel of C96) by L389 , NECKLACE:def 5;
L392: [ C98 , C98 ] in ( (the InternalRel of C95) \/ (the InternalRel of C96) ) by L391 , XBOOLE_0:def 3;
L393: [ C98 , C98 ] in (the InternalRel of C94) by L392 , L378 , NECKLA_2:def 2;
L394: C98 in ( (the carrier of C95) \/ (the carrier of C96) ) by L390 , XBOOLE_0:def 3;
L395: C98 in (the carrier of C94) by L394 , L378 , NECKLA_2:def 2;
thus L396: thesis by L395 , L393 , NECKLACE:def 5;
end;
end;

end;
suppose L381: C94 = ( sum_of (C95 , C96) );

assume L382: (not thesis);
thus L383: thesis
proof
per cases  by L382;
suppose L384: (not C95 is  irreflexive);

consider C99 being set such that L385: C99 in (the carrier of C95) and L386: [ C99 , C99 ] in (the InternalRel of C95) by L384 , NECKLACE:def 5;
L387: [ C99 , C99 ] in ( (the InternalRel of C95) \/ (the InternalRel of C96) ) by L386 , XBOOLE_0:def 3;
L388: [ C99 , C99 ] in ( ( (the InternalRel of C95) \/ (the InternalRel of C96) ) \/ [: (the carrier of C95) , (the carrier of C96) :] ) by L387 , XBOOLE_0:def 3;
L389: [ C99 , C99 ] in ( ( ( (the InternalRel of C95) \/ (the InternalRel of C96) ) \/ [: (the carrier of C95) , (the carrier of C96) :] ) \/ [: (the carrier of C96) , (the carrier of C95) :] ) by L388 , XBOOLE_0:def 3;
L390: [ C99 , C99 ] in (the InternalRel of C94) by L389 , L381 , NECKLA_2:def 3;
L391: C99 in ( (the carrier of C95) \/ (the carrier of C96) ) by L385 , XBOOLE_0:def 3;
L392: C99 in (the carrier of C94) by L391 , L381 , NECKLA_2:def 3;
thus L393: thesis by L392 , L390 , NECKLACE:def 5;
end;
suppose L394: (not C96 is  irreflexive);

consider C100 being set such that L395: C100 in (the carrier of C96) and L396: [ C100 , C100 ] in (the InternalRel of C96) by L394 , NECKLACE:def 5;
L397: [ C100 , C100 ] in ( (the InternalRel of C95) \/ (the InternalRel of C96) ) by L396 , XBOOLE_0:def 3;
L398: [ C100 , C100 ] in ( ( (the InternalRel of C95) \/ (the InternalRel of C96) ) \/ [: (the carrier of C95) , (the carrier of C96) :] ) by L397 , XBOOLE_0:def 3;
L399: [ C100 , C100 ] in ( ( ( (the InternalRel of C95) \/ (the InternalRel of C96) ) \/ [: (the carrier of C95) , (the carrier of C96) :] ) \/ [: (the carrier of C96) , (the carrier of C95) :] ) by L398 , XBOOLE_0:def 3;
L400: [ C100 , C100 ] in (the InternalRel of C94) by L399 , L381 , NECKLA_2:def 3;
L401: C100 in ( (the carrier of C95) \/ (the carrier of C96) ) by L395 , XBOOLE_0:def 3;
L402: C100 in (the carrier of C94) by L401 , L381 , NECKLA_2:def 3;
thus L403: thesis by L402 , L400 , NECKLACE:def 5;
end;
end;

end;
end;
theorem
L385: (for B29 being non  empty RelStr holds (for B30 , B31 being RelStr holds (((the carrier of B30) misses (the carrier of B31) & (( the RelStr of B29 ) = ( union_of (B30 , B31) ) or ( the RelStr of B29 ) = ( sum_of (B30 , B31) ))) implies (B30 is  full  full  full  full (SubRelStr of B29) & B31 is  full  full  full  full (SubRelStr of B29)))))
proof
let C101 being non  empty RelStr;
let C102 , C103 being RelStr;
assume that
L386: (the carrier of C102) misses (the carrier of C103)
and
L387: (( the RelStr of C101 ) = ( union_of (C102 , C103) ) or ( the RelStr of C101 ) = ( sum_of (C102 , C103) ));
set D37 = (the carrier of C102);
set D38 = (the carrier of C103);
set D39 = (the InternalRel of C102);
set D40 = (the InternalRel of C103);
set D41 = [: D37 , D38 :];
set D42 = [: D38 , D37 :];
per cases  by L387;
suppose L388: ( the RelStr of C101 ) = ( union_of (C102 , C103) );

L389: D40 = ( (the InternalRel of C101) |_2 D38 )
proof
thus L390: D40 c= ( (the InternalRel of C101) |_2 D38 )
proof
let C104 being set;
L391: (the InternalRel of C101) = ( D39 \/ D40 ) by L388 , NECKLA_2:def 2;
L392: D40 c= (the InternalRel of C101) by L391 , XBOOLE_1:7;
assume L393: C104 in D40;
thus L394: thesis by L393 , L392 , XBOOLE_0:def 4;
end;

let C105 being set;
assume L395: C105 in ( (the InternalRel of C101) |_2 D38 );
L396: C105 in [: D38 , D38 :] by L395 , XBOOLE_0:def 4;
L397: C105 in (the InternalRel of C101) by L395 , XBOOLE_0:def 4;
L398: C105 in ( D39 \/ D40 ) by L397 , L388 , NECKLA_2:def 2;
per cases  by L398 , XBOOLE_0:def 3;
suppose L399: C105 in D39;

consider C106 , C107 being set such that L400: C105 = [ C106 , C107 ] and L401: C106 in D37 and L402: C107 in D37 by L399 , RELSET_1:2;
consider C108 , C109 being set such that L403: C108 in D38 and L404: C109 in D38 and L405: C105 = [ C108 , C109 ] by L396 , ZFMISC_1:def 2;
L406: C106 = C108 by L400 , L405 , XTUPLE_0:1;
L407: ( D37 /\ D38 ) <> ( {} ) by L406 , L401 , L403 , XBOOLE_0:def 4;
thus L408: thesis by L407 , L386 , XBOOLE_0:def 7;
end;
suppose L409: C105 in D40;

thus L410: thesis by L409;
end;
end;
L412: D39 = ( (the InternalRel of C101) |_2 D37 )
proof
thus L413: D39 c= ( (the InternalRel of C101) |_2 D37 )
proof
let C110 being set;
L414: (the InternalRel of C101) = ( D39 \/ D40 ) by L388 , NECKLA_2:def 2;
L415: D39 c= (the InternalRel of C101) by L414 , XBOOLE_1:7;
assume L416: C110 in D39;
thus L417: thesis by L416 , L415 , XBOOLE_0:def 4;
end;

let C111 being set;
assume L418: C111 in ( (the InternalRel of C101) |_2 D37 );
L419: C111 in [: D37 , D37 :] by L418 , XBOOLE_0:def 4;
L420: C111 in (the InternalRel of C101) by L418 , XBOOLE_0:def 4;
L421: C111 in ( D39 \/ D40 ) by L420 , L388 , NECKLA_2:def 2;
per cases  by L421 , XBOOLE_0:def 3;
suppose L422: C111 in D39;

thus L423: thesis by L422;
end;
suppose L424: C111 in D40;

consider C112 , C113 being set such that L425: C111 = [ C112 , C113 ] and L426: C112 in D38 and L427: C113 in D38 by L424 , RELSET_1:2;
L428: (ex B32 , B33 being set st (B32 in D37 & B33 in D37 & C111 = [ B32 , B33 ])) by L419 , ZFMISC_1:def 2;
L429: C112 in D37 by L428 , L425 , XTUPLE_0:1;
thus L430: thesis by L429 , L386 , L426 , XBOOLE_0:3;
end;
end;
L432: (the carrier of C101) = ( (the carrier of C102) \/ (the carrier of C103) ) by L388 , NECKLA_2:def 2;
L433: ((the carrier of C102) c= (the carrier of C101) & (the carrier of C103) c= (the carrier of C101)) by L432 , XBOOLE_1:7;
L434: (the InternalRel of C101) = ( D39 \/ D40 ) by L388 , NECKLA_2:def 2;
L435: (D39 c= (the InternalRel of C101) & (the InternalRel of C103) c= (the InternalRel of C101)) by L434 , XBOOLE_1:7;
thus L436: thesis by L435 , L433 , L412 , L389 , YELLOW_0:def 13 , YELLOW_0:def 14;
end;
suppose L437: ( the RelStr of C101 ) = ( sum_of (C102 , C103) );

L438: D40 = ( (the InternalRel of C101) |_2 D38 )
proof
thus L439: D40 c= ( (the InternalRel of C101) |_2 D38 )
proof
let C114 being set;
L440: (the InternalRel of C101) = ( ( ( D39 \/ D40 ) \/ D41 ) \/ D42 ) by L437 , NECKLA_2:def 3;
L441: (the InternalRel of C101) = ( D40 \/ ( ( D39 \/ D41 ) \/ D42 ) ) by L440 , XBOOLE_1:113;
L442: D40 c= (the InternalRel of C101) by L441 , XBOOLE_1:7;
assume L443: C114 in D40;
thus L444: thesis by L443 , L442 , XBOOLE_0:def 4;
end;

let C115 being set;
assume L445: C115 in ( (the InternalRel of C101) |_2 D38 );
L446: C115 in [: D38 , D38 :] by L445 , XBOOLE_0:def 4;
L447: C115 in (the InternalRel of C101) by L445 , XBOOLE_0:def 4;
L448: C115 in ( ( ( D39 \/ D40 ) \/ D41 ) \/ D42 ) by L447 , L437 , NECKLA_2:def 3;
L449: C115 in ( D39 \/ ( ( D40 \/ D41 ) \/ D42 ) ) by L448 , XBOOLE_1:113;
L450: (C115 in D39 or C115 in ( ( D40 \/ D41 ) \/ D42 )) by L449 , XBOOLE_0:def 3;
L451: (C115 in D39 or C115 in ( D40 \/ ( D41 \/ D42 ) )) by L450 , XBOOLE_1:4;
L452: (C115 in D39 or C115 in D40 or C115 in ( D41 \/ D42 )) by L451 , XBOOLE_0:def 3;
per cases  by L452 , XBOOLE_0:def 3;
suppose L453: C115 in D39;

consider C116 , C117 being set such that L454: C115 = [ C116 , C117 ] and L455: C116 in D37 and L456: C117 in D37 by L453 , RELSET_1:2;
consider C118 , C119 being set such that L457: C118 in D38 and L458: C119 in D38 and L459: C115 = [ C118 , C119 ] by L446 , ZFMISC_1:def 2;
L460: C116 = C118 by L454 , L459 , XTUPLE_0:1;
L461: ( D37 /\ D38 ) <> ( {} ) by L460 , L455 , L457 , XBOOLE_0:def 4;
thus L462: thesis by L461 , L386 , XBOOLE_0:def 7;
end;
suppose L463: C115 in D40;

thus L464: thesis by L463;
end;
suppose L465: C115 in D41;

consider C120 , C121 being set such that L466: C120 in D37 and L467: C121 in D38 and L468: C115 = [ C120 , C121 ] by L465 , ZFMISC_1:def 2;
consider C122 , C123 being set such that L469: C122 in D38 and L470: C123 in D38 and L471: C115 = [ C122 , C123 ] by L446 , ZFMISC_1:def 2;
L472: C120 = C122 by L468 , L471 , XTUPLE_0:1;
L473: ( D37 /\ D38 ) <> ( {} ) by L472 , L466 , L469 , XBOOLE_0:def 4;
thus L474: thesis by L473 , L386 , XBOOLE_0:def 7;
end;
suppose L475: C115 in D42;

consider C124 , C125 being set such that L476: C124 in D38 and L477: C125 in D37 and L478: C115 = [ C124 , C125 ] by L475 , ZFMISC_1:def 2;
consider C126 , C127 being set such that L479: C126 in D38 and L480: C127 in D38 and L481: C115 = [ C126 , C127 ] by L446 , ZFMISC_1:def 2;
L482: C125 = C127 by L478 , L481 , XTUPLE_0:1;
L483: ( D37 /\ D38 ) <> ( {} ) by L482 , L477 , L480 , XBOOLE_0:def 4;
thus L484: thesis by L483 , L386 , XBOOLE_0:def 7;
end;
end;
L486: D40 c= ( ( D39 \/ D40 ) \/ [: D37 , D38 :] ) by XBOOLE_1:7 , XBOOLE_1:10;
L487: D40 c= ( ( ( D39 \/ D40 ) \/ [: D37 , D38 :] ) \/ [: D38 , D37 :] ) by L486 , XBOOLE_1:10;
L488: D39 = ( (the InternalRel of C101) |_2 D37 )
proof
thus L489: D39 c= ( (the InternalRel of C101) |_2 D37 )
proof
let C128 being set;
L490: (the InternalRel of C101) = ( ( ( D39 \/ D40 ) \/ D41 ) \/ D42 ) by L437 , NECKLA_2:def 3
.= ( D39 \/ ( ( D40 \/ D41 ) \/ D42 ) ) by XBOOLE_1:113;
L491: D39 c= (the InternalRel of C101) by L490 , XBOOLE_1:7;
assume L492: C128 in D39;
thus L493: thesis by L492 , L491 , XBOOLE_0:def 4;
end;

let C129 being set;
assume L494: C129 in ( (the InternalRel of C101) |_2 D37 );
L495: C129 in [: D37 , D37 :] by L494 , XBOOLE_0:def 4;
L496: C129 in (the InternalRel of C101) by L494 , XBOOLE_0:def 4;
L497: C129 in ( ( ( D39 \/ D40 ) \/ D41 ) \/ D42 ) by L496 , L437 , NECKLA_2:def 3;
L498: C129 in ( D39 \/ ( ( D40 \/ D41 ) \/ D42 ) ) by L497 , XBOOLE_1:113;
L499: (C129 in D39 or C129 in ( ( D40 \/ D41 ) \/ D42 )) by L498 , XBOOLE_0:def 3;
L500: (C129 in D39 or C129 in ( D40 \/ ( D41 \/ D42 ) )) by L499 , XBOOLE_1:4;
L501: (C129 in D39 or C129 in D40 or C129 in ( D41 \/ D42 )) by L500 , XBOOLE_0:def 3;
per cases  by L501 , XBOOLE_0:def 3;
suppose L502: C129 in D39;

thus L503: thesis by L502;
end;
suppose L504: C129 in D40;

consider C130 , C131 being set such that L505: C129 = [ C130 , C131 ] and L506: C130 in D38 and L507: C131 in D38 by L504 , RELSET_1:2;
consider C132 , C133 being set such that L508: C132 in D37 and L509: C133 in D37 and L510: C129 = [ C132 , C133 ] by L495 , ZFMISC_1:def 2;
L511: C130 = C132 by L505 , L510 , XTUPLE_0:1;
L512: ( D37 /\ D38 ) <> ( {} ) by L511 , L506 , L508 , XBOOLE_0:def 4;
thus L513: thesis by L512 , L386 , XBOOLE_0:def 7;
end;
suppose L514: C129 in D41;

consider C134 , C135 being set such that L515: C134 in D37 and L516: C135 in D38 and L517: C129 = [ C134 , C135 ] by L514 , ZFMISC_1:def 2;
consider C136 , C137 being set such that L518: C136 in D37 and L519: C137 in D37 and L520: C129 = [ C136 , C137 ] by L495 , ZFMISC_1:def 2;
L521: C135 = C137 by L517 , L520 , XTUPLE_0:1;
L522: ( D37 /\ D38 ) <> ( {} ) by L521 , L516 , L519 , XBOOLE_0:def 4;
thus L523: thesis by L522 , L386 , XBOOLE_0:def 7;
end;
suppose L524: C129 in D42;

consider C138 , C139 being set such that L525: C138 in D38 and L526: C139 in D37 and L527: C129 = [ C138 , C139 ] by L524 , ZFMISC_1:def 2;
consider C140 , C141 being set such that L528: C140 in D37 and L529: C141 in D37 and L530: C129 = [ C140 , C141 ] by L495 , ZFMISC_1:def 2;
L531: C138 = C140 by L527 , L530 , XTUPLE_0:1;
L532: ( D37 /\ D38 ) <> ( {} ) by L531 , L525 , L528 , XBOOLE_0:def 4;
thus L533: thesis by L532 , L386 , XBOOLE_0:def 7;
end;
end;
L535: D39 c= ( D39 \/ ( D40 \/ [: D37 , D38 :] ) ) by XBOOLE_1:7;
L536: D39 c= ( ( D39 \/ D40 ) \/ [: D37 , D38 :] ) by L535 , XBOOLE_1:4;
L537: (the carrier of C101) = ( (the carrier of C102) \/ (the carrier of C103) ) by L437 , NECKLA_2:def 3;
L538: ((the carrier of C102) c= (the carrier of C101) & (the carrier of C103) c= (the carrier of C101)) by L537 , XBOOLE_1:7;
L539: (the InternalRel of C101) = ( ( ( D39 \/ D40 ) \/ [: D37 , D38 :] ) \/ [: D38 , D37 :] ) by L437 , NECKLA_2:def 3;
L540: ( ( D39 \/ D40 ) \/ [: D37 , D38 :] ) c= (the InternalRel of C101) by L539 , XBOOLE_1:7;
L541: D39 c= (the InternalRel of C101) by L540 , L536 , XBOOLE_1:1;
thus L542: thesis by L541 , L539 , L538 , L487 , L488 , L438 , YELLOW_0:def 13 , YELLOW_0:def 14;
end;
end;
begin
theorem
L544: (the InternalRel of ( ComplRelStr ( Necklace 4 ) )) = { [ ( 0 ) , 2 ] , [ 2 , ( 0 ) ] , [ ( 0 ) , 3 ] , [ 3 , ( 0 ) ] , [ 1 , 3 ] , [ 3 , 1 ] }
proof
set D43 = ( Necklace 4 );
set D44 = (the carrier of D43);
set D45 = ( ComplRelStr D43 );
L545: (the carrier of ( Necklace 4 )) = { ( 0 ) , 1 , 2 , 3 } by NECKLACE:1 , NECKLACE:20;
thus L546: (the InternalRel of D45) c= { [ ( 0 ) , 2 ] , [ 2 , ( 0 ) ] , [ ( 0 ) , 3 ] , [ 3 , ( 0 ) ] , [ 1 , 3 ] , [ 3 , 1 ] }
proof
let C142 being set;
assume L547: C142 in (the InternalRel of D45);
L548: C142 in ( ( (the InternalRel of D43) ` ) \ ( id D44 ) ) by L547 , NECKLACE:def 8;
L549: (not C142 in ( id D44 )) by L548 , XBOOLE_0:def 5;
L550: C142 in ( (the InternalRel of D43) ` ) by L548 , XBOOLE_0:def 5;
L551: C142 in ( [: D44 , D44 :] \ (the InternalRel of D43) ) by L550 , SUBSET_1:def 4;
consider C143 , C144 being set such that L552: C143 in D44 and L553: C144 in D44 and L554: C142 = [ C143 , C144 ] by L548 , ZFMISC_1:def 2;
per cases  by L545 , L552 , L553 , ENUMSET1:def 2;
suppose L555: (C143 = ( 0 ) & C144 = ( 0 ));

thus L556: thesis by L555 , L549 , L552 , L554 , RELAT_1:def 10;
end;
suppose L557: (C143 = ( 0 ) & C144 = 1);

L558: C142 in (the InternalRel of D43) by L557 , L554 , ENUMSET1:def 4 , NECKLA_2:2;
thus L559: thesis by L558 , L551 , XBOOLE_0:def 5;
end;
suppose L560: (C143 = ( 0 ) & C144 = 2);

thus L561: thesis by L560 , L554 , ENUMSET1:def 4;
end;
suppose L562: (C143 = ( 0 ) & C144 = 3);

thus L563: thesis by L562 , L554 , ENUMSET1:def 4;
end;
suppose L564: (C143 = 1 & C144 = ( 0 ));

L565: C142 in (the InternalRel of D43) by L564 , L554 , ENUMSET1:def 4 , NECKLA_2:2;
thus L566: thesis by L565 , L551 , XBOOLE_0:def 5;
end;
suppose L567: (C143 = 2 & C144 = ( 0 ));

thus L568: thesis by L567 , L554 , ENUMSET1:def 4;
end;
suppose L569: (C143 = 3 & C144 = ( 0 ));

thus L570: thesis by L569 , L554 , ENUMSET1:def 4;
end;
suppose L571: (C143 = 1 & C144 = 1);

thus L572: thesis by L571 , L549 , L552 , L554 , RELAT_1:def 10;
end;
suppose L573: (C143 = 1 & C144 = 2);

L574: C142 in (the InternalRel of D43) by L573 , L554 , ENUMSET1:def 4 , NECKLA_2:2;
thus L575: thesis by L574 , L551 , XBOOLE_0:def 5;
end;
suppose L576: (C143 = 1 & C144 = 3);

thus L577: thesis by L576 , L554 , ENUMSET1:def 4;
end;
suppose L578: (C143 = 2 & C144 = 2);

thus L579: thesis by L578 , L549 , L552 , L554 , RELAT_1:def 10;
end;
suppose L580: (C143 = 2 & C144 = 1);

L581: C142 in (the InternalRel of D43) by L580 , L554 , ENUMSET1:def 4 , NECKLA_2:2;
thus L582: thesis by L581 , L551 , XBOOLE_0:def 5;
end;
suppose L583: (C143 = 2 & C144 = 3);

L584: C142 in (the InternalRel of D43) by L583 , L554 , ENUMSET1:def 4 , NECKLA_2:2;
thus L585: thesis by L584 , L551 , XBOOLE_0:def 5;
end;
suppose L586: (C143 = 3 & C144 = 3);

thus L587: thesis by L586 , L549 , L552 , L554 , RELAT_1:def 10;
end;
suppose L588: (C143 = 3 & C144 = 1);

thus L589: thesis by L588 , L554 , ENUMSET1:def 4;
end;
suppose L590: (C143 = 3 & C144 = 2);

L591: C142 in (the InternalRel of D43) by L590 , L554 , ENUMSET1:def 4 , NECKLA_2:2;
thus L592: thesis by L591 , L551 , XBOOLE_0:def 5;
end;
end;

let C145 being set;
assume L594: C145 in { [ ( 0 ) , 2 ] , [ 2 , ( 0 ) ] , [ ( 0 ) , 3 ] , [ 3 , ( 0 ) ] , [ 1 , 3 ] , [ 3 , 1 ] };
per cases  by L594 , ENUMSET1:def 4;
suppose L595: C145 = [ ( 0 ) , 2 ];

L596: (not C145 in (the InternalRel of D43))
proof
assume L597: (not thesis);
per cases  by L597 , ENUMSET1:def 4 , NECKLA_2:2;
suppose L598: C145 = [ ( 0 ) , 1 ];

thus L599: contradiction by L598 , L595 , XTUPLE_0:1;
end;
suppose L600: C145 = [ 1 , ( 0 ) ];

thus L601: contradiction by L600 , L595 , XTUPLE_0:1;
end;
suppose L602: C145 = [ 1 , 2 ];

thus L603: contradiction by L602 , L595 , XTUPLE_0:1;
end;
suppose L604: C145 = [ 2 , 1 ];

thus L605: contradiction by L604 , L595 , XTUPLE_0:1;
end;
suppose L606: C145 = [ 2 , 3 ];

thus L607: contradiction by L606 , L595 , XTUPLE_0:1;
end;
suppose L608: C145 = [ 3 , 2 ];

thus L609: contradiction by L608 , L595 , XTUPLE_0:1;
end;
end;
L611: (( 0 ) in D44 & 2 in D44) by L545 , ENUMSET1:def 2;
L612: C145 in [: D44 , D44 :] by L611 , L595 , ZFMISC_1:87;
L613: C145 in ( [: D44 , D44 :] \ (the InternalRel of D43) ) by L612 , L596 , XBOOLE_0:def 5;
L614: C145 in ( (the InternalRel of D43) ` ) by L613 , SUBSET_1:def 4;
L615: (not C145 in ( id D44 )) by L595 , RELAT_1:def 10;
L616: C145 in ( ( (the InternalRel of D43) ` ) \ ( id D44 ) ) by L615 , L614 , XBOOLE_0:def 5;
thus L617: thesis by L616 , NECKLACE:def 8;
end;
suppose L618: C145 = [ 2 , ( 0 ) ];

L619: (not C145 in (the InternalRel of D43))
proof
assume L620: (not thesis);
per cases  by L620 , ENUMSET1:def 4 , NECKLA_2:2;
suppose L621: C145 = [ ( 0 ) , 1 ];

thus L622: contradiction by L621 , L618 , XTUPLE_0:1;
end;
suppose L623: C145 = [ 1 , ( 0 ) ];

thus L624: contradiction by L623 , L618 , XTUPLE_0:1;
end;
suppose L625: C145 = [ 1 , 2 ];

thus L626: contradiction by L625 , L618 , XTUPLE_0:1;
end;
suppose L627: C145 = [ 2 , 1 ];

thus L628: contradiction by L627 , L618 , XTUPLE_0:1;
end;
suppose L629: C145 = [ 2 , 3 ];

thus L630: contradiction by L629 , L618 , XTUPLE_0:1;
end;
suppose L631: C145 = [ 3 , 2 ];

thus L632: contradiction by L631 , L618 , XTUPLE_0:1;
end;
end;
L634: (( 0 ) in D44 & 2 in D44) by L545 , ENUMSET1:def 2;
L635: C145 in [: D44 , D44 :] by L634 , L618 , ZFMISC_1:87;
L636: C145 in ( [: D44 , D44 :] \ (the InternalRel of D43) ) by L635 , L619 , XBOOLE_0:def 5;
L637: C145 in ( (the InternalRel of D43) ` ) by L636 , SUBSET_1:def 4;
L638: (not C145 in ( id D44 )) by L618 , RELAT_1:def 10;
L639: C145 in ( ( (the InternalRel of D43) ` ) \ ( id D44 ) ) by L638 , L637 , XBOOLE_0:def 5;
thus L640: thesis by L639 , NECKLACE:def 8;
end;
suppose L641: C145 = [ ( 0 ) , 3 ];

L642: (not C145 in (the InternalRel of D43))
proof
assume L643: (not thesis);
per cases  by L643 , ENUMSET1:def 4 , NECKLA_2:2;
suppose L644: C145 = [ ( 0 ) , 1 ];

thus L645: contradiction by L644 , L641 , XTUPLE_0:1;
end;
suppose L646: C145 = [ 1 , ( 0 ) ];

thus L647: contradiction by L646 , L641 , XTUPLE_0:1;
end;
suppose L648: C145 = [ 1 , 2 ];

thus L649: contradiction by L648 , L641 , XTUPLE_0:1;
end;
suppose L650: C145 = [ 2 , 1 ];

thus L651: contradiction by L650 , L641 , XTUPLE_0:1;
end;
suppose L652: C145 = [ 2 , 3 ];

thus L653: contradiction by L652 , L641 , XTUPLE_0:1;
end;
suppose L654: C145 = [ 3 , 2 ];

thus L655: contradiction by L654 , L641 , XTUPLE_0:1;
end;
end;
L657: (( 0 ) in D44 & 3 in D44) by L545 , ENUMSET1:def 2;
L658: C145 in [: D44 , D44 :] by L657 , L641 , ZFMISC_1:87;
L659: C145 in ( [: D44 , D44 :] \ (the InternalRel of D43) ) by L658 , L642 , XBOOLE_0:def 5;
L660: C145 in ( (the InternalRel of D43) ` ) by L659 , SUBSET_1:def 4;
L661: (not C145 in ( id D44 )) by L641 , RELAT_1:def 10;
L662: C145 in ( ( (the InternalRel of D43) ` ) \ ( id D44 ) ) by L661 , L660 , XBOOLE_0:def 5;
thus L663: thesis by L662 , NECKLACE:def 8;
end;
suppose L664: C145 = [ 3 , ( 0 ) ];

L665: (not C145 in (the InternalRel of D43))
proof
assume L666: (not thesis);
per cases  by L666 , ENUMSET1:def 4 , NECKLA_2:2;
suppose L667: C145 = [ ( 0 ) , 1 ];

thus L668: contradiction by L667 , L664 , XTUPLE_0:1;
end;
suppose L669: C145 = [ 1 , ( 0 ) ];

thus L670: contradiction by L669 , L664 , XTUPLE_0:1;
end;
suppose L671: C145 = [ 1 , 2 ];

thus L672: contradiction by L671 , L664 , XTUPLE_0:1;
end;
suppose L673: C145 = [ 2 , 1 ];

thus L674: contradiction by L673 , L664 , XTUPLE_0:1;
end;
suppose L675: C145 = [ 2 , 3 ];

thus L676: contradiction by L675 , L664 , XTUPLE_0:1;
end;
suppose L677: C145 = [ 3 , 2 ];

thus L678: contradiction by L677 , L664 , XTUPLE_0:1;
end;
end;
L680: (( 0 ) in D44 & 3 in D44) by L545 , ENUMSET1:def 2;
L681: C145 in [: D44 , D44 :] by L680 , L664 , ZFMISC_1:87;
L682: C145 in ( [: D44 , D44 :] \ (the InternalRel of D43) ) by L681 , L665 , XBOOLE_0:def 5;
L683: C145 in ( (the InternalRel of D43) ` ) by L682 , SUBSET_1:def 4;
L684: (not C145 in ( id D44 )) by L664 , RELAT_1:def 10;
L685: C145 in ( ( (the InternalRel of D43) ` ) \ ( id D44 ) ) by L684 , L683 , XBOOLE_0:def 5;
thus L686: thesis by L685 , NECKLACE:def 8;
end;
suppose L687: C145 = [ 1 , 3 ];

L688: (not C145 in (the InternalRel of D43))
proof
assume L689: (not thesis);
per cases  by L689 , ENUMSET1:def 4 , NECKLA_2:2;
suppose L690: C145 = [ ( 0 ) , 1 ];

thus L691: contradiction by L690 , L687 , XTUPLE_0:1;
end;
suppose L692: C145 = [ 1 , ( 0 ) ];

thus L693: contradiction by L692 , L687 , XTUPLE_0:1;
end;
suppose L694: C145 = [ 1 , 2 ];

thus L695: contradiction by L694 , L687 , XTUPLE_0:1;
end;
suppose L696: C145 = [ 2 , 1 ];

thus L697: contradiction by L696 , L687 , XTUPLE_0:1;
end;
suppose L698: C145 = [ 2 , 3 ];

thus L699: contradiction by L698 , L687 , XTUPLE_0:1;
end;
suppose L700: C145 = [ 3 , 2 ];

thus L701: contradiction by L700 , L687 , XTUPLE_0:1;
end;
end;
L703: (1 in D44 & 3 in D44) by L545 , ENUMSET1:def 2;
L704: C145 in [: D44 , D44 :] by L703 , L687 , ZFMISC_1:87;
L705: C145 in ( [: D44 , D44 :] \ (the InternalRel of D43) ) by L704 , L688 , XBOOLE_0:def 5;
L706: C145 in ( (the InternalRel of D43) ` ) by L705 , SUBSET_1:def 4;
L707: (not C145 in ( id D44 )) by L687 , RELAT_1:def 10;
L708: C145 in ( ( (the InternalRel of D43) ` ) \ ( id D44 ) ) by L707 , L706 , XBOOLE_0:def 5;
thus L709: thesis by L708 , NECKLACE:def 8;
end;
suppose L710: C145 = [ 3 , 1 ];

L711: (not C145 in (the InternalRel of D43))
proof
assume L712: (not thesis);
per cases  by L712 , ENUMSET1:def 4 , NECKLA_2:2;
suppose L713: C145 = [ ( 0 ) , 1 ];

thus L714: contradiction by L713 , L710 , XTUPLE_0:1;
end;
suppose L715: C145 = [ 1 , ( 0 ) ];

thus L716: contradiction by L715 , L710 , XTUPLE_0:1;
end;
suppose L717: C145 = [ 1 , 2 ];

thus L718: contradiction by L717 , L710 , XTUPLE_0:1;
end;
suppose L719: C145 = [ 2 , 1 ];

thus L720: contradiction by L719 , L710 , XTUPLE_0:1;
end;
suppose L721: C145 = [ 2 , 3 ];

thus L722: contradiction by L721 , L710 , XTUPLE_0:1;
end;
suppose L723: C145 = [ 3 , 2 ];

thus L724: contradiction by L723 , L710 , XTUPLE_0:1;
end;
end;
L726: (1 in D44 & 3 in D44) by L545 , ENUMSET1:def 2;
L727: C145 in [: D44 , D44 :] by L726 , L710 , ZFMISC_1:87;
L728: C145 in ( [: D44 , D44 :] \ (the InternalRel of D43) ) by L727 , L711 , XBOOLE_0:def 5;
L729: C145 in ( (the InternalRel of D43) ` ) by L728 , SUBSET_1:def 4;
L730: (not C145 in ( id D44 )) by L710 , RELAT_1:def 10;
L731: C145 in ( ( (the InternalRel of D43) ` ) \ ( id D44 ) ) by L730 , L729 , XBOOLE_0:def 5;
thus L732: thesis by L731 , NECKLACE:def 8;
end;
end;
registration
let C146 being RelStr;
cluster ( ComplRelStr C146 ) ->  irreflexive;
correctness
proof
set D46 = ( ComplRelStr C146 );
L734: (for B34 being set holds (B34 in (the carrier of D46) implies (not [ B34 , B34 ] in (the InternalRel of D46))))
proof
let C147 being set;
assume L735: C147 in (the carrier of D46);
L736: C147 in (the carrier of C146) by L735 , NECKLACE:def 8;
L737: (not [ C147 , C147 ] in (the InternalRel of D46))
proof
assume L738: [ C147 , C147 ] in (the InternalRel of D46);
L739: [ C147 , C147 ] in ( ( (the InternalRel of C146) ` ) \ ( id (the carrier of C146) ) ) by L738 , NECKLACE:def 8;
L740: (not [ C147 , C147 ] in ( id (the carrier of C146) )) by L739 , XBOOLE_0:def 5;
thus L741: contradiction by L740 , L736 , RELAT_1:def 10;
end;
thus L742: thesis by L737;
end;
thus L743: thesis by L734 , NECKLACE:def 5;
end;
end;
registration
let C148 being  symmetric RelStr;
cluster ( ComplRelStr C148 ) ->  symmetric;
correctness
proof
let C149 , C150 being set;
set D47 = ( ComplRelStr C148 );
assume that
L745: (C149 in (the carrier of D47) & C150 in (the carrier of D47))
and
L746: [ C149 , C150 ] in (the InternalRel of D47);
per cases ;
suppose L747: C149 = C150;

thus L748: thesis by L747 , L746;
end;
suppose L749: C149 <> C150;

L750: (C149 in (the carrier of C148) & C150 in (the carrier of C148)) by L745 , NECKLACE:def 8;
L751: [ C150 , C149 ] in [: (the carrier of C148) , (the carrier of C148) :] by L750 , ZFMISC_1:87;
L752: [ C149 , C150 ] in ( ( (the InternalRel of C148) ` ) \ ( id (the carrier of C148) ) ) by L746 , NECKLACE:def 8;
L753: [ C149 , C150 ] in ( (the InternalRel of C148) ` ) by L752 , XBOOLE_0:def 5;
L754: [ C149 , C150 ] in ( [: (the carrier of C148) , (the carrier of C148) :] \ (the InternalRel of C148) ) by L753 , SUBSET_1:def 4;
L755: (not [ C149 , C150 ] in (the InternalRel of C148)) by L754 , XBOOLE_0:def 5;
L756: (the InternalRel of C148) is_symmetric_in (the carrier of C148) by NECKLACE:def 3;
L757: (not [ C150 , C149 ] in (the InternalRel of C148)) by L756 , L750 , L755 , RELAT_2:def 3;
L758: [ C150 , C149 ] in ( [: (the carrier of C148) , (the carrier of C148) :] \ (the InternalRel of C148) ) by L757 , L751 , XBOOLE_0:def 5;
L759: [ C150 , C149 ] in ( (the InternalRel of C148) ` ) by L758 , SUBSET_1:def 4;
L760: (not [ C150 , C149 ] in ( id (the carrier of C148) )) by L749 , RELAT_1:def 10;
L761: [ C150 , C149 ] in ( ( (the InternalRel of C148) ` ) \ ( id (the carrier of C148) ) ) by L760 , L759 , XBOOLE_0:def 5;
thus L762: thesis by L761 , NECKLACE:def 8;
end;
end;
end;
theorem
L765: (for B35 being RelStr holds (the InternalRel of B35) misses (the InternalRel of ( ComplRelStr B35 )))
proof
let C151 being RelStr;
assume L766: (not thesis);
L767: ( (the InternalRel of C151) /\ (the InternalRel of ( ComplRelStr C151 )) ) <> ( {} ) by L766 , XBOOLE_0:def 7;
consider C152 being set such that L768: C152 in ( (the InternalRel of C151) /\ (the InternalRel of ( ComplRelStr C151 )) ) by L767 , XBOOLE_0:def 1;
L769: C152 in (the InternalRel of ( ComplRelStr C151 )) by L768 , XBOOLE_0:def 4;
L770: C152 in ( ( (the InternalRel of C151) ` ) \ ( id (the carrier of C151) ) ) by L769 , NECKLACE:def 8;
L771: C152 in ( (the InternalRel of C151) ` ) by L770 , XBOOLE_0:def 5;
L772: C152 in ( [: (the carrier of C151) , (the carrier of C151) :] \ (the InternalRel of C151) ) by L771 , SUBSET_1:def 4;
L773: (not C152 in (the InternalRel of C151)) by L772 , XBOOLE_0:def 5;
thus L774: thesis by L773 , L768 , XBOOLE_0:def 4;
end;
theorem
L775: (for B36 being RelStr holds ( id (the carrier of B36) ) misses (the InternalRel of ( ComplRelStr B36 )))
proof
let C153 being RelStr;
assume L776: (not thesis);
L777: ( ( id (the carrier of C153) ) /\ (the InternalRel of ( ComplRelStr C153 )) ) <> ( {} ) by L776 , XBOOLE_0:def 7;
consider C154 being set such that L778: C154 in ( ( id (the carrier of C153) ) /\ (the InternalRel of ( ComplRelStr C153 )) ) by L777 , XBOOLE_0:def 1;
L779: C154 in (the InternalRel of ( ComplRelStr C153 )) by L778 , XBOOLE_0:def 4;
L780: C154 in ( ( (the InternalRel of C153) ` ) \ ( id (the carrier of C153) ) ) by L779 , NECKLACE:def 8;
L781: C154 in ( id (the carrier of C153) ) by L778 , XBOOLE_0:def 4;
thus L782: contradiction by L781 , L780 , XBOOLE_0:def 5;
end;
theorem
L783: (for B37 being RelStr holds [: (the carrier of B37) , (the carrier of B37) :] = ( ( ( id (the carrier of B37) ) \/ (the InternalRel of B37) ) \/ (the InternalRel of ( ComplRelStr B37 )) ))
proof
let C155 being RelStr;
set D48 = ( id (the carrier of C155) );
set D49 = (the InternalRel of C155);
set D50 = (the InternalRel of ( ComplRelStr C155 ));
set D51 = (the carrier of C155);
thus L784: [: D51 , D51 :] c= ( ( D48 \/ D49 ) \/ D50 )
proof
let C156 being set;
assume L785: C156 in [: D51 , D51 :];
consider C157 , C158 being set such that L786: C157 in D51 and L787: C158 in D51 and L788: C156 = [ C157 , C158 ] by L785 , ZFMISC_1:def 2;
per cases ;
suppose L789: C157 = C158;

L790: [ C157 , C157 ] in ( id D51 ) by L786 , RELAT_1:def 10;
L791: C156 in ( ( id D51 ) \/ D49 ) by L790 , L788 , L789 , XBOOLE_0:def 3;
thus L792: thesis by L791 , XBOOLE_0:def 3;
end;
suppose L793: C157 <> C158;

L794: (not C156 in ( id D51 )) by L793 , L788 , RELAT_1:def 10;
thus L795: thesis
proof
per cases ;
suppose L796: C156 in D49;

L797: C156 in ( ( id D51 ) \/ D49 ) by L796 , XBOOLE_0:def 3;
thus L798: thesis by L797 , XBOOLE_0:def 3;
end;
suppose L799: (not C156 in D49);

L800: C156 in ( [: D51 , D51 :] \ D49 ) by L799 , L785 , XBOOLE_0:def 5;
L801: C156 in ( D49 ` ) by L800 , SUBSET_1:def 4;
L802: C156 in ( ( D49 ` ) \ ( id D51 ) ) by L801 , L794 , XBOOLE_0:def 5;
L803: C156 in D50 by L802 , NECKLACE:def 8;
L804: C156 in ( D49 \/ D50 ) by L803 , XBOOLE_0:def 3;
L805: C156 in ( ( id D51 ) \/ ( D49 \/ D50 ) ) by L804 , XBOOLE_0:def 3;
thus L806: thesis by L805 , XBOOLE_1:4;
end;
end;

end;
end;

let C159 being set;
assume L797: C159 in ( ( D48 \/ D49 ) \/ D50 );
L798: (C159 in ( ( id D51 ) \/ D49 ) or C159 in D50) by L797 , XBOOLE_0:def 3;
per cases  by L798 , XBOOLE_0:def 3;
suppose L799: C159 in ( id D51 );

thus L800: thesis by L799;
end;
suppose L801: C159 in D49;

thus L802: thesis by L801;
end;
suppose L803: C159 in D50;

L804: C159 in ( ( D49 ` ) \ ( id D51 ) ) by L803 , NECKLACE:def 8;
thus L805: thesis by L804;
end;
end;
theorem
L807: (for B38 being  strict  irreflexive RelStr holds (B38 is  trivial implies ( ComplRelStr B38 ) = B38))
proof
let C160 being  strict  irreflexive RelStr;
set D52 = ( ComplRelStr C160 );
assume L808: C160 is  trivial;
per cases  by L808 , ZFMISC_1:131;
suppose L809: (the carrier of C160) is  empty;

L810: (the InternalRel of D52) = ( ( (the InternalRel of C160) ` ) \ ( id (the carrier of C160) ) ) by NECKLACE:def 8;
L811: (the InternalRel of D52) = ( ( ( {} ) \ ( {} ) ) \ ( id ( {} ) ) ) by L810 , L809;
L812: (the InternalRel of C160) = ( {} ) by L809;
thus L813: thesis by L812 , L811 , NECKLACE:def 8;
end;
suppose L814: (ex B39 being set st (the carrier of C160) = { B39 });

consider C161 being set such that L815: (the carrier of C160) = { C161 } by L814;
L816: (the carrier of D52) = { C161 } by L815 , NECKLACE:def 8;
L817: (the InternalRel of C160) c= [: { C161 } , { C161 } :] by L815;
L818: (the InternalRel of C160) c= { [ C161 , C161 ] } by L817 , ZFMISC_1:29;
L819: ((the InternalRel of C160) = ( {} ) or (the InternalRel of C160) = { [ C161 , C161 ] }) by L818 , ZFMISC_1:33;
L820: (the InternalRel of C160) <> { [ C161 , C161 ] }
proof
assume L821: (not thesis);
L822: [ C161 , C161 ] in (the InternalRel of C160) by L821 , TARSKI:def 1;
L823: C161 in (the carrier of C160) by L815 , TARSKI:def 1;
thus L824: contradiction by L823 , L822 , NECKLACE:def 5;
end;
L825: (the InternalRel of D52) = ( ( (the InternalRel of C160) ` ) \ ( id (the carrier of C160) ) ) by NECKLACE:def 8;
L826: (the InternalRel of D52) = ( ( [: { C161 } , { C161 } :] \ ( {} ) ) \ ( id { C161 } ) ) by L825 , L815 , L819 , L820 , SUBSET_1:def 4;
L827: (the InternalRel of D52) = ( { [ C161 , C161 ] } \ ( id { C161 } ) ) by L826 , ZFMISC_1:29;
L828: (the InternalRel of D52) = ( { [ C161 , C161 ] } \ { [ C161 , C161 ] } ) by L827 , SYSREL:13;
thus L829: thesis by L828 , L815 , L819 , L820 , L816 , XBOOLE_1:37;
end;
end;
theorem
L831: (for B40 being  strict  irreflexive RelStr holds ( ComplRelStr ( ComplRelStr B40 ) ) = B40)
proof
let C162 being  strict  irreflexive RelStr;
set D53 = ( ComplRelStr ( ComplRelStr C162 ) );
set D54 = ( ComplRelStr C162 );
set D55 = (the carrier of C162);
set D56 = (the InternalRel of C162);
set D57 = (the InternalRel of D54);
set D58 = (the InternalRel of D53);
L832: D55 = (the carrier of D54) by NECKLACE:def 8
.= (the carrier of D53) by NECKLACE:def 8;
L833: D55 = (the carrier of D54) by NECKLACE:def 8;
L834: ( id D55 ) misses D56
proof
assume L835: (not thesis);
L836: ( ( id D55 ) /\ D56 ) <> ( {} ) by L835 , XBOOLE_0:def 7;
consider C163 being set such that L837: C163 in ( ( id D55 ) /\ D56 ) by L836 , XBOOLE_0:def 1;
L838: C163 in D56 by L837 , XBOOLE_0:def 4;
consider C164 , C165 being set such that L839: C163 = [ C164 , C165 ] and L840: C164 in D55 and L841: C165 in D55 by L837 , RELSET_1:2;
L842: C163 in ( id D55 ) by L837 , XBOOLE_0:def 4;
L843: C164 = C165 by L842 , L839 , RELAT_1:def 10;
thus L844: contradiction by L843 , L838 , L839 , L840 , NECKLACE:def 5;
end;
L845: D58 = ( ( D57 ` ) \ ( id (the carrier of D54) ) ) by NECKLACE:def 8
.= ( ( [: (the carrier of D54) , (the carrier of D54) :] \ D57 ) \ ( id (the carrier of D54) ) ) by SUBSET_1:def 4
.= ( ( [: D55 , D55 :] \ ( ( D56 ` ) \ ( id D55 ) ) ) \ ( id D55 ) ) by L833 , NECKLACE:def 8
.= ( ( ( [: D55 , D55 :] \ ( D56 ` ) ) \/ ( [: D55 , D55 :] /\ ( id D55 ) ) ) \ ( id D55 ) ) by XBOOLE_1:52
.= ( ( ( [: D55 , D55 :] \ ( D56 ` ) ) \/ ( id D55 ) ) \ ( id D55 ) ) by XBOOLE_1:28
.= ( ( [: D55 , D55 :] \ ( D56 ` ) ) \ ( id D55 ) ) by XBOOLE_1:40
.= ( ( [: D55 , D55 :] \ ( [: D55 , D55 :] \ D56 ) ) \ ( id D55 ) ) by SUBSET_1:def 4
.= ( ( [: D55 , D55 :] /\ D56 ) \ ( id D55 ) ) by XBOOLE_1:48
.= ( D56 \ ( id D55 ) ) by XBOOLE_1:28
.= D56 by L834 , XBOOLE_1:83;
thus L846: thesis by L845 , L832;
end;
theorem
L847: (for B41 , B42 being RelStr holds ((the carrier of B41) misses (the carrier of B42) implies ( ComplRelStr ( union_of (B41 , B42) ) ) = ( sum_of (( ComplRelStr B41 ) , ( ComplRelStr B42 )) )))
proof
let C166 , C167 being RelStr;
L848: (the carrier of ( sum_of (( ComplRelStr C166 ) , ( ComplRelStr C167 )) )) = ( (the carrier of ( ComplRelStr C166 )) \/ (the carrier of ( ComplRelStr C167 )) ) by NECKLA_2:def 3
.= ( (the carrier of C166) \/ (the carrier of ( ComplRelStr C167 )) ) by NECKLACE:def 8
.= ( (the carrier of C166) \/ (the carrier of C167) ) by NECKLACE:def 8;
set D59 = (the InternalRel of ( ComplRelStr ( union_of (C166 , C167) ) ));
set D60 = (the InternalRel of ( sum_of (( ComplRelStr C166 ) , ( ComplRelStr C167 )) ));
set D61 = (the InternalRel of ( ComplRelStr C166 ));
set D62 = (the InternalRel of ( ComplRelStr C167 ));
set D63 = [: (the carrier of ( ComplRelStr C166 )) , (the carrier of ( ComplRelStr C167 )) :];
set D64 = [: (the carrier of ( ComplRelStr C167 )) , (the carrier of ( ComplRelStr C166 )) :];
set D65 = [: (the carrier of C166) , (the carrier of C166) :];
set D66 = [: (the carrier of C167) , (the carrier of C167) :];
set D67 = [: (the carrier of C166) , (the carrier of C167) :];
set D68 = [: (the carrier of C167) , (the carrier of C166) :];
assume L849: (the carrier of C166) misses (the carrier of C167);
L850: (for B43 , B44 being set holds ([ B43 , B44 ] in D59 iff [ B43 , B44 ] in D60))
proof
let C168 , C169 being set;
set D69 = [ C168 , C169 ];
thus L851: (D69 in D59 implies D69 in D60)
proof
assume L852: D69 in D59;
L853: D69 in ( ( (the InternalRel of ( union_of (C166 , C167) )) ` ) \ ( id (the carrier of ( union_of (C166 , C167) )) ) ) by L852 , NECKLACE:def 8;
L854: D69 in [: (the carrier of ( union_of (C166 , C167) )) , (the carrier of ( union_of (C166 , C167) )) :] by L853;
L855: D69 in [: ( (the carrier of C166) \/ (the carrier of C167) ) , (the carrier of ( union_of (C166 , C167) )) :] by L854 , NECKLA_2:def 2;
L856: D69 in [: ( (the carrier of C166) \/ (the carrier of C167) ) , ( (the carrier of C166) \/ (the carrier of C167) ) :] by L855 , NECKLA_2:def 2;
L857: (not D69 in ( id (the carrier of ( union_of (C166 , C167) )) )) by L853 , XBOOLE_0:def 5;
L858: (not D69 in ( id ( (the carrier of C166) \/ (the carrier of C167) ) )) by L857 , NECKLA_2:def 2;
L859: ((not D69 in ( id (the carrier of C166) )) & (not D69 in ( id (the carrier of C167) )))
proof
assume L860: (not thesis);
L861: D69 in ( ( id (the carrier of C166) ) \/ ( id (the carrier of C167) ) ) by L860 , XBOOLE_0:def 3;
thus L862: contradiction by L861 , L858 , SYSREL:14;
end;
L863: ((the carrier of C166) = (the carrier of ( ComplRelStr C166 )) & (the carrier of C167) = (the carrier of ( ComplRelStr C167 ))) by NECKLACE:def 8;
L864: D69 in ( ( ( D65 \/ D63 ) \/ D64 ) \/ D66 ) by L863 , L856 , ZFMISC_1:98;
L865: D69 in ( D65 \/ ( ( D63 \/ D64 ) \/ D66 ) ) by L864 , XBOOLE_1:113;
L866: (D69 in D65 or D69 in ( ( D63 \/ D64 ) \/ D66 )) by L865 , XBOOLE_0:def 3;
L867: (D69 in D65 or D69 in ( D63 \/ ( D64 \/ D66 ) )) by L866 , XBOOLE_1:4;
L868: (D69 in D65 or D69 in D63 or D69 in ( D64 \/ D66 )) by L867 , XBOOLE_0:def 3;
L869: D69 in ( (the InternalRel of ( union_of (C166 , C167) )) ` ) by L853 , XBOOLE_0:def 5;
L870: D69 in ( [: (the carrier of ( union_of (C166 , C167) )) , (the carrier of ( union_of (C166 , C167) )) :] \ (the InternalRel of ( union_of (C166 , C167) )) ) by L869 , SUBSET_1:def 4;
L871: (not D69 in (the InternalRel of ( union_of (C166 , C167) ))) by L870 , XBOOLE_0:def 5;
L872: (not D69 in ( (the InternalRel of C166) \/ (the InternalRel of C167) )) by L871 , NECKLA_2:def 2;
L873: (not D69 in (the InternalRel of C166)) by L872 , XBOOLE_0:def 3;
L874: (not D69 in (the InternalRel of C167)) by L872 , XBOOLE_0:def 3;
per cases  by L868 , XBOOLE_0:def 3;
suppose L875: D69 in [: (the carrier of C166) , (the carrier of C166) :];

L876: D69 in ( [: (the carrier of C166) , (the carrier of C166) :] \ (the InternalRel of C166) ) by L875 , L873 , XBOOLE_0:def 5;
L877: D69 in ( (the InternalRel of C166) ` ) by L876 , SUBSET_1:def 4;
L878: D69 in ( ( (the InternalRel of C166) ` ) \ ( id (the carrier of C166) ) ) by L877 , L859 , XBOOLE_0:def 5;
L879: D69 in D61 by L878 , NECKLACE:def 8;
L880: D69 in ( D61 \/ ( ( D62 \/ D63 ) \/ D64 ) ) by L879 , XBOOLE_0:def 3;
L881: D69 in ( ( ( D61 \/ D62 ) \/ D63 ) \/ D64 ) by L880 , XBOOLE_1:113;
thus L882: thesis by L881 , NECKLA_2:def 3;
end;
suppose L883: D69 in D63;

L884: D69 in ( D62 \/ D63 ) by L883 , XBOOLE_0:def 3;
L885: D69 in ( ( D62 \/ D63 ) \/ D64 ) by L884 , XBOOLE_0:def 3;
L886: D69 in ( D61 \/ ( ( D62 \/ D63 ) \/ D64 ) ) by L885 , XBOOLE_0:def 3;
L887: D69 in ( ( ( D61 \/ D62 ) \/ D63 ) \/ D64 ) by L886 , XBOOLE_1:113;
thus L888: thesis by L887 , NECKLA_2:def 3;
end;
suppose L889: D69 in D64;

L890: D69 in ( D63 \/ D64 ) by L889 , XBOOLE_0:def 3;
L891: D69 in ( D62 \/ ( D63 \/ D64 ) ) by L890 , XBOOLE_0:def 3;
L892: D69 in ( ( D62 \/ D63 ) \/ D64 ) by L891 , XBOOLE_1:4;
L893: D69 in ( D61 \/ ( ( D62 \/ D63 ) \/ D64 ) ) by L892 , XBOOLE_0:def 3;
L894: D69 in ( ( ( D61 \/ D62 ) \/ D63 ) \/ D64 ) by L893 , XBOOLE_1:113;
thus L895: thesis by L894 , NECKLA_2:def 3;
end;
suppose L896: D69 in [: (the carrier of C167) , (the carrier of C167) :];

L897: D69 in ( [: (the carrier of C167) , (the carrier of C167) :] \ (the InternalRel of C167) ) by L896 , L874 , XBOOLE_0:def 5;
L898: D69 in ( (the InternalRel of C167) ` ) by L897 , SUBSET_1:def 4;
L899: D69 in ( ( (the InternalRel of C167) ` ) \ ( id (the carrier of C167) ) ) by L898 , L859 , XBOOLE_0:def 5;
L900: D69 in (the InternalRel of ( ComplRelStr C167 )) by L899 , NECKLACE:def 8;
L901: D69 in ( (the InternalRel of ( ComplRelStr C166 )) \/ (the InternalRel of ( ComplRelStr C167 )) ) by L900 , XBOOLE_0:def 3;
L902: D69 in ( ( (the InternalRel of ( ComplRelStr C166 )) \/ (the InternalRel of ( ComplRelStr C167 )) ) \/ [: (the carrier of ( ComplRelStr C166 )) , (the carrier of ( ComplRelStr C167 )) :] ) by L901 , XBOOLE_0:def 3;
L903: D69 in ( ( ( (the InternalRel of ( ComplRelStr C166 )) \/ (the InternalRel of ( ComplRelStr C167 )) ) \/ [: (the carrier of ( ComplRelStr C166 )) , (the carrier of ( ComplRelStr C167 )) :] ) \/ [: (the carrier of ( ComplRelStr C167 )) , (the carrier of ( ComplRelStr C166 )) :] ) by L902 , XBOOLE_0:def 3;
thus L904: thesis by L903 , NECKLA_2:def 3;
end;
end;

assume L906: D69 in D60;
L907: D69 in ( ( ( D61 \/ D62 ) \/ D63 ) \/ D64 ) by L906 , NECKLA_2:def 3;
L908: (D69 in ( ( D61 \/ D62 ) \/ D63 ) or D69 in D64) by L907 , XBOOLE_0:def 3;
L909: (D69 in ( D61 \/ D62 ) or D69 in D63 or D69 in D64) by L908 , XBOOLE_0:def 3;
per cases  by L909 , XBOOLE_0:def 3;
suppose L910: D69 in D61;

L911: D69 in ( ( (the InternalRel of C166) ` ) \ ( id (the carrier of C166) ) ) by L910 , NECKLACE:def 8;
L912: D69 in ( (the InternalRel of C166) ` ) by L911 , XBOOLE_0:def 5;
L913: D69 in ( [: (the carrier of C166) , (the carrier of C166) :] \ (the InternalRel of C166) ) by L912 , SUBSET_1:def 4;
L914: (not D69 in (the InternalRel of C166)) by L913 , XBOOLE_0:def 5;
L915: (not D69 in (the InternalRel of ( union_of (C166 , C167) )))
proof
assume L916: (not thesis);
L917: D69 in ( (the InternalRel of C166) \/ (the InternalRel of C167) ) by L916 , NECKLA_2:def 2;
L918: D69 in (the InternalRel of C167) by L917 , L914 , XBOOLE_0:def 3;
L919: ( [: (the carrier of C166) , (the carrier of C166) :] /\ [: (the carrier of C167) , (the carrier of C167) :] ) is non  empty by L918 , L911 , XBOOLE_0:def 4;
L920: [: (the carrier of C166) , (the carrier of C166) :] meets [: (the carrier of C167) , (the carrier of C167) :] by L919 , XBOOLE_0:def 7;
thus L921: contradiction by L920 , L849 , ZFMISC_1:104;
end;
L922: (not D69 in ( id (the carrier of ( union_of (C166 , C167) )) ))
proof
assume L923: (not thesis);
L924: D69 in ( id ( (the carrier of C166) \/ (the carrier of C167) ) ) by L923 , NECKLA_2:def 2;
L925: D69 in ( ( id (the carrier of C166) ) \/ ( id (the carrier of C167) ) ) by L924 , SYSREL:14;
thus L926: thesis
proof
per cases  by L925 , XBOOLE_0:def 3;
suppose L927: D69 in ( id (the carrier of C166) );

thus L928: contradiction by L927 , L911 , XBOOLE_0:def 5;
end;
suppose L929: D69 in ( id (the carrier of C167) );

L930: ( [: (the carrier of C166) , (the carrier of C166) :] /\ [: (the carrier of C167) , (the carrier of C167) :] ) is non  empty by L929 , L911 , XBOOLE_0:def 4;
L931: [: (the carrier of C166) , (the carrier of C166) :] meets [: (the carrier of C167) , (the carrier of C167) :] by L930 , XBOOLE_0:def 7;
thus L932: contradiction by L931 , L849 , ZFMISC_1:104;
end;
end;

end;
L927: D69 in ( D65 \/ D67 ) by L911 , XBOOLE_0:def 3;
L928: D69 in ( ( D65 \/ D67 ) \/ D68 ) by L927 , XBOOLE_0:def 3;
L929: D69 in ( ( ( D65 \/ D67 ) \/ D68 ) \/ D66 ) by L928 , XBOOLE_0:def 3;
L930: D69 in [: ( (the carrier of C166) \/ (the carrier of C167) ) , ( (the carrier of C166) \/ (the carrier of C167) ) :] by L929 , ZFMISC_1:98;
L931: D69 in [: ( (the carrier of C166) \/ (the carrier of C167) ) , (the carrier of ( union_of (C166 , C167) )) :] by L930 , NECKLA_2:def 2;
L932: D69 in [: (the carrier of ( union_of (C166 , C167) )) , (the carrier of ( union_of (C166 , C167) )) :] by L931 , NECKLA_2:def 2;
L933: D69 in ( [: (the carrier of ( union_of (C166 , C167) )) , (the carrier of ( union_of (C166 , C167) )) :] \ (the InternalRel of ( union_of (C166 , C167) )) ) by L932 , L915 , XBOOLE_0:def 5;
L934: D69 in ( (the InternalRel of ( union_of (C166 , C167) )) ` ) by L933 , SUBSET_1:def 4;
L935: D69 in ( ( (the InternalRel of ( union_of (C166 , C167) )) ` ) \ ( id (the carrier of ( union_of (C166 , C167) )) ) ) by L934 , L922 , XBOOLE_0:def 5;
thus L936: thesis by L935 , NECKLACE:def 8;
end;
suppose L937: D69 in D62;

L938: D69 in ( ( (the InternalRel of C167) ` ) \ ( id (the carrier of C167) ) ) by L937 , NECKLACE:def 8;
L939: D69 in ( (the InternalRel of C167) ` ) by L938 , XBOOLE_0:def 5;
L940: D69 in ( [: (the carrier of C167) , (the carrier of C167) :] \ (the InternalRel of C167) ) by L939 , SUBSET_1:def 4;
L941: (not D69 in (the InternalRel of C167)) by L940 , XBOOLE_0:def 5;
L942: (not D69 in (the InternalRel of ( union_of (C166 , C167) )))
proof
assume L943: (not thesis);
L944: D69 in ( (the InternalRel of C166) \/ (the InternalRel of C167) ) by L943 , NECKLA_2:def 2;
L945: D69 in (the InternalRel of C166) by L944 , L941 , XBOOLE_0:def 3;
L946: ( [: (the carrier of C166) , (the carrier of C166) :] /\ [: (the carrier of C167) , (the carrier of C167) :] ) is non  empty by L945 , L938 , XBOOLE_0:def 4;
L947: [: (the carrier of C166) , (the carrier of C166) :] meets [: (the carrier of C167) , (the carrier of C167) :] by L946 , XBOOLE_0:def 7;
thus L948: contradiction by L947 , L849 , ZFMISC_1:104;
end;
L949: (not D69 in ( id (the carrier of ( union_of (C166 , C167) )) ))
proof
assume L950: (not thesis);
L951: D69 in ( id ( (the carrier of C166) \/ (the carrier of C167) ) ) by L950 , NECKLA_2:def 2;
L952: D69 in ( ( id (the carrier of C166) ) \/ ( id (the carrier of C167) ) ) by L951 , SYSREL:14;
per cases  by L952 , XBOOLE_0:def 3;
suppose L953: D69 in ( id (the carrier of C167) );

thus L954: contradiction by L953 , L938 , XBOOLE_0:def 5;
end;
suppose L955: D69 in ( id (the carrier of C166) );

L956: ( [: (the carrier of C166) , (the carrier of C166) :] /\ [: (the carrier of C167) , (the carrier of C167) :] ) is non  empty by L955 , L938 , XBOOLE_0:def 4;
L957: [: (the carrier of C166) , (the carrier of C166) :] meets [: (the carrier of C167) , (the carrier of C167) :] by L956 , XBOOLE_0:def 7;
thus L958: contradiction by L957 , L849 , ZFMISC_1:104;
end;
end;
L960: D69 in ( D68 \/ D66 ) by L938 , XBOOLE_0:def 3;
L961: D69 in ( D67 \/ ( D68 \/ D66 ) ) by L960 , XBOOLE_0:def 3;
L962: D69 in ( ( D67 \/ D68 ) \/ D66 ) by L961 , XBOOLE_1:4;
L963: D69 in ( D65 \/ ( ( D67 \/ D68 ) \/ D66 ) ) by L962 , XBOOLE_0:def 3;
L964: D69 in ( ( ( D65 \/ D67 ) \/ D68 ) \/ D66 ) by L963 , XBOOLE_1:113;
L965: D69 in [: ( (the carrier of C166) \/ (the carrier of C167) ) , ( (the carrier of C166) \/ (the carrier of C167) ) :] by L964 , ZFMISC_1:98;
L966: D69 in [: ( (the carrier of C166) \/ (the carrier of C167) ) , (the carrier of ( union_of (C166 , C167) )) :] by L965 , NECKLA_2:def 2;
L967: D69 in [: (the carrier of ( union_of (C166 , C167) )) , (the carrier of ( union_of (C166 , C167) )) :] by L966 , NECKLA_2:def 2;
L968: D69 in ( [: (the carrier of ( union_of (C166 , C167) )) , (the carrier of ( union_of (C166 , C167) )) :] \ (the InternalRel of ( union_of (C166 , C167) )) ) by L967 , L942 , XBOOLE_0:def 5;
L969: D69 in ( (the InternalRel of ( union_of (C166 , C167) )) ` ) by L968 , SUBSET_1:def 4;
L970: D69 in ( ( (the InternalRel of ( union_of (C166 , C167) )) ` ) \ ( id (the carrier of ( union_of (C166 , C167) )) ) ) by L969 , L949 , XBOOLE_0:def 5;
thus L971: thesis by L970 , NECKLACE:def 8;
end;
suppose L972: D69 in D63;

L973: D69 in [: (the carrier of C166) , (the carrier of ( ComplRelStr C167 )) :] by L972 , NECKLACE:def 8;
L974: D69 in [: (the carrier of C166) , (the carrier of C167) :] by L973 , NECKLACE:def 8;
L975: (not D69 in (the InternalRel of ( union_of (C166 , C167) )))
proof
assume L976: (not thesis);
L977: D69 in ( (the InternalRel of C166) \/ (the InternalRel of C167) ) by L976 , NECKLA_2:def 2;
per cases  by L977 , XBOOLE_0:def 3;
suppose L978: D69 in (the InternalRel of C166);

L979: C169 in (the carrier of C167) by L974 , ZFMISC_1:87;
L980: C169 in (the carrier of C166) by L978 , ZFMISC_1:87;
L981: C169 in ( (the carrier of C166) /\ (the carrier of C167) ) by L980 , L979 , XBOOLE_0:def 4;
thus L982: contradiction by L981 , L849 , XBOOLE_0:def 7;
end;
suppose L983: D69 in (the InternalRel of C167);

L984: C168 in (the carrier of C166) by L973 , ZFMISC_1:87;
L985: C168 in (the carrier of C167) by L983 , ZFMISC_1:87;
L986: C168 in ( (the carrier of C166) /\ (the carrier of C167) ) by L985 , L984 , XBOOLE_0:def 4;
thus L987: contradiction by L986 , L849 , XBOOLE_0:def 7;
end;
end;
L989: (not D69 in ( id (the carrier of ( union_of (C166 , C167) )) ))
proof
assume L990: (not thesis);
L991: D69 in ( id ( (the carrier of C166) \/ (the carrier of C167) ) ) by L990 , NECKLA_2:def 2;
L992: D69 in ( ( id (the carrier of C166) ) \/ ( id (the carrier of C167) ) ) by L991 , SYSREL:14;
per cases  by L992 , XBOOLE_0:def 3;
suppose L993: D69 in ( id (the carrier of C166) );

L994: C169 in (the carrier of C167) by L974 , ZFMISC_1:87;
L995: C169 in (the carrier of C166) by L993 , ZFMISC_1:87;
L996: C169 in ( (the carrier of C166) /\ (the carrier of C167) ) by L995 , L994 , XBOOLE_0:def 4;
thus L997: contradiction by L996 , L849 , XBOOLE_0:def 7;
end;
suppose L998: D69 in ( id (the carrier of C167) );

L999: C168 in (the carrier of C166) by L973 , ZFMISC_1:87;
L1000: C168 in (the carrier of C167) by L998 , ZFMISC_1:87;
L1001: C168 in ( (the carrier of C166) /\ (the carrier of C167) ) by L1000 , L999 , XBOOLE_0:def 4;
thus L1002: contradiction by L1001 , L849 , XBOOLE_0:def 7;
end;
end;
L1004: D69 in ( D67 \/ D68 ) by L974 , XBOOLE_0:def 3;
L1005: D69 in ( D65 \/ ( D67 \/ D68 ) ) by L1004 , XBOOLE_0:def 3;
L1006: D69 in ( ( D65 \/ D67 ) \/ D68 ) by L1005 , XBOOLE_1:4;
L1007: D69 in ( ( ( D65 \/ D67 ) \/ D68 ) \/ D66 ) by L1006 , XBOOLE_0:def 3;
L1008: D69 in [: ( (the carrier of C166) \/ (the carrier of C167) ) , ( (the carrier of C166) \/ (the carrier of C167) ) :] by L1007 , ZFMISC_1:98;
L1009: D69 in [: ( (the carrier of C166) \/ (the carrier of C167) ) , (the carrier of ( union_of (C166 , C167) )) :] by L1008 , NECKLA_2:def 2;
L1010: D69 in [: (the carrier of ( union_of (C166 , C167) )) , (the carrier of ( union_of (C166 , C167) )) :] by L1009 , NECKLA_2:def 2;
L1011: D69 in ( [: (the carrier of ( union_of (C166 , C167) )) , (the carrier of ( union_of (C166 , C167) )) :] \ (the InternalRel of ( union_of (C166 , C167) )) ) by L1010 , L975 , XBOOLE_0:def 5;
L1012: D69 in ( (the InternalRel of ( union_of (C166 , C167) )) ` ) by L1011 , SUBSET_1:def 4;
L1013: D69 in ( ( (the InternalRel of ( union_of (C166 , C167) )) ` ) \ ( id (the carrier of ( union_of (C166 , C167) )) ) ) by L1012 , L989 , XBOOLE_0:def 5;
thus L1014: thesis by L1013 , NECKLACE:def 8;
end;
suppose L1015: D69 in D64;

L1016: D69 in [: (the carrier of C167) , (the carrier of ( ComplRelStr C166 )) :] by L1015 , NECKLACE:def 8;
L1017: D69 in [: (the carrier of C167) , (the carrier of C166) :] by L1016 , NECKLACE:def 8;
L1018: (not D69 in (the InternalRel of ( union_of (C166 , C167) )))
proof
assume L1019: (not thesis);
L1020: D69 in ( (the InternalRel of C166) \/ (the InternalRel of C167) ) by L1019 , NECKLA_2:def 2;
per cases  by L1020 , XBOOLE_0:def 3;
suppose L1021: D69 in (the InternalRel of C166);

L1022: C168 in (the carrier of C167) by L1016 , ZFMISC_1:87;
L1023: C168 in (the carrier of C166) by L1021 , ZFMISC_1:87;
L1024: C168 in ( (the carrier of C166) /\ (the carrier of C167) ) by L1023 , L1022 , XBOOLE_0:def 4;
thus L1025: contradiction by L1024 , L849 , XBOOLE_0:def 7;
end;
suppose L1026: D69 in (the InternalRel of C167);

L1027: C169 in (the carrier of C166) by L1017 , ZFMISC_1:87;
L1028: C169 in (the carrier of C167) by L1026 , ZFMISC_1:87;
L1029: C169 in ( (the carrier of C166) /\ (the carrier of C167) ) by L1028 , L1027 , XBOOLE_0:def 4;
thus L1030: contradiction by L1029 , L849 , XBOOLE_0:def 7;
end;
end;
L1032: (not D69 in ( id (the carrier of ( union_of (C166 , C167) )) ))
proof
assume L1033: (not thesis);
L1034: D69 in ( id ( (the carrier of C166) \/ (the carrier of C167) ) ) by L1033 , NECKLA_2:def 2;
L1035: D69 in ( ( id (the carrier of C166) ) \/ ( id (the carrier of C167) ) ) by L1034 , SYSREL:14;
per cases  by L1035 , XBOOLE_0:def 3;
suppose L1036: D69 in ( id (the carrier of C166) );

L1037: C168 in (the carrier of C167) by L1016 , ZFMISC_1:87;
L1038: C168 in (the carrier of C166) by L1036 , ZFMISC_1:87;
L1039: C168 in ( (the carrier of C166) /\ (the carrier of C167) ) by L1038 , L1037 , XBOOLE_0:def 4;
thus L1040: contradiction by L1039 , L849 , XBOOLE_0:def 7;
end;
suppose L1041: D69 in ( id (the carrier of C167) );

L1042: C169 in (the carrier of C166) by L1017 , ZFMISC_1:87;
L1043: C169 in (the carrier of C167) by L1041 , ZFMISC_1:87;
L1044: C169 in ( (the carrier of C166) /\ (the carrier of C167) ) by L1043 , L1042 , XBOOLE_0:def 4;
thus L1045: contradiction by L1044 , L849 , XBOOLE_0:def 7;
end;
end;
L1047: D69 in ( D67 \/ D68 ) by L1017 , XBOOLE_0:def 3;
L1048: D69 in ( D65 \/ ( D67 \/ D68 ) ) by L1047 , XBOOLE_0:def 3;
L1049: D69 in ( ( D65 \/ D67 ) \/ D68 ) by L1048 , XBOOLE_1:4;
L1050: D69 in ( ( ( D65 \/ D67 ) \/ D68 ) \/ D66 ) by L1049 , XBOOLE_0:def 3;
L1051: D69 in [: ( (the carrier of C166) \/ (the carrier of C167) ) , ( (the carrier of C166) \/ (the carrier of C167) ) :] by L1050 , ZFMISC_1:98;
L1052: D69 in [: ( (the carrier of C166) \/ (the carrier of C167) ) , (the carrier of ( union_of (C166 , C167) )) :] by L1051 , NECKLA_2:def 2;
L1053: D69 in [: (the carrier of ( union_of (C166 , C167) )) , (the carrier of ( union_of (C166 , C167) )) :] by L1052 , NECKLA_2:def 2;
L1054: D69 in ( [: (the carrier of ( union_of (C166 , C167) )) , (the carrier of ( union_of (C166 , C167) )) :] \ (the InternalRel of ( union_of (C166 , C167) )) ) by L1053 , L1018 , XBOOLE_0:def 5;
L1055: D69 in ( (the InternalRel of ( union_of (C166 , C167) )) ` ) by L1054 , SUBSET_1:def 4;
L1056: D69 in ( ( (the InternalRel of ( union_of (C166 , C167) )) ` ) \ ( id (the carrier of ( union_of (C166 , C167) )) ) ) by L1055 , L1032 , XBOOLE_0:def 5;
thus L1057: thesis by L1056 , NECKLACE:def 8;
end;
end;
L1059: (the carrier of ( ComplRelStr ( union_of (C166 , C167) ) )) = (the carrier of ( union_of (C166 , C167) )) by NECKLACE:def 8
.= ( (the carrier of C166) \/ (the carrier of C167) ) by NECKLA_2:def 2;
thus L1060: thesis by L1059 , L848 , L850 , RELAT_1:def 2;
end;
theorem
L1061: (for B45 , B46 being RelStr holds ((the carrier of B45) misses (the carrier of B46) implies ( ComplRelStr ( sum_of (B45 , B46) ) ) = ( union_of (( ComplRelStr B45 ) , ( ComplRelStr B46 )) )))
proof
let C170 , C171 being RelStr;
assume L1062: (the carrier of C170) misses (the carrier of C171);
set D70 = (the InternalRel of ( ComplRelStr ( sum_of (C170 , C171) ) ));
set D71 = (the InternalRel of ( union_of (( ComplRelStr C170 ) , ( ComplRelStr C171 )) ));
set D72 = (the InternalRel of ( ComplRelStr C170 ));
set D73 = (the InternalRel of ( ComplRelStr C171 ));
set D74 = [: (the carrier of C170) , (the carrier of C170) :];
set D75 = [: (the carrier of C171) , (the carrier of C171) :];
set D76 = [: (the carrier of C170) , (the carrier of C171) :];
set D77 = [: (the carrier of C171) , (the carrier of C170) :];
L1063: [: (the carrier of ( sum_of (C170 , C171) )) , (the carrier of ( sum_of (C170 , C171) )) :] = [: ( (the carrier of C170) \/ (the carrier of C171) ) , (the carrier of ( sum_of (C170 , C171) )) :] by NECKLA_2:def 3
.= [: ( (the carrier of C170) \/ (the carrier of C171) ) , ( (the carrier of C170) \/ (the carrier of C171) ) :] by NECKLA_2:def 3
.= ( ( ( D74 \/ D76 ) \/ D77 ) \/ D75 ) by ZFMISC_1:98;
L1064: (for B47 , B48 being set holds ([ B47 , B48 ] in D70 iff [ B47 , B48 ] in D71))
proof
let C172 , C173 being set;
set D78 = [ C172 , C173 ];
thus L1065: (D78 in D70 implies D78 in D71)
proof
assume L1066: D78 in D70;
L1067: D78 in ( ( (the InternalRel of ( sum_of (C170 , C171) )) ` ) \ ( id (the carrier of ( sum_of (C170 , C171) )) ) ) by L1066 , NECKLACE:def 8;
L1068: (D78 in ( ( D74 \/ D76 ) \/ D77 ) or D78 in D75) by L1067 , L1063 , XBOOLE_0:def 3;
L1069: (D78 in ( D74 \/ D76 ) or D78 in D77 or D78 in D75) by L1068 , XBOOLE_0:def 3;
L1070: D78 in ( (the InternalRel of ( sum_of (C170 , C171) )) ` ) by L1067 , XBOOLE_0:def 5;
L1071: D78 in ( [: (the carrier of ( sum_of (C170 , C171) )) , (the carrier of ( sum_of (C170 , C171) )) :] \ (the InternalRel of ( sum_of (C170 , C171) )) ) by L1070 , SUBSET_1:def 4;
L1072: (not D78 in (the InternalRel of ( sum_of (C170 , C171) ))) by L1071 , XBOOLE_0:def 5;
L1073: (not D78 in ( ( ( (the InternalRel of C170) \/ (the InternalRel of C171) ) \/ [: (the carrier of C170) , (the carrier of C171) :] ) \/ [: (the carrier of C171) , (the carrier of C170) :] )) by L1072 , NECKLA_2:def 3;
L1074: ((not D78 in (the InternalRel of C170)) & (not D78 in (the InternalRel of C171)) & (not D78 in [: (the carrier of C170) , (the carrier of C171) :]) & (not D78 in [: (the carrier of C171) , (the carrier of C170) :]))
proof
assume L1075: (not thesis);
L1076: (D78 in ( (the InternalRel of C170) \/ (the InternalRel of C171) ) or D78 in [: (the carrier of C170) , (the carrier of C171) :] or D78 in [: (the carrier of C171) , (the carrier of C170) :]) by L1075 , XBOOLE_0:def 3;
L1077: (D78 in ( ( (the InternalRel of C170) \/ (the InternalRel of C171) ) \/ [: (the carrier of C170) , (the carrier of C171) :] ) or D78 in [: (the carrier of C171) , (the carrier of C170) :]) by L1076 , XBOOLE_0:def 3;
thus L1078: contradiction by L1077 , L1073 , XBOOLE_0:def 3;
end;
L1079: (not D78 in ( id (the carrier of ( sum_of (C170 , C171) )) )) by L1067 , XBOOLE_0:def 5;
L1080: (not D78 in ( id ( (the carrier of C170) \/ (the carrier of C171) ) )) by L1079 , NECKLA_2:def 3;
L1081: (not D78 in ( ( id (the carrier of C170) ) \/ ( id (the carrier of C171) ) )) by L1080 , SYSREL:14;
L1082: (not D78 in ( id (the carrier of C170) )) by L1081 , XBOOLE_0:def 3;
L1083: (not D78 in ( id (the carrier of C171) )) by L1081 , XBOOLE_0:def 3;
per cases  by L1069 , XBOOLE_0:def 3;
suppose L1084: D78 in D74;

L1085: D78 in ( D74 \ (the InternalRel of C170) ) by L1084 , L1074 , XBOOLE_0:def 5;
L1086: D78 in ( (the InternalRel of C170) ` ) by L1085 , SUBSET_1:def 4;
L1087: D78 in ( ( (the InternalRel of C170) ` ) \ ( id (the carrier of C170) ) ) by L1086 , L1082 , XBOOLE_0:def 5;
L1088: D78 in D72 by L1087 , NECKLACE:def 8;
L1089: D78 in ( D72 \/ D73 ) by L1088 , XBOOLE_0:def 3;
thus L1090: thesis by L1089 , NECKLA_2:def 2;
end;
suppose L1091: D78 in D76;

thus L1092: thesis by L1091 , L1074;
end;
suppose L1093: D78 in D77;

thus L1094: thesis by L1093 , L1074;
end;
suppose L1095: D78 in D75;

L1096: D78 in ( D75 \ (the InternalRel of C171) ) by L1095 , L1074 , XBOOLE_0:def 5;
L1097: D78 in ( (the InternalRel of C171) ` ) by L1096 , SUBSET_1:def 4;
L1098: D78 in ( ( (the InternalRel of C171) ` ) \ ( id (the carrier of C171) ) ) by L1097 , L1083 , XBOOLE_0:def 5;
L1099: D78 in D73 by L1098 , NECKLACE:def 8;
L1100: D78 in ( D72 \/ D73 ) by L1099 , XBOOLE_0:def 3;
thus L1101: thesis by L1100 , NECKLA_2:def 2;
end;
end;

assume L1103: D78 in D71;
L1104: D78 in ( (the InternalRel of ( ComplRelStr C170 )) \/ (the InternalRel of ( ComplRelStr C171 )) ) by L1103 , NECKLA_2:def 2;
per cases  by L1104 , XBOOLE_0:def 3;
suppose L1105: D78 in (the InternalRel of ( ComplRelStr C170 ));

L1106: D78 in ( ( (the InternalRel of C170) ` ) \ ( id (the carrier of C170) ) ) by L1105 , NECKLACE:def 8;
L1107: (not D78 in ( id (the carrier of C170) )) by L1106 , XBOOLE_0:def 5;
L1108: (not D78 in ( id (the carrier of ( sum_of (C170 , C171) )) ))
proof
assume L1109: (not thesis);
L1110: D78 in ( id ( (the carrier of C170) \/ (the carrier of C171) ) ) by L1109 , NECKLA_2:def 3;
L1111: D78 in ( ( id (the carrier of C170) ) \/ ( id (the carrier of C171) ) ) by L1110 , SYSREL:14;
L1112: D78 in ( id (the carrier of C171) ) by L1111 , L1107 , XBOOLE_0:def 3;
L1113: C172 in (the carrier of C171) by L1112 , ZFMISC_1:87;
L1114: C172 in (the carrier of C170) by L1106 , ZFMISC_1:87;
L1115: ( (the carrier of C170) /\ (the carrier of C171) ) is non  empty by L1114 , L1113 , XBOOLE_0:def 4;
thus L1116: contradiction by L1115 , L1062 , XBOOLE_0:def 7;
end;
L1117: D78 in ( (the InternalRel of C170) ` ) by L1106 , XBOOLE_0:def 5;
L1118: D78 in ( [: (the carrier of C170) , (the carrier of C170) :] \ (the InternalRel of C170) ) by L1117 , SUBSET_1:def 4;
L1119: (not D78 in (the InternalRel of C170)) by L1118 , XBOOLE_0:def 5;
L1120: (not D78 in (the InternalRel of ( sum_of (C170 , C171) )))
proof
assume L1121: (not thesis);
L1122: D78 in ( ( ( (the InternalRel of C170) \/ (the InternalRel of C171) ) \/ D76 ) \/ D77 ) by L1121 , NECKLA_2:def 3;
L1123: (D78 in ( ( (the InternalRel of C170) \/ (the InternalRel of C171) ) \/ D76 ) or D78 in D77) by L1122 , XBOOLE_0:def 3;
L1124: (D78 in ( (the InternalRel of C170) \/ (the InternalRel of C171) ) or D78 in D76 or D78 in D77) by L1123 , XBOOLE_0:def 3;
per cases  by L1119 , L1124 , XBOOLE_0:def 3;
suppose L1125: D78 in (the InternalRel of C171);

L1126: C172 in (the carrier of C170) by L1106 , ZFMISC_1:87;
L1127: C172 in (the carrier of C171) by L1125 , ZFMISC_1:87;
L1128: ( (the carrier of C170) /\ (the carrier of C171) ) is non  empty by L1127 , L1126 , XBOOLE_0:def 4;
thus L1129: contradiction by L1128 , L1062 , XBOOLE_0:def 7;
end;
suppose L1130: D78 in D76;

L1131: C173 in (the carrier of C170) by L1106 , ZFMISC_1:87;
L1132: C173 in (the carrier of C171) by L1130 , ZFMISC_1:87;
L1133: ( (the carrier of C170) /\ (the carrier of C171) ) is non  empty by L1132 , L1131 , XBOOLE_0:def 4;
thus L1134: contradiction by L1133 , L1062 , XBOOLE_0:def 7;
end;
suppose L1135: D78 in D77;

L1136: C172 in (the carrier of C170) by L1106 , ZFMISC_1:87;
L1137: C172 in (the carrier of C171) by L1135 , ZFMISC_1:87;
L1138: ( (the carrier of C170) /\ (the carrier of C171) ) is non  empty by L1137 , L1136 , XBOOLE_0:def 4;
thus L1139: contradiction by L1138 , L1062 , XBOOLE_0:def 7;
end;
end;
L1141: D78 in ( D74 \/ ( ( D76 \/ D77 ) \/ D75 ) ) by L1106 , XBOOLE_0:def 3;
L1142: D78 in [: (the carrier of ( sum_of (C170 , C171) )) , (the carrier of ( sum_of (C170 , C171) )) :] by L1141 , L1063 , XBOOLE_1:113;
L1143: D78 in ( [: (the carrier of ( sum_of (C170 , C171) )) , (the carrier of ( sum_of (C170 , C171) )) :] \ (the InternalRel of ( sum_of (C170 , C171) )) ) by L1142 , L1120 , XBOOLE_0:def 5;
L1144: D78 in ( (the InternalRel of ( sum_of (C170 , C171) )) ` ) by L1143 , SUBSET_1:def 4;
L1145: D78 in ( ( (the InternalRel of ( sum_of (C170 , C171) )) ` ) \ ( id (the carrier of ( sum_of (C170 , C171) )) ) ) by L1144 , L1108 , XBOOLE_0:def 5;
thus L1146: thesis by L1145 , NECKLACE:def 8;
end;
suppose L1147: D78 in (the InternalRel of ( ComplRelStr C171 ));

L1148: D78 in ( ( (the InternalRel of C171) ` ) \ ( id (the carrier of C171) ) ) by L1147 , NECKLACE:def 8;
L1149: (not D78 in ( id (the carrier of C171) )) by L1148 , XBOOLE_0:def 5;
L1150: (not D78 in ( id (the carrier of ( sum_of (C170 , C171) )) ))
proof
assume L1151: (not thesis);
L1152: D78 in ( id ( (the carrier of C170) \/ (the carrier of C171) ) ) by L1151 , NECKLA_2:def 3;
L1153: D78 in ( ( id (the carrier of C170) ) \/ ( id (the carrier of C171) ) ) by L1152 , SYSREL:14;
L1154: D78 in ( id (the carrier of C170) ) by L1153 , L1149 , XBOOLE_0:def 3;
L1155: C173 in (the carrier of C170) by L1154 , ZFMISC_1:87;
L1156: C173 in (the carrier of C171) by L1148 , ZFMISC_1:87;
L1157: ( (the carrier of C170) /\ (the carrier of C171) ) is non  empty by L1156 , L1155 , XBOOLE_0:def 4;
thus L1158: contradiction by L1157 , L1062 , XBOOLE_0:def 7;
end;
L1159: D78 in ( (the InternalRel of C171) ` ) by L1148 , XBOOLE_0:def 5;
L1160: D78 in ( [: (the carrier of C171) , (the carrier of C171) :] \ (the InternalRel of C171) ) by L1159 , SUBSET_1:def 4;
L1161: (not D78 in (the InternalRel of C171)) by L1160 , XBOOLE_0:def 5;
L1162: (not D78 in (the InternalRel of ( sum_of (C170 , C171) )))
proof
assume L1163: (not thesis);
L1164: D78 in ( ( ( (the InternalRel of C170) \/ (the InternalRel of C171) ) \/ D76 ) \/ D77 ) by L1163 , NECKLA_2:def 3;
L1165: (D78 in ( ( (the InternalRel of C170) \/ (the InternalRel of C171) ) \/ D76 ) or D78 in D77) by L1164 , XBOOLE_0:def 3;
L1166: (D78 in ( (the InternalRel of C170) \/ (the InternalRel of C171) ) or D78 in D76 or D78 in D77) by L1165 , XBOOLE_0:def 3;
per cases  by L1161 , L1166 , XBOOLE_0:def 3;
suppose L1167: D78 in (the InternalRel of C170);

L1168: C172 in (the carrier of C171) by L1148 , ZFMISC_1:87;
L1169: C172 in (the carrier of C170) by L1167 , ZFMISC_1:87;
L1170: ( (the carrier of C170) /\ (the carrier of C171) ) is non  empty by L1169 , L1168 , XBOOLE_0:def 4;
thus L1171: contradiction by L1170 , L1062 , XBOOLE_0:def 7;
end;
suppose L1172: D78 in D76;

L1173: C172 in (the carrier of C171) by L1148 , ZFMISC_1:87;
L1174: C172 in (the carrier of C170) by L1172 , ZFMISC_1:87;
L1175: ( (the carrier of C170) /\ (the carrier of C171) ) is non  empty by L1174 , L1173 , XBOOLE_0:def 4;
thus L1176: contradiction by L1175 , L1062 , XBOOLE_0:def 7;
end;
suppose L1177: D78 in D77;

L1178: C173 in (the carrier of C171) by L1148 , ZFMISC_1:87;
L1179: C173 in (the carrier of C170) by L1177 , ZFMISC_1:87;
L1180: ( (the carrier of C170) /\ (the carrier of C171) ) is non  empty by L1179 , L1178 , XBOOLE_0:def 4;
thus L1181: contradiction by L1180 , L1062 , XBOOLE_0:def 7;
end;
end;
L1183: D78 in [: (the carrier of ( sum_of (C170 , C171) )) , (the carrier of ( sum_of (C170 , C171) )) :] by L1063 , L1148 , XBOOLE_0:def 3;
L1184: D78 in ( [: (the carrier of ( sum_of (C170 , C171) )) , (the carrier of ( sum_of (C170 , C171) )) :] \ (the InternalRel of ( sum_of (C170 , C171) )) ) by L1183 , L1162 , XBOOLE_0:def 5;
L1185: D78 in ( (the InternalRel of ( sum_of (C170 , C171) )) ` ) by L1184 , SUBSET_1:def 4;
L1186: D78 in ( ( (the InternalRel of ( sum_of (C170 , C171) )) ` ) \ ( id (the carrier of ( sum_of (C170 , C171) )) ) ) by L1185 , L1150 , XBOOLE_0:def 5;
thus L1187: thesis by L1186 , NECKLACE:def 8;
end;
end;
L1189: (the carrier of ( union_of (( ComplRelStr C170 ) , ( ComplRelStr C171 )) )) = ( (the carrier of ( ComplRelStr C170 )) \/ (the carrier of ( ComplRelStr C171 )) ) by NECKLA_2:def 2
.= ( (the carrier of C170) \/ (the carrier of ( ComplRelStr C171 )) ) by NECKLACE:def 8
.= ( (the carrier of C170) \/ (the carrier of C171) ) by NECKLACE:def 8;
L1190: (the carrier of ( ComplRelStr ( sum_of (C170 , C171) ) )) = (the carrier of ( sum_of (C170 , C171) )) by NECKLACE:def 8
.= ( (the carrier of C170) \/ (the carrier of C171) ) by NECKLA_2:def 3;
thus L1191: thesis by L1190 , L1189 , L1064 , RELAT_1:def 2;
end;
theorem
L1192: (for B49 being RelStr holds (for B50 being  full (SubRelStr of B49) holds (the InternalRel of ( ComplRelStr B50 )) = ( (the InternalRel of ( ComplRelStr B49 )) |_2 (the carrier of ( ComplRelStr B50 )) )))
proof
let C174 being RelStr;
let C175 being  full (SubRelStr of C174);
set D79 = (the InternalRel of C175);
set D80 = (the InternalRel of ( ComplRelStr C175 ));
set D81 = (the carrier of C175);
set D82 = (the InternalRel of C174);
set D83 = (the carrier of C174);
set D84 = (the InternalRel of ( ComplRelStr C174 ));
L1193: D80 = ( ( D79 ` ) \ ( id D81 ) ) by NECKLACE:def 8
.= ( ( [: D81 , D81 :] \ D79 ) \ ( id D81 ) ) by SUBSET_1:def 4;
L1194: D84 = ( ( D82 ` ) \ ( id D83 ) ) by NECKLACE:def 8
.= ( ( [: D83 , D83 :] \ D82 ) \ ( id D83 ) ) by SUBSET_1:def 4;
L1195: D81 c= D83 by YELLOW_0:def 13;
L1196: ( D84 |_2 (the carrier of ( ComplRelStr C175 )) ) = ( D84 |_2 D81 ) by NECKLACE:def 8
.= ( ( ( [: D83 , D83 :] \ D82 ) /\ [: D81 , D81 :] ) \ ( ( id D83 ) /\ [: D81 , D81 :] ) ) by L1194 , XBOOLE_1:50
.= ( ( ( [: D83 , D83 :] /\ [: D81 , D81 :] ) \ ( D82 /\ [: D81 , D81 :] ) ) \ ( ( id D83 ) /\ [: D81 , D81 :] ) ) by XBOOLE_1:50
.= ( ( ( [: D83 , D83 :] /\ [: D81 , D81 :] ) \ ( D82 /\ [: D81 , D81 :] ) ) \ ( ( id D83 ) | D81 ) ) by L1
.= ( ( ( [: D83 , D83 :] /\ [: D81 , D81 :] ) \ ( D82 |_2 D81 ) ) \ ( id D81 ) ) by L1195 , FUNCT_3:1
.= ( ( ( [: D83 , D83 :] /\ [: D81 , D81 :] ) \ D79 ) \ ( id D81 ) ) by YELLOW_0:def 14
.= ( ( [: ( D83 /\ D81 ) , ( D83 /\ D81 ) :] \ D79 ) \ ( id D81 ) ) by ZFMISC_1:100
.= ( ( [: D81 , ( D83 /\ D81 ) :] \ D79 ) \ ( id D81 ) ) by L1195 , XBOOLE_1:28
.= D80 by L1193 , L1195 , XBOOLE_1:28;
thus L1197: thesis by L1196;
end;
theorem
L1198: (for B51 being non  empty  irreflexive RelStr holds (for B52 being (Element of B51) holds (for B53 being (Element of ( ComplRelStr B51 )) holds (B52 = B53 implies ( ComplRelStr ( subrelstr ( ( [#] B51 ) \ { B52 } ) ) ) = ( subrelstr ( ( [#] ( ComplRelStr B51 ) ) \ { B53 } ) )))))
proof
let C176 being non  empty  irreflexive RelStr;
let C177 being (Element of C176);
let C178 being (Element of ( ComplRelStr C176 ));
assume L1199: C177 = C178;
set D85 = ( subrelstr ( ( [#] C176 ) \ { C177 } ) );
set D86 = (the carrier of D85);
set D87 = (the carrier of C176);
L1200: ( [#] ( ComplRelStr C176 ) ) = D87 by NECKLACE:def 8;
L1201: [: ( D87 \ { C177 } ) , ( D87 \ { C177 } ) :] = [: D86 , ( ( [#] C176 ) \ { C177 } ) :] by YELLOW_0:def 15
.= [: D86 , D86 :] by YELLOW_0:def 15;
L1202: D86 c= D87 by YELLOW_0:def 13;
L1203: (the InternalRel of ( subrelstr ( ( [#] ( ComplRelStr C176 ) ) \ { C178 } ) )) = ( (the InternalRel of ( ComplRelStr C176 )) |_2 (the carrier of ( subrelstr ( ( [#] ( ComplRelStr C176 ) ) \ { C178 } ) )) ) by YELLOW_0:def 14
.= ( (the InternalRel of ( ComplRelStr C176 )) |_2 ( D87 \ { C177 } ) ) by L1199 , L1200 , YELLOW_0:def 15
.= ( ( ( (the InternalRel of C176) ` ) \ ( id D87 ) ) /\ [: ( D87 \ { C177 } ) , ( D87 \ { C177 } ) :] ) by NECKLACE:def 8
.= ( ( [: D86 , D86 :] /\ ( (the InternalRel of C176) ` ) ) \ ( id D87 ) ) by L1201 , XBOOLE_1:49
.= ( ( [: D86 , D86 :] /\ ( [: D87 , D87 :] \ (the InternalRel of C176) ) ) \ ( id D87 ) ) by SUBSET_1:def 4
.= ( ( ( [: D86 , D86 :] /\ [: D87 , D87 :] ) \ (the InternalRel of C176) ) \ ( id D87 ) ) by XBOOLE_1:49
.= ( ( [: D86 , D86 :] \ (the InternalRel of C176) ) \ ( id D87 ) ) by L1202 , XBOOLE_1:28 , ZFMISC_1:96;
L1204: (the InternalRel of ( ComplRelStr D85 )) = ( ( (the InternalRel of D85) ` ) \ ( id D86 ) ) by NECKLACE:def 8
.= ( ( [: D86 , D86 :] \ (the InternalRel of D85) ) \ ( id D86 ) ) by SUBSET_1:def 4
.= ( ( [: D86 , D86 :] \ ( (the InternalRel of C176) |_2 D86 ) ) \ ( id D86 ) ) by YELLOW_0:def 14
.= ( ( ( [: D86 , D86 :] \ (the InternalRel of C176) ) \/ ( [: D86 , D86 :] \ [: D86 , D86 :] ) ) \ ( id D86 ) ) by XBOOLE_1:54
.= ( ( ( [: D86 , D86 :] \ (the InternalRel of C176) ) \/ ( {} ) ) \ ( id D86 ) ) by XBOOLE_1:37
.= ( ( [: D86 , D86 :] \ (the InternalRel of C176) ) \ ( id D86 ) );
L1205: [: D86 , D86 :] = ( [: ( [#] C176 ) , ( ( [#] C176 ) \ { C177 } ) :] \ [: { C177 } , ( ( [#] C176 ) \ { C177 } ) :] ) by L1201 , ZFMISC_1:102
.= ( ( [: ( [#] C176 ) , ( [#] C176 ) :] \ [: ( [#] C176 ) , { C177 } :] ) \ [: { C177 } , ( ( [#] C176 ) \ { C177 } ) :] ) by ZFMISC_1:102
.= ( ( [: D87 , D87 :] \ [: D87 , { C177 } :] ) \ ( [: { C177 } , D87 :] \ [: { C177 } , { C177 } :] ) ) by ZFMISC_1:102
.= ( ( ( [: D87 , D87 :] \ [: D87 , { C177 } :] ) \ [: { C177 } , D87 :] ) \/ ( ( [: D87 , D87 :] \ [: D87 , { C177 } :] ) /\ [: { C177 } , { C177 } :] ) ) by XBOOLE_1:52
.= ( ( [: D87 , D87 :] \ ( [: D87 , { C177 } :] \/ [: { C177 } , D87 :] ) ) \/ ( ( [: D87 , D87 :] \ [: D87 , { C177 } :] ) /\ [: { C177 } , { C177 } :] ) ) by XBOOLE_1:41;
L1206: (the InternalRel of ( subrelstr ( ( [#] ( ComplRelStr C176 ) ) \ { C178 } ) )) = (the InternalRel of ( ComplRelStr D85 ))
proof
thus L1207: (the InternalRel of ( subrelstr ( ( [#] ( ComplRelStr C176 ) ) \ { C178 } ) )) c= (the InternalRel of ( ComplRelStr D85 ))
proof
let C179 being set;
assume L1208: C179 in (the InternalRel of ( subrelstr ( ( [#] ( ComplRelStr C176 ) ) \ { C178 } ) ));
L1209: (not C179 in ( id D87 )) by L1208 , L1203 , XBOOLE_0:def 5;
L1210: (not C179 in ( id D86 ))
proof
assume L1211: (not thesis);
consider C180 , C181 being set such that L1212: C179 = [ C180 , C181 ] and L1213: C180 in D86 and L1214: C181 in D86 by L1211 , RELSET_1:2;
L1215: C180 in ( D87 \ { C177 } ) by L1213 , YELLOW_0:def 15;
L1216: C180 = C181 by L1211 , L1212 , RELAT_1:def 10;
thus L1217: contradiction by L1216 , L1209 , L1212 , L1215 , RELAT_1:def 10;
end;
L1218: C179 in ( [: D86 , D86 :] \ (the InternalRel of C176) ) by L1203 , L1208 , XBOOLE_0:def 5;
thus L1219: thesis by L1218 , L1204 , L1210 , XBOOLE_0:def 5;
end;

let C182 being set;
assume L1220: C182 in (the InternalRel of ( ComplRelStr D85 ));
L1221: (not C182 in ( id D86 )) by L1220 , L1204 , XBOOLE_0:def 5;
L1222: (not C182 in ( id ( D87 \ { C177 } ) )) by L1221 , YELLOW_0:def 15;
L1223: (not C182 in ( ( id D87 ) \ ( id { C177 } ) )) by L1222 , SYSREL:14;
per cases  by L1223 , XBOOLE_0:def 5;
suppose L1224: (not C182 in ( id D87 ));

L1225: C182 in ( [: D86 , D86 :] \ (the InternalRel of C176) ) by L1204 , L1220 , XBOOLE_0:def 5;
thus L1226: thesis by L1225 , L1203 , L1224 , XBOOLE_0:def 5;
end;
suppose L1227: C182 in ( id { C177 } );

L1228: C182 in { [ C177 , C177 ] } by L1227 , SYSREL:13;
thus L1229: thesis
proof
per cases  by L1205 , L1204 , L1220 , XBOOLE_0:def 3;
suppose L1230: C182 in ( [: D87 , D87 :] \ ( [: D87 , { C177 } :] \/ [: { C177 } , D87 :] ) );

L1231: C177 in { C177 } by TARSKI:def 1;
L1232: [ C177 , C177 ] in [: { C177 } , D87 :] by L1231 , ZFMISC_1:87;
L1233: (not C182 in ( [: D87 , { C177 } :] \/ [: { C177 } , D87 :] )) by L1230 , XBOOLE_0:def 5;
L1234: (not C182 in [: { C177 } , D87 :]) by L1233 , XBOOLE_0:def 3;
thus L1235: thesis by L1234 , L1228 , L1232 , TARSKI:def 1;
end;
suppose L1236: C182 in ( ( [: D87 , D87 :] \ [: D87 , { C177 } :] ) /\ [: { C177 } , { C177 } :] );

L1237: C177 in { C177 } by TARSKI:def 1;
L1238: [ C177 , C177 ] in [: D87 , { C177 } :] by L1237 , ZFMISC_1:87;
L1239: C182 in ( [: D87 , D87 :] \ [: D87 , { C177 } :] ) by L1236 , XBOOLE_0:def 4;
L1240: (not C182 in [: D87 , { C177 } :]) by L1239 , XBOOLE_0:def 5;
thus L1241: thesis by L1240 , L1228 , L1238 , TARSKI:def 1;
end;
end;

end;
end;
L1231: (the carrier of ( ComplRelStr ( subrelstr ( ( [#] C176 ) \ { C177 } ) ) )) = (the carrier of ( subrelstr ( ( [#] C176 ) \ { C177 } ) )) by NECKLACE:def 8
.= ( (the carrier of C176) \ { C177 } ) by YELLOW_0:def 15
.= ( ( [#] ( ComplRelStr C176 ) ) \ { C178 } ) by L1199 , NECKLACE:def 8
.= (the carrier of ( subrelstr ( ( [#] ( ComplRelStr C176 ) ) \ { C178 } ) )) by YELLOW_0:def 15;
thus L1232: thesis by L1231 , L1206;
end;
begin
registration
cluster  trivial  strict ->  N-free for non  empty non  empty non  empty non  empty RelStr;
correctness
proof
set D88 = ( Necklace 4 );
let C183 being non  empty RelStr;
assume L1233: C183 is  trivial  strict;
consider C184 being set such that L1234: (the carrier of C183) = { C184 } by L1233 , GROUP_6:def 2;
assume L1235: (not C183 is  N-free);
L1236: C183 embeds D88 by L1235 , NECKLA_2:def 1;
consider C185 being (Function of D88 , C183) such that L1237: C185 is  one-to-one and L1238: (for B54 , B55 being (Element of D88) holds ([ B54 , B55 ] in (the InternalRel of D88) iff [ ( C185 . B54 ) , ( C185 . B55 ) ] in (the InternalRel of C183))) by L1236 , NECKLACE:def 1;
L1239: ( dom C185 ) = (the carrier of D88) by FUNCT_2:def 1
.= { ( 0 ) , 1 , 2 , 3 } by NECKLACE:1 , NECKLACE:20;
L1240: 1 in ( dom C185 ) by L1239 , ENUMSET1:def 2;
L1241: ( C185 . 1 ) in { C184 } by L1240 , L1234 , PARTFUN1:4;
L1242: ( C185 . 1 ) = C184 by L1241 , TARSKI:def 1;
L1243: ( 0 ) in ( dom C185 ) by L1239 , ENUMSET1:def 2;
L1244: ( C185 . ( 0 ) ) in { C184 } by L1243 , L1234 , PARTFUN1:4;
L1245: ( C185 . ( 0 ) ) = C184 by L1244 , TARSKI:def 1;
thus L1246: contradiction by L1245 , L1237 , L1243 , L1240 , L1242 , FUNCT_1:def 4;
end;
end;
theorem
L1248: (for B56 being  reflexive  antisymmetric RelStr holds (for B57 being RelStr holds ((ex B58 being (Function of B56 , B57) st (for B59 , B60 being (Element of B56) holds ([ B59 , B60 ] in (the InternalRel of B56) iff [ ( B58 . B59 ) , ( B58 . B60 ) ] in (the InternalRel of B57)))) iff B57 embeds B56)))
proof
let C186 being  reflexive  antisymmetric RelStr;
let C187 being RelStr;
L1249:
now
assume L1250: (ex B61 being (Function of C186 , C187) st (for B62 , B63 being (Element of C186) holds ([ B62 , B63 ] in (the InternalRel of C186) iff [ ( B61 . B62 ) , ( B61 . B63 ) ] in (the InternalRel of C187))));
consider C188 being (Function of C186 , C187) such that L1251: (for B64 , B65 being (Element of C186) holds ([ B64 , B65 ] in (the InternalRel of C186) iff [ ( C188 . B64 ) , ( C188 . B65 ) ] in (the InternalRel of C187))) by L1250;
L1252: (for B66 , B67 being set holds ((B66 in ( dom C188 ) & B67 in ( dom C188 ) & ( C188 . B66 ) = ( C188 . B67 )) implies B66 = B67))
proof
let C189 , C190 being set;
assume that
L1253: C189 in ( dom C188 )
and
L1254: C190 in ( dom C188 )
and
L1255: ( C188 . C189 ) = ( C188 . C190 );
reconsider D89 = C189 , D90 = C190 as (Element of C186) by L1253 , L1254;
L1256: (the InternalRel of C186) is_reflexive_in (the carrier of C186) by ORDERS_2:def 2;
L1257: [ D90 , D90 ] in (the InternalRel of C186) by L1256 , L1253 , RELAT_2:def 1;
L1258: [ ( C188 . D90 ) , ( C188 . D89 ) ] in (the InternalRel of C187) by L1257 , L1251 , L1255;
L1259: [ D90 , D89 ] in (the InternalRel of C186) by L1258 , L1251;
L1260: D90 <= D89 by L1259 , ORDERS_2:def 5;
L1261: [ D89 , D89 ] in (the InternalRel of C186) by L1253 , L1256 , RELAT_2:def 1;
L1262: [ ( C188 . D89 ) , ( C188 . D90 ) ] in (the InternalRel of C187) by L1261 , L1251 , L1255;
L1263: [ D89 , D90 ] in (the InternalRel of C186) by L1262 , L1251;
L1264: D89 <= D90 by L1263 , ORDERS_2:def 5;
thus L1265: thesis by L1264 , L1260 , ORDERS_2:2;
end;
L1266: C188 is  one-to-one by L1252 , FUNCT_1:def 4;
thus L1267: C187 embeds C186 by L1266 , L1251 , NECKLACE:def 1;
end;
L1268:
now
assume L1269: C187 embeds C186;
consider C191 being (Function of C186 , C187) such that L1270: C191 is  one-to-one and L1271: (for B68 , B69 being (Element of C186) holds ([ B68 , B69 ] in (the InternalRel of C186) iff [ ( C191 . B68 ) , ( C191 . B69 ) ] in (the InternalRel of C187))) by L1269 , NECKLACE:def 1;
take D91 = C191;
thus L1272: thesis by L1269 , L1271;
end;
thus L1273: thesis by L1268 , L1249;
end;
theorem
L1274: (for B70 being non  empty RelStr holds (for B71 being non  empty  full (SubRelStr of B70) holds B70 embeds B71))
proof
let C192 being non  empty RelStr;
let C193 being non  empty  full (SubRelStr of C192);
reconsider D92 = ( id (the carrier of C193) ) as (Function of (the carrier of C193) , (the carrier of C193));
L1275: ( dom D92 ) = (the carrier of C193) by FUNCT_1:17;
L1276: (the carrier of C193) c= (the carrier of C192) by YELLOW_0:def 13;
L1277: (for B72 being set holds (B72 in (the carrier of C193) implies ( D92 . B72 ) in (the carrier of C192)))
proof
let C194 being set;
assume L1278: C194 in (the carrier of C193);
L1279: ( D92 . C194 ) in (the carrier of C193) by L1278 , FUNCT_1:17;
thus L1280: thesis by L1279 , L1276;
end;
reconsider D93 = ( id (the carrier of C193) ) as (Function of (the carrier of C193) , (the carrier of C192)) by L1277 , L1275 , FUNCT_2:3;
reconsider D94 = D93 as (Function of C193 , C192);
L1281: (for B73 , B74 being (Element of C193) holds ([ B73 , B74 ] in (the InternalRel of C193) iff [ ( D94 . B73 ) , ( D94 . B74 ) ] in (the InternalRel of C192)))
proof
set D95 = (the InternalRel of C193);
set D96 = (the InternalRel of C192);
set D97 = (the carrier of C193);
let C195 , C196 being (Element of C193);
L1282: (( D94 . C195 ) = C195 & ( D94 . C196 ) = C196) by FUNCT_1:17;
thus L1283: ([ C195 , C196 ] in D95 implies [ ( D94 . C195 ) , ( D94 . C196 ) ] in D96)
proof
assume L1284: [ C195 , C196 ] in D95;
L1285: [ C195 , C196 ] in ( D96 |_2 D97 ) by L1284 , YELLOW_0:def 14;
thus L1286: thesis by L1285 , L1282 , XBOOLE_0:def 4;
end;

assume L1287: [ ( D94 . C195 ) , ( D94 . C196 ) ] in D96;
L1288: [ C195 , C196 ] in ( D96 |_2 D97 ) by L1287 , L1282 , XBOOLE_0:def 4;
thus L1289: thesis by L1288 , YELLOW_0:def 14;
end;
thus L1290: thesis by L1281 , NECKLACE:def 1;
end;
theorem
L1291: (for B75 being non  empty RelStr holds (for B76 being non  empty  full (SubRelStr of B75) holds (B75 is  N-free implies B76 is  N-free)))
proof
let C197 being non  empty RelStr;
let C198 being non  empty  full (SubRelStr of C197);
assume L1292: C197 is  N-free;
L1293: C197 embeds C198 by L1274;
assume L1294: (not thesis);
L1295: C198 embeds ( Necklace 4 ) by L1294 , NECKLA_2:def 1;
L1296: C197 embeds ( Necklace 4 ) by L1295 , L1293 , NECKLACE:12;
thus L1297: contradiction by L1296 , L1292 , NECKLA_2:def 1;
end;
theorem
L1298: (for B77 being non  empty  irreflexive RelStr holds (B77 embeds ( Necklace 4 ) iff ( ComplRelStr B77 ) embeds ( Necklace 4 )))
proof
let C199 being non  empty  irreflexive RelStr;
set D98 = ( Necklace 4 );
set D99 = ( ComplRelStr ( Necklace 4 ) );
set D100 = ( ComplRelStr C199 );
L1299: (the carrier of D100) = (the carrier of C199) by NECKLACE:def 8;
L1300: (the carrier of ( Necklace 4 )) = { ( 0 ) , 1 , 2 , 3 } by NECKLACE:1 , NECKLACE:20;
L1301: ( 0 ) in (the carrier of D98) by L1300 , ENUMSET1:def 2;
L1302: (the carrier of D99) = (the carrier of D98) by NECKLACE:def 8;
thus L1303: (C199 embeds D98 implies D100 embeds D98)
proof
L1304: D99 , D98 are_isomorphic  by NECKLACE:29 , WAYBEL_1:6;
consider C200 being (Function of D99 , D98) such that L1305: C200 is  isomorphic by L1304 , WAYBEL_1:def 8;
assume L1306: C199 embeds ( Necklace 4 );
consider C201 being (Function of D98 , C199) such that L1307: C201 is  one-to-one and L1308: (for B78 , B79 being (Element of D98) holds ([ B78 , B79 ] in (the InternalRel of D98) iff [ ( C201 . B78 ) , ( C201 . B79 ) ] in (the InternalRel of C199))) by L1306 , NECKLACE:def 1;
reconsider D101 = ( C201 * C200 ) as (Function of D99 , C199);
L1309: C200 is  one-to-one  monotone by L1305 , WAYBEL_0:def 38;
L1310: (for B80 , B81 being (Element of D99) holds ([ B80 , B81 ] in (the InternalRel of D99) iff [ ( D101 . B80 ) , ( D101 . B81 ) ] in (the InternalRel of C199)))
proof
let C202 , C203 being (Element of D99);
thus L1311: ([ C202 , C203 ] in (the InternalRel of D99) implies [ ( D101 . C202 ) , ( D101 . C203 ) ] in (the InternalRel of C199))
proof
assume L1312: [ C202 , C203 ] in (the InternalRel of D99);
L1313: C202 <= C203 by L1312 , ORDERS_2:def 5;
L1314: ( C200 . C202 ) <= ( C200 . C203 ) by L1313 , L1309 , WAYBEL_1:def 2;
L1315: [ ( C200 . C202 ) , ( C200 . C203 ) ] in (the InternalRel of D98) by L1314 , ORDERS_2:def 5;
L1316: [ ( C201 . ( C200 . C202 ) ) , ( C201 . ( C200 . C203 ) ) ] in (the InternalRel of C199) by L1315 , L1308;
L1317: [ ( ( C201 * C200 ) . C202 ) , ( C201 . ( C200 . C203 ) ) ] in (the InternalRel of C199) by L1316 , FUNCT_2:15;
thus L1318: thesis by L1317 , FUNCT_2:15;
end;

assume L1319: [ ( D101 . C202 ) , ( D101 . C203 ) ] in (the InternalRel of C199);
L1320: [ ( C201 . ( C200 . C202 ) ) , ( D101 . C203 ) ] in (the InternalRel of C199) by L1319 , FUNCT_2:15;
L1321: [ ( C201 . ( C200 . C202 ) ) , ( C201 . ( C200 . C203 ) ) ] in (the InternalRel of C199) by L1320 , FUNCT_2:15;
L1322: [ ( C200 . C202 ) , ( C200 . C203 ) ] in (the InternalRel of D98) by L1321 , L1308;
L1323: ( C200 . C202 ) <= ( C200 . C203 ) by L1322 , ORDERS_2:def 5;
L1324: C202 <= C203 by L1323 , L1305 , WAYBEL_0:66;
thus L1325: thesis by L1324 , ORDERS_2:def 5;
end;
L1326: ( 0 ) in (the carrier of D99) by L1300 , L1302 , ENUMSET1:def 2;
L1327: 1 in (the carrier of D99) by L1300 , L1302 , ENUMSET1:def 2;
L1328: ( dom D101 ) = (the carrier of D99) by FUNCT_2:def 1;
L1329: [ ( D101 . ( 0 ) ) , ( D101 . 1 ) ] in (the InternalRel of D100)
proof
assume L1330: (not thesis);
L1331: [ ( D101 . ( 0 ) ) , ( D101 . 1 ) ] in (the InternalRel of C199)
proof
L1332: (( D101 . ( 0 ) ) in (the carrier of C199) & ( D101 . 1 ) in (the carrier of C199)) by L1326 , L1327 , FUNCT_2:5;
L1333: [ ( D101 . ( 0 ) ) , ( D101 . 1 ) ] in [: (the carrier of C199) , (the carrier of C199) :] by L1332 , ZFMISC_1:87;
L1334: [ ( D101 . ( 0 ) ) , ( D101 . 1 ) ] in ( ( ( id (the carrier of C199) ) \/ (the InternalRel of C199) ) \/ (the InternalRel of D100) ) by L1333 , L783;
L1335: ([ ( D101 . ( 0 ) ) , ( D101 . 1 ) ] in ( ( id (the carrier of C199) ) \/ (the InternalRel of C199) ) or [ ( D101 . ( 0 ) ) , ( D101 . 1 ) ] in (the InternalRel of D100)) by L1334 , XBOOLE_0:def 3;
assume L1336: (not thesis);
L1337: [ ( D101 . ( 0 ) ) , ( D101 . 1 ) ] in ( id (the carrier of C199) ) by L1336 , L1330 , L1335 , XBOOLE_0:def 3;
L1338: ( D101 . ( 0 ) ) = ( D101 . 1 ) by L1337 , RELAT_1:def 10;
thus L1339: contradiction by L1338 , L1307 , L1309 , L1328 , L1326 , L1327 , FUNCT_1:def 4;
end;
L1340: [ ( 0 ) , 1 ] in (the InternalRel of D99) by L1331 , L1310 , L1326 , L1327;
L1341: [ ( 0 ) , 1 ] in (the InternalRel of D98) by ENUMSET1:def 4 , NECKLA_2:2;
L1342: [ ( 0 ) , 1 ] in ( (the InternalRel of D98) /\ (the InternalRel of D99) ) by L1341 , L1340 , XBOOLE_0:def 4;
L1343: (the InternalRel of D98) meets (the InternalRel of D99) by L1342 , XBOOLE_0:def 7;
thus L1344: thesis by L1343 , L765;
end;
L1345: 2 in (the carrier of D99) by L1300 , L1302 , ENUMSET1:def 2;
L1346: [ ( D101 . 1 ) , ( D101 . 2 ) ] in (the InternalRel of D100)
proof
assume L1347: (not thesis);
L1348: [ ( D101 . 1 ) , ( D101 . 2 ) ] in (the InternalRel of C199)
proof
L1349: (( D101 . 1 ) in (the carrier of C199) & ( D101 . 2 ) in (the carrier of C199)) by L1327 , L1345 , FUNCT_2:5;
L1350: [ ( D101 . 1 ) , ( D101 . 2 ) ] in [: (the carrier of C199) , (the carrier of C199) :] by L1349 , ZFMISC_1:87;
L1351: [ ( D101 . 1 ) , ( D101 . 2 ) ] in ( ( ( id (the carrier of C199) ) \/ (the InternalRel of C199) ) \/ (the InternalRel of D100) ) by L1350 , L783;
L1352: ([ ( D101 . 1 ) , ( D101 . 2 ) ] in ( ( id (the carrier of C199) ) \/ (the InternalRel of C199) ) or [ ( D101 . 1 ) , ( D101 . 2 ) ] in (the InternalRel of D100)) by L1351 , XBOOLE_0:def 3;
assume L1353: (not thesis);
L1354: [ ( D101 . 1 ) , ( D101 . 2 ) ] in ( id (the carrier of C199) ) by L1353 , L1347 , L1352 , XBOOLE_0:def 3;
L1355: ( D101 . 1 ) = ( D101 . 2 ) by L1354 , RELAT_1:def 10;
thus L1356: contradiction by L1355 , L1307 , L1309 , L1328 , L1327 , L1345 , FUNCT_1:def 4;
end;
L1357: [ 1 , 2 ] in (the InternalRel of D99) by L1348 , L1310 , L1327 , L1345;
L1358: [ 1 , 2 ] in (the InternalRel of D98) by ENUMSET1:def 4 , NECKLA_2:2;
L1359: [ 1 , 2 ] in ( (the InternalRel of D98) /\ (the InternalRel of D99) ) by L1358 , L1357 , XBOOLE_0:def 4;
L1360: (the InternalRel of D98) meets (the InternalRel of D99) by L1359 , XBOOLE_0:def 7;
thus L1361: thesis by L1360 , L765;
end;
L1362: 3 in (the carrier of D99) by L1300 , L1302 , ENUMSET1:def 2;
L1363: [ ( D101 . 2 ) , ( D101 . 3 ) ] in (the InternalRel of D100)
proof
assume L1364: (not thesis);
L1365: [ ( D101 . 2 ) , ( D101 . 3 ) ] in (the InternalRel of C199)
proof
L1366: (( D101 . 2 ) in (the carrier of C199) & ( D101 . 3 ) in (the carrier of C199)) by L1345 , L1362 , FUNCT_2:5;
L1367: [ ( D101 . 2 ) , ( D101 . 3 ) ] in [: (the carrier of C199) , (the carrier of C199) :] by L1366 , ZFMISC_1:87;
L1368: [ ( D101 . 2 ) , ( D101 . 3 ) ] in ( ( ( id (the carrier of C199) ) \/ (the InternalRel of C199) ) \/ (the InternalRel of D100) ) by L1367 , L783;
L1369: ([ ( D101 . 2 ) , ( D101 . 3 ) ] in ( ( id (the carrier of C199) ) \/ (the InternalRel of C199) ) or [ ( D101 . 2 ) , ( D101 . 3 ) ] in (the InternalRel of D100)) by L1368 , XBOOLE_0:def 3;
assume L1370: (not thesis);
L1371: [ ( D101 . 2 ) , ( D101 . 3 ) ] in ( id (the carrier of C199) ) by L1370 , L1364 , L1369 , XBOOLE_0:def 3;
L1372: ( D101 . 2 ) = ( D101 . 3 ) by L1371 , RELAT_1:def 10;
thus L1373: contradiction by L1372 , L1307 , L1309 , L1328 , L1345 , L1362 , FUNCT_1:def 4;
end;
L1374: [ 2 , 3 ] in (the InternalRel of D99) by L1365 , L1310 , L1345 , L1362;
L1375: [ 2 , 3 ] in (the InternalRel of D98) by ENUMSET1:def 4 , NECKLA_2:2;
L1376: [ 2 , 3 ] in ( (the InternalRel of D98) /\ (the InternalRel of D99) ) by L1375 , L1374 , XBOOLE_0:def 4;
L1377: (the InternalRel of D98) meets (the InternalRel of D99) by L1376 , XBOOLE_0:def 7;
thus L1378: thesis by L1377 , L765;
end;
L1379: [ 3 , 1 ] in (the InternalRel of D99) by L544 , ENUMSET1:def 4;
L1380: [ ( D101 . 3 ) , ( D101 . 1 ) ] in (the InternalRel of C199) by L1379 , L1310 , L1327 , L1362;
L1381: [ 1 , 3 ] in (the InternalRel of D99) by L544 , ENUMSET1:def 4;
L1382: [ ( D101 . 1 ) , ( D101 . 3 ) ] in (the InternalRel of C199) by L1381 , L1310 , L1327 , L1362;
L1383: [ 3 , ( 0 ) ] in (the InternalRel of D99) by L544 , ENUMSET1:def 4;
L1384: [ ( D101 . 3 ) , ( D101 . ( 0 ) ) ] in (the InternalRel of C199) by L1383 , L1310 , L1326 , L1362;
L1385: [ ( 0 ) , 3 ] in (the InternalRel of D99) by L544 , ENUMSET1:def 4;
L1386: [ ( D101 . ( 0 ) ) , ( D101 . 3 ) ] in (the InternalRel of C199) by L1385 , L1310 , L1326 , L1362;
L1387: [ ( D101 . 1 ) , ( D101 . ( 0 ) ) ] in (the InternalRel of D100)
proof
assume L1388: (not thesis);
L1389: [ ( D101 . 1 ) , ( D101 . ( 0 ) ) ] in (the InternalRel of C199)
proof
L1390: (( D101 . ( 0 ) ) in (the carrier of C199) & ( D101 . 1 ) in (the carrier of C199)) by L1326 , L1327 , FUNCT_2:5;
L1391: [ ( D101 . 1 ) , ( D101 . ( 0 ) ) ] in [: (the carrier of C199) , (the carrier of C199) :] by L1390 , ZFMISC_1:87;
L1392: [ ( D101 . 1 ) , ( D101 . ( 0 ) ) ] in ( ( ( id (the carrier of C199) ) \/ (the InternalRel of C199) ) \/ (the InternalRel of D100) ) by L1391 , L783;
L1393: ([ ( D101 . 1 ) , ( D101 . ( 0 ) ) ] in ( ( id (the carrier of C199) ) \/ (the InternalRel of C199) ) or [ ( D101 . 1 ) , ( D101 . ( 0 ) ) ] in (the InternalRel of D100)) by L1392 , XBOOLE_0:def 3;
assume L1394: (not thesis);
L1395: [ ( D101 . 1 ) , ( D101 . ( 0 ) ) ] in ( id (the carrier of C199) ) by L1394 , L1388 , L1393 , XBOOLE_0:def 3;
L1396: ( D101 . ( 0 ) ) = ( D101 . 1 ) by L1395 , RELAT_1:def 10;
thus L1397: contradiction by L1396 , L1307 , L1309 , L1328 , L1326 , L1327 , FUNCT_1:def 4;
end;
L1398: [ 1 , ( 0 ) ] in (the InternalRel of D99) by L1389 , L1310 , L1326 , L1327;
L1399: [ 1 , ( 0 ) ] in (the InternalRel of D98) by ENUMSET1:def 4 , NECKLA_2:2;
L1400: [ 1 , ( 0 ) ] in ( (the InternalRel of D98) /\ (the InternalRel of D99) ) by L1399 , L1398 , XBOOLE_0:def 4;
L1401: (the InternalRel of D98) meets (the InternalRel of D99) by L1400 , XBOOLE_0:def 7;
thus L1402: thesis by L1401 , L765;
end;
L1403: [ ( D101 . 2 ) , ( D101 . 1 ) ] in (the InternalRel of D100)
proof
assume L1404: (not thesis);
L1405: [ ( D101 . 2 ) , ( D101 . 1 ) ] in (the InternalRel of C199)
proof
L1406: (( D101 . 1 ) in (the carrier of C199) & ( D101 . 2 ) in (the carrier of C199)) by L1327 , L1345 , FUNCT_2:5;
L1407: [ ( D101 . 2 ) , ( D101 . 1 ) ] in [: (the carrier of C199) , (the carrier of C199) :] by L1406 , ZFMISC_1:87;
L1408: [ ( D101 . 2 ) , ( D101 . 1 ) ] in ( ( ( id (the carrier of C199) ) \/ (the InternalRel of C199) ) \/ (the InternalRel of D100) ) by L1407 , L783;
L1409: ([ ( D101 . 2 ) , ( D101 . 1 ) ] in ( ( id (the carrier of C199) ) \/ (the InternalRel of C199) ) or [ ( D101 . 2 ) , ( D101 . 1 ) ] in (the InternalRel of D100)) by L1408 , XBOOLE_0:def 3;
assume L1410: (not thesis);
L1411: [ ( D101 . 2 ) , ( D101 . 1 ) ] in ( id (the carrier of C199) ) by L1410 , L1404 , L1409 , XBOOLE_0:def 3;
L1412: ( D101 . 1 ) = ( D101 . 2 ) by L1411 , RELAT_1:def 10;
thus L1413: contradiction by L1412 , L1307 , L1309 , L1328 , L1327 , L1345 , FUNCT_1:def 4;
end;
L1414: [ 2 , 1 ] in (the InternalRel of D99) by L1405 , L1310 , L1327 , L1345;
L1415: [ 2 , 1 ] in (the InternalRel of D98) by ENUMSET1:def 4 , NECKLA_2:2;
L1416: [ 2 , 1 ] in ( (the InternalRel of D98) /\ (the InternalRel of D99) ) by L1415 , L1414 , XBOOLE_0:def 4;
L1417: (the InternalRel of D98) meets (the InternalRel of D99) by L1416 , XBOOLE_0:def 7;
thus L1418: thesis by L1417 , L765;
end;
L1419: [ ( D101 . 3 ) , ( D101 . 2 ) ] in (the InternalRel of D100)
proof
assume L1420: (not thesis);
L1421: [ ( D101 . 3 ) , ( D101 . 2 ) ] in (the InternalRel of C199)
proof
L1422: (( D101 . 2 ) in (the carrier of C199) & ( D101 . 3 ) in (the carrier of C199)) by L1345 , L1362 , FUNCT_2:5;
L1423: [ ( D101 . 3 ) , ( D101 . 2 ) ] in [: (the carrier of C199) , (the carrier of C199) :] by L1422 , ZFMISC_1:87;
L1424: [ ( D101 . 3 ) , ( D101 . 2 ) ] in ( ( ( id (the carrier of C199) ) \/ (the InternalRel of C199) ) \/ (the InternalRel of D100) ) by L1423 , L783;
L1425: ([ ( D101 . 3 ) , ( D101 . 2 ) ] in ( ( id (the carrier of C199) ) \/ (the InternalRel of C199) ) or [ ( D101 . 3 ) , ( D101 . 2 ) ] in (the InternalRel of D100)) by L1424 , XBOOLE_0:def 3;
assume L1426: (not thesis);
L1427: [ ( D101 . 3 ) , ( D101 . 2 ) ] in ( id (the carrier of C199) ) by L1426 , L1420 , L1425 , XBOOLE_0:def 3;
L1428: ( D101 . 2 ) = ( D101 . 3 ) by L1427 , RELAT_1:def 10;
thus L1429: contradiction by L1428 , L1307 , L1309 , L1328 , L1345 , L1362 , FUNCT_1:def 4;
end;
L1430: [ 3 , 2 ] in (the InternalRel of D99) by L1421 , L1310 , L1345 , L1362;
L1431: [ 3 , 2 ] in (the InternalRel of D98) by ENUMSET1:def 4 , NECKLA_2:2;
L1432: [ 3 , 2 ] in ( (the InternalRel of D98) /\ (the InternalRel of D99) ) by L1431 , L1430 , XBOOLE_0:def 4;
L1433: (the InternalRel of D98) meets (the InternalRel of D99) by L1432 , XBOOLE_0:def 7;
thus L1434: thesis by L1433 , L765;
end;
L1435: [ 2 , ( 0 ) ] in (the InternalRel of D99) by L544 , ENUMSET1:def 4;
L1436: [ ( D101 . 2 ) , ( D101 . ( 0 ) ) ] in (the InternalRel of C199) by L1435 , L1310 , L1326 , L1345;
L1437: [ ( 0 ) , 2 ] in (the InternalRel of D99) by L544 , ENUMSET1:def 4;
L1438: [ ( D101 . ( 0 ) ) , ( D101 . 2 ) ] in (the InternalRel of C199) by L1437 , L1310 , L1326 , L1345;
L1439: (for B82 , B83 being (Element of D98) holds ([ B82 , B83 ] in (the InternalRel of D98) iff [ ( D101 . B82 ) , ( D101 . B83 ) ] in (the InternalRel of D100)))
proof
let C204 , C205 being (Element of D98);
thus L1440: ([ C204 , C205 ] in (the InternalRel of D98) implies [ ( D101 . C204 ) , ( D101 . C205 ) ] in (the InternalRel of D100))
proof
assume L1441: [ C204 , C205 ] in (the InternalRel of D98);
per cases  by L1441 , ENUMSET1:def 4 , NECKLA_2:2;
suppose L1442: [ C204 , C205 ] = [ ( 0 ) , 1 ];

L1443: C204 = ( 0 ) by L1442 , XTUPLE_0:1;
thus L1444: thesis by L1443 , L1329 , L1442 , XTUPLE_0:1;
end;
suppose L1445: [ C204 , C205 ] = [ 1 , ( 0 ) ];

L1446: C204 = 1 by L1445 , XTUPLE_0:1;
thus L1447: thesis by L1446 , L1387 , L1445 , XTUPLE_0:1;
end;
suppose L1448: [ C204 , C205 ] = [ 1 , 2 ];

L1449: C204 = 1 by L1448 , XTUPLE_0:1;
thus L1450: thesis by L1449 , L1346 , L1448 , XTUPLE_0:1;
end;
suppose L1451: [ C204 , C205 ] = [ 2 , 1 ];

L1452: C204 = 2 by L1451 , XTUPLE_0:1;
thus L1453: thesis by L1452 , L1403 , L1451 , XTUPLE_0:1;
end;
suppose L1454: [ C204 , C205 ] = [ 2 , 3 ];

L1455: C204 = 2 by L1454 , XTUPLE_0:1;
thus L1456: thesis by L1455 , L1363 , L1454 , XTUPLE_0:1;
end;
suppose L1457: [ C204 , C205 ] = [ 3 , 2 ];

L1458: C204 = 3 by L1457 , XTUPLE_0:1;
thus L1459: thesis by L1458 , L1419 , L1457 , XTUPLE_0:1;
end;
end;

assume L1461: [ ( D101 . C204 ) , ( D101 . C205 ) ] in (the InternalRel of D100);
per cases  by L1300 , ENUMSET1:def 2;
suppose L1462: (C204 = ( 0 ) & C205 = ( 0 ));

L1463: ( D101 . ( 0 ) ) in (the carrier of D100) by L1462 , L1461 , ZFMISC_1:87;
thus L1464: thesis by L1463 , L1461 , L1462 , NECKLACE:def 5;
end;
suppose L1465: (C204 = ( 0 ) & C205 = 1);

thus L1466: thesis by L1465 , ENUMSET1:def 4 , NECKLA_2:2;
end;
suppose L1467: (C204 = ( 0 ) & C205 = 2);

L1468: [ ( D101 . ( 0 ) ) , ( D101 . 2 ) ] in ( (the InternalRel of C199) /\ (the InternalRel of D100) ) by L1467 , L1438 , L1461 , XBOOLE_0:def 4;
L1469: (the InternalRel of C199) meets (the InternalRel of D100) by L1468 , XBOOLE_0:def 7;
thus L1470: thesis by L1469 , L765;
end;
suppose L1471: (C204 = ( 0 ) & C205 = 3);

L1472: [ ( D101 . ( 0 ) ) , ( D101 . 3 ) ] in ( (the InternalRel of C199) /\ (the InternalRel of D100) ) by L1471 , L1386 , L1461 , XBOOLE_0:def 4;
L1473: (the InternalRel of C199) meets (the InternalRel of D100) by L1472 , XBOOLE_0:def 7;
thus L1474: thesis by L1473 , L765;
end;
suppose L1475: (C204 = 1 & C205 = ( 0 ));

thus L1476: thesis by L1475 , ENUMSET1:def 4 , NECKLA_2:2;
end;
suppose L1477: (C204 = 1 & C205 = 1);

L1478: ( D101 . 1 ) in (the carrier of D100) by L1477 , L1461 , ZFMISC_1:87;
thus L1479: thesis by L1478 , L1461 , L1477 , NECKLACE:def 5;
end;
suppose L1480: (C204 = 1 & C205 = 2);

thus L1481: thesis by L1480 , ENUMSET1:def 4 , NECKLA_2:2;
end;
suppose L1482: (C204 = 1 & C205 = 3);

L1483: [ ( D101 . 1 ) , ( D101 . 3 ) ] in ( (the InternalRel of C199) /\ (the InternalRel of D100) ) by L1482 , L1382 , L1461 , XBOOLE_0:def 4;
L1484: (the InternalRel of C199) meets (the InternalRel of D100) by L1483 , XBOOLE_0:def 7;
thus L1485: thesis by L1484 , L765;
end;
suppose L1486: (C204 = 2 & C205 = ( 0 ));

L1487: [ ( D101 . 2 ) , ( D101 . ( 0 ) ) ] in ( (the InternalRel of C199) /\ (the InternalRel of D100) ) by L1486 , L1436 , L1461 , XBOOLE_0:def 4;
L1488: (the InternalRel of C199) meets (the InternalRel of D100) by L1487 , XBOOLE_0:def 7;
thus L1489: thesis by L1488 , L765;
end;
suppose L1490: (C204 = 2 & C205 = 1);

thus L1491: thesis by L1490 , ENUMSET1:def 4 , NECKLA_2:2;
end;
suppose L1492: (C204 = 2 & C205 = 2);

L1493: ( D101 . 2 ) in (the carrier of D100) by L1492 , L1461 , ZFMISC_1:87;
thus L1494: thesis by L1493 , L1461 , L1492 , NECKLACE:def 5;
end;
suppose L1495: (C204 = 2 & C205 = 3);

thus L1496: thesis by L1495 , ENUMSET1:def 4 , NECKLA_2:2;
end;
suppose L1497: (C204 = 3 & C205 = ( 0 ));

L1498: [ ( D101 . 3 ) , ( D101 . ( 0 ) ) ] in ( (the InternalRel of C199) /\ (the InternalRel of D100) ) by L1497 , L1384 , L1461 , XBOOLE_0:def 4;
L1499: (the InternalRel of C199) meets (the InternalRel of D100) by L1498 , XBOOLE_0:def 7;
thus L1500: thesis by L1499 , L765;
end;
suppose L1501: (C204 = 3 & C205 = 1);

L1502: [ ( D101 . 3 ) , ( D101 . 1 ) ] in ( (the InternalRel of C199) /\ (the InternalRel of D100) ) by L1501 , L1380 , L1461 , XBOOLE_0:def 4;
L1503: (the InternalRel of C199) meets (the InternalRel of D100) by L1502 , XBOOLE_0:def 7;
thus L1504: thesis by L1503 , L765;
end;
suppose L1505: (C204 = 3 & C205 = 2);

thus L1506: thesis by L1505 , ENUMSET1:def 4 , NECKLA_2:2;
end;
suppose L1507: (C204 = 3 & C205 = 3);

L1508: ( D101 . 3 ) in (the carrier of D100) by L1507 , L1461 , ZFMISC_1:87;
thus L1509: thesis by L1508 , L1461 , L1507 , NECKLACE:def 5;
end;
end;
thus L1511: thesis by L1439 , L1302 , L1299 , L1307 , L1309 , NECKLACE:def 1;
end;

assume L1512: D100 embeds D98;
consider C206 being (Function of D98 , D100) such that L1513: C206 is  one-to-one and L1514: (for B84 , B85 being (Element of D98) holds ([ B84 , B85 ] in (the InternalRel of D98) iff [ ( C206 . B84 ) , ( C206 . B85 ) ] in (the InternalRel of D100))) by L1512 , NECKLACE:def 1;
consider C207 being (Function of D98 , D99) such that L1515: C207 is  isomorphic by NECKLACE:29 , WAYBEL_1:def 8;
L1516: 2 in (the carrier of D98) by L1300 , ENUMSET1:def 2;
L1517: ( dom C206 ) = (the carrier of D98) by FUNCT_2:def 1;
L1518: [ ( C206 . ( 0 ) ) , ( C206 . 2 ) ] in (the InternalRel of C199)
proof
assume L1519: (not thesis);
L1520: [ ( C206 . ( 0 ) ) , ( C206 . 2 ) ] in (the InternalRel of D100)
proof
L1521: (( C206 . ( 0 ) ) in (the carrier of D100) & ( C206 . 2 ) in (the carrier of D100)) by L1301 , L1516 , FUNCT_2:5;
L1522: [ ( C206 . ( 0 ) ) , ( C206 . 2 ) ] in [: (the carrier of C199) , (the carrier of C199) :] by L1521 , L1299 , ZFMISC_1:87;
L1523: [ ( C206 . ( 0 ) ) , ( C206 . 2 ) ] in ( ( ( id (the carrier of C199) ) \/ (the InternalRel of C199) ) \/ (the InternalRel of D100) ) by L1522 , L783;
L1524: ([ ( C206 . ( 0 ) ) , ( C206 . 2 ) ] in ( ( id (the carrier of C199) ) \/ (the InternalRel of C199) ) or [ ( C206 . ( 0 ) ) , ( C206 . 2 ) ] in (the InternalRel of D100)) by L1523 , XBOOLE_0:def 3;
assume L1525: (not thesis);
L1526: [ ( C206 . ( 0 ) ) , ( C206 . 2 ) ] in ( id (the carrier of C199) ) by L1525 , L1519 , L1524 , XBOOLE_0:def 3;
L1527: ( C206 . ( 0 ) ) = ( C206 . 2 ) by L1526 , RELAT_1:def 10;
thus L1528: contradiction by L1527 , L1513 , L1517 , L1301 , L1516 , FUNCT_1:def 4;
end;
L1529: [ ( 0 ) , 2 ] in (the InternalRel of D98) by L1520 , L1514 , L1301 , L1516;
L1530: [ ( 0 ) , 2 ] in (the InternalRel of D99) by L544 , ENUMSET1:def 4;
L1531: [ ( 0 ) , 2 ] in ( (the InternalRel of D98) /\ (the InternalRel of D99) ) by L1530 , L1529 , XBOOLE_0:def 4;
L1532: (the InternalRel of D98) meets (the InternalRel of D99) by L1531 , XBOOLE_0:def 7;
thus L1533: thesis by L1532 , L765;
end;
L1534: 3 in (the carrier of D98) by L1300 , ENUMSET1:def 2;
L1535: [ ( C206 . ( 0 ) ) , ( C206 . 3 ) ] in (the InternalRel of C199)
proof
assume L1536: (not [ ( C206 . ( 0 ) ) , ( C206 . 3 ) ] in (the InternalRel of C199));
L1537: [ ( C206 . ( 0 ) ) , ( C206 . 3 ) ] in (the InternalRel of D100)
proof
L1538: (( C206 . ( 0 ) ) in (the carrier of D100) & ( C206 . 3 ) in (the carrier of D100)) by L1301 , L1534 , FUNCT_2:5;
L1539: [ ( C206 . ( 0 ) ) , ( C206 . 3 ) ] in [: (the carrier of C199) , (the carrier of C199) :] by L1538 , L1299 , ZFMISC_1:87;
L1540: [ ( C206 . ( 0 ) ) , ( C206 . 3 ) ] in ( ( ( id (the carrier of C199) ) \/ (the InternalRel of C199) ) \/ (the InternalRel of D100) ) by L1539 , L783;
L1541: ([ ( C206 . ( 0 ) ) , ( C206 . 3 ) ] in ( ( id (the carrier of C199) ) \/ (the InternalRel of C199) ) or [ ( C206 . ( 0 ) ) , ( C206 . 3 ) ] in (the InternalRel of D100)) by L1540 , XBOOLE_0:def 3;
assume L1542: (not thesis);
L1543: [ ( C206 . ( 0 ) ) , ( C206 . 3 ) ] in ( id (the carrier of C199) ) by L1542 , L1536 , L1541 , XBOOLE_0:def 3;
L1544: ( C206 . ( 0 ) ) = ( C206 . 3 ) by L1543 , RELAT_1:def 10;
thus L1545: contradiction by L1544 , L1513 , L1517 , L1301 , L1534 , FUNCT_1:def 4;
end;
L1546: [ ( 0 ) , 3 ] in (the InternalRel of D98) by L1537 , L1514 , L1301 , L1534;
L1547: [ ( 0 ) , 3 ] in (the InternalRel of D99) by L544 , ENUMSET1:def 4;
L1548: [ ( 0 ) , 3 ] in ( (the InternalRel of D98) /\ (the InternalRel of D99) ) by L1547 , L1546 , XBOOLE_0:def 4;
L1549: (the InternalRel of D98) meets (the InternalRel of D99) by L1548 , XBOOLE_0:def 7;
thus L1550: thesis by L1549 , L765;
end;
L1551: 1 in (the carrier of D98) by L1300 , ENUMSET1:def 2;
L1552: [ ( C206 . 1 ) , ( C206 . 3 ) ] in (the InternalRel of C199)
proof
assume L1553: (not [ ( C206 . 1 ) , ( C206 . 3 ) ] in (the InternalRel of C199));
L1554: [ ( C206 . 1 ) , ( C206 . 3 ) ] in (the InternalRel of D100)
proof
L1555: (( C206 . 1 ) in (the carrier of D100) & ( C206 . 3 ) in (the carrier of D100)) by L1551 , L1534 , FUNCT_2:5;
L1556: [ ( C206 . 1 ) , ( C206 . 3 ) ] in [: (the carrier of C199) , (the carrier of C199) :] by L1555 , L1299 , ZFMISC_1:87;
L1557: [ ( C206 . 1 ) , ( C206 . 3 ) ] in ( ( ( id (the carrier of C199) ) \/ (the InternalRel of C199) ) \/ (the InternalRel of D100) ) by L1556 , L783;
L1558: ([ ( C206 . 1 ) , ( C206 . 3 ) ] in ( ( id (the carrier of C199) ) \/ (the InternalRel of C199) ) or [ ( C206 . 1 ) , ( C206 . 3 ) ] in (the InternalRel of D100)) by L1557 , XBOOLE_0:def 3;
assume L1559: (not thesis);
L1560: [ ( C206 . 1 ) , ( C206 . 3 ) ] in ( id (the carrier of C199) ) by L1559 , L1553 , L1558 , XBOOLE_0:def 3;
L1561: ( C206 . 1 ) = ( C206 . 3 ) by L1560 , RELAT_1:def 10;
thus L1562: contradiction by L1561 , L1513 , L1517 , L1551 , L1534 , FUNCT_1:def 4;
end;
L1563: [ 1 , 3 ] in (the InternalRel of D98) by L1554 , L1514 , L1551 , L1534;
L1564: [ 1 , 3 ] in (the InternalRel of D99) by L544 , ENUMSET1:def 4;
L1565: [ 1 , 3 ] in ( (the InternalRel of D98) /\ (the InternalRel of D99) ) by L1564 , L1563 , XBOOLE_0:def 4;
L1566: (the InternalRel of D98) meets (the InternalRel of D99) by L1565 , XBOOLE_0:def 7;
thus L1567: thesis by L1566 , L765;
end;
L1568: [ 3 , 2 ] in (the InternalRel of D98) by ENUMSET1:def 4 , NECKLA_2:2;
L1569: [ ( C206 . 3 ) , ( C206 . 2 ) ] in (the InternalRel of D100) by L1568 , L1514 , L1516 , L1534;
L1570: [ 2 , 3 ] in (the InternalRel of D98) by ENUMSET1:def 4 , NECKLA_2:2;
L1571: [ ( C206 . 2 ) , ( C206 . 3 ) ] in (the InternalRel of D100) by L1570 , L1514 , L1516 , L1534;
L1572: [ 1 , 2 ] in (the InternalRel of D98) by ENUMSET1:def 4 , NECKLA_2:2;
L1573: [ ( C206 . 1 ) , ( C206 . 2 ) ] in (the InternalRel of D100) by L1572 , L1514 , L1551 , L1516;
L1574: [ 1 , ( 0 ) ] in (the InternalRel of D98) by ENUMSET1:def 4 , NECKLA_2:2;
L1575: [ ( C206 . 1 ) , ( C206 . ( 0 ) ) ] in (the InternalRel of D100) by L1574 , L1514 , L1301 , L1551;
L1576: [ ( C206 . 2 ) , ( C206 . ( 0 ) ) ] in (the InternalRel of C199)
proof
assume L1577: (not [ ( C206 . 2 ) , ( C206 . ( 0 ) ) ] in (the InternalRel of C199));
L1578: [ ( C206 . 2 ) , ( C206 . ( 0 ) ) ] in (the InternalRel of D100)
proof
L1579: (( C206 . ( 0 ) ) in (the carrier of D100) & ( C206 . 2 ) in (the carrier of D100)) by L1301 , L1516 , FUNCT_2:5;
L1580: [ ( C206 . 2 ) , ( C206 . ( 0 ) ) ] in [: (the carrier of C199) , (the carrier of C199) :] by L1579 , L1299 , ZFMISC_1:87;
L1581: [ ( C206 . 2 ) , ( C206 . ( 0 ) ) ] in ( ( ( id (the carrier of C199) ) \/ (the InternalRel of C199) ) \/ (the InternalRel of D100) ) by L1580 , L783;
L1582: ([ ( C206 . 2 ) , ( C206 . ( 0 ) ) ] in ( ( id (the carrier of C199) ) \/ (the InternalRel of C199) ) or [ ( C206 . 2 ) , ( C206 . ( 0 ) ) ] in (the InternalRel of D100)) by L1581 , XBOOLE_0:def 3;
assume L1583: (not thesis);
L1584: [ ( C206 . 2 ) , ( C206 . ( 0 ) ) ] in ( id (the carrier of C199) ) by L1583 , L1577 , L1582 , XBOOLE_0:def 3;
L1585: ( C206 . ( 0 ) ) = ( C206 . 2 ) by L1584 , RELAT_1:def 10;
thus L1586: contradiction by L1585 , L1513 , L1517 , L1301 , L1516 , FUNCT_1:def 4;
end;
L1587: [ 2 , ( 0 ) ] in (the InternalRel of D98) by L1578 , L1514 , L1301 , L1516;
L1588: [ 2 , ( 0 ) ] in (the InternalRel of D99) by L544 , ENUMSET1:def 4;
L1589: [ 2 , ( 0 ) ] in ( (the InternalRel of D98) /\ (the InternalRel of D99) ) by L1588 , L1587 , XBOOLE_0:def 4;
L1590: (the InternalRel of D98) meets (the InternalRel of D99) by L1589 , XBOOLE_0:def 7;
thus L1591: thesis by L1590 , L765;
end;
L1592: [ ( C206 . 3 ) , ( C206 . ( 0 ) ) ] in (the InternalRel of C199)
proof
assume L1593: (not [ ( C206 . 3 ) , ( C206 . ( 0 ) ) ] in (the InternalRel of C199));
L1594: [ ( C206 . 3 ) , ( C206 . ( 0 ) ) ] in (the InternalRel of D100)
proof
L1595: (( C206 . ( 0 ) ) in (the carrier of D100) & ( C206 . 3 ) in (the carrier of D100)) by L1301 , L1534 , FUNCT_2:5;
L1596: [ ( C206 . 3 ) , ( C206 . ( 0 ) ) ] in [: (the carrier of C199) , (the carrier of C199) :] by L1595 , L1299 , ZFMISC_1:87;
L1597: [ ( C206 . 3 ) , ( C206 . ( 0 ) ) ] in ( ( ( id (the carrier of C199) ) \/ (the InternalRel of C199) ) \/ (the InternalRel of D100) ) by L1596 , L783;
L1598: ([ ( C206 . 3 ) , ( C206 . ( 0 ) ) ] in ( ( id (the carrier of C199) ) \/ (the InternalRel of C199) ) or [ ( C206 . 3 ) , ( C206 . ( 0 ) ) ] in (the InternalRel of D100)) by L1597 , XBOOLE_0:def 3;
assume L1599: (not thesis);
L1600: [ ( C206 . 3 ) , ( C206 . ( 0 ) ) ] in ( id (the carrier of C199) ) by L1599 , L1593 , L1598 , XBOOLE_0:def 3;
L1601: ( C206 . ( 0 ) ) = ( C206 . 3 ) by L1600 , RELAT_1:def 10;
thus L1602: contradiction by L1601 , L1513 , L1517 , L1301 , L1534 , FUNCT_1:def 4;
end;
L1603: [ 3 , ( 0 ) ] in (the InternalRel of D98) by L1594 , L1514 , L1301 , L1534;
L1604: [ 3 , ( 0 ) ] in (the InternalRel of D99) by L544 , ENUMSET1:def 4;
L1605: [ 3 , ( 0 ) ] in ( (the InternalRel of D98) /\ (the InternalRel of D99) ) by L1604 , L1603 , XBOOLE_0:def 4;
L1606: (the InternalRel of D98) meets (the InternalRel of D99) by L1605 , XBOOLE_0:def 7;
thus L1607: thesis by L1606 , L765;
end;
L1608: [ ( C206 . 3 ) , ( C206 . 1 ) ] in (the InternalRel of C199)
proof
assume L1609: (not [ ( C206 . 3 ) , ( C206 . 1 ) ] in (the InternalRel of C199));
L1610: [ ( C206 . 3 ) , ( C206 . 1 ) ] in (the InternalRel of D100)
proof
L1611: (( C206 . 1 ) in (the carrier of D100) & ( C206 . 3 ) in (the carrier of D100)) by L1551 , L1534 , FUNCT_2:5;
L1612: [ ( C206 . 3 ) , ( C206 . 1 ) ] in [: (the carrier of C199) , (the carrier of C199) :] by L1611 , L1299 , ZFMISC_1:87;
L1613: [ ( C206 . 3 ) , ( C206 . 1 ) ] in ( ( ( id (the carrier of C199) ) \/ (the InternalRel of C199) ) \/ (the InternalRel of D100) ) by L1612 , L783;
L1614: ([ ( C206 . 3 ) , ( C206 . 1 ) ] in ( ( id (the carrier of C199) ) \/ (the InternalRel of C199) ) or [ ( C206 . 3 ) , ( C206 . 1 ) ] in (the InternalRel of D100)) by L1613 , XBOOLE_0:def 3;
assume L1615: (not thesis);
L1616: [ ( C206 . 3 ) , ( C206 . 1 ) ] in ( id (the carrier of C199) ) by L1615 , L1609 , L1614 , XBOOLE_0:def 3;
L1617: ( C206 . 1 ) = ( C206 . 3 ) by L1616 , RELAT_1:def 10;
thus L1618: contradiction by L1617 , L1513 , L1517 , L1551 , L1534 , FUNCT_1:def 4;
end;
L1619: [ 3 , 1 ] in (the InternalRel of D98) by L1610 , L1514 , L1551 , L1534;
L1620: [ 3 , 1 ] in (the InternalRel of D99) by L544 , ENUMSET1:def 4;
L1621: [ 3 , 1 ] in ( (the InternalRel of D98) /\ (the InternalRel of D99) ) by L1620 , L1619 , XBOOLE_0:def 4;
L1622: (the InternalRel of D98) meets (the InternalRel of D99) by L1621 , XBOOLE_0:def 7;
thus L1623: thesis by L1622 , L765;
end;
L1624: [ 2 , 1 ] in (the InternalRel of D98) by ENUMSET1:def 4 , NECKLA_2:2;
L1625: [ ( C206 . 2 ) , ( C206 . 1 ) ] in (the InternalRel of D100) by L1624 , L1514 , L1551 , L1516;
L1626: [ ( 0 ) , 1 ] in (the InternalRel of D98) by ENUMSET1:def 4 , NECKLA_2:2;
L1627: [ ( C206 . ( 0 ) ) , ( C206 . 1 ) ] in (the InternalRel of D100) by L1626 , L1514 , L1301 , L1551;
L1628: (for B86 , B87 being (Element of D99) holds ([ B86 , B87 ] in (the InternalRel of D99) iff [ ( C206 . B86 ) , ( C206 . B87 ) ] in (the InternalRel of C199)))
proof
let C208 , C209 being (Element of D99);
L1629: (the carrier of D98) = (the carrier of D99) by NECKLACE:def 8;
thus L1630: ([ C208 , C209 ] in (the InternalRel of D99) implies [ ( C206 . C208 ) , ( C206 . C209 ) ] in (the InternalRel of C199))
proof
assume L1631: [ C208 , C209 ] in (the InternalRel of D99);
per cases  by L1631 , L544 , ENUMSET1:def 4;
suppose L1632: [ C208 , C209 ] = [ ( 0 ) , 2 ];

L1633: C208 = ( 0 ) by L1632 , XTUPLE_0:1;
thus L1634: thesis by L1633 , L1518 , L1632 , XTUPLE_0:1;
end;
suppose L1635: [ C208 , C209 ] = [ 2 , ( 0 ) ];

L1636: C208 = 2 by L1635 , XTUPLE_0:1;
thus L1637: thesis by L1636 , L1576 , L1635 , XTUPLE_0:1;
end;
suppose L1638: [ C208 , C209 ] = [ ( 0 ) , 3 ];

L1639: C208 = ( 0 ) by L1638 , XTUPLE_0:1;
thus L1640: thesis by L1639 , L1535 , L1638 , XTUPLE_0:1;
end;
suppose L1641: [ C208 , C209 ] = [ 3 , ( 0 ) ];

L1642: C208 = 3 by L1641 , XTUPLE_0:1;
thus L1643: thesis by L1642 , L1592 , L1641 , XTUPLE_0:1;
end;
suppose L1644: [ C208 , C209 ] = [ 1 , 3 ];

L1645: C208 = 1 by L1644 , XTUPLE_0:1;
thus L1646: thesis by L1645 , L1552 , L1644 , XTUPLE_0:1;
end;
suppose L1647: [ C208 , C209 ] = [ 3 , 1 ];

L1648: C208 = 3 by L1647 , XTUPLE_0:1;
thus L1649: thesis by L1648 , L1608 , L1647 , XTUPLE_0:1;
end;
end;

assume L1651: [ ( C206 . C208 ) , ( C206 . C209 ) ] in (the InternalRel of C199);
per cases  by L1300 , L1629 , ENUMSET1:def 2;
suppose L1652: (C208 = ( 0 ) & C209 = ( 0 ));

L1653: ( C206 . ( 0 ) ) in (the carrier of C199) by L1652 , L1651 , ZFMISC_1:87;
thus L1654: thesis by L1653 , L1651 , L1652 , NECKLACE:def 5;
end;
suppose L1655: (C208 = ( 0 ) & C209 = 1);

L1656: [ ( C206 . ( 0 ) ) , ( C206 . 1 ) ] in ( (the InternalRel of C199) /\ (the InternalRel of D100) ) by L1655 , L1627 , L1651 , XBOOLE_0:def 4;
L1657: (the InternalRel of C199) meets (the InternalRel of D100) by L1656 , XBOOLE_0:def 7;
thus L1658: thesis by L1657 , L765;
end;
suppose L1659: (C208 = ( 0 ) & C209 = 2);

thus L1660: thesis by L1659 , L544 , ENUMSET1:def 4;
end;
suppose L1661: (C208 = ( 0 ) & C209 = 3);

thus L1662: thesis by L1661 , L544 , ENUMSET1:def 4;
end;
suppose L1663: (C208 = 1 & C209 = ( 0 ));

L1664: [ ( C206 . 1 ) , ( C206 . ( 0 ) ) ] in ( (the InternalRel of C199) /\ (the InternalRel of D100) ) by L1663 , L1575 , L1651 , XBOOLE_0:def 4;
L1665: (the InternalRel of C199) meets (the InternalRel of D100) by L1664 , XBOOLE_0:def 7;
thus L1666: thesis by L1665 , L765;
end;
suppose L1667: (C208 = 2 & C209 = ( 0 ));

thus L1668: thesis by L1667 , L544 , ENUMSET1:def 4;
end;
suppose L1669: (C208 = 3 & C209 = ( 0 ));

thus L1670: thesis by L1669 , L544 , ENUMSET1:def 4;
end;
suppose L1671: (C208 = 1 & C209 = 1);

L1672: ( C206 . 1 ) in (the carrier of C199) by L1671 , L1651 , ZFMISC_1:87;
thus L1673: thesis by L1672 , L1651 , L1671 , NECKLACE:def 5;
end;
suppose L1674: (C208 = 1 & C209 = 2);

L1675: [ ( C206 . 1 ) , ( C206 . 2 ) ] in ( (the InternalRel of C199) /\ (the InternalRel of D100) ) by L1674 , L1573 , L1651 , XBOOLE_0:def 4;
L1676: (the InternalRel of C199) meets (the InternalRel of D100) by L1675 , XBOOLE_0:def 7;
thus L1677: thesis by L1676 , L765;
end;
suppose L1678: (C208 = 1 & C209 = 3);

thus L1679: thesis by L1678 , L544 , ENUMSET1:def 4;
end;
suppose L1680: (C208 = 2 & C209 = 1);

L1681: [ ( C206 . 2 ) , ( C206 . 1 ) ] in ( (the InternalRel of C199) /\ (the InternalRel of D100) ) by L1680 , L1625 , L1651 , XBOOLE_0:def 4;
L1682: (the InternalRel of C199) meets (the InternalRel of D100) by L1681 , XBOOLE_0:def 7;
thus L1683: thesis by L1682 , L765;
end;
suppose L1684: (C208 = 2 & C209 = 2);

L1685: ( C206 . 2 ) in (the carrier of C199) by L1684 , L1651 , ZFMISC_1:87;
thus L1686: thesis by L1685 , L1651 , L1684 , NECKLACE:def 5;
end;
suppose L1687: (C208 = 2 & C209 = 3);

L1688: [ ( C206 . 2 ) , ( C206 . 3 ) ] in ( (the InternalRel of C199) /\ (the InternalRel of D100) ) by L1687 , L1571 , L1651 , XBOOLE_0:def 4;
L1689: (the InternalRel of C199) meets (the InternalRel of D100) by L1688 , XBOOLE_0:def 7;
thus L1690: thesis by L1689 , L765;
end;
suppose L1691: (C208 = 3 & C209 = 1);

thus L1692: thesis by L1691 , L544 , ENUMSET1:def 4;
end;
suppose L1693: (C208 = 3 & C209 = 2);

L1694: [ ( C206 . 3 ) , ( C206 . 2 ) ] in ( (the InternalRel of C199) /\ (the InternalRel of D100) ) by L1693 , L1569 , L1651 , XBOOLE_0:def 4;
L1695: (the InternalRel of C199) meets (the InternalRel of D100) by L1694 , XBOOLE_0:def 7;
thus L1696: thesis by L1695 , L765;
end;
suppose L1697: (C208 = 3 & C209 = 3);

L1698: ( C206 . 3 ) in (the carrier of C199) by L1697 , L1651 , ZFMISC_1:87;
thus L1699: thesis by L1698 , L1651 , L1697 , NECKLACE:def 5;
end;
end;
reconsider D102 = C206 as (Function of D99 , C199) by L1302 , NECKLACE:def 8;
reconsider D103 = ( D102 * C207 ) as (Function of D98 , C199);
L1701: C207 is  one-to-one  monotone by L1515 , WAYBEL_0:def 38;
L1702: (for B88 , B89 being (Element of D98) holds ([ B88 , B89 ] in (the InternalRel of D98) iff [ ( D103 . B88 ) , ( D103 . B89 ) ] in (the InternalRel of C199)))
proof
let C210 , C211 being (Element of D98);
thus L1703: ([ C210 , C211 ] in (the InternalRel of D98) implies [ ( D103 . C210 ) , ( D103 . C211 ) ] in (the InternalRel of C199))
proof
assume L1704: [ C210 , C211 ] in (the InternalRel of D98);
L1705: C210 <= C211 by L1704 , ORDERS_2:def 5;
L1706: ( C207 . C210 ) <= ( C207 . C211 ) by L1705 , L1701 , WAYBEL_1:def 2;
L1707: [ ( C207 . C210 ) , ( C207 . C211 ) ] in (the InternalRel of D99) by L1706 , ORDERS_2:def 5;
L1708: [ ( D102 . ( C207 . C210 ) ) , ( D102 . ( C207 . C211 ) ) ] in (the InternalRel of C199) by L1707 , L1628;
L1709: [ ( ( D102 * C207 ) . C210 ) , ( D102 . ( C207 . C211 ) ) ] in (the InternalRel of C199) by L1708 , FUNCT_2:15;
thus L1710: thesis by L1709 , FUNCT_2:15;
end;

assume L1711: [ ( D103 . C210 ) , ( D103 . C211 ) ] in (the InternalRel of C199);
L1712: [ ( D102 . ( C207 . C210 ) ) , ( D103 . C211 ) ] in (the InternalRel of C199) by L1711 , FUNCT_2:15;
L1713: [ ( D102 . ( C207 . C210 ) ) , ( D102 . ( C207 . C211 ) ) ] in (the InternalRel of C199) by L1712 , FUNCT_2:15;
L1714: [ ( C207 . C210 ) , ( C207 . C211 ) ] in (the InternalRel of D99) by L1713 , L1628;
L1715: ( C207 . C210 ) <= ( C207 . C211 ) by L1714 , ORDERS_2:def 5;
L1716: C210 <= C211 by L1715 , L1515 , WAYBEL_0:66;
thus L1717: thesis by L1716 , ORDERS_2:def 5;
end;
thus L1718: thesis by L1702 , L1513 , L1701 , NECKLACE:def 1;
end;
theorem
L1719: (for B90 being non  empty  irreflexive RelStr holds (B90 is  N-free iff ( ComplRelStr B90 ) is  N-free))
proof
let C212 being non  empty  irreflexive RelStr;
thus L1720: (C212 is  N-free implies ( ComplRelStr C212 ) is  N-free)
proof
assume L1721: C212 is  N-free;
assume L1722: (not thesis);
L1723: ( ComplRelStr C212 ) embeds ( Necklace 4 ) by L1722 , NECKLA_2:def 1;
L1724: C212 embeds ( Necklace 4 ) by L1723 , L1298;
thus L1725: contradiction by L1724 , L1721 , NECKLA_2:def 1;
end;

assume L1726: ( ComplRelStr C212 ) is  N-free;
assume L1727: (not thesis);
L1728: C212 embeds ( Necklace 4 ) by L1727 , NECKLA_2:def 1;
L1729: ( ComplRelStr C212 ) embeds ( Necklace 4 ) by L1728 , L1298;
thus L1730: contradiction by L1729 , L1726 , NECKLA_2:def 1;
end;
begin
definition
let C213 being RelStr;
mode path of C213
 is (RedSequence of (the InternalRel of C213));
end;
definition
let C214 being RelStr;
attr C214 is  path-connected
means
:L1732: (for B91 , B92 being set holds ((B91 in (the carrier of C214) & B92 in (the carrier of C214) & B91 <> B92) implies ((the InternalRel of C214) reduces B91 , B92 or (the InternalRel of C214) reduces B92 , B91)));
end;
registration
cluster  empty ->  path-connected for RelStr;
correctness
proof
let C215 being RelStr;
assume L1734: C215 is  empty;
let C216 , C217 being set;
assume that
L1735: C216 in (the carrier of C215)
and
L1736: C217 in (the carrier of C215)
and
L1737: C216 <> C217;
thus L1738: thesis by L1734 , L1735;
end;
end;
registration
cluster  connected ->  path-connected for non  empty non  empty non  empty non  empty RelStr;
correctness
proof
let C218 being non  empty RelStr;
set D104 = (the carrier of C218);
set D105 = (the InternalRel of C218);
assume L1740: C218 is  connected;
L1741: (for B93 , B94 being set holds ((B93 in (the carrier of C218) & B94 in (the carrier of C218) & B93 <> B94) implies ((the InternalRel of C218) reduces B93 , B94 or (the InternalRel of C218) reduces B94 , B93)))
proof
let C219 , C220 being set;
assume that
L1742: (C219 in D104 & C220 in D104)
and
L1743: C219 <> C220;
reconsider D106 = C219 , D107 = C220 as (Element of C218) by L1742;
L1744: (D106 <= D107 or D107 <= D106) by L1740 , WAYBEL_0:def 29;
per cases  by L1744 , ORDERS_2:def 5;
suppose L1745: [ D106 , D107 ] in D105;

L1746: (( len <* D106 , D107 *> ) = 2 & ( <* D106 , D107 *> . 1 ) = D106) by FINSEQ_1:44;
L1747: ( <* D106 , D107 *> . 2 ) = D107 by FINSEQ_1:44;
L1748: <* D106 , D107 *> is (RedSequence of D105) by L1745 , REWRITE1:7;
thus L1749: thesis by L1748 , L1746 , L1747 , REWRITE1:def 3;
end;
suppose L1750: [ D107 , D106 ] in D105;

L1751: (( len <* D107 , D106 *> ) = 2 & ( <* D107 , D106 *> . 1 ) = D107) by FINSEQ_1:44;
L1752: ( <* D107 , D106 *> . 2 ) = D106 by FINSEQ_1:44;
L1753: <* D107 , D106 *> is (RedSequence of D105) by L1750 , REWRITE1:7;
thus L1754: thesis by L1753 , L1751 , L1752 , REWRITE1:def 3;
end;
end;
thus L1756: thesis by L1741 , L1732;
end;
end;
theorem
L1758: (for B95 being non  empty  transitive  reflexive RelStr holds (for B96 , B97 being (Element of B95) holds ((the InternalRel of B95) reduces B96 , B97 implies [ B96 , B97 ] in (the InternalRel of B95))))
proof
let C221 being non  empty  transitive  reflexive RelStr;
let C222 , C223 being (Element of C221);
set D108 = (the carrier of C221);
set D109 = (the InternalRel of C221);
assume L1759: D109 reduces C222 , C223;
consider C224 being (RedSequence of D109) such that L1760: ( C224 . 1 ) = C222 and L1761: ( C224 . ( len C224 ) ) = C223 by L1759 , REWRITE1:def 3;
reconsider D110 = C224 as FinSequence;
defpred S1[ Nat ] means ($1 in ( dom D110 ) implies [ ( D110 . 1 ) , ( D110 . $1 ) ] in D109);
L1762: D109 is_transitive_in D108 by ORDERS_2:def 3;
L1763: (for B98 being non  empty Nat holds (S1[ B98 ] implies S1[ ( B98 + 1 ) ]))
proof
let C225 being non  empty Nat;
assume that
L1764: S1[ C225 ];
assume L1765: ( C225 + 1 ) in ( dom D110 );
L1766: (C225 <= ( C225 + 1 ) & ( C225 + 1 ) <= ( len D110 )) by L1765 , FINSEQ_3:25 , NAT_1:11;
L1767: (( ( 0 ) + 1 ) <= C225 & C225 <= ( len D110 )) by L1766 , NAT_1:13;
L1768: ( D110 . 1 ) in D108 by L1767 , L1764 , FINSEQ_3:25 , ZFMISC_1:87;
L1769: C225 in ( dom D110 ) by L1767 , FINSEQ_3:25;
L1770: [ ( D110 . C225 ) , ( D110 . ( C225 + 1 ) ) ] in D109 by L1769 , L1765 , REWRITE1:def 2;
L1771: (( D110 . C225 ) in D108 & ( D110 . ( C225 + 1 ) ) in D108) by L1770 , ZFMISC_1:87;
thus L1772: thesis by L1771 , L1762 , L1764 , L1767 , L1770 , L1768 , FINSEQ_3:25 , RELAT_2:def 8;
end;
L1773: D109 is_reflexive_in D108 by ORDERS_2:def 2;
L1774: S1[ 1 ] by L1773 , L1760 , RELAT_2:def 1;
L1775: (for B99 being non  empty Nat holds S1[ B99 ]) from NAT_1:sch 10(L1774 , L1763);
L1776: ( len D110 ) > ( 0 ) by REWRITE1:def 2;
L1777: ( ( 0 ) + 1 ) <= ( len D110 ) by L1776 , NAT_1:13;
L1778: ( len D110 ) in ( dom D110 ) by L1777 , FINSEQ_3:25;
thus L1779: thesis by L1778 , L1760 , L1761 , L1776 , L1775;
end;
registration
cluster  path-connected ->  connected for non  empty  transitive  reflexive non  empty  transitive  reflexive non  empty  transitive  reflexive non  empty  transitive  reflexive RelStr;
correctness
proof
let C226 being non  empty  transitive  reflexive RelStr;
set D111 = (the InternalRel of C226);
assume L1780: C226 is  path-connected;
L1781: (for B100 , B101 being (Element of C226) holds (B100 <= B101 or B101 <= B100))
proof
let C227 , C228 being (Element of C226);
per cases ;
suppose L1782: C227 = C228;

thus L1783: thesis by L1782;
end;
suppose L1784: C227 <> C228;

L1785: (D111 reduces C227 , C228 or D111 reduces C228 , C227) by L1784 , L1780 , L1732;
L1786: ([ C227 , C228 ] in D111 or [ C228 , C227 ] in D111) by L1785 , L1758;
thus L1787: thesis by L1786 , ORDERS_2:def 5;
end;
end;
thus L1789: thesis by L1781 , WAYBEL_0:def 29;
end;
end;
theorem
L1791: (for B102 being  symmetric RelStr holds (for B103 , B104 being set holds ((the InternalRel of B102) reduces B103 , B104 implies (the InternalRel of B102) reduces B104 , B103)))
proof
let C229 being  symmetric RelStr;
set D112 = (the InternalRel of C229);
let C230 , C231 being set;
L1792: D112 = ( D112 ~ ) by RELAT_2:13;
assume L1793: D112 reduces C230 , C231;
consider C232 being (RedSequence of D112) such that L1794: ( C232 . 1 ) = C230 and L1795: ( C232 . ( len C232 ) ) = C231 by L1793 , REWRITE1:def 3;
reconsider D113 = C232 as FinSequence;
L1796: ( ( Rev D113 ) . ( len D113 ) ) = C230 by L1794 , FINSEQ_5:62;
L1797: D112 reduces C231 , C230
proof
reconsider D114 = ( Rev D113 ) as (RedSequence of D112) by L1792 , REWRITE1:9;
L1798: (( D114 . 1 ) = C231 & ( D114 . ( len D114 ) ) = C230) by L1795 , L1796 , FINSEQ_5:62 , FINSEQ_5:def 3;
thus L1799: thesis by L1798 , REWRITE1:def 3;
end;
thus L1800: thesis by L1797;
end;
definition
let C233 being  symmetric RelStr;
redefine attr C233 is  path-connected
means
:L1801: (for B105 , B106 being set holds ((B105 in (the carrier of C233) & B106 in (the carrier of C233) & B105 <> B106) implies (the InternalRel of C233) reduces B105 , B106));
compatibility
proof
set D115 = (the InternalRel of C233);
set D116 = (the carrier of C233);
thus L1802: (C233 is  path-connected implies (for B107 , B108 being set holds ((B107 in (the carrier of C233) & B108 in (the carrier of C233) & B107 <> B108) implies (the InternalRel of C233) reduces B107 , B108)))
proof
assume L1803: C233 is  path-connected;
let C234 , C235 being set;
assume that
L1804: (C234 in D116 & C235 in D116 & C234 <> C235);
per cases  by L1803 , L1804 , L1732;
suppose L1805: D115 reduces C234 , C235;

thus L1806: thesis by L1805;
end;
suppose L1807: D115 reduces C235 , C234;

thus L1808: thesis by L1807 , L1791;
end;
end;

assume L1810: (for B109 , B110 being set holds ((B109 in (the carrier of C233) & B110 in (the carrier of C233) & B109 <> B110) implies D115 reduces B109 , B110));
L1811: (for B111 , B112 being set holds ((B111 in (the carrier of C233) & B112 in (the carrier of C233) & B111 <> B112) implies ((the InternalRel of C233) reduces B111 , B112 or (the InternalRel of C233) reduces B112 , B111))) by L1810;
thus L1812: thesis by L1811 , L1732;
end;
end;
definition
let C236 being RelStr;
let C237 being (Element of C236);
func component C237 -> (Subset of C236) equals 
( Class (( EqCl (the InternalRel of C236) ) , C237) );
coherence;
end;
registration
let C238 being non  empty RelStr;
let C239 being (Element of C238);
cluster ( component C239 ) -> non  empty;
correctness by EQREL_1:20;
end;
theorem
L1816: (for B113 being RelStr holds (for B114 being (Element of B113) holds (for B115 being set holds (B115 in ( component B114 ) implies [ B114 , B115 ] in ( EqCl (the InternalRel of B113) )))))
proof
let C240 being RelStr;
let C241 being (Element of C240);
let C242 being set;
set D117 = (the InternalRel of C240);
assume L1817: C242 in ( component C241 );
L1818: [ C242 , C241 ] in ( EqCl D117 ) by L1817 , EQREL_1:19;
thus L1819: thesis by L1818 , EQREL_1:6;
end;
theorem
L1820: (for B116 being RelStr holds (for B117 being (Element of B116) holds (for B118 being set holds (B118 = ( component B117 ) iff (for B119 being set holds (B119 in B118 iff [ B117 , B119 ] in ( EqCl (the InternalRel of B116) )))))))
proof
let C243 being RelStr;
let C244 being (Element of C243);
let C245 being set;
set D118 = (the InternalRel of C243);
L1821: ((for B120 being set holds (B120 in C245 iff [ C244 , B120 ] in ( EqCl (the InternalRel of C243) ))) implies C245 = ( component C244 ))
proof
assume L1822: (for B121 being set holds (B121 in C245 iff [ C244 , B121 ] in ( EqCl (the InternalRel of C243) )));
L1823: ( component C244 ) c= C245
proof
let C246 being set;
assume L1824: C246 in ( component C244 );
L1825: [ C246 , C244 ] in ( EqCl D118 ) by L1824 , EQREL_1:19;
L1826: [ C244 , C246 ] in ( EqCl D118 ) by L1825 , EQREL_1:6;
thus L1827: thesis by L1826 , L1822;
end;
L1828: C245 c= ( component C244 )
proof
let C247 being set;
assume L1829: C247 in C245;
L1830: [ C244 , C247 ] in ( EqCl D118 ) by L1829 , L1822;
L1831: [ C247 , C244 ] in ( EqCl D118 ) by L1830 , EQREL_1:6;
thus L1832: thesis by L1831 , EQREL_1:19;
end;
thus L1833: thesis by L1828 , L1823 , XBOOLE_0:def 10;
end;
L1834: (C245 = ( component C244 ) implies (for B122 being set holds ([ C244 , B122 ] in ( EqCl D118 ) implies B122 in C245)))
proof
assume L1835: C245 = ( component C244 );
let C248 being set;
assume L1836: [ C244 , C248 ] in ( EqCl D118 );
L1837: [ C248 , C244 ] in ( EqCl D118 ) by L1836 , EQREL_1:6;
thus L1838: thesis by L1837 , L1835 , EQREL_1:19;
end;
thus L1839: thesis by L1834 , L1821 , L1816;
end;
theorem
L1840: (for B123 being non  empty  irreflexive  symmetric RelStr holds ((not B123 is  path-connected) implies (ex B124 , B125 being non  empty  strict  irreflexive  symmetric RelStr st ((the carrier of B124) misses (the carrier of B125) & ( the RelStr of B123 ) = ( union_of (B124 , B125) )))))
proof
let C249 being non  empty  irreflexive  symmetric RelStr;
set D119 = (the carrier of C249);
set D120 = (the InternalRel of C249);
assume L1841: (not C249 is  path-connected);
consider C250 , C251 being set such that L1842: (C250 in D119 & C251 in D119) and L1843: C250 <> C251 and L1844: (not D120 reduces C250 , C251) by L1841 , L1801;
reconsider D121 = C250 , D122 = C251 as (Element of C249) by L1842;
set D123 = ( component D121 );
set D124 = ( (the carrier of C249) \ D123 );
reconsider D125 = D124 as (Subset of C249);
set D126 = ( subrelstr D123 );
set D127 = ( subrelstr D125 );
L1845: (the carrier of D127) = D125 by YELLOW_0:def 15;
L1846: D119 c= ( D123 \/ D125 )
proof
let C252 being set;
assume L1847: C252 in D119;
assume L1848: (not thesis);
L1849: ((not C252 in D123) & (not C252 in D125)) by L1848 , XBOOLE_0:def 3;
thus L1850: contradiction by L1849 , L1847 , XBOOLE_0:def 5;
end;
L1851: D119 = ( D123 \/ D125 ) by L1846 , XBOOLE_0:def 10;
L1852: (the carrier of D126) = D123 by YELLOW_0:def 15;
L1853: (the carrier of D126) misses (the carrier of D127) by L1852 , L1845 , XBOOLE_1:79;
L1854: (the InternalRel of D126) misses (the InternalRel of D127)
proof
set D128 = (the InternalRel of D126);
set D129 = (the InternalRel of D127);
assume L1855: (not thesis);
L1856: ( D128 /\ D129 ) <> ( {} ) by L1855 , XBOOLE_0:def 7;
consider C253 being set such that L1857: C253 in ( D128 /\ D129 ) by L1856 , XBOOLE_0:def 1;
L1858: C253 in D128 by L1857 , XBOOLE_0:def 4;
consider C254 , C255 being set such that L1859: C253 = [ C254 , C255 ] and L1860: C254 in D123 and L1861: C255 in D123 by L1858 , L1852 , RELSET_1:2;
L1862: (ex B126 , B127 being set st (C253 = [ B126 , B127 ] & B126 in D125 & B127 in D125)) by L1845 , L1857 , RELSET_1:2;
L1863: C254 in D125 by L1862 , L1859 , XTUPLE_0:1;
L1864: C254 in ( D123 /\ D125 ) by L1863 , L1860 , XBOOLE_0:def 4;
thus L1865: contradiction by L1864 , L1852 , L1845 , L1853 , XBOOLE_0:def 7;
end;
L1866: (the InternalRel of D127) = ( D120 \ (the InternalRel of D126) )
proof
set D130 = (the InternalRel of D126);
set D131 = (the InternalRel of D127);
thus L1867: D131 c= ( D120 \ D130 )
proof
let C256 being set;
assume L1868: C256 in D131;
consider C257 , C258 being set such that L1869: C256 = [ C257 , C258 ] and L1870: (C257 in D125 & C258 in D125) by L1868 , L1845 , RELSET_1:2;
reconsider D132 = C257 , D133 = C258 as (Element of D127) by L1870 , YELLOW_0:def 15;
reconsider D134 = D132 , D135 = D133 as (Element of C249) by L1870;
L1871: (not C256 in D130)
proof
assume L1872: (not thesis);
L1873: C256 in ( D130 /\ D131 ) by L1872 , L1868 , XBOOLE_0:def 4;
thus L1874: contradiction by L1873 , L1854 , XBOOLE_0:def 7;
end;
L1875: D132 <= D133 by L1868 , L1869 , ORDERS_2:def 5;
L1876: D134 <= D135 by L1875 , YELLOW_0:59;
L1877: C256 in D120 by L1876 , L1869 , ORDERS_2:def 5;
thus L1878: thesis by L1877 , L1871 , XBOOLE_0:def 5;
end;

let C259 being set;
assume L1879: C259 in ( D120 \ D130 );
L1880: C259 in D120 by L1879 , XBOOLE_0:def 5;
L1881: (not C259 in D130) by L1879 , XBOOLE_0:def 5;
consider C260 , C261 being set such that L1882: C259 = [ C260 , C261 ] and L1883: (C260 in D119 & C261 in D119) by L1879 , RELSET_1:2;
reconsider D136 = C260 , D137 = C261 as (Element of C249) by L1883;
L1884: D136 <= D137 by L1880 , L1882 , ORDERS_2:def 5;
per cases  by L1851 , XBOOLE_0:def 3;
suppose L1885: (D136 in D123 & D137 in D123);

reconsider D138 = D137 as (Element of D126) by L1885 , YELLOW_0:def 15;
reconsider D139 = D136 as (Element of D126) by L1885 , YELLOW_0:def 15;
L1886: D139 <= D138 by L1852 , L1884 , YELLOW_0:60;
thus L1887: thesis by L1886 , L1881 , L1882 , ORDERS_2:def 5;
end;
suppose L1888: (D136 in D123 & D137 in D125);

L1889: [: D123 , D125 :] misses D120
proof
assume L1890: (not thesis);
L1891: ( [: D123 , D125 :] /\ D120 ) <> ( {} ) by L1890 , XBOOLE_0:def 7;
consider C262 being set such that L1892: C262 in ( [: D123 , D125 :] /\ D120 ) by L1891 , XBOOLE_0:def 1;
L1893: C262 in D120 by L1892 , XBOOLE_0:def 4;
L1894: C262 in [: D123 , D125 :] by L1892 , XBOOLE_0:def 4;
consider C263 , C264 being set such that L1895: C263 in D123 and L1896: C264 in D125 and L1897: C262 = [ C263 , C264 ] by L1894 , ZFMISC_1:def 2;
reconsider D140 = C264 as (Element of C249) by L1896;
reconsider D141 = C263 as (Element of C249) by L1895;
L1898: (D120 c= ( EqCl D120 ) & [ D121 , D141 ] in ( EqCl D120 )) by L1895 , L1820 , MSUALG_5:def 1;
L1899: [ D121 , D140 ] in ( EqCl D120 ) by L1898 , L1893 , L1897 , EQREL_1:7;
L1900: D140 in D123 by L1899 , L1820;
L1901: D140 in ( D123 /\ D125 ) by L1900 , L1896 , XBOOLE_0:def 4;
thus L1902: thesis by L1901 , L1852 , L1845 , L1853 , XBOOLE_0:def 7;
end;
L1903: C259 in [: D123 , D125 :] by L1882 , L1888 , ZFMISC_1:def 2;
L1904: C259 in ( [: D123 , D125 :] /\ D120 ) by L1903 , L1880 , XBOOLE_0:def 4;
thus L1905: thesis by L1904 , L1889 , XBOOLE_0:def 7;
end;
suppose L1906: (D136 in D125 & D137 in D123);

L1907: [: D125 , D123 :] misses D120
proof
assume L1908: (not thesis);
L1909: ( [: D125 , D123 :] /\ D120 ) <> ( {} ) by L1908 , XBOOLE_0:def 7;
consider C265 being set such that L1910: C265 in ( [: D125 , D123 :] /\ D120 ) by L1909 , XBOOLE_0:def 1;
L1911: C265 in [: D125 , D123 :] by L1910 , XBOOLE_0:def 4;
consider C266 , C267 being set such that L1912: C266 in D125 and L1913: C267 in D123 and L1914: C265 = [ C266 , C267 ] by L1911 , ZFMISC_1:def 2;
reconsider D142 = C266 as (Element of C249) by L1912;
reconsider D143 = C267 as (Element of C249) by L1913;
L1915: [ D121 , D143 ] in ( EqCl D120 ) by L1913 , L1820;
L1916: D120 c= ( EqCl D120 ) by MSUALG_5:def 1;
L1917: C265 in D120 by L1910 , XBOOLE_0:def 4;
L1918: [ D143 , D142 ] in ( EqCl D120 ) by L1917 , L1914 , L1916 , EQREL_1:6;
L1919: [ D121 , D142 ] in ( EqCl D120 ) by L1918 , L1915 , EQREL_1:7;
L1920: D142 in D123 by L1919 , L1820;
L1921: D142 in ( D123 /\ D125 ) by L1920 , L1912 , XBOOLE_0:def 4;
thus L1922: thesis by L1921 , L1852 , L1845 , L1853 , XBOOLE_0:def 7;
end;
L1923: C259 in [: D125 , D123 :] by L1882 , L1906 , ZFMISC_1:def 2;
L1924: C259 in ( [: D125 , D123 :] /\ D120 ) by L1923 , L1880 , XBOOLE_0:def 4;
thus L1925: thesis by L1924 , L1907 , XBOOLE_0:def 7;
end;
suppose L1926: (D136 in D125 & D137 in D125);

reconsider D144 = D137 as (Element of D127) by L1926 , YELLOW_0:def 15;
reconsider D145 = D136 as (Element of D127) by L1926 , YELLOW_0:def 15;
L1927: D145 <= D144 by L1845 , L1884 , L1926 , YELLOW_0:60;
thus L1928: thesis by L1927 , L1882 , ORDERS_2:def 5;
end;
end;
L1930: D120 = ( (the InternalRel of D126) \/ (the InternalRel of D127) )
proof
set D146 = (the InternalRel of D126);
set D147 = (the InternalRel of D127);
thus L1931: D120 c= ( D146 \/ D147 )
proof
let C268 being set;
assume L1932: C268 in D120;
assume L1933: (not thesis);
L1934: ((not C268 in D146) & (not C268 in D147)) by L1933 , XBOOLE_0:def 3;
thus L1935: contradiction by L1934 , L1866 , L1932 , XBOOLE_0:def 5;
end;

let C269 being set;
assume L1936: C269 in ( D146 \/ D147 );
per cases  by L1936 , XBOOLE_0:def 3;
suppose L1937: C269 in D146;

consider C270 , C271 being set such that L1938: C269 = [ C270 , C271 ] and L1939: (C270 in D123 & C271 in D123) by L1937 , L1852 , RELSET_1:2;
reconsider D148 = C270 , D149 = C271 as (Element of D126) by L1939 , YELLOW_0:def 15;
reconsider D150 = D148 , D151 = D149 as (Element of C249) by L1939;
L1940: D148 <= D149 by L1937 , L1938 , ORDERS_2:def 5;
L1941: D150 <= D151 by L1940 , YELLOW_0:59;
thus L1942: thesis by L1941 , L1938 , ORDERS_2:def 5;
end;
suppose L1943: C269 in D147;

consider C272 , C273 being set such that L1944: C269 = [ C272 , C273 ] and L1945: (C272 in D125 & C273 in D125) by L1943 , L1845 , RELSET_1:2;
reconsider D152 = C272 , D153 = C273 as (Element of D127) by L1945 , YELLOW_0:def 15;
reconsider D154 = D152 , D155 = D153 as (Element of C249) by L1945;
L1946: D152 <= D153 by L1943 , L1944 , ORDERS_2:def 5;
L1947: D154 <= D155 by L1946 , YELLOW_0:59;
thus L1948: thesis by L1947 , L1944 , ORDERS_2:def 5;
end;
end;
L1950: D120 = (the InternalRel of ( union_of (D126 , D127) )) by L1930 , NECKLA_2:def 2;
L1951: D120 = ( D120 ~ ) by RELAT_2:13;
L1952: (not ( D120 \/ ( D120 ~ ) ) reduces D121 , D122) by L1951 , L1844;
L1953: (not D121 , D122 are_convertible_wrt D120) by L1952 , REWRITE1:def 4;
L1954: (not [ D121 , D122 ] in ( EqCl D120 )) by L1953 , MSUALG_6:41;
L1955: (not D122 in D123) by L1954 , L1820;
L1956: D127 is non  empty  strict non  empty  strict non  empty  strict non  empty  strict RelStr by L1955 , L1845 , XBOOLE_0:def 5;
L1957: D119 = (the carrier of ( union_of (D126 , D127) )) by L1852 , L1845 , L1851 , NECKLA_2:def 2;
thus L1958: thesis by L1957 , L1852 , L1853 , L1956 , L1950;
end;
theorem
L1959: (for B128 being non  empty  irreflexive  symmetric RelStr holds ((not ( ComplRelStr B128 ) is  path-connected) implies (ex B129 , B130 being non  empty  strict  irreflexive  symmetric RelStr st ((the carrier of B129) misses (the carrier of B130) & ( the RelStr of B128 ) = ( sum_of (B129 , B130) )))))
proof
let C274 being non  empty  irreflexive  symmetric RelStr;
set D156 = (the carrier of C274);
set D157 = (the InternalRel of C274);
set D158 = ( ComplRelStr C274 );
set D159 = (the InternalRel of ( ComplRelStr C274 ));
set D160 = (the carrier of ( ComplRelStr C274 ));
assume L1960: (not D158 is  path-connected);
consider C275 , C276 being set such that L1961: C275 in D160 and L1962: C276 in D160 and L1963: C275 <> C276 and L1964: (not D159 reduces C275 , C276) by L1960 , L1801;
reconsider D161 = C275 , D162 = C276 as (Element of D158) by L1961 , L1962;
set D163 = ( component D161 );
set D164 = ( (the carrier of C274) \ D163 );
reconsider D165 = D163 as (Subset of C274) by NECKLACE:def 8;
L1965: D159 = ( D159 ~ ) by RELAT_2:13;
L1966: (not ( D159 \/ ( D159 ~ ) ) reduces D161 , D162) by L1965 , L1964;
L1967: (not D161 , D162 are_convertible_wrt D159) by L1966 , REWRITE1:def 4;
L1968: (not [ D161 , D162 ] in ( EqCl D159 )) by L1967 , MSUALG_6:41;
L1969: (not D162 in D165) by L1968 , L1820;
reconsider D166 = D164 as (Subset of C274);
set D167 = ( subrelstr D165 );
set D168 = ( subrelstr D166 );
L1970: (the carrier of D167) = D165 by YELLOW_0:def 15;
set D169 = (the InternalRel of D167);
set D170 = (the InternalRel of D168);
set D171 = [: (the carrier of D167) , (the carrier of D168) :];
set D172 = [: (the carrier of D168) , (the carrier of D167) :];
L1971: D156 = ( D165 \/ D166 )
proof
thus L1972: D156 c= ( D165 \/ D166 )
proof
let C277 being set;
assume L1973: C277 in D156;
assume L1974: (not thesis);
L1975: ((not C277 in D165) & (not C277 in D166)) by L1974 , XBOOLE_0:def 3;
thus L1976: contradiction by L1975 , L1973 , XBOOLE_0:def 5;
end;

let C278 being set;
assume L1977: C278 in ( D165 \/ D166 );
per cases  by L1977 , XBOOLE_0:def 3;
suppose L1978: C278 in D165;

thus L1979: thesis by L1978;
end;
suppose L1980: C278 in D166;

thus L1981: thesis by L1980;
end;
end;
L1983: (the carrier of D168) = D166 by YELLOW_0:def 15;
L1984: (the carrier of D167) misses (the carrier of D168) by L1983 , L1970 , XBOOLE_1:79;
L1985: (the InternalRel of D167) misses (the InternalRel of D168)
proof
assume L1986: (not thesis);
L1987: ( D169 /\ D170 ) <> ( {} ) by L1986 , XBOOLE_0:def 7;
consider C279 being set such that L1988: C279 in ( D169 /\ D170 ) by L1987 , XBOOLE_0:def 1;
L1989: C279 in D169 by L1988 , XBOOLE_0:def 4;
consider C280 , C281 being set such that L1990: C279 = [ C280 , C281 ] and L1991: C280 in D165 and L1992: C281 in D165 by L1989 , L1970 , RELSET_1:2;
L1993: (ex B131 , B132 being set st (C279 = [ B131 , B132 ] & B131 in D166 & B132 in D166)) by L1983 , L1988 , RELSET_1:2;
L1994: C280 in D166 by L1993 , L1990 , XTUPLE_0:1;
L1995: C280 in ( D165 /\ D166 ) by L1994 , L1991 , XBOOLE_0:def 4;
thus L1996: contradiction by L1995 , L1970 , L1983 , L1984 , XBOOLE_0:def 7;
end;
L1997: (the InternalRel of D168) = ( ( ( D157 \ D169 ) \ D171 ) \ D172 )
proof
thus L1998: D170 c= ( ( ( D157 \ D169 ) \ D171 ) \ D172 )
proof
let C282 being set;
assume L1999: C282 in D170;
consider C283 , C284 being set such that L2000: C282 = [ C283 , C284 ] and L2001: C283 in D166 and L2002: C284 in D166 by L1999 , L1983 , RELSET_1:2;
reconsider D173 = C283 , D174 = C284 as (Element of D168) by L2001 , L2002 , YELLOW_0:def 15;
reconsider D175 = D173 , D176 = D174 as (Element of C274) by L2001 , L2002;
L2003: (not C282 in D169)
proof
assume L2004: (not thesis);
L2005: C282 in ( D169 /\ D170 ) by L2004 , L1999 , XBOOLE_0:def 4;
thus L2006: contradiction by L2005 , L1985 , XBOOLE_0:def 7;
end;
L2007: (not C282 in D172)
proof
assume L2008: C282 in D172;
L2009: D174 in D165 by L2008 , L1970 , L2000 , ZFMISC_1:87;
L2010: D174 in ( D165 /\ D166 ) by L2009 , L2002 , XBOOLE_0:def 4;
thus L2011: thesis by L2010 , L1970 , L1983 , L1984 , XBOOLE_0:def 7;
end;
L2012: (not C282 in D171)
proof
assume L2013: C282 in D171;
L2014: D173 in D165 by L2013 , L1970 , L2000 , ZFMISC_1:87;
L2015: D173 in ( D165 /\ D166 ) by L2014 , L2001 , XBOOLE_0:def 4;
thus L2016: thesis by L2015 , L1970 , L1983 , L1984 , XBOOLE_0:def 7;
end;
L2017: D173 <= D174 by L1999 , L2000 , ORDERS_2:def 5;
L2018: D175 <= D176 by L2017 , YELLOW_0:59;
L2019: C282 in D157 by L2018 , L2000 , ORDERS_2:def 5;
L2020: C282 in ( D157 \ D169 ) by L2019 , L2003 , XBOOLE_0:def 5;
L2021: C282 in ( ( D157 \ D169 ) \ D171 ) by L2020 , L2012 , XBOOLE_0:def 5;
thus L2022: thesis by L2021 , L2007 , XBOOLE_0:def 5;
end;

let C285 being set;
assume L2023: C285 in ( ( ( D157 \ D169 ) \ D171 ) \ D172 );
L2024: (not C285 in D172) by L2023 , XBOOLE_0:def 5;
L2025: C285 in ( ( D157 \ D169 ) \ D171 ) by L2023 , XBOOLE_0:def 5;
L2026: C285 in ( D157 \ D169 ) by L2025 , XBOOLE_0:def 5;
L2027: (not C285 in D169) by L2026 , XBOOLE_0:def 5;
L2028: (not C285 in D171) by L2025 , XBOOLE_0:def 5;
consider C286 , C287 being set such that L2029: C285 = [ C286 , C287 ] and L2030: (C286 in D156 & C287 in D156) by L2023 , RELSET_1:2;
reconsider D177 = C286 , D178 = C287 as (Element of C274) by L2030;
L2031: C285 in D157 by L2026 , XBOOLE_0:def 5;
L2032: D177 <= D178 by L2031 , L2029 , ORDERS_2:def 5;
per cases  by L1971 , XBOOLE_0:def 3;
suppose L2033: (D177 in D165 & D178 in D165);

reconsider D179 = D178 as (Element of D167) by L2033 , YELLOW_0:def 15;
reconsider D180 = D177 as (Element of D167) by L2033 , YELLOW_0:def 15;
L2034: D180 <= D179 by L1970 , L2032 , YELLOW_0:60;
thus L2035: thesis by L2034 , L2027 , L2029 , ORDERS_2:def 5;
end;
suppose L2036: (D177 in D165 & D178 in D166);

thus L2037: thesis by L2036 , L1970 , L1983 , L2028 , L2029 , ZFMISC_1:87;
end;
suppose L2038: (D177 in D166 & D178 in D165);

thus L2039: thesis by L2038 , L1970 , L1983 , L2024 , L2029 , ZFMISC_1:87;
end;
suppose L2040: (D177 in D166 & D178 in D166);

reconsider D181 = D177 , D182 = D178 as (Element of D168) by L2040 , YELLOW_0:def 15;
L2041: D181 <= D182 by L1983 , L2032 , L2040 , YELLOW_0:60;
thus L2042: thesis by L2041 , L2029 , ORDERS_2:def 5;
end;
end;
L2044: D157 = ( ( ( (the InternalRel of D167) \/ (the InternalRel of D168) ) \/ [: (the carrier of D167) , (the carrier of D168) :] ) \/ [: (the carrier of D168) , (the carrier of D167) :] )
proof
set D183 = [: (the carrier of D167) , (the carrier of D168) :];
set D184 = [: (the carrier of D168) , (the carrier of D167) :];
thus L2045: D157 c= ( ( ( D169 \/ D170 ) \/ D183 ) \/ D184 )
proof
let C288 being set;
assume L2046: C288 in D157;
assume L2047: (not thesis);
L2048: (not C288 in ( ( D169 \/ D170 ) \/ D183 )) by L2047 , XBOOLE_0:def 3;
L2049: (not C288 in ( D169 \/ D170 )) by L2048 , XBOOLE_0:def 3;
L2050: (not C288 in D170) by L2049 , XBOOLE_0:def 3;
L2051: ((not C288 in ( ( D157 \ D169 ) \ D183 )) or C288 in D184) by L2050 , L1997 , XBOOLE_0:def 5;
L2052: ((not C288 in ( D157 \ D169 )) or C288 in D183 or C288 in D184) by L2051 , XBOOLE_0:def 5;
L2053: (not C288 in D169) by L2049 , XBOOLE_0:def 3;
thus L2054: thesis by L2053 , L2046 , L2047 , L2048 , L2052 , XBOOLE_0:def 3 , XBOOLE_0:def 5;
end;

let C289 being set;
assume L2055: C289 in ( ( ( D169 \/ D170 ) \/ D183 ) \/ D184 );
L2056: (C289 in ( ( D169 \/ D170 ) \/ D183 ) or C289 in D184) by L2055 , XBOOLE_0:def 3;
L2057: (C289 in ( D169 \/ D170 ) or C289 in D183 or C289 in D184) by L2056 , XBOOLE_0:def 3;
per cases  by L2057 , XBOOLE_0:def 3;
suppose L2058: C289 in D169;

consider C290 , C291 being set such that L2059: C289 = [ C290 , C291 ] and L2060: (C290 in D165 & C291 in D165) by L2058 , L1970 , RELSET_1:2;
reconsider D185 = C290 , D186 = C291 as (Element of D167) by L2060 , YELLOW_0:def 15;
reconsider D187 = D185 , D188 = D186 as (Element of C274) by L2060;
L2061: D185 <= D186 by L2058 , L2059 , ORDERS_2:def 5;
L2062: D187 <= D188 by L2061 , YELLOW_0:59;
thus L2063: thesis by L2062 , L2059 , ORDERS_2:def 5;
end;
suppose L2064: C289 in D170;

consider C292 , C293 being set such that L2065: C289 = [ C292 , C293 ] and L2066: (C292 in D166 & C293 in D166) by L2064 , L1983 , RELSET_1:2;
reconsider D189 = C292 , D190 = C293 as (Element of D168) by L2066 , YELLOW_0:def 15;
reconsider D191 = D189 , D192 = D190 as (Element of C274) by L2066;
L2067: D189 <= D190 by L2064 , L2065 , ORDERS_2:def 5;
L2068: D191 <= D192 by L2067 , YELLOW_0:59;
thus L2069: thesis by L2068 , L2065 , ORDERS_2:def 5;
end;
suppose L2070: C289 in D183;

assume L2071: (not thesis);
consider C294 , C295 being set such that L2072: C289 = [ C294 , C295 ] by L2070 , RELAT_1:def 1;
L2073: C295 in D166 by L1983 , L2070 , L2072 , ZFMISC_1:87;
L2074: C294 in D165 by L1970 , L2070 , L2072 , ZFMISC_1:87;
reconsider D193 = C294 , D194 = C295 as (Element of D158) by L2074 , L2073 , NECKLACE:def 8;
L2075: D193 <> D194
proof
assume L2076: D193 = D194;
L2077: ( D165 /\ D166 ) = ( {} ) by L1970 , L1983 , L1984 , XBOOLE_0:def 7;
thus L2078: thesis by L2077 , L2074 , L2073 , L2076 , XBOOLE_0:def 4;
end;
L2079: (not C289 in ( id D156 )) by L2075 , L2072 , RELAT_1:def 10;
L2080: [ D193 , D194 ] in [: D156 , D156 :] by L2074 , L2073 , ZFMISC_1:87;
L2081: C289 in ( [: D156 , D156 :] \ D157 ) by L2080 , L2072 , L2071 , XBOOLE_0:def 5;
L2082: C289 in ( D157 ` ) by L2081 , SUBSET_1:def 4;
L2083: C289 in ( ( D157 ` ) \ ( id D156 ) ) by L2082 , L2079 , XBOOLE_0:def 5;
L2084: [ D193 , D194 ] in D159 by L2083 , L2072 , NECKLACE:def 8;
L2085: D193 , D194 are_convertible_wrt D159 by L2084 , REWRITE1:29;
L2086: [ D193 , D194 ] in ( EqCl D159 ) by L2085 , MSUALG_6:41;
L2087: [ D161 , D193 ] in ( EqCl D159 ) by L2074 , L1820;
L2088: [ D161 , D194 ] in ( EqCl D159 ) by L2087 , L2086 , EQREL_1:7;
L2089: D194 in ( component D161 ) by L2088 , L1820;
L2090: D194 in ( D165 /\ D166 ) by L2089 , L2073 , XBOOLE_0:def 4;
thus L2091: thesis by L2090 , L1970 , L1983 , L1984 , XBOOLE_0:def 7;
end;
suppose L2092: C289 in D184;

assume L2093: (not thesis);
consider C296 , C297 being set such that L2094: C289 = [ C296 , C297 ] by L2092 , RELAT_1:def 1;
L2095: C297 in D165 by L1970 , L2092 , L2094 , ZFMISC_1:87;
L2096: C296 in D166 by L1983 , L2092 , L2094 , ZFMISC_1:87;
reconsider D195 = C296 , D196 = C297 as (Element of D158) by L2096 , L2095 , NECKLACE:def 8;
L2097: D195 <> D196
proof
assume L2098: D195 = D196;
L2099: ( D165 /\ D166 ) = ( {} ) by L1970 , L1983 , L1984 , XBOOLE_0:def 7;
thus L2100: thesis by L2099 , L2096 , L2095 , L2098 , XBOOLE_0:def 4;
end;
L2101: (not C289 in ( id D156 )) by L2097 , L2094 , RELAT_1:def 10;
L2102: [ D195 , D196 ] in [: D156 , D156 :] by L2096 , L2095 , ZFMISC_1:87;
L2103: C289 in ( [: D156 , D156 :] \ D157 ) by L2102 , L2094 , L2093 , XBOOLE_0:def 5;
L2104: C289 in ( D157 ` ) by L2103 , SUBSET_1:def 4;
L2105: C289 in ( ( D157 ` ) \ ( id D156 ) ) by L2104 , L2101 , XBOOLE_0:def 5;
L2106: [ D195 , D196 ] in D159 by L2105 , L2094 , NECKLACE:def 8;
L2107: D195 , D196 are_convertible_wrt D159 by L2106 , REWRITE1:29;
L2108: [ D195 , D196 ] in ( EqCl D159 ) by L2107 , MSUALG_6:41;
L2109: [ D196 , D195 ] in ( EqCl D159 ) by L2108 , EQREL_1:6;
L2110: [ D161 , D196 ] in ( EqCl D159 ) by L2095 , L1820;
L2111: [ D161 , D195 ] in ( EqCl D159 ) by L2110 , L2109 , EQREL_1:7;
L2112: D195 in ( component D161 ) by L2111 , L1820;
L2113: D195 in ( D165 /\ D166 ) by L2112 , L2096 , XBOOLE_0:def 4;
thus L2114: thesis by L2113 , L1970 , L1983 , L1984 , XBOOLE_0:def 7;
end;
end;
L2116: D157 = (the InternalRel of ( sum_of (D167 , D168) )) by L2044 , NECKLA_2:def 3;
L2117: D162 in D156 by L1962 , NECKLACE:def 8;
L2118: D168 is non  empty  strict non  empty  strict non  empty  strict non  empty  strict RelStr by L2117 , L1983 , L1969 , XBOOLE_0:def 5;
L2119: D156 = (the carrier of ( sum_of (D167 , D168) )) by L1970 , L1983 , L1971 , NECKLA_2:def 3;
thus L2120: thesis by L2119 , L1970 , L1984 , L2118 , L2116;
end;
L2121: (for B133 being non  empty  finite set holds (for B134 , B135 being non  empty set holds ((B133 = ( B134 \/ B135 ) & B134 misses B135) implies ( card B134 ) in ( card B133 ))))
proof
let C298 being non  empty  finite set;
let C299 , C300 being non  empty set;
set D197 = ( card C298 );
assume that
L2122: C298 = ( C299 \/ C300 )
and
L2123: C299 misses C300;
L2124: ( card C300 ) c= D197 by L2122 , CARD_1:11 , XBOOLE_1:7;
reconsider D198 = C300 as  finite set by L2124;
L2125: ( card C299 ) c= D197 by L2122 , CARD_1:11 , XBOOLE_1:7;
reconsider D199 = C299 as  finite set by L2125;
L2126: ( card D198 ) >= 1 by NAT_1:14;
L2127: D197 = ( ( card D199 ) + ( card D198 ) ) by L2122 , L2123 , CARD_2:40;
L2128: ( card D199 ) < D197
proof
assume L2129: (not thesis);
L2130: ( ( card D199 ) + ( card D198 ) ) >= ( D197 + 1 ) by L2129 , L2126 , XREAL_1:7;
thus L2131: thesis by L2130 , L2127 , NAT_1:13;
end;
thus L2132: thesis by L2128 , NAT_1:44;
end;
theorem
L2133: (for B136 being  irreflexive RelStr holds (B136 in ( fin_RelStr_sp ) implies ( ComplRelStr B136 ) in ( fin_RelStr_sp )))
proof
defpred S2[ Nat ] means (for B137 being  irreflexive RelStr holds ((( card (the carrier of B137) ) = $1 & B137 in ( fin_RelStr_sp )) implies ( ComplRelStr B137 ) in ( fin_RelStr_sp )));
let C301 being  irreflexive RelStr;
L2134: (for B138 being Nat holds ((for B139 being Nat holds (B139 < B138 implies S2[ B139 ])) implies S2[ B138 ]))
proof
let C302 being Nat;
assume that
L2135: (for B140 being Nat holds (B140 < C302 implies S2[ B140 ]));
let C303 being  irreflexive RelStr;
assume that
L2136: ( card (the carrier of C303) ) = C302
and
L2137: C303 in ( fin_RelStr_sp );
per cases  by L2137 , NECKLA_2:6;
suppose L2138: C303 is  strict 1 -element  strict 1 -element  strict 1 -element  strict 1 -element RelStr;

thus L2139: thesis by L2138 , L2137 , L807;
end;
suppose L2140: (ex B141 , B142 being  strict RelStr st ((the carrier of B141) misses (the carrier of B142) & B141 in ( fin_RelStr_sp ) & B142 in ( fin_RelStr_sp ) & (C303 = ( union_of (B141 , B142) ) or C303 = ( sum_of (B141 , B142) ))));

consider C304 , C305 being  strict RelStr such that L2141: (the carrier of C304) misses (the carrier of C305) and L2142: C304 in ( fin_RelStr_sp ) and L2143: C305 in ( fin_RelStr_sp ) and L2144: (C303 = ( union_of (C304 , C305) ) or C303 = ( sum_of (C304 , C305) )) by L2140;
L2145: C305 is non  empty  finite by L2143 , NECKLA_2:4;
reconsider D200 = ( card (the carrier of C305) ) as Nat by L2145;
L2146: C304 is non  empty  finite by L2142 , NECKLA_2:4;
reconsider D201 = ( card (the carrier of C304) ) as Nat by L2146;
thus L2147: thesis
proof
per cases  by L2144;
suppose L2148: C303 = ( union_of (C304 , C305) );

reconsider D202 = C305 as  irreflexive RelStr by L2148 , L376;
reconsider D203 = C304 as  irreflexive RelStr by L2148 , L376;
reconsider D204 = (the carrier of D203) as non  empty  finite set by L2146;
reconsider D205 = (the carrier of D202) as non  empty  finite set by L2145;
L2149: (the carrier of C303) = ( (the carrier of D203) \/ (the carrier of D202) ) by L2148 , NECKLA_2:def 2;
L2150: ( card (the carrier of C303) ) = ( ( card D204 ) + ( card D205 ) ) by L2149 , L2141 , CARD_2:40;
L2151: ( card D204 ) = D201;
L2152: D200 < C302
proof
assume L2153: (not thesis);
L2154: ( C302 + ( 0 ) ) < ( D201 + D200 ) by L2153 , L2151 , XREAL_1:8;
thus L2155: thesis by L2154 , L2136 , L2150;
end;
L2156: ( ComplRelStr D202 ) in ( fin_RelStr_sp ) by L2152 , L2135 , L2143;
L2157: ((the carrier of ( ComplRelStr D203 )) = (the carrier of D203) & (the carrier of ( ComplRelStr D202 )) = (the carrier of D202)) by NECKLACE:def 8;
L2158: ( card D205 ) = D200;
L2159: D201 < C302
proof
assume L2160: (not thesis);
L2161: ( C302 + ( 0 ) ) < ( D200 + D201 ) by L2160 , L2158 , XREAL_1:8;
thus L2162: thesis by L2161 , L2136 , L2150;
end;
L2163: ( ComplRelStr D203 ) in ( fin_RelStr_sp ) by L2159 , L2135 , L2142;
L2164: ( ComplRelStr C303 ) = ( sum_of (( ComplRelStr D203 ) , ( ComplRelStr D202 )) ) by L2141 , L2148 , L847;
thus L2165: thesis by L2164 , L2141 , L2163 , L2156 , L2157 , NECKLA_2:def 5;
end;
suppose L2166: C303 = ( sum_of (C304 , C305) );

reconsider D206 = C305 as  irreflexive RelStr by L2166 , L376;
reconsider D207 = C304 as  irreflexive RelStr by L2166 , L376;
reconsider D208 = (the carrier of D207) as non  empty  finite set by L2146;
reconsider D209 = (the carrier of D206) as non  empty  finite set by L2145;
L2167: (the carrier of C303) = ( (the carrier of D207) \/ (the carrier of D206) ) by L2166 , NECKLA_2:def 3;
L2168: ( card (the carrier of C303) ) = ( ( card D208 ) + ( card D209 ) ) by L2167 , L2141 , CARD_2:40;
L2169: ( card D208 ) = D201;
L2170: D200 < C302
proof
assume L2171: (not thesis);
L2172: ( C302 + ( 0 ) ) < ( D201 + D200 ) by L2171 , L2169 , XREAL_1:8;
thus L2173: thesis by L2172 , L2136 , L2168;
end;
L2174: ( ComplRelStr D206 ) in ( fin_RelStr_sp ) by L2170 , L2135 , L2143;
L2175: ((the carrier of ( ComplRelStr D207 )) = (the carrier of D207) & (the carrier of ( ComplRelStr D206 )) = (the carrier of D206)) by NECKLACE:def 8;
L2176: ( card D209 ) = D200;
L2177: D201 < C302
proof
assume L2178: (not thesis);
L2179: ( C302 + ( 0 ) ) < ( D200 + D201 ) by L2178 , L2176 , XREAL_1:8;
thus L2180: thesis by L2179 , L2136 , L2168;
end;
L2181: ( ComplRelStr D207 ) in ( fin_RelStr_sp ) by L2177 , L2135 , L2142;
L2182: ( ComplRelStr C303 ) = ( union_of (( ComplRelStr D207 ) , ( ComplRelStr D206 )) ) by L2141 , L2166 , L1061;
thus L2183: thesis by L2182 , L2141 , L2181 , L2174 , L2175 , NECKLA_2:def 5;
end;
end;

end;
end;
L2149: (for B143 being Nat holds S2[ B143 ]) from NAT_1:sch 4(L2134);
assume L2150: C301 in ( fin_RelStr_sp );
L2151: C301 is  finite by L2150 , NECKLA_2:4;
L2152: ( card (the carrier of C301) ) is Nat by L2151;
thus L2153: thesis by L2152 , L2150 , L2149;
end;
theorem
L2154: (for B144 being  irreflexive  symmetric RelStr holds ((( card (the carrier of B144) ) = 2 & (the carrier of B144) in ( FinSETS )) implies ( the RelStr of B144 ) in ( fin_RelStr_sp )))
proof
let C306 being  irreflexive  symmetric RelStr;
assume that
L2155: ( card (the carrier of C306) ) = 2
and
L2156: (the carrier of C306) in ( FinSETS );
consider C307 , C308 being set such that L2157: (the carrier of C306) = { C307 , C308 } and L2158: ((the InternalRel of C306) = { [ C307 , C308 ] , [ C308 , C307 ] } or (the InternalRel of C306) = ( {} )) by L2155 , L216;
set D210 = { C307 };
set D211 = { C308 };
L2159: D210 c= (the carrier of C306)
proof
let C309 being set;
assume L2160: C309 in D210;
L2161: C309 = C307 by L2160 , TARSKI:def 1;
thus L2162: thesis by L2161 , L2157 , TARSKI:def 2;
end;
L2163: D211 c= (the carrier of C306)
proof
let C310 being set;
assume L2164: C310 in D211;
L2165: C310 = C308 by L2164 , TARSKI:def 1;
thus L2166: thesis by L2165 , L2157 , TARSKI:def 2;
end;
reconsider D212 = D211 as (Subset of C306) by L2163;
reconsider D213 = D210 as (Subset of C306) by L2159;
set D214 = ( subrelstr D213 );
set D215 = ( subrelstr D212 );
reconsider D216 = D215 as non  empty  strict  irreflexive  symmetric RelStr by YELLOW_0:def 15;
L2167: (the carrier of D216) = D212 by YELLOW_0:def 15;
L2168: (the InternalRel of D216) c= [: { C308 } , { C308 } :] by L2167;
L2169: (the InternalRel of D216) c= { [ C308 , C308 ] } by L2168 , ZFMISC_1:29;
L2170: ((the InternalRel of D216) = ( {} ) or (the InternalRel of D216) = { [ C308 , C308 ] }) by L2169 , ZFMISC_1:33;
L2171: (the InternalRel of D216) = ( {} )
proof
L2172: C308 in D212 by TARSKI:def 1;
L2173: C308 in (the carrier of D216) by L2172 , YELLOW_0:def 15;
L2174: (not [ C308 , C308 ] in (the InternalRel of D216)) by L2173 , NECKLACE:def 5;
assume L2175: (not thesis);
thus L2176: thesis by L2175 , L2170 , L2174 , TARSKI:def 1;
end;
L2177: (the carrier of D216) c= (the carrier of C306) by L2163 , YELLOW_0:def 15;
L2178: (the carrier of D216) in ( FinSETS ) by L2177 , L2156 , CLASSES1:3 , CLASSES2:def 2;
L2179: D216 in ( fin_RelStr_sp ) by L2178 , L2167 , NECKLA_2:def 5;
reconsider D217 = D214 as non  empty  strict  irreflexive  symmetric RelStr by YELLOW_0:def 15;
L2180: (the carrier of D217) = D213 by YELLOW_0:def 15;
L2181: (the carrier of C306) = ( (the carrier of D217) \/ (the carrier of D216) ) by L2180 , L2157 , L2167 , ENUMSET1:1;
L2182: C307 <> C308
proof
assume L2183: (not thesis);
L2184: (the carrier of C306) = { C307 } by L2183 , L2157 , ENUMSET1:29;
thus L2185: thesis by L2184 , L2155 , CARD_1:30;
end;
L2186: D213 misses D212 by L2182 , ZFMISC_1:11;
L2187: (the carrier of D217) misses (the carrier of D216) by L2186 , L2167 , YELLOW_0:def 15;
L2188: (the InternalRel of D217) c= [: { C307 } , { C307 } :] by L2180;
L2189: (the InternalRel of D217) c= { [ C307 , C307 ] } by L2188 , ZFMISC_1:29;
L2190: ((the InternalRel of D217) = ( {} ) or (the InternalRel of D217) = { [ C307 , C307 ] }) by L2189 , ZFMISC_1:33;
L2191: (the InternalRel of D217) = ( {} )
proof
L2192: C307 in D213 by TARSKI:def 1;
L2193: C307 in (the carrier of D217) by L2192 , YELLOW_0:def 15;
L2194: (not [ C307 , C307 ] in (the InternalRel of D217)) by L2193 , NECKLACE:def 5;
assume L2195: (not thesis);
thus L2196: thesis by L2195 , L2190 , L2194 , TARSKI:def 1;
end;
L2197: (the carrier of D217) c= (the carrier of C306) by L2159 , YELLOW_0:def 15;
L2198: (the carrier of D217) in ( FinSETS ) by L2197 , L2156 , CLASSES1:3 , CLASSES2:def 2;
L2199: D217 in ( fin_RelStr_sp ) by L2198 , L2180 , NECKLA_2:def 5;
per cases  by L2158;
suppose L2200: (the InternalRel of C306) = { [ C307 , C308 ] , [ C308 , C307 ] };

set D218 = ( sum_of (D217 , D216) );
L2201: (the InternalRel of D218) = ( ( ( (the InternalRel of D217) \/ (the InternalRel of D216) ) \/ [: D213 , D212 :] ) \/ [: D212 , D213 :] ) by L2180 , L2167 , NECKLA_2:def 3;
L2202: (the InternalRel of D218) = ( { [ C307 , C308 ] } \/ [: { C308 } , { C307 } :] ) by L2201 , L2191 , L2171 , ZFMISC_1:29;
L2203: (the InternalRel of D218) = ( { [ C307 , C308 ] } \/ { [ C308 , C307 ] } ) by L2202 , ZFMISC_1:29;
L2204: (the InternalRel of D218) = (the InternalRel of C306) by L2203 , L2200 , ENUMSET1:1;
L2205: (the carrier of D218) = (the carrier of C306) by L2181 , NECKLA_2:def 3;
thus L2206: thesis by L2205 , L2180 , L2199 , L2167 , L2179 , L2186 , L2204 , NECKLA_2:def 5;
end;
suppose L2207: (the InternalRel of C306) = ( {} );

set D219 = ( union_of (D217 , D216) );
L2208: ((the InternalRel of D219) = ( (the InternalRel of D217) \/ (the InternalRel of D216) ) & (the carrier of D219) = (the carrier of C306)) by L2181 , NECKLA_2:def 2;
thus L2209: thesis by L2208 , L2199 , L2179 , L2187 , L2191 , L2171 , L2207 , NECKLA_2:def 5;
end;
end;
theorem
L2211: (for B145 being RelStr holds (B145 in ( fin_RelStr_sp ) implies B145 is  symmetric))
proof
let C311 being RelStr;
assume L2212: C311 in ( fin_RelStr_sp );
per cases ;
suppose L2213: C311 is  trivial;

thus L2214: thesis
proof
per cases  by L2213 , ZFMISC_1:131;
suppose L2215: (the carrier of C311) is  empty;

let C312 , C313 being set;
assume that
L2216: C312 in (the carrier of C311)
and
L2217: C313 in (the carrier of C311)
and
L2218: [ C312 , C313 ] in (the InternalRel of C311);
thus L2219: thesis by L2215 , L2216;
end;
suppose L2220: (ex B146 being set st (the carrier of C311) = { B146 });

consider C314 being set such that L2221: (the carrier of C311) = { C314 } by L2220;
L2222: [: (the carrier of C311) , (the carrier of C311) :] = { [ C314 , C314 ] } by L2221 , ZFMISC_1:29;
thus L2223: thesis
proof
per cases  by L2222 , ZFMISC_1:33;
suppose L2224: (the InternalRel of C311) = ( {} );

let C315 , C316 being set;
assume that
L2225: C315 in (the carrier of C311)
and
L2226: C316 in (the carrier of C311)
and
L2227: [ C315 , C316 ] in (the InternalRel of C311);
thus L2228: thesis by L2224 , L2227;
end;
suppose L2229: (the InternalRel of C311) = { [ C314 , C314 ] };

let C317 , C318 being set;
assume that
L2230: C317 in (the carrier of C311)
and
L2231: C318 in (the carrier of C311)
and
L2232: [ C317 , C318 ] in (the InternalRel of C311);
L2233: [ C317 , C318 ] = [ C314 , C314 ] by L2229 , L2232 , TARSKI:def 1;
L2234: C317 = C314 by L2233 , XTUPLE_0:1;
thus L2235: thesis by L2234 , L2232 , L2233 , XTUPLE_0:1;
end;
end;

end;
end;

end;
suppose L2215: (not C311 is  trivial);

defpred S3[ Nat ] means (for B147 being non  empty RelStr holds (((not B147 is  trivial) & B147 in ( fin_RelStr_sp )) implies (( card (the carrier of B147) ) c= $1 implies B147 is  symmetric)));
L2216: (ex B148 being  strict RelStr st (C311 = B148 & (the carrier of B148) in ( FinSETS ))) by L2212 , NECKLA_2:def 4;
reconsider D220 = C311 as non  empty RelStr by L2212 , NECKLA_2:4;
L2217: ( card (the carrier of D220) ) is Nat by L2216;
L2218: (for B149 being Nat holds (S3[ B149 ] implies S3[ ( B149 + 1 ) ]))
proof
let C319 being Nat;
assume that
L2219: S3[ C319 ];
reconsider D221 = C319 as (Element of ( NAT )) by ORDINAL1:def 12;
let C320 being non  empty RelStr;
assume that
L2220: (not C320 is  trivial)
and
L2221: C320 in ( fin_RelStr_sp );
consider C321 , C322 being  strict RelStr such that L2222: (the carrier of C321) misses (the carrier of C322) and L2223: C321 in ( fin_RelStr_sp ) and L2224: C322 in ( fin_RelStr_sp ) and L2225: (C320 = ( union_of (C321 , C322) ) or C320 = ( sum_of (C321 , C322) )) by L2220 , L2221 , NECKLA_2:6;
set D222 = (the carrier of C320);
L2226: (ex B150 being  strict RelStr st (C320 = B150 & (the carrier of B150) in ( FinSETS ))) by L2221 , NECKLA_2:def 4;
reconsider D223 = D222 as  finite set by L2226;
assume L2227: ( card (the carrier of C320) ) c= ( C319 + 1 );
L2228: ( card D223 ) c= ( card ( D221 + 1 ) ) by L2227 , CARD_1:def 2;
L2229: ( card D223 ) <= ( card ( D221 + 1 ) ) by L2228 , NAT_1:39;
L2230: ( card D223 ) <= ( C319 + 1 ) by L2229 , CARD_1:def 2;
set D224 = (the carrier of C321);
set D225 = (the carrier of C322);
L2231: ( card D223 ) = ( card ( D224 \/ D225 ) ) by L2225 , NECKLA_2:def 2 , NECKLA_2:def 3;
L2232: (ex B151 being  strict RelStr st (C322 = B151 & (the carrier of B151) in ( FinSETS ))) by L2224 , NECKLA_2:def 4;
reconsider D226 = D225 as  finite set by L2232;
L2233: (ex B152 being  strict RelStr st (C321 = B152 & (the carrier of B152) in ( FinSETS ))) by L2223 , NECKLA_2:def 4;
reconsider D227 = D224 as  finite set by L2233;
L2234: ( card D223 ) = ( ( card D227 ) + ( card D226 ) ) by L2222 , L2231 , CARD_2:40;
L2235: C321 is non  empty by L2223 , NECKLA_2:4;
L2236: ( card D227 ) >= 1 by L2235 , NAT_1:14;
L2237: C322 is non  empty by L2224 , NECKLA_2:4;
L2238: ( card D226 ) >= 1 by L2237 , NAT_1:14;
per cases  by L2234 , L2230 , L2236 , L2238 , NAT_1:8 , XXREAL_0:1;
suppose L2239: ( card D223 ) <= C319;

L2240: ( card D223 ) <= ( card D221 ) by L2239 , CARD_1:def 2;
L2241: ( card (the carrier of C320) ) c= ( card C319 ) by L2240 , NAT_1:39;
L2242: ( card (the carrier of C320) ) c= D221 by L2241 , CARD_1:def 2;
thus L2243: thesis by L2242 , L2219 , L2220 , L2221;
end;
suppose L2244: (( card D223 ) = ( C319 + 1 ) & C319 = ( 0 ));

set D228 = the set;
L2245: ( card D223 ) = ( card { D228 } ) by L2244 , CARD_1:30;
L2246: D223 , { D228 } are_equipotent  by L2245 , CARD_1:5;
L2247: (ex B153 being set st D223 = { B153 }) by L2246 , CARD_1:28;
thus L2248: thesis by L2247 , L2220;
end;
suppose L2249: (( ( card D227 ) + ( card D226 ) ) = ( C319 + 1 ) & C319 > ( 0 ) & ( card D227 ) = 1 & ( card D226 ) = 1);

L2250: (ex B154 being set st D227 = { B154 }) by L2249 , CARD_2:42;
L2251: (the InternalRel of C321) is_symmetric_in D227 by L2250 , L165;
reconsider D229 = C321 as  symmetric RelStr by L2251 , NECKLACE:def 3;
L2252: (ex B155 being set st D226 = { B155 }) by L2249 , CARD_2:42;
L2253: (the InternalRel of C322) is_symmetric_in D226 by L2252 , L165;
reconsider D230 = C322 as  symmetric RelStr by L2253 , NECKLACE:def 3;
L2254: ( union_of (D229 , D230) ) is  symmetric;
thus L2255: thesis by L2254 , L2225;
end;
suppose L2256: (( ( card D227 ) + ( card D226 ) ) = ( C319 + 1 ) & C319 > ( 0 ) & ( card D227 ) = 1 & ( card D226 ) > 1);

L2257: (ex B156 being set st D227 = { B156 }) by L2256 , CARD_2:42;
L2258: (the InternalRel of C321) is_symmetric_in D227 by L2257 , L165;
reconsider D231 = C321 as  symmetric RelStr by L2258 , NECKLACE:def 3;
L2259: ( card D226 ) is non  trivial by L2256 , NAT_2:28;
L2260: ( card D226 ) >= 2 by L2259 , NAT_2:29;
L2261: C322 is non  empty non  trivial by L2260 , NAT_D:60;
reconsider D232 = C322 as  symmetric RelStr by L2261 , L2219 , L2224 , L2256;
L2262: ( union_of (D231 , D232) ) is  symmetric;
thus L2263: thesis by L2262 , L2225;
end;
suppose L2264: (( ( card D227 ) + ( card D226 ) ) = ( C319 + 1 ) & C319 > ( 0 ) & ( card D227 ) > 1 & ( card D226 ) = 1);

L2265: (ex B157 being set st D226 = { B157 }) by L2264 , CARD_2:42;
L2266: (the InternalRel of C322) is_symmetric_in D226 by L2265 , L165;
reconsider D233 = C322 as  symmetric RelStr by L2266 , NECKLACE:def 3;
L2267: ( card D227 ) is non  trivial by L2264 , NAT_2:28;
L2268: ( card D227 ) >= 2 by L2267 , NAT_2:29;
L2269: C321 is non  empty non  trivial by L2268 , NAT_D:60;
reconsider D234 = C321 as  symmetric RelStr by L2269 , L2219 , L2223 , L2264;
L2270: ( union_of (D234 , D233) ) is  symmetric;
thus L2271: thesis by L2270 , L2225;
end;
suppose L2272: (( ( card D227 ) + ( card D226 ) ) = ( C319 + 1 ) & C319 > ( 0 ) & ( card D227 ) > 1 & ( card D226 ) > 1);

L2273: ( card D226 ) is non  trivial by L2272 , NAT_2:28;
L2274: ( card D226 ) >= 2 by L2273 , NAT_2:29;
L2275: C322 is non  empty non  trivial by L2274 , NAT_D:60;
L2276: ( card D226 ) < ( C319 + 1 )
proof
assume L2277: (not thesis);
L2278: ( ( card D227 ) + ( card D226 ) ) >= ( ( C319 + 1 ) + 1 ) by L2277 , L2236 , XREAL_1:7;
thus L2279: thesis by L2278 , L2272 , NAT_1:13;
end;
L2280: ( card D226 ) <= C319 by L2276 , NAT_1:13;
L2281: ( card D226 ) <= ( card D221 ) by L2280 , CARD_1:def 2;
L2282: ( card D226 ) c= ( card C319 ) by L2281 , NAT_1:39;
L2283: ( card D226 ) c= D221 by L2282 , CARD_1:def 2;
reconsider D235 = C322 as  symmetric RelStr by L2283 , L2219 , L2224 , L2275;
L2284: ( card D227 ) is non  trivial by L2272 , NAT_2:28;
L2285: ( card D227 ) >= 2 by L2284 , NAT_2:29;
L2286: C321 is non  empty non  trivial by L2285 , NAT_D:60;
L2287: ( card D227 ) < ( C319 + 1 )
proof
assume L2288: (not thesis);
L2289: ( ( card D227 ) + ( card D226 ) ) >= ( ( C319 + 1 ) + 1 ) by L2288 , L2238 , XREAL_1:7;
thus L2290: thesis by L2289 , L2272 , NAT_1:13;
end;
L2291: ( card D227 ) <= C319 by L2287 , NAT_1:13;
L2292: ( card D227 ) <= ( card D221 ) by L2291 , CARD_1:def 2;
L2293: ( card D227 ) c= ( card C319 ) by L2292 , NAT_1:39;
L2294: ( card D227 ) c= D221 by L2293 , CARD_1:def 2;
reconsider D236 = C321 as  symmetric RelStr by L2294 , L2219 , L2223 , L2286;
L2295: ( union_of (D236 , D235) ) is  symmetric;
thus L2296: thesis by L2295 , L2225;
end;
end;
L2298: S3[ ( 0 ) ];
L2299: (for B158 being Nat holds S3[ B158 ]) from NAT_1:sch 2(L2298 , L2218);
thus L2300: thesis by L2299 , L2212 , L2215 , L2217;
end;
end;
theorem
L2302: (for B159 being RelStr holds (for B160 , B161 being non  empty RelStr holds (for B162 being (Element of B160) holds (for B163 being (Element of B161) holds ((B159 = ( union_of (B160 , B161) ) & (the carrier of B160) misses (the carrier of B161)) implies (not [ B162 , B163 ] in (the InternalRel of B159)))))))
proof
let C323 being RelStr;
let C324 , C325 being non  empty RelStr;
let C326 being (Element of C324);
let C327 being (Element of C325);
assume that
L2303: C323 = ( union_of (C324 , C325) )
and
L2304: (the carrier of C324) misses (the carrier of C325);
assume L2305: (not thesis);
L2306: [ C326 , C327 ] in ( (the InternalRel of C324) \/ (the InternalRel of C325) ) by L2305 , L2303 , NECKLA_2:def 2;
per cases  by L2306 , XBOOLE_0:def 3;
suppose L2307: [ C326 , C327 ] in (the InternalRel of C324);

L2308: C327 in (the carrier of C324) by L2307 , ZFMISC_1:87;
L2309: C327 in ( (the carrier of C324) /\ (the carrier of C325) ) by L2308 , XBOOLE_0:def 4;
thus L2310: thesis by L2309 , L2304 , XBOOLE_0:def 7;
end;
suppose L2311: [ C326 , C327 ] in (the InternalRel of C325);

L2312: C326 in (the carrier of C325) by L2311 , ZFMISC_1:87;
L2313: C326 in ( (the carrier of C324) /\ (the carrier of C325) ) by L2312 , XBOOLE_0:def 4;
thus L2314: thesis by L2313 , L2304 , XBOOLE_0:def 7;
end;
end;
theorem
L2316: (for B164 being RelStr holds (for B165 , B166 being non  empty RelStr holds (for B167 being (Element of B165) holds (for B168 being (Element of B166) holds (B164 = ( sum_of (B165 , B166) ) implies (not [ B167 , B168 ] in (the InternalRel of ( ComplRelStr B164 ))))))))
proof
let C328 being RelStr;
let C329 , C330 being non  empty RelStr;
let C331 being (Element of C329);
let C332 being (Element of C330);
set D237 = (the carrier of C329);
set D238 = (the carrier of C330);
set D239 = (the InternalRel of C329);
set D240 = (the InternalRel of C330);
L2317: [ C331 , C332 ] in ( [: D237 , D238 :] \/ [: D238 , D237 :] ) by XBOOLE_0:def 3;
L2318: [ C331 , C332 ] in ( D240 \/ ( [: D237 , D238 :] \/ [: D238 , D237 :] ) ) by L2317 , XBOOLE_0:def 3;
L2319: [ C331 , C332 ] in ( D239 \/ ( D240 \/ ( [: D237 , D238 :] \/ [: D238 , D237 :] ) ) ) by L2318 , XBOOLE_0:def 3;
L2320: [ C331 , C332 ] in ( D239 \/ ( ( D240 \/ [: D237 , D238 :] ) \/ [: D238 , D237 :] ) ) by L2319 , XBOOLE_1:4;
L2321: [ C331 , C332 ] in ( ( ( D239 \/ D240 ) \/ [: D237 , D238 :] ) \/ [: D238 , D237 :] ) by L2320 , XBOOLE_1:113;
assume L2322: C328 = ( sum_of (C329 , C330) );
L2323: [ C331 , C332 ] in (the InternalRel of C328) by L2322 , L2321 , NECKLA_2:def 3;
L2324: (not [ C331 , C332 ] in (the InternalRel of ( ComplRelStr C328 )))
proof
assume L2325: (not thesis);
L2326: [ C331 , C332 ] in ( (the InternalRel of C328) /\ (the InternalRel of ( ComplRelStr C328 )) ) by L2325 , L2323 , XBOOLE_0:def 4;
L2327: (the InternalRel of C328) meets (the InternalRel of ( ComplRelStr C328 )) by L2326 , XBOOLE_0:def 7;
thus L2328: contradiction by L2327 , L765;
end;
thus L2329: thesis by L2324;
end;
theorem
L2330: (for B169 being non  empty  symmetric RelStr holds (for B170 being (Element of B169) holds (for B171 , B172 being non  empty RelStr holds (((the carrier of B171) misses (the carrier of B172) & ( subrelstr ( ( [#] B169 ) \ { B170 } ) ) = ( union_of (B171 , B172) ) & B169 is  path-connected) implies (ex B173 being (Element of B171) st [ B173 , B170 ] in (the InternalRel of B169))))))
proof
let C333 being non  empty  symmetric RelStr;
let C334 being (Element of C333);
let C335 , C336 being non  empty RelStr;
assume that
L2331: (the carrier of C335) misses (the carrier of C336)
and
L2332: ( subrelstr ( ( [#] C333 ) \ { C334 } ) ) = ( union_of (C335 , C336) )
and
L2333: C333 is  path-connected;
set D241 = ( subrelstr ( ( [#] C333 ) \ { C334 } ) );
set D242 = (the carrier of D241);
L2334: (the carrier of C335) c= ( (the carrier of C335) \/ (the carrier of C336) ) by XBOOLE_1:7;
L2335: (the carrier of C335) c= (the carrier of D241) by L2334 , L2332 , NECKLA_2:def 2;
set D243 = the (Element of C335);
L2336: D242 = ( ( [#] C333 ) \ { C334 } ) by YELLOW_0:def 15;
L2337: C334 <> D243
proof
assume L2338: (not thesis);
L2339: C334 in ( (the carrier of C335) \/ (the carrier of C336) ) by L2338 , XBOOLE_0:def 3;
L2340: C334 in ( (the carrier of C333) \ { C334 } ) by L2339 , L2332 , L2336 , NECKLA_2:def 2;
L2341: (not C334 in { C334 }) by L2340 , XBOOLE_0:def 5;
thus L2342: thesis by L2341 , TARSKI:def 1;
end;
reconsider D244 = D242 as (Subset of C333) by YELLOW_0:def 15;
L2343: (the carrier of D241) = D244;
L2344: (the carrier of C335) c= (the carrier of C333) by L2343 , L2335 , XBOOLE_1:1;
L2345: D243 in (the carrier of C333) by L2344 , TARSKI:def 3;
L2346: (the InternalRel of C333) reduces C334 , D243 by L2345 , L2333 , L2337 , L1801;
consider C337 being FinSequence such that L2347: ( len C337 ) > ( 0 ) and L2348: ( C337 . 1 ) = C334 and L2349: ( C337 . ( len C337 ) ) = D243 and L2350: (for B174 being (Element of ( NAT )) holds ((B174 in ( dom C337 ) & ( B174 + 1 ) in ( dom C337 )) implies [ ( C337 . B174 ) , ( C337 . ( B174 + 1 ) ) ] in (the InternalRel of C333))) by L2346 , REWRITE1:11;
defpred S4[ Nat ] means (( C337 . $1 ) in (the carrier of C335) & $1 in ( dom C337 ) & (for B175 being Nat holds (B175 > $1 implies (B175 in ( dom C337 ) implies ( C337 . B175 ) in (the carrier of C335)))));
L2351: S4[ ( len C337 ) ] by L2347 , L2349 , CARD_1:27 , FINSEQ_3:25 , FINSEQ_5:6;
L2352: (ex B176 being Nat st S4[ B176 ]) by L2351;
L2353: (ex B177 being Nat st (S4[ B177 ] & (for B178 being Nat holds (S4[ B178 ] implies B178 >= B177)))) from NAT_1:sch 5(L2352);
consider C338 being (Element of ( NAT )) such that L2354: S4[ C338 ] and L2355: (for B179 being Nat holds (S4[ B179 ] implies B179 >= C338)) by L2353;
L2356: C338 <> ( 0 )
proof
assume L2357: (not thesis);
L2358: ( 0 ) in ( Seg ( len C337 ) ) by L2357 , L2354 , FINSEQ_1:def 3;
thus L2359: contradiction by L2358 , FINSEQ_1:1;
end;
consider C339 being Nat such that L2360: C338 = ( C339 + 1 ) by L2356 , NAT_1:6;
L2361: C338 <> 1
proof
assume L2362: (not thesis);
L2363: (not C334 in { C334 }) by L2362 , L2336 , L2335 , L2348 , L2354 , XBOOLE_0:def 5;
thus L2364: contradiction by L2363 , TARSKI:def 1;
end;
L2365: C339 >= 1
proof
assume L2366: (not thesis);
L2367: C339 = ( 0 ) by L2366 , NAT_1:25;
thus L2368: contradiction by L2367 , L2360 , L2361;
end;
L2369: C338 in ( Seg ( len C337 ) ) by L2354 , FINSEQ_1:def 3;
L2370: C338 <= ( len C337 ) by L2369 , FINSEQ_1:1;
L2371: C339 < C338 by L2360 , NAT_1:13;
L2372: (for B180 being Nat holds (B180 > C339 implies (B180 in ( dom C337 ) implies ( C337 . B180 ) in (the carrier of C335))))
proof
assume L2373: (not thesis);
consider C340 being Nat such that L2374: C340 > C339 and L2375: C340 in ( dom C337 ) and L2376: (not ( C337 . C340 ) in (the carrier of C335)) by L2373;
L2377: C340 > C338
proof
per cases  by XXREAL_0:1;
suppose L2378: C340 < C338;

thus L2379: thesis by L2378 , L2360 , L2374 , NAT_1:13;
end;
suppose L2380: C338 < C340;

thus L2381: thesis by L2380;
end;
suppose L2382: C338 = C340;

thus L2383: thesis by L2382 , L2354 , L2376;
end;
end;
thus L2385: contradiction by L2377 , L2354 , L2375 , L2376;
end;
L2386: (the carrier of C333) = ( (the carrier of D241) \/ { C334 } )
proof
thus L2387: (the carrier of C333) c= ( (the carrier of D241) \/ { C334 } )
proof
let C341 being set;
assume L2388: C341 in (the carrier of C333);
per cases ;
suppose L2389: C341 = C334;

L2390: C341 in { C334 } by L2389 , TARSKI:def 1;
thus L2391: thesis by L2390 , XBOOLE_0:def 3;
end;
suppose L2392: C341 <> C334;

L2393: (not C341 in { C334 }) by L2392 , TARSKI:def 1;
L2394: C341 in D244 by L2393 , L2336 , L2388 , XBOOLE_0:def 5;
thus L2395: thesis by L2394 , XBOOLE_0:def 3;
end;
end;

let C342 being set;
assume L2397: C342 in ( (the carrier of D241) \/ { C334 } );
per cases  by L2397 , XBOOLE_0:def 3;
suppose L2398: C342 in (the carrier of D241);

thus L2399: thesis by L2398 , L2336;
end;
suppose L2400: C342 in { C334 };

thus L2401: thesis by L2400;
end;
end;
L2403: C339 <= C338 by L2360 , XREAL_1:29;
L2404: C339 <= ( len C337 ) by L2403 , L2370 , XXREAL_0:2;
L2405: C339 in ( dom C337 ) by L2404 , L2365 , FINSEQ_3:25;
L2406: [ ( C337 . C339 ) , ( C337 . ( C339 + 1 ) ) ] in (the InternalRel of C333) by L2405 , L2350 , L2354 , L2360;
L2407: ( C337 . C339 ) in (the carrier of C333) by L2406 , ZFMISC_1:87;
thus L2408: thesis
proof
per cases  by L2407 , L2386 , XBOOLE_0:def 3;
suppose L2409: ( C337 . C339 ) in (the carrier of D241);

set D245 = ( C337 . C339 );
set D246 = ( C337 . C338 );
L2410: [ D245 , D246 ] in [: (the carrier of D241) , (the carrier of D241) :] by L2335 , L2354 , L2409 , ZFMISC_1:87;
L2411: [ D245 , D246 ] in ( (the InternalRel of C333) |_2 (the carrier of D241) ) by L2410 , L2360 , L2406 , XBOOLE_0:def 4;
L2412: ( C337 . C339 ) in ( (the carrier of C335) \/ (the carrier of C336) ) by L2332 , L2409 , NECKLA_2:def 2;
L2413: (( C337 . C339 ) in (the carrier of C335) or ( C337 . C339 ) in (the carrier of C336)) by L2412 , XBOOLE_0:def 3;
reconsider D247 = D245 as (Element of C336) by L2413 , L2355 , L2405 , L2371 , L2372;
reconsider D248 = D246 as (Element of C335) by L2354;
L2414: (not [ D247 , D248 ] in (the InternalRel of D241))
proof
L2415: D247 in ( (the carrier of C335) \/ (the carrier of C336) ) by XBOOLE_0:def 3;
L2416: D247 in (the carrier of D241) by L2415 , L2332 , NECKLA_2:def 2;
L2417: (D248 in (the carrier of C335) & (the InternalRel of D241) is_symmetric_in (the carrier of D241)) by NECKLACE:def 3;
assume L2418: (not thesis);
L2419: [ D248 , D247 ] in (the InternalRel of D241) by L2418 , L2335 , L2416 , L2417 , RELAT_2:def 3;
thus L2420: thesis by L2419 , L2331 , L2332 , L2302;
end;
thus L2421: thesis by L2414 , L2411 , YELLOW_0:def 14;
end;
suppose L2422: ( C337 . C339 ) in { C334 };

set D249 = ( C337 . C338 );
reconsider D250 = D249 as (Element of C335) by L2354;
L2423: (D250 in (the carrier of D241) & (the InternalRel of C333) is_symmetric_in (the carrier of C333)) by L2335 , NECKLACE:def 3 , TARSKI:def 3;
L2424: ( C337 . C339 ) = C334 by L2422 , TARSKI:def 1;
L2425: [ D250 , C334 ] in (the InternalRel of C333) by L2424 , L2343 , L2360 , L2406 , L2423 , RELAT_2:def 3;
thus L2426: thesis by L2425;
end;
end;

end;
theorem
L2409: (for B181 being non  empty  symmetric  irreflexive RelStr holds (for B182 , B183 , B184 , B185 being (Element of B181) holds (for B186 being (Subset of B181) holds ((B186 = { B182 , B183 , B184 , B185 } & B182 , B183 , B184 , B185 are_mutually_different  & [ B182 , B183 ] in (the InternalRel of B181) & [ B183 , B184 ] in (the InternalRel of B181) & [ B184 , B185 ] in (the InternalRel of B181) & (not [ B182 , B184 ] in (the InternalRel of B181)) & (not [ B182 , B185 ] in (the InternalRel of B181)) & (not [ B183 , B185 ] in (the InternalRel of B181))) implies ( subrelstr B186 ) embeds ( Necklace 4 )))))
proof
let C343 being non  empty  symmetric  irreflexive  symmetric RelStr;
let C344 , C345 , C346 , C347 being (Element of C343);
let C348 being (Subset of C343);
assume that
L2410: C348 = { C344 , C345 , C346 , C347 }
and
L2411: C344 , C345 , C346 , C347 are_mutually_different 
and
L2412: [ C344 , C345 ] in (the InternalRel of C343)
and
L2413: [ C345 , C346 ] in (the InternalRel of C343)
and
L2414: [ C346 , C347 ] in (the InternalRel of C343)
and
L2415: (not [ C344 , C346 ] in (the InternalRel of C343))
and
L2416: (not [ C344 , C347 ] in (the InternalRel of C343))
and
L2417: (not [ C345 , C347 ] in (the InternalRel of C343));
set D251 = ( (( 0 ) , 1) --> (C344 , C345) );
set D252 = ( (2 , 3) --> (C346 , C347) );
set D253 = ( D251 +* D252 );
L2418: ( rng D252 ) = { C346 , C347 } by FUNCT_4:64;
L2419: C344 <> C345 by L2411 , ZFMISC_1:def 6;
L2420: ( rng ( ( 0 ) .--> C344 ) ) misses ( rng ( 1 .--> C345 ) )
proof
assume L2421: ( rng ( ( 0 ) .--> C344 ) ) meets ( rng ( 1 .--> C345 ) );
consider C349 being set such that L2422: C349 in ( rng ( ( 0 ) .--> C344 ) ) and L2423: C349 in ( rng ( 1 .--> C345 ) ) by L2421 , XBOOLE_0:3;
L2424: ( rng ( ( 0 ) .--> C344 ) ) = { C344 } by FUNCOP_1:8;
L2425: (( rng ( 1 .--> C345 ) ) = { C345 } & C349 = C344) by L2424 , L2422 , FUNCOP_1:8 , TARSKI:def 1;
thus L2426: contradiction by L2425 , L2419 , L2423 , TARSKI:def 1;
end;
set D254 = ( subrelstr C348 );
set D255 = ( Necklace 4 );
set D256 = (the InternalRel of D254);
set D257 = (the carrier of D254);
set D258 = (the InternalRel of C343);
set D259 = { [ C344 , C344 ] , [ C344 , C345 ] , [ C345 , C344 ] , [ C345 , C345 ] , [ C344 , C346 ] , [ C344 , C347 ] , [ C345 , C346 ] , [ C345 , C347 ] };
set D260 = { [ C346 , C344 ] , [ C346 , C345 ] , [ C347 , C344 ] , [ C347 , C345 ] , [ C346 , C346 ] , [ C346 , C347 ] , [ C347 , C346 ] , [ C347 , C347 ] };
L2427: (the carrier of D254) is non  empty by L2410 , YELLOW_0:def 15;
L2428: D252 = ( ( 2 .--> C346 ) +* ( 3 .--> C347 ) ) by FUNCT_4:def 4;
L2429: C346 <> C347 by L2411 , ZFMISC_1:def 6;
L2430: ( rng ( 2 .--> C346 ) ) misses ( rng ( 3 .--> C347 ) )
proof
assume L2431: ( rng ( 2 .--> C346 ) ) meets ( rng ( 3 .--> C347 ) );
consider C350 being set such that L2432: C350 in ( rng ( 2 .--> C346 ) ) and L2433: C350 in ( rng ( 3 .--> C347 ) ) by L2431 , XBOOLE_0:3;
L2434: ( rng ( 2 .--> C346 ) ) = { C346 } by FUNCOP_1:8;
L2435: (( rng ( 3 .--> C347 ) ) = { C347 } & C350 = C346) by L2434 , L2432 , FUNCOP_1:8 , TARSKI:def 1;
thus L2436: contradiction by L2435 , L2429 , L2433 , TARSKI:def 1;
end;
L2437: D252 is  one-to-one by L2430 , L2428 , FUNCT_4:92;
L2438: ( rng D251 ) = { C344 , C345 } by FUNCT_4:64;
L2439: ( rng D251 ) misses ( rng D252 )
proof
assume L2440: (not thesis);
consider C351 being set such that L2441: C351 in ( rng D251 ) and L2442: C351 in ( rng D252 ) by L2440 , XBOOLE_0:3;
L2443: (C351 = C346 or C351 = C347) by L2418 , L2442 , TARSKI:def 2;
L2444: (C351 = C344 or C351 = C345) by L2438 , L2441 , TARSKI:def 2;
thus L2445: contradiction by L2444 , L2411 , L2443 , ZFMISC_1:def 6;
end;
L2446: ( dom D253 ) = ( ( dom D251 ) \/ ( dom D252 ) ) by FUNCT_4:def 1
.= ( { ( 0 ) , 1 } \/ ( dom D252 ) ) by FUNCT_4:62
.= ( { ( 0 ) , 1 } \/ { 2 , 3 } ) by FUNCT_4:62
.= { ( 0 ) , 1 , 2 , 3 } by ENUMSET1:5;
L2447: ( dom D253 ) = (the carrier of D255) by L2446 , NECKLACE:1 , NECKLACE:20;
L2448: ( dom D251 ) misses ( dom D252 )
proof
assume L2449: (not thesis);
consider C352 being set such that L2450: C352 in ( dom D251 ) and L2451: C352 in ( dom D252 ) by L2449 , XBOOLE_0:3;
L2452: (C352 = ( 0 ) or C352 = 1) by L2450 , TARSKI:def 2;
thus L2453: contradiction by L2452 , L2451 , TARSKI:def 2;
end;
L2454: ( rng D253 ) = ( ( rng D251 ) \/ ( rng D252 ) ) by L2448 , NECKLACE:6;
L2455: ( rng D253 ) = { C344 , C345 , C346 , C347 } by L2454 , L2438 , L2418 , ENUMSET1:5;
L2456: ( rng D253 ) = (the carrier of D254) by L2455 , L2410 , YELLOW_0:def 15;
reconsider D261 = D253 as (Function of D255 , D254) by L2456 , L2447 , FUNCT_2:def 1 , RELSET_1:4;
L2457: D251 = ( ( ( 0 ) .--> C344 ) +* ( 1 .--> C345 ) ) by FUNCT_4:def 4;
L2458: D251 is  one-to-one by L2457 , L2420 , FUNCT_4:92;
L2459: D261 is  one-to-one by L2458 , L2437 , L2439 , FUNCT_4:92;
L2460: (the InternalRel of D254) = { [ C344 , C345 ] , [ C345 , C344 ] , [ C345 , C346 ] , [ C346 , C345 ] , [ C346 , C347 ] , [ C347 , C346 ] }
proof
thus L2461: (the InternalRel of D254) c= { [ C344 , C345 ] , [ C345 , C344 ] , [ C345 , C346 ] , [ C346 , C345 ] , [ C346 , C347 ] , [ C347 , C346 ] }
proof
let C353 being set;
L2462: (the carrier of D254) = C348 by YELLOW_0:def 15;
assume L2463: C353 in D256;
L2464: C353 in ( D258 |_2 D257 ) by L2463 , YELLOW_0:def 14;
L2465: C353 in D258 by L2464 , XBOOLE_0:def 4;
L2466: C353 in [: D257 , D257 :] by L2463;
L2467: C353 in ( D259 \/ D260 ) by L2466 , L2410 , L2462 , L47;
per cases  by L2467 , XBOOLE_0:def 3;
suppose L2468: C353 in D259;

thus L2469: thesis
proof
per cases  by L2468 , ENUMSET1:def 6;
suppose L2470: C353 = [ C344 , C344 ];

L2471: (not [ C344 , C344 ] in D258) by NECKLACE:def 5;
thus L2472: thesis by L2471 , L2464 , L2470 , XBOOLE_0:def 4;
end;
suppose L2473: C353 = [ C344 , C345 ];

thus L2474: thesis by L2473 , ENUMSET1:def 4;
end;
suppose L2475: C353 = [ C345 , C344 ];

thus L2476: thesis by L2475 , ENUMSET1:def 4;
end;
suppose L2477: C353 = [ C345 , C345 ];

L2478: (not [ C345 , C345 ] in D258) by NECKLACE:def 5;
thus L2479: thesis by L2478 , L2464 , L2477 , XBOOLE_0:def 4;
end;
suppose L2480: C353 = [ C344 , C346 ];

thus L2481: thesis by L2480 , L2415 , L2464 , XBOOLE_0:def 4;
end;
suppose L2482: C353 = [ C344 , C347 ];

thus L2483: thesis by L2482 , L2416 , L2464 , XBOOLE_0:def 4;
end;
suppose L2484: C353 = [ C345 , C346 ];

thus L2485: thesis by L2484 , ENUMSET1:def 4;
end;
suppose L2486: C353 = [ C345 , C347 ];

thus L2487: thesis by L2486 , L2417 , L2464 , XBOOLE_0:def 4;
end;
end;

end;
suppose L2470: C353 in D260;

L2471: D258 is_symmetric_in (the carrier of C343) by NECKLACE:def 3;
thus L2472: thesis
proof
per cases  by L2470 , ENUMSET1:def 6;
suppose L2473: C353 = [ C346 , C344 ];

thus L2474: thesis by L2473 , L2415 , L2465 , L2471 , RELAT_2:def 3;
end;
suppose L2475: C353 = [ C346 , C345 ];

thus L2476: thesis by L2475 , ENUMSET1:def 4;
end;
suppose L2477: C353 = [ C347 , C344 ];

thus L2478: thesis by L2477 , L2416 , L2465 , L2471 , RELAT_2:def 3;
end;
suppose L2479: C353 = [ C347 , C345 ];

thus L2480: thesis by L2479 , L2417 , L2465 , L2471 , RELAT_2:def 3;
end;
suppose L2481: C353 = [ C346 , C346 ];

L2482: (not [ C346 , C346 ] in D258) by NECKLACE:def 5;
thus L2483: thesis by L2482 , L2464 , L2481 , XBOOLE_0:def 4;
end;
suppose L2484: C353 = [ C346 , C347 ];

thus L2485: thesis by L2484 , ENUMSET1:def 4;
end;
suppose L2486: C353 = [ C347 , C346 ];

thus L2487: thesis by L2486 , ENUMSET1:def 4;
end;
suppose L2488: C353 = [ C347 , C347 ];

L2489: (not [ C347 , C347 ] in D258) by NECKLACE:def 5;
thus L2490: thesis by L2489 , L2464 , L2488 , XBOOLE_0:def 4;
end;
end;

end;
end;

let C354 being set;
assume L2474: C354 in { [ C344 , C345 ] , [ C345 , C344 ] , [ C345 , C346 ] , [ C346 , C345 ] , [ C346 , C347 ] , [ C347 , C346 ] };
per cases  by L2474 , ENUMSET1:def 4;
suppose L2475: C354 = [ C344 , C345 ];

L2476: C345 in C348 by L2410 , ENUMSET1:def 2;
L2477: C345 in D257 by L2476 , YELLOW_0:def 15;
L2478: C344 in C348 by L2410 , ENUMSET1:def 2;
L2479: C344 in D257 by L2478 , YELLOW_0:def 15;
L2480: [ C344 , C345 ] in [: D257 , D257 :] by L2479 , L2477 , ZFMISC_1:87;
L2481: C354 in ( D258 |_2 D257 ) by L2480 , L2412 , L2475 , XBOOLE_0:def 4;
thus L2482: thesis by L2481 , YELLOW_0:def 14;
end;
suppose L2483: C354 = [ C345 , C344 ];

L2484: D258 is_symmetric_in (the carrier of C343) by NECKLACE:def 3;
L2485: [ C345 , C344 ] in D258 by L2484 , L2412 , RELAT_2:def 3;
L2486: C344 in C348 by L2410 , ENUMSET1:def 2;
L2487: C344 in D257 by L2486 , YELLOW_0:def 15;
L2488: C345 in C348 by L2410 , ENUMSET1:def 2;
L2489: C345 in D257 by L2488 , YELLOW_0:def 15;
L2490: [ C345 , C344 ] in [: D257 , D257 :] by L2489 , L2487 , ZFMISC_1:87;
L2491: C354 in ( D258 |_2 D257 ) by L2490 , L2483 , L2485 , XBOOLE_0:def 4;
thus L2492: thesis by L2491 , YELLOW_0:def 14;
end;
suppose L2493: C354 = [ C345 , C346 ];

L2494: C346 in C348 by L2410 , ENUMSET1:def 2;
L2495: C346 in D257 by L2494 , YELLOW_0:def 15;
L2496: C345 in C348 by L2410 , ENUMSET1:def 2;
L2497: C345 in D257 by L2496 , YELLOW_0:def 15;
L2498: [ C345 , C346 ] in [: D257 , D257 :] by L2497 , L2495 , ZFMISC_1:87;
L2499: C354 in ( D258 |_2 D257 ) by L2498 , L2413 , L2493 , XBOOLE_0:def 4;
thus L2500: thesis by L2499 , YELLOW_0:def 14;
end;
suppose L2501: C354 = [ C346 , C345 ];

L2502: D258 is_symmetric_in (the carrier of C343) by NECKLACE:def 3;
L2503: [ C346 , C345 ] in D258 by L2502 , L2413 , RELAT_2:def 3;
L2504: C346 in C348 by L2410 , ENUMSET1:def 2;
L2505: C346 in D257 by L2504 , YELLOW_0:def 15;
L2506: C345 in C348 by L2410 , ENUMSET1:def 2;
L2507: C345 in D257 by L2506 , YELLOW_0:def 15;
L2508: [ C346 , C345 ] in [: D257 , D257 :] by L2507 , L2505 , ZFMISC_1:87;
L2509: C354 in ( D258 |_2 D257 ) by L2508 , L2501 , L2503 , XBOOLE_0:def 4;
thus L2510: thesis by L2509 , YELLOW_0:def 14;
end;
suppose L2511: C354 = [ C346 , C347 ];

L2512: C347 in C348 by L2410 , ENUMSET1:def 2;
L2513: C347 in D257 by L2512 , YELLOW_0:def 15;
L2514: C346 in C348 by L2410 , ENUMSET1:def 2;
L2515: C346 in D257 by L2514 , YELLOW_0:def 15;
L2516: [ C346 , C347 ] in [: D257 , D257 :] by L2515 , L2513 , ZFMISC_1:87;
L2517: C354 in ( D258 |_2 D257 ) by L2516 , L2414 , L2511 , XBOOLE_0:def 4;
thus L2518: thesis by L2517 , YELLOW_0:def 14;
end;
suppose L2519: C354 = [ C347 , C346 ];

L2520: D258 is_symmetric_in (the carrier of C343) by NECKLACE:def 3;
L2521: [ C347 , C346 ] in D258 by L2520 , L2414 , RELAT_2:def 3;
L2522: C347 in C348 by L2410 , ENUMSET1:def 2;
L2523: C347 in D257 by L2522 , YELLOW_0:def 15;
L2524: C346 in C348 by L2410 , ENUMSET1:def 2;
L2525: C346 in D257 by L2524 , YELLOW_0:def 15;
L2526: [ C347 , C346 ] in [: D257 , D257 :] by L2525 , L2523 , ZFMISC_1:87;
L2527: C354 in ( D258 |_2 D257 ) by L2526 , L2519 , L2521 , XBOOLE_0:def 4;
thus L2528: thesis by L2527 , YELLOW_0:def 14;
end;
end;
L2530: (for B187 , B188 being (Element of D255) holds ([ B187 , B188 ] in (the InternalRel of D255) iff [ ( D261 . B187 ) , ( D261 . B188 ) ] in (the InternalRel of D254)))
proof
let C355 , C356 being (Element of D255);
thus L2531: ([ C355 , C356 ] in (the InternalRel of D255) implies [ ( D261 . C355 ) , ( D261 . C356 ) ] in (the InternalRel of D254))
proof
assume L2532: [ C355 , C356 ] in (the InternalRel of D255);
per cases  by L2532 , ENUMSET1:def 4 , NECKLA_2:2;
suppose L2533: [ C355 , C356 ] = [ ( 0 ) , 1 ];

L2534: C356 = 1 by L2533 , XTUPLE_0:1;
L2535: C356 in { ( 0 ) , 1 } by L2534 , TARSKI:def 2;
L2536: C356 in ( dom D251 ) by L2535 , FUNCT_4:62;
L2537: ( D261 . C356 ) = ( D251 . 1 ) by L2536 , L2448 , L2534 , FUNCT_4:16
.= C345 by FUNCT_4:63;
L2538: C355 = ( 0 ) by L2533 , XTUPLE_0:1;
L2539: C355 in { ( 0 ) , 1 } by L2538 , TARSKI:def 2;
L2540: C355 in ( dom D251 ) by L2539 , FUNCT_4:62;
L2541: ( D261 . C355 ) = ( D251 . ( 0 ) ) by L2540 , L2448 , L2538 , FUNCT_4:16
.= C344 by FUNCT_4:63;
thus L2542: thesis by L2541 , L2460 , L2537 , ENUMSET1:def 4;
end;
suppose L2543: [ C355 , C356 ] = [ 1 , ( 0 ) ];

L2544: C356 = ( 0 ) by L2543 , XTUPLE_0:1;
L2545: C356 in { ( 0 ) , 1 } by L2544 , TARSKI:def 2;
L2546: C356 in ( dom D251 ) by L2545 , FUNCT_4:62;
L2547: ( D261 . C356 ) = ( D251 . ( 0 ) ) by L2546 , L2448 , L2544 , FUNCT_4:16
.= C344 by FUNCT_4:63;
L2548: C355 = 1 by L2543 , XTUPLE_0:1;
L2549: C355 in { ( 0 ) , 1 } by L2548 , TARSKI:def 2;
L2550: C355 in ( dom D251 ) by L2549 , FUNCT_4:62;
L2551: ( D261 . C355 ) = ( D251 . 1 ) by L2550 , L2448 , L2548 , FUNCT_4:16
.= C345 by FUNCT_4:63;
thus L2552: thesis by L2551 , L2460 , L2547 , ENUMSET1:def 4;
end;
suppose L2553: [ C355 , C356 ] = [ 1 , 2 ];

L2554: C355 = 1 by L2553 , XTUPLE_0:1;
L2555: C355 in { ( 0 ) , 1 } by L2554 , TARSKI:def 2;
L2556: C355 in ( dom D251 ) by L2555 , FUNCT_4:62;
L2557: ( D261 . C355 ) = ( D251 . 1 ) by L2556 , L2448 , L2554 , FUNCT_4:16
.= C345 by FUNCT_4:63;
L2558: C356 = 2 by L2553 , XTUPLE_0:1;
L2559: C356 in { 2 , 3 } by L2558 , TARSKI:def 2;
L2560: C356 in ( dom D252 ) by L2559 , FUNCT_4:62;
L2561: ( D251 +* D252 ) = ( D252 +* D251 ) by L2448 , FUNCT_4:35;
L2562: ( D261 . C356 ) = ( D252 . 2 ) by L2561 , L2448 , L2558 , L2560 , FUNCT_4:16
.= C346 by FUNCT_4:63;
thus L2563: thesis by L2562 , L2460 , L2557 , ENUMSET1:def 4;
end;
suppose L2564: [ C355 , C356 ] = [ 2 , 1 ];

L2565: C356 = 1 by L2564 , XTUPLE_0:1;
L2566: C356 in { ( 0 ) , 1 } by L2565 , TARSKI:def 2;
L2567: C356 in ( dom D251 ) by L2566 , FUNCT_4:62;
L2568: ( D261 . C356 ) = ( D251 . 1 ) by L2567 , L2448 , L2565 , FUNCT_4:16
.= C345 by FUNCT_4:63;
L2569: C355 = 2 by L2564 , XTUPLE_0:1;
L2570: C355 in { 2 , 3 } by L2569 , TARSKI:def 2;
L2571: C355 in ( dom D252 ) by L2570 , FUNCT_4:62;
L2572: ( D251 +* D252 ) = ( D252 +* D251 ) by L2448 , FUNCT_4:35;
L2573: ( D261 . C355 ) = ( D252 . 2 ) by L2572 , L2448 , L2569 , L2571 , FUNCT_4:16
.= C346 by FUNCT_4:63;
thus L2574: thesis by L2573 , L2460 , L2568 , ENUMSET1:def 4;
end;
suppose L2575: [ C355 , C356 ] = [ 2 , 3 ];

L2576: ( D251 +* D252 ) = ( D252 +* D251 ) by L2448 , FUNCT_4:35;
L2577: C356 = 3 by L2575 , XTUPLE_0:1;
L2578: C356 in { 2 , 3 } by L2577 , TARSKI:def 2;
L2579: C356 in ( dom D252 ) by L2578 , FUNCT_4:62;
L2580: ( D261 . C356 ) = ( D252 . 3 ) by L2579 , L2448 , L2577 , L2576 , FUNCT_4:16
.= C347 by FUNCT_4:63;
L2581: C355 = 2 by L2575 , XTUPLE_0:1;
L2582: C355 in { 2 , 3 } by L2581 , TARSKI:def 2;
L2583: C355 in ( dom D252 ) by L2582 , FUNCT_4:62;
L2584: ( D261 . C355 ) = ( D252 . 2 ) by L2583 , L2448 , L2581 , L2576 , FUNCT_4:16
.= C346 by FUNCT_4:63;
thus L2585: thesis by L2584 , L2460 , L2580 , ENUMSET1:def 4;
end;
suppose L2586: [ C355 , C356 ] = [ 3 , 2 ];

L2587: ( D251 +* D252 ) = ( D252 +* D251 ) by L2448 , FUNCT_4:35;
L2588: C356 = 2 by L2586 , XTUPLE_0:1;
L2589: C356 in { 3 , 2 } by L2588 , TARSKI:def 2;
L2590: C356 in ( dom D252 ) by L2589 , FUNCT_4:62;
L2591: ( D261 . C356 ) = ( D252 . 2 ) by L2590 , L2448 , L2588 , L2587 , FUNCT_4:16
.= C346 by FUNCT_4:63;
L2592: C355 = 3 by L2586 , XTUPLE_0:1;
L2593: C355 in { 3 , 2 } by L2592 , TARSKI:def 2;
L2594: C355 in ( dom D252 ) by L2593 , FUNCT_4:62;
L2595: ( D261 . C355 ) = ( D252 . 3 ) by L2594 , L2448 , L2592 , L2587 , FUNCT_4:16
.= C347 by FUNCT_4:63;
thus L2596: thesis by L2595 , L2460 , L2591 , ENUMSET1:def 4;
end;
end;

thus L2598: ([ ( D261 . C355 ) , ( D261 . C356 ) ] in (the InternalRel of D254) implies [ C355 , C356 ] in (the InternalRel of D255))
proof
reconsider D262 = ( D261 " ) as (Function of (the carrier of D254) , (the carrier of D255)) by L2456 , L2459 , FUNCT_2:25;
L2599: ( dom D251 ) = { ( 0 ) , 1 } by FUNCT_4:62;
L2600: ( rng D251 ) = { C344 , C345 } by FUNCT_4:64;
reconsider D263 = D251 as (Function of { ( 0 ) , 1 } , { C344 , C345 }) by L2600 , L2599 , RELSET_1:4;
reconsider D264 = ( D263 " ) as (Function of { C344 , C345 } , { ( 0 ) , 1 }) by L2438 , L2458 , FUNCT_2:25;
L2601: ( dom D252 ) = { 2 , 3 } by FUNCT_4:62;
L2602: ( rng D252 ) = { C346 , C347 } by FUNCT_4:64;
reconsider D265 = D252 as (Function of { 2 , 3 } , { C346 , C347 }) by L2602 , L2601 , RELSET_1:4;
reconsider D266 = ( D265 " ) as (Function of { C346 , C347 } , { 2 , 3 }) by L2418 , L2437 , FUNCT_2:25;
L2603: ( dom D266 ) = { C346 , C347 } by L2437 , L2602 , FUNCT_1:33;
L2604: D266 = ( (C346 , C347) --> (2 , 3) ) by L2429 , NECKLACE:10;
L2605: D262 = ( D264 +* D266 ) by L2448 , L2458 , L2437 , L2439 , NECKLACE:7;
L2606: D264 = ( (C344 , C345) --> (( 0 ) , 1) ) by L2419 , NECKLACE:10;
L2607: ( dom D264 ) = { C344 , C345 } by L2458 , L2600 , FUNCT_1:33;
L2608: ( D264 +* D266 ) = ( D266 +* D264 ) by L2607 , L2438 , L2418 , L2439 , L2603 , FUNCT_4:35;
L2609: D262 = ( D266 +* D264 ) by L2608 , L2448 , L2458 , L2437 , L2439 , NECKLACE:7;
assume L2610: [ ( D261 . C355 ) , ( D261 . C356 ) ] in (the InternalRel of D254);
per cases  by L2460 , L2610 , ENUMSET1:def 4;
suppose L2611: [ ( D261 . C355 ) , ( D261 . C356 ) ] = [ C344 , C345 ];

L2612: ( D261 . C355 ) = C344 by L2611 , XTUPLE_0:1;
L2613: ( D261 . C355 ) in { C344 , C345 } by L2612 , TARSKI:def 2;
L2614: ( D262 . ( D261 . C355 ) ) = ( D264 . C344 ) by L2613 , L2438 , L2418 , L2439 , L2607 , L2603 , L2605 , L2612 , FUNCT_4:16
.= ( 0 ) by L2419 , L2606 , FUNCT_4:63;
L2615: C355 = ( 0 ) by L2614 , L2427 , L2459 , FUNCT_2:26;
L2616: ( D261 . C356 ) = C345 by L2611 , XTUPLE_0:1;
L2617: ( D261 . C356 ) in ( dom D264 ) by L2616 , L2607 , TARSKI:def 2;
L2618: ( D262 . ( D261 . C356 ) ) = ( D264 . C345 ) by L2617 , L2438 , L2418 , L2439 , L2607 , L2603 , L2605 , L2616 , FUNCT_4:16
.= 1 by L2606 , FUNCT_4:63;
L2619: ( D262 . ( D261 . C356 ) ) = C356 by L2427 , L2459 , FUNCT_2:26;
thus L2620: thesis by L2619 , L2615 , L2618 , ENUMSET1:def 4 , NECKLA_2:2;
end;
suppose L2621: [ ( D261 . C355 ) , ( D261 . C356 ) ] = [ C345 , C344 ];

L2622: ( D261 . C356 ) = C344 by L2621 , XTUPLE_0:1;
L2623: ( D261 . C356 ) in { C344 , C345 } by L2622 , TARSKI:def 2;
L2624: ( D262 . ( D261 . C356 ) ) = ( D264 . C344 ) by L2623 , L2438 , L2418 , L2439 , L2607 , L2603 , L2605 , L2622 , FUNCT_4:16
.= ( 0 ) by L2419 , L2606 , FUNCT_4:63;
L2625: C356 = ( 0 ) by L2624 , L2427 , L2459 , FUNCT_2:26;
L2626: ( D261 . C355 ) = C345 by L2621 , XTUPLE_0:1;
L2627: ( D261 . C355 ) in ( dom D264 ) by L2626 , L2607 , TARSKI:def 2;
L2628: ( D262 . ( D261 . C355 ) ) = ( D264 . C345 ) by L2627 , L2438 , L2418 , L2439 , L2607 , L2603 , L2605 , L2626 , FUNCT_4:16
.= 1 by L2606 , FUNCT_4:63;
L2629: ( D262 . ( D261 . C355 ) ) = C355 by L2427 , L2459 , FUNCT_2:26;
thus L2630: thesis by L2629 , L2625 , L2628 , ENUMSET1:def 4 , NECKLA_2:2;
end;
suppose L2631: [ ( D261 . C355 ) , ( D261 . C356 ) ] = [ C345 , C346 ];

L2632: ( D261 . C355 ) = C345 by L2631 , XTUPLE_0:1;
L2633: ( D261 . C355 ) in ( dom D264 ) by L2632 , L2607 , TARSKI:def 2;
L2634: ( D262 . ( D261 . C355 ) ) = ( D264 . C345 ) by L2633 , L2438 , L2418 , L2439 , L2607 , L2603 , L2605 , L2632 , FUNCT_4:16
.= 1 by L2606 , FUNCT_4:63;
L2635: C355 = 1 by L2634 , L2427 , L2459 , FUNCT_2:26;
L2636: ( D261 . C356 ) = C346 by L2631 , XTUPLE_0:1;
L2637: ( D261 . C356 ) in ( dom D266 ) by L2636 , L2603 , TARSKI:def 2;
L2638: ( D262 . ( D261 . C356 ) ) = ( D266 . C346 ) by L2637 , L2438 , L2418 , L2439 , L2607 , L2603 , L2609 , L2636 , FUNCT_4:16
.= 2 by L2429 , L2604 , FUNCT_4:63;
L2639: ( D262 . ( D261 . C356 ) ) = C356 by L2427 , L2459 , FUNCT_2:26;
thus L2640: thesis by L2639 , L2635 , L2638 , ENUMSET1:def 4 , NECKLA_2:2;
end;
suppose L2641: [ ( D261 . C355 ) , ( D261 . C356 ) ] = [ C346 , C345 ];

L2642: ( D261 . C356 ) = C345 by L2641 , XTUPLE_0:1;
L2643: ( D261 . C356 ) in ( dom D264 ) by L2642 , L2607 , TARSKI:def 2;
L2644: ( D262 . ( D261 . C356 ) ) = ( D264 . C345 ) by L2643 , L2438 , L2418 , L2439 , L2607 , L2603 , L2605 , L2642 , FUNCT_4:16
.= 1 by L2606 , FUNCT_4:63;
L2645: C356 = 1 by L2644 , L2427 , L2459 , FUNCT_2:26;
L2646: ( D261 . C355 ) = C346 by L2641 , XTUPLE_0:1;
L2647: ( D261 . C355 ) in ( dom D266 ) by L2646 , L2603 , TARSKI:def 2;
L2648: ( D262 . ( D261 . C355 ) ) = ( D266 . C346 ) by L2647 , L2438 , L2418 , L2439 , L2607 , L2603 , L2609 , L2646 , FUNCT_4:16
.= 2 by L2429 , L2604 , FUNCT_4:63;
L2649: ( D262 . ( D261 . C355 ) ) = C355 by L2427 , L2459 , FUNCT_2:26;
thus L2650: thesis by L2649 , L2645 , L2648 , ENUMSET1:def 4 , NECKLA_2:2;
end;
suppose L2651: [ ( D261 . C355 ) , ( D261 . C356 ) ] = [ C346 , C347 ];

L2652: ( D261 . C355 ) = C346 by L2651 , XTUPLE_0:1;
L2653: ( D261 . C355 ) in { C346 , C347 } by L2652 , TARSKI:def 2;
L2654: ( D262 . ( D261 . C355 ) ) = ( D266 . C346 ) by L2653 , L2438 , L2418 , L2439 , L2607 , L2603 , L2609 , L2652 , FUNCT_4:16
.= 2 by L2429 , L2604 , FUNCT_4:63;
L2655: C355 = 2 by L2654 , L2427 , L2459 , FUNCT_2:26;
L2656: ( D261 . C356 ) = C347 by L2651 , XTUPLE_0:1;
L2657: ( D261 . C356 ) in ( dom D266 ) by L2656 , L2603 , TARSKI:def 2;
L2658: ( D262 . ( D261 . C356 ) ) = ( D266 . C347 ) by L2657 , L2438 , L2418 , L2439 , L2607 , L2603 , L2609 , L2656 , FUNCT_4:16
.= 3 by L2604 , FUNCT_4:63;
L2659: ( D262 . ( D261 . C356 ) ) = C356 by L2427 , L2459 , FUNCT_2:26;
thus L2660: thesis by L2659 , L2655 , L2658 , ENUMSET1:def 4 , NECKLA_2:2;
end;
suppose L2661: [ ( D261 . C355 ) , ( D261 . C356 ) ] = [ C347 , C346 ];

L2662: ( D261 . C356 ) = C346 by L2661 , XTUPLE_0:1;
L2663: ( D261 . C356 ) in { C346 , C347 } by L2662 , TARSKI:def 2;
L2664: ( D262 . ( D261 . C356 ) ) = ( D266 . C346 ) by L2663 , L2438 , L2418 , L2439 , L2607 , L2603 , L2609 , L2662 , FUNCT_4:16
.= 2 by L2429 , L2604 , FUNCT_4:63;
L2665: C356 = 2 by L2664 , L2427 , L2459 , FUNCT_2:26;
L2666: ( D261 . C355 ) = C347 by L2661 , XTUPLE_0:1;
L2667: ( D261 . C355 ) in ( dom D266 ) by L2666 , L2603 , TARSKI:def 2;
L2668: ( D262 . ( D261 . C355 ) ) = ( D266 . C347 ) by L2667 , L2438 , L2418 , L2439 , L2607 , L2603 , L2609 , L2666 , FUNCT_4:16
.= 3 by L2604 , FUNCT_4:63;
L2669: ( D262 . ( D261 . C355 ) ) = C355 by L2427 , L2459 , FUNCT_2:26;
thus L2670: thesis by L2669 , L2665 , L2668 , ENUMSET1:def 4 , NECKLA_2:2;
end;
end;

end;
thus L2599: thesis by L2530 , L2459 , NECKLACE:def 1;
end;
theorem
L2600: (for B189 being non  empty  irreflexive  symmetric RelStr holds (for B190 being (Element of B189) holds (for B191 , B192 being non  empty RelStr holds (((the carrier of B191) misses (the carrier of B192) & ( subrelstr ( ( [#] B189 ) \ { B190 } ) ) = ( union_of (B191 , B192) ) & B189 is non  trivial & B189 is  path-connected & ( ComplRelStr B189 ) is  path-connected) implies B189 embeds ( Necklace 4 )))))
proof
let C357 being non  empty  irreflexive  symmetric RelStr;
let C358 being (Element of C357);
let C359 , C360 being non  empty RelStr;
assume that
L2601: (the carrier of C359) misses (the carrier of C360)
and
L2602: ( subrelstr ( ( [#] C357 ) \ { C358 } ) ) = ( union_of (C359 , C360) )
and
L2603: C357 is non  trivial
and
L2604: C357 is  path-connected
and
L2605: ( ComplRelStr C357 ) is  path-connected;
consider C361 being (Element of C359) such that L2606: [ C361 , C358 ] in (the InternalRel of C357) by L2601 , L2602 , L2604 , L2330;
set D267 = ( (the carrier of C357) \ { C358 } );
set D268 = { C358 };
reconsider D269 = D267 as (Subset of C357);
set D270 = ( subrelstr D269 );
reconsider D271 = D270 as non  empty  irreflexive  symmetric RelStr by L2603 , YELLOW_0:def 15;
L2607: (D271 = ( subrelstr ( ( [#] C357 ) \ { C358 } ) ) & D271 = ( union_of (C360 , C359) )) by L2602 , L371;
consider C362 being (Element of C360) such that L2608: [ C362 , C358 ] in (the InternalRel of C357) by L2607 , L2601 , L2604 , L2330;
reconsider D272 = { B193 where B193 is (Element of C359) : [ B193 , C358 ] in (the InternalRel of C357) } , D273 = { B194 where B194 is (Element of C359) : (not [ B194 , C358 ] in (the InternalRel of C357)) } , D274 = { B195 where B195 is (Element of C360) : [ B195 , C358 ] in (the InternalRel of C357) } , D275 = { B196 where B196 is (Element of C360) : (not [ B196 , C358 ] in (the InternalRel of C357)) } as set;
reconsider D276 = D268 as (Subset of C357);
set D277 = ( subrelstr D276 );
L2609: D272 misses D273
proof
assume L2610: (not thesis);
consider C363 being set such that L2611: (C363 in D272 & C363 in D273) by L2610 , XBOOLE_0:3;
L2612: ((ex B197 being (Element of C359) st (B197 = C363 & [ B197 , C358 ] in (the InternalRel of C357))) & (ex B198 being (Element of C359) st (B198 = C363 & (not [ B198 , C358 ] in (the InternalRel of C357))))) by L2611;
thus L2613: contradiction by L2612;
end;
L2614: C361 in D272 by L2606;
L2615: (the carrier of C359) = ( D272 \/ D273 )
proof
thus L2616: (the carrier of C359) c= ( D272 \/ D273 )
proof
let C364 being set;
assume L2617: C364 in (the carrier of C359);
per cases ;
suppose L2618: [ C364 , C358 ] in (the InternalRel of C357);

L2619: C364 in D272 by L2618 , L2617;
thus L2620: thesis by L2619 , XBOOLE_0:def 3;
end;
suppose L2621: (not [ C364 , C358 ] in (the InternalRel of C357));

L2622: C364 in D273 by L2621 , L2617;
thus L2623: thesis by L2622 , XBOOLE_0:def 3;
end;
end;

let C365 being set;
assume that
L2625: C365 in ( D272 \/ D273 );
per cases  by L2625 , XBOOLE_0:def 3;
suppose L2626: C365 in D272;

L2627: (ex B199 being (Element of C359) st (C365 = B199 & [ B199 , C358 ] in (the InternalRel of C357))) by L2626;
thus L2628: thesis by L2627;
end;
suppose L2629: C365 in D273;

L2630: (ex B200 being (Element of C359) st (C365 = B200 & (not [ B200 , C358 ] in (the InternalRel of C357)))) by L2629;
thus L2631: thesis by L2630;
end;
end;
L2633: D274 misses D275
proof
assume L2634: (not thesis);
consider C366 being set such that L2635: (C366 in D274 & C366 in D275) by L2634 , XBOOLE_0:3;
L2636: ((ex B201 being (Element of C360) st (B201 = C366 & [ B201 , C358 ] in (the InternalRel of C357))) & (ex B202 being (Element of C360) st (B202 = C366 & (not [ B202 , C358 ] in (the InternalRel of C357))))) by L2635;
thus L2637: contradiction by L2636;
end;
L2638: (the carrier of D277) misses (the carrier of D271)
proof
assume L2639: (not thesis);
L2640: ( (the carrier of D277) /\ (the carrier of D271) ) <> ( {} ) by L2639 , XBOOLE_0:def 7;
L2641: ( D276 /\ (the carrier of D271) ) <> ( {} ) by L2640 , YELLOW_0:def 15;
L2642: ( D276 /\ D269 ) <> ( {} ) by L2641 , YELLOW_0:def 15;
consider C367 being set such that L2643: C367 in ( D276 /\ D269 ) by L2642 , XBOOLE_0:def 1;
L2644: (C367 in D276 & C367 in D269) by L2643 , XBOOLE_0:def 4;
thus L2645: contradiction by L2644 , XBOOLE_0:def 5;
end;
reconsider D278 = D277 as non  empty  irreflexive  symmetric RelStr by YELLOW_0:def 15;
L2646: C362 in D274 by L2608;
L2647: (the carrier of C357) = ( (the carrier of D271) \/ { C358 } )
proof
thus L2648: (the carrier of C357) c= ( (the carrier of D271) \/ { C358 } )
proof
let C368 being set;
assume L2649: C368 in (the carrier of C357);
per cases ;
suppose L2650: C368 = C358;

L2651: C368 in { C358 } by L2650 , TARSKI:def 1;
thus L2652: thesis by L2651 , XBOOLE_0:def 3;
end;
suppose L2653: C368 <> C358;

L2654: (not C368 in { C358 }) by L2653 , TARSKI:def 1;
L2655: C368 in ( (the carrier of C357) \ { C358 } ) by L2654 , L2649 , XBOOLE_0:def 5;
L2656: C368 in (the carrier of D271) by L2655 , YELLOW_0:def 15;
thus L2657: thesis by L2656 , XBOOLE_0:def 3;
end;
end;

let C369 being set;
assume L2659: C369 in ( (the carrier of D271) \/ { C358 } );
per cases  by L2659 , XBOOLE_0:def 3;
suppose L2660: C369 in (the carrier of D271);

L2661: C369 in ( (the carrier of C357) \ { C358 } ) by L2660 , YELLOW_0:def 15;
thus L2662: thesis by L2661;
end;
suppose L2663: C369 in { C358 };

thus L2664: thesis by L2663;
end;
end;
L2666: (the carrier of C360) = ( D274 \/ D275 )
proof
thus L2667: (the carrier of C360) c= ( D274 \/ D275 )
proof
let C370 being set;
assume L2668: C370 in (the carrier of C360);
per cases ;
suppose L2669: [ C370 , C358 ] in (the InternalRel of C357);

L2670: C370 in D274 by L2669 , L2668;
thus L2671: thesis by L2670 , XBOOLE_0:def 3;
end;
suppose L2672: (not [ C370 , C358 ] in (the InternalRel of C357));

L2673: C370 in D275 by L2672 , L2668;
thus L2674: thesis by L2673 , XBOOLE_0:def 3;
end;
end;

let C371 being set;
assume that
L2676: C371 in ( D274 \/ D275 );
per cases  by L2676 , XBOOLE_0:def 3;
suppose L2677: C371 in D274;

L2678: (ex B203 being (Element of C360) st (C371 = B203 & [ B203 , C358 ] in (the InternalRel of C357))) by L2677;
thus L2679: thesis by L2678;
end;
suppose L2680: C371 in D275;

L2681: (ex B204 being (Element of C360) st (C371 = B204 & (not [ B204 , C358 ] in (the InternalRel of C357)))) by L2680;
thus L2682: thesis by L2681;
end;
end;
L2684: ( D273 \/ D275 ) is non  empty
proof
assume L2685: (not thesis);
L2686: D275 is  empty by L2685;
L2687: D273 is  empty by L2685;
L2688: (for B205 being (Element of D271) holds [ B205 , C358 ] in (the InternalRel of C357))
proof
let C372 being (Element of D271);
L2689: (the carrier of D271) = ( (the carrier of C359) \/ (the carrier of C360) ) by L2602 , NECKLA_2:def 2;
per cases  by L2689 , XBOOLE_0:def 3;
suppose L2690: C372 in (the carrier of C359);

L2691: (ex B206 being (Element of C359) st (C372 = B206 & [ B206 , C358 ] in (the InternalRel of C357))) by L2690 , L2615 , L2687;
thus L2692: thesis by L2691;
end;
suppose L2693: C372 in (the carrier of C360);

L2694: (ex B207 being (Element of C360) st (C372 = B207 & [ B207 , C358 ] in (the InternalRel of C357))) by L2693 , L2666 , L2686;
thus L2695: thesis by L2694;
end;
end;
L2697: (not ( ComplRelStr C357 ) is  path-connected)
proof
L2698: C361 <> C358
proof
assume L2699: (not thesis);
L2700: C358 in ( (the carrier of C359) \/ (the carrier of C360) ) by L2699 , XBOOLE_0:def 3;
L2701: C358 in (the carrier of D271) by L2700 , L2602 , NECKLA_2:def 2;
L2702: C358 in { C358 } by TARSKI:def 1;
L2703: C358 in (the carrier of D278) by L2702 , YELLOW_0:def 15;
L2704: C358 in ( (the carrier of D271) /\ (the carrier of D278) ) by L2703 , L2701 , XBOOLE_0:def 4;
thus L2705: contradiction by L2704 , L2638 , XBOOLE_0:def 7;
end;
L2706: C361 in ( (the carrier of C359) \/ (the carrier of C360) ) by XBOOLE_0:def 3;
L2707: C361 in (the carrier of D271) by L2706 , L2602 , NECKLA_2:def 2;
L2708: (the carrier of D271) c= (the carrier of C357) by L2647 , XBOOLE_1:7;
L2709: C361 is (Element of ( ComplRelStr C357 )) by L2708 , L2707 , NECKLACE:def 8;
L2710: C358 is (Element of ( ComplRelStr C357 )) by NECKLACE:def 8;
assume L2711: (not thesis);
L2712: (the InternalRel of ( ComplRelStr C357 )) reduces C358 , C361 by L2711 , L2698 , L2709 , L2710 , L1801;
consider C373 being FinSequence such that L2713: ( len C373 ) > ( 0 ) and L2714: ( C373 . 1 ) = C358 and L2715: ( C373 . ( len C373 ) ) = C361 and L2716: (for B208 being (Element of ( NAT )) holds ((B208 in ( dom C373 ) & ( B208 + 1 ) in ( dom C373 )) implies [ ( C373 . B208 ) , ( C373 . ( B208 + 1 ) ) ] in (the InternalRel of ( ComplRelStr C357 )))) by L2712 , REWRITE1:11;
L2717: ( ( 0 ) + 1 ) <= ( len C373 ) by L2713 , NAT_1:13;
L2718: ( len C373 ) > 1 by L2717 , L2698 , L2714 , L2715 , XXREAL_0:1;
L2719: ( 1 + 1 ) <= ( len C373 ) by L2718 , NAT_1:13;
L2720: 2 in ( dom C373 ) by L2719 , FINSEQ_3:25;
L2721: 1 in ( dom C373 ) by L2717 , FINSEQ_3:25;
L2722: [ ( C373 . 1 ) , ( C373 . ( 1 + 1 ) ) ] in (the InternalRel of ( ComplRelStr C357 )) by L2721 , L2716 , L2720;
L2723: ( C373 . 2 ) <> C358
proof
L2724: [ C358 , C358 ] in ( id (the carrier of C357) ) by RELAT_1:def 10;
assume L2725: (not thesis);
L2726: [ C358 , C358 ] in ( (the InternalRel of ( ComplRelStr C357 )) /\ ( id (the carrier of C357) ) ) by L2725 , L2714 , L2722 , L2724 , XBOOLE_0:def 4;
L2727: (the InternalRel of ( ComplRelStr C357 )) meets ( id (the carrier of C357) ) by L2726 , XBOOLE_0:def 7;
thus L2728: contradiction by L2727 , L775;
end;
L2729: ( C373 . 2 ) in (the carrier of ( ComplRelStr C357 )) by L2722 , ZFMISC_1:87;
L2730: ( C373 . 2 ) in (the carrier of C357) by L2729 , NECKLACE:def 8;
L2731: ( C373 . 2 ) in (the carrier of D271)
proof
assume L2732: (not thesis);
L2733: ( C373 . 2 ) in { C358 } by L2732 , L2647 , L2730 , XBOOLE_0:def 3;
thus L2734: thesis by L2733 , L2723 , TARSKI:def 1;
end;
L2735: [ ( C373 . 2 ) , C358 ] in (the InternalRel of C357) by L2731 , L2688;
L2736: (the InternalRel of ( ComplRelStr C357 )) is_symmetric_in (the carrier of ( ComplRelStr C357 )) by NECKLACE:def 3;
L2737: (( C373 . 1 ) in (the carrier of ( ComplRelStr C357 )) & ( C373 . ( 1 + 1 ) ) in (the carrier of ( ComplRelStr C357 ))) by L2722 , ZFMISC_1:87;
L2738: [ ( C373 . ( 1 + 1 ) ) , ( C373 . 1 ) ] in (the InternalRel of ( ComplRelStr C357 )) by L2737 , L2722 , L2736 , RELAT_2:def 3;
L2739: [ ( C373 . 2 ) , C358 ] in ( (the InternalRel of ( ComplRelStr C357 )) /\ (the InternalRel of C357) ) by L2738 , L2714 , L2735 , XBOOLE_0:def 4;
L2740: (the InternalRel of ( ComplRelStr C357 )) meets (the InternalRel of C357) by L2739 , XBOOLE_0:def 7;
thus L2741: thesis by L2740 , L765;
end;
thus L2742: thesis by L2697 , L2605;
end;
thus L2743: thesis
proof
per cases  by L2684;
suppose L2744: D273 is non  empty;

L2745: (ex B209 being (Element of D273) st (ex B210 being (Element of D272) st [ B209 , B210 ] in (the InternalRel of C357)))
proof
set D279 = the (Element of D273);
L2746: C361 in ( (the carrier of C359) \/ (the carrier of C360) ) by XBOOLE_0:def 3;
L2747: C361 in (the carrier of D271) by L2746 , L2602 , NECKLA_2:def 2;
L2748: D279 in D273 by L2744;
L2749: (ex B211 being (Element of C359) st (B211 = D279 & (not [ B211 , C358 ] in (the InternalRel of C357)))) by L2748;
L2750: D279 in ( (the carrier of C359) \/ (the carrier of C360) ) by L2749 , XBOOLE_0:def 3;
L2751: D279 in (the carrier of D271) by L2750 , L2602 , NECKLA_2:def 2;
L2752: (the carrier of D271) c= (the carrier of C357) by L2647 , XBOOLE_1:7;
reconsider D280 = C361 as (Element of C357) by L2752 , L2747;
reconsider D281 = D279 as (Element of C357) by L2752 , L2751;
L2753: D280 <> D281
proof
assume L2754: (not thesis);
L2755: D280 in D272 by L2606;
L2756: D280 in ( D272 /\ D273 ) by L2755 , L2744 , L2754 , XBOOLE_0:def 4;
thus L2757: contradiction by L2756 , L2609 , XBOOLE_0:def 7;
end;
L2758: (the InternalRel of C357) reduces D280 , D281 by L2753 , L2604 , L1801;
consider C374 being FinSequence such that L2759: ( len C374 ) > ( 0 ) and L2760: ( C374 . 1 ) = D280 and L2761: ( C374 . ( len C374 ) ) = D281 and L2762: (for B212 being (Element of ( NAT )) holds ((B212 in ( dom C374 ) & ( B212 + 1 ) in ( dom C374 )) implies [ ( C374 . B212 ) , ( C374 . ( B212 + 1 ) ) ] in (the InternalRel of C357))) by L2758 , REWRITE1:11;
defpred S5[ Nat ] means (( C374 . $1 ) in D273 & $1 in ( dom C374 ) & (for B213 being Nat holds (B213 > $1 implies (B213 in ( dom C374 ) implies ( C374 . B213 ) in D273))));
L2763: (for B214 being Nat holds (B214 > ( len C374 ) implies (B214 in ( dom C374 ) implies ( C374 . B214 ) in D273)))
proof
let C375 being Nat;
assume that
L2764: C375 > ( len C374 );
assume L2765: C375 in ( dom C374 );
L2766: C375 in ( Seg ( len C374 ) ) by L2765 , FINSEQ_1:def 3;
thus L2767: thesis by L2766 , L2764 , FINSEQ_1:1;
end;
L2768: S5[ ( len C374 ) ] by L2763 , L2744 , L2759 , L2761 , CARD_1:27 , FINSEQ_5:6;
L2769: (ex B215 being Nat st S5[ B215 ]) by L2768;
L2770: (ex B216 being Nat st (S5[ B216 ] & (for B217 being Nat holds (S5[ B217 ] implies B217 >= B216)))) from NAT_1:sch 5(L2769);
consider C376 being Nat such that L2771: S5[ C376 ] and L2772: (for B218 being Nat holds (S5[ B218 ] implies B218 >= C376)) by L2770;
L2773: C376 <> ( 0 )
proof
assume L2774: (not thesis);
L2775: ( 0 ) in ( Seg ( len C374 ) ) by L2774 , L2771 , FINSEQ_1:def 3;
thus L2776: contradiction by L2775 , FINSEQ_1:1;
end;
consider C377 being Nat such that L2777: C376 = ( C377 + 1 ) by L2773 , NAT_1:6;
L2778: C376 <> 1
proof
assume L2779: (not thesis);
L2780: D280 in D272 by L2606;
L2781: ( D272 /\ D273 ) is non  empty by L2780 , L2760 , L2771 , L2779 , XBOOLE_0:def 4;
thus L2782: contradiction by L2781 , L2609 , XBOOLE_0:def 7;
end;
L2783: C377 >= 1
proof
assume L2784: (not thesis);
L2785: C377 = ( 0 ) by L2784 , NAT_1:25;
thus L2786: contradiction by L2785 , L2777 , L2778;
end;
L2787: C376 in ( Seg ( len C374 ) ) by L2771 , FINSEQ_1:def 3;
L2788: (C377 <= ( C377 + 1 ) & C376 <= ( len C374 )) by L2787 , FINSEQ_1:1 , XREAL_1:29;
L2789: C377 <= ( len C374 ) by L2788 , L2777 , XXREAL_0:2;
L2790: C377 in ( dom C374 ) by L2789 , L2783 , FINSEQ_3:25;
L2791: [ ( C374 . C377 ) , ( C374 . ( C377 + 1 ) ) ] in (the InternalRel of C357) by L2790 , L2762 , L2771 , L2777;
L2792: ((the InternalRel of C357) is_symmetric_in (the carrier of C357) & ( C374 . C377 ) in (the carrier of C357)) by L2791 , NECKLACE:def 3 , ZFMISC_1:87;
L2793: ( C374 . C376 ) in (the carrier of C357) by L2777 , L2791 , ZFMISC_1:87;
L2794: [ ( C374 . C376 ) , ( C374 . C377 ) ] in (the InternalRel of C357) by L2793 , L2777 , L2791 , L2792 , RELAT_2:def 3;
L2795: (for B219 being Nat holds (B219 > C377 implies (B219 in ( dom C374 ) implies ( C374 . B219 ) in D273)))
proof
assume L2796: (not thesis);
consider C378 being Nat such that L2797: C378 > C377 and L2798: C378 in ( dom C374 ) and L2799: (not ( C374 . C378 ) in D273) by L2796;
L2800: C378 > C376
proof
per cases  by XXREAL_0:1;
suppose L2801: C378 < C376;

thus L2802: thesis by L2801 , L2777 , L2797 , NAT_1:13;
end;
suppose L2803: C376 < C378;

thus L2804: thesis by L2803;
end;
suppose L2805: C376 = C378;

thus L2806: thesis by L2805 , L2771 , L2799;
end;
end;
thus L2808: contradiction by L2800 , L2771 , L2798 , L2799;
end;
L2809: C377 < C376 by L2777 , NAT_1:13;
L2810: (not S5[ C377 ]) by L2809 , L2772;
L2811: ( C374 . C377 ) in (the carrier of C357) by L2791 , ZFMISC_1:87;
L2812: (( C374 . C377 ) in (the carrier of D271) or ( C374 . C377 ) in { C358 }) by L2811 , L2647 , XBOOLE_0:def 3;
L2813: (( C374 . C377 ) in ( (the carrier of C359) \/ (the carrier of C360) ) or ( C374 . C377 ) in { C358 }) by L2812 , L2602 , NECKLA_2:def 2;
thus L2814: thesis
proof
per cases  by L2777 , L2791 , L2813 , XBOOLE_0:def 3 , ZFMISC_1:87;
suppose L2815: (( C374 . C377 ) in (the carrier of C359) & ( C374 . C376 ) in (the carrier of C357));

reconsider D282 = ( C374 . C377 ) as (Element of D272) by L2815 , L2615 , L2783 , L2789 , L2810 , L2795 , FINSEQ_3:25 , XBOOLE_0:def 3;
L2816: D282 in ( (the carrier of C359) \/ (the carrier of C360) ) by L2815 , XBOOLE_0:def 3;
L2817: D282 in (the carrier of D271) by L2816 , L2602 , NECKLA_2:def 2;
reconsider D283 = ( C374 . C376 ) as (Element of D273) by L2771;
L2818: (the carrier of D271) c= (the carrier of C357) by L2647 , XBOOLE_1:7;
L2819: D283 in (the carrier of C359) by L2615 , L2771 , XBOOLE_0:def 3;
L2820: D283 in ( (the carrier of C359) \/ (the carrier of C360) ) by L2819 , XBOOLE_0:def 3;
L2821: D283 in (the carrier of D271) by L2820 , L2602 , NECKLA_2:def 2;
L2822: ([ D282 , D283 ] in (the InternalRel of C357) & (the InternalRel of C357) is_symmetric_in (the carrier of C357)) by L2762 , L2771 , L2777 , L2790 , NECKLACE:def 3;
L2823: [ D283 , D282 ] in (the InternalRel of C357) by L2822 , L2821 , L2817 , L2818 , RELAT_2:def 3;
thus L2824: thesis by L2823;
end;
suppose L2825: (( C374 . C377 ) in (the carrier of C360) & ( C374 . C376 ) in (the carrier of C357));

reconsider D284 = ( C374 . C377 ) as (Element of C360) by L2825;
reconsider D285 = ( C374 . C376 ) as (Element of C359) by L2615 , L2771 , XBOOLE_0:def 3;
L2826: D284 in ( (the carrier of C359) \/ (the carrier of C360) ) by XBOOLE_0:def 3;
L2827: D284 in (the carrier of D271) by L2826 , L2602 , NECKLA_2:def 2;
L2828: D285 in ( (the carrier of C359) \/ (the carrier of C360) ) by XBOOLE_0:def 3;
L2829: D285 in (the carrier of D271) by L2828 , L2602 , NECKLA_2:def 2;
L2830: [ D285 , D284 ] in [: (the carrier of D271) , (the carrier of D271) :] by L2829 , L2827 , ZFMISC_1:87;
L2831: [ D285 , D284 ] in ( (the InternalRel of C357) |_2 (the carrier of D271) ) by L2830 , L2794 , XBOOLE_0:def 4;
L2832: [ D285 , D284 ] in (the InternalRel of D271) by L2831 , YELLOW_0:def 14;
thus L2833: thesis by L2832 , L2601 , L2602 , L2302;
end;
suppose L2834: (( C374 . C377 ) in { C358 } & ( C374 . C376 ) in (the carrier of C357));

L2835: (ex B220 being (Element of C359) st (( C374 . C376 ) = B220 & (not [ B220 , C358 ] in (the InternalRel of C357)))) by L2771;
thus L2836: thesis by L2835 , L2794 , L2834 , TARSKI:def 1;
end;
end;

end;
consider C379 being (Element of D273), C380 being (Element of D272) such that L2815: [ C379 , C380 ] in (the InternalRel of C357) by L2745;
set D286 = the (Element of D274);
L2816: D286 in D274 by L2646;
L2817: (ex B221 being (Element of C360) st (B221 = D286 & [ B221 , C358 ] in (the InternalRel of C357))) by L2816;
set D287 = { C379 , C380 , C358 , D286 };
L2818: D287 c= (the carrier of C357)
proof
L2819: D286 in D274 by L2646;
L2820: (ex B222 being (Element of C360) st (B222 = D286 & [ B222 , C358 ] in (the InternalRel of C357))) by L2819;
L2821: D286 in ( (the carrier of C359) \/ (the carrier of C360) ) by L2820 , XBOOLE_0:def 3;
L2822: D286 in (the carrier of D271) by L2821 , L2602 , NECKLA_2:def 2;
L2823: C380 in D272 by L2614;
L2824: (ex B223 being (Element of C359) st (B223 = C380 & [ B223 , C358 ] in (the InternalRel of C357))) by L2823;
L2825: C380 in ( (the carrier of C359) \/ (the carrier of C360) ) by L2824 , XBOOLE_0:def 3;
L2826: C380 in (the carrier of D271) by L2825 , L2602 , NECKLA_2:def 2;
L2827: C379 in (the carrier of C359) by L2615 , L2744 , XBOOLE_0:def 3;
L2828: C379 in ( (the carrier of C359) \/ (the carrier of C360) ) by L2827 , XBOOLE_0:def 3;
L2829: C379 in (the carrier of D271) by L2828 , L2602 , NECKLA_2:def 2;
let C381 being set;
assume L2830: C381 in D287;
L2831: (C381 = C379 or C381 = C380 or C381 = C358 or C381 = D286) by L2830 , ENUMSET1:def 2;
L2832: (the carrier of D271) c= (the carrier of C357) by L2647 , XBOOLE_1:7;
thus L2833: thesis by L2832 , L2831 , L2829 , L2826 , L2822;
end;
reconsider D288 = D287 as (Subset of C357) by L2818;
reconsider D289 = ( subrelstr D288 ) as non  empty  full (SubRelStr of C357) by YELLOW_0:def 15;
L2834: D286 in D274 by L2646;
reconsider D290 = D286 as (Element of C357) by L2817 , ZFMISC_1:87;
L2835: C380 in D272 by L2614;
L2836: [ C358 , D290 ] in (the InternalRel of C357)
proof
L2837: ((ex B224 being (Element of C360) st (D290 = B224 & [ B224 , C358 ] in (the InternalRel of C357))) & (the InternalRel of C357) is_symmetric_in (the carrier of C357)) by L2834 , NECKLACE:def 3;
thus L2838: thesis by L2837 , RELAT_2:def 3;
end;
L2839: C379 in D273 by L2744;
reconsider D291 = C379 , D292 = C380 as (Element of C357) by L2815 , ZFMISC_1:87;
L2840: [ D292 , C358 ] in (the InternalRel of C357)
proof
L2841: (ex B225 being (Element of C359) st (D292 = B225 & [ B225 , C358 ] in (the InternalRel of C357))) by L2835;
thus L2842: thesis by L2841;
end;
L2843: D290 <> D291
proof
assume L2844: (not thesis);
L2845: ((ex B226 being (Element of C360) st (D290 = B226 & [ B226 , C358 ] in (the InternalRel of C357))) & (ex B227 being (Element of C359) st (D291 = B227 & (not [ B227 , C358 ] in (the InternalRel of C357))))) by L2839 , L2834;
thus L2846: contradiction by L2845 , L2844;
end;
L2847: (not [ D291 , C358 ] in (the InternalRel of C357))
proof
L2848: (ex B228 being (Element of C359) st (D291 = B228 & (not [ B228 , C358 ] in (the InternalRel of C357)))) by L2839;
thus L2849: thesis by L2848;
end;
L2850: (not [ D292 , D290 ] in (the InternalRel of C357))
proof
L2851: (ex B229 being (Element of C360) st (D290 = B229 & [ B229 , C358 ] in (the InternalRel of C357))) by L2834;
L2852: D290 in ( (the carrier of C359) \/ (the carrier of C360) ) by L2851 , XBOOLE_0:def 3;
reconsider D293 = D290 as (Element of D271) by L2852 , L2602 , NECKLA_2:def 2;
L2853: (ex B230 being (Element of C359) st (D292 = B230 & [ B230 , C358 ] in (the InternalRel of C357))) by L2835;
L2854: D292 in ( (the carrier of C359) \/ (the carrier of C360) ) by L2853 , XBOOLE_0:def 3;
reconsider D294 = D292 as (Element of D271) by L2854 , L2602 , NECKLA_2:def 2;
assume L2855: (not thesis);
L2856: [ D294 , D293 ] in ( (the InternalRel of C357) |_2 (the carrier of D271) ) by L2855 , XBOOLE_0:def 4;
L2857: [ D294 , D293 ] in (the InternalRel of D271) by L2856 , YELLOW_0:def 14;
L2858: [ D294 , D293 ] in ( (the InternalRel of C359) \/ (the InternalRel of C360) ) by L2857 , L2602 , NECKLA_2:def 2;
per cases  by L2858 , XBOOLE_0:def 3;
suppose L2859: [ D294 , D293 ] in (the InternalRel of C359);

L2860: D293 in (the carrier of C359) by L2859 , ZFMISC_1:87;
L2861: D293 in ( (the carrier of C359) /\ (the carrier of C360) ) by L2860 , L2851 , XBOOLE_0:def 4;
thus L2862: contradiction by L2861 , L2601 , XBOOLE_0:def 7;
end;
suppose L2863: [ D294 , D293 ] in (the InternalRel of C360);

L2864: D294 in (the carrier of C360) by L2863 , ZFMISC_1:87;
L2865: D294 in ( (the carrier of C359) /\ (the carrier of C360) ) by L2864 , L2853 , XBOOLE_0:def 4;
thus L2866: contradiction by L2865 , L2601 , XBOOLE_0:def 7;
end;
end;
L2868: D290 <> C358
proof
assume L2869: (not thesis);
L2870: (ex B231 being (Element of C360) st (D290 = B231 & [ B231 , C358 ] in (the InternalRel of C357))) by L2834;
L2871: C358 in ( (the carrier of C359) \/ (the carrier of C360) ) by L2870 , L2869 , XBOOLE_0:def 3;
L2872: C358 in (the carrier of D271) by L2871 , L2602 , NECKLA_2:def 2;
L2873: C358 in ( (the carrier of C357) \ { C358 } ) by L2872 , YELLOW_0:def 15;
L2874: (not C358 in { C358 }) by L2873 , XBOOLE_0:def 5;
thus L2875: contradiction by L2874 , TARSKI:def 1;
end;
L2876: (not [ D291 , D290 ] in (the InternalRel of C357))
proof
L2877: (ex B232 being (Element of C360) st (D290 = B232 & [ B232 , C358 ] in (the InternalRel of C357))) by L2834;
L2878: D290 in ( (the carrier of C359) \/ (the carrier of C360) ) by L2877 , XBOOLE_0:def 3;
reconsider D295 = D290 as (Element of D271) by L2878 , L2602 , NECKLA_2:def 2;
L2879: (ex B233 being (Element of C359) st (D291 = B233 & (not [ B233 , C358 ] in (the InternalRel of C357)))) by L2839;
L2880: D291 in ( (the carrier of C359) \/ (the carrier of C360) ) by L2879 , XBOOLE_0:def 3;
reconsider D296 = D291 as (Element of D271) by L2880 , L2602 , NECKLA_2:def 2;
assume L2881: (not thesis);
L2882: [ D296 , D295 ] in ( (the InternalRel of C357) |_2 (the carrier of D271) ) by L2881 , XBOOLE_0:def 4;
L2883: [ D296 , D295 ] in (the InternalRel of D271) by L2882 , YELLOW_0:def 14;
L2884: [ D296 , D295 ] in ( (the InternalRel of C359) \/ (the InternalRel of C360) ) by L2883 , L2602 , NECKLA_2:def 2;
per cases  by L2884 , XBOOLE_0:def 3;
suppose L2885: [ D296 , D295 ] in (the InternalRel of C359);

L2886: D295 in (the carrier of C359) by L2885 , ZFMISC_1:87;
L2887: D295 in ( (the carrier of C359) /\ (the carrier of C360) ) by L2886 , L2877 , XBOOLE_0:def 4;
thus L2888: contradiction by L2887 , L2601 , XBOOLE_0:def 7;
end;
suppose L2889: [ D296 , D295 ] in (the InternalRel of C360);

L2890: D296 in (the carrier of C360) by L2889 , ZFMISC_1:87;
L2891: D296 in ( (the carrier of C359) /\ (the carrier of C360) ) by L2890 , L2879 , XBOOLE_0:def 4;
thus L2892: contradiction by L2891 , L2601 , XBOOLE_0:def 7;
end;
end;
L2894: C358 <> D291
proof
assume L2895: (not thesis);
L2896: (ex B234 being (Element of C359) st (D291 = B234 & (not [ B234 , C358 ] in (the InternalRel of C357)))) by L2839;
L2897: C358 in ( (the carrier of C359) \/ (the carrier of C360) ) by L2896 , L2895 , XBOOLE_0:def 3;
L2898: C358 in (the carrier of D271) by L2897 , L2602 , NECKLA_2:def 2;
L2899: C358 in ( (the carrier of C357) \ { C358 } ) by L2898 , YELLOW_0:def 15;
L2900: (not C358 in { C358 }) by L2899 , XBOOLE_0:def 5;
thus L2901: contradiction by L2900 , TARSKI:def 1;
end;
L2902: D290 <> D292
proof
consider C382 being (Element of C360) such that L2903: D290 = C382 and L2904: [ C382 , C358 ] in (the InternalRel of C357) by L2834;
assume L2905: (not thesis);
L2906: (ex B235 being (Element of C359) st (D292 = B235 & [ B235 , C358 ] in (the InternalRel of C357))) by L2835;
L2907: C382 in ( (the carrier of C359) /\ (the carrier of C360) ) by L2906 , L2905 , L2903 , XBOOLE_0:def 4;
thus L2908: contradiction by L2907 , L2601 , XBOOLE_0:def 7;
end;
L2909: D292 <> C358
proof
assume L2910: (not thesis);
L2911: (ex B236 being (Element of C359) st (D292 = B236 & [ B236 , C358 ] in (the InternalRel of C357))) by L2835;
L2912: C358 in ( (the carrier of C359) \/ (the carrier of C360) ) by L2911 , L2910 , XBOOLE_0:def 3;
L2913: C358 in (the carrier of D271) by L2912 , L2602 , NECKLA_2:def 2;
L2914: C358 in ( (the carrier of C357) \ { C358 } ) by L2913 , YELLOW_0:def 15;
L2915: (not C358 in { C358 }) by L2914 , XBOOLE_0:def 5;
thus L2916: contradiction by L2915 , TARSKI:def 1;
end;
L2917: D291 <> D292
proof
assume L2918: (not thesis);
L2919: ((ex B237 being (Element of C359) st (D291 = B237 & (not [ B237 , C358 ] in (the InternalRel of C357)))) & (ex B238 being (Element of C359) st (D292 = B238 & [ B238 , C358 ] in (the InternalRel of C357)))) by L2839 , L2835;
thus L2920: contradiction by L2919 , L2918;
end;
L2921: D291 , D292 , C358 , D290 are_mutually_different  by L2917 , L2909 , L2894 , L2843 , L2902 , L2868 , ZFMISC_1:def 6;
L2922: ( subrelstr D288 ) embeds ( Necklace 4 ) by L2921 , L2815 , L2840 , L2836 , L2847 , L2876 , L2850 , L2409;
L2923: C357 embeds ( Necklace 4 )
proof
assume L2924: (not thesis);
L2925: C357 is  N-free by L2924 , NECKLA_2:def 1;
L2926: D289 is  N-free by L2925 , L1291;
thus L2927: thesis by L2926 , L2922 , NECKLA_2:def 1;
end;
thus L2928: thesis by L2923;
end;
suppose L2929: D275 is non  empty;

L2930: (ex B239 being (Element of D275) st (ex B240 being (Element of D274) st [ B239 , B240 ] in (the InternalRel of C357)))
proof
set D297 = the (Element of D275);
L2931: C362 in ( (the carrier of C359) \/ (the carrier of C360) ) by XBOOLE_0:def 3;
L2932: C362 in (the carrier of D271) by L2931 , L2602 , NECKLA_2:def 2;
L2933: D297 in D275 by L2929;
L2934: (ex B241 being (Element of C360) st (B241 = D297 & (not [ B241 , C358 ] in (the InternalRel of C357)))) by L2933;
L2935: D297 in ( (the carrier of C359) \/ (the carrier of C360) ) by L2934 , XBOOLE_0:def 3;
L2936: D297 in (the carrier of D271) by L2935 , L2602 , NECKLA_2:def 2;
L2937: (the carrier of D271) c= (the carrier of C357) by L2647 , XBOOLE_1:7;
reconsider D298 = C362 as (Element of C357) by L2937 , L2932;
reconsider D299 = D297 as (Element of C357) by L2937 , L2936;
L2938: D298 <> D299
proof
assume L2939: (not thesis);
L2940: D299 in D274 by L2939 , L2608;
L2941: D299 in ( D274 /\ D275 ) by L2940 , L2929 , XBOOLE_0:def 4;
thus L2942: contradiction by L2941 , L2633 , XBOOLE_0:def 7;
end;
L2943: (the InternalRel of C357) reduces D298 , D299 by L2938 , L2604 , L1801;
consider C383 being FinSequence such that L2944: ( len C383 ) > ( 0 ) and L2945: ( C383 . 1 ) = D298 and L2946: ( C383 . ( len C383 ) ) = D299 and L2947: (for B242 being (Element of ( NAT )) holds ((B242 in ( dom C383 ) & ( B242 + 1 ) in ( dom C383 )) implies [ ( C383 . B242 ) , ( C383 . ( B242 + 1 ) ) ] in (the InternalRel of C357))) by L2943 , REWRITE1:11;
defpred S6[ Nat ] means (( C383 . $1 ) in D275 & $1 in ( dom C383 ) & (for B243 being Nat holds (B243 > $1 implies (B243 in ( dom C383 ) implies ( C383 . B243 ) in D275))));
L2948: (for B244 being Nat holds (B244 > ( len C383 ) implies (B244 in ( dom C383 ) implies ( C383 . B244 ) in D275)))
proof
let C384 being Nat;
assume that
L2949: C384 > ( len C383 );
assume L2950: C384 in ( dom C383 );
L2951: C384 in ( Seg ( len C383 ) ) by L2950 , FINSEQ_1:def 3;
thus L2952: thesis by L2951 , L2949 , FINSEQ_1:1;
end;
L2953: S6[ ( len C383 ) ] by L2948 , L2929 , L2944 , L2946 , CARD_1:27 , FINSEQ_5:6;
L2954: (ex B245 being Nat st S6[ B245 ]) by L2953;
L2955: (ex B246 being Nat st (S6[ B246 ] & (for B247 being Nat holds (S6[ B247 ] implies B247 >= B246)))) from NAT_1:sch 5(L2954);
consider C385 being Nat such that L2956: S6[ C385 ] and L2957: (for B248 being Nat holds (S6[ B248 ] implies B248 >= C385)) by L2955;
L2958: C385 <> ( 0 )
proof
assume L2959: (not thesis);
L2960: ( 0 ) in ( Seg ( len C383 ) ) by L2959 , L2956 , FINSEQ_1:def 3;
thus L2961: contradiction by L2960 , FINSEQ_1:1;
end;
consider C386 being Nat such that L2962: C385 = ( C386 + 1 ) by L2958 , NAT_1:6;
L2963: C385 <> 1
proof
assume L2964: (not thesis);
L2965: D298 in D274 by L2608;
L2966: ( D274 /\ D275 ) is non  empty by L2965 , L2945 , L2956 , L2964 , XBOOLE_0:def 4;
thus L2967: contradiction by L2966 , L2633 , XBOOLE_0:def 7;
end;
L2968: C386 >= 1
proof
assume L2969: (not thesis);
L2970: C386 = ( 0 ) by L2969 , NAT_1:25;
thus L2971: contradiction by L2970 , L2962 , L2963;
end;
L2972: C385 in ( Seg ( len C383 ) ) by L2956 , FINSEQ_1:def 3;
L2973: (C386 <= ( C386 + 1 ) & C385 <= ( len C383 )) by L2972 , FINSEQ_1:1 , XREAL_1:29;
L2974: C386 <= ( len C383 ) by L2973 , L2962 , XXREAL_0:2;
L2975: C386 in ( Seg ( len C383 ) ) by L2974 , L2968 , FINSEQ_1:1;
L2976: C386 in ( dom C383 ) by L2975 , FINSEQ_1:def 3;
L2977: [ ( C383 . C386 ) , ( C383 . ( C386 + 1 ) ) ] in (the InternalRel of C357) by L2976 , L2947 , L2956 , L2962;
L2978: ((the InternalRel of C357) is_symmetric_in (the carrier of C357) & ( C383 . C386 ) in (the carrier of C357)) by L2977 , NECKLACE:def 3 , ZFMISC_1:87;
L2979: ( C383 . C385 ) in (the carrier of C357) by L2962 , L2977 , ZFMISC_1:87;
L2980: [ ( C383 . C385 ) , ( C383 . C386 ) ] in (the InternalRel of C357) by L2979 , L2962 , L2977 , L2978 , RELAT_2:def 3;
L2981: (for B249 being Nat holds (B249 > C386 implies (B249 in ( dom C383 ) implies ( C383 . B249 ) in D275)))
proof
assume L2982: (not thesis);
consider C387 being Nat such that L2983: C387 > C386 and L2984: C387 in ( dom C383 ) and L2985: (not ( C383 . C387 ) in D275) by L2982;
L2986: C387 > C385
proof
per cases  by XXREAL_0:1;
suppose L2987: C387 < C385;

thus L2988: thesis by L2987 , L2962 , L2983 , NAT_1:13;
end;
suppose L2989: C385 < C387;

thus L2990: thesis by L2989;
end;
suppose L2991: C385 = C387;

thus L2992: thesis by L2991 , L2956 , L2985;
end;
end;
thus L2994: contradiction by L2986 , L2956 , L2984 , L2985;
end;
L2995: C386 < C385 by L2962 , NAT_1:13;
L2996: (not S6[ C386 ]) by L2995 , L2957;
L2997: ( C383 . C386 ) in (the carrier of C357) by L2977 , ZFMISC_1:87;
L2998: (( C383 . C386 ) in (the carrier of D271) or ( C383 . C386 ) in { C358 }) by L2997 , L2647 , XBOOLE_0:def 3;
L2999: (( C383 . C386 ) in ( (the carrier of C359) \/ (the carrier of C360) ) or ( C383 . C386 ) in { C358 }) by L2998 , L2602 , NECKLA_2:def 2;
thus L3000: thesis
proof
per cases  by L2962 , L2977 , L2999 , XBOOLE_0:def 3 , ZFMISC_1:87;
suppose L3001: (( C383 . C386 ) in (the carrier of C360) & ( C383 . C385 ) in (the carrier of C357));

reconsider D300 = ( C383 . C386 ) as (Element of D274) by L3001 , L2666 , L2975 , L2996 , L2981 , FINSEQ_1:def 3 , XBOOLE_0:def 3;
reconsider D301 = ( C383 . C385 ) as (Element of D275) by L2956;
L3002: [ D300 , D301 ] in (the InternalRel of C357) by L2947 , L2956 , L2962 , L2976;
thus L3003: thesis by L3002 , L2980;
end;
suppose L3004: (( C383 . C386 ) in (the carrier of C359) & ( C383 . C385 ) in (the carrier of C357));

reconsider D302 = ( C383 . C386 ) as (Element of C359) by L3004;
reconsider D303 = ( C383 . C385 ) as (Element of C360) by L2666 , L2956 , XBOOLE_0:def 3;
L3005: (the InternalRel of D271) is_symmetric_in (the carrier of D271) by NECKLACE:def 3;
L3006: D302 in ( (the carrier of C359) \/ (the carrier of C360) ) by XBOOLE_0:def 3;
L3007: D302 in (the carrier of D271) by L3006 , L2602 , NECKLA_2:def 2;
L3008: D303 in ( (the carrier of C359) \/ (the carrier of C360) ) by XBOOLE_0:def 3;
L3009: D303 in (the carrier of D271) by L3008 , L2602 , NECKLA_2:def 2;
L3010: [ D303 , D302 ] in [: (the carrier of D271) , (the carrier of D271) :] by L3009 , L3007 , ZFMISC_1:87;
L3011: [ D303 , D302 ] in ( (the InternalRel of C357) |_2 (the carrier of D271) ) by L3010 , L2980 , XBOOLE_0:def 4;
L3012: [ D303 , D302 ] in (the InternalRel of D271) by L3011 , YELLOW_0:def 14;
L3013: [ D302 , D303 ] in (the InternalRel of D271) by L3012 , L3009 , L3007 , L3005 , RELAT_2:def 3;
thus L3014: thesis by L3013 , L2601 , L2602 , L2302;
end;
suppose L3015: (( C383 . C386 ) in { C358 } & ( C383 . C385 ) in (the carrier of C357));

L3016: (ex B250 being (Element of C360) st (( C383 . C385 ) = B250 & (not [ B250 , C358 ] in (the InternalRel of C357)))) by L2956;
thus L3017: thesis by L3016 , L2980 , L3015 , TARSKI:def 1;
end;
end;

end;
consider C388 being (Element of D275), C389 being (Element of D274) such that L3001: [ C388 , C389 ] in (the InternalRel of C357) by L2930;
set D304 = the (Element of D272);
L3002: D304 in D272 by L2614;
L3003: (ex B251 being (Element of C359) st (B251 = D304 & [ B251 , C358 ] in (the InternalRel of C357))) by L3002;
set D305 = { C388 , C389 , C358 , D304 };
L3004: D305 c= (the carrier of C357)
proof
L3005: D304 in D272 by L2614;
L3006: (ex B252 being (Element of C359) st (B252 = D304 & [ B252 , C358 ] in (the InternalRel of C357))) by L3005;
L3007: D304 in ( (the carrier of C359) \/ (the carrier of C360) ) by L3006 , XBOOLE_0:def 3;
L3008: D304 in (the carrier of D271) by L3007 , L2602 , NECKLA_2:def 2;
L3009: C389 in D274 by L2646;
L3010: (ex B253 being (Element of C360) st (B253 = C389 & [ B253 , C358 ] in (the InternalRel of C357))) by L3009;
L3011: C389 in ( (the carrier of C359) \/ (the carrier of C360) ) by L3010 , XBOOLE_0:def 3;
L3012: C389 in (the carrier of D271) by L3011 , L2602 , NECKLA_2:def 2;
L3013: C388 in (the carrier of C360) by L2666 , L2929 , XBOOLE_0:def 3;
L3014: C388 in ( (the carrier of C359) \/ (the carrier of C360) ) by L3013 , XBOOLE_0:def 3;
L3015: C388 in (the carrier of D271) by L3014 , L2602 , NECKLA_2:def 2;
let C390 being set;
assume L3016: C390 in D305;
L3017: (C390 = C388 or C390 = C389 or C390 = C358 or C390 = D304) by L3016 , ENUMSET1:def 2;
L3018: (the carrier of D271) c= (the carrier of C357) by L2647 , XBOOLE_1:7;
thus L3019: thesis by L3018 , L3017 , L3015 , L3012 , L3008;
end;
reconsider D306 = D305 as (Subset of C357) by L3004;
reconsider D307 = ( subrelstr D306 ) as non  empty  full (SubRelStr of C357) by YELLOW_0:def 15;
L3020: D304 in D272 by L2614;
reconsider D308 = D304 as (Element of C357) by L3003 , ZFMISC_1:87;
L3021: C389 in D274 by L2646;
L3022: [ C358 , D308 ] in (the InternalRel of C357)
proof
L3023: ((ex B254 being (Element of C359) st (D308 = B254 & [ B254 , C358 ] in (the InternalRel of C357))) & (the InternalRel of C357) is_symmetric_in (the carrier of C357)) by L3020 , NECKLACE:def 3;
thus L3024: thesis by L3023 , RELAT_2:def 3;
end;
L3025: C388 in D275 by L2929;
reconsider D309 = C388 , D310 = C389 as (Element of C357) by L3001 , ZFMISC_1:87;
L3026: [ D310 , C358 ] in (the InternalRel of C357)
proof
L3027: (ex B255 being (Element of C360) st (D310 = B255 & [ B255 , C358 ] in (the InternalRel of C357))) by L3021;
thus L3028: thesis by L3027;
end;
L3029: D308 <> D309
proof
assume L3030: (not thesis);
L3031: ((ex B256 being (Element of C359) st (D308 = B256 & [ B256 , C358 ] in (the InternalRel of C357))) & (ex B257 being (Element of C360) st (D309 = B257 & (not [ B257 , C358 ] in (the InternalRel of C357))))) by L3025 , L3020;
thus L3032: contradiction by L3031 , L3030;
end;
L3033: (not [ D309 , C358 ] in (the InternalRel of C357))
proof
L3034: (ex B258 being (Element of C360) st (D309 = B258 & (not [ B258 , C358 ] in (the InternalRel of C357)))) by L3025;
thus L3035: thesis by L3034;
end;
L3036: (not [ D310 , D308 ] in (the InternalRel of C357))
proof
L3037: (ex B259 being (Element of C359) st (D308 = B259 & [ B259 , C358 ] in (the InternalRel of C357))) by L3020;
L3038: D308 in ( (the carrier of C359) \/ (the carrier of C360) ) by L3037 , XBOOLE_0:def 3;
reconsider D311 = D308 as (Element of D271) by L3038 , L2602 , NECKLA_2:def 2;
L3039: (ex B260 being (Element of C360) st (D310 = B260 & [ B260 , C358 ] in (the InternalRel of C357))) by L3021;
L3040: D310 in ( (the carrier of C359) \/ (the carrier of C360) ) by L3039 , XBOOLE_0:def 3;
reconsider D312 = D310 as (Element of D271) by L3040 , L2602 , NECKLA_2:def 2;
assume L3041: (not thesis);
L3042: [ D312 , D311 ] in ( (the InternalRel of C357) |_2 (the carrier of D271) ) by L3041 , XBOOLE_0:def 4;
L3043: [ D312 , D311 ] in (the InternalRel of D271) by L3042 , YELLOW_0:def 14;
L3044: [ D312 , D311 ] in ( (the InternalRel of C359) \/ (the InternalRel of C360) ) by L3043 , L2602 , NECKLA_2:def 2;
per cases  by L3044 , XBOOLE_0:def 3;
suppose L3045: [ D312 , D311 ] in (the InternalRel of C359);

L3046: D312 in (the carrier of C359) by L3045 , ZFMISC_1:87;
L3047: D312 in ( (the carrier of C359) /\ (the carrier of C360) ) by L3046 , L3039 , XBOOLE_0:def 4;
thus L3048: contradiction by L3047 , L2601 , XBOOLE_0:def 7;
end;
suppose L3049: [ D312 , D311 ] in (the InternalRel of C360);

L3050: D311 in (the carrier of C360) by L3049 , ZFMISC_1:87;
L3051: D311 in ( (the carrier of C359) /\ (the carrier of C360) ) by L3050 , L3037 , XBOOLE_0:def 4;
thus L3052: contradiction by L3051 , L2601 , XBOOLE_0:def 7;
end;
end;
L3054: D308 <> C358
proof
assume L3055: (not thesis);
L3056: (ex B261 being (Element of C359) st (D308 = B261 & [ B261 , C358 ] in (the InternalRel of C357))) by L3020;
L3057: C358 in ( (the carrier of C359) \/ (the carrier of C360) ) by L3056 , L3055 , XBOOLE_0:def 3;
L3058: C358 in (the carrier of D271) by L3057 , L2602 , NECKLA_2:def 2;
L3059: C358 in ( (the carrier of C357) \ { C358 } ) by L3058 , YELLOW_0:def 15;
L3060: (not C358 in { C358 }) by L3059 , XBOOLE_0:def 5;
thus L3061: contradiction by L3060 , TARSKI:def 1;
end;
L3062: (not [ D309 , D308 ] in (the InternalRel of C357))
proof
L3063: (ex B262 being (Element of C359) st (D308 = B262 & [ B262 , C358 ] in (the InternalRel of C357))) by L3020;
L3064: D308 in ( (the carrier of C359) \/ (the carrier of C360) ) by L3063 , XBOOLE_0:def 3;
reconsider D313 = D308 as (Element of D271) by L3064 , L2602 , NECKLA_2:def 2;
L3065: (ex B263 being (Element of C360) st (D309 = B263 & (not [ B263 , C358 ] in (the InternalRel of C357)))) by L3025;
L3066: D309 in ( (the carrier of C359) \/ (the carrier of C360) ) by L3065 , XBOOLE_0:def 3;
reconsider D314 = D309 as (Element of D271) by L3066 , L2602 , NECKLA_2:def 2;
assume L3067: (not thesis);
L3068: [ D314 , D313 ] in ( (the InternalRel of C357) |_2 (the carrier of D271) ) by L3067 , XBOOLE_0:def 4;
L3069: [ D314 , D313 ] in (the InternalRel of D271) by L3068 , YELLOW_0:def 14;
L3070: [ D314 , D313 ] in ( (the InternalRel of C359) \/ (the InternalRel of C360) ) by L3069 , L2602 , NECKLA_2:def 2;
per cases  by L3070 , XBOOLE_0:def 3;
suppose L3071: [ D314 , D313 ] in (the InternalRel of C359);

L3072: D314 in (the carrier of C359) by L3071 , ZFMISC_1:87;
L3073: D314 in ( (the carrier of C359) /\ (the carrier of C360) ) by L3072 , L3065 , XBOOLE_0:def 4;
thus L3074: contradiction by L3073 , L2601 , XBOOLE_0:def 7;
end;
suppose L3075: [ D314 , D313 ] in (the InternalRel of C360);

L3076: D313 in (the carrier of C360) by L3075 , ZFMISC_1:87;
L3077: D313 in ( (the carrier of C359) /\ (the carrier of C360) ) by L3076 , L3063 , XBOOLE_0:def 4;
thus L3078: contradiction by L3077 , L2601 , XBOOLE_0:def 7;
end;
end;
L3080: C358 <> D309
proof
assume L3081: (not thesis);
L3082: (ex B264 being (Element of C360) st (D309 = B264 & (not [ B264 , C358 ] in (the InternalRel of C357)))) by L3025;
L3083: C358 in ( (the carrier of C359) \/ (the carrier of C360) ) by L3082 , L3081 , XBOOLE_0:def 3;
L3084: C358 in (the carrier of D271) by L3083 , L2602 , NECKLA_2:def 2;
L3085: C358 in ( (the carrier of C357) \ { C358 } ) by L3084 , YELLOW_0:def 15;
L3086: (not C358 in { C358 }) by L3085 , XBOOLE_0:def 5;
thus L3087: contradiction by L3086 , TARSKI:def 1;
end;
L3088: D308 <> D310
proof
consider C391 being (Element of C359) such that L3089: D308 = C391 and L3090: [ C391 , C358 ] in (the InternalRel of C357) by L3020;
assume L3091: (not thesis);
L3092: (ex B265 being (Element of C360) st (D310 = B265 & [ B265 , C358 ] in (the InternalRel of C357))) by L3021;
L3093: C391 in ( (the carrier of C359) /\ (the carrier of C360) ) by L3092 , L3091 , L3089 , XBOOLE_0:def 4;
thus L3094: contradiction by L3093 , L2601 , XBOOLE_0:def 7;
end;
L3095: D310 <> C358
proof
assume L3096: (not thesis);
L3097: (ex B266 being (Element of C360) st (D310 = B266 & [ B266 , C358 ] in (the InternalRel of C357))) by L3021;
L3098: C358 in ( (the carrier of C359) \/ (the carrier of C360) ) by L3097 , L3096 , XBOOLE_0:def 3;
L3099: C358 in (the carrier of D271) by L3098 , L2602 , NECKLA_2:def 2;
L3100: C358 in ( (the carrier of C357) \ { C358 } ) by L3099 , YELLOW_0:def 15;
L3101: (not C358 in { C358 }) by L3100 , XBOOLE_0:def 5;
thus L3102: contradiction by L3101 , TARSKI:def 1;
end;
L3103: D309 <> D310
proof
assume L3104: (not thesis);
L3105: ((ex B267 being (Element of C360) st (D309 = B267 & (not [ B267 , C358 ] in (the InternalRel of C357)))) & (ex B268 being (Element of C360) st (D310 = B268 & [ B268 , C358 ] in (the InternalRel of C357)))) by L3025 , L3021;
thus L3106: contradiction by L3105 , L3104;
end;
L3107: D309 , D310 , C358 , D308 are_mutually_different  by L3103 , L3095 , L3080 , L3029 , L3088 , L3054 , ZFMISC_1:def 6;
L3108: ( subrelstr D306 ) embeds ( Necklace 4 ) by L3107 , L3001 , L3026 , L3022 , L3033 , L3062 , L3036 , L2409;
L3109: C357 embeds ( Necklace 4 )
proof
assume L3110: (not thesis);
L3111: C357 is  N-free by L3110 , NECKLA_2:def 1;
L3112: D307 is  N-free by L3111 , L1291;
thus L3113: thesis by L3112 , L3108 , NECKLA_2:def 1;
end;
thus L3114: thesis by L3109;
end;
end;

end;
theorem
L2744: (for B269 being non  empty  strict  finite  irreflexive  symmetric RelStr holds ((B269 is  N-free & (the carrier of B269) in ( FinSETS )) implies ( the RelStr of B269 ) in ( fin_RelStr_sp )))
proof
let C392 being non  empty  strict  finite  irreflexive  symmetric RelStr;
defpred S7[ Nat ] means (for B270 being non  empty  strict  finite  irreflexive  symmetric RelStr holds ((B270 is  N-free & ( card (the carrier of B270) ) = $1 & (the carrier of B270) in ( FinSETS )) implies ( the RelStr of B270 ) in ( fin_RelStr_sp )));
L2745: (for B271 being Nat holds ((for B272 being Nat holds (B272 < B271 implies S7[ B272 ])) implies S7[ B271 ]))
proof
let C393 being Nat;
assume that
L2746: (for B273 being Nat holds (B273 < C393 implies S7[ B273 ]));
let C394 being non  empty  strict  finite  irreflexive  symmetric RelStr;
set D315 = ( ComplRelStr C394 );
assume that
L2747: C394 is  N-free
and
L2748: ( card (the carrier of C394) ) = C393
and
L2749: (the carrier of C394) in ( FinSETS );
per cases ;
suppose L2750: C394 is  trivial;

L2751: (the carrier of C394) is 1 -element by L2750;
reconsider D316 = C394 as 1 -element RelStr by L2751 , STRUCT_0:def 19;
L2752: ( the RelStr of D316 ) in ( fin_RelStr_sp ) by L2749 , NECKLA_2:def 5;
thus L2753: thesis by L2752;
end;
suppose L2754: ((not C394 is  path-connected) & C394 is non  trivial);

consider C395 , C396 being non  empty  strict  irreflexive  symmetric RelStr such that L2755: (the carrier of C395) misses (the carrier of C396) and L2756: ( the RelStr of C394 ) = ( union_of (C395 , C396) ) by L2754 , L1840;
set D317 = (the carrier of C395);
set D318 = (the carrier of C396);
set D319 = ( the RelStr of C394 );
set D320 = (the carrier of D319);
L2757: D320 = ( D317 \/ D318 ) by L2756 , NECKLA_2:def 2;
L2758: ( card D317 ) in ( card D320 ) by L2757 , L2755 , L2121;
reconsider D321 = C395 as non  empty  strict  finite  irreflexive  symmetric RelStr by L2758 , CARD_2:49;
reconsider D322 = D320 as  finite set;
L2759: ( card D318 ) in ( card D322 ) by L2755 , L2757 , L2121;
reconsider D323 = C396 as non  empty  strict  finite  irreflexive  symmetric RelStr by L2759 , CARD_2:49;
reconsider D324 = D318 as  finite set by L2759 , CARD_2:49;
L2760: ( card D324 ) < ( card D322 ) by L2759 , NAT_1:44;
L2761: D323 is  full  full  full  full (SubRelStr of C394) by L2755 , L2756 , L385;
L2762: D323 is  N-free by L2761 , L2747 , L1291;
L2763: (the carrier of D323) in ( FinSETS ) by L2749 , L2757 , CLASSES1:3 , CLASSES2:def 2 , XBOOLE_1:7;
L2764: D323 in ( fin_RelStr_sp ) by L2763 , L2746 , L2748 , L2760 , L2762;
L2765: D321 is  full  full  full  full (SubRelStr of C394) by L2755 , L2756 , L385;
L2766: D321 is  N-free by L2765 , L2747 , L1291;
reconsider D325 = D317 as  finite set by L2758 , CARD_2:49;
L2767: ( card D325 ) < ( card D322 ) by L2758 , NAT_1:44;
L2768: (the carrier of D321) in ( FinSETS ) by L2749 , L2757 , CLASSES1:3 , CLASSES2:def 2 , XBOOLE_1:7;
L2769: D321 in ( fin_RelStr_sp ) by L2768 , L2746 , L2748 , L2767 , L2766;
thus L2770: thesis by L2769 , L2755 , L2756 , L2764 , NECKLA_2:def 5;
end;
suppose L2771: ((not D315 is  path-connected) & C394 is non  trivial);

consider C397 , C398 being non  empty  strict  irreflexive  symmetric RelStr such that L2772: (the carrier of C397) misses (the carrier of C398) and L2773: ( the RelStr of C394 ) = ( sum_of (C397 , C398) ) by L2771 , L1959;
set D326 = (the carrier of C397);
set D327 = (the carrier of C398);
set D328 = ( the RelStr of C394 );
set D329 = (the carrier of D328);
L2774: D329 = ( D326 \/ D327 ) by L2773 , NECKLA_2:def 3;
L2775: ( card D326 ) in ( card D329 ) by L2774 , L2772 , L2121;
reconsider D330 = C397 as non  empty  strict  finite  irreflexive  symmetric RelStr by L2775 , CARD_2:49;
reconsider D331 = D329 as  finite set;
L2776: ( card D327 ) in ( card D331 ) by L2772 , L2774 , L2121;
reconsider D332 = C398 as non  empty  strict  finite  irreflexive  symmetric RelStr by L2776 , CARD_2:49;
reconsider D333 = D327 as  finite set by L2776 , CARD_2:49;
L2777: ( card D333 ) < ( card D331 ) by L2776 , NAT_1:44;
L2778: D332 is  full  full  full  full (SubRelStr of C394) by L2772 , L2773 , L385;
L2779: D332 is  N-free by L2778 , L2747 , L1291;
L2780: (the carrier of D332) in ( FinSETS ) by L2749 , L2774 , CLASSES1:3 , CLASSES2:def 2 , XBOOLE_1:7;
L2781: D332 in ( fin_RelStr_sp ) by L2780 , L2746 , L2748 , L2777 , L2779;
L2782: D330 is  full  full  full  full (SubRelStr of C394) by L2772 , L2773 , L385;
L2783: D330 is  N-free by L2782 , L2747 , L1291;
reconsider D334 = D326 as  finite set by L2775 , CARD_2:49;
L2784: ( card D334 ) < ( card D331 ) by L2775 , NAT_1:44;
L2785: (the carrier of D330) in ( FinSETS ) by L2749 , L2774 , CLASSES1:3 , CLASSES2:def 2 , XBOOLE_1:7;
L2786: D330 in ( fin_RelStr_sp ) by L2785 , L2746 , L2748 , L2784 , L2783;
thus L2787: thesis by L2786 , L2772 , L2773 , L2781 , NECKLA_2:def 5;
end;
suppose L2788: (C394 is non  trivial & C394 is  path-connected & D315 is  path-connected);

consider C399 being set such that L2789: C399 in (the carrier of C394) by XBOOLE_0:def 1;
reconsider D335 = C399 as (Element of C394) by L2789;
set D336 = ( (the carrier of C394) \ { D335 } );
L2790: D336 c= (the carrier of C394);
reconsider D337 = D336 as (Subset of C394);
set D338 = ( subrelstr D337 );
reconsider D339 = D338 as non  empty  finite  irreflexive  symmetric RelStr by L2788 , YELLOW_0:def 15;
L2791: (the carrier of D339) c= (the carrier of C394) by L2790 , YELLOW_0:def 15;
L2792: ( card D337 ) = ( ( card (the carrier of C394) ) - ( card { D335 } ) ) by CARD_2:44;
L2793: ( card D337 ) = ( C393 - 1 ) by L2792 , L2748 , CARD_2:42;
L2794: ( C393 - 1 ) < ( ( C393 - 1 ) + 1 ) by XREAL_1:29;
L2795: ( card (the carrier of D339) ) < C393 by L2794 , L2793 , YELLOW_0:def 15;
L2796: D339 is  N-free by L2747 , L1291;
L2797: D339 in ( fin_RelStr_sp ) by L2796 , L2746 , L2749 , L2795 , L2791 , CLASSES1:3 , CLASSES2:def 2;
thus L2798: thesis
proof
per cases  by L2797 , NECKLA_2:6;
suppose L2799: D339 is  trivial  trivial  trivial  trivial RelStr;

L2800: (the carrier of D339) is non  empty;
L2801: D337 is non  empty by L2800 , YELLOW_0:def 15;
L2802: D337 is  trivial by L2799 , YELLOW_0:def 15;
consider C400 being set such that L2803: D337 = { C400 } by L2802 , L2801 , ZFMISC_1:131;
L2804: ( (the carrier of C394) \/ { D335 } ) = (the carrier of C394)
proof
thus L2805: ( (the carrier of C394) \/ { D335 } ) c= (the carrier of C394)
proof
let C401 being set;
assume L2806: C401 in ( (the carrier of C394) \/ { D335 } );
L2807: (C401 in (the carrier of C394) or C401 in { D335 }) by L2806 , XBOOLE_0:def 3;
thus L2808: thesis by L2807;
end;

let C402 being set;
assume L2809: C402 in (the carrier of C394);
thus L2810: thesis by L2809 , XBOOLE_0:def 3;
end;
L2811: ( { C400 } \/ { D335 } ) = ( (the carrier of C394) \/ { D335 } ) by L2803 , XBOOLE_1:39;
L2812: ((the carrier of C394) = { C400 , D335 } & C400 <> D335) by L2811 , L2788 , L2804 , ENUMSET1:1;
L2813: ( card (the carrier of C394) ) = 2 by L2812 , CARD_2:57;
thus L2814: thesis by L2813 , L2749 , L2154;
end;
suppose L2815: (ex B274 , B275 being  strict RelStr st ((the carrier of B274) misses (the carrier of B275) & B274 in ( fin_RelStr_sp ) & B275 in ( fin_RelStr_sp ) & (D339 = ( union_of (B274 , B275) ) or D339 = ( sum_of (B274 , B275) ))));

consider C403 , C404 being  strict RelStr such that L2816: (the carrier of C403) misses (the carrier of C404) and L2817: C403 in ( fin_RelStr_sp ) and L2818: C404 in ( fin_RelStr_sp ) and L2819: (D339 = ( union_of (C403 , C404) ) or D339 = ( sum_of (C403 , C404) )) by L2815;
thus L2820: thesis
proof
per cases  by L2819;
suppose L2821: D339 = ( union_of (C403 , C404) );

L2822: C404 is (SubRelStr of D339) by L2816 , L2819 , L385;
reconsider D340 = C404 as non  empty (SubRelStr of C394) by L2822 , L2818 , NECKLA_2:4 , YELLOW_6:7;
L2823: C403 is (SubRelStr of D339) by L2816 , L2819 , L385;
reconsider D341 = C403 as non  empty (SubRelStr of C394) by L2823 , L2817 , NECKLA_2:4 , YELLOW_6:7;
L2824: ( subrelstr ( ( [#] C394 ) \ { D335 } ) ) = ( union_of (D341 , D340) ) by L2821;
L2825: C394 embeds ( Necklace 4 ) by L2824 , L2788 , L2816 , L2600;
thus L2826: thesis by L2825 , L2747 , NECKLA_2:def 1;
end;
suppose L2827: D339 = ( sum_of (C403 , C404) );

L2828: ( ComplRelStr C404 ) is non  empty
proof
assume L2829: (not thesis);
L2830: C404 is  empty by L2829;
thus L2831: contradiction by L2830 , L2818 , NECKLA_2:4;
end;
reconsider D342 = ( ComplRelStr C404 ) as non  empty RelStr by L2828;
L2832: ( ComplRelStr C403 ) is non  empty
proof
assume L2833: (not thesis);
L2834: C403 is  empty by L2833;
thus L2835: contradiction by L2834 , L2817 , NECKLA_2:4;
end;
reconsider D343 = ( ComplRelStr C403 ) as non  empty RelStr by L2832;
reconsider D344 = ( ComplRelStr C394 ) as non  empty  irreflexive  symmetric RelStr;
reconsider D345 = D335 as (Element of D344) by NECKLACE:def 8;
L2836: ((the carrier of D343) = (the carrier of C403) & (the carrier of D342) = (the carrier of C404)) by NECKLACE:def 8;
L2837: ( ComplRelStr D339 ) = ( ComplRelStr ( subrelstr ( ( [#] C394 ) \ { D335 } ) ) )
.= ( subrelstr ( ( [#] D344 ) \ { D345 } ) ) by L1198;
L2838: D344 is  N-free by L2747 , L1719;
L2839: (( ComplRelStr D344 ) is  path-connected & D344 is non  trivial) by L2788 , L831 , NECKLACE:def 8;
L2840: ( ComplRelStr D339 ) = ( union_of (( ComplRelStr C403 ) , ( ComplRelStr C404 )) ) by L2816 , L2827 , L1061;
L2841: D344 embeds ( Necklace 4 ) by L2840 , L2788 , L2816 , L2836 , L2839 , L2837 , L2600;
thus L2842: thesis by L2841 , L2838 , NECKLA_2:def 1;
end;
end;

end;
end;

end;
end;
L2800: (for B276 being Nat holds S7[ B276 ]) from NAT_1:sch 4(L2745);
L2801: ( card (the carrier of C392) ) is Nat;
thus L2802: thesis by L2801 , L2800;
end;
