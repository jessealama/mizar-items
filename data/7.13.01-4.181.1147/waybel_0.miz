:: Directed Sets, Nets, Ideals, Filters, and Maps
::  by Grzegorz Bancerek
::
:: Received September 12, 1996
:: Copyright (c) 1996-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies ORDERS_2, SUBSET_1, XXREAL_0, XBOOLE_0, RELAT_2, FINSET_1,
      LATTICE3, TARSKI, LATTICES, YELLOW_0, STRUCT_0, EQREL_1, CAT_1, FUNCT_1,
      RELAT_1, SEQM_3, FUNCOP_1, SETFAM_1, ORDINAL2, CARD_FIL, REWRITE1,
      ZFMISC_1, ORDERS_1, CARD_1, TREES_2, WAYBEL_0;
 notations TARSKI, XBOOLE_0, SUBSET_1, SETFAM_1, RELAT_1, RELAT_2, FINSET_1,
      FUNCT_1, RELSET_1, NUMBERS, FUNCT_2, FUNCOP_1, ORDERS_1, DOMAIN_1,
      STRUCT_0, LATTICE3, YELLOW_0, ORDERS_2, ORDERS_3;
 constructors SETFAM_1, DOMAIN_1, LATTICE3, YELLOW_0, ORDERS_3, REALSET1,
      RELSET_1;
 registrations XBOOLE_0, RELSET_1, FINSET_1, STRUCT_0, ORDERS_2, LATTICE3,
      YELLOW_0, SUBSET_1;
 requirements SUBSET, BOOLE;
 definitions TARSKI, STRUCT_0, LATTICE3, YELLOW_0, ORDERS_3, XBOOLE_0;
 theorems TARSKI, ZFMISC_1, ORDERS_2, LATTICE3, FUNCT_2, FUNCOP_1, YELLOW_0,
      RELAT_2, FUNCT_1, RELAT_1, ORDERS_3, XBOOLE_0, XBOOLE_1;
 schemes FINSET_1, XBOOLE_0;

begin
definition
let C1 being RelStr;
let C2 being (Subset of C1);
attr C2 is  directed
means
:L1: (for B1 , B2 being (Element of C1) holds ((B1 in C2 & B2 in C2) implies (ex B3 being (Element of C1) st (B3 in C2 & B1 <= B3 & B2 <= B3))));
attr C2 is  filtered
means
:L2: (for B4 , B5 being (Element of C1) holds ((B4 in C2 & B5 in C2) implies (ex B6 being (Element of C1) st (B6 in C2 & B6 <= B4 & B6 <= B5))));
end;
theorem
L4: (for B7 being non  empty  transitive RelStr holds (for B8 being (Subset of B7) holds (B8 is non  empty  directed iff (for B9 being  finite (Subset of B8) holds (ex B10 being (Element of B7) st (B10 in B8 & B10 is_>=_than B9))))))
proof
let C3 being non  empty  transitive RelStr;
let C4 being (Subset of C3);
thus L5:now
assume L6: C4 is non  empty;
reconsider D1 = C4 as non  empty set by L6;
assume L7: C4 is  directed;
let C5 being  finite (Subset of C4);
defpred S1[ set ] means (ex B11 being (Element of C3) st (B11 in C4 & B11 is_>=_than $1));
L8: C5 is  finite;
set D2 = the (Element of D1);
L9: D2 in C4;
reconsider D3 = D2 as (Element of C3) by L9;
L10: D3 is_>=_than ( {} ) by YELLOW_0:6;
L11: S1[ ( {} ) ] by L10;
L12:
now
let C6 , C7 being set;
assume that
L13: C6 in C5
and
L14: C7 c= C5;
assume L15: S1[ C7 ];
consider C8 being (Element of C3) such that L16: C8 in C4 and L17: C8 is_>=_than C7 by L15;
L18: C6 in C4 by L13;
reconsider D4 = C6 as (Element of C3) by L18;
consider C9 being (Element of C3) such that L19: C9 in C4 and L20: D4 <= C9 and L21: C8 <= C9 by L7 , L13 , L16 , L1;
thus L22: S1[ ( C7 \/ { C6 } ) ]
proof
take C9;
thus L23: C9 in C4 by L19;
let C10 being (Element of C3);
reconsider D5 = C10 as (Element of C3);
assume L24: C10 in ( C7 \/ { C6 } );
L25: (D5 in C7 or D5 in { C6 }) by L24 , XBOOLE_0:def 3;
L26: (C8 >= D5 or D5 = C6) by L25 , L17 , LATTICE3:def 9 , TARSKI:def 1;
thus L27: thesis by L26 , L20 , L21 , ORDERS_2:3;
end;

end;
thus L23: S1[ C5 ] from FINSET_1:sch 2(L8 , L11 , L12);
end;
assume L24: (for B12 being  finite (Subset of C4) holds (ex B13 being (Element of C3) st (B13 in C4 & B13 is_>=_than B12)));
L25: ( {} ) c= C4 by XBOOLE_1:2;
L26: (ex B14 being (Element of C3) st (B14 in C4 & B14 is_>=_than ( {} ))) by L25 , L24;
thus L27: C4 is non  empty by L26;
let C11 , C12 being (Element of C3);
assume that
L28: C11 in C4
and
L29: C12 in C4;
L30: { C11 , C12 } c= C4 by L28 , L29 , ZFMISC_1:32;
consider C13 being (Element of C3) such that L31: C13 in C4 and L32: C13 is_>=_than { C11 , C12 } by L30 , L24;
take C13;
L33: C11 in { C11 , C12 } by TARSKI:def 2;
L34: C12 in { C11 , C12 } by TARSKI:def 2;
thus L35: thesis by L34 , L31 , L32 , L33 , LATTICE3:def 9;
end;
theorem
L36: (for B15 being non  empty  transitive RelStr holds (for B16 being (Subset of B15) holds (B16 is non  empty  filtered iff (for B17 being  finite (Subset of B16) holds (ex B18 being (Element of B15) st (B18 in B16 & B18 is_<=_than B17))))))
proof
let C14 being non  empty  transitive RelStr;
let C15 being (Subset of C14);
thus L37:now
assume L38: C15 is non  empty;
reconsider D6 = C15 as non  empty set by L38;
assume L39: C15 is  filtered;
let C16 being  finite (Subset of C15);
defpred S2[ set ] means (ex B19 being (Element of C14) st (B19 in C15 & B19 is_<=_than $1));
L40: C16 is  finite;
set D7 = the (Element of D6);
L41: D7 in C15;
reconsider D8 = D7 as (Element of C14) by L41;
L42: D8 is_<=_than ( {} ) by YELLOW_0:6;
L43: S2[ ( {} ) ] by L42;
L44:
now
let C17 , C18 being set;
assume that
L45: C17 in C16
and
L46: C18 c= C16;
assume L47: S2[ C18 ];
consider C19 being (Element of C14) such that L48: C19 in C15 and L49: C19 is_<=_than C18 by L47;
L50: C17 in C15 by L45;
reconsider D9 = C17 as (Element of C14) by L50;
consider C20 being (Element of C14) such that L51: C20 in C15 and L52: D9 >= C20 and L53: C19 >= C20 by L39 , L45 , L48 , L2;
thus L54: S2[ ( C18 \/ { C17 } ) ]
proof
take C20;
thus L55: C20 in C15 by L51;
let C21 being (Element of C14);
reconsider D10 = C21 as (Element of C14);
assume L56: C21 in ( C18 \/ { C17 } );
L57: (D10 in C18 or D10 in { C17 }) by L56 , XBOOLE_0:def 3;
L58: (C19 <= D10 or D10 = C17) by L57 , L49 , LATTICE3:def 8 , TARSKI:def 1;
thus L59: thesis by L58 , L52 , L53 , ORDERS_2:3;
end;

end;
thus L55: S2[ C16 ] from FINSET_1:sch 2(L40 , L43 , L44);
end;
assume L56: (for B20 being  finite (Subset of C15) holds (ex B21 being (Element of C14) st (B21 in C15 & B21 is_<=_than B20)));
L57: ( {} ) c= C15 by XBOOLE_1:2;
L58: (ex B22 being (Element of C14) st (B22 in C15 & B22 is_<=_than ( {} ))) by L57 , L56;
thus L59: C15 is non  empty by L58;
let C22 , C23 being (Element of C14);
assume that
L60: C22 in C15
and
L61: C23 in C15;
L62: { C22 , C23 } c= C15 by L60 , L61 , ZFMISC_1:32;
consider C24 being (Element of C14) such that L63: C24 in C15 and L64: C24 is_<=_than { C22 , C23 } by L62 , L56;
take C24;
L65: C22 in { C22 , C23 } by TARSKI:def 2;
L66: C23 in { C22 , C23 } by TARSKI:def 2;
thus L67: thesis by L66 , L63 , L64 , L65 , LATTICE3:def 8;
end;
registration
let C25 being RelStr;
cluster  empty ->  directed  filtered for (Subset of C25);
coherence
proof
let C26 being (Subset of C25);
assume L68: C26 is  empty;
L69: C26 = ( {} C25 ) by L68;
thus L70: C26 is  directed
proof
let C27 being (Element of C25);
thus L71: thesis by L69;
end;

let C28 being (Element of C25);
thus L72: thesis by L69;
end;
end;
registration
let C29 being RelStr;
cluster  directed  filtered for (Subset of C29);
existence
proof
take ( {} C29 );
thus L74: thesis;
end;
end;
theorem
L76: (for B23 , B24 being RelStr holds (( the RelStr of B23 ) = ( the RelStr of B24 ) implies (for B25 being (Subset of B23) holds (for B26 being (Subset of B24) holds ((B25 = B26 & B25 is  directed) implies B26 is  directed)))))
proof
let C30 , C31 being RelStr;
assume that
L77: ( the RelStr of C30 ) = ( the RelStr of C31 );
let C32 being (Subset of C30);
let C33 being (Subset of C31);
assume that
L78: C32 = C33;
assume L79: (for B27 , B28 being (Element of C30) holds ((B27 in C32 & B28 in C32) implies (ex B29 being (Element of C30) st (B29 in C32 & B27 <= B29 & B28 <= B29))));
let C34 , C35 being (Element of C31);
reconsider D11 = C34 , D12 = C35 as (Element of C30) by L77;
assume that
L80: C34 in C33
and
L81: C35 in C33;
consider C36 being (Element of C30) such that L82: C36 in C32 and L83: D11 <= C36 and L84: D12 <= C36 by L78 , L79 , L80 , L81;
reconsider D13 = C36 as (Element of C31) by L77;
take D13;
thus L85: thesis by L77 , L78 , L82 , L83 , L84 , YELLOW_0:1;
end;
theorem
L86: (for B30 , B31 being RelStr holds (( the RelStr of B30 ) = ( the RelStr of B31 ) implies (for B32 being (Subset of B30) holds (for B33 being (Subset of B31) holds ((B32 = B33 & B32 is  filtered) implies B33 is  filtered)))))
proof
let C37 , C38 being RelStr;
assume that
L87: ( the RelStr of C37 ) = ( the RelStr of C38 );
let C39 being (Subset of C37);
let C40 being (Subset of C38);
assume that
L88: C39 = C40;
assume L89: (for B34 , B35 being (Element of C37) holds ((B34 in C39 & B35 in C39) implies (ex B36 being (Element of C37) st (B36 in C39 & B34 >= B36 & B35 >= B36))));
let C41 , C42 being (Element of C38);
reconsider D14 = C41 , D15 = C42 as (Element of C37) by L87;
assume that
L90: C41 in C40
and
L91: C42 in C40;
consider C43 being (Element of C37) such that L92: C43 in C39 and L93: D14 >= C43 and L94: D15 >= C43 by L88 , L89 , L90 , L91;
reconsider D16 = C43 as (Element of C38) by L87;
take D16;
thus L95: thesis by L87 , L88 , L92 , L93 , L94 , YELLOW_0:1;
end;
theorem
L96: (for B37 being non  empty  reflexive RelStr holds (for B38 being (Element of B37) holds { B38 } is  directed  filtered))
proof
let C44 being non  empty  reflexive RelStr;
let C45 being (Element of C44);
set D17 = { C45 };
thus L97:now
let C46 , C47 being (Element of C44);
assume that
L98: C46 in D17
and
L99: C47 in D17;
take D18 = C45;
thus L100: (D18 in D17 & C46 <= D18 & C47 <= D18) by L98 , L99 , TARSKI:def 1;
end;
thus L101:now
let C48 , C49 being (Element of C44);
assume that
L102: C48 in D17
and
L103: C49 in D17;
take D19 = C45;
thus L104: (D19 in D17 & D19 <= C48 & D19 <= C49) by L102 , L103 , TARSKI:def 1;
end;
end;
registration
let C50 being non  empty  reflexive RelStr;
cluster  directed  filtered non  empty  finite for (Subset of C50);
existence
proof
set D20 = the (Element of C50);
take { D20 };
thus L102: thesis by L96;
end;
end;
registration
let C51 being  with_suprema RelStr;
cluster ( [#] C51 ) ->  directed;
coherence
proof
set D21 = ( [#] C51 );
let C52 , C53 being (Element of C51);
assume that
L104: C52 in D21
and
L105: C53 in D21;
L106: (ex B39 being (Element of C51) st (C52 <= B39 & C53 <= B39 & (for B40 being (Element of C51) holds ((C52 <= B40 & C53 <= B40) implies B39 <= B40)))) by LATTICE3:def 10;
thus L107: thesis by L106;
end;
end;
registration
let C54 being  upper-bounded non  empty RelStr;
cluster ( [#] C54 ) ->  directed;
coherence
proof
set D22 = ( [#] C54 );
let C55 , C56 being (Element of C54);
assume that
L109: C55 in D22
and
L110: C56 in D22;
consider C57 being (Element of C54) such that L111: C57 is_>=_than D22 by YELLOW_0:def 5;
take C57;
thus L112: thesis by L111 , LATTICE3:def 9;
end;
end;
registration
let C58 being  with_infima RelStr;
cluster ( [#] C58 ) ->  filtered;
coherence
proof
set D23 = ( [#] C58 );
let C59 , C60 being (Element of C58);
assume that
L114: C59 in D23
and
L115: C60 in D23;
L116: (ex B41 being (Element of C58) st (B41 <= C59 & B41 <= C60 & (for B42 being (Element of C58) holds ((B42 <= C59 & B42 <= C60) implies B42 <= B41)))) by LATTICE3:def 11;
thus L117: thesis by L116;
end;
end;
registration
let C61 being  lower-bounded non  empty RelStr;
cluster ( [#] C61 ) ->  filtered;
coherence
proof
set D24 = ( [#] C61 );
let C62 , C63 being (Element of C61);
assume that
L119: C62 in D24
and
L120: C63 in D24;
consider C64 being (Element of C61) such that L121: C64 is_<=_than D24 by YELLOW_0:def 4;
take C64;
thus L122: thesis by L121 , LATTICE3:def 8;
end;
end;
definition
let C65 being non  empty RelStr;
let C66 being (SubRelStr of C65);
attr C66 is  filtered-infs-inheriting
means
:L124: (for B43 being  filtered (Subset of C66) holds ((B43 <> ( {} ) &  ex_inf_of B43 , C65) implies ( "/\" (B43 , C65) ) in (the carrier of C66)));
attr C66 is  directed-sups-inheriting
means
:L125: (for B44 being  directed (Subset of C66) holds ((B44 <> ( {} ) &  ex_sup_of B44 , C65) implies ( "\/" (B44 , C65) ) in (the carrier of C66)));
end;
registration
let C67 being non  empty RelStr;
cluster  infs-inheriting ->  filtered-infs-inheriting for (SubRelStr of C67);
coherence
proof
let C68 being (SubRelStr of C67);
assume that
L127: (for B45 being (Subset of C68) holds ( ex_inf_of B45 , C67 implies ( "/\" (B45 , C67) ) in (the carrier of C68)));
let C69 being  filtered (Subset of C68);
thus L128: thesis by L127;
end;
cluster  sups-inheriting ->  directed-sups-inheriting for (SubRelStr of C67);
coherence
proof
let C70 being (SubRelStr of C67);
assume that
L129: (for B46 being (Subset of C70) holds ( ex_sup_of B46 , C67 implies ( "\/" (B46 , C67) ) in (the carrier of C70)));
let C71 being  directed (Subset of C70);
thus L130: thesis by L129;
end;
end;
registration
let C72 being non  empty RelStr;
cluster  infs-inheriting  sups-inheriting non  empty  full  strict for (SubRelStr of C72);
existence
proof
set D25 = the  infs-inheriting  sups-inheriting non  empty  full  strict (SubRelStr of C72);
take D25;
thus L132: thesis;
end;
end;
theorem
L134: (for B47 being non  empty  transitive RelStr holds (for B48 being  filtered-infs-inheriting non  empty  full (SubRelStr of B47) holds (for B49 being  filtered (Subset of B48) holds ((B49 <> ( {} ) &  ex_inf_of B49 , B47) implies ( ex_inf_of B49 , B48 & ( "/\" (B49 , B48) ) = ( "/\" (B49 , B47) ))))))
proof
let C73 being non  empty  transitive RelStr;
let C74 being  filtered-infs-inheriting non  empty  full (SubRelStr of C73);
let C75 being  filtered (Subset of C74);
assume that
L135: C75 <> ( {} )
and
L136:  ex_inf_of C75 , C73;
L137: ( "/\" (C75 , C73) ) in (the carrier of C74) by L135 , L136 , L124;
thus L138: thesis by L137 , L136 , YELLOW_0:63;
end;
theorem
L139: (for B50 being non  empty  transitive RelStr holds (for B51 being  directed-sups-inheriting non  empty  full (SubRelStr of B50) holds (for B52 being  directed (Subset of B51) holds ((B52 <> ( {} ) &  ex_sup_of B52 , B50) implies ( ex_sup_of B52 , B51 & ( "\/" (B52 , B51) ) = ( "\/" (B52 , B50) ))))))
proof
let C76 being non  empty  transitive RelStr;
let C77 being  directed-sups-inheriting non  empty  full (SubRelStr of C76);
let C78 being  directed (Subset of C77);
assume that
L140: C78 <> ( {} )
and
L141:  ex_sup_of C78 , C76;
L142: ( "\/" (C78 , C76) ) in (the carrier of C77) by L140 , L141 , L125;
thus L143: thesis by L142 , L141 , YELLOW_0:64;
end;
begin
definition
let C79 , C80 being RelStr;
let C81 being (Function of C79 , C80);
attr C81 is  antitone
means
(for B53 , B54 being (Element of C79) holds (B53 <= B54 implies (for B55 , B56 being (Element of C80) holds ((B55 = ( C81 . B53 ) & B56 = ( C81 . B54 )) implies B55 >= B56))));
end;
definition
let C82 being 1-sorted;
struct (RelStr) NetStr over C82(# carrier -> set , InternalRel -> (Relation of the carrier) , mapping -> (Function of the carrier , (the carrier of C82)) #);
end;
registration
let C83 being 1-sorted;
let C84 being non  empty set;
let C85 being (Relation of C84);
let C86 being (Function of C84 , (the carrier of C83));
cluster NetStr (# C84 , C85 , C86 #) -> non  empty;
coherence;
end;
definition
let C87 being RelStr;
attr C87 is  directed
means
:L147: ( [#] C87 ) is  directed;
end;
registration
let C88 being 1-sorted;
cluster non  empty  reflexive  transitive  antisymmetric  directed for  strict  strict  strict  strict NetStr over C88;
existence
proof
set D26 = the  with_suprema Poset;
set D27 = the (Function of (the carrier of D26) , (the carrier of C88));
take D28 = NetStr (# (the carrier of D26) , (the InternalRel of D26) , D27 #);
thus L149: D28 is non  empty;
L150: (the InternalRel of D28) is_reflexive_in (the carrier of D28) by ORDERS_2:def 2;
L151: (the InternalRel of D28) is_transitive_in (the carrier of D28) by ORDERS_2:def 3;
L152: (the InternalRel of D28) is_antisymmetric_in (the carrier of D28) by ORDERS_2:def 4;
thus L153: D28 is  reflexive  transitive  antisymmetric by L152 , L150 , L151 , ORDERS_2:def 2 , ORDERS_2:def 3 , ORDERS_2:def 4;
L154: ( the RelStr of D28 ) = ( the RelStr of D26 );
L155: ( [#] D26 ) = ( [#] D28 );
thus L156: ( [#] D28 ) is  directed by L155 , L154 , L76;
end;
end;
definition
let C89 being 1-sorted;
mode prenet of C89
 is  directed non  empty NetStr over C89;
end;
definition
let C90 being 1-sorted;
mode net of C90
 is  transitive (prenet of C90);
end;
definition
let C91 being non  empty 1-sorted;
let C92 being non  empty NetStr over C91;
func netmap (C92 , C91) -> (Function of C92 , C91) equals 
(the mapping of C92);
coherence;
let C93 being (Element of C92);
func C92 . C93 -> (Element of C91) equals 
( (the mapping of C92) . C93 );
correctness;
end;
definition
let C94 being non  empty RelStr;
let C95 being non  empty NetStr over C94;
attr C95 is  monotone
means
( netmap (C95 , C94) ) is  monotone;
attr C95 is  antitone
means
( netmap (C95 , C94) ) is  antitone;
end;
definition
let C96 being non  empty 1-sorted;
let C97 being non  empty NetStr over C96;
let C98 being set;
pred C97 is_eventually_in C98
means
:L162: (ex B57 being (Element of C97) st (for B58 being (Element of C97) holds (B57 <= B58 implies ( C97 . B58 ) in C98)))
;pred C97 is_often_in C98
means
(for B59 being (Element of C97) holds (ex B60 being (Element of C97) st (B59 <= B60 & ( C97 . B60 ) in C98)))
;end;
theorem
L164: (for B61 being non  empty 1-sorted holds (for B62 being non  empty NetStr over B61 holds (for B63 , B64 being set holds (B63 c= B64 implies ((B62 is_eventually_in B63 implies B62 is_eventually_in B64) & (B62 is_often_in B63 implies B62 is_often_in B64))))))
proof
let C99 being non  empty 1-sorted;
let C100 being non  empty NetStr over C99;
let C101 , C102 being set;
assume that
L165: C101 c= C102;
thus L166:now
assume L167: C100 is_eventually_in C101;
consider C103 being (Element of C100) such that L168: (for B65 being (Element of C100) holds (C103 <= B65 implies ( C100 . B65 ) in C101)) by L167 , L162;
thus L169: C100 is_eventually_in C102
proof
take C103;
let C104 being (Element of C100);
assume L170: C103 <= C104;
L171: ( C100 . C104 ) in C101 by L170 , L168;
thus L172: thesis by L171 , L165;
end;

end;
assume L170: (for B66 being (Element of C100) holds (ex B67 being (Element of C100) st (B66 <= B67 & ( C100 . B67 ) in C101)));
let C105 being (Element of C100);
consider C106 being (Element of C100) such that L171: C105 <= C106 and L172: ( C100 . C106 ) in C101 by L170;
take C106;
thus L173: thesis by L165 , L171 , L172;
end;
theorem
L174: (for B68 being non  empty 1-sorted holds (for B69 being non  empty NetStr over B68 holds (for B70 being set holds (B69 is_eventually_in B70 iff (not B69 is_often_in ( (the carrier of B68) \ B70 ))))))
proof
let C107 being non  empty 1-sorted;
let C108 being non  empty NetStr over C107;
let C109 being set;
set D29 = ( (the carrier of C107) \ C109 );
thus L175: (C108 is_eventually_in C109 implies (not C108 is_often_in D29))
proof
given C110 being (Element of C108) such that
L176: (for B71 being (Element of C108) holds (C110 <= B71 implies ( C108 . B71 ) in C109));

take C110;
let C111 being (Element of C108);
assume L177: C110 <= C111;
L178: ( C108 . C111 ) in C109 by L177 , L176;
thus L179: thesis by L178 , XBOOLE_0:def 5;
end;

given C112 being (Element of C108) such that
L180: (for B72 being (Element of C108) holds (C112 <= B72 implies (not ( C108 . B72 ) in D29)));

take C112;
let C113 being (Element of C108);
assume L181: C112 <= C113;
L182: (not ( C108 . C113 ) in D29) by L181 , L180;
thus L183: thesis by L182 , XBOOLE_0:def 5;
end;
theorem
L184: (for B73 being non  empty 1-sorted holds (for B74 being non  empty NetStr over B73 holds (for B75 being set holds (B74 is_often_in B75 iff (not B74 is_eventually_in ( (the carrier of B73) \ B75 ))))))
proof
let C114 being non  empty 1-sorted;
let C115 being non  empty NetStr over C114;
let C116 being set;
set D30 = ( (the carrier of C114) \ C116 );
thus L185: (C115 is_often_in C116 implies (not C115 is_eventually_in D30))
proof
assume L186: (for B76 being (Element of C115) holds (ex B77 being (Element of C115) st (B76 <= B77 & ( C115 . B77 ) in C116)));
let C117 being (Element of C115);
consider C118 being (Element of C115) such that L187: C117 <= C118 and L188: ( C115 . C118 ) in C116 by L186;
take C118;
thus L189: thesis by L187 , L188 , XBOOLE_0:def 5;
end;

assume L190: (for B78 being (Element of C115) holds (ex B79 being (Element of C115) st (B78 <= B79 & (not ( C115 . B79 ) in D30))));
let C119 being (Element of C115);
consider C120 being (Element of C115) such that L191: C119 <= C120 and L192: (not ( C115 . C120 ) in D30) by L190;
take C120;
thus L193: thesis by L191 , L192 , XBOOLE_0:def 5;
end;
scheme HoldsEventually { F1() -> non  empty RelStr , F2() -> non  empty NetStr over F1() , P1[set] } : (F2() is_eventually_in { ( F2() . B80 ) where B80 is (Element of F2()) : P1[ ( F2() . B80 ) ] } iff (ex B81 being (Element of F2()) st (for B82 being (Element of F2()) holds (B81 <= B82 implies P1[ ( F2() . B82 ) ]))))
proof
set D31 = { ( F2() . B83 ) where B83 is (Element of F2()) : P1[ ( F2() . B83 ) ] };
thus L194:now
assume L195: F2() is_eventually_in D31;
consider C121 being (Element of F2()) such that L196: (for B84 being (Element of F2()) holds (C121 <= B84 implies ( F2() . B84 ) in D31)) by L195 , L162;
take D32 = C121;
let C122 being (Element of F2());
assume L197: D32 <= C122;
L198: ( F2() . C122 ) in D31 by L197 , L196;
L199: (ex B85 being (Element of F2()) st (( F2() . C122 ) = ( F2() . B85 ) & P1[ ( F2() . B85 ) ])) by L198;
thus L200: P1[ ( F2() . C122 ) ] by L199;
end;
given C123 being (Element of F2()) such that
L201: (for B86 being (Element of F2()) holds (C123 <= B86 implies P1[ ( F2() . B86 ) ]));

take C123;
let C124 being (Element of F2());
assume L202: C123 <= C124;
L203: P1[ ( F2() . C124 ) ] by L202 , L201;
thus L204: thesis by L203;
end;
definition
let C125 being non  empty RelStr;
let C126 being non  empty NetStr over C125;
attr C126 is  eventually-directed
means
:L205: (for B87 being (Element of C126) holds C126 is_eventually_in { ( C126 . B88 ) where B88 is (Element of C126) : ( C126 . B87 ) <= ( C126 . B88 ) });
attr C126 is  eventually-filtered
means
:L206: (for B89 being (Element of C126) holds C126 is_eventually_in { ( C126 . B90 ) where B90 is (Element of C126) : ( C126 . B89 ) >= ( C126 . B90 ) });
end;
theorem
L208: (for B91 being non  empty RelStr holds (for B92 being non  empty NetStr over B91 holds (B92 is  eventually-directed iff (for B93 being (Element of B92) holds (ex B94 being (Element of B92) st (for B95 being (Element of B92) holds (B94 <= B95 implies ( B92 . B93 ) <= ( B92 . B95 ))))))))
proof
let C127 being non  empty RelStr;
let C128 being non  empty NetStr over C127;
L209:
now
let C129 being (Element of C128);
defpred S3[ (Element of C127) ] means ( C128 . C129 ) <= $1;
thus L210: (C128 is_eventually_in { ( C128 . B96 ) where B96 is (Element of C128) : S3[ ( C128 . B96 ) ] } iff (ex B97 being (Element of C128) st (for B98 being (Element of C128) holds (B97 <= B98 implies S3[ ( C128 . B98 ) ])))) from HoldsEventually;
end;
thus L211:now
assume L212: C128 is  eventually-directed;
let C130 being (Element of C128);
L213: C128 is_eventually_in { ( C128 . B99 ) where B99 is (Element of C128) : ( C128 . C130 ) <= ( C128 . B99 ) } by L212 , L205;
thus L214: (ex B100 being (Element of C128) st (for B101 being (Element of C128) holds (B100 <= B101 implies ( C128 . C130 ) <= ( C128 . B101 )))) by L213 , L209;
end;
assume L215: (for B102 being (Element of C128) holds (ex B103 being (Element of C128) st (for B104 being (Element of C128) holds (B103 <= B104 implies ( C128 . B102 ) <= ( C128 . B104 )))));
let C131 being (Element of C128);
L216: (ex B105 being (Element of C128) st (for B106 being (Element of C128) holds (B105 <= B106 implies ( C128 . C131 ) <= ( C128 . B106 )))) by L215;
thus L217: thesis by L216 , L209;
end;
theorem
L218: (for B107 being non  empty RelStr holds (for B108 being non  empty NetStr over B107 holds (B108 is  eventually-filtered iff (for B109 being (Element of B108) holds (ex B110 being (Element of B108) st (for B111 being (Element of B108) holds (B110 <= B111 implies ( B108 . B109 ) >= ( B108 . B111 ))))))))
proof
let C132 being non  empty RelStr;
let C133 being non  empty NetStr over C132;
L219:
now
let C134 being (Element of C133);
defpred S4[ (Element of C132) ] means ( C133 . C134 ) >= $1;
thus L220: (C133 is_eventually_in { ( C133 . B112 ) where B112 is (Element of C133) : S4[ ( C133 . B112 ) ] } iff (ex B113 being (Element of C133) st (for B114 being (Element of C133) holds (B113 <= B114 implies S4[ ( C133 . B114 ) ])))) from HoldsEventually;
end;
thus L221:now
assume L222: C133 is  eventually-filtered;
let C135 being (Element of C133);
L223: C133 is_eventually_in { ( C133 . B115 ) where B115 is (Element of C133) : ( C133 . C135 ) >= ( C133 . B115 ) } by L222 , L206;
thus L224: (ex B116 being (Element of C133) st (for B117 being (Element of C133) holds (B116 <= B117 implies ( C133 . C135 ) >= ( C133 . B117 )))) by L223 , L219;
end;
assume L225: (for B118 being (Element of C133) holds (ex B119 being (Element of C133) st (for B120 being (Element of C133) holds (B119 <= B120 implies ( C133 . B118 ) >= ( C133 . B120 )))));
let C136 being (Element of C133);
L226: (ex B121 being (Element of C133) st (for B122 being (Element of C133) holds (B121 <= B122 implies ( C133 . C136 ) >= ( C133 . B122 )))) by L225;
thus L227: thesis by L226 , L219;
end;
registration
let C137 being non  empty RelStr;
cluster  monotone ->  eventually-directed for (prenet of C137);
coherence
proof
let C138 being (prenet of C137);
assume L228: (for B123 , B124 being (Element of C138) holds (B123 <= B124 implies (for B125 , B126 being (Element of C137) holds ((B125 = ( ( netmap (C138 , C137) ) . B123 ) & B126 = ( ( netmap (C138 , C137) ) . B124 )) implies B125 <= B126))));
L229:
now
let C139 being (Element of C138);
take D33 = C139;
let C140 being (Element of C138);
assume L230: D33 <= C140;
thus L231: ( C138 . C139 ) <= ( C138 . C140 ) by L230 , L228;
end;
thus L232: thesis by L229 , L208;
end;
cluster  antitone ->  eventually-filtered for (prenet of C137);
coherence
proof
let C141 being (prenet of C137);
assume L233: (for B127 , B128 being (Element of C141) holds (B127 <= B128 implies (for B129 , B130 being (Element of C137) holds ((B129 = ( ( netmap (C141 , C137) ) . B127 ) & B130 = ( ( netmap (C141 , C137) ) . B128 )) implies B129 >= B130))));
L234:
now
let C142 being (Element of C141);
take D34 = C142;
let C143 being (Element of C141);
assume L235: D34 <= C143;
thus L236: ( C141 . C142 ) >= ( C141 . C143 ) by L235 , L233;
end;
thus L237: thesis by L234 , L218;
end;
end;
registration
let C144 being non  empty  reflexive RelStr;
cluster  monotone  antitone  strict for (prenet of C144);
existence
proof
set D35 = the  upper-bounded non  empty Poset;
set D36 = the (Element of C144);
set D37 = ( (the carrier of D35) --> D36 );
reconsider D38 = D37 as (Function of (the carrier of D35) , (the carrier of C144));
set D39 = NetStr (# (the carrier of D35) , (the InternalRel of D35) , D38 #);
L239: ( the RelStr of D39 ) = ( the RelStr of D35 );
L240: ( [#] D35 ) = ( [#] D39 );
L241: ( [#] D39 ) is  directed by L240 , L239 , L76;
reconsider D40 = D39 as (prenet of C144) by L241 , L147;
take D40;
thus L242: D40 is  monotone
proof
let C145 , C146 being (Element of D40);
assume that
L243: C145 <= C146;
let C147 , C148 being (Element of C144);
assume that
L244: C147 = ( ( netmap (D40 , C144) ) . C145 )
and
L245: C148 = ( ( netmap (D40 , C144) ) . C146 );
L246: C147 = D36 by L244 , FUNCOP_1:7;
L247: D36 <= D36;
thus L248: thesis by L247 , L245 , L246 , FUNCOP_1:7;
end;

thus L249: D40 is  antitone
proof
let C149 , C150 being (Element of D40);
assume that
L250: C149 <= C150;
let C151 , C152 being (Element of C144);
assume that
L251: C151 = ( ( netmap (D40 , C144) ) . C149 )
and
L252: C152 = ( ( netmap (D40 , C144) ) . C150 );
L253: C151 = D36 by L251 , FUNCOP_1:7;
L254: D36 <= D36;
thus L255: thesis by L254 , L252 , L253 , FUNCOP_1:7;
end;

thus L256: thesis;
end;
end;
begin
definition
let C153 being RelStr;
let C154 being (Subset of C153);
func downarrow C154 -> (Subset of C153) means 
:L258: (for B131 being (Element of C153) holds (B131 in it iff (ex B132 being (Element of C153) st (B132 >= B131 & B132 in C154))));
existence
proof
defpred S5[ set ] means (ex B133 , B134 being (Element of C153) st (B133 = $1 & B134 >= B133 & B134 in C154));
consider C155 being set such that L259: (for B135 being set holds (B135 in C155 iff (B135 in (the carrier of C153) & S5[ B135 ]))) from XBOOLE_0:sch 1;
L260: C155 c= (the carrier of C153)
proof
let C156 being set;
thus L261: thesis by L259;
end;
reconsider D41 = C155 as (Subset of C153) by L260;
take D41;
let C157 being (Element of C153);
thus L262:now
assume L263: C157 in D41;
L264: (ex B136 , B137 being (Element of C153) st (B136 = C157 & B137 >= B136 & B137 in C154)) by L263 , L259;
thus L265: (ex B138 being (Element of C153) st (B138 >= C157 & B138 in C154)) by L264;
end;
thus L266: thesis by L259;
end;
uniqueness
proof
let C158 , C159 being (Subset of C153);
assume that
L267: (for B139 being (Element of C153) holds (B139 in C158 iff (ex B140 being (Element of C153) st (B140 >= B139 & B140 in C154))))
and
L268: (for B141 being (Element of C153) holds (B141 in C159 iff (ex B142 being (Element of C153) st (B142 >= B141 & B142 in C154))));
thus L269: C158 c= C159
proof
let C160 being set;
assume L270: C160 in C158;
reconsider D42 = C160 as (Element of C153) by L270;
L271: (ex B143 being (Element of C153) st (B143 >= D42 & B143 in C154)) by L267 , L270;
thus L272: thesis by L271 , L268;
end;

let C161 being set;
assume L273: C161 in C159;
reconsider D43 = C161 as (Element of C153) by L273;
L274: (ex B144 being (Element of C153) st (B144 >= D43 & B144 in C154)) by L268 , L273;
thus L275: thesis by L274 , L267;
end;
func uparrow C154 -> (Subset of C153) means 
:L276: (for B145 being (Element of C153) holds (B145 in it iff (ex B146 being (Element of C153) st (B146 <= B145 & B146 in C154))));
existence
proof
defpred S6[ set ] means (ex B147 , B148 being (Element of C153) st (B147 = $1 & B148 <= B147 & B148 in C154));
consider C162 being set such that L277: (for B149 being set holds (B149 in C162 iff (B149 in (the carrier of C153) & S6[ B149 ]))) from XBOOLE_0:sch 1;
L278: C162 c= (the carrier of C153)
proof
let C163 being set;
thus L279: thesis by L277;
end;
reconsider D44 = C162 as (Subset of C153) by L278;
take D44;
let C164 being (Element of C153);
thus L280:now
assume L281: C164 in D44;
L282: (ex B150 , B151 being (Element of C153) st (B150 = C164 & B151 <= B150 & B151 in C154)) by L281 , L277;
thus L283: (ex B152 being (Element of C153) st (B152 <= C164 & B152 in C154)) by L282;
end;
thus L284: thesis by L277;
end;
correctness
proof
let C165 , C166 being (Subset of C153);
assume that
L285: (for B153 being (Element of C153) holds (B153 in C165 iff (ex B154 being (Element of C153) st (B154 <= B153 & B154 in C154))))
and
L286: (for B155 being (Element of C153) holds (B155 in C166 iff (ex B156 being (Element of C153) st (B156 <= B155 & B156 in C154))));
thus L287: C165 c= C166
proof
let C167 being set;
assume L288: C167 in C165;
reconsider D45 = C167 as (Element of C153) by L288;
L289: (ex B157 being (Element of C153) st (B157 <= D45 & B157 in C154)) by L285 , L288;
thus L290: thesis by L289 , L286;
end;

let C168 being set;
assume L291: C168 in C166;
reconsider D46 = C168 as (Element of C153) by L291;
L292: (ex B158 being (Element of C153) st (B158 <= D46 & B158 in C154)) by L286 , L291;
thus L293: thesis by L292 , L285;
end;
end;
theorem
L295: (for B159 , B160 being RelStr holds (( the RelStr of B159 ) = ( the RelStr of B160 ) implies (for B161 being (Subset of B159) holds (for B162 being (Subset of B160) holds (B161 = B162 implies (( downarrow B161 ) = ( downarrow B162 ) & ( uparrow B161 ) = ( uparrow B162 )))))))
proof
let C169 , C170 being RelStr;
assume that
L296: ( the RelStr of C169 ) = ( the RelStr of C170 );
let C171 being (Subset of C169);
let C172 being (Subset of C170);
assume that
L297: C171 = C172;
thus L298: ( downarrow C171 ) c= ( downarrow C172 )
proof
let C173 being set;
assume L299: C173 in ( downarrow C171 );
reconsider D47 = C173 as (Element of C169) by L299;
reconsider D48 = D47 as (Element of C170) by L296;
consider C174 being (Element of C169) such that L300: C174 >= D47 and L301: C174 in C171 by L299 , L258;
reconsider D49 = C174 as (Element of C170) by L296;
L302: D49 >= D48 by L296 , L300 , YELLOW_0:1;
thus L303: thesis by L302 , L297 , L301 , L258;
end;

thus L304: ( downarrow C172 ) c= ( downarrow C171 )
proof
let C175 being set;
assume L305: C175 in ( downarrow C172 );
reconsider D50 = C175 as (Element of C170) by L305;
reconsider D51 = D50 as (Element of C169) by L296;
consider C176 being (Element of C170) such that L306: C176 >= D50 and L307: C176 in C172 by L305 , L258;
reconsider D52 = C176 as (Element of C169) by L296;
L308: D52 >= D51 by L296 , L306 , YELLOW_0:1;
thus L309: thesis by L308 , L297 , L307 , L258;
end;

thus L310: ( uparrow C171 ) c= ( uparrow C172 )
proof
let C177 being set;
assume L311: C177 in ( uparrow C171 );
reconsider D53 = C177 as (Element of C169) by L311;
reconsider D54 = D53 as (Element of C170) by L296;
consider C178 being (Element of C169) such that L312: C178 <= D53 and L313: C178 in C171 by L311 , L276;
reconsider D55 = C178 as (Element of C170) by L296;
L314: D55 <= D54 by L296 , L312 , YELLOW_0:1;
thus L315: thesis by L314 , L297 , L313 , L276;
end;

thus L316: ( uparrow C172 ) c= ( uparrow C171 )
proof
let C179 being set;
assume L317: C179 in ( uparrow C172 );
reconsider D56 = C179 as (Element of C170) by L317;
reconsider D57 = D56 as (Element of C169) by L296;
consider C180 being (Element of C170) such that L318: C180 <= D56 and L319: C180 in C172 by L317 , L276;
reconsider D58 = C180 as (Element of C169) by L296;
L320: D58 <= D57 by L296 , L318 , YELLOW_0:1;
thus L321: thesis by L320 , L297 , L319 , L276;
end;

end;
theorem
L317: (for B163 being non  empty RelStr holds (for B164 being (Subset of B163) holds ( downarrow B164 ) = { B165 where B165 is (Element of B163) : (ex B166 being (Element of B163) st (B165 <= B166 & B166 in B164)) }))
proof
let C181 being non  empty RelStr;
let C182 being (Subset of C181);
set D59 = { B167 where B167 is (Element of C181) : (ex B168 being (Element of C181) st (B167 <= B168 & B168 in C182)) };
thus L318:now
let C183 being set;
assume L319: C183 in ( downarrow C182 );
reconsider D60 = C183 as (Element of C181) by L319;
L320: (ex B169 being (Element of C181) st (B169 >= D60 & B169 in C182)) by L319 , L258;
thus L321: C183 in D59 by L320;
end;
let C184 being set;
assume L322: C184 in D59;
L323: (ex B170 being (Element of C181) st (B170 = C184 & (ex B171 being (Element of C181) st (B170 <= B171 & B171 in C182)))) by L322;
thus L324: thesis by L323 , L258;
end;
theorem
L325: (for B172 being non  empty RelStr holds (for B173 being (Subset of B172) holds ( uparrow B173 ) = { B174 where B174 is (Element of B172) : (ex B175 being (Element of B172) st (B174 >= B175 & B175 in B173)) }))
proof
let C185 being non  empty RelStr;
let C186 being (Subset of C185);
set D61 = { B176 where B176 is (Element of C185) : (ex B177 being (Element of C185) st (B176 >= B177 & B177 in C186)) };
thus L326:now
let C187 being set;
assume L327: C187 in ( uparrow C186 );
reconsider D62 = C187 as (Element of C185) by L327;
L328: (ex B178 being (Element of C185) st (B178 <= D62 & B178 in C186)) by L327 , L276;
thus L329: C187 in D61 by L328;
end;
let C188 being set;
assume L330: C188 in D61;
L331: (ex B179 being (Element of C185) st (B179 = C188 & (ex B180 being (Element of C185) st (B179 >= B180 & B180 in C186)))) by L330;
thus L332: thesis by L331 , L276;
end;
registration
let C189 being non  empty  reflexive RelStr;
let C190 being non  empty (Subset of C189);
cluster ( downarrow C190 ) -> non  empty;
coherence
proof
set D63 = the (Element of C190);
reconsider D64 = D63 as (Element of C189);
L333: D64 <= D64;
thus L334: thesis by L333 , L258;
end;
cluster ( uparrow C190 ) -> non  empty;
coherence
proof
set D65 = the (Element of C190);
reconsider D66 = D65 as (Element of C189);
L335: D66 <= D66;
thus L336: thesis by L335 , L276;
end;
end;
theorem
L338: (for B181 being  reflexive RelStr holds (for B182 being (Subset of B181) holds (B182 c= ( downarrow B182 ) & B182 c= ( uparrow B182 ))))
proof
let C191 being  reflexive RelStr;
let C192 being (Subset of C191);
L339: (the InternalRel of C191) is_reflexive_in (the carrier of C191) by ORDERS_2:def 2;
thus L340:now
let C193 being set;
assume L341: C193 in C192;
reconsider D67 = C193 as (Element of C191) by L341;
L342: [ D67 , D67 ] in (the InternalRel of C191) by L339 , L341 , RELAT_2:def 1;
L343: D67 <= D67 by L342 , ORDERS_2:def 5;
thus L344: C193 in ( downarrow C192 ) by L343 , L341 , L258;
end;
let C194 being set;
assume L345: C194 in C192;
reconsider D68 = C194 as (Element of C191) by L345;
L346: [ D68 , D68 ] in (the InternalRel of C191) by L339 , L345 , RELAT_2:def 1;
L347: D68 <= D68 by L346 , ORDERS_2:def 5;
thus L348: thesis by L347 , L345 , L276;
end;
definition
let C195 being non  empty RelStr;
let C196 being (Element of C195);
func downarrow C196 -> (Subset of C195) equals 
( downarrow { C196 } );
correctness;
func uparrow C196 -> (Subset of C195) equals 
( uparrow { C196 } );
correctness;
end;
theorem
L350: (for B183 being non  empty RelStr holds (for B184 , B185 being (Element of B183) holds (B185 in ( downarrow B184 ) iff B185 <= B184)))
proof
let C197 being non  empty RelStr;
let C198 , C199 being (Element of C197);
L351: ( downarrow C198 ) = { B186 where B186 is (Element of C197) : (ex B187 being (Element of C197) st (B186 <= B187 & B187 in { C198 })) } by L317;
L352: (C199 in ( downarrow C198 ) iff (ex B188 being (Element of C197) st (C199 = B188 & (ex B189 being (Element of C197) st (B188 <= B189 & B189 in { C198 }))))) by L351;
thus L353: (C199 in ( downarrow C198 ) implies C199 <= C198) by L352 , TARSKI:def 1;
L354: C198 in { C198 } by TARSKI:def 1;
thus L355: thesis by L354 , L351;
end;
theorem
L356: (for B190 being non  empty RelStr holds (for B191 , B192 being (Element of B190) holds (B192 in ( uparrow B191 ) iff B191 <= B192)))
proof
let C200 being non  empty RelStr;
let C201 , C202 being (Element of C200);
L357: ( uparrow C201 ) = { B193 where B193 is (Element of C200) : (ex B194 being (Element of C200) st (B193 >= B194 & B194 in { C201 })) } by L325;
L358: (C202 in ( uparrow C201 ) iff (ex B195 being (Element of C200) st (C202 = B195 & (ex B196 being (Element of C200) st (B195 >= B196 & B196 in { C201 }))))) by L357;
thus L359: (C202 in ( uparrow C201 ) implies C202 >= C201) by L358 , TARSKI:def 1;
L360: C201 in { C201 } by TARSKI:def 1;
thus L361: thesis by L360 , L357;
end;
theorem
L362: (for B197 being non  empty  reflexive  antisymmetric RelStr holds (for B198 , B199 being (Element of B197) holds (( downarrow B198 ) = ( downarrow B199 ) implies B198 = B199)))
proof
let C203 being non  empty  reflexive  antisymmetric RelStr;
let C204 , C205 being (Element of C203);
reconsider D69 = C204 , D70 = C205 as (Element of C203);
L363: D69 <= D69;
L364: D70 <= D70;
assume L365: ( downarrow C204 ) = ( downarrow C205 );
L366: C205 in ( downarrow C204 ) by L365 , L364 , L350;
L367: C204 in ( downarrow C205 ) by L363 , L365 , L350;
L368: D69 <= D70 by L367 , L350;
L369: D69 >= D70 by L366 , L350;
thus L370: thesis by L369 , L368 , ORDERS_2:2;
end;
theorem
L371: (for B200 being non  empty  reflexive  antisymmetric RelStr holds (for B201 , B202 being (Element of B200) holds (( uparrow B201 ) = ( uparrow B202 ) implies B201 = B202)))
proof
let C206 being non  empty  reflexive  antisymmetric RelStr;
let C207 , C208 being (Element of C206);
reconsider D71 = C207 , D72 = C208 as (Element of C206);
L372: D71 <= D71;
L373: D72 <= D72;
assume L374: ( uparrow C207 ) = ( uparrow C208 );
L375: C208 in ( uparrow C207 ) by L374 , L373 , L356;
L376: C207 in ( uparrow C208 ) by L372 , L374 , L356;
L377: D71 <= D72 by L375 , L356;
L378: D71 >= D72 by L376 , L356;
thus L379: thesis by L378 , L377 , ORDERS_2:2;
end;
theorem
L380: (for B203 being non  empty  transitive RelStr holds (for B204 , B205 being (Element of B203) holds (B204 <= B205 implies ( downarrow B204 ) c= ( downarrow B205 ))))
proof
let C209 being non  empty  transitive RelStr;
let C210 , C211 being (Element of C209);
assume that
L381: C210 <= C211;
let C212 being set;
assume L382: C212 in ( downarrow C210 );
reconsider D73 = C212 as (Element of C209) by L382;
L383: D73 <= C210 by L382 , L350;
L384: D73 <= C211 by L383 , L381 , ORDERS_2:3;
thus L385: thesis by L384 , L350;
end;
theorem
L386: (for B206 being non  empty  transitive RelStr holds (for B207 , B208 being (Element of B206) holds (B207 <= B208 implies ( uparrow B208 ) c= ( uparrow B207 ))))
proof
let C213 being non  empty  transitive RelStr;
let C214 , C215 being (Element of C213);
assume that
L387: C214 <= C215;
let C216 being set;
assume L388: C216 in ( uparrow C215 );
reconsider D74 = C216 as (Element of C213) by L388;
L389: C215 <= D74 by L388 , L356;
L390: C214 <= D74 by L389 , L387 , ORDERS_2:3;
thus L391: thesis by L390 , L356;
end;
registration
let C217 being non  empty  reflexive RelStr;
let C218 being (Element of C217);
cluster ( downarrow C218 ) -> non  empty  directed;
coherence
proof
reconsider D75 = C218 as (Element of C217);
thus L392: ( downarrow C218 ) is non  empty;
let C219 , C220 being (Element of C217);
assume that
L393: C219 in ( downarrow C218 )
and
L394: C220 in ( downarrow C218 );
take D75;
L395: D75 <= D75;
thus L396: (D75 in ( downarrow C218 ) & C219 <= D75 & C220 <= D75) by L395 , L393 , L394 , L350;
end;
cluster ( uparrow C218 ) -> non  empty  filtered;
coherence
proof
reconsider D76 = C218 as (Element of C217);
thus L397: ( uparrow C218 ) is non  empty;
let C221 , C222 being (Element of C217);
assume that
L398: C221 in ( uparrow C218 )
and
L399: C222 in ( uparrow C218 );
take D76;
L400: D76 <= D76;
thus L401: (D76 in ( uparrow C218 ) & D76 <= C221 & D76 <= C222) by L400 , L398 , L399 , L356;
end;
end;
definition
let C223 being RelStr;
let C224 being (Subset of C223);
attr C224 is  lower
means
:L403: (for B209 , B210 being (Element of C223) holds ((B209 in C224 & B210 <= B209) implies B210 in C224));
attr C224 is  upper
means
:L404: (for B211 , B212 being (Element of C223) holds ((B211 in C224 & B211 <= B212) implies B212 in C224));
end;
registration
let C225 being RelStr;
cluster  lower  upper for (Subset of C225);
existence
proof
L406: (the carrier of C225) c= (the carrier of C225);
reconsider D77 = (the carrier of C225) as (Subset of C225) by L406;
take D77;
thus L407: D77 is  lower
proof
let C226 being (Element of C225);
thus L408: thesis;
end;

let C227 being (Element of C225);
thus L409: thesis;
end;
end;
theorem
L411: (for B213 being RelStr holds (for B214 being (Subset of B213) holds (B214 is  lower iff ( downarrow B214 ) c= B214)))
proof
let C228 being RelStr;
let C229 being (Subset of C228);
thus L412:now
assume L413: C229 is  lower;
thus L414: ( downarrow C229 ) c= C229
proof
let C230 being set;
assume L415: C230 in ( downarrow C229 );
reconsider D78 = C230 as (Element of C228) by L415;
L416: (ex B215 being (Element of C228) st (D78 <= B215 & B215 in C229)) by L415 , L258;
thus L417: thesis by L416 , L413 , L403;
end;

end;
assume L415: ( downarrow C229 ) c= C229;
let C231 , C232 being (Element of C228);
assume that
L416: C231 in C229
and
L417: C232 <= C231;
L418: C232 in ( downarrow C229 ) by L416 , L417 , L258;
thus L419: thesis by L418 , L415;
end;
theorem
L420: (for B216 being RelStr holds (for B217 being (Subset of B216) holds (B217 is  upper iff ( uparrow B217 ) c= B217)))
proof
let C233 being RelStr;
let C234 being (Subset of C233);
thus L421:now
assume L422: C234 is  upper;
thus L423: ( uparrow C234 ) c= C234
proof
let C235 being set;
assume L424: C235 in ( uparrow C234 );
reconsider D79 = C235 as (Element of C233) by L424;
L425: (ex B218 being (Element of C233) st (D79 >= B218 & B218 in C234)) by L424 , L276;
thus L426: thesis by L425 , L422 , L404;
end;

end;
assume L424: ( uparrow C234 ) c= C234;
let C236 , C237 being (Element of C233);
assume that
L425: C236 in C234
and
L426: C237 >= C236;
L427: C237 in ( uparrow C234 ) by L425 , L426 , L276;
thus L428: thesis by L427 , L424;
end;
theorem
L429: (for B219 , B220 being RelStr holds (( the RelStr of B219 ) = ( the RelStr of B220 ) implies (for B221 being (Subset of B219) holds (for B222 being (Subset of B220) holds (B221 = B222 implies ((B221 is  lower implies B222 is  lower) & (B221 is  upper implies B222 is  upper)))))))
proof
let C238 , C239 being RelStr;
assume that
L430: ( the RelStr of C238 ) = ( the RelStr of C239 );
let C240 being (Subset of C238);
let C241 being (Subset of C239);
assume L431: C240 = C241;
thus L432:now
assume L433: C240 is  lower;
L434: ( downarrow C240 ) = ( downarrow C241 ) by L430 , L431 , L295;
L435: ( downarrow C240 ) c= C240 by L433 , L411;
thus L436: C241 is  lower by L435 , L431 , L434 , L411;
end;
assume L437: C240 is  upper;
L438: ( uparrow C240 ) = ( uparrow C241 ) by L430 , L431 , L295;
L439: ( uparrow C240 ) c= C240 by L437 , L420;
thus L440: thesis by L439 , L431 , L438 , L420;
end;
theorem
L441: (for B223 being RelStr holds (for B224 being (Subset-Family of B223) holds ((for B225 being (Subset of B223) holds (B225 in B224 implies B225 is  lower)) implies ( union B224 ) is  lower  lower  lower  lower (Subset of B223))))
proof
let C242 being RelStr;
let C243 being (Subset-Family of C242);
assume that
L442: (for B226 being (Subset of C242) holds (B226 in C243 implies B226 is  lower));
reconsider D80 = C243 as (Subset-Family of C242);
reconsider D81 = ( union D80 ) as (Subset of C242);
L443: D81 is  lower
proof
let C244 , C245 being (Element of C242);
assume L444: C244 in D81;
consider C246 being set such that L445: C244 in C246 and L446: C246 in D80 by L444 , TARSKI:def 4;
reconsider D82 = C246 as (Subset of C242) by L446;
L447: D82 is  lower by L442 , L446;
assume L448: C245 <= C244;
L449: C245 in D82 by L448 , L445 , L447 , L403;
thus L450: thesis by L449 , L446 , TARSKI:def 4;
end;
thus L451: thesis by L443;
end;
theorem
L452: (for B227 being RelStr holds (for B228 , B229 being (Subset of B227) holds ((B228 is  lower & B229 is  lower) implies (( B228 /\ B229 ) is  lower & ( B228 \/ B229 ) is  lower))))
proof
let C247 being RelStr;
let C248 , C249 being (Subset of C247);
assume that
L453: (for B230 , B231 being (Element of C247) holds ((B230 in C248 & B231 <= B230) implies B231 in C248))
and
L454: (for B232 , B233 being (Element of C247) holds ((B232 in C249 & B233 <= B232) implies B233 in C249));
thus L455:now
let C250 , C251 being (Element of C247);
assume L456: C250 in ( C248 /\ C249 );
L457: C250 in C248 by L456 , XBOOLE_0:def 4;
L458: C250 in C249 by L456 , XBOOLE_0:def 4;
assume L459: C251 <= C250;
L460: C251 in C248 by L459 , L453 , L457;
L461: C251 in C249 by L454 , L458 , L459;
thus L462: C251 in ( C248 /\ C249 ) by L461 , L460 , XBOOLE_0:def 4;
end;
let C252 , C253 being (Element of C247);
assume L463: C252 in ( C248 \/ C249 );
L464: (C252 in C248 or C252 in C249) by L463 , XBOOLE_0:def 3;
assume L465: C253 <= C252;
L466: (C253 in C248 or C253 in C249) by L465 , L453 , L454 , L464;
thus L467: thesis by L466 , XBOOLE_0:def 3;
end;
theorem
L468: (for B234 being RelStr holds (for B235 being (Subset-Family of B234) holds ((for B236 being (Subset of B234) holds (B236 in B235 implies B236 is  upper)) implies ( union B235 ) is  upper  upper  upper  upper (Subset of B234))))
proof
let C254 being RelStr;
let C255 being (Subset-Family of C254);
assume that
L469: (for B237 being (Subset of C254) holds (B237 in C255 implies B237 is  upper));
reconsider D83 = C255 as (Subset-Family of C254);
reconsider D84 = ( union D83 ) as (Subset of C254);
L470: D84 is  upper
proof
let C256 , C257 being (Element of C254);
assume L471: C256 in D84;
consider C258 being set such that L472: C256 in C258 and L473: C258 in D83 by L471 , TARSKI:def 4;
reconsider D85 = C258 as (Subset of C254) by L473;
L474: D85 is  upper by L469 , L473;
assume L475: C257 >= C256;
L476: C257 in D85 by L475 , L472 , L474 , L404;
thus L477: thesis by L476 , L473 , TARSKI:def 4;
end;
thus L478: thesis by L470;
end;
theorem
L479: (for B238 being RelStr holds (for B239 , B240 being (Subset of B238) holds ((B239 is  upper & B240 is  upper) implies (( B239 /\ B240 ) is  upper & ( B239 \/ B240 ) is  upper))))
proof
let C259 being RelStr;
let C260 , C261 being (Subset of C259);
assume that
L480: (for B241 , B242 being (Element of C259) holds ((B241 in C260 & B242 >= B241) implies B242 in C260))
and
L481: (for B243 , B244 being (Element of C259) holds ((B243 in C261 & B244 >= B243) implies B244 in C261));
thus L482:now
let C262 , C263 being (Element of C259);
assume L483: C262 in ( C260 /\ C261 );
L484: C262 in C260 by L483 , XBOOLE_0:def 4;
L485: C262 in C261 by L483 , XBOOLE_0:def 4;
assume L486: C263 >= C262;
L487: C263 in C260 by L486 , L480 , L484;
L488: C263 in C261 by L481 , L485 , L486;
thus L489: C263 in ( C260 /\ C261 ) by L488 , L487 , XBOOLE_0:def 4;
end;
let C264 , C265 being (Element of C259);
assume L490: C264 in ( C260 \/ C261 );
L491: (C264 in C260 or C264 in C261) by L490 , XBOOLE_0:def 3;
assume L492: C265 >= C264;
L493: (C265 in C260 or C265 in C261) by L492 , L480 , L481 , L491;
thus L494: thesis by L493 , XBOOLE_0:def 3;
end;
registration
let C266 being non  empty  transitive RelStr;
let C267 being (Subset of C266);
cluster ( downarrow C267 ) ->  lower;
coherence
proof
let C268 , C269 being (Element of C266);
assume L495: C268 in ( downarrow C267 );
consider C270 being (Element of C266) such that L496: C268 <= C270 and L497: C270 in C267 by L495 , L258;
assume L498: C269 <= C268;
L499: C269 <= C270 by L498 , L496 , ORDERS_2:3;
thus L500: thesis by L499 , L497 , L258;
end;
cluster ( uparrow C267 ) ->  upper;
coherence
proof
let C271 , C272 being (Element of C266);
assume L501: C271 in ( uparrow C267 );
consider C273 being (Element of C266) such that L502: C271 >= C273 and L503: C273 in C267 by L501 , L276;
assume L504: C272 >= C271;
L505: C272 >= C273 by L504 , L502 , ORDERS_2:3;
thus L506: thesis by L505 , L503 , L276;
end;
end;
registration
let C274 being non  empty  transitive RelStr;
let C275 being (Element of C274);
cluster ( downarrow C275 ) ->  lower;
coherence;
cluster ( uparrow C275 ) ->  upper;
coherence;
end;
registration
let C276 being non  empty RelStr;
cluster ( [#] C276 ) ->  lower  upper;
coherence
proof
set D86 = ( [#] C276 );
thus L509: (for B245 , B246 being (Element of C276) holds ((B245 in D86 & B246 <= B245) implies B246 in D86));
thus L510: (for B247 , B248 being (Element of C276) holds ((B247 in D86 & B247 <= B248) implies B248 in D86));
end;
end;
registration
let C277 being non  empty RelStr;
cluster non  empty  lower  upper for (Subset of C277);
existence
proof
take ( [#] C277 );
thus L512: thesis;
end;
end;
registration
let C278 being non  empty  reflexive  transitive RelStr;
cluster non  empty  lower  directed for (Subset of C278);
existence
proof
set D87 = the (Element of C278);
take ( downarrow D87 );
thus L514: thesis;
end;
cluster non  empty  upper  filtered for (Subset of C278);
existence
proof
set D88 = the (Element of C278);
take ( uparrow D88 );
thus L515: thesis;
end;
end;
registration
let C279 being  with_infima  with_suprema Poset;
cluster non  empty  directed  filtered  lower  upper for (Subset of C279);
existence
proof
take ( [#] C279 );
thus L517: thesis;
end;
end;
theorem
L519: (for B249 being non  empty  transitive  reflexive RelStr holds (for B250 being (Subset of B249) holds (B250 is  directed iff ( downarrow B250 ) is  directed)))
proof
let C280 being non  empty  transitive  reflexive RelStr;
let C281 being (Subset of C280);
thus L520: (C281 is  directed implies ( downarrow C281 ) is  directed)
proof
assume L521: (for B251 , B252 being (Element of C280) holds ((B251 in C281 & B252 in C281) implies (ex B253 being (Element of C280) st (B253 in C281 & B251 <= B253 & B252 <= B253))));
let C282 , C283 being (Element of C280);
assume that
L522: C282 in ( downarrow C281 )
and
L523: C283 in ( downarrow C281 );
consider C284 being (Element of C280) such that L524: C282 <= C284 and L525: C284 in C281 by L522 , L258;
consider C285 being (Element of C280) such that L526: C283 <= C285 and L527: C285 in C281 by L523 , L258;
consider C286 being (Element of C280) such that L528: C286 in C281 and L529: C284 <= C286 and L530: C285 <= C286 by L521 , L525 , L527;
take C286;
L531: C286 <= C286;
thus L532: C286 in ( downarrow C281 ) by L531 , L528 , L258;
thus L533: thesis by L524 , L526 , L529 , L530 , ORDERS_2:3;
end;

set D89 = ( downarrow C281 );
assume L534: (for B254 , B255 being (Element of C280) holds ((B254 in D89 & B255 in D89) implies (ex B256 being (Element of C280) st (B256 in D89 & B254 <= B256 & B255 <= B256))));
let C287 , C288 being (Element of C280);
assume that
L535: C287 in C281
and
L536: C288 in C281;
L537: C287 <= C287;
L538: C288 <= C288;
L539: C287 in D89 by L535 , L537 , L258;
L540: C288 in D89 by L536 , L538 , L258;
consider C289 being (Element of C280) such that L541: C289 in D89 and L542: C287 <= C289 and L543: C288 <= C289 by L540 , L534 , L539;
consider C290 being (Element of C280) such that L544: C289 <= C290 and L545: C290 in C281 by L541 , L258;
take C290;
thus L546: C290 in C281 by L545;
thus L547: thesis by L542 , L543 , L544 , ORDERS_2:3;
end;
registration
let C291 being non  empty  transitive  reflexive RelStr;
let C292 being  directed (Subset of C291);
cluster ( downarrow C292 ) ->  directed;
coherence by L519;
end;
theorem
L549: (for B257 being non  empty  transitive  reflexive RelStr holds (for B258 being (Subset of B257) holds (for B259 being (Element of B257) holds (B259 is_>=_than B258 iff B259 is_>=_than ( downarrow B258 )))))
proof
let C293 being non  empty  transitive  reflexive RelStr;
let C294 being (Subset of C293);
let C295 being (Element of C293);
thus L550: (C295 is_>=_than C294 implies C295 is_>=_than ( downarrow C294 ))
proof
assume L551: (for B260 being (Element of C293) holds (B260 in C294 implies C295 >= B260));
let C296 being (Element of C293);
assume L552: C296 in ( downarrow C294 );
consider C297 being (Element of C293) such that L553: C296 <= C297 and L554: C297 in C294 by L552 , L258;
L555: C295 >= C297 by L551 , L554;
thus L556: thesis by L555 , L553 , ORDERS_2:3;
end;

assume L557: (for B261 being (Element of C293) holds (B261 in ( downarrow C294 ) implies C295 >= B261));
let C298 being (Element of C293);
assume L558: C298 in C294;
L559: C298 <= C298;
L560: C298 in ( downarrow C294 ) by L559 , L558 , L258;
thus L561: thesis by L560 , L557;
end;
theorem
L562: (for B262 being non  empty  transitive  reflexive RelStr holds (for B263 being (Subset of B262) holds ( ex_sup_of B263 , B262 iff  ex_sup_of ( downarrow B263 ) , B262)))
proof
let C299 being non  empty  transitive  reflexive RelStr;
let C300 being (Subset of C299);
L563: (for B264 being (Element of C299) holds (B264 is_>=_than C300 iff B264 is_>=_than ( downarrow C300 ))) by L549;
thus L564: thesis by L563 , YELLOW_0:46;
end;
theorem
L565: (for B265 being non  empty  transitive  reflexive RelStr holds (for B266 being (Subset of B265) holds ( ex_sup_of B266 , B265 implies ( sup B266 ) = ( sup ( downarrow B266 ) ))))
proof
let C301 being non  empty  transitive  reflexive RelStr;
let C302 being (Subset of C301);
L566: (for B267 being (Element of C301) holds (B267 is_>=_than C302 iff B267 is_>=_than ( downarrow C302 ))) by L549;
thus L567: thesis by L566 , YELLOW_0:47;
end;
theorem
L568: (for B268 being non  empty Poset holds (for B269 being (Element of B268) holds ( ex_sup_of ( downarrow B269 ) , B268 & ( sup ( downarrow B269 ) ) = B269)))
proof
let C303 being non  empty Poset;
let C304 being (Element of C303);
L569:  ex_sup_of { C304 } , C303 by YELLOW_0:38;
thus L570:  ex_sup_of ( downarrow C304 ) , C303 by L569 , L562;
thus L571: ( sup ( downarrow C304 ) ) = ( sup { C304 } ) by L565 , YELLOW_0:38
.= C304 by YELLOW_0:39;
end;
theorem
L572: (for B270 being non  empty  transitive  reflexive RelStr holds (for B271 being (Subset of B270) holds (B271 is  filtered iff ( uparrow B271 ) is  filtered)))
proof
let C305 being non  empty  transitive  reflexive RelStr;
let C306 being (Subset of C305);
thus L573: (C306 is  filtered implies ( uparrow C306 ) is  filtered)
proof
assume L574: (for B272 , B273 being (Element of C305) holds ((B272 in C306 & B273 in C306) implies (ex B274 being (Element of C305) st (B274 in C306 & B272 >= B274 & B273 >= B274))));
let C307 , C308 being (Element of C305);
assume that
L575: C307 in ( uparrow C306 )
and
L576: C308 in ( uparrow C306 );
consider C309 being (Element of C305) such that L577: C307 >= C309 and L578: C309 in C306 by L575 , L276;
consider C310 being (Element of C305) such that L579: C308 >= C310 and L580: C310 in C306 by L576 , L276;
consider C311 being (Element of C305) such that L581: C311 in C306 and L582: C309 >= C311 and L583: C310 >= C311 by L574 , L578 , L580;
take C311;
L584: C311 >= C311 by ORDERS_2:1;
thus L585: C311 in ( uparrow C306 ) by L584 , L581 , L276;
thus L586: thesis by L577 , L579 , L582 , L583 , ORDERS_2:3;
end;

set D90 = ( uparrow C306 );
assume L587: (for B275 , B276 being (Element of C305) holds ((B275 in D90 & B276 in D90) implies (ex B277 being (Element of C305) st (B277 in D90 & B275 >= B277 & B276 >= B277))));
let C312 , C313 being (Element of C305);
assume that
L588: C312 in C306
and
L589: C313 in C306;
L590: C312 >= C312 by ORDERS_2:1;
L591: C313 >= C313 by ORDERS_2:1;
L592: C312 in D90 by L588 , L590 , L276;
L593: C313 in D90 by L589 , L591 , L276;
consider C314 being (Element of C305) such that L594: C314 in D90 and L595: C312 >= C314 and L596: C313 >= C314 by L593 , L587 , L592;
consider C315 being (Element of C305) such that L597: C314 >= C315 and L598: C315 in C306 by L594 , L276;
take C315;
thus L599: C315 in C306 by L598;
thus L600: thesis by L595 , L596 , L597 , ORDERS_2:3;
end;
registration
let C316 being non  empty  transitive  reflexive RelStr;
let C317 being  filtered (Subset of C316);
cluster ( uparrow C317 ) ->  filtered;
coherence by L572;
end;
theorem
L602: (for B278 being non  empty  transitive  reflexive RelStr holds (for B279 being (Subset of B278) holds (for B280 being (Element of B278) holds (B280 is_<=_than B279 iff B280 is_<=_than ( uparrow B279 )))))
proof
let C318 being non  empty  transitive  reflexive RelStr;
let C319 being (Subset of C318);
let C320 being (Element of C318);
thus L603: (C320 is_<=_than C319 implies C320 is_<=_than ( uparrow C319 ))
proof
assume L604: (for B281 being (Element of C318) holds (B281 in C319 implies C320 <= B281));
let C321 being (Element of C318);
assume L605: C321 in ( uparrow C319 );
consider C322 being (Element of C318) such that L606: C321 >= C322 and L607: C322 in C319 by L605 , L276;
L608: C320 <= C322 by L604 , L607;
thus L609: thesis by L608 , L606 , ORDERS_2:3;
end;

assume L610: (for B282 being (Element of C318) holds (B282 in ( uparrow C319 ) implies C320 <= B282));
let C323 being (Element of C318);
assume L611: C323 in C319;
L612: C323 <= C323;
L613: C323 in ( uparrow C319 ) by L612 , L611 , L276;
thus L614: thesis by L613 , L610;
end;
theorem
L615: (for B283 being non  empty  transitive  reflexive RelStr holds (for B284 being (Subset of B283) holds ( ex_inf_of B284 , B283 iff  ex_inf_of ( uparrow B284 ) , B283)))
proof
let C324 being non  empty  transitive  reflexive RelStr;
let C325 being (Subset of C324);
L616: (for B285 being (Element of C324) holds (B285 is_<=_than C325 iff B285 is_<=_than ( uparrow C325 ))) by L602;
thus L617: thesis by L616 , YELLOW_0:48;
end;
theorem
L618: (for B286 being non  empty  transitive  reflexive RelStr holds (for B287 being (Subset of B286) holds ( ex_inf_of B287 , B286 implies ( inf B287 ) = ( inf ( uparrow B287 ) ))))
proof
let C326 being non  empty  transitive  reflexive RelStr;
let C327 being (Subset of C326);
L619: (for B288 being (Element of C326) holds (B288 is_<=_than C327 iff B288 is_<=_than ( uparrow C327 ))) by L602;
thus L620: thesis by L619 , YELLOW_0:49;
end;
theorem
L621: (for B289 being non  empty Poset holds (for B290 being (Element of B289) holds ( ex_inf_of ( uparrow B290 ) , B289 & ( inf ( uparrow B290 ) ) = B290)))
proof
let C328 being non  empty Poset;
let C329 being (Element of C328);
L622:  ex_inf_of { C329 } , C328 by YELLOW_0:38;
thus L623:  ex_inf_of ( uparrow C329 ) , C328 by L622 , L615;
thus L624: ( inf ( uparrow C329 ) ) = ( inf { C329 } ) by L618 , YELLOW_0:38
.= C329 by YELLOW_0:39;
end;
begin
definition
let C330 being non  empty  reflexive  transitive RelStr;
mode Ideal of C330
 is  directed  lower non  empty (Subset of C330);
mode Filter of C330
 is  filtered  upper non  empty (Subset of C330);
end;
theorem
L626: (for B291 being  with_suprema  antisymmetric RelStr holds (for B292 being  lower (Subset of B291) holds (B292 is  directed iff (for B293 , B294 being (Element of B291) holds ((B293 in B292 & B294 in B292) implies ( B293 "\/" B294 ) in B292)))))
proof
let C331 being  with_suprema  antisymmetric RelStr;
let C332 being  lower (Subset of C331);
thus L627: (C332 is  directed implies (for B295 , B296 being (Element of C331) holds ((B295 in C332 & B296 in C332) implies ( B295 "\/" B296 ) in C332)))
proof
assume L628: (for B297 , B298 being (Element of C331) holds ((B297 in C332 & B298 in C332) implies (ex B299 being (Element of C331) st (B299 in C332 & B297 <= B299 & B298 <= B299))));
let C333 , C334 being (Element of C331);
assume that
L629: C333 in C332
and
L630: C334 in C332;
consider C335 being (Element of C331) such that L631: C335 in C332 and L632: C333 <= C335 and L633: C334 <= C335 by L628 , L629 , L630;
L634: ( C333 "\/" C334 ) <= C335 by L632 , L633 , YELLOW_0:22;
thus L635: thesis by L634 , L631 , L403;
end;

assume L636: (for B300 , B301 being (Element of C331) holds ((B300 in C332 & B301 in C332) implies ( B300 "\/" B301 ) in C332));
let C336 , C337 being (Element of C331);
assume that
L637: C336 in C332
and
L638: C337 in C332;
L639: C336 <= ( C336 "\/" C337 ) by YELLOW_0:22;
L640: C337 <= ( C336 "\/" C337 ) by YELLOW_0:22;
thus L641: thesis by L640 , L636 , L637 , L638 , L639;
end;
theorem
L642: (for B302 being  with_infima  antisymmetric RelStr holds (for B303 being  upper (Subset of B302) holds (B303 is  filtered iff (for B304 , B305 being (Element of B302) holds ((B304 in B303 & B305 in B303) implies ( B304 "/\" B305 ) in B303)))))
proof
let C338 being  with_infima  antisymmetric RelStr;
let C339 being  upper (Subset of C338);
thus L643: (C339 is  filtered implies (for B306 , B307 being (Element of C338) holds ((B306 in C339 & B307 in C339) implies ( B306 "/\" B307 ) in C339)))
proof
assume L644: (for B308 , B309 being (Element of C338) holds ((B308 in C339 & B309 in C339) implies (ex B310 being (Element of C338) st (B310 in C339 & B308 >= B310 & B309 >= B310))));
let C340 , C341 being (Element of C338);
assume that
L645: C340 in C339
and
L646: C341 in C339;
consider C342 being (Element of C338) such that L647: C342 in C339 and L648: C340 >= C342 and L649: C341 >= C342 by L644 , L645 , L646;
L650: ( C340 "/\" C341 ) >= C342 by L648 , L649 , YELLOW_0:23;
thus L651: thesis by L650 , L647 , L404;
end;

assume L652: (for B311 , B312 being (Element of C338) holds ((B311 in C339 & B312 in C339) implies ( B311 "/\" B312 ) in C339));
let C343 , C344 being (Element of C338);
assume that
L653: C343 in C339
and
L654: C344 in C339;
L655: C343 >= ( C343 "/\" C344 ) by YELLOW_0:23;
L656: C344 >= ( C343 "/\" C344 ) by YELLOW_0:23;
thus L657: thesis by L656 , L652 , L653 , L654 , L655;
end;
theorem
L658: (for B313 being  with_suprema Poset holds (for B314 being non  empty  lower (Subset of B313) holds (B314 is  directed iff (for B315 being  finite (Subset of B314) holds (B315 <> ( {} ) implies ( "\/" (B315 , B313) ) in B314)))))
proof
let C345 being  with_suprema Poset;
let C346 being non  empty  lower (Subset of C345);
thus L659: (C346 is  directed implies (for B316 being  finite (Subset of C346) holds (B316 <> ( {} ) implies ( "\/" (B316 , C345) ) in C346)))
proof
assume L660: C346 is  directed;
let C347 being  finite (Subset of C346);
assume that
L661: C347 <> ( {} );
consider C348 being (Element of C345) such that L662: C348 in C346 and L663: C347 is_<=_than C348 by L660 , L4;
L664: C347 c= (the carrier of C345) by XBOOLE_1:1;
L665:  ex_sup_of C347 , C345 by L664 , L661 , YELLOW_0:54;
L666: ( "\/" (C347 , C345) ) <= C348 by L665 , L663 , YELLOW_0:30;
thus L667: thesis by L666 , L662 , L403;
end;

assume L668: (for B317 being  finite (Subset of C346) holds (B317 <> ( {} ) implies ( "\/" (B317 , C345) ) in C346));
set D91 = the (Element of C346);
reconsider D92 = D91 as (Element of C345);
L669:
now
let C349 being  finite (Subset of C346);
per cases ;
suppose L670: C349 = ( {} );

L671: D92 is_>=_than C349 by L670 , YELLOW_0:6;
thus L672: (ex B318 being (Element of C345) st (B318 in C346 & B318 is_>=_than C349)) by L671;
end;
suppose L673: C349 <> ( {} );

L674: C349 c= (the carrier of C345) by XBOOLE_1:1;
L675:  ex_sup_of C349 , C345 by L674 , L673 , YELLOW_0:54;
L676: ( "\/" (C349 , C345) ) is_>=_than C349 by L675 , YELLOW_0:30;
thus L677: (ex B319 being (Element of C345) st (B319 in C346 & B319 is_>=_than C349)) by L676 , L668 , L673;
end;
end;
thus L679: thesis by L669 , L4;
end;
theorem
L680: (for B320 being  with_infima Poset holds (for B321 being non  empty  upper (Subset of B320) holds (B321 is  filtered iff (for B322 being  finite (Subset of B321) holds (B322 <> ( {} ) implies ( "/\" (B322 , B320) ) in B321)))))
proof
let C350 being  with_infima Poset;
let C351 being non  empty  upper (Subset of C350);
thus L681: (C351 is  filtered implies (for B323 being  finite (Subset of C351) holds (B323 <> ( {} ) implies ( "/\" (B323 , C350) ) in C351)))
proof
assume L682: C351 is  filtered;
let C352 being  finite (Subset of C351);
assume that
L683: C352 <> ( {} );
consider C353 being (Element of C350) such that L684: C353 in C351 and L685: C352 is_>=_than C353 by L682 , L36;
L686: C352 c= (the carrier of C350) by XBOOLE_1:1;
L687:  ex_inf_of C352 , C350 by L686 , L683 , YELLOW_0:55;
L688: ( "/\" (C352 , C350) ) >= C353 by L687 , L685 , YELLOW_0:31;
thus L689: thesis by L688 , L684 , L404;
end;

assume L690: (for B324 being  finite (Subset of C351) holds (B324 <> ( {} ) implies ( "/\" (B324 , C350) ) in C351));
set D93 = the (Element of C351);
reconsider D94 = D93 as (Element of C350);
L691:
now
let C354 being  finite (Subset of C351);
per cases ;
suppose L692: C354 = ( {} );

L693: D94 is_<=_than C354 by L692 , YELLOW_0:6;
thus L694: (ex B325 being (Element of C350) st (B325 in C351 & B325 is_<=_than C354)) by L693;
end;
suppose L695: C354 <> ( {} );

L696: C354 c= (the carrier of C350) by XBOOLE_1:1;
L697:  ex_inf_of C354 , C350 by L696 , L695 , YELLOW_0:55;
L698: ( "/\" (C354 , C350) ) is_<=_than C354 by L697 , YELLOW_0:31;
thus L699: (ex B326 being (Element of C350) st (B326 in C351 & B326 is_<=_than C354)) by L698 , L690 , L695;
end;
end;
thus L701: thesis by L691 , L36;
end;
theorem
L702: (for B327 being non  empty  antisymmetric RelStr holds ((B327 is  with_suprema or B327 is  with_infima) implies (for B328 , B329 being (Subset of B327) holds ((B328 is  lower  directed & B329 is  lower  directed) implies ( B328 /\ B329 ) is  directed))))
proof
let C355 being non  empty  antisymmetric RelStr;
assume that
L703: (C355 is  with_suprema or C355 is  with_infima);
let C356 , C357 being (Subset of C355);
assume that
L704: C356 is  lower  directed
and
L705: C357 is  lower  directed;
L706: ( C356 /\ C357 ) is  lower by L704 , L705 , L452;
per cases  by L703;
suppose L707: C355 is  with_suprema;

L708:
now
let C358 , C359 being (Element of C355);
assume that
L709: C358 in ( C356 /\ C357 )
and
L710: C359 in ( C356 /\ C357 );
L711: C358 in C356 by L709 , XBOOLE_0:def 4;
L712: C358 in C357 by L709 , XBOOLE_0:def 4;
L713: C359 in C356 by L710 , XBOOLE_0:def 4;
L714: C359 in C357 by L710 , XBOOLE_0:def 4;
L715: ( C358 "\/" C359 ) in C356 by L704 , L707 , L711 , L713 , L626;
L716: ( C358 "\/" C359 ) in C357 by L705 , L707 , L712 , L714 , L626;
thus L717: ( C358 "\/" C359 ) in ( C356 /\ C357 ) by L716 , L715 , XBOOLE_0:def 4;
end;
thus L718: thesis by L708 , L706 , L707 , L626;
end;
suppose L719: C355 is  with_infima;

let C360 , C361 being (Element of C355);
assume that
L720: C360 in ( C356 /\ C357 )
and
L721: C361 in ( C356 /\ C357 );
L722: C360 in C356 by L720 , XBOOLE_0:def 4;
L723: C360 in C357 by L720 , XBOOLE_0:def 4;
L724: C361 in C356 by L721 , XBOOLE_0:def 4;
L725: C361 in C357 by L721 , XBOOLE_0:def 4;
consider C362 being (Element of C355) such that L726: C362 in C356 and L727: C360 <= C362 and L728: C361 <= C362 by L704 , L722 , L724 , L1;
consider C363 being (Element of C355) such that L729: C363 in C357 and L730: C360 <= C363 and L731: C361 <= C363 by L705 , L723 , L725 , L1;
take D95 = ( C362 "/\" C363 );
L732: D95 <= C362 by L719 , YELLOW_0:23;
L733: D95 <= C363 by L719 , YELLOW_0:23;
L734: D95 in C356 by L704 , L726 , L732 , L403;
L735: D95 in C357 by L705 , L729 , L733 , L403;
thus L736: D95 in ( C356 /\ C357 ) by L735 , L734 , XBOOLE_0:def 4;
thus L737: thesis by L719 , L727 , L728 , L730 , L731 , YELLOW_0:23;
end;
end;
theorem
L739: (for B330 being non  empty  antisymmetric RelStr holds ((B330 is  with_suprema or B330 is  with_infima) implies (for B331 , B332 being (Subset of B330) holds ((B331 is  upper  filtered & B332 is  upper  filtered) implies ( B331 /\ B332 ) is  filtered))))
proof
let C364 being non  empty  antisymmetric RelStr;
assume that
L740: (C364 is  with_suprema or C364 is  with_infima);
let C365 , C366 being (Subset of C364);
assume that
L741: C365 is  upper  filtered
and
L742: C366 is  upper  filtered;
L743: ( C365 /\ C366 ) is  upper by L741 , L742 , L479;
per cases  by L740;
suppose L744: C364 is  with_infima;

L745:
now
let C367 , C368 being (Element of C364);
assume that
L746: C367 in ( C365 /\ C366 )
and
L747: C368 in ( C365 /\ C366 );
L748: C367 in C365 by L746 , XBOOLE_0:def 4;
L749: C367 in C366 by L746 , XBOOLE_0:def 4;
L750: C368 in C365 by L747 , XBOOLE_0:def 4;
L751: C368 in C366 by L747 , XBOOLE_0:def 4;
L752: ( C367 "/\" C368 ) in C365 by L741 , L744 , L748 , L750 , L642;
L753: ( C367 "/\" C368 ) in C366 by L742 , L744 , L749 , L751 , L642;
thus L754: ( C367 "/\" C368 ) in ( C365 /\ C366 ) by L753 , L752 , XBOOLE_0:def 4;
end;
thus L755: thesis by L745 , L743 , L744 , L642;
end;
suppose L756: C364 is  with_suprema;

let C369 , C370 being (Element of C364);
assume that
L757: C369 in ( C365 /\ C366 )
and
L758: C370 in ( C365 /\ C366 );
L759: C369 in C365 by L757 , XBOOLE_0:def 4;
L760: C369 in C366 by L757 , XBOOLE_0:def 4;
L761: C370 in C365 by L758 , XBOOLE_0:def 4;
L762: C370 in C366 by L758 , XBOOLE_0:def 4;
consider C371 being (Element of C364) such that L763: C371 in C365 and L764: C369 >= C371 and L765: C370 >= C371 by L741 , L759 , L761 , L2;
consider C372 being (Element of C364) such that L766: C372 in C366 and L767: C369 >= C372 and L768: C370 >= C372 by L742 , L760 , L762 , L2;
take D96 = ( C371 "\/" C372 );
L769: D96 >= C371 by L756 , YELLOW_0:22;
L770: D96 >= C372 by L756 , YELLOW_0:22;
L771: D96 in C365 by L741 , L763 , L769 , L404;
L772: D96 in C366 by L742 , L766 , L770 , L404;
thus L773: D96 in ( C365 /\ C366 ) by L772 , L771 , XBOOLE_0:def 4;
thus L774: thesis by L756 , L764 , L765 , L767 , L768 , YELLOW_0:22;
end;
end;
theorem
L776: (for B333 being RelStr holds (for B334 being (Subset-Family of B333) holds (((for B335 being (Subset of B333) holds (B335 in B334 implies B335 is  directed)) & (for B336 , B337 being (Subset of B333) holds ((B336 in B334 & B337 in B334) implies (ex B338 being (Subset of B333) st (B338 in B334 & ( B336 \/ B337 ) c= B338))))) implies (for B339 being (Subset of B333) holds (B339 = ( union B334 ) implies B339 is  directed)))))
proof
let C373 being RelStr;
let C374 being (Subset-Family of C373);
assume that
L777: (for B340 being (Subset of C373) holds (B340 in C374 implies B340 is  directed))
and
L778: (for B341 , B342 being (Subset of C373) holds ((B341 in C374 & B342 in C374) implies (ex B343 being (Subset of C373) st (B343 in C374 & ( B341 \/ B342 ) c= B343))));
let C375 being (Subset of C373);
assume L779: C375 = ( union C374 );
let C376 , C377 being (Element of C373);
assume L780: C376 in C375;
consider C378 being set such that L781: C376 in C378 and L782: C378 in C374 by L780 , L779 , TARSKI:def 4;
assume L783: C377 in C375;
consider C379 being set such that L784: C377 in C379 and L785: C379 in C374 by L783 , L779 , TARSKI:def 4;
reconsider D97 = C378 , D98 = C379 as (Subset of C373) by L782 , L785;
consider C380 being (Subset of C373) such that L786: C380 in C374 and L787: ( D97 \/ D98 ) c= C380 by L778 , L782 , L785;
L788: D97 c= ( D97 \/ D98 ) by XBOOLE_1:7;
L789: D98 c= ( D97 \/ D98 ) by XBOOLE_1:7;
L790: C376 in ( D97 \/ D98 ) by L781 , L788;
L791: C377 in ( D97 \/ D98 ) by L784 , L789;
L792: C380 is  directed by L777 , L786;
consider C381 being (Element of C373) such that L793: C381 in C380 and L794: C376 <= C381 and L795: C377 <= C381 by L792 , L787 , L790 , L791 , L1;
take C381;
thus L796: thesis by L779 , L786 , L793 , L794 , L795 , TARSKI:def 4;
end;
theorem
L797: (for B344 being RelStr holds (for B345 being (Subset-Family of B344) holds (((for B346 being (Subset of B344) holds (B346 in B345 implies B346 is  filtered)) & (for B347 , B348 being (Subset of B344) holds ((B347 in B345 & B348 in B345) implies (ex B349 being (Subset of B344) st (B349 in B345 & ( B347 \/ B348 ) c= B349))))) implies (for B350 being (Subset of B344) holds (B350 = ( union B345 ) implies B350 is  filtered)))))
proof
let C382 being RelStr;
let C383 being (Subset-Family of C382);
assume that
L798: (for B351 being (Subset of C382) holds (B351 in C383 implies B351 is  filtered))
and
L799: (for B352 , B353 being (Subset of C382) holds ((B352 in C383 & B353 in C383) implies (ex B354 being (Subset of C382) st (B354 in C383 & ( B352 \/ B353 ) c= B354))));
let C384 being (Subset of C382);
assume L800: C384 = ( union C383 );
let C385 , C386 being (Element of C382);
assume L801: C385 in C384;
consider C387 being set such that L802: C385 in C387 and L803: C387 in C383 by L801 , L800 , TARSKI:def 4;
assume L804: C386 in C384;
consider C388 being set such that L805: C386 in C388 and L806: C388 in C383 by L804 , L800 , TARSKI:def 4;
reconsider D99 = C387 , D100 = C388 as (Subset of C382) by L803 , L806;
consider C389 being (Subset of C382) such that L807: C389 in C383 and L808: ( D99 \/ D100 ) c= C389 by L799 , L803 , L806;
L809: D99 c= ( D99 \/ D100 ) by XBOOLE_1:7;
L810: D100 c= ( D99 \/ D100 ) by XBOOLE_1:7;
L811: C385 in ( D99 \/ D100 ) by L802 , L809;
L812: C386 in ( D99 \/ D100 ) by L805 , L810;
L813: C389 is  filtered by L798 , L807;
consider C390 being (Element of C382) such that L814: C390 in C389 and L815: C385 >= C390 and L816: C386 >= C390 by L813 , L808 , L811 , L812 , L2;
take C390;
thus L817: thesis by L800 , L807 , L814 , L815 , L816 , TARSKI:def 4;
end;
definition
let C391 being non  empty  reflexive  transitive RelStr;
let C392 being (Ideal of C391);
attr C392 is  principal
means
(ex B355 being (Element of C391) st (B355 in C392 & B355 is_>=_than C392));
end;
definition
let C393 being non  empty  reflexive  transitive RelStr;
let C394 being (Filter of C393);
attr C394 is  principal
means
(ex B356 being (Element of C393) st (B356 in C394 & B356 is_<=_than C394));
end;
theorem
L820: (for B357 being non  empty  reflexive  transitive RelStr holds (for B358 being (Ideal of B357) holds (B358 is  principal iff (ex B359 being (Element of B357) st B358 = ( downarrow B359 )))))
proof
let C395 being non  empty  reflexive  transitive RelStr;
let C396 being (Ideal of C395);
thus L821: (C396 is  principal implies (ex B360 being (Element of C395) st C396 = ( downarrow B360 )))
proof
given C397 being (Element of C395) such that
L822: C397 in C396
and
L823: C397 is_>=_than C396;

take C397;
thus L824: C396 c= ( downarrow C397 )
proof
let C398 being set;
assume L825: C398 in C396;
reconsider D101 = C398 as (Element of C395) by L825;
L826: C397 >= D101 by L823 , L825 , LATTICE3:def 9;
thus L827: thesis by L826 , L350;
end;

let C399 being set;
assume L828: C399 in ( downarrow C397 );
reconsider D102 = C399 as (Element of C395) by L828;
L829: D102 <= C397 by L828 , L350;
thus L830: thesis by L829 , L822 , L403;
end;

given C400 being (Element of C395) such that
L831: C396 = ( downarrow C400 );

take C400;
L832: C400 <= C400;
thus L833: C400 in C396 by L832 , L831 , L350;
let C401 being (Element of C395);
thus L834: thesis by L831 , L350;
end;
theorem
L835: (for B361 being non  empty  reflexive  transitive RelStr holds (for B362 being (Filter of B361) holds (B362 is  principal iff (ex B363 being (Element of B361) st B362 = ( uparrow B363 )))))
proof
let C402 being non  empty  reflexive  transitive RelStr;
let C403 being (Filter of C402);
thus L836: (C403 is  principal implies (ex B364 being (Element of C402) st C403 = ( uparrow B364 )))
proof
given C404 being (Element of C402) such that
L837: C404 in C403
and
L838: C404 is_<=_than C403;

take C404;
thus L839: C403 c= ( uparrow C404 )
proof
let C405 being set;
assume L840: C405 in C403;
reconsider D103 = C405 as (Element of C402) by L840;
L841: C404 <= D103 by L838 , L840 , LATTICE3:def 8;
thus L842: thesis by L841 , L356;
end;

let C406 being set;
assume L843: C406 in ( uparrow C404 );
reconsider D104 = C406 as (Element of C402) by L843;
L844: D104 >= C404 by L843 , L356;
thus L845: thesis by L844 , L837 , L404;
end;

given C407 being (Element of C402) such that
L846: C403 = ( uparrow C407 );

take C407;
L847: C407 <= C407;
thus L848: C407 in C403 by L847 , L846 , L356;
let C408 being (Element of C402);
thus L849: thesis by L846 , L356;
end;
definition
let C409 being non  empty  reflexive  transitive RelStr;
func Ids C409 -> set equals 
{ B365 where B365 is (Ideal of C409) : (not contradiction) };
correctness;
func Filt C409 -> set equals 
{ B366 where B366 is (Filter of C409) : (not contradiction) };
correctness;
end;
definition
let C410 being non  empty  reflexive  transitive RelStr;
func Ids_0 C410 -> set equals 
( ( Ids C410 ) \/ { ( {} ) } );
correctness;
func Filt_0 C410 -> set equals 
( ( Filt C410 ) \/ { ( {} ) } );
correctness;
end;
definition
let C411 being non  empty RelStr;
let C412 being (Subset of C411);
set D105 = { ( "\/" (B367 , C411) ) where B367 is  finite (Subset of C412) :  ex_sup_of B367 , C411 };
L852: D105 c= (the carrier of C411)
proof
let C413 being set;
assume L853: C413 in D105;
L854: (ex B368 being  finite (Subset of C412) st (C413 = ( "\/" (B368 , C411) ) &  ex_sup_of B368 , C411)) by L853;
thus L855: thesis by L854;
end;
func finsups C412 -> (Subset of C411) equals 
{ ( "\/" (B369 , C411) ) where B369 is  finite (Subset of C412) :  ex_sup_of B369 , C411 };
correctness by L852;
set D106 = { ( "/\" (B370 , C411) ) where B370 is  finite (Subset of C412) :  ex_inf_of B370 , C411 };
L856: D106 c= (the carrier of C411)
proof
let C414 being set;
assume L857: C414 in D106;
L858: (ex B371 being  finite (Subset of C412) st (C414 = ( "/\" (B371 , C411) ) &  ex_inf_of B371 , C411)) by L857;
thus L859: thesis by L858;
end;
func fininfs C412 -> (Subset of C411) equals 
{ ( "/\" (B372 , C411) ) where B372 is  finite (Subset of C412) :  ex_inf_of B372 , C411 };
correctness by L856;
end;
registration
let C415 being non  empty  antisymmetric  lower-bounded RelStr;
let C416 being (Subset of C415);
cluster ( finsups C416 ) -> non  empty;
coherence
proof
L861:  ex_sup_of ( {} ) , C415 by YELLOW_0:42;
L862: ( "\/" (( {} C416 ) , C415) ) in ( finsups C416 ) by L861;
thus L863: thesis by L862;
end;
end;
registration
let C417 being non  empty  antisymmetric  upper-bounded RelStr;
let C418 being (Subset of C417);
cluster ( fininfs C418 ) -> non  empty;
coherence
proof
L865:  ex_inf_of ( {} ) , C417 by YELLOW_0:43;
L866: ( "/\" (( {} C418 ) , C417) ) in ( fininfs C418 ) by L865;
thus L867: thesis by L866;
end;
end;
registration
let C419 being non  empty  reflexive  antisymmetric RelStr;
let C420 being non  empty (Subset of C419);
cluster ( finsups C420 ) -> non  empty;
coherence
proof
set D107 = the (Element of C420);
reconsider D108 = D107 as (Element of C419);
reconsider D109 = { D108 } as  finite (Subset of C420) by ZFMISC_1:31;
L869:  ex_sup_of D109 , C419 by YELLOW_0:38;
L870: ( "\/" (D109 , C419) ) in ( finsups C420 ) by L869;
thus L871: thesis by L870;
end;
cluster ( fininfs C420 ) -> non  empty;
coherence
proof
set D110 = the (Element of C420);
reconsider D111 = D110 as (Element of C419);
reconsider D112 = { D111 } as  finite (Subset of C420) by ZFMISC_1:31;
L872:  ex_inf_of D112 , C419 by YELLOW_0:38;
L873: ( "/\" (D112 , C419) ) in ( fininfs C420 ) by L872;
thus L874: thesis by L873;
end;
end;
theorem
L876: (for B373 being non  empty  reflexive  antisymmetric RelStr holds (for B374 being (Subset of B373) holds (B374 c= ( finsups B374 ) & B374 c= ( fininfs B374 ))))
proof
let C421 being non  empty  reflexive  antisymmetric RelStr;
let C422 being (Subset of C421);
thus L877:now
let C423 being set;
assume L878: C423 in C422;
reconsider D113 = C423 as (Element of C421) by L878;
reconsider D114 = { C423 } as  finite (Subset of C422) by L878 , ZFMISC_1:31;
L879: D113 = ( "\/" (D114 , C421) ) by YELLOW_0:39;
L880:  ex_sup_of { D113 } , C421 by YELLOW_0:38;
thus L881: C423 in ( finsups C422 ) by L880 , L879;
end;
thus L882:now
let C424 being set;
assume L883: C424 in C422;
reconsider D115 = C424 as (Element of C421) by L883;
reconsider D116 = { C424 } as  finite (Subset of C422) by L883 , ZFMISC_1:31;
L884: D115 = ( "/\" (D116 , C421) ) by YELLOW_0:39;
L885:  ex_inf_of { D115 } , C421 by YELLOW_0:38;
thus L886: C424 in ( fininfs C422 ) by L885 , L884;
end;
end;
theorem
L883: (for B375 being non  empty  transitive RelStr holds (for B376 , B377 being (Subset of B375) holds (((for B378 being  finite (Subset of B376) holds (B378 <> ( {} ) implies  ex_sup_of B378 , B375)) & (for B379 being (Element of B375) holds (B379 in B377 implies (ex B380 being  finite (Subset of B376) st ( ex_sup_of B380 , B375 & B379 = ( "\/" (B380 , B375) ))))) & (for B381 being  finite (Subset of B376) holds (B381 <> ( {} ) implies ( "\/" (B381 , B375) ) in B377))) implies B377 is  directed)))
proof
let C425 being non  empty  transitive RelStr;
let C426 , C427 being (Subset of C425);
assume that
L884: (for B382 being  finite (Subset of C426) holds (B382 <> ( {} ) implies  ex_sup_of B382 , C425))
and
L885: (for B383 being (Element of C425) holds (B383 in C427 implies (ex B384 being  finite (Subset of C426) st ( ex_sup_of B384 , C425 & B383 = ( "\/" (B384 , C425) )))))
and
L886: (for B385 being  finite (Subset of C426) holds (B385 <> ( {} ) implies ( "\/" (B385 , C425) ) in C427));
let C428 , C429 being (Element of C425);
assume L887: C428 in C427;
consider C430 being  finite (Subset of C426) such that L888:  ex_sup_of C430 , C425 and L889: C428 = ( "\/" (C430 , C425) ) by L887 , L885;
assume L890: C429 in C427;
consider C431 being  finite (Subset of C426) such that L891:  ex_sup_of C431 , C425 and L892: C429 = ( "\/" (C431 , C425) ) by L890 , L885;
take D117 = ( "\/" (( C430 \/ C431 ) , C425) );
L893: ((C430 = ( {} ) & C431 = ( {} ) & ( ( {} ) \/ ( {} ) ) = ( {} )) or ( C430 \/ C431 ) <> ( {} ));
thus L894: D117 in C427 by L893 , L886 , L887 , L889;
L895:  ex_sup_of ( C430 \/ C431 ) , C425 by L884 , L888 , L893;
thus L896: thesis by L895 , L888 , L889 , L891 , L892 , XBOOLE_1:7 , YELLOW_0:34;
end;
registration
let C432 being  with_suprema Poset;
let C433 being (Subset of C432);
cluster ( finsups C433 ) ->  directed;
coherence
proof
reconsider D118 = C433 as (Subset of C432);
L897:
now
let C434 being  finite (Subset of D118);
L898: C434 c= (the carrier of C432) by XBOOLE_1:1;
thus L899: (C434 <> ( {} ) implies  ex_sup_of C434 , C432) by L898 , YELLOW_0:54;
end;
L900:
now
let C435 being (Element of C432);
assume L901: C435 in ( finsups D118 );
L902: (ex B386 being  finite (Subset of D118) st (C435 = ( "\/" (B386 , C432) ) &  ex_sup_of B386 , C432)) by L901;
thus L903: (ex B387 being  finite (Subset of D118) st ( ex_sup_of B387 , C432 & C435 = ( "\/" (B387 , C432) ))) by L902;
end;
L904:
now
let C436 being  finite (Subset of D118);
reconsider D119 = C436 as (Subset of C432) by XBOOLE_1:1;
assume L905: C436 <> ( {} );
L906:  ex_sup_of D119 , C432 by L905 , YELLOW_0:54;
thus L907: ( "\/" (C436 , C432) ) in ( finsups D118 ) by L906;
end;
thus L908: thesis by L904 , L897 , L900 , L883;
end;
end;
theorem
L910: (for B388 being non  empty  transitive  reflexive RelStr holds (for B389 , B390 being (Subset of B388) holds (((for B391 being  finite (Subset of B389) holds (B391 <> ( {} ) implies  ex_sup_of B391 , B388)) & (for B392 being (Element of B388) holds (B392 in B390 implies (ex B393 being  finite (Subset of B389) st ( ex_sup_of B393 , B388 & B392 = ( "\/" (B393 , B388) ))))) & (for B394 being  finite (Subset of B389) holds (B394 <> ( {} ) implies ( "\/" (B394 , B388) ) in B390))) implies (for B395 being (Element of B388) holds (B395 is_>=_than B389 iff B395 is_>=_than B390)))))
proof
let C437 being non  empty  transitive  reflexive RelStr;
let C438 , C439 being (Subset of C437);
assume that
L911: (for B396 being  finite (Subset of C438) holds (B396 <> ( {} ) implies  ex_sup_of B396 , C437))
and
L912: (for B397 being (Element of C437) holds (B397 in C439 implies (ex B398 being  finite (Subset of C438) st ( ex_sup_of B398 , C437 & B397 = ( "\/" (B398 , C437) )))))
and
L913: (for B399 being  finite (Subset of C438) holds (B399 <> ( {} ) implies ( "\/" (B399 , C437) ) in C439));
let C440 being (Element of C437);
thus L914: (C440 is_>=_than C438 implies C440 is_>=_than C439)
proof
assume L915: C440 is_>=_than C438;
let C441 being (Element of C437);
assume L916: C441 in C439;
consider C442 being  finite (Subset of C438) such that L917:  ex_sup_of C442 , C437 and L918: C441 = ( "\/" (C442 , C437) ) by L916 , L912;
L919: C440 is_>=_than C442 by L915 , YELLOW_0:9;
thus L920: thesis by L919 , L917 , L918 , YELLOW_0:def 9;
end;

assume L921: C440 is_>=_than C439;
let C443 being (Element of C437);
assume L922: C443 in C438;
L923: { C443 } c= C438 by L922 , ZFMISC_1:31;
L924: ( sup { C443 } ) in C439 by L923 , L913;
L925:  ex_sup_of { C443 } , C437 by L911 , L923;
L926: { C443 } is_<=_than ( sup { C443 } ) by L925 , YELLOW_0:def 9;
L927: ( sup { C443 } ) <= C440 by L921 , L924 , LATTICE3:def 9;
L928: C443 <= ( sup { C443 } ) by L926 , YELLOW_0:7;
thus L929: thesis by L928 , L927 , ORDERS_2:3;
end;
theorem
L930: (for B400 being non  empty  transitive  reflexive RelStr holds (for B401 , B402 being (Subset of B400) holds (((for B403 being  finite (Subset of B401) holds (B403 <> ( {} ) implies  ex_sup_of B403 , B400)) & (for B404 being (Element of B400) holds (B404 in B402 implies (ex B405 being  finite (Subset of B401) st ( ex_sup_of B405 , B400 & B404 = ( "\/" (B405 , B400) ))))) & (for B406 being  finite (Subset of B401) holds (B406 <> ( {} ) implies ( "\/" (B406 , B400) ) in B402))) implies ( ex_sup_of B401 , B400 iff  ex_sup_of B402 , B400))))
proof
let C444 being non  empty  transitive  reflexive RelStr;
let C445 , C446 being (Subset of C444);
assume that
L931: (for B407 being  finite (Subset of C445) holds (B407 <> ( {} ) implies  ex_sup_of B407 , C444))
and
L932: (for B408 being (Element of C444) holds (B408 in C446 implies (ex B409 being  finite (Subset of C445) st ( ex_sup_of B409 , C444 & B408 = ( "\/" (B409 , C444) )))))
and
L933: (for B410 being  finite (Subset of C445) holds (B410 <> ( {} ) implies ( "\/" (B410 , C444) ) in C446));
L934: (for B411 being (Element of C444) holds (B411 is_>=_than C445 iff B411 is_>=_than C446)) by L931 , L932 , L933 , L910;
thus L935: thesis by L934 , YELLOW_0:46;
end;
theorem
L936: (for B412 being non  empty  transitive  reflexive RelStr holds (for B413 , B414 being (Subset of B412) holds (((for B415 being  finite (Subset of B413) holds (B415 <> ( {} ) implies  ex_sup_of B415 , B412)) & (for B416 being (Element of B412) holds (B416 in B414 implies (ex B417 being  finite (Subset of B413) st ( ex_sup_of B417 , B412 & B416 = ( "\/" (B417 , B412) ))))) & (for B418 being  finite (Subset of B413) holds (B418 <> ( {} ) implies ( "\/" (B418 , B412) ) in B414)) &  ex_sup_of B413 , B412) implies ( sup B414 ) = ( sup B413 ))))
proof
let C447 being non  empty  transitive  reflexive RelStr;
let C448 , C449 being (Subset of C447);
assume that
L937: (for B419 being  finite (Subset of C448) holds (B419 <> ( {} ) implies  ex_sup_of B419 , C447))
and
L938: (for B420 being (Element of C447) holds (B420 in C449 implies (ex B421 being  finite (Subset of C448) st ( ex_sup_of B421 , C447 & B420 = ( "\/" (B421 , C447) )))))
and
L939: (for B422 being  finite (Subset of C448) holds (B422 <> ( {} ) implies ( "\/" (B422 , C447) ) in C449));
L940: (for B423 being (Element of C447) holds (B423 is_>=_than C448 iff B423 is_>=_than C449)) by L937 , L938 , L939 , L910;
thus L941: thesis by L940 , YELLOW_0:47;
end;
theorem
L942: (for B424 being  with_suprema Poset holds (for B425 being (Subset of B424) holds (( ex_sup_of B425 , B424 or B424 is  complete) implies ( sup B425 ) = ( sup ( finsups B425 ) ))))
proof
let C450 being  with_suprema Poset;
let C451 being (Subset of C450);
assume L943: ( ex_sup_of C451 , C450 or C450 is  complete);
L944:  ex_sup_of C451 , C450 by L943 , YELLOW_0:17;
L945:
now
let C452 being  finite (Subset of C451);
L946: C452 c= (the carrier of C450) by XBOOLE_1:1;
thus L947: (C452 <> ( {} ) implies  ex_sup_of C452 , C450) by L946 , YELLOW_0:54;
end;
L948:
now
let C453 being (Element of C450);
assume L949: C453 in ( finsups C451 );
L950: (ex B426 being  finite (Subset of C451) st (C453 = ( "\/" (B426 , C450) ) &  ex_sup_of B426 , C450)) by L949;
thus L951: (ex B427 being  finite (Subset of C451) st ( ex_sup_of B427 , C450 & C453 = ( "\/" (B427 , C450) ))) by L950;
end;
L952:
now
let C454 being  finite (Subset of C451);
reconsider D120 = C454 as (Subset of C450) by XBOOLE_1:1;
assume L953: C454 <> ( {} );
L954:  ex_sup_of D120 , C450 by L953 , YELLOW_0:54;
thus L955: ( "\/" (C454 , C450) ) in ( finsups C451 ) by L954;
end;
thus L956: thesis by L952 , L944 , L945 , L948 , L936;
end;
theorem
L957: (for B428 being non  empty  transitive RelStr holds (for B429 , B430 being (Subset of B428) holds (((for B431 being  finite (Subset of B429) holds (B431 <> ( {} ) implies  ex_inf_of B431 , B428)) & (for B432 being (Element of B428) holds (B432 in B430 implies (ex B433 being  finite (Subset of B429) st ( ex_inf_of B433 , B428 & B432 = ( "/\" (B433 , B428) ))))) & (for B434 being  finite (Subset of B429) holds (B434 <> ( {} ) implies ( "/\" (B434 , B428) ) in B430))) implies B430 is  filtered)))
proof
let C455 being non  empty  transitive RelStr;
let C456 , C457 being (Subset of C455);
assume that
L958: (for B435 being  finite (Subset of C456) holds (B435 <> ( {} ) implies  ex_inf_of B435 , C455))
and
L959: (for B436 being (Element of C455) holds (B436 in C457 implies (ex B437 being  finite (Subset of C456) st ( ex_inf_of B437 , C455 & B436 = ( "/\" (B437 , C455) )))))
and
L960: (for B438 being  finite (Subset of C456) holds (B438 <> ( {} ) implies ( "/\" (B438 , C455) ) in C457));
let C458 , C459 being (Element of C455);
assume L961: C458 in C457;
consider C460 being  finite (Subset of C456) such that L962:  ex_inf_of C460 , C455 and L963: C458 = ( "/\" (C460 , C455) ) by L961 , L959;
assume L964: C459 in C457;
consider C461 being  finite (Subset of C456) such that L965:  ex_inf_of C461 , C455 and L966: C459 = ( "/\" (C461 , C455) ) by L964 , L959;
take D121 = ( "/\" (( C460 \/ C461 ) , C455) );
L967: ((C460 = ( {} ) & C461 = ( {} ) & ( ( {} ) \/ ( {} ) ) = ( {} )) or ( C460 \/ C461 ) <> ( {} ));
thus L968: D121 in C457 by L967 , L960 , L961 , L963;
L969:  ex_inf_of ( C460 \/ C461 ) , C455 by L958 , L962 , L967;
thus L970: thesis by L969 , L962 , L963 , L965 , L966 , XBOOLE_1:7 , YELLOW_0:35;
end;
registration
let C462 being  with_infima Poset;
let C463 being (Subset of C462);
cluster ( fininfs C463 ) ->  filtered;
coherence
proof
reconsider D122 = C463 as (Subset of C462);
L971:
now
let C464 being  finite (Subset of D122);
L972: C464 c= (the carrier of C462) by XBOOLE_1:1;
thus L973: (C464 <> ( {} ) implies  ex_inf_of C464 , C462) by L972 , YELLOW_0:55;
end;
L974:
now
let C465 being (Element of C462);
assume L975: C465 in ( fininfs D122 );
L976: (ex B439 being  finite (Subset of D122) st (C465 = ( "/\" (B439 , C462) ) &  ex_inf_of B439 , C462)) by L975;
thus L977: (ex B440 being  finite (Subset of D122) st ( ex_inf_of B440 , C462 & C465 = ( "/\" (B440 , C462) ))) by L976;
end;
L978:
now
let C466 being  finite (Subset of D122);
reconsider D123 = C466 as (Subset of C462) by XBOOLE_1:1;
assume L979: C466 <> ( {} );
L980:  ex_inf_of D123 , C462 by L979 , YELLOW_0:55;
thus L981: ( "/\" (C466 , C462) ) in ( fininfs D122 ) by L980;
end;
thus L982: thesis by L978 , L971 , L974 , L957;
end;
end;
theorem
L984: (for B441 being non  empty  transitive  reflexive RelStr holds (for B442 , B443 being (Subset of B441) holds (((for B444 being  finite (Subset of B442) holds (B444 <> ( {} ) implies  ex_inf_of B444 , B441)) & (for B445 being (Element of B441) holds (B445 in B443 implies (ex B446 being  finite (Subset of B442) st ( ex_inf_of B446 , B441 & B445 = ( "/\" (B446 , B441) ))))) & (for B447 being  finite (Subset of B442) holds (B447 <> ( {} ) implies ( "/\" (B447 , B441) ) in B443))) implies (for B448 being (Element of B441) holds (B448 is_<=_than B442 iff B448 is_<=_than B443)))))
proof
let C467 being non  empty  transitive  reflexive RelStr;
let C468 , C469 being (Subset of C467);
assume that
L985: (for B449 being  finite (Subset of C468) holds (B449 <> ( {} ) implies  ex_inf_of B449 , C467))
and
L986: (for B450 being (Element of C467) holds (B450 in C469 implies (ex B451 being  finite (Subset of C468) st ( ex_inf_of B451 , C467 & B450 = ( "/\" (B451 , C467) )))))
and
L987: (for B452 being  finite (Subset of C468) holds (B452 <> ( {} ) implies ( "/\" (B452 , C467) ) in C469));
let C470 being (Element of C467);
thus L988: (C470 is_<=_than C468 implies C470 is_<=_than C469)
proof
assume L989: C470 is_<=_than C468;
let C471 being (Element of C467);
assume L990: C471 in C469;
consider C472 being  finite (Subset of C468) such that L991:  ex_inf_of C472 , C467 and L992: C471 = ( "/\" (C472 , C467) ) by L990 , L986;
L993: C470 is_<=_than C472 by L989 , YELLOW_0:9;
thus L994: C470 <= C471 by L993 , L991 , L992 , YELLOW_0:def 10;
end;

assume L995: C470 is_<=_than C469;
let C473 being (Element of C467);
assume L996: C473 in C468;
L997: { C473 } c= C468 by L996 , ZFMISC_1:31;
L998: ( inf { C473 } ) in C469 by L997 , L987;
L999:  ex_inf_of { C473 } , C467 by L985 , L997;
L1000: { C473 } is_>=_than ( inf { C473 } ) by L999 , YELLOW_0:def 10;
L1001: ( inf { C473 } ) >= C470 by L995 , L998 , LATTICE3:def 8;
L1002: C473 >= ( inf { C473 } ) by L1000 , YELLOW_0:7;
thus L1003: thesis by L1002 , L1001 , ORDERS_2:3;
end;
theorem
L1004: (for B453 being non  empty  transitive  reflexive RelStr holds (for B454 , B455 being (Subset of B453) holds (((for B456 being  finite (Subset of B454) holds (B456 <> ( {} ) implies  ex_inf_of B456 , B453)) & (for B457 being (Element of B453) holds (B457 in B455 implies (ex B458 being  finite (Subset of B454) st ( ex_inf_of B458 , B453 & B457 = ( "/\" (B458 , B453) ))))) & (for B459 being  finite (Subset of B454) holds (B459 <> ( {} ) implies ( "/\" (B459 , B453) ) in B455))) implies ( ex_inf_of B454 , B453 iff  ex_inf_of B455 , B453))))
proof
let C474 being non  empty  transitive  reflexive RelStr;
let C475 , C476 being (Subset of C474);
assume that
L1005: (for B460 being  finite (Subset of C475) holds (B460 <> ( {} ) implies  ex_inf_of B460 , C474))
and
L1006: (for B461 being (Element of C474) holds (B461 in C476 implies (ex B462 being  finite (Subset of C475) st ( ex_inf_of B462 , C474 & B461 = ( "/\" (B462 , C474) )))))
and
L1007: (for B463 being  finite (Subset of C475) holds (B463 <> ( {} ) implies ( "/\" (B463 , C474) ) in C476));
L1008: (for B464 being (Element of C474) holds (B464 is_<=_than C475 iff B464 is_<=_than C476)) by L1005 , L1006 , L1007 , L984;
thus L1009: thesis by L1008 , YELLOW_0:48;
end;
theorem
L1010: (for B465 being non  empty  transitive  reflexive RelStr holds (for B466 , B467 being (Subset of B465) holds (((for B468 being  finite (Subset of B466) holds (B468 <> ( {} ) implies  ex_inf_of B468 , B465)) & (for B469 being (Element of B465) holds (B469 in B467 implies (ex B470 being  finite (Subset of B466) st ( ex_inf_of B470 , B465 & B469 = ( "/\" (B470 , B465) ))))) & (for B471 being  finite (Subset of B466) holds (B471 <> ( {} ) implies ( "/\" (B471 , B465) ) in B467)) &  ex_inf_of B466 , B465) implies ( inf B467 ) = ( inf B466 ))))
proof
let C477 being non  empty  transitive  reflexive RelStr;
let C478 , C479 being (Subset of C477);
assume that
L1011: (for B472 being  finite (Subset of C478) holds (B472 <> ( {} ) implies  ex_inf_of B472 , C477))
and
L1012: (for B473 being (Element of C477) holds (B473 in C479 implies (ex B474 being  finite (Subset of C478) st ( ex_inf_of B474 , C477 & B473 = ( "/\" (B474 , C477) )))))
and
L1013: (for B475 being  finite (Subset of C478) holds (B475 <> ( {} ) implies ( "/\" (B475 , C477) ) in C479));
L1014: (for B476 being (Element of C477) holds (B476 is_<=_than C478 iff B476 is_<=_than C479)) by L1011 , L1012 , L1013 , L984;
thus L1015: thesis by L1014 , YELLOW_0:49;
end;
theorem
L1016: (for B477 being  with_infima Poset holds (for B478 being (Subset of B477) holds (( ex_inf_of B478 , B477 or B477 is  complete) implies ( inf B478 ) = ( inf ( fininfs B478 ) ))))
proof
let C480 being  with_infima Poset;
let C481 being (Subset of C480);
assume L1017: ( ex_inf_of C481 , C480 or C480 is  complete);
L1018:  ex_inf_of C481 , C480 by L1017 , YELLOW_0:17;
L1019:
now
let C482 being  finite (Subset of C481);
L1020: C482 c= (the carrier of C480) by XBOOLE_1:1;
thus L1021: (C482 <> ( {} ) implies  ex_inf_of C482 , C480) by L1020 , YELLOW_0:55;
end;
L1022:
now
let C483 being (Element of C480);
assume L1023: C483 in ( fininfs C481 );
L1024: (ex B479 being  finite (Subset of C481) st (C483 = ( "/\" (B479 , C480) ) &  ex_inf_of B479 , C480)) by L1023;
thus L1025: (ex B480 being  finite (Subset of C481) st ( ex_inf_of B480 , C480 & C483 = ( "/\" (B480 , C480) ))) by L1024;
end;
L1026:
now
let C484 being  finite (Subset of C481);
reconsider D124 = C484 as (Subset of C480) by XBOOLE_1:1;
assume L1027: C484 <> ( {} );
L1028:  ex_inf_of D124 , C480 by L1027 , YELLOW_0:55;
thus L1029: ( "/\" (C484 , C480) ) in ( fininfs C481 ) by L1028;
end;
thus L1030: thesis by L1026 , L1018 , L1019 , L1022 , L1010;
end;
theorem
L1031: (for B481 being  with_suprema Poset holds (for B482 being (Subset of B481) holds (B482 c= ( downarrow ( finsups B482 ) ) & (for B483 being (Ideal of B481) holds (B482 c= B483 implies ( downarrow ( finsups B482 ) ) c= B483)))))
proof
let C485 being  with_suprema Poset;
let C486 being (Subset of C485);
L1032: C486 c= ( finsups C486 ) by L876;
L1033: ( finsups C486 ) c= ( downarrow ( finsups C486 ) ) by L338;
thus L1034: C486 c= ( downarrow ( finsups C486 ) ) by L1033 , L1032 , XBOOLE_1:1;
let C487 being (Ideal of C485);
assume that
L1035: C486 c= C487;
let C488 being set;
assume L1036: C488 in ( downarrow ( finsups C486 ) );
reconsider D125 = C488 as (Element of C485) by L1036;
consider C489 being (Element of C485) such that L1037: D125 <= C489 and L1038: C489 in ( finsups C486 ) by L1036 , L258;
consider C490 being  finite (Subset of C486) such that L1039: C489 = ( "\/" (C490 , C485) ) and L1040:  ex_sup_of C490 , C485 by L1038;
set D126 = the (Element of C487);
reconsider D127 = D126 as (Element of C485);
L1041:  ex_sup_of { D127 } , C485 by YELLOW_0:38;
L1042: ( sup { D127 } ) = D127 by YELLOW_0:39;
L1043:
now
assume L1044:  ex_sup_of ( {} ) , C485;
L1045: ( "\/" (( {} ) , C485) ) <= ( sup { D127 } ) by L1044 , L1041 , XBOOLE_1:2 , YELLOW_0:34;
thus L1046: ( "\/" (( {} ) , C485) ) in C487 by L1045 , L1042 , L403;
end;
L1047: C490 c= C487 by L1035 , XBOOLE_1:1;
L1048: C489 in C487 by L1047 , L1039 , L1040 , L1043 , L658;
thus L1049: thesis by L1048 , L1037 , L403;
end;
theorem
L1050: (for B484 being  with_infima Poset holds (for B485 being (Subset of B484) holds (B485 c= ( uparrow ( fininfs B485 ) ) & (for B486 being (Filter of B484) holds (B485 c= B486 implies ( uparrow ( fininfs B485 ) ) c= B486)))))
proof
let C491 being  with_infima Poset;
let C492 being (Subset of C491);
L1051: C492 c= ( fininfs C492 ) by L876;
L1052: ( fininfs C492 ) c= ( uparrow ( fininfs C492 ) ) by L338;
thus L1053: C492 c= ( uparrow ( fininfs C492 ) ) by L1052 , L1051 , XBOOLE_1:1;
let C493 being (Filter of C491);
assume that
L1054: C492 c= C493;
let C494 being set;
assume L1055: C494 in ( uparrow ( fininfs C492 ) );
reconsider D128 = C494 as (Element of C491) by L1055;
consider C495 being (Element of C491) such that L1056: D128 >= C495 and L1057: C495 in ( fininfs C492 ) by L1055 , L276;
consider C496 being  finite (Subset of C492) such that L1058: C495 = ( "/\" (C496 , C491) ) and L1059:  ex_inf_of C496 , C491 by L1057;
set D129 = the (Element of C493);
reconsider D130 = D129 as (Element of C491);
L1060:  ex_inf_of { D130 } , C491 by YELLOW_0:38;
L1061: ( inf { D130 } ) = D130 by YELLOW_0:39;
L1062:
now
assume L1063:  ex_inf_of ( {} ) , C491;
L1064: ( "/\" (( {} ) , C491) ) >= ( inf { D130 } ) by L1063 , L1060 , XBOOLE_1:2 , YELLOW_0:35;
thus L1065: ( "/\" (( {} ) , C491) ) in C493 by L1064 , L1061 , L404;
end;
L1066: C496 c= C493 by L1054 , XBOOLE_1:1;
L1067: C495 in C493 by L1066 , L1058 , L1059 , L1062 , L680;
thus L1068: thesis by L1067 , L1056 , L404;
end;
begin
definition
let C497 being non  empty RelStr;
attr C497 is  connected
means
:L1069: (for B487 , B488 being (Element of C497) holds (B487 <= B488 or B488 <= B487));
end;
registration
cluster  trivial ->  connected for non  empty  reflexive non  empty  reflexive non  empty  reflexive non  empty  reflexive RelStr;
coherence
proof
let C498 being non  empty  reflexive RelStr;
assume L1071: (for B489 , B490 being (Element of C498) holds B489 = B490);
let C499 , C500 being (Element of C498);
L1072: C499 = C500 by L1071;
thus L1073: thesis by L1072 , ORDERS_2:1;
end;
end;
registration
cluster  connected for non  empty non  empty non  empty non  empty Poset;
existence
proof
set D131 = the (Order of { ( 0 ) });
take D132 = RelStr (# { ( 0 ) } , D131 #);
let C501 , C502 being (Element of D132);
L1075: C501 = ( 0 ) by TARSKI:def 1;
L1076: C502 = ( 0 ) by TARSKI:def 1;
thus L1077: thesis by L1076 , L1075 , ORDERS_2:1;
end;
end;
definition
mode Chain
 is  connected non  empty Poset;
end;
registration
let C503 being Chain;
cluster ( C503 ~ ) ->  connected;
coherence
proof
let C504 , C505 being (Element of ( C503 ~ ));
L1080: ( ( ~ C504 ) ~ ) = ( ~ C504 );
L1081: ( ( ~ C505 ) ~ ) = ( ~ C505 );
L1082: (( ~ C504 ) <= ( ~ C505 ) or ( ~ C504 ) >= ( ~ C505 )) by L1069;
thus L1083: thesis by L1082 , L1080 , L1081 , LATTICE3:9;
end;
end;
begin
definition
mode Semilattice
 is  with_infima Poset;
mode sup-Semilattice
 is  with_suprema Poset;
mode LATTICE
 is  with_infima  with_suprema Poset;
end;
theorem
L1086: (for B491 being Semilattice holds (for B492 being  upper non  empty (Subset of B491) holds (B492 is (Filter of B491) iff ( subrelstr B492 ) is  meet-inheriting)))
proof
let C506 being Semilattice;
let C507 being  upper non  empty (Subset of C506);
set D133 = ( subrelstr C507 );
L1087: (the carrier of D133) = C507 by YELLOW_0:def 15;
thus L1088:now
assume L1089: C507 is (Filter of C506);
thus L1090: D133 is  meet-inheriting
proof
let C508 , C509 being (Element of C506);
assume that
L1091: C508 in (the carrier of D133)
and
L1092: C509 in (the carrier of D133)
and
L1093:  ex_inf_of { C508 , C509 } , C506;
consider C510 being (Element of C506) such that L1094: C510 in C507 and L1095: C508 >= C510 and L1096: C509 >= C510 by L1087 , L1089 , L1091 , L1092 , L2;
L1097: C510 is_<=_than { C508 , C509 } by L1095 , L1096 , YELLOW_0:8;
L1098: C510 <= ( inf { C508 , C509 } ) by L1097 , L1093 , YELLOW_0:def 10;
thus L1099: thesis by L1098 , L1087 , L1094 , L404;
end;

end;
assume L1091: (for B493 , B494 being (Element of C506) holds ((B493 in (the carrier of D133) & B494 in (the carrier of D133) &  ex_inf_of { B493 , B494 } , C506) implies ( inf { B493 , B494 } ) in (the carrier of D133)));
L1092: C507 is  filtered
proof
let C511 , C512 being (Element of C506);
assume that
L1093: C511 in C507
and
L1094: C512 in C507;
take D134 = ( inf { C511 , C512 } );
L1095: D134 = ( C511 "/\" C512 ) by YELLOW_0:40;
L1096:  ex_inf_of { C511 , C512 } , C506 by YELLOW_0:21;
thus L1097: (D134 in C507 & D134 <= C511 & D134 <= C512) by L1096 , L1087 , L1091 , L1093 , L1094 , L1095 , YELLOW_0:19;
end;
thus L1098: thesis by L1092;
end;
theorem
L1099: (for B495 being sup-Semilattice holds (for B496 being  lower non  empty (Subset of B495) holds (B496 is (Ideal of B495) iff ( subrelstr B496 ) is  join-inheriting)))
proof
let C513 being sup-Semilattice;
let C514 being  lower non  empty (Subset of C513);
set D135 = ( subrelstr C514 );
L1100: (the carrier of D135) = C514 by YELLOW_0:def 15;
thus L1101:now
assume L1102: C514 is (Ideal of C513);
thus L1103: D135 is  join-inheriting
proof
let C515 , C516 being (Element of C513);
assume that
L1104: C515 in (the carrier of D135)
and
L1105: C516 in (the carrier of D135)
and
L1106:  ex_sup_of { C515 , C516 } , C513;
consider C517 being (Element of C513) such that L1107: C517 in C514 and L1108: C515 <= C517 and L1109: C516 <= C517 by L1100 , L1102 , L1104 , L1105 , L1;
L1110: C517 is_>=_than { C515 , C516 } by L1108 , L1109 , YELLOW_0:8;
L1111: C517 >= ( sup { C515 , C516 } ) by L1110 , L1106 , YELLOW_0:def 9;
thus L1112: thesis by L1111 , L1100 , L1107 , L403;
end;

end;
assume L1104: (for B497 , B498 being (Element of C513) holds ((B497 in (the carrier of D135) & B498 in (the carrier of D135) &  ex_sup_of { B497 , B498 } , C513) implies ( sup { B497 , B498 } ) in (the carrier of D135)));
L1105: C514 is  directed
proof
let C518 , C519 being (Element of C513);
assume that
L1106: C518 in C514
and
L1107: C519 in C514;
take D136 = ( sup { C518 , C519 } );
L1108: D136 = ( C518 "\/" C519 ) by YELLOW_0:41;
L1109:  ex_sup_of { C518 , C519 } , C513 by YELLOW_0:20;
thus L1110: (D136 in C514 & C518 <= D136 & C519 <= D136) by L1109 , L1100 , L1104 , L1106 , L1107 , L1108 , YELLOW_0:18;
end;
thus L1111: thesis by L1105;
end;
begin
definition
let C520 , C521 being non  empty RelStr;
let C522 being (Function of C520 , C521);
let C523 being (Subset of C520);
pred C522 preserves_inf_of C523
means
:L1112: ( ex_inf_of C523 , C520 implies ( ex_inf_of ( C522 .: C523 ) , C521 & ( inf ( C522 .: C523 ) ) = ( C522 . ( inf C523 ) )))
;pred C522 preserves_sup_of C523
means
:L1113: ( ex_sup_of C523 , C520 implies ( ex_sup_of ( C522 .: C523 ) , C521 & ( sup ( C522 .: C523 ) ) = ( C522 . ( sup C523 ) )))
;end;
theorem
L1115: (for B499 , B500 , B501 , B502 being non  empty RelStr holds ((( the RelStr of B499 ) = ( the RelStr of B501 ) & ( the RelStr of B500 ) = ( the RelStr of B502 )) implies (for B503 being (Function of B499 , B500) holds (for B504 being (Function of B501 , B502) holds (B503 = B504 implies (for B505 being (Subset of B499) holds (for B506 being (Subset of B501) holds (B505 = B506 implies ((B503 preserves_sup_of B505 implies B504 preserves_sup_of B506) & (B503 preserves_inf_of B505 implies B504 preserves_inf_of B506))))))))))
proof
let C524 , C525 , C526 , C527 being non  empty RelStr;
assume that
L1116: ( the RelStr of C524 ) = ( the RelStr of C526 )
and
L1117: ( the RelStr of C525 ) = ( the RelStr of C527 );
let C528 being (Function of C524 , C525);
let C529 being (Function of C526 , C527);
assume that
L1118: C528 = C529;
let C530 being (Subset of C524);
let C531 being (Subset of C526);
assume that
L1119: C530 = C531;
thus L1120: (C528 preserves_sup_of C530 implies C529 preserves_sup_of C531)
proof
assume L1121: ( ex_sup_of C530 , C524 implies ( ex_sup_of ( C528 .: C530 ) , C525 & ( sup ( C528 .: C530 ) ) = ( C528 . ( sup C530 ) )));
assume L1122:  ex_sup_of C531 , C526;
thus L1123:  ex_sup_of ( C529 .: C531 ) , C527 by L1122 , L1116 , L1117 , L1118 , L1119 , L1121 , YELLOW_0:14;
L1124: ( sup ( C528 .: C530 ) ) = ( sup ( C529 .: C531 ) ) by L1116 , L1117 , L1118 , L1119 , L1121 , L1122 , YELLOW_0:14 , YELLOW_0:26;
thus L1125: thesis by L1124 , L1116 , L1118 , L1119 , L1121 , L1122 , YELLOW_0:14 , YELLOW_0:26;
end;

assume L1126: ( ex_inf_of C530 , C524 implies ( ex_inf_of ( C528 .: C530 ) , C525 & ( inf ( C528 .: C530 ) ) = ( C528 . ( inf C530 ) )));
assume L1127:  ex_inf_of C531 , C526;
thus L1128:  ex_inf_of ( C529 .: C531 ) , C527 by L1127 , L1116 , L1117 , L1118 , L1119 , L1126 , YELLOW_0:14;
L1129: ( inf ( C528 .: C530 ) ) = ( inf ( C529 .: C531 ) ) by L1116 , L1117 , L1118 , L1119 , L1126 , L1127 , YELLOW_0:14 , YELLOW_0:27;
thus L1130: thesis by L1129 , L1116 , L1118 , L1119 , L1126 , L1127 , YELLOW_0:14 , YELLOW_0:27;
end;
definition
let C532 , C533 being non  empty RelStr;
let C534 being (Function of C532 , C533);
attr C534 is  infs-preserving
means
(for B507 being (Subset of C532) holds C534 preserves_inf_of B507);
attr C534 is  sups-preserving
means
(for B508 being (Subset of C532) holds C534 preserves_sup_of B508);
attr C534 is  meet-preserving
means
(for B509 , B510 being (Element of C532) holds C534 preserves_inf_of { B509 , B510 });
attr C534 is  join-preserving
means
(for B511 , B512 being (Element of C532) holds C534 preserves_sup_of { B511 , B512 });
attr C534 is  filtered-infs-preserving
means
(for B513 being (Subset of C532) holds (B513 is non  empty  filtered implies C534 preserves_inf_of B513));
attr C534 is  directed-sups-preserving
means
(for B514 being (Subset of C532) holds (B514 is non  empty  directed implies C534 preserves_sup_of B514));
end;
registration
let C535 , C536 being non  empty RelStr;
cluster  infs-preserving ->  filtered-infs-preserving  meet-preserving for (Function of C535 , C536);
coherence
proof
let C537 being (Function of C535 , C536);
assume L1132: (for B515 being (Subset of C535) holds C537 preserves_inf_of B515);
thus L1133: (for B516 being (Subset of C535) holds (B516 is non  empty  filtered implies C537 preserves_inf_of B516)) by L1132;
thus L1134: (for B517 , B518 being (Element of C535) holds C537 preserves_inf_of { B517 , B518 }) by L1132;
end;
cluster  sups-preserving ->  directed-sups-preserving  join-preserving for (Function of C535 , C536);
coherence
proof
let C538 being (Function of C535 , C536);
assume L1135: (for B519 being (Subset of C535) holds C538 preserves_sup_of B519);
thus L1136: (for B520 being (Subset of C535) holds (B520 is non  empty  directed implies C538 preserves_sup_of B520)) by L1135;
thus L1137: (for B521 , B522 being (Element of C535) holds C538 preserves_sup_of { B521 , B522 }) by L1135;
end;
end;
definition
let C539 , C540 being RelStr;
let C541 being (Function of C539 , C540);
attr C541 is  isomorphic
means
:L1139: (C541 is  one-to-one  monotone & (ex B523 being (Function of C540 , C539) st (B523 = ( C541 " ) & B523 is  monotone))) if (C539 is non  empty & C540 is non  empty) otherwise (C539 is  empty & C540 is  empty);
correctness;
end;
theorem
L1141: (for B524 , B525 being non  empty RelStr holds (for B526 being (Function of B524 , B525) holds (B526 is  isomorphic iff (B526 is  one-to-one & ( rng B526 ) = (the carrier of B525) & (for B527 , B528 being (Element of B524) holds (B527 <= B528 iff ( B526 . B527 ) <= ( B526 . B528 )))))))
proof
let C542 , C543 being non  empty RelStr;
let C544 being (Function of C542 , C543);
thus L1142:now
assume L1143: C544 is  isomorphic;
thus L1144: C544 is  one-to-one by L1143 , L1139;
consider C545 being (Function of C543 , C542) such that L1145: C545 = ( C544 " ) and L1146: C545 is  monotone by L1143 , L1139;
L1147: C544 is  one-to-one  monotone by L1143 , L1139;
L1148: ( rng C544 ) = ( dom C545 ) by L1147 , L1145 , FUNCT_1:33;
thus L1149: ( rng C544 ) = (the carrier of C543) by L1148 , FUNCT_2:def 1;
let C546 , C547 being (Element of C542);
thus L1150: (C546 <= C547 implies ( C544 . C546 ) <= ( C544 . C547 )) by L1147 , ORDERS_3:def 5;
assume L1151: ( C544 . C546 ) <= ( C544 . C547 );
L1152: ( C545 . ( C544 . C546 ) ) = C546 by L1145 , L1147 , FUNCT_2:26;
L1153: ( C545 . ( C544 . C547 ) ) = C547 by L1145 , L1147 , FUNCT_2:26;
thus L1154: C546 <= C547 by L1153 , L1146 , L1151 , L1152 , ORDERS_3:def 5;
end;
assume that
L1155: C544 is  one-to-one
and
L1156: ( rng C544 ) = (the carrier of C543)
and
L1157: (for B529 , B530 being (Element of C542) holds (B529 <= B530 iff ( C544 . B529 ) <= ( C544 . B530 )));
per cases ;
case L1158: (C542 is non  empty & C543 is non  empty);
thus L1159: C544 is  one-to-one by L1155;
thus L1160: (for B531 , B532 being (Element of C542) holds (B531 <= B532 implies (for B533 , B534 being (Element of C543) holds ((B533 = ( C544 . B531 ) & B534 = ( C544 . B532 )) implies B533 <= B534)))) by L1157;
reconsider D137 = ( C544 " ) as (Function of C543 , C542) by L1155 , L1156 , FUNCT_2:25;
take D137;
thus L1161: D137 = ( C544 " );
let C548 , C549 being (Element of C543);
consider C550 being set such that L1162: C550 in ( dom C544 ) and L1163: C548 = ( C544 . C550 ) by L1156 , FUNCT_1:def 3;
consider C551 being set such that L1164: C551 in ( dom C544 ) and L1165: C549 = ( C544 . C551 ) by L1156 , FUNCT_1:def 3;
reconsider D138 = C550 , D139 = C551 as (Element of C542) by L1162 , L1164;
L1166: ( D137 . C548 ) = D138 by L1155 , L1163 , FUNCT_2:26;
L1167: ( D137 . C549 ) = D139 by L1155 , L1165 , FUNCT_2:26;
thus L1168: thesis by L1167 , L1157 , L1163 , L1165 , L1166;
end;
case L1169: (C542 is  empty or C543 is  empty);
thus L1170: thesis by L1169;
end;
end;
registration
let C552 , C553 being non  empty RelStr;
cluster  isomorphic ->  one-to-one  monotone for (Function of C552 , C553);
coherence by L1139;
end;
theorem
L1173: (for B535 , B536 being non  empty RelStr holds (for B537 being (Function of B535 , B536) holds (B537 is  isomorphic implies (( B537 " ) is (Function of B536 , B535) & ( rng ( B537 " ) ) = (the carrier of B535)))))
proof
let C554 , C555 being non  empty RelStr;
let C556 being (Function of C554 , C555);
assume L1174: C556 is  isomorphic;
L1175: ( rng C556 ) = (the carrier of C555) by L1174 , L1141;
L1176: ( dom C556 ) = (the carrier of C554) by FUNCT_2:def 1;
L1177: ( dom ( C556 " ) ) = (the carrier of C555) by L1174 , L1175 , FUNCT_1:33;
L1178: ( rng ( C556 " ) ) = (the carrier of C554) by L1174 , L1176 , FUNCT_1:33;
thus L1179: thesis by L1178 , L1177 , FUNCT_2:1;
end;
theorem
L1180: (for B538 , B539 being non  empty RelStr holds (for B540 being (Function of B538 , B539) holds (B540 is  isomorphic implies (for B541 being (Function of B539 , B538) holds (B541 = ( B540 " ) implies B541 is  isomorphic)))))
proof
let C557 , C558 being non  empty RelStr;
let C559 being (Function of C557 , C558);
assume L1181: C559 is  isomorphic;
L1182: (ex B542 being (Function of C558 , C557) st (B542 = ( C559 " ) & B542 is  monotone)) by L1181 , L1139;
let C560 being (Function of C558 , C557);
assume L1183: C560 = ( C559 " );
per cases ;
case L1184: (C558 is non  empty & C557 is non  empty);
thus L1185: C560 is  one-to-one  monotone by L1181 , L1182 , L1183 , FUNCT_1:40;
L1186: ( ( C559 " ) " ) = C559 by L1181 , FUNCT_1:43;
thus L1187: thesis by L1186 , L1181 , L1183;
end;
case L1188: (C558 is  empty or C557 is  empty);
thus L1189: thesis by L1188;
end;
end;
theorem
L1191: (for B543 , B544 being non  empty Poset holds (for B545 being (Function of B543 , B544) holds ((for B546 being (Filter of B543) holds B545 preserves_inf_of B546) implies B545 is  monotone)))
proof
let C561 , C562 being non  empty Poset;
let C563 being (Function of C561 , C562);
assume L1192: (for B547 being (Filter of C561) holds C563 preserves_inf_of B547);
let C564 , C565 being (Element of C561);
L1193:  ex_inf_of { C564 } , C561 by YELLOW_0:38;
L1194:  ex_inf_of { C565 } , C561 by YELLOW_0:38;
L1195: C563 preserves_inf_of ( uparrow C564 ) by L1192;
L1196: C563 preserves_inf_of ( uparrow C565 ) by L1192;
L1197:  ex_inf_of ( uparrow C564 ) , C561 by L1193 , L615;
L1198:  ex_inf_of ( uparrow C565 ) , C561 by L1194 , L615;
L1199:  ex_inf_of ( C563 .: ( uparrow C564 ) ) , C562 by L1195 , L1197 , L1112;
L1200:  ex_inf_of ( C563 .: ( uparrow C565 ) ) , C562 by L1196 , L1198 , L1112;
L1201: ( inf ( C563 .: ( uparrow C564 ) ) ) = ( C563 . ( inf ( uparrow C564 ) ) ) by L1195 , L1197 , L1112;
L1202: ( inf ( C563 .: ( uparrow C565 ) ) ) = ( C563 . ( inf ( uparrow C565 ) ) ) by L1196 , L1198 , L1112;
assume L1203: C564 <= C565;
L1204: ( uparrow C565 ) c= ( uparrow C564 ) by L1203 , L386;
L1205: ( inf ( C563 .: ( uparrow C564 ) ) ) = ( C563 . ( inf { C564 } ) ) by L1201 , L618 , YELLOW_0:38;
L1206: ( inf ( C563 .: ( uparrow C565 ) ) ) = ( C563 . ( inf { C565 } ) ) by L1202 , L618 , YELLOW_0:38;
L1207: ( inf ( C563 .: ( uparrow C564 ) ) ) = ( C563 . C564 ) by L1205 , YELLOW_0:39;
L1208: ( inf ( C563 .: ( uparrow C565 ) ) ) = ( C563 . C565 ) by L1206 , YELLOW_0:39;
thus L1209: thesis by L1208 , L1199 , L1200 , L1204 , L1207 , RELAT_1:123 , YELLOW_0:35;
end;
theorem
L1210: (for B548 , B549 being non  empty Poset holds (for B550 being (Function of B548 , B549) holds ((for B551 being (Filter of B548) holds B550 preserves_inf_of B551) implies B550 is  filtered-infs-preserving)))
proof
let C566 , C567 being non  empty Poset;
let C568 being (Function of C566 , C567);
assume that
L1211: (for B552 being (Filter of C566) holds C568 preserves_inf_of B552);
let C569 being (Subset of C566);
assume that
L1212: C569 is non  empty  filtered
and
L1213:  ex_inf_of C569 , C566;
reconsider D140 = C569 as non  empty  filtered (Subset of C566) by L1212;
L1214: ( uparrow D140 ) is (Filter of C566);
L1215: C568 preserves_inf_of ( uparrow C569 ) by L1214 , L1211;
L1216:  ex_inf_of ( uparrow C569 ) , C566 by L1213 , L615;
L1217:  ex_inf_of ( C568 .: ( uparrow C569 ) ) , C567 by L1216 , L1215 , L1112;
L1218: ( inf ( C568 .: ( uparrow C569 ) ) ) = ( C568 . ( inf ( uparrow C569 ) ) ) by L1215 , L1216 , L1112;
L1219: ( inf ( uparrow C569 ) ) = ( inf C569 ) by L1213 , L618;
L1220: ( C568 .: C569 ) c= ( C568 .: ( uparrow C569 ) ) by L338 , RELAT_1:123;
L1221: ( C568 .: ( uparrow C569 ) ) is_>=_than ( C568 . ( inf C569 ) ) by L1217 , L1218 , L1219 , YELLOW_0:31;
L1222: ( C568 .: C569 ) is_>=_than ( C568 . ( inf C569 ) )
proof
let C570 being (Element of C567);
assume L1223: C570 in ( C568 .: C569 );
thus L1224: thesis by L1223 , L1220 , L1221 , LATTICE3:def 8;
end;
L1225:
now
let C571 being (Element of C567);
assume L1226: ( C568 .: C569 ) is_>=_than C571;
L1227: ( C568 .: ( uparrow C569 ) ) is_>=_than C571
proof
let C572 being (Element of C567);
assume L1228: C572 in ( C568 .: ( uparrow C569 ) );
consider C573 being set such that L1229: C573 in ( dom C568 ) and L1230: C573 in ( uparrow C569 ) and L1231: C572 = ( C568 . C573 ) by L1228 , FUNCT_1:def 6;
L1232: ( uparrow C569 ) = { B553 where B553 is (Element of C566) : (ex B554 being (Element of C566) st (B553 >= B554 & B554 in C569)) } by L325;
consider C574 being (Element of C566) such that L1233: C573 = C574 and L1234: (ex B555 being (Element of C566) st (C574 >= B555 & B555 in C569)) by L1232 , L1230;
consider C575 being (Element of C566) such that L1235: C574 >= C575 and L1236: C575 in C569 by L1234;
L1237: C568 is  monotone by L1211 , L1191;
L1238: ( C568 . C575 ) in ( C568 .: C569 ) by L1236 , FUNCT_2:35;
L1239: ( C568 . C574 ) >= ( C568 . C575 ) by L1235 , L1237 , ORDERS_3:def 5;
L1240: ( C568 . C575 ) >= C571 by L1226 , L1238 , LATTICE3:def 8;
thus L1241: thesis by L1240 , L1231 , L1233 , L1239 , ORDERS_2:3;
end;
thus L1242: ( C568 . ( inf C569 ) ) >= C571 by L1227 , L1217 , L1218 , L1219 , YELLOW_0:31;
end;
thus L1243:  ex_inf_of ( C568 .: C569 ) , C567 by L1225 , L1222 , YELLOW_0:16;
thus L1244: thesis by L1243 , L1222 , L1225 , YELLOW_0:def 10;
end;
theorem
L1245: (for B556 being Semilattice holds (for B557 being non  empty Poset holds (for B558 being (Function of B556 , B557) holds (((for B559 being  finite (Subset of B556) holds B558 preserves_inf_of B559) & (for B560 being non  empty  filtered (Subset of B556) holds B558 preserves_inf_of B560)) implies B558 is  infs-preserving))))
proof
let C576 being Semilattice;
let C577 being non  empty Poset;
let C578 being (Function of C576 , C577);
assume that
L1246: (for B561 being  finite (Subset of C576) holds C578 preserves_inf_of B561)
and
L1247: (for B562 being non  empty  filtered (Subset of C576) holds C578 preserves_inf_of B562);
let C579 being (Subset of C576);
assume that
L1248:  ex_inf_of C579 , C576;
defpred S7[ set ] means (ex B563 being  finite (Subset of C579) st ( ex_inf_of B563 , C576 & $1 = ( "/\" (B563 , C576) )));
consider C580 being set such that L1249: (for B564 being set holds (B564 in C580 iff (B564 in (the carrier of C576) & S7[ B564 ]))) from XBOOLE_0:sch 1;
L1250: C580 c= (the carrier of C576)
proof
let C581 being set;
thus L1251: thesis by L1249;
end;
reconsider D141 = C580 as (Subset of C576) by L1250;
L1252:
now
let C582 being  finite (Subset of C579);
L1253: C582 is (Subset of C576) by XBOOLE_1:1;
thus L1254: (C582 <> ( {} ) implies  ex_inf_of C582 , C576) by L1253 , YELLOW_0:55;
end;
L1255:
now
let C583 being  finite (Subset of C579);
reconsider D142 = C583 as (Subset of C576) by XBOOLE_1:1;
assume L1256: C583 <> ( {} );
L1257:  ex_inf_of D142 , C576 by L1256 , YELLOW_0:55;
thus L1258: ( "/\" (C583 , C576) ) in D141 by L1257 , L1249;
end;
L1259: (for B565 being (Element of C576) holds (B565 in D141 implies (ex B566 being  finite (Subset of C579) st ( ex_inf_of B566 , C576 & B565 = ( "/\" (B566 , C576) ))))) by L1249;
L1260: D141 is  filtered by L1259 , L1252 , L1255 , L957;
L1261:  ex_inf_of D141 , C576 by L1248 , L1252 , L1255 , L1259 , L1004;
L1262: (D141 = ( {} ) or D141 <> ( {} ));
L1263: C578 preserves_inf_of D141 by L1262 , L1246 , L1247 , L1260;
L1264:  ex_inf_of ( C578 .: D141 ) , C577 by L1263 , L1261 , L1112;
L1265: ( inf ( C578 .: D141 ) ) = ( C578 . ( inf D141 ) ) by L1261 , L1263 , L1112;
L1266: ( inf D141 ) = ( inf C579 ) by L1248 , L1252 , L1255 , L1259 , L1010;
L1267: C579 c= D141
proof
let C584 being set;
assume L1268: C584 in C579;
reconsider D143 = { C584 } as  finite (Subset of C579) by L1268 , ZFMISC_1:31;
reconsider D144 = C584 as (Element of C576) by L1268;
L1269: D143 is (Subset of C576) by XBOOLE_1:1;
L1270:  ex_inf_of D143 , C576 by L1269 , YELLOW_0:55;
L1271: D144 = ( "/\" (D143 , C576) ) by YELLOW_0:39;
thus L1272: thesis by L1271 , L1249 , L1270;
end;
L1273: ( C578 .: C579 ) c= ( C578 .: D141 ) by L1267 , RELAT_1:123;
L1274: ( C578 .: D141 ) is_>=_than ( C578 . ( inf C579 ) ) by L1264 , L1265 , L1266 , YELLOW_0:31;
L1275: ( C578 .: C579 ) is_>=_than ( C578 . ( inf C579 ) )
proof
let C585 being (Element of C577);
assume L1276: C585 in ( C578 .: C579 );
thus L1277: thesis by L1276 , L1273 , L1274 , LATTICE3:def 8;
end;
L1278:
now
let C586 being (Element of C577);
assume L1279: ( C578 .: C579 ) is_>=_than C586;
L1280: ( C578 .: D141 ) is_>=_than C586
proof
let C587 being (Element of C577);
assume L1281: C587 in ( C578 .: D141 );
consider C588 being set such that L1282: C588 in ( dom C578 ) and L1283: C588 in D141 and L1284: C587 = ( C578 . C588 ) by L1281 , FUNCT_1:def 6;
consider C589 being  finite (Subset of C579) such that L1285:  ex_inf_of C589 , C576 and L1286: C588 = ( "/\" (C589 , C576) ) by L1249 , L1283;
reconsider D145 = C589 as (Subset of C576) by XBOOLE_1:1;
L1287: ( C578 .: D145 ) c= ( C578 .: C579 ) by RELAT_1:123;
L1288: C578 preserves_inf_of D145 by L1246;
L1289: C586 is_<=_than ( C578 .: D145 ) by L1279 , L1287 , YELLOW_0:9;
L1290: C587 = ( "/\" (( C578 .: D145 ) , C577) ) by L1284 , L1285 , L1286 , L1288 , L1112;
L1291:  ex_inf_of ( C578 .: D145 ) , C577 by L1285 , L1288 , L1112;
thus L1292: thesis by L1291 , L1289 , L1290 , YELLOW_0:def 10;
end;
thus L1293: ( C578 . ( inf C579 ) ) >= C586 by L1280 , L1264 , L1265 , L1266 , YELLOW_0:31;
end;
thus L1294:  ex_inf_of ( C578 .: C579 ) , C577 by L1278 , L1275 , YELLOW_0:16;
thus L1295: thesis by L1294 , L1275 , L1278 , YELLOW_0:def 10;
end;
theorem
L1296: (for B567 , B568 being non  empty Poset holds (for B569 being (Function of B567 , B568) holds ((for B570 being (Ideal of B567) holds B569 preserves_sup_of B570) implies B569 is  monotone)))
proof
let C590 , C591 being non  empty Poset;
let C592 being (Function of C590 , C591);
assume L1297: (for B571 being (Ideal of C590) holds C592 preserves_sup_of B571);
let C593 , C594 being (Element of C590);
L1298:  ex_sup_of { C593 } , C590 by YELLOW_0:38;
L1299:  ex_sup_of { C594 } , C590 by YELLOW_0:38;
L1300: C592 preserves_sup_of ( downarrow C593 ) by L1297;
L1301: C592 preserves_sup_of ( downarrow C594 ) by L1297;
L1302:  ex_sup_of ( downarrow C593 ) , C590 by L1298 , L562;
L1303:  ex_sup_of ( downarrow C594 ) , C590 by L1299 , L562;
L1304:  ex_sup_of ( C592 .: ( downarrow C593 ) ) , C591 by L1300 , L1302 , L1113;
L1305:  ex_sup_of ( C592 .: ( downarrow C594 ) ) , C591 by L1301 , L1303 , L1113;
L1306: ( sup ( C592 .: ( downarrow C593 ) ) ) = ( C592 . ( sup ( downarrow C593 ) ) ) by L1300 , L1302 , L1113;
L1307: ( sup ( C592 .: ( downarrow C594 ) ) ) = ( C592 . ( sup ( downarrow C594 ) ) ) by L1301 , L1303 , L1113;
assume L1308: C593 <= C594;
L1309: ( downarrow C593 ) c= ( downarrow C594 ) by L1308 , L380;
L1310: ( sup ( C592 .: ( downarrow C593 ) ) ) = ( C592 . ( sup { C593 } ) ) by L1306 , L565 , YELLOW_0:38;
L1311: ( sup ( C592 .: ( downarrow C594 ) ) ) = ( C592 . ( sup { C594 } ) ) by L1307 , L565 , YELLOW_0:38;
L1312: ( sup ( C592 .: ( downarrow C593 ) ) ) = ( C592 . C593 ) by L1310 , YELLOW_0:39;
L1313: ( sup ( C592 .: ( downarrow C594 ) ) ) = ( C592 . C594 ) by L1311 , YELLOW_0:39;
thus L1314: thesis by L1313 , L1304 , L1305 , L1309 , L1312 , RELAT_1:123 , YELLOW_0:34;
end;
theorem
L1315: (for B572 , B573 being non  empty Poset holds (for B574 being (Function of B572 , B573) holds ((for B575 being (Ideal of B572) holds B574 preserves_sup_of B575) implies B574 is  directed-sups-preserving)))
proof
let C595 , C596 being non  empty Poset;
let C597 being (Function of C595 , C596);
assume that
L1316: (for B576 being (Ideal of C595) holds C597 preserves_sup_of B576);
let C598 being (Subset of C595);
assume that
L1317: C598 is non  empty  directed
and
L1318:  ex_sup_of C598 , C595;
reconsider D146 = C598 as non  empty  directed (Subset of C595) by L1317;
L1319: ( downarrow D146 ) is (Ideal of C595);
L1320: C597 preserves_sup_of ( downarrow C598 ) by L1319 , L1316;
L1321:  ex_sup_of ( downarrow C598 ) , C595 by L1318 , L562;
L1322:  ex_sup_of ( C597 .: ( downarrow C598 ) ) , C596 by L1321 , L1320 , L1113;
L1323: ( sup ( C597 .: ( downarrow C598 ) ) ) = ( C597 . ( sup ( downarrow C598 ) ) ) by L1320 , L1321 , L1113;
L1324: ( sup ( downarrow C598 ) ) = ( sup C598 ) by L1318 , L565;
L1325: ( C597 .: C598 ) c= ( C597 .: ( downarrow C598 ) ) by L338 , RELAT_1:123;
L1326: ( C597 .: ( downarrow C598 ) ) is_<=_than ( C597 . ( sup C598 ) ) by L1322 , L1323 , L1324 , YELLOW_0:30;
L1327: ( C597 .: C598 ) is_<=_than ( C597 . ( sup C598 ) )
proof
let C599 being (Element of C596);
assume L1328: C599 in ( C597 .: C598 );
thus L1329: thesis by L1328 , L1325 , L1326 , LATTICE3:def 9;
end;
L1330:
now
let C600 being (Element of C596);
assume L1331: ( C597 .: C598 ) is_<=_than C600;
L1332: ( C597 .: ( downarrow C598 ) ) is_<=_than C600
proof
let C601 being (Element of C596);
assume L1333: C601 in ( C597 .: ( downarrow C598 ) );
consider C602 being set such that L1334: C602 in ( dom C597 ) and L1335: C602 in ( downarrow C598 ) and L1336: C601 = ( C597 . C602 ) by L1333 , FUNCT_1:def 6;
L1337: ( downarrow C598 ) = { B577 where B577 is (Element of C595) : (ex B578 being (Element of C595) st (B577 <= B578 & B578 in C598)) } by L317;
consider C603 being (Element of C595) such that L1338: C602 = C603 and L1339: (ex B579 being (Element of C595) st (C603 <= B579 & B579 in C598)) by L1337 , L1335;
consider C604 being (Element of C595) such that L1340: C603 <= C604 and L1341: C604 in C598 by L1339;
L1342: C597 is  monotone by L1316 , L1296;
L1343: ( C597 . C604 ) in ( C597 .: C598 ) by L1341 , FUNCT_2:35;
L1344: ( C597 . C603 ) <= ( C597 . C604 ) by L1340 , L1342 , ORDERS_3:def 5;
L1345: ( C597 . C604 ) <= C600 by L1331 , L1343 , LATTICE3:def 9;
thus L1346: thesis by L1345 , L1336 , L1338 , L1344 , ORDERS_2:3;
end;
thus L1347: ( C597 . ( sup C598 ) ) <= C600 by L1332 , L1322 , L1323 , L1324 , YELLOW_0:30;
end;
thus L1348:  ex_sup_of ( C597 .: C598 ) , C596 by L1330 , L1327 , YELLOW_0:15;
thus L1349: thesis by L1348 , L1327 , L1330 , YELLOW_0:def 9;
end;
theorem
L1350: (for B580 being sup-Semilattice holds (for B581 being non  empty Poset holds (for B582 being (Function of B580 , B581) holds (((for B583 being  finite (Subset of B580) holds B582 preserves_sup_of B583) & (for B584 being non  empty  directed (Subset of B580) holds B582 preserves_sup_of B584)) implies B582 is  sups-preserving))))
proof
let C605 being sup-Semilattice;
let C606 being non  empty Poset;
let C607 being (Function of C605 , C606);
assume that
L1351: (for B585 being  finite (Subset of C605) holds C607 preserves_sup_of B585)
and
L1352: (for B586 being non  empty  directed (Subset of C605) holds C607 preserves_sup_of B586);
let C608 being (Subset of C605);
assume that
L1353:  ex_sup_of C608 , C605;
defpred S8[ set ] means (ex B587 being  finite (Subset of C608) st ( ex_sup_of B587 , C605 & $1 = ( "\/" (B587 , C605) )));
consider C609 being set such that L1354: (for B588 being set holds (B588 in C609 iff (B588 in (the carrier of C605) & S8[ B588 ]))) from XBOOLE_0:sch 1;
L1355: C609 c= (the carrier of C605)
proof
let C610 being set;
thus L1356: thesis by L1354;
end;
reconsider D147 = C609 as (Subset of C605) by L1355;
L1357:
now
let C611 being  finite (Subset of C608);
L1358: C611 is (Subset of C605) by XBOOLE_1:1;
thus L1359: (C611 <> ( {} ) implies  ex_sup_of C611 , C605) by L1358 , YELLOW_0:54;
end;
L1360:
now
let C612 being  finite (Subset of C608);
reconsider D148 = C612 as (Subset of C605) by XBOOLE_1:1;
assume L1361: C612 <> ( {} );
L1362:  ex_sup_of D148 , C605 by L1361 , YELLOW_0:54;
thus L1363: ( "\/" (C612 , C605) ) in D147 by L1362 , L1354;
end;
L1364: (for B589 being (Element of C605) holds (B589 in D147 implies (ex B590 being  finite (Subset of C608) st ( ex_sup_of B590 , C605 & B589 = ( "\/" (B590 , C605) ))))) by L1354;
L1365: D147 is  directed by L1364 , L1357 , L1360 , L883;
L1366:  ex_sup_of D147 , C605 by L1353 , L1357 , L1360 , L1364 , L930;
L1367: (D147 = ( {} ) or D147 <> ( {} ));
L1368: C607 preserves_sup_of D147 by L1367 , L1351 , L1352 , L1365;
L1369:  ex_sup_of ( C607 .: D147 ) , C606 by L1368 , L1366 , L1113;
L1370: ( sup ( C607 .: D147 ) ) = ( C607 . ( sup D147 ) ) by L1366 , L1368 , L1113;
L1371: ( sup D147 ) = ( sup C608 ) by L1353 , L1357 , L1360 , L1364 , L936;
L1372: C608 c= D147
proof
let C613 being set;
assume L1373: C613 in C608;
reconsider D149 = { C613 } as  finite (Subset of C608) by L1373 , ZFMISC_1:31;
reconsider D150 = C613 as (Element of C605) by L1373;
L1374: D149 is (Subset of C605) by XBOOLE_1:1;
L1375:  ex_sup_of D149 , C605 by L1374 , YELLOW_0:54;
L1376: D150 = ( "\/" (D149 , C605) ) by YELLOW_0:39;
thus L1377: thesis by L1376 , L1354 , L1375;
end;
L1378: ( C607 .: C608 ) c= ( C607 .: D147 ) by L1372 , RELAT_1:123;
L1379: ( C607 .: D147 ) is_<=_than ( C607 . ( sup C608 ) ) by L1369 , L1370 , L1371 , YELLOW_0:30;
L1380: ( C607 .: C608 ) is_<=_than ( C607 . ( sup C608 ) )
proof
let C614 being (Element of C606);
assume L1381: C614 in ( C607 .: C608 );
thus L1382: thesis by L1381 , L1378 , L1379 , LATTICE3:def 9;
end;
L1383:
now
let C615 being (Element of C606);
assume L1384: ( C607 .: C608 ) is_<=_than C615;
L1385: ( C607 .: D147 ) is_<=_than C615
proof
let C616 being (Element of C606);
assume L1386: C616 in ( C607 .: D147 );
consider C617 being set such that L1387: C617 in ( dom C607 ) and L1388: C617 in D147 and L1389: C616 = ( C607 . C617 ) by L1386 , FUNCT_1:def 6;
consider C618 being  finite (Subset of C608) such that L1390:  ex_sup_of C618 , C605 and L1391: C617 = ( "\/" (C618 , C605) ) by L1354 , L1388;
reconsider D151 = C618 as (Subset of C605) by XBOOLE_1:1;
L1392: ( C607 .: D151 ) c= ( C607 .: C608 ) by RELAT_1:123;
L1393: C607 preserves_sup_of D151 by L1351;
L1394: C615 is_>=_than ( C607 .: D151 ) by L1384 , L1392 , YELLOW_0:9;
L1395: C616 = ( "\/" (( C607 .: D151 ) , C606) ) by L1389 , L1390 , L1391 , L1393 , L1113;
L1396:  ex_sup_of ( C607 .: D151 ) , C606 by L1390 , L1393 , L1113;
thus L1397: thesis by L1396 , L1394 , L1395 , YELLOW_0:def 9;
end;
thus L1398: ( C607 . ( sup C608 ) ) <= C615 by L1385 , L1369 , L1370 , L1371 , YELLOW_0:30;
end;
thus L1399:  ex_sup_of ( C607 .: C608 ) , C606 by L1383 , L1380 , YELLOW_0:15;
thus L1400: thesis by L1399 , L1380 , L1383 , YELLOW_0:def 9;
end;
begin
definition
let C619 being non  empty  reflexive RelStr;
attr C619 is  up-complete
means
:L1401: (for B591 being non  empty  directed (Subset of C619) holds (ex B592 being (Element of C619) st (B592 is_>=_than B591 & (for B593 being (Element of C619) holds (B593 is_>=_than B591 implies B592 <= B593)))));
end;
registration
cluster  up-complete ->  upper-bounded for  with_suprema  reflexive  with_suprema  reflexive  with_suprema  reflexive  with_suprema  reflexive RelStr;
coherence
proof
let C620 being  with_suprema  reflexive RelStr;
assume that
L1403: C620 is  up-complete;
L1404: ( [#] C620 ) = (the carrier of C620);
L1405: (ex B594 being (Element of C620) st (B594 is_>=_than (the carrier of C620) & (for B595 being (Element of C620) holds (B595 is_>=_than (the carrier of C620) implies B594 <= B595)))) by L1404 , L1403 , L1401;
thus L1406: (ex B596 being (Element of C620) st B596 is_>=_than (the carrier of C620)) by L1405;
end;
end;
theorem
L1408: (for B597 being non  empty  reflexive  antisymmetric RelStr holds (B597 is  up-complete iff (for B598 being non  empty  directed (Subset of B597) holds  ex_sup_of B598 , B597)))
proof
let C621 being non  empty  reflexive  antisymmetric RelStr;
thus L1409:now
assume L1410: C621 is  up-complete;
let C622 being non  empty  directed (Subset of C621);
consider C623 being (Element of C621) such that L1411: C623 is_>=_than C622 and L1412: (for B599 being (Element of C621) holds (B599 is_>=_than C622 implies C623 <= B599)) by L1410 , L1401;
thus L1413:  ex_sup_of C622 , C621
proof
take C623;
thus L1414: (C622 is_<=_than C623 & (for B600 being (Element of C621) holds (C622 is_<=_than B600 implies B600 >= C623))) by L1411 , L1412;
let C624 being (Element of C621);
assume that
L1415: C622 is_<=_than C624
and
L1416: (for B601 being (Element of C621) holds (C622 is_<=_than B601 implies B601 >= C624));
L1417: C624 <= C623 by L1411 , L1416;
L1418: C624 >= C623 by L1412 , L1415;
thus L1419: thesis by L1418 , L1417 , ORDERS_2:2;
end;

end;
assume L1414: (for B602 being non  empty  directed (Subset of C621) holds  ex_sup_of B602 , C621);
let C625 being non  empty  directed (Subset of C621);
L1415:  ex_sup_of C625 , C621 by L1414;
L1416: (ex B603 being (Element of C621) st (C625 is_<=_than B603 & (for B604 being (Element of C621) holds (C625 is_<=_than B604 implies B604 >= B603)) & (for B605 being (Element of C621) holds ((C625 is_<=_than B605 & (for B606 being (Element of C621) holds (C625 is_<=_than B606 implies B606 >= B605))) implies B605 = B603)))) by L1415 , YELLOW_0:def 7;
thus L1417: thesis by L1416;
end;
definition
let C626 being non  empty  reflexive RelStr;
attr C626 is  /\-complete
means
:L1418: (for B607 being non  empty (Subset of C626) holds (ex B608 being (Element of C626) st (B608 is_<=_than B607 & (for B609 being (Element of C626) holds (B609 is_<=_than B607 implies B608 >= B609)))));
end;
theorem
L1420: (for B610 being non  empty  reflexive  antisymmetric RelStr holds (B610 is  /\-complete iff (for B611 being non  empty (Subset of B610) holds  ex_inf_of B611 , B610)))
proof
let C627 being non  empty  reflexive  antisymmetric RelStr;
thus L1421:now
assume L1422: C627 is  /\-complete;
let C628 being non  empty (Subset of C627);
consider C629 being (Element of C627) such that L1423: C629 is_<=_than C628 and L1424: (for B612 being (Element of C627) holds (B612 is_<=_than C628 implies C629 >= B612)) by L1422 , L1418;
thus L1425:  ex_inf_of C628 , C627
proof
take C629;
thus L1426: (C628 is_>=_than C629 & (for B613 being (Element of C627) holds (C628 is_>=_than B613 implies B613 <= C629))) by L1423 , L1424;
let C630 being (Element of C627);
assume that
L1427: C628 is_>=_than C630
and
L1428: (for B614 being (Element of C627) holds (C628 is_>=_than B614 implies B614 <= C630));
L1429: C630 <= C629 by L1424 , L1427;
L1430: C630 >= C629 by L1423 , L1428;
thus L1431: thesis by L1430 , L1429 , ORDERS_2:2;
end;

end;
assume L1426: (for B615 being non  empty (Subset of C627) holds  ex_inf_of B615 , C627);
let C631 being non  empty (Subset of C627);
L1427:  ex_inf_of C631 , C627 by L1426;
L1428: (ex B616 being (Element of C627) st (C631 is_>=_than B616 & (for B617 being (Element of C627) holds (C631 is_>=_than B617 implies B617 <= B616)) & (for B618 being (Element of C627) holds ((C631 is_>=_than B618 & (for B619 being (Element of C627) holds (C631 is_>=_than B619 implies B619 <= B618))) implies B618 = B616)))) by L1427 , YELLOW_0:def 8;
thus L1429: thesis by L1428;
end;
registration
cluster  complete ->  up-complete  /\-complete for non  empty  reflexive non  empty  reflexive non  empty  reflexive non  empty  reflexive RelStr;
coherence
proof
let C632 being non  empty  reflexive RelStr;
assume that
L1430: C632 is  complete;
thus L1431: C632 is  up-complete
proof
let C633 being non  empty  directed (Subset of C632);
thus L1432: thesis by L1430 , LATTICE3:def 12;
end;

let C634 being non  empty (Subset of C632);
set D152 = { B620 where B620 is (Element of C632) : B620 is_<=_than C634 };
consider C635 being (Element of C632) such that L1433: D152 is_<=_than C635 and L1434: (for B621 being (Element of C632) holds (D152 is_<=_than B621 implies C635 <= B621)) by L1430 , LATTICE3:def 12;
take C635;
thus L1435: C635 is_<=_than C634
proof
let C636 being (Element of C632);
assume that
L1436: C636 in C634;
L1437: C636 is_>=_than D152
proof
let C637 being (Element of C632);
assume L1438: C637 in D152;
L1439: (ex B622 being (Element of C632) st (C637 = B622 & B622 is_<=_than C634)) by L1438;
thus L1440: thesis by L1439 , L1436 , LATTICE3:def 8;
end;
thus L1441: C635 <= C636 by L1437 , L1434;
end;

let C638 being (Element of C632);
assume L1442: C638 is_<=_than C634;
L1443: C638 in D152 by L1442;
thus L1444: thesis by L1443 , L1433 , LATTICE3:def 9;
end;
cluster  /\-complete ->  lower-bounded for non  empty  reflexive non  empty  reflexive non  empty  reflexive non  empty  reflexive RelStr;
coherence
proof
let C639 being non  empty  reflexive RelStr;
assume L1445: C639 is  /\-complete;
L1446: (ex B623 being (Element of C639) st (B623 is_<=_than ( [#] C639 ) & (for B624 being (Element of C639) holds (B624 is_<=_than ( [#] C639 ) implies B623 >= B624)))) by L1445 , L1418;
thus L1447: (ex B625 being (Element of C639) st B625 is_<=_than (the carrier of C639)) by L1446;
end;
cluster  up-complete  with_suprema  lower-bounded ->  complete for non  empty non  empty non  empty non  empty Poset;
coherence
proof
let C640 being non  empty Poset;
assume L1448: C640 is  up-complete  with_suprema  lower-bounded;
reconsider D153 = C640 as  with_suprema  lower-bounded non  empty Poset by L1448;
let C641 being set;
reconsider D154 = ( C641 /\ (the carrier of C640) ) as (Subset of C640) by XBOOLE_1:17;
reconsider D155 = D154 as (Subset of D153);
L1449:
now
let C642 being  finite (Subset of D154);
L1450: C642 c= (the carrier of C640) by XBOOLE_1:1;
thus L1451: (C642 <> ( {} ) implies  ex_sup_of C642 , C640) by L1450 , L1448 , YELLOW_0:54;
end;
L1452:
now
let C643 being (Element of C640);
assume L1453: C643 in ( finsups D154 );
L1454: (ex B626 being  finite (Subset of D154) st (C643 = ( "\/" (B626 , C640) ) &  ex_sup_of B626 , C640)) by L1453;
thus L1455: (ex B627 being  finite (Subset of D154) st ( ex_sup_of B627 , C640 & C643 = ( "\/" (B627 , C640) ))) by L1454;
end;
L1456:
now
let C644 being  finite (Subset of D154);
reconsider D156 = C644 as (Subset of C640) by XBOOLE_1:1;
assume L1457: C644 <> ( {} );
L1458:  ex_sup_of D156 , C640 by L1457 , L1448 , YELLOW_0:54;
thus L1459: ( "\/" (C644 , C640) ) in ( finsups D154 ) by L1458;
end;
reconsider D157 = ( finsups D155 ) as non  empty  directed (Subset of C640);
consider C645 being (Element of C640) such that L1460: D157 is_<=_than C645 and L1461: (for B628 being (Element of C640) holds (D157 is_<=_than B628 implies C645 <= B628)) by L1448 , L1401;
take C645;
L1462: D154 is_<=_than C645 by L1449 , L1452 , L1456 , L1460 , L910;
thus L1463: C641 is_<=_than C645 by L1462 , YELLOW_0:5;
let C646 being (Element of C640);
assume L1464: C646 is_>=_than C641;
L1465: C646 is_>=_than D154 by L1464 , YELLOW_0:5;
L1466: C646 is_>=_than D157 by L1465 , L1449 , L1452 , L1456 , L910;
thus L1467: thesis by L1466 , L1461;
end;
end;
registration
cluster  /\-complete ->  with_infima for non  empty  reflexive  antisymmetric non  empty  reflexive  antisymmetric non  empty  reflexive  antisymmetric non  empty  reflexive  antisymmetric RelStr;
coherence
proof
let C647 being non  empty  reflexive  antisymmetric RelStr;
assume L1469: C647 is  /\-complete;
L1470: (for B629 , B630 being (Element of C647) holds  ex_inf_of { B629 , B630 } , C647) by L1469 , L1420;
thus L1471: thesis by L1470 , YELLOW_0:21;
end;
end;
registration
cluster  /\-complete ->  with_suprema for non  empty  reflexive  antisymmetric  upper-bounded non  empty  reflexive  antisymmetric  upper-bounded non  empty  reflexive  antisymmetric  upper-bounded non  empty  reflexive  antisymmetric  upper-bounded RelStr;
coherence
proof
let C648 being non  empty  reflexive  antisymmetric  upper-bounded RelStr;
assume that
L1473: C648 is  /\-complete;
L1474:
now
let C649 , C650 being (Element of C648);
set D158 = { B631 where B631 is (Element of C648) : (B631 >= C649 & B631 >= C650) };
L1475: D158 c= (the carrier of C648)
proof
let C651 being set;
assume L1476: C651 in D158;
L1477: (ex B632 being (Element of C648) st (C651 = B632 & B632 >= C649 & B632 >= C650)) by L1476;
thus L1478: thesis by L1477;
end;
reconsider D159 = D158 as (Subset of C648) by L1475;
L1479: ( Top C648 ) >= C649 by YELLOW_0:45;
L1480: ( Top C648 ) >= C650 by YELLOW_0:45;
L1481: ( Top C648 ) in D159 by L1480 , L1479;
L1482:  ex_inf_of D159 , C648 by L1481 , L1473 , L1420;
consider C652 being (Element of C648) such that L1483: C652 is_<=_than D159 and L1484: (for B633 being (Element of C648) holds (B633 is_<=_than D159 implies B633 <= C652)) and L1485: (for B634 being (Element of C648) holds ((B634 is_<=_than D159 & (for B635 being (Element of C648) holds (B635 is_<=_than D159 implies B635 <= B634))) implies B634 = C652)) by L1482 , YELLOW_0:def 8;
L1486: C652 is_>=_than { C649 , C650 }
proof
let C653 being (Element of C648);
assume L1487: C653 in { C649 , C650 };
L1488: C653 is_<=_than D159
proof
let C654 being (Element of C648);
assume L1489: C654 in D159;
L1490: (ex B636 being (Element of C648) st (C654 = B636 & B636 >= C649 & B636 >= C650)) by L1489;
thus L1491: thesis by L1490 , L1487 , TARSKI:def 2;
end;
thus L1492: thesis by L1488 , L1484;
end;
L1493:
now
let C655 being (Element of C648);
assume L1494: C655 is_>=_than { C649 , C650 };
L1495: C655 >= C649 by L1494 , YELLOW_0:8;
L1496: C655 >= C650 by L1494 , YELLOW_0:8;
L1497: C655 in D159 by L1496 , L1495;
thus L1498: C652 <= C655 by L1497 , L1483 , LATTICE3:def 8;
end;
thus L1499:  ex_sup_of { C649 , C650 } , C648 by L1493 , L1486 , YELLOW_0:15;
end;
thus L1500: thesis by L1474 , YELLOW_0:20;
end;
end;
registration
cluster  complete  strict for LATTICE;
existence
proof
set D160 = the  complete  strict LATTICE;
take D160;
thus L1502: thesis;
end;
end;
