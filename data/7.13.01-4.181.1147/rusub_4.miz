:: Dimension of Real Unitary Space
::  by Noboru Endou , Takashi Mitsuishi and Yasunari Shidama
::
:: Received October 9, 2002
:: Copyright (c) 2002-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, BHSP_1, FINSET_1, SUBSET_1, RLVECT_1, RLVECT_3,
      XBOOLE_0, RLVECT_2, CARD_3, TARSKI, FUNCT_1, CARD_1, FINSEQ_1, STRUCT_0,
      RELAT_1, VALUED_1, FINSEQ_4, ORDINAL4, ARYTM_1, ARYTM_3, XXREAL_0,
      RLSUB_1, RLVECT_5, NAT_1, SUPINF_2, FUNCT_2, RLSUB_2, REAL_1, ALGSTR_0,
      RUSUB_4;
 notations TARSKI, XBOOLE_0, ENUMSET1, SUBSET_1, CARD_1, NUMBERS, XCMPLX_0,
      REAL_1, ORDINAL1, NAT_1, FINSEQ_1, FUNCT_1, FUNCT_2, DOMAIN_1, STRUCT_0,
      ALGSTR_0, RLVECT_1, FINSEQ_3, FINSEQ_4, FINSET_1, RLSUB_1, RLVECT_2,
      BHSP_1, RLVECT_3, RUSUB_1, RUSUB_2, RUSUB_3, XXREAL_0;
 constructors XXREAL_0, REAL_1, NAT_1, PARTFUN1, FINSEQ_3, FINSEQ_4, REALSET1,
      RLVECT_2, RLVECT_3, RUSUB_2, RUSUB_3, RELSET_1;
 registrations SUBSET_1, RELSET_1, FINSET_1, XREAL_0, NAT_1, REAL_1, FINSEQ_1,
      STRUCT_0, RLVECT_1, RLSUB_1, RLVECT_3, ORDINAL1, CARD_1, RLVECT_2;
 requirements REAL, NUMERALS, BOOLE, SUBSET, ARITHM;
 definitions XBOOLE_0, TARSKI, STRUCT_0;
 theorems FUNCT_1, FINSEQ_1, FINSEQ_2, FINSEQ_3, FINSEQ_4, FINSET_1, RLSUB_2,
      RLVECT_1, RLVECT_2, TARSKI, XBOOLE_0, XBOOLE_1, RUSUB_1, RUSUB_2,
      RLVECT_3, ENUMSET1, RLVECT_5, NAT_1, SUBSET_1, RUSUB_3, RLSUB_1, CARD_1,
      CARD_2, XCMPLX_0, XCMPLX_1, XREAL_1, XXREAL_0, STRUCT_0;
 schemes NAT_1, XBOOLE_0, FINSEQ_1, DOMAIN_1;

begin
theorem
L1: (for B1 being RealUnitarySpace holds (for B2 , B3 being  finite (Subset of B1) holds (for B4 being (VECTOR of B1) holds ((B4 in ( Lin ( B2 \/ B3 ) ) & (not B4 in ( Lin B3 ))) implies (ex B5 being (VECTOR of B1) st (B5 in B2 & B5 in ( Lin ( ( ( B2 \/ B3 ) \ { B5 } ) \/ { B4 } ) )))))))
proof
let C1 being RealUnitarySpace;
let C2 , C3 being  finite (Subset of C1);
let C4 being (VECTOR of C1);
assume that
L2: C4 in ( Lin ( C2 \/ C3 ) )
and
L3: (not C4 in ( Lin C3 ));
consider C5 being (Linear_Combination of ( C2 \/ C3 )) such that L4: C4 = ( Sum C5 ) by L2 , RUSUB_3:1;
L5: C4 in { C4 } by TARSKI:def 1;
L6: C4 in ( Lin { C4 } ) by L5 , RUSUB_3:2;
consider C6 being (Linear_Combination of { C4 }) such that L7: C4 = ( Sum C6 ) by L6 , RUSUB_3:1;
L8: ( Carrier C5 ) c= ( C2 \/ C3 ) by RLVECT_2:def 6;
L9:
now
assume L10: (for B6 being (VECTOR of C1) holds (B6 in C2 implies ( C5 . B6 ) = ( 0 )));
L11:
now
let C7 being set;
assume that
L12: C7 in ( Carrier C5 )
and
L13: C7 in C2;
L14: (ex B7 being (VECTOR of C1) st (C7 = B7 & ( C5 . B7 ) <> ( 0 ))) by L12 , RLVECT_5:3;
thus L15: contradiction by L14 , L10 , L13;
end;
L16: ( Carrier C5 ) misses C2 by L11 , XBOOLE_0:3;
L17: ( Carrier C5 ) c= C3 by L16 , L8 , XBOOLE_1:73;
L18: C5 is (Linear_Combination of C3) by L17 , RLVECT_2:def 6;
thus L19: contradiction by L18 , L3 , L4 , RUSUB_3:1;
end;
consider C8 being (VECTOR of C1) such that L20: C8 in C2 and L21: ( C5 . C8 ) <> ( 0 ) by L9;
consider C9 being (FinSequence of (the carrier of C1)) such that L22: C9 is  one-to-one and L23: ( rng C9 ) = ( Carrier C5 ) and L24: ( Sum C5 ) = ( Sum ( C5 (#) C9 ) ) by RLVECT_2:def 8;
L25: C8 in ( rng C9 ) by L21 , L23 , RLVECT_5:3;
reconsider D1 = ( C9 -| C8 ) as (FinSequence of (the carrier of C1)) by L25 , FINSEQ_4:41;
reconsider D2 = ( C9 |-- C8 ) as (FinSequence of (the carrier of C1)) by L25 , FINSEQ_4:50;
L26: ( rng D1 ) misses ( rng D2 ) by L22 , L25 , FINSEQ_4:57;
set D3 = ( D1 ^ D2 );
consider C10 being (Linear_Combination of C1) such that L27: ( Carrier C10 ) = ( ( rng D3 ) /\ ( Carrier C5 ) ) and L28: ( C5 (#) D3 ) = ( C10 (#) D3 ) by RLVECT_5:7;
L29: C9 just_once_values C8 by L22 , L25 , FINSEQ_4:8;
L30: D3 = ( C9 - { C8 } ) by L29 , FINSEQ_4:54;
L31: ( rng D3 ) = ( ( Carrier C5 ) \ { C8 } ) by L30 , L23 , FINSEQ_3:65;
L32: ( Carrier C10 ) = ( rng D3 ) by L31 , L27 , XBOOLE_1:28 , XBOOLE_1:36;
L33: ( Carrier C10 ) c= ( ( C2 \/ C3 ) \ { C8 } ) by L32 , L8 , L31 , XBOOLE_1:33;
take C8;
set D4 = ( C5 . C8 );
L34: ( D4 " ) <> ( 0 ) by L21 , XCMPLX_1:202;
L35: C9 = ( ( ( C9 -| C8 ) ^ <* C8 *> ) ^ ( C9 |-- C8 ) ) by L25 , FINSEQ_4:51;
L36: C9 = ( D1 ^ ( <* C8 *> ^ D2 ) ) by L35 , FINSEQ_1:32;
L37: ( C5 (#) C9 ) = ( ( C5 (#) D1 ) ^ ( C5 (#) ( <* C8 *> ^ D2 ) ) ) by L36 , RLVECT_3:34
.= ( ( C5 (#) D1 ) ^ ( ( C5 (#) <* C8 *> ) ^ ( C5 (#) D2 ) ) ) by RLVECT_3:34
.= ( ( ( C5 (#) D1 ) ^ ( C5 (#) <* C8 *> ) ) ^ ( C5 (#) D2 ) ) by FINSEQ_1:32
.= ( ( ( C5 (#) D1 ) ^ <* ( D4 * C8 ) *> ) ^ ( C5 (#) D2 ) ) by RLVECT_2:26;
L38: ( Sum ( C5 (#) C9 ) ) = ( Sum ( ( C5 (#) D1 ) ^ ( <* ( D4 * C8 ) *> ^ ( C5 (#) D2 ) ) ) ) by L37 , FINSEQ_1:32
.= ( ( Sum ( C5 (#) D1 ) ) + ( Sum ( <* ( D4 * C8 ) *> ^ ( C5 (#) D2 ) ) ) ) by RLVECT_1:41
.= ( ( Sum ( C5 (#) D1 ) ) + ( ( Sum <* ( D4 * C8 ) *> ) + ( Sum ( C5 (#) D2 ) ) ) ) by RLVECT_1:41
.= ( ( Sum ( C5 (#) D1 ) ) + ( ( Sum ( C5 (#) D2 ) ) + ( D4 * C8 ) ) ) by RLVECT_1:44
.= ( ( ( Sum ( C5 (#) D1 ) ) + ( Sum ( C5 (#) D2 ) ) ) + ( D4 * C8 ) ) by RLVECT_1:def 3
.= ( ( Sum ( ( C5 (#) D1 ) ^ ( C5 (#) D2 ) ) ) + ( D4 * C8 ) ) by RLVECT_1:41
.= ( ( Sum ( C5 (#) ( D1 ^ D2 ) ) ) + ( D4 * C8 ) ) by RLVECT_3:34;
reconsider D5 = C10 as (Linear_Combination of ( ( C2 \/ C3 ) \ { C8 } )) by L33 , RLVECT_2:def 6;
L39: ( Carrier ( ( - D5 ) + C6 ) ) c= ( ( Carrier ( - D5 ) ) \/ ( Carrier C6 ) ) by RLVECT_2:37;
L40: ( Carrier ( ( - D5 ) + C6 ) ) c= ( ( Carrier D5 ) \/ ( Carrier C6 ) ) by L39 , RLVECT_2:51;
set D6 = ( ( D4 " ) * ( ( - D5 ) + C6 ) );
L41: ( Carrier C6 ) c= { C4 } by RLVECT_2:def 6;
L42: ( ( Carrier D5 ) \/ ( Carrier C6 ) ) c= ( ( ( C2 \/ C3 ) \ { C8 } ) \/ { C4 } ) by L41 , L33 , XBOOLE_1:13;
L43: ( Carrier ( ( - D5 ) + C6 ) ) c= ( ( ( C2 \/ C3 ) \ { C8 } ) \/ { C4 } ) by L42 , L40 , XBOOLE_1:1;
L44: ( Carrier D6 ) c= ( ( ( C2 \/ C3 ) \ { C8 } ) \/ { C4 } ) by L43 , L34 , RLVECT_2:42;
L45: D6 is (Linear_Combination of ( ( ( C2 \/ C3 ) \ { C8 } ) \/ { C4 } )) by L44 , RLVECT_2:def 6;
L46: (D1 is  one-to-one & D2 is  one-to-one) by L22 , L25 , FINSEQ_4:52 , FINSEQ_4:53;
L47: D3 is  one-to-one by L46 , L26 , FINSEQ_3:91;
L48: ( Sum ( D5 (#) D3 ) ) = ( Sum D5 ) by L47 , L32 , RLVECT_2:def 8;
L49: ( ( D4 " ) * C4 ) = ( ( ( D4 " ) * ( Sum D5 ) ) + ( ( D4 " ) * ( D4 * C8 ) ) ) by L48 , L4 , L24 , L38 , L28 , RLVECT_1:def 5
.= ( ( ( D4 " ) * ( Sum D5 ) ) + ( ( ( D4 " ) * D4 ) * C8 ) ) by RLVECT_1:def 7
.= ( ( ( D4 " ) * ( Sum D5 ) ) + ( 1 * C8 ) ) by L21 , XCMPLX_0:def 7
.= ( ( ( D4 " ) * ( Sum D5 ) ) + C8 ) by RLVECT_1:def 8;
L50: C8 = ( ( ( D4 " ) * C4 ) - ( ( D4 " ) * ( Sum D5 ) ) ) by L49 , RLSUB_2:61
.= ( ( D4 " ) * ( C4 - ( Sum D5 ) ) ) by RLVECT_1:34
.= ( ( D4 " ) * ( ( - ( Sum D5 ) ) + C4 ) ) by RLVECT_1:def 11;
L51: C8 = ( ( D4 " ) * ( ( Sum ( - D5 ) ) + ( Sum C6 ) ) ) by L50 , L7 , RLVECT_3:3
.= ( ( D4 " ) * ( Sum ( ( - D5 ) + C6 ) ) ) by RLVECT_3:1
.= ( Sum ( ( D4 " ) * ( ( - D5 ) + C6 ) ) ) by RLVECT_3:2;
thus L52: thesis by L51 , L20 , L45 , RUSUB_3:1;
end;
L53: (for B8 being set holds (for B9 being set holds (B9 in B8 implies ( ( B8 \ { B9 } ) \/ { B9 } ) = B8)))
proof
let C11 being set;
let C12 being set;
assume L54: C12 in C11;
L55: { C12 } is (Subset of C11) by L54 , SUBSET_1:41;
L56: ( { C12 } \/ ( C11 \ { C12 } ) ) = ( { C12 } \/ C11 ) by XBOOLE_1:39
.= C11 by L55 , XBOOLE_1:12;
thus L57: thesis by L56;
end;
L58: (for B10 being set holds (for B11 being set holds ((not B11 in B10) implies ( B10 \ { B11 } ) = B10)))
proof
let C13 being set;
let C14 being set;
assume that
L59: (not C14 in C13);
L60:
now
assume L61: C13 meets { C14 };
consider C15 being set such that L62: C15 in ( C13 /\ { C14 } ) by L61 , XBOOLE_0:4;
L63: (C15 in C13 & C15 in { C14 }) by L62 , XBOOLE_0:def 4;
thus L64: contradiction by L63 , L59 , TARSKI:def 1;
end;
thus L65: thesis by L60 , XBOOLE_1:83;
end;
theorem
L66: (for B12 being RealUnitarySpace holds (for B13 , B14 being  finite (Subset of B12) holds ((( the UNITSTR of B12 ) = ( Lin B13 ) & B14 is  linearly-independent) implies (( card B14 ) <= ( card B13 ) & (ex B15 being  finite (Subset of B12) st (B15 c= B13 & ( card B15 ) = ( ( card B13 ) - ( card B14 ) ) & ( the UNITSTR of B12 ) = ( Lin ( B14 \/ B15 ) )))))))
proof
let C16 being RealUnitarySpace;
defpred S1[ (Element of ( NAT )) ] means (for B16 being (Element of ( NAT )) holds (for B17 , B18 being  finite (Subset of C16) holds ((( card B17 ) = B16 & ( card B18 ) = $1 & ( the UNITSTR of C16 ) = ( Lin B17 ) & B18 is  linearly-independent) implies ($1 <= B16 & (ex B19 being  finite (Subset of C16) st (B19 c= B17 & ( card B19 ) = ( B16 - $1 ) & ( the UNITSTR of C16 ) = ( Lin ( B18 \/ B19 ) )))))));
L67: (for B20 being (Element of ( NAT )) holds (S1[ B20 ] implies S1[ ( B20 + 1 ) ]))
proof
let C17 being (Element of ( NAT ));
assume that
L68: S1[ C17 ];
let C18 being (Element of ( NAT ));
let C19 , C20 being  finite (Subset of C16);
assume that
L69: ( card C19 ) = C18
and
L70: ( card C20 ) = ( C17 + 1 )
and
L71: ( the UNITSTR of C16 ) = ( Lin C19 )
and
L72: C20 is  linearly-independent;
consider C21 being set such that L73: C21 in C20 by L70 , CARD_1:27 , XBOOLE_0:def 1;
reconsider D7 = C21 as (VECTOR of C16) by L73;
set D8 = ( C20 \ { D7 } );
L74: D8 is  linearly-independent by L72 , RLVECT_3:5 , XBOOLE_1:36;
L75: { D7 } is (Subset of C20) by L73 , SUBSET_1:41;
L76: ( card ( C20 \ { D7 } ) ) = ( ( card C20 ) - ( card { D7 } ) ) by L75 , CARD_2:44
.= ( ( C17 + 1 ) - 1 ) by L70 , CARD_1:30
.= C17;
consider C22 being  finite (Subset of C16) such that L77: C22 c= C19 and L78: ( card C22 ) = ( C18 - C17 ) and L79: ( the UNITSTR of C16 ) = ( Lin ( D8 \/ C22 ) ) by L76 , L68 , L69 , L71 , L74;
L80: (not D7 in ( Lin D8 )) by L72 , L73 , RUSUB_3:25;
L81:
now
assume L82: C17 = C18;
consider C23 being  finite (Subset of C16) such that L83: C23 c= C19 and L84: ( card C23 ) = ( C17 - C17 ) and L85: ( the UNITSTR of C16 ) = ( Lin ( D8 \/ C23 ) ) by L82 , L68 , L69 , L71 , L76 , L74;
L86: C23 = ( {} ) by L84;
L87: D8 is (Basis of C16) by L86 , L74 , L85 , RUSUB_3:def 2;
thus L88: contradiction by L87 , L80 , RUSUB_3:21;
end;
L89: D7 in ( Lin ( D8 \/ C22 ) ) by L79 , STRUCT_0:def 5;
consider C24 being (VECTOR of C16) such that L90: C24 in C22 and L91: C24 in ( Lin ( ( ( C22 \/ D8 ) \ { C24 } ) \/ { D7 } ) ) by L89 , L80 , L1;
set D9 = ( C22 \ { C24 } );
L92: ( ( D8 \ { C24 } ) \/ { D7 } ) c= ( D8 \/ { D7 } ) by XBOOLE_1:9 , XBOOLE_1:36;
L93: ( D9 \/ ( ( D8 \ { C24 } ) \/ { D7 } ) ) c= ( D9 \/ ( D8 \/ { D7 } ) ) by L92 , XBOOLE_1:9;
L94: ( D9 \/ ( ( D8 \ { C24 } ) \/ { D7 } ) ) c= ( C20 \/ D9 ) by L93 , L73 , L53;
L95: { C24 } is (Subset of C22) by L90 , SUBSET_1:41;
L96: ( card D9 ) = ( ( card C22 ) - ( card { C24 } ) ) by L95 , CARD_2:44
.= ( ( C18 - C17 ) - 1 ) by L78 , CARD_1:30
.= ( C18 - ( C17 + 1 ) );
L97: D9 c= C22 by XBOOLE_1:36;
L98: D9 c= C19 by L97 , L77 , XBOOLE_1:1;
L99: ( ( ( C22 \/ D8 ) \ { C24 } ) \/ { D7 } ) = ( ( D9 \/ ( D8 \ { C24 } ) ) \/ { D7 } ) by XBOOLE_1:42
.= ( D9 \/ ( ( D8 \ { C24 } ) \/ { D7 } ) ) by XBOOLE_1:4;
L100: ( Lin ( ( ( C22 \/ D8 ) \ { C24 } ) \/ { D7 } ) ) is (Subspace of ( Lin ( C20 \/ D9 ) )) by L99 , L94 , RUSUB_3:7;
L101: C24 in ( Lin ( C20 \/ D9 ) ) by L100 , L91 , RUSUB_1:1;
L102: (D8 c= C20 & C22 = ( D9 \/ { C24 } )) by L90 , L53 , XBOOLE_1:36;
L103:
now
let C25 being set;
assume L104: C25 in ( D8 \/ C22 );
L105: (C25 in D8 or C25 in C22) by L104 , XBOOLE_0:def 3;
L106: (C25 in C20 or C25 in D9 or C25 in { C24 }) by L105 , L102 , XBOOLE_0:def 3;
L107: (C25 in ( C20 \/ D9 ) or C25 in { C24 }) by L106 , XBOOLE_0:def 3;
L108: (C25 in ( Lin ( C20 \/ D9 ) ) or C25 = C24) by L107 , RUSUB_3:2 , TARSKI:def 1;
thus L109: C25 in (the carrier of ( Lin ( C20 \/ D9 ) )) by L108 , L101 , STRUCT_0:def 5;
end;
L110: ( D8 \/ C22 ) c= (the carrier of ( Lin ( C20 \/ D9 ) )) by L103 , TARSKI:def 3;
L111: ( Lin ( D8 \/ C22 ) ) is (Subspace of ( Lin ( C20 \/ D9 ) )) by L110 , RUSUB_3:27;
L112: (the carrier of ( Lin ( D8 \/ C22 ) )) c= (the carrier of ( Lin ( C20 \/ D9 ) )) by L111 , RUSUB_1:def 1;
L113: (the carrier of ( Lin ( C20 \/ D9 ) )) c= (the carrier of C16) by RUSUB_1:def 1;
L114: (the carrier of ( Lin ( C20 \/ D9 ) )) = (the carrier of C16) by L113 , L79 , L112 , XBOOLE_0:def 10;
L115: ( the UNITSTR of C16 ) = ( Lin ( C20 \/ D9 ) ) by L114 , L79 , RUSUB_1:24;
L116: C17 <= C18 by L68 , L69 , L71 , L76 , L74;
L117: C17 < C18 by L116 , L81 , XXREAL_0:1;
thus L118: thesis by L117 , L98 , L96 , L115 , NAT_1:13;
end;
L119: S1[ ( 0 ) ]
proof
let C26 being (Element of ( NAT ));
let C27 , C28 being  finite (Subset of C16);
assume that
L120: ( card C27 ) = C26
and
L121: ( card C28 ) = ( 0 )
and
L122: ( the UNITSTR of C16 ) = ( Lin C27 )
and
L123: C28 is  linearly-independent;
L124: C28 = ( {} ) by L121;
L125: C27 = ( C28 \/ C27 ) by L124;
thus L126: thesis by L125 , L120 , L122 , NAT_1:2;
end;
L127: (for B21 being (Element of ( NAT )) holds S1[ B21 ]) from NAT_1:sch 1(L119 , L67);
let C29 , C30 being  finite (Subset of C16);
assume L128: (( the UNITSTR of C16 ) = ( Lin C29 ) & C30 is  linearly-independent);
thus L129: thesis by L128 , L127;
end;
definition
let C31 being RealUnitarySpace;
attr C31 is  finite-dimensional
means
:L130: (ex B22 being  finite (Subset of C31) st B22 is (Basis of C31));
end;
registration
cluster  strict  finite-dimensional for RealUnitarySpace;
existence
proof
set D10 = the RealUnitarySpace;
take ( (0). D10 );
thus L132: ( (0). D10 ) is  strict;
take D11 = ( {} (the carrier of ( (0). D10 )) );
L133: ( Lin D11 ) = ( (0). ( (0). D10 ) ) by RUSUB_3:3;
L134: (D11 is  linearly-independent & ( Lin D11 ) = ( the UNITSTR of ( (0). D10 ) )) by L133 , RLVECT_3:7 , RUSUB_1:30;
thus L135: thesis by L134 , RUSUB_3:def 2;
end;
end;
theorem
L137: (for B23 being RealUnitarySpace holds (B23 is  finite-dimensional implies (for B24 being (Basis of B23) holds B24 is  finite)))
proof
let C32 being RealUnitarySpace;
assume L138: C32 is  finite-dimensional;
consider C33 being  finite (Subset of C32) such that L139: C33 is (Basis of C32) by L138 , L130;
let C34 being (Basis of C32);
consider C35 being FinSequence such that L140: ( rng C35 ) = C33 by FINSEQ_1:52;
reconsider D12 = C35 as (FinSequence of (the carrier of C32)) by L140 , FINSEQ_1:def 4;
set D13 = { ( Carrier B25 ) where B25 is (Linear_Combination of C34) : (ex B26 being (Element of ( NAT )) st (B26 in ( dom D12 ) & ( Sum B25 ) = ( D12 . B26 ))) };
set D14 = ( union D13 );
L141: D14 c= C34
proof
let C36 being set;
assume L142: C36 in D14;
consider C37 being set such that L143: C36 in C37 and L144: C37 in D13 by L142 , TARSKI:def 4;
L145: (ex B27 being (Linear_Combination of C34) st (C37 = ( Carrier B27 ) & (ex B28 being (Element of ( NAT )) st (B28 in ( dom D12 ) & ( Sum B27 ) = ( D12 . B28 ))))) by L144;
L146: C37 c= C34 by L145 , RLVECT_2:def 6;
thus L147: thesis by L146 , L143;
end;
reconsider D15 = D14 as (Subset of C32) by L141 , XBOOLE_1:1;
L148: (for B29 being (VECTOR of C32) holds (B29 in ( (Omega). C32 ) iff B29 in ( Lin D15 )))
proof
let C38 being (VECTOR of C32);
thus L149:now
assume L150: C38 in ( (Omega). C32 );
L151: C38 in ( the UNITSTR of C32 ) by L150 , RUSUB_1:def 3;
L152: C38 in ( Lin C33 ) by L151 , L139 , RUSUB_3:def 2;
consider C39 being (Linear_Combination of C33) such that L153: C38 = ( Sum C39 ) by L152 , RUSUB_3:1;
L154: ( Carrier C39 ) c= (the carrier of ( Lin D15 ))
proof
let C40 being set;
assume L155: C40 in ( Carrier C39 );
reconsider D16 = C40 as (VECTOR of C32) by L155;
L156: D16 in ( Lin C34 ) by RUSUB_3:21;
consider C41 being (Linear_Combination of C34) such that L157: C40 = ( Sum C41 ) by L156 , RUSUB_3:1;
L158: ( Carrier C39 ) c= C33 by RLVECT_2:def 6;
L159: (ex B30 being set st (B30 in ( dom D12 ) & C40 = ( D12 . B30 ))) by L158 , L140 , L155 , FUNCT_1:def 3;
L160: ( Carrier C41 ) in D13 by L159 , L157;
L161: ( Carrier C41 ) c= D15
proof
let C42 being set;
assume L162: C42 in ( Carrier C41 );
thus L163: thesis by L162 , L160 , TARSKI:def 4;
end;
L164: C41 is (Linear_Combination of D15) by L161 , RLVECT_2:def 6;
L165: C40 in ( Lin D15 ) by L164 , L157 , RUSUB_3:1;
thus L166: thesis by L165 , STRUCT_0:def 5;
end;
L167: (ex B31 being (Linear_Combination of D15) st ( Sum C39 ) = ( Sum B31 )) by L154 , RUSUB_3:17;
thus L168: C38 in ( Lin D15 ) by L167 , L153 , RUSUB_3:1;
end;
assume L169: C38 in ( Lin D15 );
L170: C38 in (the carrier of ( the UNITSTR of C32 ));
L171: C38 in (the carrier of ( (Omega). C32 )) by L170 , RUSUB_1:def 3;
thus L172: thesis by L171 , STRUCT_0:def 5;
end;
L173: ( (Omega). C32 ) = ( Lin D15 ) by L148 , RUSUB_1:25;
L174: ( the UNITSTR of C32 ) = ( Lin D15 ) by L173 , RUSUB_1:def 3;
L175: C34 is  linearly-independent by RUSUB_3:def 2;
L176: D15 is  linearly-independent by L175 , L141 , RLVECT_3:5;
L177: D15 is (Basis of C32) by L176 , L174 , RUSUB_3:def 2;
L178: C34 c= D15
proof
set D17 = ( C34 \ D15 );
assume L179: (not C34 c= D15);
L180: (ex B32 being set st (B32 in C34 & (not B32 in D15))) by L179 , TARSKI:def 3;
reconsider D18 = D17 as non  empty (Subset of C32) by L180 , XBOOLE_0:def 5;
reconsider D19 = C34 as (Subset of C32);
L181: ( D15 \/ ( D19 \ D15 ) ) = ( D15 \/ D19 ) by XBOOLE_1:39
.= D19 by L141 , XBOOLE_1:12;
L182: D19 = ( D15 \/ D18 ) by L181;
thus L183: contradiction by L182 , L175 , L177 , RUSUB_3:26 , XBOOLE_1:79;
end;
L184: C34 = D15 by L178 , L141 , XBOOLE_0:def 10;
defpred S2[ set , set ] means (ex B33 being (Linear_Combination of C34) st ($2 = ( Carrier B33 ) & ( Sum B33 ) = ( D12 . $1 )));
L185: (for B34 being Nat holds (B34 in ( Seg ( len D12 ) ) implies (ex B35 being set st S2[ B34 , B35 ])))
proof
let C43 being Nat;
assume L186: C43 in ( Seg ( len D12 ) );
L187: C43 in ( dom D12 ) by L186 , FINSEQ_1:def 3;
L188: ( D12 . C43 ) in (the carrier of C32) by L187 , FINSEQ_2:11;
L189: ( D12 . C43 ) in ( Lin C34 ) by L188 , RUSUB_3:21;
consider C44 being (Linear_Combination of C34) such that L190: ( D12 . C43 ) = ( Sum C44 ) by L189 , RUSUB_3:1;
L191: S2[ C43 , ( Carrier C44 ) ] by L190;
thus L192: thesis by L191;
end;
L193: (ex B36 being FinSequence st (( dom B36 ) = ( Seg ( len D12 ) ) & (for B37 being Nat holds (B37 in ( Seg ( len D12 ) ) implies S2[ B37 , ( B36 . B37 ) ])))) from FINSEQ_1:sch 1(L185);
consider C45 being FinSequence such that L194: ( dom C45 ) = ( Seg ( len D12 ) ) and L195: (for B38 being Nat holds (B38 in ( Seg ( len D12 ) ) implies S2[ B38 , ( C45 . B38 ) ])) by L193;
L196: ( dom D12 ) = ( dom C45 ) by L194 , FINSEQ_1:def 3;
L197: (for B39 being Nat holds (for B40 , B41 being set holds ((B39 in ( Seg ( len D12 ) ) & S2[ B39 , B40 ] & S2[ B39 , B41 ]) implies B40 = B41)))
proof
let C46 being Nat;
let C47 , C48 being set;
assume that
L198: C46 in ( Seg ( len D12 ) )
and
L199: S2[ C46 , C47 ]
and
L200: S2[ C46 , C48 ];
consider C49 being (Linear_Combination of C34) such that L201: (C47 = ( Carrier C49 ) & ( Sum C49 ) = ( D12 . C46 )) by L199;
consider C50 being (Linear_Combination of C34) such that L202: (C48 = ( Carrier C50 ) & ( Sum C50 ) = ( D12 . C46 )) by L200;
L203: (( Carrier C49 ) c= C34 & ( Carrier C50 ) c= C34) by RLVECT_2:def 6;
thus L204: thesis by L203 , L175 , L201 , L202 , RLVECT_5:1;
end;
L205:
now
let C51 being set;
assume L206: C51 in D13;
consider C52 being (Linear_Combination of C34) such that L207: C51 = ( Carrier C52 ) and L208: (ex B42 being (Element of ( NAT )) st (B42 in ( dom D12 ) & ( Sum C52 ) = ( D12 . B42 ))) by L206;
consider C53 being (Element of ( NAT )) such that L209: C53 in ( dom D12 ) and L210: ( Sum C52 ) = ( D12 . C53 ) by L208;
L211: S2[ C53 , ( C45 . C53 ) ] by L194 , L195 , L196 , L209;
L212: C51 = ( C45 . C53 ) by L211 , L197 , L194 , L196 , L207 , L209 , L210;
thus L213: C51 in ( rng C45 ) by L212 , L196 , L209 , FUNCT_1:def 3;
end;
L214: D13 c= ( rng C45 ) by L205 , TARSKI:def 3;
L215: (for B43 being set holds (B43 in D13 implies B43 is  finite))
proof
let C54 being set;
assume L216: C54 in D13;
L217: (ex B44 being (Linear_Combination of C34) st (C54 = ( Carrier B44 ) & (ex B45 being (Element of ( NAT )) st (B45 in ( dom D12 ) & ( Sum B44 ) = ( D12 . B45 ))))) by L216;
thus L218: thesis by L217;
end;
thus L219: thesis by L215 , L184 , L214 , FINSET_1:7;
end;
theorem
L220: (for B46 being RealUnitarySpace holds (for B47 being (Subset of B46) holds ((B46 is  finite-dimensional & B47 is  linearly-independent) implies B47 is  finite)))
proof
let C55 being RealUnitarySpace;
let C56 being (Subset of C55);
assume that
L221: C55 is  finite-dimensional
and
L222: C56 is  linearly-independent;
consider C57 being (Basis of C55) such that L223: C56 c= C57 by L222 , RUSUB_3:15;
L224: C57 is  finite by L221 , L137;
thus L225: thesis by L224 , L223;
end;
theorem
L226: (for B48 being RealUnitarySpace holds (for B49 , B50 being (Basis of B48) holds (B48 is  finite-dimensional implies ( card B49 ) = ( card B50 ))))
proof
let C58 being RealUnitarySpace;
let C59 , C60 being (Basis of C58);
assume L227: C58 is  finite-dimensional;
reconsider D20 = C59 , D21 = C60 as  finite (Subset of C58) by L227 , L137;
L228: (( the UNITSTR of C58 ) = ( Lin C60 ) & D20 is  linearly-independent) by RUSUB_3:def 2;
L229: ( card D20 ) <= ( card D21 ) by L228 , L66;
L230: (( the UNITSTR of C58 ) = ( Lin C59 ) & D21 is  linearly-independent) by RUSUB_3:def 2;
L231: ( card D21 ) <= ( card D20 ) by L230 , L66;
thus L232: thesis by L231 , L229 , XXREAL_0:1;
end;
theorem
L233: (for B51 being RealUnitarySpace holds ( (0). B51 ) is  finite-dimensional)
proof
let C61 being RealUnitarySpace;
reconsider D22 = ( (0). C61 ) as  strict RealUnitarySpace;
reconsider D23 = ( {} (the carrier of D22) ) as  finite (Subset of D22);
L234: (the carrier of D22) = { ( 0. C61 ) } by RUSUB_1:def 2
.= { ( 0. D22 ) } by RUSUB_1:4
.= (the carrier of ( (0). D22 )) by RUSUB_1:def 2;
L235: D22 = ( (0). D22 ) by L234 , RUSUB_1:26;
L236: (D23 is  linearly-independent & ( Lin D23 ) = ( (0). D22 )) by RLVECT_3:7 , RUSUB_3:3;
L237: D23 is (Basis of D22) by L236 , L235 , RUSUB_3:def 2;
thus L238: thesis by L237 , L130;
end;
theorem
L239: (for B52 being RealUnitarySpace holds (for B53 being (Subspace of B52) holds (B52 is  finite-dimensional implies B53 is  finite-dimensional)))
proof
let C62 being RealUnitarySpace;
let C63 being (Subspace of C62);
set D24 = the (Basis of C63);
consider C64 being (Basis of C62) such that L240: D24 c= C64 by RUSUB_3:24;
assume L241: C62 is  finite-dimensional;
L242: C64 is  finite by L241 , L137;
thus L243: thesis by L242 , L240 , L130;
end;
registration
let C65 being RealUnitarySpace;
cluster  finite-dimensional  strict for (Subspace of C65);
existence
proof
take ( (0). C65 );
thus L244: thesis by L233;
end;
end;
registration
let C66 being  finite-dimensional RealUnitarySpace;
cluster  ->  finite-dimensional for (Subspace of C66);
correctness by L239;
end;
registration
let C67 being  finite-dimensional RealUnitarySpace;
cluster  strict for (Subspace of C67);
existence
proof
L247: ( (0). C67 ) is  strict  finite-dimensional  strict  finite-dimensional  strict  finite-dimensional  strict  finite-dimensional (Subspace of C67);
thus L248: thesis by L247;
end;
end;
begin
definition
let C68 being RealUnitarySpace;
assume L250: C68 is  finite-dimensional;
func dim C68 -> (Element of ( NAT )) means 
:L251: (for B54 being (Basis of C68) holds it = ( card B54 ));
existence
proof
consider C69 being  finite (Subset of C68) such that L252: C69 is (Basis of C68) by L250 , L130;
consider C70 being (Element of ( NAT )) such that L253: C70 = ( card C69 );
L254: (for B55 being (Basis of C68) holds ( card B55 ) = C70) by L250 , L252 , L253 , L226;
thus L255: thesis by L254;
end;
uniqueness
proof
let C71 , C72 being (Element of ( NAT ));
assume that
L256: (for B56 being (Basis of C68) holds ( card B56 ) = C71)
and
L257: (for B57 being (Basis of C68) holds ( card B57 ) = C72);
consider C73 being  finite (Subset of C68) such that L258: C73 is (Basis of C68) by L250 , L130;
L259: ( card C73 ) = C71 by L256 , L258;
thus L260: thesis by L259 , L257 , L258;
end;
end;
theorem
L262: (for B58 being  finite-dimensional RealUnitarySpace holds (for B59 being (Subspace of B58) holds ( dim B59 ) <= ( dim B58 )))
proof
let C74 being  finite-dimensional RealUnitarySpace;
let C75 being (Subspace of C74);
set D25 = the (Basis of C75);
reconsider D26 = D25 as (Subset of C75);
L263: D26 is  linearly-independent by RUSUB_3:def 2;
reconsider D27 = D26 as  linearly-independent (Subset of C74) by L263 , RUSUB_3:22;
reconsider D28 = D27 as  finite (Subset of C74) by L137;
reconsider D29 = C74 as RealUnitarySpace;
set D30 = the (Basis of D29);
L264: ( Lin D30 ) = ( the UNITSTR of D29 ) by RUSUB_3:def 2;
reconsider D31 = D30 as  finite (Subset of C74) by L137;
L265: ( dim C74 ) = ( card D31 ) by L251;
L266: ( card D28 ) <= ( card D31 ) by L264 , L66;
thus L267: thesis by L266 , L265 , L251;
end;
theorem
L268: (for B60 being  finite-dimensional RealUnitarySpace holds (for B61 being (Subset of B60) holds (B61 is  linearly-independent implies ( card B61 ) = ( dim ( Lin B61 ) ))))
proof
let C76 being  finite-dimensional RealUnitarySpace;
let C77 being (Subset of C76);
assume that
L269: C77 is  linearly-independent;
set D32 = ( Lin C77 );
L270:
now
let C78 being set;
assume L271: C78 in C77;
L272: C78 in D32 by L271 , RUSUB_3:2;
thus L273: C78 in (the carrier of D32) by L272 , STRUCT_0:def 5;
end;
reconsider D33 = C77 as  linearly-independent (Subset of D32) by L270 , L269 , RUSUB_3:23 , TARSKI:def 3;
L274: D32 = ( Lin D33 ) by RUSUB_3:28;
reconsider D34 = D33 as (Basis of D32) by L274 , RUSUB_3:def 2;
L275: ( card D34 ) = ( dim D32 ) by L251;
thus L276: thesis by L275;
end;
theorem
L277: (for B62 being  finite-dimensional RealUnitarySpace holds ( dim B62 ) = ( dim ( (Omega). B62 ) ))
proof
let C79 being  finite-dimensional RealUnitarySpace;
consider C80 being  finite (Subset of C79) such that L278: C80 is (Basis of C79) by L130;
L279: ( (Omega). C79 ) = ( the UNITSTR of C79 ) by RUSUB_1:def 3
.= ( Lin C80 ) by L278 , RUSUB_3:def 2;
L280: (( card C80 ) = ( dim C79 ) & C80 is  linearly-independent) by L278 , L251 , RUSUB_3:def 2;
thus L281: thesis by L280 , L279 , L268;
end;
theorem
L282: (for B63 being  finite-dimensional RealUnitarySpace holds (for B64 being (Subspace of B63) holds (( dim B63 ) = ( dim B64 ) iff ( (Omega). B63 ) = ( (Omega). B64 ))))
proof
let C81 being  finite-dimensional RealUnitarySpace;
let C82 being (Subspace of C81);
consider C83 being  finite (Subset of C81) such that L283: C83 is (Basis of C81) by L130;
thus L284:now
set D35 = the (Basis of C82);
consider C84 being (Basis of C81) such that L285: D35 c= C84 by RUSUB_3:24;
L286: (the carrier of C82) c= (the carrier of C81) by RUSUB_1:def 1;
reconsider D36 = D35 as  finite (Subset of C81) by L286 , L137 , XBOOLE_1:1;
reconsider D37 = C84 as  finite (Subset of C81) by L137;
assume L287: ( dim C81 ) = ( dim C82 );
L288: ( card D35 ) = ( dim C81 ) by L287 , L251
.= ( card C84 ) by L251;
L289:
now
assume L290: D35 <> C84;
L291: D35 c< C84 by L290 , L285 , XBOOLE_0:def 8;
L292: ( card D36 ) < ( card D37 ) by L291 , CARD_2:48;
thus L293: contradiction by L292 , L288;
end;
reconsider D38 = C84 as (Subset of C81);
reconsider D39 = D35 as (Subset of C82);
L294: ( (Omega). C81 ) = ( the UNITSTR of C81 ) by RUSUB_1:def 3
.= ( Lin D38 ) by RUSUB_3:def 2
.= ( Lin D39 ) by L289 , RUSUB_3:28
.= ( the UNITSTR of C82 ) by RUSUB_3:def 2
.= ( (Omega). C82 ) by RUSUB_1:def 3;
thus L295: ( (Omega). C81 ) = ( (Omega). C82 ) by L294;
end;
consider C85 being  finite (Subset of C82) such that L296: C85 is (Basis of C82) by L130;
L297: C83 is  linearly-independent by L283 , RUSUB_3:def 2;
assume L298: ( (Omega). C81 ) = ( (Omega). C82 );
L299: ( the UNITSTR of C81 ) = ( (Omega). C82 ) by L298 , RUSUB_1:def 3
.= ( the UNITSTR of C82 ) by RUSUB_1:def 3;
L300: ( Lin C83 ) = ( the UNITSTR of C82 ) by L299 , L283 , RUSUB_3:def 2
.= ( Lin C85 ) by L296 , RUSUB_3:def 2;
L301: C85 is  linearly-independent by L296 , RUSUB_3:def 2;
reconsider D40 = C85 as (Subset of C82);
reconsider D41 = C83 as (Subset of C81);
L302: ( dim C81 ) = ( card D41 ) by L283 , L251
.= ( dim ( Lin D40 ) ) by L297 , L300 , L268
.= ( card D40 ) by L301 , L268
.= ( dim C82 ) by L296 , L251;
thus L303: thesis by L302;
end;
theorem
L304: (for B65 being  finite-dimensional RealUnitarySpace holds (( dim B65 ) = ( 0 ) iff ( (Omega). B65 ) = ( (0). B65 )))
proof
let C86 being  finite-dimensional RealUnitarySpace;
consider C87 being  finite (Subset of C86) such that L305: C87 is (Basis of C86) by L130;
thus L306:now
consider C88 being  finite (Subset of C86) such that L307: C88 is (Basis of C86) by L130;
assume L308: ( dim C86 ) = ( 0 );
L309: ( card C88 ) = ( 0 ) by L308 , L307 , L251;
L310: C88 = ( {} (the carrier of C86) ) by L309;
L311: ( (Omega). C86 ) = ( the UNITSTR of C86 ) by RUSUB_1:def 3
.= ( Lin C88 ) by L307 , RUSUB_3:def 2
.= ( (0). C86 ) by L310 , RUSUB_3:3;
thus L312: ( (Omega). C86 ) = ( (0). C86 ) by L311;
end;
L313:
now
assume L314: C87 = { ( 0. C86 ) };
L315: C87 is  linearly-dependent by L314 , RLVECT_3:8;
thus L316: contradiction by L315 , L305 , RUSUB_3:def 2;
end;
assume L317: ( (Omega). C86 ) = ( (0). C86 );
L318: ( the UNITSTR of C86 ) = ( (0). C86 ) by L317 , RUSUB_1:def 3;
L319: ( Lin C87 ) = ( (0). C86 ) by L318 , L305 , RUSUB_3:def 2;
L320: (C87 = ( {} ) or C87 = { ( 0. C86 ) }) by L319 , RUSUB_3:4;
thus L321: thesis by L320 , L305 , L313 , L251 , CARD_1:27;
end;
theorem
L322: (for B66 being  finite-dimensional RealUnitarySpace holds (( dim B66 ) = 1 iff (ex B67 being (VECTOR of B66) st (B67 <> ( 0. B66 ) & ( (Omega). B66 ) = ( Lin { B67 } )))))
proof
let C89 being  finite-dimensional RealUnitarySpace;
thus L323:now
consider C90 being  finite (Subset of C89) such that L324: C90 is (Basis of C89) by L130;
assume L325: ( dim C89 ) = 1;
L326: ( card C90 ) = 1 by L325 , L324 , L251;
consider C91 being set such that L327: C90 = { C91 } by L326 , CARD_2:42;
L328: C91 in C90 by L327 , TARSKI:def 1;
reconsider D42 = C91 as (VECTOR of C89) by L328;
L329: { D42 } is  linearly-independent by L324 , L327 , RUSUB_3:def 2;
L330: D42 <> ( 0. C89 ) by L329 , RLVECT_3:8;
L331: ( Lin { D42 } ) = ( the UNITSTR of C89 ) by L324 , L327 , RUSUB_3:def 2;
thus L332: (ex B68 being (VECTOR of C89) st (B68 <> ( 0. C89 ) & ( (Omega). C89 ) = ( Lin { B68 } ))) by L331 , L330 , RUSUB_1:def 3;
end;
given C92 being (VECTOR of C89) such that
L333: (C92 <> ( 0. C89 ) & ( (Omega). C89 ) = ( Lin { C92 } ));

L334: ({ C92 } is  linearly-independent & ( Lin { C92 } ) = ( the UNITSTR of C89 )) by L333 , RLVECT_3:8 , RUSUB_1:def 3;
L335: { C92 } is (Basis of C89) by L334 , RUSUB_3:def 2;
L336: ( card { C92 } ) = 1 by CARD_1:30;
thus L337: thesis by L336 , L335 , L251;
end;
theorem
L338: (for B69 being  finite-dimensional RealUnitarySpace holds (( dim B69 ) = 2 iff (ex B70 , B71 being (VECTOR of B69) st (B70 <> B71 & { B70 , B71 } is  linearly-independent & ( (Omega). B69 ) = ( Lin { B70 , B71 } )))))
proof
let C93 being  finite-dimensional RealUnitarySpace;
thus L339:now
consider C94 being  finite (Subset of C93) such that L340: C94 is (Basis of C93) by L130;
assume L341: ( dim C93 ) = 2;
L342: ( card C94 ) = 2 by L341 , L340 , L251;
consider C95 being set such that L343: C95 in C94 by L342 , CARD_1:27 , XBOOLE_0:def 1;
reconsider D43 = C95 as (VECTOR of C93) by L343;
L344:
now
assume L345: C94 c= { D43 };
L346: ( card C94 ) <= ( card { D43 } ) by L345 , NAT_1:43;
L347: 2 <= 1 by L346 , L342 , CARD_1:30;
thus L348: contradiction by L347;
end;
consider C96 being set such that L349: C96 in C94 and L350: (not C96 in { D43 }) by L344 , TARSKI:def 3;
reconsider D44 = C96 as (VECTOR of C93) by L349;
L351: D44 <> D43 by L350 , TARSKI:def 1;
L352:
now
assume L353: (not C94 c= { D43 , D44 });
consider C97 being set such that L354: C97 in C94 and L355: (not C97 in { D43 , D44 }) by L353 , TARSKI:def 3;
L356: (for B72 being set holds (B72 in { D43 , D44 , C97 } implies B72 in C94)) by L343 , L349 , L354 , ENUMSET1:def 1;
L357: { D43 , D44 , C97 } c= C94 by L356 , TARSKI:def 3;
L358: ( card { D43 , D44 , C97 } ) <= ( card C94 ) by L357 , NAT_1:43;
L359: (C97 <> D43 & C97 <> D44) by L355 , TARSKI:def 2;
L360: 3 <= 2 by L359 , L342 , L351 , L358 , CARD_2:58;
thus L361: contradiction by L360;
end;
L362: (for B73 being set holds (B73 in { D43 , D44 } implies B73 in C94)) by L343 , L349 , TARSKI:def 2;
L363: { D43 , D44 } c= C94 by L362 , TARSKI:def 3;
L364: C94 = { D43 , D44 } by L363 , L352 , XBOOLE_0:def 10;
L365: { D43 , D44 } is  linearly-independent by L364 , L340 , RUSUB_3:def 2;
L366: ( Lin { D43 , D44 } ) = ( the UNITSTR of C93 ) by L340 , L364 , RUSUB_3:def 2
.= ( (Omega). C93 ) by RUSUB_1:def 3;
thus L367: (ex B74 , B75 being (VECTOR of C93) st (B74 <> B75 & { B74 , B75 } is  linearly-independent & ( (Omega). C93 ) = ( Lin { B74 , B75 } ))) by L366 , L351 , L365;
end;
given C98 , C99 being (VECTOR of C93) such that
L368: C98 <> C99
and
L369: { C98 , C99 } is  linearly-independent
and
L370: ( (Omega). C93 ) = ( Lin { C98 , C99 } );

L371: ( Lin { C98 , C99 } ) = ( the UNITSTR of C93 ) by L370 , RUSUB_1:def 3;
L372: { C98 , C99 } is (Basis of C93) by L371 , L369 , RUSUB_3:def 2;
L373: ( card { C98 , C99 } ) = 2 by L368 , CARD_2:57;
thus L374: thesis by L373 , L372 , L251;
end;
theorem
L375: (for B76 being  finite-dimensional RealUnitarySpace holds (for B77 , B78 being (Subspace of B76) holds ( ( dim ( B77 + B78 ) ) + ( dim ( B77 /\ B78 ) ) ) = ( ( dim B77 ) + ( dim B78 ) )))
proof
let C100 being  finite-dimensional RealUnitarySpace;
let C101 , C102 being (Subspace of C100);
reconsider D45 = C100 as RealUnitarySpace;
reconsider D46 = C101 , D47 = C102 as (Subspace of D45);
consider C103 being  finite (Subset of ( D46 /\ D47 )) such that L376: C103 is (Basis of ( D46 /\ D47 )) by L130;
L377: ( D46 /\ D47 ) is (Subspace of D47) by RUSUB_2:16;
consider C104 being (Basis of D47) such that L378: C103 c= C104 by L377 , L376 , RUSUB_3:24;
L379: ( D46 /\ D47 ) is (Subspace of D46) by RUSUB_2:16;
consider C105 being (Basis of D46) such that L380: C103 c= C105 by L379 , L376 , RUSUB_3:24;
reconsider D48 = C104 as  finite (Subset of D47) by L137;
reconsider D49 = C105 as  finite (Subset of D46) by L137;
L381:
now
L382: D49 is  linearly-independent by RUSUB_3:def 2;
reconsider D50 = D49 as  linearly-independent (Subset of D45) by L382 , RUSUB_3:22;
L383: (the carrier of ( D46 /\ D47 )) c= (the carrier of D45) by RUSUB_1:def 1;
reconsider D51 = C103 as (Subset of D45) by L383 , XBOOLE_1:1;
assume L384: (not ( D49 /\ D48 ) c= C103);
consider C106 being set such that L385: C106 in ( D49 /\ D48 ) and L386: (not C106 in C103) by L384 , TARSKI:def 3;
L387: C106 in D49 by L385 , XBOOLE_0:def 4;
L388: C106 in ( Lin D49 ) by L387 , RUSUB_3:2;
L389: C106 in ( the UNITSTR of D46 ) by L388 , RUSUB_3:def 2;
L390: C106 in (the carrier of D46) by L389 , STRUCT_0:def 5;
L391: (the carrier of D46) c= (the carrier of D45) by RUSUB_1:def 1;
reconsider D52 = C106 as (VECTOR of D45) by L391 , L390;
L392:
now
let C107 being set;
L393: (the carrier of ( D46 /\ D47 )) c= (the carrier of D45) by RUSUB_1:def 1;
L394: C103 c= (the carrier of D45) by L393 , XBOOLE_1:1;
assume L395: C107 in ( C103 \/ { C106 } );
L396: (C107 in C103 or C107 in { C106 }) by L395 , XBOOLE_0:def 3;
L397: (C107 in (the carrier of D45) or C107 = C106) by L396 , L394 , TARSKI:def 1;
thus L398: C107 in (the carrier of D45) by L397 , L390 , L391;
end;
reconsider D53 = ( C103 \/ { C106 } ) as (Subset of D45) by L392 , TARSKI:def 3;
L399:
now
let C108 being set;
assume L400: C108 in ( C103 \/ { C106 } );
L401: (C108 in C103 or C108 in { C106 }) by L400 , XBOOLE_0:def 3;
L402: (C108 in D49 or C108 = C106) by L401 , L380 , TARSKI:def 1;
thus L403: C108 in D50 by L402 , L385 , XBOOLE_0:def 4;
end;
L404: D53 c= D50 by L399 , TARSKI:def 3;
L405: C106 in { C106 } by TARSKI:def 1;
L406: D52 in D53 by L405 , XBOOLE_0:def 3;
L407: C106 in D48 by L385 , XBOOLE_0:def 4;
L408: C106 in ( Lin D48 ) by L407 , RUSUB_3:2;
L409: C106 in ( the UNITSTR of D47 ) by L408 , RUSUB_3:def 2;
L410: C106 in (the carrier of D47) by L409 , STRUCT_0:def 5;
L411: C106 in ( (the carrier of D46) /\ (the carrier of D47) ) by L410 , L390 , XBOOLE_0:def 4;
L412: C106 in (the carrier of ( D46 /\ D47 )) by L411 , RUSUB_2:def 2;
L413: C106 in ( the UNITSTR of ( D46 /\ D47 ) ) by L412 , STRUCT_0:def 5;
L414: C106 in ( Lin C103 ) by L413 , L376 , RUSUB_3:def 2;
L415: ( D53 \ { C106 } ) = ( C103 \ { C106 } ) by XBOOLE_1:40
.= C103 by L386 , L58;
L416: (not D52 in ( Lin D51 )) by L415 , L404 , L406 , RLVECT_3:5 , RUSUB_3:25;
thus L417: contradiction by L416 , L414 , RUSUB_3:28;
end;
set D54 = ( D49 \/ D48 );
L418:
now
let C109 being set;
L419: ((the carrier of D46) c= (the carrier of D45) & (the carrier of D47) c= (the carrier of D45)) by RUSUB_1:def 1;
assume L420: C109 in D54;
L421: (C109 in D49 or C109 in D48) by L420 , XBOOLE_0:def 3;
L422: (C109 in (the carrier of D46) or C109 in (the carrier of D47)) by L421;
reconsider D55 = C109 as (VECTOR of D45) by L422 , L419;
L423: (D55 in D46 or D55 in D47) by L421 , STRUCT_0:def 5;
L424: D55 in ( D46 + D47 ) by L423 , RUSUB_2:2;
thus L425: C109 in (the carrier of ( D46 + D47 )) by L424 , STRUCT_0:def 5;
end;
reconsider D56 = D54 as  finite (Subset of ( D46 + D47 )) by L418 , TARSKI:def 3;
L426: C103 c= ( D49 /\ D48 ) by L380 , L378 , XBOOLE_1:19;
L427: C103 = ( D49 /\ D48 ) by L426 , L381 , XBOOLE_0:def 10;
L428: ( card D56 ) = ( ( ( card D49 ) + ( card D48 ) ) - ( card C103 ) ) by L427 , CARD_2:45;
L429: (for B79 being (Linear_Combination of D56) holds (( Sum B79 ) = ( 0. ( D46 + D47 ) ) implies ( Carrier B79 ) = ( {} )))
proof
L430: (D46 is (Subspace of ( D46 + D47 )) & D49 is  linearly-independent) by RUSUB_2:7 , RUSUB_3:def 2;
reconsider D57 = D49 as  linearly-independent (Subset of ( D46 + D47 )) by L430 , RUSUB_3:22;
reconsider D58 = D47 as (Subspace of ( D46 + D47 )) by RUSUB_2:7;
reconsider D59 = D46 as (Subspace of ( D46 + D47 )) by RUSUB_2:7;
let C110 being (Linear_Combination of D56);
assume L431: ( Sum C110 ) = ( 0. ( D46 + D47 ) );
L432: D49 misses ( ( Carrier C110 ) \ D49 ) by XBOOLE_1:79;
set D60 = ( ( Carrier C110 ) /\ D49 );
consider C111 being (FinSequence of (the carrier of ( D46 + D47 ))) such that L433: C111 is  one-to-one and L434: ( rng C111 ) = ( Carrier C110 ) and L435: ( Sum C110 ) = ( Sum ( C110 (#) C111 ) ) by RLVECT_2:def 8;
reconsider D61 = D60 as (Subset of ( rng C111 )) by L434 , XBOOLE_1:17;
reconsider D62 = ( C111 - ( D61 ` ) ) , D63 = ( C111 - D61 ) as (FinSequence of (the carrier of ( D46 + D47 ))) by FINSEQ_3:86;
consider C112 being (Linear_Combination of ( D46 + D47 )) such that L436: ( Carrier C112 ) = ( ( rng D62 ) /\ ( Carrier C110 ) ) and L437: ( C112 (#) D62 ) = ( C110 (#) D62 ) by RLVECT_5:7;
L438: D62 is  one-to-one by L433 , FINSEQ_3:87;
L439: ( Sum ( C110 (#) D62 ) ) = ( Sum C112 ) by L438 , L436 , L437 , RLVECT_5:6 , XBOOLE_1:17;
L440: ( rng C111 ) c= ( rng C111 );
reconsider D64 = ( rng C111 ) as (Subset of ( rng C111 )) by L440;
consider C113 being (Linear_Combination of ( D46 + D47 )) such that L441: ( Carrier C113 ) = ( ( rng D63 ) /\ ( Carrier C110 ) ) and L442: ( C113 (#) D63 ) = ( C110 (#) D63 ) by RLVECT_5:7;
L443: D63 is  one-to-one by L433 , FINSEQ_3:87;
L444: ( Sum ( C110 (#) D63 ) ) = ( Sum C113 ) by L443 , L441 , L442 , RLVECT_5:6 , XBOOLE_1:17;
L445: ( D64 \ ( D61 ` ) ) = ( D64 /\ ( ( D61 ` ) ` ) ) by SUBSET_1:13
.= D61 by XBOOLE_1:28;
L446: ( rng D62 ) = D61 by L445 , FINSEQ_3:65;
L447: ( Carrier C112 ) = ( D49 /\ ( ( Carrier C110 ) /\ ( Carrier C110 ) ) ) by L446 , L436 , XBOOLE_1:16
.= ( ( Carrier C110 ) /\ D49 );
consider C114 being (Linear_Combination of D59) such that L448: ( Carrier C114 ) = ( Carrier C112 ) and L449: ( Sum C114 ) = ( Sum C112 ) by L447 , RUSUB_3:20;
L450: ( rng D63 ) = ( ( Carrier C110 ) \ ( ( Carrier C110 ) /\ D49 ) ) by L434 , FINSEQ_3:65
.= ( ( Carrier C110 ) \ D49 ) by XBOOLE_1:47;
L451: ( Carrier C113 ) = ( ( Carrier C110 ) \ D49 ) by L450 , L441 , XBOOLE_1:28 , XBOOLE_1:36;
L452: ( ( Carrier C112 ) /\ ( Carrier C113 ) ) = ( ( Carrier C110 ) /\ ( D49 /\ ( ( Carrier C110 ) \ D49 ) ) ) by L451 , L447 , XBOOLE_1:16
.= ( ( Carrier C110 ) /\ ( {} ) ) by L432 , XBOOLE_0:def 7
.= ( {} );
L453: ( Carrier C112 ) misses ( Carrier C113 ) by L452 , XBOOLE_0:def 7;
L454: ( Carrier C110 ) c= ( D49 \/ D48 ) by RLVECT_2:def 6;
L455: ( Carrier C113 ) c= D48 by L454 , L451 , XBOOLE_1:43;
L456: ( Carrier C113 ) c= D48 by L454 , L451 , XBOOLE_1:43;
consider C115 being (Linear_Combination of D58) such that L457: ( Carrier C115 ) = ( Carrier C113 ) and L458: ( Sum C115 ) = ( Sum C113 ) by L456 , RUSUB_3:20 , XBOOLE_1:1;
L459: ( Sum C114 ) in D46 by STRUCT_0:def 5;
L460: (ex B80 being (Permutation of ( dom C111 )) st ( ( C111 - ( D61 ` ) ) ^ ( C111 - D61 ) ) = ( C111 * B80 )) by FINSEQ_3:115;
L461: ( 0. ( D46 + D47 ) ) = ( Sum ( C110 (#) ( D62 ^ D63 ) ) ) by L460 , L431 , L435 , RLVECT_5:4
.= ( Sum ( ( C110 (#) D62 ) ^ ( C110 (#) D63 ) ) ) by RLVECT_3:34
.= ( ( Sum C112 ) + ( Sum C113 ) ) by L439 , L444 , RLVECT_1:41;
L462: ( Sum C112 ) = ( - ( Sum C113 ) ) by L461 , RLVECT_1:def 10
.= ( - ( Sum C115 ) ) by L458 , RUSUB_1:9;
L463: ( Sum C114 ) in D47 by L462 , L449 , STRUCT_0:def 5;
L464: ( Sum C114 ) in ( D46 /\ D47 ) by L463 , L459 , RUSUB_2:3;
L465: ( Sum C114 ) in ( Lin C103 ) by L464 , L376 , RUSUB_3:def 2;
consider C116 being (Linear_Combination of C103) such that L466: ( Sum C114 ) = ( Sum C116 ) by L465 , RUSUB_3:1;
L467: ( Carrier C110 ) = ( ( Carrier C112 ) \/ ( Carrier C113 ) ) by L447 , L451 , XBOOLE_1:51;
L468:
now
assume L469: (not ( Carrier C110 ) c= ( Carrier ( C112 + C113 ) ));
consider C117 being set such that L470: C117 in ( Carrier C110 ) and L471: (not C117 in ( Carrier ( C112 + C113 ) )) by L469 , TARSKI:def 3;
reconsider D65 = C117 as (VECTOR of ( D46 + D47 )) by L470;
L472: ( 0 ) = ( ( C112 + C113 ) . D65 ) by L471 , RLVECT_2:19
.= ( ( C112 . D65 ) + ( C113 . D65 ) ) by RLVECT_2:def 10;
per cases  by L467 , L470 , XBOOLE_0:def 3;
suppose L473: D65 in ( Carrier C112 );

L474: (not D65 in ( Carrier C113 )) by L473 , L453 , XBOOLE_0:3;
L475: ( C113 . D65 ) = ( 0 ) by L474 , RLVECT_2:19;
L476: (ex B81 being (VECTOR of ( D46 + D47 )) st (D65 = B81 & ( C112 . B81 ) <> ( 0 ))) by L473 , RLVECT_5:3;
thus L477: contradiction by L476 , L472 , L475;
end;
suppose L478: D65 in ( Carrier C113 );

L479: (not D65 in ( Carrier C112 )) by L478 , L453 , XBOOLE_0:3;
L480: ( C112 . D65 ) = ( 0 ) by L479 , RLVECT_2:19;
L481: (ex B82 being (VECTOR of ( D46 + D47 )) st (D65 = B82 & ( C113 . B82 ) <> ( 0 ))) by L478 , RLVECT_5:3;
thus L482: contradiction by L481 , L472 , L480;
end;
end;
L484: ( C103 \/ D48 ) = D48 by L378 , XBOOLE_1:12;
L485: D48 is  linearly-independent by RUSUB_3:def 2;
L486: ( Carrier C112 ) c= D49 by L447 , XBOOLE_1:17;
L487: ( D46 /\ D47 ) is (Subspace of ( D46 + D47 )) by RUSUB_2:22;
consider C118 being (Linear_Combination of ( D46 + D47 )) such that L488: ( Carrier C118 ) = ( Carrier C116 ) and L489: ( Sum C118 ) = ( Sum C116 ) by L487 , RUSUB_3:19;
L490: ( Carrier C118 ) c= C103 by L488 , RLVECT_2:def 6;
L491: ( Carrier C118 ) c= D57 by L490 , L380 , XBOOLE_1:1;
L492: C118 = C112 by L491 , L486 , L449 , L466 , L489 , RLVECT_5:1;
L493: ( Carrier C118 ) c= C103 by L488 , RLVECT_2:def 6;
L494: (( Carrier ( C118 + C113 ) ) c= ( ( Carrier C118 ) \/ ( Carrier C113 ) ) & ( ( Carrier C118 ) \/ ( Carrier C113 ) ) c= D48) by L493 , L484 , L455 , RLVECT_2:37 , XBOOLE_1:13;
L495: ( Carrier ( C118 + C113 ) ) c= D48 by L494 , XBOOLE_1:1;
L496: D47 is (Subspace of ( D46 + D47 )) by RUSUB_2:7;
consider C119 being (Linear_Combination of D47) such that L497: ( Carrier C119 ) = ( Carrier ( C118 + C113 ) ) and L498: ( Sum C119 ) = ( Sum ( C118 + C113 ) ) by L496 , L495 , RUSUB_3:20 , XBOOLE_1:1;
reconsider D66 = C119 as (Linear_Combination of D48) by L495 , L497 , RLVECT_2:def 6;
L499: ( 0. D47 ) = ( ( Sum C118 ) + ( Sum C113 ) ) by L449 , L461 , L466 , L489 , RUSUB_1:5
.= ( Sum D66 ) by L498 , RLVECT_3:1;
L500: ( {} ) = ( Carrier ( C112 + C113 ) ) by L499 , L497 , L492 , L485 , RLVECT_3:def 1;
thus L501: thesis by L500 , L468;
end;
L502: D56 is  linearly-independent by L429 , RLVECT_3:def 1;
L503: (the carrier of ( D46 + D47 )) c= (the carrier of D45) by RUSUB_1:def 1;
reconsider D67 = D56 as (Subset of D45) by L503 , XBOOLE_1:1;
L504: ( card D48 ) = ( dim D47 ) by L251;
L505:
now
let C120 being set;
assume L506: C120 in (the carrier of ( D46 + D47 ));
L507: C120 in ( D46 + D47 ) by L506 , STRUCT_0:def 5;
consider C121 , C122 being (VECTOR of D45) such that L508: C121 in D46 and L509: C122 in D47 and L510: C120 = ( C121 + C122 ) by L507 , RUSUB_2:1;
reconsider D68 = C121 as (VECTOR of D46) by L508 , STRUCT_0:def 5;
L511: D68 in ( Lin D49 ) by RUSUB_3:21;
consider C123 being (Linear_Combination of D49) such that L512: D68 = ( Sum C123 ) by L511 , RUSUB_3:1;
reconsider D69 = C122 as (VECTOR of D47) by L509 , STRUCT_0:def 5;
L513: D69 in ( Lin D48 ) by RUSUB_3:21;
consider C124 being (Linear_Combination of D48) such that L514: D69 = ( Sum C124 ) by L513 , RUSUB_3:1;
consider C125 being (Linear_Combination of D45) such that L515: ( Carrier C125 ) = ( Carrier C124 ) and L516: ( Sum C125 ) = ( Sum C124 ) by RUSUB_3:19;
L517: ( Carrier C125 ) c= D48 by L515 , RLVECT_2:def 6;
consider C126 being (Linear_Combination of D45) such that L518: ( Carrier C126 ) = ( Carrier C123 ) and L519: ( Sum C126 ) = ( Sum C123 ) by RUSUB_3:19;
set D70 = ( C126 + C125 );
L520: ( Carrier C126 ) c= D49 by L518 , RLVECT_2:def 6;
L521: (( Carrier D70 ) c= ( ( Carrier C126 ) \/ ( Carrier C125 ) ) & ( ( Carrier C126 ) \/ ( Carrier C125 ) ) c= ( D49 \/ D48 )) by L520 , L517 , RLVECT_2:37 , XBOOLE_1:13;
L522: ( Carrier D70 ) c= ( D49 \/ D48 ) by L521 , XBOOLE_1:1;
reconsider D71 = D70 as (Linear_Combination of D67) by L522 , RLVECT_2:def 6;
L523: C120 = ( Sum D71 ) by L510 , L512 , L519 , L514 , L516 , RLVECT_3:1;
L524: C120 in ( Lin D67 ) by L523 , RUSUB_3:1;
thus L525: C120 in (the carrier of ( Lin D67 )) by L524 , STRUCT_0:def 5;
end;
L526: (the carrier of ( D46 + D47 )) c= (the carrier of ( Lin D67 )) by L505 , TARSKI:def 3;
L527: (( Lin D67 ) = ( Lin D56 ) & ( D46 + D47 ) is (Subspace of ( Lin D67 ))) by L526 , RUSUB_1:22 , RUSUB_3:28;
L528: ( Lin D56 ) = ( D46 + D47 ) by L527 , RUSUB_1:20;
L529: D56 is (Basis of ( D46 + D47 )) by L528 , L502 , RUSUB_3:def 2;
L530: ( card C103 ) = ( dim ( D46 /\ D47 ) ) by L376 , L251;
L531: ( ( dim ( D46 + D47 ) ) + ( dim ( D46 /\ D47 ) ) ) = ( ( ( ( card D49 ) + ( card D48 ) ) + ( - ( card C103 ) ) ) + ( card C103 ) ) by L530 , L428 , L529 , L251
.= ( ( dim D46 ) + ( dim D47 ) ) by L504 , L251;
thus L532: thesis by L531;
end;
theorem
L533: (for B83 being  finite-dimensional RealUnitarySpace holds (for B84 , B85 being (Subspace of B83) holds ( dim ( B84 /\ B85 ) ) >= ( ( ( dim B84 ) + ( dim B85 ) ) - ( dim B83 ) )))
proof
let C127 being  finite-dimensional RealUnitarySpace;
let C128 , C129 being (Subspace of C127);
L534: (( dim ( C128 + C129 ) ) <= ( dim C127 ) & ( ( dim C127 ) + ( ( dim ( C128 /\ C129 ) ) - ( dim C127 ) ) ) = ( dim ( C128 /\ C129 ) )) by L262;
L535: ( ( ( dim C128 ) + ( dim C129 ) ) - ( dim C127 ) ) = ( ( ( dim ( C128 + C129 ) ) + ( dim ( C128 /\ C129 ) ) ) - ( dim C127 ) ) by L375
.= ( ( dim ( C128 + C129 ) ) + ( ( dim ( C128 /\ C129 ) ) - ( dim C127 ) ) );
thus L536: thesis by L535 , L534 , XREAL_1:6;
end;
theorem
L537: (for B86 being  finite-dimensional RealUnitarySpace holds (for B87 , B88 being (Subspace of B86) holds (B86 is_the_direct_sum_of B87 , B88 implies ( dim B86 ) = ( ( dim B87 ) + ( dim B88 ) ))))
proof
let C130 being  finite-dimensional RealUnitarySpace;
let C131 , C132 being (Subspace of C130);
assume L538: C130 is_the_direct_sum_of C131 , C132;
L539: ( the UNITSTR of C130 ) = ( C131 + C132 ) by L538 , RUSUB_2:def 4;
L540: ( C131 /\ C132 ) = ( (0). C130 ) by L538 , RUSUB_2:def 4;
L541: ( (Omega). ( C131 /\ C132 ) ) = ( (0). C130 ) by L540 , RUSUB_1:def 3
.= ( (0). ( C131 /\ C132 ) ) by RUSUB_1:30;
L542: ( dim ( C131 /\ C132 ) ) = ( 0 ) by L541 , L304;
L543: ( ( dim C131 ) + ( dim C132 ) ) = ( ( dim ( C131 + C132 ) ) + ( 0 ) ) by L542 , L375
.= ( dim ( (Omega). C130 ) ) by L539 , RUSUB_1:def 3
.= ( dim C130 ) by L277;
thus L544: thesis by L543;
end;
begin
L545: (for B89 being  finite-dimensional RealUnitarySpace holds (for B90 being (Element of ( NAT )) holds (B90 <= ( dim B89 ) implies (ex B91 being  strict (Subspace of B89) st ( dim B91 ) = B90))))
proof
let C133 being  finite-dimensional RealUnitarySpace;
let C134 being (Element of ( NAT ));
consider C135 being  finite (Subset of C133) such that L546: C135 is (Basis of C133) by L130;
assume L547: C134 <= ( dim C133 );
L548: C134 <= ( card C135 ) by L547 , L546 , L251;
consider C136 being  finite (Subset of C135) such that L549: ( card C136 ) = C134 by L548 , FINSEQ_4:72;
reconsider D72 = C136 as (Subset of C133) by XBOOLE_1:1;
reconsider D73 = ( Lin D72 ) as  strict  finite-dimensional (Subspace of C133);
L550: C135 is  linearly-independent by L546 , RUSUB_3:def 2;
L551: ( dim D73 ) = C134 by L550 , L549 , L268 , RLVECT_3:5;
thus L552: thesis by L551;
end;
theorem
L553: (for B92 being  finite-dimensional RealUnitarySpace holds (for B93 being (Subspace of B92) holds (for B94 being (Element of ( NAT )) holds (B94 <= ( dim B92 ) iff (ex B95 being  strict (Subspace of B92) st ( dim B95 ) = B94))))) by L545 , L262;
definition
let C137 being  finite-dimensional RealUnitarySpace;
let C138 being (Element of ( NAT ));
func C138 Subspaces_of C137 -> set means 
:L554: (for B96 being set holds (B96 in it iff (ex B97 being  strict (Subspace of C137) st (B97 = B96 & ( dim B97 ) = C138))));
existence
proof
set D74 = { ( Lin B98 ) where B98 is (Subset of C137) : (B98 is  linearly-independent & ( card B98 ) = C138) };
take D74;
L555: (for B99 being set holds (B99 in D74 iff (ex B100 being  strict (Subspace of C137) st (B100 = B99 & ( dim B100 ) = C138))))
proof
let C139 being set;
thus L556:now
assume L557: C139 in D74;
L558: (ex B101 being (Subset of C137) st (C139 = ( Lin B101 ) & B101 is  linearly-independent & ( card B101 ) = C138)) by L557;
reconsider D75 = C139 as  strict (Subspace of C137) by L558;
L559: ( dim D75 ) = C138 by L558 , L268;
thus L560: (ex B102 being  strict (Subspace of C137) st (B102 = C139 & ( dim B102 ) = C138)) by L559;
end;
given C140 being  strict (Subspace of C137) such that
L561: C140 = C139
and
L562: ( dim C140 ) = C138;

consider C141 being  finite (Subset of C140) such that L563: C141 is (Basis of C140) by L130;
reconsider D76 = C141 as (Subset of C140);
L564: D76 is  linearly-independent by L563 , RUSUB_3:def 2;
reconsider D77 = D76 as  linearly-independent (Subset of C137) by L564 , RUSUB_3:22;
L565: C139 = ( Lin D76 ) by L561 , L563 , RUSUB_3:def 2
.= ( Lin D77 ) by RUSUB_3:28;
L566: ( card D77 ) = C138 by L565 , L561 , L562 , L268;
thus L567: thesis by L566 , L565;
end;
thus L568: thesis by L555;
end;
uniqueness
proof
defpred S3[ set ] means (ex B103 being  strict (Subspace of C137) st (B103 = $1 & ( dim B103 ) = C138));
L569: (for B104 , B105 being set holds (((for B106 being set holds (B106 in B104 iff S3[ B106 ])) & (for B107 being set holds (B107 in B105 iff S3[ B107 ]))) implies B104 = B105)) from XBOOLE_0:sch 3;
thus L570: thesis by L569;
end;
end;
theorem
L572: (for B108 being  finite-dimensional RealUnitarySpace holds (for B109 being (Element of ( NAT )) holds (B109 <= ( dim B108 ) implies ( B109 Subspaces_of B108 ) is non  empty)))
proof
let C142 being  finite-dimensional RealUnitarySpace;
let C143 being (Element of ( NAT ));
assume L573: C143 <= ( dim C142 );
L574: (ex B110 being  strict (Subspace of C142) st ( dim B110 ) = C143) by L573 , L545;
thus L575: thesis by L574 , L554;
end;
theorem
L576: (for B111 being  finite-dimensional RealUnitarySpace holds (for B112 being (Element of ( NAT )) holds (( dim B111 ) < B112 implies ( B112 Subspaces_of B111 ) = ( {} ))))
proof
let C144 being  finite-dimensional RealUnitarySpace;
let C145 being (Element of ( NAT ));
assume that
L577: ( dim C144 ) < C145
and
L578: ( C145 Subspaces_of C144 ) <> ( {} );
consider C146 being set such that L579: C146 in ( C145 Subspaces_of C144 ) by L578 , XBOOLE_0:def 1;
L580: (ex B113 being  strict (Subspace of C144) st (B113 = C146 & ( dim B113 ) = C145)) by L579 , L554;
thus L581: contradiction by L580 , L577 , L262;
end;
theorem
L582: (for B114 being  finite-dimensional RealUnitarySpace holds (for B115 being (Subspace of B114) holds (for B116 being (Element of ( NAT )) holds ( B116 Subspaces_of B115 ) c= ( B116 Subspaces_of B114 ))))
proof
let C147 being  finite-dimensional RealUnitarySpace;
let C148 being (Subspace of C147);
let C149 being (Element of ( NAT ));
let C150 being set;
assume L583: C150 in ( C149 Subspaces_of C148 );
consider C151 being  strict (Subspace of C148) such that L584: C151 = C150 and L585: ( dim C151 ) = C149 by L583 , L554;
reconsider D78 = C151 as  strict (Subspace of C147) by RUSUB_1:21;
L586: D78 in ( C149 Subspaces_of C147 ) by L585 , L554;
thus L587: thesis by L586 , L584;
end;
begin
definition
let C152 being non  empty RLSStruct;
let C153 being (Subset of C152);
attr C153 is  Affine
means
:L588: (for B117 , B118 being (VECTOR of C152) holds (for B119 being Real holds ((B117 in C153 & B118 in C153) implies ( ( ( 1 - B119 ) * B117 ) + ( B119 * B118 ) ) in C153)));
end;
theorem
L590: (for B120 being non  empty RLSStruct holds (( [#] B120 ) is  Affine & ( {} B120 ) is  Affine))
proof
let C154 being non  empty RLSStruct;
L591: (for B121 , B122 being (VECTOR of C154) holds (for B123 being Real holds ((B121 in ( [#] C154 ) & B122 in ( [#] C154 )) implies ( ( ( 1 - B123 ) * B121 ) + ( B123 * B122 ) ) in ( [#] C154 ))));
thus L592: ( [#] C154 ) is  Affine by L591 , L588;
L593: (for B124 , B125 being (VECTOR of C154) holds (for B126 being Real holds ((B124 in ( {} C154 ) & B125 in ( {} C154 )) implies ( ( ( 1 - B126 ) * B124 ) + ( B126 * B125 ) ) in ( {} C154 ))));
thus L594: thesis by L593 , L588;
end;
theorem
L595: (for B127 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct holds (for B128 being (VECTOR of B127) holds { B128 } is  Affine))
proof
let C155 being  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct;
let C156 being (VECTOR of C155);
L596: (for B129 , B130 being (VECTOR of C155) holds (for B131 being Real holds ((B129 in { C156 } & B130 in { C156 }) implies ( ( ( 1 - B131 ) * B129 ) + ( B131 * B130 ) ) in { C156 })))
proof
let C157 , C158 being (VECTOR of C155);
let C159 being Real;
assume L597: (C157 in { C156 } & C158 in { C156 });
L598: (C157 = C156 & C158 = C156) by L597 , TARSKI:def 1;
L599: ( ( ( 1 - C159 ) * C157 ) + ( C159 * C158 ) ) = ( ( ( 1 - C159 ) + C159 ) * C156 ) by L598 , RLVECT_1:def 6
.= C156 by RLVECT_1:def 8;
thus L600: thesis by L599 , TARSKI:def 1;
end;
thus L601: thesis by L596 , L588;
end;
registration
let C160 being non  empty RLSStruct;
cluster non  empty  Affine for (Subset of C160);
existence
proof
take ( [#] C160 );
thus L602: thesis by L590;
end;
cluster  empty  Affine for (Subset of C160);
existence
proof
take ( {} C160 );
thus L603: thesis by L590;
end;
end;
definition
let C161 being RealLinearSpace;
let C162 being (Subspace of C161);
func Up C162 -> non  empty (Subset of C161) equals 
(the carrier of C162);
coherence by RLSUB_1:def 2;
end;
definition
let C163 being RealUnitarySpace;
let C164 being (Subspace of C163);
func Up C164 -> non  empty (Subset of C163) equals 
(the carrier of C164);
coherence by RUSUB_1:def 1;
end;
theorem
L607: (for B132 being RealLinearSpace holds (for B133 being (Subspace of B132) holds (( Up B133 ) is  Affine & ( 0. B132 ) in (the carrier of B133))))
proof
let C165 being RealLinearSpace;
let C166 being (Subspace of C165);
L608: (for B134 , B135 being (VECTOR of C165) holds (for B136 being Real holds ((B134 in ( Up C166 ) & B135 in ( Up C166 )) implies ( ( ( 1 - B136 ) * B134 ) + ( B136 * B135 ) ) in ( Up C166 ))))
proof
let C167 , C168 being (VECTOR of C165);
let C169 being Real;
assume that
L609: C167 in ( Up C166 )
and
L610: C168 in ( Up C166 );
L611: C168 in C166 by L610 , STRUCT_0:def 5;
L612: ( C169 * C168 ) in C166 by L611 , RLSUB_1:21;
L613: C167 in C166 by L609 , STRUCT_0:def 5;
L614: ( ( 1 - C169 ) * C167 ) in C166 by L613 , RLSUB_1:21;
L615: ( ( ( 1 - C169 ) * C167 ) + ( C169 * C168 ) ) in C166 by L614 , L612 , RLSUB_1:20;
thus L616: thesis by L615 , STRUCT_0:def 5;
end;
thus L617: ( Up C166 ) is  Affine by L608 , L588;
L618: ( 0. C165 ) in C166 by RLSUB_1:17;
thus L619: thesis by L618 , STRUCT_0:def 5;
end;
theorem
L620: (for B137 being RealLinearSpace holds (for B138 being  Affine (Subset of B137) holds (( 0. B137 ) in B138 implies (for B139 being (VECTOR of B137) holds (for B140 being Real holds (B139 in B138 implies ( B140 * B139 ) in B138))))))
proof
let C170 being RealLinearSpace;
let C171 being  Affine (Subset of C170);
assume L621: ( 0. C170 ) in C171;
L622: (for B141 being (VECTOR of C170) holds (for B142 being Real holds (B141 in C171 implies ( B142 * B141 ) in C171)))
proof
let C172 being (VECTOR of C170);
let C173 being Real;
assume L623: C172 in C171;
L624: ( ( ( 1 - C173 ) * ( 0. C170 ) ) + ( C173 * C172 ) ) in C171 by L623 , L621 , L588;
L625: ( ( 0. C170 ) + ( C173 * C172 ) ) in C171 by L624 , RLVECT_1:10;
thus L626: thesis by L625 , RLVECT_1:4;
end;
thus L627: thesis by L622;
end;
definition
let C174 being non  empty RLSStruct;
let C175 being non  empty (Subset of C174);
attr C175 is  Subspace-like
means
:L628: (( 0. C174 ) in C175 & (for B143 , B144 being (Element of C174) holds (for B145 being Real holds ((B143 in C175 & B144 in C175) implies (( B143 + B144 ) in C175 & ( B145 * B143 ) in C175)))));
end;
theorem
L630: (for B146 being RealLinearSpace holds (for B147 being non  empty  Affine (Subset of B146) holds (( 0. B146 ) in B147 implies (B147 is  Subspace-like & B147 = (the carrier of ( Lin B147 ))))))
proof
let C176 being RealLinearSpace;
let C177 being non  empty  Affine (Subset of C176);
assume L631: ( 0. C176 ) in C177;
L632: (for B148 , B149 being (Element of C176) holds (for B150 being Real holds ((B148 in C177 & B149 in C177) implies (( B148 + B149 ) in C177 & ( B150 * B148 ) in C177))))
proof
let C178 , C179 being (Element of C176);
let C180 being Real;
assume that
L633: C178 in C177
and
L634: C179 in C177;
reconsider D79 = C178 , D80 = C179 as (VECTOR of C176);
L635: ( 2 * ( ( ( 1 - ( 1 / 2 ) ) * D79 ) + ( ( 1 / 2 ) * D80 ) ) ) = ( ( 2 * ( ( 1 - ( 1 / 2 ) ) * D79 ) ) + ( 2 * ( ( 1 / 2 ) * D80 ) ) ) by RLVECT_1:def 5
.= ( ( ( 2 * ( 1 - ( 1 / 2 ) ) ) * D79 ) + ( 2 * ( ( 1 / 2 ) * D80 ) ) ) by RLVECT_1:def 7
.= ( ( ( 2 - 1 ) * D79 ) + ( ( 2 * ( 1 / 2 ) ) * D80 ) ) by RLVECT_1:def 7
.= ( D79 + ( 1 * D80 ) ) by RLVECT_1:def 8
.= ( D79 + D80 ) by RLVECT_1:def 8;
L636: ( ( ( 1 - ( 1 / 2 ) ) * D79 ) + ( ( 1 / 2 ) * D80 ) ) in C177 by L633 , L634 , L588;
thus L637: thesis by L636 , L631 , L633 , L635 , L620;
end;
thus L638: C177 is  Subspace-like by L632 , L631 , L628;
L639: (for B151 being set holds (B151 in (the carrier of ( Lin C177 )) implies B151 in C177))
proof
let C181 being set;
assume L640: C181 in (the carrier of ( Lin C177 ));
L641: C181 in ( Lin C177 ) by L640 , STRUCT_0:def 5;
L642: (ex B152 being (Linear_Combination of C177) st C181 = ( Sum B152 )) by L641 , RLVECT_3:14;
L643: ((for B153 , B154 being (VECTOR of C176) holds ((B153 in C177 & B154 in C177) implies ( B153 + B154 ) in C177)) & (for B155 being Real holds (for B156 being (VECTOR of C176) holds (B156 in C177 implies ( B155 * B156 ) in C177)))) by L632;
L644: C177 is  linearly-closed by L643 , RLSUB_1:def 1;
thus L645: thesis by L644 , L642 , RLVECT_2:29;
end;
L646: (the carrier of ( Lin C177 )) c= C177 by L639 , TARSKI:def 3;
L647: (for B157 being set holds (B157 in C177 implies B157 in (the carrier of ( Lin C177 ))))
proof
let C182 being set;
assume L648: C182 in C177;
L649: C182 in ( Lin C177 ) by L648 , RLVECT_3:15;
thus L650: thesis by L649 , STRUCT_0:def 5;
end;
L651: C177 c= (the carrier of ( Lin C177 )) by L647 , TARSKI:def 3;
thus L652: thesis by L651 , L646 , XBOOLE_0:def 10;
end;
theorem
L653: (for B158 being RealLinearSpace holds (for B159 being (Subspace of B158) holds ( Up B159 ) is  Subspace-like))
proof
let C183 being RealLinearSpace;
let C184 being (Subspace of C183);
L654: ( 0. C183 ) in C184 by RLSUB_1:17;
thus L655: ( 0. C183 ) in ( Up C184 ) by L654 , STRUCT_0:def 5;
thus L656: (for B160 , B161 being (Element of C183) holds (for B162 being Real holds ((B160 in ( Up C184 ) & B161 in ( Up C184 )) implies (( B160 + B161 ) in ( Up C184 ) & ( B162 * B160 ) in ( Up C184 )))))
proof
let C185 , C186 being (Element of C183);
let C187 being Real;
assume that
L657: C185 in ( Up C184 )
and
L658: C186 in ( Up C184 );
reconsider D81 = C185 , D82 = C186 as (Element of C183);
L659: D81 in C184 by L657 , STRUCT_0:def 5;
L660: ( C187 * D81 ) in C184 by L659 , RLSUB_1:21;
L661: D82 in C184 by L658 , STRUCT_0:def 5;
L662: ( D81 + D82 ) in C184 by L661 , L659 , RLSUB_1:20;
thus L663: thesis by L662 , L660 , STRUCT_0:def 5;
end;

end;
theorem
L657: (for B163 being RealUnitarySpace holds (for B164 being non  empty  Affine (Subset of B163) holds (( 0. B163 ) in B164 implies B164 = (the carrier of ( Lin B164 )))))
proof
let C188 being RealUnitarySpace;
let C189 being non  empty  Affine (Subset of C188);
assume L658: ( 0. C188 ) in C189;
L659: C189 is  Subspace-like by L658 , L630;
L660: (for B165 being set holds (B165 in (the carrier of ( Lin C189 )) implies B165 in C189))
proof
let C190 being set;
assume L661: C190 in (the carrier of ( Lin C189 ));
L662: C190 in ( Lin C189 ) by L661 , STRUCT_0:def 5;
L663: (ex B166 being (Linear_Combination of C189) st C190 = ( Sum B166 )) by L662 , RUSUB_3:1;
L664: ((for B167 , B168 being (VECTOR of C188) holds ((B167 in C189 & B168 in C189) implies ( B167 + B168 ) in C189)) & (for B169 being Real holds (for B170 being (VECTOR of C188) holds (B170 in C189 implies ( B169 * B170 ) in C189)))) by L659 , L628;
L665: C189 is  linearly-closed by L664 , RLSUB_1:def 1;
thus L666: thesis by L665 , L663 , RLVECT_2:29;
end;
L667: (the carrier of ( Lin C189 )) c= C189 by L660 , TARSKI:def 3;
L668: (for B171 being set holds (B171 in C189 implies B171 in (the carrier of ( Lin C189 ))))
proof
let C191 being set;
assume L669: C191 in C189;
L670: C191 in ( Lin C189 ) by L669 , RUSUB_3:2;
thus L671: thesis by L670 , STRUCT_0:def 5;
end;
L672: C189 c= (the carrier of ( Lin C189 )) by L668 , TARSKI:def 3;
thus L673: thesis by L672 , L667 , XBOOLE_0:def 10;
end;
theorem
L674: (for B172 being RealUnitarySpace holds (for B173 being (Subspace of B172) holds ( Up B173 ) is  Subspace-like))
proof
let C192 being RealUnitarySpace;
let C193 being (Subspace of C192);
L675: ( 0. C192 ) in C193 by RUSUB_1:11;
thus L676: ( 0. C192 ) in ( Up C193 ) by L675 , STRUCT_0:def 5;
thus L677: (for B174 , B175 being (Element of C192) holds (for B176 being Real holds ((B174 in ( Up C193 ) & B175 in ( Up C193 )) implies (( B174 + B175 ) in ( Up C193 ) & ( B176 * B174 ) in ( Up C193 )))))
proof
let C194 , C195 being (Element of C192);
let C196 being Real;
assume that
L678: C194 in ( Up C193 )
and
L679: C195 in ( Up C193 );
reconsider D83 = C194 , D84 = C195 as (Element of C192);
L680: D83 in C193 by L678 , STRUCT_0:def 5;
L681: ( C196 * D83 ) in C193 by L680 , RUSUB_1:15;
L682: D84 in C193 by L679 , STRUCT_0:def 5;
L683: ( D83 + D84 ) in C193 by L682 , L680 , RUSUB_1:14;
thus L684: thesis by L683 , L681 , STRUCT_0:def 5;
end;

end;
definition
let C197 being non  empty addLoopStr;
let C198 being (Subset of C197);
let C199 being (Element of C197);
func C199 + C198 -> (Subset of C197) equals 
{ ( C199 + B177 ) where B177 is (Element of C197) : B177 in C198 };
coherence
proof
set D85 = { ( C199 + B178 ) where B178 is (Element of C197) : B178 in C198 };
defpred S4[ set ] means (ex B179 being (Element of C197) st ($1 = ( C199 + B179 ) & B179 in C198));
consider C200 being set such that L678: (for B180 being set holds (B180 in C200 iff (B180 in (the carrier of C197) & S4[ B180 ]))) from XBOOLE_0:sch 1;
L679: C200 c= (the carrier of C197)
proof
let C201 being set;
assume L680: C201 in C200;
thus L681: thesis by L680 , L678;
end;
reconsider D86 = C200 as (Subset of C197) by L679;
reconsider D87 = D86 as (Subset of C197);
L682: D85 c= D87
proof
let C202 being set;
assume L683: C202 in D85;
L684: (ex B181 being (Element of C197) st (C202 = ( C199 + B181 ) & B181 in C198)) by L683;
thus L685: thesis by L684 , L678;
end;
L686: D87 c= D85
proof
let C203 being set;
assume L687: C203 in D87;
L688: (ex B182 being (Element of C197) st (C203 = ( C199 + B182 ) & B182 in C198)) by L687 , L678;
thus L689: thesis by L688;
end;
thus L690: thesis by L686 , L682 , XBOOLE_0:def 10;
end;
end;
theorem
L692: (for B183 being RealLinearSpace holds (for B184 being  strict (Subspace of B183) holds (for B185 being (Subset of B183) holds (for B186 being (VECTOR of B183) holds (( Up B184 ) = B185 implies ( B186 + B184 ) = ( B186 + B185 ))))))
proof
let C204 being RealLinearSpace;
let C205 being  strict (Subspace of C204);
let C206 being (Subset of C204);
let C207 being (VECTOR of C204);
assume L693: ( Up C205 ) = C206;
L694: (for B187 being set holds (B187 in ( C207 + C206 ) implies B187 in ( C207 + C205 )))
proof
let C208 being set;
assume L695: C208 in ( C207 + C206 );
consider C209 being (Element of C204) such that L696: C208 = ( C207 + C209 ) and L697: C209 in C206 by L695;
L698: C209 in C205 by L693 , L697 , STRUCT_0:def 5;
L699: C208 in { ( C207 + B188 ) where B188 is (VECTOR of C204) : B188 in C205 } by L698 , L696;
thus L700: thesis by L699 , RLSUB_1:def 5;
end;
L701: ( C207 + C206 ) c= ( C207 + C205 ) by L694 , TARSKI:def 3;
L702: (for B189 being set holds (B189 in ( C207 + C205 ) implies B189 in ( C207 + C206 )))
proof
let C210 being set;
assume L703: C210 in ( C207 + C205 );
L704: C210 in { ( C207 + B190 ) where B190 is (VECTOR of C204) : B190 in C205 } by L703 , RLSUB_1:def 5;
consider C211 being (VECTOR of C204) such that L705: C210 = ( C207 + C211 ) and L706: C211 in C205 by L704;
L707: C211 in C206 by L693 , L706 , STRUCT_0:def 5;
thus L708: thesis by L707 , L705;
end;
L709: ( C207 + C205 ) c= ( C207 + C206 ) by L702 , TARSKI:def 3;
thus L710: thesis by L709 , L701 , XBOOLE_0:def 10;
end;
theorem
L711: (for B191 being  Abelian  add-associative  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct holds (for B192 being  Affine (Subset of B191) holds (for B193 being (VECTOR of B191) holds ( B193 + B192 ) is  Affine)))
proof
let C212 being  Abelian  add-associative  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct;
let C213 being  Affine (Subset of C212);
let C214 being (VECTOR of C212);
L712: (for B194 , B195 being (VECTOR of C212) holds (for B196 being Real holds ((B194 in ( C214 + C213 ) & B195 in ( C214 + C213 )) implies ( ( ( 1 - B196 ) * B194 ) + ( B196 * B195 ) ) in ( C214 + C213 ))))
proof
let C215 , C216 being (VECTOR of C212);
let C217 being Real;
assume that
L713: C215 in ( C214 + C213 )
and
L714: C216 in ( C214 + C213 );
consider C218 being (Element of C212) such that L715: C215 = ( C214 + C218 ) and L716: C218 in C213 by L713;
consider C219 being (Element of C212) such that L717: C216 = ( C214 + C219 ) and L718: C219 in C213 by L714;
L719: ( ( ( 1 - C217 ) * C215 ) + ( C217 * C216 ) ) = ( ( ( ( 1 - C217 ) * C214 ) + ( ( 1 - C217 ) * C218 ) ) + ( C217 * ( C214 + C219 ) ) ) by L715 , L717 , RLVECT_1:def 5
.= ( ( ( ( 1 - C217 ) * C214 ) + ( ( 1 - C217 ) * C218 ) ) + ( ( C217 * C214 ) + ( C217 * C219 ) ) ) by RLVECT_1:def 5
.= ( ( ( ( ( 1 - C217 ) * C214 ) + ( ( 1 - C217 ) * C218 ) ) + ( C217 * C214 ) ) + ( C217 * C219 ) ) by RLVECT_1:def 3
.= ( ( ( ( 1 - C217 ) * C218 ) + ( ( ( 1 - C217 ) * C214 ) + ( C217 * C214 ) ) ) + ( C217 * C219 ) ) by RLVECT_1:def 3
.= ( ( ( ( 1 - C217 ) * C218 ) + ( ( ( 1 - C217 ) + C217 ) * C214 ) ) + ( C217 * C219 ) ) by RLVECT_1:def 6
.= ( ( ( ( 1 - C217 ) * C218 ) + C214 ) + ( C217 * C219 ) ) by RLVECT_1:def 8
.= ( C214 + ( ( ( 1 - C217 ) * C218 ) + ( C217 * C219 ) ) ) by RLVECT_1:def 3;
L720: ( ( ( 1 - C217 ) * C218 ) + ( C217 * C219 ) ) in C213 by L716 , L718 , L588;
thus L721: thesis by L720 , L719;
end;
thus L722: thesis by L712 , L588;
end;
theorem
L723: (for B197 being RealUnitarySpace holds (for B198 being  strict (Subspace of B197) holds (for B199 being (Subset of B197) holds (for B200 being (VECTOR of B197) holds (( Up B198 ) = B199 implies ( B200 + B198 ) = ( B200 + B199 ))))))
proof
let C220 being RealUnitarySpace;
let C221 being  strict (Subspace of C220);
let C222 being (Subset of C220);
let C223 being (VECTOR of C220);
assume L724: ( Up C221 ) = C222;
L725: (for B201 being set holds (B201 in ( C223 + C222 ) implies B201 in ( C223 + C221 )))
proof
let C224 being set;
assume L726: C224 in ( C223 + C222 );
consider C225 being (Element of C220) such that L727: C224 = ( C223 + C225 ) and L728: C225 in C222 by L726;
L729: C225 in C221 by L724 , L728 , STRUCT_0:def 5;
L730: C224 in { ( C223 + B202 ) where B202 is (VECTOR of C220) : B202 in C221 } by L729 , L727;
thus L731: thesis by L730 , RUSUB_1:def 4;
end;
L732: ( C223 + C222 ) c= ( C223 + C221 ) by L725 , TARSKI:def 3;
L733: (for B203 being set holds (B203 in ( C223 + C221 ) implies B203 in ( C223 + C222 )))
proof
let C226 being set;
assume L734: C226 in ( C223 + C221 );
L735: C226 in { ( C223 + B204 ) where B204 is (VECTOR of C220) : B204 in C221 } by L734 , RUSUB_1:def 4;
consider C227 being (VECTOR of C220) such that L736: C226 = ( C223 + C227 ) and L737: C227 in C221 by L735;
L738: C227 in C222 by L724 , L737 , STRUCT_0:def 5;
thus L739: thesis by L738 , L736;
end;
L740: ( C223 + C221 ) c= ( C223 + C222 ) by L733 , TARSKI:def 3;
thus L741: thesis by L740 , L732 , XBOOLE_0:def 10;
end;
definition
let C228 being non  empty addLoopStr;
let C229 , C230 being (Subset of C228);
func C229 + C230 -> (Subset of C228) equals 
{ ( B205 + B206 ) where B205 , B206 is (Element of C228) : (B205 in C229 & B206 in C230) };
coherence
proof
defpred S5[ set , set ] means ($1 in C229 & $2 in C230);
deffunc H1((Element of C228) , (Element of C228)) = ( $1 + $2 );
L742: { H1(B207 , B208) where B207 , B208 is (Element of C228) : S5[ B207 , B208 ] } is (Subset of C228) from DOMAIN_1:sch 9;
thus L743: thesis by L742;
end;
end;
definition
let C231 being  Abelian non  empty addLoopStr;
let C232 , C233 being (Subset of C231);
redefine func C232 + C233;

commutativity
proof
let C234 , C235 being (Subset of C231);
L745: (for B209 being set holds (B209 in ( C234 + C235 ) implies B209 in ( C235 + C234 )))
proof
let C236 being set;
assume L746: C236 in ( C234 + C235 );
L747: (ex B210 , B211 being (Element of C231) st (C236 = ( B210 + B211 ) & B210 in C234 & B211 in C235)) by L746;
thus L748: thesis by L747;
end;
L749: ( C234 + C235 ) c= ( C235 + C234 ) by L745 , TARSKI:def 3;
L750: (for B212 being set holds (B212 in ( C235 + C234 ) implies B212 in ( C234 + C235 )))
proof
let C237 being set;
assume L751: C237 in ( C235 + C234 );
L752: (ex B213 , B214 being (Element of C231) st (C237 = ( B213 + B214 ) & B213 in C235 & B214 in C234)) by L751;
thus L753: thesis by L752;
end;
L754: ( C235 + C234 ) c= ( C234 + C235 ) by L750 , TARSKI:def 3;
thus L755: thesis by L754 , L749 , XBOOLE_0:def 10;
end;
end;
theorem
L757: (for B215 being non  empty addLoopStr holds (for B216 being (Subset of B215) holds (for B217 being (Element of B215) holds ( { B217 } + B216 ) = ( B217 + B216 ))))
proof
let C238 being non  empty addLoopStr;
let C239 being (Subset of C238);
let C240 being (Element of C238);
L758: (for B218 being set holds (B218 in ( C240 + C239 ) implies B218 in ( { C240 } + C239 )))
proof
let C241 being set;
assume L759: C241 in ( C240 + C239 );
L760: (ex B219 being (Element of C238) st (C241 = ( C240 + B219 ) & B219 in C239)) by L759;
L761: C240 in { C240 } by TARSKI:def 1;
thus L762: thesis by L761 , L760;
end;
L763: ( C240 + C239 ) c= ( { C240 } + C239 ) by L758 , TARSKI:def 3;
L764: (for B220 being set holds (B220 in ( { C240 } + C239 ) implies B220 in ( C240 + C239 )))
proof
let C242 being set;
assume L765: C242 in ( { C240 } + C239 );
consider C243 , C244 being (Element of C238) such that L766: C242 = ( C243 + C244 ) and L767: C243 in { C240 } and L768: C244 in C239 by L765;
L769: C243 = C240 by L767 , TARSKI:def 1;
thus L770: thesis by L769 , L766 , L768;
end;
L771: ( { C240 } + C239 ) c= ( C240 + C239 ) by L764 , TARSKI:def 3;
thus L772: thesis by L771 , L763 , XBOOLE_0:def 10;
end;
theorem
L773: (for B221 being  Abelian  add-associative  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct holds (for B222 being  Affine (Subset of B221) holds (for B223 being (VECTOR of B221) holds ( { B223 } + B222 ) is  Affine)))
proof
let C245 being  Abelian  add-associative  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct;
let C246 being  Affine (Subset of C245);
let C247 being (VECTOR of C245);
L774: ( { C247 } + C246 ) = ( C247 + C246 ) by L757;
thus L775: thesis by L774 , L711;
end;
theorem
L776: (for B224 being non  empty RLSStruct holds (for B225 , B226 being  Affine (Subset of B224) holds ( B225 /\ B226 ) is  Affine))
proof
let C248 being non  empty RLSStruct;
let C249 , C250 being  Affine (Subset of C248);
L777: (for B227 , B228 being (VECTOR of C248) holds (for B229 being Real holds ((B227 in ( C249 /\ C250 ) & B228 in ( C249 /\ C250 )) implies ( ( ( 1 - B229 ) * B227 ) + ( B229 * B228 ) ) in ( C249 /\ C250 ))))
proof
let C251 , C252 being (VECTOR of C248);
let C253 being Real;
assume L778: (C251 in ( C249 /\ C250 ) & C252 in ( C249 /\ C250 ));
L779: (C251 in C250 & C252 in C250) by L778 , XBOOLE_0:def 4;
L780: ( ( ( 1 - C253 ) * C251 ) + ( C253 * C252 ) ) in C250 by L779 , L588;
L781: (C251 in C249 & C252 in C249) by L778 , XBOOLE_0:def 4;
L782: ( ( ( 1 - C253 ) * C251 ) + ( C253 * C252 ) ) in C249 by L781 , L588;
thus L783: thesis by L782 , L780 , XBOOLE_0:def 4;
end;
thus L784: thesis by L777 , L588;
end;
theorem
L785: (for B230 being  Abelian  add-associative  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct holds (for B231 , B232 being  Affine (Subset of B230) holds ( B231 + B232 ) is  Affine))
proof
let C254 being  Abelian  add-associative  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty RLSStruct;
let C255 , C256 being  Affine (Subset of C254);
L786: (for B233 , B234 being (VECTOR of C254) holds (for B235 being Real holds ((B233 in ( C255 + C256 ) & B234 in ( C255 + C256 )) implies ( ( ( 1 - B235 ) * B233 ) + ( B235 * B234 ) ) in ( C255 + C256 ))))
proof
let C257 , C258 being (VECTOR of C254);
let C259 being Real;
assume that
L787: C257 in ( C255 + C256 )
and
L788: C258 in ( C255 + C256 );
consider C260 , C261 being (Element of C254) such that L789: C257 = ( C260 + C261 ) and L790: (C260 in C255 & C261 in C256) by L787;
consider C262 , C263 being (Element of C254) such that L791: C258 = ( C262 + C263 ) and L792: (C262 in C255 & C263 in C256) by L788;
L793: ( ( ( 1 - C259 ) * C257 ) + ( C259 * C258 ) ) = ( ( ( ( 1 - C259 ) * C260 ) + ( ( 1 - C259 ) * C261 ) ) + ( C259 * ( C262 + C263 ) ) ) by L789 , L791 , RLVECT_1:def 5
.= ( ( ( ( 1 - C259 ) * C260 ) + ( ( 1 - C259 ) * C261 ) ) + ( ( C259 * C262 ) + ( C259 * C263 ) ) ) by RLVECT_1:def 5
.= ( ( ( ( ( 1 - C259 ) * C260 ) + ( ( 1 - C259 ) * C261 ) ) + ( C259 * C262 ) ) + ( C259 * C263 ) ) by RLVECT_1:def 3
.= ( ( ( ( 1 - C259 ) * C261 ) + ( ( ( 1 - C259 ) * C260 ) + ( C259 * C262 ) ) ) + ( C259 * C263 ) ) by RLVECT_1:def 3
.= ( ( ( ( 1 - C259 ) * C260 ) + ( C259 * C262 ) ) + ( ( ( 1 - C259 ) * C261 ) + ( C259 * C263 ) ) ) by RLVECT_1:def 3;
L794: (( ( ( 1 - C259 ) * C260 ) + ( C259 * C262 ) ) in C255 & ( ( ( 1 - C259 ) * C261 ) + ( C259 * C263 ) ) in C256) by L790 , L792 , L588;
thus L795: thesis by L794 , L793;
end;
thus L796: thesis by L786 , L588;
end;
