:: Eigenvalues of a Linear Transformation
::  by Karol P\c{a}k
::
:: Received July 11, 2008
:: Copyright (c) 2008-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, NAT_1, VECTSP_1, SUBSET_1, MATRIX_1, FINSEQ_2, ZFMISC_1,
      RELAT_1, TARSKI, CARD_1, ARYTM_3, FUNCT_1, FREEALG, FINSET_1, FINSEQ_1,
      MESFUNC1, GROUP_1, SUPINF_2, LAPLACE, XBOOLE_0, MATRIX_2, ARYTM_1,
      XXREAL_0, POLYNOM1, POLYNOM2, MATRIX_3, CARD_3, AFINSQ_1, ORDINAL4,
      POLYNOM3, STRUCT_0, PARTFUN1, RANKNULL, RLSUB_1, RLVECT_5, PRVECT_1,
      RLVECT_3, ALGSTR_0, VECTSP10, MATRLIN, MATRLIN2, POLYNOM5, NEWTON,
      MONOID_0, BINOP_1, RLVECT_1, LATTICES, RLSUB_2, FINSEQ_4, MCART_1,
      RLVECT_2, VALUED_1, FUNCT_2, VECTSP11, MSSUBFAM, UNIALG_1;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, NUMBERS, CARD_1, XCMPLX_0,
      ALGSTR_0, XXREAL_0, ORDINAL1, NAT_1, FINSET_1, RELAT_1, FUNCT_1,
      PARTFUN1, FUNCT_2, FINSEQ_1, BINOP_1, STRUCT_0, RLVECT_1, GROUP_1,
      VECTSP_1, FINSEQ_2, MATRIX_1, MATRIX_2, NAT_D, GROUP_4, MATRIX_3,
      DOMAIN_1, MEASURE6, PRVECT_1, VECTSP_4, VECTSP_5, VECTSP_6, VECTSP_7,
      VECTSP_9, FINSEQOP, MATRIX13, MATRLIN, LAPLACE, MOD_2, RANKNULL,
      POLYNOM3, MONOID_0, ALGSEQ_1, POLYNOM4, POLYNOM5, MATRLIN2;
 constructors FINSOP_1, GROUP_4, VECTSP_7, VECTSP_9, MATRIX13, REALSET1,
      LAPLACE, VECTSP_5, RANKNULL, MONOID_0, POLYNOM4, POLYNOM5, MATRLIN2,
      BINOP_2, RELSET_1;
 registrations XBOOLE_0, FUNCT_1, FINSET_1, STRUCT_0, VECTSP_1, FUNCT_2,
      ORDINAL1, XXREAL_0, NAT_1, FINSEQ_1, FINSEQ_2, SEQM_3, MATRIX13, XREAL_0,
      VECTSP_9, RANKNULL, POLYNOM3, POLYNOM5, MONOID_0, CARD_1, RELSET_1,
      MOD_2, GRCAT_1, PRVECT_1, MATRLIN2;
 requirements ARITHM, NUMERALS, REAL, BOOLE, SUBSET;
 definitions STRUCT_0, TARSKI, XBOOLE_0, RLVECT_1, FINSEQ_1, VECTSP_4, FVSUM_1,
      LAPLACE, MATRIX13, RANKNULL, VECTSP_6, MATRLIN2;
 theorems ZFMISC_1, RLVECT_1, MATRIX_1, MATRIX_3, VECTSP_1, NAT_1, FINSEQ_1,
      FINSEQ_3, FINSEQ_2, CARD_1, CARD_2, FINSEQOP, FINSOP_1, FUNCT_1, FUNCT_2,
      FVSUM_1, GROUP_1, LAPLACE, MATRIX13, MATRIXR2, MATRLIN, ORDINAL1,
      PARTFUN1, RELAT_1, STIRL2_1, STRUCT_0, TARSKI, VECTSP_4, VECTSP_5,
      VECTSP_6, VECTSP_7, VECTSP_9, VECTSP10, XBOOLE_0, XBOOLE_1, XREAL_1,
      XXREAL_0, MOD_2, RANKNULL, MONOID_0, GROUP_4, SYSREL, SUBSET_1, FINSEQ_5,
      ALGSEQ_1, POLYNOM4, POLYNOM5, HILBASIS, MATRIXJ1, MATRLIN2, VALUED_0,
      NAT_D, RLVECT_2;
 schemes NAT_1, FUNCT_2;

begin
theorem
L1: (for R3 being Nat holds (for R4 being Nat holds (for R8 being Field holds (for B1 , B2 being (Matrix of R8) holds (for B3 being (Element of ( R4 -tuples_on ( NAT ) )) holds (for B4 being (Element of ( R3 -tuples_on ( NAT ) )) holds ([: ( rng B3 ) , ( rng B4 ) :] c= ( Indices B1 ) implies ( Segm (( B1 + B2 ) , B3 , B4) ) = ( ( Segm (B1 , B3 , B4) ) + ( Segm (B2 , B3 , B4) ) ))))))))
proof
let R3 being Nat;
let R4 being Nat;
let R8 being Field;
let C1 , C2 being (Matrix of R8);
let C3 being (Element of ( R4 -tuples_on ( NAT ) ));
let C4 being (Element of ( R3 -tuples_on ( NAT ) ));
assume that
L2: [: ( rng C3 ) , ( rng C4 ) :] c= ( Indices C1 );
L3:
now
L4: ( Indices ( Segm (C1 , C3 , C4) ) ) = ( Indices ( Segm (C2 , C3 , C4) ) ) by MATRIX_1:26;
let R1 being Nat;
let R2 being Nat;
assume that
L5: [ R1 , R2 ] in ( Indices ( Segm (( C1 + C2 ) , C3 , C4) ) );
reconsider D1 = ( C3 . R1 ) , D2 = ( C4 . R2 ) as Nat by VALUED_0:12;
L6: ( Indices ( Segm (( C1 + C2 ) , C3 , C4) ) ) = ( Indices ( Segm (C1 , C3 , C4) ) ) by MATRIX_1:26;
L7: [ ( C3 . R1 ) , ( C4 . R2 ) ] in ( Indices C1 ) by L6 , L2 , L5 , MATRIX13:17;
thus L8: ( ( Segm (( C1 + C2 ) , C3 , C4) ) * (R1 , R2) ) = ( ( C1 + C2 ) * (D1 , D2) ) by L5 , MATRIX13:def 1
.= ( ( C1 * (D1 , D2) ) + ( C2 * (D1 , D2) ) ) by L7 , MATRIX_3:def 3
.= ( ( ( Segm (C1 , C3 , C4) ) * (R1 , R2) ) + ( C2 * (D1 , D2) ) ) by L5 , L6 , MATRIX13:def 1
.= ( ( ( Segm (C1 , C3 , C4) ) * (R1 , R2) ) + ( ( Segm (C2 , C3 , C4) ) * (R1 , R2) ) ) by L5 , L6 , L4 , MATRIX13:def 1
.= ( ( ( Segm (C1 , C3 , C4) ) + ( Segm (C2 , C3 , C4) ) ) * (R1 , R2) ) by L5 , L6 , MATRIX_3:def 3;
end;
thus L9: thesis by L3 , MATRIX_1:27;
end;
theorem
L10: (for R4 being Nat holds (for R8 being Field holds (for B5 being  without_zero  finite (Subset of ( NAT )) holds (B5 c= ( Seg R4 ) implies ( Segm (( 1. (R8 , R4) ) , B5 , B5) ) = ( 1. (R8 , ( card B5 )) )))))
proof
let R4 being Nat;
let R8 being Field;
let C5 being  without_zero  finite (Subset of ( NAT ));
assume that
L11: C5 c= ( Seg R4 );
set D3 = ( Segm (( 1. (R8 , R4) ) , C5 , C5) );
L12:
now
set D4 = ( Sgm C5 );
let R1 being Nat;
let R2 being Nat;
assume that
L13: [ R1 , R2 ] in ( Indices ( 1. (R8 , ( card C5 )) ) );
L14: D4 is  one-to-one by L11 , FINSEQ_3:92;
L15: ( rng D4 ) = C5 by L11 , FINSEQ_1:def 13;
reconsider D5 = ( D4 . R1 ) , D6 = ( D4 . R2 ) as Nat by VALUED_0:12;
L16: ( Indices ( 1. (R8 , ( card C5 )) ) ) = ( Indices D3 ) by MATRIX_1:26;
L17: ( D3 * (R1 , R2) ) = ( ( 1. (R8 , R4) ) * (D5 , D6) ) by L16 , L13 , MATRIX13:def 1;
L18: (( Indices ( 1. (R8 , R4) ) ) = [: ( Seg R4 ) , ( Seg R4 ) :] & [: C5 , C5 :] c= [: ( Seg R4 ) , ( Seg R4 ) :]) by L11 , MATRIX_1:24 , ZFMISC_1:96;
L19: [ ( D4 . R1 ) , ( D4 . R2 ) ] in ( Indices ( 1. (R8 , R4) ) ) by L18 , L13 , L16 , L15 , MATRIX13:17;
L20: (( Indices D3 ) = [: ( Seg ( card C5 ) ) , ( Seg ( card C5 ) ) :] & ( dom D4 ) = ( Seg ( card C5 ) )) by L11 , FINSEQ_3:40 , MATRIX_1:24;
L21: (R1 in ( dom D4 ) & R2 in ( dom D4 )) by L20 , L13 , L16 , ZFMISC_1:87;
L22: (R1 = R2 or R1 <> R2);
L23: ((( D3 * (R1 , R2) ) = ( 1_ R8 ) & ( ( 1. (R8 , ( card C5 )) ) * (R1 , R2) ) = ( 1_ R8 )) or (( ( 1. (R8 , ( card C5 )) ) * (R1 , R2) ) = ( 0. R8 ) & ( D4 . R1 ) <> ( D4 . R2 ))) by L22 , L13 , L14 , L19 , L21 , L17 , FUNCT_1:def 4 , MATRIX_1:def 11;
thus L24: ( ( 1. (R8 , ( card C5 )) ) * (R1 , R2) ) = ( D3 * (R1 , R2) ) by L23 , L19 , L17 , MATRIX_1:def 11;
end;
thus L25: thesis by L12 , MATRIX_1:27;
end;
theorem
L26: (for R8 being Field holds (for B6 , B7 being (Matrix of R8) holds (for B8 , B9 being  without_zero  finite (Subset of ( NAT )) holds ([: B8 , B9 :] c= ( Indices B6 ) implies ( Segm (( B6 + B7 ) , B8 , B9) ) = ( ( Segm (B6 , B8 , B9) ) + ( Segm (B7 , B8 , B9) ) )))))
proof
let R8 being Field;
let C6 , C7 being (Matrix of R8);
let C8 , C9 being  without_zero  finite (Subset of ( NAT ));
assume that
L27: [: C8 , C9 :] c= ( Indices C6 );
L28: (ex R3 being Nat st C9 c= ( Seg R3 )) by MATRIX13:43;
L29: ( rng ( Sgm C9 ) ) = C9 by L28 , FINSEQ_1:def 13;
L30: (ex R4 being Nat st C8 c= ( Seg R4 )) by MATRIX13:43;
L31: ( rng ( Sgm C8 ) ) = C8 by L30 , FINSEQ_1:def 13;
thus L32: thesis by L31 , L27 , L29 , L1;
end;
theorem
L33: (for R1 being Nat holds (for R2 being Nat holds (for R4 being Nat holds (for R8 being Field holds (for B10 , B11 being (Matrix of R4 , R8) holds ((R1 in ( Seg R4 ) & R2 in ( Seg R4 )) implies ( Delete (( B10 + B11 ) , R1 , R2) ) = ( ( Delete (B10 , R1 , R2) ) + ( Delete (B11 , R1 , R2) ) )))))))
proof
let R1 being Nat;
let R2 being Nat;
let R4 being Nat;
let R8 being Field;
let C10 , C11 being (Matrix of R4 , R8);
assume that
L34: (R1 in ( Seg R4 ) & R2 in ( Seg R4 ));
L35: (( ( Seg R4 ) \ { R1 } ) c= ( Seg R4 ) & ( ( Seg R4 ) \ { R2 } ) c= ( Seg R4 )) by XBOOLE_1:36;
L36: [: ( ( Seg R4 ) \ { R1 } ) , ( ( Seg R4 ) \ { R2 } ) :] c= [: ( Seg R4 ) , ( Seg R4 ) :] by L35 , ZFMISC_1:96;
L37: ( Indices C10 ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
thus L38: ( Delete (( C10 + C11 ) , R1 , R2) ) = ( Deleting (( C10 + C11 ) , R1 , R2) ) by L34 , LAPLACE:def 1
.= ( Segm (( C10 + C11 ) , ( ( Seg R4 ) \ { R1 } ) , ( ( Seg R4 ) \ { R2 } )) ) by MATRIX13:58
.= ( ( Segm (C10 , ( ( Seg R4 ) \ { R1 } ) , ( ( Seg R4 ) \ { R2 } )) ) + ( Segm (C11 , ( ( Seg R4 ) \ { R1 } ) , ( ( Seg R4 ) \ { R2 } )) ) ) by L36 , L37 , L26
.= ( ( Deleting (C10 , R1 , R2) ) + ( Segm (C11 , ( ( Seg R4 ) \ { R1 } ) , ( ( Seg R4 ) \ { R2 } )) ) ) by MATRIX13:58
.= ( ( Deleting (C10 , R1 , R2) ) + ( Deleting (C11 , R1 , R2) ) ) by MATRIX13:58
.= ( ( Delete (C10 , R1 , R2) ) + ( Deleting (C11 , R1 , R2) ) ) by L34 , LAPLACE:def 1
.= ( ( Delete (C10 , R1 , R2) ) + ( Delete (C11 , R1 , R2) ) ) by L34 , LAPLACE:def 1;
end;
theorem
L39: (for R1 being Nat holds (for R2 being Nat holds (for R4 being Nat holds (for R8 being Field holds (for R9 being (Element of R8) holds (for B12 being (Matrix of R4 , R8) holds ((R1 in ( Seg R4 ) & R2 in ( Seg R4 )) implies ( Delete (( R9 * B12 ) , R1 , R2) ) = ( R9 * ( Delete (B12 , R1 , R2) ) ))))))))
proof
let R1 being Nat;
let R2 being Nat;
let R4 being Nat;
let R8 being Field;
let R9 being (Element of R8);
let C12 being (Matrix of R4 , R8);
assume that
L40: (R1 in ( Seg R4 ) & R2 in ( Seg R4 ));
L41: (( ( Seg R4 ) \ { R1 } ) c= ( Seg R4 ) & ( ( Seg R4 ) \ { R2 } ) c= ( Seg R4 )) by XBOOLE_1:36;
L42: [: ( ( Seg R4 ) \ { R1 } ) , ( ( Seg R4 ) \ { R2 } ) :] c= [: ( Seg R4 ) , ( Seg R4 ) :] by L41 , ZFMISC_1:96;
L43: ( Indices C12 ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
thus L44: ( Delete (( R9 * C12 ) , R1 , R2) ) = ( Deleting (( R9 * C12 ) , R1 , R2) ) by L40 , LAPLACE:def 1
.= ( Segm (( R9 * C12 ) , ( ( Seg R4 ) \ { R1 } ) , ( ( Seg R4 ) \ { R2 } )) ) by MATRIX13:58
.= ( R9 * ( Segm (C12 , ( ( Seg R4 ) \ { R1 } ) , ( ( Seg R4 ) \ { R2 } )) ) ) by L42 , L43 , MATRIX13:63
.= ( R9 * ( Deleting (C12 , R1 , R2) ) ) by MATRIX13:58
.= ( R9 * ( Delete (C12 , R1 , R2) ) ) by L40 , LAPLACE:def 1;
end;
theorem
L45: (for R1 being Nat holds (for R4 being Nat holds (for R8 being Field holds (R1 in ( Seg R4 ) implies ( Delete (( 1. (R8 , R4) ) , R1 , R1) ) = ( 1. (R8 , ( R4 -' 1 )) )))))
proof
let R1 being Nat;
let R4 being Nat;
let R8 being Field;
assume L46: R1 in ( Seg R4 );
L47: R4 <> ( 0 ) by L46;
L48: R4 >= 1 by L47 , NAT_1:14;
L49: ( R4 -' 1 ) = ( R4 - 1 ) by L48 , XREAL_1:233;
L50: ( card ( Seg R4 ) ) = ( ( R4 -' 1 ) + 1 ) by L49 , FINSEQ_1:57;
L51: ( card ( ( Seg R4 ) \ { R1 } ) ) = ( R4 -' 1 ) by L50 , L46 , STIRL2_1:55;
thus L52: ( Delete (( 1. (R8 , R4) ) , R1 , R1) ) = ( Deleting (( 1. (R8 , R4) ) , R1 , R1) ) by L46 , LAPLACE:def 1
.= ( Segm (( 1. (R8 , R4) ) , ( ( Seg R4 ) \ { R1 } ) , ( ( Seg R4 ) \ { R1 } )) ) by MATRIX13:58
.= ( 1. (R8 , ( R4 -' 1 )) ) by L51 , L10 , XBOOLE_1:36;
end;
theorem
L53: (for R4 being Nat holds (for R8 being Field holds (for B13 , B14 being (Matrix of R4 , R8) holds (ex B15 being (Polynomial of R8) st (( len B15 ) <= ( R4 + 1 ) & (for B16 being (Element of R8) holds ( eval (B15 , B16) ) = ( Det ( B13 + ( B16 * B14 ) ) )))))))
proof
let R4 being Nat;
let R8 being Field;
defpred S1[ Nat ] means (for B17 , B18 being (Matrix of $1 , R8) holds (ex B19 being (Polynomial of R8) st (( len B19 ) <= ( $1 + 1 ) & (for B20 being (Element of R8) holds ( eval (B19 , B20) ) = ( Det ( B17 + ( B20 * B18 ) ) )))));
L54: (for R4 being Nat holds (S1[ R4 ] implies S1[ ( R4 + 1 ) ]))
proof
let R4 being Nat;
assume that
L55: S1[ R4 ];
set D7 = ( R4 + 1 );
let C13 , C14 being (Matrix of D7 , R8);
defpred S2[ Nat ] means ($1 <= D7 implies (ex B21 being (Polynomial of R8) st (( len B21 ) <= ( D7 + 1 ) & (for B22 being (Element of R8) holds ( eval (B21 , B22) ) = ( Sum ( ( LaplaceExpL (( C13 + ( B22 * C14 ) ) , D7) ) | $1 ) )))));
L56: D7 in ( Seg D7 ) by FINSEQ_1:4;
L57: (for R3 being Nat holds (S2[ R3 ] implies S2[ ( R3 + 1 ) ]))
proof
let R3 being Nat;
assume that
L58: S2[ R3 ];
set D8 = ( R3 + 1 );
assume L59: D8 <= D7;
consider C15 being (Polynomial of R8) such that L60: ( len C15 ) <= ( D7 + 1 ) and L61: (for B23 being (Element of R8) holds ( eval (C15 , B23) ) = ( Sum ( ( LaplaceExpL (( C13 + ( B23 * C14 ) ) , D7) ) | R3 ) )) by L59 , L58 , NAT_1:13;
L62: 1 <= D8 by NAT_1:11;
L63: D8 in ( Seg D7 ) by L62 , L59;
L64: [ D7 , D8 ] in [: ( Seg D7 ) , ( Seg D7 ) :] by L63 , L56 , ZFMISC_1:87;
set D9 = ( ( power R8 ) . (( - ( 1_ R8 ) ) , ( D8 + D7 )) );
set D10 = ( Delete (C14 , D7 , D8) );
set D11 = ( Delete (C13 , D7 , D8) );
set D12 = <% ( ( C13 * (D7 , D8) ) * D9 ) , ( ( C14 * (D7 , D8) ) * D9 ) %>;
L65: ( Indices C14 ) = [: ( Seg D7 ) , ( Seg D7 ) :] by MATRIX_1:24;
L66: ( D7 -' 1 ) = R4 by NAT_D:34;
consider C16 being (Polynomial of R8) such that L67: ( len C16 ) <= ( R4 + 1 ) and L68: (for B24 being (Element of R8) holds ( eval (C16 , B24) ) = ( Det ( D11 + ( B24 * D10 ) ) )) by L66 , L55;
take D13 = ( C15 + ( C16 *' D12 ) );
L69: ( len D12 ) <= 2 by POLYNOM5:39;
L70: ( ( len C16 ) + ( len D12 ) ) <= ( D7 + 2 ) by L69 , L67 , XREAL_1:7;
L71: ( ( ( len C16 ) + ( len D12 ) ) -' 1 ) <= ( ( D7 + 2 ) -' 1 ) by L70 , NAT_D:42;
L72: (( ( ( R4 + 2 ) + 1 ) -' 1 ) = ( R4 + 2 ) & ( len ( C16 *' D12 ) ) <= ( ( ( len C16 ) + ( len D12 ) ) -' 1 )) by HILBASIS:21 , NAT_D:34;
L73: ( len ( C16 *' D12 ) ) <= ( D7 + 1 ) by L72 , L71 , XXREAL_0:2;
thus L74: ( len D13 ) <= ( D7 + 1 ) by L73 , L60 , POLYNOM4:6;
let C17 being (Element of R8);
set D14 = ( LaplaceExpL (( C13 + ( C17 * C14 ) ) , D7) );
L75: ( Indices C13 ) = [: ( Seg D7 ) , ( Seg D7 ) :] by MATRIX_1:24;
L76: ( ( ( C13 * (D7 , D8) ) * D9 ) + ( ( ( C14 * (D7 , D8) ) * D9 ) * C17 ) ) = ( ( ( C13 * (D7 , D8) ) * D9 ) + ( ( ( C14 * (D7 , D8) ) * C17 ) * D9 ) ) by GROUP_1:def 3
.= ( ( ( C13 * (D7 , D8) ) + ( ( C14 * (D7 , D8) ) * C17 ) ) * D9 ) by VECTSP_1:def 2
.= ( ( ( C13 * (D7 , D8) ) + ( ( C17 * C14 ) * (D7 , D8) ) ) * D9 ) by L64 , L65 , MATRIX_3:def 5
.= ( ( ( C13 + ( C17 * C14 ) ) * (D7 , D8) ) * D9 ) by L64 , L75 , MATRIX_3:def 3;
L77: D7 = ( len D14 ) by LAPLACE:def 7;
L78: ( dom D14 ) = ( Seg D7 ) by L77 , FINSEQ_1:def 3;
L79: ( D14 | D8 ) = ( ( D14 | R3 ) ^ <* ( D14 . D8 ) *> ) by L78 , L63 , FINSEQ_5:10;
L80: ( D11 + ( C17 * D10 ) ) = ( D11 + ( Delete (( C17 * C14 ) , D7 , D8) ) ) by L56 , L63 , L39
.= ( Delete (( C13 + ( C17 * C14 ) ) , D7 , D8) ) by L56 , L63 , L33;
L81: ( eval (( C16 *' D12 ) , C17) ) = ( ( eval (C16 , C17) ) * ( eval (D12 , C17) ) ) by POLYNOM4:24
.= ( ( Det ( D11 + ( C17 * D10 ) ) ) * ( eval (D12 , C17) ) ) by L68
.= ( ( Minor (( C13 + ( C17 * C14 ) ) , D7 , D8) ) * ( ( ( C13 + ( C17 * C14 ) ) * (D7 , D8) ) * D9 ) ) by L76 , L80 , POLYNOM5:44
.= ( ( ( C13 + ( C17 * C14 ) ) * (D7 , D8) ) * ( Cofactor (( C13 + ( C17 * C14 ) ) , D7 , D8) ) ) by GROUP_1:def 3
.= ( D14 . D8 ) by L63 , L78 , LAPLACE:def 7;
thus L82: ( Sum ( D14 | D8 ) ) = ( ( Sum ( D14 | R3 ) ) + ( eval (( C16 *' D12 ) , C17) ) ) by L81 , L79 , FVSUM_1:71
.= ( ( eval (C15 , C17) ) + ( eval (( C16 *' D12 ) , C17) ) ) by L61
.= ( eval (D13 , C17) ) by POLYNOM4:19;
end;
L83: S2[ ( 0 ) ]
proof
assume L84: ( 0 ) <= D7;
take D15 = ( 0_. R8 );
thus L85: ( len D15 ) <= ( D7 + 1 ) by POLYNOM4:3;
let C18 being (Element of R8);
L86: ( ( LaplaceExpL (( C13 + ( C18 * C14 ) ) , D7) ) | ( 0 ) ) = ( <*> (the carrier of R8) );
thus L87: ( Sum ( ( LaplaceExpL (( C13 + ( C18 * C14 ) ) , D7) ) | ( 0 ) ) ) = ( 0. R8 ) by L86 , RLVECT_1:43
.= ( eval (D15 , C18) ) by POLYNOM4:17;
end;
L88: (for R3 being Nat holds S2[ R3 ]) from NAT_1:sch 2(L83 , L57);
consider C19 being (Polynomial of R8) such that L89: ( len C19 ) <= ( D7 + 1 ) and L90: (for B25 being (Element of R8) holds ( eval (C19 , B25) ) = ( Sum ( ( LaplaceExpL (( C13 + ( B25 * C14 ) ) , D7) ) | D7 ) )) by L88;
take C19;
thus L91: ( len C19 ) <= ( D7 + 1 ) by L89;
let C20 being (Element of R8);
L92: ( len ( LaplaceExpL (( C13 + ( C20 * C14 ) ) , D7) ) ) = D7 by LAPLACE:def 7;
thus L93: ( eval (C19 , C20) ) = ( Sum ( ( LaplaceExpL (( C13 + ( C20 * C14 ) ) , D7) ) | D7 ) ) by L90
.= ( Sum ( LaplaceExpL (( C13 + ( C20 * C14 ) ) , D7) ) ) by L92 , FINSEQ_1:58
.= ( Det ( C13 + ( C20 * C14 ) ) ) by L56 , LAPLACE:25;
end;
L94: S1[ ( 0 ) ]
proof
let C21 , C22 being (Matrix of ( 0 ) , R8);
take D16 = ( 1_. R8 );
thus L95: ( len D16 ) <= ( ( 0 ) + 1 ) by POLYNOM4:4;
let C23 being (Element of R8);
thus L96: ( Det ( C21 + ( C23 * C22 ) ) ) = ( 1_ R8 ) by MATRIXR2:41
.= ( eval (D16 , C23) ) by POLYNOM4:18;
end;
L97: (for R4 being Nat holds S1[ R4 ]) from NAT_1:sch 2(L94 , L54);
thus L98: thesis by L97;
end;
theorem
L99: (for R4 being Nat holds (for R8 being Field holds (for B26 being (Matrix of R4 , R8) holds (ex B27 being (Polynomial of R8) st (( len B27 ) = ( R4 + 1 ) & (for B28 being (Element of R8) holds ( eval (B27 , B28) ) = ( Det ( B26 + ( B28 * ( 1. (R8 , R4) ) ) ) )))))))
proof
let R4 being Nat;
let R8 being Field;
defpred S3[ Nat ] means (for B29 being (Matrix of $1 , R8) holds (ex B30 being (Polynomial of R8) st (( len B30 ) = ( $1 + 1 ) & (for B31 being (Element of R8) holds ( eval (B30 , B31) ) = ( Det ( B29 + ( B31 * ( 1. (R8 , $1) ) ) ) )))));
L100: (for R4 being Nat holds (S3[ R4 ] implies S3[ ( R4 + 1 ) ]))
proof
let R4 being Nat;
assume that
L101: S3[ R4 ];
set D17 = ( R4 + 1 );
let C24 being (Matrix of D17 , R8);
set D18 = ( 1. (R8 , D17) );
L102: ( Indices D18 ) = ( Indices C24 ) by MATRIX_1:26;
defpred S4[ Nat ] means ((1 <= $1 & $1 <= D17) implies (ex B32 being (Polynomial of R8) st (( len B32 ) = ( D17 + 1 ) & (for B33 being (Element of R8) holds ( eval (B32 , B33) ) = ( Sum ( ( LaplaceExpL (( C24 + ( B33 * ( 1. (R8 , D17) ) ) ) , 1) ) | $1 ) )))));
L103: ( D17 -' 1 ) = R4 by NAT_D:34;
L104: 1 <= D17 by NAT_1:11;
L105: 1 in ( Seg D17 ) by L104;
L106: ( Indices C24 ) = [: ( Seg D17 ) , ( Seg D17 ) :] by MATRIX_1:24;
L107: (for R5 being Nat holds (S4[ R5 ] implies S4[ ( R5 + 1 ) ]))
proof
let R5 being Nat;
assume that
L108: S4[ R5 ];
set D19 = ( R5 + 1 );
assume that
L109: 1 <= D19
and
L110: D19 <= D17;
set D20 = ( ( power R8 ) . (( - ( 1_ R8 ) ) , ( D19 + 1 )) );
set D21 = <% ( ( C24 * (1 , D19) ) * D20 ) , ( ( D18 * (1 , D19) ) * D20 ) %>;
L111: D19 in ( Seg D17 ) by L109 , L110;
L112: [ 1 , D19 ] in ( Indices C24 ) by L111 , L106 , L105 , ZFMISC_1:87;
per cases  by NAT_1:14;
suppose L113: R5 = ( 0 );

L114: D20 = ( ( - ( 1_ R8 ) ) * ( - ( 1_ R8 ) ) ) by L113 , GROUP_1:51
.= ( ( 1_ R8 ) * ( 1_ R8 ) ) by VECTSP_1:10
.= ( 1_ R8 ) by VECTSP_1:def 4;
L115: ( ( D18 * (1 , D19) ) * D20 ) = ( ( 1_ R8 ) * ( 1_ R8 ) ) by L114 , L102 , L112 , L113 , MATRIX_1:def 11
.= ( 1_ R8 ) by VECTSP_1:def 4;
L116: (( 2 -' 1 ) = ( 2 - 1 ) & ( D21 . 1 ) <> ( 0. R8 )) by L115 , POLYNOM5:38 , XREAL_1:233;
L117: ( ( D18 * (1 , D19) ) * D20 ) <> ( 0. R8 ) by L115;
L118: ( len D21 ) = 2 by L117 , POLYNOM5:40;
consider C25 being (Polynomial of R8) such that L119: ( len C25 ) = D17 and L120: (for B34 being (Element of R8) holds ( eval (C25 , B34) ) = ( Det ( ( Delete (C24 , 1 , 1) ) + ( B34 * ( 1. (R8 , R4) ) ) ) )) by L101 , L103;
take D22 = ( D21 *' C25 );
L121: ( C25 . R4 ) <> ( 0. R8 ) by L119 , ALGSEQ_1:10;
L122: ( ( D21 . ( ( len D21 ) -' 1 ) ) * ( C25 . ( ( len C25 ) -' 1 ) ) ) <> ( 0. R8 ) by L121 , L103 , L119 , L118 , L116 , VECTSP_1:12;
thus L123: ( len D22 ) = ( ( D17 + 2 ) - 1 ) by L122 , L119 , L118 , POLYNOM4:10
.= ( D17 + 1 );
let C26 being (Element of R8);
L124: ( ( Delete (C24 , 1 , 1) ) + ( C26 * ( 1. (R8 , R4) ) ) ) = ( ( Delete (C24 , 1 , 1) ) + ( C26 * ( Delete (D18 , 1 , 1) ) ) ) by L105 , L103 , L45
.= ( ( Delete (C24 , 1 , 1) ) + ( Delete (( C26 * D18 ) , 1 , 1) ) ) by L111 , L113 , L39
.= ( Delete (( C24 + ( C26 * D18 ) ) , 1 , 1) ) by L105 , L33;
L125: ( ( ( C24 * (1 , D19) ) * D20 ) + ( ( ( D18 * (1 , D19) ) * D20 ) * C26 ) ) = ( ( ( C24 * (1 , D19) ) * D20 ) + ( ( ( D18 * (1 , D19) ) * C26 ) * D20 ) ) by GROUP_1:def 3
.= ( ( ( C24 * (1 , D19) ) + ( ( D18 * (1 , D19) ) * C26 ) ) * D20 ) by VECTSP_1:def 2
.= ( ( ( C24 * (1 , D19) ) + ( ( C26 * D18 ) * (1 , D19) ) ) * D20 ) by L102 , L112 , MATRIX_3:def 5
.= ( ( ( C24 + ( C26 * D18 ) ) * (1 , D19) ) * D20 ) by L112 , MATRIX_3:def 3;
set D23 = ( LaplaceExpL (( C24 + ( C26 * D18 ) ) , 1) );
L126: ( dom D23 ) = ( Seg ( len D23 ) ) by FINSEQ_1:def 3;
L127: ( len D23 ) = D17 by LAPLACE:def 7;
L128: ( eval (( D21 *' C25 ) , C26) ) = ( ( eval (D21 , C26) ) * ( eval (C25 , C26) ) ) by POLYNOM4:24
.= ( ( eval (D21 , C26) ) * ( Det ( ( Delete (C24 , 1 , 1) ) + ( C26 * ( 1. (R8 , R4) ) ) ) ) ) by L120
.= ( ( Minor (( C24 + ( C26 * D18 ) ) , 1 , 1) ) * ( ( ( C24 + ( C26 * D18 ) ) * (1 , 1) ) * D20 ) ) by L113 , L125 , L124 , POLYNOM5:44
.= ( ( ( C24 + ( C26 * D18 ) ) * (1 , 1) ) * ( Cofactor (( C24 + ( C26 * D18 ) ) , 1 , 1) ) ) by L113 , GROUP_1:def 3
.= ( D23 . 1 ) by L105 , L126 , L127 , LAPLACE:def 7;
thus L129: ( Sum ( D23 | D19 ) ) = ( Sum <* ( D23 /. 1 ) *> ) by L113 , L127 , CARD_1:27 , FINSEQ_5:20
.= ( Sum <* ( eval (( D21 *' C25 ) , C26) ) *> ) by L105 , L126 , L127 , L128 , PARTFUN1:def 6
.= ( eval (D22 , C26) ) by FINSOP_1:11;
end;
suppose L130: R5 >= 1;

consider C27 being (Polynomial of R8) such that L131: ( len C27 ) <= ( R4 + 1 ) and L132: (for B35 being (Element of R8) holds ( eval (C27 , B35) ) = ( Det ( ( Delete (C24 , 1 , D19) ) + ( B35 * ( Delete (D18 , 1 , D19) ) ) ) )) by L103 , L53;
consider C28 being (Polynomial of R8) such that L133: ( len C28 ) = ( D17 + 1 ) and L134: (for B36 being (Element of R8) holds ( eval (C28 , B36) ) = ( Sum ( ( LaplaceExpL (( C24 + ( B36 * ( 1. (R8 , D17) ) ) ) , 1) ) | R5 ) )) by L108 , L110 , L130 , NAT_1:13;
take D24 = ( C28 + ( ( ( C24 * (1 , D19) ) * D20 ) * C27 ) );
L135: (( ( C24 * (1 , D19) ) * D20 ) = ( 0. R8 ) or ( ( C24 * (1 , D19) ) * D20 ) <> ( 0. R8 ));
L136: ( len ( ( ( C24 * (1 , D19) ) * D20 ) * C27 ) ) <= D17 by L135 , L131 , POLYNOM5:24 , POLYNOM5:25;
L137: ( len ( ( ( C24 * (1 , D19) ) * D20 ) * C27 ) ) < ( len C28 ) by L136 , L133 , NAT_1:13;
thus L138: ( len D24 ) = ( max (( len ( ( ( C24 * (1 , D19) ) * D20 ) * C27 ) ) , ( len C28 )) ) by L137 , POLYNOM4:7
.= ( D17 + 1 ) by L133 , L137 , XXREAL_0:def 10;
let C29 being (Element of R8);
set D25 = ( LaplaceExpL (( C24 + ( C29 * D18 ) ) , 1) );
L139: (( dom D25 ) = ( Seg ( len D25 ) ) & ( len D25 ) = D17) by FINSEQ_1:def 3 , LAPLACE:def 7;
L140: ( D25 | D19 ) = ( ( D25 | R5 ) ^ <* ( D25 . D19 ) *> ) by L139 , L111 , FINSEQ_5:10;
L141: D19 <> 1 by L130 , NAT_1:13;
L142: ( ( C24 * (1 , D19) ) * D20 ) = ( ( ( C24 * (1 , D19) ) + ( 0. R8 ) ) * D20 ) by RLVECT_1:def 4
.= ( ( ( C24 * (1 , D19) ) + ( C29 * ( 0. R8 ) ) ) * D20 ) by VECTSP_1:7
.= ( ( ( C24 * (1 , D19) ) + ( C29 * ( D18 * (1 , D19) ) ) ) * D20 ) by L102 , L112 , L141 , MATRIX_1:def 11
.= ( ( ( C24 * (1 , D19) ) + ( ( C29 * D18 ) * (1 , D19) ) ) * D20 ) by L102 , L112 , MATRIX_3:def 5
.= ( ( ( C24 + ( C29 * D18 ) ) * (1 , D19) ) * D20 ) by L112 , MATRIX_3:def 3;
L143: ( ( Delete (C24 , 1 , D19) ) + ( C29 * ( Delete (D18 , 1 , D19) ) ) ) = ( ( Delete (C24 , 1 , D19) ) + ( Delete (( C29 * D18 ) , 1 , D19) ) ) by L105 , L111 , L39
.= ( Delete (( C24 + ( C29 * D18 ) ) , 1 , D19) ) by L105 , L111 , L33;
L144: ( eval (( ( ( C24 * (1 , D19) ) * D20 ) * C27 ) , C29) ) = ( ( ( C24 * (1 , D19) ) * D20 ) * ( eval (C27 , C29) ) ) by POLYNOM5:30
.= ( ( Minor (( C24 + ( C29 * D18 ) ) , 1 , D19) ) * ( ( ( C24 + ( C29 * D18 ) ) * (1 , D19) ) * D20 ) ) by L132 , L142 , L143
.= ( ( ( C24 + ( C29 * D18 ) ) * (1 , D19) ) * ( Cofactor (( C24 + ( C29 * D18 ) ) , 1 , D19) ) ) by GROUP_1:def 3
.= ( D25 . D19 ) by L111 , L139 , LAPLACE:def 7;
thus L145: ( Sum ( D25 | D19 ) ) = ( ( Sum ( D25 | R5 ) ) + ( eval (( ( ( C24 * (1 , D19) ) * D20 ) * C27 ) , C29) ) ) by L144 , L140 , FVSUM_1:71
.= ( ( eval (C28 , C29) ) + ( eval (( ( ( C24 * (1 , D19) ) * D20 ) * C27 ) , C29) ) ) by L134
.= ( eval (D24 , C29) ) by POLYNOM4:19;
end;
end;
L147: S4[ ( 0 ) ];
L148: (for R5 being Nat holds S4[ R5 ]) from NAT_1:sch 2(L147 , L107);
consider C30 being (Polynomial of R8) such that L149: ( len C30 ) = ( D17 + 1 ) and L150: (for B37 being (Element of R8) holds ( eval (C30 , B37) ) = ( Sum ( ( LaplaceExpL (( C24 + ( B37 * ( 1. (R8 , D17) ) ) ) , 1) ) | D17 ) )) by L148 , L104;
take C30;
thus L151: ( len C30 ) = ( D17 + 1 ) by L149;
let C31 being (Element of R8);
set D26 = ( LaplaceExpL (( C24 + ( C31 * ( 1. (R8 , D17) ) ) ) , 1) );
L152: ( len D26 ) = D17 by LAPLACE:def 7;
thus L153: ( eval (C30 , C31) ) = ( Sum ( D26 | ( len D26 ) ) ) by L152 , L150
.= ( Sum D26 ) by FINSEQ_1:58
.= ( Det ( C24 + ( C31 * ( 1. (R8 , D17) ) ) ) ) by L105 , LAPLACE:25;
end;
L154: S3[ ( 0 ) ]
proof
let C32 being (Matrix of ( 0 ) , R8);
take D27 = ( 1_. R8 );
thus L155: ( len D27 ) = ( ( 0 ) + 1 ) by POLYNOM4:4;
let C33 being (Element of R8);
thus L156: ( Det ( C32 + ( C33 * ( 1. (R8 , ( 0 )) ) ) ) ) = ( 1_ R8 ) by MATRIXR2:41
.= ( eval (D27 , C33) ) by POLYNOM4:18;
end;
L157: (for R4 being Nat holds S3[ R4 ]) from NAT_1:sch 2(L154 , L100);
thus L158: thesis by L157;
end;
L159: (for R8 being Field holds (for B38 , B39 being (VectSp of R8) holds (for B40 being (linear-transformation of B38 , B39) holds (for B41 being (Subspace of B38) holds (for B42 being (Subspace of B39) holds (for B43 being (Function of B41 , B42) holds (B43 = ( B40 | B41 ) implies B43 is (linear-transformation of B41 , B42))))))))
proof
let R8 being Field;
let C34 , C35 being (VectSp of R8);
let C36 being (linear-transformation of C34 , C35);
let C37 being (Subspace of C34);
let C38 being (Subspace of C35);
let C39 being (Function of C37 , C38);
assume that
L160: C39 = ( C36 | C37 );
L161:
now
let C40 being (Scalar of R8);
let C41 being (Vector of C37);
thus L162: ( C39 . ( C40 * C41 ) ) = ( C40 * ( ( C36 | C37 ) . C41 ) ) by L160 , MOD_2:def 2
.= ( C40 * ( C39 . C41 ) ) by L160 , VECTSP_4:14;
end;
L163:
now
let C42 , C43 being (Vector of C37);
thus L164: ( C39 . ( C42 + C43 ) ) = ( ( ( C36 | C37 ) . C42 ) + ( ( C36 | C37 ) . C43 ) ) by L160 , VECTSP_1:def 20
.= ( ( C39 . C42 ) + ( C39 . C43 ) ) by L160 , VECTSP_4:13;
end;
L165: C39 is  additive  homogeneous by L163 , L161 , VECTSP_1:def 20 , MOD_2:def 2;
thus L166: thesis by L165;
end;
registration
let R8 being Field;
cluster non  trivial  finite-dimensional for (VectSp of R8);
existence
proof
take D28 = ( 1 -VectSp_over R8 );
L167: ( dim D28 ) = 1 by MATRIX13:112;
L168: (ex B44 being (Vector of D28) st (B44 <> ( 0. D28 ) & ( (Omega). D28 ) = ( Lin { B44 } ))) by L167 , VECTSP_9:30;
thus L169: thesis by L168 , STRUCT_0:def 18;
end;
end;
begin
definition
let C44 being non  empty doubleLoopStr;
let C45 being non  empty VectSpStr over C44;
let C46 being (Function of C45 , C45);
attr C46 is  with_eigenvalues
means
:L171: (ex B45 being (Vector of C45) st (ex B46 being (Scalar of C44) st (B45 <> ( 0. C45 ) & ( C46 . B45 ) = ( B46 * B45 ))));
end;
L173: (for R8 being Field holds (for R10 being non  trivial (VectSp of R8) holds (( id R10 ) is  with_eigenvalues & (ex R14 being (Vector of R10) st (R14 <> ( 0. R10 ) & ( ( id R10 ) . R14 ) = ( ( 1_ R8 ) * R14 ))))))
proof
let R8 being Field;
let R10 being non  trivial (VectSp of R8);
consider R14 being (Vector of R10) such that L174: R14 <> ( 0. R10 ) by STRUCT_0:def 18;
L175: ( ( id R10 ) . R14 ) = R14 by FUNCT_1:17
.= ( ( 1_ R8 ) * R14 ) by VECTSP_1:def 17;
thus L176: thesis by L175 , L174 , L171;
end;
registration
let R8 being Field;
let R10 being non  trivial (VectSp of R8);
cluster  with_eigenvalues for (linear-transformation of R10 , R10);
existence
proof
take ( id R10 );
thus L177: thesis by L173;
end;
end;
definition
let C47 being non  empty doubleLoopStr;
let C48 being non  empty VectSpStr over C47;
let C49 being (Function of C48 , C48);
assume that
L179: C49 is  with_eigenvalues;
mode eigenvalue of C49
 -> (Element of C47)
means :L180: (ex B47 being (Vector of C48) st (B47 <> ( 0. C48 ) & ( C49 . B47 ) = ( it * B47 )));
existence
proof
L181: (ex B48 being (Vector of C48) st (ex B49 being (Scalar of C47) st (B48 <> ( 0. C48 ) & ( C49 . B48 ) = ( B49 * B48 )))) by L179 , L171;
thus L182: thesis by L181;
end;
end;
definition
let C50 being non  empty doubleLoopStr;
let C51 being non  empty VectSpStr over C50;
let C52 being (Function of C51 , C51);
let C53 being (Scalar of C50);
assume that
L184: (C52 is  with_eigenvalues & C53 is (eigenvalue of C52));
mode eigenvector of C52 , C53
 -> (Vector of C51)
means :L185: ( C52 . it ) = ( C53 * it );
existence
proof
L186: (ex B50 being (Vector of C51) st (B50 <> ( 0. C51 ) & ( C52 . B50 ) = ( C53 * B50 ))) by L184 , L180;
thus L187: thesis by L186;
end;
end;
theorem
L189: (for R8 being Field holds (for R10 being non  trivial (VectSp of R8) holds (for R15 being (Vector of R10) holds (for R9 being (Element of R8) holds (R9 <> ( 0. R8 ) implies (for B51 being  with_eigenvalues (Function of R10 , R10) holds (for B52 being (eigenvalue of B51) holds (( R9 * B51 ) is  with_eigenvalues & ( R9 * B52 ) is (eigenvalue of ( R9 * B51 )) & (R15 is (eigenvector of B51 , B52) iff R15 is (eigenvector of ( R9 * B51 ) , ( R9 * B52 )))))))))))
proof
let R8 being Field;
let R10 being non  trivial (VectSp of R8);
let R15 being (Vector of R10);
let R9 being (Element of R8);
assume that
L190: R9 <> ( 0. R8 );
let C54 being  with_eigenvalues (Function of R10 , R10);
let C55 being (eigenvalue of C54);
consider R14 being (Vector of R10) such that L191: R14 <> ( 0. R10 ) and L192: ( C54 . R14 ) = ( C55 * R14 ) by L180;
L193: ( ( R9 * C54 ) . R14 ) = ( R9 * ( C55 * R14 ) ) by L192 , MATRLIN:def 4
.= ( ( R9 * C55 ) * R14 ) by VECTSP_1:def 16;
thus L194: ( R9 * C54 ) is  with_eigenvalues by L193 , L191 , L171;
thus L195: ( R9 * C55 ) is (eigenvalue of ( R9 * C54 )) by L194 , L191 , L193 , L180;
thus L196:now
assume L197: R15 is (eigenvector of C54 , C55);
L198: ( ( R9 * C54 ) . R15 ) = ( R9 * ( C54 . R15 ) ) by MATRLIN:def 4
.= ( R9 * ( C55 * R15 ) ) by L197 , L185
.= ( ( R9 * C55 ) * R15 ) by VECTSP_1:def 16;
thus L199: R15 is (eigenvector of ( R9 * C54 ) , ( R9 * C55 )) by L198 , L194 , L195 , L185;
end;
assume L200: R15 is (eigenvector of ( R9 * C54 ) , ( R9 * C55 ));
L201: ( R9 * ( C54 . R15 ) ) = ( ( R9 * C54 ) . R15 ) by MATRLIN:def 4
.= ( ( R9 * C55 ) * R15 ) by L194 , L195 , L200 , L185
.= ( R9 * ( C55 * R15 ) ) by VECTSP_1:def 16;
L202: ( 0. R10 ) = ( ( R9 * ( C54 . R15 ) ) + ( - ( R9 * ( C55 * R15 ) ) ) ) by L201 , VECTSP_1:16
.= ( ( R9 * ( C54 . R15 ) ) + ( R9 * ( - ( C55 * R15 ) ) ) ) by VECTSP_1:22
.= ( R9 * ( ( C54 . R15 ) - ( C55 * R15 ) ) ) by VECTSP_1:def 14;
L203: ( ( C54 . R15 ) - ( C55 * R15 ) ) = ( 0. R10 ) by L202 , L190 , VECTSP_1:15;
L204: ( - ( C54 . R15 ) ) = ( - ( C55 * R15 ) ) by L203 , VECTSP_1:16;
L205: ( C54 . R15 ) = ( C55 * R15 ) by L204 , RLVECT_1:18;
thus L206: thesis by L205 , L185;
end;
theorem
L207: (for R8 being Field holds (for R10 being non  trivial (VectSp of R8) holds (for B53 , B54 being  with_eigenvalues (Function of R10 , R10) holds (for B55 , B56 being (Scalar of R8) holds ((B55 is (eigenvalue of B53) & B56 is (eigenvalue of B54) & (ex R14 being (Vector of R10) st (R14 is (eigenvector of B53 , B55) & R14 is (eigenvector of B54 , B56) & R14 <> ( 0. R10 )))) implies (( B53 + B54 ) is  with_eigenvalues & ( B55 + B56 ) is (eigenvalue of ( B53 + B54 )) & (for R15 being (Vector of R10) holds ((R15 is (eigenvector of B53 , B55) & R15 is (eigenvector of B54 , B56)) implies R15 is (eigenvector of ( B53 + B54 ) , ( B55 + B56 ))))))))))
proof
let R8 being Field;
let R10 being non  trivial (VectSp of R8);
let C56 , C57 being  with_eigenvalues (Function of R10 , R10);
let C58 , C59 being (Scalar of R8);
set D29 = ( C56 + C57 );
assume that
L208: C58 is (eigenvalue of C56)
and
L209: C59 is (eigenvalue of C57);
given R14 being (Vector of R10) such that
L210: R14 is (eigenvector of C56 , C58)
and
L211: R14 is (eigenvector of C57 , C59)
and
L212: R14 <> ( 0. R10 );

L213: ( D29 . R14 ) = ( ( C56 . R14 ) + ( C57 . R14 ) ) by MATRLIN:def 3
.= ( ( C58 * R14 ) + ( C57 . R14 ) ) by L208 , L210 , L185
.= ( ( C58 * R14 ) + ( C59 * R14 ) ) by L209 , L211 , L185
.= ( ( C58 + C59 ) * R14 ) by VECTSP_1:def 15;
thus L214: D29 is  with_eigenvalues by L213 , L212 , L171;
thus L215: ( C58 + C59 ) is (eigenvalue of D29) by L214 , L212 , L213 , L180;
let R15 being (Vector of R10);
assume that
L216: R15 is (eigenvector of C56 , C58)
and
L217: R15 is (eigenvector of C57 , C59);
L218: ( D29 . R15 ) = ( ( C56 . R15 ) + ( C57 . R15 ) ) by MATRLIN:def 3
.= ( ( C58 * R15 ) + ( C57 . R15 ) ) by L208 , L216 , L185
.= ( ( C58 * R15 ) + ( C59 * R15 ) ) by L209 , L217 , L185
.= ( ( C58 + C59 ) * R15 ) by VECTSP_1:def 15;
thus L219: thesis by L218 , L214 , L215 , L185;
end;
theorem
L220: (for R8 being Field holds (for R10 being non  trivial (VectSp of R8) holds (( id R10 ) is  with_eigenvalues & ( 1_ R8 ) is (eigenvalue of ( id R10 )) & (for R14 being (Vector of R10) holds R14 is (eigenvector of ( id R10 ) , ( 1_ R8 ))))))
proof
let R8 being Field;
let R10 being non  trivial (VectSp of R8);
thus L221: ( id R10 ) is  with_eigenvalues by L173;
L222: (ex R14 being (Vector of R10) st (R14 <> ( 0. R10 ) & ( ( id R10 ) . R14 ) = ( ( 1_ R8 ) * R14 ))) by L173;
thus L223: ( 1_ R8 ) is (eigenvalue of ( id R10 )) by L222 , L221 , L180;
let R15 being (Vector of R10);
L224: ( ( id R10 ) . R15 ) = R15 by FUNCT_1:17
.= ( ( 1_ R8 ) * R15 ) by VECTSP_1:def 17;
thus L225: thesis by L224 , L221 , L223 , L185;
end;
theorem
L226: (for R8 being Field holds (for R10 being non  trivial (VectSp of R8) holds (for B57 being (eigenvalue of ( id R10 )) holds B57 = ( 1_ R8 ))))
proof
let R8 being Field;
let R10 being non  trivial (VectSp of R8);
let C60 being (eigenvalue of ( id R10 ));
L227: ( id R10 ) is  with_eigenvalues by L220;
consider C61 being (Vector of R10) such that L228: C61 <> ( 0. R10 ) and L229: ( ( id R10 ) . C61 ) = ( C60 * C61 ) by L227 , L180;
L230: ( C60 * C61 ) = C61 by L229 , FUNCT_1:17
.= ( ( 1_ R8 ) * C61 ) by VECTSP_1:def 17;
thus L231: thesis by L230 , L228 , VECTSP10:4;
end;
theorem
L232: (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R13 being (linear-transformation of R11 , R11) holds (( ker R13 ) is non  trivial implies (R13 is  with_eigenvalues & ( 0. R8 ) is (eigenvalue of R13))))))
proof
let R8 being Field;
let R11 being (VectSp of R8);
let R13 being (linear-transformation of R11 , R11);
assume L233: ( ker R13 ) is non  trivial;
consider C62 being (Vector of ( ker R13 )) such that L234: C62 <> ( 0. ( ker R13 ) ) by L233 , STRUCT_0:def 18;
reconsider D30 = C62 as (Vector of R11) by VECTSP_4:10;
L235: ( R13 . D30 ) = ( 0. R11 ) by RANKNULL:14
.= ( ( 0. R8 ) * D30 ) by VECTSP_1:14;
L236: D30 <> ( 0. R11 ) by L234 , VECTSP_4:11;
L237: R13 is  with_eigenvalues by L236 , L235 , L171;
thus L238: thesis by L237 , L236 , L235 , L180;
end;
theorem
L239: (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R13 being (linear-transformation of R11 , R11) holds (for R17 being (Scalar of R8) holds ((R13 is  with_eigenvalues & R17 is (eigenvalue of R13)) iff ( ker ( R13 + ( ( - R17 ) * ( id R11 ) ) ) ) is non  trivial)))))
proof
let R8 being Field;
let R11 being (VectSp of R8);
let R13 being (linear-transformation of R11 , R11);
let R17 being (Scalar of R8);
thus L240:now
assume L241: (R13 is  with_eigenvalues & R17 is (eigenvalue of R13));
consider R16 being (Vector of R11) such that L242: R16 <> ( 0. R11 ) and L243: ( R13 . R16 ) = ( R17 * R16 ) by L241 , L180;
L244: ( ( R13 + ( ( - R17 ) * ( id R11 ) ) ) . R16 ) = ( ( R13 . R16 ) + ( ( ( - R17 ) * ( id R11 ) ) . R16 ) ) by MATRLIN:def 3
.= ( ( R13 . R16 ) + ( ( - R17 ) * ( ( id R11 ) . R16 ) ) ) by MATRLIN:def 4
.= ( ( R13 . R16 ) + ( ( - R17 ) * R16 ) ) by FUNCT_1:17
.= ( ( R17 + ( - R17 ) ) * R16 ) by L243 , VECTSP_1:def 15
.= ( ( 0. R8 ) * R16 ) by VECTSP_1:19
.= ( 0. R11 ) by VECTSP_1:15;
L245: R16 in ( ker ( R13 + ( ( - R17 ) * ( id R11 ) ) ) ) by L244 , RANKNULL:10;
L246: R16 is (Element of ( ker ( R13 + ( ( - R17 ) * ( id R11 ) ) ) )) by L245 , STRUCT_0:def 5;
L247: R16 <> ( 0. ( ker ( R13 + ( ( - R17 ) * ( id R11 ) ) ) ) ) by L242 , VECTSP_4:11;
thus L248: ( ker ( R13 + ( ( - R17 ) * ( id R11 ) ) ) ) is non  trivial by L247 , L246 , STRUCT_0:def 18;
end;
assume L249: ( ker ( R13 + ( ( - R17 ) * ( id R11 ) ) ) ) is non  trivial;
consider C63 being (Vector of ( ker ( R13 + ( ( - R17 ) * ( id R11 ) ) ) )) such that L250: C63 <> ( 0. ( ker ( R13 + ( ( - R17 ) * ( id R11 ) ) ) ) ) by L249 , STRUCT_0:def 18;
L251: C63 in ( ker ( R13 + ( ( - R17 ) * ( id R11 ) ) ) ) by STRUCT_0:def 5;
reconsider D31 = C63 as (Vector of R11) by VECTSP_4:10;
L252: ( 0. R11 ) = ( ( R13 + ( ( - R17 ) * ( id R11 ) ) ) . D31 ) by L251 , RANKNULL:10
.= ( ( R13 . D31 ) + ( ( ( - R17 ) * ( id R11 ) ) . D31 ) ) by MATRLIN:def 3
.= ( ( R13 . D31 ) + ( ( - R17 ) * ( ( id R11 ) . D31 ) ) ) by MATRLIN:def 4
.= ( ( R13 . D31 ) + ( ( - R17 ) * D31 ) ) by FUNCT_1:17;
L253: ( R13 . D31 ) = ( - ( ( - R17 ) * D31 ) ) by L252 , VECTSP_1:16
.= ( ( - ( - R17 ) ) * D31 ) by VECTSP_1:21
.= ( R17 * D31 ) by RLVECT_1:17;
L254: D31 <> ( 0. R11 ) by L250 , VECTSP_4:11;
L255: R13 is  with_eigenvalues by L254 , L253 , L171;
thus L256: thesis by L255 , L253 , L254 , L180;
end;
theorem
L257: (for R8 being Field holds (for R17 being (Scalar of R8) holds (for B58 being  finite-dimensional (VectSp of R8) holds (for B59 , B60 being (OrdBasis of B58) holds (for B61 being (linear-transformation of B58 , B58) holds ((B61 is  with_eigenvalues & R17 is (eigenvalue of B61)) iff ( Det ( AutEqMt (( B61 + ( ( - R17 ) * ( id B58 ) ) ) , B59 , B60) ) ) = ( 0. R8 )))))))
proof
let R8 being Field;
let R17 being (Scalar of R8);
let C64 being  finite-dimensional (VectSp of R8);
let C65 , C66 being (OrdBasis of C64);
let C67 being (linear-transformation of C64 , C64);
L258: ( dim C64 ) = ( dim C64 );
thus L259:now
assume L260: (C67 is  with_eigenvalues & R17 is (eigenvalue of C67));
L261: ( ker ( C67 + ( ( - R17 ) * ( id C64 ) ) ) ) is non  trivial by L260 , L239;
thus L262: ( Det ( AutEqMt (( C67 + ( ( - R17 ) * ( id C64 ) ) ) , C65 , C66) ) ) = ( 0. R8 ) by L261 , L258 , MATRLIN2:50;
end;
assume L263: ( Det ( AutEqMt (( C67 + ( ( - R17 ) * ( id C64 ) ) ) , C65 , C66) ) ) = ( 0. R8 );
L264: ( ker ( C67 + ( ( - R17 ) * ( id C64 ) ) ) ) is non  trivial by L263 , L258 , MATRLIN2:50;
thus L265: thesis by L264 , L239;
end;
theorem
L266: (for B62 being  algebraic-closed Field holds (for B63 being non  trivial  finite-dimensional (VectSp of B62) holds (for B64 being (linear-transformation of B63 , B63) holds B64 is  with_eigenvalues)))
proof
let C68 being  algebraic-closed Field;
let C69 being non  trivial  finite-dimensional (VectSp of C68);
let C70 being (linear-transformation of C69 , C69);
set D32 = the (OrdBasis of C69);
set D33 = ( AutMt (C70 , D32 , D32) );
consider C71 being (Polynomial of C68) such that L267: ( len C71 ) = ( ( len D32 ) + 1 ) and L268: (for B65 being (Element of C68) holds ( eval (C71 , B65) ) = ( Det ( D33 + ( B65 * ( 1. (C68 , ( len D32 )) ) ) ) )) by L99;
L269: (( dim C69 ) <> ( 0 ) & ( dim C69 ) = ( len D32 )) by MATRLIN2:21 , MATRLIN2:42;
L270: ( len C71 ) > ( 1 + ( 0 ) ) by L269 , L267 , XREAL_1:8;
L271: C71 is  with_roots by L270 , POLYNOM5:def 8;
consider C72 being (Element of C68) such that L272: C72 is_a_root_of C71 by L271 , POLYNOM5:def 7;
L273: ( Mx2Tran (( C72 * ( AutMt (( id C69 ) , D32 , D32) ) ) , D32 , D32) ) = ( C72 * ( Mx2Tran (( AutMt (( id C69 ) , D32 , D32) ) , D32 , D32) ) ) by MATRLIN2:38
.= ( C72 * ( id C69 ) ) by MATRLIN2:34
.= ( Mx2Tran (( AutMt (( C72 * ( id C69 ) ) , D32 , D32) ) , D32 , D32) ) by MATRLIN2:34;
L274: ( 0. C68 ) = ( eval (C71 , C72) ) by L272 , POLYNOM5:def 6
.= ( Det ( D33 + ( C72 * ( 1. (C68 , ( len D32 )) ) ) ) ) by L268
.= ( Det ( D33 + ( C72 * ( AutMt (( id C69 ) , D32 , D32) ) ) ) ) by MATRLIN2:28
.= ( Det ( D33 + ( AutMt (( C72 * ( id C69 ) ) , D32 , D32) ) ) ) by L273 , MATRLIN2:39
.= ( Det ( AutMt (( C70 + ( C72 * ( id C69 ) ) ) , D32 , D32) ) ) by MATRLIN:42
.= ( Det ( AutMt (( C70 + ( ( - ( - C72 ) ) * ( id C69 ) ) ) , D32 , D32) ) ) by RLVECT_1:17
.= ( Det ( AutEqMt (( C70 + ( ( - ( - C72 ) ) * ( id C69 ) ) ) , D32 , D32) ) ) by MATRLIN2:def 2;
thus L275: thesis by L274 , L257;
end;
theorem
L276: (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R16 being (Vector of R11) holds (for R13 being (linear-transformation of R11 , R11) holds (for R17 being (Scalar of R8) holds ((R13 is  with_eigenvalues & R17 is (eigenvalue of R13)) implies (R16 is (eigenvector of R13 , R17) iff R16 in ( ker ( R13 + ( ( - R17 ) * ( id R11 ) ) ) ))))))))
proof
let R8 being Field;
let R11 being (VectSp of R8);
let R16 being (Vector of R11);
let R13 being (linear-transformation of R11 , R11);
let R17 being (Scalar of R8);
assume that
L277: (R13 is  with_eigenvalues & R17 is (eigenvalue of R13));
thus L278:now
assume L279: R16 is (eigenvector of R13 , R17);
L280: ( R13 . R16 ) = ( R17 * R16 ) by L279 , L277 , L185;
L281: ( ( R13 + ( ( - R17 ) * ( id R11 ) ) ) . R16 ) = ( ( R13 . R16 ) + ( ( ( - R17 ) * ( id R11 ) ) . R16 ) ) by MATRLIN:def 3
.= ( ( R13 . R16 ) + ( ( - R17 ) * ( ( id R11 ) . R16 ) ) ) by MATRLIN:def 4
.= ( ( R13 . R16 ) + ( ( - R17 ) * R16 ) ) by FUNCT_1:17
.= ( ( R17 + ( - R17 ) ) * R16 ) by L280 , VECTSP_1:def 15
.= ( ( 0. R8 ) * R16 ) by VECTSP_1:19
.= ( 0. R11 ) by VECTSP_1:15;
thus L282: R16 in ( ker ( R13 + ( ( - R17 ) * ( id R11 ) ) ) ) by L281 , RANKNULL:10;
end;
assume L283: R16 in ( ker ( R13 + ( ( - R17 ) * ( id R11 ) ) ) );
L284: ( 0. R11 ) = ( ( R13 + ( ( - R17 ) * ( id R11 ) ) ) . R16 ) by L283 , RANKNULL:10
.= ( ( R13 . R16 ) + ( ( ( - R17 ) * ( id R11 ) ) . R16 ) ) by MATRLIN:def 3
.= ( ( R13 . R16 ) + ( ( - R17 ) * ( ( id R11 ) . R16 ) ) ) by MATRLIN:def 4
.= ( ( R13 . R16 ) + ( ( - R17 ) * R16 ) ) by FUNCT_1:17;
L285: ( R13 . R16 ) = ( - ( ( - R17 ) * R16 ) ) by L284 , VECTSP_1:16
.= ( ( - ( - R17 ) ) * R16 ) by VECTSP_1:21
.= ( R17 * R16 ) by RLVECT_1:17;
thus L286: thesis by L285 , L277 , L185;
end;
definition
let C73 being 1-sorted;
let C74 being (Function of C73 , C73);
let C75 being Nat;
func C74 |^ C75 -> (Function of C73 , C73) means 
:L287: (for B66 being (Element of ( GFuncs (the carrier of C73) )) holds (B66 = C74 implies it = ( Product ( C75 |-> B66 ) )));
existence
proof
reconsider D34 = C74 as (Element of ( GFuncs (the carrier of C73) )) by MONOID_0:73;
reconsider D35 = ( Product ( C75 |-> D34 ) ) as (Function of C73 , C73) by MONOID_0:73;
take D35;
thus L288: thesis;
end;
uniqueness
proof
reconsider D36 = C74 as (Element of ( GFuncs (the carrier of C73) )) by MONOID_0:73;
let C76 , C77 being (Function of C73 , C73);
assume that
L289: (for B67 being (Element of ( GFuncs (the carrier of C73) )) holds (B67 = C74 implies C76 = ( Product ( C75 |-> B67 ) )))
and
L290: (for B68 being (Element of ( GFuncs (the carrier of C73) )) holds (B68 = C74 implies C77 = ( Product ( C75 |-> B68 ) )));
thus L291: C76 = ( Product ( C75 |-> D36 ) ) by L289
.= C77 by L290;
end;
end;
theorem
L293: (for R18 being 1-sorted holds (for R19 being (Function of R18 , R18) holds ( R19 |^ ( 0 ) ) = ( id R18 )))
proof
let R18 being 1-sorted;
let R19 being (Function of R18 , R18);
set D37 = ( GFuncs (the carrier of R18) );
reconsider D38 = R19 as (Element of D37) by MONOID_0:73;
L294: ( ( 0 ) |-> D38 ) = ( <*> (the carrier of D37) );
L295: ( Product ( ( 0 ) |-> D38 ) ) = ( 1_ D37 ) by L294 , GROUP_4:8
.= ( the_unity_wrt (the multF of D37) ) by GROUP_1:22
.= ( id R18 ) by MONOID_0:75;
thus L296: thesis by L295 , L287;
end;
theorem
L297: (for R18 being 1-sorted holds (for R19 being (Function of R18 , R18) holds ( R19 |^ 1 ) = R19))
proof
let R18 being 1-sorted;
let R19 being (Function of R18 , R18);
set D39 = ( GFuncs (the carrier of R18) );
reconsider D40 = R19 as (Element of D39) by MONOID_0:73;
L298: ( Product ( 1 |-> D40 ) ) = ( Product <* D40 *> ) by FINSEQ_2:59
.= D40 by GROUP_4:9;
thus L299: thesis by L298 , L287;
end;
theorem
L300: (for R1 being Nat holds (for R2 being Nat holds (for R18 being 1-sorted holds (for R19 being (Function of R18 , R18) holds ( R19 |^ ( R1 + R2 ) ) = ( ( R19 |^ R2 ) * ( R19 |^ R1 ) )))))
proof
let R1 being Nat;
let R2 being Nat;
let R18 being 1-sorted;
let R19 being (Function of R18 , R18);
set D41 = ( GFuncs (the carrier of R18) );
reconsider D42 = R19 as (Element of D41) by MONOID_0:73;
reconsider D43 = D41 as  associative  unital non  empty multMagma;
reconsider D44 = R19 as (Element of D43) by MONOID_0:73;
L301: ( Product ( ( R1 + R2 ) |-> D44 ) ) = ( Product ( ( R1 |-> D44 ) ^ ( R2 |-> D44 ) ) ) by FINSEQ_2:123
.= ( ( Product ( R1 |-> D44 ) ) * ( Product ( R2 |-> D44 ) ) ) by GROUP_4:5
.= ( ( Product ( R2 |-> D42 ) ) (*) ( Product ( R1 |-> D42 ) ) ) by MONOID_0:70
.= ( ( R19 |^ R2 ) (*) ( Product ( R1 |-> D42 ) ) ) by L287
.= ( ( R19 |^ R2 ) (*) ( R19 |^ R1 ) ) by L287;
thus L302: thesis by L301 , L287;
end;
theorem
L303: (for R1 being Nat holds (for R18 being 1-sorted holds (for R19 being (Function of R18 , R18) holds (for B69 , B70 being (Element of R18) holds (for R4 being Nat holds (for R3 being Nat holds ((( ( R19 |^ R3 ) . B69 ) = B70 & ( ( R19 |^ R4 ) . B70 ) = B70) implies ( ( R19 |^ ( R3 + ( R1 * R4 ) ) ) . B69 ) = B70)))))))
proof
let R1 being Nat;
let R18 being 1-sorted;
let R19 being (Function of R18 , R18);
let C78 , C79 being (Element of R18);
let R4 being Nat;
let R3 being Nat;
assume that
L304: ( ( R19 |^ R3 ) . C78 ) = C79
and
L305: ( ( R19 |^ R4 ) . C79 ) = C79;
defpred S5[ Nat ] means ( ( R19 |^ ( R3 + ( $1 * R4 ) ) ) . C78 ) = C79;
L306: (for R1 being Nat holds (S5[ R1 ] implies S5[ ( R1 + 1 ) ]))
proof
let R1 being Nat;
assume that
L307: S5[ R1 ];
L308: ( dom ( R19 |^ ( R3 + ( R1 * R4 ) ) ) ) = (the carrier of R18) by FUNCT_2:52;
per cases ;
suppose L309: (the carrier of R18) <> ( {} );

thus L310: ( ( R19 |^ ( R3 + ( ( R1 + 1 ) * R4 ) ) ) . C78 ) = ( ( R19 |^ ( R4 + ( R3 + ( R1 * R4 ) ) ) ) . C78 )
.= ( ( ( R19 |^ R4 ) * ( R19 |^ ( R3 + ( R1 * R4 ) ) ) ) . C78 ) by L300
.= C79 by L305 , L307 , L308 , L309 , FUNCT_1:13;
end;
suppose L311: (the carrier of R18) = ( {} );

L312: ((not C78 in ( dom ( R19 |^ ( R3 + ( ( R1 + 1 ) * R4 ) ) ) )) & C79 = ( {} )) by L311 , SUBSET_1:def 1;
thus L313: ( ( R19 |^ ( R3 + ( ( R1 + 1 ) * R4 ) ) ) . C78 ) = C79 by L312 , FUNCT_1:def 2;
end;
end;
L315: S5[ ( 0 ) ] by L304;
L316: (for R1 being Nat holds S5[ R1 ]) from NAT_1:sch 2(L315 , L306);
thus L317: thesis by L316;
end;
theorem
L318: (for R4 being Nat holds (for B71 being  add-associative  right_zeroed  right_complementable  Abelian  associative  well-unital  distributive non  empty doubleLoopStr holds (for B72 being  Abelian  add-associative  right_zeroed  right_complementable  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty VectSpStr over B71 holds (for B73 being (Subspace of B72) holds (for B74 being (Function of B72 , B72) holds (for B75 being (Function of B73 , B73) holds (B75 = ( B74 | B73 ) implies ( ( B74 |^ R4 ) | B73 ) = ( B75 |^ R4 ))))))))
proof
let R4 being Nat;
let C80 being  add-associative  right_zeroed  right_complementable  Abelian  associative  well-unital  distributive non  empty doubleLoopStr;
let C81 being  Abelian  add-associative  right_zeroed  right_complementable  vector-distributive  scalar-distributive  scalar-associative  scalar-unital non  empty VectSpStr over C80;
let C82 being (Subspace of C81);
let C83 being (Function of C81 , C81);
let C84 being (Function of C82 , C82);
assume that
L319: C84 = ( C83 | C82 );
defpred S6[ Nat ] means ( ( C83 |^ $1 ) | C82 ) = ( C84 |^ $1 );
L320: (for R4 being Nat holds (S6[ R4 ] implies S6[ ( R4 + 1 ) ]))
proof
let R4 being Nat;
assume that
L321: S6[ R4 ];
L322: ( rng ( C84 |^ R4 ) ) c= ( [#] C82 ) by RELAT_1:def 19;
thus L323: ( ( C83 |^ ( R4 + 1 ) ) | C82 ) = ( ( ( C83 |^ 1 ) * ( C83 |^ R4 ) ) | C82 ) by L300
.= ( ( C83 |^ 1 ) * ( ( C83 |^ R4 ) | C82 ) ) by RELAT_1:83
.= ( ( C83 |^ 1 ) * ( ( id C82 ) * ( C84 |^ R4 ) ) ) by L321 , L322 , RELAT_1:53
.= ( ( ( C83 |^ 1 ) * ( id C82 ) ) * ( C84 |^ R4 ) ) by RELAT_1:36
.= ( ( C83 * ( id C82 ) ) * ( C84 |^ R4 ) ) by L297
.= ( C84 * ( C84 |^ R4 ) ) by L319 , RELAT_1:65
.= ( ( C84 |^ 1 ) * ( C84 |^ R4 ) ) by L297
.= ( C84 |^ ( R4 + 1 ) ) by L300;
end;
L324: ( [#] C82 ) c= ( [#] C81 ) by VECTSP_4:def 2;
L325: ( [#] C82 ) = ( ( [#] C81 ) /\ ( [#] C82 ) ) by L324 , XBOOLE_1:28;
L326: ( ( C83 |^ ( 0 ) ) | C82 ) = ( ( id C81 ) | C82 ) by L293
.= ( ( id C81 ) * ( id C82 ) ) by RELAT_1:65
.= ( id C82 ) by L325 , FUNCT_1:22
.= ( C84 |^ ( 0 ) ) by L293;
L327: S6[ ( 0 ) ] by L326;
L328: (for R4 being Nat holds S6[ R4 ]) from NAT_1:sch 2(L327 , L320);
thus L329: thesis by L328;
end;
registration
let R8 being Field;
let R11 being (VectSp of R8);
let C85 being (linear-transformation of R11 , R11);
let C86 being Nat;
cluster ( C85 |^ C86 ) ->  homogeneous  additive;
coherence
proof
defpred S7[ Nat ] means ( C85 |^ $1 ) is (linear-transformation of R11 , R11);
L330: (for R5 being Nat holds (S7[ R5 ] implies S7[ ( R5 + 1 ) ]))
proof
let R5 being Nat;
assume L331: S7[ R5 ];
reconsider D45 = ( C85 |^ R5 ) as (linear-transformation of R11 , R11) by L331;
L332: ( C85 |^ ( R5 + 1 ) ) = ( D45 * ( C85 |^ 1 ) ) by L300
.= ( D45 * C85 ) by L297;
thus L333: thesis by L332;
end;
L334: ( C85 |^ ( 0 ) ) = ( id R11 ) by L293;
L335: S7[ ( 0 ) ] by L334;
L336: (for R5 being Nat holds S7[ R5 ]) from NAT_1:sch 2(L335 , L330);
thus L337: thesis by L336;
end;
end;
theorem
L339: (for R1 being Nat holds (for R2 being Nat holds (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R13 being (linear-transformation of R11 , R11) holds (for R16 being (Vector of R11) holds (( ( R13 |^ R1 ) . R16 ) = ( 0. R11 ) implies ( ( R13 |^ ( R1 + R2 ) ) . R16 ) = ( 0. R11 ))))))))
proof
let R1 being Nat;
let R2 being Nat;
let R8 being Field;
let R11 being (VectSp of R8);
let R13 being (linear-transformation of R11 , R11);
let R16 being (Vector of R11);
assume L340: ( ( R13 |^ R1 ) . R16 ) = ( 0. R11 );
L341: ( dom ( R13 |^ R1 ) ) = (the carrier of R11) by FUNCT_2:def 1;
thus L342: ( ( R13 |^ ( R1 + R2 ) ) . R16 ) = ( ( ( R13 |^ R2 ) * ( R13 |^ R1 ) ) . R16 ) by L300
.= ( ( R13 |^ R2 ) . ( 0. R11 ) ) by L340 , L341 , FUNCT_1:13
.= ( 0. R11 ) by RANKNULL:9;
end;
begin
definition
let R8 being Field;
let R11 being (VectSp of R8);
let R13 being (linear-transformation of R11 , R11);
func UnionKers R13 ->  strict (Subspace of R11) means 
:L343: (the carrier of it) = { B76 where B76 is (Vector of R11) : (ex R4 being Nat st ( ( R13 |^ R4 ) . B76 ) = ( 0. R11 )) };
existence
proof
set D46 = { B77 where B77 is (Vector of R11) : (ex R4 being Nat st ( ( R13 |^ R4 ) . B77 ) = ( 0. R11 )) };
L344: D46 c= (the carrier of R11)
proof
let R6 being set;
assume L345: R6 in D46;
L346: (ex B78 being (Vector of R11) st (R6 = B78 & (ex R4 being Nat st ( ( R13 |^ R4 ) . B78 ) = ( 0. R11 )))) by L345;
thus L347: thesis by L346;
end;
reconsider D47 = D46 as (Subset of R11) by L344;
L348: ( ( R13 |^ ( 0 ) ) . ( 0. R11 ) ) = ( ( id R11 ) . ( 0. R11 ) ) by L293
.= ( 0. R11 ) by FUNCT_1:17;
L349: ( 0. R11 ) in D47 by L348;
L350:
now
let C87 , C88 being (Element of R11);
assume that
L351: C87 in D47
and
L352: C88 in D47;
L353: (ex B79 being (Vector of R11) st (B79 = C87 & (ex R4 being Nat st ( ( R13 |^ R4 ) . B79 ) = ( 0. R11 )))) by L351;
consider R4 being Nat such that L354: ( ( R13 |^ R4 ) . C87 ) = ( 0. R11 ) by L353;
L355: (ex B80 being (Vector of R11) st (B80 = C88 & (ex R3 being Nat st ( ( R13 |^ R3 ) . B80 ) = ( 0. R11 )))) by L352;
consider R3 being Nat such that L356: ( ( R13 |^ R3 ) . C88 ) = ( 0. R11 ) by L355;
L357:
now
per cases ;
suppose L358: R3 <= R4;

reconsider D48 = ( R4 - R3 ) as Nat by L358 , NAT_1:21;
L359: ( ( R13 |^ R4 ) . ( C87 + C88 ) ) = ( ( ( R13 |^ R4 ) . C87 ) + ( ( R13 |^ ( R3 + D48 ) ) . C88 ) ) by VECTSP_1:def 20
.= ( ( 0. R11 ) + ( 0. R11 ) ) by L354 , L356 , L339
.= ( 0. R11 ) by RLVECT_1:def 4;
thus L360: ( C87 + C88 ) in D47 by L359;
end;
suppose L361: R3 > R4;

reconsider D49 = ( R3 - R4 ) as Nat by L361 , NAT_1:21;
L362: ( ( R13 |^ R3 ) . ( C87 + C88 ) ) = ( ( ( R13 |^ R3 ) . C87 ) + ( ( R13 |^ ( R4 + D49 ) ) . C88 ) ) by VECTSP_1:def 20
.= ( ( 0. R11 ) + ( 0. R11 ) ) by L354 , L356 , L339
.= ( 0. R11 ) by RLVECT_1:def 4;
thus L363: ( C87 + C88 ) in D47 by L362;
end;
end;
thus L365: ( C87 + C88 ) in D47 by L357;
end;
L366:
now
let C89 being (Element of R8);
let C90 being (Element of R11);
assume L367: C90 in D47;
L368: (ex B81 being (Vector of R11) st (B81 = C90 & (ex R4 being Nat st ( ( R13 |^ R4 ) . B81 ) = ( 0. R11 )))) by L367;
consider R4 being Nat such that L369: ( ( R13 |^ R4 ) . C90 ) = ( 0. R11 ) by L368;
L370: ( ( R13 |^ R4 ) . ( C89 * C90 ) ) = ( C89 * ( 0. R11 ) ) by L369 , MOD_2:def 2
.= ( 0. R11 ) by VECTSP_1:14;
thus L371: ( C89 * C90 ) in D47 by L370;
end;
L372: D47 is  linearly-closed by L366 , L350 , VECTSP_4:def 1;
thus L373: thesis by L372 , L349 , VECTSP_4:34;
end;
uniqueness by VECTSP_4:29;
end;
theorem
L375: (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R13 being (linear-transformation of R11 , R11) holds (for R16 being (Vector of R11) holds (R16 in ( UnionKers R13 ) iff (ex R4 being Nat st ( ( R13 |^ R4 ) . R16 ) = ( 0. R11 )))))))
proof
let R8 being Field;
let R11 being (VectSp of R8);
let R13 being (linear-transformation of R11 , R11);
let R16 being (Vector of R11);
thus L376:now
assume L377: R16 in ( UnionKers R13 );
L378: R16 in (the carrier of ( UnionKers R13 )) by L377 , STRUCT_0:def 5;
L379: R16 in { B82 where B82 is (Vector of R11) : (ex R4 being Nat st ( ( R13 |^ R4 ) . B82 ) = ( 0. R11 )) } by L378 , L343;
L380: (ex B83 being (Vector of R11) st (R16 = B83 & (ex R3 being Nat st ( ( R13 |^ R3 ) . B83 ) = ( 0. R11 )))) by L379;
thus L381: (ex R4 being Nat st ( ( R13 |^ R4 ) . R16 ) = ( 0. R11 )) by L380;
end;
assume L382: (ex R4 being Nat st ( ( R13 |^ R4 ) . R16 ) = ( 0. R11 ));
L383: R16 in { B84 where B84 is (Vector of R11) : (ex R4 being Nat st ( ( R13 |^ R4 ) . B84 ) = ( 0. R11 )) } by L382;
L384: R16 in (the carrier of ( UnionKers R13 )) by L383 , L343;
thus L385: thesis by L384 , STRUCT_0:def 5;
end;
theorem
L386: (for R1 being Nat holds (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R13 being (linear-transformation of R11 , R11) holds ( ker ( R13 |^ R1 ) ) is (Subspace of ( UnionKers R13 ))))))
proof
let R1 being Nat;
let R8 being Field;
let R11 being (VectSp of R8);
let R13 being (linear-transformation of R11 , R11);
L387: (the carrier of ( ker ( R13 |^ R1 ) )) c= (the carrier of ( UnionKers R13 ))
proof
let R6 being set;
assume L388: R6 in (the carrier of ( ker ( R13 |^ R1 ) ));
reconsider D50 = R6 as (Element of ( ker ( R13 |^ R1 ) )) by L388;
L389: (( ( R13 |^ R1 ) . D50 ) = ( 0. R11 ) & D50 is (Vector of R11)) by RANKNULL:14 , VECTSP_4:10;
L390: R6 in ( UnionKers R13 ) by L389 , L375;
thus L391: thesis by L390 , STRUCT_0:def 5;
end;
thus L392: thesis by L387 , VECTSP_4:27;
end;
theorem
L393: (for R1 being Nat holds (for R2 being Nat holds (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R13 being (linear-transformation of R11 , R11) holds ( ker ( R13 |^ R1 ) ) is (Subspace of ( ker ( R13 |^ ( R1 + R2 ) ) )))))))
proof
let R1 being Nat;
let R2 being Nat;
let R8 being Field;
let R11 being (VectSp of R8);
let R13 being (linear-transformation of R11 , R11);
L394: (the carrier of ( ker ( R13 |^ R1 ) )) c= (the carrier of ( ker ( R13 |^ ( R1 + R2 ) ) ))
proof
let R6 being set;
assume that
L395: R6 in (the carrier of ( ker ( R13 |^ R1 ) ));
reconsider D51 = R6 as (Vector of R11) by L395 , VECTSP_4:10;
L396: ( ( R13 |^ R1 ) . D51 ) = ( 0. R11 ) by L395 , RANKNULL:14;
L397: ( ( R13 |^ ( R1 + R2 ) ) . D51 ) = ( 0. R11 ) by L396 , L339;
L398: D51 in ( ker ( R13 |^ ( R1 + R2 ) ) ) by L397 , RANKNULL:10;
thus L399: thesis by L398 , STRUCT_0:def 5;
end;
thus L400: thesis by L394 , VECTSP_4:27;
end;
theorem
L401: (for R8 being Field holds (for B85 being  finite-dimensional (VectSp of R8) holds (for B86 being (linear-transformation of B85 , B85) holds (ex R4 being Nat st ( UnionKers B86 ) = ( ker ( B86 |^ R4 ) )))))
proof
let R8 being Field;
let C91 being  finite-dimensional (VectSp of R8);
let C92 being (linear-transformation of C91 , C91);
defpred S8[ Nat ] means (for R4 being Nat holds ( dim ( ker ( C92 |^ R4 ) ) ) <= $1);
L402: S8[ ( dim ( UnionKers C92 ) ) ]
proof
let R4 being Nat;
L403: ( ker ( C92 |^ R4 ) ) is (Subspace of ( UnionKers C92 )) by L386;
thus L404: thesis by L403 , VECTSP_9:25;
end;
L405: (ex R5 being Nat st S8[ R5 ]) by L402;
L406: (ex R5 being Nat st (S8[ R5 ] & (for R4 being Nat holds (S8[ R4 ] implies R5 <= R4)))) from NAT_1:sch 5(L405);
consider R5 being Nat such that L407: S8[ R5 ] and L408: (for R4 being Nat holds (S8[ R4 ] implies R5 <= R4)) by L406;
L409: (ex R3 being Nat st ( dim ( ker ( C92 |^ R3 ) ) ) = R5)
proof
assume L410: (for R3 being Nat holds ( dim ( ker ( C92 |^ R3 ) ) ) <> R5);
L411: ( dim ( ker ( C92 |^ ( 0 ) ) ) ) <= R5 by L407;
L412: ( dim ( ker ( C92 |^ ( 0 ) ) ) ) < R5 by L411 , L410 , XXREAL_0:1;
reconsider D52 = ( R5 - 1 ) as (Element of ( NAT )) by L412 , NAT_1:20;
L413:
now
let R4 being Nat;
L414: ( dim ( ker ( C92 |^ R4 ) ) ) <= R5 by L407;
L415: ( dim ( ker ( C92 |^ R4 ) ) ) < ( D52 + 1 ) by L414 , L410 , XXREAL_0:1;
thus L416: ( dim ( ker ( C92 |^ R4 ) ) ) <= D52 by L415 , NAT_1:13;
end;
L417: ( D52 + 1 ) <= D52 by L413 , L408;
thus L418: thesis by L417 , NAT_1:16;
end;
consider R3 being Nat such that L419: ( dim ( ker ( C92 |^ R3 ) ) ) = R5 by L409;
take R3;
assume L420: ( UnionKers C92 ) <> ( ker ( C92 |^ R3 ) );
L421: ( ker ( C92 |^ R3 ) ) is (Subspace of ( UnionKers C92 )) by L386;
consider C93 being (Element of ( UnionKers C92 )) such that L422: (not C93 in ( ker ( C92 |^ R3 ) )) by L421 , L420 , VECTSP_4:32;
L423: C93 in ( UnionKers C92 ) by STRUCT_0:def 5;
reconsider D53 = C93 as (Vector of C91) by VECTSP_4:10;
consider R1 being Nat such that L424: ( ( C92 |^ R1 ) . D53 ) = ( 0. C91 ) by L423 , L375;
L425: R1 > R3
proof
assume L426: R1 <= R3;
reconsider D54 = ( R3 - R1 ) as (Element of ( NAT )) by L426 , NAT_1:21;
L427: ( ( C92 |^ ( D54 + R1 ) ) . D53 ) = ( 0. C91 ) by L424 , L339;
thus L428: thesis by L427 , L422 , RANKNULL:10;
end;
reconsider D55 = ( R1 - R3 ) as (Element of ( NAT )) by L425 , NAT_1:21;
L429: ( ker ( C92 |^ R3 ) ) is (Subspace of ( ker ( C92 |^ ( R3 + D55 ) ) )) by L393;
L430: R5 <= ( dim ( ker ( C92 |^ R1 ) ) ) by L429 , L419 , VECTSP_9:25;
L431: ( (Omega). ( ker ( C92 |^ R3 ) ) ) <> ( (Omega). ( ker ( C92 |^ R1 ) ) ) by L422 , L424 , RANKNULL:10;
L432: R5 <> ( dim ( ker ( C92 |^ R1 ) ) ) by L431 , L419 , L429 , VECTSP_9:28;
L433: R5 < ( dim ( ker ( C92 |^ R1 ) ) ) by L432 , L430 , XXREAL_0:1;
thus L434: thesis by L433 , L407;
end;
theorem
L435: (for R4 being Nat holds (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R13 being (linear-transformation of R11 , R11) holds ( R13 | ( ker ( R13 |^ R4 ) ) ) is (linear-transformation of ( ker ( R13 |^ R4 ) ) , ( ker ( R13 |^ R4 ) ))))))
proof
let R4 being Nat;
let R8 being Field;
let R11 being (VectSp of R8);
let R13 being (linear-transformation of R11 , R11);
set D56 = ( ker ( R13 |^ R4 ) );
L436: ( rng ( R13 | D56 ) ) c= (the carrier of D56)
proof
let R7 being set;
assume L437: R7 in ( rng ( R13 | D56 ) );
consider R6 being set such that L438: R6 in ( dom ( R13 | D56 ) ) and L439: ( ( R13 | D56 ) . R6 ) = R7 by L437 , FUNCT_1:def 3;
L440: R6 in (the carrier of D56) by L438 , FUNCT_2:def 1;
L441: R6 in D56 by L440 , STRUCT_0:def 5;
L442: R6 in R11 by L441 , VECTSP_4:9;
reconsider D57 = R6 as (Vector of R11) by L442 , STRUCT_0:def 5;
L443: ( dom R13 ) = (the carrier of R11) by FUNCT_2:def 1;
L444: ( ( R13 |^ R4 ) . D57 ) = ( 0. R11 ) by L441 , RANKNULL:10;
L445: ( 0. R11 ) = ( ( R13 |^ ( R4 + 1 ) ) . D57 ) by L444 , L339
.= ( ( ( R13 |^ R4 ) * ( R13 |^ 1 ) ) . D57 ) by L300
.= ( ( ( R13 |^ R4 ) * R13 ) . D57 ) by L297
.= ( ( R13 |^ R4 ) . ( R13 . D57 ) ) by L443 , FUNCT_1:13;
L446: ( R13 . D57 ) in D56 by L445 , RANKNULL:10;
L447: R7 = ( R13 . D57 ) by L438 , L439 , FUNCT_1:47;
thus L448: thesis by L447 , L446 , STRUCT_0:def 5;
end;
thus L449: thesis by L436 , L159 , FUNCT_2:6;
end;
theorem
L450: (for R4 being Nat holds (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R13 being (linear-transformation of R11 , R11) holds (for R17 being (Scalar of R8) holds ( R13 | ( ker ( ( R13 + ( R17 * ( id R11 ) ) ) |^ R4 ) ) ) is (linear-transformation of ( ker ( ( R13 + ( R17 * ( id R11 ) ) ) |^ R4 ) ) , ( ker ( ( R13 + ( R17 * ( id R11 ) ) ) |^ R4 ) )))))))
proof
let R4 being Nat;
let R8 being Field;
let R11 being (VectSp of R8);
let R13 being (linear-transformation of R11 , R11);
let R17 being (Scalar of R8);
set D58 = ( R13 + ( R17 * ( id R11 ) ) );
set D59 = ( ker ( D58 |^ R4 ) );
reconsider D60 = ( D58 | D59 ) as (linear-transformation of D59 , D59) by L435;
L451: ( rng ( R13 | D59 ) ) c= (the carrier of D59)
proof
let R7 being set;
assume L452: R7 in ( rng ( R13 | D59 ) );
consider R6 being set such that L453: R6 in ( dom ( R13 | D59 ) ) and L454: ( ( R13 | D59 ) . R6 ) = R7 by L452 , FUNCT_1:def 3;
L455: R6 in (the carrier of D59) by L453 , FUNCT_2:def 1;
L456: R6 in D59 by L455 , STRUCT_0:def 5;
L457: R6 in R11 by L456 , VECTSP_4:9;
reconsider D61 = R6 as (Vector of R11) by L457 , STRUCT_0:def 5;
L458: ( ( R13 | D59 ) . D61 ) = ( R13 . D61 ) by L453 , FUNCT_1:47;
L459: ( dom D60 ) = (the carrier of D59) by FUNCT_2:def 1;
L460: (( D60 . D61 ) = ( D58 . D61 ) & ( D60 /. D61 ) = ( D60 . D61 )) by L459 , L455 , FUNCT_1:47 , PARTFUN1:def 6;
L461: ( D58 . D61 ) in D59 by L460 , STRUCT_0:def 5;
L462: ( D58 . D61 ) = ( ( R13 . D61 ) + ( ( R17 * ( id R11 ) ) . D61 ) ) by MATRLIN:def 3
.= ( ( R13 . D61 ) + ( R17 * ( ( id R11 ) . D61 ) ) ) by MATRLIN:def 4
.= ( ( R13 . D61 ) + ( R17 * D61 ) ) by FUNCT_1:18;
L463: ( ( D58 . D61 ) + ( ( - R17 ) * D61 ) ) = ( ( R13 . D61 ) + ( ( R17 * D61 ) + ( ( - R17 ) * D61 ) ) ) by L462 , RLVECT_1:def 3
.= ( ( R13 . D61 ) + ( ( R17 + ( - R17 ) ) * D61 ) ) by VECTSP_1:def 15
.= ( ( R13 . D61 ) + ( ( 0. R8 ) * D61 ) ) by VECTSP_1:16
.= ( ( R13 . D61 ) + ( 0. R11 ) ) by VECTSP_1:14
.= ( R13 . D61 ) by RLVECT_1:def 4;
L464: ( ( - R17 ) * D61 ) in D59 by L456 , VECTSP_4:21;
L465: ( R13 . D61 ) in D59 by L464 , L463 , L461 , VECTSP_4:20;
thus L466: thesis by L465 , L454 , L458 , STRUCT_0:def 5;
end;
thus L467: thesis by L451 , L159 , FUNCT_2:6;
end;
theorem
L468: (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R13 being (linear-transformation of R11 , R11) holds ( R13 | ( UnionKers R13 ) ) is (linear-transformation of ( UnionKers R13 ) , ( UnionKers R13 )))))
proof
let R8 being Field;
let R11 being (VectSp of R8);
let R13 being (linear-transformation of R11 , R11);
set D62 = ( UnionKers R13 );
L469: ( rng ( R13 | D62 ) ) c= (the carrier of D62)
proof
let R7 being set;
assume L470: R7 in ( rng ( R13 | D62 ) );
consider R6 being set such that L471: R6 in ( dom ( R13 | D62 ) ) and L472: ( ( R13 | D62 ) . R6 ) = R7 by L470 , FUNCT_1:def 3;
L473: R6 in (the carrier of D62) by L471 , FUNCT_2:def 1;
L474: R6 in D62 by L473 , STRUCT_0:def 5;
L475: R6 in R11 by L474 , VECTSP_4:9;
reconsider D63 = R6 as (Vector of R11) by L475 , STRUCT_0:def 5;
consider R4 being Nat such that L476: ( ( R13 |^ R4 ) . D63 ) = ( 0. R11 ) by L474 , L375;
L477: ( dom R13 ) = ( [#] R11 ) by FUNCT_2:def 1;
L478: ( 0. R11 ) = ( ( R13 |^ ( R4 + 1 ) ) . D63 ) by L476 , L339
.= ( ( ( R13 |^ R4 ) * ( R13 |^ 1 ) ) . D63 ) by L300
.= ( ( ( R13 |^ R4 ) * R13 ) . D63 ) by L297
.= ( ( R13 |^ R4 ) . ( R13 . D63 ) ) by L477 , FUNCT_1:13;
L479: ( R13 . D63 ) in D62 by L478 , L375;
L480: R7 = ( R13 . D63 ) by L471 , L472 , FUNCT_1:47;
thus L481: thesis by L480 , L479 , STRUCT_0:def 5;
end;
thus L482: thesis by L469 , L159 , FUNCT_2:6;
end;
theorem
L483: (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R13 being (linear-transformation of R11 , R11) holds (for R17 being (Scalar of R8) holds ( R13 | ( UnionKers ( R13 + ( R17 * ( id R11 ) ) ) ) ) is (linear-transformation of ( UnionKers ( R13 + ( R17 * ( id R11 ) ) ) ) , ( UnionKers ( R13 + ( R17 * ( id R11 ) ) ) ))))))
proof
let R8 being Field;
let R11 being (VectSp of R8);
let R13 being (linear-transformation of R11 , R11);
let R17 being (Scalar of R8);
set D64 = ( R13 + ( R17 * ( id R11 ) ) );
set D65 = ( UnionKers D64 );
reconsider D66 = ( D64 | D65 ) as (linear-transformation of D65 , D65) by L468;
L484: ( rng ( R13 | D65 ) ) c= (the carrier of D65)
proof
let R7 being set;
assume L485: R7 in ( rng ( R13 | D65 ) );
consider R6 being set such that L486: R6 in ( dom ( R13 | D65 ) ) and L487: ( ( R13 | D65 ) . R6 ) = R7 by L485 , FUNCT_1:def 3;
L488: R6 in (the carrier of D65) by L486 , FUNCT_2:def 1;
L489: R6 in D65 by L488 , STRUCT_0:def 5;
L490: R6 in R11 by L489 , VECTSP_4:9;
reconsider D67 = R6 as (Vector of R11) by L490 , STRUCT_0:def 5;
L491: ( ( R13 | D65 ) . D67 ) = ( R13 . D67 ) by L486 , FUNCT_1:47;
L492: ( dom D66 ) = (the carrier of D65) by FUNCT_2:def 1;
L493: (( D66 . D67 ) = ( D64 . D67 ) & ( D66 /. D67 ) = ( D66 . D67 )) by L492 , L488 , FUNCT_1:47 , PARTFUN1:def 6;
L494: ( D64 . D67 ) in D65 by L493 , STRUCT_0:def 5;
L495: ( D64 . D67 ) = ( ( R13 . D67 ) + ( ( R17 * ( id R11 ) ) . D67 ) ) by MATRLIN:def 3
.= ( ( R13 . D67 ) + ( R17 * ( ( id R11 ) . D67 ) ) ) by MATRLIN:def 4
.= ( ( R13 . D67 ) + ( R17 * D67 ) ) by FUNCT_1:18;
L496: ( ( D64 . D67 ) + ( ( - R17 ) * D67 ) ) = ( ( R13 . D67 ) + ( ( R17 * D67 ) + ( ( - R17 ) * D67 ) ) ) by L495 , RLVECT_1:def 3
.= ( ( R13 . D67 ) + ( ( R17 + ( - R17 ) ) * D67 ) ) by VECTSP_1:def 15
.= ( ( R13 . D67 ) + ( ( 0. R8 ) * D67 ) ) by VECTSP_1:16
.= ( ( R13 . D67 ) + ( 0. R11 ) ) by VECTSP_1:14
.= ( R13 . D67 ) by RLVECT_1:def 4;
L497: ( ( - R17 ) * D67 ) in D65 by L489 , VECTSP_4:21;
L498: ( R13 . D67 ) in D65 by L497 , L496 , L494 , VECTSP_4:20;
thus L499: thesis by L498 , L487 , L491 , STRUCT_0:def 5;
end;
thus L500: thesis by L484 , L159 , FUNCT_2:6;
end;
theorem
L501: (for R4 being Nat holds (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R13 being (linear-transformation of R11 , R11) holds ( R13 | ( im ( R13 |^ R4 ) ) ) is (linear-transformation of ( im ( R13 |^ R4 ) ) , ( im ( R13 |^ R4 ) ))))))
proof
let R4 being Nat;
let R8 being Field;
let R11 being (VectSp of R8);
let R13 being (linear-transformation of R11 , R11);
set D68 = ( im ( R13 |^ R4 ) );
L502: ( rng ( R13 | D68 ) ) c= (the carrier of D68)
proof
let R7 being set;
assume L503: R7 in ( rng ( R13 | D68 ) );
consider R6 being set such that L504: R6 in ( dom ( R13 | D68 ) ) and L505: ( ( R13 | D68 ) . R6 ) = R7 by L503 , FUNCT_1:def 3;
L506: R6 in (the carrier of D68) by L504 , FUNCT_2:def 1;
L507: R6 in D68 by L506 , STRUCT_0:def 5;
L508: R6 in R11 by L507 , VECTSP_4:9;
reconsider D69 = R6 as (Vector of R11) by L508 , STRUCT_0:def 5;
consider C94 being (Vector of R11) such that L509: ( ( R13 |^ R4 ) . C94 ) = D69 by L507 , RANKNULL:13;
L510: (the carrier of R11) = ( dom ( R13 |^ 1 ) ) by FUNCT_2:def 1;
L511: (the carrier of R11) = ( dom ( R13 |^ R4 ) ) by FUNCT_2:def 1;
L512: R7 = ( R13 . R6 ) by L504 , L505 , FUNCT_1:47
.= ( ( R13 * ( R13 |^ R4 ) ) . C94 ) by L509 , L511 , FUNCT_1:13
.= ( ( ( R13 |^ 1 ) * ( R13 |^ R4 ) ) . C94 ) by L297
.= ( ( R13 |^ ( 1 + R4 ) ) . C94 ) by L300
.= ( ( ( R13 |^ R4 ) * ( R13 |^ 1 ) ) . C94 ) by L300
.= ( ( R13 |^ R4 ) . ( ( R13 |^ 1 ) . C94 ) ) by L510 , FUNCT_1:13;
L513: R7 in D68 by L512 , RANKNULL:13;
thus L514: thesis by L513 , STRUCT_0:def 5;
end;
thus L515: thesis by L502 , L159 , FUNCT_2:6;
end;
theorem
L516: (for R4 being Nat holds (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R13 being (linear-transformation of R11 , R11) holds (for R17 being (Scalar of R8) holds ( R13 | ( im ( ( R13 + ( R17 * ( id R11 ) ) ) |^ R4 ) ) ) is (linear-transformation of ( im ( ( R13 + ( R17 * ( id R11 ) ) ) |^ R4 ) ) , ( im ( ( R13 + ( R17 * ( id R11 ) ) ) |^ R4 ) )))))))
proof
let R4 being Nat;
let R8 being Field;
let R11 being (VectSp of R8);
let R13 being (linear-transformation of R11 , R11);
let R17 being (Scalar of R8);
set D70 = ( R13 + ( R17 * ( id R11 ) ) );
set D71 = ( im ( D70 |^ R4 ) );
reconsider D72 = ( D70 | D71 ) as (linear-transformation of D71 , D71) by L501;
L517: ( rng ( R13 | D71 ) ) c= (the carrier of D71)
proof
let R7 being set;
assume L518: R7 in ( rng ( R13 | D71 ) );
consider R6 being set such that L519: R6 in ( dom ( R13 | D71 ) ) and L520: ( ( R13 | D71 ) . R6 ) = R7 by L518 , FUNCT_1:def 3;
L521: R6 in (the carrier of D71) by L519 , FUNCT_2:def 1;
L522: R6 in D71 by L521 , STRUCT_0:def 5;
L523: R6 in R11 by L522 , VECTSP_4:9;
reconsider D73 = R6 as (Vector of R11) by L523 , STRUCT_0:def 5;
L524: ( ( R13 | D71 ) . D73 ) = ( R13 . D73 ) by L519 , FUNCT_1:47;
L525: ( dom D72 ) = (the carrier of D71) by FUNCT_2:def 1;
L526: (( D72 . D73 ) = ( D70 . D73 ) & ( D72 /. D73 ) = ( D72 . D73 )) by L525 , L521 , FUNCT_1:47 , PARTFUN1:def 6;
L527: ( D70 . D73 ) in D71 by L526 , STRUCT_0:def 5;
L528: ( D70 . D73 ) = ( ( R13 . D73 ) + ( ( R17 * ( id R11 ) ) . D73 ) ) by MATRLIN:def 3
.= ( ( R13 . D73 ) + ( R17 * ( ( id R11 ) . D73 ) ) ) by MATRLIN:def 4
.= ( ( R13 . D73 ) + ( R17 * D73 ) ) by FUNCT_1:18;
L529: ( ( D70 . D73 ) + ( ( - R17 ) * D73 ) ) = ( ( R13 . D73 ) + ( ( R17 * D73 ) + ( ( - R17 ) * D73 ) ) ) by L528 , RLVECT_1:def 3
.= ( ( R13 . D73 ) + ( ( R17 + ( - R17 ) ) * D73 ) ) by VECTSP_1:def 15
.= ( ( R13 . D73 ) + ( ( 0. R8 ) * D73 ) ) by VECTSP_1:16
.= ( ( R13 . D73 ) + ( 0. R11 ) ) by VECTSP_1:14
.= ( R13 . D73 ) by RLVECT_1:def 4;
L530: ( ( - R17 ) * D73 ) in D71 by L522 , VECTSP_4:21;
L531: ( R13 . D73 ) in D71 by L530 , L529 , L527 , VECTSP_4:20;
thus L532: thesis by L531 , L520 , L524 , STRUCT_0:def 5;
end;
thus L533: thesis by L517 , L159 , FUNCT_2:6;
end;
theorem
L534: (for R4 being Nat holds (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R13 being (linear-transformation of R11 , R11) holds (( UnionKers R13 ) = ( ker ( R13 |^ R4 ) ) implies ( ( ker ( R13 |^ R4 ) ) /\ ( im ( R13 |^ R4 ) ) ) = ( (0). R11 ))))))
proof
let R4 being Nat;
let R8 being Field;
let R11 being (VectSp of R8);
let R13 being (linear-transformation of R11 , R11);
set D74 = ( ker ( R13 |^ R4 ) );
set D75 = ( im ( R13 |^ R4 ) );
assume L535: ( UnionKers R13 ) = ( ker ( R13 |^ R4 ) );
L536: (the carrier of ( D74 /\ D75 )) c= { ( 0. R11 ) }
proof
let R6 being set;
assume L537: R6 in (the carrier of ( D74 /\ D75 ));
L538: R6 in ( D74 /\ D75 ) by L537 , STRUCT_0:def 5;
L539: R6 in R11 by L538 , VECTSP_4:9;
reconsider D76 = R6 as (Vector of R11) by L539 , STRUCT_0:def 5;
L540: D76 in D75 by L538 , VECTSP_5:3;
consider C95 being (Element of R11) such that L541: ( ( R13 |^ R4 ) . C95 ) = D76 by L540 , RANKNULL:13;
L542: ( dom ( R13 |^ R4 ) ) = (the carrier of R11) by FUNCT_2:def 1;
L543: D76 in D74 by L538 , VECTSP_5:3;
L544: ( 0. R11 ) = ( ( R13 |^ R4 ) . ( ( R13 |^ R4 ) . C95 ) ) by L543 , L541 , RANKNULL:10
.= ( ( ( R13 |^ R4 ) * ( R13 |^ R4 ) ) . C95 ) by L542 , FUNCT_1:13
.= ( ( R13 |^ ( R4 + R4 ) ) . C95 ) by L300;
L545: C95 in ( ker ( R13 |^ R4 ) ) by L544 , L535 , L375;
L546: D76 = ( 0. R11 ) by L545 , L541 , RANKNULL:10;
thus L547: thesis by L546 , TARSKI:def 1;
end;
L548: (the carrier of ( D74 /\ D75 )) = { ( 0. R11 ) } by L536 , ZFMISC_1:33
.= (the carrier of ( (0). R11 )) by VECTSP_4:def 3;
thus L549: thesis by L548 , VECTSP_4:29;
end;
theorem
L550: (for R8 being Field holds (for B87 being  finite-dimensional (VectSp of R8) holds (for B88 being (linear-transformation of B87 , B87) holds (for R4 being Nat holds (( UnionKers B88 ) = ( ker ( B88 |^ R4 ) ) implies B87 is_the_direct_sum_of ( ker ( B88 |^ R4 ) ) , ( im ( B88 |^ R4 ) ))))))
proof
let R8 being Field;
let C96 being  finite-dimensional (VectSp of R8);
let C97 being (linear-transformation of C96 , C96);
let R4 being Nat;
set D77 = ( ker ( C97 |^ R4 ) );
set D78 = ( im ( C97 |^ R4 ) );
L551: ( dim C96 ) = ( ( rank ( C97 |^ R4 ) ) + ( nullity ( C97 |^ R4 ) ) ) by RANKNULL:44
.= ( ( dim ( D78 + D77 ) ) + ( dim ( D78 /\ D77 ) ) ) by VECTSP_9:32;
assume L552: ( UnionKers C97 ) = ( ker ( C97 |^ R4 ) );
L553: ( (Omega). ( D78 /\ D77 ) ) = ( (0). C96 ) by L552 , L534
.= ( (0). ( D78 /\ D77 ) ) by VECTSP_4:36;
L554: ( dim ( D78 /\ D77 ) ) = ( 0 ) by L553 , VECTSP_9:29;
L555: ( (Omega). C96 ) = ( (Omega). ( D78 + D77 ) ) by L554 , L551 , VECTSP_9:28;
L556: ( D77 + D78 ) = ( (Omega). C96 ) by L555 , VECTSP_5:5;
L557: ( D77 /\ D78 ) = ( (0). C96 ) by L552 , L534;
thus L558: thesis by L557 , L556 , VECTSP_5:def 4;
end;
theorem
L559: (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R13 being (linear-transformation of R11 , R11) holds (for B89 being (Linear_Compl of ( UnionKers R13 )) holds ( R13 | B89 ) is  one-to-one))))
proof
let R8 being Field;
let R11 being (VectSp of R8);
let R13 being (linear-transformation of R11 , R11);
let C98 being (Linear_Compl of ( UnionKers R13 ));
set D79 = ( R13 | C98 );
set D80 = ( UnionKers R13 );
L560: (the carrier of ( ker D79 )) c= { ( 0. C98 ) }
proof
let R6 being set;
assume L561: R6 in (the carrier of ( ker D79 ));
L562: R6 in ( ker D79 ) by L561 , STRUCT_0:def 5;
L563: R6 in C98 by L562 , VECTSP_4:9;
reconsider D81 = R6 as (Vector of C98) by L563 , STRUCT_0:def 5;
reconsider D82 = D81 as (Vector of R11) by VECTSP_4:10;
L564: ( 0. C98 ) = ( 0. R11 ) by VECTSP_4:11
.= ( ( R13 | C98 ) . D81 ) by L562 , RANKNULL:10
.= ( R13 . D81 ) by FUNCT_1:49;
L565: ( ( R13 |^ 1 ) . D82 ) = ( 0. C98 ) by L564 , L297
.= ( 0. R11 ) by VECTSP_4:11;
L566: D81 in D80 by L565 , L375;
L567: (( D80 /\ C98 ) = ( (0). R11 ) & D81 in ( D80 /\ C98 )) by L566 , L563 , VECTSP_5:3 , VECTSP_5:40;
L568: D81 in (the carrier of ( (0). R11 )) by L567 , STRUCT_0:def 5;
L569: D81 in { ( 0. R11 ) } by L568 , VECTSP_4:def 3;
L570: D81 = ( 0. R11 ) by L569 , TARSKI:def 1
.= ( 0. C98 ) by VECTSP_4:11;
thus L571: thesis by L570 , TARSKI:def 1;
end;
L572: (the carrier of ( ker D79 )) = { ( 0. C98 ) } by L560 , ZFMISC_1:33
.= (the carrier of ( (0). C98 )) by VECTSP_4:def 3;
L573: ( ker D79 ) = ( (0). C98 ) by L572 , VECTSP_4:29;
thus L574: thesis by L573 , MATRLIN2:43;
end;
theorem
L575: (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R13 being (linear-transformation of R11 , R11) holds (for R17 being (Scalar of R8) holds (for B90 being (Linear_Compl of ( UnionKers ( R13 + ( ( - R17 ) * ( id R11 ) ) ) )) holds (for B91 being (linear-transformation of B90 , B90) holds (B91 = ( R13 | B90 ) implies (for B92 being (Vector of B90) holds (( B91 . B92 ) = ( R17 * B92 ) implies B92 = ( 0. R11 ))))))))))
proof
let R8 being Field;
let R11 being (VectSp of R8);
let R13 being (linear-transformation of R11 , R11);
let R17 being (Scalar of R8);
set D83 = R11;
set D84 = ( R13 + ( ( - R17 ) * ( id D83 ) ) );
let C99 being (Linear_Compl of ( UnionKers D84 ));
let C100 being (linear-transformation of C99 , C99);
assume that
L576: C100 = ( R13 | C99 );
let C101 being (Vector of C99);
assume that
L577: ( C100 . C101 ) = ( R17 * C101 );
reconsider D85 = C101 as (Vector of D83) by VECTSP_4:10;
L578: ( R13 . C101 ) = ( C100 . C101 ) by L576 , FUNCT_1:49
.= ( R17 * D85 ) by L577 , VECTSP_4:14;
L579: ( ( D84 | C99 ) . D85 ) = ( D84 . D85 ) by FUNCT_1:49
.= ( ( R13 . D85 ) + ( ( ( - R17 ) * ( id D83 ) ) . D85 ) ) by MATRLIN:def 3
.= ( ( R13 . D85 ) + ( ( - R17 ) * ( ( id D83 ) . D85 ) ) ) by MATRLIN:def 4
.= ( ( R17 * D85 ) + ( ( - R17 ) * D85 ) ) by L578 , FUNCT_1:18
.= ( ( R17 + ( - R17 ) ) * D85 ) by VECTSP_1:def 15
.= ( ( 0. R8 ) * D85 ) by VECTSP_1:19
.= ( 0. D83 ) by VECTSP_1:14;
L580: D85 in ( ker ( D84 | C99 ) ) by L579 , RANKNULL:10;
L581: ( D84 | C99 ) is  one-to-one by L559;
L582: ( ker ( D84 | C99 ) ) = ( (0). C99 ) by L581 , MATRLIN2:43;
thus L583: C101 = ( 0. C99 ) by L582 , L580 , VECTSP_4:35
.= ( 0. D83 ) by VECTSP_4:11;
end;
L584: (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R13 being (linear-transformation of R11 , R11) holds (for B93 , B94 being (Scalar of R8) holds ( ( B93 * B94 ) * R13 ) = ( B93 * ( B94 * R13 ) )))))
proof
let R8 being Field;
let R11 being (VectSp of R8);
let R13 being (linear-transformation of R11 , R11);
let C102 , C103 being (Scalar of R8);
L585:
now
let R6 being set;
assume L586: R6 in ( dom ( ( C102 * C103 ) * R13 ) );
reconsider D86 = R6 as (Element of R11) by L586 , FUNCT_2:def 1;
thus L587: ( ( ( C102 * C103 ) * R13 ) . R6 ) = ( ( C102 * C103 ) * ( R13 . D86 ) ) by MATRLIN:def 4
.= ( C102 * ( C103 * ( R13 . D86 ) ) ) by VECTSP_1:def 16
.= ( C102 * ( ( C103 * R13 ) . D86 ) ) by MATRLIN:def 4
.= ( ( C102 * ( C103 * R13 ) ) . R6 ) by MATRLIN:def 4;
end;
L588: (( dom ( ( C102 * C103 ) * R13 ) ) = ( [#] R11 ) & ( dom ( C102 * ( C103 * R13 ) ) ) = ( [#] R11 )) by FUNCT_2:def 1;
thus L589: thesis by L588 , L585 , FUNCT_1:2;
end;
L590: (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R17 being (Scalar of R8) holds (for B95 , B96 being (Function of R11 , R11) holds ( R17 * ( B95 * B96 ) ) = ( ( R17 * B95 ) * B96 )))))
proof
let R8 being Field;
let R11 being (VectSp of R8);
let R17 being (Scalar of R8);
let C104 , C105 being (Function of R11 , R11);
L591: ( dom ( ( R17 * C104 ) * C105 ) ) = ( [#] R11 ) by FUNCT_2:def 1;
L592: ( dom C105 ) = ( [#] R11 ) by FUNCT_2:def 1;
L593:
now
let R6 being set;
assume L594: R6 in ( dom ( R17 * ( C104 * C105 ) ) );
reconsider D87 = R6 as (Element of R11) by L594 , FUNCT_2:def 1;
thus L595: ( ( R17 * ( C104 * C105 ) ) . R6 ) = ( R17 * ( ( C104 * C105 ) . D87 ) ) by MATRLIN:def 4
.= ( R17 * ( C104 . ( C105 . D87 ) ) ) by L592 , FUNCT_1:13
.= ( ( R17 * C104 ) . ( C105 . D87 ) ) by MATRLIN:def 4
.= ( ( ( R17 * C104 ) * C105 ) . R6 ) by L591 , FUNCT_1:12;
end;
L596: ( dom ( R17 * ( C104 * C105 ) ) ) = ( [#] R11 ) by FUNCT_2:def 1;
thus L597: thesis by L596 , L591 , L593 , FUNCT_1:2;
end;
L598: (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R17 being (Scalar of R8) holds (for B97 , B98 being (Function of R11 , R11) holds (B97 is  additive  homogeneous implies ( R17 * ( B97 * B98 ) ) = ( B97 * ( R17 * B98 ) ))))))
proof
let R8 being Field;
let R11 being (VectSp of R8);
let R17 being (Scalar of R8);
let C106 , C107 being (Function of R11 , R11);
assume that
L599: C106 is  additive  homogeneous;
L600: ( dom ( C106 * ( R17 * C107 ) ) ) = ( [#] R11 ) by FUNCT_2:def 1;
L601: ( dom C107 ) = ( [#] R11 ) by FUNCT_2:def 1;
L602:
now
let R6 being set;
assume L603: R6 in ( dom ( R17 * ( C106 * C107 ) ) );
reconsider D88 = R6 as (Element of R11) by L603 , FUNCT_2:def 1;
thus L604: ( ( R17 * ( C106 * C107 ) ) . R6 ) = ( R17 * ( ( C106 * C107 ) . D88 ) ) by MATRLIN:def 4
.= ( R17 * ( C106 . ( C107 . D88 ) ) ) by L601 , FUNCT_1:13
.= ( C106 . ( R17 * ( C107 . D88 ) ) ) by L599 , MOD_2:def 2
.= ( C106 . ( ( R17 * C107 ) . D88 ) ) by MATRLIN:def 4
.= ( ( C106 * ( R17 * C107 ) ) . R6 ) by L600 , FUNCT_1:12;
end;
L605: ( dom ( R17 * ( C106 * C107 ) ) ) = ( [#] R11 ) by FUNCT_2:def 1;
thus L606: thesis by L605 , L600 , L602 , FUNCT_1:2;
end;
L607: (for R8 being Field holds (for R11 being (VectSp of R8) holds (for B99 , B100 , B101 being (Function of R11 , R11) holds ( ( B99 + B100 ) * B101 ) = ( ( B99 * B101 ) + ( B100 * B101 ) ))))
proof
let R8 being Field;
let R11 being (VectSp of R8);
let C108 , C109 , C110 being (Function of R11 , R11);
L608: ( dom C110 ) = ( [#] R11 ) by FUNCT_2:def 1;
L609: ( dom ( ( C108 + C109 ) * C110 ) ) = ( [#] R11 ) by FUNCT_2:def 1;
L610:
now
let R6 being set;
assume L611: R6 in ( dom C110 );
reconsider D89 = R6 as (Element of R11) by L611 , FUNCT_2:def 1;
thus L612: ( ( ( C108 + C109 ) * C110 ) . R6 ) = ( ( C108 + C109 ) . ( C110 . D89 ) ) by L609 , FUNCT_1:12
.= ( ( C108 . ( C110 . D89 ) ) + ( C109 . ( C110 . D89 ) ) ) by MATRLIN:def 3
.= ( ( ( C108 * C110 ) . D89 ) + ( C109 . ( C110 . D89 ) ) ) by L608 , FUNCT_1:13
.= ( ( ( C108 * C110 ) . D89 ) + ( ( C109 * C110 ) . D89 ) ) by L608 , FUNCT_1:13
.= ( ( ( C108 * C110 ) + ( C109 * C110 ) ) . R6 ) by MATRLIN:def 3;
end;
L613: ( dom ( ( C108 * C110 ) + ( C109 * C110 ) ) ) = ( [#] R11 ) by FUNCT_2:def 1;
thus L614: thesis by L613 , L609 , L608 , L610 , FUNCT_1:2;
end;
L615: (for R8 being Field holds (for R11 being (VectSp of R8) holds (for B102 , B103 , B104 being (Function of R11 , R11) holds (B104 is  additive  homogeneous implies ( B104 * ( B102 + B103 ) ) = ( ( B104 * B102 ) + ( B104 * B103 ) )))))
proof
let R8 being Field;
let R11 being (VectSp of R8);
let C111 , C112 , C113 being (Function of R11 , R11);
assume that
L616: C113 is  additive  homogeneous;
L617: ( dom ( C113 * ( C111 + C112 ) ) ) = ( [#] R11 ) by FUNCT_2:def 1;
L618: ( dom C112 ) = ( [#] R11 ) by FUNCT_2:def 1;
L619: ( dom C111 ) = ( [#] R11 ) by FUNCT_2:def 1;
L620:
now
let R6 being set;
assume L621: R6 in ( dom ( C113 * ( C111 + C112 ) ) );
reconsider D90 = R6 as (Element of R11) by L621 , FUNCT_2:def 1;
thus L622: ( ( C113 * ( C111 + C112 ) ) . R6 ) = ( C113 . ( ( C111 + C112 ) . D90 ) ) by L617 , FUNCT_1:12
.= ( C113 . ( ( C111 . D90 ) + ( C112 . D90 ) ) ) by MATRLIN:def 3
.= ( ( C113 . ( C111 . D90 ) ) + ( C113 . ( C112 . D90 ) ) ) by L616 , VECTSP_1:def 20
.= ( ( ( C113 * C111 ) . D90 ) + ( C113 . ( C112 . D90 ) ) ) by L619 , FUNCT_1:13
.= ( ( ( C113 * C111 ) . D90 ) + ( ( C113 * C112 ) . D90 ) ) by L618 , FUNCT_1:13
.= ( ( ( C113 * C111 ) + ( C113 * C112 ) ) . R6 ) by MATRLIN:def 3;
end;
L623: ( dom ( ( C113 * C111 ) + ( C113 * C112 ) ) ) = ( [#] R11 ) by FUNCT_2:def 1;
thus L624: thesis by L623 , L617 , L620 , FUNCT_1:2;
end;
L625: (for R8 being Field holds (for R11 being (VectSp of R8) holds (for B105 , B106 , B107 being (Function of R11 , R11) holds ( ( B105 + B106 ) + B107 ) = ( B105 + ( B106 + B107 ) ))))
proof
let R8 being Field;
let R11 being (VectSp of R8);
let C114 , C115 , C116 being (Function of R11 , R11);
L626:
now
let R6 being set;
assume L627: R6 in ( dom ( ( C114 + C115 ) + C116 ) );
reconsider D91 = R6 as (Element of R11) by L627 , FUNCT_2:def 1;
thus L628: ( ( ( C114 + C115 ) + C116 ) . R6 ) = ( ( ( C114 + C115 ) . D91 ) + ( C116 . D91 ) ) by MATRLIN:def 3
.= ( ( ( C114 . D91 ) + ( C115 . D91 ) ) + ( C116 . D91 ) ) by MATRLIN:def 3
.= ( ( C114 . D91 ) + ( ( C115 . D91 ) + ( C116 . D91 ) ) ) by RLVECT_1:def 3
.= ( ( C114 . D91 ) + ( ( C115 + C116 ) . D91 ) ) by MATRLIN:def 3
.= ( ( C114 + ( C115 + C116 ) ) . R6 ) by MATRLIN:def 3;
end;
L629: (( dom ( ( C114 + C115 ) + C116 ) ) = ( [#] R11 ) & ( dom ( C114 + ( C115 + C116 ) ) ) = ( [#] R11 )) by FUNCT_2:def 1;
thus L630: thesis by L629 , L626 , FUNCT_1:2;
end;
L631: (for R4 being Nat holds (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R17 being (Scalar of R8) holds ( ( R17 * ( id R11 ) ) |^ R4 ) = ( ( ( power R8 ) . (R17 , R4) ) * ( id R11 ) )))))
proof
let R4 being Nat;
let R8 being Field;
let R11 being (VectSp of R8);
let R17 being (Scalar of R8);
defpred S9[ Nat ] means ( ( R17 * ( id R11 ) ) |^ $1 ) = ( ( ( power R8 ) . (R17 , $1) ) * ( id R11 ) );
L632: (( dom ( id R11 ) ) = ( [#] R11 ) & ( dom ( ( 1_ R8 ) * ( id R11 ) ) ) = ( [#] R11 )) by FUNCT_2:def 1;
L633:
now
let R6 being set;
assume L634: R6 in ( [#] R11 );
reconsider D92 = R6 as (Vector of R11) by L634;
L635: (( ( id R11 ) . R6 ) = D92 & ( ( 1_ R8 ) * D92 ) = D92) by FUNCT_1:18 , VECTSP_1:def 17;
thus L636: ( ( id R11 ) . R6 ) = ( ( ( 1_ R8 ) * ( id R11 ) ) . R6 ) by L635 , MATRLIN:def 4;
end;
L637: (for R4 being Nat holds (S9[ R4 ] implies S9[ ( R4 + 1 ) ]))
proof
let R4 being Nat;
assume that
L638: S9[ R4 ];
L639: R4 in ( NAT ) by ORDINAL1:def 12;
thus L640: ( ( R17 * ( id R11 ) ) |^ ( R4 + 1 ) ) = ( ( ( R17 * ( id R11 ) ) |^ 1 ) * ( ( ( power R8 ) . (R17 , R4) ) * ( id R11 ) ) ) by L638 , L300
.= ( ( R17 * ( id R11 ) ) * ( ( ( power R8 ) . (R17 , R4) ) * ( id R11 ) ) ) by L297
.= ( ( ( power R8 ) . (R17 , R4) ) * ( ( R17 * ( id R11 ) ) * ( id R11 ) ) ) by L598
.= ( ( ( power R8 ) . (R17 , R4) ) * ( R17 * ( ( id R11 ) * ( id R11 ) ) ) ) by L590
.= ( ( ( power R8 ) . (R17 , R4) ) * ( R17 * ( id R11 ) ) ) by SYSREL:12
.= ( ( ( ( power R8 ) . (R17 , R4) ) * R17 ) * ( id R11 ) ) by L584
.= ( ( ( power R8 ) . (R17 , ( R4 + 1 )) ) * ( id R11 ) ) by L639 , GROUP_1:def 7;
end;
L641: (( ( R17 * ( id R11 ) ) |^ ( 0 ) ) = ( id R11 ) & ( ( power R8 ) . (R17 , ( 0 )) ) = ( 1_ R8 )) by L293 , GROUP_1:def 7;
L642: S9[ ( 0 ) ] by L641 , L632 , L633 , FUNCT_1:2;
L643: (for R4 being Nat holds S9[ R4 ]) from NAT_1:sch 2(L642 , L637);
thus L644: thesis by L643;
end;
L645: (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R13 being (linear-transformation of R11 , R11) holds (for B108 , B109 being (Scalar of R8) holds ( ( B108 + B109 ) * R13 ) = ( ( B108 * R13 ) + ( B109 * R13 ) )))))
proof
let R8 being Field;
let R11 being (VectSp of R8);
let R13 being (linear-transformation of R11 , R11);
let C117 , C118 being (Scalar of R8);
L646:
now
let R6 being set;
assume L647: R6 in ( dom ( ( C117 + C118 ) * R13 ) );
reconsider D93 = R6 as (Element of R11) by L647 , FUNCT_2:def 1;
thus L648: ( ( ( C117 + C118 ) * R13 ) . R6 ) = ( ( C117 + C118 ) * ( R13 . D93 ) ) by MATRLIN:def 4
.= ( ( C117 * ( R13 . D93 ) ) + ( C118 * ( R13 . D93 ) ) ) by VECTSP_1:def 15
.= ( ( ( C117 * R13 ) . D93 ) + ( C118 * ( R13 . D93 ) ) ) by MATRLIN:def 4
.= ( ( ( C117 * R13 ) . D93 ) + ( ( C118 * R13 ) . D93 ) ) by MATRLIN:def 4
.= ( ( ( C117 * R13 ) + ( C118 * R13 ) ) . R6 ) by MATRLIN:def 3;
end;
L649: (( dom ( ( C117 + C118 ) * R13 ) ) = ( [#] R11 ) & ( dom ( ( C117 * R13 ) + ( C118 * R13 ) ) ) = ( [#] R11 )) by FUNCT_2:def 1;
thus L650: thesis by L649 , L646 , FUNCT_1:2;
end;
theorem
L651: (for R4 being Nat holds (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R13 being (linear-transformation of R11 , R11) holds (for R17 being (Scalar of R8) holds (R4 >= 1 implies (ex B110 being (linear-transformation of R11 , R11) st (( ( R13 + ( R17 * ( id R11 ) ) ) |^ R4 ) = ( ( R13 * B110 ) + ( ( R17 * ( id R11 ) ) |^ R4 ) ) & (for R1 being Nat holds ( ( R13 |^ R1 ) * B110 ) = ( B110 * ( R13 |^ R1 ) ))))))))))
proof
let R4 being Nat;
let R8 being Field;
let R11 being (VectSp of R8);
let R13 being (linear-transformation of R11 , R11);
let R17 being (Scalar of R8);
set D94 = ( R17 * ( id R11 ) );
defpred S10[ Nat ] means (ex B111 being (linear-transformation of R11 , R11) st (( ( R13 + D94 ) |^ $1 ) = ( ( R13 * B111 ) + ( D94 |^ $1 ) ) & (for R1 being Nat holds ( ( R13 |^ R1 ) * B111 ) = ( B111 * ( R13 |^ R1 ) ))));
L652: (for R4 being Nat holds (1 <= R4 implies (S10[ R4 ] implies S10[ ( R4 + 1 ) ])))
proof
let R4 being Nat;
assume that
L653: 1 <= R4;
assume L654: S10[ R4 ];
consider C119 being (linear-transformation of R11 , R11) such that L655: ( ( R13 + D94 ) |^ R4 ) = ( ( R13 * C119 ) + ( D94 |^ R4 ) ) and L656: (for R1 being Nat holds ( ( R13 |^ R1 ) * C119 ) = ( C119 * ( R13 |^ R1 ) )) by L654;
take D95 = ( ( ( R13 * C119 ) + ( D94 |^ R4 ) ) + ( R17 * C119 ) );
L657: ( rng ( R13 * C119 ) ) c= ( [#] R11 ) by RELAT_1:def 19;
thus L658: ( ( R13 + D94 ) |^ ( R4 + 1 ) ) = ( ( ( R13 + D94 ) |^ 1 ) * ( ( R13 + D94 ) |^ R4 ) ) by L300
.= ( ( R13 + D94 ) * ( ( R13 * C119 ) + ( D94 |^ R4 ) ) ) by L655 , L297
.= ( ( R13 * ( ( R13 * C119 ) + ( D94 |^ R4 ) ) ) + ( D94 * ( ( R13 * C119 ) + ( D94 |^ R4 ) ) ) ) by L607
.= ( ( R13 * ( ( R13 * C119 ) + ( D94 |^ R4 ) ) ) + ( ( D94 * ( R13 * C119 ) ) + ( D94 * ( D94 |^ R4 ) ) ) ) by L615
.= ( ( ( R13 * ( ( R13 * C119 ) + ( D94 |^ R4 ) ) ) + ( D94 * ( R13 * C119 ) ) ) + ( D94 * ( D94 |^ R4 ) ) ) by L625
.= ( ( ( R13 * ( ( R13 * C119 ) + ( D94 |^ R4 ) ) ) + ( R17 * ( ( id R11 ) * ( R13 * C119 ) ) ) ) + ( D94 * ( D94 |^ R4 ) ) ) by L590
.= ( ( ( R13 * ( ( R13 * C119 ) + ( D94 |^ R4 ) ) ) + ( R17 * ( R13 * C119 ) ) ) + ( D94 * ( D94 |^ R4 ) ) ) by L657 , RELAT_1:53
.= ( ( ( R13 * ( ( R13 * C119 ) + ( D94 |^ R4 ) ) ) + ( R13 * ( R17 * C119 ) ) ) + ( D94 * ( D94 |^ R4 ) ) ) by L598
.= ( ( R13 * D95 ) + ( D94 * ( D94 |^ R4 ) ) ) by L615
.= ( ( R13 * D95 ) + ( ( D94 |^ 1 ) * ( D94 |^ R4 ) ) ) by L297
.= ( ( R13 * D95 ) + ( D94 |^ ( R4 + 1 ) ) ) by L300;
let R1 being Nat;
L659: ( ( R13 |^ R1 ) * ( R13 * C119 ) ) = ( ( ( R13 |^ R1 ) * R13 ) * C119 ) by RELAT_1:36
.= ( ( ( R13 |^ R1 ) * ( R13 |^ 1 ) ) * C119 ) by L297
.= ( ( R13 |^ ( R1 + 1 ) ) * C119 ) by L300
.= ( C119 * ( R13 |^ ( R1 + 1 ) ) ) by L656
.= ( C119 * ( ( R13 |^ 1 ) * ( R13 |^ R1 ) ) ) by L300
.= ( ( C119 * ( R13 |^ 1 ) ) * ( R13 |^ R1 ) ) by RELAT_1:36
.= ( ( ( R13 |^ 1 ) * C119 ) * ( R13 |^ R1 ) ) by L656
.= ( ( R13 * C119 ) * ( R13 |^ R1 ) ) by L297;
L660: ( ( R13 |^ R1 ) * ( D94 |^ R4 ) ) = ( ( R13 |^ R1 ) * ( ( ( power R8 ) . (R17 , R4) ) * ( id R11 ) ) ) by L631
.= ( ( ( power R8 ) . (R17 , R4) ) * ( ( R13 |^ R1 ) * ( id R11 ) ) ) by L598
.= ( ( ( power R8 ) . (R17 , R4) ) * ( ( R13 |^ R1 ) * ( R13 |^ ( 0 ) ) ) ) by L293
.= ( ( ( power R8 ) . (R17 , R4) ) * ( R13 |^ ( R1 + ( 0 ) ) ) ) by L300
.= ( ( ( power R8 ) . (R17 , R4) ) * ( ( R13 |^ ( 0 ) ) * ( R13 |^ R1 ) ) ) by L300
.= ( ( ( power R8 ) . (R17 , R4) ) * ( ( id R11 ) * ( R13 |^ R1 ) ) ) by L293
.= ( ( ( ( power R8 ) . (R17 , R4) ) * ( id R11 ) ) * ( R13 |^ R1 ) ) by L590
.= ( ( D94 |^ R4 ) * ( R13 |^ R1 ) ) by L631;
L661: ( ( R13 |^ R1 ) * ( R17 * C119 ) ) = ( R17 * ( ( R13 |^ R1 ) * C119 ) ) by L598
.= ( R17 * ( C119 * ( R13 |^ R1 ) ) ) by L656
.= ( ( R17 * C119 ) * ( R13 |^ R1 ) ) by L590;
thus L662: ( ( R13 |^ R1 ) * D95 ) = ( ( ( R13 |^ R1 ) * ( ( R13 * C119 ) + ( D94 |^ R4 ) ) ) + ( ( R17 * C119 ) * ( R13 |^ R1 ) ) ) by L661 , L615
.= ( ( ( ( R13 * C119 ) * ( R13 |^ R1 ) ) + ( ( D94 |^ R4 ) * ( R13 |^ R1 ) ) ) + ( ( R17 * C119 ) * ( R13 |^ R1 ) ) ) by L659 , L660 , L615
.= ( ( ( ( R13 * C119 ) + ( D94 |^ R4 ) ) * ( R13 |^ R1 ) ) + ( ( R17 * C119 ) * ( R13 |^ R1 ) ) ) by L607
.= ( D95 * ( R13 |^ R1 ) ) by L607;
end;
L663: S10[ 1 ]
proof
take D96 = ( id R11 );
thus L664: ( ( R13 + D94 ) |^ 1 ) = ( R13 + D94 ) by L297
.= ( ( R13 |^ ( 1 + ( 0 ) ) ) + D94 ) by L297
.= ( ( ( R13 |^ 1 ) * ( R13 |^ ( 0 ) ) ) + D94 ) by L300
.= ( ( ( R13 |^ 1 ) * D96 ) + D94 ) by L293
.= ( ( R13 * D96 ) + D94 ) by L297
.= ( ( R13 * D96 ) + ( D94 |^ 1 ) ) by L297;
let R1 being Nat;
thus L665: ( ( R13 |^ R1 ) * D96 ) = ( ( R13 |^ R1 ) * ( R13 |^ ( 0 ) ) ) by L293
.= ( R13 |^ ( R1 + ( 0 ) ) ) by L300
.= ( ( R13 |^ ( 0 ) ) * ( R13 |^ R1 ) ) by L300
.= ( D96 * ( R13 |^ R1 ) ) by L293;
end;
L666: (for R4 being Nat holds (1 <= R4 implies S10[ R4 ])) from NAT_1:sch 8(L663 , L652);
thus L667: thesis by L666;
end;
theorem
L668: (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R13 being (linear-transformation of R11 , R11) holds (for B112 , B113 being (Scalar of R8) holds ((R13 is  with_eigenvalues & B112 <> B113 & B113 is (eigenvalue of R13)) implies (for B114 being (Linear_Compl of ( UnionKers ( R13 + ( ( - B112 ) * ( id R11 ) ) ) )) holds (for B115 being (linear-transformation of B114 , B114) holds (B115 = ( R13 | B114 ) implies (B115 is  with_eigenvalues & (not B112 is (eigenvalue of B115)) & B113 is (eigenvalue of B115) & ( UnionKers ( R13 + ( ( - B113 ) * ( id R11 ) ) ) ) is (Subspace of B114))))))))))
proof
let R8 being Field;
let R11 being (VectSp of R8);
let R13 being (linear-transformation of R11 , R11);
let C120 , C121 being (Scalar of R8);
assume that
L669: R13 is  with_eigenvalues
and
L670: C120 <> C121
and
L671: C121 is (eigenvalue of R13);
set D97 = R11;
consider C122 being (Vector of D97) such that L672: C122 <> ( 0. D97 ) and L673: ( R13 . C122 ) = ( C121 * C122 ) by L669 , L671 , L180;
set D98 = ( R13 + ( ( - C120 ) * ( id D97 ) ) );
set D99 = ( UnionKers D98 );
reconsider D100 = ( R13 | D99 ) as (linear-transformation of D99 , D99) by L483;
set D101 = ( R13 + ( ( - C121 ) * ( id D97 ) ) );
let C123 being (Linear_Compl of D99);
let C124 being (linear-transformation of C123 , C123);
assume that
L674: C124 = ( R13 | C123 );
L675:
now
let C125 being (Vector of D97);
assume L676: C125 in ( UnionKers D101 );
consider R3 being Nat such that L677: ( ( D101 |^ R3 ) . C125 ) = ( 0. D97 ) by L676 , L375;
set D102 = ( C125 |-- (C123 , D99) );
set D103 = ( D102 `1 );
set D104 = ( D102 `2 );
L678: D97 is_the_direct_sum_of C123 , D99 by VECTSP_5:def 5;
L679: C125 = ( D103 + D104 ) by L678 , VECTSP_5:def 6;
defpred S11[ Nat ] means ( ( D101 |^ $1 ) . D104 ) = ( 0. D97 );
defpred S12[ Nat ] means (for B116 being (Subspace of D97) holds ((B116 = C123 or B116 = D99) implies (for B117 being (Vector of D97) holds (B117 in B116 implies ( ( D101 |^ $1 ) . B117 ) in B116))));
set D105 = ( C121 - C120 );
set D106 = ( D101 + ( D105 * ( id D97 ) ) );
L680: (( 0. D97 ) in C123 & ( 0. D97 ) in D99) by VECTSP_4:17;
L681: (for R4 being Nat holds (S12[ R4 ] implies S12[ ( R4 + 1 ) ]))
proof
let R4 being Nat;
assume that
L682: S12[ R4 ];
let C126 being (Subspace of D97);
assume that
L683: (C126 = C123 or C126 = D99);
let C127 being (Vector of D97);
assume that
L684: C127 in C126;
set D107 = ( ( D101 |^ R4 ) . C127 );
L685: D107 in C126 by L682 , L683 , L684;
L686:
now
per cases  by L683;
suppose L687: C126 = C123;

reconsider D108 = D107 as (Vector of C123) by L687 , L685 , STRUCT_0:def 5;
L688: ( R13 . D107 ) = ( C124 . D108 ) by L674 , FUNCT_1:49;
thus L689: ( R13 . D107 ) in C126 by L688 , L687 , STRUCT_0:def 5;
end;
suppose L690: C126 = D99;

reconsider D109 = D107 as (Vector of D99) by L690 , L685 , STRUCT_0:def 5;
L691: ( R13 . D107 ) = ( D100 . D109 ) by FUNCT_1:49;
thus L692: ( R13 . D107 ) in C126 by L691 , L690 , STRUCT_0:def 5;
end;
end;
L694: ( ( ( - C121 ) * ( id D97 ) ) . D107 ) = ( ( - C121 ) * ( ( id D97 ) . D107 ) ) by MATRLIN:def 4
.= ( ( - C121 ) * D107 ) by FUNCT_1:18;
L695: ( ( ( - C121 ) * ( id D97 ) ) . D107 ) in C126 by L694 , L685 , VECTSP_4:21;
L696: ( dom ( D101 |^ R4 ) ) = ( [#] D97 ) by FUNCT_2:def 1;
L697: ( ( D101 |^ ( R4 + 1 ) ) . C127 ) = ( ( ( D101 |^ 1 ) * ( D101 |^ R4 ) ) . C127 ) by L300
.= ( ( D101 |^ 1 ) . D107 ) by L696 , FUNCT_1:13
.= ( ( R13 + ( ( - C121 ) * ( id D97 ) ) ) . D107 ) by L297
.= ( ( R13 . D107 ) + ( ( ( - C121 ) * ( id D97 ) ) . D107 ) ) by MATRLIN:def 3;
thus L698: thesis by L697 , L686 , L695 , VECTSP_4:20;
end;
L699: ( ( 0. D97 ) + ( 0. D97 ) ) = ( 0. D97 ) by RLVECT_1:def 4
.= ( ( ( D101 |^ R3 ) . D103 ) + ( ( D101 |^ R3 ) . D104 ) ) by L679 , L677 , VECTSP_1:def 20;
L700: D104 in D99 by L678 , VECTSP_5:def 6;
consider R4 being Nat such that L701: ( ( D98 |^ R4 ) . D104 ) = ( 0. D97 ) by L700 , L375;
L702: S12[ ( 0 ) ]
proof
let C128 being (Subspace of D97);
assume that
L703: (C128 = C123 or C128 = D99);
let C129 being (Vector of D97);
assume that
L704: C129 in C128;
L705: ( ( D101 |^ ( 0 ) ) . C129 ) = ( ( id D97 ) . C129 ) by L293
.= C129 by FUNCT_1:18;
thus L706: thesis by L705 , L704;
end;
L707: (for R4 being Nat holds S12[ R4 ]) from NAT_1:sch 2(L702 , L681);
L708: ( ( D101 |^ R3 ) . D104 ) in D99 by L707 , L700;
L709: D103 in C123 by L678 , VECTSP_5:def 6;
L710: ( ( D101 |^ R3 ) . D103 ) in C123 by L709 , L707;
L711: ( ( D101 |^ R3 ) . D104 ) = ( 0. D97 ) by L710 , L678 , L708 , L680 , L699 , VECTSP_5:48;
L712: (ex R3 being Nat st S11[ R3 ]) by L711;
consider C130 being Nat such that L713: S11[ C130 ] and L714: (for R4 being Nat holds (S11[ R4 ] implies C130 <= R4)) from NAT_1:sch 5(L712);
assume L715: (not C125 is (Vector of C123));
L716: D104 <> ( 0. D97 )
proof
assume L717: D104 = ( 0. D97 );
L718: C125 = D103 by L717 , L679 , RLVECT_1:def 4;
thus L719: thesis by L718 , L709 , L715 , STRUCT_0:def 5;
end;
L720: R4 <> ( 0 )
proof
assume L721: R4 = ( 0 );
L722: ( 0. D97 ) = ( ( id D97 ) . D104 ) by L721 , L701 , L293
.= D104 by FUNCT_1:18;
thus L723: thesis by L722 , L716;
end;
consider C131 being (linear-transformation of D97 , D97) such that L724: ( D106 |^ R4 ) = ( ( D101 * C131 ) + ( ( D105 * ( id D97 ) ) |^ R4 ) ) and L725: (for R1 being Nat holds ( ( D101 |^ R1 ) * C131 ) = ( C131 * ( D101 |^ R1 ) )) by L720 , L651 , NAT_1:14;
L726: ( dom ( D106 |^ R4 ) ) = ( [#] D97 ) by FUNCT_2:def 1;
L727: C130 <> ( 0 )
proof
assume L728: C130 = ( 0 );
L729: ( 0. D97 ) = ( ( id D97 ) . D104 ) by L728 , L713 , L293
.= D104 by FUNCT_1:18;
thus L730: thesis by L729 , L716;
end;
reconsider D110 = ( C130 - 1 ) as (Element of ( NAT )) by L727 , NAT_1:20;
L731: ( ( D101 |^ D110 ) * ( D101 * C131 ) ) = ( ( ( D101 |^ D110 ) * D101 ) * C131 ) by RELAT_1:36
.= ( ( ( D101 |^ D110 ) * ( D101 |^ 1 ) ) * C131 ) by L297
.= ( ( D101 |^ ( D110 + 1 ) ) * C131 ) by L300
.= ( C131 * ( D101 |^ C130 ) ) by L725;
L732: ( dom ( ( D105 * ( id D97 ) ) |^ R4 ) ) = ( [#] D97 ) by FUNCT_2:def 1;
L733: ( ( ( D101 |^ D110 ) * ( ( D105 * ( id D97 ) ) |^ R4 ) ) . D104 ) = ( ( D101 |^ D110 ) . ( ( ( D105 * ( id D97 ) ) |^ R4 ) . D104 ) ) by L732 , FUNCT_1:13
.= ( ( D101 |^ D110 ) . ( ( ( ( power R8 ) . (D105 , R4) ) * ( id D97 ) ) . D104 ) ) by L631
.= ( ( D101 |^ D110 ) . ( ( ( power R8 ) . (D105 , R4) ) * ( ( id D97 ) . D104 ) ) ) by MATRLIN:def 4
.= ( ( D101 |^ D110 ) . ( ( ( power R8 ) . (D105 , R4) ) * D104 ) ) by FUNCT_1:18
.= ( ( ( power R8 ) . (D105 , R4) ) * ( ( D101 |^ D110 ) . D104 ) ) by MOD_2:def 2;
L734: ( ( power R8 ) . (D105 , R4) ) <> ( 0. R8 )
proof
assume L735: ( 0. R8 ) = ( ( power R8 ) . (D105 , R4) );
L736: ( 0. R8 ) = ( Product ( R4 |-> D105 ) ) by L735 , MATRIXJ1:5;
L737: (ex B118 being (Element of ( NAT )) st (B118 in ( dom ( R4 |-> D105 ) ) & ( ( R4 |-> D105 ) . B118 ) = ( 0. R8 ))) by L736 , FVSUM_1:82;
L738: ( dom ( R4 |-> D105 ) ) = ( Seg R4 ) by FINSEQ_2:124;
L739: D105 = ( 0. R8 ) by L738 , L737 , FINSEQ_2:57;
thus L740: thesis by L739 , L670 , VECTSP_1:19;
end;
L741: ( dom ( D101 |^ C130 ) ) = ( [#] D97 ) by FUNCT_2:def 1;
L742: ( ( C131 * ( D101 |^ C130 ) ) . D104 ) = ( C131 . ( ( D101 |^ C130 ) . D104 ) ) by L741 , FUNCT_1:13
.= ( 0. D97 ) by L713 , RANKNULL:9;
L743: D106 = ( R13 + ( ( ( - C121 ) * ( id D97 ) ) + ( D105 * ( id D97 ) ) ) ) by L625
.= ( R13 + ( ( ( - C121 ) + D105 ) * ( id D97 ) ) ) by L645
.= ( R13 + ( ( ( ( - C121 ) + C121 ) - C120 ) * ( id D97 ) ) ) by RLVECT_1:def 3
.= ( R13 + ( ( ( 0. R8 ) + ( - C120 ) ) * ( id D97 ) ) ) by VECTSP_1:19
.= D98 by RLVECT_1:def 4;
L744: ( 0. D97 ) = ( ( D101 |^ D110 ) . ( ( D106 |^ R4 ) . D104 ) ) by L743 , L701 , RANKNULL:9
.= ( ( ( D101 |^ D110 ) * ( ( D101 * C131 ) + ( ( D105 * ( id D97 ) ) |^ R4 ) ) ) . D104 ) by L724 , L726 , FUNCT_1:13
.= ( ( ( C131 * ( D101 |^ C130 ) ) + ( ( D101 |^ D110 ) * ( ( D105 * ( id D97 ) ) |^ R4 ) ) ) . D104 ) by L731 , L615
.= ( ( 0. D97 ) + ( ( ( power R8 ) . (D105 , R4) ) * ( ( D101 |^ D110 ) . D104 ) ) ) by L742 , L733 , MATRLIN:def 3
.= ( ( ( power R8 ) . (D105 , R4) ) * ( ( D101 |^ D110 ) . D104 ) ) by RLVECT_1:def 4;
L745: ( ( D101 |^ D110 ) . D104 ) = ( 0. D97 ) by L744 , L734 , VECTSP_1:15;
L746: ( D110 + 1 ) <= D110 by L745 , L714;
thus L747: contradiction by L746 , NAT_1:13;
end;
L748: C122 is (eigenvector of R13 , C121) by L669 , L671 , L673 , L185;
L749: C122 in ( ker D101 ) by L748 , L669 , L671 , L276;
L750: ( 0. D97 ) = ( D101 . C122 ) by L749 , RANKNULL:10
.= ( ( D101 |^ 1 ) . C122 ) by L297;
L751: C122 in ( UnionKers D101 ) by L750 , L375;
reconsider D111 = C122 as (Vector of C123) by L751 , L675;
L752: (( 0. D97 ) = ( 0. C123 ) & ( C121 * C122 ) = ( C121 * D111 )) by VECTSP_4:11 , VECTSP_4:14;
L753: ( R13 . C122 ) = ( C124 . D111 ) by L674 , FUNCT_1:49;
thus L754: C124 is  with_eigenvalues by L753 , L672 , L673 , L752 , L171;
L755: (not C120 is (eigenvalue of C124))
proof
assume L756: C120 is (eigenvalue of C124);
consider C132 being (Vector of C123) such that L757: C132 <> ( 0. C123 ) and L758: ( C124 . C132 ) = ( C120 * C132 ) by L756 , L754 , L180;
L759: C132 = ( 0. D97 ) by L674 , L758 , L575;
thus L760: thesis by L759 , L757 , VECTSP_4:11;
end;
thus L761: ((not C120 is (eigenvalue of C124)) & C121 is (eigenvalue of C124)) by L755 , L672 , L673 , L752 , L753 , L754 , L180;
L762: (the carrier of ( UnionKers D101 )) c= (the carrier of C123)
proof
let R6 being set;
assume L763: R6 in (the carrier of ( UnionKers D101 ));
L764: R6 in ( UnionKers D101 ) by L763 , STRUCT_0:def 5;
L765: R6 in D97 by L764 , VECTSP_4:9;
reconsider D112 = R6 as (Vector of D97) by L765 , STRUCT_0:def 5;
L766: D112 is (Vector of C123) by L675 , L764;
thus L767: thesis by L766;
end;
thus L768: thesis by L762 , VECTSP_4:27;
end;
theorem
L769: (for R8 being Field holds (for R11 being (VectSp of R8) holds (for B119 being  finite (Subset of R11) holds (B119 is  linearly-independent implies (for B120 being (Vector of R11) holds (B120 in B119 implies (for B121 being (Linear_Combination of ( B119 \ { B120 } )) holds (( card B119 ) = ( card ( ( B119 \ { B120 } ) \/ { ( B120 + ( Sum B121 ) ) } ) ) & ( ( B119 \ { B120 } ) \/ { ( B120 + ( Sum B121 ) ) } ) is  linearly-independent))))))))
proof
let R8 being Field;
let R11 being (VectSp of R8);
set D113 = R11;
let C133 being  finite (Subset of R11);
assume that
L770: C133 is  linearly-independent;
let C134 being (Vector of D113);
assume that
L771: C134 in C133;
defpred S13[ Nat ] means (for B122 being (Linear_Combination of ( C133 \ { C134 } )) holds (( card ( Carrier B122 ) ) = $1 implies (( card C133 ) = ( card ( ( C133 \ { C134 } ) \/ { ( C134 + ( Sum B122 ) ) } ) ) & ( ( C133 \ { C134 } ) \/ { ( C134 + ( Sum B122 ) ) } ) is  linearly-independent)));
L772: (for R4 being Nat holds (S13[ R4 ] implies S13[ ( R4 + 1 ) ]))
proof
L773: ( card C133 ) <> ( 0 ) by L771;
reconsider D114 = ( ( card C133 ) - 1 ) as (Element of ( NAT )) by L773 , NAT_1:20;
let R4 being Nat;
assume that
L774: S13[ R4 ];
set D115 = ( R4 + 1 );
let C135 being (Linear_Combination of ( C133 \ { C134 } ));
assume that
L775: ( card ( Carrier C135 ) ) = D115;
consider R6 being set such that L776: R6 in ( Carrier C135 ) by L775 , CARD_1:27 , XBOOLE_0:def 1;
L777: ( Carrier C135 ) c= ( C133 \ { C134 } ) by VECTSP_6:def 4;
L778: R6 in C133 by L777 , L776 , XBOOLE_0:def 5;
L779: R6 <> ( 0. D113 ) by L778 , L770 , VECTSP_7:2;
reconsider D116 = R6 as (Vector of D113) by L776;
L780: D116 in { D116 } by TARSKI:def 1;
L781: D116 in ( Lin { D116 } ) by L780 , VECTSP_7:8;
consider C136 being (Linear_Combination of { D116 }) such that L782: D116 = ( Sum C136 ) by L781 , VECTSP_7:7;
set D117 = ( C135 . D116 );
set D118 = ( D117 * C136 );
L783: (( Carrier D118 ) c= ( Carrier C136 ) & ( Carrier C136 ) c= { D116 }) by VECTSP_6:28 , VECTSP_6:def 4;
L784: ( Carrier D118 ) c= { D116 } by L783 , XBOOLE_1:1;
L785: (( Carrier ( C135 - D118 ) ) c= ( ( Carrier C135 ) \/ ( Carrier D118 ) ) & ( ( Carrier C135 ) \/ ( Carrier D118 ) ) c= ( ( Carrier C135 ) \/ { D116 } )) by L784 , VECTSP_6:41 , XBOOLE_1:9;
L786: ( Carrier ( C135 - D118 ) ) c= ( ( Carrier C135 ) \/ { D116 } ) by L785 , XBOOLE_1:1;
L787: ( Carrier ( C135 - D118 ) ) c= ( Carrier C135 ) by L786 , L776 , ZFMISC_1:40;
L788: ( Carrier ( C135 - D118 ) ) c= ( C133 \ { C134 } ) by L787 , L777 , XBOOLE_1:1;
reconsider D119 = ( C135 - D118 ) as (Linear_Combination of ( C133 \ { C134 } )) by L788 , VECTSP_6:def 4;
L789: D116 in ( ( C133 \ { C134 } ) \/ { ( C134 + ( Sum D119 ) ) } ) by L776 , L777 , XBOOLE_0:def 3;
L790: ( ( Carrier C135 ) \ { D116 } ) c= ( Carrier ( C135 - D118 ) )
proof
let R7 being set;
assume that
L791: R7 in ( ( Carrier C135 ) \ { D116 } );
L792: R7 in ( Carrier C135 ) by L791 , XBOOLE_0:def 5;
consider C137 being (Vector of D113) such that L793: R7 = C137 and L794: ( C135 . C137 ) <> ( 0. R8 ) by L792;
L795: (not C137 in ( Carrier D118 )) by L784 , L791 , L793 , XBOOLE_0:def 5;
L796: ( D118 . C137 ) = ( 0. R8 ) by L795;
L797: ( ( C135 - D118 ) . C137 ) = ( ( C135 . C137 ) - ( 0. R8 ) ) by L796 , VECTSP_6:40
.= ( C135 . C137 ) by RLVECT_1:13;
thus L798: thesis by L797 , L793 , L794;
end;
L799: ( ( C136 . D116 ) * D116 ) = D116 by L782 , VECTSP_6:17
.= ( ( 1_ R8 ) * D116 ) by VECTSP_1:def 17;
L800: ( C136 . D116 ) = ( 1_ R8 ) by L799 , L779 , VECTSP10:4;
L801: ( ( C135 - D118 ) . D116 ) = ( D117 - ( D118 . D116 ) ) by VECTSP_6:40
.= ( D117 - ( D117 * ( 1_ R8 ) ) ) by L800 , VECTSP_6:def 9
.= ( D117 - D117 ) by VECTSP_1:def 4
.= ( 0. R8 ) by RLVECT_1:5;
L802: (not D116 in ( Carrier ( C135 - D118 ) )) by L801 , VECTSP_6:2;
L803: ( Carrier ( C135 - D118 ) ) c= ( ( Carrier C135 ) \ { D116 } ) by L802 , L787 , ZFMISC_1:34;
L804: ( Carrier ( C135 - D118 ) ) = ( ( Carrier C135 ) \ { D116 } ) by L803 , L790 , XBOOLE_0:def 10;
L805: { D116 } c= ( Carrier C135 ) by L776 , ZFMISC_1:31;
L806: ( card ( Carrier ( C135 - D118 ) ) ) = ( D115 - ( card { D116 } ) ) by L805 , L775 , L804 , CARD_2:44
.= ( D115 - 1 ) by CARD_1:30
.= R4;
L807: ( ( C133 \ { C134 } ) \/ { ( C134 + ( Sum D119 ) ) } ) is  linearly-independent by L806 , L774;
L808: ( C134 + ( Sum D119 ) ) in { ( C134 + ( Sum D119 ) ) } by TARSKI:def 1;
L809: ( C134 + ( Sum D119 ) ) in ( ( C133 \ { C134 } ) \/ { ( C134 + ( Sum D119 ) ) } ) by L808 , XBOOLE_0:def 3;
L810: (not ( C134 + ( Sum C135 ) ) in ( C133 \ { C134 } ))
proof
assume L811: ( C134 + ( Sum C135 ) ) in ( C133 \ { C134 } );
L812: ( C134 + ( Sum C135 ) ) in ( Lin ( C133 \ { C134 } ) ) by L811 , VECTSP_7:8;
L813: ( ( C134 + ( Sum C135 ) ) - ( Sum C135 ) ) = ( C134 + ( ( Sum C135 ) - ( Sum C135 ) ) ) by RLVECT_1:def 3
.= ( C134 + ( 0. D113 ) ) by RLVECT_1:5
.= C134 by RLVECT_1:def 4;
L814: ( Sum C135 ) in ( Lin ( C133 \ { C134 } ) ) by VECTSP_7:7;
thus L815: thesis by L814 , L770 , L771 , L812 , L813 , VECTSP_4:23 , VECTSP_9:14;
end;
L816: ( card C133 ) = ( D114 + 1 );
L817: ( card ( C133 \ { C134 } ) ) = D114 by L816 , L771 , STIRL2_1:55;
L818: ( card ( ( C133 \ { C134 } ) \/ { ( C134 + ( Sum C135 ) ) } ) ) = ( D114 + 1 ) by L817 , L810 , CARD_2:41;
L819: ( Sum C135 ) = ( ( 0. D113 ) + ( Sum C135 ) ) by RLVECT_1:def 4
.= ( ( ( Sum D118 ) + ( - ( Sum D118 ) ) ) + ( Sum C135 ) ) by RLVECT_1:5
.= ( ( Sum D118 ) + ( ( Sum C135 ) - ( Sum D118 ) ) ) by RLVECT_1:def 3
.= ( ( Sum D118 ) + ( Sum D119 ) ) by VECTSP_6:47
.= ( ( D117 * D116 ) + ( Sum D119 ) ) by L782 , VECTSP_6:45;
L820: ( ( C134 + ( Sum D119 ) ) + ( D117 * D116 ) ) = ( C134 + ( Sum C135 ) ) by L819 , RLVECT_1:def 3;
L821: (not ( C134 + ( Sum D119 ) ) in ( C133 \ { C134 } ))
proof
assume L822: ( C134 + ( Sum D119 ) ) in ( C133 \ { C134 } );
L823: ( C134 + ( Sum D119 ) ) in ( Lin ( C133 \ { C134 } ) ) by L822 , VECTSP_7:8;
L824: ( ( C134 + ( Sum D119 ) ) - ( Sum D119 ) ) = ( C134 + ( ( Sum D119 ) - ( Sum D119 ) ) ) by RLVECT_1:def 3
.= ( C134 + ( 0. D113 ) ) by RLVECT_1:5
.= C134 by RLVECT_1:def 4;
L825: ( Sum D119 ) in ( Lin ( C133 \ { C134 } ) ) by VECTSP_7:7;
thus L826: thesis by L825 , L770 , L771 , L823 , L824 , VECTSP_4:23 , VECTSP_9:14;
end;
L827: ( ( ( C133 \ { C134 } ) \/ { ( C134 + ( Sum D119 ) ) } ) \ { ( C134 + ( Sum D119 ) ) } ) = ( C133 \ { C134 } ) by L821 , ZFMISC_1:117;
L828: ( C134 + ( Sum D119 ) ) <> D116 by L776 , L777 , L821;
thus L829: thesis by L828 , L807 , L820 , L827 , L809 , L789 , L818 , MATRIX13:115;
end;
let C138 being (Linear_Combination of ( C133 \ { C134 } ));
L830: S13[ ( 0 ) ]
proof
let C139 being (Linear_Combination of ( C133 \ { C134 } ));
assume L831: ( card ( Carrier C139 ) ) = ( 0 );
L832: ( Carrier C139 ) = ( {} ) by L831;
L833: ( C134 + ( Sum C139 ) ) = ( C134 + ( 0. D113 ) ) by L832 , VECTSP_6:19
.= C134 by RLVECT_1:def 4;
thus L834: thesis by L833 , L770 , L771 , ZFMISC_1:116;
end;
L835: (for R4 being Nat holds S13[ R4 ]) from NAT_1:sch 2(L830 , L772);
L836: S13[ ( card ( Carrier C138 ) ) ] by L835;
thus L837: thesis by L836;
end;
theorem
L838: (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R12 being (VectSp of R8) holds (for B123 being (Subset of R11) holds (for B124 being (Linear_Combination of R12) holds (for B125 being (linear-transformation of R11 , R12) holds (( Carrier B124 ) c= ( B125 .: B123 ) implies (ex B126 being (Linear_Combination of B123) st ( B125 . ( Sum B126 ) ) = ( Sum B124 )))))))))
proof
let R8 being Field;
let R11 being (VectSp of R8);
let R12 being (VectSp of R8);
let C140 being (Subset of R11);
let C141 being (Linear_Combination of R12);
let C142 being (linear-transformation of R11 , R12);
assume that
L839: ( Carrier C141 ) c= ( C142 .: C140 );
set D120 = ( Carrier C141 );
consider C143 being (FinSequence of (the carrier of R12)) such that L840: C143 is  one-to-one and L841: ( rng C143 ) = ( Carrier C141 ) and L842: ( Sum C141 ) = ( Sum ( C141 (#) C143 ) ) by VECTSP_6:def 6;
defpred S14[ set , set ] means ($2 in C140 & ( C142 . $2 ) = ( C143 . $1 ));
set D121 = ( dom C143 );
L843: (for R6 being set holds (R6 in D121 implies (ex R7 being set st (R7 in (the carrier of R11) & S14[ R6 , R7 ]))))
proof
let R6 being set;
assume L844: R6 in D121;
L845: ( C143 . R6 ) in ( rng C143 ) by L844 , FUNCT_1:def 3;
consider R7 being set such that L846: R7 in ( dom C142 ) and L847: (R7 in C140 & ( C142 . R7 ) = ( C143 . R6 )) by L845 , L839 , L841 , FUNCT_1:def 6;
take R7;
thus L848: thesis by L847;
end;
consider C144 being (Function of D121 , (the carrier of R11)) such that L849: (for R6 being set holds (R6 in D121 implies S14[ R6 , ( C144 . R6 ) ])) from FUNCT_2:sch 1(L843);
L850: ( rng C144 ) c= (the carrier of R11) by RELAT_1:def 19;
L851: ( dom C144 ) = D121 by FUNCT_2:def 1;
L852: D121 = ( Seg ( len C143 ) ) by FINSEQ_1:def 3;
reconsider D122 = C144 as FinSequence by L852 , L851 , FINSEQ_1:def 2;
reconsider D123 = D122 as (FinSequence of R11) by L850 , FINSEQ_1:def 4;
L853:
now
let C145 , C146 being set;
assume that
L854: (C145 in ( dom D123 ) & C146 in ( dom D123 ))
and
L855: ( D123 . C145 ) = ( D123 . C146 );
L856: (( C142 . ( D123 . C145 ) ) = ( C143 . C145 ) & ( C142 . ( D123 . C146 ) ) = ( C143 . C146 )) by L849 , L851 , L854;
thus L857: C145 = C146 by L856 , L840 , L851 , L854 , L855 , FUNCT_1:def 4;
end;
L858: D123 is  one-to-one by L853 , FUNCT_1:def 4;
reconsider D124 = ( rng D123 ) as  finite (Subset of R11) by RELAT_1:def 19;
defpred S15[ set , set ] means (($1 in ( rng D123 ) implies (for R6 being set holds ((R6 in D121 & ( D123 . R6 ) = $1) implies $2 = ( C141 . ( C143 . R6 ) )))) & ((not $1 in ( rng D123 )) implies $2 = ( 0. R8 )));
L859: (for R6 being set holds (R6 in (the carrier of R11) implies (ex R7 being set st (R7 in (the carrier of R8) & S15[ R6 , R7 ]))))
proof
let R6 being set;
assume L860: R6 in (the carrier of R11);
reconsider D125 = R6 as (Vector of R11) by L860;
per cases ;
suppose L861: (not D125 in ( rng D123 ));

take ( 0. R8 );
thus L862: thesis by L861;
end;
suppose L863: D125 in ( rng D123 );

consider R7 being set such that L864: (R7 in ( dom D123 ) & ( D123 . R7 ) = D125) by L863 , FUNCT_1:def 3;
take ( C141 . ( C143 . R7 ) );
L865: ( C141 . ( C143 /. R7 ) ) in (the carrier of R8);
thus L866: thesis by L865 , L851 , L853 , L863 , L864 , PARTFUN1:def 6;
end;
end;
consider C147 being (Function of R11 , R8) such that L868: (for R6 being set holds (R6 in (the carrier of R11) implies S15[ R6 , ( C147 . R6 ) ])) from FUNCT_2:sch 1(L859);
reconsider D126 = C147 as (Element of ( Funcs ((the carrier of R11) , (the carrier of R8)) )) by FUNCT_2:8;
L869: (for B127 being (Element of R11) holds ((not B127 in D124) implies ( D126 . B127 ) = ( 0. R8 ))) by L868;
reconsider D127 = D126 as (Linear_Combination of R11) by L869 , VECTSP_6:def 1;
L870: ( Carrier D127 ) = D124
proof
thus L871: ( Carrier D127 ) c= D124
proof
let R6 being set;
assume that
L872: R6 in ( Carrier D127 );
reconsider D128 = R6 as (Vector of R11) by L872;
L873: ( D127 . D128 ) <> ( 0. R8 ) by L872 , VECTSP_6:2;
thus L874: thesis by L873 , L868;
end;

let R7 being set;
assume that
L875: R7 in D124;
reconsider D129 = R7 as (Vector of R11) by L875;
consider R6 being set such that L876: R6 in D121 and L877: ( D123 . R6 ) = D129 by L851 , L875 , FUNCT_1:def 3;
L878: ( C143 . R6 ) in D120 by L841 , L876 , FUNCT_1:def 3;
L879: ( C141 . ( C143 . R6 ) ) <> ( 0. R8 ) by L878 , VECTSP_6:2;
L880: ( D127 . D129 ) = ( C141 . ( C143 . R6 ) ) by L868 , L875 , L876 , L877;
thus L881: thesis by L880 , L879;
end;
L882: D124 c= C140
proof
let R7 being set;
assume L883: R7 in D124;
L884: (ex R6 being set st (R6 in D121 & ( D123 . R6 ) = R7)) by L883 , L851 , FUNCT_1:def 3;
thus L885: thesis by L884 , L849;
end;
reconsider D130 = D127 as (Linear_Combination of C140) by L882 , L870 , VECTSP_6:def 4;
L886: ( len ( D130 (#) D123 ) ) = ( len D123 ) by VECTSP_6:def 5;
L887: ( dom ( D130 (#) D123 ) ) = D121 by L886 , L851 , FINSEQ_3:29;
L888: ( len ( C141 (#) C143 ) ) = ( len C143 ) by VECTSP_6:def 5;
L889: ( dom ( C141 (#) C143 ) ) = D121 by L888 , FINSEQ_3:29;
L890:
now
let R6 being set;
assume that
L891: R6 in D121;
reconsider D131 = R6 as (Element of ( NAT )) by L891;
L892: ( C143 . D131 ) = ( C143 /. D131 ) by L891 , PARTFUN1:def 6;
L893: ( D123 . D131 ) in D124 by L851 , L891 , FUNCT_1:def 3;
L894: ( D130 . ( D123 . D131 ) ) = ( C141 . ( C143 . D131 ) ) by L893 , L868 , L891;
L895: (( D123 /. D131 ) = ( D123 . D131 ) & ( C142 . ( D123 . D131 ) ) = ( C143 . D131 )) by L849 , L851 , L891 , PARTFUN1:def 6;
thus L896: ( ( C142 * ( D130 (#) D123 ) ) . R6 ) = ( C142 . ( ( D130 (#) D123 ) . D131 ) ) by L887 , L891 , FUNCT_1:13
.= ( C142 . ( ( D130 . ( D123 /. D131 ) ) * ( D123 /. D131 ) ) ) by L887 , L891 , VECTSP_6:def 5
.= ( ( C141 . ( C143 /. D131 ) ) * ( C143 /. D131 ) ) by L895 , L892 , L894 , MOD_2:def 2
.= ( ( C141 (#) C143 ) . R6 ) by L889 , L891 , VECTSP_6:def 5;
end;
take D130;
L897: (( dom C142 ) = ( [#] R11 ) & ( rng ( D130 (#) D123 ) ) c= ( [#] R11 )) by FUNCT_2:def 1 , RELAT_1:def 19;
L898: ( dom ( C142 * ( D130 (#) D123 ) ) ) = ( dom ( D130 (#) D123 ) ) by L897 , RELAT_1:27;
L899: ( C142 * ( D130 (#) D123 ) ) = ( C141 (#) C143 ) by L898 , L889 , L887 , L890 , FUNCT_1:2;
thus L900: ( Sum C141 ) = ( C142 . ( Sum ( D130 (#) D123 ) ) ) by L899 , L842 , MATRLIN:16
.= ( C142 . ( Sum D130 ) ) by L858 , L870 , VECTSP_6:def 6;
end;
theorem
L901: (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R12 being (VectSp of R8) holds (for B128 being (linear-transformation of R11 , R12) holds (for B129 being (Subset of R11) holds (for B130 being (Subset of R12) holds (( B128 .: B129 ) = B130 implies ( B128 .: (the carrier of ( Lin B129 )) ) = (the carrier of ( Lin B130 )))))))))
proof
let R8 being Field;
let R11 being (VectSp of R8);
let R12 being (VectSp of R8);
let C148 being (linear-transformation of R11 , R12);
L902: ( dom C148 ) = ( [#] R11 ) by FUNCT_2:def 1;
let C149 being (Subset of R11);
let C150 being (Subset of R12);
assume that
L903: ( C148 .: C149 ) = C150;
thus L904: ( C148 .: (the carrier of ( Lin C149 )) ) c= (the carrier of ( Lin C150 ))
proof
let R7 being set;
assume L905: R7 in ( C148 .: (the carrier of ( Lin C149 )) );
consider R6 being set such that L906: R6 in ( dom C148 ) and L907: R6 in (the carrier of ( Lin C149 )) and L908: ( C148 . R6 ) = R7 by L905 , FUNCT_1:def 6;
L909: R6 in ( Lin C149 ) by L907 , STRUCT_0:def 5;
consider C151 being (Linear_Combination of C149) such that L910: R6 = ( Sum C151 ) by L909 , VECTSP_7:7;
consider C152 being (FinSequence of R11) such that L911: C152 is  one-to-one and L912: ( rng C152 ) = ( Carrier C151 ) and L913: R6 = ( Sum ( C151 (#) C152 ) ) by L910 , VECTSP_6:def 6;
set D132 = ( C151 (#) C152 );
consider C153 being (Function of ( NAT ) , (the carrier of R11)) such that L914: R6 = ( C153 . ( len D132 ) ) and L915: ( C153 . ( 0 ) ) = ( 0. R11 ) and L916: (for B131 being (Element of ( NAT )) holds (for B132 being (Vector of R11) holds ((B131 < ( len D132 ) & B132 = ( D132 . ( B131 + 1 ) )) implies ( C153 . ( B131 + 1 ) ) = ( ( C153 . B131 ) + B132 )))) by L913 , RLVECT_1:def 12;
defpred S16[ Nat ] means ($1 <= ( len C152 ) implies ( C148 . ( C153 . $1 ) ) in ( Lin C150 ));
L917: ( len D132 ) = ( len C152 ) by VECTSP_6:def 5;
L918: ( dom D132 ) = ( dom C152 ) by L917 , FINSEQ_3:29;
L919: (for R4 being Nat holds (S16[ R4 ] implies S16[ ( R4 + 1 ) ]))
proof
let R4 being Nat;
assume that
L920: S16[ R4 ];
reconsider D133 = R4 as (Element of ( NAT )) by ORDINAL1:def 12;
reconsider D134 = ( C153 . D133 ) as (Vector of R11);
set D135 = ( D133 + 1 );
assume L921: ( R4 + 1 ) <= ( len C152 );
L922: D133 < ( len C152 ) by L921 , NAT_1:13;
L923: (( Carrier C151 ) c= C149 & ( dom C148 ) = ( [#] R11 )) by FUNCT_2:def 1 , VECTSP_6:def 4;
L924: 1 <= ( R4 + 1 ) by NAT_1:14;
L925: ( R4 + 1 ) in ( dom C152 ) by L924 , L921 , FINSEQ_3:25;
L926: (( C152 /. D135 ) = ( C152 . D135 ) & ( C152 . D135 ) in ( Carrier C151 )) by L925 , L912 , FUNCT_1:def 3 , PARTFUN1:def 6;
L927: ( C148 . ( C152 /. D135 ) ) in C150 by L926 , L903 , L923 , FUNCT_1:def 6;
L928: ( ( C151 . ( C152 /. D135 ) ) * ( C148 . ( C152 /. D135 ) ) ) in ( Lin C150 ) by L927 , VECTSP_4:21 , VECTSP_7:8;
L929: ( D132 . D135 ) = ( ( C151 . ( C152 /. D135 ) ) * ( C152 /. D135 ) ) by L918 , L925 , VECTSP_6:def 5;
L930: ( C153 . D135 ) = ( D134 + ( ( C151 . ( C152 /. D135 ) ) * ( C152 /. D135 ) ) ) by L929 , L917 , L916 , L922;
L931: ( C148 . ( C153 . ( R4 + 1 ) ) ) = ( ( C148 . D134 ) + ( C148 . ( ( C151 . ( C152 /. D135 ) ) * ( C152 /. D135 ) ) ) ) by L930 , VECTSP_1:def 20
.= ( ( C148 . D134 ) + ( ( C151 . ( C152 /. D135 ) ) * ( C148 . ( C152 /. D135 ) ) ) ) by MOD_2:def 2;
thus L932: thesis by L931 , L920 , L921 , L928 , NAT_1:13 , VECTSP_4:20;
end;
L933: ( C148 . ( 0. R11 ) ) = ( 0. R12 ) by RANKNULL:9;
L934: S16[ ( 0 ) ] by L933 , L915 , VECTSP_4:17;
L935: (for R4 being Nat holds S16[ R4 ]) from NAT_1:sch 2(L934 , L919);
L936: S16[ ( len C152 ) ] by L935;
thus L937: thesis by L936 , L908 , L917 , L914 , STRUCT_0:def 5;
end;

let R6 being set;
assume L938: R6 in (the carrier of ( Lin C150 ));
L939: R6 in ( Lin C150 ) by L938 , STRUCT_0:def 5;
consider C154 being (Linear_Combination of C150) such that L940: R6 = ( Sum C154 ) by L939 , VECTSP_7:7;
L941: ( Carrier C154 ) c= C150 by VECTSP_6:def 4;
consider C155 being (Linear_Combination of C149) such that L942: ( C148 . ( Sum C155 ) ) = ( Sum C154 ) by L941 , L903 , L838;
L943: ( Sum C155 ) in ( Lin C149 ) by VECTSP_7:7;
L944: ( Sum C155 ) in (the carrier of ( Lin C149 )) by L943 , STRUCT_0:def 5;
thus L945: thesis by L944 , L940 , L942 , L902 , FUNCT_1:def 6;
end;
theorem
L946: (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R12 being (VectSp of R8) holds (for B133 being (Linear_Combination of R11) holds (for B134 being (FinSequence of R11) holds (for B135 being (linear-transformation of R11 , R12) holds ((( B135 | ( ( Carrier B133 ) /\ ( rng B134 ) ) ) is  one-to-one & ( rng B134 ) c= ( Carrier B133 )) implies (ex B136 being (Linear_Combination of R12) st (( Carrier B136 ) = ( B135 .: ( ( Carrier B133 ) /\ ( rng B134 ) ) ) & ( B135 * ( B133 (#) B134 ) ) = ( B136 (#) ( B135 * B134 ) ) & (for R16 being (Vector of R11) holds (R16 in ( ( Carrier B133 ) /\ ( rng B134 ) ) implies ( B133 . R16 ) = ( B136 . ( B135 . R16 ) ))))))))))))
proof
let R8 being Field;
let R11 being (VectSp of R8);
let R12 being (VectSp of R8);
let C156 being (Linear_Combination of R11);
let C157 being (FinSequence of R11);
let C158 being (linear-transformation of R11 , R12);
assume that
L947: ( C158 | ( ( Carrier C156 ) /\ ( rng C157 ) ) ) is  one-to-one
and
L948: ( rng C157 ) c= ( Carrier C156 );
set D136 = ( rng C157 );
set D137 = ( Carrier C156 );
defpred S17[ set , set ] means (((not $1 in ( C158 .: ( D137 /\ D136 ) )) implies $2 = ( 0. R8 )) & ($1 in ( C158 .: ( D137 /\ D136 ) ) implies (for B137 being (Vector of R11) holds ((B137 in ( D137 /\ D136 ) & ( C158 . B137 ) = $1) implies $2 = ( C156 . B137 )))));
L949: (for R6 being set holds (R6 in (the carrier of R12) implies (ex R7 being set st (R7 in (the carrier of R8) & S17[ R6 , R7 ]))))
proof
let R6 being set;
assume that
L950: R6 in (the carrier of R12);
per cases ;
suppose L951: (not R6 in ( C158 .: ( D137 /\ D136 ) ));

take ( 0. R8 );
thus L952: thesis by L951;
end;
suppose L953: R6 in ( C158 .: ( D137 /\ D136 ) );

consider R7 being set such that L954: R7 in ( dom C158 ) and L955: R7 in ( D137 /\ D136 ) and L956: R6 = ( C158 . R7 ) by L953 , FUNCT_1:def 6;
reconsider D138 = R7 as (Vector of R11) by L955;
take ( C156 . D138 );
L957:
now
L958: ( dom C158 ) = ( [#] R11 ) by FUNCT_2:def 1;
L959: D138 in ( dom ( C158 | ( D137 /\ D136 ) ) ) by L958 , L955 , RELAT_1:57;
L960: ( ( C158 | ( D137 /\ D136 ) ) . D138 ) = R6 by L955 , L956 , FUNCT_1:49;
let C159 being (Vector of R11);
assume that
L961: C159 in ( D137 /\ D136 )
and
L962: ( C158 . C159 ) = R6;
L963: ( ( C158 | ( D137 /\ D136 ) ) . C159 ) = R6 by L961 , L962 , FUNCT_1:49;
L964: C159 in ( dom ( C158 | ( D137 /\ D136 ) ) ) by L961 , L958 , RELAT_1:57;
thus L965: ( C156 . D138 ) = ( C156 . C159 ) by L964 , L947 , L959 , L963 , L960 , FUNCT_1:def 4;
end;
thus L966: thesis by L957 , L953;
end;
end;
consider C160 being (Function of R12 , R8) such that L968: (for R6 being set holds (R6 in (the carrier of R12) implies S17[ R6 , ( C160 . R6 ) ])) from FUNCT_2:sch 1(L949);
reconsider D139 = C160 as (Element of ( Funcs ((the carrier of R12) , (the carrier of R8)) )) by FUNCT_2:8;
L969: (for B138 being (Element of R12) holds ((not B138 in ( C158 .: ( D137 /\ D136 ) )) implies ( D139 . B138 ) = ( 0. R8 ))) by L968;
reconsider D140 = D139 as (Linear_Combination of R12) by L969 , VECTSP_6:def 1;
L970: ( dom C158 ) = ( [#] R11 ) by FUNCT_2:def 1;
take D140;
L971: ( C158 .: ( D137 /\ D136 ) ) c= ( Carrier D140 )
proof
let R7 being set;
assume that
L972: R7 in ( C158 .: ( D137 /\ D136 ) );
consider C161 being set such that L973: C161 in ( dom C158 ) and L974: C161 in ( D137 /\ D136 ) and L975: ( C158 . C161 ) = R7 by L972 , FUNCT_1:def 6;
reconsider D141 = C161 as (Vector of R11) by L974;
L976: D141 in D137 by L974 , XBOOLE_0:def 4;
L977: ( C156 . D141 ) <> ( 0. R8 ) by L976 , VECTSP_6:2;
reconsider D142 = R7 as (Vector of R12) by L972;
L978: ( D140 . D142 ) = ( C156 . D141 ) by L968 , L972 , L974 , L975;
thus L979: thesis by L978 , L977;
end;
L980: ( Carrier D140 ) c= ( C158 .: ( D137 /\ D136 ) )
proof
let R6 being set;
assume that
L981: R6 in ( Carrier D140 );
reconsider D143 = R6 as (Vector of R12) by L981;
L982: ( D140 . D143 ) <> ( 0. R8 ) by L981 , VECTSP_6:2;
thus L983: thesis by L982 , L968;
end;
thus L984: ( Carrier D140 ) = ( C158 .: ( D137 /\ D136 ) ) by L980 , L971 , XBOOLE_0:def 10;
L985: ( len ( C156 (#) C157 ) ) = ( len C157 ) by VECTSP_6:def 5;
L986: ( dom ( C156 (#) C157 ) ) = ( dom C157 ) by L985 , FINSEQ_3:29;
L987: ( rng C157 ) c= ( [#] R11 ) by RELAT_1:def 19;
L988: ( dom ( C158 * C157 ) ) = ( dom C157 ) by L987 , L970 , RELAT_1:27;
L989: ( len ( D140 (#) ( C158 * C157 ) ) ) = ( len ( C158 * C157 ) ) by VECTSP_6:def 5;
L990: ( dom ( D140 (#) ( C158 * C157 ) ) ) = ( dom ( C158 * C157 ) ) by L989 , FINSEQ_3:29;
L991:
now
let R6 being set;
assume that
L992: R6 in ( dom C157 );
reconsider D144 = R6 as Nat by L992;
L993: ( ( C158 * C157 ) . D144 ) = ( ( C158 * C157 ) /. D144 ) by L988 , L992 , PARTFUN1:def 6;
L994: ( C157 /. D144 ) = ( C157 . D144 ) by L992 , PARTFUN1:def 6;
L995: ( ( C158 * C157 ) . D144 ) = ( C158 . ( C157 /. D144 ) ) by L994 , L988 , L992 , FUNCT_1:12;
L996: ( C157 . D144 ) in D136 by L992 , FUNCT_1:def 3;
L997: ( C157 . D144 ) in ( D137 /\ D136 ) by L996 , L948 , XBOOLE_0:def 4;
L998: ( ( C158 * C157 ) /. D144 ) in ( C158 .: ( D137 /\ D136 ) ) by L997 , L970 , L994 , L995 , L993 , FUNCT_1:def 6;
L999: ( C156 . ( C157 /. D144 ) ) = ( D140 . ( ( C158 * C157 ) /. D144 ) ) by L998 , L968 , L994 , L995 , L993 , L997;
thus L1000: ( ( C158 * ( C156 (#) C157 ) ) . R6 ) = ( C158 . ( ( C156 (#) C157 ) . D144 ) ) by L986 , L992 , FUNCT_1:13
.= ( C158 . ( ( C156 . ( C157 /. D144 ) ) * ( C157 /. D144 ) ) ) by L986 , L992 , VECTSP_6:def 5
.= ( ( D140 . ( ( C158 * C157 ) /. D144 ) ) * ( ( C158 * C157 ) /. D144 ) ) by L995 , L993 , L999 , MOD_2:def 2
.= ( ( D140 (#) ( C158 * C157 ) ) . R6 ) by L990 , L988 , L992 , VECTSP_6:def 5;
end;
L1001: ( rng ( C156 (#) C157 ) ) c= ( [#] R11 ) by RELAT_1:def 19;
L1002: ( dom ( C158 * ( C156 (#) C157 ) ) ) = ( dom ( C156 (#) C157 ) ) by L1001 , L970 , RELAT_1:27;
thus L1003: ( C158 * ( C156 (#) C157 ) ) = ( D140 (#) ( C158 * C157 ) ) by L1002 , L986 , L990 , L988 , L991 , FUNCT_1:2;
let C162 being (Vector of R11);
assume that
L1004: C162 in ( D137 /\ D136 );
L1005: ( C158 . C162 ) in ( C158 .: ( D137 /\ D136 ) ) by L970 , L1004 , FUNCT_1:def 6;
thus L1006: thesis by L1005 , L968 , L1004;
end;
theorem
L1007: (for R8 being Field holds (for R11 being (VectSp of R8) holds (for R12 being (VectSp of R8) holds (for B139 , B140 being (Subset of R11) holds (for B141 being (Linear_Combination of R11) holds ((( Carrier B141 ) c= ( B139 \/ B140 ) & ( Sum B141 ) = ( 0. R11 )) implies (for B142 being  additive  homogeneous (Function of R11 , R12) holds ((( B142 | B140 ) is  one-to-one & ( B142 .: B140 ) is  linearly-independent  linearly-independent  linearly-independent  linearly-independent (Subset of R12) & ( B142 .: B139 ) c= { ( 0. R12 ) }) implies ( Carrier B141 ) c= B139))))))))
proof
let R8 being Field;
let R11 being (VectSp of R8);
let R12 being (VectSp of R8);
let C163 , C164 being (Subset of R11);
let C165 being (Linear_Combination of R11);
assume that
L1008: ( Carrier C165 ) c= ( C163 \/ C164 )
and
L1009: ( Sum C165 ) = ( 0. R11 );
consider C166 being (FinSequence of R11) such that L1010: C166 is  one-to-one and L1011: ( rng C166 ) = ( Carrier C165 ) and L1012: ( 0. R11 ) = ( Sum ( C165 (#) C166 ) ) by L1009 , VECTSP_6:def 6;
let C167 being  additive  homogeneous (Function of R11 , R12);
assume that
L1013: ( C167 | C164 ) is  one-to-one
and
L1014: ( C167 .: C164 ) is  linearly-independent  linearly-independent  linearly-independent  linearly-independent (Subset of R12)
and
L1015: ( C167 .: C163 ) c= { ( 0. R12 ) };
per cases ;
suppose L1016: ( dom C166 ) = ( {} );

L1017: ( rng C166 ) = ( {} ) by L1016 , RELAT_1:42;
thus L1018: thesis by L1017 , L1011 , XBOOLE_1:2;
end;
suppose L1019: ( dom C166 ) <> ( {} );

reconsider D145 = ( dom C166 ) as non  empty  finite set by L1019;
set D146 = ( Carrier C165 );
set D147 = ( C166 " ( D146 /\ C163 ) );
set D148 = ( C166 " ( D146 /\ C164 ) );
set D149 = ( ( Sgm D148 ) ^ ( Sgm D147 ) );
L1020: ( D146 /\ ( D146 /\ C164 ) ) = ( D146 /\ C164 ) by XBOOLE_1:18 , XBOOLE_1:28;
L1021: ( rng C166 ) c= (the carrier of R11) by RELAT_1:def 19;
reconsider D150 = C166 as (Function of D145 , (the carrier of R11)) by L1021 , FUNCT_2:2;
L1022: D145 = ( Seg ( len C166 ) ) by FINSEQ_1:def 3;
L1023: ( Sgm D147 ) is  one-to-one by L1022 , FINSEQ_3:92 , RELAT_1:132;
L1024: (( len ( Sgm D147 ) ) = ( card D147 ) & ( len ( Sgm D148 ) ) = ( card D148 )) by L1022 , FINSEQ_3:39 , RELAT_1:132;
L1025: ( Sgm D148 ) is  one-to-one by L1022 , FINSEQ_3:92 , RELAT_1:132;
L1026: D148 c= D145 by RELAT_1:132;
L1027: ( rng ( Sgm D148 ) ) = D148 by L1026 , L1022 , FINSEQ_1:def 13;
L1028: D147 c= D145 by RELAT_1:132;
L1029: ( rng ( Sgm D147 ) ) = D147 by L1028 , L1022 , FINSEQ_1:def 13;
reconsider D151 = ( Sgm D147 ) , D152 = ( Sgm D148 ) as (FinSequence of D145) by L1029 , L1028 , L1026 , L1027 , FINSEQ_1:def 4;
L1030: C163 misses C164
proof
assume L1031: C163 meets C164;
consider R6 being set such that L1032: R6 in C163 and L1033: R6 in C164 by L1031 , XBOOLE_0:3;
reconsider D153 = R6 as (Vector of R11) by L1032;
L1034: ( dom C167 ) = (the carrier of R11) by FUNCT_2:def 1;
L1035: (( C167 . D153 ) in ( C167 .: C163 ) & ( C167 . D153 ) in ( C167 .: C164 )) by L1034 , L1032 , L1033 , FUNCT_1:def 6;
L1036: ( 0. R12 ) in ( C167 .: C164 ) by L1035 , L1015 , TARSKI:def 1;
thus L1037: thesis by L1036 , L1014 , VECTSP_7:2;
end;
L1038: ( D146 /\ C163 ) misses ( D146 /\ C164 ) by L1030 , XBOOLE_1:76;
L1039: D147 misses D148 by L1038 , FUNCT_1:71;
L1040: D149 is  one-to-one by L1039 , L1023 , L1029 , L1025 , L1027 , FINSEQ_3:91;
L1041: ( ( D146 /\ C163 ) \/ ( D146 /\ C164 ) ) = ( D146 /\ ( C163 \/ C164 ) ) by XBOOLE_1:23
.= D146 by L1008 , XBOOLE_1:28;
L1042: ( D147 \/ D148 ) = ( C166 " D146 ) by L1041 , RELAT_1:140
.= ( dom C166 ) by L1011 , RELAT_1:134;
L1043: ( ( card D147 ) + ( card D148 ) ) = ( card ( Seg ( len C166 ) ) ) by L1042 , L1022 , L1038 , CARD_2:40 , FUNCT_1:71
.= ( len C166 ) by FINSEQ_1:57;
L1044: ( len D149 ) = ( len C166 ) by L1043 , L1024 , FINSEQ_1:22;
L1045: ( dom D149 ) = D145 by L1044 , FINSEQ_3:29;
L1046: ( rng D149 ) = D145 by L1042 , L1029 , L1027 , FINSEQ_1:31;
reconsider D154 = D149 as (Function of D145 , D145) by L1046 , L1045 , FUNCT_2:1;
L1047: ( card D145 ) = ( card D145 );
L1048: D154 is  onto by L1047 , L1040 , STIRL2_1:60;
reconsider D155 = D154 as (Permutation of D145) by L1048 , L1040;
reconsider D156 = ( D150 * D155 ) , D157 = ( D150 * D151 ) , D158 = ( D150 * D152 ) as (FinSequence of R11) by FINSEQ_2:47;
L1049: ( D146 /\ C164 ) c= ( rng D158 )
proof
let R7 being set;
assume that
L1050: R7 in ( D146 /\ C164 );
L1051: R7 in ( rng C166 ) by L1011 , L1050 , XBOOLE_0:def 4;
consider R6 being set such that L1052: (R6 in ( dom C166 ) & R7 = ( C166 . R6 )) by L1051 , FUNCT_1:def 3;
L1053: R6 in D148 by L1050 , L1052 , FUNCT_1:def 7;
consider C168 being set such that L1054: (C168 in ( dom D152 ) & ( D152 . C168 ) = R6) by L1053 , L1027 , FUNCT_1:def 3;
L1055: (( D158 . C168 ) = R7 & C168 in ( dom D158 )) by L1052 , L1054 , FUNCT_1:11 , FUNCT_1:13;
thus L1056: thesis by L1055 , FUNCT_1:def 3;
end;
L1057: ( rng D158 ) c= ( D146 /\ C164 )
proof
let R7 being set;
assume L1058: R7 in ( rng D158 );
consider R6 being set such that L1059: R6 in ( dom D158 ) and L1060: ( D158 . R6 ) = R7 by L1058 , FUNCT_1:def 3;
L1061: R6 in ( dom D152 ) by L1059 , FUNCT_1:11;
L1062: ( D152 . R6 ) in ( C166 " ( D146 /\ C164 ) ) by L1061 , L1027 , FUNCT_1:def 3;
L1063: ( D158 . R6 ) = ( C166 . ( D152 . R6 ) ) by L1059 , FUNCT_1:12;
thus L1064: thesis by L1063 , L1060 , L1062 , FUNCT_1:def 7;
end;
L1065: ( D146 /\ C164 ) = ( rng D158 ) by L1057 , L1049 , XBOOLE_0:def 10;
L1066:
now
L1067: ( len ( C165 (#) D157 ) ) = ( len D157 ) by VECTSP_6:def 5;
L1068: ( dom ( C165 (#) D157 ) ) = ( dom D157 ) by L1067 , FINSEQ_3:29;
L1069: ( dom C167 ) = ( [#] R11 ) by FUNCT_2:def 1;
L1070: (( rng ( C165 (#) D157 ) ) c= ( [#] R11 ) & ( dom C167 ) = ( [#] R11 )) by FUNCT_2:def 1 , RELAT_1:def 19;
L1071: ( dom ( C167 * ( C165 (#) D157 ) ) ) = ( dom ( C165 (#) D157 ) ) by L1070 , RELAT_1:27;
let C169 being (Element of ( NAT ));
let C170 being (Element of R12);
assume that
L1072: C169 in ( dom ( C167 * ( C165 (#) D157 ) ) )
and
L1073: C170 = ( ( C167 * ( C165 (#) D157 ) ) . C169 );
L1074: ( dom D157 ) = ( dom D151 ) by L1029 , RELAT_1:27 , RELAT_1:132;
L1075: ( D151 . C169 ) in ( C166 " ( D146 /\ C163 ) ) by L1074 , L1029 , L1072 , L1071 , L1068 , FUNCT_1:def 3;
L1076: ( C166 . ( D151 . C169 ) ) in ( D146 /\ C163 ) by L1075 , FUNCT_1:def 7;
L1077: ( D157 /. C169 ) = ( D157 . C169 ) by L1072 , L1071 , L1068 , PARTFUN1:def 6
.= ( C166 . ( D151 . C169 ) ) by L1072 , L1071 , L1068 , FUNCT_1:12;
L1078: ( D157 /. C169 ) in C163 by L1077 , L1076 , XBOOLE_0:def 4;
L1079: ( C167 . ( D157 /. C169 ) ) in ( C167 .: C163 ) by L1078 , L1069 , FUNCT_1:def 6;
L1080: ( C167 . ( D157 /. C169 ) ) = ( 0. R12 ) by L1079 , L1015 , TARSKI:def 1;
thus L1081: ( ( C167 * ( C165 (#) D157 ) ) . C169 ) = ( C167 . ( ( C165 (#) D157 ) . C169 ) ) by L1072 , FUNCT_1:12
.= ( C167 . ( ( C165 . ( D157 /. C169 ) ) * ( D157 /. C169 ) ) ) by L1072 , L1071 , VECTSP_6:def 5
.= ( ( C165 . ( D157 /. C169 ) ) * ( 0. R12 ) ) by L1080 , MOD_2:def 2
.= ( 0. R12 ) by VECTSP_1:14
.= ( ( 0. R8 ) * C170 ) by VECTSP_1:14;
end;
L1082: ( len ( C167 * ( C165 (#) D157 ) ) ) = ( len ( C167 * ( C165 (#) D157 ) ) );
L1083: ( Sum ( C167 * ( C165 (#) D157 ) ) ) = ( ( 0. R8 ) * ( Sum ( C167 * ( C165 (#) D157 ) ) ) ) by L1082 , L1066 , RLVECT_2:66;
L1084: D156 = ( D158 ^ D157 ) by FINSEQOP:9;
L1085: ( C165 (#) D156 ) = ( ( C165 (#) D158 ) ^ ( C165 (#) D157 ) ) by L1084 , VECTSP_6:13;
L1086: ( C167 * ( C165 (#) D156 ) ) = ( ( C167 * ( C165 (#) D158 ) ) ^ ( C167 * ( C165 (#) D157 ) ) ) by L1085 , FINSEQOP:9;
L1087: ( ( C167 | C164 ) | ( D146 /\ C164 ) ) = ( C167 | ( D146 /\ C164 ) ) by RELAT_1:74 , XBOOLE_1:18;
L1088: ( C167 | ( D146 /\ C164 ) ) is  one-to-one by L1087 , L1013 , FUNCT_1:52;
consider C171 being (Linear_Combination of R12) such that L1089: ( Carrier C171 ) = ( C167 .: ( D146 /\ ( rng D158 ) ) ) and L1090: ( C167 * ( C165 (#) D158 ) ) = ( C171 (#) ( C167 * D158 ) ) and L1091: (for B143 being (Vector of R11) holds (B143 in ( D146 /\ ( rng D158 ) ) implies ( C165 . B143 ) = ( C171 . ( C167 . B143 ) ))) by L1088 , L1065 , L1020 , L946 , XBOOLE_1:18;
L1092: ( Carrier C171 ) = ( rng ( C167 * D158 ) ) by L1065 , L1020 , L1089 , RELAT_1:127;
L1093: ( C167 * D158 ) = ( C167 * ( ( id ( rng D158 ) ) * D158 ) ) by RELAT_1:53
.= ( ( C167 * ( id ( rng D158 ) ) ) * D158 ) by RELAT_1:36
.= ( ( C167 | ( D146 /\ C164 ) ) * D158 ) by L1065 , RELAT_1:65;
L1094: ( Carrier C171 ) c= ( C167 .: C164 ) by L1065 , L1020 , L1089 , RELAT_1:123 , XBOOLE_1:18;
L1095: C171 is (Linear_Combination of ( C167 .: C164 )) by L1094 , VECTSP_6:def 4;
L1096: ( C167 . ( 0. R11 ) ) = ( 0. R12 ) by RANKNULL:9;
L1097: ( 0. R12 ) = ( C167 . ( Sum ( C165 (#) D156 ) ) ) by L1096 , L1012 , VECTSP_9:1
.= ( Sum ( C167 * ( C165 (#) D156 ) ) ) by MATRLIN:16
.= ( ( Sum ( C167 * ( C165 (#) D158 ) ) ) + ( Sum ( C167 * ( C165 (#) D157 ) ) ) ) by L1086 , RLVECT_1:41
.= ( ( Sum ( C167 * ( C165 (#) D158 ) ) ) + ( 0. R12 ) ) by L1083 , VECTSP_1:14
.= ( Sum ( C171 (#) ( C167 * D158 ) ) ) by L1090 , RLVECT_1:def 4
.= ( Sum C171 ) by L1010 , L1025 , L1088 , L1092 , L1093 , VECTSP_6:def 6;
thus L1098: D146 c= C163
proof
let R6 being set;
assume that
L1099: R6 in D146;
reconsider D159 = R6 as (Vector of R11) by L1099;
assume L1100: (not R6 in C163);
L1101: (R6 in C163 or R6 in C164) by L1008 , L1099 , XBOOLE_0:def 3;
L1102: D159 in ( D146 /\ ( rng D158 ) ) by L1101 , L1065 , L1020 , L1099 , L1100 , XBOOLE_0:def 4;
L1103: ( C165 . D159 ) = ( C171 . ( C167 . D159 ) ) by L1102 , L1091;
L1104: (not ( C167 . D159 ) in ( Carrier C171 )) by L1014 , L1095 , L1097 , VECTSP_7:def 1;
L1105: ( C165 . D159 ) = ( 0. R8 ) by L1104 , L1103;
thus L1106: contradiction by L1105 , L1099 , VECTSP_6:2;
end;

end;
end;
