:: The Correspondence Between Monotonic Many Sorted Signatures
:: and Well-Founded Graphs. {P}art {II}
::  by Czes{\l}aw Byli\'nski and Piotr Rudnicki
::
:: Received April 10, 1996
:: Copyright (c) 1996-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, NAT_1, MSUALG_1, STRUCT_0, SUBSET_1, RELAT_1, FUNCT_1,
      ZFMISC_1, TARSKI, MCART_1, XBOOLE_0, GRAPH_1, PBOOLE, XXREAL_0, MSAFREE,
      MSAFREE2, WAYBEL_0, TREES_2, FINSEQ_1, GRAPH_2, ARYTM_3, MSATERM,
      FINSET_1, TREES_1, TREES_9, TREES_4, MARGREL1, ORDINAL4, RFINSEQ,
      ARYTM_1, CARD_1, PARTFUN1, FUNCT_6, TREES_3, TREES_A, MSSCYC_1, CARD_3,
      UNIALG_2, MSSCYC_2;
 notations TARSKI, XBOOLE_0, ZFMISC_1,
      XTUPLE_0, SUBSET_1, NUMBERS, XCMPLX_0, ORDINAL1,
      NAT_1, MCART_1, STRUCT_0, RELAT_1, FUNCT_1, PARTFUN1, FUNCT_2, RFINSEQ,
      FINSET_1, TREES_1, TREES_2, TREES_3, TREES_4, CARD_3, GRAPH_1, GRAPH_2,
      PBOOLE, MSUALG_1, MSUALG_2, MSAFREE, MSAFREE2, XXREAL_2, CIRCUIT1,
      TREES_9, MSATERM, MSSCYC_1, FINSEQ_1, XXREAL_0;
 constructors WELLORD2, REAL_1, NAT_1, RFINSEQ, MSUALG_2, MSATERM, CIRCUIT1,
      GRAPH_2, MSSCYC_1, XXREAL_2, RELSET_1, XTUPLE_0;
 registrations XBOOLE_0, RELAT_1, ORDINAL1, FINSET_1, XXREAL_0, XREAL_0, NAT_1,
      MEMBERED, FINSEQ_1, TREES_2, TREES_3, PRE_CIRC, STRUCT_0, GRAPH_1,
      MSUALG_1, MSAFREE, MSATERM, MSAFREE2, MSSCYC_1, XXREAL_2, PBOOLE,
      RELSET_1, FUNCT_1, TREES_1, CARD_2, XTUPLE_0;
 requirements NUMERALS, REAL, BOOLE, SUBSET, ARITHM;
 definitions TARSKI, MSAFREE2, XTUPLE_0;
 theorems TARSKI, NAT_1, MCART_1, ZFMISC_1, MSSCYC_1, FUNCT_6, CARD_1, CARD_3,
      FUNCT_1, FUNCT_2, FINSEQ_1, FINSEQ_2, FINSEQ_3, FINSEQ_4, FINSEQ_5,
      RFINSEQ, TREES_1, TREES_2, TREES_3, TREES_4, DTCONSTR, MSUALG_1, MSAFREE,
      MSAFREE2, CIRCUIT1, TREES_9, MSATERM, XBOOLE_1, ORDINAL1, XREAL_1,
      XXREAL_0, PARTFUN1, XXREAL_2, FINSET_1, CARD_2, XTUPLE_0;
 schemes NAT_1, FINSEQ_1, FUNCT_2, RECDEF_1, FRAENKEL, TOPREAL1, PBOOLE,
      XBOOLE_0;

begin
definition
let C1 being ManySortedSign;
defpred S1[ set ] means (ex B1 , B2 being set st ($1 = [ B1 , B2 ] & B1 in (the carrier' of C1) & B2 in (the carrier of C1) & (ex B3 being Nat st (ex B4 being (Element of ( (the carrier of C1) * )) st (( (the Arity of C1) . B1 ) = B4 & B3 in ( dom B4 ) & ( B4 . B3 ) = B2)))));
func InducedEdges C1 -> set means 
:L1: (for B5 being set holds (B5 in it iff (ex B6 , B7 being set st (B5 = [ B6 , B7 ] & B6 in (the carrier' of C1) & B7 in (the carrier of C1) & (ex B8 being Nat st (ex B9 being (Element of ( (the carrier of C1) * )) st (( (the Arity of C1) . B6 ) = B9 & B8 in ( dom B9 ) & ( B9 . B8 ) = B7)))))));
existence
proof
set D1 = [: (the carrier' of C1) , (the carrier of C1) :];
consider C2 being set such that L2: (for B10 being set holds (B10 in C2 iff (B10 in D1 & S1[ B10 ]))) from XBOOLE_0:sch 1;
take C2;
let C3 being set;
thus L3: (C3 in C2 implies S1[ C3 ]) by L2;
assume L4: S1[ C3 ];
L5: C3 in D1 by L4 , ZFMISC_1:def 2;
thus L6: thesis by L5 , L2 , L4;
end;
uniqueness
proof
L7: (for B11 , B12 being set holds (((for B13 being set holds (B13 in B11 iff S1[ B13 ])) & (for B14 being set holds (B14 in B12 iff S1[ B14 ]))) implies B11 = B12)) from XBOOLE_0:sch 3;
thus L8: thesis by L7;
end;
end;
theorem
L10: (for B15 being ManySortedSign holds ( InducedEdges B15 ) c= [: (the carrier' of B15) , (the carrier of B15) :])
proof
let C4 being ManySortedSign;
let C5 being set;
assume L11: C5 in ( InducedEdges C4 );
L12: (ex B16 , B17 being set st (C5 = [ B16 , B17 ] & B16 in (the carrier' of C4) & B17 in (the carrier of C4) & (ex B18 being Nat st (ex B19 being (Element of ( (the carrier of C4) * )) st (( (the Arity of C4) . B16 ) = B19 & B18 in ( dom B19 ) & ( B19 . B18 ) = B17))))) by L11 , L1;
thus L13: thesis by L12 , ZFMISC_1:def 2;
end;
definition
let C6 being ManySortedSign;
set D2 = ( InducedEdges C6 );
set D3 = (the carrier of C6);
func InducedSource C6 -> (Function of ( InducedEdges C6 ) , (the carrier of C6)) means 
:L14: (for B20 being set holds (B20 in ( InducedEdges C6 ) implies ( it . B20 ) = ( B20 `2 )));
existence
proof
deffunc H1(set) = ( $1 `2 );
L15: (for B21 being set holds (B21 in D2 implies H1(B21) in D3))
proof
let C7 being set;
assume L16: C7 in D2;
L17: D2 c= [: (the carrier' of C6) , D3 :] by L10;
thus L18: thesis by L17 , L16 , MCART_1:10;
end;
L19: (ex B22 being (Function of ( InducedEdges C6 ) , (the carrier of C6)) st (for B23 being set holds (B23 in ( InducedEdges C6 ) implies ( B22 . B23 ) = H1(B23)))) from FUNCT_2:sch 2(L15);
thus L20: thesis by L19;
end;
uniqueness
proof
let C8 , C9 being (Function of D2 , D3);
assume that
L21: (for B24 being set holds (B24 in D2 implies ( C8 . B24 ) = ( B24 `2 )))
and
L22: (for B25 being set holds (B25 in D2 implies ( C9 . B25 ) = ( B25 `2 )));
L23:
now
let C10 being set;
assume L24: C10 in D2;
L25: ( C8 . C10 ) = ( C10 `2 ) by L24 , L21;
thus L26: ( C8 . C10 ) = ( C9 . C10 ) by L25 , L22 , L24;
end;
L27:
now
assume L28: D3 is  empty;
L29: [: (the carrier' of C6) , D3 :] is  empty by L28 , ZFMISC_1:90;
thus L30: D2 is  empty by L29 , L10 , XBOOLE_1:3;
end;
L31: (( dom C8 ) = D2 & ( dom C9 ) = D2) by L27 , FUNCT_2:def 1;
thus L32: C8 = C9 by L31 , L23 , FUNCT_1:2;
end;
set D4 = (the carrier' of C6);
set D5 = (the ResultSort of C6);
func InducedTarget C6 -> (Function of ( InducedEdges C6 ) , (the carrier of C6)) means 
:L33: (for B26 being set holds (B26 in ( InducedEdges C6 ) implies ( it . B26 ) = ( (the ResultSort of C6) . ( B26 `1 ) )));
existence
proof
deffunc H2(set) = ( D5 . ( $1 `1 ) );
L34: (for B27 being set holds (B27 in D2 implies H2(B27) in D3))
proof
let C11 being set;
assume L35: C11 in D2;
L36: D2 c= [: D4 , D3 :] by L10;
L37: (( C11 `1 ) in D4 & ( C11 `2 ) in D3) by L36 , L35 , MCART_1:10;
thus L38: thesis by L37 , FUNCT_2:5;
end;
L39: (ex B28 being (Function of ( InducedEdges C6 ) , (the carrier of C6)) st (for B29 being set holds (B29 in ( InducedEdges C6 ) implies ( B28 . B29 ) = H2(B29)))) from FUNCT_2:sch 2(L34);
thus L40: thesis by L39;
end;
uniqueness
proof
let C12 , C13 being (Function of D2 , D3);
assume that
L41: (for B30 being set holds (B30 in D2 implies ( C12 . B30 ) = ( D5 . ( B30 `1 ) )))
and
L42: (for B31 being set holds (B31 in D2 implies ( C13 . B31 ) = ( D5 . ( B31 `1 ) )));
L43:
now
let C14 being set;
assume L44: C14 in D2;
L45: ( C12 . C14 ) = ( D5 . ( C14 `1 ) ) by L44 , L41;
thus L46: ( C12 . C14 ) = ( C13 . C14 ) by L45 , L42 , L44;
end;
L47:
now
assume L48: D3 is  empty;
L49: [: (the carrier' of C6) , D3 :] is  empty by L48 , ZFMISC_1:90;
thus L50: D2 is  empty by L49 , L10 , XBOOLE_1:3;
end;
L51: (( dom C12 ) = D2 & ( dom C13 ) = D2) by L47 , FUNCT_2:def 1;
thus L52: C12 = C13 by L51 , L43 , FUNCT_1:2;
end;
end;
definition
let C15 being non  empty ManySortedSign;
func InducedGraph C15 -> Graph equals 
MultiGraphStruct (# (the carrier of C15) , ( InducedEdges C15 ) , ( InducedSource C15 ) , ( InducedTarget C15 ) #);
coherence;
end;
theorem
L55: (for B32 being non  void non  empty ManySortedSign holds (for B33 being  non-empty (ManySortedSet of (the carrier of B32)) holds (for B34 being (SortSymbol of B32) holds (for R2 being Nat holds (1 <= R2 implies ((ex B35 being (Element of ( (the Sorts of ( FreeMSA B33 )) . B34 )) st ( depth B35 ) = R2) iff (ex B36 being  directed (Chain of ( InducedGraph B32 )) st (( len B36 ) = R2 & ( ( vertex-seq B36 ) . ( ( len B36 ) + 1 ) ) = B34))))))))
proof
let C16 being non  void non  empty ManySortedSign;
let C17 being  non-empty (ManySortedSet of (the carrier of C16));
let C18 being (SortSymbol of C16);
let R2 being Nat;
assume L56: 1 <= R2;
set D6 = ( InducedGraph C16 );
L57: ( FreeMSA C17 ) = MSAlgebra (# ( FreeSort C17 ) , ( FreeOper C17 ) #) by MSAFREE:def 14;
L58: ( (the Sorts of ( FreeMSA C17 )) . C18 ) = ( FreeSort (C17 , C18) ) by L57 , MSAFREE:def 11;
L59: ( FreeSort (C17 , C18) ) c= ( C16 -Terms C17 ) by MSATERM:12;
thus L60: ((ex B37 being (Element of ( (the Sorts of ( FreeMSA C17 )) . C18 )) st ( depth B37 ) = R2) implies (ex B38 being  directed (Chain of ( InducedGraph C16 )) st (( len B38 ) = R2 & ( ( vertex-seq B38 ) . ( ( len B38 ) + 1 ) ) = C18)))
proof
reconsider D7 = R2 as (Element of ( NAT )) by ORDINAL1:def 12;
set D8 = ( (the carrier' of D6) * );
given C19 being (Element of ( (the Sorts of ( FreeMSA C17 )) . C18 )) such that
L61: ( depth C19 ) = R2;

L62: C19 in ( FreeSort (C17 , C18) ) by L58;
reconsider D9 = C19 as (Term of C16 , C17) by L62 , L59;
consider C20 being  finite DecoratedTree, C21 being  finite Tree such that L63: (C20 = C19 & C21 = ( dom C20 )) and L64: ( depth C19 ) = ( height C21 ) by MSAFREE2:def 14;
L65: (not C19 is  root) by L56 , L61 , L63 , L64 , TREES_1:42 , TREES_9:def 1;
consider C22 being (OperSymbol of C16) such that L66: ( D9 . ( {} ) ) = [ C22 , (the carrier of C16) ] by L65 , MSSCYC_1:20;
consider C23 being (ArgumentSeq of ( Sym (C22 , C17) )) such that L67: C19 = ( [ C22 , (the carrier of C16) ] -tree C23 ) by L66 , MSATERM:10;
set D10 = ( the_arity_of C22 );
L68: ( dom C23 ) = ( dom D10 ) by MSATERM:22;
consider C24 being (FinSequence of ( NAT )) such that L69: C24 in C21 and L70: ( len C24 ) = ( height C21 ) by TREES_1:def 12;
consider C25 being (Element of ( NAT )), C26 being DecoratedTree, C27 being (Node of C26) such that L71: C25 < ( len C23 ) and L72: C26 = ( C23 . ( C25 + 1 ) ) and L73: C24 = ( <* C25 *> ^ C27 ) by L56 , L61 , L63 , L64 , L69 , L70 , L67 , CARD_1:27 , TREES_4:11;
defpred S2[ Nat , set , set ] means (ex B39 , B40 being (Term of C16 , C17) st (B39 = ( C19 | ( C24 | $1 ) ) & B40 = ( C19 | ( C24 | ( $1 + 1 ) ) ) & (ex B41 being (OperSymbol of C16) st (ex B42 being (SortSymbol of C16) st (ex B43 being (Element of D8) st (B43 = $2 & $3 = ( <* [ B41 , B42 ] *> ^ B43 ) & [ B41 , (the carrier of C16) ] = ( B39 . ( {} ) ) & B42 = ( the_sort_of B40 ) & [ B41 , B42 ] in (the carrier' of D6)))))));
L74: (1 <= ( C25 + 1 ) & ( C25 + 1 ) <= ( len C23 )) by L71 , NAT_1:11 , NAT_1:13;
L75: ( C25 + 1 ) in ( dom D10 ) by L74 , L68 , FINSEQ_3:25;
reconsider D11 = ( D10 . ( C25 + 1 ) ) as (SortSymbol of C16) by L75 , DTCONSTR:2;
set D12 = [ C22 , D11 ];
L76: ( (the Arity of C16) . C22 ) = ( the_arity_of C22 ) by MSUALG_1:def 1;
L77: [ C22 , D11 ] in ( InducedEdges C16 ) by L76 , L75 , L1;
reconsider D13 = (the carrier' of D6) as non  empty set by L77;
reconsider D14 = D12 as (Element of D13) by L75 , L76 , L1;
reconsider D15 = <* D14 *> as (Element of D8) by FINSEQ_1:def 11;
L78: (for B44 being (Element of ( NAT )) holds ((1 <= B44 & B44 < D7) implies (for B45 being (Element of D8) holds (ex B46 being (Element of D8) st S2[ B44 , B45 , B46 ]))))
proof
let C28 being (Element of ( NAT ));
set D16 = ( C24 /^ C28 );
L79: C28 <= ( C28 + 1 ) by NAT_1:13;
L80: ( Seg C28 ) c= ( Seg ( C28 + 1 ) ) by L79 , FINSEQ_1:5;
reconsider D17 = ( C24 | C28 ) , D18 = ( C24 | ( C28 + 1 ) ) as (Node of C19) by L63 , L69 , MSSCYC_1:19;
assume that
L81: 1 <= C28
and
L82: C28 < D7;
L83: ( len D16 ) = ( R2 - C28 ) by L61 , L64 , L70 , L82 , RFINSEQ:def 1;
L84: ( len D16 ) <> ( 0 ) by L83 , L82;
L85: 1 in ( dom D16 ) by L84 , CARD_1:27 , FINSEQ_5:6;
reconsider D19 = ( D9 | D17 ) , D20 = ( D9 | D18 ) as (Term of C16 , C17) by MSATERM:29;
L86: C24 = ( D17 ^ D16 ) by RFINSEQ:8;
L87: D16 in ( C21 | D17 ) by L86 , L63 , L69 , TREES_1:def 6;
L88: D16 in ( dom D19 ) by L87 , L63 , TREES_2:def 10;
L89: ( C28 + 1 ) <= R2 by L82 , NAT_1:13;
L90: 1 <= ( R2 - C28 ) by L89 , XREAL_1:19;
L91:
now
assume L92: D19 is  root;
L93: ( dom D19 ) = ( elementary_tree ( 0 ) ) by L92 , TREES_9:def 1;
thus L94: contradiction by L93 , L83 , L90 , L88 , TREES_1:42 , TREES_1:def 12;
end;
consider C29 being (OperSymbol of C16) such that L95: ( D19 . ( {} ) ) = [ C29 , (the carrier of C16) ] by L91 , MSSCYC_1:20;
consider C30 being (ArgumentSeq of ( Sym (C29 , C17) )) such that L96: D19 = ( [ C29 , (the carrier of C16) ] -tree C30 ) by L95 , MSATERM:10;
L97: ( D16 | 1 ) = <* ( D16 /. 1 ) *> by L84 , CARD_1:27 , FINSEQ_5:20
.= <* ( D16 . 1 ) *> by L85 , PARTFUN1:def 6;
consider C31 being (Element of ( NAT )), C32 being DecoratedTree, C33 being (Node of C32) such that L98: C31 < ( len C30 ) and L99: C32 = ( C30 . ( C31 + 1 ) ) and L100: D16 = ( <* C31 *> ^ C33 ) by L84 , L88 , L96 , CARD_1:27 , TREES_4:11;
reconsider D21 = D16 as (Node of D19) by L63 , L87 , TREES_2:def 10;
reconsider D22 = ( D21 | ( ( 0 ) + 1 ) ) as (Node of D19) by MSSCYC_1:19;
reconsider D23 = ( D19 | D22 ) as (Term of C16 , C17);
L101: ( ( C24 | ( C28 + 1 ) ) | C28 ) = ( ( C24 | ( C28 + 1 ) ) | ( Seg C28 ) ) by FINSEQ_1:def 15
.= ( ( C24 | ( Seg ( C28 + 1 ) ) ) | ( Seg C28 ) ) by FINSEQ_1:def 15
.= ( C24 | ( Seg C28 ) ) by L80 , FUNCT_1:51
.= D17 by FINSEQ_1:def 15;
set D24 = ( the_arity_of C29 );
let C34 being (Element of D8);
L102: ( dom C30 ) = ( dom D24 ) by MSATERM:22;
L103: 1 <= ( C28 + 1 ) by NAT_1:11;
L104: ( C28 + 1 ) in ( dom C24 ) by L103 , L61 , L64 , L70 , L89 , FINSEQ_3:25;
L105: ( len D18 ) = ( C28 + 1 ) by L61 , L64 , L70 , L89 , FINSEQ_1:59;
L106: ( C28 + 1 ) in ( dom D18 ) by L105 , L103 , FINSEQ_3:25;
L107: D22 = <* ( C24 . ( C28 + 1 ) ) *> by L61 , L64 , L70 , L82 , L85 , L97 , RFINSEQ:def 1
.= <* ( C24 /. ( C28 + 1 ) ) *> by L104 , PARTFUN1:def 6
.= <* ( ( C24 | ( C28 + 1 ) ) /. ( C28 + 1 ) ) *> by L106 , FINSEQ_4:70
.= <* ( D18 . ( C28 + 1 ) ) *> by L106 , PARTFUN1:def 6;
L108: D18 = ( D17 ^ D22 ) by L107 , L105 , L101 , RFINSEQ:7;
L109: D23 = D20 by L108 , TREES_9:3;
L110: (1 <= ( C31 + 1 ) & ( C31 + 1 ) <= ( len C30 )) by L98 , NAT_1:11 , NAT_1:13;
L111: ( C31 + 1 ) in ( dom D24 ) by L110 , L102 , FINSEQ_3:25;
reconsider D25 = ( D24 . ( C31 + 1 ) ) as (SortSymbol of C16) by L111 , DTCONSTR:2;
set D26 = [ C29 , D25 ];
L112: ( (the Arity of C16) . C29 ) = ( the_arity_of C29 ) by MSUALG_1:def 1;
L113: [ C29 , D25 ] in ( InducedEdges C16 ) by L112 , L111 , L1;
reconsider D27 = (the carrier' of D6) as non  empty set by L113;
reconsider D28 = D26 as (Element of D27) by L111 , L112 , L1;
reconsider D29 = C34 as (FinSequence of D27) by FINSEQ_1:def 11;
reconsider D30 = ( <* D28 *> ^ D29 ) as (Element of D8) by FINSEQ_1:def 11;
take D30;
take D19;
take D20;
thus L114: (D19 = ( C19 | ( C24 | C28 ) ) & D20 = ( C19 | ( C24 | ( C28 + 1 ) ) ));
take C29;
take D25;
take C34;
thus L115: (C34 = C34 & D30 = ( <* [ C29 , D25 ] *> ^ C34 ));
thus L116: [ C29 , (the carrier of C16) ] = ( D19 . ( {} ) ) by L95;
L117: ( D21 | 1 ) = <* C31 *> by L100 , L97 , FINSEQ_1:41;
L118: D23 = ( C30 . ( C31 + 1 ) ) by L117 , L96 , L98 , TREES_4:def 4;
thus L119: D25 = ( the_sort_of D20 ) by L118 , L102 , L111 , L109 , MSATERM:23;
thus L120: thesis by L111 , L112 , L1;
end;
consider C35 being (FinSequence of D8) such that L121: (( len C35 ) = D7 & (( C35 . 1 ) = D15 or D7 = ( 0 )) & (for B47 being (Element of ( NAT )) holds ((1 <= B47 & B47 < D7) implies S2[ B47 , ( C35 . B47 ) , ( C35 . ( B47 + 1 ) ) ]))) from RECDEF_1:sch 4(L78);
defpred S3[ Nat ] means ((1 <= $1 & $1 <= R2) implies (ex B48 being  directed (Chain of D6) st (ex B49 being (Term of C16 , C17) st (B48 = ( C35 . $1 ) & ( len B48 ) = $1 & B49 = ( C19 | ( C24 | $1 ) ) & ( ( vertex-seq B48 ) . ( ( len B48 ) + 1 ) ) = C18 & ( ( vertex-seq B48 ) . 1 ) = ( the_sort_of B49 )))));
L122: (for B50 being Nat holds (S3[ B50 ] implies S3[ ( B50 + 1 ) ]))
proof
let R1 being Nat;
assume L123: ((1 <= R1 & R1 <= R2) implies (ex B51 being  directed (Chain of D6) st (ex B52 being (Term of C16 , C17) st (B51 = ( C35 . R1 ) & ( len B51 ) = R1 & B52 = ( C19 | ( C24 | R1 ) ) & ( ( vertex-seq B51 ) . ( ( len B51 ) + 1 ) ) = C18 & ( ( vertex-seq B51 ) . 1 ) = ( the_sort_of B52 )))));
L124: R1 <= ( R1 + 1 ) by NAT_1:11;
assume that
L125: 1 <= ( R1 + 1 )
and
L126: ( R1 + 1 ) <= R2;
L127: R1 < R2 by L126 , NAT_1:13;
per cases ;
suppose L128: R1 = ( 0 );

reconsider D31 = <* D12 *> as  directed (Chain of D6) by L77 , MSSCYC_1:5;
reconsider D32 = ( C24 | ( ( 0 ) + 1 ) ) as (Node of C19) by L63 , L69 , MSSCYC_1:19;
reconsider D33 = ( D9 | D32 ) as (Term of C16 , C17) by MSATERM:29;
take D31;
take D33;
thus L129: D31 = ( C35 . ( R1 + 1 ) ) by L56 , L121 , L128;
thus L130: ( len D31 ) = ( R1 + 1 ) by L128 , FINSEQ_1:39;
thus L131: D33 = ( C19 | ( C24 | ( R1 + 1 ) ) ) by L128;
reconsider D34 = C24 as (PartFunc of ( NAT ) , ( NAT ));
L132: ( vertex-seq D31 ) = <* ( (the Source of D6) . D12 ) , ( (the Target of D6) . D12 ) *> by L77 , MSSCYC_1:7;
L133: ( ( vertex-seq D31 ) . ( ( len D31 ) + 1 ) ) = ( ( vertex-seq D31 ) . ( 1 + 1 ) ) by FINSEQ_1:39
.= ( (the Target of D6) . D12 ) by L132 , FINSEQ_1:44
.= ( (the ResultSort of C16) . ( D12 `1 ) ) by L77 , L33
.= ( (the ResultSort of C16) . C22 )
.= ( the_result_sort_of C22 ) by MSUALG_1:def 2
.= ( the_sort_of D9 ) by L66 , MSATERM:17
.= C18 by L58 , MSATERM:def 5;
thus L134: ( ( vertex-seq D31 ) . ( ( len D31 ) + 1 ) ) = C18 by L133;
L135: 1 in ( dom C24 ) by L56 , L61 , L64 , L70 , CARD_1:27 , FINSEQ_5:6;
L136: ( C24 | 1 ) = <* ( D34 /. 1 ) *> by L56 , L61 , L64 , L70 , CARD_1:27 , FINSEQ_5:20
.= <* ( C24 . 1 ) *> by L135 , PARTFUN1:def 6
.= <* C25 *> by L73 , FINSEQ_1:41;
L137: D33 = ( C23 . ( C25 + 1 ) ) by L136 , L67 , L71 , TREES_4:def 4;
L138: ( ( vertex-seq D31 ) . 1 ) = ( (the Source of D6) . D12 ) by L132 , FINSEQ_1:44
.= ( D12 `2 ) by L77 , L14
.= D11
.= ( the_sort_of D33 ) by L68 , L75 , L137 , MSATERM:23;
thus L139: thesis by L138;
end;
suppose L140: R1 <> ( 0 );

L141: R1 in ( NAT ) by ORDINAL1:def 12;
consider C36 , C37 being (Term of C16 , C17) such that L142: C36 = ( C19 | ( C24 | R1 ) ) and L143: C37 = ( C19 | ( C24 | ( R1 + 1 ) ) ) and L144: (ex B53 being (OperSymbol of C16) st (ex B54 being (SortSymbol of C16) st (ex B55 being (Element of D8) st (B55 = ( C35 . R1 ) & ( C35 . ( R1 + 1 ) ) = ( <* [ B53 , B54 ] *> ^ B55 ) & [ B53 , (the carrier of C16) ] = ( C36 . ( {} ) ) & B54 = ( the_sort_of C37 ) & [ B53 , B54 ] in (the carrier' of D6))))) by L141 , L121 , L127 , L140 , NAT_1:14;
consider C38 being (OperSymbol of C16), C39 being (SortSymbol of C16), C40 being (Element of D8) such that L145: (C40 = ( C35 . R1 ) & ( C35 . ( R1 + 1 ) ) = ( <* [ C38 , C39 ] *> ^ C40 )) and L146: [ C38 , (the carrier of C16) ] = ( C36 . ( {} ) ) and L147: C39 = ( the_sort_of C37 ) and L148: [ C38 , C39 ] in (the carrier' of D6) by L144;
L149: D6 is non  void by L148;
reconsider D35 = <* [ C38 , C39 ] *> as  directed (Chain of D6) by L148 , MSSCYC_1:5;
set D36 = [ C38 , C39 ];
L150: ( vertex-seq D35 ) = <* ( (the Source of D6) . D36 ) , ( (the Target of D6) . D36 ) *> by L148 , MSSCYC_1:7;
consider C41 being  directed (Chain of D6), C42 being (Term of C16 , C17) such that L151: C41 = ( C35 . R1 ) and L152: ( len C41 ) = R1 and L153: C42 = ( C19 | ( C24 | R1 ) ) and L154: ( ( vertex-seq C41 ) . ( ( len C41 ) + 1 ) ) = C18 and L155: ( ( vertex-seq C41 ) . 1 ) = ( the_sort_of C42 ) by L123 , L126 , L124 , L140 , NAT_1:14 , XXREAL_0:2;
L156: ( ( vertex-seq D35 ) . ( ( len D35 ) + 1 ) ) = ( ( vertex-seq D35 ) . ( 1 + 1 ) ) by FINSEQ_1:39
.= ( (the Target of D6) . D36 ) by L150 , FINSEQ_1:44
.= ( (the ResultSort of C16) . ( D36 `1 ) ) by L148 , L33
.= ( (the ResultSort of C16) . C38 )
.= ( the_result_sort_of C38 ) by MSUALG_1:def 2
.= ( the_sort_of C36 ) by L146 , MSATERM:17;
reconsider D37 = ( D35 ^ C41 ) as  directed (Chain of D6) by L156 , L140 , L152 , L153 , L155 , L142 , L149 , CARD_1:27 , MSSCYC_1:15;
take D37;
take C37;
thus L157: D37 = ( C35 . ( R1 + 1 ) ) by L151 , L145;
thus L158: ( len D37 ) = ( ( len D35 ) + R1 ) by L152 , FINSEQ_1:22
.= ( R1 + 1 ) by FINSEQ_1:39;
thus L159: C37 = ( C19 | ( C24 | ( R1 + 1 ) ) ) by L143;
thus L160: ( ( vertex-seq D37 ) . ( ( len D37 ) + 1 ) ) = C18 by L140 , L152 , L154 , L149 , CARD_1:27 , MSSCYC_1:16;
L161: ( ( vertex-seq D35 ) . 1 ) = ( (the Source of D6) . D36 ) by L150 , FINSEQ_1:44
.= ( D36 `2 ) by L148 , L14
.= ( the_sort_of C37 ) by L147;
thus L162: thesis by L161 , L140 , L152 , L149 , CARD_1:27 , MSSCYC_1:16;
end;
end;
L164: S3[ ( 0 ) ];
L165: (for R1 being Nat holds S3[ R1 ]) from NAT_1:sch 2(L164 , L122);
L166: (ex B56 being  directed (Chain of D6) st (ex B57 being (Term of C16 , C17) st (B56 = ( C35 . R2 ) & ( len B56 ) = R2 & B57 = ( C19 | ( C24 | R2 ) ) & ( ( vertex-seq B56 ) . ( ( len B56 ) + 1 ) ) = C18 & ( ( vertex-seq B56 ) . 1 ) = ( the_sort_of B57 )))) by L165 , L56;
thus L167: thesis by L166;
end;

given C43 being  directed (Chain of ( InducedGraph C16 )) such that
L168: ( len C43 ) = R2
and
L169: ( ( vertex-seq C43 ) . ( ( len C43 ) + 1 ) ) = C18;

set D38 = (the carrier' of D6);
reconsider D39 = R2 as (Element of ( NAT )) by ORDINAL1:def 12;
deffunc H3(set) = ( C17 . $1 );
set D40 = (the Target of D6);
set D41 = (the Source of D6);
set D42 = ( C16 -Terms C17 );
set D43 = (the carrier of C16);
L170: (for B58 being set holds (B58 in D43 implies H3(B58) <> ( {} )));
consider C44 being (ManySortedSet of D43) such that L171: (for B59 being set holds (B59 in D43 implies ( C44 . B59 ) in H3(B59))) from PBOOLE:sch 1(L170);
defpred S4[ Nat , set , set ] means (ex B60 being (OperSymbol of C16) st (ex B61 being (SortSymbol of C16) st (ex B62 , B63 being (Term of C16 , C17) st (ex B64 being (ArgumentSeq of ( Sym (B60 , C17) )) st (B62 = $2 & $3 = B63 & ( C43 . ( $1 + 1 ) ) = [ B60 , B61 ] & B63 = ( [ B60 , D43 ] -tree B64 ) & (for B65 being Nat holds (B65 in ( dom B64 ) implies (ex B66 being (Term of C16 , C17) st (B66 = ( B64 . B65 ) & ( the_sort_of B66 ) = ( ( the_arity_of B60 ) . B65 ) & ((( the_sort_of B66 ) = B61 & ( the_sort_of B62 ) = B61) implies B66 = B62) & ((( the_sort_of B66 ) <> B61 or ( the_sort_of B62 ) <> B61) implies B66 = ( root-tree [ ( C44 . ( the_sort_of B66 ) ) , ( the_sort_of B66 ) ] )))))))))));
L172: C43 is (FinSequence of (the carrier' of ( InducedGraph C16 ))) by MSSCYC_1:def 1;
L173: 1 in ( dom C43 ) by L56 , L168 , FINSEQ_3:25;
reconsider D44 = D38 as non  empty set by L173 , L172;
L174: ( C43 . 1 ) in ( InducedEdges C16 ) by L172 , L173 , DTCONSTR:2;
consider C45 , C46 being set such that L175: ( C43 . 1 ) = [ C45 , C46 ] and L176: C45 in (the carrier' of C16) and L177: C46 in (the carrier of C16) and L178: (ex B67 being Nat st (ex B68 being (Element of ( (the carrier of C16) * )) st (( (the Arity of C16) . C45 ) = B68 & B67 in ( dom B68 ) & ( B68 . B67 ) = C46))) by L174 , L1;
reconsider D45 = C46 as (SortSymbol of C16) by L177;
reconsider D46 = C45 as (OperSymbol of C16) by L176;
deffunc H4(Nat) = ( root-tree [ ( C44 . ( ( the_arity_of D46 ) . $1 ) ) , ( ( the_arity_of D46 ) . $1 ) ] );
consider C47 being FinSequence such that L179: (( len C47 ) = ( len ( the_arity_of D46 ) ) & (for B69 being Nat holds (B69 in ( dom C47 ) implies ( C47 . B69 ) = H4(B69)))) from FINSEQ_1:sch 2;
L180: ( dom C47 ) = ( Seg ( len C47 ) ) by FINSEQ_1:def 3;
L181: (for B70 being Nat holds (B70 in ( dom C47 ) implies (ex B71 being (Term of C16 , C17) st (B71 = ( C47 . B70 ) & ( the_sort_of B71 ) = ( ( the_arity_of D46 ) . B70 )))))
proof
let C48 being Nat;
assume L182: C48 in ( dom C47 );
set D47 = ( ( the_arity_of D46 ) . C48 );
L183: ( dom ( the_arity_of D46 ) ) = ( Seg ( len ( the_arity_of D46 ) ) ) by FINSEQ_1:def 3;
reconsider D48 = D47 as (SortSymbol of C16) by L183 , L179 , L180 , L182 , DTCONSTR:2;
set D49 = ( C44 . ( ( the_arity_of D46 ) . C48 ) );
reconsider D50 = D49 as (Element of ( C17 . D48 )) by L171;
reconsider D51 = ( root-tree [ D50 , D48 ] ) as (Term of C16 , C17) by MSATERM:4;
take D51;
thus L184: D51 = ( C47 . C48 ) by L179 , L182;
thus L185: thesis by MSATERM:14;
end;
L186: ( dom C47 ) = ( Seg ( len ( the_arity_of D46 ) ) ) by L179 , FINSEQ_1:def 3;
reconsider D52 = C47 as (ArgumentSeq of ( Sym (D46 , C17) )) by L179 , L181 , MSATERM:24;
set D53 = ( [ D46 , (the carrier of C16) ] -tree D52 );
reconsider D54 = D53 as (Term of C16 , C17) by MSATERM:1;
L187: (for B72 being (Element of ( NAT )) holds ((1 <= B72 & B72 < D39) implies (for B73 being (Element of D42) holds (ex B74 being (Element of D42) st S4[ B72 , B73 , B74 ]))))
proof
let C49 being (Element of ( NAT ));
assume that
L188: 1 <= C49
and
L189: C49 < D39;
L190: 1 <= ( C49 + 1 ) by NAT_1:11;
L191: ( C49 + 1 ) <= R2 by L189 , NAT_1:13;
L192: ( C49 + 1 ) in ( dom C43 ) by L191 , L168 , L190 , FINSEQ_3:25;
reconsider D55 = ( C43 . ( C49 + 1 ) ) as (Element of D44) by L192 , L172 , DTCONSTR:2;
let C50 being (Element of D42);
consider C51 , C52 being set such that L193: D55 = [ C51 , C52 ] and L194: C51 in (the carrier' of C16) and L195: C52 in D43 and L196: (ex B75 being Nat st (ex B76 being (Element of ( (the carrier of C16) * )) st (( (the Arity of C16) . C51 ) = B76 & B75 in ( dom B76 ) & ( B76 . B75 ) = C52))) by L1;
reconsider D56 = C52 as (SortSymbol of C16) by L195;
reconsider D57 = C51 as (OperSymbol of C16) by L194;
set D58 = ( dom ( the_arity_of D57 ) );
set D59 = ( the_arity_of D57 );
defpred S5[ set , set ] means (((( D59 . $1 ) = D56 & ( the_sort_of C50 ) = D56) implies $2 = C50) & ((( D59 . $1 ) <> D56 or ( the_sort_of C50 ) <> D56) implies $2 = ( root-tree [ ( C44 . ( D59 . $1 ) ) , ( D59 . $1 ) ] )));
L197: (for B77 being set holds (B77 in D58 implies (ex B78 being set st (B78 in D42 & S5[ B77 , B78 ]))))
proof
let C53 being set;
assume L198: C53 in D58;
per cases ;
suppose L199: (( D59 . C53 ) = D56 & ( the_sort_of C50 ) = D56);

take C50;
thus L200: thesis by L199;
end;
suppose L201: (( D59 . C53 ) <> D56 or ( the_sort_of C50 ) <> D56);

reconsider D60 = ( ( the_arity_of D57 ) . C53 ) as (SortSymbol of C16) by L198 , DTCONSTR:2;
reconsider D61 = ( C44 . ( ( the_arity_of D57 ) . C53 ) ) as (Element of ( C17 . D60 )) by L171;
reconsider D62 = ( root-tree [ D61 , D60 ] ) as (Term of C16 , C17) by MSATERM:4;
take D62;
thus L202: thesis by L201;
end;
end;
consider C54 being (Function of D58 , D42) such that L204: (for B79 being set holds (B79 in D58 implies S5[ B79 , ( C54 . B79 ) ])) from FUNCT_2:sch 1(L197);
L205: D58 = ( Seg ( len D59 ) ) by FINSEQ_1:def 3;
reconsider D63 = C54 as (FinSequence of D42) by L205 , FINSEQ_2:25;
L206: ( dom D63 ) = D58 by FUNCT_2:def 1;
L207:
now
let C55 being Nat;
assume L208: C55 in ( dom D63 );
reconsider D64 = ( D63 . C55 ) as (Term of C16 , C17) by L208 , DTCONSTR:2;
take D65 = D64;
thus L209: D65 = ( D63 . C55 );
per cases ;
suppose L210: (( D59 . C55 ) = D56 & ( the_sort_of C50 ) = D56);

thus L211: ( the_sort_of D65 ) = ( D59 . C55 ) by L210 , L204 , L206 , L208;
end;
suppose L212: (( D59 . C55 ) <> D56 or ( the_sort_of C50 ) <> D56);

reconsider D66 = ( ( the_arity_of D57 ) . C55 ) as (SortSymbol of C16) by L206 , L208 , DTCONSTR:2;
L213: ( C44 . ( ( the_arity_of D57 ) . C55 ) ) is (Element of ( C17 . D66 )) by L171;
L214: D65 = ( root-tree [ ( C44 . ( D59 . C55 ) ) , ( D59 . C55 ) ] ) by L204 , L206 , L208 , L212;
thus L215: ( the_sort_of D65 ) = ( D59 . C55 ) by L214 , L213 , MSATERM:14;
end;
end;
reconsider D67 = D63 as (ArgumentSeq of ( Sym (D57 , C17) )) by L207 , L206 , MSATERM:24;
reconsider D68 = ( [ D57 , D43 ] -tree D67 ) as (Term of C16 , C17) by MSATERM:1;
take D68;
take D57;
take D56;
take C50;
take D68;
take D67;
thus L217: (C50 = C50 & D68 = D68);
thus L218: ( C43 . ( C49 + 1 ) ) = [ D57 , D56 ] by L193;
thus L219: D68 = ( [ D57 , D43 ] -tree D67 );
let C56 being Nat;
assume L220: C56 in ( dom D67 );
reconsider D69 = ( D67 . C56 ) as (Term of C16 , C17) by L220 , DTCONSTR:2;
take D69;
thus L221: D69 = ( D67 . C56 );
thus L222: ( the_sort_of D69 ) = ( ( the_arity_of D57 ) . C56 ) by L220 , MSATERM:23;
thus L223: thesis by L222 , L204 , L206 , L220;
end;
consider C57 being (FinSequence of D42) such that L224: (( len C57 ) = D39 & (( C57 . 1 ) = D54 or D39 = ( 0 )) & (for B80 being (Element of ( NAT )) holds ((1 <= B80 & B80 < D39) implies S4[ B80 , ( C57 . B80 ) , ( C57 . ( B80 + 1 ) ) ]))) from RECDEF_1:sch 4(L187);
defpred S6[ Nat ] means ((1 <= $1 & $1 <= R2) implies (ex B81 being (Term of C16 , C17) st (ex B82 being (OperSymbol of C16) st (B81 = ( C57 . $1 ) & B82 = ( ( C43 . $1 ) `1 ) & ( the_sort_of B81 ) = ( the_result_sort_of B82 ) & ( height ( dom B81 ) ) = $1))));
L225: D6 is non  void by L173;
L226: (for B83 being Nat holds (S6[ B83 ] implies S6[ ( B83 + 1 ) ]))
proof
let R1 being Nat;
assume L227: ((1 <= R1 & R1 <= R2) implies (ex B84 being (Term of C16 , C17) st (ex B85 being (OperSymbol of C16) st (B84 = ( C57 . R1 ) & B85 = ( ( C43 . R1 ) `1 ) & ( the_sort_of B84 ) = ( the_result_sort_of B85 ) & ( height ( dom B84 ) ) = R1))));
assume that
L228: 1 <= ( R1 + 1 )
and
L229: ( R1 + 1 ) <= R2;
L230: R1 < R2 by L229 , NAT_1:13;
L231: R1 <= ( R1 + 1 ) by NAT_1:11;
L232: R1 <= R2 by L231 , L229 , XXREAL_0:2;
per cases ;
suppose L233: R1 = ( 0 );

take D54;
take D46;
thus L234: D54 = ( C57 . ( R1 + 1 ) ) by L56 , L224 , L233;
thus L235: D46 = ( ( C43 . ( R1 + 1 ) ) `1 ) by L175 , L233 , MCART_1:7;
reconsider D70 = ( doms D52 ) as  FinTree-yielding FinSequence;
L236: ( dom ( doms D52 ) ) = ( dom D52 ) by TREES_3:37;
L237: ( D54 . ( {} ) ) = [ D46 , D43 ] by TREES_4:def 4;
thus L238: ( the_sort_of D54 ) = ( the_result_sort_of D46 ) by L237 , MSATERM:17;
consider C58 being Nat, C59 being (Element of ( (the carrier of C16) * )) such that L239: ( (the Arity of C16) . D46 ) = C59 and L240: C58 in ( dom C59 ) and L241: ( C59 . C58 ) = D45 by L178;
L242: ( dom C59 ) = ( Seg ( len C59 ) ) by FINSEQ_1:def 3;
L243: C59 = ( the_arity_of D46 ) by L239 , MSUALG_1:def 1;
reconsider D71 = ( D52 . C58 ) as (Term of C16 , C17) by L243 , L179 , L180 , L240 , L242 , MSATERM:22;
L244: ( ( doms D52 ) . C58 ) = ( dom D71 ) by L179 , L180 , L240 , L243 , L242 , FUNCT_6:22;
L245: (( dom D54 ) = ( tree ( doms D52 ) ) & ( dom D71 ) in ( rng D70 )) by L244 , L179 , L180 , L236 , L240 , L243 , L242 , FUNCT_1:def 3 , TREES_4:10;
reconsider D72 = ( dom D71 ) as  finite Tree;
L246: ( D52 . C58 ) = ( root-tree [ ( C44 . ( ( the_arity_of D46 ) . C58 ) ) , ( ( the_arity_of D46 ) . C58 ) ] ) by L179 , L186 , L240 , L243 , L242;
L247:
now
let C60 being  finite Tree;
assume L248: C60 in ( rng D70 );
consider C61 being Nat such that L249: C61 in ( dom D70 ) and L250: ( D70 . C61 ) = C60 by L248 , FINSEQ_2:10;
reconsider D73 = ( D52 . C61 ) as (Term of C16 , C17) by L236 , L249 , MSATERM:22;
L251: ( D52 . C61 ) = ( root-tree [ ( C44 . ( ( the_arity_of D46 ) . C61 ) ) , ( ( the_arity_of D46 ) . C61 ) ] ) by L179 , L236 , L249;
L252: ( dom D73 ) = ( elementary_tree ( 0 ) ) by L251 , TREES_4:3;
L253: ( D70 . C61 ) = ( dom D73 ) by L236 , L249 , FUNCT_6:22;
thus L254: ( height C60 ) <= ( height D72 ) by L253 , L246 , L250 , L252 , TREES_4:3;
end;
L255: ( dom D71 ) = ( elementary_tree ( 0 ) ) by L246 , TREES_4:3;
thus L256: thesis by L255 , L233 , L245 , L247 , TREES_1:42 , TREES_3:79;
end;
suppose L257: R1 <> ( 0 );

L258: 1 <= R1 by L257 , NAT_1:14;
L259: R1 in ( dom C43 ) by L258 , L168 , L232 , FINSEQ_3:25;
reconsider D74 = ( C43 . R1 ) as (Element of D44) by L259 , L172 , DTCONSTR:2;
consider C62 being (Term of C16 , C17), C63 being (OperSymbol of C16) such that L260: C62 = ( C57 . R1 ) and L261: (C63 = ( ( C43 . R1 ) `1 ) & ( the_sort_of C62 ) = ( the_result_sort_of C63 )) and L262: ( height ( dom C62 ) ) = R1 by L227 , L229 , L231 , L257 , NAT_1:14 , XXREAL_0:2;
reconsider D75 = R1 as (Element of ( NAT )) by ORDINAL1:def 12;
consider C64 being (OperSymbol of C16), C65 being (SortSymbol of C16), C66 , C67 being (Term of C16 , C17), C68 being (ArgumentSeq of ( Sym (C64 , C17) )) such that L263: C66 = ( C57 . R1 ) and L264: ( C57 . ( D75 + 1 ) ) = C67 and L265: ( C43 . ( R1 + 1 ) ) = [ C64 , C65 ] and L266: C67 = ( [ C64 , D43 ] -tree C68 ) and L267: (for B86 being Nat holds (B86 in ( dom C68 ) implies (ex B87 being (Term of C16 , C17) st (B87 = ( C68 . B86 ) & ( the_sort_of B87 ) = ( ( the_arity_of C64 ) . B86 ) & ((( the_sort_of B87 ) = C65 & ( the_sort_of C66 ) = C65) implies B87 = C66) & ((( the_sort_of B87 ) <> C65 or ( the_sort_of C66 ) <> C65) implies B87 = ( root-tree [ ( C44 . ( the_sort_of B87 ) ) , ( the_sort_of B87 ) ] )))))) by L224 , L230 , L257 , NAT_1:14;
set D76 = ( C43 . ( D75 + 1 ) );
L268: ( R1 + 1 ) in ( dom C43 ) by L168 , L228 , L229 , FINSEQ_3:25;
L269: D76 in D44 by L268 , L172 , DTCONSTR:2;
consider C69 , C70 being set such that L270: D76 = [ C69 , C70 ] and L271: C69 in (the carrier' of C16) and L272: C70 in (the carrier of C16) and L273: (ex B88 being Nat st (ex B89 being (Element of ( (the carrier of C16) * )) st (( (the Arity of C16) . C69 ) = B89 & B88 in ( dom B89 ) & ( B89 . B88 ) = C70))) by L269 , L1;
L274: C64 = C69 by L265 , L270 , XTUPLE_0:1;
take C67;
take C64;
thus L275: C67 = ( C57 . ( R1 + 1 ) ) by L264;
thus L276: C64 = ( ( C43 . ( R1 + 1 ) ) `1 ) by L265 , MCART_1:7;
L277: ( C67 . ( {} ) ) = [ C64 , D43 ] by L266 , TREES_4:def 4;
thus L278: ( the_sort_of C67 ) = ( the_result_sort_of C64 ) by L277 , MSATERM:17;
L279: ( dom C67 ) = ( tree ( doms C68 ) ) by L266 , TREES_4:10;
reconsider D77 = D76 as (Element of D44) by L172 , L268 , DTCONSTR:2;
reconsider D78 = ( doms C68 ) as  FinTree-yielding FinSequence;
L280: (( len C68 ) = ( len ( the_arity_of C64 ) ) & ( dom C68 ) = ( Seg ( len C68 ) )) by FINSEQ_1:def 3 , MSATERM:22;
L281: C65 = C70 by L265 , L270 , XTUPLE_0:1;
consider C71 being Nat, C72 being (Element of ( (the carrier of C16) * )) such that L282: ( (the Arity of C16) . C69 ) = C72 and L283: C71 in ( dom C72 ) and L284: ( C72 . C71 ) = C65 by L281 , L273;
reconsider D79 = C69 as (OperSymbol of C16) by L271;
L285: ( dom C72 ) = ( Seg ( len C72 ) ) by FINSEQ_1:def 3;
L286: C72 = ( the_arity_of D79 ) by L282 , MSUALG_1:def 1;
consider C73 being (Term of C16 , C17) such that L287: C73 = ( C68 . C71 ) and L288: (( the_sort_of C73 ) = ( ( the_arity_of C64 ) . C71 ) & ((( the_sort_of C73 ) = C65 & ( the_sort_of C66 ) = C65) implies C73 = C66)) and L289: ((( the_sort_of C73 ) <> C65 or ( the_sort_of C66 ) <> C65) implies C73 = ( root-tree [ ( C44 . ( the_sort_of C73 ) ) , ( the_sort_of C73 ) ] )) by L286 , L267 , L280 , L274 , L283 , L285;
reconsider D80 = ( dom C73 ) as  finite Tree;
L290: ( dom ( doms C68 ) ) = ( dom C68 ) by TREES_3:37;
L291:
now
let C74 being  finite Tree;
assume L292: C74 in ( rng D78 );
consider C75 being Nat such that L293: C75 in ( dom D78 ) and L294: ( D78 . C75 ) = C74 by L292 , FINSEQ_2:10;
consider C76 being (Term of C16 , C17) such that L295: C76 = ( C68 . C75 ) and L296: ( the_sort_of C76 ) = ( ( the_arity_of C64 ) . C75 ) and L297: ((( the_sort_of C76 ) = C65 & ( the_sort_of C66 ) = C65) implies C76 = C66) and L298: ((( the_sort_of C76 ) <> C65 or ( the_sort_of C66 ) <> C65) implies C76 = ( root-tree [ ( C44 . ( the_sort_of C76 ) ) , ( the_sort_of C76 ) ] )) by L267 , L290 , L293;
L299: ( D78 . C75 ) = ( dom C76 ) by L290 , L293 , L295 , FUNCT_6:22;
per cases ;
suppose L300: (( the_sort_of C76 ) = C65 & ( the_sort_of C66 ) = C65);

thus L301: ( height C74 ) <= ( height D80 ) by L300 , L290 , L274 , L282 , L284 , L288 , L293 , L294 , L295 , L297 , FUNCT_6:22 , MSUALG_1:def 1;
end;
suppose L302: (( the_sort_of C76 ) <> C65 or ( the_sort_of C66 ) <> C65);

thus L303: ( height C74 ) <= ( height D80 ) by L302 , L294 , L298 , L299 , TREES_1:42 , TREES_4:3;
end;
end;
L305: ( ( doms C68 ) . C71 ) = ( dom C73 ) by L280 , L274 , L283 , L286 , L285 , L287 , FUNCT_6:22;
L306: ( dom C73 ) in ( rng D78 ) by L305 , L290 , L280 , L274 , L283 , L286 , L285 , FUNCT_1:def 3;
L307: ( the_sort_of C62 ) = ( (the ResultSort of C16) . ( D74 `1 ) ) by L261 , MSUALG_1:def 2
.= ( D40 . D74 ) by L33
.= ( ( vertex-seq C43 ) . ( D75 + 1 ) ) by L168 , L225 , L232 , L258 , CARD_1:27 , MSSCYC_1:11
.= ( D41 . D77 ) by L168 , L225 , L228 , L229 , CARD_1:27 , MSSCYC_1:11
.= ( D77 `2 ) by L14
.= C65 by L265 , MCART_1:7;
thus L308: thesis by L307 , L260 , L262 , L263 , L279 , L274 , L282 , L284 , L288 , L306 , L291 , MSUALG_1:def 1 , TREES_3:79;
end;
end;
set D81 = ( C43 . ( len C43 ) );
L310: R2 in ( dom C43 ) by L56 , L168 , CARD_1:27 , FINSEQ_5:6;
L311: D81 in ( InducedEdges C16 ) by L310 , L168 , L172 , DTCONSTR:2;
L312: S6[ ( 0 ) ];
L313: (for R1 being Nat holds S6[ R1 ]) from NAT_1:sch 2(L312 , L226);
consider C77 being (Term of C16 , C17), C78 being (OperSymbol of C16) such that L314: C77 = ( C57 . R2 ) and L315: C78 = ( ( C43 . R2 ) `1 ) and L316: ( the_sort_of C77 ) = ( the_result_sort_of C78 ) and L317: ( height ( dom C77 ) ) = R2 by L313 , L56;
L318: D6 is non  void by L173;
L319: ( ( vertex-seq C43 ) . ( ( len C43 ) + 1 ) ) = ( (the Target of D6) . ( C43 . ( len C43 ) ) ) by L318 , L56 , L168 , CARD_1:27 , MSSCYC_1:14
.= ( (the ResultSort of C16) . ( D81 `1 ) ) by L311 , L33
.= ( the_result_sort_of C78 ) by L168 , L315 , MSUALG_1:def 2;
reconsider D82 = C77 as (Element of ( (the Sorts of ( FreeMSA C17 )) . C18 )) by L319 , L58 , L169 , L316 , MSATERM:def 5;
take D82;
thus L320: thesis by L317 , MSAFREE2:def 14;
end;
theorem
L321: (for B90 being  void non  empty ManySortedSign holds (B90 is  monotonic iff ( InducedGraph B90 ) is  well-founded))
proof
let C79 being  void non  empty ManySortedSign;
set D83 = ( InducedGraph C79 );
set D84 = (the carrier' of C79);
set D85 = (the carrier of C79);
set D86 = (the Arity of C79);
thus L322:now
assume L323: C79 is  monotonic;
assume L324: (not D83 is  well-founded);
consider C80 being (Element of (the carrier of D83)) such that L325: (for B91 being (Element of ( NAT )) holds (ex B92 being  directed (Chain of D83) st (B92 is non  empty & ( ( vertex-seq B92 ) . ( ( len B92 ) + 1 ) ) = C80 & ( len B92 ) > B91))) by L324 , MSSCYC_1:def 4;
consider C81 being  directed (Chain of D83) such that L326: C81 is non  empty and L327: ( ( vertex-seq C81 ) . ( ( len C81 ) + 1 ) ) = C80 and L328: ( len C81 ) > ( 0 ) by L325;
L329: C81 is (FinSequence of (the carrier' of D83)) by MSSCYC_1:def 1;
L330: ( rng C81 ) c= (the carrier' of D83) by L329 , FINSEQ_1:def 4;
L331: 1 in ( dom C81 ) by L326 , FINSEQ_5:6;
L332: ( C81 . 1 ) in ( rng C81 ) by L331 , FUNCT_1:def 3;
L333: (ex B93 , B94 being set st (( C81 . 1 ) = [ B93 , B94 ] & B93 in D84 & B94 in D85 & (ex B95 being Nat st (ex B96 being (Element of ( D85 * )) st (( D86 . B93 ) = B96 & B95 in ( dom B96 ) & ( B96 . B95 ) = B94))))) by L332 , L330 , L1;
thus L334: contradiction by L333;
end;
assume L335: D83 is  well-founded;
let C82 being  finitely-generated  non-empty MSAlgebra over C79;
thus L336: (the Sorts of C82) is  finite-yielding by MSAFREE2:def 10;
end;
theorem
L337: (for B97 being non  void non  empty ManySortedSign holds (B97 is  monotonic implies ( InducedGraph B97 ) is  well-founded))
proof
let C83 being non  void non  empty ManySortedSign;
set D87 = ( InducedGraph C83 );
assume L338: C83 is  monotonic;
reconsider D88 = C83 as  monotonic non  void non  empty ManySortedSign by L338;
set D89 = the  finite-yielding  non-empty MSAlgebra over D88;
assume L339: D87 is non  well-founded;
consider C84 being (Element of (the carrier of D87)) such that L340: (for B98 being (Element of ( NAT )) holds (ex B99 being  directed (Chain of D87) st (B99 is non  empty & ( ( vertex-seq B99 ) . ( ( len B99 ) + 1 ) ) = C84 & ( len B99 ) > B98))) by L339 , MSSCYC_1:def 4;
reconsider D90 = C84 as (SortSymbol of D88);
consider C85 being  finite non  empty (Subset of ( NAT )) such that L341: C85 = { ( depth B100 ) where B100 is (Element of ( (the Sorts of ( FreeEnv D89 )) . D90 )) : (not contradiction) } and L342: ( depth (D90 , D89) ) = ( max C85 ) by CIRCUIT1:def 6;
L343: ( max C85 ) in ( NAT ) by ORDINAL1:def 12;
consider C86 being  directed (Chain of D87) such that L344: C86 is non  empty and L345: ( ( vertex-seq C86 ) . ( ( len C86 ) + 1 ) ) = D90 and L346: ( len C86 ) > ( max C85 ) by L343 , L340;
L347: 1 <= ( len C86 ) by L346 , NAT_1:14;
consider C87 being (Element of ( (the Sorts of ( FreeMSA (the Sorts of D89) )) . D90 )) such that L348: ( depth C87 ) = ( len C86 ) by L347 , L345 , L55;
reconsider D91 = C87 as (Element of ( (the Sorts of ( FreeEnv D89 )) . D90 ));
L349: ((ex B101 being (Element of ( (the Sorts of ( FreeMSA (the Sorts of D89) )) . D90 )) st (D91 = B101 & ( depth D91 ) = ( depth B101 ))) & ( depth D91 ) in C85) by L341 , CIRCUIT1:def 5;
thus L350: contradiction by L349 , L346 , L348 , XXREAL_2:def 8;
end;
theorem
L351: (for B102 being non  void non  empty ManySortedSign holds (for B103 being  non-empty  finite-yielding (ManySortedSet of (the carrier of B102)) holds (B102 is  finitely_operated implies (for B104 being Nat holds (for B105 being (SortSymbol of B102) holds { B106 where B106 is (Element of ( (the Sorts of ( FreeMSA B103 )) . B105 )) : ( depth B106 ) <= B104 } is  finite)))))
proof
let C88 being non  void non  empty ManySortedSign;
let C89 being  non-empty  finite-yielding (ManySortedSet of (the carrier of C88));
assume that
L352: C88 is  finitely_operated;
set D92 = (the Sorts of ( FreeMSA C89 ));
defpred S7[ Nat ] means (for B107 being (SortSymbol of C88) holds { B108 where B108 is (Element of ( D92 . B107 )) : ( depth B108 ) <= $1 } is  finite);
L353: ( FreeMSA C89 ) = MSAlgebra (# ( FreeSort C89 ) , ( FreeOper C89 ) #) by MSAFREE:def 14;
L354: (for B109 being Nat holds (S7[ B109 ] implies S7[ ( B109 + 1 ) ]))
proof
deffunc H5(set) = $1;
let C90 being Nat;
assume L355: (for B110 being (SortSymbol of C88) holds { B111 where B111 is (Element of ( D92 . B110 )) : ( depth B111 ) <= C90 } is  finite);
let C91 being (SortSymbol of C88);
defpred S8[ (Element of ( D92 . C91 )) ] means ( depth $1 ) = ( C90 + 1 );
defpred S9[ (Element of ( D92 . C91 )) ] means ( depth $1 ) <= ( C90 + 1 );
defpred S10[ (Element of ( D92 . C91 )) ] means (( depth $1 ) <= C90 or ( depth $1 ) = ( C90 + 1 ));
set D93 = { H5(B112) where B112 is (Element of ( D92 . C91 )) : S9[ B112 ] };
set D94 = { H5(B113) where B113 is (Element of ( D92 . C91 )) : S10[ B113 ] };
set D95 = { B114 where B114 is (Element of ( D92 . C91 )) : S8[ B114 ] };
set D96 = { B115 where B115 is (OperSymbol of C88) : ( the_result_sort_of B115 ) = C91 };
L356: ( D92 . C91 ) = ( FreeSort (C89 , C91) ) by L353 , MSAFREE:def 11;
L357: D96 is  finite by L352 , MSSCYC_1:def 5;
consider C92 being FinSequence such that L358: ( rng C92 ) = D96 by L357 , FINSEQ_1:52;
deffunc H6(set) = { B116 where B116 is (Element of ( D92 . C91 )) : (( depth B116 ) = ( C90 + 1 ) & ( B116 . ( {} ) ) = [ ( C92 . $1 ) , (the carrier of C88) ]) };
consider C93 being FinSequence such that L359: (( len C93 ) = ( len C92 ) & (for B117 being Nat holds (B117 in ( dom C93 ) implies ( C93 . B117 ) = H6(B117)))) from FINSEQ_1:sch 2;
L360: (( dom C92 ) = ( Seg ( len C92 ) ) & ( dom C93 ) = ( Seg ( len C93 ) )) by FINSEQ_1:def 3;
L361: ( FreeSort (C89 , C91) ) c= ( C88 -Terms C89 ) by MSATERM:12;
L362: D95 c= ( Union C93 )
proof
let C94 being set;
assume L363: C94 in D95;
consider C95 being (Element of ( D92 . C91 )) such that L364: C94 = C95 and L365: ( depth C95 ) = ( C90 + 1 ) by L363;
L366: C95 in ( FreeSort (C89 , C91) ) by L356;
reconsider D97 = C95 as (Term of C88 , C89) by L366 , L361;
L367:
now
L368: (ex B118 being  finite DecoratedTree st (ex B119 being  finite Tree st (B118 = C95 & B119 = ( dom B118 ) & ( depth C95 ) = ( height B119 )))) by MSAFREE2:def 14;
assume L369: D97 is  root;
thus L370: contradiction by L369 , L365 , L368 , TREES_1:42 , TREES_9:def 1;
end;
consider C96 being (OperSymbol of C88) such that L371: ( D97 . ( {} ) ) = [ C96 , (the carrier of C88) ] by L367 , MSSCYC_1:20;
L372: ( the_result_sort_of C96 ) = ( the_sort_of D97 ) by L371 , MSATERM:17
.= C91 by L356 , MSATERM:def 5;
L373: C96 in ( rng C92 ) by L372 , L358;
consider C97 being set such that L374: C97 in ( dom C92 ) and L375: C96 = ( C92 . C97 ) by L373 , FUNCT_1:def 3;
L376: ( C93 . C97 ) = { B120 where B120 is (Element of ( D92 . C91 )) : (( depth B120 ) = ( C90 + 1 ) & ( B120 . ( {} ) ) = [ ( C92 . C97 ) , (the carrier of C88) ]) } by L359 , L360 , L374;
L377: C95 in ( C93 . C97 ) by L376 , L365 , L371 , L375;
L378: ( C93 . C97 ) in ( rng C93 ) by L359 , L360 , L374 , FUNCT_1:def 3;
L379: C95 in ( union ( rng C93 ) ) by L378 , L377 , TARSKI:def 4;
thus L380: thesis by L379 , L364 , CARD_3:def 4;
end;
L381: (for B121 being set holds (B121 in ( dom C93 ) implies ( C93 . B121 ) is  finite))
proof
let C98 being set;
set D98 = { B122 where B122 is (Element of ( D92 . C91 )) : (( depth B122 ) = ( C90 + 1 ) & ( B122 . ( {} ) ) = [ ( C92 . C98 ) , (the carrier of C88) ]) };
assume L382: C98 in ( dom C93 );
L383: ( C92 . C98 ) in ( rng C92 ) by L382 , L359 , L360 , FUNCT_1:def 3;
consider C99 being (OperSymbol of C88) such that L384: C99 = ( C92 . C98 ) and L385: ( the_result_sort_of C99 ) = C91 by L383 , L358;
set D99 = { ( [ C99 , (the carrier of C88) ] -tree B123 ) where B123 is (Element of ( ( C88 -Terms C89 ) * )) : (B123 is (ArgumentSeq of ( Sym (C99 , C89) )) & (ex B124 being (Element of ( D92 . C91 )) st (( depth B124 ) = ( C90 + 1 ) & B124 = ( [ C99 , (the carrier of C88) ] -tree B123 )))) };
L386: D98 c= D99
proof
let C100 being set;
assume L387: C100 in D98;
consider C101 being (Element of ( D92 . C91 )) such that L388: C100 = C101 and L389: ( depth C101 ) = ( C90 + 1 ) and L390: ( C101 . ( {} ) ) = [ C99 , (the carrier of C88) ] by L387 , L384;
L391: C101 in ( FreeSort (C89 , C91) ) by L356;
reconsider D100 = C101 as (Term of C88 , C89) by L391 , L361;
consider C102 being (ArgumentSeq of ( Sym (C99 , C89) )) such that L392: D100 = ( [ C99 , (the carrier of C88) ] -tree C102 ) by L390 , MSATERM:10;
reconsider D101 = C102 as (Element of ( ( C88 -Terms C89 ) * )) by FINSEQ_1:def 11;
L393: ( [ C99 , (the carrier of C88) ] -tree D101 ) in D99 by L389 , L392;
thus L394: thesis by L393 , L388 , L392;
end;
deffunc H7(Nat) = { B125 where B125 is (Element of ( D92 . ( ( the_arity_of C99 ) /. $1 ) )) : ( depth B125 ) <= C90 };
set D102 = { B126 where B126 is (Element of ( ( C88 -Terms C89 ) * )) : (B126 is (ArgumentSeq of ( Sym (C99 , C89) )) & (ex B127 being (Element of ( D92 . C91 )) st (( depth B127 ) = ( C90 + 1 ) & B127 = ( [ C99 , (the carrier of C88) ] -tree B126 )))) };
L395: D102 , D99 are_equipotent 
proof
set D103 = { [ B128 , ( [ C99 , (the carrier of C88) ] -tree B128 ) ] where B128 is (Element of ( ( C88 -Terms C89 ) * )) : (B128 is (ArgumentSeq of ( Sym (C99 , C89) )) & (ex B129 being (Element of ( D92 . C91 )) st (( depth B129 ) = ( C90 + 1 ) & B129 = ( [ C99 , (the carrier of C88) ] -tree B128 )))) };
take D103;
thus L396:now
let C103 being set;
assume L397: C103 in D102;
consider C104 being (Element of ( ( C88 -Terms C89 ) * )) such that L398: C103 = C104 and L399: (C104 is (ArgumentSeq of ( Sym (C99 , C89) )) & (ex B130 being (Element of ( D92 . C91 )) st (( depth B130 ) = ( C90 + 1 ) & B130 = ( [ C99 , (the carrier of C88) ] -tree C104 )))) by L397;
reconsider D104 = ( [ C99 , (the carrier of C88) ] -tree C104 ) as set;
take D105 = D104;
thus L400: D105 in D99 by L399;
thus L401: [ C103 , D105 ] in D103 by L398 , L399;
end;
thus L402:now
let C105 being set;
assume L403: C105 in D99;
consider C106 being (Element of ( ( C88 -Terms C89 ) * )) such that L404: C105 = ( [ C99 , (the carrier of C88) ] -tree C106 ) and L405: (C106 is (ArgumentSeq of ( Sym (C99 , C89) )) & (ex B131 being (Element of ( D92 . C91 )) st (( depth B131 ) = ( C90 + 1 ) & B131 = ( [ C99 , (the carrier of C88) ] -tree C106 )))) by L403;
reconsider D106 = C106 as set;
take D107 = D106;
thus L406: D107 in D102 by L405;
thus L407: [ D107 , C105 ] in D103 by L404 , L405;
end;
let C107 , C108 , C109 , C110 being set;
assume L408: [ C107 , C108 ] in D103;
consider C111 being (Element of ( ( C88 -Terms C89 ) * )) such that L409: [ C107 , C108 ] = [ C111 , ( [ C99 , (the carrier of C88) ] -tree C111 ) ] and L410: C111 is (ArgumentSeq of ( Sym (C99 , C89) )) and L411: (ex B132 being (Element of ( D92 . C91 )) st (( depth B132 ) = ( C90 + 1 ) & B132 = ( [ C99 , (the carrier of C88) ] -tree C111 ))) by L408;
L412: C107 = C111 by L409 , XTUPLE_0:1;
assume L413: [ C109 , C110 ] in D103;
consider C112 being (Element of ( ( C88 -Terms C89 ) * )) such that L414: [ C109 , C110 ] = [ C112 , ( [ C99 , (the carrier of C88) ] -tree C112 ) ] and L415: C112 is (ArgumentSeq of ( Sym (C99 , C89) )) and L416: (ex B133 being (Element of ( D92 . C91 )) st (( depth B133 ) = ( C90 + 1 ) & B133 = ( [ C99 , (the carrier of C88) ] -tree C112 ))) by L413;
L417: C109 = C112 by L414 , XTUPLE_0:1;
thus L418: (C107 = C109 implies C108 = C110) by L417 , L409 , L414 , L412 , XTUPLE_0:1;
L419: C110 = ( [ C99 , (the carrier of C88) ] -tree C112 ) by L414 , XTUPLE_0:1;
L420: C108 = ( [ C99 , (the carrier of C88) ] -tree C111 ) by L409 , XTUPLE_0:1;
assume L421: C108 = C110;
thus L422: thesis by L421 , L410 , L415 , L412 , L420 , L417 , L419 , TREES_4:15;
end;
consider C113 being FinSequence such that L423: (( len C113 ) = ( len ( the_arity_of C99 ) ) & (for B134 being Nat holds (B134 in ( dom C113 ) implies ( C113 . B134 ) = H7(B134)))) from FINSEQ_1:sch 2;
L424: ( dom C113 ) = ( Seg ( len C113 ) ) by FINSEQ_1:def 3;
L425: ( dom C113 ) = ( Seg ( len ( the_arity_of C99 ) ) ) by L423 , FINSEQ_1:def 3;
L426: D102 c= ( product C113 )
proof
let C114 being set;
assume L427: C114 in D102;
consider C115 being (Element of ( ( C88 -Terms C89 ) * )) such that L428: C114 = C115 and L429: C115 is (ArgumentSeq of ( Sym (C99 , C89) )) and L430: (ex B135 being (Element of ( D92 . C91 )) st (( depth B135 ) = ( C90 + 1 ) & B135 = ( [ C99 , (the carrier of C88) ] -tree C115 ))) by L427;
reconsider D108 = C115 as (ArgumentSeq of ( Sym (C99 , C89) )) by L429;
L431: (( len D108 ) = ( len ( the_arity_of C99 ) ) & ( dom D108 ) = ( Seg ( len D108 ) )) by FINSEQ_1:def 3 , MSATERM:22;
L432:
now
let C116 being set;
assume L433: C116 in ( dom D108 );
reconsider D109 = C116 as (Element of ( NAT )) by L433;
reconsider D110 = ( D108 . D109 ) as (Term of C88 , C89) by L433 , MSATERM:22;
L434: ( the_sort_of D110 ) = ( ( the_arity_of C99 ) /. D109 ) by L433 , MSATERM:23;
L435: ( D92 . ( the_sort_of D110 ) ) = ( FreeSort (C89 , ( the_sort_of D110 )) ) by L353 , MSAFREE:def 11;
reconsider D111 = D110 as (Element of ( D92 . ( ( the_arity_of C99 ) /. D109 ) )) by L435 , L434 , MSATERM:def 5;
L436: ( depth D111 ) < ( C90 + 1 ) by L430 , L433 , MSSCYC_1:27;
L437: ( depth D111 ) <= C90 by L436 , NAT_1:13;
set D112 = { B136 where B136 is (Element of ( D92 . ( ( the_arity_of C99 ) /. D109 ) )) : ( depth B136 ) <= C90 };
L438: D112 = ( C113 . C116 ) by L423 , L425 , L431 , L433;
thus L439: ( D108 . C116 ) in ( C113 . C116 ) by L438 , L437;
end;
thus L440: thesis by L432 , L423 , L424 , L428 , L431 , CARD_3:def 5;
end;
L441:
now
let C117 being set;
assume L442: C117 in ( dom C113 );
reconsider D113 = C117 as Nat by L442;
set D114 = { B137 where B137 is (Element of ( D92 . ( ( the_arity_of C99 ) /. D113 ) )) : ( depth B137 ) <= C90 };
L443: ( C113 . D113 ) = D114 by L423 , L442;
thus L444: ( C113 . C117 ) is  finite by L443 , L355;
end;
L445: C113 is  finite-yielding by L441 , FINSET_1:def 4;
L446: ( product C113 ) is  finite by L445;
L447: D99 is  finite by L446 , L395 , L426 , CARD_1:38;
thus L448: thesis by L447 , L359 , L382 , L386;
end;
L449: ( Union C93 ) is  finite by L381 , CARD_2:88;
defpred S11[ (Element of ( D92 . C91 )) ] means ( depth $1 ) <= C90;
set D115 = { B138 where B138 is (Element of ( D92 . C91 )) : S11[ B138 ] };
L450: { B139 where B139 is (Element of ( D92 . C91 )) : (S11[ B139 ] or S8[ B139 ]) } = ( D115 \/ D95 ) from TOPREAL1:sch 1;
L451: (for B140 being (Element of ( D92 . C91 )) holds (S9[ B140 ] iff S10[ B140 ])) by NAT_1:8 , NAT_1:12;
L452: D93 = D94 from FRAENKEL:sch 3(L451);
L453: D115 is  finite by L355;
thus L454: thesis by L453 , L452 , L450 , L449 , L362;
end;
L455: S7[ ( 0 ) ]
proof
let C118 being (SortSymbol of C88);
set D116 = { B141 where B141 is (Element of ( D92 . C118 )) : ( depth B141 ) <= ( 0 ) };
set D117 = { B142 where B142 is (Element of ( D92 . C118 )) : ( depth B142 ) = ( 0 ) };
L456: D116 c= D117
proof
let C119 being set;
assume L457: C119 in D116;
consider C120 being (Element of ( D92 . C118 )) such that L458: C119 = C120 and L459: ( depth C120 ) <= ( 0 ) by L457;
L460: ( depth C120 ) = ( 0 ) by L459;
thus L461: thesis by L460 , L458;
end;
L462: (( Constants (( FreeMSA C89 ) , C118) ) is  finite & D117 = ( ( FreeGen (C118 , C89) ) \/ ( Constants (( FreeMSA C89 ) , C118) ) )) by L352 , MSSCYC_1:25 , MSSCYC_1:26;
thus L463: thesis by L462 , L456;
end;
thus L464: (for B143 being Nat holds S7[ B143 ]) from NAT_1:sch 2(L455 , L354);
end;
theorem
L465: (for B144 being non  void non  empty ManySortedSign holds ((B144 is  finitely_operated & ( InducedGraph B144 ) is  well-founded) implies B144 is  monotonic))
proof
let C121 being non  void non  empty ManySortedSign;
set D118 = ( InducedGraph C121 );
assume that
L466: C121 is  finitely_operated
and
L467: D118 is  well-founded;
given C122 being  finitely-generated  non-empty MSAlgebra over C121 such that
L468: C122 is non  finite-yielding;

set D119 = the  non-empty  finite-yielding (GeneratorSet of C122);
reconsider D120 = D119 as  non-empty  finite-yielding (ManySortedSet of (the carrier of C121));
L469: ( FreeMSA D120 ) is non  finite-yielding by L468 , MSSCYC_1:23;
L470: (the Sorts of ( FreeMSA D120 )) is non  finite-yielding by L469 , MSAFREE2:def 11;
consider C123 being set such that L471: C123 in (the carrier of C121) and L472: ( (the Sorts of ( FreeMSA D120 )) . C123 ) is non  finite by L470 , FINSET_1:def 5;
reconsider D121 = C123 as (SortSymbol of C121) by L471;
consider C124 being (Element of ( NAT )) such that L473: (for B145 being  directed (Chain of D118) holds ((B145 is non  empty & ( ( vertex-seq B145 ) . ( ( len B145 ) + 1 ) ) = D121) implies ( len B145 ) <= C124)) by L467 , MSSCYC_1:def 4;
set D122 = ( (the Sorts of ( FreeMSA D120 )) . D121 );
set D123 = { B146 where B146 is (Element of D122) : ( depth B146 ) <= C124 };
L474: D123 is  finite by L466 , L351;
L475: (not D122 c= D123) by L474 , L472;
consider C125 being set such that L476: C125 in D122 and L477: (not C125 in D123) by L475 , TARSKI:def 3;
reconsider D124 = C125 as (Element of D122) by L476;
L478: (not ( depth D124 ) <= C124) by L477;
L479: 1 <= ( depth D124 ) by L478 , NAT_1:14;
L480: (ex B147 being  directed (Chain of ( InducedGraph C121 )) st (( len B147 ) = ( depth D124 ) & ( ( vertex-seq B147 ) . ( ( len B147 ) + 1 ) ) = D121)) by L479 , L55;
thus L481: contradiction by L480 , L473 , L478 , CARD_1:27;
end;
