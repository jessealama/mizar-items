:: Basic Properties of Determinants of Square Matrices over a Field
::  by Karol P\c{a}k
::
:: Received March 21, 2007
:: Copyright (c) 2007-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, NAT_1, XBOOLE_0, VECTSP_1, SUBSET_1, MATRIX_2, FUNCT_2,
      FINSEQ_1, FUNCT_1, ARYTM_3, SGRAPH1, XXREAL_0, TARSKI, CARD_1, FINSET_1,
      ORDINAL1, RELAT_1, ALGSTR_0, SETWISEO, BINOP_1, STRUCT_0, GROUP_1,
      ARYTM_1, FINSUB_1, INT_1, SUPINF_2, ABSVALUE, FINSEQ_2, CARD_3, ORDINAL4,
      FINSOP_1, ABIAN, MATRIX_1, TREES_1, ZFMISC_1, INCSP_1, AFINSQ_1,
      PARTFUN1, MATRIX_3, RLVECT_1, RVSUM_1, FVSUM_1, FUNCT_5, FUNCT_4,
      MATRIX11;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, NUMBERS, XCMPLX_0, XXREAL_0,
      FINSET_1, RELAT_1, FUNCT_1, PARTFUN1, FUNCT_2, FINSEQ_1, BINOP_1,
      STRUCT_0, ALGSTR_0, NAT_D, RLVECT_1, GROUP_1, VECTSP_1, SETWISEO,
      SETWOP_2, FINSEQ_2, FINSEQOP, MATRIX_1, FINSUB_1, MATRIX_2, ORDINAL1,
      NAT_1, FVSUM_1, FUNCT_5, FINSOP_1, GROUP_4, MATRIX_3, CARD_1, FINSEQ_7,
      FUNCT_4, SGRAPH1, MATRIX_6;
 constructors RELAT_2, WELLORD2, SETWISEO, XXREAL_0, NAT_1, NAT_D, FINSOP_1,
      SETWOP_2, FINSEQ_7, ALGSTR_1, GROUP_4, FVSUM_1, SGRAPH1, MATRIX_6,
      MATRIX_7, RELSET_1, FUNCT_5, BINOP_1;
 registrations XBOOLE_0, SUBSET_1, RELAT_1, FUNCT_1, ORDINAL1, PARTFUN1,
      FUNCT_2, FINSET_1, FINSUB_1, XXREAL_0, XREAL_0, NAT_1, FINSEQ_1,
      STRUCT_0, GROUP_1, VECTSP_1, MATRIX_2, FVSUM_1, CARD_1, RELSET_1,
      FINSEQ_2, FUNCT_4;
 requirements ARITHM, NUMERALS, REAL, BOOLE, SUBSET;
 definitions BINOP_1, FINSEQ_2, FINSEQ_1, TARSKI, XBOOLE_0, MATRIX_1, MATRIX_3,
      FVSUM_1, RELAT_1, ALGSTR_0;
 theorems FINSEQ_1, FINSEQ_2, TARSKI, FUNCT_2, NAT_1, BINOP_1, FUNCT_1,
      SETWISEO, VECTSP_1, ZFMISC_1, FVSUM_1, SETWOP_2, MATRIX_1, MATRIX_2,
      FUNCOP_1, FINSUB_1, FINSEQ_3, RLVECT_1, RELAT_1, FINSOP_1, XBOOLE_0,
      XBOOLE_1, GROUP_1, MATRIX_3, FINSEQ_5, FINSET_1, GROUP_4, XREAL_1,
      MATRIX_7, ORDINAL1, MATRIX_4, CARD_1, CARD_2, MATRIX_9, STIRL2_1,
      REWRITE1, FINSEQ_7, SGRAPH1, WELLORD2, FRAENKEL, FUNCT_5,
      FUNCT_4, NAT_D, XXREAL_0, PARTFUN1, XTUPLE_0;
 schemes FUNCT_2, NAT_1, FINSEQ_1, FINSEQ_2, MATRIX_1, BINOP_1, FUNCT_1,
      SETWISEO;

begin
notation
let C1 being set;
synonym 2Set C1 for TWOELEMENTSETS C1;
end;
theorem
L2: (for R3 being set holds (for R8 being Nat holds (R3 in ( 2Set ( Seg R8 ) ) iff (ex R4 being Nat st (ex R5 being Nat st (R4 in ( Seg R8 ) & R5 in ( Seg R8 ) & R4 < R5 & R3 = { R4 , R5 }))))))
proof
let R3 being set;
let R8 being Nat;
thus L3: (R3 in ( 2Set ( Seg R8 ) ) implies (ex R4 being Nat st (ex R5 being Nat st (R4 in ( Seg R8 ) & R5 in ( Seg R8 ) & R4 < R5 & R3 = { R4 , R5 }))))
proof
assume L4: R3 in ( 2Set ( Seg R8 ) );
consider R1 being set, R2 being set such that L5: R1 in ( Seg R8 ) and L6: R2 in ( Seg R8 ) and L7: R1 <> R2 and L8: R3 = { R1 , R2 } by L4 , SGRAPH1:8;
reconsider D1 = R1 , D2 = R2 as (Element of ( NAT )) by L5 , L6;
L9: (D1 > D2 or D2 > D1) by L7 , XXREAL_0:1;
thus L10: thesis by L9 , L5 , L6 , L8;
end;

assume L11: (ex R4 being Nat st (ex R5 being Nat st (R4 in ( Seg R8 ) & R5 in ( Seg R8 ) & R4 < R5 & R3 = { R4 , R5 })));
consider R4 being Nat, R5 being Nat such that L12: R4 in ( Seg R8 ) and L13: R5 in ( Seg R8 ) and L14: R4 < R5 and L15: R3 = { R4 , R5 } by L11;
L16: { R4 , R5 } c= ( Seg R8 ) by L12 , L13 , ZFMISC_1:32;
thus L17: thesis by L16 , L12 , L13 , L14 , L15 , SGRAPH1:8;
end;
theorem
L18: (( 2Set ( Seg ( 0 ) ) ) = ( {} ) & ( 2Set ( Seg 1 ) ) = ( {} ))
proof
thus L19: ( 2Set ( Seg ( 0 ) ) ) = ( {} )
proof
assume L20: ( 2Set ( Seg ( 0 ) ) ) <> ( {} );
consider R1 being set such that L21: R1 in ( 2Set ( Seg ( 0 ) ) ) by L20 , XBOOLE_0:def 1;
L22: (ex R4 being Nat st (ex R5 being Nat st (R4 in ( Seg ( 0 ) ) & R5 in ( Seg ( 0 ) ) & R4 < R5 & R1 = { R4 , R5 }))) by L21 , L2;
thus L23: thesis by L22;
end;

thus L24: ( 2Set ( Seg 1 ) ) = ( {} )
proof
assume L25: ( 2Set ( Seg 1 ) ) <> ( {} );
consider R1 being set such that L26: R1 in ( 2Set ( Seg 1 ) ) by L25 , XBOOLE_0:def 1;
consider R4 being Nat, R5 being Nat such that L27: R4 in ( Seg 1 ) and L28: R5 in ( Seg 1 ) and L29: R4 < R5 and L30: R1 = { R4 , R5 } by L26 , L2;
L31: R4 = 1 by L27 , FINSEQ_1:2 , TARSKI:def 1;
thus L32: thesis by L31 , L28 , L29 , FINSEQ_1:2 , TARSKI:def 1;
end;

end;
theorem
L25: (for R8 being Nat holds (R8 >= 2 implies { 1 , 2 } in ( 2Set ( Seg R8 ) )))
proof
let R8 being Nat;
assume that
L26: R8 >= 2;
L27: 1 <= R8 by L26 , XXREAL_0:2;
L28: 1 in ( Seg R8 ) by L27;
L29: 2 in ( Seg R8 ) by L26;
thus L30: thesis by L29 , L28 , L2;
end;
registration
let R8 being Nat;
cluster ( 2Set ( Seg ( R8 + 2 ) ) ) -> non  empty  finite;
coherence
proof
L31: ( R8 + 2 ) >= ( ( 0 ) + 2 ) by XREAL_1:6;
thus L32: thesis by L31 , L25 , SGRAPH1:13;
end;
end;
registration
let R8 being Nat;
let R1 being set;
let C2 being (Element of ( Permutations R8 ));
cluster ( C2 . R1 ) ->  natural;
coherence
proof
per cases ;
suppose L34: R1 in ( dom C2 );

L35: C2 is (Permutation of ( Seg R8 )) by MATRIX_2:def 9;
L36: ( rng C2 ) = ( Seg R8 ) by L35 , FUNCT_2:def 3;
L37: ( C2 . R1 ) in ( rng C2 ) by L34 , FUNCT_1:def 3;
thus L38: thesis by L37 , L36;
end;
suppose L39: (not R1 in ( dom C2 ));

thus L40: thesis by L39 , FUNCT_1:def 2;
end;
end;
end;
registration
let R11 being Field;
cluster (the multF of R11) ->  having_a_unity;
coherence;
cluster (the multF of R11) ->  associative;
coherence;
end;
definition
let R8 being Nat;
let R11 being Field;
let C3 being (Element of ( Permutations ( R8 + 2 ) ));
func Part_sgn (C3 , R11) -> (Function of ( 2Set ( Seg ( R8 + 2 ) ) ) , (the carrier of R11)) means 
:L44: (for B1 , B2 being (Element of ( NAT )) holds ((B1 in ( Seg ( R8 + 2 ) ) & B2 in ( Seg ( R8 + 2 ) ) & B1 < B2) implies ((( C3 . B1 ) < ( C3 . B2 ) implies ( it . { B1 , B2 } ) = ( 1_ R11 )) & (( C3 . B1 ) > ( C3 . B2 ) implies ( it . { B1 , B2 } ) = ( - ( 1_ R11 ) )))));
existence
proof
set D3 = ( R8 + 2 );
defpred S1[ set , set ] means (for B3 , B4 being (Element of ( NAT )) holds ((B3 in ( Seg D3 ) & B4 in ( Seg D3 ) & B3 < B4 & $1 = { B3 , B4 }) implies ((( C3 . B3 ) < ( C3 . B4 ) implies $2 = ( 1_ R11 )) & (( C3 . B3 ) > ( C3 . B4 ) implies $2 = ( - ( 1_ R11 ) )))));
L45: (for R1 being set holds (R1 in ( 2Set ( Seg D3 ) ) implies (ex R2 being set st (R2 in (the carrier of R11) & S1[ R1 , R2 ]))))
proof
let R1 being set;
assume L46: R1 in ( 2Set ( Seg D3 ) );
consider R4 being Nat, R5 being Nat such that L47: R4 in ( Seg D3 ) and L48: R5 in ( Seg D3 ) and L49: R4 < R5 and L50: R1 = { R4 , R5 } by L46 , L2;
L51: C3 is (Permutation of ( Seg D3 )) by MATRIX_2:def 9;
L52: ( C3 . R4 ) <> ( C3 . R5 ) by L51 , L47 , L48 , L49 , FUNCT_2:19;
L53:
now
per cases  by L52 , XXREAL_0:1;
case L54: ( C3 . R4 ) < ( C3 . R5 );
L55: S1[ R1 , ( 1_ R11 ) ]
proof
let C4 , C5 being (Element of ( NAT ));
assume that
L56: C4 in ( Seg D3 )
and
L57: C5 in ( Seg D3 )
and
L58: C4 < C5
and
L59: R1 = { C4 , C5 };
L60: ((R4 = C4 & R5 = C5) or (R4 = C5 & R5 = C4)) by L50 , L59 , ZFMISC_1:22;
thus L61: thesis by L60 , L49 , L54 , L58;
end;
thus L62: thesis by L55;
end;
case L63: ( C3 . R4 ) > ( C3 . R5 );
L64: S1[ R1 , ( - ( 1_ R11 ) ) ]
proof
let C6 , C7 being (Element of ( NAT ));
assume that
L65: C6 in ( Seg D3 )
and
L66: C7 in ( Seg D3 )
and
L67: C6 < C7
and
L68: R1 = { C6 , C7 };
L69: ((R4 = C6 & R5 = C7) or (R4 = C7 & R5 = C6)) by L50 , L68 , ZFMISC_1:22;
thus L70: thesis by L69 , L49 , L63 , L67;
end;
thus L71: thesis by L64;
end;
end;
thus L73: thesis by L53;
end;
consider C8 being (Function of ( 2Set ( Seg D3 ) ) , (the carrier of R11)) such that L74: (for R1 being set holds (R1 in ( 2Set ( Seg D3 ) ) implies S1[ R1 , ( C8 . R1 ) ])) from FUNCT_2:sch 1(L45);
take C8;
let C9 , C10 being (Element of ( NAT ));
assume that
L75: C9 in ( Seg D3 )
and
L76: C10 in ( Seg D3 )
and
L77: C9 < C10;
L78: { C9 , C10 } in ( 2Set ( Seg D3 ) ) by L75 , L76 , L77 , L2;
thus L79: thesis by L78 , L74 , L75 , L76 , L77;
end;
uniqueness
proof
set D4 = ( R8 + 2 );
let C11 , C12 being (Function of ( 2Set ( Seg D4 ) ) , (the carrier of R11));
assume that
L80: (for B5 , B6 being (Element of ( NAT )) holds ((B5 in ( Seg D4 ) & B6 in ( Seg D4 ) & B5 < B6) implies ((( C3 . B5 ) < ( C3 . B6 ) implies ( C11 . { B5 , B6 } ) = ( 1_ R11 )) & (( C3 . B5 ) > ( C3 . B6 ) implies ( C11 . { B5 , B6 } ) = ( - ( 1_ R11 ) )))))
and
L81: (for B7 , B8 being (Element of ( NAT )) holds ((B7 in ( Seg D4 ) & B8 in ( Seg D4 ) & B7 < B8) implies ((( C3 . B7 ) < ( C3 . B8 ) implies ( C12 . { B7 , B8 } ) = ( 1_ R11 )) & (( C3 . B7 ) > ( C3 . B8 ) implies ( C12 . { B7 , B8 } ) = ( - ( 1_ R11 ) )))));
L82: (for R1 being set holds (R1 in ( 2Set ( Seg D4 ) ) implies ( C11 . R1 ) = ( C12 . R1 )))
proof
let R1 being set;
assume L83: R1 in ( 2Set ( Seg D4 ) );
consider R4 being Nat, R5 being Nat such that L84: R4 in ( Seg D4 ) and L85: R5 in ( Seg D4 ) and L86: R4 < R5 and L87: R1 = { R4 , R5 } by L83 , L2;
L88: C3 is (Permutation of ( Seg D4 )) by MATRIX_2:def 9;
L89: ( C3 . R4 ) <> ( C3 . R5 ) by L88 , L84 , L85 , L86 , FUNCT_2:19;
L90:
now
per cases  by L89 , XXREAL_0:1;
case L91: ( C3 . R4 ) < ( C3 . R5 );
L92: ( C11 . { R4 , R5 } ) = ( 1_ R11 ) by L91 , L80 , L84 , L85 , L86;
thus L93: thesis by L92 , L81 , L84 , L85 , L86 , L87 , L91;
end;
case L94: ( C3 . R4 ) > ( C3 . R5 );
L95: ( C11 . { R4 , R5 } ) = ( - ( 1_ R11 ) ) by L94 , L80 , L84 , L85 , L86;
thus L96: thesis by L95 , L81 , L84 , L85 , L86 , L87 , L94;
end;
end;
thus L98: thesis by L90;
end;
thus L99: thesis by L82 , FUNCT_2:12;
end;
end;
theorem
L101: (for R8 being Nat holds (for R11 being Field holds (for R21 being (Element of ( Permutations ( R8 + 2 ) )) holds (for B9 being (Element of ( Fin ( 2Set ( Seg ( R8 + 2 ) ) ) )) holds ((for R1 being set holds (R1 in B9 implies ( ( Part_sgn (R21 , R11) ) . R1 ) = ( 1_ R11 ))) implies ( (the multF of R11) $$ (B9 , ( Part_sgn (R21 , R11) )) ) = ( 1_ R11 ))))))
proof
let R8 being Nat;
let R11 being Field;
let R21 being (Element of ( Permutations ( R8 + 2 ) ));
let C13 being (Element of ( Fin ( 2Set ( Seg ( R8 + 2 ) ) ) ));
assume that
L102: (for R1 being set holds (R1 in C13 implies ( ( Part_sgn (R21 , R11) ) . R1 ) = ( 1_ R11 )));
set D5 = ( Part_sgn (R21 , R11) );
set D6 = ( 2Set ( Seg ( R8 + 2 ) ) );
set D7 = (the carrier of R11);
set D8 = (the multF of R11);
consider C14 being (Function of ( Fin D6 ) , D7) such that L103: ( D8 $$ (C13 , D5) ) = ( C14 . C13 ) and L104: (for B10 being (Element of D7) holds (B10 is_a_unity_wrt D8 implies ( C14 . ( {} ) ) = B10)) and L105: (for B11 being (Element of D6) holds ( C14 . { B11 } ) = ( D5 . B11 )) and L106: (for B12 being (Element of ( Fin D6 )) holds ((B12 c= C13 & B12 <> ( {} )) implies (for B13 being (Element of D6) holds (B13 in ( C13 \ B12 ) implies ( C14 . ( B12 \/ { B13 } ) ) = ( D8 . (( C14 . B12 ) , ( D5 . B13 )) ))))) by SETWISEO:def 3;
defpred S2[ Nat ] means (for B14 being (Element of ( Fin D6 )) holds ((( card B14 ) = $1 & B14 c= C13) implies ( C14 . B14 ) = ( 1_ R11 )));
L107: (for B15 being (Element of ( NAT )) holds (S2[ B15 ] implies S2[ ( B15 + 1 ) ]))
proof
let C15 being (Element of ( NAT ));
assume that
L108: S2[ C15 ];
set D9 = ( C15 + 1 );
let C16 being (Element of ( Fin D6 ));
assume that
L109: ( card C16 ) = D9
and
L110: C16 c= C13;
L111:
now
per cases ;
case L112: C15 = ( 0 );
consider R1 being set such that L113: C16 = { R1 } by L112 , L109 , CARD_2:42;
L114: R1 in C16 by L113 , TARSKI:def 1;
L115: C16 c= D6 by FINSUB_1:def 5;
reconsider D10 = R1 as (Element of D6) by L115 , L114;
L116: ( C14 . C16 ) = ( D5 . D10 ) by L105 , L113;
thus L117: thesis by L116 , L102 , L110 , L114;
end;
case L118: C15 > ( 0 );
consider R1 being set such that L119: R1 in C16 by L109 , CARD_1:27 , XBOOLE_0:def 1;
L120: C16 c= D6 by FINSUB_1:def 5;
reconsider D11 = R1 as (Element of D6) by L120 , L119;
L121: ( D5 . D11 ) = ( 1_ R11 ) by L102 , L110 , L119;
L122: C16 c= D6 by FINSUB_1:def 5;
L123: ( C16 \ { D11 } ) c= D6 by L122 , XBOOLE_1:1;
reconsider D12 = ( C16 \ { D11 } ) as (Element of ( Fin D6 )) by L123 , FINSUB_1:def 5;
L124: (not D11 in D12) by ZFMISC_1:56;
L125: D11 in ( C13 \ D12 ) by L124 , L110 , L119 , XBOOLE_0:def 5;
L126: ( { D11 } \/ D12 ) = C16 by L119 , ZFMISC_1:116;
L127: ( C15 + 1 ) = ( ( card D12 ) + 1 ) by L126 , L109 , L124 , CARD_2:41;
L128: ( C14 . D12 ) = ( 1_ R11 ) by L127 , L108 , L110 , XBOOLE_1:1;
L129: ( C14 . C16 ) = ( ( 1_ R11 ) * ( 1_ R11 ) ) by L128 , L106 , L110 , L118 , L126 , L127 , L125 , L121 , CARD_1:27 , XBOOLE_1:1;
thus L130: thesis by L129 , VECTSP_1:def 4;
end;
end;
thus L132: thesis by L111;
end;
L133: S2[ ( 0 ) ]
proof
let C17 being (Element of ( Fin D6 ));
assume that
L134: ( card C17 ) = ( 0 )
and
L135: C17 c= C13;
L136: C17 = ( {} ) by L134;
thus L137: thesis by L136 , L104 , FVSUM_1:4;
end;
L138: (for B16 being (Element of ( NAT )) holds S2[ B16 ]) from NAT_1:sch 1(L133 , L107);
L139: S2[ ( card C13 ) ] by L138;
thus L140: thesis by L139 , L103;
end;
theorem
L141: (for R8 being Nat holds (for R11 being Field holds (for R21 being (Element of ( Permutations ( R8 + 2 ) )) holds (for R25 being (Element of ( 2Set ( Seg ( R8 + 2 ) ) )) holds (( ( Part_sgn (R21 , R11) ) . R25 ) = ( 1_ R11 ) or ( ( Part_sgn (R21 , R11) ) . R25 ) = ( - ( 1_ R11 ) ))))))
proof
let R8 being Nat;
let R11 being Field;
let R21 being (Element of ( Permutations ( R8 + 2 ) ));
let R25 being (Element of ( 2Set ( Seg ( R8 + 2 ) ) ));
consider R4 being Nat, R5 being Nat such that L142: R4 in ( Seg ( R8 + 2 ) ) and L143: R5 in ( Seg ( R8 + 2 ) ) and L144: R4 < R5 and L145: R25 = { R4 , R5 } by L2;
L146: R21 is (Permutation of ( Seg ( R8 + 2 ) )) by MATRIX_2:def 9;
L147: ( R21 . R4 ) <> ( R21 . R5 ) by L146 , L142 , L143 , L144 , FUNCT_2:19;
L148: (( R21 . R4 ) > ( R21 . R5 ) or ( R21 . R4 ) < ( R21 . R5 )) by L147 , XXREAL_0:1;
thus L149: thesis by L148 , L142 , L143 , L144 , L145 , L44;
end;
theorem
L150: (for R8 being Nat holds (for R11 being Field holds (for R21 being (Element of ( Permutations ( R8 + 2 ) )) holds (for R22 being (Element of ( Permutations ( R8 + 2 ) )) holds (for R4 being Nat holds (for R5 being Nat holds ((R4 in ( Seg ( R8 + 2 ) ) & R5 in ( Seg ( R8 + 2 ) ) & R4 < R5 & ( R21 . R4 ) = ( R22 . R4 ) & ( R21 . R5 ) = ( R22 . R5 )) implies ( ( Part_sgn (R21 , R11) ) . { R4 , R5 } ) = ( ( Part_sgn (R22 , R11) ) . { R4 , R5 } ))))))))
proof
let R8 being Nat;
let R11 being Field;
let R21 being (Element of ( Permutations ( R8 + 2 ) ));
let R22 being (Element of ( Permutations ( R8 + 2 ) ));
set D13 = ( R8 + 2 );
let R4 being Nat;
let R5 being Nat;
assume that
L151: R4 in ( Seg D13 )
and
L152: R5 in ( Seg D13 )
and
L153: R4 < R5
and
L154: ( R21 . R4 ) = ( R22 . R4 )
and
L155: ( R21 . R5 ) = ( R22 . R5 );
reconsider D14 = R21 as (Permutation of ( Seg D13 )) by MATRIX_2:def 9;
L156: ( D14 . R4 ) <> ( D14 . R5 ) by L151 , L152 , L153 , FUNCT_2:19;
L157:
now
per cases  by L156 , XXREAL_0:1;
suppose L158: ( R21 . R4 ) < ( R21 . R5 );

L159: ( ( Part_sgn (R21 , R11) ) . { R4 , R5 } ) = ( 1_ R11 ) by L158 , L151 , L152 , L153 , L44;
thus L160: thesis by L159 , L151 , L152 , L153 , L154 , L155 , L158 , L44;
end;
suppose L161: ( R21 . R4 ) > ( R21 . R5 );

L162: ( ( Part_sgn (R21 , R11) ) . { R4 , R5 } ) = ( - ( 1_ R11 ) ) by L161 , L151 , L152 , L153 , L44;
thus L163: thesis by L162 , L151 , L152 , L153 , L154 , L155 , L161 , L44;
end;
end;
thus L165: thesis by L157;
end;
theorem
L166: (for R8 being Nat holds (for R11 being Field holds (for B17 being (Element of ( Fin ( 2Set ( Seg ( R8 + 2 ) ) ) )) holds (for R21 being (Element of ( Permutations ( R8 + 2 ) )) holds (for R22 being (Element of ( Permutations ( R8 + 2 ) )) holds (for B18 being  finite set holds (B18 = { R25 where R25 is (Element of ( 2Set ( Seg ( R8 + 2 ) ) )) : (R25 in B17 & ( ( Part_sgn (R21 , R11) ) . R25 ) <> ( ( Part_sgn (R22 , R11) ) . R25 )) } implies ((( ( card B18 ) mod 2 ) = ( 0 ) implies ( (the multF of R11) $$ (B17 , ( Part_sgn (R21 , R11) )) ) = ( (the multF of R11) $$ (B17 , ( Part_sgn (R22 , R11) )) )) & (( ( card B18 ) mod 2 ) = 1 implies ( (the multF of R11) $$ (B17 , ( Part_sgn (R21 , R11) )) ) = ( - ( (the multF of R11) $$ (B17 , ( Part_sgn (R22 , R11) )) ) ))))))))))
proof
let R8 being Nat;
let R11 being Field;
let C18 being (Element of ( Fin ( 2Set ( Seg ( R8 + 2 ) ) ) ));
let R21 being (Element of ( Permutations ( R8 + 2 ) ));
let R22 being (Element of ( Permutations ( R8 + 2 ) ));
let C19 being  finite set;
assume that
L167: C19 = { R25 where R25 is (Element of ( 2Set ( Seg ( R8 + 2 ) ) )) : (R25 in C18 & ( ( Part_sgn (R21 , R11) ) . R25 ) <> ( ( Part_sgn (R22 , R11) ) . R25 )) };
set D15 = ( Part_sgn (R22 , R11) );
set D16 = ( Part_sgn (R21 , R11) );
set D17 = ( 2Set ( Seg ( R8 + 2 ) ) );
L168: C18 c= D17 by FINSUB_1:def 5;
L169: ( C18 \ C19 ) c= D17 by L168 , XBOOLE_1:1;
reconsider D18 = ( C18 \ C19 ) as (Element of ( Fin D17 )) by L169 , FINSUB_1:def 5;
L170: C19 c= C18
proof
let R1 being set;
assume L171: R1 in C19;
L172: (ex R25 being (Element of ( 2Set ( Seg ( R8 + 2 ) ) )) st (R1 = R25 & R25 in C18 & ( D16 . R25 ) <> ( D15 . R25 ))) by L171 , L167;
thus L173: thesis by L172;
end;
L174: ( C19 \/ D18 ) = C18 by L170 , XBOOLE_1:45;
L175: C18 c= D17 by FINSUB_1:def 5;
L176: C19 c= D17 by L175 , L170 , XBOOLE_1:1;
reconsider D19 = C19 as (Element of ( Fin D17 )) by L176 , FINSUB_1:def 5;
set D20 = (the carrier of R11);
set D21 = (the multF of R11);
consider C20 being (Function of ( Fin D17 ) , D20) such that L177: ( D21 $$ (D19 , D16) ) = ( C20 . C19 ) and L178: (for B19 being (Element of D20) holds (B19 is_a_unity_wrt D21 implies ( C20 . ( {} ) ) = B19)) and L179: (for B20 being (Element of D17) holds ( C20 . { B20 } ) = ( D16 . B20 )) and L180: (for B21 being (Element of ( Fin D17 )) holds ((B21 c= C19 & B21 <> ( {} )) implies (for B22 being (Element of D17) holds (B22 in ( D19 \ B21 ) implies ( C20 . ( B21 \/ { B22 } ) ) = ( D21 . (( C20 . B21 ) , ( D16 . B22 )) ))))) by SETWISEO:def 3;
L181: D18 c= D17 by FINSUB_1:def 5;
consider C21 being (Function of ( Fin D17 ) , D20) such that L182: ( D21 $$ (D19 , D15) ) = ( C21 . C19 ) and L183: (for B23 being (Element of D20) holds (B23 is_a_unity_wrt D21 implies ( C21 . ( {} ) ) = B23)) and L184: (for B24 being (Element of D17) holds ( C21 . { B24 } ) = ( D15 . B24 )) and L185: (for B25 being (Element of ( Fin D17 )) holds ((B25 c= C19 & B25 <> ( {} )) implies (for B26 being (Element of D17) holds (B26 in ( C19 \ B25 ) implies ( C21 . ( B25 \/ { B26 } ) ) = ( D21 . (( C21 . B25 ) , ( D15 . B26 )) ))))) by SETWISEO:def 3;
defpred S3[ Nat ] means (for B27 being (Element of ( Fin D17 )) holds ((( card B27 ) = $1 & B27 c= C19) implies ((( ( card B27 ) mod 2 ) = ( 0 ) implies ( C20 . B27 ) = ( C21 . B27 )) & (( ( card B27 ) mod 2 ) = 1 implies ( C20 . B27 ) = ( - ( C21 . B27 ) )))));
L186: (for R25 being (Element of ( 2Set ( Seg ( R8 + 2 ) ) )) holds (R25 in C19 implies ( D16 . R25 ) = ( - ( D15 . R25 ) )))
proof
let R25 being (Element of ( 2Set ( Seg ( R8 + 2 ) ) ));
assume L187: R25 in C19;
L188: (ex B28 being (Element of D17) st (B28 = R25 & B28 in C18 & ( D16 . B28 ) <> ( D15 . B28 ))) by L187 , L167;
L189: (( D15 . R25 ) = ( 1_ R11 ) or ( D15 . R25 ) = ( - ( 1_ R11 ) )) by L141;
L190: (( D16 . R25 ) = ( 1_ R11 ) or ( D16 . R25 ) = ( - ( 1_ R11 ) )) by L141;
L191: ( ( D16 . R25 ) + ( D15 . R25 ) ) = ( 0. R11 ) by L190 , L188 , L189 , RLVECT_1:def 10;
thus L192: thesis by L191 , VECTSP_1:16;
end;
L193: (for B29 being (Element of ( NAT )) holds (S3[ B29 ] implies S3[ ( B29 + 1 ) ]))
proof
let C22 being (Element of ( NAT ));
assume that
L194: S3[ C22 ];
set D22 = ( C22 + 1 );
let C23 being (Element of ( Fin D17 ));
assume that
L195: ( card C23 ) = D22
and
L196: C23 c= C19;
L197:
now
per cases ;
case L198: C22 = ( 0 );
consider R1 being set such that L199: C23 = { R1 } by L198 , L195 , CARD_2:42;
L200: R1 in C23 by L199 , TARSKI:def 1;
L201: C23 c= D17 by FINSUB_1:def 5;
reconsider D23 = R1 as (Element of D17) by L201 , L200;
L202: ( C21 . C23 ) = ( D15 . D23 ) by L184 , L199;
L203: ( C20 . C23 ) = ( D16 . D23 ) by L179 , L199;
thus L204: thesis by L203 , L186 , L195 , L196 , L198 , L200 , L202 , NAT_D:14;
end;
case L205: C22 > ( 0 );
consider R1 being set such that L206: R1 in C23 by L195 , CARD_1:27 , XBOOLE_0:def 1;
L207: C23 c= D17 by FINSUB_1:def 5;
reconsider D24 = R1 as (Element of D17) by L207 , L206;
L208: C23 c= D17 by FINSUB_1:def 5;
L209: ( C23 \ { D24 } ) c= D17 by L208 , XBOOLE_1:1;
reconsider D25 = ( C23 \ { D24 } ) as (Element of ( Fin D17 )) by L209 , FINSUB_1:def 5;
L210: (not D24 in D25) by ZFMISC_1:56;
L211: D24 in ( C19 \ D25 ) by L210 , L196 , L206 , XBOOLE_0:def 5;
L212: D25 c= C19 by L196 , XBOOLE_1:1;
L213: ( { D24 } \/ D25 ) = C23 by L206 , ZFMISC_1:116;
L214: ( C22 + 1 ) = ( ( card D25 ) + 1 ) by L213 , L195 , L210 , CARD_2:41;
L215: ( C21 . C23 ) = ( D21 . (( C21 . D25 ) , ( D15 . D24 )) ) by L214 , L185 , L196 , L205 , L213 , L211 , CARD_1:27 , XBOOLE_1:1;
L216: ( C20 . C23 ) = ( D21 . (( C20 . D25 ) , ( D16 . D24 )) ) by L180 , L196 , L205 , L213 , L214 , L211 , CARD_1:27 , XBOOLE_1:1;
L217:
now
per cases  by NAT_D:12;
case L218: ( C22 mod 2 ) = ( 0 );
L219: ( 0 ) < ( 2 - 1 );
L220: ( D22 mod 2 ) = ( ( 0 ) + 1 ) by L219 , L218 , NAT_D:70;
L221: ( C20 . C23 ) = ( ( C20 . D25 ) * ( - ( D15 . D24 ) ) ) by L186 , L196 , L206 , L216;
L222: ( C21 . C23 ) = ( ( C20 . D25 ) * ( D15 . D24 ) ) by L194 , L214 , L212 , L215 , L218;
thus L223: thesis by L222 , L195 , L221 , L220 , VECTSP_1:8;
end;
case L224: ( C22 mod 2 ) = 1;
L225: ( D16 . D24 ) = ( - ( D15 . D24 ) ) by L186 , L196 , L206;
L226: ( C20 . D25 ) = ( - ( C21 . D25 ) ) by L194 , L214 , L212 , L224;
L227: ( C20 . C23 ) = ( ( - ( C21 . D25 ) ) * ( - ( D15 . D24 ) ) ) by L226 , L180 , L196 , L205 , L213 , L214 , L211 , L225 , CARD_1:27 , XBOOLE_1:1;
L228: ( 2 - 1 ) = 1;
L229: ( C21 . C23 ) = ( ( C21 . D25 ) * ( D15 . D24 ) ) by L185 , L196 , L205 , L213 , L214 , L211 , CARD_1:27 , XBOOLE_1:1;
thus L230: thesis by L229 , L195 , L224 , L227 , L228 , NAT_D:69 , VECTSP_1:10;
end;
end;
thus L232: thesis by L217;
end;
end;
thus L234: thesis by L197;
end;
L235: S3[ ( 0 ) ]
proof
let C24 being (Element of ( Fin D17 ));
assume that
L236: ( card C24 ) = ( 0 )
and
L237: C24 c= C19;
L238: ( 0 ) = ( ( 0 ) mod 2 ) by NAT_D:26;
L239: C24 = ( {} ) by L236;
L240: ( C20 . C24 ) = ( 1_ R11 ) by L239 , L178 , FVSUM_1:4;
thus L241: thesis by L240 , L183 , L239 , L238 , FVSUM_1:4;
end;
L242: (for B30 being (Element of ( NAT )) holds S3[ B30 ]) from NAT_1:sch 1(L235 , L193);
L243: D18 misses C19 by XBOOLE_1:79;
L244: ( D21 $$ (C18 , D16) ) = ( D21 . (( D21 $$ (D18 , D16) ) , ( D21 $$ (D19 , D16) )) ) by L243 , L174 , SETWOP_2:4;
L245: ( D21 $$ (C18 , D15) ) = ( D21 . (( D21 $$ (D18 , D15) ) , ( D21 $$ (D19 , D15) )) ) by L243 , L174 , SETWOP_2:4;
L246: ( dom D16 ) = D17 by FUNCT_2:def 1;
L247: ( dom ( D16 | D18 ) ) = D18 by L246 , L181 , RELAT_1:62;
L248: ( dom D15 ) = D17 by FUNCT_2:def 1;
L249: ( dom ( D15 | D18 ) ) = D18 by L248 , L181 , RELAT_1:62;
L250: (for R1 being set holds (R1 in ( dom ( D16 | D18 ) ) implies ( ( D16 | D18 ) . R1 ) = ( ( D15 | D18 ) . R1 )))
proof
let R1 being set;
assume that
L251: R1 in ( dom ( D16 | D18 ) );
L252: D18 c= D17 by FINSUB_1:def 5;
reconsider D26 = R1 as (Element of D17) by L252 , L247 , L251;
L253: ( ( D16 | D18 ) . D26 ) = ( D16 . D26 ) by L251 , FUNCT_1:47;
L254: (not D26 in C19) by L247 , L251 , XBOOLE_0:def 5;
assume L255: ( ( D16 | D18 ) . R1 ) <> ( ( D15 | D18 ) . R1 );
L256: ( ( D15 | D18 ) . D26 ) = ( D15 . D26 ) by L247 , L249 , L251 , FUNCT_1:47;
thus L257: contradiction by L256 , L167 , L247 , L251 , L255 , L253 , L254;
end;
L258: ( D16 | D18 ) = ( D15 | D18 ) by L250 , L246 , L181 , L249 , FUNCT_1:2 , RELAT_1:62;
L259: ( D21 $$ (D18 , D16) ) = ( D21 $$ (D18 , D15) ) by L258 , SETWOP_2:7;
L260:
now
per cases  by NAT_D:12;
case L261: ( ( card C19 ) mod 2 ) = ( 0 );
thus L262: thesis by L261 , L177 , L182 , L242 , L259 , L244 , L245;
end;
case L263: ( ( card C19 ) mod 2 ) = 1;
L264: ( D21 $$ (C18 , D15) ) = ( ( D21 $$ (D18 , D16) ) * ( D21 $$ (D19 , D15) ) ) by L258 , L245 , SETWOP_2:7;
L265: ( D21 $$ (C18 , D16) ) = ( ( D21 $$ (D18 , D16) ) * ( - ( D21 $$ (D19 , D15) ) ) ) by L177 , L182 , L242 , L244 , L263;
thus L266: thesis by L265 , L263 , L264 , VECTSP_1:8;
end;
end;
thus L268: thesis by L260;
end;
theorem
L269: (for R8 being Nat holds (for B31 being (Permutation of ( Seg R8 )) holds (B31 is  being_transposition implies (for R4 being Nat holds (for R5 being Nat holds (R4 < R5 implies (( B31 . R4 ) = R5 iff (R4 in ( dom B31 ) & R5 in ( dom B31 ) & ( B31 . R4 ) = R5 & ( B31 . R5 ) = R4 & (for R6 being Nat holds ((R6 <> R4 & R6 <> R5 & R6 in ( dom B31 )) implies ( B31 . R6 ) = R6))))))))))
proof
let R8 being Nat;
let R18 being (Permutation of ( Seg R8 ));
assume L270: R18 is  being_transposition;
consider C25 , C26 being Nat such that L271: C25 in ( dom R18 ) and L272: C26 in ( dom R18 ) and L273: C25 <> C26 and L274: ( R18 . C25 ) = C26 and L275: ( R18 . C26 ) = C25 and L276: (for R6 being Nat holds ((R6 <> C25 & R6 <> C26 & R6 in ( dom R18 )) implies ( R18 . R6 ) = R6)) by L270 , MATRIX_2:def 11;
let R4 being Nat;
let R5 being Nat;
assume that
L277: R4 < R5;
thus L278: (( R18 . R4 ) = R5 implies (R4 in ( dom R18 ) & R5 in ( dom R18 ) & ( R18 . R4 ) = R5 & ( R18 . R5 ) = R4 & (for R6 being Nat holds ((R6 <> R4 & R6 <> R5 & R6 in ( dom R18 )) implies ( R18 . R6 ) = R6))))
proof
L279: ( dom R18 ) = ( Seg R8 ) by FUNCT_2:52;
L280: ( rng R18 ) = ( Seg R8 ) by FUNCT_2:def 3;
assume L281: ( R18 . R4 ) = R5;
L282: R4 in ( dom R18 ) by L281 , L277 , FUNCT_1:def 2;
L283: (R4 = C26 or R4 = C25) by L282 , L277 , L276 , L281;
thus L284: thesis by L283 , L274 , L275 , L276 , L281 , L282 , L280 , L279 , FUNCT_1:def 3;
end;

thus L285: thesis;
end;
theorem
L286: (for R8 being Nat holds (for R11 being Field holds (for R21 being (Element of ( Permutations ( R8 + 2 ) )) holds (for R22 being (Element of ( Permutations ( R8 + 2 ) )) holds (for R23 being (Element of ( Permutations ( R8 + 2 ) )) holds (for R4 being Nat holds (for R5 being Nat holds ((R23 = ( R21 * R22 ) & R22 is  being_transposition & ( R22 . R4 ) = R5 & R4 < R5) implies (for R25 being (Element of ( 2Set ( Seg ( R8 + 2 ) ) )) holds (( ( Part_sgn (R21 , R11) ) . R25 ) <> ( ( Part_sgn (R23 , R11) ) . R25 ) implies (R4 in R25 or R5 in R25)))))))))))
proof
let R8 being Nat;
let R11 being Field;
set D27 = ( R8 + 2 );
let C27 , C28 , C29 being (Element of ( Permutations D27 ));
let R4 being Nat;
let R5 being Nat;
assume that
L287: C29 = ( C27 * C28 )
and
L288: C28 is  being_transposition
and
L289: ( C28 . R4 ) = R5
and
L290: R4 < R5;
reconsider D28 = C28 , D29 = C29 as (Permutation of ( Seg D27 )) by MATRIX_2:def 9;
let C30 being (Element of ( 2Set ( Seg D27 ) ));
assume that
L291: ( ( Part_sgn (C27 , R11) ) . C30 ) <> ( ( Part_sgn (C29 , R11) ) . C30 );
L292: ( dom D28 ) = ( Seg D27 ) by FUNCT_2:52;
L293: ( dom D29 ) = ( Seg D27 ) by FUNCT_2:52;
assume that
L294: (not R4 in C30)
and
L295: (not R5 in C30);
consider C31 , C32 being Nat such that L296: C31 in ( Seg D27 ) and L297: C32 in ( Seg D27 ) and L298: C31 < C32 and L299: C30 = { C31 , C32 } by L2;
L300: R5 <> C32 by L299 , L295 , TARSKI:def 2;
L301: R5 <> C31 by L299 , L295 , TARSKI:def 2;
L302: R4 <> C32 by L299 , L294 , TARSKI:def 2;
L303: ( C28 . C32 ) = C32 by L302 , L288 , L289 , L290 , L297 , L300 , L292 , L269;
L304: ( C29 . C32 ) = ( C27 . C32 ) by L303 , L287 , L297 , L293 , FUNCT_1:12;
L305: R4 <> C31 by L299 , L294 , TARSKI:def 2;
L306: ( C28 . C31 ) = C31 by L305 , L288 , L289 , L290 , L296 , L301 , L292 , L269;
L307: ( C29 . C31 ) = ( C27 . C31 ) by L306 , L287 , L296 , L293 , FUNCT_1:12;
thus L308: contradiction by L307 , L291 , L296 , L297 , L298 , L299 , L304 , L150;
end;
L309: (for R8 being Nat holds (for R11 being Field holds (for R21 being (Element of ( Permutations ( R8 + 2 ) )) holds (for R4 being Nat holds (for R5 being Nat holds ((R4 in ( Seg ( R8 + 2 ) ) & R5 in ( Seg ( R8 + 2 ) ) & R4 < R5 & ( 1_ R11 ) <> ( - ( 1_ R11 ) )) implies ((( ( Part_sgn (R21 , R11) ) . { R4 , R5 } ) = ( 1_ R11 ) implies ( R21 . R4 ) < ( R21 . R5 )) & (( ( Part_sgn (R21 , R11) ) . { R4 , R5 } ) = ( - ( 1_ R11 ) ) implies ( R21 . R4 ) > ( R21 . R5 )))))))))
proof
let R8 being Nat;
let R11 being Field;
let R21 being (Element of ( Permutations ( R8 + 2 ) ));
set D30 = ( R8 + 2 );
let R4 being Nat;
let R5 being Nat;
assume that
L310: R4 in ( Seg D30 )
and
L311: R5 in ( Seg D30 )
and
L312: R4 < R5
and
L313: ( 1_ R11 ) <> ( - ( 1_ R11 ) );
reconsider D31 = R21 as (Permutation of ( Seg D30 )) by MATRIX_2:def 9;
L314: ( D31 . R4 ) <> ( D31 . R5 ) by L310 , L311 , L312 , FUNCT_2:19;
L315: (( R21 . R4 ) < ( R21 . R5 ) or ( R21 . R4 ) > ( R21 . R5 )) by L314 , XXREAL_0:1;
thus L316: (( ( Part_sgn (R21 , R11) ) . { R4 , R5 } ) = ( 1_ R11 ) implies ( R21 . R4 ) < ( R21 . R5 ))
proof
L317: ( D31 . R4 ) <> ( D31 . R5 ) by L310 , L311 , L312 , FUNCT_2:19;
L318: (( R21 . R4 ) < ( R21 . R5 ) or ( R21 . R4 ) > ( R21 . R5 )) by L317 , XXREAL_0:1;
assume L319: ( ( Part_sgn (R21 , R11) ) . { R4 , R5 } ) = ( 1_ R11 );
thus L320: thesis by L319 , L310 , L311 , L312 , L313 , L318 , L44;
end;

assume L321: ( ( Part_sgn (R21 , R11) ) . { R4 , R5 } ) = ( - ( 1_ R11 ) );
thus L322: thesis by L321 , L310 , L311 , L312 , L313 , L315 , L44;
end;
theorem
L323: (for R8 being Nat holds (for R21 being (Element of ( Permutations ( R8 + 2 ) )) holds (for R22 being (Element of ( Permutations ( R8 + 2 ) )) holds (for R23 being (Element of ( Permutations ( R8 + 2 ) )) holds (for R4 being Nat holds (for R5 being Nat holds (for R11 being Field holds ((R23 = ( R21 * R22 ) & R22 is  being_transposition & ( R22 . R4 ) = R5 & R4 < R5 & ( 1_ R11 ) <> ( - ( 1_ R11 ) )) implies (( ( Part_sgn (R21 , R11) ) . { R4 , R5 } ) <> ( ( Part_sgn (R23 , R11) ) . { R4 , R5 } ) & (for R6 being Nat holds ((R6 in ( Seg ( R8 + 2 ) ) & R4 <> R6 & R5 <> R6) implies (( ( Part_sgn (R21 , R11) ) . { R4 , R6 } ) <> ( ( Part_sgn (R23 , R11) ) . { R4 , R6 } ) iff ( ( Part_sgn (R21 , R11) ) . { R5 , R6 } ) <> ( ( Part_sgn (R23 , R11) ) . { R5 , R6 } )))))))))))))
proof
let R8 being Nat;
set D32 = ( R8 + 2 );
let C33 , C34 , C35 being (Element of ( Permutations D32 ));
let R4 being Nat;
let R5 being Nat;
let R11 being Field;
assume that
L324: C35 = ( C33 * C34 )
and
L325: C34 is  being_transposition
and
L326: ( C34 . R4 ) = R5
and
L327: R4 < R5
and
L328: ( 1_ R11 ) <> ( - ( 1_ R11 ) );
L329: R4 in ( dom C34 ) by L325 , L326 , L327 , L269;
set D33 = ( Part_sgn (C35 , R11) );
set D34 = ( Part_sgn (C33 , R11) );
reconsider D35 = C33 , D36 = C34 , D37 = C35 as (Permutation of ( Seg D32 )) by MATRIX_2:def 9;
L330: ( dom D36 ) = ( Seg D32 ) by FUNCT_2:52;
L331: R5 in ( dom C34 ) by L325 , L326 , L327 , L269;
L332: ( dom D37 ) = ( Seg D32 ) by FUNCT_2:52;
L333: ( C35 . R4 ) = ( C33 . R5 ) by L332 , L324 , L326 , L329 , L330 , FUNCT_1:12;
L334: ( C34 . R5 ) = R4 by L325 , L326 , L327 , L269;
L335: ( C35 . R5 ) = ( C33 . R4 ) by L334 , L324 , L331 , L332 , L330 , FUNCT_1:12;
L336: ( dom D35 ) = ( Seg D32 ) by FUNCT_2:52;
L337: ( D35 . R4 ) <> ( D35 . R5 ) by L336 , L327 , L329 , L331 , L330 , FUNCT_1:def 4;
L338:
now
per cases  by L337 , XXREAL_0:1;
suppose L339: ( C33 . R4 ) < ( C33 . R5 );

L340: ( D34 . { R4 , R5 } ) = ( 1_ R11 ) by L339 , L327 , L329 , L331 , L330 , L44;
thus L341: ( D34 . { R4 , R5 } ) <> ( D33 . { R4 , R5 } ) by L340 , L327 , L328 , L329 , L331 , L330 , L333 , L335 , L339 , L44;
end;
suppose L342: ( C33 . R4 ) > ( C33 . R5 );

L343: ( D34 . { R4 , R5 } ) = ( - ( 1_ R11 ) ) by L342 , L327 , L329 , L331 , L330 , L44;
thus L344: ( D34 . { R4 , R5 } ) <> ( D33 . { R4 , R5 } ) by L343 , L327 , L328 , L329 , L331 , L330 , L333 , L335 , L342 , L44;
end;
end;
thus L346: ( D34 . { R4 , R5 } ) <> ( D33 . { R4 , R5 } ) by L338;
let R6 being Nat;
assume that
L347: R6 in ( Seg D32 )
and
L348: R4 <> R6
and
L349: R5 <> R6;
L350: ( C34 . R6 ) = R6 by L325 , L326 , L327 , L330 , L347 , L348 , L349 , L269;
L351: ( C35 . R6 ) = ( C33 . ( C34 . R6 ) ) by L324 , L332 , L347 , FUNCT_1:12;
L352: (R4 < R6 or R6 < R4) by L348 , XXREAL_0:1;
L353: { R4 , R6 } in ( 2Set ( Seg D32 ) ) by L352 , L329 , L330 , L347 , L2;
L354: (( D34 . { R4 , R6 } ) = ( D33 . { R4 , R6 } ) implies ( D34 . { R5 , R6 } ) = ( D33 . { R5 , R6 } ))
proof
L355: (R5 < R6 or R6 < R5) by L349 , XXREAL_0:1;
L356: (R4 < R6 or R4 > R6) by L348 , XXREAL_0:1;
assume L357: ( D34 . { R4 , R6 } ) = ( D33 . { R4 , R6 } );
L358: (( D34 . { R6 , R4 } ) = ( 1_ R11 ) or ( D34 . { R6 , R4 } ) = ( - ( 1_ R11 ) )) by L353 , L141;
L359: ((( C35 . R5 ) < ( C35 . R6 ) & ( C33 . R5 ) < ( C33 . R6 )) or (( C35 . R5 ) > ( C35 . R6 ) & ( C33 . R5 ) > ( C33 . R6 ))) by L358 , L328 , L329 , L330 , L333 , L335 , L347 , L350 , L351 , L357 , L356 , L309;
L360: ((( D33 . { R5 , R6 } ) = ( 1_ R11 ) & ( D34 . { R5 , R6 } ) = ( 1_ R11 )) or (( D33 . { R5 , R6 } ) = ( - ( 1_ R11 ) ) & ( D34 . { R5 , R6 } ) = ( - ( 1_ R11 ) ))) by L359 , L331 , L330 , L347 , L355 , L44;
thus L361: thesis by L360;
end;
L362: (R5 < R6 or R6 < R5) by L349 , XXREAL_0:1;
L363: { R5 , R6 } in ( 2Set ( Seg D32 ) ) by L362 , L331 , L330 , L347 , L2;
L364: (( D34 . { R5 , R6 } ) = ( D33 . { R5 , R6 } ) implies ( D34 . { R4 , R6 } ) = ( D33 . { R4 , R6 } ))
proof
L365: (R4 < R6 or R6 < R4) by L348 , XXREAL_0:1;
L366: (R5 < R6 or R5 > R6) by L349 , XXREAL_0:1;
assume L367: ( D34 . { R5 , R6 } ) = ( D33 . { R5 , R6 } );
L368: (( D34 . { R6 , R5 } ) = ( 1_ R11 ) or ( D34 . { R6 , R5 } ) = ( - ( 1_ R11 ) )) by L363 , L141;
L369: ((( C35 . R4 ) < ( C35 . R6 ) & ( C33 . R4 ) < ( C33 . R6 )) or (( C35 . R4 ) > ( C35 . R6 ) & ( C33 . R4 ) > ( C33 . R6 ))) by L368 , L328 , L331 , L330 , L333 , L335 , L347 , L350 , L351 , L367 , L366 , L309;
L370: ((( D33 . { R4 , R6 } ) = ( 1_ R11 ) & ( D34 . { R4 , R6 } ) = ( 1_ R11 )) or (( D33 . { R4 , R6 } ) = ( - ( 1_ R11 ) ) & ( D34 . { R4 , R6 } ) = ( - ( 1_ R11 ) ))) by L369 , L329 , L330 , L347 , L365 , L44;
thus L371: thesis by L370;
end;
thus L372: thesis by L364 , L354;
end;
definition
let R8 being Nat;
let R11 being Field;
let C36 being (Element of ( Permutations ( R8 + 2 ) ));
func sgn (C36 , R11) -> (Element of R11) equals 
( (the multF of R11) $$ (( FinOmega ( 2Set ( Seg ( R8 + 2 ) ) ) ) , ( Part_sgn (C36 , R11) )) );
coherence;
end;
theorem
L374: (for R8 being Nat holds (for R11 being Field holds (for R21 being (Element of ( Permutations ( R8 + 2 ) )) holds (( sgn (R21 , R11) ) = ( 1_ R11 ) or ( sgn (R21 , R11) ) = ( - ( 1_ R11 ) )))))
proof
let R8 being Nat;
let R11 being Field;
let R21 being (Element of ( Permutations ( R8 + 2 ) ));
set D38 = (the carrier of R11);
set D39 = ( R8 + 2 );
set D40 = ( 2Set ( Seg D39 ) );
set D41 = (the multF of R11);
set D42 = ( Part_sgn (R21 , R11) );
L375: ( FinOmega D40 ) = D40 by MATRIX_2:def 14;
reconsider D43 = D40 as (Element of ( Fin D40 )) by L375;
consider C37 being (Function of ( Fin D40 ) , D38) such that L376: ( D41 $$ (D43 , D42) ) = ( C37 . D43 ) and L377: (for B32 being (Element of D38) holds (B32 is_a_unity_wrt D41 implies ( C37 . ( {} ) ) = B32)) and L378: (for R25 being (Element of ( 2Set ( Seg ( R8 + 2 ) ) )) holds ( C37 . { R25 } ) = ( D42 . R25 )) and L379: (for B33 being (Element of ( Fin D40 )) holds ((B33 c= D43 & B33 <> ( {} )) implies (for R25 being (Element of ( 2Set ( Seg ( R8 + 2 ) ) )) holds (R25 in ( D43 \ B33 ) implies ( C37 . ( B33 \/ { R25 } ) ) = ( D41 . (( C37 . B33 ) , ( D42 . R25 )) ))))) by SETWISEO:def 3;
defpred S4[ Nat ] means (for B34 being (Element of ( Fin D40 )) holds ((( card B34 ) = $1 & B34 c= D40) implies (( C37 . B34 ) = ( 1_ R11 ) or ( C37 . B34 ) = ( - ( 1_ R11 ) ))));
L380: (for B35 being (Element of ( NAT )) holds (S4[ B35 ] implies S4[ ( B35 + 1 ) ]))
proof
let C38 being (Element of ( NAT ));
assume that
L381: S4[ C38 ];
set D44 = ( C38 + 1 );
let C39 being (Element of ( Fin D40 ));
assume that
L382: ( card C39 ) = D44
and
L383: C39 c= D40;
L384:
now
per cases ;
case L385: C38 = ( 0 );
consider R1 being set such that L386: C39 = { R1 } by L385 , L382 , CARD_2:42;
L387: R1 in C39 by L386 , TARSKI:def 1;
reconsider D45 = R1 as (Element of D40) by L387 , L383;
L388: ( C37 . C39 ) = ( D42 . D45 ) by L378 , L386;
thus L389: thesis by L388 , L141;
end;
case L390: C38 > ( 0 );
consider R1 being set such that L391: R1 in C39 by L382 , CARD_1:27 , XBOOLE_0:def 1;
reconsider D46 = R1 as (Element of D40) by L383 , L391;
L392: ( C39 \ { D46 } ) c= D40 by L383 , XBOOLE_1:1;
reconsider D47 = ( C39 \ { D46 } ) as (Element of ( Fin D40 )) by L392 , FINSUB_1:def 5;
L393: (not D46 in D47) by ZFMISC_1:56;
L394: ( { D46 } \/ D47 ) = C39 by L391 , ZFMISC_1:116;
L395: ( C38 + 1 ) = ( ( card D47 ) + 1 ) by L394 , L382 , L393 , CARD_2:41;
L396: (( C37 . D47 ) = ( 1_ R11 ) or ( C37 . D47 ) = ( - ( 1_ R11 ) )) by L395 , L381 , L383 , XBOOLE_1:1;
L397: D46 in ( D40 \ D47 ) by L393 , XBOOLE_0:def 5;
L398: ( C37 . C39 ) = ( D41 . (( C37 . D47 ) , ( D42 . D46 )) ) by L397 , L379 , L383 , L390 , L394 , L395 , CARD_1:27 , XBOOLE_1:1;
L399: (( C37 . C39 ) = ( ( 1_ R11 ) * ( 1_ R11 ) ) or ( C37 . C39 ) = ( ( 1_ R11 ) * ( - ( 1_ R11 ) ) ) or ( C37 . C39 ) = ( ( - ( 1_ R11 ) ) * ( 1_ R11 ) ) or ( C37 . C39 ) = ( ( - ( 1_ R11 ) ) * ( - ( 1_ R11 ) ) )) by L398 , L396 , L141;
L400: (( C37 . C39 ) = ( ( 1_ R11 ) * ( 1_ R11 ) ) or ( C37 . C39 ) = ( ( 1_ R11 ) * ( - ( 1_ R11 ) ) )) by L399 , VECTSP_1:10;
thus L401: thesis by L400 , VECTSP_1:def 4;
end;
end;
thus L403: thesis by L384;
end;
L404: S4[ ( 0 ) ]
proof
let C40 being (Element of ( Fin D40 ));
assume that
L405: ( card C40 ) = ( 0 )
and
L406: C40 c= D40;
L407: C40 = ( {} ) by L405;
thus L408: thesis by L407 , L377 , FVSUM_1:4;
end;
L409: (for B36 being (Element of ( NAT )) holds S4[ B36 ]) from NAT_1:sch 1(L404 , L380);
L410: S4[ ( card D43 ) ] by L409;
thus L411: thesis by L410 , L375 , L376;
end;
theorem
L412: (for R8 being Nat holds (for R11 being Field holds (for B37 being (Element of ( Permutations ( R8 + 2 ) )) holds (B37 = ( idseq ( R8 + 2 ) ) implies ( sgn (B37 , R11) ) = ( 1_ R11 )))))
proof
let R8 being Nat;
let R11 being Field;
set D48 = ( R8 + 2 );
let C41 being (Element of ( Permutations D48 ));
assume that
L413: C41 = ( idseq D48 );
set D49 = ( Part_sgn (C41 , R11) );
set D50 = ( 2Set ( Seg D48 ) );
L414: ( FinOmega D50 ) = D50 by MATRIX_2:def 14;
reconsider D51 = D50 as (Element of ( Fin D50 )) by L414;
L415:
now
let R1 being set;
assume L416: R1 in D51;
consider R4 being Nat, R5 being Nat such that L417: R4 in ( Seg D48 ) and L418: R5 in ( Seg D48 ) and L419: R4 < R5 and L420: R1 = { R4 , R5 } by L416 , L2;
L421: ( C41 . R5 ) = R5 by L413 , L418 , FUNCT_1:18;
L422: ( C41 . R4 ) = R4 by L413 , L417 , FUNCT_1:18;
thus L423: ( D49 . R1 ) = ( 1_ R11 ) by L422 , L417 , L418 , L419 , L420 , L421 , L44;
end;
thus L424: thesis by L415 , L414 , L101;
end;
L425: (for R3 being set holds (for R4 being Nat holds (for R8 being Nat holds ((R3 in ( 2Set ( Seg R8 ) ) & R4 in R3) implies (R4 in ( Seg R8 ) & (ex R5 being Nat st (R5 in ( Seg R8 ) & R4 <> R5 & R3 = { R4 , R5 })))))))
proof
let R3 being set;
let R4 being Nat;
let R8 being Nat;
assume that
L426: R3 in ( 2Set ( Seg R8 ) )
and
L427: R4 in R3;
consider C42 , C43 being Nat such that L428: C42 in ( Seg R8 ) and L429: C43 in ( Seg R8 ) and L430: C42 < C43 and L431: R3 = { C42 , C43 } by L426 , L2;
L432:
now
per cases  by L427 , L431 , TARSKI:def 2;
case L433: R4 = C42;
thus L434: thesis by L433 , L428 , L429 , L430 , L431;
end;
case L435: R4 = C43;
thus L436: thesis by L435 , L428 , L429 , L430 , L431;
end;
end;
thus L438: thesis by L432;
end;
theorem
L439: (for R8 being Nat holds (for R11 being Field holds (for R21 being (Element of ( Permutations ( R8 + 2 ) )) holds (for R22 being (Element of ( Permutations ( R8 + 2 ) )) holds (for R23 being (Element of ( Permutations ( R8 + 2 ) )) holds ((R23 = ( R21 * R22 ) & R22 is  being_transposition) implies ( sgn (R23 , R11) ) = ( - ( sgn (R21 , R11) ) )))))))
proof
let R8 being Nat;
let R11 being Field;
set D52 = ( R8 + 2 );
set D53 = ( 2Set ( Seg D52 ) );
let C44 , C45 , C46 being (Element of ( Permutations D52 ));
assume that
L440: C46 = ( C44 * C45 )
and
L441: C45 is  being_transposition;
L442: ( FinOmega D53 ) = D53 by MATRIX_2:def 14;
reconsider D54 = D53 as (Element of ( Fin D53 )) by L442;
L443: (for R4 being Nat holds (for R5 being Nat holds ((R4 < R5 & ( C45 . R4 ) = R5) implies ( sgn (C46 , R11) ) = ( - ( sgn (C44 , R11) ) ))))
proof
let R4 being Nat;
let R5 being Nat;
assume that
L444: R4 < R5
and
L445: ( C45 . R4 ) = R5;
L446:
now
per cases ;
suppose L447: ( 1_ R11 ) = ( - ( 1_ R11 ) );

L448: ( sgn (C46 , R11) ) = ( - ( 1_ R11 ) ) by L447 , L374;
thus L449: thesis by L448 , L447 , L374;
end;
suppose L450: ( 1_ R11 ) <> ( - ( 1_ R11 ) );

set D55 = ( Part_sgn (C44 , R11) );
set D56 = ( Part_sgn (C46 , R11) );
L451: ( D56 . { R4 , R5 } ) <> ( D55 . { R4 , R5 } ) by L440 , L441 , L444 , L445 , L450 , L323;
defpred S5[ set , set ] means (for R6 being Nat holds ((R6 in $1 & R6 <> R4) implies ((R6 <> R5 implies $2 = { R5 , R6 }) & (R6 = R5 implies $2 = { R4 , R5 }))));
set D57 = { R25 where R25 is (Element of ( 2Set ( Seg ( R8 + 2 ) ) )) : (R25 in D54 & ( ( Part_sgn (C46 , R11) ) . R25 ) <> ( ( Part_sgn (C44 , R11) ) . R25 )) };
L452: D57 c= D54
proof
let R1 being set;
assume L453: R1 in D57;
L454: (ex R25 being (Element of ( 2Set ( Seg ( R8 + 2 ) ) )) st (R1 = R25 & R25 in D54 & ( D56 . R25 ) <> ( D55 . R25 ))) by L453;
thus L455: thesis by L454;
end;
reconsider D58 = D57 as  finite set by L452;
set D59 = { R25 where R25 is (Element of ( 2Set ( Seg ( R8 + 2 ) ) )) : (R25 in D54 & ( D56 . R25 ) <> ( D55 . R25 ) & R4 in R25) };
set D60 = { R25 where R25 is (Element of ( 2Set ( Seg ( R8 + 2 ) ) )) : (R25 in D54 & ( D56 . R25 ) <> ( D55 . R25 ) & R5 in R25) };
L456: D59 c= D58
proof
let R1 being set;
assume L457: R1 in D59;
L458: (ex R25 being (Element of ( 2Set ( Seg ( R8 + 2 ) ) )) st (R1 = R25 & R25 in D54 & ( D56 . R25 ) <> ( D55 . R25 ) & R4 in R25)) by L457;
thus L459: thesis by L458;
end;
L460: D60 c= D58
proof
let R1 being set;
assume L461: R1 in D60;
L462: (ex R25 being (Element of ( 2Set ( Seg ( R8 + 2 ) ) )) st (R1 = R25 & R25 in D54 & ( D56 . R25 ) <> ( D55 . R25 ) & R5 in R25)) by L461;
thus L463: thesis by L462;
end;
reconsider D61 = D59 , D62 = D60 as  finite set by L460 , L456;
L464: R5 in ( dom C45 ) by L441 , L444 , L445 , L269;
L465: D58 c= ( D61 \/ D62 )
proof
let R1 being set;
assume L466: R1 in D58;
consider R25 being (Element of ( 2Set ( Seg ( R8 + 2 ) ) )) such that L467: R1 = R25 and L468: R25 in D54 and L469: ( D56 . R25 ) <> ( D55 . R25 ) by L466;
L470: (R4 in R25 or R5 in R25) by L440 , L441 , L444 , L445 , L469 , L286;
L471: (R1 in D61 or R1 in D62) by L470 , L467 , L469;
thus L472: thesis by L471 , XBOOLE_0:def 3;
end;
L473: ( D61 \/ D62 ) c= D58 by L456 , L460 , XBOOLE_1:8;
L474: ( D61 \/ D62 ) = D58 by L473 , L465 , XBOOLE_0:def 10;
L475: ( D61 /\ D62 ) c= { { R4 , R5 } }
proof
let R1 being set;
assume L476: R1 in ( D61 /\ D62 );
L477: R1 in D61 by L476 , XBOOLE_0:def 4;
L478: (ex B38 being (Element of D53) st (R1 = B38 & B38 in D54 & ( D56 . B38 ) <> ( D55 . B38 ) & R4 in B38)) by L477;
consider C47 , C48 being Nat such that L479: C47 in ( Seg D52 ) and L480: C48 in ( Seg D52 ) and L481: C47 < C48 and L482: { C47 , C48 } = R1 by L478 , L2;
L483: R1 in D62 by L476 , XBOOLE_0:def 4;
L484: (ex B39 being (Element of D53) st (R1 = B39 & B39 in D54 & ( D56 . B39 ) <> ( D55 . B39 ) & R5 in B39)) by L483;
L485: (R5 = C47 or R5 = C48) by L484 , L482 , TARSKI:def 2;
L486: (R4 = C47 or R4 = C48) by L478 , L482 , TARSKI:def 2;
thus L487: thesis by L486 , L444 , L482 , L485 , TARSKI:def 1;
end;
L488: C45 is (Permutation of ( Seg D52 )) by MATRIX_2:def 9;
L489: ( dom C45 ) = ( Seg D52 ) by L488 , FUNCT_2:52;
L490: R4 in ( dom C45 ) by L441 , L444 , L445 , L269;
L491: { R4 , R5 } in D54 by L490 , L444 , L464 , L489 , L2;
L492: R4 in { R4 , R5 } by TARSKI:def 2;
L493: { R4 , R5 } in D61 by L492 , L491 , L451;
L494: ( card D61 ) > ( 0 ) by L493;
reconsider D63 = ( ( card D61 ) - 1 ) as Nat by L494 , NAT_1:20;
L495: R5 in { R4 , R5 } by TARSKI:def 2;
L496: { R4 , R5 } in D62 by L495 , L491 , L451;
L497: (for R1 being set holds (R1 in D61 implies (ex B40 being set st (B40 in D62 & S5[ R1 , B40 ]))))
proof
let R1 being set;
assume L498: R1 in D61;
consider R25 being (Element of ( 2Set ( Seg ( R8 + 2 ) ) )) such that L499: R1 = R25 and L500: R25 in D54 and L501: ( D56 . R25 ) <> ( D55 . R25 ) and L502: R4 in R25 by L498;
consider C49 being Nat such that L503: C49 in ( Seg D52 ) and L504: C49 <> R4 and L505: R25 = { R4 , C49 } by L502 , L425;
L506:
now
per cases ;
suppose L507: C49 = R5;

take D64 = { R4 , R5 };
thus L508: D64 in D62 by L495 , L491 , L451;
let R6 being Nat;
assume that
L509: R6 in R1
and
L510: R6 <> R4;
thus L511: ((R6 <> R5 implies D64 = { R5 , R6 }) & (R6 = R5 implies D64 = { R4 , R5 })) by L499 , L505 , L507 , L509 , TARSKI:def 2;
end;
suppose L512: C49 <> R5;

take D65 = { R5 , C49 };
L513: (R5 < C49 or R5 > C49) by L512 , XXREAL_0:1;
L514: D65 in D53 by L513 , L464 , L489 , L503 , L2;
L515: R5 in D65 by TARSKI:def 2;
L516: ( D56 . D65 ) <> ( D55 . D65 ) by L440 , L441 , L444 , L445 , L450 , L501 , L503 , L504 , L505 , L512 , L323;
thus L517: D65 in D62 by L516 , L515 , L514;
let R6 being Nat;
assume that
L518: R6 in R1
and
L519: R6 <> R4;
thus L520: ((R6 <> R5 implies D65 = { R5 , R6 }) & (R6 = R5 implies D65 = { R4 , R5 })) by L499 , L505 , L512 , L518 , L519 , TARSKI:def 2;
end;
end;
thus L522: thesis by L506;
end;
consider C50 being (Function of D61 , D62) such that L523: (for R1 being set holds (R1 in D61 implies S5[ R1 , ( C50 . R1 ) ])) from FUNCT_2:sch 1(L497);
L524: { R4 , R5 } in D62 by L495 , L491 , L451;
L525: ( dom C50 ) = D61 by L524 , FUNCT_2:def 1;
L526: (for B41 being set holds (B41 in D62 implies (ex R1 being set st (R1 in D61 & B41 = ( C50 . R1 )))))
proof
let C51 being set;
assume L527: C51 in D62;
consider R25 being (Element of ( 2Set ( Seg ( R8 + 2 ) ) )) such that L528: R25 = C51 and L529: R25 in D54 and L530: ( D56 . R25 ) <> ( D55 . R25 ) and L531: R5 in R25 by L527;
consider C52 being Nat such that L532: C52 in ( Seg D52 ) and L533: C52 <> R5 and L534: R25 = { R5 , C52 } by L531 , L425;
L535:
now
per cases ;
suppose L536: C52 = R4;

L537: { R4 , R5 } in D61 by L492 , L491 , L451;
L538: ( C50 . R25 ) = C51 by L537 , L444 , L495 , L523 , L528 , L534 , L536;
thus L539: thesis by L538 , L534 , L536 , L537;
end;
suppose L540: C52 <> R4;

L541: (R4 < C52 or R4 > C52) by L540 , XXREAL_0:1;
L542: { R4 , C52 } in D53 by L541 , L490 , L489 , L532 , L2;
L543: R4 in { R4 , C52 } by TARSKI:def 2;
L544: ( D56 . { R4 , C52 } ) <> ( D55 . { R4 , C52 } ) by L440 , L441 , L444 , L445 , L450 , L530 , L532 , L533 , L534 , L540 , L323;
L545: { R4 , C52 } in D61 by L544 , L542 , L543;
L546: C52 in { R4 , C52 } by TARSKI:def 2;
L547: ( C50 . { R4 , C52 } ) = { R5 , C52 } by L546 , L523 , L533 , L540 , L545;
thus L548: thesis by L547 , L528 , L534 , L545;
end;
end;
thus L550: thesis by L535;
end;
L551: ( rng C50 ) = D62 by L526 , FUNCT_2:10;
L552: (for B42 , B43 being set holds ((B42 in D61 & B43 in D61 & ( C50 . B42 ) = ( C50 . B43 )) implies B42 = B43))
proof
let C53 , C54 being set;
assume that
L553: C53 in D61
and
L554: C54 in D61
and
L555: ( C50 . C53 ) = ( C50 . C54 );
consider C55 being (Element of D53) such that L556: C53 = C55 and L557: C55 in D54 and L558: ( D56 . C55 ) <> ( D55 . C55 ) and L559: R4 in C55 by L553;
consider C56 being Nat such that L560: C56 in ( Seg D52 ) and L561: R4 <> C56 and L562: { R4 , C56 } = C55 by L559 , L425;
consider C57 being (Element of D53) such that L563: C54 = C57 and L564: C57 in D54 and L565: ( D56 . C57 ) <> ( D55 . C57 ) and L566: R4 in C57 by L554;
consider C58 being Nat such that L567: C58 in ( Seg D52 ) and L568: R4 <> C58 and L569: { R4 , C58 } = C57 by L566 , L425;
L570: C58 in C57 by L569 , TARSKI:def 2;
L571: C56 in C55 by L562 , TARSKI:def 2;
L572:
now
per cases ;
case L573: (R5 = C56 & R5 = C58);
thus L574: thesis by L573 , L556 , L562 , L563 , L569;
end;
case L575: (R5 <> C56 & R5 = C58);
L576: ( C50 . C54 ) = { R4 , R5 } by L575 , L523 , L554 , L563 , L568 , L570;
L577: ( C50 . C53 ) = { R5 , C56 } by L523 , L553 , L556 , L561 , L571 , L575;
thus L578: thesis by L577 , L444 , L555 , L561 , L566 , L569 , L575 , L576 , TARSKI:def 2;
end;
case L579: (R5 = C56 & R5 <> C58);
L580: ( C50 . C54 ) = { R5 , C58 } by L579 , L523 , L554 , L563 , L568 , L570;
L581: ( C50 . C53 ) = { R4 , R5 } by L523 , L553 , L556 , L561 , L571 , L579;
thus L582: thesis by L581 , L444 , L555 , L559 , L562 , L568 , L579 , L580 , TARSKI:def 2;
end;
case L583: (R5 <> C56 & R5 <> C58);
L584: ( C50 . C54 ) = { R5 , C58 } by L583 , L523 , L554 , L563 , L568 , L570;
L585: C56 in { R5 , C56 } by TARSKI:def 2;
L586: ( C50 . C53 ) = { R5 , C56 } by L523 , L553 , L556 , L561 , L571 , L583;
thus L587: thesis by L586 , L555 , L556 , L562 , L563 , L569 , L583 , L584 , L585 , TARSKI:def 2;
end;
end;
thus L589: thesis by L572;
end;
L590: C50 is  one-to-one by L552 , L524 , FUNCT_2:19;
L591: D61 , D62 are_equipotent  by L590 , L551 , L525 , WELLORD2:def 4;
L592: ( card D61 ) = ( card D62 ) by L591 , CARD_1:5;
L593: { R4 , R5 } in D61 by L492 , L491 , L451;
L594: { R4 , R5 } in ( D61 /\ D62 ) by L593 , L496 , XBOOLE_0:def 4;
L595: { { R4 , R5 } } c= ( D61 /\ D62 ) by L594 , ZFMISC_1:31;
L596: ( D61 /\ D62 ) = { { R4 , R5 } } by L595 , L475 , XBOOLE_0:def 10;
L597: ( card D58 ) = ( ( ( card D61 ) + ( card D61 ) ) - ( card { { R4 , R5 } } ) ) by L596 , L592 , L474 , CARD_2:45
.= ( ( ( D63 + 1 ) + ( D63 + 1 ) ) - 1 ) by CARD_1:30
.= ( ( 2 * D63 ) + 1 );
L598: ( ( card D58 ) mod 2 ) = ( 1 mod 2 ) by L597 , NAT_D:21;
thus L599: thesis by L598 , L442 , L166 , NAT_D:14;
end;
end;
thus L601: thesis by L446;
end;
consider R4 being Nat, R5 being Nat such that L602: R4 in ( dom C45 ) and L603: R5 in ( dom C45 ) and L604: R4 <> R5 and L605: ( C45 . R4 ) = R5 and L606: ( C45 . R5 ) = R4 and L607: (for R6 being Nat holds ((R6 <> R4 & R6 <> R5 & R6 in ( dom C45 )) implies ( C45 . R6 ) = R6)) by L441 , MATRIX_2:def 11;
L608: (R4 < R5 or R5 < R4) by L604 , XXREAL_0:1;
thus L609: thesis by L608 , L443 , L605 , L606;
end;
theorem
L610: (for R8 being Nat holds (for R11 being Field holds (for B44 being (Element of ( Permutations ( R8 + 2 ) )) holds (B44 is  being_transposition implies ( sgn (B44 , R11) ) = ( - ( 1_ R11 ) )))))
proof
let R8 being Nat;
let R11 being Field;
set D66 = ( R8 + 2 );
set D67 = ( Seg D66 );
let C59 being (Element of ( Permutations D66 ));
assume that
L611: C59 is  being_transposition;
reconsider D68 = C59 as (Permutation of D67) by MATRIX_2:def 9;
reconsider D69 = ( idseq D66 ) , D70 = ( ( id D67 ) * D68 ) as (Element of ( Permutations D66 )) by MATRIX_2:def 9;
L612: ( rng D68 ) = D67 by FUNCT_2:def 3;
L613: D70 = D68 by L612 , RELAT_1:54;
L614: ( sgn (C59 , R11) ) = ( - ( sgn (D69 , R11) ) ) by L613 , L611 , L439;
thus L615: thesis by L614 , L412;
end;
theorem
L616: (for R8 being Nat holds (for R11 being Field holds (for B45 being (FinSequence of ( Group_of_Perm ( R8 + 2 ) )) holds (for B46 being (Element of ( Permutations ( R8 + 2 ) )) holds ((B46 = ( Product B45 ) & (for R4 being Nat holds (R4 in ( dom B45 ) implies (ex B47 being (Element of ( Permutations ( R8 + 2 ) )) st (( B45 . R4 ) = B47 & B47 is  being_transposition))))) implies ((( ( len B45 ) mod 2 ) = ( 0 ) implies ( sgn (B46 , R11) ) = ( 1_ R11 )) & (( ( len B45 ) mod 2 ) = 1 implies ( sgn (B46 , R11) ) = ( - ( 1_ R11 ) ))))))))
proof
let R8 being Nat;
let R11 being Field;
set D71 = ( R8 + 2 );
set D72 = ( Group_of_Perm D71 );
defpred S6[ Nat ] means (for B48 being (FinSequence of D72) holds (for R21 being (Element of ( Permutations ( R8 + 2 ) )) holds ((R21 = ( Product B48 ) & ( len B48 ) = $1 & (for R4 being Nat holds (R4 in ( dom B48 ) implies (ex B49 being (Element of ( Permutations D71 )) st (( B48 . R4 ) = B49 & B49 is  being_transposition))))) implies ((( ( len B48 ) mod 2 ) = ( 0 ) implies ( sgn (R21 , R11) ) = ( 1_ R11 )) & (( ( len B48 ) mod 2 ) = 1 implies ( sgn (R21 , R11) ) = ( - ( 1_ R11 ) ))))));
L617: (for B50 being (Element of ( NAT )) holds (S6[ B50 ] implies S6[ ( B50 + 1 ) ]))
proof
let C60 being (Element of ( NAT ));
assume that
L618: S6[ C60 ];
set D73 = ( C60 + 1 );
let C61 being (FinSequence of D72);
let R21 being (Element of ( Permutations ( R8 + 2 ) ));
assume that
L619: R21 = ( Product C61 )
and
L620: ( len C61 ) = D73
and
L621: (for R4 being Nat holds (R4 in ( dom C61 ) implies (ex B51 being (Element of ( Permutations D71 )) st (( C61 . R4 ) = B51 & B51 is  being_transposition))));
L622: ( Seg ( len C61 ) ) = ( dom C61 ) by FINSEQ_1:def 3;
consider C62 being set, C63 being FinSequence such that L623: C61 = ( <* C62 *> ^ C63 ) and L624: ( len C61 ) = ( ( len C63 ) + 1 ) by L622 , L620 , RELAT_1:38 , REWRITE1:5;
reconsider D74 = <* C62 *> , D75 = C63 as (FinSequence of D72) by L623 , FINSEQ_1:36;
L625: (for R4 being Nat holds (R4 in ( dom D75 ) implies (ex B52 being (Element of ( Permutations D71 )) st (( D75 . R4 ) = B52 & B52 is  being_transposition))))
proof
let R4 being Nat;
assume that
L626: R4 in ( dom D75 );
L627: ( D75 . R4 ) = ( C61 . ( ( len D74 ) + R4 ) ) by L623 , L626 , FINSEQ_1:def 7;
thus L628: thesis by L627 , L621 , L623 , L626 , FINSEQ_1:28;
end;
L629: ( 1 + ( 0 ) ) <= D73 by XREAL_1:7;
L630: 1 in ( Seg D73 ) by L629;
L631: 1 in ( dom C61 ) by L630 , L620 , FINSEQ_1:def 3;
L632: ( C61 . 1 ) = C62 by L623 , FINSEQ_1:41;
consider C64 being (Element of ( Permutations D71 )) such that L633: C62 = C64 and L634: C64 is  being_transposition by L632 , L621 , L631;
reconsider D76 = ( Product D75 ) as (Element of ( Permutations D71 )) by MATRIX_2:def 10;
reconsider D77 = C64 as (Element of D72) by MATRIX_2:def 10;
L635: R21 = ( D77 * ( Product D75 ) ) by L619 , L623 , L633 , GROUP_4:7
.= ( D76 * C64 ) by MATRIX_2:def 10;
L636: ( sgn (R21 , R11) ) = ( - ( sgn (D76 , R11) ) ) by L635 , L634 , L439;
L637:
now
per cases  by NAT_D:12;
suppose L638: ( ( len D75 ) mod 2 ) = ( 0 );

L639: ( 0 ) < ( 2 - 1 );
L640: ( ( len C61 ) mod 2 ) = ( ( 0 ) + 1 ) by L639 , L624 , L638 , NAT_D:70;
L641: ( sgn (D76 , R11) ) = ( 1_ R11 ) by L618 , L620 , L624 , L625 , L638;
thus L642: thesis by L641 , L634 , L635 , L640 , L439;
end;
suppose L643: ( ( len D75 ) mod 2 ) = 1;

L644: ( 2 - 1 ) = 1;
L645: ( sgn (D76 , R11) ) = ( - ( 1_ R11 ) ) by L618 , L620 , L624 , L625 , L643;
thus L646: thesis by L645 , L624 , L636 , L643 , L644 , NAT_D:69 , RLVECT_1:17;
end;
end;
thus L648: thesis by L637;
end;
L649: S6[ ( 0 ) ]
proof
let C65 being (FinSequence of D72);
let R21 being (Element of ( Permutations ( R8 + 2 ) ));
assume that
L650: R21 = ( Product C65 )
and
L651: ( len C65 ) = ( 0 )
and
L652: (for R4 being Nat holds (R4 in ( dom C65 ) implies (ex B53 being (Element of ( Permutations D71 )) st (( C65 . R4 ) = B53 & B53 is  being_transposition))));
L653: C65 = ( <*> (the carrier of D72) ) by L651;
L654: ( Product C65 ) = ( 1_ D72 ) by L653 , GROUP_4:8;
L655: ( Product C65 ) = ( idseq D71 ) by L654 , MATRIX_2:24;
thus L656: thesis by L655 , L650 , L651 , L412 , NAT_D:26;
end;
L657: (for B54 being (Element of ( NAT )) holds S6[ B54 ]) from NAT_1:sch 1(L649 , L617);
thus L658: thesis by L657;
end;
theorem
L659: (for R4 being Nat holds (for R5 being Nat holds (for R8 being Nat holds ((R4 < R5 & R4 in ( Seg R8 ) & R5 in ( Seg R8 )) implies (ex B55 being (Element of ( Permutations R8 )) st (B55 is  being_transposition & ( B55 . R4 ) = R5))))))
proof
let R4 being Nat;
let R5 being Nat;
let R8 being Nat;
assume that
L660: R4 < R5
and
L661: R4 in ( Seg R8 )
and
L662: R5 in ( Seg R8 );
defpred S7[ set , set ] means (for R6 being Nat holds ((R6 in ( Seg R8 ) & R6 = $1) implies ((R6 = R4 implies $2 = R5) & (R6 = R5 implies $2 = R4) & ((R6 <> R4 & R6 <> R5) implies $2 = R6))));
L663: (for R1 being set holds (R1 in ( Seg R8 ) implies (ex B56 being set st (B56 in ( Seg R8 ) & S7[ R1 , B56 ]))))
proof
let R1 being set;
assume that
L664: R1 in ( Seg R8 );
reconsider D78 = R1 as Nat by L664;
L665:
now
per cases ;
suppose L666: D78 = R4;

L667: S7[ R1 , R5 ] by L666;
thus L668: thesis by L667 , L662;
end;
suppose L669: D78 = R5;

L670: S7[ R1 , R4 ] by L669;
thus L671: thesis by L670 , L661;
end;
suppose L672: (D78 <> R4 & D78 <> R5);

L673: S7[ R1 , R1 ] by L672;
thus L674: thesis by L673 , L664;
end;
end;
thus L676: thesis by L665;
end;
consider C66 being (Function of ( Seg R8 ) , ( Seg R8 )) such that L677: (for R1 being set holds (R1 in ( Seg R8 ) implies S7[ R1 , ( C66 . R1 ) ])) from FUNCT_2:sch 1(L663);
L678: (for B57 , B58 being set holds ((B57 in ( Seg R8 ) & B58 in ( Seg R8 ) & ( C66 . B57 ) = ( C66 . B58 )) implies B57 = B58))
proof
let C67 , C68 being set;
assume that
L679: C67 in ( Seg R8 )
and
L680: C68 in ( Seg R8 )
and
L681: ( C66 . C67 ) = ( C66 . C68 );
reconsider D79 = C67 as Nat by L679;
L682: (C67 = R4 or C67 = R5 or (C67 <> R4 & C67 <> R5));
L683: ((C67 = R4 & ( C66 . C67 ) = R5) or (C67 = R5 & ( C66 . C67 ) = R4) or (C67 <> R4 & C67 <> R5 & ( C66 . C67 ) = D79)) by L682 , L677 , L679;
L684: (C68 = R4 or C68 = R5 or (C68 <> R4 & C68 <> R5));
thus L685: thesis by L684 , L677 , L680 , L681 , L683;
end;
L686: C66 is  one-to-one by L678 , L661 , FUNCT_2:19;
L687: (for R2 being set holds (R2 in ( Seg R8 ) implies (ex R1 being set st (R1 in ( Seg R8 ) & R2 = ( C66 . R1 )))))
proof
let R2 being set;
assume that
L688: R2 in ( Seg R8 );
reconsider D80 = R2 as Nat by L688;
L689: ((D80 = R4 & ( C66 . R5 ) = R4) or (D80 = R5 & ( C66 . R4 ) = R5) or (D80 <> R4 & D80 <> R5 & ( C66 . D80 ) = D80)) by L661 , L662 , L677 , L688;
thus L690: thesis by L689 , L661 , L662 , L688;
end;
L691: ( rng C66 ) = ( Seg R8 ) by L687 , FUNCT_2:10;
L692: C66 is  onto by L691 , FUNCT_2:def 3;
reconsider D81 = C66 as (Element of ( Permutations R8 )) by L692 , L686 , MATRIX_2:def 9;
L693: ( D81 . R5 ) = R4 by L662 , L677;
L694: ( dom D81 ) = ( Seg R8 ) by L661 , FUNCT_2:def 1;
L695: (for R6 being Nat holds ((R6 <> R4 & R6 <> R5 & R6 in ( dom D81 )) implies ( D81 . R6 ) = R6)) by L694 , L677;
take D81;
L696: R4 in ( dom D81 ) by L661 , FUNCT_2:def 1;
L697: R5 in ( dom D81 ) by L662 , FUNCT_2:def 1;
L698: ( D81 . R4 ) = R5 by L661 , L677;
thus L699: thesis by L698 , L660 , L696 , L697 , L693 , L695 , MATRIX_2:def 11;
end;
theorem
L700: (for R6 being Nat holds (for B59 being (Element of ( Permutations ( R6 + 1 ) )) holds (( B59 . ( R6 + 1 ) ) <> ( R6 + 1 ) implies (ex B60 being (Element of ( Permutations ( R6 + 1 ) )) st (B60 is  being_transposition & ( B60 . ( B59 . ( R6 + 1 ) ) ) = ( R6 + 1 ) & ( ( B60 * B59 ) . ( R6 + 1 ) ) = ( R6 + 1 ))))))
proof
let R6 being Nat;
set D82 = ( R6 + 1 );
let C69 being (Element of ( Permutations D82 ));
assume that
L701: ( C69 . D82 ) <> D82;
reconsider D83 = C69 as (Permutation of ( Seg D82 )) by MATRIX_2:def 9;
L702: ( dom D83 ) = ( Seg D82 ) by FUNCT_2:52;
L703: ( rng D83 ) = ( Seg D82 ) by FUNCT_2:def 3;
L704: D82 in ( Seg D82 ) by FINSEQ_1:3;
L705: ( C69 . D82 ) in ( Seg D82 ) by L704 , L702 , L703 , FUNCT_1:def 3;
L706: ( C69 . D82 ) <= D82 by L705 , FINSEQ_1:1;
L707: ( C69 . D82 ) < D82 by L706 , L701 , XXREAL_0:1;
consider C70 being (Element of ( Permutations D82 )) such that L708: C70 is  being_transposition and L709: ( C70 . ( C69 . D82 ) ) = D82 by L707 , L704 , L705 , L659;
reconsider D84 = C70 as (Permutation of ( Seg D82 )) by MATRIX_2:def 9;
L710: ( dom D84 ) = ( Seg D82 ) by FUNCT_2:52;
L711: ( dom ( C70 * C69 ) ) = ( Seg D82 ) by L710 , L702 , L703 , RELAT_1:27;
L712: ( ( C70 * C69 ) . D82 ) = ( C70 . ( C69 . D82 ) ) by L711 , FINSEQ_1:3 , FUNCT_1:12;
thus L713: thesis by L712 , L708 , L709;
end;
theorem
L714: (for R3 being set holds (for R1 being set holds ((not R1 in R3) implies (for B61 being (Permutation of ( R3 \/ { R1 } )) holds (( B61 . R1 ) = R1 implies (ex B62 being (Permutation of R3) st ( B61 | R3 ) = B62))))))
proof
let R3 being set;
let R1 being set;
assume that
L715: (not R1 in R3);
let C71 being (Permutation of ( R3 \/ { R1 } ));
assume that
L716: ( C71 . R1 ) = R1;
L717: R3 c= ( R3 \/ { R1 } ) by XBOOLE_1:7;
set D85 = ( C71 | R3 );
L718: ( dom C71 ) = ( R3 \/ { R1 } ) by FUNCT_2:52;
L719: ( dom D85 ) = R3 by L718 , RELAT_1:62 , XBOOLE_1:7;
L720: ( rng C71 ) = ( R3 \/ { R1 } ) by FUNCT_2:def 3;
L721: ( rng D85 ) c= ( R3 \/ { R1 } ) by L720 , RELAT_1:70;
L722: ( rng D85 ) c= R3
proof
let C72 being set;
assume that
L723: C72 in ( rng D85 );
consider C73 being set such that L724: C73 in ( dom D85 ) and L725: ( D85 . C73 ) = C72 by L723 , FUNCT_1:def 3;
assume L726: (not C72 in R3);
L727: C72 in ( rng D85 ) by L724 , L725 , FUNCT_1:def 3;
L728: C72 in { R1 } by L727 , L721 , L726 , XBOOLE_0:def 3;
L729: C72 = R1 by L728 , TARSKI:def 1;
L730: ( D85 . C73 ) = ( C71 . C73 ) by L724 , FUNCT_1:47;
thus L731: thesis by L730 , L715 , L716 , L717 , L718 , L719 , L721 , L723 , L724 , L725 , L729 , FUNCT_1:def 4;
end;
L732: R3 c= ( rng D85 )
proof
let C74 being set;
assume that
L733: C74 in R3;
consider C75 being set such that L734: C75 in ( dom C71 ) and L735: ( C71 . C75 ) = C74 by L717 , L720 , L733 , FUNCT_1:def 3;
L736: C75 in R3
proof
assume L737: (not C75 in R3);
L738: C75 in { R1 } by L737 , L718 , L734 , XBOOLE_0:def 3;
thus L739: thesis by L738 , L715 , L716 , L733 , L735 , TARSKI:def 1;
end;
L740: ( D85 . C75 ) = ( C71 . C75 ) by L736 , L719 , FUNCT_1:47;
thus L741: thesis by L740 , L719 , L735 , L736 , FUNCT_1:def 3;
end;
L742: ( rng D85 ) = R3 by L732 , L722 , XBOOLE_0:def 10;
L743: D85 is  one-to-one by FUNCT_1:52;
reconsider D86 = D85 as (Function of R3 , R3) by L719 , L742 , FUNCT_2:1;
L744: D86 is  onto by L742 , FUNCT_2:def 3;
thus L745: thesis by L744 , L743;
end;
theorem
L746: (for R1 being set holds (for R3 being set holds (for B63 , B64 being (Permutation of R3) holds (for B65 , B66 being (Permutation of ( R3 \/ { R1 } )) holds ((( B65 | R3 ) = B63 & ( B66 | R3 ) = B64 & ( B65 . R1 ) = R1 & ( B66 . R1 ) = R1) implies (( ( B65 * B66 ) | R3 ) = ( B63 * B64 ) & ( ( B65 * B66 ) . R1 ) = R1))))))
proof
let R1 being set;
let R3 being set;
let C76 , C77 being (Permutation of R3);
let C78 , C79 being (Permutation of ( R3 \/ { R1 } ));
assume that
L747: ( C78 | R3 ) = C76
and
L748: ( C79 | R3 ) = C77
and
L749: ( C78 . R1 ) = R1
and
L750: ( C79 . R1 ) = R1;
set D87 = ( C76 * C77 );
set D88 = ( C78 * C79 );
set D89 = ( R3 \/ { R1 } );
L751: R3 c= D89 by XBOOLE_1:7;
L752: ( rng C77 ) = R3 by FUNCT_2:def 3;
L753: ( dom C77 ) = R3 by FUNCT_2:52;
L754: ( dom D88 ) = D89 by FUNCT_2:52;
L755: ( dom ( D88 | R3 ) ) = R3 by L754 , RELAT_1:62 , XBOOLE_1:7;
L756: ( dom D87 ) = R3 by FUNCT_2:52;
L757: ( dom C76 ) = R3 by FUNCT_2:52;
L758: (for B67 being set holds (B67 in ( dom D87 ) implies ( D87 . B67 ) = ( ( D88 | R3 ) . B67 )))
proof
let C80 being set;
assume that
L759: C80 in ( dom D87 );
L760: ( D87 . C80 ) = ( C76 . ( C77 . C80 ) ) by L756 , L759 , FUNCT_2:15;
L761: ( D88 . C80 ) = ( ( D88 | R3 ) . C80 ) by L756 , L755 , L759 , FUNCT_1:47;
L762: ( C77 . C80 ) in ( rng C77 ) by L753 , L756 , L759 , FUNCT_1:def 3;
L763: ( D88 . C80 ) = ( C78 . ( C79 . C80 ) ) by L751 , L756 , L759 , FUNCT_2:15;
L764: ( C79 . C80 ) = ( C77 . C80 ) by L748 , L753 , L756 , L759 , FUNCT_1:47;
thus L765: thesis by L764 , L747 , L757 , L752 , L762 , L761 , L760 , L763 , FUNCT_1:47;
end;
thus L766: ( D88 | R3 ) = D87 by L758 , L755 , FUNCT_1:2 , FUNCT_2:52;
L767: R1 in { R1 } by TARSKI:def 1;
L768: R1 in D89 by L767 , XBOOLE_0:def 3;
thus L769: thesis by L768 , L749 , L750 , FUNCT_2:15;
end;
theorem
L770: (for R6 being Nat holds (for B68 being (Element of ( Permutations R6 )) holds (B68 is  being_transposition implies (( B68 * B68 ) = ( idseq R6 ) & B68 = ( B68 " )))))
proof
let R6 being Nat;
set D90 = ( idseq R6 );
let C81 being (Element of ( Permutations R6 ));
assume L771: C81 is  being_transposition;
consider R4 being Nat, R5 being Nat such that L772: R4 in ( dom C81 ) and L773: R5 in ( dom C81 ) and L774: R4 <> R5 and L775: ( C81 . R4 ) = R5 and L776: ( C81 . R5 ) = R4 and L777: (for R9 being Nat holds ((R9 <> R4 & R9 <> R5 & R9 in ( dom C81 )) implies ( C81 . R9 ) = R9)) by L771 , MATRIX_2:def 11;
reconsider D91 = C81 as (Permutation of ( Seg R6 )) by MATRIX_2:def 9;
set D92 = ( D91 * D91 );
L778: ( dom D92 ) = ( Seg R6 ) by FUNCT_2:52;
L779: ( dom D91 ) = ( Seg R6 ) by FUNCT_2:52;
L780: (for R1 being set holds (R1 in ( dom D92 ) implies ( D92 . R1 ) = ( D90 . R1 )))
proof
let R1 being set;
assume that
L781: R1 in ( dom D92 );
reconsider D93 = R1 as Nat by L778 , L781;
L782:
now
per cases ;
suppose L783: (D93 = R4 or D93 = R5);

thus L784: ( D92 . D93 ) = D93 by L783 , L775 , L776 , L781 , FUNCT_1:12;
end;
suppose L785: (D93 <> R4 & D93 <> R5);

L786: ( C81 . D93 ) = D93 by L785 , L777 , L778 , L779 , L781;
thus L787: ( D92 . D93 ) = D93 by L786 , L781 , FUNCT_1:12;
end;
end;
thus L789: thesis by L782 , L778 , L781 , FUNCT_1:18;
end;
L790: ( dom D90 ) = ( Seg R6 ) by FUNCT_2:52;
thus L791: ( C81 * C81 ) = ( idseq R6 ) by L790 , L780 , FUNCT_1:2 , FUNCT_2:52;
L792: ( rng D91 ) = ( Seg R6 ) by FUNCT_2:def 3;
thus L793: thesis by L792 , L778 , L790 , L779 , L780 , FUNCT_1:2 , FUNCT_1:42;
end;
theorem
L794: (for R8 being Nat holds (for R14 being (Element of ( Permutations R8 )) holds (ex B69 being (FinSequence of ( Group_of_Perm R8 )) st (R14 = ( Product B69 ) & (for R4 being Nat holds (R4 in ( dom B69 ) implies (ex B70 being (Element of ( Permutations R8 )) st (( B69 . R4 ) = B70 & B70 is  being_transposition))))))))
proof
let R8 being Nat;
defpred S8[ Nat ] means (for B71 being (Element of ( Permutations $1 )) holds (ex B72 being (FinSequence of ( Group_of_Perm $1 )) st (B71 = ( Product B72 ) & (for R4 being Nat holds (R4 in ( dom B72 ) implies (ex B73 being (Element of ( Permutations $1 )) st (( B72 . R4 ) = B73 & B73 is  being_transposition)))))));
let C82 being (Element of ( Permutations R8 ));
L795: R8 is (Element of ( NAT )) by ORDINAL1:def 12;
L796: (for B74 being (Element of ( NAT )) holds (S8[ B74 ] implies S8[ ( B74 + 1 ) ]))
proof
let C83 being (Element of ( NAT ));
assume that
L797: S8[ C83 ];
set D94 = ( C83 + 1 );
let C84 being (Element of ( Permutations D94 ));
reconsider D95 = C84 as (Permutation of ( Seg D94 )) by MATRIX_2:def 9;
set D96 = ( Group_of_Perm D94 );
L798: (for B75 being (Element of ( Permutations D94 )) holds (( B75 . D94 ) = D94 implies (ex B76 being (FinSequence of ( Group_of_Perm D94 )) st (B75 = ( Product B76 ) & (for R4 being Nat holds (R4 in ( dom B76 ) implies (ex B77 being (Element of ( Permutations D94 )) st (( B76 . R4 ) = B77 & B77 is  being_transposition))))))))
proof
set D97 = ( idseq C83 );
set D98 = ( idseq D94 );
set D99 = ( Group_of_Perm D94 );
set D100 = ( Group_of_Perm C83 );
let C85 being (Element of ( Permutations D94 ));
assume that
L799: ( C85 . D94 ) = D94;
set D101 = (the multF of D99);
set D102 = (the multF of D100);
reconsider D103 = C85 as (Permutation of ( Seg D94 )) by MATRIX_2:def 9;
L800: ( Seg D94 ) = ( ( Seg C83 ) \/ { D94 } ) by FINSEQ_1:9;
consider C86 being (Permutation of ( Seg C83 )) such that L801: ( D103 | ( Seg C83 ) ) = C86 by L800 , L799 , L714 , FINSEQ_3:8;
reconsider D104 = C86 as (Element of ( Permutations C83 )) by MATRIX_2:def 9;
consider C87 being (FinSequence of D100) such that L802: D104 = ( Product C87 ) and L803: (for R4 being Nat holds (R4 in ( dom C87 ) implies (ex B78 being (Element of ( Permutations C83 )) st (( C87 . R4 ) = B78 & B78 is  being_transposition)))) by L797;
L804: D104 = ( D102 "**" C87 ) by L802 , GROUP_4:def 2;
defpred S9[ set , set ] means (for B79 being Nat holds (for B80 being (Element of ( Permutations C83 )) holds ((B79 in ( dom C87 ) & ( C87 . B79 ) = B80 & B79 = $1) implies (ex B81 being (Element of ( Permutations D94 )) st (B81 = $2 & B81 is  being_transposition & ( B81 . D94 ) = D94 & B80 = ( B81 | ( Seg C83 ) ))))));
L805: (not D94 in ( Seg C83 )) by FINSEQ_3:8;
L806: (for B82 being Nat holds (B82 in ( Seg ( len C87 ) ) implies (ex B83 being (Element of D99) st S9[ B82 , B83 ])))
proof
let C88 being Nat;
assume L807: C88 in ( Seg ( len C87 ) );
L808: C88 in ( dom C87 ) by L807 , FINSEQ_1:def 3;
consider C89 being (Element of ( Permutations C83 )) such that L809: ( C87 . C88 ) = C89 and L810: C89 is  being_transposition by L808 , L803;
consider C90 , C91 being Nat such that L811: C90 in ( dom C89 ) and L812: C91 in ( dom C89 ) and L813: C90 <> C91 and L814: ( C89 . C90 ) = C91 and L815: ( C89 . C91 ) = C90 and L816: (for R6 being Nat holds ((R6 <> C90 & R6 <> C91 & R6 in ( dom C89 )) implies ( C89 . R6 ) = R6)) by L810 , MATRIX_2:def 11;
reconsider D105 = C89 as (Permutation of ( Seg C83 )) by MATRIX_2:def 9;
consider C92 being (Function of ( Seg D94 ) , ( Seg D94 )) such that L817: ( C92 | ( Seg C83 ) ) = D105 and L818: ( C92 . D94 ) = D94 by L800 , L805 , STIRL2_1:57;
L819: ( C92 . C91 ) = ( C89 . C91 ) by L817 , L812 , FUNCT_1:47;
L820: (( Seg C83 ) is  empty implies ( Seg C83 ) is  empty);
L821: C92 is  onto by L820 , L800 , L817 , L818 , STIRL2_1:58;
L822: C92 is  one-to-one by L800 , L805 , L820 , L817 , L818 , STIRL2_1:58;
reconsider D106 = C92 as (Element of ( Permutations D94 )) by L822 , L821 , MATRIX_2:def 9;
reconsider D107 = D106 as (Element of D99) by MATRIX_2:def 10;
take D107;
let C93 being Nat;
let C94 being (Element of ( Permutations C83 ));
assume that
L823: C93 in ( dom C87 )
and
L824: ( C87 . C93 ) = C94
and
L825: C93 = C88;
take D106;
L826: ( dom C89 ) c= ( dom C92 ) by L817 , RELAT_1:60;
L827: (for R9 being Nat holds ((R9 <> C90 & R9 <> C91 & R9 in ( dom C92 )) implies ( C92 . R9 ) = R9))
proof
L828: ( dom D105 ) = ( Seg C83 ) by FUNCT_2:52;
let R9 being Nat;
assume that
L829: R9 <> C90
and
L830: R9 <> C91
and
L831: R9 in ( dom C92 );
L832: ( dom C92 ) = ( Seg D94 ) by FUNCT_2:52;
L833: (R9 in ( Seg C83 ) or R9 in { D94 }) by L832 , L800 , L831 , XBOOLE_0:def 3;
L834: (R9 in ( dom C89 ) or R9 = D94) by L833 , L828 , TARSKI:def 1;
L835: ((( C89 . R9 ) = ( C92 . R9 ) & ( C89 . R9 ) = R9) or ( C92 . R9 ) = R9) by L834 , L817 , L818 , L816 , L829 , L830 , FUNCT_1:47;
thus L836: thesis by L835;
end;
L837: ( C92 . C90 ) = ( C89 . C90 ) by L817 , L811 , FUNCT_1:47;
thus L838: thesis by L837 , L809 , L817 , L818 , L824 , L825 , L811 , L812 , L813 , L814 , L815 , L826 , L819 , L827 , MATRIX_2:def 11;
end;
consider C95 being (FinSequence of D99) such that L839: ( dom C95 ) = ( Seg ( len C87 ) ) and L840: (for B84 being Nat holds (B84 in ( Seg ( len C87 ) ) implies S9[ B84 , ( C95 . B84 ) ])) from FINSEQ_1:sch 5(L806);
take C95;
L841: ( Product C95 ) = ( D101 "**" C95 ) by GROUP_4:def 2;
L842:
now
per cases ;
suppose L843: ( len C95 ) = ( 0 );

L844: ( Seg ( len C95 ) ) = ( 0 ) by L843;
L845: ( Product C95 ) = ( the_unity_wrt D101 ) by L841 , L843 , FINSOP_1:def 1;
L846: ( the_unity_wrt D101 ) = ( 1_ D99 ) by GROUP_1:22;
L847: ( Product C95 ) = D98 by L846 , L845 , MATRIX_2:24;
L848: ( len C87 ) = ( 0 ) by L839 , L843 , FINSEQ_1:def 3;
L849: D104 = ( the_unity_wrt D102 ) by L848 , L804 , FINSOP_1:def 1;
L850: ( dom D103 ) = ( Seg D94 ) by FUNCT_2:52;
L851: ( the_unity_wrt D102 ) = ( 1_ D100 ) by GROUP_1:22;
L852: (for R2 being set holds (R2 in ( dom C85 ) implies ( C85 . R2 ) = ( D98 . R2 )))
proof
let R2 being set;
assume that
L853: R2 in ( dom C85 );
reconsider D108 = R2 as Nat by L850 , L853;
L854: ( D98 . D108 ) = D108 by L850 , L853 , FUNCT_1:18;
L855: ( dom C86 ) = ( Seg C83 ) by FUNCT_2:52;
L856: (R2 in ( Seg C83 ) or R2 in { D94 }) by L800 , L850 , L853 , XBOOLE_0:def 3;
L857: ((( C86 . R2 ) = ( C85 . R2 ) & ( D97 . D108 ) = D108) or (( C85 . D94 ) = D94 & R2 = D94)) by L856 , L799 , L801 , L855 , FUNCT_1:18 , FUNCT_1:47 , TARSKI:def 1;
thus L858: thesis by L857 , L849 , L851 , L854 , MATRIX_2:24;
end;
L859: ( dom D98 ) = ( Seg D94 ) by FUNCT_2:52;
thus L860: thesis by L859 , L847 , L850 , L852 , L844 , FINSEQ_1:def 3 , FUNCT_1:2;
end;
suppose L861: ( len C95 ) > ( 0 );

consider C96 being (Function of ( NAT ) , D99) such that L862: ( C96 . 1 ) = ( C95 . 1 ) and L863: (for B85 being (Element of ( NAT )) holds ((( 0 ) <> B85 & B85 < ( len C95 )) implies ( C96 . ( B85 + 1 ) ) = ( D101 . (( C96 . B85 ) , ( C95 . ( B85 + 1 ) )) ))) and L864: ( Product C95 ) = ( C96 . ( len C95 ) ) by L841 , L861 , FINSOP_1:def 1;
L865: ( len C87 ) > ( 0 ) by L839 , L861 , FINSEQ_1:def 3;
consider C97 being (Function of ( NAT ) , D100) such that L866: ( C97 . 1 ) = ( C87 . 1 ) and L867: (for B86 being (Element of ( NAT )) holds ((( 0 ) <> B86 & B86 < ( len C87 )) implies ( C97 . ( B86 + 1 ) ) = ( D102 . (( C97 . B86 ) , ( C87 . ( B86 + 1 ) )) ))) and L868: C86 = ( C97 . ( len C87 ) ) by L865 , L804 , FINSOP_1:def 1;
L869: ( len C87 ) = ( len C95 ) by L839 , FINSEQ_1:def 3;
defpred S10[ Nat ] means (($1 > ( 0 ) & $1 <= ( len C87 )) implies (ex B87 being (Element of ( Permutations D94 )) st (ex B88 being (Element of ( Permutations C83 )) st (B87 = ( C96 . $1 ) & ( C97 . $1 ) = B88 & ( B87 | ( Seg C83 ) ) = B88 & ( B87 . D94 ) = D94))));
L870: (for B89 being (Element of ( NAT )) holds (S10[ B89 ] implies S10[ ( B89 + 1 ) ]))
proof
let C98 being (Element of ( NAT ));
assume that
L871: S10[ C98 ];
set D109 = ( C98 + 1 );
assume that
L872: D109 > ( 0 )
and
L873: D109 <= ( len C87 );
L874: ( D109 + ( 0 ) ) > ( 0 );
L875: D109 >= 1 by L874 , NAT_1:19;
L876: D109 in ( Seg ( len C87 ) ) by L875 , L873;
L877: ( dom C87 ) = ( Seg ( len C87 ) ) by FINSEQ_1:def 3;
consider C99 being (Element of ( Permutations C83 )) such that L878: ( C87 . D109 ) = C99 and L879: C99 is  being_transposition by L877 , L803 , L876;
consider C100 being (Element of ( Permutations D94 )) such that L880: C100 = ( C95 . D109 ) and L881: C100 is  being_transposition and L882: ( C100 . D94 ) = D94 and L883: C99 = ( C100 | ( Seg C83 ) ) by L840 , L876 , L877 , L878;
L884:
now
per cases ;
suppose L885: C98 = ( 0 );

thus L886: thesis by L885 , L866 , L862 , L878 , L880 , L882 , L883;
end;
suppose L887: C98 > ( 0 );

L888: ( C98 + ( 0 ) ) < ( C98 + 1 ) by XREAL_1:6;
consider C101 being (Element of ( Permutations D94 )), C102 being (Element of ( Permutations C83 )) such that L889: C101 = ( C96 . C98 ) and L890: ( C97 . C98 ) = C102 and L891: ( C101 | ( Seg C83 ) ) = C102 and L892: ( C101 . D94 ) = D94 by L888 , L871 , L873 , L887 , XXREAL_0:2;
reconsider D110 = C102 , D111 = C99 as (Permutation of ( Seg C83 )) by MATRIX_2:def 9;
reconsider D112 = ( D111 * D110 ) as (Element of ( Permutations C83 )) by MATRIX_2:def 9;
L893: C98 < ( len C87 ) by L873 , L888 , XXREAL_0:2;
L894: ( C97 . D109 ) = ( D102 . (D110 , D111) ) by L893 , L867 , L878 , L887 , L890;
L895: ( C97 . D109 ) = D112 by L894 , MATRIX_2:def 10;
reconsider D113 = C101 , D114 = C100 as (Permutation of ( Seg D94 )) by MATRIX_2:def 9;
reconsider D115 = ( D114 * D113 ) as (Element of ( Permutations D94 )) by MATRIX_2:def 9;
L896: ( D115 | ( Seg C83 ) ) = D112 by L800 , L882 , L883 , L891 , L892 , L746;
L897: ( len C87 ) = ( len C95 ) by L839 , FINSEQ_1:def 3;
L898: ( C96 . D109 ) = ( D101 . (D113 , D114) ) by L897 , L863 , L880 , L887 , L889 , L893;
L899: ( C96 . D109 ) = D115 by L898 , MATRIX_2:def 10;
L900: ( D115 . D94 ) = D94 by L800 , L882 , L883 , L891 , L892 , L894 , L746;
thus L901: thesis by L900 , L895 , L899 , L896;
end;
end;
thus L903: thesis by L884;
end;
L904: S10[ ( 0 ) ];
L905: (for B90 being (Element of ( NAT )) holds S10[ B90 ]) from NAT_1:sch 1(L904 , L870);
consider C103 being (Element of ( Permutations D94 )), C104 being (Element of ( Permutations C83 )) such that L906: C103 = ( C96 . ( len C87 ) ) and L907: ( C97 . ( len C87 ) ) = C104 and L908: ( C103 | ( Seg C83 ) ) = C104 and L909: ( C103 . D94 ) = D94 by L905 , L861 , L869;
reconsider D116 = C103 as (Permutation of ( Seg D94 )) by MATRIX_2:def 9;
L910: ( dom D103 ) = ( Seg D94 ) by FUNCT_2:52;
L911: (for R2 being set holds (R2 in ( dom C85 ) implies ( C85 . R2 ) = ( D116 . R2 )))
proof
let R2 being set;
assume L912: R2 in ( dom C85 );
L913: (R2 in ( Seg C83 ) or R2 in { D94 }) by L912 , L800 , L910 , XBOOLE_0:def 3;
L914: ( dom C86 ) = ( Seg C83 ) by FUNCT_2:52;
L915: ((( C104 . R2 ) = ( C85 . R2 ) & ( C104 . R2 ) = ( D116 . R2 )) or (R2 = D94 & ( C85 . D94 ) = ( D116 . D94 ))) by L914 , L799 , L801 , L868 , L907 , L908 , L909 , L913 , FUNCT_1:47 , TARSKI:def 1;
thus L916: thesis by L915;
end;
L917: ( dom D116 ) = ( Seg D94 ) by FUNCT_2:52;
thus L918: C85 = ( Product C95 ) by L917 , L864 , L869 , L906 , L910 , L911 , FUNCT_1:2;
thus L919: (for R4 being Nat holds (R4 in ( dom C95 ) implies (ex B91 being (Element of ( Permutations D94 )) st (( C95 . R4 ) = B91 & B91 is  being_transposition))))
proof
L920: ( Seg ( len C87 ) ) = ( dom C87 ) by FINSEQ_1:def 3;
let R9 being Nat;
assume that
L921: R9 in ( dom C95 );
consider C105 being (Element of ( Permutations C83 )) such that L922: ( C87 . R9 ) = C105 and L923: C105 is  being_transposition by L803 , L839 , L921 , L920;
reconsider D117 = R9 as (Element of ( NAT )) by ORDINAL1:def 12;
L924: (ex B92 being (Element of ( Permutations D94 )) st (B92 = ( C95 . D117 ) & B92 is  being_transposition & ( B92 . D94 ) = D94 & C105 = ( B92 | ( Seg C83 ) ))) by L839 , L840 , L921 , L920 , L922;
thus L925: thesis by L924;
end;

end;
end;
thus L921: thesis by L842;
end;
L922:
now
per cases ;
suppose L923: ( C84 . D94 ) = D94;

thus L924: thesis by L923 , L798;
end;
suppose L925: ( C84 . D94 ) <> D94;

L926: ( rng D95 ) = ( Seg D94 ) by FUNCT_2:def 3;
consider C106 being (Element of ( Permutations D94 )) such that L927: C106 is  being_transposition and L928: ( C106 . ( C84 . D94 ) ) = D94 and L929: ( ( C106 * C84 ) . D94 ) = D94 by L925 , L700;
reconsider D118 = C106 as (Permutation of ( Seg D94 )) by MATRIX_2:def 9;
reconsider D119 = ( D118 * D95 ) as (Element of ( Permutations D94 )) by MATRIX_2:def 9;
consider C107 being (FinSequence of D96) such that L930: D119 = ( Product C107 ) and L931: (for R4 being Nat holds (R4 in ( dom C107 ) implies (ex B93 being (Element of ( Permutations D94 )) st (( C107 . R4 ) = B93 & B93 is  being_transposition)))) by L798 , L929;
reconsider D120 = D119 as (Element of D96) by MATRIX_2:def 10;
reconsider D121 = C106 as (Element of D96) by MATRIX_2:def 10;
take D122 = ( C107 ^ <* D121 *> );
L932: ( Product D122 ) = ( D120 * D121 ) by L930 , GROUP_4:6;
thus L933: ( Product D122 ) = ( C106 * ( C106 * C84 ) ) by L932 , MATRIX_2:def 10
.= ( ( C106 * C106 ) * C84 ) by RELAT_1:36
.= ( ( idseq D94 ) * C84 ) by L927 , L770
.= C84 by L926 , RELAT_1:54;
thus L934: (for R9 being Nat holds (R9 in ( dom D122 ) implies (ex B94 being (Element of ( Permutations D94 )) st (( D122 . R9 ) = B94 & B94 is  being_transposition))))
proof
set D123 = ( len C107 );
set D124 = ( D123 + 1 );
L935: ( Seg D124 ) = ( ( Seg D123 ) \/ { D124 } ) by FINSEQ_1:9;
L936: ( len D122 ) = ( ( len C107 ) + 1 ) by FINSEQ_2:16;
L937: ( dom D122 ) = ( Seg D124 ) by L936 , FINSEQ_1:def 3;
let R9 being Nat;
assume that
L938: R9 in ( dom D122 );
L939:
now
per cases  by L938 , L937 , L935 , XBOOLE_0:def 3;
suppose L940: R9 in ( Seg D123 );

L941: R9 in ( dom C107 ) by L940 , FINSEQ_1:def 3;
L942: ( D122 . R9 ) = ( C107 . R9 ) by L941 , FINSEQ_1:def 7;
thus L943: thesis by L942 , L931 , L941;
end;
suppose L944: R9 in { D124 };

L945: R9 = D124 by L944 , TARSKI:def 1;
thus L946: thesis by L945 , L927 , FINSEQ_1:42;
end;
end;
thus L948: thesis by L939;
end;

end;
end;
thus L936: thesis by L922;
end;
L937: S8[ ( 0 ) ]
proof
let C108 being (Element of ( Permutations ( 0 ) ));
take ( <*> (the carrier of ( Group_of_Perm ( 0 ) )) );
L938: C108 is (Permutation of ( Seg ( 0 ) )) by MATRIX_2:def 9;
L939: C108 = ( idseq ( 0 ) ) by L938;
L940: C108 = ( 1_ ( Group_of_Perm ( 0 ) ) ) by L939 , MATRIX_2:24;
thus L941: thesis by L940 , GROUP_4:8;
end;
L942: (for B95 being (Element of ( NAT )) holds S8[ B95 ]) from NAT_1:sch 1(L937 , L796);
thus L943: thesis by L942 , L795;
end;
theorem
L944: (for R11 being Field holds (R11 is  Fanoian iff ( 1_ R11 ) <> ( - ( 1_ R11 ) )))
proof
let R11 being Field;
thus L945: (R11 is  Fanoian implies ( 1_ R11 ) <> ( - ( 1_ R11 ) ))
proof
assume L946: R11 is  Fanoian;
assume L947: ( 1_ R11 ) = ( - ( 1_ R11 ) );
L948: ( ( 1_ R11 ) + ( 1_ R11 ) ) = ( 0. R11 ) by L947 , RLVECT_1:def 10;
thus L949: thesis by L948 , L946 , VECTSP_1:def 18;
end;

assume L950: ( 1_ R11 ) <> ( - ( 1_ R11 ) );
assume L951: (not R11 is  Fanoian);
consider R12 being (Element of R11) such that L952: ( R12 + R12 ) = ( 0. R11 ) and L953: R12 <> ( 0. R11 ) by L951 , VECTSP_1:def 18;
L954: R12 = ( R12 * ( 1_ R11 ) ) by VECTSP_1:def 4;
L955: ( 0. R11 ) = ( R12 * ( ( 1_ R11 ) + ( 1_ R11 ) ) ) by L954 , L952 , VECTSP_1:def 7;
L956: ( 0. R11 ) = ( ( 1_ R11 ) + ( 1_ R11 ) ) by L955 , L953 , VECTSP_1:12;
thus L957: thesis by L956 , L950 , VECTSP_1:16;
end;
theorem
L958: (for R8 being Nat holds (for R20 being (Element of ( Permutations ( R8 + 2 ) )) holds (for B96 being  Fanoian Field holds ((R20 is  even iff ( sgn (R20 , B96) ) = ( 1_ B96 )) & (R20 is  odd iff ( sgn (R20 , B96) ) = ( - ( 1_ B96 ) ))))))
proof
let R8 being Nat;
let R20 being (Element of ( Permutations ( R8 + 2 ) ));
set D125 = ( R8 + 2 );
let C109 being  Fanoian Field;
L959: ( len ( Permutations D125 ) ) = D125 by MATRIX_2:18;
thus L960: (R20 is  even implies ( sgn (R20 , C109) ) = ( 1_ C109 ))
proof
assume L961: R20 is  even;
L962: (ex B97 being (FinSequence of ( Group_of_Perm D125 )) st (( ( len B97 ) mod 2 ) = ( 0 ) & R20 = ( Product B97 ) & (for R4 being Nat holds (R4 in ( dom B97 ) implies (ex R22 being (Element of ( Permutations ( R8 + 2 ) )) st (( B97 . R4 ) = R22 & R22 is  being_transposition)))))) by L961 , L959 , MATRIX_2:def 12;
thus L963: thesis by L962 , L616;
end;

thus L964: (( sgn (R20 , C109) ) = ( 1_ C109 ) implies R20 is  even)
proof
assume L965: ( sgn (R20 , C109) ) = ( 1_ C109 );
consider C110 being (FinSequence of ( Group_of_Perm D125 )) such that L966: R20 = ( Product C110 ) and L967: (for R4 being Nat holds (R4 in ( dom C110 ) implies (ex B98 being (Element of ( Permutations D125 )) st (( C110 . R4 ) = B98 & B98 is  being_transposition)))) by L794;
assume L968: R20 is  odd;
L969: ( ( len C110 ) mod 2 ) <> ( 0 ) by L968 , L959 , L966 , L967 , MATRIX_2:def 12;
L970: ( ( len C110 ) mod 2 ) = 1 by L969 , NAT_D:12;
L971: ( sgn (R20 , C109) ) = ( - ( 1_ C109 ) ) by L970 , L966 , L967 , L616;
thus L972: thesis by L971 , L965 , L944;
end;

thus L973: thesis by L964 , L960 , L374 , L944;
end;
theorem
L974: (for R8 being Nat holds (for R11 being Field holds (for R21 being (Element of ( Permutations ( R8 + 2 ) )) holds (for R22 being (Element of ( Permutations ( R8 + 2 ) )) holds (for R23 being (Element of ( Permutations ( R8 + 2 ) )) holds (R23 = ( R21 * R22 ) implies ( sgn (R23 , R11) ) = ( ( sgn (R21 , R11) ) * ( sgn (R22 , R11) ) )))))))
proof
let R8 being Nat;
let R11 being Field;
set D126 = ( R8 + 2 );
let C111 , C112 , C113 being (Element of ( Permutations D126 ));
assume that
L975: C113 = ( C111 * C112 );
consider C114 being (FinSequence of ( Group_of_Perm D126 )) such that L976: C112 = ( Product C114 ) and L977: (for R4 being Nat holds (R4 in ( dom C114 ) implies (ex B99 being (Element of ( Permutations D126 )) st (( C114 . R4 ) = B99 & B99 is  being_transposition)))) by L794;
consider C115 being (FinSequence of ( Group_of_Perm D126 )) such that L978: C111 = ( Product C115 ) and L979: (for R4 being Nat holds (R4 in ( dom C115 ) implies (ex B100 being (Element of ( Permutations D126 )) st (( C115 . R4 ) = B100 & B100 is  being_transposition)))) by L794;
set D127 = ( C114 ^ C115 );
L980: (for R4 being Nat holds (R4 in ( dom D127 ) implies (ex B101 being (Element of ( Permutations D126 )) st (( D127 . R4 ) = B101 & B101 is  being_transposition))))
proof
let R4 being Nat;
assume that
L981: R4 in ( dom D127 );
L982:
now
per cases  by L981 , FINSEQ_1:25;
suppose L983: R4 in ( dom C114 );

L984: ( C114 . R4 ) = ( D127 . R4 ) by L983 , FINSEQ_1:def 7;
thus L985: thesis by L984 , L977 , L983;
end;
suppose L986: (ex B102 being Nat st (B102 in ( dom C115 ) & R4 = ( ( len C114 ) + B102 )));

consider C116 being Nat such that L987: C116 in ( dom C115 ) and L988: R4 = ( ( len C114 ) + C116 ) by L986;
L989: ( C115 . C116 ) = ( D127 . R4 ) by L987 , L988 , FINSEQ_1:def 7;
thus L990: thesis by L989 , L979 , L987;
end;
end;
thus L992: thesis by L982;
end;
L993: ( Product D127 ) = ( ( Product C114 ) * ( Product C115 ) ) by GROUP_4:5
.= C113 by L975 , L978 , L976 , MATRIX_2:def 10;
L994:
now
per cases  by NAT_D:12;
suppose L995: (( ( len C115 ) mod 2 ) = ( 0 ) & ( ( len C114 ) mod 2 ) = ( 0 ));

L996: ( ( len D127 ) mod 2 ) = ( ( ( len C114 ) + ( len C115 ) ) mod 2 ) by FINSEQ_1:22
.= ( ( ( ( 0 ) + ( len C115 ) ) + ( 0 ) ) mod 2 ) by L995 , NAT_D:22
.= ( 0 ) by L995;
L997: ( sgn (C113 , R11) ) = ( 1_ R11 ) by L996 , L993 , L980 , L616;
L998: ( sgn (C112 , R11) ) = ( 1_ R11 ) by L976 , L977 , L995 , L616;
L999: ( sgn (C111 , R11) ) = ( 1_ R11 ) by L978 , L979 , L995 , L616;
thus L1000: thesis by L999 , L997 , L998 , VECTSP_1:def 4;
end;
suppose L1001: (( ( len C115 ) mod 2 ) = 1 & ( ( len C114 ) mod 2 ) = ( 0 ));

L1002: ( ( len D127 ) mod 2 ) = ( ( ( len C114 ) + ( len C115 ) ) mod 2 ) by FINSEQ_1:22
.= ( ( ( ( 0 ) + ( len C115 ) ) + ( 0 ) ) mod 2 ) by L1001 , NAT_D:22
.= 1 by L1001;
L1003: ( sgn (C113 , R11) ) = ( - ( 1_ R11 ) ) by L1002 , L993 , L980 , L616;
L1004: ( sgn (C112 , R11) ) = ( 1_ R11 ) by L976 , L977 , L1001 , L616;
L1005: ( sgn (C111 , R11) ) = ( - ( 1_ R11 ) ) by L978 , L979 , L1001 , L616;
thus L1006: thesis by L1005 , L1003 , L1004 , VECTSP_1:def 4;
end;
suppose L1007: (( ( len C115 ) mod 2 ) = ( 0 ) & ( ( len C114 ) mod 2 ) = 1);

L1008: ( ( len D127 ) mod 2 ) = ( ( ( len C114 ) + ( len C115 ) ) mod 2 ) by FINSEQ_1:22
.= ( ( 1 + ( len C115 ) ) mod 2 ) by L1007 , NAT_D:22
.= ( ( 1 + ( 0 ) ) mod 2 ) by L1007 , NAT_D:22
.= 1 by NAT_D:14;
L1009: ( sgn (C113 , R11) ) = ( - ( 1_ R11 ) ) by L1008 , L993 , L980 , L616;
L1010: ( sgn (C112 , R11) ) = ( - ( 1_ R11 ) ) by L976 , L977 , L1007 , L616;
L1011: ( sgn (C111 , R11) ) = ( 1_ R11 ) by L978 , L979 , L1007 , L616;
thus L1012: thesis by L1011 , L1009 , L1010 , VECTSP_1:def 4;
end;
suppose L1013: (( ( len C115 ) mod 2 ) = 1 & ( ( len C114 ) mod 2 ) = 1);

L1014: ( ( len D127 ) mod 2 ) = ( ( ( len C114 ) + ( len C115 ) ) mod 2 ) by FINSEQ_1:22
.= ( ( 1 + ( len C115 ) ) mod 2 ) by L1013 , NAT_D:22
.= ( ( 1 + 1 ) mod 2 ) by L1013 , NAT_D:22
.= ( 0 ) by NAT_D:25;
L1015: ( sgn (C113 , R11) ) = ( 1_ R11 ) by L1014 , L993 , L980 , L616;
L1016: ( ( 1_ R11 ) * ( 1_ R11 ) ) = ( 1_ R11 ) by VECTSP_1:def 4;
L1017: ( sgn (C112 , R11) ) = ( - ( 1_ R11 ) ) by L976 , L977 , L1013 , L616;
L1018: ( sgn (C111 , R11) ) = ( - ( 1_ R11 ) ) by L978 , L979 , L1013 , L616;
thus L1019: thesis by L1018 , L1015 , L1017 , L1016 , VECTSP_1:10;
end;
end;
thus L1021: thesis by L994;
end;
L1022: (for R8 being Nat holds (for R15 being (Element of ( Permutations R8 )) holds (R8 < 2 implies (R15 is  even & R15 = ( idseq R8 )))))
proof
let R8 being Nat;
let R15 being (Element of ( Permutations R8 ));
reconsider D128 = R15 as (Permutation of ( Seg R8 )) by MATRIX_2:def 9;
assume L1023: R8 < 2;
L1024:
now
per cases  by L1023 , NAT_1:23;
suppose L1025: R8 = ( 0 );

L1026: ( Seg R8 ) = ( {} ) by L1025;
L1027: ( len ( Permutations R8 ) ) = R8 by MATRIX_2:18;
L1028: D128 = ( {} ) by L1025;
thus L1029: thesis by L1028 , L1027 , L1026 , MATRIX_2:25 , RELAT_1:55;
end;
suppose L1030: R8 = 1;

L1031: ( len ( Permutations R8 ) ) = R8 by MATRIX_2:18;
L1032: D128 = ( id ( Seg R8 ) ) by L1030 , MATRIX_2:19 , TARSKI:def 1;
thus L1033: thesis by L1032 , L1031 , MATRIX_2:25;
end;
end;
thus L1035: thesis by L1024;
end;
theorem
L1036: (for R8 being Nat holds (for R15 being (Element of ( Permutations R8 )) holds (for R16 being (Element of ( Permutations R8 )) holds (((R15 is  even & R16 is  even) or (R15 is  odd & R16 is  odd)) iff ( R15 * R16 ) is  even))))
proof
let R8 being Nat;
let R15 being (Element of ( Permutations R8 ));
let R16 being (Element of ( Permutations R8 ));
reconsider D129 = ( R15 * R16 ) as (Element of ( Permutations R8 )) by MATRIX_9:39;
L1037:
now
per cases ;
suppose L1038: R8 < 2;

L1039: D129 is  even by L1038 , L1022;
thus L1040: thesis by L1039 , L1038 , L1022;
end;
suppose L1041: R8 >= 2;

reconsider D130 = ( R8 - 2 ) as Nat by L1041 , NAT_1:21;
set D131 = the  Fanoian Field;
reconsider D132 = R15 , D133 = R16 , D134 = D129 as (Element of ( Permutations ( D130 + 2 ) ));
thus L1042: (((R15 is  even & R16 is  even) or (R15 is  odd & R16 is  odd)) implies ( R15 * R16 ) is  even)
proof
assume L1043: ((R15 is  even & R16 is  even) or (R15 is  odd & R16 is  odd));
L1044: ((( sgn (D132 , D131) ) = ( 1_ D131 ) & ( sgn (D133 , D131) ) = ( 1_ D131 )) or (( sgn (D132 , D131) ) = ( - ( 1_ D131 ) ) & ( sgn (D133 , D131) ) = ( - ( 1_ D131 ) ))) by L1043 , L958;
L1045: ( ( sgn (D132 , D131) ) * ( sgn (D133 , D131) ) ) = ( ( 1_ D131 ) * ( 1_ D131 ) ) by L1044 , VECTSP_1:10;
L1046: ( ( 1_ D131 ) * ( 1_ D131 ) ) = ( 1_ D131 ) by VECTSP_1:def 4;
L1047: ( sgn (D134 , D131) ) = ( 1_ D131 ) by L1046 , L1045 , L974;
thus L1048: thesis by L1047 , L958;
end;

thus L1049: (( R15 * R16 ) is  even implies ((R15 is  even & R16 is  even) or (R15 is  odd & R16 is  odd)))
proof
assume L1050: ( R15 * R16 ) is  even;
L1051: ( sgn (D134 , D131) ) = ( 1_ D131 ) by L1050 , L958;
L1052: ( ( sgn (D132 , D131) ) * ( sgn (D133 , D131) ) ) = ( 1_ D131 ) by L1051 , L974;
assume L1053: (not ((R15 is  even & R16 is  even) or (R15 is  odd & R16 is  odd)));
L1054:
now
per cases  by L1053;
suppose L1055: (R15 is  even & R16 is  odd);

L1056: ( sgn (D133 , D131) ) = ( - ( 1_ D131 ) ) by L1055 , L958;
L1057: ( sgn (D132 , D131) ) = ( 1_ D131 ) by L1055 , L958;
L1058: ( ( sgn (D132 , D131) ) * ( sgn (D133 , D131) ) ) = ( - ( 1_ D131 ) ) by L1057 , L1056 , VECTSP_1:def 4;
thus L1059: thesis by L1058 , L1052 , L944;
end;
suppose L1060: (R15 is  odd & R16 is  even);

L1061: ( sgn (D133 , D131) ) = ( 1_ D131 ) by L1060 , L958;
L1062: ( sgn (D132 , D131) ) = ( - ( 1_ D131 ) ) by L1060 , L958;
L1063: ( ( sgn (D132 , D131) ) * ( sgn (D133 , D131) ) ) = ( - ( 1_ D131 ) ) by L1062 , L1061 , VECTSP_1:def 4;
thus L1064: thesis by L1063 , L1052 , L944;
end;
end;
thus L1066: thesis by L1054;
end;

end;
end;
thus L1051: thesis by L1037;
end;
theorem
L1052: (for R8 being Nat holds (for R11 being Field holds (for R12 being (Element of R11) holds (for R20 being (Element of ( Permutations ( R8 + 2 ) )) holds ( - (R12 , R20) ) = ( ( sgn (R20 , R11) ) * R12 )))))
proof
let R8 being Nat;
let R11 being Field;
let R12 being (Element of R11);
let R20 being (Element of ( Permutations ( R8 + 2 ) ));
per cases ;
suppose L1053: (R20 is  even & R11 is  Fanoian);

L1054: ( - (R12 , R20) ) = R12 by L1053 , MATRIX_2:def 13;
L1055: ( sgn (R20 , R11) ) = ( 1_ R11 ) by L1053 , L958;
thus L1056: thesis by L1055 , L1054 , VECTSP_1:def 4;
end;
suppose L1057: (R20 is  odd & R11 is  Fanoian);

L1058: ( - (R12 , R20) ) = ( - R12 ) by L1057 , MATRIX_2:def 13;
L1059: ( ( - ( 1_ R11 ) ) * R12 ) = ( - ( ( 1_ R11 ) * R12 ) ) by VECTSP_1:8;
L1060: ( sgn (R20 , R11) ) = ( - ( 1_ R11 ) ) by L1057 , L958;
thus L1061: thesis by L1060 , L1058 , L1059 , VECTSP_1:def 4;
end;
suppose L1062: (R20 is  even & (not R11 is  Fanoian));

L1063: ( - (R12 , R20) ) = R12 by L1062 , MATRIX_2:def 13;
L1064: (( sgn (R20 , R11) ) = ( 1_ R11 ) or ( sgn (R20 , R11) ) = ( - ( 1_ R11 ) )) by L374;
L1065: ( 1_ R11 ) = ( - ( 1_ R11 ) ) by L1062 , L944;
thus L1066: thesis by L1065 , L1063 , L1064 , VECTSP_1:def 4;
end;
suppose L1067: (R20 is  odd & (not R11 is  Fanoian));

L1068: ( - (R12 , R20) ) = ( - R12 ) by L1067 , MATRIX_2:def 13;
L1069: ( ( - ( 1_ R11 ) ) * R12 ) = ( - ( ( 1_ R11 ) * R12 ) ) by VECTSP_1:8;
L1070: (( sgn (R20 , R11) ) = ( 1_ R11 ) or ( sgn (R20 , R11) ) = ( - ( 1_ R11 ) )) by L374;
L1071: ( 1_ R11 ) = ( - ( 1_ R11 ) ) by L1067 , L944;
thus L1072: thesis by L1071 , L1068 , L1069 , L1070 , VECTSP_1:def 4;
end;
end;
theorem
L1074: (for R8 being Nat holds (for B103 being (Element of ( Permutations ( R8 + 2 ) )) holds (B103 is  being_transposition implies B103 is  odd)))
proof
let R8 being Nat;
set D135 = the  Fanoian Field;
let C117 being (Element of ( Permutations ( R8 + 2 ) ));
assume L1075: C117 is  being_transposition;
L1076: ( sgn (C117 , D135) ) = ( - ( 1_ D135 ) ) by L1075 , L610;
thus L1077: thesis by L1076 , L958;
end;
registration
let R8 being Nat;
cluster  odd for (Permutation of ( Seg ( R8 + 2 ) ));
existence
proof
set D136 = ( R8 + 2 );
L1078: ( len ( Permutations D136 ) ) = D136 by MATRIX_2:18;
L1079: D136 >= ( 2 + ( 0 ) ) by XREAL_1:6;
L1080: { 1 , 2 } in ( 2Set ( Seg D136 ) ) by L1079 , L25;
consider R4 being Nat, R5 being Nat such that L1081: R4 in ( Seg D136 ) and L1082: R5 in ( Seg D136 ) and L1083: R4 < R5 and L1084: { 1 , 2 } = { R4 , R5 } by L1080 , L2;
consider C118 being (Element of ( Permutations D136 )) such that L1085: C118 is  being_transposition and L1086: ( C118 . R4 ) = R5 by L1081 , L1082 , L1083 , L659;
L1087: C118 is  odd by L1085 , L1074;
thus L1088: thesis by L1087 , L1078;
end;
end;
begin
definition
let R7 being Nat;
let R8 being Nat;
let R9 being Nat;
let R10 being non  empty set;
let C119 being (Matrix of R8 , R9 , R10);
let C120 being (FinSequence of R10);
func ReplaceLine (C119 , R7 , C120) -> (Matrix of R8 , R9 , R10) means 
:L1090: (( len it ) = ( len C119 ) & ( width it ) = ( width C119 ) & (for R4 being Nat holds (for R5 being Nat holds ([ R4 , R5 ] in ( Indices C119 ) implies ((R4 <> R7 implies ( it * (R4 , R5) ) = ( C119 * (R4 , R5) )) & (R4 = R7 implies ( it * (R7 , R5) ) = ( C120 . R5 ))))))) if ( len C120 ) = ( width C119 ) otherwise it = C119;
consistency;
existence
proof
thus L1091: (( len C120 ) = ( width C119 ) implies (ex B104 being (Matrix of R8 , R9 , R10) st (( len B104 ) = ( len C119 ) & ( width B104 ) = ( width C119 ) & (for R4 being Nat holds (for R5 being Nat holds ([ R4 , R5 ] in ( Indices C119 ) implies ((R4 <> R7 implies ( B104 * (R4 , R5) ) = ( C119 * (R4 , R5) )) & (R4 = R7 implies ( B104 * (R7 , R5) ) = ( C120 . R5 )))))))))
proof
reconsider D137 = C119 as (Matrix of ( len C119 ) , ( width C119 ) , R10) by MATRIX_2:7;
reconsider D138 = R8 , D139 = R9 as (Element of ( NAT )) by ORDINAL1:def 12;
defpred S11[ set , set , set ] means (for R4 being Nat holds (for R5 being Nat holds ((R4 = $1 & R5 = $2) implies ((R4 <> R7 implies $3 = ( C119 * (R4 , R5) )) & (R4 = R7 implies $3 = ( C120 . R5 ))))));
assume L1092: ( len C120 ) = ( width C119 );
L1093: (for R4 being Nat holds (for R5 being Nat holds ([ R4 , R5 ] in [: ( Seg D138 ) , ( Seg D139 ) :] implies (ex B105 being (Element of R10) st S11[ R4 , R5 , B105 ]))))
proof
let R4 being Nat;
let R5 being Nat;
assume that
L1094: [ R4 , R5 ] in [: ( Seg D138 ) , ( Seg D139 ) :];
L1095:
now
per cases ;
case L1096: R4 = R7;
L1097: ( rng C120 ) c= R10 by FINSEQ_1:def 4;
L1098: D138 <> ( 0 ) by L1094 , ZFMISC_1:87;
L1099: ( len C120 ) = R9 by L1098 , L1092 , MATRIX_1:23;
L1100: R5 in ( Seg ( len C120 ) ) by L1099 , L1094 , ZFMISC_1:87;
L1101: R5 in ( dom C120 ) by L1100 , FINSEQ_1:def 3;
L1102: ( C120 . R5 ) in ( rng C120 ) by L1101 , FUNCT_1:def 3;
L1103: S11[ R4 , R5 , ( C120 . R5 ) ] by L1096;
thus L1104: thesis by L1103 , L1102 , L1097;
end;
case L1105: R4 <> R7;
L1106: S11[ R4 , R5 , ( C119 * (R4 , R5) ) ] by L1105;
thus L1107: thesis by L1106;
end;
end;
thus L1109: thesis by L1095;
end;
consider C121 being (Matrix of D138 , D139 , R10) such that L1110: (for R4 being Nat holds (for R5 being Nat holds ([ R4 , R5 ] in ( Indices C121 ) implies S11[ R4 , R5 , ( C121 * (R4 , R5) ) ]))) from MATRIX_1:sch 2(L1093);
reconsider D140 = C121 as (Matrix of R8 , R9 , R10);
take D140;
L1111:
now
per cases ;
suppose L1112: R8 = ( 0 );

L1113: ( len D140 ) = ( 0 ) by L1112 , MATRIX_1:def 2;
L1114: ( width D140 ) = ( 0 ) by L1113 , MATRIX_1:def 3;
L1115: ( len C119 ) = ( 0 ) by L1112 , MATRIX_1:def 2;
thus L1116: (( len C119 ) = ( len D140 ) & ( width D140 ) = ( width C119 )) by L1115 , L1112 , L1114 , MATRIX_1:def 2 , MATRIX_1:def 3;
end;
suppose L1117: R8 > ( 0 );

L1118: ( width C119 ) = R9 by L1117 , MATRIX_1:23;
L1119: ( len C119 ) = R8 by L1117 , MATRIX_1:23;
thus L1120: (( len C119 ) = ( len D140 ) & ( width C119 ) = ( width D140 )) by L1119 , L1117 , L1118 , MATRIX_1:23;
end;
end;
L1122: ( Indices D137 ) = ( Indices D140 ) by MATRIX_1:26;
thus L1123: thesis by L1122 , L1110 , L1111;
end;

thus L1124: thesis;
end;
uniqueness
proof
let C122 , C123 being (Matrix of R8 , R9 , R10);
thus L1125: ((( len C120 ) = ( width C119 ) & ( len C122 ) = ( len C119 ) & ( width C122 ) = ( width C119 ) & (for R4 being Nat holds (for R5 being Nat holds ([ R4 , R5 ] in ( Indices C119 ) implies ((R4 <> R7 implies ( C122 * (R4 , R5) ) = ( C119 * (R4 , R5) )) & (R4 = R7 implies ( C122 * (R7 , R5) ) = ( C120 . R5 )))))) & ( len C123 ) = ( len C119 ) & ( width C123 ) = ( width C119 ) & (for R4 being Nat holds (for R5 being Nat holds ([ R4 , R5 ] in ( Indices C119 ) implies ((R4 <> R7 implies ( C123 * (R4 , R5) ) = ( C119 * (R4 , R5) )) & (R4 = R7 implies ( C123 * (R7 , R5) ) = ( C120 . R5 ))))))) implies C122 = C123)
proof
assume L1126: ( len C120 ) = ( width C119 );
assume that
L1127: ( len C122 ) = ( len C119 )
and
L1128: ( width C122 ) = ( width C119 )
and
L1129: (for R4 being Nat holds (for R5 being Nat holds ([ R4 , R5 ] in ( Indices C119 ) implies ((R4 <> R7 implies ( C122 * (R4 , R5) ) = ( C119 * (R4 , R5) )) & (R4 = R7 implies ( C122 * (R7 , R5) ) = ( C120 . R5 ))))));
assume that
L1130: ( len C123 ) = ( len C119 )
and
L1131: ( width C123 ) = ( width C119 )
and
L1132: (for R4 being Nat holds (for R5 being Nat holds ([ R4 , R5 ] in ( Indices C119 ) implies ((R4 <> R7 implies ( C123 * (R4 , R5) ) = ( C119 * (R4 , R5) )) & (R4 = R7 implies ( C123 * (R7 , R5) ) = ( C120 . R5 ))))));
L1133: (for R4 being Nat holds (for R5 being Nat holds ([ R4 , R5 ] in ( Indices C122 ) implies ( C122 * (R4 , R5) ) = ( C123 * (R4 , R5) ))))
proof
let R4 being Nat;
let R5 being Nat;
assume L1134: [ R4 , R5 ] in ( Indices C122 );
L1135: [ R4 , R5 ] in ( Indices C119 ) by L1134 , L1127 , L1128 , MATRIX_4:55;
L1136: (R4 = R7 implies ( C122 * (R7 , R5) ) = ( C120 . R5 )) by L1135 , L1129;
L1137: (R4 <> R7 implies ( C123 * (R4 , R5) ) = ( C119 * (R4 , R5) )) by L1132 , L1135;
L1138: (R4 <> R7 implies ( C122 * (R4 , R5) ) = ( C119 * (R4 , R5) )) by L1129 , L1135;
thus L1139: thesis by L1138 , L1132 , L1135 , L1136 , L1137;
end;
thus L1140: thesis by L1133 , MATRIX_1:27;
end;

thus L1141: thesis;
end;
end;
notation
let R7 being Nat;
let R8 being Nat;
let R9 being Nat;
let R10 being non  empty set;
let C124 being (Matrix of R8 , R9 , R10);
let C125 being (FinSequence of R10);
synonym RLine (C124 , R7 , C125) for ReplaceLine (C124 , R7 , C125);
end;
L1144: (for R8 being Nat holds (for R9 being Nat holds (for R10 being non  empty set holds (for R7 being Nat holds (for R27 being (Matrix of R8 , R9 , R10) holds (for R26 being (FinSequence of R10) holds (( Indices R27 ) = ( Indices ( RLine (R27 , R7 , R26) ) ) & ( len R27 ) = ( len ( RLine (R27 , R7 , R26) ) ) & ( width R27 ) = ( width ( RLine (R27 , R7 , R26) ) ))))))))
proof
let R8 being Nat;
let R9 being Nat;
let R10 being non  empty set;
let R7 being Nat;
let R27 being (Matrix of R8 , R9 , R10);
let R26 being (FinSequence of R10);
L1145:
now
per cases ;
case L1146: ( len R26 ) = ( width R27 );
L1147: ( width R27 ) = ( width ( RLine (R27 , R7 , R26) ) ) by L1146 , L1090;
L1148: ( len R27 ) = ( len ( ReplaceLine (R27 , R7 , R26) ) ) by L1146 , L1090;
thus L1149: thesis by L1148 , L1147 , MATRIX_4:55;
end;
case L1150: ( len R26 ) <> ( width R27 );
thus L1151: thesis by L1150 , L1090;
end;
end;
thus L1153: thesis by L1145;
end;
theorem
L1154: (for R8 being Nat holds (for R9 being Nat holds (for R10 being non  empty set holds (for R7 being Nat holds (for R27 being (Matrix of R8 , R9 , R10) holds (for R26 being (FinSequence of R10) holds (for R4 being Nat holds (R4 in ( Seg R8 ) implies (((R4 = R7 & ( len R26 ) = ( width R27 )) implies ( Line (( RLine (R27 , R7 , R26) ) , R4) ) = R26) & (R4 <> R7 implies ( Line (( RLine (R27 , R7 , R26) ) , R4) ) = ( Line (R27 , R4) )))))))))))
proof
let R8 being Nat;
let R9 being Nat;
let R10 being non  empty set;
let R7 being Nat;
let R27 being (Matrix of R8 , R9 , R10);
let R26 being (FinSequence of R10);
let R4 being Nat;
assume that
L1155: R4 in ( Seg R8 );
set D141 = ( RLine (R27 , R7 , R26) );
set D142 = ( Line (D141 , R4) );
thus L1156: ((R4 = R7 & ( len R26 ) = ( width R27 )) implies D142 = R26)
proof
assume that
L1157: R4 = R7
and
L1158: ( len R26 ) = ( width R27 );
L1159: ( width D141 ) = ( len R26 ) by L1158 , L1090;
L1160:
now
let C126 being Nat;
assume that
L1161: 1 <= C126
and
L1162: C126 <= ( len R26 );
L1163: C126 in ( NAT ) by ORDINAL1:def 12;
L1164: C126 in ( Seg ( width D141 ) ) by L1163 , L1159 , L1161 , L1162;
L1165: R8 = ( len D141 ) by MATRIX_1:def 2;
L1166: R4 in ( dom D141 ) by L1165 , L1155 , FINSEQ_1:def 3;
L1167: [ R4 , C126 ] in ( Indices D141 ) by L1166 , L1164 , ZFMISC_1:87;
L1168: ( Indices D141 ) = ( Indices R27 ) by L1144;
L1169: ( D142 . C126 ) = ( D141 * (R4 , C126) ) by L1164 , MATRIX_1:def 7;
thus L1170: ( D142 . C126 ) = ( R26 . C126 ) by L1169 , L1157 , L1158 , L1167 , L1168 , L1090;
end;
L1171: ( len D142 ) = ( len R26 ) by L1159 , MATRIX_1:def 7;
thus L1172: thesis by L1171 , L1160 , FINSEQ_1:14;
end;

set D143 = ( Line (R27 , R4) );
L1173: ( width R27 ) = ( len D143 ) by MATRIX_1:def 7;
L1174: ( width R27 ) = ( width D141 ) by L1144;
assume L1175: R4 <> R7;
L1176:
now
let C127 being Nat;
assume that
L1177: 1 <= C127
and
L1178: C127 <= ( len D143 );
L1179: C127 in ( NAT ) by ORDINAL1:def 12;
L1180: C127 in ( Seg ( len D143 ) ) by L1179 , L1177 , L1178;
L1181: ( D143 . C127 ) = ( R27 * (R4 , C127) ) by L1180 , L1173 , MATRIX_1:def 7;
L1182: R4 in ( Seg ( len R27 ) ) by L1155 , MATRIX_1:def 2;
L1183: R4 in ( dom R27 ) by L1182 , FINSEQ_1:def 3;
L1184: [ R4 , C127 ] in ( Indices R27 ) by L1183 , L1173 , L1180 , ZFMISC_1:87;
L1185: ( D142 . C127 ) = ( D141 * (R4 , C127) ) by L1174 , L1173 , L1180 , MATRIX_1:def 7;
L1186:
now
per cases ;
case L1187: ( len R26 ) = ( width R27 );
thus L1188: ( D143 . C127 ) = ( D142 . C127 ) by L1187 , L1175 , L1181 , L1185 , L1184 , L1090;
end;
case L1189: ( len R26 ) <> ( width R27 );
thus L1190: ( D143 . C127 ) = ( D142 . C127 ) by L1189 , L1090;
end;
end;
thus L1192: ( D143 . C127 ) = ( D142 . C127 ) by L1186;
end;
L1193: ( len D142 ) = ( width D141 ) by MATRIX_1:def 7;
thus L1194: thesis by L1193 , L1174 , L1173 , L1176 , FINSEQ_1:14;
end;
theorem
L1195: (for R7 being Nat holds (for R8 being Nat holds (for R9 being Nat holds (for R10 being non  empty set holds (for R27 being (Matrix of R8 , R9 , R10) holds (for R26 being (FinSequence of R10) holds (( len R26 ) = ( width R27 ) implies (for B106 being (Element of ( R10 * )) holds (R26 = B106 implies ( RLine (R27 , R7 , R26) ) = ( Replace (R27 , R7 , B106) ))))))))))
proof
let R7 being Nat;
let R8 being Nat;
let R9 being Nat;
let R10 being non  empty set;
let R27 being (Matrix of R8 , R9 , R10);
let R26 being (FinSequence of R10);
assume that
L1196: ( len R26 ) = ( width R27 );
set D144 = ( RLine (R27 , R7 , R26) );
let C128 being (Element of ( R10 * ));
assume that
L1197: R26 = C128;
set D145 = ( Replace (R27 , R7 , C128) );
L1198: ( len D145 ) = ( len R27 ) by FINSEQ_7:5;
L1199:
now
let C129 being Nat;
assume that
L1200: 1 <= C129
and
L1201: C129 <= ( len D145 );
L1202: C129 in ( NAT ) by ORDINAL1:def 12;
L1203: C129 in ( Seg ( len D145 ) ) by L1202 , L1200 , L1201;
L1204: C129 in ( dom D145 ) by L1203 , FINSEQ_1:def 3;
L1205: C129 in ( Seg R8 ) by L1198 , L1203 , MATRIX_1:def 2;
L1206: C129 in ( dom R27 ) by L1198 , L1203 , FINSEQ_1:def 3;
L1207:
now
per cases ;
case L1208: C129 = R7;
L1209: ( Line (D144 , C129) ) = R26 by L1208 , L1196 , L1205 , L1154;
L1210: ( D145 /. C129 ) = ( D145 . C129 ) by L1204 , PARTFUN1:def 6;
L1211: ( D145 /. C129 ) = C128 by L1198 , L1200 , L1201 , L1208 , FINSEQ_7:8;
thus L1212: ( D145 . C129 ) = ( D144 . C129 ) by L1211 , L1197 , L1205 , L1210 , L1209 , MATRIX_2:8;
end;
case L1213: C129 <> R7;
L1214: ( Line (R27 , C129) ) = ( Line (D144 , C129) ) by L1213 , L1205 , L1154;
L1215: ( D145 . C129 ) = ( D145 /. C129 ) by L1204 , PARTFUN1:def 6;
L1216: ( R27 . C129 ) = ( Line (R27 , C129) ) by L1205 , MATRIX_2:8;
L1217: ( R27 /. C129 ) = ( R27 . C129 ) by L1206 , PARTFUN1:def 6;
L1218: ( D145 /. C129 ) = ( R27 /. C129 ) by L1198 , L1200 , L1201 , L1213 , FINSEQ_7:10;
thus L1219: ( D145 . C129 ) = ( D144 . C129 ) by L1218 , L1205 , L1215 , L1217 , L1216 , L1214 , MATRIX_2:8;
end;
end;
thus L1221: ( D145 . C129 ) = ( D144 . C129 ) by L1207;
end;
L1222: ( len R27 ) = ( len D144 ) by L1144;
thus L1223: thesis by L1222 , L1199 , FINSEQ_1:14 , FINSEQ_7:5;
end;
theorem
L1224: (for R7 being Nat holds (for R8 being Nat holds (for R9 being Nat holds (for R10 being non  empty set holds (for R27 being (Matrix of R8 , R9 , R10) holds R27 = ( RLine (R27 , R7 , ( Line (R27 , R7) )) ))))))
proof
let R7 being Nat;
let R8 being Nat;
let R9 being Nat;
let R10 being non  empty set;
let R27 being (Matrix of R8 , R9 , R10);
set D146 = ( Line (R27 , R7) );
set D147 = ( RLine (R27 , R7 , D146) );
L1225: ( width R27 ) = ( len D146 ) by MATRIX_1:def 7;
L1226:
now
let C130 being Nat;
assume that
L1227: 1 <= C130
and
L1228: C130 <= ( len R27 );
L1229: C130 in ( NAT ) by ORDINAL1:def 12;
L1230: C130 in ( Seg ( len R27 ) ) by L1229 , L1227 , L1228;
L1231: R8 = ( len R27 ) by MATRIX_1:def 2;
L1232: ( D147 . C130 ) = ( Line (D147 , C130) ) by L1231 , L1230 , MATRIX_2:8;
L1233: ( Line (R27 , C130) ) = ( R27 . C130 ) by L1230 , L1231 , MATRIX_2:8;
L1234:
now
per cases ;
case L1235: C130 = R7;
thus L1236: ( D147 . C130 ) = ( R27 . C130 ) by L1235 , L1225 , L1230 , L1231 , L1233 , L1232 , L1154;
end;
case L1237: C130 <> R7;
thus L1238: ( D147 . C130 ) = ( R27 . C130 ) by L1237 , L1230 , L1231 , L1233 , L1232 , L1154;
end;
end;
thus L1240: ( D147 . C130 ) = ( R27 . C130 ) by L1234;
end;
L1241: ( len R27 ) = ( len D147 ) by L1144;
thus L1242: thesis by L1241 , L1226 , FINSEQ_1:14;
end;
L1243: (for R11 being Field holds (for R28 being (FinSequence of R11) holds (for R12 being (Element of R11) holds ( len R28 ) = ( len ( R12 * R28 ) ))))
proof
let R11 being Field;
let R28 being (FinSequence of R11);
let R12 being (Element of R11);
L1244: R28 is (Element of ( ( len R28 ) -tuples_on (the carrier of R11) )) by FINSEQ_2:92;
L1245: ( R12 * R28 ) is (Element of ( ( len R28 ) -tuples_on (the carrier of R11) )) by L1244 , FINSEQ_2:113;
thus L1246: thesis by L1245 , CARD_1:def 7;
end;
L1247: (for R11 being Field holds (for R28 being (FinSequence of R11) holds (for R29 being (FinSequence of R11) holds (( len R28 ) = ( len R29 ) implies ( len R28 ) = ( len ( R28 + R29 ) )))))
proof
let R11 being Field;
let C131 , C132 being (FinSequence of R11);
assume L1248: ( len C131 ) = ( len C132 );
L1249: C132 is (Element of ( ( len C131 ) -tuples_on (the carrier of R11) )) by L1248 , FINSEQ_2:92;
L1250: C131 is (Element of ( ( len C131 ) -tuples_on (the carrier of R11) )) by FINSEQ_2:92;
L1251: ( C131 + C132 ) is (Element of ( ( len C131 ) -tuples_on (the carrier of R11) )) by L1250 , L1249 , FINSEQ_2:120;
thus L1252: thesis by L1251 , CARD_1:def 7;
end;
theorem
L1253: (for R8 being Nat holds (for R11 being Field holds (for R12 being (Element of R11) holds (for R13 being (Element of R11) holds (for R7 being Nat holds (for R28 being (FinSequence of R11) holds (for R29 being (FinSequence of R11) holds (for R14 being (Element of ( Permutations R8 )) holds ((R7 in ( Seg R8 ) & ( len R28 ) = R8 & ( len R29 ) = R8) implies (for B107 being (Matrix of R8 , R11) holds ( (the multF of R11) $$ ( Path_matrix (R14 , ( RLine (B107 , R7 , ( ( R12 * R28 ) + ( R13 * R29 ) )) )) ) ) = ( ( R12 * ( (the multF of R11) $$ ( Path_matrix (R14 , ( RLine (B107 , R7 , R28) )) ) ) ) + ( R13 * ( (the multF of R11) $$ ( Path_matrix (R14 , ( RLine (B107 , R7 , R29) )) ) ) ) )))))))))))
proof
let R8 being Nat;
let R11 being Field;
let R12 being (Element of R11);
let R13 being (Element of R11);
let R7 being Nat;
let R28 being (FinSequence of R11);
let R29 being (FinSequence of R11);
let R14 being (Element of ( Permutations R8 ));
assume that
L1254: R7 in ( Seg R8 )
and
L1255: ( len R28 ) = R8
and
L1256: ( len R29 ) = R8;
L1257: ( Seg R8 ) <> ( {} ) by L1254;
L1258: R8 <> ( 0 ) by L1257;
reconsider D148 = R7 as (Element of ( NAT )) by ORDINAL1:def 12;
set D149 = (the multF of R11);
let C133 being (Matrix of R8 , R11);
set D150 = ( RLine (C133 , R7 , ( ( R12 * R28 ) + ( R13 * R29 ) )) );
set D151 = ( Path_matrix (R14 , D150) );
L1259: ( len D151 ) = R8 by MATRIX_3:def 7;
consider C134 being (Function of ( NAT ) , (the carrier of R11)) such that L1260: ( C134 . 1 ) = ( D151 . 1 ) and L1261: (for B108 being (Element of ( NAT )) holds ((( 0 ) <> B108 & B108 < ( len D151 )) implies ( C134 . ( B108 + 1 ) ) = ( D149 . (( C134 . B108 ) , ( D151 . ( B108 + 1 ) )) ))) and L1262: ( D149 $$ D151 ) = ( C134 . ( len D151 ) ) by L1259 , L1258 , FINSOP_1:def 1;
set D152 = ( RLine (C133 , R7 , R29) );
set D153 = ( Path_matrix (R14 , D152) );
L1263: ( len D153 ) = R8 by MATRIX_3:def 7;
consider C135 being (Function of ( NAT ) , (the carrier of R11)) such that L1264: ( C135 . 1 ) = ( D153 . 1 ) and L1265: (for B109 being (Element of ( NAT )) holds ((( 0 ) <> B109 & B109 < ( len D153 )) implies ( C135 . ( B109 + 1 ) ) = ( D149 . (( C135 . B109 ) , ( D153 . ( B109 + 1 ) )) ))) and L1266: ( D149 $$ D153 ) = ( C135 . ( len D153 ) ) by L1263 , L1258 , FINSOP_1:def 1;
set D154 = ( RLine (C133 , R7 , R28) );
set D155 = ( Path_matrix (R14 , D154) );
L1267: ( len D155 ) = R8 by MATRIX_3:def 7;
consider C136 being (Function of ( NAT ) , (the carrier of R11)) such that L1268: ( C136 . 1 ) = ( D155 . 1 ) and L1269: (for B110 being (Element of ( NAT )) holds ((( 0 ) <> B110 & B110 < ( len D155 )) implies ( C136 . ( B110 + 1 ) ) = ( D149 . (( C136 . B110 ) , ( D155 . ( B110 + 1 ) )) ))) and L1270: ( D149 $$ D155 ) = ( C136 . ( len D155 ) ) by L1267 , L1258 , FINSOP_1:def 1;
L1271: R8 >= 1 by L1258 , NAT_1:14;
defpred S12[ Nat ] means ((1 <= $1 & $1 < D148) implies (( C136 . $1 ) = ( C135 . $1 ) & ( C134 . $1 ) = ( C136 . $1 )));
L1272: (for B111 being (Element of ( NAT )) holds (B111 in ( Seg R8 ) implies ((B111 <> D148 implies (( D151 . B111 ) = ( D155 . B111 ) & ( D155 . B111 ) = ( D153 . B111 ))) & (B111 = D148 implies (ex B112 , B113 being (Element of R11) st (B112 = ( D155 . B111 ) & B113 = ( D153 . B111 ) & ( D151 . B111 ) = ( ( R12 * B112 ) + ( R13 * B113 ) )))))))
proof
let C137 being (Element of ( NAT ));
assume that
L1273: C137 in ( Seg R8 );
L1274: ( R14 . C137 ) in ( Seg R8 ) by L1259 , L1273 , MATRIX_7:14;
reconsider D156 = ( R14 . C137 ) as (Element of ( NAT )) by L1274;
L1275: C137 in ( dom D155 ) by L1267 , L1273 , FINSEQ_1:def 3;
L1276: C137 in ( dom D153 ) by L1263 , L1273 , FINSEQ_1:def 3;
L1277: [ C137 , D156 ] in [: ( Seg R8 ) , ( Seg R8 ) :] by L1273 , L1274 , ZFMISC_1:87;
L1278: [ C137 , D156 ] in ( Indices C133 ) by L1277 , MATRIX_1:24;
L1279: ( dom R29 ) = ( Seg R8 ) by L1256 , FINSEQ_1:def 3;
L1280: ( R29 /. D156 ) = ( R29 . D156 ) by L1279 , L1259 , L1273 , MATRIX_7:14 , PARTFUN1:def 6;
L1281: ( dom R28 ) = ( Seg R8 ) by L1255 , FINSEQ_1:def 3;
L1282: ( R28 /. D156 ) = ( R28 . D156 ) by L1281 , L1259 , L1273 , MATRIX_7:14 , PARTFUN1:def 6;
reconsider D157 = ( R28 . D156 ) , D158 = ( R29 . D156 ) as (Element of R11) by L1282 , L1280;
L1283: ( len ( R13 * R29 ) ) = R8 by L1256 , L1243;
L1284: ( dom ( R13 * R29 ) ) = ( Seg R8 ) by L1283 , FINSEQ_1:def 3;
L1285: ( ( R13 * R29 ) . D156 ) = ( R13 * D158 ) by L1284 , L1259 , L1273 , FVSUM_1:50 , MATRIX_7:14;
L1286: ( len ( R12 * R28 ) ) = R8 by L1255 , L1243;
L1287: ( len ( ( R12 * R28 ) + ( R13 * R29 ) ) ) = R8 by L1286 , L1283 , L1247;
L1288: ( dom ( ( R12 * R28 ) + ( R13 * R29 ) ) ) = ( Seg R8 ) by L1287 , FINSEQ_1:def 3;
L1289: ( dom ( R12 * R28 ) ) = ( Seg R8 ) by L1286 , FINSEQ_1:def 3;
L1290: ( ( R12 * R28 ) . D156 ) = ( R12 * D157 ) by L1289 , L1259 , L1273 , FVSUM_1:50 , MATRIX_7:14;
L1291: ( width C133 ) = R8 by MATRIX_1:24;
L1292: C137 in ( dom D151 ) by L1259 , L1273 , FINSEQ_1:def 3;
thus L1293: (C137 <> D148 implies (( D151 . C137 ) = ( D155 . C137 ) & ( D155 . C137 ) = ( D153 . C137 )))
proof
assume L1294: C137 <> D148;
L1295: ( D152 * (C137 , D156) ) = ( C133 * (C137 , D156) ) by L1294 , L1256 , L1278 , L1291 , L1090;
L1296: ( D154 * (C137 , D156) ) = ( C133 * (C137 , D156) ) by L1255 , L1278 , L1291 , L1294 , L1090;
L1297: ( D155 . C137 ) = ( C133 * (C137 , D156) ) by L1296 , L1275 , MATRIX_3:def 7;
L1298: ( D150 * (C137 , D156) ) = ( C133 * (C137 , D156) ) by L1287 , L1278 , L1291 , L1294 , L1090;
thus L1299: thesis by L1298 , L1292 , L1276 , L1295 , L1297 , MATRIX_3:def 7;
end;

assume L1300: C137 = D148;
L1301: ( D154 * (C137 , D156) ) = ( R28 . D156 ) by L1300 , L1255 , L1278 , L1291 , L1090;
L1302: ( D152 * (C137 , D156) ) = ( R29 . D156 ) by L1256 , L1278 , L1291 , L1300 , L1090;
take D157;
take D158;
L1303: ( D150 * (C137 , D156) ) = ( ( ( R12 * R28 ) + ( R13 * R29 ) ) . D156 ) by L1287 , L1278 , L1291 , L1300 , L1090;
L1304: ( D150 * (C137 , D156) ) = ( ( R12 * D157 ) + ( R13 * D158 ) ) by L1303 , L1259 , L1273 , L1288 , L1290 , L1285 , FVSUM_1:17 , MATRIX_7:14;
thus L1305: thesis by L1304 , L1292 , L1275 , L1276 , L1301 , L1302 , MATRIX_3:def 7;
end;
L1306: (for B114 being (Element of ( NAT )) holds (S12[ B114 ] implies S12[ ( B114 + 1 ) ]))
proof
let C138 being (Element of ( NAT ));
assume that
L1307: S12[ C138 ];
set D159 = ( C138 + 1 );
assume that
L1308: 1 <= D159
and
L1309: D159 < D148;
L1310: D148 <= R8 by L1254 , FINSEQ_1:1;
L1311: D159 <= R8 by L1310 , L1309 , XXREAL_0:2;
L1312: C138 < R8 by L1311 , NAT_1:13;
L1313: D159 in ( Seg R8 ) by L1308 , L1311;
L1314:
now
per cases ;
case L1315: C138 = ( 0 );
thus L1316: thesis by L1315 , L1260 , L1268 , L1264 , L1272 , L1309 , L1313;
end;
case L1317: C138 > ( 0 );
L1318: ( C136 . D159 ) = ( D149 . (( C136 . C138 ) , ( D155 . D159 )) ) by L1317 , L1267 , L1269 , L1312;
L1319: ( 0 ) < ( C138 + ( 0 ) ) by L1317;
L1320: ( C135 . D159 ) = ( D149 . (( C135 . C138 ) , ( D153 . D159 )) ) by L1263 , L1265 , L1312 , L1317;
L1321: ( C134 . D159 ) = ( D149 . (( C134 . C138 ) , ( D151 . D159 )) ) by L1259 , L1261 , L1312 , L1317;
thus L1322: thesis by L1321 , L1272 , L1307 , L1309 , L1313 , L1319 , L1318 , L1320 , NAT_1:13 , NAT_1:19;
end;
end;
thus L1324: thesis by L1314;
end;
defpred S13[ Nat ] means ((1 <= $1 & D148 <= $1 & $1 <= R8) implies (for B115 being (Element of ( NAT )) holds ($1 = B115 implies ( C134 . B115 ) = ( ( R12 * ( C136 . B115 ) ) + ( R13 * ( C135 . B115 ) ) ))));
L1325: S12[ ( 0 ) ];
L1326: ( C134 . D148 ) = ( ( R12 * ( C136 . D148 ) ) + ( R13 * ( C135 . D148 ) ) )
proof
consider C139 , C140 being (Element of R11) such that L1327: C139 = ( D155 . D148 ) and L1328: C140 = ( D153 . D148 ) and L1329: ( D151 . D148 ) = ( ( R12 * C139 ) + ( R13 * C140 ) ) by L1254 , L1272;
L1330: D148 >= 1 by L1254 , FINSEQ_1:1;
L1331:
now
per cases  by L1330 , XXREAL_0:1;
case L1332: D148 > 1;
reconsider D160 = ( D148 - 1 ) as (Element of ( NAT )) by L1332 , NAT_1:20;
L1333: ( D160 + 1 ) > ( 1 + ( 0 ) ) by L1332;
L1334: D160 < ( D160 + 1 ) by NAT_1:19;
L1335: D148 <= R8 by L1254 , FINSEQ_1:1;
L1336: D160 < R8 by L1335 , L1334 , XXREAL_0:2;
L1337: ( C136 . D148 ) = ( ( C136 . D160 ) * C139 ) by L1336 , L1267 , L1269 , L1327 , L1333;
L1338: ( ( C136 . D160 ) * ( R12 * C139 ) ) = ( R12 * ( C136 . D148 ) ) by L1337 , GROUP_1:def 3;
L1339: (for B116 being (Element of ( NAT )) holds S12[ B116 ]) from NAT_1:sch 1(L1325 , L1306);
L1340: 1 <= D160 by L1333 , NAT_1:19;
L1341: ( C136 . D160 ) = ( C135 . D160 ) by L1340 , L1339 , L1334;
L1342: ( C135 . D148 ) = ( ( C136 . D160 ) * C140 ) by L1341 , L1263 , L1265 , L1328 , L1333 , L1336;
L1343: ( ( C136 . D160 ) * ( R13 * C140 ) ) = ( R13 * ( C135 . D148 ) ) by L1342 , GROUP_1:def 3;
L1344: ( C134 . D160 ) = ( C136 . D160 ) by L1339 , L1334 , L1340;
L1345: ( C134 . D148 ) = ( ( C136 . D160 ) * ( ( R12 * C139 ) + ( R13 * C140 ) ) ) by L1344 , L1259 , L1261 , L1329 , L1333 , L1336;
thus L1346: thesis by L1345 , L1338 , L1343 , VECTSP_1:def 7;
end;
case L1347: D148 = 1;
thus L1348: thesis by L1347 , L1260 , L1268 , L1264 , L1327 , L1328 , L1329;
end;
end;
thus L1350: thesis by L1331;
end;
L1351: (for B117 being (Element of ( NAT )) holds (S13[ B117 ] implies S13[ ( B117 + 1 ) ]))
proof
let C141 being (Element of ( NAT ));
assume that
L1352: S13[ C141 ];
set D161 = ( C141 + 1 );
assume that
L1353: 1 <= D161
and
L1354: D148 <= D161
and
L1355: D161 <= R8;
let C142 being (Element of ( NAT ));
assume that
L1356: C142 = D161;
L1357:
now
per cases  by L1354 , XXREAL_0:1;
case L1358: D161 = D148;
thus L1359: thesis by L1358 , L1326 , L1356;
end;
case L1360: D161 > D148;
L1361: D161 in ( Seg R8 ) by L1353 , L1355;
L1362: ( D151 . D161 ) = ( D155 . D161 ) by L1361 , L1272 , L1360;
L1363: D161 in ( dom D155 ) by L1267 , L1361 , FINSEQ_1:def 3;
L1364: ( D155 /. D161 ) = ( D155 . D161 ) by L1363 , PARTFUN1:def 6;
reconsider D162 = ( D155 . D161 ) as (Element of R11) by L1364;
L1365: C141 < R8 by L1355 , NAT_1:13;
L1366: ( ( R13 * ( C135 . C141 ) ) * D162 ) = ( R13 * ( ( C135 . C141 ) * D162 ) ) by GROUP_1:def 3;
L1367: ( ( R12 * ( C136 . C141 ) ) * D162 ) = ( R12 * ( ( C136 . C141 ) * D162 ) ) by GROUP_1:def 3;
L1368: 1 <= D148 by L1254 , FINSEQ_1:1;
L1369: C141 >= D148 by L1360 , NAT_1:13;
L1370: ( C134 . C141 ) = ( ( R12 * ( C136 . C141 ) ) + ( R13 * ( C135 . C141 ) ) ) by L1369 , L1352 , L1355 , L1368 , NAT_1:13 , XXREAL_0:2;
L1371: ( C134 . D161 ) = ( ( ( R12 * ( C136 . C141 ) ) + ( R13 * ( C135 . C141 ) ) ) * D162 ) by L1370 , L1259 , L1261 , L1369 , L1365 , L1368 , L1362;
L1372: ( D155 . D161 ) = ( D153 . D161 ) by L1272 , L1360 , L1361;
L1373: ( C135 . D161 ) = ( ( C135 . C141 ) * D162 ) by L1372 , L1263 , L1265 , L1369 , L1365 , L1368;
L1374: ( C136 . D161 ) = ( ( C136 . C141 ) * D162 ) by L1267 , L1269 , L1369 , L1365 , L1368;
thus L1375: thesis by L1374 , L1356 , L1371 , L1373 , L1367 , L1366 , VECTSP_1:def 7;
end;
end;
thus L1377: thesis by L1357;
end;
L1378: D148 <= R8 by L1254 , FINSEQ_1:1;
L1379: S13[ ( 0 ) ];
L1380: (for B118 being (Element of ( NAT )) holds S13[ B118 ]) from NAT_1:sch 1(L1379 , L1351);
thus L1381: thesis by L1380 , L1271 , L1259 , L1267 , L1263 , L1262 , L1270 , L1266 , L1378;
end;
theorem
L1382: (for R8 being Nat holds (for R11 being Field holds (for R12 being (Element of R11) holds (for R13 being (Element of R11) holds (for R7 being Nat holds (for R28 being (FinSequence of R11) holds (for R29 being (FinSequence of R11) holds (for R14 being (Element of ( Permutations R8 )) holds ((R7 in ( Seg R8 ) & ( len R28 ) = R8 & ( len R29 ) = R8) implies (for B119 being (Matrix of R8 , R11) holds ( ( Path_product ( RLine (B119 , R7 , ( ( R12 * R28 ) + ( R13 * R29 ) )) ) ) . R14 ) = ( ( R12 * ( ( Path_product ( RLine (B119 , R7 , R28) ) ) . R14 ) ) + ( R13 * ( ( Path_product ( RLine (B119 , R7 , R29) ) ) . R14 ) ) )))))))))))
proof
let R8 being Nat;
let R11 being Field;
let R12 being (Element of R11);
let R13 being (Element of R11);
let R7 being Nat;
let R28 being (FinSequence of R11);
let R29 being (FinSequence of R11);
let R14 being (Element of ( Permutations R8 ));
assume that
L1383: R7 in ( Seg R8 )
and
L1384: ( len R28 ) = R8
and
L1385: ( len R29 ) = R8;
set D163 = (the multF of R11);
let C143 being (Matrix of R8 , R11);
set D164 = ( RLine (C143 , R7 , ( ( R12 * R28 ) + ( R13 * R29 ) )) );
set D165 = ( RLine (C143 , R7 , R28) );
set D166 = ( RLine (C143 , R7 , R29) );
set D167 = ( Path_matrix (R14 , D164) );
set D168 = ( Path_product D164 );
set D169 = ( Path_matrix (R14 , D165) );
set D170 = ( Path_product D165 );
set D171 = ( Path_matrix (R14 , D166) );
set D172 = ( Path_product D166 );
L1386:
now
per cases ;
case L1387: R14 is  even;
L1388: ( D163 $$ D167 ) = ( - (( D163 $$ D167 ) , R14) ) by L1387 , MATRIX_2:def 13;
L1389: ( D168 . R14 ) = ( D163 $$ D167 ) by L1388 , MATRIX_3:def 8;
L1390: ( D163 $$ D171 ) = ( - (( D163 $$ D171 ) , R14) ) by L1387 , MATRIX_2:def 13;
L1391: ( D172 . R14 ) = ( D163 $$ D171 ) by L1390 , MATRIX_3:def 8;
L1392: ( D163 $$ D169 ) = ( - (( D163 $$ D169 ) , R14) ) by L1387 , MATRIX_2:def 13;
L1393: ( D170 . R14 ) = ( D163 $$ D169 ) by L1392 , MATRIX_3:def 8;
thus L1394: thesis by L1393 , L1383 , L1384 , L1385 , L1391 , L1389 , L1253;
end;
case L1395: R14 is  odd;
L1396: ( - ( D163 $$ D167 ) ) = ( - (( D163 $$ D167 ) , R14) ) by L1395 , MATRIX_2:def 13;
L1397: ( D168 . R14 ) = ( - ( D163 $$ D167 ) ) by L1396 , MATRIX_3:def 8;
L1398: ( - ( D163 $$ D169 ) ) = ( - (( D163 $$ D169 ) , R14) ) by L1395 , MATRIX_2:def 13;
L1399: ( D170 . R14 ) = ( - ( D163 $$ D169 ) ) by L1398 , MATRIX_3:def 8;
L1400: ( - ( R12 * ( D163 $$ D169 ) ) ) = ( R12 * ( - ( D163 $$ D169 ) ) ) by VECTSP_1:8;
L1401: ( - ( D163 $$ D171 ) ) = ( - (( D163 $$ D171 ) , R14) ) by L1395 , MATRIX_2:def 13;
L1402: ( D172 . R14 ) = ( - ( D163 $$ D171 ) ) by L1401 , MATRIX_3:def 8;
L1403: ( - ( ( R12 * ( D163 $$ D169 ) ) + ( R13 * ( D163 $$ D171 ) ) ) ) = ( ( - ( R12 * ( D163 $$ D169 ) ) ) - ( R13 * ( D163 $$ D171 ) ) ) by VECTSP_1:17;
L1404: ( D163 $$ D167 ) = ( ( R12 * ( D163 $$ D169 ) ) + ( R13 * ( D163 $$ D171 ) ) ) by L1383 , L1384 , L1385 , L1253;
thus L1405: thesis by L1404 , L1399 , L1402 , L1397 , L1400 , L1403 , VECTSP_1:8;
end;
end;
thus L1407: thesis by L1386;
end;
theorem
L1408: (for R8 being Nat holds (for R11 being Field holds (for R12 being (Element of R11) holds (for R13 being (Element of R11) holds (for R7 being Nat holds (for R28 being (FinSequence of R11) holds (for R29 being (FinSequence of R11) holds ((R7 in ( Seg R8 ) & ( len R28 ) = R8 & ( len R29 ) = R8) implies (for B120 being (Matrix of R8 , R11) holds ( Det ( RLine (B120 , R7 , ( ( R12 * R28 ) + ( R13 * R29 ) )) ) ) = ( ( R12 * ( Det ( RLine (B120 , R7 , R28) ) ) ) + ( R13 * ( Det ( RLine (B120 , R7 , R29) ) ) ) ))))))))))
proof
let R8 being Nat;
let R11 being Field;
let R12 being (Element of R11);
let R13 being (Element of R11);
let R7 being Nat;
let R28 being (FinSequence of R11);
let R29 being (FinSequence of R11);
assume that
L1409: R7 in ( Seg R8 )
and
L1410: ( len R28 ) = R8
and
L1411: ( len R29 ) = R8;
set D173 = ( Permutations R8 );
set D174 = (the carrier of R11);
set D175 = (the addF of R11);
let C144 being (Matrix of R8 , R11);
set D176 = ( RLine (C144 , R7 , ( ( R12 * R28 ) + ( R13 * R29 ) )) );
set D177 = ( RLine (C144 , R7 , R28) );
set D178 = ( RLine (C144 , R7 , R29) );
set D179 = ( Path_product D176 );
set D180 = ( Path_product D177 );
set D181 = ( Path_product D178 );
set D182 = ( FinOmega D173 );
L1412: D182 = D173 by MATRIX_2:26 , MATRIX_2:def 14;
consider C145 being (Function of ( Fin D173 ) , D174) such that L1413: ( Det D176 ) = ( C145 . D182 ) and L1414: (for B121 being (Element of D174) holds (B121 is_a_unity_wrt D175 implies ( C145 . ( {} ) ) = B121)) and L1415: (for B122 being (Element of D173) holds ( C145 . { B122 } ) = ( D179 . B122 )) and L1416: (for B123 being (Element of ( Fin D173 )) holds ((B123 c= D182 & B123 <> ( {} )) implies (for B124 being (Element of D173) holds (B124 in ( D182 \ B123 ) implies ( C145 . ( B123 \/ { B124 } ) ) = ( D175 . (( C145 . B123 ) , ( D179 . B124 )) ))))) by L1412 , SETWISEO:def 3;
consider C146 being (Function of ( Fin D173 ) , D174) such that L1417: ( Det D178 ) = ( C146 . D182 ) and L1418: (for B125 being (Element of D174) holds (B125 is_a_unity_wrt D175 implies ( C146 . ( {} ) ) = B125)) and L1419: (for B126 being (Element of D173) holds ( C146 . { B126 } ) = ( D181 . B126 )) and L1420: (for B127 being (Element of ( Fin D173 )) holds ((B127 c= D182 & B127 <> ( {} )) implies (for B128 being (Element of D173) holds (B128 in ( D182 \ B127 ) implies ( C146 . ( B127 \/ { B128 } ) ) = ( D175 . (( C146 . B127 ) , ( D181 . B128 )) ))))) by L1412 , SETWISEO:def 3;
consider C147 being (Function of ( Fin D173 ) , D174) such that L1421: ( Det D177 ) = ( C147 . D182 ) and L1422: (for B129 being (Element of D174) holds (B129 is_a_unity_wrt D175 implies ( C147 . ( {} ) ) = B129)) and L1423: (for B130 being (Element of D173) holds ( C147 . { B130 } ) = ( D180 . B130 )) and L1424: (for B131 being (Element of ( Fin D173 )) holds ((B131 c= D182 & B131 <> ( {} )) implies (for B132 being (Element of D173) holds (B132 in ( D182 \ B131 ) implies ( C147 . ( B131 \/ { B132 } ) ) = ( D175 . (( C147 . B131 ) , ( D180 . B132 )) ))))) by L1412 , SETWISEO:def 3;
defpred S14[ Nat ] means (for B133 being (Element of ( Fin D173 )) holds (( card B133 ) = $1 implies ( C145 . B133 ) = ( ( R12 * ( C147 . B133 ) ) + ( R13 * ( C146 . B133 ) ) )));
L1425: (for B134 being (Element of ( NAT )) holds (S14[ B134 ] implies S14[ ( B134 + 1 ) ]))
proof
let C148 being (Element of ( NAT ));
assume that
L1426: S14[ C148 ];
let C149 being (Element of ( Fin D173 ));
assume that
L1427: ( card C149 ) = ( C148 + 1 );
L1428:
now
per cases ;
case L1429: C148 = ( 0 );
consider R1 being set such that L1430: C149 = { R1 } by L1429 , L1427 , CARD_2:42;
L1431: R1 in C149 by L1430 , TARSKI:def 1;
L1432: C149 c= D173 by FINSUB_1:def 5;
reconsider D183 = R1 as (Element of D173) by L1432 , L1431;
L1433: ( C147 . C149 ) = ( D180 . D183 ) by L1423 , L1430;
L1434: ( C146 . C149 ) = ( D181 . D183 ) by L1419 , L1430;
L1435: ( C145 . C149 ) = ( D179 . D183 ) by L1415 , L1430;
thus L1436: thesis by L1435 , L1409 , L1410 , L1411 , L1433 , L1434 , L1382;
end;
case L1437: C148 > ( 0 );
consider R1 being set such that L1438: R1 in C149 by L1427 , CARD_1:27 , XBOOLE_0:def 1;
L1439: C149 c= D173 by FINSUB_1:def 5;
reconsider D184 = R1 as (Element of D173) by L1439 , L1438;
L1440: C149 c= D173 by FINSUB_1:def 5;
L1441: ( C149 \ { D184 } ) c= D173 by L1440 , XBOOLE_1:1;
reconsider D185 = ( C149 \ { D184 } ) as (Element of ( Fin D173 )) by L1441 , FINSUB_1:def 5;
L1442: (not D184 in D185) by ZFMISC_1:56;
L1443: D184 in ( D182 \ D185 ) by L1442 , L1412 , XBOOLE_0:def 5;
L1444: ( { D184 } \/ D185 ) = C149 by L1438 , ZFMISC_1:116;
L1445: ( C148 + 1 ) = ( ( card D185 ) + 1 ) by L1444 , L1427 , L1442 , CARD_2:41;
L1446: ( C145 . D185 ) = ( ( R12 * ( C147 . D185 ) ) + ( R13 * ( C146 . D185 ) ) ) by L1445 , L1426;
L1447: D185 c= D182 by L1412 , FINSUB_1:def 5;
L1448: ( C145 . C149 ) = ( D175 . (( C145 . D185 ) , ( D179 . D184 )) ) by L1447 , L1416 , L1437 , L1444 , L1445 , L1443 , CARD_1:27;
L1449: ( C145 . C149 ) = ( ( ( R12 * ( C147 . D185 ) ) + ( R13 * ( C146 . D185 ) ) ) + ( ( R12 * ( D180 . D184 ) ) + ( R13 * ( D181 . D184 ) ) ) ) by L1448 , L1409 , L1410 , L1411 , L1446 , L1382
.= ( ( R12 * ( C147 . D185 ) ) + ( ( R13 * ( C146 . D185 ) ) + ( ( R12 * ( D180 . D184 ) ) + ( R13 * ( D181 . D184 ) ) ) ) ) by RLVECT_1:def 3
.= ( ( R12 * ( C147 . D185 ) ) + ( ( R12 * ( D180 . D184 ) ) + ( ( R13 * ( C146 . D185 ) ) + ( R13 * ( D181 . D184 ) ) ) ) ) by RLVECT_1:def 3
.= ( ( ( R12 * ( C147 . D185 ) ) + ( R12 * ( D180 . D184 ) ) ) + ( ( R13 * ( C146 . D185 ) ) + ( R13 * ( D181 . D184 ) ) ) ) by RLVECT_1:def 3
.= ( ( R12 * ( ( C147 . D185 ) + ( D180 . D184 ) ) ) + ( ( R13 * ( C146 . D185 ) ) + ( R13 * ( D181 . D184 ) ) ) ) by VECTSP_1:def 7
.= ( ( R12 * ( D175 . (( C147 . D185 ) , ( D180 . D184 )) ) ) + ( R13 * ( ( C146 . D185 ) + ( D181 . D184 ) ) ) ) by VECTSP_1:def 7
.= ( ( R12 * ( D175 . (( C147 . D185 ) , ( D180 . D184 )) ) ) + ( R13 * ( D175 . (( C146 . D185 ) , ( D181 . D184 )) ) ) );
L1450: ( C147 . C149 ) = ( D175 . (( C147 . D185 ) , ( D180 . D184 )) ) by L1424 , L1437 , L1444 , L1445 , L1443 , L1447 , CARD_1:27;
thus L1451: thesis by L1450 , L1420 , L1437 , L1444 , L1445 , L1443 , L1447 , L1449 , CARD_1:27;
end;
end;
thus L1453: thesis by L1428;
end;
L1454: S14[ ( 0 ) ]
proof
L1455: ( R13 * ( 0. R11 ) ) = ( 0. R11 ) by VECTSP_1:6;
L1456: ( R12 * ( 0. R11 ) ) = ( 0. R11 ) by VECTSP_1:6;
let C150 being (Element of ( Fin D173 ));
assume L1457: ( card C150 ) = ( 0 );
L1458: C150 = ( {} ) by L1457;
L1459: ( C147 . C150 ) = ( 0. R11 ) by L1458 , L1422 , FVSUM_1:6;
L1460: ( C146 . C150 ) = ( 0. R11 ) by L1418 , L1458 , FVSUM_1:6;
L1461: ( C145 . C150 ) = ( 0. R11 ) by L1414 , L1458 , FVSUM_1:6;
thus L1462: thesis by L1461 , L1459 , L1460 , L1456 , L1455 , RLVECT_1:4;
end;
L1463: (for B135 being (Element of ( NAT )) holds S14[ B135 ]) from NAT_1:sch 1(L1454 , L1425);
L1464: S14[ ( card D182 ) ] by L1463;
thus L1465: thesis by L1464 , L1413 , L1421 , L1417;
end;
theorem
L1466: (for R7 being Nat holds (for R8 being Nat holds (for R11 being Field holds (for R12 being (Element of R11) holds (for R28 being (FinSequence of R11) holds (for R30 being (Matrix of R8 , R11) holds ((R7 in ( Seg R8 ) & ( len R28 ) = R8) implies ( Det ( RLine (R30 , R7 , ( R12 * R28 )) ) ) = ( R12 * ( Det ( RLine (R30 , R7 , R28) ) ) ))))))))
proof
let R7 being Nat;
let R8 being Nat;
let R11 being Field;
let R12 being (Element of R11);
let R28 being (FinSequence of R11);
let R30 being (Matrix of R8 , R11);
assume that
L1467: R7 in ( Seg R8 )
and
L1468: ( len R28 ) = R8;
L1469: R28 is (Element of ( ( len R28 ) -tuples_on (the carrier of R11) )) by FINSEQ_2:92;
L1470: ( ( R12 * R28 ) + ( ( 0. R11 ) * R28 ) ) = ( ( R12 + ( 0. R11 ) ) * R28 ) by L1469 , FVSUM_1:55;
L1471: ( R12 + ( 0. R11 ) ) = R12 by RLVECT_1:4;
thus L1472: ( Det ( RLine (R30 , R7 , ( R12 * R28 )) ) ) = ( ( R12 * ( Det ( RLine (R30 , R7 , R28) ) ) ) + ( ( 0. R11 ) * ( Det ( RLine (R30 , R7 , R28) ) ) ) ) by L1471 , L1467 , L1468 , L1470 , L1408
.= ( ( R12 * ( Det ( RLine (R30 , R7 , R28) ) ) ) + ( 0. R11 ) ) by VECTSP_1:6
.= ( R12 * ( Det ( RLine (R30 , R7 , R28) ) ) ) by RLVECT_1:4;
end;
theorem
L1473: (for R7 being Nat holds (for R8 being Nat holds (for R11 being Field holds (for R12 being (Element of R11) holds (for R30 being (Matrix of R8 , R11) holds (R7 in ( Seg R8 ) implies ( Det ( RLine (R30 , R7 , ( R12 * ( Line (R30 , R7) ) )) ) ) = ( R12 * ( Det R30 ) )))))))
proof
let R7 being Nat;
let R8 being Nat;
let R11 being Field;
let R12 being (Element of R11);
let R30 being (Matrix of R8 , R11);
L1474: ( len ( Line (R30 , R7) ) ) = ( width R30 ) by MATRIX_1:def 7;
assume L1475: R7 in ( Seg R8 );
L1476: ( Det ( RLine (R30 , R7 , ( R12 * ( Line (R30 , R7) ) )) ) ) = ( R12 * ( Det ( RLine (R30 , R7 , ( Line (R30 , R7) )) ) ) ) by L1475 , L1474 , L1466 , MATRIX_1:24;
thus L1477: thesis by L1476 , L1224;
end;
theorem
L1478: (for R7 being Nat holds (for R8 being Nat holds (for R11 being Field holds (for R28 being (FinSequence of R11) holds (for R29 being (FinSequence of R11) holds (for R30 being (Matrix of R8 , R11) holds ((R7 in ( Seg R8 ) & ( len R28 ) = R8 & ( len R29 ) = R8) implies ( Det ( RLine (R30 , R7 , ( R28 + R29 )) ) ) = ( ( Det ( RLine (R30 , R7 , R28) ) ) + ( Det ( RLine (R30 , R7 , R29) ) ) ))))))))
proof
let R7 being Nat;
let R8 being Nat;
let R11 being Field;
let R28 being (FinSequence of R11);
let R29 being (FinSequence of R11);
let R30 being (Matrix of R8 , R11);
assume that
L1479: R7 in ( Seg R8 )
and
L1480: ( len R28 ) = R8
and
L1481: ( len R29 ) = R8;
L1482: R28 is (Element of ( ( len R28 ) -tuples_on (the carrier of R11) )) by FINSEQ_2:92;
L1483: ( ( 1_ R11 ) * R28 ) = R28 by L1482 , FVSUM_1:57;
L1484: R29 is (Element of ( ( len R28 ) -tuples_on (the carrier of R11) )) by L1480 , L1481 , FINSEQ_2:92;
L1485: ( ( 1_ R11 ) * R29 ) = R29 by L1484 , FVSUM_1:57;
thus L1486: ( Det ( RLine (R30 , R7 , ( R28 + R29 )) ) ) = ( ( ( 1_ R11 ) * ( Det ( RLine (R30 , R7 , R28) ) ) ) + ( ( 1_ R11 ) * ( Det ( RLine (R30 , R7 , R29) ) ) ) ) by L1485 , L1479 , L1480 , L1481 , L1483 , L1408
.= ( ( Det ( RLine (R30 , R7 , R28) ) ) + ( ( 1_ R11 ) * ( Det ( RLine (R30 , R7 , R29) ) ) ) ) by VECTSP_1:def 4
.= ( ( Det ( RLine (R30 , R7 , R28) ) ) + ( Det ( RLine (R30 , R7 , R29) ) ) ) by VECTSP_1:def 4;
end;
L1487: (for R8 being Nat holds (for R9 being Nat holds (for R10 being non  empty set holds (for R19 being (Function of ( Seg R8 ) , ( Seg R8 )) holds (for R27 being (Matrix of R8 , R9 , R10) holds ( R27 * R19 ) is (Matrix of R8 , R9 , R10))))))
proof
let R8 being Nat;
let R9 being Nat;
let R10 being non  empty set;
let R19 being (Function of ( Seg R8 ) , ( Seg R8 ));
let R27 being (Matrix of R8 , R9 , R10);
L1488: ( rng R19 ) c= ( Seg R8 ) by RELAT_1:def 19;
L1489: ( len R27 ) = R8 by MATRIX_1:def 2;
L1490: ( dom R27 ) = ( Seg R8 ) by L1489 , FINSEQ_1:def 3;
L1491: ( dom R19 ) = ( Seg R8 ) by FUNCT_2:52;
L1492: ( dom ( R27 * R19 ) ) = ( Seg R8 ) by L1491 , L1488 , L1490 , RELAT_1:27;
reconsider D186 = ( R27 * R19 ) as FinSequence by L1492 , FINSEQ_1:def 2;
L1493: (for R1 being set holds (R1 in ( rng D186 ) implies (ex B136 being (FinSequence of R10) st (R1 = B136 & ( len B136 ) = R9))))
proof
L1494: ( rng R27 ) c= ( R10 * ) by FINSEQ_1:def 4;
let R1 being set;
assume that
L1495: R1 in ( rng D186 );
L1496: ( rng D186 ) c= ( rng R27 ) by RELAT_1:26;
L1497: R1 in ( R10 * ) by L1496 , L1495 , L1494 , TARSKI:def 3;
reconsider D187 = R1 as (FinSequence of R10) by L1497 , FINSEQ_1:def 11;
take D187;
L1498: D187 in ( rng R27 ) by L1495 , FUNCT_1:14;
thus L1499: thesis by L1498 , MATRIX_1:def 2;
end;
reconsider D188 = D186 as (Matrix of R10) by L1493 , MATRIX_1:9;
L1500: R8 is (Element of ( NAT )) by ORDINAL1:def 12;
L1501: (( len D188 ) = R8 & (for B137 being (FinSequence of R10) holds (B137 in ( rng D188 ) implies ( len B137 ) = R9)))
proof
thus L1502: ( len D188 ) = R8 by L1492 , L1500 , FINSEQ_1:def 3;
let C151 being (FinSequence of R10);
assume L1503: C151 in ( rng D188 );
L1504: (ex B138 being (FinSequence of R10) st (C151 = B138 & ( len B138 ) = R9)) by L1503 , L1493;
thus L1505: thesis by L1504;
end;
thus L1506: thesis by L1501 , MATRIX_1:def 2;
end;
begin
definition
let R8 being Nat;
let R9 being Nat;
let R10 being non  empty set;
let C152 being (Function of ( Seg R8 ) , ( Seg R8 ));
let C153 being (Matrix of R8 , R9 , R10);
redefine func C153 * C152 -> (Matrix of R8 , R9 , R10) means 
:L1507: (( len it ) = ( len C153 ) & ( width it ) = ( width C153 ) & (for R4 being Nat holds (for R5 being Nat holds (for R6 being Nat holds (([ R4 , R5 ] in ( Indices C153 ) & ( C152 . R4 ) = R6) implies ( it * (R4 , R5) ) = ( C153 * (R6 , R5) ))))));
compatibility
proof
reconsider D189 = ( C153 * C152 ) as (Matrix of R8 , R9 , R10) by L1487;
let C154 being (Matrix of R8 , R9 , R10);
thus L1508: (C154 = ( C153 * C152 ) implies (( len C154 ) = ( len C153 ) & ( width C154 ) = ( width C153 ) & (for R4 being Nat holds (for R5 being Nat holds (for R6 being Nat holds (([ R4 , R5 ] in ( Indices C153 ) & ( C152 . R4 ) = R6) implies ( C154 * (R4 , R5) ) = ( C153 * (R6 , R5) )))))))
proof
L1509: ( rng C152 ) c= ( Seg R8 ) by RELAT_1:def 19;
assume L1510: C154 = ( C153 * C152 );
L1511: ( len C153 ) = R8 by MATRIX_1:def 2;
L1512: ( len C154 ) = R8 by MATRIX_1:def 2;
L1513:
now
per cases ;
case L1514: R8 = ( 0 );
L1515: ( width C153 ) = ( 0 ) by L1514 , L1511 , MATRIX_1:def 3;
thus L1516: ( width C153 ) = ( width C154 ) by L1515 , L1512 , L1514 , MATRIX_1:def 3;
end;
case L1517: R8 > ( 0 );
L1518: ( width C153 ) = R9 by L1517 , L1511 , MATRIX_1:20;
thus L1519: ( width C153 ) = ( width C154 ) by L1518 , L1512 , L1517 , MATRIX_1:20;
end;
end;
thus L1521: (( len C154 ) = ( len C153 ) & ( width C154 ) = ( width C153 )) by L1513 , L1511 , MATRIX_1:def 2;
let R4 being Nat;
let R5 being Nat;
let R6 being Nat;
assume that
L1522: [ R4 , R5 ] in ( Indices C153 )
and
L1523: ( C152 . R4 ) = R6;
L1524: ( Indices C153 ) = [: ( Seg R8 ) , ( Seg ( width C153 ) ) :] by MATRIX_1:25;
L1525: R4 in ( Seg R8 ) by L1524 , L1522 , ZFMISC_1:87;
L1526: ( Line (C154 , R4) ) = ( C154 . R4 ) by L1525 , MATRIX_2:8;
L1527: ( dom C152 ) = ( Seg R8 ) by FUNCT_2:52;
L1528: ( C152 . R4 ) in ( rng C152 ) by L1527 , L1525 , FUNCT_1:def 3;
L1529: ( len C154 ) = R8 by MATRIX_1:25;
L1530: ( dom C154 ) = ( Seg R8 ) by L1529 , FINSEQ_1:def 3;
L1531: ( C154 . R4 ) = ( C153 . R6 ) by L1530 , L1510 , L1523 , L1525 , FUNCT_1:12;
L1532: ( Line (C154 , R4) ) = ( Line (C153 , R6) ) by L1531 , L1523 , L1528 , L1509 , L1526 , MATRIX_2:8;
L1533: R5 in ( Seg ( width C153 ) ) by L1522 , ZFMISC_1:87;
L1534: ( ( Line (C153 , R6) ) . R5 ) = ( C153 * (R6 , R5) ) by L1533 , MATRIX_1:def 7;
thus L1535: thesis by L1534 , L1513 , L1533 , L1532 , MATRIX_1:def 7;
end;

assume that
L1536: ( len C154 ) = ( len C153 )
and
L1537: ( width C154 ) = ( width C153 );
assume L1538: (for R4 being Nat holds (for R5 being Nat holds (for R6 being Nat holds (([ R4 , R5 ] in ( Indices C153 ) & ( C152 . R4 ) = R6) implies ( C154 * (R4 , R5) ) = ( C153 * (R6 , R5) )))));
L1539: (for R4 being Nat holds (for R5 being Nat holds ([ R4 , R5 ] in ( Indices C154 ) implies ( C154 * (R4 , R5) ) = ( D189 * (R4 , R5) ))))
proof
L1540: ( Indices C154 ) = ( Indices C153 ) by L1536 , L1537 , MATRIX_4:55;
let R4 being Nat;
let R5 being Nat;
assume that
L1541: [ R4 , R5 ] in ( Indices C154 );
L1542: ( Indices C154 ) = [: ( Seg R8 ) , ( Seg ( width C153 ) ) :] by L1537 , MATRIX_1:25;
L1543: R4 in ( Seg R8 ) by L1542 , L1541 , ZFMISC_1:87;
L1544: ( Line (D189 , R4) ) = ( D189 . R4 ) by L1543 , MATRIX_2:8;
L1545: ( rng C152 ) c= ( Seg R8 ) by RELAT_1:def 19;
L1546: ( dom C152 ) = ( Seg R8 ) by FUNCT_2:52;
L1547: ( C152 . R4 ) in ( rng C152 ) by L1546 , L1543 , FUNCT_1:def 3;
L1548: ( C152 . R4 ) in ( Seg R8 ) by L1547 , L1545;
reconsider D190 = ( C152 . R4 ) as (Element of ( NAT )) by L1548;
L1549: ( len D189 ) = R8 by MATRIX_1:25;
L1550: ( dom D189 ) = ( Seg R8 ) by L1549 , FINSEQ_1:def 3;
L1551: ( D189 . R4 ) = ( C153 . D190 ) by L1550 , L1543 , FUNCT_1:12;
L1552: ( Line (D189 , R4) ) = ( Line (C153 , D190) ) by L1551 , L1547 , L1545 , L1544 , MATRIX_2:8;
L1553: ( width C153 ) = ( len ( Line (C153 , D190) ) ) by MATRIX_1:def 7;
L1554: ( width D189 ) = ( len ( Line (D189 , R4) ) ) by MATRIX_1:def 7;
L1555: R5 in ( Seg ( width C153 ) ) by L1537 , L1541 , ZFMISC_1:87;
L1556: ( ( Line (C153 , D190) ) . R5 ) = ( C153 * (D190 , R5) ) by L1555 , MATRIX_1:def 7;
L1557: ( D189 * (R4 , R5) ) = ( C153 * (D190 , R5) ) by L1556 , L1555 , L1552 , L1553 , L1554 , MATRIX_1:def 7;
thus L1558: thesis by L1557 , L1538 , L1541 , L1540;
end;
thus L1559: thesis by L1539 , MATRIX_1:27;
end;
correctness by L1487;
end;
theorem
L1561: (for R8 being Nat holds (for R9 being Nat holds (for R10 being non  empty set holds (for R19 being (Function of ( Seg R8 ) , ( Seg R8 )) holds (for R27 being (Matrix of R8 , R9 , R10) holds (( Indices R27 ) = ( Indices ( R27 * R19 ) ) & (for R4 being Nat holds (for R5 being Nat holds ([ R4 , R5 ] in ( Indices R27 ) implies (ex R6 being Nat st (( R19 . R4 ) = R6 & [ R6 , R5 ] in ( Indices R27 ) & ( ( R27 * R19 ) * (R4 , R5) ) = ( R27 * (R6 , R5) ))))))))))))
proof
let R8 being Nat;
let R9 being Nat;
let R10 being non  empty set;
let R19 being (Function of ( Seg R8 ) , ( Seg R8 ));
let R27 being (Matrix of R8 , R9 , R10);
set D191 = ( R27 * R19 );
L1562: ( dom R19 ) = ( Seg R8 ) by FUNCT_2:52;
L1563: ( width R27 ) = ( width D191 ) by L1507;
L1564: ( len R27 ) = ( len D191 ) by L1507;
thus L1565: ( Indices R27 ) = ( Indices D191 ) by L1564 , L1563 , MATRIX_4:55;
let R4 being Nat;
let R5 being Nat;
assume that
L1566: [ R4 , R5 ] in ( Indices R27 );
L1567: ( Indices R27 ) = [: ( Seg R8 ) , ( Seg ( width R27 ) ) :] by MATRIX_1:25;
L1568: R4 in ( Seg R8 ) by L1567 , L1566 , ZFMISC_1:87;
L1569: ( R19 . R4 ) in ( rng R19 ) by L1568 , L1562 , FUNCT_1:def 3;
L1570: ( rng R19 ) c= ( Seg R8 ) by RELAT_1:def 19;
L1571: ( R19 . R4 ) in ( Seg R8 ) by L1570 , L1569;
reconsider D192 = ( R19 . R4 ) as (Element of ( NAT )) by L1571;
L1572: R5 in ( Seg ( width R27 ) ) by L1566 , ZFMISC_1:87;
L1573: [ D192 , R5 ] in [: ( Seg R8 ) , ( Seg ( width R27 ) ) :] by L1572 , L1569 , L1570 , ZFMISC_1:87;
L1574: [ D192 , R5 ] in ( Indices R27 ) by L1573 , MATRIX_1:25;
L1575: ( D191 * (R4 , R5) ) = ( R27 * (D192 , R5) ) by L1566 , L1507;
thus L1576: thesis by L1575 , L1574;
end;
theorem
L1577: (for R8 being Nat holds (for R9 being Nat holds (for R10 being non  empty set holds (for B139 being (Matrix of R8 , R9 , R10) holds (for R19 being (Function of ( Seg R8 ) , ( Seg R8 )) holds (for R6 being Nat holds (R6 in ( Seg R8 ) implies ( Line (( B139 * R19 ) , R6) ) = ( B139 . ( R19 . R6 ) ))))))))
proof
let R8 being Nat;
let R9 being Nat;
let R10 being non  empty set;
let C155 being (Matrix of R8 , R9 , R10);
let R19 being (Function of ( Seg R8 ) , ( Seg R8 ));
let R6 being Nat;
assume that
L1578: R6 in ( Seg R8 );
L1579: ( len ( C155 * R19 ) ) = R8 by MATRIX_1:def 2;
L1580: R6 in ( dom ( C155 * R19 ) ) by L1579 , L1578 , FINSEQ_1:def 3;
L1581: ( ( C155 * R19 ) . R6 ) = ( C155 . ( R19 . R6 ) ) by L1580 , FUNCT_1:12;
thus L1582: thesis by L1581 , L1578 , MATRIX_2:8;
end;
theorem
L1583: (for R8 being Nat holds (for R9 being Nat holds (for R10 being non  empty set holds (for R27 being (Matrix of R8 , R9 , R10) holds ( R27 * ( idseq R8 ) ) = R27))))
proof
let R8 being Nat;
let R9 being Nat;
let R10 being non  empty set;
let R27 being (Matrix of R8 , R9 , R10);
reconsider D193 = ( idseq R8 ) as (Permutation of ( Seg R8 ));
L1584: ( width ( R27 * D193 ) ) = ( width R27 ) by L1507;
L1585: (for R4 being Nat holds (for R5 being Nat holds ([ R4 , R5 ] in ( Indices R27 ) implies ( R27 * (R4 , R5) ) = ( ( R27 * D193 ) * (R4 , R5) ))))
proof
let R4 being Nat;
let R5 being Nat;
assume that
L1586: [ R4 , R5 ] in ( Indices R27 );
L1587: [ R4 , R5 ] in [: ( Seg R8 ) , ( Seg ( width R27 ) ) :] by L1586 , MATRIX_1:25;
L1588: R4 in ( Seg R8 ) by L1587 , ZFMISC_1:87;
L1589: (ex R6 being Nat st (( D193 . R4 ) = R6 & [ R6 , R5 ] in ( Indices R27 ) & ( ( R27 * D193 ) * (R4 , R5) ) = ( R27 * (R6 , R5) ))) by L1586 , L1561;
thus L1590: thesis by L1589 , L1588 , FUNCT_1:17;
end;
L1591: ( len ( R27 * D193 ) ) = ( len R27 ) by L1507;
thus L1592: thesis by L1591 , L1584 , L1585 , MATRIX_1:21;
end;
theorem
L1593: (for R8 being Nat holds (for R11 being Field holds (for R30 being (Matrix of R8 , R11) holds (for R15 being (Element of ( Permutations R8 )) holds (for R17 being (Permutation of ( Seg R8 )) holds (for R16 being (Element of ( Permutations R8 )) holds (R16 = ( R15 * ( R17 " ) ) implies ( Path_matrix (R15 , ( R30 * R17 )) ) = ( ( Path_matrix (R16 , R30) ) * R17 ))))))))
proof
let R8 being Nat;
let R11 being Field;
let R30 being (Matrix of R8 , R11);
let R15 being (Element of ( Permutations R8 ));
let R17 being (Permutation of ( Seg R8 ));
let R16 being (Element of ( Permutations R8 ));
assume that
L1594: R16 = ( R15 * ( R17 " ) );
reconsider D194 = R17 as (Element of ( Permutations R8 )) by MATRIX_2:def 9;
set D195 = ( R30 * R17 );
set D196 = ( Path_matrix (R16 , R30) );
set D197 = ( Path_matrix (R15 , ( R30 * R17 )) );
L1595: ( dom D194 ) = ( Seg R8 ) by FUNCT_2:52;
L1596: R15 is (Permutation of ( Seg R8 )) by MATRIX_2:def 9;
L1597: ( dom R15 ) = ( Seg R8 ) by L1596 , FUNCT_2:52;
L1598: ( rng R15 ) = ( Seg R8 ) by L1596 , FUNCT_2:def 3;
L1599: R16 is (Permutation of ( Seg R8 )) by MATRIX_2:def 9;
L1600: ( dom R16 ) = ( Seg R8 ) by L1599 , FUNCT_2:52;
L1601: ( len D196 ) = R8 by MATRIX_3:def 7;
L1602: ( dom D196 ) = ( Seg R8 ) by L1601 , FINSEQ_1:def 3;
L1603: ( rng D194 ) = ( Seg R8 ) by FUNCT_2:def 3;
L1604: ( dom ( D196 * D194 ) ) = ( Seg R8 ) by L1603 , L1595 , L1602 , RELAT_1:27;
reconsider D198 = ( D196 * D194 ) as FinSequence by L1604 , FINSEQ_1:def 2;
L1605: ( len D197 ) = R8 by MATRIX_3:def 7;
L1606: ( rng R16 ) = ( Seg R8 ) by L1599 , FUNCT_2:def 3;
L1607:
now
let C156 being Nat;
assume that
L1608: 1 <= C156
and
L1609: C156 <= ( len D197 );
L1610: C156 in ( NAT ) by ORDINAL1:def 12;
L1611: C156 in ( Seg R8 ) by L1610 , L1605 , L1608 , L1609;
L1612: ( R15 . C156 ) in ( Seg R8 ) by L1611 , L1597 , L1598 , FUNCT_1:3;
reconsider D199 = ( R15 . C156 ) as (Element of ( NAT )) by L1612;
L1613: C156 = ( ( D194 " ) . ( D194 . C156 ) ) by L1595 , L1611 , FUNCT_1:34;
L1614: [ C156 , D199 ] in [: ( Seg R8 ) , ( Seg R8 ) :] by L1611 , L1612 , ZFMISC_1:87;
L1615: [ C156 , D199 ] in ( Indices R30 ) by L1614 , MATRIX_1:24;
consider C157 being Nat such that L1616: ( D194 . C156 ) = C157 and L1617: [ C157 , D199 ] in ( Indices R30 ) and L1618: ( D195 * (C156 , D199) ) = ( R30 * (C157 , D199) ) by L1615 , L1561;
L1619: ( dom D198 ) = ( Seg R8 ) by L1595 , L1603 , L1602 , RELAT_1:27;
L1620: ( D198 . C156 ) = ( D196 . C157 ) by L1619 , L1611 , L1616 , FUNCT_1:12;
L1621: ( Indices R30 ) = [: ( Seg R8 ) , ( Seg R8 ) :] by MATRIX_1:24;
L1622: C157 in ( Seg R8 ) by L1621 , L1617 , ZFMISC_1:87;
L1623: ( R16 . C157 ) in ( Seg R8 ) by L1622 , L1600 , L1606 , FUNCT_1:3;
reconsider D200 = ( R16 . C157 ) as (Element of ( NAT )) by L1623;
L1624: ( D196 . C157 ) = ( R30 * (C157 , D200) ) by L1602 , L1622 , MATRIX_3:def 7;
L1625: ( dom D197 ) = ( Seg R8 ) by L1605 , FINSEQ_1:def 3;
L1626: ( R16 . C157 ) = ( R15 . ( ( D194 " ) . ( D194 . C156 ) ) ) by L1594 , L1600 , L1616 , L1622 , FUNCT_1:12;
thus L1627: ( D198 . C156 ) = ( D197 . C156 ) by L1626 , L1611 , L1618 , L1624 , L1620 , L1613 , L1625 , MATRIX_3:def 7;
end;
L1628: R8 is (Element of ( NAT )) by ORDINAL1:def 12;
L1629: ( len D198 ) = R8 by L1628 , L1604 , FINSEQ_1:def 3;
thus L1630: thesis by L1629 , L1605 , L1607 , FINSEQ_1:14;
end;
theorem
L1631: (for R8 being Nat holds (for R11 being Field holds (for R30 being (Matrix of R8 , R11) holds (for R15 being (Element of ( Permutations R8 )) holds (for R17 being (Permutation of ( Seg R8 )) holds (for R16 being (Element of ( Permutations R8 )) holds (R16 = ( R15 * ( R17 " ) ) implies ( (the multF of R11) $$ ( Path_matrix (R15 , ( R30 * R17 )) ) ) = ( (the multF of R11) $$ ( Path_matrix (R16 , R30) ) ))))))))
proof
let R8 being Nat;
let R11 being Field;
let R30 being (Matrix of R8 , R11);
let R15 being (Element of ( Permutations R8 ));
let R17 being (Permutation of ( Seg R8 ));
let R16 being (Element of ( Permutations R8 ));
assume that
L1632: R16 = ( R15 * ( R17 " ) );
set D201 = (the multF of R11);
set D202 = ( Path_matrix (R16 , R30) );
set D203 = ( Path_matrix (R15 , ( R30 * R17 )) );
L1633:
now
per cases ;
case L1634: R8 = ( 0 );
L1635: ( len D203 ) = ( 0 ) by L1634 , MATRIX_3:def 7;
L1636: ( D201 $$ D203 ) = ( the_unity_wrt D201 ) by L1635 , FINSOP_1:def 1;
L1637: ( len D202 ) = ( 0 ) by L1634 , MATRIX_3:def 7;
thus L1638: thesis by L1637 , L1636 , FINSOP_1:def 1;
end;
case L1639: ( R8 + ( 0 ) ) > ( 0 );
L1640: R8 >= 1 by L1639 , NAT_1:19;
L1641: ( len D202 ) = R8 by MATRIX_3:def 7;
L1642: R17 is (Element of ( Permutations R8 )) by MATRIX_2:def 9;
L1643: D203 = ( D202 * R17 ) by L1632 , L1593;
thus L1644: thesis by L1643 , L1640 , L1641 , L1642 , MATRIX_7:33;
end;
end;
thus L1646: thesis by L1633;
end;
theorem
L1647: (for R8 being Nat holds (for R11 being Field holds (for R21 being (Element of ( Permutations ( R8 + 2 ) )) holds (for R22 being (Element of ( Permutations ( R8 + 2 ) )) holds (R22 = ( R21 " ) implies ( sgn (R21 , R11) ) = ( sgn (R22 , R11) ))))))
proof
let R8 being Nat;
let R11 being Field;
L1648: ( ( R8 + 1 ) + 1 ) >= ( ( 0 ) + 1 ) by XREAL_1:6;
let R21 being (Element of ( Permutations ( R8 + 2 ) ));
let R22 being (Element of ( Permutations ( R8 + 2 ) ));
assume L1649: R22 = ( R21 " );
L1650: ( - (( 1_ R11 ) , R21) ) = ( - (( 1_ R11 ) , R22) ) by L1649 , L1648 , MATRIX_7:29;
L1651: ( - (( 1_ R11 ) , R22) ) = ( ( sgn (R22 , R11) ) * ( 1_ R11 ) ) by L1052;
L1652: ( - (( 1_ R11 ) , R21) ) = ( ( sgn (R21 , R11) ) * ( 1_ R11 ) ) by L1052;
L1653: ( ( sgn (R21 , R11) ) * ( 1_ R11 ) ) = ( sgn (R22 , R11) ) by L1652 , L1650 , L1651 , VECTSP_1:def 4;
thus L1654: thesis by L1653 , VECTSP_1:def 4;
end;
theorem
L1655: (for R8 being Nat holds (for R11 being Field holds (for B140 being (Matrix of ( R8 + 2 ) , R11) holds (for R20 being (Element of ( Permutations ( R8 + 2 ) )) holds (for R24 being (Permutation of ( Seg ( R8 + 2 ) )) holds (R20 = R24 implies (for R21 being (Element of ( Permutations ( R8 + 2 ) )) holds (for R22 being (Element of ( Permutations ( R8 + 2 ) )) holds (R22 = ( R21 * ( R24 " ) ) implies ( ( Path_product B140 ) . R22 ) = ( ( sgn (R20 , R11) ) * ( ( Path_product ( B140 * R24 ) ) . R21 ) ))))))))))
proof
let R8 being Nat;
let R11 being Field;
let C158 being (Matrix of ( R8 + 2 ) , R11);
let R20 being (Element of ( Permutations ( R8 + 2 ) ));
let R24 being (Permutation of ( Seg ( R8 + 2 ) ));
assume that
L1656: R20 = R24;
set D204 = ( Permutations ( R8 + 2 ) );
set D205 = (the multF of R11);
let R21 being (Element of ( Permutations ( R8 + 2 ) ));
let R22 being (Element of ( Permutations ( R8 + 2 ) ));
assume that
L1657: R22 = ( R21 * ( R24 " ) );
reconsider D206 = ( R20 " ) as (Element of D204) by MATRIX_7:18;
set D207 = ( D205 $$ ( Path_matrix (R22 , C158) ) );
set D208 = ( D205 $$ ( Path_matrix (R21 , ( C158 * R24 )) ) );
L1658: ( sgn (R22 , R11) ) = ( ( sgn (R21 , R11) ) * ( sgn (D206 , R11) ) ) by L1656 , L1657 , L974
.= ( ( sgn (R21 , R11) ) * ( sgn (R20 , R11) ) ) by L1647;
L1659: ( - (D207 , R22) ) = ( ( ( sgn (R20 , R11) ) * ( sgn (R21 , R11) ) ) * D207 ) by L1658 , L1052
.= ( ( sgn (R20 , R11) ) * ( ( sgn (R21 , R11) ) * D207 ) ) by GROUP_1:def 3
.= ( ( sgn (R20 , R11) ) * ( ( sgn (R21 , R11) ) * D208 ) ) by L1657 , L1631
.= ( ( sgn (R20 , R11) ) * ( - (D208 , R21) ) ) by L1052
.= ( ( sgn (R20 , R11) ) * ( ( Path_product ( C158 * R24 ) ) . R21 ) ) by MATRIX_3:def 8;
thus L1660: thesis by L1659 , MATRIX_3:def 8;
end;
theorem
L1661: (for R8 being Nat holds (for R14 being (Element of ( Permutations R8 )) holds (ex B141 being (Permutation of ( Permutations R8 )) st (for B142 being (Element of ( Permutations R8 )) holds ( B141 . B142 ) = ( B142 * R14 )))))
proof
let R8 being Nat;
let R14 being (Element of ( Permutations R8 ));
set D209 = ( Permutations R8 );
defpred S15[ set , set ] means (for B143 being (Element of ( Permutations R8 )) holds ($1 = B143 implies $2 = ( B143 * R14 )));
L1662: ( card D209 ) = ( card D209 );
L1663: (for R1 being set holds (R1 in D209 implies (ex B144 being set st (B144 in D209 & S15[ R1 , B144 ]))))
proof
let R1 being set;
assume L1664: R1 in D209;
reconsider D210 = R1 as (Element of D209) by L1664;
reconsider D211 = ( D210 * R14 ) as (Element of D209) by MATRIX_9:39;
take D211;
thus L1665: thesis;
end;
consider C159 being (Function of D209 , D209) such that L1666: (for R1 being set holds (R1 in D209 implies S15[ R1 , ( C159 . R1 ) ])) from FUNCT_2:sch 1(L1663);
L1667: (for B145 , B146 being set holds ((B145 in D209 & B146 in D209 & ( C159 . B145 ) = ( C159 . B146 )) implies B145 = B146))
proof
let C160 , C161 being set;
assume that
L1668: C160 in D209
and
L1669: C161 in D209
and
L1670: ( C159 . C160 ) = ( C159 . C161 );
reconsider D212 = C160 , D213 = C161 as (Element of D209) by L1668 , L1669;
L1671: D213 is (Permutation of ( Seg R8 )) by MATRIX_2:def 9;
L1672: ( dom D213 ) = ( Seg R8 ) by L1671 , FUNCT_2:52;
L1673: ( C159 . D213 ) = ( D213 * R14 ) by L1666;
L1674: ( C159 . D212 ) = ( D212 * R14 ) by L1666;
L1675: R14 is (Permutation of ( Seg R8 )) by MATRIX_2:def 9;
L1676: ( rng R14 ) = ( Seg R8 ) by L1675 , FUNCT_2:def 3;
L1677: D212 is (Permutation of ( Seg R8 )) by MATRIX_2:def 9;
L1678: ( dom D212 ) = ( Seg R8 ) by L1677 , FUNCT_2:52;
L1679: D212 = ( D212 * ( id ( rng R14 ) ) ) by L1678 , L1676 , RELAT_1:52
.= ( D212 * ( R14 * ( R14 " ) ) ) by FUNCT_1:39
.= ( ( D213 * R14 ) * ( R14 " ) ) by L1670 , L1674 , L1673 , RELAT_1:36
.= ( D213 * ( R14 * ( R14 " ) ) ) by RELAT_1:36
.= ( D213 * ( id ( rng R14 ) ) ) by FUNCT_1:39
.= D213 by L1676 , L1672 , RELAT_1:52;
thus L1680: thesis by L1679;
end;
L1681: C159 is  one-to-one by L1667 , FUNCT_2:19;
L1682: D209 is  finite  finite  finite  finite set by MATRIX_2:26;
L1683: C159 is  onto by L1682 , L1681 , L1662 , STIRL2_1:60;
reconsider D214 = C159 as (Permutation of D209) by L1683 , L1681;
take D214;
thus L1684: thesis by L1666;
end;
theorem
L1685: (for R8 being Nat holds (for R11 being Field holds (for B147 being (Matrix of ( R8 + 2 ) , ( R8 + 2 ) , R11) holds (for R20 being (Element of ( Permutations ( R8 + 2 ) )) holds (for R24 being (Permutation of ( Seg ( R8 + 2 ) )) holds (R20 = R24 implies ( Det ( B147 * R24 ) ) = ( ( sgn (R20 , R11) ) * ( Det B147 ) )))))))
proof
let R8 being Nat;
let R11 being Field;
set D215 = ( R8 + 2 );
let C162 being (Matrix of D215 , D215 , R11);
let R20 being (Element of ( Permutations ( R8 + 2 ) ));
let R24 being (Permutation of ( Seg ( R8 + 2 ) ));
assume that
L1686: R20 = R24;
set D216 = ( Path_product C162 );
set D217 = ( C162 * R24 );
set D218 = ( Permutations D215 );
set D219 = (the carrier of R11);
set D220 = (the addF of R11);
set D221 = ( Path_product D217 );
set D222 = ( FinOmega D218 );
reconsider D223 = ( R20 " ) as (Element of D218) by MATRIX_7:18;
L1687: D222 = D218 by MATRIX_2:26 , MATRIX_2:def 14;
consider C163 being (Function of ( Fin D218 ) , D219) such that L1688: ( Det C162 ) = ( C163 . D222 ) and L1689: (for B148 being (Element of D219) holds (B148 is_a_unity_wrt D220 implies ( C163 . ( {} ) ) = B148)) and L1690: (for B149 being (Element of D218) holds ( C163 . { B149 } ) = ( D216 . B149 )) and L1691: (for B150 being (Element of ( Fin D218 )) holds ((B150 c= D222 & B150 <> ( {} )) implies (for B151 being (Element of D218) holds (B151 in ( D222 \ B150 ) implies ( C163 . ( B150 \/ { B151 } ) ) = ( D220 . (( C163 . B150 ) , ( D216 . B151 )) ))))) by L1687 , SETWISEO:def 3;
consider C164 being (Permutation of D218) such that L1692: (for B152 being (Element of D218) holds ( C164 . B152 ) = ( B152 * D223 )) by L1661;
consider C165 being (Function of ( Fin D218 ) , D219) such that L1693: ( Det D217 ) = ( C165 . D222 ) and L1694: (for B153 being (Element of D219) holds (B153 is_a_unity_wrt D220 implies ( C165 . ( {} ) ) = B153)) and L1695: (for B154 being (Element of D218) holds ( C165 . { B154 } ) = ( D221 . B154 )) and L1696: (for B155 being (Element of ( Fin D218 )) holds ((B155 c= D222 & B155 <> ( {} )) implies (for B156 being (Element of D218) holds (B156 in ( D222 \ B155 ) implies ( C165 . ( B155 \/ { B156 } ) ) = ( D220 . (( C165 . B155 ) , ( D221 . B156 )) ))))) by L1687 , SETWISEO:def 3;
defpred S16[ Nat ] means ($1 <> ( 0 ) implies (for B157 being (Element of ( Fin D218 )) holds (( card B157 ) = $1 implies ( ( sgn (R20 , R11) ) * ( C165 . B157 ) ) = ( C163 . ( C164 .: B157 ) ))));
L1697: (for B158 being (Element of ( NAT )) holds (S16[ B158 ] implies S16[ ( B158 + 1 ) ]))
proof
let C166 being (Element of ( NAT ));
assume that
L1698: S16[ C166 ];
set D224 = ( C166 + 1 );
assume L1699: D224 <> ( 0 );
let C167 being (Element of ( Fin D218 ));
assume that
L1700: ( card C167 ) = D224;
per cases ;
suppose L1701: C166 = ( 0 );

consider R1 being set such that L1702: C167 = { R1 } by L1701 , L1700 , CARD_2:42;
L1703: R1 in C167 by L1702 , TARSKI:def 1;
L1704: C167 c= D218 by FINSUB_1:def 5;
reconsider D225 = R1 as (Element of D218) by L1704 , L1703;
L1705: ( C163 . { ( C164 . D225 ) } ) = ( D216 . ( C164 . D225 ) ) by L1690;
L1706: ( C164 . D225 ) = ( D225 * D223 ) by L1692;
L1707: D218 = ( dom C164 ) by FUNCT_2:52;
L1708: ( C165 . { D225 } ) = ( D221 . D225 ) by L1695;
L1709: ( ( sgn (R20 , R11) ) * ( C165 . C167 ) ) = ( C163 . { ( C164 . D225 ) } ) by L1708 , L1686 , L1702 , L1705 , L1706 , L1655;
L1710: ( ( sgn (R20 , R11) ) * ( C165 . C167 ) ) = ( C163 . ( Im (C164 , D225) ) ) by L1709 , L1707 , FUNCT_1:59;
thus L1711: thesis by L1710 , L1702;
end;
suppose L1712: C166 > ( 0 );

consider R1 being set such that L1713: R1 in C167 by L1700 , CARD_1:27 , XBOOLE_0:def 1;
L1714: C167 c= D218 by FINSUB_1:def 5;
reconsider D226 = R1 as (Element of D218) by L1714 , L1713;
L1715: ( C164 .: ( C167 \ { D226 } ) ) c= ( rng C164 ) by RELAT_1:111;
L1716: ( C164 .: ( C167 \ { D226 } ) ) c= D218 by L1715 , FUNCT_2:def 3;
reconsider D227 = ( C164 . D226 ) as (Element of D218);
L1717: D227 in { D227 } by TARSKI:def 1;
L1718: ( dom C164 ) = D218 by FUNCT_2:52;
L1719: ( Im (C164 , D226) ) = { D227 } by L1718 , FUNCT_1:59;
L1720: C167 c= D218 by FINSUB_1:def 5;
L1721: ( C167 \ { D226 } ) c= D218 by L1720 , XBOOLE_1:1;
reconsider D228 = ( C167 \ { D226 } ) , D229 = ( C164 .: ( C167 \ { D226 } ) ) , D230 = ( C164 .: C167 ) as (Element of ( Fin D218 )) by L1721 , L1716 , FINSUB_1:def 5;
L1722: ( { D226 } \/ D228 ) = C167 by L1713 , ZFMISC_1:116;
L1723: ( C164 .: C167 ) = ( ( Im (C164 , D226) ) \/ D229 ) by L1722 , RELAT_1:120;
L1724: ( C164 . D226 ) = ( D226 * D223 ) by L1692;
L1725: ( ( sgn (R20 , R11) ) * ( D221 . D226 ) ) = ( D216 . D227 ) by L1724 , L1686 , L1655;
L1726: ( dom C164 ) = D218 by FUNCT_2:52;
L1727: D228 misses { D226 } by XBOOLE_1:79;
L1728: ( D228 /\ { D226 } ) = ( {} ) by L1727 , XBOOLE_0:def 7;
L1729: ( C164 .: ( {} ) ) = ( { D227 } /\ D229 ) by L1728 , L1719 , FUNCT_1:62;
L1730: (not D227 in D229) by L1729 , L1717 , XBOOLE_0:def 4;
L1731: D227 in ( D222 \ D229 ) by L1730 , L1687 , XBOOLE_0:def 5;
L1732: D228 c= D218 by FINSUB_1:def 5;
L1733: (not D226 in D228) by ZFMISC_1:56;
L1734: D226 in ( D222 \ D228 ) by L1733 , L1687 , XBOOLE_0:def 5;
L1735: ( C166 + 1 ) = ( ( card D228 ) + 1 ) by L1700 , L1722 , L1733 , CARD_2:41;
L1736: (ex R2 being set st R2 in D228) by L1735 , L1712 , CARD_1:27 , XBOOLE_0:def 1;
L1737: ( C163 . D230 ) = ( D220 . (( C163 . D229 ) , ( D216 . D227 )) ) by L1736 , L1687 , L1691 , L1716 , L1723 , L1719 , L1731 , L1732 , L1726;
L1738: ( C163 . D230 ) = ( ( ( sgn (R20 , R11) ) * ( C165 . D228 ) ) + ( ( sgn (R20 , R11) ) * ( D221 . D226 ) ) ) by L1737 , L1698 , L1712 , L1735 , L1725
.= ( ( sgn (R20 , R11) ) * ( ( C165 . D228 ) + ( D221 . D226 ) ) ) by VECTSP_1:def 7
.= ( ( sgn (R20 , R11) ) * ( C165 . C167 ) ) by L1687 , L1696 , L1712 , L1720 , L1722 , L1735 , L1734 , CARD_1:27 , XBOOLE_1:1;
thus L1739: thesis by L1738;
end;
end;
L1741: S16[ ( 0 ) ];
L1742: (for B159 being (Element of ( NAT )) holds S16[ B159 ]) from NAT_1:sch 1(L1741 , L1697);
L1743: ( rng C164 ) = D218 by FUNCT_2:def 3;
L1744: ( dom C164 ) = D218 by FUNCT_2:52;
L1745: ( C164 .: ( dom C164 ) ) = ( rng C164 ) by RELAT_1:113;
L1746: ( ( 1_ R11 ) * ( 1_ R11 ) ) = ( ( - ( 1_ R11 ) ) * ( - ( 1_ R11 ) ) ) by VECTSP_1:10;
L1747: (( sgn (R20 , R11) ) = ( 1_ R11 ) or ( sgn (R20 , R11) ) = ( - ( 1_ R11 ) )) by L374;
L1748: ( ( 1_ R11 ) * ( 1_ R11 ) ) = ( 1_ R11 ) by VECTSP_1:def 4;
L1749: ( card D222 ) <> ( 0 ) by L1687;
L1750: ( ( sgn (R20 , R11) ) * ( Det D217 ) ) = ( Det C162 ) by L1749 , L1687 , L1688 , L1693 , L1742 , L1745 , L1744 , L1743;
thus L1751: ( ( sgn (R20 , R11) ) * ( Det C162 ) ) = ( ( 1_ R11 ) * ( Det D217 ) ) by L1750 , L1747 , L1748 , L1746 , GROUP_1:def 3
.= ( Det D217 ) by VECTSP_1:def 4;
end;
theorem
L1752: (for R8 being Nat holds (for R11 being Field holds (for B160 being (Matrix of R8 , R11) holds (for R14 being (Element of ( Permutations R8 )) holds (for R17 being (Permutation of ( Seg R8 )) holds (R14 = R17 implies ( Det ( B160 * R17 ) ) = ( - (( Det B160 ) , R14) )))))))
proof
let R8 being Nat;
let R11 being Field;
let C168 being (Matrix of R8 , R11);
let R14 being (Element of ( Permutations R8 ));
let R17 being (Permutation of ( Seg R8 ));
assume that
L1753: R17 = R14;
per cases ;
suppose L1754: R8 < 2;

L1755: R14 = ( idseq R8 ) by L1754 , L1022;
L1756: ( C168 * R14 ) = C168 by L1755 , L1583;
L1757: R14 is  even by L1754 , L1022;
thus L1758: thesis by L1757 , L1753 , L1756 , MATRIX_2:def 13;
end;
suppose L1759: R8 >= 2;

reconsider D231 = ( R8 - 2 ) as Nat by L1759 , NAT_1:21;
reconsider D232 = C168 as (Matrix of ( D231 + 2 ) , R11);
reconsider D233 = R17 as (Permutation of ( Seg ( D231 + 2 ) ));
reconsider D234 = R14 as (Element of ( Permutations ( D231 + 2 ) ));
L1760: ( Det ( D232 * D233 ) ) = ( ( sgn (D234 , R11) ) * ( Det D232 ) ) by L1753 , L1685;
thus L1761: thesis by L1760 , L1052;
end;
end;
theorem
L1763: (for R8 being Nat holds (for B161 being (Permutation of ( Permutations R8 )) holds (for R14 being (Element of ( Permutations R8 )) holds ((R14 is  odd & (for R15 being (Element of ( Permutations R8 )) holds ( B161 . R15 ) = ( R15 * R14 ))) implies ( B161 .: { R15 where R15 is (Element of ( Permutations R8 )) : R15 is  even } ) = { R16 where R16 is (Element of ( Permutations R8 )) : R16 is  odd }))))
proof
let R8 being Nat;
set D235 = ( Permutations R8 );
let C169 being (Permutation of D235);
let R14 being (Element of ( Permutations R8 ));
assume that
L1764: R14 is  odd
and
L1765: (for R15 being (Element of ( Permutations R8 )) holds ( C169 . R15 ) = ( R15 * R14 ));
set D236 = { R15 where R15 is (Element of ( Permutations R8 )) : R15 is  even };
set D237 = { R16 where R16 is (Element of ( Permutations R8 )) : R16 is  odd };
L1766: (for R2 being set holds (R2 in D237 iff (ex R1 being set st (R1 in ( dom C169 ) & R1 in D236 & R2 = ( C169 . R1 )))))
proof
let R2 being set;
thus L1767: (R2 in D237 implies (ex R1 being set st (R1 in ( dom C169 ) & R1 in D236 & R2 = ( C169 . R1 ))))
proof
reconsider D238 = ( R14 " ) as (Element of D235) by MATRIX_7:18;
L1768: ( dom C169 ) = D235 by FUNCT_2:52;
L1769: R8 >= 2 by L1764 , L1022;
L1770: R8 >= 1 by L1769 , XXREAL_0:2;
assume L1771: R2 in D237;
consider R16 being (Element of ( Permutations R8 )) such that L1772: R2 = R16 and L1773: R16 is  odd by L1771;
L1774: ( R16 * ( idseq R8 ) ) = R16 by MATRIX_2:21;
L1775: R8 is (Element of ( NAT )) by ORDINAL1:def 12;
L1776: D238 is  odd by L1775 , L1764 , L1770 , MATRIX_7:28;
L1777: ( R16 * D238 ) is  even by L1776 , L1773 , L1036;
reconsider D239 = ( R16 * D238 ) as (Element of D235) by MATRIX_9:39;
take D239;
L1778: ( D238 * R14 ) = ( idseq R8 ) by MATRIX_2:22;
L1779: ( C169 . D239 ) = ( D239 * R14 ) by L1765;
thus L1780: thesis by L1779 , L1772 , L1768 , L1778 , L1774 , L1777 , RELAT_1:36;
end;

assume L1781: (ex R1 being set st (R1 in ( dom C169 ) & R1 in D236 & R2 = ( C169 . R1 )));
consider R1 being set such that L1782: R1 in ( dom C169 ) and L1783: R1 in D236 and L1784: R2 = ( C169 . R1 ) by L1781;
consider R15 being (Element of ( Permutations R8 )) such that L1785: R15 = R1 and L1786: R15 is  even by L1783;
reconsider D240 = ( R15 * R14 ) as (Element of D235) by MATRIX_9:39;
L1787: ( C169 . R1 ) = ( R15 * R14 ) by L1765 , L1785;
L1788: D240 is  odd by L1764 , L1786 , L1036;
thus L1789: thesis by L1788 , L1784 , L1787;
end;
thus L1790: thesis by L1766 , FUNCT_1:def 6;
end;
L1791: (for R8 being Nat holds (for R4 being Nat holds (for R5 being Nat holds ((R4 in ( Seg R8 ) & R5 in ( Seg R8 ) & R4 < R5) implies (ex B162 , B163 being  finite set st (B163 = { R15 where R15 is (Element of ( Permutations R8 )) : R15 is  even } & B162 = { R16 where R16 is (Element of ( Permutations R8 )) : R16 is  odd } & ( B163 /\ B162 ) = ( {} ) & ( B163 \/ B162 ) = ( Permutations R8 ) & (ex B164 being (Function of B163 , B162) st (ex R14 being (Element of ( Permutations R8 )) st (R14 is  being_transposition & ( R14 . R4 ) = R5 & ( dom B164 ) = B163 & B164 is  bijective & (for R15 being (Element of ( Permutations R8 )) holds (R15 in B163 implies ( B164 . R15 ) = ( R15 * R14 ))))))))))))
proof
let R8 being Nat;
let R4 being Nat;
let R5 being Nat;
assume that
L1792: R4 in ( Seg R8 )
and
L1793: R5 in ( Seg R8 )
and
L1794: R4 < R5;
set D241 = ( Permutations R8 );
consider C170 being (Element of D241) such that L1795: C170 is  being_transposition and L1796: ( C170 . R4 ) = R5 by L1792 , L1793 , L1794 , L659;
L1797: { R4 , R5 } in ( 2Set ( Seg R8 ) ) by L1792 , L1793 , L1794 , L2;
reconsider D242 = ( R8 - 2 ) as Nat by L1797 , L18 , NAT_1:21 , NAT_1:23;
set D243 = { R16 where R16 is (Element of ( Permutations R8 )) : R16 is  odd };
set D244 = { R15 where R15 is (Element of ( Permutations R8 )) : R15 is  even };
L1798: D244 c= D241
proof
let R1 being set;
assume L1799: R1 in D244;
L1800: (ex R15 being (Element of ( Permutations R8 )) st (R15 = R1 & R15 is  even)) by L1799;
thus L1801: thesis by L1800;
end;
L1802: D243 c= D241
proof
let R1 being set;
assume L1803: R1 in D243;
L1804: (ex R16 being (Element of ( Permutations R8 )) st (R16 = R1 & R16 is  odd)) by L1803;
thus L1805: thesis by L1804;
end;
reconsider D245 = D243 , D246 = D244 as  finite set by L1802 , L1798 , FINSET_1:1 , MATRIX_2:26;
take D245;
take D246;
thus L1806: (D246 = { R15 where R15 is (Element of ( Permutations R8 )) : R15 is  even } & D245 = { R16 where R16 is (Element of ( Permutations R8 )) : R16 is  odd });
thus L1807: ( D246 /\ D245 ) = ( {} )
proof
assume L1808: ( D246 /\ D245 ) <> ( {} );
consider R1 being set such that L1809: R1 in ( D246 /\ D245 ) by L1808 , XBOOLE_0:def 1;
L1810: R1 in D245 by L1809 , XBOOLE_0:def 4;
L1811: (ex R16 being (Element of ( Permutations R8 )) st (R16 = R1 & R16 is  odd)) by L1810;
L1812: R1 in D246 by L1809 , XBOOLE_0:def 4;
L1813: (ex R15 being (Element of ( Permutations R8 )) st (R15 = R1 & R15 is  even)) by L1812;
thus L1814: thesis by L1813 , L1811;
end;

thus L1815: ( D246 \/ D245 ) = D241
proof
thus L1816: ( D246 \/ D245 ) c= D241 by L1798 , L1802 , XBOOLE_1:8;
let R1 being set;
assume L1817: R1 in D241;
reconsider D247 = R1 as (Element of D241) by L1817;
L1818: (D247 is  even or D247 is  odd);
L1819: (D247 in D246 or D247 in D245) by L1818;
thus L1820: thesis by L1819 , XBOOLE_0:def 3;
end;

consider C171 being (Permutation of D241) such that L1821: (for R15 being (Element of ( Permutations R8 )) holds ( C171 . R15 ) = ( R15 * C170 )) by L1661;
set D248 = ( C171 | D246 );
L1822: C170 is (Element of ( Permutations ( D242 + 2 ) ));
L1823: ( C171 .: D246 ) = D245 by L1822 , L1795 , L1821 , L1074 , L1763;
L1824: ( rng D248 ) = D245 by L1823 , RELAT_1:115;
L1825: ( dom C171 ) = D241 by FUNCT_2:52;
L1826: ( dom D248 ) = D246 by L1825 , L1798 , RELAT_1:62;
reconsider D249 = D248 as (Function of D246 , D245) by L1826 , L1824 , FUNCT_2:1;
take D249;
take C170;
L1827: D249 is  one-to-one  onto by L1824 , FUNCT_1:52 , FUNCT_2:def 3;
thus L1828: (C170 is  being_transposition & ( C170 . R4 ) = R5 & ( dom D249 ) = D246 & D249 is  bijective) by L1827 , L1795 , L1796 , L1798 , L1825 , RELAT_1:62;
let R15 being (Element of ( Permutations R8 ));
assume L1829: R15 in D246;
L1830: ( D249 . R15 ) = ( C171 . R15 ) by L1829 , L1826 , FUNCT_1:47;
thus L1831: thesis by L1830 , L1821;
end;
theorem
L1832: (for R8 being Nat holds (R8 >= 2 implies (ex B165 , B166 being  finite set st (B166 = { R15 where R15 is (Element of ( Permutations R8 )) : R15 is  even } & B165 = { R16 where R16 is (Element of ( Permutations R8 )) : R16 is  odd } & ( B166 /\ B165 ) = ( {} ) & ( B166 \/ B165 ) = ( Permutations R8 ) & ( card B166 ) = ( card B165 )))))
proof
let R8 being Nat;
assume that
L1833: R8 >= 2;
L1834: 1 <= R8 by L1833 , XXREAL_0:2;
L1835: 1 in ( Seg R8 ) by L1834;
L1836: 2 in ( Seg R8 ) by L1833;
consider C172 , C173 being  finite set such that L1837: (C173 = { R15 where R15 is (Element of ( Permutations R8 )) : R15 is  even } & C172 = { R16 where R16 is (Element of ( Permutations R8 )) : R16 is  odd }) and L1838: (( C173 /\ C172 ) = ( {} ) & ( C173 \/ C172 ) = ( Permutations R8 )) and L1839: (ex B167 being (Function of C173 , C172) st (ex R14 being (Element of ( Permutations R8 )) st (R14 is  being_transposition & ( R14 . 1 ) = 2 & ( dom B167 ) = C173 & B167 is  bijective & (for R15 being (Element of ( Permutations R8 )) holds (R15 in C173 implies ( B167 . R15 ) = ( R15 * R14 )))))) by L1836 , L1835 , L1791;
consider C174 being (Function of C173 , C172), R14 being (Element of ( Permutations R8 )) such that L1840: R14 is  being_transposition and L1841: ( R14 . 1 ) = 2 and L1842: ( dom C174 ) = C173 and L1843: C174 is  bijective and L1844: (for R15 being (Element of ( Permutations R8 )) holds (R15 in C173 implies ( C174 . R15 ) = ( R15 * R14 ))) by L1839;
L1845: ( rng C174 ) = C172 by L1843 , FUNCT_2:def 3;
L1846: C173 , C172 are_equipotent  by L1845 , L1842 , L1843 , WELLORD2:def 4;
L1847: ( card C173 ) = ( card C172 ) by L1846 , CARD_1:5;
thus L1848: thesis by L1847 , L1837 , L1838;
end;
theorem
L1849: (for R8 being Nat holds (for R11 being Field holds (for R4 being Nat holds (for R5 being Nat holds ((R4 in ( Seg R8 ) & R5 in ( Seg R8 ) & R4 < R5) implies (for B168 being (Matrix of R8 , R11) holds (( Line (B168 , R4) ) = ( Line (B168 , R5) ) implies (for B169 , B170 , B171 being (Element of ( Permutations R8 )) holds ((B170 = ( B169 * B171 ) & B171 is  being_transposition & ( B171 . R4 ) = R5) implies ( ( Path_product B168 ) . B170 ) = ( - ( ( Path_product B168 ) . B169 ) ))))))))))
proof
let R8 being Nat;
let R11 being Field;
let R4 being Nat;
let R5 being Nat;
assume that
L1850: R4 in ( Seg R8 )
and
L1851: R5 in ( Seg R8 )
and
L1852: R4 < R5;
L1853: { R4 , R5 } in ( 2Set ( Seg R8 ) ) by L1850 , L1851 , L1852 , L2;
reconsider D250 = ( R8 - 2 ) as Nat by L1853 , L18 , NAT_1:21 , NAT_1:23;
let C175 being (Matrix of R8 , R11);
assume that
L1854: ( Line (C175 , R4) ) = ( Line (C175 , R5) );
reconsider D251 = C175 as (Matrix of ( D250 + 2 ) , R11);
let C176 , C177 , C178 being (Element of ( Permutations R8 ));
assume that
L1855: C177 = ( C176 * C178 )
and
L1856: C178 is  being_transposition
and
L1857: ( C178 . R4 ) = R5;
reconsider D252 = C178 as (Permutation of ( Seg ( D250 + 2 ) )) by MATRIX_2:def 9;
set D253 = ( D251 * D252 );
L1858: (for B172 being Nat holds ((1 <= B172 & B172 <= ( len D251 )) implies ( D251 . B172 ) = ( D253 . B172 )))
proof
let C179 being Nat;
assume that
L1859: 1 <= C179
and
L1860: C179 <= ( len D251 );
L1861: C179 in ( NAT ) by ORDINAL1:def 12;
L1862: C179 in ( Seg ( len D251 ) ) by L1861 , L1859 , L1860;
L1863: ( Line (C175 , R5) ) = ( C175 . R5 ) by L1851 , MATRIX_2:8;
L1864: ( dom D252 ) = ( Seg R8 ) by FUNCT_2:52;
L1865: ( Line (C175 , R4) ) = ( C175 . R4 ) by L1850 , MATRIX_2:8;
L1866: ( len D251 ) = R8 by MATRIX_1:def 2;
L1867: ( Line (D253 , C179) ) = ( C175 . ( C178 . C179 ) ) by L1866 , L1862 , L1577;
per cases ;
suppose L1868: C179 = R4;

thus L1869: thesis by L1868 , L1850 , L1854 , L1857 , L1867 , L1865 , L1863 , MATRIX_2:8;
end;
suppose L1870: C179 = R5;

L1871: ( C175 . C179 ) = ( C175 . R4 ) by L1870 , L1851 , L1854 , L1865 , MATRIX_2:8;
L1872: ( Line (D253 , C179) ) = ( C175 . R4 ) by L1852 , L1856 , L1857 , L1867 , L1870 , L269;
thus L1873: thesis by L1872 , L1851 , L1870 , L1871 , MATRIX_2:8;
end;
suppose L1874: (C179 <> R4 & C179 <> R5);

L1875: ( Line (D253 , C179) ) = ( C175 . C179 ) by L1874 , L1852 , L1856 , L1857 , L1862 , L1866 , L1864 , L1867 , L269;
thus L1876: thesis by L1875 , L1862 , L1866 , MATRIX_2:8;
end;
end;
L1878: ( len D253 ) = ( len D251 ) by L1507;
L1879: D253 = C175 by L1878 , L1858 , FINSEQ_1:14;
reconsider D254 = C178 , D255 = C176 as (Element of ( Permutations ( D250 + 2 ) ));
L1880: ( sgn (D254 , R11) ) = ( - ( 1_ R11 ) ) by L1856 , L610;
L1881: C178 = ( C178 " ) by L1856 , L770;
thus L1882: ( ( Path_product C175 ) . C177 ) = ( ( - ( 1_ R11 ) ) * ( ( Path_product D251 ) . D255 ) ) by L1881 , L1855 , L1879 , L1880 , L1655
.= ( - ( ( 1_ R11 ) * ( ( Path_product D251 ) . D255 ) ) ) by VECTSP_1:9
.= ( - ( ( Path_product C175 ) . C176 ) ) by VECTSP_1:def 4;
end;
theorem
L1883: (for R8 being Nat holds (for R11 being Field holds (for R4 being Nat holds (for R5 being Nat holds ((R4 in ( Seg R8 ) & R5 in ( Seg R8 ) & R4 < R5) implies (for B173 being (Matrix of R8 , R11) holds (( Line (B173 , R4) ) = ( Line (B173 , R5) ) implies ( Det B173 ) = ( 0. R11 ))))))))
proof
let R8 being Nat;
let R11 being Field;
let R4 being Nat;
let R5 being Nat;
assume that
L1884: R4 in ( Seg R8 )
and
L1885: R5 in ( Seg R8 )
and
L1886: R4 < R5;
set D256 = ( Permutations R8 );
consider C180 , C181 being  finite set such that L1887: (C181 = { R15 where R15 is (Element of ( Permutations R8 )) : R15 is  even } & C180 = { R16 where R16 is (Element of ( Permutations R8 )) : R16 is  odd }) and L1888: (( C181 /\ C180 ) = ( {} ) & ( C181 \/ C180 ) = D256) and L1889: (ex B174 being (Function of C181 , C180) st (ex B175 being (Element of ( Permutations R8 )) st (B175 is  being_transposition & ( B175 . R4 ) = R5 & ( dom B174 ) = C181 & B174 is  bijective & (for R15 being (Element of ( Permutations R8 )) holds (R15 in C181 implies ( B174 . R15 ) = ( R15 * B175 )))))) by L1884 , L1885 , L1886 , L1791;
L1890: C181 c= D256 by L1888 , XBOOLE_1:7;
set D257 = (the carrier of R11);
set D258 = (the addF of R11);
let C182 being (Matrix of R8 , R11);
assume that
L1891: ( Line (C182 , R4) ) = ( Line (C182 , R5) );
L1892: C180 c= D256 by L1888 , XBOOLE_1:7;
set D259 = ( Path_product C182 );
consider C183 being (Function of C181 , C180), C184 being (Element of ( Permutations R8 )) such that L1893: C184 is  being_transposition and L1894: ( C184 . R4 ) = R5 and L1895: ( dom C183 ) = C181 and L1896: C183 is  bijective and L1897: (for R15 being (Element of ( Permutations R8 )) holds (R15 in C181 implies ( C183 . R15 ) = ( R15 * C184 ))) by L1889;
reconsider D260 = C181 , D261 = C180 as (Element of ( Fin D256 )) by L1890 , L1892 , FINSUB_1:def 5;
L1898: D258 is  having_a_unity by FVSUM_1:8;
consider C185 being (Function of ( Fin D256 ) , D257) such that L1899: ( D258 $$ (D260 , D259) ) = ( C185 . D260 ) and L1900: (for B176 being (Element of D257) holds (B176 is_a_unity_wrt D258 implies ( C185 . ( {} ) ) = B176)) and L1901: (for B177 being (Element of D256) holds ( C185 . { B177 } ) = ( D259 . B177 )) and L1902: (for B178 being (Element of ( Fin D256 )) holds ((B178 c= D260 & B178 <> ( {} )) implies (for B179 being (Element of D256) holds (B179 in ( D260 \ B178 ) implies ( C185 . ( B178 \/ { B179 } ) ) = ( D258 . (( C185 . B178 ) , ( D259 . B179 )) ))))) by L1898 , SETWISEO:def 3;
L1903: D260 misses D261 by L1888 , XBOOLE_0:def 7;
L1904: D258 is  having_a_unity by FVSUM_1:8;
consider C186 being (Function of ( Fin D256 ) , D257) such that L1905: ( D258 $$ (D261 , D259) ) = ( C186 . D261 ) and L1906: (for B180 being (Element of D257) holds (B180 is_a_unity_wrt D258 implies ( C186 . ( {} ) ) = B180)) and L1907: (for B181 being (Element of D256) holds ( C186 . { B181 } ) = ( D259 . B181 )) and L1908: (for B182 being (Element of ( Fin D256 )) holds ((B182 c= D261 & B182 <> ( {} )) implies (for B183 being (Element of D256) holds (B183 in ( D261 \ B182 ) implies ( C186 . ( B182 \/ { B183 } ) ) = ( D258 . (( C186 . B182 ) , ( D259 . B183 )) ))))) by L1904 , SETWISEO:def 3;
defpred S17[ Nat ] means (for B184 , B185 being (Element of ( Fin D256 )) holds ((( card B184 ) = $1 & B184 c= D260 & ( C183 .: B184 ) = B185) implies ( ( C185 . B184 ) + ( C186 . B185 ) ) = ( 0. R11 )));
L1909: (for B186 being (Element of ( NAT )) holds (S17[ B186 ] implies S17[ ( B186 + 1 ) ]))
proof
let C187 being (Element of ( NAT ));
assume that
L1910: S17[ C187 ];
let C188 , C189 being (Element of ( Fin D256 ));
assume that
L1911: ( card C188 ) = ( C187 + 1 )
and
L1912: C188 c= D260
and
L1913: ( C183 .: C188 ) = C189;
L1914:
now
per cases ;
case L1915: C187 = ( 0 );
consider R1 being set such that L1916: C188 = { R1 } by L1915 , L1911 , CARD_2:42;
L1917: R1 in C188 by L1916 , TARSKI:def 1;
L1918: C188 c= D256 by FINSUB_1:def 5;
reconsider D262 = R1 as (Element of D256) by L1918 , L1917;
L1919: ( D262 * C184 ) is (Element of D256) by MATRIX_9:39;
reconsider D263 = ( C183 . D262 ) as (Element of D256) by L1919 , L1897 , L1912 , L1917;
L1920: ( Im (C183 , D262) ) = { D263 } by L1895 , L1912 , L1917 , FUNCT_1:59;
L1921: ( C185 . { D262 } ) = ( D259 . D262 ) by L1901;
L1922: ( C186 . { ( C183 . D262 ) } ) = ( D259 . D263 ) by L1907;
L1923: D263 = ( D262 * C184 ) by L1897 , L1912 , L1917;
L1924: ( - ( C185 . C188 ) ) = ( C186 . C189 ) by L1923 , L1884 , L1885 , L1886 , L1891 , L1893 , L1894 , L1913 , L1916 , L1921 , L1922 , L1920 , L1849;
thus L1925: thesis by L1924 , RLVECT_1:def 10;
end;
case L1926: C187 > ( 0 );
consider R1 being set such that L1927: R1 in C188 by L1911 , CARD_1:27 , XBOOLE_0:def 1;
L1928: C188 c= D256 by FINSUB_1:def 5;
reconsider D264 = R1 as (Element of D256) by L1928 , L1927;
L1929: ( D264 * C184 ) is (Element of D256) by MATRIX_9:39;
reconsider D265 = ( C183 . D264 ) as (Element of D256) by L1929 , L1897 , L1912 , L1927;
L1930: ( Im (C183 , D264) ) = { D265 } by L1895 , L1912 , L1927 , FUNCT_1:59;
L1931: D265 = ( D264 * C184 ) by L1897 , L1912 , L1927;
L1932: ( - ( D259 . D264 ) ) = ( D259 . D265 ) by L1931 , L1884 , L1885 , L1886 , L1891 , L1893 , L1894 , L1849;
L1933: D261 c= D256 by FINSUB_1:def 5;
L1934: C188 c= D256 by FINSUB_1:def 5;
L1935: ( C188 \ { D264 } ) c= D256 by L1934 , XBOOLE_1:1;
L1936: ( rng C183 ) = D261 by L1896 , FUNCT_2:def 3;
L1937: D265 in D261 by L1936 , L1895 , L1912 , L1927 , FUNCT_1:def 3;
L1938: ( C183 .: ( C188 \ { D264 } ) ) c= ( rng C183 ) by RELAT_1:111;
L1939: ( C183 .: ( C188 \ { D264 } ) ) c= D256 by L1938 , L1936 , L1933 , XBOOLE_1:1;
reconsider D266 = ( C188 \ { D264 } ) , D267 = ( C183 .: ( C188 \ { D264 } ) ) as (Element of ( Fin D256 )) by L1939 , L1935 , FINSUB_1:def 5;
L1940: D265 in { D265 } by TARSKI:def 1;
L1941: ( { D264 } \/ D266 ) = C188 by L1927 , ZFMISC_1:116;
L1942: ( C183 .: C188 ) = ( ( Im (C183 , D264) ) \/ D267 ) by L1941 , RELAT_1:120;
L1943: D266 misses { D264 } by XBOOLE_1:79;
L1944: ( D266 /\ { D264 } ) = ( {} ) by L1943 , XBOOLE_0:def 7;
L1945: ( C183 .: ( {} ) ) = ( { D265 } /\ D267 ) by L1944 , L1896 , L1930 , FUNCT_1:62;
L1946: (not D265 in D267) by L1945 , L1940 , XBOOLE_0:def 4;
L1947: D265 in ( D261 \ D267 ) by L1946 , L1937 , XBOOLE_0:def 5;
L1948: (not D264 in D266) by ZFMISC_1:56;
L1949: D264 in ( D260 \ D266 ) by L1948 , L1912 , L1927 , XBOOLE_0:def 5;
L1950: ( C187 + 1 ) = ( ( card D266 ) + 1 ) by L1911 , L1941 , L1948 , CARD_2:41;
consider R2 being set such that L1951: R2 in D266 by L1950 , L1926 , CARD_1:27 , XBOOLE_0:def 1;
L1952: ( C188 \ { D264 } ) c= D260 by L1912 , XBOOLE_1:1;
L1953: ( C183 . R2 ) in D267 by L1952 , L1895 , L1951 , FUNCT_1:def 6;
L1954: ( C186 . C189 ) = ( D258 . (( C186 . D267 ) , ( D259 . D265 )) ) by L1953 , L1908 , L1913 , L1936 , L1942 , L1930 , L1947 , RELAT_1:111;
thus L1955: ( ( C186 . C189 ) + ( C185 . C188 ) ) = ( ( ( C186 . D267 ) - ( D259 . D264 ) ) + ( ( C185 . D266 ) + ( D259 . D264 ) ) ) by L1954 , L1902 , L1912 , L1926 , L1941 , L1950 , L1949 , L1932 , CARD_1:27 , XBOOLE_1:1
.= ( ( C186 . D267 ) + ( ( - ( D259 . D264 ) ) + ( ( C185 . D266 ) + ( D259 . D264 ) ) ) ) by RLVECT_1:def 3
.= ( ( C186 . D267 ) + ( ( C185 . D266 ) + ( ( D259 . D264 ) - ( D259 . D264 ) ) ) ) by RLVECT_1:def 3
.= ( ( C186 . D267 ) + ( ( C185 . D266 ) + ( 0. R11 ) ) ) by RLVECT_1:def 10
.= ( ( ( C186 . D267 ) + ( C185 . D266 ) ) + ( 0. R11 ) ) by RLVECT_1:def 3
.= ( ( 0. R11 ) + ( 0. R11 ) ) by L1910 , L1912 , L1950 , XBOOLE_1:1
.= ( 0. R11 ) by RLVECT_1:4;
end;
end;
thus L1957: thesis by L1914;
end;
set D268 = ( FinOmega D256 );
L1958: D256 = D268 by L1888 , MATRIX_2:def 14;
L1959: ( rng C183 ) = D261 by L1896 , FUNCT_2:def 3;
L1960: ( C183 .: D260 ) = D261 by L1959 , L1895 , RELAT_1:113;
L1961: S17[ ( 0 ) ]
proof
let C190 , C191 being (Element of ( Fin D256 ));
assume that
L1962: ( card C190 ) = ( 0 )
and
L1963: C190 c= D260
and
L1964: ( C183 .: C190 ) = C191;
L1965: C190 = ( {} ) by L1962;
L1966: ( C185 . C190 ) = ( 0. R11 ) by L1965 , L1900 , FVSUM_1:6;
L1967: ( C183 .: ( {} ) ) = ( {} );
L1968: ( C186 . C191 ) = ( 0. R11 ) by L1967 , L1906 , L1964 , L1965 , FVSUM_1:6;
thus L1969: thesis by L1968 , L1966 , RLVECT_1:def 4;
end;
L1970: (for B187 being (Element of ( NAT )) holds S17[ B187 ]) from NAT_1:sch 1(L1961 , L1909);
L1971: S17[ ( card D260 ) ] by L1970;
L1972: ( ( D258 $$ (D260 , D259) ) + ( D258 $$ (D261 , D259) ) ) = ( 0. R11 ) by L1971 , L1899 , L1905 , L1960;
thus L1973: thesis by L1972 , L1888 , L1903 , L1958 , FVSUM_1:8 , SETWOP_2:4;
end;
theorem
L1974: (for R8 being Nat holds (for R11 being Field holds (for R30 being (Matrix of R8 , R11) holds (for R4 being Nat holds (for R5 being Nat holds ((R4 in ( Seg R8 ) & R5 in ( Seg R8 ) & R4 <> R5) implies ( Det ( RLine (R30 , R4 , ( Line (R30 , R5) )) ) ) = ( 0. R11 )))))))
proof
let R8 being Nat;
let R11 being Field;
let R30 being (Matrix of R8 , R11);
let R4 being Nat;
let R5 being Nat;
assume that
L1975: R4 in ( Seg R8 )
and
L1976: R5 in ( Seg R8 )
and
L1977: R4 <> R5;
L1978: (R4 < R5 or R5 < R4) by L1977 , XXREAL_0:1;
L1979: ( len ( Line (R30 , R5) ) ) = ( width R30 ) by MATRIX_1:def 7;
L1980: ( Line (( RLine (R30 , R4 , ( Line (R30 , R5) )) ) , R4) ) = ( Line (R30 , R5) ) by L1979 , L1975 , L1154;
L1981: ( Line (( RLine (R30 , R4 , ( Line (R30 , R5) )) ) , R5) ) = ( Line (R30 , R5) ) by L1976 , L1977 , L1154;
thus L1982: thesis by L1981 , L1975 , L1976 , L1980 , L1978 , L1883;
end;
theorem
L1983: (for R8 being Nat holds (for R11 being Field holds (for R12 being (Element of R11) holds (for R30 being (Matrix of R8 , R11) holds (for R4 being Nat holds (for R5 being Nat holds ((R4 in ( Seg R8 ) & R5 in ( Seg R8 ) & R4 <> R5) implies ( Det ( RLine (R30 , R4 , ( R12 * ( Line (R30 , R5) ) )) ) ) = ( 0. R11 ))))))))
proof
let R8 being Nat;
let R11 being Field;
let R12 being (Element of R11);
let R30 being (Matrix of R8 , R11);
let R4 being Nat;
let R5 being Nat;
assume that
L1984: R4 in ( Seg R8 )
and
L1985: R5 in ( Seg R8 )
and
L1986: R4 <> R5;
L1987: ( width R30 ) = R8 by MATRIX_1:24;
L1988: ( len ( Line (R30 , R5) ) ) = R8 by L1987 , MATRIX_1:def 7;
thus L1989: ( Det ( RLine (R30 , R4 , ( R12 * ( Line (R30 , R5) ) )) ) ) = ( R12 * ( Det ( RLine (R30 , R4 , ( Line (R30 , R5) )) ) ) ) by L1988 , L1984 , L1466
.= ( R12 * ( 0. R11 ) ) by L1984 , L1985 , L1986 , L1974
.= ( 0. R11 ) by VECTSP_1:6;
end;
theorem
L1990: (for R8 being Nat holds (for R11 being Field holds (for R12 being (Element of R11) holds (for R30 being (Matrix of R8 , R11) holds (for R4 being Nat holds (for R5 being Nat holds ((R4 in ( Seg R8 ) & R5 in ( Seg R8 ) & R4 <> R5) implies ( Det R30 ) = ( Det ( RLine (R30 , R4 , ( ( Line (R30 , R4) ) + ( R12 * ( Line (R30 , R5) ) ) )) ) ))))))))
proof
let R8 being Nat;
let R11 being Field;
let R12 being (Element of R11);
let R30 being (Matrix of R8 , R11);
let R4 being Nat;
let R5 being Nat;
assume that
L1991: R4 in ( Seg R8 )
and
L1992: R5 in ( Seg R8 )
and
L1993: R4 <> R5;
L1994: ( width R30 ) = R8 by MATRIX_1:24;
L1995: ( len ( Line (R30 , R5) ) ) = R8 by L1994 , MATRIX_1:def 7;
L1996: ( len ( Line (R30 , R5) ) ) = ( len ( R12 * ( Line (R30 , R5) ) ) ) by L1243;
L1997: ( len ( Line (R30 , R4) ) ) = R8 by L1994 , MATRIX_1:def 7;
thus L1998: ( Det ( RLine (R30 , R4 , ( ( Line (R30 , R4) ) + ( R12 * ( Line (R30 , R5) ) ) )) ) ) = ( ( Det ( RLine (R30 , R4 , ( Line (R30 , R4) )) ) ) + ( Det ( RLine (R30 , R4 , ( R12 * ( Line (R30 , R5) ) )) ) ) ) by L1997 , L1991 , L1995 , L1996 , L1478
.= ( ( Det R30 ) + ( Det ( RLine (R30 , R4 , ( R12 * ( Line (R30 , R5) ) )) ) ) ) by L1224
.= ( ( Det R30 ) + ( 0. R11 ) ) by L1991 , L1992 , L1993 , L1983
.= ( Det R30 ) by RLVECT_1:4;
end;
theorem
L1999: (for R8 being Nat holds (for R11 being Field holds (for R19 being (Function of ( Seg R8 ) , ( Seg R8 )) holds (for R30 being (Matrix of R8 , R11) holds ((not R19 in ( Permutations R8 )) implies ( Det ( R30 * R19 ) ) = ( 0. R11 ))))))
proof
let R8 being Nat;
let R11 being Field;
let R19 being (Function of ( Seg R8 ) , ( Seg R8 ));
let R30 being (Matrix of R8 , R11);
assume L2000: (not R19 in ( Permutations R8 ));
L2001: ((not R19 is  onto) or (not R19 is  one-to-one)) by L2000 , MATRIX_2:def 9;
L2002: ( card ( Seg R8 ) ) = ( card ( Seg R8 ) );
L2003: (not R19 is  one-to-one) by L2002 , L2001 , STIRL2_1:60;
consider R1 being set, R2 being set such that L2004: R1 in ( dom R19 ) and L2005: R2 in ( dom R19 ) and L2006: ( R19 . R1 ) = ( R19 . R2 ) and L2007: R1 <> R2 by L2003 , FUNCT_1:def 4;
L2008: ( dom R19 ) = ( Seg R8 ) by FUNCT_2:52;
reconsider D269 = R1 , D270 = R2 as Nat by L2008 , L2004 , L2005;
L2009: ( Line (( R30 * R19 ) , D269) ) = ( R30 . ( R19 . D269 ) ) by L2004 , L2008 , L1577;
L2010: ( Line (( R30 * R19 ) , D269) ) = ( Line (( R30 * R19 ) , D270) ) by L2009 , L2005 , L2006 , L2008 , L1577;
L2011: (D269 > D270 or D270 > D269) by L2007 , XXREAL_0:1;
thus L2012: thesis by L2011 , L2004 , L2005 , L2008 , L2010 , L1883;
end;
begin
definition
let C192 being non  empty addLoopStr;
func addFinS C192 -> (BinOp of ( (the carrier of C192) * )) means 
:L2013: (for B188 , B189 being (Element of ( (the carrier of C192) * )) holds ( it . (B188 , B189) ) = ( B188 + B189 ));
existence
proof
set D271 = (the carrier of C192);
defpred S18[ set , set , set ] means (for B190 , B191 being (Element of ( D271 * )) holds (($1 = B190 & $2 = B191) implies $3 = ( B190 + B191 )));
L2014: (for B192 being (Element of ( D271 * )) holds (for B193 being (Element of ( D271 * )) holds (ex B194 being (Element of ( D271 * )) st S18[ B192 , B193 , B194 ])))
proof
let C193 being (Element of ( D271 * ));
let C194 being (Element of ( D271 * ));
reconsider D272 = C193 , D273 = C194 as (FinSequence of D271);
reconsider D274 = ( D272 + D273 ) as (Element of ( D271 * )) by FINSEQ_1:def 11;
take D274;
thus L2015: thesis;
end;
consider C195 being (Function of [: ( D271 * ) , ( D271 * ) :] , ( D271 * )) such that L2016: (for B195 being (Element of ( D271 * )) holds (for B196 being (Element of ( D271 * )) holds S18[ B195 , B196 , ( C195 . (B195 , B196) ) ])) from BINOP_1:sch 3(L2014);
take C195;
thus L2017: thesis by L2016;
end;
uniqueness
proof
set D275 = (the carrier of C192);
let C196 , C197 being (Function of [: ( D275 * ) , ( D275 * ) :] , ( D275 * ));
assume that
L2018: (for B197 , B198 being (Element of ( D275 * )) holds ( C196 . (B197 , B198) ) = ( B197 + B198 ))
and
L2019: (for B199 , B200 being (Element of ( D275 * )) holds ( C197 . (B199 , B200) ) = ( B199 + B200 ));
L2020:
now
let C198 being (Element of ( D275 * ));
let C199 being (Element of ( D275 * ));
L2021: ( C196 . (C198 , C199) ) = ( C198 + C199 ) by L2018;
thus L2022: ( C196 . (C198 , C199) ) = ( C197 . (C198 , C199) ) by L2021 , L2019;
end;
thus L2023: thesis by L2020 , BINOP_1:2;
end;
end;
L2025: (for B201 being non  empty addLoopStr holds (for B202 , B203 being (Element of ( (the carrier of B201) * )) holds ( dom ( B202 + B203 ) ) = ( ( dom B202 ) /\ ( dom B203 ) )))
proof
let C200 being non  empty addLoopStr;
let C201 , C202 being (Element of ( (the carrier of C200) * ));
L2026: ( rng C202 ) c= (the carrier of C200) by FINSEQ_1:def 4;
L2027: ( rng C201 ) c= (the carrier of C200) by FINSEQ_1:def 4;
L2028: [: ( rng C201 ) , ( rng C202 ) :] c= [: (the carrier of C200) , (the carrier of C200) :] by L2027 , L2026 , ZFMISC_1:96;
L2029: [: ( rng C201 ) , ( rng C202 ) :] c= ( dom (the addF of C200) ) by L2028 , FUNCT_2:def 1;
thus L2030: thesis by L2029 , FUNCOP_1:69;
end;
registration
let C203 being  Abelian non  empty addLoopStr;
cluster ( addFinS C203 ) ->  commutative;
coherence
proof
set D276 = (the carrier of C203);
let C204 , C205 being (Element of ( D276 * ));
L2031: ( rng C205 ) c= D276 by FINSEQ_1:def 4;
L2032: ( dom ( C204 + C205 ) ) = ( ( dom C204 ) /\ ( dom C205 ) ) by L2025;
L2033: ( dom ( C205 + C204 ) ) = ( ( dom C205 ) /\ ( dom C204 ) ) by L2025;
L2034: ( rng C204 ) c= D276 by FINSEQ_1:def 4;
L2035:
now
let C206 being Nat;
assume that
L2036: C206 in ( dom ( C204 + C205 ) );
L2037: C206 in ( dom C205 ) by L2032 , L2036 , XBOOLE_0:def 4;
L2038: ( C205 . C206 ) in ( rng C205 ) by L2037 , FUNCT_1:def 3;
L2039: C206 in ( dom C204 ) by L2032 , L2036 , XBOOLE_0:def 4;
L2040: ( C204 . C206 ) in ( rng C204 ) by L2039 , FUNCT_1:def 3;
reconsider D277 = ( C204 . C206 ) , D278 = ( C205 . C206 ) as (Element of C203) by L2040 , L2034 , L2031 , L2038;
L2041: ( ( C204 + C205 ) . C206 ) = ( D277 + D278 ) by L2036 , FVSUM_1:17;
thus L2042: ( ( C204 + C205 ) . C206 ) = ( ( C205 + C204 ) . C206 ) by L2041 , L2032 , L2033 , L2036 , FVSUM_1:17;
end;
L2043: ( C204 + C205 ) = ( C205 + C204 ) by L2035 , L2033 , L2025 , FINSEQ_1:13;
L2044: ( ( addFinS C203 ) . (C204 , C205) ) = ( C204 + C205 ) by L2013;
thus L2045: thesis by L2044 , L2043 , L2013;
end;
end;
registration
let C207 being  add-associative non  empty addLoopStr;
cluster ( addFinS C207 ) ->  associative;
coherence
proof
set D279 = ( addFinS C207 );
set D280 = (the carrier of C207);
let C208 , C209 , C210 being (Element of ( D280 * ));
reconsider D281 = ( C208 + C209 ) , D282 = ( C209 + C210 ) as (Element of ( D280 * )) by FINSEQ_1:def 11;
L2047: ( rng C208 ) c= D280 by FINSEQ_1:def 4;
L2048: ( rng C209 ) c= D280 by FINSEQ_1:def 4;
L2049: ( rng D281 ) c= D280 by FINSEQ_1:def 4;
L2050: ( rng C210 ) c= D280 by FINSEQ_1:def 4;
L2051: ( rng D282 ) c= D280 by FINSEQ_1:def 4;
L2052: ( dom D281 ) = ( ( dom C208 ) /\ ( dom C209 ) ) by L2025;
L2053: ( dom D282 ) = ( ( dom C209 ) /\ ( dom C210 ) ) by L2025;
L2054: ( dom ( D281 + C210 ) ) = ( ( dom D281 ) /\ ( dom C210 ) ) by L2025;
L2055: ( dom ( C208 + D282 ) ) = ( ( dom C208 ) /\ ( dom D282 ) ) by L2025;
L2056: ( dom ( D281 + C210 ) ) = ( dom ( C208 + D282 ) ) by L2055 , L2052 , L2054 , L2053 , XBOOLE_1:16;
L2057:
now
let C211 being Nat;
assume that
L2058: C211 in ( dom ( D281 + C210 ) );
L2059: C211 in ( dom D281 ) by L2054 , L2058 , XBOOLE_0:def 4;
L2060: ( D281 . C211 ) in ( rng D281 ) by L2059 , FUNCT_1:def 3;
L2061: C211 in ( dom C208 ) by L2052 , L2059 , XBOOLE_0:def 4;
L2062: ( C208 . C211 ) in ( rng C208 ) by L2061 , FUNCT_1:def 3;
L2063: C211 in ( dom C210 ) by L2054 , L2058 , XBOOLE_0:def 4;
L2064: ( C210 . C211 ) in ( rng C210 ) by L2063 , FUNCT_1:def 3;
L2065: C211 in ( dom C209 ) by L2052 , L2059 , XBOOLE_0:def 4;
L2066: ( C209 . C211 ) in ( rng C209 ) by L2065 , FUNCT_1:def 3;
L2067: C211 in ( dom D282 ) by L2053 , L2063 , L2065 , XBOOLE_0:def 4;
L2068: ( D282 . C211 ) in ( rng D282 ) by L2067 , FUNCT_1:def 3;
reconsider D283 = ( C208 . C211 ) , D284 = ( D281 . C211 ) , D285 = ( C209 . C211 ) , D286 = ( D282 . C211 ) , D287 = ( C210 . C211 ) as (Element of C207) by L2068 , L2047 , L2048 , L2050 , L2049 , L2051 , L2062 , L2060 , L2064 , L2066;
L2069: ( D281 . C211 ) = ( D283 + D285 ) by L2059 , FVSUM_1:17;
L2070: ( ( D281 + C210 ) . C211 ) = ( D284 + D287 ) by L2058 , FVSUM_1:17;
L2071: ( D282 . C211 ) = ( D285 + D287 ) by L2067 , FVSUM_1:17;
L2072: ( ( C208 + D282 ) . C211 ) = ( D283 + D286 ) by L2056 , L2058 , FVSUM_1:17;
thus L2073: ( ( C208 + D282 ) . C211 ) = ( ( D281 + C210 ) . C211 ) by L2072 , L2069 , L2071 , L2070 , RLVECT_1:def 3;
end;
L2074: ( C208 + D282 ) = ( D281 + C210 ) by L2057 , L2052 , L2054 , L2053 , L2055 , FINSEQ_1:13 , XBOOLE_1:16;
thus L2075: ( D279 . (C208 , ( D279 . (C209 , C210) )) ) = ( D279 . (C208 , D282) ) by L2013
.= ( C208 + D282 ) by L2013
.= ( D279 . (D281 , C210) ) by L2074 , L2013
.= ( D279 . (( D279 . (C208 , C209) ) , C210) ) by L2013;
end;
end;
theorem
L2077: (for R11 being Field holds (for B204 , B205 being (Matrix of R11) holds ((( width B204 ) = ( len B205 ) & ( len B205 ) > ( 0 )) implies (for R4 being Nat holds (R4 in ( Seg ( len B204 ) ) implies (ex B206 being (FinSequence of ( (the carrier of R11) * )) st (( len B206 ) = ( len B205 ) & ( Line (( B204 * B205 ) , R4) ) = ( ( addFinS R11 ) "**" B206 ) & (for R5 being Nat holds (R5 in ( Seg ( len B205 ) ) implies ( B206 . R5 ) = ( ( B204 * (R4 , R5) ) * ( Line (B205 , R5) ) ))))))))))
proof
let R11 being Field;
let C212 , C213 being (Matrix of R11);
assume that
L2078: ( width C212 ) = ( len C213 )
and
L2079: ( len C213 ) > ( 0 );
set D288 = (the addF of R11);
set D289 = (the multF of R11);
set D290 = ( addFinS R11 );
set D291 = (the carrier of R11);
reconsider D292 = ( len C213 ) , D293 = ( width C213 ) as Nat;
let R4 being Nat;
assume that
L2080: R4 in ( Seg ( len C212 ) );
deffunc H1(Nat) = ( ( C212 * (R4 , $1) ) * ( Line (C213 , $1) ) );
consider C214 being FinSequence such that L2081: ( len C214 ) = ( len C213 ) and L2082: (for B207 being Nat holds (B207 in ( dom C214 ) implies ( C214 . B207 ) = H1(B207))) from FINSEQ_1:sch 2;
L2083: ( dom C214 ) = ( dom C213 ) by L2081 , FINSEQ_3:29
.= ( Seg ( len C213 ) ) by FINSEQ_1:def 3;
L2084: ( rng C214 ) c= ( D291 * )
proof
let R2 being set;
assume L2085: R2 in ( rng C214 );
consider R1 being set such that L2086: R1 in ( dom C214 ) and L2087: R2 = ( C214 . R1 ) by L2085 , FUNCT_1:def 3;
reconsider D294 = R1 as (Element of ( NAT )) by L2086;
L2088: ( C214 . D294 ) = ( ( C212 * (R4 , D294) ) * ( Line (C213 , D294) ) ) by L2082 , L2086;
thus L2089: thesis by L2088 , L2087 , FINSEQ_1:def 11;
end;
reconsider D295 = C214 as (FinSequence of ( D291 * )) by L2084 , FINSEQ_1:def 4;
L2090: D292 >= 1 by L2079 , NAT_1:14;
consider C215 being (Function of ( NAT ) , ( D291 * )) such that L2091: ( C215 . 1 ) = ( D295 . 1 ) and L2092: (for B208 being (Element of ( NAT )) holds ((( 0 ) <> B208 & B208 < ( len D295 )) implies ( C215 . ( B208 + 1 ) ) = ( D290 . (( C215 . B208 ) , ( D295 . ( B208 + 1 ) )) ))) and L2093: ( D290 "**" D295 ) = ( C215 . ( len D295 ) ) by L2090 , L2081 , FINSOP_1:def 1;
defpred S19[ Nat ] means ((1 <= $1 & $1 <= D292) implies (for B209 being (FinSequence of D291) holds (( C215 . $1 ) = B209 implies (( len B209 ) = D293 & (for B210 being (Element of ( NAT )) holds (B210 in ( Seg D293 ) implies (ex B211 being (FinSequence of D291) st (B211 = ( ( mlt (( Line (C212 , R4) ) , ( Col (C213 , B210) )) ) | ( Seg $1 ) ) & ( D288 "**" B211 ) = ( B209 . B210 )))))))));
L2094: (for B212 being (Element of ( NAT )) holds (S19[ B212 ] implies S19[ ( B212 + 1 ) ]))
proof
let C216 being (Element of ( NAT ));
assume that
L2095: S19[ C216 ];
set D296 = ( C216 + 1 );
assume that
L2096: 1 <= D296
and
L2097: D296 <= D292;
L2098: D296 in ( Seg D292 ) by L2096 , L2097;
let C217 being (FinSequence of D291);
assume that
L2099: ( C215 . D296 ) = C217;
per cases ;
suppose L2100: C216 = ( 0 );

L2101: ( D295 . 1 ) = ( ( C212 * (R4 , 1) ) * ( Line (C213 , 1) ) ) by L2100 , L2082 , L2083 , L2098;
L2102: ( len ( Line (C213 , 1) ) ) = D293 by MATRIX_1:def 7;
thus L2103: ( len C217 ) = D293 by L2102 , L2091 , L2099 , L2100 , L2101 , L1243;
let C218 being (Element of ( NAT ));
assume that
L2104: C218 in ( Seg D293 );
L2105: ( len C217 ) = D293 by L2091 , L2099 , L2100 , L2101 , L2102 , L1243;
L2106: C218 in ( dom C217 ) by L2105 , L2104 , FINSEQ_1:def 3;
L2107: ( ( Line (C213 , 1) ) . C218 ) = ( C213 * (1 , C218) ) by L2104 , MATRIX_1:def 7;
L2108: ( C217 . C218 ) = ( ( C212 * (R4 , 1) ) * ( C213 * (1 , C218) ) ) by L2107 , L2091 , L2099 , L2100 , L2101 , L2106 , FVSUM_1:50;
set D297 = ( Col (C213 , C218) );
set D298 = ( Line (C212 , R4) );
reconsider D299 = ( ( mlt (D298 , D297) ) | ( Seg D296 ) ) , D300 = ( mlt (D298 , D297) ) as (FinSequence of D291) by FINSEQ_1:18;
L2109: ( D289 .: (D298 , D297) ) is (Element of ( D292 -tuples_on D291 )) by L2078 , FINSEQ_2:120;
L2110: ( len D300 ) = D292 by L2109 , CARD_1:def 7;
L2111: ( dom D300 ) = ( Seg D292 ) by L2110 , FINSEQ_1:def 3;
L2112: ( Seg 1 ) = ( ( Seg D292 ) /\ ( Seg 1 ) ) by L2079 , FINSEQ_1:7 , NAT_1:14;
L2113: ( dom D299 ) = ( Seg 1 ) by L2112 , L2100 , L2111 , RELAT_1:61;
L2114: ( len D299 ) = 1 by L2113 , FINSEQ_1:def 3;
L2115: 1 in ( Seg 1 );
L2116: ( D299 . 1 ) = ( D300 . 1 ) by L2115 , L2113 , FUNCT_1:47;
L2117: D299 = <* ( D300 . 1 ) *> by L2116 , L2114 , FINSEQ_1:40;
take D299;
L2118: 1 in ( Seg D292 ) by L2090;
L2119: ( len D300 ) = D292 by L2109 , CARD_1:def 7;
L2120: 1 in ( dom D300 ) by L2119 , L2118 , FINSEQ_1:def 3;
L2121: ( Seg D292 ) = ( dom C213 ) by FINSEQ_1:def 3;
L2122: ( D297 . 1 ) = ( C213 * (1 , C218) ) by L2121 , L2118 , MATRIX_1:def 8;
L2123: ( D298 . 1 ) = ( C212 * (R4 , 1) ) by L2078 , L2118 , MATRIX_1:def 7;
L2124: ( D300 . 1 ) = ( ( C212 * (R4 , 1) ) * ( C213 * (1 , C218) ) ) by L2123 , L2122 , L2120 , FVSUM_1:60;
thus L2125: thesis by L2124 , L2108 , L2117 , FINSOP_1:11;
end;
suppose L2126: C216 > ( 0 );

L2127: ( dom D295 ) = ( Seg D292 ) by L2081 , FINSEQ_1:def 3;
L2128: ( D295 . D296 ) in ( rng D295 ) by L2127 , L2098 , FUNCT_1:def 3;
L2129: ( rng D295 ) c= ( D291 * ) by FINSEQ_1:def 4;
reconsider D301 = ( D295 . D296 ) , D302 = ( C215 . C216 ) as (FinSequence of D291) by L2129 , L2128 , FINSEQ_1:def 11;
L2130: D301 is (Element of ( D291 * )) by FINSEQ_1:def 11;
L2131: ( D290 . (D302 , D301) ) = ( D302 + D301 ) by L2130 , L2013;
L2132: ( C216 + ( 0 ) ) < D296 by XREAL_1:8;
L2133: C216 < D292 by L2132 , L2097 , XXREAL_0:2;
L2134: C217 = ( D302 + D301 ) by L2133 , L2081 , L2092 , L2099 , L2126 , L2131;
L2135: ( len ( Line (C213 , D296) ) ) = D293 by MATRIX_1:def 7;
L2136: D301 = H1(D296) by L2082 , L2083 , L2098;
L2137: ( len D301 ) = D293 by L2136 , L2135 , L1243;
L2138: ( dom D301 ) = ( Seg D293 ) by L2137 , FINSEQ_1:def 3;
L2139: ( len D302 ) = D293 by L2095 , L2097 , L2126 , L2132 , NAT_1:14 , XXREAL_0:2;
L2140: ( dom D302 ) = ( Seg D293 ) by L2139 , FINSEQ_1:def 3;
L2141: ( dom ( D302 + D301 ) ) = ( ( Seg D293 ) /\ ( Seg D293 ) ) by L2140 , L2138 , L2130 , L2025;
thus L2142: ( len C217 ) = D293 by L2141 , L2134 , FINSEQ_1:def 3;
L2143: ( rng D302 ) c= D291 by FINSEQ_1:def 4;
set D303 = ( Line (C212 , R4) );
L2144: D301 = H1(D296) by L2082 , L2083 , L2098;
let C219 being (Element of ( NAT ));
assume that
L2145: C219 in ( Seg D293 );
L2146: ( ( Line (C213 , D296) ) . C219 ) = ( C213 * (D296 , C219) ) by L2145 , MATRIX_1:def 7;
L2147: ( D301 . C219 ) = ( ( C212 * (R4 , D296) ) * ( C213 * (D296 , C219) ) ) by L2146 , L2138 , L2145 , L2144 , FVSUM_1:50;
reconsider D304 = ( D301 . C219 ) as (Element of D291) by L2147;
set D305 = ( Col (C213 , C219) );
consider C220 being (FinSequence of D291) such that L2148: C220 = ( ( mlt (D303 , D305) ) | ( Seg C216 ) ) and L2149: ( (the addF of R11) "**" C220 ) = ( D302 . C219 ) by L2095 , L2097 , L2126 , L2132 , L2145 , NAT_1:14 , XXREAL_0:2;
reconsider D306 = ( ( mlt (D303 , D305) ) | ( Seg D296 ) ) , D307 = ( mlt (D303 , D305) ) as (FinSequence of D291) by FINSEQ_1:18;
take D306;
L2150: ( D289 .: (D303 , D305) ) is (Element of ( D292 -tuples_on D291 )) by L2078 , FINSEQ_2:120;
L2151: ( len D307 ) = D292 by L2150 , CARD_1:def 7;
L2152: D296 in ( dom D307 ) by L2151 , L2098 , FINSEQ_1:def 3;
L2153: D296 in ( Seg D292 ) by L2096 , L2097;
L2154: ( D303 . D296 ) = ( C212 * (R4 , D296) ) by L2153 , L2078 , MATRIX_1:def 7;
L2155: ( Seg D292 ) = ( dom C213 ) by FINSEQ_1:def 3;
L2156: ( D305 . D296 ) = ( C213 * (D296 , C219) ) by L2155 , L2153 , MATRIX_1:def 8;
L2157: ( D307 . D296 ) = ( ( C212 * (R4 , D296) ) * ( C213 * (D296 , C219) ) ) by L2156 , L2154 , L2152 , FVSUM_1:60;
L2158: D306 = ( C220 ^ <* ( D307 . D296 ) *> ) by L2148 , L2152 , FINSEQ_5:10;
L2159: ( D288 "**" D306 ) = ( D288 . (( D302 . C219 ) , ( ( C212 * (R4 , D296) ) * ( C213 * (D296 , C219) ) )) ) by L2158 , L2149 , L2157 , FINSOP_1:4 , FVSUM_1:8;
L2160: C219 in ( dom D302 ) by L2139 , L2145 , FINSEQ_1:def 3;
L2161: ( D302 . C219 ) in ( rng D302 ) by L2160 , FUNCT_1:def 3;
reconsider D308 = ( D302 . C219 ) as (Element of D291) by L2161 , L2143;
L2162: ( C217 . C219 ) = ( D308 + D304 ) by L2141 , L2134 , L2145 , FVSUM_1:17;
thus L2163: thesis by L2162 , L2138 , L2145 , L2146 , L2144 , L2159 , FVSUM_1:50;
end;
end;
set D309 = ( Line (( C212 * C213 ) , R4) );
L2165: ( width ( C212 * C213 ) ) = D293 by L2078 , MATRIX_3:def 4;
L2166: ( len D309 ) = D293 by L2165 , MATRIX_1:def 7;
L2167: ( D290 "**" D295 ) is (Element of ( D291 * ));
reconsider D310 = ( C215 . D292 ) as (FinSequence of D291) by L2167 , L2081 , L2093;
L2168: S19[ ( 0 ) ];
L2169: (for B213 being (Element of ( NAT )) holds S19[ B213 ]) from NAT_1:sch 1(L2168 , L2094);
L2170: (for B214 being Nat holds ((1 <= B214 & B214 <= ( len D309 )) implies ( D309 . B214 ) = ( D310 . B214 )))
proof
set D311 = ( C212 * C213 );
set D312 = ( Line (C212 , R4) );
let C221 being Nat;
assume that
L2171: 1 <= C221
and
L2172: C221 <= ( len D309 );
set D313 = ( Col (C213 , C221) );
L2173: ( D289 .: (D312 , D313) ) is (Element of ( D292 -tuples_on D291 )) by L2078 , FINSEQ_2:120;
L2174: ( len ( mlt (D312 , D313) ) ) = D292 by L2173 , CARD_1:def 7;
L2175: ( dom ( mlt (D312 , D313) ) ) = ( Seg D292 ) by L2174 , FINSEQ_1:def 3;
L2176: C221 in ( NAT ) by ORDINAL1:def 12;
L2177: C221 in ( Seg D293 ) by L2176 , L2166 , L2171 , L2172;
L2178: (ex B215 being (FinSequence of D291) st (B215 = ( ( mlt (D312 , D313) ) | ( Seg D292 ) ) & ( D288 "**" B215 ) = ( D310 . C221 ))) by L2177 , L2090 , L2169;
L2179: ( D310 . C221 ) = ( D312 "*" D313 ) by L2178 , L2175 , RELAT_1:69;
L2180: ( len D311 ) = ( len C212 ) by L2078 , MATRIX_3:def 4;
L2181: ( width D311 ) = D293 by L2078 , MATRIX_3:def 4;
L2182: ( len C212 ) <> ( 0 ) by L2080;
L2183: D311 is (Matrix of ( len C212 ) , D293 , R11) by L2182 , L2180 , L2181 , MATRIX_1:20;
L2184: ( Indices D311 ) = [: ( Seg ( len C212 ) ) , ( Seg D293 ) :] by L2183 , L2181 , MATRIX_1:25;
L2185: [ R4 , C221 ] in ( Indices D311 ) by L2184 , L2080 , L2177 , ZFMISC_1:87;
L2186: ( D311 * (R4 , C221) ) = ( D312 "*" D313 ) by L2185 , L2078 , MATRIX_3:def 4;
thus L2187: thesis by L2186 , L2177 , L2179 , L2181 , MATRIX_1:def 7;
end;
take D295;
thus L2188: ( len D295 ) = ( len C213 ) by L2081;
L2189: ( len D310 ) = D293 by L2090 , L2169;
thus L2190: D309 = ( D290 "**" D295 ) by L2189 , L2081 , L2093 , L2166 , L2170 , FINSEQ_1:14;
let R5 being Nat;
assume L2191: R5 in ( Seg ( len C213 ) );
thus L2192: thesis by L2191 , L2082 , L2083;
end;
theorem
L2193: (for R8 being Nat holds (for R11 being Field holds (for B216 , B217 , B218 being (Matrix of R8 , R11) holds (for R4 being Nat holds (R4 in ( Seg R8 ) implies (ex B219 being (FinSequence of R11) st (( len B219 ) = R8 & ( Det ( RLine (B218 , R4 , ( Line (( B216 * B217 ) , R4) )) ) ) = ( (the addF of R11) "**" B219 ) & (for R5 being Nat holds (R5 in ( Seg R8 ) implies ( B219 . R5 ) = ( ( B216 * (R4 , R5) ) * ( Det ( RLine (B218 , R4 , ( Line (B217 , R5) )) ) ) ))))))))))
proof
let R8 being Nat;
let R11 being Field;
let C222 , C223 , C224 being (Matrix of R8 , R11);
let R4 being Nat;
assume that
L2194: R4 in ( Seg R8 );
L2195: ( Seg R8 ) <> ( {} ) by L2194;
L2196: R8 <> ( 0 ) by L2195;
set D314 = ( addFinS R11 );
L2197: ( len C223 ) = R8 by MATRIX_1:24;
deffunc H2(Nat) = ( ( C222 * (R4 , $1) ) * ( Det ( RLine (C224 , R4 , ( Line (C223 , $1) )) ) ) );
set D315 = (the addF of R11);
set D316 = (the carrier of R11);
L2198: ( len C222 ) = R8 by MATRIX_1:24;
consider C225 being (FinSequence of D316) such that L2199: ( len C225 ) = ( len C222 ) and L2200: (for B220 being Nat holds (B220 in ( dom C225 ) implies ( C225 . B220 ) = H2(B220))) from FINSEQ_2:sch 1;
L2201: R8 <> ( 0 ) by L2194;
L2202: ( len C225 ) >= 1 by L2201 , L2198 , L2199 , NAT_1:14;
consider C226 being (Function of ( NAT ) , D316) such that L2203: ( C226 . 1 ) = ( C225 . 1 ) and L2204: (for B221 being (Element of ( NAT )) holds ((( 0 ) <> B221 & B221 < R8) implies ( C226 . ( B221 + 1 ) ) = ( D315 . (( C226 . B221 ) , ( C225 . ( B221 + 1 ) )) ))) and L2205: ( D315 "**" C225 ) = ( C226 . R8 ) by L2202 , L2198 , L2199 , FINSOP_1:def 1;
L2206: ( dom C225 ) = ( Seg ( len C222 ) ) by L2199 , FINSEQ_1:def 3;
L2207: ( width C222 ) = R8 by MATRIX_1:24;
consider C227 being (FinSequence of ( D316 * )) such that L2208: ( len C227 ) = R8 and L2209: ( Line (( C222 * C223 ) , R4) ) = ( D314 "**" C227 ) and L2210: (for R5 being Nat holds (R5 in ( Seg ( len C223 ) ) implies ( C227 . R5 ) = ( ( C222 * (R4 , R5) ) * ( Line (C223 , R5) ) ))) by L2207 , L2194 , L2201 , L2197 , L2198 , L2077;
L2211: ( len C227 ) >= 1 by L2208 , L2196 , NAT_1:14;
consider C228 being (Function of ( NAT ) , ( D316 * )) such that L2212: ( C228 . 1 ) = ( C227 . 1 ) and L2213: (for B222 being (Element of ( NAT )) holds ((( 0 ) <> B222 & B222 < R8) implies ( C228 . ( B222 + 1 ) ) = ( D314 . (( C228 . B222 ) , ( C227 . ( B222 + 1 ) )) ))) and L2214: ( Line (( C222 * C223 ) , R4) ) = ( C228 . R8 ) by L2211 , L2208 , L2209 , FINSOP_1:def 1;
defpred S20[ Nat ] means ((1 <= $1 & $1 <= R8) implies (for R28 being (FinSequence of R11) holds (R28 = ( C228 . $1 ) implies (( len R28 ) = R8 & ( C226 . $1 ) = ( Det ( RLine (C224 , R4 , R28) ) )))));
L2215: ( width C223 ) = R8 by MATRIX_1:24;
L2216: (for B223 being (Element of ( NAT )) holds (S20[ B223 ] implies S20[ ( B223 + 1 ) ]))
proof
let C229 being (Element of ( NAT ));
assume that
L2217: S20[ C229 ];
set D317 = ( C229 + 1 );
set D318 = ( C222 * (R4 , D317) );
set D319 = ( Line (C223 , D317) );
assume that
L2218: 1 <= D317
and
L2219: D317 <= R8;
L2220: D317 in ( Seg R8 ) by L2218 , L2219;
let C230 being (FinSequence of D316);
assume that
L2221: C230 = ( C228 . D317 );
per cases ;
suppose L2222: C229 = ( 0 );

L2223: ( C227 . D317 ) = ( D318 * D319 ) by L2197 , L2210 , L2220;
L2224: ( len D319 ) = R8 by L2215 , MATRIX_1:def 7;
L2225: ( C225 . D317 ) = H2(1) by L2198 , L2200 , L2206 , L2220 , L2222;
thus L2226: thesis by L2225 , L2194 , L2212 , L2203 , L2221 , L2222 , L2223 , L2224 , L1243 , L1466;
end;
suppose L2227: C229 > ( 0 );

L2228: D317 in ( dom C227 ) by L2208 , L2220 , FINSEQ_1:def 3;
L2229: ( C227 . D317 ) in ( rng C227 ) by L2228 , FUNCT_1:def 3;
L2230: ( rng C227 ) c= ( D316 * ) by FINSEQ_1:def 4;
reconsider D320 = ( C227 . D317 ) , D321 = ( C228 . C229 ) as (Element of ( D316 * )) by L2230 , L2229;
L2231: ( C229 + ( 0 ) ) < D317 by XREAL_1:8;
L2232: ( C226 . C229 ) = ( Det ( RLine (C224 , R4 , D321) ) ) by L2231 , L2217 , L2219 , L2227 , NAT_1:14 , XXREAL_0:2;
L2233: ( len D321 ) = R8 by L2217 , L2219 , L2227 , L2231 , NAT_1:14 , XXREAL_0:2;
L2234: C229 < R8 by L2219 , L2231 , XXREAL_0:2;
L2235: ( C226 . D317 ) = ( D315 . (( C226 . C229 ) , ( C225 . D317 )) ) by L2234 , L2204 , L2227;
L2236: ( C227 . D317 ) = ( D318 * D319 ) by L2197 , L2210 , L2220;
L2237: C230 = ( D314 . (D321 , D320) ) by L2213 , L2221 , L2227 , L2234;
L2238: C230 = ( D321 + ( D318 * D319 ) ) by L2237 , L2236 , L2013;
L2239: ( len D319 ) = R8 by L2215 , MATRIX_1:def 7;
L2240: ( len ( D318 * D319 ) ) = R8 by L2239 , L1243;
L2241: ( Det ( RLine (C224 , R4 , ( D318 * D319 )) ) ) = ( D318 * ( Det ( RLine (C224 , R4 , D319) ) ) ) by L2194 , L2239 , L1466;
L2242: ( Det ( RLine (C224 , R4 , C230) ) ) = ( ( Det ( RLine (C224 , R4 , D321) ) ) + ( D318 * ( Det ( RLine (C224 , R4 , D319) ) ) ) ) by L2241 , L2194 , L2233 , L2238 , L2240 , L1478;
thus L2243: thesis by L2242 , L2198 , L2200 , L2206 , L2220 , L2232 , L2235 , L2233 , L2238 , L2240 , L1247;
end;
end;
take C225;
thus L2245: ( len C225 ) = R8 by L2199 , MATRIX_1:24;
L2246: S20[ ( 0 ) ];
L2247: (for B224 being (Element of ( NAT )) holds S20[ B224 ]) from NAT_1:sch 1(L2246 , L2216);
L2248: S20[ ( len C227 ) ] by L2247;
thus L2249: thesis by L2248 , L2198 , L2208 , L2200 , L2206 , L2214 , L2205 , L2196 , NAT_1:14;
end;
theorem
L2250: (for B225 being set holds (for B226 being non  empty set holds (for R1 being set holds ((not R1 in B225) implies (ex B227 being (Function of [: ( Funcs (B225 , B226) ) , B226 :] , ( Funcs (( B225 \/ { R1 } ) , B226) )) st (B227 is  bijective & (for B228 being (Function of B225 , B226) holds (for B229 being (Function of ( B225 \/ { R1 } ) , B226) holds (( B229 | B225 ) = B228 implies ( B227 . (B228 , ( B229 . R1 )) ) = B229)))))))))
proof
let C231 being set;
let C232 being non  empty set;
let R1 being set;
assume that
L2251: (not R1 in C231);
set D322 = ( C231 \/ { R1 } );
set D323 = ( Funcs (C231 , C232) );
set D324 = ( Funcs (D322 , C232) );
defpred S21[ set , set ] means (for B230 being (Function of C231 , C232) holds (for B231 being (Function of D322 , C232) holds (for B232 being set holds (([ B230 , B232 ] = $1 & ( B231 . R1 ) = B232 & ( B231 | C231 ) = B230) implies B231 = $2))));
L2252: (for B233 being (Element of [: D323 , C232 :]) holds (ex B234 being (Element of D324) st S21[ B233 , B234 ]))
proof
let C233 being (Element of [: D323 , C232 :]);
consider C234 , C235 being set such that L2253: C234 in D323 and L2254: C235 in C232 and L2255: C233 = [ C234 , C235 ] by ZFMISC_1:def 2;
reconsider D325 = C234 as (Function of C231 , C232) by L2253 , FUNCT_2:66;
L2256: ( C232 \/ { C235 } ) = C232 by L2254 , ZFMISC_1:40;
consider C236 being (Function of ( C231 \/ { R1 } ) , C232) such that L2257: ( C236 | C231 ) = D325 and L2258: ( C236 . R1 ) = C235 by L2256 , L2251 , STIRL2_1:57;
reconsider D326 = C236 as (Element of D324) by FUNCT_2:8;
take D326;
let C237 being (Function of C231 , C232);
let C238 being (Function of D322 , C232);
let C239 being set;
assume that
L2259: [ C237 , C239 ] = C233
and
L2260: ( C238 . R1 ) = C239
and
L2261: ( C238 | C231 ) = C237;
L2262:
now
let C240 being set;
assume L2263: C240 in D322;
L2264: (C240 in C231 or C240 in { R1 }) by L2263 , XBOOLE_0:def 3;
L2265: ( dom D325 ) = C231 by FUNCT_2:def 1;
L2266: ( dom C237 ) = C231 by FUNCT_2:def 1;
L2267: ((( C238 . C240 ) = ( C237 . C240 ) & ( C236 . C240 ) = ( D325 . C240 )) or C240 = R1) by L2266 , L2257 , L2261 , L2264 , L2265 , FUNCT_1:47 , TARSKI:def 1;
thus L2268: ( C238 . C240 ) = ( C236 . C240 ) by L2267 , L2255 , L2258 , L2259 , L2260 , XTUPLE_0:1;
end;
thus L2269: thesis by L2262 , FUNCT_2:12;
end;
consider C241 being (Function of [: D323 , C232 :] , D324) such that L2270: (for B235 being (Element of [: D323 , C232 :]) holds S21[ B235 , ( C241 . B235 ) ]) from FUNCT_2:sch 3(L2252);
L2271:
now
let C242 , C243 being set;
assume that
L2272: C242 in [: D323 , C232 :]
and
L2273: C243 in [: D323 , C232 :]
and
L2274: ( C241 . C242 ) = ( C241 . C243 );
consider C244 , C245 being set such that L2275: C244 in D323 and L2276: C245 in C232 and L2277: C243 = [ C244 , C245 ] by L2273 , ZFMISC_1:def 2;
consider C246 , C247 being set such that L2278: C246 in D323 and L2279: C247 in C232 and L2280: C242 = [ C246 , C247 ] by L2272 , ZFMISC_1:def 2;
reconsider D327 = C246 , D328 = C244 as (Function of C231 , C232) by L2278 , L2275 , FUNCT_2:66;
L2281: ( C232 \/ { C245 } ) = C232 by L2276 , ZFMISC_1:40;
consider C248 being (Function of ( C231 \/ { R1 } ) , C232) such that L2282: ( C248 | C231 ) = D328 and L2283: ( C248 . R1 ) = C245 by L2281 , L2251 , STIRL2_1:57;
L2284: ( C241 . C243 ) = C248 by L2270 , L2273 , L2277 , L2282 , L2283;
L2285: ( C232 \/ { C247 } ) = C232 by L2279 , ZFMISC_1:40;
consider C249 being (Function of ( C231 \/ { R1 } ) , C232) such that L2286: ( C249 | C231 ) = D327 and L2287: ( C249 . R1 ) = C247 by L2285 , L2251 , STIRL2_1:57;
L2288: ( C241 . C242 ) = C249 by L2270 , L2272 , L2280 , L2286 , L2287;
thus L2289: C242 = C243 by L2288 , L2274 , L2280 , L2277 , L2286 , L2287 , L2282 , L2283 , L2284;
end;
take C241;
L2290: R1 in { R1 } by TARSKI:def 1;
L2291: R1 in D322 by L2290 , XBOOLE_0:def 3;
L2292: D324 c= ( rng C241 )
proof
let C250 being set;
assume L2293: C250 in D324;
reconsider D329 = C250 as (Function of D322 , C232) by L2293 , FUNCT_2:66;
L2294: ( dom D329 ) = D322 by FUNCT_2:def 1;
L2295: ( dom ( D329 | C231 ) ) = C231 by L2294 , RELAT_1:62 , XBOOLE_1:7;
L2296: ( rng ( D329 | C231 ) ) c= C232 by RELAT_1:def 19;
reconsider D330 = ( D329 | C231 ) as (Function of C231 , C232) by L2296 , L2295 , FUNCT_2:2;
L2297: D330 in D323 by FUNCT_2:8;
L2298: R1 in { R1 } by TARSKI:def 1;
L2299: R1 in D322 by L2298 , XBOOLE_0:def 3;
L2300: D322 = ( dom D329 ) by FUNCT_2:def 1;
L2301: ( D329 . R1 ) in ( rng D329 ) by L2300 , L2299 , FUNCT_1:def 3;
L2302: ( rng D329 ) c= C232 by RELAT_1:def 19;
L2303: [ D330 , ( D329 . R1 ) ] in [: D323 , C232 :] by L2302 , L2301 , L2297 , ZFMISC_1:87;
L2304: [: D323 , C232 :] = ( dom C241 ) by FUNCT_2:def 1;
L2305: ( C241 . [ D330 , ( D329 . R1 ) ] ) in ( rng C241 ) by L2304 , L2303 , FUNCT_1:def 3;
thus L2306: thesis by L2305 , L2270 , L2303;
end;
L2307: ( rng C241 ) c= D324 by RELAT_1:def 19;
L2308: D324 = ( rng C241 ) by L2307 , L2292 , XBOOLE_0:def 10;
L2309: C241 is  one-to-one  onto by L2308 , L2271 , FUNCT_2:19 , FUNCT_2:def 3;
thus L2310: C241 is  bijective by L2309;
let C251 being (Function of C231 , C232);
let C252 being (Function of ( C231 \/ { R1 } ) , C232);
assume that
L2311: ( C252 | C231 ) = C251;
L2312: D322 = ( dom C252 ) by FUNCT_2:def 1;
L2313: ( C252 . R1 ) in ( rng C252 ) by L2312 , L2291 , FUNCT_1:def 3;
L2314: C251 in D323 by FUNCT_2:8;
L2315: ( rng C252 ) c= C232 by RELAT_1:def 19;
L2316: [ C251 , ( C252 . R1 ) ] in [: D323 , C232 :] by L2315 , L2313 , L2314 , ZFMISC_1:87;
thus L2317: thesis by L2316 , L2270 , L2311;
end;
theorem
L2318: (for R10 being non  empty set holds (for B236 being  finite set holds (for B237 being non  empty  finite set holds (for R1 being set holds ((not R1 in B236) implies (for B238 being (BinOp of R10) holds ((B238 is  having_a_unity & B238 is  commutative & B238 is  associative) implies (for B239 being (Function of ( Funcs (B236 , B237) ) , R10) holds (for B240 being (Function of ( Funcs (( B236 \/ { R1 } ) , B237) ) , R10) holds ((for B241 being (Function of B236 , B237) holds (for B242 being (Element of ( Fin ( Funcs (( B236 \/ { R1 } ) , B237) ) )) holds (B242 = { B243 where B243 is (Function of ( B236 \/ { R1 } ) , B237) : ( B243 | B236 ) = B241 } implies ( B238 $$ (B242 , B240) ) = ( B239 . B241 )))) implies ( B238 $$ (( FinOmega ( Funcs (B236 , B237) ) ) , B239) ) = ( B238 $$ (( FinOmega ( Funcs (( B236 \/ { R1 } ) , B237) ) ) , B240) )))))))))))
proof
let R10 being non  empty set;
let C253 being  finite set;
let C254 being non  empty  finite set;
let R1 being set;
assume that
L2319: (not R1 in C253);
set D331 = ( C253 \/ { R1 } );
set D332 = ( Funcs (C253 , C254) );
set D333 = ( Funcs (D331 , C254) );
consider C255 being (Function of [: D332 , C254 :] , D333) such that L2320: C255 is  bijective and L2321: (for B244 being (Function of C253 , C254) holds (for B245 being (Function of D331 , C254) holds (( B245 | C253 ) = B244 implies ( C255 . (B244 , ( B245 . R1 )) ) = B245))) by L2319 , L2250;
L2322: D332 is  finite by FRAENKEL:6;
L2323: ( dom C255 ) = [: D332 , C254 :] by FUNCT_2:def 1;
reconsider D334 = ( dom C255 ) as (Element of ( Fin [: D332 , C254 :] )) by L2323 , L2322 , FINSUB_1:def 5;
L2324: D332 is  finite by FRAENKEL:6;
reconsider D335 = D332 as (Element of ( Fin D332 )) by L2324 , FINSUB_1:def 5;
L2325: ( FinOmega D333 ) = D333 by FRAENKEL:6 , MATRIX_2:def 14;
reconsider D336 = C254 as (Element of ( Fin C254 )) by FINSUB_1:def 5;
let C256 being (BinOp of R10);
assume that
L2326: C256 is  having_a_unity
and
L2327: C256 is  commutative
and
L2328: C256 is  associative;
let C257 being (Function of D332 , R10);
let C258 being (Function of D333 , R10);
assume that
L2329: (for B246 being (Function of C253 , C254) holds (for B247 being (Element of ( Fin D333 )) holds (B247 = { B248 where B248 is (Function of D331 , C254) : ( B248 | C253 ) = B246 } implies ( C256 $$ (B247 , C258) ) = ( C257 . B246 ))));
reconsider D337 = ( C258 * C255 ) as (Function of [: D332 , C254 :] , R10);
L2330: (for B249 being (Element of D332) holds ( C257 . B249 ) = ( C256 $$ (D336 , ( ( curry D337 ) . B249 )) ))
proof
let C259 being (Element of D332);
reconsider D338 = C259 as (Function of C253 , C254);
set D339 = { B250 where B250 is (Function of D331 , C254) : ( B250 | C253 ) = D338 };
deffunc H3(set) = [ C259 , $1 ];
consider C260 being Function such that L2331: (( dom C260 ) = C254 & (for R1 being set holds (R1 in C254 implies ( C260 . R1 ) = H3(R1)))) from FUNCT_1:sch 3;
L2332: { C259 } c= D332 by ZFMISC_1:31;
L2333: [: { D338 } , C254 :] c= [: D332 , C254 :] by L2332 , ZFMISC_1:95;
reconsider D340 = [: { D338 } , C254 :] as (Element of ( Fin [: D332 , C254 :] )) by L2333 , FINSUB_1:def 5;
L2334: (for B251 being set holds (B251 in D340 iff B251 in ( C260 .: C254 )))
proof
let C261 being set;
thus L2335: (C261 in D340 implies C261 in ( C260 .: C254 ))
proof
assume L2336: C261 in D340;
consider C262 , C263 being set such that L2337: C262 in { D338 } and L2338: C263 in C254 and L2339: C261 = [ C262 , C263 ] by L2336 , ZFMISC_1:def 2;
L2340: C259 = C262 by L2337 , TARSKI:def 1;
L2341: ( C260 . C263 ) = [ C259 , C263 ] by L2331 , L2338;
thus L2342: thesis by L2341 , L2331 , L2338 , L2339 , L2340 , FUNCT_1:def 6;
end;

assume L2343: C261 in ( C260 .: C254 );
consider C264 being set such that L2344: C264 in ( dom C260 ) and L2345: C264 in C254 and L2346: C261 = ( C260 . C264 ) by L2343 , FUNCT_1:def 6;
L2347: C261 = [ C259 , C264 ] by L2331 , L2344 , L2346;
thus L2348: thesis by L2347 , L2345 , ZFMISC_1:105;
end;
L2349: ( C260 .: C254 ) = D340 by L2334 , TARSKI:1;
L2350: ( rng C260 ) = D340 by L2349 , L2331 , RELAT_1:113;
L2351:
now
let C265 , C266 being set;
assume that
L2352: C265 in ( dom C260 )
and
L2353: C266 in ( dom C260 )
and
L2354: ( C260 . C265 ) = ( C260 . C266 );
L2355: ( C260 . C266 ) = [ C259 , C266 ] by L2331 , L2353;
L2356: [ C259 , C265 ] = ( C260 . C265 ) by L2331 , L2352;
thus L2357: C265 = C266 by L2356 , L2354 , L2355 , XTUPLE_0:1;
end;
L2358: C260 is  one-to-one by L2351 , FUNCT_1:def 4;
L2359: D340 c= [: D332 , C254 :] by L2332 , ZFMISC_1:95;
reconsider D341 = C260 as (Function of C254 , [: D332 , C254 :]) by L2359 , L2331 , L2350 , FUNCT_2:2;
reconsider D342 = ( D337 * D341 ) as (Function of C254 , R10);
L2360: ( dom D337 ) = [: D332 , C254 :] by FUNCT_2:def 1;
consider C267 being Function such that L2361: ( ( curry D337 ) . C259 ) = C267 and L2362: ( dom C267 ) = C254 and L2363: ( rng C267 ) c= ( rng D337 ) and L2364: (for B252 being set holds (B252 in C254 implies ( C267 . B252 ) = ( D337 . (C259 , B252) ))) by L2360 , FUNCT_5:29;
reconsider D343 = C267 as (Function of C254 , R10) by L2361;
L2365:
now
let C268 being set;
assume that
L2366: C268 in C254;
L2367: ( D341 . C268 ) = [ C259 , C268 ] by L2331 , L2366;
L2368: ( D343 . C268 ) = ( D337 . (C259 , C268) ) by L2364 , L2366;
thus L2369: ( D343 . C268 ) = ( D342 . C268 ) by L2368 , L2366 , L2367 , FUNCT_2:15;
end;
L2370: D343 = D342 by L2365 , FUNCT_2:12;
L2371: ( C255 .: D340 ) c= D339
proof
let C269 being set;
assume L2372: C269 in ( C255 .: D340 );
consider C270 being set such that L2373: C270 in ( dom C255 ) and L2374: C270 in D340 and L2375: C269 = ( C255 . C270 ) by L2372 , FUNCT_1:def 6;
consider C271 , C272 being set such that L2376: C271 in { D338 } and L2377: C272 in C254 and L2378: C270 = [ C271 , C272 ] by L2374 , ZFMISC_1:def 2;
L2379: ( C254 \/ { C272 } ) = C254 by L2377 , ZFMISC_1:40;
consider C273 being (Function of D331 , C254) such that L2380: ( C273 | C253 ) = D338 and L2381: ( C273 . R1 ) = C272 by L2379 , L2319 , STIRL2_1:57;
L2382: C271 = D338 by L2376 , TARSKI:def 1;
L2383: ( C255 . (C271 , C272) ) = C273 by L2382 , L2321 , L2380 , L2381;
thus L2384: thesis by L2383 , L2375 , L2378 , L2380;
end;
L2385: D339 c= ( C255 .: D340 )
proof
L2386: R1 in { R1 } by TARSKI:def 1;
L2387: R1 in D331 by L2386 , XBOOLE_0:def 3;
let C274 being set;
assume L2388: C274 in D339;
consider C275 being (Function of D331 , C254) such that L2389: C275 = C274 and L2390: ( C275 | C253 ) = D338 by L2388;
L2391: [: D332 , C254 :] = ( dom C255 ) by FUNCT_2:def 1;
L2392: ( dom C275 ) = D331 by FUNCT_2:def 1;
L2393: ( C275 . R1 ) in ( rng C275 ) by L2392 , L2387 , FUNCT_1:def 3;
L2394: ( rng C275 ) c= C254 by RELAT_1:def 19;
L2395: [ C259 , ( C275 . R1 ) ] in [: D332 , C254 :] by L2394 , L2393 , ZFMISC_1:87;
L2396: C259 in { D338 } by TARSKI:def 1;
L2397: [ C259 , ( C275 . R1 ) ] in D340 by L2396 , L2393 , L2394 , ZFMISC_1:87;
L2398: ( C255 . (C259 , ( C275 . R1 )) ) in ( C255 .: D340 ) by L2397 , L2395 , L2391 , FUNCT_1:def 6;
thus L2399: thesis by L2398 , L2321 , L2389 , L2390;
end;
reconsider D344 = D339 as (Element of ( Fin D333 )) by L2385 , L2371 , XBOOLE_0:def 10;
L2400: ( C255 .: D340 ) = D344 by L2371 , L2385 , XBOOLE_0:def 10;
L2401: ( C256 $$ (( C255 .: D340 ) , C258) ) = ( C257 . D338 ) by L2400 , L2329;
L2402: ( C256 $$ (( C255 .: D340 ) , C258) ) = ( C256 $$ (D340 , D337) ) by L2327 , L2328 , L2320 , SETWOP_2:6;
thus L2403: thesis by L2402 , L2327 , L2328 , L2401 , L2358 , L2349 , L2361 , L2370 , SETWOP_2:6;
end;
L2404: ( C256 $$ ([: D335 , D336 :] , D337) ) = ( C256 $$ (D335 , C257) ) by L2330 , L2326 , L2327 , L2328 , MATRIX_3:30;
L2405: ( C256 $$ (D334 , D337) ) = ( C256 $$ (D335 , C257) ) by L2404 , FUNCT_2:def 1;
L2406: ( rng C255 ) = D333 by L2320 , FUNCT_2:def 3;
L2407: ( C256 $$ (( C255 .: D334 ) , C258) ) = ( C256 $$ (D334 , ( C258 * C255 )) ) by L2327 , L2328 , L2320 , SETWOP_2:6;
L2408: ( C256 $$ (( FinOmega D333 ) , C258) ) = ( C256 $$ (D334 , ( C258 * C255 )) ) by L2407 , L2406 , L2325 , RELAT_1:113;
thus L2409: thesis by L2408 , L2405 , MATRIX_2:def 14;
end;
theorem
L2410: (for R8 being Nat holds (for R9 being Nat holds (for R10 being non  empty set holds (for B253 , B254 being (Matrix of R8 , R9 , R10) holds (for R4 being Nat holds ((R4 <= R8 & ( 0 ) < R8) implies (for B255 being (Function of ( Seg R4 ) , ( Seg R8 )) holds (ex B256 being (Matrix of R8 , R9 , R10) st (B256 = ( B253 +* ( ( B254 * ( ( idseq R8 ) +* B255 ) ) | ( Seg R4 ) ) ) & (for R5 being Nat holds ((R5 in ( Seg R4 ) implies ( B256 . R5 ) = ( B254 . ( B255 . R5 ) )) & ((not R5 in ( Seg R4 )) implies ( B256 . R5 ) = ( B253 . R5 )))))))))))))
proof
let R8 being Nat;
let R9 being Nat;
let R10 being non  empty set;
let C276 , C277 being (Matrix of R8 , R9 , R10);
let R4 being Nat;
assume that
L2411: R4 <= R8
and
L2412: ( 0 ) < R8;
set D345 = ( idseq R8 );
let C278 being (Function of ( Seg R4 ) , ( Seg R8 ));
set D346 = ( D345 +* C278 );
L2413: ( dom D345 ) = ( Seg R8 ) by RELAT_1:45;
L2414: ( rng D345 ) = ( Seg R8 ) by RELAT_1:45;
L2415: ( rng C278 ) c= ( Seg R8 ) by RELAT_1:def 19;
L2416: ( ( rng C278 ) \/ ( Seg R8 ) ) = ( Seg R8 ) by L2415 , XBOOLE_1:12;
L2417: ( rng D346 ) c= ( Seg R8 ) by L2416 , L2414 , FUNCT_4:17;
L2418: ( Seg R4 ) c= ( Seg R8 ) by L2411 , FINSEQ_1:5;
L2419: ( ( Seg R4 ) \/ ( Seg R8 ) ) = ( Seg R8 ) by L2418 , XBOOLE_1:12;
L2420: ( dom C278 ) = ( Seg R4 ) by L2412 , FUNCT_2:def 1;
L2421: ( dom C278 ) c= ( Seg R8 ) by L2420 , L2411 , FINSEQ_1:5;
L2422: ( ( dom C278 ) \/ ( Seg R8 ) ) = ( Seg R8 ) by L2421 , XBOOLE_1:12;
L2423: ( dom D346 ) = ( Seg R8 ) by L2422 , L2413 , FUNCT_4:def 1;
reconsider D347 = D346 as (Function of ( Seg R8 ) , ( Seg R8 )) by L2423 , L2417 , FUNCT_2:2;
reconsider D348 = ( C277 * D347 ) as (Matrix of R8 , R9 , R10);
set D349 = ( D348 | ( Seg R4 ) );
set D350 = ( C276 +* D349 );
L2424: ( len C277 ) = R8 by L2412 , MATRIX_1:23;
L2425: ( len D348 ) = ( len C277 ) by L1507;
L2426: ( dom D348 ) = ( Seg R8 ) by L2425 , L2424 , FINSEQ_1:def 3;
L2427: ( dom D349 ) = ( Seg R4 ) by L2426 , L2418 , RELAT_1:62;
L2428: ( len C276 ) = R8 by L2412 , MATRIX_1:23;
L2429: ( dom C276 ) = ( Seg R8 ) by L2428 , FINSEQ_1:def 3;
L2430: ( dom D350 ) = ( ( Seg R4 ) \/ ( Seg R8 ) ) by L2429 , L2427 , FUNCT_4:def 1;
reconsider D351 = D350 as FinSequence by L2430 , L2419 , FINSEQ_1:def 2;
L2431: (for R5 being Nat holds ((R5 in ( Seg R4 ) implies ( D351 . R5 ) = ( C277 . ( C278 . R5 ) )) & ((not R5 in ( Seg R4 )) implies ( D351 . R5 ) = ( C276 . R5 ))))
proof
let R5 being Nat;
thus L2432: (R5 in ( Seg R4 ) implies ( D351 . R5 ) = ( C277 . ( C278 . R5 ) ))
proof
L2433: ( Seg R4 ) c= ( Seg R8 ) by L2411 , FINSEQ_1:5;
assume L2434: R5 in ( Seg R4 );
L2435: ( D349 . R5 ) = ( D348 . R5 ) by L2434 , L2427 , FUNCT_1:47;
L2436: ( D347 . R5 ) = ( C278 . R5 ) by L2420 , L2434 , FUNCT_4:13;
L2437: ( Line (D348 , R5) ) = ( C277 . ( C278 . R5 ) ) by L2436 , L2434 , L2433 , L1577;
L2438: ( Line (D348 , R5) ) = ( D348 . R5 ) by L2434 , L2433 , MATRIX_2:8;
thus L2439: thesis by L2438 , L2427 , L2434 , L2437 , L2435 , FUNCT_4:13;
end;

assume L2440: (not R5 in ( Seg R4 ));
thus L2441: thesis by L2440 , L2427 , FUNCT_4:11;
end;
L2442: (for R1 being set holds (R1 in ( rng D351 ) implies (ex B257 being (FinSequence of R10) st (R1 = B257 & ( len B257 ) = R9))))
proof
let R1 being set;
assume L2443: R1 in ( rng D351 );
consider C279 being set such that L2444: C279 in ( dom D351 ) and L2445: ( D351 . C279 ) = R1 by L2443 , FUNCT_1:def 3;
reconsider D352 = C279 as Nat by L2444;
per cases ;
suppose L2446: D352 in ( Seg R4 );

L2447: ( rng C278 ) c= ( Seg R8 ) by RELAT_1:def 19;
L2448: ( C278 . D352 ) in ( rng C278 ) by L2420 , L2446 , FUNCT_1:def 3;
reconsider D353 = ( C278 . D352 ) as (Element of ( NAT )) by L2448 , L2447 , TARSKI:def 3;
take D354 = ( Line (C277 , D353) );
L2449: ( len D354 ) = ( width C277 ) by MATRIX_1:def 7;
L2450: ( C277 . ( C278 . D352 ) ) = D354 by L2448 , L2447 , MATRIX_2:8;
thus L2451: thesis by L2450 , L2412 , L2431 , L2445 , L2446 , L2449 , MATRIX_1:23;
end;
suppose L2452: (not D352 in ( Seg R4 ));

take D355 = ( Line (C276 , D352) );
L2453: ( len D355 ) = ( width C276 ) by MATRIX_1:def 7;
L2454: ( D351 . D352 ) = ( C276 . D352 ) by L2431 , L2452;
thus L2455: thesis by L2454 , L2412 , L2430 , L2419 , L2444 , L2445 , L2453 , MATRIX_1:23 , MATRIX_2:8;
end;
end;
reconsider D356 = D351 as (Matrix of R10) by L2442 , MATRIX_1:9;
L2457: R8 is (Element of ( NAT )) by ORDINAL1:def 12;
L2458: ( len D356 ) = R8 by L2457 , L2430 , L2419 , FINSEQ_1:def 3;
L2459:
now
let C280 being (FinSequence of R10);
assume L2460: C280 in ( rng D356 );
L2461: (ex B258 being (FinSequence of R10) st (C280 = B258 & ( len B258 ) = R9)) by L2460 , L2442;
thus L2462: ( len C280 ) = R9 by L2461;
end;
reconsider D357 = D356 as (Matrix of R8 , R9 , R10) by L2459 , L2458 , MATRIX_1:def 2;
take D357;
thus L2463: thesis by L2431;
end;
L2464: (for R8 being Nat holds (for R11 being Field holds (for B259 , B260 being (Matrix of R8 , R8 , R11) holds (for R4 being Nat holds ((R4 <= R8 & ( 0 ) < R8) implies (ex B261 being (Function of ( Funcs (( Seg R4 ) , ( Seg R8 )) ) , (the carrier of R11)) st (for B262 being (Function of ( Seg R4 ) , ( Seg R8 )) holds (for B263 being (Matrix of R8 , R8 , R11) holds ((B263 = ( ( B259 * B260 ) +* ( ( B260 * ( ( idseq R8 ) +* B262 ) ) | ( Seg R4 ) ) ) & (for R5 being Nat holds ((R5 in ( Seg R4 ) implies ( B263 . R5 ) = ( B260 . ( B262 . R5 ) )) & ((not R5 in ( Seg R4 )) implies ( B263 . R5 ) = ( ( B259 * B260 ) . R5 ))))) implies (ex B264 being (FinSequence of R11) st (( len B264 ) = R4 & (for B265 , B266 being Nat holds ((B266 in ( Seg R4 ) & B265 = ( B262 . B266 )) implies ( B264 . B266 ) = ( B259 * (B266 , B265) ))) & ( B261 . B262 ) = ( ( (the multF of R11) $$ B264 ) * ( Det B263 ) ))))))))))))
proof
let R8 being Nat;
let R11 being Field;
let C281 , C282 being (Matrix of R8 , R8 , R11);
let R4 being Nat;
assume that
L2465: R4 <= R8
and
L2466: ( 0 ) < R8;
set D358 = (the carrier of R11);
set D359 = ( idseq R8 );
set D360 = ( Seg R8 );
set D361 = ( Seg R4 );
set D362 = (the multF of R11);
set D363 = ( Funcs (D361 , D360) );
reconsider D364 = D360 as non  empty set by L2466;
set D365 = ( C281 * C282 );
reconsider D366 = D365 as (Matrix of R8 , R11);
defpred S22[ set , set ] means (for B267 being (Function of ( Seg R4 ) , ( Seg R8 )) holds (B267 = $1 implies (for B268 being (Matrix of R8 , R8 , R11) holds ((B268 = ( ( C281 * C282 ) +* ( ( C282 * ( D359 +* B267 ) ) | D361 ) ) & (for R5 being Nat holds ((R5 in D361 implies ( B268 . R5 ) = ( C282 . ( B267 . R5 ) )) & ((not R5 in D361) implies ( B268 . R5 ) = ( ( C281 * C282 ) . R5 ))))) implies (ex B269 being (FinSequence of R11) st (( len B269 ) = R4 & (for B270 , B271 being Nat holds ((B271 in D361 & B270 = ( B267 . B271 )) implies ( B269 . B271 ) = ( C281 * (B271 , B270) ))) & $2 = ( ( D362 $$ B269 ) * ( Det B268 ) )))))));
L2467: (ex B272 being Function st (( dom B272 ) = D361 & ( rng B272 ) c= D364)) by FUNCT_1:8;
reconsider D367 = D363 as non  empty set by L2467;
L2468: (for B273 being (Element of D367) holds (ex B274 being (Element of D358) st S22[ B273 , B274 ]))
proof
let C283 being (Element of D367);
reconsider D368 = C283 as (Function of D361 , D364) by FUNCT_2:66;
defpred S23[ set , set ] means (for B275 , B276 being Nat holds ((B276 = $1 & B275 = ( D368 . B276 )) implies $2 = ( C281 * (B276 , B275) )));
L2469: R4 is (Element of ( NAT )) by ORDINAL1:def 12;
L2470: (for B277 being set holds (B277 in D361 implies (ex R2 being set st (R2 in D358 & S23[ B277 , R2 ]))))
proof
let C284 being set;
assume that
L2471: C284 in D361;
reconsider D369 = C284 as Nat by L2471;
L2472: ( rng D368 ) c= ( Seg R8 ) by RELAT_1:def 19;
L2473: D361 = ( dom D368 ) by FUNCT_2:def 1;
L2474: ( D368 . D369 ) in ( rng D368 ) by L2473 , L2471 , FUNCT_1:def 3;
L2475: ( D368 . D369 ) in D364 by L2474 , L2472;
reconsider D370 = ( D368 . D369 ) as Nat by L2475;
take ( C281 * (D369 , D370) );
thus L2476: thesis;
end;
consider C285 being (Function of D361 , D358) such that L2477: (for R1 being set holds (R1 in D361 implies S23[ R1 , ( C285 . R1 ) ])) from FUNCT_2:sch 1(L2470);
L2478: ( dom C285 ) = D361 by FUNCT_2:def 1;
reconsider D371 = C285 as FinSequence by L2478 , FINSEQ_1:def 2;
L2479: ( rng C285 ) c= D358 by RELAT_1:def 19;
reconsider D372 = D371 as (FinSequence of R11) by L2479 , FINSEQ_1:def 4;
consider C286 being (Matrix of R8 , R11) such that L2480: C286 = ( D366 +* ( ( C282 * ( D359 +* D368 ) ) | D361 ) ) and L2481: (for R5 being Nat holds ((R5 in D361 implies ( C286 . R5 ) = ( C282 . ( D368 . R5 ) )) & ((not R5 in D361) implies ( C286 . R5 ) = ( D366 . R5 )))) by L2465 , L2466 , L2410;
take ( ( D362 $$ D372 ) * ( Det C286 ) );
let C287 being (Function of D361 , ( Seg R8 ));
assume that
L2482: C287 = C283;
let C288 being (Matrix of R8 , R8 , R11);
assume that
L2483: C288 = ( ( C281 * C282 ) +* ( ( C282 * ( D359 +* C287 ) ) | D361 ) )
and
L2484: (for R5 being Nat holds ((R5 in ( Seg R4 ) implies ( C288 . R5 ) = ( C282 . ( C287 . R5 ) )) & ((not R5 in ( Seg R4 )) implies ( C288 . R5 ) = ( ( C281 * C282 ) . R5 ))));
take D372;
L2485: ( dom C285 ) = D361 by FUNCT_2:def 1;
thus L2486: (( len D372 ) = R4 & (for B278 , B279 being Nat holds ((B279 in D361 & B278 = ( C287 . B279 )) implies ( D372 . B279 ) = ( C281 * (B279 , B278) )))) by L2485 , L2477 , L2482 , L2469 , FINSEQ_1:def 3;
L2487: ( len C288 ) = R8 by MATRIX_1:24;
L2488:
now
let C289 being Nat;
assume that
L2489: 1 <= C289
and
L2490: C289 <= ( len C286 );
per cases ;
suppose L2491: C289 in D361;

L2492: ( C286 . C289 ) = ( C282 . ( D368 . C289 ) ) by L2491 , L2481;
thus L2493: ( C286 . C289 ) = ( C288 . C289 ) by L2492 , L2482 , L2484 , L2491;
end;
suppose L2494: (not C289 in D361);

L2495: ( C286 . C289 ) = ( D366 . C289 ) by L2494 , L2481;
thus L2496: ( C286 . C289 ) = ( C288 . C289 ) by L2495 , L2484 , L2494;
end;
end;
L2498: ( len C286 ) = R8 by MATRIX_1:24;
thus L2499: thesis by L2498 , L2487 , L2488 , FINSEQ_1:14;
end;
consider C290 being (Function of D367 , D358) such that L2500: (for B280 being (Element of D367) holds S22[ B280 , ( C290 . B280 ) ]) from FUNCT_2:sch 3(L2468);
reconsider D373 = C290 as (Function of ( Funcs (D361 , ( Seg R8 )) ) , D358);
take D373;
let C291 being (Function of D361 , ( Seg R8 ));
reconsider D374 = C291 as (Function of D361 , D364);
let C292 being (Matrix of R8 , R11);
assume that
L2501: C292 = ( ( C281 * C282 ) +* ( ( C282 * ( D359 +* C291 ) ) | D361 ) )
and
L2502: (for R5 being Nat holds ((R5 in D361 implies ( C292 . R5 ) = ( C282 . ( C291 . R5 ) )) & ((not R5 in D361) implies ( C292 . R5 ) = ( ( C281 * C282 ) . R5 ))));
L2503: D374 in D367 by FUNCT_2:8;
thus L2504: thesis by L2503 , L2500 , L2501 , L2502;
end;
theorem
L2505: (for R8 being Nat holds (for R11 being Field holds (for B281 , B282 being (Matrix of R8 , R11) holds (( 0 ) < R8 implies (ex B283 being (Function of ( Funcs (( Seg R8 ) , ( Seg R8 )) ) , (the carrier of R11)) st ((for B284 being (Function of ( Seg R8 ) , ( Seg R8 )) holds (ex B285 being (FinSequence of R11) st (( len B285 ) = R8 & (for B286 , B287 being Nat holds ((B287 in ( Seg R8 ) & B286 = ( B284 . B287 )) implies ( B285 . B287 ) = ( B281 * (B287 , B286) ))) & ( B283 . B284 ) = ( ( (the multF of R11) $$ B285 ) * ( Det ( B282 * B284 ) ) )))) & ( Det ( B281 * B282 ) ) = ( (the addF of R11) $$ (( FinOmega ( Funcs (( Seg R8 ) , ( Seg R8 )) ) ) , B283) )))))))
proof
let R8 being Nat;
let R11 being Field;
let C293 , C294 being (Matrix of R8 , R11);
assume that
L2506: ( 0 ) < R8;
set D375 = ( C293 * C294 );
set D376 = (the addF of R11);
set D377 = ( idseq R8 );
set D378 = (the multF of R11);
set D379 = (the carrier of R11);
defpred S24[ Function , Nat ] means (for B288 being (Function of ( Seg $2 ) , ( Seg R8 )) holds (for B289 being (Matrix of R8 , R8 , R11) holds ((B289 = ( ( C293 * C294 ) +* ( ( C294 * ( D377 +* B288 ) ) | ( Seg $2 ) ) ) & (for R5 being Nat holds ((R5 in ( Seg $2 ) implies ( B289 . R5 ) = ( C294 . ( B288 . R5 ) )) & ((not R5 in ( Seg $2 )) implies ( B289 . R5 ) = ( ( C293 * C294 ) . R5 ))))) implies (ex B290 being (FinSequence of R11) st (( len B290 ) = $2 & (for B291 , B292 being Nat holds ((B292 in ( Seg $2 ) & B291 = ( B288 . B292 )) implies ( B290 . B292 ) = ( C293 * (B292 , B291) ))) & ( $1 . B288 ) = ( ( D378 $$ B290 ) * ( Det B289 ) ))))));
defpred S25[ Nat ] means ($1 <= R8 implies (for B293 being non  empty set holds (B293 = ( Funcs (( Seg $1 ) , ( Seg R8 )) ) implies (ex B294 being (Function of B293 , D379) st (S24[ B294 , $1 ] & ( Det D375 ) = ( D376 $$ (( FinOmega B293 ) , B294) ))))));
L2507: (for B295 being (Element of ( NAT )) holds (S25[ B295 ] implies S25[ ( B295 + 1 ) ]))
proof
set D380 = ( Seg R8 );
let C295 being (Element of ( NAT ));
assume that
L2508: S25[ C295 ];
set D381 = ( Seg C295 );
reconsider D382 = ( Funcs (( Seg C295 ) , ( Seg R8 )) ) as non  empty set by L2506;
set D383 = ( C295 + 1 );
assume L2509: D383 <= R8;
set D384 = ( ( Seg C295 ) \/ { D383 } );
let C296 being non  empty set;
assume that
L2510: C296 = ( Funcs (( Seg D383 ) , ( Seg R8 )) );
consider C297 being (Function of C296 , D379) such that L2511: S24[ C297 , D383 ] by L2509 , L2510 , L2464;
reconsider D385 = ( Funcs (D384 , D380) ) as non  empty set by L2510 , FINSEQ_1:9;
L2512: C296 = ( Funcs (D384 , D380) ) by L2510 , FINSEQ_1:9;
reconsider D386 = C297 as (Function of D385 , D379) by L2512;
L2513: ( C295 + ( 0 ) ) <= D383 by XREAL_1:8;
consider C298 being (Function of D382 , D379) such that L2514: S24[ C298 , C295 ] and L2515: ( Det D375 ) = ( D376 $$ (( FinOmega D382 ) , C298) ) by L2513 , L2508 , L2509 , XXREAL_0:2;
L2516: (not D383 in D381) by FINSEQ_3:8;
L2517: (for B296 being (Function of D381 , D380) holds (for B297 being (Element of ( Fin D385 )) holds (B297 = { B298 where B298 is (Function of D384 , D380) : ( B298 | D381 ) = B296 } implies ( D376 $$ (B297 , D386) ) = ( C298 . B296 ))))
proof
reconsider D387 = D380 as non  empty set by L2506;
let C299 being (Function of D381 , D380);
let C300 being (Element of ( Fin D385 ));
assume that
L2518: C300 = { B299 where B299 is (Function of D384 , D380) : ( B299 | D381 ) = C299 };
defpred S26[ set , set ] means (for B300 being (Function of D384 , D380) holds ((( B300 | D381 ) = C299 & ( B300 . D383 ) = $1) implies B300 = $2));
L2519: (for R2 being set holds (R2 in D387 implies (ex B301 being set st (B301 in C300 & S26[ R2 , B301 ]))))
proof
let R2 being set;
assume L2520: R2 in D387;
L2521: ( D380 \/ { R2 } ) = D380 by L2520 , ZFMISC_1:40;
consider C301 being (Function of D384 , D380) such that L2522: ( C301 | D381 ) = C299 and L2523: ( C301 . D383 ) = R2 by L2521 , L2516 , STIRL2_1:57;
take C301;
thus L2524: C301 in C300 by L2518 , L2522;
let C302 being (Function of D384 , D380);
assume that
L2525: ( C302 | D381 ) = C299
and
L2526: ( C302 . D383 ) = R2;
L2527:
now
let R1 being set;
assume L2528: R1 in D384;
L2529: (R1 in D381 or R1 in { D383 }) by L2528 , XBOOLE_0:def 3;
L2530: ( dom C299 ) = D381 by L2506 , FUNCT_2:def 1;
L2531: ((( C301 . R1 ) = ( C299 . R1 ) & ( C302 . R1 ) = ( C299 . R1 )) or R1 = D383) by L2530 , L2522 , L2525 , L2529 , FUNCT_1:47 , TARSKI:def 1;
thus L2532: ( C302 . R1 ) = ( C301 . R1 ) by L2531 , L2523 , L2526;
end;
thus L2533: thesis by L2527 , FUNCT_2:12;
end;
consider C303 being (Function of D387 , C300) such that L2534: (for R2 being set holds (R2 in D387 implies S26[ R2 , ( C303 . R2 ) ])) from FUNCT_2:sch 1(L2519);
L2535: C300 c= ( rng C303 )
proof
let R2 being set;
L2536: D383 in { D383 } by TARSKI:def 1;
L2537: D383 in D384 by L2536 , XBOOLE_0:def 3;
assume L2538: R2 in C300;
consider C304 being (Function of D384 , D380) such that L2539: R2 = C304 and L2540: ( C304 | D381 ) = C299 by L2538 , L2518;
L2541: ( dom C304 ) = D384 by L2506 , FUNCT_2:def 1;
L2542: ( C304 . D383 ) in ( rng C304 ) by L2541 , L2537 , FUNCT_1:def 3;
L2543: ( rng C304 ) c= D380 by RELAT_1:def 19;
L2544: ( dom C303 ) = D387 by L2538 , FUNCT_2:def 1;
L2545: ( C303 . ( C304 . D383 ) ) in ( rng C303 ) by L2544 , L2542 , L2543 , FUNCT_1:def 3;
thus L2546: thesis by L2545 , L2534 , L2539 , L2540 , L2542 , L2543;
end;
L2547: ( rng C303 ) c= C300 by RELAT_1:def 19;
L2548: ( rng C303 ) = C300 by L2547 , L2535 , XBOOLE_0:def 10;
L2549: ( D380 \/ { R8 } ) = D380 by L2506 , FINSEQ_1:3 , ZFMISC_1:40;
consider C305 being (Function of D384 , D380) such that L2550: ( C305 | D381 ) = C299 and L2551: ( C305 . D383 ) = R8 by L2549 , L2516 , STIRL2_1:57;
L2552: C300 c= D385 by FINSUB_1:def 5;
L2553: C295 <= R8 by L2509 , L2513 , XXREAL_0:2;
consider C306 being (Matrix of R8 , R11) such that L2554: C306 = ( D375 +* ( ( C294 * ( D377 +* C299 ) ) | ( Seg C295 ) ) ) and L2555: (for R5 being Nat holds ((R5 in ( Seg C295 ) implies ( C306 . R5 ) = ( C294 . ( C299 . R5 ) )) & ((not R5 in ( Seg C295 )) implies ( C306 . R5 ) = ( D375 . R5 )))) by L2553 , L2506 , L2410;
consider C307 being (FinSequence of R11) such that L2556: ( len C307 ) = C295 and L2557: (for B302 , B303 being Nat holds ((B303 in ( Seg C295 ) & B302 = ( C299 . B303 )) implies ( C307 . B303 ) = ( C293 * (B303 , B302) ))) and L2558: ( C298 . C299 ) = ( ( D378 $$ C307 ) * ( Det C306 ) ) by L2514 , L2554 , L2555;
L2559: ( C306 . D383 ) = ( D375 . D383 ) by L2516 , L2555;
L2560: C305 in C300 by L2518 , L2550;
reconsider D388 = C303 as (Function of D387 , D385) by L2560 , L2548 , L2552 , FUNCT_2:6;
L2561: ( dom ( D386 * D388 ) ) = D380 by FUNCT_2:def 1;
L2562: ( D388 .: ( dom D388 ) ) = C300 by L2548 , RELAT_1:113;
L2563: ( 1 + ( 0 ) ) <= D383 by XREAL_1:7;
L2564: D383 in ( Seg R8 ) by L2563 , L2509;
L2565: ( D375 . D383 ) = ( Line (D375 , D383) ) by L2564 , MATRIX_2:8;
L2566: ( C306 . D383 ) = ( Line (C306 , D383) ) by L2564 , MATRIX_2:8;
L2567: C306 = ( RLine (C306 , D383 , ( Line (D375 , D383) )) ) by L2566 , L2559 , L2565 , L1224;
consider C308 being (FinSequence of D379) such that L2568: ( len C308 ) = R8 and L2569: ( Det C306 ) = ( D376 "**" C308 ) and L2570: (for R5 being Nat holds (R5 in D380 implies ( C308 . R5 ) = ( ( C293 * (D383 , R5) ) * ( Det ( RLine (C306 , D383 , ( Line (C294 , R5) )) ) ) ))) by L2567 , L2564 , L2193;
L2571: ( dom ( id D380 ) ) = D380;
set D389 = ( D378 "**" C307 );
set D390 = ( D389 * C308 );
L2572: ( len D390 ) = R8 by L2568 , L1243;
L2573: ( dom D390 ) = D380 by L2572 , FINSEQ_1:def 3;
set D391 = ( [#] (D390 , ( the_unity_wrt D376 )) );
L2574: (for B304 being Nat holds (B304 in D380 implies ( ( D386 * D388 ) . B304 ) = ( ( D389 * ( C293 * (D383 , B304) ) ) * ( Det ( RLine (C306 , D383 , ( Line (C294 , B304) )) ) ) )))
proof
L2575: ( width C294 ) = R8 by MATRIX_1:24;
L2576: ( len C306 ) = R8 by MATRIX_1:24;
L2577: ( dom ( D386 * D388 ) ) = D380 by FUNCT_2:def 1;
L2578: ( width C306 ) = R8 by MATRIX_1:24;
let C309 being Nat;
assume that
L2579: C309 in D380;
L2580: ( D380 \/ { C309 } ) = D380 by L2579 , ZFMISC_1:40;
consider C310 being (Function of D384 , D380) such that L2581: ( C310 | D381 ) = C299 and L2582: ( C310 . D383 ) = C309 by L2580 , L2516 , STIRL2_1:57;
set D392 = ( Line (C294 , C309) );
set D393 = ( RLine (C306 , D383 , D392) );
L2583: D384 = ( Seg D383 ) by FINSEQ_1:9;
reconsider D394 = C310 as (Function of ( Seg D383 ) , D380) by L2583;
consider C311 being (Matrix of R8 , R11) such that L2584: C311 = ( D375 +* ( ( C294 * ( D377 +* D394 ) ) | ( Seg D383 ) ) ) and L2585: (for R4 being Nat holds ((R4 in ( Seg D383 ) implies ( C311 . R4 ) = ( C294 . ( D394 . R4 ) )) & ((not R4 in ( Seg D383 )) implies ( C311 . R4 ) = ( D375 . R4 )))) by L2509 , L2410;
L2586: ( len C311 ) = R8 by MATRIX_1:24;
L2587: ( len D392 ) = ( width C294 ) by MATRIX_1:def 7;
L2588:
now
L2589: ( C295 + ( 0 ) ) < D383 by XREAL_1:8;
let C312 being Nat;
assume that
L2590: 1 <= C312
and
L2591: C312 <= ( len C311 );
L2592: C312 in ( NAT ) by ORDINAL1:def 12;
L2593: C312 in ( Seg R8 ) by L2592 , L2586 , L2590 , L2591;
per cases ;
suppose L2594: C312 <= C295;

L2595: C312 <= D383 by L2594 , L2589 , XXREAL_0:2;
L2596: C312 in ( Seg D383 ) by L2595 , L2590 , L2592;
L2597: ( Line (D393 , C312) ) = ( D393 . C312 ) by L2593 , MATRIX_2:8;
L2598: C312 in D381 by L2590 , L2592 , L2594;
L2599: ( C306 . C312 ) = ( C294 . ( C299 . C312 ) ) by L2598 , L2555;
L2600: ( dom C299 ) = D381 by L2586 , L2590 , L2591 , FUNCT_2:def 1;
L2601: ( C299 . C312 ) = ( C310 . C312 ) by L2600 , L2581 , L2598 , FUNCT_1:47;
L2602: ( Line (C306 , C312) ) = ( C306 . C312 ) by L2593 , MATRIX_2:8;
L2603: ( Line (D393 , C312) ) = ( Line (C306 , C312) ) by L2593 , L2589 , L2594 , L1154;
thus L2604: ( C311 . C312 ) = ( D393 . C312 ) by L2603 , L2585 , L2597 , L2602 , L2599 , L2601 , L2596;
end;
suppose L2605: (C312 > C295 & C312 <= D383);

L2606: D383 in ( Seg D383 ) by FINSEQ_1:4;
L2607: D392 = ( C294 . C309 ) by L2579 , MATRIX_2:8;
L2608: ( D393 . C312 ) = ( Line (D393 , C312) ) by L2593 , MATRIX_2:8;
L2609: C312 = D383 by L2605 , NAT_1:9;
L2610: D392 = ( Line (D393 , C312) ) by L2609 , L2587 , L2575 , L2578 , L2593 , L1154;
thus L2611: ( C311 . C312 ) = ( D393 . C312 ) by L2610 , L2582 , L2585 , L2609 , L2606 , L2608 , L2607;
end;
suppose L2612: (C312 > C295 & C312 > D383);

L2613: (not C312 in ( Seg D383 )) by L2612 , FINSEQ_1:1;
L2614: ( C311 . C312 ) = ( D375 . C312 ) by L2613 , L2585;
L2615: ( Line (D393 , C312) ) = ( D393 . C312 ) by L2593 , MATRIX_2:8;
L2616: (not C312 in D381) by L2612 , FINSEQ_1:1;
L2617: ( Line (C306 , C312) ) = ( C306 . C312 ) by L2593 , MATRIX_2:8;
L2618: ( Line (D393 , C312) ) = ( Line (C306 , C312) ) by L2593 , L2612 , L1154;
thus L2619: ( C311 . C312 ) = ( D393 . C312 ) by L2618 , L2555 , L2615 , L2617 , L2616 , L2614;
end;
end;
L2621: ( len D393 ) = ( len C306 ) by L1144;
L2622: D393 = C311 by L2621 , L2576 , L2586 , L2588 , FINSEQ_1:14;
consider C313 being (FinSequence of R11) such that L2623: ( len C313 ) = D383 and L2624: (for B305 , B306 being Nat holds ((B306 in ( Seg D383 ) & B305 = ( C310 . B306 )) implies ( C313 . B306 ) = ( C293 * (B306 , B305) ))) and L2625: ( C297 . C310 ) = ( ( D378 "**" C313 ) * ( Det D393 ) ) by L2622 , L2511 , L2584 , L2585;
L2626: ( C313 . D383 ) = ( C293 * (D383 , C309) ) by L2582 , L2624 , FINSEQ_1:4;
L2627:
now
L2628: ( rng C299 ) c= D380 by RELAT_1:def 19;
L2629: D381 = ( dom C299 ) by L2579 , FUNCT_2:def 1;
let C314 being Nat;
assume that
L2630: 1 <= C314
and
L2631: C314 <= ( len C307 );
L2632: ( ( C313 | C295 ) . C314 ) = ( C313 . C314 ) by L2556 , L2631 , FINSEQ_3:112;
L2633: C314 in ( NAT ) by ORDINAL1:def 12;
L2634: C314 in D381 by L2633 , L2556 , L2630 , L2631;
L2635: ( C299 . C314 ) in ( rng C299 ) by L2634 , L2629 , FUNCT_1:def 3;
L2636: ( C299 . C314 ) in D380 by L2635 , L2628;
reconsider D395 = ( C299 . C314 ) as Nat by L2636;
L2637: C314 <= D383 by L2513 , L2556 , L2631 , XXREAL_0:2;
L2638: C314 in ( Seg D383 ) by L2637 , L2630 , L2633;
L2639: C314 in D381 by L2556 , L2630 , L2631 , L2633;
L2640: ( C307 . C314 ) = ( C293 * (C314 , D395) ) by L2639 , L2557;
L2641: ( C299 . C314 ) = ( C310 . C314 ) by L2581 , L2634 , L2629 , FUNCT_1:47;
thus L2642: ( C307 . C314 ) = ( ( C313 | D381 ) . C314 ) by L2641 , L2624 , L2638 , L2640 , L2632;
end;
L2643: ( len ( C313 | C295 ) ) = C295 by L2513 , L2623 , FINSEQ_1:59;
L2644: C313 = ( C307 ^ <* ( C313 . D383 ) *> ) by L2643 , L2556 , L2623 , L2627 , FINSEQ_1:14 , FINSEQ_3:55;
L2645: ( D378 "**" C313 ) = ( D389 * ( C293 * (D383 , C309) ) ) by L2644 , L2626 , FINSOP_1:4;
L2646: ( D388 . C309 ) = C310 by L2534 , L2579 , L2581 , L2582;
thus L2647: thesis by L2646 , L2579 , L2625 , L2577 , L2645 , FUNCT_1:12;
end;
L2648:
now
let R2 being set;
assume that
L2649: R2 in ( dom D390 );
reconsider D396 = R2 as Nat by L2649;
L2650: ( C308 . D396 ) = ( ( C293 * (D383 , D396) ) * ( Det ( RLine (C306 , D383 , ( Line (C294 , D396) )) ) ) ) by L2570 , L2573 , L2649;
thus L2651: ( D390 . R2 ) = ( D389 * ( ( C293 * (D383 , D396) ) * ( Det ( RLine (C306 , D383 , ( Line (C294 , D396) )) ) ) ) ) by L2650 , L2649 , FVSUM_1:50
.= ( ( D389 * ( C293 * (D383 , D396) ) ) * ( Det ( RLine (C306 , D383 , ( Line (C294 , D396) )) ) ) ) by GROUP_1:def 3
.= ( ( D386 * D388 ) . R2 ) by L2574 , L2573 , L2649;
end;
L2652: D390 = ( D386 * D388 ) by L2648 , L2561 , L2573 , FUNCT_1:2;
L2653: ( D391 | ( dom D390 ) ) = ( D386 * D388 ) by L2652 , SETWOP_2:21;
L2654:
now
let C315 , C316 being set;
assume that
L2655: C315 in D380
and
L2656: C316 in D380
and
L2657: ( D388 . C315 ) = ( D388 . C316 );
L2658: ( D380 \/ { C316 } ) = D380 by L2656 , ZFMISC_1:40;
L2659: (ex B307 being (Function of D384 , D380) st (( B307 | D381 ) = C299 & ( B307 . D383 ) = C316)) by L2658 , L2516 , STIRL2_1:57;
L2660: ( D380 \/ { C315 } ) = D380 by L2655 , ZFMISC_1:40;
consider C317 being (Function of D384 , D380) such that L2661: ( C317 | D381 ) = C299 and L2662: ( C317 . D383 ) = C315 by L2660 , L2516 , STIRL2_1:57;
L2663: ( D388 . C315 ) = C317 by L2534 , L2655 , L2661 , L2662;
thus L2664: C315 = C316 by L2663 , L2534 , L2656 , L2657 , L2662 , L2659;
end;
L2665: D388 is  one-to-one by L2654 , FUNCT_2:19;
reconsider D397 = D380 as (Element of ( Fin D387 )) by FINSUB_1:def 5;
L2666: ( dom D388 ) = D397 by FUNCT_2:def 1;
L2667: ( rng ( id D380 ) ) = D380;
L2668: ( ( D386 * D388 ) * ( id D380 ) ) = ( D386 * D388 ) by L2561 , RELAT_1:52;
L2669: ( D376 $$ (D397 , ( D386 * D388 )) ) = ( D376 $$ (( findom D390 ) , D391) ) by L2668 , L2573 , L2571 , L2667 , L2653 , SETWOP_2:5
.= ( Sum D390 ) by FVSUM_1:8 , SETWOP_2:def 2
.= ( D389 * ( Sum C308 ) ) by FVSUM_1:73
.= ( C298 . C299 ) by L2558 , L2569;
thus L2670: thesis by L2669 , L2665 , L2562 , L2666 , SETWOP_2:6;
end;
L2671: D376 is  having_a_unity by FVSUM_1:8;
L2672: ( Det D375 ) = ( D376 $$ (( FinOmega D385 ) , D386) ) by L2671 , L2506 , L2515 , L2516 , L2517 , L2318;
thus L2673: thesis by L2672 , L2511 , L2512;
end;
set D398 = ( Funcs (( Seg R8 ) , ( Seg R8 )) );
L2674: R8 is (Element of ( NAT )) by ORDINAL1:def 12;
L2675: S25[ ( 0 ) ]
proof
reconsider D399 = ( {} ) as (Function of ( Seg ( 0 ) ) , ( Seg R8 )) by XBOOLE_1:2;
assume L2676: ( 0 ) <= R8;
L2677: ( the_unity_wrt D378 ) = ( 1_ R11 ) by GROUP_1:22;
let C318 being non  empty set;
assume that
L2678: C318 = ( Funcs (( Seg ( 0 ) ) , ( Seg R8 )) );
consider C319 being (Function of C318 , D379) such that L2679: S24[ C319 , ( 0 ) ] by L2506 , L2678 , L2464;
L2680: C318 = { D399 } by L2678 , FUNCT_5:57;
L2681: D399 in C318 by L2680 , TARSKI:def 1;
L2682: ( FinOmega C318 ) = { D399 } by L2680 , MATRIX_2:def 14;
L2683: ( D376 $$ (( FinOmega C318 ) , C319) ) = ( C319 . D399 ) by L2682 , L2681 , SETWISEO:17;
consider C320 being (Matrix of R8 , R11) such that L2684: C320 = ( D375 +* ( ( C294 * ( D377 +* D399 ) ) | (( Seg ( 0 ) ) qua set) ) ) and L2685: (for R5 being Nat holds ((R5 in ( Seg ( 0 ) ) implies ( C320 . R5 ) = ( C294 . ( D399 . R5 ) )) & ((not R5 in ( Seg ( 0 ) )) implies ( C320 . R5 ) = ( D375 . R5 )))) by L2506 , L2410;
L2686: C320 = ( D375 +* ( {} ) ) by L2684;
consider C321 being (FinSequence of R11) such that L2687: ( len C321 ) = ( 0 ) and L2688: (for B308 , B309 being Nat holds ((B309 in ( Seg ( 0 ) ) & B308 = ( D399 . B309 )) implies ( C321 . B309 ) = ( C293 * (B309 , B308) ))) and L2689: ( C319 . D399 ) = ( ( D378 $$ C321 ) * ( Det C320 ) ) by L2679 , L2684 , L2685;
L2690: C321 = ( <*> D379 ) by L2687;
L2691: ( D378 "**" C321 ) = ( 1_ R11 ) by L2690 , L2677 , FINSOP_1:10;
L2692: ( C319 . D399 ) = ( Det D375 ) by L2691 , L2689 , L2686 , VECTSP_1:def 4;
thus L2693: thesis by L2692 , L2679 , L2683;
end;
L2694: (for B310 being (Element of ( NAT )) holds S25[ B310 ]) from NAT_1:sch 1(L2675 , L2507);
consider C322 being (Function of D398 , D379) such that L2695: S24[ C322 , R8 ] and L2696: ( Det D375 ) = ( D376 $$ (( FinOmega D398 ) , C322) ) by L2694 , L2674;
take C322;
thus L2697: (for B311 being (Function of ( Seg R8 ) , ( Seg R8 )) holds (ex B312 being (FinSequence of R11) st (( len B312 ) = R8 & (for B313 , B314 being Nat holds ((B314 in ( Seg R8 ) & B313 = ( B311 . B314 )) implies ( B312 . B314 ) = ( C293 * (B314 , B313) ))) & ( C322 . B311 ) = ( ( (the multF of R11) $$ B312 ) * ( Det ( C294 * B311 ) ) ))))
proof
L2698: ( len D375 ) = R8 by MATRIX_1:24;
L2699: ( dom D375 ) = ( Seg R8 ) by L2698 , FINSEQ_1:def 3;
let C323 being (Function of ( Seg R8 ) , ( Seg R8 ));
L2700: ( dom D377 ) = ( Seg R8 ) by FUNCT_2:52;
L2701: ( dom C323 ) = ( Seg R8 ) by FUNCT_2:52;
L2702: ( D377 +* C323 ) = C323 by L2701 , L2700 , FUNCT_4:19;
L2703: ( len C294 ) = R8 by MATRIX_1:24;
L2704: ( len ( C294 * C323 ) ) = ( len C294 ) by L1507;
L2705: ( dom ( C294 * C323 ) ) = ( Seg R8 ) by L2704 , L2703 , FINSEQ_1:def 3;
consider C324 being (Matrix of R8 , R11) such that L2706: C324 = ( D375 +* ( ( C294 * ( D377 +* C323 ) ) | ( Seg R8 ) ) ) and L2707: (for R5 being Nat holds ((R5 in ( Seg R8 ) implies ( C324 . R5 ) = ( C294 . ( C323 . R5 ) )) & ((not R5 in ( Seg R8 )) implies ( C324 . R5 ) = ( D375 . R5 )))) by L2506 , L2410;
L2708: ( ( C294 * C323 ) | R8 ) = ( C294 * C323 );
L2709: C324 = ( C294 * C323 ) by L2708 , L2706 , L2702 , L2705 , L2699 , FUNCT_4:19;
thus L2710: thesis by L2709 , L2695 , L2706 , L2707;
end;

thus L2711: thesis by L2696;
end;
theorem
L2712: (for R8 being Nat holds (for R11 being Field holds (for B315 , B316 being (Matrix of R8 , R11) holds (( 0 ) < R8 implies (ex B317 being (Function of ( Permutations R8 ) , (the carrier of R11)) st (( Det ( B315 * B316 ) ) = ( (the addF of R11) $$ (( FinOmega ( Permutations R8 ) ) , B317) ) & (for B318 being (Element of ( Permutations R8 )) holds ( B317 . B318 ) = ( ( (the multF of R11) $$ ( Path_matrix (B318 , B315) ) ) * ( - (( Det B316 ) , B318) ) ))))))))
proof
let R8 being Nat;
let R11 being Field;
let C325 , C326 being (Matrix of R8 , R11);
assume that
L2713: ( 0 ) < R8;
set D400 = ( Permutations R8 );
L2714: ( dom ( id D400 ) ) = D400;
set D401 = (the carrier of R11);
set D402 = (the multF of R11);
set D403 = (the addF of R11);
set D404 = ( C325 * C326 );
set D405 = ( Seg R8 );
set D406 = ( Funcs (D405 , D405) );
consider C327 being (Function of D406 , D401) such that L2715: (for B319 being (Function of D405 , D405) holds (ex B320 being (FinSequence of R11) st (( len B320 ) = R8 & (for B321 , B322 being Nat holds ((B322 in ( Seg R8 ) & B321 = ( B319 . B322 )) implies ( B320 . B322 ) = ( C325 * (B322 , B321) ))) & ( C327 . B319 ) = ( ( D402 $$ B320 ) * ( Det ( C326 * B319 ) ) )))) and L2716: ( Det D404 ) = ( D403 $$ (( FinOmega D406 ) , C327) ) by L2713 , L2505;
L2717: D406 is  finite by FRAENKEL:6;
reconsider D407 = ( D406 \ D400 ) as (Element of ( Fin D406 )) by L2717 , FINSUB_1:def 5;
L2718: D400 c= D406
proof
let R1 being set;
assume L2719: R1 in D400;
reconsider D408 = R1 as (Permutation of D405) by L2719 , MATRIX_2:def 9;
L2720: D408 is (Element of D406) by FUNCT_2:9;
thus L2721: thesis by L2720;
end;
reconsider D409 = D400 as (Element of ( Fin D406 )) by L2718 , L2717 , FINSUB_1:def 5;
L2722: D400 = ( FinOmega D400 ) by MATRIX_2:26 , MATRIX_2:def 14;
L2723: ( FinOmega D406 ) = D406 by FRAENKEL:6 , MATRIX_2:def 14;
L2724:
now
per cases ;
suppose L2725: D407 = ( {} );

L2726: D406 c= D400 by L2725 , XBOOLE_1:37;
thus L2727: ( Det D404 ) = ( D403 $$ (D409 , C327) ) by L2726 , L2716 , L2723 , L2718 , XBOOLE_0:def 10;
end;
suppose L2728: D407 <> ( {} );

L2729: ( 0. R11 ) = ( the_unity_wrt D403 ) by FVSUM_1:7;
L2730: ( C327 .: D407 ) c= { ( 0. R11 ) }
proof
let C328 being set;
assume L2731: C328 in ( C327 .: D407 );
consider R1 being set such that L2732: R1 in ( dom C327 ) and L2733: R1 in D407 and L2734: C328 = ( C327 . R1 ) by L2731 , FUNCT_1:def 6;
reconsider D410 = R1 as (Function of D405 , D405) by L2733 , FUNCT_2:66;
L2735: (not D410 in D400) by L2733 , XBOOLE_0:def 5;
L2736: ( Det ( C326 * D410 ) ) = ( 0. R11 ) by L2735 , L1999;
L2737: (ex B323 being (FinSequence of R11) st (( len B323 ) = R8 & (for B324 , B325 being Nat holds ((B325 in ( Seg R8 ) & B324 = ( D410 . B325 )) implies ( B323 . B325 ) = ( C325 * (B325 , B324) ))) & ( C327 . D410 ) = ( ( D402 $$ B323 ) * ( Det ( C326 * D410 ) ) ))) by L2715;
L2738: ( C327 . D410 ) = ( 0. R11 ) by L2737 , L2736 , VECTSP_1:6;
thus L2739: thesis by L2738 , L2734 , TARSKI:def 1;
end;
L2740: ( dom C327 ) = D406 by FUNCT_2:def 1;
L2741: ( C327 .: D407 ) = { ( 0. R11 ) } by L2740 , L2728 , L2730 , ZFMISC_1:33;
L2742: ( D403 $$ (D407 , C327) ) = ( 0. R11 ) by L2741 , L2729 , FVSUM_1:8 , SETWOP_2:8;
L2743: D407 misses D400 by XBOOLE_1:79;
L2744: ( D407 \/ D400 ) = ( D406 \/ D400 ) by XBOOLE_1:39;
L2745: ( D406 \/ D400 ) = D406 by L2718 , XBOOLE_1:12;
thus L2746: ( Det D404 ) = ( ( D403 $$ (D409 , C327) ) + ( 0. R11 ) ) by L2745 , L2716 , L2723 , L2742 , L2743 , L2744 , FVSUM_1:8 , SETWOP_2:4
.= ( D403 $$ (D409 , C327) ) by RLVECT_1:4;
end;
end;
L2748: ( dom C327 ) = D406 by FUNCT_2:def 1;
L2749: ( dom ( C327 | D400 ) ) = D400 by L2748 , L2718 , RELAT_1:62;
L2750: ( rng ( C327 | D400 ) ) c= D401 by RELAT_1:def 19;
reconsider D411 = ( C327 | D400 ) as (Function of D400 , D401) by L2750 , L2749 , FUNCT_2:2;
take D411;
L2751: ( rng ( id D400 ) ) = D400;
L2752: ( D411 * ( id D400 ) ) = D411 by L2749 , RELAT_1:52;
thus L2753: ( Det D404 ) = ( D403 $$ (( FinOmega D400 ) , D411) ) by L2752 , L2724 , L2714 , L2751 , L2722 , SETWOP_2:5;
let C329 being (Element of D400);
reconsider D412 = C329 as (Permutation of D405) by MATRIX_2:def 9;
L2754: ( C327 . D412 ) = ( D411 . D412 ) by L2749 , FUNCT_1:47;
consider C330 being (FinSequence of R11) such that L2755: ( len C330 ) = R8 and L2756: (for B326 , B327 being Nat holds ((B327 in ( Seg R8 ) & B326 = ( D412 . B327 )) implies ( C330 . B327 ) = ( C325 * (B327 , B326) ))) and L2757: ( D411 . D412 ) = ( ( D402 $$ C330 ) * ( Det ( C326 * D412 ) ) ) by L2754 , L2715;
set D413 = ( Path_matrix (C329 , C325) );
L2758: ( len D413 ) = R8 by MATRIX_3:def 7;
L2759:
now
L2760: D405 = ( dom D412 ) by FUNCT_2:52;
let C331 being Nat;
assume that
L2761: 1 <= C331
and
L2762: C331 <= ( len C330 );
L2763: C331 in ( NAT ) by ORDINAL1:def 12;
L2764: C331 in D405 by L2763 , L2755 , L2761 , L2762;
L2765: C331 in D405 by L2755 , L2761 , L2762 , L2763;
L2766: ( D412 . C331 ) in ( rng D412 ) by L2765 , L2760 , FUNCT_1:def 3;
L2767: ( rng D412 ) c= D405 by RELAT_1:def 19;
L2768: ( D412 . C331 ) in D405 by L2767 , L2766;
reconsider D414 = ( D412 . C331 ) as (Element of ( NAT )) by L2768;
L2769: ( dom D413 ) = D405 by L2758 , FINSEQ_1:def 3;
L2770: ( D413 . C331 ) = ( C325 * (C331 , D414) ) by L2769 , L2764 , MATRIX_3:def 7;
thus L2771: ( C330 . C331 ) = ( D413 . C331 ) by L2770 , L2756 , L2764;
end;
L2772: C330 = D413 by L2759 , L2755 , L2758 , FINSEQ_1:14;
thus L2773: thesis by L2772 , L2757 , L1752;
end;
theorem
L2774: (for R8 being Nat holds (for R11 being Field holds (for B328 , B329 being (Matrix of R8 , R11) holds (( 0 ) < R8 implies ( Det ( B328 * B329 ) ) = ( ( Det B328 ) * ( Det B329 ) )))))
proof
let R8 being Nat;
let R11 being Field;
let C332 , C333 being (Matrix of R8 , R11);
assume that
L2775: ( 0 ) < R8;
set D415 = ( Permutations R8 );
set D416 = (the carrier of R11);
set D417 = (the multF of R11);
set D418 = (the addF of R11);
set D419 = ( C332 * C333 );
consider C334 being (Function of D415 , D416) such that L2776: ( Det D419 ) = ( D418 $$ (( FinOmega D415 ) , C334) ) and L2777: (for B330 being (Element of ( Permutations R8 )) holds ( C334 . B330 ) = ( ( D417 $$ ( Path_matrix (B330 , C332) ) ) * ( - (( Det C333 ) , B330) ) )) by L2775 , L2712;
set D420 = ( Path_product C332 );
set D421 = ( FinOmega D415 );
L2778: D421 = D415 by MATRIX_2:26 , MATRIX_2:def 14;
consider C335 being (Function of ( Fin D415 ) , D416) such that L2779: ( Det C332 ) = ( C335 . D421 ) and L2780: (for B331 being (Element of D416) holds (B331 is_a_unity_wrt D418 implies ( C335 . ( {} ) ) = B331)) and L2781: (for B332 being (Element of D415) holds ( C335 . { B332 } ) = ( D420 . B332 )) and L2782: (for B333 being (Element of ( Fin D415 )) holds ((B333 c= D421 & B333 <> ( {} )) implies (for B334 being (Element of D415) holds (B334 in ( D421 \ B333 ) implies ( C335 . ( B333 \/ { B334 } ) ) = ( D418 . (( C335 . B333 ) , ( D420 . B334 )) ))))) by L2778 , SETWISEO:def 3;
L2783: ( C335 . ( {} ) ) = ( 0. R11 ) by L2780 , FVSUM_1:6;
consider C336 being (Function of ( Fin D415 ) , D416) such that L2784: ( Det D419 ) = ( C336 . D421 ) and L2785: (for B335 being (Element of D416) holds (B335 is_a_unity_wrt D418 implies ( C336 . ( {} ) ) = B335)) and L2786: (for B336 being (Element of D415) holds ( C336 . { B336 } ) = ( C334 . B336 )) and L2787: (for B337 being (Element of ( Fin D415 )) holds ((B337 c= D421 & B337 <> ( {} )) implies (for B338 being (Element of D415) holds (B338 in ( D421 \ B337 ) implies ( C336 . ( B337 \/ { B338 } ) ) = ( D418 . (( C336 . B337 ) , ( C334 . B338 )) ))))) by L2776 , L2778 , SETWISEO:def 3;
defpred S27[ set ] means (for B339 being (Element of ( Fin D415 )) holds (B339 = $1 implies ( C336 . B339 ) = ( ( C335 . B339 ) * ( Det C333 ) )));
L2788: (for B340 being (Element of ( Fin D415 )) holds (for B341 being (Element of D415) holds ((S27[ B340 ] & (not B341 in B340)) implies S27[ ( B340 \/ { B341 } ) ])))
proof
let C337 being (Element of ( Fin D415 ));
let C338 being (Element of D415);
assume that
L2789: S27[ C337 ]
and
L2790: (not C338 in C337);
set D422 = ( D417 $$ ( Path_matrix (C338 , C332) ) );
let C339 being (Element of ( Fin D415 ));
assume that
L2791: C339 = ( C337 \/ { C338 } );
L2792:
now
per cases ;
suppose L2793: C338 is  even;

L2794: ( - (D422 , C338) ) = D422 by L2793 , MATRIX_2:def 13;
L2795: ( - (( Det C333 ) , C338) ) = ( Det C333 ) by L2793 , MATRIX_2:def 13;
thus L2796: ( C334 . C338 ) = ( ( - (D422 , C338) ) * ( Det C333 ) ) by L2795 , L2777 , L2794
.= ( ( D420 . C338 ) * ( Det C333 ) ) by MATRIX_3:def 8;
end;
suppose L2797: C338 is  odd;

L2798: ( - (D422 , C338) ) = ( - D422 ) by L2797 , MATRIX_2:def 13;
L2799: ( - (( Det C333 ) , C338) ) = ( - ( Det C333 ) ) by L2797 , MATRIX_2:def 13;
L2800: ( - ( ( - (D422 , C338) ) * ( Det C333 ) ) ) = ( ( - D422 ) * ( - (( Det C333 ) , C338) ) ) by L2799 , L2798 , VECTSP_1:9
.= ( - ( D422 * ( - (( Det C333 ) , C338) ) ) ) by VECTSP_1:9;
L2801: ( ( D422 * ( - (( Det C333 ) , C338) ) ) - ( ( - (D422 , C338) ) * ( Det C333 ) ) ) = ( 0. R11 ) by L2800 , VECTSP_1:16;
L2802: ( ( - (D422 , C338) ) * ( Det C333 ) ) = ( D422 * ( - (( Det C333 ) , C338) ) ) by L2801 , VECTSP_1:19;
L2803: ( - (D422 , C338) ) = ( D420 . C338 ) by MATRIX_3:def 8;
thus L2804: ( C334 . C338 ) = ( ( D420 . C338 ) * ( Det C333 ) ) by L2803 , L2777 , L2802;
end;
end;
per cases ;
suppose L2806: C337 = ( {} );

L2807: ( C335 . C339 ) = ( D420 . C338 ) by L2806 , L2781 , L2791;
thus L2808: thesis by L2807 , L2786 , L2791 , L2792 , L2806;
end;
suppose L2809: C337 <> ( {} );

L2810: C337 c= D415 by FINSUB_1:def 5;
L2811: C338 in ( D421 \ C337 ) by L2778 , L2790 , XBOOLE_0:def 5;
L2812: ( C336 . C339 ) = ( D418 . (( C336 . C337 ) , ( C334 . C338 )) ) by L2811 , L2778 , L2787 , L2791 , L2809 , L2810;
L2813: ( C336 . C339 ) = ( ( ( C335 . C337 ) * ( Det C333 ) ) + ( ( D420 . C338 ) * ( Det C333 ) ) ) by L2812 , L2789 , L2792;
L2814: ( C335 . C339 ) = ( ( C335 . C337 ) + ( D420 . C338 ) ) by L2778 , L2782 , L2791 , L2809 , L2811 , L2810;
thus L2815: thesis by L2814 , L2813 , VECTSP_1:def 7;
end;
end;
L2817: ( C336 . ( {} ) ) = ( 0. R11 ) by L2785 , FVSUM_1:6;
L2818: S27[ ( {}. D415 ) ] by L2817 , L2783 , VECTSP_1:7;
L2819: (for B342 being (Element of ( Fin D415 )) holds S27[ B342 ]) from SETWISEO:sch 2(L2818 , L2788);
thus L2820: thesis by L2819 , L2784 , L2779;
end;
