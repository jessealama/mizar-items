:: J\'onsson Theorem about Representation of Modular Lattices
::  by Mariusz {\L}api\'nski
::
:: Received June 29, 2000
:: Copyright (c) 2000-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, ORDERS_2, XBOOLE_0, STRUCT_0, EQREL_1, SUBSET_1,
      FINSEQ_1, LATTICE5, LATTICES, WAYBEL_0, ZFMISC_1, GROUP_6, FUNCT_1,
      RELAT_1, XXREAL_0, FINSET_1, ABIAN, CARD_1, ARYTM_3, CAT_1, YELLOW_0,
      ORDINAL2, ORDINAL1, TARSKI, WELLORD1, SEQM_3, LATTICE3, WAYBEL_1,
      MCART_1, VALUED_0, RELAT_2, PARTFUN1, FUNCOP_1, FUNCT_6, NAT_1, FUNCT_2,
      LATTICE8, RECDEF_2;
 notations TARSKI, XBOOLE_0, ZFMISC_1,
      XTUPLE_0, SUBSET_1, RELAT_1, FUNCT_1, RELSET_1,
      FUNCT_2, FUNCT_6, NUMBERS, ORDINAL1, NAT_1, ORDINAL2, MCART_1, DOMAIN_1,
      PARTFUN1, FUNCOP_1, STRUCT_0, ORDERS_2, EQREL_1, FINSEQ_1, LATTICE3,
      BINOP_1, YELLOW_0, YELLOW_2, LATTICE5, YELLOW11, WAYBEL_1, WAYBEL_0,
      ABIAN, XXREAL_0;
 constructors ORDINAL2, FUNCT_6, RFUNCT_3, ABIAN, REALSET2, ORDERS_3, WAYBEL_1,
      LATTICE5, YELLOW11, RELSET_1, XTUPLE_0;
 registrations XBOOLE_0, SUBSET_1, ORDINAL1, RELSET_1, PARTFUN1, FUNCOP_1,
      XREAL_0, INT_1, CARD_1, FINSEQ_1, EQREL_1, REALSET1, ABIAN, STRUCT_0,
      LATTICE3, YELLOW_0, YELLOW_2, WAYBEL_1, WAYBEL10, LATTICE5, YELLOW11,
      WAYBEL21, LATTICE7, ZFMISC_1, FUNCT_1, XTUPLE_0;
 requirements NUMERALS, REAL, BOOLE, SUBSET, ARITHM;
 definitions TARSKI, LATTICE3, FUNCOP_1, WAYBEL_0, YELLOW_0, YELLOW11,
      LATTICE5, XBOOLE_0, BINOP_1, YELLOW_2, RELSET_1, XTUPLE_0;
 theorems EQREL_1, RELAT_1, RELAT_2, FINSEQ_1, FINSEQ_2, ORDERS_2, TARSKI,
      ORDINAL1, ORDINAL3, TREES_2, PARTFUN1, GRFUNC_1, FUNCT_6, MCART_1, NAT_1,
      BINOP_1, ZFMISC_1, FUNCT_1, FUNCT_2, LATTICE3, YELLOW_0, YELLOW_3,
      YELLOW_5, WAYBEL_0, WAYBEL_1, WAYBEL_6, RELSET_1, LATTICE5, YELLOW11,
      WAYBEL13, ORDERS_3, TEX_1, SYSREL, XBOOLE_0, XBOOLE_1, ORDERS_1,
      STRUCT_0, XTUPLE_0, XREGULAR;
 schemes RECDEF_1, ORDINAL2, NAT_1, FINSEQ_1, BINOP_1, CLASSES1;

begin
definition
let C1 being RelStr;
attr C1 is  finitely_typed
means
:L1: (ex B1 being non  empty set st ((for B2 being set holds (B2 in (the carrier of C1) implies B2 is (Equivalence_Relation of B1))) & (ex B3 being (Element of ( NAT )) st (for B4 , B5 being (Equivalence_Relation of B1) holds (for B6 , B7 being set holds ((B4 in (the carrier of C1) & B5 in (the carrier of C1) & [ B6 , B7 ] in ( B4 "\/" B5 )) implies (ex B8 being non  empty (FinSequence of B1) st (( len B8 ) = B3 & B6 , B7 are_joint_by B8 , B4 , B5))))))));
end;
definition
let C2 being  lower-bounded LATTICE;
let C3 being (Element of ( NAT ));
pred C2 has_a_representation_of_type<= C3
means
:L3: (ex B9 being non  trivial set st (ex B10 being (Homomorphism of C2 , ( EqRelLATT B9 )) st (B10 is  one-to-one & ( Image B10 ) is  finitely_typed & (ex B11 being (Equivalence_Relation of B9) st (B11 in (the carrier of ( Image B10 )) & B11 <> ( id B9 ))) & ( type_of ( Image B10 ) ) <= C3)))
;end;
registration
cluster  lower-bounded  distributive  finite for LATTICE;
existence
proof
set D1 = the  distributive  finite LATTICE;
take D1;
thus L5: thesis;
end;
end;
L7: 1 is  odd
proof
L8: ( ( 2 * ( 0 ) ) + 1 ) = 1;
thus L9: thesis by L8;
end;
L10: 2 is  even
proof
L11: ( 2 * 1 ) = 2;
thus L12: thesis by L11;
end;
registration
let C4 being non  trivial set;
cluster non  trivial  finitely_typed  full for non  empty non  empty non  empty non  empty (Sublattice of ( EqRelLATT C4 ));
existence
proof
reconsider D2 = ( nabla C4 ) , D3 = ( id C4 ) as (Element of ( EqRelLATT C4 )) by LATTICE5:4;
set D4 = the (Element of C4);
set D5 = the (Element of ( C4 \ { D4 } ));
set D6 = ( subrelstr { D2 , D3 } );
L13: (the carrier of D6) = { D2 , D3 } by YELLOW_0:def 15;
L14: D2 = [: C4 , C4 :] by EQREL_1:def 1;
L15: D3 <= D2 by L14 , LATTICE5:6;
L16: (for B12 , B13 being (Element of ( EqRelLATT C4 )) holds ((B12 in (the carrier of D6) & B13 in (the carrier of D6) &  ex_inf_of { B12 , B13 } , ( EqRelLATT C4 )) implies ( inf { B12 , B13 } ) in (the carrier of D6)))
proof
let C5 , C6 being (Element of ( EqRelLATT C4 ));
assume that
L17: (C5 in (the carrier of D6) & C6 in (the carrier of D6))
and
L18:  ex_inf_of { C5 , C6 } , ( EqRelLATT C4 );
per cases  by L13 , L17 , TARSKI:def 2;
suppose L19: (C5 = D2 & C6 = D2);

L20: ( inf { C5 , C6 } ) = ( D2 "/\" D2 ) by L19 , YELLOW_0:40
.= D2 by YELLOW_5:2;
thus L21: thesis by L20 , L13 , TARSKI:def 2;
end;
suppose L22: (C5 = D2 & C6 = D3);

L23: ( inf { C5 , C6 } ) = ( D2 "/\" D3 ) by L22 , YELLOW_0:40
.= D3 by L15 , YELLOW_5:10;
thus L24: thesis by L23 , L13 , TARSKI:def 2;
end;
suppose L25: (C5 = D3 & C6 = D2);

L26: ( inf { C5 , C6 } ) = ( D3 "/\" D2 ) by L25 , YELLOW_0:40
.= D3 by L15 , YELLOW_5:10;
thus L27: thesis by L26 , L13 , TARSKI:def 2;
end;
suppose L28: (C5 = D3 & C6 = D3);

L29: ( inf { C5 , C6 } ) = ( D3 "/\" D3 ) by L28 , YELLOW_0:40
.= D3 by YELLOW_5:2;
thus L30: thesis by L29 , L13 , TARSKI:def 2;
end;
end;
L32: D6 is  finitely_typed
proof
take C4;
thus L33: (for B14 being set holds (B14 in (the carrier of D6) implies B14 is (Equivalence_Relation of C4))) by L13 , TARSKI:def 2;
take D7 = 3;
thus L34: (for B15 , B16 being (Equivalence_Relation of C4) holds (for B17 , B18 being set holds ((B15 in (the carrier of D6) & B16 in (the carrier of D6) & [ B17 , B18 ] in ( B15 "\/" B16 )) implies (ex B19 being non  empty (FinSequence of C4) st (( len B19 ) = D7 & B17 , B18 are_joint_by B19 , B15 , B16)))))
proof
let C7 , C8 being (Equivalence_Relation of C4);
let C9 , C10 being set;
assume that
L35: C7 in (the carrier of D6)
and
L36: C8 in (the carrier of D6)
and
L37: [ C9 , C10 ] in ( C7 "\/" C8 );
L38: (C7 = D3 or C7 <> D3);
consider C11 being set such that L39: ((C7 = D3 & C11 = C9) or (C7 <> D3 & C11 = C10)) by L38;
L40: (ex B20 , B21 being set st ([ C9 , C10 ] = [ B20 , B21 ] & B20 in C4 & B21 in C4)) by L37 , RELSET_1:2;
L41: (C9 in C4 & C10 in C4) by L40 , XTUPLE_0:1;
reconsider D8 = <* C9 , C11 , C10 *> as non  empty (FinSequence of C4) by L41 , L39 , FINSEQ_2:14;
take D8;
per cases  by L39;
suppose L42: (C7 = D3 & C11 = C9);

L43: ( D8 . 2 ) = C9 by L42 , FINSEQ_1:45;
L44: ( D8 . 1 ) = C9 by FINSEQ_1:45;
L45: (for B22 being (Element of ( NAT )) holds ((1 <= B22 & B22 < ( len D8 )) implies ((B22 is  odd implies [ ( D8 . B22 ) , ( D8 . ( B22 + 1 ) ) ] in C7) & (B22 is  even implies [ ( D8 . B22 ) , ( D8 . ( B22 + 1 ) ) ] in C8))))
proof
let C12 being (Element of ( NAT ));
assume that
L46: 1 <= C12
and
L47: C12 < ( len D8 );
L48: C12 < ( 2 + 1 ) by L47 , FINSEQ_1:45;
L49: C12 <= 2 by L48 , NAT_1:13;
L50: (C12 = ( 0 ) or C12 = 1 or C12 = 2) by L49 , NAT_1:26;
per cases  by L13 , L36 , L42 , L46 , L50 , L7 , L10 , TARSKI:def 2;
suppose L51: (C12 = 1 & C12 is  odd & C7 = D3 & C8 = D2);

L52: (ex B23 , B24 being set st ([ C9 , C10 ] = [ B23 , B24 ] & B23 in C4 & B24 in C4)) by L37 , RELSET_1:2;
L53: C9 in C4 by L52 , XTUPLE_0:1;
thus L54: thesis by L53 , L44 , L43 , L51 , EQREL_1:5;
end;
suppose L55: (C12 = 1 & C12 is  odd & C7 = D3 & C8 = D3);

L56: (ex B25 , B26 being set st ([ C9 , C10 ] = [ B25 , B26 ] & B25 in C4 & B26 in C4)) by L37 , RELSET_1:2;
L57: C9 in C4 by L56 , XTUPLE_0:1;
thus L58: thesis by L57 , L44 , L43 , L55 , EQREL_1:5;
end;
suppose L59: (C12 = 2 & C12 is  even & C7 = D3 & C8 = D2);

L60: ( C7 "\/" C8 ) = ( D3 "\/" D2 ) by L59 , LATTICE5:10
.= C8 by L15 , L59 , YELLOW_5:8;
thus L61: thesis by L60 , L37 , L43 , L59 , FINSEQ_1:45;
end;
suppose L62: (C12 = 2 & C12 is  even & C7 = D3 & C8 = D3);

thus L63: thesis by L62 , L37 , L43 , FINSEQ_1:45;
end;
end;
L65: (( len D8 ) = 3 & ( D8 . 3 ) = C10) by FINSEQ_1:45;
thus L66: thesis by L65 , L44 , L45 , LATTICE5:def 3;
end;
suppose L67: (C7 <> D3 & C11 = C10);

L68: ( D8 . 2 ) = C10 by L67 , FINSEQ_1:45;
L69: ( D8 . 3 ) = C10 by FINSEQ_1:45;
L70: (for B27 being (Element of ( NAT )) holds ((1 <= B27 & B27 < ( len D8 )) implies ((B27 is  odd implies [ ( D8 . B27 ) , ( D8 . ( B27 + 1 ) ) ] in C7) & (B27 is  even implies [ ( D8 . B27 ) , ( D8 . ( B27 + 1 ) ) ] in C8))))
proof
let C13 being (Element of ( NAT ));
assume that
L71: 1 <= C13
and
L72: C13 < ( len D8 );
L73: C13 < ( 2 + 1 ) by L72 , FINSEQ_1:45;
L74: C13 <= 2 by L73 , NAT_1:13;
L75: (C13 = ( 0 ) or C13 = 1 or C13 = 2) by L74 , NAT_1:26;
per cases  by L13 , L35 , L36 , L67 , L71 , L75 , L7 , L10 , TARSKI:def 2;
suppose L76: (C13 = 1 & C13 is  odd & C7 = D2 & C8 = D2);

thus L77: thesis by L76 , L37 , L68 , FINSEQ_1:45;
end;
suppose L78: (C13 = 1 & C13 is  odd & C7 = D2 & C8 = D3);

L79: ( C7 "\/" C8 ) = ( D2 "\/" D3 ) by L78 , LATTICE5:10
.= C7 by L15 , L78 , YELLOW_5:8;
thus L80: thesis by L79 , L37 , L68 , L78 , FINSEQ_1:45;
end;
suppose L81: (C13 = 2 & C13 is  even & C7 = D2 & C8 = D2);

L82: (ex B28 , B29 being set st ([ C9 , C10 ] = [ B28 , B29 ] & B28 in C4 & B29 in C4)) by L37 , RELSET_1:2;
L83: C10 in C4 by L82 , XTUPLE_0:1;
thus L84: thesis by L83 , L68 , L69 , L81 , EQREL_1:5;
end;
suppose L85: (C13 = 2 & C13 is  even & C7 = D2 & C8 = D3);

L86: (ex B30 , B31 being set st ([ C9 , C10 ] = [ B30 , B31 ] & B30 in C4 & B31 in C4)) by L37 , RELSET_1:2;
L87: C10 in C4 by L86 , XTUPLE_0:1;
thus L88: thesis by L87 , L68 , L69 , L85 , EQREL_1:5;
end;
end;
L90: (( len D8 ) = 3 & ( D8 . 1 ) = C9) by FINSEQ_1:45;
thus L91: thesis by L90 , L69 , L70 , LATTICE5:def 3;
end;
end;

end;
L35: (for B32 , B33 being (Element of ( EqRelLATT C4 )) holds ((B32 in (the carrier of D6) & B33 in (the carrier of D6) &  ex_sup_of { B32 , B33 } , ( EqRelLATT C4 )) implies ( sup { B32 , B33 } ) in (the carrier of D6)))
proof
let C14 , C15 being (Element of ( EqRelLATT C4 ));
assume that
L36: (C14 in (the carrier of D6) & C15 in (the carrier of D6))
and
L37:  ex_sup_of { C14 , C15 } , ( EqRelLATT C4 );
per cases  by L13 , L36 , TARSKI:def 2;
suppose L38: (C14 = D2 & C15 = D2);

L39: ( sup { C14 , C15 } ) = ( D2 "\/" D2 ) by L38 , YELLOW_0:41
.= D2 by YELLOW_5:1;
thus L40: thesis by L39 , L13 , TARSKI:def 2;
end;
suppose L41: (C14 = D2 & C15 = D3);

L42: ( sup { C14 , C15 } ) = ( D2 "\/" D3 ) by L41 , YELLOW_0:41
.= D2 by L15 , YELLOW_5:8;
thus L43: thesis by L42 , L13 , TARSKI:def 2;
end;
suppose L44: (C14 = D3 & C15 = D2);

L45: ( sup { C14 , C15 } ) = ( D3 "\/" D2 ) by L44 , YELLOW_0:41
.= D2 by L15 , YELLOW_5:8;
thus L46: thesis by L45 , L13 , TARSKI:def 2;
end;
suppose L47: (C14 = D3 & C15 = D3);

L48: ( sup { C14 , C15 } ) = ( D3 "\/" D3 ) by L47 , YELLOW_0:41
.= D3 by YELLOW_5:1;
thus L49: thesis by L48 , L13 , TARSKI:def 2;
end;
end;
L51: D4 <> D5 by ZFMISC_1:56;
L52: D6 is non  trivial
proof
assume L53: D6 is  trivial;
L54: (ex B34 being (Element of D6) st (the carrier of D6) = { B34 }) by L53 , TEX_1:def 1;
L55: ( nabla C4 ) = ( id C4 ) by L54 , L13 , ZFMISC_1:5;
L56: [: C4 , C4 :] = ( id C4 ) by L55 , EQREL_1:def 1;
L57: [ D4 , D5 ] in ( id C4 ) by L56 , ZFMISC_1:def 2;
thus L58: contradiction by L57 , L51 , RELAT_1:def 10;
end;
reconsider D9 = D6 as  full non  empty (Sublattice of ( EqRelLATT C4 )) by L16 , L35 , YELLOW_0:def 16 , YELLOW_0:def 17;
take D9;
thus L59: thesis by L52 , L32;
end;
end;
theorem
L61: (for B35 being non  empty set holds (for B36 being  lower-bounded LATTICE holds (for B37 being (distance_function of B35 , B36) holds ( succ ( {} ) ) c= ( DistEsti B37 ))))
proof
let C16 being non  empty set;
let C17 being  lower-bounded LATTICE;
let C18 being (distance_function of C16 , C17);
L62: (( succ ( {} ) ) c= ( DistEsti C18 ) or ( DistEsti C18 ) in ( succ ( {} ) )) by ORDINAL1:16;
L63: (( succ ( {} ) ) c= ( DistEsti C18 ) or ( DistEsti C18 ) c= ( {} )) by L62 , ORDINAL1:22;
thus L64: thesis by L63 , LATTICE5:20 , XBOOLE_1:3;
end;
theorem
L65: (for B38 being  trivial Semilattice holds B38 is  modular)
proof
let C19 being  trivial Semilattice;
let C20 , C21 , C22 being (Element of C19);
assume that
L66: C20 <= C22;
thus L67: ( C20 "\/" ( C21 "/\" C22 ) ) = ( ( C20 "\/" C21 ) "/\" C22 ) by STRUCT_0:def 10;
end;
theorem
L68: (for B39 being non  empty set holds (for B40 being non  empty (Sublattice of ( EqRelLATT B39 )) holds (B40 is  trivial or (ex B41 being (Equivalence_Relation of B39) st (B41 in (the carrier of B40) & B41 <> ( id B39 ))))))
proof
let C23 being non  empty set;
let C24 being non  empty (Sublattice of ( EqRelLATT C23 ));
L69:
now
assume L70: (not (ex B42 being (Equivalence_Relation of C23) st (B42 in (the carrier of C24) & B42 <> ( id C23 ))));
thus L71: C24 is  trivial
proof
consider C25 being set such that L72: C25 in (the carrier of C24) by XBOOLE_0:def 1;
L73: (the carrier of C24) c= (the carrier of ( EqRelLATT C23 )) by YELLOW_0:def 13;
reconsider D10 = C25 as (Equivalence_Relation of C23) by L73 , L72 , LATTICE5:4;
L74: (the carrier of C24) = { C25 }
proof
thus L75: (the carrier of C24) c= { C25 }
proof
let C26 being set;
assume L76: C26 in (the carrier of C24);
L77: (the carrier of C24) c= (the carrier of ( EqRelLATT C23 )) by YELLOW_0:def 13;
reconsider D11 = C26 as (Equivalence_Relation of C23) by L77 , L76 , LATTICE5:4;
L78: D11 = ( id C23 ) by L70 , L76
.= D10 by L70 , L72;
thus L79: thesis by L78 , TARSKI:def 1;
end;

let C27 being set;
assume L80: C27 in { C25 };
thus L81: thesis by L80 , L72 , TARSKI:def 1;
end;
thus L82: thesis by L74;
end;

end;
thus L72: thesis by L69;
end;
theorem
L73: (for B43 , B44 being  lower-bounded LATTICE holds (for B45 being (Function of B43 , B44) holds (B45 is  infs-preserving  sups-preserving implies B45 is  meet-preserving  join-preserving)))
proof
let C28 , C29 being  lower-bounded LATTICE;
let C30 being (Function of C28 , C29);
assume L74: C30 is  infs-preserving  sups-preserving;
thus L75: C30 is  meet-preserving
proof
let C31 , C32 being (Element of C28);
thus L76: thesis by L74 , WAYBEL_0:def 32;
end;

thus L77: C30 is  join-preserving
proof
let C33 , C34 being (Element of C28);
thus L78: thesis by L74 , WAYBEL_0:def 33;
end;

end;
theorem
L78: (for B46 , B47 being  lower-bounded LATTICE holds ((B46 , B47 are_isomorphic  & B46 is  modular) implies B47 is  modular))
proof
let C35 , C36 being  lower-bounded LATTICE;
assume that
L79: C35 , C36 are_isomorphic 
and
L80: C35 is  modular;
let C37 , C38 , C39 being (Element of C36);
consider C40 being (Function of C35 , C36) such that L81: C40 is  isomorphic by L79 , WAYBEL_1:def 8;
set D12 = ( ( C40 " ) . C39 );
set D13 = ( ( C40 " ) . C37 );
set D14 = ( ( C40 " ) . C38 );
L82: (C40 is  one-to-one & ( rng C40 ) = (the carrier of C36)) by L81 , WAYBEL_0:66;
L83: C38 = ( C40 . D14 ) by L82 , FUNCT_1:35;
L84: D12 in ( dom C40 ) by L82 , FUNCT_1:32;
L85: (D13 in ( dom C40 ) & D14 in ( dom C40 )) by L82 , FUNCT_1:32;
L86: (C37 = ( C40 . D13 ) & C39 = ( C40 . D12 )) by L82 , FUNCT_1:35;
reconsider D15 = D13 , D16 = D14 , D17 = D12 as (Element of C35) by L85 , L84;
assume L87: C37 <= C39;
L88: D15 <= D17 by L87 , L81 , L86 , WAYBEL_0:66;
L89: ( D15 "\/" ( D16 "/\" D17 ) ) = ( ( D15 "\/" D16 ) "/\" D17 ) by L88 , L80 , YELLOW11:def 3;
L90: C40 is  infs-preserving  sups-preserving by L81 , WAYBEL13:20;
L91: C40 is  meet-preserving  join-preserving by L90 , L73;
thus L92: ( C37 "\/" ( C38 "/\" C39 ) ) = ( ( C40 . D15 ) "\/" ( C40 . ( D16 "/\" D17 ) ) ) by L91 , L83 , L86 , WAYBEL_6:1
.= ( C40 . ( ( D15 "\/" D16 ) "/\" D17 ) ) by L91 , L89 , WAYBEL_6:2
.= ( ( C40 . ( D15 "\/" D16 ) ) "/\" ( C40 . D17 ) ) by L91 , WAYBEL_6:1
.= ( ( C37 "\/" C38 ) "/\" C39 ) by L91 , L83 , L86 , WAYBEL_6:2;
end;
theorem
L93: (for B48 being  lower-bounded non  empty Poset holds (for B49 being non  empty Poset holds (for B50 being  monotone (Function of B48 , B49) holds ( Image B50 ) is  lower-bounded)))
proof
let C41 being  lower-bounded non  empty Poset;
let C42 being non  empty Poset;
let C43 being  monotone (Function of C41 , C42);
thus L94: ( Image C43 ) is  lower-bounded
proof
consider C44 being (Element of C41) such that L95: C44 is_<=_than (the carrier of C41) by YELLOW_0:def 4;
L96: ( dom C43 ) = (the carrier of C41) by FUNCT_2:def 1;
L97: ( C43 . C44 ) in ( rng C43 ) by L96 , FUNCT_1:def 3;
reconsider D18 = ( C43 . C44 ) as (Element of ( Image C43 )) by L97 , YELLOW_0:def 15;
take D18;
let C45 being (Element of ( Image C43 ));
L98: C45 in (the carrier of ( subrelstr ( rng C43 ) ));
L99: C45 in ( rng C43 ) by L98 , YELLOW_0:def 15;
consider C46 being set such that L100: C46 in ( dom C43 ) and L101: ( C43 . C46 ) = C45 by L99 , FUNCT_1:def 3;
L102: (the carrier of ( Image C43 )) c= (the carrier of C42) by YELLOW_0:def 13;
assume L103: C45 in (the carrier of ( Image C43 ));
reconsider D19 = C45 as (Element of C42) by L103 , L102;
reconsider D20 = C46 as (Element of C41) by L100;
L104: C44 <= D20 by L95 , LATTICE3:def 8;
L105: ( C43 . C44 ) <= D19 by L104 , L101 , ORDERS_3:def 5;
thus L106: D18 <= C45 by L105 , YELLOW_0:60;
end;

end;
theorem
L95: (for B51 being  lower-bounded LATTICE holds (for B52 , B53 being (Element of B51) holds (for B54 being non  empty set holds (for B55 being (Homomorphism of B51 , ( EqRelLATT B54 )) holds (B55 is  one-to-one implies (( ( corestr B55 ) . B52 ) <= ( ( corestr B55 ) . B53 ) implies B52 <= B53))))))
proof
let C47 being  lower-bounded LATTICE;
let C48 , C49 being (Element of C47);
let C50 being non  empty set;
let C51 being (Homomorphism of C47 , ( EqRelLATT C50 ));
assume that
L96: C51 is  one-to-one
and
L97: ( ( corestr C51 ) . C48 ) <= ( ( corestr C51 ) . C49 );
L98:
now
L99: ( corestr C51 ) = C51 by WAYBEL_1:30;
L100: (for B56 , B57 being (Element of C47) holds ( ( corestr C51 ) . ( B56 "/\" B57 ) ) = ( ( ( corestr C51 ) . B56 ) "/\" ( ( corestr C51 ) . B57 ) ))
proof
let C52 , C53 being (Element of C47);
thus L101: ( ( corestr C51 ) . ( C52 "/\" C53 ) ) = ( ( C51 . C52 ) "/\" ( C51 . C53 ) ) by L99 , WAYBEL_6:1
.= ( ( ( corestr C51 ) . C52 ) "/\" ( ( corestr C51 ) . C53 ) ) by L99 , YELLOW_0:69;
end;
L102: ( corestr C51 ) is  one-to-one by L96 , WAYBEL_1:30;
L103: ( ( ( corestr C51 ) . C49 ) "/\" ( ( corestr C51 ) . C48 ) ) = ( ( corestr C51 ) . C48 ) by L97 , YELLOW_5:10;
L104: ( ( corestr C51 ) . C48 ) = ( ( corestr C51 ) . ( C48 "/\" C49 ) ) by L103 , L100;
L105: C48 = ( C48 "/\" C49 ) by L104 , L102 , WAYBEL_1:def 1;
assume L106: (not C48 <= C49);
thus L107: contradiction by L106 , L105 , YELLOW_0:25;
end;
thus L108: thesis by L98;
end;
begin
theorem
L109: (for B58 being non  trivial set holds (for B59 being  finitely_typed  full non  empty (Sublattice of ( EqRelLATT B58 )) holds (for B60 being (Equivalence_Relation of B58) holds ((B60 in (the carrier of B59) & B60 <> ( id B58 )) implies (( type_of B59 ) <= 2 implies B59 is  modular)))))
proof
let C54 being non  trivial set;
let C55 being  finitely_typed  full non  empty (Sublattice of ( EqRelLATT C54 ));
let C56 being (Equivalence_Relation of C54);
assume that
L110: C56 in (the carrier of C55)
and
L111: C56 <> ( id C54 );
assume L112: ( type_of C55 ) <= 2;
let C57 , C58 , C59 being (Element of C55);
L113: (the carrier of C55) c= (the carrier of ( EqRelLATT C54 )) by YELLOW_0:def 13;
L114: C58 in (the carrier of C55);
reconsider D21 = C58 as (Equivalence_Relation of C54) by L114 , L113 , LATTICE5:4;
reconsider D22 = D21 as (Element of ( EqRelLATT C54 )) by L113 , L114;
L115: C57 in (the carrier of C55);
reconsider D23 = C57 as (Equivalence_Relation of C54) by L115 , L113 , LATTICE5:4;
L116: C59 in (the carrier of C55);
reconsider D24 = C59 as (Equivalence_Relation of C54) by L116 , L113 , LATTICE5:4;
reconsider D25 = D24 as (Element of ( EqRelLATT C54 )) by L113 , L116;
reconsider D26 = D23 as (Element of ( EqRelLATT C54 )) by L113 , L115;
L117: ( ( D26 "\/" D22 ) "/\" D25 ) = ( ( D26 "\/" D22 ) /\ D24 ) by LATTICE5:8
.= ( ( D23 "\/" D21 ) /\ D24 ) by LATTICE5:10;
assume L118: C57 <= C59;
L119: D26 <= D25 by L118 , YELLOW_0:59;
L120: D23 c= D24 by L119 , LATTICE5:6;
L121: ( D26 "\/" ( D22 "/\" D25 ) ) <= ( ( D26 "\/" D22 ) "/\" D25 ) by L118 , YELLOW11:8 , YELLOW_0:59;
L122: ( D21 /\ D24 ) = ( D22 "/\" D25 ) by LATTICE5:8;
L123: ( D23 "\/" ( D21 /\ D24 ) ) = ( D26 "\/" ( D22 "/\" D25 ) ) by L122 , LATTICE5:10;
L124: ( D23 "\/" ( D21 /\ D24 ) ) c= ( ( D23 "\/" D21 ) /\ D24 ) by L123 , L121 , L117 , LATTICE5:6;
consider C60 being non  empty set such that L125: (for B61 being set holds (B61 in (the carrier of C55) implies B61 is (Equivalence_Relation of C60))) and L126: (ex B62 being (Element of ( NAT )) st (for B63 , B64 being (Equivalence_Relation of C60) holds (for B65 , B66 being set holds ((B63 in (the carrier of C55) & B64 in (the carrier of C55) & [ B65 , B66 ] in ( B63 "\/" B64 )) implies (ex B67 being non  empty (FinSequence of C60) st (( len B67 ) = B62 & B65 , B66 are_joint_by B67 , B63 , B64)))))) by L1;
L127: C56 is (Equivalence_Relation of C60) by L110 , L125;
L128: (( field C56 ) = C54 & ( field C56 ) = C60) by L127 , EQREL_1:9;
L129: ( ( D23 "\/" D21 ) /\ D24 ) c= ( D23 "\/" ( D21 /\ D24 ) )
proof
let C61 , C62 being (Element of C54);
assume L130: [ C61 , C62 ] in ( ( D23 "\/" D21 ) /\ D24 );
L131: [ C61 , C62 ] in ( D23 "\/" D21 ) by L130 , XBOOLE_0:def 4;
L132: [ C61 , C62 ] in D24 by L130 , XBOOLE_0:def 4;
per cases  by L112 , NAT_1:26;
suppose L133: ( type_of C55 ) = 2;

consider C63 being non  empty (FinSequence of C54) such that L134: ( len C63 ) = ( 2 + 2 ) and L135: C61 , C62 are_joint_by C63 , D23 , D21 by L133 , L110 , L111 , L126 , L128 , L131 , LATTICE5:def 4;
L136: ( C63 . 4 ) = C62 by L134 , L135 , LATTICE5:def 3;
consider C64 being (Element of ( NAT )) such that L137: C64 = 1;
L138: ( ( 2 * C64 ) + 1 ) = 3 by L137;
L139: [ ( C63 . 3 ) , ( C63 . ( 3 + 1 ) ) ] in D23 by L138 , L134 , L135 , LATTICE5:def 3;
consider C65 being (Element of ( NAT )) such that L140: C65 = 1;
L141: ( 2 * C65 ) = 2 by L140;
L142: [ ( C63 . 2 ) , ( C63 . ( 2 + 1 ) ) ] in D21 by L141 , L134 , L135 , LATTICE5:def 3;
L143: ( C63 . 1 ) = C61 by L135 , LATTICE5:def 3;
reconsider D27 = ( D21 /\ D24 ) as (Element of ( EqRelLATT C54 )) by L122;
set D28 = ( C63 . 2 );
set D29 = ( C63 . 3 );
consider C66 being (Element of ( NAT )) such that L144: C66 = ( 0 );
L145: ( ( 2 * C66 ) + 1 ) = 1 by L144;
L146: [ ( C63 . 1 ) , ( C63 . ( 1 + 1 ) ) ] in D23 by L145 , L134 , L135 , LATTICE5:def 3;
L147: ( D23 "\/" ( D21 /\ D24 ) ) = ( D26 "\/" D27 ) by LATTICE5:10;
L148: D27 <= ( D27 "\/" D26 ) by YELLOW_0:22;
L149: ( D21 /\ D24 ) c= ( D23 "\/" ( D21 /\ D24 ) ) by L148 , L147 , LATTICE5:6;
L150: D26 <= ( D26 "\/" D27 ) by YELLOW_0:22;
L151: D23 c= ( D23 "\/" ( D21 /\ D24 ) ) by L150 , L147 , LATTICE5:6;
L152: [ C62 , C61 ] in D24 by L132 , EQREL_1:6;
L153: [ D29 , C61 ] in D24 by L152 , L120 , L136 , L139 , EQREL_1:7;
L154: [ D29 , D28 ] in D24 by L153 , L120 , L143 , L146 , EQREL_1:7;
L155: [ D28 , D29 ] in D24 by L154 , EQREL_1:6;
L156: [ D28 , D29 ] in ( D21 /\ D24 ) by L155 , L142 , XBOOLE_0:def 4;
L157: [ C61 , D29 ] in ( D23 "\/" ( D21 /\ D24 ) ) by L156 , L143 , L146 , L151 , L149 , EQREL_1:7;
thus L158: thesis by L157 , L136 , L139 , L151 , EQREL_1:7;
end;
suppose L159: ( type_of C55 ) = 1;

consider C67 being non  empty (FinSequence of C54) such that L160: ( len C67 ) = ( 1 + 2 ) and L161: C61 , C62 are_joint_by C67 , D23 , D21 by L159 , L110 , L111 , L126 , L128 , L131 , LATTICE5:def 4;
set D30 = ( C67 . 2 );
consider C68 being (Element of ( NAT )) such that L162: C68 = 1;
reconsider D31 = ( D21 /\ D24 ) as (Element of ( EqRelLATT C54 )) by L122;
consider C69 being (Element of ( NAT )) such that L163: C69 = ( 0 );
L164: ( ( 2 * C69 ) + 1 ) = 1 by L163;
L165: [ ( C67 . 1 ) , ( C67 . ( 1 + 1 ) ) ] in D23 by L164 , L160 , L161 , LATTICE5:def 3;
L166: ( 2 * C68 ) = 2 by L162;
L167: [ ( C67 . 2 ) , ( C67 . ( 2 + 1 ) ) ] in D21 by L166 , L160 , L161 , LATTICE5:def 3;
L168: ( D23 "\/" ( D21 /\ D24 ) ) = ( D26 "\/" D31 ) by LATTICE5:10;
L169: [ C61 , C62 ] in D24 by L130 , XBOOLE_0:def 4;
L170: ( C67 . 1 ) = C61 by L161 , LATTICE5:def 3;
L171: [ D30 , C61 ] in D24 by L170 , L120 , L165 , EQREL_1:6;
L172: [ D30 , C62 ] in D24 by L171 , L169 , EQREL_1:7;
L173: D31 <= ( D31 "\/" D26 ) by YELLOW_0:22;
L174: ( D21 /\ D24 ) c= ( D23 "\/" ( D21 /\ D24 ) ) by L173 , L168 , LATTICE5:6;
L175: D26 <= ( D26 "\/" D31 ) by YELLOW_0:22;
L176: D23 c= ( D23 "\/" ( D21 /\ D24 ) ) by L175 , L168 , LATTICE5:6;
L177: ( C67 . 3 ) = C62 by L160 , L161 , LATTICE5:def 3;
L178: [ D30 , C62 ] in ( D21 /\ D24 ) by L177 , L167 , L172 , XBOOLE_0:def 4;
thus L179: thesis by L178 , L170 , L165 , L176 , L174 , EQREL_1:7;
end;
suppose L180: ( type_of C55 ) = ( 0 );

consider C70 being non  empty (FinSequence of C54) such that L181: (( len C70 ) = ( ( 0 ) + 2 ) & C61 , C62 are_joint_by C70 , D23 , D21) by L180 , L110 , L111 , L126 , L128 , L131 , LATTICE5:def 4;
reconsider D32 = ( D21 /\ D24 ) as (Element of ( EqRelLATT C54 )) by L122;
consider C71 being (Element of ( NAT )) such that L182: C71 = ( 0 );
L183: ( ( 2 * C71 ) + 1 ) = 1 by L182;
L184: [ ( C70 . 1 ) , ( C70 . ( 1 + 1 ) ) ] in D23 by L183 , L181 , LATTICE5:def 3;
L185: (D26 <= ( D26 "\/" D32 ) & ( D23 "\/" ( D21 /\ D24 ) ) = ( D26 "\/" D32 )) by LATTICE5:10 , YELLOW_0:22;
L186: D23 c= ( D23 "\/" ( D21 /\ D24 ) ) by L185 , LATTICE5:6;
L187: (( C70 . 1 ) = C61 & ( C70 . 2 ) = C62) by L181 , LATTICE5:def 3;
thus L188: thesis by L187 , L184 , L186;
end;
end;
L190: ( D26 "\/" D22 ) = ( C57 "\/" C58 ) by YELLOW_0:70;
L191: ( ( C57 "\/" C58 ) "/\" C59 ) = ( ( D26 "\/" D22 ) "/\" D25 ) by L190 , YELLOW_0:69
.= ( ( D26 "\/" D22 ) /\ D24 ) by LATTICE5:8
.= ( ( D23 "\/" D21 ) /\ D24 ) by LATTICE5:10;
L192: ( D22 "/\" D25 ) = ( C58 "/\" C59 ) by YELLOW_0:69;
L193: ( D23 "\/" ( D21 /\ D24 ) ) = ( D26 "\/" ( D22 "/\" D25 ) ) by L122 , LATTICE5:10
.= ( C57 "\/" ( C58 "/\" C59 ) ) by L192 , YELLOW_0:70;
thus L194: thesis by L193 , L124 , L129 , L191 , XBOOLE_0:def 10;
end;
theorem
L195: (for B68 being  lower-bounded LATTICE holds (B68 has_a_representation_of_type<= 2 implies B68 is  modular))
proof
let C72 being  lower-bounded LATTICE;
assume L196: C72 has_a_representation_of_type<= 2;
consider C73 being non  trivial set, C74 being (Homomorphism of C72 , ( EqRelLATT C73 )) such that L197: C74 is  one-to-one and L198: (( Image C74 ) is  finitely_typed & (ex B69 being (Equivalence_Relation of C73) st (B69 in (the carrier of ( Image C74 )) & B69 <> ( id C73 ))) & ( type_of ( Image C74 ) ) <= 2) by L196 , L3;
L199: (( rng ( corestr C74 ) ) = (the carrier of ( Image C74 )) & (for B70 , B71 being (Element of C72) holds (B70 <= B71 implies ( ( corestr C74 ) . B70 ) <= ( ( corestr C74 ) . B71 )))) by FUNCT_2:def 3 , WAYBEL_1:def 2;
L200: (( corestr C74 ) is  one-to-one & (for B72 , B73 being (Element of C72) holds (( ( corestr C74 ) . B72 ) <= ( ( corestr C74 ) . B73 ) implies B72 <= B73))) by L197 , L95 , WAYBEL_1:30;
L201: ( corestr C74 ) is  isomorphic by L200 , L199 , WAYBEL_0:66;
L202: C72 , ( Image C74 ) are_isomorphic  by L201 , WAYBEL_1:def 8;
L203: ( Image C74 ) is  lower-bounded  lower-bounded  lower-bounded  lower-bounded LATTICE by L93;
L204: ( Image C74 ) is  modular by L198 , L109;
thus L205: thesis by L204 , L203 , L202 , L78 , WAYBEL_1:6;
end;
definition
let C75 being set;
func new_set2 C75 equals 
( C75 \/ { { C75 } , { { C75 } } } );
correctness;
end;
registration
let C76 being set;
cluster ( new_set2 C76 ) -> non  empty;
coherence;
end;
definition
let C77 being non  empty set;
let C78 being  lower-bounded LATTICE;
let C79 being (BiFunction of C77 , C78);
let C80 being (Element of [: C77 , C77 , (the carrier of C78) , (the carrier of C78) :]);
func new_bi_fun2 (C79 , C80) -> (BiFunction of ( new_set2 C77 ) , C78) means 
:L208: ((for B74 , B75 being (Element of C77) holds ( it . (B74 , B75) ) = ( C79 . (B74 , B75) )) & ( it . ({ C77 } , { C77 }) ) = ( Bottom C78 ) & ( it . ({ { C77 } } , { { C77 } }) ) = ( Bottom C78 ) & ( it . ({ C77 } , { { C77 } }) ) = ( ( ( C79 . (( C80 `1_4 ) , ( C80 `2_4 )) ) "\/" ( C80 `3_4 ) ) "/\" ( C80 `4_4 ) ) & ( it . ({ { C77 } } , { C77 }) ) = ( ( ( C79 . (( C80 `1_4 ) , ( C80 `2_4 )) ) "\/" ( C80 `3_4 ) ) "/\" ( C80 `4_4 ) ) & (for B76 being (Element of C77) holds (( it . (B76 , { C77 }) ) = ( ( C79 . (B76 , ( C80 `1_4 )) ) "\/" ( C80 `3_4 ) ) & ( it . ({ C77 } , B76) ) = ( ( C79 . (B76 , ( C80 `1_4 )) ) "\/" ( C80 `3_4 ) ) & ( it . (B76 , { { C77 } }) ) = ( ( C79 . (B76 , ( C80 `2_4 )) ) "\/" ( C80 `3_4 ) ) & ( it . ({ { C77 } } , B76) ) = ( ( C79 . (B76 , ( C80 `2_4 )) ) "\/" ( C80 `3_4 ) ))));
existence
proof
reconsider D33 = ( C80 `3_4 ) , D34 = ( C80 `4_4 ) as (Element of C78);
set D35 = ( C80 `1_4 );
set D36 = ( C80 `2_4 );
defpred S1[ (Element of ( new_set2 C77 )) , (Element of ( new_set2 C77 )) , set ] means ((($1 in C77 & $2 in C77) implies $3 = ( C79 . ($1 , $2) )) & ((($1 = { C77 } & $2 = { { C77 } }) or ($2 = { C77 } & $1 = { { C77 } })) implies $3 = ( ( ( C79 . (D35 , D36) ) "\/" D33 ) "/\" D34 )) & ((($1 = { C77 } or $1 = { { C77 } }) & $2 = $1) implies $3 = ( Bottom C78 )) & (($1 in C77 & $2 = { C77 }) implies (ex B77 being (Element of C77) st (B77 = $1 & $3 = ( ( C79 . (B77 , D35) ) "\/" D33 )))) & (($1 in C77 & $2 = { { C77 } }) implies (ex B78 being (Element of C77) st (B78 = $1 & $3 = ( ( C79 . (B78 , D36) ) "\/" D33 )))) & (($2 in C77 & $1 = { C77 }) implies (ex B79 being (Element of C77) st (B79 = $2 & $3 = ( ( C79 . (B79 , D35) ) "\/" D33 )))) & (($2 in C77 & $1 = { { C77 } }) implies (ex B80 being (Element of C77) st (B80 = $2 & $3 = ( ( C79 . (B80 , D36) ) "\/" D33 )))));
L209: { { C77 } } in { { C77 } , { { C77 } } } by TARSKI:def 2;
L210: { { C77 } } in ( new_set2 C77 ) by L209 , XBOOLE_0:def 3;
L211: (for B81 , B82 being (Element of ( new_set2 C77 )) holds (ex B83 being (Element of C78) st S1[ B81 , B82 , B83 ]))
proof
let C81 , C82 being (Element of ( new_set2 C77 ));
L212: (C81 in C77 or C81 in { { C77 } , { { C77 } } }) by XBOOLE_0:def 3;
L213: (C82 in C77 or C82 in { { C77 } , { { C77 } } }) by XBOOLE_0:def 3;
L214: (((C81 = { C77 } or C81 = { { C77 } }) & C81 = C82) iff ((C81 = { C77 } & C82 = { C77 }) or (C81 = { { C77 } } & C82 = { { C77 } })));
L215: (not { C77 } in C77) by TARSKI:def 1;
L216: { C77 } <> { { C77 } }
proof
assume L217: { C77 } = { { C77 } };
L218: { C77 } in { C77 } by L217 , TARSKI:def 1;
thus L219: contradiction by L218;
end;
L220: (not { { C77 } } in C77)
proof
L221: (C77 in { C77 } & { C77 } in { { C77 } }) by TARSKI:def 1;
assume L222: { { C77 } } in C77;
thus L223: contradiction by L222 , L221 , XREGULAR:7;
end;
per cases  by L212 , L213 , L214 , TARSKI:def 2;
suppose L224: (C81 in C77 & C82 in C77);

reconsider D37 = C81 , D38 = C82 as (Element of C77) by L224;
take ( C79 . (D37 , D38) );
thus L225: thesis by L215 , L220;
end;
suppose L226: ((C81 = { C77 } & C82 = { { C77 } }) or (C82 = { C77 } & C81 = { { C77 } }));

take ( ( ( C79 . (D35 , D36) ) "\/" D33 ) "/\" D34 );
thus L227: thesis by L216 , L220 , L226 , TARSKI:def 1;
end;
suppose L228: ((C81 = { C77 } or C81 = { { C77 } }) & C82 = C81);

take ( Bottom C78 );
thus L229: thesis by L216 , L220 , L228 , TARSKI:def 1;
end;
suppose L230: (C81 in C77 & C82 = { C77 });

reconsider D39 = C81 as (Element of C77) by L230;
take ( ( C79 . (D39 , D35) ) "\/" D33 );
thus L231: thesis by L216 , L220 , L230 , TARSKI:def 1;
end;
suppose L232: (C81 in C77 & C82 = { { C77 } });

reconsider D40 = C81 as (Element of C77) by L232;
take ( ( C79 . (D40 , D36) ) "\/" D33 );
thus L233: thesis by L216 , L220 , L232 , TARSKI:def 1;
end;
suppose L234: (C82 in C77 & C81 = { C77 });

reconsider D41 = C82 as (Element of C77) by L234;
take ( ( C79 . (D41 , D35) ) "\/" D33 );
thus L235: thesis by L216 , L220 , L234 , TARSKI:def 1;
end;
suppose L236: (C82 in C77 & C81 = { { C77 } });

reconsider D42 = C82 as (Element of C77) by L236;
take ( ( C79 . (D42 , D36) ) "\/" D33 );
thus L237: thesis by L216 , L220 , L236 , TARSKI:def 1;
end;
end;
consider C83 being (Function of [: ( new_set2 C77 ) , ( new_set2 C77 ) :] , (the carrier of C78)) such that L239: (for B84 , B85 being (Element of ( new_set2 C77 )) holds S1[ B84 , B85 , ( C83 . (B84 , B85) ) ]) from BINOP_1:sch 3(L211);
reconsider D43 = C83 as (BiFunction of ( new_set2 C77 ) , C78);
L240: { C77 } in { { C77 } , { { C77 } } } by TARSKI:def 2;
L241: { C77 } in ( new_set2 C77 ) by L240 , XBOOLE_0:def 3;
L242: (for B86 being (Element of C77) holds (( D43 . ({ C77 } , B86) ) = ( ( C79 . (B86 , D35) ) "\/" D33 ) & ( D43 . ({ { C77 } } , B86) ) = ( ( C79 . (B86 , D36) ) "\/" D33 )))
proof
let C84 being (Element of C77);
reconsider D44 = C84 as (Element of ( new_set2 C77 )) by XBOOLE_0:def 3;
L243: (ex B87 being (Element of C77) st (B87 = D44 & ( D43 . ({ C77 } , D44) ) = ( ( C79 . (B87 , D35) ) "\/" D33 ))) by L241 , L239;
thus L244: ( D43 . ({ C77 } , C84) ) = ( ( C79 . (C84 , D35) ) "\/" D33 ) by L243;
L245: (ex B88 being (Element of C77) st (B88 = D44 & ( D43 . ({ { C77 } } , D44) ) = ( ( C79 . (B88 , D36) ) "\/" D33 ))) by L210 , L239;
thus L246: thesis by L245;
end;
take D43;
L247: (for B89 , B90 being (Element of C77) holds ( D43 . (B89 , B90) ) = ( C79 . (B89 , B90) ))
proof
let C85 , C86 being (Element of C77);
reconsider D45 = C85 , D46 = C86 as (Element of ( new_set2 C77 )) by XBOOLE_0:def 3;
thus L248: ( D43 . (C85 , C86) ) = ( D43 . (D45 , D46) )
.= ( C79 . (C85 , C86) ) by L239;
end;
L249: (for B91 being (Element of C77) holds (( D43 . (B91 , { C77 }) ) = ( ( C79 . (B91 , D35) ) "\/" D33 ) & ( D43 . (B91 , { { C77 } }) ) = ( ( C79 . (B91 , D36) ) "\/" D33 )))
proof
let C87 being (Element of C77);
reconsider D47 = C87 as (Element of ( new_set2 C77 )) by XBOOLE_0:def 3;
L250: (ex B92 being (Element of C77) st (B92 = D47 & ( D43 . (D47 , { C77 }) ) = ( ( C79 . (B92 , D35) ) "\/" D33 ))) by L241 , L239;
thus L251: ( D43 . (C87 , { C77 }) ) = ( ( C79 . (C87 , D35) ) "\/" D33 ) by L250;
L252: (ex B93 being (Element of C77) st (B93 = D47 & ( D43 . (D47 , { { C77 } }) ) = ( ( C79 . (B93 , D36) ) "\/" D33 ))) by L210 , L239;
thus L253: thesis by L252;
end;
thus L254: thesis by L249 , L241 , L210 , L239 , L247 , L242;
end;
uniqueness
proof
set D48 = ( C80 `1_4 );
set D49 = ( C80 `2_4 );
set D50 = ( C80 `3_4 );
let C88 , C89 being (BiFunction of ( new_set2 C77 ) , C78);
assume that
L255: (for B94 , B95 being (Element of C77) holds ( C88 . (B94 , B95) ) = ( C79 . (B94 , B95) ))
and
L256: ( C88 . ({ C77 } , { C77 }) ) = ( Bottom C78 )
and
L257: ( C88 . ({ { C77 } } , { { C77 } }) ) = ( Bottom C78 )
and
L258: ( C88 . ({ C77 } , { { C77 } }) ) = ( ( ( C79 . (( C80 `1_4 ) , ( C80 `2_4 )) ) "\/" ( C80 `3_4 ) ) "/\" ( C80 `4_4 ) )
and
L259: ( C88 . ({ { C77 } } , { C77 }) ) = ( ( ( C79 . (( C80 `1_4 ) , ( C80 `2_4 )) ) "\/" ( C80 `3_4 ) ) "/\" ( C80 `4_4 ) )
and
L260: (for B96 being (Element of C77) holds (( C88 . (B96 , { C77 }) ) = ( ( C79 . (B96 , ( C80 `1_4 )) ) "\/" ( C80 `3_4 ) ) & ( C88 . ({ C77 } , B96) ) = ( ( C79 . (B96 , ( C80 `1_4 )) ) "\/" ( C80 `3_4 ) ) & ( C88 . (B96 , { { C77 } }) ) = ( ( C79 . (B96 , ( C80 `2_4 )) ) "\/" ( C80 `3_4 ) ) & ( C88 . ({ { C77 } } , B96) ) = ( ( C79 . (B96 , ( C80 `2_4 )) ) "\/" ( C80 `3_4 ) )))
and
L261: (for B97 , B98 being (Element of C77) holds ( C89 . (B97 , B98) ) = ( C79 . (B97 , B98) ))
and
L262: ( C89 . ({ C77 } , { C77 }) ) = ( Bottom C78 )
and
L263: ( C89 . ({ { C77 } } , { { C77 } }) ) = ( Bottom C78 )
and
L264: ( C89 . ({ C77 } , { { C77 } }) ) = ( ( ( C79 . (( C80 `1_4 ) , ( C80 `2_4 )) ) "\/" ( C80 `3_4 ) ) "/\" ( C80 `4_4 ) )
and
L265: ( C89 . ({ { C77 } } , { C77 }) ) = ( ( ( C79 . (( C80 `1_4 ) , ( C80 `2_4 )) ) "\/" ( C80 `3_4 ) ) "/\" ( C80 `4_4 ) )
and
L266: (for B99 being (Element of C77) holds (( C89 . (B99 , { C77 }) ) = ( ( C79 . (B99 , ( C80 `1_4 )) ) "\/" ( C80 `3_4 ) ) & ( C89 . ({ C77 } , B99) ) = ( ( C79 . (B99 , ( C80 `1_4 )) ) "\/" ( C80 `3_4 ) ) & ( C89 . (B99 , { { C77 } }) ) = ( ( C79 . (B99 , ( C80 `2_4 )) ) "\/" ( C80 `3_4 ) ) & ( C89 . ({ { C77 } } , B99) ) = ( ( C79 . (B99 , ( C80 `2_4 )) ) "\/" ( C80 `3_4 ) )));
L267:
now
let C90 , C91 being (Element of ( new_set2 C77 ));
L268: (C90 in C77 or C90 in { { C77 } , { { C77 } } }) by XBOOLE_0:def 3;
L269: (C91 in C77 or C91 in { { C77 } , { { C77 } } }) by XBOOLE_0:def 3;
per cases  by L268 , L269 , TARSKI:def 2;
suppose L270: (C90 in C77 & C91 in C77);

thus L271: ( C88 . (C90 , C91) ) = ( C79 . (C90 , C91) ) by L270 , L255
.= ( C89 . (C90 , C91) ) by L261 , L270;
end;
suppose L272: (C90 in C77 & C91 = { C77 });

reconsider D51 = C90 as (Element of C77) by L272;
thus L273: ( C88 . (C90 , C91) ) = ( ( C79 . (D51 , D48) ) "\/" D50 ) by L260 , L272
.= ( C89 . (C90 , C91) ) by L266 , L272;
end;
suppose L274: (C90 in C77 & C91 = { { C77 } });

reconsider D52 = C90 as (Element of C77) by L274;
thus L275: ( C88 . (C90 , C91) ) = ( ( C79 . (D52 , D49) ) "\/" D50 ) by L260 , L274
.= ( C89 . (C90 , C91) ) by L266 , L274;
end;
suppose L276: (C90 = { C77 } & C91 in C77);

reconsider D53 = C91 as (Element of C77) by L276;
thus L277: ( C88 . (C90 , C91) ) = ( ( C79 . (D53 , D48) ) "\/" D50 ) by L260 , L276
.= ( C89 . (C90 , C91) ) by L266 , L276;
end;
suppose L278: (C90 = { C77 } & C91 = { C77 });

thus L279: ( C88 . (C90 , C91) ) = ( C89 . (C90 , C91) ) by L278 , L256 , L262;
end;
suppose L280: (C90 = { C77 } & C91 = { { C77 } });

thus L281: ( C88 . (C90 , C91) ) = ( C89 . (C90 , C91) ) by L280 , L258 , L264;
end;
suppose L282: (C90 = { { C77 } } & C91 in C77);

reconsider D54 = C91 as (Element of C77) by L282;
thus L283: ( C88 . (C90 , C91) ) = ( ( C79 . (D54 , D49) ) "\/" D50 ) by L260 , L282
.= ( C89 . (C90 , C91) ) by L266 , L282;
end;
suppose L284: (C90 = { { C77 } } & C91 = { C77 });

thus L285: ( C88 . (C90 , C91) ) = ( C89 . (C90 , C91) ) by L284 , L259 , L265;
end;
suppose L286: (C90 = { { C77 } } & C91 = { { C77 } });

thus L287: ( C88 . (C90 , C91) ) = ( C89 . (C90 , C91) ) by L286 , L257 , L263;
end;
end;
thus L289: C88 = C89 by L267 , BINOP_1:2;
end;
end;
theorem
L291: (for B100 being non  empty set holds (for B101 being  lower-bounded LATTICE holds (for B102 being (BiFunction of B100 , B101) holds (B102 is  zeroed implies (for B103 being (Element of [: B100 , B100 , (the carrier of B101) , (the carrier of B101) :]) holds ( new_bi_fun2 (B102 , B103) ) is  zeroed)))))
proof
let C92 being non  empty set;
let C93 being  lower-bounded LATTICE;
let C94 being (BiFunction of C92 , C93);
assume L292: C94 is  zeroed;
let C95 being (Element of [: C92 , C92 , (the carrier of C93) , (the carrier of C93) :]);
set D55 = ( new_bi_fun2 (C94 , C95) );
L293: (for B104 being (Element of ( new_set2 C92 )) holds ( D55 . (B104 , B104) ) = ( Bottom C93 ))
proof
let C96 being (Element of ( new_set2 C92 ));
L294: (C96 in C92 or C96 in { { C92 } , { { C92 } } }) by XBOOLE_0:def 3;
per cases  by L294 , TARSKI:def 2;
suppose L295: C96 in C92;

reconsider D56 = C96 as (Element of C92) by L295;
thus L296: ( D55 . (C96 , C96) ) = ( C94 . (D56 , D56) ) by L208
.= ( Bottom C93 ) by L292 , LATTICE5:def 6;
end;
suppose L297: (C96 = { C92 } or C96 = { { C92 } });

thus L298: thesis by L297 , L208;
end;
end;
thus L300: thesis by L293 , LATTICE5:def 6;
end;
theorem
L301: (for B105 being non  empty set holds (for B106 being  lower-bounded LATTICE holds (for B107 being (BiFunction of B105 , B106) holds (B107 is  symmetric implies (for B108 being (Element of [: B105 , B105 , (the carrier of B106) , (the carrier of B106) :]) holds ( new_bi_fun2 (B107 , B108) ) is  symmetric)))))
proof
let C97 being non  empty set;
let C98 being  lower-bounded LATTICE;
let C99 being (BiFunction of C97 , C98);
assume L302: C99 is  symmetric;
let C100 being (Element of [: C97 , C97 , (the carrier of C98) , (the carrier of C98) :]);
set D57 = ( new_bi_fun2 (C99 , C100) );
set D58 = ( C100 `1_4 );
set D59 = ( C100 `2_4 );
set D60 = ( C100 `3_4 );
set D61 = ( C100 `4_4 );
let C101 , C102 being (Element of ( new_set2 C97 ));
L303: (C101 in C97 or C101 in { { C97 } , { { C97 } } }) by XBOOLE_0:def 3;
L304: (C102 in C97 or C102 in { { C97 } , { { C97 } } }) by XBOOLE_0:def 3;
per cases  by L303 , L304 , TARSKI:def 2;
suppose L305: (C101 in C97 & C102 in C97);

reconsider D62 = C101 , D63 = C102 as (Element of C97) by L305;
thus L306: ( D57 . (C101 , C102) ) = ( C99 . (D62 , D63) ) by L208
.= ( C99 . (D63 , D62) ) by L302 , LATTICE5:def 5
.= ( D57 . (C102 , C101) ) by L208;
end;
suppose L307: (C101 in C97 & C102 = { C97 });

reconsider D64 = C101 as (Element of C97) by L307;
thus L308: ( D57 . (C101 , C102) ) = ( ( C99 . (D64 , D58) ) "\/" D60 ) by L307 , L208
.= ( D57 . (C102 , C101) ) by L307 , L208;
end;
suppose L309: (C101 in C97 & C102 = { { C97 } });

reconsider D65 = C101 as (Element of C97) by L309;
thus L310: ( D57 . (C101 , C102) ) = ( ( C99 . (D65 , D59) ) "\/" D60 ) by L309 , L208
.= ( D57 . (C102 , C101) ) by L309 , L208;
end;
suppose L311: (C101 = { C97 } & C102 in C97);

reconsider D66 = C102 as (Element of C97) by L311;
thus L312: ( D57 . (C101 , C102) ) = ( ( C99 . (D66 , D58) ) "\/" D60 ) by L311 , L208
.= ( D57 . (C102 , C101) ) by L311 , L208;
end;
suppose L313: (C101 = { C97 } & C102 = { C97 });

thus L314: thesis by L313;
end;
suppose L315: (C101 = { C97 } & C102 = { { C97 } });

thus L316: ( D57 . (C101 , C102) ) = ( ( ( C99 . (D58 , D59) ) "\/" D60 ) "/\" D61 ) by L315 , L208
.= ( D57 . (C102 , C101) ) by L315 , L208;
end;
suppose L317: (C101 = { { C97 } } & C102 in C97);

reconsider D67 = C102 as (Element of C97) by L317;
thus L318: ( D57 . (C101 , C102) ) = ( ( C99 . (D67 , D59) ) "\/" D60 ) by L317 , L208
.= ( D57 . (C102 , C101) ) by L317 , L208;
end;
suppose L319: (C101 = { { C97 } } & C102 = { C97 });

thus L320: ( D57 . (C101 , C102) ) = ( ( ( C99 . (D58 , D59) ) "\/" D60 ) "/\" D61 ) by L319 , L208
.= ( D57 . (C102 , C101) ) by L319 , L208;
end;
suppose L321: (C101 = { { C97 } } & C102 = { { C97 } });

thus L322: thesis by L321;
end;
end;
theorem
L324: (for B109 being non  empty set holds (for B110 being  lower-bounded LATTICE holds (B110 is  modular implies (for B111 being (BiFunction of B109 , B110) holds ((B111 is  symmetric & B111 is  u.t.i.) implies (for B112 being (Element of [: B109 , B109 , (the carrier of B110) , (the carrier of B110) :]) holds (( B111 . (( B112 `1_4 ) , ( B112 `2_4 )) ) <= ( ( B112 `3_4 ) "\/" ( B112 `4_4 ) ) implies ( new_bi_fun2 (B111 , B112) ) is  u.t.i.)))))))
proof
let C103 being non  empty set;
let C104 being  lower-bounded LATTICE;
assume L325: C104 is  modular;
reconsider D68 = { { C103 } , { { C103 } } } as non  empty set;
let C105 being (BiFunction of C103 , C104);
assume that
L326: C105 is  symmetric
and
L327: C105 is  u.t.i.;
let C106 being (Element of [: C103 , C103 , (the carrier of C104) , (the carrier of C104) :]);
set D69 = ( C106 `1_4 );
set D70 = ( C106 `2_4 );
set D71 = ( C106 `3_4 );
set D72 = ( C106 `4_4 );
set D73 = ( new_bi_fun2 (C105 , C106) );
reconsider D74 = D71 , D75 = D72 as (Element of C104);
L328: (for B113 , B114 , B115 being (Element of ( new_set2 C103 )) holds ((B113 in C103 & B114 in C103 & B115 in D68) implies ( D73 . (B113 , B115) ) <= ( ( D73 . (B113 , B114) ) "\/" ( D73 . (B114 , B115) ) )))
proof
let C107 , C108 , C109 being (Element of ( new_set2 C103 ));
assume L329: (C107 in C103 & C108 in C103 & C109 in D68);
per cases  by L329 , TARSKI:def 2;
suppose L330: (C107 in C103 & C108 in C103 & C109 = { C103 });

reconsider D76 = C107 , D77 = C108 as (Element of C103) by L330;
L331: ( D73 . (C107 , C108) ) = ( C105 . (D76 , D77) ) by L208;
L332: ( C105 . (D76 , D69) ) <= ( ( C105 . (D76 , D77) ) "\/" ( C105 . (D77 , D69) ) ) by L327 , LATTICE5:def 7;
L333: ( ( C105 . (D76 , D69) ) "\/" D74 ) <= ( ( ( C105 . (D76 , D77) ) "\/" ( C105 . (D77 , D69) ) ) "\/" D74 ) by L332 , WAYBEL_1:2;
L334: (( D73 . (C107 , C109) ) = ( ( C105 . (D76 , D69) ) "\/" D74 ) & ( D73 . (C108 , C109) ) = ( ( C105 . (D77 , D69) ) "\/" D74 )) by L330 , L208;
thus L335: thesis by L334 , L331 , L333 , LATTICE3:14;
end;
suppose L336: (C107 in C103 & C108 in C103 & C109 = { { C103 } });

reconsider D78 = C107 , D79 = C108 as (Element of C103) by L336;
L337: ( D73 . (C107 , C108) ) = ( C105 . (D78 , D79) ) by L208;
L338: ( C105 . (D78 , D70) ) <= ( ( C105 . (D78 , D79) ) "\/" ( C105 . (D79 , D70) ) ) by L327 , LATTICE5:def 7;
L339: ( ( C105 . (D78 , D70) ) "\/" D74 ) <= ( ( ( C105 . (D78 , D79) ) "\/" ( C105 . (D79 , D70) ) ) "\/" D74 ) by L338 , WAYBEL_1:2;
L340: (( D73 . (C107 , C109) ) = ( ( C105 . (D78 , D70) ) "\/" D74 ) & ( D73 . (C108 , C109) ) = ( ( C105 . (D79 , D70) ) "\/" D74 )) by L336 , L208;
thus L341: thesis by L340 , L337 , L339 , LATTICE3:14;
end;
end;
assume L343: ( C105 . (( C106 `1_4 ) , ( C106 `2_4 )) ) <= ( ( C106 `3_4 ) "\/" ( C106 `4_4 ) );
L344: (for B116 , B117 , B118 being (Element of ( new_set2 C103 )) holds ((B116 in C103 & B117 in D68 & B118 in D68) implies ( D73 . (B116 , B118) ) <= ( ( D73 . (B116 , B117) ) "\/" ( D73 . (B117 , B118) ) )))
proof
let C110 , C111 , C112 being (Element of ( new_set2 C103 ));
assume L345: (C110 in C103 & C111 in D68 & C112 in D68);
per cases  by L345 , TARSKI:def 2;
suppose L346: (C110 in C103 & C111 = { C103 } & C112 = { C103 });

L347: ( ( D73 . (C110 , C111) ) "\/" ( D73 . (C111 , C112) ) ) = ( ( Bottom C104 ) "\/" ( D73 . (C110 , C111) ) ) by L346 , L208
.= ( D73 . (C110 , C111) ) by WAYBEL_1:3;
thus L348: thesis by L347 , L346;
end;
suppose L349: (C110 in C103 & C111 = { C103 } & C112 = { { C103 } });

reconsider D80 = C110 as (Element of C103) by L349;
L350: D74 <= ( D74 "\/" ( C105 . (D69 , D70) ) ) by YELLOW_0:22;
L351: ( D74 "\/" ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" D75 ) ) = ( ( D74 "\/" D75 ) "/\" ( D74 "\/" ( C105 . (D69 , D70) ) ) ) by L350 , L325 , YELLOW11:def 3;
L352: ( C105 . (D80 , D70) ) <= ( ( C105 . (D80 , D69) ) "\/" ( C105 . (D69 , D70) ) ) by L327 , LATTICE5:def 7;
L353: ( ( C105 . (D80 , D70) ) "\/" D74 ) <= ( ( ( C105 . (D80 , D69) ) "\/" ( C105 . (D69 , D70) ) ) "\/" D74 ) by L352 , YELLOW_5:7;
L354: D74 <= D74;
L355: ( ( C105 . (D69 , D70) ) "\/" D74 ) <= ( ( D74 "\/" D75 ) "\/" D74 ) by L354 , L343 , YELLOW_3:3;
L356: ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( C105 . (D69 , D70) ) "\/" D74 ) ) <= ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( D74 "\/" D75 ) "\/" D74 ) ) by L355 , YELLOW_5:6;
L357: (( ( C105 . (D69 , D70) ) "\/" D74 ) = ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( C105 . (D69 , D70) ) "\/" D74 ) ) & ( ( C105 . (D80 , D69) ) "\/" ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( C105 . (D69 , D70) ) "\/" D74 ) ) ) <= ( ( C105 . (D80 , D69) ) "\/" ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( D74 "\/" D75 ) "\/" D74 ) ) )) by L356 , WAYBEL_1:2 , YELLOW_5:2;
L358: (( D73 . (C110 , C111) ) = ( ( C105 . (D80 , D69) ) "\/" D74 ) & ( D73 . (C111 , C112) ) = ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" D75 )) by L349 , L208;
L359: ( ( D73 . (C110 , C111) ) "\/" ( D73 . (C111 , C112) ) ) = ( ( C105 . (D80 , D69) ) "\/" ( ( D74 "\/" D75 ) "/\" ( D74 "\/" ( C105 . (D69 , D70) ) ) ) ) by L358 , L351 , LATTICE3:14
.= ( ( C105 . (D80 , D69) ) "\/" ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( D74 "\/" D74 ) "\/" D75 ) ) ) by YELLOW_5:1
.= ( ( C105 . (D80 , D69) ) "\/" ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( D74 "\/" D75 ) "\/" D74 ) ) ) by LATTICE3:14;
L360: ( ( ( C105 . (D80 , D69) ) "\/" ( C105 . (D69 , D70) ) ) "\/" D74 ) <= ( ( D73 . (C110 , C111) ) "\/" ( D73 . (C111 , C112) ) ) by L359 , L357 , LATTICE3:14;
L361: ( ( C105 . (D80 , D70) ) "\/" D74 ) <= ( ( D73 . (C110 , C111) ) "\/" ( D73 . (C111 , C112) ) ) by L360 , L353 , ORDERS_2:3;
thus L362: thesis by L361 , L349 , L208;
end;
suppose L363: (C110 in C103 & C111 = { { C103 } } & C112 = { C103 });

reconsider D81 = C110 as (Element of C103) by L363;
L364: D74 <= ( D74 "\/" ( C105 . (D69 , D70) ) ) by YELLOW_0:22;
L365: ( D74 "\/" ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" D75 ) ) = ( ( D74 "\/" D75 ) "/\" ( D74 "\/" ( C105 . (D69 , D70) ) ) ) by L364 , L325 , YELLOW11:def 3;
L366: D74 <= D74;
L367: ( ( C105 . (D69 , D70) ) "\/" D74 ) <= ( ( D74 "\/" D75 ) "\/" D74 ) by L366 , L343 , YELLOW_3:3;
L368: ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( C105 . (D69 , D70) ) "\/" D74 ) ) <= ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( D74 "\/" D75 ) "\/" D74 ) ) by L367 , YELLOW_5:6;
L369: (( ( C105 . (D69 , D70) ) "\/" D74 ) = ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( C105 . (D69 , D70) ) "\/" D74 ) ) & ( ( C105 . (D81 , D70) ) "\/" ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( C105 . (D69 , D70) ) "\/" D74 ) ) ) <= ( ( C105 . (D81 , D70) ) "\/" ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( D74 "\/" D75 ) "\/" D74 ) ) )) by L368 , WAYBEL_1:2 , YELLOW_5:2;
L370: ( C105 . (D70 , D69) ) = ( C105 . (D69 , D70) ) by L326 , LATTICE5:def 5;
L371: ( C105 . (D81 , D69) ) <= ( ( C105 . (D81 , D70) ) "\/" ( C105 . (D69 , D70) ) ) by L370 , L327 , LATTICE5:def 7;
L372: ( ( C105 . (D81 , D69) ) "\/" D74 ) <= ( ( ( C105 . (D81 , D70) ) "\/" ( C105 . (D69 , D70) ) ) "\/" D74 ) by L371 , YELLOW_5:7;
L373: (( D73 . (C110 , C111) ) = ( ( C105 . (D81 , D70) ) "\/" D74 ) & ( D73 . (C111 , C112) ) = ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" D75 )) by L363 , L208;
L374: ( ( D73 . (C110 , C111) ) "\/" ( D73 . (C111 , C112) ) ) = ( ( C105 . (D81 , D70) ) "\/" ( ( D74 "\/" D75 ) "/\" ( D74 "\/" ( C105 . (D69 , D70) ) ) ) ) by L373 , L365 , LATTICE3:14
.= ( ( C105 . (D81 , D70) ) "\/" ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( D74 "\/" D74 ) "\/" D75 ) ) ) by YELLOW_5:1
.= ( ( C105 . (D81 , D70) ) "\/" ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( D74 "\/" D75 ) "\/" D74 ) ) ) by LATTICE3:14;
L375: ( ( ( C105 . (D81 , D70) ) "\/" ( C105 . (D69 , D70) ) ) "\/" D74 ) <= ( ( D73 . (C110 , C111) ) "\/" ( D73 . (C111 , C112) ) ) by L374 , L369 , LATTICE3:14;
L376: ( ( C105 . (D81 , D69) ) "\/" D74 ) <= ( ( D73 . (C110 , C111) ) "\/" ( D73 . (C111 , C112) ) ) by L375 , L372 , ORDERS_2:3;
thus L377: thesis by L376 , L363 , L208;
end;
suppose L378: (C110 in C103 & C111 = { { C103 } } & C112 = { { C103 } });

L379: ( ( D73 . (C110 , C111) ) "\/" ( D73 . (C111 , C112) ) ) = ( ( Bottom C104 ) "\/" ( D73 . (C110 , C111) ) ) by L378 , L208
.= ( D73 . (C110 , C111) ) by WAYBEL_1:3;
thus L380: thesis by L379 , L378;
end;
end;
L382: (for B119 , B120 , B121 being (Element of ( new_set2 C103 )) holds ((B119 in D68 & B120 in C103 & B121 in D68) implies ( D73 . (B119 , B121) ) <= ( ( D73 . (B119 , B120) ) "\/" ( D73 . (B120 , B121) ) )))
proof
let C113 , C114 , C115 being (Element of ( new_set2 C103 ));
assume L383: (C113 in D68 & C114 in C103 & C115 in D68);
per cases  by L383 , TARSKI:def 2;
suppose L384: (C114 in C103 & C113 = { C103 } & C115 = { C103 });

L385: ( D73 . (C113 , C115) ) = ( Bottom C104 ) by L384 , L208;
thus L386: thesis by L385 , YELLOW_0:44;
end;
suppose L387: (C114 in C103 & C113 = { C103 } & C115 = { { C103 } });

reconsider D82 = C114 as (Element of C103) by L387;
L388: ( C105 . (D82 , D69) ) = ( C105 . (D69 , D82) ) by L326 , LATTICE5:def 5;
L389: ( C105 . (D69 , D70) ) <= ( ( C105 . (D82 , D69) ) "\/" ( C105 . (D82 , D70) ) ) by L388 , L327 , LATTICE5:def 7;
L390: ( D73 . (C113 , C114) ) = ( ( C105 . (D82 , D69) ) "\/" D74 ) by L387 , L208;
L391: ( ( D73 . (C113 , C114) ) "\/" ( D73 . (C114 , C115) ) ) = ( ( ( C105 . (D82 , D69) ) "\/" D74 ) "\/" ( ( C105 . (D82 , D70) ) "\/" D74 ) ) by L390 , L387 , L208
.= ( ( ( C105 . (D82 , D69) ) "\/" ( ( C105 . (D82 , D70) ) "\/" D74 ) ) "\/" D74 ) by LATTICE3:14
.= ( ( ( ( C105 . (D82 , D69) ) "\/" ( C105 . (D82 , D70) ) ) "\/" D74 ) "\/" D74 ) by LATTICE3:14
.= ( ( ( C105 . (D82 , D69) ) "\/" ( C105 . (D82 , D70) ) ) "\/" ( D74 "\/" D74 ) ) by LATTICE3:14
.= ( ( ( C105 . (D82 , D69) ) "\/" ( C105 . (D82 , D70) ) ) "\/" D74 ) by YELLOW_5:1;
L392: ( ( C105 . (D69 , D70) ) "\/" D74 ) <= ( ( D73 . (C113 , C114) ) "\/" ( D73 . (C114 , C115) ) ) by L391 , L389 , YELLOW_5:7;
L393: ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" D75 ) <= ( ( C105 . (D69 , D70) ) "\/" D74 ) by YELLOW_0:23;
L394: ( D73 . (C113 , C115) ) = ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" D75 ) by L387 , L208;
thus L395: thesis by L394 , L392 , L393 , ORDERS_2:3;
end;
suppose L396: (C114 in C103 & C113 = { { C103 } } & C115 = { C103 });

reconsider D83 = C114 as (Element of C103) by L396;
L397: ( C105 . (D83 , D69) ) = ( C105 . (D69 , D83) ) by L326 , LATTICE5:def 5;
L398: ( C105 . (D69 , D70) ) <= ( ( C105 . (D83 , D69) ) "\/" ( C105 . (D83 , D70) ) ) by L397 , L327 , LATTICE5:def 7;
L399: ( D73 . (C113 , C114) ) = ( ( C105 . (D83 , D70) ) "\/" D74 ) by L396 , L208;
L400: ( ( D73 . (C113 , C114) ) "\/" ( D73 . (C114 , C115) ) ) = ( ( ( C105 . (D83 , D69) ) "\/" D74 ) "\/" ( ( C105 . (D83 , D70) ) "\/" D74 ) ) by L399 , L396 , L208
.= ( ( ( C105 . (D83 , D69) ) "\/" ( ( C105 . (D83 , D70) ) "\/" D74 ) ) "\/" D74 ) by LATTICE3:14
.= ( ( ( ( C105 . (D83 , D69) ) "\/" ( C105 . (D83 , D70) ) ) "\/" D74 ) "\/" D74 ) by LATTICE3:14
.= ( ( ( C105 . (D83 , D69) ) "\/" ( C105 . (D83 , D70) ) ) "\/" ( D74 "\/" D74 ) ) by LATTICE3:14
.= ( ( ( C105 . (D83 , D69) ) "\/" ( C105 . (D83 , D70) ) ) "\/" D74 ) by YELLOW_5:1;
L401: ( ( C105 . (D69 , D70) ) "\/" D74 ) <= ( ( D73 . (C113 , C114) ) "\/" ( D73 . (C114 , C115) ) ) by L400 , L398 , YELLOW_5:7;
L402: ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" D75 ) <= ( ( C105 . (D69 , D70) ) "\/" D74 ) by YELLOW_0:23;
L403: ( D73 . (C113 , C115) ) = ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" D75 ) by L396 , L208;
thus L404: thesis by L403 , L401 , L402 , ORDERS_2:3;
end;
suppose L405: (C114 in C103 & C113 = { { C103 } } & C115 = { { C103 } });

L406: ( D73 . (C113 , C115) ) = ( Bottom C104 ) by L405 , L208;
thus L407: thesis by L406 , YELLOW_0:44;
end;
end;
L409: (for B122 , B123 , B124 being (Element of ( new_set2 C103 )) holds ((B122 in D68 & B123 in D68 & B124 in D68) implies ( D73 . (B122 , B124) ) <= ( ( D73 . (B122 , B123) ) "\/" ( D73 . (B123 , B124) ) )))
proof
let C116 , C117 , C118 being (Element of ( new_set2 C103 ));
assume L410: (C116 in D68 & C117 in D68 & C118 in D68);
per cases  by L410 , TARSKI:def 2;
suppose L411: (C116 = { C103 } & C117 = { C103 } & C118 = { C103 });

L412: ( Bottom C104 ) <= ( ( D73 . (C116 , C117) ) "\/" ( D73 . (C117 , C118) ) ) by YELLOW_0:44;
thus L413: thesis by L412 , L411 , L208;
end;
suppose L414: (C116 = { C103 } & C117 = { C103 } & C118 = { { C103 } });

L415: ( ( D73 . (C116 , C117) ) "\/" ( D73 . (C117 , C118) ) ) = ( ( Bottom C104 ) "\/" ( D73 . (C116 , C118) ) ) by L414 , L208
.= ( ( Bottom C104 ) "\/" ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" D75 ) ) by L414 , L208
.= ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" D75 ) by WAYBEL_1:3;
thus L416: thesis by L415 , L414 , L208;
end;
suppose L417: (C116 = { C103 } & C117 = { { C103 } } & C118 = { C103 });

L418: ( Bottom C104 ) <= ( ( D73 . (C116 , C117) ) "\/" ( D73 . (C117 , C118) ) ) by YELLOW_0:44;
thus L419: thesis by L418 , L417 , L208;
end;
suppose L420: (C116 = { C103 } & C117 = { { C103 } } & C118 = { { C103 } });

L421: ( ( D73 . (C116 , C117) ) "\/" ( D73 . (C117 , C118) ) ) = ( ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" D75 ) "\/" ( D73 . (C117 , C118) ) ) by L420 , L208
.= ( ( Bottom C104 ) "\/" ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" D75 ) ) by L420 , L208
.= ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" D75 ) by WAYBEL_1:3;
thus L422: thesis by L421 , L420 , L208;
end;
suppose L423: (C116 = { { C103 } } & C117 = { C103 } & C118 = { C103 });

L424: ( ( D73 . (C116 , C117) ) "\/" ( D73 . (C117 , C118) ) ) = ( ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" D75 ) "\/" ( D73 . (C117 , C118) ) ) by L423 , L208
.= ( ( Bottom C104 ) "\/" ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" D75 ) ) by L423 , L208
.= ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" D75 ) by WAYBEL_1:3
.= ( D73 . (C116 , C117) ) by L423 , L208;
thus L425: thesis by L424 , L423;
end;
suppose L426: (C116 = { { C103 } } & C117 = { C103 } & C118 = { { C103 } });

L427: ( Bottom C104 ) <= ( ( D73 . (C116 , C117) ) "\/" ( D73 . (C117 , C118) ) ) by YELLOW_0:44;
thus L428: thesis by L427 , L426 , L208;
end;
suppose L429: (C116 = { { C103 } } & C117 = { { C103 } } & C118 = { C103 });

L430: ( ( D73 . (C116 , C117) ) "\/" ( D73 . (C117 , C118) ) ) = ( ( Bottom C104 ) "\/" ( D73 . (C116 , C118) ) ) by L429 , L208
.= ( ( Bottom C104 ) "\/" ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" D75 ) ) by L429 , L208
.= ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" D75 ) by WAYBEL_1:3;
thus L431: thesis by L430 , L429 , L208;
end;
suppose L432: (C116 = { { C103 } } & C117 = { { C103 } } & C118 = { { C103 } });

L433: ( Bottom C104 ) <= ( ( D73 . (C116 , C117) ) "\/" ( D73 . (C117 , C118) ) ) by YELLOW_0:44;
thus L434: thesis by L433 , L432 , L208;
end;
end;
L436: (for B125 , B126 , B127 being (Element of ( new_set2 C103 )) holds ((B125 in D68 & B126 in D68 & B127 in C103) implies ( D73 . (B125 , B127) ) <= ( ( D73 . (B125 , B126) ) "\/" ( D73 . (B126 , B127) ) )))
proof
let C119 , C120 , C121 being (Element of ( new_set2 C103 ));
assume L437: (C119 in D68 & C120 in D68 & C121 in C103);
per cases  by L437 , TARSKI:def 2;
suppose L438: (C121 in C103 & C120 = { C103 } & C119 = { C103 });

L439: ( ( D73 . (C119 , C120) ) "\/" ( D73 . (C120 , C121) ) ) = ( ( Bottom C104 ) "\/" ( D73 . (C120 , C121) ) ) by L438 , L208
.= ( D73 . (C119 , C121) ) by L438 , WAYBEL_1:3;
thus L440: thesis by L439;
end;
suppose L441: (C121 in C103 & C120 = { C103 } & C119 = { { C103 } });

reconsider D84 = C121 as (Element of C103) by L441;
L442: D74 <= ( D74 "\/" ( C105 . (D69 , D70) ) ) by YELLOW_0:22;
L443: ( D74 "\/" ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" D75 ) ) = ( ( D74 "\/" D75 ) "/\" ( D74 "\/" ( C105 . (D69 , D70) ) ) ) by L442 , L325 , YELLOW11:def 3;
L444: ( C105 . (D84 , D70) ) <= ( ( C105 . (D84 , D69) ) "\/" ( C105 . (D69 , D70) ) ) by L327 , LATTICE5:def 7;
L445: ( ( C105 . (D84 , D70) ) "\/" D74 ) <= ( ( ( C105 . (D84 , D69) ) "\/" ( C105 . (D69 , D70) ) ) "\/" D74 ) by L444 , YELLOW_5:7;
L446: D74 <= D74;
L447: ( ( C105 . (D69 , D70) ) "\/" D74 ) <= ( ( D74 "\/" D75 ) "\/" D74 ) by L446 , L343 , YELLOW_3:3;
L448: ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( C105 . (D69 , D70) ) "\/" D74 ) ) <= ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( D74 "\/" D75 ) "\/" D74 ) ) by L447 , YELLOW_5:6;
L449: (( ( C105 . (D69 , D70) ) "\/" D74 ) = ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( C105 . (D69 , D70) ) "\/" D74 ) ) & ( ( C105 . (D84 , D69) ) "\/" ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( C105 . (D69 , D70) ) "\/" D74 ) ) ) <= ( ( C105 . (D84 , D69) ) "\/" ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( D74 "\/" D75 ) "\/" D74 ) ) )) by L448 , WAYBEL_1:2 , YELLOW_5:2;
L450: (( D73 . (C119 , C120) ) = ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" D75 ) & ( D73 . (C120 , C121) ) = ( ( C105 . (D84 , D69) ) "\/" D74 )) by L441 , L208;
L451: ( ( D73 . (C119 , C120) ) "\/" ( D73 . (C120 , C121) ) ) = ( ( C105 . (D84 , D69) ) "\/" ( ( D74 "\/" D75 ) "/\" ( D74 "\/" ( C105 . (D69 , D70) ) ) ) ) by L450 , L443 , LATTICE3:14
.= ( ( C105 . (D84 , D69) ) "\/" ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( D74 "\/" D74 ) "\/" D75 ) ) ) by YELLOW_5:1
.= ( ( C105 . (D84 , D69) ) "\/" ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( D74 "\/" D75 ) "\/" D74 ) ) ) by LATTICE3:14;
L452: ( ( ( C105 . (D84 , D69) ) "\/" ( C105 . (D69 , D70) ) ) "\/" D74 ) <= ( ( D73 . (C119 , C120) ) "\/" ( D73 . (C120 , C121) ) ) by L451 , L449 , LATTICE3:14;
L453: ( ( C105 . (D84 , D70) ) "\/" D74 ) <= ( ( D73 . (C119 , C120) ) "\/" ( D73 . (C120 , C121) ) ) by L452 , L445 , ORDERS_2:3;
thus L454: thesis by L453 , L441 , L208;
end;
suppose L455: (C121 in C103 & C120 = { { C103 } } & C119 = { C103 });

reconsider D85 = C121 as (Element of C103) by L455;
L456: D74 <= ( D74 "\/" ( C105 . (D69 , D70) ) ) by YELLOW_0:22;
L457: ( D74 "\/" ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" D75 ) ) = ( ( D74 "\/" D75 ) "/\" ( D74 "\/" ( C105 . (D69 , D70) ) ) ) by L456 , L325 , YELLOW11:def 3;
L458: D74 <= D74;
L459: ( ( C105 . (D69 , D70) ) "\/" D74 ) <= ( ( D74 "\/" D75 ) "\/" D74 ) by L458 , L343 , YELLOW_3:3;
L460: ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( C105 . (D69 , D70) ) "\/" D74 ) ) <= ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( D74 "\/" D75 ) "\/" D74 ) ) by L459 , YELLOW_5:6;
L461: (( ( C105 . (D69 , D70) ) "\/" D74 ) = ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( C105 . (D69 , D70) ) "\/" D74 ) ) & ( ( C105 . (D85 , D70) ) "\/" ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( C105 . (D69 , D70) ) "\/" D74 ) ) ) <= ( ( C105 . (D85 , D70) ) "\/" ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( D74 "\/" D75 ) "\/" D74 ) ) )) by L460 , WAYBEL_1:2 , YELLOW_5:2;
L462: ( C105 . (D70 , D69) ) = ( C105 . (D69 , D70) ) by L326 , LATTICE5:def 5;
L463: ( C105 . (D85 , D69) ) <= ( ( C105 . (D85 , D70) ) "\/" ( C105 . (D69 , D70) ) ) by L462 , L327 , LATTICE5:def 7;
L464: ( ( C105 . (D85 , D69) ) "\/" D74 ) <= ( ( ( C105 . (D85 , D70) ) "\/" ( C105 . (D69 , D70) ) ) "\/" D74 ) by L463 , YELLOW_5:7;
L465: (( D73 . (C119 , C120) ) = ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" D75 ) & ( D73 . (C120 , C121) ) = ( ( C105 . (D85 , D70) ) "\/" D74 )) by L455 , L208;
L466: ( ( D73 . (C119 , C120) ) "\/" ( D73 . (C120 , C121) ) ) = ( ( C105 . (D85 , D70) ) "\/" ( ( D74 "\/" D75 ) "/\" ( D74 "\/" ( C105 . (D69 , D70) ) ) ) ) by L465 , L457 , LATTICE3:14
.= ( ( C105 . (D85 , D70) ) "\/" ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( D74 "\/" D74 ) "\/" D75 ) ) ) by YELLOW_5:1
.= ( ( C105 . (D85 , D70) ) "\/" ( ( ( C105 . (D69 , D70) ) "\/" D74 ) "/\" ( ( D74 "\/" D75 ) "\/" D74 ) ) ) by LATTICE3:14;
L467: ( ( ( C105 . (D85 , D70) ) "\/" ( C105 . (D69 , D70) ) ) "\/" D74 ) <= ( ( D73 . (C119 , C120) ) "\/" ( D73 . (C120 , C121) ) ) by L466 , L461 , LATTICE3:14;
L468: ( ( C105 . (D85 , D69) ) "\/" D74 ) <= ( ( D73 . (C119 , C120) ) "\/" ( D73 . (C120 , C121) ) ) by L467 , L464 , ORDERS_2:3;
thus L469: thesis by L468 , L455 , L208;
end;
suppose L470: (C121 in C103 & C120 = { { C103 } } & C119 = { { C103 } });

L471: ( ( D73 . (C119 , C120) ) "\/" ( D73 . (C120 , C121) ) ) = ( ( Bottom C104 ) "\/" ( D73 . (C120 , C121) ) ) by L470 , L208
.= ( D73 . (C119 , C121) ) by L470 , WAYBEL_1:3;
thus L472: thesis by L471;
end;
end;
L474: (for B128 , B129 , B130 being (Element of ( new_set2 C103 )) holds ((B128 in D68 & B129 in C103 & B130 in C103) implies ( D73 . (B128 , B130) ) <= ( ( D73 . (B128 , B129) ) "\/" ( D73 . (B129 , B130) ) )))
proof
let C122 , C123 , C124 being (Element of ( new_set2 C103 ));
assume that
L475: C122 in D68
and
L476: (C123 in C103 & C124 in C103);
reconsider D86 = C123 , D87 = C124 as (Element of C103) by L476;
per cases  by L475 , L476 , TARSKI:def 2;
suppose L477: (C122 = { C103 } & C123 in C103 & C124 in C103);

L478: ( C105 . (D87 , D69) ) <= ( ( C105 . (D87 , D86) ) "\/" ( C105 . (D86 , D69) ) ) by L327 , LATTICE5:def 7;
L479: ( C105 . (D87 , D69) ) <= ( ( C105 . (D86 , D87) ) "\/" ( C105 . (D86 , D69) ) ) by L478 , L326 , LATTICE5:def 5;
L480: ( ( C105 . (D87 , D69) ) "\/" D74 ) <= ( ( ( C105 . (D86 , D69) ) "\/" ( C105 . (D86 , D87) ) ) "\/" D74 ) by L479 , WAYBEL_1:2;
L481: ( ( C105 . (D87 , D69) ) "\/" D74 ) <= ( ( ( C105 . (D86 , D69) ) "\/" D74 ) "\/" ( C105 . (D86 , D87) ) ) by L480 , LATTICE3:14;
L482: ( D73 . (C123 , C124) ) = ( C105 . (D86 , D87) ) by L208;
L483: ( D73 . (C122 , C123) ) = ( ( C105 . (D86 , D69) ) "\/" D74 ) by L477 , L208;
thus L484: thesis by L483 , L477 , L482 , L481 , L208;
end;
suppose L485: (C122 = { { C103 } } & C123 in C103 & C124 in C103);

L486: ( C105 . (D87 , D70) ) <= ( ( C105 . (D87 , D86) ) "\/" ( C105 . (D86 , D70) ) ) by L327 , LATTICE5:def 7;
L487: ( C105 . (D87 , D70) ) <= ( ( C105 . (D86 , D87) ) "\/" ( C105 . (D86 , D70) ) ) by L486 , L326 , LATTICE5:def 5;
L488: ( ( C105 . (D87 , D70) ) "\/" D74 ) <= ( ( ( C105 . (D86 , D70) ) "\/" ( C105 . (D86 , D87) ) ) "\/" D74 ) by L487 , WAYBEL_1:2;
L489: ( ( C105 . (D87 , D70) ) "\/" D74 ) <= ( ( ( C105 . (D86 , D70) ) "\/" D74 ) "\/" ( C105 . (D86 , D87) ) ) by L488 , LATTICE3:14;
L490: ( D73 . (C123 , C124) ) = ( C105 . (D86 , D87) ) by L208;
L491: ( D73 . (C122 , C123) ) = ( ( C105 . (D86 , D70) ) "\/" D74 ) by L485 , L208;
thus L492: thesis by L491 , L485 , L490 , L489 , L208;
end;
end;
L494: (for B131 , B132 , B133 being (Element of ( new_set2 C103 )) holds ((B131 in C103 & B132 in D68 & B133 in C103) implies ( D73 . (B131 , B133) ) <= ( ( D73 . (B131 , B132) ) "\/" ( D73 . (B132 , B133) ) )))
proof
let C125 , C126 , C127 being (Element of ( new_set2 C103 ));
assume L495: (C125 in C103 & C126 in D68 & C127 in C103);
per cases  by L495 , TARSKI:def 2;
suppose L496: (C125 in C103 & C127 in C103 & C126 = { C103 });

reconsider D88 = C125 , D89 = C127 as (Element of C103) by L496;
L497: ( C105 . (D88 , D89) ) <= ( ( C105 . (D88 , D69) ) "\/" ( C105 . (D69 , D89) ) ) by L327 , LATTICE5:def 7;
L498: (( ( C105 . (D88 , D69) ) "\/" ( C105 . (D89 , D69) ) ) <= ( ( ( C105 . (D88 , D69) ) "\/" ( C105 . (D89 , D69) ) ) "\/" D74 ) & ( C105 . (D88 , D89) ) <= ( ( C105 . (D88 , D69) ) "\/" ( C105 . (D89 , D69) ) )) by L497 , L326 , LATTICE5:def 5 , YELLOW_0:22;
L499: ( ( ( C105 . (D88 , D69) ) "\/" ( C105 . (D89 , D69) ) ) "\/" D74 ) = ( ( C105 . (D88 , D69) ) "\/" ( ( C105 . (D89 , D69) ) "\/" D74 ) ) by LATTICE3:14
.= ( ( C105 . (D88 , D69) ) "\/" ( ( C105 . (D89 , D69) ) "\/" ( D74 "\/" D74 ) ) ) by YELLOW_5:1
.= ( ( C105 . (D88 , D69) ) "\/" ( ( ( C105 . (D89 , D69) ) "\/" D74 ) "\/" D74 ) ) by LATTICE3:14
.= ( ( ( C105 . (D88 , D69) ) "\/" D74 ) "\/" ( ( C105 . (D89 , D69) ) "\/" D74 ) ) by LATTICE3:14;
L500: ( C105 . (D88 , D89) ) <= ( ( ( C105 . (D88 , D69) ) "\/" D74 ) "\/" ( ( C105 . (D89 , D69) ) "\/" D74 ) ) by L499 , L498 , ORDERS_2:3;
L501: (( D73 . (C125 , C126) ) = ( ( C105 . (D88 , D69) ) "\/" D74 ) & ( D73 . (C126 , C127) ) = ( ( C105 . (D89 , D69) ) "\/" D74 )) by L496 , L208;
thus L502: thesis by L501 , L500 , L208;
end;
suppose L503: (C125 in C103 & C127 in C103 & C126 = { { C103 } });

reconsider D90 = C125 , D91 = C127 as (Element of C103) by L503;
L504: ( C105 . (D90 , D91) ) <= ( ( C105 . (D90 , D70) ) "\/" ( C105 . (D70 , D91) ) ) by L327 , LATTICE5:def 7;
L505: (( ( C105 . (D90 , D70) ) "\/" ( C105 . (D91 , D70) ) ) <= ( ( ( C105 . (D90 , D70) ) "\/" ( C105 . (D91 , D70) ) ) "\/" D74 ) & ( C105 . (D90 , D91) ) <= ( ( C105 . (D90 , D70) ) "\/" ( C105 . (D91 , D70) ) )) by L504 , L326 , LATTICE5:def 5 , YELLOW_0:22;
L506: ( ( ( C105 . (D90 , D70) ) "\/" ( C105 . (D91 , D70) ) ) "\/" D74 ) = ( ( C105 . (D90 , D70) ) "\/" ( ( C105 . (D91 , D70) ) "\/" D74 ) ) by LATTICE3:14
.= ( ( C105 . (D90 , D70) ) "\/" ( ( C105 . (D91 , D70) ) "\/" ( D74 "\/" D74 ) ) ) by YELLOW_5:1
.= ( ( C105 . (D90 , D70) ) "\/" ( ( ( C105 . (D91 , D70) ) "\/" D74 ) "\/" D74 ) ) by LATTICE3:14
.= ( ( ( C105 . (D90 , D70) ) "\/" D74 ) "\/" ( ( C105 . (D91 , D70) ) "\/" D74 ) ) by LATTICE3:14;
L507: ( C105 . (D90 , D91) ) <= ( ( ( C105 . (D90 , D70) ) "\/" D74 ) "\/" ( ( C105 . (D91 , D70) ) "\/" D74 ) ) by L506 , L505 , ORDERS_2:3;
L508: (( D73 . (C125 , C126) ) = ( ( C105 . (D90 , D70) ) "\/" D74 ) & ( D73 . (C126 , C127) ) = ( ( C105 . (D91 , D70) ) "\/" D74 )) by L503 , L208;
thus L509: thesis by L508 , L507 , L208;
end;
end;
L511: (for B134 , B135 , B136 being (Element of ( new_set2 C103 )) holds ((B134 in C103 & B135 in C103 & B136 in C103) implies ( D73 . (B134 , B136) ) <= ( ( D73 . (B134 , B135) ) "\/" ( D73 . (B135 , B136) ) )))
proof
let C128 , C129 , C130 being (Element of ( new_set2 C103 ));
assume L512: (C128 in C103 & C129 in C103 & C130 in C103);
reconsider D92 = C128 , D93 = C129 , D94 = C130 as (Element of C103) by L512;
L513: ( D73 . (C129 , C130) ) = ( C105 . (D93 , D94) ) by L208;
L514: (( D73 . (C128 , C130) ) = ( C105 . (D92 , D94) ) & ( D73 . (C128 , C129) ) = ( C105 . (D92 , D93) )) by L208;
thus L515: thesis by L514 , L327 , L513 , LATTICE5:def 7;
end;
L516: (for B137 , B138 , B139 being (Element of ( new_set2 C103 )) holds ( D73 . (B137 , B139) ) <= ( ( D73 . (B137 , B138) ) "\/" ( D73 . (B138 , B139) ) ))
proof
let C131 , C132 , C133 being (Element of ( new_set2 C103 ));
per cases  by XBOOLE_0:def 3;
suppose L517: (C131 in C103 & C132 in C103 & C133 in C103);

thus L518: thesis by L517 , L511;
end;
suppose L519: (C131 in C103 & C132 in C103 & C133 in D68);

thus L520: thesis by L519 , L328;
end;
suppose L521: (C131 in C103 & C132 in D68 & C133 in C103);

thus L522: thesis by L521 , L494;
end;
suppose L523: (C131 in C103 & C132 in D68 & C133 in D68);

thus L524: thesis by L523 , L344;
end;
suppose L525: (C131 in D68 & C132 in C103 & C133 in C103);

thus L526: thesis by L525 , L474;
end;
suppose L527: (C131 in D68 & C132 in C103 & C133 in D68);

thus L528: thesis by L527 , L382;
end;
suppose L529: (C131 in D68 & C132 in D68 & C133 in C103);

thus L530: thesis by L529 , L436;
end;
suppose L531: (C131 in D68 & C132 in D68 & C133 in D68);

thus L532: thesis by L531 , L409;
end;
end;
thus L534: thesis by L516 , LATTICE5:def 7;
end;
theorem
L535: (for B140 being non  empty set holds (for B141 being  lower-bounded LATTICE holds (for B142 being (BiFunction of B140 , B141) holds (for B143 being (Element of [: B140 , B140 , (the carrier of B141) , (the carrier of B141) :]) holds B142 c= ( new_bi_fun2 (B142 , B143) )))))
proof
let C134 being non  empty set;
let C135 being  lower-bounded LATTICE;
let C136 being (BiFunction of C134 , C135);
let C137 being (Element of [: C134 , C134 , (the carrier of C135) , (the carrier of C135) :]);
set D95 = ( new_bi_fun2 (C136 , C137) );
L536: C134 c= ( new_set2 C134 ) by XBOOLE_1:7;
L537: (for B144 being set holds (B144 in ( dom C136 ) implies ( C136 . B144 ) = ( D95 . B144 )))
proof
let C138 being set;
assume L538: C138 in ( dom C136 );
consider C139 , C140 being set such that L539: [ C139 , C140 ] = C138 by L538 , RELAT_1:def 1;
reconsider D96 = C139 , D97 = C140 as (Element of C134) by L538 , L539 , ZFMISC_1:87;
L540: ( C136 . [ C139 , C140 ] ) = ( C136 . (D96 , D97) )
.= ( D95 . (D96 , D97) ) by L208
.= ( D95 . [ C139 , C140 ] );
thus L541: thesis by L540 , L539;
end;
L542: (( dom C136 ) = [: C134 , C134 :] & ( dom D95 ) = [: ( new_set2 C134 ) , ( new_set2 C134 ) :]) by FUNCT_2:def 1;
L543: ( dom C136 ) c= ( dom D95 ) by L542 , L536 , ZFMISC_1:96;
thus L544: thesis by L543 , L537 , GRFUNC_1:2;
end;
definition
let C141 being non  empty set;
let C142 being Ordinal;
func ConsecutiveSet2 (C141 , C142) means 
:L545: (ex B145 being T-Sequence st (it = ( last B145 ) & ( dom B145 ) = ( succ C142 ) & ( B145 . ( {} ) ) = C141 & (for B146 being Ordinal holds (( succ B146 ) in ( succ C142 ) implies ( B145 . ( succ B146 ) ) = ( new_set2 ( B145 . B146 ) ))) & (for B147 being Ordinal holds ((B147 in ( succ C142 ) & B147 <> ( {} ) & B147 is  limit_ordinal) implies ( B145 . B147 ) = ( union ( rng ( B145 | B147 ) ) )))));
correctness
proof
deffunc H1(set , T-Sequence) = ( union ( rng $2 ) );
deffunc H2(Ordinal , set) = ( new_set2 $2 );
thus L546: ((ex R1 being set st (ex R3 being T-Sequence st (R1 = ( last R3 ) & ( dom R3 ) = ( succ C142 ) & ( R3 . ( {} ) ) = C141 & (for R2 being Ordinal holds (( succ R2 ) in ( succ C142 ) implies ( R3 . ( succ R2 ) ) = H2(R2 , ( R3 . R2 )))) & (for R2 being Ordinal holds ((R2 in ( succ C142 ) & R2 <> ( {} ) & R2 is  limit_ordinal) implies ( R3 . R2 ) = H1(R2 , ( R3 | R2 ))))))) & (for B148 , B149 being set holds (((ex R3 being T-Sequence st (B148 = ( last R3 ) & ( dom R3 ) = ( succ C142 ) & ( R3 . ( {} ) ) = C141 & (for R2 being Ordinal holds (( succ R2 ) in ( succ C142 ) implies ( R3 . ( succ R2 ) ) = H2(R2 , ( R3 . R2 )))) & (for R2 being Ordinal holds ((R2 in ( succ C142 ) & R2 <> ( {} ) & R2 is  limit_ordinal) implies ( R3 . R2 ) = H1(R2 , ( R3 | R2 )))))) & (ex R3 being T-Sequence st (B149 = ( last R3 ) & ( dom R3 ) = ( succ C142 ) & ( R3 . ( {} ) ) = C141 & (for R2 being Ordinal holds (( succ R2 ) in ( succ C142 ) implies ( R3 . ( succ R2 ) ) = H2(R2 , ( R3 . R2 )))) & (for R2 being Ordinal holds ((R2 in ( succ C142 ) & R2 <> ( {} ) & R2 is  limit_ordinal) implies ( R3 . R2 ) = H1(R2 , ( R3 | R2 ))))))) implies B148 = B149))) from ORDINAL2:sch 7;
end;
end;
theorem
L548: (for B150 being non  empty set holds ( ConsecutiveSet2 (B150 , ( {} )) ) = B150)
proof
deffunc H3(set , T-Sequence) = ( union ( rng $2 ) );
deffunc H4(Ordinal , set) = ( new_set2 $2 );
let C143 being non  empty set;
deffunc H5(Ordinal) = ( ConsecutiveSet2 (C143 , $1) );
L549: (for B151 being Ordinal holds (for B152 being set holds (B152 = H5(B151) iff (ex B153 being T-Sequence st (B152 = ( last B153 ) & ( dom B153 ) = ( succ B151 ) & ( B153 . ( {} ) ) = C143 & (for B154 being Ordinal holds (( succ B154 ) in ( succ B151 ) implies ( B153 . ( succ B154 ) ) = H4(B154 , ( B153 . B154 )))) & (for B155 being Ordinal holds ((B155 in ( succ B151 ) & B155 <> ( {} ) & B155 is  limit_ordinal) implies ( B153 . B155 ) = H3(B155 , ( B153 | B155 ))))))))) by L545;
thus L550: H5(( {} )) = C143 from ORDINAL2:sch 8(L549);
end;
theorem
L551: (for B156 being non  empty set holds (for B157 being Ordinal holds ( ConsecutiveSet2 (B156 , ( succ B157 )) ) = ( new_set2 ( ConsecutiveSet2 (B156 , B157) ) )))
proof
deffunc H6(set , T-Sequence) = ( union ( rng $2 ) );
deffunc H7(Ordinal , set) = ( new_set2 $2 );
let C144 being non  empty set;
let C145 being Ordinal;
deffunc H8(Ordinal) = ( ConsecutiveSet2 (C144 , $1) );
L552: (for B158 being Ordinal holds (for B159 being set holds (B159 = H8(B158) iff (ex B160 being T-Sequence st (B159 = ( last B160 ) & ( dom B160 ) = ( succ B158 ) & ( B160 . ( {} ) ) = C144 & (for B161 being Ordinal holds (( succ B161 ) in ( succ B158 ) implies ( B160 . ( succ B161 ) ) = H7(B161 , ( B160 . B161 )))) & (for B162 being Ordinal holds ((B162 in ( succ B158 ) & B162 <> ( {} ) & B162 is  limit_ordinal) implies ( B160 . B162 ) = H6(B162 , ( B160 | B162 ))))))))) by L545;
L553: (for B163 being Ordinal holds H8(( succ B163 )) = H7(B163 , H8(B163))) from ORDINAL2:sch 9(L552);
thus L554: thesis by L553;
end;
theorem
L555: (for B164 being non  empty set holds (for B165 being Ordinal holds (for B166 being T-Sequence holds ((B165 <> ( {} ) & B165 is  limit_ordinal & ( dom B166 ) = B165 & (for B167 being Ordinal holds (B167 in B165 implies ( B166 . B167 ) = ( ConsecutiveSet2 (B164 , B167) )))) implies ( ConsecutiveSet2 (B164 , B165) ) = ( union ( rng B166 ) )))))
proof
deffunc H9(set , T-Sequence) = ( union ( rng $2 ) );
deffunc H10(Ordinal , set) = ( new_set2 $2 );
let C146 being non  empty set;
let C147 being Ordinal;
let C148 being T-Sequence;
deffunc H11(Ordinal) = ( ConsecutiveSet2 (C146 , $1) );
assume that
L556: (C147 <> ( {} ) & C147 is  limit_ordinal)
and
L557: ( dom C148 ) = C147
and
L558: (for B168 being Ordinal holds (B168 in C147 implies ( C148 . B168 ) = H11(B168)));
L559: (for B169 being Ordinal holds (for B170 being set holds (B170 = H11(B169) iff (ex B171 being T-Sequence st (B170 = ( last B171 ) & ( dom B171 ) = ( succ B169 ) & ( B171 . ( {} ) ) = C146 & (for B172 being Ordinal holds (( succ B172 ) in ( succ B169 ) implies ( B171 . ( succ B172 ) ) = H10(B172 , ( B171 . B172 )))) & (for B173 being Ordinal holds ((B173 in ( succ B169 ) & B173 <> ( {} ) & B173 is  limit_ordinal) implies ( B171 . B173 ) = H9(B173 , ( B171 | B173 ))))))))) by L545;
thus L560: H11(C147) = H9(C147 , C148) from ORDINAL2:sch 10(L559 , L556 , L557 , L558);
end;
registration
let C149 being non  empty set;
let C150 being Ordinal;
cluster ( ConsecutiveSet2 (C149 , C150) ) -> non  empty;
coherence
proof
defpred S2[ Ordinal ] means ( ConsecutiveSet2 (C149 , $1) ) is non  empty;
L561: (for B174 being Ordinal holds (S2[ B174 ] implies S2[ ( succ B174 ) ]))
proof
let C151 being Ordinal;
assume L562: ( ConsecutiveSet2 (C149 , C151) ) is non  empty;
L563: ( ConsecutiveSet2 (C149 , ( succ C151 )) ) = ( new_set2 ( ConsecutiveSet2 (C149 , C151) ) ) by L551;
thus L564: thesis by L563;
end;
L565: (for R4 being Ordinal holds ((R4 <> ( {} ) & R4 is  limit_ordinal & (for R5 being Ordinal holds (R5 in R4 implies S2[ R5 ]))) implies S2[ R4 ]))
proof
deffunc H12(Ordinal) = ( ConsecutiveSet2 (C149 , $1) );
let C152 being Ordinal;
assume that
L566: C152 <> ( {} )
and
L567: C152 is  limit_ordinal
and
L568: (for B175 being Ordinal holds (B175 in C152 implies ( ConsecutiveSet2 (C149 , B175) ) is non  empty));
L569: ( {} ) in C152 by L566 , ORDINAL3:8;
consider C153 being T-Sequence such that L570: (( dom C153 ) = C152 & (for B176 being Ordinal holds (B176 in C152 implies ( C153 . B176 ) = H12(B176)))) from ORDINAL2:sch 2;
L571: ( C153 . ( {} ) ) = ( ConsecutiveSet2 (C149 , ( {} )) ) by L566 , L570 , ORDINAL3:8
.= C149 by L548;
L572: C149 in ( rng C153 ) by L571 , L570 , L569 , FUNCT_1:def 3;
L573: ( ConsecutiveSet2 (C149 , C152) ) = ( union ( rng C153 ) ) by L566 , L567 , L570 , L555;
L574: C149 c= ( ConsecutiveSet2 (C149 , C152) ) by L573 , L572 , ZFMISC_1:74;
thus L575: thesis by L574;
end;
L576: S2[ ( {} ) ] by L548;
L577: (for B177 being Ordinal holds S2[ B177 ]) from ORDINAL2:sch 1(L576 , L561 , L565);
thus L578: thesis by L577;
end;
end;
theorem
L580: (for B178 being non  empty set holds (for B179 being Ordinal holds B178 c= ( ConsecutiveSet2 (B178 , B179) )))
proof
let C154 being non  empty set;
let C155 being Ordinal;
defpred S3[ Ordinal ] means C154 c= ( ConsecutiveSet2 (C154 , $1) );
L581: (for B180 being Ordinal holds (S3[ B180 ] implies S3[ ( succ B180 ) ]))
proof
let C156 being Ordinal;
L582: ( ConsecutiveSet2 (C154 , ( succ C156 )) ) = ( new_set2 ( ConsecutiveSet2 (C154 , C156) ) ) by L551;
L583: ( ConsecutiveSet2 (C154 , C156) ) c= ( ConsecutiveSet2 (C154 , ( succ C156 )) ) by L582 , XBOOLE_1:7;
assume L584: C154 c= ( ConsecutiveSet2 (C154 , C156) );
thus L585: thesis by L584 , L583 , XBOOLE_1:1;
end;
L586: (for R4 being Ordinal holds ((R4 <> ( {} ) & R4 is  limit_ordinal & (for R5 being Ordinal holds (R5 in R4 implies S3[ R5 ]))) implies S3[ R4 ]))
proof
deffunc H13(Ordinal) = ( ConsecutiveSet2 (C154 , $1) );
let C157 being Ordinal;
assume that
L587: C157 <> ( {} )
and
L588: C157 is  limit_ordinal
and
L589: (for B181 being Ordinal holds (B181 in C157 implies C154 c= ( ConsecutiveSet2 (C154 , B181) )));
L590: ( {} ) in C157 by L587 , ORDINAL3:8;
consider C158 being T-Sequence such that L591: (( dom C158 ) = C157 & (for B182 being Ordinal holds (B182 in C157 implies ( C158 . B182 ) = H13(B182)))) from ORDINAL2:sch 2;
L592: ( C158 . ( {} ) ) = ( ConsecutiveSet2 (C154 , ( {} )) ) by L587 , L591 , ORDINAL3:8
.= C154 by L548;
L593: C154 in ( rng C158 ) by L592 , L591 , L590 , FUNCT_1:def 3;
L594: ( ConsecutiveSet2 (C154 , C157) ) = ( union ( rng C158 ) ) by L587 , L588 , L591 , L555;
thus L595: thesis by L594 , L593 , ZFMISC_1:74;
end;
L596: S3[ ( {} ) ] by L548;
L597: (for B183 being Ordinal holds S3[ B183 ]) from ORDINAL2:sch 1(L596 , L581 , L586);
thus L598: thesis by L597;
end;
definition
let C159 being non  empty set;
let C160 being  lower-bounded LATTICE;
let C161 being (BiFunction of C159 , C160);
let C162 being (QuadrSeq of C161);
let C163 being Ordinal;
assume L599: C163 in ( dom C162 );
func Quadr2 (C162 , C163) -> (Element of [: ( ConsecutiveSet2 (C159 , C163) ) , ( ConsecutiveSet2 (C159 , C163) ) , (the carrier of C160) , (the carrier of C160) :]) equals 
:L600: ( C162 . C163 );
correctness
proof
L601: ( C162 . C163 ) in ( rng C162 ) by L599 , FUNCT_1:def 3;
L602: ( C162 . C163 ) in { [ B184 , B185 , B186 , B187 ] where B184 is (Element of C159) , B185 is (Element of C159) , B186 is (Element of C160) , B187 is (Element of C160) : ( C161 . (B184 , B185) ) <= ( B186 "\/" B187 ) } by L601 , LATTICE5:def 13;
consider C164 , C165 being (Element of C159), C166 , C167 being (Element of C160) such that L603: ( C162 . C163 ) = [ C164 , C165 , C166 , C167 ] and L604: ( C161 . (C164 , C165) ) <= ( C166 "\/" C167 ) by L602;
reconsider D98 = C166 , D99 = C167 as (Element of C160);
L605: (C164 in C159 & C165 in C159);
L606: C159 c= ( ConsecutiveSet2 (C159 , C163) ) by L580;
reconsider D100 = C164 , D101 = C165 as (Element of ( ConsecutiveSet2 (C159 , C163) )) by L606 , L605;
reconsider D102 = [ D100 , D101 , D98 , D99 ] as (Element of [: ( ConsecutiveSet2 (C159 , C163) ) , ( ConsecutiveSet2 (C159 , C163) ) , (the carrier of C160) , (the carrier of C160) :]);
L607: D102 = ( C162 . C163 ) by L603;
thus L608: thesis by L607;
end;
end;
definition
let C168 being non  empty set;
let C169 being  lower-bounded LATTICE;
let C170 being (BiFunction of C168 , C169);
let C171 being (QuadrSeq of C170);
let C172 being Ordinal;
func ConsecutiveDelta2 (C171 , C172) means 
:L610: (ex B188 being T-Sequence st (it = ( last B188 ) & ( dom B188 ) = ( succ C172 ) & ( B188 . ( {} ) ) = C170 & (for B189 being Ordinal holds (( succ B189 ) in ( succ C172 ) implies ( B188 . ( succ B189 ) ) = ( new_bi_fun2 (( BiFun (( B188 . B189 ) , ( ConsecutiveSet2 (C168 , B189) ) , C169) ) , ( Quadr2 (C171 , B189) )) ))) & (for B190 being Ordinal holds ((B190 in ( succ C172 ) & B190 <> ( {} ) & B190 is  limit_ordinal) implies ( B188 . B190 ) = ( union ( rng ( B188 | B190 ) ) )))));
correctness
proof
deffunc H14(set , T-Sequence) = ( union ( rng $2 ) );
deffunc H15(Ordinal , set) = ( new_bi_fun2 (( BiFun ($2 , ( ConsecutiveSet2 (C168 , $1) ) , C169) ) , ( Quadr2 (C171 , $1) )) );
thus L611: ((ex R1 being set st (ex R3 being T-Sequence st (R1 = ( last R3 ) & ( dom R3 ) = ( succ C172 ) & ( R3 . ( {} ) ) = C170 & (for R2 being Ordinal holds (( succ R2 ) in ( succ C172 ) implies ( R3 . ( succ R2 ) ) = H15(R2 , ( R3 . R2 )))) & (for R2 being Ordinal holds ((R2 in ( succ C172 ) & R2 <> ( {} ) & R2 is  limit_ordinal) implies ( R3 . R2 ) = H14(R2 , ( R3 | R2 ))))))) & (for B191 , B192 being set holds (((ex R3 being T-Sequence st (B191 = ( last R3 ) & ( dom R3 ) = ( succ C172 ) & ( R3 . ( {} ) ) = C170 & (for R2 being Ordinal holds (( succ R2 ) in ( succ C172 ) implies ( R3 . ( succ R2 ) ) = H15(R2 , ( R3 . R2 )))) & (for R2 being Ordinal holds ((R2 in ( succ C172 ) & R2 <> ( {} ) & R2 is  limit_ordinal) implies ( R3 . R2 ) = H14(R2 , ( R3 | R2 )))))) & (ex R3 being T-Sequence st (B192 = ( last R3 ) & ( dom R3 ) = ( succ C172 ) & ( R3 . ( {} ) ) = C170 & (for R2 being Ordinal holds (( succ R2 ) in ( succ C172 ) implies ( R3 . ( succ R2 ) ) = H15(R2 , ( R3 . R2 )))) & (for R2 being Ordinal holds ((R2 in ( succ C172 ) & R2 <> ( {} ) & R2 is  limit_ordinal) implies ( R3 . R2 ) = H14(R2 , ( R3 | R2 ))))))) implies B191 = B192))) from ORDINAL2:sch 7;
end;
end;
theorem
L613: (for B193 being non  empty set holds (for B194 being  lower-bounded LATTICE holds (for B195 being (BiFunction of B193 , B194) holds (for B196 being (QuadrSeq of B195) holds ( ConsecutiveDelta2 (B196 , ( {} )) ) = B195))))
proof
deffunc H16(set , T-Sequence) = ( union ( rng $2 ) );
let C173 being non  empty set;
let C174 being  lower-bounded LATTICE;
let C175 being (BiFunction of C173 , C174);
let C176 being (QuadrSeq of C175);
deffunc H17(Ordinal , set) = ( new_bi_fun2 (( BiFun ($2 , ( ConsecutiveSet2 (C173 , $1) ) , C174) ) , ( Quadr2 (C176 , $1) )) );
deffunc H18(Ordinal) = ( ConsecutiveDelta2 (C176 , $1) );
L614: (for B197 being Ordinal holds (for B198 being set holds (B198 = H18(B197) iff (ex B199 being T-Sequence st (B198 = ( last B199 ) & ( dom B199 ) = ( succ B197 ) & ( B199 . ( {} ) ) = C175 & (for B200 being Ordinal holds (( succ B200 ) in ( succ B197 ) implies ( B199 . ( succ B200 ) ) = H17(B200 , ( B199 . B200 )))) & (for B201 being Ordinal holds ((B201 in ( succ B197 ) & B201 <> ( {} ) & B201 is  limit_ordinal) implies ( B199 . B201 ) = H16(B201 , ( B199 | B201 ))))))))) by L610;
thus L615: H18(( {} )) = C175 from ORDINAL2:sch 8(L614);
end;
theorem
L616: (for B202 being non  empty set holds (for B203 being  lower-bounded LATTICE holds (for B204 being (BiFunction of B202 , B203) holds (for B205 being (QuadrSeq of B204) holds (for B206 being Ordinal holds ( ConsecutiveDelta2 (B205 , ( succ B206 )) ) = ( new_bi_fun2 (( BiFun (( ConsecutiveDelta2 (B205 , B206) ) , ( ConsecutiveSet2 (B202 , B206) ) , B203) ) , ( Quadr2 (B205 , B206) )) ))))))
proof
deffunc H19(set , T-Sequence) = ( union ( rng $2 ) );
let C177 being non  empty set;
let C178 being  lower-bounded LATTICE;
let C179 being (BiFunction of C177 , C178);
let C180 being (QuadrSeq of C179);
let C181 being Ordinal;
deffunc H20(Ordinal , set) = ( new_bi_fun2 (( BiFun ($2 , ( ConsecutiveSet2 (C177 , $1) ) , C178) ) , ( Quadr2 (C180 , $1) )) );
deffunc H21(Ordinal) = ( ConsecutiveDelta2 (C180 , $1) );
L617: (for B207 being Ordinal holds (for B208 being set holds (B208 = H21(B207) iff (ex B209 being T-Sequence st (B208 = ( last B209 ) & ( dom B209 ) = ( succ B207 ) & ( B209 . ( {} ) ) = C179 & (for B210 being Ordinal holds (( succ B210 ) in ( succ B207 ) implies ( B209 . ( succ B210 ) ) = H20(B210 , ( B209 . B210 )))) & (for B211 being Ordinal holds ((B211 in ( succ B207 ) & B211 <> ( {} ) & B211 is  limit_ordinal) implies ( B209 . B211 ) = H19(B211 , ( B209 | B211 ))))))))) by L610;
L618: (for B212 being Ordinal holds H21(( succ B212 )) = H20(B212 , H21(B212))) from ORDINAL2:sch 9(L617);
thus L619: thesis by L618;
end;
theorem
L620: (for B213 being non  empty set holds (for B214 being  lower-bounded LATTICE holds (for B215 being (BiFunction of B213 , B214) holds (for B216 being (QuadrSeq of B215) holds (for B217 being T-Sequence holds (for B218 being Ordinal holds ((B218 <> ( {} ) & B218 is  limit_ordinal & ( dom B217 ) = B218 & (for B219 being Ordinal holds (B219 in B218 implies ( B217 . B219 ) = ( ConsecutiveDelta2 (B216 , B219) )))) implies ( ConsecutiveDelta2 (B216 , B218) ) = ( union ( rng B217 ) ))))))))
proof
deffunc H22(set , T-Sequence) = ( union ( rng $2 ) );
let C182 being non  empty set;
let C183 being  lower-bounded LATTICE;
let C184 being (BiFunction of C182 , C183);
let C185 being (QuadrSeq of C184);
let C186 being T-Sequence;
let C187 being Ordinal;
deffunc H23(Ordinal , set) = ( new_bi_fun2 (( BiFun ($2 , ( ConsecutiveSet2 (C182 , $1) ) , C183) ) , ( Quadr2 (C185 , $1) )) );
deffunc H24(Ordinal) = ( ConsecutiveDelta2 (C185 , $1) );
assume that
L621: (C187 <> ( {} ) & C187 is  limit_ordinal)
and
L622: ( dom C186 ) = C187
and
L623: (for B220 being Ordinal holds (B220 in C187 implies ( C186 . B220 ) = H24(B220)));
L624: (for B221 being Ordinal holds (for B222 being set holds (B222 = H24(B221) iff (ex B223 being T-Sequence st (B222 = ( last B223 ) & ( dom B223 ) = ( succ B221 ) & ( B223 . ( {} ) ) = C184 & (for B224 being Ordinal holds (( succ B224 ) in ( succ B221 ) implies ( B223 . ( succ B224 ) ) = H23(B224 , ( B223 . B224 )))) & (for B225 being Ordinal holds ((B225 in ( succ B221 ) & B225 <> ( {} ) & B225 is  limit_ordinal) implies ( B223 . B225 ) = H22(B225 , ( B223 | B225 ))))))))) by L610;
thus L625: H24(C187) = H22(C187 , C186) from ORDINAL2:sch 10(L624 , L621 , L622 , L623);
end;
theorem
L626: (for B226 being non  empty set holds (for B227 , B228 , B229 being Ordinal holds (B228 c= B229 implies ( ConsecutiveSet2 (B226 , B228) ) c= ( ConsecutiveSet2 (B226 , B229) ))))
proof
let C188 being non  empty set;
let C189 , C190 , C191 being Ordinal;
defpred S4[ Ordinal ] means (C190 c= $1 implies ( ConsecutiveSet2 (C188 , C190) ) c= ( ConsecutiveSet2 (C188 , $1) ));
L627: (for B230 being Ordinal holds (S4[ B230 ] implies S4[ ( succ B230 ) ]))
proof
let C192 being Ordinal;
assume L628: (C190 c= C192 implies ( ConsecutiveSet2 (C188 , C190) ) c= ( ConsecutiveSet2 (C188 , C192) ));
assume L629: C190 c= ( succ C192 );
per cases ;
suppose L630: C190 = ( succ C192 );

thus L631: thesis by L630;
end;
suppose L632: C190 <> ( succ C192 );

L633: C190 c< ( succ C192 ) by L632 , L629 , XBOOLE_0:def 8;
L634: C190 in ( succ C192 ) by L633 , ORDINAL1:11;
L635: ( ConsecutiveSet2 (C188 , C192) ) c= ( new_set2 ( ConsecutiveSet2 (C188 , C192) ) ) by XBOOLE_1:7;
L636: ( ConsecutiveSet2 (C188 , C190) ) c= ( new_set2 ( ConsecutiveSet2 (C188 , C192) ) ) by L635 , L628 , L634 , ORDINAL1:22 , XBOOLE_1:1;
thus L637: thesis by L636 , L551;
end;
end;
L639: (for R4 being Ordinal holds ((R4 <> ( {} ) & R4 is  limit_ordinal & (for R5 being Ordinal holds (R5 in R4 implies S4[ R5 ]))) implies S4[ R4 ]))
proof
deffunc H25(Ordinal) = ( ConsecutiveSet2 (C188 , $1) );
let C193 being Ordinal;
assume that
L640: (C193 <> ( {} ) & C193 is  limit_ordinal)
and
L641: (for B231 being Ordinal holds (B231 in C193 implies (C190 c= B231 implies ( ConsecutiveSet2 (C188 , C190) ) c= ( ConsecutiveSet2 (C188 , B231) ))));
consider C194 being T-Sequence such that L642: (( dom C194 ) = C193 & (for B232 being Ordinal holds (B232 in C193 implies ( C194 . B232 ) = H25(B232)))) from ORDINAL2:sch 2;
L643: ( ConsecutiveSet2 (C188 , C193) ) = ( union ( rng C194 ) ) by L640 , L642 , L555;
assume L644: C190 c= C193;
per cases ;
suppose L645: C190 = C193;

thus L646: thesis by L645;
end;
suppose L647: C190 <> C193;

L648: C190 c< C193 by L647 , L644 , XBOOLE_0:def 8;
L649: C190 in C193 by L648 , ORDINAL1:11;
L650: ( C194 . C190 ) in ( rng C194 ) by L649 , L642 , FUNCT_1:def 3;
L651: ( C194 . C190 ) = ( ConsecutiveSet2 (C188 , C190) ) by L642 , L648 , ORDINAL1:11;
thus L652: thesis by L651 , L643 , L650 , ZFMISC_1:74;
end;
end;
L654: S4[ ( {} ) ];
L655: (for B233 being Ordinal holds S4[ B233 ]) from ORDINAL2:sch 1(L654 , L627 , L639);
thus L656: thesis by L655;
end;
theorem
L657: (for B234 being non  empty set holds (for B235 being  lower-bounded LATTICE holds (for B236 being (BiFunction of B234 , B235) holds (for B237 being (QuadrSeq of B236) holds (for B238 being Ordinal holds ( ConsecutiveDelta2 (B237 , B238) ) is (BiFunction of ( ConsecutiveSet2 (B234 , B238) ) , B235))))))
proof
let C195 being non  empty set;
let C196 being  lower-bounded LATTICE;
let C197 being (BiFunction of C195 , C196);
let C198 being (QuadrSeq of C197);
let C199 being Ordinal;
defpred S5[ Ordinal ] means ( ConsecutiveDelta2 (C198 , $1) ) is (BiFunction of ( ConsecutiveSet2 (C195 , $1) ) , C196);
L658: (for B239 being Ordinal holds (S5[ B239 ] implies S5[ ( succ B239 ) ]))
proof
let C200 being Ordinal;
assume L659: ( ConsecutiveDelta2 (C198 , C200) ) is (BiFunction of ( ConsecutiveSet2 (C195 , C200) ) , C196);
reconsider D103 = ( ConsecutiveDelta2 (C198 , C200) ) as (BiFunction of ( ConsecutiveSet2 (C195 , C200) ) , C196) by L659;
L660: ( ConsecutiveDelta2 (C198 , ( succ C200 )) ) = ( new_bi_fun2 (( BiFun (( ConsecutiveDelta2 (C198 , C200) ) , ( ConsecutiveSet2 (C195 , C200) ) , C196) ) , ( Quadr2 (C198 , C200) )) ) by L616
.= ( new_bi_fun2 (D103 , ( Quadr2 (C198 , C200) )) ) by LATTICE5:def 15;
L661: ( ConsecutiveSet2 (C195 , ( succ C200 )) ) = ( new_set2 ( ConsecutiveSet2 (C195 , C200) ) ) by L551;
thus L662: thesis by L661 , L660;
end;
L663: (for R4 being Ordinal holds ((R4 <> ( {} ) & R4 is  limit_ordinal & (for R5 being Ordinal holds (R5 in R4 implies S5[ R5 ]))) implies S5[ R4 ]))
proof
deffunc H26(Ordinal) = ( ConsecutiveDelta2 (C198 , $1) );
let C201 being Ordinal;
assume that
L664: C201 <> ( {} )
and
L665: C201 is  limit_ordinal
and
L666: (for B240 being Ordinal holds (B240 in C201 implies ( ConsecutiveDelta2 (C198 , B240) ) is (BiFunction of ( ConsecutiveSet2 (C195 , B240) ) , C196)));
reconsider D104 = C201 as non  empty Ordinal by L664;
set D105 = { [: ( ConsecutiveSet2 (C195 , B241) ) , ( ConsecutiveSet2 (C195 , B241) ) :] where B241 is (Element of D104) : (not contradiction) };
consider C202 being T-Sequence such that L667: (( dom C202 ) = C201 & (for B242 being Ordinal holds (B242 in C201 implies ( C202 . B242 ) = H26(B242)))) from ORDINAL2:sch 2;
L668: (for B243 , B244 being Ordinal holds ((B243 c= B244 & B244 in ( dom C202 )) implies ( C202 . B243 ) c= ( C202 . B244 )))
proof
let C203 being Ordinal;
defpred S6[ Ordinal ] means ((C203 c= $1 & $1 in ( dom C202 )) implies ( C202 . C203 ) c= ( C202 . $1 ));
L669: (for R4 being Ordinal holds ((R4 <> ( {} ) & R4 is  limit_ordinal & (for R5 being Ordinal holds (R5 in R4 implies S6[ R5 ]))) implies S6[ R4 ]))
proof
deffunc H27(Ordinal) = ( ConsecutiveDelta2 (C198 , $1) );
let C204 being Ordinal;
assume that
L670: (C204 <> ( {} ) & C204 is  limit_ordinal)
and
L671: (for B245 being Ordinal holds (B245 in C204 implies ((C203 c= B245 & B245 in ( dom C202 )) implies ( C202 . C203 ) c= ( C202 . B245 ))));
assume that
L672: C203 c= C204
and
L673: C204 in ( dom C202 );
consider C205 being T-Sequence such that L674: (( dom C205 ) = C204 & (for B246 being Ordinal holds (B246 in C204 implies ( C205 . B246 ) = H27(B246)))) from ORDINAL2:sch 2;
L675: ( C202 . C204 ) = ( ConsecutiveDelta2 (C198 , C204) ) by L667 , L673
.= ( union ( rng C205 ) ) by L670 , L674 , L620;
per cases ;
suppose L676: C203 = C204;

thus L677: thesis by L676;
end;
suppose L678: C203 <> C204;

L679: C203 c< C204 by L678 , L672 , XBOOLE_0:def 8;
L680: C203 in C204 by L679 , ORDINAL1:11;
L681: ( C202 . C203 ) = ( ConsecutiveDelta2 (C198 , C203) ) by L680 , L667 , L673 , ORDINAL1:10
.= ( C205 . C203 ) by L674 , L679 , ORDINAL1:11;
L682: ( C202 . C203 ) in ( rng C205 ) by L681 , L674 , L680 , FUNCT_1:def 3;
thus L683: thesis by L682 , L675 , ZFMISC_1:74;
end;
end;
L685: (for B247 being Ordinal holds (S6[ B247 ] implies S6[ ( succ B247 ) ]))
proof
let C206 being Ordinal;
assume L686: ((C203 c= C206 & C206 in ( dom C202 )) implies ( C202 . C203 ) c= ( C202 . C206 ));
assume that
L687: C203 c= ( succ C206 )
and
L688: ( succ C206 ) in ( dom C202 );
per cases ;
suppose L689: C203 = ( succ C206 );

thus L690: thesis by L689;
end;
suppose L691: C203 <> ( succ C206 );

L692: C203 c< ( succ C206 ) by L691 , L687 , XBOOLE_0:def 8;
L693: C203 in ( succ C206 ) by L692 , ORDINAL1:11;
L694: C206 in ( succ C206 ) by ORDINAL1:6;
L695: C206 in ( dom C202 ) by L694 , L688 , ORDINAL1:10;
reconsider D106 = ( ConsecutiveDelta2 (C198 , C206) ) as (BiFunction of ( ConsecutiveSet2 (C195 , C206) ) , C196) by L695 , L666 , L667;
L696: ( C202 . ( succ C206 ) ) = ( ConsecutiveDelta2 (C198 , ( succ C206 )) ) by L667 , L688
.= ( new_bi_fun2 (( BiFun (( ConsecutiveDelta2 (C198 , C206) ) , ( ConsecutiveSet2 (C195 , C206) ) , C196) ) , ( Quadr2 (C198 , C206) )) ) by L616
.= ( new_bi_fun2 (D106 , ( Quadr2 (C198 , C206) )) ) by LATTICE5:def 15;
L697: ( ConsecutiveDelta2 (C198 , C206) ) c= ( C202 . ( succ C206 ) ) by L696 , L535;
L698: ( C202 . C206 ) c= ( C202 . ( succ C206 ) ) by L697 , L667 , L688 , L694 , ORDINAL1:10;
thus L699: thesis by L698 , L686 , L688 , L693 , L694 , ORDINAL1:10 , ORDINAL1:22 , XBOOLE_1:1;
end;
end;
L701: S6[ ( {} ) ];
thus L702: (for B248 being Ordinal holds S6[ B248 ]) from ORDINAL2:sch 1(L701 , L685 , L669);
end;
L703: (for B249 , B250 being set holds ((B249 in ( rng C202 ) & B250 in ( rng C202 )) implies B249 , B250 are_c=-comparable ))
proof
let C207 , C208 being set;
assume that
L704: C207 in ( rng C202 )
and
L705: C208 in ( rng C202 );
consider C209 being set such that L706: C209 in ( dom C202 ) and L707: ( C202 . C209 ) = C207 by L704 , FUNCT_1:def 3;
consider C210 being set such that L708: C210 in ( dom C202 ) and L709: ( C202 . C210 ) = C208 by L705 , FUNCT_1:def 3;
reconsider D107 = C209 , D108 = C210 as Ordinal by L706 , L708;
L710: (D107 c= D108 or D108 c= D107);
L711: (C207 c= C208 or C208 c= C207) by L710 , L668 , L706 , L707 , L708 , L709;
thus L712: thesis by L711 , XBOOLE_0:def 9;
end;
L713: ( rng C202 ) is  c=-linear by L703 , ORDINAL1:def 8;
set D109 = (the carrier of C196);
set D110 = [: ( ConsecutiveSet2 (C195 , C201) ) , ( ConsecutiveSet2 (C195 , C201) ) :];
set D111 = ( union ( rng C202 ) );
L714: ( rng C202 ) c= ( PFuncs (D110 , D109) )
proof
let C211 being set;
assume L715: C211 in ( rng C202 );
consider C212 being set such that L716: C212 in ( dom C202 ) and L717: C211 = ( C202 . C212 ) by L715 , FUNCT_1:def 3;
reconsider D112 = C212 as Ordinal by L716;
L718: ( C202 . D112 ) = ( ConsecutiveDelta2 (C198 , D112) ) by L667 , L716;
reconsider D113 = ( C202 . D112 ) as (BiFunction of ( ConsecutiveSet2 (C195 , D112) ) , C196) by L718 , L666 , L667 , L716;
L719: D112 c= C201 by L667 , L716 , ORDINAL1:def 2;
L720: (( dom D113 ) = [: ( ConsecutiveSet2 (C195 , D112) ) , ( ConsecutiveSet2 (C195 , D112) ) :] & ( ConsecutiveSet2 (C195 , D112) ) c= ( ConsecutiveSet2 (C195 , C201) )) by L719 , L626 , FUNCT_2:def 1;
L721: (( rng D113 ) c= D109 & ( dom D113 ) c= D110) by L720 , ZFMISC_1:96;
thus L722: thesis by L721 , L717 , PARTFUN1:def 3;
end;
L723: D111 in ( PFuncs (D110 , D109) ) by L714 , L713 , TREES_2:40;
L724: (ex B251 being Function st (D111 = B251 & ( dom B251 ) c= D110 & ( rng B251 ) c= D109)) by L723 , PARTFUN1:def 3;
L725: C202 is  Function-yielding
proof
let C213 being set;
assume L726: C213 in ( dom C202 );
reconsider D114 = C213 as Ordinal by L726;
L727: ( C202 . D114 ) = ( ConsecutiveDelta2 (C198 , D114) ) by L667 , L726;
thus L728: thesis by L727 , L666 , L667 , L726;
end;
reconsider D115 = C202 as  Function-yielding Function by L725;
L729: ( rng ( doms C202 ) ) = D105
proof
thus L730: ( rng ( doms C202 ) ) c= D105
proof
let C214 being set;
assume L731: C214 in ( rng ( doms C202 ) );
consider C215 being set such that L732: C215 in ( dom ( doms C202 ) ) and L733: C214 = ( ( doms C202 ) . C215 ) by L731 , FUNCT_1:def 3;
L734: C215 in ( dom D115 ) by L732 , FUNCT_6:59;
reconsider D116 = C215 as (Element of D104) by L734 , L667;
L735: ( C202 . D116 ) = ( ConsecutiveDelta2 (C198 , D116) ) by L667;
reconsider D117 = ( C202 . D116 ) as (BiFunction of ( ConsecutiveSet2 (C195 , D116) ) , C196) by L735 , L666;
L736: C214 = ( dom D117 ) by L733 , L734 , FUNCT_6:22
.= [: ( ConsecutiveSet2 (C195 , D116) ) , ( ConsecutiveSet2 (C195 , D116) ) :] by FUNCT_2:def 1;
thus L737: thesis by L736;
end;

let C216 being set;
assume L738: C216 in D105;
consider C217 being (Element of D104) such that L739: C216 = [: ( ConsecutiveSet2 (C195 , C217) ) , ( ConsecutiveSet2 (C195 , C217) ) :] by L738;
L740: ( C202 . C217 ) = ( ConsecutiveDelta2 (C198 , C217) ) by L667;
reconsider D118 = ( C202 . C217 ) as (BiFunction of ( ConsecutiveSet2 (C195 , C217) ) , C196) by L740 , L666;
L741: C217 in ( dom D115 ) by L667;
L742: C217 in ( dom ( doms D115 ) ) by L741 , FUNCT_6:59;
L743: C216 = ( dom D118 ) by L739 , FUNCT_2:def 1
.= ( ( doms C202 ) . C217 ) by L667 , FUNCT_6:22;
thus L744: thesis by L743 , L742 , FUNCT_1:def 3;
end;
L745: ( ConsecutiveDelta2 (C198 , C201) ) = ( union ( rng C202 ) ) by L664 , L665 , L667 , L620;
reconsider D119 = D111 as Function by L724;
deffunc H28(Ordinal) = ( ConsecutiveSet2 (C195 , $1) );
consider C218 being T-Sequence such that L746: (( dom C218 ) = C201 & (for B252 being Ordinal holds (B252 in C201 implies ( C218 . B252 ) = H28(B252)))) from ORDINAL2:sch 2;
L747: ( {} ) in C201 by L664 , ORDINAL3:8;
reconsider D120 = ( rng C218 ) as non  empty set by L747 , L746 , FUNCT_1:3;
L748: D105 = { [: B253 , B253 :] where B253 is (Element of D120) : B253 in D120 }
proof
set D121 = { [: B254 , B254 :] where B254 is (Element of D120) : B254 in D120 };
thus L749: D105 c= D121
proof
let C219 being set;
assume L750: C219 in D105;
consider C220 being (Element of D104) such that L751: C219 = [: ( ConsecutiveSet2 (C195 , C220) ) , ( ConsecutiveSet2 (C195 , C220) ) :] by L750;
L752: ( C218 . C220 ) = ( ConsecutiveSet2 (C195 , C220) ) by L746;
reconsider D122 = ( ConsecutiveSet2 (C195 , C220) ) as (Element of D120) by L752 , L746 , FUNCT_1:def 3;
L753: C219 = [: D122 , D122 :] by L751;
thus L754: thesis by L753;
end;

let C221 being set;
assume L755: C221 in D121;
consider C222 being (Element of D120) such that L756: C221 = [: C222 , C222 :] and L757: C222 in D120 by L755;
consider C223 being set such that L758: C223 in ( dom C218 ) and L759: C222 = ( C218 . C223 ) by FUNCT_1:def 3;
reconsider D123 = C223 as Ordinal by L758;
L760: C222 = ( ConsecutiveSet2 (C195 , D123) ) by L746 , L758 , L759;
thus L761: thesis by L760 , L746 , L756 , L758;
end;
L762: (for B255 , B256 being set holds ((B255 in D120 & B256 in D120) implies B255 , B256 are_c=-comparable ))
proof
let C224 , C225 being set;
assume that
L763: C224 in D120
and
L764: C225 in D120;
consider C226 being set such that L765: C226 in ( dom C218 ) and L766: ( C218 . C226 ) = C224 by L763 , FUNCT_1:def 3;
consider C227 being set such that L767: C227 in ( dom C218 ) and L768: ( C218 . C227 ) = C225 by L764 , FUNCT_1:def 3;
reconsider D124 = C226 , D125 = C227 as Ordinal by L765 , L767;
L769: ( C218 . D125 ) = ( ConsecutiveSet2 (C195 , D125) ) by L746 , L767;
L770: (D124 c= D125 or D125 c= D124);
L771: ( C218 . D124 ) = ( ConsecutiveSet2 (C195 , D124) ) by L746 , L765;
L772: (C224 c= C225 or C225 c= C224) by L771 , L766 , L768 , L769 , L770 , L626;
thus L773: thesis by L772 , XBOOLE_0:def 9;
end;
L774: (( dom D119 ) = ( union ( rng ( doms D115 ) ) ) & D120 is  c=-linear) by L762 , LATTICE5:1 , ORDINAL1:def 8;
L775: D110 = [: ( union ( rng C218 ) ) , ( ConsecutiveSet2 (C195 , C201) ) :] by L664 , L665 , L746 , L555
.= [: ( union D120 ) , ( union D120 ) :] by L664 , L665 , L746 , L555
.= ( dom D119 ) by L729 , L774 , L748 , LATTICE5:3;
thus L776: thesis by L775 , L745 , L724 , FUNCT_2:def 1 , RELSET_1:4;
end;
L777: ( ConsecutiveSet2 (C195 , ( {} )) ) = C195 by L548;
L778: S5[ ( {} ) ] by L777 , L613;
L779: (for B257 being Ordinal holds S5[ B257 ]) from ORDINAL2:sch 1(L778 , L658 , L663);
thus L780: thesis by L779;
end;
definition
let C228 being non  empty set;
let C229 being  lower-bounded LATTICE;
let C230 being (BiFunction of C228 , C229);
let C231 being (QuadrSeq of C230);
let C232 being Ordinal;
redefine func ConsecutiveDelta2 (C231 , C232) -> (BiFunction of ( ConsecutiveSet2 (C228 , C232) ) , C229);

coherence by L657;
end;
theorem
L782: (for B258 being non  empty set holds (for B259 being  lower-bounded LATTICE holds (for B260 being (BiFunction of B258 , B259) holds (for B261 being (QuadrSeq of B260) holds (for B262 being Ordinal holds B260 c= ( ConsecutiveDelta2 (B261 , B262) ))))))
proof
let C233 being non  empty set;
let C234 being  lower-bounded LATTICE;
let C235 being (BiFunction of C233 , C234);
let C236 being (QuadrSeq of C235);
let C237 being Ordinal;
defpred S7[ Ordinal ] means C235 c= ( ConsecutiveDelta2 (C236 , $1) );
L783: (for B263 being Ordinal holds (S7[ B263 ] implies S7[ ( succ B263 ) ]))
proof
let C238 being Ordinal;
L784: ( ConsecutiveDelta2 (C236 , ( succ C238 )) ) = ( new_bi_fun2 (( BiFun (( ConsecutiveDelta2 (C236 , C238) ) , ( ConsecutiveSet2 (C233 , C238) ) , C234) ) , ( Quadr2 (C236 , C238) )) ) by L616
.= ( new_bi_fun2 (( ConsecutiveDelta2 (C236 , C238) ) , ( Quadr2 (C236 , C238) )) ) by LATTICE5:def 15;
L785: ( ConsecutiveDelta2 (C236 , C238) ) c= ( ConsecutiveDelta2 (C236 , ( succ C238 )) ) by L784 , L535;
assume L786: C235 c= ( ConsecutiveDelta2 (C236 , C238) );
thus L787: thesis by L786 , L785 , XBOOLE_1:1;
end;
L788: (for R4 being Ordinal holds ((R4 <> ( {} ) & R4 is  limit_ordinal & (for R5 being Ordinal holds (R5 in R4 implies S7[ R5 ]))) implies S7[ R4 ]))
proof
deffunc H29(Ordinal) = ( ConsecutiveDelta2 (C236 , $1) );
let C239 being Ordinal;
assume that
L789: C239 <> ( {} )
and
L790: C239 is  limit_ordinal
and
L791: (for B264 being Ordinal holds (B264 in C239 implies C235 c= ( ConsecutiveDelta2 (C236 , B264) )));
L792: ( {} ) in C239 by L789 , ORDINAL3:8;
consider C240 being T-Sequence such that L793: (( dom C240 ) = C239 & (for B265 being Ordinal holds (B265 in C239 implies ( C240 . B265 ) = H29(B265)))) from ORDINAL2:sch 2;
L794: ( C240 . ( {} ) ) = ( ConsecutiveDelta2 (C236 , ( {} )) ) by L789 , L793 , ORDINAL3:8
.= C235 by L613;
L795: C235 in ( rng C240 ) by L794 , L793 , L792 , FUNCT_1:def 3;
L796: ( ConsecutiveDelta2 (C236 , C239) ) = ( union ( rng C240 ) ) by L789 , L790 , L793 , L620;
thus L797: thesis by L796 , L795 , ZFMISC_1:74;
end;
L798: S7[ ( {} ) ] by L613;
L799: (for B266 being Ordinal holds S7[ B266 ]) from ORDINAL2:sch 1(L798 , L783 , L788);
thus L800: thesis by L799;
end;
theorem
L801: (for B267 being non  empty set holds (for B268 being  lower-bounded LATTICE holds (for B269 being (BiFunction of B267 , B268) holds (for B270 , B271 being Ordinal holds (for B272 being (QuadrSeq of B269) holds (B270 c= B271 implies ( ConsecutiveDelta2 (B272 , B270) ) c= ( ConsecutiveDelta2 (B272 , B271) )))))))
proof
let C241 being non  empty set;
let C242 being  lower-bounded LATTICE;
let C243 being (BiFunction of C241 , C242);
let C244 , C245 being Ordinal;
let C246 being (QuadrSeq of C243);
defpred S8[ Ordinal ] means (C244 c= $1 implies ( ConsecutiveDelta2 (C246 , C244) ) c= ( ConsecutiveDelta2 (C246 , $1) ));
L802: (for R4 being Ordinal holds ((R4 <> ( {} ) & R4 is  limit_ordinal & (for R5 being Ordinal holds (R5 in R4 implies S8[ R5 ]))) implies S8[ R4 ]))
proof
deffunc H30(Ordinal) = ( ConsecutiveDelta2 (C246 , $1) );
let C247 being Ordinal;
assume that
L803: (C247 <> ( {} ) & C247 is  limit_ordinal)
and
L804: (for B273 being Ordinal holds (B273 in C247 implies (C244 c= B273 implies ( ConsecutiveDelta2 (C246 , C244) ) c= ( ConsecutiveDelta2 (C246 , B273) ))));
consider C248 being T-Sequence such that L805: (( dom C248 ) = C247 & (for B274 being Ordinal holds (B274 in C247 implies ( C248 . B274 ) = H30(B274)))) from ORDINAL2:sch 2;
L806: ( ConsecutiveDelta2 (C246 , C247) ) = ( union ( rng C248 ) ) by L803 , L805 , L620;
assume L807: C244 c= C247;
per cases ;
suppose L808: C244 = C247;

thus L809: thesis by L808;
end;
suppose L810: C244 <> C247;

L811: C244 c< C247 by L810 , L807 , XBOOLE_0:def 8;
L812: C244 in C247 by L811 , ORDINAL1:11;
L813: ( C248 . C244 ) in ( rng C248 ) by L812 , L805 , FUNCT_1:def 3;
L814: ( C248 . C244 ) = ( ConsecutiveDelta2 (C246 , C244) ) by L805 , L811 , ORDINAL1:11;
thus L815: thesis by L814 , L806 , L813 , ZFMISC_1:74;
end;
end;
L817: (for B275 being Ordinal holds (S8[ B275 ] implies S8[ ( succ B275 ) ]))
proof
let C249 being Ordinal;
assume L818: (C244 c= C249 implies ( ConsecutiveDelta2 (C246 , C244) ) c= ( ConsecutiveDelta2 (C246 , C249) ));
assume L819: C244 c= ( succ C249 );
per cases ;
suppose L820: C244 = ( succ C249 );

thus L821: thesis by L820;
end;
suppose L822: C244 <> ( succ C249 );

L823: ( ConsecutiveDelta2 (C246 , ( succ C249 )) ) = ( new_bi_fun2 (( BiFun (( ConsecutiveDelta2 (C246 , C249) ) , ( ConsecutiveSet2 (C241 , C249) ) , C242) ) , ( Quadr2 (C246 , C249) )) ) by L616
.= ( new_bi_fun2 (( ConsecutiveDelta2 (C246 , C249) ) , ( Quadr2 (C246 , C249) )) ) by LATTICE5:def 15;
L824: ( ConsecutiveDelta2 (C246 , C249) ) c= ( ConsecutiveDelta2 (C246 , ( succ C249 )) ) by L823 , L535;
L825: C244 c< ( succ C249 ) by L819 , L822 , XBOOLE_0:def 8;
L826: C244 in ( succ C249 ) by L825 , ORDINAL1:11;
thus L827: thesis by L826 , L818 , L824 , ORDINAL1:22 , XBOOLE_1:1;
end;
end;
L829: S8[ ( {} ) ];
L830: (for B276 being Ordinal holds S8[ B276 ]) from ORDINAL2:sch 1(L829 , L817 , L802);
thus L831: thesis by L830;
end;
theorem
L832: (for B277 being non  empty set holds (for B278 being  lower-bounded LATTICE holds (for B279 being (BiFunction of B277 , B278) holds (B279 is  zeroed implies (for B280 being (QuadrSeq of B279) holds (for B281 being Ordinal holds ( ConsecutiveDelta2 (B280 , B281) ) is  zeroed))))))
proof
let C250 being non  empty set;
let C251 being  lower-bounded LATTICE;
let C252 being (BiFunction of C250 , C251);
assume L833: C252 is  zeroed;
let C253 being (QuadrSeq of C252);
let C254 being Ordinal;
defpred S9[ Ordinal ] means ( ConsecutiveDelta2 (C253 , $1) ) is  zeroed;
L834: (for B282 being Ordinal holds (S9[ B282 ] implies S9[ ( succ B282 ) ]))
proof
let C255 being Ordinal;
assume L835: ( ConsecutiveDelta2 (C253 , C255) ) is  zeroed;
L836: ( new_bi_fun2 (( ConsecutiveDelta2 (C253 , C255) ) , ( Quadr2 (C253 , C255) )) ) is  zeroed by L835 , L291;
let C256 being (Element of ( ConsecutiveSet2 (C250 , ( succ C255 )) ));
reconsider D126 = C256 as (Element of ( new_set2 ( ConsecutiveSet2 (C250 , C255) ) )) by L551;
L837: ( ConsecutiveDelta2 (C253 , ( succ C255 )) ) = ( new_bi_fun2 (( BiFun (( ConsecutiveDelta2 (C253 , C255) ) , ( ConsecutiveSet2 (C250 , C255) ) , C251) ) , ( Quadr2 (C253 , C255) )) ) by L616
.= ( new_bi_fun2 (( ConsecutiveDelta2 (C253 , C255) ) , ( Quadr2 (C253 , C255) )) ) by LATTICE5:def 15;
thus L838: ( ( ConsecutiveDelta2 (C253 , ( succ C255 )) ) . (C256 , C256) ) = ( ( new_bi_fun2 (( ConsecutiveDelta2 (C253 , C255) ) , ( Quadr2 (C253 , C255) )) ) . (D126 , D126) ) by L837
.= ( Bottom C251 ) by L836 , LATTICE5:def 6;
end;
L839: (for R4 being Ordinal holds ((R4 <> ( {} ) & R4 is  limit_ordinal & (for R5 being Ordinal holds (R5 in R4 implies S9[ R5 ]))) implies S9[ R4 ]))
proof
deffunc H31(Ordinal) = ( ConsecutiveDelta2 (C253 , $1) );
let C257 being Ordinal;
assume that
L840: (C257 <> ( {} ) & C257 is  limit_ordinal)
and
L841: (for B283 being Ordinal holds (B283 in C257 implies ( ConsecutiveDelta2 (C253 , B283) ) is  zeroed));
set D127 = ( ConsecutiveSet2 (C250 , C257) );
consider C258 being T-Sequence such that L842: (( dom C258 ) = C257 & (for B284 being Ordinal holds (B284 in C257 implies ( C258 . B284 ) = H31(B284)))) from ORDINAL2:sch 2;
L843: ( ConsecutiveDelta2 (C253 , C257) ) = ( union ( rng C258 ) ) by L840 , L842 , L620;
reconsider D128 = ( union ( rng C258 ) ) as (BiFunction of D127 , C251) by L843;
deffunc H32(Ordinal) = ( ConsecutiveSet2 (C250 , $1) );
consider C259 being T-Sequence such that L844: (( dom C259 ) = C257 & (for B285 being Ordinal holds (B285 in C257 implies ( C259 . B285 ) = H32(B285)))) from ORDINAL2:sch 2;
L845: ( ConsecutiveSet2 (C250 , C257) ) = ( union ( rng C259 ) ) by L840 , L844 , L555;
L846: D128 is  zeroed
proof
let C260 being (Element of D127);
consider C261 being set such that L847: C260 in C261 and L848: C261 in ( rng C259 ) by L845 , TARSKI:def 4;
consider C262 being set such that L849: C262 in ( dom C259 ) and L850: C261 = ( C259 . C262 ) by L848 , FUNCT_1:def 3;
reconsider D129 = C262 as Ordinal by L849;
L851: ( C258 . D129 ) = ( ConsecutiveDelta2 (C253 , D129) ) by L842 , L844 , L849;
reconsider D130 = ( C258 . D129 ) as (BiFunction of ( ConsecutiveSet2 (C250 , D129) ) , C251) by L851;
reconsider D131 = C260 as (Element of ( ConsecutiveSet2 (C250 , D129) )) by L844 , L847 , L849 , L850;
L852: ( dom D130 ) = [: ( ConsecutiveSet2 (C250 , D129) ) , ( ConsecutiveSet2 (C250 , D129) ) :] by FUNCT_2:def 1;
L853: D130 is  zeroed
proof
let C263 being (Element of ( ConsecutiveSet2 (C250 , D129) ));
L854: ( ConsecutiveDelta2 (C253 , D129) ) is  zeroed by L841 , L844 , L849;
thus L855: ( D130 . (C263 , C263) ) = ( ( ConsecutiveDelta2 (C253 , D129) ) . (C263 , C263) ) by L842 , L844 , L849
.= ( Bottom C251 ) by L854 , LATTICE5:def 6;
end;
L856: ( ConsecutiveDelta2 (C253 , D129) ) in ( rng C258 ) by L842 , L844 , L849 , L851 , FUNCT_1:def 3;
L857: D130 c= D128 by L856 , L851 , ZFMISC_1:74;
L858: C260 in ( ConsecutiveSet2 (C250 , D129) ) by L844 , L847 , L849 , L850;
L859: [ C260 , C260 ] in ( dom D130 ) by L858 , L852 , ZFMISC_1:87;
thus L860: ( D128 . (C260 , C260) ) = ( D130 . (D131 , D131) ) by L859 , L857 , GRFUNC_1:2
.= ( Bottom C251 ) by L853 , LATTICE5:def 6;
end;
thus L861: thesis by L846 , L840 , L842 , L620;
end;
L862: S9[ ( {} ) ]
proof
let C264 being (Element of ( ConsecutiveSet2 (C250 , ( {} )) ));
reconsider D132 = C264 as (Element of C250) by L548;
thus L863: ( ( ConsecutiveDelta2 (C253 , ( {} )) ) . (C264 , C264) ) = ( C252 . (D132 , D132) ) by L613
.= ( Bottom C251 ) by L833 , LATTICE5:def 6;
end;
L864: (for B286 being Ordinal holds S9[ B286 ]) from ORDINAL2:sch 1(L862 , L834 , L839);
thus L865: thesis by L864;
end;
theorem
L866: (for B287 being non  empty set holds (for B288 being  lower-bounded LATTICE holds (for B289 being (BiFunction of B287 , B288) holds (B289 is  symmetric implies (for B290 being (QuadrSeq of B289) holds (for B291 being Ordinal holds ( ConsecutiveDelta2 (B290 , B291) ) is  symmetric))))))
proof
let C265 being non  empty set;
let C266 being  lower-bounded LATTICE;
let C267 being (BiFunction of C265 , C266);
assume L867: C267 is  symmetric;
let C268 being (QuadrSeq of C267);
let C269 being Ordinal;
defpred S10[ Ordinal ] means ( ConsecutiveDelta2 (C268 , $1) ) is  symmetric;
L868: (for B292 being Ordinal holds (S10[ B292 ] implies S10[ ( succ B292 ) ]))
proof
let C270 being Ordinal;
assume L869: ( ConsecutiveDelta2 (C268 , C270) ) is  symmetric;
L870: ( new_bi_fun2 (( ConsecutiveDelta2 (C268 , C270) ) , ( Quadr2 (C268 , C270) )) ) is  symmetric by L869 , L301;
let C271 , C272 being (Element of ( ConsecutiveSet2 (C265 , ( succ C270 )) ));
reconsider D133 = C271 , D134 = C272 as (Element of ( new_set2 ( ConsecutiveSet2 (C265 , C270) ) )) by L551;
L871: ( ConsecutiveDelta2 (C268 , ( succ C270 )) ) = ( new_bi_fun2 (( BiFun (( ConsecutiveDelta2 (C268 , C270) ) , ( ConsecutiveSet2 (C265 , C270) ) , C266) ) , ( Quadr2 (C268 , C270) )) ) by L616
.= ( new_bi_fun2 (( ConsecutiveDelta2 (C268 , C270) ) , ( Quadr2 (C268 , C270) )) ) by LATTICE5:def 15;
thus L872: ( ( ConsecutiveDelta2 (C268 , ( succ C270 )) ) . (C271 , C272) ) = ( ( new_bi_fun2 (( ConsecutiveDelta2 (C268 , C270) ) , ( Quadr2 (C268 , C270) )) ) . (D134 , D133) ) by L871 , L870 , LATTICE5:def 5
.= ( ( ConsecutiveDelta2 (C268 , ( succ C270 )) ) . (C272 , C271) ) by L871;
end;
L873: (for R4 being Ordinal holds ((R4 <> ( {} ) & R4 is  limit_ordinal & (for R5 being Ordinal holds (R5 in R4 implies S10[ R5 ]))) implies S10[ R4 ]))
proof
deffunc H33(Ordinal) = ( ConsecutiveDelta2 (C268 , $1) );
let C273 being Ordinal;
assume that
L874: (C273 <> ( {} ) & C273 is  limit_ordinal)
and
L875: (for B293 being Ordinal holds (B293 in C273 implies ( ConsecutiveDelta2 (C268 , B293) ) is  symmetric));
set D135 = ( ConsecutiveSet2 (C265 , C273) );
consider C274 being T-Sequence such that L876: (( dom C274 ) = C273 & (for B294 being Ordinal holds (B294 in C273 implies ( C274 . B294 ) = H33(B294)))) from ORDINAL2:sch 2;
L877: ( ConsecutiveDelta2 (C268 , C273) ) = ( union ( rng C274 ) ) by L874 , L876 , L620;
reconsider D136 = ( union ( rng C274 ) ) as (BiFunction of D135 , C266) by L877;
deffunc H34(Ordinal) = ( ConsecutiveSet2 (C265 , $1) );
consider C275 being T-Sequence such that L878: (( dom C275 ) = C273 & (for B295 being Ordinal holds (B295 in C273 implies ( C275 . B295 ) = H34(B295)))) from ORDINAL2:sch 2;
L879: ( ConsecutiveSet2 (C265 , C273) ) = ( union ( rng C275 ) ) by L874 , L878 , L555;
L880: D136 is  symmetric
proof
let C276 , C277 being (Element of D135);
consider C278 being set such that L881: C276 in C278 and L882: C278 in ( rng C275 ) by L879 , TARSKI:def 4;
consider C279 being set such that L883: C279 in ( dom C275 ) and L884: C278 = ( C275 . C279 ) by L882 , FUNCT_1:def 3;
consider C280 being set such that L885: C277 in C280 and L886: C280 in ( rng C275 ) by L879 , TARSKI:def 4;
consider C281 being set such that L887: C281 in ( dom C275 ) and L888: C280 = ( C275 . C281 ) by L886 , FUNCT_1:def 3;
reconsider D137 = C279 , D138 = C281 as Ordinal by L883 , L887;
L889: C276 in ( ConsecutiveSet2 (C265 , D137) ) by L878 , L881 , L883 , L884;
L890: ( C274 . D137 ) = ( ConsecutiveDelta2 (C268 , D137) ) by L876 , L878 , L883;
reconsider D139 = ( C274 . D137 ) as (BiFunction of ( ConsecutiveSet2 (C265 , D137) ) , C266) by L890;
L891: D139 is  symmetric
proof
let C282 , C283 being (Element of ( ConsecutiveSet2 (C265 , D137) ));
L892: ( ConsecutiveDelta2 (C268 , D137) ) is  symmetric by L875 , L878 , L883;
thus L893: ( D139 . (C282 , C283) ) = ( ( ConsecutiveDelta2 (C268 , D137) ) . (C282 , C283) ) by L876 , L878 , L883
.= ( ( ConsecutiveDelta2 (C268 , D137) ) . (C283 , C282) ) by L892 , LATTICE5:def 5
.= ( D139 . (C283 , C282) ) by L876 , L878 , L883;
end;
L894: ( dom D139 ) = [: ( ConsecutiveSet2 (C265 , D137) ) , ( ConsecutiveSet2 (C265 , D137) ) :] by FUNCT_2:def 1;
L895: C277 in ( ConsecutiveSet2 (C265 , D138) ) by L878 , L885 , L887 , L888;
L896: ( C274 . D138 ) = ( ConsecutiveDelta2 (C268 , D138) ) by L876 , L878 , L887;
reconsider D140 = ( C274 . D138 ) as (BiFunction of ( ConsecutiveSet2 (C265 , D138) ) , C266) by L896;
L897: D140 is  symmetric
proof
let C284 , C285 being (Element of ( ConsecutiveSet2 (C265 , D138) ));
L898: ( ConsecutiveDelta2 (C268 , D138) ) is  symmetric by L875 , L878 , L887;
thus L899: ( D140 . (C284 , C285) ) = ( ( ConsecutiveDelta2 (C268 , D138) ) . (C284 , C285) ) by L876 , L878 , L887
.= ( ( ConsecutiveDelta2 (C268 , D138) ) . (C285 , C284) ) by L898 , LATTICE5:def 5
.= ( D140 . (C285 , C284) ) by L876 , L878 , L887;
end;
L900: ( dom D140 ) = [: ( ConsecutiveSet2 (C265 , D138) ) , ( ConsecutiveSet2 (C265 , D138) ) :] by FUNCT_2:def 1;
per cases ;
suppose L901: D137 c= D138;

L902: ( ConsecutiveSet2 (C265 , D137) ) c= ( ConsecutiveSet2 (C265 , D138) ) by L901 , L626;
L903: [ C277 , C276 ] in ( dom D140 ) by L902 , L889 , L895 , L900 , ZFMISC_1:87;
L904: ( ConsecutiveDelta2 (C268 , D138) ) in ( rng C274 ) by L876 , L878 , L887 , L896 , FUNCT_1:def 3;
L905: D140 c= D136 by L904 , L896 , ZFMISC_1:74;
reconsider D141 = C276 , D142 = C277 as (Element of ( ConsecutiveSet2 (C265 , D138) )) by L878 , L885 , L887 , L888 , L889 , L902;
L906: [ C276 , C277 ] in ( dom D140 ) by L889 , L895 , L900 , L902 , ZFMISC_1:87;
thus L907: ( D136 . (C276 , C277) ) = ( D140 . (D141 , D142) ) by L906 , L905 , GRFUNC_1:2
.= ( D140 . (D142 , D141) ) by L897 , LATTICE5:def 5
.= ( D136 . (C277 , C276) ) by L905 , L903 , GRFUNC_1:2;
end;
suppose L908: D138 c= D137;

L909: ( ConsecutiveSet2 (C265 , D138) ) c= ( ConsecutiveSet2 (C265 , D137) ) by L908 , L626;
L910: [ C277 , C276 ] in ( dom D139 ) by L909 , L889 , L895 , L894 , ZFMISC_1:87;
L911: ( ConsecutiveDelta2 (C268 , D137) ) in ( rng C274 ) by L876 , L878 , L883 , L890 , FUNCT_1:def 3;
L912: D139 c= D136 by L911 , L890 , ZFMISC_1:74;
reconsider D143 = C276 , D144 = C277 as (Element of ( ConsecutiveSet2 (C265 , D137) )) by L878 , L881 , L883 , L884 , L895 , L909;
L913: [ C276 , C277 ] in ( dom D139 ) by L889 , L895 , L894 , L909 , ZFMISC_1:87;
thus L914: ( D136 . (C276 , C277) ) = ( D139 . (D143 , D144) ) by L913 , L912 , GRFUNC_1:2
.= ( D139 . (D144 , D143) ) by L891 , LATTICE5:def 5
.= ( D136 . (C277 , C276) ) by L912 , L910 , GRFUNC_1:2;
end;
end;
thus L916: thesis by L880 , L874 , L876 , L620;
end;
L917: S10[ ( {} ) ]
proof
let C286 , C287 being (Element of ( ConsecutiveSet2 (C265 , ( {} )) ));
reconsider D145 = C286 , D146 = C287 as (Element of C265) by L548;
thus L918: ( ( ConsecutiveDelta2 (C268 , ( {} )) ) . (C286 , C287) ) = ( C267 . (D145 , D146) ) by L613
.= ( C267 . (D146 , D145) ) by L867 , LATTICE5:def 5
.= ( ( ConsecutiveDelta2 (C268 , ( {} )) ) . (C287 , C286) ) by L613;
end;
L919: (for B296 being Ordinal holds S10[ B296 ]) from ORDINAL2:sch 1(L917 , L868 , L873);
thus L920: thesis by L919;
end;
theorem
L921: (for B297 being non  empty set holds (for B298 being  lower-bounded LATTICE holds (B298 is  modular implies (for B299 being (BiFunction of B297 , B298) holds (B299 is  symmetric  u.t.i. implies (for B300 being Ordinal holds (for B301 being (QuadrSeq of B299) holds (B300 c= ( DistEsti B299 ) implies ( ConsecutiveDelta2 (B301 , B300) ) is  u.t.i.))))))))
proof
let C288 being non  empty set;
let C289 being  lower-bounded LATTICE;
assume L922: C289 is  modular;
let C290 being (BiFunction of C288 , C289);
assume that
L923: C290 is  symmetric
and
L924: C290 is  u.t.i.;
let C291 being Ordinal;
let C292 being (QuadrSeq of C290);
defpred S11[ Ordinal ] means ($1 c= ( DistEsti C290 ) implies ( ConsecutiveDelta2 (C292 , $1) ) is  u.t.i.);
L925: (for B302 being Ordinal holds (S11[ B302 ] implies S11[ ( succ B302 ) ]))
proof
let C293 being Ordinal;
assume that
L926: (C293 c= ( DistEsti C290 ) implies ( ConsecutiveDelta2 (C292 , C293) ) is  u.t.i.)
and
L927: ( succ C293 ) c= ( DistEsti C290 );
L928: C293 in ( DistEsti C290 ) by L927 , ORDINAL1:21;
L929: C293 in ( dom C292 ) by L928 , LATTICE5:25;
L930: ( C292 . C293 ) in ( rng C292 ) by L929 , FUNCT_1:def 3;
L931: ( C292 . C293 ) in { [ B303 , B304 , B305 , B306 ] where B303 is (Element of C288) , B304 is (Element of C288) , B305 is (Element of C289) , B306 is (Element of C289) : ( C290 . (B303 , B304) ) <= ( B305 "\/" B306 ) } by L930 , LATTICE5:def 13;
let C294 , C295 , C296 being (Element of ( ConsecutiveSet2 (C288 , ( succ C293 )) ));
L932: ( ConsecutiveDelta2 (C292 , C293) ) is  symmetric by L923 , L866;
reconsider D147 = C294 , D148 = C295 , D149 = C296 as (Element of ( new_set2 ( ConsecutiveSet2 (C288 , C293) ) )) by L551;
set D150 = ( new_bi_fun2 (( ConsecutiveDelta2 (C292 , C293) ) , ( Quadr2 (C292 , C293) )) );
set D151 = ( ( Quadr2 (C292 , C293) ) `1_4 );
set D152 = ( ( Quadr2 (C292 , C293) ) `2_4 );
reconsider D153 = ( ( Quadr2 (C292 , C293) ) `3_4 ) , D154 = ( ( Quadr2 (C292 , C293) ) `4_4 ) as (Element of C289);
L933: (( dom C290 ) = [: C288 , C288 :] & C290 c= ( ConsecutiveDelta2 (C292 , C293) )) by L782 , FUNCT_2:def 1;
consider C297 , C298 being (Element of C288), C299 , C300 being (Element of C289) such that L934: ( C292 . C293 ) = [ C297 , C298 , C299 , C300 ] and L935: ( C290 . (C297 , C298) ) <= ( C299 "\/" C300 ) by L931;
L936: ( Quadr2 (C292 , C293) ) = [ C297 , C298 , C299 , C300 ] by L929 , L934 , L600;
L937: (C297 = D151 & C298 = D152) by L936 , MCART_1:def 8 , MCART_1:def 9;
L938: (C299 = D153 & C300 = D154) by L936 , MCART_1:def 10 , MCART_1:def 11;
L939: ( C290 . (C297 , C298) ) = ( C290 . [ C297 , C298 ] )
.= ( ( ConsecutiveDelta2 (C292 , C293) ) . (D151 , D152) ) by L937 , L933 , GRFUNC_1:2;
L940: ( new_bi_fun2 (( ConsecutiveDelta2 (C292 , C293) ) , ( Quadr2 (C292 , C293) )) ) is  u.t.i. by L939 , L922 , L926 , L928 , L932 , L935 , L938 , L324 , ORDINAL1:def 2;
L941: ( D150 . (D147 , D149) ) <= ( ( D150 . (D147 , D148) ) "\/" ( D150 . (D148 , D149) ) ) by L940 , LATTICE5:def 7;
L942: ( ConsecutiveDelta2 (C292 , ( succ C293 )) ) = ( new_bi_fun2 (( BiFun (( ConsecutiveDelta2 (C292 , C293) ) , ( ConsecutiveSet2 (C288 , C293) ) , C289) ) , ( Quadr2 (C292 , C293) )) ) by L616
.= ( new_bi_fun2 (( ConsecutiveDelta2 (C292 , C293) ) , ( Quadr2 (C292 , C293) )) ) by LATTICE5:def 15;
thus L943: ( ( ConsecutiveDelta2 (C292 , ( succ C293 )) ) . (C294 , C296) ) <= ( ( ( ConsecutiveDelta2 (C292 , ( succ C293 )) ) . (C294 , C295) ) "\/" ( ( ConsecutiveDelta2 (C292 , ( succ C293 )) ) . (C295 , C296) ) ) by L942 , L941;
end;
L944: (for R4 being Ordinal holds ((R4 <> ( {} ) & R4 is  limit_ordinal & (for R5 being Ordinal holds (R5 in R4 implies S11[ R5 ]))) implies S11[ R4 ]))
proof
deffunc H35(Ordinal) = ( ConsecutiveDelta2 (C292 , $1) );
let C301 being Ordinal;
assume that
L945: (C301 <> ( {} ) & C301 is  limit_ordinal)
and
L946: (for B307 being Ordinal holds (B307 in C301 implies (B307 c= ( DistEsti C290 ) implies ( ConsecutiveDelta2 (C292 , B307) ) is  u.t.i.)))
and
L947: C301 c= ( DistEsti C290 );
set D155 = ( ConsecutiveSet2 (C288 , C301) );
consider C302 being T-Sequence such that L948: (( dom C302 ) = C301 & (for B308 being Ordinal holds (B308 in C301 implies ( C302 . B308 ) = H35(B308)))) from ORDINAL2:sch 2;
L949: ( ConsecutiveDelta2 (C292 , C301) ) = ( union ( rng C302 ) ) by L945 , L948 , L620;
reconsider D156 = ( union ( rng C302 ) ) as (BiFunction of D155 , C289) by L949;
deffunc H36(Ordinal) = ( ConsecutiveSet2 (C288 , $1) );
consider C303 being T-Sequence such that L950: (( dom C303 ) = C301 & (for B309 being Ordinal holds (B309 in C301 implies ( C303 . B309 ) = H36(B309)))) from ORDINAL2:sch 2;
L951: ( ConsecutiveSet2 (C288 , C301) ) = ( union ( rng C303 ) ) by L945 , L950 , L555;
L952: D156 is  u.t.i.
proof
let C304 , C305 , C306 being (Element of D155);
consider C307 being set such that L953: C304 in C307 and L954: C307 in ( rng C303 ) by L951 , TARSKI:def 4;
consider C308 being set such that L955: C308 in ( dom C303 ) and L956: C307 = ( C303 . C308 ) by L954 , FUNCT_1:def 3;
consider C309 being set such that L957: C305 in C309 and L958: C309 in ( rng C303 ) by L951 , TARSKI:def 4;
consider C310 being set such that L959: C310 in ( dom C303 ) and L960: C309 = ( C303 . C310 ) by L958 , FUNCT_1:def 3;
consider C311 being set such that L961: C306 in C311 and L962: C311 in ( rng C303 ) by L951 , TARSKI:def 4;
consider C312 being set such that L963: C312 in ( dom C303 ) and L964: C311 = ( C303 . C312 ) by L962 , FUNCT_1:def 3;
reconsider D157 = C308 , D158 = C310 , D159 = C312 as Ordinal by L955 , L959 , L963;
L965: C304 in ( ConsecutiveSet2 (C288 , D157) ) by L950 , L953 , L955 , L956;
L966: ( C302 . D159 ) = ( ConsecutiveDelta2 (C292 , D159) ) by L948 , L950 , L963;
reconsider D160 = ( C302 . D159 ) as (BiFunction of ( ConsecutiveSet2 (C288 , D159) ) , C289) by L966;
L967: D160 is  u.t.i.
proof
let C313 , C314 , C315 being (Element of ( ConsecutiveSet2 (C288 , D159) ));
L968: D159 c= ( DistEsti C290 ) by L947 , L950 , L963 , ORDINAL1:def 2;
L969: ( ConsecutiveDelta2 (C292 , D159) ) is  u.t.i. by L968 , L946 , L950 , L963;
L970: ( ConsecutiveDelta2 (C292 , D159) ) = D160 by L948 , L950 , L963;
thus L971: ( D160 . (C313 , C315) ) <= ( ( D160 . (C313 , C314) ) "\/" ( D160 . (C314 , C315) ) ) by L970 , L969 , LATTICE5:def 7;
end;
L972: ( dom D160 ) = [: ( ConsecutiveSet2 (C288 , D159) ) , ( ConsecutiveSet2 (C288 , D159) ) :] by FUNCT_2:def 1;
L973: C306 in ( ConsecutiveSet2 (C288 , D159) ) by L950 , L961 , L963 , L964;
L974: ( C302 . D158 ) = ( ConsecutiveDelta2 (C292 , D158) ) by L948 , L950 , L959;
reconsider D161 = ( C302 . D158 ) as (BiFunction of ( ConsecutiveSet2 (C288 , D158) ) , C289) by L974;
L975: D161 is  u.t.i.
proof
let C316 , C317 , C318 being (Element of ( ConsecutiveSet2 (C288 , D158) ));
L976: D158 c= ( DistEsti C290 ) by L947 , L950 , L959 , ORDINAL1:def 2;
L977: ( ConsecutiveDelta2 (C292 , D158) ) is  u.t.i. by L976 , L946 , L950 , L959;
L978: ( ConsecutiveDelta2 (C292 , D158) ) = D161 by L948 , L950 , L959;
thus L979: ( D161 . (C316 , C318) ) <= ( ( D161 . (C316 , C317) ) "\/" ( D161 . (C317 , C318) ) ) by L978 , L977 , LATTICE5:def 7;
end;
L980: ( dom D161 ) = [: ( ConsecutiveSet2 (C288 , D158) ) , ( ConsecutiveSet2 (C288 , D158) ) :] by FUNCT_2:def 1;
L981: ( C302 . D157 ) = ( ConsecutiveDelta2 (C292 , D157) ) by L948 , L950 , L955;
reconsider D162 = ( C302 . D157 ) as (BiFunction of ( ConsecutiveSet2 (C288 , D157) ) , C289) by L981;
L982: D162 is  u.t.i.
proof
let C319 , C320 , C321 being (Element of ( ConsecutiveSet2 (C288 , D157) ));
L983: D157 c= ( DistEsti C290 ) by L947 , L950 , L955 , ORDINAL1:def 2;
L984: ( ConsecutiveDelta2 (C292 , D157) ) is  u.t.i. by L983 , L946 , L950 , L955;
L985: ( ConsecutiveDelta2 (C292 , D157) ) = D162 by L948 , L950 , L955;
thus L986: ( D162 . (C319 , C321) ) <= ( ( D162 . (C319 , C320) ) "\/" ( D162 . (C320 , C321) ) ) by L985 , L984 , LATTICE5:def 7;
end;
L987: ( dom D162 ) = [: ( ConsecutiveSet2 (C288 , D157) ) , ( ConsecutiveSet2 (C288 , D157) ) :] by FUNCT_2:def 1;
L988: C305 in ( ConsecutiveSet2 (C288 , D158) ) by L950 , L957 , L959 , L960;
per cases ;
suppose L989: D157 c= D159;

L990: ( ConsecutiveSet2 (C288 , D157) ) c= ( ConsecutiveSet2 (C288 , D159) ) by L989 , L626;
thus L991: ( ( D156 . (C304 , C305) ) "\/" ( D156 . (C305 , C306) ) ) >= ( D156 . (C304 , C306) )
proof
per cases ;
suppose L992: D158 c= D159;

reconsider D163 = C306 as (Element of ( ConsecutiveSet2 (C288 , D159) )) by L950 , L961 , L963 , L964;
reconsider D164 = C304 as (Element of ( ConsecutiveSet2 (C288 , D159) )) by L965 , L990;
L993: ( ConsecutiveDelta2 (C292 , D159) ) in ( rng C302 ) by L948 , L950 , L963 , L966 , FUNCT_1:def 3;
L994: D160 c= D156 by L993 , L966 , ZFMISC_1:74;
L995: ( ConsecutiveSet2 (C288 , D158) ) c= ( ConsecutiveSet2 (C288 , D159) ) by L992 , L626;
reconsider D165 = C305 as (Element of ( ConsecutiveSet2 (C288 , D159) )) by L995 , L988;
L996: [ C305 , C306 ] in ( dom D160 ) by L988 , L973 , L972 , L995 , ZFMISC_1:87;
L997: ( D156 . (C305 , C306) ) = ( D160 . (D165 , D163) ) by L996 , L994 , GRFUNC_1:2;
L998: [ C304 , C306 ] in ( dom D160 ) by L965 , L973 , L972 , L990 , ZFMISC_1:87;
L999: ( D156 . (C304 , C306) ) = ( D160 . (D164 , D163) ) by L998 , L994 , GRFUNC_1:2;
L1000: [ C304 , C305 ] in ( dom D160 ) by L965 , L988 , L972 , L990 , L995 , ZFMISC_1:87;
L1001: ( D156 . (C304 , C305) ) = ( D160 . (D164 , D165) ) by L1000 , L994 , GRFUNC_1:2;
thus L1002: thesis by L1001 , L967 , L997 , L999 , LATTICE5:def 7;
end;
suppose L1003: D159 c= D158;

reconsider D166 = C305 as (Element of ( ConsecutiveSet2 (C288 , D158) )) by L950 , L957 , L959 , L960;
L1004: ( ConsecutiveDelta2 (C292 , D158) ) in ( rng C302 ) by L948 , L950 , L959 , L974 , FUNCT_1:def 3;
L1005: D161 c= D156 by L1004 , L974 , ZFMISC_1:74;
L1006: ( ConsecutiveSet2 (C288 , D159) ) c= ( ConsecutiveSet2 (C288 , D158) ) by L1003 , L626;
reconsider D167 = C306 as (Element of ( ConsecutiveSet2 (C288 , D158) )) by L1006 , L973;
L1007: [ C305 , C306 ] in ( dom D161 ) by L988 , L973 , L980 , L1006 , ZFMISC_1:87;
L1008: ( D156 . (C305 , C306) ) = ( D161 . (D166 , D167) ) by L1007 , L1005 , GRFUNC_1:2;
L1009: ( ConsecutiveSet2 (C288 , D157) ) c= ( ConsecutiveSet2 (C288 , D159) ) by L989 , L626;
L1010: ( ConsecutiveSet2 (C288 , D157) ) c= ( ConsecutiveSet2 (C288 , D158) ) by L1009 , L1006 , XBOOLE_1:1;
reconsider D168 = C304 as (Element of ( ConsecutiveSet2 (C288 , D158) )) by L1010 , L965;
L1011: [ C304 , C305 ] in ( dom D161 ) by L965 , L988 , L980 , L1010 , ZFMISC_1:87;
L1012: ( D156 . (C304 , C305) ) = ( D161 . (D168 , D166) ) by L1011 , L1005 , GRFUNC_1:2;
L1013: [ C304 , C306 ] in ( dom D161 ) by L965 , L973 , L980 , L1006 , L1010 , ZFMISC_1:87;
L1014: ( D156 . (C304 , C306) ) = ( D161 . (D168 , D167) ) by L1013 , L1005 , GRFUNC_1:2;
thus L1015: thesis by L1014 , L975 , L1012 , L1008 , LATTICE5:def 7;
end;
end;

end;
suppose L992: D159 c= D157;

L993: ( ConsecutiveSet2 (C288 , D159) ) c= ( ConsecutiveSet2 (C288 , D157) ) by L992 , L626;
thus L994: ( ( D156 . (C304 , C305) ) "\/" ( D156 . (C305 , C306) ) ) >= ( D156 . (C304 , C306) )
proof
per cases ;
suppose L995: D157 c= D158;

reconsider D169 = C305 as (Element of ( ConsecutiveSet2 (C288 , D158) )) by L950 , L957 , L959 , L960;
L996: ( ConsecutiveDelta2 (C292 , D158) ) in ( rng C302 ) by L948 , L950 , L959 , L974 , FUNCT_1:def 3;
L997: D161 c= D156 by L996 , L974 , ZFMISC_1:74;
L998: ( ConsecutiveSet2 (C288 , D157) ) c= ( ConsecutiveSet2 (C288 , D158) ) by L995 , L626;
reconsider D170 = C304 as (Element of ( ConsecutiveSet2 (C288 , D158) )) by L998 , L965;
L999: [ C304 , C305 ] in ( dom D161 ) by L965 , L988 , L980 , L998 , ZFMISC_1:87;
L1000: ( D156 . (C304 , C305) ) = ( D161 . (D170 , D169) ) by L999 , L997 , GRFUNC_1:2;
L1001: ( ConsecutiveSet2 (C288 , D159) ) c= ( ConsecutiveSet2 (C288 , D157) ) by L992 , L626;
L1002: ( ConsecutiveSet2 (C288 , D159) ) c= ( ConsecutiveSet2 (C288 , D158) ) by L1001 , L998 , XBOOLE_1:1;
reconsider D171 = C306 as (Element of ( ConsecutiveSet2 (C288 , D158) )) by L1002 , L973;
L1003: [ C305 , C306 ] in ( dom D161 ) by L988 , L973 , L980 , L1002 , ZFMISC_1:87;
L1004: ( D156 . (C305 , C306) ) = ( D161 . (D169 , D171) ) by L1003 , L997 , GRFUNC_1:2;
L1005: [ C304 , C306 ] in ( dom D161 ) by L965 , L973 , L980 , L998 , L1002 , ZFMISC_1:87;
L1006: ( D156 . (C304 , C306) ) = ( D161 . (D170 , D171) ) by L1005 , L997 , GRFUNC_1:2;
thus L1007: thesis by L1006 , L975 , L1000 , L1004 , LATTICE5:def 7;
end;
suppose L1008: D158 c= D157;

reconsider D172 = C304 as (Element of ( ConsecutiveSet2 (C288 , D157) )) by L950 , L953 , L955 , L956;
reconsider D173 = C306 as (Element of ( ConsecutiveSet2 (C288 , D157) )) by L973 , L993;
L1009: ( ConsecutiveDelta2 (C292 , D157) ) in ( rng C302 ) by L948 , L950 , L955 , L981 , FUNCT_1:def 3;
L1010: D162 c= D156 by L1009 , L981 , ZFMISC_1:74;
L1011: ( ConsecutiveSet2 (C288 , D158) ) c= ( ConsecutiveSet2 (C288 , D157) ) by L1008 , L626;
reconsider D174 = C305 as (Element of ( ConsecutiveSet2 (C288 , D157) )) by L1011 , L988;
L1012: [ C304 , C305 ] in ( dom D162 ) by L965 , L988 , L987 , L1011 , ZFMISC_1:87;
L1013: ( D156 . (C304 , C305) ) = ( D162 . (D172 , D174) ) by L1012 , L1010 , GRFUNC_1:2;
L1014: [ C304 , C306 ] in ( dom D162 ) by L965 , L973 , L987 , L993 , ZFMISC_1:87;
L1015: ( D156 . (C304 , C306) ) = ( D162 . (D172 , D173) ) by L1014 , L1010 , GRFUNC_1:2;
L1016: [ C305 , C306 ] in ( dom D162 ) by L988 , L973 , L987 , L993 , L1011 , ZFMISC_1:87;
L1017: ( D156 . (C305 , C306) ) = ( D162 . (D174 , D173) ) by L1016 , L1010 , GRFUNC_1:2;
thus L1018: thesis by L1017 , L982 , L1013 , L1015 , LATTICE5:def 7;
end;
end;

end;
end;
thus L996: thesis by L952 , L945 , L948 , L620;
end;
L997: S11[ ( {} ) ]
proof
assume L998: ( {} ) c= ( DistEsti C290 );
let C322 , C323 , C324 being (Element of ( ConsecutiveSet2 (C288 , ( {} )) ));
reconsider D175 = C322 , D176 = C323 , D177 = C324 as (Element of C288) by L548;
L999: (( ConsecutiveDelta2 (C292 , ( {} )) ) = C290 & ( C290 . (D175 , D177) ) <= ( ( C290 . (D175 , D176) ) "\/" ( C290 . (D176 , D177) ) )) by L924 , L613 , LATTICE5:def 7;
thus L1000: ( ( ConsecutiveDelta2 (C292 , ( {} )) ) . (C322 , C324) ) <= ( ( ( ConsecutiveDelta2 (C292 , ( {} )) ) . (C322 , C323) ) "\/" ( ( ConsecutiveDelta2 (C292 , ( {} )) ) . (C323 , C324) ) ) by L999;
end;
L1001: (for B310 being Ordinal holds S11[ B310 ]) from ORDINAL2:sch 1(L997 , L925 , L944);
thus L1002: thesis by L1001;
end;
theorem
L1003: (for B311 being non  empty set holds (for B312 being  lower-bounded  modular LATTICE holds (for B313 being (distance_function of B311 , B312) holds (for B314 being Ordinal holds (for B315 being (QuadrSeq of B313) holds (B314 c= ( DistEsti B313 ) implies ( ConsecutiveDelta2 (B315 , B314) ) is (distance_function of ( ConsecutiveSet2 (B311 , B314) ) , B312))))))) by L832 , L866 , L921;
definition
let C325 being non  empty set;
let C326 being  lower-bounded LATTICE;
let C327 being (BiFunction of C325 , C326);
func NextSet2 C327 equals 
( ConsecutiveSet2 (C325 , ( DistEsti C327 )) );
correctness;
end;
registration
let C328 being non  empty set;
let C329 being  lower-bounded LATTICE;
let C330 being (BiFunction of C328 , C329);
cluster ( NextSet2 C330 ) -> non  empty;
coherence;
end;
definition
let C331 being non  empty set;
let C332 being  lower-bounded LATTICE;
let C333 being (BiFunction of C331 , C332);
let C334 being (QuadrSeq of C333);
func NextDelta2 C334 equals 
( ConsecutiveDelta2 (C334 , ( DistEsti C333 )) );
correctness;
end;
definition
let C335 being non  empty set;
let C336 being  lower-bounded  modular LATTICE;
let C337 being (distance_function of C335 , C336);
let C338 being (QuadrSeq of C337);
redefine func NextDelta2 C338 -> (distance_function of ( NextSet2 C337 ) , C336);

coherence by L832 , L866 , L921;
end;
definition
let C339 being non  empty set;
let C340 being  lower-bounded LATTICE;
let C341 being (distance_function of C339 , C340);
let C342 being non  empty set;
let C343 being (distance_function of C342 , C340);
pred C342 , C343 is_extension2_of C339 , C341
means
:L1008: (ex B316 being (QuadrSeq of C341) st (C342 = ( NextSet2 C341 ) & C343 = ( NextDelta2 B316 )))
;end;
theorem
L1010: (for B317 being non  empty set holds (for B318 being  lower-bounded LATTICE holds (for B319 being (distance_function of B317 , B318) holds (for B320 being non  empty set holds (for B321 being (distance_function of B320 , B318) holds (B320 , B321 is_extension2_of B317 , B319 implies (for B322 , B323 being (Element of B317) holds (for B324 , B325 being (Element of B318) holds (( B319 . (B322 , B323) ) <= ( B324 "\/" B325 ) implies (ex B326 , B327 being (Element of B320) st (( B321 . (B322 , B326) ) = B324 & ( B321 . (B326 , B327) ) = ( ( ( B319 . (B322 , B323) ) "\/" B324 ) "/\" B325 ) & ( B321 . (B327 , B323) ) = B324)))))))))))
proof
let C344 being non  empty set;
let C345 being  lower-bounded LATTICE;
let C346 being (distance_function of C344 , C345);
let C347 being non  empty set;
let C348 being (distance_function of C347 , C345);
assume L1011: C347 , C348 is_extension2_of C344 , C346;
consider C349 being (QuadrSeq of C346) such that L1012: C347 = ( NextSet2 C346 ) and L1013: C348 = ( NextDelta2 C349 ) by L1011 , L1008;
let C350 , C351 being (Element of C344);
let C352 , C353 being (Element of C345);
L1014: ( rng C349 ) = { [ B328 , B329 , B330 , B331 ] where B328 is (Element of C344) , B329 is (Element of C344) , B330 is (Element of C345) , B331 is (Element of C345) : ( C346 . (B328 , B329) ) <= ( B330 "\/" B331 ) } by LATTICE5:def 13;
assume L1015: ( C346 . (C350 , C351) ) <= ( C352 "\/" C353 );
L1016: [ C350 , C351 , C352 , C353 ] in ( rng C349 ) by L1015 , L1014;
consider C354 being set such that L1017: C354 in ( dom C349 ) and L1018: ( C349 . C354 ) = [ C350 , C351 , C352 , C353 ] by L1016 , FUNCT_1:def 3;
reconsider D178 = C354 as Ordinal by L1017;
L1019: ( C349 . D178 ) = ( Quadr2 (C349 , D178) ) by L1017 , L600;
L1020: C350 = ( ( Quadr2 (C349 , D178) ) `1_4 ) by L1019 , L1018 , MCART_1:74;
L1021: C353 = ( ( Quadr2 (C349 , D178) ) `4_4 ) by L1018 , L1019 , MCART_1:74;
L1022: C351 = ( ( Quadr2 (C349 , D178) ) `2_4 ) by L1018 , L1019 , MCART_1:74;
reconsider D179 = ( ConsecutiveSet2 (C344 , D178) ) as non  empty set;
L1023: { D179 } in { { D179 } , { { D179 } } } by TARSKI:def 2;
L1024: { D179 } in ( D179 \/ { { D179 } , { { D179 } } } ) by L1023 , XBOOLE_0:def 3;
L1025: D178 in ( DistEsti C346 ) by L1017 , LATTICE5:25;
L1026: ( succ D178 ) c= ( DistEsti C346 ) by L1025 , ORDINAL1:21;
L1027: ( ConsecutiveDelta2 (C349 , ( succ D178 )) ) c= ( ConsecutiveDelta2 (C349 , ( DistEsti C346 )) ) by L1026 , L801;
reconsider D180 = ( ConsecutiveDelta2 (C349 , D178) ) as (BiFunction of D179 , C345);
reconsider D181 = ( Quadr2 (C349 , D178) ) as (Element of [: D179 , D179 , (the carrier of C345) , (the carrier of C345) :]);
L1028: (C350 in C344 & C351 in C344);
L1029: { { D179 } } in { { D179 } , { { D179 } } } by TARSKI:def 2;
L1030: { { D179 } } in ( new_set2 D179 ) by L1029 , XBOOLE_0:def 3;
L1031: ( ConsecutiveSet2 (C344 , ( succ D178 )) ) = ( new_set2 D179 ) by L551;
L1032: ( new_set2 D179 ) c= ( ConsecutiveSet2 (C344 , ( DistEsti C346 )) ) by L1031 , L1026 , L626;
reconsider D182 = { D179 } , D183 = { { D179 } } as (Element of C347) by L1032 , L1012 , L1024 , L1030;
take D182;
take D183;
L1033: D180 is  zeroed by L832;
L1034: C344 c= D179 by L580;
reconsider D184 = C350 , D185 = C351 as (Element of D179) by L1034 , L1028;
L1035: D179 c= ( new_set2 D179 ) by XBOOLE_1:7;
L1036: (D184 in D179 & D185 in D179);
reconsider D186 = D184 , D187 = D185 as (Element of ( new_set2 D179 )) by L1036 , L1035;
L1037: ( ConsecutiveDelta2 (C349 , ( succ D178 )) ) = ( new_bi_fun2 (( BiFun (( ConsecutiveDelta2 (C349 , D178) ) , ( ConsecutiveSet2 (C344 , D178) ) , C345) ) , ( Quadr2 (C349 , D178) )) ) by L616
.= ( new_bi_fun2 (D180 , D181) ) by LATTICE5:def 15;
L1038: ( dom C346 ) = [: C344 , C344 :] by FUNCT_2:def 1;
L1039: [ D184 , D185 ] in ( dom C346 ) by L1038 , ZFMISC_1:87;
L1040: C346 c= D180 by L782;
L1041: ( D180 . (D184 , D185) ) = ( C346 . (C350 , C351) ) by L1040 , L1039 , GRFUNC_1:2;
L1042: C352 = ( ( Quadr2 (C349 , D178) ) `3_4 ) by L1018 , L1019 , MCART_1:74;
L1043: ( dom ( new_bi_fun2 (D180 , D181) ) ) = [: ( new_set2 D179 ) , ( new_set2 D179 ) :] by FUNCT_2:def 1;
L1044: [ D186 , { D179 } ] in ( dom ( new_bi_fun2 (D180 , D181) ) ) by L1043 , L1024 , ZFMISC_1:87;
thus L1045: ( C348 . (C350 , D182) ) = ( ( new_bi_fun2 (D180 , D181) ) . (D186 , { D179 }) ) by L1044 , L1013 , L1027 , L1037 , GRFUNC_1:2
.= ( ( D180 . (D184 , D184) ) "\/" C352 ) by L1020 , L1042 , L208
.= ( ( Bottom C345 ) "\/" C352 ) by L1033 , LATTICE5:def 6
.= C352 by WAYBEL_1:3;
L1046: [ { D179 } , { { D179 } } ] in ( dom ( new_bi_fun2 (D180 , D181) ) ) by L1024 , L1030 , L1043 , ZFMISC_1:87;
thus L1047: ( C348 . (D182 , D183) ) = ( ( new_bi_fun2 (D180 , D181) ) . ({ D179 } , { { D179 } }) ) by L1046 , L1013 , L1027 , L1037 , GRFUNC_1:2
.= ( ( ( C346 . (C350 , C351) ) "\/" C352 ) "/\" C353 ) by L1020 , L1022 , L1042 , L1021 , L1041 , L208;
L1048: { { D179 } } in ( D179 \/ { { D179 } , { { D179 } } } ) by L1029 , XBOOLE_0:def 3;
L1049: [ { { D179 } } , D187 ] in ( dom ( new_bi_fun2 (D180 , D181) ) ) by L1048 , L1043 , ZFMISC_1:87;
thus L1050: ( C348 . (D183 , C351) ) = ( ( new_bi_fun2 (D180 , D181) ) . ({ { D179 } } , D187) ) by L1049 , L1013 , L1027 , L1037 , GRFUNC_1:2
.= ( ( D180 . (D185 , D185) ) "\/" C352 ) by L1022 , L1042 , L208
.= ( ( Bottom C345 ) "\/" C352 ) by L1033 , LATTICE5:def 6
.= C352 by WAYBEL_1:3;
end;
definition
let C355 being non  empty set;
let C356 being  lower-bounded  modular LATTICE;
let C357 being (distance_function of C355 , C356);
mode ExtensionSeq2 of C355 , C357
 -> Function
means :L1051: (( dom it ) = ( NAT ) & ( it . ( 0 ) ) = [ C355 , C357 ] & (for B332 being (Element of ( NAT )) holds (ex B333 being non  empty set st (ex B334 being (distance_function of B333 , C356) st (ex B335 being non  empty set st (ex B336 being (distance_function of B335 , C356) st (B335 , B336 is_extension2_of B333 , B334 & ( it . B332 ) = [ B333 , B334 ] & ( it . ( B332 + 1 ) ) = [ B335 , B336 ])))))));
existence
proof
defpred S12[ set , set , set ] means ((ex B337 being non  empty set st (ex B338 being (distance_function of B337 , C356) st (ex B339 being non  empty set st (ex B340 being (distance_function of B339 , C356) st (B339 , B340 is_extension2_of B337 , B338 & $2 = [ B337 , B338 ] & $3 = [ B339 , B340 ]))))) or ($3 = ( 0 ) & (not (ex B341 being non  empty set st (ex B342 being (distance_function of B341 , C356) st (ex B343 being non  empty set st (ex B344 being (distance_function of B343 , C356) st (B343 , B344 is_extension2_of B341 , B342 & $2 = [ B341 , B342 ]))))))));
L1052: (for B345 being (Element of ( NAT )) holds (for B346 being set holds (ex B347 being set st S12[ B345 , B346 , B347 ])))
proof
let C358 being (Element of ( NAT ));
let C359 being set;
per cases ;
suppose L1053: (ex B348 being non  empty set st (ex B349 being (distance_function of B348 , C356) st (ex B350 being non  empty set st (ex B351 being (distance_function of B350 , C356) st (B350 , B351 is_extension2_of B348 , B349 & C359 = [ B348 , B349 ])))));

consider C360 being non  empty set, C361 being (distance_function of C360 , C356), C362 being non  empty set, C363 being (distance_function of C362 , C356) such that L1054: (C362 , C363 is_extension2_of C360 , C361 & C359 = [ C360 , C361 ]) by L1053;
take [ C362 , C363 ];
thus L1055: thesis by L1054;
end;
suppose L1056: (not (ex B352 being non  empty set st (ex B353 being (distance_function of B352 , C356) st (ex B354 being non  empty set st (ex B355 being (distance_function of B354 , C356) st (B354 , B355 is_extension2_of B352 , B353 & C359 = [ B352 , B353 ]))))));

take ( 0 );
thus L1057: thesis by L1056;
end;
end;
consider C364 being Function such that L1059: ( dom C364 ) = ( NAT ) and L1060: ( C364 . ( 0 ) ) = [ C355 , C357 ] and L1061: (for B356 being (Element of ( NAT )) holds S12[ B356 , ( C364 . B356 ) , ( C364 . ( B356 + 1 ) ) ]) from RECDEF_1:sch 1(L1052);
take C364;
thus L1062: ( dom C364 ) = ( NAT ) by L1059;
thus L1063: ( C364 . ( 0 ) ) = [ C355 , C357 ] by L1060;
defpred S13[ (Element of ( NAT )) ] means (ex B357 being non  empty set st (ex B358 being (distance_function of B357 , C356) st (ex B359 being non  empty set st (ex B360 being (distance_function of B359 , C356) st (B359 , B360 is_extension2_of B357 , B358 & ( C364 . $1 ) = [ B357 , B358 ] & ( C364 . ( $1 + 1 ) ) = [ B359 , B360 ])))));
L1064: (for B361 being (Element of ( NAT )) holds (S13[ B361 ] implies S13[ ( B361 + 1 ) ]))
proof
let C365 being (Element of ( NAT ));
given C366 being non  empty set , C367 being (distance_function of C366 , C356) , C368 being non  empty set , C369 being (distance_function of C368 , C356) such that
L1065: C368 , C369 is_extension2_of C366 , C367
and
L1066: ( C364 . C365 ) = [ C366 , C367 ]
and
L1067: ( C364 . ( C365 + 1 ) ) = [ C368 , C369 ];

L1068: (ex B362 being non  empty set st (ex B363 being (distance_function of B362 , C356) st (ex B364 being non  empty set st (ex B365 being (distance_function of B364 , C356) st (B364 , B365 is_extension2_of B362 , B363 & ( C364 . ( C365 + 1 ) ) = [ B362 , B363 ])))))
proof
set D188 = the (QuadrSeq of C369);
set D189 = ( NextSet2 C369 );
take C368;
take C369;
set D190 = ( NextDelta2 D188 );
take D189;
take D190;
thus L1069: D189 , D190 is_extension2_of C368 , C369 by L1008;
thus L1070: thesis by L1067;
end;
thus L1071: thesis by L1068 , L1061;
end;
L1072: (ex B366 being non  empty set st (ex B367 being (distance_function of B366 , C356) st (ex B368 being non  empty set st (ex B369 being (distance_function of B368 , C356) st (B368 , B369 is_extension2_of B366 , B367 & ( C364 . ( 0 ) ) = [ B366 , B367 ])))))
proof
set D191 = ( NextSet2 C357 );
set D192 = the (QuadrSeq of C357);
take C355;
take C357;
consider C370 being (distance_function of D191 , C356) such that L1073: C370 = ( NextDelta2 D192 );
take D191;
take C370;
thus L1074: D191 , C370 is_extension2_of C355 , C357 by L1073 , L1008;
thus L1075: thesis by L1060;
end;
L1076: S13[ ( 0 ) ] by L1072 , L1061;
thus L1077: (for B370 being (Element of ( NAT )) holds S13[ B370 ]) from NAT_1:sch 1(L1076 , L1064);
end;
end;
theorem
L1079: (for B371 being non  empty set holds (for B372 being  lower-bounded  modular LATTICE holds (for B373 being (distance_function of B371 , B372) holds (for B374 being (ExtensionSeq2 of B371 , B373) holds (for B375 , B376 being (Element of ( NAT )) holds (B375 <= B376 implies ( ( B374 . B375 ) `1 ) c= ( ( B374 . B376 ) `1 )))))))
proof
let C371 being non  empty set;
let C372 being  lower-bounded  modular LATTICE;
let C373 being (distance_function of C371 , C372);
let C374 being (ExtensionSeq2 of C371 , C373);
let C375 being (Element of ( NAT ));
defpred S14[ (Element of ( NAT )) ] means (C375 <= $1 implies ( ( C374 . C375 ) `1 ) c= ( ( C374 . $1 ) `1 ));
L1080: (for B377 being (Element of ( NAT )) holds (S14[ B377 ] implies S14[ ( B377 + 1 ) ]))
proof
let C376 being (Element of ( NAT ));
assume that
L1081: (C375 <= C376 implies ( ( C374 . C375 ) `1 ) c= ( ( C374 . C376 ) `1 ))
and
L1082: C375 <= ( C376 + 1 );
per cases  by L1082 , NAT_1:8;
suppose L1083: C375 = ( C376 + 1 );

thus L1084: thesis by L1083;
end;
suppose L1085: C375 <= C376;

consider C377 being non  empty set, C378 being (distance_function of C377 , C372), C379 being non  empty set, C380 being (distance_function of C379 , C372) such that L1086: C379 , C380 is_extension2_of C377 , C378 and L1087: ( C374 . C376 ) = [ C377 , C378 ] and L1088: ( C374 . ( C376 + 1 ) ) = [ C379 , C380 ] by L1051;
L1089: ( [ C377 , C378 ] `1 ) = C377;
L1090: ( ( C374 . C376 ) `1 ) c= ( ConsecutiveSet2 (C377 , ( DistEsti C378 )) ) by L1089 , L580 , L1087;
L1091: (ex B378 being (QuadrSeq of C378) st (C379 = ( NextSet2 C378 ) & C380 = ( NextDelta2 B378 ))) by L1086 , L1008;
L1092: ( [ C379 , C380 ] `1 ) = ( ConsecutiveSet2 (C377 , ( DistEsti C378 )) ) by L1091;
thus L1093: thesis by L1092 , L1081 , L1085 , L1090 , L1088 , XBOOLE_1:1;
end;
end;
L1095: S14[ ( 0 ) ] by NAT_1:3;
thus L1096: (for B379 being (Element of ( NAT )) holds S14[ B379 ]) from NAT_1:sch 1(L1095 , L1080);
end;
theorem
L1097: (for B380 being non  empty set holds (for B381 being  lower-bounded  modular LATTICE holds (for B382 being (distance_function of B380 , B381) holds (for B383 being (ExtensionSeq2 of B380 , B382) holds (for B384 , B385 being (Element of ( NAT )) holds (B384 <= B385 implies ( ( B383 . B384 ) `2 ) c= ( ( B383 . B385 ) `2 )))))))
proof
let C381 being non  empty set;
let C382 being  lower-bounded  modular LATTICE;
let C383 being (distance_function of C381 , C382);
let C384 being (ExtensionSeq2 of C381 , C383);
let C385 being (Element of ( NAT ));
defpred S15[ (Element of ( NAT )) ] means (C385 <= $1 implies ( ( C384 . C385 ) `2 ) c= ( ( C384 . $1 ) `2 ));
L1098: (for B386 being (Element of ( NAT )) holds (S15[ B386 ] implies S15[ ( B386 + 1 ) ]))
proof
let C386 being (Element of ( NAT ));
assume that
L1099: (C385 <= C386 implies ( ( C384 . C385 ) `2 ) c= ( ( C384 . C386 ) `2 ))
and
L1100: C385 <= ( C386 + 1 );
per cases  by L1100 , NAT_1:8;
suppose L1101: C385 = ( C386 + 1 );

thus L1102: thesis by L1101;
end;
suppose L1103: C385 <= C386;

consider C387 being non  empty set, C388 being (distance_function of C387 , C382), C389 being non  empty set, C390 being (distance_function of C389 , C382) such that L1104: C389 , C390 is_extension2_of C387 , C388 and L1105: ( C384 . C386 ) = [ C387 , C388 ] and L1106: ( C384 . ( C386 + 1 ) ) = [ C389 , C390 ] by L1051;
consider C391 being (QuadrSeq of C388) such that L1107: C389 = ( NextSet2 C388 ) and L1108: C390 = ( NextDelta2 C391 ) by L1104 , L1008;
L1109: ( [ C387 , C388 ] `2 ) = C388;
L1110: ( ( C384 . C386 ) `2 ) c= ( ConsecutiveDelta2 (C391 , ( DistEsti C388 )) ) by L1109 , L782 , L1105;
L1111: ( [ C389 , C390 ] `2 ) = ( ConsecutiveDelta2 (C391 , ( DistEsti C388 )) ) by L1108;
thus L1112: thesis by L1111 , L1099 , L1103 , L1110 , L1106 , XBOOLE_1:1;
end;
end;
L1114: S15[ ( 0 ) ] by NAT_1:3;
thus L1115: (for B387 being (Element of ( NAT )) holds S15[ B387 ]) from NAT_1:sch 1(L1114 , L1098);
end;
theorem
L1116: (for B388 being  lower-bounded  modular LATTICE holds (for B389 being (ExtensionSeq2 of (the carrier of B388) , ( BasicDF B388 )) holds (for B390 being non  empty set holds (B390 = ( union { ( ( B389 . B391 ) `1 ) where B391 is (Element of ( NAT )) : (not contradiction) } ) implies ( union { ( ( B389 . B392 ) `2 ) where B392 is (Element of ( NAT )) : (not contradiction) } ) is (distance_function of B390 , B388)))))
proof
let C392 being  lower-bounded  modular LATTICE;
let C393 being (ExtensionSeq2 of (the carrier of C392) , ( BasicDF C392 ));
let C394 being non  empty set;
assume L1117: C394 = ( union { ( ( C393 . B393 ) `1 ) where B393 is (Element of ( NAT )) : (not contradiction) } );
reconsider D193 = C394 as non  empty set;
set D194 = (the carrier of C392);
set D195 = ( union { ( ( C393 . B394 ) `2 ) where B394 is (Element of ( NAT )) : (not contradiction) } );
L1118:
now
let C395 , C396 being set;
assume that
L1119: C395 in { ( ( C393 . B395 ) `2 ) where B395 is (Element of ( NAT )) : (not contradiction) }
and
L1120: C396 in { ( ( C393 . B396 ) `2 ) where B396 is (Element of ( NAT )) : (not contradiction) };
consider C397 being (Element of ( NAT )) such that L1121: C395 = ( ( C393 . C397 ) `2 ) by L1119;
consider C398 being (Element of ( NAT )) such that L1122: C396 = ( ( C393 . C398 ) `2 ) by L1120;
L1123: (C397 <= C398 or C398 <= C397);
L1124: (C395 c= C396 or C396 c= C395) by L1123 , L1121 , L1122 , L1097;
thus L1125: C395 , C396 are_c=-comparable  by L1124 , XBOOLE_0:def 9;
end;
L1126: { ( ( C393 . B397 ) `2 ) where B397 is (Element of ( NAT )) : (not contradiction) } is  c=-linear by L1118 , ORDINAL1:def 8;
L1127: { ( ( C393 . B398 ) `2 ) where B398 is (Element of ( NAT )) : (not contradiction) } c= ( PFuncs ([: D193 , D193 :] , D194) )
proof
let C399 being set;
assume L1128: C399 in { ( ( C393 . B399 ) `2 ) where B399 is (Element of ( NAT )) : (not contradiction) };
consider C400 being (Element of ( NAT )) such that L1129: C399 = ( ( C393 . C400 ) `2 ) by L1128;
consider C401 being non  empty set, C402 being (distance_function of C401 , C392), C403 being non  empty set, C404 being (distance_function of C403 , C392) such that L1130: C403 , C404 is_extension2_of C401 , C402 and L1131: ( C393 . C400 ) = [ C401 , C402 ] and L1132: ( C393 . ( C400 + 1 ) ) = [ C403 , C404 ] by L1051;
L1133: C401 = ( [ C401 , C402 ] `1 );
L1134: C402 = ( [ C401 , C402 ] `2 );
L1135: C401 in { ( ( C393 . B400 ) `1 ) where B400 is (Element of ( NAT )) : (not contradiction) } by L1133 , L1131;
L1136: (( dom C402 ) = [: C401 , C401 :] & C401 c= D193) by L1135 , L1117 , FUNCT_2:def 1 , ZFMISC_1:74;
L1137: (( rng C402 ) c= D194 & ( dom C402 ) c= [: D193 , D193 :]) by L1136 , ZFMISC_1:96;
L1138: C399 = C402 by L1129 , L1131 , L1134;
thus L1139: thesis by L1138 , L1137 , PARTFUN1:def 3;
end;
L1140: D195 in ( PFuncs ([: D193 , D193 :] , D194) ) by L1127 , L1126 , TREES_2:40;
L1141: (ex B401 being Function st (D195 = B401 & ( dom B401 ) c= [: D193 , D193 :] & ( rng B401 ) c= D194)) by L1140 , PARTFUN1:def 3;
L1142: ( ( C393 . ( 0 ) ) `1 ) in { ( ( C393 . B402 ) `1 ) where B402 is (Element of ( NAT )) : (not contradiction) };
reconsider D196 = { ( ( C393 . B403 ) `1 ) where B403 is (Element of ( NAT )) : (not contradiction) } as non  empty set by L1142;
set D197 = { [: B404 , B404 :] where B404 is (Element of D196) : B404 in D196 };
set D198 = { [: ( ( C393 . B405 ) `1 ) , ( ( C393 . B405 ) `1 ) :] where B405 is (Element of ( NAT )) : (not contradiction) };
defpred S16[ set , set ] means $2 = ( ( C393 . $1 ) `2 );
L1143: D197 = D198
proof
thus L1144: D197 c= D198
proof
let C405 being set;
assume L1145: C405 in D197;
consider C406 being (Element of D196) such that L1146: C405 = [: C406 , C406 :] and L1147: C406 in D196 by L1145;
L1148: (ex B406 being (Element of ( NAT )) st C406 = ( ( C393 . B406 ) `1 )) by L1147;
thus L1149: thesis by L1148 , L1146;
end;

let C407 being set;
assume L1150: C407 in D198;
consider C408 being (Element of ( NAT )) such that L1151: C407 = [: ( ( C393 . C408 ) `1 ) , ( ( C393 . C408 ) `1 ) :] by L1150;
L1152: ( ( C393 . C408 ) `1 ) in D196;
thus L1153: thesis by L1152 , L1151;
end;
reconsider D199 = D195 as Function by L1141;
L1154: (for B407 being set holds (B407 in ( NAT ) implies (ex B408 being set st S16[ B407 , B408 ])));
consider C409 being Function such that L1155: ( dom C409 ) = ( NAT ) and L1156: (for B409 being set holds (B409 in ( NAT ) implies S16[ B409 , ( C409 . B409 ) ])) from CLASSES1:sch 1(L1154);
L1157: ( rng C409 ) = { ( ( C393 . B410 ) `2 ) where B410 is (Element of ( NAT )) : (not contradiction) }
proof
thus L1158: ( rng C409 ) c= { ( ( C393 . B411 ) `2 ) where B411 is (Element of ( NAT )) : (not contradiction) }
proof
let C410 being set;
assume L1159: C410 in ( rng C409 );
consider C411 being set such that L1160: C411 in ( dom C409 ) and L1161: ( C409 . C411 ) = C410 by L1159 , FUNCT_1:def 3;
reconsider D200 = C411 as (Element of ( NAT )) by L1155 , L1160;
L1162: C410 = ( ( C393 . D200 ) `2 ) by L1156 , L1161;
thus L1163: thesis by L1162;
end;

let C412 being set;
assume L1164: C412 in { ( ( C393 . B412 ) `2 ) where B412 is (Element of ( NAT )) : (not contradiction) };
consider C413 being (Element of ( NAT )) such that L1165: C412 = ( ( C393 . C413 ) `2 ) by L1164;
L1166: C412 = ( C409 . C413 ) by L1156 , L1165;
thus L1167: thesis by L1166 , L1155 , FUNCT_1:def 3;
end;
L1168: C409 is  Function-yielding
proof
let C414 being set;
assume L1169: C414 in ( dom C409 );
reconsider D201 = C414 as (Element of ( NAT )) by L1169 , L1155;
consider C415 being non  empty set, C416 being (distance_function of C415 , C392), C417 being non  empty set, C418 being (distance_function of C417 , C392) such that L1170: C417 , C418 is_extension2_of C415 , C416 and L1171: ( C393 . D201 ) = [ C415 , C416 ] and L1172: ( C393 . ( D201 + 1 ) ) = [ C417 , C418 ] by L1051;
L1173: ( [ C415 , C416 ] `2 ) = C416;
thus L1174: thesis by L1173 , L1156 , L1171;
end;
reconsider D202 = C409 as  Function-yielding Function by L1168;
L1175: ( rng ( doms D202 ) ) = D198
proof
thus L1176: ( rng ( doms D202 ) ) c= D198
proof
let C419 being set;
assume L1177: C419 in ( rng ( doms D202 ) );
consider C420 being set such that L1178: C420 in ( dom ( doms D202 ) ) and L1179: C419 = ( ( doms D202 ) . C420 ) by L1177 , FUNCT_1:def 3;
L1180: C420 in ( dom D202 ) by L1178 , FUNCT_6:59;
reconsider D203 = C420 as (Element of ( NAT )) by L1155 , L1178 , FUNCT_6:59;
consider C421 being non  empty set, C422 being (distance_function of C421 , C392), C423 being non  empty set, C424 being (distance_function of C423 , C392) such that L1181: C423 , C424 is_extension2_of C421 , C422 and L1182: ( C393 . D203 ) = [ C421 , C422 ] and L1183: ( C393 . ( D203 + 1 ) ) = [ C423 , C424 ] by L1051;
L1184: ( [ C421 , C422 ] `2 ) = C422;
L1185: ( [ C421 , C422 ] `1 ) = C421;
L1186: C419 = ( dom ( D202 . D203 ) ) by L1179 , L1180 , FUNCT_6:22
.= ( dom C422 ) by L1156 , L1184 , L1182
.= [: ( ( C393 . D203 ) `1 ) , ( ( C393 . D203 ) `1 ) :] by L1185 , L1182 , FUNCT_2:def 1;
thus L1187: thesis by L1186;
end;

let C425 being set;
assume L1188: C425 in D198;
consider C426 being (Element of ( NAT )) such that L1189: C425 = [: ( ( C393 . C426 ) `1 ) , ( ( C393 . C426 ) `1 ) :] by L1188;
consider C427 being non  empty set, C428 being (distance_function of C427 , C392), C429 being non  empty set, C430 being (distance_function of C429 , C392) such that L1190: C429 , C430 is_extension2_of C427 , C428 and L1191: ( C393 . C426 ) = [ C427 , C428 ] and L1192: ( C393 . ( C426 + 1 ) ) = [ C429 , C430 ] by L1051;
L1193: ( [ C427 , C428 ] `2 ) = C428;
L1194: C426 in ( NAT );
L1195: C426 in ( dom ( doms D202 ) ) by L1194 , L1155 , FUNCT_6:59;
L1196: ( [ C427 , C428 ] `1 ) = C427;
L1197: C425 = ( dom C428 ) by L1196 , L1189 , L1191 , FUNCT_2:def 1
.= ( dom ( D202 . C426 ) ) by L1156 , L1193 , L1191
.= ( ( doms D202 ) . C426 ) by L1155 , FUNCT_6:22;
thus L1198: thesis by L1197 , L1195 , FUNCT_1:def 3;
end;
L1199:
now
let C431 , C432 being set;
assume that
L1200: C431 in D196
and
L1201: C432 in D196;
consider C433 being (Element of ( NAT )) such that L1202: C431 = ( ( C393 . C433 ) `1 ) by L1200;
consider C434 being (Element of ( NAT )) such that L1203: C432 = ( ( C393 . C434 ) `1 ) by L1201;
L1204: (C433 <= C434 or C434 <= C433);
L1205: (C431 c= C432 or C432 c= C431) by L1204 , L1202 , L1203 , L1079;
thus L1206: C431 , C432 are_c=-comparable  by L1205 , XBOOLE_0:def 9;
end;
L1207: D196 is  c=-linear by L1199 , ORDINAL1:def 8;
L1208: [: D193 , D193 :] = ( union ( rng ( doms D202 ) ) ) by L1207 , L1117 , L1175 , L1143 , LATTICE5:3
.= ( dom D199 ) by L1157 , LATTICE5:1;
reconsider D204 = D199 as (BiFunction of D193 , C392) by L1208 , L1141 , FUNCT_2:def 1 , RELSET_1:4;
L1209: D204 is  symmetric
proof
let C435 , C436 being (Element of D193);
consider C437 being set such that L1210: C435 in C437 and L1211: C437 in D196 by L1117 , TARSKI:def 4;
consider C438 being (Element of ( NAT )) such that L1212: C437 = ( ( C393 . C438 ) `1 ) by L1211;
consider C439 being non  empty set, C440 being (distance_function of C439 , C392), C441 being non  empty set, C442 being (distance_function of C441 , C392) such that L1213: C441 , C442 is_extension2_of C439 , C440 and L1214: ( C393 . C438 ) = [ C439 , C440 ] and L1215: ( C393 . ( C438 + 1 ) ) = [ C441 , C442 ] by L1051;
L1216: ( [ C439 , C440 ] `1 ) = C439;
L1217: C435 in C439 by L1216 , L1210 , L1212 , L1214;
L1218: ( [ C439 , C440 ] `2 ) = C440;
L1219: C440 in { ( ( C393 . B413 ) `2 ) where B413 is (Element of ( NAT )) : (not contradiction) } by L1218 , L1214;
L1220: C440 c= D204 by L1219 , ZFMISC_1:74;
consider C443 being set such that L1221: C436 in C443 and L1222: C443 in D196 by L1117 , TARSKI:def 4;
consider C444 being (Element of ( NAT )) such that L1223: C443 = ( ( C393 . C444 ) `1 ) by L1222;
consider C445 being non  empty set, C446 being (distance_function of C445 , C392), C447 being non  empty set, C448 being (distance_function of C447 , C392) such that L1224: C447 , C448 is_extension2_of C445 , C446 and L1225: ( C393 . C444 ) = [ C445 , C446 ] and L1226: ( C393 . ( C444 + 1 ) ) = [ C447 , C448 ] by L1051;
L1227: ( [ C445 , C446 ] `1 ) = C445;
L1228: C436 in C445 by L1227 , L1221 , L1223 , L1225;
L1229: ( [ C445 , C446 ] `2 ) = C446;
L1230: C446 in { ( ( C393 . B414 ) `2 ) where B414 is (Element of ( NAT )) : (not contradiction) } by L1229 , L1225;
L1231: C446 c= D204 by L1230 , ZFMISC_1:74;
per cases ;
suppose L1232: C438 <= C444;

L1233: C439 c= C445 by L1232 , L1216 , L1227 , L1079 , L1214 , L1225;
reconsider D205 = C435 , D206 = C436 as (Element of C445) by L1233 , L1217 , L1221 , L1223 , L1225 , L1227;
L1234: ( dom C446 ) = [: C445 , C445 :] by FUNCT_2:def 1;
thus L1235: ( D204 . (C435 , C436) ) = ( C446 . [ D205 , D206 ] ) by L1234 , L1231 , GRFUNC_1:2
.= ( C446 . (D205 , D206) )
.= ( C446 . (D206 , D205) ) by LATTICE5:def 5
.= ( D204 . [ D206 , D205 ] ) by L1231 , L1234 , GRFUNC_1:2
.= ( D204 . (C436 , C435) );
end;
suppose L1236: C444 <= C438;

L1237: C445 c= C439 by L1236 , L1216 , L1227 , L1079 , L1214 , L1225;
reconsider D207 = C435 , D208 = C436 as (Element of C439) by L1237 , L1210 , L1212 , L1214 , L1228 , L1216;
L1238: ( dom C440 ) = [: C439 , C439 :] by FUNCT_2:def 1;
thus L1239: ( D204 . (C435 , C436) ) = ( C440 . [ D207 , D208 ] ) by L1238 , L1220 , GRFUNC_1:2
.= ( C440 . (D207 , D208) )
.= ( C440 . (D208 , D207) ) by LATTICE5:def 5
.= ( D204 . [ D208 , D207 ] ) by L1220 , L1238 , GRFUNC_1:2
.= ( D204 . (C436 , C435) );
end;
end;
L1241: D204 is  u.t.i.
proof
let C449 , C450 , C451 being (Element of D193);
consider C452 being set such that L1242: C449 in C452 and L1243: C452 in D196 by L1117 , TARSKI:def 4;
consider C453 being (Element of ( NAT )) such that L1244: C452 = ( ( C393 . C453 ) `1 ) by L1243;
consider C454 being non  empty set, C455 being (distance_function of C454 , C392), C456 being non  empty set, C457 being (distance_function of C456 , C392) such that L1245: C456 , C457 is_extension2_of C454 , C455 and L1246: ( C393 . C453 ) = [ C454 , C455 ] and L1247: ( C393 . ( C453 + 1 ) ) = [ C456 , C457 ] by L1051;
L1248: ( [ C454 , C455 ] `1 ) = C454;
L1249: C449 in C454 by L1248 , L1242 , L1244 , L1246;
L1250: ( [ C454 , C455 ] `2 ) = C455;
L1251: C455 in { ( ( C393 . B415 ) `2 ) where B415 is (Element of ( NAT )) : (not contradiction) } by L1250 , L1246;
L1252: C455 c= D204 by L1251 , ZFMISC_1:74;
L1253: ( dom C455 ) = [: C454 , C454 :] by FUNCT_2:def 1;
consider C458 being set such that L1254: C450 in C458 and L1255: C458 in D196 by L1117 , TARSKI:def 4;
consider C459 being (Element of ( NAT )) such that L1256: C458 = ( ( C393 . C459 ) `1 ) by L1255;
consider C460 being non  empty set, C461 being (distance_function of C460 , C392), C462 being non  empty set, C463 being (distance_function of C462 , C392) such that L1257: C462 , C463 is_extension2_of C460 , C461 and L1258: ( C393 . C459 ) = [ C460 , C461 ] and L1259: ( C393 . ( C459 + 1 ) ) = [ C462 , C463 ] by L1051;
L1260: ( [ C460 , C461 ] `1 ) = C460;
L1261: C450 in C460 by L1260 , L1254 , L1256 , L1258;
L1262: ( [ C460 , C461 ] `2 ) = C461;
L1263: C461 in { ( ( C393 . B416 ) `2 ) where B416 is (Element of ( NAT )) : (not contradiction) } by L1262 , L1258;
L1264: C461 c= D204 by L1263 , ZFMISC_1:74;
L1265: ( dom C461 ) = [: C460 , C460 :] by FUNCT_2:def 1;
consider C464 being set such that L1266: C451 in C464 and L1267: C464 in D196 by L1117 , TARSKI:def 4;
consider C465 being (Element of ( NAT )) such that L1268: C464 = ( ( C393 . C465 ) `1 ) by L1267;
consider C466 being non  empty set, C467 being (distance_function of C466 , C392), C468 being non  empty set, C469 being (distance_function of C468 , C392) such that L1269: C468 , C469 is_extension2_of C466 , C467 and L1270: ( C393 . C465 ) = [ C466 , C467 ] and L1271: ( C393 . ( C465 + 1 ) ) = [ C468 , C469 ] by L1051;
L1272: ( [ C466 , C467 ] `1 ) = C466;
L1273: C451 in C466 by L1272 , L1266 , L1268 , L1270;
L1274: ( [ C466 , C467 ] `2 ) = C467;
L1275: C467 in { ( ( C393 . B417 ) `2 ) where B417 is (Element of ( NAT )) : (not contradiction) } by L1274 , L1270;
L1276: C467 c= D204 by L1275 , ZFMISC_1:74;
L1277: ( dom C467 ) = [: C466 , C466 :] by FUNCT_2:def 1;
per cases ;
suppose L1278: C453 <= C459;

L1279: C454 c= C460 by L1278 , L1248 , L1260 , L1079 , L1246 , L1258;
thus L1280: ( ( D204 . (C449 , C450) ) "\/" ( D204 . (C450 , C451) ) ) >= ( D204 . (C449 , C451) )
proof
per cases ;
suppose L1281: C459 <= C465;

L1282: C460 c= C466 by L1281 , L1260 , L1272 , L1079 , L1258 , L1270;
L1283: C454 c= C466 by L1282 , L1279 , XBOOLE_1:1;
reconsider D209 = C449 , D210 = C450 , D211 = C451 as (Element of C466) by L1283 , L1249 , L1261 , L1266 , L1268 , L1270 , L1282 , L1272;
L1284: ( D204 . (C450 , C451) ) = ( C467 . [ D210 , D211 ] ) by L1276 , L1277 , GRFUNC_1:2
.= ( C467 . (D210 , D211) );
L1285: ( D204 . (C449 , C451) ) = ( C467 . [ D209 , D211 ] ) by L1276 , L1277 , GRFUNC_1:2
.= ( C467 . (D209 , D211) );
L1286: ( D204 . (C449 , C450) ) = ( C467 . [ D209 , D210 ] ) by L1276 , L1277 , GRFUNC_1:2
.= ( C467 . (D209 , D210) );
thus L1287: thesis by L1286 , L1284 , L1285 , LATTICE5:def 7;
end;
suppose L1288: C465 <= C459;

L1289: C466 c= C460 by L1288 , L1260 , L1272 , L1079 , L1258 , L1270;
reconsider D212 = C449 , D213 = C450 , D214 = C451 as (Element of C460) by L1289 , L1249 , L1254 , L1256 , L1258 , L1273 , L1279 , L1260;
L1290: ( D204 . (C450 , C451) ) = ( C461 . [ D213 , D214 ] ) by L1264 , L1265 , GRFUNC_1:2
.= ( C461 . (D213 , D214) );
L1291: ( D204 . (C449 , C451) ) = ( C461 . [ D212 , D214 ] ) by L1264 , L1265 , GRFUNC_1:2
.= ( C461 . (D212 , D214) );
L1292: ( D204 . (C449 , C450) ) = ( C461 . [ D212 , D213 ] ) by L1264 , L1265 , GRFUNC_1:2
.= ( C461 . (D212 , D213) );
thus L1293: thesis by L1292 , L1290 , L1291 , LATTICE5:def 7;
end;
end;

end;
suppose L1281: C459 <= C453;

L1282: C460 c= C454 by L1281 , L1248 , L1260 , L1079 , L1246 , L1258;
thus L1283: ( ( D204 . (C449 , C450) ) "\/" ( D204 . (C450 , C451) ) ) >= ( D204 . (C449 , C451) )
proof
per cases ;
suppose L1284: C453 <= C465;

L1285: C454 c= C466 by L1284 , L1248 , L1272 , L1079 , L1246 , L1270;
L1286: C460 c= C466 by L1285 , L1282 , XBOOLE_1:1;
reconsider D215 = C449 , D216 = C450 , D217 = C451 as (Element of C466) by L1286 , L1249 , L1261 , L1266 , L1268 , L1270 , L1285 , L1272;
L1287: ( D204 . (C450 , C451) ) = ( C467 . [ D216 , D217 ] ) by L1276 , L1277 , GRFUNC_1:2
.= ( C467 . (D216 , D217) );
L1288: ( D204 . (C449 , C451) ) = ( C467 . [ D215 , D217 ] ) by L1276 , L1277 , GRFUNC_1:2
.= ( C467 . (D215 , D217) );
L1289: ( D204 . (C449 , C450) ) = ( C467 . [ D215 , D216 ] ) by L1276 , L1277 , GRFUNC_1:2
.= ( C467 . (D215 , D216) );
thus L1290: thesis by L1289 , L1287 , L1288 , LATTICE5:def 7;
end;
suppose L1291: C465 <= C453;

L1292: C466 c= C454 by L1291 , L1248 , L1272 , L1079 , L1246 , L1270;
reconsider D218 = C449 , D219 = C450 , D220 = C451 as (Element of C454) by L1292 , L1242 , L1244 , L1246 , L1261 , L1273 , L1282 , L1248;
L1293: ( D204 . (C450 , C451) ) = ( C455 . [ D219 , D220 ] ) by L1252 , L1253 , GRFUNC_1:2
.= ( C455 . (D219 , D220) );
L1294: ( D204 . (C449 , C451) ) = ( C455 . [ D218 , D220 ] ) by L1252 , L1253 , GRFUNC_1:2
.= ( C455 . (D218 , D220) );
L1295: ( D204 . (C449 , C450) ) = ( C455 . [ D218 , D219 ] ) by L1252 , L1253 , GRFUNC_1:2
.= ( C455 . (D218 , D219) );
thus L1296: thesis by L1295 , L1293 , L1294 , LATTICE5:def 7;
end;
end;

end;
end;
L1285: D204 is  zeroed
proof
let C470 being (Element of D193);
consider C471 being set such that L1286: C470 in C471 and L1287: C471 in D196 by L1117 , TARSKI:def 4;
consider C472 being (Element of ( NAT )) such that L1288: C471 = ( ( C393 . C472 ) `1 ) by L1287;
consider C473 being non  empty set, C474 being (distance_function of C473 , C392), C475 being non  empty set, C476 being (distance_function of C475 , C392) such that L1289: C475 , C476 is_extension2_of C473 , C474 and L1290: ( C393 . C472 ) = [ C473 , C474 ] and L1291: ( C393 . ( C472 + 1 ) ) = [ C475 , C476 ] by L1051;
L1292: ( [ C473 , C474 ] `2 ) = C474;
L1293: C474 in { ( ( C393 . B418 ) `2 ) where B418 is (Element of ( NAT )) : (not contradiction) } by L1292 , L1290;
L1294: C474 c= D204 by L1293 , ZFMISC_1:74;
L1295: ( [ C473 , C474 ] `1 ) = C473;
reconsider D221 = C470 as (Element of C473) by L1295 , L1286 , L1288 , L1290;
L1296: ( dom C474 ) = [: C473 , C473 :] by FUNCT_2:def 1;
thus L1297: ( D204 . (C470 , C470) ) = ( C474 . [ D221 , D221 ] ) by L1296 , L1294 , GRFUNC_1:2
.= ( C474 . (D221 , D221) )
.= ( Bottom C392 ) by LATTICE5:def 6;
end;
thus L1298: thesis by L1285 , L1209 , L1241;
end;
theorem
L1299: (for B419 being  lower-bounded  modular LATTICE holds (for B420 being (ExtensionSeq2 of (the carrier of B419) , ( BasicDF B419 )) holds (for B421 being non  empty set holds (for B422 being (distance_function of B421 , B419) holds (for B423 , B424 being (Element of B421) holds (for B425 , B426 being (Element of B419) holds ((B421 = ( union { ( ( B420 . B427 ) `1 ) where B427 is (Element of ( NAT )) : (not contradiction) } ) & B422 = ( union { ( ( B420 . B428 ) `2 ) where B428 is (Element of ( NAT )) : (not contradiction) } ) & ( B422 . (B423 , B424) ) <= ( B425 "\/" B426 )) implies (ex B429 , B430 being (Element of B421) st (( B422 . (B423 , B429) ) = B425 & ( B422 . (B429 , B430) ) = ( ( ( B422 . (B423 , B424) ) "\/" B425 ) "/\" B426 ) & ( B422 . (B430 , B424) ) = B425)))))))))
proof
let C477 being  lower-bounded  modular LATTICE;
let C478 being (ExtensionSeq2 of (the carrier of C477) , ( BasicDF C477 ));
let C479 being non  empty set;
let C480 being (distance_function of C479 , C477);
let C481 , C482 being (Element of C479);
let C483 , C484 being (Element of C477);
assume that
L1300: C479 = ( union { ( ( C478 . B431 ) `1 ) where B431 is (Element of ( NAT )) : (not contradiction) } )
and
L1301: C480 = ( union { ( ( C478 . B432 ) `2 ) where B432 is (Element of ( NAT )) : (not contradiction) } )
and
L1302: ( C480 . (C481 , C482) ) <= ( C483 "\/" C484 );
L1303: ( ( C478 . ( 0 ) ) `1 ) in { ( ( C478 . B433 ) `1 ) where B433 is (Element of ( NAT )) : (not contradiction) };
reconsider D222 = { ( ( C478 . B434 ) `1 ) where B434 is (Element of ( NAT )) : (not contradiction) } as non  empty set by L1303;
consider C485 being set such that L1304: C481 in C485 and L1305: C485 in D222 by L1300 , TARSKI:def 4;
consider C486 being (Element of ( NAT )) such that L1306: C485 = ( ( C478 . C486 ) `1 ) by L1305;
consider C487 being non  empty set, C488 being (distance_function of C487 , C477), C489 being non  empty set, C490 being (distance_function of C489 , C477) such that L1307: C489 , C490 is_extension2_of C487 , C488 and L1308: ( C478 . C486 ) = [ C487 , C488 ] and L1309: ( C478 . ( C486 + 1 ) ) = [ C489 , C490 ] by L1051;
L1310: ( [ C487 , C488 ] `1 ) = C487;
L1311: C481 in C487 by L1310 , L1304 , L1306 , L1308;
L1312: ( [ C487 , C488 ] `2 ) = C488;
L1313: C488 in { ( ( C478 . B435 ) `2 ) where B435 is (Element of ( NAT )) : (not contradiction) } by L1312 , L1308;
L1314: C488 c= C480 by L1313 , L1301 , ZFMISC_1:74;
L1315: ( [ C489 , C490 ] `1 ) = C489;
L1316: C489 in { ( ( C478 . B436 ) `1 ) where B436 is (Element of ( NAT )) : (not contradiction) } by L1315 , L1309;
L1317: C489 c= C479 by L1316 , L1300 , ZFMISC_1:74;
L1318: ( [ C489 , C490 ] `2 ) = C490;
L1319: C490 in { ( ( C478 . B437 ) `2 ) where B437 is (Element of ( NAT )) : (not contradiction) } by L1318 , L1309;
L1320: C490 c= C480 by L1319 , L1301 , ZFMISC_1:74;
consider C491 being set such that L1321: C482 in C491 and L1322: C491 in D222 by L1300 , TARSKI:def 4;
consider C492 being (Element of ( NAT )) such that L1323: C491 = ( ( C478 . C492 ) `1 ) by L1322;
consider C493 being non  empty set, C494 being (distance_function of C493 , C477), C495 being non  empty set, C496 being (distance_function of C495 , C477) such that L1324: C495 , C496 is_extension2_of C493 , C494 and L1325: ( C478 . C492 ) = [ C493 , C494 ] and L1326: ( C478 . ( C492 + 1 ) ) = [ C495 , C496 ] by L1051;
L1327: ( [ C493 , C494 ] `1 ) = C493;
L1328: C482 in C493 by L1327 , L1321 , L1323 , L1325;
L1329: ( [ C493 , C494 ] `2 ) = C494;
L1330: C494 in { ( ( C478 . B438 ) `2 ) where B438 is (Element of ( NAT )) : (not contradiction) } by L1329 , L1325;
L1331: C494 c= C480 by L1330 , L1301 , ZFMISC_1:74;
L1332: ( [ C495 , C496 ] `1 ) = C495;
L1333: C495 in { ( ( C478 . B439 ) `1 ) where B439 is (Element of ( NAT )) : (not contradiction) } by L1332 , L1326;
L1334: C495 c= C479 by L1333 , L1300 , ZFMISC_1:74;
L1335: ( [ C495 , C496 ] `2 ) = C496;
L1336: C496 in { ( ( C478 . B440 ) `2 ) where B440 is (Element of ( NAT )) : (not contradiction) } by L1335 , L1326;
L1337: C496 c= C480 by L1336 , L1301 , ZFMISC_1:74;
per cases ;
suppose L1338: C486 <= C492;

L1339: C487 c= C493 by L1338 , L1310 , L1327 , L1079 , L1308 , L1325;
reconsider D223 = C481 , D224 = C482 as (Element of C493) by L1339 , L1311 , L1321 , L1323 , L1325 , L1327;
L1340: (D223 in C493 & D224 in C493);
L1341: C493 c= C495 by L1327 , L1332 , L1079 , L1325 , L1326 , NAT_1:11;
reconsider D225 = D223 , D226 = D224 as (Element of C495) by L1341 , L1340;
L1342: ( dom C494 ) = [: C493 , C493 :] by FUNCT_2:def 1;
L1343: ( C480 . (C481 , C482) ) = ( C494 . [ D223 , D224 ] ) by L1342 , L1331 , GRFUNC_1:2
.= ( C494 . (D223 , D224) );
consider C497 , C498 being (Element of C495) such that L1344: ( C496 . (C481 , C497) ) = C483 and L1345: ( C496 . (C497 , C498) ) = ( ( ( C494 . (D223 , D224) ) "\/" C483 ) "/\" C484 ) and L1346: ( C496 . (C498 , C482) ) = C483 by L1343 , L1302 , L1324 , L1010;
L1347: (C497 in C495 & C498 in C495);
reconsider D227 = C497 , D228 = C498 as (Element of C479) by L1347 , L1334;
take D227;
take D228;
L1348: ( dom C496 ) = [: C495 , C495 :] by FUNCT_2:def 1;
thus L1349: ( C480 . (C481 , D227) ) = ( C496 . [ D225 , C497 ] ) by L1348 , L1337 , GRFUNC_1:2
.= C483 by L1344;
thus L1350: ( C480 . (D227 , D228) ) = ( C496 . [ C497 , C498 ] ) by L1337 , L1348 , GRFUNC_1:2
.= ( ( ( C480 . (C481 , C482) ) "\/" C483 ) "/\" C484 ) by L1343 , L1345;
thus L1351: ( C480 . (D228 , C482) ) = ( C496 . [ C498 , D226 ] ) by L1337 , L1348 , GRFUNC_1:2
.= C483 by L1346;
end;
suppose L1352: C492 <= C486;

L1353: C493 c= C487 by L1352 , L1310 , L1327 , L1079 , L1308 , L1325;
reconsider D229 = C481 , D230 = C482 as (Element of C487) by L1353 , L1304 , L1306 , L1308 , L1328 , L1310;
L1354: (D229 in C487 & D230 in C487);
L1355: C487 c= C489 by L1310 , L1315 , L1079 , L1308 , L1309 , NAT_1:11;
reconsider D231 = D229 , D232 = D230 as (Element of C489) by L1355 , L1354;
L1356: ( dom C488 ) = [: C487 , C487 :] by FUNCT_2:def 1;
L1357: ( C480 . (C481 , C482) ) = ( C488 . [ D229 , D230 ] ) by L1356 , L1314 , GRFUNC_1:2
.= ( C488 . (D229 , D230) );
consider C499 , C500 being (Element of C489) such that L1358: ( C490 . (C481 , C499) ) = C483 and L1359: ( C490 . (C499 , C500) ) = ( ( ( C488 . (D229 , D230) ) "\/" C483 ) "/\" C484 ) and L1360: ( C490 . (C500 , C482) ) = C483 by L1357 , L1302 , L1307 , L1010;
L1361: (C499 in C489 & C500 in C489);
reconsider D233 = C499 , D234 = C500 as (Element of C479) by L1361 , L1317;
take D233;
take D234;
L1362: ( dom C490 ) = [: C489 , C489 :] by FUNCT_2:def 1;
thus L1363: ( C480 . (C481 , D233) ) = ( C490 . [ D231 , C499 ] ) by L1362 , L1320 , GRFUNC_1:2
.= C483 by L1358;
thus L1364: ( C480 . (D233 , D234) ) = ( C490 . [ C499 , C500 ] ) by L1320 , L1362 , GRFUNC_1:2
.= ( ( ( C480 . (C481 , C482) ) "\/" C483 ) "/\" C484 ) by L1357 , L1359;
thus L1365: ( C480 . (D234 , C482) ) = ( C490 . [ C500 , D232 ] ) by L1320 , L1362 , GRFUNC_1:2
.= C483 by L1360;
end;
end;
L1367: (for B441 being (Element of ( NAT )) holds (B441 in ( Seg 4 ) implies (B441 = 1 or B441 = 2 or B441 = 3 or B441 = 4)))
proof
let C501 being (Element of ( NAT ));
assume L1368: C501 in ( Seg 4 );
L1369: C501 <= 4 by L1368 , FINSEQ_1:1;
L1370: (C501 = ( 0 ) or C501 = 1 or C501 = 2 or C501 = 3 or C501 = 4) by L1369 , NAT_1:28;
thus L1371: thesis by L1370 , L1368 , FINSEQ_1:1;
end;
L1372: (for B442 being (Element of ( NAT )) holds ((1 <= B442 & B442 < 4) implies (B442 = 1 or B442 = 2 or B442 = 3)))
proof
let C502 being (Element of ( NAT ));
assume that
L1373: 1 <= C502
and
L1374: C502 < 4;
L1375: C502 < ( 3 + 1 ) by L1374;
L1376: C502 <= 3 by L1375 , NAT_1:13;
L1377: (C502 = ( 0 ) or C502 = 1 or C502 = 2 or C502 = 3) by L1376 , NAT_1:27;
thus L1378: thesis by L1377 , L1373;
end;
theorem
L1379: (for B443 being  lower-bounded  modular LATTICE holds (for B444 being (ExtensionSeq2 of (the carrier of B443) , ( BasicDF B443 )) holds (for B445 being non  empty set holds (for B446 being (distance_function of B445 , B443) holds (for B447 being (Homomorphism of B443 , ( EqRelLATT B445 )) holds (for B448 , B449 being (Equivalence_Relation of B445) holds (for B450 , B451 being set holds ((B447 = ( alpha B446 ) & B445 = ( union { ( ( B444 . B452 ) `1 ) where B452 is (Element of ( NAT )) : (not contradiction) } ) & B446 = ( union { ( ( B444 . B453 ) `2 ) where B453 is (Element of ( NAT )) : (not contradiction) } ) & B448 in (the carrier of ( Image B447 )) & B449 in (the carrier of ( Image B447 )) & [ B450 , B451 ] in ( B448 "\/" B449 )) implies (ex B454 being non  empty (FinSequence of B445) st (( len B454 ) = ( 2 + 2 ) & B450 , B451 are_joint_by B454 , B448 , B449))))))))))
proof
let C503 being  lower-bounded  modular LATTICE;
let C504 being (ExtensionSeq2 of (the carrier of C503) , ( BasicDF C503 ));
let C505 being non  empty set;
let C506 being (distance_function of C505 , C503);
let C507 being (Homomorphism of C503 , ( EqRelLATT C505 ));
let C508 , C509 being (Equivalence_Relation of C505);
let C510 , C511 being set;
assume that
L1380: C507 = ( alpha C506 )
and
L1381: (C505 = ( union { ( ( C504 . B455 ) `1 ) where B455 is (Element of ( NAT )) : (not contradiction) } ) & C506 = ( union { ( ( C504 . B456 ) `2 ) where B456 is (Element of ( NAT )) : (not contradiction) } ))
and
L1382: C508 in (the carrier of ( Image C507 ))
and
L1383: C509 in (the carrier of ( Image C507 ))
and
L1384: [ C510 , C511 ] in ( C508 "\/" C509 );
L1385: (the carrier of ( Image C507 )) = ( rng C507 ) by YELLOW_0:def 15;
consider C512 being set such that L1386: C512 in ( dom C507 ) and L1387: C508 = ( C507 . C512 ) by L1385 , L1382 , FUNCT_1:def 3;
consider C513 being set such that L1388: C513 in ( dom C507 ) and L1389: C509 = ( C507 . C513 ) by L1383 , L1385 , FUNCT_1:def 3;
reconsider D235 = C512 , D236 = C513 as (Element of C503) by L1386 , L1388;
reconsider D237 = D235 , D238 = D236 as (Element of C503);
consider C514 being (Equivalence_Relation of C505) such that L1390: C514 = ( C507 . ( D237 "\/" D238 ) ) and L1391: (for B457 , B458 being (Element of C505) holds ([ B457 , B458 ] in C514 iff ( C506 . (B457 , B458) ) <= ( D237 "\/" D238 ))) by L1380 , LATTICE5:def 8;
consider C515 being (Equivalence_Relation of C505) such that L1392: C515 = ( C507 . D238 ) and L1393: (for B459 , B460 being (Element of C505) holds ([ B459 , B460 ] in C515 iff ( C506 . (B459 , B460) ) <= D238)) by L1380 , LATTICE5:def 8;
consider C516 being (Equivalence_Relation of C505) such that L1394: C516 = ( C507 . D237 ) and L1395: (for B461 , B462 being (Element of C505) holds ([ B461 , B462 ] in C516 iff ( C506 . (B461 , B462) ) <= D237)) by L1380 , LATTICE5:def 8;
L1396: ( field ( C508 "\/" C509 ) ) = C505 by ORDERS_1:12;
reconsider D239 = C510 , D240 = C511 as (Element of C505) by L1396 , L1384 , RELAT_1:15;
L1397: ( Seg 4 ) = { B463 where B463 is (Element of ( NAT )) : (1 <= B463 & B463 <= 4) } by FINSEQ_1:def 1;
L1398: 1 in ( Seg 4 ) by L1397;
L1399: C514 = ( ( C507 . D237 ) "\/" ( C507 . D238 ) ) by L1390 , WAYBEL_6:2
.= ( C508 "\/" C509 ) by L1387 , L1389 , LATTICE5:10;
L1400: ( C506 . (D239 , D240) ) <= ( D237 "\/" D238 ) by L1399 , L1384 , L1391;
consider C517 , C518 being (Element of C505) such that L1401: ( C506 . (D239 , C517) ) = D237 and L1402: ( C506 . (C517 , C518) ) = ( ( ( C506 . (D239 , D240) ) "\/" D237 ) "/\" D238 ) and L1403: ( C506 . (C518 , D240) ) = D237 by L1400 , L1381 , L1299;
defpred S17[ set , set ] means (($1 = 1 implies $2 = D239) & ($1 = 2 implies $2 = C517) & ($1 = 3 implies $2 = C518) & ($1 = 4 implies $2 = D240));
L1404: (for B464 being Nat holds (B464 in ( Seg 4 ) implies (ex B465 being set st S17[ B464 , B465 ])))
proof
let C519 being Nat;
assume L1405: C519 in ( Seg 4 );
per cases  by L1405 , L1367;
suppose L1406: C519 = 1;

take C510;
thus L1407: thesis by L1406;
end;
suppose L1408: C519 = 2;

take C517;
thus L1409: thesis by L1408;
end;
suppose L1410: C519 = 3;

take C518;
thus L1411: thesis by L1410;
end;
suppose L1412: C519 = 4;

take C511;
thus L1413: thesis by L1412;
end;
end;
L1415: (ex B466 being FinSequence st (( dom B466 ) = ( Seg 4 ) & (for B467 being Nat holds (B467 in ( Seg 4 ) implies S17[ B467 , ( B466 . B467 ) ])))) from FINSEQ_1:sch 1(L1404);
consider C520 being FinSequence such that L1416: ( dom C520 ) = ( Seg 4 ) and L1417: (for B468 being Nat holds (B468 in ( Seg 4 ) implies ((B468 = 1 implies ( C520 . B468 ) = D239) & (B468 = 2 implies ( C520 . B468 ) = C517) & (B468 = 3 implies ( C520 . B468 ) = C518) & (B468 = 4 implies ( C520 . B468 ) = D240)))) by L1415;
L1418: ( len C520 ) = 4 by L1416 , FINSEQ_1:def 3;
L1419: 3 in ( Seg 4 ) by L1397;
L1420: 4 in ( Seg 4 ) by L1397;
L1421: 2 in ( Seg 4 ) by L1397;
L1422: ( rng C520 ) c= C505
proof
let C521 being set;
assume L1423: C521 in ( rng C520 );
consider C522 being set such that L1424: C522 in ( dom C520 ) and L1425: C521 = ( C520 . C522 ) by L1423 , FUNCT_1:def 3;
per cases  by L1416 , L1424 , L1367;
suppose L1426: C522 = 1;

L1427: ( C520 . C522 ) = D239 by L1426 , L1417 , L1398;
thus L1428: thesis by L1427 , L1425;
end;
suppose L1429: C522 = 2;

L1430: ( C520 . C522 ) = C517 by L1429 , L1417 , L1421;
thus L1431: thesis by L1430 , L1425;
end;
suppose L1432: C522 = 3;

L1433: ( C520 . C522 ) = C518 by L1432 , L1417 , L1419;
thus L1434: thesis by L1433 , L1425;
end;
suppose L1435: C522 = 4;

L1436: ( C520 . C522 ) = D240 by L1435 , L1417 , L1420;
thus L1437: thesis by L1436 , L1425;
end;
end;
reconsider D241 = C520 as (FinSequence of C505) by L1422 , FINSEQ_1:def 4;
L1439: ( len D241 ) <> ( 0 ) by L1416 , FINSEQ_1:def 3;
reconsider D242 = D241 as non  empty (FinSequence of C505) by L1439;
L1440: ( D242 . 1 ) = C510 by L1417 , L1398;
L1441: (for B469 being (Element of ( NAT )) holds ((1 <= B469 & B469 < ( len D242 )) implies ((B469 is  odd implies [ ( D242 . B469 ) , ( D242 . ( B469 + 1 ) ) ] in C508) & (B469 is  even implies [ ( D242 . B469 ) , ( D242 . ( B469 + 1 ) ) ] in C509))))
proof
let C523 being (Element of ( NAT ));
assume L1442: (1 <= C523 & C523 < ( len D242 ));
per cases  by L1418 , L1442 , L1372;
suppose L1443: C523 = 1;

L1444: [ D239 , C517 ] in C516 by L1395 , L1401;
L1445: [ ( D242 . 1 ) , C517 ] in C516 by L1444 , L1417 , L1398;
thus L1446: thesis by L1445 , L1387 , L1394 , L1417 , L1421 , L1443;
end;
suppose L1447: C523 = 2;

L1448: ( ( C506 . (D239 , D240) ) "\/" D237 ) <= ( ( D237 "\/" D238 ) "\/" D237 ) by L1400 , WAYBEL_1:2;
L1449: ( ( C506 . (D239 , D240) ) "\/" D237 ) <= ( D238 "\/" ( D237 "\/" D237 ) ) by L1448 , LATTICE3:14;
L1450: ( ( C506 . (D239 , D240) ) "\/" D237 ) <= ( D238 "\/" D237 ) by L1449 , YELLOW_5:1;
L1451: ( ( ( C506 . (D239 , D240) ) "\/" D237 ) "/\" D238 ) <= ( D238 "/\" ( D238 "\/" D237 ) ) by L1450 , WAYBEL_1:1;
L1452: ( ( ( C506 . (D239 , D240) ) "\/" D237 ) "/\" D238 ) <= D238 by L1451 , LATTICE3:18;
L1453: [ C517 , C518 ] in C515 by L1452 , L1393 , L1402;
L1454: [ ( D242 . 2 ) , C518 ] in C515 by L1453 , L1417 , L1421;
consider C524 being (Element of ( NAT )) such that L1455: C524 = 1;
L1456: ( 2 * C524 ) = C523 by L1447 , L1455;
thus L1457: thesis by L1456 , L1389 , L1392 , L1417 , L1419 , L1447 , L1454;
end;
suppose L1458: C523 = 3;

L1459: [ C518 , D240 ] in C516 by L1395 , L1403;
L1460: [ ( D242 . 3 ) , D240 ] in C516 by L1459 , L1417 , L1419;
consider C525 being (Element of ( NAT )) such that L1461: C525 = 1;
L1462: ( ( 2 * C525 ) + 1 ) = C523 by L1458 , L1461;
thus L1463: thesis by L1462 , L1387 , L1394 , L1417 , L1420 , L1458 , L1460;
end;
end;
take D242;
thus L1465: ( len D242 ) = ( 2 + 2 ) by L1416 , FINSEQ_1:def 3;
L1466: ( D242 . ( len D242 ) ) = ( D242 . 4 ) by L1416 , FINSEQ_1:def 3
.= C511 by L1417 , L1420;
thus L1467: thesis by L1466 , L1440 , L1441 , LATTICE5:def 3;
end;
theorem
L1468: (for B470 being  lower-bounded  modular LATTICE holds B470 has_a_representation_of_type<= 2)
proof
let C526 being  lower-bounded  modular LATTICE;
set D243 = (the carrier of C526);
set D244 = ( BasicDF C526 );
set D245 = the (ExtensionSeq2 of D243 , D244);
set D246 = ( union { ( ( D245 . B471 ) `1 ) where B471 is (Element of ( NAT )) : (not contradiction) } );
L1469: ( ( D245 . ( 0 ) ) `1 ) in { ( ( D245 . B472 ) `1 ) where B472 is (Element of ( NAT )) : (not contradiction) };
L1470: ( D245 . ( 0 ) ) = [ D243 , D244 ] by L1051;
L1471: ( [ D243 , D244 ] `1 ) = D243;
L1472: D243 c= D246 by L1471 , L1469 , L1470 , ZFMISC_1:74;
reconsider D247 = D246 as non  empty set by L1472;
reconsider D248 = ( union { ( ( D245 . B473 ) `2 ) where B473 is (Element of ( NAT )) : (not contradiction) } ) as (distance_function of D247 , C526) by L1116;
L1473: ( alpha D248 ) is  join-preserving
proof
set D249 = ( alpha D248 );
let C527 , C528 being (Element of C526);
L1474:  ex_sup_of ( D249 .: { C527 , C528 } ) , ( EqRelLATT D247 ) by YELLOW_0:17;
consider C529 being (Equivalence_Relation of D247) such that L1475: C529 = ( D249 . C528 ) and L1476: (for B474 , B475 being (Element of D247) holds ([ B474 , B475 ] in C529 iff ( D248 . (B474 , B475) ) <= C528)) by LATTICE5:def 8;
consider C530 being (Equivalence_Relation of D247) such that L1477: C530 = ( D249 . C527 ) and L1478: (for B476 , B477 being (Element of D247) holds ([ B476 , B477 ] in C530 iff ( D248 . (B476 , B477) ) <= C527)) by LATTICE5:def 8;
consider C531 being (Equivalence_Relation of D247) such that L1479: C531 = ( D249 . ( C527 "\/" C528 ) ) and L1480: (for B478 , B479 being (Element of D247) holds ([ B478 , B479 ] in C531 iff ( D248 . (B478 , B479) ) <= ( C527 "\/" C528 ))) by LATTICE5:def 8;
L1481: ( field C529 ) = D247 by ORDERS_1:12;
L1482:
now
let C532 , C533 being set;
L1483: C528 <= ( C528 "\/" C527 ) by YELLOW_0:22;
assume L1484: [ C532 , C533 ] in C529;
reconsider D250 = C532 , D251 = C533 as (Element of D247) by L1484 , L1481 , RELAT_1:15;
L1485: ( D248 . (D250 , D251) ) <= C528 by L1476 , L1484;
L1486: ( D248 . (D250 , D251) ) <= ( C528 "\/" C527 ) by L1485 , L1483 , ORDERS_2:3;
thus L1487: [ C532 , C533 ] in C531 by L1486 , L1480;
end;
L1488: C529 c= C531 by L1482 , RELAT_1:def 3;
L1489: ( field C531 ) = D247 by ORDERS_1:12;
L1490: (for B480 , B481 being set holds ([ B480 , B481 ] in C531 implies [ B480 , B481 ] in ( C530 "\/" C529 )))
proof
let C534 , C535 being set;
L1491: ( Seg 4 ) = { B482 where B482 is (Element of ( NAT )) : (1 <= B482 & B482 <= 4) } by FINSEQ_1:def 1;
L1492: 3 in ( Seg 4 ) by L1491;
assume L1493: [ C534 , C535 ] in C531;
reconsider D252 = C534 , D253 = C535 as (Element of D247) by L1493 , L1489 , RELAT_1:15;
L1494: ( D248 . (D252 , D253) ) <= ( C527 "\/" C528 ) by L1480 , L1493;
consider C536 , C537 being (Element of D247) such that L1495: ( D248 . (D252 , C536) ) = C527 and L1496: ( D248 . (C536 , C537) ) = ( ( ( D248 . (D252 , D253) ) "\/" C527 ) "/\" C528 ) and L1497: ( D248 . (C537 , D253) ) = C527 by L1494 , L1299;
L1498: C534 in D247 by L1489 , L1493 , RELAT_1:15;
defpred S18[ set , set ] means (($1 = 1 implies $2 = D252) & ($1 = 2 implies $2 = C536) & ($1 = 3 implies $2 = C537) & ($1 = 4 implies $2 = D253));
L1499: (for B483 being Nat holds (B483 in ( Seg 4 ) implies (ex B484 being set st S18[ B483 , B484 ])))
proof
let C538 being Nat;
assume L1500: C538 in ( Seg 4 );
per cases  by L1500 , L1367;
suppose L1501: C538 = 1;

take D252;
thus L1502: thesis by L1501;
end;
suppose L1503: C538 = 2;

take C536;
thus L1504: thesis by L1503;
end;
suppose L1505: C538 = 3;

take C537;
thus L1506: thesis by L1505;
end;
suppose L1507: C538 = 4;

take D253;
thus L1508: thesis by L1507;
end;
end;
L1510: (ex B485 being FinSequence st (( dom B485 ) = ( Seg 4 ) & (for B486 being Nat holds (B486 in ( Seg 4 ) implies S18[ B486 , ( B485 . B486 ) ])))) from FINSEQ_1:sch 1(L1499);
consider C539 being FinSequence such that L1511: ( dom C539 ) = ( Seg 4 ) and L1512: (for B487 being Nat holds (B487 in ( Seg 4 ) implies ((B487 = 1 implies ( C539 . B487 ) = D252) & (B487 = 2 implies ( C539 . B487 ) = C536) & (B487 = 3 implies ( C539 . B487 ) = C537) & (B487 = 4 implies ( C539 . B487 ) = D253)))) by L1510;
L1513: ( len C539 ) = 4 by L1511 , FINSEQ_1:def 3;
L1514: 4 in ( Seg 4 ) by L1491;
L1515: 1 in ( Seg 4 ) by L1491;
L1516: C534 = ( C539 . 1 ) by L1515 , L1512;
L1517: 2 in ( Seg 4 ) by L1491;
L1518: (for B488 being (Element of ( NAT )) holds ((1 <= B488 & B488 < ( len C539 )) implies [ ( C539 . B488 ) , ( C539 . ( B488 + 1 ) ) ] in ( C530 \/ C529 )))
proof
let C540 being (Element of ( NAT ));
assume L1519: (1 <= C540 & C540 < ( len C539 ));
per cases  by L1513 , L1519 , L1372;
suppose L1520: C540 = 1;

L1521: [ D252 , C536 ] in C530 by L1478 , L1495;
L1522: [ ( C539 . 1 ) , C536 ] in C530 by L1521 , L1512 , L1515;
L1523: [ ( C539 . 1 ) , ( C539 . 2 ) ] in C530 by L1522 , L1512 , L1517;
thus L1524: thesis by L1523 , L1520 , XBOOLE_0:def 3;
end;
suppose L1525: C540 = 2;

L1526: ( ( D248 . (D252 , D253) ) "\/" C527 ) <= ( ( C527 "\/" C528 ) "\/" C527 ) by L1494 , WAYBEL_1:2;
L1527: ( ( D248 . (D252 , D253) ) "\/" C527 ) <= ( C528 "\/" ( C527 "\/" C527 ) ) by L1526 , LATTICE3:14;
L1528: ( ( D248 . (D252 , D253) ) "\/" C527 ) <= ( C528 "\/" C527 ) by L1527 , YELLOW_5:1;
L1529: ( ( ( D248 . (D252 , D253) ) "\/" C527 ) "/\" C528 ) <= ( C528 "/\" ( C528 "\/" C527 ) ) by L1528 , WAYBEL_1:1;
L1530: ( ( ( D248 . (D252 , D253) ) "\/" C527 ) "/\" C528 ) <= C528 by L1529 , LATTICE3:18;
L1531: [ C536 , C537 ] in C529 by L1530 , L1476 , L1496;
L1532: [ ( C539 . 2 ) , C537 ] in C529 by L1531 , L1512 , L1517;
L1533: [ ( C539 . 2 ) , ( C539 . 3 ) ] in C529 by L1532 , L1512 , L1492;
thus L1534: thesis by L1533 , L1525 , XBOOLE_0:def 3;
end;
suppose L1535: C540 = 3;

L1536: [ C537 , D253 ] in C530 by L1478 , L1497;
L1537: [ ( C539 . 3 ) , D253 ] in C530 by L1536 , L1512 , L1492;
L1538: [ ( C539 . 3 ) , ( C539 . 4 ) ] in C530 by L1537 , L1512 , L1514;
thus L1539: thesis by L1538 , L1535 , XBOOLE_0:def 3;
end;
end;
L1541: C535 = ( C539 . 4 ) by L1512 , L1514
.= ( C539 . ( len C539 ) ) by L1511 , FINSEQ_1:def 3;
thus L1542: thesis by L1541 , L1498 , L1513 , L1516 , L1518 , EQREL_1:28;
end;
L1543: C531 c= ( C530 "\/" C529 ) by L1490 , RELAT_1:def 3;
L1544: ( field C530 ) = D247 by ORDERS_1:12;
L1545:
now
let C541 , C542 being set;
L1546: C527 <= ( C527 "\/" C528 ) by YELLOW_0:22;
assume L1547: [ C541 , C542 ] in C530;
reconsider D254 = C541 , D255 = C542 as (Element of D247) by L1547 , L1544 , RELAT_1:15;
L1548: ( D248 . (D254 , D255) ) <= C527 by L1478 , L1547;
L1549: ( D248 . (D254 , D255) ) <= ( C527 "\/" C528 ) by L1548 , L1546 , ORDERS_2:3;
thus L1550: [ C541 , C542 ] in C531 by L1549 , L1480;
end;
L1551: C530 c= C531 by L1545 , RELAT_1:def 3;
L1552: ( C530 \/ C529 ) c= C531 by L1551 , L1488 , XBOOLE_1:8;
L1553: ( C530 "\/" C529 ) c= C531 by L1552 , EQREL_1:def 2;
L1554: ( dom D249 ) = (the carrier of C526) by FUNCT_2:def 1;
L1555: ( sup ( D249 .: { C527 , C528 } ) ) = ( sup { ( D249 . C527 ) , ( D249 . C528 ) } ) by L1554 , FUNCT_1:60
.= ( ( D249 . C527 ) "\/" ( D249 . C528 ) ) by YELLOW_0:41
.= ( C530 "\/" C529 ) by L1477 , L1475 , LATTICE5:10
.= ( D249 . ( C527 "\/" C528 ) ) by L1479 , L1553 , L1543 , XBOOLE_0:def 10
.= ( D249 . ( sup { C527 , C528 } ) ) by YELLOW_0:41;
thus L1556: thesis by L1555 , L1474 , WAYBEL_0:def 31;
end;
reconsider D256 = ( alpha D248 ) as (Homomorphism of C526 , ( EqRelLATT D247 )) by L1473 , LATTICE5:14;
L1557: ( dom D256 ) = (the carrier of C526) by FUNCT_2:def 1;
L1558: (ex B489 being (Equivalence_Relation of D247) st (B489 in (the carrier of ( Image D256 )) & B489 <> ( id D247 )))
proof
L1559: { D243 } <> { { D243 } }
proof
assume L1560: { D243 } = { { D243 } };
L1561: { D243 } in { D243 } by L1560 , TARSKI:def 1;
thus L1562: contradiction by L1561;
end;
consider C543 being non  empty set, C544 being (distance_function of C543 , C526), C545 being non  empty set, C546 being (distance_function of C545 , C526) such that L1563: C545 , C546 is_extension2_of C543 , C544 and L1564: ( D245 . ( 0 ) ) = [ C543 , C544 ] and L1565: ( D245 . ( ( 0 ) + 1 ) ) = [ C545 , C546 ] by L1051;
L1566: (C543 = D243 & C544 = D244) by L1470 , L1564 , XTUPLE_0:1;
consider C547 being (QuadrSeq of D244) such that L1567: C545 = ( NextSet2 D244 ) and L1568: C546 = ( NextDelta2 C547 ) by L1566 , L1563 , L1008;
L1569: ( ConsecutiveSet2 (D243 , ( {} )) ) = D243 by L548;
reconsider D257 = ( Quadr2 (C547 , ( {} )) ) as (Element of [: D243 , D243 , (the carrier of C526) , (the carrier of C526) :]) by L1569;
L1570: ( ( D245 . 1 ) `2 ) in { ( ( D245 . B490 ) `2 ) where B490 is (Element of ( NAT )) : (not contradiction) };
L1571: ( succ ( {} ) ) c= ( DistEsti D244 ) by L61;
L1572: ( {} ) in ( DistEsti D244 ) by L1571 , ORDINAL1:21;
L1573: ( {} ) in ( dom C547 ) by L1572 , LATTICE5:25;
L1574: ( C547 . ( {} ) ) in ( rng C547 ) by L1573 , FUNCT_1:def 3;
L1575: ( C547 . ( {} ) ) in { [ B491 , B492 , B493 , B494 ] where B491 is (Element of D243) , B492 is (Element of D243) , B493 is (Element of C526) , B494 is (Element of C526) : ( D244 . (B491 , B492) ) <= ( B493 "\/" B494 ) } by L1574 , LATTICE5:def 13;
consider C548 , C549 being (Element of D243), C550 , C551 being (Element of C526) such that L1576: ( C547 . ( {} ) ) = [ C548 , C549 , C550 , C551 ] and L1577: ( D244 . (C548 , C549) ) <= ( C550 "\/" C551 ) by L1575;
consider C552 being (Equivalence_Relation of D247) such that L1578: C552 = ( D256 . C551 ) and L1579: (for B495 , B496 being (Element of D247) holds ([ B495 , B496 ] in C552 iff ( D248 . (B495 , B496) ) <= C551)) by LATTICE5:def 8;
L1580: ( Quadr2 (C547 , ( {} )) ) = [ C548 , C549 , C550 , C551 ] by L1573 , L1576 , L600;
L1581: C551 = ( D257 `4_4 ) by L1580 , MCART_1:def 11;
L1582: ( [ C545 , C546 ] `2 ) = ( NextDelta2 C547 ) by L1568;
L1583: ( NextDelta2 C547 ) c= D248 by L1582 , L1570 , L1565 , ZFMISC_1:74;
L1584: { { D243 } } in { { D243 } , { { D243 } } } by TARSKI:def 2;
L1585: { { D243 } } in ( D243 \/ { { D243 } , { { D243 } } } ) by L1584 , XBOOLE_0:def 3;
take C552;
L1586: C552 in ( rng D256 ) by L1557 , L1578 , FUNCT_1:def 3;
thus L1587: C552 in (the carrier of ( Image D256 )) by L1586 , YELLOW_0:def 15;
L1588: ( ( D245 . 1 ) `1 ) in { ( ( D245 . B497 ) `1 ) where B497 is (Element of ( NAT )) : (not contradiction) };
L1589: ( [ C545 , C546 ] `1 ) = ( NextSet2 D244 ) by L1567;
L1590: ( NextSet2 D244 ) c= D247 by L1589 , L1588 , L1565 , ZFMISC_1:74;
L1591: ( new_set2 D243 ) = ( new_set2 ( ConsecutiveSet2 (D243 , ( {} )) ) ) by L548
.= ( ConsecutiveSet2 (D243 , ( succ ( {} ) )) ) by L551;
L1592: ( new_set2 D243 ) c= ( NextSet2 D244 ) by L1591 , L61 , L626;
L1593: ( new_set2 D243 ) c= D247 by L1592 , L1590 , XBOOLE_1:1;
L1594: { { D243 } } in ( new_set2 D243 ) by L1584 , XBOOLE_0:def 3;
L1595: { D243 } in { { D243 } , { { D243 } } } by TARSKI:def 2;
L1596: { D243 } in ( D243 \/ { { D243 } , { { D243 } } } ) by L1595 , XBOOLE_0:def 3;
reconsider D258 = { D243 } , D259 = { { D243 } } as (Element of D247) by L1596 , L1593 , L1594;
L1597: (( ConsecutiveSet2 (D243 , ( {} )) ) = D243 & ( ConsecutiveDelta2 (C547 , ( {} )) ) = D244) by L548 , L613;
L1598: ( ConsecutiveDelta2 (C547 , ( succ ( {} ) )) ) = ( new_bi_fun2 (( BiFun (( ConsecutiveDelta2 (C547 , ( {} )) ) , ( ConsecutiveSet2 (D243 , ( {} )) ) , C526) ) , ( Quadr2 (C547 , ( {} )) )) ) by L616
.= ( new_bi_fun2 (D244 , D257) ) by L1597 , LATTICE5:def 15;
L1599: ( new_bi_fun2 (D244 , D257) ) c= ( NextDelta2 C547 ) by L1598 , L61 , L801;
L1600: ( new_bi_fun2 (D244 , D257) ) c= D248 by L1599 , L1583 , XBOOLE_1:1;
L1601: (( dom ( new_bi_fun2 (D244 , D257) ) ) = [: ( new_set2 D243 ) , ( new_set2 D243 ) :] & { D243 } in ( new_set2 D243 )) by L1595 , FUNCT_2:def 1 , XBOOLE_0:def 3;
L1602: [ { D243 } , { { D243 } } ] in ( dom ( new_bi_fun2 (D244 , D257) ) ) by L1601 , L1585 , ZFMISC_1:87;
L1603: ( D248 . (D258 , D259) ) = ( ( new_bi_fun2 (D244 , D257) ) . ({ D243 } , { { D243 } }) ) by L1602 , L1600 , GRFUNC_1:2
.= ( ( ( D244 . (( D257 `1_4 ) , ( D257 `2_4 )) ) "\/" ( D257 `3_4 ) ) "/\" ( D257 `4_4 ) ) by L208;
L1604: ( D248 . (D258 , D259) ) <= C551 by L1603 , L1581 , YELLOW_0:23;
L1605: [ { D243 } , { { D243 } } ] in C552 by L1604 , L1579;
thus L1606: thesis by L1605 , L1559 , RELAT_1:def 10;
end;
L1607:
now
consider C553 being (Equivalence_Relation of D247) such that L1608: C553 in (the carrier of ( Image D256 )) and L1609: C553 <> ( id D247 ) by L1558;
assume L1610: D247 is  trivial;
consider C554 being set such that L1611: D247 = { C554 } by L1610 , ZFMISC_1:131;
L1612: ([: { C554 } , { C554 } :] = { [ C554 , C554 ] } & ( id { C554 } ) = { [ C554 , C554 ] }) by SYSREL:13 , ZFMISC_1:29;
L1613: ( field C553 ) = { C554 } by L1611 , EQREL_1:9;
L1614: ( id D247 ) c= C553 by L1613 , L1611 , RELAT_2:1;
thus L1615: contradiction by L1614 , L1611 , L1609 , L1612 , XBOOLE_0:def 10;
end;
L1616: D244 is  onto by LATTICE5:40;
L1617: ( rng D244 ) = D243 by L1616 , FUNCT_2:def 3;
L1618: (for B498 being set holds (B498 in D243 implies (ex B499 being set st (B499 in [: D247 , D247 :] & B498 = ( D248 . B499 )))))
proof
let C555 being set;
L1619: ( ( D245 . ( 0 ) ) `1 ) in { ( ( D245 . B500 ) `1 ) where B500 is (Element of ( NAT )) : (not contradiction) };
L1620: ( ( D245 . ( 0 ) ) `2 ) in { ( ( D245 . B501 ) `2 ) where B501 is (Element of ( NAT )) : (not contradiction) };
L1621: ( D245 . ( 0 ) ) = [ D243 , D244 ] by L1051;
L1622: D244 = ( [ D243 , D244 ] `2 );
L1623: D244 c= D248 by L1622 , L1620 , L1621 , ZFMISC_1:74;
assume L1624: C555 in D243;
consider C556 being set such that L1625: C556 in [: D243 , D243 :] and L1626: ( D244 . C556 ) = C555 by L1624 , L1617 , FUNCT_2:11;
take C556;
L1627: D243 = ( [ D243 , D244 ] `1 );
L1628: D243 c= D247 by L1627 , L1619 , L1621 , ZFMISC_1:74;
L1629: [: D243 , D243 :] c= [: D247 , D247 :] by L1628 , ZFMISC_1:96;
thus L1630: C556 in [: D247 , D247 :] by L1629 , L1625;
L1631: C556 in ( dom D244 ) by L1625 , FUNCT_2:def 1;
thus L1632: thesis by L1631 , L1626 , L1623 , GRFUNC_1:2;
end;
L1633: ( rng D248 ) = D243 by L1618 , FUNCT_2:10;
L1634: D248 is  onto by L1633 , FUNCT_2:def 3;
reconsider D260 = D247 as non  trivial set by L1607;
take D260;
reconsider D261 = D256 as (Homomorphism of C526 , ( EqRelLATT D260 ));
take D261;
thus L1635: D261 is  one-to-one by L1634 , LATTICE5:15;
reconsider D262 = D248 as (distance_function of D260 , C526);
thus L1636: ( Image D261 ) is  finitely_typed
proof
take D260;
thus L1637: (for B502 being set holds (B502 in (the carrier of ( Image D261 )) implies B502 is (Equivalence_Relation of D260)))
proof
let C557 being set;
assume L1638: C557 in (the carrier of ( Image D261 ));
L1639: C557 in ( rng D261 ) by L1638 , YELLOW_0:def 15;
consider C558 being set such that L1640: C558 in ( dom D261 ) and L1641: C557 = ( D261 . C558 ) by L1639 , FUNCT_1:def 3;
reconsider D263 = C558 as (Element of C526) by L1640;
L1642: (ex B503 being (Equivalence_Relation of D260) st (B503 = ( D261 . D263 ) & (for B504 , B505 being (Element of D260) holds ([ B504 , B505 ] in B503 iff ( D262 . (B504 , B505) ) <= D263)))) by LATTICE5:def 8;
thus L1643: thesis by L1642 , L1641;
end;

take ( 2 + 2 );
thus L1644: thesis by L1379;
end;

thus L1645: (ex B506 being (Equivalence_Relation of D260) st (B506 in (the carrier of ( Image D261 )) & B506 <> ( id D260 )))
proof
L1646: { D243 } <> { { D243 } }
proof
assume L1647: { D243 } = { { D243 } };
L1648: { D243 } in { D243 } by L1647 , TARSKI:def 1;
thus L1649: contradiction by L1648;
end;
consider C559 being non  empty set, C560 being (distance_function of C559 , C526), C561 being non  empty set, C562 being (distance_function of C561 , C526) such that L1650: C561 , C562 is_extension2_of C559 , C560 and L1651: ( D245 . ( 0 ) ) = [ C559 , C560 ] and L1652: ( D245 . ( ( 0 ) + 1 ) ) = [ C561 , C562 ] by L1051;
L1653: (C559 = D243 & C560 = D244) by L1470 , L1651 , XTUPLE_0:1;
consider C563 being (QuadrSeq of D244) such that L1654: C561 = ( NextSet2 D244 ) and L1655: C562 = ( NextDelta2 C563 ) by L1653 , L1650 , L1008;
L1656: ( ConsecutiveSet2 (D243 , ( {} )) ) = D243 by L548;
reconsider D264 = ( Quadr2 (C563 , ( {} )) ) as (Element of [: D243 , D243 , (the carrier of C526) , (the carrier of C526) :]) by L1656;
L1657: ( ( D245 . 1 ) `2 ) in { ( ( D245 . B507 ) `2 ) where B507 is (Element of ( NAT )) : (not contradiction) };
L1658: ( succ ( {} ) ) c= ( DistEsti D244 ) by L61;
L1659: ( {} ) in ( DistEsti D244 ) by L1658 , ORDINAL1:21;
L1660: ( {} ) in ( dom C563 ) by L1659 , LATTICE5:25;
L1661: ( C563 . ( {} ) ) in ( rng C563 ) by L1660 , FUNCT_1:def 3;
L1662: ( C563 . ( {} ) ) in { [ B508 , B509 , B510 , B511 ] where B508 is (Element of D243) , B509 is (Element of D243) , B510 is (Element of C526) , B511 is (Element of C526) : ( D244 . (B508 , B509) ) <= ( B510 "\/" B511 ) } by L1661 , LATTICE5:def 13;
consider C564 , C565 being (Element of D243), C566 , C567 being (Element of C526) such that L1663: ( C563 . ( {} ) ) = [ C564 , C565 , C566 , C567 ] and L1664: ( D244 . (C564 , C565) ) <= ( C566 "\/" C567 ) by L1662;
consider C568 being (Equivalence_Relation of D260) such that L1665: C568 = ( D261 . C567 ) and L1666: (for B512 , B513 being (Element of D260) holds ([ B512 , B513 ] in C568 iff ( D262 . (B512 , B513) ) <= C567)) by LATTICE5:def 8;
L1667: ( Quadr2 (C563 , ( {} )) ) = [ C564 , C565 , C566 , C567 ] by L1660 , L1663 , L600;
L1668: C567 = ( D264 `4_4 ) by L1667 , MCART_1:def 11;
L1669: ( [ C561 , C562 ] `2 ) = ( NextDelta2 C563 ) by L1655;
L1670: ( NextDelta2 C563 ) c= D262 by L1669 , L1657 , L1652 , ZFMISC_1:74;
L1671: { { D243 } } in { { D243 } , { { D243 } } } by TARSKI:def 2;
L1672: { { D243 } } in ( D243 \/ { { D243 } , { { D243 } } } ) by L1671 , XBOOLE_0:def 3;
take C568;
L1673: C568 in ( rng D261 ) by L1557 , L1665 , FUNCT_1:def 3;
thus L1674: C568 in (the carrier of ( Image D261 )) by L1673 , YELLOW_0:def 15;
L1675: ( ( D245 . 1 ) `1 ) in { ( ( D245 . B514 ) `1 ) where B514 is (Element of ( NAT )) : (not contradiction) };
L1676: ( [ C561 , C562 ] `1 ) = ( NextSet2 D244 ) by L1654;
L1677: ( NextSet2 D244 ) c= D260 by L1676 , L1675 , L1652 , ZFMISC_1:74;
L1678: ( new_set2 D243 ) = ( new_set2 ( ConsecutiveSet2 (D243 , ( {} )) ) ) by L548
.= ( ConsecutiveSet2 (D243 , ( succ ( {} ) )) ) by L551;
L1679: ( new_set2 D243 ) c= ( NextSet2 D244 ) by L1678 , L61 , L626;
L1680: ( new_set2 D243 ) c= D260 by L1679 , L1677 , XBOOLE_1:1;
L1681: { { D243 } } in ( new_set2 D243 ) by L1671 , XBOOLE_0:def 3;
L1682: { D243 } in { { D243 } , { { D243 } } } by TARSKI:def 2;
L1683: { D243 } in ( D243 \/ { { D243 } , { { D243 } } } ) by L1682 , XBOOLE_0:def 3;
reconsider D265 = { D243 } , D266 = { { D243 } } as (Element of D260) by L1683 , L1680 , L1681;
L1684: (( ConsecutiveSet2 (D243 , ( {} )) ) = D243 & ( ConsecutiveDelta2 (C563 , ( {} )) ) = D244) by L548 , L613;
L1685: ( ConsecutiveDelta2 (C563 , ( succ ( {} ) )) ) = ( new_bi_fun2 (( BiFun (( ConsecutiveDelta2 (C563 , ( {} )) ) , ( ConsecutiveSet2 (D243 , ( {} )) ) , C526) ) , ( Quadr2 (C563 , ( {} )) )) ) by L616
.= ( new_bi_fun2 (D244 , D264) ) by L1684 , LATTICE5:def 15;
L1686: ( new_bi_fun2 (D244 , D264) ) c= ( NextDelta2 C563 ) by L1685 , L61 , L801;
L1687: ( new_bi_fun2 (D244 , D264) ) c= D262 by L1686 , L1670 , XBOOLE_1:1;
L1688: (( dom ( new_bi_fun2 (D244 , D264) ) ) = [: ( new_set2 D243 ) , ( new_set2 D243 ) :] & { D243 } in ( new_set2 D243 )) by L1682 , FUNCT_2:def 1 , XBOOLE_0:def 3;
L1689: [ { D243 } , { { D243 } } ] in ( dom ( new_bi_fun2 (D244 , D264) ) ) by L1688 , L1672 , ZFMISC_1:87;
L1690: ( D262 . (D265 , D266) ) = ( ( new_bi_fun2 (D244 , D264) ) . ({ D243 } , { { D243 } }) ) by L1689 , L1687 , GRFUNC_1:2
.= ( ( ( D244 . (( D264 `1_4 ) , ( D264 `2_4 )) ) "\/" ( D264 `3_4 ) ) "/\" ( D264 `4_4 ) ) by L208;
L1691: ( D262 . (D265 , D266) ) <= C567 by L1690 , L1668 , YELLOW_0:23;
L1692: [ { D243 } , { { D243 } } ] in C568 by L1691 , L1666;
thus L1693: thesis by L1692 , L1646 , RELAT_1:def 10;
end;

L1694: (for B515 , B516 being (Equivalence_Relation of D260) holds (for B517 , B518 being set holds ((B515 in (the carrier of ( Image D261 )) & B516 in (the carrier of ( Image D261 )) & [ B517 , B518 ] in ( B515 "\/" B516 )) implies (ex B519 being non  empty (FinSequence of D260) st (( len B519 ) = ( 2 + 2 ) & B517 , B518 are_joint_by B519 , B515 , B516))))) by L1379;
thus L1695: thesis by L1694 , L1558 , LATTICE5:13;
end;
::$N Jonsson Theorem for modular lattices
theorem
L1696: (for B520 being  lower-bounded LATTICE holds (B520 has_a_representation_of_type<= 2 iff B520 is  modular)) by L195 , L1468;
