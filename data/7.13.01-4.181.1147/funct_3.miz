:: Basic Functions and Operations on Functions
::  by Czes{\l}aw Byli\'nski
::
:: Received May 9, 1989
:: Copyright (c) 1990-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies XBOOLE_0, TARSKI, RELAT_1, FUNCT_1, ZFMISC_1, SUBSET_1, MCART_1,
      PARTFUN1, FUNCT_2, FUNCT_3, BINOP_1;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, RELAT_1, RELSET_1, FUNCT_1,
      FUNCT_2, BINOP_1;
 constructors BINOP_1, RELSET_1;
 registrations XBOOLE_0, SUBSET_1, RELAT_1, FUNCT_1, RELSET_1;
 requirements SUBSET, BOOLE;
 definitions TARSKI, FUNCT_1, BINOP_1;
 theorems TARSKI, ZFMISC_1, FUNCT_1, FUNCT_2, RELAT_1, RELSET_1, XBOOLE_0,
      XBOOLE_1, DOMAIN_1, XTUPLE_0, SUBSET_1, BINOP_1;
 schemes FUNCT_1;

begin
theorem
L1: (for R12 being set holds (for R18 being set holds (R12 c= R18 implies ( id R12 ) = ( ( id R18 ) | R12 ))))
proof
let R12 being set;
let R18 being set;
assume L2: R12 c= R18;
thus L3: ( id R12 ) = ( id ( R18 /\ R12 ) ) by L2 , XBOOLE_1:28
.= ( ( id R18 ) * ( id R12 ) ) by FUNCT_1:22
.= ( ( id R18 ) | R12 ) by RELAT_1:65;
end;
theorem
L4: (for R15 being set holds (for B1 , B2 being Function holds (R15 c= ( dom ( B2 * B1 ) ) implies ( B1 .: R15 ) c= ( dom B2 ))))
proof
let R15 being set;
let C1 , C2 being Function;
assume that
L5: R15 c= ( dom ( C2 * C1 ) );
let R6 being set;
assume L6: R6 in ( C1 .: R15 );
L7: (ex R3 being set st (R3 in ( dom C1 ) & R3 in R15 & R6 = ( C1 . R3 ))) by L6 , FUNCT_1:def 6;
thus L8: thesis by L7 , L5 , FUNCT_1:11;
end;
theorem
L9: (for R15 being set holds (for B3 , B4 being Function holds ((R15 c= ( dom B3 ) & ( B3 .: R15 ) c= ( dom B4 )) implies R15 c= ( dom ( B4 * B3 ) ))))
proof
let R15 being set;
let C3 , C4 being Function;
assume that
L10: R15 c= ( dom C3 )
and
L11: ( C3 .: R15 ) c= ( dom C4 );
let R3 being set;
assume L12: R3 in R15;
L13: ( C3 . R3 ) in ( C3 .: R15 ) by L12 , L10 , FUNCT_1:def 6;
thus L14: thesis by L13 , L10 , L11 , L12 , FUNCT_1:11;
end;
theorem
L15: (for R18 being set holds (for B5 , B6 being Function holds ((R18 c= ( rng ( B6 * B5 ) ) & B6 is  one-to-one) implies ( B6 " R18 ) c= ( rng B5 ))))
proof
let R18 being set;
let C5 , C6 being Function;
assume that
L16: R18 c= ( rng ( C6 * C5 ) )
and
L17: C6 is  one-to-one;
let R6 being set;
assume L18: R6 in ( C6 " R18 );
L19: R6 in ( dom C6 ) by L18 , FUNCT_1:def 7;
L20: ( C6 . R6 ) in R18 by L18 , FUNCT_1:def 7;
consider R3 being set such that L21: R3 in ( dom ( C6 * C5 ) ) and L22: ( C6 . R6 ) = ( ( C6 * C5 ) . R3 ) by L20 , L16 , FUNCT_1:def 3;
L23: R3 in ( dom C5 ) by L21 , FUNCT_1:11;
L24: (( C6 . R6 ) = ( C6 . ( C5 . R3 ) ) & ( C5 . R3 ) in ( dom C6 )) by L21 , L22 , FUNCT_1:11 , FUNCT_1:12;
L25: R6 = ( C5 . R3 ) by L24 , L17 , L19 , FUNCT_1:def 4;
thus L26: thesis by L25 , L23 , FUNCT_1:def 3;
end;
theorem
L27: (for R18 being set holds (for B7 , B8 being Function holds ((R18 c= ( rng B8 ) & ( B8 " R18 ) c= ( rng B7 )) implies R18 c= ( rng ( B8 * B7 ) ))))
proof
let R18 being set;
let C7 , C8 being Function;
assume that
L28: R18 c= ( rng C8 )
and
L29: ( C8 " R18 ) c= ( rng C7 );
let R6 being set;
assume L30: R6 in R18;
consider R9 being set such that L31: (R9 in ( dom C8 ) & R6 = ( C8 . R9 )) by L30 , L28 , FUNCT_1:def 3;
L32: R9 in ( C8 " R18 ) by L30 , L31 , FUNCT_1:def 7;
consider R3 being set such that L33: (R3 in ( dom C7 ) & R9 = ( C7 . R3 )) by L32 , L29 , FUNCT_1:def 3;
L34: (R3 in ( dom ( C8 * C7 ) ) & ( ( C8 * C7 ) . R3 ) = R6) by L31 , L33 , FUNCT_1:11 , FUNCT_1:13;
thus L35: thesis by L34 , FUNCT_1:def 3;
end;
scheme FuncEx3 { F1() -> set , F2() -> set , P1[set , set , set] } : (ex B9 being Function st (( dom B9 ) = [: F1() , F2() :] & (for R3 being set holds (for R6 being set holds ((R3 in F1() & R6 in F2()) implies P1[ R3 , R6 , ( B9 . (R3 , R6) ) ])))))
provided
L36: (for R3 being set holds (for R6 being set holds (for R10 being set holds (for R11 being set holds ((R3 in F1() & R6 in F2() & P1[ R3 , R6 , R10 ] & P1[ R3 , R6 , R11 ]) implies R10 = R11)))))
and
L37: (for R3 being set holds (for R6 being set holds ((R3 in F1() & R6 in F2()) implies (ex R9 being set st P1[ R3 , R6 , R9 ]))))
proof
defpred S1[ set , set ] means (for R3 being set holds (for R6 being set holds ($1 = [ R3 , R6 ] implies P1[ R3 , R6 , $2 ])));
set D1 = [: F1() , F2() :];
L38: (for R1 being set holds (R1 in D1 implies (ex R9 being set st S1[ R1 , R9 ])))
proof
let R1 being set;
assume L39: R1 in D1;
consider R4 being set, R7 being set such that L40: (R4 in F1() & R7 in F2()) and L41: R1 = [ R4 , R7 ] by L39 , ZFMISC_1:def 2;
consider R9 being set such that L42: P1[ R4 , R7 , R9 ] by L37 , L40;
take R9;
let R3 being set;
let R6 being set;
assume L43: R1 = [ R3 , R6 ];
L44: R3 = R4 by L43 , L41 , XTUPLE_0:1;
thus L45: thesis by L44 , L41 , L42 , L43 , XTUPLE_0:1;
end;
L46: (for R1 being set holds (for R7 being set holds (for R8 being set holds ((R1 in D1 & S1[ R1 , R7 ] & S1[ R1 , R8 ]) implies R7 = R8))))
proof
let R1 being set;
let R7 being set;
let R8 being set;
assume L47: R1 in D1;
consider R4 being set, R5 being set such that L48: (R4 in F1() & R5 in F2()) and L49: R1 = [ R4 , R5 ] by L47 , ZFMISC_1:def 2;
assume L50: ((for R3 being set holds (for R6 being set holds (R1 = [ R3 , R6 ] implies P1[ R3 , R6 , R7 ]))) & (for R3 being set holds (for R6 being set holds (R1 = [ R3 , R6 ] implies P1[ R3 , R6 , R8 ]))));
L51: (P1[ R4 , R5 , R7 ] & P1[ R4 , R5 , R8 ]) by L50 , L49;
thus L52: thesis by L51 , L36 , L48;
end;
consider C9 being Function such that L53: ( dom C9 ) = D1 and L54: (for R1 being set holds (R1 in D1 implies S1[ R1 , ( C9 . R1 ) ])) from FUNCT_1:sch 2(L46 , L38);
take C9;
thus L55: ( dom C9 ) = [: F1() , F2() :] by L53;
let R3 being set;
let R6 being set;
assume L56: (R3 in F1() & R6 in F2());
L57: [ R3 , R6 ] in [: F1() , F2() :] by L56 , ZFMISC_1:def 2;
thus L58: thesis by L57 , L54;
end;
scheme Lambda3 { F3() -> set , F4() -> set , F5(set , set) -> set } : (ex B10 being Function st (( dom B10 ) = [: F3() , F4() :] & (for R3 being set holds (for R6 being set holds ((R3 in F3() & R6 in F4()) implies ( B10 . (R3 , R6) ) = F5(R3 , R6))))))
proof
defpred S2[ set , set , set ] means $3 = F5($1 , $2);
L59: (for R3 being set holds (for R6 being set holds ((R3 in F3() & R6 in F4()) implies (ex R9 being set st S2[ R3 , R6 , R9 ]))));
L60: (for R3 being set holds (for R6 being set holds (for R10 being set holds (for R11 being set holds ((R3 in F3() & R6 in F4() & S2[ R3 , R6 , R10 ] & S2[ R3 , R6 , R11 ]) implies R10 = R11)))));
L61: (ex B11 being Function st (( dom B11 ) = [: F3() , F4() :] & (for R3 being set holds (for R6 being set holds ((R3 in F3() & R6 in F4()) implies S2[ R3 , R6 , ( B11 . (R3 , R6) ) ]))))) from FuncEx3(L60 , L59);
thus L62: thesis by L61;
end;
theorem
L63: (for R15 being set holds (for R18 being set holds (for B12 , B13 being Function holds ((( dom B12 ) = [: R15 , R18 :] & ( dom B13 ) = [: R15 , R18 :] & (for R3 being set holds (for R6 being set holds ((R3 in R15 & R6 in R18) implies ( B12 . (R3 , R6) ) = ( B13 . (R3 , R6) ))))) implies B12 = B13))))
proof
let R15 being set;
let R18 being set;
let C10 , C11 being Function;
assume that
L64: (( dom C10 ) = [: R15 , R18 :] & ( dom C11 ) = [: R15 , R18 :])
and
L65: (for R3 being set holds (for R6 being set holds ((R3 in R15 & R6 in R18) implies ( C10 . (R3 , R6) ) = ( C11 . (R3 , R6) ))));
L66: (for R1 being set holds (R1 in [: R15 , R18 :] implies ( C10 . R1 ) = ( C11 . R1 )))
proof
let R1 being set;
assume L67: R1 in [: R15 , R18 :];
consider R3 being set, R6 being set such that L68: (R3 in R15 & R6 in R18) and L69: R1 = [ R3 , R6 ] by L67 , ZFMISC_1:def 2;
L70: ( C10 . (R3 , R6) ) = ( C11 . (R3 , R6) ) by L65 , L68;
thus L71: thesis by L70 , L69;
end;
thus L72: thesis by L66 , L64 , FUNCT_1:2;
end;
definition
let C12 being Function;
func .: C12 -> Function means 
:L73: (( dom it ) = ( bool ( dom C12 ) ) & (for R15 being set holds (R15 c= ( dom C12 ) implies ( it . R15 ) = ( C12 .: R15 ))));
existence
proof
defpred S3[ set , set ] means (for R15 being set holds ($1 = R15 implies $2 = ( C12 .: R15 )));
L74: (for R3 being set holds (R3 in ( bool ( dom C12 ) ) implies (ex R6 being set st S3[ R3 , R6 ])))
proof
let R3 being set;
assume that
L75: R3 in ( bool ( dom C12 ) );
take ( C12 .: R3 );
thus L76: thesis;
end;
L77: (for R3 being set holds (for R7 being set holds (for R8 being set holds ((R3 in ( bool ( dom C12 ) ) & S3[ R3 , R7 ] & S3[ R3 , R8 ]) implies R7 = R8))))
proof
let R3 being set;
let R7 being set;
let R8 being set;
assume that
L78: R3 in ( bool ( dom C12 ) )
and
L79: (for R15 being set holds (R3 = R15 implies R7 = ( C12 .: R15 )))
and
L80: (for R15 being set holds (R3 = R15 implies R8 = ( C12 .: R15 )));
thus L81: R7 = ( C12 .: R3 ) by L79
.= R8 by L80;
end;
consider C13 being Function such that L82: (( dom C13 ) = ( bool ( dom C12 ) ) & (for R3 being set holds (R3 in ( bool ( dom C12 ) ) implies S3[ R3 , ( C13 . R3 ) ]))) from FUNCT_1:sch 2(L77 , L74);
take C13;
thus L83: thesis by L82;
end;
uniqueness
proof
let C14 , C15 being Function;
assume that
L84: ( dom C14 ) = ( bool ( dom C12 ) )
and
L85: (for R15 being set holds (R15 c= ( dom C12 ) implies ( C14 . R15 ) = ( C12 .: R15 )))
and
L86: ( dom C15 ) = ( bool ( dom C12 ) )
and
L87: (for R15 being set holds (R15 c= ( dom C12 ) implies ( C15 . R15 ) = ( C12 .: R15 )));
L88: (for R3 being set holds (R3 in ( bool ( dom C12 ) ) implies ( C14 . R3 ) = ( C15 . R3 )))
proof
let R3 being set;
assume L89: R3 in ( bool ( dom C12 ) );
L90: ( C14 . R3 ) = ( C12 .: R3 ) by L89 , L85;
thus L91: thesis by L90 , L87 , L89;
end;
thus L92: thesis by L88 , L84 , L86 , FUNCT_1:2;
end;
end;
theorem
L94: (for R15 being set holds (for B14 being Function holds (R15 in ( dom ( .: B14 ) ) implies ( ( .: B14 ) . R15 ) = ( B14 .: R15 ))))
proof
let R15 being set;
let C16 being Function;
assume L95: R15 in ( dom ( .: C16 ) );
L96: R15 in ( bool ( dom C16 ) ) by L95 , L73;
thus L97: thesis by L96 , L73;
end;
theorem
L98: (for B15 being Function holds ( ( .: B15 ) . ( {} ) ) = ( {} ))
proof
let C17 being Function;
L99: ( {} ) c= ( dom C17 ) by XBOOLE_1:2;
L100: ( ( .: C17 ) . ( {} ) ) = ( C17 .: ( {} ) ) by L99 , L73;
thus L101: thesis by L100;
end;
theorem
L102: (for B16 being Function holds ( rng ( .: B16 ) ) c= ( bool ( rng B16 ) ))
proof
let C18 being Function;
let R6 being set;
assume L103: R6 in ( rng ( .: C18 ) );
consider R3 being set such that L104: (R3 in ( dom ( .: C18 ) ) & R6 = ( ( .: C18 ) . R3 )) by L103 , FUNCT_1:def 3;
L105: R6 = ( C18 .: R3 ) by L104 , L94;
L106: R6 c= ( rng C18 ) by L105 , RELAT_1:111;
thus L107: thesis by L106;
end;
theorem
L108: (for R12 being set holds (for B17 being Function holds ( ( .: B17 ) .: R12 ) c= ( bool ( rng B17 ) )))
proof
let R12 being set;
let C19 being Function;
L109: (( ( .: C19 ) .: R12 ) c= ( rng ( .: C19 ) ) & ( rng ( .: C19 ) ) c= ( bool ( rng C19 ) )) by L102 , RELAT_1:111;
thus L110: thesis by L109 , XBOOLE_1:1;
end;
theorem
L111: (for R13 being set holds (for B18 being Function holds ( ( .: B18 ) " R13 ) c= ( bool ( dom B18 ) )))
proof
let R13 being set;
let C20 being Function;
L112: ( dom ( .: C20 ) ) = ( bool ( dom C20 ) ) by L73;
thus L113: thesis by L112 , RELAT_1:132;
end;
theorem
L114: (for R13 being set holds (for R15 being set holds (for R25 being non  empty set holds (for B19 being (Function of R15 , R25) holds ( ( .: B19 ) " R13 ) c= ( bool R15 )))))
proof
let R13 being set;
let R15 being set;
let R25 being non  empty set;
let C21 being (Function of R15 , R25);
L115: ( dom C21 ) = R15 by FUNCT_2:def 1;
thus L116: thesis by L115 , L111;
end;
theorem
L117: (for R12 being set holds (for B20 being Function holds ( union ( ( .: B20 ) .: R12 ) ) c= ( B20 .: ( union R12 ) )))
proof
let R12 being set;
let C22 being Function;
let R6 being set;
assume L118: R6 in ( union ( ( .: C22 ) .: R12 ) );
consider R21 being set such that L119: R6 in R21 and L120: R21 in ( ( .: C22 ) .: R12 ) by L118 , TARSKI:def 4;
consider R15 being set such that L121: R15 in ( dom ( .: C22 ) ) and L122: R15 in R12 and L123: R21 = ( ( .: C22 ) . R15 ) by L120 , FUNCT_1:def 6;
L124: R6 in ( C22 .: R15 ) by L119 , L121 , L123 , L94;
consider R3 being set such that L125: R3 in ( dom C22 ) and L126: R3 in R15 and L127: R6 = ( C22 . R3 ) by L124 , FUNCT_1:def 6;
L128: R3 in ( union R12 ) by L122 , L126 , TARSKI:def 4;
thus L129: thesis by L128 , L125 , L127 , FUNCT_1:def 6;
end;
theorem
L130: (for R12 being set holds (for B21 being Function holds (R12 c= ( bool ( dom B21 ) ) implies ( B21 .: ( union R12 ) ) = ( union ( ( .: B21 ) .: R12 ) ))))
proof
let R12 being set;
let C23 being Function;
assume that
L131: R12 c= ( bool ( dom C23 ) );
L132: ( C23 .: ( union R12 ) ) c= ( union ( ( .: C23 ) .: R12 ) )
proof
let R6 being set;
assume L133: R6 in ( C23 .: ( union R12 ) );
consider R3 being set such that L134: R3 in ( dom C23 ) and L135: R3 in ( union R12 ) and L136: R6 = ( C23 . R3 ) by L133 , FUNCT_1:def 6;
consider R15 being set such that L137: R3 in R15 and L138: R15 in R12 by L135 , TARSKI:def 4;
L139: R15 in ( bool ( dom C23 ) ) by L131 , L138;
L140: R15 in ( dom ( .: C23 ) ) by L139 , L73;
L141: ( ( .: C23 ) . R15 ) in ( ( .: C23 ) .: R12 ) by L140 , L138 , FUNCT_1:def 6;
L142: R6 in ( C23 .: R15 ) by L131 , L136 , L137 , L138 , FUNCT_1:def 6;
L143: R6 in ( ( .: C23 ) . R15 ) by L142 , L131 , L138 , L73;
thus L144: thesis by L143 , L141 , TARSKI:def 4;
end;
L145: ( union ( ( .: C23 ) .: R12 ) ) c= ( C23 .: ( union R12 ) ) by L117;
thus L146: thesis by L145 , L132 , XBOOLE_0:def 10;
end;
theorem
L147: (for R12 being set holds (for R15 being set holds (for R25 being non  empty set holds (for B22 being (Function of R15 , R25) holds (R12 c= ( bool R15 ) implies ( B22 .: ( union R12 ) ) = ( union ( ( .: B22 ) .: R12 ) ))))))
proof
let R12 being set;
let R15 being set;
let R25 being non  empty set;
let C24 being (Function of R15 , R25);
L148: ( dom C24 ) = R15 by FUNCT_2:def 1;
thus L149: thesis by L148 , L130;
end;
theorem
L150: (for R13 being set holds (for B23 being Function holds ( union ( ( .: B23 ) " R13 ) ) c= ( B23 " ( union R13 ) )))
proof
let R13 being set;
let C25 being Function;
let R3 being set;
assume L151: R3 in ( union ( ( .: C25 ) " R13 ) );
consider R15 being set such that L152: R3 in R15 and L153: R15 in ( ( .: C25 ) " R13 ) by L151 , TARSKI:def 4;
L154: ( dom ( .: C25 ) ) = ( bool ( dom C25 ) ) by L73;
L155: R15 in ( bool ( dom C25 ) ) by L154 , L153 , FUNCT_1:def 7;
L156: ( C25 . R3 ) in ( C25 .: R15 ) by L155 , L152 , FUNCT_1:def 6;
L157: ( ( .: C25 ) . R15 ) in R13 by L153 , FUNCT_1:def 7;
L158: ( C25 .: R15 ) in R13 by L157 , L155 , L73;
L159: ( C25 . R3 ) in ( union R13 ) by L158 , L156 , TARSKI:def 4;
thus L160: thesis by L159 , L152 , L155 , FUNCT_1:def 7;
end;
theorem
L161: (for R13 being set holds (for B24 being Function holds (R13 c= ( bool ( rng B24 ) ) implies ( B24 " ( union R13 ) ) = ( union ( ( .: B24 ) " R13 ) ))))
proof
let R13 being set;
let C26 being Function;
assume that
L162: R13 c= ( bool ( rng C26 ) );
L163: ( C26 " ( union R13 ) ) c= ( union ( ( .: C26 ) " R13 ) )
proof
let R3 being set;
assume L164: R3 in ( C26 " ( union R13 ) );
L165: ( C26 . R3 ) in ( union R13 ) by L164 , FUNCT_1:def 7;
consider R18 being set such that L166: ( C26 . R3 ) in R18 and L167: R18 in R13 by L165 , TARSKI:def 4;
L168: ( C26 " R18 ) c= ( dom C26 ) by RELAT_1:132;
L169: ( C26 " R18 ) in ( bool ( dom C26 ) ) by L168;
L170: ( C26 " R18 ) in ( dom ( .: C26 ) ) by L169 , L73;
L171: ( C26 .: ( C26 " R18 ) ) = R18 by L162 , L167 , FUNCT_1:77;
L172: ( ( .: C26 ) . ( C26 " R18 ) ) in R13 by L171 , L167 , L168 , L73;
L173: ( C26 " R18 ) in ( ( .: C26 ) " R13 ) by L172 , L170 , FUNCT_1:def 7;
L174: R3 in ( dom C26 ) by L164 , FUNCT_1:def 7;
L175: R3 in ( C26 " R18 ) by L174 , L166 , FUNCT_1:def 7;
thus L176: thesis by L175 , L173 , TARSKI:def 4;
end;
L177: ( union ( ( .: C26 ) " R13 ) ) c= ( C26 " ( union R13 ) ) by L150;
thus L178: thesis by L177 , L163 , XBOOLE_0:def 10;
end;
theorem
L179: (for B25 , B26 being Function holds ( .: ( B26 * B25 ) ) = ( ( .: B26 ) * ( .: B25 ) ))
proof
let C27 , C28 being Function;
L180: (for R3 being set holds (R3 in ( dom ( .: ( C28 * C27 ) ) ) iff R3 in ( dom ( ( .: C28 ) * ( .: C27 ) ) )))
proof
let R3 being set;
thus L181: (R3 in ( dom ( .: ( C28 * C27 ) ) ) implies R3 in ( dom ( ( .: C28 ) * ( .: C27 ) ) ))
proof
assume L182: R3 in ( dom ( .: ( C28 * C27 ) ) );
L183: R3 in ( bool ( dom ( C28 * C27 ) ) ) by L182 , L73;
L184: ( dom ( C28 * C27 ) ) c= ( dom C27 ) by RELAT_1:25;
L185: R3 c= ( dom C27 ) by L184 , L183 , XBOOLE_1:1;
L186: R3 in ( bool ( dom C27 ) ) by L185;
L187: R3 in ( dom ( .: C27 ) ) by L186 , L73;
L188: ( C27 .: R3 ) c= ( dom C28 ) by L183 , L4;
L189: ( C27 .: R3 ) in ( bool ( dom C28 ) ) by L188;
L190: ( C27 .: R3 ) in ( dom ( .: C28 ) ) by L189 , L73;
L191: ( ( .: C27 ) . R3 ) in ( dom ( .: C28 ) ) by L190 , L185 , L73;
thus L192: thesis by L191 , L187 , FUNCT_1:11;
end;

assume L193: R3 in ( dom ( ( .: C28 ) * ( .: C27 ) ) );
L194: R3 in ( dom ( .: C27 ) ) by L193 , FUNCT_1:11;
L195: ( ( .: C27 ) . R3 ) in ( dom ( .: C28 ) ) by L193 , FUNCT_1:11;
L196: ( C27 .: R3 ) in ( dom ( .: C28 ) ) by L195 , L194 , L94;
L197: ( C27 .: R3 ) in ( bool ( dom C28 ) ) by L196 , L73;
L198: R3 in ( bool ( dom C27 ) ) by L194 , L73;
L199: R3 c= ( dom ( C28 * C27 ) ) by L198 , L197 , L9;
L200: R3 in ( bool ( dom ( C28 * C27 ) ) ) by L199;
thus L201: thesis by L200 , L73;
end;
L202: ( dom ( .: ( C28 * C27 ) ) ) = ( dom ( ( .: C28 ) * ( .: C27 ) ) ) by L180 , TARSKI:1;
L203: (for R3 being set holds (R3 in ( dom ( .: ( C28 * C27 ) ) ) implies ( ( .: ( C28 * C27 ) ) . R3 ) = ( ( ( .: C28 ) * ( .: C27 ) ) . R3 )))
proof
let R3 being set;
assume L204: R3 in ( dom ( .: ( C28 * C27 ) ) );
L205: R3 in ( bool ( dom ( C28 * C27 ) ) ) by L204 , L73;
L206: ( C27 .: R3 ) c= ( dom C28 ) by L205 , L4;
L207: ( dom ( C28 * C27 ) ) c= ( dom C27 ) by RELAT_1:25;
L208: R3 c= ( dom C27 ) by L207 , L205 , XBOOLE_1:1;
L209: R3 in ( bool ( dom C27 ) ) by L208;
L210: R3 in ( dom ( .: C27 ) ) by L209 , L73;
thus L211: ( ( .: ( C28 * C27 ) ) . R3 ) = ( ( C28 * C27 ) .: R3 ) by L204 , L94
.= ( C28 .: ( C27 .: R3 ) ) by RELAT_1:126
.= ( ( .: C28 ) . ( C27 .: R3 ) ) by L206 , L73
.= ( ( .: C28 ) . ( ( .: C27 ) . R3 ) ) by L208 , L73
.= ( ( ( .: C28 ) * ( .: C27 ) ) . R3 ) by L210 , FUNCT_1:13;
end;
thus L212: thesis by L203 , L202 , FUNCT_1:2;
end;
theorem
L213: (for B27 being Function holds ( .: B27 ) is (Function of ( bool ( dom B27 ) ) , ( bool ( rng B27 ) )))
proof
let C29 being Function;
L214: (( dom ( .: C29 ) ) = ( bool ( dom C29 ) ) & ( rng ( .: C29 ) ) c= ( bool ( rng C29 ) )) by L73 , L102;
thus L215: thesis by L214 , FUNCT_2:def 1 , RELSET_1:4;
end;
theorem
L216: (for R15 being set holds (for R18 being set holds (for B28 being (Function of R15 , R18) holds ((R18 = ( {} ) implies R15 = ( {} )) implies ( .: B28 ) is (Function of ( bool R15 ) , ( bool R18 ))))))
proof
let R15 being set;
let R18 being set;
let C30 being (Function of R15 , R18);
assume L217: (R18 = ( {} ) implies R15 = ( {} ));
L218: ( dom C30 ) = R15 by L217 , FUNCT_2:def 1;
L219: ( rng C30 ) c= R18 by RELAT_1:def 19;
L220: ( bool ( rng C30 ) ) c= ( bool R18 ) by L219 , ZFMISC_1:67;
L221: ( .: C30 ) is (Function of ( bool ( dom C30 ) ) , ( bool ( rng C30 ) )) by L213;
L222: ( rng ( .: C30 ) ) c= ( bool ( rng C30 ) ) by L221 , RELAT_1:def 19;
L223: ( rng ( .: C30 ) ) c= ( bool R18 ) by L222 , L220 , XBOOLE_1:1;
L224: ( dom ( .: C30 ) ) = ( bool ( dom C30 ) ) by L221 , FUNCT_2:def 1;
thus L225: thesis by L224 , L218 , L223 , FUNCT_2:def 1 , RELSET_1:4;
end;
definition
let R15 being set;
let R25 being non  empty set;
let C31 being (Function of R15 , R25);
redefine func .: C31 -> (Function of ( bool R15 ) , ( bool R25 ));

coherence by L216;
end;
definition
let C32 being Function;
func " C32 -> Function means 
:L227: (( dom it ) = ( bool ( rng C32 ) ) & (for R18 being set holds (R18 c= ( rng C32 ) implies ( it . R18 ) = ( C32 " R18 ))));
existence
proof
defpred S4[ set , set ] means (for R18 being set holds ($1 = R18 implies $2 = ( C32 " R18 )));
L228: (for R6 being set holds (R6 in ( bool ( rng C32 ) ) implies (ex R3 being set st S4[ R6 , R3 ])))
proof
let R6 being set;
assume that
L229: R6 in ( bool ( rng C32 ) );
take ( C32 " R6 );
thus L230: thesis;
end;
L231: (for R6 being set holds (for R4 being set holds (for R5 being set holds ((R6 in ( bool ( rng C32 ) ) & S4[ R6 , R4 ] & S4[ R6 , R5 ]) implies R4 = R5))))
proof
let R6 being set;
let R4 being set;
let R5 being set;
assume that
L232: R6 in ( bool ( rng C32 ) )
and
L233: (for R18 being set holds (R6 = R18 implies R4 = ( C32 " R18 )))
and
L234: (for R18 being set holds (R6 = R18 implies R5 = ( C32 " R18 )));
thus L235: R4 = ( C32 " R6 ) by L233
.= R5 by L234;
end;
consider C33 being Function such that L236: (( dom C33 ) = ( bool ( rng C32 ) ) & (for R6 being set holds (R6 in ( bool ( rng C32 ) ) implies S4[ R6 , ( C33 . R6 ) ]))) from FUNCT_1:sch 2(L231 , L228);
take C33;
thus L237: thesis by L236;
end;
uniqueness
proof
let C34 , C35 being Function;
assume that
L238: ( dom C34 ) = ( bool ( rng C32 ) )
and
L239: (for R18 being set holds (R18 c= ( rng C32 ) implies ( C34 . R18 ) = ( C32 " R18 )))
and
L240: ( dom C35 ) = ( bool ( rng C32 ) )
and
L241: (for R18 being set holds (R18 c= ( rng C32 ) implies ( C35 . R18 ) = ( C32 " R18 )));
L242: (for R6 being set holds (R6 in ( bool ( rng C32 ) ) implies ( C34 . R6 ) = ( C35 . R6 )))
proof
let R6 being set;
assume L243: R6 in ( bool ( rng C32 ) );
L244: ( C34 . R6 ) = ( C32 " R6 ) by L243 , L239;
thus L245: thesis by L244 , L241 , L243;
end;
thus L246: thesis by L242 , L238 , L240 , FUNCT_1:2;
end;
end;
theorem
L248: (for R18 being set holds (for B29 being Function holds (R18 in ( dom ( " B29 ) ) implies ( ( " B29 ) . R18 ) = ( B29 " R18 ))))
proof
let R18 being set;
let C36 being Function;
L249: ( dom ( " C36 ) ) = ( bool ( rng C36 ) ) by L227;
thus L250: thesis by L249 , L227;
end;
theorem
L251: (for B30 being Function holds ( rng ( " B30 ) ) c= ( bool ( dom B30 ) ))
proof
let C37 being Function;
let R3 being set;
assume L252: R3 in ( rng ( " C37 ) );
consider R6 being set such that L253: (R6 in ( dom ( " C37 ) ) & R3 = ( ( " C37 ) . R6 )) by L252 , FUNCT_1:def 3;
L254: R3 = ( C37 " R6 ) by L253 , L248;
L255: R3 c= ( dom C37 ) by L254 , RELAT_1:132;
thus L256: thesis by L255;
end;
theorem
L257: (for R13 being set holds (for B31 being Function holds ( ( " B31 ) .: R13 ) c= ( bool ( dom B31 ) )))
proof
let R13 being set;
let C38 being Function;
L258: (( rng ( " C38 ) ) c= ( bool ( dom C38 ) ) & ( ( " C38 ) .: R13 ) c= ( rng ( " C38 ) )) by L251 , RELAT_1:111;
thus L259: thesis by L258 , XBOOLE_1:1;
end;
theorem
L260: (for R12 being set holds (for B32 being Function holds ( ( " B32 ) " R12 ) c= ( bool ( rng B32 ) )))
proof
let R12 being set;
let C39 being Function;
L261: ( dom ( " C39 ) ) = ( bool ( rng C39 ) ) by L227;
thus L262: thesis by L261 , RELAT_1:132;
end;
theorem
L263: (for R13 being set holds (for B33 being Function holds ( union ( ( " B33 ) .: R13 ) ) c= ( B33 " ( union R13 ) )))
proof
let R13 being set;
let C40 being Function;
let R3 being set;
assume L264: R3 in ( union ( ( " C40 ) .: R13 ) );
consider R15 being set such that L265: R3 in R15 and L266: R15 in ( ( " C40 ) .: R13 ) by L264 , TARSKI:def 4;
consider R18 being set such that L267: R18 in ( dom ( " C40 ) ) and L268: R18 in R13 and L269: R15 = ( ( " C40 ) . R18 ) by L266 , FUNCT_1:def 6;
L270: ( ( " C40 ) . R18 ) = ( C40 " R18 ) by L267 , L248;
L271: R18 in ( bool ( rng C40 ) ) by L267 , L227;
L272: ( C40 .: R15 ) in R13 by L271 , L268 , L269 , L270 , FUNCT_1:77;
L273: ( C40 " R18 ) c= ( dom C40 ) by RELAT_1:132;
L274: ( C40 . R3 ) in ( C40 .: R15 ) by L273 , L265 , L269 , L270 , FUNCT_1:def 6;
L275: ( C40 . R3 ) in ( union R13 ) by L274 , L272 , TARSKI:def 4;
thus L276: thesis by L275 , L265 , L269 , L270 , L273 , FUNCT_1:def 7;
end;
theorem
L277: (for R13 being set holds (for B34 being Function holds (R13 c= ( bool ( rng B34 ) ) implies ( union ( ( " B34 ) .: R13 ) ) = ( B34 " ( union R13 ) ))))
proof
let R13 being set;
let C41 being Function;
assume that
L278: R13 c= ( bool ( rng C41 ) );
L279: ( C41 " ( union R13 ) ) c= ( union ( ( " C41 ) .: R13 ) )
proof
let R3 being set;
assume L280: R3 in ( C41 " ( union R13 ) );
L281: ( C41 . R3 ) in ( union R13 ) by L280 , FUNCT_1:def 7;
consider R18 being set such that L282: ( C41 . R3 ) in R18 and L283: R18 in R13 by L281 , TARSKI:def 4;
L284: R3 in ( dom C41 ) by L280 , FUNCT_1:def 7;
L285: R3 in ( C41 " R18 ) by L284 , L282 , FUNCT_1:def 7;
L286: R18 in ( bool ( rng C41 ) ) by L278 , L283;
L287: R18 in ( dom ( " C41 ) ) by L286 , L227;
L288: ( ( " C41 ) . R18 ) = ( C41 " R18 ) by L278 , L283 , L227;
L289: ( C41 " R18 ) in ( ( " C41 ) .: R13 ) by L288 , L283 , L287 , FUNCT_1:def 6;
thus L290: thesis by L289 , L285 , TARSKI:def 4;
end;
L291: ( union ( ( " C41 ) .: R13 ) ) c= ( C41 " ( union R13 ) ) by L263;
thus L292: thesis by L291 , L279 , XBOOLE_0:def 10;
end;
theorem
L293: (for R12 being set holds (for B35 being Function holds ( union ( ( " B35 ) " R12 ) ) c= ( B35 .: ( union R12 ) )))
proof
let R12 being set;
let C42 being Function;
let R6 being set;
assume L294: R6 in ( union ( ( " C42 ) " R12 ) );
consider R18 being set such that L295: R6 in R18 and L296: R18 in ( ( " C42 ) " R12 ) by L294 , TARSKI:def 4;
L297: ( dom ( " C42 ) ) = ( bool ( rng C42 ) ) by L227;
L298: R18 in ( bool ( rng C42 ) ) by L297 , L296 , FUNCT_1:def 7;
consider R3 being set such that L299: (R3 in ( dom C42 ) & R6 = ( C42 . R3 )) by L298 , L295 , FUNCT_1:def 3;
L300: ( ( " C42 ) . R18 ) in R12 by L296 , FUNCT_1:def 7;
L301: ( C42 " R18 ) in R12 by L300 , L298 , L227;
L302: R3 in ( C42 " R18 ) by L295 , L299 , FUNCT_1:def 7;
L303: R3 in ( union R12 ) by L302 , L301 , TARSKI:def 4;
thus L304: thesis by L303 , L299 , FUNCT_1:def 6;
end;
theorem
L305: (for R12 being set holds (for B36 being Function holds ((R12 c= ( bool ( dom B36 ) ) & B36 is  one-to-one) implies ( union ( ( " B36 ) " R12 ) ) = ( B36 .: ( union R12 ) ))))
proof
let R12 being set;
let C43 being Function;
assume that
L306: R12 c= ( bool ( dom C43 ) )
and
L307: C43 is  one-to-one;
L308: ( C43 .: ( union R12 ) ) c= ( union ( ( " C43 ) " R12 ) )
proof
let R6 being set;
assume L309: R6 in ( C43 .: ( union R12 ) );
consider R3 being set such that L310: R3 in ( dom C43 ) and L311: R3 in ( union R12 ) and L312: R6 = ( C43 . R3 ) by L309 , FUNCT_1:def 6;
consider R15 being set such that L313: R3 in R15 and L314: R15 in R12 by L311 , TARSKI:def 4;
L315: ( C43 " ( C43 .: R15 ) ) c= R15 by L307 , FUNCT_1:82;
L316: ( C43 .: R15 ) c= ( rng C43 ) by RELAT_1:111;
L317: ( C43 .: R15 ) in ( bool ( rng C43 ) ) by L316;
L318: ( C43 .: R15 ) in ( dom ( " C43 ) ) by L317 , L227;
L319: R15 c= ( C43 " ( C43 .: R15 ) ) by L306 , L314 , FUNCT_1:76;
L320: ( C43 " ( C43 .: R15 ) ) = R15 by L319 , L315 , XBOOLE_0:def 10;
L321: ( ( " C43 ) . ( C43 .: R15 ) ) in R12 by L320 , L314 , L316 , L227;
L322: ( C43 .: R15 ) in ( ( " C43 ) " R12 ) by L321 , L318 , FUNCT_1:def 7;
L323: R6 in ( C43 .: R15 ) by L310 , L312 , L313 , FUNCT_1:def 6;
thus L324: thesis by L323 , L322 , TARSKI:def 4;
end;
L325: ( union ( ( " C43 ) " R12 ) ) c= ( C43 .: ( union R12 ) ) by L293;
thus L326: thesis by L325 , L308 , XBOOLE_0:def 10;
end;
theorem
L327: (for R13 being set holds (for B37 being Function holds ( ( " B37 ) .: R13 ) c= ( ( .: B37 ) " R13 )))
proof
let R13 being set;
let C44 being Function;
let R3 being set;
assume L328: R3 in ( ( " C44 ) .: R13 );
consider R18 being set such that L329: R18 in ( dom ( " C44 ) ) and L330: R18 in R13 and L331: R3 = ( ( " C44 ) . R18 ) by L328 , FUNCT_1:def 6;
L332: ( ( " C44 ) . R18 ) = ( C44 " R18 ) by L329 , L248;
L333: R3 c= ( dom C44 ) by L332 , L331 , RELAT_1:132;
L334: R3 in ( bool ( dom C44 ) ) by L333;
L335: R3 in ( dom ( .: C44 ) ) by L334 , L73;
L336: R18 in ( bool ( rng C44 ) ) by L329 , L227;
L337: ( C44 .: R3 ) in R13 by L336 , L330 , L331 , L332 , FUNCT_1:77;
L338: ( ( .: C44 ) . R3 ) in R13 by L337 , L333 , L73;
thus L339: thesis by L338 , L335 , FUNCT_1:def 7;
end;
theorem
L340: (for R13 being set holds (for B38 being Function holds (B38 is  one-to-one implies ( ( " B38 ) .: R13 ) = ( ( .: B38 ) " R13 ))))
proof
let R13 being set;
let C45 being Function;
assume that
L341: C45 is  one-to-one;
L342: ( ( .: C45 ) " R13 ) c= ( ( " C45 ) .: R13 )
proof
let R3 being set;
L343: ( C45 .: R3 ) c= ( rng C45 ) by RELAT_1:111;
L344: ( C45 .: R3 ) in ( bool ( rng C45 ) ) by L343;
L345: ( C45 .: R3 ) in ( dom ( " C45 ) ) by L344 , L227;
assume L346: R3 in ( ( .: C45 ) " R13 );
L347: R3 in ( dom ( .: C45 ) ) by L346 , FUNCT_1:def 7;
L348: R3 in ( bool ( dom C45 ) ) by L347 , L73;
L349: R3 c= ( C45 " ( C45 .: R3 ) ) by L348 , FUNCT_1:76;
L350: ( C45 " ( C45 .: R3 ) ) c= R3 by L341 , FUNCT_1:82;
L351: R3 = ( C45 " ( C45 .: R3 ) ) by L350 , L349 , XBOOLE_0:def 10;
L352: R3 = ( ( " C45 ) . ( C45 .: R3 ) ) by L351 , L343 , L227;
L353: ( ( .: C45 ) . R3 ) in R13 by L346 , FUNCT_1:def 7;
L354: ( C45 .: R3 ) in R13 by L353 , L347 , L94;
thus L355: thesis by L354 , L352 , L345 , FUNCT_1:def 6;
end;
L356: ( ( " C45 ) .: R13 ) c= ( ( .: C45 ) " R13 ) by L327;
thus L357: thesis by L356 , L342 , XBOOLE_0:def 10;
end;
theorem
L358: (for B39 being Function holds (for B40 being set holds (B40 c= ( bool ( dom B39 ) ) implies ( ( " B39 ) " B40 ) c= ( ( .: B39 ) .: B40 ))))
proof
let C46 being Function;
let C47 being set;
assume that
L359: C47 c= ( bool ( dom C46 ) );
let R6 being set;
assume L360: R6 in ( ( " C46 ) " C47 );
L361: ( ( " C46 ) . R6 ) in C47 by L360 , FUNCT_1:def 7;
L362: R6 in ( dom ( " C46 ) ) by L360 , FUNCT_1:def 7;
L363: R6 in ( bool ( rng C46 ) ) by L362 , L227;
L364: ( C46 " R6 ) in C47 by L363 , L361 , L227;
L365: ( C46 " R6 ) in ( bool ( dom C46 ) ) by L364 , L359;
L366: ( C46 " R6 ) in ( dom ( .: C46 ) ) by L365 , L73;
L367: ( C46 .: ( C46 " R6 ) ) = R6 by L363 , FUNCT_1:77;
L368: ( ( .: C46 ) . ( C46 " R6 ) ) = R6 by L367 , L359 , L364 , L73;
L369: ( C46 " R6 ) in C47 by L361 , L363 , L227;
thus L370: thesis by L369 , L368 , L366 , FUNCT_1:def 6;
end;
theorem
L371: (for B41 being Function holds (for B42 being set holds (B41 is  one-to-one implies ( ( .: B41 ) .: B42 ) c= ( ( " B41 ) " B42 ))))
proof
let C48 being Function;
let C49 being set;
assume that
L372: C48 is  one-to-one;
let R6 being set;
assume L373: R6 in ( ( .: C48 ) .: C49 );
consider R3 being set such that L374: R3 in ( dom ( .: C48 ) ) and L375: R3 in C49 and L376: R6 = ( ( .: C48 ) . R3 ) by L373 , FUNCT_1:def 6;
L377: R3 in ( bool ( dom C48 ) ) by L374 , L73;
L378: R6 = ( C48 .: R3 ) by L377 , L376 , L73;
L379: R3 c= ( C48 " R6 ) by L378 , L377 , FUNCT_1:76;
L380: R6 c= ( rng C48 ) by L378 , RELAT_1:111;
L381: R6 in ( bool ( rng C48 ) ) by L380;
L382: R6 in ( dom ( " C48 ) ) by L381 , L227;
L383: ( C48 " R6 ) c= R3 by L372 , L378 , FUNCT_1:82;
L384: ( C48 " R6 ) in C49 by L383 , L375 , L379 , XBOOLE_0:def 10;
L385: ( ( " C48 ) . R6 ) in C49 by L384 , L380 , L227;
thus L386: thesis by L385 , L382 , FUNCT_1:def 7;
end;
theorem
L387: (for B43 being Function holds (for B44 being set holds ((B43 is  one-to-one & B44 c= ( bool ( dom B43 ) )) implies ( ( " B43 ) " B44 ) = ( ( .: B43 ) .: B44 ))))
proof
let C50 being Function;
let C51 being set;
assume L388: (C50 is  one-to-one & C51 c= ( bool ( dom C50 ) ));
L389: (( ( " C50 ) " C51 ) c= ( ( .: C50 ) .: C51 ) & ( ( .: C50 ) .: C51 ) c= ( ( " C50 ) " C51 )) by L388 , L358 , L371;
thus L390: thesis by L389 , XBOOLE_0:def 10;
end;
theorem
L391: (for B45 , B46 being Function holds (B46 is  one-to-one implies ( " ( B46 * B45 ) ) = ( ( " B45 ) * ( " B46 ) )))
proof
let C52 , C53 being Function;
assume that
L392: C53 is  one-to-one;
L393: (for R6 being set holds (R6 in ( dom ( " ( C53 * C52 ) ) ) iff R6 in ( dom ( ( " C52 ) * ( " C53 ) ) )))
proof
let R6 being set;
thus L394: (R6 in ( dom ( " ( C53 * C52 ) ) ) implies R6 in ( dom ( ( " C52 ) * ( " C53 ) ) ))
proof
assume L395: R6 in ( dom ( " ( C53 * C52 ) ) );
L396: R6 in ( bool ( rng ( C53 * C52 ) ) ) by L395 , L227;
L397: ( rng ( C53 * C52 ) ) c= ( rng C53 ) by RELAT_1:26;
L398: R6 c= ( rng C53 ) by L397 , L396 , XBOOLE_1:1;
L399: R6 in ( bool ( rng C53 ) ) by L398;
L400: R6 in ( dom ( " C53 ) ) by L399 , L227;
L401: ( C53 " R6 ) c= ( rng C52 ) by L392 , L396 , L15;
L402: ( C53 " R6 ) in ( bool ( rng C52 ) ) by L401;
L403: ( C53 " R6 ) in ( dom ( " C52 ) ) by L402 , L227;
L404: ( ( " C53 ) . R6 ) in ( dom ( " C52 ) ) by L403 , L398 , L227;
thus L405: thesis by L404 , L400 , FUNCT_1:11;
end;

assume L406: R6 in ( dom ( ( " C52 ) * ( " C53 ) ) );
L407: R6 in ( dom ( " C53 ) ) by L406 , FUNCT_1:11;
L408: ( ( " C53 ) . R6 ) in ( dom ( " C52 ) ) by L406 , FUNCT_1:11;
L409: ( C53 " R6 ) in ( dom ( " C52 ) ) by L408 , L407 , L248;
L410: ( C53 " R6 ) in ( bool ( rng C52 ) ) by L409 , L227;
L411: R6 in ( bool ( rng C53 ) ) by L407 , L227;
L412: R6 c= ( rng ( C53 * C52 ) ) by L411 , L410 , L27;
L413: R6 in ( bool ( rng ( C53 * C52 ) ) ) by L412;
thus L414: thesis by L413 , L227;
end;
L415: ( dom ( " ( C53 * C52 ) ) ) = ( dom ( ( " C52 ) * ( " C53 ) ) ) by L393 , TARSKI:1;
L416: (for R6 being set holds (R6 in ( dom ( " ( C53 * C52 ) ) ) implies ( ( " ( C53 * C52 ) ) . R6 ) = ( ( ( " C52 ) * ( " C53 ) ) . R6 )))
proof
let R6 being set;
assume L417: R6 in ( dom ( " ( C53 * C52 ) ) );
L418: R6 in ( bool ( rng ( C53 * C52 ) ) ) by L417 , L227;
L419: ( C53 " R6 ) c= ( rng C52 ) by L418 , L392 , L15;
L420: ( rng ( C53 * C52 ) ) c= ( rng C53 ) by RELAT_1:26;
L421: R6 c= ( rng C53 ) by L420 , L418 , XBOOLE_1:1;
L422: R6 in ( bool ( rng C53 ) ) by L421;
L423: R6 in ( dom ( " C53 ) ) by L422 , L227;
thus L424: ( ( " ( C53 * C52 ) ) . R6 ) = ( ( C53 * C52 ) " R6 ) by L417 , L248
.= ( C52 " ( C53 " R6 ) ) by RELAT_1:146
.= ( ( " C52 ) . ( C53 " R6 ) ) by L419 , L227
.= ( ( " C52 ) . ( ( " C53 ) . R6 ) ) by L421 , L227
.= ( ( ( " C52 ) * ( " C53 ) ) . R6 ) by L423 , FUNCT_1:13;
end;
thus L425: thesis by L416 , L415 , FUNCT_1:2;
end;
theorem
L426: (for B47 being Function holds ( " B47 ) is (Function of ( bool ( rng B47 ) ) , ( bool ( dom B47 ) )))
proof
let C54 being Function;
L427: (( dom ( " C54 ) ) = ( bool ( rng C54 ) ) & ( rng ( " C54 ) ) c= ( bool ( dom C54 ) )) by L227 , L251;
thus L428: thesis by L427 , FUNCT_2:def 1 , RELSET_1:4;
end;
definition
let R12 being set;
let R15 being set;
func chi (R12 , R15) -> Function means 
:L429: (( dom it ) = R15 & (for R3 being set holds (R3 in R15 implies ((R3 in R12 implies ( it . R3 ) = 1) & ((not R3 in R12) implies ( it . R3 ) = ( {} ))))));
existence
proof
defpred S5[ set , set ] means (($1 in R12 implies $2 = 1) & ((not $1 in R12) implies $2 = ( {} )));
L430: (for R3 being set holds (R3 in R15 implies (ex R6 being set st S5[ R3 , R6 ])))
proof
let R3 being set;
assume L431: R3 in R15;
L432: ((not R3 in R12) implies (ex R6 being set st (R6 = ( {} ) & (R3 in R12 implies R6 = 1) & ((not R3 in R12) implies R6 = ( {} )))));
thus L433: thesis by L432;
end;
L434: (for R3 being set holds (for R7 being set holds (for R8 being set holds ((R3 in R15 & S5[ R3 , R7 ] & S5[ R3 , R8 ]) implies R7 = R8))));
L435: (ex B48 being Function st (( dom B48 ) = R15 & (for R3 being set holds (R3 in R15 implies S5[ R3 , ( B48 . R3 ) ])))) from FUNCT_1:sch 2(L434 , L430);
thus L436: thesis by L435;
end;
uniqueness
proof
let C55 , C56 being Function;
assume that
L437: ( dom C55 ) = R15
and
L438: (for R3 being set holds (R3 in R15 implies ((R3 in R12 implies ( C55 . R3 ) = 1) & ((not R3 in R12) implies ( C55 . R3 ) = ( {} )))))
and
L439: ( dom C56 ) = R15
and
L440: (for R3 being set holds (R3 in R15 implies ((R3 in R12 implies ( C56 . R3 ) = 1) & ((not R3 in R12) implies ( C56 . R3 ) = ( {} )))));
L441: (for R3 being set holds (R3 in R15 implies ( C55 . R3 ) = ( C56 . R3 )))
proof
let R3 being set;
assume L442: R3 in R15;
L443: ((not R3 in R12) implies (( C55 . R3 ) = ( {} ) & ( C56 . R3 ) = ( {} ))) by L442 , L438 , L440;
L444: (R3 in R12 implies (( C55 . R3 ) = 1 & ( C56 . R3 ) = 1)) by L438 , L440 , L442;
thus L445: thesis by L444 , L443;
end;
thus L446: thesis by L441 , L437 , L439 , FUNCT_1:2;
end;
end;
theorem
L448: (for R3 being set holds (for R12 being set holds (for R15 being set holds (( ( chi (R12 , R15) ) . R3 ) = 1 implies R3 in R12))))
proof
let R3 being set;
let R12 being set;
let R15 being set;
assume L449: ( ( chi (R12 , R15) ) . R3 ) = 1;
per cases ;
suppose L450: R3 in R15;

thus L451: thesis by L450 , L449 , L429;
end;
suppose L452: (not R3 in R15);

L453: (not R3 in ( dom ( chi (R12 , R15) ) )) by L452 , L429;
thus L454: thesis by L453 , L449 , FUNCT_1:def 2;
end;
end;
theorem
L456: (for R3 being set holds (for R12 being set holds (for R15 being set holds (R3 in ( R15 \ R12 ) implies ( ( chi (R12 , R15) ) . R3 ) = ( {} )))))
proof
let R3 being set;
let R12 being set;
let R15 being set;
assume L457: R3 in ( R15 \ R12 );
L458: (not R3 in R12) by L457 , XBOOLE_0:def 5;
thus L459: thesis by L458 , L457 , L429;
end;
theorem
L460: (for R12 being set holds (for R13 being set holds (for R15 being set holds ((R12 c= R15 & R13 c= R15 & ( chi (R12 , R15) ) = ( chi (R13 , R15) )) implies R12 = R13))))
proof
let R12 being set;
let R13 being set;
let R15 being set;
assume that
L461: R12 c= R15
and
L462: R13 c= R15
and
L463: ( chi (R12 , R15) ) = ( chi (R13 , R15) );
L464: (for R3 being set holds (R3 in R12 iff R3 in R13))
proof
let R3 being set;
thus L465: (R3 in R12 implies R3 in R13)
proof
assume L466: R3 in R12;
L467: ( ( chi (R12 , R15) ) . R3 ) = 1 by L466 , L461 , L429;
thus L468: thesis by L467 , L463 , L448;
end;

assume L469: R3 in R13;
L470: ( ( chi (R13 , R15) ) . R3 ) = 1 by L469 , L462 , L429;
thus L471: thesis by L470 , L463 , L448;
end;
thus L472: thesis by L464 , TARSKI:1;
end;
theorem
L473: (for R12 being set holds (for R15 being set holds ( rng ( chi (R12 , R15) ) ) c= { ( {} ) , 1 }))
proof
let R12 being set;
let R15 being set;
let R6 being set;
assume L474: R6 in ( rng ( chi (R12 , R15) ) );
consider R3 being set such that L475: R3 in ( dom ( chi (R12 , R15) ) ) and L476: R6 = ( ( chi (R12 , R15) ) . R3 ) by L474 , FUNCT_1:def 3;
L477: (R3 in R12 or (not R3 in R12));
L478: R3 in R15 by L475 , L429;
L479: (R6 = ( {} ) or R6 = 1) by L478 , L476 , L477 , L429;
thus L480: thesis by L479 , TARSKI:def 2;
end;
theorem
L481: (for R15 being set holds (for B49 being (Function of R15 , { ( {} ) , 1 }) holds B49 = ( chi (( B49 " { 1 } ) , R15) )))
proof
let R15 being set;
let C57 being (Function of R15 , { ( {} ) , 1 });
L482:
now
thus L483: ( dom C57 ) = R15 by FUNCT_2:def 1;
let R3 being set;
assume that
L484: R3 in R15;
thus L485: (R3 in ( C57 " { 1 } ) implies ( C57 . R3 ) = 1)
proof
assume L486: R3 in ( C57 " { 1 } );
L487: ( C57 . R3 ) in { 1 } by L486 , FUNCT_1:def 7;
thus L488: thesis by L487 , TARSKI:def 1;
end;

assume L489: (not R3 in ( C57 " { 1 } ));
L490: (not ( C57 . R3 ) in { 1 }) by L489 , L483 , L484 , FUNCT_1:def 7;
L491: (( rng C57 ) c= { ( {} ) , 1 } & ( C57 . R3 ) <> 1) by L490 , RELAT_1:def 19 , TARSKI:def 1;
L492: ( C57 . R3 ) in ( rng C57 ) by L483 , L484 , FUNCT_1:def 3;
thus L493: ( C57 . R3 ) = ( {} ) by L492 , L491 , TARSKI:def 2;
end;
thus L494: thesis by L482 , L429;
end;
definition
let R12 being set;
let R15 being set;
redefine func chi (R12 , R15) -> (Function of R15 , { ( {} ) , 1 });

coherence
proof
L495: (( dom ( chi (R12 , R15) ) ) = R15 & ( rng ( chi (R12 , R15) ) ) c= { ( {} ) , 1 }) by L429 , L473;
thus L496: thesis by L495 , FUNCT_2:def 1 , RELSET_1:4;
end;
end;
notation
let R18 being set;
let C58 being (Subset of R18);
synonym incl C58 for id C58;
end;
definition
let R18 being set;
let C59 being (Subset of R18);
redefine func incl C59 -> (Function of C59 , R18);

coherence
proof
L499: (( rng ( id C59 ) ) = C59 & ( dom ( id C59 ) ) = C59);
thus L500: thesis by L499 , FUNCT_2:2;
end;
end;
theorem
L502: (for R18 being set holds (for B50 being (Subset of R18) holds ( incl B50 ) = ( ( id R18 ) | B50 ))) by L1;
theorem
L503: (for R3 being set holds (for R18 being set holds (for B51 being (Subset of R18) holds (R3 in B51 implies ( ( incl B51 ) . R3 ) in R18))))
proof
let R3 being set;
let R18 being set;
let C60 being (Subset of R18);
assume that
L504: R3 in C60;
L505: (( dom ( incl C60 ) ) = C60 & ( rng ( incl C60 ) ) = C60);
L506: ( ( incl C60 ) . R3 ) in C60 by L505 , L504 , FUNCT_1:def 3;
thus L507: thesis by L506;
end;
definition
let R15 being set;
let R18 being set;
func pr1 (R15 , R18) -> Function means 
:L508: (( dom it ) = [: R15 , R18 :] & (for R3 being set holds (for R6 being set holds ((R3 in R15 & R6 in R18) implies ( it . (R3 , R6) ) = R3))));
existence
proof
deffunc H1(set , set) = $1;
L509: (ex B52 being Function st (( dom B52 ) = [: R15 , R18 :] & (for R3 being set holds (for R6 being set holds ((R3 in R15 & R6 in R18) implies ( B52 . (R3 , R6) ) = H1(R3 , R6)))))) from Lambda3;
thus L510: thesis by L509;
end;
uniqueness
proof
let C61 , C62 being Function;
assume that
L511: ( dom C61 ) = [: R15 , R18 :]
and
L512: (for R3 being set holds (for R6 being set holds ((R3 in R15 & R6 in R18) implies ( C61 . (R3 , R6) ) = R3)))
and
L513: ( dom C62 ) = [: R15 , R18 :]
and
L514: (for R3 being set holds (for R6 being set holds ((R3 in R15 & R6 in R18) implies ( C62 . (R3 , R6) ) = R3)));
L515: (for R3 being set holds (for R6 being set holds ((R3 in R15 & R6 in R18) implies ( C61 . (R3 , R6) ) = ( C62 . (R3 , R6) ))))
proof
let R3 being set;
let R6 being set;
assume L516: (R3 in R15 & R6 in R18);
L517: ( C61 . (R3 , R6) ) = R3 by L516 , L512;
thus L518: thesis by L517 , L514 , L516;
end;
thus L519: thesis by L515 , L511 , L513 , L63;
end;
func pr2 (R15 , R18) -> Function means 
:L520: (( dom it ) = [: R15 , R18 :] & (for R3 being set holds (for R6 being set holds ((R3 in R15 & R6 in R18) implies ( it . (R3 , R6) ) = R6))));
existence
proof
deffunc H2(set , set) = $2;
L521: (ex B53 being Function st (( dom B53 ) = [: R15 , R18 :] & (for R3 being set holds (for R6 being set holds ((R3 in R15 & R6 in R18) implies ( B53 . (R3 , R6) ) = H2(R3 , R6)))))) from Lambda3;
thus L522: thesis by L521;
end;
uniqueness
proof
let C63 , C64 being Function;
assume that
L523: ( dom C63 ) = [: R15 , R18 :]
and
L524: (for R3 being set holds (for R6 being set holds ((R3 in R15 & R6 in R18) implies ( C63 . (R3 , R6) ) = R6)))
and
L525: ( dom C64 ) = [: R15 , R18 :]
and
L526: (for R3 being set holds (for R6 being set holds ((R3 in R15 & R6 in R18) implies ( C64 . (R3 , R6) ) = R6)));
L527: (for R3 being set holds (for R6 being set holds ((R3 in R15 & R6 in R18) implies ( C63 . (R3 , R6) ) = ( C64 . (R3 , R6) ))))
proof
let R3 being set;
let R6 being set;
assume L528: (R3 in R15 & R6 in R18);
L529: ( C63 . (R3 , R6) ) = R6 by L528 , L524;
thus L530: thesis by L529 , L526 , L528;
end;
thus L531: thesis by L527 , L523 , L525 , L63;
end;
end;
theorem
L533: (for R15 being set holds (for R18 being set holds ( rng ( pr1 (R15 , R18) ) ) c= R15))
proof
let R15 being set;
let R18 being set;
let R3 being set;
assume L534: R3 in ( rng ( pr1 (R15 , R18) ) );
consider R1 being set such that L535: R1 in ( dom ( pr1 (R15 , R18) ) ) and L536: R3 = ( ( pr1 (R15 , R18) ) . R1 ) by L534 , FUNCT_1:def 3;
L537: R1 in [: R15 , R18 :] by L535 , L508;
consider R4 being set, R7 being set such that L538: (R4 in R15 & R7 in R18) and L539: R1 = [ R4 , R7 ] by L537 , ZFMISC_1:def 2;
L540: R3 = ( ( pr1 (R15 , R18) ) . (R4 , R7) ) by L536 , L539;
thus L541: thesis by L540 , L538 , L508;
end;
theorem
L542: (for R15 being set holds (for R18 being set holds (R18 <> ( {} ) implies ( rng ( pr1 (R15 , R18) ) ) = R15)))
proof
let R15 being set;
let R18 being set;
set D2 = the (Element of R18);
assume L543: R18 <> ( {} );
L544: R15 c= ( rng ( pr1 (R15 , R18) ) )
proof
let R3 being set;
assume L545: R3 in R15;
L546: [ R3 , D2 ] in [: R15 , R18 :] by L545 , L543 , ZFMISC_1:87;
L547: [ R3 , D2 ] in ( dom ( pr1 (R15 , R18) ) ) by L546 , L508;
L548: ( ( pr1 (R15 , R18) ) . (R3 , D2) ) = R3 by L543 , L545 , L508;
thus L549: thesis by L548 , L547 , FUNCT_1:def 3;
end;
L550: ( rng ( pr1 (R15 , R18) ) ) c= R15 by L533;
thus L551: thesis by L550 , L544 , XBOOLE_0:def 10;
end;
theorem
L552: (for R15 being set holds (for R18 being set holds ( rng ( pr2 (R15 , R18) ) ) c= R18))
proof
let R15 being set;
let R18 being set;
let R6 being set;
assume L553: R6 in ( rng ( pr2 (R15 , R18) ) );
consider R1 being set such that L554: R1 in ( dom ( pr2 (R15 , R18) ) ) and L555: R6 = ( ( pr2 (R15 , R18) ) . R1 ) by L553 , FUNCT_1:def 3;
L556: R1 in [: R15 , R18 :] by L554 , L520;
consider R4 being set, R7 being set such that L557: (R4 in R15 & R7 in R18) and L558: R1 = [ R4 , R7 ] by L556 , ZFMISC_1:def 2;
L559: R6 = ( ( pr2 (R15 , R18) ) . (R4 , R7) ) by L555 , L558;
thus L560: thesis by L559 , L557 , L520;
end;
theorem
L561: (for R15 being set holds (for R18 being set holds (R15 <> ( {} ) implies ( rng ( pr2 (R15 , R18) ) ) = R18)))
proof
let R15 being set;
let R18 being set;
set D3 = the (Element of R15);
assume L562: R15 <> ( {} );
L563: R18 c= ( rng ( pr2 (R15 , R18) ) )
proof
let R6 being set;
assume L564: R6 in R18;
L565: [ D3 , R6 ] in [: R15 , R18 :] by L564 , L562 , ZFMISC_1:87;
L566: [ D3 , R6 ] in ( dom ( pr2 (R15 , R18) ) ) by L565 , L520;
L567: ( ( pr2 (R15 , R18) ) . (D3 , R6) ) = R6 by L562 , L564 , L520;
thus L568: thesis by L567 , L566 , FUNCT_1:def 3;
end;
L569: ( rng ( pr2 (R15 , R18) ) ) c= R18 by L552;
thus L570: thesis by L569 , L563 , XBOOLE_0:def 10;
end;
definition
let R15 being set;
let R18 being set;
redefine func pr1 (R15 , R18) -> (Function of [: R15 , R18 :] , R15);

coherence
proof
per cases ;
suppose L571: (R15 = ( {} ) implies [: R15 , R18 :] = ( {} ));

L572: (( dom ( pr1 (R15 , R18) ) ) = [: R15 , R18 :] & ( rng ( pr1 (R15 , R18) ) ) c= R15) by L508 , L533;
thus L573: thesis by L572 , FUNCT_2:2;
end;
suppose L574: (R15 = ( {} ) & [: R15 , R18 :] <> ( {} ));

thus L575: thesis by L574 , ZFMISC_1:90;
end;
end;
redefine func pr2 (R15 , R18) -> (Function of [: R15 , R18 :] , R18);

coherence
proof
per cases ;
suppose L577: (R18 = ( {} ) implies [: R15 , R18 :] = ( {} ));

L578: (( dom ( pr2 (R15 , R18) ) ) = [: R15 , R18 :] & ( rng ( pr2 (R15 , R18) ) ) c= R18) by L520 , L552;
thus L579: thesis by L578 , FUNCT_2:2;
end;
suppose L580: (R18 = ( {} ) & [: R15 , R18 :] <> ( {} ));

thus L581: thesis by L580 , ZFMISC_1:90;
end;
end;
end;
definition
let R15 being set;
func delta R15 -> Function means 
:L584: (( dom it ) = R15 & (for R3 being set holds (R3 in R15 implies ( it . R3 ) = [ R3 , R3 ])));
existence
proof
deffunc H3(set) = [ $1 , $1 ];
L585: (ex B54 being Function st (( dom B54 ) = R15 & (for R3 being set holds (R3 in R15 implies ( B54 . R3 ) = H3(R3))))) from FUNCT_1:sch 3;
thus L586: thesis by L585;
end;
uniqueness
proof
let C65 , C66 being Function;
assume that
L587: ( dom C65 ) = R15
and
L588: (for R3 being set holds (R3 in R15 implies ( C65 . R3 ) = [ R3 , R3 ]))
and
L589: ( dom C66 ) = R15
and
L590: (for R3 being set holds (R3 in R15 implies ( C66 . R3 ) = [ R3 , R3 ]));
L591: (for R3 being set holds (R3 in R15 implies ( C65 . R3 ) = ( C66 . R3 )))
proof
let R3 being set;
assume L592: R3 in R15;
L593: ( C65 . R3 ) = [ R3 , R3 ] by L592 , L588;
thus L594: thesis by L593 , L590 , L592;
end;
thus L595: thesis by L591 , L587 , L589 , FUNCT_1:2;
end;
end;
theorem
L597: (for R15 being set holds ( rng ( delta R15 ) ) c= [: R15 , R15 :])
proof
let R15 being set;
let R6 being set;
assume L598: R6 in ( rng ( delta R15 ) );
consider R3 being set such that L599: R3 in ( dom ( delta R15 ) ) and L600: R6 = ( ( delta R15 ) . R3 ) by L598 , FUNCT_1:def 3;
L601: R3 in R15 by L599 , L584;
L602: R6 = [ R3 , R3 ] by L601 , L600 , L584;
thus L603: thesis by L602 , L601 , ZFMISC_1:87;
end;
definition
let R15 being set;
redefine func delta R15 -> (Function of R15 , [: R15 , R15 :]);

coherence
proof
L604: (( dom ( delta R15 ) ) = R15 & ( rng ( delta R15 ) ) c= [: R15 , R15 :]) by L584 , L597;
thus L605: thesis by L604 , FUNCT_2:2;
end;
end;
definition
let C67 , C68 being Function;
func <:C67 , C68 :> -> Function means 
:L607: (( dom it ) = ( ( dom C67 ) /\ ( dom C68 ) ) & (for R3 being set holds (R3 in ( dom it ) implies ( it . R3 ) = [ ( C67 . R3 ) , ( C68 . R3 ) ])));
existence
proof
deffunc H4(set) = [ ( C67 . $1 ) , ( C68 . $1 ) ];
L608: (ex B55 being Function st (( dom B55 ) = ( ( dom C67 ) /\ ( dom C68 ) ) & (for R3 being set holds (R3 in ( ( dom C67 ) /\ ( dom C68 ) ) implies ( B55 . R3 ) = H4(R3))))) from FUNCT_1:sch 3;
thus L609: thesis by L608;
end;
uniqueness
proof
let C69 , C70 being Function;
assume that
L610: ( dom C69 ) = ( ( dom C67 ) /\ ( dom C68 ) )
and
L611: (for R3 being set holds (R3 in ( dom C69 ) implies ( C69 . R3 ) = [ ( C67 . R3 ) , ( C68 . R3 ) ]))
and
L612: ( dom C70 ) = ( ( dom C67 ) /\ ( dom C68 ) )
and
L613: (for R3 being set holds (R3 in ( dom C70 ) implies ( C70 . R3 ) = [ ( C67 . R3 ) , ( C68 . R3 ) ]));
L614: (for R3 being set holds (R3 in ( ( dom C67 ) /\ ( dom C68 ) ) implies ( C69 . R3 ) = ( C70 . R3 )))
proof
let R3 being set;
assume L615: R3 in ( ( dom C67 ) /\ ( dom C68 ) );
L616: ( C69 . R3 ) = [ ( C67 . R3 ) , ( C68 . R3 ) ] by L615 , L610 , L611;
thus L617: thesis by L616 , L612 , L613 , L615;
end;
thus L618: thesis by L614 , L610 , L612 , FUNCT_1:2;
end;
end;
registration
let C71 being  empty Function;
let C72 being Function;
cluster <: C71 , C72 :> ->  empty;
coherence
proof
L620: ( dom C71 ) = ( {} );
L621: ( dom <: C71 , C72 :> ) = ( ( {} ) /\ ( dom C72 ) ) by L620 , L607;
thus L622: thesis by L621;
end;
cluster <: C72 , C71 :> ->  empty;
coherence
proof
L623: ( dom C71 ) = ( {} );
L624: ( dom <: C72 , C71 :> ) = ( ( {} ) /\ ( dom C72 ) ) by L623 , L607;
thus L625: thesis by L624;
end;
end;
theorem
L627: (for R3 being set holds (for B56 , B57 being Function holds (R3 in ( ( dom B56 ) /\ ( dom B57 ) ) implies ( <: B56 , B57 :> . R3 ) = [ ( B56 . R3 ) , ( B57 . R3 ) ])))
proof
let R3 being set;
let C73 , C74 being Function;
assume L628: R3 in ( ( dom C73 ) /\ ( dom C74 ) );
L629: R3 in ( dom <: C73 , C74 :> ) by L628 , L607;
thus L630: thesis by L629 , L607;
end;
theorem
L631: (for R3 being set holds (for R15 being set holds (for B58 , B59 being Function holds ((( dom B58 ) = R15 & ( dom B59 ) = R15 & R3 in R15) implies ( <: B58 , B59 :> . R3 ) = [ ( B58 . R3 ) , ( B59 . R3 ) ]))))
proof
let R3 being set;
let R15 being set;
let C75 , C76 being Function;
assume L632: (( dom C75 ) = R15 & ( dom C76 ) = R15 & R3 in R15);
L633: R3 in ( ( dom C75 ) /\ ( dom C76 ) ) by L632;
L634: R3 in ( dom <: C75 , C76 :> ) by L633 , L607;
thus L635: thesis by L634 , L607;
end;
theorem
L636: (for R15 being set holds (for B60 , B61 being Function holds ((( dom B60 ) = R15 & ( dom B61 ) = R15) implies ( dom <: B60 , B61 :> ) = R15)))
proof
let R15 being set;
let C77 , C78 being Function;
L637: ( dom <: C77 , C78 :> ) = ( ( dom C77 ) /\ ( dom C78 ) ) by L607;
thus L638: thesis by L637;
end;
theorem
L639: (for B62 , B63 being Function holds ( rng <: B62 , B63 :> ) c= [: ( rng B62 ) , ( rng B63 ) :])
proof
let C79 , C80 being Function;
let R2 being set;
assume L640: R2 in ( rng <: C79 , C80 :> );
consider R3 being set such that L641: R3 in ( dom <: C79 , C80 :> ) and L642: R2 = ( <: C79 , C80 :> . R3 ) by L640 , FUNCT_1:def 3;
L643: R3 in ( ( dom C79 ) /\ ( dom C80 ) ) by L641 , L607;
L644: R3 in ( dom C79 ) by L643 , XBOOLE_0:def 4;
L645: ( C79 . R3 ) in ( rng C79 ) by L644 , FUNCT_1:def 3;
L646: R3 in ( dom C80 ) by L643 , XBOOLE_0:def 4;
L647: ( C80 . R3 ) in ( rng C80 ) by L646 , FUNCT_1:def 3;
L648: R2 = [ ( C79 . R3 ) , ( C80 . R3 ) ] by L641 , L642 , L607;
thus L649: thesis by L648 , L645 , L647 , ZFMISC_1:87;
end;
theorem
L650: (for R18 being set holds (for R21 being set holds (for B64 , B65 being Function holds ((( dom B64 ) = ( dom B65 ) & ( rng B64 ) c= R18 & ( rng B65 ) c= R21) implies (( ( pr1 (R18 , R21) ) * <: B64 , B65 :> ) = B64 & ( ( pr2 (R18 , R21) ) * <: B64 , B65 :> ) = B65)))))
proof
let R18 being set;
let R21 being set;
let C81 , C82 being Function;
assume that
L651: ( dom C81 ) = ( dom C82 )
and
L652: (( rng C81 ) c= R18 & ( rng C82 ) c= R21);
L653: [: ( rng C81 ) , ( rng C82 ) :] c= [: R18 , R21 :] by L652 , ZFMISC_1:96;
L654: ( rng <: C81 , C82 :> ) c= [: ( rng C81 ) , ( rng C82 ) :] by L639;
L655: ( dom ( pr1 (R18 , R21) ) ) = [: R18 , R21 :] by L508;
L656: ( dom ( ( pr1 (R18 , R21) ) * <: C81 , C82 :> ) ) = ( dom <: C81 , C82 :> ) by L655 , L653 , L654 , RELAT_1:27 , XBOOLE_1:1;
L657: ( dom ( ( pr1 (R18 , R21) ) * <: C81 , C82 :> ) ) = ( dom C81 ) by L656 , L651 , L636;
L658: (for R3 being set holds (R3 in ( dom C81 ) implies ( ( ( pr1 (R18 , R21) ) * <: C81 , C82 :> ) . R3 ) = ( C81 . R3 )))
proof
let R3 being set;
assume L659: R3 in ( dom C81 );
L660: (( C81 . R3 ) in ( rng C81 ) & ( C82 . R3 ) in ( rng C82 )) by L659 , L651 , FUNCT_1:def 3;
thus L661: ( ( ( pr1 (R18 , R21) ) * <: C81 , C82 :> ) . R3 ) = ( ( pr1 (R18 , R21) ) . ( <: C81 , C82 :> . R3 ) ) by L657 , L659 , FUNCT_1:12
.= ( ( pr1 (R18 , R21) ) . (( C81 . R3 ) , ( C82 . R3 )) ) by L656 , L657 , L659 , L607
.= ( C81 . R3 ) by L652 , L660 , L508;
end;
thus L662: ( ( pr1 (R18 , R21) ) * <: C81 , C82 :> ) = C81 by L658 , L657 , FUNCT_1:2;
L663: ( dom ( pr2 (R18 , R21) ) ) = [: R18 , R21 :] by L520;
L664: ( dom ( ( pr2 (R18 , R21) ) * <: C81 , C82 :> ) ) = ( dom <: C81 , C82 :> ) by L663 , L653 , L654 , RELAT_1:27 , XBOOLE_1:1;
L665: ( dom ( ( pr2 (R18 , R21) ) * <: C81 , C82 :> ) ) = ( dom C82 ) by L664 , L651 , L636;
L666: (for R3 being set holds (R3 in ( dom C82 ) implies ( ( ( pr2 (R18 , R21) ) * <: C81 , C82 :> ) . R3 ) = ( C82 . R3 )))
proof
let R3 being set;
assume L667: R3 in ( dom C82 );
L668: (( C81 . R3 ) in ( rng C81 ) & ( C82 . R3 ) in ( rng C82 )) by L667 , L651 , FUNCT_1:def 3;
thus L669: ( ( ( pr2 (R18 , R21) ) * <: C81 , C82 :> ) . R3 ) = ( ( pr2 (R18 , R21) ) . ( <: C81 , C82 :> . R3 ) ) by L665 , L667 , FUNCT_1:12
.= ( ( pr2 (R18 , R21) ) . (( C81 . R3 ) , ( C82 . R3 )) ) by L664 , L665 , L667 , L607
.= ( C82 . R3 ) by L652 , L668 , L520;
end;
thus L670: thesis by L666 , L665 , FUNCT_1:2;
end;
theorem
L671: (for R15 being set holds (for R18 being set holds <: ( pr1 (R15 , R18) ) , ( pr2 (R15 , R18) ) :> = ( id [: R15 , R18 :] )))
proof
let R15 being set;
let R18 being set;
L672: (( dom ( pr1 (R15 , R18) ) ) = [: R15 , R18 :] & ( dom ( pr2 (R15 , R18) ) ) = [: R15 , R18 :]) by L508 , L520;
L673: ( dom <: ( pr1 (R15 , R18) ) , ( pr2 (R15 , R18) ) :> ) = [: R15 , R18 :] by L672 , L636;
L674: (for R3 being set holds (for R6 being set holds ((R3 in R15 & R6 in R18) implies ( <: ( pr1 (R15 , R18) ) , ( pr2 (R15 , R18) ) :> . (R3 , R6) ) = ( ( id [: R15 , R18 :] ) . (R3 , R6) ))))
proof
let R3 being set;
let R6 being set;
assume L675: (R3 in R15 & R6 in R18);
L676: [ R3 , R6 ] in [: R15 , R18 :] by L675 , ZFMISC_1:87;
thus L677: ( <: ( pr1 (R15 , R18) ) , ( pr2 (R15 , R18) ) :> . (R3 , R6) ) = [ ( ( pr1 (R15 , R18) ) . (R3 , R6) ) , ( ( pr2 (R15 , R18) ) . (R3 , R6) ) ] by L676 , L673 , L607
.= [ R3 , ( ( pr2 (R15 , R18) ) . (R3 , R6) ) ] by L675 , L508
.= [ R3 , R6 ] by L675 , L520
.= ( ( id [: R15 , R18 :] ) . (R3 , R6) ) by L676 , FUNCT_1:18;
end;
L678: ( dom ( id [: R15 , R18 :] ) ) = [: R15 , R18 :];
thus L679: thesis by L678 , L673 , L674 , L63;
end;
theorem
L680: (for B66 , B67 , B68 , B69 being Function holds ((( dom B66 ) = ( dom B67 ) & ( dom B69 ) = ( dom B68 ) & <: B66 , B67 :> = <: B69 , B68 :>) implies (B66 = B69 & B67 = B68)))
proof
let C83 , C84 , C85 , C86 being Function;
assume that
L681: ( dom C83 ) = ( dom C84 )
and
L682: ( dom C86 ) = ( dom C85 )
and
L683: <: C83 , C84 :> = <: C86 , C85 :>;
L684: ( dom <: C83 , C84 :> ) = ( dom C83 ) by L681 , L636;
L685: (for R3 being set holds (R3 in ( dom C83 ) implies ( C83 . R3 ) = ( C86 . R3 )))
proof
let R3 being set;
assume L686: R3 in ( dom C83 );
L687: (( <: C83 , C84 :> . R3 ) = [ ( C83 . R3 ) , ( C84 . R3 ) ] & ( <: C86 , C85 :> . R3 ) = [ ( C86 . R3 ) , ( C85 . R3 ) ]) by L686 , L683 , L684 , L607;
thus L688: thesis by L687 , L683 , XTUPLE_0:1;
end;
thus L689: C83 = C86 by L685 , L682 , L683 , L684 , L636 , FUNCT_1:2;
L690: ( dom <: C83 , C84 :> ) = ( dom C84 ) by L681 , L636;
L691: (for R3 being set holds (R3 in ( dom C84 ) implies ( C84 . R3 ) = ( C85 . R3 )))
proof
let R3 being set;
assume L692: R3 in ( dom C84 );
L693: (( <: C83 , C84 :> . R3 ) = [ ( C83 . R3 ) , ( C84 . R3 ) ] & ( <: C86 , C85 :> . R3 ) = [ ( C86 . R3 ) , ( C85 . R3 ) ]) by L692 , L683 , L690 , L607;
thus L694: thesis by L693 , L683 , XTUPLE_0:1;
end;
thus L695: thesis by L691 , L682 , L683 , L690 , L636 , FUNCT_1:2;
end;
theorem
L696: (for B70 , B71 , B72 being Function holds <: ( B70 * B72 ) , ( B71 * B72 ) :> = ( <: B70 , B71 :> * B72 ))
proof
let C87 , C88 , C89 being Function;
L697: (for R3 being set holds (R3 in ( dom <: ( C87 * C89 ) , ( C88 * C89 ) :> ) iff R3 in ( dom ( <: C87 , C88 :> * C89 ) )))
proof
let R3 being set;
thus L698: (R3 in ( dom <: ( C87 * C89 ) , ( C88 * C89 ) :> ) implies R3 in ( dom ( <: C87 , C88 :> * C89 ) ))
proof
assume L699: R3 in ( dom <: ( C87 * C89 ) , ( C88 * C89 ) :> );
L700: R3 in ( ( dom ( C87 * C89 ) ) /\ ( dom ( C88 * C89 ) ) ) by L699 , L607;
L701: R3 in ( dom ( C87 * C89 ) ) by L700 , XBOOLE_0:def 4;
L702: R3 in ( dom ( C88 * C89 ) ) by L700 , XBOOLE_0:def 4;
L703: ( C89 . R3 ) in ( dom C88 ) by L702 , FUNCT_1:11;
L704: ( C89 . R3 ) in ( dom C87 ) by L701 , FUNCT_1:11;
L705: ( C89 . R3 ) in ( ( dom C87 ) /\ ( dom C88 ) ) by L704 , L703 , XBOOLE_0:def 4;
L706: ( C89 . R3 ) in ( dom <: C87 , C88 :> ) by L705 , L607;
L707: R3 in ( dom C89 ) by L701 , FUNCT_1:11;
thus L708: thesis by L707 , L706 , FUNCT_1:11;
end;

assume L709: R3 in ( dom ( <: C87 , C88 :> * C89 ) );
L710: R3 in ( dom C89 ) by L709 , FUNCT_1:11;
L711: ( C89 . R3 ) in ( dom <: C87 , C88 :> ) by L709 , FUNCT_1:11;
L712: ( C89 . R3 ) in ( ( dom C87 ) /\ ( dom C88 ) ) by L711 , L607;
L713: ( C89 . R3 ) in ( dom C88 ) by L712 , XBOOLE_0:def 4;
L714: R3 in ( dom ( C88 * C89 ) ) by L713 , L710 , FUNCT_1:11;
L715: ( C89 . R3 ) in ( dom C87 ) by L712 , XBOOLE_0:def 4;
L716: R3 in ( dom ( C87 * C89 ) ) by L715 , L710 , FUNCT_1:11;
L717: R3 in ( ( dom ( C87 * C89 ) ) /\ ( dom ( C88 * C89 ) ) ) by L716 , L714 , XBOOLE_0:def 4;
thus L718: thesis by L717 , L607;
end;
L719: ( dom <: ( C87 * C89 ) , ( C88 * C89 ) :> ) = ( dom ( <: C87 , C88 :> * C89 ) ) by L697 , TARSKI:1;
L720: (for R3 being set holds (R3 in ( dom <: ( C87 * C89 ) , ( C88 * C89 ) :> ) implies ( <: ( C87 * C89 ) , ( C88 * C89 ) :> . R3 ) = ( ( <: C87 , C88 :> * C89 ) . R3 )))
proof
let R3 being set;
assume L721: R3 in ( dom <: ( C87 * C89 ) , ( C88 * C89 ) :> );
L722: R3 in ( ( dom ( C87 * C89 ) ) /\ ( dom ( C88 * C89 ) ) ) by L721 , L607;
L723: R3 in ( dom ( C87 * C89 ) ) by L722 , XBOOLE_0:def 4;
L724: R3 in ( dom C89 ) by L723 , FUNCT_1:11;
L725: R3 in ( dom ( C88 * C89 ) ) by L722 , XBOOLE_0:def 4;
L726: ( C89 . R3 ) in ( dom C88 ) by L725 , FUNCT_1:11;
L727: ( C89 . R3 ) in ( dom C87 ) by L723 , FUNCT_1:11;
L728: ( C89 . R3 ) in ( ( dom C87 ) /\ ( dom C88 ) ) by L727 , L726 , XBOOLE_0:def 4;
thus L729: ( <: ( C87 * C89 ) , ( C88 * C89 ) :> . R3 ) = [ ( ( C87 * C89 ) . R3 ) , ( ( C88 * C89 ) . R3 ) ] by L721 , L607
.= [ ( C87 . ( C89 . R3 ) ) , ( ( C88 * C89 ) . R3 ) ] by L723 , FUNCT_1:12
.= [ ( C87 . ( C89 . R3 ) ) , ( C88 . ( C89 . R3 ) ) ] by L725 , FUNCT_1:12
.= ( <: C87 , C88 :> . ( C89 . R3 ) ) by L728 , L627
.= ( ( <: C87 , C88 :> * C89 ) . R3 ) by L724 , FUNCT_1:13;
end;
thus L730: thesis by L720 , L719 , FUNCT_1:2;
end;
theorem
L731: (for R12 being set holds (for B73 , B74 being Function holds ( <: B73 , B74 :> .: R12 ) c= [: ( B73 .: R12 ) , ( B74 .: R12 ) :]))
proof
let R12 being set;
let C90 , C91 being Function;
let R6 being set;
assume L732: R6 in ( <: C90 , C91 :> .: R12 );
consider R3 being set such that L733: R3 in ( dom <: C90 , C91 :> ) and L734: R3 in R12 and L735: R6 = ( <: C90 , C91 :> . R3 ) by L732 , FUNCT_1:def 6;
L736: R3 in ( ( dom C90 ) /\ ( dom C91 ) ) by L733 , L607;
L737: R3 in ( dom C90 ) by L736 , XBOOLE_0:def 4;
L738: ( C90 . R3 ) in ( C90 .: R12 ) by L737 , L734 , FUNCT_1:def 6;
L739: R3 in ( dom C91 ) by L736 , XBOOLE_0:def 4;
L740: ( C91 . R3 ) in ( C91 .: R12 ) by L739 , L734 , FUNCT_1:def 6;
L741: R6 = [ ( C90 . R3 ) , ( C91 . R3 ) ] by L733 , L735 , L607;
thus L742: thesis by L741 , L738 , L740 , ZFMISC_1:def 2;
end;
theorem
L743: (for R13 being set holds (for R22 being non  empty set holds (for B75 , B76 being Function holds ( <: B75 , B76 :> " [: R13 , R22 :] ) = ( ( B75 " R13 ) /\ ( B76 " R22 ) ))))
proof
let R13 being set;
let R22 being non  empty set;
let C92 , C93 being Function;
L744: (for R3 being set holds (R3 in ( <: C92 , C93 :> " [: R13 , R22 :] ) iff R3 in ( ( C92 " R13 ) /\ ( C93 " R22 ) )))
proof
let R3 being set;
thus L745: (R3 in ( <: C92 , C93 :> " [: R13 , R22 :] ) implies R3 in ( ( C92 " R13 ) /\ ( C93 " R22 ) ))
proof
assume L746: R3 in ( <: C92 , C93 :> " [: R13 , R22 :] );
L747: ( <: C92 , C93 :> . R3 ) in [: R13 , R22 :] by L746 , FUNCT_1:def 7;
consider R7 being set, R8 being set such that L748: R7 in R13 and L749: R8 in R22 and L750: ( <: C92 , C93 :> . R3 ) = [ R7 , R8 ] by L747 , ZFMISC_1:def 2;
L751: R3 in ( dom <: C92 , C93 :> ) by L746 , FUNCT_1:def 7;
L752: R3 in ( ( dom C92 ) /\ ( dom C93 ) ) by L751 , L607;
L753: R3 in ( dom C93 ) by L752 , XBOOLE_0:def 4;
L754: [ R7 , R8 ] = [ ( C92 . R3 ) , ( C93 . R3 ) ] by L750 , L751 , L607;
L755: R8 = ( C93 . R3 ) by L754 , XTUPLE_0:1;
L756: R3 in ( C93 " R22 ) by L755 , L749 , L753 , FUNCT_1:def 7;
L757: R3 in ( dom C92 ) by L752 , XBOOLE_0:def 4;
L758: R7 = ( C92 . R3 ) by L754 , XTUPLE_0:1;
L759: R3 in ( C92 " R13 ) by L758 , L748 , L757 , FUNCT_1:def 7;
thus L760: thesis by L759 , L756 , XBOOLE_0:def 4;
end;

assume L761: R3 in ( ( C92 " R13 ) /\ ( C93 " R22 ) );
L762: R3 in ( C93 " R22 ) by L761 , XBOOLE_0:def 4;
L763: R3 in ( dom C93 ) by L762 , FUNCT_1:def 7;
L764: R3 in ( C92 " R13 ) by L761 , XBOOLE_0:def 4;
L765: R3 in ( dom C92 ) by L764 , FUNCT_1:def 7;
L766: R3 in ( ( dom C92 ) /\ ( dom C93 ) ) by L765 , L763 , XBOOLE_0:def 4;
L767: R3 in ( dom <: C92 , C93 :> ) by L766 , L607;
L768: ( C93 . R3 ) in R22 by L762 , FUNCT_1:def 7;
L769: ( C92 . R3 ) in R13 by L764 , FUNCT_1:def 7;
L770: [ ( C92 . R3 ) , ( C93 . R3 ) ] in [: R13 , R22 :] by L769 , L768 , ZFMISC_1:def 2;
L771: ( <: C92 , C93 :> . R3 ) in [: R13 , R22 :] by L770 , L766 , L627;
thus L772: thesis by L771 , L767 , FUNCT_1:def 7;
end;
thus L773: thesis by L744 , TARSKI:1;
end;
theorem
L774: (for R15 being set holds (for R18 being set holds (for R21 being set holds (for B77 being (Function of R15 , R18) holds (for B78 being (Function of R15 , R21) holds (((R18 = ( {} ) implies R15 = ( {} )) & (R21 = ( {} ) implies R15 = ( {} ))) implies <: B77 , B78 :> is (Function of R15 , [: R18 , R21 :])))))))
proof
let R15 being set;
let R18 being set;
let R21 being set;
let C94 being (Function of R15 , R18);
let C95 being (Function of R15 , R21);
assume L775: ((R18 = ( {} ) implies R15 = ( {} )) & (R21 = ( {} ) implies R15 = ( {} )));
per cases ;
suppose L776: ([: R18 , R21 :] = ( {} ) implies R15 = ( {} ));

L777: (( rng C94 ) c= R18 & ( rng C95 ) c= R21) by RELAT_1:def 19;
L778: [: ( rng C94 ) , ( rng C95 ) :] c= [: R18 , R21 :] by L777 , ZFMISC_1:96;
L779: (( dom C94 ) = R15 & ( dom C95 ) = R15) by L775 , FUNCT_2:def 1;
L780: ( dom <: C94 , C95 :> ) = R15 by L779 , L636;
L781: ( rng <: C94 , C95 :> ) c= [: ( rng C94 ) , ( rng C95 ) :] by L639;
L782: ( rng <: C94 , C95 :> ) c= [: R18 , R21 :] by L781 , L778 , XBOOLE_1:1;
thus L783: thesis by L782 , L780 , FUNCT_2:2;
end;
suppose L784: ([: R18 , R21 :] = ( {} ) & R15 <> ( {} ));

thus L785: thesis by L784 , L775;
end;
end;
definition
let R15 being set;
let R26 being non  empty set;
let R27 being non  empty set;
let C96 being (Function of R15 , R26);
let C97 being (Function of R15 , R27);
redefine func <:C96 , C97 :> -> (Function of R15 , [: R26 , R27 :]);

coherence by L774;
end;
theorem
L788: (for R22 being non  empty set holds (for R26 being non  empty set holds (for R27 being non  empty set holds (for B79 being (Function of R22 , R26) holds (for B80 being (Function of R22 , R27) holds (for B81 being (Element of R22) holds ( <: B79 , B80 :> . B81 ) = [ ( B79 . B81 ) , ( B80 . B81 ) ]))))))
proof
let R22 being non  empty set;
let R26 being non  empty set;
let R27 being non  empty set;
let C98 being (Function of R22 , R26);
let C99 being (Function of R22 , R27);
let C100 being (Element of R22);
L789: (( dom C98 ) = R22 & ( dom C99 ) = R22) by FUNCT_2:def 1;
thus L790: thesis by L789 , L631;
end;
theorem
L791: (for R15 being set holds (for R18 being set holds (for R21 being set holds (for B82 being (Function of R15 , R18) holds (for B83 being (Function of R15 , R21) holds ( rng <: B82 , B83 :> ) c= [: R18 , R21 :])))))
proof
let R15 being set;
let R18 being set;
let R21 being set;
let C101 being (Function of R15 , R18);
let C102 being (Function of R15 , R21);
L792: (( rng C101 ) c= R18 & ( rng C102 ) c= R21) by RELAT_1:def 19;
L793: [: ( rng C101 ) , ( rng C102 ) :] c= [: R18 , R21 :] by L792 , ZFMISC_1:96;
L794: ( rng <: C101 , C102 :> ) c= [: ( rng C101 ) , ( rng C102 ) :] by L639;
thus L795: thesis by L794 , L793 , XBOOLE_1:1;
end;
theorem
L796: (for R15 being set holds (for R18 being set holds (for R21 being set holds (for B84 being (Function of R15 , R18) holds (for B85 being (Function of R15 , R21) holds (((R18 = ( {} ) implies R15 = ( {} )) & (R21 = ( {} ) implies R15 = ( {} ))) implies (( ( pr1 (R18 , R21) ) * <: B84 , B85 :> ) = B84 & ( ( pr2 (R18 , R21) ) * <: B84 , B85 :> ) = B85)))))))
proof
let R15 being set;
let R18 being set;
let R21 being set;
let C103 being (Function of R15 , R18);
let C104 being (Function of R15 , R21);
assume L797: ((R18 = ( {} ) implies R15 = ( {} )) & (R21 = ( {} ) implies R15 = ( {} )));
L798: (( dom C103 ) = R15 & ( dom C104 ) = R15) by L797 , FUNCT_2:def 1;
L799: (( rng C103 ) c= R18 & ( rng C104 ) c= R21) by RELAT_1:def 19;
thus L800: thesis by L799 , L798 , L650;
end;
theorem
L801: (for R15 being set holds (for R26 being non  empty set holds (for R27 being non  empty set holds (for B86 being (Function of R15 , R26) holds (for B87 being (Function of R15 , R27) holds (( ( pr1 (R26 , R27) ) * <: B86 , B87 :> ) = B86 & ( ( pr2 (R26 , R27) ) * <: B86 , B87 :> ) = B87)))))) by L796;
theorem
L802: (for R15 being set holds (for R18 being set holds (for R21 being set holds (for B88 , B89 being (Function of R15 , R18) holds (for B90 , B91 being (Function of R15 , R21) holds (((R18 = ( {} ) implies R15 = ( {} )) & (R21 = ( {} ) implies R15 = ( {} )) & <: B88 , B90 :> = <: B89 , B91 :>) implies (B88 = B89 & B90 = B91)))))))
proof
let R15 being set;
let R18 being set;
let R21 being set;
let C105 , C106 being (Function of R15 , R18);
let C107 , C108 being (Function of R15 , R21);
assume that
L803: (R18 = ( {} ) implies R15 = ( {} ))
and
L804: (R21 = ( {} ) implies R15 = ( {} ));
L805: (( dom C107 ) = R15 & ( dom C108 ) = R15) by L804 , FUNCT_2:def 1;
L806: (( dom C105 ) = R15 & ( dom C106 ) = R15) by L803 , FUNCT_2:def 1;
thus L807: thesis by L806 , L805 , L680;
end;
theorem
L808: (for R15 being set holds (for R26 being non  empty set holds (for R27 being non  empty set holds (for B92 , B93 being (Function of R15 , R26) holds (for B94 , B95 being (Function of R15 , R27) holds (<: B92 , B94 :> = <: B93 , B95 :> implies (B92 = B93 & B94 = B95)))))))
proof
let R15 being set;
let R26 being non  empty set;
let R27 being non  empty set;
let C109 , C110 being (Function of R15 , R26);
let C111 , C112 being (Function of R15 , R27);
L809: (( dom C111 ) = R15 & ( dom C112 ) = R15) by FUNCT_2:def 1;
L810: (( dom C109 ) = R15 & ( dom C110 ) = R15) by FUNCT_2:def 1;
thus L811: thesis by L810 , L809 , L680;
end;
definition
let C113 , C114 being Function;
func [:C113 , C114 :] -> Function means 
:L812: (( dom it ) = [: ( dom C113 ) , ( dom C114 ) :] & (for R3 being set holds (for R6 being set holds ((R3 in ( dom C113 ) & R6 in ( dom C114 )) implies ( it . (R3 , R6) ) = [ ( C113 . R3 ) , ( C114 . R6 ) ]))));
existence
proof
deffunc H5(set , set) = [ ( C113 . $1 ) , ( C114 . $2 ) ];
L813: (ex B96 being Function st (( dom B96 ) = [: ( dom C113 ) , ( dom C114 ) :] & (for R3 being set holds (for R6 being set holds ((R3 in ( dom C113 ) & R6 in ( dom C114 )) implies ( B96 . (R3 , R6) ) = H5(R3 , R6)))))) from Lambda3;
thus L814: thesis by L813;
end;
uniqueness
proof
let C115 , C116 being Function;
assume that
L815: ( dom C115 ) = [: ( dom C113 ) , ( dom C114 ) :]
and
L816: (for R3 being set holds (for R6 being set holds ((R3 in ( dom C113 ) & R6 in ( dom C114 )) implies ( C115 . (R3 , R6) ) = [ ( C113 . R3 ) , ( C114 . R6 ) ])))
and
L817: ( dom C116 ) = [: ( dom C113 ) , ( dom C114 ) :]
and
L818: (for R3 being set holds (for R6 being set holds ((R3 in ( dom C113 ) & R6 in ( dom C114 )) implies ( C116 . (R3 , R6) ) = [ ( C113 . R3 ) , ( C114 . R6 ) ])));
L819: (for R1 being set holds (R1 in [: ( dom C113 ) , ( dom C114 ) :] implies ( C115 . R1 ) = ( C116 . R1 )))
proof
let R1 being set;
assume L820: R1 in [: ( dom C113 ) , ( dom C114 ) :];
consider R3 being set, R6 being set such that L821: (R3 in ( dom C113 ) & R6 in ( dom C114 )) and L822: R1 = [ R3 , R6 ] by L820 , ZFMISC_1:def 2;
L823: (( C115 . (R3 , R6) ) = [ ( C113 . R3 ) , ( C114 . R6 ) ] & ( C116 . (R3 , R6) ) = [ ( C113 . R3 ) , ( C114 . R6 ) ]) by L816 , L818 , L821;
thus L824: thesis by L823 , L822;
end;
thus L825: thesis by L819 , L815 , L817 , FUNCT_1:2;
end;
end;
theorem
L827: (for B97 , B98 being Function holds (for R3 being set holds (for R6 being set holds ([ R3 , R6 ] in [: ( dom B97 ) , ( dom B98 ) :] implies ( [: B97 , B98 :] . (R3 , R6) ) = [ ( B97 . R3 ) , ( B98 . R6 ) ]))))
proof
let C117 , C118 being Function;
let R3 being set;
let R6 being set;
assume L828: [ R3 , R6 ] in [: ( dom C117 ) , ( dom C118 ) :];
L829: (R3 in ( dom C117 ) & R6 in ( dom C118 )) by L828 , ZFMISC_1:87;
thus L830: thesis by L829 , L812;
end;
theorem
L831: (for B99 , B100 being Function holds [: B99 , B100 :] = <: ( B99 * ( pr1 (( dom B99 ) , ( dom B100 )) ) ) , ( B100 * ( pr2 (( dom B99 ) , ( dom B100 )) ) ) :>)
proof
let C119 , C120 being Function;
L832: ( dom ( pr1 (( dom C119 ) , ( dom C120 )) ) ) = [: ( dom C119 ) , ( dom C120 ) :] by L508;
L833: ( dom ( pr2 (( dom C119 ) , ( dom C120 )) ) ) = [: ( dom C119 ) , ( dom C120 ) :] by L520;
L834: ( rng ( pr2 (( dom C119 ) , ( dom C120 )) ) ) c= ( dom C120 ) by L552;
L835: ( dom ( C120 * ( pr2 (( dom C119 ) , ( dom C120 )) ) ) ) = [: ( dom C119 ) , ( dom C120 ) :] by L834 , L833 , RELAT_1:27;
L836: ( rng ( pr1 (( dom C119 ) , ( dom C120 )) ) ) c= ( dom C119 ) by L533;
L837: ( dom ( C119 * ( pr1 (( dom C119 ) , ( dom C120 )) ) ) ) = [: ( dom C119 ) , ( dom C120 ) :] by L836 , L832 , RELAT_1:27;
L838: ( dom <: ( C119 * ( pr1 (( dom C119 ) , ( dom C120 )) ) ) , ( C120 * ( pr2 (( dom C119 ) , ( dom C120 )) ) ) :> ) = [: ( dom C119 ) , ( dom C120 ) :] by L837 , L835 , L636;
L839: (for R3 being set holds (for R6 being set holds ((R3 in ( dom C119 ) & R6 in ( dom C120 )) implies ( [: C119 , C120 :] . (R3 , R6) ) = ( <: ( C119 * ( pr1 (( dom C119 ) , ( dom C120 )) ) ) , ( C120 * ( pr2 (( dom C119 ) , ( dom C120 )) ) ) :> . (R3 , R6) ))))
proof
let R3 being set;
let R6 being set;
assume L840: (R3 in ( dom C119 ) & R6 in ( dom C120 ));
L841: [ R3 , R6 ] in [: ( dom C119 ) , ( dom C120 ) :] by L840 , ZFMISC_1:87;
thus L842: ( [: C119 , C120 :] . (R3 , R6) ) = [ ( C119 . R3 ) , ( C120 . R6 ) ] by L840 , L812
.= [ ( C119 . ( ( pr1 (( dom C119 ) , ( dom C120 )) ) . (R3 , R6) ) ) , ( C120 . R6 ) ] by L840 , L508
.= [ ( C119 . ( ( pr1 (( dom C119 ) , ( dom C120 )) ) . (R3 , R6) ) ) , ( C120 . ( ( pr2 (( dom C119 ) , ( dom C120 )) ) . (R3 , R6) ) ) ] by L840 , L520
.= [ ( ( C119 * ( pr1 (( dom C119 ) , ( dom C120 )) ) ) . (R3 , R6) ) , ( C120 . ( ( pr2 (( dom C119 ) , ( dom C120 )) ) . (R3 , R6) ) ) ] by L832 , L841 , FUNCT_1:13
.= [ ( ( C119 * ( pr1 (( dom C119 ) , ( dom C120 )) ) ) . (R3 , R6) ) , ( ( C120 * ( pr2 (( dom C119 ) , ( dom C120 )) ) ) . (R3 , R6) ) ] by L833 , L841 , FUNCT_1:13
.= ( <: ( C119 * ( pr1 (( dom C119 ) , ( dom C120 )) ) ) , ( C120 * ( pr2 (( dom C119 ) , ( dom C120 )) ) ) :> . (R3 , R6) ) by L838 , L841 , L607;
end;
L843: ( dom [: C119 , C120 :] ) = [: ( dom C119 ) , ( dom C120 ) :] by L812;
thus L844: thesis by L843 , L838 , L839 , L63;
end;
theorem
L845: (for B101 , B102 being Function holds ( rng [: B101 , B102 :] ) = [: ( rng B101 ) , ( rng B102 ) :])
proof
let C121 , C122 being Function;
L846: (for R2 being set holds (R2 in ( rng [: C121 , C122 :] ) iff R2 in [: ( rng C121 ) , ( rng C122 ) :]))
proof
let R2 being set;
L847: ( dom [: C121 , C122 :] ) = [: ( dom C121 ) , ( dom C122 ) :] by L812;
thus L848: (R2 in ( rng [: C121 , C122 :] ) implies R2 in [: ( rng C121 ) , ( rng C122 ) :])
proof
assume L849: R2 in ( rng [: C121 , C122 :] );
consider R1 being set such that L850: R1 in ( dom [: C121 , C122 :] ) and L851: R2 = ( [: C121 , C122 :] . R1 ) by L849 , FUNCT_1:def 3;
L852: R1 in [: ( dom C121 ) , ( dom C122 ) :] by L850 , L812;
consider R3 being set, R6 being set such that L853: (R3 in ( dom C121 ) & R6 in ( dom C122 )) and L854: R1 = [ R3 , R6 ] by L852 , ZFMISC_1:def 2;
L855: (( C121 . R3 ) in ( rng C121 ) & ( C122 . R6 ) in ( rng C122 )) by L853 , FUNCT_1:def 3;
L856: R2 = ( [: C121 , C122 :] . (R3 , R6) ) by L851 , L854
.= [ ( C121 . R3 ) , ( C122 . R6 ) ] by L853 , L812;
thus L857: thesis by L856 , L855 , ZFMISC_1:87;
end;

assume L858: R2 in [: ( rng C121 ) , ( rng C122 ) :];
consider R7 being set, R8 being set such that L859: R7 in ( rng C121 ) and L860: R8 in ( rng C122 ) and L861: R2 = [ R7 , R8 ] by L858 , ZFMISC_1:def 2;
consider R5 being set such that L862: R5 in ( dom C122 ) and L863: R8 = ( C122 . R5 ) by L860 , FUNCT_1:def 3;
consider R4 being set such that L864: R4 in ( dom C121 ) and L865: R7 = ( C121 . R4 ) by L859 , FUNCT_1:def 3;
L866: [ R4 , R5 ] in [: ( dom C121 ) , ( dom C122 ) :] by L864 , L862 , ZFMISC_1:87;
L867: ( [: C121 , C122 :] . (R4 , R5) ) = R2 by L861 , L864 , L865 , L862 , L863 , L812;
thus L868: thesis by L867 , L866 , L847 , FUNCT_1:def 3;
end;
thus L869: thesis by L846 , TARSKI:1;
end;
theorem
L870: (for R15 being set holds (for B103 , B104 being Function holds ((( dom B103 ) = R15 & ( dom B104 ) = R15) implies <: B103 , B104 :> = ( [: B103 , B104 :] * ( delta R15 ) ))))
proof
let R15 being set;
let C123 , C124 being Function;
assume that
L871: (( dom C123 ) = R15 & ( dom C124 ) = R15);
L872: ( dom ( delta R15 ) ) = R15 by L584;
L873: ( rng ( delta R15 ) ) c= [: R15 , R15 :] by L597;
L874: ( rng ( delta R15 ) ) c= ( dom [: C123 , C124 :] ) by L873 , L871 , L812;
L875: ( dom ( [: C123 , C124 :] * ( delta R15 ) ) ) = R15 by L874 , L872 , RELAT_1:27;
L876: ( ( dom C123 ) /\ ( dom C124 ) ) = R15 by L871;
L877: ( dom <: C123 , C124 :> ) = R15 by L876 , L607;
L878: (for R3 being set holds (R3 in R15 implies ( <: C123 , C124 :> . R3 ) = ( ( [: C123 , C124 :] * ( delta R15 ) ) . R3 )))
proof
let R3 being set;
assume L879: R3 in R15;
thus L880: ( <: C123 , C124 :> . R3 ) = [ ( C123 . R3 ) , ( C124 . R3 ) ] by L879 , L877 , L607
.= ( [: C123 , C124 :] . (R3 , R3) ) by L871 , L879 , L812
.= ( [: C123 , C124 :] . ( ( delta R15 ) . R3 ) ) by L879 , L584
.= ( ( [: C123 , C124 :] * ( delta R15 ) ) . R3 ) by L875 , L879 , FUNCT_1:12;
end;
thus L881: thesis by L878 , L877 , L875 , FUNCT_1:2;
end;
theorem
L882: (for R15 being set holds (for R18 being set holds [: ( id R15 ) , ( id R18 ) :] = ( id [: R15 , R18 :] )))
proof
let R15 being set;
let R18 being set;
L883: ( rng ( pr1 (R15 , R18) ) ) c= R15 by L533;
L884: ( ( id R15 ) * ( pr1 (R15 , R18) ) ) = ( pr1 (R15 , R18) ) by L883 , RELAT_1:53;
L885: ( rng ( pr2 (R15 , R18) ) ) c= R18 by L552;
L886: ( ( id R18 ) * ( pr2 (R15 , R18) ) ) = ( pr2 (R15 , R18) ) by L885 , RELAT_1:53;
L887: (( dom ( id R15 ) ) = R15 & ( dom ( id R18 ) ) = R18);
thus L888: [: ( id R15 ) , ( id R18 ) :] = <: ( pr1 (R15 , R18) ) , ( pr2 (R15 , R18) ) :> by L887 , L884 , L886 , L831
.= ( id [: R15 , R18 :] ) by L671;
end;
theorem
L889: (for B105 , B106 , B107 , B108 being Function holds ( [: B105 , B107 :] * <: B106 , B108 :> ) = <: ( B105 * B106 ) , ( B107 * B108 ) :>)
proof
let C125 , C126 , C127 , C128 being Function;
L890: (for R3 being set holds (R3 in ( dom ( [: C125 , C127 :] * <: C126 , C128 :> ) ) iff R3 in ( dom <: ( C125 * C126 ) , ( C127 * C128 ) :> )))
proof
let R3 being set;
thus L891: (R3 in ( dom ( [: C125 , C127 :] * <: C126 , C128 :> ) ) implies R3 in ( dom <: ( C125 * C126 ) , ( C127 * C128 ) :> ))
proof
assume L892: R3 in ( dom ( [: C125 , C127 :] * <: C126 , C128 :> ) );
L893: R3 in ( dom <: C126 , C128 :> ) by L892 , FUNCT_1:11;
L894: R3 in ( ( dom C126 ) /\ ( dom C128 ) ) by L893 , L607;
L895: R3 in ( dom C126 ) by L894 , XBOOLE_0:def 4;
L896: R3 in ( dom C128 ) by L894 , XBOOLE_0:def 4;
L897: ( <: C126 , C128 :> . R3 ) in ( dom [: C125 , C127 :] ) by L892 , FUNCT_1:11;
L898: [ ( C126 . R3 ) , ( C128 . R3 ) ] in ( dom [: C125 , C127 :] ) by L897 , L893 , L607;
L899: [ ( C126 . R3 ) , ( C128 . R3 ) ] in [: ( dom C125 ) , ( dom C127 ) :] by L898 , L812;
L900: ( C128 . R3 ) in ( dom C127 ) by L899 , ZFMISC_1:87;
L901: R3 in ( dom ( C127 * C128 ) ) by L900 , L896 , FUNCT_1:11;
L902: ( C126 . R3 ) in ( dom C125 ) by L899 , ZFMISC_1:87;
L903: R3 in ( dom ( C125 * C126 ) ) by L902 , L895 , FUNCT_1:11;
L904: R3 in ( ( dom ( C125 * C126 ) ) /\ ( dom ( C127 * C128 ) ) ) by L903 , L901 , XBOOLE_0:def 4;
thus L905: thesis by L904 , L607;
end;

assume L906: R3 in ( dom <: ( C125 * C126 ) , ( C127 * C128 ) :> );
L907: R3 in ( ( dom ( C125 * C126 ) ) /\ ( dom ( C127 * C128 ) ) ) by L906 , L607;
L908: R3 in ( dom ( C125 * C126 ) ) by L907 , XBOOLE_0:def 4;
L909: R3 in ( dom ( C127 * C128 ) ) by L907 , XBOOLE_0:def 4;
L910: R3 in ( dom C128 ) by L909 , FUNCT_1:11;
L911: R3 in ( dom C126 ) by L908 , FUNCT_1:11;
L912: R3 in ( ( dom C126 ) /\ ( dom C128 ) ) by L911 , L910 , XBOOLE_0:def 4;
L913: R3 in ( dom <: C126 , C128 :> ) by L912 , L607;
L914: ( C128 . R3 ) in ( dom C127 ) by L909 , FUNCT_1:11;
L915: ( C126 . R3 ) in ( dom C125 ) by L908 , FUNCT_1:11;
L916: [ ( C126 . R3 ) , ( C128 . R3 ) ] in [: ( dom C125 ) , ( dom C127 ) :] by L915 , L914 , ZFMISC_1:87;
L917: [ ( C126 . R3 ) , ( C128 . R3 ) ] in ( dom [: C125 , C127 :] ) by L916 , L812;
L918: ( <: C126 , C128 :> . R3 ) in ( dom [: C125 , C127 :] ) by L917 , L913 , L607;
thus L919: thesis by L918 , L913 , FUNCT_1:11;
end;
L920: ( dom ( [: C125 , C127 :] * <: C126 , C128 :> ) ) = ( dom <: ( C125 * C126 ) , ( C127 * C128 ) :> ) by L890 , TARSKI:1;
L921: (for R3 being set holds (R3 in ( dom ( [: C125 , C127 :] * <: C126 , C128 :> ) ) implies ( ( [: C125 , C127 :] * <: C126 , C128 :> ) . R3 ) = ( <: ( C125 * C126 ) , ( C127 * C128 ) :> . R3 )))
proof
let R3 being set;
assume L922: R3 in ( dom ( [: C125 , C127 :] * <: C126 , C128 :> ) );
L923: R3 in ( dom <: C126 , C128 :> ) by L922 , FUNCT_1:11;
L924: R3 in ( ( dom C126 ) /\ ( dom C128 ) ) by L923 , L607;
L925: R3 in ( dom C126 ) by L924 , XBOOLE_0:def 4;
L926: ( <: C126 , C128 :> . R3 ) in ( dom [: C125 , C127 :] ) by L922 , FUNCT_1:11;
L927: [ ( C126 . R3 ) , ( C128 . R3 ) ] in ( dom [: C125 , C127 :] ) by L926 , L923 , L607;
L928: [ ( C126 . R3 ) , ( C128 . R3 ) ] in [: ( dom C125 ) , ( dom C127 ) :] by L927 , L812;
L929: ( C126 . R3 ) in ( dom C125 ) by L928 , ZFMISC_1:87;
L930: R3 in ( dom C128 ) by L924 , XBOOLE_0:def 4;
L931: ( C128 . R3 ) in ( dom C127 ) by L928 , ZFMISC_1:87;
L932: R3 in ( dom ( C127 * C128 ) ) by L931 , L930 , FUNCT_1:11;
L933: R3 in ( dom ( C125 * C126 ) ) by L929 , L925 , FUNCT_1:11;
L934: R3 in ( ( dom ( C125 * C126 ) ) /\ ( dom ( C127 * C128 ) ) ) by L933 , L932 , XBOOLE_0:def 4;
thus L935: ( ( [: C125 , C127 :] * <: C126 , C128 :> ) . R3 ) = ( [: C125 , C127 :] . ( <: C126 , C128 :> . R3 ) ) by L922 , FUNCT_1:12
.= ( [: C125 , C127 :] . (( C126 . R3 ) , ( C128 . R3 )) ) by L923 , L607
.= [ ( C125 . ( C126 . R3 ) ) , ( C127 . ( C128 . R3 ) ) ] by L929 , L931 , L812
.= [ ( ( C125 * C126 ) . R3 ) , ( C127 . ( C128 . R3 ) ) ] by L925 , FUNCT_1:13
.= [ ( ( C125 * C126 ) . R3 ) , ( ( C127 * C128 ) . R3 ) ] by L930 , FUNCT_1:13
.= ( <: ( C125 * C126 ) , ( C127 * C128 ) :> . R3 ) by L934 , L627;
end;
thus L936: thesis by L921 , L920 , FUNCT_1:2;
end;
theorem
L937: (for B109 , B110 , B111 , B112 being Function holds ( [: B109 , B111 :] * [: B110 , B112 :] ) = [: ( B109 * B110 ) , ( B111 * B112 ) :])
proof
let C129 , C130 , C131 , C132 being Function;
L938: (for R3 being set holds (for R6 being set holds ((R3 in ( dom ( C129 * C130 ) ) & R6 in ( dom ( C131 * C132 ) )) implies ( ( [: C129 , C131 :] * [: C130 , C132 :] ) . (R3 , R6) ) = ( [: ( C129 * C130 ) , ( C131 * C132 ) :] . (R3 , R6) ))))
proof
let R3 being set;
let R6 being set;
assume that
L939: R3 in ( dom ( C129 * C130 ) )
and
L940: R6 in ( dom ( C131 * C132 ) );
L941: (( C130 . R3 ) in ( dom C129 ) & ( C132 . R6 ) in ( dom C131 )) by L939 , L940 , FUNCT_1:11;
L942: (R3 in ( dom C130 ) & R6 in ( dom C132 )) by L939 , L940 , FUNCT_1:11;
L943: [ R3 , R6 ] in [: ( dom C130 ) , ( dom C132 ) :] by L942 , ZFMISC_1:87;
L944: [ R3 , R6 ] in ( dom [: C130 , C132 :] ) by L943 , L812;
thus L945: ( ( [: C129 , C131 :] * [: C130 , C132 :] ) . (R3 , R6) ) = ( [: C129 , C131 :] . ( [: C130 , C132 :] . (R3 , R6) ) ) by L944 , FUNCT_1:13
.= ( [: C129 , C131 :] . (( C130 . R3 ) , ( C132 . R6 )) ) by L942 , L812
.= [ ( C129 . ( C130 . R3 ) ) , ( C131 . ( C132 . R6 ) ) ] by L941 , L812
.= [ ( ( C129 * C130 ) . R3 ) , ( C131 . ( C132 . R6 ) ) ] by L939 , FUNCT_1:12
.= [ ( ( C129 * C130 ) . R3 ) , ( ( C131 * C132 ) . R6 ) ] by L940 , FUNCT_1:12
.= ( [: ( C129 * C130 ) , ( C131 * C132 ) :] . (R3 , R6) ) by L939 , L940 , L812;
end;
L946: (for R1 being set holds (R1 in ( dom ( [: C129 , C131 :] * [: C130 , C132 :] ) ) iff R1 in [: ( dom ( C129 * C130 ) ) , ( dom ( C131 * C132 ) ) :]))
proof
let R1 being set;
L947: ( dom [: C130 , C132 :] ) = [: ( dom C130 ) , ( dom C132 ) :] by L812;
L948: ( dom [: C129 , C131 :] ) = [: ( dom C129 ) , ( dom C131 ) :] by L812;
thus L949: (R1 in ( dom ( [: C129 , C131 :] * [: C130 , C132 :] ) ) implies R1 in [: ( dom ( C129 * C130 ) ) , ( dom ( C131 * C132 ) ) :])
proof
assume L950: R1 in ( dom ( [: C129 , C131 :] * [: C130 , C132 :] ) );
L951: ( [: C130 , C132 :] . R1 ) in ( dom [: C129 , C131 :] ) by L950 , FUNCT_1:11;
L952: R1 in ( dom [: C130 , C132 :] ) by L950 , FUNCT_1:11;
consider R4 being set, R5 being set such that L953: R4 in ( dom C130 ) and L954: R5 in ( dom C132 ) and L955: R1 = [ R4 , R5 ] by L952 , L947 , ZFMISC_1:def 2;
L956: ( [: C130 , C132 :] . (R4 , R5) ) = ( [: C130 , C132 :] . R1 ) by L955;
L957: [ ( C130 . R4 ) , ( C132 . R5 ) ] in ( dom [: C129 , C131 :] ) by L956 , L947 , L952 , L951 , L955 , L827;
L958: ( C132 . R5 ) in ( dom C131 ) by L957 , L948 , ZFMISC_1:87;
L959: R5 in ( dom ( C131 * C132 ) ) by L958 , L954 , FUNCT_1:11;
L960: ( C130 . R4 ) in ( dom C129 ) by L948 , L957 , ZFMISC_1:87;
L961: R4 in ( dom ( C129 * C130 ) ) by L960 , L953 , FUNCT_1:11;
thus L962: thesis by L961 , L955 , L959 , ZFMISC_1:87;
end;

assume L963: R1 in [: ( dom ( C129 * C130 ) ) , ( dom ( C131 * C132 ) ) :];
consider R4 being set, R5 being set such that L964: (R4 in ( dom ( C129 * C130 ) ) & R5 in ( dom ( C131 * C132 ) )) and L965: R1 = [ R4 , R5 ] by L963 , ZFMISC_1:def 2;
L966: (R4 in ( dom C130 ) & R5 in ( dom C132 )) by L964 , FUNCT_1:11;
L967: [ R4 , R5 ] in ( dom [: C130 , C132 :] ) by L966 , L947 , ZFMISC_1:87;
L968: (( C130 . R4 ) in ( dom C129 ) & ( C132 . R5 ) in ( dom C131 )) by L964 , FUNCT_1:11;
L969: [ ( C130 . R4 ) , ( C132 . R5 ) ] in ( dom [: C129 , C131 :] ) by L968 , L948 , ZFMISC_1:87;
L970: ( [: C130 , C132 :] . (R4 , R5) ) in ( dom [: C129 , C131 :] ) by L969 , L947 , L967 , L827;
thus L971: thesis by L970 , L965 , L967 , FUNCT_1:11;
end;
L972: ( dom ( [: C129 , C131 :] * [: C130 , C132 :] ) ) = [: ( dom ( C129 * C130 ) ) , ( dom ( C131 * C132 ) ) :] by L946 , TARSKI:1;
L973: [: ( dom ( C129 * C130 ) ) , ( dom ( C131 * C132 ) ) :] = ( dom [: ( C129 * C130 ) , ( C131 * C132 ) :] ) by L812;
thus L974: thesis by L973 , L972 , L938 , L63;
end;
theorem
L975: (for R12 being set holds (for R13 being set holds (for B113 , B114 being Function holds ( [: B113 , B114 :] .: [: R13 , R12 :] ) = [: ( B113 .: R13 ) , ( B114 .: R12 ) :])))
proof
let R12 being set;
let R13 being set;
let C133 , C134 being Function;
L976: (for R2 being set holds (R2 in ( [: C133 , C134 :] .: [: R13 , R12 :] ) iff R2 in [: ( C133 .: R13 ) , ( C134 .: R12 ) :]))
proof
let R2 being set;
L977: [: ( dom C133 ) , ( dom C134 ) :] = ( dom [: C133 , C134 :] ) by L812;
thus L978: (R2 in ( [: C133 , C134 :] .: [: R13 , R12 :] ) implies R2 in [: ( C133 .: R13 ) , ( C134 .: R12 ) :])
proof
assume L979: R2 in ( [: C133 , C134 :] .: [: R13 , R12 :] );
consider R1 being set such that L980: R1 in ( dom [: C133 , C134 :] ) and L981: R1 in [: R13 , R12 :] and L982: R2 = ( [: C133 , C134 :] . R1 ) by L979 , FUNCT_1:def 6;
L983: ( dom [: C133 , C134 :] ) = [: ( dom C133 ) , ( dom C134 ) :] by L812;
consider R3 being set, R6 being set such that L984: R3 in ( dom C133 ) and L985: R6 in ( dom C134 ) and L986: R1 = [ R3 , R6 ] by L983 , L980 , ZFMISC_1:def 2;
L987: R3 in R13 by L981 , L986 , ZFMISC_1:87;
L988: ( C133 . R3 ) in ( C133 .: R13 ) by L987 , L984 , FUNCT_1:def 6;
L989: R6 in R12 by L981 , L986 , ZFMISC_1:87;
L990: ( C134 . R6 ) in ( C134 .: R12 ) by L989 , L985 , FUNCT_1:def 6;
L991: R2 = ( [: C133 , C134 :] . (R3 , R6) ) by L982 , L986;
L992: R2 = [ ( C133 . R3 ) , ( C134 . R6 ) ] by L991 , L984 , L985 , L812;
thus L993: thesis by L992 , L988 , L990 , ZFMISC_1:87;
end;

assume L994: R2 in [: ( C133 .: R13 ) , ( C134 .: R12 ) :];
consider R7 being set, R8 being set such that L995: R7 in ( C133 .: R13 ) and L996: R8 in ( C134 .: R12 ) and L997: R2 = [ R7 , R8 ] by L994 , ZFMISC_1:def 2;
consider R4 being set such that L998: R4 in ( dom C133 ) and L999: R4 in R13 and L1000: R7 = ( C133 . R4 ) by L995 , FUNCT_1:def 6;
consider R5 being set such that L1001: R5 in ( dom C134 ) and L1002: R5 in R12 and L1003: R8 = ( C134 . R5 ) by L996 , FUNCT_1:def 6;
L1004: ( [: C133 , C134 :] . (R4 , R5) ) = [ ( C133 . R4 ) , ( C134 . R5 ) ] by L998 , L1001 , L812;
L1005: ([ R4 , R5 ] in [: ( dom C133 ) , ( dom C134 ) :] & [ R4 , R5 ] in [: R13 , R12 :]) by L998 , L999 , L1001 , L1002 , ZFMISC_1:87;
thus L1006: thesis by L1005 , L997 , L1000 , L1003 , L977 , L1004 , FUNCT_1:def 6;
end;
thus L1007: thesis by L976 , TARSKI:1;
end;
theorem
L1008: (for R12 being set holds (for R13 being set holds (for B115 , B116 being Function holds ( [: B115 , B116 :] " [: R13 , R12 :] ) = [: ( B115 " R13 ) , ( B116 " R12 ) :])))
proof
let R12 being set;
let R13 being set;
let C135 , C136 being Function;
L1009: (for R2 being set holds (R2 in ( [: C135 , C136 :] " [: R13 , R12 :] ) iff R2 in [: ( C135 " R13 ) , ( C136 " R12 ) :]))
proof
let R2 being set;
thus L1010: (R2 in ( [: C135 , C136 :] " [: R13 , R12 :] ) implies R2 in [: ( C135 " R13 ) , ( C136 " R12 ) :])
proof
assume L1011: R2 in ( [: C135 , C136 :] " [: R13 , R12 :] );
L1012: ( [: C135 , C136 :] . R2 ) in [: R13 , R12 :] by L1011 , FUNCT_1:def 7;
L1013: R2 in ( dom [: C135 , C136 :] ) by L1011 , FUNCT_1:def 7;
L1014: R2 in [: ( dom C135 ) , ( dom C136 ) :] by L1013 , L812;
consider R4 being set, R5 being set such that L1015: R4 in ( dom C135 ) and L1016: R5 in ( dom C136 ) and L1017: R2 = [ R4 , R5 ] by L1014 , ZFMISC_1:def 2;
L1018: ( [: C135 , C136 :] . R2 ) = ( [: C135 , C136 :] . (R4 , R5) ) by L1017;
L1019: [ ( C135 . R4 ) , ( C136 . R5 ) ] in [: R13 , R12 :] by L1018 , L1015 , L1016 , L1012 , L812;
L1020: ( C136 . R5 ) in R12 by L1019 , ZFMISC_1:87;
L1021: R5 in ( C136 " R12 ) by L1020 , L1016 , FUNCT_1:def 7;
L1022: ( C135 . R4 ) in R13 by L1019 , ZFMISC_1:87;
L1023: R4 in ( C135 " R13 ) by L1022 , L1015 , FUNCT_1:def 7;
thus L1024: thesis by L1023 , L1017 , L1021 , ZFMISC_1:87;
end;

assume L1025: R2 in [: ( C135 " R13 ) , ( C136 " R12 ) :];
consider R4 being set, R5 being set such that L1026: (R4 in ( C135 " R13 ) & R5 in ( C136 " R12 )) and L1027: R2 = [ R4 , R5 ] by L1025 , ZFMISC_1:def 2;
L1028: (( C135 . R4 ) in R13 & ( C136 . R5 ) in R12) by L1026 , FUNCT_1:def 7;
L1029: [ ( C135 . R4 ) , ( C136 . R5 ) ] in [: R13 , R12 :] by L1028 , ZFMISC_1:87;
L1030: (R4 in ( dom C135 ) & R5 in ( dom C136 )) by L1026 , FUNCT_1:def 7;
L1031: ([ R4 , R5 ] in [: ( dom C135 ) , ( dom C136 ) :] & ( [: C135 , C136 :] . (R4 , R5) ) = [ ( C135 . R4 ) , ( C136 . R5 ) ]) by L1030 , L812 , ZFMISC_1:87;
L1032: [: ( dom C135 ) , ( dom C136 ) :] = ( dom [: C135 , C136 :] ) by L812;
thus L1033: thesis by L1032 , L1027 , L1031 , L1029 , FUNCT_1:def 7;
end;
thus L1034: thesis by L1009 , TARSKI:1;
end;
theorem
L1035: (for R14 being set holds (for R15 being set holds (for R18 being set holds (for R21 being set holds (for B117 being (Function of R15 , R18) holds (for B118 being (Function of R14 , R21) holds [: B117 , B118 :] is (Function of [: R15 , R14 :] , [: R18 , R21 :])))))))
proof
let R14 being set;
let R15 being set;
let R18 being set;
let R21 being set;
let C137 being (Function of R15 , R18);
let C138 being (Function of R14 , R21);
per cases ;
suppose L1036: ([: R18 , R21 :] = ( {} ) implies [: R15 , R14 :] = ( {} ));

L1037:
now
per cases  by L1036;
suppose L1038: [: R18 , R21 :] <> ( {} );

L1039: (( rng C137 ) c= R18 & ( rng C138 ) c= R21) by RELAT_1:def 19;
L1040: [: ( rng C137 ) , ( rng C138 ) :] c= [: R18 , R21 :] by L1039 , ZFMISC_1:96;
L1041: ( rng [: C137 , C138 :] ) c= [: R18 , R21 :] by L1040 , L845;
L1042: (R21 = ( {} ) implies R14 = ( {} )) by L1038 , ZFMISC_1:90;
L1043: ( dom C138 ) = R14 by L1042 , FUNCT_2:def 1;
L1044: (R18 = ( {} ) implies R15 = ( {} )) by L1038 , ZFMISC_1:90;
L1045: ( dom C137 ) = R15 by L1044 , FUNCT_2:def 1;
L1046: ( dom [: C137 , C138 :] ) = [: R15 , R14 :] by L1045 , L1043 , L812;
thus L1047: thesis by L1046 , L1041 , FUNCT_2:2;
end;
suppose L1048: [: R15 , R14 :] = ( {} );

L1049: (R15 = ( {} ) or R14 = ( {} )) by L1048;
L1050: (( dom C137 ) = ( {} ) or ( dom C138 ) = ( {} )) by L1049;
L1051: [: ( dom C137 ) , ( dom C138 ) :] = ( {} ) by L1050 , ZFMISC_1:90;
L1052: ( dom [: C137 , C138 :] ) = [: R15 , R14 :] by L1051 , L1048 , L812;
L1053: (( rng C137 ) c= R18 & ( rng C138 ) c= R21) by RELAT_1:def 19;
L1054: [: ( rng C137 ) , ( rng C138 ) :] c= [: R18 , R21 :] by L1053 , ZFMISC_1:96;
L1055: ( rng [: C137 , C138 :] ) c= [: R18 , R21 :] by L1054 , L845;
thus L1056: thesis by L1055 , L1052 , FUNCT_2:2;
end;
end;
thus L1058: thesis by L1037;
end;
suppose L1059: ([: R18 , R21 :] = ( {} ) & [: R15 , R14 :] <> ( {} ));

L1060: (R18 = ( {} ) or R21 = ( {} )) by L1059;
L1061: (C137 = ( {} ) or C138 = ( {} )) by L1060;
L1062: [: ( dom C137 ) , ( dom C138 ) :] = ( {} ) by L1061 , RELAT_1:38 , ZFMISC_1:90;
L1063: ( dom [: C137 , C138 :] ) = ( {} ) by L1062 , L812;
L1064: (( rng [: C137 , C138 :] ) = ( {} ) & ( dom [: C137 , C138 :] ) c= [: R15 , R14 :]) by L1063 , RELAT_1:42 , XBOOLE_1:2;
reconsider D4 = [: C137 , C138 :] as (Relation of [: R15 , R14 :] , [: R18 , R21 :]) by L1064 , RELSET_1:4 , XBOOLE_1:2;
L1065: [: C137 , C138 :] = ( {} ) by L1063;
L1066: D4 is  quasi_total by L1065 , L1059 , FUNCT_2:def 1;
thus L1067: thesis by L1066;
end;
end;
definition
let R16 being set;
let R17 being set;
let R19 being set;
let R20 being set;
let C139 being (Function of R16 , R19);
let C140 being (Function of R17 , R20);
redefine func [:C139 , C140 :] -> (Function of [: R16 , R17 :] , [: R19 , R20 :]);

coherence by L1035;
end;
theorem
L1070: (for R23 being non  empty set holds (for R24 being non  empty set holds (for R26 being non  empty set holds (for R27 being non  empty set holds (for B119 being (Function of R23 , R26) holds (for B120 being (Function of R24 , R27) holds (for B121 being (Element of R23) holds (for B122 being (Element of R24) holds ( [: B119 , B120 :] . (B121 , B122) ) = [ ( B119 . B121 ) , ( B120 . B122 ) ]))))))))
proof
let R23 being non  empty set;
let R24 being non  empty set;
let R26 being non  empty set;
let R27 being non  empty set;
let C141 being (Function of R23 , R26);
let C142 being (Function of R24 , R27);
let C143 being (Element of R23);
let C144 being (Element of R24);
L1071: (( dom C141 ) = R23 & ( dom C142 ) = R24) by FUNCT_2:def 1;
thus L1072: thesis by L1071 , L812;
end;
theorem
L1073: (for R16 being set holds (for R17 being set holds (for R19 being set holds (for R20 being set holds (for B123 being (Function of R16 , R19) holds (for B124 being (Function of R17 , R20) holds (((R19 = ( {} ) implies R16 = ( {} )) & (R20 = ( {} ) implies R17 = ( {} ))) implies [: B123 , B124 :] = <: ( B123 * ( pr1 (R16 , R17) ) ) , ( B124 * ( pr2 (R16 , R17) ) ) :>)))))))
proof
let R16 being set;
let R17 being set;
let R19 being set;
let R20 being set;
let C145 being (Function of R16 , R19);
let C146 being (Function of R17 , R20);
assume L1074: ((R19 = ( {} ) implies R16 = ( {} )) & (R20 = ( {} ) implies R17 = ( {} )));
L1075: (( dom C145 ) = R16 & ( dom C146 ) = R17) by L1074 , FUNCT_2:def 1;
thus L1076: thesis by L1075 , L831;
end;
theorem
L1077: (for R16 being set holds (for R17 being set holds (for R26 being non  empty set holds (for R27 being non  empty set holds (for B125 being (Function of R16 , R26) holds (for B126 being (Function of R17 , R27) holds [: B125 , B126 :] = <: ( B125 * ( pr1 (R16 , R17) ) ) , ( B126 * ( pr2 (R16 , R17) ) ) :>))))))
proof
let R16 being set;
let R17 being set;
let R26 being non  empty set;
let R27 being non  empty set;
let C147 being (Function of R16 , R26);
let C148 being (Function of R17 , R27);
L1078: (( dom C147 ) = R16 & ( dom C148 ) = R17) by FUNCT_2:def 1;
thus L1079: thesis by L1078 , L831;
end;
theorem
L1080: (for R15 being set holds (for R19 being set holds (for R20 being set holds (for B127 being (Function of R15 , R19) holds (for B128 being (Function of R15 , R20) holds <: B127 , B128 :> = ( [: B127 , B128 :] * ( delta R15 ) ))))))
proof
let R15 being set;
let R19 being set;
let R20 being set;
let C149 being (Function of R15 , R19);
let C150 being (Function of R15 , R20);
per cases ;
suppose L1081: (R19 = ( {} ) or R20 = ( {} ));

L1082: (( dom C149 ) = ( {} ) or ( dom C150 ) = ( {} )) by L1081;
L1083: ( dom [: C149 , C150 :] ) = [: ( dom C149 ) , ( dom C150 ) :] by L812
.= ( {} ) by L1082 , ZFMISC_1:90;
L1084: ( dom <: C149 , C150 :> ) = ( ( dom C149 ) /\ ( dom C150 ) ) by L607
.= ( {} ) by L1082;
thus L1085: <: C149 , C150 :> = ( ( {} ) * ( delta R15 ) ) by L1084
.= ( [: C149 , C150 :] * ( delta R15 ) ) by L1083 , RELAT_1:41;
end;
suppose L1086: (R19 <> ( {} ) & R20 <> ( {} ));

L1087: (( dom C149 ) = R15 & ( dom C150 ) = R15) by L1086 , FUNCT_2:def 1;
thus L1088: thesis by L1087 , L870;
end;
end;
begin
theorem
L1090: (for B129 being Function holds ( ( pr1 (( dom B129 ) , ( rng B129 )) ) .: B129 ) = ( dom B129 ))
proof
let C151 being Function;
L1091:
now
let C152 being set;
thus L1092: (C152 in ( dom C151 ) implies (ex B130 being set st (B130 in ( dom ( pr1 (( dom C151 ) , ( rng C151 )) ) ) & B130 in C151 & C152 = ( ( pr1 (( dom C151 ) , ( rng C151 )) ) . B130 ))))
proof
assume L1093: C152 in ( dom C151 );
take [ C152 , ( C151 . C152 ) ];
L1094: ( C151 . C152 ) in ( rng C151 ) by L1093 , FUNCT_1:def 3;
L1095: [ C152 , ( C151 . C152 ) ] in [: ( dom C151 ) , ( rng C151 ) :] by L1094 , L1093 , ZFMISC_1:87;
thus L1096: [ C152 , ( C151 . C152 ) ] in ( dom ( pr1 (( dom C151 ) , ( rng C151 )) ) ) by L1095 , L508;
thus L1097: [ C152 , ( C151 . C152 ) ] in C151 by L1093 , FUNCT_1:def 2;
thus L1098: C152 = ( ( pr1 (( dom C151 ) , ( rng C151 )) ) . (C152 , ( C151 . C152 )) ) by L1093 , L1094 , L508
.= ( ( pr1 (( dom C151 ) , ( rng C151 )) ) . [ C152 , ( C151 . C152 ) ] );
end;

given C153 being set such that
L1099: C153 in ( dom ( pr1 (( dom C151 ) , ( rng C151 )) ) )
and
L1100: C153 in C151
and
L1101: C152 = ( ( pr1 (( dom C151 ) , ( rng C151 )) ) . C153 );

consider C154 , C155 being set such that L1102: (C154 in ( dom C151 ) & C155 in ( rng C151 )) and L1103: C153 = [ C154 , C155 ] by L1099 , ZFMISC_1:84;
L1104: C152 = ( ( pr1 (( dom C151 ) , ( rng C151 )) ) . (C154 , C155) ) by L1101 , L1103;
thus L1105: C152 in ( dom C151 ) by L1104 , L1102 , L508;
end;
thus L1106: thesis by L1091 , FUNCT_1:def 6;
end;
theorem
L1107: (for B131 , B132 , B133 being non  empty set holds (for B134 , B135 being (Function of B131 , [: B132 , B133 :]) holds ((( ( pr1 (B132 , B133) ) * B134 ) = ( ( pr1 (B132 , B133) ) * B135 ) & ( ( pr2 (B132 , B133) ) * B134 ) = ( ( pr2 (B132 , B133) ) * B135 )) implies B134 = B135)))
proof
let C156 , C157 , C158 being non  empty set;
let C159 , C160 being (Function of C156 , [: C157 , C158 :]);
assume that
L1108: (( ( pr1 (C157 , C158) ) * C159 ) = ( ( pr1 (C157 , C158) ) * C160 ) & ( ( pr2 (C157 , C158) ) * C159 ) = ( ( pr2 (C157 , C158) ) * C160 ));
L1109:
now
let C161 being (Element of C156);
consider C162 being (Element of C157), C163 being (Element of C158) such that L1110: ( C159 . C161 ) = [ C162 , C163 ] by DOMAIN_1:1;
consider C164 being (Element of C157), C165 being (Element of C158) such that L1111: ( C160 . C161 ) = [ C164 , C165 ] by DOMAIN_1:1;
L1112: ( ( pr1 (C157 , C158) ) . ( C160 . C161 ) ) = ( ( ( pr1 (C157 , C158) ) * C160 ) . C161 ) by FUNCT_2:15;
L1113: (( ( pr1 (C157 , C158) ) . ( C159 . C161 ) ) = ( ( ( pr1 (C157 , C158) ) * C159 ) . C161 ) & ( ( pr2 (C157 , C158) ) . ( C159 . C161 ) ) = ( ( ( pr2 (C157 , C158) ) * C159 ) . C161 )) by FUNCT_2:15;
L1114: (( ( pr2 (C157 , C158) ) . (C162 , C163) ) = C163 & ( ( pr2 (C157 , C158) ) . (C164 , C165) ) = C165) by L520;
L1115: (( ( pr1 (C157 , C158) ) . (C162 , C163) ) = C162 & ( ( pr1 (C157 , C158) ) . (C164 , C165) ) = C164) by L508;
thus L1116: ( C159 . C161 ) = ( C160 . C161 ) by L1115 , L1108 , L1110 , L1111 , L1114 , L1113 , L1112 , FUNCT_2:15;
end;
thus L1117: thesis by L1109 , FUNCT_2:63;
end;
registration
let C166 , C167 being  one-to-one Function;
cluster [: C166 , C167 :] ->  one-to-one;
coherence
proof
let C168 , C169 being set;
assume that
L1118: C168 in ( dom [: C166 , C167 :] )
and
L1119: C169 in ( dom [: C166 , C167 :] )
and
L1120: ( [: C166 , C167 :] . C168 ) = ( [: C166 , C167 :] . C169 );
L1121: ( dom [: C166 , C167 :] ) = [: ( dom C166 ) , ( dom C167 ) :] by L812;
consider C170 , C171 being set such that L1122: C170 in ( dom C166 ) and L1123: C171 in ( dom C167 ) and L1124: C168 = [ C170 , C171 ] by L1121 , L1118 , ZFMISC_1:84;
L1125: ( [: C166 , C167 :] . (C170 , C171) ) = [ ( C166 . C170 ) , ( C167 . C171 ) ] by L1122 , L1123 , L812;
consider C172 , C173 being set such that L1126: C172 in ( dom C166 ) and L1127: C173 in ( dom C167 ) and L1128: C169 = [ C172 , C173 ] by L1119 , L1121 , ZFMISC_1:84;
L1129: ( [: C166 , C167 :] . (C172 , C173) ) = [ ( C166 . C172 ) , ( C167 . C173 ) ] by L1126 , L1127 , L812;
L1130: ( C166 . C170 ) = ( C166 . C172 ) by L1129 , L1120 , L1124 , L1128 , L1125 , XTUPLE_0:1;
L1131: C170 = C172 by L1130 , L1122 , L1126 , FUNCT_1:def 4;
L1132: ( C167 . C171 ) = ( C167 . C173 ) by L1120 , L1124 , L1128 , L1125 , L1129 , XTUPLE_0:1;
thus L1133: thesis by L1132 , L1123 , L1124 , L1127 , L1128 , L1131 , FUNCT_1:def 4;
end;
end;
registration
let C174 being set;
cluster  idempotent for (BinOp of C174);
existence
proof
take ( pr1 (C174 , C174) );
per cases ;
suppose L1135: C174 <> ( {} );

let C175 being (Element of C174);
L1136: C175 in C174 by L1135;
thus L1137: ( ( pr1 (C174 , C174) ) . (C175 , C175) ) = C175 by L1136 , L508;
end;
suppose L1138: C174 = ( {} );

let C176 being (Element of C174);
L1139: (not [ C176 , C176 ] in ( dom ( pr1 (C174 , C174) ) )) by L1138;
thus L1140: ( ( pr1 (C174 , C174) ) . (C176 , C176) ) = ( {} ) by L1139 , FUNCT_1:def 2
.= C176 by L1138 , SUBSET_1:def 1;
end;
end;
end;
registration
let C177 being set;
let C178 being  idempotent (BinOp of C177);
let C179 being (Element of C177);
reduce ( C178 . (C179 , C179) ) to C179;
reducibility by BINOP_1:def 4;
end;
