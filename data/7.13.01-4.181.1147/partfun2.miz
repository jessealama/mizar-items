:: Partial Functions from a Domain to a Domain
::  by Jaros{\l}aw Kotowicz
::
:: Received May 31, 1990
:: Copyright (c) 1990-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies XBOOLE_0, SUBSET_1, PARTFUN1, RELAT_1, FUNCT_1, TARSKI, FUNCOP_1;
 notations TARSKI, XBOOLE_0, SUBSET_1, RELAT_1, FUNCT_1, RELSET_1, PARTFUN1,
      FUNCT_2, FUNCOP_1;
 constructors PARTFUN1, FUNCOP_1, RELSET_1;
 registrations FUNCT_1, RELSET_1;
 requirements SUBSET, BOOLE;
 definitions TARSKI, XBOOLE_0, FUNCT_1;
 theorems TARSKI, FUNCT_1, FUNCT_2, GRFUNC_1, FUNCOP_1, PARTFUN1, RELAT_1,
      RELSET_1, XBOOLE_0;
 schemes FUNCT_2, XBOOLE_0;

begin
theorem
L1: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R18 being (PartFunc of R5 , R6) holds (for R20 being (PartFunc of R5 , R6) holds ((( dom R18 ) = ( dom R20 ) & (for R11 being (Element of R5) holds (R11 in ( dom R18 ) implies ( R18 /. R11 ) = ( R20 /. R11 )))) implies R18 = R20)))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R18 being (PartFunc of R5 , R6);
let R20 being (PartFunc of R5 , R6);
assume that
L2: ( dom R18 ) = ( dom R20 )
and
L3: (for R11 being (Element of R5) holds (R11 in ( dom R18 ) implies ( R18 /. R11 ) = ( R20 /. R11 )));
L4:
now
let R1 being set;
assume L5: R1 in ( dom R18 );
reconsider D1 = R1 as (Element of R5) by L5;
L6: ( R18 /. D1 ) = ( R20 /. D1 ) by L3 , L5;
L7: ( (R18 qua Function) . D1 ) = ( R20 /. D1 ) by L6 , L5 , PARTFUN1:def 6;
thus L8: ( (R18 qua Function) . R1 ) = ( (R20 qua Function) . R1 ) by L7 , L2 , L5 , PARTFUN1:def 6;
end;
thus L9: thesis by L4 , L2 , FUNCT_1:2;
end;
theorem
L10: (for R2 being set holds (for R5 being non  empty set holds (for R6 being non  empty set holds (for R18 being (PartFunc of R5 , R6) holds (R2 in ( rng R18 ) iff (ex R11 being (Element of R5) st (R11 in ( dom R18 ) & R2 = ( R18 /. R11 ))))))))
proof
let R2 being set;
let R5 being non  empty set;
let R6 being non  empty set;
let R18 being (PartFunc of R5 , R6);
thus L11: (R2 in ( rng R18 ) implies (ex R11 being (Element of R5) st (R11 in ( dom R18 ) & R2 = ( R18 /. R11 ))))
proof
assume L12: R2 in ( rng R18 );
consider R1 being set such that L13: R1 in ( dom R18 ) and L14: R2 = ( (R18 qua Function) . R1 ) by L12 , FUNCT_1:def 3;
reconsider D2 = R1 as (Element of R5) by L13;
take D2;
thus L15: thesis by L13 , L14 , PARTFUN1:def 6;
end;

given R11 being (Element of R5) such that
L16: R11 in ( dom R18 )
and
L17: R2 = ( R18 /. R11 );

L18: ( (R18 qua Function) . R11 ) in ( rng R18 ) by L16 , FUNCT_1:def 3;
thus L19: thesis by L18 , L16 , L17 , PARTFUN1:def 6;
end;
theorem
L20: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R7 being non  empty set holds (for R18 being (PartFunc of R5 , R6) holds (for R22 being (PartFunc of R6 , R7) holds (for R23 being (PartFunc of R5 , R7) holds (R23 = ( R22 * R18 ) iff ((for R11 being (Element of R5) holds (R11 in ( dom R23 ) iff (R11 in ( dom R18 ) & ( R18 /. R11 ) in ( dom R22 )))) & (for R11 being (Element of R5) holds (R11 in ( dom R23 ) implies ( R23 /. R11 ) = ( R22 /. ( R18 /. R11 ) )))))))))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R7 being non  empty set;
let R18 being (PartFunc of R5 , R6);
let R22 being (PartFunc of R6 , R7);
let R23 being (PartFunc of R5 , R7);
thus L21: (R23 = ( R22 * R18 ) implies ((for R11 being (Element of R5) holds (R11 in ( dom R23 ) iff (R11 in ( dom R18 ) & ( R18 /. R11 ) in ( dom R22 )))) & (for R11 being (Element of R5) holds (R11 in ( dom R23 ) implies ( R23 /. R11 ) = ( R22 /. ( R18 /. R11 ) )))))
proof
assume L22: R23 = ( R22 * R18 );
L23:
now
let R11 being (Element of R5);
thus L24: (R11 in ( dom R23 ) implies (R11 in ( dom R18 ) & ( R18 /. R11 ) in ( dom R22 )))
proof
assume L25: R11 in ( dom R23 );
L26: (R11 in ( dom R18 ) & ( (R18 qua Function) . R11 ) in ( dom R22 )) by L25 , L22 , FUNCT_1:11;
thus L27: thesis by L26 , PARTFUN1:def 6;
end;

assume that
L28: R11 in ( dom R18 )
and
L29: ( R18 /. R11 ) in ( dom R22 );
L30: ( (R18 qua Function) . R11 ) in ( dom R22 ) by L28 , L29 , PARTFUN1:def 6;
thus L31: R11 in ( dom R23 ) by L30 , L22 , L28 , FUNCT_1:11;
end;
thus L32: (for R11 being (Element of R5) holds (R11 in ( dom R23 ) iff (R11 in ( dom R18 ) & ( R18 /. R11 ) in ( dom R22 )))) by L23;
let R11 being (Element of R5);
assume L33: R11 in ( dom R23 );
L34: ( (R23 qua Function) . R11 ) = ( (R22 qua Function) . ( (R18 qua Function) . R11 ) ) by L33 , L22 , FUNCT_1:12;
L35: ( R23 /. R11 ) = ( (R22 qua Function) . ( (R18 qua Function) . R11 ) ) by L34 , L33 , PARTFUN1:def 6;
L36: R11 in ( dom R18 ) by L23 , L33;
L37: ( R23 /. R11 ) = ( (R22 qua Function) . ( R18 /. R11 ) ) by L36 , L35 , PARTFUN1:def 6;
L38: ( R18 /. R11 ) in ( dom R22 ) by L23 , L33;
thus L39: thesis by L38 , L37 , PARTFUN1:def 6;
end;

assume that
L40: (for R11 being (Element of R5) holds (R11 in ( dom R23 ) iff (R11 in ( dom R18 ) & ( R18 /. R11 ) in ( dom R22 ))))
and
L41: (for R11 being (Element of R5) holds (R11 in ( dom R23 ) implies ( R23 /. R11 ) = ( R22 /. ( R18 /. R11 ) )));
L42:
now
let R1 being set;
thus L43: (R1 in ( dom R23 ) implies (R1 in ( dom R18 ) & ( (R18 qua Function) . R1 ) in ( dom R22 )))
proof
assume L44: R1 in ( dom R23 );
reconsider D3 = R1 as (Element of R5) by L44;
L45: (D3 in ( dom R18 ) & ( R18 /. D3 ) in ( dom R22 )) by L40 , L44;
thus L46: thesis by L45 , PARTFUN1:def 6;
end;

thus L47: ((R1 in ( dom R18 ) & ( (R18 qua Function) . R1 ) in ( dom R22 )) implies R1 in ( dom R23 ))
proof
assume that
L48: R1 in ( dom R18 )
and
L49: ( (R18 qua Function) . R1 ) in ( dom R22 );
reconsider D4 = R1 as (Element of R5) by L48;
L50: ( R18 /. D4 ) in ( dom R22 ) by L48 , L49 , PARTFUN1:def 6;
thus L51: thesis by L50 , L40 , L48;
end;

end;
L48:
now
let R1 being set;
assume L49: R1 in ( dom R23 );
reconsider D5 = R1 as (Element of R5) by L49;
L50: ( R23 /. D5 ) = ( R22 /. ( R18 /. D5 ) ) by L41 , L49;
L51: ( (R23 qua Function) . D5 ) = ( R22 /. ( R18 /. D5 ) ) by L50 , L49 , PARTFUN1:def 6;
L52: ( R18 /. D5 ) in ( dom R22 ) by L40 , L49;
L53: ( (R23 qua Function) . R1 ) = ( (R22 qua Function) . ( R18 /. D5 ) ) by L52 , L51 , PARTFUN1:def 6;
L54: D5 in ( dom R18 ) by L40 , L49;
thus L55: ( (R23 qua Function) . R1 ) = ( (R22 qua Function) . ( (R18 qua Function) . R1 ) ) by L54 , L53 , PARTFUN1:def 6;
end;
thus L56: thesis by L48 , L42 , FUNCT_1:10;
end;
theorem
L57: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R7 being non  empty set holds (for R11 being (Element of R5) holds (for R18 being (PartFunc of R5 , R6) holds (for R22 being (PartFunc of R6 , R7) holds ((R11 in ( dom R18 ) & ( R18 /. R11 ) in ( dom R22 )) implies ( ( R22 * R18 ) /. R11 ) = ( R22 /. ( R18 /. R11 ) ))))))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R7 being non  empty set;
let R11 being (Element of R5);
let R18 being (PartFunc of R5 , R6);
let R22 being (PartFunc of R6 , R7);
assume L58: (R11 in ( dom R18 ) & ( R18 /. R11 ) in ( dom R22 ));
L59: R11 in ( dom ( R22 * R18 ) ) by L58 , L20;
thus L60: thesis by L59 , L20;
end;
theorem
L61: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R7 being non  empty set holds (for R11 being (Element of R5) holds (for R18 being (PartFunc of R5 , R6) holds (for R22 being (PartFunc of R6 , R7) holds ((( rng R18 ) c= ( dom R22 ) & R11 in ( dom R18 )) implies ( ( R22 * R18 ) /. R11 ) = ( R22 /. ( R18 /. R11 ) ))))))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R7 being non  empty set;
let R11 being (Element of R5);
let R18 being (PartFunc of R5 , R6);
let R22 being (PartFunc of R6 , R7);
assume that
L62: ( rng R18 ) c= ( dom R22 )
and
L63: R11 in ( dom R18 );
L64: ( R18 /. R11 ) in ( rng R18 ) by L63 , L10;
thus L65: thesis by L64 , L62 , L63 , L57;
end;
definition
let R6 being non  empty set;
let R9 being (Subset of R6);
redefine func id R9 -> (PartFunc of R6 , R6);

coherence
proof
L66: (( dom ( id R9 ) ) = R9 & ( rng ( id R9 ) ) = R9) by RELAT_1:45;
thus L67: thesis by L66 , RELSET_1:4;
end;
end;
theorem
L69: (for R6 being non  empty set holds (for R9 being (Subset of R6) holds (for R24 being (PartFunc of R6 , R6) holds (R24 = ( id R9 ) iff (( dom R24 ) = R9 & (for R14 being (Element of R6) holds (R14 in R9 implies ( R24 /. R14 ) = R14)))))))
proof
let R6 being non  empty set;
let R9 being (Subset of R6);
let R24 being (PartFunc of R6 , R6);
thus L70: (R24 = ( id R9 ) implies (( dom R24 ) = R9 & (for R14 being (Element of R6) holds (R14 in R9 implies ( R24 /. R14 ) = R14))))
proof
assume L71: R24 = ( id R9 );
thus L72: ( dom R24 ) = R9 by L71 , RELAT_1:45;
let R14 being (Element of R6);
assume L73: R14 in R9;
L74: ( (R24 qua Function) . R14 ) = R14 by L73 , L71 , FUNCT_1:18;
thus L75: thesis by L74 , L72 , L73 , PARTFUN1:def 6;
end;

assume that
L76: ( dom R24 ) = R9
and
L77: (for R14 being (Element of R6) holds (R14 in R9 implies ( R24 /. R14 ) = R14));
L78:
now
let R1 being set;
assume L79: R1 in R9;
reconsider D6 = R1 as (Element of R6) by L79;
L80: ( R24 /. D6 ) = D6 by L77 , L79;
thus L81: ( (R24 qua Function) . R1 ) = R1 by L80 , L76 , L79 , PARTFUN1:def 6;
end;
thus L82: thesis by L78 , L76 , FUNCT_1:17;
end;
theorem
L83: (for R6 being non  empty set holds (for R9 being (Subset of R6) holds (for R14 being (Element of R6) holds (for R24 being (PartFunc of R6 , R6) holds (R14 in ( ( dom R24 ) /\ R9 ) implies ( R24 /. R14 ) = ( ( R24 * ( id R9 ) ) /. R14 ))))))
proof
let R6 being non  empty set;
let R9 being (Subset of R6);
let R14 being (Element of R6);
let R24 being (PartFunc of R6 , R6);
assume L84: R14 in ( ( dom R24 ) /\ R9 );
L85: R14 in ( dom R24 ) by L84 , XBOOLE_0:def 4;
L86: ( (R24 qua Function) . R14 ) = ( (( R24 * ( id R9 ) ) qua Function) . R14 ) by L84 , FUNCT_1:20;
L87: ( R24 /. R14 ) = ( (( R24 * ( id R9 ) ) qua Function) . R14 ) by L86 , L85 , PARTFUN1:def 6;
L88: R14 in R9 by L84 , XBOOLE_0:def 4;
L89: R14 in ( dom ( id R9 ) ) by L88 , RELAT_1:45;
L90: ( ( id R9 ) /. R14 ) in ( dom R24 ) by L85 , L88 , L69;
L91: R14 in ( dom ( R24 * ( id R9 ) ) ) by L90 , L89 , L20;
thus L92: thesis by L91 , L87 , PARTFUN1:def 6;
end;
theorem
L93: (for R6 being non  empty set holds (for R9 being (Subset of R6) holds (for R14 being (Element of R6) holds (for R24 being (PartFunc of R6 , R6) holds (R14 in ( dom ( ( id R9 ) * R24 ) ) iff (R14 in ( dom R24 ) & ( R24 /. R14 ) in R9))))))
proof
let R6 being non  empty set;
let R9 being (Subset of R6);
let R14 being (Element of R6);
let R24 being (PartFunc of R6 , R6);
thus L94: (R14 in ( dom ( ( id R9 ) * R24 ) ) implies (R14 in ( dom R24 ) & ( R24 /. R14 ) in R9))
proof
assume L95: R14 in ( dom ( ( id R9 ) * R24 ) );
L96: ( R24 /. R14 ) in ( dom ( id R9 ) ) by L95 , L20;
thus L97: thesis by L96 , L95 , L20 , RELAT_1:45;
end;

assume that
L98: R14 in ( dom R24 )
and
L99: ( R24 /. R14 ) in R9;
L100: ( R24 /. R14 ) in ( dom ( id R9 ) ) by L99 , RELAT_1:45;
thus L101: thesis by L100 , L98 , L20;
end;
theorem
L102: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R18 being (PartFunc of R5 , R6) holds ((for R12 being (Element of R5) holds (for R13 being (Element of R5) holds ((R12 in ( dom R18 ) & R13 in ( dom R18 ) & ( R18 /. R12 ) = ( R18 /. R13 )) implies R12 = R13))) implies R18 is  one-to-one))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R18 being (PartFunc of R5 , R6);
assume L103: (for R12 being (Element of R5) holds (for R13 being (Element of R5) holds ((R12 in ( dom R18 ) & R13 in ( dom R18 ) & ( R18 /. R12 ) = ( R18 /. R13 )) implies R12 = R13)));
L104:
now
let R1 being set;
let R2 being set;
assume that
L105: R1 in ( dom R18 )
and
L106: R2 in ( dom R18 )
and
L107: ( (R18 qua Function) . R1 ) = ( (R18 qua Function) . R2 );
reconsider D7 = R2 as (Element of R5) by L106;
reconsider D8 = R1 as (Element of R5) by L105;
L108: ( R18 /. D8 ) = ( (R18 qua Function) . D7 ) by L105 , L107 , PARTFUN1:def 6;
L109: ( R18 /. D8 ) = ( R18 /. D7 ) by L108 , L106 , PARTFUN1:def 6;
thus L110: R1 = R2 by L109 , L103 , L105 , L106;
end;
thus L111: thesis by L104 , FUNCT_1:def 4;
end;
theorem
L112: (for R1 being set holds (for R2 being set holds (for R5 being non  empty set holds (for R6 being non  empty set holds (for R18 being (PartFunc of R5 , R6) holds ((R18 is  one-to-one & R1 in ( dom R18 ) & R2 in ( dom R18 ) & ( R18 /. R1 ) = ( R18 /. R2 )) implies R1 = R2))))))
proof
let R1 being set;
let R2 being set;
let R5 being non  empty set;
let R6 being non  empty set;
let R18 being (PartFunc of R5 , R6);
assume that
L113: R18 is  one-to-one
and
L114: R1 in ( dom R18 )
and
L115: R2 in ( dom R18 );
assume L116: ( R18 /. R1 ) = ( R18 /. R2 );
L117: ( R18 . R1 ) = ( R18 /. R2 ) by L116 , L114 , PARTFUN1:def 6
.= ( R18 . R2 ) by L115 , PARTFUN1:def 6;
thus L118: thesis by L117 , L113 , L114 , L115 , FUNCT_1:def 4;
end;
definition
let R3 being set;
let R4 being set;
let C1 being  one-to-one (PartFunc of R3 , R4);
redefine func C1 " -> (PartFunc of R4 , R3);

coherence by PARTFUN1:9;
end;
theorem
L120: (for R5 being non  empty set holds (for R6 being non  empty set holds (for B1 being  one-to-one (PartFunc of R5 , R6) holds (for B2 being (PartFunc of R6 , R5) holds (B2 = ( B1 " ) iff (( dom B2 ) = ( rng B1 ) & (for R14 being (Element of R6) holds (for R11 being (Element of R5) holds ((R14 in ( rng B1 ) & R11 = ( B2 /. R14 )) iff (R11 in ( dom B1 ) & R14 = ( B1 /. R11 )))))))))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let C2 being  one-to-one (PartFunc of R5 , R6);
let C3 being (PartFunc of R6 , R5);
thus L121: (C3 = ( C2 " ) implies (( dom C3 ) = ( rng C2 ) & (for R14 being (Element of R6) holds (for R11 being (Element of R5) holds ((R14 in ( rng C2 ) & R11 = ( C3 /. R14 )) iff (R11 in ( dom C2 ) & R14 = ( C2 /. R11 )))))))
proof
assume L122: C3 = ( C2 " );
thus L123: ( dom C3 ) = ( rng C2 ) by L122 , FUNCT_1:32;
let R14 being (Element of R6);
let R11 being (Element of R5);
L124: ( dom C3 ) = ( rng C2 ) by L122 , FUNCT_1:32;
thus L125: ((R14 in ( rng C2 ) & R11 = ( C3 /. R14 )) implies (R11 in ( dom C2 ) & R14 = ( C2 /. R11 )))
proof
assume that
L126: R14 in ( rng C2 )
and
L127: R11 = ( C3 /. R14 );
L128: R11 = ( (C3 qua Function) . R14 ) by L124 , L126 , L127 , PARTFUN1:def 6;
L129: (R11 in ( dom C2 ) & R14 = ( (C2 qua Function) . R11 )) by L128 , L122 , L126 , FUNCT_1:32;
thus L130: thesis by L129 , PARTFUN1:def 6;
end;

assume that
L131: R11 in ( dom C2 )
and
L132: R14 = ( C2 /. R11 );
L133: R14 = ( (C2 qua Function) . R11 ) by L131 , L132 , PARTFUN1:def 6;
L134: (R14 in ( rng C2 ) & R11 = ( (C3 qua Function) . R14 )) by L133 , L122 , L131 , FUNCT_1:32;
thus L135: thesis by L134 , L124 , PARTFUN1:def 6;
end;

assume that
L136: ( dom C3 ) = ( rng C2 )
and
L137: (for R14 being (Element of R6) holds (for R11 being (Element of R5) holds ((R14 in ( rng C2 ) & R11 = ( C3 /. R14 )) iff (R11 in ( dom C2 ) & R14 = ( C2 /. R11 )))))
and
L138: C3 <> ( C2 " );
L139:
now
per cases  by L138 , L1;
suppose L140: ( dom ( C2 " ) ) <> ( dom C3 );

thus L141: contradiction by L140 , L136 , FUNCT_1:33;
end;
suppose L142: (ex R14 being (Element of R6) st (R14 in ( dom ( C2 " ) ) & ( ( C2 " ) /. R14 ) <> ( C3 /. R14 )));

consider R14 being (Element of R6) such that L143: R14 in ( dom ( C2 " ) ) and L144: ( ( C2 " ) /. R14 ) <> ( C3 /. R14 ) by L142;
L145: ( ( C2 " ) /. R14 ) in ( rng ( C2 " ) ) by L143 , L10;
L146: ( ( C2 " ) /. R14 ) in ( dom C2 ) by L145 , FUNCT_1:33;
L147: R14 in ( rng C2 ) by L143 , FUNCT_1:33;
L148: R14 = ( (C2 qua Function) . ( (( C2 " ) qua Function) . R14 ) ) by L147 , FUNCT_1:35;
L149: R14 = ( (C2 qua Function) . ( ( C2 " ) /. R14 ) ) by L148 , L143 , PARTFUN1:def 6;
L150: R14 = ( C2 /. ( ( C2 " ) /. R14 ) ) by L149 , L146 , PARTFUN1:def 6;
thus L151: contradiction by L150 , L137 , L144 , L146;
end;
end;
thus L153: contradiction by L139;
end;
theorem
L154: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R11 being (Element of R5) holds (for B3 being  one-to-one (PartFunc of R5 , R6) holds (R11 in ( dom B3 ) implies (R11 = ( ( B3 " ) /. ( B3 /. R11 ) ) & R11 = ( ( ( B3 " ) * B3 ) /. R11 )))))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R11 being (Element of R5);
let C4 being  one-to-one (PartFunc of R5 , R6);
assume L155: R11 in ( dom C4 );
thus L156: R11 = ( ( C4 " ) /. ( C4 /. R11 ) ) by L155 , L120;
L157: ( C4 " ) = ( C4 " );
L158: ( C4 /. R11 ) in ( rng C4 ) by L157 , L155 , L120;
L159: ( C4 /. R11 ) in ( dom ( C4 " ) ) by L158 , FUNCT_1:33;
thus L160: thesis by L159 , L155 , L156 , L57;
end;
theorem
L161: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R14 being (Element of R6) holds (for B4 being  one-to-one (PartFunc of R5 , R6) holds (R14 in ( rng B4 ) implies (R14 = ( B4 /. ( ( B4 " ) /. R14 ) ) & R14 = ( ( B4 * ( B4 " ) ) /. R14 )))))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R14 being (Element of R6);
let C5 being  one-to-one (PartFunc of R5 , R6);
assume L162: R14 in ( rng C5 );
L163: (R14 = ( (( C5 * ( C5 " ) ) qua Function) . R14 ) & R14 in ( dom ( C5 * ( C5 " ) ) )) by L162 , FUNCT_1:35 , FUNCT_1:37;
thus L164: thesis by L163 , L162 , L120 , PARTFUN1:def 6;
end;
theorem
L165: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R18 being (PartFunc of R5 , R6) holds (for R21 being (PartFunc of R6 , R5) holds ((R18 is  one-to-one & ( dom R18 ) = ( rng R21 ) & ( rng R18 ) = ( dom R21 ) & (for R11 being (Element of R5) holds (for R14 being (Element of R6) holds ((R11 in ( dom R18 ) & R14 in ( dom R21 )) implies (( R18 /. R11 ) = R14 iff ( R21 /. R14 ) = R11))))) implies R21 = ( R18 " ))))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R18 being (PartFunc of R5 , R6);
let R21 being (PartFunc of R6 , R5);
assume that
L166: (R18 is  one-to-one & ( dom R18 ) = ( rng R21 ) & ( rng R18 ) = ( dom R21 ))
and
L167: (for R11 being (Element of R5) holds (for R14 being (Element of R6) holds ((R11 in ( dom R18 ) & R14 in ( dom R21 )) implies (( R18 /. R11 ) = R14 iff ( R21 /. R14 ) = R11))));
L168:
now
let R1 being set;
let R2 being set;
assume that
L169: R1 in ( dom R18 )
and
L170: R2 in ( dom R21 );
reconsider D9 = R2 as (Element of R6) by L170;
reconsider D10 = R1 as (Element of R5) by L169;
thus L171: (( (R18 qua Function) . R1 ) = R2 implies ( (R21 qua Function) . R2 ) = R1)
proof
assume L172: ( (R18 qua Function) . R1 ) = R2;
L173: ( R18 /. D10 ) = D9 by L172 , L169 , PARTFUN1:def 6;
L174: ( R21 /. D9 ) = D10 by L173 , L167 , L169 , L170;
thus L175: thesis by L174 , L170 , PARTFUN1:def 6;
end;

assume L176: ( (R21 qua Function) . R2 ) = R1;
L177: ( R21 /. D9 ) = D10 by L176 , L170 , PARTFUN1:def 6;
L178: ( R18 /. D10 ) = D9 by L177 , L167 , L169 , L170;
thus L179: ( (R18 qua Function) . R1 ) = R2 by L178 , L169 , PARTFUN1:def 6;
end;
thus L180: thesis by L168 , L166 , FUNCT_1:38;
end;
theorem
L181: (for R3 being set holds (for R5 being non  empty set holds (for R6 being non  empty set holds (for R18 being (PartFunc of R5 , R6) holds (for R20 being (PartFunc of R5 , R6) holds (R20 = ( R18 | R3 ) iff (( dom R20 ) = ( ( dom R18 ) /\ R3 ) & (for R11 being (Element of R5) holds (R11 in ( dom R20 ) implies ( R20 /. R11 ) = ( R18 /. R11 ))))))))))
proof
let R3 being set;
let R5 being non  empty set;
let R6 being non  empty set;
let R18 being (PartFunc of R5 , R6);
let R20 being (PartFunc of R5 , R6);
thus L182: (R20 = ( R18 | R3 ) implies (( dom R20 ) = ( ( dom R18 ) /\ R3 ) & (for R11 being (Element of R5) holds (R11 in ( dom R20 ) implies ( R20 /. R11 ) = ( R18 /. R11 )))))
proof
assume L183: R20 = ( R18 | R3 );
thus L184: ( dom R20 ) = ( ( dom R18 ) /\ R3 ) by L183 , RELAT_1:61;
let R11 being (Element of R5);
assume L185: R11 in ( dom R20 );
L186: ( (R20 qua Function) . R11 ) = ( (R18 qua Function) . R11 ) by L185 , L183 , FUNCT_1:47;
L187: ( R20 /. R11 ) = ( (R18 qua Function) . R11 ) by L186 , L185 , PARTFUN1:def 6;
L188: ( dom R20 ) = ( ( dom R18 ) /\ R3 ) by L183 , RELAT_1:61;
L189: R11 in ( dom R18 ) by L188 , L185 , XBOOLE_0:def 4;
thus L190: thesis by L189 , L187 , PARTFUN1:def 6;
end;

assume that
L191: ( dom R20 ) = ( ( dom R18 ) /\ R3 )
and
L192: (for R11 being (Element of R5) holds (R11 in ( dom R20 ) implies ( R20 /. R11 ) = ( R18 /. R11 )));
L193:
now
let R1 being set;
assume L194: R1 in ( dom R20 );
reconsider D11 = R1 as (Element of R5) by L194;
L195: ( R20 /. D11 ) = ( R18 /. D11 ) by L192 , L194;
L196: ( (R20 qua Function) . D11 ) = ( R18 /. D11 ) by L195 , L194 , PARTFUN1:def 6;
L197: R1 in ( dom R18 ) by L191 , L194 , XBOOLE_0:def 4;
thus L198: ( (R20 qua Function) . R1 ) = ( (R18 qua Function) . R1 ) by L197 , L196 , PARTFUN1:def 6;
end;
thus L199: thesis by L193 , L191 , FUNCT_1:46;
end;
theorem
L200: (for R3 being set holds (for R5 being non  empty set holds (for R6 being non  empty set holds (for R11 being (Element of R5) holds (for R18 being (PartFunc of R5 , R6) holds (R11 in ( ( dom R18 ) /\ R3 ) implies ( ( R18 | R3 ) /. R11 ) = ( R18 /. R11 )))))))
proof
let R3 being set;
let R5 being non  empty set;
let R6 being non  empty set;
let R11 being (Element of R5);
let R18 being (PartFunc of R5 , R6);
assume L201: R11 in ( ( dom R18 ) /\ R3 );
L202: R11 in ( dom ( R18 | R3 ) ) by L201 , RELAT_1:61;
thus L203: thesis by L202 , L181;
end;
theorem
L204: (for R3 being set holds (for R5 being non  empty set holds (for R6 being non  empty set holds (for R11 being (Element of R5) holds (for R18 being (PartFunc of R5 , R6) holds ((R11 in ( dom R18 ) & R11 in R3) implies ( ( R18 | R3 ) /. R11 ) = ( R18 /. R11 )))))))
proof
let R3 being set;
let R5 being non  empty set;
let R6 being non  empty set;
let R11 being (Element of R5);
let R18 being (PartFunc of R5 , R6);
assume L205: (R11 in ( dom R18 ) & R11 in R3);
L206: R11 in ( ( dom R18 ) /\ R3 ) by L205 , XBOOLE_0:def 4;
thus L207: thesis by L206 , L200;
end;
theorem
L208: (for R3 being set holds (for R5 being non  empty set holds (for R6 being non  empty set holds (for R11 being (Element of R5) holds (for R18 being (PartFunc of R5 , R6) holds ((R11 in ( dom R18 ) & R11 in R3) implies ( R18 /. R11 ) in ( rng ( R18 | R3 ) )))))))
proof
let R3 being set;
let R5 being non  empty set;
let R6 being non  empty set;
let R11 being (Element of R5);
let R18 being (PartFunc of R5 , R6);
assume that
L209: R11 in ( dom R18 )
and
L210: R11 in R3;
L211: ( (R18 qua Function) . R11 ) in ( rng ( R18 | R3 ) ) by L209 , L210 , FUNCT_1:50;
thus L212: thesis by L211 , L209 , PARTFUN1:def 6;
end;
definition
let R5 being non  empty set;
let R6 being non  empty set;
let R3 being set;
let R18 being (PartFunc of R5 , R6);
redefine func R3 |` R18 -> (PartFunc of R5 , R6);

coherence by PARTFUN1:13;
end;
theorem
L214: (for R3 being set holds (for R5 being non  empty set holds (for R6 being non  empty set holds (for R18 being (PartFunc of R5 , R6) holds (for R20 being (PartFunc of R5 , R6) holds (R20 = ( R3 |` R18 ) iff ((for R11 being (Element of R5) holds (R11 in ( dom R20 ) iff (R11 in ( dom R18 ) & ( R18 /. R11 ) in R3))) & (for R11 being (Element of R5) holds (R11 in ( dom R20 ) implies ( R20 /. R11 ) = ( R18 /. R11 ))))))))))
proof
let R3 being set;
let R5 being non  empty set;
let R6 being non  empty set;
let R18 being (PartFunc of R5 , R6);
let R20 being (PartFunc of R5 , R6);
thus L215: (R20 = ( R3 |` R18 ) implies ((for R11 being (Element of R5) holds (R11 in ( dom R20 ) iff (R11 in ( dom R18 ) & ( R18 /. R11 ) in R3))) & (for R11 being (Element of R5) holds (R11 in ( dom R20 ) implies ( R20 /. R11 ) = ( R18 /. R11 )))))
proof
assume L216: R20 = ( R3 |` R18 );
L217:
now
let R11 being (Element of R5);
thus L218: (R11 in ( dom R20 ) implies (R11 in ( dom R18 ) & ( R18 /. R11 ) in R3))
proof
assume L219: R11 in ( dom R20 );
L220: (R11 in ( dom R18 ) & ( (R18 qua Function) . R11 ) in R3) by L219 , L216 , FUNCT_1:54;
thus L221: thesis by L220 , PARTFUN1:def 6;
end;

assume that
L222: R11 in ( dom R18 )
and
L223: ( R18 /. R11 ) in R3;
L224: ( (R18 qua Function) . R11 ) in R3 by L222 , L223 , PARTFUN1:def 6;
thus L225: R11 in ( dom R20 ) by L224 , L216 , L222 , FUNCT_1:54;
end;
thus L226: (for R11 being (Element of R5) holds (R11 in ( dom R20 ) iff (R11 in ( dom R18 ) & ( R18 /. R11 ) in R3))) by L217;
let R11 being (Element of R5);
assume L227: R11 in ( dom R20 );
L228: ( (R20 qua Function) . R11 ) = ( (R18 qua Function) . R11 ) by L227 , L216 , FUNCT_1:55;
L229: ( R20 /. R11 ) = ( (R18 qua Function) . R11 ) by L228 , L227 , PARTFUN1:def 6;
L230: R11 in ( dom R18 ) by L216 , L227 , FUNCT_1:54;
thus L231: thesis by L230 , L229 , PARTFUN1:def 6;
end;

assume that
L232: (for R11 being (Element of R5) holds (R11 in ( dom R20 ) iff (R11 in ( dom R18 ) & ( R18 /. R11 ) in R3)))
and
L233: (for R11 being (Element of R5) holds (R11 in ( dom R20 ) implies ( R20 /. R11 ) = ( R18 /. R11 )));
L234:
now
let R1 being set;
thus L235: (R1 in ( dom R20 ) implies (R1 in ( dom R18 ) & ( (R18 qua Function) . R1 ) in R3))
proof
assume L236: R1 in ( dom R20 );
reconsider D12 = R1 as (Element of R5) by L236;
L237: (D12 in ( dom R18 ) & ( R18 /. D12 ) in R3) by L232 , L236;
thus L238: thesis by L237 , PARTFUN1:def 6;
end;

assume that
L239: R1 in ( dom R18 )
and
L240: ( (R18 qua Function) . R1 ) in R3;
reconsider D13 = R1 as (Element of R5) by L239;
L241: ( R18 /. D13 ) in R3 by L239 , L240 , PARTFUN1:def 6;
thus L242: R1 in ( dom R20 ) by L241 , L232 , L239;
end;
L243:
now
let R1 being set;
assume L244: R1 in ( dom R20 );
reconsider D14 = R1 as (Element of R5) by L244;
L245: ( R20 /. D14 ) = ( R18 /. D14 ) by L233 , L244;
L246: ( (R20 qua Function) . D14 ) = ( R18 /. D14 ) by L245 , L244 , PARTFUN1:def 6;
L247: D14 in ( dom R18 ) by L232 , L244;
thus L248: ( (R20 qua Function) . R1 ) = ( (R18 qua Function) . R1 ) by L247 , L246 , PARTFUN1:def 6;
end;
thus L249: thesis by L243 , L234 , FUNCT_1:53;
end;
theorem
L250: (for R3 being set holds (for R5 being non  empty set holds (for R6 being non  empty set holds (for R11 being (Element of R5) holds (for R18 being (PartFunc of R5 , R6) holds (R11 in ( dom ( R3 |` R18 ) ) iff (R11 in ( dom R18 ) & ( R18 /. R11 ) in R3))))))) by L214;
theorem
L251: (for R3 being set holds (for R5 being non  empty set holds (for R6 being non  empty set holds (for R11 being (Element of R5) holds (for R18 being (PartFunc of R5 , R6) holds (R11 in ( dom ( R3 |` R18 ) ) implies ( ( R3 |` R18 ) /. R11 ) = ( R18 /. R11 ))))))) by L214;
theorem
L252: (for R3 being set holds (for R5 being non  empty set holds (for R6 being non  empty set holds (for R9 being (Subset of R6) holds (for R18 being (PartFunc of R5 , R6) holds (R9 = ( R18 .: R3 ) iff (for R14 being (Element of R6) holds (R14 in R9 iff (ex R11 being (Element of R5) st (R11 in ( dom R18 ) & R11 in R3 & R14 = ( R18 /. R11 )))))))))))
proof
let R3 being set;
let R5 being non  empty set;
let R6 being non  empty set;
let R9 being (Subset of R6);
let R18 being (PartFunc of R5 , R6);
thus L253: (R9 = ( R18 .: R3 ) implies (for R14 being (Element of R6) holds (R14 in R9 iff (ex R11 being (Element of R5) st (R11 in ( dom R18 ) & R11 in R3 & R14 = ( R18 /. R11 ))))))
proof
assume L254: R9 = ( R18 .: R3 );
let R14 being (Element of R6);
thus L255: (R14 in R9 implies (ex R11 being (Element of R5) st (R11 in ( dom R18 ) & R11 in R3 & R14 = ( R18 /. R11 ))))
proof
assume L256: R14 in R9;
consider R1 being set such that L257: R1 in ( dom R18 ) and L258: R1 in R3 and L259: R14 = ( (R18 qua Function) . R1 ) by L256 , L254 , FUNCT_1:def 6;
reconsider D15 = R1 as (Element of R5) by L257;
take D15;
thus L260: (D15 in ( dom R18 ) & D15 in R3) by L257 , L258;
thus L261: thesis by L257 , L259 , PARTFUN1:def 6;
end;

given R11 being (Element of R5) such that
L262: R11 in ( dom R18 )
and
L263: (R11 in R3 & R14 = ( R18 /. R11 ));

L264: ( R18 /. R11 ) = ( (R18 qua Function) . R11 ) by L262 , PARTFUN1:def 6;
thus L265: thesis by L264 , L254 , L262 , L263 , FUNCT_1:def 6;
end;

assume that
L266: (for R14 being (Element of R6) holds (R14 in R9 iff (ex R11 being (Element of R5) st (R11 in ( dom R18 ) & R11 in R3 & R14 = ( R18 /. R11 )))))
and
L267: R9 <> ( R18 .: R3 );
consider R1 being set such that L268: (not (R1 in R9 iff R1 in ( R18 .: R3 ))) by L267 , TARSKI:1;
L269:
now
per cases  by L268;
suppose L270: (R1 in R9 & (not R1 in ( R18 .: R3 )));

reconsider D16 = R1 as (Element of R6) by L270;
consider R11 being (Element of R5) such that L271: R11 in ( dom R18 ) and L272: R11 in R3 and L273: D16 = ( R18 /. R11 ) by L266 , L270;
L274: D16 = ( (R18 qua Function) . R11 ) by L271 , L273 , PARTFUN1:def 6;
thus L275: contradiction by L274 , L270 , L271 , L272 , FUNCT_1:def 6;
end;
suppose L276: (R1 in ( R18 .: R3 ) & (not R1 in R9));

consider R2 being set such that L277: R2 in ( dom R18 ) and L278: R2 in R3 and L279: R1 = ( (R18 qua Function) . R2 ) by L276 , FUNCT_1:def 6;
reconsider D17 = R2 as (Element of R5) by L277;
L280: R1 = ( R18 /. D17 ) by L277 , L279 , PARTFUN1:def 6;
thus L281: contradiction by L280 , L266 , L276 , L277 , L278;
end;
end;
thus L283: contradiction by L269;
end;
theorem
L284: (for R3 being set holds (for R5 being non  empty set holds (for R6 being non  empty set holds (for R14 being (Element of R6) holds (for R18 being (PartFunc of R5 , R6) holds (R14 in ( (R18 qua (Relation of R5 , R6)) .: R3 ) iff (ex R11 being (Element of R5) st (R11 in ( dom R18 ) & R11 in R3 & R14 = ( R18 /. R11 ))))))))) by L252;
theorem
L285: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R11 being (Element of R5) holds (for R18 being (PartFunc of R5 , R6) holds (R11 in ( dom R18 ) implies ( Im (R18 , R11) ) = { ( R18 /. R11 ) })))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R11 being (Element of R5);
let R18 being (PartFunc of R5 , R6);
assume L286: R11 in ( dom R18 );
thus L287: ( Im (R18 , R11) ) = { ( (R18 qua Function) . R11 ) } by L286 , FUNCT_1:59
.= { ( R18 /. R11 ) } by L286 , PARTFUN1:def 6;
end;
theorem
L288: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R12 being (Element of R5) holds (for R13 being (Element of R5) holds (for R18 being (PartFunc of R5 , R6) holds ((R12 in ( dom R18 ) & R13 in ( dom R18 )) implies ( R18 .: { R12 , R13 } ) = { ( R18 /. R12 ) , ( R18 /. R13 ) }))))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R12 being (Element of R5);
let R13 being (Element of R5);
let R18 being (PartFunc of R5 , R6);
assume that
L289: R12 in ( dom R18 )
and
L290: R13 in ( dom R18 );
thus L291: ( R18 .: { R12 , R13 } ) = { ( (R18 qua Function) . R12 ) , ( (R18 qua Function) . R13 ) } by L289 , L290 , FUNCT_1:60
.= { ( R18 /. R12 ) , ( (R18 qua Function) . R13 ) } by L289 , PARTFUN1:def 6
.= { ( R18 /. R12 ) , ( R18 /. R13 ) } by L290 , PARTFUN1:def 6;
end;
theorem
L292: (for R3 being set holds (for R5 being non  empty set holds (for R6 being non  empty set holds (for R8 being (Subset of R5) holds (for R18 being (PartFunc of R5 , R6) holds (R8 = ( R18 " R3 ) iff (for R11 being (Element of R5) holds (R11 in R8 iff (R11 in ( dom R18 ) & ( R18 /. R11 ) in R3)))))))))
proof
let R3 being set;
let R5 being non  empty set;
let R6 being non  empty set;
let R8 being (Subset of R5);
let R18 being (PartFunc of R5 , R6);
thus L293: (R8 = ( R18 " R3 ) implies (for R11 being (Element of R5) holds (R11 in R8 iff (R11 in ( dom R18 ) & ( R18 /. R11 ) in R3))))
proof
assume L294: R8 = ( R18 " R3 );
let R11 being (Element of R5);
thus L295: (R11 in R8 implies (R11 in ( dom R18 ) & ( R18 /. R11 ) in R3))
proof
assume L296: R11 in R8;
L297: (R11 in ( dom R18 ) & ( (R18 qua Function) . R11 ) in R3) by L296 , L294 , FUNCT_1:def 7;
thus L298: thesis by L297 , PARTFUN1:def 6;
end;

assume that
L299: R11 in ( dom R18 )
and
L300: ( R18 /. R11 ) in R3;
L301: ( (R18 qua Function) . R11 ) in R3 by L299 , L300 , PARTFUN1:def 6;
thus L302: thesis by L301 , L294 , L299 , FUNCT_1:def 7;
end;

assume L303: (for R11 being (Element of R5) holds (R11 in R8 iff (R11 in ( dom R18 ) & ( R18 /. R11 ) in R3)));
L304:
now
let R1 being set;
thus L305: (R1 in R8 implies (R1 in ( dom R18 ) & ( (R18 qua Function) . R1 ) in R3))
proof
assume L306: R1 in R8;
reconsider D18 = R1 as (Element of R5) by L306;
L307: (D18 in ( dom R18 ) & ( R18 /. D18 ) in R3) by L303 , L306;
thus L308: thesis by L307 , PARTFUN1:def 6;
end;

assume that
L309: R1 in ( dom R18 )
and
L310: ( (R18 qua Function) . R1 ) in R3;
reconsider D19 = R1 as (Element of R5) by L309;
L311: ( R18 /. D19 ) in R3 by L309 , L310 , PARTFUN1:def 6;
thus L312: R1 in R8 by L311 , L303 , L309;
end;
thus L313: thesis by L304 , FUNCT_1:def 7;
end;
theorem
L314: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R18 being (PartFunc of R5 , R6) holds (ex B5 being (Function of R5 , R6) st (for R11 being (Element of R5) holds (R11 in ( dom R18 ) implies ( B5 . R11 ) = ( R18 /. R11 )))))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R18 being (PartFunc of R5 , R6);
consider C6 being (Function of R5 , R6) such that L315: (for R1 being set holds (R1 in ( dom R18 ) implies ( C6 . R1 ) = ( (R18 qua Function) . R1 ))) by FUNCT_2:71;
take C6;
let R11 being (Element of R5);
assume L316: R11 in ( dom R18 );
L317: ( C6 . R11 ) = ( (R18 qua Function) . R11 ) by L316 , L315;
thus L318: thesis by L317 , L316 , PARTFUN1:def 6;
end;
theorem
L319: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R18 being (PartFunc of R5 , R6) holds (for R20 being (PartFunc of R5 , R6) holds (R18 tolerates R20 iff (for R11 being (Element of R5) holds (R11 in ( ( dom R18 ) /\ ( dom R20 ) ) implies ( R18 /. R11 ) = ( R20 /. R11 ))))))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R18 being (PartFunc of R5 , R6);
let R20 being (PartFunc of R5 , R6);
thus L320: (R18 tolerates R20 implies (for R11 being (Element of R5) holds (R11 in ( ( dom R18 ) /\ ( dom R20 ) ) implies ( R18 /. R11 ) = ( R20 /. R11 ))))
proof
assume L321: R18 tolerates R20;
let R11 being (Element of R5);
assume L322: R11 in ( ( dom R18 ) /\ ( dom R20 ) );
L323: R11 in ( dom R18 ) by L322 , XBOOLE_0:def 4;
L324: ( (R18 qua Function) . R11 ) = ( (R20 qua Function) . R11 ) by L321 , L322 , PARTFUN1:def 4;
L325: ( R18 /. R11 ) = ( (R20 qua Function) . R11 ) by L324 , L323 , PARTFUN1:def 6;
L326: R11 in ( dom R20 ) by L322 , XBOOLE_0:def 4;
thus L327: thesis by L326 , L325 , PARTFUN1:def 6;
end;

assume L328: (for R11 being (Element of R5) holds (R11 in ( ( dom R18 ) /\ ( dom R20 ) ) implies ( R18 /. R11 ) = ( R20 /. R11 )));
L329:
now
let R1 being set;
assume L330: R1 in ( ( dom R18 ) /\ ( dom R20 ) );
reconsider D20 = R1 as (Element of R5) by L330;
L331: (R1 in ( dom R18 ) & ( R18 /. D20 ) = ( R20 /. D20 )) by L328 , L330 , XBOOLE_0:def 4;
L332: ( (R18 qua Function) . R1 ) = ( R20 /. D20 ) by L331 , PARTFUN1:def 6;
L333: R1 in ( dom R20 ) by L330 , XBOOLE_0:def 4;
thus L334: ( (R18 qua Function) . R1 ) = ( (R20 qua Function) . R1 ) by L333 , L332 , PARTFUN1:def 6;
end;
thus L335: thesis by L329 , PARTFUN1:def 4;
end;
scheme PartFuncExD { F1 , F2() -> non  empty set , P1[set , set] } : (ex B6 being (PartFunc of F1() , F2()) st ((for B7 being (Element of F1()) holds (B7 in ( dom B6 ) iff (ex B8 being (Element of F2()) st P1[ B7 , B8 ]))) & (for B9 being (Element of F1()) holds (B9 in ( dom B6 ) implies P1[ B9 , ( B6 /. B9 ) ]))))
proof
defpred S1[ set ] means (ex B10 being (Element of F2()) st P1[ $1 , B10 ]);
set D21 = the (Element of F2());
defpred S2[ set , set ] means (((ex B11 being (Element of F2()) st P1[ $1 , B11 ]) implies P1[ $1 , $2 ]) & ((for B12 being (Element of F2()) holds (not P1[ $1 , B12 ])) implies $2 = D21));
consider C7 being set such that L336: (for R1 being set holds (R1 in C7 iff (R1 in F1() & S1[ R1 ]))) from XBOOLE_0:sch 1;
L337: (for R1 being set holds (R1 in C7 implies R1 in F1())) by L336;
reconsider D22 = C7 as (Subset of F1()) by L337 , TARSKI:def 3;
L338: (for B13 being (Element of F1()) holds (ex B14 being (Element of F2()) st S2[ B13 , B14 ]))
proof
let C8 being (Element of F1());
L339: ((for B15 being (Element of F2()) holds (not P1[ C8 , B15 ])) implies (ex B16 being (Element of F2()) st (((ex B17 being (Element of F2()) st P1[ C8 , B17 ]) implies P1[ C8 , B16 ]) & ((for B18 being (Element of F2()) holds (not P1[ C8 , B18 ])) implies B16 = D21))));
thus L340: thesis by L339;
end;
consider C9 being (Function of F1() , F2()) such that L341: (for B19 being (Element of F1()) holds S2[ B19 , ( C9 . B19 ) ]) from FUNCT_2:sch 3(L338);
reconsider D23 = ( C9 | D22 ) as (PartFunc of F1() , F2());
take D23;
L342: ( dom C9 ) = F1() by FUNCT_2:def 1;
thus L343: (for B20 being (Element of F1()) holds (B20 in ( dom D23 ) iff (ex B21 being (Element of F2()) st P1[ B20 , B21 ])))
proof
let C10 being (Element of F1());
L344: ( dom D23 ) c= D22 by RELAT_1:58;
thus L345: (C10 in ( dom D23 ) implies (ex B22 being (Element of F2()) st P1[ C10 , B22 ])) by L344 , L336;
assume L346: (ex B23 being (Element of F2()) st P1[ C10 , B23 ]);
L347: C10 in D22 by L346 , L336;
L348: C10 in ( ( dom C9 ) /\ D22 ) by L347 , L342 , XBOOLE_0:def 4;
thus L349: thesis by L348 , RELAT_1:61;
end;

let C11 being (Element of F1());
assume L350: C11 in ( dom D23 );
L351: ( dom D23 ) c= D22 by RELAT_1:58;
L352: (ex B24 being (Element of F2()) st P1[ C11 , B24 ]) by L351 , L336 , L350;
L353: P1[ C11 , ( C9 . C11 ) ] by L352 , L341;
L354: P1[ C11 , ( (D23 qua Function) . C11 ) ] by L353 , L350 , FUNCT_1:47;
thus L355: thesis by L354 , L350 , PARTFUN1:def 6;
end;
scheme LambdaPFD { F3 , F4() -> non  empty set , F5(set) -> (Element of F4()) , P2[set] } : (ex B25 being (PartFunc of F3() , F4()) st ((for B26 being (Element of F3()) holds (B26 in ( dom B25 ) iff P2[ B26 ])) & (for B27 being (Element of F3()) holds (B27 in ( dom B25 ) implies ( B25 /. B27 ) = F5(B27)))))
proof
defpred S3[ set , set ] means (P2[ $1 ] & $2 = F5($1));
consider C12 being (PartFunc of F3() , F4()) such that L356: (for B28 being (Element of F3()) holds (B28 in ( dom C12 ) iff (ex B29 being (Element of F4()) st S3[ B28 , B29 ]))) and L357: (for B30 being (Element of F3()) holds (B30 in ( dom C12 ) implies S3[ B30 , ( C12 /. B30 ) ])) from PartFuncExD;
take C12;
thus L358: (for B31 being (Element of F3()) holds (B31 in ( dom C12 ) iff P2[ B31 ]))
proof
let C13 being (Element of F3());
thus L359: (C13 in ( dom C12 ) implies P2[ C13 ])
proof
assume L360: C13 in ( dom C12 );
L361: (ex B32 being (Element of F4()) st (P2[ C13 ] & B32 = F5(C13))) by L360 , L356;
thus L362: thesis by L361;
end;

assume L363: P2[ C13 ];
L364: (ex B33 being (Element of F4()) st (P2[ C13 ] & B33 = F5(C13))) by L363;
thus L365: thesis by L364 , L356;
end;

thus L366: thesis by L357;
end;
scheme UnPartFuncD { F6 , F7() -> non  empty set , F8() -> set , F9(set) -> (Element of F7()) } : (for B34 , B35 being (PartFunc of F6() , F7()) holds ((( dom B34 ) = F8() & (for B36 being (Element of F6()) holds (B36 in ( dom B34 ) implies ( B34 /. B36 ) = F9(B36))) & ( dom B35 ) = F8() & (for B37 being (Element of F6()) holds (B37 in ( dom B35 ) implies ( B35 /. B37 ) = F9(B37)))) implies B34 = B35))
proof
let C14 , C15 being (PartFunc of F6() , F7());
assume that
L367: ( dom C14 ) = F8()
and
L368: (for B38 being (Element of F6()) holds (B38 in ( dom C14 ) implies ( C14 /. B38 ) = F9(B38)))
and
L369: ( dom C15 ) = F8()
and
L370: (for B39 being (Element of F6()) holds (B39 in ( dom C15 ) implies ( C15 /. B39 ) = F9(B39)));
L371:
now
let C16 being (Element of F6());
assume L372: C16 in ( dom C14 );
thus L373: ( C14 /. C16 ) = F9(C16) by L372 , L368
.= ( C15 /. C16 ) by L367 , L369 , L370 , L372;
end;
thus L374: thesis by L371 , L367 , L369 , L1;
end;
definition
let R5 being non  empty set;
let R6 being non  empty set;
let R8 being (Subset of R5);
let R14 being (Element of R6);
redefine func R8 --> R14 -> (PartFunc of R5 , R6);

coherence
proof
L375: ( dom ( R8 --> R14 ) ) = R8 by FUNCOP_1:13;
thus L376: thesis by L375 , RELSET_1:7;
end;
end;
theorem
L378: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R8 being (Subset of R5) holds (for R11 being (Element of R5) holds (for R14 being (Element of R6) holds (R11 in R8 implies ( ( R8 --> R14 ) /. R11 ) = R14))))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R8 being (Subset of R5);
let R11 being (Element of R5);
let R14 being (Element of R6);
assume L379: R11 in R8;
L380: (( dom ( R8 --> R14 ) ) = R8 & ( (( R8 --> R14 ) qua Function) . R11 ) = R14) by L379 , FUNCOP_1:7 , FUNCOP_1:13;
thus L381: thesis by L380 , L379 , PARTFUN1:def 6;
end;
theorem
L382: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R14 being (Element of R6) holds (for R18 being (PartFunc of R5 , R6) holds ((for R11 being (Element of R5) holds (R11 in ( dom R18 ) implies ( R18 /. R11 ) = R14)) implies R18 = ( ( dom R18 ) --> R14 ))))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R14 being (Element of R6);
let R18 being (PartFunc of R5 , R6);
assume L383: (for R11 being (Element of R5) holds (R11 in ( dom R18 ) implies ( R18 /. R11 ) = R14));
L384:
now
let R1 being set;
assume L385: R1 in ( dom R18 );
reconsider D24 = R1 as (Element of R5) by L385;
L386: ( R18 /. D24 ) = R14 by L383 , L385;
thus L387: ( (R18 qua Function) . R1 ) = R14 by L386 , L385 , PARTFUN1:def 6;
end;
thus L388: thesis by L384 , FUNCOP_1:11;
end;
theorem
L389: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R7 being non  empty set holds (for R10 being (Subset of R7) holds (for R11 being (Element of R5) holds (for R18 being (PartFunc of R5 , R6) holds (R11 in ( dom R18 ) implies ( R18 * ( R10 --> R11 ) ) = ( R10 --> ( R18 /. R11 ) ))))))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R7 being non  empty set;
let R10 being (Subset of R7);
let R11 being (Element of R5);
let R18 being (PartFunc of R5 , R6);
assume L390: R11 in ( dom R18 );
L391: ( R18 * ( R10 --> R11 ) ) = ( R10 --> ( (R18 qua Function) . R11 ) ) by L390 , FUNCOP_1:17;
thus L392: thesis by L391 , L390 , PARTFUN1:def 6;
end;
theorem
L393: (for R5 being non  empty set holds (for R8 being (Subset of R5) holds (( id R8 ) is  total iff R8 = R5)))
proof
let R5 being non  empty set;
let R8 being (Subset of R5);
thus L394: (( id R8 ) is  total implies R8 = R5)
proof
assume L395: ( id R8 ) is  total;
L396: ( dom ( id R8 ) ) = R5 by L395 , PARTFUN1:def 2;
thus L397: thesis by L396 , RELAT_1:45;
end;

assume L398: R8 = R5;
L399: ( dom ( id R8 ) ) = R5 by L398 , RELAT_1:45;
thus L400: thesis by L399 , PARTFUN1:def 2;
end;
theorem
L401: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R8 being (Subset of R5) holds (for R14 being (Element of R6) holds (( R8 --> R14 ) is  total implies R8 <> ( {} ))))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R8 being (Subset of R5);
let R14 being (Element of R6);
assume that
L402: ( R8 --> R14 ) is  total
and
L403: R8 = ( {} );
L404: ( dom ( R8 --> R14 ) ) = R5 by L402 , PARTFUN1:def 2;
thus L405: contradiction by L404 , L403 , FUNCOP_1:10;
end;
theorem
L406: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R8 being (Subset of R5) holds (for R14 being (Element of R6) holds (( R8 --> R14 ) is  total iff R8 = R5)))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R8 being (Subset of R5);
let R14 being (Element of R6);
thus L407: (( R8 --> R14 ) is  total implies R8 = R5)
proof
assume L408: ( R8 --> R14 ) is  total;
L409: ( dom ( R8 --> R14 ) ) = R5 by L408 , PARTFUN1:def 2;
thus L410: thesis by L409 , FUNCOP_1:13;
end;

assume L411: R8 = R5;
L412: ( dom ( R8 --> R14 ) ) = R5 by L411 , FUNCOP_1:13;
thus L413: thesis by L412 , PARTFUN1:def 2;
end;
definition
let R5 being non  empty set;
let R6 being non  empty set;
let R18 being (PartFunc of R5 , R6);
redefine attr R18 is  constant
means
(ex R14 being (Element of R6) st (for R11 being (Element of R5) holds (R11 in ( dom R18 ) implies ( R18 . R11 ) = R14)));
compatibility
proof
thus L414: (R18 is  constant implies (ex R14 being (Element of R6) st (for R11 being (Element of R5) holds (R11 in ( dom R18 ) implies ( R18 . R11 ) = R14))))
proof
assume L415: R18 is  constant;
per cases ;
suppose L416: ( dom R18 ) = ( {} );

set D25 = the (Element of R6);
take D25;
thus L417: thesis by L416;
end;
suppose L418: ( dom R18 ) <> ( {} );

consider C17 being set such that L419: C17 in ( dom R18 ) by L418 , XBOOLE_0:def 1;
reconsider D26 = C17 as (Element of R5) by L419;
take D27 = ( R18 /. D26 );
let R11 being (Element of R5);
assume L420: R11 in ( dom R18 );
thus L421: ( R18 . R11 ) = ( R18 . D26 ) by L420 , L415 , L419 , FUNCT_1:def 10
.= D27 by L419 , PARTFUN1:def 6;
end;
end;

given R14 being (Element of R6) such that
L423: (for R11 being (Element of R5) holds (R11 in ( dom R18 ) implies ( R18 . R11 ) = R14));

let C18 , C19 being set;
assume that
L424: C18 in ( dom R18 )
and
L425: C19 in ( dom R18 );
thus L426: ( R18 . C18 ) = R14 by L423 , L424
.= ( R18 . C19 ) by L423 , L425;
end;
end;
theorem
L428: (for R3 being set holds (for R5 being non  empty set holds (for R6 being non  empty set holds (for R18 being (PartFunc of R5 , R6) holds (( R18 | R3 ) is  constant iff (ex R14 being (Element of R6) st (for R11 being (Element of R5) holds (R11 in ( R3 /\ ( dom R18 ) ) implies ( R18 /. R11 ) = R14))))))))
proof
let R3 being set;
let R5 being non  empty set;
let R6 being non  empty set;
let R18 being (PartFunc of R5 , R6);
thus L429: (( R18 | R3 ) is  constant implies (ex R14 being (Element of R6) st (for R11 being (Element of R5) holds (R11 in ( R3 /\ ( dom R18 ) ) implies ( R18 /. R11 ) = R14))))
proof
given R14 being (Element of R6) such that
L430: (for R11 being (Element of R5) holds (R11 in ( dom ( R18 | R3 ) ) implies ( ( R18 | R3 ) . R11 ) = R14));

take R14;
let R11 being (Element of R5);
assume L431: R11 in ( R3 /\ ( dom R18 ) );
L432: R11 in ( dom ( R18 | R3 ) ) by L431 , RELAT_1:61;
L433: R11 in ( dom R18 ) by L431 , XBOOLE_0:def 4;
thus L434: ( R18 /. R11 ) = ( R18 . R11 ) by L433 , PARTFUN1:def 6
.= ( ( R18 | R3 ) . R11 ) by L432 , FUNCT_1:47
.= R14 by L430 , L432;
end;

given R14 being (Element of R6) such that
L435: (for R11 being (Element of R5) holds (R11 in ( R3 /\ ( dom R18 ) ) implies ( R18 /. R11 ) = R14));

take R14;
let R11 being (Element of R5);
assume L436: R11 in ( dom ( R18 | R3 ) );
L437: R11 in ( R3 /\ ( dom R18 ) ) by L436 , RELAT_1:61;
L438: R11 in ( dom R18 ) by L437 , XBOOLE_0:def 4;
thus L439: ( ( R18 | R3 ) . R11 ) = ( R18 . R11 ) by L436 , FUNCT_1:47
.= ( R18 /. R11 ) by L438 , PARTFUN1:def 6
.= R14 by L435 , L437;
end;
theorem
L440: (for R3 being set holds (for R5 being non  empty set holds (for R6 being non  empty set holds (for R18 being (PartFunc of R5 , R6) holds (( R18 | R3 ) is  constant iff (for R12 being (Element of R5) holds (for R13 being (Element of R5) holds ((R12 in ( R3 /\ ( dom R18 ) ) & R13 in ( R3 /\ ( dom R18 ) )) implies ( R18 /. R12 ) = ( R18 /. R13 )))))))))
proof
let R3 being set;
let R5 being non  empty set;
let R6 being non  empty set;
let R18 being (PartFunc of R5 , R6);
thus L441: (( R18 | R3 ) is  constant implies (for R12 being (Element of R5) holds (for R13 being (Element of R5) holds ((R12 in ( R3 /\ ( dom R18 ) ) & R13 in ( R3 /\ ( dom R18 ) )) implies ( R18 /. R12 ) = ( R18 /. R13 )))))
proof
assume L442: ( R18 | R3 ) is  constant;
consider R14 being (Element of R6) such that L443: (for R11 being (Element of R5) holds (R11 in ( R3 /\ ( dom R18 ) ) implies ( R18 /. R11 ) = R14)) by L442 , L428;
let R12 being (Element of R5);
let R13 being (Element of R5);
assume that
L444: R12 in ( R3 /\ ( dom R18 ) )
and
L445: R13 in ( R3 /\ ( dom R18 ) );
L446: ( R18 /. R12 ) = R14 by L443 , L444;
thus L447: thesis by L446 , L443 , L445;
end;

assume L448: (for R12 being (Element of R5) holds (for R13 being (Element of R5) holds ((R12 in ( R3 /\ ( dom R18 ) ) & R13 in ( R3 /\ ( dom R18 ) )) implies ( R18 /. R12 ) = ( R18 /. R13 ))));
L449:
now
per cases ;
suppose L450: ( R3 /\ ( dom R18 ) ) = ( {} );

L451:
now
set D28 = the (Element of R6);
take D29 = D28;
let R11 being (Element of R5);
thus L452: (R11 in ( R3 /\ ( dom R18 ) ) implies ( R18 /. R11 ) = D29) by L450;
end;
thus L453: thesis by L451 , L428;
end;
suppose L454: ( R3 /\ ( dom R18 ) ) <> ( {} );

set D30 = the (Element of ( R3 /\ ( dom R18 ) ));
L455: D30 in ( dom R18 ) by L454 , XBOOLE_0:def 4;
reconsider D31 = D30 as (Element of R5) by L455;
L456: (for R11 being (Element of R5) holds (R11 in ( R3 /\ ( dom R18 ) ) implies ( R18 /. R11 ) = ( R18 /. D31 ))) by L448;
thus L457: thesis by L456 , L428;
end;
end;
thus L459: thesis by L449;
end;
theorem
L460: (for R3 being set holds (for R5 being non  empty set holds (for R6 being non  empty set holds (for R18 being (PartFunc of R5 , R6) holds (R3 meets ( dom R18 ) implies (( R18 | R3 ) is  constant iff (ex R14 being (Element of R6) st ( rng ( R18 | R3 ) ) = { R14 })))))))
proof
let R3 being set;
let R5 being non  empty set;
let R6 being non  empty set;
let R18 being (PartFunc of R5 , R6);
assume L461: ( R3 /\ ( dom R18 ) ) <> ( {} );
thus L462: (( R18 | R3 ) is  constant implies (ex R14 being (Element of R6) st ( rng ( R18 | R3 ) ) = { R14 }))
proof
assume L463: ( R18 | R3 ) is  constant;
consider R14 being (Element of R6) such that L464: (for R11 being (Element of R5) holds (R11 in ( R3 /\ ( dom R18 ) ) implies ( R18 /. R11 ) = R14)) by L463 , L428;
take R14;
thus L465: ( rng ( R18 | R3 ) ) c= { R14 }
proof
let R1 being set;
assume L466: R1 in ( rng ( R18 | R3 ) );
consider R2 being set such that L467: R2 in ( dom ( R18 | R3 ) ) and L468: ( (( R18 | R3 ) qua Function) . R2 ) = R1 by L466 , FUNCT_1:def 3;
reconsider D32 = R2 as (Element of R5) by L467;
L469: ( dom ( R18 | R3 ) ) = ( R3 /\ ( dom R18 ) ) by RELAT_1:61;
L470: R14 = ( R18 /. D32 ) by L469 , L464 , L467
.= ( ( R18 | R3 ) /. D32 ) by L467 , L181
.= R1 by L467 , L468 , PARTFUN1:def 6;
thus L471: thesis by L470 , TARSKI:def 1;
end;

thus L472: { R14 } c= ( rng ( R18 | R3 ) )
proof
set D33 = the (Element of ( R3 /\ ( dom R18 ) ));
L473: D33 in ( dom R18 ) by L461 , XBOOLE_0:def 4;
reconsider D34 = D33 as (Element of R5) by L473;
let R1 being set;
assume that
L474: R1 in { R14 };
L475: ( dom ( R18 | R3 ) ) = ( R3 /\ ( dom R18 ) ) by RELAT_1:61;
L476: ( ( R18 | R3 ) /. D34 ) = ( R18 /. D34 ) by L475 , L461 , L181
.= R14 by L461 , L464
.= R1 by L474 , TARSKI:def 1;
thus L477: thesis by L476 , L461 , L475 , L10;
end;

end;

given R14 being (Element of R6) such that
L473: ( rng ( R18 | R3 ) ) = { R14 };

take R14;
let R11 being (Element of R5);
assume L474: R11 in ( dom ( R18 | R3 ) );
L475: ( ( R18 | R3 ) /. R11 ) in { R14 } by L474 , L473 , L10;
L476: ( ( R18 | R3 ) . R11 ) in { R14 } by L475 , L474 , PARTFUN1:def 6;
thus L477: thesis by L476 , TARSKI:def 1;
end;
theorem
L478: (for R3 being set holds (for R4 being set holds (for R5 being non  empty set holds (for R6 being non  empty set holds (for R18 being (PartFunc of R5 , R6) holds ((( R18 | R3 ) is  constant & R4 c= R3) implies ( R18 | R4 ) is  constant))))))
proof
let R3 being set;
let R4 being set;
let R5 being non  empty set;
let R6 being non  empty set;
let R18 being (PartFunc of R5 , R6);
assume that
L479: ( R18 | R3 ) is  constant
and
L480: R4 c= R3;
consider R14 being (Element of R6) such that L481: (for R11 being (Element of R5) holds (R11 in ( R3 /\ ( dom R18 ) ) implies ( R18 /. R11 ) = R14)) by L479 , L428;
L482:
now
let R11 being (Element of R5);
assume L483: R11 in ( R4 /\ ( dom R18 ) );
L484: (R11 in R4 & R11 in ( dom R18 )) by L483 , XBOOLE_0:def 4;
L485: R11 in ( R3 /\ ( dom R18 ) ) by L484 , L480 , XBOOLE_0:def 4;
thus L486: ( R18 /. R11 ) = R14 by L485 , L481;
end;
thus L487: thesis by L482 , L428;
end;
theorem
L488: (for R3 being set holds (for R5 being non  empty set holds (for R6 being non  empty set holds (for R18 being (PartFunc of R5 , R6) holds (R3 misses ( dom R18 ) implies ( R18 | R3 ) is  constant)))))
proof
let R3 being set;
let R5 being non  empty set;
let R6 being non  empty set;
let R18 being (PartFunc of R5 , R6);
assume L489: ( R3 /\ ( dom R18 ) ) = ( {} );
L490:
now
set D35 = the (Element of R6);
take D36 = D35;
let R11 being (Element of R5);
thus L491: (R11 in ( R3 /\ ( dom R18 ) ) implies ( R18 /. R11 ) = D36) by L489;
end;
thus L492: thesis by L490 , L428;
end;
theorem
L493: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R8 being (Subset of R5) holds (for R14 being (Element of R6) holds (for R18 being (PartFunc of R5 , R6) holds (( R18 | R8 ) = ( ( dom ( R18 | R8 ) ) --> R14 ) implies ( R18 | R8 ) is  constant))))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R8 being (Subset of R5);
let R14 being (Element of R6);
let R18 being (PartFunc of R5 , R6);
assume L494: ( R18 | R8 ) = ( ( dom ( R18 | R8 ) ) --> R14 );
L495:
now
let R11 being (Element of R5);
assume L496: R11 in ( R8 /\ ( dom R18 ) );
L497: R11 in ( dom ( R18 | R8 ) ) by L496 , RELAT_1:61;
L498: ( ( R18 | R8 ) /. R11 ) = R14 by L497 , L494 , L378;
thus L499: ( R18 /. R11 ) = R14 by L498 , L497 , L181;
end;
thus L500: thesis by L495 , L428;
end;
theorem
L501: (for R1 being set holds (for R5 being non  empty set holds (for R6 being non  empty set holds (for R18 being (PartFunc of R5 , R6) holds ( R18 | { R1 } ) is  constant))))
proof
let R1 being set;
let R5 being non  empty set;
let R6 being non  empty set;
let R18 being (PartFunc of R5 , R6);
L502:
now
per cases ;
suppose L503: ( { R1 } /\ ( dom R18 ) ) = ( {} );

L504: { R1 } misses ( dom R18 ) by L503 , XBOOLE_0:def 7;
thus L505: thesis by L504 , L488;
end;
suppose L506: ( { R1 } /\ ( dom R18 ) ) <> ( {} );

set D37 = the (Element of ( { R1 } /\ ( dom R18 ) ));
L507: (D37 in { R1 } & D37 in ( dom R18 )) by L506 , XBOOLE_0:def 4;
reconsider D38 = R1 as (Element of R5) by L507 , TARSKI:def 1;
L508:
now
take D39 = ( R18 /. D38 );
let R11 being (Element of R5);
assume L509: R11 in ( { R1 } /\ ( dom R18 ) );
L510: R11 in { R1 } by L509 , XBOOLE_0:def 4;
thus L511: ( R18 /. R11 ) = ( R18 /. D38 ) by L510 , TARSKI:def 1;
end;
thus L512: thesis by L508 , L428;
end;
end;
thus L514: thesis by L502;
end;
theorem
L515: (for R3 being set holds (for R4 being set holds (for R5 being non  empty set holds (for R6 being non  empty set holds (for R18 being (PartFunc of R5 , R6) holds ((( R18 | R3 ) is  constant & ( R18 | R4 ) is  constant & ( R3 /\ R4 ) meets ( dom R18 )) implies ( R18 | ( R3 \/ R4 ) ) is  constant))))))
proof
let R3 being set;
let R4 being set;
let R5 being non  empty set;
let R6 being non  empty set;
let R18 being (PartFunc of R5 , R6);
assume that
L516: ( R18 | R3 ) is  constant
and
L517: ( R18 | R4 ) is  constant
and
L518: ( ( R3 /\ R4 ) /\ ( dom R18 ) ) <> ( {} );
consider R15 being (Element of R6) such that L519: (for R11 being (Element of R5) holds (R11 in ( R3 /\ ( dom R18 ) ) implies ( R18 /. R11 ) = R15)) by L516 , L428;
set D40 = the (Element of ( ( R3 /\ R4 ) /\ ( dom R18 ) ));
L520: D40 in ( R3 /\ R4 ) by L518 , XBOOLE_0:def 4;
L521: D40 in ( dom R18 ) by L518 , XBOOLE_0:def 4;
reconsider D41 = D40 as (Element of R5) by L521;
L522: D41 in R4 by L520 , XBOOLE_0:def 4;
L523: D41 in ( R4 /\ ( dom R18 ) ) by L522 , L521 , XBOOLE_0:def 4;
consider R16 being (Element of R6) such that L524: (for R11 being (Element of R5) holds (R11 in ( R4 /\ ( dom R18 ) ) implies ( R18 /. R11 ) = R16)) by L517 , L428;
L525: D41 in R3 by L520 , XBOOLE_0:def 4;
L526: D41 in ( R3 /\ ( dom R18 ) ) by L525 , L521 , XBOOLE_0:def 4;
L527: ( R18 /. D41 ) = R15 by L526 , L519;
L528: R15 = R16 by L527 , L524 , L523;
take R15;
let R11 being (Element of R5);
assume L529: R11 in ( dom ( R18 | ( R3 \/ R4 ) ) );
L530: R11 in ( ( R3 \/ R4 ) /\ ( dom R18 ) ) by L529 , RELAT_1:61;
L531: R11 in ( dom R18 ) by L530 , XBOOLE_0:def 4;
L532: R11 in ( R3 \/ R4 ) by L530 , XBOOLE_0:def 4;
L533:
now
per cases  by L532 , XBOOLE_0:def 3;
suppose L534: R11 in R3;

L535: R11 in ( R3 /\ ( dom R18 ) ) by L534 , L531 , XBOOLE_0:def 4;
thus L536: ( R18 /. R11 ) = R15 by L535 , L519;
end;
suppose L537: R11 in R4;

L538: R11 in ( R4 /\ ( dom R18 ) ) by L537 , L531 , XBOOLE_0:def 4;
thus L539: ( R18 /. R11 ) = R15 by L538 , L524 , L528;
end;
end;
L541: ( ( R18 | ( R3 \/ R4 ) ) /. R11 ) = R15 by L533 , L530 , L200;
thus L542: thesis by L541 , L529 , PARTFUN1:def 6;
end;
theorem
L543: (for R3 being set holds (for R4 being set holds (for R5 being non  empty set holds (for R6 being non  empty set holds (for R18 being (PartFunc of R5 , R6) holds (( R18 | R4 ) is  constant implies ( ( R18 | R3 ) | R4 ) is  constant))))))
proof
let R3 being set;
let R4 being set;
let R5 being non  empty set;
let R6 being non  empty set;
let R18 being (PartFunc of R5 , R6);
assume L544: ( R18 | R4 ) is  constant;
consider R14 being (Element of R6) such that L545: (for R11 being (Element of R5) holds (R11 in ( R4 /\ ( dom R18 ) ) implies ( R18 /. R11 ) = R14)) by L544 , L428;
take R14;
let R11 being (Element of R5);
assume L546: R11 in ( dom ( ( R18 | R3 ) | R4 ) );
L547: R11 in ( R4 /\ ( dom ( R18 | R3 ) ) ) by L546 , RELAT_1:61;
L548: R11 in R4 by L547 , XBOOLE_0:def 4;
L549: R11 in ( dom ( R18 | R3 ) ) by L547 , XBOOLE_0:def 4;
L550: R11 in ( ( dom R18 ) /\ R3 ) by L549 , RELAT_1:61;
L551: R11 in ( dom R18 ) by L550 , XBOOLE_0:def 4;
L552: R11 in ( R4 /\ ( dom R18 ) ) by L551 , L548 , XBOOLE_0:def 4;
L553: ( R18 /. R11 ) = R14 by L552 , L545;
L554: ( ( R18 | R3 ) /. R11 ) = R14 by L553 , L549 , L181;
L555: ( ( ( R18 | R3 ) | R4 ) /. R11 ) = R14 by L554 , L547 , L200;
thus L556: thesis by L555 , L546 , PARTFUN1:def 6;
end;
theorem
L557: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R8 being (Subset of R5) holds (for R14 being (Element of R6) holds ( ( R8 --> R14 ) | R8 ) is  constant))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R8 being (Subset of R5);
let R14 being (Element of R6);
take R14;
let R11 being (Element of R5);
assume L558: R11 in ( dom ( ( R8 --> R14 ) | R8 ) );
L559: R11 in ( R8 /\ ( dom ( R8 --> R14 ) ) ) by L558 , RELAT_1:61;
L560: R11 in R8 by L559 , XBOOLE_0:def 4;
L561: ( ( R8 --> R14 ) /. R11 ) = R14 by L560 , L378;
L562: ( ( ( R8 --> R14 ) | R8 ) /. R11 ) = R14 by L561 , L559 , L200;
thus L563: thesis by L562 , L558 , PARTFUN1:def 6;
end;
theorem
L564: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R18 being (PartFunc of R5 , R6) holds (for R20 being (PartFunc of R5 , R6) holds ((( dom R18 ) c= ( dom R20 ) & (for R11 being (Element of R5) holds (R11 in ( dom R18 ) implies ( R18 /. R11 ) = ( R20 /. R11 )))) implies R18 c= R20)))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R18 being (PartFunc of R5 , R6);
let R20 being (PartFunc of R5 , R6);
assume that
L565: ( dom R18 ) c= ( dom R20 )
and
L566: (for R11 being (Element of R5) holds (R11 in ( dom R18 ) implies ( R18 /. R11 ) = ( R20 /. R11 )));
L567:
now
let R1 being set;
assume L568: R1 in ( dom R18 );
reconsider D42 = R1 as (Element of R5) by L568;
L569: ( R18 /. D42 ) = ( R20 /. D42 ) by L566 , L568;
L570: ( (R18 qua Function) . R1 ) = ( R20 /. D42 ) by L569 , L568 , PARTFUN1:def 6;
thus L571: ( (R18 qua Function) . R1 ) = ( (R20 qua Function) . R1 ) by L570 , L565 , L568 , PARTFUN1:def 6;
end;
thus L572: thesis by L567 , L565 , GRFUNC_1:2;
end;
theorem
L573: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R11 being (Element of R5) holds (for R14 being (Element of R6) holds (for R18 being (PartFunc of R5 , R6) holds ((R11 in ( dom R18 ) & R14 = ( R18 /. R11 )) iff [ R11 , R14 ] in R18))))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R11 being (Element of R5);
let R14 being (Element of R6);
let R18 being (PartFunc of R5 , R6);
thus L574: ((R11 in ( dom R18 ) & R14 = ( R18 /. R11 )) implies [ R11 , R14 ] in R18)
proof
assume that
L575: R11 in ( dom R18 )
and
L576: R14 = ( R18 /. R11 );
L577: R14 = ( (R18 qua Function) . R11 ) by L575 , L576 , PARTFUN1:def 6;
thus L578: thesis by L577 , L575 , FUNCT_1:1;
end;

assume L579: [ R11 , R14 ] in R18;
L580: (R11 in ( dom R18 ) & R14 = ( (R18 qua Function) . R11 )) by L579 , FUNCT_1:1;
thus L581: thesis by L580 , PARTFUN1:def 6;
end;
theorem
L582: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R7 being non  empty set holds (for R11 being (Element of R5) holds (for R17 being (Element of R7) holds (for R18 being (PartFunc of R5 , R6) holds (for R22 being (PartFunc of R6 , R7) holds ([ R11 , R17 ] in ( R22 * R18 ) implies ([ R11 , ( R18 /. R11 ) ] in R18 & [ ( R18 /. R11 ) , R17 ] in R22)))))))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R7 being non  empty set;
let R11 being (Element of R5);
let R17 being (Element of R7);
let R18 being (PartFunc of R5 , R6);
let R22 being (PartFunc of R6 , R7);
assume L583: [ R11 , R17 ] in ( R22 * R18 );
L584: [ ( (R18 qua Function) . R11 ) , R17 ] in R22 by L583 , GRFUNC_1:4;
L585: [ R11 , ( (R18 qua Function) . R11 ) ] in R18 by L583 , GRFUNC_1:4;
L586: R11 in ( dom R18 ) by L585 , FUNCT_1:1;
thus L587: thesis by L586 , L585 , L584 , PARTFUN1:def 6;
end;
theorem
L588: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R11 being (Element of R5) holds (for R14 being (Element of R6) holds (for R18 being (PartFunc of R5 , R6) holds (R18 = { [ R11 , R14 ] } implies ( R18 /. R11 ) = R14))))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R11 being (Element of R5);
let R14 being (Element of R6);
let R18 being (PartFunc of R5 , R6);
assume L589: R18 = { [ R11 , R14 ] };
L590: [ R11 , R14 ] in R18 by L589 , TARSKI:def 1;
L591: R11 in ( dom R18 ) by L590 , FUNCT_1:1;
L592: ( (R18 qua Function) . R11 ) = R14 by L589 , GRFUNC_1:6;
thus L593: thesis by L592 , L591 , PARTFUN1:def 6;
end;
theorem
L594: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R11 being (Element of R5) holds (for R18 being (PartFunc of R5 , R6) holds (( dom R18 ) = { R11 } implies R18 = { [ R11 , ( R18 /. R11 ) ] })))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R11 being (Element of R5);
let R18 being (PartFunc of R5 , R6);
assume L595: ( dom R18 ) = { R11 };
L596: (R11 in ( dom R18 ) & R18 = { [ R11 , ( (R18 qua Function) . R11 ) ] }) by L595 , GRFUNC_1:7 , TARSKI:def 1;
thus L597: thesis by L596 , PARTFUN1:def 6;
end;
theorem
L598: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R11 being (Element of R5) holds (for R18 being (PartFunc of R5 , R6) holds (for R19 being (PartFunc of R5 , R6) holds (for R20 being (PartFunc of R5 , R6) holds ((R19 = ( R18 /\ R20 ) & R11 in ( dom R19 )) implies (( R19 /. R11 ) = ( R18 /. R11 ) & ( R19 /. R11 ) = ( R20 /. R11 )))))))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R11 being (Element of R5);
let R18 being (PartFunc of R5 , R6);
let R19 being (PartFunc of R5 , R6);
let R20 being (PartFunc of R5 , R6);
assume that
L599: R19 = ( R18 /\ R20 )
and
L600: R11 in ( dom R19 );
L601: ( (R19 qua Function) . R11 ) = ( (R20 qua Function) . R11 ) by L599 , L600 , GRFUNC_1:11;
L602: ( R19 /. R11 ) = ( (R20 qua Function) . R11 ) by L601 , L600 , PARTFUN1:def 6;
L603: [ R11 , ( (R19 qua Function) . R11 ) ] in R19 by L600 , FUNCT_1:1;
L604: [ R11 , ( (R19 qua Function) . R11 ) ] in R18 by L603 , L599 , XBOOLE_0:def 4;
L605: R11 in ( dom R18 ) by L604 , FUNCT_1:1;
L606: [ R11 , ( (R19 qua Function) . R11 ) ] in R20 by L599 , L603 , XBOOLE_0:def 4;
L607: R11 in ( dom R20 ) by L606 , FUNCT_1:1;
L608: ( (R19 qua Function) . R11 ) = ( (R18 qua Function) . R11 ) by L599 , L600 , GRFUNC_1:11;
L609: ( R19 /. R11 ) = ( (R18 qua Function) . R11 ) by L608 , L600 , PARTFUN1:def 6;
thus L610: thesis by L609 , L605 , L607 , L602 , PARTFUN1:def 6;
end;
theorem
L611: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R11 being (Element of R5) holds (for R18 being (PartFunc of R5 , R6) holds (for R19 being (PartFunc of R5 , R6) holds (for R20 being (PartFunc of R5 , R6) holds ((R11 in ( dom R18 ) & R19 = ( R18 \/ R20 )) implies ( R19 /. R11 ) = ( R18 /. R11 ))))))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R11 being (Element of R5);
let R18 being (PartFunc of R5 , R6);
let R19 being (PartFunc of R5 , R6);
let R20 being (PartFunc of R5 , R6);
assume that
L612: R11 in ( dom R18 )
and
L613: R19 = ( R18 \/ R20 );
L614: [ R11 , ( (R18 qua Function) . R11 ) ] in R18 by L612 , FUNCT_1:1;
L615: [ R11 , ( (R18 qua Function) . R11 ) ] in R19 by L614 , L613 , XBOOLE_0:def 3;
L616: R11 in ( dom R19 ) by L615 , FUNCT_1:1;
L617: ( (R19 qua Function) . R11 ) = ( (R18 qua Function) . R11 ) by L612 , L613 , GRFUNC_1:15;
L618: ( R19 /. R11 ) = ( (R18 qua Function) . R11 ) by L617 , L616 , PARTFUN1:def 6;
thus L619: thesis by L618 , L612 , PARTFUN1:def 6;
end;
theorem
L620: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R11 being (Element of R5) holds (for R18 being (PartFunc of R5 , R6) holds (for R19 being (PartFunc of R5 , R6) holds (for R20 being (PartFunc of R5 , R6) holds ((R11 in ( dom R20 ) & R19 = ( R18 \/ R20 )) implies ( R19 /. R11 ) = ( R20 /. R11 ))))))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R11 being (Element of R5);
let R18 being (PartFunc of R5 , R6);
let R19 being (PartFunc of R5 , R6);
let R20 being (PartFunc of R5 , R6);
assume that
L621: R11 in ( dom R20 )
and
L622: R19 = ( R18 \/ R20 );
L623: [ R11 , ( (R20 qua Function) . R11 ) ] in R20 by L621 , FUNCT_1:1;
L624: [ R11 , ( (R20 qua Function) . R11 ) ] in R19 by L623 , L622 , XBOOLE_0:def 3;
L625: R11 in ( dom R19 ) by L624 , FUNCT_1:1;
L626: ( (R19 qua Function) . R11 ) = ( (R20 qua Function) . R11 ) by L621 , L622 , GRFUNC_1:15;
L627: ( R19 /. R11 ) = ( (R20 qua Function) . R11 ) by L626 , L625 , PARTFUN1:def 6;
thus L628: thesis by L627 , L621 , PARTFUN1:def 6;
end;
theorem
L629: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R11 being (Element of R5) holds (for R18 being (PartFunc of R5 , R6) holds (for R19 being (PartFunc of R5 , R6) holds (for R20 being (PartFunc of R5 , R6) holds ((R11 in ( dom R19 ) & R19 = ( R18 \/ R20 )) implies (( R19 /. R11 ) = ( R18 /. R11 ) or ( R19 /. R11 ) = ( R20 /. R11 )))))))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R11 being (Element of R5);
let R18 being (PartFunc of R5 , R6);
let R19 being (PartFunc of R5 , R6);
let R20 being (PartFunc of R5 , R6);
assume that
L630: R11 in ( dom R19 )
and
L631: R19 = ( R18 \/ R20 );
L632: [ R11 , ( R19 /. R11 ) ] in R19 by L630 , L573;
L633: ([ R11 , ( R19 /. R11 ) ] in R18 or [ R11 , ( R19 /. R11 ) ] in R20) by L632 , L631 , XBOOLE_0:def 3;
L634:
now
per cases  by L633 , FUNCT_1:1;
suppose L635: R11 in ( dom R18 );

L636: [ R11 , ( R18 /. R11 ) ] in R18 by L635 , L573;
L637: [ R11 , ( R18 /. R11 ) ] in R19 by L636 , L631 , XBOOLE_0:def 3;
thus L638: thesis by L637 , L573;
end;
suppose L639: R11 in ( dom R20 );

L640: [ R11 , ( R20 /. R11 ) ] in R20 by L639 , L573;
L641: [ R11 , ( R20 /. R11 ) ] in R19 by L640 , L631 , XBOOLE_0:def 3;
thus L642: thesis by L641 , L573;
end;
end;
thus L644: thesis by L634;
end;
theorem
L645: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R8 being (Subset of R5) holds (for R11 being (Element of R5) holds (for R18 being (PartFunc of R5 , R6) holds ((R11 in ( dom R18 ) & R11 in R8) iff [ R11 , ( R18 /. R11 ) ] in ( R18 | R8 )))))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R8 being (Subset of R5);
let R11 being (Element of R5);
let R18 being (PartFunc of R5 , R6);
thus L646: ((R11 in ( dom R18 ) & R11 in R8) implies [ R11 , ( R18 /. R11 ) ] in ( R18 | R8 ))
proof
assume that
L647: R11 in ( dom R18 )
and
L648: R11 in R8;
L649: [ R11 , ( (R18 qua Function) . R11 ) ] in ( R18 | R8 ) by L647 , L648 , GRFUNC_1:22;
thus L650: thesis by L649 , L647 , PARTFUN1:def 6;
end;

assume L651: [ R11 , ( R18 /. R11 ) ] in ( R18 | R8 );
L652: R11 in ( dom ( R18 | R8 ) ) by L651 , FUNCT_1:1;
L653: R11 in ( ( dom R18 ) /\ R8 ) by L652 , RELAT_1:61;
thus L654: thesis by L653 , XBOOLE_0:def 4;
end;
theorem
L655: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R9 being (Subset of R6) holds (for R11 being (Element of R5) holds (for R18 being (PartFunc of R5 , R6) holds ((R11 in ( dom R18 ) & ( R18 /. R11 ) in R9) iff [ R11 , ( R18 /. R11 ) ] in ( R9 |` R18 )))))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R9 being (Subset of R6);
let R11 being (Element of R5);
let R18 being (PartFunc of R5 , R6);
thus L656: ((R11 in ( dom R18 ) & ( R18 /. R11 ) in R9) implies [ R11 , ( R18 /. R11 ) ] in ( R9 |` R18 ))
proof
assume that
L657: R11 in ( dom R18 )
and
L658: ( R18 /. R11 ) in R9;
L659: ( (R18 qua Function) . R11 ) in R9 by L657 , L658 , PARTFUN1:def 6;
L660: [ R11 , ( (R18 qua Function) . R11 ) ] in ( R9 |` R18 ) by L659 , L657 , GRFUNC_1:24;
thus L661: thesis by L660 , L657 , PARTFUN1:def 6;
end;

assume L662: [ R11 , ( R18 /. R11 ) ] in ( R9 |` R18 );
L663: R11 in ( dom ( R9 |` R18 ) ) by L662 , FUNCT_1:1;
L664: (R11 in ( dom R18 ) & ( (R18 qua Function) . R11 ) in R9) by L663 , FUNCT_1:54;
thus L665: thesis by L664 , PARTFUN1:def 6;
end;
theorem
L666: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R9 being (Subset of R6) holds (for R11 being (Element of R5) holds (for R18 being (PartFunc of R5 , R6) holds (R11 in ( R18 " R9 ) iff ([ R11 , ( R18 /. R11 ) ] in R18 & ( R18 /. R11 ) in R9)))))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R9 being (Subset of R6);
let R11 being (Element of R5);
let R18 being (PartFunc of R5 , R6);
thus L667: (R11 in ( R18 " R9 ) implies ([ R11 , ( R18 /. R11 ) ] in R18 & ( R18 /. R11 ) in R9))
proof
assume L668: R11 in ( R18 " R9 );
L669: ( (R18 qua Function) . R11 ) in R9 by L668 , GRFUNC_1:26;
L670: [ R11 , ( (R18 qua Function) . R11 ) ] in R18 by L668 , GRFUNC_1:26;
L671: R11 in ( dom R18 ) by L670 , FUNCT_1:1;
thus L672: thesis by L671 , L670 , L669 , PARTFUN1:def 6;
end;

assume that
L673: [ R11 , ( R18 /. R11 ) ] in R18
and
L674: ( R18 /. R11 ) in R9;
L675: R11 in ( dom R18 ) by L673 , L573;
thus L676: thesis by L675 , L674 , L292;
end;
theorem
L677: (for R3 being set holds (for R5 being non  empty set holds (for R6 being non  empty set holds (for R18 being (PartFunc of R5 , R6) holds (( R18 | R3 ) is  constant iff (ex R14 being (Element of R6) st (for R11 being (Element of R5) holds (R11 in ( R3 /\ ( dom R18 ) ) implies ( R18 . R11 ) = R14))))))))
proof
let R3 being set;
let R5 being non  empty set;
let R6 being non  empty set;
let R18 being (PartFunc of R5 , R6);
thus L678:now
assume L679: ( R18 | R3 ) is  constant;
consider R14 being (Element of R6) such that L680: (for R11 being (Element of R5) holds (R11 in ( R3 /\ ( dom R18 ) ) implies ( R18 /. R11 ) = R14)) by L679 , L428;
take D43 = R14;
let R11 being (Element of R5);
assume L681: R11 in ( R3 /\ ( dom R18 ) );
L682: R11 in ( dom R18 ) by L681 , XBOOLE_0:def 4;
thus L683: ( R18 . R11 ) = ( R18 /. R11 ) by L682 , PARTFUN1:def 6
.= D43 by L680 , L681;
end;
given R14 being (Element of R6) such that
L684: (for R11 being (Element of R5) holds (R11 in ( R3 /\ ( dom R18 ) ) implies ( R18 . R11 ) = R14));

take R14;
let R11 being (Element of R5);
assume L685: R11 in ( dom ( R18 | R3 ) );
L686: R11 in ( R3 /\ ( dom R18 ) ) by L685 , RELAT_1:61;
L687: R11 in ( dom R18 ) by L686 , XBOOLE_0:def 4;
thus L688: ( ( R18 | R3 ) . R11 ) = ( ( R18 | R3 ) /. R11 ) by L685 , PARTFUN1:def 6
.= ( R18 /. R11 ) by L686 , L200
.= ( R18 . R11 ) by L687 , PARTFUN1:def 6
.= R14 by L684 , L686;
end;
theorem
L689: (for R3 being set holds (for R5 being non  empty set holds (for R6 being non  empty set holds (for R18 being (PartFunc of R5 , R6) holds (( R18 | R3 ) is  constant iff (for R12 being (Element of R5) holds (for R13 being (Element of R5) holds ((R12 in ( R3 /\ ( dom R18 ) ) & R13 in ( R3 /\ ( dom R18 ) )) implies ( R18 . R12 ) = ( R18 . R13 )))))))))
proof
let R3 being set;
let R5 being non  empty set;
let R6 being non  empty set;
let R18 being (PartFunc of R5 , R6);
thus L690: (( R18 | R3 ) is  constant implies (for R12 being (Element of R5) holds (for R13 being (Element of R5) holds ((R12 in ( R3 /\ ( dom R18 ) ) & R13 in ( R3 /\ ( dom R18 ) )) implies ( R18 . R12 ) = ( R18 . R13 )))))
proof
assume L691: ( R18 | R3 ) is  constant;
consider R14 being (Element of R6) such that L692: (for R11 being (Element of R5) holds (R11 in ( R3 /\ ( dom R18 ) ) implies ( R18 . R11 ) = R14)) by L691 , L677;
let R12 being (Element of R5);
let R13 being (Element of R5);
assume that
L693: R12 in ( R3 /\ ( dom R18 ) )
and
L694: R13 in ( R3 /\ ( dom R18 ) );
L695: ( R18 . R12 ) = R14 by L692 , L693;
thus L696: thesis by L695 , L692 , L694;
end;

assume L697: (for R12 being (Element of R5) holds (for R13 being (Element of R5) holds ((R12 in ( R3 /\ ( dom R18 ) ) & R13 in ( R3 /\ ( dom R18 ) )) implies ( R18 . R12 ) = ( R18 . R13 ))));
L698:
now
per cases ;
suppose L699: ( R3 /\ ( dom R18 ) ) = ( {} );

L700:
now
set D44 = the (Element of R6);
take D45 = D44;
let R11 being (Element of R5);
thus L701: (R11 in ( R3 /\ ( dom R18 ) ) implies ( R18 . R11 ) = D45) by L699;
end;
thus L702: thesis by L700 , L677;
end;
suppose L703: ( R3 /\ ( dom R18 ) ) <> ( {} );

set D46 = the (Element of ( R3 /\ ( dom R18 ) ));
L704:
now
let R11 being (Element of R5);
L705: D46 in ( dom R18 ) by L703 , XBOOLE_0:def 4;
assume L706: R11 in ( R3 /\ ( dom R18 ) );
thus L707: ( R18 . R11 ) = ( R18 . D46 ) by L706 , L697 , L705
.= ( R18 /. D46 ) by L705 , PARTFUN1:def 6;
end;
thus L708: thesis by L704 , L677;
end;
end;
thus L710: thesis by L698;
end;
theorem
L711: (for R3 being set holds (for R5 being non  empty set holds (for R6 being non  empty set holds (for R14 being (Element of R6) holds (for R18 being (PartFunc of R5 , R6) holds (R14 in ( R18 .: R3 ) implies (ex R11 being (Element of R5) st (R11 in ( dom R18 ) & R11 in R3 & R14 = ( R18 . R11 )))))))))
proof
let R3 being set;
let R5 being non  empty set;
let R6 being non  empty set;
let R14 being (Element of R6);
let R18 being (PartFunc of R5 , R6);
assume L712: R14 in ( R18 .: R3 );
consider R1 being set such that L713: R1 in ( dom R18 ) and L714: (R1 in R3 & R14 = ( (R18 qua Function) . R1 )) by L712 , FUNCT_1:def 6;
reconsider D47 = R1 as (Element of R5) by L713;
take D47;
thus L715: thesis by L713 , L714;
end;
theorem
L716: (for R5 being non  empty set holds (for R6 being non  empty set holds (for R11 being (Element of R5) holds (for R14 being (Element of R6) holds (for R18 being (PartFunc of R5 , R6) holds (R18 is  one-to-one implies ((R14 in ( rng R18 ) & R11 = ( ( R18 " ) . R14 )) iff (R11 in ( dom R18 ) & R14 = ( R18 . R11 )))))))))
proof
let R5 being non  empty set;
let R6 being non  empty set;
let R11 being (Element of R5);
let R14 being (Element of R6);
let R18 being (PartFunc of R5 , R6);
L717: ( R18 " ) = ( (R18 qua Function) " );
assume L718: R18 is  one-to-one;
thus L719: thesis by L718 , L717 , FUNCT_1:32;
end;
theorem
L720: (for R4 being set holds (for B40 , B41 being R4 -valued Function holds (B40 c= B41 implies (for R1 being set holds (R1 in ( dom B40 ) implies ( B40 /. R1 ) = ( B41 /. R1 ))))))
proof
let R4 being set;
let C20 , C21 being R4 -valued Function;
assume L721: C20 c= C21;
L722: ( dom C20 ) c= ( dom C21 ) by L721 , GRFUNC_1:2;
let R1 being set;
assume L723: R1 in ( dom C20 );
L724: ( C20 . R1 ) = ( C21 . R1 ) by L723 , L721 , GRFUNC_1:2;
L725: ( C20 /. R1 ) = ( (C21 qua Function) . R1 ) by L724 , L723 , PARTFUN1:def 6;
thus L726: thesis by L725 , L722 , L723 , PARTFUN1:def 6;
end;
