:: Nilpotent Groups
::  by Dailu Li , Xiquan Liang and Yanhong Men
::
:: Received November 10, 2009
:: Copyright (c) 2009-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies REALSET1, FINSEQ_1, GROUP_3, FUNCT_1, RLSUB_1, GROUP_2, RELAT_1,
      GROUP_6, XBOOLE_0, QC_LANG1, GROUP_1, GRAPH_1, ARYTM_1, ARYTM_3,
      ZFMISC_1, NUMBERS, SUBSET_1, XXREAL_1, STRUCT_0, NEWTON, TARSKI, NAT_1,
      PARTFUN1, PRE_TOPC, XXREAL_0, CARD_1, GROUP_4, NATTRA_1, CARD_3, BINOP_1,
      GROUP_5, GRSOLV_1, GRNILP_1, BCIALG_2, ALGSTR_0;
 notations TARSKI, XBOOLE_0, SUBSET_1, XCMPLX_0, RELAT_1, FUNCT_1, RELSET_1,
      FUNCT_2, STRUCT_0, ALGSTR_0, PARTFUN1, FINSEQ_1, ZFMISC_1, ORDINAL1,
      XXREAL_0, NUMBERS, REALSET1, DOMAIN_1, GROUP_1, GROUP_3, GR_CY_1,
      GRSOLV_1, GROUP_4, GROUP_5, GROUP_2, GROUP_6;
 constructors BINOP_1, BINARITH, GROUP_4, GROUP_5, GRSOLV_1, RELSET_1, GR_CY_1,
      REALSET1;
 registrations XBOOLE_0, SUBSET_1, ORDINAL1, NUMBERS, XXREAL_0, XREAL_0, INT_1,
      FINSEQ_1, STRUCT_0, GROUP_1, GROUP_2, GROUP_3, GROUP_6, GR_CY_1,
      ALGSTR_0, RELSET_1;
 requirements NUMERALS, REAL, SUBSET, BOOLE, ARITHM;
 definitions GROUP_2, GROUP_6, TARSKI, FINSEQ_1, GROUP_4, ALGSTR_0, GROUP_3,
      GROUP_5, GRSOLV_1, REALSET1;
 theorems FINSEQ_1, GROUP_2, GROUP_3, TARSKI, GROUP_5, GROUP_6, FINSEQ_2,
      FUNCT_2, RELAT_1, XBOOLE_0, XBOOLE_1, NAT_1, GROUP_1, PARTFUN1, FINSEQ_3,
      SUBSET_1, GROUP_4, FUNCT_1, GRSOLV_1, STRUCT_0, GROUP_11, XTUPLE_0;
 schemes XBOOLE_0, FUNCT_1, FINSEQ_1, FINSEQ_2;

begin
theorem
L1: (for R3 being Group holds (for R9 being (Element of R3) holds (for R10 being (Element of R3) holds ( R9 |^ R10 ) = ( R9 * [. R9 , R10 .] ))))
proof
let R3 being Group;
let R9 being (Element of R3);
let R10 being (Element of R3);
L2: ( R9 * [. R9 , R10 .] ) = ( R9 * ( ( ( R9 " ) * ( R10 " ) ) * ( R9 * R10 ) ) ) by GROUP_1:def 3
.= ( R9 * ( ( R9 " ) * ( ( R10 " ) * ( R9 * R10 ) ) ) ) by GROUP_1:def 3
.= ( ( R9 * ( R9 " ) ) * ( ( R10 " ) * ( R9 * R10 ) ) ) by GROUP_1:def 3
.= ( ( 1_ R3 ) * ( ( R10 " ) * ( R9 * R10 ) ) ) by GROUP_1:def 5
.= ( ( R10 " ) * ( R9 * R10 ) ) by GROUP_1:def 4
.= ( ( ( R10 " ) * R9 ) * R10 ) by GROUP_1:def 3;
thus L3: thesis by L2;
end;
theorem
L4: (for R3 being Group holds (for R9 being (Element of R3) holds (for R10 being (Element of R3) holds ( [. R9 , R10 .] " ) = ( [. R9 , ( R10 " ) .] |^ R10 ))))
proof
let R3 being Group;
let R9 being (Element of R3);
let R10 being (Element of R3);
thus L5: ( [. R9 , R10 .] " ) = ( ( ( ( R9 " ) * ( R10 " ) ) * ( R9 * R10 ) ) " ) by GROUP_1:def 3
.= ( ( ( R9 * R10 ) " ) * ( ( ( R9 " ) * ( R10 " ) ) " ) ) by GROUP_1:17
.= ( ( ( R10 " ) * ( R9 " ) ) * ( ( ( R9 " ) * ( R10 " ) ) " ) ) by GROUP_1:17
.= ( ( ( R10 " ) * ( R9 " ) ) * ( ( ( R10 " ) " ) * ( ( R9 " ) " ) ) ) by GROUP_1:17
.= ( ( R10 " ) * ( ( R9 " ) * ( R10 * R9 ) ) ) by GROUP_1:def 3
.= ( ( R10 " ) * ( ( ( R9 " ) * R10 ) * R9 ) ) by GROUP_1:def 3
.= ( ( ( R10 " ) * ( ( ( R9 " ) * R10 ) * R9 ) ) * ( 1_ R3 ) ) by GROUP_1:def 4
.= ( ( ( R10 " ) * ( ( ( R9 " ) * R10 ) * R9 ) ) * ( ( R10 " ) * R10 ) ) by GROUP_1:def 5
.= ( ( ( ( R10 " ) * ( ( ( R9 " ) * R10 ) * R9 ) ) * ( R10 " ) ) * R10 ) by GROUP_1:def 3
.= ( [. R9 , ( R10 " ) .] |^ R10 ) by GROUP_1:def 3;
end;
theorem
L6: (for R3 being Group holds (for R9 being (Element of R3) holds (for R10 being (Element of R3) holds ( [. R9 , R10 .] " ) = ( [. ( R9 " ) , R10 .] |^ R9 ))))
proof
let R3 being Group;
let R9 being (Element of R3);
let R10 being (Element of R3);
thus L7: ( [. R9 , R10 .] " ) = ( ( ( ( R9 " ) * ( R10 " ) ) * ( R9 * R10 ) ) " ) by GROUP_1:def 3
.= ( ( ( R9 * R10 ) " ) * ( ( ( R9 " ) * ( R10 " ) ) " ) ) by GROUP_1:17
.= ( ( ( R10 " ) * ( R9 " ) ) * ( ( ( R9 " ) * ( R10 " ) ) " ) ) by GROUP_1:17
.= ( ( ( R10 " ) * ( R9 " ) ) * ( ( ( R10 " ) " ) * ( ( R9 " ) " ) ) ) by GROUP_1:17
.= ( ( R10 " ) * ( ( R9 " ) * ( R10 * R9 ) ) ) by GROUP_1:def 3
.= ( ( R10 " ) * ( ( ( R9 " ) * R10 ) * R9 ) ) by GROUP_1:def 3
.= ( ( 1_ R3 ) * ( ( R10 " ) * ( ( ( R9 " ) * R10 ) * R9 ) ) ) by GROUP_1:def 4
.= ( ( ( R9 " ) * R9 ) * ( ( R10 " ) * ( ( ( R9 " ) * R10 ) * R9 ) ) ) by GROUP_1:def 5
.= ( ( R9 " ) * ( R9 * ( ( R10 " ) * ( ( ( R9 " ) * R10 ) * R9 ) ) ) ) by GROUP_1:def 3
.= ( ( R9 " ) * ( ( R9 * ( R10 " ) ) * ( ( ( R9 " ) * R10 ) * R9 ) ) ) by GROUP_1:def 3
.= ( ( R9 " ) * ( ( ( R9 * ( R10 " ) ) * ( ( R9 " ) * R10 ) ) * R9 ) ) by GROUP_1:def 3
.= ( ( ( R9 " ) * ( ( R9 * ( R10 " ) ) * ( ( R9 " ) * R10 ) ) ) * R9 ) by GROUP_1:def 3
.= ( [. ( R9 " ) , R10 .] |^ R9 ) by GROUP_5:16;
end;
theorem
L8: (for R3 being Group holds (for R9 being (Element of R3) holds (for R10 being (Element of R3) holds ( ( [. R9 , ( R10 " ) .] |^ R10 ) " ) = ( [. ( R10 " ) , R9 .] |^ R10 ))))
proof
let R3 being Group;
let R9 being (Element of R3);
let R10 being (Element of R3);
thus L9: ( ( [. R9 , ( R10 " ) .] |^ R10 ) " ) = ( ( [. R9 , ( R10 " ) .] " ) |^ R10 ) by GROUP_3:26
.= ( [. ( R10 " ) , R9 .] |^ R10 ) by GROUP_5:22;
end;
theorem
L10: (for R3 being Group holds (for R9 being (Element of R3) holds (for R10 being (Element of R3) holds (for R11 being (Element of R3) holds ( [. R9 , ( R10 " ) , R11 .] |^ R10 ) = [. ( [. R9 , ( R10 " ) .] |^ R10 ) , ( R11 |^ R10 ) .]))))
proof
let R3 being Group;
let R9 being (Element of R3);
let R10 being (Element of R3);
let R11 being (Element of R3);
L11: ( [. R9 , ( R10 " ) , R11 .] |^ R10 ) = ( ( ( R10 " ) * ( ( ( ( ( [. R9 , ( R10 " ) .] " ) * ( 1_ R3 ) ) * ( R11 " ) ) * [. R9 , ( R10 " ) .] ) * R11 ) ) * R10 ) by GROUP_1:def 4
.= ( ( ( R10 " ) * ( ( ( ( ( [. R9 , ( R10 " ) .] " ) * ( R10 * ( R10 " ) ) ) * ( R11 " ) ) * [. R9 , ( R10 " ) .] ) * R11 ) ) * R10 ) by GROUP_1:def 5
.= ( ( ( R10 " ) * ( ( ( ( ( ( [. R9 , ( R10 " ) .] " ) * R10 ) * ( R10 " ) ) * ( R11 " ) ) * [. R9 , ( R10 " ) .] ) * R11 ) ) * R10 ) by GROUP_1:def 3
.= ( ( ( R10 " ) * ( ( ( ( ( [. R9 , ( R10 " ) .] " ) * R10 ) * ( R10 " ) ) * ( R11 " ) ) * ( [. R9 , ( R10 " ) .] * R11 ) ) ) * R10 ) by GROUP_1:def 3
.= ( ( ( R10 " ) * ( ( ( ( [. R9 , ( R10 " ) .] " ) * R10 ) * ( R10 " ) ) * ( ( R11 " ) * ( [. R9 , ( R10 " ) .] * R11 ) ) ) ) * R10 ) by GROUP_1:def 3
.= ( ( ( R10 " ) * ( ( ( [. R9 , ( R10 " ) .] " ) * R10 ) * ( ( R10 " ) * ( ( R11 " ) * ( [. R9 , ( R10 " ) .] * R11 ) ) ) ) ) * R10 ) by GROUP_1:def 3
.= ( ( ( ( R10 " ) * ( ( [. R9 , ( R10 " ) .] " ) * R10 ) ) * ( ( R10 " ) * ( ( R11 " ) * ( [. R9 , ( R10 " ) .] * R11 ) ) ) ) * R10 ) by GROUP_1:def 3
.= ( ( ( ( [. R9 , ( R10 " ) .] " ) |^ R10 ) * ( ( R10 " ) * ( ( R11 " ) * ( [. R9 , ( R10 " ) .] * R11 ) ) ) ) * R10 ) by GROUP_1:def 3
.= ( ( ( [. R9 , ( R10 " ) .] " ) |^ R10 ) * ( ( ( R10 " ) * ( ( R11 " ) * ( [. R9 , ( R10 " ) .] * R11 ) ) ) * R10 ) ) by GROUP_1:def 3
.= ( ( ( [. R9 , ( R10 " ) .] " ) |^ R10 ) * ( ( [. R9 , ( R10 " ) .] |^ R11 ) |^ R10 ) ) by GROUP_1:def 3
.= ( ( [. ( R10 " ) , R9 .] |^ R10 ) * ( ( [. R9 , ( R10 " ) .] |^ R11 ) |^ R10 ) ) by GROUP_5:22
.= ( ( [. ( R10 " ) , R9 .] |^ R10 ) * ( [. R9 , ( R10 " ) .] |^ ( R11 * R10 ) ) ) by GROUP_3:24;
L12: [. ( [. R9 , ( R10 " ) .] |^ R10 ) , ( R11 |^ R10 ) .] = ( ( ( ( [. ( R10 " ) , R9 .] |^ R10 ) * ( ( R11 |^ R10 ) " ) ) * ( [. R9 , ( R10 " ) .] |^ R10 ) ) * ( R11 |^ R10 ) ) by L8
.= ( ( ( ( [. ( R10 " ) , R9 .] |^ R10 ) * ( ( R11 " ) |^ R10 ) ) * ( [. R9 , ( R10 " ) .] |^ R10 ) ) * ( R11 |^ R10 ) ) by GROUP_3:26
.= ( ( ( ( [. ( R10 " ) , R9 .] |^ R10 ) * ( ( ( R10 " ) * ( R11 " ) ) * R10 ) ) * ( ( ( R10 " ) * [. R9 , ( R10 " ) .] ) * R10 ) ) * ( ( R10 " ) * ( R11 * R10 ) ) ) by GROUP_1:def 3
.= ( ( ( [. ( R10 " ) , R9 .] |^ R10 ) * ( ( ( R10 " ) * ( R11 " ) ) * R10 ) ) * ( ( ( ( R10 " ) * [. R9 , ( R10 " ) .] ) * R10 ) * ( ( R10 " ) * ( R11 * R10 ) ) ) ) by GROUP_1:def 3
.= ( ( ( [. ( R10 " ) , R9 .] |^ R10 ) * ( ( ( R10 " ) * ( R11 " ) ) * R10 ) ) * ( ( ( R10 " ) * [. R9 , ( R10 " ) .] ) * ( R10 * ( ( R10 " ) * ( R11 * R10 ) ) ) ) ) by GROUP_1:def 3
.= ( ( ( [. ( R10 " ) , R9 .] |^ R10 ) * ( ( ( R10 " ) * ( R11 " ) ) * R10 ) ) * ( ( ( R10 " ) * [. R9 , ( R10 " ) .] ) * ( ( R10 * ( R10 " ) ) * ( R11 * R10 ) ) ) ) by GROUP_1:def 3
.= ( ( ( [. ( R10 " ) , R9 .] |^ R10 ) * ( ( ( R10 " ) * ( R11 " ) ) * R10 ) ) * ( ( ( R10 " ) * [. R9 , ( R10 " ) .] ) * ( ( 1_ R3 ) * ( R11 * R10 ) ) ) ) by GROUP_1:def 5
.= ( ( ( [. ( R10 " ) , R9 .] |^ R10 ) * ( ( ( R10 " ) * ( R11 " ) ) * R10 ) ) * ( ( ( R10 " ) * [. R9 , ( R10 " ) .] ) * ( R11 * R10 ) ) ) by GROUP_1:def 4
.= ( ( [. ( R10 " ) , R9 .] |^ R10 ) * ( ( ( ( R10 " ) * ( R11 " ) ) * R10 ) * ( ( ( R10 " ) * [. R9 , ( R10 " ) .] ) * ( R11 * R10 ) ) ) ) by GROUP_1:def 3
.= ( ( [. ( R10 " ) , R9 .] |^ R10 ) * ( ( ( R10 " ) * ( R11 " ) ) * ( R10 * ( ( ( R10 " ) * [. R9 , ( R10 " ) .] ) * ( R11 * R10 ) ) ) ) ) by GROUP_1:def 3
.= ( ( [. ( R10 " ) , R9 .] |^ R10 ) * ( ( ( R10 " ) * ( R11 " ) ) * ( ( R10 * ( ( R10 " ) * [. R9 , ( R10 " ) .] ) ) * ( R11 * R10 ) ) ) ) by GROUP_1:def 3
.= ( ( [. ( R10 " ) , R9 .] |^ R10 ) * ( ( ( R10 " ) * ( R11 " ) ) * ( ( ( R10 * ( R10 " ) ) * [. R9 , ( R10 " ) .] ) * ( R11 * R10 ) ) ) ) by GROUP_1:def 3
.= ( ( [. ( R10 " ) , R9 .] |^ R10 ) * ( ( ( R10 " ) * ( R11 " ) ) * ( ( ( 1_ R3 ) * [. R9 , ( R10 " ) .] ) * ( R11 * R10 ) ) ) ) by GROUP_1:def 5
.= ( ( [. ( R10 " ) , R9 .] |^ R10 ) * ( ( ( R10 " ) * ( R11 " ) ) * ( [. R9 , ( R10 " ) .] * ( R11 * R10 ) ) ) ) by GROUP_1:def 4
.= ( ( [. ( R10 " ) , R9 .] |^ R10 ) * ( ( ( ( R10 " ) * ( R11 " ) ) * [. R9 , ( R10 " ) .] ) * ( R11 * R10 ) ) ) by GROUP_1:def 3
.= ( ( [. ( R10 " ) , R9 .] |^ R10 ) * ( [. R9 , ( R10 " ) .] |^ ( R11 * R10 ) ) ) by GROUP_1:17;
thus L13: thesis by L12 , L11;
end;
theorem
L14: (for R3 being Group holds (for R9 being (Element of R3) holds (for R10 being (Element of R3) holds ( [. R9 , ( R10 " ) .] |^ R10 ) = [. R10 , R9 .])))
proof
let R3 being Group;
let R9 being (Element of R3);
let R10 being (Element of R3);
thus L15: ( [. R9 , ( R10 " ) .] |^ R10 ) = ( ( R10 " ) * ( ( ( ( ( R9 " ) * ( ( R10 " ) " ) ) * R9 ) * ( R10 " ) ) * R10 ) ) by GROUP_1:def 3
.= ( ( R10 " ) * ( ( ( ( R9 " ) * ( ( R10 " ) " ) ) * R9 ) * ( ( R10 " ) * R10 ) ) ) by GROUP_1:def 3
.= ( ( R10 " ) * ( ( ( ( R9 " ) * ( ( R10 " ) " ) ) * R9 ) * ( 1_ R3 ) ) ) by GROUP_1:def 5
.= ( ( R10 " ) * ( ( ( R9 " ) * ( ( R10 " ) " ) ) * R9 ) ) by GROUP_1:def 4
.= ( ( R10 " ) * ( ( R9 " ) * ( R10 * R9 ) ) ) by GROUP_1:def 3
.= ( ( ( R10 " ) * ( R9 " ) ) * ( R10 * R9 ) ) by GROUP_1:def 3
.= ( ( ( ( R10 " ) * ( R9 " ) ) * R10 ) * R9 ) by GROUP_1:def 3
.= [. R10 , R9 .];
end;
theorem
L16: (for R3 being Group holds (for R9 being (Element of R3) holds (for R10 being (Element of R3) holds (for R11 being (Element of R3) holds ( [. R9 , ( R10 " ) , R11 .] |^ R10 ) = [. R10 , R9 , ( R11 |^ R10 ) .]))))
proof
let R3 being Group;
let R9 being (Element of R3);
let R10 being (Element of R3);
let R11 being (Element of R3);
L17: ( [. R9 , ( R10 " ) , R11 .] |^ R10 ) = [. ( [. R9 , ( R10 " ) .] |^ R10 ) , ( R11 |^ R10 ) .] by L10;
thus L18: thesis by L17 , L14;
end;
theorem
L19: (for R3 being Group holds (for R9 being (Element of R3) holds (for R10 being (Element of R3) holds (for R11 being (Element of R3) holds ( ( [. R9 , R10 , ( R11 |^ R9 ) .] * [. R11 , R9 , ( R10 |^ R11 ) .] ) * [. R10 , R11 , ( R9 |^ R10 ) .] ) = ( 1_ R3 )))))
proof
let R3 being Group;
let R9 being (Element of R3);
let R10 being (Element of R3);
let R11 being (Element of R3);
L20: ([. R9 , R10 , ( R11 |^ R9 ) .] = ( [. R10 , ( R9 " ) , R11 .] |^ R9 ) & [. R11 , R9 , ( R10 |^ R11 ) .] = ( [. R9 , ( R11 " ) , R10 .] |^ R11 ) & [. R10 , R11 , ( R9 |^ R10 ) .] = ( [. R11 , ( R10 " ) , R9 .] |^ R10 )) by L16;
thus L21: thesis by L20 , GROUP_5:46;
end;
theorem
L22: (for R3 being Group holds (for R4 being (Subgroup of R3) holds (for R5 being (Subgroup of R3) holds [. R4 , R5 .] is (Subgroup of [. R5 , R4 .]))))
proof
let R3 being Group;
let R4 being (Subgroup of R3);
let R5 being (Subgroup of R3);
L23:
now
let R9 being (Element of R3);
assume L24: R9 in [. R4 , R5 .];
consider R12 being (FinSequence of (the carrier of R3)), R14 being (FinSequence of ( INT )) such that L25: ( len R12 ) = ( len R14 ) and L26: ( rng R12 ) c= ( commutators (R4 , R5) ) and L27: R9 = ( Product ( R12 |^ R14 ) ) by L24 , GROUP_5:61;
deffunc H1(Nat) = ( ( R12 /. $1 ) " );
consider R13 being (FinSequence of (the carrier of R3)) such that L28: ( len R13 ) = ( len R12 ) and L29: (for B1 being Nat holds (B1 in ( dom R13 ) implies ( R13 . B1 ) = H1(B1))) from FINSEQ_2:sch 1;
L30: ( dom R13 ) = ( Seg ( len R12 ) ) by L28 , FINSEQ_1:def 3;
deffunc H2(Nat) = ( @ ( - ( @ ( R14 /. $1 ) ) ) );
consider R15 being (FinSequence of ( INT )) such that L31: ( len R15 ) = ( len R12 ) and L32: (for B2 being Nat holds (B2 in ( dom R15 ) implies ( R15 . B2 ) = H2(B2))) from FINSEQ_2:sch 1;
L33: ( dom R12 ) = ( Seg ( len R12 ) ) by FINSEQ_1:def 3;
L34: ( dom R13 ) = ( dom R12 ) by L28 , FINSEQ_3:29;
L35: ( dom R15 ) = ( dom R12 ) by L31 , FINSEQ_3:29;
set D1 = ( R13 |^ R15 );
L36: (( len D1 ) = ( len R12 ) & ( len ( R12 |^ R14 ) ) = ( len R12 )) by L28 , GROUP_4:def 3;
L37: ( dom ( R12 |^ R14 ) ) = ( Seg ( len R12 ) ) by L36 , FINSEQ_1:def 3;
L38:
now
let C1 being Nat;
assume L39: C1 in ( dom ( R12 |^ R14 ) );
L40: C1 in ( dom R12 ) by L39 , L37 , FINSEQ_1:def 3;
L41: (( D1 . C1 ) = ( ( R13 /. C1 ) |^ ( @ ( R15 /. C1 ) ) ) & ( R13 /. C1 ) = ( R13 . C1 ) & ( R13 . C1 ) = ( ( R12 /. C1 ) " ) & ( R15 . C1 ) = ( R15 /. C1 ) & ( @ ( R15 /. C1 ) ) = ( R15 /. C1 ) & ( R15 . C1 ) = ( @ ( - ( @ ( R14 /. C1 ) ) ) ) & ( @ ( - ( @ ( R14 /. C1 ) ) ) ) = ( - ( @ ( R14 /. C1 ) ) )) by L29 , L32 , L33 , L34 , L35 , L39 , L37 , GROUP_4:def 3 , PARTFUN1:def 6;
L42: ( D1 . C1 ) = ( ( ( ( R12 /. C1 ) " ) |^ ( @ ( R14 /. C1 ) ) ) " ) by L41 , GROUP_1:36
.= ( ( ( ( R12 /. C1 ) |^ ( @ ( R14 /. C1 ) ) ) " ) " ) by GROUP_1:37
.= ( ( R12 /. C1 ) |^ ( @ ( R14 /. C1 ) ) );
thus L43: ( ( R12 |^ R14 ) . C1 ) = ( D1 . C1 ) by L42 , L40 , GROUP_4:def 3;
end;
L44: D1 = ( R12 |^ R14 ) by L38 , L36 , FINSEQ_2:9;
L45: ( rng R13 ) c= ( commutators (R5 , R4) )
proof
let R1 being set;
assume L46: R1 in ( rng R13 );
consider R2 being set such that L47: R2 in ( dom R13 ) and L48: ( R13 . R2 ) = R1 by L46 , FUNCT_1:def 3;
reconsider D2 = R2 as (Element of ( NAT )) by L47;
L49: D2 in ( dom R12 ) by L28 , L47 , FINSEQ_3:29;
L50: ( R12 . D2 ) in ( rng R12 ) by L49 , FUNCT_1:def 3;
consider R10 being (Element of R3), R11 being (Element of R3) such that L51: ( R12 . D2 ) = [. R10 , R11 .] and L52: (R10 in R4 & R11 in R5) by L50 , L26 , GROUP_5:52;
L53: (R1 = ( ( R12 /. D2 ) " ) & ( R12 /. D2 ) = ( R12 . D2 )) by L47 , L29 , L33 , L48 , L30 , PARTFUN1:def 6;
L54: R1 = [. R11 , R10 .] by L53 , L51 , GROUP_5:22;
thus L55: thesis by L54 , L52 , GROUP_5:52;
end;
thus L56: R9 in [. R5 , R4 .] by L45 , L27 , L28 , L31 , L44 , GROUP_5:61;
end;
thus L57: thesis by L23 , GROUP_2:58;
end;
definition
let R3 being Group;
let R4 being (Subgroup of R3);
let R5 being (Subgroup of R3);
redefine func [.R4 , R5 .];

commutativity
proof
let R4 being (Subgroup of R3);
let R5 being (Subgroup of R3);
L58: ([. R4 , R5 .] is (Subgroup of [. R5 , R4 .]) & [. R5 , R4 .] is (Subgroup of [. R4 , R5 .])) by L22;
thus L59: thesis by L58 , GROUP_2:55;
end;
end;
theorem
L61: (for R3 being Group holds (for R4 being (Subgroup of R3) holds (for R5 being (Subgroup of R3) holds (R5 is (Subgroup of R4) implies ( commutators (R4 , R5) ) c= ( carr R4 )))))
proof
let R3 being Group;
let R4 being (Subgroup of R3);
let R5 being (Subgroup of R3);
assume L62: R5 is (Subgroup of R4);
let R1 being set;
assume L63: R1 in ( commutators (R4 , R5) );
consider R9 being (Element of R3), R10 being (Element of R3) such that L64: (R1 = [. R9 , R10 .] & R9 in R4 & R10 in R5) by L63 , GROUP_5:52;
L65: R10 in R4 by L62 , L64 , GROUP_2:40;
L66: ( R9 * R10 ) in R4 by L65 , L64 , GROUP_2:50;
L67: (( R9 " ) in R4 & ( R10 " ) in R4) by L64 , L65 , GROUP_2:51;
L68: ( ( R9 " ) * ( R10 " ) ) in R4 by L67 , GROUP_2:50;
L69: ( ( ( R9 " ) * ( R10 " ) ) * ( R9 * R10 ) ) in R4 by L68 , L66 , GROUP_2:50;
L70: [. R9 , R10 .] = ( ( ( R9 " ) * ( R10 " ) ) * ( R9 * R10 ) ) by GROUP_1:def 3;
thus L71: thesis by L70 , L64 , L69 , STRUCT_0:def 5;
end;
L72: (for R3 being Group holds (for R4 being (Subgroup of R3) holds ( gr ( carr R4 ) ) is (Subgroup of R4)))
proof
let R3 being Group;
let R4 being (Subgroup of R3);
set D3 = multMagma (# (the carrier of R4) , (the multF of R4) #);
L73: ((the carrier of D3) c= (the carrier of R3) & (the multF of D3) = ( (the multF of R3) || (the carrier of R4) )) by GROUP_2:def 5;
reconsider D4 = multMagma (# (the carrier of R4) , (the multF of R4) #) as  strict (Subgroup of R3) by L73 , GROUP_2:def 5;
L74: ( gr ( carr R4 ) ) is (Subgroup of D4) by GROUP_4:def 4;
L75: D4 is (Subgroup of R4) by GROUP_2:57;
thus L76: thesis by L75 , L74 , GROUP_2:56;
end;
theorem
L77: (for R3 being Group holds (for R4 being (Subgroup of R3) holds (for R5 being (Subgroup of R3) holds (R5 is (Subgroup of R4) implies [. R4 , R5 .] is (Subgroup of R4)))))
proof
let R3 being Group;
let R4 being (Subgroup of R3);
let R5 being (Subgroup of R3);
L78: ( gr ( carr R4 ) ) is (Subgroup of R4) by L72;
assume L79: R5 is (Subgroup of R4);
L80: ( commutators (R4 , R5) ) c= ( carr R4 ) by L79 , L61;
L81: [. R4 , R5 .] is (Subgroup of ( gr ( carr R4 ) )) by L80 , GROUP_4:32;
thus L82: thesis by L81 , L78 , GROUP_2:56;
end;
theorem
L83: (for R3 being Group holds (for R4 being (Subgroup of R3) holds (for R5 being (Subgroup of R3) holds (R5 is (Subgroup of R4) implies [. R5 , R4 .] is (Subgroup of R4))))) by L77;
L84: (for R3 being Group holds (for R4 being (Subgroup of R3) holds R4 is (Subgroup of ( (Omega). R3 ))))
proof
let R3 being Group;
let R4 being (Subgroup of R3);
L85: ( dom (the multF of R3) ) c= [: (the carrier of R3) , (the carrier of R3) :];
L86: (the multF of R3) = ( (the multF of ( (Omega). R3 )) || (the carrier of ( (Omega). R3 )) ) by L85 , RELAT_1:68;
L87: R3 is (Subgroup of ( (Omega). R3 )) by L86 , GROUP_2:def 5;
thus L88: thesis by L87 , GROUP_2:56;
end;
theorem
L89: (for R3 being Group holds (for R6 being (Subgroup of R3) holds (for R7 being (Subgroup of R3) holds (for R8 being (Subgroup of R3) holds ([. R7 , ( (Omega). R3 ) .] is (Subgroup of R8) implies [. ( R7 /\ R6 ) , R6 .] is (Subgroup of ( R8 /\ R6 )))))))
proof
let R3 being Group;
let R6 being (Subgroup of R3);
let R7 being (Subgroup of R3);
let R8 being (Subgroup of R3);
assume L90: [. R7 , ( (Omega). R3 ) .] is (Subgroup of R8);
L91: ( R7 /\ R6 ) is (Subgroup of R6) by GROUP_2:88;
L92: [. ( R7 /\ R6 ) , R6 .] is (Subgroup of R6) by L91 , L77;
L93: R6 is (Subgroup of ( (Omega). R3 )) by L84;
L94: ( R7 /\ R6 ) is (Subgroup of R7) by GROUP_2:88;
L95: [. ( R7 /\ R6 ) , R6 .] is (Subgroup of [. R7 , ( (Omega). R3 ) .]) by L94 , L93 , GROUP_5:66;
L96: [. ( R7 /\ R6 ) , R6 .] is (Subgroup of R8) by L95 , L90 , GROUP_2:56;
thus L97: thesis by L96 , L92 , GROUP_2:91;
end;
theorem
L98: (for R3 being Group holds (for R7 being (Subgroup of R3) holds (for R8 being (Subgroup of R3) holds [. R7 , R8 .] is (Subgroup of [. R7 , ( (Omega). R3 ) .]))))
proof
let R3 being Group;
let R7 being (Subgroup of R3);
let R8 being (Subgroup of R3);
L99: R8 is (Subgroup of ( (Omega). R3 )) by L84;
L100: R7 is (Subgroup of R7) by GROUP_2:54;
thus L101: thesis by L100 , L99 , GROUP_5:66;
end;
L102: (for R3 being Group holds (for R6 being (Subgroup of R3) holds (for B3 being  normal (Subgroup of R3) holds [. B3 , R6 .] is (Subgroup of B3))))
proof
let R3 being Group;
let R6 being (Subgroup of R3);
let C2 being  normal (Subgroup of R3);
L103: ((the carrier of C2) c= (the carrier of R3) & (the multF of C2) = ( (the multF of R3) || (the carrier of C2) )) by GROUP_2:def 5;
reconsider D5 = multMagma (# (the carrier of C2) , (the multF of C2) #) as  strict (Subgroup of R3) by L103 , GROUP_2:def 5;
L104:
now
let C3 being (Element of R3);
L105: (the carrier of ( C2 |^ C3 )) = ( ( carr C2 ) |^ C3 ) by GROUP_3:def 6
.= ( ( carr D5 ) |^ C3 )
.= (the carrier of ( D5 |^ C3 )) by GROUP_3:def 6;
thus L106: ( D5 |^ C3 ) = ( C2 |^ C3 ) by L105 , GROUP_2:59
.= multMagma (# (the carrier of D5) , (the multF of D5) #) by GROUP_3:def 13;
end;
reconsider D6 = D5 as  strict  normal (Subgroup of R3) by L104 , GROUP_3:def 13;
L107: [. D6 , R6 .] = [. C2 , R6 .];
L108: [. C2 , R6 .] is (Subgroup of D6) by L107 , GROUP_5:67;
L109: D6 is (Subgroup of C2) by GROUP_2:57;
thus L110: thesis by L109 , L108 , GROUP_2:56;
end;
theorem
L111: (for R3 being Group holds (for R4 being (Subgroup of R3) holds (R4 is  normal  normal  normal  normal (Subgroup of R3) iff [. R4 , ( (Omega). R3 ) .] is (Subgroup of R4))))
proof
let R3 being Group;
let R4 being (Subgroup of R3);
thus L112: (R4 is  normal  normal  normal  normal (Subgroup of R3) implies [. R4 , ( (Omega). R3 ) .] is (Subgroup of R4)) by L102;
assume L113: [. R4 , ( (Omega). R3 ) .] is (Subgroup of R4);
L114: (for R10 being (Element of R3) holds ( R10 * R4 ) c= ( R4 * R10 ))
proof
let R10 being (Element of R3);
let R1 being set;
assume L115: R1 in ( R10 * R4 );
reconsider D7 = R1 as (Element of R3) by L115;
consider C4 being (Element of R3) such that L116: (D7 = ( R10 * C4 ) & C4 in R4) by L115 , GROUP_2:103;
L117: ( C4 " ) in R4 by L116 , GROUP_2:51;
L118: ( R10 " ) in ( (Omega). R3 ) by STRUCT_0:def 5;
L119: [. ( R10 " ) , ( C4 " ) .] in [. ( (Omega). R3 ) , R4 .] by L118 , L117 , GROUP_5:65;
L120: [. ( R10 " ) , ( C4 " ) .] in R4 by L119 , L113 , GROUP_2:40;
L121: ( ( ( ( R10 * C4 ) * ( R10 " ) ) * ( C4 " ) ) * C4 ) in R4 by L120 , L116 , GROUP_2:50;
L122: ( ( ( ( R10 * C4 ) * ( R10 " ) ) * ( C4 " ) ) * C4 ) = ( ( ( R10 * C4 ) * ( R10 " ) ) * ( ( C4 " ) * C4 ) ) by GROUP_1:def 3
.= ( ( ( R10 * C4 ) * ( R10 " ) ) * ( 1_ R3 ) ) by GROUP_1:def 5
.= ( ( R10 * C4 ) * ( R10 " ) ) by GROUP_1:def 4;
L123: ( ( ( R10 * C4 ) * ( R10 " ) ) * R10 ) = ( ( R10 * C4 ) * ( ( R10 " ) * R10 ) ) by GROUP_1:def 3
.= ( ( R10 * C4 ) * ( 1_ R3 ) ) by GROUP_1:def 5
.= ( R10 * C4 ) by GROUP_1:def 4;
thus L124: thesis by L123 , L116 , L121 , L122 , GROUP_2:104;
end;
thus L125: thesis by L114 , GROUP_3:118;
end;
definition
let R3 being Group;
func the_normal_subgroups_of R3 -> set means 
:L126: (for R1 being set holds (R1 in it iff R1 is  strict  normal  strict  normal  strict  normal  strict  normal (Subgroup of R3)));
existence
proof
defpred S1[ set , set ] means (ex B4 being  strict  normal (Subgroup of R3) st ($2 = B4 & $1 = (the carrier of B4)));
defpred S2[ set ] means (ex B5 being  strict  normal (Subgroup of R3) st $1 = (the carrier of B5));
consider C5 being set such that L127: (for B6 being set holds (B6 in C5 iff (B6 in ( bool (the carrier of R3) ) & S2[ B6 ]))) from XBOOLE_0:sch 1;
L128: (for B7 , B8 , B9 being set holds ((S1[ B7 , B8 ] & S1[ B7 , B9 ]) implies B8 = B9)) by GROUP_2:59;
consider C6 being Function such that L129: (for B10 , B11 being set holds ([ B10 , B11 ] in C6 iff (B10 in C5 & S1[ B10 , B11 ]))) from FUNCT_1:sch 1(L128);
L130: (for B12 being set holds (B12 in C5 iff (ex B13 being set st [ B12 , B13 ] in C6)))
proof
let C7 being set;
thus L131: (C7 in C5 implies (ex B14 being set st [ C7 , B14 ] in C6))
proof
assume L132: C7 in C5;
consider C8 being  strict  normal (Subgroup of R3) such that L133: C7 = (the carrier of C8) by L132 , L127;
reconsider D8 = C8 as set;
take D8;
thus L134: thesis by L129 , L132 , L133;
end;

given C9 being set such that
L135: [ C7 , C9 ] in C6;

thus L136: thesis by L129 , L135;
end;
L137: C5 = ( dom C6 ) by L130 , XTUPLE_0:def 12;
L138: (for B15 being set holds (B15 in ( rng C6 ) iff B15 is  strict  normal  strict  normal  strict  normal  strict  normal (Subgroup of R3)))
proof
let C10 being set;
thus L139: (C10 in ( rng C6 ) implies C10 is  strict  normal  strict  normal  strict  normal  strict  normal (Subgroup of R3))
proof
assume L140: C10 in ( rng C6 );
consider C11 being set such that L141: (C11 in ( dom C6 ) & C10 = ( C6 . C11 )) by L140 , FUNCT_1:def 3;
L142: [ C11 , C10 ] in C6 by L141 , FUNCT_1:def 2;
L143: (ex B16 being  strict  normal (Subgroup of R3) st (C10 = B16 & C11 = (the carrier of B16))) by L142 , L129;
thus L144: thesis by L143;
end;

assume L145: C10 is  strict  normal  strict  normal  strict  normal  strict  normal (Subgroup of R3);
reconsider D9 = C10 as  strict  normal (Subgroup of R3) by L145;
reconsider D10 = (the carrier of D9) as set;
L146: (the carrier of D9) c= (the carrier of R3) by GROUP_2:def 5;
L147: D10 in ( dom C6 ) by L146 , L127 , L137;
L148: [ D10 , C10 ] in C6 by L147 , L129 , L137;
L149: C10 = ( C6 . D10 ) by L148 , L147 , FUNCT_1:def 2;
thus L150: thesis by L149 , L147 , FUNCT_1:def 3;
end;
thus L151: thesis by L138;
end;
uniqueness
proof
defpred S3[ set ] means $1 is  strict  normal  strict  normal  strict  normal  strict  normal (Subgroup of R3);
let C12 , C13 being set;
assume L152: (for B17 being set holds (B17 in C12 iff S3[ B17 ]));
assume L153: (for B18 being set holds (B18 in C13 iff S3[ B18 ]));
thus L154: thesis from XBOOLE_0:sch 2(L152 , L153);
end;
end;
registration
let R3 being Group;
cluster ( the_normal_subgroups_of R3 ) -> non  empty;
coherence
proof
L156: the  strict  normal (Subgroup of R3) in ( the_normal_subgroups_of R3 ) by L126;
thus L157: thesis by L156;
end;
end;
theorem
L159: (for R3 being Group holds (for B19 being (FinSequence of ( the_normal_subgroups_of R3 )) holds (for R17 being (Element of ( NAT )) holds (R17 in ( dom B19 ) implies ( B19 . R17 ) is  strict  normal  strict  normal  strict  normal  strict  normal (Subgroup of R3)))))
proof
let R3 being Group;
let C14 being (FinSequence of ( the_normal_subgroups_of R3 ));
let R17 being (Element of ( NAT ));
assume L160: R17 in ( dom C14 );
L161: ( C14 . R17 ) in ( rng C14 ) by L160 , FUNCT_1:3;
thus L162: thesis by L161 , L126;
end;
theorem
L163: (for R3 being Group holds ( the_normal_subgroups_of R3 ) c= ( Subgroups R3 ))
proof
let R3 being Group;
let R1 being set;
assume L164: R1 in ( the_normal_subgroups_of R3 );
L165: R1 is  strict  normal  strict  normal  strict  normal  strict  normal (Subgroup of R3) by L164 , L126;
thus L166: thesis by L165 , GROUP_3:def 1;
end;
theorem
L167: (for R3 being Group holds (for B20 being (FinSequence of ( the_normal_subgroups_of R3 )) holds B20 is (FinSequence of ( Subgroups R3 ))))
proof
let R3 being Group;
let C15 being (FinSequence of ( the_normal_subgroups_of R3 ));
L168: ( the_normal_subgroups_of R3 ) c= ( Subgroups R3 ) by L163;
L169: ( rng C15 ) c= ( Subgroups R3 ) by L168 , XBOOLE_1:1;
thus L170: thesis by L169 , FINSEQ_1:def 4;
end;
definition
let C16 being Group;
attr C16 is  nilpotent
means
:L171: (ex B21 being (FinSequence of ( the_normal_subgroups_of C16 )) st (( len B21 ) > ( 0 ) & ( B21 . 1 ) = ( (Omega). C16 ) & ( B21 . ( len B21 ) ) = ( (1). C16 ) & (for R16 being (Element of ( NAT )) holds ((R16 in ( dom B21 ) & ( R16 + 1 ) in ( dom B21 )) implies (for B22 , B23 being  strict  normal (Subgroup of C16) holds ((B22 = ( B21 . R16 ) & B23 = ( B21 . ( R16 + 1 ) )) implies (B23 is (Subgroup of B22) & ( B22 ./. ( (B22 , B23) `*` ) ) is (Subgroup of ( center ( C16 ./. B23 ) )))))))));
end;
registration
cluster  nilpotent  strict for Group;
existence
proof
set D11 = the Group;
take D12 = ( (1). D11 );
thus L173: D12 is  nilpotent
proof
L174: ( rng <* D12 *> ) c= ( the_normal_subgroups_of D12 )
proof
let C17 being set;
assume L175: C17 in ( rng <* D12 *> );
L176: ( rng <* D12 *> ) = { D12 } by FINSEQ_1:39;
L177: C17 = D12 by L176 , L175 , TARSKI:def 1;
L178: C17 is  strict  normal  strict  normal  strict  normal  strict  normal (Subgroup of D12) by L177 , GROUP_2:54 , GROUP_6:8;
thus L179: thesis by L178 , L126;
end;
reconsider D13 = <* D12 *> as (FinSequence of ( the_normal_subgroups_of D12 )) by L174 , FINSEQ_1:def 4;
take D13;
L180: ( len D13 ) = 1 by FINSEQ_1:39;
L181: ( D13 . ( len D13 ) ) = D12 by L180 , FINSEQ_1:40
.= ( (1). D12 ) by GROUP_2:63;
L182: (for R16 being (Element of ( NAT )) holds ((R16 in ( dom D13 ) & ( R16 + 1 ) in ( dom D13 )) implies (for B24 , B25 being  strict  normal (Subgroup of D12) holds ((B24 = ( D13 . R16 ) & B25 = ( D13 . ( R16 + 1 ) )) implies (B25 is  strict  strict  strict  strict (Subgroup of B24) & ( B24 ./. ( (B24 , B25) `*` ) ) is (Subgroup of ( center ( D12 ./. B25 ) )))))))
proof
let R16 being (Element of ( NAT ));
assume L183: (R16 in ( dom D13 ) & ( R16 + 1 ) in ( dom D13 ));
let C18 , C19 being  strict  normal (Subgroup of D12);
assume L184: (C18 = ( D13 . R16 ) & C19 = ( D13 . ( R16 + 1 ) ));
L185: ( dom D13 ) = { 1 } by L180 , FINSEQ_1:2 , FINSEQ_1:def 3;
L186: (R16 = 1 & ( R16 + 1 ) = 1) by L185 , L183 , TARSKI:def 1;
thus L187: thesis by L186;
end;
thus L188: thesis by L182 , L181 , FINSEQ_1:40;
end;

thus L189: thesis;
end;
end;
theorem
L191: (for R3 being Group holds (for B26 being (Subgroup of R3) holds (for B27 being  strict  normal (Subgroup of R3) holds ((B27 is (Subgroup of B26) & ( B26 ./. ( (B26 , B27) `*` ) ) is (Subgroup of ( center ( R3 ./. B27 ) ))) implies [. B26 , ( (Omega). R3 ) .] is (Subgroup of B27)))))
proof
let R3 being Group;
let C20 being (Subgroup of R3);
let C21 being  strict  normal (Subgroup of R3);
assume that
L192: C21 is (Subgroup of C20)
and
L193: ( C20 ./. ( (C20 , C21) `*` ) ) is (Subgroup of ( center ( R3 ./. C21 ) ));
L194: ( (C20 , C21) `*` ) = C21 by L192 , GROUP_6:def 1;
reconsider D14 = ( C20 ./. ( (C20 , C21) `*` ) ) as (Subgroup of ( R3 ./. C21 )) by L192 , GROUP_6:28;
reconsider D15 = C21 as  normal (Subgroup of C20) by L194;
L195: ( commutators (C20 , ( (Omega). R3 )) ) c= ( carr C21 )
proof
L196:
now
let C22 being (Element of R3);
assume L197: C22 in ( commutators (C20 , ( (Omega). R3 )) );
consider R9 being (Element of R3), R10 being (Element of R3) such that L198: (C22 = [. R9 , R10 .] & R9 in C20 & R10 in ( (Omega). R3 )) by L197 , GROUP_5:52;
reconsider D16 = R9 as (Element of C20) by L198 , STRUCT_0:def 5;
reconsider D17 = ( D16 * D15 ) as (Element of D14) by L194 , GROUP_6:22;
L199: D17 in D14 by STRUCT_0:def 5;
reconsider D18 = ( R10 * C21 ) as (Element of ( R3 ./. C21 )) by GROUP_6:14;
reconsider D19 = D16 as (Element of R3);
L200: ( D19 * C21 ) = ( D16 * D15 ) by GROUP_6:2;
reconsider D20 = D17 as (Element of ( R3 ./. C21 )) by L200 , GROUP_6:14;
L201: D20 in ( center ( R3 ./. C21 ) ) by L193 , L199 , GROUP_2:40;
L202: ( D20 * D18 ) = ( D18 * D20 ) by L201 , GROUP_5:77;
L203: (D20 = ( D19 * C21 ) & D18 = ( R10 * C21 ) & ( @ D20 ) = D20 & ( @ D18 ) = D18) by GROUP_6:2;
L204: ( D20 * D18 ) = ( ( D19 * C21 ) * ( R10 * C21 ) ) by L203 , GROUP_6:def 3
.= ( D19 * ( C21 * ( R10 * C21 ) ) ) by GROUP_3:10
.= ( D19 * ( ( C21 * R10 ) * C21 ) ) by GROUP_3:13
.= ( D19 * ( ( R10 * C21 ) * C21 ) ) by GROUP_3:117
.= ( D19 * ( R10 * C21 ) ) by GROUP_6:5
.= ( ( D19 * R10 ) * C21 ) by GROUP_2:105;
L205: ( D18 * D20 ) = ( ( R10 * C21 ) * ( D19 * C21 ) ) by L203 , GROUP_6:def 3
.= ( R10 * ( C21 * ( D19 * C21 ) ) ) by GROUP_3:10
.= ( R10 * ( ( C21 * D19 ) * C21 ) ) by GROUP_3:13
.= ( R10 * ( ( D19 * C21 ) * C21 ) ) by GROUP_3:117
.= ( R10 * ( D19 * C21 ) ) by GROUP_6:5
.= ( ( R10 * D19 ) * C21 ) by GROUP_2:105;
L206: ( ( ( D19 " ) * ( R10 " ) ) * ( ( D19 * R10 ) * C21 ) ) = ( ( ( ( D19 " ) * ( R10 " ) ) * ( R10 * D19 ) ) * C21 ) by L205 , L202 , L204 , GROUP_2:105
.= ( ( ( D19 " ) * ( ( R10 " ) * ( R10 * D19 ) ) ) * C21 ) by GROUP_1:def 3
.= ( ( ( D19 " ) * ( ( ( R10 " ) * R10 ) * D19 ) ) * C21 ) by GROUP_1:def 3
.= ( ( ( D19 " ) * ( ( 1_ R3 ) * D19 ) ) * C21 ) by GROUP_1:def 5
.= ( ( ( D19 " ) * D19 ) * C21 ) by GROUP_1:def 4
.= ( ( 1_ R3 ) * C21 ) by GROUP_1:def 5
.= ( carr C21 ) by GROUP_2:109;
L207: ( ( ( D19 " ) * ( R10 " ) ) * ( ( D19 * R10 ) * C21 ) ) = ( ( ( ( D19 " ) * ( R10 " ) ) * ( D19 * R10 ) ) * C21 ) by GROUP_2:105
.= ( [. D19 , R10 .] * C21 ) by GROUP_5:16;
L208: [. D19 , R10 .] in C21 by L207 , L206 , GROUP_2:113;
thus L209: C22 in ( carr C21 ) by L208 , L198 , STRUCT_0:def 5;
end;
thus L210: thesis by L196 , SUBSET_1:2;
end;
L211: ( gr ( carr C21 ) ) = C21 by GROUP_4:31;
thus L212: thesis by L211 , L195 , GROUP_4:32;
end;
theorem
L213: (for R3 being Group holds (for B28 being (Subgroup of R3) holds (for B29 being  normal (Subgroup of R3) holds ((B29 is  strict  strict  strict  strict (Subgroup of B28) & [. B28 , ( (Omega). R3 ) .] is  strict  strict  strict  strict (Subgroup of B29)) implies ( B28 ./. ( (B28 , B29) `*` ) ) is (Subgroup of ( center ( R3 ./. B29 ) ))))))
proof
let R3 being Group;
let C23 being (Subgroup of R3);
let C24 being  normal (Subgroup of R3);
assume that
L214: C24 is  strict  strict  strict  strict (Subgroup of C23)
and
L215: [. C23 , ( (Omega). R3 ) .] is  strict  strict  strict  strict (Subgroup of C24);
L216: ( (C23 , C24) `*` ) = C24 by L214 , GROUP_6:def 1;
reconsider D21 = ( C23 ./. ( (C23 , C24) `*` ) ) as (Subgroup of ( R3 ./. C24 )) by L214 , GROUP_6:28;
reconsider D22 = C24 as  normal (Subgroup of C23) by L216;
L217: (for B30 being (Element of ( R3 ./. C24 )) holds (B30 in D21 implies B30 in ( center ( R3 ./. C24 ) )))
proof
let C25 being (Element of ( R3 ./. C24 ));
assume L218: C25 in D21;
L219: (for B31 being (Element of ( R3 ./. C24 )) holds ( C25 * B31 ) = ( B31 * C25 ))
proof
let C26 being (Element of ( R3 ./. C24 ));
consider C27 being (Element of R3) such that L220: (C26 = ( C27 * C24 ) & C26 = ( C24 * C27 )) by GROUP_6:21;
consider C28 being (Element of C23) such that L221: (C25 = ( C28 * D22 ) & C25 = ( D22 * C28 )) by L216 , L218 , GROUP_6:23;
reconsider D23 = C28 as (Element of R3) by GROUP_2:42;
L222: D23 in C23 by STRUCT_0:def 5;
L223: C27 in ( (Omega). R3 ) by STRUCT_0:def 5;
L224: [. D23 , C27 .] in [. C23 , ( (Omega). R3 ) .] by L223 , L222 , GROUP_5:65;
L225: [. D23 , C27 .] in C24 by L224 , L215 , GROUP_2:40;
L226: (( @ C26 ) = C26 & ( @ C25 ) = C25 & ( C28 * D22 ) = ( D23 * C24 ) & ( C24 * D23 ) = ( D22 * C28 )) by GROUP_6:2;
L227: ( C26 * C25 ) = ( ( C27 * C24 ) * ( D23 * C24 ) ) by L226 , L220 , L221 , GROUP_6:def 3
.= ( ( C27 * D23 ) * C24 ) by GROUP_11:1;
L228: ( C25 * C26 ) = ( ( D23 * C24 ) * ( C27 * C24 ) ) by L220 , L221 , L226 , GROUP_6:def 3
.= ( ( D23 * C27 ) * C24 ) by GROUP_11:1;
L229: ( ( ( C27 * D23 ) * [. D23 , C27 .] ) * C24 ) = ( ( C27 * D23 ) * ( [. D23 , C27 .] * C24 ) ) by GROUP_2:32
.= ( ( C27 * D23 ) * C24 ) by L225 , GROUP_2:113;
L230: ( ( ( C27 * D23 ) * [. D23 , C27 .] ) * C24 ) = ( ( ( C27 * D23 ) * ( ( ( D23 " ) * ( C27 " ) ) * ( D23 * C27 ) ) ) * C24 ) by GROUP_1:def 3
.= ( ( ( ( C27 * D23 ) * ( ( D23 " ) * ( C27 " ) ) ) * ( D23 * C27 ) ) * C24 ) by GROUP_1:def 3
.= ( ( ( C27 * ( D23 * ( ( D23 " ) * ( C27 " ) ) ) ) * ( D23 * C27 ) ) * C24 ) by GROUP_1:def 3
.= ( ( ( C27 * ( ( D23 * ( D23 " ) ) * ( C27 " ) ) ) * ( D23 * C27 ) ) * C24 ) by GROUP_1:def 3
.= ( ( ( C27 * ( ( 1_ R3 ) * ( C27 " ) ) ) * ( D23 * C27 ) ) * C24 ) by GROUP_1:def 5
.= ( ( ( C27 * ( C27 " ) ) * ( D23 * C27 ) ) * C24 ) by GROUP_1:def 4
.= ( ( ( 1_ R3 ) * ( D23 * C27 ) ) * C24 ) by GROUP_1:def 5
.= ( ( D23 * C27 ) * C24 ) by GROUP_1:def 4;
thus L231: thesis by L230 , L227 , L228 , L229;
end;
thus L232: thesis by L219 , GROUP_5:77;
end;
thus L233: thesis by L217 , GROUP_2:58;
end;
theorem
L234: (for B32 being Group holds (B32 is  nilpotent iff (ex B33 being (FinSequence of ( the_normal_subgroups_of B32 )) st (( len B33 ) > ( 0 ) & ( B33 . 1 ) = ( (Omega). B32 ) & ( B33 . ( len B33 ) ) = ( (1). B32 ) & (for R16 being (Element of ( NAT )) holds ((R16 in ( dom B33 ) & ( R16 + 1 ) in ( dom B33 )) implies (for B34 , B35 being  strict  normal (Subgroup of B32) holds ((B34 = ( B33 . R16 ) & B35 = ( B33 . ( R16 + 1 ) )) implies (B35 is (Subgroup of B34) & [. B34 , ( (Omega). B32 ) .] is (Subgroup of B35))))))))))
proof
let C29 being Group;
L235:
now
assume L236: C29 is  nilpotent;
consider C30 being (FinSequence of ( the_normal_subgroups_of C29 )) such that L237: (( len C30 ) > ( 0 ) & ( C30 . 1 ) = ( (Omega). C29 ) & ( C30 . ( len C30 ) ) = ( (1). C29 ) & (for R16 being (Element of ( NAT )) holds ((R16 in ( dom C30 ) & ( R16 + 1 ) in ( dom C30 )) implies (for B36 , B37 being  strict  normal (Subgroup of C29) holds ((B36 = ( C30 . R16 ) & B37 = ( C30 . ( R16 + 1 ) )) implies (B37 is (Subgroup of B36) & ( B36 ./. ( (B36 , B37) `*` ) ) is (Subgroup of ( center ( C29 ./. B37 ) )))))))) by L236 , L171;
reconsider D24 = C30 as (FinSequence of ( the_normal_subgroups_of C29 ));
L238: (for R16 being (Element of ( NAT )) holds ((R16 in ( dom D24 ) & ( R16 + 1 ) in ( dom D24 )) implies (for B38 , B39 being  strict  normal (Subgroup of C29) holds ((B38 = ( D24 . R16 ) & B39 = ( D24 . ( R16 + 1 ) )) implies (B39 is  strict  strict  strict  strict (Subgroup of B38) & [. B38 , ( (Omega). C29 ) .] is  strict  strict  strict  strict (Subgroup of B39))))))
proof
let R16 being (Element of ( NAT ));
assume L239: (R16 in ( dom D24 ) & ( R16 + 1 ) in ( dom D24 ));
let C31 , C32 being  strict  normal (Subgroup of C29);
assume L240: (C31 = ( D24 . R16 ) & C32 = ( D24 . ( R16 + 1 ) ));
L241: (C32 is  strict  strict  strict  strict (Subgroup of C31) & (for B40 being  strict  normal (Subgroup of C29) holds ((B40 = C32 & B40 is  strict  strict  strict  strict (Subgroup of C31)) implies ( C31 ./. ( (C31 , B40) `*` ) ) is (Subgroup of ( center ( C29 ./. B40 ) ))))) by L240 , L237 , L239;
L242: [. C31 , ( (Omega). C29 ) .] is  strict  strict  strict  strict (Subgroup of C32)
proof
L243:
now
let C33 being  strict  normal (Subgroup of C29);
assume L244: (C33 = C32 & C33 is  strict  strict  strict  strict (Subgroup of C31));
L245: ( C31 ./. ( (C31 , C33) `*` ) ) is (Subgroup of ( center ( C29 ./. C33 ) )) by L244 , L237 , L239 , L240;
thus L246: [. C31 , ( (Omega). C29 ) .] is  strict  strict  strict  strict (Subgroup of C32) by L245 , L244 , L191;
end;
thus L247: thesis by L243 , L241;
end;
thus L248: thesis by L242 , L237 , L239 , L240;
end;
take D25 = D24;
thus L249: (( len D25 ) > ( 0 ) & ( D25 . 1 ) = ( (Omega). C29 ) & ( D25 . ( len D25 ) ) = ( (1). C29 ) & (for R16 being (Element of ( NAT )) holds ((R16 in ( dom D25 ) & ( R16 + 1 ) in ( dom D25 )) implies (for B41 , B42 being  strict  normal (Subgroup of C29) holds ((B41 = ( D25 . R16 ) & B42 = ( D25 . ( R16 + 1 ) )) implies (B42 is (Subgroup of B41) & [. B41 , ( (Omega). C29 ) .] is (Subgroup of B42))))))) by L237 , L238;
end;
L250:
now
given C34 being (FinSequence of ( the_normal_subgroups_of C29 )) such that
L251: (( len C34 ) > ( 0 ) & ( C34 . 1 ) = ( (Omega). C29 ) & ( C34 . ( len C34 ) ) = ( (1). C29 ) & (for R16 being (Element of ( NAT )) holds ((R16 in ( dom C34 ) & ( R16 + 1 ) in ( dom C34 )) implies (for B43 , B44 being  strict  normal (Subgroup of C29) holds ((B43 = ( C34 . R16 ) & B44 = ( C34 . ( R16 + 1 ) )) implies (B44 is (Subgroup of B43) & [. B43 , ( (Omega). C29 ) .] is (Subgroup of B44)))))));

L252: (for R16 being (Element of ( NAT )) holds ((R16 in ( dom C34 ) & ( R16 + 1 ) in ( dom C34 )) implies (for B45 , B46 being  strict  normal (Subgroup of C29) holds ((B45 = ( C34 . R16 ) & B46 = ( C34 . ( R16 + 1 ) )) implies (B46 is  strict  strict  strict  strict (Subgroup of B45) & ( B45 ./. ( (B45 , B46) `*` ) ) is (Subgroup of ( center ( C29 ./. B46 ) )))))))
proof
let R16 being (Element of ( NAT ));
assume L253: (R16 in ( dom C34 ) & ( R16 + 1 ) in ( dom C34 ));
let C35 , C36 being  strict  normal (Subgroup of C29);
assume L254: (C35 = ( C34 . R16 ) & C36 = ( C34 . ( R16 + 1 ) ));
L255: C36 is  strict  strict  strict  strict (Subgroup of C35) by L254 , L251 , L253;
L256: [. C35 , ( (Omega). C29 ) .] is  strict  strict  strict  strict (Subgroup of C36) by L251 , L253 , L254;
thus L257: thesis by L256 , L255 , L213;
end;
take D26 = C34;
L258: (( len D26 ) > ( 0 ) & ( D26 . 1 ) = ( (Omega). C29 ) & ( D26 . ( len D26 ) ) = ( (1). C29 ) & (for R16 being (Element of ( NAT )) holds ((R16 in ( dom D26 ) & ( R16 + 1 ) in ( dom D26 )) implies (for B47 , B48 being  strict  normal (Subgroup of C29) holds ((B47 = ( D26 . R16 ) & B48 = ( D26 . ( R16 + 1 ) )) implies (B48 is (Subgroup of B47) & ( B47 ./. ( (B47 , B48) `*` ) ) is (Subgroup of ( center ( C29 ./. B48 ) )))))))) by L251 , L252;
thus L259: C29 is  nilpotent by L258 , L171;
end;
thus L260: thesis by L250 , L235;
end;
theorem
L261: (for B49 being Group holds (for B50 , B51 being (Subgroup of B49) holds (for B52 being  strict  normal (Subgroup of B49) holds (for B53 being (Subgroup of B50) holds (for B54 being  normal (Subgroup of B50) holds ((B52 is (Subgroup of B51) & ( B51 ./. ( (B51 , B52) `*` ) ) is (Subgroup of ( center ( B49 ./. B52 ) )) & B53 = ( B51 /\ B50 ) & B54 = ( B52 /\ B50 )) implies ( B53 ./. ( (B53 , B54) `*` ) ) is (Subgroup of ( center ( B50 ./. B54 ) ))))))))
proof
let C37 being Group;
let C38 , C39 being (Subgroup of C37);
let C40 being  strict  normal (Subgroup of C37);
let C41 being (Subgroup of C38);
let C42 being  normal (Subgroup of C38);
assume that
L262: C40 is (Subgroup of C39)
and
L263: ( C39 ./. ( (C39 , C40) `*` ) ) is (Subgroup of ( center ( C37 ./. C40 ) ))
and
L264: (C41 = ( C39 /\ C38 ) & C42 = ( C40 /\ C38 ));
L265: [. C39 , ( (Omega). C37 ) .] is (Subgroup of C40) by L262 , L263 , L191;
L266: C42 is  strict  strict  strict  strict (Subgroup of C41) by L262 , L264 , GROUP_2:92;
L267: ( (C41 , C42) `*` ) = C42 by L266 , GROUP_6:def 1;
reconsider D27 = C42 as  normal (Subgroup of C41) by L267;
reconsider D28 = ( C41 ./. ( (C41 , C42) `*` ) ) as (Subgroup of ( C38 ./. C42 )) by L266 , GROUP_6:28;
L268: (for B55 being (Element of ( C38 ./. C42 )) holds (B55 in D28 implies B55 in ( center ( C38 ./. C42 ) )))
proof
let C43 being (Element of ( C38 ./. C42 ));
assume L269: C43 in D28;
L270: (for B56 being (Element of ( C38 ./. C42 )) holds ( B56 * C43 ) = ( C43 * B56 ))
proof
let C44 being (Element of ( C38 ./. C42 ));
consider C45 being (Element of C38) such that L271: (C44 = ( C45 * C42 ) & C44 = ( C42 * C45 )) by GROUP_6:21;
consider C46 being (Element of C41) such that L272: (C43 = ( C46 * D27 ) & C43 = ( D27 * C46 )) by L267 , L269 , GROUP_6:23;
reconsider D29 = C46 as (Element of C38) by GROUP_2:42;
L273: (( @ C44 ) = C44 & ( @ C43 ) = C43 & ( C46 * D27 ) = ( D29 * C42 )) by GROUP_6:2;
L274: ( C44 * C43 ) = ( ( C45 * C42 ) * ( D29 * C42 ) ) by L273 , L271 , L272 , GROUP_6:def 3
.= ( ( C45 * D29 ) * C42 ) by GROUP_11:1;
L275: ( C43 * C44 ) = ( ( D29 * C42 ) * ( C45 * C42 ) ) by L271 , L272 , L273 , GROUP_6:def 3
.= ( ( D29 * C45 ) * C42 ) by GROUP_11:1;
L276: [. D29 , C45 .] in C38 by STRUCT_0:def 5;
reconsider D30 = C45 as (Element of C37) by GROUP_2:42;
L277: D30 in ( (Omega). C37 ) by STRUCT_0:def 5;
L278: C41 is (Subgroup of C39) by L264 , GROUP_2:88;
reconsider D31 = C46 as (Element of C39) by L278 , GROUP_2:42;
reconsider D32 = D31 as (Element of C37) by GROUP_2:42;
L279: D31 in C39 by STRUCT_0:def 5;
L280: [. D32 , D30 .] in [. C39 , ( (Omega). C37 ) .] by L279 , L277 , GROUP_5:65;
L281: [. D32 , D30 .] in C40 by L280 , L265 , GROUP_2:40;
L282: ( D30 " ) = ( C45 " ) by GROUP_2:48;
L283: ( D32 " ) = ( D29 " ) by GROUP_2:48;
L284: ( ( D29 " ) * ( C45 " ) ) = ( ( D32 " ) * ( D30 " ) ) by L283 , L282 , GROUP_2:43;
L285: ( D29 * C45 ) = ( D32 * D30 ) by GROUP_2:43;
L286: ( ( ( D29 " ) * ( C45 " ) ) * ( D29 * C45 ) ) = ( ( ( D32 " ) * ( D30 " ) ) * ( D32 * D30 ) ) by L285 , L284 , GROUP_2:43;
L287: [. D29 , C45 .] = ( ( ( D29 " ) * ( C45 " ) ) * ( D29 * C45 ) ) by GROUP_5:16;
L288: [. D32 , D30 .] = ( ( ( D32 " ) * ( D30 " ) ) * ( D32 * D30 ) ) by GROUP_5:16;
L289: [. D29 , C45 .] in C42 by L288 , L264 , L276 , L281 , L286 , L287 , GROUP_2:82;
L290: ( ( C45 * D29 ) * C42 ) = ( ( C45 * D29 ) * ( [. D29 , C45 .] * C42 ) ) by L289 , GROUP_2:113
.= ( ( C45 * D29 ) * ( ( ( ( D29 " ) * ( C45 " ) ) * ( D29 * C45 ) ) * C42 ) ) by GROUP_5:16
.= ( ( ( C45 * D29 ) * ( ( ( D29 " ) * ( C45 " ) ) * ( D29 * C45 ) ) ) * C42 ) by GROUP_2:32
.= ( ( ( ( C45 * D29 ) * ( ( D29 " ) * ( C45 " ) ) ) * ( D29 * C45 ) ) * C42 ) by GROUP_1:def 3
.= ( ( ( C45 * ( D29 * ( ( D29 " ) * ( C45 " ) ) ) ) * ( D29 * C45 ) ) * C42 ) by GROUP_1:def 3
.= ( ( ( C45 * ( ( D29 * ( D29 " ) ) * ( C45 " ) ) ) * ( D29 * C45 ) ) * C42 ) by GROUP_1:def 3
.= ( ( ( C45 * ( ( 1_ C38 ) * ( C45 " ) ) ) * ( D29 * C45 ) ) * C42 ) by GROUP_1:def 5
.= ( ( ( C45 * ( C45 " ) ) * ( D29 * C45 ) ) * C42 ) by GROUP_1:def 4
.= ( ( ( 1_ C38 ) * ( D29 * C45 ) ) * C42 ) by GROUP_1:def 5
.= ( ( D29 * C45 ) * C42 ) by GROUP_1:def 4;
thus L291: thesis by L290 , L274 , L275;
end;
thus L292: thesis by L270 , GROUP_5:77;
end;
thus L293: thesis by L268 , GROUP_2:58;
end;
L294: (for R3 being Group holds (for R6 being (Subgroup of R3) holds ( ( (Omega). R3 ) /\ R6 ) = ( (Omega). R6 )))
proof
let R3 being Group;
let R6 being (Subgroup of R3);
reconsider D33 = ( (Omega). R3 ) as  strict Group;
L295: ((the carrier of R6) c= (the carrier of R3) & (the multF of R6) = ( (the multF of R3) || (the carrier of R6) )) by GROUP_2:def 5;
reconsider D34 = ( (Omega). R6 ) as  strict (Subgroup of D33) by L295 , GROUP_2:def 5;
L296: ((the carrier of R6) c= (the carrier of R3) & (the multF of R6) = ( (the multF of R3) || (the carrier of R6) )) by GROUP_2:def 5;
L297: R6 is (Subgroup of ( (Omega). R3 )) by L296 , GROUP_2:def 5;
L298: ( the multMagma of ( (( (Omega). R3 ) qua (Subgroup of R3)) /\ R6 ) ) = ( the multMagma of ( R6 /\ (( (Omega). R3 ) qua (Subgroup of R3)) ) )
.= multMagma (# (the carrier of ( R6 /\ ( (Omega). R3 ) )) , (the multF of ( R6 /\ ( (Omega). R3 ) )) #)
.= multMagma (# (the carrier of R6) , (the multF of R6) #) by L297 , GROUP_2:89
.= multMagma (# (the carrier of ( D34 /\ ( (Omega). D33 ) )) , (the multF of ( D34 /\ ( (Omega). D33 ) )) #) by GROUP_2:89
.= ( the multMagma of ( D34 /\ (( (Omega). D33 ) qua (Subgroup of D33)) ) )
.= ( the multMagma of ( (( (Omega). D33 ) qua (Subgroup of D33)) /\ D34 ) );
thus L299: thesis by L298 , GROUP_2:86;
end;
L300: (for R3 being Group holds (for B57 being  strict (Subgroup of R3) holds (for B58 , B59 being (Subgroup of R3) holds (B57 is  normal  normal  normal  normal (Subgroup of B59) implies ( B57 /\ B58 ) is  normal  normal  normal  normal (Subgroup of ( B59 /\ B58 ))))))
proof
let R3 being Group;
let C47 being  strict (Subgroup of R3);
let C48 , C49 being (Subgroup of R3);
reconsider D35 = ( C49 /\ C48 ) as (Subgroup of C49) by GROUP_2:88;
assume L301: C47 is  normal  normal  normal  normal (Subgroup of C49);
L302: ( C47 /\ C48 ) = ( ( C47 /\ C49 ) /\ C48 ) by L301 , GROUP_2:89
.= ( C47 /\ ( C49 /\ C48 ) ) by GROUP_2:84;
reconsider D36 = C47 as  normal (Subgroup of C49) by L301;
L303: ( D36 /\ D35 ) is  normal  normal  normal  normal (Subgroup of D35);
thus L304: thesis by L303 , L302 , GROUP_6:3;
end;
registration
let C50 being  nilpotent Group;
cluster  ->  nilpotent for (Subgroup of C50);
coherence
proof
let C51 being (Subgroup of C50);
consider C52 being (FinSequence of ( the_normal_subgroups_of C50 )) such that L305: (( len C52 ) > ( 0 ) & ( C52 . 1 ) = ( (Omega). C50 ) & ( C52 . ( len C52 ) ) = ( (1). C50 )) and L306: (for R16 being (Element of ( NAT )) holds ((R16 in ( dom C52 ) & ( R16 + 1 ) in ( dom C52 )) implies (for B60 , B61 being  strict  normal (Subgroup of C50) holds ((B60 = ( C52 . R16 ) & B61 = ( C52 . ( R16 + 1 ) )) implies (B61 is (Subgroup of B60) & ( B60 ./. ( (B60 , B61) `*` ) ) is (Subgroup of ( center ( C50 ./. B61 ) ))))))) by L171;
defpred S4[ set , set ] means (ex B62 being  strict  normal (Subgroup of C50) st (B62 = ( C52 . $1 ) & $2 = ( B62 /\ C51 )));
L307: (for B63 being Nat holds (B63 in ( Seg ( len C52 ) ) implies (ex B64 being (Element of ( the_normal_subgroups_of C51 )) st S4[ B63 , B64 ])))
proof
let C53 being Nat;
assume L308: C53 in ( Seg ( len C52 ) );
L309: C53 in ( dom C52 ) by L308 , FINSEQ_1:def 3;
L310: ( C52 . C53 ) in ( the_normal_subgroups_of C50 ) by L309 , FINSEQ_2:11;
reconsider D37 = ( C52 . C53 ) as  strict  normal (Subgroup of C50) by L310 , L126;
reconsider D38 = ( D37 /\ C51 ) as  strict (Subgroup of C51);
reconsider D39 = D38 as (Element of ( the_normal_subgroups_of C51 )) by L126;
take D39;
take D37;
thus L311: thesis;
end;
consider C54 being (FinSequence of ( the_normal_subgroups_of C51 )) such that L312: (( dom C54 ) = ( Seg ( len C52 ) ) & (for B65 being Nat holds (B65 in ( Seg ( len C52 ) ) implies S4[ B65 , ( C54 . B65 ) ]))) from FINSEQ_1:sch 5(L307);
L313: ( len C54 ) = ( len C52 ) by L312 , FINSEQ_1:def 3;
L314: ( len C54 ) > ( 0 ) by L305 , L312 , FINSEQ_1:def 3;
L315: ( C54 . 1 ) = ( (Omega). C51 )
proof
L316: 1 <= ( len C54 ) by L314 , NAT_1:14;
L317: 1 in ( Seg ( len C52 ) ) by L316 , L313;
L318: (ex B66 being  strict  normal (Subgroup of C50) st (B66 = ( C52 . 1 ) & ( C54 . 1 ) = ( B66 /\ C51 ))) by L317 , L312;
thus L319: ( C54 . 1 ) = ( (Omega). C51 ) by L318 , L305 , L294;
end;
L320: ( C54 . ( len C54 ) ) = ( (1). C51 )
proof
L321: (ex B67 being  strict  normal (Subgroup of C50) st (B67 = ( C52 . ( len C54 ) ) & ( C54 . ( len C54 ) ) = ( B67 /\ C51 ))) by L305 , L312 , L313 , FINSEQ_1:3;
thus L322: ( C54 . ( len C54 ) ) = ( (1). C50 ) by L321 , L305 , L313 , GROUP_2:85
.= ( (1). C51 ) by GROUP_2:63;
end;
L323: (for R16 being (Element of ( NAT )) holds ((R16 in ( dom C54 ) & ( R16 + 1 ) in ( dom C54 )) implies (for B68 , B69 being  strict  normal (Subgroup of C51) holds ((B68 = ( C54 . R16 ) & B69 = ( C54 . ( R16 + 1 ) )) implies (B69 is (Subgroup of B68) & ( B68 ./. ( (B68 , B69) `*` ) ) is (Subgroup of ( center ( C51 ./. B69 ) )))))))
proof
let R16 being (Element of ( NAT ));
assume L324: (R16 in ( dom C54 ) & ( R16 + 1 ) in ( dom C54 ));
let C55 , C56 being  strict  normal (Subgroup of C51);
assume L325: (C55 = ( C54 . R16 ) & C56 = ( C54 . ( R16 + 1 ) ));
consider C57 being  strict  normal (Subgroup of C50) such that L326: (C57 = ( C52 . R16 ) & ( C54 . R16 ) = ( C57 /\ C51 )) by L312 , L324;
consider C58 being  strict  normal (Subgroup of C50) such that L327: (C58 = ( C52 . ( R16 + 1 ) ) & ( C54 . ( R16 + 1 ) ) = ( C58 /\ C51 )) by L312 , L324;
L328: (R16 in ( dom C52 ) & ( R16 + 1 ) in ( dom C52 )) by L312 , L324 , FINSEQ_1:def 3;
L329: C58 is  strict  normal  strict  normal  strict  normal  strict  normal (Subgroup of C57) by L328 , L326 , L327 , L306 , GROUP_6:8;
L330: ( C57 ./. ( (C57 , C58) `*` ) ) is (Subgroup of ( center ( C50 ./. C58 ) )) by L328 , L326 , L327 , L306;
thus L331: thesis by L330 , L327 , L329 , L326 , L325 , L261 , L300;
end;
take C54;
thus L332: thesis by L305 , L312 , L315 , L320 , L323 , FINSEQ_1:def 3;
end;
end;
registration
cluster  commutative ->  nilpotent for Group;
correctness
proof
let C59 being Group;
assume L334: C59 is  commutative;
L335: (( (Omega). C59 ) in ( the_normal_subgroups_of C59 ) & ( (1). C59 ) in ( the_normal_subgroups_of C59 )) by L126;
L336: <* ( (Omega). C59 ) , ( (1). C59 ) *> is (FinSequence of ( the_normal_subgroups_of C59 )) by L335 , FINSEQ_2:13;
consider C60 being (FinSequence of ( the_normal_subgroups_of C59 )) such that L337: C60 = <* ( (Omega). C59 ) , ( (1). C59 ) *> by L336;
L338: (( len C60 ) = 2 & ( C60 . 1 ) = ( (Omega). C59 ) & ( C60 . 2 ) = ( (1). C59 )) by L337 , FINSEQ_1:44;
L339: (for R16 being (Element of ( NAT )) holds ((R16 in ( dom C60 ) & ( R16 + 1 ) in ( dom C60 )) implies (for B70 , B71 being  strict  normal (Subgroup of C59) holds ((B70 = ( C60 . R16 ) & B71 = ( C60 . ( R16 + 1 ) )) implies (B71 is (Subgroup of B70) & [. B70 , ( (Omega). C59 ) .] is (Subgroup of B71))))))
proof
let R16 being (Element of ( NAT ));
assume L340: (R16 in ( dom C60 ) & ( R16 + 1 ) in ( dom C60 ));
L341:
now
let C61 , C62 being (Subgroup of C59);
assume L342: (C61 = ( C60 . R16 ) & C62 = ( C60 . ( R16 + 1 ) ));
L343: ( dom C60 ) = { 1 , 2 } by L338 , FINSEQ_1:2 , FINSEQ_1:def 3;
L344: (R16 in { 1 , 2 } & ( R16 + 1 ) in { 1 , 2 }) by L338 , L340 , FINSEQ_1:2 , FINSEQ_1:def 3;
L345: (R16 = 1 or R16 = 2) by L340 , L343 , TARSKI:def 2;
L346: ( commutators (C61 , ( (Omega). C59 )) ) = { ( 1_ C59 ) } by L334 , GROUP_5:57;
L347: [. C61 , ( (Omega). C59 ) .] = ( gr ( { ( 1_ C59 ) } \ { ( 1_ C59 ) } ) ) by L346 , GROUP_4:35
.= ( gr ( {} (the carrier of C59) ) ) by XBOOLE_1:37
.= ( (1). C59 ) by GROUP_4:30;
L348: (C61 = ( (Omega). C59 ) & C62 = ( (1). C59 )) by L337 , L342 , L344 , L345 , FINSEQ_1:44 , TARSKI:def 2;
thus L349: thesis by L348 , L342 , L347 , GROUP_2:65;
end;
thus L350: thesis by L341;
end;
thus L351: thesis by L339 , L338 , L234;
end;
cluster  cyclic ->  nilpotent for Group;
coherence;
end;
theorem
L353: (for B72 , B73 being  strict Group holds (for B74 being (Homomorphism of B72 , B73) holds (for B75 being  strict (Subgroup of B72) holds (for B76 , B77 being (Element of B72) holds (( ( ( B74 . B76 ) * ( B74 . B77 ) ) * ( B74 .: B75 ) ) = ( B74 .: ( ( B76 * B77 ) * B75 ) ) & ( ( ( B74 .: B75 ) * ( B74 . B76 ) ) * ( B74 . B77 ) ) = ( B74 .: ( ( B75 * B76 ) * B77 ) ))))))
proof
let C63 , C64 being  strict Group;
let C65 being (Homomorphism of C63 , C64);
let C66 being  strict (Subgroup of C63);
let C67 , C68 being (Element of C63);
thus L354: ( ( ( C65 . C67 ) * ( C65 . C68 ) ) * ( C65 .: C66 ) ) = ( ( C65 . ( C67 * C68 ) ) * ( C65 .: C66 ) ) by GROUP_6:def 6
.= ( C65 .: ( ( C67 * C68 ) * C66 ) ) by GRSOLV_1:13;
thus L355: ( ( ( C65 .: C66 ) * ( C65 . C67 ) ) * ( C65 . C68 ) ) = ( ( C65 .: C66 ) * ( ( C65 . C67 ) * ( C65 . C68 ) ) ) by GROUP_2:107
.= ( ( C65 .: C66 ) * ( C65 . ( C67 * C68 ) ) ) by GROUP_6:def 6
.= ( C65 .: ( C66 * ( C67 * C68 ) ) ) by GRSOLV_1:13
.= ( C65 .: ( ( C66 * C67 ) * C68 ) ) by GROUP_2:107;
end;
theorem
L356: (for B78 , B79 being  strict Group holds (for B80 being (Homomorphism of B78 , B79) holds (for B81 being  strict (Subgroup of B78) holds (for B82 , B83 being (Element of B78) holds (for B84 being (Subgroup of ( Image B80 )) holds (for B85 , B86 being (Element of ( Image B80 )) holds ((B85 = ( B80 . B82 ) & B86 = ( B80 . B83 ) & B84 = ( B80 .: B81 )) implies ( ( B85 * B86 ) * B84 ) = ( ( ( B80 . B82 ) * ( B80 . B83 ) ) * ( B80 .: B81 ) ))))))))
proof
let C69 , C70 being  strict Group;
let C71 being (Homomorphism of C69 , C70);
let C72 being  strict (Subgroup of C69);
let C73 , C74 being (Element of C69);
let C75 being (Subgroup of ( Image C71 ));
let C76 , C77 being (Element of ( Image C71 ));
assume that
L357: C76 = ( C71 . C73 )
and
L358: C77 = ( C71 . C74 )
and
L359: C75 = ( C71 .: C72 );
L360: ( C76 * C77 ) = ( ( C71 . C73 ) * ( C71 . C74 ) ) by L357 , L358 , GROUP_2:43;
set D40 = ( C76 * C77 );
set D41 = ( C73 * C74 );
L361: ( C71 . D41 ) = ( ( C71 . C73 ) * ( C71 . C74 ) ) by GROUP_6:def 6;
L362: ( C71 .: ( D41 * C72 ) ) = ( ( C71 . D41 ) * ( C71 .: C72 ) ) by GRSOLV_1:13;
L363: ( D40 * C75 ) = ( ( C71 . D41 ) * ( C71 .: C72 ) )
proof
L364:
now
let R1 being set;
assume L365: R1 in ( D40 * C75 );
consider C78 being (Element of ( Image C71 )) such that L366: R1 = ( D40 * C78 ) and L367: C78 in C75 by L365 , GROUP_2:103;
consider C79 being (Element of C72) such that L368: C78 = ( ( C71 | C72 ) . C79 ) by L359 , L367 , GROUP_6:45;
L369: C79 in C72 by STRUCT_0:def 5;
reconsider D42 = C79 as (Element of C69) by GROUP_2:42;
L370: C78 = ( C71 . D42 ) by L368 , FUNCT_1:49;
L371: R1 = ( ( C71 . D41 ) * ( C71 . D42 ) ) by L370 , L360 , L361 , L366 , GROUP_2:43
.= ( C71 . ( D41 * D42 ) ) by GROUP_6:def 6;
L372: ( D41 * D42 ) in ( D41 * C72 ) by L369 , GROUP_2:103;
thus L373: R1 in ( ( C71 . D41 ) * ( C71 .: C72 ) ) by L372 , L371 , L362 , FUNCT_2:35;
end;
L374: ( D40 * C75 ) c= ( ( C71 . D41 ) * ( C71 .: C72 ) ) by L364 , TARSKI:def 3;
L375:
now
let R1 being set;
assume L376: R1 in ( ( C71 . D41 ) * ( C71 .: C72 ) );
consider C80 being set such that L377: C80 in (the carrier of C69) and L378: C80 in ( D41 * C72 ) and L379: R1 = ( C71 . C80 ) by L376 , L362 , FUNCT_2:64;
reconsider D43 = C80 as (Element of C69) by L377;
consider C81 being (Element of C69) such that L380: D43 = ( D41 * C81 ) and L381: C81 in C72 by L378 , GROUP_2:103;
L382: C81 in (the carrier of C72) by L381 , STRUCT_0:def 5;
L383: ( C71 . C81 ) in ( C71 .: (the carrier of C72) ) by L382 , FUNCT_2:35;
L384: ( C71 . C81 ) in (the carrier of ( C71 .: C72 )) by L383 , GRSOLV_1:8;
L385: ( C71 . C81 ) in C75 by L384 , L359 , STRUCT_0:def 5;
L386: ( C71 . C81 ) in ( Image C71 ) by L385 , GROUP_2:40;
reconsider D44 = ( C71 . C81 ) as (Element of ( Image C71 )) by L386 , STRUCT_0:def 5;
L387: R1 = ( ( C71 . D41 ) * ( C71 . C81 ) ) by L379 , L380 , GROUP_6:def 6;
L388: R1 = ( D40 * D44 ) by L387 , L360 , L361 , GROUP_2:43;
thus L389: R1 in ( D40 * C75 ) by L388 , L385 , GROUP_2:103;
end;
L390: ( ( C71 . D41 ) * ( C71 .: C72 ) ) c= ( D40 * C75 ) by L375 , TARSKI:def 3;
thus L391: thesis by L390 , L374 , XBOOLE_0:def 10;
end;
thus L392: thesis by L363 , GROUP_6:def 6;
end;
theorem
L393: (for B87 , B88 being  strict Group holds (for B89 being (Homomorphism of B87 , B88) holds (for B90 being  strict (Subgroup of B87) holds (for B91 being  strict  normal (Subgroup of B87) holds (for B92 being  strict (Subgroup of ( Image B89 )) holds (for B93 being  strict  normal (Subgroup of ( Image B89 )) holds ((B91 is  strict  strict  strict  strict (Subgroup of B90) & ( B90 ./. ( (B90 , B91) `*` ) ) is (Subgroup of ( center ( B87 ./. B91 ) )) & B92 = ( B89 .: B90 ) & B93 = ( B89 .: B91 )) implies ( B92 ./. ( (B92 , B93) `*` ) ) is (Subgroup of ( center ( ( Image B89 ) ./. B93 ) )))))))))
proof
let C82 , C83 being  strict Group;
let C84 being (Homomorphism of C82 , C83);
let C85 being  strict (Subgroup of C82);
let C86 being  strict  normal (Subgroup of C82);
let C87 being  strict (Subgroup of ( Image C84 ));
let C88 being  strict  normal (Subgroup of ( Image C84 ));
assume that
L394: C86 is  strict  strict  strict  strict (Subgroup of C85)
and
L395: ( C85 ./. ( (C85 , C86) `*` ) ) is (Subgroup of ( center ( C82 ./. C86 ) ))
and
L396: (C87 = ( C84 .: C85 ) & C88 = ( C84 .: C86 ));
L397: C88 is  strict  strict  strict  strict (Subgroup of C87) by L394 , L396 , GRSOLV_1:12;
L398: ( (C87 , C88) `*` ) = C88 by L397 , GROUP_6:def 1;
reconsider D45 = C88 as  normal (Subgroup of C87) by L398;
reconsider D46 = ( C87 ./. ( (C87 , C88) `*` ) ) as (Subgroup of ( ( Image C84 ) ./. C88 )) by L397 , GROUP_6:28;
L399: (for B94 being (Element of ( ( Image C84 ) ./. C88 )) holds (B94 in D46 implies B94 in ( center ( ( Image C84 ) ./. C88 ) )))
proof
let C89 being (Element of ( ( Image C84 ) ./. C88 ));
assume L400: C89 in D46;
L401: (for B95 being (Element of ( ( Image C84 ) ./. C88 )) holds ( B95 * C89 ) = ( C89 * B95 ))
proof
let C90 being (Element of ( ( Image C84 ) ./. C88 ));
consider C91 being (Element of ( Image C84 )) such that L402: (C90 = ( C91 * C88 ) & C90 = ( C88 * C91 )) by GROUP_6:21;
consider C92 being (Element of C87) such that L403: (C89 = ( C92 * D45 ) & C89 = ( D45 * C92 )) by L398 , L400 , GROUP_6:23;
reconsider D47 = C92 as (Element of ( Image C84 )) by GROUP_2:42;
L404: (( @ C90 ) = C90 & ( @ C89 ) = C89 & ( C92 * D45 ) = ( D47 * C88 )) by GROUP_6:2;
L405: ( C90 * C89 ) = ( ( C91 * C88 ) * ( D47 * C88 ) ) by L404 , L402 , L403 , GROUP_6:def 3
.= ( ( C91 * D47 ) * C88 ) by GROUP_11:1;
L406: ( C89 * C90 ) = ( ( D47 * C88 ) * ( C91 * C88 ) ) by L402 , L403 , L404 , GROUP_6:def 3
.= ( ( D47 * C91 ) * C88 ) by GROUP_11:1;
L407: C91 in ( Image C84 ) by STRUCT_0:def 5;
consider C93 being (Element of C82) such that L408: C91 = ( C84 . C93 ) by L407 , GROUP_6:45;
L409: C93 in ( (Omega). C82 ) by STRUCT_0:def 5;
L410: C92 in C87 by STRUCT_0:def 5;
consider C94 being (Element of C85) such that L411: C92 = ( ( C84 | C85 ) . C94 ) by L410 , L396 , GROUP_6:45;
L412: C94 in C85 by STRUCT_0:def 5;
reconsider D48 = C94 as (Element of C82) by GROUP_2:42;
L413: D47 = ( C84 . D48 ) by L411 , FUNCT_1:49;
L414: ( ( C91 * D47 ) * C88 ) = ( ( ( C84 . C93 ) * ( C84 . D48 ) ) * ( C84 .: C86 ) ) by L413 , L408 , L396 , L356
.= ( C84 .: ( ( C93 * D48 ) * C86 ) ) by L353;
L415: ( ( D47 * C91 ) * C88 ) = ( ( ( C84 . D48 ) * ( C84 . C93 ) ) * ( C84 .: C86 ) ) by L408 , L413 , L396 , L356
.= ( C84 .: ( ( D48 * C93 ) * C86 ) ) by L353;
L416: [. C85 , ( (Omega). C82 ) .] is  strict  strict  strict  strict (Subgroup of C86) by L394 , L395 , L191;
L417: [. D48 , C93 .] in [. C85 , ( (Omega). C82 ) .] by L409 , L412 , GROUP_5:65;
L418: [. D48 , C93 .] in C86 by L417 , L416 , GROUP_2:40;
L419: ( ( C93 * D48 ) * C86 ) = ( ( C93 * D48 ) * ( [. D48 , C93 .] * C86 ) ) by L418 , GROUP_2:113
.= ( ( C93 * D48 ) * ( ( ( ( D48 " ) * ( C93 " ) ) * ( D48 * C93 ) ) * C86 ) ) by GROUP_5:16
.= ( ( ( C93 * D48 ) * ( ( ( D48 " ) * ( C93 " ) ) * ( D48 * C93 ) ) ) * C86 ) by GROUP_2:32
.= ( ( ( ( C93 * D48 ) * ( ( D48 " ) * ( C93 " ) ) ) * ( D48 * C93 ) ) * C86 ) by GROUP_1:def 3
.= ( ( ( C93 * ( D48 * ( ( D48 " ) * ( C93 " ) ) ) ) * ( D48 * C93 ) ) * C86 ) by GROUP_1:def 3
.= ( ( ( C93 * ( ( D48 * ( D48 " ) ) * ( C93 " ) ) ) * ( D48 * C93 ) ) * C86 ) by GROUP_1:def 3
.= ( ( ( C93 * ( ( 1_ C82 ) * ( C93 " ) ) ) * ( D48 * C93 ) ) * C86 ) by GROUP_1:def 5
.= ( ( ( C93 * ( C93 " ) ) * ( D48 * C93 ) ) * C86 ) by GROUP_1:def 4
.= ( ( ( 1_ C82 ) * ( D48 * C93 ) ) * C86 ) by GROUP_1:def 5
.= ( ( D48 * C93 ) * C86 ) by GROUP_1:def 4;
thus L420: thesis by L419 , L405 , L406 , L414 , L415;
end;
thus L421: thesis by L401 , GROUP_5:77;
end;
thus L422: thesis by L399 , GROUP_2:58;
end;
theorem
L423: (for B96 , B97 being  strict Group holds (for B98 being (Homomorphism of B96 , B97) holds (for B99 being  strict  normal (Subgroup of B96) holds ( B98 .: B99 ) is  strict  normal  strict  normal  strict  normal  strict  normal (Subgroup of ( Image B98 )))))
proof
let C95 , C96 being  strict Group;
let C97 being (Homomorphism of C95 , C96);
let C98 being  strict  normal (Subgroup of C95);
reconsider D49 = ( C97 .: C98 ) as  strict (Subgroup of ( Image C97 )) by GRSOLV_1:9;
L424: (for B100 being (Element of ( Image C97 )) holds ( B100 * D49 ) c= ( D49 * B100 ))
proof
let C99 being (Element of ( Image C97 ));
L425: C99 in ( Image C97 ) by STRUCT_0:def 5;
L426:
now
consider C100 being (Element of C95) such that L427: C99 = ( C97 . C100 ) by L425 , GROUP_6:45;
let C101 being set;
assume L428: C101 in ( C99 * D49 );
consider C102 being (Element of ( Image C97 )) such that L429: C101 = ( C99 * C102 ) and L430: C102 in D49 by L428 , GROUP_2:103;
consider C103 being (Element of C98) such that L431: C102 = ( ( C97 | C98 ) . C103 ) by L430 , GROUP_6:45;
reconsider D50 = C103 as (Element of C95) by GROUP_2:42;
L432: C102 = ( C97 . D50 ) by L431 , FUNCT_1:49;
L433: C101 = ( ( C97 . C100 ) * ( C97 . D50 ) ) by L432 , L427 , L429 , GROUP_2:43
.= ( C97 . ( C100 * D50 ) ) by GROUP_6:def 6;
L434: D50 in C98 by STRUCT_0:def 5;
L435: ( C100 * D50 ) in ( C100 * C98 ) by L434 , GROUP_2:103;
L436: ( C97 .: ( C98 * C100 ) ) = ( ( C97 .: C98 ) * ( C97 . C100 ) ) by GRSOLV_1:13;
L437: ( C100 * C98 ) = ( C98 * C100 ) by GROUP_3:117;
L438: C101 in ( ( C97 .: C98 ) * ( C97 . C100 ) ) by L437 , L433 , L435 , L436 , FUNCT_2:35;
thus L439: C101 in ( D49 * C99 ) by L438 , L427 , GROUP_6:2;
end;
thus L440: thesis by L426 , TARSKI:def 3;
end;
thus L441: thesis by L424 , GROUP_3:118;
end;
registration
let C104 being  strict  nilpotent Group;
let C105 being  strict Group;
let C106 being (Homomorphism of C104 , C105);
cluster ( Image C106 ) ->  nilpotent;
coherence
proof
consider C107 being (FinSequence of ( the_normal_subgroups_of C104 )) such that L442: ( len C107 ) > ( 0 ) and L443: ( C107 . 1 ) = ( (Omega). C104 ) and L444: ( C107 . ( len C107 ) ) = ( (1). C104 ) and L445: (for R16 being (Element of ( NAT )) holds ((R16 in ( dom C107 ) & ( R16 + 1 ) in ( dom C107 )) implies (for B101 , B102 being  strict  normal (Subgroup of C104) holds ((B101 = ( C107 . R16 ) & B102 = ( C107 . ( R16 + 1 ) )) implies (B102 is (Subgroup of B101) & ( B101 ./. ( (B101 , B102) `*` ) ) is (Subgroup of ( center ( C104 ./. B102 ) ))))))) by L171;
L446: 1 <= ( len C107 ) by L442 , NAT_1:14;
L447: 1 in ( Seg ( len C107 ) ) by L446;
defpred S5[ set , set ] means (ex B103 being  strict  normal (Subgroup of C104) st (B103 = ( C107 . $1 ) & $2 = ( C106 .: B103 )));
L448: (for B104 being Nat holds (B104 in ( Seg ( len C107 ) ) implies (ex B105 being (Element of ( the_normal_subgroups_of ( Image C106 ) )) st S5[ B104 , B105 ])))
proof
let C108 being Nat;
assume L449: C108 in ( Seg ( len C107 ) );
L450: C108 in ( dom C107 ) by L449 , FINSEQ_1:def 3;
L451: ( C107 . C108 ) in ( the_normal_subgroups_of C104 ) by L450 , FINSEQ_2:11;
L452: ( C107 . C108 ) is  strict  normal  strict  normal  strict  normal  strict  normal (Subgroup of C104) by L451 , L126;
consider C109 being  strict  normal (Subgroup of C104) such that L453: C109 = ( C107 . C108 ) by L452;
L454: ( C106 .: C109 ) is  strict  normal  strict  normal  strict  normal  strict  normal (Subgroup of ( Image C106 )) by L423;
L455: ( C106 .: C109 ) in ( the_normal_subgroups_of ( Image C106 ) ) by L454 , L126;
thus L456: thesis by L455 , L453;
end;
consider C110 being (FinSequence of ( the_normal_subgroups_of ( Image C106 ) )) such that L457: (( dom C110 ) = ( Seg ( len C107 ) ) & (for B106 being Nat holds (B106 in ( Seg ( len C107 ) ) implies S5[ B106 , ( C110 . B106 ) ]))) from FINSEQ_1:sch 5(L448);
L458: ( Seg ( len C110 ) ) = ( Seg ( len C107 ) ) by L457 , FINSEQ_1:def 3;
L459: ( dom C107 ) = ( Seg ( len C110 ) ) by L458 , FINSEQ_1:def 3
.= ( dom C110 ) by FINSEQ_1:def 3;
L460: (for R16 being (Element of ( NAT )) holds ((R16 in ( dom C110 ) & ( R16 + 1 ) in ( dom C110 )) implies (for B107 , B108 being  strict  normal (Subgroup of ( Image C106 )) holds ((B107 = ( C110 . R16 ) & B108 = ( C110 . ( R16 + 1 ) )) implies (B108 is  strict  strict  strict  strict (Subgroup of B107) & ( B107 ./. ( (B107 , B108) `*` ) ) is (Subgroup of ( center ( ( Image C106 ) ./. B108 ) )))))))
proof
let R16 being (Element of ( NAT ));
assume L461: (R16 in ( dom C110 ) & ( R16 + 1 ) in ( dom C110 ));
let C111 , C112 being  strict  normal (Subgroup of ( Image C106 ));
assume that
L462: C111 = ( C110 . R16 )
and
L463: C112 = ( C110 . ( R16 + 1 ) );
L464: (R16 in ( dom C107 ) & ( R16 + 1 ) in ( dom C107 )) by L457 , L461 , FINSEQ_1:def 3;
consider C113 being  strict  normal (Subgroup of C104) such that L465: C113 = ( C107 . R16 ) and L466: C111 = ( C106 .: C113 ) by L457 , L461 , L462;
consider C114 being  strict  normal (Subgroup of C104) such that L467: C114 = ( C107 . ( R16 + 1 ) ) and L468: C112 = ( C106 .: C114 ) by L457 , L461 , L463;
L469: C114 is  strict  strict  strict  strict (Subgroup of C113) by L445 , L459 , L461 , L465 , L467;
L470: ( C113 ./. ( (C113 , C114) `*` ) ) is (Subgroup of ( center ( C104 ./. C114 ) )) by L464 , L465 , L467 , L445;
thus L471: thesis by L470 , L466 , L469 , L468 , L393 , GRSOLV_1:12;
end;
take C110;
L472: ( len C110 ) = ( len C107 ) by L457 , FINSEQ_1:def 3;
L473: (( C110 . 1 ) = ( (Omega). ( Image C106 ) ) & ( C110 . ( len C110 ) ) = ( (1). ( Image C106 ) ))
proof
L474: (ex B109 being  strict  normal (Subgroup of C104) st (B109 = ( C107 . 1 ) & ( C110 . 1 ) = ( C106 .: B109 ))) by L457 , L447;
thus L475: ( C110 . 1 ) = ( (Omega). ( Image C106 ) ) by L474 , L443 , GRSOLV_1:11;
L476: (ex B110 being  strict  normal (Subgroup of C104) st (B110 = ( C107 . ( len C107 ) ) & ( C110 . ( len C107 ) ) = ( C106 .: B110 ))) by L442 , L457 , FINSEQ_1:3;
thus L477: ( C110 . ( len C110 ) ) = ( (1). C105 ) by L476 , L444 , L472 , GRSOLV_1:11
.= ( (1). ( Image C106 ) ) by GROUP_2:63;
end;
thus L478: thesis by L473 , L442 , L457 , L460 , FINSEQ_1:def 3;
end;
end;
registration
let C115 being  strict  nilpotent Group;
let C116 being  strict  normal (Subgroup of C115);
cluster ( C115 ./. C116 ) ->  nilpotent;
coherence
proof
L480: ( Image ( nat_hom C116 ) ) = ( C115 ./. C116 ) by GROUP_6:48;
thus L481: thesis by L480;
end;
end;
theorem
L483: (for B111 being Group holds ((ex B112 being (FinSequence of ( the_normal_subgroups_of B111 )) st (( len B112 ) > ( 0 ) & ( B112 . 1 ) = ( (Omega). B111 ) & ( B112 . ( len B112 ) ) = ( (1). B111 ) & (for R16 being (Element of ( NAT )) holds ((R16 in ( dom B112 ) & ( R16 + 1 ) in ( dom B112 )) implies (for B113 being  strict  normal (Subgroup of B111) holds (B113 = ( B112 . R16 ) implies [. B113 , ( (Omega). B111 ) .] = ( B112 . ( R16 + 1 ) ))))))) implies B111 is  nilpotent))
proof
let C117 being Group;
given C118 being (FinSequence of ( the_normal_subgroups_of C117 )) such that
L484: (( len C118 ) > ( 0 ) & ( C118 . 1 ) = ( (Omega). C117 ) & ( C118 . ( len C118 ) ) = ( (1). C117 ))
and
L485: (for R16 being (Element of ( NAT )) holds ((R16 in ( dom C118 ) & ( R16 + 1 ) in ( dom C118 )) implies (for B114 being  strict  normal (Subgroup of C117) holds (B114 = ( C118 . R16 ) implies [. B114 , ( (Omega). C117 ) .] = ( C118 . ( R16 + 1 ) )))));

L486: (for R16 being (Element of ( NAT )) holds ((R16 in ( dom C118 ) & ( R16 + 1 ) in ( dom C118 )) implies (for B115 , B116 being  strict  normal (Subgroup of C117) holds ((B115 = ( C118 . R16 ) & B116 = ( C118 . ( R16 + 1 ) )) implies (B116 is (Subgroup of B115) & [. B115 , ( (Omega). C117 ) .] is (Subgroup of B116))))))
proof
let R16 being (Element of ( NAT ));
assume L487: (R16 in ( dom C118 ) & ( R16 + 1 ) in ( dom C118 ));
let C119 , C120 being  strict  normal (Subgroup of C117);
assume L488: (C119 = ( C118 . R16 ) & C120 = ( C118 . ( R16 + 1 ) ));
L489: C120 = [. C119 , ( (Omega). C117 ) .] by L488 , L485 , L487;
thus L490: thesis by L489 , L111 , GROUP_2:54;
end;
thus L491: thesis by L486 , L484 , L234;
end;
theorem
L492: (for B117 being Group holds ((ex B118 being (FinSequence of ( the_normal_subgroups_of B117 )) st (( len B118 ) > ( 0 ) & ( B118 . 1 ) = ( (Omega). B117 ) & ( B118 . ( len B118 ) ) = ( (1). B117 ) & (for R16 being (Element of ( NAT )) holds ((R16 in ( dom B118 ) & ( R16 + 1 ) in ( dom B118 )) implies (for B119 , B120 being  strict  normal (Subgroup of B117) holds ((B119 = ( B118 . R16 ) & B120 = ( B118 . ( R16 + 1 ) )) implies (B120 is (Subgroup of B119) & ( B117 ./. B120 ) is  commutative  commutative  commutative  commutative Group))))))) implies B117 is  nilpotent))
proof
let C121 being Group;
given C122 being (FinSequence of ( the_normal_subgroups_of C121 )) such that
L493: (( len C122 ) > ( 0 ) & ( C122 . 1 ) = ( (Omega). C121 ) & ( C122 . ( len C122 ) ) = ( (1). C121 ))
and
L494: (for R16 being (Element of ( NAT )) holds ((R16 in ( dom C122 ) & ( R16 + 1 ) in ( dom C122 )) implies (for B121 , B122 being  strict  normal (Subgroup of C121) holds ((B121 = ( C122 . R16 ) & B122 = ( C122 . ( R16 + 1 ) )) implies (B122 is (Subgroup of B121) & ( C121 ./. B122 ) is  commutative  commutative  commutative  commutative Group)))));

L495: (for R16 being (Element of ( NAT )) holds ((R16 in ( dom C122 ) & ( R16 + 1 ) in ( dom C122 )) implies (for B123 , B124 being  strict  normal (Subgroup of C121) holds ((B123 = ( C122 . R16 ) & B124 = ( C122 . ( R16 + 1 ) )) implies (B124 is (Subgroup of B123) & ( B123 ./. ( (B123 , B124) `*` ) ) is (Subgroup of ( center ( C121 ./. B124 ) )))))))
proof
let R16 being (Element of ( NAT ));
assume L496: (R16 in ( dom C122 ) & ( R16 + 1 ) in ( dom C122 ));
let C123 , C124 being  strict  normal (Subgroup of C121);
assume L497: (C123 = ( C122 . R16 ) & C124 = ( C122 . ( R16 + 1 ) ));
L498: C124 is (Subgroup of C123) by L497 , L494 , L496;
L499: ( C123 ./. ( (C123 , C124) `*` ) ) is (Subgroup of ( C121 ./. C124 )) by L498 , GROUP_6:28;
L500: ( C121 ./. C124 ) is  commutative  commutative  commutative  commutative Group by L494 , L496 , L497;
thus L501: thesis by L500 , L494 , L496 , L497 , L499 , GROUP_5:82;
end;
take C122;
thus L502: thesis by L493 , L495;
end;
theorem
L503: (for B125 being Group holds ((ex B126 being (FinSequence of ( the_normal_subgroups_of B125 )) st (( len B126 ) > ( 0 ) & ( B126 . 1 ) = ( (Omega). B125 ) & ( B126 . ( len B126 ) ) = ( (1). B125 ) & (for R16 being (Element of ( NAT )) holds ((R16 in ( dom B126 ) & ( R16 + 1 ) in ( dom B126 )) implies (for B127 , B128 being  strict  normal (Subgroup of B125) holds ((B127 = ( B126 . R16 ) & B128 = ( B126 . ( R16 + 1 ) )) implies (B128 is (Subgroup of B127) & ( B125 ./. B128 ) is  cyclic  cyclic  cyclic  cyclic Group))))))) implies B125 is  nilpotent))
proof
let C125 being Group;
given C126 being (FinSequence of ( the_normal_subgroups_of C125 )) such that
L504: (( len C126 ) > ( 0 ) & ( C126 . 1 ) = ( (Omega). C125 ) & ( C126 . ( len C126 ) ) = ( (1). C125 ))
and
L505: (for R16 being (Element of ( NAT )) holds ((R16 in ( dom C126 ) & ( R16 + 1 ) in ( dom C126 )) implies (for B129 , B130 being  strict  normal (Subgroup of C125) holds ((B129 = ( C126 . R16 ) & B130 = ( C126 . ( R16 + 1 ) )) implies (B130 is (Subgroup of B129) & ( C125 ./. B130 ) is  cyclic  cyclic  cyclic  cyclic Group)))));

L506: (for R16 being (Element of ( NAT )) holds ((R16 in ( dom C126 ) & ( R16 + 1 ) in ( dom C126 )) implies (for B131 , B132 being  strict  normal (Subgroup of C125) holds ((B131 = ( C126 . R16 ) & B132 = ( C126 . ( R16 + 1 ) )) implies (B132 is  strict  strict  strict  strict (Subgroup of B131) & ( B131 ./. ( (B131 , B132) `*` ) ) is (Subgroup of ( center ( C125 ./. B132 ) )))))))
proof
let R16 being (Element of ( NAT ));
assume L507: (R16 in ( dom C126 ) & ( R16 + 1 ) in ( dom C126 ));
let C127 , C128 being  strict  normal (Subgroup of C125);
assume L508: (C127 = ( C126 . R16 ) & C128 = ( C126 . ( R16 + 1 ) ));
L509: C128 is  strict  strict  strict  strict (Subgroup of C127) by L508 , L505 , L507;
L510: ( C127 ./. ( (C127 , C128) `*` ) ) is (Subgroup of ( C125 ./. C128 )) by L509 , GROUP_6:28;
L511: ( C125 ./. C128 ) is  commutative  commutative  commutative  commutative Group by L505 , L507 , L508;
thus L512: thesis by L511 , L505 , L507 , L508 , L510 , GROUP_5:82;
end;
take C126;
thus L513: thesis by L504 , L506;
end;
registration
cluster  nilpotent ->  solvable for Group;
correctness
proof
let C129 being Group;
assume L514: C129 is  nilpotent;
consider C130 being (FinSequence of ( the_normal_subgroups_of C129 )) such that L515: (( len C130 ) > ( 0 ) & ( C130 . 1 ) = ( (Omega). C129 ) & ( C130 . ( len C130 ) ) = ( (1). C129 ) & (for R16 being (Element of ( NAT )) holds ((R16 in ( dom C130 ) & ( R16 + 1 ) in ( dom C130 )) implies (for B133 , B134 being  strict  normal (Subgroup of C129) holds ((B133 = ( C130 . R16 ) & B134 = ( C130 . ( R16 + 1 ) )) implies (B134 is (Subgroup of B133) & ( B133 ./. ( (B133 , B134) `*` ) ) is (Subgroup of ( center ( C129 ./. B134 ) )))))))) by L514 , L171;
reconsider D51 = C130 as (FinSequence of ( Subgroups C129 )) by L167;
L516: (for R16 being (Element of ( NAT )) holds ((R16 in ( dom D51 ) & ( R16 + 1 ) in ( dom D51 )) implies (for B135 , B136 being (Subgroup of C129) holds ((B135 = ( D51 . R16 ) & B136 = ( D51 . ( R16 + 1 ) )) implies (B136 is  strict  normal  strict  normal  strict  normal  strict  normal (Subgroup of B135) & (for B137 being  normal (Subgroup of B135) holds (B137 = B136 implies ( B135 ./. B137 ) is  commutative)))))))
proof
let R16 being (Element of ( NAT ));
assume L517: (R16 in ( dom D51 ) & ( R16 + 1 ) in ( dom D51 ));
L518: (( C130 . R16 ) is  strict  normal  strict  normal  strict  normal  strict  normal (Subgroup of C129) & ( C130 . ( R16 + 1 ) ) is  strict  normal  strict  normal  strict  normal  strict  normal (Subgroup of C129)) by L517 , L159;
let C131 , C132 being (Subgroup of C129);
assume L519: (C131 = ( D51 . R16 ) & C132 = ( D51 . ( R16 + 1 ) ));
L520: (for B138 being  normal (Subgroup of C131) holds (B138 = C132 implies ( C131 ./. B138 ) is  commutative))
proof
let C133 being  normal (Subgroup of C131);
assume L521: C133 = C132;
reconsider D52 = C133 as  strict  normal (Subgroup of C129) by L521 , L519 , L518;
L522: ( C131 ./. ( (C131 , D52) `*` ) ) is (Subgroup of ( center ( C129 ./. D52 ) )) by L515 , L517 , L519 , L521 , L518;
L523: ( center ( C129 ./. D52 ) ) is  commutative by GROUP_5:80;
thus L524: ( C131 ./. C133 ) is  commutative by L523 , L522 , GROUP_6:def 1;
end;
thus L525: thesis by L520 , L515 , L517 , L519 , L518 , GROUP_6:8;
end;
take D51;
thus L526: thesis by L515 , L516;
end;
end;
