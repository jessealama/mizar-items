:: Properties of ZF Models
::  by Grzegorz Bancerek
::
:: Received July 5, 1989
:: Copyright (c) 1990-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies ZF_LANG, XBOOLE_0, SUBSET_1, FUNCT_1, CARD_1, ORDINAL1, ZF_MODEL,
      TARSKI, BVFUNC_2, XBOOLEAN, FUNCT_4, ZFMISC_1, NAT_1, FINSEQ_1, ARYTM_3,
      CLASSES2, XXREAL_0, MCART_1, RELAT_1, ZFMODEL1;
 notations TARSKI, XBOOLE_0, ENUMSET1, ZFMISC_1,
      XTUPLE_0, SUBSET_1, XXREAL_0, NUMBERS,
      RELAT_1, FUNCT_1, FINSEQ_1, ZF_LANG, RELSET_1, FUNCT_2, FUNCT_7,
      ORDINAL1, NAT_1, ZF_MODEL, MCART_1;
 constructors ENUMSET1, XXREAL_0, NAT_1, MEMBERED, ZF_MODEL, FUNCT_7, RELSET_1,
      XTUPLE_0;
 registrations SUBSET_1, MEMBERED, ZF_LANG, RELAT_1, XXREAL_0, RELSET_1,
      XTUPLE_0;
 requirements NUMERALS, SUBSET, BOOLE, ARITHM;
 definitions TARSKI, ORDINAL1, ZF_MODEL, ZF_LANG, RELAT_1, FUNCT_1, XBOOLE_0,
      FUNCT_2, XTUPLE_0;
 theorems TARSKI, ZF_LANG, ZF_MODEL, ZFMISC_1, MCART_1, FUNCT_1, FUNCT_2,
      ENUMSET1, ORDINAL1, RELAT_1, RELSET_1, XBOOLE_0, FUNCT_7, XTUPLE_0;
 schemes NAT_1, ZF_LANG, XBOOLE_0;

begin
set D1 = ( x. ( 0 ) );
set D2 = ( x. 1 );
set D3 = ( x. 2 );
set D4 = ( x. 3 );
set D5 = ( x. 4 );
theorem
L1: (for R5 being non  empty set holds (R5 is  epsilon-transitive implies R5 |= ( the_axiom_of_extensionality )))
proof
let R5 being non  empty set;
assume L2: (for R9 being set holds (R9 in R5 implies R9 c= R5));
L3: R5 |= ( ( All (D3 , ( ( D3 'in' D1 ) <=> ( D3 'in' D2 ) )) ) => ( D1 '=' D2 ) )
proof
let R15 being (Function of ( VAR ) , R5);
L4:
now
assume L5: R5 , R15 |= ( All (D3 , ( ( D3 'in' D1 ) <=> ( D3 'in' D2 ) )) );
L6: ( R15 . D1 ) = ( R15 . D2 )
proof
thus L7: (for R6 being set holds (R6 in ( R15 . D1 ) implies R6 in ( R15 . D2 )))
proof
let R6 being set;
assume L8: R6 in ( R15 . D1 );
L9: ( R15 . D1 ) c= R5 by L2;
reconsider D6 = R6 as (Element of R5) by L9 , L8;
set D7 = ( R15 +* (D3 , D6) );
L10: ( D7 . D2 ) = ( R15 . D2 ) by FUNCT_7:32;
L11: (for R1 being Variable holds (( D7 . R1 ) <> ( R15 . R1 ) implies D3 = R1)) by FUNCT_7:32;
L12: R5 , D7 |= ( ( D3 'in' D1 ) <=> ( D3 'in' D2 ) ) by L11 , L5 , ZF_MODEL:16;
L13: (R5 , D7 |= ( D3 'in' D1 ) iff R5 , D7 |= ( D3 'in' D2 )) by L12 , ZF_MODEL:19;
L14: (( D7 . D3 ) = D6 & ( D7 . D1 ) = ( R15 . D1 )) by FUNCT_7:32 , FUNCT_7:128;
thus L15: thesis by L14 , L8 , L13 , L10 , ZF_MODEL:13;
end;

let R6 being set;
assume that
L16: R6 in ( R15 . D2 );
L17: ( R15 . D2 ) c= R5 by L2;
reconsider D8 = R6 as (Element of R5) by L17 , L16;
set D9 = ( R15 +* (D3 , D8) );
L18: ( D9 . D2 ) = ( R15 . D2 ) by FUNCT_7:32;
L19: (for R1 being Variable holds (( D9 . R1 ) <> ( R15 . R1 ) implies D3 = R1)) by FUNCT_7:32;
L20: R5 , D9 |= ( ( D3 'in' D1 ) <=> ( D3 'in' D2 ) ) by L19 , L5 , ZF_MODEL:16;
L21: (R5 , D9 |= ( D3 'in' D1 ) iff R5 , D9 |= ( D3 'in' D2 )) by L20 , ZF_MODEL:19;
L22: (( D9 . D3 ) = D8 & ( D9 . D1 ) = ( R15 . D1 )) by FUNCT_7:32 , FUNCT_7:128;
thus L23: thesis by L22 , L16 , L21 , L18 , ZF_MODEL:13;
end;
thus L24: R5 , R15 |= ( D1 '=' D2 ) by L6 , ZF_MODEL:12;
end;
thus L25: thesis by L4 , ZF_MODEL:18;
end;
L26: R5 |= ( All (D2 , ( ( All (D3 , ( ( D3 'in' D1 ) <=> ( D3 'in' D2 ) )) ) => ( D1 '=' D2 ) )) ) by L3 , ZF_MODEL:23;
thus L27: thesis by L26 , ZF_MODEL:23;
end;
theorem
L28: (for R5 being non  empty set holds (R5 is  epsilon-transitive implies (R5 |= ( the_axiom_of_pairs ) iff (for R12 being (Element of R5) holds (for R13 being (Element of R5) holds { R12 , R13 } in R5)))))
proof
let R5 being non  empty set;
assume L29: (for R9 being set holds (R9 in R5 implies R9 c= R5));
L30: (for R6 being set holds (for R12 being (Element of R5) holds (R6 in R12 implies R6 is (Element of R5))))
proof
let R6 being set;
let R12 being (Element of R5);
assume L31: R6 in R12;
L32: R12 c= R5 by L29;
thus L33: thesis by L32 , L31;
end;
L34: (R5 |= ( All (D2 , ( Ex (D3 , ( All (D4 , ( ( D4 'in' D3 ) <=> ( ( D4 '=' D1 ) 'or' ( D4 '=' D2 ) ) )) )) )) ) iff R5 |= ( Ex (D3 , ( All (D4 , ( ( D4 'in' D3 ) <=> ( ( D4 '=' D1 ) 'or' ( D4 '=' D2 ) ) )) )) )) by ZF_MODEL:23;
thus L35: (R5 |= ( the_axiom_of_pairs ) implies (for R12 being (Element of R5) holds (for R13 being (Element of R5) holds { R12 , R13 } in R5)))
proof
set D10 = the (Function of ( VAR ) , R5);
assume L36: R5 |= ( the_axiom_of_pairs );
let R12 being (Element of R5);
let R13 being (Element of R5);
set D11 = ( D10 +* (D1 , R12) );
set D12 = ( D11 +* (D2 , R13) );
L37: R5 , D12 |= ( Ex (D3 , ( All (D4 , ( ( D4 'in' D3 ) <=> ( ( D4 '=' D1 ) 'or' ( D4 '=' D2 ) ) )) )) ) by L34 , L36 , ZF_MODEL:23 , ZF_MODEL:def 5;
consider R17 being (Function of ( VAR ) , R5) such that L38: (for R1 being Variable holds (( R17 . R1 ) <> ( D12 . R1 ) implies D3 = R1)) and L39: R5 , R17 |= ( All (D4 , ( ( D4 'in' D3 ) <=> ( ( D4 '=' D1 ) 'or' ( D4 '=' D2 ) ) )) ) by L37 , ZF_MODEL:20;
L40: ( D12 . D2 ) = R13 by FUNCT_7:128;
L41: ( D11 . D1 ) = R12 by FUNCT_7:128;
L42: ( D12 . D1 ) = R12 by L41 , FUNCT_7:32;
L43: (for R6 being set holds (R6 in ( R17 . D3 ) iff (R6 = R12 or R6 = R13)))
proof
let R6 being set;
thus L44: (R6 in ( R17 . D3 ) implies (R6 = R12 or R6 = R13))
proof
assume L45: R6 in ( R17 . D3 );
reconsider D13 = R6 as (Element of R5) by L45 , L30;
set D14 = ( R17 +* (D4 , D13) );
L46: ( D14 . D4 ) = D13 by FUNCT_7:128;
L47: (for R1 being Variable holds (( D14 . R1 ) <> ( R17 . R1 ) implies D4 = R1)) by FUNCT_7:32;
L48: R5 , D14 |= ( ( D4 'in' D3 ) <=> ( ( D4 '=' D1 ) 'or' ( D4 '=' D2 ) ) ) by L47 , L39 , ZF_MODEL:16;
L49: (R5 , D14 |= ( D4 'in' D3 ) iff R5 , D14 |= ( ( D4 '=' D1 ) 'or' ( D4 '=' D2 ) )) by L48 , ZF_MODEL:19;
L50: ( D14 . D3 ) = ( R17 . D3 ) by FUNCT_7:32;
L51: (R5 , D14 |= ( D4 '=' D1 ) or R5 , D14 |= ( D4 '=' D2 )) by L50 , L45 , L46 , L49 , ZF_MODEL:13 , ZF_MODEL:17;
L52: (( D14 . D4 ) = ( D14 . D1 ) or ( D14 . D4 ) = ( D14 . D2 )) by L51 , ZF_MODEL:12;
L53: ( D14 . D2 ) = ( R17 . D2 ) by FUNCT_7:32;
L54: (( D14 . D1 ) = ( R17 . D1 ) & ( R17 . D1 ) = ( D12 . D1 )) by L38 , FUNCT_7:32;
thus L55: thesis by L54 , L41 , L40 , L38 , L46 , L52 , L53 , FUNCT_7:32;
end;

assume L56: (R6 = R12 or R6 = R13);
reconsider D15 = R6 as (Element of R5) by L56;
set D16 = ( R17 +* (D4 , D15) );
L57: ( D16 . D4 ) = D15 by FUNCT_7:128;
L58: (for R1 being Variable holds (( D16 . R1 ) <> ( R17 . R1 ) implies D4 = R1)) by FUNCT_7:32;
L59: R5 , D16 |= ( ( D4 'in' D3 ) <=> ( ( D4 '=' D1 ) 'or' ( D4 '=' D2 ) ) ) by L58 , L39 , ZF_MODEL:16;
L60: (R5 , D16 |= ( D4 'in' D3 ) iff R5 , D16 |= ( ( D4 '=' D1 ) 'or' ( D4 '=' D2 ) )) by L59 , ZF_MODEL:19;
L61: (( D16 . D2 ) = ( R17 . D2 ) & ( R17 . D2 ) = ( D12 . D2 )) by L38 , FUNCT_7:32;
L62: (( D16 . D1 ) = ( R17 . D1 ) & ( R17 . D1 ) = ( D12 . D1 )) by L38 , FUNCT_7:32;
L63: (R5 , D16 |= ( D4 '=' D1 ) or R5 , D16 |= ( D4 '=' D2 )) by L62 , L40 , L42 , L56 , L57 , L61 , ZF_MODEL:12;
L64: ( D16 . D4 ) in ( D16 . D3 ) by L63 , L60 , ZF_MODEL:13 , ZF_MODEL:17;
thus L65: thesis by L64 , L57 , FUNCT_7:32;
end;
L66: ( R17 . D3 ) = { R12 , R13 } by L43 , TARSKI:def 2;
thus L67: thesis by L66;
end;

assume L68: (for R12 being (Element of R5) holds (for R13 being (Element of R5) holds { R12 , R13 } in R5));
let R15 being (Function of ( VAR ) , R5);
L69:
now
let R16 being (Function of ( VAR ) , R5);
assume that
L70: (for R1 being Variable holds (( R16 . R1 ) <> ( R15 . R1 ) implies (D1 = R1 or D2 = R1)));
reconsider D17 = { ( R16 . D1 ) , ( R16 . D2 ) } as (Element of R5) by L68;
set D18 = ( R16 +* (D3 , D17) );
L71: ( D18 . D3 ) = D17 by FUNCT_7:128;
L72:
now
let C1 being (Function of ( VAR ) , R5);
L73: (( D18 . D1 ) = ( R16 . D1 ) & ( D18 . D2 ) = ( R16 . D2 )) by FUNCT_7:32;
L74: (R5 , C1 |= ( D4 'in' D3 ) iff ( C1 . D4 ) in ( C1 . D3 )) by ZF_MODEL:13;
L75: (R5 , C1 |= ( ( D4 '=' D1 ) 'or' ( D4 '=' D2 ) ) iff (R5 , C1 |= ( D4 '=' D1 ) or R5 , C1 |= ( D4 '=' D2 ))) by ZF_MODEL:17;
L76: (R5 , C1 |= ( D4 '=' D2 ) iff ( C1 . D4 ) = ( C1 . D2 )) by ZF_MODEL:12;
L77: (R5 , C1 |= ( D4 '=' D1 ) iff ( C1 . D4 ) = ( C1 . D1 )) by ZF_MODEL:12;
assume L78: (for R1 being Variable holds (( C1 . R1 ) <> ( D18 . R1 ) implies D4 = R1));
L79: ( C1 . D3 ) = ( D18 . D3 ) by L78;
L80: (( C1 . D1 ) = ( D18 . D1 ) & ( C1 . D2 ) = ( D18 . D2 )) by L78;
thus L81: R5 , C1 |= ( ( D4 'in' D3 ) <=> ( ( D4 '=' D1 ) 'or' ( D4 '=' D2 ) ) ) by L80 , L71 , L73 , L79 , L74 , L77 , L76 , L75 , TARSKI:def 2 , ZF_MODEL:19;
end;
L82: R5 , D18 |= ( All (D4 , ( ( D4 'in' D3 ) <=> ( ( D4 '=' D1 ) 'or' ( D4 '=' D2 ) ) )) ) by L72 , ZF_MODEL:16;
L83: (for R1 being Variable holds (( D18 . R1 ) <> ( R16 . R1 ) implies D3 = R1)) by FUNCT_7:32;
thus L84: R5 , R16 |= ( Ex (D3 , ( All (D4 , ( ( D4 'in' D3 ) <=> ( ( D4 '=' D1 ) 'or' ( D4 '=' D2 ) ) )) )) ) by L83 , L82 , ZF_MODEL:20;
end;
thus L85: thesis by L69 , ZF_MODEL:21;
end;
theorem
L86: (for R5 being non  empty set holds (R5 is  epsilon-transitive implies (R5 |= ( the_axiom_of_pairs ) iff (for R9 being set holds (for R10 being set holds ((R9 in R5 & R10 in R5) implies { R9 , R10 } in R5))))))
proof
let R5 being non  empty set;
assume L87: R5 is  epsilon-transitive;
thus L88: (R5 |= ( the_axiom_of_pairs ) implies (for R9 being set holds (for R10 being set holds ((R9 in R5 & R10 in R5) implies { R9 , R10 } in R5)))) by L87 , L28;
assume L89: (for R9 being set holds (for R10 being set holds ((R9 in R5 & R10 in R5) implies { R9 , R10 } in R5)));
L90: (for R12 being (Element of R5) holds (for R13 being (Element of R5) holds { R12 , R13 } in R5)) by L89;
thus L91: thesis by L90 , L87 , L28;
end;
theorem
L92: (for R5 being non  empty set holds (R5 is  epsilon-transitive implies (R5 |= ( the_axiom_of_unions ) iff (for R12 being (Element of R5) holds ( union R12 ) in R5))))
proof
let R5 being non  empty set;
assume L93: (for R9 being set holds (R9 in R5 implies R9 c= R5));
thus L94: (R5 |= ( the_axiom_of_unions ) implies (for R12 being (Element of R5) holds ( union R12 ) in R5))
proof
set D19 = the (Function of ( VAR ) , R5);
assume L95: R5 |= ( the_axiom_of_unions );
let R12 being (Element of R5);
set D20 = ( D19 +* (D1 , R12) );
L96: R5 |= ( Ex (D2 , ( All (D3 , ( ( D3 'in' D2 ) <=> ( Ex (D4 , ( ( D3 'in' D4 ) '&' ( D4 'in' D1 ) )) ) )) )) ) by L95 , ZF_MODEL:23;
L97: R5 , D20 |= ( Ex (D2 , ( All (D3 , ( ( D3 'in' D2 ) <=> ( Ex (D4 , ( ( D3 'in' D4 ) '&' ( D4 'in' D1 ) )) ) )) )) ) by L96 , ZF_MODEL:def 5;
consider R16 being (Function of ( VAR ) , R5) such that L98: (for R1 being Variable holds (( R16 . R1 ) <> ( D20 . R1 ) implies D2 = R1)) and L99: R5 , R16 |= ( All (D3 , ( ( D3 'in' D2 ) <=> ( Ex (D4 , ( ( D3 'in' D4 ) '&' ( D4 'in' D1 ) )) ) )) ) by L97 , ZF_MODEL:20;
L100: ( D20 . D1 ) = R12 by FUNCT_7:128;
L101: (for R6 being set holds (R6 in ( R16 . D2 ) iff (ex R9 being set st (R6 in R9 & R9 in R12))))
proof
let R6 being set;
L102: ( R16 . D1 ) = ( D20 . D1 ) by L98;
thus L103: (R6 in ( R16 . D2 ) implies (ex R9 being set st (R6 in R9 & R9 in R12)))
proof
assume L104: R6 in ( R16 . D2 );
L105: ( R16 . D2 ) c= R5 by L93;
reconsider D21 = R6 as (Element of R5) by L105 , L104;
set D22 = ( R16 +* (D3 , D21) );
L106: ( D22 . D3 ) = D21 by FUNCT_7:128;
L107: (for R1 being Variable holds (( D22 . R1 ) <> ( R16 . R1 ) implies D3 = R1)) by FUNCT_7:32;
L108: R5 , D22 |= ( ( D3 'in' D2 ) <=> ( Ex (D4 , ( ( D3 'in' D4 ) '&' ( D4 'in' D1 ) )) ) ) by L107 , L99 , ZF_MODEL:16;
L109: ( D22 . D2 ) = ( R16 . D2 ) by FUNCT_7:32;
L110: R5 , D22 |= ( D3 'in' D2 ) by L109 , L104 , L106 , ZF_MODEL:13;
L111: R5 , D22 |= ( Ex (D4 , ( ( D3 'in' D4 ) '&' ( D4 'in' D1 ) )) ) by L110 , L108 , ZF_MODEL:19;
consider C2 being (Function of ( VAR ) , R5) such that L112: (for R1 being Variable holds (( C2 . R1 ) <> ( D22 . R1 ) implies D4 = R1)) and L113: R5 , C2 |= ( ( D3 'in' D4 ) '&' ( D4 'in' D1 ) ) by L111 , ZF_MODEL:20;
L114: (( C2 . D1 ) = ( D22 . D1 ) & ( C2 . D3 ) = ( D22 . D3 )) by L112;
reconsider D23 = ( C2 . D4 ) as set;
take D23;
L115: (( D22 . D1 ) = ( R16 . D1 ) & ( R16 . D1 ) = ( D20 . D1 )) by L98 , FUNCT_7:32;
L116: (R5 , C2 |= ( D3 'in' D4 ) & R5 , C2 |= ( D4 'in' D1 )) by L113 , ZF_MODEL:15;
thus L117: thesis by L116 , L100 , L106 , L115 , L114 , ZF_MODEL:13;
end;

given R9 being set such that
L118: R6 in R9
and
L119: R9 in R12;

L120: R12 c= R5 by L93;
reconsider D24 = R9 as (Element of R5) by L120 , L119;
L121: D24 c= R5 by L93;
reconsider D25 = R6 as (Element of R5) by L121 , L118;
set D26 = ( R16 +* (D3 , D25) );
set D27 = ( D26 +* (D4 , D24) );
L122: ( D27 . D4 ) = D24 by FUNCT_7:128;
L123: (( D27 . D1 ) = ( D26 . D1 ) & ( D26 . D1 ) = ( R16 . D1 )) by FUNCT_7:32;
L124: R5 , D27 |= ( D4 'in' D1 ) by L123 , L100 , L119 , L122 , L102 , ZF_MODEL:13;
L125: ( D26 . D3 ) = D25 by FUNCT_7:128;
L126: (for R1 being Variable holds (( D26 . R1 ) <> ( R16 . R1 ) implies D3 = R1)) by FUNCT_7:32;
L127: R5 , D26 |= ( ( D3 'in' D2 ) <=> ( Ex (D4 , ( ( D3 'in' D4 ) '&' ( D4 'in' D1 ) )) ) ) by L126 , L99 , ZF_MODEL:16;
L128: ( D27 . D3 ) = ( D26 . D3 ) by FUNCT_7:32;
L129: R5 , D27 |= ( D3 'in' D4 ) by L128 , L118 , L125 , L122 , ZF_MODEL:13;
L130: ((for R1 being Variable holds (( D27 . R1 ) <> ( D26 . R1 ) implies D4 = R1)) & R5 , D27 |= ( ( D3 'in' D4 ) '&' ( D4 'in' D1 ) )) by L129 , L124 , FUNCT_7:32 , ZF_MODEL:15;
L131: R5 , D26 |= ( Ex (D4 , ( ( D3 'in' D4 ) '&' ( D4 'in' D1 ) )) ) by L130 , ZF_MODEL:20;
L132: R5 , D26 |= ( D3 'in' D2 ) by L131 , L127 , ZF_MODEL:19;
L133: ( D26 . D3 ) in ( D26 . D2 ) by L132 , ZF_MODEL:13;
thus L134: thesis by L133 , L125 , FUNCT_7:32;
end;
L135: ( R16 . D2 ) = ( union R12 ) by L101 , TARSKI:def 4;
thus L136: thesis by L135;
end;

assume L137: (for R12 being (Element of R5) holds ( union R12 ) in R5);
L138:
now
let R15 being (Function of ( VAR ) , R5);
reconsider D28 = ( union ( R15 . D1 ) ) as (Element of R5) by L137;
set D29 = ( R15 +* (D2 , D28) );
L139: ( D29 . D2 ) = D28 by FUNCT_7:128;
L140:
now
let R17 being (Function of ( VAR ) , R5);
assume L141: (for R1 being Variable holds (( R17 . R1 ) <> ( D29 . R1 ) implies D3 = R1));
L142: ( R17 . D2 ) = ( D29 . D2 ) by L141;
L143: (R5 , R17 |= ( D3 'in' D2 ) iff R5 , R17 |= ( Ex (D4 , ( ( D3 'in' D4 ) '&' ( D4 'in' D1 ) )) ))
proof
thus L144: (R5 , R17 |= ( D3 'in' D2 ) implies R5 , R17 |= ( Ex (D4 , ( ( D3 'in' D4 ) '&' ( D4 'in' D1 ) )) ))
proof
assume L145: R5 , R17 |= ( D3 'in' D2 );
L146: ( R17 . D3 ) in ( R17 . D2 ) by L145 , ZF_MODEL:13;
consider R9 being set such that L147: ( R17 . D3 ) in R9 and L148: R9 in ( R15 . D1 ) by L146 , L139 , L142 , TARSKI:def 4;
L149: ( R15 . D1 ) c= R5 by L93;
reconsider D30 = R9 as (Element of R5) by L149 , L148;
set D31 = ( R17 +* (D4 , D30) );
L150: ( D31 . D4 ) = D30 by FUNCT_7:128;
L151: ( D29 . D1 ) = ( R15 . D1 ) by FUNCT_7:32;
L152: ( D31 . D3 ) = ( R17 . D3 ) by FUNCT_7:32;
L153: R5 , D31 |= ( D3 'in' D4 ) by L152 , L147 , L150 , ZF_MODEL:13;
L154: (( D31 . D1 ) = ( R17 . D1 ) & ( R17 . D1 ) = ( D29 . D1 )) by L141 , FUNCT_7:32;
L155: R5 , D31 |= ( D4 'in' D1 ) by L154 , L148 , L150 , L151 , ZF_MODEL:13;
L156: ((for R1 being Variable holds (( D31 . R1 ) <> ( R17 . R1 ) implies D4 = R1)) & R5 , D31 |= ( ( D3 'in' D4 ) '&' ( D4 'in' D1 ) )) by L155 , L153 , FUNCT_7:32 , ZF_MODEL:15;
thus L157: thesis by L156 , ZF_MODEL:20;
end;

assume L158: R5 , R17 |= ( Ex (D4 , ( ( D3 'in' D4 ) '&' ( D4 'in' D1 ) )) );
consider C3 being (Function of ( VAR ) , R5) such that L159: (for R1 being Variable holds (( C3 . R1 ) <> ( R17 . R1 ) implies D4 = R1)) and L160: R5 , C3 |= ( ( D3 'in' D4 ) '&' ( D4 'in' D1 ) ) by L158 , ZF_MODEL:20;
L161: R5 , C3 |= ( D4 'in' D1 ) by L160 , ZF_MODEL:15;
L162: ( C3 . D4 ) in ( C3 . D1 ) by L161 , ZF_MODEL:13;
L163: R5 , C3 |= ( D3 'in' D4 ) by L160 , ZF_MODEL:15;
L164: ( C3 . D3 ) in ( C3 . D4 ) by L163 , ZF_MODEL:13;
L165: ( C3 . D3 ) in ( union ( C3 . D1 ) ) by L164 , L162 , TARSKI:def 4;
L166: ( R17 . D2 ) = ( D29 . D2 ) by L141;
L167: (( R17 . D1 ) = ( D29 . D1 ) & ( D29 . D1 ) = ( R15 . D1 )) by L141 , FUNCT_7:32;
L168: (( C3 . D3 ) = ( R17 . D3 ) & ( C3 . D1 ) = ( R17 . D1 )) by L159;
thus L169: thesis by L168 , L139 , L165 , L167 , L166 , ZF_MODEL:13;
end;
thus L170: R5 , R17 |= ( ( D3 'in' D2 ) <=> ( Ex (D4 , ( ( D3 'in' D4 ) '&' ( D4 'in' D1 ) )) ) ) by L143 , ZF_MODEL:19;
end;
L171: ((for R1 being Variable holds (( D29 . R1 ) <> ( R15 . R1 ) implies D2 = R1)) & R5 , D29 |= ( All (D3 , ( ( D3 'in' D2 ) <=> ( Ex (D4 , ( ( D3 'in' D4 ) '&' ( D4 'in' D1 ) )) ) )) )) by L140 , FUNCT_7:32 , ZF_MODEL:16;
thus L172: R5 , R15 |= ( Ex (D2 , ( All (D3 , ( ( D3 'in' D2 ) <=> ( Ex (D4 , ( ( D3 'in' D4 ) '&' ( D4 'in' D1 ) )) ) )) )) ) by L171 , ZF_MODEL:20;
end;
L173: R5 |= ( Ex (D2 , ( All (D3 , ( ( D3 'in' D2 ) <=> ( Ex (D4 , ( ( D3 'in' D4 ) '&' ( D4 'in' D1 ) )) ) )) )) ) by L138 , ZF_MODEL:def 5;
thus L174: thesis by L173 , ZF_MODEL:23;
end;
theorem
L175: (for R5 being non  empty set holds (R5 is  epsilon-transitive implies (R5 |= ( the_axiom_of_unions ) iff (for R9 being set holds (R9 in R5 implies ( union R9 ) in R5)))))
proof
let R5 being non  empty set;
assume L176: R5 is  epsilon-transitive;
thus L177: (R5 |= ( the_axiom_of_unions ) implies (for R9 being set holds (R9 in R5 implies ( union R9 ) in R5))) by L176 , L92;
assume L178: (for R9 being set holds (R9 in R5 implies ( union R9 ) in R5));
L179: (for R12 being (Element of R5) holds ( union R12 ) in R5) by L178;
thus L180: thesis by L179 , L176 , L92;
end;
theorem
L181: (for R5 being non  empty set holds (R5 is  epsilon-transitive implies (R5 |= ( the_axiom_of_infinity ) iff (ex R12 being (Element of R5) st (R12 <> ( {} ) & (for R13 being (Element of R5) holds (R13 in R12 implies (ex R14 being (Element of R5) st (R13 c< R14 & R14 in R12)))))))))
proof
let R5 being non  empty set;
assume L182: (for R9 being set holds (R9 in R5 implies R9 c= R5));
thus L183: (R5 |= ( the_axiom_of_infinity ) implies (ex R12 being (Element of R5) st (R12 <> ( {} ) & (for R13 being (Element of R5) holds (R13 in R12 implies (ex R14 being (Element of R5) st (R13 c< R14 & R14 in R12)))))))
proof
set D32 = the (Function of ( VAR ) , R5);
assume L184: (for R16 being (Function of ( VAR ) , R5) holds R5 , R16 |= ( the_axiom_of_infinity ));
L185: R5 , D32 |= ( the_axiom_of_infinity ) by L184;
consider R16 being (Function of ( VAR ) , R5) such that L186: (for R1 being Variable holds (( R16 . R1 ) <> ( D32 . R1 ) implies (D1 = R1 or D2 = R1))) and L187: R5 , R16 |= ( ( D2 'in' D1 ) '&' ( All (D3 , ( ( D3 'in' D1 ) => ( Ex (D4 , ( ( ( D4 'in' D1 ) '&' ( 'not' ( D4 '=' D3 ) ) ) '&' ( All (D5 , ( ( D5 'in' D3 ) => ( D5 'in' D4 ) )) ) )) ) )) ) ) by L185 , ZF_MODEL:22;
take D33 = ( R16 . D1 );
L188: R5 , R16 |= ( D2 'in' D1 ) by L187 , ZF_MODEL:15;
thus L189: D33 <> ( {} ) by L188 , ZF_MODEL:13;
let R13 being (Element of R5);
assume that
L190: R13 in D33;
set D34 = ( R16 +* (D3 , R13) );
L191: ((for R1 being Variable holds (( D34 . R1 ) <> ( R16 . R1 ) implies D3 = R1)) & R5 , R16 |= ( All (D3 , ( ( D3 'in' D1 ) => ( Ex (D4 , ( ( ( D4 'in' D1 ) '&' ( 'not' ( D4 '=' D3 ) ) ) '&' ( All (D5 , ( ( D5 'in' D3 ) => ( D5 'in' D4 ) )) ) )) ) )) )) by L187 , FUNCT_7:32 , ZF_MODEL:15;
L192: R5 , D34 |= ( ( D3 'in' D1 ) => ( Ex (D4 , ( ( ( D4 'in' D1 ) '&' ( 'not' ( D4 '=' D3 ) ) ) '&' ( All (D5 , ( ( D5 'in' D3 ) => ( D5 'in' D4 ) )) ) )) ) ) by L191 , ZF_MODEL:16;
L193: ( D34 . D3 ) = R13 by FUNCT_7:128;
L194: ( D34 . D1 ) = ( R16 . D1 ) by FUNCT_7:32;
L195: R5 , D34 |= ( D3 'in' D1 ) by L194 , L190 , L193 , ZF_MODEL:13;
L196: R5 , D34 |= ( Ex (D4 , ( ( ( D4 'in' D1 ) '&' ( 'not' ( D4 '=' D3 ) ) ) '&' ( All (D5 , ( ( D5 'in' D3 ) => ( D5 'in' D4 ) )) ) )) ) by L195 , L192 , ZF_MODEL:18;
consider R15 being (Function of ( VAR ) , R5) such that L197: (for R1 being Variable holds (( R15 . R1 ) <> ( D34 . R1 ) implies D4 = R1)) and L198: R5 , R15 |= ( ( ( D4 'in' D1 ) '&' ( 'not' ( D4 '=' D3 ) ) ) '&' ( All (D5 , ( ( D5 'in' D3 ) => ( D5 'in' D4 ) )) ) ) by L196 , ZF_MODEL:20;
L199: ( R15 . D1 ) = ( D34 . D1 ) by L197;
take D35 = ( R15 . D4 );
L200: R5 , R15 |= ( All (D5 , ( ( D5 'in' D3 ) => ( D5 'in' D4 ) )) ) by L198 , ZF_MODEL:15;
thus L201: R13 c= D35
proof
let R6 being set;
assume that
L202: R6 in R13;
L203: R13 c= R5 by L182;
reconsider D36 = R6 as (Element of R5) by L203 , L202;
set D37 = ( R15 +* (D5 , D36) );
L204: ( D37 . D5 ) = D36 by FUNCT_7:128;
L205: (for R1 being Variable holds (( D37 . R1 ) <> ( R15 . R1 ) implies D5 = R1)) by FUNCT_7:32;
L206: R5 , D37 |= ( ( D5 'in' D3 ) => ( D5 'in' D4 ) ) by L205 , L200 , ZF_MODEL:16;
L207: (( D37 . D3 ) = ( R15 . D3 ) & ( R15 . D3 ) = ( D34 . D3 )) by L197 , FUNCT_7:32;
L208: R5 , D37 |= ( D5 'in' D3 ) by L207 , L193 , L202 , L204 , ZF_MODEL:13;
L209: R5 , D37 |= ( D5 'in' D4 ) by L208 , L206 , ZF_MODEL:18;
L210: ( D37 . D5 ) in ( D37 . D4 ) by L209 , ZF_MODEL:13;
thus L211: thesis by L210 , L204 , FUNCT_7:32;
end;

L212: R5 , R15 |= ( ( D4 'in' D1 ) '&' ( 'not' ( D4 '=' D3 ) ) ) by L198 , ZF_MODEL:15;
L213: R5 , R15 |= ( 'not' ( D4 '=' D3 ) ) by L212 , ZF_MODEL:15;
L214: (not R5 , R15 |= ( D4 '=' D3 )) by L213 , ZF_MODEL:14;
L215: ( R15 . D4 ) <> ( R15 . D3 ) by L214 , ZF_MODEL:12;
thus L216: R13 <> D35 by L215 , L193 , L197;
L217: ( D34 . D1 ) = ( R16 . D1 ) by FUNCT_7:32;
L218: R5 , R15 |= ( D4 'in' D1 ) by L212 , ZF_MODEL:15;
thus L219: thesis by L218 , L199 , L217 , ZF_MODEL:13;
end;

given R12 being (Element of R5) such that
L220: R12 <> ( {} )
and
L221: (for R13 being (Element of R5) holds (R13 in R12 implies (ex R14 being (Element of R5) st (R13 c< R14 & R14 in R12))));

set D38 = the (Element of R12);
L222: R12 c= R5 by L182;
reconsider D39 = D38 as (Element of R5) by L222 , L220 , TARSKI:def 3;
let C4 being (Function of ( VAR ) , R5);
set D40 = ( C4 +* (D1 , R12) );
set D41 = ( D40 +* (D2 , D39) );
L223: ( D40 . D1 ) = R12 by FUNCT_7:128;
L224:
now
let R15 being (Function of ( VAR ) , R5);
assume that
L225: (for R1 being Variable holds (( R15 . R1 ) <> ( D41 . R1 ) implies D3 = R1));
L226:
now
assume L227: R5 , R15 |= ( D3 'in' D1 );
L228: ( R15 . D3 ) in ( R15 . D1 ) by L227 , ZF_MODEL:13;
L229: (( R15 . D1 ) = ( D41 . D1 ) & ( D41 . D1 ) = ( D40 . D1 )) by L225 , FUNCT_7:32;
consider R14 being (Element of R5) such that L230: ( R15 . D3 ) c< R14 and L231: R14 in R12 by L229 , L221 , L223 , L228;
set D42 = ( R15 +* (D4 , R14) );
L232: ( D42 . D4 ) = R14 by FUNCT_7:128;
L233: ( R15 . D3 ) c= R14 by L230 , XBOOLE_0:def 8;
L234:
now
let R17 being (Function of ( VAR ) , R5);
assume that
L235: (for R1 being Variable holds (( R17 . R1 ) <> ( D42 . R1 ) implies D5 = R1));
L236:
now
assume L237: R5 , R17 |= ( D5 'in' D3 );
L238: ( R17 . D5 ) in ( R17 . D3 ) by L237 , ZF_MODEL:13;
L239: ( R17 . D4 ) = ( D42 . D4 ) by L235;
L240: (( R17 . D3 ) = ( D42 . D3 ) & ( D42 . D3 ) = ( R15 . D3 )) by L235 , FUNCT_7:32;
thus L241: R5 , R17 |= ( D5 'in' D4 ) by L240 , L233 , L232 , L238 , L239 , ZF_MODEL:13;
end;
thus L242: R5 , R17 |= ( ( D5 'in' D3 ) => ( D5 'in' D4 ) ) by L236 , ZF_MODEL:18;
end;
L243: R5 , D42 |= ( All (D5 , ( ( D5 'in' D3 ) => ( D5 'in' D4 ) )) ) by L234 , ZF_MODEL:16;
L244: ( D41 . D1 ) = ( D40 . D1 ) by FUNCT_7:32;
L245: ( D42 . D3 ) = ( R15 . D3 ) by FUNCT_7:32;
L246: (not R5 , D42 |= ( D4 '=' D3 )) by L245 , L230 , L232 , ZF_MODEL:12;
L247: R5 , D42 |= ( 'not' ( D4 '=' D3 ) ) by L246 , ZF_MODEL:14;
L248: (( D42 . D1 ) = ( R15 . D1 ) & ( R15 . D1 ) = ( D41 . D1 )) by L225 , FUNCT_7:32;
L249: R5 , D42 |= ( D4 'in' D1 ) by L248 , L223 , L231 , L232 , L244 , ZF_MODEL:13;
L250: R5 , D42 |= ( ( D4 'in' D1 ) '&' ( 'not' ( D4 '=' D3 ) ) ) by L249 , L247 , ZF_MODEL:15;
L251: ((for R1 being Variable holds (( D42 . R1 ) <> ( R15 . R1 ) implies D4 = R1)) & R5 , D42 |= ( ( ( D4 'in' D1 ) '&' ( 'not' ( D4 '=' D3 ) ) ) '&' ( All (D5 , ( ( D5 'in' D3 ) => ( D5 'in' D4 ) )) ) )) by L250 , L243 , FUNCT_7:32 , ZF_MODEL:15;
thus L252: R5 , R15 |= ( Ex (D4 , ( ( ( D4 'in' D1 ) '&' ( 'not' ( D4 '=' D3 ) ) ) '&' ( All (D5 , ( ( D5 'in' D3 ) => ( D5 'in' D4 ) )) ) )) ) by L251 , ZF_MODEL:20;
end;
thus L253: R5 , R15 |= ( ( D3 'in' D1 ) => ( Ex (D4 , ( ( ( D4 'in' D1 ) '&' ( 'not' ( D4 '=' D3 ) ) ) '&' ( All (D5 , ( ( D5 'in' D3 ) => ( D5 'in' D4 ) )) ) )) ) ) by L226 , ZF_MODEL:18;
end;
L254: R5 , D41 |= ( All (D3 , ( ( D3 'in' D1 ) => ( Ex (D4 , ( ( ( D4 'in' D1 ) '&' ( 'not' ( D4 '=' D3 ) ) ) '&' ( All (D5 , ( ( D5 'in' D3 ) => ( D5 'in' D4 ) )) ) )) ) )) ) by L224 , ZF_MODEL:16;
L255: (( D41 . D2 ) = D39 & ( D41 . D1 ) = ( D40 . D1 )) by FUNCT_7:32 , FUNCT_7:128;
L256: R5 , D41 |= ( D2 'in' D1 ) by L255 , L220 , L223 , ZF_MODEL:13;
L257: ((for R1 being Variable holds (( D41 . R1 ) <> ( D40 . R1 ) implies D2 = R1)) & R5 , D41 |= ( ( D2 'in' D1 ) '&' ( All (D3 , ( ( D3 'in' D1 ) => ( Ex (D4 , ( ( ( D4 'in' D1 ) '&' ( 'not' ( D4 '=' D3 ) ) ) '&' ( All (D5 , ( ( D5 'in' D3 ) => ( D5 'in' D4 ) )) ) )) ) )) ) )) by L256 , L254 , FUNCT_7:32 , ZF_MODEL:15;
L258: ((for R1 being Variable holds (( D40 . R1 ) <> ( C4 . R1 ) implies D1 = R1)) & R5 , D40 |= ( Ex (D2 , ( ( D2 'in' D1 ) '&' ( All (D3 , ( ( D3 'in' D1 ) => ( Ex (D4 , ( ( ( D4 'in' D1 ) '&' ( 'not' ( D4 '=' D3 ) ) ) '&' ( All (D5 , ( ( D5 'in' D3 ) => ( D5 'in' D4 ) )) ) )) ) )) ) )) )) by L257 , FUNCT_7:32 , ZF_MODEL:20;
thus L259: thesis by L258 , ZF_MODEL:20;
end;
theorem
L260: (for R5 being non  empty set holds (R5 is  epsilon-transitive implies (R5 |= ( the_axiom_of_infinity ) iff (ex R9 being set st (R9 in R5 & R9 <> ( {} ) & (for R10 being set holds (R10 in R9 implies (ex R11 being set st (R10 c< R11 & R11 in R9)))))))))
proof
let R5 being non  empty set;
assume L261: R5 is  epsilon-transitive;
thus L262: (R5 |= ( the_axiom_of_infinity ) implies (ex R9 being set st (R9 in R5 & R9 <> ( {} ) & (for R10 being set holds (R10 in R9 implies (ex R11 being set st (R10 c< R11 & R11 in R9)))))))
proof
assume L263: R5 |= ( the_axiom_of_infinity );
consider R12 being (Element of R5) such that L264: R12 <> ( {} ) and L265: (for R13 being (Element of R5) holds (R13 in R12 implies (ex R14 being (Element of R5) st (R13 c< R14 & R14 in R12)))) by L263 , L261 , L181;
reconsider D43 = R12 as set;
take D43;
thus L266: (D43 in R5 & D43 <> ( {} )) by L264;
let R10 being set;
assume that
L267: R10 in D43;
L268: D43 c= R5 by L261 , ORDINAL1:def 2;
reconsider D44 = R10 as (Element of R5) by L268 , L267;
consider R14 being (Element of R5) such that L269: (D44 c< R14 & R14 in R12) by L265 , L267;
reconsider D45 = R14 as set;
take D45;
thus L270: thesis by L269;
end;

given R9 being set such that
L271: R9 in R5
and
L272: R9 <> ( {} )
and
L273: (for R10 being set holds (R10 in R9 implies (ex R11 being set st (R10 c< R11 & R11 in R9))));

L274: (ex R12 being (Element of R5) st (R12 <> ( {} ) & (for R13 being (Element of R5) holds (R13 in R12 implies (ex R14 being (Element of R5) st (R13 c< R14 & R14 in R12))))))
proof
reconsider D46 = R9 as (Element of R5) by L271;
take D46;
thus L275: D46 <> ( {} ) by L272;
let R13 being (Element of R5);
assume L276: R13 in D46;
consider R11 being set such that L277: R13 c< R11 and L278: R11 in R9 by L276 , L273;
L279: R9 c= R5 by L261 , L271 , ORDINAL1:def 2;
reconsider D47 = R11 as (Element of R5) by L279 , L278;
take D47;
thus L280: thesis by L277 , L278;
end;
thus L281: thesis by L274 , L261 , L181;
end;
theorem
L282: (for R5 being non  empty set holds (R5 is  epsilon-transitive implies (R5 |= ( the_axiom_of_power_sets ) iff (for R12 being (Element of R5) holds ( R5 /\ ( bool R12 ) ) in R5))))
proof
let R5 being non  empty set;
assume L283: (for R9 being set holds (R9 in R5 implies R9 c= R5));
thus L284: (R5 |= ( the_axiom_of_power_sets ) implies (for R12 being (Element of R5) holds ( R5 /\ ( bool R12 ) ) in R5))
proof
set D48 = the (Function of ( VAR ) , R5);
assume L285: R5 |= ( the_axiom_of_power_sets );
let R12 being (Element of R5);
set D49 = ( D48 +* (D1 , R12) );
L286: R5 |= ( Ex (D2 , ( All (D3 , ( ( D3 'in' D2 ) <=> ( All (D4 , ( ( D4 'in' D3 ) => ( D4 'in' D1 ) )) ) )) )) ) by L285 , ZF_MODEL:23;
L287: R5 , D49 |= ( Ex (D2 , ( All (D3 , ( ( D3 'in' D2 ) <=> ( All (D4 , ( ( D4 'in' D3 ) => ( D4 'in' D1 ) )) ) )) )) ) by L286 , ZF_MODEL:def 5;
consider R16 being (Function of ( VAR ) , R5) such that L288: (for R1 being Variable holds (( R16 . R1 ) <> ( D49 . R1 ) implies D2 = R1)) and L289: R5 , R16 |= ( All (D3 , ( ( D3 'in' D2 ) <=> ( All (D4 , ( ( D4 'in' D3 ) => ( D4 'in' D1 ) )) ) )) ) by L287 , ZF_MODEL:20;
L290: ( D49 . D1 ) = R12 by FUNCT_7:128;
L291: ( R16 . D2 ) = ( R5 /\ ( bool R12 ) )
proof
thus L292: (for R6 being set holds (R6 in ( R16 . D2 ) implies R6 in ( R5 /\ ( bool R12 ) )))
proof
let R6 being set;
assume L293: R6 in ( R16 . D2 );
L294: ( R16 . D2 ) c= R5 by L283;
reconsider D50 = R6 as (Element of R5) by L294 , L293;
set D51 = ( R16 +* (D3 , D50) );
L295: ( D51 . D3 ) = D50 by FUNCT_7:128;
L296: (for R1 being Variable holds (( D51 . R1 ) <> ( R16 . R1 ) implies D3 = R1)) by FUNCT_7:32;
L297: R5 , D51 |= ( ( D3 'in' D2 ) <=> ( All (D4 , ( ( D4 'in' D3 ) => ( D4 'in' D1 ) )) ) ) by L296 , L289 , ZF_MODEL:16;
L298: ( D51 . D2 ) = ( R16 . D2 ) by FUNCT_7:32;
L299: R5 , D51 |= ( D3 'in' D2 ) by L298 , L293 , L295 , ZF_MODEL:13;
L300: R5 , D51 |= ( All (D4 , ( ( D4 'in' D3 ) => ( D4 'in' D1 ) )) ) by L299 , L297 , ZF_MODEL:19;
L301: D50 c= R12
proof
let R7 being set;
assume that
L302: R7 in D50;
L303: D50 c= R5 by L283;
reconsider D52 = R7 as (Element of R5) by L303 , L302;
set D53 = ( D51 +* (D4 , D52) );
L304: ( D53 . D4 ) = D52 by FUNCT_7:128;
L305: (for R1 being Variable holds (( D53 . R1 ) <> ( D51 . R1 ) implies D4 = R1)) by FUNCT_7:32;
L306: R5 , D53 |= ( ( D4 'in' D3 ) => ( D4 'in' D1 ) ) by L305 , L300 , ZF_MODEL:16;
L307: ( D53 . D3 ) = ( D51 . D3 ) by FUNCT_7:32;
L308: R5 , D53 |= ( D4 'in' D3 ) by L307 , L295 , L302 , L304 , ZF_MODEL:13;
L309: R5 , D53 |= ( D4 'in' D1 ) by L308 , L306 , ZF_MODEL:18;
L310: (( D53 . D1 ) = ( D51 . D1 ) & ( D51 . D1 ) = ( R16 . D1 )) by FUNCT_7:32;
L311: ( R16 . D1 ) = ( D49 . D1 ) by L288;
thus L312: thesis by L311 , L290 , L304 , L309 , L310 , ZF_MODEL:13;
end;
thus L313: thesis by L301 , XBOOLE_0:def 4;
end;

let R6 being set;
assume L314: R6 in ( R5 /\ ( bool R12 ) );
L315: R6 in ( bool R12 ) by L314 , XBOOLE_0:def 4;
reconsider D54 = R6 as (Element of R5) by L314 , XBOOLE_0:def 4;
set D55 = ( R16 +* (D3 , D54) );
L316: ( D55 . D3 ) = D54 by FUNCT_7:128;
L317:
now
let C5 being (Function of ( VAR ) , R5);
assume that
L318: (for R1 being Variable holds (( C5 . R1 ) <> ( D55 . R1 ) implies D4 = R1));
L319:
now
assume L320: R5 , C5 |= ( D4 'in' D3 );
L321: ( C5 . D4 ) in ( C5 . D3 ) by L320 , ZF_MODEL:13;
L322: (( D55 . D1 ) = ( R16 . D1 ) & ( R16 . D1 ) = ( D49 . D1 )) by L288 , FUNCT_7:32;
L323: (( C5 . D3 ) = ( D55 . D3 ) & ( C5 . D1 ) = ( D55 . D1 )) by L318;
thus L324: R5 , C5 |= ( D4 'in' D1 ) by L323 , L290 , L315 , L316 , L321 , L322 , ZF_MODEL:13;
end;
thus L325: R5 , C5 |= ( ( D4 'in' D3 ) => ( D4 'in' D1 ) ) by L319 , ZF_MODEL:18;
end;
L326: R5 , D55 |= ( All (D4 , ( ( D4 'in' D3 ) => ( D4 'in' D1 ) )) ) by L317 , ZF_MODEL:16;
L327: ( D55 . D2 ) = ( R16 . D2 ) by FUNCT_7:32;
L328: (for R1 being Variable holds (( D55 . R1 ) <> ( R16 . R1 ) implies D3 = R1)) by FUNCT_7:32;
L329: R5 , D55 |= ( ( D3 'in' D2 ) <=> ( All (D4 , ( ( D4 'in' D3 ) => ( D4 'in' D1 ) )) ) ) by L328 , L289 , ZF_MODEL:16;
L330: R5 , D55 |= ( D3 'in' D2 ) by L329 , L326 , ZF_MODEL:19;
thus L331: thesis by L330 , L316 , L327 , ZF_MODEL:13;
end;
thus L332: thesis by L291;
end;

assume L333: (for R12 being (Element of R5) holds ( R5 /\ ( bool R12 ) ) in R5);
L334: R5 |= ( Ex (D2 , ( All (D3 , ( ( D3 'in' D2 ) <=> ( All (D4 , ( ( D4 'in' D3 ) => ( D4 'in' D1 ) )) ) )) )) )
proof
let R15 being (Function of ( VAR ) , R5);
reconsider D56 = ( R5 /\ ( bool ( R15 . D1 ) ) ) as (Element of R5) by L333;
set D57 = ( R15 +* (D2 , D56) );
L335: ( D57 . D2 ) = D56 by FUNCT_7:128;
L336:
now
let R17 being (Function of ( VAR ) , R5);
assume that
L337: (for R1 being Variable holds (( R17 . R1 ) <> ( D57 . R1 ) implies D3 = R1));
L338:
now
thus L339: (R5 , R17 |= ( D3 'in' D2 ) implies R5 , R17 |= ( All (D4 , ( ( D4 'in' D3 ) => ( D4 'in' D1 ) )) ))
proof
assume L340: R5 , R17 |= ( D3 'in' D2 );
L341: ( R17 . D3 ) in ( R17 . D2 ) by L340 , ZF_MODEL:13;
L342: ( R17 . D2 ) = D56 by L335 , L337;
L343: ( R17 . D3 ) in ( bool ( R15 . D1 ) ) by L342 , L341 , XBOOLE_0:def 4;
L344:
now
let C6 being (Function of ( VAR ) , R5);
assume that
L345: (for R1 being Variable holds (( C6 . R1 ) <> ( R17 . R1 ) implies D4 = R1));
L346:
now
assume L347: R5 , C6 |= ( D4 'in' D3 );
L348: ( C6 . D4 ) in ( C6 . D3 ) by L347 , ZF_MODEL:13;
L349: (( C6 . D3 ) = ( R17 . D3 ) & ( R15 . D1 ) = ( D57 . D1 )) by L345 , FUNCT_7:32;
L350: (( D57 . D1 ) = ( R17 . D1 ) & ( R17 . D1 ) = ( C6 . D1 )) by L337 , L345;
thus L351: R5 , C6 |= ( D4 'in' D1 ) by L350 , L343 , L348 , L349 , ZF_MODEL:13;
end;
thus L352: R5 , C6 |= ( ( D4 'in' D3 ) => ( D4 'in' D1 ) ) by L346 , ZF_MODEL:18;
end;
thus L353: thesis by L344 , ZF_MODEL:16;
end;

assume L354: R5 , R17 |= ( All (D4 , ( ( D4 'in' D3 ) => ( D4 'in' D1 ) )) );
L355: ( R17 . D3 ) c= ( R15 . D1 )
proof
let R6 being set;
assume that
L356: R6 in ( R17 . D3 );
L357: ( R17 . D3 ) c= R5 by L283;
reconsider D58 = R6 as (Element of R5) by L357 , L356;
set D59 = ( R17 +* (D4 , D58) );
L358: ( D59 . D4 ) = D58 by FUNCT_7:128;
L359: (for R1 being Variable holds (( D59 . R1 ) <> ( R17 . R1 ) implies D4 = R1)) by FUNCT_7:32;
L360: R5 , D59 |= ( ( D4 'in' D3 ) => ( D4 'in' D1 ) ) by L359 , L354 , ZF_MODEL:16;
L361: ( D59 . D3 ) = ( R17 . D3 ) by FUNCT_7:32;
L362: R5 , D59 |= ( D4 'in' D3 ) by L361 , L356 , L358 , ZF_MODEL:13;
L363: R5 , D59 |= ( D4 'in' D1 ) by L362 , L360 , ZF_MODEL:18;
L364: ( D59 . D4 ) in ( D59 . D1 ) by L363 , ZF_MODEL:13;
L365: (( D59 . D1 ) = ( R17 . D1 ) & ( D57 . D1 ) = ( R15 . D1 )) by FUNCT_7:32;
thus L366: thesis by L365 , L337 , L358 , L364;
end;
L367: ( R17 . D2 ) = ( D57 . D2 ) by L337;
L368: ( R17 . D3 ) in ( R17 . D2 ) by L367 , L335 , L355 , XBOOLE_0:def 4;
thus L369: R5 , R17 |= ( D3 'in' D2 ) by L368 , ZF_MODEL:13;
end;
thus L370: R5 , R17 |= ( ( D3 'in' D2 ) <=> ( All (D4 , ( ( D4 'in' D3 ) => ( D4 'in' D1 ) )) ) ) by L338 , ZF_MODEL:19;
end;
L371: R5 , D57 |= ( All (D3 , ( ( D3 'in' D2 ) <=> ( All (D4 , ( ( D4 'in' D3 ) => ( D4 'in' D1 ) )) ) )) ) by L336 , ZF_MODEL:16;
L372: (for R1 being Variable holds (( D57 . R1 ) <> ( R15 . R1 ) implies D2 = R1)) by FUNCT_7:32;
thus L373: thesis by L372 , L371 , ZF_MODEL:20;
end;
thus L374: thesis by L334 , ZF_MODEL:23;
end;
theorem
L375: (for R5 being non  empty set holds (R5 is  epsilon-transitive implies (R5 |= ( the_axiom_of_power_sets ) iff (for R9 being set holds (R9 in R5 implies ( R5 /\ ( bool R9 ) ) in R5)))))
proof
let R5 being non  empty set;
assume L376: R5 is  epsilon-transitive;
thus L377: (R5 |= ( the_axiom_of_power_sets ) implies (for R9 being set holds (R9 in R5 implies ( R5 /\ ( bool R9 ) ) in R5))) by L376 , L282;
assume L378: (for R9 being set holds (R9 in R5 implies ( R5 /\ ( bool R9 ) ) in R5));
L379: (for R12 being (Element of R5) holds ( R5 /\ ( bool R12 ) ) in R5) by L378;
thus L380: thesis by L379 , L376 , L282;
end;
defpred S1[ Nat ] means (for R1 being Variable holds (for R5 being non  empty set holds (for R4 being ZF-formula holds (for R15 being (Function of ( VAR ) , R5) holds ((( len R4 ) = $1 & (not R1 in ( Free R4 )) & R5 , R15 |= R4) implies R5 , R15 |= ( All (R1 , R4) ))))));
L381: (for B1 being Nat holds ((for B2 being Nat holds (B2 < B1 implies S1[ B2 ])) implies S1[ B1 ]))
proof
let C7 being Nat;
assume that
L382: (for B3 being Nat holds (B3 < C7 implies (for R1 being Variable holds (for R5 being non  empty set holds (for R4 being ZF-formula holds (for R15 being (Function of ( VAR ) , R5) holds ((( len R4 ) = B3 & (not R1 in ( Free R4 )) & R5 , R15 |= R4) implies R5 , R15 |= ( All (R1 , R4) ))))))));
let R1 being Variable;
let R5 being non  empty set;
let R4 being ZF-formula;
let R15 being (Function of ( VAR ) , R5);
assume that
L383: ( len R4 ) = C7
and
L384: (not R1 in ( Free R4 ))
and
L385: R5 , R15 |= R4;
L386:
now
assume L387: R4 is  being_equality;
L388: ( Free R4 ) = { ( Var1 R4 ) , ( Var2 R4 ) } by L387 , ZF_MODEL:1;
L389: (R1 <> ( Var1 R4 ) & R1 <> ( Var2 R4 )) by L388 , L384 , TARSKI:def 2;
L390: R4 = ( ( Var1 R4 ) '=' ( Var2 R4 ) ) by L387 , ZF_LANG:36;
L391: ( R15 . ( Var1 R4 ) ) = ( R15 . ( Var2 R4 ) ) by L390 , L385 , ZF_MODEL:12;
L392:
now
let R16 being (Function of ( VAR ) , R5);
assume L393: (for R2 being Variable holds (( R16 . R2 ) <> ( R15 . R2 ) implies R1 = R2));
L394: (( R16 . ( Var1 R4 ) ) = ( R15 . ( Var1 R4 ) ) & ( R16 . ( Var2 R4 ) ) = ( R15 . ( Var2 R4 ) )) by L393 , L389;
thus L395: R5 , R16 |= R4 by L394 , L390 , L391 , ZF_MODEL:12;
end;
thus L396: thesis by L392 , ZF_MODEL:16;
end;
L397:
now
assume L398: R4 is  universal;
L399: R4 = ( All (( bound_in R4 ) , ( the_scope_of R4 )) ) by L398 , ZF_LANG:44;
L400: ( Free R4 ) = ( ( Free ( the_scope_of R4 ) ) \ { ( bound_in R4 ) } ) by L398 , ZF_MODEL:1;
L401: ((not R1 in ( Free ( the_scope_of R4 ) )) or R1 in { ( bound_in R4 ) }) by L400 , L384 , XBOOLE_0:def 5;
L402:
now
assume L403: R1 <> ( bound_in R4 );
assume L404: (not thesis);
consider R16 being (Function of ( VAR ) , R5) such that L405: (for R2 being Variable holds (( R16 . R2 ) <> ( R15 . R2 ) implies R1 = R2)) and L406: (not R5 , R16 |= R4) by L404 , ZF_MODEL:16;
consider R17 being (Function of ( VAR ) , R5) such that L407: (for R2 being Variable holds (( R17 . R2 ) <> ( R16 . R2 ) implies ( bound_in R4 ) = R2)) and L408: (not R5 , R17 |= ( the_scope_of R4 )) by L399 , L406 , ZF_MODEL:16;
set D60 = ( R15 +* (( bound_in R4 ) , ( R17 . ( bound_in R4 ) )) );
L409:
now
let R2 being Variable;
assume L410: ( R17 . R2 ) <> ( D60 . R2 );
assume L411: R1 <> R2;
L412: ( R15 . R2 ) = ( R16 . R2 ) by L411 , L405;
L413: R2 <> ( bound_in R4 ) by L410 , FUNCT_7:128;
L414: ( D60 . R2 ) = ( R15 . R2 ) by L413 , FUNCT_7:32;
thus L415: contradiction by L414 , L407 , L410 , L413 , L412;
end;
L416: ( the_scope_of R4 ) is_immediate_constituent_of R4 by L399 , ZF_LANG:def 39;
L417: ( len ( the_scope_of R4 ) ) < ( len R4 ) by L416 , ZF_LANG:60;
L418: (for R2 being Variable holds (( D60 . R2 ) <> ( R15 . R2 ) implies ( bound_in R4 ) = R2)) by FUNCT_7:32;
L419: R5 , D60 |= ( the_scope_of R4 ) by L418 , L385 , L399 , ZF_MODEL:16;
L420: R5 , D60 |= ( All (R1 , ( the_scope_of R4 )) ) by L419 , L382 , L383 , L401 , L403 , L417 , TARSKI:def 1;
thus L421: contradiction by L420 , L408 , L409 , ZF_MODEL:16;
end;
L422:
now
assume L423: R1 = ( bound_in R4 );
L424:
now
let R16 being (Function of ( VAR ) , R5);
assume L425: (for R2 being Variable holds (( R16 . R2 ) <> ( R15 . R2 ) implies (R1 = R2 or ( bound_in R4 ) = R2)));
L426: (for R2 being Variable holds (( R16 . R2 ) <> ( R15 . R2 ) implies ( bound_in R4 ) = R2)) by L425 , L423;
thus L427: R5 , R16 |= ( the_scope_of R4 ) by L426 , L385 , L399 , ZF_MODEL:16;
end;
L428: R5 , R15 |= ( All (R1 , ( bound_in R4 ) , ( the_scope_of R4 )) ) by L424 , ZF_MODEL:21;
thus L429: thesis by L428 , L398 , ZF_LANG:44;
end;
thus L430: thesis by L422 , L402;
end;
L431:
now
assume L432: R4 is  conjunctive;
L433: R4 = ( ( the_left_argument_of R4 ) '&' ( the_right_argument_of R4 ) ) by L432 , ZF_LANG:40;
L434: ( the_right_argument_of R4 ) is_immediate_constituent_of R4 by L433 , ZF_LANG:def 39;
L435: ( len ( the_right_argument_of R4 ) ) < ( len R4 ) by L434 , ZF_LANG:60;
L436: ( the_left_argument_of R4 ) is_immediate_constituent_of R4 by L433 , ZF_LANG:def 39;
L437: ( len ( the_left_argument_of R4 ) ) < ( len R4 ) by L436 , ZF_LANG:60;
L438: ( Free R4 ) = ( ( Free ( the_left_argument_of R4 ) ) \/ ( Free ( the_right_argument_of R4 ) ) ) by L432 , ZF_MODEL:1;
L439: (not R1 in ( Free ( the_left_argument_of R4 ) )) by L438 , L384 , XBOOLE_0:def 3;
L440: (not R1 in ( Free ( the_right_argument_of R4 ) )) by L384 , L438 , XBOOLE_0:def 3;
L441: R5 , R15 |= ( the_right_argument_of R4 ) by L385 , L433 , ZF_MODEL:15;
L442: R5 , R15 |= ( All (R1 , ( the_right_argument_of R4 )) ) by L441 , L382 , L383 , L440 , L435;
L443: R5 , R15 |= ( the_left_argument_of R4 ) by L385 , L433 , ZF_MODEL:15;
L444: R5 , R15 |= ( All (R1 , ( the_left_argument_of R4 )) ) by L443 , L382 , L383 , L439 , L437;
L445:
now
let R16 being (Function of ( VAR ) , R5);
assume L446: (for R2 being Variable holds (( R16 . R2 ) <> ( R15 . R2 ) implies R1 = R2));
L447: (R5 , R16 |= ( the_left_argument_of R4 ) & R5 , R16 |= ( the_right_argument_of R4 )) by L446 , L444 , L442 , ZF_MODEL:16;
thus L448: R5 , R16 |= R4 by L447 , L433 , ZF_MODEL:15;
end;
thus L449: thesis by L445 , ZF_MODEL:16;
end;
L450:
now
assume L451: R4 is  being_membership;
L452: ( Free R4 ) = { ( Var1 R4 ) , ( Var2 R4 ) } by L451 , ZF_MODEL:1;
L453: (R1 <> ( Var1 R4 ) & R1 <> ( Var2 R4 )) by L452 , L384 , TARSKI:def 2;
L454: R4 = ( ( Var1 R4 ) 'in' ( Var2 R4 ) ) by L451 , ZF_LANG:37;
L455: ( R15 . ( Var1 R4 ) ) in ( R15 . ( Var2 R4 ) ) by L454 , L385 , ZF_MODEL:13;
L456:
now
let R16 being (Function of ( VAR ) , R5);
assume L457: (for R2 being Variable holds (( R16 . R2 ) <> ( R15 . R2 ) implies R1 = R2));
L458: (( R16 . ( Var1 R4 ) ) = ( R15 . ( Var1 R4 ) ) & ( R16 . ( Var2 R4 ) ) = ( R15 . ( Var2 R4 ) )) by L457 , L453;
thus L459: R5 , R16 |= R4 by L458 , L454 , L455 , ZF_MODEL:13;
end;
thus L460: thesis by L456 , ZF_MODEL:16;
end;
L461:
now
assume L462: R4 is  negative;
L463: R4 = ( 'not' ( the_argument_of R4 ) ) by L462 , ZF_LANG:def 30;
L464: ( the_argument_of R4 ) is_immediate_constituent_of R4 by L463 , ZF_LANG:def 39;
L465: ( len ( the_argument_of R4 ) ) < ( len R4 ) by L464 , ZF_LANG:60;
L466: (not R1 in ( Free ( the_argument_of R4 ) )) by L384 , L462 , ZF_MODEL:1;
assume L467: (not thesis);
consider R16 being (Function of ( VAR ) , R5) such that L468: (for R2 being Variable holds (( R16 . R2 ) <> ( R15 . R2 ) implies R1 = R2)) and L469: (not R5 , R16 |= R4) by L467 , ZF_MODEL:16;
L470: R5 , R16 |= ( the_argument_of R4 ) by L463 , L469 , ZF_MODEL:14;
L471: R5 , R16 |= ( All (R1 , ( the_argument_of R4 )) ) by L470 , L382 , L383 , L465 , L466;
L472: R5 , R15 |= ( the_argument_of R4 ) by L471 , L468 , ZF_MODEL:16;
thus L473: contradiction by L472 , L385 , L463 , ZF_MODEL:14;
end;
thus L474: thesis by L461 , L386 , L450 , L431 , L397 , ZF_LANG:9;
end;
theorem
L475: (for R1 being Variable holds (for R4 being ZF-formula holds (for R5 being non  empty set holds (for R15 being (Function of ( VAR ) , R5) holds (((not R1 in ( Free R4 )) & R5 , R15 |= R4) implies R5 , R15 |= ( All (R1 , R4) ))))))
proof
let R1 being Variable;
let R4 being ZF-formula;
let R5 being non  empty set;
let R15 being (Function of ( VAR ) , R5);
L476: ( len R4 ) = ( len R4 );
L477: (for B4 being Nat holds S1[ B4 ]) from NAT_1:sch 4(L381);
thus L478: thesis by L477 , L476;
end;
L479: (for R1 being Variable holds (for R4 being ZF-formula holds (( the_scope_of ( All (R1 , R4) ) ) = R4 & ( bound_in ( All (R1 , R4) ) ) = R1)))
proof
let R1 being Variable;
let R4 being ZF-formula;
L480: ( All (R1 , R4) ) is  universal by ZF_LANG:5;
L481: ( All (R1 , R4) ) = ( All (( bound_in ( All (R1 , R4) ) ) , ( the_scope_of ( All (R1 , R4) ) )) ) by L480 , ZF_LANG:44;
thus L482: thesis by L481 , ZF_LANG:3;
end;
theorem
L483: (for R1 being Variable holds (for R2 being Variable holds (for R4 being ZF-formula holds (for R5 being non  empty set holds (for R15 being (Function of ( VAR ) , R5) holds (({ R1 , R2 } misses ( Free R4 ) & R5 , R15 |= R4) implies R5 , R15 |= ( All (R1 , R2 , R4) )))))))
proof
let R1 being Variable;
let R2 being Variable;
let R4 being ZF-formula;
let R5 being non  empty set;
let R15 being (Function of ( VAR ) , R5);
assume that
L484: { R1 , R2 } misses ( Free R4 )
and
L485: R5 , R15 |= R4;
L486: ( bound_in ( All (R2 , R4) ) ) = R2 by L479;
L487: (( All (R2 , R4) ) is  universal & ( the_scope_of ( All (R2 , R4) ) ) = R4) by L479 , ZF_LANG:5;
L488: ( Free ( All (R2 , R4) ) ) = ( ( Free R4 ) \ { R2 } ) by L487 , L486 , ZF_MODEL:1;
L489: R1 in { R1 , R2 } by TARSKI:def 2;
L490: (not R1 in ( Free R4 )) by L489 , L484 , XBOOLE_0:3;
L491: (not R1 in ( Free ( All (R2 , R4) ) )) by L490 , L488 , XBOOLE_0:def 5;
L492: R2 in { R1 , R2 } by TARSKI:def 2;
L493: (not R2 in ( Free R4 )) by L492 , L484 , XBOOLE_0:3;
L494: R5 , R15 |= ( All (R2 , R4) ) by L493 , L485 , L475;
thus L495: thesis by L494 , L491 , L475;
end;
theorem
L496: (for R1 being Variable holds (for R2 being Variable holds (for R3 being Variable holds (for R4 being ZF-formula holds (for R5 being non  empty set holds (for R15 being (Function of ( VAR ) , R5) holds (({ R1 , R2 , R3 } misses ( Free R4 ) & R5 , R15 |= R4) implies R5 , R15 |= ( All (R1 , R2 , R3 , R4) ))))))))
proof
let R1 being Variable;
let R2 being Variable;
let R3 being Variable;
let R4 being ZF-formula;
let R5 being non  empty set;
let R15 being (Function of ( VAR ) , R5);
assume that
L497: { R1 , R2 , R3 } misses ( Free R4 )
and
L498: R5 , R15 |= R4;
L499: ( bound_in ( All (R2 , ( All (R3 , R4) )) ) ) = R2 by L479;
L500:
now
let R6 being set;
assume L501: R6 in { R2 , R3 };
L502: (R6 = R2 or R6 = R3) by L501 , TARSKI:def 2;
L503: R6 in { R1 , R2 , R3 } by L502 , ENUMSET1:def 1;
thus L504: (not R6 in ( Free R4 )) by L503 , L497 , XBOOLE_0:3;
end;
L505: { R2 , R3 } misses ( Free R4 ) by L500 , XBOOLE_0:3;
L506: R5 , R15 |= ( All (R2 , R3 , R4) ) by L505 , L498 , L483;
L507: (( All (R3 , R4) ) is  universal & ( the_scope_of ( All (R3 , R4) ) ) = R4) by L479 , ZF_LANG:5;
L508: R1 in { R1 , R2 , R3 } by ENUMSET1:def 1;
L509: (not R1 in ( Free R4 )) by L508 , L497 , XBOOLE_0:3;
L510: (not R1 in ( ( Free R4 ) \ { R3 } )) by L509 , XBOOLE_0:def 5;
L511: (not R1 in ( ( ( Free R4 ) \ { R3 } ) \ { R2 } )) by L510 , XBOOLE_0:def 5;
L512: ( bound_in ( All (R3 , R4) ) ) = R3 by L479;
L513: (( All (R2 , ( All (R3 , R4) )) ) is  universal & ( the_scope_of ( All (R2 , ( All (R3 , R4) )) ) ) = ( All (R3 , R4) )) by L479 , ZF_LANG:5;
L514: ( Free ( All (R2 , R3 , R4) ) ) = ( ( Free ( All (R3 , R4) ) ) \ { R2 } ) by L513 , L499 , ZF_MODEL:1
.= ( ( ( Free R4 ) \ { R3 } ) \ { R2 } ) by L507 , L512 , ZF_MODEL:1;
thus L515: thesis by L514 , L506 , L511 , L475;
end;
definition
let R4 being ZF-formula;
let R5 being non  empty set;
let C8 being (Function of ( VAR ) , R5);
assume that
L516: (not ( x. ( 0 ) ) in ( Free R4 ))
and
L517: R5 , C8 |= ( All (( x. 3 ) , ( Ex (( x. ( 0 ) ) , ( All (( x. 4 ) , ( R4 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) );
func def_func' (R4 , C8) -> (Function of R5 , R5) means 
:L518: (for R16 being (Function of ( VAR ) , R5) holds ((for R2 being Variable holds (( R16 . R2 ) <> ( C8 . R2 ) implies (( x. ( 0 ) ) = R2 or ( x. 3 ) = R2 or ( x. 4 ) = R2))) implies (R5 , R16 |= R4 iff ( it . ( R16 . ( x. 3 ) ) ) = ( R16 . ( x. 4 ) ))));
existence
proof
defpred S2[ (Function of ( VAR ) , R5) ] means (for R2 being Variable holds (( $1 . R2 ) <> ( C8 . R2 ) implies (D1 = R2 or D4 = R2 or D5 = R2)));
defpred S3[ set ] means (for R16 being (Function of ( VAR ) , R5) holds ((S2[ R16 ] & ( R16 . D4 ) = ( $1 `1 ) & ( R16 . D5 ) = ( $1 `2 )) implies R5 , R16 |= R4));
consider R9 being set such that L519: (for R6 being set holds (R6 in R9 iff (R6 in [: R5 , R5 :] & S3[ R6 ]))) from XBOOLE_0:sch 1;
L520: R9 is  Relation-like  Function-like
proof
thus L521: (for R6 being set holds (R6 in R9 implies (ex R7 being set st (ex R8 being set st [ R7 , R8 ] = R6))))
proof
let R6 being set;
assume L522: R6 in R9;
L523: R6 in [: R5 , R5 :] by L522 , L519;
thus L524: thesis by L523 , RELAT_1:def 1;
end;

let R6 being set;
let R7 being set;
let R8 being set;
assume that
L525: [ R6 , R7 ] in R9
and
L526: [ R6 , R8 ] in R9;
L527: ([ R6 , R7 ] in [: R5 , R5 :] & [ R6 , R8 ] in [: R5 , R5 :]) by L519 , L525 , L526;
reconsider D61 = R6 , D62 = R7 , D63 = R8 as (Element of R5) by L527 , ZFMISC_1:87;
set D64 = ( C8 +* (D4 , D61) );
L528: (for R1 being Variable holds (( D64 . R1 ) <> ( C8 . R1 ) implies R1 = D4)) by FUNCT_7:32;
L529: R5 , D64 |= ( Ex (D1 , ( All (D5 , ( R4 <=> ( D5 '=' D1 ) )) )) ) by L528 , L517 , ZF_MODEL:16;
consider R16 being (Function of ( VAR ) , R5) such that L530: (for R1 being Variable holds (( R16 . R1 ) <> ( D64 . R1 ) implies D1 = R1)) and L531: R5 , R16 |= ( All (D5 , ( R4 <=> ( D5 '=' D1 ) )) ) by L529 , ZF_MODEL:20;
L532: (( D64 . D4 ) = D61 & ( R16 . D4 ) = ( D64 . D4 )) by L530 , FUNCT_7:128;
set D65 = ( R16 +* (D5 , D62) );
L533: ( D65 . D5 ) = D62 by FUNCT_7:128;
L534: S2[ D65 ]
proof
let R2 being Variable;
assume L535: ( D65 . R2 ) <> ( C8 . R2 );
assume that
L536: D1 <> R2
and
L537: (D4 <> R2 & D5 <> R2);
L538: (( D64 . R2 ) = ( C8 . R2 ) & ( D65 . R2 ) = ( R16 . R2 )) by L537 , FUNCT_7:32;
thus L539: contradiction by L538 , L530 , L535 , L536;
end;
L540: (for R1 being Variable holds (( D65 . R1 ) <> ( R16 . R1 ) implies D5 = R1)) by FUNCT_7:32;
L541: R5 , D65 |= ( R4 <=> ( D5 '=' D1 ) ) by L540 , L531 , ZF_MODEL:16;
L542: ( D65 . D4 ) = ( R16 . D4 ) by FUNCT_7:32;
L543: (( [ R6 , R7 ] `1 ) = D61 & ( [ R6 , R7 ] `2 ) = D62);
L544: R5 , D65 |= R4 by L543 , L519 , L525 , L533 , L542 , L532 , L534;
L545: R5 , D65 |= ( D5 '=' D1 ) by L544 , L541 , ZF_MODEL:19;
L546: ( D65 . D5 ) = ( D65 . D1 ) by L545 , ZF_MODEL:12;
set D66 = ( R16 +* (D5 , D63) );
L547: ( D66 . D5 ) = D63 by FUNCT_7:128;
L548: S2[ D66 ]
proof
let R2 being Variable;
assume L549: ( D66 . R2 ) <> ( C8 . R2 );
assume that
L550: D1 <> R2
and
L551: (D4 <> R2 & D5 <> R2);
L552: (( D64 . R2 ) = ( C8 . R2 ) & ( D66 . R2 ) = ( R16 . R2 )) by L551 , FUNCT_7:32;
thus L553: contradiction by L552 , L530 , L549 , L550;
end;
L554: (for R1 being Variable holds (( D66 . R1 ) <> ( R16 . R1 ) implies D5 = R1)) by FUNCT_7:32;
L555: R5 , D66 |= ( R4 <=> ( D5 '=' D1 ) ) by L554 , L531 , ZF_MODEL:16;
L556: ( D66 . D4 ) = ( R16 . D4 ) by FUNCT_7:32;
L557: (( [ R6 , R8 ] `1 ) = D61 & ( [ R6 , R8 ] `2 ) = D63);
L558: R5 , D66 |= R4 by L557 , L519 , L526 , L547 , L556 , L532 , L548;
L559: R5 , D66 |= ( D5 '=' D1 ) by L558 , L555 , ZF_MODEL:19;
L560: (( D65 . D1 ) = ( R16 . D1 ) & ( D66 . D1 ) = ( R16 . D1 )) by FUNCT_7:32;
thus L561: thesis by L560 , L533 , L547 , L559 , L546 , ZF_MODEL:12;
end;
reconsider D67 = R9 as Function by L520;
L562: ( rng D67 ) c= R5
proof
let R7 being set;
assume L563: R7 in ( rng D67 );
consider R6 being set such that L564: (R6 in ( dom D67 ) & R7 = ( D67 . R6 )) by L563 , FUNCT_1:def 3;
L565: [ R6 , R7 ] in D67 by L564 , FUNCT_1:1;
L566: [ R6 , R7 ] in [: R5 , R5 :] by L565 , L519;
thus L567: thesis by L566 , ZFMISC_1:87;
end;
L568: R5 c= ( dom D67 )
proof
let R6 being set;
assume L569: R6 in R5;
reconsider D68 = R6 as (Element of R5) by L569;
set D69 = ( C8 +* (D4 , D68) );
L570: (for R1 being Variable holds (( D69 . R1 ) <> ( C8 . R1 ) implies R1 = D4)) by FUNCT_7:32;
L571: R5 , D69 |= ( Ex (D1 , ( All (D5 , ( R4 <=> ( D5 '=' D1 ) )) )) ) by L570 , L517 , ZF_MODEL:16;
consider R17 being (Function of ( VAR ) , R5) such that L572: (for R1 being Variable holds (( R17 . R1 ) <> ( D69 . R1 ) implies R1 = D1)) and L573: R5 , R17 |= ( All (D5 , ( R4 <=> ( D5 '=' D1 ) )) ) by L571 , ZF_MODEL:20;
set D70 = ( R17 . D1 );
L574: ( D69 . D4 ) = D68 by FUNCT_7:128;
L575:
now
set D71 = ( R17 +* (D5 , D70) );
let R15 being (Function of ( VAR ) , R5);
assume that
L576: S2[ R15 ]
and
L577: ( R15 . D4 ) = ( [ D68 , D70 ] `1 )
and
L578: ( R15 . D5 ) = ( [ D68 , D70 ] `2 );
L579: ( D71 . D5 ) = D70 by FUNCT_7:128;
L580:
now
let R1 being Variable;
assume that
L581: ( R15 . R1 ) <> ( D71 . R1 );
L582: R1 <> D5 by L578 , L579 , L581;
L583: ( D71 . R1 ) = ( R17 . R1 ) by L582 , FUNCT_7:32;
L584: (( D69 . D4 ) = ( R17 . D4 ) & ( R17 . D4 ) = ( D71 . D4 )) by L572 , FUNCT_7:32;
L585: R1 <> D4 by L584 , L574 , L577 , L581;
L586: ( D69 . R1 ) = ( C8 . R1 ) by L585 , FUNCT_7:32;
assume L587: D1 <> R1;
L588: ( R15 . R1 ) = ( C8 . R1 ) by L587 , L576 , L582 , L585;
thus L589: contradiction by L588 , L572 , L581 , L587 , L586 , L583;
end;
L590: (for R1 being Variable holds (( D71 . R1 ) <> ( R17 . R1 ) implies D5 = R1)) by FUNCT_7:32;
L591: R5 , D71 |= ( R4 <=> ( D5 '=' D1 ) ) by L590 , L573 , ZF_MODEL:16;
L592: ( D71 . D1 ) = ( R17 . D1 ) by FUNCT_7:32;
L593: R5 , D71 |= ( D5 '=' D1 ) by L592 , L579 , ZF_MODEL:12;
L594: R5 , D71 |= R4 by L593 , L591 , ZF_MODEL:19;
L595: R5 , D71 |= ( All (D1 , R4) ) by L594 , L516 , L475;
thus L596: R5 , R15 |= R4 by L595 , L580 , ZF_MODEL:16;
end;
L597: [ D68 , D70 ] in [: R5 , R5 :] by ZFMISC_1:87;
L598: [ D68 , D70 ] in R9 by L597 , L519 , L575;
thus L599: thesis by L598 , FUNCT_1:1;
end;
L600: ( dom D67 ) c= R5
proof
let R6 being set;
assume L601: R6 in ( dom D67 );
consider R7 being set such that L602: [ R6 , R7 ] in D67 by L601 , XTUPLE_0:def 12;
L603: [ R6 , R7 ] in [: R5 , R5 :] by L519 , L602;
thus L604: thesis by L603 , ZFMISC_1:87;
end;
L605: R5 = ( dom D67 ) by L600 , L568 , XBOOLE_0:def 10;
reconsider D72 = D67 as (Function of R5 , R5) by L605 , L562 , FUNCT_2:def 1 , RELSET_1:4;
take D72;
let R15 being (Function of ( VAR ) , R5);
assume that
L606: (for R2 being Variable holds (( R15 . R2 ) <> ( C8 . R2 ) implies (( x. ( 0 ) ) = R2 or ( x. 3 ) = R2 or ( x. 4 ) = R2)));
thus L607: (R5 , R15 |= R4 implies ( D72 . ( R15 . ( x. 3 ) ) ) = ( R15 . ( x. 4 ) ))
proof
assume L608: R5 , R15 |= R4;
L609: R5 , R15 |= ( All (D1 , R4) ) by L608 , L516 , L475;
L610:
now
let R16 being (Function of ( VAR ) , R5);
assume that
L611: S2[ R16 ]
and
L612: (( R16 . D4 ) = ( [ ( R15 . D4 ) , ( R15 . D5 ) ] `1 ) & ( R16 . D5 ) = ( [ ( R15 . D4 ) , ( R15 . D5 ) ] `2 ));
L613:
now
let R1 being Variable;
assume that
L614: ( R16 . R1 ) <> ( R15 . R1 )
and
L615: D1 <> R1;
L616: (R1 <> D4 & R1 <> D5) by L612 , L614;
L617: ( R15 . R1 ) = ( C8 . R1 ) by L616 , L606 , L615;
thus L618: contradiction by L617 , L611 , L614 , L615 , L616;
end;
thus L619: R5 , R16 |= R4 by L613 , L609 , ZF_MODEL:16;
end;
L620: [ ( R15 . D4 ) , ( R15 . D5 ) ] in [: R5 , R5 :] by ZFMISC_1:87;
L621: [ ( R15 . D4 ) , ( R15 . D5 ) ] in R9 by L620 , L519 , L610;
thus L622: thesis by L621 , FUNCT_1:1;
end;

L623: (( [ ( R15 . D4 ) , ( R15 . D5 ) ] `1 ) = ( R15 . D4 ) & ( [ ( R15 . D4 ) , ( R15 . D5 ) ] `2 ) = ( R15 . D5 ));
L624: ( dom D72 ) = R5 by FUNCT_2:def 1;
assume L625: ( D72 . ( R15 . ( x. 3 ) ) ) = ( R15 . ( x. 4 ) );
L626: [ ( R15 . D4 ) , ( R15 . D5 ) ] in D72 by L625 , L624 , FUNCT_1:1;
thus L627: thesis by L626 , L519 , L606 , L623;
end;
uniqueness
proof
let C9 , C10 being (Function of R5 , R5);
assume that
L628: (for R16 being (Function of ( VAR ) , R5) holds ((for R2 being Variable holds (( R16 . R2 ) <> ( C8 . R2 ) implies (( x. ( 0 ) ) = R2 or ( x. 3 ) = R2 or ( x. 4 ) = R2))) implies (R5 , R16 |= R4 iff ( C9 . ( R16 . ( x. 3 ) ) ) = ( R16 . ( x. 4 ) ))))
and
L629: (for R16 being (Function of ( VAR ) , R5) holds ((for R2 being Variable holds (( R16 . R2 ) <> ( C8 . R2 ) implies (( x. ( 0 ) ) = R2 or ( x. 3 ) = R2 or ( x. 4 ) = R2))) implies (R5 , R16 |= R4 iff ( C10 . ( R16 . ( x. 3 ) ) ) = ( R16 . ( x. 4 ) ))));
let C11 being (Element of R5);
set D73 = ( C8 +* (D4 , C11) );
L630: (for R1 being Variable holds (( D73 . R1 ) <> ( C8 . R1 ) implies D4 = R1)) by FUNCT_7:32;
L631: R5 , D73 |= ( Ex (D1 , ( All (D5 , ( R4 <=> ( D5 '=' D1 ) )) )) ) by L630 , L517 , ZF_MODEL:16;
consider R16 being (Function of ( VAR ) , R5) such that L632: (for R1 being Variable holds (( R16 . R1 ) <> ( D73 . R1 ) implies D1 = R1)) and L633: R5 , R16 |= ( All (D5 , ( R4 <=> ( D5 '=' D1 ) )) ) by L631 , ZF_MODEL:20;
L634: ( R16 . D4 ) = ( D73 . D4 ) by L632;
set D74 = ( R16 +* (D5 , ( R16 . D1 )) );
L635:
now
let R1 being Variable;
assume that
L636: (( D74 . R1 ) <> ( C8 . R1 ) & ( x. ( 0 ) ) <> R1)
and
L637: (( x. 3 ) <> R1 & ( x. 4 ) <> R1);
L638: (( D73 . R1 ) = ( C8 . R1 ) & ( D74 . R1 ) = ( R16 . R1 )) by L637 , FUNCT_7:32;
thus L639: contradiction by L638 , L632 , L636;
end;
L640: (( D74 . D5 ) = ( R16 . D1 ) & ( D74 . D1 ) = ( R16 . D1 )) by FUNCT_7:32 , FUNCT_7:128;
L641: R5 , D74 |= ( D5 '=' D1 ) by L640 , ZF_MODEL:12;
L642: (( D73 . D4 ) = C11 & ( D74 . D4 ) = ( R16 . D4 )) by FUNCT_7:32 , FUNCT_7:128;
L643: (for R1 being Variable holds (( D74 . R1 ) <> ( R16 . R1 ) implies D5 = R1)) by FUNCT_7:32;
L644: R5 , D74 |= ( R4 <=> ( D5 '=' D1 ) ) by L643 , L633 , ZF_MODEL:16;
L645: R5 , D74 |= R4 by L644 , L641 , ZF_MODEL:19;
L646: ( C9 . ( D74 . ( x. 3 ) ) ) = ( D74 . ( x. 4 ) ) by L645 , L628 , L635;
thus L647: ( C9 . C11 ) = ( C10 . C11 ) by L646 , L629 , L645 , L635 , L642 , L634;
end;
end;
theorem
L649: (for R5 being non  empty set holds (for R4 being ZF-formula holds (for R15 being (Function of ( VAR ) , R5) holds (for R16 being (Function of ( VAR ) , R5) holds (((for R1 being Variable holds (( R15 . R1 ) <> ( R16 . R1 ) implies (not R1 in ( Free R4 )))) & R5 , R15 |= R4) implies R5 , R16 |= R4)))))
proof
let R5 being non  empty set;
defpred S4[ ZF-formula ] means (for R15 being (Function of ( VAR ) , R5) holds (for R16 being (Function of ( VAR ) , R5) holds (((for R1 being Variable holds (( R15 . R1 ) <> ( R16 . R1 ) implies (not R1 in ( Free $1 )))) & R5 , R15 |= $1) implies R5 , R16 |= $1)));
L650: (for R4 being ZF-formula holds (R4 is  atomic implies S4[ R4 ]))
proof
let R4 being ZF-formula;
assume that
L651: (R4 is  being_equality or R4 is  being_membership);
let R15 being (Function of ( VAR ) , R5);
let R16 being (Function of ( VAR ) , R5);
assume that
L652: (for R1 being Variable holds (( R15 . R1 ) <> ( R16 . R1 ) implies (not R1 in ( Free R4 ))))
and
L653: R5 , R15 |= R4;
L654:
now
assume L655: R4 is  being_membership;
L656: ( Free R4 ) = { ( Var1 R4 ) , ( Var2 R4 ) } by L655 , ZF_MODEL:1;
L657: ( Var1 R4 ) in ( Free R4 ) by L656 , TARSKI:def 2;
L658: ( R15 . ( Var1 R4 ) ) = ( R16 . ( Var1 R4 ) ) by L657 , L652;
L659: ( Var2 R4 ) in ( Free R4 ) by L656 , TARSKI:def 2;
L660: ( R15 . ( Var2 R4 ) ) = ( R16 . ( Var2 R4 ) ) by L659 , L652;
L661: R4 = ( ( Var1 R4 ) 'in' ( Var2 R4 ) ) by L655 , ZF_LANG:37;
L662: ( R15 . ( Var1 R4 ) ) in ( R15 . ( Var2 R4 ) ) by L661 , L653 , ZF_MODEL:13;
thus L663: thesis by L662 , L661 , L658 , L660 , ZF_MODEL:13;
end;
L664:
now
assume L665: R4 is  being_equality;
L666: ( Free R4 ) = { ( Var1 R4 ) , ( Var2 R4 ) } by L665 , ZF_MODEL:1;
L667: ( Var1 R4 ) in ( Free R4 ) by L666 , TARSKI:def 2;
L668: ( R15 . ( Var1 R4 ) ) = ( R16 . ( Var1 R4 ) ) by L667 , L652;
L669: ( Var2 R4 ) in ( Free R4 ) by L666 , TARSKI:def 2;
L670: ( R15 . ( Var2 R4 ) ) = ( R16 . ( Var2 R4 ) ) by L669 , L652;
L671: R4 = ( ( Var1 R4 ) '=' ( Var2 R4 ) ) by L665 , ZF_LANG:36;
L672: ( R15 . ( Var1 R4 ) ) = ( R15 . ( Var2 R4 ) ) by L671 , L653 , ZF_MODEL:12;
thus L673: thesis by L672 , L671 , L668 , L670 , ZF_MODEL:12;
end;
thus L674: thesis by L664 , L651 , L654;
end;
L675: (for R4 being ZF-formula holds ((R4 is  conjunctive & S4[ ( the_left_argument_of R4 ) ] & S4[ ( the_right_argument_of R4 ) ]) implies S4[ R4 ]))
proof
let R4 being ZF-formula;
assume L676: R4 is  conjunctive;
L677: R4 = ( ( the_left_argument_of R4 ) '&' ( the_right_argument_of R4 ) ) by L676 , ZF_LANG:40;
assume that
L678: (for R15 being (Function of ( VAR ) , R5) holds (for R16 being (Function of ( VAR ) , R5) holds (((for R1 being Variable holds (( R15 . R1 ) <> ( R16 . R1 ) implies (not R1 in ( Free ( the_left_argument_of R4 ) )))) & R5 , R15 |= ( the_left_argument_of R4 )) implies R5 , R16 |= ( the_left_argument_of R4 ))))
and
L679: (for R15 being (Function of ( VAR ) , R5) holds (for R16 being (Function of ( VAR ) , R5) holds (((for R1 being Variable holds (( R15 . R1 ) <> ( R16 . R1 ) implies (not R1 in ( Free ( the_right_argument_of R4 ) )))) & R5 , R15 |= ( the_right_argument_of R4 )) implies R5 , R16 |= ( the_right_argument_of R4 ))));
let R15 being (Function of ( VAR ) , R5);
let R16 being (Function of ( VAR ) , R5);
assume that
L680: (for R1 being Variable holds (( R15 . R1 ) <> ( R16 . R1 ) implies (not R1 in ( Free R4 ))))
and
L681: R5 , R15 |= R4;
L682: ( Free R4 ) = ( ( Free ( the_left_argument_of R4 ) ) \/ ( Free ( the_right_argument_of R4 ) ) ) by L676 , ZF_MODEL:1;
L683:
now
let R1 being Variable;
assume L684: ( R15 . R1 ) <> ( R16 . R1 );
L685: (not R1 in ( Free R4 )) by L684 , L680;
thus L686: (not R1 in ( Free ( the_right_argument_of R4 ) )) by L685 , L682 , XBOOLE_0:def 3;
end;
L687:
now
let R1 being Variable;
assume L688: ( R15 . R1 ) <> ( R16 . R1 );
L689: (not R1 in ( Free R4 )) by L688 , L680;
thus L690: (not R1 in ( Free ( the_left_argument_of R4 ) )) by L689 , L682 , XBOOLE_0:def 3;
end;
L691: R5 , R15 |= ( the_right_argument_of R4 ) by L677 , L681 , ZF_MODEL:15;
L692: R5 , R16 |= ( the_right_argument_of R4 ) by L691 , L679 , L683;
L693: R5 , R15 |= ( the_left_argument_of R4 ) by L677 , L681 , ZF_MODEL:15;
L694: R5 , R16 |= ( the_left_argument_of R4 ) by L693 , L678 , L687;
thus L695: thesis by L694 , L677 , L692 , ZF_MODEL:15;
end;
L696: (for R4 being ZF-formula holds ((R4 is  universal & S4[ ( the_scope_of R4 ) ]) implies S4[ R4 ]))
proof
let R4 being ZF-formula;
assume L697: R4 is  universal;
L698: R4 = ( All (( bound_in R4 ) , ( the_scope_of R4 )) ) by L697 , ZF_LANG:44;
assume L699: (for R15 being (Function of ( VAR ) , R5) holds (for R16 being (Function of ( VAR ) , R5) holds (((for R1 being Variable holds (( R15 . R1 ) <> ( R16 . R1 ) implies (not R1 in ( Free ( the_scope_of R4 ) )))) & R5 , R15 |= ( the_scope_of R4 )) implies R5 , R16 |= ( the_scope_of R4 ))));
let R15 being (Function of ( VAR ) , R5);
let R16 being (Function of ( VAR ) , R5);
assume that
L700: (for R1 being Variable holds (( R15 . R1 ) <> ( R16 . R1 ) implies (not R1 in ( Free R4 ))))
and
L701: R5 , R15 |= R4;
L702: ( Free R4 ) = ( ( Free ( the_scope_of R4 ) ) \ { ( bound_in R4 ) } ) by L697 , ZF_MODEL:1;
L703:
now
let R19 being (Function of ( VAR ) , R5);
assume that
L704: (for R1 being Variable holds (( R19 . R1 ) <> ( R16 . R1 ) implies ( bound_in R4 ) = R1));
set D75 = ( R15 +* (( bound_in R4 ) , ( R19 . ( bound_in R4 ) )) );
L705:
now
let R1 being Variable;
assume L706: ( D75 . R1 ) <> ( R19 . R1 );
L707: R1 <> ( bound_in R4 ) by L706 , FUNCT_7:128;
L708: (( D75 . R1 ) = ( R15 . R1 ) & ( R19 . R1 ) = ( R16 . R1 )) by L707 , L704 , FUNCT_7:32;
L709: (not R1 in ( Free R4 )) by L708 , L700 , L706;
L710: (not R1 in { ( bound_in R4 ) }) by L707 , TARSKI:def 1;
thus L711: (not R1 in ( Free ( the_scope_of R4 ) )) by L710 , L702 , L709 , XBOOLE_0:def 5;
end;
L712: (for R1 being Variable holds (( D75 . R1 ) <> ( R15 . R1 ) implies ( bound_in R4 ) = R1)) by FUNCT_7:32;
L713: R5 , D75 |= ( the_scope_of R4 ) by L712 , L698 , L701 , ZF_MODEL:16;
thus L714: R5 , R19 |= ( the_scope_of R4 ) by L713 , L699 , L705;
end;
thus L715: thesis by L703 , L698 , ZF_MODEL:16;
end;
L716: (for R4 being ZF-formula holds ((R4 is  negative & S4[ ( the_argument_of R4 ) ]) implies S4[ R4 ]))
proof
let R4 being ZF-formula;
assume L717: R4 is  negative;
L718: ( Free R4 ) = ( Free ( the_argument_of R4 ) ) by L717 , ZF_MODEL:1;
assume L719: (for R15 being (Function of ( VAR ) , R5) holds (for R16 being (Function of ( VAR ) , R5) holds (((for R1 being Variable holds (( R15 . R1 ) <> ( R16 . R1 ) implies (not R1 in ( Free ( the_argument_of R4 ) )))) & R5 , R15 |= ( the_argument_of R4 )) implies R5 , R16 |= ( the_argument_of R4 ))));
let R15 being (Function of ( VAR ) , R5);
let R16 being (Function of ( VAR ) , R5);
assume that
L720: (for R1 being Variable holds (( R15 . R1 ) <> ( R16 . R1 ) implies (not R1 in ( Free R4 ))))
and
L721: R5 , R15 |= R4
and
L722: (not R5 , R16 |= R4);
L723: R4 = ( 'not' ( the_argument_of R4 ) ) by L717 , ZF_LANG:def 30;
L724: R5 , R16 |= ( the_argument_of R4 ) by L723 , L722 , ZF_MODEL:14;
L725: R5 , R15 |= ( the_argument_of R4 ) by L724 , L718 , L719 , L720;
thus L726: thesis by L725 , L723 , L721 , ZF_MODEL:14;
end;
thus L727: (for R4 being ZF-formula holds S4[ R4 ]) from ZF_LANG:sch 1(L650 , L716 , L675 , L696);
end;
definition
let R4 being ZF-formula;
let R5 being non  empty set;
assume that
L728: ( Free R4 ) c= { ( x. 3 ) , ( x. 4 ) }
and
L729: R5 |= ( All (( x. 3 ) , ( Ex (( x. ( 0 ) ) , ( All (( x. 4 ) , ( R4 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) );
func def_func (R4 , R5) -> (Function of R5 , R5) means 
:L730: (for R16 being (Function of ( VAR ) , R5) holds (R5 , R16 |= R4 iff ( it . ( R16 . ( x. 3 ) ) ) = ( R16 . ( x. 4 ) )));
existence
proof
set D76 = the (Function of ( VAR ) , R5);
take D77 = ( def_func' (R4 , D76) );
let R16 being (Function of ( VAR ) , R5);
set D78 = ( D76 +* (D4 , ( R16 . D4 )) );
set D79 = ( D78 +* (D5 , ( R16 . D5 )) );
L731:
now
let R1 being Variable;
assume that
L732: ( D79 . R1 ) <> ( D76 . R1 )
and
L733: ( x. ( 0 ) ) <> R1
and
L734: ( x. 3 ) <> R1
and
L735: ( x. 4 ) <> R1;
L736: ( D79 . R1 ) = ( D78 . R1 ) by L735 , FUNCT_7:32
.= ( D76 . R1 ) by L734 , FUNCT_7:32;
thus L737: contradiction by L736 , L732;
end;
L738: ((not D1 in ( Free R4 )) & R5 , D76 |= ( All (( x. 3 ) , ( Ex (( x. ( 0 ) ) , ( All (( x. 4 ) , ( R4 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) )) by L728 , L729 , TARSKI:def 2 , ZF_MODEL:def 5;
thus L739: (R5 , R16 |= R4 implies ( D77 . ( R16 . ( x. 3 ) ) ) = ( R16 . ( x. 4 ) ))
proof
set D80 = ( D76 +* (D4 , ( R16 . D4 )) );
set D81 = ( D80 +* (D5 , ( R16 . D5 )) );
L740:
now
let R1 being Variable;
assume that
L741: ( D81 . R1 ) <> ( D76 . R1 )
and
L742: ( x. ( 0 ) ) <> R1
and
L743: ( x. 3 ) <> R1
and
L744: ( x. 4 ) <> R1;
L745: ( D81 . R1 ) = ( D80 . R1 ) by L744 , FUNCT_7:32
.= ( D76 . R1 ) by L743 , FUNCT_7:32;
thus L746: contradiction by L745 , L741;
end;
L747: ( D80 . D4 ) = ( R16 . D4 ) by FUNCT_7:128;
L748:
now
let R1 being Variable;
assume L749: ( R16 . R1 ) <> ( D81 . R1 );
L750: (D5 <> R1 & D4 <> R1) by L749 , L747 , FUNCT_7:32 , FUNCT_7:128;
thus L751: (not R1 in ( Free R4 )) by L750 , L728 , TARSKI:def 2;
end;
assume L752: R5 , R16 |= R4;
L753: R5 , D81 |= R4 by L752 , L748 , L649;
L754: (( D81 . D5 ) = ( R16 . D5 ) & ( D77 . ( D81 . ( x. 3 ) ) ) = ( D81 . ( x. 4 ) )) by L753 , L738 , L740 , L518 , FUNCT_7:128;
thus L755: thesis by L754 , L747 , FUNCT_7:32;
end;

assume that
L756: ( D77 . ( R16 . ( x. 3 ) ) ) = ( R16 . ( x. 4 ) )
and
L757: (not R5 , R16 |= R4);
L758: ( D78 . D4 ) = ( R16 . D4 ) by FUNCT_7:128;
L759:
now
let R1 being Variable;
assume L760: ( D79 . R1 ) <> ( R16 . R1 );
L761: (D5 <> R1 & D4 <> R1) by L760 , L758 , FUNCT_7:32 , FUNCT_7:128;
thus L762: (not R1 in ( Free R4 )) by L761 , L728 , TARSKI:def 2;
end;
L763: (not R5 , D79 |= R4) by L759 , L757 , L649;
L764: (( D79 . D5 ) = ( R16 . D5 ) & ( D77 . ( D79 . ( x. 3 ) ) ) <> ( D79 . ( x. 4 ) )) by L763 , L738 , L731 , L518 , FUNCT_7:128;
thus L765: contradiction by L764 , L756 , L758 , FUNCT_7:32;
end;
uniqueness
proof
set D82 = the (Function of ( VAR ) , R5);
let C12 , C13 being (Function of R5 , R5);
assume that
L766: (for R16 being (Function of ( VAR ) , R5) holds (R5 , R16 |= R4 iff ( C12 . ( R16 . ( x. 3 ) ) ) = ( R16 . ( x. 4 ) )))
and
L767: (for R16 being (Function of ( VAR ) , R5) holds (R5 , R16 |= R4 iff ( C13 . ( R16 . ( x. 3 ) ) ) = ( R16 . ( x. 4 ) )));
let C14 being (Element of R5);
set D83 = ( D82 +* (D4 , C14) );
L768: R5 |= ( Ex (D1 , ( All (D5 , ( R4 <=> ( D5 '=' D1 ) )) )) ) by L729 , ZF_MODEL:23;
L769: R5 , D83 |= ( Ex (D1 , ( All (D5 , ( R4 <=> ( D5 '=' D1 ) )) )) ) by L768 , ZF_MODEL:def 5;
consider R17 being (Function of ( VAR ) , R5) such that L770: (for R1 being Variable holds (( R17 . R1 ) <> ( D83 . R1 ) implies D1 = R1)) and L771: R5 , R17 |= ( All (D5 , ( R4 <=> ( D5 '=' D1 ) )) ) by L769 , ZF_MODEL:20;
L772: ( R17 . D4 ) = ( D83 . D4 ) by L770;
set D84 = ( R17 +* (D5 , ( R17 . D1 )) );
L773: (( D83 . D4 ) = C14 & ( D84 . D4 ) = ( R17 . D4 )) by FUNCT_7:32 , FUNCT_7:128;
L774: (( D84 . D5 ) = ( R17 . D1 ) & ( D84 . D1 ) = ( R17 . D1 )) by FUNCT_7:32 , FUNCT_7:128;
L775: R5 , D84 |= ( D5 '=' D1 ) by L774 , ZF_MODEL:12;
L776: (for R1 being Variable holds (( D84 . R1 ) <> ( R17 . R1 ) implies D5 = R1)) by FUNCT_7:32;
L777: R5 , D84 |= ( R4 <=> ( D5 '=' D1 ) ) by L776 , L771 , ZF_MODEL:16;
L778: R5 , D84 |= R4 by L777 , L775 , ZF_MODEL:19;
L779: ( C12 . ( D84 . D4 ) ) = ( D84 . D5 ) by L778 , L766;
thus L780: ( C12 . C14 ) = ( C13 . C14 ) by L779 , L767 , L778 , L773 , L772;
end;
end;
definition
let C15 being Function;
let R5 being non  empty set;
pred C15 is_definable_in R5
means
(ex R4 being ZF-formula st (( Free R4 ) c= { ( x. 3 ) , ( x. 4 ) } & R5 |= ( All (( x. 3 ) , ( Ex (( x. ( 0 ) ) , ( All (( x. 4 ) , ( R4 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) ) & C15 = ( def_func (R4 , R5) )))
;pred C15 is_parametrically_definable_in R5
means
:L782: (ex R4 being ZF-formula st (ex R15 being (Function of ( VAR ) , R5) st ({ ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free R4 ) & R5 , R15 |= ( All (( x. 3 ) , ( Ex (( x. ( 0 ) ) , ( All (( x. 4 ) , ( R4 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) ) & C15 = ( def_func' (R4 , R15) ))))
;end;
theorem
L784: (for R5 being non  empty set holds (for B5 being Function holds (B5 is_definable_in R5 implies B5 is_parametrically_definable_in R5)))
proof
let R5 being non  empty set;
set D85 = the (Function of ( VAR ) , R5);
let C16 being Function;
given R4 being ZF-formula such that
L785: ( Free R4 ) c= { ( x. 3 ) , ( x. 4 ) }
and
L786: R5 |= ( All (( x. 3 ) , ( Ex (( x. ( 0 ) ) , ( All (( x. 4 ) , ( R4 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) )
and
L787: C16 = ( def_func (R4 , R5) );

take R4;
take D85;
L788:
now
let R6 being set;
assume L789: R6 in { ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) };
L790: (R6 <> D4 & R6 <> D5) by L789 , ENUMSET1:def 1;
thus L791: (not R6 in ( Free R4 )) by L790 , L785 , TARSKI:def 2;
end;
thus L792: { ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free R4 ) by L788 , XBOOLE_0:3;
thus L793: R5 , D85 |= ( All (( x. 3 ) , ( Ex (( x. ( 0 ) ) , ( All (( x. 4 ) , ( R4 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) ) by L786 , ZF_MODEL:def 5;
reconsider D86 = C16 as (Function of R5 , R5) by L787;
L794:
now
assume L795: ( x. ( 0 ) ) in ( Free R4 );
L796: (not ( x. ( 0 ) ) in { ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) }) by L795 , L788;
thus L797: contradiction by L796 , ENUMSET1:def 1;
end;
L798: (for R16 being (Function of ( VAR ) , R5) holds ((for R2 being Variable holds (( R16 . R2 ) <> ( D85 . R2 ) implies (( x. ( 0 ) ) = R2 or ( x. 3 ) = R2 or ( x. 4 ) = R2))) implies (R5 , R16 |= R4 iff ( D86 . ( R16 . ( x. 3 ) ) ) = ( R16 . ( x. 4 ) )))) by L785 , L786 , L787 , L730;
thus L799: thesis by L798 , L794 , L793 , L518;
end;
theorem
L800: (for R5 being non  empty set holds (R5 is  epsilon-transitive implies ((for R4 being ZF-formula holds ({ ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free R4 ) implies R5 |= ( the_axiom_of_substitution_for R4 ))) iff (for R4 being ZF-formula holds (for R15 being (Function of ( VAR ) , R5) holds (({ ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free R4 ) & R5 , R15 |= ( All (( x. 3 ) , ( Ex (( x. ( 0 ) ) , ( All (( x. 4 ) , ( R4 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) )) implies (for R12 being (Element of R5) holds ( ( def_func' (R4 , R15) ) .: R12 ) in R5)))))))
proof
let R5 being non  empty set;
assume L801: (for R9 being set holds (R9 in R5 implies R9 c= R5));
L802:
now
assume L803: (for R4 being ZF-formula holds ({ ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free R4 ) implies R5 |= ( the_axiom_of_substitution_for R4 )));
let R4 being ZF-formula;
let R15 being (Function of ( VAR ) , R5);
assume that
L804: { ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free R4 )
and
L805: R5 , R15 |= ( All (( x. 3 ) , ( Ex (( x. ( 0 ) ) , ( All (( x. 4 ) , ( R4 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) );
L806: R5 |= ( the_axiom_of_substitution_for R4 ) by L803 , L804;
L807: R5 , R15 |= ( the_axiom_of_substitution_for R4 ) by L806 , ZF_MODEL:def 5;
L808: R5 , R15 |= ( All (D2 , ( Ex (D3 , ( All (D5 , ( ( D5 'in' D3 ) <=> ( Ex (D4 , ( ( D4 'in' D2 ) '&' R4 )) ) )) )) )) ) by L807 , L805 , ZF_MODEL:18;
let R12 being (Element of R5);
set D87 = ( R15 +* (D2 , R12) );
L809: D1 in { D1 , D2 , D3 } by ENUMSET1:def 1;
L810: (not D1 in ( Free R4 )) by L809 , L804 , XBOOLE_0:3;
L811:
now
let R6 being set;
assume L812: R6 in { D2 , D3 };
L813: (R6 = D2 or R6 = D3) by L812 , TARSKI:def 2;
L814: R6 in { D1 , D2 , D3 } by L813 , ENUMSET1:def 1;
thus L815: (not R6 in ( Free R4 )) by L814 , L804 , XBOOLE_0:3;
end;
L816: { D2 , D3 } misses ( Free R4 ) by L811 , XBOOLE_0:3;
L817: (for R1 being Variable holds (( D87 . R1 ) <> ( R15 . R1 ) implies D2 = R1)) by FUNCT_7:32;
L818: R5 , D87 |= ( Ex (D3 , ( All (D5 , ( ( D5 'in' D3 ) <=> ( Ex (D4 , ( ( D4 'in' D2 ) '&' R4 )) ) )) )) ) by L817 , L808 , ZF_MODEL:16;
consider R17 being (Function of ( VAR ) , R5) such that L819: (for R1 being Variable holds (( R17 . R1 ) <> ( D87 . R1 ) implies D3 = R1)) and L820: R5 , R17 |= ( All (D5 , ( ( D5 'in' D3 ) <=> ( Ex (D4 , ( ( D4 'in' D2 ) '&' R4 )) ) )) ) by L818 , ZF_MODEL:20;
set D88 = ( R17 . D3 );
L821: ( D87 . D2 ) = R12 by FUNCT_7:128;
L822: ( ( def_func' (R4 , R15) ) .: R12 ) c= D88
proof
let R6 being set;
assume L823: R6 in ( ( def_func' (R4 , R15) ) .: R12 );
consider R7 being set such that L824: R7 in ( dom ( def_func' (R4 , R15) ) ) and L825: R7 in R12 and L826: ( ( def_func' (R4 , R15) ) . R7 ) = R6 by L823 , FUNCT_1:def 6;
reconsider D89 = R7 as (Element of R5) by L824;
reconsider D90 = R6 as (Element of R5) by L823;
set D91 = ( R17 +* (D5 , D90) );
set D92 = ( D91 +* (D4 , D89) );
L827: ( D92 . D4 ) = D89 by FUNCT_7:128;
L828: ( R17 . D2 ) = ( D87 . D2 ) by L819;
L829: (( D92 . D2 ) = ( D91 . D2 ) & ( D91 . D2 ) = ( R17 . D2 )) by FUNCT_7:32;
L830: R5 , D92 |= ( D4 'in' D2 ) by L829 , L821 , L825 , L827 , L828 , ZF_MODEL:13;
set D93 = ( R15 +* (D4 , D89) );
L831: ( D91 . D5 ) = D90 by FUNCT_7:128;
set D94 = ( D93 +* (D5 , D90) );
L832: ( D93 . D4 ) = D89 by FUNCT_7:128;
set D95 = ( D94 +* (D2 , ( D92 . D2 )) );
L833: ( D94 . D5 ) = D90 by FUNCT_7:128;
L834: ( D94 . D4 ) = ( D93 . D4 ) by FUNCT_7:32;
L835:
now
let R1 being Variable;
assume that
L836: ( D92 . R1 ) <> ( D95 . R1 )
and
L837: D3 <> R1;
L838: R1 <> D4 by L827 , L832 , L834 , L836 , FUNCT_7:32;
L839: ( D95 . D5 ) = ( D94 . D5 ) by FUNCT_7:32;
L840: R1 <> D5 by L839 , L831 , L833 , L836 , FUNCT_7:32;
L841: R1 <> D2 by L836 , FUNCT_7:128;
L842: ( D95 . R1 ) = ( D94 . R1 ) by L841 , FUNCT_7:32
.= ( D93 . R1 ) by L840 , FUNCT_7:32
.= ( R15 . R1 ) by L838 , FUNCT_7:32
.= ( D87 . R1 ) by L841 , FUNCT_7:32
.= ( R17 . R1 ) by L819 , L837
.= ( D91 . R1 ) by L840 , FUNCT_7:32
.= ( D92 . R1 ) by L838 , FUNCT_7:32;
thus L843: contradiction by L842 , L836;
end;
L844: (for R1 being Variable holds (( D95 . R1 ) <> ( D94 . R1 ) implies D2 = R1)) by FUNCT_7:32;
L845:
now
let R2 being Variable;
assume L846: ( D94 . R2 ) <> ( R15 . R2 );
assume that
L847: ( x. ( 0 ) ) <> R2
and
L848: ( x. 3 ) <> R2
and
L849: ( x. 4 ) <> R2;
L850: ( D94 . R2 ) = ( D93 . R2 ) by L849 , FUNCT_7:32;
thus L851: contradiction by L850 , L846 , L848 , FUNCT_7:32;
end;
L852: (R5 , D94 |= R4 iff ( ( def_func' (R4 , R15) ) . ( D94 . ( x. 3 ) ) ) = ( D94 . ( x. 4 ) )) by L845 , L805 , L810 , L518;
L853: R5 , D94 |= ( All (D2 , D3 , R4) ) by L852 , L816 , L826 , L832 , L833 , L483 , FUNCT_7:32;
L854: R5 , D95 |= ( All (D3 , R4) ) by L853 , L844 , ZF_MODEL:16;
L855: R5 , D92 |= R4 by L854 , L835 , ZF_MODEL:16;
L856: R5 , D92 |= ( ( D4 'in' D2 ) '&' R4 ) by L855 , L830 , ZF_MODEL:15;
L857: (for R1 being Variable holds (( D91 . R1 ) <> ( R17 . R1 ) implies D5 = R1)) by FUNCT_7:32;
L858: R5 , D91 |= ( ( D5 'in' D3 ) <=> ( Ex (D4 , ( ( D4 'in' D2 ) '&' R4 )) ) ) by L857 , L820 , ZF_MODEL:16;
L859: ( D91 . D3 ) = ( R17 . D3 ) by FUNCT_7:32;
L860: (for R1 being Variable holds (( D91 . R1 ) <> ( D92 . R1 ) implies D4 = R1)) by FUNCT_7:32;
L861: R5 , D91 |= ( Ex (D4 , ( ( D4 'in' D2 ) '&' R4 )) ) by L860 , L856 , ZF_MODEL:20;
L862: R5 , D91 |= ( D5 'in' D3 ) by L861 , L858 , ZF_MODEL:19;
thus L863: thesis by L862 , L831 , L859 , ZF_MODEL:13;
end;
L864: D88 c= ( ( def_func' (R4 , R15) ) .: R12 )
proof
let R6 being set;
assume that
L865: R6 in D88;
L866: D88 c= R5 by L801;
reconsider D96 = R6 as (Element of R5) by L866 , L865;
set D97 = ( R17 +* (D5 , D96) );
L867: ( D97 . D5 ) = D96 by FUNCT_7:128;
L868: (for R1 being Variable holds (( D97 . R1 ) <> ( R17 . R1 ) implies D5 = R1)) by FUNCT_7:32;
L869: R5 , D97 |= ( ( D5 'in' D3 ) <=> ( Ex (D4 , ( ( D4 'in' D2 ) '&' R4 )) ) ) by L868 , L820 , ZF_MODEL:16;
L870: ( D97 . D3 ) = ( R17 . D3 ) by FUNCT_7:32;
L871: R5 , D97 |= ( D5 'in' D3 ) by L870 , L865 , L867 , ZF_MODEL:13;
L872: R5 , D97 |= ( Ex (D4 , ( ( D4 'in' D2 ) '&' R4 )) ) by L871 , L869 , ZF_MODEL:19;
consider R19 being (Function of ( VAR ) , R5) such that L873: (for R1 being Variable holds (( R19 . R1 ) <> ( D97 . R1 ) implies D4 = R1)) and L874: R5 , R19 |= ( ( D4 'in' D2 ) '&' R4 ) by L872 , ZF_MODEL:20;
L875: ( R19 . D2 ) = ( D97 . D2 ) by L873;
set D98 = ( R15 +* (D4 , ( R19 . D4 )) );
set D99 = ( D98 +* (D5 , D96) );
L876: ( D99 . D5 ) = D96 by FUNCT_7:128;
set D100 = ( R19 +* (D2 , ( D99 . D2 )) );
L877: ( D98 . D4 ) = ( R19 . D4 ) by FUNCT_7:128;
L878:
now
let R1 being Variable;
assume that
L879: ( D99 . R1 ) <> ( D100 . R1 )
and
L880: D3 <> R1;
L881: ( D100 . D4 ) = ( R19 . D4 ) by FUNCT_7:32;
L882: D4 <> R1 by L881 , L877 , L879 , FUNCT_7:32;
L883: ( D100 . D5 ) = ( R19 . D5 ) by FUNCT_7:32;
L884: D5 <> R1 by L883 , L867 , L873 , L876 , L879;
L885: D2 <> R1 by L879 , FUNCT_7:128;
L886: ( D100 . R1 ) = ( R19 . R1 ) by L885 , FUNCT_7:32
.= ( D97 . R1 ) by L873 , L882
.= ( R17 . R1 ) by L884 , FUNCT_7:32
.= ( D87 . R1 ) by L819 , L880
.= ( R15 . R1 ) by L885 , FUNCT_7:32
.= ( D98 . R1 ) by L882 , FUNCT_7:32
.= ( D99 . R1 ) by L884 , FUNCT_7:32;
thus L887: contradiction by L886 , L879;
end;
L888:
now
let R2 being Variable;
assume L889: ( D99 . R2 ) <> ( R15 . R2 );
assume that
L890: ( x. ( 0 ) ) <> R2
and
L891: ( x. 3 ) <> R2
and
L892: ( x. 4 ) <> R2;
L893: ( D99 . R2 ) = ( D98 . R2 ) by L892 , FUNCT_7:32;
thus L894: contradiction by L893 , L889 , L891 , FUNCT_7:32;
end;
L895: (R5 , D99 |= R4 iff ( ( def_func' (R4 , R15) ) . ( D99 . ( x. 3 ) ) ) = ( D99 . ( x. 4 ) )) by L888 , L805 , L810 , L518;
L896: R5 , R19 |= ( D4 'in' D2 ) by L874 , ZF_MODEL:15;
L897: ( R19 . D4 ) in ( R19 . D2 ) by L896 , ZF_MODEL:13;
L898: R5 , R19 |= R4 by L874 , ZF_MODEL:15;
L899: R5 , R19 |= ( All (D2 , D3 , R4) ) by L898 , L816 , L483;
L900: (( D97 . D2 ) = ( R17 . D2 ) & ( R17 . D2 ) = ( D87 . D2 )) by L819 , FUNCT_7:32;
L901: ( dom ( def_func' (R4 , R15) ) ) = R5 by FUNCT_2:def 1;
L902: (for R1 being Variable holds (( D100 . R1 ) <> ( R19 . R1 ) implies D2 = R1)) by FUNCT_7:32;
L903: R5 , D100 |= ( All (D3 , R4) ) by L902 , L899 , ZF_MODEL:16;
L904: ( ( def_func' (R4 , R15) ) . ( R19 . D4 ) ) = R6 by L903 , L877 , L876 , L895 , L878 , FUNCT_7:32 , ZF_MODEL:16;
thus L905: thesis by L904 , L821 , L897 , L875 , L900 , L901 , FUNCT_1:def 6;
end;
L906: ( ( def_func' (R4 , R15) ) .: R12 ) = D88 by L864 , L822 , XBOOLE_0:def 10;
thus L907: ( ( def_func' (R4 , R15) ) .: R12 ) in R5 by L906;
end;
L908:
now
assume L909: (for R4 being ZF-formula holds (for R15 being (Function of ( VAR ) , R5) holds (({ ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free R4 ) & R5 , R15 |= ( All (( x. 3 ) , ( Ex (( x. ( 0 ) ) , ( All (( x. 4 ) , ( R4 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) )) implies (for R12 being (Element of R5) holds ( ( def_func' (R4 , R15) ) .: R12 ) in R5))));
let R4 being ZF-formula;
assume L910: { ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free R4 );
L911:
now
let R6 being set;
assume L912: R6 in { D2 , D3 };
L913: (R6 = D2 or R6 = D3) by L912 , TARSKI:def 2;
L914: R6 in { D1 , D2 , D3 } by L913 , ENUMSET1:def 1;
thus L915: (not R6 in ( Free R4 )) by L914 , L910 , XBOOLE_0:3;
end;
L916: { D2 , D3 } misses ( Free R4 ) by L911 , XBOOLE_0:3;
L917: D1 in { D1 , D2 , D3 } by ENUMSET1:def 1;
L918: (not D1 in ( Free R4 )) by L917 , L910 , XBOOLE_0:3;
thus L919: R5 |= ( the_axiom_of_substitution_for R4 )
proof
let R15 being (Function of ( VAR ) , R5);
L920:
now
assume L921: R5 , R15 |= ( All (D4 , ( Ex (D1 , ( All (D5 , ( R4 <=> ( D5 '=' D1 ) )) )) )) );
L922:
now
let R16 being (Function of ( VAR ) , R5);
assume that
L923: (for R1 being Variable holds (( R16 . R1 ) <> ( R15 . R1 ) implies D2 = R1));
reconsider D101 = ( ( def_func' (R4 , R15) ) .: ( R16 . D2 ) ) as (Element of R5) by L909 , L910 , L921;
set D102 = ( R16 +* (D3 , D101) );
L924: ( D102 . D3 ) = D101 by FUNCT_7:128;
L925:
now
let R18 being (Function of ( VAR ) , R5);
assume that
L926: (for R1 being Variable holds (( R18 . R1 ) <> ( D102 . R1 ) implies D5 = R1));
L927:
now
assume L928: R5 , R18 |= ( D5 'in' D3 );
L929: ( R18 . D5 ) in ( R18 . D3 ) by L928 , ZF_MODEL:13;
L930: ( R18 . D3 ) = ( D102 . D3 ) by L926;
consider R6 being set such that L931: R6 in ( dom ( def_func' (R4 , R15) ) ) and L932: R6 in ( R16 . D2 ) and L933: ( R18 . D5 ) = ( ( def_func' (R4 , R15) ) . R6 ) by L930 , L924 , L929 , FUNCT_1:def 6;
reconsider D103 = R6 as (Element of R5) by L931;
set D104 = ( R18 +* (D4 , D103) );
L934: ( D104 . D4 ) = D103 by FUNCT_7:128;
set D105 = ( R15 +* (D4 , ( D104 . D4 )) );
set D106 = ( D105 +* (D5 , ( R18 . D5 )) );
L935: ( D106 . D5 ) = ( R18 . D5 ) by FUNCT_7:128;
set D107 = ( D106 +* (D2 , ( D104 . D2 )) );
L936: ( D105 . D4 ) = ( D104 . D4 ) by FUNCT_7:128;
L937:
now
let R1 being Variable;
assume that
L938: ( D104 . R1 ) <> ( D107 . R1 )
and
L939: D3 <> R1;
L940: D2 <> R1 by L938 , FUNCT_7:128;
L941: ( D104 . D5 ) = ( R18 . D5 ) by FUNCT_7:32;
L942: D5 <> R1 by L941 , L935 , L938 , FUNCT_7:32;
L943: ( D107 . D4 ) = ( D106 . D4 ) by FUNCT_7:32;
L944: D4 <> R1 by L943 , L936 , L938 , FUNCT_7:32;
L945: ( D104 . R1 ) = ( R18 . R1 ) by L944 , FUNCT_7:32
.= ( D102 . R1 ) by L926 , L942
.= ( R16 . R1 ) by L939 , FUNCT_7:32
.= ( R15 . R1 ) by L923 , L940
.= ( D105 . R1 ) by L944 , FUNCT_7:32
.= ( D106 . R1 ) by L942 , FUNCT_7:32
.= ( D107 . R1 ) by L940 , FUNCT_7:32;
thus L946: contradiction by L945 , L938;
end;
L947: (for R1 being Variable holds (( D107 . R1 ) <> ( D106 . R1 ) implies D2 = R1)) by FUNCT_7:32;
L948:
now
let R1 being Variable;
assume that
L949: ( D106 . R1 ) <> ( R15 . R1 )
and
L950: ( x. ( 0 ) ) <> R1
and
L951: ( x. 3 ) <> R1
and
L952: ( x. 4 ) <> R1;
L953: ( D106 . R1 ) = ( D105 . R1 ) by L952 , FUNCT_7:32;
thus L954: contradiction by L953 , L949 , L951 , FUNCT_7:32;
end;
L955: (R5 , D106 |= R4 iff ( ( def_func' (R4 , R15) ) . ( D106 . ( x. 3 ) ) ) = ( D106 . ( x. 4 ) )) by L948 , L918 , L921 , L518;
L956: R5 , D106 |= ( All (D2 , D3 , R4) ) by L955 , L916 , L933 , L934 , L936 , L935 , L483 , FUNCT_7:32;
L957: R5 , D107 |= ( All (D3 , R4) ) by L956 , L947 , ZF_MODEL:16;
L958: R5 , D104 |= R4 by L957 , L937 , ZF_MODEL:16;
L959: ( D102 . D2 ) = ( R16 . D2 ) by FUNCT_7:32;
L960: (( D104 . D2 ) = ( R18 . D2 ) & ( R18 . D2 ) = ( D102 . D2 )) by L926 , FUNCT_7:32;
L961: R5 , D104 |= ( D4 'in' D2 ) by L960 , L932 , L934 , L959 , ZF_MODEL:13;
L962: R5 , D104 |= ( ( D4 'in' D2 ) '&' R4 ) by L961 , L958 , ZF_MODEL:15;
L963: (for R1 being Variable holds (( D104 . R1 ) <> ( R18 . R1 ) implies D4 = R1)) by FUNCT_7:32;
thus L964: R5 , R18 |= ( Ex (D4 , ( ( D4 'in' D2 ) '&' R4 )) ) by L963 , L962 , ZF_MODEL:20;
end;
L965:
now
assume L966: R5 , R18 |= ( Ex (D4 , ( ( D4 'in' D2 ) '&' R4 )) );
consider R19 being (Function of ( VAR ) , R5) such that L967: (for R1 being Variable holds (( R19 . R1 ) <> ( R18 . R1 ) implies D4 = R1)) and L968: R5 , R19 |= ( ( D4 'in' D2 ) '&' R4 ) by L966 , ZF_MODEL:20;
set D108 = ( R15 +* (D4 , ( R19 . D4 )) );
set D109 = ( D108 +* (D5 , ( R18 . D5 )) );
L969: ( D109 . D5 ) = ( R18 . D5 ) by FUNCT_7:128;
set D110 = ( R19 +* (D2 , ( D109 . D2 )) );
L970: ( D108 . D4 ) = ( R19 . D4 ) by FUNCT_7:128;
L971:
now
let R1 being Variable;
assume that
L972: ( D109 . R1 ) <> ( D110 . R1 )
and
L973: D3 <> R1;
L974: D2 <> R1 by L972 , FUNCT_7:128;
L975: ( D109 . D4 ) = ( D108 . D4 ) by FUNCT_7:32;
L976: D4 <> R1 by L975 , L970 , L972 , FUNCT_7:32;
L977: ( D110 . D5 ) = ( R19 . D5 ) by FUNCT_7:32;
L978: D5 <> R1 by L977 , L967 , L969 , L972;
L979: ( D109 . R1 ) = ( D108 . R1 ) by L978 , FUNCT_7:32
.= ( R15 . R1 ) by L976 , FUNCT_7:32
.= ( R16 . R1 ) by L923 , L974
.= ( D102 . R1 ) by L973 , FUNCT_7:32
.= ( R18 . R1 ) by L926 , L978
.= ( R19 . R1 ) by L967 , L976
.= ( D110 . R1 ) by L974 , FUNCT_7:32;
thus L980: contradiction by L979 , L972;
end;
L981: ( R18 . D3 ) = ( D102 . D3 ) by L926;
L982: (( D102 . D2 ) = ( R16 . D2 ) & ( dom ( def_func' (R4 , R15) ) ) = R5) by FUNCT_2:def 1 , FUNCT_7:32;
L983: R5 , R19 |= ( D4 'in' D2 ) by L968 , ZF_MODEL:15;
L984: ( R19 . D4 ) in ( R19 . D2 ) by L983 , ZF_MODEL:13;
L985:
now
let R1 being Variable;
assume that
L986: ( D109 . R1 ) <> ( R15 . R1 )
and
L987: ( x. ( 0 ) ) <> R1
and
L988: ( x. 3 ) <> R1
and
L989: ( x. 4 ) <> R1;
L990: ( R15 . R1 ) = ( D108 . R1 ) by L988 , FUNCT_7:32
.= ( D109 . R1 ) by L989 , FUNCT_7:32;
thus L991: contradiction by L990 , L986;
end;
L992: R5 , R19 |= R4 by L968 , ZF_MODEL:15;
L993: R5 , R19 |= ( All (D2 , D3 , R4) ) by L992 , L916 , L483;
L994: (( D109 . D4 ) = ( D108 . D4 ) & ( R18 . D2 ) = ( D102 . D2 )) by L926 , FUNCT_7:32;
L995: (for R1 being Variable holds (( D110 . R1 ) <> ( R19 . R1 ) implies D2 = R1)) by FUNCT_7:32;
L996: R5 , D110 |= ( All (D3 , R4) ) by L995 , L993 , ZF_MODEL:16;
L997: R5 , D109 |= R4 by L996 , L971 , ZF_MODEL:16;
L998: ( ( def_func' (R4 , R15) ) . ( D109 . ( x. 3 ) ) ) = ( D109 . ( x. 4 ) ) by L997 , L918 , L921 , L985 , L518;
L999: ( R19 . D2 ) = ( R18 . D2 ) by L967;
L1000: ( R18 . D5 ) in ( ( def_func' (R4 , R15) ) .: ( R16 . D2 ) ) by L999 , L970 , L969 , L998 , L984 , L994 , L982 , FUNCT_1:def 6;
thus L1001: R5 , R18 |= ( D5 'in' D3 ) by L1000 , L924 , L981 , ZF_MODEL:13;
end;
thus L1002: R5 , R18 |= ( ( D5 'in' D3 ) <=> ( Ex (D4 , ( ( D4 'in' D2 ) '&' R4 )) ) ) by L965 , L927 , ZF_MODEL:19;
end;
L1003: R5 , D102 |= ( All (D5 , ( ( D5 'in' D3 ) <=> ( Ex (D4 , ( ( D4 'in' D2 ) '&' R4 )) ) )) ) by L925 , ZF_MODEL:16;
L1004: (for R1 being Variable holds (( D102 . R1 ) <> ( R16 . R1 ) implies D3 = R1)) by FUNCT_7:32;
thus L1005: R5 , R16 |= ( Ex (D3 , ( All (D5 , ( ( D5 'in' D3 ) <=> ( Ex (D4 , ( ( D4 'in' D2 ) '&' R4 )) ) )) )) ) by L1004 , L1003 , ZF_MODEL:20;
end;
thus L1006: R5 , R15 |= ( All (D2 , ( Ex (D3 , ( All (D5 , ( ( D5 'in' D3 ) <=> ( Ex (D4 , ( ( D4 'in' D2 ) '&' R4 )) ) )) )) )) ) by L922 , ZF_MODEL:16;
end;
thus L1007: thesis by L920 , ZF_MODEL:18;
end;

end;
thus L920: thesis by L908 , L802;
end;
theorem
L921: (for R5 being non  empty set holds (R5 is  epsilon-transitive implies ((for R4 being ZF-formula holds ({ ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free R4 ) implies R5 |= ( the_axiom_of_substitution_for R4 ))) iff (for B6 being Function holds (B6 is_parametrically_definable_in R5 implies (for R9 being set holds (R9 in R5 implies ( B6 .: R9 ) in R5)))))))
proof
let R5 being non  empty set;
assume L922: R5 is  epsilon-transitive;
thus L923: ((for R4 being ZF-formula holds ({ ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free R4 ) implies R5 |= ( the_axiom_of_substitution_for R4 ))) implies (for B7 being Function holds (B7 is_parametrically_definable_in R5 implies (for R9 being set holds (R9 in R5 implies ( B7 .: R9 ) in R5)))))
proof
assume L924: (for R4 being ZF-formula holds ({ ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free R4 ) implies R5 |= ( the_axiom_of_substitution_for R4 )));
let C17 being Function;
given R4 being ZF-formula , R15 being (Function of ( VAR ) , R5) such that
L925: ({ ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free R4 ) & R5 , R15 |= ( All (( x. 3 ) , ( Ex (( x. ( 0 ) ) , ( All (( x. 4 ) , ( R4 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) ))
and
L926: C17 = ( def_func' (R4 , R15) );

let R9 being set;
assume L927: R9 in R5;
reconsider D111 = R9 as (Element of R5) by L927;
L928: ( ( def_func' (R4 , R15) ) .: D111 ) in R5 by L922 , L924 , L925 , L800;
thus L929: thesis by L928 , L926;
end;

assume L930: (for B8 being Function holds (B8 is_parametrically_definable_in R5 implies (for R9 being set holds (R9 in R5 implies ( B8 .: R9 ) in R5))));
L931: (for R4 being ZF-formula holds (for R15 being (Function of ( VAR ) , R5) holds (({ ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free R4 ) & R5 , R15 |= ( All (( x. 3 ) , ( Ex (( x. ( 0 ) ) , ( All (( x. 4 ) , ( R4 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) )) implies (for R12 being (Element of R5) holds ( ( def_func' (R4 , R15) ) .: R12 ) in R5))))
proof
let R4 being ZF-formula;
let R15 being (Function of ( VAR ) , R5);
assume L932: ({ ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free R4 ) & R5 , R15 |= ( All (( x. 3 ) , ( Ex (( x. ( 0 ) ) , ( All (( x. 4 ) , ( R4 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) ));
let R12 being (Element of R5);
L933: ( def_func' (R4 , R15) ) is_parametrically_definable_in R5 by L932 , L782;
thus L934: thesis by L933 , L930;
end;
thus L935: thesis by L931 , L922 , L800;
end;
L936: (for R5 being non  empty set holds (R5 is  epsilon-transitive implies (for R12 being (Element of R5) holds (for R13 being (Element of R5) holds ((for R14 being (Element of R5) holds (R14 in R12 iff R14 in R13)) implies R12 = R13)))))
proof
let R5 being non  empty set;
assume L937: (for R9 being set holds (R9 in R5 implies R9 c= R5));
let R12 being (Element of R5);
let R13 being (Element of R5);
assume that
L938: (for R14 being (Element of R5) holds (R14 in R12 iff R14 in R13));
L939: R12 c= R5 by L937;
thus L940: R12 c= R13
proof
let R6 being set;
assume L941: R6 in R12;
reconsider D112 = R6 as (Element of R5) by L941 , L939;
L942: D112 in R13 by L938 , L941;
thus L943: thesis by L942;
end;

let R6 being set;
assume L944: R6 in R13;
L945: R13 c= R5 by L937;
reconsider D113 = R6 as (Element of R5) by L945 , L944;
L946: D113 in R12 by L938 , L944;
thus L947: thesis by L946;
end;
theorem
L948: (for R5 being non  empty set holds (R5 is  being_a_model_of_ZF implies (R5 is  epsilon-transitive & (for R12 being (Element of R5) holds (for R13 being (Element of R5) holds ((for R14 being (Element of R5) holds (R14 in R12 iff R14 in R13)) implies R12 = R13))) & (for R12 being (Element of R5) holds (for R13 being (Element of R5) holds { R12 , R13 } in R5)) & (for R12 being (Element of R5) holds ( union R12 ) in R5) & (ex R12 being (Element of R5) st (R12 <> ( {} ) & (for R13 being (Element of R5) holds (R13 in R12 implies (ex R14 being (Element of R5) st (R13 c< R14 & R14 in R12)))))) & (for R12 being (Element of R5) holds ( R5 /\ ( bool R12 ) ) in R5) & (for R4 being ZF-formula holds (for R15 being (Function of ( VAR ) , R5) holds (({ ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free R4 ) & R5 , R15 |= ( All (( x. 3 ) , ( Ex (( x. ( 0 ) ) , ( All (( x. 4 ) , ( R4 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) )) implies (for R12 being (Element of R5) holds ( ( def_func' (R4 , R15) ) .: R12 ) in R5)))))))
proof
let R5 being non  empty set;
assume L949: (R5 is  epsilon-transitive & R5 |= ( the_axiom_of_pairs ) & R5 |= ( the_axiom_of_unions ) & R5 |= ( the_axiom_of_infinity ) & R5 |= ( the_axiom_of_power_sets ) & (for R4 being ZF-formula holds ({ ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free R4 ) implies R5 |= ( the_axiom_of_substitution_for R4 ))));
thus L950: thesis by L949 , L936 , L28 , L92 , L181 , L282 , L800;
end;
theorem
L951: (for R5 being non  empty set holds ((R5 is  epsilon-transitive & (for R12 being (Element of R5) holds (for R13 being (Element of R5) holds { R12 , R13 } in R5)) & (for R12 being (Element of R5) holds ( union R12 ) in R5) & (ex R12 being (Element of R5) st (R12 <> ( {} ) & (for R13 being (Element of R5) holds (R13 in R12 implies (ex R14 being (Element of R5) st (R13 c< R14 & R14 in R12)))))) & (for R12 being (Element of R5) holds ( R5 /\ ( bool R12 ) ) in R5) & (for R4 being ZF-formula holds (for R15 being (Function of ( VAR ) , R5) holds (({ ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free R4 ) & R5 , R15 |= ( All (( x. 3 ) , ( Ex (( x. ( 0 ) ) , ( All (( x. 4 ) , ( R4 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) )) implies (for R12 being (Element of R5) holds ( ( def_func' (R4 , R15) ) .: R12 ) in R5))))) implies R5 is  being_a_model_of_ZF))
proof
let R5 being non  empty set;
assume L952: (R5 is  epsilon-transitive & (for R12 being (Element of R5) holds (for R13 being (Element of R5) holds { R12 , R13 } in R5)) & (for R12 being (Element of R5) holds ( union R12 ) in R5) & (ex R12 being (Element of R5) st (R12 <> ( {} ) & (for R13 being (Element of R5) holds (R13 in R12 implies (ex R14 being (Element of R5) st (R13 c< R14 & R14 in R12)))))) & (for R12 being (Element of R5) holds ( R5 /\ ( bool R12 ) ) in R5) & (for R4 being ZF-formula holds (for R15 being (Function of ( VAR ) , R5) holds (({ ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free R4 ) & R5 , R15 |= ( All (( x. 3 ) , ( Ex (( x. ( 0 ) ) , ( All (( x. 4 ) , ( R4 <=> ( ( x. 4 ) '=' ( x. ( 0 ) ) ) )) )) )) )) implies (for R12 being (Element of R5) holds ( ( def_func' (R4 , R15) ) .: R12 ) in R5)))));
thus L953: (R5 is  epsilon-transitive & R5 |= ( the_axiom_of_pairs ) & R5 |= ( the_axiom_of_unions ) & R5 |= ( the_axiom_of_infinity ) & R5 |= ( the_axiom_of_power_sets ) & (for R4 being ZF-formula holds ({ ( x. ( 0 ) ) , ( x. 1 ) , ( x. 2 ) } misses ( Free R4 ) implies R5 |= ( the_axiom_of_substitution_for R4 )))) by L952 , L28 , L92 , L181 , L282 , L800;
end;
