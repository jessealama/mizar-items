:: A Characterization of Concept Lattices; Dual Concept Lattices
::  by Christoph Schwarzweller
::
:: Received August 17, 1999
:: Copyright (c) 1999-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies CONLAT_1, STRUCT_0, QC_LANG1, SUBSET_1, LATTICES, XXREAL_2,
      PBOOLE, EQREL_1, XBOOLE_0, SETFAM_1, FUNCT_1, TARSKI, CAT_1, LATTICE3,
      ZFMISC_1, RELAT_1, FUNCT_3, LATTICE6, REWRITE1, GROUP_6, WELLORD1,
      FUNCT_2, MCART_1, FILTER_1, XXREAL_0, ORDERS_2, CONLAT_2;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, SETFAM_1, XTUPLE_0, MCART_1,
      FUNCT_1, DOMAIN_1, RELSET_1, ORDERS_2, STRUCT_0, LATTICE2, LATTICE3,
      LATTICE6, PARTFUN1, FUNCT_2, LATTICES, LATTICE4, CONLAT_1;
 constructors DOMAIN_1, LATTICE2, LATTICE4, CONLAT_1, LATTICE6, RELSET_1,
      XTUPLE_0;
 registrations SUBSET_1, FUNCT_1, FUNCT_2, STRUCT_0, LATTICES, LATTICE2,
      LATTICE3, CONLAT_1, RELSET_1, XTUPLE_0;
 requirements SUBSET, BOOLE;
 definitions TARSKI, LATTICE3, VECTSP_8, LATTICE6, FUNCT_1, XBOOLE_0, SUBSET_1,
      XTUPLE_0;
 theorems TARSKI, RELAT_1, FUNCT_1, ZFMISC_1, LATTICE4, LATTICES, LATTICE3,
      LATTICE6, MCART_1, SETFAM_1, FUNCT_2, FILTER_1, LATTICE2, ORDERS_2,
      CONLAT_1, XBOOLE_0, XTUPLE_0;
 schemes FUNCT_2;

begin
definition
let C1 being FormalContext;
let C2 being  strict (FormalConcept of C1);
func @ C2 -> (Element of ( ConceptLattice C1 )) equals 
C2;
coherence
proof
L1: ( ConceptLattice C1 ) = LattStr (# ( B-carrier C1 ) , ( B-join C1 ) , ( B-meet C1 ) #) by CONLAT_1:def 20;
thus L2: thesis by L1 , CONLAT_1:31;
end;
end;
registration
let C3 being FormalContext;
cluster ( ConceptLattice C3 ) ->  bounded;
coherence
proof
L4: ( ( @ ( Concept-with-all-Objects C3 ) ) @ ) = ( Concept-with-all-Objects C3 ) by CONLAT_1:def 21;
L5: (for B1 being (Element of ( ConceptLattice C3 )) holds B1 [= ( @ ( Concept-with-all-Objects C3 ) ))
proof
let C4 being (Element of ( ConceptLattice C3 ));
L6: ( C4 @ ) is-SubConcept-of ( ( @ ( Concept-with-all-Objects C3 ) ) @ ) by L4 , CONLAT_1:30;
thus L7: thesis by L6 , CONLAT_1:43;
end;
L8: (for B2 being (Element of ( ConceptLattice C3 )) holds (( ( @ ( Concept-with-all-Objects C3 ) ) "\/" B2 ) = ( @ ( Concept-with-all-Objects C3 ) ) & ( B2 "\/" ( @ ( Concept-with-all-Objects C3 ) ) ) = ( @ ( Concept-with-all-Objects C3 ) )))
proof
let C5 being (Element of ( ConceptLattice C3 ));
L9: C5 [= ( @ ( Concept-with-all-Objects C3 ) ) by L5;
thus L10: thesis by L9 , LATTICES:def 3;
end;
L11: ( ConceptLattice C3 ) is  upper-bounded by L8 , LATTICES:def 14;
L12: ( ( @ ( Concept-with-all-Attributes C3 ) ) @ ) = ( Concept-with-all-Attributes C3 ) by CONLAT_1:def 21;
L13: (for B3 being (Element of ( ConceptLattice C3 )) holds ( @ ( Concept-with-all-Attributes C3 ) ) [= B3)
proof
let C6 being (Element of ( ConceptLattice C3 ));
L14: ( ( @ ( Concept-with-all-Attributes C3 ) ) @ ) is-SubConcept-of ( C6 @ ) by L12 , CONLAT_1:30;
thus L15: thesis by L14 , CONLAT_1:43;
end;
L16: (for B4 being (Element of ( ConceptLattice C3 )) holds (( ( @ ( Concept-with-all-Attributes C3 ) ) "/\" B4 ) = ( @ ( Concept-with-all-Attributes C3 ) ) & ( B4 "/\" ( @ ( Concept-with-all-Attributes C3 ) ) ) = ( @ ( Concept-with-all-Attributes C3 ) )))
proof
let C7 being (Element of ( ConceptLattice C3 ));
L17: ( @ ( Concept-with-all-Attributes C3 ) ) [= C7 by L13;
thus L18: thesis by L17 , LATTICES:4;
end;
L19: ( ConceptLattice C3 ) is  lower-bounded by L16 , LATTICES:def 13;
thus L20: thesis by L19 , L11;
end;
end;
theorem
L22: (for B5 being FormalContext holds (( Bottom ( ConceptLattice B5 ) ) = ( Concept-with-all-Attributes B5 ) & ( Top ( ConceptLattice B5 ) ) = ( Concept-with-all-Objects B5 )))
proof
let C8 being FormalContext;
L23: ( ( @ ( Concept-with-all-Objects C8 ) ) @ ) = ( Concept-with-all-Objects C8 ) by CONLAT_1:def 21;
L24: (for B6 being (Element of ( ConceptLattice C8 )) holds B6 [= ( @ ( Concept-with-all-Objects C8 ) ))
proof
let C9 being (Element of ( ConceptLattice C8 ));
L25: ( C9 @ ) is-SubConcept-of ( ( @ ( Concept-with-all-Objects C8 ) ) @ ) by L23 , CONLAT_1:30;
thus L26: thesis by L25 , CONLAT_1:43;
end;
L27: (for B7 being (Element of ( ConceptLattice C8 )) holds (( ( @ ( Concept-with-all-Objects C8 ) ) "\/" B7 ) = ( @ ( Concept-with-all-Objects C8 ) ) & ( B7 "\/" ( @ ( Concept-with-all-Objects C8 ) ) ) = ( @ ( Concept-with-all-Objects C8 ) )))
proof
let C10 being (Element of ( ConceptLattice C8 ));
L28: C10 [= ( @ ( Concept-with-all-Objects C8 ) ) by L24;
thus L29: thesis by L28 , LATTICES:def 3;
end;
L30: ( ( @ ( Concept-with-all-Attributes C8 ) ) @ ) = ( Concept-with-all-Attributes C8 ) by CONLAT_1:def 21;
L31: (for B8 being (Element of ( ConceptLattice C8 )) holds ( @ ( Concept-with-all-Attributes C8 ) ) [= B8)
proof
let C11 being (Element of ( ConceptLattice C8 ));
L32: ( ( @ ( Concept-with-all-Attributes C8 ) ) @ ) is-SubConcept-of ( C11 @ ) by L30 , CONLAT_1:30;
thus L33: thesis by L32 , CONLAT_1:43;
end;
L34: (for B9 being (Element of ( ConceptLattice C8 )) holds (( ( @ ( Concept-with-all-Attributes C8 ) ) "/\" B9 ) = ( @ ( Concept-with-all-Attributes C8 ) ) & ( B9 "/\" ( @ ( Concept-with-all-Attributes C8 ) ) ) = ( @ ( Concept-with-all-Attributes C8 ) )))
proof
let C12 being (Element of ( ConceptLattice C8 ));
L35: ( @ ( Concept-with-all-Attributes C8 ) ) [= C12 by L31;
thus L36: thesis by L35 , LATTICES:4;
end;
thus L37: thesis by L34 , L27 , LATTICES:def 16 , LATTICES:def 17;
end;
theorem
L38: (for B10 being FormalContext holds (for B11 being non  empty (Subset-Family of (the carrier of B10)) holds ( ( ObjectDerivation B10 ) . ( union B11 ) ) = ( meet { ( ( ObjectDerivation B10 ) . B12 ) where B12 is (Subset of (the carrier of B10)) : B12 in B11 } )))
proof
let C13 being FormalContext;
let C14 being non  empty (Subset-Family of (the carrier of C13));
reconsider D1 = C14 as non  empty (Subset-Family of (the carrier of C13));
set D2 = ( ( ObjectDerivation C13 ) . ( union C14 ) );
set D3 = ( meet { ( ( ObjectDerivation C13 ) . B13 ) where B13 is (Subset of (the carrier of C13)) : B13 in C14 } );
per cases ;
suppose L39: { ( ( ObjectDerivation C13 ) . B14 ) where B14 is (Subset of (the carrier of C13)) : B14 in C14 } <> ( {} );

thus L40: D2 c= D3
proof
let C15 being set;
assume L41: C15 in D2;
L42: C15 in { B15 where B15 is (Attribute of C13) : (for B16 being (Object of C13) holds (B16 in ( union D1 ) implies B16 is-connected-with B15)) } by L41 , CONLAT_1:def 3;
L43: (ex B17 being (Attribute of C13) st (B17 = C15 & (for B18 being (Object of C13) holds (B18 in ( union C14 ) implies B18 is-connected-with B17)))) by L42;
reconsider D4 = C15 as (Attribute of C13) by L43;
L44: (for B19 being (Subset of (the carrier of C13)) holds (B19 in C14 implies (for B20 being (Object of C13) holds (B20 in B19 implies B20 is-connected-with D4))))
proof
let C16 being (Subset of (the carrier of C13));
assume L45: C16 in C14;
let C17 being (Object of C13);
assume L46: C17 in C16;
L47: C17 in ( union C14 ) by L46 , L45 , TARSKI:def 4;
thus L48: thesis by L47 , L43;
end;
L49: (for B21 being (Subset of (the carrier of C13)) holds (B21 in C14 implies D4 in ( ( ObjectDerivation C13 ) . B21 )))
proof
let C18 being (Subset of (the carrier of C13));
assume L50: C18 in C14;
L51: (for B22 being (Object of C13) holds (B22 in C18 implies B22 is-connected-with D4)) by L50 , L44;
L52: D4 in { B23 where B23 is (Attribute of C13) : (for B24 being (Object of C13) holds (B24 in C18 implies B24 is-connected-with B23)) } by L51;
thus L53: thesis by L52 , CONLAT_1:def 3;
end;
L54: (for B25 being set holds (B25 in { ( ( ObjectDerivation C13 ) . B26 ) where B26 is (Subset of (the carrier of C13)) : B26 in C14 } implies D4 in B25))
proof
let C19 being set;
assume L55: C19 in { ( ( ObjectDerivation C13 ) . B27 ) where B27 is (Subset of (the carrier of C13)) : B27 in C14 };
L56: (ex B28 being (Subset of (the carrier of C13)) st (C19 = ( ( ObjectDerivation C13 ) . B28 ) & B28 in C14)) by L55;
thus L57: thesis by L56 , L49;
end;
thus L58: thesis by L54 , L39 , SETFAM_1:def 1;
end;

thus L59: D3 c= D2
proof
set D5 = the (Element of { ( ( ObjectDerivation C13 ) . B29 ) where B29 is (Subset of (the carrier of C13)) : B29 in C14 });
let C20 being set;
assume L60: C20 in D3;
L61: C20 in D5 by L60 , L39 , SETFAM_1:def 1;
L62: D5 in { ( ( ObjectDerivation C13 ) . B30 ) where B30 is (Subset of (the carrier of C13)) : B30 in C14 } by L39;
L63: (ex B31 being (Subset of (the carrier of C13)) st (D5 = ( ( ObjectDerivation C13 ) . B31 ) & B31 in C14)) by L62;
reconsider D6 = C20 as (Attribute of C13) by L63 , L61;
L64: (for B32 being (Subset of (the carrier of C13)) holds (B32 in C14 implies D6 in ( ( ObjectDerivation C13 ) . B32 )))
proof
let C21 being (Subset of (the carrier of C13));
assume L65: C21 in C14;
L66: ( ( ObjectDerivation C13 ) . C21 ) in { ( ( ObjectDerivation C13 ) . B33 ) where B33 is (Subset of (the carrier of C13)) : B33 in C14 } by L65;
thus L67: thesis by L66 , L60 , SETFAM_1:def 1;
end;
L68: (for B34 being (Subset of (the carrier of C13)) holds (B34 in C14 implies (for B35 being (Object of C13) holds (B35 in B34 implies B35 is-connected-with D6))))
proof
let C22 being (Subset of (the carrier of C13));
assume L69: C22 in C14;
L70: D6 in ( ( ObjectDerivation C13 ) . C22 ) by L69 , L64;
L71: D6 in { B36 where B36 is (Attribute of C13) : (for B37 being (Object of C13) holds (B37 in C22 implies B37 is-connected-with B36)) } by L70 , CONLAT_1:def 3;
L72: (ex B38 being (Attribute of C13) st (B38 = D6 & (for B39 being (Object of C13) holds (B39 in C22 implies B39 is-connected-with B38)))) by L71;
let C23 being (Object of C13);
assume L73: C23 in C22;
thus L74: thesis by L73 , L72;
end;
L75: (for B40 being (Object of C13) holds (B40 in ( union C14 ) implies B40 is-connected-with D6))
proof
let C24 being (Object of C13);
assume L76: C24 in ( union C14 );
L77: (ex B41 being set st (C24 in B41 & B41 in C14)) by L76 , TARSKI:def 4;
thus L78: thesis by L77 , L68;
end;
L79: D6 in { B42 where B42 is (Attribute of C13) : (for B43 being (Object of C13) holds (B43 in ( union D1 ) implies B43 is-connected-with B42)) } by L75;
thus L80: thesis by L79 , CONLAT_1:def 3;
end;

end;
suppose L60: { ( ( ObjectDerivation C13 ) . B44 ) where B44 is (Subset of (the carrier of C13)) : B44 in C14 } = ( {} );

L61: C14 = ( {} )
proof
set D7 = the (Element of C14);
assume L62: C14 <> ( {} );
L63: ( ( ObjectDerivation C13 ) . D7 ) in { ( ( ObjectDerivation C13 ) . B45 ) where B45 is (Subset of (the carrier of C13)) : B45 in C14 };
thus L64: thesis by L63 , L60;
end;
thus L65: thesis by L61;
end;
end;
theorem
L67: (for B46 being FormalContext holds (for B47 being non  empty (Subset-Family of (the carrier' of B46)) holds ( ( AttributeDerivation B46 ) . ( union B47 ) ) = ( meet { ( ( AttributeDerivation B46 ) . B48 ) where B48 is (Subset of (the carrier' of B46)) : B48 in B47 } )))
proof
let C25 being FormalContext;
let C26 being non  empty (Subset-Family of (the carrier' of C25));
reconsider D8 = C26 as non  empty (Subset-Family of (the carrier' of C25));
set D9 = ( ( AttributeDerivation C25 ) . ( union C26 ) );
set D10 = ( meet { ( ( AttributeDerivation C25 ) . B49 ) where B49 is (Subset of (the carrier' of C25)) : B49 in C26 } );
L68:
now
per cases ;
case L69: { ( ( AttributeDerivation C25 ) . B50 ) where B50 is (Subset of (the carrier' of C25)) : B50 in C26 } <> ( {} );
thus L70: D9 = D10
proof
thus L71: D9 c= D10
proof
let C27 being set;
assume L72: C27 in D9;
L73: C27 in { B51 where B51 is (Object of C25) : (for B52 being (Attribute of C25) holds (B52 in ( union D8 ) implies B51 is-connected-with B52)) } by L72 , CONLAT_1:def 4;
L74: (ex B53 being (Object of C25) st (B53 = C27 & (for B54 being (Attribute of C25) holds (B54 in ( union C26 ) implies B53 is-connected-with B54)))) by L73;
reconsider D11 = C27 as (Object of C25) by L74;
L75: (for B55 being (Subset of (the carrier' of C25)) holds (B55 in C26 implies (for B56 being (Attribute of C25) holds (B56 in B55 implies D11 is-connected-with B56))))
proof
let C28 being (Subset of (the carrier' of C25));
assume L76: C28 in C26;
let C29 being (Attribute of C25);
assume L77: C29 in C28;
L78: C29 in ( union C26 ) by L77 , L76 , TARSKI:def 4;
thus L79: thesis by L78 , L74;
end;
L80: (for B57 being (Subset of (the carrier' of C25)) holds (B57 in C26 implies D11 in ( ( AttributeDerivation C25 ) . B57 )))
proof
let C30 being (Subset of (the carrier' of C25));
assume L81: C30 in C26;
L82: (for B58 being (Attribute of C25) holds (B58 in C30 implies D11 is-connected-with B58)) by L81 , L75;
L83: D11 in { B59 where B59 is (Object of C25) : (for B60 being (Attribute of C25) holds (B60 in C30 implies B59 is-connected-with B60)) } by L82;
thus L84: thesis by L83 , CONLAT_1:def 4;
end;
L85: (for B61 being set holds (B61 in { ( ( AttributeDerivation C25 ) . B62 ) where B62 is (Subset of (the carrier' of C25)) : B62 in C26 } implies D11 in B61))
proof
let C31 being set;
assume L86: C31 in { ( ( AttributeDerivation C25 ) . B63 ) where B63 is (Subset of (the carrier' of C25)) : B63 in C26 };
L87: (ex B64 being (Subset of (the carrier' of C25)) st (C31 = ( ( AttributeDerivation C25 ) . B64 ) & B64 in C26)) by L86;
thus L88: thesis by L87 , L80;
end;
thus L89: thesis by L85 , L69 , SETFAM_1:def 1;
end;

set D12 = the (Element of { ( ( AttributeDerivation C25 ) . B65 ) where B65 is (Subset of (the carrier' of C25)) : B65 in C26 });
let C32 being set;
assume L90: C32 in D10;
L91: C32 in D12 by L90 , L69 , SETFAM_1:def 1;
L92: D12 in { ( ( AttributeDerivation C25 ) . B66 ) where B66 is (Subset of (the carrier' of C25)) : B66 in C26 } by L69;
L93: (ex B67 being (Subset of (the carrier' of C25)) st (D12 = ( ( AttributeDerivation C25 ) . B67 ) & B67 in C26)) by L92;
reconsider D13 = C32 as (Object of C25) by L93 , L91;
L94: (for B68 being (Subset of (the carrier' of C25)) holds (B68 in C26 implies D13 in ( ( AttributeDerivation C25 ) . B68 )))
proof
let C33 being (Subset of (the carrier' of C25));
assume L95: C33 in C26;
L96: ( ( AttributeDerivation C25 ) . C33 ) in { ( ( AttributeDerivation C25 ) . B69 ) where B69 is (Subset of (the carrier' of C25)) : B69 in C26 } by L95;
thus L97: thesis by L96 , L90 , SETFAM_1:def 1;
end;
L98: (for B70 being (Subset of (the carrier' of C25)) holds (B70 in C26 implies (for B71 being (Attribute of C25) holds (B71 in B70 implies D13 is-connected-with B71))))
proof
let C34 being (Subset of (the carrier' of C25));
assume L99: C34 in C26;
L100: D13 in ( ( AttributeDerivation C25 ) . C34 ) by L99 , L94;
L101: D13 in { B72 where B72 is (Object of C25) : (for B73 being (Attribute of C25) holds (B73 in C34 implies B72 is-connected-with B73)) } by L100 , CONLAT_1:def 4;
L102: (ex B74 being (Object of C25) st (B74 = D13 & (for B75 being (Attribute of C25) holds (B75 in C34 implies B74 is-connected-with B75)))) by L101;
let C35 being (Attribute of C25);
assume L103: C35 in C34;
thus L104: thesis by L103 , L102;
end;
L105: (for B76 being (Attribute of C25) holds (B76 in ( union C26 ) implies D13 is-connected-with B76))
proof
let C36 being (Attribute of C25);
assume L106: C36 in ( union C26 );
L107: (ex B77 being set st (C36 in B77 & B77 in C26)) by L106 , TARSKI:def 4;
thus L108: thesis by L107 , L98;
end;
L109: D13 in { B78 where B78 is (Object of C25) : (for B79 being (Attribute of C25) holds (B79 in ( union D8 ) implies B78 is-connected-with B79)) } by L105;
thus L110: thesis by L109 , CONLAT_1:def 4;
end;

end;
case L71: { ( ( AttributeDerivation C25 ) . B80 ) where B80 is (Subset of (the carrier' of C25)) : B80 in C26 } = ( {} );
L72: C26 = ( {} )
proof
set D14 = the (Element of C26);
assume L73: C26 <> ( {} );
L74: ( ( AttributeDerivation C25 ) . D14 ) in { ( ( AttributeDerivation C25 ) . B81 ) where B81 is (Subset of (the carrier' of C25)) : B81 in C26 };
thus L75: thesis by L74 , L71;
end;
thus L76: thesis by L72;
end;
end;
thus L78: thesis by L68;
end;
theorem
L79: (for B82 being FormalContext holds (for B83 being (Subset of ( ConceptLattice B82 )) holds (( "/\" (B83 , ( ConceptLattice B82 )) ) is (FormalConcept of B82) & ( "\/" (B83 , ( ConceptLattice B82 )) ) is (FormalConcept of B82))))
proof
let C37 being FormalContext;
let C38 being (Subset of ( ConceptLattice C37 ));
L80: ( ConceptLattice C37 ) = LattStr (# ( B-carrier C37 ) , ( B-join C37 ) , ( B-meet C37 ) #) by CONLAT_1:def 20;
thus L81: thesis by L80 , CONLAT_1:31;
end;
definition
let C39 being FormalContext;
let C40 being (Subset of ( ConceptLattice C39 ));
func "/\" (C40 , C39) -> (FormalConcept of C39) equals 
( "/\" (C40 , ( ConceptLattice C39 )) );
coherence by L79;
func "\/" (C40 , C39) -> (FormalConcept of C39) equals 
( "\/" (C40 , ( ConceptLattice C39 )) );
coherence by L79;
end;
theorem
L83: (for B84 being FormalContext holds (( "\/" (( {} ( ConceptLattice B84 ) ) , B84) ) = ( Concept-with-all-Attributes B84 ) & ( "/\" (( {} ( ConceptLattice B84 ) ) , B84) ) = ( Concept-with-all-Objects B84 )))
proof
let C41 being FormalContext;
L84: (for B85 being (Element of ( ConceptLattice C41 )) holds (B85 is_less_than ( {} ) implies B85 [= ( @ ( Concept-with-all-Objects C41 ) )))
proof
let C42 being (Element of ( ConceptLattice C41 ));
assume L85: C42 is_less_than ( {} );
L86: (( C42 @ ) is-SubConcept-of ( Concept-with-all-Objects C41 ) & ( Concept-with-all-Objects C41 ) = ( ( @ ( Concept-with-all-Objects C41 ) ) @ )) by CONLAT_1:30 , CONLAT_1:def 21;
thus L87: thesis by L86 , CONLAT_1:43;
end;
L88: (for B86 being (Element of ( ConceptLattice C41 )) holds (B86 in ( {} ) implies ( @ ( Concept-with-all-Objects C41 ) ) [= B86));
L89: (( "\/" (( {} ( ConceptLattice C41 ) ) , C41) ) = ( Bottom ( ConceptLattice C41 ) ) & ( @ ( Concept-with-all-Objects C41 ) ) is_less_than ( {} )) by L88 , LATTICE3:49 , LATTICE3:def 16;
thus L90: thesis by L89 , L84 , L22 , LATTICE3:34;
end;
theorem
L91: (for B87 being FormalContext holds (( "\/" (( [#] (the carrier of ( ConceptLattice B87 )) ) , B87) ) = ( Concept-with-all-Objects B87 ) & ( "/\" (( [#] (the carrier of ( ConceptLattice B87 )) ) , B87) ) = ( Concept-with-all-Attributes B87 )))
proof
let C43 being FormalContext;
L92: ( @ ( Concept-with-all-Attributes C43 ) ) is_less_than ( [#] (the carrier of ( ConceptLattice C43 )) )
proof
let C44 being (Element of ( ConceptLattice C43 ));
assume L93: C44 in ( [#] (the carrier of ( ConceptLattice C43 )) );
L94: (( Concept-with-all-Attributes C43 ) is-SubConcept-of ( C44 @ ) & ( Concept-with-all-Attributes C43 ) = ( ( @ ( Concept-with-all-Attributes C43 ) ) @ )) by CONLAT_1:30 , CONLAT_1:def 21;
thus L95: thesis by L94 , CONLAT_1:43;
end;
L96: (( "\/" ((the carrier of ( ConceptLattice C43 )) , ( ConceptLattice C43 )) ) = ( Top ( ConceptLattice C43 ) ) & (for B88 being (Element of ( ConceptLattice C43 )) holds (B88 is_less_than ( [#] (the carrier of ( ConceptLattice C43 )) ) implies B88 [= ( @ ( Concept-with-all-Attributes C43 ) )))) by LATTICE3:50 , LATTICE3:def 16;
thus L97: thesis by L96 , L92 , L22 , LATTICE3:34;
end;
theorem
L98: (for B89 being FormalContext holds (for B90 being non  empty (Subset of ( ConceptLattice B89 )) holds ((the Extent of ( "\/" (B90 , B89) )) = ( ( AttributeDerivation B89 ) . ( ( ObjectDerivation B89 ) . ( union { (the Extent of ConceptStr (# B91 , B92 #)) where B91 is (Subset of (the carrier of B89)) , B92 is (Subset of (the carrier' of B89)) : ConceptStr (# B91 , B92 #) in B90 } ) ) ) & (the Intent of ( "\/" (B90 , B89) )) = ( meet { (the Intent of ConceptStr (# B93 , B94 #)) where B93 is (Subset of (the carrier of B89)) , B94 is (Subset of (the carrier' of B89)) : ConceptStr (# B93 , B94 #) in B90 } ))))
proof
let C45 being FormalContext;
let C46 being non  empty (Subset of ( ConceptLattice C45 ));
set D15 = ( ( AttributeDerivation C45 ) . ( ( ObjectDerivation C45 ) . ( union { (the Extent of ConceptStr (# B95 , B96 #)) where B95 is (Subset of (the carrier of C45)) , B96 is (Subset of (the carrier' of C45)) : ConceptStr (# B95 , B96 #) in C46 } ) ) );
set D16 = ( ( ObjectDerivation C45 ) . ( union { (the Extent of ConceptStr (# B97 , B98 #)) where B97 is (Subset of (the carrier of C45)) , B98 is (Subset of (the carrier' of C45)) : ConceptStr (# B97 , B98 #) in C46 } ) );
set D17 = the (Element of C46);
L99: { (the Extent of ConceptStr (# B99 , B100 #)) where B99 is (Subset of (the carrier of C45)) , B100 is (Subset of (the carrier' of C45)) : ConceptStr (# B99 , B100 #) in C46 } c= ( bool (the carrier of C45) )
proof
let C47 being set;
assume L100: C47 in { (the Extent of ConceptStr (# B101 , B102 #)) where B101 is (Subset of (the carrier of C45)) , B102 is (Subset of (the carrier' of C45)) : ConceptStr (# B101 , B102 #) in C46 };
L101: (ex B103 being (Subset of (the carrier of C45)) st (ex B104 being (Subset of (the carrier' of C45)) st (C47 = (the Extent of ConceptStr (# B103 , B104 #)) & ConceptStr (# B103 , B104 #) in C46))) by L100;
thus L102: thesis by L101;
end;
reconsider D18 = { (the Extent of ConceptStr (# B105 , B106 #)) where B105 is (Subset of (the carrier of C45)) , B106 is (Subset of (the carrier' of C45)) : ConceptStr (# B105 , B106 #) in C46 } as (Subset-Family of (the carrier of C45)) by L99;
L103: D15 c= (the carrier of C45)
proof
set D19 = ( union { (the Extent of ConceptStr (# B107 , B108 #)) where B107 is (Subset of (the carrier of C45)) , B108 is (Subset of (the carrier' of C45)) : ConceptStr (# B107 , B108 #) in C46 } );
L104: D19 c= (the carrier of C45)
proof
let C48 being set;
assume L105: C48 in D19;
consider C49 being set such that L106: C48 in C49 and L107: C49 in { (the Extent of ConceptStr (# B109 , B110 #)) where B109 is (Subset of (the carrier of C45)) , B110 is (Subset of (the carrier' of C45)) : ConceptStr (# B109 , B110 #) in C46 } by L105 , TARSKI:def 4;
L108: (ex B111 being (Subset of (the carrier of C45)) st (ex B112 being (Subset of (the carrier' of C45)) st (C49 = (the Extent of ConceptStr (# B111 , B112 #)) & ConceptStr (# B111 , B112 #) in C46))) by L107;
thus L109: thesis by L108 , L106;
end;
reconsider D20 = D19 as (Subset of (the carrier of C45)) by L104;
let C50 being set;
L110: ( ( AttributeDerivation C45 ) . ( ( ObjectDerivation C45 ) . D20 ) ) is (Element of ( bool (the carrier of C45) ));
assume L111: C50 in D15;
thus L112: thesis by L111 , L110;
end;
reconsider D21 = D15 as (Subset of (the carrier of C45)) by L103;
L113: ( ConceptLattice C45 ) = LattStr (# ( B-carrier C45 ) , ( B-join C45 ) , ( B-meet C45 ) #) by CONLAT_1:def 20;
L114: (for B113 being set holds (B113 in C46 implies (B113 is  strict  strict  strict  strict (FormalConcept of C45) & (ex B114 being (Subset of (the carrier of C45)) st (ex B115 being (Subset of (the carrier' of C45)) st B113 = ConceptStr (# B114 , B115 #))))))
proof
let C51 being set;
assume L115: C51 in C46;
L116: C51 is  strict  strict  strict  strict (FormalConcept of C45) by L115 , L113 , CONLAT_1:31;
thus L117: thesis by L116;
end;
L118: (ex B116 being (Subset of (the carrier of C45)) st (ex B117 being (Subset of (the carrier' of C45)) st D17 = ConceptStr (# B116 , B117 #))) by L114;
L119: (the Extent of D17) in { (the Extent of ConceptStr (# B118 , B119 #)) where B118 is (Subset of (the carrier of C45)) , B119 is (Subset of (the carrier' of C45)) : ConceptStr (# B118 , B119 #) in C46 } by L118;
reconsider D22 = D18 as non  empty (Subset-Family of (the carrier of C45)) by L119;
L120: { (the Intent of ConceptStr (# B120 , B121 #)) where B120 is (Subset of (the carrier of C45)) , B121 is (Subset of (the carrier' of C45)) : ConceptStr (# B120 , B121 #) in C46 } c= { ( ( ObjectDerivation C45 ) . B122 ) where B122 is (Subset of (the carrier of C45)) : B122 in { (the Extent of ConceptStr (# B123 , B124 #)) where B123 is (Subset of (the carrier of C45)) , B124 is (Subset of (the carrier' of C45)) : ConceptStr (# B123 , B124 #) in C46 } }
proof
let C52 being set;
assume L121: C52 in { (the Intent of ConceptStr (# B125 , B126 #)) where B125 is (Subset of (the carrier of C45)) , B126 is (Subset of (the carrier' of C45)) : ConceptStr (# B125 , B126 #) in C46 };
consider C53 being (Subset of (the carrier of C45)), C54 being (Subset of (the carrier' of C45)) such that L122: C52 = (the Intent of ConceptStr (# C53 , C54 #)) and L123: ConceptStr (# C53 , C54 #) in C46 by L121;
L124: ConceptStr (# C53 , C54 #) is (FormalConcept of C45) by L114 , L123;
L125: C52 = ( ( ObjectDerivation C45 ) . (the Extent of ConceptStr (# C53 , C54 #)) ) by L124 , L122 , CONLAT_1:def 10;
L126: (the Extent of ConceptStr (# C53 , C54 #)) in { (the Extent of ConceptStr (# B127 , B128 #)) where B127 is (Subset of (the carrier of C45)) , B128 is (Subset of (the carrier' of C45)) : ConceptStr (# B127 , B128 #) in C46 } by L123;
thus L127: thesis by L126 , L125;
end;
L128: { ( ( ObjectDerivation C45 ) . B129 ) where B129 is (Subset of (the carrier of C45)) : B129 in { (the Extent of ConceptStr (# B130 , B131 #)) where B130 is (Subset of (the carrier of C45)) , B131 is (Subset of (the carrier' of C45)) : ConceptStr (# B130 , B131 #) in C46 } } c= { (the Intent of ConceptStr (# B132 , B133 #)) where B132 is (Subset of (the carrier of C45)) , B133 is (Subset of (the carrier' of C45)) : ConceptStr (# B132 , B133 #) in C46 }
proof
let C55 being set;
assume L129: C55 in { ( ( ObjectDerivation C45 ) . B134 ) where B134 is (Subset of (the carrier of C45)) : B134 in { (the Extent of ConceptStr (# B135 , B136 #)) where B135 is (Subset of (the carrier of C45)) , B136 is (Subset of (the carrier' of C45)) : ConceptStr (# B135 , B136 #) in C46 } };
consider C56 being (Subset of (the carrier of C45)) such that L130: C55 = ( ( ObjectDerivation C45 ) . C56 ) and L131: C56 in { (the Extent of ConceptStr (# B137 , B138 #)) where B137 is (Subset of (the carrier of C45)) , B138 is (Subset of (the carrier' of C45)) : ConceptStr (# B137 , B138 #) in C46 } by L129;
consider C57 being (Subset of (the carrier of C45)), C58 being (Subset of (the carrier' of C45)) such that L132: C56 = (the Extent of ConceptStr (# C57 , C58 #)) and L133: ConceptStr (# C57 , C58 #) in C46 by L131;
L134: ConceptStr (# C57 , C58 #) is (FormalConcept of C45) by L114 , L133;
L135: C55 = (the Intent of ConceptStr (# C57 , C58 #)) by L134 , L130 , L132 , CONLAT_1:def 10;
thus L136: thesis by L135 , L133;
end;
L137: { ( ( ObjectDerivation C45 ) . B139 ) where B139 is (Subset of (the carrier of C45)) : B139 in { (the Extent of ConceptStr (# B140 , B141 #)) where B140 is (Subset of (the carrier of C45)) , B141 is (Subset of (the carrier' of C45)) : ConceptStr (# B140 , B141 #) in C46 } } = { (the Intent of ConceptStr (# B142 , B143 #)) where B142 is (Subset of (the carrier of C45)) , B143 is (Subset of (the carrier' of C45)) : ConceptStr (# B142 , B143 #) in C46 } by L128 , L120 , XBOOLE_0:def 10;
L138: D16 = ( meet { ( ( ObjectDerivation C45 ) . B144 ) where B144 is (Subset of (the carrier of C45)) : B144 in D22 } ) by L38;
L139: D16 c= (the carrier' of C45)
proof
set D23 = the (Element of C46);
set D24 = the (Element of { (the Intent of ConceptStr (# B145 , B146 #)) where B145 is (Subset of (the carrier of C45)) , B146 is (Subset of (the carrier' of C45)) : ConceptStr (# B145 , B146 #) in C46 });
let C59 being set;
L140: (ex B147 being (Subset of (the carrier of C45)) st (ex B148 being (Subset of (the carrier' of C45)) st D23 = ConceptStr (# B147 , B148 #))) by L114;
L141: (the Intent of D23) in { (the Intent of ConceptStr (# B149 , B150 #)) where B149 is (Subset of (the carrier of C45)) , B150 is (Subset of (the carrier' of C45)) : ConceptStr (# B149 , B150 #) in C46 } by L140;
L142: D24 in { (the Intent of ConceptStr (# B151 , B152 #)) where B151 is (Subset of (the carrier of C45)) , B152 is (Subset of (the carrier' of C45)) : ConceptStr (# B151 , B152 #) in C46 } by L141;
L143: (ex B153 being (Subset of (the carrier of C45)) st (ex B154 being (Subset of (the carrier' of C45)) st (D24 = (the Intent of ConceptStr (# B153 , B154 #)) & ConceptStr (# B153 , B154 #) in C46))) by L142;
assume L144: C59 in D16;
L145: C59 in D24 by L144 , L138 , L137 , L141 , SETFAM_1:def 1;
thus L146: thesis by L145 , L143;
end;
reconsider D25 = D16 as (Subset of (the carrier' of C45)) by L139;
L147: ( union { (the Extent of ConceptStr (# B155 , B156 #)) where B155 is (Subset of (the carrier of C45)) , B156 is (Subset of (the carrier' of C45)) : ConceptStr (# B155 , B156 #) in C46 } ) c= (the carrier of C45)
proof
let C60 being set;
assume L148: C60 in ( union { (the Extent of ConceptStr (# B157 , B158 #)) where B157 is (Subset of (the carrier of C45)) , B158 is (Subset of (the carrier' of C45)) : ConceptStr (# B157 , B158 #) in C46 } );
consider C61 being set such that L149: C60 in C61 and L150: C61 in { (the Extent of ConceptStr (# B159 , B160 #)) where B159 is (Subset of (the carrier of C45)) , B160 is (Subset of (the carrier' of C45)) : ConceptStr (# B159 , B160 #) in C46 } by L148 , TARSKI:def 4;
L151: (ex B161 being (Subset of (the carrier of C45)) st (ex B162 being (Subset of (the carrier' of C45)) st (C61 = (the Extent of ConceptStr (# B161 , B162 #)) & ConceptStr (# B161 , B162 #) in C46))) by L150;
thus L152: thesis by L151 , L149;
end;
reconsider D26 = ConceptStr (# D21 , D25 #) as  strict (FormalConcept of C45) by L147 , CONLAT_1:19;
reconsider D27 = D26 as (Element of ( ConceptLattice C45 )) by L113 , CONLAT_1:31;
L153: (the Intent of ( D27 @ )) = ( meet { (the Intent of ConceptStr (# B163 , B164 #)) where B163 is (Subset of (the carrier of C45)) , B164 is (Subset of (the carrier' of C45)) : ConceptStr (# B163 , B164 #) in C46 } ) by L138 , L137 , CONLAT_1:def 21;
L154: (for B165 being (Element of ( ConceptLattice C45 )) holds (C46 is_less_than B165 implies D27 [= B165))
proof
let C62 being (Element of ( ConceptLattice C45 ));
assume L155: C46 is_less_than C62;
L156: (for B166 being (Element of ( ConceptLattice C45 )) holds (B166 in C46 implies (the Intent of ( C62 @ )) c= (the Intent of ( B166 @ ))))
proof
let C63 being (Element of ( ConceptLattice C45 ));
assume L157: C63 in C46;
L158: C63 [= C62 by L157 , L155 , LATTICE3:def 17;
L159: ( C63 @ ) is-SubConcept-of ( C62 @ ) by L158 , CONLAT_1:43;
thus L160: thesis by L159 , CONLAT_1:28;
end;
L161: (the Intent of ( C62 @ )) c= ( meet { (the Intent of ConceptStr (# B167 , B168 #)) where B167 is (Subset of (the carrier of C45)) , B168 is (Subset of (the carrier' of C45)) : ConceptStr (# B167 , B168 #) in C46 } )
proof
set D28 = the (Element of C46);
let C64 being set;
assume L162: C64 in (the Intent of ( C62 @ ));
L163: (for B169 being set holds (B169 in { (the Intent of ConceptStr (# B170 , B171 #)) where B170 is (Subset of (the carrier of C45)) , B171 is (Subset of (the carrier' of C45)) : ConceptStr (# B170 , B171 #) in C46 } implies C64 in B169))
proof
let C65 being set;
assume L164: C65 in { (the Intent of ConceptStr (# B172 , B173 #)) where B172 is (Subset of (the carrier of C45)) , B173 is (Subset of (the carrier' of C45)) : ConceptStr (# B172 , B173 #) in C46 };
consider C66 being (Subset of (the carrier of C45)), C67 being (Subset of (the carrier' of C45)) such that L165: C65 = (the Intent of ConceptStr (# C66 , C67 #)) and L166: ConceptStr (# C66 , C67 #) in C46 by L164;
reconsider D29 = ConceptStr (# C66 , C67 #) as (Element of ( ConceptLattice C45 )) by L166;
L167: (the Intent of ( C62 @ )) c= (the Intent of ( D29 @ )) by L156 , L166;
L168: C64 in (the Intent of ( D29 @ )) by L167 , L162;
thus L169: thesis by L168 , L165 , CONLAT_1:def 21;
end;
L170: (ex B174 being (Subset of (the carrier of C45)) st (ex B175 being (Subset of (the carrier' of C45)) st D28 = ConceptStr (# B174 , B175 #))) by L114;
L171: (the Intent of D28) in { (the Intent of ConceptStr (# B176 , B177 #)) where B176 is (Subset of (the carrier of C45)) , B177 is (Subset of (the carrier' of C45)) : ConceptStr (# B176 , B177 #) in C46 } by L170;
thus L172: thesis by L171 , L163 , SETFAM_1:def 1;
end;
L173: ( D27 @ ) is-SubConcept-of ( C62 @ ) by L161 , L153 , CONLAT_1:28;
thus L174: thesis by L173 , CONLAT_1:43;
end;
L175: C46 is_less_than D27
proof
let C68 being (Element of ( ConceptLattice C45 ));
assume L176: C68 in C46;
L177: ( C68 @ ) in C46 by L176 , CONLAT_1:def 21;
L178: (the Intent of ( C68 @ )) in { (the Intent of ConceptStr (# B178 , B179 #)) where B178 is (Subset of (the carrier of C45)) , B179 is (Subset of (the carrier' of C45)) : ConceptStr (# B178 , B179 #) in C46 } by L177;
L179: (the Intent of ( D27 @ )) c= (the Intent of ( C68 @ )) by L178 , L153 , SETFAM_1:3;
L180: ( C68 @ ) is-SubConcept-of ( D27 @ ) by L179 , CONLAT_1:28;
thus L181: thesis by L180 , CONLAT_1:43;
end;
thus L182: thesis by L175 , L138 , L137 , L154 , LATTICE3:def 21;
end;
theorem
L183: (for B180 being FormalContext holds (for B181 being non  empty (Subset of ( ConceptLattice B180 )) holds ((the Extent of ( "/\" (B181 , B180) )) = ( meet { (the Extent of ConceptStr (# B182 , B183 #)) where B182 is (Subset of (the carrier of B180)) , B183 is (Subset of (the carrier' of B180)) : ConceptStr (# B182 , B183 #) in B181 } ) & (the Intent of ( "/\" (B181 , B180) )) = ( ( ObjectDerivation B180 ) . ( ( AttributeDerivation B180 ) . ( union { (the Intent of ConceptStr (# B184 , B185 #)) where B184 is (Subset of (the carrier of B180)) , B185 is (Subset of (the carrier' of B180)) : ConceptStr (# B184 , B185 #) in B181 } ) ) ))))
proof
let C69 being FormalContext;
let C70 being non  empty (Subset of ( ConceptLattice C69 ));
set D30 = ( ( ObjectDerivation C69 ) . ( ( AttributeDerivation C69 ) . ( union { (the Intent of ConceptStr (# B186 , B187 #)) where B186 is (Subset of (the carrier of C69)) , B187 is (Subset of (the carrier' of C69)) : ConceptStr (# B186 , B187 #) in C70 } ) ) );
set D31 = ( ( AttributeDerivation C69 ) . ( union { (the Intent of ConceptStr (# B188 , B189 #)) where B188 is (Subset of (the carrier of C69)) , B189 is (Subset of (the carrier' of C69)) : ConceptStr (# B188 , B189 #) in C70 } ) );
set D32 = the (Element of C70);
L184: { (the Intent of ConceptStr (# B190 , B191 #)) where B190 is (Subset of (the carrier of C69)) , B191 is (Subset of (the carrier' of C69)) : ConceptStr (# B190 , B191 #) in C70 } c= ( bool (the carrier' of C69) )
proof
let C71 being set;
assume L185: C71 in { (the Intent of ConceptStr (# B192 , B193 #)) where B192 is (Subset of (the carrier of C69)) , B193 is (Subset of (the carrier' of C69)) : ConceptStr (# B192 , B193 #) in C70 };
L186: (ex B194 being (Subset of (the carrier of C69)) st (ex B195 being (Subset of (the carrier' of C69)) st (C71 = (the Intent of ConceptStr (# B194 , B195 #)) & ConceptStr (# B194 , B195 #) in C70))) by L185;
thus L187: thesis by L186;
end;
reconsider D33 = { (the Intent of ConceptStr (# B196 , B197 #)) where B196 is (Subset of (the carrier of C69)) , B197 is (Subset of (the carrier' of C69)) : ConceptStr (# B196 , B197 #) in C70 } as (Subset-Family of (the carrier' of C69)) by L184;
L188: D30 c= (the carrier' of C69)
proof
set D34 = ( union { (the Intent of ConceptStr (# B198 , B199 #)) where B198 is (Subset of (the carrier of C69)) , B199 is (Subset of (the carrier' of C69)) : ConceptStr (# B198 , B199 #) in C70 } );
L189: D34 c= (the carrier' of C69)
proof
let C72 being set;
assume L190: C72 in D34;
consider C73 being set such that L191: C72 in C73 and L192: C73 in { (the Intent of ConceptStr (# B200 , B201 #)) where B200 is (Subset of (the carrier of C69)) , B201 is (Subset of (the carrier' of C69)) : ConceptStr (# B200 , B201 #) in C70 } by L190 , TARSKI:def 4;
L193: (ex B202 being (Subset of (the carrier of C69)) st (ex B203 being (Subset of (the carrier' of C69)) st (C73 = (the Intent of ConceptStr (# B202 , B203 #)) & ConceptStr (# B202 , B203 #) in C70))) by L192;
thus L194: thesis by L193 , L191;
end;
reconsider D35 = D34 as (Subset of (the carrier' of C69)) by L189;
let C74 being set;
L195: ( ( ObjectDerivation C69 ) . ( ( AttributeDerivation C69 ) . D35 ) ) is (Element of ( bool (the carrier' of C69) ));
assume L196: C74 in D30;
thus L197: thesis by L196 , L195;
end;
reconsider D36 = D30 as (Subset of (the carrier' of C69)) by L188;
L198: ( ConceptLattice C69 ) = LattStr (# ( B-carrier C69 ) , ( B-join C69 ) , ( B-meet C69 ) #) by CONLAT_1:def 20;
L199: (for B204 being set holds (B204 in C70 implies (B204 is  strict  strict  strict  strict (FormalConcept of C69) & (ex B205 being (Subset of (the carrier of C69)) st (ex B206 being (Subset of (the carrier' of C69)) st B204 = ConceptStr (# B205 , B206 #))))))
proof
let C75 being set;
assume L200: C75 in C70;
L201: C75 is  strict  strict  strict  strict (FormalConcept of C69) by L200 , L198 , CONLAT_1:31;
thus L202: thesis by L201;
end;
L203: (ex B207 being (Subset of (the carrier of C69)) st (ex B208 being (Subset of (the carrier' of C69)) st D32 = ConceptStr (# B207 , B208 #))) by L199;
L204: (the Intent of D32) in { (the Intent of ConceptStr (# B209 , B210 #)) where B209 is (Subset of (the carrier of C69)) , B210 is (Subset of (the carrier' of C69)) : ConceptStr (# B209 , B210 #) in C70 } by L203;
reconsider D37 = D33 as non  empty (Subset-Family of (the carrier' of C69)) by L204;
L205: { (the Extent of ConceptStr (# B211 , B212 #)) where B211 is (Subset of (the carrier of C69)) , B212 is (Subset of (the carrier' of C69)) : ConceptStr (# B211 , B212 #) in C70 } c= { ( ( AttributeDerivation C69 ) . B213 ) where B213 is (Subset of (the carrier' of C69)) : B213 in { (the Intent of ConceptStr (# B214 , B215 #)) where B214 is (Subset of (the carrier of C69)) , B215 is (Subset of (the carrier' of C69)) : ConceptStr (# B214 , B215 #) in C70 } }
proof
let C76 being set;
assume L206: C76 in { (the Extent of ConceptStr (# B216 , B217 #)) where B216 is (Subset of (the carrier of C69)) , B217 is (Subset of (the carrier' of C69)) : ConceptStr (# B216 , B217 #) in C70 };
consider C77 being (Subset of (the carrier of C69)), C78 being (Subset of (the carrier' of C69)) such that L207: C76 = (the Extent of ConceptStr (# C77 , C78 #)) and L208: ConceptStr (# C77 , C78 #) in C70 by L206;
L209: ConceptStr (# C77 , C78 #) is (FormalConcept of C69) by L199 , L208;
L210: C76 = ( ( AttributeDerivation C69 ) . (the Intent of ConceptStr (# C77 , C78 #)) ) by L209 , L207 , CONLAT_1:def 10;
L211: (the Intent of ConceptStr (# C77 , C78 #)) in { (the Intent of ConceptStr (# B218 , B219 #)) where B218 is (Subset of (the carrier of C69)) , B219 is (Subset of (the carrier' of C69)) : ConceptStr (# B218 , B219 #) in C70 } by L208;
thus L212: thesis by L211 , L210;
end;
L213: { ( ( AttributeDerivation C69 ) . B220 ) where B220 is (Subset of (the carrier' of C69)) : B220 in { (the Intent of ConceptStr (# B221 , B222 #)) where B221 is (Subset of (the carrier of C69)) , B222 is (Subset of (the carrier' of C69)) : ConceptStr (# B221 , B222 #) in C70 } } c= { (the Extent of ConceptStr (# B223 , B224 #)) where B223 is (Subset of (the carrier of C69)) , B224 is (Subset of (the carrier' of C69)) : ConceptStr (# B223 , B224 #) in C70 }
proof
let C79 being set;
assume L214: C79 in { ( ( AttributeDerivation C69 ) . B225 ) where B225 is (Subset of (the carrier' of C69)) : B225 in { (the Intent of ConceptStr (# B226 , B227 #)) where B226 is (Subset of (the carrier of C69)) , B227 is (Subset of (the carrier' of C69)) : ConceptStr (# B226 , B227 #) in C70 } };
consider C80 being (Subset of (the carrier' of C69)) such that L215: C79 = ( ( AttributeDerivation C69 ) . C80 ) and L216: C80 in { (the Intent of ConceptStr (# B228 , B229 #)) where B228 is (Subset of (the carrier of C69)) , B229 is (Subset of (the carrier' of C69)) : ConceptStr (# B228 , B229 #) in C70 } by L214;
consider C81 being (Subset of (the carrier of C69)), C82 being (Subset of (the carrier' of C69)) such that L217: C80 = (the Intent of ConceptStr (# C81 , C82 #)) and L218: ConceptStr (# C81 , C82 #) in C70 by L216;
L219: ConceptStr (# C81 , C82 #) is (FormalConcept of C69) by L199 , L218;
L220: C79 = (the Extent of ConceptStr (# C81 , C82 #)) by L219 , L215 , L217 , CONLAT_1:def 10;
thus L221: thesis by L220 , L218;
end;
L222: { ( ( AttributeDerivation C69 ) . B230 ) where B230 is (Subset of (the carrier' of C69)) : B230 in { (the Intent of ConceptStr (# B231 , B232 #)) where B231 is (Subset of (the carrier of C69)) , B232 is (Subset of (the carrier' of C69)) : ConceptStr (# B231 , B232 #) in C70 } } = { (the Extent of ConceptStr (# B233 , B234 #)) where B233 is (Subset of (the carrier of C69)) , B234 is (Subset of (the carrier' of C69)) : ConceptStr (# B233 , B234 #) in C70 } by L213 , L205 , XBOOLE_0:def 10;
L223: D31 = ( meet { ( ( AttributeDerivation C69 ) . B235 ) where B235 is (Subset of (the carrier' of C69)) : B235 in D37 } ) by L67;
L224: D31 c= (the carrier of C69)
proof
set D38 = the (Element of C70);
set D39 = the (Element of { (the Extent of ConceptStr (# B236 , B237 #)) where B236 is (Subset of (the carrier of C69)) , B237 is (Subset of (the carrier' of C69)) : ConceptStr (# B236 , B237 #) in C70 });
let C83 being set;
L225: (ex B238 being (Subset of (the carrier of C69)) st (ex B239 being (Subset of (the carrier' of C69)) st D38 = ConceptStr (# B238 , B239 #))) by L199;
L226: (the Extent of D38) in { (the Extent of ConceptStr (# B240 , B241 #)) where B240 is (Subset of (the carrier of C69)) , B241 is (Subset of (the carrier' of C69)) : ConceptStr (# B240 , B241 #) in C70 } by L225;
L227: D39 in { (the Extent of ConceptStr (# B242 , B243 #)) where B242 is (Subset of (the carrier of C69)) , B243 is (Subset of (the carrier' of C69)) : ConceptStr (# B242 , B243 #) in C70 } by L226;
L228: (ex B244 being (Subset of (the carrier of C69)) st (ex B245 being (Subset of (the carrier' of C69)) st (D39 = (the Extent of ConceptStr (# B244 , B245 #)) & ConceptStr (# B244 , B245 #) in C70))) by L227;
assume L229: C83 in D31;
L230: C83 in D39 by L229 , L223 , L222 , L226 , SETFAM_1:def 1;
thus L231: thesis by L230 , L228;
end;
reconsider D40 = D31 as (Subset of (the carrier of C69)) by L224;
L232: ( union { (the Intent of ConceptStr (# B246 , B247 #)) where B246 is (Subset of (the carrier of C69)) , B247 is (Subset of (the carrier' of C69)) : ConceptStr (# B246 , B247 #) in C70 } ) c= (the carrier' of C69)
proof
let C84 being set;
assume L233: C84 in ( union { (the Intent of ConceptStr (# B248 , B249 #)) where B248 is (Subset of (the carrier of C69)) , B249 is (Subset of (the carrier' of C69)) : ConceptStr (# B248 , B249 #) in C70 } );
consider C85 being set such that L234: C84 in C85 and L235: C85 in { (the Intent of ConceptStr (# B250 , B251 #)) where B250 is (Subset of (the carrier of C69)) , B251 is (Subset of (the carrier' of C69)) : ConceptStr (# B250 , B251 #) in C70 } by L233 , TARSKI:def 4;
L236: (ex B252 being (Subset of (the carrier of C69)) st (ex B253 being (Subset of (the carrier' of C69)) st (C85 = (the Intent of ConceptStr (# B252 , B253 #)) & ConceptStr (# B252 , B253 #) in C70))) by L235;
thus L237: thesis by L236 , L234;
end;
reconsider D41 = ConceptStr (# D40 , D36 #) as  strict (FormalConcept of C69) by L232 , CONLAT_1:21;
reconsider D42 = D41 as (Element of ( ConceptLattice C69 )) by L198 , CONLAT_1:31;
L238: (the Extent of ( D42 @ )) = ( meet { (the Extent of ConceptStr (# B254 , B255 #)) where B254 is (Subset of (the carrier of C69)) , B255 is (Subset of (the carrier' of C69)) : ConceptStr (# B254 , B255 #) in C70 } ) by L223 , L222 , CONLAT_1:def 21;
L239: (for B256 being (Element of ( ConceptLattice C69 )) holds (B256 is_less_than C70 implies B256 [= D42))
proof
let C86 being (Element of ( ConceptLattice C69 ));
assume L240: C86 is_less_than C70;
L241: (for B257 being (Element of ( ConceptLattice C69 )) holds (B257 in C70 implies (the Extent of ( C86 @ )) c= (the Extent of ( B257 @ ))))
proof
let C87 being (Element of ( ConceptLattice C69 ));
assume L242: C87 in C70;
L243: C86 [= C87 by L242 , L240 , LATTICE3:def 16;
L244: ( C86 @ ) is-SubConcept-of ( C87 @ ) by L243 , CONLAT_1:43;
thus L245: thesis by L244 , CONLAT_1:def 16;
end;
L246: (the Extent of ( C86 @ )) c= ( meet { (the Extent of ConceptStr (# B258 , B259 #)) where B258 is (Subset of (the carrier of C69)) , B259 is (Subset of (the carrier' of C69)) : ConceptStr (# B258 , B259 #) in C70 } )
proof
set D43 = the (Element of C70);
let C88 being set;
assume L247: C88 in (the Extent of ( C86 @ ));
L248: (for B260 being set holds (B260 in { (the Extent of ConceptStr (# B261 , B262 #)) where B261 is (Subset of (the carrier of C69)) , B262 is (Subset of (the carrier' of C69)) : ConceptStr (# B261 , B262 #) in C70 } implies C88 in B260))
proof
let C89 being set;
assume L249: C89 in { (the Extent of ConceptStr (# B263 , B264 #)) where B263 is (Subset of (the carrier of C69)) , B264 is (Subset of (the carrier' of C69)) : ConceptStr (# B263 , B264 #) in C70 };
consider C90 being (Subset of (the carrier of C69)), C91 being (Subset of (the carrier' of C69)) such that L250: C89 = (the Extent of ConceptStr (# C90 , C91 #)) and L251: ConceptStr (# C90 , C91 #) in C70 by L249;
reconsider D44 = ConceptStr (# C90 , C91 #) as (Element of ( ConceptLattice C69 )) by L251;
L252: (the Extent of ( C86 @ )) c= (the Extent of ( D44 @ )) by L241 , L251;
L253: C88 in (the Extent of ( D44 @ )) by L252 , L247;
thus L254: thesis by L253 , L250 , CONLAT_1:def 21;
end;
L255: (ex B265 being (Subset of (the carrier of C69)) st (ex B266 being (Subset of (the carrier' of C69)) st D43 = ConceptStr (# B265 , B266 #))) by L199;
L256: (the Extent of D43) in { (the Extent of ConceptStr (# B267 , B268 #)) where B267 is (Subset of (the carrier of C69)) , B268 is (Subset of (the carrier' of C69)) : ConceptStr (# B267 , B268 #) in C70 } by L255;
thus L257: thesis by L256 , L248 , SETFAM_1:def 1;
end;
L258: ( C86 @ ) is-SubConcept-of ( D42 @ ) by L246 , L238 , CONLAT_1:def 16;
thus L259: thesis by L258 , CONLAT_1:43;
end;
L260: D42 is_less_than C70
proof
let C92 being (Element of ( ConceptLattice C69 ));
assume L261: C92 in C70;
L262: ( C92 @ ) in C70 by L261 , CONLAT_1:def 21;
L263: (the Extent of ( C92 @ )) in { (the Extent of ConceptStr (# B269 , B270 #)) where B269 is (Subset of (the carrier of C69)) , B270 is (Subset of (the carrier' of C69)) : ConceptStr (# B269 , B270 #) in C70 } by L262;
L264: (the Extent of ( D42 @ )) c= (the Extent of ( C92 @ )) by L263 , L238 , SETFAM_1:3;
L265: ( D42 @ ) is-SubConcept-of ( C92 @ ) by L264 , CONLAT_1:def 16;
thus L266: thesis by L265 , CONLAT_1:43;
end;
thus L267: thesis by L260 , L223 , L222 , L239 , LATTICE3:34;
end;
theorem
L268: (for B271 being FormalContext holds (for B272 being  strict (FormalConcept of B271) holds ( "\/" ({ ConceptStr (# B273 , B274 #) where B273 is (Subset of (the carrier of B271)) , B274 is (Subset of (the carrier' of B271)) : (ex B275 being (Object of B271) st (B275 in (the Extent of B272) & B273 = ( ( AttributeDerivation B271 ) . ( ( ObjectDerivation B271 ) . { B275 } ) ) & B274 = ( ( ObjectDerivation B271 ) . { B275 } ))) } , ( ConceptLattice B271 )) ) = B272))
proof
let C93 being FormalContext;
let C94 being  strict (FormalConcept of C93);
set D45 = { ConceptStr (# B276 , B277 #) where B276 is (Subset of (the carrier of C93)) , B277 is (Subset of (the carrier' of C93)) : (ex B278 being (Object of C93) st (B278 in (the Extent of C94) & B276 = ( ( AttributeDerivation C93 ) . ( ( ObjectDerivation C93 ) . { B278 } ) ) & B277 = ( ( ObjectDerivation C93 ) . { B278 } ))) };
L269: (for B279 being (Element of ( ConceptLattice C93 )) holds (D45 is_less_than B279 implies ( @ C94 ) [= B279))
proof
let C95 being (Element of ( ConceptLattice C93 ));
assume L270: D45 is_less_than C95;
L271: (the Extent of C94) c= (the Extent of ( C95 @ ))
proof
let C96 being set;
assume L272: C96 in (the Extent of C94);
reconsider D46 = C96 as (Element of C93) by L272;
set D47 = ( ( ObjectDerivation C93 ) . { D46 } );
set D48 = ( ( AttributeDerivation C93 ) . ( ( ObjectDerivation C93 ) . { D46 } ) );
reconsider D49 = ConceptStr (# D48 , D47 #) as  strict (FormalConcept of C93) by CONLAT_1:19;
L273: D49 in { ConceptStr (# B280 , B281 #) where B280 is (Subset of (the carrier of C93)) , B281 is (Subset of (the carrier' of C93)) : (ex B282 being (Object of C93) st (B282 in (the Extent of C94) & B280 = ( ( AttributeDerivation C93 ) . ( ( ObjectDerivation C93 ) . { B282 } ) ) & B281 = ( ( ObjectDerivation C93 ) . { B282 } ))) } by L272;
L274: ( @ D49 ) [= C95 by L273 , L270 , LATTICE3:def 17;
L275: ( ( @ D49 ) @ ) is-SubConcept-of ( C95 @ ) by L274 , CONLAT_1:43;
L276: { D46 } c= D48 by CONLAT_1:5;
L277: D46 in (the Extent of D49) by L276 , ZFMISC_1:31;
L278: D49 = ( ( @ D49 ) @ ) by CONLAT_1:def 21;
L279: (the Extent of D49) c= (the Extent of ( C95 @ )) by L278 , L275 , CONLAT_1:def 16;
thus L280: thesis by L279 , L277;
end;
L281: C94 = ( ( @ C94 ) @ ) by CONLAT_1:def 21;
L282: ( ( @ C94 ) @ ) is-SubConcept-of ( C95 @ ) by L281 , L271 , CONLAT_1:def 16;
thus L283: thesis by L282 , CONLAT_1:43;
end;
L284: D45 is_less_than ( @ C94 )
proof
let C97 being (Element of ( ConceptLattice C93 ));
assume L285: C97 in D45;
consider C98 being (Subset of (the carrier of C93)), C99 being (Subset of (the carrier' of C93)) such that L286: C97 = ConceptStr (# C98 , C99 #) and L287: (ex B283 being (Object of C93) st (B283 in (the Extent of C94) & C98 = ( ( AttributeDerivation C93 ) . ( ( ObjectDerivation C93 ) . { B283 } ) ) & C99 = ( ( ObjectDerivation C93 ) . { B283 } ))) by L285;
consider C100 being (Object of C93) such that L288: C100 in (the Extent of C94) and L289: C98 = ( ( AttributeDerivation C93 ) . ( ( ObjectDerivation C93 ) . { C100 } ) ) and L290: C99 = ( ( ObjectDerivation C93 ) . { C100 } ) by L287;
L291: { C100 } c= (the Extent of C94) by L288 , ZFMISC_1:31;
L292: (( ( ObjectDerivation C93 ) . (the Extent of C94) ) = (the Intent of C94) & (the Intent of ( C97 @ )) = ( ( ObjectDerivation C93 ) . { C100 } )) by L286 , L290 , CONLAT_1:def 10 , CONLAT_1:def 21;
L293: (the Intent of C94) c= (the Intent of ( C97 @ )) by L292 , L291 , CONLAT_1:3;
L294: ( C97 @ ) is-SubConcept-of C94 by L293 , CONLAT_1:28;
L295: C94 = ( ( @ C94 ) @ ) by CONLAT_1:def 21;
thus L296: thesis by L295 , L294 , CONLAT_1:43;
end;
thus L297: thesis by L284 , L269 , LATTICE3:def 21;
end;
theorem
L298: (for B284 being FormalContext holds (for B285 being  strict (FormalConcept of B284) holds ( "/\" ({ ConceptStr (# B286 , B287 #) where B286 is (Subset of (the carrier of B284)) , B287 is (Subset of (the carrier' of B284)) : (ex B288 being (Attribute of B284) st (B288 in (the Intent of B285) & B286 = ( ( AttributeDerivation B284 ) . { B288 } ) & B287 = ( ( ObjectDerivation B284 ) . ( ( AttributeDerivation B284 ) . { B288 } ) ))) } , ( ConceptLattice B284 )) ) = B285))
proof
let C101 being FormalContext;
let C102 being  strict (FormalConcept of C101);
set D50 = { ConceptStr (# B289 , B290 #) where B289 is (Subset of (the carrier of C101)) , B290 is (Subset of (the carrier' of C101)) : (ex B291 being (Attribute of C101) st (B291 in (the Intent of C102) & B289 = ( ( AttributeDerivation C101 ) . { B291 } ) & B290 = ( ( ObjectDerivation C101 ) . ( ( AttributeDerivation C101 ) . { B291 } ) ))) };
L299: (for B292 being (Element of ( ConceptLattice C101 )) holds (B292 is_less_than D50 implies B292 [= ( @ C102 )))
proof
let C103 being (Element of ( ConceptLattice C101 ));
assume L300: C103 is_less_than D50;
L301: (the Intent of C102) c= (the Intent of ( C103 @ ))
proof
let C104 being set;
assume L302: C104 in (the Intent of C102);
reconsider D51 = C104 as (Element of (the carrier' of C101)) by L302;
set D52 = ( ( ObjectDerivation C101 ) . ( ( AttributeDerivation C101 ) . { D51 } ) );
set D53 = ( ( AttributeDerivation C101 ) . { D51 } );
reconsider D54 = ConceptStr (# D53 , D52 #) as  strict (FormalConcept of C101) by CONLAT_1:21;
L303: D54 in { ConceptStr (# B293 , B294 #) where B293 is (Subset of (the carrier of C101)) , B294 is (Subset of (the carrier' of C101)) : (ex B295 being (Attribute of C101) st (B295 in (the Intent of C102) & B293 = ( ( AttributeDerivation C101 ) . { B295 } ) & B294 = ( ( ObjectDerivation C101 ) . ( ( AttributeDerivation C101 ) . { B295 } ) ))) } by L302;
L304: C103 [= ( @ D54 ) by L303 , L300 , LATTICE3:def 16;
L305: ( C103 @ ) is-SubConcept-of ( ( @ D54 ) @ ) by L304 , CONLAT_1:43;
L306: { D51 } c= D52 by CONLAT_1:6;
L307: D51 in (the Intent of D54) by L306 , ZFMISC_1:31;
L308: D54 = ( ( @ D54 ) @ ) by CONLAT_1:def 21;
L309: (the Intent of D54) c= (the Intent of ( C103 @ )) by L308 , L305 , CONLAT_1:28;
thus L310: thesis by L309 , L307;
end;
L311: C102 = ( ( @ C102 ) @ ) by CONLAT_1:def 21;
L312: ( C103 @ ) is-SubConcept-of ( ( @ C102 ) @ ) by L311 , L301 , CONLAT_1:28;
thus L313: thesis by L312 , CONLAT_1:43;
end;
L314: ( @ C102 ) is_less_than D50
proof
let C105 being (Element of ( ConceptLattice C101 ));
assume L315: C105 in D50;
consider C106 being (Subset of (the carrier of C101)), C107 being (Subset of (the carrier' of C101)) such that L316: C105 = ConceptStr (# C106 , C107 #) and L317: (ex B296 being (Attribute of C101) st (B296 in (the Intent of C102) & C106 = ( ( AttributeDerivation C101 ) . { B296 } ) & C107 = ( ( ObjectDerivation C101 ) . ( ( AttributeDerivation C101 ) . { B296 } ) ))) by L315;
consider C108 being (Attribute of C101) such that L318: C108 in (the Intent of C102) and L319: C106 = ( ( AttributeDerivation C101 ) . { C108 } ) and L320: C107 = ( ( ObjectDerivation C101 ) . ( ( AttributeDerivation C101 ) . { C108 } ) ) by L317;
L321: { C108 } c= (the Intent of C102) by L318 , ZFMISC_1:31;
L322: (( ( AttributeDerivation C101 ) . (the Intent of C102) ) = (the Extent of C102) & (the Extent of ( C105 @ )) = ( ( AttributeDerivation C101 ) . { C108 } )) by L316 , L319 , CONLAT_1:def 10 , CONLAT_1:def 21;
L323: (the Extent of C102) c= (the Extent of ( C105 @ )) by L322 , L321 , CONLAT_1:4;
L324: C102 is-SubConcept-of ( C105 @ ) by L323 , CONLAT_1:def 16;
L325: C102 = ( ( @ C102 ) @ ) by CONLAT_1:def 21;
thus L326: thesis by L325 , L324 , CONLAT_1:43;
end;
thus L327: thesis by L314 , L299 , LATTICE3:34;
end;
definition
let C109 being FormalContext;
func gamma C109 -> (Function of (the carrier of C109) , (the carrier of ( ConceptLattice C109 ))) means 
:L328: (for B297 being (Element of C109) holds (ex B298 being (Subset of (the carrier of C109)) st (ex B299 being (Subset of (the carrier' of C109)) st (( it . B297 ) = ConceptStr (# B298 , B299 #) & B298 = ( ( AttributeDerivation C109 ) . ( ( ObjectDerivation C109 ) . { B297 } ) ) & B299 = ( ( ObjectDerivation C109 ) . { B297 } )))));
existence
proof
defpred S1[ set , set ] means (ex B300 being (Subset of (the carrier of C109)) st (ex B301 being (Subset of (the carrier' of C109)) st ($2 = ConceptStr (# B300 , B301 #) & B300 = ( ( AttributeDerivation C109 ) . ( ( ObjectDerivation C109 ) . { $1 } ) ) & B301 = ( ( ObjectDerivation C109 ) . { $1 } ))));
L329: (for B302 being set holds (B302 in (the carrier of C109) implies (ex B303 being set st (B303 in (the carrier of ( ConceptLattice C109 )) & S1[ B302 , B303 ]))))
proof
let C110 being set;
assume L330: C110 in (the carrier of C109);
reconsider D55 = { C110 } as (Subset of (the carrier of C109)) by L330 , ZFMISC_1:31;
set D56 = ( ( ObjectDerivation C109 ) . D55 );
set D57 = ( ( AttributeDerivation C109 ) . ( ( ObjectDerivation C109 ) . D55 ) );
take ConceptStr (# D57 , D56 #);
L331: (( ConceptLattice C109 ) = LattStr (# ( B-carrier C109 ) , ( B-join C109 ) , ( B-meet C109 ) #) & ConceptStr (# D57 , D56 #) is (FormalConcept of C109)) by CONLAT_1:19 , CONLAT_1:def 20;
thus L332: thesis by L331 , CONLAT_1:31;
end;
consider C111 being (Function of (the carrier of C109) , (the carrier of ( ConceptLattice C109 ))) such that L333: (for B304 being set holds (B304 in (the carrier of C109) implies S1[ B304 , ( C111 . B304 ) ])) from FUNCT_2:sch 1(L329);
take C111;
let C112 being (Element of C109);
thus L334: thesis by L333;
end;
uniqueness
proof
let C113 , C114 being (Function of (the carrier of C109) , (the carrier of ( ConceptLattice C109 )));
assume L335: (for B305 being (Element of C109) holds (ex B306 being (Subset of (the carrier of C109)) st (ex B307 being (Subset of (the carrier' of C109)) st (( C113 . B305 ) = ConceptStr (# B306 , B307 #) & B306 = ( ( AttributeDerivation C109 ) . ( ( ObjectDerivation C109 ) . { B305 } ) ) & B307 = ( ( ObjectDerivation C109 ) . { B305 } )))));
assume L336: (for B308 being (Element of C109) holds (ex B309 being (Subset of (the carrier of C109)) st (ex B310 being (Subset of (the carrier' of C109)) st (( C114 . B308 ) = ConceptStr (# B309 , B310 #) & B309 = ( ( AttributeDerivation C109 ) . ( ( ObjectDerivation C109 ) . { B308 } ) ) & B310 = ( ( ObjectDerivation C109 ) . { B308 } )))));
L337: (for B311 being set holds (B311 in (the carrier of C109) implies ( C113 . B311 ) = ( C114 . B311 )))
proof
let C115 being set;
assume L338: C115 in (the carrier of C109);
reconsider D58 = C115 as (Element of C109) by L338;
L339: ((ex B312 being (Subset of (the carrier of C109)) st (ex B313 being (Subset of (the carrier' of C109)) st (( C113 . D58 ) = ConceptStr (# B312 , B313 #) & B312 = ( ( AttributeDerivation C109 ) . ( ( ObjectDerivation C109 ) . { D58 } ) ) & B313 = ( ( ObjectDerivation C109 ) . { D58 } )))) & (ex B314 being (Subset of (the carrier of C109)) st (ex B315 being (Subset of (the carrier' of C109)) st (( C114 . D58 ) = ConceptStr (# B314 , B315 #) & B314 = ( ( AttributeDerivation C109 ) . ( ( ObjectDerivation C109 ) . { D58 } ) ) & B315 = ( ( ObjectDerivation C109 ) . { D58 } ))))) by L335 , L336;
thus L340: thesis by L339;
end;
L341: (( dom C113 ) = (the carrier of C109) & ( dom C114 ) = (the carrier of C109)) by FUNCT_2:def 1;
thus L342: thesis by L341 , L337 , FUNCT_1:2;
end;
end;
definition
let C116 being FormalContext;
func delta C116 -> (Function of (the carrier' of C116) , (the carrier of ( ConceptLattice C116 ))) means 
:L344: (for B316 being (Element of (the carrier' of C116)) holds (ex B317 being (Subset of (the carrier of C116)) st (ex B318 being (Subset of (the carrier' of C116)) st (( it . B316 ) = ConceptStr (# B317 , B318 #) & B317 = ( ( AttributeDerivation C116 ) . { B316 } ) & B318 = ( ( ObjectDerivation C116 ) . ( ( AttributeDerivation C116 ) . { B316 } ) )))));
existence
proof
defpred S2[ set , set ] means (ex B319 being (Subset of (the carrier of C116)) st (ex B320 being (Subset of (the carrier' of C116)) st ($2 = ConceptStr (# B319 , B320 #) & B319 = ( ( AttributeDerivation C116 ) . { $1 } ) & B320 = ( ( ObjectDerivation C116 ) . ( ( AttributeDerivation C116 ) . { $1 } ) ))));
L345: (for B321 being set holds (B321 in (the carrier' of C116) implies (ex B322 being set st (B322 in (the carrier of ( ConceptLattice C116 )) & S2[ B321 , B322 ]))))
proof
let C117 being set;
assume L346: C117 in (the carrier' of C116);
reconsider D59 = { C117 } as (Subset of (the carrier' of C116)) by L346 , ZFMISC_1:31;
set D60 = ( ( ObjectDerivation C116 ) . ( ( AttributeDerivation C116 ) . D59 ) );
set D61 = ( ( AttributeDerivation C116 ) . D59 );
take ConceptStr (# D61 , D60 #);
L347: (( ConceptLattice C116 ) = LattStr (# ( B-carrier C116 ) , ( B-join C116 ) , ( B-meet C116 ) #) & ConceptStr (# D61 , D60 #) is (FormalConcept of C116)) by CONLAT_1:21 , CONLAT_1:def 20;
thus L348: thesis by L347 , CONLAT_1:31;
end;
consider C118 being (Function of (the carrier' of C116) , (the carrier of ( ConceptLattice C116 ))) such that L349: (for B323 being set holds (B323 in (the carrier' of C116) implies S2[ B323 , ( C118 . B323 ) ])) from FUNCT_2:sch 1(L345);
take C118;
let C119 being (Element of (the carrier' of C116));
thus L350: thesis by L349;
end;
uniqueness
proof
let C120 , C121 being (Function of (the carrier' of C116) , (the carrier of ( ConceptLattice C116 )));
assume L351: (for B324 being (Element of (the carrier' of C116)) holds (ex B325 being (Subset of (the carrier of C116)) st (ex B326 being (Subset of (the carrier' of C116)) st (( C120 . B324 ) = ConceptStr (# B325 , B326 #) & B325 = ( ( AttributeDerivation C116 ) . { B324 } ) & B326 = ( ( ObjectDerivation C116 ) . ( ( AttributeDerivation C116 ) . { B324 } ) )))));
assume L352: (for B327 being (Element of (the carrier' of C116)) holds (ex B328 being (Subset of (the carrier of C116)) st (ex B329 being (Subset of (the carrier' of C116)) st (( C121 . B327 ) = ConceptStr (# B328 , B329 #) & B328 = ( ( AttributeDerivation C116 ) . { B327 } ) & B329 = ( ( ObjectDerivation C116 ) . ( ( AttributeDerivation C116 ) . { B327 } ) )))));
L353: (for B330 being set holds (B330 in (the carrier' of C116) implies ( C120 . B330 ) = ( C121 . B330 )))
proof
let C122 being set;
assume L354: C122 in (the carrier' of C116);
reconsider D62 = C122 as (Element of (the carrier' of C116)) by L354;
L355: ((ex B331 being (Subset of (the carrier of C116)) st (ex B332 being (Subset of (the carrier' of C116)) st (( C120 . D62 ) = ConceptStr (# B331 , B332 #) & B331 = ( ( AttributeDerivation C116 ) . { D62 } ) & B332 = ( ( ObjectDerivation C116 ) . ( ( AttributeDerivation C116 ) . { D62 } ) )))) & (ex B333 being (Subset of (the carrier of C116)) st (ex B334 being (Subset of (the carrier' of C116)) st (( C121 . D62 ) = ConceptStr (# B333 , B334 #) & B333 = ( ( AttributeDerivation C116 ) . { D62 } ) & B334 = ( ( ObjectDerivation C116 ) . ( ( AttributeDerivation C116 ) . { D62 } ) ))))) by L351 , L352;
thus L356: thesis by L355;
end;
L357: (( dom C120 ) = (the carrier' of C116) & ( dom C121 ) = (the carrier' of C116)) by FUNCT_2:def 1;
thus L358: thesis by L357 , L353 , FUNCT_1:2;
end;
end;
theorem
L360: (for B335 being FormalContext holds (for B336 being (Object of B335) holds (for B337 being (Attribute of B335) holds (( ( gamma B335 ) . B336 ) is (FormalConcept of B335) & ( ( delta B335 ) . B337 ) is (FormalConcept of B335)))))
proof
let C123 being FormalContext;
let C124 being (Object of C123);
let C125 being (Attribute of C123);
L361: ( ConceptLattice C123 ) = LattStr (# ( B-carrier C123 ) , ( B-join C123 ) , ( B-meet C123 ) #) by CONLAT_1:def 20;
thus L362: thesis by L361 , CONLAT_1:def 15;
end;
theorem
L363: (for B338 being FormalContext holds (( rng ( gamma B338 ) ) is  supremum-dense & ( rng ( delta B338 ) ) is  infimum-dense))
proof
let C126 being FormalContext;
set D63 = ( rng ( gamma C126 ) );
thus L364: D63 is  supremum-dense
proof
let C127 being (Element of ( ConceptLattice C126 ));
L365: { ConceptStr (# B339 , B340 #) where B339 is (Subset of (the carrier of C126)) , B340 is (Subset of (the carrier' of C126)) : (ex B341 being (Object of C126) st (B341 in (the Extent of ( C127 @ )) & B339 = ( ( AttributeDerivation C126 ) . ( ( ObjectDerivation C126 ) . { B341 } ) ) & B340 = ( ( ObjectDerivation C126 ) . { B341 } ))) } c= D63
proof
let C128 being set;
assume L366: C128 in { ConceptStr (# B342 , B343 #) where B342 is (Subset of (the carrier of C126)) , B343 is (Subset of (the carrier' of C126)) : (ex B344 being (Object of C126) st (B344 in (the Extent of ( C127 @ )) & B342 = ( ( AttributeDerivation C126 ) . ( ( ObjectDerivation C126 ) . { B344 } ) ) & B343 = ( ( ObjectDerivation C126 ) . { B344 } ))) };
consider C129 being (Subset of (the carrier of C126)), C130 being (Subset of (the carrier' of C126)) such that L367: C128 = ConceptStr (# C129 , C130 #) and L368: (ex B345 being (Object of C126) st (B345 in (the Extent of ( C127 @ )) & C129 = ( ( AttributeDerivation C126 ) . ( ( ObjectDerivation C126 ) . { B345 } ) ) & C130 = ( ( ObjectDerivation C126 ) . { B345 } ))) by L366;
consider C131 being (Object of C126) such that L369: C131 in (the Extent of ( C127 @ )) and L370: C129 = ( ( AttributeDerivation C126 ) . ( ( ObjectDerivation C126 ) . { C131 } ) ) and L371: C130 = ( ( ObjectDerivation C126 ) . { C131 } ) by L368;
consider C132 being (Element of ( ConceptLattice C126 )) such that L372: ( ( gamma C126 ) . C131 ) = C132;
L373: (( dom ( gamma C126 ) ) = (the carrier of C126) & (ex B346 being (Subset of (the carrier of C126)) st (ex B347 being (Subset of (the carrier' of C126)) st (C132 = ConceptStr (# B346 , B347 #) & B346 = ( ( AttributeDerivation C126 ) . ( ( ObjectDerivation C126 ) . { C131 } ) ) & B347 = ( ( ObjectDerivation C126 ) . { C131 } ))))) by L372 , L328 , FUNCT_2:def 1;
thus L374: thesis by L373 , L367 , L368 , L371 , L372 , FUNCT_1:def 3;
end;
L375: (( "\/" ({ ConceptStr (# B348 , B349 #) where B348 is (Subset of (the carrier of C126)) , B349 is (Subset of (the carrier' of C126)) : (ex B350 being (Object of C126) st (B350 in (the Extent of ( C127 @ )) & B348 = ( ( AttributeDerivation C126 ) . ( ( ObjectDerivation C126 ) . { B350 } ) ) & B349 = ( ( ObjectDerivation C126 ) . { B350 } ))) } , ( ConceptLattice C126 )) ) = ( C127 @ ) & C127 = ( C127 @ )) by L268 , CONLAT_1:def 21;
thus L376: thesis by L375 , L365;
end;

let C133 being (Element of ( ConceptLattice C126 ));
set D64 = ( rng ( delta C126 ) );
L377: { ConceptStr (# B351 , B352 #) where B351 is (Subset of (the carrier of C126)) , B352 is (Subset of (the carrier' of C126)) : (ex B353 being (Attribute of C126) st (B353 in (the Intent of ( C133 @ )) & B351 = ( ( AttributeDerivation C126 ) . { B353 } ) & B352 = ( ( ObjectDerivation C126 ) . ( ( AttributeDerivation C126 ) . { B353 } ) ))) } c= D64
proof
let C134 being set;
assume L378: C134 in { ConceptStr (# B354 , B355 #) where B354 is (Subset of (the carrier of C126)) , B355 is (Subset of (the carrier' of C126)) : (ex B356 being (Attribute of C126) st (B356 in (the Intent of ( C133 @ )) & B354 = ( ( AttributeDerivation C126 ) . { B356 } ) & B355 = ( ( ObjectDerivation C126 ) . ( ( AttributeDerivation C126 ) . { B356 } ) ))) };
consider C135 being (Subset of (the carrier of C126)), C136 being (Subset of (the carrier' of C126)) such that L379: C134 = ConceptStr (# C135 , C136 #) and L380: (ex B357 being (Attribute of C126) st (B357 in (the Intent of ( C133 @ )) & C135 = ( ( AttributeDerivation C126 ) . { B357 } ) & C136 = ( ( ObjectDerivation C126 ) . ( ( AttributeDerivation C126 ) . { B357 } ) ))) by L378;
consider C137 being (Attribute of C126) such that L381: C137 in (the Intent of ( C133 @ )) and L382: C135 = ( ( AttributeDerivation C126 ) . { C137 } ) and L383: C136 = ( ( ObjectDerivation C126 ) . ( ( AttributeDerivation C126 ) . { C137 } ) ) by L380;
consider C138 being (Element of ( ConceptLattice C126 )) such that L384: ( ( delta C126 ) . C137 ) = C138;
L385: (( dom ( delta C126 ) ) = (the carrier' of C126) & (ex B358 being (Subset of (the carrier of C126)) st (ex B359 being (Subset of (the carrier' of C126)) st (C138 = ConceptStr (# B358 , B359 #) & B358 = ( ( AttributeDerivation C126 ) . { C137 } ) & B359 = ( ( ObjectDerivation C126 ) . ( ( AttributeDerivation C126 ) . { C137 } ) ))))) by L384 , L344 , FUNCT_2:def 1;
thus L386: thesis by L385 , L379 , L380 , L382 , L384 , FUNCT_1:def 3;
end;
L387: (( "/\" ({ ConceptStr (# B360 , B361 #) where B360 is (Subset of (the carrier of C126)) , B361 is (Subset of (the carrier' of C126)) : (ex B362 being (Attribute of C126) st (B362 in (the Intent of ( C133 @ )) & B360 = ( ( AttributeDerivation C126 ) . { B362 } ) & B361 = ( ( ObjectDerivation C126 ) . ( ( AttributeDerivation C126 ) . { B362 } ) ))) } , ( ConceptLattice C126 )) ) = ( C133 @ ) & C133 = ( C133 @ )) by L298 , CONLAT_1:def 21;
thus L388: thesis by L387 , L377;
end;
theorem
L389: (for B363 being FormalContext holds (for B364 being (Object of B363) holds (for B365 being (Attribute of B363) holds (B364 is-connected-with B365 iff ( ( gamma B363 ) . B364 ) [= ( ( delta B363 ) . B365 )))))
proof
let C139 being FormalContext;
let C140 being (Object of C139);
let C141 being (Attribute of C139);
set D65 = { C141 };
set D66 = { C140 };
set D67 = ( ( AttributeDerivation C139 ) . ( ( ObjectDerivation C139 ) . { C140 } ) );
consider C142 being (Subset of (the carrier of C139)), C143 being (Subset of (the carrier' of C139)) such that L390: ( ( gamma C139 ) . C140 ) = ConceptStr (# C142 , C143 #) and L391: C142 = ( ( AttributeDerivation C139 ) . ( ( ObjectDerivation C139 ) . { C140 } ) ) and L392: C143 = ( ( ObjectDerivation C139 ) . { C140 } ) by L328;
thus L393:now
assume L394: C140 is-connected-with C141;
L395: C141 in { B366 where B366 is (Attribute of C139) : C140 is-connected-with B366 } by L394;
L396: C141 in ( ( ObjectDerivation C139 ) . { C140 } ) by L395 , CONLAT_1:1;
L397: { C141 } c= ( ( ObjectDerivation C139 ) . { C140 } ) by L396 , ZFMISC_1:31;
consider C144 being (Subset of (the carrier of C139)), C145 being (Subset of (the carrier' of C139)) such that L398: ( ( gamma C139 ) . C140 ) = ConceptStr (# C144 , C145 #) and L399: C144 = ( ( AttributeDerivation C139 ) . ( ( ObjectDerivation C139 ) . { C140 } ) ) and L400: C145 = ( ( ObjectDerivation C139 ) . { C140 } ) by L328;
consider C146 being (Subset of (the carrier of C139)), C147 being (Subset of (the carrier' of C139)) such that L401: ( ( delta C139 ) . C141 ) = ConceptStr (# C146 , C147 #) and L402: C146 = ( ( AttributeDerivation C139 ) . { C141 } ) and L403: C147 = ( ( ObjectDerivation C139 ) . ( ( AttributeDerivation C139 ) . { C141 } ) ) by L344;
L404: (the Extent of ( ( ( delta C139 ) . C141 ) @ )) = C146 by L401 , CONLAT_1:def 21;
L405: (the Extent of ( ( ( gamma C139 ) . C140 ) @ )) = C144 by L398 , CONLAT_1:def 21;
L406: (the Extent of ( ( ( gamma C139 ) . C140 ) @ )) c= (the Extent of ( ( ( delta C139 ) . C141 ) @ )) by L405 , L397 , L399 , L402 , L404 , CONLAT_1:4;
L407: ( ( ( gamma C139 ) . C140 ) @ ) is-SubConcept-of ( ( ( delta C139 ) . C141 ) @ ) by L406 , CONLAT_1:def 16;
thus L408: ( ( gamma C139 ) . C140 ) [= ( ( delta C139 ) . C141 ) by L407 , CONLAT_1:43;
end;
consider C148 being (Subset of (the carrier of C139)), C149 being (Subset of (the carrier' of C139)) such that L409: ( ( delta C139 ) . C141 ) = ConceptStr (# C148 , C149 #) and L410: C148 = ( ( AttributeDerivation C139 ) . { C141 } ) and L411: C149 = ( ( ObjectDerivation C139 ) . ( ( AttributeDerivation C139 ) . { C141 } ) ) by L344;
assume L412: ( ( gamma C139 ) . C140 ) [= ( ( delta C139 ) . C141 );
L413: ( ( ( gamma C139 ) . C140 ) @ ) is-SubConcept-of ( ( ( delta C139 ) . C141 ) @ ) by L412 , CONLAT_1:43;
L414: (the Extent of ( ( ( gamma C139 ) . C140 ) @ )) c= (the Extent of ( ( ( delta C139 ) . C141 ) @ )) by L413 , CONLAT_1:def 16;
L415: (the Extent of ( ( ( delta C139 ) . C141 ) @ )) = C148 by L409 , CONLAT_1:def 21;
L416: C142 c= C148 by L415 , L414 , L390 , CONLAT_1:def 21;
L417: D65 c= ( ( ObjectDerivation C139 ) . D67 ) by L416 , L391 , L410 , CONLAT_1:11;
L418: { C141 } c= ( ( ObjectDerivation C139 ) . D66 ) by L417 , CONLAT_1:7;
L419: C141 in ( ( ObjectDerivation C139 ) . { C140 } ) by L418 , ZFMISC_1:31;
L420: C141 in { B367 where B367 is (Attribute of C139) : C140 is-connected-with B367 } by L419 , CONLAT_1:1;
L421: (ex B368 being (Attribute of C139) st (B368 = C141 & C140 is-connected-with B368)) by L420;
thus L422: thesis by L421;
end;
begin
L423: (for B369 , B370 being Lattice holds (for B371 being (Function of (the carrier of B369) , (the carrier of B370)) holds ((for B372 , B373 being (Element of B369) holds (( B371 . B372 ) [= ( B371 . B373 ) implies B372 [= B373)) implies B371 is  one-to-one)))
proof
let C150 , C151 being Lattice;
let C152 being (Function of (the carrier of C150) , (the carrier of C151));
assume L424: (for B374 , B375 being (Element of C150) holds (( C152 . B374 ) [= ( C152 . B375 ) implies B374 [= B375));
let C153 , C154 being set;
assume that
L425: C153 in ( dom C152 )
and
L426: C154 in ( dom C152 )
and
L427: ( C152 . C153 ) = ( C152 . C154 );
reconsider D68 = C154 as (Element of C150) by L426;
reconsider D69 = C153 as (Element of C150) by L425;
L428: (D69 [= D68 & D68 [= D69) by L424 , L427;
thus L429: thesis by L428 , LATTICES:8;
end;
L430: (for B376 , B377 being  complete Lattice holds (for B378 being (Function of (the carrier of B376) , (the carrier of B377)) holds ((B378 is  one-to-one & ( rng B378 ) = (the carrier of B377)) implies ((for B379 , B380 being (Element of B376) holds (B379 [= B380 iff ( B378 . B379 ) [= ( B378 . B380 ))) implies B378 is (Homomorphism of B376 , B377)))))
proof
let C155 , C156 being  complete Lattice;
let C157 being (Function of (the carrier of C155) , (the carrier of C156));
assume L431: (C157 is  one-to-one & ( rng C157 ) = (the carrier of C156));
assume L432: (for B381 , B382 being (Element of C155) holds (B381 [= B382 iff ( C157 . B381 ) [= ( C157 . B382 )));
L433: (for B383 , B384 being (Element of C155) holds ( C157 . ( B383 "/\" B384 ) ) = ( ( C157 . B383 ) "/\" ( C157 . B384 ) ))
proof
let C158 , C159 being (Element of C155);
L434: ( C158 "/\" C159 ) [= C159 by LATTICES:6;
L435: ( C157 . ( C158 "/\" C159 ) ) [= ( C157 . C159 ) by L434 , L432;
L436: (for B385 being (Element of C156) holds (B385 is_less_than { ( C157 . C158 ) , ( C157 . C159 ) } implies B385 [= ( C157 . ( C158 "/\" C159 ) )))
proof
reconsider D70 = ( C157 " ) as (Function of (the carrier of C156) , (the carrier of C155)) by L431 , FUNCT_2:25;
let C160 being (Element of C156);
assume L437: C160 is_less_than { ( C157 . C158 ) , ( C157 . C159 ) };
L438: ( C157 . ( D70 . C160 ) ) = C160 by L431 , FUNCT_1:35;
L439: ( C157 . C159 ) in { ( C157 . C158 ) , ( C157 . C159 ) } by TARSKI:def 2;
L440: C160 [= ( C157 . C159 ) by L439 , L437 , LATTICE3:def 16;
L441: ( D70 . C160 ) [= C159 by L440 , L432 , L438;
L442: ( C157 . C158 ) in { ( C157 . C158 ) , ( C157 . C159 ) } by TARSKI:def 2;
L443: C160 [= ( C157 . C158 ) by L442 , L437 , LATTICE3:def 16;
L444: ( D70 . C160 ) [= C158 by L443 , L432 , L438;
L445: (for B386 being (Element of C155) holds (B386 in { C158 , C159 } implies ( D70 . C160 ) [= B386)) by L444 , L441 , TARSKI:def 2;
L446: ( D70 . C160 ) is_less_than { C158 , C159 } by L445 , LATTICE3:def 16;
L447: ( C158 "/\" C159 ) = ( "/\" { C158 , C159 } ) by LATTICE3:43;
L448: ( D70 . C160 ) [= ( C158 "/\" C159 ) by L447 , L446 , LATTICE3:34;
thus L449: thesis by L448 , L432 , L438;
end;
L450: ( C158 "/\" C159 ) [= C158 by LATTICES:6;
L451: ( C157 . ( C158 "/\" C159 ) ) [= ( C157 . C158 ) by L450 , L432;
L452: (for B387 being (Element of C156) holds (B387 in { ( C157 . C158 ) , ( C157 . C159 ) } implies ( C157 . ( C158 "/\" C159 ) ) [= B387)) by L451 , L435 , TARSKI:def 2;
L453: ( C157 . ( C158 "/\" C159 ) ) is_less_than { ( C157 . C158 ) , ( C157 . C159 ) } by L452 , LATTICE3:def 16;
L454: ( C157 . ( C158 "/\" C159 ) ) = ( "/\" ({ ( C157 . C158 ) , ( C157 . C159 ) } , C156) ) by L453 , L436 , LATTICE3:34;
thus L455: thesis by L454 , LATTICE3:43;
end;
L456: (for B388 , B389 being (Element of C155) holds ( C157 . ( B388 "\/" B389 ) ) = ( ( C157 . B388 ) "\/" ( C157 . B389 ) ))
proof
let C161 , C162 being (Element of C155);
L457: C162 [= ( C161 "\/" C162 ) by LATTICES:5;
L458: ( C157 . C162 ) [= ( C157 . ( C161 "\/" C162 ) ) by L457 , L432;
L459: (for B390 being (Element of C156) holds ({ ( C157 . C161 ) , ( C157 . C162 ) } is_less_than B390 implies ( C157 . ( C161 "\/" C162 ) ) [= B390))
proof
reconsider D71 = ( C157 " ) as (Function of (the carrier of C156) , (the carrier of C155)) by L431 , FUNCT_2:25;
let C163 being (Element of C156);
assume L460: { ( C157 . C161 ) , ( C157 . C162 ) } is_less_than C163;
L461: ( C157 . ( D71 . C163 ) ) = C163 by L431 , FUNCT_1:35;
L462: ( C157 . C162 ) in { ( C157 . C161 ) , ( C157 . C162 ) } by TARSKI:def 2;
L463: ( C157 . C162 ) [= C163 by L462 , L460 , LATTICE3:def 17;
L464: C162 [= ( D71 . C163 ) by L463 , L432 , L461;
L465: ( C157 . C161 ) in { ( C157 . C161 ) , ( C157 . C162 ) } by TARSKI:def 2;
L466: ( C157 . C161 ) [= C163 by L465 , L460 , LATTICE3:def 17;
L467: C161 [= ( D71 . C163 ) by L466 , L432 , L461;
L468: (for B391 being (Element of C155) holds (B391 in { C161 , C162 } implies B391 [= ( D71 . C163 ))) by L467 , L464 , TARSKI:def 2;
L469: { C161 , C162 } is_less_than ( D71 . C163 ) by L468 , LATTICE3:def 17;
L470: ( C161 "\/" C162 ) = ( "\/" { C161 , C162 } ) by LATTICE3:43;
L471: ( C161 "\/" C162 ) [= ( D71 . C163 ) by L470 , L469 , LATTICE3:def 21;
thus L472: thesis by L471 , L432 , L461;
end;
L473: C161 [= ( C161 "\/" C162 ) by LATTICES:5;
L474: ( C157 . C161 ) [= ( C157 . ( C161 "\/" C162 ) ) by L473 , L432;
L475: (for B392 being (Element of C156) holds (B392 in { ( C157 . C161 ) , ( C157 . C162 ) } implies B392 [= ( C157 . ( C161 "\/" C162 ) ))) by L474 , L458 , TARSKI:def 2;
L476: { ( C157 . C161 ) , ( C157 . C162 ) } is_less_than ( C157 . ( C161 "\/" C162 ) ) by L475 , LATTICE3:def 17;
L477: ( C157 . ( C161 "\/" C162 ) ) = ( "\/" ({ ( C157 . C161 ) , ( C157 . C162 ) } , C156) ) by L476 , L459 , LATTICE3:def 21;
thus L478: thesis by L477 , LATTICE3:43;
end;
thus L479: thesis by L456 , L433 , LATTICE4:def 1;
end;
L480: (for B393 being FormalContext holds (for B394 being ConceptStr over B393 holds (( ( ObjectDerivation B393 ) . (the Extent of B394) ) = (the Intent of B394) implies B394 is non  empty)))
proof
let C164 being FormalContext;
let C165 being ConceptStr over C164;
assume L481: ( ( ObjectDerivation C164 ) . (the Extent of C165) ) = (the Intent of C165);
per cases ;
suppose L482: (the Extent of C165) is  empty;

L483: (the Intent of C165) = (the carrier' of C164) by L482 , L481 , CONLAT_1:17;
thus L484: thesis by L483 , CONLAT_1:def 8;
end;
suppose L485: (the Extent of C165) is non  empty;

thus L486: thesis by L485 , CONLAT_1:def 8;
end;
end;
theorem
L488: (for B395 being  complete Lattice holds (for B396 being FormalContext holds (( ConceptLattice B396 ) , B395 are_isomorphic  iff (ex B397 being (Function of (the carrier of B396) , (the carrier of B395)) st (ex B398 being (Function of (the carrier' of B396) , (the carrier of B395)) st (( rng B397 ) is  supremum-dense & ( rng B398 ) is  infimum-dense & (for B399 being (Object of B396) holds (for B400 being (Attribute of B396) holds (B399 is-connected-with B400 iff ( B397 . B399 ) [= ( B398 . B400 ))))))))))
proof
let C166 being  complete Lattice;
let C167 being FormalContext;
thus L489:now
assume L490: ( ConceptLattice C167 ) , C166 are_isomorphic ;
consider C168 being (Homomorphism of ( ConceptLattice C167 ) , C166) such that L491: C168 is  bijective by L490 , LATTICE4:def 2;
take D72 = ( C168 * ( gamma C167 ) );
take D73 = ( C168 * ( delta C167 ) );
thus L492: ( rng D72 ) is  supremum-dense
proof
let C169 being (Element of C166);
consider C170 being (Element of ( ConceptLattice C167 )) such that L493: C169 = ( C168 . C170 ) by L491 , LATTICE4:6;
L494: ( rng ( gamma C167 ) ) is  supremum-dense by L363;
consider C171 being (Subset of ( rng ( gamma C167 ) )) such that L495: C170 = ( "\/" (C171 , ( ConceptLattice C167 )) ) by L494 , LATTICE6:def 13;
set D74 = { ( C168 . B401 ) where B401 is (Element of ( ConceptLattice C167 )) : B401 in C171 };
L496: (for B402 being (Element of C166) holds (D74 is_less_than B402 implies C169 [= B402))
proof
let C172 being (Element of C166);
consider C173 being (Element of ( ConceptLattice C167 )) such that L497: C172 = ( C168 . C173 ) by L491 , LATTICE4:6;
reconsider D75 = C173 as (Element of ( ConceptLattice C167 ));
assume L498: D74 is_less_than C172;
L499: (for B403 being (Element of ( ConceptLattice C167 )) holds (B403 in C171 implies B403 [= D75))
proof
let C174 being (Element of ( ConceptLattice C167 ));
assume L500: C174 in C171;
L501: ( C168 . C174 ) in { ( C168 . B404 ) where B404 is (Element of ( ConceptLattice C167 )) : B404 in C171 } by L500;
L502: ( C168 . C174 ) [= ( C168 . D75 ) by L501 , L498 , L497 , LATTICE3:def 17;
thus L503: thesis by L502 , L491 , LATTICE4:5;
end;
L504: C171 is_less_than D75 by L499 , LATTICE3:def 17;
L505: C170 [= D75 by L504 , L495 , LATTICE3:def 21;
thus L506: thesis by L505 , L491 , L493 , L497 , LATTICE4:5;
end;
L507: D74 c= ( rng D72 )
proof
let C175 being set;
assume L508: C175 in D74;
consider C176 being (Element of ( ConceptLattice C167 )) such that L509: C175 = ( C168 . C176 ) and L510: C176 in C171 by L508;
consider C177 being set such that L511: (C177 in ( dom ( gamma C167 ) ) & ( ( gamma C167 ) . C177 ) = C176) by L510 , FUNCT_1:def 3;
L512: ( dom C168 ) = (the carrier of ( ConceptLattice C167 )) by FUNCT_2:def 1;
L513: C177 in ( dom ( C168 * ( gamma C167 ) ) ) by L512 , L511 , FUNCT_1:11;
L514: C175 = ( ( C168 * ( gamma C167 ) ) . C177 ) by L509 , L511 , FUNCT_1:13;
thus L515: thesis by L514 , L513 , FUNCT_1:def 3;
end;
L516: C171 is_less_than C170 by L495 , LATTICE3:def 21;
L517: D74 is_less_than C169
proof
let C178 being (Element of C166);
assume L518: C178 in D74;
consider C179 being (Element of ( ConceptLattice C167 )) such that L519: C178 = ( C168 . C179 ) and L520: C179 in C171 by L518;
L521: C179 [= C170 by L516 , L520 , LATTICE3:def 17;
thus L522: thesis by L521 , L491 , L493 , L519 , LATTICE4:5;
end;
L523: C169 = ( "\/" (D74 , C166) ) by L517 , L496 , LATTICE3:def 21;
thus L524: thesis by L523 , L507;
end;

thus L525: ( rng D73 ) is  infimum-dense
proof
let C180 being (Element of C166);
consider C181 being (Element of ( ConceptLattice C167 )) such that L526: C180 = ( C168 . C181 ) by L491 , LATTICE4:6;
L527: ( rng ( delta C167 ) ) is  infimum-dense by L363;
consider C182 being (Subset of ( rng ( delta C167 ) )) such that L528: C181 = ( "/\" (C182 , ( ConceptLattice C167 )) ) by L527 , LATTICE6:def 14;
set D76 = { ( C168 . B405 ) where B405 is (Element of ( ConceptLattice C167 )) : B405 in C182 };
L529: (for B406 being (Element of C166) holds (B406 is_less_than D76 implies B406 [= C180))
proof
let C183 being (Element of C166);
consider C184 being (Element of ( ConceptLattice C167 )) such that L530: C183 = ( C168 . C184 ) by L491 , LATTICE4:6;
reconsider D77 = C184 as (Element of ( ConceptLattice C167 ));
assume L531: C183 is_less_than D76;
L532: D77 is_less_than C182
proof
let C185 being (Element of ( ConceptLattice C167 ));
assume L533: C185 in C182;
L534: ( C168 . C185 ) in { ( C168 . B407 ) where B407 is (Element of ( ConceptLattice C167 )) : B407 in C182 } by L533;
L535: ( C168 . D77 ) [= ( C168 . C185 ) by L534 , L531 , L530 , LATTICE3:def 16;
thus L536: thesis by L535 , L491 , LATTICE4:5;
end;
L537: D77 [= C181 by L532 , L528 , LATTICE3:34;
thus L538: thesis by L537 , L491 , L526 , L530 , LATTICE4:5;
end;
L539: D76 c= ( rng D73 )
proof
let C186 being set;
assume L540: C186 in D76;
consider C187 being (Element of ( ConceptLattice C167 )) such that L541: C186 = ( C168 . C187 ) and L542: C187 in C182 by L540;
consider C188 being set such that L543: (C188 in ( dom ( delta C167 ) ) & ( ( delta C167 ) . C188 ) = C187) by L542 , FUNCT_1:def 3;
L544: ( dom C168 ) = (the carrier of ( ConceptLattice C167 )) by FUNCT_2:def 1;
L545: C188 in ( dom ( C168 * ( delta C167 ) ) ) by L544 , L543 , FUNCT_1:11;
L546: C186 = ( ( C168 * ( delta C167 ) ) . C188 ) by L541 , L543 , FUNCT_1:13;
thus L547: thesis by L546 , L545 , FUNCT_1:def 3;
end;
L548: C181 is_less_than C182 by L528 , LATTICE3:34;
L549: C180 is_less_than D76
proof
let C189 being (Element of C166);
assume L550: C189 in D76;
consider C190 being (Element of ( ConceptLattice C167 )) such that L551: C189 = ( C168 . C190 ) and L552: C190 in C182 by L550;
L553: C181 [= C190 by L548 , L552 , LATTICE3:def 16;
thus L554: thesis by L553 , L491 , L526 , L551 , LATTICE4:5;
end;
L555: C180 = ( "/\" (D76 , C166) ) by L549 , L529 , LATTICE3:34;
thus L556: thesis by L555 , L539;
end;

let C191 being (Object of C167);
let C192 being (Attribute of C167);
L557: (C191 is-connected-with C192 iff ( ( gamma C167 ) . C191 ) [= ( ( delta C167 ) . C192 )) by L389;
thus L558:now
L559: ( dom ( delta C167 ) ) = (the carrier' of C167) by FUNCT_2:def 1;
L560: ( C168 . ( ( delta C167 ) . C192 ) ) = ( ( C168 * ( delta C167 ) ) . C192 ) by L559 , FUNCT_1:13;
L561: ( dom ( gamma C167 ) ) = (the carrier of C167) by FUNCT_2:def 1;
L562: ( C168 . ( ( gamma C167 ) . C191 ) ) = ( ( C168 * ( gamma C167 ) ) . C191 ) by L561 , FUNCT_1:13;
assume L563: C191 is-connected-with C192;
thus L564: ( D72 . C191 ) [= ( D73 . C192 ) by L563 , L491 , L557 , L562 , L560 , LATTICE4:5;
end;
L565: ( dom ( gamma C167 ) ) = (the carrier of C167) by FUNCT_2:def 1;
L566: ( C168 . ( ( gamma C167 ) . C191 ) ) = ( ( C168 * ( gamma C167 ) ) . C191 ) by L565 , FUNCT_1:13;
L567: ( dom ( delta C167 ) ) = (the carrier' of C167) by FUNCT_2:def 1;
L568: ( C168 . ( ( delta C167 ) . C192 ) ) = ( ( C168 * ( delta C167 ) ) . C192 ) by L567 , FUNCT_1:13;
assume L569: ( D72 . C191 ) [= ( D73 . C192 );
L570: ( ( gamma C167 ) . C191 ) [= ( ( delta C167 ) . C192 ) by L569 , L491 , L566 , L568 , LATTICE4:5;
thus L571: C191 is-connected-with C192 by L570 , L389;
end;
given C193 being (Function of (the carrier of C167) , (the carrier of C166)) , C194 being (Function of (the carrier' of C167) , (the carrier of C166)) such that
L572: ( rng C193 ) is  supremum-dense
and
L573: ( rng C194 ) is  infimum-dense
and
L574: (for B408 being (Object of C167) holds (for B409 being (Attribute of C167) holds (B408 is-connected-with B409 iff ( C193 . B408 ) [= ( C194 . B409 ))));

set D78 = { [ B410 , ConceptStr (# B411 , B412 #) ] where B410 is (Element of C166) , B411 is (Subset of (the carrier of C167)) , B412 is (Subset of (the carrier' of C167)) : (B411 = { B413 where B413 is (Object of C167) : ( C193 . B413 ) [= B410 } & B412 = { B414 where B414 is (Attribute of C167) : B410 [= ( C194 . B414 ) }) };
set D79 = { [ ConceptStr (# B415 , B416 #) , B417 ] where B415 is (Subset of (the carrier of C167)) , B416 is (Subset of (the carrier' of C167)) , B417 is (Element of C166) : (ConceptStr (# B415 , B416 #) is (FormalConcept of C167) & B417 = ( "\/" ({ ( C193 . B418 ) where B418 is (Object of C167) : B418 in B415 } , C166) )) };
L575: ( ConceptLattice C167 ) = LattStr (# ( B-carrier C167 ) , ( B-join C167 ) , ( B-meet C167 ) #) by CONLAT_1:def 20;
L576: D79 c= [: (the carrier of ( ConceptLattice C167 )) , (the carrier of C166) :]
proof
let C195 being set;
assume L577: C195 in D79;
consider C196 being (Subset of (the carrier of C167)), C197 being (Subset of (the carrier' of C167)), C198 being (Element of C166) such that L578: C195 = [ ConceptStr (# C196 , C197 #) , C198 ] and L579: ConceptStr (# C196 , C197 #) is (FormalConcept of C167) and L580: C198 = ( "\/" ({ ( C193 . B419 ) where B419 is (Object of C167) : B419 in C196 } , C166) ) by L577;
L581: ConceptStr (# C196 , C197 #) in (the carrier of ( ConceptLattice C167 )) by L575 , L579 , CONLAT_1:31;
thus L582: thesis by L581 , L578 , ZFMISC_1:def 2;
end;
L583: D78 c= [: (the carrier of C166) , (the carrier of ( ConceptLattice C167 )) :]
proof
let C199 being set;
assume L584: C199 in D78;
consider C200 being (Element of C166), C201 being (Subset of (the carrier of C167)), C202 being (Subset of (the carrier' of C167)) such that L585: C199 = [ C200 , ConceptStr (# C201 , C202 #) ] and L586: C201 = { B420 where B420 is (Object of C167) : ( C193 . B420 ) [= C200 } and L587: C202 = { B421 where B421 is (Attribute of C167) : C200 [= ( C194 . B421 ) } by L584;
L588: ( ( AttributeDerivation C167 ) . (the Intent of ConceptStr (# C201 , C202 #)) ) = (the Extent of ConceptStr (# C201 , C202 #))
proof
thus L589: ( ( AttributeDerivation C167 ) . (the Intent of ConceptStr (# C201 , C202 #)) ) c= (the Extent of ConceptStr (# C201 , C202 #))
proof
let C203 being set;
L590: ( "/\" ({ ( C194 . B422 ) where B422 is (Attribute of C167) : C200 [= ( C194 . B422 ) } , C166) ) = C200
proof
consider C204 being (Subset of ( rng C194 )) such that L591: ( "/\" (C204 , C166) ) = C200 by L573 , LATTICE6:def 14;
L592: C200 is_less_than C204 by L591 , LATTICE3:34;
L593: C204 c= { ( C194 . B423 ) where B423 is (Attribute of C167) : C200 [= ( C194 . B423 ) }
proof
let C205 being set;
assume L594: C205 in C204;
consider C206 being set such that L595: C206 in ( dom C194 ) and L596: C205 = ( C194 . C206 ) by L594 , FUNCT_1:def 3;
reconsider D80 = C206 as (Attribute of C167) by L595;
L597: C200 [= ( C194 . D80 ) by L592 , L594 , L596 , LATTICE3:def 16;
thus L598: thesis by L597 , L596;
end;
L599: ( "/\" ({ ( C194 . B424 ) where B424 is (Attribute of C167) : C200 [= ( C194 . B424 ) } , C166) ) [= C200 by L593 , L591 , LATTICE3:45;
L600: C200 is_less_than { ( C194 . B425 ) where B425 is (Attribute of C167) : C200 [= ( C194 . B425 ) }
proof
let C207 being (Element of C166);
assume L601: C207 in { ( C194 . B426 ) where B426 is (Attribute of C167) : C200 [= ( C194 . B426 ) };
L602: (ex B427 being (Attribute of C167) st (C207 = ( C194 . B427 ) & C200 [= ( C194 . B427 ))) by L601;
thus L603: thesis by L602;
end;
L604: C200 [= ( "/\" ({ ( C194 . B428 ) where B428 is (Attribute of C167) : C200 [= ( C194 . B428 ) } , C166) ) by L600 , LATTICE3:39;
thus L605: thesis by L604 , L599 , LATTICES:8;
end;
assume L606: C203 in ( ( AttributeDerivation C167 ) . (the Intent of ConceptStr (# C201 , C202 #)) );
L607: C203 in { B429 where B429 is (Object of C167) : (for B430 being (Attribute of C167) holds (B430 in (the Intent of ConceptStr (# C201 , C202 #)) implies B429 is-connected-with B430)) } by L606 , CONLAT_1:def 4;
consider C208 being (Object of C167) such that L608: C208 = C203 and L609: (for B431 being (Attribute of C167) holds (B431 in (the Intent of ConceptStr (# C201 , C202 #)) implies C208 is-connected-with B431)) by L607;
L610: (for B432 being (Attribute of C167) holds (B432 in { B433 where B433 is (Attribute of C167) : C200 [= ( C194 . B433 ) } implies ( C193 . C208 ) [= ( C194 . B432 )))
proof
let C209 being (Attribute of C167);
assume L611: C209 in { B434 where B434 is (Attribute of C167) : C200 [= ( C194 . B434 ) };
L612: C208 is-connected-with C209 by L611 , L587 , L609;
thus L613: thesis by L612 , L574;
end;
L614: ( C193 . C208 ) is_less_than { ( C194 . B435 ) where B435 is (Attribute of C167) : C200 [= ( C194 . B435 ) }
proof
let C210 being (Element of C166);
assume L615: C210 in { ( C194 . B436 ) where B436 is (Attribute of C167) : C200 [= ( C194 . B436 ) };
consider C211 being (Attribute of C167) such that L616: C210 = ( C194 . C211 ) and L617: C200 [= ( C194 . C211 ) by L615;
L618: C211 in { B437 where B437 is (Attribute of C167) : C200 [= ( C194 . B437 ) } by L617;
thus L619: thesis by L618 , L610 , L616;
end;
L620: ( C193 . C208 ) [= C200 by L614 , L590 , LATTICE3:34;
thus L621: thesis by L620 , L586 , L608;
end;

let C212 being set;
assume L622: C212 in (the Extent of ConceptStr (# C201 , C202 #));
consider C213 being (Object of C167) such that L623: C213 = C212 and L624: ( C193 . C213 ) [= C200 by L622 , L586;
L625: (for B438 being (Attribute of C167) holds (B438 in { B439 where B439 is (Attribute of C167) : C200 [= ( C194 . B439 ) } implies ( C193 . C213 ) [= ( C194 . B438 )))
proof
let C214 being (Attribute of C167);
assume L626: C214 in { B440 where B440 is (Attribute of C167) : C200 [= ( C194 . B440 ) };
L627: (ex B441 being (Attribute of C167) st (B441 = C214 & C200 [= ( C194 . B441 ))) by L626;
thus L628: thesis by L627 , L624 , LATTICES:7;
end;
L629: (for B442 being (Attribute of C167) holds (B442 in { B443 where B443 is (Attribute of C167) : C200 [= ( C194 . B443 ) } implies C213 is-connected-with B442))
proof
let C215 being (Attribute of C167);
assume L630: C215 in { B444 where B444 is (Attribute of C167) : C200 [= ( C194 . B444 ) };
L631: ( C193 . C213 ) [= ( C194 . C215 ) by L630 , L625;
thus L632: thesis by L631 , L574;
end;
L633: C213 in { B445 where B445 is (Object of C167) : (for B446 being (Attribute of C167) holds (B446 in (the Intent of ConceptStr (# C201 , C202 #)) implies B445 is-connected-with B446)) } by L629 , L587;
thus L634: thesis by L633 , L623 , CONLAT_1:def 4;
end;
L635: ( ( ObjectDerivation C167 ) . (the Extent of ConceptStr (# C201 , C202 #)) ) = (the Intent of ConceptStr (# C201 , C202 #))
proof
thus L636: ( ( ObjectDerivation C167 ) . (the Extent of ConceptStr (# C201 , C202 #)) ) c= (the Intent of ConceptStr (# C201 , C202 #))
proof
let C216 being set;
L637: ( "\/" ({ ( C193 . B447 ) where B447 is (Object of C167) : ( C193 . B447 ) [= C200 } , C166) ) = C200
proof
consider C217 being (Subset of ( rng C193 )) such that L638: ( "\/" (C217 , C166) ) = C200 by L572 , LATTICE6:def 13;
L639: C217 is_less_than C200 by L638 , LATTICE3:def 21;
L640: C217 c= { ( C193 . B448 ) where B448 is (Object of C167) : ( C193 . B448 ) [= C200 }
proof
let C218 being set;
assume L641: C218 in C217;
consider C219 being set such that L642: C219 in ( dom C193 ) and L643: C218 = ( C193 . C219 ) by L641 , FUNCT_1:def 3;
reconsider D81 = C219 as (Object of C167) by L642;
L644: ( C193 . D81 ) [= C200 by L639 , L641 , L643 , LATTICE3:def 17;
thus L645: thesis by L644 , L643;
end;
L646: C200 [= ( "\/" ({ ( C193 . B449 ) where B449 is (Object of C167) : ( C193 . B449 ) [= C200 } , C166) ) by L640 , L638 , LATTICE3:45;
L647: { ( C193 . B450 ) where B450 is (Object of C167) : ( C193 . B450 ) [= C200 } is_less_than C200
proof
let C220 being (Element of C166);
assume L648: C220 in { ( C193 . B451 ) where B451 is (Object of C167) : ( C193 . B451 ) [= C200 };
L649: (ex B452 being (Object of C167) st (C220 = ( C193 . B452 ) & ( C193 . B452 ) [= C200)) by L648;
thus L650: thesis by L649;
end;
L651: ( "\/" ({ ( C193 . B453 ) where B453 is (Object of C167) : ( C193 . B453 ) [= C200 } , C166) ) [= C200 by L647 , LATTICE3:def 21;
thus L652: thesis by L651 , L646 , LATTICES:8;
end;
assume L653: C216 in ( ( ObjectDerivation C167 ) . (the Extent of ConceptStr (# C201 , C202 #)) );
L654: C216 in { B454 where B454 is (Attribute of C167) : (for B455 being (Object of C167) holds (B455 in (the Extent of ConceptStr (# C201 , C202 #)) implies B455 is-connected-with B454)) } by L653 , CONLAT_1:def 3;
consider C221 being (Attribute of C167) such that L655: C221 = C216 and L656: (for B456 being (Object of C167) holds (B456 in (the Extent of ConceptStr (# C201 , C202 #)) implies B456 is-connected-with C221)) by L654;
L657: (for B457 being (Object of C167) holds (B457 in { B458 where B458 is (Object of C167) : ( C193 . B458 ) [= C200 } implies ( C193 . B457 ) [= ( C194 . C221 )))
proof
let C222 being (Object of C167);
assume L658: C222 in { B459 where B459 is (Object of C167) : ( C193 . B459 ) [= C200 };
L659: C222 is-connected-with C221 by L658 , L586 , L656;
thus L660: thesis by L659 , L574;
end;
L661: { ( C193 . B460 ) where B460 is (Object of C167) : ( C193 . B460 ) [= C200 } is_less_than ( C194 . C221 )
proof
let C223 being (Element of C166);
assume L662: C223 in { ( C193 . B461 ) where B461 is (Object of C167) : ( C193 . B461 ) [= C200 };
consider C224 being (Object of C167) such that L663: C223 = ( C193 . C224 ) and L664: ( C193 . C224 ) [= C200 by L662;
L665: C224 in { B462 where B462 is (Object of C167) : ( C193 . B462 ) [= C200 } by L664;
thus L666: thesis by L665 , L657 , L663;
end;
L667: C200 [= ( C194 . C221 ) by L661 , L637 , LATTICE3:def 21;
thus L668: thesis by L667 , L587 , L655;
end;

let C225 being set;
assume L669: C225 in (the Intent of ConceptStr (# C201 , C202 #));
consider C226 being (Attribute of C167) such that L670: C226 = C225 and L671: C200 [= ( C194 . C226 ) by L669 , L587;
L672: (for B463 being (Object of C167) holds (B463 in { B464 where B464 is (Object of C167) : ( C193 . B464 ) [= C200 } implies ( C193 . B463 ) [= ( C194 . C226 )))
proof
let C227 being (Object of C167);
assume L673: C227 in { B465 where B465 is (Object of C167) : ( C193 . B465 ) [= C200 };
L674: (ex B466 being (Object of C167) st (B466 = C227 & ( C193 . B466 ) [= C200)) by L673;
thus L675: thesis by L674 , L671 , LATTICES:7;
end;
L676: (for B467 being (Object of C167) holds (B467 in { B468 where B468 is (Object of C167) : ( C193 . B468 ) [= C200 } implies B467 is-connected-with C226))
proof
let C228 being (Object of C167);
assume L677: C228 in { B469 where B469 is (Object of C167) : ( C193 . B469 ) [= C200 };
L678: ( C193 . C228 ) [= ( C194 . C226 ) by L677 , L672;
thus L679: thesis by L678 , L574;
end;
L680: C226 in { B470 where B470 is (Attribute of C167) : (for B471 being (Object of C167) holds (B471 in (the Extent of ConceptStr (# C201 , C202 #)) implies B471 is-connected-with B470)) } by L676 , L586;
thus L681: thesis by L680 , L670 , CONLAT_1:def 3;
end;
L682: ConceptStr (# C201 , C202 #) is (FormalConcept of C167) by L635 , L588 , L480 , CONLAT_1:def 10;
L683: ConceptStr (# C201 , C202 #) in (the carrier of ( ConceptLattice C167 )) by L682 , L575 , CONLAT_1:31;
thus L684: thesis by L683 , L585 , ZFMISC_1:def 2;
end;
reconsider D82 = D78 as (Relation of (the carrier of C166) , (the carrier of ( ConceptLattice C167 ))) by L583;
L685: (for B472 , B473 , B474 being set holds (([ B472 , B473 ] in D82 & [ B472 , B474 ] in D82) implies B473 = B474))
proof
let C229 , C230 , C231 being set;
assume that
L686: [ C229 , C230 ] in D82
and
L687: [ C229 , C231 ] in D82;
consider C232 being (Element of C166), C233 being (Subset of (the carrier of C167)), C234 being (Subset of (the carrier' of C167)) such that L688: [ C229 , C230 ] = [ C232 , ConceptStr (# C233 , C234 #) ] and L689: (C233 = { B475 where B475 is (Object of C167) : ( C193 . B475 ) [= C232 } & C234 = { B476 where B476 is (Attribute of C167) : C232 [= ( C194 . B476 ) }) by L686;
consider C235 being (Element of C166), C236 being (Subset of (the carrier of C167)), C237 being (Subset of (the carrier' of C167)) such that L690: [ C229 , C231 ] = [ C235 , ConceptStr (# C236 , C237 #) ] and L691: (C236 = { B477 where B477 is (Object of C167) : ( C193 . B477 ) [= C235 } & C237 = { B478 where B478 is (Attribute of C167) : C235 [= ( C194 . B478 ) }) by L687;
L692: C232 = C229 by L688 , XTUPLE_0:1
.= C235 by L690 , XTUPLE_0:1;
thus L693: C230 = ( [ C229 , C230 ] `2 )
.= ( [ C229 , C231 ] `2 ) by L688 , L689 , L690 , L691 , L692
.= C231;
end;
L694: (the carrier of C166) c= ( dom D82 )
proof
let C238 being set;
assume L695: C238 in (the carrier of C166);
reconsider D83 = C238 as (Element of C166) by L695;
set D84 = { B479 where B479 is (Attribute of C167) : D83 [= ( C194 . B479 ) };
L696: D84 c= (the carrier' of C167)
proof
let C239 being set;
assume L697: C239 in D84;
L698: (ex B480 being (Attribute of C167) st (B480 = C239 & D83 [= ( C194 . B480 ))) by L697;
thus L699: thesis by L698;
end;
reconsider D85 = D84 as (Subset of (the carrier' of C167)) by L696;
set D86 = { B481 where B481 is (Object of C167) : ( C193 . B481 ) [= D83 };
L700: D86 c= (the carrier of C167)
proof
let C240 being set;
assume L701: C240 in D86;
L702: (ex B482 being (Object of C167) st (B482 = C240 & ( C193 . B482 ) [= D83)) by L701;
thus L703: thesis by L702;
end;
reconsider D87 = D86 as (Subset of (the carrier of C167)) by L700;
L704: [ D83 , ConceptStr (# D87 , D85 #) ] in D82;
thus L705: thesis by L704 , XTUPLE_0:def 12;
end;
L706: (the carrier of C166) = ( dom D82 ) by L694 , XBOOLE_0:def 10;
reconsider D88 = D79 as (Relation of (the carrier of ( ConceptLattice C167 )) , (the carrier of C166)) by L576;
L707: (the carrier of ( ConceptLattice C167 )) c= ( dom D88 )
proof
let C241 being set;
assume L708: C241 in (the carrier of ( ConceptLattice C167 ));
L709: C241 is  strict  strict  strict  strict (FormalConcept of C167) by L708 , L575 , CONLAT_1:31;
consider C242 being (Subset of (the carrier of C167)), C243 being (Subset of (the carrier' of C167)) such that L710: C241 = ConceptStr (# C242 , C243 #) by L709;
reconsider D89 = ( "\/" ({ ( C193 . B483 ) where B483 is (Object of C167) : B483 in C242 } , C166) ) as (Element of C166);
L711: [ C241 , D89 ] in D88 by L709 , L710;
thus L712: thesis by L711 , XTUPLE_0:def 12;
end;
L713: (the carrier of ( ConceptLattice C167 )) = ( dom D88 ) by L707 , XBOOLE_0:def 10;
reconsider D90 = D82 as (Function of (the carrier of C166) , (the carrier of ( ConceptLattice C167 ))) by L706 , L685 , FUNCT_1:def 1 , FUNCT_2:def 1;
L714: (for B484 , B485 , B486 being set holds (([ B484 , B485 ] in D88 & [ B484 , B486 ] in D88) implies B485 = B486))
proof
let C244 , C245 , C246 being set;
assume that
L715: [ C244 , C245 ] in D88
and
L716: [ C244 , C246 ] in D88;
consider C247 being (Subset of (the carrier of C167)), C248 being (Subset of (the carrier' of C167)), C249 being (Element of C166) such that L717: [ C244 , C245 ] = [ ConceptStr (# C247 , C248 #) , C249 ] and L718: ConceptStr (# C247 , C248 #) is (FormalConcept of C167) and L719: C249 = ( "\/" ({ ( C193 . B487 ) where B487 is (Object of C167) : B487 in C247 } , C166) ) by L715;
consider C250 being (Subset of (the carrier of C167)), C251 being (Subset of (the carrier' of C167)), C252 being (Element of C166) such that L720: [ C244 , C246 ] = [ ConceptStr (# C250 , C251 #) , C252 ] and L721: ConceptStr (# C250 , C251 #) is (FormalConcept of C167) and L722: C252 = ( "\/" ({ ( C193 . B488 ) where B488 is (Object of C167) : B488 in C250 } , C166) ) by L716;
L723: ConceptStr (# C247 , C248 #) = ( [ ConceptStr (# C247 , C248 #) , C249 ] `1 )
.= ( [ C244 , C245 ] `1 ) by L717
.= C244
.= ( [ C244 , C246 ] `1 )
.= ( [ ConceptStr (# C250 , C251 #) , C252 ] `1 ) by L720
.= ConceptStr (# C250 , C251 #);
thus L724: C245 = ( [ C244 , C245 ] `2 )
.= ( [ C244 , C246 ] `2 ) by L717 , L719 , L720 , L722 , L723
.= C246;
end;
reconsider D91 = D88 as (Function of (the carrier of ( ConceptLattice C167 )) , (the carrier of C166)) by L714 , L713 , FUNCT_1:def 1 , FUNCT_2:def 1;
L725: ( ConceptLattice C167 ) = LattStr (# ( B-carrier C167 ) , ( B-join C167 ) , ( B-meet C167 ) #) by CONLAT_1:def 20;
L726: (for B489 being (Element of C166) holds ( D91 . ( D90 . B489 ) ) = B489)
proof
let C253 being (Element of C166);
reconsider D92 = C253 as (Element of C166);
set D93 = { B490 where B490 is (Attribute of C167) : D92 [= ( C194 . B490 ) };
L727: D93 c= (the carrier' of C167)
proof
let C254 being set;
assume L728: C254 in D93;
L729: (ex B491 being (Attribute of C167) st (B491 = C254 & D92 [= ( C194 . B491 ))) by L728;
thus L730: thesis by L729;
end;
reconsider D94 = D93 as (Subset of (the carrier' of C167)) by L727;
set D95 = { B492 where B492 is (Object of C167) : ( C193 . B492 ) [= D92 };
L731: D95 c= (the carrier of C167)
proof
let C255 being set;
assume L732: C255 in D95;
L733: (ex B493 being (Object of C167) st (B493 = C255 & ( C193 . B493 ) [= D92)) by L732;
thus L734: thesis by L733;
end;
reconsider D96 = D95 as (Subset of (the carrier of C167)) by L731;
set D97 = ( "\/" ({ ( C193 . B494 ) where B494 is (Object of C167) : B494 in (the Extent of ConceptStr (# D96 , D94 #)) } , C166) );
L735: ( "\/" ({ ( C193 . B495 ) where B495 is (Object of C167) : B495 in { B496 where B496 is (Object of C167) : ( C193 . B496 ) [= D92 } } , C166) ) = D92
proof
consider C256 being (Subset of ( rng C193 )) such that L736: ( "\/" (C256 , C166) ) = D92 by L572 , LATTICE6:def 13;
L737: C256 is_less_than D92 by L736 , LATTICE3:def 21;
L738: C256 c= { ( C193 . B497 ) where B497 is (Object of C167) : B497 in { B498 where B498 is (Object of C167) : ( C193 . B498 ) [= D92 } }
proof
let C257 being set;
assume L739: C257 in C256;
consider C258 being set such that L740: C258 in ( dom C193 ) and L741: C257 = ( C193 . C258 ) by L739 , FUNCT_1:def 3;
reconsider D98 = C258 as (Object of C167) by L740;
L742: ( C193 . D98 ) [= D92 by L737 , L739 , L741 , LATTICE3:def 17;
L743: D98 in { B499 where B499 is (Object of C167) : ( C193 . B499 ) [= D92 } by L742;
thus L744: thesis by L743 , L741;
end;
L745: D92 [= ( "\/" ({ ( C193 . B500 ) where B500 is (Object of C167) : B500 in { B501 where B501 is (Object of C167) : ( C193 . B501 ) [= D92 } } , C166) ) by L738 , L736 , LATTICE3:45;
L746: { ( C193 . B502 ) where B502 is (Object of C167) : B502 in { B503 where B503 is (Object of C167) : ( C193 . B503 ) [= D92 } } is_less_than D92
proof
let C259 being (Element of C166);
assume L747: C259 in { ( C193 . B504 ) where B504 is (Object of C167) : B504 in { B505 where B505 is (Object of C167) : ( C193 . B505 ) [= D92 } };
consider C260 being (Object of C167) such that L748: C259 = ( C193 . C260 ) and L749: C260 in { B506 where B506 is (Object of C167) : ( C193 . B506 ) [= D92 } by L747;
L750: (ex B507 being (Object of C167) st (B507 = C260 & ( C193 . B507 ) [= D92)) by L749;
thus L751: thesis by L750 , L748;
end;
L752: ( "\/" ({ ( C193 . B508 ) where B508 is (Object of C167) : B508 in { B509 where B509 is (Object of C167) : ( C193 . B509 ) [= D92 } } , C166) ) [= D92 by L746 , LATTICE3:def 21;
thus L753: thesis by L752 , L745 , LATTICES:8;
end;
L754: [ D92 , ConceptStr (# D96 , D94 #) ] in D90;
L755: ConceptStr (# D96 , D94 #) in ( rng D90 ) by L754 , XTUPLE_0:def 13;
L756: ConceptStr (# D96 , D94 #) is (FormalConcept of C167) by L755 , L725 , CONLAT_1:31;
L757: [ ConceptStr (# D96 , D94 #) , D97 ] in D91 by L756;
L758: ( D91 . ConceptStr (# D96 , D94 #) ) = D97 by L757 , FUNCT_1:1;
thus L759: thesis by L758 , L754 , L735 , FUNCT_1:1;
end;
L760: (the carrier of C166) c= ( rng D91 )
proof
let C261 being set;
L761: ( dom D91 ) = (the carrier of ( ConceptLattice C167 )) by FUNCT_2:def 1;
assume L762: C261 in (the carrier of C166);
L763: C261 in ( dom D90 ) by L762 , FUNCT_2:def 1;
consider C262 being set such that L764: [ C261 , C262 ] in D90 by L763 , XTUPLE_0:def 12;
reconsider D99 = C261 as (Element of C166) by L762;
L765: C262 in ( rng D90 ) by L764 , XTUPLE_0:def 13;
reconsider D100 = C262 as (Element of ( ConceptLattice C167 )) by L765;
L766: ( D91 . D100 ) = ( D91 . ( D90 . D99 ) ) by L764 , FUNCT_1:1
.= D99 by L726;
thus L767: thesis by L766 , L761 , FUNCT_1:def 3;
end;
L768: ( rng D91 ) = (the carrier of C166) by L760 , XBOOLE_0:def 10;
L769: (for B510 being (Element of ( ConceptLattice C167 )) holds ( D91 . B510 ) = ( "/\" ({ ( C194 . B511 ) where B511 is (Attribute of C167) : B511 in (the Intent of ( B510 @ )) } , C166) ))
proof
let C263 being (Element of ( ConceptLattice C167 ));
set D101 = ( "\/" ({ ( C193 . B512 ) where B512 is (Object of C167) : B512 in (the Extent of ( C263 @ )) } , C166) );
L770: [ ( C263 @ ) , D101 ] in D91;
L771: (for B513 being set holds (B513 in { ( C194 . B514 ) where B514 is (Attribute of C167) : D101 [= ( C194 . B514 ) } implies B513 in { ( C194 . B515 ) where B515 is (Attribute of C167) : B515 in (the Intent of ( C263 @ )) }))
proof
let C264 being set;
assume L772: C264 in { ( C194 . B516 ) where B516 is (Attribute of C167) : D101 [= ( C194 . B516 ) };
consider C265 being (Attribute of C167) such that L773: C264 = ( C194 . C265 ) and L774: D101 [= ( C194 . C265 ) by L772;
L775: (for B517 being (Object of C167) holds (B517 in (the Extent of ( C263 @ )) implies ( C193 . B517 ) [= ( C194 . C265 )))
proof
let C266 being (Object of C167);
assume L776: C266 in (the Extent of ( C263 @ ));
L777: ( C193 . C266 ) in { ( C193 . B518 ) where B518 is (Object of C167) : B518 in (the Extent of ( C263 @ )) } by L776;
L778: ( C193 . C266 ) [= D101 by L777 , LATTICE3:38;
thus L779: thesis by L778 , L774 , LATTICES:7;
end;
L780: (for B519 being (Object of C167) holds (B519 in (the Extent of ( C263 @ )) implies B519 is-connected-with C265))
proof
let C267 being (Object of C167);
assume L781: C267 in (the Extent of ( C263 @ ));
L782: ( C193 . C267 ) [= ( C194 . C265 ) by L781 , L775;
thus L783: thesis by L782 , L574;
end;
L784: C265 in { B520 where B520 is (Attribute of C167) : (for B521 being (Object of C167) holds (B521 in (the Extent of ( C263 @ )) implies B521 is-connected-with B520)) } by L780;
L785: C265 in ( ( ObjectDerivation C167 ) . (the Extent of ( C263 @ )) ) by L784 , CONLAT_1:def 3;
L786: C265 in (the Intent of ( C263 @ )) by L785 , CONLAT_1:def 10;
thus L787: thesis by L786 , L773;
end;
L788: (for B522 being (Object of C167) holds (B522 in (the Extent of ( C263 @ )) implies (for B523 being (Attribute of C167) holds (B523 in (the Intent of ( C263 @ )) implies ( C193 . B522 ) [= ( C194 . B523 )))))
proof
let C268 being (Object of C167);
assume L789: C268 in (the Extent of ( C263 @ ));
let C269 being (Attribute of C167);
assume L790: C269 in (the Intent of ( C263 @ ));
L791: C269 in ( ( ObjectDerivation C167 ) . (the Extent of ( C263 @ )) ) by L790 , CONLAT_1:def 10;
L792: C269 in { B524 where B524 is (Attribute of C167) : (for B525 being (Object of C167) holds (B525 in (the Extent of ( C263 @ )) implies B525 is-connected-with B524)) } by L791 , CONLAT_1:def 3;
L793: (ex B526 being (Attribute of C167) st (B526 = C269 & (for B527 being (Object of C167) holds (B527 in (the Extent of ( C263 @ )) implies B527 is-connected-with B526)))) by L792;
L794: C268 is-connected-with C269 by L793 , L789;
thus L795: thesis by L794 , L574;
end;
L796: (for B528 being set holds (B528 in { ( C194 . B529 ) where B529 is (Attribute of C167) : B529 in (the Intent of ( C263 @ )) } implies B528 in { ( C194 . B530 ) where B530 is (Attribute of C167) : D101 [= ( C194 . B530 ) }))
proof
let C270 being set;
assume L797: C270 in { ( C194 . B531 ) where B531 is (Attribute of C167) : B531 in (the Intent of ( C263 @ )) };
consider C271 being (Attribute of C167) such that L798: C270 = ( C194 . C271 ) and L799: C271 in (the Intent of ( C263 @ )) by L797;
L800: { ( C193 . B532 ) where B532 is (Object of C167) : B532 in (the Extent of ( C263 @ )) } is_less_than ( C194 . C271 )
proof
let C272 being (Element of C166);
assume L801: C272 in { ( C193 . B533 ) where B533 is (Object of C167) : B533 in (the Extent of ( C263 @ )) };
L802: (ex B534 being (Object of C167) st (C272 = ( C193 . B534 ) & B534 in (the Extent of ( C263 @ )))) by L801;
thus L803: thesis by L802 , L788 , L799;
end;
L804: D101 [= ( C194 . C271 ) by L800 , LATTICE3:def 21;
thus L805: thesis by L804 , L798;
end;
L806: ( "/\" ({ ( C194 . B535 ) where B535 is (Attribute of C167) : D101 [= ( C194 . B535 ) } , C166) ) = D101
proof
consider C273 being (Subset of ( rng C194 )) such that L807: ( "/\" (C273 , C166) ) = D101 by L573 , LATTICE6:def 14;
L808: D101 is_less_than C273 by L807 , LATTICE3:34;
L809: C273 c= { ( C194 . B536 ) where B536 is (Attribute of C167) : D101 [= ( C194 . B536 ) }
proof
let C274 being set;
assume L810: C274 in C273;
consider C275 being set such that L811: C275 in ( dom C194 ) and L812: C274 = ( C194 . C275 ) by L810 , FUNCT_1:def 3;
reconsider D102 = C275 as (Attribute of C167) by L811;
L813: D101 [= ( C194 . D102 ) by L808 , L810 , L812 , LATTICE3:def 16;
thus L814: thesis by L813 , L812;
end;
L815: ( "/\" ({ ( C194 . B537 ) where B537 is (Attribute of C167) : D101 [= ( C194 . B537 ) } , C166) ) [= D101 by L809 , L807 , LATTICE3:45;
L816: D101 is_less_than { ( C194 . B538 ) where B538 is (Attribute of C167) : D101 [= ( C194 . B538 ) }
proof
let C276 being (Element of C166);
assume L817: C276 in { ( C194 . B539 ) where B539 is (Attribute of C167) : D101 [= ( C194 . B539 ) };
L818: (ex B540 being (Attribute of C167) st (C276 = ( C194 . B540 ) & D101 [= ( C194 . B540 ))) by L817;
thus L819: thesis by L818;
end;
L820: D101 [= ( "/\" ({ ( C194 . B541 ) where B541 is (Attribute of C167) : D101 [= ( C194 . B541 ) } , C166) ) by L816 , LATTICE3:39;
thus L821: thesis by L820 , L815 , LATTICES:8;
end;
L822: ( D91 . C263 ) = ( D91 . ( C263 @ ) ) by CONLAT_1:def 21
.= D101 by L770 , FUNCT_1:1;
thus L823: thesis by L822 , L771 , L796 , L806 , TARSKI:1;
end;
L824: (for B542 being (Element of ( ConceptLattice C167 )) holds ( D90 . ( D91 . B542 ) ) = B542)
proof
let C277 being (Element of ( ConceptLattice C167 ));
set D103 = ( "/\" ({ ( C194 . B543 ) where B543 is (Attribute of C167) : B543 in (the Intent of ( C277 @ )) } , C166) );
set D104 = { B544 where B544 is (Attribute of C167) : D103 [= ( C194 . B544 ) };
L825: D104 c= (the carrier' of C167)
proof
let C278 being set;
assume L826: C278 in D104;
L827: (ex B545 being (Attribute of C167) st (B545 = C278 & D103 [= ( C194 . B545 ))) by L826;
thus L828: thesis by L827;
end;
reconsider D105 = D104 as (Subset of (the carrier' of C167)) by L825;
set D106 = { B546 where B546 is (Object of C167) : ( C193 . B546 ) [= D103 };
L829: D106 c= (the carrier of C167)
proof
let C279 being set;
assume L830: C279 in D106;
L831: (ex B547 being (Object of C167) st (B547 = C279 & ( C193 . B547 ) [= D103)) by L830;
thus L832: thesis by L831;
end;
reconsider D107 = D106 as (Subset of (the carrier of C167)) by L829;
L833: D107 = { B548 where B548 is (Object of C167) : (for B549 being (Attribute of C167) holds (B549 in (the Intent of ( C277 @ )) implies ( C193 . B548 ) [= ( C194 . B549 ))) }
proof
thus L834: D107 c= { B550 where B550 is (Object of C167) : (for B551 being (Attribute of C167) holds (B551 in (the Intent of ( C277 @ )) implies ( C193 . B550 ) [= ( C194 . B551 ))) }
proof
let C280 being set;
assume L835: C280 in D107;
consider C281 being (Object of C167) such that L836: C280 = C281 and L837: ( C193 . C281 ) [= D103 by L835;
L838: (for B552 being (Attribute of C167) holds (B552 in (the Intent of ( C277 @ )) implies ( C193 . C281 ) [= ( C194 . B552 )))
proof
let C282 being (Attribute of C167);
assume L839: C282 in (the Intent of ( C277 @ ));
L840: ( C194 . C282 ) in { ( C194 . B553 ) where B553 is (Attribute of C167) : B553 in (the Intent of ( C277 @ )) } by L839;
L841: D103 [= ( C194 . C282 ) by L840 , LATTICE3:38;
thus L842: thesis by L841 , L837 , LATTICES:7;
end;
thus L843: thesis by L838 , L836;
end;

let C283 being set;
assume L844: C283 in { B554 where B554 is (Object of C167) : (for B555 being (Attribute of C167) holds (B555 in (the Intent of ( C277 @ )) implies ( C193 . B554 ) [= ( C194 . B555 ))) };
consider C284 being (Object of C167) such that L845: C284 = C283 and L846: (for B556 being (Attribute of C167) holds (B556 in (the Intent of ( C277 @ )) implies ( C193 . C284 ) [= ( C194 . B556 ))) by L844;
L847: ( C193 . C284 ) is_less_than { ( C194 . B557 ) where B557 is (Attribute of C167) : B557 in (the Intent of ( C277 @ )) }
proof
let C285 being (Element of C166);
assume L848: C285 in { ( C194 . B558 ) where B558 is (Attribute of C167) : B558 in (the Intent of ( C277 @ )) };
L849: (ex B559 being (Attribute of C167) st (C285 = ( C194 . B559 ) & B559 in (the Intent of ( C277 @ )))) by L848;
thus L850: thesis by L849 , L846;
end;
L851: ( C193 . C284 ) [= D103 by L847 , LATTICE3:34;
thus L852: thesis by L851 , L845;
end;
L853: { B560 where B560 is (Object of C167) : (for B561 being (Attribute of C167) holds (B561 in (the Intent of ( C277 @ )) implies ( C193 . B560 ) [= ( C194 . B561 ))) } = { B562 where B562 is (Object of C167) : (for B563 being (Attribute of C167) holds (B563 in (the Intent of ( C277 @ )) implies B562 is-connected-with B563)) }
proof
thus L854: { B564 where B564 is (Object of C167) : (for B565 being (Attribute of C167) holds (B565 in (the Intent of ( C277 @ )) implies ( C193 . B564 ) [= ( C194 . B565 ))) } c= { B566 where B566 is (Object of C167) : (for B567 being (Attribute of C167) holds (B567 in (the Intent of ( C277 @ )) implies B566 is-connected-with B567)) }
proof
let C286 being set;
assume L855: C286 in { B568 where B568 is (Object of C167) : (for B569 being (Attribute of C167) holds (B569 in (the Intent of ( C277 @ )) implies ( C193 . B568 ) [= ( C194 . B569 ))) };
consider C287 being (Object of C167) such that L856: C286 = C287 and L857: (for B570 being (Attribute of C167) holds (B570 in (the Intent of ( C277 @ )) implies ( C193 . C287 ) [= ( C194 . B570 ))) by L855;
L858: (for B571 being (Attribute of C167) holds (B571 in (the Intent of ( C277 @ )) implies C287 is-connected-with B571))
proof
let C288 being (Attribute of C167);
assume L859: C288 in (the Intent of ( C277 @ ));
L860: ( C193 . C287 ) [= ( C194 . C288 ) by L859 , L857;
thus L861: thesis by L860 , L574;
end;
thus L862: thesis by L858 , L856;
end;

let C289 being set;
assume L863: C289 in { B572 where B572 is (Object of C167) : (for B573 being (Attribute of C167) holds (B573 in (the Intent of ( C277 @ )) implies B572 is-connected-with B573)) };
consider C290 being (Object of C167) such that L864: C289 = C290 and L865: (for B574 being (Attribute of C167) holds (B574 in (the Intent of ( C277 @ )) implies C290 is-connected-with B574)) by L863;
L866: (for B575 being (Attribute of C167) holds (B575 in (the Intent of ( C277 @ )) implies ( C193 . C290 ) [= ( C194 . B575 )))
proof
let C291 being (Attribute of C167);
assume L867: C291 in (the Intent of ( C277 @ ));
L868: C290 is-connected-with C291 by L867 , L865;
thus L869: thesis by L868 , L574;
end;
thus L870: thesis by L866 , L864;
end;
L871: D107 = ( ( AttributeDerivation C167 ) . (the Intent of ( C277 @ )) ) by L853 , L833 , CONLAT_1:def 4
.= (the Extent of ( C277 @ )) by CONLAT_1:def 10;
L872: ( D90 . ( "/\" ({ ( C194 . B576 ) where B576 is (Attribute of C167) : B576 in (the Intent of ( C277 @ )) } , C166) ) ) = ( D90 . ( D91 . C277 ) ) by L769;
L873: [ D103 , ConceptStr (# D107 , D105 #) ] in D90;
L874: ( D90 . D103 ) = ConceptStr (# D107 , D105 #) by L873 , FUNCT_1:1;
L875: ConceptStr (# D107 , D105 #) is (FormalConcept of C167) by L874 , L725 , CONLAT_1:31;
L876: D105 = ( ( ObjectDerivation C167 ) . (the Extent of ( C277 @ )) ) by L875 , L871 , CONLAT_1:def 10
.= (the Intent of ( C277 @ )) by CONLAT_1:def 10;
thus L877: thesis by L876 , L872 , L874 , L871 , CONLAT_1:def 21;
end;
L878: (for B577 , B578 being (Element of C166) holds (B577 [= B578 implies ( D90 . B577 ) [= ( D90 . B578 )))
proof
let C292 , C293 being (Element of C166);
set D108 = ( D90 . C292 );
set D109 = ( D90 . C293 );
assume L879: C292 [= C293;
L880: { B579 where B579 is (Object of C167) : ( C193 . B579 ) [= C292 } c= { B580 where B580 is (Object of C167) : ( C193 . B580 ) [= C293 }
proof
let C294 being set;
assume L881: C294 in { B581 where B581 is (Object of C167) : ( C193 . B581 ) [= C292 };
consider C295 being (Object of C167) such that L882: C295 = C294 and L883: ( C193 . C295 ) [= C292 by L881;
L884: ( C193 . C295 ) [= C293 by L879 , L883 , LATTICES:7;
thus L885: thesis by L884 , L882;
end;
L886: ( dom D90 ) = (the carrier of C166) by FUNCT_2:def 1;
consider C296 being set such that L887: [ C292 , C296 ] in D90 by L886 , XTUPLE_0:def 12;
consider C297 being set such that L888: [ C293 , C297 ] in D90 by L886 , XTUPLE_0:def 12;
consider C298 being (Element of C166), C299 being (Subset of (the carrier of C167)), C300 being (Subset of (the carrier' of C167)) such that L889: [ C293 , C297 ] = [ C298 , ConceptStr (# C299 , C300 #) ] and L890: C299 = { B582 where B582 is (Object of C167) : ( C193 . B582 ) [= C298 } and L891: C300 = { B583 where B583 is (Attribute of C167) : C298 [= ( C194 . B583 ) } by L888;
L892: C293 = ( [ C293 , C297 ] `1 )
.= ( [ C298 , ConceptStr (# C299 , C300 #) ] `1 ) by L889
.= C298;
L893: ( D90 . C293 ) = ConceptStr (# C299 , C300 #) by L892 , L888 , L889 , FUNCT_1:1;
L894: (the Extent of ( D109 @ )) = C299 by L893 , CONLAT_1:def 21;
consider C301 being (Element of C166), C302 being (Subset of (the carrier of C167)), C303 being (Subset of (the carrier' of C167)) such that L895: [ C292 , C296 ] = [ C301 , ConceptStr (# C302 , C303 #) ] and L896: C302 = { B584 where B584 is (Object of C167) : ( C193 . B584 ) [= C301 } and L897: C303 = { B585 where B585 is (Attribute of C167) : C301 [= ( C194 . B585 ) } by L887;
L898: C292 = ( [ C292 , C296 ] `1 )
.= ( [ C301 , ConceptStr (# C302 , C303 #) ] `1 ) by L895
.= C301;
L899: ( D90 . C292 ) = ConceptStr (# C302 , C303 #) by L898 , L887 , L895 , FUNCT_1:1;
L900: (the Extent of ( D108 @ )) = C302 by L899 , CONLAT_1:def 21;
L901: ( D108 @ ) is-SubConcept-of ( D109 @ ) by L900 , L880 , L896 , L890 , L898 , L892 , L894 , CONLAT_1:def 16;
thus L902: thesis by L901 , CONLAT_1:43;
end;
L903: (for B586 , B587 being (Element of ( ConceptLattice C167 )) holds (( D91 . B586 ) [= ( D91 . B587 ) implies B586 [= B587))
proof
let C304 , C305 being (Element of ( ConceptLattice C167 ));
assume L904: ( D91 . C304 ) [= ( D91 . C305 );
L905: (( D90 . ( D91 . C304 ) ) = C304 & ( D90 . ( D91 . C305 ) ) = C305) by L824;
thus L906: thesis by L905 , L878 , L904;
end;
L907: (for B588 , B589 being (Element of ( ConceptLattice C167 )) holds (B588 [= B589 implies ( D91 . B588 ) [= ( D91 . B589 )))
proof
let C306 , C307 being (Element of ( ConceptLattice C167 ));
reconsider D110 = ( "\/" ({ ( C193 . B590 ) where B590 is (Object of C167) : B590 in (the Extent of ( C306 @ )) } , C166) ) , D111 = ( "\/" ({ ( C193 . B591 ) where B591 is (Object of C167) : B591 in (the Extent of ( C307 @ )) } , C166) ) as (Element of C166);
L908: [ ( C306 @ ) , D110 ] in D91;
L909: ( D91 . ( C306 @ ) ) = D110 by L908 , FUNCT_1:1;
L910: [ ( C307 @ ) , D111 ] in D91;
L911: ( D91 . ( C307 @ ) ) = D111 by L910 , FUNCT_1:1;
assume L912: C306 [= C307;
L913: ( C306 @ ) is-SubConcept-of ( C307 @ ) by L912 , CONLAT_1:43;
L914: (the Extent of ( C306 @ )) c= (the Extent of ( C307 @ )) by L913 , CONLAT_1:def 16;
L915: { ( C193 . B592 ) where B592 is (Object of C167) : B592 in (the Extent of ( C306 @ )) } c= { ( C193 . B593 ) where B593 is (Object of C167) : B593 in (the Extent of ( C307 @ )) }
proof
let C308 being set;
assume L916: C308 in { ( C193 . B594 ) where B594 is (Object of C167) : B594 in (the Extent of ( C306 @ )) };
L917: (ex B595 being (Object of C167) st (C308 = ( C193 . B595 ) & B595 in (the Extent of ( C306 @ )))) by L916;
thus L918: thesis by L917 , L914;
end;
L919: (( C306 @ ) = C306 & ( C307 @ ) = C307) by CONLAT_1:def 21;
thus L920: thesis by L919 , L915 , L909 , L911 , LATTICE3:45;
end;
reconsider D112 = D91 as (Homomorphism of ( ConceptLattice C167 ) , C166) by L907 , L903 , L768 , L423 , L430;
L921: D112 is  onto by L768 , FUNCT_2:def 3;
L922: D112 is  one-to-one by L903 , L423;
thus L923: thesis by L922 , L921 , LATTICE4:def 2;
end;
definition
let C309 being Lattice;
func Context C309 ->  strict non  quasi-empty ContextStr equals 
ContextStr (# (the carrier of C309) , (the carrier of C309) , ( LattRel C309 ) #);
coherence by CONLAT_1:def 1;
end;
theorem
L925: (for B596 being  complete Lattice holds ( ConceptLattice ( Context B596 ) ) , B596 are_isomorphic )
proof
let C310 being  complete Lattice;
reconsider D113 = ( id (the carrier of C310) ) as (Function of (the carrier of ( Context C310 )) , (the carrier of C310));
reconsider D114 = ( id (the carrier of C310) ) as (Function of (the carrier' of ( Context C310 )) , (the carrier of C310));
L926: (for B597 being (Object of ( Context C310 )) holds (for B598 being (Attribute of ( Context C310 )) holds (B597 is-connected-with B598 iff ( D113 . B597 ) [= ( D114 . B598 ))))
proof
let C311 being (Object of ( Context C310 ));
let C312 being (Attribute of ( Context C310 ));
reconsider D115 = C311 , D116 = C312 as (Element of C310);
L927: (( D113 . C311 ) = D115 & ( D114 . C312 ) = D116) by FUNCT_1:17;
L928: (C311 is-connected-with C312 iff [ C311 , C312 ] in (the Information of ( Context C310 ))) by CONLAT_1:def 2;
thus L929: thesis by L928 , L927 , FILTER_1:31;
end;
L930: (for B599 being (Element of C310) holds (ex B600 being (Subset of ( rng D114 )) st B599 = ( "/\" (B600 , C310) )))
proof
let C313 being (Element of C310);
L931: (( "/\" ({ C313 } , C310) ) = C313 & ( rng D114 ) = (the carrier of C310)) by LATTICE3:42 , RELAT_1:45;
thus L932: thesis by L931;
end;
L933: ( rng D114 ) is  infimum-dense by L930 , LATTICE6:def 14;
L934: ( rng D113 ) is  supremum-dense
proof
let C314 being (Element of C310);
L935: (( "\/" ({ C314 } , C310) ) = C314 & ( rng D113 ) = (the carrier of C310)) by LATTICE3:42 , RELAT_1:45;
thus L936: thesis by L935;
end;
thus L937: thesis by L934 , L933 , L926 , L488;
end;
theorem
L938: (for B601 being Lattice holds (B601 is  complete iff (ex B602 being FormalContext st ( ConceptLattice B602 ) , B601 are_isomorphic )))
proof
let C315 being Lattice;
thus L939:now
assume L940: C315 is  complete;
L941: ( ConceptLattice ( Context C315 ) ) , C315 are_isomorphic  by L940 , L925;
thus L942: (ex B603 being FormalContext st ( ConceptLattice B603 ) , C315 are_isomorphic ) by L941;
end;
given C316 being FormalContext such that
L943: ( ConceptLattice C316 ) , C315 are_isomorphic ;

let C317 being (Subset of C315);
consider C318 being (Homomorphism of C315 , ( ConceptLattice C316 )) such that L944: C318 is  bijective by L943 , LATTICE4:def 2;
set D117 = { ( C318 . B604 ) where B604 is (Element of C315) : B604 in C317 };
L945: D117 c= (the carrier of ( ConceptLattice C316 ))
proof
let C319 being set;
assume L946: C319 in D117;
L947: (ex B605 being (Element of C315) st (C319 = ( C318 . B605 ) & B605 in C317)) by L946;
thus L948: thesis by L947;
end;
reconsider D118 = D117 as (Subset of ( ConceptLattice C316 )) by L945;
set D119 = ( "/\" (D118 , ( ConceptLattice C316 )) );
consider C320 being (Element of C315) such that L949: D119 = ( C318 . C320 ) by L944 , LATTICE4:6;
L950: (for B606 being (Element of C315) holds (B606 is_less_than C317 implies B606 [= C320))
proof
let C321 being (Element of C315);
assume L951: C321 is_less_than C317;
L952: ( C318 . C321 ) is_less_than D118
proof
let C322 being (Element of ( ConceptLattice C316 ));
assume L953: C322 in D118;
consider C323 being (Element of C315) such that L954: C322 = ( C318 . C323 ) and L955: C323 in C317 by L953;
L956: C321 [= C323 by L951 , L955 , LATTICE3:def 16;
thus L957: thesis by L956 , L944 , L954 , LATTICE4:5;
end;
L958: ( C318 . C321 ) [= ( C318 . C320 ) by L952 , L949 , LATTICE3:34;
thus L959: thesis by L958 , L944 , LATTICE4:5;
end;
L960: D119 is_less_than D118 by LATTICE3:34;
L961: C320 is_less_than C317
proof
let C324 being (Element of C315);
assume L962: C324 in C317;
L963: ( C318 . C324 ) in D118 by L962;
L964: D119 [= ( C318 . C324 ) by L963 , L960 , LATTICE3:def 16;
thus L965: thesis by L964 , L944 , L949 , LATTICE4:5;
end;
thus L966: thesis by L961 , L950;
end;
begin
registration
let C325 being  complete Lattice;
cluster ( C325 .: ) ->  complete;
coherence
proof
let C326 being (Subset of ( C325 .: ));
L967: ( C325 .: ) = LattStr (# (the carrier of C325) , (the L_meet of C325) , (the L_join of C325) #) by LATTICE2:def 2;
reconsider D120 = C326 as (Subset of C325) by L967;
set D121 = ( "\/" (D120 , C325) );
reconsider D122 = D121 as (Element of ( C325 .: )) by L967;
L968: ( LattRel ( C325 .: ) ) = ( ( LattRel C325 ) ~ ) by LATTICE3:20;
L969: ( LattRel ( ( C325 .: ) .: ) ) = ( ( ( LattRel C325 ) ~ ) ~ ) by L968 , LATTICE3:20;
L970: (for B607 being (Element of ( C325 .: )) holds (B607 is_less_than C326 implies B607 [= D122))
proof
let C327 being (Element of ( C325 .: ));
reconsider D123 = C327 as (Element of C325) by L967;
assume L971: C327 is_less_than C326;
L972: D120 is_less_than D123
proof
let C328 being (Element of C325);
reconsider D124 = C328 as (Element of ( C325 .: )) by L967;
assume L973: C328 in D120;
L974: C327 [= D124 by L973 , L971 , LATTICE3:def 16;
L975: ( C327 % ) <= ( D124 % ) by L974 , LATTICE3:7;
L976: [ ( C327 % ) , ( D124 % ) ] in (the InternalRel of ( LattPOSet ( C325 .: ) )) by L975 , ORDERS_2:def 5;
L977: [ ( D124 % ) , ( C327 % ) ] in ( (the InternalRel of ( LattPOSet ( C325 .: ) )) ~ ) by L976 , RELAT_1:def 7;
L978: [ ( D124 % ) , ( C327 % ) ] in (the InternalRel of ( LattPOSet ( ( C325 .: ) .: ) )) by L977 , LATTICE3:20;
L979: ( C328 % ) <= ( D123 % ) by L978 , L969 , ORDERS_2:def 5;
thus L980: thesis by L979 , LATTICE3:7;
end;
L981: D121 [= D123 by L972 , LATTICE3:def 21;
L982: ( D121 % ) <= ( D123 % ) by L981 , LATTICE3:7;
L983: [ ( D121 % ) , ( D123 % ) ] in (the InternalRel of ( LattPOSet C325 )) by L982 , ORDERS_2:def 5;
L984: [ ( D123 % ) , ( D121 % ) ] in ( (the InternalRel of ( LattPOSet C325 )) ~ ) by L983 , RELAT_1:def 7;
L985: [ ( D123 % ) , ( D121 % ) ] in (the InternalRel of ( LattPOSet ( C325 .: ) )) by L984 , LATTICE3:20;
L986: ( C327 % ) <= ( D122 % ) by L985 , ORDERS_2:def 5;
thus L987: thesis by L986 , LATTICE3:7;
end;
L988: D120 is_less_than D121 by LATTICE3:def 21;
L989: D122 is_less_than C326
proof
let C329 being (Element of ( C325 .: ));
reconsider D125 = C329 as (Element of C325) by L967;
assume L990: C329 in C326;
L991: D125 [= D121 by L990 , L988 , LATTICE3:def 17;
L992: ( D125 % ) <= ( D121 % ) by L991 , LATTICE3:7;
L993: [ ( D125 % ) , ( D121 % ) ] in (the InternalRel of ( LattPOSet C325 )) by L992 , ORDERS_2:def 5;
L994: [ ( D121 % ) , ( D125 % ) ] in ( (the InternalRel of ( LattPOSet C325 )) ~ ) by L993 , RELAT_1:def 7;
L995: [ ( D121 % ) , ( D125 % ) ] in (the InternalRel of ( LattPOSet ( C325 .: ) )) by L994 , LATTICE3:20;
L996: ( D122 % ) <= ( C329 % ) by L995 , ORDERS_2:def 5;
thus L997: thesis by L996 , LATTICE3:7;
end;
thus L998: thesis by L989 , L970;
end;
end;
definition
let C330 being FormalContext;
func C330 .: ->  strict non  quasi-empty ContextStr equals 
ContextStr (# (the carrier' of C330) , (the carrier of C330) , ( (the Information of C330) ~ ) #);
coherence by CONLAT_1:def 1;
end;
theorem
L1001: (for B608 being  strict FormalContext holds ( ( B608 .: ) .: ) = B608);
theorem
L1002: (for B609 being FormalContext holds (for B610 being (Subset of (the carrier of B609)) holds ( ( ObjectDerivation B609 ) . B610 ) = ( ( AttributeDerivation ( B609 .: ) ) . B610 )))
proof
let C331 being FormalContext;
let C332 being (Subset of (the carrier of C331));
reconsider D126 = C332 as (Subset of (the carrier' of ( C331 .: )));
set D127 = { B611 where B611 is (Attribute of C331) : (for B612 being (Object of C331) holds (B612 in C332 implies B612 is-connected-with B611)) };
set D128 = { B613 where B613 is (Object of ( C331 .: )) : (for B614 being (Attribute of ( C331 .: )) holds (B614 in D126 implies B613 is-connected-with B614)) };
L1003: D127 c= D128
proof
let C333 being set;
assume L1004: C333 in D127;
consider C334 being (Attribute of C331) such that L1005: C334 = C333 and L1006: (for B615 being (Object of C331) holds (B615 in C332 implies B615 is-connected-with C334)) by L1004;
reconsider D129 = C333 as (Object of ( C331 .: )) by L1005;
L1007: (for B616 being (Attribute of ( C331 .: )) holds (B616 in D126 implies D129 is-connected-with B616))
proof
let C335 being (Attribute of ( C331 .: ));
reconsider D130 = C335 as (Object of C331);
assume L1008: C335 in D126;
L1009: D130 is-connected-with C334 by L1008 , L1006;
L1010: [ D130 , C334 ] in (the Information of C331) by L1009 , CONLAT_1:def 2;
L1011: [ C334 , D130 ] in (the Information of ( C331 .: )) by L1010 , RELAT_1:def 7;
thus L1012: thesis by L1011 , L1005 , CONLAT_1:def 2;
end;
thus L1013: thesis by L1007;
end;
L1014: D128 c= D127
proof
let C336 being set;
assume L1015: C336 in D128;
consider C337 being (Object of ( C331 .: )) such that L1016: C337 = C336 and L1017: (for B617 being (Attribute of ( C331 .: )) holds (B617 in D126 implies C337 is-connected-with B617)) by L1015;
reconsider D131 = C336 as (Attribute of C331) by L1016;
L1018: (for B618 being (Object of C331) holds (B618 in C332 implies B618 is-connected-with D131))
proof
let C338 being (Object of C331);
reconsider D132 = C338 as (Attribute of ( C331 .: ));
assume L1019: C338 in C332;
L1020: C337 is-connected-with D132 by L1019 , L1017;
L1021: [ C337 , D132 ] in (the Information of ( C331 .: )) by L1020 , CONLAT_1:def 2;
L1022: [ C338 , D131 ] in (the Information of C331) by L1021 , L1016 , RELAT_1:def 7;
thus L1023: thesis by L1022 , CONLAT_1:def 2;
end;
thus L1024: thesis by L1018;
end;
L1025: (( ( ObjectDerivation C331 ) . C332 ) = { B619 where B619 is (Attribute of C331) : (for B620 being (Object of C331) holds (B620 in C332 implies B620 is-connected-with B619)) } & ( ( AttributeDerivation ( C331 .: ) ) . D126 ) = { B621 where B621 is (Object of ( C331 .: )) : (for B622 being (Attribute of ( C331 .: )) holds (B622 in D126 implies B621 is-connected-with B622)) }) by CONLAT_1:def 3 , CONLAT_1:def 4;
thus L1026: thesis by L1025 , L1003 , L1014 , XBOOLE_0:def 10;
end;
theorem
L1027: (for B623 being FormalContext holds (for B624 being (Subset of (the carrier' of B623)) holds ( ( AttributeDerivation B623 ) . B624 ) = ( ( ObjectDerivation ( B623 .: ) ) . B624 )))
proof
let C339 being FormalContext;
let C340 being (Subset of (the carrier' of C339));
reconsider D133 = C340 as (Subset of (the carrier of ( C339 .: )));
set D134 = { B625 where B625 is (Object of C339) : (for B626 being (Attribute of C339) holds (B626 in C340 implies B625 is-connected-with B626)) };
set D135 = { B627 where B627 is (Attribute of ( C339 .: )) : (for B628 being (Object of ( C339 .: )) holds (B628 in D133 implies B628 is-connected-with B627)) };
L1028: D134 c= D135
proof
let C341 being set;
assume L1029: C341 in D134;
consider C342 being (Object of C339) such that L1030: C342 = C341 and L1031: (for B629 being (Attribute of C339) holds (B629 in C340 implies C342 is-connected-with B629)) by L1029;
reconsider D136 = C341 as (Attribute of ( C339 .: )) by L1030;
L1032: (for B630 being (Object of ( C339 .: )) holds (B630 in D133 implies B630 is-connected-with D136))
proof
let C343 being (Object of ( C339 .: ));
reconsider D137 = C343 as (Attribute of C339);
assume L1033: C343 in D133;
L1034: C342 is-connected-with D137 by L1033 , L1031;
L1035: [ C342 , D137 ] in (the Information of C339) by L1034 , CONLAT_1:def 2;
L1036: [ C343 , D136 ] in (the Information of ( C339 .: )) by L1035 , L1030 , RELAT_1:def 7;
thus L1037: thesis by L1036 , CONLAT_1:def 2;
end;
thus L1038: thesis by L1032;
end;
L1039: D135 c= D134
proof
let C344 being set;
assume L1040: C344 in D135;
consider C345 being (Attribute of ( C339 .: )) such that L1041: C345 = C344 and L1042: (for B631 being (Object of ( C339 .: )) holds (B631 in D133 implies B631 is-connected-with C345)) by L1040;
reconsider D138 = C344 as (Object of C339) by L1041;
L1043: (for B632 being (Attribute of C339) holds (B632 in C340 implies D138 is-connected-with B632))
proof
let C346 being (Attribute of C339);
reconsider D139 = C346 as (Object of ( C339 .: ));
assume L1044: C346 in C340;
L1045: D139 is-connected-with C345 by L1044 , L1042;
L1046: [ D139 , C345 ] in (the Information of ( C339 .: )) by L1045 , CONLAT_1:def 2;
L1047: [ D138 , C346 ] in (the Information of C339) by L1046 , L1041 , RELAT_1:def 7;
thus L1048: thesis by L1047 , CONLAT_1:def 2;
end;
thus L1049: thesis by L1043;
end;
L1050: (( ( AttributeDerivation C339 ) . C340 ) = { B633 where B633 is (Object of C339) : (for B634 being (Attribute of C339) holds (B634 in C340 implies B633 is-connected-with B634)) } & ( ( ObjectDerivation ( C339 .: ) ) . D133 ) = { B635 where B635 is (Attribute of ( C339 .: )) : (for B636 being (Object of ( C339 .: )) holds (B636 in D133 implies B636 is-connected-with B635)) }) by CONLAT_1:def 3 , CONLAT_1:def 4;
thus L1051: thesis by L1050 , L1028 , L1039 , XBOOLE_0:def 10;
end;
definition
let C347 being FormalContext;
let C348 being ConceptStr over C347;
func C348 .: ->  strict ConceptStr over ( C347 .: ) means 
:L1052: ((the Extent of it) = (the Intent of C348) & (the Intent of it) = (the Extent of C348));
existence
proof
reconsider D140 = (the Intent of C348) as (Subset of (the carrier of ( C347 .: )));
reconsider D141 = (the Extent of C348) as (Subset of (the carrier' of ( C347 .: )));
take ConceptStr (# D140 , D141 #);
thus L1053: thesis;
end;
uniqueness;
end;
registration
let C349 being FormalContext;
let C350 being (FormalConcept of C349);
cluster ( C350 .: ) -> non  empty  concept-like;
coherence
proof
reconsider D142 = (the Intent of C350) as (Subset of (the carrier of ( C349 .: )));
reconsider D143 = (the Extent of C350) as (Subset of (the carrier' of ( C349 .: )));
set D144 = ConceptStr (# D142 , D143 #);
L1055: ( ( AttributeDerivation ( C349 .: ) ) . (the Intent of D144) ) = ( ( ObjectDerivation C349 ) . (the Extent of C350) ) by L1002
.= (the Extent of D144) by CONLAT_1:def 10;
L1056: D144 = ( C350 .: ) by L1052;
L1057: ( ( ObjectDerivation ( C349 .: ) ) . (the Extent of D144) ) = ( ( AttributeDerivation C349 ) . (the Intent of C350) ) by L1027
.= (the Intent of D144) by CONLAT_1:def 10;
thus L1058: thesis by L1057 , L1055 , L1056 , L480 , CONLAT_1:def 10;
end;
end;
theorem
L1060: (for B637 being  strict FormalContext holds (for B638 being  strict (FormalConcept of B637) holds ( ( B638 .: ) .: ) = B638))
proof
let C351 being  strict FormalContext;
let C352 being  strict (FormalConcept of C351);
L1061: (the Intent of ( ( C352 .: ) .: )) = (the Extent of ( C352 .: )) by L1052
.= (the Intent of C352) by L1052;
L1062: (the Extent of ( ( C352 .: ) .: )) = (the Intent of ( C352 .: )) by L1052
.= (the Extent of C352) by L1052;
thus L1063: thesis by L1062 , L1061;
end;
definition
let C353 being FormalContext;
func DualHomomorphism C353 -> (Homomorphism of ( ( ConceptLattice C353 ) .: ) , ( ConceptLattice ( C353 .: ) )) means 
:L1064: (for B639 being  strict (FormalConcept of C353) holds ( it . B639 ) = ( B639 .: ));
existence
proof
set D145 = { [ ConceptStr (# B640 , B641 #) , ( ConceptStr (# B640 , B641 #) .: ) ] where B640 is (Subset of (the carrier of C353)) , B641 is (Subset of (the carrier' of C353)) : ConceptStr (# B640 , B641 #) is (FormalConcept of C353) };
L1065: ( ConceptLattice ( C353 .: ) ) = LattStr (# ( B-carrier ( C353 .: ) ) , ( B-join ( C353 .: ) ) , ( B-meet ( C353 .: ) ) #) by CONLAT_1:def 20;
L1066: ( ConceptLattice C353 ) = LattStr (# ( B-carrier C353 ) , ( B-join C353 ) , ( B-meet C353 ) #) by CONLAT_1:def 20;
L1067: ( ( ConceptLattice C353 ) .: ) = LattStr (# ( B-carrier C353 ) , ( B-meet C353 ) , ( B-join C353 ) #) by L1066 , LATTICE2:def 2;
L1068: D145 c= [: (the carrier of ( ( ConceptLattice C353 ) .: )) , (the carrier of ( ConceptLattice ( C353 .: ) )) :]
proof
let C354 being set;
assume L1069: C354 in D145;
consider C355 being (Subset of (the carrier of C353)), C356 being (Subset of (the carrier' of C353)) such that L1070: C354 = [ ConceptStr (# C355 , C356 #) , ( ConceptStr (# C355 , C356 #) .: ) ] and L1071: ConceptStr (# C355 , C356 #) is (FormalConcept of C353) by L1069;
L1072: ( ConceptStr (# C355 , C356 #) .: ) is  strict  strict  strict  strict (FormalConcept of ( C353 .: )) by L1071;
L1073: ( ConceptStr (# C355 , C356 #) .: ) in (the carrier of ( ConceptLattice ( C353 .: ) )) by L1072 , L1065 , CONLAT_1:31;
L1074: ConceptStr (# C355 , C356 #) in (the carrier of ( ( ConceptLattice C353 ) .: )) by L1067 , L1071 , CONLAT_1:31;
thus L1075: thesis by L1074 , L1070 , L1073 , ZFMISC_1:def 2;
end;
reconsider D146 = D145 as (Relation of (the carrier of ( ( ConceptLattice C353 ) .: )) , (the carrier of ( ConceptLattice ( C353 .: ) ))) by L1068;
L1076: (the carrier of ( ( ConceptLattice C353 ) .: )) c= ( dom D146 )
proof
let C357 being set;
assume L1077: C357 in (the carrier of ( ( ConceptLattice C353 ) .: ));
L1078: C357 is  strict  strict  strict  strict (FormalConcept of C353) by L1077 , L1067 , CONLAT_1:31;
consider C358 being (Subset of (the carrier of C353)), C359 being (Subset of (the carrier' of C353)) such that L1079: C357 = ConceptStr (# C358 , C359 #) by L1078;
set D147 = ( ConceptStr (# C358 , C359 #) .: );
L1080: ( ConceptStr (# C358 , C359 #) .: ) is  strict  strict  strict  strict (FormalConcept of ( C353 .: )) by L1078 , L1079;
reconsider D148 = D147 as (Element of ( ConceptLattice ( C353 .: ) )) by L1080 , L1065 , CONLAT_1:31;
L1081: [ C357 , D148 ] in D146 by L1078 , L1079;
thus L1082: thesis by L1081 , XTUPLE_0:def 12;
end;
L1083: (the carrier of ( ( ConceptLattice C353 ) .: )) = ( dom D146 ) by L1076 , XBOOLE_0:def 10;
L1084: (for B642 , B643 , B644 being set holds (([ B642 , B643 ] in D146 & [ B642 , B644 ] in D146) implies B643 = B644))
proof
let C360 , C361 , C362 being set;
assume that
L1085: [ C360 , C361 ] in D146
and
L1086: [ C360 , C362 ] in D146;
consider C363 being (Subset of (the carrier of C353)), C364 being (Subset of (the carrier' of C353)) such that L1087: [ C360 , C362 ] = [ ConceptStr (# C363 , C364 #) , ( ConceptStr (# C363 , C364 #) .: ) ] and L1088: ConceptStr (# C363 , C364 #) is (FormalConcept of C353) by L1086;
consider C365 being (Subset of (the carrier of C353)), C366 being (Subset of (the carrier' of C353)) such that L1089: [ C360 , C361 ] = [ ConceptStr (# C365 , C366 #) , ( ConceptStr (# C365 , C366 #) .: ) ] and L1090: ConceptStr (# C365 , C366 #) is (FormalConcept of C353) by L1085;
L1091: ConceptStr (# C365 , C366 #) = ( [ ConceptStr (# C365 , C366 #) , ( ConceptStr (# C365 , C366 #) .: ) ] `1 )
.= ( [ C360 , C361 ] `1 ) by L1089
.= C360
.= ( [ C360 , C362 ] `1 )
.= ( [ ConceptStr (# C363 , C364 #) , ( ConceptStr (# C363 , C364 #) .: ) ] `1 ) by L1087
.= ConceptStr (# C363 , C364 #);
thus L1092: C361 = ( [ C360 , C361 ] `2 )
.= ( [ C360 , C362 ] `2 ) by L1089 , L1087 , L1091
.= C362;
end;
reconsider D149 = D146 as (Function of (the carrier of ( ( ConceptLattice C353 ) .: )) , (the carrier of ( ConceptLattice ( C353 .: ) ))) by L1084 , L1083 , FUNCT_1:def 1 , FUNCT_2:def 1;
L1093: ( ( ConceptLattice C353 ) .: ) = LattStr (# (the carrier of ( ConceptLattice C353 )) , (the L_meet of ( ConceptLattice C353 )) , (the L_join of ( ConceptLattice C353 )) #) by LATTICE2:def 2;
L1094: (for B645 , B646 being (Element of ( ( ConceptLattice C353 ) .: )) holds (B645 [= B646 implies ( D149 . B645 ) [= ( D149 . B646 )))
proof
let C367 , C368 being (Element of ( ( ConceptLattice C353 ) .: ));
reconsider D150 = ( C367 % ) , D151 = ( C368 % ) as (Element of ( LattPOSet ( ConceptLattice C353 ) )) by L1093;
reconsider D152 = C367 , D153 = C368 as (Element of ( ConceptLattice C353 )) by L1093;
L1095: ( dom D149 ) = (the carrier of ( ( ConceptLattice C353 ) .: )) by FUNCT_2:def 1;
consider C369 being set such that L1096: [ C367 , C369 ] in D149 by L1095 , XTUPLE_0:def 12;
assume L1097: C367 [= C368;
L1098: ( C367 % ) <= ( C368 % ) by L1097 , LATTICE3:7;
L1099: [ ( C367 % ) , ( C368 % ) ] in (the InternalRel of ( LattPOSet ( ( ConceptLattice C353 ) .: ) )) by L1098 , ORDERS_2:def 5;
L1100: [ ( C367 % ) , ( C368 % ) ] in ( (the InternalRel of ( LattPOSet ( ConceptLattice C353 ) )) ~ ) by L1099 , LATTICE3:20;
L1101: [ ( C368 % ) , ( C367 % ) ] in (the InternalRel of ( LattPOSet ( ConceptLattice C353 ) )) by L1100 , RELAT_1:def 7;
L1102: D151 <= D150 by L1101 , ORDERS_2:def 5;
L1103: (( ( % D150 ) % ) = D150 & ( ( % D151 ) % ) = D151);
L1104: ( % D151 ) [= ( % D150 ) by L1103 , L1102 , LATTICE3:7;
L1105: ( ( % D151 ) @ ) is-SubConcept-of ( ( % D150 ) @ ) by L1104 , CONLAT_1:43;
consider C370 being set such that L1106: [ C368 , C370 ] in D149 by L1095 , XTUPLE_0:def 12;
L1107: C370 in ( rng D149 ) by L1106 , XTUPLE_0:def 13;
L1108: ( D149 . C368 ) = C370 by L1106 , FUNCT_1:1;
consider C371 being (Subset of (the carrier of C353)), C372 being (Subset of (the carrier' of C353)) such that L1109: [ C368 , C370 ] = [ ConceptStr (# C371 , C372 #) , ( ConceptStr (# C371 , C372 #) .: ) ] and L1110: ConceptStr (# C371 , C372 #) is (FormalConcept of C353) by L1106;
L1111: C368 = ( [ C368 , C370 ] `1 )
.= ( [ ConceptStr (# C371 , C372 #) , ( ConceptStr (# C371 , C372 #) .: ) ] `1 ) by L1109
.= ConceptStr (# C371 , C372 #);
L1112: C369 in ( rng D149 ) by L1096 , XTUPLE_0:def 13;
L1113: ( D149 . C367 ) = C369 by L1096 , FUNCT_1:1;
consider C373 being (Subset of (the carrier of C353)), C374 being (Subset of (the carrier' of C353)) such that L1114: [ C367 , C369 ] = [ ConceptStr (# C373 , C374 #) , ( ConceptStr (# C373 , C374 #) .: ) ] and L1115: ConceptStr (# C373 , C374 #) is (FormalConcept of C353) by L1096;
reconsider D154 = C369 as (Element of ( ConceptLattice ( C353 .: ) )) by L1112;
L1116: C367 = ( [ C367 , D154 ] `1 )
.= ( [ ConceptStr (# C373 , C374 #) , ( ConceptStr (# C373 , C374 #) .: ) ] `1 ) by L1114
.= ConceptStr (# C373 , C374 #);
reconsider D155 = C370 as (Element of ( ConceptLattice ( C353 .: ) )) by L1107;
L1117: D155 = ( [ C368 , D155 ] `2 )
.= ( [ ConceptStr (# C371 , C372 #) , ( ConceptStr (# C371 , C372 #) .: ) ] `2 ) by L1109
.= ( ConceptStr (# C371 , C372 #) .: );
L1118: (the Intent of ( D155 @ )) = (the Intent of ( ConceptStr (# C371 , C372 #) .: )) by L1117 , CONLAT_1:def 21
.= (the Extent of ConceptStr (# C371 , C372 #)) by L1052
.= (the Extent of ( D153 @ )) by L1111 , CONLAT_1:def 21;
L1119: D154 = ( [ C367 , D154 ] `2 )
.= ( [ ConceptStr (# C373 , C374 #) , ( ConceptStr (# C373 , C374 #) .: ) ] `2 ) by L1114
.= ( ConceptStr (# C373 , C374 #) .: );
L1120: (the Intent of ( D154 @ )) = (the Intent of ( ConceptStr (# C373 , C374 #) .: )) by L1119 , CONLAT_1:def 21
.= (the Extent of ConceptStr (# C373 , C374 #)) by L1052
.= (the Extent of ( D152 @ )) by L1116 , CONLAT_1:def 21;
L1121: (the Intent of ( D155 @ )) c= (the Intent of ( D154 @ )) by L1120 , L1105 , L1118 , CONLAT_1:def 16;
L1122: ( D154 @ ) is-SubConcept-of ( D155 @ ) by L1121 , CONLAT_1:28;
thus L1123: thesis by L1122 , L1113 , L1108 , CONLAT_1:43;
end;
L1124: (the carrier of ( ConceptLattice ( C353 .: ) )) c= ( rng D149 )
proof
let C375 being set;
L1125: ( dom D149 ) = (the carrier of ( ( ConceptLattice C353 ) .: )) by FUNCT_2:def 1;
assume L1126: C375 in (the carrier of ( ConceptLattice ( C353 .: ) ));
reconsider D156 = C375 as (Element of ( ConceptLattice ( C353 .: ) )) by L1126;
reconsider D157 = (the Intent of ( D156 @ )) as (Subset of (the carrier of C353));
reconsider D158 = (the Extent of ( D156 @ )) as (Subset of (the carrier' of C353));
set D159 = ConceptStr (# D157 , D158 #);
L1127: (not ((the Extent of ( D156 @ )) is  empty & (the Intent of ( D156 @ )) is  empty)) by CONLAT_1:def 8;
L1128: ( ( AttributeDerivation C353 ) . (the Intent of D159) ) = ( ( ObjectDerivation ( C353 .: ) ) . (the Extent of ( D156 @ )) ) by L1027
.= (the Extent of D159) by CONLAT_1:def 10;
L1129: ( ( ObjectDerivation C353 ) . (the Extent of D159) ) = ( ( AttributeDerivation ( C353 .: ) ) . (the Intent of ( D156 @ )) ) by L1002
.= (the Intent of D159) by CONLAT_1:def 10;
L1130: D159 is (FormalConcept of C353) by L1129 , L1128 , L1127 , CONLAT_1:def 8 , CONLAT_1:def 10;
L1131: D159 in ( dom D149 ) by L1130 , L1093 , L1066 , L1125 , CONLAT_1:31;
consider C376 being set such that L1132: [ D159 , C376 ] in D149 by L1131 , XTUPLE_0:def 12;
consider C377 being (Subset of (the carrier of C353)), C378 being (Subset of (the carrier' of C353)) such that L1133: [ D159 , C376 ] = [ ConceptStr (# C377 , C378 #) , ( ConceptStr (# C377 , C378 #) .: ) ] and L1134: ConceptStr (# C377 , C378 #) is (FormalConcept of C353) by L1132;
L1135: D159 = ( [ D159 , C376 ] `1 )
.= ( [ ConceptStr (# C377 , C378 #) , ( ConceptStr (# C377 , C378 #) .: ) ] `1 ) by L1133
.= ConceptStr (# C377 , C378 #);
L1136: C376 in ( rng D149 ) by L1132 , XTUPLE_0:def 13;
reconsider D160 = C376 as  strict (FormalConcept of ( C353 .: )) by L1136 , L1065 , CONLAT_1:31;
L1137: D160 = ( [ D159 , D160 ] `2 )
.= ( [ ConceptStr (# C377 , C378 #) , ( ConceptStr (# C377 , C378 #) .: ) ] `2 ) by L1133
.= ( ConceptStr (# C377 , C378 #) .: );
L1138: ((the Extent of D160) = (the Extent of ( D156 @ )) & (the Intent of D160) = (the Intent of ( D156 @ ))) by L1137 , L1135 , L1052;
thus L1139: thesis by L1138 , L1136 , CONLAT_1:def 21;
end;
L1140: ( rng D149 ) = (the carrier of ( ConceptLattice ( C353 .: ) )) by L1124 , XBOOLE_0:def 10;
L1141: D149 is  one-to-one
proof
let C379 , C380 being set;
assume that
L1142: C379 in ( dom D149 )
and
L1143: C380 in ( dom D149 )
and
L1144: ( D149 . C379 ) = ( D149 . C380 );
reconsider D161 = C379 , D162 = C380 as (Element of ( ( ConceptLattice C353 ) .: )) by L1142 , L1143;
consider C381 being set such that L1145: [ D161 , C381 ] in D149 by L1142 , XTUPLE_0:def 12;
consider C382 being set such that L1146: [ D162 , C382 ] in D149 by L1143 , XTUPLE_0:def 12;
L1147: ( D149 . D162 ) = C382 by L1146 , FUNCT_1:1;
consider C383 being (Subset of (the carrier of C353)), C384 being (Subset of (the carrier' of C353)) such that L1148: [ D161 , C381 ] = [ ConceptStr (# C383 , C384 #) , ( ConceptStr (# C383 , C384 #) .: ) ] and L1149: ConceptStr (# C383 , C384 #) is (FormalConcept of C353) by L1145;
L1150: D161 = ConceptStr (# C383 , C384 #) by L1148 , XTUPLE_0:1;
consider C385 being (Subset of (the carrier of C353)), C386 being (Subset of (the carrier' of C353)) such that L1151: [ D162 , C382 ] = [ ConceptStr (# C385 , C386 #) , ( ConceptStr (# C385 , C386 #) .: ) ] and L1152: ConceptStr (# C385 , C386 #) is (FormalConcept of C353) by L1146;
L1153: D162 = ConceptStr (# C385 , C386 #) by L1151 , XTUPLE_0:1;
L1154: ( ConceptStr (# C385 , C386 #) .: ) = C382 by L1151 , XTUPLE_0:1
.= C381 by L1144 , L1145 , L1147 , FUNCT_1:1
.= ( ConceptStr (# C383 , C384 #) .: ) by L1148 , XTUPLE_0:1;
L1155: (the Intent of ConceptStr (# C385 , C386 #)) = (the Extent of ( ConceptStr (# C383 , C384 #) .: )) by L1154 , L1052
.= (the Intent of ConceptStr (# C383 , C384 #)) by L1052;
L1156: (the Extent of ConceptStr (# C385 , C386 #)) = (the Intent of ( ConceptStr (# C383 , C384 #) .: )) by L1154 , L1052
.= (the Extent of ConceptStr (# C383 , C384 #)) by L1052;
thus L1157: thesis by L1156 , L1150 , L1153 , L1155;
end;
L1158: (for B647 , B648 being (Element of ( ( ConceptLattice C353 ) .: )) holds (( D149 . B647 ) [= ( D149 . B648 ) implies B647 [= B648))
proof
let C387 , C388 being (Element of ( ( ConceptLattice C353 ) .: ));
L1159: ( dom D149 ) = (the carrier of ( ( ConceptLattice C353 ) .: )) by FUNCT_2:def 1;
consider C389 being set such that L1160: [ C387 , C389 ] in D149 by L1159 , XTUPLE_0:def 12;
reconsider D163 = C387 , D164 = C388 as (Element of ( ConceptLattice C353 )) by L1093;
assume L1161: ( D149 . C387 ) [= ( D149 . C388 );
L1162: ( ( D149 . C387 ) @ ) is-SubConcept-of ( ( D149 . C388 ) @ ) by L1161 , CONLAT_1:43;
consider C390 being (Subset of (the carrier of C353)), C391 being (Subset of (the carrier' of C353)) such that L1163: [ C387 , C389 ] = [ ConceptStr (# C390 , C391 #) , ( ConceptStr (# C390 , C391 #) .: ) ] and L1164: ConceptStr (# C390 , C391 #) is (FormalConcept of C353) by L1160;
L1165: C387 = ConceptStr (# C390 , C391 #) by L1163 , XTUPLE_0:1;
L1166: C389 in ( rng D149 ) by L1160 , XTUPLE_0:def 13;
consider C392 being set such that L1167: [ C388 , C392 ] in D149 by L1159 , XTUPLE_0:def 12;
L1168: C392 in ( rng D149 ) by L1167 , XTUPLE_0:def 13;
consider C393 being (Subset of (the carrier of C353)), C394 being (Subset of (the carrier' of C353)) such that L1169: [ C388 , C392 ] = [ ConceptStr (# C393 , C394 #) , ( ConceptStr (# C393 , C394 #) .: ) ] and L1170: ConceptStr (# C393 , C394 #) is (FormalConcept of C353) by L1167;
L1171: C388 = ConceptStr (# C393 , C394 #) by L1169 , XTUPLE_0:1;
reconsider D165 = C392 as (Element of ( ConceptLattice ( C353 .: ) )) by L1168;
L1172: D165 = ( ConceptStr (# C393 , C394 #) .: ) by L1169 , XTUPLE_0:1;
L1173: (the Intent of ( ( D149 . C388 ) @ )) = (the Intent of ( D165 @ )) by L1167 , FUNCT_1:1
.= (the Intent of ( ConceptStr (# C393 , C394 #) .: )) by L1172 , CONLAT_1:def 21
.= (the Extent of ConceptStr (# C393 , C394 #)) by L1052
.= (the Extent of ( D164 @ )) by L1171 , CONLAT_1:def 21;
reconsider D166 = C389 as (Element of ( ConceptLattice ( C353 .: ) )) by L1166;
L1174: D166 = ( ConceptStr (# C390 , C391 #) .: ) by L1163 , XTUPLE_0:1;
L1175: (the Intent of ( ( D149 . C387 ) @ )) = (the Intent of ( D166 @ )) by L1160 , FUNCT_1:1
.= (the Intent of ( ConceptStr (# C390 , C391 #) .: )) by L1174 , CONLAT_1:def 21
.= (the Extent of ConceptStr (# C390 , C391 #)) by L1052
.= (the Extent of ( D163 @ )) by L1165 , CONLAT_1:def 21;
L1176: (the Extent of ( D164 @ )) c= (the Extent of ( D163 @ )) by L1175 , L1162 , L1173 , CONLAT_1:28;
L1177: ( D164 @ ) is-SubConcept-of ( D163 @ ) by L1176 , CONLAT_1:def 16;
L1178: D164 [= D163 by L1177 , CONLAT_1:43;
L1179: ( D164 % ) <= ( D163 % ) by L1178 , LATTICE3:7;
L1180: [ ( D164 % ) , ( D163 % ) ] in (the InternalRel of ( LattPOSet ( ConceptLattice C353 ) )) by L1179 , ORDERS_2:def 5;
L1181: [ ( C387 % ) , ( C388 % ) ] in (the InternalRel of ( ( LattPOSet ( ConceptLattice C353 ) ) ~ )) by L1180 , RELAT_1:def 7;
L1182: [ ( C387 % ) , ( C388 % ) ] in (the InternalRel of ( LattPOSet ( ( ConceptLattice C353 ) .: ) )) by L1181 , LATTICE3:20;
L1183: ( C387 % ) <= ( C388 % ) by L1182 , ORDERS_2:def 5;
thus L1184: thesis by L1183 , LATTICE3:7;
end;
reconsider D167 = D149 as (Homomorphism of ( ( ConceptLattice C353 ) .: ) , ( ConceptLattice ( C353 .: ) )) by L1158 , L1094 , L1140 , L1141 , L430;
L1185: (for B649 being  strict (FormalConcept of C353) holds ( D167 . B649 ) = ( B649 .: ))
proof
let C395 being  strict (FormalConcept of C353);
L1186: C395 in ( B-carrier C353 ) by CONLAT_1:31;
L1187: C395 in ( dom D167 ) by L1186 , L1067 , FUNCT_2:def 1;
consider C396 being set such that L1188: [ C395 , C396 ] in D167 by L1187 , XTUPLE_0:def 12;
L1189: C396 in ( rng D167 ) by L1188 , XTUPLE_0:def 13;
consider C397 being (Subset of (the carrier of C353)), C398 being (Subset of (the carrier' of C353)) such that L1190: [ C395 , C396 ] = [ ConceptStr (# C397 , C398 #) , ( ConceptStr (# C397 , C398 #) .: ) ] and L1191: ConceptStr (# C397 , C398 #) is (FormalConcept of C353) by L1188;
reconsider D168 = C396 as  strict (FormalConcept of ( C353 .: )) by L1065 , L1189 , CONLAT_1:31;
L1192: C395 = ConceptStr (# C397 , C398 #) by L1190 , XTUPLE_0:1;
L1193: D168 = ( ConceptStr (# C397 , C398 #) .: ) by L1190 , XTUPLE_0:1;
thus L1194: thesis by L1193 , L1188 , L1192 , FUNCT_1:1;
end;
thus L1195: thesis by L1185;
end;
uniqueness
proof
let C399 , C400 being (Homomorphism of ( ( ConceptLattice C353 ) .: ) , ( ConceptLattice ( C353 .: ) ));
assume L1196: (for B650 being  strict (FormalConcept of C353) holds ( C399 . B650 ) = ( B650 .: ));
assume L1197: (for B651 being  strict (FormalConcept of C353) holds ( C400 . B651 ) = ( B651 .: ));
L1198: (for B652 being set holds (B652 in (the carrier of ( ( ConceptLattice C353 ) .: )) implies ( C399 . B652 ) = ( C400 . B652 )))
proof
let C401 being set;
L1199: ( ConceptLattice C353 ) = LattStr (# ( B-carrier C353 ) , ( B-join C353 ) , ( B-meet C353 ) #) by CONLAT_1:def 20;
L1200: ( ( ConceptLattice C353 ) .: ) = LattStr (# ( B-carrier C353 ) , ( B-meet C353 ) , ( B-join C353 ) #) by L1199 , LATTICE2:def 2;
assume L1201: C401 in (the carrier of ( ( ConceptLattice C353 ) .: ));
reconsider D169 = C401 as  strict (FormalConcept of C353) by L1201 , L1200 , CONLAT_1:31;
L1202: ( C399 . D169 ) = ( D169 .: ) by L1196
.= ( C400 . D169 ) by L1197;
thus L1203: thesis by L1202;
end;
L1204: (( dom C399 ) = (the carrier of ( ( ConceptLattice C353 ) .: )) & ( dom C400 ) = (the carrier of ( ( ConceptLattice C353 ) .: ))) by FUNCT_2:def 1;
thus L1205: thesis by L1204 , L1198 , FUNCT_1:2;
end;
end;
theorem
L1207: (for B653 being FormalContext holds ( DualHomomorphism B653 ) is  bijective)
proof
let C402 being FormalContext;
set D170 = ( DualHomomorphism C402 );
L1208: ( ConceptLattice C402 ) = LattStr (# ( B-carrier C402 ) , ( B-join C402 ) , ( B-meet C402 ) #) by CONLAT_1:def 20;
L1209: ( ( ConceptLattice C402 ) .: ) = LattStr (# (the carrier of ( ConceptLattice C402 )) , (the L_meet of ( ConceptLattice C402 )) , (the L_join of ( ConceptLattice C402 )) #) by LATTICE2:def 2;
L1210: (the carrier of ( ConceptLattice ( C402 .: ) )) c= ( rng D170 )
proof
let C403 being set;
assume L1211: C403 in (the carrier of ( ConceptLattice ( C402 .: ) ));
reconsider D171 = C403 as (Element of ( ConceptLattice ( C402 .: ) )) by L1211;
reconsider D172 = (the Intent of ( D171 @ )) as (Subset of (the carrier of C402));
reconsider D173 = (the Extent of ( D171 @ )) as (Subset of (the carrier' of C402));
set D174 = ConceptStr (# D172 , D173 #);
L1212: (not ((the Extent of ( D171 @ )) is  empty & (the Intent of ( D171 @ )) is  empty)) by CONLAT_1:def 8;
L1213: ( ( AttributeDerivation C402 ) . (the Intent of D174) ) = ( ( ObjectDerivation ( C402 .: ) ) . (the Extent of ( D171 @ )) ) by L1027
.= (the Extent of D174) by CONLAT_1:def 10;
L1214: ( ( ObjectDerivation C402 ) . (the Extent of D174) ) = ( ( AttributeDerivation ( C402 .: ) ) . (the Intent of ( D171 @ )) ) by L1002
.= (the Intent of D174) by CONLAT_1:def 10;
L1215: D174 is (FormalConcept of C402) by L1214 , L1213 , L1212 , CONLAT_1:def 8 , CONLAT_1:def 10;
L1216: D174 in (the carrier of ( ConceptLattice C402 )) by L1215 , L1208 , CONLAT_1:31;
reconsider D175 = D174 as  strict (FormalConcept of C402) by L1214 , L1213 , L1212 , CONLAT_1:def 8 , CONLAT_1:def 10;
L1217: (the Extent of ( D175 .: )) = (the Extent of ( D171 @ )) by L1052;
L1218: (( D170 . D175 ) = ( D175 .: ) & (the Intent of ( D175 .: )) = (the Intent of ( D171 @ ))) by L1052 , L1064;
L1219: ( D170 . D175 ) = D171 by L1218 , L1217 , CONLAT_1:def 21;
L1220: D175 in ( dom D170 ) by L1209 , L1216 , FUNCT_2:def 1;
thus L1221: thesis by L1220 , L1219 , FUNCT_1:def 3;
end;
L1222: ( rng D170 ) = (the carrier of ( ConceptLattice ( C402 .: ) )) by L1210 , XBOOLE_0:def 10;
L1223: D170 is  onto by L1222 , FUNCT_2:def 3;
L1224: D170 is  one-to-one
proof
let C404 , C405 being set;
assume that
L1225: (C404 in ( dom D170 ) & C405 in ( dom D170 ))
and
L1226: ( D170 . C404 ) = ( D170 . C405 );
reconsider D176 = C404 , D177 = C405 as (Element of ( ( ConceptLattice C402 ) .: )) by L1225;
L1227: ( ( ConceptLattice C402 ) .: ) = LattStr (# (the carrier of ( ConceptLattice C402 )) , (the L_meet of ( ConceptLattice C402 )) , (the L_join of ( ConceptLattice C402 )) #) by LATTICE2:def 2;
reconsider D178 = D176 , D179 = D177 as (Element of ( ConceptLattice C402 )) by L1227;
L1228: (( D170 . ( D178 @ ) ) = ( D170 . D178 ) & ( D170 . ( D179 @ ) ) = ( D170 . D179 )) by CONLAT_1:def 21;
L1229: (( D170 . ( D178 @ ) ) = ( ( D178 @ ) .: ) & ( D170 . ( D179 @ ) ) = ( ( D179 @ ) .: )) by L1064;
L1230: (the Extent of ( D178 @ )) = (the Intent of ( ( D179 @ ) .: )) by L1229 , L1226 , L1228 , L1052
.= (the Extent of ( D179 @ )) by L1052;
L1231: (the Intent of ( D178 @ )) = (the Extent of ( ( D179 @ ) .: )) by L1226 , L1229 , L1228 , L1052
.= (the Intent of ( D179 @ )) by L1052;
L1232: D178 = ( D179 @ ) by L1231 , L1230 , CONLAT_1:def 21
.= D179 by CONLAT_1:def 21;
thus L1233: thesis by L1232;
end;
thus L1234: thesis by L1224 , L1223;
end;
theorem
L1235: (for B654 being FormalContext holds ( ConceptLattice ( B654 .: ) ) , ( ( ConceptLattice B654 ) .: ) are_isomorphic )
proof
let C406 being FormalContext;
L1236: ( DualHomomorphism C406 ) is  bijective by L1207;
thus L1237: thesis by L1236 , LATTICE4:def 2;
end;
