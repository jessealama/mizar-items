:: The Relevance of Measure and Probability and Definition of Completeness
:: of Probability
::  by Bo Zhang , Hiroshi Yamazaki and Yatsuka Nakamura
::
:: Received November 23, 2005
:: Copyright (c) 2005-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, SUBSET_1, PROB_1, XBOOLE_0, TARSKI, FUNCT_1, RELAT_1,
      NAT_1, PROB_2, FUNCOP_1, FUNCT_7, CARD_1, XXREAL_0, ARYTM_3, ZFMISC_1,
      CARD_3, EQREL_1, RPR_1, ARYTM_1, SERIES_1, SEQ_2, ORDINAL2, PROB_3,
      SUPINF_2, REAL_1, XXREAL_2, SUPINF_1, ORDINAL1, MEASURE1, MEASURE6,
      VALUED_0, SETFAM_1, MEASURE3, PROB_4, SEQ_4;
 notations TARSKI, XBOOLE_0, REAL_1, CARD_3, ORDINAL1, MEASURE3, SUPINF_2,
      XXREAL_0, XXREAL_2, NAT_1, SEQ_2, SETFAM_1, FUNCT_1, RELSET_1, SUBSET_1,
      NUMBERS, SUPINF_1, PARTFUN1, FUNCT_2, FUNCT_7, PROB_1, PROB_3, MEASURE1,
      FUNCOP_1, SEQM_3, SERIES_1, RINFSUP1, ZFMISC_1, MEASURE6, PROB_2;
 constructors REAL_1, SERIES_1, MEASURE3, MEASURE6, PARTFUN3, KURATO_0,
      RINFSUP1, PROB_3, SEQ_1, SUPINF_1, FUNCT_7, RELSET_1, COMSEQ_2;
 registrations SUBSET_1, RELAT_1, ORDINAL1, FUNCT_2, NUMBERS, XXREAL_0,
      XREAL_0, NAT_1, MEMBERED, MEASURE1, MEASURE3, VALUED_0, SEQ_2, SEQ_4,
      FUNCT_7, PROB_1, RELSET_1, PROB_3;
 requirements REAL, NUMERALS, BOOLE, SUBSET, ARITHM;
 definitions TARSKI, XBOOLE_0, SERIES_1, SUBSET_1, PROB_3;
 theorems FUNCT_1, FUNCT_2, SEQ_1, SEQ_2, XREAL_1, NAT_1, TARSKI, XBOOLE_0,
      XBOOLE_1, PROB_2, RINFSUP1, SUPINF_2, SEQM_3, CARD_3, SETLIM_1, PROB_1,
      SERIES_1, PROB_3, MEASURE1, MEASURE3, MEASURE6, ZFMISC_1, XXREAL_0,
      ORDINAL1, NUMBERS, XXREAL_2, FUNCT_7, DYNKIN, VALUED_0, FUNCOP_1,
      RELAT_1;
 schemes FUNCT_2, NAT_1, XBOOLE_0;

begin
L1: (for B1 , B2 , B3 being set holds (B3 c= B2 implies ( B1 \ B3 ) = ( ( B1 \ B2 ) \/ ( B1 /\ ( B2 \ B3 ) ) )))
proof
let C1 , C2 , C3 being set;
assume L2: C3 c= C2;
thus L3: ( C1 \ C3 ) c= ( ( C1 \ C2 ) \/ ( C1 /\ ( C2 \ C3 ) ) )
proof
let C4 being set;
assume L4: C4 in ( C1 \ C3 );
L5: ((C4 in C1 & (not C4 in C2)) or (C4 in C1 & C4 in C2 & (not C4 in C3))) by L4 , XBOOLE_0:def 5;
L6: (C4 in ( C1 \ C2 ) or (C4 in C1 & C4 in ( C2 \ C3 ))) by L5 , XBOOLE_0:def 5;
L7: (C4 in ( C1 \ C2 ) or C4 in ( C1 /\ ( C2 \ C3 ) )) by L6 , XBOOLE_0:def 4;
thus L8: thesis by L7 , XBOOLE_0:def 3;
end;

let C5 being set;
assume L9: C5 in ( ( C1 \ C2 ) \/ ( C1 /\ ( C2 \ C3 ) ) );
L10: (C5 in ( C1 \ C2 ) or C5 in ( C1 /\ ( C2 \ C3 ) )) by L9 , XBOOLE_0:def 3;
L11: (C5 in ( C1 \ C2 ) or (C5 in C1 & C5 in ( C2 \ C3 ))) by L10 , XBOOLE_0:def 4;
L12: (not C5 in C3) by L11 , L2 , XBOOLE_0:def 5;
thus L13: thesis by L12 , L11 , XBOOLE_0:def 5;
end;
definition
let R5 being set;
let R7 being (SigmaField of R5);
let R8 being (SetSequence of R7);
let R1 being (Element of ( NAT ));
redefine func R8 . R1 -> (Element of R7);

coherence
proof
thus L14: ( R8 . R1 ) is (Element of R7);
end;
end;
theorem
L16: (for R5 being set holds (for R7 being (SigmaField of R5) holds (for R8 being (SetSequence of R7) holds ( rng R8 ) c= R7)))
proof
let R5 being set;
let R7 being (SigmaField of R5);
let R8 being (SetSequence of R7);
let R4 being set;
assume L17: R4 in ( rng R8 );
L18: (ex R1 being (Element of ( NAT )) st R4 = ( R8 . R1 )) by L17 , SETLIM_1:4;
thus L19: thesis by L18;
end;
theorem
L20: (for R5 being set holds (for R7 being (SigmaField of R5) holds (for B4 being Function holds (B4 is (SetSequence of R7) iff B4 is (Function of ( NAT ) , R7)))))
proof
let R5 being set;
let R7 being (SigmaField of R5);
let C6 being Function;
thus L21: (C6 is (SetSequence of R7) implies C6 is (Function of ( NAT ) , R7))
proof
assume L22: C6 is (SetSequence of R7);
reconsider D1 = C6 as (SetSequence of R7) by L22;
L23: (( rng D1 ) c= R7 & ( dom D1 ) = ( NAT )) by L16 , FUNCT_2:def 1;
thus L24: thesis by L23 , FUNCT_2:2;
end;

assume L25: C6 is (Function of ( NAT ) , R7);
reconsider D2 = C6 as (SetSequence of R5) by L25 , FUNCT_2:7;
L26: D2 is (SetSequence of R7) by L25;
thus L27: thesis by L26;
end;
scheme LambdaSigmaSSeq { F1() -> set , F2() -> (SigmaField of F1()) , F3(set) -> (Element of F2()) } : (ex B5 being (SetSequence of F2()) st (for R1 being (Element of ( NAT )) holds ( B5 . R1 ) = F3(R1)))
proof
L28: (ex B6 being (SetSequence of F1()) st (for R1 being (Element of ( NAT )) holds ( B6 . R1 ) = F3(R1))) from FUNCT_2:sch 4;
consider C7 being (SetSequence of F1()) such that L29: (for R1 being (Element of ( NAT )) holds ( C7 . R1 ) = F3(R1)) by L28;
L30: (for B7 being Nat holds ( C7 . B7 ) in F2())
proof
let C8 being Nat;
L31: C8 in ( NAT ) by ORDINAL1:def 12;
L32: ( C7 . C8 ) = F3(C8) by L31 , L29;
thus L33: thesis by L32;
end;
L34: ( rng C7 ) c= F2() by L30 , NAT_1:52;
reconsider D3 = C7 as (SetSequence of F2()) by L34 , RELAT_1:def 19;
take D3;
thus L35: thesis by L29;
end;
registration
let R5 being set;
cluster  disjoint_valued for (SetSequence of R5);
existence
proof
take D4 = ( ( NAT ) --> ( {} R5 ) );
L36: (for B8 , B9 being Nat holds (B8 <> B9 implies ( D4 . B8 ) misses ( D4 . B9 )))
proof
let C9 , C10 being Nat;
L37: C9 in ( NAT ) by ORDINAL1:def 12;
L38: ( D4 . C9 ) = ( {} ) by L37 , FUNCOP_1:7;
thus L39: thesis by L38 , XBOOLE_1:65;
end;
thus L40: thesis by L36 , PROB_3:def 4;
end;
end;
registration
let R5 being set;
let R7 being (SigmaField of R5);
cluster  disjoint_valued for (SetSequence of R7);
existence
proof
reconsider D5 = R7 as (SigmaField of R5);
set D6 = the  disjoint_valued (Function of ( NAT ) , D5);
reconsider D7 = D6 as (SetSequence of R7) by L20;
take D7;
thus L42: thesis;
end;
end;
theorem
L44: (for R5 being set holds (for B10 , B11 being (Subset of R5) holds (B10 misses B11 implies ( (B10 , B11) followed_by ( {} ) ) is  disjoint_valued)))
proof
let R5 being set;
let C11 , C12 being (Subset of R5);
reconsider D8 = ( (C11 , C12) followed_by ( {} R5 ) ) as (SetSequence of R5);
assume L45: C11 misses C12;
L46: D8 is  disjoint_valued
proof
L47: ( D8 . 1 ) = C12 by FUNCT_7:123;
let C13 , C14 being Nat;
assume that
L48: C13 <> C14;
L49: ( D8 . ( 0 ) ) = C11 by FUNCT_7:122;
per cases ;
suppose L50: C13 = ( 0 );

L51: C14 >= 1 by L50 , L48 , NAT_1:14;
L52: ( C14 + 1 ) > 1 by L51 , NAT_1:13;
per cases  by L52 , NAT_1:22;
suppose L53: C14 > 1;

L54: ( D8 . C14 ) = ( {} ) by L53 , FUNCT_7:124;
thus L55: thesis by L54 , XBOOLE_1:65;
end;
suppose L56: C14 = 1;

thus L57: thesis by L56 , L45 , L49 , L50 , FUNCT_7:123;
end;
end;
suppose L59: (C13 <> ( 0 ) & C13 = 1);

L60: (C14 >= 1 or C14 <= 1);
L61: (( C14 + 1 ) > 1 or C14 < ( 1 + 1 )) by L60 , NAT_1:13;
per cases  by L48 , L59 , L61 , NAT_1:14 , NAT_1:22;
suppose L62: C14 > 1;

L63: ( D8 . C14 ) = ( {} ) by L62 , FUNCT_7:124;
thus L64: thesis by L63 , XBOOLE_1:65;
end;
suppose L65: C14 = ( 0 );

thus L66: thesis by L65 , L45 , L49 , L47 , L59;
end;
end;
suppose L68: (C13 <> ( 0 ) & C13 <> 1);

L69: C13 >= 1 by L68 , NAT_1:14;
L70: ( C13 + 1 ) > 1 by L69 , NAT_1:13;
L71: ( D8 . C13 ) = ( {} ) by L70 , L68 , FUNCT_7:124 , NAT_1:22;
thus L72: thesis by L71 , XBOOLE_1:65;
end;
end;
thus L74: thesis by L46;
end;
theorem
L75: (for R5 being set holds (for B12 being non  empty set holds (B12 is (SigmaField of R5) iff (B12 c= ( bool R5 ) & (for B13 being (SetSequence of R5) holds (( rng B13 ) c= B12 implies ( Union B13 ) in B12)) & (for B14 being (Subset of R5) holds (B14 in B12 implies ( B14 ` ) in B12))))))
proof
let R5 being set;
let C15 being non  empty set;
thus L76: (C15 is (SigmaField of R5) implies (C15 c= ( bool R5 ) & (for B15 being (SetSequence of R5) holds (( rng B15 ) c= C15 implies ( Union B15 ) in C15)) & (for B16 being (Subset of R5) holds (B16 in C15 implies ( B16 ` ) in C15))))
proof
assume L77: C15 is (SigmaField of R5);
reconsider D9 = C15 as (SigmaField of R5) by L77;
L78: (for B17 being (SetSequence of R5) holds (( rng B17 ) c= D9 implies ( Union B17 ) in D9))
proof
let C16 being (SetSequence of R5);
assume L79: ( rng C16 ) c= D9;
reconsider D10 = C16 as (SetSequence of D9) by L79 , RELAT_1:def 19;
L80: ( Union D10 ) in D9 by PROB_1:17;
thus L81: thesis by L80;
end;
thus L82: thesis by L78 , PROB_1:15;
end;

assume that
L83: C15 c= ( bool R5 )
and
L84: (for B18 being (SetSequence of R5) holds (( rng B18 ) c= C15 implies ( Union B18 ) in C15))
and
L85: (for B19 being (Subset of R5) holds (B19 in C15 implies ( B19 ` ) in C15));
L86: (for B20 being (SetSequence of R5) holds (( rng B20 ) c= C15 implies ( Intersection B20 ) in C15))
proof
let C17 being (SetSequence of R5);
assume that
L87: ( rng C17 ) c= C15;
L88: (for B21 being Nat holds ( ( Complement C17 ) . B21 ) in C15)
proof
let C18 being Nat;
reconsider D11 = C18 as (Element of ( NAT )) by ORDINAL1:def 12;
L89: ( C17 . C18 ) in ( rng C17 ) by NAT_1:51;
L90: ( ( C17 . D11 ) ` ) in C15 by L89 , L85 , L87;
thus L91: thesis by L90 , PROB_1:def 2;
end;
L92: ( rng ( Complement C17 ) ) c= C15 by L88 , NAT_1:52;
L93: ( ( Union ( Complement C17 ) ) ` ) in C15 by L92 , L84 , L85;
thus L94: thesis by L93 , PROB_1:def 3;
end;
thus L95: thesis by L86 , L83 , L85 , PROB_1:15;
end;
theorem
L96: (for R9 being non  empty set holds (for R10 being (SigmaField of R9) holds (for R12 being (Probability of R10) holds (for B22 , B23 being (Event of R10) holds ( R12 . ( B22 \ B23 ) ) = ( ( R12 . ( B22 \/ B23 ) ) - ( R12 . B23 ) )))))
proof
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
let C19 , C20 being (Event of R10);
L97: ( ( R12 . ( C19 \/ C20 ) ) - ( R12 . C20 ) ) = ( ( ( R12 . C20 ) + ( R12 . ( C19 \ C20 ) ) ) - ( R12 . C20 ) ) by PROB_1:36;
thus L98: thesis by L97;
end;
theorem
L99: (for R9 being non  empty set holds (for R10 being (SigmaField of R9) holds (for R12 being (Probability of R10) holds (for B24 , B25 being (Event of R10) holds ((B24 c= B25 & ( R12 . B25 ) = ( 0 )) implies ( R12 . B24 ) = ( 0 ))))))
proof
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
let C21 , C22 being (Event of R10);
assume L100: (C21 c= C22 & ( R12 . C22 ) = ( 0 ));
L101: ( R12 . C21 ) <= ( 0 ) by L100 , PROB_1:34;
thus L102: thesis by L101 , PROB_1:def 8;
end;
theorem
L103: (for R9 being non  empty set holds (for R10 being (SigmaField of R9) holds (for R11 being (SetSequence of R10) holds (for R12 being (Probability of R10) holds ((for R1 being (Element of ( NAT )) holds ( R12 . ( R11 . R1 ) ) = ( 0 )) iff ( R12 . ( Union R11 ) ) = ( 0 ))))))
proof
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R11 being (SetSequence of R10);
let R12 being (Probability of R10);
thus L104:now
assume L105: (for R1 being (Element of ( NAT )) holds ( R12 . ( R11 . R1 ) ) = ( 0 ));
L106: (for R1 being (Element of ( NAT )) holds ( ( Partial_Sums ( R12 * R11 ) ) . R1 ) = ( 0 ))
proof
defpred S1[ (Element of ( NAT )) ] means ( ( Partial_Sums ( R12 * R11 ) ) . $1 ) = ( 0 );
L107: (for R3 being (Element of ( NAT )) holds (S1[ R3 ] implies S1[ ( R3 + 1 ) ]))
proof
let R3 being (Element of ( NAT ));
assume that
L108: S1[ R3 ];
thus L109: ( ( Partial_Sums ( R12 * R11 ) ) . ( R3 + 1 ) ) = ( ( ( Partial_Sums ( R12 * R11 ) ) . R3 ) + ( ( R12 * R11 ) . ( R3 + 1 ) ) ) by SERIES_1:def 1
.= ( ( 0 ) + ( R12 . ( R11 . ( R3 + 1 ) ) ) ) by L108 , FUNCT_2:15
.= ( 0 ) by L105;
end;
L110: ( ( Partial_Sums ( R12 * R11 ) ) . ( 0 ) ) = ( ( R12 * R11 ) . ( 0 ) ) by SERIES_1:def 1
.= ( R12 . ( R11 . ( 0 ) ) ) by FUNCT_2:15
.= ( 0 ) by L105;
L111: S1[ ( 0 ) ] by L110;
thus L112: (for R3 being (Element of ( NAT )) holds S1[ R3 ]) from NAT_1:sch 1(L111 , L107);
end;
L113: (for R1 being (Element of ( NAT )) holds (( 0 ) <= R1 implies ( ( Partial_Sums ( R12 * R11 ) ) . R1 ) = ( 0 ))) by L106;
L114: (( Partial_Sums ( R12 * R11 ) ) is  convergent & ( lim ( Partial_Sums ( R12 * R11 ) ) ) = ( 0 )) by L113 , PROB_1:1;
L115:
now
let R1 being (Element of ( NAT ));
L116: ( ( Partial_Diff_Union R11 ) . R1 ) c= ( R11 . R1 ) by PROB_3:33;
thus L117: ( ( R12 * ( Partial_Diff_Union R11 ) ) . R1 ) <= ( ( R12 * R11 ) . R1 ) by L116 , PROB_3:5;
end;
L118: (for R1 being (Element of ( NAT )) holds ( ( Partial_Sums ( R12 * ( Partial_Diff_Union R11 ) ) ) . R1 ) <= ( ( Partial_Sums ( R12 * R11 ) ) . R1 )) by L115 , SERIES_1:14;
L119: ( Partial_Sums ( R12 * ( Partial_Diff_Union R11 ) ) ) is  convergent by PROB_3:45;
L120: ( Sum ( R12 * ( Partial_Diff_Union R11 ) ) ) <= ( 0 ) by L119 , L114 , L118 , SEQ_2:18;
L121: ( R12 . ( Union ( Partial_Diff_Union R11 ) ) ) <= ( 0 ) by L120 , PROB_3:46;
L122: ( R12 . ( Union R11 ) ) <= ( 0 ) by L121 , PROB_3:36;
L123: ( Union R11 ) is (Event of R10) by PROB_1:26;
thus L124: ( R12 . ( Union R11 ) ) = ( 0 ) by L123 , L122 , PROB_1:def 8;
end;
assume L125: ( R12 . ( Union R11 ) ) = ( 0 );
thus L126:now
reconsider D12 = ( Union R11 ) as (Event of R10) by PROB_1:26;
let R1 being (Element of ( NAT ));
reconsider D13 = ( R11 . R1 ) as (Event of R10);
L127: ( R11 . R1 ) in ( rng R11 ) by SETLIM_1:4;
L128: ( R11 . R1 ) c= ( union ( rng R11 ) ) by L127 , ZFMISC_1:74;
L129: D13 c= D12 by L128 , CARD_3:def 4;
thus L130: ( R12 . ( R11 . R1 ) ) = ( 0 ) by L129 , L125 , L99;
end;
end;
theorem
L127: (for R9 being non  empty set holds (for R10 being (SigmaField of R9) holds (for R11 being (SetSequence of R10) holds (for R12 being (Probability of R10) holds ((for B26 being set holds (B26 in ( rng R11 ) implies ( R12 . B26 ) = ( 0 ))) iff ( R12 . ( union ( rng R11 ) ) ) = ( 0 ))))))
proof
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R11 being (SetSequence of R10);
let R12 being (Probability of R10);
thus L128:now
assume L129: (for B27 being set holds (B27 in ( rng R11 ) implies ( R12 . B27 ) = ( 0 )));
L130: (for R1 being (Element of ( NAT )) holds ( R12 . ( R11 . R1 ) ) = ( 0 ))
proof
let R1 being (Element of ( NAT ));
L131: ( R11 . R1 ) in ( rng R11 ) by SETLIM_1:4;
thus L132: thesis by L131 , L129;
end;
L133: ( R12 . ( Union R11 ) ) = ( 0 ) by L130 , L103;
thus L134: ( R12 . ( union ( rng R11 ) ) ) = ( 0 ) by L133 , CARD_3:def 4;
end;
assume L135: ( R12 . ( union ( rng R11 ) ) ) = ( 0 );
L136: ( R12 . ( Union R11 ) ) = ( 0 ) by L135 , CARD_3:def 4;
thus L137:now
let C23 being set;
assume L138: C23 in ( rng R11 );
L139: (ex B28 being (Element of ( NAT )) st C23 = ( R11 . B28 )) by L138 , SETLIM_1:4;
thus L140: ( R12 . C23 ) = ( 0 ) by L139 , L136 , L103;
end;
end;
theorem
L138: (for B29 being (Function of ( NAT ) , ( REAL )) holds (for B30 being (Function of ( NAT ) , ( ExtREAL )) holds (B29 = B30 implies ( Partial_Sums B29 ) = ( Ser B30 ))))
proof
let C24 being (Function of ( NAT ) , ( REAL ));
let C25 being (Function of ( NAT ) , ( ExtREAL ));
assume that
L139: C24 = C25;
reconsider D14 = ( Partial_Sums C24 ) as (Function of ( NAT ) , ( ExtREAL )) by FUNCT_2:7 , NUMBERS:31;
defpred S2[ (Element of ( NAT )) ] means ( D14 . $1 ) = ( ( Ser C25 ) . $1 );
L140: (for R3 being (Element of ( NAT )) holds (S2[ R3 ] implies S2[ ( R3 + 1 ) ]))
proof
let R3 being (Element of ( NAT ));
assume that
L141: ( D14 . R3 ) = ( ( Ser C25 ) . R3 );
L142: ( D14 . R3 ) = ( ( Partial_Sums C24 ) . R3 );
reconsider D15 = ( D14 . R3 ) as Real by L142;
L143: (( D14 . ( R3 + 1 ) ) = ( D15 + ( C24 . ( R3 + 1 ) ) ) & ( ( Ser C25 ) . ( R3 + 1 ) ) = ( ( ( Ser C25 ) . R3 ) + ( C25 . ( R3 + 1 ) ) )) by SERIES_1:def 1 , SUPINF_2:44;
thus L144: thesis by L143 , L139 , L141 , SUPINF_2:1;
end;
L145: ( D14 . ( 0 ) ) = ( C25 . ( 0 ) ) by L139 , SERIES_1:def 1
.= ( ( Ser C25 ) . ( 0 ) ) by SUPINF_2:44;
L146: S2[ ( 0 ) ] by L145;
L147: (for R3 being (Element of ( NAT )) holds S2[ R3 ]) from NAT_1:sch 1(L146 , L140);
thus L148: thesis by L147 , FUNCT_2:63;
end;
theorem
L149: (for B31 being (Function of ( NAT ) , ( REAL )) holds (for B32 being (Function of ( NAT ) , ( ExtREAL )) holds ((B31 = B32 & B31 is  bounded_above) implies ( upper_bound B31 ) = ( sup ( rng B32 ) ))))
proof
let C26 being (Function of ( NAT ) , ( REAL ));
let C27 being (Function of ( NAT ) , ( ExtREAL ));
assume that
L150: C26 = C27
and
L151: C26 is  bounded_above;
reconsider D16 = ( upper_bound C26 ) as R_eal by XXREAL_0:def 1;
L152: ( dom C27 ) = ( NAT ) by FUNCT_2:def 1;
L153: ( rng C27 ) <> { ( -infty ) }
proof
assume L154: ( rng C27 ) = { ( -infty ) };
reconsider D17 = ( -infty ) as (Element of ( rng C27 )) by L154 , TARSKI:def 1;
consider C28 being set such that L155: C28 in ( NAT ) and L156: ( C27 . C28 ) = D17 by L152 , FUNCT_1:def 3;
reconsider D18 = C28 as (Element of ( NAT )) by L155;
L157: ( C26 . D18 ) = D17 by L150;
thus L158: contradiction by L157;
end;
L159: (for B33 being  ext-real number holds (B33 in ( rng C27 ) implies B33 <= D16))
proof
let C29 being  ext-real number;
assume L160: C29 in ( rng C27 );
L161: (ex B34 being set st (B34 in ( NAT ) & ( C27 . B34 ) = C29)) by L160 , L152 , FUNCT_1:def 3;
thus L162: thesis by L161 , L150 , L151 , RINFSUP1:7;
end;
L163: D16 is (UpperBound of ( rng C27 )) by L159 , XXREAL_2:def 1;
L164: ( rng C27 ) is  bounded_above by L163 , XXREAL_2:def 10;
L165: D16 <= ( sup ( rng C27 ) )
proof
reconsider D19 = ( sup ( rng C27 ) ) as Real by L164 , L153 , XXREAL_2:57;
L166: ( sup ( rng C27 ) ) is (UpperBound of ( rng C27 )) by XXREAL_2:def 3;
L167: (for R1 being (Element of ( NAT )) holds ( C26 . R1 ) <= D19) by L166 , L150 , L152 , FUNCT_1:3 , XXREAL_2:def 1;
thus L168: thesis by L167 , RINFSUP1:9;
end;
L169: ( sup ( rng C27 ) ) <= D16 by L163 , XXREAL_2:def 3;
thus L170: thesis by L169 , L165 , XXREAL_0:1;
end;
theorem
L171: (for B35 being (Function of ( NAT ) , ( REAL )) holds (for B36 being (Function of ( NAT ) , ( ExtREAL )) holds ((B35 = B36 & B35 is  bounded_below) implies ( lower_bound B35 ) = ( inf ( rng B36 ) ))))
proof
let C30 being (Function of ( NAT ) , ( REAL ));
let C31 being (Function of ( NAT ) , ( ExtREAL ));
assume that
L172: C30 = C31
and
L173: C30 is  bounded_below;
reconsider D20 = ( lower_bound C30 ) as R_eal by XXREAL_0:def 1;
L174: ( dom C31 ) = ( NAT ) by FUNCT_2:def 1;
L175: ( rng C31 ) <> { ( +infty ) }
proof
assume L176: ( rng C31 ) = { ( +infty ) };
reconsider D21 = ( +infty ) as (Element of ( rng C31 )) by L176 , TARSKI:def 1;
consider C32 being set such that L177: C32 in ( NAT ) and L178: ( C31 . C32 ) = D21 by L174 , FUNCT_1:def 3;
reconsider D22 = C32 as (Element of ( NAT )) by L177;
L179: ( C30 . D22 ) = D21 by L172;
thus L180: contradiction by L179;
end;
L181: (for B37 being  ext-real number holds (B37 in ( rng C31 ) implies D20 <= B37))
proof
let C33 being  ext-real number;
assume L182: C33 in ( rng C31 );
L183: (ex B38 being set st (B38 in ( NAT ) & ( C31 . B38 ) = C33)) by L182 , L174 , FUNCT_1:def 3;
thus L184: thesis by L183 , L172 , L173 , RINFSUP1:8;
end;
L185: D20 is (LowerBound of ( rng C31 )) by L181 , XXREAL_2:def 2;
L186: ( rng C31 ) is  bounded_below by L185 , XXREAL_2:def 9;
L187: ( inf ( rng C31 ) ) <= D20
proof
reconsider D23 = ( inf ( rng C31 ) ) as Real by L186 , L175 , XXREAL_2:58;
L188: ( inf ( rng C31 ) ) is (LowerBound of ( rng C31 )) by XXREAL_2:def 4;
L189: (for R1 being (Element of ( NAT )) holds D23 <= ( C30 . R1 )) by L188 , L172 , L174 , FUNCT_1:3 , XXREAL_2:def 2;
thus L190: thesis by L189 , RINFSUP1:10;
end;
L191: D20 <= ( inf ( rng C31 ) ) by L185 , XXREAL_2:def 4;
thus L192: thesis by L191 , L187 , XXREAL_0:1;
end;
theorem
L193: (for B39 being (Function of ( NAT ) , ( REAL )) holds (for B40 being (Function of ( NAT ) , ( ExtREAL )) holds ((B39 = B40 & B39 is  nonnegative  summable) implies ( Sum B39 ) = ( SUM B40 ))))
proof
let C34 being (Function of ( NAT ) , ( REAL ));
let C35 being (Function of ( NAT ) , ( ExtREAL ));
assume that
L194: C34 = C35
and
L195: C34 is  nonnegative  summable;
L196: (for R1 being (Element of ( NAT )) holds ( C34 . R1 ) >= ( 0 )) by L195 , RINFSUP1:def 3;
L197: ( Partial_Sums C34 ) is  convergent by L195 , SERIES_1:def 2;
L198: ( Partial_Sums C34 ) is  bounded by L197;
L199: ( upper_bound ( Partial_Sums C34 ) ) = ( sup ( rng ( Ser C35 ) ) ) by L198 , L194 , L138 , L149;
L200: ( upper_bound ( Partial_Sums C34 ) ) = ( SUM C35 ) by L199 , SUPINF_2:def 17;
thus L201: thesis by L200 , L198 , L196 , RINFSUP1:24 , SERIES_1:16;
end;
theorem
L202: (for R9 being non  empty set holds (for R10 being (SigmaField of R9) holds (for R12 being (Probability of R10) holds R12 is (sigma_Measure of R10))))
proof
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
set D24 = R10;
reconsider D25 = R12 as (Function of D24 , ( ExtREAL )) by FUNCT_2:7 , NUMBERS:31;
L203: (for B41 being R_eal holds (B41 in ( rng D25 ) implies ( 0. ) <= B41))
proof
let C36 being R_eal;
assume L204: C36 in ( rng D25 );
L205: ( dom D25 ) = R10 by FUNCT_2:def 1;
consider C37 being set such that L206: C37 in R10 and L207: ( D25 . C37 ) = C36 by L205 , L204 , FUNCT_1:def 3;
reconsider D26 = C37 as (Event of R10) by L206;
L208: ( 0 ) <= ( R12 . D26 ) by PROB_1:def 8;
thus L209: thesis by L208 , L207;
end;
L210: ( rng D25 ) is  nonnegative by L203 , SUPINF_2:def 9;
L211: (for B42 being (Sep_Sequence of D24) holds ( SUM ( D25 * B42 ) ) = ( D25 . ( union ( rng B42 ) ) ))
proof
let C38 being (Sep_Sequence of D24);
reconsider D27 = C38 as  disjoint_valued (SetSequence of R10) by L20;
L212: (for R1 being (Element of ( NAT )) holds ( ( R12 * D27 ) . R1 ) >= ( 0 )) by PROB_3:4;
L213: ( R12 * D27 ) is  nonnegative by L212 , RINFSUP1:def 3;
L214: ( Partial_Sums ( R12 * D27 ) ) is  convergent by PROB_3:45;
L215: ( R12 * D27 ) is  summable by L214 , SERIES_1:def 2;
L216: (( R12 . ( Union D27 ) ) = ( Sum ( R12 * D27 ) ) & ( Sum ( R12 * D27 ) ) = ( SUM ( D25 * C38 ) )) by L215 , L213 , L193 , PROB_3:46;
thus L217: thesis by L216 , CARD_3:def 4;
end;
thus L218: thesis by L211 , L210 , MEASURE1:def 6 , SUPINF_2:def 16;
end;
definition
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
func P2M R12 -> (sigma_Measure of R10) equals 
R12;
coherence by L202;
end;
theorem
L220: (for B43 being non  empty set holds (for B44 being (SigmaField of B43) holds (for B45 being (sigma_Measure of B44) holds (( B45 . B43 ) = ( R_EAL 1 ) implies B45 is (Probability of B44)))))
proof
let C39 being non  empty set;
let C40 being (SigmaField of C39);
let C41 being (sigma_Measure of C40);
assume that
L221: ( C41 . C39 ) = ( R_EAL 1 );
L222: (for B46 being (Element of C40) holds ( C41 . B46 ) <= ( R_EAL 1 ))
proof
reconsider D28 = C39 as (Element of C40) by PROB_1:5;
let C42 being (Element of C40);
L223: ( C41 . C42 ) <= ( C41 . D28 ) by MEASURE1:31;
thus L224: thesis by L223 , L221;
end;
L225: (for R4 being set holds (R4 in C40 implies ( C41 . R4 ) in ( REAL )))
proof
let R4 being set;
assume L226: R4 in C40;
reconsider D29 = R4 as (Element of C40) by L226;
L227: (( R_EAL 1 ) is Real & ( 0 ) is Real) by MEASURE6:def 1;
L228: (( 0. ) <= ( C41 . D29 ) & ( C41 . D29 ) <= ( R_EAL 1 )) by L222 , MEASURE1:def 2;
thus L229: thesis by L228 , L227 , XXREAL_0:45;
end;
L230: ( dom C41 ) = C40 by FUNCT_2:def 1;
reconsider D30 = C41 as (Function of C40 , ( REAL )) by L230 , L225 , FUNCT_2:3;
reconsider D31 = D30 as (Function of C40 , ( REAL ));
L231: (for B47 being (SetSequence of C40) holds (B47 is  non-ascending implies (( D31 * B47 ) is  convergent & ( lim ( D31 * B47 ) ) = ( D31 . ( Intersection B47 ) ))))
proof
let C43 being (SetSequence of C40);
assume that
L232: C43 is  non-ascending;
L233: (for R1 being (Element of ( NAT )) holds ( 0 ) <= ( ( D31 * C43 ) . R1 ))
proof
let R1 being (Element of ( NAT ));
reconsider D32 = ( C43 . R1 ) as (Event of C40);
L234: (( 0 ) <= ( D31 . D32 ) & ( dom ( D31 * C43 ) ) = ( NAT )) by MEASURE1:def 2 , SEQ_1:1;
thus L235: thesis by L234 , FUNCT_1:12;
end;
L236: ( D31 * C43 ) is  bounded_below by L233 , RINFSUP1:10;
reconsider D33 = C43 as (Function of ( NAT ) , C40) by L20;
L237: (for B48 being (Element of ( NAT )) holds ( D33 . ( B48 + 1 ) ) c= ( D33 . B48 )) by L232 , PROB_2:6;
L238: ( C41 . ( D33 . ( 0 ) ) ) < ( +infty ) by L225 , XXREAL_0:9;
L239:
now
let R1 being (Element of ( NAT ));
L240: ( dom ( C41 * D33 ) ) = ( NAT ) by FUNCT_2:def 1;
L241: (( ( C41 * D33 ) . R1 ) = ( C41 . ( D33 . R1 ) ) & ( ( C41 * D33 ) . ( R1 + 1 ) ) = ( C41 . ( D33 . ( R1 + 1 ) ) )) by L240 , FUNCT_1:12;
L242: ( D33 . ( R1 + 1 ) ) c= ( D33 . R1 ) by L232 , PROB_2:6;
thus L243: ( ( D31 * C43 ) . ( R1 + 1 ) ) <= ( ( D31 * C43 ) . R1 ) by L242 , L241 , MEASURE1:31;
end;
L244: ( D31 * C43 ) is  non-increasing by L239 , SEQM_3:def 9;
L245: ( lim ( D31 * C43 ) ) = ( lower_bound ( D31 * C43 ) ) by L244 , L236 , RINFSUP1:25
.= ( inf ( rng ( C41 * D33 ) ) ) by L236 , L171;
L246: ( lim ( D31 * C43 ) ) = ( C41 . ( meet ( rng D33 ) ) ) by L245 , L237 , L238 , MEASURE3:12
.= ( D31 . ( Intersection C43 ) ) by SETLIM_1:8;
thus L247: thesis by L246 , L236 , L244;
end;
L248: (for B49 , B50 being (Event of C40) holds (B49 misses B50 implies ( D31 . ( B49 \/ B50 ) ) = ( ( D31 . B49 ) + ( D31 . B50 ) )))
proof
let C44 , C45 being (Event of C40);
assume that
L249: C44 misses C45;
reconsider D34 = C44 , D35 = C45 as (Element of C40);
reconsider D36 = D34 , D37 = D35 as (Element of C40);
L250: ( D31 . ( D34 \/ D35 ) ) = ( ( C41 . D36 ) + ( C41 . D37 ) ) by L249 , MEASURE1:30
.= ( ( D31 . D34 ) + ( D31 . D35 ) ) by SUPINF_2:1;
thus L251: thesis by L250;
end;
L252: ((for B51 being (Event of C40) holds ( 0 ) <= ( D31 . B51 )) & ( D31 . C39 ) = 1) by L221 , MEASURE1:def 2 , MEASURE6:def 1;
thus L253: thesis by L252 , L248 , L231 , PROB_1:def 8;
end;
definition
let C46 being non  empty set;
let C47 being (SigmaField of C46);
let C48 being (sigma_Measure of C47);
assume L254: ( C48 . C46 ) = ( R_EAL 1 );
func M2P C48 -> (Probability of C47) equals 
C48;
coherence by L254 , L220;
end;
L256: (for R5 being set holds (for R6 being (SetSequence of R5) holds (R6 is  non-descending implies (for R1 being (Element of ( NAT )) holds ( ( Partial_Union R6 ) . R1 ) = ( R6 . R1 )))))
proof
let R5 being set;
let R6 being (SetSequence of R5);
defpred S3[ (Element of ( NAT )) ] means ( ( Partial_Union R6 ) . $1 ) = ( R6 . $1 );
assume L257: R6 is  non-descending;
L258: (for R3 being (Element of ( NAT )) holds (S3[ R3 ] implies S3[ ( R3 + 1 ) ]))
proof
let R3 being (Element of ( NAT ));
assume that
L259: S3[ R3 ];
L260: ( R6 . R3 ) c= ( R6 . ( R3 + 1 ) ) by L257 , PROB_2:7;
thus L261: ( ( Partial_Union R6 ) . ( R3 + 1 ) ) = ( ( R6 . R3 ) \/ ( R6 . ( R3 + 1 ) ) ) by L259 , PROB_3:def 2
.= ( R6 . ( R3 + 1 ) ) by L260 , XBOOLE_1:12;
end;
L262: S3[ ( 0 ) ] by PROB_3:def 2;
thus L263: (for R3 being (Element of ( NAT )) holds S3[ R3 ]) from NAT_1:sch 1(L262 , L258);
end;
theorem
L264: (for R5 being set holds (for R6 being (SetSequence of R5) holds (R6 is  non-descending implies ( Partial_Union R6 ) = R6)))
proof
let R5 being set;
let R6 being (SetSequence of R5);
assume L265: R6 is  non-descending;
L266: (for R1 being (Element of ( NAT )) holds ( ( Partial_Union R6 ) . R1 ) = ( R6 . R1 )) by L265 , L256;
thus L267: thesis by L266 , FUNCT_2:63;
end;
theorem
L268: (for R5 being set holds (for R6 being (SetSequence of R5) holds (R6 is  non-descending implies (( ( Partial_Diff_Union R6 ) . ( 0 ) ) = ( R6 . ( 0 ) ) & (for R1 being (Element of ( NAT )) holds ( ( Partial_Diff_Union R6 ) . ( R1 + 1 ) ) = ( ( R6 . ( R1 + 1 ) ) \ ( R6 . R1 ) ))))))
proof
let R5 being set;
let R6 being (SetSequence of R5);
assume L269: R6 is  non-descending;
thus L270: ( ( Partial_Diff_Union R6 ) . ( 0 ) ) = ( R6 . ( 0 ) ) by PROB_3:def 3;
thus L271: (for R1 being (Element of ( NAT )) holds ( ( Partial_Diff_Union R6 ) . ( R1 + 1 ) ) = ( ( R6 . ( R1 + 1 ) ) \ ( R6 . R1 ) ))
proof
let R1 being (Element of ( NAT ));
thus L272: ( ( Partial_Diff_Union R6 ) . ( R1 + 1 ) ) = ( ( R6 . ( R1 + 1 ) ) \ ( ( Partial_Union R6 ) . R1 ) ) by PROB_3:def 3
.= ( ( R6 . ( R1 + 1 ) ) \ ( R6 . R1 ) ) by L269 , L256;
end;

end;
theorem
L272: (for R5 being set holds (for R6 being (SetSequence of R5) holds (R6 is  non-descending implies (for R1 being (Element of ( NAT )) holds ( R6 . ( R1 + 1 ) ) = ( ( ( Partial_Diff_Union R6 ) . ( R1 + 1 ) ) \/ ( R6 . R1 ) )))))
proof
let R5 being set;
let R6 being (SetSequence of R5);
assume L273: R6 is  non-descending;
thus L274: (for R1 being (Element of ( NAT )) holds ( R6 . ( R1 + 1 ) ) = ( ( ( Partial_Diff_Union R6 ) . ( R1 + 1 ) ) \/ ( R6 . R1 ) ))
proof
let R1 being (Element of ( NAT ));
L275: ( R6 . R1 ) c= ( R6 . ( R1 + 1 ) ) by L273 , PROB_2:7;
thus L276: ( ( ( Partial_Diff_Union R6 ) . ( R1 + 1 ) ) \/ ( R6 . R1 ) ) = ( ( ( R6 . ( R1 + 1 ) ) \ ( ( Partial_Union R6 ) . R1 ) ) \/ ( R6 . R1 ) ) by PROB_3:def 3
.= ( ( ( R6 . ( R1 + 1 ) ) \ ( R6 . R1 ) ) \/ ( R6 . R1 ) ) by L273 , L256
.= ( ( R6 . ( R1 + 1 ) ) \/ ( R6 . R1 ) ) by XBOOLE_1:39
.= ( R6 . ( R1 + 1 ) ) by L275 , XBOOLE_1:12;
end;

end;
theorem
L275: (for R5 being set holds (for R6 being (SetSequence of R5) holds (R6 is  non-descending implies (for R1 being (Element of ( NAT )) holds ( ( Partial_Diff_Union R6 ) . ( R1 + 1 ) ) misses ( R6 . R1 )))))
proof
let R5 being set;
let R6 being (SetSequence of R5);
assume L276: R6 is  non-descending;
let R1 being (Element of ( NAT ));
L277: ( ( Partial_Diff_Union R6 ) . ( R1 + 1 ) ) = ( ( R6 . ( R1 + 1 ) ) \ ( R6 . R1 ) ) by L276 , L268;
thus L278: thesis by L277 , XBOOLE_1:79;
end;
theorem
L279: (for R5 being set holds (for R7 being (SigmaField of R5) holds (for R8 being (SetSequence of R7) holds (R8 is  non-descending implies ( Partial_Union R8 ) = R8)))) by L264;
theorem
L280: (for R5 being set holds (for R7 being (SigmaField of R5) holds (for R8 being (SetSequence of R7) holds (R8 is  non-descending implies (( ( Partial_Diff_Union R8 ) . ( 0 ) ) = ( R8 . ( 0 ) ) & (for R1 being (Element of ( NAT )) holds ( ( Partial_Diff_Union R8 ) . ( R1 + 1 ) ) = ( ( R8 . ( R1 + 1 ) ) \ ( R8 . R1 ) ))))))) by L268;
theorem
L281: (for R5 being set holds (for R7 being (SigmaField of R5) holds (for R8 being (SetSequence of R7) holds (R8 is  non-descending implies (for R1 being (Element of ( NAT )) holds ( ( Partial_Diff_Union R8 ) . ( R1 + 1 ) ) misses ( R8 . R1 )))))) by L275;
definition
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
pred R12 is_complete R10
means
:L282: (for B52 being (Subset of R9) holds (for B53 being set holds (B53 in R10 implies ((B52 c= B53 & ( R12 . B53 ) = ( 0 )) implies B52 in R10))))
;end;
theorem
L284: (for R9 being non  empty set holds (for R10 being (SigmaField of R9) holds (for R12 being (Probability of R10) holds (R12 is_complete R10 iff ( P2M R12 ) is_complete R10))))
proof
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
thus L285:now
assume L286: R12 is_complete R10;
L287: (for B54 being (Subset of R9) holds (for B55 being set holds (B55 in R10 implies ((B54 c= B55 & ( ( P2M R12 ) . B55 ) = ( 0. )) implies B54 in R10)))) by L286 , L282;
thus L288: ( P2M R12 ) is_complete R10 by L287 , MEASURE3:def 1;
end;
assume L289: ( P2M R12 ) is_complete R10;
L290: (for B56 being (Subset of R9) holds (for B57 being set holds (B57 in R10 implies ((B56 c= B57 & ( R12 . B57 ) = ( 0 )) implies B56 in R10)))) by L289 , MEASURE3:def 1;
thus L291: thesis by L290 , L282;
end;
definition
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
mode thin of R12
 -> (Subset of R9)
means :L292: (ex B58 being set st (B58 in R10 & it c= B58 & ( R12 . B58 ) = ( 0 )));
existence
proof
reconsider D38 = ( {} ) as (Subset of R9) by XBOOLE_1:2;
take D38;
take D39 = ( {} );
thus L293: D39 in R10 by PROB_1:4;
thus L294: D38 c= D39;
thus L295: thesis by VALUED_0:def 19;
end;
end;
theorem
L297: (for R9 being non  empty set holds (for R10 being (SigmaField of R9) holds (for R12 being (Probability of R10) holds (for B59 being (Subset of R9) holds (B59 is (thin of R12) iff B59 is (thin of ( P2M R12 )))))))
proof
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
let C49 being (Subset of R9);
thus L298:now
assume L299: C49 is (thin of R12);
L300: (ex B60 being set st (B60 in R10 & C49 c= B60 & ( R12 . B60 ) = ( 0 ))) by L299 , L292;
thus L301: C49 is (thin of ( P2M R12 )) by L300 , MEASURE3:def 2;
end;
assume L302: C49 is (thin of ( P2M R12 ));
L303: (ex B61 being set st (B61 in R10 & C49 c= B61 & ( ( P2M R12 ) . B61 ) = ( 0. ))) by L302 , MEASURE3:def 2;
thus L304: thesis by L303 , L292;
end;
theorem
L305: (for R9 being non  empty set holds (for R10 being (SigmaField of R9) holds (for R12 being (Probability of R10) holds ( {} ) is (thin of R12))))
proof
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
L306: (( R12 . ( {} ) ) = ( 0 ) & ( {} ) in R10) by PROB_1:4 , VALUED_0:def 19;
thus L307: thesis by L306 , L292;
end;
theorem
L308: (for R9 being non  empty set holds (for R10 being (SigmaField of R9) holds (for R12 being (Probability of R10) holds (for B62 , B63 being set holds ((B62 in R10 & B63 in R10) implies (for B64 , B65 being (thin of R12) holds (( B62 \/ B64 ) = ( B63 \/ B65 ) implies ( R12 . B62 ) = ( R12 . B63 ))))))))
proof
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
let C50 , C51 being set;
assume L309: (C50 in R10 & C51 in R10);
let C52 , C53 being (thin of R12);
assume L310: ( C50 \/ C52 ) = ( C51 \/ C53 );
L311: C50 c= ( C51 \/ C53 ) by L310 , XBOOLE_1:7;
L312: C51 c= ( C50 \/ C52 ) by L310 , XBOOLE_1:7;
consider C54 being set such that L313: C54 in R10 and L314: C52 c= C54 and L315: ( R12 . C54 ) = ( 0 ) by L292;
L316: ( C50 \/ C52 ) c= ( C50 \/ C54 ) by L314 , XBOOLE_1:9;
consider C55 being set such that L317: C55 in R10 and L318: C53 c= C55 and L319: ( R12 . C55 ) = ( 0 ) by L292;
L320: ( C51 \/ C53 ) c= ( C51 \/ C55 ) by L318 , XBOOLE_1:9;
reconsider D40 = C50 , D41 = C51 , D42 = C54 , D43 = C55 as (Event of R10) by L309 , L313 , L317;
L321: ( R12 . ( D40 \/ D42 ) ) <= ( ( R12 . D40 ) + ( R12 . D42 ) ) by PROB_1:39;
L322: ( R12 . D41 ) <= ( R12 . ( D40 \/ D42 ) ) by L312 , L316 , PROB_1:34 , XBOOLE_1:1;
L323: ( R12 . D41 ) <= ( R12 . D40 ) by L322 , L315 , L321 , XXREAL_0:2;
L324: ( R12 . ( D41 \/ D43 ) ) <= ( ( R12 . D41 ) + ( R12 . D43 ) ) by PROB_1:39;
L325: ( R12 . D40 ) <= ( R12 . ( D41 \/ D43 ) ) by L311 , L320 , PROB_1:34 , XBOOLE_1:1;
L326: ( R12 . D40 ) <= ( R12 . D41 ) by L325 , L319 , L324 , XXREAL_0:2;
thus L327: thesis by L326 , L323 , XXREAL_0:1;
end;
definition
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
func COM (R10 , R12) -> non  empty (Subset-Family of R9) means 
:L328: (for B66 being set holds (B66 in it iff (ex B67 being set st (B67 in R10 & (ex B68 being (thin of R12) st B66 = ( B67 \/ B68 ))))));
existence
proof
L329: ( {} ) is (thin of R12) by L305;
L330: (for B69 being set holds (B69 = ( {} ) implies (ex B70 being set st (B70 in R10 & (ex B71 being (thin of R12) st B69 = ( B70 \/ B71 ))))))
proof
let C56 being set;
consider C57 being set such that L331: C57 = ( {} ) and L332: C57 in R10 by PROB_1:4;
consider C58 being (thin of R12) such that L333: C58 = ( {} ) by L329;
assume L334: C56 = ( {} );
L335: C56 = ( C57 \/ C58 ) by L334 , L331 , L333;
thus L336: thesis by L335 , L332;
end;
defpred S4[ set ] means (for B72 being set holds (B72 = $1 implies (ex B73 being set st (B73 in R10 & (ex B74 being (thin of R12) st B72 = ( B73 \/ B74 ))))));
consider C59 being set such that L337: (for B75 being set holds (B75 in C59 iff (B75 in ( bool R9 ) & S4[ B75 ]))) from XBOOLE_0:sch 1;
L338: (for B76 being set holds (B76 in C59 iff (ex B77 being set st (B77 in R10 & (ex B78 being (thin of R12) st B76 = ( B77 \/ B78 ))))))
proof
let C60 being set;
L339: (C60 in C59 iff (C60 in ( bool R9 ) & (for B79 being set holds (B79 = C60 implies (ex B80 being set st (B80 in R10 & (ex B81 being (thin of R12) st B79 = ( B80 \/ B81 )))))))) by L337;
L340: ((ex B82 being set st (B82 in R10 & (ex B83 being (thin of R12) st C60 = ( B82 \/ B83 )))) implies C60 in C59)
proof
assume L341: (ex B84 being set st (B84 in R10 & (ex B85 being (thin of R12) st C60 = ( B84 \/ B85 ))));
L342: C60 c= R9 by L341 , XBOOLE_1:8;
thus L343: thesis by L342 , L339 , L341;
end;
thus L344: thesis by L340 , L337;
end;
L345: C59 c= ( bool R9 )
proof
let C61 being set;
assume L346: C61 in C59;
thus L347: thesis by L346 , L337;
end;
L348: ( {} ) c= R9 by XBOOLE_1:2;
reconsider D44 = C59 as non  empty (Subset-Family of R9) by L348 , L337 , L345 , L330;
take D44;
thus L349: thesis by L338;
end;
uniqueness
proof
let C62 , C63 being non  empty (Subset-Family of R9);
assume that
L350: (for B86 being set holds (B86 in C62 iff (ex B87 being set st (B87 in R10 & (ex B88 being (thin of R12) st B86 = ( B87 \/ B88 ))))))
and
L351: (for B89 being set holds (B89 in C63 iff (ex B90 being set st (B90 in R10 & (ex B91 being (thin of R12) st B89 = ( B90 \/ B91 ))))));
L352: (for B92 being set holds (B92 in C62 iff B92 in C63))
proof
let C64 being set;
thus L353: (C64 in C62 implies C64 in C63)
proof
assume L354: C64 in C62;
L355: (ex B93 being set st (B93 in R10 & (ex B94 being (thin of R12) st C64 = ( B93 \/ B94 )))) by L354 , L350;
thus L356: thesis by L355 , L351;
end;

assume L357: C64 in C63;
L358: (ex B95 being set st (B95 in R10 & (ex B96 being (thin of R12) st C64 = ( B95 \/ B96 )))) by L357 , L351;
thus L359: thesis by L358 , L350;
end;
thus L360: thesis by L352 , TARSKI:1;
end;
end;
theorem
L362: (for R9 being non  empty set holds (for R10 being (SigmaField of R9) holds (for R12 being (Probability of R10) holds (for B97 being (thin of R12) holds B97 in ( COM (R10 , R12) )))))
proof
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
let C65 being (thin of R12);
reconsider D45 = ( {} ) as (Element of R10) by PROB_1:4;
L363: ( D45 \/ C65 ) in ( COM (R10 , R12) ) by L328;
thus L364: thesis by L363;
end;
theorem
L365: (for R9 being non  empty set holds (for R10 being (SigmaField of R9) holds (for R12 being (Probability of R10) holds ( COM (R10 , R12) ) = ( COM (R10 , ( P2M R12 )) ))))
proof
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
L366: ( COM (R10 , ( P2M R12 )) ) c= ( COM (R10 , R12) )
proof
let R4 being set;
assume L367: R4 in ( COM (R10 , ( P2M R12 )) );
consider C66 being set such that L368: C66 in R10 and L369: (ex B98 being (thin of ( P2M R12 )) st R4 = ( C66 \/ B98 )) by L367 , MEASURE3:def 3;
consider C67 being (thin of ( P2M R12 )) such that L370: R4 = ( C66 \/ C67 ) by L369;
reconsider D46 = C67 as (thin of R12) by L297;
L371: R4 = ( C66 \/ D46 ) by L370;
thus L372: thesis by L371 , L368 , L328;
end;
L373: ( COM (R10 , R12) ) c= ( COM (R10 , ( P2M R12 )) )
proof
let R4 being set;
assume L374: R4 in ( COM (R10 , R12) );
consider C68 being set such that L375: C68 in R10 and L376: (ex B99 being (thin of R12) st R4 = ( C68 \/ B99 )) by L374 , L328;
consider C69 being (thin of R12) such that L377: R4 = ( C68 \/ C69 ) by L376;
reconsider D47 = C69 as (thin of ( P2M R12 )) by L297;
L378: R4 = ( C68 \/ D47 ) by L377;
thus L379: thesis by L378 , L375 , MEASURE3:def 3;
end;
thus L380: thesis by L373 , L366 , XBOOLE_0:def 10;
end;
definition
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
let C70 being (Element of ( COM (R10 , R12) ));
func P_COM2M_COM C70 -> (Element of ( COM (R10 , ( P2M R12 )) )) equals 
C70;
correctness by L365;
end;
theorem
L382: (for R9 being non  empty set holds (for R10 being (SigmaField of R9) holds (for R12 being (Probability of R10) holds R10 c= ( COM (R10 , R12) ))))
proof
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
reconsider D48 = ( {} ) as (thin of R12) by L305;
let C71 being set;
assume that
L383: C71 in R10;
L384: C71 = ( C71 \/ D48 );
thus L385: thesis by L384 , L383 , L328;
end;
definition
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
let C72 being (Element of ( COM (R10 , R12) ));
func ProbPart C72 -> non  empty (Subset-Family of R9) means 
:L386: (for B100 being set holds (B100 in it iff (B100 in R10 & B100 c= C72 & ( C72 \ B100 ) is (thin of R12))));
existence
proof
defpred S5[ set ] means (for B101 being set holds (B101 = $1 implies (B101 in R10 & B101 c= C72 & ( C72 \ B101 ) is (thin of R12))));
consider C73 being set such that L387: (for B102 being set holds (B102 in C73 iff (B102 in ( bool R9 ) & S5[ B102 ]))) from XBOOLE_0:sch 1;
L388: (for B103 being set holds (B103 in C73 iff (B103 in R10 & B103 c= C72 & ( C72 \ B103 ) is (thin of R12))))
proof
let C74 being set;
L389: ((C74 in R10 & C74 c= C72 & ( C72 \ C74 ) is (thin of R12)) implies C74 in C73)
proof
assume that
L390: C74 in R10
and
L391: (C74 c= C72 & ( C72 \ C74 ) is (thin of R12));
L392: (for B104 being set holds (B104 = C74 implies (B104 in R10 & B104 c= C72 & ( C72 \ B104 ) is (thin of R12)))) by L390 , L391;
thus L393: thesis by L392 , L387 , L390;
end;
thus L394: thesis by L389 , L387;
end;
L395: C73 c= ( bool R9 )
proof
let C75 being set;
assume L396: C75 in C73;
L397: C75 in R10 by L396 , L388;
thus L398: thesis by L397;
end;
L399: C73 <> ( {} )
proof
consider C76 being set such that L400: C76 in R10 and L401: (ex B105 being (thin of R12) st C72 = ( C76 \/ B105 )) by L328;
consider C77 being (thin of R12) such that L402: C72 = ( C76 \/ C77 ) by L401;
consider C78 being set such that L403: C78 in R10 and L404: C77 c= C78 and L405: ( R12 . C78 ) = ( 0 ) by L292;
L406: ( C72 \ C76 ) = ( C77 \ C76 ) by L402 , XBOOLE_1:40;
L407: ( C72 \ C76 ) c= C77 by L406 , XBOOLE_1:36;
L408: ( C72 \ C76 ) c= C78 by L407 , L404 , XBOOLE_1:1;
L409: ( C72 \ C76 ) is (thin of R12) by L408 , L403 , L405 , L292;
L410: C76 c= C72 by L402 , XBOOLE_1:7;
thus L411: thesis by L410 , L388 , L400 , L409;
end;
reconsider D49 = C73 as non  empty (Subset-Family of R9) by L399 , L395;
take D49;
thus L412: thesis by L388;
end;
uniqueness
proof
let C79 , C80 being non  empty (Subset-Family of R9);
assume that
L413: (for B106 being set holds (B106 in C79 iff (B106 in R10 & B106 c= C72 & ( C72 \ B106 ) is (thin of R12))))
and
L414: (for B107 being set holds (B107 in C80 iff (B107 in R10 & B107 c= C72 & ( C72 \ B107 ) is (thin of R12))));
L415: (for B108 being set holds (B108 in C79 iff B108 in C80))
proof
let C81 being set;
thus L416: (C81 in C79 implies C81 in C80)
proof
assume L417: C81 in C79;
L418: ( C72 \ C81 ) is (thin of R12) by L417 , L413;
L419: (C81 in R10 & C81 c= C72) by L413 , L417;
thus L420: thesis by L419 , L414 , L418;
end;

assume L421: C81 in C80;
L422: ( C72 \ C81 ) is (thin of R12) by L421 , L414;
L423: (C81 in R10 & C81 c= C72) by L414 , L421;
thus L424: thesis by L423 , L413 , L422;
end;
thus L425: thesis by L415 , TARSKI:1;
end;
end;
theorem
L427: (for R9 being non  empty set holds (for R10 being (SigmaField of R9) holds (for R12 being (Probability of R10) holds (for B109 being (Element of ( COM (R10 , R12) )) holds ( ProbPart B109 ) = ( MeasPart ( P_COM2M_COM B109 ) )))))
proof
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
let C82 being (Element of ( COM (R10 , R12) ));
L428: ( MeasPart ( P_COM2M_COM C82 ) ) c= ( ProbPart C82 )
proof
let C83 being set;
assume that
L429: C83 in ( MeasPart ( P_COM2M_COM C82 ) );
L430: ( ( P_COM2M_COM C82 ) \ C83 ) is (thin of ( P2M R12 )) by L429 , MEASURE3:def 4;
L431: ( C82 \ C83 ) is (thin of R12) by L430 , L297;
L432: (C83 in R10 & C83 c= ( P_COM2M_COM C82 )) by L429 , MEASURE3:def 4;
thus L433: thesis by L432 , L431 , L386;
end;
L434: ( ProbPart C82 ) c= ( MeasPart ( P_COM2M_COM C82 ) )
proof
let C84 being set;
assume that
L435: C84 in ( ProbPart C82 );
L436: ( C82 \ C84 ) is (thin of R12) by L435 , L386;
L437: ( ( P_COM2M_COM C82 ) \ C84 ) is (thin of ( P2M R12 )) by L436 , L297;
L438: (C84 in R10 & C84 c= C82) by L435 , L386;
thus L439: thesis by L438 , L437 , MEASURE3:def 4;
end;
thus L440: thesis by L434 , L428 , XBOOLE_0:def 10;
end;
theorem
L441: (for R9 being non  empty set holds (for R10 being (SigmaField of R9) holds (for R12 being (Probability of R10) holds (for B110 being (Element of ( COM (R10 , R12) )) holds (for B111 , B112 being set holds ((B111 in ( ProbPart B110 ) & B112 in ( ProbPart B110 )) implies ( R12 . B111 ) = ( R12 . B112 )))))))
proof
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
let C85 being (Element of ( COM (R10 , R12) ));
let C86 , C87 being set;
assume that
L442: C86 in ( ProbPart C85 )
and
L443: C87 in ( ProbPart C85 );
reconsider D50 = ( C85 \ C86 ) , D51 = ( C85 \ C87 ) as (thin of R12) by L442 , L443 , L386;
L444: C87 c= C85 by L443 , L386;
L445: C86 c= C85 by L442 , L386;
L446: ( C86 \/ D50 ) = C85 by L445 , XBOOLE_1:45
.= ( C87 \/ D51 ) by L444 , XBOOLE_1:45;
L447: (C86 in R10 & C87 in R10) by L442 , L443 , L386;
thus L448: thesis by L447 , L446 , L308;
end;
theorem
L449: (for R9 being non  empty set holds (for R10 being (SigmaField of R9) holds (for R12 being (Probability of R10) holds (for B113 being (Function of ( NAT ) , ( COM (R10 , R12) )) holds (ex B114 being (SetSequence of R10) st (for R1 being (Element of ( NAT )) holds ( B114 . R1 ) in ( ProbPart ( B113 . R1 ) )))))))
proof
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
let C88 being (Function of ( NAT ) , ( COM (R10 , R12) ));
defpred S6[ (Element of ( NAT )) , set ] means (for B115 being (Element of ( NAT )) holds (for B116 being set holds ((B115 = $1 & B116 = $2) implies B116 in ( ProbPart ( C88 . B115 ) ))));
L450: (for B117 being (Element of ( NAT )) holds (ex B118 being (Element of R10) st S6[ B117 , B118 ]))
proof
let C89 being (Element of ( NAT ));
set D52 = the (Element of ( ProbPart ( C88 . C89 ) ));
reconsider D53 = D52 as (Element of R10) by L386;
take D53;
thus L451: thesis;
end;
L452: (ex B119 being (Function of ( NAT ) , R10) st (for B120 being (Element of ( NAT )) holds S6[ B120 , ( B119 . B120 ) ])) from FUNCT_2:sch 3(L450);
consider C90 being (Function of ( NAT ) , R10) such that L453: (for B121 being (Element of ( NAT )) holds (for B122 being (Element of ( NAT )) holds (for B123 being set holds ((B122 = B121 & B123 = ( C90 . B121 )) implies B123 in ( ProbPart ( C88 . B122 ) ))))) by L452;
reconsider D54 = C90 as (SetSequence of R9) by FUNCT_2:7;
reconsider D55 = D54 as (SetSequence of R10);
take D55;
thus L454: thesis by L453;
end;
theorem
L455: (for R9 being non  empty set holds (for R10 being (SigmaField of R9) holds (for R12 being (Probability of R10) holds (for B124 being (Function of ( NAT ) , ( COM (R10 , R12) )) holds (for B125 being (SetSequence of R10) holds (ex B126 being (SetSequence of R9) st (for R1 being (Element of ( NAT )) holds ( B126 . R1 ) = ( ( B124 . R1 ) \ ( B125 . R1 ) ))))))))
proof
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
let C91 being (Function of ( NAT ) , ( COM (R10 , R12) ));
let C92 being (SetSequence of R10);
defpred S7[ (Element of ( NAT )) , set ] means (for B127 being (Element of ( NAT )) holds (for B128 being set holds ((B127 = $1 & B128 = $2) implies B128 = ( ( C91 . B127 ) \ ( C92 . B127 ) ))));
L456: (for B129 being (Element of ( NAT )) holds (ex B130 being (Element of ( bool R9 )) st S7[ B129 , B130 ]))
proof
let C93 being (Element of ( NAT ));
L457: ( C91 . C93 ) is (Element of ( COM (R10 , R12) ));
reconsider D56 = ( ( C91 . C93 ) \ ( C92 . C93 ) ) as (Element of ( bool R9 )) by L457 , XBOOLE_1:1;
take D56;
thus L458: thesis;
end;
L459: (ex B131 being (Function of ( NAT ) , ( bool R9 )) st (for B132 being (Element of ( NAT )) holds S7[ B132 , ( B131 . B132 ) ])) from FUNCT_2:sch 3(L456);
consider C94 being (Function of ( NAT ) , ( bool R9 )) such that L460: (for B133 being (Element of ( NAT )) holds (for B134 being (Element of ( NAT )) holds (for B135 being set holds ((B134 = B133 & B135 = ( C94 . B133 )) implies B135 = ( ( C91 . B134 ) \ ( C92 . B134 ) ))))) by L459;
take C94;
thus L461: thesis by L460;
end;
theorem
L462: (for R9 being non  empty set holds (for R10 being (SigmaField of R9) holds (for R12 being (Probability of R10) holds (for B136 being (SetSequence of R9) holds ((for R1 being (Element of ( NAT )) holds ( B136 . R1 ) is (thin of R12)) implies (ex B137 being (SetSequence of R10) st (for R1 being (Element of ( NAT )) holds (( B136 . R1 ) c= ( B137 . R1 ) & ( R12 . ( B137 . R1 ) ) = ( 0 )))))))))
proof
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
let C95 being (SetSequence of R9);
defpred S8[ (Element of ( NAT )) , set ] means (for B138 being (Element of ( NAT )) holds (for B139 being set holds ((B138 = $1 & B139 = $2) implies (B139 in R10 & ( C95 . B138 ) c= B139 & ( R12 . B139 ) = ( 0 )))));
assume L463: (for R1 being (Element of ( NAT )) holds ( C95 . R1 ) is (thin of R12));
L464: (for B140 being (Element of ( NAT )) holds (ex B141 being (Element of R10) st S8[ B140 , B141 ]))
proof
let C96 being (Element of ( NAT ));
L465: ( C95 . C96 ) is (thin of R12) by L463;
consider C97 being set such that L466: C97 in R10 and L467: (( C95 . C96 ) c= C97 & ( R12 . C97 ) = ( 0 )) by L465 , L292;
reconsider D57 = C97 as (Element of R10) by L466;
take D57;
thus L468: thesis by L467;
end;
L469: (ex B142 being (Function of ( NAT ) , R10) st (for B143 being (Element of ( NAT )) holds S8[ B143 , ( B142 . B143 ) ])) from FUNCT_2:sch 3(L464);
consider C98 being (Function of ( NAT ) , R10) such that L470: (for B144 being (Element of ( NAT )) holds (for B145 being (Element of ( NAT )) holds (for B146 being set holds ((B145 = B144 & B146 = ( C98 . B144 )) implies (B146 in R10 & ( C95 . B145 ) c= B146 & ( R12 . B146 ) = ( 0 )))))) by L469;
reconsider D58 = C98 as (SetSequence of R9) by FUNCT_2:7;
reconsider D59 = D58 as (SetSequence of R10);
take D59;
thus L471: thesis by L470;
end;
theorem
L472: (for R9 being non  empty set holds (for R10 being (SigmaField of R9) holds (for R12 being (Probability of R10) holds (for B147 being non  empty (Subset-Family of R9) holds ((for B148 being set holds (B148 in B147 iff (ex B149 being set st (B149 in R10 & (ex B150 being (thin of R12) st B148 = ( B149 \/ B150 )))))) implies B147 is (SigmaField of R9))))))
proof
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
let C99 being non  empty (Subset-Family of R9);
assume L473: (for B151 being set holds (B151 in C99 iff (ex B152 being set st (B152 in R10 & (ex B153 being (thin of R12) st B151 = ( B152 \/ B153 ))))));
L474: (for B154 being (SetSequence of R9) holds (( rng B154 ) c= C99 implies ( Union B154 ) in C99))
proof
let C100 being (SetSequence of R9);
reconsider D60 = C100 as (Function of ( NAT ) , ( bool R9 ));
L475: ( dom D60 ) = ( NAT ) by FUNCT_2:def 1;
assume L476: ( rng C100 ) c= C99;
L477: (for R1 being (Element of ( NAT )) holds (ex B155 being set st (B155 in R10 & (ex B156 being (thin of R12) st ( D60 . R1 ) = ( B155 \/ B156 )))))
proof
let R1 being (Element of ( NAT ));
L478: ( D60 . R1 ) in ( rng D60 ) by NAT_1:51;
thus L479: thesis by L478 , L473 , L476;
end;
L480: (for R1 being (Element of ( NAT )) holds ( D60 . R1 ) in ( COM (R10 , R12) ))
proof
let R1 being (Element of ( NAT ));
L481: (ex B157 being set st (B157 in R10 & (ex B158 being (thin of R12) st ( D60 . R1 ) = ( B157 \/ B158 )))) by L477;
thus L482: thesis by L481 , L328;
end;
L483: (for B159 being set holds (B159 in ( NAT ) implies ( D60 . B159 ) in ( COM (R10 , R12) ))) by L480;
reconsider D61 = D60 as (Function of ( NAT ) , ( COM (R10 , R12) )) by L483 , L475 , FUNCT_2:3;
consider C101 being (SetSequence of R10) such that L484: (for R1 being (Element of ( NAT )) holds ( C101 . R1 ) in ( ProbPart ( D61 . R1 ) )) by L449;
consider C102 being (SetSequence of R9) such that L485: (for R1 being (Element of ( NAT )) holds ( C102 . R1 ) = ( ( D61 . R1 ) \ ( C101 . R1 ) )) by L455;
L486: (for B160 being (Element of ( NAT )) holds (( C101 . B160 ) in R10 & ( C101 . B160 ) c= ( D61 . B160 ) & ( ( D61 . B160 ) \ ( C101 . B160 ) ) is (thin of R12)))
proof
let C103 being (Element of ( NAT ));
L487: ( C101 . C103 ) in ( ProbPart ( D61 . C103 ) ) by L484;
thus L488: thesis by L487 , L386;
end;
L489: (for R1 being (Element of ( NAT )) holds ( C102 . R1 ) is (thin of R12))
proof
let C104 being (Element of ( NAT ));
L490: ( ( D61 . C104 ) \ ( C101 . C104 ) ) is (thin of R12) by L486;
thus L491: thesis by L490 , L485;
end;
consider C105 being (SetSequence of R10) such that L492: (for R1 being (Element of ( NAT )) holds (( C102 . R1 ) c= ( C105 . R1 ) & ( R12 . ( C105 . R1 ) ) = ( 0 ))) by L489 , L462;
L493: ( Union C100 ) = ( union ( rng C100 ) ) by CARD_3:def 4;
L494: (ex B161 being set st (B161 in R10 & (ex B162 being (thin of R12) st ( Union C100 ) = ( B161 \/ B162 ))))
proof
set D62 = ( union ( rng C101 ) );
take D62;
L495: ( union ( rng C101 ) ) c= ( union ( rng D61 ) )
proof
let C106 being set;
assume L496: C106 in ( union ( rng C101 ) );
consider C107 being set such that L497: C106 in C107 and L498: C107 in ( rng C101 ) by L496 , TARSKI:def 4;
L499: ( dom C101 ) = ( NAT ) by FUNCT_2:def 1;
consider C108 being set such that L500: C108 in ( NAT ) and L501: C107 = ( C101 . C108 ) by L499 , L498 , FUNCT_1:def 3;
reconsider D63 = C108 as (Element of ( NAT )) by L500;
set D64 = ( D61 . D63 );
L502: ( C101 . D63 ) c= D64 by L486;
L503: (ex B163 being set st (B163 in ( rng D61 ) & C106 in B163))
proof
take D64;
thus L504: thesis by L475 , L497 , L501 , L502 , FUNCT_1:def 3;
end;
thus L505: thesis by L503 , TARSKI:def 4;
end;
L506: (ex B164 being (thin of R12) st ( Union C100 ) = ( D62 \/ B164 ))
proof
set D65 = ( ( Union C100 ) \ D62 );
L507: ( Union C105 ) in R10 by PROB_1:17;
L508: ( union ( rng C105 ) ) in R10 by L507 , CARD_3:def 4;
L509: D65 c= ( union ( rng C102 ) )
proof
let C109 being set;
assume L510: C109 in D65;
L511: C109 in ( union ( rng D61 ) ) by L510 , L493 , XBOOLE_0:def 5;
consider C110 being set such that L512: C109 in C110 and L513: C110 in ( rng D61 ) by L511 , TARSKI:def 4;
consider C111 being set such that L514: C111 in ( NAT ) and L515: C110 = ( D61 . C111 ) by L475 , L513 , FUNCT_1:def 3;
reconsider D66 = C111 as (Element of ( NAT )) by L514;
L516: (not C109 in ( union ( rng C101 ) )) by L510 , XBOOLE_0:def 5;
L517: (not C109 in ( C101 . D66 ))
proof
L518: ( dom C101 ) = ( NAT ) by FUNCT_2:def 1;
L519: ( C101 . D66 ) in ( rng C101 ) by L518 , FUNCT_1:def 3;
assume L520: C109 in ( C101 . D66 );
thus L521: thesis by L520 , L516 , L519 , TARSKI:def 4;
end;
L522: C109 in ( ( D61 . D66 ) \ ( C101 . D66 ) ) by L517 , L512 , L515 , XBOOLE_0:def 5;
L523: (ex B165 being set st (C109 in B165 & B165 in ( rng C102 )))
proof
take ( C102 . D66 );
L524: ( dom C102 ) = ( NAT ) by FUNCT_2:def 1;
thus L525: thesis by L524 , L485 , L522 , FUNCT_1:def 3;
end;
thus L526: thesis by L523 , TARSKI:def 4;
end;
L527: (for B166 being set holds (B166 in ( rng C105 ) implies ( R12 . B166 ) = ( 0 )))
proof
let C112 being set;
L528: ( dom C105 ) = ( NAT ) by FUNCT_2:def 1;
assume L529: C112 in ( rng C105 );
L530: (ex B167 being set st (B167 in ( NAT ) & C112 = ( C105 . B167 ))) by L529 , L528 , FUNCT_1:def 3;
thus L531: thesis by L530 , L492;
end;
L532: ( R12 . ( union ( rng C105 ) ) ) = ( 0 ) by L527 , L127;
L533: ( union ( rng C102 ) ) c= ( union ( rng C105 ) )
proof
let C113 being set;
assume L534: C113 in ( union ( rng C102 ) );
consider C114 being set such that L535: C113 in C114 and L536: C114 in ( rng C102 ) by L534 , TARSKI:def 4;
L537: ( dom C102 ) = ( NAT ) by FUNCT_2:def 1;
consider C115 being set such that L538: C115 in ( NAT ) and L539: C114 = ( C102 . C115 ) by L537 , L536 , FUNCT_1:def 3;
reconsider D67 = C115 as (Element of ( NAT )) by L538;
L540: D67 in ( dom C105 ) by L538 , FUNCT_2:def 1;
L541: ( C105 . D67 ) in ( rng C105 ) by L540 , FUNCT_1:def 3;
L542: ( C102 . D67 ) c= ( C105 . D67 ) by L492;
thus L543: thesis by L542 , L535 , L539 , L541 , TARSKI:def 4;
end;
L544: D65 c= ( union ( rng C105 ) ) by L533 , L509 , XBOOLE_1:1;
L545: D65 is (thin of R12) by L544 , L532 , L508 , L292;
L546: ( Union C100 ) = ( D65 \/ ( ( union ( rng D61 ) ) /\ ( union ( rng C101 ) ) ) ) by L493 , XBOOLE_1:51
.= ( D62 \/ D65 ) by L495 , XBOOLE_1:28;
consider C116 being (thin of R12) such that L547: ( Union C100 ) = ( D62 \/ C116 ) by L546 , L545;
take C116;
thus L548: thesis by L547;
end;
L549: ( Union C101 ) in R10 by PROB_1:17;
thus L550: thesis by L549 , L506 , CARD_3:def 4;
end;
thus L551: thesis by L494 , L473;
end;
L552: (for B168 being (Subset of R9) holds (B168 in C99 implies ( B168 ` ) in C99))
proof
let C117 being (Subset of R9);
assume L553: C117 in C99;
L554: (ex B169 being set st (B169 in R10 & (ex B170 being (thin of R12) st ( R9 \ C117 ) = ( B169 \/ B170 ))))
proof
consider C118 being set such that L555: C118 in R10 and L556: (ex B171 being (thin of R12) st C117 = ( C118 \/ B171 )) by L473 , L553;
consider C119 being (thin of R12) such that L557: C117 = ( C118 \/ C119 ) by L556;
reconsider D68 = C118 as (Subset of R9) by L555;
set D69 = ( R9 \ D68 );
consider C120 being set such that L558: C120 in R10 and L559: C119 c= C120 and L560: ( R12 . C120 ) = ( 0 ) by L292;
set D70 = ( D69 \ C120 );
L561: ( R9 \ C117 ) = ( D69 \ C119 ) by L557 , XBOOLE_1:41;
L562: (ex B172 being (thin of R12) st ( R9 \ C117 ) = ( D70 \/ B172 ))
proof
set D71 = ( D69 /\ ( C120 \ C119 ) );
L563: D71 c= D69 by XBOOLE_1:17;
reconsider D72 = D71 as (Subset of R9) by L563 , XBOOLE_1:1;
reconsider D73 = D72 as (thin of R12) by L558 , L560 , L292;
take D73;
thus L564: thesis by L559 , L561 , L1;
end;
take D70;
L565: ( D68 ` ) in R10 by L555 , PROB_1:def 1;
thus L566: thesis by L565 , L558 , L562 , PROB_1:6;
end;
thus L567: thesis by L554 , L473;
end;
thus L568: thesis by L552 , L474 , L75;
end;
registration
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
cluster ( COM (R10 , R12) ) ->  compl-closed  sigma-multiplicative;
coherence
proof
L569: (for B173 being set holds (B173 in ( COM (R10 , R12) ) iff (ex B174 being set st (B174 in R10 & (ex B175 being (thin of R12) st B173 = ( B174 \/ B175 )))))) by L328;
thus L570: thesis by L569 , L472;
end;
end;
definition
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
redefine mode thin of R12
 -> (Event of ( COM (R10 , R12) ));
coherence by L362;
end;
theorem
L573: (for R9 being non  empty set holds (for R10 being (SigmaField of R9) holds (for R12 being (Probability of R10) holds (for B176 being set holds (B176 in ( COM (R10 , R12) ) iff (ex B177 , B178 being set st (B177 in R10 & B178 in R10 & B177 c= B176 & B176 c= B178 & ( R12 . ( B178 \ B177 ) ) = ( 0 ))))))))
proof
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
let C121 being set;
thus L574: (C121 in ( COM (R10 , R12) ) implies (ex B179 , B180 being set st (B179 in R10 & B180 in R10 & B179 c= C121 & C121 c= B180 & ( R12 . ( B180 \ B179 ) ) = ( 0 ))))
proof
assume L575: C121 in ( COM (R10 , R12) );
consider C122 being set such that L576: C122 in R10 and L577: (ex B181 being (thin of R12) st C121 = ( C122 \/ B181 )) by L575 , L328;
consider C123 being (thin of R12) such that L578: C121 = ( C122 \/ C123 ) by L577;
reconsider D74 = C122 as (Event of R10) by L576;
consider C124 being set such that L579: C124 in R10 and L580: C123 c= C124 and L581: ( R12 . C124 ) = ( 0 ) by L292;
reconsider D75 = C124 as (Event of R10) by L579;
reconsider D76 = ( D75 \/ D74 ) as (Event of R10);
L582: ( R12 . ( D75 \/ D74 ) ) <= ( ( R12 . D75 ) + ( R12 . D74 ) ) by PROB_1:39;
L583: ( R12 . ( D76 \ D74 ) ) = ( R12 . ( D75 \ D74 ) ) by XBOOLE_1:40
.= ( ( R12 . ( D75 \/ D74 ) ) - ( R12 . D74 ) ) by L96;
L584: ( R12 . ( D76 \ D74 ) ) <= ( 0 ) by L583 , L581 , L582 , XREAL_1:47;
L585: ( R12 . ( D76 \ D74 ) ) = ( 0 ) by L584 , PROB_1:def 8;
L586: C121 c= D76 by L578 , L580 , XBOOLE_1:9;
thus L587: thesis by L586 , L577 , L585 , XBOOLE_1:7;
end;

thus L588: ((ex B182 , B183 being set st (B182 in R10 & B183 in R10 & B182 c= C121 & C121 c= B183 & ( R12 . ( B183 \ B182 ) ) = ( 0 ))) implies C121 in ( COM (R10 , R12) ))
proof
given C125 , C126 being set such that
L589: C125 in R10
and
L590: C126 in R10
and
L591: C125 c= C121
and
L592: C121 c= C126
and
L593: ( R12 . ( C126 \ C125 ) ) = ( 0 );

reconsider D77 = C126 as (Element of R10) by L590;
reconsider D78 = C125 as (Element of R10) by L589;
set D79 = ( C121 \ D78 );
L594: D79 is (thin of R12)
proof
reconsider D80 = ( D77 \ D78 ) as (Element of R10);
L595: D79 c= D80
proof
let R4 being set;
assume L596: R4 in D79;
L597: (R4 in C121 & (not R4 in D78)) by L596 , XBOOLE_0:def 5;
thus L598: thesis by L597 , L592 , XBOOLE_0:def 5;
end;
L599: D79 c= R9 by L595 , XBOOLE_1:1;
thus L600: thesis by L599 , L593 , L595 , L292;
end;
L601: C121 = ( D78 \/ D79 ) by L591 , XBOOLE_1:45;
thus L602: thesis by L601 , L594 , L328;
end;

end;
theorem
L589: (for R9 being non  empty set holds (for R10 being (SigmaField of R9) holds (for R12 being (Probability of R10) holds (for B184 being non  empty (Subset-Family of R9) holds ((for B185 being set holds (B185 in B184 iff (ex B186 , B187 being set st (B186 in R10 & B187 in R10 & B186 c= B185 & B185 c= B187 & ( R12 . ( B187 \ B186 ) ) = ( 0 ))))) implies B184 = ( COM (R10 , R12) ))))))
proof
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
let C127 being non  empty (Subset-Family of R9);
assume L590: (for B188 being set holds (B188 in C127 iff (ex B189 , B190 being set st (B189 in R10 & B190 in R10 & B189 c= B188 & B188 c= B190 & ( R12 . ( B190 \ B189 ) ) = ( 0 )))));
L591:
now
let C128 being set;
L592: (C128 in C127 iff (ex B191 , B192 being set st (B191 in R10 & B192 in R10 & B191 c= C128 & C128 c= B192 & ( R12 . ( B192 \ B191 ) ) = ( 0 )))) by L590;
thus L593: (C128 in C127 iff C128 in ( COM (R10 , R12) )) by L592 , L573;
end;
thus L594: thesis by L591 , TARSKI:1;
end;
definition
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
func COM R12 -> (Probability of ( COM (R10 , R12) )) means 
:L595: (for B193 being set holds (B193 in R10 implies (for B194 being (thin of R12) holds ( it . ( B193 \/ B194 ) ) = ( R12 . B193 ))));
existence
proof
reconsider D81 = ( {} ) as (thin of R12) by L305;
defpred S9[ set , set ] means (for B195 , B196 being set holds (B195 in ( COM (R10 , R12) ) implies ((B195 = $1 & B196 = $2) implies (for B197 being set holds (B197 in R10 implies (for B198 being (thin of R12) holds (B195 = ( B197 \/ B198 ) implies B196 = ( R12 . B197 ))))))));
set D82 = ( {} );
L596: ( {} ) is (thin of R12) by L305;
L597: (for B199 being set holds (B199 in ( COM (R10 , R12) ) implies (ex B200 being set st (B200 in ( REAL ) & S9[ B199 , B200 ]))))
proof
let C129 being set;
assume L598: C129 in ( COM (R10 , R12) );
consider C130 being set such that L599: (C130 in R10 & (ex B201 being (thin of R12) st C129 = ( C130 \/ B201 ))) by L598 , L328;
take ( R12 . C130 );
thus L600: thesis by L599 , L308 , FUNCT_2:5;
end;
consider C131 being (Function of ( COM (R10 , R12) ) , ( REAL )) such that L601: (for B202 being set holds (B202 in ( COM (R10 , R12) ) implies S9[ B202 , ( C131 . B202 ) ])) from FUNCT_2:sch 1(L597);
L602: (for B203 being set holds (B203 in R10 implies (for B204 being (thin of R12) holds ( C131 . ( B203 \/ B204 ) ) = ( R12 . B203 ))))
proof
let C132 being set;
assume L603: C132 in R10;
let C133 being (thin of R12);
L604: ( C132 \/ C133 ) in ( COM (R10 , R12) ) by L603 , L328;
thus L605: thesis by L604 , L601 , L603;
end;
L606: (for B205 being (SetSequence of ( COM (R10 , R12) )) holds (B205 is  disjoint_valued implies ( Sum ( C131 * B205 ) ) = ( C131 . ( Union B205 ) )))
proof
let C134 being (SetSequence of ( COM (R10 , R12) ));
assume that
L607: C134 is  disjoint_valued;
reconsider D83 = C134 as (Function of ( NAT ) , ( bool R9 ));
L608: ( rng D83 ) c= ( COM (R10 , R12) ) by RELAT_1:def 19;
reconsider D84 = D83 as (Function of ( NAT ) , ( COM (R10 , R12) )) by L608 , FUNCT_2:6;
consider C135 being (SetSequence of R10) such that L609: (for R1 being (Element of ( NAT )) holds ( C135 . R1 ) in ( ProbPart ( D84 . R1 ) )) by L449;
consider C136 being set such that L610: C136 = ( union ( rng C135 ) );
L611: ( Union C135 ) in R10 by PROB_1:17;
reconsider D85 = C136 as (Element of R10) by L611 , L610 , CARD_3:def 4;
consider C137 being (SetSequence of R9) such that L612: (for R1 being (Element of ( NAT )) holds ( C137 . R1 ) = ( ( D84 . R1 ) \ ( C135 . R1 ) )) by L455;
L613: (for B206 being (Element of ( NAT )) holds (( C135 . B206 ) in R10 & ( C135 . B206 ) c= ( D84 . B206 ) & ( ( D84 . B206 ) \ ( C135 . B206 ) ) is (thin of R12)))
proof
let C138 being (Element of ( NAT ));
L614: ( C135 . C138 ) in ( ProbPart ( D84 . C138 ) ) by L609;
thus L615: thesis by L614 , L386;
end;
L616: (for B207 being (Element of ( NAT )) holds ( C137 . B207 ) is (thin of R12))
proof
let C139 being (Element of ( NAT ));
L617: ( ( D84 . C139 ) \ ( C135 . C139 ) ) is (thin of R12) by L613;
thus L618: thesis by L617 , L612;
end;
consider C140 being (SetSequence of R10) such that L619: (for R1 being (Element of ( NAT )) holds (( C137 . R1 ) c= ( C140 . R1 ) & ( R12 . ( C140 . R1 ) ) = ( 0 ))) by L616 , L462;
L620: ( dom C134 ) = ( NAT ) by FUNCT_2:def 1;
L621: D85 c= ( union ( rng D84 ) )
proof
let C141 being set;
assume L622: C141 in D85;
consider C142 being set such that L623: C141 in C142 and L624: C142 in ( rng C135 ) by L622 , L610 , TARSKI:def 4;
L625: ( dom C135 ) = ( NAT ) by FUNCT_2:def 1;
consider C143 being set such that L626: C143 in ( NAT ) and L627: C142 = ( C135 . C143 ) by L625 , L624 , FUNCT_1:def 3;
reconsider D86 = C143 as (Element of ( NAT )) by L626;
set D87 = ( D84 . D86 );
L628: ( C135 . D86 ) c= D87 by L613;
L629: (ex B208 being set st (B208 in ( rng D84 ) & C141 in B208))
proof
take D87;
thus L630: thesis by L620 , L623 , L627 , L628 , FUNCT_1:def 3;
end;
thus L631: thesis by L629 , TARSKI:def 4;
end;
L632: (ex B209 being (thin of R12) st ( union ( rng D84 ) ) = ( D85 \/ B209 ))
proof
set D88 = ( ( union ( rng D84 ) ) \ D85 );
L633: ( union ( rng D84 ) ) = ( D88 \/ ( ( union ( rng D84 ) ) /\ D85 ) ) by XBOOLE_1:51
.= ( D85 \/ D88 ) by L621 , XBOOLE_1:28;
reconsider D89 = D88 as (Subset of R9);
L634: D89 c= ( union ( rng C137 ) )
proof
let C144 being set;
assume L635: C144 in D89;
L636: C144 in ( union ( rng D84 ) ) by L635 , XBOOLE_0:def 5;
consider C145 being set such that L637: C144 in C145 and L638: C145 in ( rng D84 ) by L636 , TARSKI:def 4;
consider C146 being set such that L639: C146 in ( NAT ) and L640: C145 = ( D84 . C146 ) by L620 , L638 , FUNCT_1:def 3;
reconsider D90 = C146 as (Element of ( NAT )) by L639;
L641: (not C144 in ( union ( rng C135 ) )) by L610 , L635 , XBOOLE_0:def 5;
L642: (not C144 in ( C135 . D90 ))
proof
L643: ( dom C135 ) = ( NAT ) by FUNCT_2:def 1;
L644: ( C135 . D90 ) in ( rng C135 ) by L643 , FUNCT_1:def 3;
assume L645: C144 in ( C135 . D90 );
thus L646: thesis by L645 , L641 , L644 , TARSKI:def 4;
end;
L647: C144 in ( ( D84 . D90 ) \ ( C135 . D90 ) ) by L642 , L637 , L640 , XBOOLE_0:def 5;
L648: (ex B210 being set st (C144 in B210 & B210 in ( rng C137 )))
proof
take ( C137 . D90 );
L649: ( dom C137 ) = ( NAT ) by FUNCT_2:def 1;
thus L650: thesis by L649 , L612 , L647 , FUNCT_1:def 3;
end;
thus L651: thesis by L648 , TARSKI:def 4;
end;
L652: (for B211 being set holds (B211 in ( rng C140 ) implies ( R12 . B211 ) = ( 0 )))
proof
let C147 being set;
L653: ( dom C140 ) = ( NAT ) by FUNCT_2:def 1;
assume L654: C147 in ( rng C140 );
L655: (ex B212 being set st (B212 in ( NAT ) & C147 = ( C140 . B212 ))) by L654 , L653 , FUNCT_1:def 3;
thus L656: thesis by L655 , L619;
end;
L657: ( R12 . ( union ( rng C140 ) ) ) = ( 0 ) by L652 , L127;
L658: ( Union C140 ) in R10 by PROB_1:17;
L659: ( union ( rng C140 ) ) in R10 by L658 , CARD_3:def 4;
L660: ( union ( rng C137 ) ) c= ( union ( rng C140 ) )
proof
let C148 being set;
assume L661: C148 in ( union ( rng C137 ) );
consider C149 being set such that L662: C148 in C149 and L663: C149 in ( rng C137 ) by L661 , TARSKI:def 4;
L664: ( dom C137 ) = ( NAT ) by FUNCT_2:def 1;
consider C150 being set such that L665: C150 in ( NAT ) and L666: C149 = ( C137 . C150 ) by L664 , L663 , FUNCT_1:def 3;
reconsider D91 = C150 as (Element of ( NAT )) by L665;
L667: D91 in ( dom C140 ) by L665 , FUNCT_2:def 1;
L668: ( C140 . D91 ) in ( rng C140 ) by L667 , FUNCT_1:def 3;
L669: ( C137 . D91 ) c= ( C140 . D91 ) by L619;
thus L670: thesis by L669 , L662 , L666 , L668 , TARSKI:def 4;
end;
L671: D89 c= ( union ( rng C140 ) ) by L660 , L634 , XBOOLE_1:1;
L672: D89 is (thin of R12) by L671 , L659 , L657 , L292;
consider C151 being (thin of R12) such that L673: ( union ( rng D84 ) ) = ( D85 \/ C151 ) by L672 , L633;
take C151;
thus L674: thesis by L673;
end;
L675: (for B213 , B214 being set holds (B213 <> B214 implies ( C135 . B213 ) misses ( C135 . B214 )))
proof
let C152 , C153 being set;
L676: ( dom D84 ) = ( NAT ) by FUNCT_2:def 1
.= ( dom C135 ) by FUNCT_2:def 1;
L677: (for B215 being set holds ( C135 . B215 ) c= ( D84 . B215 ))
proof
let C154 being set;
per cases ;
suppose L678: C154 in ( dom D84 );

thus L679: thesis by L678 , L613;
end;
suppose L680: (not C154 in ( dom D84 ));

L681: ( D84 . C154 ) = ( {} ) by L680 , FUNCT_1:def 2
.= ( C135 . C154 ) by L676 , L680 , FUNCT_1:def 2;
thus L682: thesis by L681;
end;
end;
L684: (( C135 . C152 ) c= ( D84 . C152 ) & ( C135 . C153 ) c= ( D84 . C153 )) by L677;
assume L685: C152 <> C153;
L686: ( D84 . C152 ) misses ( D84 . C153 ) by L685 , L607 , PROB_2:def 2;
L687: ( ( D84 . C152 ) /\ ( D84 . C153 ) ) = ( {} ) by L686 , XBOOLE_0:def 7;
L688: ( ( C135 . C152 ) /\ ( C135 . C153 ) ) = ( {} ) by L687 , L684 , XBOOLE_1:3 , XBOOLE_1:27;
thus L689: thesis by L688 , XBOOLE_0:def 7;
end;
L690: C135 is  disjoint_valued by L675 , PROB_2:def 2;
L691: ( Sum ( C131 * D84 ) ) = ( C131 . ( Union D84 ) )
proof
L692: (for R1 being (Element of ( NAT )) holds ( C131 . ( D84 . R1 ) ) = ( R12 . ( C135 . R1 ) ))
proof
let R1 being (Element of ( NAT ));
L693: ( ( D84 . R1 ) \ ( C135 . R1 ) ) is (thin of R12) by L613;
consider C155 being (thin of R12) such that L694: C155 = ( ( D84 . R1 ) \ ( C135 . R1 ) ) by L693;
L695: ( D84 . R1 ) = ( ( ( D84 . R1 ) /\ ( C135 . R1 ) ) \/ ( ( D84 . R1 ) \ ( C135 . R1 ) ) ) by XBOOLE_1:51
.= ( ( C135 . R1 ) \/ C155 ) by L613 , L694 , XBOOLE_1:28;
thus L696: thesis by L695 , L602;
end;
L697: (for B216 being (Element of ( NAT )) holds ( ( C131 * D84 ) . B216 ) = ( ( R12 * C135 ) . B216 ))
proof
let C156 being (Element of ( NAT ));
L698: ( ( C131 * D84 ) . C156 ) = ( C131 . ( D84 . C156 ) ) by FUNCT_2:15
.= ( R12 . ( C135 . C156 ) ) by L692
.= ( ( R12 * C135 ) . C156 ) by FUNCT_2:15;
thus L699: thesis by L698;
end;
L700: ( Sum ( C131 * D84 ) ) = ( Sum ( R12 * C135 ) ) by L697 , FUNCT_2:63;
L701: ( C131 . ( union ( rng D84 ) ) ) = ( R12 . ( union ( rng C135 ) ) ) by L602 , L610 , L632;
L702: ( C131 . ( Union D84 ) ) = ( R12 . ( union ( rng C135 ) ) ) by L701 , CARD_3:def 4
.= ( R12 . ( Union C135 ) ) by CARD_3:def 4;
thus L703: thesis by L702 , L690 , L700 , PROB_3:46;
end;
thus L704: thesis by L691;
end;
L705: (for B217 being (Element of ( COM (R10 , R12) )) holds ( C131 . B217 ) >= ( 0 ))
proof
let C157 being (Element of ( COM (R10 , R12) ));
consider C158 being set such that L706: C158 in R10 and L707: (ex B218 being (thin of R12) st C157 = ( C158 \/ B218 )) by L328;
reconsider D92 = C158 as (Element of R10) by L706;
L708: ( C131 . C157 ) = ( R12 . D92 ) by L601 , L707;
thus L709: thesis by L708 , PROB_1:def 8;
end;
L710: ( {} ) = ( D82 \/ D81 );
L711: ( C131 . ( {} ) ) = ( R12 . ( {} ) ) by L710 , L602 , PROB_1:4
.= ( 0 ) by VALUED_0:def 19;
L712: (for B219 , B220 being (Event of ( COM (R10 , R12) )) holds (B219 misses B220 implies ( C131 . ( B219 \/ B220 ) ) = ( ( C131 . B219 ) + ( C131 . B220 ) )))
proof
let C159 , C160 being (Event of ( COM (R10 , R12) ));
assume that
L713: C159 misses C160;
reconsider D93 = C159 , D94 = C160 as (Subset of R9);
reconsider D95 = ( (D93 , D94) followed_by ( {} R9 ) ) as (SetSequence of R9);
L714: ( D95 . 1 ) = C160 by FUNCT_7:123;
L715: ( D95 . ( 0 ) ) = C159 by FUNCT_7:122;
L716: (for B221 being Nat holds ( D95 . B221 ) in ( COM (R10 , R12) ))
proof
let C161 being Nat;
per cases ;
suppose L717: C161 = ( 0 );

thus L718: thesis by L717 , L715;
end;
suppose L719: C161 <> ( 0 );

L720: C161 >= 1 by L719 , NAT_1:14;
L721: ( C161 + 1 ) > 1 by L720 , NAT_1:13;
per cases  by L721 , NAT_1:22;
suppose L722: C161 > 1;

L723: ( D95 . C161 ) = ( {} ) by L722 , FUNCT_7:124;
thus L724: thesis by L723 , PROB_1:4;
end;
suppose L725: C161 = 1;

thus L726: thesis by L725 , L714;
end;
end;
end;
L729: ( rng D95 ) c= ( COM (R10 , R12) ) by L716 , NAT_1:52;
reconsider D96 = D95 as (SetSequence of ( COM (R10 , R12) )) by L729 , RELAT_1:def 19;
L730: (for R2 being (Element of ( NAT )) holds (2 <= R2 implies ( ( Partial_Sums ( C131 * D96 ) ) . R2 ) = ( ( C131 . C159 ) + ( C131 . C160 ) )))
proof
L731: ( ( Partial_Sums ( C131 * D96 ) ) . ( 0 ) ) = ( ( C131 * D96 ) . ( 0 ) ) by SERIES_1:def 1
.= ( C131 . C159 ) by L715 , FUNCT_2:15;
L732: ( ( 0 ) + 1 ) = 1;
L733: ( ( Partial_Sums ( C131 * D96 ) ) . 1 ) = ( ( ( Partial_Sums ( C131 * D96 ) ) . ( 0 ) ) + ( ( C131 * D96 ) . 1 ) ) by L732 , SERIES_1:def 1
.= ( ( C131 . C159 ) + ( C131 . C160 ) ) by L714 , L731 , FUNCT_2:15;
L734: (for R1 being (Element of ( NAT )) holds ( ( Partial_Sums ( C131 * D96 ) ) . ( 2 + R1 ) ) = ( ( C131 . C159 ) + ( C131 . C160 ) ))
proof
defpred S10[ (Element of ( NAT )) ] means ( ( Partial_Sums ( C131 * D96 ) ) . ( 2 + $1 ) ) = ( ( C131 . C159 ) + ( C131 . C160 ) );
L735: (for R3 being (Element of ( NAT )) holds (S10[ R3 ] implies S10[ ( R3 + 1 ) ]))
proof
let R3 being (Element of ( NAT ));
assume that
L736: S10[ R3 ];
L737: ( ( 2 + R3 ) + 1 ) > ( ( 0 ) + 1 ) by XREAL_1:8;
thus L738: ( ( Partial_Sums ( C131 * D96 ) ) . ( 2 + ( R3 + 1 ) ) ) = ( ( ( Partial_Sums ( C131 * D96 ) ) . ( 2 + R3 ) ) + ( ( C131 * D96 ) . ( ( 2 + R3 ) + 1 ) ) ) by SERIES_1:def 1
.= ( ( ( C131 . C159 ) + ( C131 . C160 ) ) + ( C131 . ( D96 . ( ( 2 + R3 ) + 1 ) ) ) ) by L736 , FUNCT_2:15
.= ( ( ( C131 . C159 ) + ( C131 . C160 ) ) + ( C131 . ( {} ) ) ) by L737 , FUNCT_7:124
.= ( ( C131 . C159 ) + ( C131 . C160 ) ) by L711;
end;
L739: 2 = ( 1 + 1 );
L740: ( ( Partial_Sums ( C131 * D96 ) ) . ( 2 + ( 0 ) ) ) = ( ( ( Partial_Sums ( C131 * D96 ) ) . 1 ) + ( ( C131 * D96 ) . 2 ) ) by L739 , SERIES_1:def 1
.= ( ( ( C131 . C159 ) + ( C131 . C160 ) ) + ( C131 . ( D96 . 2 ) ) ) by L733 , FUNCT_2:15
.= ( ( ( C131 . C159 ) + ( C131 . C160 ) ) + ( C131 . ( {} ) ) ) by FUNCT_7:124
.= ( ( C131 . C159 ) + ( C131 . C160 ) ) by L711;
L741: S10[ ( 0 ) ] by L740;
thus L742: (for R3 being (Element of ( NAT )) holds S10[ R3 ]) from NAT_1:sch 1(L741 , L735);
end;
let R2 being (Element of ( NAT ));
assume L743: 2 <= R2;
consider C162 being Nat such that L744: R2 = ( 2 + C162 ) by L743 , NAT_1:10;
L745: C162 in ( NAT ) by ORDINAL1:def 12;
thus L746: thesis by L745 , L734 , L744;
end;
L747: (( Union D96 ) = ( C159 \/ C160 ) & ( Sum ( C131 * D96 ) ) = ( ( C131 . C159 ) + ( C131 . C160 ) )) by L730 , DYNKIN:3 , PROB_1:1;
L748: D96 is  disjoint_valued by L713 , L44;
thus L749: thesis by L748 , L606 , L747;
end;
L750: (for B222 , B223 being (Event of ( COM (R10 , R12) )) holds (B222 c= B223 implies ( C131 . ( B223 \ B222 ) ) = ( ( C131 . B223 ) - ( C131 . B222 ) )))
proof
let C163 , C164 being (Event of ( COM (R10 , R12) ));
assume L751: C163 c= C164;
L752: ( ( C131 . C163 ) + ( C131 . ( C164 \ C163 ) ) ) = ( C131 . ( C163 \/ ( C164 \ C163 ) ) ) by L712 , XBOOLE_1:79
.= ( C131 . C164 ) by L751 , XBOOLE_1:45;
thus L753: thesis by L752;
end;
L754: (for B224 , B225 being (Event of ( COM (R10 , R12) )) holds (B224 c= B225 implies ( C131 . B224 ) <= ( C131 . B225 )))
proof
let C165 , C166 being (Event of ( COM (R10 , R12) ));
assume L755: C165 c= C166;
L756: ( C131 . ( C166 \ C165 ) ) = ( ( C131 . C166 ) - ( C131 . C165 ) ) by L755 , L750;
L757: ( 0 ) <= ( ( C131 . C166 ) - ( C131 . C165 ) ) by L756 , L705;
L758: ( ( 0 ) + ( C131 . C165 ) ) <= ( C131 . C166 ) by L757 , XREAL_1:19;
thus L759: thesis by L758;
end;
L760: (for B226 being (SetSequence of ( COM (R10 , R12) )) holds (B226 is  non-descending implies ( C131 * B226 ) is  non-decreasing))
proof
let C167 being (SetSequence of ( COM (R10 , R12) ));
assume that
L761: C167 is  non-descending;
L762: (for R1 being (Element of ( NAT )) holds (for R2 being (Element of ( NAT )) holds (R1 <= R2 implies ( ( C131 * C167 ) . R1 ) <= ( ( C131 * C167 ) . R2 ))))
proof
let R1 being (Element of ( NAT ));
let R2 being (Element of ( NAT ));
assume L763: R1 <= R2;
L764: ( C167 . R1 ) c= ( C167 . R2 ) by L763 , L761 , PROB_1:def 5;
L765: ( C131 . ( C167 . R1 ) ) <= ( C131 . ( C167 . R2 ) ) by L764 , L754;
L766: ( ( C131 * C167 ) . R1 ) <= ( C131 . ( C167 . R2 ) ) by L765 , FUNCT_2:15;
thus L767: thesis by L766 , FUNCT_2:15;
end;
thus L768: thesis by L762 , SEQM_3:6;
end;
L769: ( C131 . R9 ) = ( C131 . ( D82 \/ R9 ) )
.= ( R12 . R9 ) by L602 , L596 , PROB_1:5
.= 1 by PROB_1:def 8;
L770: (for B227 being (Event of ( COM (R10 , R12) )) holds ( C131 . B227 ) <= 1)
proof
reconsider D97 = R9 as (Event of ( COM (R10 , R12) )) by PROB_1:23;
let C168 being (Event of ( COM (R10 , R12) ));
L771: ( C131 . C168 ) <= ( C131 . D97 ) by L754;
thus L772: thesis by L771 , L769;
end;
L773: (for B228 being (SetSequence of ( COM (R10 , R12) )) holds (for R1 being (Element of ( NAT )) holds ( ( C131 * B228 ) . R1 ) <= 1))
proof
let C169 being (SetSequence of ( COM (R10 , R12) ));
let R1 being (Element of ( NAT ));
L774: ( ( C131 * C169 ) . R1 ) = ( C131 . ( C169 . R1 ) ) by FUNCT_2:15;
thus L775: thesis by L774 , L770;
end;
L776: (for B229 being (SetSequence of ( COM (R10 , R12) )) holds (B229 is  non-descending implies (( C131 * B229 ) is  bounded_above & ( C131 * B229 ) is  convergent)))
proof
let C170 being (SetSequence of ( COM (R10 , R12) ));
assume L777: C170 is  non-descending;
L778: ( C131 * C170 ) is  non-decreasing by L777 , L760;
L779: (for R1 being (Element of ( NAT )) holds ( ( C131 * C170 ) . R1 ) < 2)
proof
let R1 being (Element of ( NAT ));
L780: ( ( ( C131 * C170 ) . R1 ) + ( 0 ) ) < ( 1 + 1 ) by L773 , XREAL_1:8;
thus L781: thesis by L780;
end;
thus L782: ( C131 * C170 ) is  bounded_above by L779 , SEQ_2:def 3;
thus L783: thesis by L782 , L778;
end;
L784: (for B230 being (SetSequence of ( COM (R10 , R12) )) holds (B230 is  non-descending implies (( C131 * B230 ) is  convergent & ( lim ( C131 * B230 ) ) = ( C131 . ( Union B230 ) ))))
proof
let C171 being (SetSequence of ( COM (R10 , R12) ));
assume that
L785: C171 is  non-descending;
reconsider D98 = ( Partial_Diff_Union C171 ) as (SetSequence of ( COM (R10 , R12) ));
L786: (for R1 being (Element of ( NAT )) holds ( ( Partial_Sums ( C131 * D98 ) ) . R1 ) = ( ( C131 * C171 ) . R1 ))
proof
defpred S11[ (Element of ( NAT )) ] means ( ( Partial_Sums ( C131 * D98 ) ) . $1 ) = ( ( C131 * C171 ) . $1 );
L787: (for R3 being (Element of ( NAT )) holds (S11[ R3 ] implies S11[ ( R3 + 1 ) ]))
proof
let R3 being (Element of ( NAT ));
assume that
L788: S11[ R3 ];
L789: ( C171 . R3 ) c= ( C171 . ( R3 + 1 ) ) by L785 , PROB_2:7;
thus L790: ( ( Partial_Sums ( C131 * D98 ) ) . ( R3 + 1 ) ) = ( ( ( C131 * C171 ) . R3 ) + ( ( C131 * D98 ) . ( R3 + 1 ) ) ) by L788 , SERIES_1:def 1
.= ( ( C131 . ( C171 . R3 ) ) + ( ( C131 * D98 ) . ( R3 + 1 ) ) ) by FUNCT_2:15
.= ( ( C131 . ( C171 . R3 ) ) + ( C131 . ( D98 . ( R3 + 1 ) ) ) ) by FUNCT_2:15
.= ( C131 . ( ( C171 . R3 ) \/ ( D98 . ( R3 + 1 ) ) ) ) by L712 , L785 , L275
.= ( C131 . ( ( C171 . R3 ) \/ ( ( C171 . ( R3 + 1 ) ) \ ( C171 . R3 ) ) ) ) by L785 , L268
.= ( C131 . ( ( C171 . R3 ) \/ ( C171 . ( R3 + 1 ) ) ) ) by XBOOLE_1:39
.= ( C131 . ( C171 . ( R3 + 1 ) ) ) by L789 , XBOOLE_1:12
.= ( ( C131 * C171 ) . ( R3 + 1 ) ) by FUNCT_2:15;
end;
L791: ( ( Partial_Sums ( C131 * D98 ) ) . ( 0 ) ) = ( ( C131 * D98 ) . ( 0 ) ) by SERIES_1:def 1
.= ( C131 . ( D98 . ( 0 ) ) ) by FUNCT_2:15
.= ( C131 . ( C171 . ( 0 ) ) ) by L785 , L268
.= ( ( C131 * C171 ) . ( 0 ) ) by FUNCT_2:15;
L792: S11[ ( 0 ) ] by L791;
thus L793: (for R3 being (Element of ( NAT )) holds S11[ R3 ]) from NAT_1:sch 1(L792 , L787);
end;
L794: ( C131 . ( Union C171 ) ) = ( C131 . ( Union D98 ) ) by PROB_3:36
.= ( Sum ( C131 * D98 ) ) by L606
.= ( lim ( Partial_Sums ( C131 * D98 ) ) );
thus L795: thesis by L794 , L776 , L785 , L786 , FUNCT_2:63;
end;
reconsider D99 = C131 as (Probability of ( COM (R10 , R12) )) by L784 , L705 , L769 , L712 , PROB_2:10;
take D99;
thus L796: thesis by L602;
end;
uniqueness
proof
let C172 , C173 being (Probability of ( COM (R10 , R12) ));
assume that
L797: (for B231 being set holds (B231 in R10 implies (for B232 being (thin of R12) holds ( C172 . ( B231 \/ B232 ) ) = ( R12 . B231 ))))
and
L798: (for B233 being set holds (B233 in R10 implies (for B234 being (thin of R12) holds ( C173 . ( B233 \/ B234 ) ) = ( R12 . B233 ))));
L799: (for B235 being set holds (B235 in ( COM (R10 , R12) ) implies ( C172 . B235 ) = ( C173 . B235 )))
proof
let C174 being set;
assume L800: C174 in ( COM (R10 , R12) );
consider C175 being set such that L801: (C175 in R10 & (ex B236 being (thin of R12) st C174 = ( C175 \/ B236 ))) by L800 , L328;
L802: ( C172 . C174 ) = ( R12 . C175 ) by L797 , L801
.= ( C173 . C174 ) by L798 , L801;
thus L803: thesis by L802;
end;
thus L804: thesis by L799 , FUNCT_2:12;
end;
end;
theorem
L806: (for R9 being non  empty set holds (for R10 being (SigmaField of R9) holds (for R12 being (Probability of R10) holds ( COM R12 ) = ( COM ( P2M R12 ) ))))
proof
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
set D100 = ( COM R12 );
L807: ( COM (R10 , R12) ) = ( COM (R10 , ( P2M R12 )) ) by L365;
reconsider D101 = ( P2M D100 ) as (sigma_Measure of ( COM (R10 , ( P2M R12 )) )) by L807;
L808: (for B237 being set holds (B237 in R10 implies (for B238 being (thin of ( P2M R12 )) holds ( D101 . ( B237 \/ B238 ) ) = ( ( P2M R12 ) . B237 ))))
proof
let C176 being set;
assume that
L809: C176 in R10;
let C177 being (thin of ( P2M R12 ));
reconsider D102 = C177 as (thin of R12) by L297;
L810: ( D100 . ( C176 \/ D102 ) ) = ( R12 . C176 ) by L809 , L595;
thus L811: thesis by L810;
end;
thus L812: thesis by L808 , MEASURE3:def 5;
end;
theorem
L813: (for R9 being non  empty set holds (for R10 being (SigmaField of R9) holds (for R12 being (Probability of R10) holds ( COM R12 ) is_complete ( COM (R10 , R12) ))))
proof
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
L814: (for B239 being (Subset of R9) holds (for B240 being set holds ((B240 in ( COM (R10 , R12) ) & B239 c= B240 & ( ( COM R12 ) . B240 ) = ( 0 )) implies B239 in ( COM (R10 , R12) ))))
proof
let C178 being (Subset of R9);
let C179 being set;
assume L815: C179 in ( COM (R10 , R12) );
assume that
L816: C178 c= C179
and
L817: ( ( COM R12 ) . C179 ) = ( 0 );
L818: (ex B241 being set st (B241 in R10 & (ex B242 being (thin of R12) st C178 = ( B241 \/ B242 ))))
proof
take ( {} );
consider C180 being set such that L819: C180 in R10 and L820: (ex B243 being (thin of R12) st C179 = ( C180 \/ B243 )) by L815 , L328;
L821: ( R12 . C180 ) = ( 0 ) by L817 , L819 , L820 , L595;
consider C181 being (thin of R12) such that L822: C179 = ( C180 \/ C181 ) by L820;
set D103 = ( ( C178 /\ C180 ) \/ ( C178 /\ C181 ) );
consider C182 being set such that L823: C182 in R10 and L824: C181 c= C182 and L825: ( R12 . C182 ) = ( 0 ) by L292;
set D104 = ( C180 \/ C182 );
L826: ( C178 /\ C181 ) c= C181 by XBOOLE_1:17;
L827: (( C178 /\ C180 ) c= C180 & ( C178 /\ C181 ) c= C182) by L826 , L824 , XBOOLE_1:1 , XBOOLE_1:17;
L828: (ex B244 being set st (B244 in R10 & D103 c= B244 & ( R12 . B244 ) = ( 0 )))
proof
reconsider D105 = C180 , D106 = C182 as (Element of R10) by L819 , L823;
take D104;
L829: ( R12 . ( D105 \/ D106 ) ) <= ( ( 0 ) + ( 0 ) ) by L821 , L825 , PROB_1:39;
thus L830: thesis by L829 , L827 , PROB_1:def 8 , XBOOLE_1:13;
end;
L831: D103 is (thin of R12) by L828 , L292;
L832: C178 = ( C178 /\ ( C180 \/ C181 ) ) by L816 , L822 , XBOOLE_1:28
.= ( ( {} ) \/ D103 ) by XBOOLE_1:23;
thus L833: thesis by L832 , L831 , PROB_1:4;
end;
thus L834: thesis by L818 , L328;
end;
thus L835: thesis by L814 , L282;
end;
theorem
L836: (for R9 being non  empty set holds (for R10 being (SigmaField of R9) holds (for R12 being (Probability of R10) holds (for B245 being (Event of R10) holds ( R12 . B245 ) = ( ( COM R12 ) . B245 )))))
proof
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
reconsider D107 = ( {} ) as (thin of R12) by L305;
let C183 being (Event of R10);
thus L837: ( R12 . C183 ) = ( ( COM R12 ) . ( C183 \/ D107 ) ) by L595
.= ( ( COM R12 ) . C183 );
end;
theorem
L838: (for R9 being non  empty set holds (for R10 being (SigmaField of R9) holds (for R12 being (Probability of R10) holds (for B246 being (thin of R12) holds ( ( COM R12 ) . B246 ) = ( 0 )))))
proof
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
let C184 being (thin of R12);
consider C185 being set such that L839: C185 in R10 and L840: C184 c= C185 and L841: ( R12 . C185 ) = ( 0 ) by L292;
reconsider D108 = C185 as (Event of R10) by L839;
L842: ( ( COM R12 ) . D108 ) = ( 0 ) by L841 , L836;
L843: R10 c= ( COM (R10 , R12) ) by L382;
reconsider D109 = D108 as (Event of ( COM (R10 , R12) )) by L843 , L839;
L844: ( ( COM R12 ) . C184 ) <= ( ( COM R12 ) . D109 ) by L840 , PROB_1:34;
thus L845: thesis by L844 , L842 , PROB_1:def 8;
end;
theorem
L846: (for R9 being non  empty set holds (for R10 being (SigmaField of R9) holds (for R12 being (Probability of R10) holds (for B247 being (Element of ( COM (R10 , R12) )) holds (for B248 being set holds (B248 in ( ProbPart B247 ) implies ( R12 . B248 ) = ( ( COM R12 ) . B247 )))))))
proof
let R9 being non  empty set;
let R10 being (SigmaField of R9);
let R12 being (Probability of R10);
let C186 being (Element of ( COM (R10 , R12) ));
let C187 being set;
assume that
L847: C187 in ( ProbPart C186 );
reconsider D110 = ( C186 \ C187 ) as (thin of R12) by L847 , L386;
L848: C187 in R10 by L847 , L386;
L849: C187 c= C186 by L847 , L386;
L850: C186 = ( C187 \/ D110 ) by L849 , XBOOLE_1:45;
L851: R10 c= ( COM (R10 , R12) ) by L382;
reconsider D111 = C187 as (Event of ( COM (R10 , R12) )) by L851 , L848;
reconsider D112 = C186 as (Event of ( COM (R10 , R12) ));
L852: D111 misses D110 by XBOOLE_1:79;
L853: ( ( COM R12 ) . D112 ) = ( ( ( COM R12 ) . D111 ) + ( ( COM R12 ) . D110 ) ) by L852 , L850 , PROB_1:def 8
.= ( ( ( COM R12 ) . D111 ) + ( 0 ) ) by L838
.= ( ( COM R12 ) . D111 );
reconsider D113 = D111 as (Event of R10) by L847 , L386;
L854: ( ( COM R12 ) . D112 ) = ( R12 . D113 ) by L853 , L836;
thus L855: thesis by L854;
end;
