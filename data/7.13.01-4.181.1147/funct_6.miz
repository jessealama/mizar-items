:: Cartesian Product of Functions
::  by Grzegorz Bancerek
::
:: Received September 30, 1991
:: Copyright (c) 1991-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies FUNCT_1, SUBSET_1, FUNCT_2, XBOOLE_0, CARD_3, RELAT_1, FUNCOP_1,
      TARSKI, ZFMISC_1, FUNCT_5, PARTFUN1, SETFAM_1, FINSEQ_4, MCART_1,
      FUNCT_6, NAT_1;
 notations TARSKI, XBOOLE_0, ENUMSET1, ZFMISC_1, SUBSET_1, RELAT_1, FUNCT_1,
      XTUPLE_0, MCART_1, SETFAM_1, FUNCT_2, BINOP_1, PARTFUN1, FUNCT_3,
      WELLORD2, FUNCOP_1, FUNCT_4, FUNCT_5, ORDINAL1, CARD_3;
 constructors ENUMSET1, SETFAM_1, PARTFUN1, WELLORD2, BINOP_1, FUNCT_3,
      FUNCOP_1, FUNCT_4, FUNCT_5, CARD_3, RELSET_1, FINSET_1, DOMAIN_1,
      XTUPLE_0;
 registrations XBOOLE_0, RELAT_1, FUNCT_1, FUNCT_2, FUNCOP_1, ORDINAL1,
      RELSET_1, FINSET_1, XTUPLE_0;
 requirements NUMERALS, BOOLE, SUBSET;
 definitions TARSKI, FUNCT_1, WELLORD2, XBOOLE_0, BINOP_1, FUNCOP_1, XTUPLE_0;
 theorems TARSKI, ENUMSET1, ZFMISC_1, MCART_1, FUNCT_1, SETFAM_1, FUNCT_2,
      FUNCOP_1, CARD_1, CARD_3, FUNCT_4, FUNCT_5, PARTFUN1, WELLORD2, RELAT_1,
      XBOOLE_0, XBOOLE_1, XTUPLE_0;
 schemes FUNCT_1, PARTFUN1, CARD_3, CLASSES1, XBOOLE_0;

begin
theorem
L1: (for R13 being Function holds ( product R13 ) c= ( Funcs (( dom R13 ) , ( Union R13 )) ))
proof
let R13 being Function;
let R1 being set;
assume L2: R1 in ( product R13 );
consider R14 being Function such that L3: R1 = R14 and L4: ( dom R14 ) = ( dom R13 ) and L5: (for R1 being set holds (R1 in ( dom R13 ) implies ( R14 . R1 ) in ( R13 . R1 ))) by L2 , CARD_3:def 5;
L6: ( rng R14 ) c= ( Union R13 )
proof
let R2 being set;
L7: ( Union R13 ) = ( union ( rng R13 ) ) by CARD_3:def 4;
assume L8: R2 in ( rng R14 );
consider R5 being set such that L9: (R5 in ( dom R14 ) & R2 = ( R14 . R5 )) by L8 , FUNCT_1:def 3;
L10: (R2 in ( R13 . R5 ) & ( R13 . R5 ) in ( rng R13 )) by L4 , L5 , L9 , FUNCT_1:def 3;
thus L11: thesis by L10 , L7 , TARSKI:def 4;
end;
thus L12: thesis by L6 , L3 , L4 , FUNCT_2:def 2;
end;
begin
theorem
L13: (for R1 being set holds (for R13 being Function holds (R1 in ( dom ( ~ R13 ) ) implies (ex R2 being set st (ex R5 being set st R1 = [ R2 , R5 ])))))
proof
let R1 being set;
let R13 being Function;
assume L14: R1 in ( dom ( ~ R13 ) );
L15: (ex R8 being set st (ex R9 being set st ( dom ( ~ R13 ) ) c= [: R8 , R9 :])) by FUNCT_4:44;
thus L16: thesis by L15 , L14 , RELAT_1:def 1;
end;
theorem
L17: (for R5 being set holds (for R8 being set holds (for R9 being set holds ( ~ ( [: R8 , R9 :] --> R5 ) ) = ( [: R9 , R8 :] --> R5 ))))
proof
let R5 being set;
let R8 being set;
let R9 being set;
L18: ( dom ( [: R8 , R9 :] --> R5 ) ) = [: R8 , R9 :] by FUNCOP_1:13;
L19: ( dom ( ~ ( [: R8 , R9 :] --> R5 ) ) ) = [: R9 , R8 :] by L18 , FUNCT_4:46;
L20:
now
let R1 being set;
assume L21: R1 in [: R9 , R8 :];
consider R3 being set, R4 being set such that L22: R1 = [ R4 , R3 ] and L23: [ R3 , R4 ] in [: R8 , R9 :] by L21 , L18 , L19 , FUNCT_4:def 2;
L24: ( ( [: R8 , R9 :] --> R5 ) . (R3 , R4) ) = R5 by L23 , FUNCOP_1:7;
L25: ( ( [: R9 , R8 :] --> R5 ) . (R4 , R3) ) = R5 by L21 , L22 , FUNCOP_1:7;
L26: ( ( ~ ( [: R8 , R9 :] --> R5 ) ) . (R4 , R3) ) = ( ( [: R9 , R8 :] --> R5 ) . (R4 , R3) ) by L25 , L18 , L23 , L24 , FUNCT_4:def 2;
thus L27: ( ( ~ ( [: R8 , R9 :] --> R5 ) ) . R1 ) = ( ( [: R9 , R8 :] --> R5 ) . R1 ) by L26 , L22;
end;
L28: ( dom ( [: R9 , R8 :] --> R5 ) ) = [: R9 , R8 :] by FUNCOP_1:13;
thus L29: thesis by L28 , L19 , L20 , FUNCT_1:2;
end;
theorem
L30: (for R13 being Function holds (( curry R13 ) = ( curry' ( ~ R13 ) ) & ( uncurry R13 ) = ( ~ ( uncurry' R13 ) )))
proof
let R13 being Function;
L31: ( dom ( curry ( ~ ( ~ R13 ) ) ) ) = ( proj1 ( dom ( ~ ( ~ R13 ) ) ) ) by FUNCT_5:def 1;
L32: ( dom ( curry R13 ) ) = ( proj1 ( dom R13 ) ) by FUNCT_5:def 1;
L33: ( dom ( curry ( ~ ( ~ R13 ) ) ) ) = ( dom ( curry R13 ) )
proof
thus L34: ( dom ( curry ( ~ ( ~ R13 ) ) ) ) c= ( dom ( curry R13 ) )
proof
let R1 being set;
assume L35: R1 in ( dom ( curry ( ~ ( ~ R13 ) ) ) );
consider R2 being set such that L36: [ R1 , R2 ] in ( dom ( ~ ( ~ R13 ) ) ) by L35 , L31 , XTUPLE_0:def 12;
L37: [ R2 , R1 ] in ( dom ( ~ R13 ) ) by L36 , FUNCT_4:42;
L38: [ R1 , R2 ] in ( dom R13 ) by L37 , FUNCT_4:42;
thus L39: thesis by L38 , L32 , XTUPLE_0:def 12;
end;

let R1 being set;
assume L40: R1 in ( dom ( curry R13 ) );
consider R2 being set such that L41: [ R1 , R2 ] in ( dom R13 ) by L40 , L32 , XTUPLE_0:def 12;
L42: [ R2 , R1 ] in ( dom ( ~ R13 ) ) by L41 , FUNCT_4:42;
L43: [ R1 , R2 ] in ( dom ( ~ ( ~ R13 ) ) ) by L42 , FUNCT_4:42;
thus L44: thesis by L43 , L31 , XTUPLE_0:def 12;
end;
L45: ( curry' ( ~ R13 ) ) = ( curry ( ~ ( ~ R13 ) ) ) by FUNCT_5:def 3;
L46:
now
let R1 being set;
assume L47: R1 in ( dom ( curry R13 ) );
reconsider D1 = ( ( curry R13 ) . R1 ) , D2 = ( ( curry' ( ~ R13 ) ) . R1 ) as Function by L47 , L45 , L33 , FUNCT_5:30;
L48: ( dom D1 ) = ( proj2 ( ( dom R13 ) /\ [: { R1 } , ( proj2 ( dom R13 ) ) :] ) ) by L47 , FUNCT_5:31;
L49: ( dom D2 ) = ( proj1 ( ( dom ( ~ R13 ) ) /\ [: ( proj1 ( dom ( ~ R13 ) ) ) , { R1 } :] ) ) by L45 , L33 , L47 , FUNCT_5:34;
L50: ( dom D1 ) = ( dom D2 )
proof
thus L51: ( dom D1 ) c= ( dom D2 )
proof
let R6 being set;
assume L52: R6 in ( dom D1 );
consider R7 being set such that L53: [ R7 , R6 ] in ( ( dom R13 ) /\ [: { R1 } , ( proj2 ( dom R13 ) ) :] ) by L52 , L48 , XTUPLE_0:def 13;
L54: [ R7 , R6 ] in [: { R1 } , ( proj2 ( dom R13 ) ) :] by L53 , XBOOLE_0:def 4;
L55: [ R6 , R7 ] in [: ( proj2 ( dom R13 ) ) , { R1 } :] by L54 , ZFMISC_1:88;
L56: [ R7 , R6 ] in ( dom R13 ) by L53 , XBOOLE_0:def 4;
L57: [ R6 , R7 ] in ( dom ( ~ R13 ) ) by L56 , FUNCT_4:42;
L58: ( proj2 ( dom R13 ) ) = ( proj1 ( dom ( ~ R13 ) ) ) by FUNCT_5:17;
L59: [ R6 , R7 ] in ( ( dom ( ~ R13 ) ) /\ [: ( proj1 ( dom ( ~ R13 ) ) ) , { R1 } :] ) by L58 , L57 , L55 , XBOOLE_0:def 4;
thus L60: thesis by L59 , L49 , XTUPLE_0:def 12;
end;

let R6 being set;
assume L61: R6 in ( dom D2 );
consider R7 being set such that L62: [ R6 , R7 ] in ( ( dom ( ~ R13 ) ) /\ [: ( proj1 ( dom ( ~ R13 ) ) ) , { R1 } :] ) by L61 , L49 , XTUPLE_0:def 12;
L63: [ R6 , R7 ] in [: ( proj1 ( dom ( ~ R13 ) ) ) , { R1 } :] by L62 , XBOOLE_0:def 4;
L64: [ R7 , R6 ] in [: { R1 } , ( proj1 ( dom ( ~ R13 ) ) ) :] by L63 , ZFMISC_1:88;
L65: [ R6 , R7 ] in ( dom ( ~ R13 ) ) by L62 , XBOOLE_0:def 4;
L66: [ R7 , R6 ] in ( dom R13 ) by L65 , FUNCT_4:42;
L67: ( proj2 ( dom R13 ) ) = ( proj1 ( dom ( ~ R13 ) ) ) by FUNCT_5:17;
L68: [ R7 , R6 ] in ( ( dom R13 ) /\ [: { R1 } , ( proj2 ( dom R13 ) ) :] ) by L67 , L66 , L64 , XBOOLE_0:def 4;
thus L69: thesis by L68 , L48 , XTUPLE_0:def 13;
end;
L70:
now
let R6 being set;
assume L71: R6 in ( dom D1 );
L72: ([ R1 , R6 ] in ( dom R13 ) & ( D1 . R6 ) = ( R13 . (R1 , R6) )) by L71 , L47 , FUNCT_5:31;
L73: ( D2 . R6 ) = ( ( ~ R13 ) . (R6 , R1) ) by L45 , L33 , L47 , L50 , L71 , FUNCT_5:34;
thus L74: ( D1 . R6 ) = ( D2 . R6 ) by L73 , L72 , FUNCT_4:def 2;
end;
thus L75: ( ( curry R13 ) . R1 ) = ( ( curry' ( ~ R13 ) ) . R1 ) by L70 , L50 , FUNCT_1:2;
end;
thus L76: ( curry R13 ) = ( curry' ( ~ R13 ) ) by L46 , L45 , L33 , FUNCT_1:2;
L77: ( dom ( uncurry R13 ) ) = ( dom ( ~ ( ~ ( uncurry R13 ) ) ) )
proof
thus L78: ( dom ( uncurry R13 ) ) c= ( dom ( ~ ( ~ ( uncurry R13 ) ) ) )
proof
let R6 being set;
assume L79: R6 in ( dom ( uncurry R13 ) );
consider R1 being set, R14 being Function, R2 being set such that L80: R6 = [ R1 , R2 ] and L81: R1 in ( dom R13 ) and L82: R14 = ( R13 . R1 ) and L83: R2 in ( dom R14 ) by L79 , FUNCT_5:def 2;
L84: [ R2 , R1 ] in ( dom ( ~ ( uncurry R13 ) ) ) by L79 , L80 , FUNCT_4:42;
thus L85: thesis by L84 , L80 , FUNCT_4:42;
end;

let R6 being set;
assume L86: R6 in ( dom ( ~ ( ~ ( uncurry R13 ) ) ) );
L87: (ex R1 being set st (ex R2 being set st (R6 = [ R2 , R1 ] & [ R1 , R2 ] in ( dom ( ~ ( uncurry R13 ) ) )))) by L86 , FUNCT_4:def 2;
thus L88: thesis by L87 , FUNCT_4:42;
end;
L89:
now
let R6 being set;
assume L90: R6 in ( dom ( ~ ( ~ ( uncurry R13 ) ) ) );
consider R1 being set, R2 being set such that L91: R6 = [ R2 , R1 ] and L92: [ R1 , R2 ] in ( dom ( ~ ( uncurry R13 ) ) ) by L90 , FUNCT_4:def 2;
L93: (( ( ~ ( uncurry R13 ) ) . (R1 , R2) ) = ( ( uncurry R13 ) . (R2 , R1) ) & ( ( ~ ( uncurry R13 ) ) . (R1 , R2) ) = ( ( ~ ( ~ ( uncurry R13 ) ) ) . (R2 , R1) )) by L92 , FUNCT_4:43 , FUNCT_4:def 2;
thus L94: ( ( uncurry R13 ) . R6 ) = ( ( ~ ( ~ ( uncurry R13 ) ) ) . R6 ) by L93 , L91;
end;
L95: ( uncurry' R13 ) = ( ~ ( uncurry R13 ) ) by FUNCT_5:def 4;
thus L96: thesis by L95 , L77 , L89 , FUNCT_1:2;
end;
theorem
L97: (for R5 being set holds (for R8 being set holds (for R9 being set holds ([: R8 , R9 :] <> ( {} ) implies (( curry ( [: R8 , R9 :] --> R5 ) ) = ( R8 --> ( R9 --> R5 ) ) & ( curry' ( [: R8 , R9 :] --> R5 ) ) = ( R9 --> ( R8 --> R5 ) ))))))
proof
let R5 being set;
let R8 being set;
let R9 being set;
assume L98: [: R8 , R9 :] <> ( {} );
L99: ( dom ( [: R8 , R9 :] --> R5 ) ) = [: R8 , R9 :] by FUNCOP_1:13;
L100: ( dom ( R8 --> R5 ) ) = R8 by FUNCOP_1:13;
L101:
now
let R1 being set;
assume L102: R1 in R9;
consider R13 being Function such that L103: (( ( curry' ( [: R8 , R9 :] --> R5 ) ) . R1 ) = R13 & ( dom R13 ) = R8) and L104: ( rng R13 ) c= ( rng ( [: R8 , R9 :] --> R5 ) ) and L105: (for R2 being set holds (R2 in R8 implies ( R13 . R2 ) = ( ( [: R8 , R9 :] --> R5 ) . (R2 , R1) ))) by L102 , L98 , L99 , FUNCT_5:32;
L106:
now
let R2 being set;
assume L107: R2 in R8;
L108: ( R13 . R2 ) = ( ( [: R8 , R9 :] --> R5 ) . (R2 , R1) ) by L107 , L105;
L109: (( ( R8 --> R5 ) . R2 ) = R5 & [ R2 , R1 ] in [: R8 , R9 :]) by L102 , L107 , FUNCOP_1:7 , ZFMISC_1:87;
thus L110: ( R13 . R2 ) = ( ( R8 --> R5 ) . R2 ) by L109 , L108 , FUNCOP_1:7;
end;
L111: ( ( R9 --> ( R8 --> R5 ) ) . R1 ) = ( R8 --> R5 ) by L102 , FUNCOP_1:7;
thus L112: ( ( curry' ( [: R8 , R9 :] --> R5 ) ) . R1 ) = ( ( R9 --> ( R8 --> R5 ) ) . R1 ) by L111 , L100 , L103 , L106 , FUNCT_1:2;
end;
L113: ( dom ( R9 --> R5 ) ) = R9 by FUNCOP_1:13;
L114:
now
let R1 being set;
assume L115: R1 in R8;
consider R13 being Function such that L116: (( ( curry ( [: R8 , R9 :] --> R5 ) ) . R1 ) = R13 & ( dom R13 ) = R9) and L117: ( rng R13 ) c= ( rng ( [: R8 , R9 :] --> R5 ) ) and L118: (for R2 being set holds (R2 in R9 implies ( R13 . R2 ) = ( ( [: R8 , R9 :] --> R5 ) . (R1 , R2) ))) by L115 , L98 , L99 , FUNCT_5:29;
L119:
now
let R2 being set;
assume L120: R2 in R9;
L121: ( R13 . R2 ) = ( ( [: R8 , R9 :] --> R5 ) . (R1 , R2) ) by L120 , L118;
L122: (( ( R9 --> R5 ) . R2 ) = R5 & [ R1 , R2 ] in [: R8 , R9 :]) by L115 , L120 , FUNCOP_1:7 , ZFMISC_1:87;
thus L123: ( R13 . R2 ) = ( ( R9 --> R5 ) . R2 ) by L122 , L121 , FUNCOP_1:7;
end;
L124: ( ( R8 --> ( R9 --> R5 ) ) . R1 ) = ( R9 --> R5 ) by L115 , FUNCOP_1:7;
thus L125: ( ( curry ( [: R8 , R9 :] --> R5 ) ) . R1 ) = ( ( R8 --> ( R9 --> R5 ) ) . R1 ) by L124 , L113 , L116 , L119 , FUNCT_1:2;
end;
L126: (( dom ( R8 --> ( R9 --> R5 ) ) ) = R8 & ( dom ( curry ( [: R8 , R9 :] --> R5 ) ) ) = R8) by L98 , L99 , FUNCOP_1:13 , FUNCT_5:24;
thus L127: ( curry ( [: R8 , R9 :] --> R5 ) ) = ( R8 --> ( R9 --> R5 ) ) by L126 , L114 , FUNCT_1:2;
L128: (( dom ( R9 --> ( R8 --> R5 ) ) ) = R9 & ( dom ( curry' ( [: R8 , R9 :] --> R5 ) ) ) = R9) by L98 , L99 , FUNCOP_1:13 , FUNCT_5:24;
thus L129: thesis by L128 , L101 , FUNCT_1:2;
end;
theorem
L130: (for R5 being set holds (for R8 being set holds (for R9 being set holds (( uncurry ( R8 --> ( R9 --> R5 ) ) ) = ( [: R8 , R9 :] --> R5 ) & ( uncurry' ( R8 --> ( R9 --> R5 ) ) ) = ( [: R9 , R8 :] --> R5 )))))
proof
let R5 being set;
let R8 being set;
let R9 being set;
L131: ( dom ( R8 --> ( R9 --> R5 ) ) ) = R8 by FUNCOP_1:13;
L132: ( dom ( R9 --> R5 ) ) = R9 by FUNCOP_1:13;
L133: ( rng ( R9 --> R5 ) ) c= { R5 } by FUNCOP_1:13;
L134: ( R9 --> R5 ) in ( Funcs (R9 , { R5 }) ) by L133 , L132 , FUNCT_2:def 2;
L135: (( rng ( R8 --> ( R9 --> R5 ) ) ) c= { ( R9 --> R5 ) } & { ( R9 --> R5 ) } c= ( Funcs (R9 , { R5 }) )) by L134 , FUNCOP_1:13 , ZFMISC_1:31;
L136: ( rng ( R8 --> ( R9 --> R5 ) ) ) c= ( Funcs (R9 , { R5 }) ) by L135 , XBOOLE_1:1;
L137: ( dom ( uncurry ( R8 --> ( R9 --> R5 ) ) ) ) = [: R8 , R9 :] by L136 , L131 , FUNCT_5:26;
L138:
now
let R1 being set;
assume L139: R1 in [: R8 , R9 :];
consider R3 being set, R14 being Function, R4 being set such that L140: R1 = [ R3 , R4 ] and L141: (R3 in R8 & R14 = ( ( R8 --> ( R9 --> R5 ) ) . R3 )) and L142: R4 in ( dom R14 ) by L139 , L131 , L137 , FUNCT_5:def 2;
L143: R14 = ( R9 --> R5 ) by L141 , FUNCOP_1:7;
L144: ( ( R9 --> R5 ) . R4 ) = R5 by L143 , L132 , L142 , FUNCOP_1:7;
L145: R5 = ( ( uncurry ( R8 --> ( R9 --> R5 ) ) ) . (R3 , R4) ) by L144 , L131 , L141 , L142 , L143 , FUNCT_5:38;
thus L146: ( ( uncurry ( R8 --> ( R9 --> R5 ) ) ) . R1 ) = ( ( [: R8 , R9 :] --> R5 ) . R1 ) by L145 , L139 , L140 , FUNCOP_1:7;
end;
L147: ( dom ( [: R8 , R9 :] --> R5 ) ) = [: R8 , R9 :] by FUNCOP_1:13;
thus L148: ( uncurry ( R8 --> ( R9 --> R5 ) ) ) = ( [: R8 , R9 :] --> R5 ) by L147 , L137 , L138 , FUNCT_1:2;
L149: ( ~ ( uncurry ( R8 --> ( R9 --> R5 ) ) ) ) = ( [: R9 , R8 :] --> R5 ) by L148 , L17;
thus L150: thesis by L149 , FUNCT_5:def 4;
end;
theorem
L151: (for R1 being set holds (for R13 being Function holds (for R14 being Function holds ((R1 in ( dom R13 ) & R14 = ( R13 . R1 )) implies (( rng R14 ) c= ( rng ( uncurry R13 ) ) & ( rng R14 ) c= ( rng ( uncurry' R13 ) ))))))
proof
let R1 being set;
let R13 being Function;
let R14 being Function;
assume L152: (R1 in ( dom R13 ) & R14 = ( R13 . R1 ));
thus L153: ( rng R14 ) c= ( rng ( uncurry R13 ) )
proof
let R2 being set;
assume L154: R2 in ( rng R14 );
L155: (ex R5 being set st (R5 in ( dom R14 ) & R2 = ( R14 . R5 ))) by L154 , FUNCT_1:def 3;
thus L156: thesis by L155 , L152 , FUNCT_5:38;
end;

let R2 being set;
assume L157: R2 in ( rng R14 );
L158: (ex R5 being set st (R5 in ( dom R14 ) & R2 = ( R14 . R5 ))) by L157 , FUNCT_1:def 3;
thus L159: thesis by L158 , L152 , FUNCT_5:39;
end;
theorem
L160: (for R8 being set holds (for R13 being Function holds (( dom ( uncurry ( R8 --> R13 ) ) ) = [: R8 , ( dom R13 ) :] & ( rng ( uncurry ( R8 --> R13 ) ) ) c= ( rng R13 ) & ( dom ( uncurry' ( R8 --> R13 ) ) ) = [: ( dom R13 ) , R8 :] & ( rng ( uncurry' ( R8 --> R13 ) ) ) c= ( rng R13 ))))
proof
let R8 being set;
let R13 being Function;
L161: R13 in ( Funcs (( dom R13 ) , ( rng R13 )) ) by FUNCT_2:def 2;
L162: (( rng ( R8 --> R13 ) ) c= { R13 } & { R13 } c= ( Funcs (( dom R13 ) , ( rng R13 )) )) by L161 , FUNCOP_1:13 , ZFMISC_1:31;
L163: (( dom ( R8 --> R13 ) ) = R8 & ( rng ( R8 --> R13 ) ) c= ( Funcs (( dom R13 ) , ( rng R13 )) )) by L162 , FUNCOP_1:13 , XBOOLE_1:1;
thus L164: thesis by L163 , FUNCT_5:26 , FUNCT_5:41;
end;
theorem
L165: (for R8 being set holds (for R13 being Function holds (R8 <> ( {} ) implies (( rng ( uncurry ( R8 --> R13 ) ) ) = ( rng R13 ) & ( rng ( uncurry' ( R8 --> R13 ) ) ) = ( rng R13 )))))
proof
let R8 being set;
let R13 being Function;
set D3 = the (Element of R8);
assume L166: R8 <> ( {} );
L167: (( dom ( R8 --> R13 ) ) = R8 & ( ( R8 --> R13 ) . D3 ) = R13) by L166 , FUNCOP_1:7 , FUNCOP_1:13;
thus L168: (( rng ( uncurry ( R8 --> R13 ) ) ) c= ( rng R13 ) & ( rng R13 ) c= ( rng ( uncurry ( R8 --> R13 ) ) ) & ( rng ( uncurry' ( R8 --> R13 ) ) ) c= ( rng R13 ) & ( rng R13 ) c= ( rng ( uncurry' ( R8 --> R13 ) ) )) by L167 , L166 , L151 , L160;
end;
theorem
L169: (for R8 being set holds (for R9 being set holds (for R10 being set holds (for R13 being Function holds (([: R8 , R9 :] <> ( {} ) & R13 in ( Funcs ([: R8 , R9 :] , R10) )) implies (( curry R13 ) in ( Funcs (R8 , ( Funcs (R9 , R10) )) ) & ( curry' R13 ) in ( Funcs (R9 , ( Funcs (R8 , R10) )) )))))))
proof
let R8 being set;
let R9 being set;
let R10 being set;
let R13 being Function;
assume L170: [: R8 , R9 :] <> ( {} );
assume L171: R13 in ( Funcs ([: R8 , R9 :] , R10) );
L172: (ex R14 being Function st (R13 = R14 & ( dom R14 ) = [: R8 , R9 :] & ( rng R14 ) c= R10)) by L171 , FUNCT_2:def 2;
L173: (( rng ( curry R13 ) ) c= ( Funcs (R9 , ( rng R13 )) ) & ( Funcs (R9 , ( rng R13 )) ) c= ( Funcs (R9 , R10) )) by L172 , FUNCT_5:35 , FUNCT_5:56;
L174: ( rng ( curry R13 ) ) c= ( Funcs (R9 , R10) ) by L173 , XBOOLE_1:1;
L175: (( rng ( curry' R13 ) ) c= ( Funcs (R8 , ( rng R13 )) ) & ( Funcs (R8 , ( rng R13 )) ) c= ( Funcs (R8 , R10) )) by L172 , FUNCT_5:35 , FUNCT_5:56;
L176: ( rng ( curry' R13 ) ) c= ( Funcs (R8 , R10) ) by L175 , XBOOLE_1:1;
L177: (( dom ( curry R13 ) ) = R8 & ( dom ( curry' R13 ) ) = R9) by L170 , L172 , FUNCT_5:24;
thus L178: thesis by L177 , L174 , L176 , FUNCT_2:def 2;
end;
theorem
L179: (for R8 being set holds (for R9 being set holds (for R10 being set holds (for R13 being Function holds (R13 in ( Funcs (R8 , ( Funcs (R9 , R10) )) ) implies (( uncurry R13 ) in ( Funcs ([: R8 , R9 :] , R10) ) & ( uncurry' R13 ) in ( Funcs ([: R9 , R8 :] , R10) )))))))
proof
let R8 being set;
let R9 being set;
let R10 being set;
let R13 being Function;
assume L180: R13 in ( Funcs (R8 , ( Funcs (R9 , R10) )) );
L181: (ex R14 being Function st (R13 = R14 & ( dom R14 ) = R8 & ( rng R14 ) c= ( Funcs (R9 , R10) ))) by L180 , FUNCT_2:def 2;
L182: (( dom ( uncurry R13 ) ) = [: R8 , R9 :] & ( dom ( uncurry' R13 ) ) = [: R9 , R8 :]) by L181 , FUNCT_5:26;
L183: (( rng ( uncurry R13 ) ) c= R10 & ( rng ( uncurry' R13 ) ) c= R10) by L181 , FUNCT_5:41;
thus L184: thesis by L183 , L182 , FUNCT_2:def 2;
end;
theorem
L185: (for R8 being set holds (for R9 being set holds (for R10 being set holds (for R11 being set holds (for R12 being set holds (for R13 being Function holds (((( curry R13 ) in ( Funcs (R8 , ( Funcs (R9 , R10) )) ) or ( curry' R13 ) in ( Funcs (R9 , ( Funcs (R8 , R10) )) )) & ( dom R13 ) c= [: R11 , R12 :]) implies R13 in ( Funcs ([: R8 , R9 :] , R10) ))))))))
proof
let R8 being set;
let R9 being set;
let R10 being set;
let R11 being set;
let R12 being set;
let R13 being Function;
assume L186: (( curry R13 ) in ( Funcs (R8 , ( Funcs (R9 , R10) )) ) or ( curry' R13 ) in ( Funcs (R9 , ( Funcs (R8 , R10) )) ));
L187: (( uncurry ( curry R13 ) ) in ( Funcs ([: R8 , R9 :] , R10) ) or ( uncurry' ( curry' R13 ) ) in ( Funcs ([: R8 , R9 :] , R10) )) by L186 , L179;
assume L188: ( dom R13 ) c= [: R11 , R12 :];
thus L189: thesis by L188 , L187 , FUNCT_5:50;
end;
theorem
L190: (for R8 being set holds (for R9 being set holds (for R10 being set holds (for R11 being set holds (for R12 being set holds (for R13 being Function holds (((( uncurry R13 ) in ( Funcs ([: R8 , R9 :] , R10) ) or ( uncurry' R13 ) in ( Funcs ([: R9 , R8 :] , R10) )) & ( rng R13 ) c= ( PFuncs (R11 , R12) ) & ( dom R13 ) = R8) implies R13 in ( Funcs (R8 , ( Funcs (R9 , R10) )) ))))))))
proof
let R8 being set;
let R9 being set;
let R10 being set;
let R11 being set;
let R12 being set;
let R13 being Function;
assume that
L191: (( uncurry R13 ) in ( Funcs ([: R8 , R9 :] , R10) ) or ( uncurry' R13 ) in ( Funcs ([: R9 , R8 :] , R10) ))
and
L192: ( rng R13 ) c= ( PFuncs (R11 , R12) )
and
L193: ( dom R13 ) = R8;
L194: ( uncurry' R13 ) = ( ~ ( uncurry R13 ) ) by FUNCT_5:def 4;
L195: ((ex R14 being Function st (( uncurry R13 ) = R14 & ( dom R14 ) = [: R8 , R9 :] & ( rng R14 ) c= R10)) or (ex R14 being Function st (( uncurry' R13 ) = R14 & ( dom R14 ) = [: R9 , R8 :] & ( rng R14 ) c= R10))) by L191 , FUNCT_2:def 2;
L196: ( dom ( uncurry' R13 ) ) = [: R9 , R8 :] by L195 , L194 , FUNCT_4:46;
L197: ( rng R13 ) c= ( Funcs (R9 , R10) )
proof
let R2 being set;
assume L198: R2 in ( rng R13 );
consider R1 being set such that L199: R1 in ( dom R13 ) and L200: R2 = ( R13 . R1 ) by L198 , FUNCT_1:def 3;
L201: (ex R14 being Function st (R2 = R14 & ( dom R14 ) c= R11 & ( rng R14 ) c= R12)) by L192 , L198 , PARTFUN1:def 3;
reconsider D4 = R2 as Function by L201;
L202: ( dom D4 ) = R9
proof
thus L203: ( dom D4 ) c= R9
proof
let R5 being set;
assume L204: R5 in ( dom D4 );
L205: [ R5 , R1 ] in ( dom ( uncurry' R13 ) ) by L204 , L199 , L200 , FUNCT_5:39;
thus L206: thesis by L205 , L196 , ZFMISC_1:87;
end;

let R5 being set;
assume L207: R5 in R9;
L208: [ R5 , R1 ] in [: R9 , R8 :] by L207 , L193 , L199 , ZFMISC_1:87;
L209: [ R1 , R5 ] in ( dom ( uncurry R13 ) ) by L208 , L194 , L196 , FUNCT_4:42;
consider R3 being set, R17 being Function, R4 being set such that L210: [ R1 , R5 ] = [ R3 , R4 ] and L211: R3 in ( dom R13 ) and L212: (R17 = ( R13 . R3 ) & R4 in ( dom R17 )) by L209 , FUNCT_5:def 2;
L213: R1 = R3 by L210 , XTUPLE_0:1;
thus L214: thesis by L213 , L200 , L210 , L212 , XTUPLE_0:1;
end;
L215: ( rng D4 ) c= R10
proof
let R5 being set;
assume L216: R5 in ( rng D4 );
L217: (ex R3 being set st (R3 in ( dom D4 ) & R5 = ( D4 . R3 ))) by L216 , FUNCT_1:def 3;
L218: (R5 in ( rng ( uncurry R13 ) ) & R5 in ( rng ( uncurry' R13 ) )) by L217 , L199 , L200 , FUNCT_5:38 , FUNCT_5:39;
thus L219: thesis by L218 , L195;
end;
thus L220: thesis by L215 , L202 , FUNCT_2:def 2;
end;
thus L221: thesis by L197 , L193 , FUNCT_2:def 2;
end;
theorem
L222: (for R8 being set holds (for R9 being set holds (for R10 being set holds (for R13 being Function holds (R13 in ( PFuncs ([: R8 , R9 :] , R10) ) implies (( curry R13 ) in ( PFuncs (R8 , ( PFuncs (R9 , R10) )) ) & ( curry' R13 ) in ( PFuncs (R9 , ( PFuncs (R8 , R10) )) )))))))
proof
let R8 being set;
let R9 being set;
let R10 being set;
let R13 being Function;
assume L223: R13 in ( PFuncs ([: R8 , R9 :] , R10) );
L224: (ex R14 being Function st (R13 = R14 & ( dom R14 ) c= [: R8 , R9 :] & ( rng R14 ) c= R10)) by L223 , PARTFUN1:def 3;
L225: (( proj1 [: R8 , R9 :] ) c= R8 & ( proj1 ( dom R13 ) ) c= ( proj1 [: R8 , R9 :] )) by L224 , FUNCT_5:10 , XTUPLE_0:8;
L226: ( proj1 ( dom R13 ) ) c= R8 by L225 , XBOOLE_1:1;
L227: ( PFuncs (( proj1 ( dom R13 ) ) , ( rng R13 )) ) c= ( PFuncs (R8 , R10) ) by L226 , L224 , PARTFUN1:50;
L228: (( proj2 [: R8 , R9 :] ) c= R9 & ( proj2 ( dom R13 ) ) c= ( proj2 [: R8 , R9 :] )) by L224 , FUNCT_5:10 , XTUPLE_0:9;
L229: ( proj2 ( dom R13 ) ) c= R9 by L228 , XBOOLE_1:1;
L230: (( rng ( curry R13 ) ) c= ( PFuncs (( proj2 ( dom R13 ) ) , ( rng R13 )) ) & ( PFuncs (( proj2 ( dom R13 ) ) , ( rng R13 )) ) c= ( PFuncs (R9 , R10) )) by L229 , L224 , FUNCT_5:36 , PARTFUN1:50;
L231: ( rng ( curry R13 ) ) c= ( PFuncs (R9 , R10) ) by L230 , XBOOLE_1:1;
L232: ( rng ( curry' R13 ) ) c= ( PFuncs (( proj1 ( dom R13 ) ) , ( rng R13 )) ) by FUNCT_5:36;
L233: ( rng ( curry' R13 ) ) c= ( PFuncs (R8 , R10) ) by L232 , L227 , XBOOLE_1:1;
L234: (( dom ( curry R13 ) ) c= R8 & ( dom ( curry' R13 ) ) c= R9) by L224 , FUNCT_5:25;
thus L235: thesis by L234 , L231 , L233 , PARTFUN1:def 3;
end;
theorem
L236: (for R8 being set holds (for R9 being set holds (for R10 being set holds (for R13 being Function holds (R13 in ( PFuncs (R8 , ( PFuncs (R9 , R10) )) ) implies (( uncurry R13 ) in ( PFuncs ([: R8 , R9 :] , R10) ) & ( uncurry' R13 ) in ( PFuncs ([: R9 , R8 :] , R10) )))))))
proof
let R8 being set;
let R9 being set;
let R10 being set;
let R13 being Function;
assume L237: R13 in ( PFuncs (R8 , ( PFuncs (R9 , R10) )) );
L238: (ex R14 being Function st (R13 = R14 & ( dom R14 ) c= R8 & ( rng R14 ) c= ( PFuncs (R9 , R10) ))) by L237 , PARTFUN1:def 3;
L239: (( dom ( uncurry R13 ) ) c= [: ( dom R13 ) , R9 :] & [: ( dom R13 ) , R9 :] c= [: R8 , R9 :]) by L238 , FUNCT_5:37 , ZFMISC_1:96;
L240: ( dom ( uncurry R13 ) ) c= [: R8 , R9 :] by L239 , XBOOLE_1:1;
L241: (( dom ( uncurry' R13 ) ) c= [: R9 , ( dom R13 ) :] & [: R9 , ( dom R13 ) :] c= [: R9 , R8 :]) by L238 , FUNCT_5:37 , ZFMISC_1:96;
L242: ( dom ( uncurry' R13 ) ) c= [: R9 , R8 :] by L241 , XBOOLE_1:1;
L243: (( rng ( uncurry R13 ) ) c= R10 & ( rng ( uncurry' R13 ) ) c= R10) by L238 , FUNCT_5:40;
thus L244: thesis by L243 , L240 , L242 , PARTFUN1:def 3;
end;
theorem
L245: (for R8 being set holds (for R9 being set holds (for R10 being set holds (for R11 being set holds (for R12 being set holds (for R13 being Function holds (((( curry R13 ) in ( PFuncs (R8 , ( PFuncs (R9 , R10) )) ) or ( curry' R13 ) in ( PFuncs (R9 , ( PFuncs (R8 , R10) )) )) & ( dom R13 ) c= [: R11 , R12 :]) implies R13 in ( PFuncs ([: R8 , R9 :] , R10) ))))))))
proof
let R8 being set;
let R9 being set;
let R10 being set;
let R11 being set;
let R12 being set;
let R13 being Function;
assume L246: (( curry R13 ) in ( PFuncs (R8 , ( PFuncs (R9 , R10) )) ) or ( curry' R13 ) in ( PFuncs (R9 , ( PFuncs (R8 , R10) )) ));
L247: (( uncurry ( curry R13 ) ) in ( PFuncs ([: R8 , R9 :] , R10) ) or ( uncurry' ( curry' R13 ) ) in ( PFuncs ([: R8 , R9 :] , R10) )) by L246 , L236;
assume L248: ( dom R13 ) c= [: R11 , R12 :];
thus L249: thesis by L248 , L247 , FUNCT_5:50;
end;
theorem
L250: (for R8 being set holds (for R9 being set holds (for R10 being set holds (for R11 being set holds (for R12 being set holds (for R13 being Function holds (((( uncurry R13 ) in ( PFuncs ([: R8 , R9 :] , R10) ) or ( uncurry' R13 ) in ( PFuncs ([: R9 , R8 :] , R10) )) & ( rng R13 ) c= ( PFuncs (R11 , R12) ) & ( dom R13 ) c= R8) implies R13 in ( PFuncs (R8 , ( PFuncs (R9 , R10) )) ))))))))
proof
let R8 being set;
let R9 being set;
let R10 being set;
let R11 being set;
let R12 being set;
let R13 being Function;
assume that
L251: (( uncurry R13 ) in ( PFuncs ([: R8 , R9 :] , R10) ) or ( uncurry' R13 ) in ( PFuncs ([: R9 , R8 :] , R10) ))
and
L252: ( rng R13 ) c= ( PFuncs (R11 , R12) )
and
L253: ( dom R13 ) c= R8;
L254: ((ex R14 being Function st (( uncurry R13 ) = R14 & ( dom R14 ) c= [: R8 , R9 :] & ( rng R14 ) c= R10)) or (ex R14 being Function st (( uncurry' R13 ) = R14 & ( dom R14 ) c= [: R9 , R8 :] & ( rng R14 ) c= R10))) by L251 , PARTFUN1:def 3;
L255: ( uncurry' R13 ) = ( ~ ( uncurry R13 ) ) by FUNCT_5:def 4;
L256: ( dom ( uncurry' R13 ) ) c= [: R9 , R8 :] by L255 , L254 , FUNCT_4:45;
L257: ( rng R13 ) c= ( PFuncs (R9 , R10) )
proof
let R2 being set;
assume L258: R2 in ( rng R13 );
consider R1 being set such that L259: (R1 in ( dom R13 ) & R2 = ( R13 . R1 )) by L258 , FUNCT_1:def 3;
L260: (ex R14 being Function st (R2 = R14 & ( dom R14 ) c= R11 & ( rng R14 ) c= R12)) by L252 , L258 , PARTFUN1:def 3;
reconsider D5 = R2 as Function by L260;
L261: ( rng D5 ) c= R10
proof
let R5 being set;
assume L262: R5 in ( rng D5 );
L263: (ex R3 being set st (R3 in ( dom D5 ) & R5 = ( D5 . R3 ))) by L262 , FUNCT_1:def 3;
L264: (R5 in ( rng ( uncurry R13 ) ) & R5 in ( rng ( uncurry' R13 ) )) by L263 , L259 , FUNCT_5:38 , FUNCT_5:39;
thus L265: thesis by L264 , L254;
end;
L266: ( dom D5 ) c= R9
proof
let R5 being set;
assume L267: R5 in ( dom D5 );
L268: [ R5 , R1 ] in ( dom ( uncurry' R13 ) ) by L267 , L259 , FUNCT_5:39;
thus L269: thesis by L268 , L256 , ZFMISC_1:87;
end;
thus L270: thesis by L266 , L261 , PARTFUN1:def 3;
end;
thus L271: thesis by L257 , L253 , PARTFUN1:def 3;
end;
begin
definition
let C1 being set;
func SubFuncs C1 means 
:L272: (for R1 being set holds (R1 in it iff (R1 in C1 & R1 is Function)));
existence
proof
defpred S1[ set ] means $1 is Function;
L273: (ex B1 being set st (for B2 being set holds (B2 in B1 iff (B2 in C1 & S1[ B2 ])))) from XBOOLE_0:sch 1;
thus L274: thesis by L273;
end;
uniqueness
proof
defpred S2[ set ] means ($1 in C1 & $1 is Function);
let C2 , C3 being set;
assume that
L275: (for B3 being set holds (B3 in C2 iff S2[ B3 ]))
and
L276: (for B4 being set holds (B4 in C3 iff S2[ B4 ]));
thus L277: C2 = C3 from XBOOLE_0:sch 2(L275 , L276);
end;
end;
theorem
L279: (for R8 being set holds ( SubFuncs R8 ) c= R8)
proof
let R8 being set;
let R1 being set;
thus L280: thesis by L272;
end;
theorem
L281: (for R1 being set holds (for R13 being Function holds (R1 in ( R13 " ( SubFuncs ( rng R13 ) ) ) iff (R1 in ( dom R13 ) & ( R13 . R1 ) is Function))))
proof
let R1 being set;
let R13 being Function;
L282: ((( R13 . R1 ) in ( rng R13 ) & ( R13 . R1 ) is Function) iff ( R13 . R1 ) in ( SubFuncs ( rng R13 ) )) by L272;
thus L283: thesis by L282 , FUNCT_1:def 3 , FUNCT_1:def 7;
end;
L284: (for R8 being set holds ((for R1 being set holds (R1 in R8 implies R1 is Function)) implies ( SubFuncs R8 ) = R8))
proof
let R8 being set;
assume L285: (for R1 being set holds (R1 in R8 implies R1 is Function));
L286: (for R1 being set holds (R1 in R8 iff (R1 in R8 & R1 is Function))) by L285;
thus L287: thesis by L286 , L272;
end;
theorem
L288: (for R13 being Function holds (for R14 being Function holds (for R15 being Function holds (( SubFuncs ( {} ) ) = ( {} ) & ( SubFuncs { R13 } ) = { R13 } & ( SubFuncs { R13 , R14 } ) = { R13 , R14 } & ( SubFuncs { R13 , R14 , R15 } ) = { R13 , R14 , R15 }))))
proof
let R13 being Function;
let R14 being Function;
let R15 being Function;
thus L289: ( SubFuncs ( {} ) ) = ( {} ) by L279 , XBOOLE_1:3;
L290: (for R1 being set holds (R1 in { R13 } implies R1 is Function));
thus L291: ( SubFuncs { R13 } ) = { R13 } by L290 , L284;
L292: (for R1 being set holds (R1 in { R13 , R14 } implies R1 is Function));
thus L293: ( SubFuncs { R13 , R14 } ) = { R13 , R14 } by L292 , L284;
L294: (for R1 being set holds (R1 in { R13 , R14 , R15 } implies R1 is Function)) by ENUMSET1:def 1;
thus L295: thesis by L294 , L284;
end;
theorem
L296: (for R8 being set holds (for R9 being set holds (R9 c= ( SubFuncs R8 ) implies ( SubFuncs R9 ) = R9)))
proof
let R8 being set;
let R9 being set;
assume L297: R9 c= ( SubFuncs R8 );
L298: (for R1 being set holds (R1 in R9 implies R1 is Function)) by L297 , L272;
thus L299: thesis by L298 , L284;
end;
definition
let C4 being Function;
func doms C4 -> Function means 
:L300: (( dom it ) = ( C4 " ( SubFuncs ( rng C4 ) ) ) & (for R1 being set holds (R1 in ( C4 " ( SubFuncs ( rng C4 ) ) ) implies ( it . R1 ) = ( proj1 ( C4 . R1 ) ))));
existence
proof
deffunc H1(set) = ( proj1 ( C4 . $1 ) );
L301: (ex B5 being Function st (( dom B5 ) = ( C4 " ( SubFuncs ( rng C4 ) ) ) & (for R1 being set holds (R1 in ( C4 " ( SubFuncs ( rng C4 ) ) ) implies ( B5 . R1 ) = H1(R1))))) from FUNCT_1:sch 3;
thus L302: thesis by L301;
end;
uniqueness
proof
let C5 , C6 being Function;
assume that
L303: ( dom C5 ) = ( C4 " ( SubFuncs ( rng C4 ) ) )
and
L304: (for R1 being set holds (R1 in ( C4 " ( SubFuncs ( rng C4 ) ) ) implies ( C5 . R1 ) = ( proj1 ( C4 . R1 ) )))
and
L305: ( dom C6 ) = ( C4 " ( SubFuncs ( rng C4 ) ) )
and
L306: (for R1 being set holds (R1 in ( C4 " ( SubFuncs ( rng C4 ) ) ) implies ( C6 . R1 ) = ( proj1 ( C4 . R1 ) )));
L307:
now
let R1 being set;
assume L308: R1 in ( C4 " ( SubFuncs ( rng C4 ) ) );
L309: ( C5 . R1 ) = ( proj1 ( C4 . R1 ) ) by L308 , L304;
thus L310: ( C5 . R1 ) = ( C6 . R1 ) by L309 , L306 , L308;
end;
thus L311: thesis by L307 , L303 , L305 , FUNCT_1:2;
end;
func rngs C4 -> Function means 
:L312: (( dom it ) = ( C4 " ( SubFuncs ( rng C4 ) ) ) & (for R1 being set holds (R1 in ( C4 " ( SubFuncs ( rng C4 ) ) ) implies ( it . R1 ) = ( proj2 ( C4 . R1 ) ))));
existence
proof
deffunc H2(set) = ( proj2 ( C4 . $1 ) );
L313: (ex B6 being Function st (( dom B6 ) = ( C4 " ( SubFuncs ( rng C4 ) ) ) & (for R1 being set holds (R1 in ( C4 " ( SubFuncs ( rng C4 ) ) ) implies ( B6 . R1 ) = H2(R1))))) from FUNCT_1:sch 3;
thus L314: thesis by L313;
end;
uniqueness
proof
let C7 , C8 being Function;
assume that
L315: ( dom C7 ) = ( C4 " ( SubFuncs ( rng C4 ) ) )
and
L316: (for R1 being set holds (R1 in ( C4 " ( SubFuncs ( rng C4 ) ) ) implies ( C7 . R1 ) = ( proj2 ( C4 . R1 ) )))
and
L317: ( dom C8 ) = ( C4 " ( SubFuncs ( rng C4 ) ) )
and
L318: (for R1 being set holds (R1 in ( C4 " ( SubFuncs ( rng C4 ) ) ) implies ( C8 . R1 ) = ( proj2 ( C4 . R1 ) )));
L319:
now
let R1 being set;
assume L320: R1 in ( C4 " ( SubFuncs ( rng C4 ) ) );
L321: ( C7 . R1 ) = ( proj2 ( C4 . R1 ) ) by L320 , L316;
thus L322: ( C7 . R1 ) = ( C8 . R1 ) by L321 , L318 , L320;
end;
thus L323: thesis by L319 , L315 , L317 , FUNCT_1:2;
end;
func meet C4 equals 
( meet ( rng C4 ) );
correctness;
end;
theorem
L325: (for R1 being set holds (for R13 being Function holds (for R14 being Function holds ((R1 in ( dom R13 ) & R14 = ( R13 . R1 )) implies (R1 in ( dom ( doms R13 ) ) & ( ( doms R13 ) . R1 ) = ( dom R14 ) & R1 in ( dom ( rngs R13 ) ) & ( ( rngs R13 ) . R1 ) = ( rng R14 ))))))
proof
let R1 being set;
let R13 being Function;
let R14 being Function;
assume that
L326: R1 in ( dom R13 )
and
L327: R14 = ( R13 . R1 );
L328: R14 in ( rng R13 ) by L326 , L327 , FUNCT_1:def 3;
L329: R14 in ( SubFuncs ( rng R13 ) ) by L328 , L272;
L330: R1 in ( R13 " ( SubFuncs ( rng R13 ) ) ) by L329 , L326 , L327 , FUNCT_1:def 7;
thus L331: thesis by L330 , L327 , L300 , L312;
end;
theorem
L332: (( doms ( {} ) ) = ( {} ) & ( rngs ( {} ) ) = ( {} ))
proof
L333: (( dom ( doms ( {} ) ) ) = ( ( {} ) " ( SubFuncs ( {} ) ) ) & ( dom ( rngs ( {} ) ) ) = ( ( {} ) " ( SubFuncs ( {} ) ) )) by L300 , L312 , RELAT_1:38;
thus L334: thesis by L333;
end;
theorem
L335: (for R8 being set holds (for R13 being Function holds (( doms ( R8 --> R13 ) ) = ( R8 --> ( dom R13 ) ) & ( rngs ( R8 --> R13 ) ) = ( R8 --> ( rng R13 ) ))))
proof
let R8 being set;
let R13 being Function;
L336: (( dom ( R8 --> ( dom R13 ) ) ) = R8 & ( dom ( doms ( R8 --> R13 ) ) ) = ( ( R8 --> R13 ) " ( SubFuncs ( rng ( R8 --> R13 ) ) ) )) by L300 , FUNCOP_1:13;
L337: ( rng ( R8 --> R13 ) ) c= { R13 } by FUNCOP_1:13;
L338: ( SubFuncs ( rng ( R8 --> R13 ) ) ) = ( rng ( R8 --> R13 ) )
proof
thus L339: ( SubFuncs ( rng ( R8 --> R13 ) ) ) c= ( rng ( R8 --> R13 ) ) by L279;
let R1 being set;
assume L340: R1 in ( rng ( R8 --> R13 ) );
thus L341: thesis by L340 , L337 , L272;
end;
L342: (( dom ( R8 --> R13 ) ) = R8 & ( ( R8 --> R13 ) " ( rng ( R8 --> R13 ) ) ) = ( dom ( R8 --> R13 ) )) by FUNCOP_1:13 , RELAT_1:134;
L343:
now
let R1 being set;
assume L344: R1 in R8;
L345: (( ( R8 --> R13 ) . R1 ) = R13 & ( ( R8 --> ( dom R13 ) ) . R1 ) = ( dom R13 )) by L344 , FUNCOP_1:7;
thus L346: ( ( doms ( R8 --> R13 ) ) . R1 ) = ( ( R8 --> ( dom R13 ) ) . R1 ) by L345 , L342 , L338 , L344 , L300;
end;
thus L347: ( doms ( R8 --> R13 ) ) = ( R8 --> ( dom R13 ) ) by L343 , L336 , L342 , L338 , FUNCT_1:2;
L348:
now
let R1 being set;
assume L349: R1 in R8;
L350: (( ( R8 --> R13 ) . R1 ) = R13 & ( ( R8 --> ( rng R13 ) ) . R1 ) = ( rng R13 )) by L349 , FUNCOP_1:7;
thus L351: ( ( rngs ( R8 --> R13 ) ) . R1 ) = ( ( R8 --> ( rng R13 ) ) . R1 ) by L350 , L342 , L338 , L349 , L312;
end;
L352: (( dom ( R8 --> ( rng R13 ) ) ) = R8 & ( dom ( rngs ( R8 --> R13 ) ) ) = ( ( R8 --> R13 ) " ( SubFuncs ( rng ( R8 --> R13 ) ) ) )) by L312 , FUNCOP_1:13;
thus L353: thesis by L352 , L342 , L338 , L348 , FUNCT_1:2;
end;
theorem
L354: (for R1 being set holds (for R13 being Function holds (R13 <> ( {} ) implies (R1 in ( meet R13 ) iff (for R2 being set holds (R2 in ( dom R13 ) implies R1 in ( R13 . R2 )))))))
proof
let R1 being set;
let R13 being Function;
assume L355: R13 <> ( {} );
thus L356: (R1 in ( meet R13 ) implies (for R2 being set holds (R2 in ( dom R13 ) implies R1 in ( R13 . R2 ))))
proof
assume L357: R1 in ( meet R13 );
let R2 being set;
assume L358: R2 in ( dom R13 );
L359: ( R13 . R2 ) in ( rng R13 ) by L358 , FUNCT_1:def 3;
L360: ( meet R13 ) c= ( R13 . R2 ) by L359 , SETFAM_1:3;
thus L361: thesis by L360 , L357;
end;

assume L362: (for R2 being set holds (R2 in ( dom R13 ) implies R1 in ( R13 . R2 )));
L363:
now
let R5 being set;
assume L364: R5 in ( rng R13 );
L365: (ex R2 being set st (R2 in ( dom R13 ) & R5 = ( R13 . R2 ))) by L364 , FUNCT_1:def 3;
thus L366: R1 in R5 by L365 , L362;
end;
thus L367: thesis by L363 , L355 , SETFAM_1:def 1;
end;
theorem
L368: (for R9 being set holds (( Union ( ( {} ) --> R9 ) ) = ( {} ) & ( meet ( ( {} ) --> R9 ) ) = ( {} )))
proof
let R9 being set;
L369: ( union ( rng ( ( {} ) --> R9 ) ) ) = ( {} ) by ZFMISC_1:2;
thus L370: thesis by L369 , CARD_3:def 4 , SETFAM_1:def 1;
end;
theorem
L371: (for R8 being set holds (for R9 being set holds (R8 <> ( {} ) implies (( Union ( R8 --> R9 ) ) = R9 & ( meet ( R8 --> R9 ) ) = R9))))
proof
let R8 being set;
let R9 being set;
assume L372: R8 <> ( {} );
L373: ( rng ( R8 --> R9 ) ) = { R9 } by L372 , FUNCOP_1:8;
L374: ( union ( rng ( R8 --> R9 ) ) ) = R9 by L373 , ZFMISC_1:25;
thus L375: thesis by L374 , L373 , CARD_3:def 4 , SETFAM_1:10;
end;
definition
let C9 being Function;
let C10 , C11 being set;
func C9 .. (C10 , C11) -> set equals 
( ( uncurry C9 ) . (C10 , C11) );
correctness;
end;
theorem
L377: (for R1 being set holds (for R2 being set holds (for R8 being set holds (for R13 being Function holds ((R1 in R8 & R2 in ( dom R13 )) implies ( ( R8 --> R13 ) .. (R1 , R2) ) = ( R13 . R2 ))))))
proof
let R1 being set;
let R2 being set;
let R8 being set;
let R13 being Function;
L378: (R1 in R8 implies ( ( R8 --> R13 ) . R1 ) = R13) by FUNCOP_1:7;
L379: ( dom ( R8 --> R13 ) ) = R8 by FUNCOP_1:13;
thus L380: thesis by L379 , L378 , FUNCT_5:38;
end;
begin
definition
let C12 being Function;
func <:C12 :> -> Function equals 
( curry ( ( uncurry' C12 ) | ([: ( meet ( doms C12 ) ) , ( dom C12 ) :] qua set) ) );
correctness;
end;
theorem
L382: (for R13 being Function holds (( dom <: R13 :> ) = ( meet ( doms R13 ) ) & ( rng <: R13 :> ) c= ( product ( rngs R13 ) )))
proof
let R13 being Function;
set D6 = ( ( uncurry' R13 ) | ([: ( meet ( doms R13 ) ) , ( dom R13 ) :] qua set) );
L383: ( dom ( ( uncurry' R13 ) | ([: ( meet ( doms R13 ) ) , ( dom R13 ) :] qua set) ) ) c= [: ( meet ( doms R13 ) ) , ( dom R13 ) :] by RELAT_1:58;
thus L384: ( dom <: R13 :> ) c= ( meet ( doms R13 ) ) by L383 , FUNCT_5:25;
L385: ( dom ( doms R13 ) ) = ( R13 " ( SubFuncs ( rng R13 ) ) ) by L300;
thus L386: ( meet ( doms R13 ) ) c= ( dom <: R13 :> )
proof
set D7 = the (Element of ( rng ( doms R13 ) ));
let R1 being set;
assume L387: R1 in ( meet ( doms R13 ) );
L388: ( rng ( doms R13 ) ) <> ( {} ) by L387 , SETFAM_1:def 1;
L389: R1 in D7 by L388 , L387 , SETFAM_1:def 1;
consider R5 being set such that L390: R5 in ( dom ( doms R13 ) ) and L391: D7 = ( ( doms R13 ) . R5 ) by L388 , FUNCT_1:def 3;
L392: ( R13 . R5 ) in ( SubFuncs ( rng R13 ) ) by L385 , L390 , FUNCT_1:def 7;
reconsider D8 = ( R13 . R5 ) as Function by L392 , L272;
L393: R5 in ( dom R13 ) by L385 , L390 , FUNCT_1:def 7;
L394: D7 = ( dom D8 ) by L393 , L391 , L325;
L395: [ R1 , R5 ] in ( dom ( uncurry' R13 ) ) by L394 , L393 , L389 , FUNCT_5:39;
L396: [ R1 , R5 ] in [: ( meet ( doms R13 ) ) , ( dom R13 ) :] by L387 , L393 , ZFMISC_1:87;
L397: [ R1 , R5 ] in ( ( dom ( uncurry' R13 ) ) /\ [: ( meet ( doms R13 ) ) , ( dom R13 ) :] ) by L396 , L395 , XBOOLE_0:def 4;
L398: [ R1 , R5 ] in ( dom ( ( uncurry' R13 ) | ([: ( meet ( doms R13 ) ) , ( dom R13 ) :] qua set) ) ) by L397 , RELAT_1:61;
L399: R1 in ( proj1 ( dom ( ( uncurry' R13 ) | ([: ( meet ( doms R13 ) ) , ( dom R13 ) :] qua set) ) ) ) by L398 , XTUPLE_0:def 12;
thus L400: thesis by L399 , FUNCT_5:def 1;
end;

L401: ( dom ( rngs R13 ) ) = ( R13 " ( SubFuncs ( rng R13 ) ) ) by L312;
thus L402: ( rng <: R13 :> ) c= ( product ( rngs R13 ) )
proof
let R2 being set;
L403: ( dom D6 ) = ( ( dom ( uncurry' R13 ) ) /\ [: ( meet ( doms R13 ) ) , ( dom R13 ) :] ) by RELAT_1:61;
L404: ( uncurry' R13 ) = ( ~ ( uncurry R13 ) ) by FUNCT_5:def 4;
assume L405: R2 in ( rng <: R13 :> );
consider R1 being set such that L406: R1 in ( dom <: R13 :> ) and L407: R2 = ( <: R13 :> . R1 ) by L405 , FUNCT_1:def 3;
reconsider D9 = R2 as Function by L406 , L407 , FUNCT_5:30;
L408: ( dom D9 ) = ( proj2 ( ( dom D6 ) /\ [: { R1 } , ( proj2 ( dom D6 ) ) :] ) ) by L406 , L407 , FUNCT_5:31;
L409: ( dom D9 ) = ( dom ( rngs R13 ) )
proof
thus L410: ( dom D9 ) c= ( dom ( rngs R13 ) )
proof
let R5 being set;
assume L411: R5 in ( dom D9 );
L412: [ R1 , R5 ] in ( dom D6 ) by L411 , L406 , L407 , FUNCT_5:31;
L413: [ R1 , R5 ] in ( dom ( uncurry' R13 ) ) by L412 , L403 , XBOOLE_0:def 4;
L414: [ R5 , R1 ] in ( dom ( uncurry R13 ) ) by L413 , L404 , FUNCT_4:42;
consider R3 being set, R15 being Function, R4 being set such that L415: [ R5 , R1 ] = [ R3 , R4 ] and L416: R3 in ( dom R13 ) and L417: R15 = ( R13 . R3 ) and L418: R4 in ( dom R15 ) by L414 , FUNCT_5:def 2;
L419: R5 = R3 by L415 , XTUPLE_0:1;
L420: R15 in ( rng R13 ) by L416 , L417 , FUNCT_1:def 3;
L421: ( R13 . R5 ) in ( SubFuncs ( rng R13 ) ) by L420 , L417 , L419 , L272;
thus L422: thesis by L421 , L401 , L416 , L419 , FUNCT_1:def 7;
end;

let R5 being set;
L423: R1 in { R1 } by TARSKI:def 1;
assume L424: R5 in ( dom ( rngs R13 ) );
L425: ( R13 . R5 ) in ( SubFuncs ( rng R13 ) ) by L424 , L401 , FUNCT_1:def 7;
reconsider D10 = ( R13 . R5 ) as Function by L425 , L272;
L426: R5 in ( dom R13 ) by L401 , L424 , FUNCT_1:def 7;
L427: ( dom D10 ) = ( ( doms R13 ) . R5 ) by L426 , L325;
L428: ( dom D10 ) in ( rng ( doms R13 ) ) by L427 , L385 , L401 , L424 , FUNCT_1:def 3;
L429: R1 in ( dom D10 ) by L428 , L384 , L406 , SETFAM_1:def 1;
L430: [ R5 , R1 ] in ( dom ( uncurry R13 ) ) by L429 , L426 , FUNCT_5:def 2;
L431: [ R1 , R5 ] in ( dom ( uncurry' R13 ) ) by L430 , L404 , FUNCT_4:42;
L432: [ R1 , R5 ] in [: ( meet ( doms R13 ) ) , ( dom R13 ) :] by L384 , L406 , L426 , ZFMISC_1:87;
L433: [ R1 , R5 ] in ( dom D6 ) by L432 , L403 , L431 , XBOOLE_0:def 4;
L434: R5 in ( proj2 ( dom D6 ) ) by L433 , XTUPLE_0:def 13;
L435: [ R1 , R5 ] in [: { R1 } , ( proj2 ( dom D6 ) ) :] by L434 , L423 , ZFMISC_1:87;
L436: [ R1 , R5 ] in ( ( dom D6 ) /\ [: { R1 } , ( proj2 ( dom D6 ) ) :] ) by L435 , L433 , XBOOLE_0:def 4;
thus L437: thesis by L436 , L408 , XTUPLE_0:def 13;
end;
L438:
now
let R5 being set;
assume L439: R5 in ( dom ( rngs R13 ) );
L440: ( R13 . R5 ) in ( SubFuncs ( rng R13 ) ) by L439 , L401 , FUNCT_1:def 7;
reconsider D11 = ( R13 . R5 ) as Function by L440 , L272;
L441: R5 in ( dom R13 ) by L401 , L439 , FUNCT_1:def 7;
L442: ( dom D11 ) = ( ( doms R13 ) . R5 ) by L441 , L325;
L443: ( dom D11 ) in ( rng ( doms R13 ) ) by L442 , L385 , L401 , L439 , FUNCT_1:def 3;
L444: R1 in ( dom D11 ) by L443 , L384 , L406 , SETFAM_1:def 1;
L445: ( D11 . R1 ) in ( rng D11 ) by L444 , FUNCT_1:def 3;
L446: (( D9 . R5 ) = ( D6 . (R1 , R5) ) & [ R1 , R5 ] in ( dom D6 )) by L406 , L407 , L409 , L439 , FUNCT_5:31;
L447: ( ( uncurry' R13 ) . (R1 , R5) ) = ( D9 . R5 ) by L446 , FUNCT_1:47;
L448: ( D9 . R5 ) = ( D11 . R1 ) by L447 , L441 , L444 , FUNCT_5:39;
thus L449: ( D9 . R5 ) in ( ( rngs R13 ) . R5 ) by L448 , L441 , L445 , L325;
end;
thus L450: thesis by L438 , L409 , CARD_3:def 5;
end;

end;
theorem
L403: (for R1 being set holds (for R13 being Function holds (R1 in ( dom <: R13 :> ) implies ( <: R13 :> . R1 ) is Function)))
proof
let R1 being set;
let R13 being Function;
assume L404: R1 in ( dom <: R13 :> );
L405: ( <: R13 :> . R1 ) in ( rng <: R13 :> ) by L404 , FUNCT_1:def 3;
L406: ( rng <: R13 :> ) c= ( product ( rngs R13 ) ) by L382;
L407: (ex R14 being Function st (( <: R13 :> . R1 ) = R14 & ( dom R14 ) = ( dom ( rngs R13 ) ) & (for R1 being set holds (R1 in ( dom ( rngs R13 ) ) implies ( R14 . R1 ) in ( ( rngs R13 ) . R1 ))))) by L406 , L405 , CARD_3:def 5;
thus L408: thesis by L407;
end;
theorem
L409: (for R1 being set holds (for R13 being Function holds (for R14 being Function holds ((R1 in ( dom <: R13 :> ) & R14 = ( <: R13 :> . R1 )) implies (( dom R14 ) = ( R13 " ( SubFuncs ( rng R13 ) ) ) & (for R2 being set holds (R2 in ( dom R14 ) implies ([ R2 , R1 ] in ( dom ( uncurry R13 ) ) & ( R14 . R2 ) = ( ( uncurry R13 ) . (R2 , R1) )))))))))
proof
let R1 being set;
let R13 being Function;
let R14 being Function;
L410: (( rng <: R13 :> ) c= ( product ( rngs R13 ) ) & ( dom ( rngs R13 ) ) = ( R13 " ( SubFuncs ( rng R13 ) ) )) by L312 , L382;
assume L411: (R1 in ( dom <: R13 :> ) & R14 = ( <: R13 :> . R1 ));
L412: R14 in ( rng <: R13 :> ) by L411 , FUNCT_1:def 3;
thus L413: ( dom R14 ) = ( R13 " ( SubFuncs ( rng R13 ) ) ) by L412 , L410 , CARD_3:9;
let R2 being set;
assume that
L414: R2 in ( dom R14 );
L415: [ R1 , R2 ] in ( dom ( ( uncurry' R13 ) | ([: ( meet ( doms R13 ) ) , ( dom R13 ) :] qua set) ) ) by L411 , L414 , FUNCT_5:31;
L416: [ R1 , R2 ] in ( ( dom ( uncurry' R13 ) ) /\ [: ( meet ( doms R13 ) ) , ( dom R13 ) :] ) by L415 , RELAT_1:61;
L417: [ R1 , R2 ] in ( dom ( uncurry' R13 ) ) by L416 , XBOOLE_0:def 4;
L418: ( R14 . R2 ) = ( ( ( uncurry' R13 ) | ([: ( meet ( doms R13 ) ) , ( dom R13 ) :] qua set) ) . (R1 , R2) ) by L411 , L414 , FUNCT_5:31;
L419: ( R14 . R2 ) = ( ( uncurry' R13 ) . (R1 , R2) ) by L418 , L415 , FUNCT_1:47;
L420: ( ~ ( uncurry R13 ) ) = ( uncurry' R13 ) by FUNCT_5:def 4;
thus L421: thesis by L420 , L419 , L417 , FUNCT_4:42 , FUNCT_4:43;
end;
theorem
L422: (for R1 being set holds (for R13 being Function holds (R1 in ( dom <: R13 :> ) implies (for R14 being Function holds (R14 in ( rng R13 ) implies R1 in ( dom R14 ))))))
proof
let R1 being set;
let R13 being Function;
assume L423: R1 in ( dom <: R13 :> );
let R14 being Function;
assume L424: R14 in ( rng R13 );
consider R2 being set such that L425: (R2 in ( dom R13 ) & R14 = ( R13 . R2 )) by L424 , FUNCT_1:def 3;
L426: (R2 in ( dom ( doms R13 ) ) & ( ( doms R13 ) . R2 ) = ( dom R14 )) by L425 , L325;
L427: ( dom R14 ) in ( rng ( doms R13 ) ) by L426 , FUNCT_1:def 3;
L428: ( meet ( rng ( doms R13 ) ) ) c= ( dom R14 ) by L427 , SETFAM_1:3;
L429: ( meet ( doms R13 ) ) = ( dom <: R13 :> ) by L382;
thus L430: thesis by L429 , L423 , L428;
end;
theorem
L431: (for R1 being set holds (for R13 being Function holds (for R14 being Function holds ((R14 in ( rng R13 ) & (for R14 being Function holds (R14 in ( rng R13 ) implies R1 in ( dom R14 )))) implies R1 in ( dom <: R13 :> )))))
proof
let R1 being set;
let R13 being Function;
let R14 being Function;
assume that
L432: R14 in ( rng R13 )
and
L433: (for R14 being Function holds (R14 in ( rng R13 ) implies R1 in ( dom R14 )));
L434: (ex R2 being set st (R2 in ( dom R13 ) & R14 = ( R13 . R2 ))) by L432 , FUNCT_1:def 3;
L435: ( doms R13 ) <> ( {} ) by L434 , L325 , RELAT_1:38;
L436:
now
let R2 being set;
assume L437: R2 in ( dom ( doms R13 ) );
L438: R2 in ( R13 " ( SubFuncs ( rng R13 ) ) ) by L437 , L300;
L439: ( R13 . R2 ) in ( SubFuncs ( rng R13 ) ) by L438 , FUNCT_1:def 7;
reconsider D12 = ( R13 . R2 ) as Function by L439 , L272;
L440: R2 in ( dom R13 ) by L438 , FUNCT_1:def 7;
L441: D12 in ( rng R13 ) by L440 , FUNCT_1:def 3;
L442: R1 in ( dom D12 ) by L441 , L433;
thus L443: R1 in ( ( doms R13 ) . R2 ) by L442 , L440 , L325;
end;
L444: ( dom <: R13 :> ) = ( meet ( doms R13 ) ) by L382;
thus L445: thesis by L444 , L435 , L436 , L354;
end;
theorem
L446: (for R1 being set holds (for R2 being set holds (for R13 being Function holds (for R14 being Function holds (for R15 being Function holds ((R1 in ( dom R13 ) & R14 = ( R13 . R1 ) & R2 in ( dom <: R13 :> ) & R15 = ( <: R13 :> . R2 )) implies ( R14 . R2 ) = ( R15 . R1 )))))))
proof
let R1 being set;
let R2 being set;
let R13 being Function;
let R14 being Function;
let R15 being Function;
assume that
L447: (R1 in ( dom R13 ) & R14 = ( R13 . R1 ))
and
L448: R2 in ( dom <: R13 :> )
and
L449: R15 = ( <: R13 :> . R2 );
L450: ( dom R15 ) = ( R13 " ( SubFuncs ( rng R13 ) ) ) by L448 , L449 , L409;
L451: R1 in ( dom R15 ) by L450 , L447 , L281;
L452: ( R15 . R1 ) = ( ( uncurry R13 ) . (R1 , R2) ) by L451 , L448 , L449 , L409;
L453: R14 in ( rng R13 ) by L447 , FUNCT_1:def 3;
L454: R2 in ( dom R14 ) by L453 , L448 , L422;
thus L455: thesis by L454 , L447 , L452 , FUNCT_5:38;
end;
theorem
L456: (for R1 being set holds (for R2 being set holds (for R13 being Function holds ((R1 in ( dom R13 ) & ( R13 . R1 ) is Function & R2 in ( dom <: R13 :> )) implies ( R13 .. (R1 , R2) ) = ( <: R13 :> .. (R2 , R1) )))))
proof
let R1 being set;
let R2 being set;
let R13 being Function;
assume that
L457: R1 in ( dom R13 )
and
L458: ( R13 . R1 ) is Function
and
L459: R2 in ( dom <: R13 :> );
reconsider D13 = ( R13 . R1 ) , D14 = ( <: R13 :> . R2 ) as Function by L458 , L459 , L403;
L460: ( dom D14 ) = ( R13 " ( SubFuncs ( rng R13 ) ) ) by L459 , L409;
L461: D13 in ( rng R13 ) by L457 , FUNCT_1:def 3;
L462: D13 in ( SubFuncs ( rng R13 ) ) by L461 , L272;
L463: R1 in ( dom D14 ) by L462 , L457 , L460 , FUNCT_1:def 7;
L464: R2 in ( dom D13 ) by L459 , L461 , L422;
thus L465: ( R13 .. (R1 , R2) ) = ( D13 . R2 ) by L464 , L457 , FUNCT_5:38
.= ( D14 . R1 ) by L457 , L459 , L446
.= ( <: R13 :> .. (R2 , R1) ) by L459 , L463 , FUNCT_5:38;
end;
definition
let C13 being Function;
func Frege C13 -> Function means 
:L466: (( dom it ) = ( product ( doms C13 ) ) & (for R14 being Function holds (R14 in ( product ( doms C13 ) ) implies (ex R15 being Function st (( it . R14 ) = R15 & ( dom R15 ) = ( C13 " ( SubFuncs ( rng C13 ) ) ) & (for R1 being set holds (R1 in ( dom R15 ) implies ( R15 . R1 ) = ( ( uncurry C13 ) . (R1 , ( R14 . R1 )) ))))))));
existence
proof
defpred S3[ set , set ] means (ex R14 being Function st (ex R15 being Function st ($1 = R14 & $2 = R15 & ( dom R15 ) = ( C13 " ( SubFuncs ( rng C13 ) ) ) & (for R5 being set holds (R5 in ( dom R15 ) implies ( R15 . R5 ) = ( ( uncurry C13 ) . (R5 , ( R14 . R5 )) ))))));
L467: (for R1 being set holds (R1 in ( product ( doms C13 ) ) implies (ex R2 being set st S3[ R1 , R2 ])))
proof
let R1 being set;
assume L468: R1 in ( product ( doms C13 ) );
consider R14 being Function such that L469: R1 = R14 and L470: ( dom R14 ) = ( dom ( doms C13 ) ) and L471: (for R1 being set holds (R1 in ( dom ( doms C13 ) ) implies ( R14 . R1 ) in ( ( doms C13 ) . R1 ))) by L468 , CARD_3:def 5;
deffunc H3(set) = ( ( uncurry C13 ) . [ $1 , ( R14 . $1 ) ] );
consider R15 being Function such that L472: (( dom R15 ) = ( C13 " ( SubFuncs ( rng C13 ) ) ) & (for R5 being set holds (R5 in ( C13 " ( SubFuncs ( rng C13 ) ) ) implies ( R15 . R5 ) = H3(R5)))) from FUNCT_1:sch 3;
reconsider D15 = R15 as set;
take D15;
take R14;
take R15;
thus L473: thesis by L469 , L472;
end;
consider C14 being Function such that L474: (( dom C14 ) = ( product ( doms C13 ) ) & (for R1 being set holds (R1 in ( product ( doms C13 ) ) implies S3[ R1 , ( C14 . R1 ) ]))) from CLASSES1:sch 1(L467);
take C14;
thus L475: ( dom C14 ) = ( product ( doms C13 ) ) by L474;
let R14 being Function;
assume L476: R14 in ( product ( doms C13 ) );
L477: (ex B7 , B8 being Function st (R14 = B7 & ( C14 . R14 ) = B8 & ( dom B8 ) = ( C13 " ( SubFuncs ( rng C13 ) ) ) & (for R5 being set holds (R5 in ( dom B8 ) implies ( B8 . R5 ) = ( ( uncurry C13 ) . (R5 , ( B7 . R5 )) ))))) by L476 , L474;
thus L478: thesis by L477;
end;
uniqueness
proof
let C15 , C16 being Function;
assume that
L479: ( dom C15 ) = ( product ( doms C13 ) )
and
L480: (for R14 being Function holds (R14 in ( product ( doms C13 ) ) implies (ex R15 being Function st (( C15 . R14 ) = R15 & ( dom R15 ) = ( C13 " ( SubFuncs ( rng C13 ) ) ) & (for R1 being set holds (R1 in ( dom R15 ) implies ( R15 . R1 ) = ( ( uncurry C13 ) . (R1 , ( R14 . R1 )) )))))))
and
L481: ( dom C16 ) = ( product ( doms C13 ) )
and
L482: (for R14 being Function holds (R14 in ( product ( doms C13 ) ) implies (ex R15 being Function st (( C16 . R14 ) = R15 & ( dom R15 ) = ( C13 " ( SubFuncs ( rng C13 ) ) ) & (for R1 being set holds (R1 in ( dom R15 ) implies ( R15 . R1 ) = ( ( uncurry C13 ) . (R1 , ( R14 . R1 )) )))))));
L483:
now
let R1 being set;
assume L484: R1 in ( product ( doms C13 ) );
consider R14 being Function such that L485: R1 = R14 and L486: ( dom R14 ) = ( dom ( doms C13 ) ) and L487: (for R1 being set holds (R1 in ( dom ( doms C13 ) ) implies ( R14 . R1 ) in ( ( doms C13 ) . R1 ))) by L484 , CARD_3:def 5;
consider C17 being Function such that L488: ( C16 . R14 ) = C17 and L489: ( dom C17 ) = ( C13 " ( SubFuncs ( rng C13 ) ) ) and L490: (for R2 being set holds (R2 in ( dom C17 ) implies ( C17 . R2 ) = ( ( uncurry C13 ) . (R2 , ( R14 . R2 )) ))) by L482 , L484 , L485;
consider C18 being Function such that L491: ( C15 . R14 ) = C18 and L492: ( dom C18 ) = ( C13 " ( SubFuncs ( rng C13 ) ) ) and L493: (for R2 being set holds (R2 in ( dom C18 ) implies ( C18 . R2 ) = ( ( uncurry C13 ) . (R2 , ( R14 . R2 )) ))) by L480 , L484 , L485;
L494:
now
let R5 being set;
assume L495: R5 in ( C13 " ( SubFuncs ( rng C13 ) ) );
L496: ( C18 . R5 ) = ( ( uncurry C13 ) . (R5 , ( R14 . R5 )) ) by L495 , L492 , L493;
thus L497: ( C18 . R5 ) = ( C17 . R5 ) by L496 , L489 , L490 , L495;
end;
thus L498: ( C15 . R1 ) = ( C16 . R1 ) by L494 , L485 , L491 , L492 , L488 , L489 , FUNCT_1:2;
end;
thus L499: thesis by L483 , L479 , L481 , FUNCT_1:2;
end;
end;
theorem
L501: (for R1 being set holds (for R13 being Function holds (for R14 being Function holds ((R14 in ( product ( doms R13 ) ) & R1 in ( dom R14 )) implies ( ( Frege R13 ) .. (R14 , R1) ) = ( R13 .. (R1 , ( R14 . R1 )) )))))
proof
let R1 being set;
let R13 being Function;
let R14 being Function;
assume that
L502: R14 in ( product ( doms R13 ) )
and
L503: R1 in ( dom R14 );
L504: ( dom R14 ) = ( dom ( doms R13 ) ) by L502 , CARD_3:9;
L505: ( dom ( doms R13 ) ) = ( R13 " ( SubFuncs ( rng R13 ) ) ) by L300;
consider R15 being Function such that L506: ( ( Frege R13 ) . R14 ) = R15 and L507: ( dom R15 ) = ( R13 " ( SubFuncs ( rng R13 ) ) ) and L508: (for R1 being set holds (R1 in ( dom R15 ) implies ( R15 . R1 ) = ( ( uncurry R13 ) . (R1 , ( R14 . R1 )) ))) by L502 , L466;
L509: ( dom ( Frege R13 ) ) = ( product ( doms R13 ) ) by L466;
thus L510: ( ( Frege R13 ) .. (R14 , R1) ) = ( R15 . R1 ) by L509 , L502 , L503 , L506 , L507 , L504 , L505 , FUNCT_5:38
.= ( R13 .. (R1 , ( R14 . R1 )) ) by L503 , L507 , L508 , L504 , L505;
end;
L511: (for R13 being Function holds ( rng ( Frege R13 ) ) c= ( product ( rngs R13 ) ))
proof
let R13 being Function;
let R1 being set;
assume L512: R1 in ( rng ( Frege R13 ) );
consider R2 being set such that L513: R2 in ( dom ( Frege R13 ) ) and L514: R1 = ( ( Frege R13 ) . R2 ) by L512 , FUNCT_1:def 3;
L515: ( dom ( Frege R13 ) ) = ( product ( doms R13 ) ) by L466;
consider R14 being Function such that L516: R2 = R14 and L517: ( dom R14 ) = ( dom ( doms R13 ) ) and L518: (for R5 being set holds (R5 in ( dom ( doms R13 ) ) implies ( R14 . R5 ) in ( ( doms R13 ) . R5 ))) by L515 , L513 , CARD_3:def 5;
consider R15 being Function such that L519: ( ( Frege R13 ) . R14 ) = R15 and L520: ( dom R15 ) = ( R13 " ( SubFuncs ( rng R13 ) ) ) and L521: (for R5 being set holds (R5 in ( dom R15 ) implies ( R15 . R5 ) = ( ( uncurry R13 ) . (R5 , ( R14 . R5 )) ))) by L513 , L515 , L516 , L466;
L522: ( dom ( rngs R13 ) ) = ( R13 " ( SubFuncs ( rng R13 ) ) ) by L312;
L523: ( dom ( doms R13 ) ) = ( R13 " ( SubFuncs ( rng R13 ) ) ) by L300;
L524:
now
let R5 being set;
assume L525: R5 in ( dom ( rngs R13 ) );
L526: ( R13 . R5 ) in ( SubFuncs ( rng R13 ) ) by L525 , L522 , FUNCT_1:def 7;
reconsider D16 = ( R13 . R5 ) as Function by L526 , L272;
L527: ( R14 . R5 ) in ( ( doms R13 ) . R5 ) by L518 , L522 , L523 , L525;
L528: R5 in ( dom R13 ) by L522 , L525 , FUNCT_1:def 7;
L529: ( ( rngs R13 ) . R5 ) = ( rng D16 ) by L528 , L325;
L530: ( ( doms R13 ) . R5 ) = ( dom D16 ) by L528 , L325;
L531: ( D16 . ( R14 . R5 ) ) in ( rng D16 ) by L530 , L527 , FUNCT_1:def 3;
L532: ( D16 . ( R14 . R5 ) ) = ( ( uncurry R13 ) . (R5 , ( R14 . R5 )) ) by L528 , L527 , L530 , FUNCT_5:38;
thus L533: ( R15 . R5 ) in ( ( rngs R13 ) . R5 ) by L532 , L520 , L521 , L522 , L525 , L529 , L531;
end;
thus L534: thesis by L524 , L514 , L516 , L519 , L520 , L522 , CARD_3:def 5;
end;
theorem
L535: (for R1 being set holds (for R13 being Function holds (for R14 being Function holds (for R15 being Function holds (for R16 being Function holds ((R1 in ( dom R13 ) & R14 = ( R13 . R1 ) & R15 in ( product ( doms R13 ) ) & R16 = ( ( Frege R13 ) . R15 )) implies (( R15 . R1 ) in ( dom R14 ) & ( R16 . R1 ) = ( R14 . ( R15 . R1 ) ) & R16 in ( product ( rngs R13 ) ))))))))
proof
let R1 being set;
let R13 being Function;
let R14 being Function;
let R15 being Function;
let R16 being Function;
assume that
L536: (R1 in ( dom R13 ) & R14 = ( R13 . R1 ))
and
L537: R15 in ( product ( doms R13 ) )
and
L538: R16 = ( ( Frege R13 ) . R15 );
L539: R1 in ( R13 " ( SubFuncs ( rng R13 ) ) ) by L536 , L281;
L540: ( dom ( doms R13 ) ) = ( R13 " ( SubFuncs ( rng R13 ) ) ) by L300;
L541: ((ex R18 being Function st (R15 = R18 & ( dom R18 ) = ( dom ( doms R13 ) ) & (for R1 being set holds (R1 in ( dom ( doms R13 ) ) implies ( R18 . R1 ) in ( ( doms R13 ) . R1 ))))) & ( ( doms R13 ) . R1 ) = ( dom R14 )) by L536 , L537 , L325 , CARD_3:def 5;
thus L542: ( R15 . R1 ) in ( dom R14 ) by L541 , L540 , L539;
L543: (ex R17 being Function st (( ( Frege R13 ) . R15 ) = R17 & ( dom R17 ) = ( R13 " ( SubFuncs ( rng R13 ) ) ) & (for R1 being set holds (R1 in ( dom R17 ) implies ( R17 . R1 ) = ( ( uncurry R13 ) . (R1 , ( R15 . R1 )) ))))) by L537 , L466;
thus L544: ( R16 . R1 ) = ( ( uncurry R13 ) . (R1 , ( R15 . R1 )) ) by L543 , L538 , L539
.= ( R14 . ( R15 . R1 ) ) by L536 , L542 , FUNCT_5:38;
L545: ( rng ( Frege R13 ) ) c= ( product ( rngs R13 ) ) by L511;
L546: ( dom ( Frege R13 ) ) = ( product ( doms R13 ) ) by L466;
L547: R16 in ( rng ( Frege R13 ) ) by L546 , L537 , L538 , FUNCT_1:def 3;
thus L548: thesis by L547 , L545;
end;
L549: (for R13 being Function holds ( product ( rngs R13 ) ) c= ( rng ( Frege R13 ) ))
proof
let R13 being Function;
let R1 being set;
deffunc H4(set) = ( ( doms R13 ) . $1 );
assume L550: R1 in ( product ( rngs R13 ) );
consider R14 being Function such that L551: R1 = R14 and L552: ( dom R14 ) = ( dom ( rngs R13 ) ) and L553: (for R2 being set holds (R2 in ( dom ( rngs R13 ) ) implies ( R14 . R2 ) in ( ( rngs R13 ) . R2 ))) by L550 , CARD_3:def 5;
defpred S4[ set , set ] means (ex R17 being Function st (R17 = ( R13 . $1 ) & ( R17 . $2 ) = ( R14 . $1 )));
consider R15 being Function such that L554: (( dom R15 ) = ( R13 " ( SubFuncs ( rng R13 ) ) ) & (for R1 being set holds (R1 in ( R13 " ( SubFuncs ( rng R13 ) ) ) implies (for R2 being set holds (R2 in ( R15 . R1 ) iff (R2 in H4(R1) & S4[ R1 , R2 ])))))) from CARD_3:sch 2;
L555: ( product ( doms R13 ) ) = ( dom ( Frege R13 ) ) by L466;
L556: ( dom ( doms R13 ) ) = ( R13 " ( SubFuncs ( rng R13 ) ) ) by L300;
L557: ( dom ( rngs R13 ) ) = ( R13 " ( SubFuncs ( rng R13 ) ) ) by L312;
L558:
now
let R8 being set;
assume L559: R8 in ( rng R15 );
consider R1 being set such that L560: R1 in ( dom R15 ) and L561: R8 = ( R15 . R1 ) by L559 , FUNCT_1:def 3;
L562: ( R13 . R1 ) in ( SubFuncs ( rng R13 ) ) by L554 , L560 , FUNCT_1:def 7;
reconsider D17 = ( R13 . R1 ) as Function by L562 , L272;
L563: R1 in ( dom R13 ) by L554 , L560 , FUNCT_1:def 7;
L564: ( ( rngs R13 ) . R1 ) = ( rng D17 ) by L563 , L325;
L565: ( R14 . R1 ) in ( ( rngs R13 ) . R1 ) by L553 , L557 , L554 , L560;
L566: (ex R2 being set st (R2 in ( dom D17 ) & ( R14 . R1 ) = ( D17 . R2 ))) by L565 , L564 , FUNCT_1:def 3;
L567: ( ( doms R13 ) . R1 ) = ( dom D17 ) by L563 , L325;
thus L568: R8 <> ( {} ) by L567 , L554 , L560 , L561 , L566;
end;
L569:
now
assume L570: ( R13 " ( SubFuncs ( rng R13 ) ) ) <> ( {} );
reconsider D18 = ( rng R15 ) as non  empty set by L570 , L554 , RELAT_1:42;
consider C19 being Function such that L571: ( dom C19 ) = D18 and L572: (for R1 being set holds (R1 in D18 implies ( C19 . R1 ) in R1)) by L558 , FUNCT_1:111;
L573: ( dom ( C19 * R15 ) ) = ( dom R15 ) by L571 , RELAT_1:27;
L574:
now
let R2 being set;
assume L575: R2 in ( dom ( doms R13 ) );
L576: (( ( C19 * R15 ) . R2 ) = ( C19 . ( R15 . R2 ) ) & ( R15 . R2 ) in ( rng R15 )) by L575 , L556 , L554 , L573 , FUNCT_1:12 , FUNCT_1:def 3;
L577: ( ( C19 * R15 ) . R2 ) in ( R15 . R2 ) by L576 , L572;
thus L578: ( ( C19 * R15 ) . R2 ) in ( ( doms R13 ) . R2 ) by L577 , L556 , L554 , L575;
end;
L579: ( C19 * R15 ) in ( product ( doms R13 ) ) by L574 , L556 , L554 , L573 , CARD_3:def 5;
consider C20 being Function such that L580: ( ( Frege R13 ) . ( C19 * R15 ) ) = C20 and L581: ( dom C20 ) = ( R13 " ( SubFuncs ( rng R13 ) ) ) and L582: (for R1 being set holds (R1 in ( dom C20 ) implies ( C20 . R1 ) = ( ( uncurry R13 ) . (R1 , ( ( C19 * R15 ) . R1 )) ))) by L579 , L466;
L583:
now
let R5 being set;
assume L584: R5 in ( R13 " ( SubFuncs ( rng R13 ) ) );
L585: ( C20 . R5 ) = ( ( uncurry R13 ) . (R5 , ( ( C19 * R15 ) . R5 )) ) by L584 , L581 , L582;
L586: (( ( C19 * R15 ) . R5 ) = ( C19 . ( R15 . R5 ) ) & ( R15 . R5 ) in ( rng R15 )) by L554 , L573 , L584 , FUNCT_1:12 , FUNCT_1:def 3;
L587: ( ( C19 * R15 ) . R5 ) in ( R15 . R5 ) by L586 , L572;
consider R17 being Function such that L588: R17 = ( R13 . R5 ) and L589: ( R17 . ( ( C19 * R15 ) . R5 ) ) = ( R14 . R5 ) by L587 , L554 , L584;
L590: ( ( C19 * R15 ) . R5 ) in ( ( doms R13 ) . R5 ) by L554 , L584 , L587;
L591: R5 in ( dom R13 ) by L584 , FUNCT_1:def 7;
L592: ( ( doms R13 ) . R5 ) = ( dom R17 ) by L591 , L588 , L325;
thus L593: ( C20 . R5 ) = ( R14 . R5 ) by L592 , L591 , L585 , L588 , L589 , L590 , FUNCT_5:38;
end;
L594: R1 = C20 by L583 , L551 , L552 , L557 , L581 , FUNCT_1:2;
thus L595: thesis by L594 , L555 , L579 , L580 , FUNCT_1:def 3;
end;
L596:
now
assume L597: ( R13 " ( SubFuncs ( rng R13 ) ) ) = ( {} );
L598: R14 = ( {} ) by L597 , L552 , L312;
L599: ( dom ( Frege R13 ) ) = { ( {} ) } by L556 , L555 , L597 , CARD_3:10 , RELAT_1:41;
L600: ( {} ) in ( dom ( Frege R13 ) ) by L599 , TARSKI:def 1;
consider R15 being Function such that L601: ( ( Frege R13 ) . ( {} ) ) = R15 and L602: ( dom R15 ) = ( R13 " ( SubFuncs ( rng R13 ) ) ) and L603: (for R1 being set holds (R1 in ( dom R15 ) implies ( R15 . R1 ) = ( ( uncurry R13 ) . (R1 , ( ( {} ) . R1 )) ))) by L600 , L555 , L466;
L604: R15 = ( {} ) by L597 , L602;
thus L605: thesis by L604 , L551 , L598 , L600 , L601 , FUNCT_1:def 3;
end;
thus L606: thesis by L596 , L569;
end;
theorem
L607: (for R13 being Function holds ( rng ( Frege R13 ) ) = ( product ( rngs R13 ) ))
proof
let R13 being Function;
thus L608: (( rng ( Frege R13 ) ) c= ( product ( rngs R13 ) ) & ( product ( rngs R13 ) ) c= ( rng ( Frege R13 ) )) by L511 , L549;
end;
theorem
L609: (for R13 being Function holds ((not ( {} ) in ( rng R13 )) implies (( Frege R13 ) is  one-to-one iff (for R14 being Function holds (R14 in ( rng R13 ) implies R14 is  one-to-one)))))
proof
let R13 being Function;
set D19 = the (Element of ( product ( doms R13 ) ));
L610: ( dom ( doms R13 ) ) = ( R13 " ( SubFuncs ( rng R13 ) ) ) by L300;
assume L611: (not ( {} ) in ( rng R13 ));
L612:
now
assume L613: ( {} ) in ( rng ( doms R13 ) );
consider R1 being set such that L614: R1 in ( dom ( doms R13 ) ) and L615: ( {} ) = ( ( doms R13 ) . R1 ) by L613 , FUNCT_1:def 3;
L616: R1 in ( R13 " ( SubFuncs ( rng R13 ) ) ) by L614 , L300;
L617: ( R13 . R1 ) in ( SubFuncs ( rng R13 ) ) by L616 , FUNCT_1:def 7;
reconsider D20 = ( R13 . R1 ) as Function by L617 , L272;
L618: R1 in ( dom R13 ) by L616 , FUNCT_1:def 7;
L619: D20 in ( rng R13 ) by L618 , FUNCT_1:def 3;
L620: ( {} ) = ( dom D20 ) by L615 , L618 , L325;
thus L621: contradiction by L620 , L611 , L619 , RELAT_1:41;
end;
L622: ( product ( doms R13 ) ) <> ( {} ) by L612 , CARD_3:26;
consider R15 being Function such that L623: D19 = R15 and L624: ( dom R15 ) = ( dom ( doms R13 ) ) and L625: (for R1 being set holds (R1 in ( dom ( doms R13 ) ) implies ( R15 . R1 ) in ( ( doms R13 ) . R1 ))) by L622 , CARD_3:def 5;
L626: ( dom ( Frege R13 ) ) = ( product ( doms R13 ) ) by L466;
thus L627: (( Frege R13 ) is  one-to-one implies (for R14 being Function holds (R14 in ( rng R13 ) implies R14 is  one-to-one)))
proof
deffunc H5(set) = ( R15 . $1 );
assume L628: (for R1 being set holds (for R2 being set holds ((R1 in ( dom ( Frege R13 ) ) & R2 in ( dom ( Frege R13 ) ) & ( ( Frege R13 ) . R1 ) = ( ( Frege R13 ) . R2 )) implies R1 = R2)));
let R14 being Function;
assume L629: R14 in ( rng R13 );
consider R5 being set such that L630: (R5 in ( dom R13 ) & R14 = ( R13 . R5 )) by L629 , FUNCT_1:def 3;
defpred S5[ set ] means $1 = R5;
let R1 being set;
let R2 being set;
deffunc H6(set) = R1;
consider C21 being Function such that L631: (( dom C21 ) = ( R13 " ( SubFuncs ( rng R13 ) ) ) & (for R6 being set holds (R6 in ( R13 " ( SubFuncs ( rng R13 ) ) ) implies ((S5[ R6 ] implies ( C21 . R6 ) = H6(R6)) & ((not S5[ R6 ]) implies ( C21 . R6 ) = H5(R6)))))) from PARTFUN1:sch 1;
assume that
L632: R1 in ( dom R14 )
and
L633: R2 in ( dom R14 )
and
L634: ( R14 . R1 ) = ( R14 . R2 );
L635:
now
let R6 being set;
assume L636: R6 in ( dom ( doms R13 ) );
L637: (R6 <> R5 implies ( C21 . R6 ) = ( R15 . R6 )) by L636 , L610 , L631;
L638: (R6 = R5 implies ( C21 . R6 ) = R1) by L610 , L631 , L636;
thus L639: ( C21 . R6 ) in ( ( doms R13 ) . R6 ) by L638 , L625 , L630 , L632 , L636 , L637 , L325;
end;
L640: C21 in ( product ( doms R13 ) ) by L635 , L610 , L631 , CARD_3:def 5;
consider C22 being Function such that L641: ( ( Frege R13 ) . C21 ) = C22 and L642: ( dom C22 ) = ( R13 " ( SubFuncs ( rng R13 ) ) ) and L643: (for R1 being set holds (R1 in ( dom C22 ) implies ( C22 . R1 ) = ( ( uncurry R13 ) . (R1 , ( C21 . R1 )) ))) by L640 , L466;
defpred S6[ set ] means $1 = R5;
deffunc H7(set) = ( R15 . $1 );
deffunc H8(set) = R2;
consider C23 being Function such that L644: (( dom C23 ) = ( R13 " ( SubFuncs ( rng R13 ) ) ) & (for R6 being set holds (R6 in ( R13 " ( SubFuncs ( rng R13 ) ) ) implies ((S6[ R6 ] implies ( C23 . R6 ) = H8(R6)) & ((not S6[ R6 ]) implies ( C23 . R6 ) = H7(R6)))))) from PARTFUN1:sch 1;
L645:
now
let R6 being set;
assume L646: R6 in ( dom ( doms R13 ) );
L647: (R6 <> R5 implies ( C23 . R6 ) = ( R15 . R6 )) by L646 , L610 , L644;
L648: (R6 = R5 implies ( C23 . R6 ) = R2) by L610 , L644 , L646;
thus L649: ( C23 . R6 ) in ( ( doms R13 ) . R6 ) by L648 , L625 , L630 , L633 , L646 , L647 , L325;
end;
L650: C23 in ( product ( doms R13 ) ) by L645 , L610 , L644 , CARD_3:def 5;
consider C24 being Function such that L651: ( ( Frege R13 ) . C23 ) = C24 and L652: ( dom C24 ) = ( R13 " ( SubFuncs ( rng R13 ) ) ) and L653: (for R1 being set holds (R1 in ( dom C24 ) implies ( C24 . R1 ) = ( ( uncurry R13 ) . (R1 , ( C23 . R1 )) ))) by L650 , L466;
L654:
now
let R6 being set;
assume L655: R6 in ( R13 " ( SubFuncs ( rng R13 ) ) );
L656: ( C24 . R6 ) = ( ( uncurry R13 ) . (R6 , ( C23 . R6 )) ) by L655 , L652 , L653;
L657: ( C22 . R6 ) = ( ( uncurry R13 ) . (R6 , ( C21 . R6 )) ) by L642 , L643 , L655;
per cases ;
suppose L658: R6 <> R5;

L659: ( C21 . R6 ) = ( R15 . R6 ) by L658 , L631 , L655;
thus L660: ( C22 . R6 ) = ( C24 . R6 ) by L659 , L644 , L655 , L656 , L657 , L658;
end;
suppose L661: R6 = R5;

L662: ( C21 . R6 ) = R1 by L661 , L631 , L655;
L663: ( C22 . R6 ) = ( R14 . R1 ) by L662 , L630 , L632 , L657 , L661 , FUNCT_5:38;
L664: ( C23 . R6 ) = R2 by L644 , L655 , L661;
thus L665: ( C22 . R6 ) = ( C24 . R6 ) by L664 , L630 , L633 , L634 , L656 , L661 , L663 , FUNCT_5:38;
end;
end;
L667: C22 = C24 by L654 , L642 , L652 , FUNCT_1:2;
L668: C21 = C23 by L667 , L626 , L628 , L640 , L641 , L650 , L651;
L669: R14 in ( rng R13 ) by L630 , FUNCT_1:def 3;
L670: R14 in ( SubFuncs ( rng R13 ) ) by L669 , L272;
L671: R5 in ( R13 " ( SubFuncs ( rng R13 ) ) ) by L670 , L630 , FUNCT_1:def 7;
L672: ( C21 . R5 ) = R1 by L671 , L631;
thus L673: thesis by L672 , L671 , L644 , L668;
end;

assume L674: (for R14 being Function holds (R14 in ( rng R13 ) implies R14 is  one-to-one));
let R1 being set;
let R2 being set;
assume that
L675: R1 in ( dom ( Frege R13 ) )
and
L676: R2 in ( dom ( Frege R13 ) )
and
L677: ( ( Frege R13 ) . R1 ) = ( ( Frege R13 ) . R2 );
consider C25 being Function such that L678: R2 = C25 and L679: ( dom C25 ) = ( dom ( doms R13 ) ) and L680: (for R1 being set holds (R1 in ( dom ( doms R13 ) ) implies ( C25 . R1 ) in ( ( doms R13 ) . R1 ))) by L626 , L676 , CARD_3:def 5;
consider C26 being Function such that L681: R1 = C26 and L682: ( dom C26 ) = ( dom ( doms R13 ) ) and L683: (for R1 being set holds (R1 in ( dom ( doms R13 ) ) implies ( C26 . R1 ) in ( ( doms R13 ) . R1 ))) by L626 , L675 , CARD_3:def 5;
consider C27 being Function such that L684: ( ( Frege R13 ) . C25 ) = C27 and L685: (( dom C27 ) = ( R13 " ( SubFuncs ( rng R13 ) ) ) & (for R1 being set holds (R1 in ( dom C27 ) implies ( C27 . R1 ) = ( ( uncurry R13 ) . (R1 , ( C25 . R1 )) )))) by L626 , L676 , L678 , L466;
consider C28 being Function such that L686: ( ( Frege R13 ) . C26 ) = C28 and L687: (( dom C28 ) = ( R13 " ( SubFuncs ( rng R13 ) ) ) & (for R1 being set holds (R1 in ( dom C28 ) implies ( C28 . R1 ) = ( ( uncurry R13 ) . (R1 , ( C26 . R1 )) )))) by L626 , L675 , L681 , L466;
L688:
now
let R6 being set;
assume L689: R6 in ( R13 " ( SubFuncs ( rng R13 ) ) );
L690: ( R13 . R6 ) in ( SubFuncs ( rng R13 ) ) by L689 , FUNCT_1:def 7;
reconsider D21 = ( R13 . R6 ) as Function by L690 , L272;
L691: R6 in ( dom R13 ) by L689 , FUNCT_1:def 7;
L692: ( dom D21 ) = ( ( doms R13 ) . R6 ) by L691 , L325;
L693: ( C25 . R6 ) in ( dom D21 ) by L692 , L610 , L680 , L689;
L694: ( C26 . R6 ) in ( dom D21 ) by L610 , L683 , L689 , L692;
L695: ( C27 . R6 ) = ( ( uncurry R13 ) . (R6 , ( C25 . R6 )) ) by L685 , L689;
L696: ( C27 . R6 ) = ( D21 . ( C25 . R6 ) ) by L695 , L691 , L693 , FUNCT_5:38;
L697: D21 in ( rng R13 ) by L691 , FUNCT_1:def 3;
L698: D21 is  one-to-one by L697 , L674;
L699: ( C28 . R6 ) = ( ( uncurry R13 ) . (R6 , ( C26 . R6 )) ) by L687 , L689;
L700: ( C28 . R6 ) = ( D21 . ( C26 . R6 ) ) by L699 , L691 , L694 , FUNCT_5:38;
thus L701: ( C26 . R6 ) = ( C25 . R6 ) by L700 , L677 , L681 , L678 , L686 , L684 , L694 , L693 , L696 , L698 , FUNCT_1:def 4;
end;
thus L702: thesis by L688 , L610 , L681 , L682 , L678 , L679 , FUNCT_1:2;
end;
begin
theorem
L703: (<: ( {} ) :> = ( {} ) & ( Frege ( {} ) ) = ( ( {} ) .--> ( {} ) ))
proof
L704: ( dom ( doms ( {} ) ) ) = ( ( {} ) " ( SubFuncs ( {} ) ) ) by L300 , RELAT_1:38;
L705: ( product ( doms ( {} ) ) ) = { ( {} ) } by L704 , CARD_3:10 , RELAT_1:41;
L706:
now
let R1 being set;
assume L707: R1 in { ( {} ) };
L708: R1 = ( {} ) by L707 , TARSKI:def 1;
L709: (ex R15 being Function st (( ( Frege ( {} ) ) . ( {} ) ) = R15 & ( dom R15 ) = ( ( {} ) " ( SubFuncs ( rng ( {} ) ) ) ) & (for R1 being set holds (R1 in ( dom R15 ) implies ( R15 . R1 ) = ( ( uncurry ( {} ) ) . (R1 , ( ( {} ) . R1 )) ))))) by L708 , L705 , L707 , L466;
thus L710: ( ( Frege ( {} ) ) . R1 ) = ( {} ) by L709 , L708;
end;
L711: ( meet (( {} ) qua set) ) = ( {} ) by SETFAM_1:def 1;
L712: ( rng ( doms ( {} ) ) ) = ( {} ) by L704 , RELAT_1:38 , RELAT_1:41;
L713: ( dom <: ( {} ) :> ) = ( {} ) by L712 , L711 , L382;
thus L714: <: ( {} ) :> = ( {} ) by L713;
L715: ( dom ( Frege ( {} ) ) ) = ( product ( doms ( {} ) ) ) by L466;
thus L716: thesis by L715 , L705 , L706 , FUNCOP_1:11;
end;
theorem
L717: (for R8 being set holds (for R13 being Function holds (R8 <> ( {} ) implies (( dom <: ( R8 --> R13 ) :> ) = ( dom R13 ) & (for R1 being set holds (R1 in ( dom R13 ) implies ( <: ( R8 --> R13 ) :> . R1 ) = ( R8 --> ( R13 . R1 ) )))))))
proof
let R8 being set;
let R13 being Function;
assume L718: R8 <> ( {} );
thus L719: ( dom <: ( R8 --> R13 ) :> ) = ( meet ( doms ( R8 --> R13 ) ) ) by L382
.= ( meet ( R8 --> ( dom R13 ) ) ) by L335
.= ( dom R13 ) by L718 , L371;
L720: (( rng <: ( R8 --> R13 ) :> ) c= ( product ( rngs ( R8 --> R13 ) ) ) & ( rngs ( R8 --> R13 ) ) = ( R8 --> ( rng R13 ) )) by L335 , L382;
let R1 being set;
assume L721: R1 in ( dom R13 );
L722: ( <: ( R8 --> R13 ) :> . R1 ) in ( rng <: ( R8 --> R13 ) :> ) by L721 , L719 , FUNCT_1:def 3;
consider R14 being Function such that L723: ( <: ( R8 --> R13 ) :> . R1 ) = R14 and L724: ( dom R14 ) = ( dom ( R8 --> ( rng R13 ) ) ) and L725: (for R2 being set holds (R2 in ( dom ( R8 --> ( rng R13 ) ) ) implies ( R14 . R2 ) in ( ( R8 --> ( rng R13 ) ) . R2 ))) by L722 , L720 , CARD_3:def 5;
L726: ( dom R14 ) = R8 by L724 , FUNCOP_1:13;
L727: ( dom ( R8 --> R13 ) ) = R8 by FUNCOP_1:13;
L728:
now
let R2 being set;
assume L729: R2 in R8;
L730: (( R14 . R2 ) = ( ( uncurry ( R8 --> R13 ) ) . (R2 , R1) ) & ( ( R8 --> R13 ) . R2 ) = R13) by L729 , L719 , L721 , L723 , L726 , L409 , FUNCOP_1:7;
L731: ( R14 . R2 ) = ( R13 . R1 ) by L730 , L721 , L727 , L729 , FUNCT_5:38;
thus L732: ( R14 . R2 ) = ( ( R8 --> ( R13 . R1 ) ) . R2 ) by L731 , L729 , FUNCOP_1:7;
end;
L733: ( dom ( R8 --> ( R13 . R1 ) ) ) = R8 by FUNCOP_1:13;
thus L734: thesis by L733 , L723 , L726 , L728 , FUNCT_1:2;
end;
theorem
L735: (for R8 being set holds (for R13 being Function holds (( dom ( Frege ( R8 --> R13 ) ) ) = ( Funcs (R8 , ( dom R13 )) ) & ( rng ( Frege ( R8 --> R13 ) ) ) = ( Funcs (R8 , ( rng R13 )) ) & (for R14 being Function holds (R14 in ( Funcs (R8 , ( dom R13 )) ) implies ( ( Frege ( R8 --> R13 ) ) . R14 ) = ( R13 * R14 ))))))
proof
let R8 being set;
let R13 being Function;
L736: ( product ( R8 --> ( dom R13 ) ) ) = ( Funcs (R8 , ( dom R13 )) ) by CARD_3:11;
L737: ( doms ( R8 --> R13 ) ) = ( R8 --> ( dom R13 ) ) by L335;
L738: (( rngs ( R8 --> R13 ) ) = ( R8 --> ( rng R13 ) ) & ( product ( R8 --> ( rng R13 ) ) ) = ( Funcs (R8 , ( rng R13 )) )) by L335 , CARD_3:11;
thus L739: (( dom ( Frege ( R8 --> R13 ) ) ) = ( Funcs (R8 , ( dom R13 )) ) & ( rng ( Frege ( R8 --> R13 ) ) ) = ( Funcs (R8 , ( rng R13 )) )) by L738 , L737 , L736 , L466 , L607;
let R14 being Function;
assume L740: R14 in ( Funcs (R8 , ( dom R13 )) );
consider R15 being Function such that L741: ( ( Frege ( R8 --> R13 ) ) . R14 ) = R15 and L742: ( dom R15 ) = ( ( R8 --> R13 ) " ( SubFuncs ( rng ( R8 --> R13 ) ) ) ) and L743: (for R1 being set holds (R1 in ( dom R15 ) implies ( R15 . R1 ) = ( ( uncurry ( R8 --> R13 ) ) . (R1 , ( R14 . R1 )) ))) by L740 , L737 , L736 , L466;
L744: ( dom ( R8 --> ( dom R13 ) ) ) = R8 by FUNCOP_1:13;
L745: ( dom R15 ) = R8 by L744 , L737 , L742 , L300;
L746: (ex B9 being Function st (R14 = B9 & ( dom B9 ) = R8 & ( rng B9 ) c= ( dom R13 ))) by L740 , FUNCT_2:def 2;
L747: ( dom ( R13 * R14 ) ) = R8 by L746 , RELAT_1:27;
L748: ( dom ( R8 --> R13 ) ) = R8 by FUNCOP_1:13;
L749:
now
let R1 being set;
assume L750: R1 in R8;
L751: (( R15 . R1 ) = ( ( uncurry ( R8 --> R13 ) ) . (R1 , ( R14 . R1 )) ) & ( ( R8 --> R13 ) . R1 ) = R13) by L750 , L743 , L745 , FUNCOP_1:7;
L752: (( R14 . R1 ) in ( rng R14 ) & ( ( R13 * R14 ) . R1 ) = ( R13 . ( R14 . R1 ) )) by L746 , L747 , L750 , FUNCT_1:12 , FUNCT_1:def 3;
thus L753: ( ( R13 * R14 ) . R1 ) = ( R15 . R1 ) by L752 , L746 , L748 , L750 , L751 , FUNCT_5:38;
end;
thus L754: thesis by L749 , L741 , L745 , L747 , FUNCT_1:2;
end;
theorem
L755: (for R8 being set holds (for R13 being Function holds (for R14 being Function holds ((( dom R13 ) = R8 & ( dom R14 ) = R8 & (for R1 being set holds (R1 in R8 implies ( R13 . R1 ) , ( R14 . R1 ) are_equipotent ))) implies ( product R13 ) , ( product R14 ) are_equipotent ))))
proof
let R8 being set;
let R13 being Function;
let R14 being Function;
assume that
L756: ( dom R13 ) = R8
and
L757: ( dom R14 ) = R8
and
L758: (for R1 being set holds (R1 in R8 implies ( R13 . R1 ) , ( R14 . R1 ) are_equipotent ));
defpred S7[ set , set ] means (ex R17 being Function st ($2 = R17 & R17 is  one-to-one & ( dom R17 ) = ( R13 . $1 ) & ( rng R17 ) = ( R14 . $1 )));
L759: (for R1 being set holds (R1 in R8 implies (ex R2 being set st S7[ R1 , R2 ])))
proof
let R1 being set;
assume L760: R1 in R8;
L761: ( R13 . R1 ) , ( R14 . R1 ) are_equipotent  by L760 , L758;
L762: (ex R15 being Function st (R15 is  one-to-one & ( dom R15 ) = ( R13 . R1 ) & ( rng R15 ) = ( R14 . R1 ))) by L761 , WELLORD2:def 4;
thus L763: thesis by L762;
end;
consider R15 being Function such that L764: (( dom R15 ) = R8 & (for R1 being set holds (R1 in R8 implies S7[ R1 , ( R15 . R1 ) ]))) from CLASSES1:sch 1(L759);
L765:
now
let R1 being set;
assume L766: R1 in R8;
L767: (ex R17 being Function st (( R15 . R1 ) = R17 & R17 is  one-to-one & ( dom R17 ) = ( R13 . R1 ) & ( rng R17 ) = ( R14 . R1 ))) by L766 , L764;
thus L768: ( ( rngs R15 ) . R1 ) = ( R14 . R1 ) by L767 , L764 , L766 , L325;
end;
L769:
now
let R1 being set;
assume L770: R1 in ( rng R15 );
consider R6 being set such that L771: (R6 in R8 & R1 = ( R15 . R6 )) by L770 , L764 , FUNCT_1:def 3;
L772: (ex R17 being Function st (R1 = R17 & R17 is  one-to-one & ( dom R17 ) = ( R13 . R6 ) & ( rng R17 ) = ( R14 . R6 ))) by L764 , L771;
thus L773: R1 is Function by L772;
end;
L774: ( SubFuncs ( rng R15 ) ) = ( rng R15 ) by L769 , L284;
L775: ( R15 " ( SubFuncs ( rng R15 ) ) ) = R8 by L774 , L764 , RELAT_1:134;
L776: ( dom ( rngs R15 ) ) = R8 by L775 , L312;
L777: ( rngs R15 ) = R14 by L776 , L757 , L765 , FUNCT_1:2;
L778:
now
let R1 being set;
assume L779: R1 in R8;
L780: (ex R17 being Function st (( R15 . R1 ) = R17 & R17 is  one-to-one & ( dom R17 ) = ( R13 . R1 ) & ( rng R17 ) = ( R14 . R1 ))) by L779 , L764;
thus L781: ( ( doms R15 ) . R1 ) = ( R13 . R1 ) by L780 , L764 , L779 , L325;
end;
L782: ( dom ( doms R15 ) ) = R8 by L775 , L300;
L783: ( doms R15 ) = R13 by L782 , L756 , L778 , FUNCT_1:2;
L784:
now
per cases ;
suppose L785: ( {} ) in ( rng R15 );

consider R1 being set such that L786: R1 in R8 and L787: ( {} ) = ( R15 . R1 ) by L785 , L764 , FUNCT_1:def 3;
L788: (ex R17 being Function st (( {} ) = R17 & R17 is  one-to-one & ( dom R17 ) = ( R13 . R1 ) & ( rng R17 ) = ( R14 . R1 ))) by L764 , L786 , L787;
L789: ( {} ) in ( rng R13 ) by L788 , L756 , L786 , FUNCT_1:def 3 , RELAT_1:38;
L790: ( product R13 ) = ( {} ) by L789 , CARD_3:26;
L791: ( {} ) in ( rng R14 ) by L757 , L786 , L788 , FUNCT_1:def 3 , RELAT_1:38;
thus L792: thesis by L791 , L790 , CARD_3:26;
end;
suppose L793: (not ( {} ) in ( rng R15 ));

L794:
now
let R17 being Function;
assume L795: R17 in ( rng R15 );
consider R1 being set such that L796: R1 in R8 and L797: R17 = ( R15 . R1 ) by L795 , L764 , FUNCT_1:def 3;
L798: (ex R17 being Function st (( R15 . R1 ) = R17 & R17 is  one-to-one & ( dom R17 ) = ( R13 . R1 ) & ( rng R17 ) = ( R14 . R1 ))) by L764 , L796;
thus L799: R17 is  one-to-one by L798 , L797;
end;
thus L800: thesis
proof
take ( Frege R15 );
thus L801: thesis by L783 , L777 , L793 , L794 , L466 , L607 , L609;
end;

end;
end;
thus L802: thesis by L784;
end;
theorem
L803: (for R13 being Function holds (for R14 being Function holds (for R15 being Function holds ((( dom R13 ) = ( dom R15 ) & ( dom R14 ) = ( rng R15 ) & R15 is  one-to-one & (for R1 being set holds (R1 in ( dom R15 ) implies ( R13 . R1 ) , ( R14 . ( R15 . R1 ) ) are_equipotent ))) implies ( product R13 ) , ( product R14 ) are_equipotent ))))
proof
let R13 being Function;
let R14 being Function;
let R15 being Function;
set D22 = ( dom R13 );
assume that
L804: ( dom R13 ) = ( dom R15 )
and
L805: ( dom R14 ) = ( rng R15 )
and
L806: R15 is  one-to-one
and
L807: (for R1 being set holds (R1 in ( dom R15 ) implies ( R13 . R1 ) , ( R14 . ( R15 . R1 ) ) are_equipotent ));
L808: ( R15 * ( R15 " ) ) = ( id ( dom R14 ) ) by L805 , L806 , FUNCT_1:39;
L809: ( dom ( R14 * R15 ) ) = ( dom R13 ) by L804 , L805 , RELAT_1:27;
L810:
now
let R1 being set;
assume L811: R1 in ( dom R13 );
L812: ( R13 . R1 ) , ( R14 . ( R15 . R1 ) ) are_equipotent  by L811 , L804 , L807;
thus L813: ( R13 . R1 ) , ( ( R14 * R15 ) . R1 ) are_equipotent  by L812 , L809 , L811 , FUNCT_1:12;
end;
L814: ( product R13 ) , ( product ( R14 * R15 ) ) are_equipotent  by L810 , L809 , L755;
defpred S8[ set , set ] means (ex R17 being Function st ($1 = R17 & $2 = ( R17 * ( R15 " ) )));
L815: (for R1 being set holds (R1 in ( product ( R14 * R15 ) ) implies (ex R2 being set st S8[ R1 , R2 ])))
proof
let R1 being set;
assume L816: R1 in ( product ( R14 * R15 ) );
L817: (ex R17 being Function st (R1 = R17 & ( dom R17 ) = ( dom ( R14 * R15 ) ) & (for R2 being set holds (R2 in ( dom ( R14 * R15 ) ) implies ( R17 . R2 ) in ( ( R14 * R15 ) . R2 ))))) by L816 , CARD_3:def 5;
consider R17 being Function such that L818: R1 = R17 by L817;
L819: ( R17 * ( R15 " ) ) = ( R17 * ( R15 " ) );
thus L820: thesis by L819 , L818;
end;
consider C29 being Function such that L821: (( dom C29 ) = ( product ( R14 * R15 ) ) & (for R1 being set holds (R1 in ( product ( R14 * R15 ) ) implies S8[ R1 , ( C29 . R1 ) ]))) from CLASSES1:sch 1(L815);
L822: ( rng ( R15 " ) ) = D22 by L804 , L806 , FUNCT_1:33;
L823: C29 is  one-to-one
proof
let R1 being set;
let R2 being set;
assume that
L824: R1 in ( dom C29 )
and
L825: R2 in ( dom C29 )
and
L826: ( C29 . R1 ) = ( C29 . R2 );
consider C30 being Function such that L827: R2 = C30 and L828: ( C29 . R2 ) = ( C30 * ( R15 " ) ) by L821 , L825;
L829: ( dom C30 ) = D22 by L809 , L821 , L825 , L827 , CARD_3:9;
consider C31 being Function such that L830: R1 = C31 and L831: ( C29 . R1 ) = ( C31 * ( R15 " ) ) by L821 , L824;
L832: ( dom C31 ) = D22 by L809 , L821 , L824 , L830 , CARD_3:9;
thus L833: thesis by L832 , L822 , L826 , L830 , L831 , L827 , L828 , L829 , FUNCT_1:86;
end;
L834: (( ( R14 * R15 ) * ( R15 " ) ) = ( R14 * ( R15 * ( R15 " ) ) ) & ( R14 * ( id ( dom R14 ) ) ) = R14) by RELAT_1:36 , RELAT_1:52;
L835: ( product R14 ) c= ( rng C29 )
proof
let R1 being set;
assume L836: R1 in ( product R14 );
consider R17 being Function such that L837: R1 = R17 and L838: ( dom R17 ) = ( dom R14 ) and L839: (for R5 being set holds (R5 in ( dom R14 ) implies ( R17 . R5 ) in ( R14 . R5 ))) by L836 , CARD_3:def 5;
L840: ( dom ( R17 * R15 ) ) = D22 by L804 , L805 , L838 , RELAT_1:27;
L841:
now
let R5 being set;
assume L842: R5 in D22;
L843: ( R15 . R5 ) in ( dom R14 ) by L842 , L804 , L805 , FUNCT_1:def 3;
L844: ( ( R15 " ) . ( R15 . R5 ) ) = R5 by L804 , L806 , L842 , FUNCT_1:34;
L845: ( ( R17 * R15 ) . R5 ) = ( R17 . ( R15 . R5 ) ) by L840 , L842 , FUNCT_1:12;
L846: ( ( R17 * R15 ) . R5 ) in ( ( ( R14 * R15 ) * ( R15 " ) ) . ( R15 . R5 ) ) by L845 , L808 , L834 , L839 , L843;
thus L847: ( ( R17 * R15 ) . R5 ) in ( ( R14 * R15 ) . R5 ) by L846 , L808 , L834 , L843 , L844 , FUNCT_1:12;
end;
L848: ( R17 * R15 ) in ( product ( R14 * R15 ) ) by L841 , L809 , L840 , CARD_3:def 5;
L849: (ex R18 being Function st (( R17 * R15 ) = R18 & ( C29 . ( R17 * R15 ) ) = ( R18 * ( R15 " ) ))) by L848 , L821;
L850: ( C29 . ( R17 * R15 ) ) = ( R17 * ( id ( dom R14 ) ) ) by L849 , L808 , RELAT_1:36
.= R1 by L837 , L838 , RELAT_1:51;
thus L851: thesis by L850 , L821 , L848 , FUNCT_1:def 3;
end;
L852: ( dom ( R15 " ) ) = ( rng R15 ) by L806 , FUNCT_1:33;
L853: ( rng C29 ) c= ( product R14 )
proof
let R1 being set;
assume L854: R1 in ( rng C29 );
consider R2 being set such that L855: R2 in ( dom C29 ) and L856: R1 = ( C29 . R2 ) by L854 , FUNCT_1:def 3;
consider R17 being Function such that L857: R2 = R17 and L858: ( dom R17 ) = D22 and L859: (for R5 being set holds (R5 in D22 implies ( R17 . R5 ) in ( ( R14 * R15 ) . R5 ))) by L809 , L821 , L855 , CARD_3:def 5;
L860: ( dom ( R17 * ( R15 " ) ) ) = ( dom R14 ) by L805 , L822 , L852 , L858 , RELAT_1:27;
L861:
now
let R5 being set;
assume L862: R5 in ( dom R14 );
L863: ( ( R15 " ) . R5 ) in D22 by L862 , L805 , L822 , L852 , FUNCT_1:def 3;
L864: (( R14 . R5 ) = ( ( R14 * R15 ) . ( ( R15 " ) . R5 ) ) & ( ( R17 * ( R15 " ) ) . R5 ) = ( R17 . ( ( R15 " ) . R5 ) )) by L808 , L834 , L860 , L862 , FUNCT_1:12;
thus L865: ( ( R17 * ( R15 " ) ) . R5 ) in ( R14 . R5 ) by L864 , L859 , L863;
end;
L866: (ex R17 being Function st (R2 = R17 & ( C29 . R2 ) = ( R17 * ( R15 " ) ))) by L821 , L855;
thus L867: thesis by L866 , L856 , L857 , L860 , L861 , CARD_3:def 5;
end;
L868: ( rng C29 ) = ( product R14 ) by L853 , L835 , XBOOLE_0:def 10;
L869: ( product ( R14 * R15 ) ) , ( product R14 ) are_equipotent  by L868 , L821 , L823 , WELLORD2:def 4;
thus L870: thesis by L869 , L814 , WELLORD2:15;
end;
theorem
L871: (for R8 being set holds (for R13 being Function holds (for R20 being (Permutation of R8) holds (( dom R13 ) = R8 implies ( product R13 ) , ( product ( R13 * R20 ) ) are_equipotent ))))
proof
let R8 being set;
let R13 being Function;
let R20 being (Permutation of R8);
assume L872: ( dom R13 ) = R8;
L873: ( rng R20 ) = R8 by FUNCT_2:def 3;
L874: ( dom R20 ) = R8 by FUNCT_2:52;
L875: ( dom ( R13 * R20 ) ) = R8 by L874 , L872 , L873 , RELAT_1:27;
L876: ( rng ( R20 " ) ) = R8 by FUNCT_2:def 3;
L877: ( dom ( R20 " ) ) = R8 by FUNCT_2:52;
L878:
now
let R1 being set;
assume L879: R1 in ( dom ( R20 " ) );
L880: ( ( R20 " ) . R1 ) in R8 by L879 , L876 , FUNCT_1:def 3;
L881: ( ( R13 * R20 ) . ( ( R20 " ) . R1 ) ) = ( R13 . ( R20 . ( ( R20 " ) . R1 ) ) ) by L880 , L875 , FUNCT_1:12
.= ( R13 . R1 ) by L877 , L873 , L879 , FUNCT_1:35;
thus L882: ( R13 . R1 ) , ( ( R13 * R20 ) . ( ( R20 " ) . R1 ) ) are_equipotent  by L881;
end;
thus L883: thesis by L878 , L872 , L877 , L876 , L875 , L803;
end;
begin
definition
let R13 being Function;
let R8 being set;
func Funcs (R13 , R8) -> Function means 
:L884: (( dom it ) = ( dom R13 ) & (for R1 being set holds (R1 in ( dom R13 ) implies ( it . R1 ) = ( Funcs (( R13 . R1 ) , R8) ))));
existence
proof
deffunc H9(set) = ( Funcs (( R13 . $1 ) , R8) );
L885: (ex B10 being Function st (( dom B10 ) = ( dom R13 ) & (for R1 being set holds (R1 in ( dom R13 ) implies ( B10 . R1 ) = H9(R1))))) from FUNCT_1:sch 3;
thus L886: thesis by L885;
end;
uniqueness
proof
let R17 being Function;
let R18 being Function;
assume that
L887: ( dom R17 ) = ( dom R13 )
and
L888: (for R1 being set holds (R1 in ( dom R13 ) implies ( R17 . R1 ) = ( Funcs (( R13 . R1 ) , R8) )))
and
L889: ( dom R18 ) = ( dom R13 )
and
L890: (for R1 being set holds (R1 in ( dom R13 ) implies ( R18 . R1 ) = ( Funcs (( R13 . R1 ) , R8) )));
L891:
now
let R1 being set;
assume L892: R1 in ( dom R13 );
L893: ( R17 . R1 ) = ( Funcs (( R13 . R1 ) , R8) ) by L892 , L888;
thus L894: ( R17 . R1 ) = ( R18 . R1 ) by L893 , L890 , L892;
end;
thus L895: thesis by L891 , L887 , L889 , FUNCT_1:2;
end;
end;
theorem
L897: (for R13 being Function holds ((not ( {} ) in ( rng R13 )) implies ( Funcs (R13 , ( {} )) ) = ( ( dom R13 ) --> ( {} ) )))
proof
let R13 being Function;
assume L898: (not ( {} ) in ( rng R13 ));
L899:
now
let R1 being set;
assume L900: R1 in ( dom R13 );
L901: ( R13 . R1 ) <> ( {} ) by L900 , L898 , FUNCT_1:def 3;
thus L902: ( ( ( dom R13 ) --> ( {} ) ) . R1 ) = ( {} ) by L900 , FUNCOP_1:7
.= ( Funcs (( R13 . R1 ) , ( {} )) ) by L901;
end;
L903: ( dom ( ( dom R13 ) --> ( {} ) ) ) = ( dom R13 ) by FUNCOP_1:13;
thus L904: thesis by L903 , L899 , L884;
end;
theorem
L905: (for R8 being set holds ( Funcs (( {} ) , R8) ) = ( {} ))
proof
let R8 being set;
L906: ( dom ( Funcs (( {} ) , R8) ) ) = ( dom ( {} ) ) by L884;
thus L907: thesis by L906;
end;
theorem
L908: (for R8 being set holds (for R9 being set holds (for R10 being set holds ( Funcs (( R8 --> R9 ) , R10) ) = ( R8 --> ( Funcs (R9 , R10) ) ))))
proof
let R8 being set;
let R9 being set;
let R10 being set;
L909: R8 = ( dom ( R8 --> R9 ) ) by FUNCOP_1:13;
L910:
now
let R1 being set;
assume L911: R1 in R8;
L912: ( ( Funcs (( R8 --> R9 ) , R10) ) . R1 ) = ( Funcs (( ( R8 --> R9 ) . R1 ) , R10) ) by L911 , L909 , L884;
thus L913: ( ( Funcs (( R8 --> R9 ) , R10) ) . R1 ) = ( Funcs (R9 , R10) ) by L912 , L911 , FUNCOP_1:7;
end;
L914: ( dom ( Funcs (( R8 --> R9 ) , R10) ) ) = ( dom ( R8 --> R9 ) ) by L884;
thus L915: thesis by L914 , L909 , L910 , FUNCOP_1:11;
end;
L916: (for R1 being set holds (for R2 being set holds (for R5 being set holds (for R13 being Function holds (for R14 being Function holds (([ R1 , R2 ] in ( dom R13 ) & R14 = ( ( curry R13 ) . R1 ) & R5 in ( dom R14 )) implies [ R1 , R5 ] in ( dom R13 )))))))
proof
let R1 being set;
let R2 being set;
let R5 being set;
let R13 being Function;
let R14 being Function;
assume L917: [ R1 , R2 ] in ( dom R13 );
L918: R1 in ( proj1 ( dom R13 ) ) by L917 , XTUPLE_0:def 12;
L919: (ex B11 being Function st (( ( curry R13 ) . R1 ) = B11 & ( dom B11 ) = ( proj2 ( ( dom R13 ) /\ [: { R1 } , ( proj2 ( dom R13 ) ) :] ) ) & (for R2 being set holds (R2 in ( dom B11 ) implies ( B11 . R2 ) = ( R13 . (R1 , R2) ))))) by L918 , FUNCT_5:def 1;
assume L920: (R14 = ( ( curry R13 ) . R1 ) & R5 in ( dom R14 ));
consider R2 being set such that L921: [ R2 , R5 ] in ( ( dom R13 ) /\ [: { R1 } , ( proj2 ( dom R13 ) ) :] ) by L920 , L919 , XTUPLE_0:def 13;
L922: [ R2 , R5 ] in [: { R1 } , ( proj2 ( dom R13 ) ) :] by L921 , XBOOLE_0:def 4;
L923: R2 in { R1 } by L922 , ZFMISC_1:87;
L924: [ R2 , R5 ] in ( dom R13 ) by L921 , XBOOLE_0:def 4;
thus L925: thesis by L924 , L923 , TARSKI:def 1;
end;
theorem
L926: (for R8 being set holds (for R13 being Function holds ( Funcs (( Union ( disjoin R13 ) ) , R8) ) , ( product ( Funcs (R13 , R8) ) ) are_equipotent ))
proof
let R8 being set;
let R13 being Function;
defpred S9[ set , set ] means (ex R14 being Function st (ex R15 being Function st ($1 = R14 & $2 = R15 & ( dom R15 ) = ( dom R13 ) & (for R2 being set holds (R2 in ( dom R13 ) implies ((( R13 . R2 ) = ( {} ) implies ( R15 . R2 ) = ( {} )) & (( R13 . R2 ) <> ( {} ) implies ( R15 . R2 ) = ( ( curry' R14 ) . R2 ))))))));
L927: (for R1 being set holds (R1 in ( Funcs (( Union ( disjoin R13 ) ) , R8) ) implies (ex R5 being set st S9[ R1 , R5 ])))
proof
defpred S10[ set ] means ( R13 . $1 ) = ( {} );
deffunc H10(set) = ( {} );
let R1 being set;
assume L928: R1 in ( Funcs (( Union ( disjoin R13 ) ) , R8) );
consider R14 being Function such that L929: R1 = R14 and L930: ( dom R14 ) = ( Union ( disjoin R13 ) ) and L931: ( rng R14 ) c= R8 by L928 , FUNCT_2:def 2;
deffunc H11(set) = ( ( curry' R14 ) . $1 );
L932: (ex R15 being Function st (( dom R15 ) = ( dom R13 ) & (for R2 being set holds (R2 in ( dom R13 ) implies ((S10[ R2 ] implies ( R15 . R2 ) = H10(R2)) & ((not S10[ R2 ]) implies ( R15 . R2 ) = H11(R2))))))) from PARTFUN1:sch 1;
thus L933: thesis by L932 , L929;
end;
consider C32 being Function such that L934: (( dom C32 ) = ( Funcs (( Union ( disjoin R13 ) ) , R8) ) & (for R1 being set holds (R1 in ( Funcs (( Union ( disjoin R13 ) ) , R8) ) implies S9[ R1 , ( C32 . R1 ) ]))) from CLASSES1:sch 1(L927);
take C32;
thus L935: C32 is  one-to-one
proof
let R1 being set;
let R2 being set;
assume that
L936: R1 in ( dom C32 )
and
L937: R2 in ( dom C32 )
and
L938: ( C32 . R1 ) = ( C32 . R2 );
L939: (ex B12 being Function st (R2 = B12 & ( dom B12 ) = ( Union ( disjoin R13 ) ) & ( rng B12 ) c= R8)) by L934 , L937 , FUNCT_2:def 2;
consider C33 , C34 being Function such that L940: R1 = C33 and L941: ( C32 . R1 ) = C34 and L942: ( dom C34 ) = ( dom R13 ) and L943: (for R2 being set holds (R2 in ( dom R13 ) implies ((( R13 . R2 ) = ( {} ) implies ( C34 . R2 ) = ( {} )) & (( R13 . R2 ) <> ( {} ) implies ( C34 . R2 ) = ( ( curry' C33 ) . R2 ))))) by L934 , L936;
consider C35 , C36 being Function such that L944: R2 = C35 and L945: ( C32 . R2 ) = C36 and L946: ( dom C36 ) = ( dom R13 ) and L947: (for R2 being set holds (R2 in ( dom R13 ) implies ((( R13 . R2 ) = ( {} ) implies ( C36 . R2 ) = ( {} )) & (( R13 . R2 ) <> ( {} ) implies ( C36 . R2 ) = ( ( curry' C35 ) . R2 ))))) by L934 , L937;
L948: (ex B13 being Function st (R1 = B13 & ( dom B13 ) = ( Union ( disjoin R13 ) ) & ( rng B13 ) c= R8)) by L934 , L936 , FUNCT_2:def 2;
L949:
now
let R5 being set;
assume L950: R5 in ( Union ( disjoin R13 ) );
L951: R5 = [ ( R5 `1 ) , ( R5 `2 ) ] by L950 , CARD_3:22;
L952: (( R5 `2 ) in ( dom R13 ) & ( R5 `1 ) in ( R13 . ( R5 `2 ) )) by L950 , CARD_3:22;
L953: ( C36 . ( R5 `2 ) ) = ( ( curry' C35 ) . ( R5 `2 ) ) by L952 , L947;
reconsider D23 = ( C34 . ( R5 `2 ) ) , D24 = ( C36 . ( R5 `2 ) ) as Function by L953 , L938 , L939 , L941 , L944 , L945 , L950 , L951 , FUNCT_5:21;
L954: ( C35 . (( R5 `1 ) , ( R5 `2 )) ) = ( D24 . ( R5 `1 ) ) by L939 , L944 , L950 , L951 , L953 , FUNCT_5:22;
L955: ( C34 . ( R5 `2 ) ) = ( ( curry' C33 ) . ( R5 `2 ) ) by L943 , L952;
L956: ( C33 . (( R5 `1 ) , ( R5 `2 )) ) = ( D23 . ( R5 `1 ) ) by L955 , L948 , L940 , L950 , L951 , FUNCT_5:22;
thus L957: ( C33 . R5 ) = ( C35 . R5 ) by L956 , L938 , L941 , L945 , L951 , L954;
end;
thus L958: thesis by L949 , L948 , L939 , L940 , L944 , FUNCT_1:2;
end;

thus L959: ( dom C32 ) = ( Funcs (( Union ( disjoin R13 ) ) , R8) ) by L934;
thus L960: ( rng C32 ) c= ( product ( Funcs (R13 , R8) ) )
proof
let R2 being set;
assume L961: R2 in ( rng C32 );
consider R1 being set such that L962: R1 in ( dom C32 ) and L963: R2 = ( C32 . R1 ) by L961 , FUNCT_1:def 3;
consider R14 being Function, R15 being Function such that L964: R1 = R14 and L965: ( C32 . R1 ) = R15 and L966: ( dom R15 ) = ( dom R13 ) and L967: (for R2 being set holds (R2 in ( dom R13 ) implies ((( R13 . R2 ) = ( {} ) implies ( R15 . R2 ) = ( {} )) & (( R13 . R2 ) <> ( {} ) implies ( R15 . R2 ) = ( ( curry' R14 ) . R2 ))))) by L934 , L962;
L968: (ex B14 being Function st (R1 = B14 & ( dom B14 ) = ( Union ( disjoin R13 ) ) & ( rng B14 ) c= R8)) by L934 , L962 , FUNCT_2:def 2;
L969:
now
let R5 being set;
assume L970: R5 in ( dom ( Funcs (R13 , R8) ) );
L971: R5 in ( dom R13 ) by L970 , L884;
L972: ( ( Funcs (R13 , R8) ) . R5 ) = ( Funcs (( R13 . R5 ) , R8) ) by L971 , L884;
L973:
now
set D25 = the (Element of ( R13 . R5 ));
assume L974: ( R13 . R5 ) <> ( {} );
L975: (( [ D25 , R5 ] `1 ) = D25 & ( [ D25 , R5 ] `2 ) = R5);
L976: [ D25 , R5 ] in ( Union ( disjoin R13 ) ) by L975 , L971 , L974 , CARD_3:22;
reconsider D26 = ( ( curry' R14 ) . R5 ) as Function by L976 , L964 , L968 , FUNCT_5:21;
L977: R5 in ( dom ( curry' R14 ) ) by L964 , L968 , L976 , FUNCT_5:21;
L978: ( rng D26 ) c= ( rng R14 ) by L977 , FUNCT_5:34;
L979: ( rng D26 ) c= R8 by L978 , L964 , L968 , XBOOLE_1:1;
L980: ( dom D26 ) = ( proj1 ( ( dom R14 ) /\ [: ( proj1 ( dom R14 ) ) , { R5 } :] ) ) by L977 , FUNCT_5:34;
L981: ( dom D26 ) = ( R13 . R5 )
proof
thus L982: ( dom D26 ) c= ( R13 . R5 )
proof
let C37 being set;
assume L983: C37 in ( dom D26 );
consider C38 being set such that L984: [ C37 , C38 ] in ( ( dom R14 ) /\ [: ( proj1 ( dom R14 ) ) , { R5 } :] ) by L983 , L980 , XTUPLE_0:def 12;
L985: [ C37 , C38 ] in [: ( proj1 ( dom R14 ) ) , { R5 } :] by L984 , XBOOLE_0:def 4;
L986: C38 in { R5 } by L985 , ZFMISC_1:87;
L987: (( [ C37 , C38 ] `1 ) = C37 & ( [ C37 , C38 ] `2 ) = C38);
L988: [ C37 , C38 ] in ( dom R14 ) by L984 , XBOOLE_0:def 4;
L989: C37 in ( R13 . C38 ) by L988 , L964 , L968 , L987 , CARD_3:22;
thus L990: thesis by L989 , L986 , TARSKI:def 1;
end;

let C39 being set;
assume that
L991: C39 in ( R13 . R5 );
L992: R5 in { R5 } by TARSKI:def 1;
L993: (( [ C39 , R5 ] `1 ) = C39 & ( [ C39 , R5 ] `2 ) = R5);
L994: [ C39 , R5 ] in ( dom R14 ) by L993 , L964 , L968 , L971 , L991 , CARD_3:22;
L995: C39 in ( proj1 ( dom R14 ) ) by L994 , XTUPLE_0:def 12;
L996: [ C39 , R5 ] in [: ( proj1 ( dom R14 ) ) , { R5 } :] by L995 , L992 , ZFMISC_1:87;
L997: [ C39 , R5 ] in ( ( dom R14 ) /\ [: ( proj1 ( dom R14 ) ) , { R5 } :] ) by L996 , L994 , XBOOLE_0:def 4;
thus L998: thesis by L997 , L980 , XTUPLE_0:def 12;
end;
L999: ( R15 . R5 ) = D26 by L967 , L971 , L974;
thus L1000: ( R15 . R5 ) in ( ( Funcs (R13 , R8) ) . R5 ) by L999 , L972 , L979 , L981 , FUNCT_2:def 2;
end;
L1001:
now
assume L1002: ( R13 . R5 ) = ( {} );
L1003: (( R15 . R5 ) = ( {} ) & ( ( Funcs (R13 , R8) ) . R5 ) = { ( {} ) }) by L1002 , L967 , L971 , L972 , FUNCT_5:57;
thus L1004: ( R15 . R5 ) in ( ( Funcs (R13 , R8) ) . R5 ) by L1003 , TARSKI:def 1;
end;
thus L1005: ( R15 . R5 ) in ( ( Funcs (R13 , R8) ) . R5 ) by L1001 , L973;
end;
L1006: ( dom R15 ) = ( dom ( Funcs (R13 , R8) ) ) by L966 , L884;
thus L1007: thesis by L1006 , L963 , L965 , L969 , CARD_3:def 5;
end;

let R1 being set;
assume L1008: R1 in ( product ( Funcs (R13 , R8) ) );
consider C40 being Function such that L1009: R1 = C40 and L1010: ( dom C40 ) = ( dom ( Funcs (R13 , R8) ) ) and L1011: (for R5 being set holds (R5 in ( dom ( Funcs (R13 , R8) ) ) implies ( C40 . R5 ) in ( ( Funcs (R13 , R8) ) . R5 ))) by L1008 , CARD_3:def 5;
L1012: ( dom C40 ) = ( dom R13 ) by L1010 , L884;
L1013: ( uncurry' C40 ) = ( ~ ( uncurry C40 ) ) by FUNCT_5:def 4;
L1014: ( dom ( uncurry' C40 ) ) = ( Union ( disjoin R13 ) )
proof
thus L1015: ( dom ( uncurry' C40 ) ) c= ( Union ( disjoin R13 ) )
proof
let R5 being set;
assume L1016: R5 in ( dom ( uncurry' C40 ) );
consider C41 , C42 being set such that L1017: R5 = [ C41 , C42 ] by L1016 , L1013 , L13;
L1018: (( R5 `1 ) = C41 & ( R5 `2 ) = C42) by L1017 , MCART_1:7;
L1019: [ C42 , C41 ] in ( dom ( uncurry C40 ) ) by L1013 , L1016 , L1017 , FUNCT_4:42;
consider C43 being set, C44 being Function, C45 being set such that L1020: [ C42 , C41 ] = [ C43 , C45 ] and L1021: C43 in ( dom C40 ) and L1022: C44 = ( C40 . C43 ) and L1023: C45 in ( dom C44 ) by L1019 , FUNCT_5:def 2;
L1024: (( [ C43 , C45 ] `1 ) = C43 & ( [ C42 , C41 ] `1 ) = C42);
L1025: (C44 in ( ( Funcs (R13 , R8) ) . C43 ) & ( ( Funcs (R13 , R8) ) . C43 ) = ( Funcs (( R13 . C43 ) , R8) )) by L1010 , L1011 , L1012 , L1021 , L1022 , L884;
L1026: (ex B15 being Function st (C44 = B15 & ( dom B15 ) = ( R13 . C42 ) & ( rng B15 ) c= R8)) by L1025 , L1020 , L1024 , FUNCT_2:def 2;
L1027: (( [ C43 , C45 ] `2 ) = C45 & ( [ C42 , C41 ] `2 ) = C41);
thus L1028: thesis by L1027 , L1012 , L1017 , L1020 , L1021 , L1023 , L1018 , L1024 , L1026 , CARD_3:22;
end;

let R5 being set;
assume L1029: R5 in ( Union ( disjoin R13 ) );
L1030: (( R5 `1 ) in ( R13 . ( R5 `2 ) ) & R5 = [ ( R5 `1 ) , ( R5 `2 ) ]) by L1029 , CARD_3:22;
L1031: ( R5 `2 ) in ( dom R13 ) by L1029 , CARD_3:22;
L1032: (( C40 . ( R5 `2 ) ) in ( ( Funcs (R13 , R8) ) . ( R5 `2 ) ) & ( ( Funcs (R13 , R8) ) . ( R5 `2 ) ) = ( Funcs (( R13 . ( R5 `2 ) ) , R8) )) by L1031 , L1010 , L1011 , L1012 , L884;
L1033: (ex B16 being Function st (( C40 . ( R5 `2 ) ) = B16 & ( dom B16 ) = ( R13 . ( R5 `2 ) ) & ( rng B16 ) c= R8)) by L1032 , FUNCT_2:def 2;
thus L1034: thesis by L1033 , L1012 , L1031 , L1030 , FUNCT_5:39;
end;
L1035: ( rng ( uncurry' C40 ) ) c= R8
proof
let C46 being set;
assume L1036: C46 in ( rng ( uncurry' C40 ) );
consider R5 being set such that L1037: R5 in ( dom ( uncurry' C40 ) ) and L1038: C46 = ( ( uncurry' C40 ) . R5 ) by L1036 , FUNCT_1:def 3;
consider C47 , C48 being set such that L1039: R5 = [ C47 , C48 ] by L1013 , L1037 , L13;
L1040: [ C48 , C47 ] in ( dom ( uncurry C40 ) ) by L1013 , L1037 , L1039 , FUNCT_4:42;
consider C49 being set, C50 being Function, C51 being set such that L1041: [ C48 , C47 ] = [ C49 , C51 ] and L1042: (C49 in ( dom C40 ) & C50 = ( C40 . C49 )) and L1043: C51 in ( dom C50 ) by L1040 , FUNCT_5:def 2;
L1044: (( [ C49 , C51 ] `1 ) = C49 & ( [ C48 , C47 ] `1 ) = C48);
L1045: (C50 in ( ( Funcs (R13 , R8) ) . C49 ) & ( ( Funcs (R13 , R8) ) . C49 ) = ( Funcs (( R13 . C49 ) , R8) )) by L1010 , L1011 , L1012 , L1042 , L884;
L1046: (ex B17 being Function st (C50 = B17 & ( dom B17 ) = ( R13 . C48 ) & ( rng B17 ) c= R8)) by L1045 , L1041 , L1044 , FUNCT_2:def 2;
L1047: (( [ C49 , C51 ] `2 ) = C51 & ( [ C48 , C47 ] `2 ) = C47);
L1048: ( ( uncurry' C40 ) . (C51 , C49) ) = ( C50 . C51 ) by L1042 , L1043 , FUNCT_5:39;
L1049: C46 in ( rng C50 ) by L1048 , L1038 , L1039 , L1041 , L1043 , L1044 , L1047 , FUNCT_1:def 3;
thus L1050: thesis by L1049 , L1046;
end;
L1051: ( uncurry' C40 ) in ( dom C32 ) by L1035 , L934 , L1014 , FUNCT_2:def 2;
consider R14 being Function, R15 being Function such that L1052: ( uncurry' C40 ) = R14 and L1053: ( C32 . ( uncurry' C40 ) ) = R15 and L1054: ( dom R15 ) = ( dom R13 ) and L1055: (for R2 being set holds (R2 in ( dom R13 ) implies ((( R13 . R2 ) = ( {} ) implies ( R15 . R2 ) = ( {} )) & (( R13 . R2 ) <> ( {} ) implies ( R15 . R2 ) = ( ( curry' R14 ) . R2 ))))) by L1051 , L934;
L1056:
now
let R5 being set;
assume L1057: R5 in ( dom R13 );
L1058: (( C40 . R5 ) in ( ( Funcs (R13 , R8) ) . R5 ) & ( ( Funcs (R13 , R8) ) . R5 ) = ( Funcs (( R13 . R5 ) , R8) )) by L1057 , L1010 , L1011 , L1012 , L884;
consider C52 being Function such that L1059: ( C40 . R5 ) = C52 and L1060: ( dom C52 ) = ( R13 . R5 ) and L1061: ( rng C52 ) c= R8 by L1058 , FUNCT_2:def 2;
L1062:
now
set D27 = the (Element of ( R13 . R5 ));
assume L1063: ( R13 . R5 ) <> ( {} );
L1064: [ D27 , R5 ] in ( dom ( uncurry' C40 ) ) by L1063 , L1012 , L1057 , L1059 , L1060 , FUNCT_5:39;
reconsider D28 = ( ( curry' ( uncurry' C40 ) ) . R5 ) as Function by L1064 , FUNCT_5:21;
L1065: D28 = ( ( curry ( ~ ( uncurry' C40 ) ) ) . R5 ) by FUNCT_5:def 3;
L1066: ( ~ ( uncurry' C40 ) ) = ( uncurry C40 ) by L30;
L1067: [ R5 , D27 ] in ( dom ( uncurry C40 ) ) by L1066 , L1064 , FUNCT_4:42;
L1068: ( dom D28 ) = ( dom C52 )
proof
thus L1069: ( dom D28 ) c= ( dom C52 )
proof
let C53 being set;
assume L1070: C53 in ( dom D28 );
L1071: [ R5 , C53 ] in ( dom ( uncurry C40 ) ) by L1070 , L1065 , L1066 , L1067 , L916;
consider C54 being set, C55 being Function, C56 being set such that L1072: [ R5 , C53 ] = [ C54 , C56 ] and L1073: C54 in ( dom C40 ) and L1074: (C55 = ( C40 . C54 ) & C56 in ( dom C55 )) by L1071 , FUNCT_5:def 2;
L1075: R5 = C54 by L1072 , XTUPLE_0:1;
thus L1076: thesis by L1075 , L1059 , L1072 , L1074 , XTUPLE_0:1;
end;

let C57 being set;
assume L1077: C57 in ( dom C52 );
L1078: [ R5 , C57 ] in ( dom ( uncurry C40 ) ) by L1077 , L1012 , L1057 , L1059 , FUNCT_5:38;
thus L1079: thesis by L1078 , L1065 , L1066 , FUNCT_5:20;
end;
L1080:
now
let C58 being set;
assume L1081: C58 in ( R13 . R5 );
L1082: [ R5 , C58 ] in ( dom ( uncurry C40 ) ) by L1081 , L1060 , L1065 , L1066 , L1067 , L1068 , L916;
consider C59 being set, C60 being Function, C61 being set such that L1083: [ R5 , C58 ] = [ C59 , C61 ] and L1084: (C59 in ( dom C40 ) & C60 = ( C40 . C59 ) & C61 in ( dom C60 )) by L1082 , FUNCT_5:def 2;
L1085: ( D28 . C58 ) = ( ( uncurry C40 ) . (R5 , C58) ) by L1065 , L1066 , L1082 , FUNCT_5:20;
L1086: (R5 = C59 & C58 = C61) by L1083 , XTUPLE_0:1;
thus L1087: ( D28 . C58 ) = ( C52 . C58 ) by L1086 , L1059 , L1084 , L1085 , FUNCT_5:38;
end;
L1088: C52 = D28 by L1080 , L1060 , L1068 , FUNCT_1:2;
thus L1089: ( C40 . R5 ) = ( R15 . R5 ) by L1088 , L1052 , L1055 , L1057 , L1059 , L1063;
end;
L1090: (( R13 . R5 ) = ( {} ) implies (( C40 . R5 ) = ( {} ) & ( R15 . R5 ) = ( {} ))) by L1055 , L1057 , L1059 , L1060;
thus L1091: ( C40 . R5 ) = ( R15 . R5 ) by L1090 , L1062;
end;
L1092: R15 = C40 by L1056 , L1012 , L1054 , FUNCT_1:2;
thus L1093: thesis by L1092 , L1009 , L1051 , L1053 , FUNCT_1:def 3;
end;
definition
let R8 being set;
let R13 being Function;
func Funcs (R8 , R13) -> Function means 
:L1094: (( dom it ) = ( dom R13 ) & (for R1 being set holds (R1 in ( dom R13 ) implies ( it . R1 ) = ( Funcs (R8 , ( R13 . R1 )) ))));
existence
proof
deffunc H12(set) = ( Funcs (R8 , ( R13 . $1 )) );
L1095: (ex B18 being Function st (( dom B18 ) = ( dom R13 ) & (for R1 being set holds (R1 in ( dom R13 ) implies ( B18 . R1 ) = H12(R1))))) from FUNCT_1:sch 3;
thus L1096: thesis by L1095;
end;
uniqueness
proof
let R17 being Function;
let R18 being Function;
assume that
L1097: ( dom R17 ) = ( dom R13 )
and
L1098: (for R1 being set holds (R1 in ( dom R13 ) implies ( R17 . R1 ) = ( Funcs (R8 , ( R13 . R1 )) )))
and
L1099: ( dom R18 ) = ( dom R13 )
and
L1100: (for R1 being set holds (R1 in ( dom R13 ) implies ( R18 . R1 ) = ( Funcs (R8 , ( R13 . R1 )) )));
L1101:
now
let R1 being set;
assume L1102: R1 in ( dom R13 );
L1103: ( R17 . R1 ) = ( Funcs (R8 , ( R13 . R1 )) ) by L1102 , L1098;
thus L1104: ( R17 . R1 ) = ( R18 . R1 ) by L1103 , L1100 , L1102;
end;
thus L1105: thesis by L1101 , L1097 , L1099 , FUNCT_1:2;
end;
end;
L1107: (for R8 being set holds (for R13 being Function holds ((R13 <> ( {} ) & R8 <> ( {} )) implies ( product ( Funcs (R8 , R13) ) ) , ( Funcs (R8 , ( product R13 )) ) are_equipotent )))
proof
let R8 being set;
let R13 being Function;
defpred S11[ set , set ] means (ex R14 being Function st ($1 = R14 & $2 = <: R14 :>));
assume that
L1108: R13 <> ( {} )
and
L1109: R8 <> ( {} );
L1110: (for R1 being set holds (R1 in ( product ( Funcs (R8 , R13) ) ) implies (ex R2 being set st S11[ R1 , R2 ])))
proof
let R1 being set;
assume L1111: R1 in ( product ( Funcs (R8 , R13) ) );
L1112: (ex R14 being Function st (R1 = R14 & ( dom R14 ) = ( dom ( Funcs (R8 , R13) ) ) & (for R1 being set holds (R1 in ( dom ( Funcs (R8 , R13) ) ) implies ( R14 . R1 ) in ( ( Funcs (R8 , R13) ) . R1 ))))) by L1111 , CARD_3:def 5;
reconsider D29 = R1 as Function by L1112;
reconsider D30 = <: D29 :> as set;
take D30;
take D29;
thus L1113: thesis;
end;
consider C62 being Function such that L1114: (( dom C62 ) = ( product ( Funcs (R8 , R13) ) ) & (for R1 being set holds (R1 in ( product ( Funcs (R8 , R13) ) ) implies S11[ R1 , ( C62 . R1 ) ]))) from CLASSES1:sch 1(L1110);
take C62;
L1115: (for R14 being Function holds (R14 in ( product ( Funcs (R8 , R13) ) ) implies (( dom <: R14 :> ) = R8 & ( SubFuncs ( rng R14 ) ) = ( rng R14 ) & ( rng <: R14 :> ) c= ( product R13 ))))
proof
let R14 being Function;
L1116: ( R14 " ( rng R14 ) ) = ( dom R14 ) by RELAT_1:134;
L1117: ( dom ( Funcs (R8 , R13) ) ) = ( dom R13 ) by L1094;
assume L1118: R14 in ( product ( Funcs (R8 , R13) ) );
L1119: ( dom R14 ) = ( dom ( Funcs (R8 , R13) ) ) by L1118 , CARD_3:9;
L1120:
now
let C63 being set;
assume L1121: C63 in ( rng R14 );
consider R5 being set such that L1122: R5 in ( dom R14 ) and L1123: C63 = ( R14 . R5 ) by L1121 , FUNCT_1:def 3;
L1124: (( R14 . R5 ) in ( ( Funcs (R8 , R13) ) . R5 ) & ( ( Funcs (R8 , R13) ) . R5 ) = ( Funcs (R8 , ( R13 . R5 )) )) by L1118 , L1119 , L1117 , L1122 , L1094 , CARD_3:9;
thus L1125: C63 is Function by L1124 , L1123;
end;
L1126: ( SubFuncs ( rng R14 ) ) = ( rng R14 ) by L1120 , L284;
L1127:
now
let R5 being set;
assume L1128: R5 in ( dom R13 );
L1129: (( R14 . R5 ) in ( ( Funcs (R8 , R13) ) . R5 ) & ( ( Funcs (R8 , R13) ) . R5 ) = ( Funcs (R8 , ( R13 . R5 )) )) by L1128 , L1118 , L1117 , L1094 , CARD_3:9;
L1130: (ex R15 being Function st (( R14 . R5 ) = R15 & ( dom R15 ) = R8 & ( rng R15 ) c= ( R13 . R5 ))) by L1129 , FUNCT_2:def 2;
thus L1131: ( ( ( dom R13 ) --> R8 ) . R5 ) = ( proj1 ( R14 . R5 ) ) by L1130 , L1128 , FUNCOP_1:7;
end;
L1132: ( dom ( ( dom R13 ) --> R8 ) ) = ( dom R13 ) by FUNCOP_1:13;
L1133: ( doms R14 ) = ( ( dom R13 ) --> R8 ) by L1132 , L1119 , L1117 , L1126 , L1116 , L1127 , L300;
L1134: ( meet ( doms R14 ) ) = R8 by L1133 , L1108 , L371;
thus L1135: (( dom <: R14 :> ) = R8 & ( SubFuncs ( rng R14 ) ) = ( rng R14 )) by L1134 , L1120 , L284 , L382;
let R2 being set;
assume L1136: R2 in ( rng <: R14 :> );
consider R1 being set such that L1137: R1 in ( dom <: R14 :> ) and L1138: R2 = ( <: R14 :> . R1 ) by L1136 , FUNCT_1:def 3;
reconsider D31 = R2 as Function by L1137 , L1138 , L403;
L1139: ( dom D31 ) = ( dom R13 ) by L1119 , L1117 , L1126 , L1116 , L1137 , L1138 , L409;
L1140:
now
let R5 being set;
assume L1141: R5 in ( dom R13 );
L1142: ( ( uncurry R14 ) . (R5 , R1) ) = ( D31 . R5 ) by L1141 , L1137 , L1138 , L1139 , L409;
L1143: (( R14 . R5 ) in ( ( Funcs (R8 , R13) ) . R5 ) & ( ( Funcs (R8 , R13) ) . R5 ) = ( Funcs (R8 , ( R13 . R5 )) )) by L1118 , L1117 , L1141 , L1094 , CARD_3:9;
consider C64 being Function such that L1144: ( R14 . R5 ) = C64 and L1145: ( dom C64 ) = R8 and L1146: ( rng C64 ) c= ( R13 . R5 ) by L1143 , FUNCT_2:def 2;
L1147: ( C64 . R1 ) in ( rng C64 ) by L1135 , L1137 , L1145 , FUNCT_1:def 3;
L1148: ( ( uncurry R14 ) . (R5 , R1) ) = ( C64 . R1 ) by L1119 , L1117 , L1135 , L1137 , L1141 , L1144 , L1145 , FUNCT_5:38;
thus L1149: ( D31 . R5 ) in ( R13 . R5 ) by L1148 , L1146 , L1142 , L1147;
end;
thus L1150: thesis by L1140 , L1139 , CARD_3:def 5;
end;
thus L1151: C62 is  one-to-one
proof
let R1 being set;
let R2 being set;
assume that
L1152: R1 in ( dom C62 )
and
L1153: R2 in ( dom C62 )
and
L1154: ( C62 . R1 ) = ( C62 . R2 )
and
L1155: R1 <> R2;
consider C65 being Function such that L1156: R2 = C65 and L1157: ( C62 . R2 ) = <: C65 :> by L1114 , L1153;
consider C66 being Function such that L1158: R1 = C66 and L1159: ( C62 . R1 ) = <: C66 :> by L1114 , L1152;
L1160: ( dom C66 ) = ( dom ( Funcs (R8 , R13) ) ) by L1114 , L1152 , L1158 , CARD_3:9;
L1161: ( dom ( Funcs (R8 , R13) ) ) = ( dom R13 ) by L1094;
L1162: ( dom C65 ) = ( dom ( Funcs (R8 , R13) ) ) by L1114 , L1153 , L1156 , CARD_3:9;
L1163:
now
let R5 being set;
assume L1164: R5 in ( dom R13 );
L1165: ( ( Funcs (R8 , R13) ) . R5 ) = ( Funcs (R8 , ( R13 . R5 )) ) by L1164 , L1094;
L1166: ( C65 . R5 ) in ( ( Funcs (R8 , R13) ) . R5 ) by L1114 , L1153 , L1156 , L1161 , L1164 , CARD_3:9;
consider C67 being Function such that L1167: (( C65 . R5 ) = C67 & ( dom C67 ) = R8) and L1168: ( rng C67 ) c= ( R13 . R5 ) by L1166 , L1165 , FUNCT_2:def 2;
L1169: ( C66 . R5 ) in ( ( Funcs (R8 , R13) ) . R5 ) by L1114 , L1152 , L1158 , L1161 , L1164 , CARD_3:9;
consider C68 being Function such that L1170: (( C66 . R5 ) = C68 & ( dom C68 ) = R8) and L1171: ( rng C68 ) c= ( R13 . R5 ) by L1169 , L1165 , FUNCT_2:def 2;
L1172: ( dom <: C66 :> ) = R8 by L1114 , L1115 , L1152 , L1158;
L1173: (( SubFuncs ( rng C66 ) ) = ( rng C66 ) & ( C66 " ( rng C66 ) ) = ( dom C66 )) by L1114 , L1115 , L1152 , L1158 , RELAT_1:134;
L1174:
now
let C69 being set;
assume L1175: C69 in R8;
reconsider D32 = ( <: C66 :> . C69 ) as Function by L1175 , L1172 , L403;
L1176: (( ( uncurry C66 ) . (R5 , C69) ) = ( C68 . C69 ) & ( ( uncurry C65 ) . (R5 , C69) ) = ( C67 . C69 )) by L1160 , L1162 , L1161 , L1164 , L1170 , L1167 , L1175 , FUNCT_5:38;
L1177: ( dom D32 ) = ( dom C66 ) by L1172 , L1173 , L1175 , L409;
L1178: ( D32 . R5 ) = ( ( uncurry C66 ) . (R5 , C69) ) by L1177 , L1160 , L1161 , L1164 , L1172 , L1175 , L409;
thus L1179: ( C68 . C69 ) = ( C67 . C69 ) by L1178 , L1154 , L1159 , L1157 , L1160 , L1161 , L1164 , L1172 , L1175 , L1177 , L1176 , L409;
end;
thus L1180: ( C66 . R5 ) = ( C65 . R5 ) by L1174 , L1170 , L1167 , FUNCT_1:2;
end;
thus L1181: thesis by L1163 , L1155 , L1158 , L1156 , L1160 , L1162 , L1161 , FUNCT_1:2;
end;

thus L1182: ( dom C62 ) = ( product ( Funcs (R8 , R13) ) ) by L1114;
thus L1183: ( rng C62 ) c= ( Funcs (R8 , ( product R13 )) )
proof
let R2 being set;
assume L1184: R2 in ( rng C62 );
consider R1 being set such that L1185: R1 in ( dom C62 ) and L1186: R2 = ( C62 . R1 ) by L1184 , FUNCT_1:def 3;
consider R14 being Function such that L1187: R1 = R14 and L1188: R2 = <: R14 :> by L1114 , L1185 , L1186;
L1189: (( dom <: R14 :> ) = R8 & ( rng <: R14 :> ) c= ( product R13 )) by L1114 , L1115 , L1185 , L1187;
thus L1190: thesis by L1189 , L1188 , FUNCT_2:def 2;
end;

let R2 being set;
assume L1191: R2 in ( Funcs (R8 , ( product R13 )) );
consider R15 being Function such that L1192: R2 = R15 and L1193: ( dom R15 ) = R8 and L1194: ( rng R15 ) c= ( product R13 ) by L1191 , FUNCT_2:def 2;
set D33 = <: R15 :>;
L1195: ( R15 " ( rng R15 ) ) = ( dom R15 ) by RELAT_1:134;
L1196:
now
let R5 being set;
assume L1197: R5 in R8;
L1198: ( R15 . R5 ) in ( rng R15 ) by L1197 , L1193 , FUNCT_1:def 3;
L1199: (ex B19 being Function st (( R15 . R5 ) = B19 & ( dom B19 ) = ( dom R13 ) & (for R1 being set holds (R1 in ( dom R13 ) implies ( B19 . R1 ) in ( R13 . R1 ))))) by L1198 , L1194 , CARD_3:def 5;
thus L1200: ( ( R8 --> ( dom R13 ) ) . R5 ) = ( dom R13 ) by L1197 , FUNCOP_1:7
.= ( ( doms R15 ) . R5 ) by L1193 , L1197 , L1199 , L325;
end;
L1201: ( meet ( doms R15 ) ) = ( dom D33 ) by L382;
L1202:
now
let R5 being set;
assume L1203: R5 in ( rng R15 );
L1204: (ex B20 being Function st (R5 = B20 & ( dom B20 ) = ( dom R13 ) & (for R1 being set holds (R1 in ( dom R13 ) implies ( B20 . R1 ) in ( R13 . R1 ))))) by L1203 , L1194 , CARD_3:def 5;
thus L1205: R5 is Function by L1204;
end;
L1206: ( SubFuncs ( rng R15 ) ) = ( rng R15 ) by L1202 , L284;
L1207: (( dom ( doms R15 ) ) = ( R15 " ( SubFuncs ( rng R15 ) ) ) & ( dom ( ( dom R15 ) --> ( dom R13 ) ) ) = ( dom R15 )) by L300 , FUNCOP_1:13;
L1208: ( R8 --> ( dom R13 ) ) = ( doms R15 ) by L1207 , L1193 , L1206 , L1195 , L1196 , FUNCT_1:2;
L1209: ( dom D33 ) = ( dom R13 ) by L1208 , L1109 , L1201 , L371;
L1210:
now
let R5 being set;
assume L1211: R5 in ( dom R13 );
reconsider D34 = ( D33 . R5 ) as Function by L1211 , L1209 , L403;
L1212: ( dom D34 ) = R8 by L1193 , L1206 , L1195 , L1209 , L1211 , L409;
L1213: ( rng D34 ) c= ( R13 . R5 )
proof
let R1 being set;
assume L1214: R1 in ( rng D34 );
consider C70 being set such that L1215: C70 in ( dom D34 ) and L1216: R1 = ( D34 . C70 ) by L1214 , FUNCT_1:def 3;
L1217: ( R15 . C70 ) in ( rng R15 ) by L1193 , L1212 , L1215 , FUNCT_1:def 3;
consider C71 being Function such that L1218: (( R15 . C70 ) = C71 & ( dom C71 ) = ( dom R13 )) and L1219: (for R1 being set holds (R1 in ( dom R13 ) implies ( C71 . R1 ) in ( R13 . R1 ))) by L1217 , L1194 , CARD_3:def 5;
L1220: ( D34 . C70 ) = ( ( uncurry R15 ) . (C70 , R5) ) by L1209 , L1211 , L1215 , L409
.= ( C71 . R5 ) by L1193 , L1211 , L1212 , L1215 , L1218 , FUNCT_5:38;
thus L1221: thesis by L1220 , L1211 , L1216 , L1219;
end;
L1222: ( D33 . R5 ) in ( Funcs (R8 , ( R13 . R5 )) ) by L1213 , L1212 , FUNCT_2:def 2;
thus L1223: ( D33 . R5 ) in ( ( Funcs (R8 , R13) ) . R5 ) by L1222 , L1211 , L1094;
end;
L1224: ( meet ( doms D33 ) ) = ( dom <: D33 :> ) by L382;
L1225: ( product R13 ) c= ( Funcs (( dom R13 ) , ( Union R13 )) ) by L1;
L1226: ( rng R15 ) c= ( Funcs (( dom R13 ) , ( Union R13 )) ) by L1225 , L1194 , XBOOLE_1:1;
L1227: ( dom ( uncurry R15 ) ) = [: ( dom R15 ) , ( dom R13 ) :] by L1226 , FUNCT_5:26;
L1228: ( dom R13 ) = ( dom ( Funcs (R8 , R13) ) ) by L1094;
L1229: D33 in ( product ( Funcs (R8 , R13) ) ) by L1228 , L1209 , L1210 , CARD_3:def 5;
L1230: (ex B21 being Function st (D33 = B21 & ( C62 . D33 ) = <: B21 :>)) by L1229 , L1114;
L1231: ( dom ( uncurry' R15 ) ) = [: ( dom R13 ) , ( dom R15 ) :] by L1226 , FUNCT_5:26;
L1232: ( ( uncurry' R15 ) | ([: ( meet ( doms R15 ) ) , ( dom R15 ) :] qua set) ) = ( uncurry' R15 ) by L1231 , L1201 , L1209 , RELAT_1:68;
L1233: (( uncurry' R15 ) = ( ~ ( uncurry R15 ) ) & ( curry ( ~ ( uncurry R15 ) ) ) = ( curry' ( uncurry R15 ) )) by FUNCT_5:def 3 , FUNCT_5:def 4;
L1234: ( dom <: D33 :> ) = R8 by L1115 , L1229;
L1235: ( ( uncurry R15 ) | ([: ( meet ( doms D33 ) ) , ( dom D33 ) :] qua set) ) = ( uncurry R15 ) by L1234 , L1193 , L1209 , L1227 , L1224 , RELAT_1:68;
L1236: ( uncurry' ( curry' ( uncurry R15 ) ) ) = ( uncurry R15 ) by L1227 , FUNCT_5:49;
L1237: <: D33 :> = R15 by L1236 , L1108 , L1226 , L1232 , L1235 , L1233 , FUNCT_5:48;
thus L1238: thesis by L1237 , L1114 , L1192 , L1229 , L1230 , FUNCT_1:def 3;
end;
theorem
L1239: (for R13 being Function holds ( Funcs (( {} ) , R13) ) = ( ( dom R13 ) --> { ( {} ) } ))
proof
let R13 being Function;
L1240:
now
let R1 being set;
assume L1241: R1 in ( dom R13 );
thus L1242: ( ( Funcs (( {} ) , R13) ) . R1 ) = ( Funcs ((( {} ) qua set) , ( R13 . R1 )) ) by L1241 , L1094
.= { ( {} ) } by FUNCT_5:57;
end;
L1243: ( dom ( Funcs (( {} ) , R13) ) ) = ( dom R13 ) by L1094;
thus L1244: thesis by L1243 , L1240 , FUNCOP_1:11;
end;
theorem
L1245: (for R8 being set holds ( Funcs (R8 , ( {} )) ) = ( {} ))
proof
let R8 being set;
L1246: ( dom ( Funcs (R8 , ( {} )) ) ) = ( dom ( {} ) ) by L1094;
thus L1247: thesis by L1246;
end;
theorem
L1248: (for R8 being set holds (for R9 being set holds (for R10 being set holds ( Funcs (R8 , ( R9 --> R10 )) ) = ( R9 --> ( Funcs (R8 , R10) ) ))))
proof
let R8 being set;
let R9 being set;
let R10 being set;
L1249: R9 = ( dom ( R9 --> R10 ) ) by FUNCOP_1:13;
L1250:
now
let R1 being set;
assume L1251: R1 in R9;
L1252: ( ( Funcs (R8 , ( R9 --> R10 )) ) . R1 ) = ( Funcs (R8 , ( ( R9 --> R10 ) . R1 )) ) by L1251 , L1249 , L1094;
thus L1253: ( ( Funcs (R8 , ( R9 --> R10 )) ) . R1 ) = ( Funcs (R8 , R10) ) by L1252 , L1251 , FUNCOP_1:7;
end;
L1254: ( dom ( Funcs (R8 , ( R9 --> R10 )) ) ) = ( dom ( R9 --> R10 ) ) by L1094;
thus L1255: thesis by L1254 , L1249 , L1250 , FUNCOP_1:11;
end;
theorem
L1256: (for R8 being set holds (for R13 being Function holds ( product ( Funcs (R8 , R13) ) ) , ( Funcs (R8 , ( product R13 )) ) are_equipotent ))
proof
let R8 being set;
let R13 being Function;
L1257: ( Funcs (R8 , ( product ( {} ) )) ) = { ( R8 --> ( {} ) ) } by CARD_3:10 , FUNCT_5:59;
L1258: ( product ( Funcs (( {} ) , R13) ) ) = ( product ( ( dom R13 ) --> { ( {} ) } ) ) by L1239
.= ( Funcs (( dom R13 ) , { ( {} ) }) ) by CARD_3:11
.= { ( ( dom R13 ) --> ( {} ) ) } by FUNCT_5:59;
L1259: (( Funcs ((( {} ) qua set) , ( product R13 )) ) = { ( {} ) } & ( product ( Funcs (R8 , ( {} )) ) ) = { ( {} ) }) by L1245 , CARD_3:10 , FUNCT_5:57;
L1260: ((R8 <> ( {} ) & R13 <> ( {} )) implies thesis) by L1107;
thus L1261: thesis by L1260 , L1258 , L1259 , L1257 , CARD_1:28;
end;
begin
definition
let C72 being Function;
func commute C72 ->  Function-yielding Function equals 
( curry' ( uncurry C72 ) );
coherence
proof
set D35 = ( curry' ( uncurry C72 ) );
L1262: (for R1 being set holds (R1 in ( dom D35 ) implies ( D35 . R1 ) is Function)) by FUNCT_5:33;
thus L1263: thesis by L1262 , FUNCOP_1:def 6;
end;
end;
theorem
L1265: (for B22 being Function holds (for B23 being set holds (B23 in ( dom ( commute B22 ) ) implies ( ( commute B22 ) . B23 ) is Function)));
theorem
L1266: (for B24 , B25 , B26 being set holds (for B27 being Function holds ((B24 <> ( {} ) & B25 <> ( {} ) & B27 in ( Funcs (B24 , ( Funcs (B25 , B26) )) )) implies ( commute B27 ) in ( Funcs (B25 , ( Funcs (B24 , B26) )) ))))
proof
let C73 , C74 , C75 being set;
let C76 being Function;
assume L1267: (C73 <> ( {} ) & C74 <> ( {} ) & C76 in ( Funcs (C73 , ( Funcs (C74 , C75) )) ));
L1268: ([: C73 , C74 :] <> ( {} ) & ( uncurry C76 ) in ( Funcs ([: C73 , C74 :] , C75) )) by L1267 , L179 , ZFMISC_1:90;
thus L1269: thesis by L1268 , L169;
end;
theorem
L1270: (for B28 , B29 , B30 being set holds (for B31 being Function holds ((B28 <> ( {} ) & B29 <> ( {} ) & B31 in ( Funcs (B28 , ( Funcs (B29 , B30) )) )) implies (for B32 , B33 being Function holds (for B34 , B35 being set holds ((B34 in B28 & B35 in B29 & ( B31 . B34 ) = B32 & ( ( commute B31 ) . B35 ) = B33) implies (( B33 . B34 ) = ( B32 . B35 ) & ( dom B33 ) = B28 & ( dom B32 ) = B29 & ( rng B33 ) c= B30 & ( rng B32 ) c= B30)))))))
proof
let C77 , C78 , C79 being set;
let C80 being Function;
assume that
L1271: (C77 <> ( {} ) & C78 <> ( {} ))
and
L1272: C80 in ( Funcs (C77 , ( Funcs (C78 , C79) )) );
set D36 = ( uncurry C80 );
set D37 = ( commute C80 );
let C81 , C82 being Function;
let C83 , C84 being set;
assume that
L1273: C83 in C77
and
L1274: C84 in C78
and
L1275: ( C80 . C83 ) = C81
and
L1276: ( ( commute C80 ) . C84 ) = C82;
L1277: ( commute C80 ) in ( Funcs (C78 , ( Funcs (C77 , C79) )) ) by L1271 , L1272 , L1266;
L1278: (ex B36 being Function st (B36 = D37 & ( dom B36 ) = C78 & ( rng B36 ) c= ( Funcs (C77 , C79) ))) by L1277 , FUNCT_2:def 2;
L1279: ( D37 . C84 ) in ( rng D37 ) by L1278 , L1274 , FUNCT_1:def 3;
L1280: (ex B37 being Function st (B37 = C82 & ( dom B37 ) = C77 & ( rng B37 ) c= C79)) by L1279 , L1276 , L1278 , FUNCT_2:def 2;
L1281: (ex B38 being Function st (B38 = C80 & ( dom B38 ) = C77 & ( rng B38 ) c= ( Funcs (C78 , C79) ))) by L1272 , FUNCT_2:def 2;
L1282: ( C80 . C83 ) in ( rng C80 ) by L1281 , L1273 , FUNCT_1:def 3;
L1283: (ex B39 being Function st (B39 = C81 & ( dom B39 ) = C78 & ( rng B39 ) c= C79)) by L1282 , L1275 , L1281 , FUNCT_2:def 2;
L1284: ([ C83 , C84 ] in ( dom D36 ) & ( D36 . (C83 , C84) ) = ( C81 . C84 )) by L1283 , L1273 , L1274 , L1275 , L1281 , FUNCT_5:38;
thus L1285: thesis by L1284 , L1276 , L1283 , L1280 , FUNCT_5:22;
end;
theorem
L1286: (for B40 , B41 , B42 being set holds (for B43 being Function holds ((B40 <> ( {} ) & B41 <> ( {} ) & B43 in ( Funcs (B40 , ( Funcs (B41 , B42) )) )) implies ( commute ( commute B43 ) ) = B43)))
proof
let C85 , C86 , C87 being set;
let C88 being Function;
assume that
L1287: (C85 <> ( {} ) & C86 <> ( {} ))
and
L1288: C88 in ( Funcs (C85 , ( Funcs (C86 , C87) )) );
L1289: (ex B44 being Function st (B44 = C88 & ( dom B44 ) = C85 & ( rng B44 ) c= ( Funcs (C86 , C87) ))) by L1288 , FUNCT_2:def 2;
set D38 = ( commute C88 );
L1290: ( commute C88 ) in ( Funcs (C86 , ( Funcs (C85 , C87) )) ) by L1287 , L1288 , L1266;
L1291: ( commute D38 ) in ( Funcs (C85 , ( Funcs (C86 , C87) )) ) by L1290 , L1287 , L1266;
L1292: (ex B45 being Function st (B45 = ( commute D38 ) & ( dom B45 ) = C85 & ( rng B45 ) c= ( Funcs (C86 , C87) ))) by L1291 , FUNCT_2:def 2;
L1293: (ex B46 being Function st (B46 = D38 & ( dom B46 ) = C86 & ( rng B46 ) c= ( Funcs (C85 , C87) ))) by L1290 , FUNCT_2:def 2;
L1294: (for R1 being set holds (R1 in C85 implies ( C88 . R1 ) = ( ( commute D38 ) . R1 )))
proof
set D39 = ( commute D38 );
set D40 = ( uncurry C88 );
set D41 = ( uncurry D38 );
let R1 being set;
assume L1295: R1 in C85;
L1296: ( C88 . R1 ) in ( rng C88 ) by L1295 , L1289 , FUNCT_1:def 3;
consider C89 being Function such that L1297: (C89 = ( C88 . R1 ) & ( dom C89 ) = C86) and L1298: ( rng C89 ) c= C87 by L1296 , L1289 , FUNCT_2:def 2;
L1299: ( D39 . R1 ) in ( rng D39 ) by L1292 , L1295 , FUNCT_1:def 3;
consider C90 being Function such that L1300: C90 = ( D39 . R1 ) and L1301: ( dom C90 ) = C86 and L1302: ( rng C90 ) c= C87 by L1299 , L1292 , FUNCT_2:def 2;
L1303: (for R2 being set holds (R2 in C86 implies (for B47 being Function holds (B47 = ( D38 . R2 ) implies (R1 in ( dom B47 ) & ( B47 . R1 ) = ( C89 . R2 ))))))
proof
let R2 being set;
assume L1304: R2 in C86;
L1305: ([ R1 , R2 ] in ( dom D40 ) & ( D40 . (R1 , R2) ) = ( C89 . R2 )) by L1304 , L1289 , L1295 , L1297 , FUNCT_5:38;
let C91 being Function;
assume L1306: C91 = ( D38 . R2 );
thus L1307: thesis by L1306 , L1305 , FUNCT_5:22;
end;
L1308: (for R2 being set holds (R2 in C86 implies ([ R2 , R1 ] in ( dom D41 ) & ( D41 . (R2 , R1) ) = ( C89 . R2 ))))
proof
let R2 being set;
reconsider D42 = ( D38 . R2 ) as Function;
assume L1309: R2 in C86;
L1310: (R1 in ( dom D42 ) & ( D42 . R1 ) = ( C89 . R2 )) by L1309 , L1303;
thus L1311: thesis by L1310 , L1293 , L1309 , FUNCT_5:38;
end;
L1312: (for R2 being set holds (R2 in C86 implies ( C90 . R2 ) = ( C89 . R2 )))
proof
let R2 being set;
assume L1313: R2 in C86;
L1314: ([ R2 , R1 ] in ( dom D41 ) & ( D41 . (R2 , R1) ) = ( C89 . R2 )) by L1313 , L1308;
thus L1315: thesis by L1314 , L1300 , FUNCT_5:22;
end;
thus L1316: thesis by L1312 , L1297 , L1300 , L1301 , FUNCT_1:2;
end;
thus L1317: thesis by L1294 , L1289 , L1292 , FUNCT_1:2;
end;
theorem
L1318: ( commute ( {} ) ) = ( {} ) by FUNCT_5:42 , FUNCT_5:43;
theorem
L1319: (for B48 being  Function-yielding Function holds ( dom ( doms B48 ) ) = ( dom B48 ))
proof
let C92 being  Function-yielding Function;
thus L1320: ( dom ( doms C92 ) ) c= ( dom C92 )
proof
let C93 being set;
L1321: ( dom ( doms C92 ) ) = ( C92 " ( SubFuncs ( rng C92 ) ) ) by L300;
thus L1322: thesis by L1321 , L281;
end;

thus L1323: ( dom C92 ) c= ( dom ( doms C92 ) )
proof
let C94 being set;
assume L1324: C94 in ( dom C92 );
L1325: (( C92 . C94 ) is Function & ( dom ( doms C92 ) ) = ( C92 " ( SubFuncs ( rng C92 ) ) )) by L300;
thus L1326: thesis by L1325 , L1324 , L281;
end;

end;
theorem
L1324: (for B49 being  Function-yielding Function holds ( dom ( rngs B49 ) ) = ( dom B49 ))
proof
let C95 being  Function-yielding Function;
thus L1325: ( dom ( rngs C95 ) ) c= ( dom C95 )
proof
let C96 being set;
L1326: ( dom ( rngs C95 ) ) = ( C95 " ( SubFuncs ( rng C95 ) ) ) by L312;
thus L1327: thesis by L1326 , L281;
end;

thus L1328: ( dom C95 ) c= ( dom ( rngs C95 ) )
proof
let C97 being set;
assume L1329: C97 in ( dom C95 );
L1330: (( C95 . C97 ) is Function & ( dom ( rngs C95 ) ) = ( C95 " ( SubFuncs ( rng C95 ) ) )) by L312;
thus L1331: thesis by L1330 , L1329 , L281;
end;

end;
