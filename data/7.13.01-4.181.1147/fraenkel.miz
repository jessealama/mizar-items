:: Function Domains and Fr{\ae}nkel Operator
::  by Andrzej Trybulec
::
:: Received February 7, 1990
:: Copyright (c) 1990-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies XBOOLE_0, SUBSET_1, TARSKI, FUNCT_1, RELAT_1, FUNCT_2, ZFMISC_1,
      PARTFUN1, FINSET_1, MCART_1, FINSUB_1, SETWISEO;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, XTUPLE_0, MCART_1, RELAT_1,
      FINSET_1, FINSUB_1, FUNCT_1, RELSET_1, PARTFUN1, FUNCT_2, BINOP_1,
      DOMAIN_1, SETWISEO;
 constructors PARTFUN1, BINOP_1, DOMAIN_1, FINSET_1, SETWISEO, RELSET_1,
      XTUPLE_0;
 registrations SUBSET_1, RELAT_1, FINSET_1, FINSUB_1, RELSET_1, XTUPLE_0;
 requirements BOOLE, SUBSET;
 definitions TARSKI, XBOOLE_0, FUNCT_1, BINOP_1, XTUPLE_0;
 theorems FINSET_1, ZFMISC_1, MCART_1, FUNCT_1, FUNCT_2, FINSUB_1, RELAT_1,
      RELSET_1, XBOOLE_0, XBOOLE_1, TARSKI, SUBSET_1;
 schemes FUNCT_1, FUNCT_2, SETWISEO, DOMAIN_1, PARTFUN1;

begin
scheme Fraenkel59 { F1() -> set , F2(set) -> set , P1 , P2[set] } : { F2(B1) where B1 is (Element of F1()) : P1[ B1 ] } c= { F2(B2) where B2 is (Element of F1()) : P2[ B2 ] }
provided
L1: (for B3 being (Element of F1()) holds (P1[ B3 ] implies P2[ B3 ]))
proof
let C1 being set;
assume L2: C1 in { F2(B4) where B4 is (Element of F1()) : P1[ B4 ] };
consider C2 being (Element of F1()) such that L3: C1 = F2(C2) and L4: P1[ C2 ] by L2;
L5: P2[ C2 ] by L1 , L4;
thus L6: thesis by L5 , L3;
end;
scheme Fraenkel599 { F3 , F4() -> set , F5(set , set) -> set , P3 , P4[set , set] } : { F5(B5 , B6) where B5 is (Element of F3()) , B6 is (Element of F4()) : P3[ B5 , B6 ] } c= { F5(B7 , B8) where B7 is (Element of F3()) , B8 is (Element of F4()) : P4[ B7 , B8 ] }
provided
L7: (for B9 being (Element of F3()) holds (for B10 being (Element of F4()) holds (P3[ B9 , B10 ] implies P4[ B9 , B10 ])))
proof
let C3 being set;
assume L8: C3 in { F5(B11 , B12) where B11 is (Element of F3()) , B12 is (Element of F4()) : P3[ B11 , B12 ] };
consider C4 being (Element of F3()), C5 being (Element of F4()) such that L9: C3 = F5(C4 , C5) and L10: P3[ C4 , C5 ] by L8;
L11: P4[ C4 , C5 ] by L7 , L10;
thus L12: thesis by L11 , L9;
end;
scheme Fraenkel69 { F6() -> set , F7(set) -> set , P5 , P6[set] } : { F7(B13) where B13 is (Element of F6()) : P5[ B13 ] } = { F7(B14) where B14 is (Element of F6()) : P6[ B14 ] }
provided
L13: (for B15 being (Element of F6()) holds (P5[ B15 ] iff P6[ B15 ]))
proof
set D1 = { F7(B16) where B16 is (Element of F6()) : P5[ B16 ] };
set D2 = { F7(B17) where B17 is (Element of F6()) : P6[ B17 ] };
L14: (for B18 being (Element of F6()) holds (P5[ B18 ] implies P6[ B18 ])) by L13;
thus L15: D1 c= D2 from Fraenkel59(L14);
L16: (for B19 being (Element of F6()) holds (P6[ B19 ] implies P5[ B19 ])) by L13;
thus L17: D2 c= D1 from Fraenkel59(L16);
end;
scheme Fraenkel699 { F8 , F9() -> set , F10(set , set) -> set , P7 , P8[set , set] } : { F10(B20 , B21) where B20 is (Element of F8()) , B21 is (Element of F9()) : P7[ B20 , B21 ] } = { F10(B22 , B23) where B22 is (Element of F8()) , B23 is (Element of F9()) : P8[ B22 , B23 ] }
provided
L18: (for B24 being (Element of F8()) holds (for B25 being (Element of F9()) holds (P7[ B24 , B25 ] iff P8[ B24 , B25 ])))
proof
set D3 = { F10(B26 , B27) where B26 is (Element of F8()) , B27 is (Element of F9()) : P8[ B26 , B27 ] };
set D4 = { F10(B28 , B29) where B28 is (Element of F8()) , B29 is (Element of F9()) : P7[ B28 , B29 ] };
L19: (for B30 being (Element of F8()) holds (for B31 being (Element of F9()) holds (P7[ B30 , B31 ] implies P8[ B30 , B31 ]))) by L18;
thus L20: D4 c= D3 from Fraenkel599(L19);
L21: (for B32 being (Element of F8()) holds (for B33 being (Element of F9()) holds (P8[ B32 , B33 ] implies P7[ B32 , B33 ]))) by L18;
thus L22: D3 c= D4 from Fraenkel599(L21);
end;
scheme FraenkelF9 { F11() -> set , F12 , F13(set) -> set , P9[set] } : { F12(B34) where B34 is (Element of F11()) : P9[ B34 ] } = { F13(B35) where B35 is (Element of F11()) : P9[ B35 ] }
provided
L23: (for B36 being (Element of F11()) holds F12(B36) = F13(B36))
proof
set D5 = { F12(B37) where B37 is (Element of F11()) : P9[ B37 ] };
set D6 = { F13(B38) where B38 is (Element of F11()) : P9[ B38 ] };
L24: D6 c= D5
proof
let C6 being set;
assume L25: C6 in D6;
consider C7 being (Element of F11()) such that L26: C6 = F13(C7) and L27: P9[ C7 ] by L25;
L28: C6 = F12(C7) by L23 , L26;
thus L29: thesis by L28 , L27;
end;
L30: D5 c= D6
proof
let C8 being set;
assume L31: C8 in D5;
consider C9 being (Element of F11()) such that L32: C8 = F12(C9) and L33: P9[ C9 ] by L31;
L34: C8 = F13(C9) by L23 , L32;
thus L35: thesis by L34 , L33;
end;
thus L36: thesis by L30 , L24 , XBOOLE_0:def 10;
end;
scheme FraenkelF9R { F14() -> set , F15 , F16(set) -> set , P10[set] } : { F15(B39) where B39 is (Element of F14()) : P10[ B39 ] } = { F16(B40) where B40 is (Element of F14()) : P10[ B40 ] }
provided
L37: (for B41 being (Element of F14()) holds (P10[ B41 ] implies F15(B41) = F16(B41)))
proof
set D7 = { F15(B42) where B42 is (Element of F14()) : P10[ B42 ] };
set D8 = { F16(B43) where B43 is (Element of F14()) : P10[ B43 ] };
L38: D8 c= D7
proof
let C10 being set;
assume L39: C10 in D8;
consider C11 being (Element of F14()) such that L40: C10 = F16(C11) and L41: P10[ C11 ] by L39;
L42: C10 = F15(C11) by L37 , L40 , L41;
thus L43: thesis by L42 , L41;
end;
L44: D7 c= D8
proof
let C12 being set;
assume L45: C12 in D7;
consider C13 being (Element of F14()) such that L46: C12 = F15(C13) and L47: P10[ C13 ] by L45;
L48: C12 = F16(C13) by L37 , L46 , L47;
thus L49: thesis by L48 , L47;
end;
thus L50: thesis by L44 , L38 , XBOOLE_0:def 10;
end;
scheme FraenkelF99 { F17 , F18() -> set , F19(set , set) -> set , F20(set , set) -> set , P11[set , set] } : { F19(B44 , B45) where B44 is (Element of F17()) , B45 is (Element of F18()) : P11[ B44 , B45 ] } = { F20(B46 , B47) where B46 is (Element of F17()) , B47 is (Element of F18()) : P11[ B46 , B47 ] }
provided
L51: (for B48 being (Element of F17()) holds (for B49 being (Element of F18()) holds F19(B48 , B49) = F20(B48 , B49)))
proof
set D9 = { F20(B50 , B51) where B50 is (Element of F17()) , B51 is (Element of F18()) : P11[ B50 , B51 ] };
set D10 = { F19(B52 , B53) where B52 is (Element of F17()) , B53 is (Element of F18()) : P11[ B52 , B53 ] };
L52: D9 c= D10
proof
let C14 being set;
assume L53: C14 in D9;
consider C15 being (Element of F17()), C16 being (Element of F18()) such that L54: C14 = F20(C15 , C16) and L55: P11[ C15 , C16 ] by L53;
L56: C14 = F19(C15 , C16) by L51 , L54;
thus L57: thesis by L56 , L55;
end;
L58: D10 c= D9
proof
let C17 being set;
assume L59: C17 in D10;
consider C18 being (Element of F17()), C19 being (Element of F18()) such that L60: C17 = F19(C18 , C19) and L61: P11[ C18 , C19 ] by L59;
L62: C17 = F20(C18 , C19) by L51 , L60;
thus L63: thesis by L62 , L61;
end;
thus L64: thesis by L58 , L52 , XBOOLE_0:def 10;
end;
scheme FraenkelF699 { F21 , F22() -> set , F23(set , set) -> set , P12 , P13[set , set] } : { F23(B54 , B55) where B54 is (Element of F21()) , B55 is (Element of F22()) : P12[ B54 , B55 ] } = { F23(B57 , B56) where B56 is (Element of F21()) , B57 is (Element of F22()) : P13[ B56 , B57 ] }
provided
L65: (for B58 being (Element of F21()) holds (for B59 being (Element of F22()) holds (P12[ B58 , B59 ] iff P13[ B58 , B59 ])))
and
L66: (for B60 being (Element of F21()) holds (for B61 being (Element of F22()) holds F23(B60 , B61) = F23(B61 , B60)))
proof
L67: (for B62 being (Element of F21()) holds (for B63 being (Element of F22()) holds (P13[ B62 , B63 ] implies P12[ B62 , B63 ]))) by L65;
L68: { F23(B64 , B65) where B64 is (Element of F21()) , B65 is (Element of F22()) : P13[ B64 , B65 ] } c= { F23(B66 , B67) where B66 is (Element of F21()) , B67 is (Element of F22()) : P12[ B66 , B67 ] } from Fraenkel599(L67);
deffunc H1(set , set) = F23($2 , $1);
L69: (for B68 being (Element of F21()) holds (for B69 being (Element of F22()) holds (P12[ B68 , B69 ] implies P13[ B68 , B69 ]))) by L65;
L70: { F23(B70 , B71) where B70 is (Element of F21()) , B71 is (Element of F22()) : P12[ B70 , B71 ] } c= { F23(B72 , B73) where B72 is (Element of F21()) , B73 is (Element of F22()) : P13[ B72 , B73 ] } from Fraenkel599(L69);
L71: (for B74 being (Element of F21()) holds (for B75 being (Element of F22()) holds F23(B74 , B75) = H1(B74 , B75))) by L66;
L72: { F23(B76 , B77) where B76 is (Element of F21()) , B77 is (Element of F22()) : P13[ B76 , B77 ] } = { H1(B78 , B79) where B78 is (Element of F21()) , B79 is (Element of F22()) : P13[ B78 , B79 ] } from FraenkelF99(L71);
thus L73: thesis by L72 , L70 , L68 , XBOOLE_0:def 10;
end;
theorem
L74: (for B80 , B81 being set holds (for B82 , B83 being (Function of B80 , B81) holds (for B84 being set holds (( B82 | B84 ) = ( B83 | B84 ) implies (for B85 being (Element of B80) holds (B85 in B84 implies ( B82 . B85 ) = ( B83 . B85 )))))))
proof
let C20 , C21 being set;
let C22 , C23 being (Function of C20 , C21);
let C24 being set;
assume that
L75: ( C22 | C24 ) = ( C23 | C24 );
let C25 being (Element of C20);
assume L76: C25 in C24;
thus L77: ( C22 . C25 ) = ( ( C23 | C24 ) . C25 ) by L76 , L75 , FUNCT_1:49
.= ( C23 . C25 ) by L76 , FUNCT_1:49;
end;
theorem
L78: (for B86 , B87 being set holds ( Funcs (B86 , B87) ) c= ( bool [: B86 , B87 :] ))
proof
let C26 , C27 being set;
let C28 being set;
assume L79: C28 in ( Funcs (C26 , C27) );
consider C29 being Function such that L80: C28 = C29 and L81: ( dom C29 ) = C26 and L82: ( rng C29 ) c= C27 by L79 , FUNCT_2:def 2;
L83: C29 c= [: ( dom C29 ) , ( rng C29 ) :] by RELAT_1:7;
L84: [: ( dom C29 ) , ( rng C29 ) :] c= [: C26 , C27 :] by L81 , L82 , ZFMISC_1:95;
L85: C29 c= [: C26 , C27 :] by L84 , L83 , XBOOLE_1:1;
thus L86: thesis by L85 , L80;
end;
theorem
L87: (for R1 being non  empty set holds (for R2 being set holds (for B88 , B89 being set holds ((( Funcs (B88 , B89) ) <> ( {} ) & B88 c= R2 & B89 c= R1) implies (for B90 being (Element of ( Funcs (B88 , B89) )) holds B90 is (PartFunc of R2 , R1))))))
proof
let R1 being non  empty set;
let R2 being set;
let C30 , C31 being set;
assume that
L88: ( Funcs (C30 , C31) ) <> ( {} )
and
L89: C30 c= R2
and
L90: C31 c= R1;
let C32 being (Element of ( Funcs (C30 , C31) ));
consider C33 being Function such that L91: C32 = C33 and L92: ( dom C33 ) = C30 and L93: ( rng C33 ) c= C31 by L88 , FUNCT_2:def 2;
L94: ( rng C33 ) c= R1 by L90 , L93 , XBOOLE_1:1;
thus L95: thesis by L94 , L89 , L91 , L92 , RELSET_1:4;
end;
scheme RelevantArgs { F24 , F25 , F26() -> set , F27 , F28() -> (Function of F24() , F25()) , P14[set] , P15[set] } : { ( F27() . B91 ) where B91 is (Element of F24()) : (P14[ B91 ] & B91 in F26()) } = { ( F28() . B92 ) where B92 is (Element of F24()) : (P15[ B92 ] & B92 in F26()) }
provided
L96: ( F27() | F26() ) = ( F28() | F26() )
and
L97: (for B93 being (Element of F24()) holds (B93 in F26() implies (P14[ B93 ] iff P15[ B93 ])))
proof
deffunc H2(set) = ( F27() . $1 );
deffunc H3(set) = ( F28() . $1 );
defpred S1[ set ] means (P14[ $1 ] & $1 in F26());
defpred S2[ set ] means (P15[ $1 ] & $1 in F26());
set D11 = { H3(B94) where B94 is (Element of F24()) : S1[ B94 ] };
L98: (for B95 being (Element of F24()) holds (S1[ B95 ] iff S2[ B95 ])) by L97;
L99: D11 = { H3(B96) where B96 is (Element of F24()) : S2[ B96 ] } from Fraenkel69(L98);
L100: (for B97 being (Element of F24()) holds (S1[ B97 ] implies H2(B97) = H3(B97))) by L96 , L74;
L101: { H2(B98) where B98 is (Element of F24()) : S1[ B98 ] } = D11 from FraenkelF9R(L100);
thus L102: thesis by L101 , L99;
end;
scheme FrSet0 { F29() -> non  empty set , P16[set] } : { B99 where B99 is (Element of F29()) : P16[ B99 ] } c= F29()
proof
L103: { B100 where B100 is (Element of F29()) : P16[ B100 ] } is (Subset of F29()) from DOMAIN_1:sch 7;
thus L104: thesis by L103;
end;
scheme Gen199 { F30 , F31() -> set , F32(set , set) -> set , P17[set , set] , P18[set] } : (for B101 being (Element of F30()) holds (for B102 being (Element of F31()) holds (P17[ B101 , B102 ] implies P18[ F32(B101 , B102) ])))
provided
L105: (for B103 being set holds (B103 in { F32(B104 , B105) where B104 is (Element of F30()) , B105 is (Element of F31()) : P17[ B104 , B105 ] } implies P18[ B103 ]))
proof
let C34 being (Element of F30());
let C35 being (Element of F31());
assume L106: P17[ C34 , C35 ];
L107: F32(C34 , C35) in { F32(B106 , B107) where B106 is (Element of F30()) , B107 is (Element of F31()) : P17[ B106 , B107 ] } by L106;
thus L108: thesis by L107 , L105;
end;
scheme Gen199A { F33 , F34() -> set , F35(set , set) -> set , P19[set , set] , P20[set] } : (for B108 being set holds (B108 in { F35(B109 , B110) where B109 is (Element of F33()) , B110 is (Element of F34()) : P19[ B109 , B110 ] } implies P20[ B108 ]))
provided
L109: (for B111 being (Element of F33()) holds (for B112 being (Element of F34()) holds (P19[ B111 , B112 ] implies P20[ F35(B111 , B112) ])))
proof
let C36 being set;
assume L110: C36 in { F35(B113 , B114) where B113 is (Element of F33()) , B114 is (Element of F34()) : P19[ B113 , B114 ] };
L111: (ex B115 being (Element of F33()) st (ex B116 being (Element of F34()) st (C36 = F35(B115 , B116) & P19[ B115 , B116 ]))) by L110;
thus L112: thesis by L111 , L109;
end;
scheme Gen299 { F36 , F37 , F38() -> set , F39(set , set) -> (Element of F38()) , P21[set , set] , P22[set] } : { B117 where B117 is (Element of F38()) : (B117 in { F39(B118 , B119) where B118 is (Element of F36()) , B119 is (Element of F37()) : P21[ B118 , B119 ] } & P22[ B117 ]) } = { F39(B120 , B121) where B120 is (Element of F36()) , B121 is (Element of F37()) : (P21[ B120 , B121 ] & P22[ F39(B120 , B121) ]) }
proof
thus L113: { B122 where B122 is (Element of F38()) : (B122 in { F39(B123 , B124) where B123 is (Element of F36()) , B124 is (Element of F37()) : P21[ B123 , B124 ] } & P22[ B122 ]) } c= { F39(B125 , B126) where B125 is (Element of F36()) , B126 is (Element of F37()) : (P21[ B125 , B126 ] & P22[ F39(B125 , B126) ]) }
proof
let C37 being set;
assume L114: C37 in { B127 where B127 is (Element of F38()) : (B127 in { F39(B128 , B129) where B128 is (Element of F36()) , B129 is (Element of F37()) : P21[ B128 , B129 ] } & P22[ B127 ]) };
consider C38 being (Element of F38()) such that L115: C37 = C38 and L116: C38 in { F39(B130 , B131) where B130 is (Element of F36()) , B131 is (Element of F37()) : P21[ B130 , B131 ] } and L117: P22[ C38 ] by L114;
L118: (ex B132 being (Element of F36()) st (ex B133 being (Element of F37()) st (C38 = F39(B132 , B133) & P21[ B132 , B133 ]))) by L116;
thus L119: thesis by L118 , L115 , L117;
end;

let C39 being set;
assume L120: C39 in { F39(B134 , B135) where B134 is (Element of F36()) , B135 is (Element of F37()) : (P21[ B134 , B135 ] & P22[ F39(B134 , B135) ]) };
consider C40 being (Element of F36()), C41 being (Element of F37()) such that L121: C39 = F39(C40 , C41) and L122: P21[ C40 , C41 ] and L123: P22[ F39(C40 , C41) ] by L120;
L124: F39(C40 , C41) in { F39(B136 , B137) where B136 is (Element of F36()) , B137 is (Element of F37()) : P21[ B136 , B137 ] } by L122;
thus L125: thesis by L124 , L121 , L123;
end;
scheme Gen39 { F40() -> set , F41(set) -> set , P23[set] , P24[set] } : { F41(B138) where B138 is (Element of F40()) : (B138 in { B139 where B139 is (Element of F40()) : P24[ B139 ] } & P23[ B138 ]) } = { F41(B140) where B140 is (Element of F40()) : (P24[ B140 ] & P23[ B140 ]) }
proof
defpred S3[ set ] means (P24[ $1 ] & P23[ $1 ]);
defpred S4[ set ] means ($1 in { B141 where B141 is (Element of F40()) : P24[ B141 ] } & P23[ $1 ]);
L126: (for B142 being (Element of F40()) holds (S4[ B142 ] iff S3[ B142 ]))
proof
let C42 being (Element of F40());
L127:
now
assume L128: C42 in { B143 where B143 is (Element of F40()) : P24[ B143 ] };
L129: (ex B144 being (Element of F40()) st (C42 = B144 & P24[ B144 ])) by L128;
thus L130: P24[ C42 ] by L129;
end;
thus L131: thesis by L127;
end;
thus L132: { F41(B145) where B145 is (Element of F40()) : S4[ B145 ] } = { F41(B146) where B146 is (Element of F40()) : S3[ B146 ] } from Fraenkel69(L126);
end;
scheme Gen399 { F42 , F43() -> set , F44(set , set) -> set , P25[set , set] , P26[set] } : { F44(B147 , B148) where B147 is (Element of F42()) , B148 is (Element of F43()) : (B147 in { B149 where B149 is (Element of F42()) : P26[ B149 ] } & P25[ B147 , B148 ]) } = { F44(B150 , B151) where B150 is (Element of F42()) , B151 is (Element of F43()) : (P26[ B150 ] & P25[ B150 , B151 ]) }
proof
defpred S5[ set , set ] means (P26[ $1 ] & P25[ $1 , $2 ]);
defpred S6[ set , set ] means ($1 in { B152 where B152 is (Element of F42()) : P26[ B152 ] } & P25[ $1 , $2 ]);
L133: (for B153 being (Element of F42()) holds (for B154 being (Element of F43()) holds (S6[ B153 , B154 ] iff S5[ B153 , B154 ])))
proof
let C43 being (Element of F42());
let C44 being (Element of F43());
L134:
now
assume L135: C43 in { B155 where B155 is (Element of F42()) : P26[ B155 ] };
L136: (ex B156 being (Element of F42()) st (C43 = B156 & P26[ B156 ])) by L135;
thus L137: P26[ C43 ] by L136;
end;
thus L138: thesis by L134;
end;
thus L139: { F44(B157 , B158) where B157 is (Element of F42()) , B158 is (Element of F43()) : S6[ B157 , B158 ] } = { F44(B159 , B160) where B159 is (Element of F42()) , B160 is (Element of F43()) : S5[ B159 , B160 ] } from Fraenkel699(L133);
end;
scheme Gen499 { F45 , F46() -> set , F47(set , set) -> set , P27[set , set] , P28[set , set] } : { F47(B161 , B162) where B161 is (Element of F45()) , B162 is (Element of F46()) : P27[ B161 , B162 ] } c= { F47(B163 , B164) where B163 is (Element of F45()) , B164 is (Element of F46()) : P28[ B163 , B164 ] }
provided
L140: (for B165 being (Element of F45()) holds (for B166 being (Element of F46()) holds (P27[ B165 , B166 ] implies (ex B167 being (Element of F45()) st (P28[ B167 , B166 ] & F47(B165 , B166) = F47(B167 , B166))))))
proof
let C45 being set;
assume L141: C45 in { F47(B168 , B169) where B168 is (Element of F45()) , B169 is (Element of F46()) : P27[ B168 , B169 ] };
consider C46 being (Element of F45()), C47 being (Element of F46()) such that L142: C45 = F47(C46 , C47) and L143: P27[ C46 , C47 ] by L141;
L144: (ex B170 being (Element of F45()) st (P28[ B170 , C47 ] & F47(C46 , C47) = F47(B170 , C47))) by L140 , L143;
thus L145: thesis by L144 , L142;
end;
scheme FrSet1 { F48 , F49() -> set , P29[set] , F50(set) -> set } : { F50(B171) where B171 is (Element of F48()) : (F50(B171) in F49() & P29[ B171 ]) } c= F49()
proof
let C48 being set;
assume L146: C48 in { F50(B172) where B172 is (Element of F48()) : (F50(B172) in F49() & P29[ B172 ]) };
L147: (ex B173 being (Element of F48()) st (C48 = F50(B173) & F50(B173) in F49() & P29[ B173 ])) by L146;
thus L148: thesis by L147;
end;
scheme FrSet2 { F51 , F52() -> set , P30[set] , F53(set) -> set } : { F53(B174) where B174 is (Element of F51()) : (P30[ B174 ] & (not F53(B174) in F52())) } misses F52()
proof
assume L149: { F53(B175) where B175 is (Element of F51()) : (P30[ B175 ] & (not F53(B175) in F52())) } meets F52();
consider C49 being set such that L150: C49 in { F53(B176) where B176 is (Element of F51()) : (P30[ B176 ] & (not F53(B176) in F52())) } and L151: C49 in F52() by L149 , XBOOLE_0:3;
L152: (ex B177 being (Element of F51()) st (C49 = F53(B177) & P30[ B177 ] & (not F53(B177) in F52()))) by L150;
thus L153: thesis by L152 , L151;
end;
scheme FrEqua1 { F54 , F55() -> set , F56(set , set) -> set , F57() -> (Element of F55()) , P31[set , set] , P32[set , set] } : { F56(B178 , B179) where B178 is (Element of F54()) , B179 is (Element of F55()) : P32[ B178 , B179 ] } = { F56(B180 , F57()) where B180 is (Element of F54()) : P31[ B180 , F57() ] }
provided
L154: (for B181 being (Element of F54()) holds (for B182 being (Element of F55()) holds (P32[ B181 , B182 ] iff (B182 = F57() & P31[ B181 , B182 ]))))
proof
thus L155: { F56(B183 , B184) where B183 is (Element of F54()) , B184 is (Element of F55()) : P32[ B183 , B184 ] } c= { F56(B185 , F57()) where B185 is (Element of F54()) : P31[ B185 , F57() ] }
proof
let C50 being set;
assume L156: C50 in { F56(B186 , B187) where B186 is (Element of F54()) , B187 is (Element of F55()) : P32[ B186 , B187 ] };
consider C51 being (Element of F54()), C52 being (Element of F55()) such that L157: C50 = F56(C51 , C52) and L158: P32[ C51 , C52 ] by L156;
L159: P31[ C51 , C52 ] by L154 , L158;
L160: C52 = F57() by L154 , L158;
thus L161: thesis by L160 , L157 , L159;
end;

let C53 being set;
assume L162: C53 in { F56(B188 , F57()) where B188 is (Element of F54()) : P31[ B188 , F57() ] };
consider C54 being (Element of F54()) such that L163: C53 = F56(C54 , F57()) and L164: P31[ C54 , F57() ] by L162;
L165: P32[ C54 , F57() ] by L154 , L164;
thus L166: thesis by L165 , L163;
end;
scheme FrEqua2 { F58 , F59() -> set , F60(set , set) -> set , F61() -> (Element of F59()) , P33[set , set] } : { F60(B189 , B190) where B189 is (Element of F58()) , B190 is (Element of F59()) : (B190 = F61() & P33[ B189 , B190 ]) } = { F60(B191 , F61()) where B191 is (Element of F58()) : P33[ B191 , F61() ] }
proof
defpred S7[ set , set ] means ($2 = F61() & P33[ $1 , $2 ]);
L167: (for B192 being (Element of F58()) holds (for B193 being (Element of F59()) holds (S7[ B192 , B193 ] iff (B193 = F61() & P33[ B192 , B193 ]))));
thus L168: { F60(B194 , B195) where B194 is (Element of F58()) , B195 is (Element of F59()) : S7[ B194 , B195 ] } = { F60(B196 , F61()) where B196 is (Element of F58()) : P33[ B196 , F61() ] } from FrEqua1(L167);
end;
theorem
L169: (for R1 being non  empty set holds (for R2 being set holds (for B197 , B198 being set holds ((( Funcs (B197 , B198) ) <> ( {} ) & B197 c= R2 & B198 c= R1) implies (for B199 being (Element of ( Funcs (B197 , B198) )) holds (ex B200 being (Element of ( Funcs (R2 , R1) )) st ( B200 | B197 ) = B199))))))
proof
let R1 being non  empty set;
let R2 being set;
let C55 , C56 being set;
assume that
L170: ( Funcs (C55 , C56) ) <> ( {} )
and
L171: C55 c= R2
and
L172: C56 c= R1;
let C57 being (Element of ( Funcs (C55 , C56) ));
reconsider D12 = C57 as (PartFunc of R2 , R1) by L170 , L171 , L172 , L87;
consider C58 being (Function of R2 , R1) such that L173: (for R4 being set holds (R4 in ( dom D12 ) implies ( C58 . R4 ) = ( D12 . R4 ))) by FUNCT_2:71;
reconsider D13 = C58 as (Element of ( Funcs (R2 , R1) )) by FUNCT_2:8;
take D13;
L174: (ex B201 being Function st (C57 = B201 & ( dom B201 ) = C55 & ( rng B201 ) c= C56)) by L170 , FUNCT_2:def 2;
L175: ( dom D12 ) = ( R2 /\ C55 ) by L174 , XBOOLE_1:28
.= ( ( dom D13 ) /\ C55 ) by FUNCT_2:def 1;
thus L176: thesis by L175 , L173 , FUNCT_1:46;
end;
theorem
L177: (for R1 being non  empty set holds (for R2 being set holds (for R3 being set holds (for R5 being (Element of ( Funcs (R2 , R1) )) holds ( R5 | R3 ) = ( R5 | ( R2 /\ R3 ) )))))
proof
let R1 being non  empty set;
let R2 being set;
let R3 being set;
let R5 being (Element of ( Funcs (R2 , R1) ));
L178: ( dom R5 ) = R2 by FUNCT_2:def 1;
L179: ( dom ( R5 | R3 ) ) = ( ( ( dom R5 ) /\ R2 ) /\ R3 ) by L178 , RELAT_1:61
.= ( ( dom R5 ) /\ ( R2 /\ R3 ) ) by XBOOLE_1:16;
L180: (for R4 being set holds (R4 in ( dom ( R5 | R3 ) ) implies ( ( R5 | R3 ) . R4 ) = ( R5 . R4 ))) by FUNCT_1:47;
thus L181: thesis by L180 , L179 , FUNCT_1:46;
end;
scheme FraenkelFin { F62() -> set , F63() -> set , F64(set) -> set } : { F64(B202) where B202 is (Element of F62()) : B202 in F63() } is  finite
provided
L182: F63() is  finite
proof
set D14 = { F64(B203) where B203 is (Element of F62()) : B203 in F63() };
per cases ;
suppose L183: F62() is  empty;

L184: D14 c= { F64(( {} )) }
proof
let R4 being set;
assume L185: R4 in D14;
consider C59 being (Element of F62()) such that L186: (R4 = F64(C59) & C59 in F63()) by L185;
L187: C59 = ( {} ) by L183 , SUBSET_1:def 1;
thus L188: thesis by L187 , L186 , TARSKI:def 1;
end;
thus L189: thesis by L184;
end;
suppose L190: F62() is non  empty;

consider C60 being Function such that L191: ( dom C60 ) = ( F63() /\ F62() ) and L192: (for B204 being set holds (B204 in ( F63() /\ F62() ) implies ( C60 . B204 ) = F64(B204))) from FUNCT_1:sch 3;
L193: D14 = ( C60 .: F63() )
proof
thus L194: D14 c= ( C60 .: F63() )
proof
let C61 being set;
assume L195: C61 in D14;
consider C62 being (Element of F62()) such that L196: C61 = F64(C62) and L197: C62 in F63() by L195;
L198: C62 in ( dom C60 ) by L190 , L191 , L197 , XBOOLE_0:def 4;
L199: ( C60 . C62 ) = F64(C62) by L198 , L191 , L192;
thus L200: thesis by L199 , L196 , L197 , L198 , FUNCT_1:def 6;
end;

let C63 being set;
assume L201: C63 in ( C60 .: F63() );
consider C64 being set such that L202: C64 in ( dom C60 ) and L203: C64 in F63() and L204: C63 = ( C60 . C64 ) by L201 , FUNCT_1:def 6;
reconsider D15 = C64 as (Element of F62()) by L191 , L202 , XBOOLE_0:def 4;
L205: C63 = F64(D15) by L191 , L192 , L202 , L204;
thus L206: thesis by L205 , L203;
end;
thus L207: thesis by L193 , L182;
end;
end;
scheme CartFin { F65 , F66() -> non  empty set , F67 , F68() -> set , F69(set , set) -> set } : { F69(B205 , B206) where B205 is (Element of F65()) , B206 is (Element of F66()) : (B205 in F67() & B206 in F68()) } is  finite
provided
L209: F67() is  finite
and
L210: F68() is  finite
proof
deffunc H4(set) = F69(( $1 `1 ) , ( $1 `2 ));
set D16 = { F69(B207 , B208) where B207 is (Element of F65()) , B208 is (Element of F66()) : (B207 in F67() & B208 in F68()) };
consider C65 being Function such that L211: ( dom C65 ) = [: ( F67() /\ F65() ) , ( F68() /\ F66() ) :] and L212: (for B209 being set holds (B209 in [: ( F67() /\ F65() ) , ( F68() /\ F66() ) :] implies ( C65 . B209 ) = H4(B209))) from FUNCT_1:sch 3;
L213: ( dom C65 ) = ( [: F67() , F68() :] /\ [: F65() , F66() :] ) by L211 , ZFMISC_1:100;
L214: D16 = ( C65 .: [: F67() , F68() :] )
proof
thus L215: D16 c= ( C65 .: [: F67() , F68() :] )
proof
let C66 being set;
assume L216: C66 in D16;
consider C67 being (Element of F65()), C68 being (Element of F66()) such that L217: C66 = F69(C67 , C68) and L218: C67 in F67() and L219: C68 in F68() by L216;
L220: [ C67 , C68 ] in [: F67() , F68() :] by L218 , L219 , ZFMISC_1:87;
L221: [ C67 , C68 ] in ( dom C65 ) by L220 , L213 , XBOOLE_0:def 4;
L222: ( [ C67 , C68 ] `2 ) = C68;
L223: ( [ C67 , C68 ] `1 ) = C67;
L224: ( C65 . (C67 , C68) ) = F69(C67 , C68) by L223 , L211 , L212 , L221 , L222;
thus L225: thesis by L224 , L217 , L220 , L221 , FUNCT_1:def 6;
end;

let C69 being set;
assume L226: C69 in ( C65 .: [: F67() , F68() :] );
consider C70 being set such that L227: C70 in ( dom C65 ) and L228: C70 in [: F67() , F68() :] and L229: C69 = ( C65 . C70 ) by L226 , FUNCT_1:def 6;
reconsider D17 = C70 as (Element of [: F65() , F66() :]) by L213 , L227 , XBOOLE_0:def 4;
L230: D17 = [ ( D17 `1 ) , ( D17 `2 ) ] by MCART_1:21;
L231: ( D17 `1 ) in F67() by L230 , L228 , ZFMISC_1:87;
L232: ( D17 `2 ) in F68() by L228 , L230 , ZFMISC_1:87;
L233: C69 = F69(( D17 `1 ) , ( D17 `2 )) by L211 , L212 , L227 , L229;
thus L234: thesis by L233 , L231 , L232;
end;
thus L235: thesis by L214 , L209 , L210;
end;
scheme Finiteness { F70() -> non  empty set , F71() -> (Element of ( Fin F70() )) , P34[(Element of F70()) , (Element of F70())] } : (for B210 being (Element of F70()) holds (B210 in F71() implies (ex B211 being (Element of F70()) st (B211 in F71() & P34[ B211 , B210 ] & (for B212 being (Element of F70()) holds ((B212 in F71() & P34[ B212 , B211 ]) implies P34[ B211 , B212 ]))))))
provided
L236: (for B213 being (Element of F70()) holds P34[ B213 , B213 ])
and
L237: (for B214 , B215 , B216 being (Element of F70()) holds ((P34[ B214 , B215 ] & P34[ B215 , B216 ]) implies P34[ B214 , B216 ]))
proof
defpred S8[ (Element of F70()) , (Element of ( Fin F70() )) ] means (ex B217 being (Element of F70()) st (B217 in $2 & P34[ B217 , $1 ] & (for B218 being (Element of F70()) holds ((B218 in $2 & P34[ B218 , B217 ]) implies P34[ B217 , B218 ]))));
defpred S9[ (Element of ( Fin F70() )) ] means (for B219 being (Element of F70()) holds (B219 in $1 implies S8[ B219 , $1 ]));
L238:
now
let C71 being (Element of ( Fin F70() ));
let C72 being (Element of F70());
assume L239: S9[ C71 ];
thus L240: S9[ ( C71 \/ {. C72 .} ) ]
proof
let C73 being (Element of F70());
assume that
L241: C73 in ( C71 \/ { C72 } );
L242:
now
per cases  by L241 , ZFMISC_1:136;
suppose L243: C73 in C71;

consider C74 being (Element of F70()) such that L244: C74 in C71 and L245: P34[ C74 , C73 ] and L246: (for B220 being (Element of F70()) holds ((B220 in C71 & P34[ B220 , C74 ]) implies P34[ C74 , B220 ])) by L243 , L239;
L247:
now
per cases ;
case L248: P34[ C72 , C74 ];
thus L249: C72 in ( C71 \/ { C72 } ) by ZFMISC_1:136;
thus L250: P34[ C72 , C73 ] by L237 , L245 , L248;
let C75 being (Element of F70());
assume that
L251: C75 in ( C71 \/ { C72 } )
and
L252: P34[ C75 , C72 ];
L253:
now
assume L254: C75 in C71;
L255: P34[ C75 , C74 ] by L237 , L248 , L252;
L256: P34[ C74 , C75 ] by L255 , L246 , L254;
thus L257: P34[ C72 , C75 ] by L256 , L237 , L248;
end;
L258: (C75 in C71 or C75 = C72) by L251 , ZFMISC_1:136;
thus L259: P34[ C72 , C75 ] by L258 , L236 , L253;
end;
case L260: (not P34[ C72 , C74 ]);
thus L261: C74 in ( C71 \/ { C72 } ) by L244 , XBOOLE_0:def 3;
thus L262: P34[ C74 , C73 ] by L245;
let C76 being (Element of F70());
assume that
L263: C76 in ( C71 \/ { C72 } )
and
L264: P34[ C76 , C74 ];
L265: (C76 in C71 or C76 = C72) by L263 , ZFMISC_1:136;
thus L266: P34[ C74 , C76 ] by L265 , L246 , L260 , L264;
end;
end;
thus L268: thesis by L247;
end;
suppose L269: C73 = C72;

L270:
now
per cases ;
case L271: (ex B221 being (Element of F70()) st (B221 in C71 & P34[ B221 , C72 ]));
consider C77 being (Element of F70()) such that L272: C77 in C71 and L273: P34[ C77 , C73 ] by L271 , L269;
consider C78 being (Element of F70()) such that L274: C78 in C71 and L275: P34[ C78 , C77 ] and L276: (for B222 being (Element of F70()) holds ((B222 in C71 & P34[ B222 , C78 ]) implies P34[ C78 , B222 ])) by L239 , L272;
take D18 = C78;
thus L277: D18 in ( C71 \/ { C72 } ) by L274 , XBOOLE_0:def 3;
thus L278: P34[ D18 , C73 ] by L237 , L273 , L275;
let C79 being (Element of F70());
assume that
L279: C79 in ( C71 \/ { C72 } )
and
L280: P34[ C79 , D18 ];
L281: (C79 in C71 or C79 = C72) by L279 , ZFMISC_1:136;
thus L282: P34[ D18 , C79 ] by L281 , L237 , L269 , L273 , L275 , L276 , L280;
end;
case L283: (for B223 being (Element of F70()) holds (B223 in C71 implies (not P34[ B223 , C72 ])));
thus L284: C72 in ( C71 \/ { C72 } ) by ZFMISC_1:136;
thus L285: P34[ C72 , C72 ] by L236;
let C80 being (Element of F70());
assume that
L286: C80 in ( C71 \/ { C72 } )
and
L287: P34[ C80 , C72 ];
L288: (not C80 in C71) by L283 , L287;
thus L289: P34[ C72 , C80 ] by L288 , L285 , L286 , ZFMISC_1:136;
end;
end;
thus L291: thesis by L270 , L269;
end;
end;
thus L293: thesis by L242;
end;

end;
L241: S9[ ( {}. F70() ) ];
L242: (for B224 being (Element of ( Fin F70() )) holds S9[ B224 ]) from SETWISEO:sch 4(L241 , L238);
thus L243: thesis by L242;
end;
scheme FinIm { F72 , F73() -> non  empty set , F74() -> (Element of ( Fin F73() )) , F75(set) -> (Element of F72()) , P35[set , set] } : (ex B225 being (Element of ( Fin F72() )) st (for B226 being (Element of F72()) holds (B226 in B225 iff (ex B227 being (Element of F73()) st (B227 in F74() & B226 = F75(B227) & P35[ B226 , B227 ])))))
proof
defpred S10[ set ] means (ex B228 being (Element of F73()) st (B228 in F74() & $1 = F75(B228) & P35[ $1 , B228 ]));
set D19 = { F75(B229) where B229 is (Element of F73()) : B229 in F74() };
set D20 = { B230 where B230 is (Element of F72()) : S10[ B230 ] };
L244: D20 c= D19
proof
let R4 being set;
assume L245: R4 in D20;
L246: (ex B231 being (Element of F72()) st (R4 = B231 & (ex B232 being (Element of F73()) st (B232 in F74() & B231 = F75(B232) & P35[ B231 , B232 ])))) by L245;
thus L247: thesis by L246;
end;
L248: D20 c= F72() from FrSet0;
L249: F74() is  finite;
L250: D19 is  finite from FraenkelFin(L249);
reconsider D21 = D20 as (Element of ( Fin F72() )) by L250 , L244 , L248 , FINSUB_1:def 5;
take D21;
let C81 being (Element of F72());
L251: (C81 in D21 implies (ex B233 being (Element of F72()) st (C81 = B233 & (ex B234 being (Element of F73()) st (B234 in F74() & B233 = F75(B234) & P35[ B233 , B234 ])))));
thus L252: thesis by L251;
end;
registration
let C82 , C83 being  finite set;
cluster ( Funcs (C82 , C83) ) ->  finite;
coherence
proof
L253: ( bool [: C82 , C83 :] ) is  finite;
thus L254: thesis by L253 , L78 , FINSET_1:1;
end;
end;
theorem
L256: (for B235 , B236 being set holds ((B235 is  finite & B236 is  finite) implies ( Funcs (B235 , B236) ) is  finite));
scheme ImFin { F76() -> set , F77() -> non  empty set , F78() -> set , F79() -> set , F80(set) -> set } : { F80(B237) where B237 is (Element of ( Funcs (F76() , F77()) )) : ( B237 .: F78() ) c= F79() } is  finite
provided
L257: F78() is  finite
and
L258: F79() is  finite
and
L259: (for B238 , B239 being (Element of ( Funcs (F76() , F77()) )) holds (( B238 | F78() ) = ( B239 | F78() ) implies F80(B238) = F80(B239)))
proof
defpred S11[ set , set ] means (for B240 being (Element of ( Funcs (F76() , F77()) )) holds (( B240 | F78() ) = $1 implies $2 = F80(B240)));
set D22 = { F80(B241) where B241 is (Element of ( Funcs (F76() , F77()) )) : ( B241 .: F78() ) c= F79() };
set D23 = the (Element of D22);
L260: ( F77() /\ F79() ) c= F77() by XBOOLE_1:17;
assume L261: (not thesis);
L262: D22 <> ( {} ) by L261;
L263: D23 in D22 by L262;
consider C84 being (Element of ( Funcs (F76() , F77()) )) such that L264: D23 = F80(C84) and L265: ( C84 .: F78() ) c= F79() by L263;
L266:
now
assume L267: ( F77() /\ F79() ) = ( {} );
L268: ( C84 .: F78() ) = ( {} ) by L267 , L265 , XBOOLE_1:3 , XBOOLE_1:19;
L269: F76() = ( dom C84 ) by FUNCT_2:def 1;
L270: F76() misses F78() by L269 , L268 , RELAT_1:118;
thus L271: ( F76() /\ F78() ) = ( {} ) by L270 , XBOOLE_0:def 7;
end;
reconsider D24 = ( Funcs (( F76() /\ F78() ) , ( F77() /\ F79() )) ) , D25 = D22 as non  empty set by L266 , L261 , FUNCT_2:8;
L272: ( F77() /\ F79() ) c= F79() by XBOOLE_1:17;
L273: ( F76() /\ F78() ) c= F76() by XBOOLE_1:17;
L274:
now
let C85 being (Element of D24);
consider C86 being (Element of ( Funcs (F76() , F77()) )) such that L275: ( C86 | ( F76() /\ F78() ) ) = C85 by L273 , L260 , L169;
L276: ( C86 | F78() ) = C85 by L275 , L177;
L277: (ex B242 being Function st (C85 = B242 & ( dom B242 ) = ( F76() /\ F78() ) & ( rng B242 ) c= ( F77() /\ F79() ))) by FUNCT_2:def 2;
L278: ( rng ( C86 | F78() ) ) c= F79() by L277 , L272 , L276 , XBOOLE_1:1;
L279: ( C86 .: F78() ) c= F79() by L278 , RELAT_1:115;
L280: F80(C86) in D25 by L279;
reconsider D26 = F80(C86) as (Element of D25) by L280;
take D27 = D26;
thus L281: S11[ C85 , D27 ] by L259 , L276;
end;
consider C87 being (Function of D24 , D25) such that L282: (for B243 being (Element of D24) holds S11[ B243 , ( C87 . B243 ) ]) from FUNCT_2:sch 3(L274);
L283: D25 c= ( C87 .: ( Funcs (( F76() /\ F78() ) , ( F77() /\ F79() )) ) )
proof
let C88 being set;
assume L284: C88 in D25;
consider C89 being (Element of ( Funcs (F76() , F77()) )) such that L285: C88 = F80(C89) and L286: ( C89 .: F78() ) c= F79() by L284;
L287: ( rng ( C89 | F78() ) ) c= F79() by L286 , RELAT_1:115;
L288: ( rng ( C89 | F78() ) ) c= ( F77() /\ F79() ) by L287 , XBOOLE_1:19;
L289: ( dom ( C89 | F78() ) ) = ( ( dom C89 ) /\ F78() ) by RELAT_1:61
.= ( F76() /\ F78() ) by FUNCT_2:def 1;
reconsider D28 = ( C89 | F78() ) as (Element of ( Funcs (( F76() /\ F78() ) , ( F77() /\ F79() )) )) by L289 , L288 , FUNCT_2:def 2;
L290: ( C89 | F78() ) in ( Funcs (( F76() /\ F78() ) , ( F77() /\ F79() )) ) by L289 , L288 , FUNCT_2:def 2;
L291: D28 in ( dom C87 ) by L290 , FUNCT_2:def 1;
L292: C88 = ( C87 . D28 ) by L282 , L285;
thus L293: thesis by L292 , L291 , FUNCT_1:def 6;
end;
thus L294: contradiction by L283 , L257 , L258 , L261;
end;
scheme FunctChoice { F81() -> non  empty set , F82() -> non  empty set , P36[(Element of F81()) , (Element of F82())] , F83() -> (Element of ( Fin F81() )) } : (ex B244 being (Function of F81() , F82()) st (for B245 being (Element of F81()) holds (B245 in F83() implies P36[ B245 , ( B244 . B245 ) ])))
provided
L295: (for B246 being (Element of F81()) holds (B246 in F83() implies (ex B247 being (Element of F82()) st P36[ B246 , B247 ])))
proof
set D29 = the (Element of F82());
set D30 = { { B249 where B249 is (Element of F82()) : P36[ B248 , B249 ] } where B248 is (Element of F81()) : B248 in F83() };
set D31 = the (Function of F81() , F82());
assume L296: (not thesis);
consider C90 being (Element of F81()) such that L297: C90 in F83() and L298: (not P36[ C90 , ( D31 . C90 ) ]) by L296;
L299: { B250 where B250 is (Element of F82()) : P36[ C90 , B250 ] } in D30 by L297;
reconsider D32 = D30 as non  empty set by L299;
L300:
now
let R3 being set;
assume L301: R3 in D32;
consider C91 being (Element of F81()) such that L302: R3 = { B251 where B251 is (Element of F82()) : P36[ C91 , B251 ] } and L303: C91 in F83() by L301;
consider C92 being (Element of F82()) such that L304: P36[ C91 , C92 ] by L295 , L303;
L305: C92 in R3 by L302 , L304;
thus L306: R3 <> ( {} ) by L305;
end;
consider C93 being Function such that L307: ( dom C93 ) = D32 and L308: (for R3 being set holds (R3 in D32 implies ( C93 . R3 ) in R3)) by L300 , FUNCT_1:111;
defpred S12[ (Element of F81()) , set ] means (($1 in F83() implies $2 = ( C93 . { B252 where B252 is (Element of F82()) : P36[ $1 , B252 ] } )) & ($1 in F83() or $2 = D29));
L309:
now
let C94 being (Element of F81());
L310:
now
set D33 = { B253 where B253 is (Element of F82()) : P36[ C94 , B253 ] };
assume L311: C94 in F83();
L312: D33 in D32 by L311;
L313: ( C93 . D33 ) in D33 by L312 , L308;
L314: (ex B254 being (Element of F82()) st (( C93 . D33 ) = B254 & P36[ C94 , B254 ])) by L313;
thus L315: ( C93 . D33 ) is (Element of F82()) by L314;
end;
L316: (C94 in F83() implies C94 in F83());
thus L317: (ex B255 being (Element of F82()) st S12[ C94 , B255 ]) by L316 , L310;
end;
consider C95 being (Function of F81() , F82()) such that L318: (for B256 being (Element of F81()) holds S12[ B256 , ( C95 . B256 ) ]) from FUNCT_2:sch 3(L309);
L319:
now
let C96 being (Element of F81());
assume L320: C96 in F83();
L321: { B257 where B257 is (Element of F82()) : P36[ C96 , B257 ] } in D32 by L320;
L322: ( C95 . C96 ) = ( C93 . { B258 where B258 is (Element of F82()) : P36[ C96 , B258 ] } ) by L318 , L320;
L323: ( C95 . C96 ) in { B259 where B259 is (Element of F82()) : P36[ C96 , B259 ] } by L322 , L308 , L321;
L324: (ex B260 being (Element of F82()) st (( C95 . C96 ) = B260 & P36[ C96 , B260 ])) by L323;
thus L325: P36[ C96 , ( C95 . C96 ) ] by L324;
end;
thus L326: contradiction by L319 , L296;
end;
scheme FuncsChoice { F84() -> non  empty set , F85() -> non  empty set , P37[(Element of F84()) , (Element of F85())] , F86() -> (Element of ( Fin F84() )) } : (ex B261 being (Element of ( Funcs (F84() , F85()) )) st (for B262 being (Element of F84()) holds (B262 in F86() implies P37[ B262 , ( B261 . B262 ) ])))
provided
L327: (for B263 being (Element of F84()) holds (B263 in F86() implies (ex B264 being (Element of F85()) st P37[ B263 , B264 ])))
proof
L328: (for B265 being (Element of F84()) holds (B265 in F86() implies (ex B266 being (Element of F85()) st P37[ B265 , B266 ]))) by L327;
consider C97 being (Function of F84() , F85()) such that L329: (for B267 being (Element of F84()) holds (B267 in F86() implies P37[ B267 , ( C97 . B267 ) ])) from FunctChoice(L328);
reconsider D34 = C97 as (Element of ( Funcs (F84() , F85()) )) by FUNCT_2:8;
take D34;
thus L330: thesis by L329;
end;
scheme FraenkelFin9 { F87 , F88() -> non  empty set , F89() -> set , P38[set , set] } : { B268 where B268 is (Element of F88()) : (ex B269 being (Element of F87()) st (P38[ B269 , B268 ] & B269 in F89())) } is  finite
provided
L331: F89() is  finite
and
L332: (for B270 being (Element of F87()) holds (for B271 , B272 being (Element of F88()) holds ((P38[ B270 , B271 ] & P38[ B270 , B272 ]) implies B271 = B272)))
proof
set D35 = { B273 where B273 is (Element of F88()) : (ex B274 being (Element of F87()) st (P38[ B274 , B273 ] & B274 in F89())) };
defpred S13[ set , set ] means (P38[ $1 , $2 ] & $1 in F89() & $2 in F88());
L333: (for B275 , B276 being set holds ((B275 in F87() & S13[ B275 , B276 ]) implies B276 in F88()));
L334: (for B277 , B278 , B279 being set holds ((B277 in F87() & S13[ B277 , B278 ] & S13[ B277 , B279 ]) implies B278 = B279)) by L332;
consider C98 being (PartFunc of F87() , F88()) such that L335: (for R4 being set holds (R4 in ( dom C98 ) iff (R4 in F87() & (ex B280 being set st S13[ R4 , B280 ])))) and L336: (for R4 being set holds (R4 in ( dom C98 ) implies S13[ R4 , ( C98 . R4 ) ])) from PARTFUN1:sch 2(L333 , L334);
L337: D35 = ( C98 .: F89() )
proof
thus L338: D35 c= ( C98 .: F89() )
proof
let C99 being set;
assume L339: C99 in D35;
consider C100 being (Element of F88()) such that L340: C99 = C100 and L341: (ex B281 being (Element of F87()) st (P38[ B281 , C100 ] & B281 in F89())) by L339;
consider C101 being (Element of F87()) such that L342: P38[ C101 , C100 ] and L343: C101 in F89() by L341;
L344: C101 in ( dom C98 ) by L335 , L342 , L343;
L345: S13[ C101 , ( C98 . C101 ) ] by L344 , L336;
L346: ( C98 . C101 ) = C99 by L345 , L332 , L340 , L342;
thus L347: thesis by L346 , L343 , L344 , FUNCT_1:def 6;
end;

let C102 being set;
assume L348: C102 in ( C98 .: F89() );
consider C103 being set such that L349: C103 in ( dom C98 ) and L350: C103 in F89() and L351: C102 = ( C98 . C103 ) by L348 , FUNCT_1:def 6;
reconsider D36 = C102 as (Element of F88()) by L336 , L349 , L351;
L352: P38[ C103 , D36 ] by L336 , L349 , L351;
thus L353: thesis by L352 , L349 , L350;
end;
thus L354: thesis by L337 , L331;
end;
