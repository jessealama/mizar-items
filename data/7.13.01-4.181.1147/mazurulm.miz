:: Mazur-Ulam Theorem
::  by Artur Korni{\l}owicz
::
:: Received December 21, 2010
:: Copyright (c) 2010-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies FUNCT_1, NORMSP_1, VECTMETR, PRE_TOPC, ARYTM_1, RUSUB_4, XREAL_0,
      ORDINAL1, CARD_1, XXREAL_0, RELAT_1, ARYTM_3, FUNCT_2, SEQ_2, MEMBERED,
      ORDINAL2, MAZURULM, BINOP_1, VALUED_1, SUPINF_2, COMPLEX1, SUBSET_1,
      XXREAL_2, XBOOLE_0, NUMBERS, MEMBER_1, SUPINF_1, TARSKI, RLVECT_1,
      CFCONT_1, NAT_1, PARTFUN1, REAL_1, NEWTON, TOPMETR, BORSUK_1, TOPS_1,
      XXREAL_1, URYSOHN1, METRIC_1, STRUCT_0, SEQ_1, FUNCOP_1, RCOMP_1;
 notations TARSKI, XBOOLE_0, SUBSET_1, ORDINAL1, FUNCT_1, RELSET_1, PARTFUN1,
      FUNCT_2, FUNCOP_1, NUMBERS, XXREAL_0, XXREAL_1, XXREAL_3, XREAL_0,
      REAL_1, XXREAL_2, MEMBERED, VALUED_1, SEQ_1, SEQ_2, COMPLEX1, MEMBER_1,
      SUPINF_1, NEWTON, BINOP_2, MEASURE6, STRUCT_0, PRE_TOPC, TOPS_1, TOPS_2,
      BORSUK_1, METRIC_1, TOPMETR, ALGSTR_0, RLVECT_1, NORMSP_0, NORMSP_1,
      NDIFF_1, NFCONT_1, CONNSP_3, URYSOHN1;
 constructors TOPS_2, REAL_1, SUPINF_2, INTEGRA2, EXTREAL1, BINOP_2, NFCONT_1,
      NEWTON, CONNSP_3, URYSOHN1, TOPS_1, TOPMETR, PCOMPS_1, MEASURE6, NDIFF_1,
      SEQ_1, COMSEQ_2;
 registrations RELSET_1, XREAL_0, ORDINAL1, STRUCT_0, MEMBERED, FUNCT_1,
      FUNCT_2, XBOOLE_0, NORMSP_1, FUNCTOR1, NUMBERS, SEQ_4, XXREAL_2,
      MEMBER_1, XXREAL_0, RLVECT_1, TOPS_1, TOPMETR, METRIC_1, XXREAL_1,
      VALUED_1, VALUED_0, FUNCOP_1, BORSUK_1, INT_1, NEWTON;
 requirements REAL, NUMERALS, SUBSET, BOOLE, ARITHM;
 definitions TARSKI, XBOOLE_0, FUNCT_2, XXREAL_2, XCMPLX_0, STRUCT_0, RLVECT_1,
      NORMSP_1, METRIC_1, TOPS_1, CONNSP_3;
 theorems FUNCT_2, RLVECT_1, FUNCT_1, NORMSP_1, COMPLEX1, TOPS_2, RELAT_1,
      XXREAL_2, XREAL_1, XXREAL_0, MEMBERED, URYSOHN2, MEMBER_1, EXTREAL1,
      GROUP_6, PENCIL_2, XXREAL_3, XREAL_0, INTEGRA2, VECTSP_1, NDIFF_1,
      NFCONT_1, XCMPLX_1, NEWTON, BORSUK_1, XBOOLE_0, CONNSP_3, TOPMETR,
      GOBOARD6, FRECHET, XXREAL_1, MEASURE6, SEQ_2, FUNCOP_1, VALUED_1,
      URYSOHN1, SEQ_4, TREAL_1, TOPS_3, NAT_1, INT_1, JORDAN5A;
 schemes FUNCT_2, NAT_1;

begin
registration
cluster ( I[01] ) ->  closed for (SubSpace of ( R^1 ));
coherence by TOPMETR:20 , TREAL_1:2;
end;
reconsider D1 = ( DYADIC ) as (Subset of ( I[01] )) by BORSUK_1:40 , URYSOHN2:28;
L2: ( Cl D1 ) = ( [#] ( I[01] ) )
proof
reconsider D2 = [. ( 0 ) , 1 .] as (Subset of ( R^1 )) by MEMBERED:3 , TOPMETR:17;
L3: ( I[01] ) = ( ( R^1 ) | D2 ) by TOPMETR:19 , TOPMETR:20;
reconsider D3 = D1 as (Subset of ( ( R^1 ) | D2 )) by TOPMETR:19 , TOPMETR:20;
L4: ( Cl D1 ) = ( ( Cl ( Up D3 ) ) /\ D2 ) by L3 , CONNSP_3:30;
thus L5: ( Cl D1 ) c= ( [#] ( I[01] ) );
let C1 being set;
assume L6: C1 in ( [#] ( I[01] ) );
reconsider D4 = C1 as (Point of ( RealSpace )) by L6 , BORSUK_1:40;
L7:
now
let C2 being  real number;
assume that
L8: C2 > ( 0 );
L9: ( D4 - C2 ) < ( D4 - ( 0 ) ) by L8 , XREAL_1:10;
L10: D4 <= 1 by L6 , BORSUK_1:43;
L11: C2 is Real by XREAL_0:def 1;
L12: ( Ball (D4 , C2) ) = ]. ( D4 - C2 ) , ( D4 + C2 ) .[ by L11 , FRECHET:7;
per cases ;
suppose L13: C2 <= D4;

L14: ( C2 - C2 ) <= ( D4 - C2 ) by L13 , XREAL_1:9;
consider C3 being Real such that L15: C3 in D1 and L16: ( D4 - C2 ) < C3 and L17: C3 < D4 by L14 , L9 , L10 , URYSOHN2:24;
L18: ( D4 + ( 0 ) ) < ( D4 + C2 ) by L8 , XREAL_1:8;
L19: C3 < ( D4 + C2 ) by L18 , L17 , XXREAL_0:2;
L20: C3 in ( Ball (D4 , C2) ) by L19 , L16 , L12 , XXREAL_1:4;
thus L21: ( Ball (D4 , C2) ) meets D1 by L20 , L15 , XBOOLE_0:3;
end;
suppose L22: C2 > D4;

L23: ( D4 - C2 ) < ( D4 - D4 ) by L22 , XREAL_1:10;
L24: ( 0 ) <= D4 by L6 , BORSUK_1:43;
L25: ( 0 ) in ( Ball (D4 , C2) ) by L24 , L8 , L23 , L12 , XXREAL_1:4;
thus L26: ( Ball (D4 , C2) ) meets D1 by L25 , URYSOHN2:27 , XBOOLE_0:3;
end;
end;
L28: C1 in ( Cl ( Up D3 ) ) by L7 , GOBOARD6:92 , TOPMETR:def 6;
thus L29: C1 in ( Cl D1 ) by L28 , L6 , L4 , BORSUK_1:40 , XBOOLE_0:def 4;
end;
theorem
L30: ( DYADIC ) is  dense  dense  dense  dense (Subset of ( I[01] ))
proof
L31: D1 is  dense
proof
thus L32: ( Cl D1 ) = ( [#] ( I[01] ) ) by L2;
end;
thus L33: thesis by L31;
end;
theorem
L34: ( Cl ( DYADIC ) ) = [. ( 0 ) , 1 .]
proof
reconsider D5 = D1 as (Subset of ( R^1 )) by TOPMETR:17;
thus L35: ( Cl ( DYADIC ) ) = ( Cl D5 ) by JORDAN5A:24
.= [. ( 0 ) , 1 .] by L2 , BORSUK_1:40 , TOPS_3:55;
end;
theorem
L36: (for R1 being RealNormSpace holds (for R6 being (Point of R1) holds ( R6 + R6 ) = ( 2 * R6 )))
proof
let R1 being RealNormSpace;
let R6 being (Point of R1);
L37: ( 1 * R6 ) = R6 by RLVECT_1:def 8;
thus L38: ( R6 + R6 ) = ( ( 1 + 1 ) * R6 ) by L37 , RLVECT_1:def 6
.= ( 2 * R6 );
end;
theorem
L39: (for R1 being RealNormSpace holds (for R6 being (Point of R1) holds (for R7 being (Point of R1) holds ( ( R6 + R7 ) - R7 ) = R6)))
proof
let R1 being RealNormSpace;
let R6 being (Point of R1);
let R7 being (Point of R1);
thus L40: ( ( R6 + R7 ) - R7 ) = ( R6 + ( R7 - R7 ) ) by RLVECT_1:28
.= ( R6 + ( 0. R1 ) ) by RLVECT_1:15
.= R6 by RLVECT_1:4;
end;
registration
let C4 being  bounded_above  real-membered set;
let C5 being non  negative  real number;
cluster ( C5 ** C4 ) ->  bounded_above;
coherence
proof
per cases ;
suppose L41: C4 <> ( {} );

L42: C5 in ( REAL ) by XREAL_0:def 1;
L43: C4 c= ( REAL ) by MEMBERED:3;
thus L44: thesis by L43 , L41 , L42 , INTEGRA2:9;
end;
suppose L45: C4 = ( {} );

thus L46: thesis by L45;
end;
end;
end;
registration
let C6 being  bounded_above  real-membered set;
let C7 being non  positive  real number;
cluster ( C7 ** C6 ) ->  bounded_below;
coherence
proof
per cases ;
suppose L49: C6 <> ( {} );

L50: C7 in ( REAL ) by XREAL_0:def 1;
L51: C6 c= ( REAL ) by MEMBERED:3;
thus L52: thesis by L51 , L49 , L50 , INTEGRA2:10;
end;
suppose L53: C6 = ( {} );

thus L54: thesis by L53;
end;
end;
end;
registration
let C8 being  bounded_below  real-membered set;
let C9 being non  negative  real number;
cluster ( C9 ** C8 ) ->  bounded_below;
coherence
proof
per cases ;
suppose L57: C8 <> ( {} );

L58: C9 in ( REAL ) by XREAL_0:def 1;
L59: C8 c= ( REAL ) by MEMBERED:3;
thus L60: thesis by L59 , L57 , L58 , INTEGRA2:11;
end;
suppose L61: C8 = ( {} );

thus L62: thesis by L61;
end;
end;
end;
registration
let C10 being  bounded_below non  empty  real-membered set;
let C11 being non  positive  real number;
cluster ( C11 ** C10 ) ->  bounded_above;
coherence
proof
L65: C11 in ( REAL ) by XREAL_0:def 1;
L66: C10 c= ( REAL ) by MEMBERED:3;
thus L67: thesis by L66 , L65 , INTEGRA2:12;
end;
end;
theorem
L69: (for R9 being  real number holds (for B1 being Real_Sequence holds ( B1 + ( ( NAT ) --> R9 ) ) = ( R9 + B1 )))
proof
let R9 being  real number;
let C12 being Real_Sequence;
let C13 being (Element of ( NAT ));
L70: ( ( ( NAT ) --> R9 ) . C13 ) = R9 by FUNCOP_1:7;
thus L71: ( ( C12 + ( ( NAT ) --> R9 ) ) . C13 ) = ( ( C12 . C13 ) + ( ( ( NAT ) --> R9 ) . C13 ) ) by VALUED_1:1
.= ( ( C12 + R9 ) . C13 ) by L70 , VALUED_1:2;
end;
theorem
L72: (for B2 being Real holds ( lim ( ( NAT ) --> B2 ) ) = B2)
proof
let C14 being Real;
thus L73: ( lim ( ( NAT ) --> C14 ) ) = ( ( ( NAT ) --> C14 ) . ( 0 ) ) by SEQ_4:26
.= C14 by FUNCOP_1:7;
end;
theorem
L74: (for R9 being  real number holds (for B3 being  convergent Real_Sequence holds ( lim ( R9 + B3 ) ) = ( R9 + ( lim B3 ) )))
proof
let R9 being  real number;
let C15 being  convergent Real_Sequence;
reconsider D6 = R9 as Real by XREAL_0:def 1;
L75: ( C15 + ( ( NAT ) --> R9 ) ) = ( R9 + C15 ) by L69;
thus L76: ( lim ( R9 + C15 ) ) = ( ( lim ( ( NAT ) --> D6 ) ) + ( lim C15 ) ) by L75 , SEQ_2:6
.= ( R9 + ( lim C15 ) ) by L72;
end;
registration
let C16 being  convergent Real_Sequence;
let R9 being  real number;
cluster ( R9 + C16 ) ->  convergent for Real_Sequence;
coherence
proof
reconsider D7 = R9 as Real by XREAL_0:def 1;
L77: ( C16 + ( ( NAT ) --> D7 ) ) = ( R9 + C16 ) by L69;
thus L78: thesis by L77 , SEQ_2:5;
end;
end;
theorem
L80: (for R1 being RealNormSpace holds (for R6 being (Point of R1) holds (for B4 being Real_Sequence holds ( B4 (#) ( ( NAT ) --> R6 ) ) = ( B4 * R6 ))))
proof
let R1 being RealNormSpace;
let R6 being (Point of R1);
let C17 being Real_Sequence;
let C18 being (Element of ( NAT ));
L81: ( ( ( NAT ) --> R6 ) . C18 ) = R6 by FUNCOP_1:7;
thus L82: ( ( C17 (#) ( ( NAT ) --> R6 ) ) . C18 ) = ( ( C17 . C18 ) * ( ( ( NAT ) --> R6 ) . C18 ) ) by NDIFF_1:def 2
.= ( ( C17 * R6 ) . C18 ) by L81 , NDIFF_1:def 3;
end;
theorem
L83: (for R1 being RealNormSpace holds (for R6 being (Point of R1) holds ( lim ( ( NAT ) --> R6 ) ) = R6))
proof
let R1 being RealNormSpace;
let R6 being (Point of R1);
thus L84: ( lim ( ( NAT ) --> R6 ) ) = ( ( ( NAT ) --> R6 ) . ( 0 ) ) by NDIFF_1:18
.= R6 by FUNCOP_1:7;
end;
theorem
L85: (for R1 being RealNormSpace holds (for R6 being (Point of R1) holds (for B5 being  convergent Real_Sequence holds ( lim ( B5 * R6 ) ) = ( ( lim B5 ) * R6 ))))
proof
let R1 being RealNormSpace;
let R6 being (Point of R1);
let C19 being  convergent Real_Sequence;
L86: ( C19 (#) ( ( NAT ) --> R6 ) ) = ( C19 * R6 ) by L80;
thus L87: ( lim ( C19 * R6 ) ) = ( ( lim C19 ) * ( lim ( ( NAT ) --> R6 ) ) ) by L86 , NDIFF_1:14 , NDIFF_1:18
.= ( ( lim C19 ) * R6 ) by L83;
end;
registration
let C20 being  convergent Real_Sequence;
let R1 being RealNormSpace;
let R6 being (Point of R1);
cluster ( C20 * R6 ) ->  convergent;
coherence
proof
L88: ( C20 (#) ( ( NAT ) --> R6 ) ) = ( C20 * R6 ) by L80;
thus L89: thesis by L88 , NDIFF_1:13 , NDIFF_1:18;
end;
end;
definition
let C21 , C22 being non  empty NORMSTR;
let C23 being (Function of C21 , C22);
attr C23 is  isometric
means
:L91: (for B6 , B7 being (Point of C21) holds ||. ( ( C23 . B6 ) - ( C23 . B7 ) ) .|| = ||. ( B6 - B7 ) .||);
end;
definition
let C24 , C25 being non  empty RLSStruct;
let C26 being (Function of C24 , C25);
attr C26 is  Affine
means
:L93: (for B8 , B9 being (Point of C24) holds (for B10 being  real number holds ((( 0 ) <= B10 & B10 <= 1) implies ( C26 . ( ( ( 1 - B10 ) * B8 ) + ( B10 * B9 ) ) ) = ( ( ( 1 - B10 ) * ( C26 . B8 ) ) + ( B10 * ( C26 . B9 ) ) ))));
attr C26 is  midpoints-preserving
means
:L94: (for B11 , B12 being (Point of C24) holds ( C26 . ( ( 1 / 2 ) * ( B11 + B12 ) ) ) = ( ( 1 / 2 ) * ( ( C26 . B11 ) + ( C26 . B12 ) ) ));
end;
registration
let C27 being non  empty NORMSTR;
cluster ( id C27 ) ->  isometric;
coherence
proof
let C28 , C29 being (Point of C27);
L96: (( ( id C27 ) . C28 ) = C28 & ( ( id C27 ) . C29 ) = C29) by FUNCT_1:18;
thus L97: thesis by L96;
end;
end;
registration
let C30 being non  empty RLSStruct;
cluster ( id C30 ) ->  midpoints-preserving  Affine;
coherence
proof
thus L99: ( id C30 ) is  midpoints-preserving
proof
let C31 , C32 being (Point of C30);
L100: (( ( id C30 ) . C31 ) = C31 & ( ( id C30 ) . C32 ) = C32) by FUNCT_1:18;
thus L101: thesis by L100 , FUNCT_1:18;
end;

let C33 , C34 being (Point of C30);
L102: (( ( id C30 ) . C33 ) = C33 & ( ( id C30 ) . C34 ) = C34) by FUNCT_1:18;
thus L103: thesis by L102 , FUNCT_1:18;
end;
end;
registration
let C35 being non  empty NORMSTR;
cluster  bijective  isometric  midpoints-preserving  Affine for (UnOp of C35);
existence
proof
take ( id C35 );
thus L105: thesis;
end;
end;
theorem
L107: (for R1 being RealNormSpace holds (for R2 being RealNormSpace holds (for R3 being RealNormSpace holds (for R4 being (Function of R1 , R2) holds (for R5 being (Function of R2 , R3) holds ((R4 is  isometric & R5 is  isometric) implies ( R5 * R4 ) is  isometric))))))
proof
let R1 being RealNormSpace;
let R2 being RealNormSpace;
let R3 being RealNormSpace;
let R4 being (Function of R1 , R2);
let R5 being (Function of R2 , R3);
assume that
L108: R4 is  isometric
and
L109: R5 is  isometric;
set D8 = ( R5 * R4 );
let R6 being (Point of R1);
let R7 being (Point of R1);
L110: (( D8 . R6 ) = ( R5 . ( R4 . R6 ) ) & ( D8 . R7 ) = ( R5 . ( R4 . R7 ) )) by FUNCT_2:15;
thus L111: ||. ( ( D8 . R6 ) - ( D8 . R7 ) ) .|| = ||. ( ( R4 . R6 ) - ( R4 . R7 ) ) .|| by L110 , L109 , L91
.= ||. ( R6 - R7 ) .|| by L108 , L91;
end;
registration
let R1 being RealNormSpace;
let C36 , C37 being  isometric (UnOp of R1);
cluster ( C37 * C36 ) ->  isometric for (UnOp of R1);
coherence by L107;
end;
L113:
now
let R1 being RealNormSpace;
let R2 being RealNormSpace;
let R4 being (Function of R1 , R2);
assume L114: R4 is  bijective;
set D9 = ( R4 /" );
let C38 being (Point of R2);
L115: ( rng R4 ) = ( [#] R2 ) by L114 , FUNCT_2:def 3;
L116: ( D9 /" ) = R4 by L115 , L114 , TOPS_2:51;
L117: D9 = ( (R4 qua Function) " ) by L114 , TOPS_2:def 4;
L118: D9 is  bijective by L114 , PENCIL_2:12;
L119: R4 = ( (D9 qua Function) " ) by L116 , L118 , TOPS_2:def 4;
thus L120: ( R4 . ( D9 . C38 ) ) = C38 by L119 , L114 , L117 , FUNCT_2:26;
end;
theorem
L121: (for R1 being RealNormSpace holds (for R2 being RealNormSpace holds (for R4 being (Function of R1 , R2) holds (R4 is  bijective  isometric implies ( R4 /" ) is  isometric))))
proof
let R1 being RealNormSpace;
let R2 being RealNormSpace;
let R4 being (Function of R1 , R2);
assume that
L122: R4 is  bijective
and
L123: R4 is  isometric;
set D10 = ( R4 /" );
let C39 , C40 being (Point of R2);
L124: (( R4 . ( D10 . C39 ) ) = C39 & ( R4 . ( D10 . C40 ) ) = C40) by L122 , L113;
thus L125: thesis by L124 , L123 , L91;
end;
registration
let R1 being RealNormSpace;
let C41 being  bijective  isometric (UnOp of R1);
cluster ( C41 /" ) ->  isometric;
coherence by L121;
end;
theorem
L127: (for R1 being RealNormSpace holds (for R2 being RealNormSpace holds (for R3 being RealNormSpace holds (for R4 being (Function of R1 , R2) holds (for R5 being (Function of R2 , R3) holds ((R4 is  midpoints-preserving & R5 is  midpoints-preserving) implies ( R5 * R4 ) is  midpoints-preserving))))))
proof
let R1 being RealNormSpace;
let R2 being RealNormSpace;
let R3 being RealNormSpace;
let R4 being (Function of R1 , R2);
let R5 being (Function of R2 , R3);
assume that
L128: R4 is  midpoints-preserving
and
L129: R5 is  midpoints-preserving;
set D11 = ( R5 * R4 );
let R6 being (Point of R1);
let R7 being (Point of R1);
L130: (( D11 . R6 ) = ( R5 . ( R4 . R6 ) ) & ( D11 . R7 ) = ( R5 . ( R4 . R7 ) )) by FUNCT_2:15;
thus L131: ( D11 . ( ( 1 / 2 ) * ( R6 + R7 ) ) ) = ( R5 . ( R4 . ( ( 1 / 2 ) * ( R6 + R7 ) ) ) ) by FUNCT_2:15
.= ( R5 . ( ( 1 / 2 ) * ( ( R4 . R6 ) + ( R4 . R7 ) ) ) ) by L128 , L94
.= ( ( 1 / 2 ) * ( ( D11 . R6 ) + ( D11 . R7 ) ) ) by L130 , L129 , L94;
end;
registration
let R1 being RealNormSpace;
let C42 , C43 being  midpoints-preserving (UnOp of R1);
cluster ( C43 * C42 ) ->  midpoints-preserving for (UnOp of R1);
coherence by L127;
end;
L133:
now
let R1 being RealNormSpace;
let R2 being RealNormSpace;
let R4 being (Function of R1 , R2);
assume L134: R4 is  bijective;
L135: ( rng R4 ) = ( [#] R2 ) by L134 , FUNCT_2:def 3;
L136: ( dom R4 ) = ( [#] R1 ) by FUNCT_2:def 1;
thus L137: ( ( R4 /" ) * R4 ) = ( id R1 ) by L136 , L134 , L135 , TOPS_2:52;
end;
theorem
L138: (for R1 being RealNormSpace holds (for R2 being RealNormSpace holds (for R4 being (Function of R1 , R2) holds (R4 is  bijective  midpoints-preserving implies ( R4 /" ) is  midpoints-preserving))))
proof
let R1 being RealNormSpace;
let R2 being RealNormSpace;
let R4 being (Function of R1 , R2);
assume that
L139: R4 is  bijective
and
L140: R4 is  midpoints-preserving;
set D12 = ( R4 /" );
let C44 , C45 being (Point of R2);
L141: ( D12 * R4 ) = ( id R1 ) by L139 , L133;
L142: (( R4 . ( D12 . C44 ) ) = C44 & ( R4 . ( D12 . C45 ) ) = C45) by L139 , L113;
thus L143: ( D12 . ( ( 1 / 2 ) * ( C44 + C45 ) ) ) = ( D12 . ( R4 . ( ( 1 / 2 ) * ( ( ( R4 /" ) . C44 ) + ( ( R4 /" ) . C45 ) ) ) ) ) by L142 , L140 , L94
.= ( ( D12 * R4 ) . ( ( 1 / 2 ) * ( ( ( R4 /" ) . C44 ) + ( ( R4 /" ) . C45 ) ) ) ) by FUNCT_2:15
.= ( ( 1 / 2 ) * ( ( D12 . C44 ) + ( D12 . C45 ) ) ) by L141 , FUNCT_1:18;
end;
registration
let R1 being RealNormSpace;
let C46 being  bijective  midpoints-preserving (UnOp of R1);
cluster ( C46 /" ) ->  midpoints-preserving;
coherence by L138;
end;
theorem
L145: (for R1 being RealNormSpace holds (for R2 being RealNormSpace holds (for R3 being RealNormSpace holds (for R4 being (Function of R1 , R2) holds (for R5 being (Function of R2 , R3) holds ((R4 is  Affine & R5 is  Affine) implies ( R5 * R4 ) is  Affine))))))
proof
let R1 being RealNormSpace;
let R2 being RealNormSpace;
let R3 being RealNormSpace;
let R4 being (Function of R1 , R2);
let R5 being (Function of R2 , R3);
assume that
L146: R4 is  Affine
and
L147: R5 is  Affine;
set D13 = ( R5 * R4 );
let R6 being (Point of R1);
let R7 being (Point of R1);
let R9 being  real number;
assume that
L148: (( 0 ) <= R9 & R9 <= 1);
L149: (( D13 . R6 ) = ( R5 . ( R4 . R6 ) ) & ( D13 . R7 ) = ( R5 . ( R4 . R7 ) )) by FUNCT_2:15;
thus L150: ( D13 . ( ( ( 1 - R9 ) * R6 ) + ( R9 * R7 ) ) ) = ( R5 . ( R4 . ( ( ( 1 - R9 ) * R6 ) + ( R9 * R7 ) ) ) ) by FUNCT_2:15
.= ( R5 . ( ( ( 1 - R9 ) * ( R4 . R6 ) ) + ( R9 * ( R4 . R7 ) ) ) ) by L146 , L148 , L93
.= ( ( ( 1 - R9 ) * ( D13 . R6 ) ) + ( R9 * ( D13 . R7 ) ) ) by L147 , L148 , L149 , L93;
end;
registration
let R1 being RealNormSpace;
let C47 , C48 being  Affine (UnOp of R1);
cluster ( C48 * C47 ) ->  Affine for (UnOp of R1);
coherence by L145;
end;
theorem
L152: (for R1 being RealNormSpace holds (for R2 being RealNormSpace holds (for R4 being (Function of R1 , R2) holds (R4 is  bijective  Affine implies ( R4 /" ) is  Affine))))
proof
let R1 being RealNormSpace;
let R2 being RealNormSpace;
let R4 being (Function of R1 , R2);
assume that
L153: R4 is  bijective
and
L154: R4 is  Affine;
set D14 = ( R4 /" );
let C49 , C50 being (Point of R2);
let R9 being  real number;
assume that
L155: (( 0 ) <= R9 & R9 <= 1);
L156: ( D14 * R4 ) = ( id R1 ) by L153 , L133;
L157: (( R4 . ( D14 . C49 ) ) = C49 & ( R4 . ( D14 . C50 ) ) = C50) by L153 , L113;
thus L158: ( D14 . ( ( ( 1 - R9 ) * C49 ) + ( R9 * C50 ) ) ) = ( D14 . ( R4 . ( ( ( 1 - R9 ) * ( D14 . C49 ) ) + ( R9 * ( D14 . C50 ) ) ) ) ) by L157 , L155 , L154 , L93
.= ( ( D14 * R4 ) . ( ( ( 1 - R9 ) * ( D14 . C49 ) ) + ( R9 * ( D14 . C50 ) ) ) ) by FUNCT_2:15
.= ( ( ( 1 - R9 ) * ( D14 . C49 ) ) + ( R9 * ( D14 . C50 ) ) ) by L156 , FUNCT_1:18;
end;
registration
let R1 being RealNormSpace;
let C51 being  bijective  Affine (UnOp of R1);
cluster ( C51 /" ) ->  Affine;
coherence by L152;
end;
definition
let C52 being non  empty RLSStruct;
let C53 being (Point of C52);
func C53 -reflection -> (UnOp of C52) means 
:L160: (for B13 being (Point of C52) holds ( it . B13 ) = ( ( 2 * C53 ) - B13 ));
existence
proof
deffunc H1((Point of C52)) = ( ( 2 * C53 ) - $1 );
L161: (ex B14 being (UnOp of C52) st (for B15 being (Point of C52) holds ( B14 . B15 ) = H1(B15))) from FUNCT_2:sch 4;
thus L162: thesis by L161;
end;
uniqueness
proof
let C54 , C55 being (UnOp of C52);
assume that
L163: (for B16 being (Point of C52) holds ( C54 . B16 ) = ( ( 2 * C53 ) - B16 ))
and
L164: (for B17 being (Point of C52) holds ( C55 . B17 ) = ( ( 2 * C53 ) - B17 ));
let C56 being (Point of C52);
thus L165: ( C54 . C56 ) = ( ( 2 * C53 ) - C56 ) by L163
.= ( C55 . C56 ) by L164;
end;
end;
theorem
L167: (for R1 being RealNormSpace holds (for R6 being (Point of R1) holds ( ( R6 -reflection ) * ( R6 -reflection ) ) = ( id R1 )))
proof
let R1 being RealNormSpace;
let R6 being (Point of R1);
set D15 = ( R6 -reflection );
let R7 being (Point of R1);
thus L168: ( ( D15 * D15 ) . R7 ) = ( D15 . ( D15 . R7 ) ) by FUNCT_2:15
.= ( ( 2 * R6 ) - ( D15 . R7 ) ) by L160
.= ( ( 2 * R6 ) - ( ( 2 * R6 ) - R7 ) ) by L160
.= ( ( ( 2 * R6 ) - ( 2 * R6 ) ) + R7 ) by RLVECT_1:29
.= ( ( 0. R1 ) + R7 ) by RLVECT_1:5
.= R7 by RLVECT_1:4
.= ( ( id R1 ) . R7 ) by FUNCT_1:18;
end;
registration
let R1 being RealNormSpace;
let R6 being (Point of R1);
cluster ( R6 -reflection ) ->  bijective;
coherence
proof
set D16 = ( R6 -reflection );
L169: ( D16 * D16 ) = ( id R1 ) by L167;
thus L170: D16 is  one-to-one  onto by L169 , FUNCT_2:23;
end;
end;
theorem
L172: (for R1 being RealNormSpace holds (for R6 being (Point of R1) holds (( ( R6 -reflection ) . R6 ) = R6 & (for R7 being (Point of R1) holds (( ( R6 -reflection ) . R7 ) = R7 implies R6 = R7)))))
proof
let R1 being RealNormSpace;
let R6 being (Point of R1);
set D17 = ( R6 -reflection );
thus L173: ( D17 . R6 ) = ( ( 2 * R6 ) - R6 ) by L160
.= ( ( R6 + R6 ) - R6 ) by L36
.= ( R6 + ( R6 - R6 ) ) by RLVECT_1:28
.= ( R6 + ( 0. R1 ) ) by RLVECT_1:15
.= R6 by RLVECT_1:def 4;
let R7 being (Point of R1);
assume L174: ( D17 . R7 ) = R7;
L175: ( ( D17 . R7 ) + R7 ) = ( 2 * R7 ) by L174 , L36;
L176: ( D17 . R7 ) = ( ( 2 * R6 ) - R7 ) by L160;
L177: ( ( D17 . R7 ) + R7 ) = ( ( 2 * R6 ) - ( R7 - R7 ) ) by L176 , RLVECT_1:29
.= ( ( 2 * R6 ) - ( 0. R1 ) ) by RLVECT_1:15
.= ( 2 * R6 ) by RLVECT_1:13;
thus L178: thesis by L177 , L175 , RLVECT_1:36;
end;
theorem
L179: (for R1 being RealNormSpace holds (for R6 being (Point of R1) holds (for R7 being (Point of R1) holds ( ( ( R6 -reflection ) . R7 ) - R6 ) = ( R6 - R7 ))))
proof
let R1 being RealNormSpace;
let R6 being (Point of R1);
let R7 being (Point of R1);
set D18 = ( R6 -reflection );
L180: ( 1 * R6 ) = R6 by RLVECT_1:def 8;
L181: ( D18 . R7 ) = ( ( 2 * R6 ) - R7 ) by L160;
thus L182: ( ( D18 . R7 ) - R6 ) = ( ( ( 2 * R6 ) - R6 ) - R7 ) by L181 , VECTSP_1:34
.= ( ( ( 2 - 1 ) * R6 ) - R7 ) by L180 , RLVECT_1:35
.= ( R6 - R7 ) by RLVECT_1:def 8;
end;
theorem
L183: (for R1 being RealNormSpace holds (for R6 being (Point of R1) holds (for R7 being (Point of R1) holds ||. ( ( ( R6 -reflection ) . R7 ) - R6 ) .|| = ||. ( R7 - R6 ) .||)))
proof
let R1 being RealNormSpace;
let R6 being (Point of R1);
let R7 being (Point of R1);
L184: ( ( ( R6 -reflection ) . R7 ) - R6 ) = ( R6 - R7 ) by L179;
thus L185: thesis by L184 , NORMSP_1:7;
end;
theorem
L186: (for R1 being RealNormSpace holds (for R6 being (Point of R1) holds (for R7 being (Point of R1) holds ( ( ( R6 -reflection ) . R7 ) - R7 ) = ( 2 * ( R6 - R7 ) ))))
proof
let R1 being RealNormSpace;
let R6 being (Point of R1);
let R7 being (Point of R1);
L187: ( ( ( 2 * R6 ) - R7 ) - R7 ) = ( ( 2 * R6 ) - ( R7 + R7 ) ) by RLVECT_1:27
.= ( ( 2 * R6 ) - ( 2 * R7 ) ) by L36
.= ( 2 * ( R6 - R7 ) ) by RLVECT_1:34;
thus L188: thesis by L187 , L160;
end;
theorem
L189: (for R1 being RealNormSpace holds (for R6 being (Point of R1) holds (for R7 being (Point of R1) holds ||. ( ( ( R6 -reflection ) . R7 ) - R7 ) .|| = ( 2 * ||. ( R7 - R6 ) .|| ))))
proof
let R1 being RealNormSpace;
let R6 being (Point of R1);
let R7 being (Point of R1);
L190: ( ( ( R6 -reflection ) . R7 ) - R7 ) = ( 2 * ( R6 - R7 ) ) by L186;
L191: ( abs 2 ) = 2 by COMPLEX1:43;
L192: ||. ( R6 - R7 ) .|| = ||. ( R7 - R6 ) .|| by NORMSP_1:7;
thus L193: thesis by L192 , L190 , L191 , NORMSP_1:def 1;
end;
theorem
L194: (for R1 being RealNormSpace holds (for R6 being (Point of R1) holds ( ( R6 -reflection ) /" ) = ( R6 -reflection )))
proof
let R1 being RealNormSpace;
let R6 being (Point of R1);
set D19 = ( R6 -reflection );
L195: ( rng D19 ) = ( [#] R1 ) by FUNCT_2:def 3;
L196: ( D19 /" ) = ( (D19 qua Function) " ) by TOPS_2:def 4;
L197: ( D19 * D19 ) = ( id R1 ) by L167;
thus L198: thesis by L197 , L195 , L196 , FUNCT_2:30;
end;
registration
let R1 being RealNormSpace;
let R6 being (Point of R1);
cluster ( R6 -reflection ) ->  isometric;
coherence
proof
set D20 = ( R6 -reflection );
let R7 being (Point of R1);
let R8 being (Point of R1);
L199: (( D20 . R7 ) = ( ( 2 * R6 ) - R7 ) & ( D20 . R8 ) = ( ( 2 * R6 ) - R8 )) by L160;
L200: ( ( D20 . R7 ) - ( D20 . R8 ) ) = ( ( ( ( 2 * R6 ) - R7 ) - ( 2 * R6 ) ) + R8 ) by L199 , RLVECT_1:29
.= ( ( ( ( 2 * R6 ) - ( 2 * R6 ) ) - R7 ) + R8 ) by VECTSP_1:34
.= ( ( ( 0. R1 ) - R7 ) + R8 ) by RLVECT_1:15
.= ( R8 - R7 ) by RLVECT_1:14;
thus L201: ||. ( ( D20 . R7 ) - ( D20 . R8 ) ) .|| = ||. ( R7 - R8 ) .|| by L200 , NORMSP_1:7;
end;
end;
deffunc H2(RealNormSpace , (Point of $1) , (Point of $1)) = { B18 where B18 is (UnOp of $1) : (B18 is  bijective  isometric & ( B18 . $2 ) = $2 & ( B18 . $3 ) = $3) };
deffunc H3(RealNormSpace , (Point of $1) , (Point of $1)) = { ||. ( ( B19 . ( ( 1 / 2 ) * ( $2 + $3 ) ) ) - ( ( 1 / 2 ) * ( $2 + $3 ) ) ) .|| where B19 is (UnOp of $1) : B19 in H2($1 , $2 , $3) };
L203:
now
let R1 being RealNormSpace;
let R6 being (Point of R1);
let R7 being (Point of R1);
let C57 being  real-membered set;
assume that
L204: C57 = H3(R1 , R6 , R7);
set D21 = ( ( 1 / 2 ) * ( R6 + R7 ) );
thus L205: ( 2 * ||. ( R6 - D21 ) .|| ) is (UpperBound of C57)
proof
let C58 being  ext-real number;
assume L206: C58 in C57;
consider C59 being (UnOp of R1) such that L207: C58 = ||. ( ( C59 . D21 ) - D21 ) .|| and L208: C59 in H2(R1 , R6 , R7) by L206 , L204;
consider C60 being (UnOp of R1) such that L209: C59 = C60 and L210: C60 is  bijective and L211: C60 is  isometric and L212: ( C60 . R6 ) = R6 and L213: ( C60 . R7 ) = R7 by L208;
L214: ||. ( ( C60 . D21 ) - R6 ) .|| = ||. ( D21 - R6 ) .|| by L211 , L212 , L91
.= ||. ( R6 - D21 ) .|| by NORMSP_1:7;
L215: ||. ( ( C60 . D21 ) - D21 ) .|| <= ( ||. ( ( C60 . D21 ) - R6 ) .|| + ||. ( R6 - D21 ) .|| ) by NORMSP_1:10;
thus L216: thesis by L215 , L207 , L209 , L214;
end;

end;
L206:
now
let R1 being RealNormSpace;
let R6 being (Point of R1);
let R7 being (Point of R1);
let C61 being (UnOp of R1);
assume that
L207: C61 in H2(R1 , R6 , R7);
set D22 = ( ( 1 / 2 ) * ( R6 + R7 ) );
set D23 = ( D22 -reflection );
set D24 = ( ( ( D23 * ( C61 /" ) ) * D23 ) * C61 );
consider C62 being (UnOp of R1) such that L208: C62 = C61 and L209: C62 is  bijective and L210: C62 is  isometric and L211: ( C62 . R6 ) = R6 and L212: ( C62 . R7 ) = R7 by L207;
L213: ( C62 /" ) = ( (C62 qua Function) " ) by L209 , TOPS_2:def 4;
L214: ( C62 /" ) is  bijective by L213 , L209 , GROUP_6:63;
L215: ( 2 * D22 ) = ( ( 2 * ( 1 / 2 ) ) * ( R6 + R7 ) ) by RLVECT_1:def 7
.= ( R6 + R7 ) by RLVECT_1:def 8;
L216: ( ( 2 * D22 ) - R6 ) = R7 by L215 , L39;
L217: ( ( 2 * D22 ) - R7 ) = R6 by L215 , L39;
L218: ( dom C62 ) = ( [#] R1 ) by FUNCT_2:def 1;
L219: ( ( C62 /" ) . R7 ) = R7 by L213 , L212 , L209 , L218 , FUNCT_1:32;
L220: ( ( C62 /" ) . R6 ) = R6 by L213 , L211 , L209 , L218 , FUNCT_1:32;
L221: ( D24 . R6 ) = ( ( ( D23 * ( C62 /" ) ) * D23 ) . R6 ) by L211 , L208 , FUNCT_2:15
.= ( ( D23 * ( C62 /" ) ) . ( D23 . R6 ) ) by FUNCT_2:15
.= ( ( D23 * ( C62 /" ) ) . R7 ) by L216 , L160
.= ( D23 . ( ( C62 /" ) . R7 ) ) by FUNCT_2:15
.= ( ( 2 * D22 ) - R7 ) by L219 , L160
.= R6 by L215 , L39;
L222: ( D24 . R7 ) = ( ( ( D23 * ( C62 /" ) ) * D23 ) . R7 ) by L212 , L208 , FUNCT_2:15
.= ( ( D23 * ( C62 /" ) ) . ( D23 . R7 ) ) by FUNCT_2:15
.= ( ( D23 * ( C62 /" ) ) . R6 ) by L217 , L160
.= ( D23 . ( ( C62 /" ) . R6 ) ) by FUNCT_2:15
.= ( ( 2 * D22 ) - R6 ) by L220 , L160
.= R7 by L215 , L39;
thus L223: D24 in H2(R1 , R6 , R7) by L222 , L208 , L209 , L210 , L214 , L221;
end;
L224:
now
let R1 being RealNormSpace;
let R6 being (Point of R1);
let R7 being (Point of R1);
let C63 being non  empty  bounded_above (Subset of ( REAL ));
assume that
L225: C63 = H3(R1 , R6 , R7);
thus L226: ( sup C63 ) is (UpperBound of ( 2 ** C63 ))
proof
set D25 = ( ( 1 / 2 ) * ( R6 + R7 ) );
set D26 = ( D25 -reflection );
let C64 being  ext-real number;
assume L227: C64 in ( 2 ** C63 );
consider C65 being (Element of ( ExtREAL )) such that L228: C64 = ( 2 * C65 ) and L229: C65 in C63 by L227 , MEMBER_1:188;
consider C66 being (UnOp of R1) such that L230: C65 = ||. ( ( C66 . D25 ) - D25 ) .|| and L231: C66 in H2(R1 , R6 , R7) by L229 , L225;
consider C67 being (UnOp of R1) such that L232: C67 = C66 and L233: C67 is  bijective and L234: C67 is  isometric and L235: (( C67 . R6 ) = R6 & ( C67 . R7 ) = R7) by L231;
L236: ( D26 * ( ( C67 /" ) * ( D26 * C67 ) ) ) = ( ( D26 * ( C67 /" ) ) * ( D26 * C67 ) ) by RELAT_1:36
.= ( ( ( D26 * ( C67 /" ) ) * D26 ) * C67 ) by RELAT_1:36;
L237: ( D26 . ( ( C67 /" ) . ( D26 . ( C67 . D25 ) ) ) ) = ( D26 . ( ( C67 /" ) . ( ( D26 * C67 ) . D25 ) ) ) by FUNCT_2:15
.= ( D26 . ( ( ( C67 /" ) * ( D26 * C67 ) ) . D25 ) ) by FUNCT_2:15
.= ( ( D26 * ( ( C67 /" ) * ( D26 * C67 ) ) ) . D25 ) by FUNCT_2:15;
L238: ( C67 /" ) = ( (C67 qua Function) " ) by L233 , TOPS_2:def 4;
L239: ( ( ( D26 * ( C67 /" ) ) * D26 ) * C67 ) in H2(R1 , R6 , R7) by L231 , L232 , L206;
L240: ||. ( ( ( ( ( D26 * ( C67 /" ) ) * D26 ) * C67 ) . D25 ) - D25 ) .|| in C63 by L239 , L225;
reconsider D27 = 2 as R_eal by XXREAL_0:def 1;
L241: ||. ( ( C67 . D25 ) - D25 ) .|| in ( ExtREAL ) by XXREAL_0:def 1;
L242: ( D27 * ||. ( ( C67 . D25 ) - D25 ) .|| ) = ( 2 * ||. ( ( C67 . D25 ) - D25 ) .|| ) by L241 , EXTREAL1:1;
L243: ( ( C67 /" ) . ( C67 . D25 ) ) = D25 by L233 , L238 , FUNCT_2:26;
L244: ( 2 * ||. ( ( C67 . D25 ) - D25 ) .|| ) = ||. ( ( D26 . ( C67 . D25 ) ) - ( C67 . D25 ) ) .|| by L189
.= ||. ( ( ( C67 /" ) . ( D26 . ( C67 . D25 ) ) ) - ( ( C67 /" ) . ( C67 . D25 ) ) ) .|| by L233 , L234 , L91
.= ||. ( ( D26 . ( ( C67 /" ) . ( D26 . ( C67 . D25 ) ) ) ) - D25 ) .|| by L243 , L183;
thus L245: C64 <= ( sup C63 ) by L244 , L228 , L230 , L236 , L237 , L240 , L232 , L242 , XXREAL_2:4;
end;

end;
L227:
now
let R1 being RealNormSpace;
let R6 being (Point of R1);
let R7 being (Point of R1);
let C68 being  real-membered set;
assume that
L228: C68 = H3(R1 , R6 , R7);
let C69 being (UnOp of R1);
assume that
L229: C69 in H2(R1 , R6 , R7);
set D28 = ( ( 1 / 2 ) * ( R6 + R7 ) );
set D29 = ( D28 -reflection );
L230: C68 c= ( REAL )
proof
let C70 being set;
assume L231: C70 in C68;
L232: (ex B20 being (UnOp of R1) st (C70 = ||. ( ( B20 . D28 ) - D28 ) .|| & B20 in H2(R1 , R6 , R7))) by L231 , L228;
thus L233: thesis by L232;
end;
L234: (( ( id R1 ) . R6 ) = R6 & ( ( id R1 ) . R7 ) = R7) by FUNCT_1:18;
L235: ( id R1 ) in H2(R1 , R6 , R7) by L234;
L236: ||. ( ( ( id R1 ) . D28 ) - D28 ) .|| in C68 by L235 , L228;
L237: ( 2 * ||. ( R6 - D28 ) .|| ) is (UpperBound of C68) by L228 , L203;
reconsider D30 = C68 as non  empty  bounded_above (Subset of ( REAL )) by L237 , L230 , L236 , XXREAL_2:def 10;
set D31 = ( sup D30 );
reconsider D32 = 2 as R_eal by XXREAL_0:def 1;
L238: ( D32 * ( sup D30 ) ) = ( sup ( 2 ** D30 ) ) by URYSOHN2:18;
L239: ||. ( ( C69 . D28 ) - D28 ) .|| in D30 by L228 , L229;
L240: ( D32 * ( sup D30 ) ) = ( 2 * D31 ) by XXREAL_3:def 5;
L241: D31 is (UpperBound of ( 2 ** D30 )) by L228 , L224;
L242: ( sup ( 2 ** D30 ) ) <= D31 by L241 , XXREAL_2:def 3;
L243: ( ( 2 * D31 ) - D31 ) <= ( D31 - D31 ) by L242 , L240 , L238 , XREAL_1:9;
L244: ||. ( ( C69 . D28 ) - D28 ) .|| = ( 0 ) by L243 , L239 , XXREAL_2:4;
thus L245: ( C69 . D28 ) = D28 by L244 , NORMSP_1:6;
end;
theorem
L246: (for R1 being RealNormSpace holds (for R2 being RealNormSpace holds (for R4 being (Function of R1 , R2) holds (R4 is  isometric implies R4 is_continuous_on ( dom R4 )))))
proof
let R1 being RealNormSpace;
let R2 being RealNormSpace;
let R4 being (Function of R1 , R2);
assume L247: R4 is  isometric;
set D33 = ( dom R4 );
L248: (for B21 being (sequence of R1) holds ((( rng B21 ) c= D33 & B21 is  convergent & ( lim B21 ) in D33) implies (( R4 /* B21 ) is  convergent & ( R4 /. ( lim B21 ) ) = ( lim ( R4 /* B21 ) ))))
proof
let C71 being (sequence of R1);
assume that
L249: ( rng C71 ) c= D33
and
L250: C71 is  convergent
and
L251: ( lim C71 ) in D33;
consider R6 being (Point of R1) such that L252: (for B22 being Real holds (( 0 ) < B22 implies (ex B23 being (Element of ( NAT )) st (for B24 being (Element of ( NAT )) holds (B23 <= B24 implies ||. ( ( C71 . B24 ) - R6 ) .|| < B22))))) by L250 , NORMSP_1:def 6;
L253: R6 = ( lim C71 ) by L250 , L252 , NORMSP_1:def 7;
L254: (for B25 being Real holds (( 0 ) < B25 implies (ex B26 being (Element of ( NAT )) st (for B27 being (Element of ( NAT )) holds (B26 <= B27 implies ||. ( ( ( R4 /* C71 ) . B27 ) - ( R4 . R6 ) ) .|| < B25)))))
proof
let C72 being Real;
assume L255: ( 0 ) < C72;
consider C73 being (Element of ( NAT )) such that L256: (for B28 being (Element of ( NAT )) holds (C73 <= B28 implies ||. ( ( C71 . B28 ) - R6 ) .|| < C72)) by L255 , L252;
take C73;
let C74 being (Element of ( NAT ));
assume L257: C73 <= C74;
L258: ||. ( ( C71 . C74 ) - R6 ) .|| < C72 by L257 , L256;
L259: ||. ( ( R4 . ( C71 . C74 ) ) - ( R4 . R6 ) ) .|| = ||. ( ( C71 . C74 ) - R6 ) .|| by L247 , L91;
L260: ( R4 /* C71 ) = ( R4 * C71 ) by L249 , FUNCT_2:def 11;
thus L261: ||. ( ( ( R4 /* C71 ) . C74 ) - ( R4 . R6 ) ) .|| < C72 by L260 , L258 , L259 , FUNCT_2:15;
end;
thus L262: ( R4 /* C71 ) is  convergent
proof
take ( R4 . R6 );
thus L263: thesis by L254;
end;

thus L264: ( R4 /. ( lim C71 ) ) = ( lim ( R4 /* C71 ) ) by L262 , L253 , L254 , NORMSP_1:def 7;
end;
thus L265: thesis by L248 , NFCONT_1:18;
end;
L266: (for R1 being RealNormSpace holds (for R6 being (Point of R1) holds (for R7 being (Point of R1) holds (for R9 being  real number holds ( ( ( 1 - R9 ) * R6 ) + ( R9 * R7 ) ) = ( R6 + ( R9 * ( R7 - R6 ) ) )))))
proof
let R1 being RealNormSpace;
let R6 being (Point of R1);
let R7 being (Point of R1);
let R9 being  real number;
thus L267: ( ( ( 1 - R9 ) * R6 ) + ( R9 * R7 ) ) = ( ( ( 1 * R6 ) - ( R9 * R6 ) ) + ( R9 * R7 ) ) by RLVECT_1:35
.= ( ( R6 - ( R9 * R6 ) ) + ( R9 * R7 ) ) by RLVECT_1:def 8
.= ( ( R6 + ( R9 * R7 ) ) - ( R9 * R6 ) ) by RLVECT_1:def 3
.= ( R6 + ( ( R9 * R7 ) - ( R9 * R6 ) ) ) by RLVECT_1:28
.= ( R6 + ( R9 * ( R7 - R6 ) ) ) by RLVECT_1:34;
end;
L268:
now
let R1 being RealNormSpace;
let R2 being RealNormSpace;
let R4 being (Function of R1 , R2);
let R6 being (Point of R1);
let R7 being (Point of R1);
let C75 , C76 being Nat;
set D34 = ( 2 |^ ( C75 + 1 ) );
set D35 = ( 2 |^ C75 );
set D36 = ( D35 - C76 );
assume L269: R4 is  midpoints-preserving;
assume L270: C76 <= D35;
L271: D36 in ( NAT ) by L270 , INT_1:5;
reconsider D37 = D36 as Nat by L271;
take D38 = D37;
thus L272: D38 = ( D35 - C76 );
set D39 = ( ( 1 - ( C76 / D34 ) ) - ( 1 / 2 ) );
L273: D35 <> ( 0 ) by NEWTON:83;
L274: ( 2 * D35 ) = D34 by NEWTON:6;
L275: ( ( 1 / 2 ) * ( 1 / D35 ) ) = ( 1 / ( 2 * D35 ) ) by XCMPLX_1:102;
L276: ( D38 / D34 ) = ( ( ( 1 * D35 ) / D34 ) - ( C76 / D34 ) )
.= ( ( 1 / 2 ) - ( C76 / D34 ) ) by L273 , L274 , XCMPLX_1:91
.= D39;
L277: ( ( D39 * R6 ) + ( ( C76 / D34 ) * R7 ) ) = ( ( ( 1 / D34 ) * ( D38 * R6 ) ) + ( ( ( 1 / D34 ) * C76 ) * R7 ) ) by L276 , RLVECT_1:def 7
.= ( ( ( 1 / D34 ) * ( D38 * R6 ) ) + ( ( 1 / D34 ) * ( C76 * R7 ) ) ) by RLVECT_1:def 7
.= ( ( 1 / D34 ) * ( ( D38 * R6 ) + ( C76 * R7 ) ) ) by RLVECT_1:def 5
.= ( ( 1 / 2 ) * ( ( 1 / D35 ) * ( ( D38 * R6 ) + ( C76 * R7 ) ) ) ) by L275 , L274 , RLVECT_1:def 7;
L278: ( R6 + ( ( C76 / D34 ) * ( R7 - R6 ) ) ) = ( R6 + ( ( ( C76 / D34 ) * R7 ) - ( ( C76 / D34 ) * R6 ) ) ) by RLVECT_1:34
.= ( ( R6 + ( ( C76 / D34 ) * R7 ) ) - ( ( C76 / D34 ) * R6 ) ) by RLVECT_1:def 3
.= ( ( R6 - ( ( C76 / D34 ) * R6 ) ) + ( ( C76 / D34 ) * R7 ) ) by RLVECT_1:def 3
.= ( ( ( 1 * R6 ) - ( ( C76 / D34 ) * R6 ) ) + ( ( C76 / D34 ) * R7 ) ) by RLVECT_1:def 8
.= ( ( ( 1 - ( C76 / D34 ) ) * R6 ) + ( ( C76 / D34 ) * R7 ) ) by RLVECT_1:35
.= ( ( ( ( ( 1 - ( C76 / D34 ) ) * R6 ) + ( D39 * R6 ) ) - ( D39 * R6 ) ) + ( ( C76 / D34 ) * R7 ) ) by L39
.= ( ( ( ( ( 1 - ( C76 / D34 ) ) * R6 ) - ( D39 * R6 ) ) + ( D39 * R6 ) ) + ( ( C76 / D34 ) * R7 ) ) by RLVECT_1:def 3
.= ( ( ( ( ( 1 - ( C76 / D34 ) ) - D39 ) * R6 ) + ( D39 * R6 ) ) + ( ( C76 / D34 ) * R7 ) ) by RLVECT_1:35
.= ( ( ( 1 / 2 ) * R6 ) + ( ( D39 * R6 ) + ( ( C76 / D34 ) * R7 ) ) ) by RLVECT_1:def 3
.= ( ( 1 / 2 ) * ( R6 + ( ( 1 / D35 ) * ( ( D38 * R6 ) + ( C76 * R7 ) ) ) ) ) by L277 , RLVECT_1:def 5;
thus L279: ( R4 . ( R6 + ( ( C76 / D34 ) * ( R7 - R6 ) ) ) ) = ( ( 1 / 2 ) * ( ( R4 . R6 ) + ( R4 . ( ( 1 / D35 ) * ( ( D38 * R6 ) + ( C76 * R7 ) ) ) ) ) ) by L278 , L269 , L94;
end;
L280:
now
let R1 being RealNormSpace;
let R2 being RealNormSpace;
let R4 being (Function of R1 , R2);
let R6 being (Point of R1);
let R7 being (Point of R1);
let C77 , C78 being Nat;
set D40 = ( 2 |^ ( C77 + 1 ) );
set D41 = ( 2 |^ C77 );
set D42 = ( ( D41 + C78 ) - D40 );
assume L281: R4 is  midpoints-preserving;
L282: ( 2 * D41 ) = D40 by NEWTON:6;
assume L283: C78 >= D41;
L284: ( D41 + D41 ) <= ( D41 + C78 ) by L283 , XREAL_1:6;
L285: D42 in ( NAT ) by L284 , L282 , INT_1:5;
reconsider D43 = D42 as Nat by L285;
take D44 = D43;
thus L286: D44 = ( ( D41 + C78 ) - D40 );
set D45 = ( ( C78 / D40 ) - ( 1 / 2 ) );
L287: D41 <> ( 0 ) by NEWTON:83;
L288: D40 <> ( 0 ) by NEWTON:83;
L289: ( D40 / D40 ) = 1 by L288 , XCMPLX_1:60;
L290: ( 1 - ( C78 / D40 ) ) = ( ( 1 / D40 ) * ( D40 - C78 ) ) by L289;
L291: ( D41 / D40 ) = ( ( 1 * D41 ) / ( 2 * D41 ) ) by NEWTON:6
.= ( 1 / 2 ) by L287 , XCMPLX_1:91;
L292: ( ( 1 / 2 ) * ( 1 / D41 ) ) = ( 1 / ( 2 * D41 ) ) by XCMPLX_1:102;
L293: ( D44 / D40 ) = ( ( ( D41 + C78 ) / D40 ) - ( D40 / D40 ) )
.= D45 by L289 , L291;
L294: ( ( D45 * R7 ) + ( ( 1 - ( C78 / D40 ) ) * R6 ) ) = ( ( ( 1 / D40 ) * ( ( D40 - C78 ) * R6 ) ) + ( ( ( 1 / D40 ) * D44 ) * R7 ) ) by L293 , L290 , RLVECT_1:def 7
.= ( ( ( 1 / D40 ) * ( ( D40 - C78 ) * R6 ) ) + ( ( 1 / D40 ) * ( D44 * R7 ) ) ) by RLVECT_1:def 7
.= ( ( 1 / D40 ) * ( ( ( D40 - C78 ) * R6 ) + ( D44 * R7 ) ) ) by RLVECT_1:def 5
.= ( ( 1 / 2 ) * ( ( 1 / D41 ) * ( ( ( D40 - C78 ) * R6 ) + ( D44 * R7 ) ) ) ) by L292 , L282 , RLVECT_1:def 7;
L295: ( R6 + ( ( C78 / D40 ) * ( R7 - R6 ) ) ) = ( R6 + ( ( ( C78 / D40 ) * R7 ) - ( ( C78 / D40 ) * R6 ) ) ) by RLVECT_1:34
.= ( ( R6 + ( ( C78 / D40 ) * R7 ) ) - ( ( C78 / D40 ) * R6 ) ) by RLVECT_1:def 3
.= ( ( R6 - ( ( C78 / D40 ) * R6 ) ) + ( ( C78 / D40 ) * R7 ) ) by RLVECT_1:def 3
.= ( ( ( 1 * R6 ) - ( ( C78 / D40 ) * R6 ) ) + ( ( C78 / D40 ) * R7 ) ) by RLVECT_1:def 8
.= ( ( ( 1 - ( C78 / D40 ) ) * R6 ) + ( ( C78 / D40 ) * R7 ) ) by RLVECT_1:35
.= ( ( ( ( ( C78 / D40 ) * R7 ) + ( D45 * R7 ) ) - ( D45 * R7 ) ) + ( ( 1 - ( C78 / D40 ) ) * R6 ) ) by L39
.= ( ( ( ( ( C78 / D40 ) * R7 ) - ( D45 * R7 ) ) + ( D45 * R7 ) ) + ( ( 1 - ( C78 / D40 ) ) * R6 ) ) by RLVECT_1:def 3
.= ( ( ( ( ( C78 / D40 ) - D45 ) * R7 ) + ( D45 * R7 ) ) + ( ( 1 - ( C78 / D40 ) ) * R6 ) ) by RLVECT_1:35
.= ( ( ( 1 / 2 ) * R7 ) + ( ( D45 * R7 ) + ( ( 1 - ( C78 / D40 ) ) * R6 ) ) ) by RLVECT_1:def 3
.= ( ( 1 / 2 ) * ( R7 + ( ( 1 / D41 ) * ( ( ( D40 - C78 ) * R6 ) + ( D44 * R7 ) ) ) ) ) by L294 , RLVECT_1:def 5;
thus L296: ( R4 . ( R6 + ( ( C78 / D40 ) * ( R7 - R6 ) ) ) ) = ( ( 1 / 2 ) * ( ( R4 . R7 ) + ( R4 . ( ( 1 / D41 ) * ( ( ( D40 - C78 ) * R6 ) + ( D44 * R7 ) ) ) ) ) ) by L295 , L281 , L94;
end;
L297:
now
let R1 being RealNormSpace;
let R2 being RealNormSpace;
let R4 being (Function of R1 , R2);
let R6 being (Point of R1);
let R7 being (Point of R1);
let C79 being Nat;
assume L298: R4 is  midpoints-preserving;
thus L299: (for B29 being Nat holds (C79 <= ( 2 |^ B29 ) implies ( R4 . ( ( ( 1 - ( C79 / ( 2 |^ B29 ) ) ) * R6 ) + ( ( C79 / ( 2 |^ B29 ) ) * R7 ) ) ) = ( ( ( 1 - ( C79 / ( 2 |^ B29 ) ) ) * ( R4 . R6 ) ) + ( ( C79 / ( 2 |^ B29 ) ) * ( R4 . R7 ) ) )))
proof
defpred S1[ Nat ] means (for B30 being Nat holds (B30 <= ( 2 |^ $1 ) implies ( R4 . ( ( ( 1 - ( B30 / ( 2 |^ $1 ) ) ) * R6 ) + ( ( B30 / ( 2 |^ $1 ) ) * R7 ) ) ) = ( ( ( 1 - ( B30 / ( 2 |^ $1 ) ) ) * ( R4 . R6 ) ) + ( ( B30 / ( 2 |^ $1 ) ) * ( R4 . R7 ) ) )));
L300: S1[ ( 0 ) ]
proof
let C80 being Nat;
assume that
L301: C80 <= ( 2 |^ ( 0 ) );
L302: ( 2 |^ ( 0 ) ) = 1 by NEWTON:4;
per cases  by L301 , L302 , NAT_1:25;
suppose L303: C80 = 1;

L304: ( R4 . ( ( ( 1 - C80 ) * R6 ) + ( C80 * R7 ) ) ) = ( R4 . ( ( 0. R1 ) + ( C80 * R7 ) ) ) by L303 , RLVECT_1:10
.= ( R4 . ( C80 * R7 ) ) by RLVECT_1:4
.= ( R4 . R7 ) by L303 , RLVECT_1:def 8
.= ( C80 * ( R4 . R7 ) ) by L303 , RLVECT_1:def 8
.= ( ( 0. R2 ) + ( C80 * ( R4 . R7 ) ) ) by RLVECT_1:4
.= ( ( ( 1 - C80 ) * ( R4 . R6 ) ) + ( C80 * ( R4 . R7 ) ) ) by L303 , RLVECT_1:10;
thus L305: thesis by L304 , L302;
end;
suppose L306: C80 = ( 0 );

L307: ( R4 . ( ( ( 1 - C80 ) * R6 ) + ( C80 * R7 ) ) ) = ( R4 . ( ( 1 * R6 ) + ( 0. R1 ) ) ) by L306 , RLVECT_1:10
.= ( R4 . ( 1 * R6 ) ) by RLVECT_1:4
.= ( R4 . R6 ) by RLVECT_1:def 8
.= ( ( 1 - C80 ) * ( R4 . R6 ) ) by L306 , RLVECT_1:def 8
.= ( ( ( 1 - C80 ) * ( R4 . R6 ) ) + ( 0. R2 ) ) by RLVECT_1:4
.= ( ( ( 1 - C80 ) * ( R4 . R6 ) ) + ( C80 * ( R4 . R7 ) ) ) by L306 , RLVECT_1:10;
thus L308: thesis by L307 , L302;
end;
end;
L310: (for B31 being Nat holds (S1[ B31 ] implies S1[ ( B31 + 1 ) ]))
proof
let C81 being Nat;
set D46 = ( 2 |^ C81 );
set D47 = ( 2 |^ ( C81 + 1 ) );
assume L311: S1[ C81 ];
let C82 being Nat;
assume that
L312: C82 <= D47;
L313: D47 = ( D46 * 2 ) by NEWTON:6;
L314: D46 <> ( 0 ) by NEWTON:83;
L315: ( ( 1 / 2 ) * ( C82 / D46 ) ) = ( ( 1 * C82 ) / ( 2 * D46 ) ) by XCMPLX_1:76
.= ( C82 / D47 ) by NEWTON:6;
per cases ;
suppose L316: C82 <= D46;

consider C83 being Nat such that L317: C83 = ( D46 - C82 ) and L318: ( R4 . ( R6 + ( ( C82 / D47 ) * ( R7 - R6 ) ) ) ) = ( ( 1 / 2 ) * ( ( R4 . R6 ) + ( R4 . ( ( 1 / D46 ) * ( ( C83 * R6 ) + ( C82 * R7 ) ) ) ) ) ) by L316 , L298 , L268;
L319: ( C83 / D46 ) = ( ( D46 / D46 ) - ( C82 / D46 ) ) by L317
.= ( 1 - ( C82 / D46 ) ) by L314 , XCMPLX_1:60;
L320: ( ( 1 / D46 ) * ( ( C83 * R6 ) + ( C82 * R7 ) ) ) = ( ( ( 1 / D46 ) * ( C83 * R6 ) ) + ( ( 1 / D46 ) * ( C82 * R7 ) ) ) by RLVECT_1:def 5
.= ( ( ( 1 / D46 ) * ( C83 * R6 ) ) + ( ( C82 / D46 ) * R7 ) ) by RLVECT_1:def 7
.= ( ( ( C83 / D46 ) * R6 ) + ( ( C82 / D46 ) * R7 ) ) by RLVECT_1:def 7;
thus L321: ( R4 . ( ( ( 1 - ( C82 / D47 ) ) * R6 ) + ( ( C82 / D47 ) * R7 ) ) ) = ( R4 . ( R6 + ( ( C82 / D47 ) * ( R7 - R6 ) ) ) ) by L266
.= ( ( ( 1 / 2 ) * ( R4 . R6 ) ) + ( ( 1 / 2 ) * ( R4 . ( ( 1 / D46 ) * ( ( C83 * R6 ) + ( C82 * R7 ) ) ) ) ) ) by L318 , RLVECT_1:def 5
.= ( ( ( 1 / 2 ) * ( R4 . R6 ) ) + ( ( 1 / 2 ) * ( ( ( 1 - ( C82 / D46 ) ) * ( R4 . R6 ) ) + ( ( C82 / D46 ) * ( R4 . R7 ) ) ) ) ) by L319 , L316 , L320 , L311
.= ( ( ( 1 / 2 ) * ( R4 . R6 ) ) + ( ( ( 1 / 2 ) * ( ( 1 - ( C82 / D46 ) ) * ( R4 . R6 ) ) ) + ( ( 1 / 2 ) * ( ( C82 / D46 ) * ( R4 . R7 ) ) ) ) ) by RLVECT_1:def 5
.= ( ( ( ( 1 / 2 ) * ( R4 . R6 ) ) + ( ( 1 / 2 ) * ( ( 1 - ( C82 / D46 ) ) * ( R4 . R6 ) ) ) ) + ( ( 1 / 2 ) * ( ( C82 / D46 ) * ( R4 . R7 ) ) ) ) by RLVECT_1:def 3
.= ( ( ( ( 1 / 2 ) * ( R4 . R6 ) ) + ( ( ( 1 / 2 ) * ( 1 - ( C82 / D46 ) ) ) * ( R4 . R6 ) ) ) + ( ( 1 / 2 ) * ( ( C82 / D46 ) * ( R4 . R7 ) ) ) ) by RLVECT_1:def 7
.= ( ( ( ( 1 / 2 ) + ( ( 1 / 2 ) * ( 1 - ( C82 / D46 ) ) ) ) * ( R4 . R6 ) ) + ( ( 1 / 2 ) * ( ( C82 / D46 ) * ( R4 . R7 ) ) ) ) by RLVECT_1:def 6
.= ( ( ( 1 - ( C82 / D47 ) ) * ( R4 . R6 ) ) + ( ( C82 / D47 ) * ( R4 . R7 ) ) ) by L315 , RLVECT_1:def 7;
end;
suppose L322: C82 >= D46;

consider C84 being Nat such that L323: C84 = ( ( D46 + C82 ) - D47 ) and L324: ( R4 . ( R6 + ( ( C82 / D47 ) * ( R7 - R6 ) ) ) ) = ( ( 1 / 2 ) * ( ( R4 . R7 ) + ( R4 . ( ( 1 / D46 ) * ( ( ( D47 - C82 ) * R6 ) + ( C84 * R7 ) ) ) ) ) ) by L322 , L298 , L280;
set D48 = ( C82 - D46 );
L325: D48 <= ( ( 2 * D46 ) - D46 ) by L312 , L313 , XREAL_1:9;
L326: ( D46 / D46 ) = 1 by L314 , XCMPLX_1:60;
L327: ( D47 / D46 ) = ( ( 2 * D46 ) / ( 1 * D46 ) ) by NEWTON:6
.= ( 2 / 1 ) by L314 , XCMPLX_1:91;
L328: ( ( 1 / 2 ) * ( 1 - ( D48 / D46 ) ) ) = ( 1 - ( ( 1 / 2 ) * ( C82 / D46 ) ) ) by L326
.= ( 1 - ( ( 1 * C82 ) / ( 2 * D46 ) ) ) by XCMPLX_1:76
.= ( 1 - ( C82 / D47 ) ) by NEWTON:6;
thus L329: ( R4 . ( ( ( 1 - ( C82 / D47 ) ) * R6 ) + ( ( C82 / D47 ) * R7 ) ) ) = ( R4 . ( R6 + ( ( C82 / D47 ) * ( R7 - R6 ) ) ) ) by L266
.= ( ( ( 1 / 2 ) * ( R4 . R7 ) ) + ( ( 1 / 2 ) * ( R4 . ( ( 1 / D46 ) * ( ( ( D47 - C82 ) * R6 ) + ( C84 * R7 ) ) ) ) ) ) by L324 , RLVECT_1:def 5
.= ( ( ( 1 / 2 ) * ( R4 . R7 ) ) + ( ( 1 / 2 ) * ( R4 . ( ( ( 1 / D46 ) * ( ( D47 - C82 ) * R6 ) ) + ( ( 1 / D46 ) * ( C84 * R7 ) ) ) ) ) ) by RLVECT_1:def 5
.= ( ( ( 1 / 2 ) * ( R4 . R7 ) ) + ( ( 1 / 2 ) * ( R4 . ( ( ( ( 1 / D46 ) * ( D47 - C82 ) ) * R6 ) + ( ( 1 / D46 ) * ( C84 * R7 ) ) ) ) ) ) by RLVECT_1:def 7
.= ( ( ( 1 / 2 ) * ( R4 . R7 ) ) + ( ( 1 / 2 ) * ( R4 . ( ( ( ( 1 / D46 ) * ( D47 - C82 ) ) * R6 ) + ( ( ( 1 / D46 ) * C84 ) * R7 ) ) ) ) ) by RLVECT_1:def 7
.= ( ( ( 1 / 2 ) * ( R4 . R7 ) ) + ( ( 1 / 2 ) * ( ( ( 1 - ( D48 / D46 ) ) * ( R4 . R6 ) ) + ( ( D48 / D46 ) * ( R4 . R7 ) ) ) ) ) by L325 , L326 , L327 , L323 , L313 , L311
.= ( ( ( 1 / 2 ) * ( R4 . R7 ) ) + ( ( ( 1 / 2 ) * ( ( 1 - ( D48 / D46 ) ) * ( R4 . R6 ) ) ) + ( ( 1 / 2 ) * ( ( D48 / D46 ) * ( R4 . R7 ) ) ) ) ) by RLVECT_1:def 5
.= ( ( ( 1 / 2 ) * ( ( 1 - ( D48 / D46 ) ) * ( R4 . R6 ) ) ) + ( ( ( 1 / 2 ) * ( R4 . R7 ) ) + ( ( 1 / 2 ) * ( ( D48 / D46 ) * ( R4 . R7 ) ) ) ) ) by RLVECT_1:def 3
.= ( ( ( 1 / 2 ) * ( ( 1 - ( D48 / D46 ) ) * ( R4 . R6 ) ) ) + ( ( 1 / 2 ) * ( ( R4 . R7 ) + ( ( D48 / D46 ) * ( R4 . R7 ) ) ) ) ) by RLVECT_1:def 5
.= ( ( ( 1 / 2 ) * ( ( 1 - ( D48 / D46 ) ) * ( R4 . R6 ) ) ) + ( ( 1 / 2 ) * ( ( 1 * ( R4 . R7 ) ) + ( ( D48 / D46 ) * ( R4 . R7 ) ) ) ) ) by RLVECT_1:def 8
.= ( ( ( 1 / 2 ) * ( ( 1 - ( D48 / D46 ) ) * ( R4 . R6 ) ) ) + ( ( 1 / 2 ) * ( ( 1 + ( D48 / D46 ) ) * ( R4 . R7 ) ) ) ) by RLVECT_1:def 6
.= ( ( ( 1 / 2 ) * ( ( 1 - ( D48 / D46 ) ) * ( R4 . R6 ) ) ) + ( ( ( 1 / 2 ) * ( 1 + ( D48 / D46 ) ) ) * ( R4 . R7 ) ) ) by RLVECT_1:def 7
.= ( ( ( 1 - ( C82 / D47 ) ) * ( R4 . R6 ) ) + ( ( C82 / D47 ) * ( R4 . R7 ) ) ) by L328 , RLVECT_1:def 7;
end;
end;
L331: (for B32 being Nat holds S1[ B32 ]) from NAT_1:sch 2(L300 , L310);
thus L332: thesis by L331;
end;

end;
registration
let R1 being RealNormSpace;
let R2 being RealNormSpace;
cluster  bijective  isometric ->  midpoints-preserving for (Function of R1 , R2);
coherence
proof
let C85 being (Function of R1 , R2);
assume that
L300: C85 is  bijective
and
L301: C85 is  isometric;
let C86 , C87 being (Point of R1);
set D49 = H2(R1 , C86 , C87);
set D50 = H3(R1 , C86 , C87);
set D51 = ( ( 1 / 2 ) * ( C86 + C87 ) );
set D52 = ( ( 1 / 2 ) * ( ( C85 . C86 ) + ( C85 . C87 ) ) );
set D53 = ( D51 -reflection );
set D54 = ( D52 -reflection );
set D55 = ( ( ( D53 * ( C85 /" ) ) * D54 ) * C85 );
L302:
now
let C88 being set;
assume L303: C88 in D50;
L304: (ex B33 being (UnOp of R1) st (C88 = ||. ( ( B33 . D51 ) - D51 ) .|| & B33 in H2(R1 , C86 , C87))) by L303;
thus L305: C88 is  real by L304;
end;
reconsider D56 = D50 as  real-membered set by L302 , MEMBERED:def 3;
L306: ( rng C85 ) = ( [#] R2 ) by L300 , FUNCT_2:def 3;
L307: ( C85 /" ) = ( (C85 qua Function) " ) by L300 , TOPS_2:def 4;
L308: ( C85 /" ) is  bijective by L307 , L300 , GROUP_6:63;
L309: ( D53 * ( C85 /" ) ) is  onto by L308 , FUNCT_2:27;
L310: ( ( D53 * ( C85 /" ) ) * D54 ) is  onto by L309 , FUNCT_2:27;
L311: D55 is  onto by L310 , L300 , FUNCT_2:27;
L312: ( C85 /" ) is  isometric by L300 , L301 , L121;
L313: ( D53 * ( C85 /" ) ) is  isometric by L312 , L107;
L314: ( ( D53 * ( C85 /" ) ) * D54 ) is  isometric by L313 , L107;
L315: D55 is  isometric by L314 , L301 , L107;
L316: ( 2 * D51 ) = ( ( 2 * ( 1 / 2 ) ) * ( C86 + C87 ) ) by RLVECT_1:def 7
.= ( C86 + C87 ) by RLVECT_1:def 8;
L317: ( ( 2 * D51 ) - C86 ) = C87 by L316 , L39;
L318: ( ( 2 * D51 ) - C87 ) = C86 by L316 , L39;
L319: ( 2 * D52 ) = ( ( 2 * ( 1 / 2 ) ) * ( ( C85 . C86 ) + ( C85 . C87 ) ) ) by RLVECT_1:def 7
.= ( ( C85 . C86 ) + ( C85 . C87 ) ) by RLVECT_1:def 8;
L320: ( ( 2 * D52 ) - ( C85 . C86 ) ) = ( C85 . C87 ) by L319 , L39;
L321: ( ( 2 * D52 ) - ( C85 . C87 ) ) = ( C85 . C86 ) by L319 , L39;
L322: ( D55 . C86 ) = ( ( ( D53 * ( C85 /" ) ) * D54 ) . ( C85 . C86 ) ) by FUNCT_2:15
.= ( ( D53 * ( C85 /" ) ) . ( D54 . ( C85 . C86 ) ) ) by FUNCT_2:15
.= ( ( D53 * ( C85 /" ) ) . ( C85 . C87 ) ) by L320 , L160
.= ( D53 . ( ( C85 /" ) . ( C85 . C87 ) ) ) by FUNCT_2:15
.= ( D53 . C87 ) by L307 , L300 , FUNCT_2:26
.= C86 by L318 , L160;
L323: ( D55 . C87 ) = ( ( ( D53 * ( C85 /" ) ) * D54 ) . ( C85 . C87 ) ) by FUNCT_2:15
.= ( ( D53 * ( C85 /" ) ) . ( D54 . ( C85 . C87 ) ) ) by FUNCT_2:15
.= ( ( D53 * ( C85 /" ) ) . ( C85 . C86 ) ) by L321 , L160
.= ( D53 . ( ( C85 /" ) . ( C85 . C86 ) ) ) by FUNCT_2:15
.= ( D53 . C86 ) by L307 , L300 , FUNCT_2:26
.= C87 by L317 , L160;
L324: D55 in D49 by L323 , L307 , L300 , L311 , L315 , L322;
L325: ( rng D53 ) = ( [#] R1 ) by FUNCT_2:def 3;
L326: ( ( D53 /" ) * D53 ) = ( id ( dom D53 ) ) by L325 , TOPS_2:52
.= ( id R1 ) by FUNCT_2:def 1;
L327: ( C85 * ( C85 /" ) ) = ( id R2 ) by L300 , L306 , TOPS_2:52;
L328: ( ( D53 /" ) * D55 ) = ( ( D53 /" ) * ( ( D53 * ( C85 /" ) ) * ( D54 * C85 ) ) ) by RELAT_1:36
.= ( ( D53 /" ) * ( D53 * ( ( C85 /" ) * ( D54 * C85 ) ) ) ) by RELAT_1:36
.= ( ( ( D53 /" ) * D53 ) * ( ( C85 /" ) * ( D54 * C85 ) ) ) by RELAT_1:36
.= ( ( ( ( D53 /" ) * D53 ) * ( C85 /" ) ) * ( D54 * C85 ) ) by RELAT_1:36
.= ( ( ( ( ( D53 /" ) * D53 ) * ( C85 /" ) ) * D54 ) * C85 ) by RELAT_1:36
.= ( ( ( C85 /" ) * D54 ) * C85 ) by L326 , FUNCT_2:17;
L329: ( C85 * ( ( ( C85 /" ) * D54 ) * C85 ) ) = ( C85 * ( ( C85 /" ) * ( D54 * C85 ) ) ) by RELAT_1:36
.= ( ( C85 * ( C85 /" ) ) * ( D54 * C85 ) ) by RELAT_1:36
.= ( D54 * C85 ) by L327 , FUNCT_2:17;
L330: D56 = H3(R1 , C86 , C87);
L331: ( D55 . D51 ) = D51 by L330 , L324 , L227;
L332: ( ( ( D53 /" ) * D55 ) . D51 ) = ( ( D53 /" ) . D51 ) by L331 , FUNCT_2:15;
L333: ( ( C85 * ( ( ( C85 /" ) * D54 ) * C85 ) ) . D51 ) = ( C85 . ( ( D53 /" ) . D51 ) ) by L332 , L328 , FUNCT_2:15
.= ( ( C85 * ( D53 /" ) ) . D51 ) by FUNCT_2:15;
L334: ( D54 . ( C85 . D51 ) ) = ( ( D54 * C85 ) . D51 ) by FUNCT_2:15
.= ( ( C85 * D53 ) . D51 ) by L333 , L329 , L194
.= ( C85 . ( D53 . D51 ) ) by FUNCT_2:15
.= ( C85 . D51 ) by L172;
thus L335: thesis by L334 , L172;
end;
end;
registration
let R1 being RealNormSpace;
let R2 being RealNormSpace;
cluster  isometric  midpoints-preserving ->  Affine for (Function of R1 , R2);
coherence
proof
let R4 being (Function of R1 , R2);
assume that
L337: R4 is  isometric
and
L338: R4 is  midpoints-preserving;
let R6 being (Point of R1);
let R7 being (Point of R1);
let R9 being  real number;
assume L339: (( 0 ) <= R9 & R9 <= 1);
L340: R9 in [. ( 0 ) , 1 .] by L339 , XXREAL_1:1;
consider C89 being Real_Sequence such that L341: ( rng C89 ) c= ( DYADIC ) and L342: C89 is  convergent and L343: ( lim C89 ) = R9 by L340 , L34 , MEASURE6:64;
L344: ( dom R4 ) = (the carrier of R1) by FUNCT_2:def 1;
set D57 = ( C89 * R7 );
set D58 = ( 1 + ( - C89 ) );
set D59 = ( D58 * R6 );
set D60 = ( D59 + D57 );
set D61 = ( D58 * ( R4 . R6 ) );
set D62 = ( C89 * ( R4 . R7 ) );
L345: R4 is_continuous_on ( dom R4 ) by L337 , L246;
L346: ( - C89 ) is  convergent by L342 , SEQ_2:9;
L347: D60 is  convergent by L346 , L342 , NORMSP_1:19;
L348: ( lim D59 ) = ( ( lim D58 ) * R6 ) by L346 , L85;
L349: ( lim ( - C89 ) ) = ( - ( lim C89 ) ) by L342 , SEQ_2:10;
L350: ( lim D58 ) = ( 1 - R9 ) by L343 , L349 , L346 , L74;
L351: ( lim D57 ) = ( ( lim C89 ) * R7 ) by L342 , L85;
L352: ( lim D60 ) = ( ( ( 1 - R9 ) * R6 ) + ( R9 * R7 ) ) by L351 , L343 , L348 , L350 , L346 , L342 , NORMSP_1:25;
L353: ( lim D61 ) = ( ( 1 - R9 ) * ( R4 . R6 ) ) by L346 , L350 , L85;
L354: ( lim D62 ) = ( R9 * ( R4 . R7 ) ) by L342 , L343 , L85;
L355: ( R4 /* D60 ) = ( D61 + D62 )
proof
let C90 being (Element of ( NAT ));
L356: ( D58 . C90 ) = ( 1 + ( ( - C89 ) . C90 ) ) by VALUED_1:2
.= ( 1 + ( - ( C89 . C90 ) ) ) by VALUED_1:8;
L357: ( dom C89 ) = ( NAT ) by FUNCT_2:def 1;
L358: ( C89 . C90 ) in ( rng C89 ) by L357 , FUNCT_1:3;
consider C91 being (Element of ( NAT )) such that L359: ( C89 . C90 ) in ( dyadic C91 ) by L358 , L341 , URYSOHN1:def 2;
L360: (ex B34 being (Element of ( NAT )) st (B34 <= ( 2 |^ C91 ) & ( C89 . C90 ) = ( B34 / ( 2 |^ C91 ) ))) by L359 , URYSOHN1:def 1;
L361: ( rng D60 ) c= ( dom R4 ) by L344;
thus L362: ( ( R4 /* D60 ) . C90 ) = ( R4 . ( D60 . C90 ) ) by L361 , FUNCT_2:108
.= ( R4 . ( ( D59 . C90 ) + ( D57 . C90 ) ) ) by NORMSP_1:def 2
.= ( R4 . ( ( ( 1 - ( C89 . C90 ) ) * R6 ) + ( D57 . C90 ) ) ) by L356 , NDIFF_1:def 3
.= ( R4 . ( ( ( 1 - ( C89 . C90 ) ) * R6 ) + ( ( C89 . C90 ) * R7 ) ) ) by NDIFF_1:def 3
.= ( ( ( 1 - ( C89 . C90 ) ) * ( R4 . R6 ) ) + ( ( C89 . C90 ) * ( R4 . R7 ) ) ) by L338 , L360 , L297
.= ( ( ( D58 . C90 ) * ( R4 . R6 ) ) + ( D62 . C90 ) ) by L356 , NDIFF_1:def 3
.= ( ( D61 . C90 ) + ( D62 . C90 ) ) by NDIFF_1:def 3
.= ( ( D61 + D62 ) . C90 ) by NORMSP_1:def 2;
end;
L363: ( rng D60 ) c= (the carrier of R1);
thus L364: ( R4 . ( ( ( 1 - R9 ) * R6 ) + ( R9 * R7 ) ) ) = ( R4 /. ( ( ( 1 - R9 ) * R6 ) + ( R9 * R7 ) ) )
.= ( lim ( R4 /* D60 ) ) by L344 , L345 , L363 , L347 , L352 , NFCONT_1:18
.= ( ( ( 1 - R9 ) * ( R4 . R6 ) ) + ( R9 * ( R4 . R7 ) ) ) by L353 , L354 , L346 , L342 , L355 , NORMSP_1:25;
end;
end;
