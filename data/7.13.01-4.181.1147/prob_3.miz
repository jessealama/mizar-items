:: Set Sequences and Monotone Class
::  by Bo Zhang , Hiroshi Yamazaki and Yatsuka Nakamura
::
:: Received August 12, 2005
:: Copyright (c) 2005-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, NAT_1, XREAL_0, ORDINAL1, PROB_1, FINSEQ_1, ZFMISC_1,
      XBOOLE_0, CARD_1, ARYTM_3, XXREAL_0, ARYTM_1, RELAT_1, SEQ_1, FUNCT_1,
      SEQ_2, ORDINAL2, SUBSET_1, COMPLEX1, RPR_1, TARSKI, VALUED_0, EQREL_1,
      CARD_3, PROB_2, SERIES_1, XXREAL_2, FINSEQ_2, SETFAM_1, BINOP_2,
      SETWISEO, FINSOP_1, SEQM_3, SETLIM_2, PROB_3, SEQ_4;
 notations FINSEQ_1, ORDINAL1, CARD_3, REAL_1, RELAT_1, TARSKI, XBOOLE_0,
      RVSUM_1, FINSOP_1, SUBSET_1, NUMBERS, XCMPLX_0, XREAL_0, SETFAM_1,
      BINOP_1, SETWOP_2, BINOP_2, SETWISEO, NAT_1, FINSEQ_2, COMPLEX1, SEQ_1,
      COMSEQ_2,
      SEQ_2, FUNCT_1, RELSET_1, PARTFUN1, FUNCT_2, PROB_1, PROB_2, KURATO_0,
      SETLIM_2, SEQM_3, SETLIM_1, RINFSUP1, SERIES_1, XXREAL_0;
 constructors SETFAM_1, PARTFUN1, SETWISEO, XXREAL_0, REAL_1, NAT_1, BINOP_2,
      COMPLEX1, SEQ_2, SEQM_3, PROB_2, FINSOP_1, RVSUM_1, SERIES_1, BINOP_1,
      KURATO_0, SETLIM_1, RINFSUP1, SETLIM_2, SEQ_1, PROB_1, RELSET_1,
      SETWOP_2, COMSEQ_2;
 registrations SUBSET_1, ORDINAL1, RELSET_1, NUMBERS, XREAL_0, NAT_1, MEMBERED,
      PROB_1, VALUED_0, SEQ_2, FINSEQ_1, FUNCT_2, COMSEQ_2;
 requirements REAL, NUMERALS, BOOLE, SUBSET, ARITHM;
 definitions TARSKI, XBOOLE_0, RELAT_1, FINSEQ_1, FINSEQ_2;
 theorems FUNCT_1, FUNCT_2, SEQ_1, ABSVALUE, SEQ_2, SUBSET_1, NAT_1, TARSKI,
      XBOOLE_0, XBOOLE_1, PROB_2, SETLIM_2, RINFSUP1, RELAT_1, SETFAM_1,
      ZFMISC_1, SEQM_3, CARD_3, SETLIM_1, PROB_1, FINSUB_1, SERIES_1, FINSEQ_1,
      FINSEQ_2, FINSEQ_3, RVSUM_1, FINSOP_1, SETWISEO, BINOP_2, XREAL_1,
      XXREAL_0, ORDINAL1, VALUED_0, FUNCOP_1;
 schemes CLASSES1, NAT_1, RECDEF_1, FINSEQ_2, PARTFUN1;

begin
L1: (for R7 being  real number holds (for R8 being  real number holds (for R6 being  real number holds ((( 0 ) < R6 & R7 <= R8) implies (R7 < ( R8 + R6 ) & ( R7 - R6 ) < R8)))))
proof
let R7 being  real number;
let R8 being  real number;
let R6 being  real number;
assume L2: (( 0 ) < R6 & R7 <= R8);
L3: ( R7 + ( 0 ) ) < ( R8 + R6 ) by L2 , XREAL_1:8;
thus L4: thesis by L3 , XREAL_1:19;
end;
theorem
L5: (for B1 being FinSequence holds (not ( 0 ) in ( dom B1 )))
proof
let C1 being FinSequence;
assume L6: ( 0 ) in ( dom C1 );
L7: ( 0 ) in ( Seg ( len C1 ) ) by L6 , FINSEQ_1:def 3;
thus L8: contradiction by L7 , FINSEQ_1:1;
end;
theorem
L9: (for R1 being Nat holds (for B2 being FinSequence holds (R1 in ( dom B2 ) iff (R1 <> ( 0 ) & R1 <= ( len B2 )))))
proof
let R1 being Nat;
let C2 being FinSequence;
L10: (R1 in ( dom C2 ) iff (R1 >= 1 & R1 <= ( len C2 ))) by FINSEQ_3:25;
thus L11: thesis by L10 , NAT_1:14;
end;
theorem
L12: (for R5 being  real number holds (for B3 being Real_Sequence holds ((ex R3 being Nat st (for R1 being Nat holds (R3 <= R1 implies ( B3 . R1 ) = R5))) implies (B3 is  convergent & ( lim B3 ) = R5))))
proof
let R5 being  real number;
let C3 being Real_Sequence;
given R3 being Nat such that
L13: (for R1 being Nat holds (R3 <= R1 implies ( C3 . R1 ) = R5));

L14:
now
reconsider D1 = R3 as (Element of ( NAT )) by ORDINAL1:def 12;
let R8 being  real number;
assume that
L15: ( 0 ) < R8;
take D2 = D1;
thus L16: (for B4 being (Element of ( NAT )) holds (D2 <= B4 implies ( abs ( ( C3 . B4 ) - R5 ) ) < R8))
proof
let C4 being (Element of ( NAT ));
assume L17: D2 <= C4;
L18: ( C3 . C4 ) = R5 by L17 , L13;
thus L19: thesis by L18 , L15 , ABSVALUE:2;
end;

end;
thus L17: C3 is  convergent by L14 , SEQ_2:def 6;
thus L18: thesis by L17 , L14 , SEQ_2:def 7;
end;
theorem
L19: (for R1 being Nat holds (for R21 being non  empty set holds (for R22 being (SigmaField of R21) holds (for R23 being (SetSequence of R22) holds (for R25 being (Probability of R22) holds ( ( R25 * R23 ) . R1 ) >= ( 0 ))))))
proof
let R1 being Nat;
let R21 being non  empty set;
let R22 being (SigmaField of R21);
let R23 being (SetSequence of R22);
let R25 being (Probability of R22);
L20: R1 in ( NAT ) by ORDINAL1:def 12;
L21: ( R23 . R1 ) is (Event of R22) by L20 , PROB_1:25;
L22: ( dom ( R25 * R23 ) ) = ( NAT ) by SEQ_1:1;
L23: ( ( R25 * R23 ) . R1 ) = ( R25 . ( R23 . R1 ) ) by L22 , L20 , FUNCT_1:12;
thus L24: thesis by L23 , L21 , PROB_1:def 8;
end;
theorem
L25: (for R1 being Nat holds (for R21 being non  empty set holds (for R22 being (SigmaField of R21) holds (for R23 being (SetSequence of R22) holds (for R24 being (SetSequence of R22) holds (for R25 being (Probability of R22) holds (( R23 . R1 ) c= ( R24 . R1 ) implies ( ( R25 * R23 ) . R1 ) <= ( ( R25 * R24 ) . R1 ))))))))
proof
let R1 being Nat;
let R21 being non  empty set;
let R22 being (SigmaField of R21);
let R23 being (SetSequence of R22);
let R24 being (SetSequence of R22);
let R25 being (Probability of R22);
L26: R1 in ( NAT ) by ORDINAL1:def 12;
L27: (( R23 . R1 ) in ( rng R23 ) & ( R24 . R1 ) in ( rng R24 )) by NAT_1:51;
assume L28: ( R23 . R1 ) c= ( R24 . R1 );
L29: ( R25 . ( R23 . R1 ) ) <= ( R25 . ( R24 . R1 ) ) by L28 , L27 , PROB_1:34;
L30: ( ( R25 * R23 ) . R1 ) <= ( R25 . ( R24 . R1 ) ) by L29 , L26 , FUNCT_2:15;
thus L31: thesis by L30 , L26 , FUNCT_2:15;
end;
theorem
L32: (for R21 being non  empty set holds (for R22 being (SigmaField of R21) holds (for R23 being (SetSequence of R22) holds (for R25 being (Probability of R22) holds (R23 is  non-descending implies ( R25 * R23 ) is  non-decreasing)))))
proof
let R21 being non  empty set;
let R22 being (SigmaField of R21);
let R23 being (SetSequence of R22);
let R25 being (Probability of R22);
L33: ( dom ( R25 * R23 ) ) = ( NAT ) by SEQ_1:1;
assume L34: R23 is  non-descending;
L35:
now
let C5 , C6 being (Element of ( NAT ));
assume L36: C5 <= C6;
L37: ( R23 . C5 ) c= ( R23 . C6 ) by L36 , L34 , PROB_1:def 5;
L38: (( ( R25 * R23 ) . C5 ) = ( R25 . ( R23 . C5 ) ) & ( ( R25 * R23 ) . C6 ) = ( R25 . ( R23 . C6 ) )) by L33 , FUNCT_1:12;
thus L39: ( ( R25 * R23 ) . C5 ) <= ( ( R25 * R23 ) . C6 ) by L38 , L37 , PROB_1:34;
end;
thus L40: thesis by L35 , SEQM_3:6;
end;
theorem
L41: (for R21 being non  empty set holds (for R22 being (SigmaField of R21) holds (for R23 being (SetSequence of R22) holds (for R25 being (Probability of R22) holds (R23 is  non-ascending implies ( R25 * R23 ) is  non-increasing)))))
proof
let R21 being non  empty set;
let R22 being (SigmaField of R21);
let R23 being (SetSequence of R22);
let R25 being (Probability of R22);
L42: ( dom ( R25 * R23 ) ) = ( NAT ) by SEQ_1:1;
assume L43: R23 is  non-ascending;
L44:
now
let C7 , C8 being (Element of ( NAT ));
assume L45: C7 <= C8;
L46: ( R23 . C8 ) c= ( R23 . C7 ) by L45 , L43 , PROB_1:def 4;
L47: (( ( R25 * R23 ) . C7 ) = ( R25 . ( R23 . C7 ) ) & ( ( R25 * R23 ) . C8 ) = ( R25 . ( R23 . C8 ) )) by L42 , FUNCT_1:12;
thus L48: ( ( R25 * R23 ) . C8 ) <= ( ( R25 * R23 ) . C7 ) by L47 , L46 , PROB_1:34;
end;
thus L49: thesis by L44 , SEQM_3:8;
end;
definition
let C9 being set;
let C10 being (SetSequence of C9);
func Partial_Intersection C10 -> (SetSequence of C9) means 
:L50: (( it . ( 0 ) ) = ( C10 . ( 0 ) ) & (for B5 being Nat holds ( it . ( B5 + 1 ) ) = ( ( it . B5 ) /\ ( C10 . ( B5 + 1 ) ) )));
existence
proof
defpred S1[ set , set , set ] means (for B6 , B7 being (Subset of C9) holds (for B8 being Nat holds ((B8 = $1 & B6 = $2 & B7 = $3) implies B7 = ( B6 /\ ( C10 . ( B8 + 1 ) ) ))));
L51: (for B9 being (Element of ( NAT )) holds (for B10 being (Subset of C9) holds (ex B11 being (Subset of C9) st S1[ B9 , B10 , B11 ])))
proof
let C11 being (Element of ( NAT ));
let C12 being (Subset of C9);
take ( C12 /\ ( C10 . ( C11 + 1 ) ) );
thus L52: thesis;
end;
consider C13 being (SetSequence of C9) such that L53: ( C13 . ( 0 ) ) = ( C10 . ( 0 ) ) and L54: (for B12 being (Element of ( NAT )) holds S1[ B12 , ( C13 . B12 ) , ( C13 . ( B12 + 1 ) ) ]) from RECDEF_1:sch 2(L51);
take C13;
thus L55: ( C13 . ( 0 ) ) = ( C10 . ( 0 ) ) by L53;
let C14 being Nat;
reconsider D3 = C14 as (Element of ( NAT )) by ORDINAL1:def 12;
L56: S1[ D3 , ( C13 . D3 ) , ( C13 . ( D3 + 1 ) ) ] by L54;
thus L57: thesis by L56;
end;
uniqueness
proof
let C15 , C16 being (SetSequence of C9);
assume that
L58: ( C15 . ( 0 ) ) = ( C10 . ( 0 ) )
and
L59: (for B13 being Nat holds ( C15 . ( B13 + 1 ) ) = ( ( C15 . B13 ) /\ ( C10 . ( B13 + 1 ) ) ))
and
L60: ( C16 . ( 0 ) ) = ( C10 . ( 0 ) )
and
L61: (for B14 being Nat holds ( C16 . ( B14 + 1 ) ) = ( ( C16 . B14 ) /\ ( C10 . ( B14 + 1 ) ) ));
defpred S2[ set ] means ( C15 . $1 ) = ( C16 . $1 );
L62: (for B15 being set holds (B15 in ( NAT ) implies S2[ B15 ]))
proof
let C17 being set;
assume L63: C17 in ( NAT );
reconsider D4 = C17 as (Element of ( NAT )) by L63;
L64: (for R3 being Nat holds (S2[ R3 ] implies S2[ ( R3 + 1 ) ]))
proof
let R3 being Nat;
assume L65: ( C15 . R3 ) = ( C16 . R3 );
thus L66: ( C15 . ( R3 + 1 ) ) = ( ( C16 . R3 ) /\ ( C10 . ( R3 + 1 ) ) ) by L65 , L59
.= ( C16 . ( R3 + 1 ) ) by L61;
end;
L67: S2[ ( 0 ) ] by L58 , L60;
L68: (for B16 being Nat holds S2[ B16 ]) from NAT_1:sch 2(L67 , L64);
L69: ( C15 . D4 ) = ( C16 . D4 ) by L68;
thus L70: thesis by L69;
end;
thus L71: thesis by L62 , FUNCT_2:12;
end;
end;
definition
let C18 being set;
let C19 being (SetSequence of C18);
func Partial_Union C19 -> (SetSequence of C18) means 
:L73: (( it . ( 0 ) ) = ( C19 . ( 0 ) ) & (for B17 being Nat holds ( it . ( B17 + 1 ) ) = ( ( it . B17 ) \/ ( C19 . ( B17 + 1 ) ) )));
existence
proof
defpred S3[ set , set , set ] means (for B18 , B19 being (Subset of C18) holds (for B20 being Nat holds ((B20 = $1 & B18 = $2 & B19 = $3) implies B19 = ( B18 \/ ( C19 . ( B20 + 1 ) ) ))));
L74: (for B21 being (Element of ( NAT )) holds (for B22 being (Subset of C18) holds (ex B23 being (Subset of C18) st S3[ B21 , B22 , B23 ])))
proof
let C20 being (Element of ( NAT ));
let C21 being (Subset of C18);
take ( C21 \/ ( C19 . ( C20 + 1 ) ) );
thus L75: thesis;
end;
consider C22 being (SetSequence of C18) such that L76: ( C22 . ( 0 ) ) = ( C19 . ( 0 ) ) and L77: (for B24 being (Element of ( NAT )) holds S3[ B24 , ( C22 . B24 ) , ( C22 . ( B24 + 1 ) ) ]) from RECDEF_1:sch 2(L74);
take C22;
thus L78: ( C22 . ( 0 ) ) = ( C19 . ( 0 ) ) by L76;
let C23 being Nat;
reconsider D5 = C23 as (Element of ( NAT )) by ORDINAL1:def 12;
L79: S3[ D5 , ( C22 . D5 ) , ( C22 . ( D5 + 1 ) ) ] by L77;
thus L80: thesis by L79;
end;
uniqueness
proof
let C24 , C25 being (SetSequence of C18);
assume that
L81: ( C24 . ( 0 ) ) = ( C19 . ( 0 ) )
and
L82: (for B25 being Nat holds ( C24 . ( B25 + 1 ) ) = ( ( C24 . B25 ) \/ ( C19 . ( B25 + 1 ) ) ))
and
L83: ( C25 . ( 0 ) ) = ( C19 . ( 0 ) )
and
L84: (for B26 being Nat holds ( C25 . ( B26 + 1 ) ) = ( ( C25 . B26 ) \/ ( C19 . ( B26 + 1 ) ) ));
defpred S4[ set ] means ( C24 . $1 ) = ( C25 . $1 );
L85: (for B27 being set holds (B27 in ( NAT ) implies S4[ B27 ]))
proof
let C26 being set;
assume L86: C26 in ( NAT );
reconsider D6 = C26 as (Element of ( NAT )) by L86;
L87: (for R3 being Nat holds (S4[ R3 ] implies S4[ ( R3 + 1 ) ]))
proof
let R3 being Nat;
assume L88: ( C24 . R3 ) = ( C25 . R3 );
thus L89: ( C24 . ( R3 + 1 ) ) = ( ( C25 . R3 ) \/ ( C19 . ( R3 + 1 ) ) ) by L88 , L82
.= ( C25 . ( R3 + 1 ) ) by L84;
end;
L90: S4[ ( 0 ) ] by L81 , L83;
L91: (for B28 being Nat holds S4[ B28 ]) from NAT_1:sch 2(L90 , L87);
L92: ( C24 . D6 ) = ( C25 . D6 ) by L91;
thus L93: thesis by L92;
end;
thus L94: thesis by L85 , FUNCT_2:12;
end;
end;
theorem
L96: (for R1 being Nat holds (for R12 being set holds (for R15 being (SetSequence of R12) holds ( ( Partial_Intersection R15 ) . R1 ) c= ( R15 . R1 ))))
proof
let R1 being Nat;
let R12 being set;
let R15 being (SetSequence of R12);
per cases  by NAT_1:6;
suppose L97: R1 = ( 0 );

thus L98: thesis by L97 , L50;
end;
suppose L99: (ex B29 being Nat st R1 = ( B29 + 1 ));

consider R3 being Nat such that L100: R1 = ( R3 + 1 ) by L99;
L101: ( ( Partial_Intersection R15 ) . ( R3 + 1 ) ) = ( ( ( Partial_Intersection R15 ) . R3 ) /\ ( R15 . ( R3 + 1 ) ) ) by L50;
thus L102: thesis by L101 , L100 , XBOOLE_1:17;
end;
end;
theorem
L104: (for R1 being Nat holds (for R12 being set holds (for R15 being (SetSequence of R12) holds ( R15 . R1 ) c= ( ( Partial_Union R15 ) . R1 ))))
proof
let R1 being Nat;
let R12 being set;
let R15 being (SetSequence of R12);
per cases  by NAT_1:6;
suppose L105: R1 = ( 0 );

thus L106: thesis by L105 , L73;
end;
suppose L107: (ex B30 being Nat st R1 = ( B30 + 1 ));

consider R3 being Nat such that L108: R1 = ( R3 + 1 ) by L107;
L109: ( ( Partial_Union R15 ) . ( R3 + 1 ) ) = ( ( ( Partial_Union R15 ) . R3 ) \/ ( R15 . ( R3 + 1 ) ) ) by L73;
thus L110: thesis by L109 , L108 , XBOOLE_1:7;
end;
end;
theorem
L112: (for R12 being set holds (for R15 being (SetSequence of R12) holds ( Partial_Intersection R15 ) is  non-ascending))
proof
let R12 being set;
let R15 being (SetSequence of R12);
L113:
now
let C27 being (Element of ( NAT ));
L114: ( ( Partial_Intersection R15 ) . ( C27 + 1 ) ) = ( ( ( Partial_Intersection R15 ) . C27 ) /\ ( R15 . ( C27 + 1 ) ) ) by L50;
thus L115: ( ( Partial_Intersection R15 ) . ( C27 + 1 ) ) c= ( ( Partial_Intersection R15 ) . C27 ) by L114 , XBOOLE_1:17;
end;
thus L116: thesis by L113 , PROB_2:6;
end;
theorem
L117: (for R12 being set holds (for R15 being (SetSequence of R12) holds ( Partial_Union R15 ) is  non-descending))
proof
let R12 being set;
let R15 being (SetSequence of R12);
L118:
now
let C28 being (Element of ( NAT ));
L119: ( ( Partial_Union R15 ) . ( C28 + 1 ) ) = ( ( ( Partial_Union R15 ) . C28 ) \/ ( R15 . ( C28 + 1 ) ) ) by L73;
thus L120: ( ( Partial_Union R15 ) . C28 ) c= ( ( Partial_Union R15 ) . ( C28 + 1 ) ) by L119 , XBOOLE_1:7;
end;
thus L121: thesis by L118 , PROB_2:7;
end;
theorem
L122: (for R1 being Nat holds (for R9 being set holds (for R12 being set holds (for R15 being (SetSequence of R12) holds (R9 in ( ( Partial_Intersection R15 ) . R1 ) iff (for R3 being Nat holds (R3 <= R1 implies R9 in ( R15 . R3 ))))))))
proof
let R1 being Nat;
let R9 being set;
let R12 being set;
let R15 being (SetSequence of R12);
defpred S5[ Nat ] means ((for R3 being Nat holds (R3 <= $1 implies R9 in ( R15 . R3 ))) implies R9 in ( ( Partial_Intersection R15 ) . $1 ));
L123: (for R4 being Nat holds (S5[ R4 ] implies S5[ ( R4 + 1 ) ]))
proof
let R4 being Nat;
assume that
L124: ((for R3 being Nat holds (R3 <= R4 implies R9 in ( R15 . R3 ))) implies R9 in ( ( Partial_Intersection R15 ) . R4 ));
assume L125: (for R3 being Nat holds (R3 <= ( R4 + 1 ) implies R9 in ( R15 . R3 )));
L126: ((for R3 being Nat holds (R3 <= R4 implies R9 in ( R15 . R3 ))) & R9 in ( R15 . ( R4 + 1 ) )) by L125 , NAT_1:12;
L127: ( ( Partial_Intersection R15 ) . ( R4 + 1 ) ) = ( ( ( Partial_Intersection R15 ) . R4 ) /\ ( R15 . ( R4 + 1 ) ) ) by L50;
thus L128: thesis by L127 , L124 , L126 , XBOOLE_0:def 4;
end;
thus L129: (R9 in ( ( Partial_Intersection R15 ) . R1 ) implies (for R3 being Nat holds (R3 <= R1 implies R9 in ( R15 . R3 ))))
proof
assume L130: R9 in ( ( Partial_Intersection R15 ) . R1 );
L131: (for R3 being Nat holds (R3 <= R1 implies R9 in ( R15 . R3 )))
proof
L132: ( Partial_Intersection R15 ) is  non-ascending by L112;
let R3 being Nat;
assume that
L133: R3 <= R1;
L134: ( ( Partial_Intersection R15 ) . R3 ) c= ( R15 . R3 ) by L96;
L135: (R1 in ( NAT ) & R3 in ( NAT )) by ORDINAL1:def 12;
L136: ( ( Partial_Intersection R15 ) . R1 ) c= ( ( Partial_Intersection R15 ) . R3 ) by L135 , L133 , L132 , PROB_1:def 4;
L137: ( ( Partial_Intersection R15 ) . R1 ) c= ( R15 . R3 ) by L136 , L134 , XBOOLE_1:1;
thus L138: thesis by L137 , L130;
end;
thus L139: thesis by L131;
end;

L140: S5[ ( 0 ) ]
proof
assume L141: (for R3 being Nat holds (R3 <= ( 0 ) implies R9 in ( R15 . R3 )));
L142: R9 in ( R15 . ( 0 ) ) by L141;
thus L143: thesis by L142 , L50;
end;
L144: (for R1 being Nat holds S5[ R1 ]) from NAT_1:sch 2(L140 , L123);
thus L145: thesis by L144;
end;
theorem
L146: (for R1 being Nat holds (for R9 being set holds (for R12 being set holds (for R15 being (SetSequence of R12) holds (R9 in ( ( Partial_Union R15 ) . R1 ) iff (ex R3 being Nat st (R3 <= R1 & R9 in ( R15 . R3 ))))))))
proof
let R1 being Nat;
let R9 being set;
let R12 being set;
let R15 being (SetSequence of R12);
defpred S6[ Nat ] means (R9 in ( ( Partial_Union R15 ) . $1 ) implies (ex R3 being Nat st (R3 <= $1 & R9 in ( R15 . R3 ))));
L147: (for R4 being Nat holds (S6[ R4 ] implies S6[ ( R4 + 1 ) ]))
proof
let R4 being Nat;
assume that
L148: (R9 in ( ( Partial_Union R15 ) . R4 ) implies (ex R3 being Nat st (R3 <= R4 & R9 in ( R15 . R3 ))));
assume L149: R9 in ( ( Partial_Union R15 ) . ( R4 + 1 ) );
L150: ( ( Partial_Union R15 ) . ( R4 + 1 ) ) = ( ( ( Partial_Union R15 ) . R4 ) \/ ( R15 . ( R4 + 1 ) ) ) by L73;
L151:
now
per cases  by L149 , L150 , XBOOLE_0:def 3;
case L152: R9 in ( ( Partial_Union R15 ) . R4 );
consider R3 being Nat such that L153: (R3 <= R4 & R9 in ( R15 . R3 )) by L152 , L148;
take D7 = R3;
thus L154: thesis by L153 , NAT_1:12;
end;
case L155: R9 in ( R15 . ( R4 + 1 ) );
thus L156: thesis by L155;
end;
end;
thus L158: thesis by L151;
end;
L159: S6[ ( 0 ) ]
proof
assume L160: R9 in ( ( Partial_Union R15 ) . ( 0 ) );
take ( 0 );
thus L161: thesis by L160 , L73;
end;
L162: (for R1 being Nat holds S6[ R1 ]) from NAT_1:sch 2(L159 , L147);
thus L163: (R9 in ( ( Partial_Union R15 ) . R1 ) implies (ex R3 being Nat st (R3 <= R1 & R9 in ( R15 . R3 )))) by L162;
given R4 being Nat such that
L164: R4 <= R1
and
L165: R9 in ( R15 . R4 );

L166: ( R15 . R4 ) c= ( ( Partial_Union R15 ) . R4 ) by L104;
L167: R9 in ( ( Partial_Union R15 ) . R4 ) by L166 , L165;
L168: ( Partial_Union R15 ) is  non-descending by L117;
L169: (R1 in ( NAT ) & R4 in ( NAT )) by ORDINAL1:def 12;
L170: ( ( Partial_Union R15 ) . R4 ) c= ( ( Partial_Union R15 ) . R1 ) by L169 , L164 , L168 , PROB_1:def 5;
thus L171: thesis by L170 , L167;
end;
theorem
L172: (for R12 being set holds (for R15 being (SetSequence of R12) holds ( Intersection ( Partial_Intersection R15 ) ) = ( Intersection R15 )))
proof
let R12 being set;
let R15 being (SetSequence of R12);
thus L173: ( Intersection ( Partial_Intersection R15 ) ) c= ( Intersection R15 )
proof
let R9 being set;
assume L174: R9 in ( Intersection ( Partial_Intersection R15 ) );
L175: (for B31 being (Element of ( NAT )) holds R9 in ( R15 . B31 ))
proof
let C29 being (Element of ( NAT ));
L176: R9 in ( ( Partial_Intersection R15 ) . C29 ) by L174 , PROB_1:13;
thus L177: thesis by L176 , L122;
end;
thus L178: thesis by L175 , PROB_1:13;
end;

let R9 being set;
assume L179: R9 in ( Intersection R15 );
L180: (for B32 being (Element of ( NAT )) holds R9 in ( ( Partial_Intersection R15 ) . B32 ))
proof
let C30 being (Element of ( NAT ));
L181: (for R3 being Nat holds (R3 <= C30 implies R9 in ( R15 . R3 )))
proof
let R3 being Nat;
L182: R3 in ( NAT ) by ORDINAL1:def 12;
thus L183: thesis by L182 , L179 , PROB_1:13;
end;
thus L184: thesis by L181 , L122;
end;
thus L185: thesis by L180 , PROB_1:13;
end;
theorem
L186: (for R12 being set holds (for R15 being (SetSequence of R12) holds ( Union ( Partial_Union R15 ) ) = ( Union R15 )))
proof
let R12 being set;
let R15 being (SetSequence of R12);
thus L187: ( Union ( Partial_Union R15 ) ) c= ( Union R15 )
proof
let C31 being set;
assume L188: C31 in ( Union ( Partial_Union R15 ) );
consider C32 being (Element of ( NAT )) such that L189: C31 in ( ( Partial_Union R15 ) . C32 ) by L188 , PROB_1:12;
consider R3 being Nat such that L190: R3 <= C32 and L191: C31 in ( R15 . R3 ) by L189 , L146;
L192: R3 in ( NAT ) by ORDINAL1:def 12;
thus L193: thesis by L192 , L191 , PROB_1:12;
end;

let C33 being set;
assume L194: C33 in ( Union R15 );
consider C34 being (Element of ( NAT )) such that L195: C33 in ( R15 . C34 ) by L194 , PROB_1:12;
L196: C33 in ( ( Partial_Union R15 ) . C34 ) by L195 , L146;
thus L197: thesis by L196 , PROB_1:12;
end;
definition
let C35 being set;
let C36 being (SetSequence of C35);
func Partial_Diff_Union C36 -> (SetSequence of C35) means 
:L198: (( it . ( 0 ) ) = ( C36 . ( 0 ) ) & (for B33 being Nat holds ( it . ( B33 + 1 ) ) = ( ( C36 . ( B33 + 1 ) ) \ ( ( Partial_Union C36 ) . B33 ) )));
existence
proof
defpred S7[ set , set , set ] means (for B34 , B35 being (Subset of C35) holds (for B36 being Nat holds ((B36 = $1 & B34 = $2 & B35 = $3) implies B35 = ( ( C36 . ( B36 + 1 ) ) \ ( ( Partial_Union C36 ) . B36 ) ))));
set D8 = ( C36 . ( 0 ) );
L199: (for B37 being (Element of ( NAT )) holds (for B38 being (Subset of C35) holds (ex B39 being (Subset of C35) st S7[ B37 , B38 , B39 ])))
proof
let C37 being (Element of ( NAT ));
let C38 being (Subset of C35);
take ( ( C36 . ( C37 + 1 ) ) \ ( ( Partial_Union C36 ) . C37 ) );
thus L200: thesis;
end;
consider C39 being (SetSequence of C35) such that L201: (( C39 . ( 0 ) ) = D8 & (for B40 being (Element of ( NAT )) holds S7[ B40 , ( C39 . B40 ) , ( C39 . ( B40 + 1 ) ) ])) from RECDEF_1:sch 2(L199);
L202: (for R1 being Nat holds ( C39 . ( R1 + 1 ) ) = ( ( C36 . ( R1 + 1 ) ) \ ( ( Partial_Union C36 ) . R1 ) ))
proof
let R1 being Nat;
reconsider D9 = R1 as (Element of ( NAT )) by ORDINAL1:def 12;
L203: (for B41 , B42 being (Subset of C35) holds (for B43 being Nat holds ((B43 = D9 & B41 = ( C39 . D9 ) & B42 = ( C39 . ( D9 + 1 ) )) implies B42 = ( ( C36 . ( B43 + 1 ) ) \ ( ( Partial_Union C36 ) . B43 ) )))) by L201;
thus L204: thesis by L203;
end;
thus L205: thesis by L202 , L201;
end;
uniqueness
proof
let C40 , C41 being (SetSequence of C35);
assume that
L206: ( C40 . ( 0 ) ) = ( C36 . ( 0 ) )
and
L207: (for B44 being Nat holds ( C40 . ( B44 + 1 ) ) = ( ( C36 . ( B44 + 1 ) ) \ ( ( Partial_Union C36 ) . B44 ) ))
and
L208: ( C41 . ( 0 ) ) = ( C36 . ( 0 ) )
and
L209: (for B45 being Nat holds ( C41 . ( B45 + 1 ) ) = ( ( C36 . ( B45 + 1 ) ) \ ( ( Partial_Union C36 ) . B45 ) ));
defpred S8[ set ] means ( C40 . $1 ) = ( C41 . $1 );
L210: (for B46 being set holds (B46 in ( NAT ) implies S8[ B46 ]))
proof
let C42 being set;
assume L211: C42 in ( NAT );
reconsider D10 = C42 as (Element of ( NAT )) by L211;
L212: (for R3 being Nat holds (S8[ R3 ] implies S8[ ( R3 + 1 ) ]))
proof
let R3 being Nat;
assume L213: ( C40 . R3 ) = ( C41 . R3 );
thus L214: ( C40 . ( R3 + 1 ) ) = ( ( C36 . ( R3 + 1 ) ) \ ( ( Partial_Union C36 ) . R3 ) ) by L207
.= ( C41 . ( R3 + 1 ) ) by L209;
end;
L215: S8[ ( 0 ) ] by L206 , L208;
L216: (for B47 being Nat holds S8[ B47 ]) from NAT_1:sch 2(L215 , L212);
L217: ( C40 . D10 ) = ( C41 . D10 ) by L216;
thus L218: thesis by L217;
end;
thus L219: thesis by L210 , FUNCT_2:12;
end;
end;
theorem
L221: (for R1 being Nat holds (for R9 being set holds (for R12 being set holds (for R15 being (SetSequence of R12) holds (R9 in ( ( Partial_Diff_Union R15 ) . R1 ) iff (R9 in ( R15 . R1 ) & (for R3 being Nat holds (R3 < R1 implies (not R9 in ( R15 . R3 ))))))))))
proof
let R1 being Nat;
let R9 being set;
let R12 being set;
let R15 being (SetSequence of R12);
thus L222: (R9 in ( ( Partial_Diff_Union R15 ) . R1 ) implies (R9 in ( R15 . R1 ) & (for R3 being Nat holds (R3 < R1 implies (not R9 in ( R15 . R3 ))))))
proof
assume L223: R9 in ( ( Partial_Diff_Union R15 ) . R1 );
L224:
now
per cases  by NAT_1:6;
case L225: R1 = ( 0 );
thus L226: thesis by L225 , L223 , L198 , NAT_1:2;
end;
case L227: (ex B48 being Nat st R1 = ( B48 + 1 ));
consider C43 being Nat such that L228: R1 = ( C43 + 1 ) by L227;
L229: R9 in ( ( R15 . ( C43 + 1 ) ) \ ( ( Partial_Union R15 ) . C43 ) ) by L223 , L228 , L198;
L230: (not R9 in ( ( Partial_Union R15 ) . C43 )) by L229 , XBOOLE_0:def 5;
L231: (for R3 being Nat holds (R3 < R1 implies (not R9 in ( R15 . R3 ))))
proof
let R3 being Nat;
assume L232: R3 < R1;
L233: R3 <= C43 by L232 , L228 , NAT_1:13;
thus L234: thesis by L233 , L230 , L146;
end;
thus L235: thesis by L231 , L228 , L229 , XBOOLE_0:def 5;
end;
end;
thus L237: thesis by L224;
end;

assume that
L238: R9 in ( R15 . R1 )
and
L239: (for R3 being Nat holds (R3 < R1 implies (not R9 in ( R15 . R3 ))));
L240:
now
per cases  by NAT_1:6;
case L241: R1 = ( 0 );
thus L242: thesis by L241 , L238 , L198;
end;
case L243: (ex B49 being Nat st R1 = ( B49 + 1 ));
consider C44 being Nat such that L244: R1 = ( C44 + 1 ) by L243;
L245: (for R3 being Nat holds (R3 <= C44 implies (not R9 in ( R15 . R3 ))))
proof
let R3 being Nat;
assume L246: R3 <= C44;
L247: R3 < ( C44 + 1 ) by L246 , NAT_1:13;
thus L248: thesis by L247 , L239 , L244;
end;
L249: (not R9 in ( ( Partial_Union R15 ) . C44 )) by L245 , L146;
L250: R9 in ( ( R15 . ( C44 + 1 ) ) \ ( ( Partial_Union R15 ) . C44 ) ) by L249 , L238 , L244 , XBOOLE_0:def 5;
thus L251: thesis by L250 , L244 , L198;
end;
end;
thus L253: thesis by L240;
end;
theorem
L254: (for R1 being Nat holds (for R12 being set holds (for R15 being (SetSequence of R12) holds ( ( Partial_Diff_Union R15 ) . R1 ) c= ( R15 . R1 ))))
proof
let R1 being Nat;
let R12 being set;
let R15 being (SetSequence of R12);
L255: (for R9 being set holds (R9 in ( ( Partial_Diff_Union R15 ) . R1 ) implies R9 in ( R15 . R1 ))) by L221;
thus L256: thesis by L255 , TARSKI:def 3;
end;
theorem
L257: (for R1 being Nat holds (for R12 being set holds (for R15 being (SetSequence of R12) holds ( ( Partial_Diff_Union R15 ) . R1 ) c= ( ( Partial_Union R15 ) . R1 ))))
proof
let R1 being Nat;
let R12 being set;
let R15 being (SetSequence of R12);
L258: (( ( Partial_Diff_Union R15 ) . R1 ) c= ( R15 . R1 ) & ( R15 . R1 ) c= ( ( Partial_Union R15 ) . R1 )) by L104 , L254;
thus L259: thesis by L258 , XBOOLE_1:1;
end;
theorem
L260: (for R12 being set holds (for R15 being (SetSequence of R12) holds ( Partial_Union ( Partial_Diff_Union R15 ) ) = ( Partial_Union R15 )))
proof
let R12 being set;
let R15 being (SetSequence of R12);
L261: (for B50 being (Element of ( NAT )) holds ( ( Partial_Union ( Partial_Diff_Union R15 ) ) . B50 ) = ( ( Partial_Union R15 ) . B50 ))
proof
set D11 = ( Partial_Diff_Union R15 );
defpred S9[ set ] means ( ( Partial_Union D11 ) . $1 ) = ( ( Partial_Union R15 ) . $1 );
L262: (for B51 being (Element of ( NAT )) holds (S9[ B51 ] implies S9[ ( B51 + 1 ) ]))
proof
let C45 being (Element of ( NAT ));
assume that
L263: ( ( Partial_Union D11 ) . C45 ) = ( ( Partial_Union R15 ) . C45 );
thus L264: ( ( Partial_Union D11 ) . ( C45 + 1 ) ) = ( ( D11 . ( C45 + 1 ) ) \/ ( ( Partial_Union D11 ) . C45 ) ) by L73
.= ( ( ( R15 . ( C45 + 1 ) ) \ ( ( Partial_Union R15 ) . C45 ) ) \/ ( ( Partial_Union R15 ) . C45 ) ) by L263 , L198
.= ( ( R15 . ( C45 + 1 ) ) \/ ( ( Partial_Union R15 ) . C45 ) ) by XBOOLE_1:39
.= ( ( Partial_Union R15 ) . ( C45 + 1 ) ) by L73;
end;
L265: ( ( Partial_Union ( Partial_Diff_Union R15 ) ) . ( 0 ) ) = ( D11 . ( 0 ) ) by L73
.= ( R15 . ( 0 ) ) by L198
.= ( ( Partial_Union R15 ) . ( 0 ) ) by L73;
L266: S9[ ( 0 ) ] by L265;
thus L267: (for B52 being (Element of ( NAT )) holds S9[ B52 ]) from NAT_1:sch 1(L266 , L262);
end;
thus L268: thesis by L261 , FUNCT_2:63;
end;
theorem
L269: (for R12 being set holds (for R15 being (SetSequence of R12) holds ( Union ( Partial_Diff_Union R15 ) ) = ( Union R15 )))
proof
let R12 being set;
let R15 being (SetSequence of R12);
thus L270: ( Union ( Partial_Diff_Union R15 ) ) = ( Union ( Partial_Union ( Partial_Diff_Union R15 ) ) ) by L186
.= ( Union ( Partial_Union R15 ) ) by L260
.= ( Union R15 ) by L186;
end;
definition
let R12 being set;
let R15 being (SetSequence of R12);
redefine attr R15 is  disjoint_valued
means
:L271: (for R2 being Nat holds (for R1 being Nat holds (R2 <> R1 implies ( R15 . R2 ) misses ( R15 . R1 ))));
compatibility
proof
thus L272: (R15 is  disjoint_valued implies (for R2 being Nat holds (for R1 being Nat holds (R2 <> R1 implies ( R15 . R2 ) misses ( R15 . R1 ))))) by PROB_2:def 2;
assume L273: (for R2 being Nat holds (for R1 being Nat holds (R2 <> R1 implies ( R15 . R2 ) misses ( R15 . R1 ))));
L274:
now
let R9 being set;
let R10 being set;
assume L275: R9 <> R10;
per cases ;
suppose L276: (R9 in ( dom R15 ) & R10 in ( dom R15 ));

thus L277: ( R15 . R9 ) misses ( R15 . R10 ) by L276 , L273 , L275;
end;
suppose L278: (not (R9 in ( dom R15 ) & R10 in ( dom R15 )));

L279: (( R15 . R9 ) = ( {} ) or ( R15 . R10 ) = ( {} )) by L278 , FUNCT_1:def 2;
thus L280: ( R15 . R9 ) misses ( R15 . R10 ) by L279 , XBOOLE_1:65;
end;
end;
thus L282: thesis by L274 , PROB_2:def 2;
end;
end;
registration
let R12 being set;
let R15 being (SetSequence of R12);
cluster ( Partial_Diff_Union R15 ) ->  disjoint_valued;
coherence
proof
L284: (for R2 being Nat holds (for R1 being Nat holds (R2 <> R1 implies ( ( Partial_Diff_Union R15 ) . R1 ) misses ( ( Partial_Diff_Union R15 ) . R2 ))))
proof
let R2 being Nat;
let R1 being Nat;
assume that
L285: R2 <> R1;
assume L286: ( ( Partial_Diff_Union R15 ) . R1 ) meets ( ( Partial_Diff_Union R15 ) . R2 );
consider C46 being set such that L287: C46 in ( ( Partial_Diff_Union R15 ) . R1 ) and L288: C46 in ( ( Partial_Diff_Union R15 ) . R2 ) by L286 , XBOOLE_0:3;
per cases  by L285 , XXREAL_0:1;
suppose L289: R2 < R1;

L290: (not C46 in ( R15 . R2 )) by L289 , L287 , L221;
thus L291: contradiction by L290 , L288 , L221;
end;
suppose L292: R1 < R2;

L293: (not C46 in ( R15 . R1 )) by L292 , L288 , L221;
thus L294: contradiction by L293 , L287 , L221;
end;
end;
thus L296: thesis by L284 , L271;
end;
end;
registration
let C47 being set;
let C48 being (SigmaField of C47);
let C49 being (SetSequence of C48);
cluster ( Partial_Intersection C49 ) -> C48 -valued;
coherence
proof
defpred S10[ set ] means ( ( Partial_Intersection C49 ) . $1 ) in C48;
L298: (for B53 being Nat holds (S10[ B53 ] implies S10[ ( B53 + 1 ) ]))
proof
let C50 being Nat;
assume L299: ( ( Partial_Intersection C49 ) . C50 ) in C48;
L300: ( ( ( Partial_Intersection C49 ) . C50 ) /\ ( C49 . ( C50 + 1 ) ) ) is (Event of C48) by L299 , PROB_1:19;
L301: ( ( ( Partial_Intersection C49 ) . C50 ) /\ ( C49 . ( C50 + 1 ) ) ) in C48 by L300;
thus L302: thesis by L301 , L50;
end;
L303: (( C49 . ( 0 ) ) in ( rng C49 ) & ( ( Partial_Intersection C49 ) . ( 0 ) ) = ( C49 . ( 0 ) )) by L50 , NAT_1:51;
L304: S10[ ( 0 ) ] by L303;
L305: (for B54 being Nat holds S10[ B54 ]) from NAT_1:sch 2(L304 , L298);
L306: ( rng ( Partial_Intersection C49 ) ) c= C48 by L305 , NAT_1:52;
thus L307: thesis by L306 , RELAT_1:def 19;
end;
end;
registration
let C51 being set;
let C52 being (SigmaField of C51);
let C53 being (SetSequence of C52);
cluster ( Partial_Union C53 ) -> C52 -valued;
coherence
proof
defpred S11[ set ] means ( ( Partial_Union C53 ) . $1 ) in C52;
L309: (for B55 being Nat holds (S11[ B55 ] implies S11[ ( B55 + 1 ) ]))
proof
let C54 being Nat;
assume L310: ( ( Partial_Union C53 ) . C54 ) in C52;
L311: ( ( ( Partial_Union C53 ) . C54 ) \/ ( C53 . ( C54 + 1 ) ) ) is (Event of C52) by L310 , PROB_1:21;
L312: ( ( ( Partial_Union C53 ) . C54 ) \/ ( C53 . ( C54 + 1 ) ) ) in C52 by L311;
thus L313: thesis by L312 , L73;
end;
L314: (( C53 . ( 0 ) ) in ( rng C53 ) & ( ( Partial_Union C53 ) . ( 0 ) ) = ( C53 . ( 0 ) )) by L73 , NAT_1:51;
L315: S11[ ( 0 ) ] by L314;
L316: (for B56 being Nat holds S11[ B56 ]) from NAT_1:sch 2(L315 , L309);
L317: ( rng ( Partial_Union C53 ) ) c= C52 by L316 , NAT_1:52;
thus L318: thesis by L317 , RELAT_1:def 19;
end;
end;
registration
let C55 being set;
let C56 being (SigmaField of C55);
let C57 being (SetSequence of C56);
cluster ( Partial_Diff_Union C57 ) -> C56 -valued;
coherence
proof
L320: (( C57 . ( 0 ) ) in ( rng C57 ) & ( ( Partial_Diff_Union C57 ) . ( 0 ) ) = ( C57 . ( 0 ) )) by L198 , NAT_1:51;
L321: (for B57 being Nat holds ( ( Partial_Diff_Union C57 ) . B57 ) in C56)
proof
let C58 being Nat;
L322:
now
per cases  by NAT_1:6;
case L323: C58 = ( 0 );
thus L324: thesis by L323 , L320;
end;
case L325: (ex B58 being Nat st C58 = ( B58 + 1 ));
consider C59 being Nat such that L326: C58 = ( C59 + 1 ) by L325;
reconsider D12 = C59 as (Element of ( NAT )) by ORDINAL1:def 12;
L327: ( ( C57 . ( D12 + 1 ) ) \ ( ( Partial_Union C57 ) . D12 ) ) in C56;
thus L328: thesis by L327 , L326 , L198;
end;
end;
thus L330: thesis by L322;
end;
L331: ( rng ( Partial_Diff_Union C57 ) ) c= C56 by L321 , NAT_1:52;
thus L332: thesis by L331 , RELAT_1:def 19;
end;
end;
theorem
L334: (for R12 being set holds (for R18 being (SigmaField of R12) holds (for R19 being (SetSequence of R18) holds (for R20 being (SetSequence of R18) holds (R20 = ( Partial_Intersection R19 ) implies (( R20 . ( 0 ) ) = ( R19 . ( 0 ) ) & (for R1 being Nat holds ( R20 . ( R1 + 1 ) ) = ( ( R20 . R1 ) /\ ( R19 . ( R1 + 1 ) ) )))))))) by L50;
theorem
L335: (for R12 being set holds (for R18 being (SigmaField of R12) holds (for R19 being (SetSequence of R18) holds (for R20 being (SetSequence of R18) holds (R20 = ( Partial_Union R19 ) implies (( R20 . ( 0 ) ) = ( R19 . ( 0 ) ) & (for R1 being Nat holds ( R20 . ( R1 + 1 ) ) = ( ( R20 . R1 ) \/ ( R19 . ( R1 + 1 ) ) )))))))) by L73;
theorem
L336: (for R1 being Nat holds (for R12 being set holds (for R18 being (SigmaField of R12) holds (for R19 being (SetSequence of R18) holds ( ( Partial_Intersection R19 ) . R1 ) c= ( R19 . R1 ))))) by L96;
theorem
L337: (for R1 being Nat holds (for R12 being set holds (for R18 being (SigmaField of R12) holds (for R19 being (SetSequence of R18) holds ( R19 . R1 ) c= ( ( Partial_Union R19 ) . R1 ))))) by L104;
theorem
L338: (for R1 being Nat holds (for R9 being set holds (for R12 being set holds (for R18 being (SigmaField of R12) holds (for R19 being (SetSequence of R18) holds (R9 in ( ( Partial_Intersection R19 ) . R1 ) iff (for R3 being Nat holds (R3 <= R1 implies R9 in ( R19 . R3 ))))))))) by L122;
theorem
L339: (for R1 being Nat holds (for R9 being set holds (for R12 being set holds (for R18 being (SigmaField of R12) holds (for R19 being (SetSequence of R18) holds (R9 in ( ( Partial_Union R19 ) . R1 ) iff (ex R3 being Nat st (R3 <= R1 & R9 in ( R19 . R3 ))))))))) by L146;
theorem
L340: (for R12 being set holds (for R18 being (SigmaField of R12) holds (for R19 being (SetSequence of R18) holds ( Partial_Intersection R19 ) is  non-ascending))) by L112;
theorem
L341: (for R12 being set holds (for R18 being (SigmaField of R12) holds (for R19 being (SetSequence of R18) holds ( Partial_Union R19 ) is  non-descending))) by L117;
theorem
L342: (for R12 being set holds (for R18 being (SigmaField of R12) holds (for R19 being (SetSequence of R18) holds ( Intersection ( Partial_Intersection R19 ) ) = ( Intersection R19 )))) by L172;
theorem
L343: (for R12 being set holds (for R18 being (SigmaField of R12) holds (for R19 being (SetSequence of R18) holds ( Union ( Partial_Union R19 ) ) = ( Union R19 )))) by L186;
theorem
L344: (for R12 being set holds (for R18 being (SigmaField of R12) holds (for R19 being (SetSequence of R18) holds (for R20 being (SetSequence of R18) holds (R20 = ( Partial_Diff_Union R19 ) implies (( R20 . ( 0 ) ) = ( R19 . ( 0 ) ) & (for R1 being Nat holds ( R20 . ( R1 + 1 ) ) = ( ( R19 . ( R1 + 1 ) ) \ ( ( Partial_Union R19 ) . R1 ) )))))))) by L198;
theorem
L345: (for R1 being Nat holds (for R9 being set holds (for R12 being set holds (for R18 being (SigmaField of R12) holds (for R19 being (SetSequence of R18) holds (R9 in ( ( Partial_Diff_Union R19 ) . R1 ) iff (R9 in ( R19 . R1 ) & (for R3 being Nat holds (R3 < R1 implies (not R9 in ( R19 . R3 ))))))))))) by L221;
theorem
L346: (for R1 being Nat holds (for R12 being set holds (for R18 being (SigmaField of R12) holds (for R19 being (SetSequence of R18) holds ( ( Partial_Diff_Union R19 ) . R1 ) c= ( R19 . R1 ))))) by L254;
theorem
L347: (for R1 being Nat holds (for R12 being set holds (for R18 being (SigmaField of R12) holds (for R19 being (SetSequence of R18) holds ( ( Partial_Diff_Union R19 ) . R1 ) c= ( ( Partial_Union R19 ) . R1 ))))) by L257;
theorem
L348: (for R12 being set holds (for R18 being (SigmaField of R12) holds (for R19 being (SetSequence of R18) holds ( Partial_Union ( Partial_Diff_Union R19 ) ) = ( Partial_Union R19 )))) by L260;
theorem
L349: (for R12 being set holds (for R18 being (SigmaField of R12) holds (for R19 being (SetSequence of R18) holds ( Union ( Partial_Diff_Union R19 ) ) = ( Union R19 )))) by L269;
theorem
L350: (for R21 being non  empty set holds (for R22 being (SigmaField of R21) holds (for R23 being (SetSequence of R22) holds (for R25 being (Probability of R22) holds ( R25 * ( Partial_Union R23 ) ) is  non-decreasing))))
proof
let R21 being non  empty set;
let R22 being (SigmaField of R21);
let R23 being (SetSequence of R22);
let R25 being (Probability of R22);
L351: ( Partial_Union R23 ) is  non-descending by L117;
thus L352: thesis by L351 , L32;
end;
theorem
L353: (for R21 being non  empty set holds (for R22 being (SigmaField of R21) holds (for R23 being (SetSequence of R22) holds (for R25 being (Probability of R22) holds ( R25 * ( Partial_Intersection R23 ) ) is  non-increasing))))
proof
let R21 being non  empty set;
let R22 being (SigmaField of R21);
let R23 being (SetSequence of R22);
let R25 being (Probability of R22);
L354: ( Partial_Intersection R23 ) is  non-ascending by L112;
thus L355: thesis by L354 , L41;
end;
theorem
L356: (for R21 being non  empty set holds (for R22 being (SigmaField of R21) holds (for R23 being (SetSequence of R22) holds (for R25 being (Probability of R22) holds ( Partial_Sums ( R25 * R23 ) ) is  non-decreasing))))
proof
let R21 being non  empty set;
let R22 being (SigmaField of R21);
let R23 being (SetSequence of R22);
let R25 being (Probability of R22);
L357: (for B59 being (Element of ( NAT )) holds ( ( R25 * R23 ) . B59 ) >= ( 0 )) by L19;
thus L358: thesis by L357 , SERIES_1:16;
end;
theorem
L359: (for R21 being non  empty set holds (for R22 being (SigmaField of R21) holds (for R23 being (SetSequence of R22) holds (for R25 being (Probability of R22) holds ( ( R25 * ( Partial_Union R23 ) ) . ( 0 ) ) = ( ( Partial_Sums ( R25 * R23 ) ) . ( 0 ) )))))
proof
let R21 being non  empty set;
let R22 being (SigmaField of R21);
let R23 being (SetSequence of R22);
let R25 being (Probability of R22);
L360: ( dom ( R25 * R23 ) ) = ( NAT ) by SEQ_1:1;
L361: ( dom ( R25 * ( Partial_Union R23 ) ) ) = ( NAT ) by SEQ_1:1;
L362: ( ( R25 * ( Partial_Union R23 ) ) . ( 0 ) ) = ( R25 . ( ( Partial_Union R23 ) . ( 0 ) ) ) by L361 , FUNCT_1:12
.= ( R25 . ( R23 . ( 0 ) ) ) by L73;
L363: ( ( Partial_Sums ( R25 * R23 ) ) . ( 0 ) ) = ( ( R25 * R23 ) . ( 0 ) ) by SERIES_1:def 1
.= ( R25 . ( R23 . ( 0 ) ) ) by L360 , FUNCT_1:12;
thus L364: thesis by L363 , L362;
end;
theorem
L365: (for R21 being non  empty set holds (for R22 being (SigmaField of R21) holds (for R23 being (SetSequence of R22) holds (for R25 being (Probability of R22) holds (( R25 * ( Partial_Union R23 ) ) is  convergent & ( lim ( R25 * ( Partial_Union R23 ) ) ) = ( upper_bound ( R25 * ( Partial_Union R23 ) ) ) & ( lim ( R25 * ( Partial_Union R23 ) ) ) = ( R25 . ( Union R23 ) ))))))
proof
let R21 being non  empty set;
let R22 being (SigmaField of R21);
let R23 being (SetSequence of R22);
let R25 being (Probability of R22);
L366: ( R25 * ( Partial_Union R23 ) ) is  non-decreasing by L350;
L367: ( Partial_Union R23 ) is  non-descending by L117;
L368: ( R25 * ( Partial_Union R23 ) ) is  convergent by L367 , PROB_2:10;
L369: ( R25 * ( Partial_Union R23 ) ) is  bounded by L368;
L370: ( lim ( R25 * ( Partial_Union R23 ) ) ) = ( R25 . ( Union ( Partial_Union R23 ) ) ) by L367 , PROB_2:10
.= ( R25 . ( Union R23 ) ) by L186;
thus L371: thesis by L370 , L367 , L369 , L366 , PROB_2:10 , RINFSUP1:24;
end;
theorem
L372: (for R21 being non  empty set holds (for R22 being (SigmaField of R21) holds (for R23 being (SetSequence of R22) holds (R23 is  disjoint_valued implies (for R1 being Nat holds (for R2 being Nat holds (R1 < R2 implies ( ( Partial_Union R23 ) . R1 ) misses ( R23 . R2 ))))))))
proof
let R21 being non  empty set;
let R22 being (SigmaField of R21);
let R23 being (SetSequence of R22);
assume L373: R23 is  disjoint_valued;
let R1 being Nat;
let R2 being Nat;
assume that
L374: R1 < R2;
assume L375: ( ( Partial_Union R23 ) . R1 ) meets ( R23 . R2 );
consider C60 being set such that L376: C60 in ( ( Partial_Union R23 ) . R1 ) and L377: C60 in ( R23 . R2 ) by L375 , XBOOLE_0:3;
consider C61 being Nat such that L378: C61 <= R1 and L379: C60 in ( R23 . C61 ) by L376 , L146;
L380: (R2 in ( NAT ) & C61 in ( NAT )) by ORDINAL1:def 12;
L381: ( R23 . C61 ) misses ( R23 . R2 ) by L380 , L373 , L374 , L378 , PROB_2:def 3;
L382: ( ( R23 . C61 ) /\ ( R23 . R2 ) ) = ( {} ) by L381 , XBOOLE_0:def 7;
thus L383: contradiction by L382 , L377 , L379 , XBOOLE_0:def 4;
end;
theorem
L384: (for R1 being Nat holds (for R21 being non  empty set holds (for R22 being (SigmaField of R21) holds (for R23 being (SetSequence of R22) holds (for R25 being (Probability of R22) holds (R23 is  disjoint_valued implies ( ( R25 * ( Partial_Union R23 ) ) . R1 ) = ( ( Partial_Sums ( R25 * R23 ) ) . R1 )))))))
proof
let R1 being Nat;
let R21 being non  empty set;
let R22 being (SigmaField of R21);
let R23 being (SetSequence of R22);
let R25 being (Probability of R22);
L385: ( dom ( R25 * R23 ) ) = ( NAT ) by SEQ_1:1;
defpred S12[ Nat ] means ( ( R25 * ( Partial_Union R23 ) ) . $1 ) = ( ( Partial_Sums ( R25 * R23 ) ) . $1 );
L386: ( dom ( R25 * ( Partial_Union R23 ) ) ) = ( NAT ) by SEQ_1:1;
assume L387: R23 is  disjoint_valued;
L388: (for R3 being Nat holds (S12[ R3 ] implies S12[ ( R3 + 1 ) ]))
proof
let R3 being Nat;
assume that
L389: ( ( R25 * ( Partial_Union R23 ) ) . R3 ) = ( ( Partial_Sums ( R25 * R23 ) ) . R3 );
L390: R3 < ( R3 + 1 ) by NAT_1:13;
L391: ( ( Partial_Union R23 ) . R3 ) misses ( R23 . ( R3 + 1 ) ) by L390 , L387 , L372;
reconsider D13 = R3 as (Element of ( NAT )) by ORDINAL1:def 12;
L392: ( ( Partial_Sums ( R25 * R23 ) ) . ( D13 + 1 ) ) = ( ( ( Partial_Sums ( R25 * R23 ) ) . D13 ) + ( ( R25 * R23 ) . ( D13 + 1 ) ) ) by SERIES_1:def 1
.= ( ( ( Partial_Sums ( R25 * R23 ) ) . D13 ) + ( R25 . ( R23 . ( D13 + 1 ) ) ) ) by L385 , FUNCT_1:12;
L393: ( ( R25 * ( Partial_Union R23 ) ) . ( D13 + 1 ) ) = ( R25 . ( ( Partial_Union R23 ) . ( D13 + 1 ) ) ) by L386 , FUNCT_1:12
.= ( R25 . ( ( ( Partial_Union R23 ) . D13 ) \/ ( R23 . ( D13 + 1 ) ) ) ) by L73
.= ( ( R25 . ( ( Partial_Union R23 ) . D13 ) ) + ( R25 . ( R23 . ( D13 + 1 ) ) ) ) by L391 , PROB_1:def 8
.= ( ( ( R25 * ( Partial_Union R23 ) ) . D13 ) + ( R25 . ( R23 . ( D13 + 1 ) ) ) ) by L386 , FUNCT_1:12;
thus L394: thesis by L393 , L389 , L392;
end;
L395: S12[ ( 0 ) ] by L359;
L396: (for R3 being Nat holds S12[ R3 ]) from NAT_1:sch 2(L395 , L388);
thus L397: thesis by L396;
end;
theorem
L398: (for R21 being non  empty set holds (for R22 being (SigmaField of R21) holds (for R23 being (SetSequence of R22) holds (for R25 being (Probability of R22) holds (R23 is  disjoint_valued implies ( R25 * ( Partial_Union R23 ) ) = ( Partial_Sums ( R25 * R23 ) ))))))
proof
let R21 being non  empty set;
let R22 being (SigmaField of R21);
let R23 being (SetSequence of R22);
let R25 being (Probability of R22);
assume L399: R23 is  disjoint_valued;
L400: (for B60 being (Element of ( NAT )) holds ( ( R25 * ( Partial_Union R23 ) ) . B60 ) = ( ( Partial_Sums ( R25 * R23 ) ) . B60 )) by L399 , L384;
thus L401: thesis by L400 , FUNCT_2:63;
end;
theorem
L402: (for R21 being non  empty set holds (for R22 being (SigmaField of R21) holds (for R23 being (SetSequence of R22) holds (for R25 being (Probability of R22) holds (R23 is  disjoint_valued implies (( Partial_Sums ( R25 * R23 ) ) is  convergent & ( lim ( Partial_Sums ( R25 * R23 ) ) ) = ( upper_bound ( Partial_Sums ( R25 * R23 ) ) ) & ( lim ( Partial_Sums ( R25 * R23 ) ) ) = ( R25 . ( Union R23 ) )))))))
proof
let R21 being non  empty set;
let R22 being (SigmaField of R21);
let R23 being (SetSequence of R22);
let R25 being (Probability of R22);
assume L403: R23 is  disjoint_valued;
L404: ( R25 * ( Partial_Union R23 ) ) = ( Partial_Sums ( R25 * R23 ) ) by L403 , L398;
thus L405: thesis by L404 , L365;
end;
theorem
L406: (for R21 being non  empty set holds (for R22 being (SigmaField of R21) holds (for R23 being (SetSequence of R22) holds (for R25 being (Probability of R22) holds (R23 is  disjoint_valued implies ( R25 . ( Union R23 ) ) = ( Sum ( R25 * R23 ) ))))))
proof
let R21 being non  empty set;
let R22 being (SigmaField of R21);
let R23 being (SetSequence of R22);
let R25 being (Probability of R22);
assume L407: R23 is  disjoint_valued;
L408: ( lim ( Partial_Sums ( R25 * R23 ) ) ) = ( R25 . ( Union R23 ) ) by L407 , L402;
thus L409: thesis by L408 , SERIES_1:def 3;
end;
definition
let R12 being set;
let R16 being (FinSequence of ( bool R12 ));
let R1 being Nat;
redefine func R16 . R1 -> (Subset of R12);

coherence
proof
per cases ;
suppose L410: R1 in ( dom R16 );

thus L411: thesis by L410 , FINSEQ_2:11;
end;
suppose L412: (not R1 in ( dom R16 ));

L413: ( R16 . R1 ) = ( {} ) by L412 , FUNCT_1:def 2;
thus L414: thesis by L413 , SUBSET_1:1;
end;
end;
end;
theorem
L417: (for R12 being set holds (ex B61 being (FinSequence of ( bool R12 )) st (for R3 being Nat holds (R3 in ( dom B61 ) implies ( B61 . R3 ) = R12))))
proof
let R12 being set;
L418:
now
let C62 being (Element of ( NAT ));
set D14 = ( C62 |-> R12 );
L419: ( dom D14 ) = ( Seg C62 ) by FUNCOP_1:13;
L420: ( rng D14 ) c= ( bool R12 )
proof
let R9 being set;
assume L421: R9 in ( rng D14 );
L422: (ex B62 being Nat st (B62 in ( dom D14 ) & ( D14 . B62 ) = R9)) by L421 , FINSEQ_2:10;
L423: R9 = R12 by L422 , L419 , FINSEQ_2:57;
thus L424: thesis by L423 , ZFMISC_1:def 1;
end;
L425: D14 is (FinSequence of ( bool R12 )) by L420 , FINSEQ_1:def 4;
L426: (for B63 being Nat holds (B63 in ( dom D14 ) implies ( D14 . B63 ) = R12)) by L419 , FINSEQ_2:57;
thus L427: thesis by L426 , L425;
end;
thus L428: thesis by L418;
end;
theorem
L429: (for R12 being set holds (for B64 being (FinSequence of ( bool R12 )) holds ( union ( rng B64 ) ) is (Subset of R12)));
definition
let C63 being set;
let C64 being (FinSequence of ( bool C63 ));
redefine func Union C64 -> (Subset of C63);

coherence
proof
L430: ( Union C64 ) = ( union ( rng C64 ) ) by CARD_3:def 4;
thus L431: thesis by L430;
end;
end;
theorem
L433: (for R9 being set holds (for R12 being set holds (for R16 being (FinSequence of ( bool R12 )) holds (R9 in ( Union R16 ) iff (ex R3 being Nat st (R3 in ( dom R16 ) & R9 in ( R16 . R3 )))))))
proof
let R9 being set;
let R12 being set;
let R16 being (FinSequence of ( bool R12 ));
set D15 = ( union ( rng R16 ) );
L434: (for R9 being set holds (R9 in D15 iff (ex R3 being Nat st (R3 in ( dom R16 ) & R9 in ( R16 . R3 )))))
proof
let R9 being set;
thus L435: (R9 in D15 implies (ex R3 being Nat st (R3 in ( dom R16 ) & R9 in ( R16 . R3 ))))
proof
assume L436: R9 in D15;
consider R14 being set such that L437: R9 in R14 and L438: R14 in ( rng R16 ) by L436 , TARSKI:def 4;
L439: (ex B65 being Nat st (B65 in ( dom R16 ) & R14 = ( R16 . B65 ))) by L438 , FINSEQ_2:10;
thus L440: thesis by L439 , L437;
end;

thus L441: ((ex R3 being Nat st (R3 in ( dom R16 ) & R9 in ( R16 . R3 ))) implies R9 in D15)
proof
given R4 being Nat such that
L442: R4 in ( dom R16 )
and
L443: R9 in ( R16 . R4 );

L444: ( R16 . R4 ) in ( rng R16 ) by L442 , FUNCT_1:def 3;
thus L445: thesis by L444 , L443 , TARSKI:def 4;
end;

end;
L442: D15 = ( Union R16 ) by CARD_3:def 4;
thus L443: thesis by L442 , L434;
end;
definition
let R12 being set;
let R16 being (FinSequence of ( bool R12 ));
func Complement R16 -> (FinSequence of ( bool R12 )) means 
:L444: (( len it ) = ( len R16 ) & (for R1 being Nat holds (R1 in ( dom it ) implies ( it . R1 ) = ( ( R16 . R1 ) ` ))));
existence
proof
deffunc H1(Nat) = ( ( R16 . $1 ) ` );
consider C65 being (FinSequence of ( bool R12 )) such that L445: (( len C65 ) = ( len R16 ) & (for B66 being Nat holds (B66 in ( dom C65 ) implies ( C65 . B66 ) = H1(B66)))) from FINSEQ_2:sch 1;
take C65;
thus L446: thesis by L445;
end;
uniqueness
proof
let C66 , C67 being (FinSequence of ( bool R12 ));
assume that
L447: ( len C66 ) = ( len R16 )
and
L448: (for R1 being Nat holds (R1 in ( dom C66 ) implies ( C66 . R1 ) = ( ( R16 . R1 ) ` )))
and
L449: ( len C67 ) = ( len R16 )
and
L450: (for R1 being Nat holds (R1 in ( dom C67 ) implies ( C67 . R1 ) = ( ( R16 . R1 ) ` )));
L451: (( dom C66 ) = ( dom C67 ) & (for B67 being Nat holds (B67 in ( dom C66 ) implies ( C66 . B67 ) = ( C67 . B67 ))))
proof
thus L452: ( dom C66 ) = ( Seg ( len C67 ) ) by L447 , L449 , FINSEQ_1:def 3
.= ( dom C67 ) by FINSEQ_1:def 3;
let C68 being Nat;
assume L453: C68 in ( dom C66 );
thus L454: ( C66 . C68 ) = ( ( R16 . C68 ) ` ) by L453 , L448
.= ( C67 . C68 ) by L450 , L452 , L453;
end;
thus L455: thesis by L451 , FINSEQ_1:13;
end;
end;
definition
let R12 being set;
let R16 being (FinSequence of ( bool R12 ));
func Intersection R16 -> (Subset of R12) equals 
:L457: ( ( Union ( Complement R16 ) ) ` ) if R16 <> ( {} ) otherwise ( {} );
coherence by SUBSET_1:1;
consistency;
end;
theorem
L459: (for R12 being set holds (for R16 being (FinSequence of ( bool R12 )) holds ( dom ( Complement R16 ) ) = ( dom R16 )))
proof
let R12 being set;
let R16 being (FinSequence of ( bool R12 ));
thus L460: ( dom ( Complement R16 ) ) = ( Seg ( len ( Complement R16 ) ) ) by FINSEQ_1:def 3
.= ( Seg ( len R16 ) ) by L444
.= ( dom R16 ) by FINSEQ_1:def 3;
end;
theorem
L461: (for R9 being set holds (for R12 being set holds (for R16 being (FinSequence of ( bool R12 )) holds (R16 <> ( {} ) implies (R9 in ( Intersection R16 ) iff (for R3 being Nat holds (R3 in ( dom R16 ) implies R9 in ( R16 . R3 ))))))))
proof
let R9 being set;
let R12 being set;
let R16 being (FinSequence of ( bool R12 ));
L462: (for R1 being Nat holds (R1 in ( dom R16 ) implies ( R12 \ ( ( Complement R16 ) . R1 ) ) = ( R16 . R1 )))
proof
let R1 being Nat;
assume L463: R1 in ( dom R16 );
L464: R1 in ( dom ( Complement R16 ) ) by L463 , L459;
L465: ( R12 \ ( ( Complement R16 ) . R1 ) ) = ( ( ( Complement R16 ) . R1 ) ` ) by SUBSET_1:def 4
.= ( ( ( R16 . R1 ) ` ) ` ) by L464 , L444
.= ( R16 . R1 );
thus L466: thesis by L465;
end;
assume L467: R16 <> ( {} );
L468: ( dom R16 ) <> ( {} ) by L467 , RELAT_1:41;
L469: ((R9 in R12 & (for R1 being Nat holds (R1 in ( dom R16 ) implies (not R9 in ( ( Complement R16 ) . R1 ))))) iff (for R1 being Nat holds (R1 in ( dom R16 ) implies R9 in ( R16 . R1 ))))
proof
thus L470:now
assume that
L471: R9 in R12
and
L472: (for R1 being Nat holds (R1 in ( dom R16 ) implies (not R9 in ( ( Complement R16 ) . R1 ))));
let R1 being Nat;
assume that
L473: R1 in ( dom R16 );
L474: (not R9 in ( ( Complement R16 ) . R1 )) by L472 , L473;
L475: R9 in ( R12 \ ( ( Complement R16 ) . R1 ) ) by L474 , L471 , XBOOLE_0:def 5;
thus L476: R9 in ( R16 . R1 ) by L475 , L462 , L473;
end;
assume L477: (for R1 being Nat holds (R1 in ( dom R16 ) implies R9 in ( R16 . R1 )));
L478:
now
let C69 being (Element of ( NAT ));
assume that
L479: C69 in ( dom R16 );
L480: R9 in ( R16 . C69 ) by L477 , L479;
L481: R9 in ( R12 \ ( ( Complement R16 ) . C69 ) ) by L480 , L462 , L479;
thus L482: (R9 in R12 & (not R9 in ( ( Complement R16 ) . C69 ))) by L481 , XBOOLE_0:def 5;
end;
L483: (ex B68 being set st B68 in ( dom R16 )) by L468 , XBOOLE_0:def 1;
thus L484: thesis by L483 , L478;
end;
L485: ( dom ( Complement R16 ) ) = ( dom R16 ) by L459;
L486: ((R9 in R12 & (not R9 in ( Union ( Complement R16 ) ))) iff (R9 in R12 & (for R1 being Nat holds (R1 in ( dom R16 ) implies (not R9 in ( ( Complement R16 ) . R1 )))))) by L485 , L433;
L487: (R9 in ( ( Union ( Complement R16 ) ) ` ) iff R9 in ( R12 \ ( Union ( Complement R16 ) ) )) by SUBSET_1:def 4;
thus L488: thesis by L487 , L467 , L486 , L469 , L457 , XBOOLE_0:def 5;
end;
theorem
L489: (for R9 being set holds (for R12 being set holds (for R16 being (FinSequence of ( bool R12 )) holds (R16 <> ( {} ) implies (R9 in ( meet ( rng R16 ) ) iff (for R1 being Nat holds (R1 in ( dom R16 ) implies R9 in ( R16 . R1 ))))))))
proof
let R9 being set;
let R12 being set;
let R16 being (FinSequence of ( bool R12 ));
assume L490: R16 <> ( {} );
L491: ( rng R16 ) <> ( {} ) by L490 , RELAT_1:41;
L492:
now
let R9 being set;
assume L493: (for R1 being Nat holds (R1 in ( dom R16 ) implies R9 in ( R16 . R1 )));
L494:
now
let R13 being set;
assume L495: R13 in ( rng R16 );
consider C70 being set such that L496: C70 in ( dom R16 ) and L497: R13 = ( R16 . C70 ) by L495 , FUNCT_1:def 3;
thus L498: R9 in R13 by L493 , L496 , L497;
end;
thus L499: R9 in ( meet ( rng R16 ) ) by L494 , L491 , SETFAM_1:def 1;
end;
L500:
now
let R9 being set;
assume L501: R9 in ( meet ( rng R16 ) );
L502:
now
let R3 being Nat;
assume L503: R3 in ( dom R16 );
L504: ( R16 . R3 ) in ( rng R16 ) by L503 , FUNCT_1:3;
thus L505: R9 in ( R16 . R3 ) by L504 , L501 , SETFAM_1:def 1;
end;
thus L506: (for R1 being Nat holds (R1 in ( dom R16 ) implies R9 in ( R16 . R1 ))) by L502;
end;
thus L507: thesis by L500 , L492;
end;
theorem
L508: (for R12 being set holds (for R16 being (FinSequence of ( bool R12 )) holds ( Intersection R16 ) = ( meet ( rng R16 ) )))
proof
let R12 being set;
let R16 being (FinSequence of ( bool R12 ));
per cases ;
suppose L509: R16 <> ( {} );

L510:
now
let R9 being set;
L511: (R9 in ( Intersection R16 ) iff (for R1 being Nat holds (R1 in ( dom R16 ) implies R9 in ( R16 . R1 )))) by L509 , L461;
thus L512: (R9 in ( Intersection R16 ) iff R9 in ( meet ( rng R16 ) )) by L511 , L509 , L489;
end;
thus L513: thesis by L510 , TARSKI:1;
end;
suppose L514: R16 = ( {} );

thus L515: thesis by L514 , L457 , RELAT_1:38 , SETFAM_1:1;
end;
end;
theorem
L517: (for R12 being set holds (for B69 being (FinSequence of ( bool R12 )) holds (ex B70 being (SetSequence of R12) st ((for R3 being Nat holds (R3 in ( dom B69 ) implies ( B70 . R3 ) = ( B69 . R3 ))) & (for R3 being Nat holds ((not R3 in ( dom B69 )) implies ( B70 . R3 ) = ( {} )))))))
proof
let R12 being set;
deffunc H2(set) = ( {} );
let C71 being (FinSequence of ( bool R12 ));
defpred S13[ set ] means $1 in ( dom C71 );
deffunc H3(set) = ( C71 . $1 );
L518: (ex B71 being Function st (( dom B71 ) = ( NAT ) & (for B72 being set holds (B72 in ( NAT ) implies ((S13[ B72 ] implies ( B71 . B72 ) = H3(B72)) & ((not S13[ B72 ]) implies ( B71 . B72 ) = H2(B72))))))) from PARTFUN1:sch 1;
consider C72 being Function such that L519: ( dom C72 ) = ( NAT ) and L520: (for R9 being set holds (R9 in ( NAT ) implies ((R9 in ( dom C71 ) implies ( C72 . R9 ) = ( C71 . R9 )) & ((not R9 in ( dom C71 )) implies ( C72 . R9 ) = ( {} ))))) by L518;
L521: (for R9 being set holds (R9 in ( dom C71 ) implies ( C71 . R9 ) in ( bool R12 )))
proof
let R9 being set;
assume L522: R9 in ( dom C71 );
L523: ( C71 . R9 ) in ( rng C71 ) by L522 , FUNCT_1:3;
thus L524: thesis by L523;
end;
L525: (for R9 being set holds (R9 in ( NAT ) implies ( C72 . R9 ) in ( bool R12 )))
proof
let R9 being set;
assume L526: R9 in ( NAT );
per cases ;
suppose L527: (not R9 in ( dom C71 ));

L528: ( C72 . R9 ) = ( {} ) by L527 , L520 , L526;
L529: ( C72 . R9 ) c= R12 by L528 , XBOOLE_1:2;
thus L530: thesis by L529;
end;
suppose L531: R9 in ( dom C71 );

L532: ( C72 . R9 ) = ( C71 . R9 ) by L531 , L520;
thus L533: thesis by L532 , L521 , L531;
end;
end;
reconsider D16 = C72 as (SetSequence of R12) by L525 , L519 , FUNCT_2:3;
take D16;
thus L535: (for R3 being Nat holds (R3 in ( dom C71 ) implies ( D16 . R3 ) = ( C71 . R3 ))) by L520;
let R3 being Nat;
L536: R3 in ( NAT ) by ORDINAL1:def 12;
thus L537: thesis by L536 , L520;
end;
theorem
L538: (for R12 being set holds (for B73 being (FinSequence of ( bool R12 )) holds (for B74 being (SetSequence of R12) holds (((for R3 being Nat holds (R3 in ( dom B73 ) implies ( B74 . R3 ) = ( B73 . R3 ))) & (for R3 being Nat holds ((not R3 in ( dom B73 )) implies ( B74 . R3 ) = ( {} )))) implies (( B74 . ( 0 ) ) = ( {} ) & ( Union B74 ) = ( Union B73 ))))))
proof
let R12 being set;
let C73 being (FinSequence of ( bool R12 ));
let C74 being (SetSequence of R12);
assume that
L539: (for R3 being Nat holds (R3 in ( dom C73 ) implies ( C74 . R3 ) = ( C73 . R3 )))
and
L540: (for R3 being Nat holds ((not R3 in ( dom C73 )) implies ( C74 . R3 ) = ( {} )));
thus L541: ( C74 . ( 0 ) ) = ( {} ) by L540 , L5;
thus L542: ( Union C74 ) = ( Union C73 )
proof
thus L543: ( Union C74 ) c= ( Union C73 )
proof
let R9 being set;
assume L544: R9 in ( Union C74 );
consider C75 being (Element of ( NAT )) such that L545: R9 in ( C74 . C75 ) by L544 , PROB_1:12;
L546: (C75 in ( dom C73 ) & R9 in ( C73 . C75 )) by L539 , L540 , L545;
thus L547: thesis by L546 , L433;
end;

let R9 being set;
assume L548: R9 in ( Union C73 );
consider R1 being Nat such that L549: (R1 in ( dom C73 ) & R9 in ( C73 . R1 )) by L548 , L433;
L550: (R1 in ( NAT ) & R9 in ( C74 . R1 )) by L539 , L549;
thus L551: thesis by L550 , PROB_1:12;
end;

end;
definition
let C76 being set;
let C77 being (SigmaField of C76);
redefine mode FinSequence of C77
 -> (FinSequence of ( bool C76 ));
coherence
proof
let C78 being (FinSequence of C77);
thus L543: ( rng C78 ) c= ( bool C76 ) by XBOOLE_1:1;
end;
end;
definition
let C79 being set;
let C80 being (SigmaField of C79);
let C81 being (FinSequence of C80);
let R1 being Nat;
redefine func C81 . R1 -> (Event of C80);

coherence
proof
per cases ;
suppose L545: R1 in ( dom C81 );

thus L546: thesis by L545 , FINSEQ_2:11;
end;
suppose L547: (not R1 in ( dom C81 ));

L548: ( C81 . R1 ) = ( {} ) by L547 , FUNCT_1:def 2;
thus L549: thesis by L548 , PROB_1:22;
end;
end;
end;
theorem
L552: (for R12 being set holds (for R18 being (SigmaField of R12) holds (for B75 being (FinSequence of R18) holds (ex B76 being (SetSequence of R18) st ((for R3 being Nat holds (R3 in ( dom B75 ) implies ( B76 . R3 ) = ( B75 . R3 ))) & (for R3 being Nat holds ((not R3 in ( dom B75 )) implies ( B76 . R3 ) = ( {} ))))))))
proof
let R12 being set;
let R18 being (SigmaField of R12);
let C82 being (FinSequence of R18);
consider C83 being (SetSequence of R12) such that L553: (for R3 being Nat holds (R3 in ( dom C82 ) implies ( C83 . R3 ) = ( C82 . R3 ))) and L554: (for R3 being Nat holds ((not R3 in ( dom C82 )) implies ( C83 . R3 ) = ( {} ))) by L517;
L555: (for B77 being Nat holds ( C83 . B77 ) in R18)
proof
let C84 being Nat;
per cases ;
suppose L556: (not C84 in ( dom C82 ));

L557: ( C83 . C84 ) = ( {} ) by L556 , L554;
thus L558: thesis by L557 , PROB_1:4;
end;
suppose L559: C84 in ( dom C82 );

L560: ( C83 . C84 ) = ( C82 . C84 ) by L559 , L553;
thus L561: thesis by L560;
end;
end;
L563: ( rng C83 ) c= R18 by L555 , NAT_1:52;
reconsider D17 = C83 as (SetSequence of R18) by L563 , RELAT_1:def 19;
take D17;
thus L564: thesis by L553 , L554;
end;
theorem
L565: (for R12 being set holds (for R18 being (SigmaField of R12) holds (for B78 being (FinSequence of R18) holds ( Union B78 ) in R18)))
proof
let R12 being set;
let R18 being (SigmaField of R12);
let C85 being (FinSequence of R18);
consider C86 being (SetSequence of R18) such that L566: ((for R3 being Nat holds (R3 in ( dom C85 ) implies ( C86 . R3 ) = ( C85 . R3 ))) & (for R3 being Nat holds ((not R3 in ( dom C85 )) implies ( C86 . R3 ) = ( {} )))) by L552;
L567: ( Union C86 ) = ( Union C85 ) by L566 , L538;
thus L568: thesis by L567 , PROB_1:17;
end;
registration
let C87 being set;
let C88 being (SigmaField of C87);
let C89 being (FinSequence of C88);
cluster ( Complement C89 ) -> C88 -valued;
coherence
proof
set D18 = ( Complement C89 );
let C90 being set;
assume L569: C90 in ( rng D18 );
consider R10 being set such that L570: R10 in ( dom D18 ) and L571: C90 = ( D18 . R10 ) by L569 , FUNCT_1:def 3;
reconsider D19 = R10 as Nat by L570;
L572: ( D18 . D19 ) = ( ( C89 . D19 ) ` ) by L570 , L444;
L573: ( D18 . D19 ) is (Event of C88) by L572 , PROB_1:20;
thus L574: C90 in C88 by L573 , L571;
end;
end;
theorem
L576: (for R12 being set holds (for R18 being (SigmaField of R12) holds (for B79 being (FinSequence of R18) holds ( Intersection B79 ) in R18)))
proof
let R12 being set;
let R18 being (SigmaField of R12);
let C91 being (FinSequence of R18);
per cases ;
suppose L577: C91 = ( {} );

L578: ( Intersection C91 ) = ( {} ) by L577 , L457;
thus L579: thesis by L578 , PROB_1:4;
end;
suppose L580: C91 <> ( {} );

L581: ( rng ( Complement C91 ) ) c= R18;
reconsider D20 = ( Complement C91 ) as (FinSequence of R18) by L581 , FINSEQ_1:def 4;
L582: ( Union D20 ) in R18 by L565;
L583: ( Intersection C91 ) = ( ( Union ( Complement C91 ) ) ` ) by L580 , L457;
thus L584: thesis by L583 , L582 , PROB_1:def 1;
end;
end;
theorem
L586: (for R21 being non  empty set holds (for R22 being (SigmaField of R21) holds (for R25 being (Probability of R22) holds (for R26 being (FinSequence of R22) holds ( dom ( R25 * R26 ) ) = ( dom R26 )))))
proof
let R21 being non  empty set;
let R22 being (SigmaField of R21);
let R25 being (Probability of R22);
let R26 being (FinSequence of R22);
L587: (for R9 being set holds (R9 in ( dom ( R25 * R26 ) ) iff R9 in ( dom R26 )))
proof
let R9 being set;
thus L588: (R9 in ( dom ( R25 * R26 ) ) implies R9 in ( dom R26 )) by FUNCT_1:11;
assume L589: R9 in ( dom R26 );
reconsider D21 = R9 as (Element of ( NAT )) by L589;
L590: ( R26 . D21 ) in R22;
L591: ( R26 . D21 ) in ( dom R25 ) by L590 , FUNCT_2:def 1;
thus L592: thesis by L591 , L589 , FUNCT_1:11;
end;
thus L593: thesis by L587 , TARSKI:1;
end;
theorem
L594: (for R21 being non  empty set holds (for R22 being (SigmaField of R21) holds (for R25 being (Probability of R22) holds (for R26 being (FinSequence of R22) holds ( R25 * R26 ) is (FinSequence of ( REAL ))))))
proof
let R21 being non  empty set;
let R22 being (SigmaField of R21);
let R25 being (Probability of R22);
let R26 being (FinSequence of R22);
L595: ( dom ( R25 * R26 ) ) = ( dom R26 ) by L586;
L596: (ex B80 being Nat st ( dom ( R25 * R26 ) ) = ( Seg B80 )) by L595 , FINSEQ_1:def 2;
reconsider D22 = ( R25 * R26 ) as FinSequence by L596 , FINSEQ_1:def 2;
L597: ( rng ( R25 * R26 ) ) c= ( REAL );
L598: ( rng D22 ) c= ( REAL ) by L597;
thus L599: thesis by L598 , FINSEQ_1:def 4;
end;
definition
let R21 being non  empty set;
let R22 being (SigmaField of R21);
let R26 being (FinSequence of R22);
let R25 being (Probability of R22);
redefine func R25 * R26 -> (FinSequence of ( REAL ));

coherence by L594;
end;
theorem
L601: (for R21 being non  empty set holds (for R22 being (SigmaField of R21) holds (for R25 being (Probability of R22) holds (for R26 being (FinSequence of R22) holds ( len ( R25 * R26 ) ) = ( len R26 )))))
proof
let R21 being non  empty set;
let R22 being (SigmaField of R21);
let R25 being (Probability of R22);
let R26 being (FinSequence of R22);
L602: ( dom ( R25 * R26 ) ) = ( dom R26 ) by L586;
L603: ( Seg ( len ( R25 * R26 ) ) ) = ( dom R26 ) by L602 , FINSEQ_1:def 3;
thus L604: thesis by L603 , FINSEQ_1:def 3;
end;
theorem
L605: (for R17 being (FinSequence of ( REAL )) holds (( len R17 ) = ( 0 ) implies ( Sum R17 ) = ( 0 )))
proof
let R17 being (FinSequence of ( REAL ));
assume L606: ( len R17 ) = ( 0 );
L607: ( addreal ) is  having_a_unity by RVSUM_1:1 , SETWISEO:def 2;
thus L608: ( Sum R17 ) = ( ( addreal ) $$ R17 ) by RVSUM_1:def 12
.= ( 0 ) by L606 , L607 , BINOP_2:2 , FINSOP_1:def 1;
end;
theorem
L609: (for R17 being (FinSequence of ( REAL )) holds (( len R17 ) >= 1 implies (ex B81 being Real_Sequence st (( B81 . 1 ) = ( R17 . 1 ) & (for R1 being Nat holds ((( 0 ) <> R1 & R1 < ( len R17 )) implies ( B81 . ( R1 + 1 ) ) = ( ( B81 . R1 ) + ( R17 . ( R1 + 1 ) ) ))) & ( Sum R17 ) = ( B81 . ( len R17 ) )))))
proof
let R17 being (FinSequence of ( REAL ));
assume L610: ( len R17 ) >= 1;
consider C92 being (Function of ( NAT ) , ( REAL )) such that L611: ( C92 . 1 ) = ( R17 . 1 ) and L612: (for B82 being (Element of ( NAT )) holds ((( 0 ) <> B82 & B82 < ( len R17 )) implies ( C92 . ( B82 + 1 ) ) = ( ( addreal ) . (( C92 . B82 ) , ( R17 . ( B82 + 1 ) )) ))) and L613: ( ( addreal ) "**" R17 ) = ( C92 . ( len R17 ) ) by L610 , FINSOP_1:1;
take C92;
L614: (for R1 being Nat holds ((( 0 ) <> R1 & R1 < ( len R17 )) implies ( C92 . ( R1 + 1 ) ) = ( ( C92 . R1 ) + ( R17 . ( R1 + 1 ) ) )))
proof
let R1 being Nat;
reconsider D23 = R1 as (Element of ( NAT )) by ORDINAL1:def 12;
assume that
L615: ( 0 ) <> R1
and
L616: R1 < ( len R17 );
thus L617: ( C92 . ( R1 + 1 ) ) = ( ( addreal ) . (( C92 . D23 ) , ( R17 . ( D23 + 1 ) )) ) by L612 , L615 , L616
.= ( ( C92 . R1 ) + ( R17 . ( R1 + 1 ) ) ) by BINOP_2:def 9;
end;
thus L618: thesis by L614 , L611 , L613 , RVSUM_1:def 12;
end;
theorem
L619: (for R21 being non  empty set holds (for R22 being (SigmaField of R21) holds (for R25 being (Probability of R22) holds (for B83 being (FinSequence of R22) holds (for B84 being (SetSequence of R22) holds (((for R3 being Nat holds (R3 in ( dom B83 ) implies ( B84 . R3 ) = ( B83 . R3 ))) & (for R3 being Nat holds ((not R3 in ( dom B83 )) implies ( B84 . R3 ) = ( {} )))) implies (( Partial_Sums ( R25 * B84 ) ) is  convergent & ( Sum ( R25 * B84 ) ) = ( ( Partial_Sums ( R25 * B84 ) ) . ( len B83 ) ) & ( R25 . ( Union B84 ) ) <= ( Sum ( R25 * B84 ) ) & ( Sum ( R25 * B83 ) ) = ( Sum ( R25 * B84 ) ))))))))
proof
let R21 being non  empty set;
let R22 being (SigmaField of R21);
let R25 being (Probability of R22);
let C93 being (FinSequence of R22);
let C94 being (SetSequence of R22);
assume that
L620: (for R3 being Nat holds (R3 in ( dom C93 ) implies ( C94 . R3 ) = ( C93 . R3 )))
and
L621: (for R3 being Nat holds ((not R3 in ( dom C93 )) implies ( C94 . R3 ) = ( {} )));
L622: ( C94 . ( 0 ) ) = ( {} ) by L620 , L621 , L538;
L623: ( ( R25 * C94 ) . ( 0 ) ) = ( R25 . ( C94 . ( 0 ) ) ) by FUNCT_2:15
.= ( 0 ) by L622 , VALUED_0:def 19;
L624: (for R3 being Nat holds (R3 in ( dom C93 ) implies ( ( R25 * C94 ) . R3 ) = ( ( R25 * C93 ) . R3 )))
proof
let R3 being Nat;
assume that
L625: R3 in ( dom C93 );
L626: R3 in ( NAT ) by ORDINAL1:def 12;
thus L627: ( ( R25 * C94 ) . R3 ) = ( R25 . ( C94 . R3 ) ) by L626 , FUNCT_2:15
.= ( R25 . ( C93 . R3 ) ) by L620 , L625
.= ( ( R25 * C93 ) . R3 ) by L625 , FUNCT_1:13;
end;
L628: 1 = ( ( 0 ) + 1 );
L629: ( ( Partial_Sums ( R25 * C94 ) ) . 1 ) = ( ( ( Partial_Sums ( R25 * C94 ) ) . ( 0 ) ) + ( ( R25 * C94 ) . 1 ) ) by L628 , SERIES_1:def 1
.= ( ( ( R25 * C94 ) . ( 0 ) ) + ( ( R25 * C94 ) . 1 ) ) by SERIES_1:def 1
.= ( ( R25 * C94 ) . 1 ) by L623;
L630: (( len C93 ) >= 1 implies (( ( Partial_Sums ( R25 * C94 ) ) . 1 ) = ( ( R25 * C93 ) . 1 ) & (for R2 being Nat holds ((R2 <> ( 0 ) & R2 < ( len C93 )) implies ( ( Partial_Sums ( R25 * C94 ) ) . ( R2 + 1 ) ) = ( ( ( Partial_Sums ( R25 * C94 ) ) . R2 ) + ( ( R25 * C93 ) . ( R2 + 1 ) ) )))))
proof
assume L631: ( len C93 ) >= 1;
L632: 1 in ( dom C93 ) by L631 , L9;
thus L633: ( ( Partial_Sums ( R25 * C94 ) ) . 1 ) = ( ( R25 * C93 ) . 1 ) by L632 , L624 , L629;
thus L634: (for R2 being Nat holds ((R2 <> ( 0 ) & R2 < ( len C93 )) implies ( ( Partial_Sums ( R25 * C94 ) ) . ( R2 + 1 ) ) = ( ( ( Partial_Sums ( R25 * C94 ) ) . R2 ) + ( ( R25 * C93 ) . ( R2 + 1 ) ) )))
proof
let R2 being Nat;
assume that
L635: R2 <> ( 0 )
and
L636: R2 < ( len C93 );
reconsider D24 = R2 as (Element of ( NAT )) by ORDINAL1:def 12;
L637: ( R2 + 1 ) in ( Seg ( len C93 ) ) by L636 , FINSEQ_3:11;
L638: ( R2 + 1 ) in ( dom C93 ) by L637 , FINSEQ_1:def 3;
thus L639: ( ( Partial_Sums ( R25 * C94 ) ) . ( R2 + 1 ) ) = ( ( ( Partial_Sums ( R25 * C94 ) ) . D24 ) + ( ( R25 * C94 ) . ( D24 + 1 ) ) ) by SERIES_1:def 1
.= ( ( ( Partial_Sums ( R25 * C94 ) ) . R2 ) + ( ( R25 * C93 ) . ( R2 + 1 ) ) ) by L624 , L638;
end;

end;
defpred S14[ Nat ] means ( ( Partial_Sums ( R25 * C94 ) ) . ( ( ( len C93 ) + 1 ) + $1 ) ) = ( ( Partial_Sums ( R25 * C94 ) ) . ( len C93 ) );
L635: (for B85 being Nat holds ( ( R25 * C94 ) . ( ( ( len C93 ) + 1 ) + B85 ) ) = ( 0 ))
proof
set D25 = ( ( len C93 ) + 1 );
let C95 being Nat;
reconsider D26 = C95 as (Element of ( NAT )) by ORDINAL1:def 12;
L636: ( D25 + C95 ) >= D25 by NAT_1:11;
L637: ( ( ( len C93 ) + 1 ) + C95 ) > ( len C93 ) by L636 , L1;
L638: (not ( ( ( len C93 ) + 1 ) + C95 ) in ( dom C93 )) by L637 , FINSEQ_3:25;
L639: ( C94 . ( ( ( len C93 ) + 1 ) + C95 ) ) = ( {} ) by L638 , L621;
thus L640: ( ( R25 * C94 ) . ( ( ( len C93 ) + 1 ) + C95 ) ) = ( R25 . ( C94 . ( ( ( len C93 ) + 1 ) + D26 ) ) ) by FUNCT_2:15
.= ( 0 ) by L639 , VALUED_0:def 19;
end;
L641: (for R3 being Nat holds (S14[ R3 ] implies S14[ ( R3 + 1 ) ]))
proof
let R3 being Nat;
assume that
L642: ( ( Partial_Sums ( R25 * C94 ) ) . ( ( ( len C93 ) + 1 ) + R3 ) ) = ( ( Partial_Sums ( R25 * C94 ) ) . ( len C93 ) );
reconsider D27 = R3 as (Element of ( NAT )) by ORDINAL1:def 12;
L643: ( ( Partial_Sums ( R25 * C94 ) ) . ( ( ( ( len C93 ) + 1 ) + R3 ) + 1 ) ) = ( ( ( Partial_Sums ( R25 * C94 ) ) . ( ( ( len C93 ) + 1 ) + D27 ) ) + ( ( R25 * C94 ) . ( ( ( len C93 ) + 1 ) + ( D27 + 1 ) ) ) ) by SERIES_1:def 1
.= ( ( ( Partial_Sums ( R25 * C94 ) ) . ( ( ( len C93 ) + 1 ) + R3 ) ) + ( 0 ) ) by L635;
thus L644: thesis by L643 , L642;
end;
L645:
now
let C96 being (Element of ( NAT ));
L646: ( ( Partial_Diff_Union C94 ) . C96 ) c= ( C94 . C96 ) by L254;
thus L647: ( ( R25 * ( Partial_Diff_Union C94 ) ) . C96 ) <= ( ( R25 * C94 ) . C96 ) by L646 , L25;
end;
L648: (for B86 being (Element of ( NAT )) holds ( ( Partial_Sums ( R25 * ( Partial_Diff_Union C94 ) ) ) . B86 ) <= ( ( Partial_Sums ( R25 * C94 ) ) . B86 )) by L645 , SERIES_1:14;
L649: ( Partial_Sums ( R25 * ( Partial_Diff_Union C94 ) ) ) is  convergent by L402;
L650: ( ( Partial_Sums ( R25 * C94 ) ) . ( ( ( len C93 ) + 1 ) + ( 0 ) ) ) = ( ( ( Partial_Sums ( R25 * C94 ) ) . ( len C93 ) ) + ( ( R25 * C94 ) . ( ( ( len C93 ) + 1 ) + ( 0 ) ) ) ) by SERIES_1:def 1
.= ( ( ( Partial_Sums ( R25 * C94 ) ) . ( len C93 ) ) + ( 0 ) ) by L635;
L651: S14[ ( 0 ) ] by L650;
L652: (for R3 being Nat holds S14[ R3 ]) from NAT_1:sch 2(L651 , L641);
L653: (for R2 being Nat holds (( ( len C93 ) + 1 ) <= R2 implies ( ( Partial_Sums ( R25 * C94 ) ) . R2 ) = ( ( Partial_Sums ( R25 * C94 ) ) . ( len C93 ) )))
proof
let R2 being Nat;
assume L654: ( ( len C93 ) + 1 ) <= R2;
L655: (ex B87 being Nat st R2 = ( ( ( len C93 ) + 1 ) + B87 )) by L654 , NAT_1:10;
thus L656: thesis by L655 , L652;
end;
L657: ( lim ( Partial_Sums ( R25 * C94 ) ) ) = ( ( Partial_Sums ( R25 * C94 ) ) . ( len C93 ) ) by L653 , L12;
L658: ( Sum ( R25 * C94 ) ) = ( ( Partial_Sums ( R25 * C94 ) ) . ( len C93 ) ) by L657 , SERIES_1:def 3;
L659: ( Sum ( R25 * C93 ) ) = ( Sum ( R25 * C94 ) )
proof
L660:
now
per cases ;
suppose L661: ( len C93 ) = ( 0 );

L662: (( len ( R25 * C93 ) ) = ( 0 ) & ( Sum ( R25 * C94 ) ) = ( 0 )) by L661 , L623 , L658 , L601 , SERIES_1:def 1;
thus L663: thesis by L662 , L605;
end;
suppose L664: ( len C93 ) <> ( 0 );

L665: 1 <= ( len C93 ) by L664 , NAT_1:14;
L666: 1 <= ( len ( R25 * C93 ) ) by L665 , L601;
consider C97 being Real_Sequence such that L667: ( C97 . 1 ) = ( ( R25 * C93 ) . 1 ) and L668: (for R1 being Nat holds ((( 0 ) <> R1 & R1 < ( len ( R25 * C93 ) )) implies ( C97 . ( R1 + 1 ) ) = ( ( C97 . R1 ) + ( ( R25 * C93 ) . ( R1 + 1 ) ) ))) and L669: ( Sum ( R25 * C93 ) ) = ( C97 . ( len ( R25 * C93 ) ) ) by L666 , L609;
defpred S15[ set , set ] means (ex R1 being Nat st (R1 = $1 & (R1 = ( 0 ) implies $2 = ( 0 )) & ((R1 <> ( 0 ) & R1 <= ( len ( R25 * C93 ) )) implies $2 = ( C97 . R1 )) & ((R1 <> ( 0 ) & R1 > ( len ( R25 * C93 ) )) implies $2 = ( ( Partial_Sums ( R25 * C94 ) ) . ( len ( R25 * C93 ) ) ))));
L670: (ex B88 being Real_Sequence st (for R1 being Nat holds ((R1 = ( 0 ) implies ( B88 . R1 ) = ( 0 )) & ((R1 <> ( 0 ) & R1 <= ( len ( R25 * C93 ) )) implies ( B88 . R1 ) = ( C97 . R1 )) & ((R1 <> ( 0 ) & R1 > ( len ( R25 * C93 ) )) implies ( B88 . R1 ) = ( ( Partial_Sums ( R25 * C94 ) ) . ( len ( R25 * C93 ) ) )))))
proof
L671: (for R9 being set holds (R9 in ( NAT ) implies (ex R10 being set st S15[ R9 , R10 ])))
proof
let C98 being set;
assume L672: C98 in ( NAT );
reconsider D28 = C98 as (Element of ( NAT )) by L672;
L673:
now
per cases ;
case L674: D28 = ( 0 );
thus L675: S15[ C98 , ( 0 ) ] by L674;
end;
case L676: (D28 <> ( 0 ) & D28 <= ( len ( R25 * C93 ) ));
thus L677: S15[ C98 , ( C97 . D28 ) ] by L676;
end;
case L678: (D28 <> ( 0 ) & (not D28 <= ( len ( R25 * C93 ) )));
thus L679: S15[ C98 , ( ( Partial_Sums ( R25 * C94 ) ) . ( len ( R25 * C93 ) ) ) ] by L678;
end;
end;
thus L681: thesis by L673;
end;
consider C99 being Function such that L682: (( dom C99 ) = ( NAT ) & (for R9 being set holds (R9 in ( NAT ) implies S15[ R9 , ( C99 . R9 ) ]))) from CLASSES1:sch 1(L671);
L683:
now
let R9 being set;
assume L684: R9 in ( NAT );
L685: (ex R1 being Nat st (R1 = R9 & (R1 = ( 0 ) implies ( C99 . R9 ) = ( 0 )) & ((R1 <> ( 0 ) & R1 <= ( len ( R25 * C93 ) )) implies ( C99 . R9 ) = ( C97 . R1 )) & ((R1 <> ( 0 ) & R1 > ( len ( R25 * C93 ) )) implies ( C99 . R9 ) = ( ( Partial_Sums ( R25 * C94 ) ) . ( len ( R25 * C93 ) ) )))) by L684 , L682;
thus L686: ( C99 . R9 ) is  real by L685;
end;
reconsider D29 = C99 as Real_Sequence by L683 , L682 , SEQ_1:1;
take D30 = D29;
let R1 being Nat;
L687: R1 in ( NAT ) by ORDINAL1:def 12;
L688: (ex R3 being Nat st (R3 = R1 & (R3 = ( 0 ) implies ( D30 . R1 ) = ( 0 )) & ((R3 <> ( 0 ) & R3 <= ( len ( R25 * C93 ) )) implies ( D30 . R1 ) = ( C97 . R3 )) & ((R3 <> ( 0 ) & R3 > ( len ( R25 * C93 ) )) implies ( D30 . R1 ) = ( ( Partial_Sums ( R25 * C94 ) ) . ( len ( R25 * C93 ) ) )))) by L687 , L682;
thus L689: thesis by L688;
end;
consider C100 being Real_Sequence such that L690: (for R1 being Nat holds ((R1 = ( 0 ) implies ( C100 . R1 ) = ( 0 )) & ((R1 <> ( 0 ) & R1 <= ( len ( R25 * C93 ) )) implies ( C100 . R1 ) = ( C97 . R1 )) & ((R1 <> ( 0 ) & R1 > ( len ( R25 * C93 ) )) implies ( C100 . R1 ) = ( ( Partial_Sums ( R25 * C94 ) ) . ( len ( R25 * C93 ) ) )))) by L670;
defpred S16[ Nat ] means ( C100 . $1 ) = ( ( Partial_Sums ( R25 * C94 ) ) . $1 );
L691: (for R3 being Nat holds (S16[ R3 ] implies S16[ ( R3 + 1 ) ]))
proof
let R3 being Nat;
assume that
L692: S16[ R3 ];
L693:
now
per cases ;
case L694: R3 = ( 0 );
thus L695: ( C100 . 1 ) = ( ( Partial_Sums ( R25 * C94 ) ) . 1 ) by L630 , L664 , L666 , L667 , L690 , NAT_1:14;
end;
case L696: (R3 <> ( 0 ) & R3 <= ( ( len ( R25 * C93 ) ) - 1 ));
L697: ( R3 + ( 0 ) ) < ( ( ( len ( R25 * C93 ) ) - 1 ) + 1 ) by L696 , XREAL_1:8;
L698: R3 < ( len C93 ) by L697 , L601;
L699: ( R3 + 1 ) <= ( ( ( len ( R25 * C93 ) ) - 1 ) + 1 ) by L696 , XREAL_1:7;
thus L700: ( C100 . ( R3 + 1 ) ) = ( C97 . ( R3 + 1 ) ) by L699 , L690
.= ( ( C97 . R3 ) + ( ( R25 * C93 ) . ( R3 + 1 ) ) ) by L668 , L696 , L697
.= ( ( ( Partial_Sums ( R25 * C94 ) ) . R3 ) + ( ( R25 * C93 ) . ( R3 + 1 ) ) ) by L690 , L692 , L696 , L697
.= ( ( Partial_Sums ( R25 * C94 ) ) . ( R3 + 1 ) ) by L630 , L664 , L696 , L698 , NAT_1:14;
end;
case L701: (R3 <> ( 0 ) & (not R3 <= ( ( len ( R25 * C93 ) ) - 1 )));
L702: ( R3 + 1 ) > ( ( ( len ( R25 * C93 ) ) - 1 ) + 1 ) by L701 , XREAL_1:8;
L703: ( R3 + 1 ) >= ( ( len ( R25 * C93 ) ) + 1 ) by L702 , NAT_1:13;
consider C101 being Nat such that L704: ( R3 + 1 ) = ( ( ( len ( R25 * C93 ) ) + 1 ) + C101 ) by L703 , NAT_1:10;
thus L705: ( C100 . ( R3 + 1 ) ) = ( ( Partial_Sums ( R25 * C94 ) ) . ( len ( R25 * C93 ) ) ) by L690 , L702
.= ( ( Partial_Sums ( R25 * C94 ) ) . ( len C93 ) ) by L601
.= ( ( Partial_Sums ( R25 * C94 ) ) . ( ( ( len C93 ) + 1 ) + C101 ) ) by L652
.= ( ( Partial_Sums ( R25 * C94 ) ) . ( R3 + 1 ) ) by L704 , L601;
end;
end;
thus L707: thesis by L693;
end;
L708: ( C100 . ( 0 ) ) = ( ( R25 * C94 ) . ( 0 ) ) by L623 , L690
.= ( ( Partial_Sums ( R25 * C94 ) ) . ( 0 ) ) by SERIES_1:def 1;
L709: S16[ ( 0 ) ] by L708;
L710: (for R3 being Nat holds S16[ R3 ]) from NAT_1:sch 2(L709 , L691);
L711: ( len ( R25 * C93 ) ) <> ( 0 ) by L664 , L601;
L712: ( C100 . ( len ( R25 * C93 ) ) ) = ( Sum ( R25 * C93 ) ) by L711 , L669 , L690;
thus L713: ( Sum ( R25 * C93 ) ) = ( ( Partial_Sums ( R25 * C94 ) ) . ( len ( R25 * C93 ) ) ) by L712 , L710
.= ( Sum ( R25 * C94 ) ) by L658 , L601;
end;
end;
thus L715: thesis by L660;
end;
L716: ( Partial_Sums ( R25 * C94 ) ) is  convergent by L653 , L12;
L717: ( lim ( Partial_Sums ( R25 * ( Partial_Diff_Union C94 ) ) ) ) <= ( lim ( Partial_Sums ( R25 * C94 ) ) ) by L716 , L649 , L648 , SEQ_2:18;
L718: ( Sum ( R25 * ( Partial_Diff_Union C94 ) ) ) <= ( lim ( Partial_Sums ( R25 * C94 ) ) ) by L717 , SERIES_1:def 3;
L719: ( Sum ( R25 * ( Partial_Diff_Union C94 ) ) ) <= ( Sum ( R25 * C94 ) ) by L718 , SERIES_1:def 3;
L720: ( R25 . ( Union ( Partial_Diff_Union C94 ) ) ) <= ( Sum ( R25 * C94 ) ) by L719 , L406;
thus L721: thesis by L720 , L653 , L657 , L659 , L12 , L269 , SERIES_1:def 3;
end;
theorem
L722: (for R21 being non  empty set holds (for R22 being (SigmaField of R21) holds (for R25 being (Probability of R22) holds (for R26 being (FinSequence of R22) holds (( R25 . ( Union R26 ) ) <= ( Sum ( R25 * R26 ) ) & (R26 is  disjoint_valued implies ( R25 . ( Union R26 ) ) = ( Sum ( R25 * R26 ) )))))))
proof
let R21 being non  empty set;
let R22 being (SigmaField of R21);
let R25 being (Probability of R22);
let R26 being (FinSequence of R22);
consider C102 being (SetSequence of R22) such that L723: (for R3 being Nat holds (R3 in ( dom R26 ) implies ( C102 . R3 ) = ( R26 . R3 ))) and L724: (for R3 being Nat holds ((not R3 in ( dom R26 )) implies ( C102 . R3 ) = ( {} ))) by L552;
L725: ( R25 . ( Union C102 ) ) = ( R25 . ( Union R26 ) ) by L723 , L724 , L538;
L726: ( R25 . ( Union R26 ) ) <= ( Sum ( R25 * C102 ) ) by L725 , L723 , L724 , L619;
thus L727: ( R25 . ( Union R26 ) ) <= ( Sum ( R25 * R26 ) ) by L726 , L723 , L724 , L619;
assume L728: R26 is  disjoint_valued;
L729: (R26 is  disjoint_valued implies C102 is  disjoint_valued)
proof
assume L730: R26 is  disjoint_valued;
L731: (for B89 , B90 being (Element of ( NAT )) holds (B89 <> B90 implies ( C102 . B89 ) misses ( C102 . B90 )))
proof
let C103 , C104 being (Element of ( NAT ));
assume that
L732: C103 <> C104;
per cases ;
suppose L733: (C103 in ( dom R26 ) & C104 in ( dom R26 ));

L734: ( R26 . C103 ) misses ( R26 . C104 ) by L730 , L732 , PROB_2:def 2;
L735: ( C102 . C103 ) misses ( R26 . C104 ) by L734 , L723 , L733;
thus L736: thesis by L735 , L723 , L733;
end;
suppose L737: (not (C103 in ( dom R26 ) & C104 in ( dom R26 )));

L738: (( C102 . C103 ) = ( {} ) or ( C102 . C104 ) = ( {} )) by L737 , L724;
thus L739: thesis by L738 , XBOOLE_1:65;
end;
end;
thus L741: thesis by L731 , PROB_2:def 3;
end;
thus L742: ( R25 . ( Union R26 ) ) = ( R25 . ( Union C102 ) ) by L723 , L724 , L538
.= ( Sum ( R25 * C102 ) ) by L729 , L728 , L406
.= ( Sum ( R25 * R26 ) ) by L723 , L724 , L619;
end;
definition
canceled 2;
let R12 being set;
let C105 being (Subset-Family of R12);
attr C105 is  non-decreasing-closed
means
:L743: (for B91 being (SetSequence of R12) holds ((B91 is  non-descending & ( rng B91 ) c= C105) implies ( Union B91 ) in C105));
attr C105 is  non-increasing-closed
means
:L744: (for B92 being (SetSequence of R12) holds ((B92 is  non-ascending & ( rng B92 ) c= C105) implies ( Intersection B92 ) in C105));
end;
theorem
L746: (for R12 being set holds (for B93 being (Subset-Family of R12) holds (B93 is  non-decreasing-closed iff (for B94 being (SetSequence of R12) holds ((B94 is  non-descending & ( rng B94 ) c= B93) implies ( lim B94 ) in B93)))))
proof
let R12 being set;
let C106 being (Subset-Family of R12);
thus L747: (C106 is  non-decreasing-closed implies (for B95 being (SetSequence of R12) holds ((B95 is  non-descending & ( rng B95 ) c= C106) implies ( lim B95 ) in C106)))
proof
assume L748: C106 is  non-decreasing-closed;
L749:
now
let C107 being (SetSequence of R12);
assume that
L750: C107 is  non-descending
and
L751: ( rng C107 ) c= C106;
L752: ( Union C107 ) in C106 by L748 , L750 , L751 , L743;
thus L753: ( lim C107 ) in C106 by L752 , L750 , SETLIM_1:63;
end;
thus L754: thesis by L749;
end;

assume L755: (for B96 being (SetSequence of R12) holds ((B96 is  non-descending & ( rng B96 ) c= C106) implies ( lim B96 ) in C106));
L756: (for B97 being (SetSequence of R12) holds ((B97 is  non-descending & ( rng B97 ) c= C106) implies ( Union B97 ) in C106))
proof
let C108 being (SetSequence of R12);
assume that
L757: C108 is  non-descending
and
L758: ( rng C108 ) c= C106;
L759: ( lim C108 ) in C106 by L755 , L757 , L758;
thus L760: thesis by L759 , L757 , SETLIM_1:63;
end;
thus L761: thesis by L756 , L743;
end;
theorem
L762: (for R12 being set holds (for B98 being (Subset-Family of R12) holds (B98 is  non-increasing-closed iff (for B99 being (SetSequence of R12) holds ((B99 is  non-ascending & ( rng B99 ) c= B98) implies ( lim B99 ) in B98)))))
proof
let R12 being set;
let C109 being (Subset-Family of R12);
thus L763: (C109 is  non-increasing-closed implies (for B100 being (SetSequence of R12) holds ((B100 is  non-ascending & ( rng B100 ) c= C109) implies ( lim B100 ) in C109)))
proof
assume L764: C109 is  non-increasing-closed;
L765:
now
let C110 being (SetSequence of R12);
assume that
L766: C110 is  non-ascending
and
L767: ( rng C110 ) c= C109;
L768: ( Intersection C110 ) in C109 by L764 , L766 , L767 , L744;
thus L769: ( lim C110 ) in C109 by L768 , L766 , SETLIM_1:64;
end;
thus L770: thesis by L765;
end;

assume L771: (for B101 being (SetSequence of R12) holds ((B101 is  non-ascending & ( rng B101 ) c= C109) implies ( lim B101 ) in C109));
L772: (for B102 being (SetSequence of R12) holds ((B102 is  non-ascending & ( rng B102 ) c= C109) implies ( Intersection B102 ) in C109))
proof
let C111 being (SetSequence of R12);
assume that
L773: C111 is  non-ascending
and
L774: ( rng C111 ) c= C109;
L775: ( lim C111 ) in C109 by L771 , L773 , L774;
thus L776: thesis by L775 , L773 , SETLIM_1:64;
end;
thus L777: thesis by L772 , L744;
end;
theorem
L778: (for R12 being set holds (( bool R12 ) is  non-decreasing-closed & ( bool R12 ) is  non-increasing-closed))
proof
let R12 being set;
L779: (for B103 being (SetSequence of R12) holds ((B103 is  non-descending & ( rng B103 ) c= ( bool R12 )) implies ( Union B103 ) in ( bool R12 )));
thus L780: ( bool R12 ) is  non-decreasing-closed by L779 , L743;
L781: (for B104 being (SetSequence of R12) holds ((B104 is  non-ascending & ( rng B104 ) c= ( bool R12 )) implies ( Intersection B104 ) in ( bool R12 )));
thus L782: thesis by L781 , L744;
end;
registration
let R12 being set;
cluster  non-decreasing-closed  non-increasing-closed for (Subset-Family of R12);
existence
proof
take ( bool R12 );
thus L783: thesis by L778;
end;
end;
definition
let R12 being set;
mode MonotoneClass of R12
 is  non-decreasing-closed  non-increasing-closed (Subset-Family of R12);
end;
theorem
L786: (for R12 being set holds (for R14 being set holds (R14 is (MonotoneClass of R12) iff (R14 c= ( bool R12 ) & (for B105 being (SetSequence of R12) holds ((B105 is  monotone & ( rng B105 ) c= R14) implies ( lim B105 ) in R14))))))
proof
let R12 being set;
let R14 being set;
thus L787: (R14 is (MonotoneClass of R12) implies (R14 c= ( bool R12 ) & (for B106 being (SetSequence of R12) holds ((B106 is  monotone & ( rng B106 ) c= R14) implies ( lim B106 ) in R14))))
proof
assume L788: R14 is (MonotoneClass of R12);
reconsider D31 = R14 as (Subset-Family of R12) by L788;
L789: (for B107 being (SetSequence of R12) holds ((B107 is  monotone & ( rng B107 ) c= D31) implies ( lim B107 ) in D31))
proof
let C112 being (SetSequence of R12);
assume that
L790: C112 is  monotone
and
L791: ( rng C112 ) c= D31;
per cases  by L790 , SETLIM_1:def 1;
suppose L792: C112 is  non-descending;

thus L793: thesis by L792 , L788 , L791 , L746;
end;
suppose L794: C112 is  non-ascending;

thus L795: thesis by L794 , L788 , L791 , L762;
end;
end;
thus L797: thesis by L789;
end;

assume that
L798: R14 c= ( bool R12 )
and
L799: (for B108 being (SetSequence of R12) holds ((B108 is  monotone & ( rng B108 ) c= R14) implies ( lim B108 ) in R14));
reconsider D32 = R14 as (Subset-Family of R12) by L798;
L800: (for B109 being (SetSequence of R12) holds ((B109 is  non-ascending & ( rng B109 ) c= D32) implies ( lim B109 ) in D32))
proof
let C113 being (SetSequence of R12);
assume L801: (C113 is  non-ascending & ( rng C113 ) c= D32);
L802: ((C113 is  monotone & ( rng C113 ) c= D32) implies ( lim C113 ) in D32) by L799;
thus L803: thesis by L802 , L801 , SETLIM_1:def 1;
end;
L804: (for B110 being (SetSequence of R12) holds ((B110 is  non-descending & ( rng B110 ) c= D32) implies ( lim B110 ) in D32))
proof
let C114 being (SetSequence of R12);
assume L805: (C114 is  non-descending & ( rng C114 ) c= D32);
L806: ((C114 is  monotone & ( rng C114 ) c= D32) implies ( lim C114 ) in D32) by L799;
thus L807: thesis by L806 , L805 , SETLIM_1:def 1;
end;
thus L808: thesis by L804 , L800 , L746 , L762;
end;
theorem
L809: (for R12 being set holds (for B111 being (Field_Subset of R12) holds (B111 is (SigmaField of R12) iff B111 is (MonotoneClass of R12))))
proof
let R12 being set;
let C115 being (Field_Subset of R12);
thus L810: (C115 is (SigmaField of R12) implies C115 is (MonotoneClass of R12))
proof
assume L811: C115 is (SigmaField of R12);
reconsider D33 = C115 as (SigmaField of R12) by L811;
L812: (for B112 being (SetSequence of R12) holds ((B112 is  non-descending & ( rng B112 ) c= D33) implies ( Union B112 ) in D33))
proof
let C116 being (SetSequence of R12);
assume that
L813: C116 is  non-descending
and
L814: ( rng C116 ) c= D33;
reconsider D34 = C116 as (SetSequence of D33) by L814 , RELAT_1:def 19;
L815: ( Union D34 ) in D33 by PROB_1:17;
thus L816: thesis by L815;
end;
L817: D33 is  non-increasing-closed
proof
let C117 being (SetSequence of R12);
assume that
L818: C117 is  non-ascending;
assume L819: ( rng C117 ) c= D33;
thus L820: thesis by L819 , PROB_1:def 6;
end;
thus L821: thesis by L817 , L812 , L743;
end;

assume L822: C115 is (MonotoneClass of R12);
L823: (for B113 being (SetSequence of R12) holds (( rng B113 ) c= C115 implies ( Intersection B113 ) in C115))
proof
let R15 being (SetSequence of R12);
assume that
L824: ( rng R15 ) c= C115;
set D35 = ( Partial_Intersection R15 );
defpred S17[ Nat ] means ( D35 . $1 ) in C115;
L825: (for R3 being Nat holds (S17[ R3 ] implies S17[ ( R3 + 1 ) ]))
proof
let R3 being Nat;
assume L826: ( D35 . R3 ) in C115;
L827: (( R15 . ( R3 + 1 ) ) in ( rng R15 ) & ( D35 . ( R3 + 1 ) ) = ( ( D35 . R3 ) /\ ( R15 . ( R3 + 1 ) ) )) by L50 , NAT_1:51;
thus L828: ( D35 . ( R3 + 1 ) ) in C115 by L827 , L824 , L826 , FINSUB_1:def 2;
end;
L829: (( R15 . ( 0 ) ) in ( rng R15 ) & ( D35 . ( 0 ) ) = ( R15 . ( 0 ) )) by L50 , NAT_1:51;
L830: S17[ ( 0 ) ] by L829 , L824;
L831: (for R3 being Nat holds S17[ R3 ]) from NAT_1:sch 2(L830 , L825);
L832: ( rng D35 ) c= C115 by L831 , NAT_1:52;
L833: D35 is  non-ascending by L112;
L834: ( Intersection D35 ) in C115 by L833 , L822 , L832 , L744;
thus L835: thesis by L834 , L172;
end;
thus L836: thesis by L823 , PROB_1:def 6;
end;
theorem
L837: (for R21 being non  empty set holds ( bool R21 ) is (MonotoneClass of R21)) by L778;
definition
let R21 being non  empty set;
let C118 being (Subset-Family of R21);
func monotoneclass C118 -> (MonotoneClass of R21) means 
:L838: (C118 c= it & (for R14 being set holds ((C118 c= R14 & R14 is (MonotoneClass of R21)) implies it c= R14)));
existence
proof
set D36 = { B114 where B114 is (Subset-Family of R21) : (C118 c= B114 & B114 is (MonotoneClass of R21)) };
set D37 = ( meet D36 );
L839: (for R14 being set holds (R14 in D36 implies C118 c= R14))
proof
let R14 being set;
assume L840: R14 in D36;
L841: (ex B115 being (Subset-Family of R21) st (R14 = B115 & C118 c= B115 & B115 is (MonotoneClass of R21))) by L840;
thus L842: thesis by L841;
end;
L843: ( bool R21 ) is (MonotoneClass of R21) by L778;
L844: ( bool R21 ) in D36 by L843;
L845: (for B116 being (SetSequence of R21) holds ((B116 is  monotone & ( rng B116 ) c= D37) implies ( lim B116 ) in D37))
proof
let C119 being (SetSequence of R21);
assume that
L846: C119 is  monotone
and
L847: ( rng C119 ) c= D37;
L848:
now
let R14 being set;
assume L849: R14 in D36;
L850:
now
let C120 being Nat;
L851: ( C119 . C120 ) in ( rng C119 ) by NAT_1:51;
thus L852: ( C119 . C120 ) in R14 by L851 , L847 , L849 , SETFAM_1:def 1;
end;
L853: ( rng C119 ) c= R14 by L850 , NAT_1:52;
L854: (ex B117 being (Subset-Family of R21) st (R14 = B117 & C118 c= B117 & B117 is (MonotoneClass of R21))) by L849;
thus L855: ( lim C119 ) in R14 by L854 , L846 , L853 , L786;
end;
thus L856: thesis by L848 , L844 , SETFAM_1:def 1;
end;
reconsider D38 = D37 as (MonotoneClass of R21) by L845 , L844 , L786 , SETFAM_1:3;
take D38;
L857: (for R14 being set holds ((C118 c= R14 & R14 is (MonotoneClass of R21)) implies D38 c= R14))
proof
let R14 being set;
assume L858: (C118 c= R14 & R14 is (MonotoneClass of R21));
L859: R14 in D36 by L858;
thus L860: thesis by L859 , SETFAM_1:3;
end;
thus L861: thesis by L857 , L844 , L839 , SETFAM_1:5;
end;
uniqueness
proof
let C121 , C122 being (MonotoneClass of R21);
assume that
L862: C118 c= C121
and
L863: ((for R14 being set holds ((C118 c= R14 & R14 is (MonotoneClass of R21)) implies C121 c= R14)) & C118 c= C122)
and
L864: (for R14 being set holds ((C118 c= R14 & R14 is (MonotoneClass of R21)) implies C122 c= R14));
thus L865: C121 c= C122 by L863;
thus L866: thesis by L862 , L864;
end;
end;
theorem
L868: (for R21 being non  empty set holds (for B118 being (Field_Subset of R21) holds ( monotoneclass B118 ) is (Field_Subset of R21)))
proof
let R21 being non  empty set;
let C123 being (Field_Subset of R21);
L869: C123 c= ( monotoneclass C123 ) by L838;
reconsider D39 = ( monotoneclass C123 ) as non  empty (Subset-Family of R21) by L869;
L870: (for R10 being set holds (for R13 being set holds (R13 = { B119 where B119 is (Element of D39) : (( R10 \ B119 ) in D39 & ( B119 \ R10 ) in D39 & ( B119 /\ R10 ) in D39) } implies (for R11 being set holds (R11 in R13 implies (R11 in D39 & ( R10 \ R11 ) in D39 & ( R11 \ R10 ) in D39 & ( R11 /\ R10 ) in D39))))))
proof
let R10 being set;
let R13 being set;
assume L871: R13 = { B120 where B120 is (Element of D39) : (( R10 \ B120 ) in D39 & ( B120 \ R10 ) in D39 & ( B120 /\ R10 ) in D39) };
thus L872: (for R11 being set holds (R11 in R13 implies (R11 in D39 & ( R10 \ R11 ) in D39 & ( R11 \ R10 ) in D39 & ( R11 /\ R10 ) in D39)))
proof
let R11 being set;
assume L873: R11 in R13;
L874: (ex B121 being (Element of D39) st (R11 = B121 & ( R10 \ B121 ) in D39 & ( B121 \ R10 ) in D39 & ( B121 /\ R10 ) in D39)) by L873 , L871;
thus L875: thesis by L874;
end;

end;
L873: (for B122 being (Element of D39) holds (for R13 being set holds (R13 = { B123 where B123 is (Element of D39) : (( B122 \ B123 ) in D39 & ( B123 \ B122 ) in D39 & ( B123 /\ B122 ) in D39) } implies R13 is (MonotoneClass of R21))))
proof
let C124 being (Element of D39);
let R13 being set;
assume L874: R13 = { B124 where B124 is (Element of D39) : (( C124 \ B124 ) in D39 & ( B124 \ C124 ) in D39 & ( B124 /\ C124 ) in D39) };
L875: (for B125 being (SetSequence of R21) holds ((B125 is  monotone & ( rng B125 ) c= R13) implies ( lim B125 ) in R13))
proof
let C125 being (SetSequence of R21);
assume that
L876: C125 is  monotone
and
L877: ( rng C125 ) c= R13;
L878: C125 is  convergent by L876 , SETLIM_1:65;
L879: (for R1 being Nat holds ( C125 . R1 ) in D39)
proof
let R1 being Nat;
L880: ( C125 . R1 ) in ( rng C125 ) by NAT_1:51;
thus L881: thesis by L880 , L870 , L874 , L877;
end;
L882: ( rng C125 ) c= D39 by L879 , NAT_1:52;
L883: ( lim C125 ) is (Element of D39) by L882 , L876 , L786;
L884: (for R1 being Nat holds ( ( C125 (\) C124 ) . R1 ) in D39)
proof
let C126 being Nat;
L885: ( C125 . C126 ) in ( rng C125 ) by NAT_1:51;
L886: (C126 in ( NAT ) & ( ( C125 . C126 ) \ C124 ) in D39) by L885 , L870 , L874 , L877 , ORDINAL1:def 12;
thus L887: thesis by L886 , SETLIM_2:def 8;
end;
L888: ( rng ( C125 (\) C124 ) ) c= D39 by L884 , NAT_1:52;
L889: (for R1 being Nat holds ( ( C124 (/\) C125 ) . R1 ) in D39)
proof
let R1 being Nat;
L890: ( C125 . R1 ) in ( rng C125 ) by NAT_1:51;
L891: (R1 in ( NAT ) & ( C124 /\ ( C125 . R1 ) ) in D39) by L890 , L870 , L874 , L877 , ORDINAL1:def 12;
thus L892: thesis by L891 , SETLIM_2:def 5;
end;
L893: ( rng ( C124 (/\) C125 ) ) c= D39 by L889 , NAT_1:52;
L894: ( C124 (/\) C125 ) is  monotone by L876 , SETLIM_2:23;
L895: ( lim ( C124 (/\) C125 ) ) in D39 by L894 , L893 , L786;
L896: ( C124 /\ ( lim C125 ) ) in D39 by L895 , L878 , SETLIM_2:92;
L897: (for R1 being Nat holds ( ( C124 (\) C125 ) . R1 ) in D39)
proof
let R1 being Nat;
L898: ( C125 . R1 ) in ( rng C125 ) by NAT_1:51;
L899: (R1 in ( NAT ) & ( C124 \ ( C125 . R1 ) ) in D39) by L898 , L870 , L874 , L877 , ORDINAL1:def 12;
thus L900: thesis by L899 , SETLIM_2:def 7;
end;
L901: ( rng ( C124 (\) C125 ) ) c= D39 by L897 , NAT_1:52;
L902: ( C124 (\) C125 ) is  monotone by L876 , SETLIM_2:29;
L903: ( lim ( C124 (\) C125 ) ) in D39 by L902 , L901 , L786;
L904: ( C124 \ ( lim C125 ) ) in D39 by L903 , L878 , SETLIM_2:94;
L905: ( C125 (\) C124 ) is  monotone by L876 , SETLIM_2:32;
L906: ( lim ( C125 (\) C124 ) ) in D39 by L905 , L888 , L786;
L907: ( ( lim C125 ) \ C124 ) in D39 by L906 , L878 , SETLIM_2:95;
thus L908: thesis by L907 , L874 , L883 , L904 , L896;
end;
L909: (for R11 being set holds (R11 in R13 implies R11 in D39)) by L870 , L874;
L910: R13 c= D39 by L909 , TARSKI:def 3;
thus L911: thesis by L910 , L875 , L786 , XBOOLE_1:1;
end;
L912: (for B126 being (Element of C123) holds (for R13 being set holds (R13 = { B127 where B127 is (Element of D39) : (( B126 \ B127 ) in D39 & ( B127 \ B126 ) in D39 & ( B127 /\ B126 ) in D39) } implies D39 c= R13)))
proof
let C127 being (Element of C123);
let R13 being set;
assume L913: R13 = { B128 where B128 is (Element of D39) : (( C127 \ B128 ) in D39 & ( B128 \ C127 ) in D39 & ( B128 /\ C127 ) in D39) };
L914: C123 c= R13
proof
let R11 being set;
assume L915: R11 in C123;
L916: ( R11 /\ C127 ) in C123 by L915 , FINSUB_1:def 2;
L917: (( R11 \ C127 ) in C123 & ( C127 \ R11 ) in C123) by L915 , PROB_1:6;
thus L918: thesis by L917 , L869 , L913 , L915 , L916;
end;
L919: C127 in C123;
L920: R13 is (MonotoneClass of R21) by L919 , L869 , L873 , L913;
thus L921: thesis by L920 , L914 , L838;
end;
L922: (for B129 being (Element of D39) holds (for R13 being set holds (R13 = { B130 where B130 is (Element of D39) : (( B129 \ B130 ) in D39 & ( B130 \ B129 ) in D39 & ( B130 /\ B129 ) in D39) } implies D39 c= R13)))
proof
let C128 being (Element of D39);
let R13 being set;
assume L923: R13 = { B131 where B131 is (Element of D39) : (( C128 \ B131 ) in D39 & ( B131 \ C128 ) in D39 & ( B131 /\ C128 ) in D39) };
L924: C123 c= R13
proof
let R11 being set;
set D40 = { B132 where B132 is (Element of D39) : (( R11 \ B132 ) in D39 & ( B132 \ R11 ) in D39 & ( B132 /\ R11 ) in D39) };
assume L925: R11 in C123;
L926: D39 c= D40 by L925 , L912;
L927: C128 in D39;
L928: ( R11 /\ C128 ) in D39 by L927 , L870 , L926;
L929: (( R11 \ C128 ) in D39 & ( C128 \ R11 ) in D39) by L870 , L926 , L927;
thus L930: thesis by L929 , L869 , L923 , L925 , L928;
end;
L931: R13 is (MonotoneClass of R21) by L873 , L923;
thus L932: thesis by L931 , L924 , L838;
end;
L933: (for B133 being (Subset of R21) holds (B133 in D39 implies ( B133 ` ) in D39))
proof
L934: R21 in C123 by PROB_1:5;
L935: R21 in D39 by L934 , L869;
let C129 being (Subset of R21);
assume that
L936: C129 in D39;
set D41 = { B134 where B134 is (Element of D39) : (( C129 \ B134 ) in D39 & ( B134 \ C129 ) in D39 & ( B134 /\ C129 ) in D39) };
L937: D39 c= D41 by L922 , L936;
L938: ( R21 \ C129 ) in D39 by L937 , L870 , L935;
thus L939: thesis by L938 , SUBSET_1:def 4;
end;
L940:
now
let R10 being set;
let R11 being set;
assume that
L941: R10 in D39
and
L942: R11 in D39;
set D42 = { B135 where B135 is (Element of D39) : (( R10 \ B135 ) in D39 & ( B135 \ R10 ) in D39 & ( B135 /\ R10 ) in D39) };
L943: D39 c= D42 by L922 , L941;
thus L944: ( R10 /\ R11 ) in D39 by L943 , L870 , L942;
end;
thus L945: thesis by L940 , L933 , FINSUB_1:def 2 , PROB_1:def 1;
end;
theorem
L946: (for R21 being non  empty set holds (for B136 being (Field_Subset of R21) holds ( sigma B136 ) = ( monotoneclass B136 )))
proof
let R21 being non  empty set;
let C130 being (Field_Subset of R21);
L947: ( monotoneclass C130 ) is (Field_Subset of R21) by L868;
L948: ( monotoneclass C130 ) is (SigmaField of R21) by L947 , L809;
L949: C130 c= ( monotoneclass C130 ) by L838;
thus L950: ( sigma C130 ) c= ( monotoneclass C130 ) by L949 , L948 , PROB_1:def 9;
L951: (( sigma C130 ) is (MonotoneClass of R21) & C130 c= ( sigma C130 )) by L809 , PROB_1:def 9;
thus L952: thesis by L951 , L838;
end;
