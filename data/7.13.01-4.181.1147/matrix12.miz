:: Some Properties of Line and Column Operations on Matrices
::  by Xiquan Liang , Tao Sun and Dahai Hu
::
:: Received August 13, 2007
:: Copyright (c) 2007-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, NAT_1, VECTSP_1, SUBSET_1, MATRIX_1, FINSEQ_1, TREES_1,
      INCSP_1, MATRIX11, RELAT_1, FUNCT_1, XXREAL_0, CARD_1, ARYTM_3, FINSEQ_2,
      STRUCT_0, ALGSTR_0, MESFUNC1, ZFMISC_1, GROUP_1, SUPINF_2, FVSUM_1,
      CARD_3, RVSUM_1, MATRIX_6, ARYTM_1, QC_LANG1, MATRIX12;
 notations MATRIX_1, XXREAL_0, MATRIX11, TARSKI, NUMBERS, ORDINAL1, FUNCT_1,
      FINSEQ_1, ZFMISC_1, BINOP_1, STRUCT_0, ALGSTR_0, GROUP_1, VECTSP_1,
      FVSUM_1, FINSEQ_2, MATRIX_3, MATRIX_6;
 constructors MATRIX_6, MATRIX11, CAT_2, ALGSTR_1, FVSUM_1, RELSET_1;
 registrations RELSET_1, STRUCT_0, FVSUM_1, VECTSP_1, ORDINAL1, XXREAL_0,
      NAT_1, FINSEQ_2, XBOOLE_0;
 requirements NUMERALS, REAL, BOOLE, SUBSET;
 definitions FINSEQ_1, MATRIX_1, FVSUM_1, ALGSTR_0;
 theorems MATRIX_6, MATRIX11, FINSEQ_1, FINSEQ_2, FVSUM_1, MATRIX_1, FINSEQOP,
      ZFMISC_1, MATRIX_2, FUNCOP_1, RLVECT_1, GROUP_1, MATRIX_3, MATRIX_4,
      MATRIXR1, VECTSP_2, ORDINAL1, CARD_1;

begin
L1: (for R4 being Nat holds (for R5 being Nat holds (for R8 being Field holds (for R2 being Nat holds (for R3 being Nat holds (for R10 being (Matrix of R4 , R5 , R8) holds (for R11 being (Matrix of R4 , R5 , R8) holds (for R12 being (Matrix of R4 , R5 , R8) holds (for R13 being (FinSequence of R8) holds (for R14 being (FinSequence of R8) holds (for R7 being Nat holds (for R1 being Nat holds ((R7 in ( Seg R4 ) & R1 in ( Seg ( width R10 ) ) & R13 = ( Line (R10 , R3) ) & R14 = ( Line (R10 , R2) ) & R11 = ( RLine (R10 , R2 , R13) ) & R12 = ( RLine (R11 , R3 , R14) )) implies ((R7 = R3 implies ( R12 * (R7 , R1) ) = ( R10 * (R2 , R1) )) & (R7 = R2 implies ( R12 * (R7 , R1) ) = ( R10 * (R3 , R1) )) & ((R7 <> R3 & R7 <> R2) implies ( R12 * (R7 , R1) ) = ( R10 * (R7 , R1) ))))))))))))))))
proof
let R4 being Nat;
let R5 being Nat;
let R8 being Field;
let R2 being Nat;
let R3 being Nat;
let R10 being (Matrix of R4 , R5 , R8);
let R11 being (Matrix of R4 , R5 , R8);
let R12 being (Matrix of R4 , R5 , R8);
let R13 being (FinSequence of R8);
let R14 being (FinSequence of R8);
let R7 being Nat;
let R1 being Nat;
assume that
L2: R7 in ( Seg R4 )
and
L3: R1 in ( Seg ( width R10 ) )
and
L4: R13 = ( Line (R10 , R3) )
and
L5: R14 = ( Line (R10 , R2) )
and
L6: R11 = ( RLine (R10 , R2 , R13) )
and
L7: R12 = ( RLine (R11 , R3 , R14) );
thus L8: (R7 = R3 implies ( R12 * (R7 , R1) ) = ( R10 * (R2 , R1) ))
proof
assume L9: R7 = R3;
L10: ( len R13 ) = ( width R10 ) by L4 , MATRIX_1:def 7;
L11: ( width R11 ) = ( width R10 ) by L10 , L6 , MATRIX11:def 3;
L12: ( len R14 ) = ( width R10 ) by L5 , MATRIX_1:def 7;
L13: ( width R11 ) = ( width R12 ) by L12 , L7 , L11 , MATRIX11:def 3;
thus L14: ( R12 * (R7 , R1) ) = ( ( Line (R12 , R7) ) . R1 ) by L13 , L3 , L11 , MATRIX_1:def 7
.= ( R14 . R1 ) by L2 , L7 , L9 , L12 , L11 , MATRIX11:28
.= ( R10 * (R2 , R1) ) by L3 , L5 , MATRIX_1:def 7;
end;

thus L15: (R7 = R2 implies ( R12 * (R7 , R1) ) = ( R10 * (R3 , R1) ))
proof
assume L16: R7 = R2;
L17: ( len R13 ) = ( width R10 ) by L4 , MATRIX_1:def 7;
L18: ( width R11 ) = ( width R10 ) by L17 , L6 , MATRIX11:def 3;
L19: (R7 = R2 implies ( Line (R12 , R7) ) = ( Line (R11 , R7) ))
proof
assume L20: R7 = R2;
per cases ;
suppose L21: R3 <> R2;

thus L22: thesis by L21 , L2 , L7 , L20 , MATRIX11:28;
end;
suppose L23: R3 = R2;

L24: ( Line (R12 , R7) ) = R13 by L23 , L2 , L4 , L5 , L7 , L16 , L17 , L18 , MATRIX11:28;
thus L25: thesis by L24 , L2 , L6 , L16 , L17 , MATRIX11:28;
end;
end;
L27: ( len R14 ) = ( width R10 ) by L5 , MATRIX_1:def 7;
L28: ( width R11 ) = ( width R12 ) by L27 , L7 , L18 , MATRIX11:def 3;
thus L29: ( R12 * (R7 , R1) ) = ( ( Line (R12 , R7) ) . R1 ) by L28 , L3 , L18 , MATRIX_1:def 7
.= ( R13 . R1 ) by L2 , L6 , L16 , L17 , L19 , MATRIX11:28
.= ( R10 * (R3 , R1) ) by L3 , L4 , MATRIX_1:def 7;
end;

thus L30: ((R7 <> R3 & R7 <> R2) implies ( R12 * (R7 , R1) ) = ( R10 * (R7 , R1) ))
proof
assume that
L31: R7 <> R3
and
L32: R7 <> R2;
L33: ( Line (R11 , R7) ) = ( Line (R10 , R7) ) by L2 , L6 , L32 , MATRIX11:28;
L34: ( len R13 ) = ( width R10 ) by L4 , MATRIX_1:def 7;
L35: ( width R11 ) = ( width R10 ) by L34 , L6 , MATRIX11:def 3;
L36: ( len R14 ) = ( width R10 ) by L5 , MATRIX_1:def 7;
L37: ( width R11 ) = ( width R12 ) by L36 , L7 , L35 , MATRIX11:def 3;
thus L38: ( R12 * (R7 , R1) ) = ( ( Line (R12 , R7) ) . R1 ) by L37 , L3 , L35 , MATRIX_1:def 7
.= ( ( Line (R10 , R7) ) . R1 ) by L2 , L7 , L31 , L33 , MATRIX11:28
.= ( R10 * (R7 , R1) ) by L3 , MATRIX_1:def 7;
end;

end;
definition
let R4 being Nat;
let R5 being Nat;
let R8 being Field;
let C1 being (Matrix of R4 , R5 , R8);
let C2 , C3 being Nat;
func InterchangeLine (C1 , C2 , C3) -> (Matrix of R4 , R5 , R8) means 
:L31: (( len it ) = ( len C1 ) & (for R7 being Nat holds (for R1 being Nat holds ((R7 in ( dom C1 ) & R1 in ( Seg ( width C1 ) )) implies ((R7 = C2 implies ( it * (R7 , R1) ) = ( C1 * (C3 , R1) )) & (R7 = C3 implies ( it * (R7 , R1) ) = ( C1 * (C2 , R1) )) & ((R7 <> C2 & R7 <> C3) implies ( it * (R7 , R1) ) = ( C1 * (R7 , R1) )))))));
existence
proof
set D1 = ( RLine (C1 , C3 , ( Line (C1 , C2) )) );
set D2 = ( RLine (D1 , C2 , ( Line (C1 , C3) )) );
take D2;
L32: ( len C1 ) = R4 by MATRIX_1:25;
L33: (( len ( Line (C1 , C3) ) ) = ( width C1 ) & ( dom C1 ) = ( Seg R4 )) by L32 , FINSEQ_1:def 3 , MATRIX_1:def 7;
L34: ( len ( Line (C1 , C2) ) ) = ( width C1 ) by MATRIX_1:def 7;
L35: (( len D1 ) = ( len C1 ) & ( width D1 ) = ( width C1 )) by L34 , MATRIX11:def 3;
thus L36: thesis by L35 , L33 , L1 , MATRIX11:def 3;
end;
uniqueness
proof
let C4 , C5 being (Matrix of R4 , R5 , R8);
assume that
L37: ( len C4 ) = ( len C1 )
and
L38: (for R7 being Nat holds (for R1 being Nat holds ((R7 in ( dom C1 ) & R1 in ( Seg ( width C1 ) )) implies ((R7 = C2 implies ( C4 * (R7 , R1) ) = ( C1 * (C3 , R1) )) & (R7 = C3 implies ( C4 * (R7 , R1) ) = ( C1 * (C2 , R1) )) & ((R7 <> C2 & R7 <> C3) implies ( C4 * (R7 , R1) ) = ( C1 * (R7 , R1) ))))))
and
L39: ( len C5 ) = ( len C1 )
and
L40: (for R7 being Nat holds (for R1 being Nat holds ((R7 in ( dom C1 ) & R1 in ( Seg ( width C1 ) )) implies ((R7 = C2 implies ( C5 * (R7 , R1) ) = ( C1 * (C3 , R1) )) & (R7 = C3 implies ( C5 * (R7 , R1) ) = ( C1 * (C2 , R1) )) & ((R7 <> C2 & R7 <> C3) implies ( C5 * (R7 , R1) ) = ( C1 * (R7 , R1) ))))));
L41: (for R7 being Nat holds (for R1 being Nat holds ([ R7 , R1 ] in ( Indices C4 ) implies ( C4 * (R7 , R1) ) = ( C5 * (R7 , R1) ))))
proof
L42: ( Indices C1 ) = ( Indices C4 ) by MATRIX_1:26;
let R7 being Nat;
let R1 being Nat;
assume L43: [ R7 , R1 ] in ( Indices C4 );
L44: (R7 in ( dom C1 ) & R1 in ( Seg ( width C1 ) )) by L43 , L42 , ZFMISC_1:87;
L45: (R7 = C3 implies ( C4 * (R7 , R1) ) = ( C1 * (C2 , R1) )) by L44 , L38;
L46: (R7 = C2 implies ( C5 * (R7 , R1) ) = ( C1 * (C3 , R1) )) by L40 , L44;
L47: ((R7 <> C2 & R7 <> C3) implies ( C4 * (R7 , R1) ) = ( C1 * (R7 , R1) )) by L38 , L44;
L48: (R7 = C3 implies ( C5 * (R7 , R1) ) = ( C1 * (C2 , R1) )) by L40 , L44;
L49: (R7 = C2 implies ( C4 * (R7 , R1) ) = ( C1 * (C3 , R1) )) by L38 , L44;
thus L50: thesis by L49 , L40 , L44 , L45 , L47 , L46 , L48;
end;
thus L51: thesis by L41 , MATRIX_1:27;
end;
end;
theorem
L53: (for R4 being Nat holds (for R5 being Nat holds (for R8 being Field holds (for B1 , B2 being (Matrix of R4 , R5 , R8) holds ( width B1 ) = ( width B2 )))))
proof
let R4 being Nat;
let R5 being Nat;
let R8 being Field;
let C6 , C7 being (Matrix of R4 , R5 , R8);
per cases ;
suppose L54: R4 > ( 0 );

L55: ( width C6 ) = R5 by L54 , MATRIX_1:23;
thus L56: thesis by L55 , L54 , MATRIX_1:23;
end;
suppose L57: R4 = ( 0 );

L58: ( width C6 ) = ( 0 ) by L57 , MATRIX_1:22;
thus L59: thesis by L58 , L57 , MATRIX_1:22;
end;
end;
theorem
L61: (for R2 being Nat holds (for R3 being Nat holds (for R4 being Nat holds (for R5 being Nat holds (for R8 being Field holds (for R10 being (Matrix of R4 , R5 , R8) holds (for R11 being (Matrix of R4 , R5 , R8) holds (for R7 being Nat holds ((R3 in ( dom R10 ) & R2 in ( dom R10 ) & R7 in ( dom R10 ) & R11 = ( InterchangeLine (R10 , R3 , R2) )) implies ((R7 = R3 implies ( Line (R11 , R7) ) = ( Line (R10 , R2) )) & (R7 = R2 implies ( Line (R11 , R7) ) = ( Line (R10 , R3) )) & ((R7 <> R3 & R7 <> R2) implies ( Line (R11 , R7) ) = ( Line (R10 , R7) ))))))))))))
proof
let R2 being Nat;
let R3 being Nat;
let R4 being Nat;
let R5 being Nat;
let R8 being Field;
let R10 being (Matrix of R4 , R5 , R8);
let R11 being (Matrix of R4 , R5 , R8);
let R7 being Nat;
assume that
L62: R3 in ( dom R10 )
and
L63: R2 in ( dom R10 )
and
L64: R7 in ( dom R10 )
and
L65: R11 = ( InterchangeLine (R10 , R3 , R2) );
thus L66: (R7 = R3 implies ( Line (R11 , R7) ) = ( Line (R10 , R2) ))
proof
L67: ( width R11 ) = ( width R10 ) by L53;
L68: ( len ( Line (R11 , R7) ) ) = ( width R11 ) by MATRIX_1:def 7;
assume L69: R7 = R3;
L70:
now
let C8 being Nat;
assume that
L71: (1 <= C8 & C8 <= ( len ( Line (R11 , R7) ) ));
L72: C8 in ( NAT ) by ORDINAL1:def 12;
L73: C8 in ( Seg ( width R11 ) ) by L72 , L68 , L71;
thus L74: ( ( Line (R11 , R7) ) . C8 ) = ( R11 * (R7 , C8) ) by L73 , MATRIX_1:def 7
.= ( R10 * (R2 , C8) ) by L62 , L65 , L69 , L67 , L73 , L31
.= ( ( Line (R10 , R2) ) . C8 ) by L67 , L73 , MATRIX_1:def 7;
end;
L75: ( len ( Line (R10 , R2) ) ) = ( width R10 ) by MATRIX_1:def 7;
thus L76: thesis by L75 , L68 , L70 , L53 , FINSEQ_1:14;
end;

thus L77: (R7 = R2 implies ( Line (R11 , R7) ) = ( Line (R10 , R3) ))
proof
L78: ( width R11 ) = ( width R10 ) by L53;
L79: ( len ( Line (R11 , R7) ) ) = ( width R11 ) by MATRIX_1:def 7;
assume L80: R7 = R2;
L81:
now
let C9 being Nat;
assume that
L82: (1 <= C9 & C9 <= ( len ( Line (R11 , R7) ) ));
L83: C9 in ( NAT ) by ORDINAL1:def 12;
L84: C9 in ( Seg ( width R11 ) ) by L83 , L79 , L82;
thus L85: ( ( Line (R11 , R7) ) . C9 ) = ( R11 * (R7 , C9) ) by L84 , MATRIX_1:def 7
.= ( R10 * (R3 , C9) ) by L63 , L65 , L80 , L78 , L84 , L31
.= ( ( Line (R10 , R3) ) . C9 ) by L78 , L84 , MATRIX_1:def 7;
end;
L86: ( len ( Line (R10 , R3) ) ) = ( width R10 ) by MATRIX_1:def 7;
thus L87: thesis by L86 , L79 , L81 , L53 , FINSEQ_1:14;
end;

thus L88: ((R7 <> R3 & R7 <> R2) implies ( Line (R11 , R7) ) = ( Line (R10 , R7) ))
proof
L89: ( width R11 ) = ( width R10 ) by L53;
L90: ( len ( Line (R11 , R7) ) ) = ( width R11 ) by MATRIX_1:def 7;
assume L91: (R7 <> R3 & R7 <> R2);
L92:
now
let C10 being Nat;
assume that
L93: (1 <= C10 & C10 <= ( len ( Line (R11 , R7) ) ));
L94: C10 in ( NAT ) by ORDINAL1:def 12;
L95: C10 in ( Seg ( width R11 ) ) by L94 , L90 , L93;
thus L96: ( ( Line (R11 , R7) ) . C10 ) = ( R11 * (R7 , C10) ) by L95 , MATRIX_1:def 7
.= ( R10 * (R7 , C10) ) by L64 , L65 , L91 , L89 , L95 , L31
.= ( ( Line (R10 , R7) ) . C10 ) by L89 , L95 , MATRIX_1:def 7;
end;
L97: ( len ( Line (R10 , R7) ) ) = ( width R10 ) by MATRIX_1:def 7;
thus L98: thesis by L97 , L90 , L92 , L53 , FINSEQ_1:14;
end;

end;
theorem
L89: (for R4 being Nat holds (for R5 being Nat holds (for R8 being Field holds (for R9 being (Element of R8) holds (for R7 being Nat holds (for R1 being Nat holds (for R10 being (Matrix of R4 , R5 , R8) holds ((R7 in ( dom R10 ) & R1 in ( Seg ( width R10 ) )) implies ( ( R9 * ( Line (R10 , R7) ) ) . R1 ) = ( R9 * ( R10 * (R7 , R1) ) )))))))))
proof
let R4 being Nat;
let R5 being Nat;
let R8 being Field;
let R9 being (Element of R8);
let R7 being Nat;
let R1 being Nat;
let R10 being (Matrix of R4 , R5 , R8);
assume that
L90: R7 in ( dom R10 )
and
L91: R1 in ( Seg ( width R10 ) );
L92: [ R7 , R1 ] in ( Indices R10 ) by L90 , L91 , ZFMISC_1:87;
L93: R1 in ( Seg ( width ( R9 * R10 ) ) ) by L91 , MATRIX_3:def 5;
L94: ( dom R10 ) = ( Seg ( len R10 ) ) by FINSEQ_1:def 3;
L95: (1 <= R7 & R7 <= ( len R10 )) by L94 , L90 , FINSEQ_1:1;
L96: ( ( R9 * ( Line (R10 , R7) ) ) . R1 ) = ( ( Line (( R9 * R10 ) , R7) ) . R1 ) by L95 , MATRIXR1:20
.= ( ( R9 * R10 ) * (R7 , R1) ) by L93 , MATRIX_1:def 7
.= ( R9 * ( R10 * (R7 , R1) ) ) by L92 , MATRIX_3:def 5;
thus L97: thesis by L96;
end;
L98: (for R4 being Nat holds (for R5 being Nat holds (for R8 being Field holds (for R9 being (Element of R8) holds (for R3 being Nat holds (for R10 being (Matrix of R4 , R5 , R8) holds (for R11 being (Matrix of R4 , R5 , R8) holds (for R13 being (FinSequence of R8) holds (for R7 being Nat holds (for R1 being Nat holds ((R7 in ( Seg R4 ) & R1 in ( Seg ( width R10 ) ) & R13 = ( Line (R10 , R3) ) & R11 = ( RLine (R10 , R3 , ( R9 * R13 )) )) implies ((R7 = R3 implies ( R11 * (R7 , R1) ) = ( R9 * ( R10 * (R3 , R1) ) )) & (R7 <> R3 implies ( R11 * (R7 , R1) ) = ( R10 * (R7 , R1) ))))))))))))))
proof
let R4 being Nat;
let R5 being Nat;
let R8 being Field;
let R9 being (Element of R8);
let R3 being Nat;
let R10 being (Matrix of R4 , R5 , R8);
let R11 being (Matrix of R4 , R5 , R8);
let R13 being (FinSequence of R8);
let R7 being Nat;
let R1 being Nat;
assume that
L99: R7 in ( Seg R4 )
and
L100: R1 in ( Seg ( width R10 ) )
and
L101: R13 = ( Line (R10 , R3) )
and
L102: R11 = ( RLine (R10 , R3 , ( R9 * R13 )) );
thus L103: (R7 = R3 implies ( R11 * (R7 , R1) ) = ( R9 * ( R10 * (R3 , R1) ) ))
proof
assume L104: R7 = R3;
L105: ( len R10 ) = R4 by MATRIX_1:def 2;
L106: R3 in ( dom R10 ) by L105 , L99 , L104 , FINSEQ_1:def 3;
L107: ( len ( R9 * ( Line (R10 , R3) ) ) ) = ( width R10 ) by CARD_1:def 7;
L108: ( width R11 ) = ( width R10 ) by L107 , L101 , L102 , MATRIX11:def 3;
L109: ( R11 * (R7 , R1) ) = ( ( Line (R11 , R7) ) . R1 ) by L108 , L100 , MATRIX_1:def 7
.= ( ( R9 * ( Line (R10 , R3) ) ) . R1 ) by L99 , L101 , L102 , L104 , L107 , MATRIX11:28
.= ( R9 * ( R10 * (R3 , R1) ) ) by L100 , L106 , L89;
thus L110: thesis by L109;
end;

assume L111: R7 <> R3;
L112: ( len ( R9 * ( Line (R10 , R3) ) ) ) = ( width R10 ) by CARD_1:def 7;
L113: ( width R11 ) = ( width R10 ) by L112 , L101 , L102 , MATRIX11:def 3;
thus L114: ( R11 * (R7 , R1) ) = ( ( Line (R11 , R7) ) . R1 ) by L113 , L100 , MATRIX_1:def 7
.= ( ( Line (R10 , R7) ) . R1 ) by L99 , L102 , L111 , MATRIX11:28
.= ( R10 * (R7 , R1) ) by L100 , MATRIX_1:def 7;
end;
definition
let R4 being Nat;
let R5 being Nat;
let R8 being Field;
let C11 being (Matrix of R4 , R5 , R8);
let C12 being Nat;
let C13 being (Element of R8);
func ScalarXLine (C11 , C12 , C13) -> (Matrix of R4 , R5 , R8) means 
:L115: (( len it ) = ( len C11 ) & (for R7 being Nat holds (for R1 being Nat holds ((R7 in ( dom C11 ) & R1 in ( Seg ( width C11 ) )) implies ((R7 = C12 implies ( it * (R7 , R1) ) = ( C13 * ( C11 * (C12 , R1) ) )) & (R7 <> C12 implies ( it * (R7 , R1) ) = ( C11 * (R7 , R1) )))))));
existence
proof
set D3 = ( Line (C11 , C12) );
set D4 = ( RLine (C11 , C12 , ( C13 * D3 )) );
take D4;
L116: ( len C11 ) = R4 by MATRIX_1:25;
L117: ( dom C11 ) = ( Seg R4 ) by L116 , FINSEQ_1:def 3;
L118: (( len D3 ) = ( width C11 ) & ( len ( C13 * D3 ) ) = ( len D3 )) by MATRIXR1:16 , MATRIX_1:def 7;
thus L119: thesis by L118 , L117 , L98 , MATRIX11:def 3;
end;
uniqueness
proof
let C14 , C15 being (Matrix of R4 , R5 , R8);
assume that
L120: ( len C14 ) = ( len C11 )
and
L121: (for R7 being Nat holds (for R1 being Nat holds ((R7 in ( dom C11 ) & R1 in ( Seg ( width C11 ) )) implies ((R7 = C12 implies ( C14 * (R7 , R1) ) = ( C13 * ( C11 * (C12 , R1) ) )) & (R7 <> C12 implies ( C14 * (R7 , R1) ) = ( C11 * (R7 , R1) ))))))
and
L122: ( len C15 ) = ( len C11 )
and
L123: (for R7 being Nat holds (for R1 being Nat holds ((R7 in ( dom C11 ) & R1 in ( Seg ( width C11 ) )) implies ((R7 = C12 implies ( C15 * (R7 , R1) ) = ( C13 * ( C11 * (C12 , R1) ) )) & (R7 <> C12 implies ( C15 * (R7 , R1) ) = ( C11 * (R7 , R1) ))))));
L124: (for R7 being Nat holds (for R1 being Nat holds ([ R7 , R1 ] in ( Indices C14 ) implies ( C14 * (R7 , R1) ) = ( C15 * (R7 , R1) ))))
proof
L125: ( Indices C11 ) = ( Indices C14 ) by MATRIX_1:26;
let R7 being Nat;
let R1 being Nat;
assume L126: [ R7 , R1 ] in ( Indices C14 );
L127: (R7 in ( dom C11 ) & R1 in ( Seg ( width C11 ) )) by L126 , L125 , ZFMISC_1:87;
L128: (R7 <> C12 implies ( C14 * (R7 , R1) ) = ( C11 * (R7 , R1) )) by L127 , L121;
L129: (R7 = C12 implies ( C14 * (R7 , R1) ) = ( C13 * ( C11 * (C12 , R1) ) )) by L121 , L127;
thus L130: thesis by L129 , L123 , L127 , L128;
end;
thus L131: thesis by L124 , MATRIX_1:27;
end;
end;
theorem
L133: (for R3 being Nat holds (for R4 being Nat holds (for R5 being Nat holds (for R7 being Nat holds (for R8 being Field holds (for R9 being (Element of R8) holds (for R10 being (Matrix of R4 , R5 , R8) holds (for R11 being (Matrix of R4 , R5 , R8) holds ((R3 in ( dom R10 ) & R7 in ( dom R10 ) & R11 = ( ScalarXLine (R10 , R3 , R9) )) implies ((R7 = R3 implies ( Line (R11 , R7) ) = ( R9 * ( Line (R10 , R3) ) )) & (R7 <> R3 implies ( Line (R11 , R7) ) = ( Line (R10 , R7) ))))))))))))
proof
let R3 being Nat;
let R4 being Nat;
let R5 being Nat;
let R7 being Nat;
let R8 being Field;
let R9 being (Element of R8);
let R10 being (Matrix of R4 , R5 , R8);
let R11 being (Matrix of R4 , R5 , R8);
assume that
L134: R3 in ( dom R10 )
and
L135: R7 in ( dom R10 )
and
L136: R11 = ( ScalarXLine (R10 , R3 , R9) );
thus L137: (R7 = R3 implies ( Line (R11 , R7) ) = ( R9 * ( Line (R10 , R3) ) ))
proof
L138: ( width R11 ) = ( width R10 ) by L53;
L139: ( len ( Line (R11 , R7) ) ) = ( width R11 ) by MATRIX_1:def 7;
assume L140: R7 = R3;
L141:
now
let C16 being Nat;
assume that
L142: (1 <= C16 & C16 <= ( len ( Line (R11 , R7) ) ));
L143: C16 in ( NAT ) by ORDINAL1:def 12;
L144: C16 in ( Seg ( width R11 ) ) by L143 , L139 , L142;
thus L145: ( ( Line (R11 , R7) ) . C16 ) = ( R11 * (R7 , C16) ) by L144 , MATRIX_1:def 7
.= ( R9 * ( R10 * (R3 , C16) ) ) by L134 , L136 , L140 , L138 , L144 , L115
.= ( ( R9 * ( Line (R10 , R3) ) ) . C16 ) by L134 , L138 , L144 , L89;
end;
L146: (( len ( R9 * ( Line (R10 , R3) ) ) ) = ( len ( Line (R10 , R3) ) ) & ( len ( Line (R10 , R3) ) ) = ( width R10 )) by MATRIXR1:16 , MATRIX_1:def 7;
thus L147: thesis by L146 , L139 , L141 , L53 , FINSEQ_1:14;
end;

L148: ( len ( Line (R11 , R7) ) ) = ( width R11 ) by MATRIX_1:def 7;
L149: ( width R11 ) = ( width R10 ) by L53;
assume L150: R7 <> R3;
L151:
now
let C17 being Nat;
assume that
L152: (1 <= C17 & C17 <= ( len ( Line (R11 , R7) ) ));
L153: C17 in ( NAT ) by ORDINAL1:def 12;
L154: C17 in ( Seg ( width R11 ) ) by L153 , L148 , L152;
thus L155: ( ( Line (R11 , R7) ) . C17 ) = ( R11 * (R7 , C17) ) by L154 , MATRIX_1:def 7
.= ( R10 * (R7 , C17) ) by L135 , L136 , L150 , L149 , L154 , L115
.= ( ( Line (R10 , R7) ) . C17 ) by L149 , L154 , MATRIX_1:def 7;
end;
L156: ( len ( Line (R10 , R7) ) ) = ( width R10 ) by MATRIX_1:def 7;
thus L157: thesis by L156 , L148 , L151 , L53 , FINSEQ_1:14;
end;
L158: (for R1 being Nat holds (for R2 being Nat holds (for R3 being Nat holds (for R4 being Nat holds (for R5 being Nat holds (for R7 being Nat holds (for R8 being Field holds (for R9 being (Element of R8) holds (for R10 being (Matrix of R4 , R5 , R8) holds (for R11 being (Matrix of R4 , R5 , R8) holds (for R13 being (FinSequence of R8) holds (for R14 being (FinSequence of R8) holds ((R7 in ( Seg R4 ) & R1 in ( Seg ( width R10 ) ) & R2 in ( dom R10 ) & R13 = ( Line (R10 , R3) ) & R14 = ( Line (R10 , R2) ) & R11 = ( RLine (R10 , R3 , ( ( R9 * R14 ) + R13 )) )) implies ((R7 = R3 implies ( R11 * (R7 , R1) ) = ( ( R9 * ( R10 * (R2 , R1) ) ) + ( R10 * (R3 , R1) ) )) & (R7 <> R3 implies ( R11 * (R7 , R1) ) = ( R10 * (R7 , R1) ))))))))))))))))
proof
let R1 being Nat;
let R2 being Nat;
let R3 being Nat;
let R4 being Nat;
let R5 being Nat;
let R7 being Nat;
let R8 being Field;
let R9 being (Element of R8);
let R10 being (Matrix of R4 , R5 , R8);
let R11 being (Matrix of R4 , R5 , R8);
let R13 being (FinSequence of R8);
let R14 being (FinSequence of R8);
assume that
L159: R7 in ( Seg R4 )
and
L160: R1 in ( Seg ( width R10 ) )
and
L161: R2 in ( dom R10 )
and
L162: R13 = ( Line (R10 , R3) )
and
L163: R14 = ( Line (R10 , R2) )
and
L164: R11 = ( RLine (R10 , R3 , ( ( R9 * R14 ) + R13 )) );
thus L165: (R7 = R3 implies ( R11 * (R7 , R1) ) = ( ( R9 * ( R10 * (R2 , R1) ) ) + ( R10 * (R3 , R1) ) ))
proof
L166: ( ( R9 * ( Line (R10 , R2) ) ) . R1 ) = ( R9 * ( R10 * (R2 , R1) ) ) by L160 , L161 , L89;
consider C18 being (Element of R8) such that L167: C18 = ( ( R9 * ( Line (R10 , R2) ) ) . R1 ) by L166;
assume L168: R7 = R3;
L169: ( ( Line (R10 , R3) ) . R1 ) = ( R10 * (R3 , R1) ) by L160 , MATRIX_1:def 7;
consider C19 being (Element of R8) such that L170: C19 = ( ( Line (R10 , R3) ) . R1 ) by L169;
L171: ( R9 * R14 ) is (Element of ( ( width R10 ) -tuples_on (the carrier of R8) )) by L163 , FINSEQ_2:113;
L172: ( ( R9 * R14 ) + R13 ) is (Element of ( ( width R10 ) -tuples_on (the carrier of R8) )) by L171 , L162 , FINSEQ_2:120;
L173: ( len ( ( R9 * R14 ) + R13 ) ) = ( width R10 ) by L172 , CARD_1:def 7;
L174: R1 in ( dom ( ( R9 * R14 ) + R13 ) ) by L173 , L160 , FINSEQ_1:def 3;
L175: ( ( ( R9 * R14 ) + R13 ) . R1 ) = ( (the addF of R8) . (C18 , C19) ) by L174 , L162 , L163 , L167 , L170 , FUNCOP_1:22
.= ( ( R9 * ( R10 * (R2 , R1) ) ) + ( R10 * (R3 , R1) ) ) by L160 , L161 , L169 , L167 , L170 , L89;
L176: ( width R11 ) = ( width R10 ) by L164 , L173 , MATRIX11:def 3;
L177: ( R11 * (R7 , R1) ) = ( ( Line (R11 , R7) ) . R1 ) by L176 , L160 , MATRIX_1:def 7
.= ( ( R9 * ( R10 * (R2 , R1) ) ) + ( R10 * (R3 , R1) ) ) by L159 , L164 , L168 , L173 , L175 , MATRIX11:28;
thus L178: thesis by L177;
end;

assume L179: R7 <> R3;
L180: ( R9 * R14 ) is (Element of ( ( width R10 ) -tuples_on (the carrier of R8) )) by L163 , FINSEQ_2:113;
L181: ( ( R9 * R14 ) + R13 ) is (Element of ( ( width R10 ) -tuples_on (the carrier of R8) )) by L180 , L162 , FINSEQ_2:120;
L182: ( len ( ( R9 * R14 ) + R13 ) ) = ( width R10 ) by L181 , CARD_1:def 7;
L183: ( width R11 ) = ( width R10 ) by L182 , L164 , MATRIX11:def 3;
thus L184: ( R11 * (R7 , R1) ) = ( ( Line (R11 , R7) ) . R1 ) by L183 , L160 , MATRIX_1:def 7
.= ( ( Line (R10 , R7) ) . R1 ) by L159 , L164 , L179 , MATRIX11:28
.= ( R10 * (R7 , R1) ) by L160 , MATRIX_1:def 7;
end;
definition
let R4 being Nat;
let R5 being Nat;
let R8 being Field;
let C20 being (Matrix of R4 , R5 , R8);
let C21 , C22 being Nat;
let C23 being (Element of R8);
assume L185: C22 in ( dom C20 );
func RlineXScalar (C20 , C21 , C22 , C23) -> (Matrix of R4 , R5 , R8) means 
:L186: (( len it ) = ( len C20 ) & (for R7 being Nat holds (for R1 being Nat holds ((R7 in ( dom C20 ) & R1 in ( Seg ( width C20 ) )) implies ((R7 = C21 implies ( it * (R7 , R1) ) = ( ( C23 * ( C20 * (C22 , R1) ) ) + ( C20 * (C21 , R1) ) )) & (R7 <> C21 implies ( it * (R7 , R1) ) = ( C20 * (R7 , R1) )))))));
existence
proof
set D5 = ( Line (C20 , C22) );
set D6 = ( Line (C20 , C21) );
set D7 = ( RLine (C20 , C21 , ( ( C23 * D5 ) + D6 )) );
take D7;
L187: ( len C20 ) = R4 by MATRIX_1:25;
L188: (( len ( ( C23 * D5 ) + D6 ) ) = ( width C20 ) & ( dom C20 ) = ( Seg R4 )) by L187 , CARD_1:def 7 , FINSEQ_1:def 3;
thus L189: thesis by L188 , L185 , L158 , MATRIX11:def 3;
end;
uniqueness
proof
let C24 , C25 being (Matrix of R4 , R5 , R8);
assume that
L190: ( len C24 ) = ( len C20 )
and
L191: (for R7 being Nat holds (for R1 being Nat holds ((R7 in ( dom C20 ) & R1 in ( Seg ( width C20 ) )) implies ((R7 = C21 implies ( C24 * (R7 , R1) ) = ( ( C23 * ( C20 * (C22 , R1) ) ) + ( C20 * (C21 , R1) ) )) & (R7 <> C21 implies ( C24 * (R7 , R1) ) = ( C20 * (R7 , R1) ))))))
and
L192: ( len C25 ) = ( len C20 )
and
L193: (for R7 being Nat holds (for R1 being Nat holds ((R7 in ( dom C20 ) & R1 in ( Seg ( width C20 ) )) implies ((R7 = C21 implies ( C25 * (R7 , R1) ) = ( ( C23 * ( C20 * (C22 , R1) ) ) + ( C20 * (C21 , R1) ) )) & (R7 <> C21 implies ( C25 * (R7 , R1) ) = ( C20 * (R7 , R1) ))))));
L194: (for R7 being Nat holds (for R1 being Nat holds ([ R7 , R1 ] in ( Indices C24 ) implies ( C24 * (R7 , R1) ) = ( C25 * (R7 , R1) ))))
proof
L195: ( Indices C20 ) = ( Indices C24 ) by MATRIX_1:26;
let R7 being Nat;
let R1 being Nat;
assume L196: [ R7 , R1 ] in ( Indices C24 );
L197: (R7 in ( dom C20 ) & R1 in ( Seg ( width C20 ) )) by L196 , L195 , ZFMISC_1:87;
L198: (R7 <> C21 implies ( C24 * (R7 , R1) ) = ( C20 * (R7 , R1) )) by L197 , L191;
L199: (R7 = C21 implies ( C24 * (R7 , R1) ) = ( ( C23 * ( C20 * (C22 , R1) ) ) + ( C20 * (C21 , R1) ) )) by L191 , L197;
thus L200: thesis by L199 , L193 , L197 , L198;
end;
thus L201: thesis by L194 , MATRIX_1:27;
end;
end;
theorem
L203: (for R2 being Nat holds (for R3 being Nat holds (for R4 being Nat holds (for R5 being Nat holds (for R7 being Nat holds (for R8 being Field holds (for R9 being (Element of R8) holds (for R10 being (Matrix of R4 , R5 , R8) holds (for R11 being (Matrix of R4 , R5 , R8) holds ((R3 in ( dom R10 ) & R2 in ( dom R10 ) & R7 in ( dom R10 ) & R11 = ( RlineXScalar (R10 , R3 , R2 , R9) )) implies ((R7 = R3 implies ( Line (R11 , R7) ) = ( ( R9 * ( Line (R10 , R2) ) ) + ( Line (R10 , R3) ) )) & (R7 <> R3 implies ( Line (R11 , R7) ) = ( Line (R10 , R7) )))))))))))))
proof
let R2 being Nat;
let R3 being Nat;
let R4 being Nat;
let R5 being Nat;
let R7 being Nat;
let R8 being Field;
let R9 being (Element of R8);
let R10 being (Matrix of R4 , R5 , R8);
let R11 being (Matrix of R4 , R5 , R8);
assume that
L204: R3 in ( dom R10 )
and
L205: R2 in ( dom R10 )
and
L206: R7 in ( dom R10 )
and
L207: R11 = ( RlineXScalar (R10 , R3 , R2 , R9) );
thus L208: (R7 = R3 implies ( Line (R11 , R7) ) = ( ( R9 * ( Line (R10 , R2) ) ) + ( Line (R10 , R3) ) ))
proof
L209: ( len ( ( R9 * ( Line (R10 , R2) ) ) + ( Line (R10 , R3) ) ) ) = ( width R10 ) by CARD_1:def 7;
L210: ( len ( Line (R11 , R7) ) ) = ( width R11 ) by MATRIX_1:def 7;
L211: ( width R11 ) = ( width R10 ) by L53;
assume L212: R7 = R3;
L213:
now
let C26 being Nat;
assume that
L214: (1 <= C26 & C26 <= ( len ( Line (R11 , R7) ) ));
L215: C26 in ( NAT ) by ORDINAL1:def 12;
L216: C26 in ( Seg ( width R11 ) ) by L215 , L210 , L214;
L217: ( ( Line (R10 , R3) ) . C26 ) = ( R10 * (R3 , C26) ) by L216 , L211 , MATRIX_1:def 7;
consider C27 being (Element of R8) such that L218: C27 = ( ( Line (R10 , R3) ) . C26 ) by L217;
L219: ( ( R9 * ( Line (R10 , R2) ) ) . C26 ) = ( R9 * ( R10 * (R2 , C26) ) ) by L205 , L211 , L216 , L89;
consider C28 being (Element of R8) such that L220: C28 = ( ( R9 * ( Line (R10 , R2) ) ) . C26 ) by L219;
L221: C26 in ( dom ( ( R9 * ( Line (R10 , R2) ) ) + ( Line (R10 , R3) ) ) ) by L211 , L209 , L216 , FINSEQ_1:def 3;
L222: ( ( ( R9 * ( Line (R10 , R2) ) ) + ( Line (R10 , R3) ) ) . C26 ) = ( (the addF of R8) . (C28 , C27) ) by L221 , L220 , L218 , FUNCOP_1:22
.= ( ( R9 * ( R10 * (R2 , C26) ) ) + ( R10 * (R3 , C26) ) ) by L205 , L211 , L216 , L217 , L220 , L218 , L89;
thus L223: ( ( Line (R11 , R7) ) . C26 ) = ( R11 * (R7 , C26) ) by L216 , MATRIX_1:def 7
.= ( ( ( R9 * ( Line (R10 , R2) ) ) + ( Line (R10 , R3) ) ) . C26 ) by L204 , L205 , L207 , L212 , L211 , L216 , L222 , L186;
end;
thus L224: thesis by L213 , L210 , L209 , L53 , FINSEQ_1:14;
end;

thus L225: (R7 <> R3 implies ( Line (R11 , R7) ) = ( Line (R10 , R7) ))
proof
L226: ( width R11 ) = ( width R10 ) by L53;
L227: ( len ( Line (R11 , R7) ) ) = ( width R11 ) by MATRIX_1:def 7;
assume L228: R7 <> R3;
L229:
now
let C29 being Nat;
assume that
L230: (1 <= C29 & C29 <= ( len ( Line (R11 , R7) ) ));
L231: C29 in ( NAT ) by ORDINAL1:def 12;
L232: C29 in ( Seg ( width R11 ) ) by L231 , L227 , L230;
thus L233: ( ( Line (R11 , R7) ) . C29 ) = ( R11 * (R7 , C29) ) by L232 , MATRIX_1:def 7
.= ( R10 * (R7 , C29) ) by L205 , L206 , L207 , L228 , L226 , L232 , L186
.= ( ( Line (R10 , R7) ) . C29 ) by L226 , L232 , MATRIX_1:def 7;
end;
L234: ( len ( Line (R10 , R7) ) ) = ( width R10 ) by MATRIX_1:def 7;
thus L235: thesis by L234 , L227 , L229 , L53 , FINSEQ_1:14;
end;

end;
notation
let R4 being Nat;
let R5 being Nat;
let R8 being Field;
let C30 being (Matrix of R4 , R5 , R8);
let C31 , C32 being Nat;
synonym ILine (C30 , C31 , C32) for InterchangeLine (C30 , C31 , C32);
end;
notation
let R4 being Nat;
let R5 being Nat;
let R8 being Field;
let C33 being (Matrix of R4 , R5 , R8);
let C34 being Nat;
let C35 being (Element of R8);
synonym SXLine (C33 , C34 , C35) for ScalarXLine (C33 , C34 , C35);
end;
notation
let R4 being Nat;
let R5 being Nat;
let R8 being Field;
let C36 being (Matrix of R4 , R5 , R8);
let C37 , C38 being Nat;
let C39 being (Element of R8);
synonym RLineXS (C36 , C37 , C38 , C39) for RlineXScalar (C36 , C37 , C38 , C39);
end;
theorem
L229: (for R2 being Nat holds (for R3 being Nat holds (for R4 being Nat holds (for R8 being Field holds (for R15 being (Matrix of R4 , R8) holds ((R3 in ( dom ( 1. (R8 , R4) ) ) & R2 in ( dom ( 1. (R8 , R4) ) )) implies ( ( ILine (( 1. (R8 , R4) ) , R3 , R2) ) * R15 ) = ( ILine (R15 , R3 , R2) )))))))
proof
let R2 being Nat;
let R3 being Nat;
let R4 being Nat;
let R8 being Field;
let R15 being (Matrix of R4 , R8);
assume that
L230: R3 in ( dom ( 1. (R8 , R4) ) )
and
L231: R2 in ( dom ( 1. (R8 , R4) ) );
set D8 = ( ILine (( 1. (R8 , R4) ) , R3 , R2) );
L232: (( len D8 ) = ( len ( 1. (R8 , R4) ) ) & ( len D8 ) = R4) by L31 , MATRIX_1:24;
L233: R3 in ( Seg R4 ) by L232 , L230 , FINSEQ_1:def 3;
L234: R2 in ( Seg R4 ) by L231 , L232 , FINSEQ_1:def 3;
L235: ( width D8 ) = R4 by MATRIX_1:24;
L236: ( Indices ( D8 * R15 ) ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
L237: ( width R15 ) = R4 by MATRIX_1:24;
L238: ( len R15 ) = R4 by MATRIX_1:24;
L239: ( width D8 ) = ( width ( 1. (R8 , R4) ) ) by L53;
L240: (for R7 being Nat holds (for R1 being Nat holds ((R1 in ( Seg R4 ) & R7 in ( dom ( 1. (R8 , R4) ) )) implies ((R7 <> R3 & R7 <> R2) implies ( ( D8 * R15 ) * (R7 , R1) ) = ( ( ILine (R15 , R3 , R2) ) * (R7 , R1) )))))
proof
let R7 being Nat;
let R1 being Nat;
assume that
L241: R1 in ( Seg R4 )
and
L242: R7 in ( dom ( 1. (R8 , R4) ) );
L243: R7 in ( Seg R4 ) by L232 , L242 , FINSEQ_1:def 3;
L244: [ R7 , R7 ] in ( Indices ( 1. (R8 , R4) ) ) by L243 , L239 , L235 , L242 , ZFMISC_1:87;
thus L245: ((R7 <> R3 & R7 <> R2) implies ( ( D8 * R15 ) * (R7 , R1) ) = ( ( ILine (R15 , R3 , R2) ) * (R7 , R1) ))
proof
L246: (( ( Line (( 1. (R8 , R4) ) , R7) ) . R7 ) = ( 1_ R8 ) & (for R6 being Nat holds ((R6 in ( dom ( Line (( 1. (R8 , R4) ) , R7) ) ) & R6 <> R7) implies ( ( Line (( 1. (R8 , R4) ) , R7) ) . R6 ) = ( 0. R8 ))))
proof
thus L247: ( ( Line (( 1. (R8 , R4) ) , R7) ) . R7 ) = ( 1_ R8 ) by L244 , MATRIX_3:15;
let R6 being Nat;
assume that
L248: R6 in ( dom ( Line (( 1. (R8 , R4) ) , R7) ) )
and
L249: R6 <> R7;
L250: R6 in ( Seg ( len ( Line (( 1. (R8 , R4) ) , R7) ) ) ) by L248 , FINSEQ_1:def 3;
L251: R6 in ( Seg ( width ( 1. (R8 , R4) ) ) ) by L250 , MATRIX_1:def 7;
L252: [ R7 , R6 ] in ( Indices ( 1. (R8 , R4) ) ) by L251 , L242 , ZFMISC_1:87;
thus L253: thesis by L252 , L249 , MATRIX_3:15;
end;
L254: ( len ( Col (R15 , R1) ) ) = ( len R15 ) by MATRIX_1:def 8;
L255: R7 in ( dom ( Col (R15 , R1) ) ) by L254 , L238 , L243 , FINSEQ_1:def 3;
L256: ( dom ( 1. (R8 , R4) ) ) = ( Seg ( len ( 1. (R8 , R4) ) ) ) by FINSEQ_1:def 3
.= ( Seg ( len R15 ) ) by L238 , MATRIX_1:24
.= ( dom R15 ) by FINSEQ_1:def 3;
L257: ( len ( Line (( 1. (R8 , R4) ) , R7) ) ) = ( width ( 1. (R8 , R4) ) ) by MATRIX_1:def 7;
L258: R7 in ( dom ( Line (( 1. (R8 , R4) ) , R7) ) ) by L257 , L239 , L235 , L243 , FINSEQ_1:def 3;
assume L259: (R7 <> R3 & R7 <> R2);
L260: [ R7 , R1 ] in ( Indices ( D8 * R15 ) ) by L236 , L241 , L243 , ZFMISC_1:87;
L261: ( ( D8 * R15 ) * (R7 , R1) ) = ( ( Line (D8 , R7) ) "*" ( Col (R15 , R1) ) ) by L260 , L235 , L238 , MATRIX_3:def 4
.= ( Sum ( mlt (( Line (( 1. (R8 , R4) ) , R7) ) , ( Col (R15 , R1) )) ) ) by L230 , L231 , L242 , L259 , L61
.= ( ( Col (R15 , R1) ) . R7 ) by L258 , L255 , L246 , MATRIX_3:17
.= ( R15 * (R7 , R1) ) by L242 , L256 , MATRIX_1:def 8
.= ( ( ILine (R15 , R3 , R2) ) * (R7 , R1) ) by L237 , L241 , L242 , L259 , L256 , L31;
thus L262: thesis by L261;
end;

end;
L246: R3 in ( Seg ( width ( 1. (R8 , R4) ) ) ) by L230 , L239 , L232 , L235 , FINSEQ_1:def 3;
L247: [ R3 , R3 ] in ( Indices ( 1. (R8 , R4) ) ) by L246 , L230 , ZFMISC_1:87;
L248: (for R7 being Nat holds (for R1 being Nat holds ((R1 in ( Seg R4 ) & R7 in ( dom ( 1. (R8 , R4) ) )) implies (R7 = R2 implies ( ( D8 * R15 ) * (R7 , R1) ) = ( ( ILine (R15 , R3 , R2) ) * (R7 , R1) )))))
proof
let R7 being Nat;
let R1 being Nat;
assume that
L249: R1 in ( Seg R4 )
and
L250: R7 in ( dom ( 1. (R8 , R4) ) );
thus L251: (R7 = R2 implies ( ( D8 * R15 ) * (R7 , R1) ) = ( ( ILine (R15 , R3 , R2) ) * (R7 , R1) ))
proof
L252: (( ( Line (( 1. (R8 , R4) ) , R3) ) . R3 ) = ( 1_ R8 ) & (for R6 being Nat holds ((R6 in ( dom ( Line (( 1. (R8 , R4) ) , R3) ) ) & R6 <> R3) implies ( ( Line (( 1. (R8 , R4) ) , R3) ) . R6 ) = ( 0. R8 ))))
proof
thus L253: ( ( Line (( 1. (R8 , R4) ) , R3) ) . R3 ) = ( 1_ R8 ) by L247 , MATRIX_3:15;
let R6 being Nat;
assume that
L254: R6 in ( dom ( Line (( 1. (R8 , R4) ) , R3) ) )
and
L255: R6 <> R3;
L256: R6 in ( Seg ( len ( Line (( 1. (R8 , R4) ) , R3) ) ) ) by L254 , FINSEQ_1:def 3;
L257: R6 in ( Seg ( width ( 1. (R8 , R4) ) ) ) by L256 , MATRIX_1:def 7;
L258: [ R3 , R6 ] in ( Indices ( 1. (R8 , R4) ) ) by L257 , L230 , ZFMISC_1:87;
thus L259: thesis by L258 , L255 , MATRIX_3:15;
end;
L260: ( len ( Line (( 1. (R8 , R4) ) , R3) ) ) = ( width ( 1. (R8 , R4) ) ) by MATRIX_1:def 7;
L261: R3 in ( dom ( Line (( 1. (R8 , R4) ) , R3) ) ) by L260 , L246 , FINSEQ_1:def 3;
L262: (( len ( Col (R15 , R1) ) ) = ( len R15 ) & R3 in ( Seg R4 )) by L230 , L232 , FINSEQ_1:def 3 , MATRIX_1:def 8;
L263: R3 in ( dom ( Col (R15 , R1) ) ) by L262 , L238 , FINSEQ_1:def 3;
L264: ( dom ( 1. (R8 , R4) ) ) = ( Seg ( len ( 1. (R8 , R4) ) ) ) by FINSEQ_1:def 3
.= ( Seg ( len R15 ) ) by L238 , MATRIX_1:24
.= ( dom R15 ) by FINSEQ_1:def 3;
assume L265: R7 = R2;
L266: [ R7 , R1 ] in ( Indices ( D8 * R15 ) ) by L265 , L234 , L236 , L249 , ZFMISC_1:87;
L267: ( ( D8 * R15 ) * (R7 , R1) ) = ( ( Line (D8 , R7) ) "*" ( Col (R15 , R1) ) ) by L266 , L235 , L238 , MATRIX_3:def 4
.= ( Sum ( mlt (( Line (( 1. (R8 , R4) ) , R3) ) , ( Col (R15 , R1) )) ) ) by L230 , L231 , L265 , L61
.= ( ( Col (R15 , R1) ) . R3 ) by L261 , L263 , L252 , MATRIX_3:17
.= ( R15 * (R3 , R1) ) by L230 , L264 , MATRIX_1:def 8
.= ( ( ILine (R15 , R3 , R2) ) * (R7 , R1) ) by L237 , L249 , L250 , L265 , L264 , L31;
thus L268: thesis by L267;
end;

end;
L252: R2 in ( Seg ( width ( 1. (R8 , R4) ) ) ) by L231 , L239 , L232 , L235 , FINSEQ_1:def 3;
L253: [ R2 , R2 ] in ( Indices ( 1. (R8 , R4) ) ) by L252 , L231 , ZFMISC_1:87;
L254: (for R7 being Nat holds (for R1 being Nat holds ((R1 in ( Seg R4 ) & R7 in ( dom ( 1. (R8 , R4) ) )) implies (R7 = R3 implies ( ( D8 * R15 ) * (R7 , R1) ) = ( ( ILine (R15 , R3 , R2) ) * (R7 , R1) )))))
proof
let R7 being Nat;
let R1 being Nat;
assume that
L255: R1 in ( Seg R4 )
and
L256: R7 in ( dom ( 1. (R8 , R4) ) );
thus L257: (R7 = R3 implies ( ( D8 * R15 ) * (R7 , R1) ) = ( ( ILine (R15 , R3 , R2) ) * (R7 , R1) ))
proof
L258: (( ( Line (( 1. (R8 , R4) ) , R2) ) . R2 ) = ( 1_ R8 ) & (for R6 being Nat holds ((R6 in ( dom ( Line (( 1. (R8 , R4) ) , R2) ) ) & R6 <> R2) implies ( ( Line (( 1. (R8 , R4) ) , R2) ) . R6 ) = ( 0. R8 ))))
proof
thus L259: ( ( Line (( 1. (R8 , R4) ) , R2) ) . R2 ) = ( 1_ R8 ) by L253 , MATRIX_3:15;
let R6 being Nat;
assume that
L260: R6 in ( dom ( Line (( 1. (R8 , R4) ) , R2) ) )
and
L261: R6 <> R2;
L262: R6 in ( Seg ( len ( Line (( 1. (R8 , R4) ) , R2) ) ) ) by L260 , FINSEQ_1:def 3;
L263: R6 in ( Seg ( width ( 1. (R8 , R4) ) ) ) by L262 , MATRIX_1:def 7;
L264: [ R2 , R6 ] in ( Indices ( 1. (R8 , R4) ) ) by L263 , L231 , ZFMISC_1:87;
thus L265: thesis by L264 , L261 , MATRIX_3:15;
end;
L266: ( len ( Line (( 1. (R8 , R4) ) , R2) ) ) = ( width ( 1. (R8 , R4) ) ) by MATRIX_1:def 7;
L267: R2 in ( dom ( Line (( 1. (R8 , R4) ) , R2) ) ) by L266 , L252 , FINSEQ_1:def 3;
L268: (( len ( Col (R15 , R1) ) ) = ( len R15 ) & R2 in ( Seg R4 )) by L231 , L232 , FINSEQ_1:def 3 , MATRIX_1:def 8;
L269: R2 in ( dom ( Col (R15 , R1) ) ) by L268 , L238 , FINSEQ_1:def 3;
L270: ( dom ( 1. (R8 , R4) ) ) = ( Seg ( len ( 1. (R8 , R4) ) ) ) by FINSEQ_1:def 3
.= ( Seg ( len R15 ) ) by L238 , MATRIX_1:24
.= ( dom R15 ) by FINSEQ_1:def 3;
assume L271: R7 = R3;
L272: [ R7 , R1 ] in ( Indices ( D8 * R15 ) ) by L271 , L233 , L236 , L255 , ZFMISC_1:87;
L273: ( ( D8 * R15 ) * (R7 , R1) ) = ( ( Line (D8 , R7) ) "*" ( Col (R15 , R1) ) ) by L272 , L235 , L238 , MATRIX_3:def 4
.= ( Sum ( mlt (( Line (( 1. (R8 , R4) ) , R2) ) , ( Col (R15 , R1) )) ) ) by L230 , L231 , L271 , L61
.= ( ( Col (R15 , R1) ) . R2 ) by L267 , L269 , L258 , MATRIX_3:17
.= ( R15 * (R2 , R1) ) by L231 , L270 , MATRIX_1:def 8
.= ( ( ILine (R15 , R3 , R2) ) * (R7 , R1) ) by L237 , L255 , L256 , L271 , L270 , L31;
thus L274: thesis by L273;
end;

end;
L258: (for R7 being Nat holds (for R1 being Nat holds ([ R7 , R1 ] in ( Indices ( D8 * R15 ) ) implies ( ( D8 * R15 ) * (R7 , R1) ) = ( ( ILine (R15 , R3 , R2) ) * (R7 , R1) ))))
proof
let R7 being Nat;
let R1 being Nat;
assume L259: [ R7 , R1 ] in ( Indices ( D8 * R15 ) );
L260: ( dom ( 1. (R8 , R4) ) ) = ( Seg ( len ( 1. (R8 , R4) ) ) ) by FINSEQ_1:def 3
.= ( Seg R4 ) by MATRIX_1:24;
L261: R7 in ( dom ( 1. (R8 , R4) ) ) by L260 , L236 , L259 , ZFMISC_1:87;
L262: R1 in ( Seg R4 ) by L236 , L259 , ZFMISC_1:87;
L263: (R7 = R3 implies ( ( D8 * R15 ) * (R7 , R1) ) = ( ( ILine (R15 , R3 , R2) ) * (R7 , R1) )) by L262 , L254 , L261;
thus L264: thesis by L263 , L248 , L240 , L261 , L262;
end;
L265: (( len ( D8 * R15 ) ) = R4 & ( width ( D8 * R15 ) ) = R4) by MATRIX_1:24;
L266: (( len ( ILine (R15 , R3 , R2) ) ) = ( len R15 ) & ( width ( ILine (R15 , R3 , R2) ) ) = ( width R15 )) by L31 , L53;
thus L267: thesis by L266 , L238 , L237 , L265 , L258 , MATRIX_1:21;
end;
theorem
L268: (for R4 being Nat holds (for R8 being Field holds (for R3 being Nat holds (for R9 being (Element of R8) holds (for R15 being (Matrix of R4 , R8) holds (R3 in ( dom ( 1. (R8 , R4) ) ) implies ( ( SXLine (( 1. (R8 , R4) ) , R3 , R9) ) * R15 ) = ( SXLine (R15 , R3 , R9) )))))))
proof
let R4 being Nat;
let R8 being Field;
let R3 being Nat;
let R9 being (Element of R8);
let R15 being (Matrix of R4 , R8);
assume L269: R3 in ( dom ( 1. (R8 , R4) ) );
set D9 = ( SXLine (( 1. (R8 , R4) ) , R3 , R9) );
L270: (( len D9 ) = ( len ( 1. (R8 , R4) ) ) & ( len D9 ) = R4) by L115 , MATRIX_1:24;
L271: R3 in ( Seg R4 ) by L270 , L269 , FINSEQ_1:def 3;
L272: ( width D9 ) = R4 by MATRIX_1:24;
L273: ( width R15 ) = R4 by MATRIX_1:24;
L274: ( len R15 ) = R4 by MATRIX_1:24;
L275: ( Indices ( D9 * R15 ) ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
L276: ( width D9 ) = ( width ( 1. (R8 , R4) ) ) by L53;
L277: R3 in ( Seg ( width ( 1. (R8 , R4) ) ) ) by L276 , L269 , L270 , L272 , FINSEQ_1:def 3;
L278: [ R3 , R3 ] in ( Indices ( 1. (R8 , R4) ) ) by L277 , L269 , ZFMISC_1:87;
L279: (for R7 being Nat holds (for R1 being Nat holds ((R1 in ( Seg R4 ) & R7 in ( dom ( 1. (R8 , R4) ) )) implies (R7 = R3 implies ( ( D9 * R15 ) * (R7 , R1) ) = ( ( SXLine (R15 , R3 , R9) ) * (R7 , R1) )))))
proof
let R7 being Nat;
let R1 being Nat;
assume that
L280: R1 in ( Seg R4 )
and
L281: R7 in ( dom ( 1. (R8 , R4) ) );
thus L282: (R7 = R3 implies ( ( D9 * R15 ) * (R7 , R1) ) = ( ( SXLine (R15 , R3 , R9) ) * (R7 , R1) ))
proof
reconsider D10 = ( Line (( 1. (R8 , R4) ) , R3) ) as (Element of ( ( width R15 ) -tuples_on (the carrier of R8) )) by L53;
reconsider D11 = ( Col (R15 , R1) ) as (Element of ( ( width R15 ) -tuples_on (the carrier of R8) )) by L274 , MATRIX_1:24;
L283: ( len ( Line (( 1. (R8 , R4) ) , R3) ) ) = ( width ( 1. (R8 , R4) ) ) by MATRIX_1:def 7;
L284: R3 in ( dom ( Line (( 1. (R8 , R4) ) , R3) ) ) by L283 , L277 , FINSEQ_1:def 3;
L285: (( len ( Col (R15 , R1) ) ) = ( len R15 ) & R3 in ( Seg R4 )) by L269 , L270 , FINSEQ_1:def 3 , MATRIX_1:def 8;
L286: R3 in ( dom ( Col (R15 , R1) ) ) by L285 , L274 , FINSEQ_1:def 3;
L287: (( ( Line (( 1. (R8 , R4) ) , R3) ) . R3 ) = ( 1_ R8 ) & (for R6 being Nat holds ((R6 in ( dom ( Line (( 1. (R8 , R4) ) , R3) ) ) & R6 <> R3) implies ( ( Line (( 1. (R8 , R4) ) , R3) ) . R6 ) = ( 0. R8 ))))
proof
thus L288: ( ( Line (( 1. (R8 , R4) ) , R3) ) . R3 ) = ( 1_ R8 ) by L278 , MATRIX_3:15;
let R6 being Nat;
assume that
L289: R6 in ( dom ( Line (( 1. (R8 , R4) ) , R3) ) )
and
L290: R6 <> R3;
L291: R6 in ( Seg ( len ( Line (( 1. (R8 , R4) ) , R3) ) ) ) by L289 , FINSEQ_1:def 3;
L292: R6 in ( Seg ( width ( 1. (R8 , R4) ) ) ) by L291 , MATRIX_1:def 7;
L293: [ R3 , R6 ] in ( Indices ( 1. (R8 , R4) ) ) by L292 , L269 , ZFMISC_1:87;
thus L294: thesis by L293 , L290 , MATRIX_3:15;
end;
L295: ( dom ( 1. (R8 , R4) ) ) = ( Seg ( len ( 1. (R8 , R4) ) ) ) by FINSEQ_1:def 3
.= ( Seg ( len R15 ) ) by L274 , MATRIX_1:24
.= ( dom R15 ) by FINSEQ_1:def 3;
L296: ( ( Col (R15 , R1) ) . R3 ) = ( R15 * (R3 , R1) ) by L295 , L269 , MATRIX_1:def 8;
consider C40 being (Element of R8) such that L297: C40 = ( ( Col (R15 , R1) ) . R3 ) by L296;
assume L298: R7 = R3;
L299: [ R7 , R1 ] in ( Indices ( D9 * R15 ) ) by L298 , L271 , L275 , L280 , ZFMISC_1:87;
L300: ( ( D9 * R15 ) * (R7 , R1) ) = ( ( Line (D9 , R7) ) "*" ( Col (R15 , R1) ) ) by L299 , L272 , L274 , MATRIX_3:def 4
.= ( Sum ( mlt (( R9 * D10 ) , D11) ) ) by L269 , L298 , L133
.= ( Sum ( R9 * ( mlt (D10 , D11) ) ) ) by FVSUM_1:69
.= ( R9 * ( Sum ( mlt (( Line (( 1. (R8 , R4) ) , R3) ) , ( Col (R15 , R1) )) ) ) ) by FVSUM_1:73
.= ( R9 * C40 ) by L284 , L286 , L287 , L297 , MATRIX_3:17
.= ( R9 * ( R15 * (R3 , R1) ) ) by L269 , L295 , L297 , MATRIX_1:def 8
.= ( ( SXLine (R15 , R3 , R9) ) * (R7 , R1) ) by L273 , L280 , L281 , L298 , L295 , L115;
thus L301: thesis by L300;
end;

end;
L283: (for R7 being Nat holds (for R1 being Nat holds ((R1 in ( Seg R4 ) & R7 in ( dom ( 1. (R8 , R4) ) )) implies (R7 <> R3 implies ( ( D9 * R15 ) * (R7 , R1) ) = ( ( SXLine (R15 , R3 , R9) ) * (R7 , R1) )))))
proof
let R7 being Nat;
let R1 being Nat;
assume that
L284: R1 in ( Seg R4 )
and
L285: R7 in ( dom ( 1. (R8 , R4) ) );
L286: R7 in ( Seg R4 ) by L270 , L285 , FINSEQ_1:def 3;
L287: [ R7 , R7 ] in ( Indices ( 1. (R8 , R4) ) ) by L286 , L276 , L272 , L285 , ZFMISC_1:87;
thus L288: (R7 <> R3 implies ( ( D9 * R15 ) * (R7 , R1) ) = ( ( SXLine (R15 , R3 , R9) ) * (R7 , R1) ))
proof
L289: (( ( Line (( 1. (R8 , R4) ) , R7) ) . R7 ) = ( 1_ R8 ) & (for R6 being Nat holds ((R6 in ( dom ( Line (( 1. (R8 , R4) ) , R7) ) ) & R6 <> R7) implies ( ( Line (( 1. (R8 , R4) ) , R7) ) . R6 ) = ( 0. R8 ))))
proof
thus L290: ( ( Line (( 1. (R8 , R4) ) , R7) ) . R7 ) = ( 1_ R8 ) by L287 , MATRIX_3:15;
let R6 being Nat;
assume that
L291: R6 in ( dom ( Line (( 1. (R8 , R4) ) , R7) ) )
and
L292: R6 <> R7;
L293: R6 in ( Seg ( len ( Line (( 1. (R8 , R4) ) , R7) ) ) ) by L291 , FINSEQ_1:def 3;
L294: R6 in ( Seg ( width ( 1. (R8 , R4) ) ) ) by L293 , MATRIX_1:def 7;
L295: [ R7 , R6 ] in ( Indices ( 1. (R8 , R4) ) ) by L294 , L285 , ZFMISC_1:87;
thus L296: thesis by L295 , L292 , MATRIX_3:15;
end;
L297: ( len ( Col (R15 , R1) ) ) = ( len R15 ) by MATRIX_1:def 8;
L298: R7 in ( dom ( Col (R15 , R1) ) ) by L297 , L274 , L286 , FINSEQ_1:def 3;
L299: ( dom ( 1. (R8 , R4) ) ) = ( Seg ( len ( 1. (R8 , R4) ) ) ) by FINSEQ_1:def 3
.= ( Seg ( len R15 ) ) by L274 , MATRIX_1:24
.= ( dom R15 ) by FINSEQ_1:def 3;
L300: ( len ( Line (( 1. (R8 , R4) ) , R7) ) ) = ( width ( 1. (R8 , R4) ) ) by MATRIX_1:def 7;
L301: R7 in ( dom ( Line (( 1. (R8 , R4) ) , R7) ) ) by L300 , L276 , L272 , L286 , FINSEQ_1:def 3;
assume L302: R7 <> R3;
L303: [ R7 , R1 ] in ( Indices ( D9 * R15 ) ) by L275 , L284 , L286 , ZFMISC_1:87;
L304: ( ( D9 * R15 ) * (R7 , R1) ) = ( ( Line (D9 , R7) ) "*" ( Col (R15 , R1) ) ) by L303 , L272 , L274 , MATRIX_3:def 4
.= ( Sum ( mlt (( Line (( 1. (R8 , R4) ) , R7) ) , ( Col (R15 , R1) )) ) ) by L269 , L285 , L302 , L133
.= ( ( Col (R15 , R1) ) . R7 ) by L301 , L298 , L289 , MATRIX_3:17
.= ( R15 * (R7 , R1) ) by L285 , L299 , MATRIX_1:def 8
.= ( ( SXLine (R15 , R3 , R9) ) * (R7 , R1) ) by L273 , L284 , L285 , L302 , L299 , L115;
thus L305: thesis by L304;
end;

end;
L289: (for R7 being Nat holds (for R1 being Nat holds ([ R7 , R1 ] in ( Indices ( D9 * R15 ) ) implies ( ( D9 * R15 ) * (R7 , R1) ) = ( ( SXLine (R15 , R3 , R9) ) * (R7 , R1) ))))
proof
let R7 being Nat;
let R1 being Nat;
assume L290: [ R7 , R1 ] in ( Indices ( D9 * R15 ) );
L291: (R7 in ( Seg R4 ) & R1 in ( Seg R4 )) by L290 , L275 , ZFMISC_1:87;
L292: ( dom ( 1. (R8 , R4) ) ) = ( Seg ( len ( 1. (R8 , R4) ) ) ) by FINSEQ_1:def 3
.= ( Seg R4 ) by MATRIX_1:24;
thus L293: thesis by L292 , L279 , L283 , L291;
end;
L294: (( len ( D9 * R15 ) ) = R4 & ( width ( D9 * R15 ) ) = R4) by MATRIX_1:24;
L295: (( len ( SXLine (R15 , R3 , R9) ) ) = ( len R15 ) & ( width ( SXLine (R15 , R3 , R9) ) ) = ( width R15 )) by L115 , L53;
thus L296: thesis by L295 , L274 , L273 , L294 , L289 , MATRIX_1:21;
end;
theorem
L297: (for R2 being Nat holds (for R3 being Nat holds (for R4 being Nat holds (for R8 being Field holds (for R9 being (Element of R8) holds (for R15 being (Matrix of R4 , R8) holds ((R3 in ( dom ( 1. (R8 , R4) ) ) & R2 in ( dom ( 1. (R8 , R4) ) )) implies ( ( RLineXS (( 1. (R8 , R4) ) , R3 , R2 , R9) ) * R15 ) = ( RLineXS (R15 , R3 , R2 , R9) ))))))))
proof
let R2 being Nat;
let R3 being Nat;
let R4 being Nat;
let R8 being Field;
let R9 being (Element of R8);
let R15 being (Matrix of R4 , R8);
assume that
L298: R3 in ( dom ( 1. (R8 , R4) ) )
and
L299: R2 in ( dom ( 1. (R8 , R4) ) );
set D12 = ( RLineXS (( 1. (R8 , R4) ) , R3 , R2 , R9) );
L300: ( len D12 ) = R4 by MATRIX_1:24;
L301: ( len R15 ) = R4 by MATRIX_1:24;
L302: ( dom ( 1. (R8 , R4) ) ) = ( Seg ( len ( 1. (R8 , R4) ) ) ) by FINSEQ_1:def 3
.= ( Seg ( len R15 ) ) by L301 , MATRIX_1:24
.= ( dom R15 ) by FINSEQ_1:def 3;
L303: ( len ( RLineXS (R15 , R3 , R2 , R9) ) ) = ( len R15 ) by L302 , L299 , L186;
L304: (( len ( D12 * R15 ) ) = R4 & ( width ( D12 * R15 ) ) = R4) by MATRIX_1:24;
L305: ( width R15 ) = R4 by MATRIX_1:24;
L306: ( len D12 ) = ( len ( 1. (R8 , R4) ) ) by L299 , L186;
L307: R3 in ( Seg R4 ) by L306 , L298 , L300 , FINSEQ_1:def 3;
L308: ( width D12 ) = R4 by MATRIX_1:24;
L309: ( width D12 ) = ( width ( 1. (R8 , R4) ) ) by L53;
L310: R3 in ( Seg ( width ( 1. (R8 , R4) ) ) ) by L309 , L298 , L306 , L300 , L308 , FINSEQ_1:def 3;
L311: [ R3 , R3 ] in ( Indices ( 1. (R8 , R4) ) ) by L310 , L298 , ZFMISC_1:87;
L312: ( Indices ( D12 * R15 ) ) = [: ( Seg R4 ) , ( Seg R4 ) :] by MATRIX_1:24;
L313: R2 in ( Seg ( width ( 1. (R8 , R4) ) ) ) by L299 , L306 , L309 , L300 , L308 , FINSEQ_1:def 3;
L314: [ R2 , R2 ] in ( Indices ( 1. (R8 , R4) ) ) by L313 , L299 , ZFMISC_1:87;
L315: (for R7 being Nat holds (for R1 being Nat holds ((R1 in ( Seg R4 ) & R7 in ( dom ( 1. (R8 , R4) ) )) implies (R7 = R3 implies ( ( D12 * R15 ) * (R7 , R1) ) = ( ( RLineXS (R15 , R3 , R2 , R9) ) * (R7 , R1) )))))
proof
let R7 being Nat;
let R1 being Nat;
assume that
L316: R1 in ( Seg R4 )
and
L317: R7 in ( dom ( 1. (R8 , R4) ) );
thus L318: (R7 = R3 implies ( ( D12 * R15 ) * (R7 , R1) ) = ( ( RLineXS (R15 , R3 , R2 , R9) ) * (R7 , R1) ))
proof
L319: (( ( Line (( 1. (R8 , R4) ) , R3) ) . R3 ) = ( 1_ R8 ) & (for R6 being Nat holds ((R6 in ( dom ( Line (( 1. (R8 , R4) ) , R3) ) ) & R6 <> R3) implies ( ( Line (( 1. (R8 , R4) ) , R3) ) . R6 ) = ( 0. R8 ))))
proof
thus L320: ( ( Line (( 1. (R8 , R4) ) , R3) ) . R3 ) = ( 1_ R8 ) by L311 , MATRIX_3:15;
let R6 being Nat;
assume that
L321: R6 in ( dom ( Line (( 1. (R8 , R4) ) , R3) ) )
and
L322: R6 <> R3;
L323: R6 in ( Seg ( len ( Line (( 1. (R8 , R4) ) , R3) ) ) ) by L321 , FINSEQ_1:def 3;
L324: R6 in ( Seg ( width ( 1. (R8 , R4) ) ) ) by L323 , MATRIX_1:def 7;
L325: [ R3 , R6 ] in ( Indices ( 1. (R8 , R4) ) ) by L324 , L298 , ZFMISC_1:87;
thus L326: thesis by L325 , L322 , MATRIX_3:15;
end;
reconsider D13 = ( Col (R15 , R1) ) as (Element of ( ( width R15 ) -tuples_on (the carrier of R8) )) by L301 , MATRIX_1:24;
L327: ( len ( Col (R15 , R1) ) ) = ( len R15 ) by MATRIX_1:def 8;
L328: R2 in ( Seg R4 ) by L299 , L306 , L300 , FINSEQ_1:def 3;
L329: R2 in ( dom ( Col (R15 , R1) ) ) by L328 , L301 , L327 , FINSEQ_1:def 3;
L330: ( len ( Line (( 1. (R8 , R4) ) , R2) ) ) = ( width ( 1. (R8 , R4) ) ) by MATRIX_1:def 7;
L331: R2 in ( dom ( Line (( 1. (R8 , R4) ) , R2) ) ) by L330 , L313 , FINSEQ_1:def 3;
L332: R3 in ( Seg R4 ) by L298 , L306 , L300 , FINSEQ_1:def 3;
L333: R3 in ( dom ( Col (R15 , R1) ) ) by L332 , L301 , L327 , FINSEQ_1:def 3;
L334: ( len ( Line (( 1. (R8 , R4) ) , R3) ) ) = ( width ( 1. (R8 , R4) ) ) by MATRIX_1:def 7;
L335: R3 in ( dom ( Line (( 1. (R8 , R4) ) , R3) ) ) by L334 , L310 , FINSEQ_1:def 3;
reconsider D14 = ( Line (( 1. (R8 , R4) ) , R3) ) as (Element of ( ( width R15 ) -tuples_on (the carrier of R8) )) by L53;
L336: ( len D13 ) = ( width R15 ) by CARD_1:def 7;
reconsider D15 = ( Line (( 1. (R8 , R4) ) , R2) ) as (Element of ( ( width R15 ) -tuples_on (the carrier of R8) )) by L53;
L337: (( len ( R9 * D15 ) ) = ( width R15 ) & ( len D14 ) = ( width R15 )) by CARD_1:def 7;
L338: (( ( Line (( 1. (R8 , R4) ) , R2) ) . R2 ) = ( 1_ R8 ) & (for R6 being Nat holds ((R6 in ( dom ( Line (( 1. (R8 , R4) ) , R2) ) ) & R6 <> R2) implies ( ( Line (( 1. (R8 , R4) ) , R2) ) . R6 ) = ( 0. R8 ))))
proof
thus L339: ( ( Line (( 1. (R8 , R4) ) , R2) ) . R2 ) = ( 1_ R8 ) by L314 , MATRIX_3:15;
let R6 being Nat;
assume that
L340: R6 in ( dom ( Line (( 1. (R8 , R4) ) , R2) ) )
and
L341: R6 <> R2;
L342: R6 in ( Seg ( len ( Line (( 1. (R8 , R4) ) , R2) ) ) ) by L340 , FINSEQ_1:def 3;
L343: R6 in ( Seg ( width ( 1. (R8 , R4) ) ) ) by L342 , MATRIX_1:def 7;
L344: [ R2 , R6 ] in ( Indices ( 1. (R8 , R4) ) ) by L343 , L299 , ZFMISC_1:87;
thus L345: thesis by L344 , L341 , MATRIX_3:15;
end;
L346: ( dom ( 1. (R8 , R4) ) ) = ( Seg ( len ( 1. (R8 , R4) ) ) ) by FINSEQ_1:def 3
.= ( Seg ( len R15 ) ) by L301 , MATRIX_1:24
.= ( dom R15 ) by FINSEQ_1:def 3;
L347: ( ( Col (R15 , R1) ) . R2 ) = ( R15 * (R2 , R1) ) by L346 , L299 , MATRIX_1:def 8;
consider C41 being (Element of R8) such that L348: C41 = ( ( Col (R15 , R1) ) . R2 ) by L347;
L349: ( ( Col (R15 , R1) ) . R3 ) = ( R15 * (R3 , R1) ) by L298 , L346 , MATRIX_1:def 8;
consider C42 being (Element of R8) such that L350: C42 = ( ( Col (R15 , R1) ) . R3 ) by L349;
assume L351: R7 = R3;
L352: [ R7 , R1 ] in ( Indices ( D12 * R15 ) ) by L351 , L307 , L312 , L316 , ZFMISC_1:87;
L353: ( ( D12 * R15 ) * (R7 , R1) ) = ( ( Line (D12 , R7) ) "*" ( Col (R15 , R1) ) ) by L352 , L308 , L301 , MATRIX_3:def 4
.= ( Sum ( mlt (( ( R9 * D15 ) + D14 ) , D13) ) ) by L298 , L299 , L351 , L203
.= ( Sum ( ( mlt (( R9 * D15 ) , D13) ) + ( mlt (D14 , D13) ) ) ) by L337 , L336 , MATRIX_4:56
.= ( Sum ( ( R9 * ( mlt (D15 , D13) ) ) + ( mlt (D14 , D13) ) ) ) by FVSUM_1:69
.= ( ( Sum ( R9 * ( mlt (D15 , D13) ) ) ) + ( Sum ( mlt (D14 , D13) ) ) ) by FVSUM_1:76
.= ( ( R9 * ( Sum ( mlt (( Line (( 1. (R8 , R4) ) , R2) ) , ( Col (R15 , R1) )) ) ) ) + ( Sum ( mlt (( Line (( 1. (R8 , R4) ) , R3) ) , ( Col (R15 , R1) )) ) ) ) by FVSUM_1:73
.= ( ( R9 * C41 ) + ( Sum ( mlt (( Line (( 1. (R8 , R4) ) , R3) ) , ( Col (R15 , R1) )) ) ) ) by L331 , L329 , L338 , L348 , MATRIX_3:17
.= ( ( R9 * C41 ) + C42 ) by L335 , L333 , L319 , L350 , MATRIX_3:17
.= ( ( R9 * ( R15 * (R2 , R1) ) ) + ( R15 * (R3 , R1) ) ) by L299 , L346 , L348 , L349 , L350 , MATRIX_1:def 8
.= ( ( RLineXS (R15 , R3 , R2 , R9) ) * (R7 , R1) ) by L298 , L299 , L305 , L316 , L351 , L346 , L186;
thus L354: thesis by L353;
end;

end;
L319: (for R7 being Nat holds (for R1 being Nat holds ((R1 in ( Seg R4 ) & R7 in ( dom ( 1. (R8 , R4) ) )) implies (R7 <> R3 implies ( ( D12 * R15 ) * (R7 , R1) ) = ( ( RLineXS (R15 , R3 , R2 , R9) ) * (R7 , R1) )))))
proof
let R7 being Nat;
let R1 being Nat;
assume that
L320: R1 in ( Seg R4 )
and
L321: R7 in ( dom ( 1. (R8 , R4) ) );
L322: R7 in ( Seg R4 ) by L306 , L300 , L321 , FINSEQ_1:def 3;
L323: [ R7 , R7 ] in ( Indices ( 1. (R8 , R4) ) ) by L322 , L309 , L308 , L321 , ZFMISC_1:87;
thus L324: (R7 <> R3 implies ( ( D12 * R15 ) * (R7 , R1) ) = ( ( RLineXS (R15 , R3 , R2 , R9) ) * (R7 , R1) ))
proof
L325: (( ( Line (( 1. (R8 , R4) ) , R7) ) . R7 ) = ( 1_ R8 ) & (for R6 being Nat holds ((R6 in ( dom ( Line (( 1. (R8 , R4) ) , R7) ) ) & R6 <> R7) implies ( ( Line (( 1. (R8 , R4) ) , R7) ) . R6 ) = ( 0. R8 ))))
proof
thus L326: ( ( Line (( 1. (R8 , R4) ) , R7) ) . R7 ) = ( 1_ R8 ) by L323 , MATRIX_3:15;
let R6 being Nat;
assume that
L327: R6 in ( dom ( Line (( 1. (R8 , R4) ) , R7) ) )
and
L328: R6 <> R7;
L329: R6 in ( Seg ( len ( Line (( 1. (R8 , R4) ) , R7) ) ) ) by L327 , FINSEQ_1:def 3;
L330: R6 in ( Seg ( width ( 1. (R8 , R4) ) ) ) by L329 , MATRIX_1:def 7;
L331: [ R7 , R6 ] in ( Indices ( 1. (R8 , R4) ) ) by L330 , L321 , ZFMISC_1:87;
thus L332: thesis by L331 , L328 , MATRIX_3:15;
end;
L333: ( len ( Col (R15 , R1) ) ) = ( len R15 ) by MATRIX_1:def 8;
L334: R7 in ( dom ( Col (R15 , R1) ) ) by L333 , L301 , L322 , FINSEQ_1:def 3;
L335: ( dom ( 1. (R8 , R4) ) ) = ( Seg ( len ( 1. (R8 , R4) ) ) ) by FINSEQ_1:def 3
.= ( Seg ( len R15 ) ) by L301 , MATRIX_1:24
.= ( dom R15 ) by FINSEQ_1:def 3;
L336: ( len ( Line (( 1. (R8 , R4) ) , R7) ) ) = ( width ( 1. (R8 , R4) ) ) by MATRIX_1:def 7;
L337: R7 in ( dom ( Line (( 1. (R8 , R4) ) , R7) ) ) by L336 , L309 , L308 , L322 , FINSEQ_1:def 3;
assume L338: R7 <> R3;
L339: [ R7 , R1 ] in ( Indices ( D12 * R15 ) ) by L312 , L320 , L322 , ZFMISC_1:87;
L340: ( ( D12 * R15 ) * (R7 , R1) ) = ( ( Line (D12 , R7) ) "*" ( Col (R15 , R1) ) ) by L339 , L308 , L301 , MATRIX_3:def 4
.= ( Sum ( mlt (( Line (( 1. (R8 , R4) ) , R7) ) , ( Col (R15 , R1) )) ) ) by L298 , L299 , L321 , L338 , L203
.= ( ( Col (R15 , R1) ) . R7 ) by L337 , L334 , L325 , MATRIX_3:17
.= ( R15 * (R7 , R1) ) by L321 , L335 , MATRIX_1:def 8
.= ( ( RLineXS (R15 , R3 , R2 , R9) ) * (R7 , R1) ) by L299 , L305 , L320 , L321 , L338 , L335 , L186;
thus L341: thesis by L340;
end;

end;
L325: (for R7 being Nat holds (for R1 being Nat holds ([ R7 , R1 ] in ( Indices ( D12 * R15 ) ) implies ( ( D12 * R15 ) * (R7 , R1) ) = ( ( RLineXS (R15 , R3 , R2 , R9) ) * (R7 , R1) ))))
proof
let R7 being Nat;
let R1 being Nat;
assume L326: [ R7 , R1 ] in ( Indices ( D12 * R15 ) );
L327: (R7 in ( Seg R4 ) & R1 in ( Seg R4 )) by L326 , L312 , ZFMISC_1:87;
L328: ( dom ( 1. (R8 , R4) ) ) = ( Seg ( len ( 1. (R8 , R4) ) ) ) by FINSEQ_1:def 3
.= ( Seg R4 ) by MATRIX_1:24;
thus L329: thesis by L328 , L315 , L319 , L327;
end;
L330: ( width ( RLineXS (R15 , R3 , R2 , R9) ) ) = ( width R15 ) by L53;
thus L331: thesis by L330 , L301 , L305 , L304 , L303 , L325 , MATRIX_1:21;
end;
theorem
L332: (for R2 being Nat holds (for R4 being Nat holds (for R5 being Nat holds (for R8 being Field holds (for R10 being (Matrix of R4 , R5 , R8) holds ( ILine (R10 , R2 , R2) ) = R10)))))
proof
let R2 being Nat;
let R4 being Nat;
let R5 being Nat;
let R8 being Field;
let R10 being (Matrix of R4 , R5 , R8);
L333: (for R7 being Nat holds (for R1 being Nat holds ([ R7 , R1 ] in ( Indices R10 ) implies ( ( ILine (R10 , R2 , R2) ) * (R7 , R1) ) = ( R10 * (R7 , R1) ))))
proof
let R7 being Nat;
let R1 being Nat;
assume L334: [ R7 , R1 ] in ( Indices R10 );
L335: (R7 in ( dom R10 ) & R1 in ( Seg ( width R10 ) )) by L334 , ZFMISC_1:87;
L336: (R7 = R2 implies ( ( ILine (R10 , R2 , R2) ) * (R7 , R1) ) = ( R10 * (R2 , R1) )) by L335 , L31;
thus L337: thesis by L336 , L335 , L31;
end;
L338: (( len ( ILine (R10 , R2 , R2) ) ) = ( len R10 ) & ( width ( ILine (R10 , R2 , R2) ) ) = ( width R10 )) by L31 , L53;
thus L339: thesis by L338 , L333 , MATRIX_1:21;
end;
theorem
L340: (for R2 being Nat holds (for R3 being Nat holds (for R4 being Nat holds (for R5 being Nat holds (for R8 being Field holds (for R10 being (Matrix of R4 , R5 , R8) holds ( ILine (R10 , R3 , R2) ) = ( ILine (R10 , R2 , R3) )))))))
proof
let R2 being Nat;
let R3 being Nat;
let R4 being Nat;
let R5 being Nat;
let R8 being Field;
let R10 being (Matrix of R4 , R5 , R8);
L341: ( width ( ILine (R10 , R2 , R3) ) ) = ( width R10 ) by L53;
L342: (for R7 being Nat holds (for R1 being Nat holds ([ R7 , R1 ] in ( Indices ( ILine (R10 , R3 , R2) ) ) implies ( ( ILine (R10 , R3 , R2) ) * (R7 , R1) ) = ( ( ILine (R10 , R2 , R3) ) * (R7 , R1) ))))
proof
let R7 being Nat;
let R1 being Nat;
L343: ( Indices ( ILine (R10 , R3 , R2) ) ) = ( Indices R10 ) by MATRIX_1:26;
assume L344: [ R7 , R1 ] in ( Indices ( ILine (R10 , R3 , R2) ) );
L345: (R7 in ( dom R10 ) & R1 in ( Seg ( width R10 ) )) by L344 , L343 , ZFMISC_1:87;
L346: (R7 = R2 implies ( ( ILine (R10 , R3 , R2) ) * (R7 , R1) ) = ( R10 * (R3 , R1) )) by L345 , L31;
L347: (R7 = R3 implies ( ( ILine (R10 , R2 , R3) ) * (R7 , R1) ) = ( R10 * (R2 , R1) )) by L345 , L31;
L348: ((R7 <> R3 & R7 <> R2) implies ( ( ILine (R10 , R3 , R2) ) * (R7 , R1) ) = ( R10 * (R7 , R1) )) by L345 , L31;
L349: (R7 = R2 implies ( ( ILine (R10 , R2 , R3) ) * (R7 , R1) ) = ( R10 * (R3 , R1) )) by L345 , L31;
L350: (R7 = R3 implies ( ( ILine (R10 , R3 , R2) ) * (R7 , R1) ) = ( R10 * (R2 , R1) )) by L345 , L31;
thus L351: thesis by L350 , L345 , L346 , L348 , L347 , L349 , L31;
end;
L352: (( len ( ILine (R10 , R3 , R2) ) ) = ( len R10 ) & ( len ( ILine (R10 , R2 , R3) ) ) = ( len R10 )) by L31;
thus L353: thesis by L352 , L341 , L342 , L53 , MATRIX_1:21;
end;
theorem
L354: (for R2 being Nat holds (for R3 being Nat holds (for R4 being Nat holds (for R5 being Nat holds (for R8 being Field holds (for R10 being (Matrix of R4 , R5 , R8) holds ((R3 in ( dom R10 ) & R2 in ( dom R10 )) implies ( ILine (( ILine (R10 , R3 , R2) ) , R3 , R2) ) = R10)))))))
proof
let R2 being Nat;
let R3 being Nat;
let R4 being Nat;
let R5 being Nat;
let R8 being Field;
let R10 being (Matrix of R4 , R5 , R8);
assume L355: (R3 in ( dom R10 ) & R2 in ( dom R10 ));
set D16 = ( ILine (R10 , R3 , R2) );
L356: ( dom D16 ) = ( Seg ( len ( ILine (R10 , R3 , R2) ) ) ) by FINSEQ_1:def 3
.= ( Seg ( len R10 ) ) by L31
.= ( dom R10 ) by FINSEQ_1:def 3;
L357: ( width D16 ) = ( width R10 ) by L53;
L358: (for R7 being Nat holds (for R1 being Nat holds ([ R7 , R1 ] in ( Indices R10 ) implies ( ( ILine (D16 , R3 , R2) ) * (R7 , R1) ) = ( R10 * (R7 , R1) ))))
proof
let R7 being Nat;
let R1 being Nat;
assume L359: [ R7 , R1 ] in ( Indices R10 );
L360: R1 in ( Seg ( width R10 ) ) by L359 , ZFMISC_1:87;
L361: R7 in ( dom R10 ) by L359 , ZFMISC_1:87;
L362: ((R7 <> R3 & R7 <> R2) implies ( ( ILine (D16 , R3 , R2) ) * (R7 , R1) ) = ( D16 * (R7 , R1) )) by L361 , L357 , L356 , L360 , L31;
L363: ((R7 <> R3 & R7 <> R2) implies ( ( ILine (D16 , R3 , R2) ) * (R7 , R1) ) = ( R10 * (R7 , R1) )) by L362 , L361 , L360 , L31;
L364: (( ( ILine (D16 , R3 , R2) ) * (R3 , R1) ) = ( D16 * (R2 , R1) ) & ( ( ILine (D16 , R3 , R2) ) * (R2 , R1) ) = ( D16 * (R3 , R1) )) by L355 , L357 , L356 , L360 , L31;
thus L365: thesis by L364 , L355 , L360 , L363 , L31;
end;
L366: ( width ( ILine (D16 , R3 , R2) ) ) = ( width D16 ) by L53;
L367: (( len D16 ) = ( len R10 ) & ( len ( ILine (D16 , R3 , R2) ) ) = ( len D16 )) by L31;
thus L368: thesis by L367 , L366 , L358 , L53 , MATRIX_1:21;
end;
theorem
L369: (for R2 being Nat holds (for R3 being Nat holds (for R4 being Nat holds (for R8 being Field holds ((R3 in ( dom ( 1. (R8 , R4) ) ) & R2 in ( dom ( 1. (R8 , R4) ) )) implies (( ILine (( 1. (R8 , R4) ) , R3 , R2) ) is  invertible & ( ( ILine (( 1. (R8 , R4) ) , R3 , R2) ) ~ ) = ( ILine (( 1. (R8 , R4) ) , R3 , R2) )))))))
proof
let R2 being Nat;
let R3 being Nat;
let R4 being Nat;
let R8 being Field;
assume L370: (R3 in ( dom ( 1. (R8 , R4) ) ) & R2 in ( dom ( 1. (R8 , R4) ) ));
L371: (( ( ILine (( 1. (R8 , R4) ) , R3 , R2) ) * ( ILine (( 1. (R8 , R4) ) , R3 , R2) ) ) = ( ILine (( ILine (( 1. (R8 , R4) ) , R3 , R2) ) , R3 , R2) ) & ( ILine (( ILine (( 1. (R8 , R4) ) , R3 , R2) ) , R3 , R2) ) = ( 1. (R8 , R4) )) by L370 , L229 , L354;
L372: ( ILine (( 1. (R8 , R4) ) , R3 , R2) ) is_reverse_of ( ILine (( 1. (R8 , R4) ) , R3 , R2) ) by L371 , MATRIX_6:def 2;
L373: ( ILine (( 1. (R8 , R4) ) , R3 , R2) ) is  invertible by L372 , MATRIX_6:def 3;
thus L374: thesis by L373 , L372 , MATRIX_6:def 4;
end;
L375: (for R4 being Nat holds (for R8 being Field holds (for R7 being Nat holds (for R1 being Nat holds (for R3 being Nat holds (for R2 being Nat holds (for R9 being (Element of R8) holds (([ R7 , R1 ] in ( Indices ( 1. (R8 , R4) ) ) & R3 in ( dom ( 1. (R8 , R4) ) ) & R2 in ( dom ( 1. (R8 , R4) ) ) & R2 <> R3) implies ( ( 1. (R8 , R4) ) * (R7 , R1) ) = ( ( RLineXS (( RLineXS (( 1. (R8 , R4) ) , R3 , R2 , ( - R9 )) ) , R3 , R2 , R9) ) * (R7 , R1) )))))))))
proof
let R4 being Nat;
let R8 being Field;
let R7 being Nat;
let R1 being Nat;
let R3 being Nat;
let R2 being Nat;
let R9 being (Element of R8);
assume that
L376: [ R7 , R1 ] in ( Indices ( 1. (R8 , R4) ) )
and
L377: R3 in ( dom ( 1. (R8 , R4) ) )
and
L378: R2 in ( dom ( 1. (R8 , R4) ) )
and
L379: R2 <> R3;
L380: R7 in ( dom ( 1. (R8 , R4) ) ) by L376 , ZFMISC_1:87;
L381: R1 in ( Seg ( width ( 1. (R8 , R4) ) ) ) by L376 , ZFMISC_1:87;
set D17 = ( RLineXS (( 1. (R8 , R4) ) , R3 , R2 , ( - R9 )) );
L382: (( width D17 ) = ( width ( 1. (R8 , R4) ) ) & ( width ( RLineXS (D17 , R3 , R2 , R9) ) ) = ( width D17 )) by L53;
L383: ( dom D17 ) = ( Seg ( len D17 ) ) by FINSEQ_1:def 3
.= ( Seg ( len ( 1. (R8 , R4) ) ) ) by L378 , L186
.= ( dom ( 1. (R8 , R4) ) ) by FINSEQ_1:def 3;
L384: R7 in ( dom D17 ) by L383 , L376 , ZFMISC_1:87;
L385:
now
per cases ;
case L386: R7 = R3;
reconsider D18 = ( Line (( 1. (R8 , R4) ) , R7) ) as (Element of ( ( width D17 ) -tuples_on (the carrier of R8) )) by L53;
reconsider D19 = ( Line (( 1. (R8 , R4) ) , R2) ) as (Element of ( ( width D17 ) -tuples_on (the carrier of R8) )) by L53;
L387: ( Line (D17 , R2) ) = ( Line (( 1. (R8 , R4) ) , R2) ) by L377 , L378 , L379 , L203;
L388: ( Line (( RLineXS (D17 , R3 , R2 , R9) ) , R7) ) = ( ( R9 * ( Line (D17 , R2) ) ) + ( Line (D17 , R7) ) ) by L377 , L378 , L383 , L386 , L203;
L389: ( Line (( RLineXS (D17 , R3 , R2 , R9) ) , R7) ) = ( ( R9 * D19 ) + ( ( ( - R9 ) * D19 ) + D18 ) ) by L388 , L377 , L378 , L386 , L387 , L203
.= ( ( ( R9 * D19 ) + ( ( - R9 ) * D19 ) ) + D18 ) by FINSEQOP:28
.= ( ( ( R9 + ( - R9 ) ) * D19 ) + D18 ) by FVSUM_1:55
.= ( ( ( 0. R8 ) * D19 ) + D18 ) by RLVECT_1:5
.= ( ( ( width D17 ) |-> ( 0. R8 ) ) + D18 ) by FVSUM_1:58
.= ( Line (( 1. (R8 , R4) ) , R7) ) by FVSUM_1:21;
thus L390: ( ( RLineXS (D17 , R3 , R2 , R9) ) * (R7 , R1) ) = ( ( Line (( 1. (R8 , R4) ) , R7) ) . R1 ) by L389 , L381 , L382 , MATRIX_1:def 7
.= ( ( 1. (R8 , R4) ) * (R7 , R1) ) by L381 , MATRIX_1:def 7;
end;
case L391: R7 <> R3;
L392: ( Line (( RLineXS (D17 , R3 , R2 , R9) ) , R7) ) = ( Line (D17 , R7) ) by L391 , L377 , L378 , L383 , L384 , L203;
thus L393: ( ( RLineXS (D17 , R3 , R2 , R9) ) * (R7 , R1) ) = ( ( Line (( RLineXS (D17 , R3 , R2 , R9) ) , R7) ) . R1 ) by L381 , L382 , MATRIX_1:def 7
.= ( ( Line (( 1. (R8 , R4) ) , R7) ) . R1 ) by L377 , L378 , L380 , L391 , L392 , L203
.= ( ( 1. (R8 , R4) ) * (R7 , R1) ) by L381 , MATRIX_1:def 7;
end;
end;
thus L395: thesis by L385;
end;
theorem
L396: (for R2 being Nat holds (for R3 being Nat holds (for R4 being Nat holds (for R8 being Field holds (for R9 being (Element of R8) holds ((R3 in ( dom ( 1. (R8 , R4) ) ) & R2 in ( dom ( 1. (R8 , R4) ) ) & R2 <> R3) implies (( RLineXS (( 1. (R8 , R4) ) , R3 , R2 , R9) ) is  invertible & ( ( RLineXS (( 1. (R8 , R4) ) , R3 , R2 , R9) ) ~ ) = ( RLineXS (( 1. (R8 , R4) ) , R3 , R2 , ( - R9 )) ))))))))
proof
let R2 being Nat;
let R3 being Nat;
let R4 being Nat;
let R8 being Field;
let R9 being (Element of R8);
assume that
L397: (R3 in ( dom ( 1. (R8 , R4) ) ) & R2 in ( dom ( 1. (R8 , R4) ) ))
and
L398: R2 <> R3;
set D20 = ( RLineXS (( 1. (R8 , R4) ) , R3 , R2 , ( - R9 )) );
L399: (for R7 being Nat holds (for R1 being Nat holds ([ R7 , R1 ] in ( Indices ( 1. (R8 , R4) ) ) implies ( ( 1. (R8 , R4) ) * (R7 , R1) ) = ( ( RLineXS (D20 , R3 , R2 , R9) ) * (R7 , R1) )))) by L397 , L398 , L375;
L400: ( 1. (R8 , R4) ) = ( RLineXS (D20 , R3 , R2 , R9) ) by L399 , MATRIX_1:27;
set D21 = ( - R9 );
set D22 = ( RLineXS (( 1. (R8 , R4) ) , R3 , R2 , R9) );
L401: ( R9 + D21 ) = ( 0. R8 ) by RLVECT_1:def 10;
L402: R9 = ( - D21 ) by L401 , RLVECT_1:6;
L403: (for R7 being Nat holds (for R1 being Nat holds ([ R7 , R1 ] in ( Indices ( 1. (R8 , R4) ) ) implies ( ( 1. (R8 , R4) ) * (R7 , R1) ) = ( ( RLineXS (D22 , R3 , R2 , ( - R9 )) ) * (R7 , R1) )))) by L402 , L397 , L398 , L375;
L404: ( 1. (R8 , R4) ) = ( RLineXS (D22 , R3 , R2 , ( - R9 )) ) by L403 , MATRIX_1:27;
L405: (( D22 * D20 ) = ( RLineXS (D20 , R3 , R2 , R9) ) & ( D20 * D22 ) = ( RLineXS (D22 , R3 , R2 , ( - R9 )) )) by L397 , L297;
L406: D20 is_reverse_of D22 by L405 , L400 , L404 , MATRIX_6:def 2;
L407: D22 is  invertible by L406 , MATRIX_6:def 3;
thus L408: thesis by L407 , L406 , MATRIX_6:def 4;
end;
theorem
L409: (for R3 being Nat holds (for R4 being Nat holds (for R8 being Field holds (for R9 being (Element of R8) holds ((R3 in ( dom ( 1. (R8 , R4) ) ) & R9 <> ( 0. R8 )) implies (( SXLine (( 1. (R8 , R4) ) , R3 , R9) ) is  invertible & ( ( SXLine (( 1. (R8 , R4) ) , R3 , R9) ) ~ ) = ( SXLine (( 1. (R8 , R4) ) , R3 , ( R9 " )) )))))))
proof
let R3 being Nat;
let R4 being Nat;
let R8 being Field;
let R9 being (Element of R8);
assume that
L410: R3 in ( dom ( 1. (R8 , R4) ) )
and
L411: R9 <> ( 0. R8 );
set D23 = ( SXLine (( 1. (R8 , R4) ) , R3 , R9) );
L412: ( dom D23 ) = ( Seg ( len D23 ) ) by FINSEQ_1:def 3
.= ( Seg ( len ( 1. (R8 , R4) ) ) ) by L115
.= ( dom ( 1. (R8 , R4) ) ) by FINSEQ_1:def 3;
set D24 = ( SXLine (( 1. (R8 , R4) ) , R3 , ( R9 " )) );
L413: ( dom D24 ) = ( Seg ( len D24 ) ) by FINSEQ_1:def 3
.= ( Seg ( len ( 1. (R8 , R4) ) ) ) by L115
.= ( dom ( 1. (R8 , R4) ) ) by FINSEQ_1:def 3;
L414: ( width D24 ) = ( width ( 1. (R8 , R4) ) ) by L53;
L415: (for R7 being Nat holds (for R1 being Nat holds ([ R7 , R1 ] in ( Indices ( 1. (R8 , R4) ) ) implies ( ( 1. (R8 , R4) ) * (R7 , R1) ) = ( ( SXLine (D24 , R3 , R9) ) * (R7 , R1) ))))
proof
let R7 being Nat;
let R1 being Nat;
assume L416: [ R7 , R1 ] in ( Indices ( 1. (R8 , R4) ) );
L417: R7 in ( dom ( 1. (R8 , R4) ) ) by L416 , ZFMISC_1:87;
L418: R1 in ( Seg ( width ( 1. (R8 , R4) ) ) ) by L416 , ZFMISC_1:87;
L419: (R7 <> R3 implies ( D24 * (R7 , R1) ) = ( ( 1. (R8 , R4) ) * (R7 , R1) )) by L418 , L417 , L115;
L420: ( D24 * (R3 , R1) ) = ( ( R9 " ) * ( ( 1. (R8 , R4) ) * (R3 , R1) ) ) by L410 , L418 , L115;
L421: ( ( SXLine (D24 , R3 , R9) ) * (R3 , R1) ) = ( R9 * ( ( R9 " ) * ( ( 1. (R8 , R4) ) * (R3 , R1) ) ) ) by L420 , L410 , L414 , L413 , L418 , L115
.= ( ( R9 * ( R9 " ) ) * ( ( 1. (R8 , R4) ) * (R3 , R1) ) ) by GROUP_1:def 3
.= ( ( 1_ R8 ) * ( ( 1. (R8 , R4) ) * (R3 , R1) ) ) by L411 , VECTSP_2:def 2
.= ( ( 1. (R8 , R4) ) * (R3 , R1) ) by GROUP_1:def 4;
L422: (R7 <> R3 implies ( ( SXLine (D24 , R3 , R9) ) * (R7 , R1) ) = ( D24 * (R7 , R1) )) by L414 , L413 , L417 , L418 , L115;
thus L423: thesis by L422 , L419 , L421;
end;
L424: ( 1. (R8 , R4) ) = ( SXLine (D24 , R3 , R9) ) by L415 , MATRIX_1:27;
L425: ( width D23 ) = ( width ( 1. (R8 , R4) ) ) by L53;
L426: (for R7 being Nat holds (for R1 being Nat holds ([ R7 , R1 ] in ( Indices ( 1. (R8 , R4) ) ) implies ( ( 1. (R8 , R4) ) * (R7 , R1) ) = ( ( SXLine (D23 , R3 , ( R9 " )) ) * (R7 , R1) ))))
proof
let R7 being Nat;
let R1 being Nat;
assume L427: [ R7 , R1 ] in ( Indices ( 1. (R8 , R4) ) );
L428: R7 in ( dom ( 1. (R8 , R4) ) ) by L427 , ZFMISC_1:87;
L429: R1 in ( Seg ( width ( 1. (R8 , R4) ) ) ) by L427 , ZFMISC_1:87;
L430: (R7 <> R3 implies ( D23 * (R7 , R1) ) = ( ( 1. (R8 , R4) ) * (R7 , R1) )) by L429 , L428 , L115;
L431: ( D23 * (R3 , R1) ) = ( R9 * ( ( 1. (R8 , R4) ) * (R3 , R1) ) ) by L410 , L429 , L115;
L432: ( ( SXLine (D23 , R3 , ( R9 " )) ) * (R3 , R1) ) = ( ( R9 " ) * ( R9 * ( ( 1. (R8 , R4) ) * (R3 , R1) ) ) ) by L431 , L410 , L425 , L412 , L429 , L115
.= ( ( ( R9 " ) * R9 ) * ( ( 1. (R8 , R4) ) * (R3 , R1) ) ) by GROUP_1:def 3
.= ( ( 1_ R8 ) * ( ( 1. (R8 , R4) ) * (R3 , R1) ) ) by L411 , VECTSP_2:def 2
.= ( ( 1. (R8 , R4) ) * (R3 , R1) ) by GROUP_1:def 4;
L433: (R7 <> R3 implies ( ( SXLine (D23 , R3 , ( R9 " )) ) * (R7 , R1) ) = ( D23 * (R7 , R1) )) by L425 , L412 , L428 , L429 , L115;
thus L434: thesis by L433 , L430 , L432;
end;
L435: ( 1. (R8 , R4) ) = ( SXLine (D23 , R3 , ( R9 " )) ) by L426 , MATRIX_1:27;
L436: (( D23 * D24 ) = ( SXLine (D24 , R3 , R9) ) & ( D24 * D23 ) = ( SXLine (D23 , R3 , ( R9 " )) )) by L410 , L268;
L437: D24 is_reverse_of D23 by L436 , L424 , L435 , MATRIX_6:def 2;
L438: D23 is  invertible by L437 , MATRIX_6:def 3;
thus L439: thesis by L438 , L437 , MATRIX_6:def 4;
end;
definition
let R4 being Nat;
let R5 being Nat;
let R8 being Field;
let C43 being (Matrix of R4 , R5 , R8);
let C44 , C45 being Nat;
assume that
L440: C44 in ( Seg ( width C43 ) )
and
L441: C45 in ( Seg ( width C43 ) )
and
L442: R4 > ( 0 )
and
L443: R5 > ( 0 );
func InterchangeCol (C43 , C44 , C45) -> (Matrix of R4 , R5 , R8) means 
:L444: (( len it ) = ( len C43 ) & (for R7 being Nat holds (for R1 being Nat holds ((R7 in ( dom C43 ) & R1 in ( Seg ( width C43 ) )) implies ((R1 = C44 implies ( it * (R7 , R1) ) = ( C43 * (R7 , C45) )) & (R1 = C45 implies ( it * (R7 , R1) ) = ( C43 * (R7 , C44) )) & ((R1 <> C44 & R1 <> C45) implies ( it * (R7 , R1) ) = ( C43 * (R7 , R1) )))))));
existence
proof
L445: ( width C43 ) = R5 by L442 , MATRIX_1:23;
L446: ( len ( C43 @ ) ) = R5 by L445 , L443 , MATRIX_2:10;
L447: ( len C43 ) = R4 by L442 , MATRIX_1:23;
L448: ( width ( C43 @ ) ) = R4 by L447 , L443 , L445 , MATRIX_2:10;
L449: ( C43 @ ) is (Matrix of R5 , R4 , R8) by L448 , L443 , L446 , MATRIX_1:20;
consider C46 being (Matrix of R5 , R4 , R8) such that L450: C46 = ( C43 @ ) by L449;
L451: ( width ( ILine (C46 , C44 , C45) ) ) = R4 by L443 , MATRIX_1:23;
L452: ( len ( ( ILine (C46 , C44 , C45) ) @ ) ) = R4 by L451 , L442 , MATRIX_2:10;
L453: ( len ( ILine (C46 , C44 , C45) ) ) = R5 by L443 , MATRIX_1:23;
L454: ( width ( ( ILine (C46 , C44 , C45) ) @ ) ) = R5 by L453 , L442 , L451 , MATRIX_2:10;
L455: ( ( ILine (C46 , C44 , C45) ) @ ) is (Matrix of R4 , R5 , R8) by L454 , L442 , L452 , MATRIX_1:20;
consider C47 being (Matrix of R4 , R5 , R8) such that L456: C47 = ( ( ILine (C46 , C44 , C45) ) @ ) by L455;
take C47;
L457: (for R7 being Nat holds (for R1 being Nat holds ((R7 in ( dom C43 ) & R1 in ( Seg ( width C43 ) )) implies ((R1 = C44 implies ( C47 * (R7 , R1) ) = ( C43 * (R7 , C45) )) & (R1 = C45 implies ( C47 * (R7 , R1) ) = ( C43 * (R7 , C44) )) & ((R1 <> C44 & R1 <> C45) implies ( C47 * (R7 , R1) ) = ( C43 * (R7 , R1) ))))))
proof
let R7 being Nat;
let R1 being Nat;
assume that
L458: R7 in ( dom C43 )
and
L459: R1 in ( Seg ( width C43 ) );
L460: [ R7 , R1 ] in ( Indices C43 ) by L458 , L459 , ZFMISC_1:87;
L461: [ R1 , R7 ] in ( Indices C46 ) by L460 , L450 , MATRIX_1:def 6;
L462: (R1 in ( dom C46 ) & R7 in ( Seg ( width C46 ) )) by L461 , ZFMISC_1:87;
L463: ( dom ( ILine (C46 , C44 , C45) ) ) = ( Seg ( len ( ILine (C46 , C44 , C45) ) ) ) by FINSEQ_1:def 3
.= ( Seg ( len C46 ) ) by L31
.= ( dom C46 ) by FINSEQ_1:def 3;
L464: [ R1 , R7 ] in ( Indices ( ILine (C46 , C44 , C45) ) ) by L463 , L461 , L53;
thus L465: (R1 = C44 implies ( C47 * (R7 , R1) ) = ( C43 * (R7 , C45) ))
proof
L466: [ R7 , C45 ] in ( Indices C43 ) by L441 , L458 , ZFMISC_1:87;
assume L467: R1 = C44;
L468: ( C47 * (R7 , R1) ) = ( ( ILine (C46 , C44 , C45) ) * (R1 , R7) ) by L456 , L464 , MATRIX_1:def 6
.= ( C46 * (C45 , R7) ) by L462 , L467 , L31
.= ( C43 * (R7 , C45) ) by L450 , L466 , MATRIX_1:def 6;
thus L469: thesis by L468;
end;

thus L470: (R1 = C45 implies ( C47 * (R7 , R1) ) = ( C43 * (R7 , C44) ))
proof
L471: [ R7 , C44 ] in ( Indices C43 ) by L440 , L458 , ZFMISC_1:87;
assume L472: R1 = C45;
L473: ( C47 * (R7 , R1) ) = ( ( ILine (C46 , C44 , C45) ) * (R1 , R7) ) by L456 , L464 , MATRIX_1:def 6
.= ( C46 * (C44 , R7) ) by L462 , L472 , L31
.= ( C43 * (R7 , C44) ) by L450 , L471 , MATRIX_1:def 6;
thus L474: thesis by L473;
end;

thus L475: ((R1 <> C44 & R1 <> C45) implies ( C47 * (R7 , R1) ) = ( C43 * (R7 , R1) ))
proof
assume L476: (R1 <> C44 & R1 <> C45);
L477: ( C47 * (R7 , R1) ) = ( ( ILine (C46 , C44 , C45) ) * (R1 , R7) ) by L456 , L464 , MATRIX_1:def 6
.= ( C46 * (R1 , R7) ) by L462 , L476 , L31
.= ( C43 * (R7 , R1) ) by L450 , L460 , MATRIX_1:def 6;
thus L478: thesis by L477;
end;

end;
thus L476: thesis by L457 , L442 , L447 , MATRIX_1:23;
end;
uniqueness
proof
let C48 , C49 being (Matrix of R4 , R5 , R8);
assume that
L477: ( len C48 ) = ( len C43 )
and
L478: (for R7 being Nat holds (for R1 being Nat holds ((R7 in ( dom C43 ) & R1 in ( Seg ( width C43 ) )) implies ((R1 = C44 implies ( C48 * (R7 , R1) ) = ( C43 * (R7 , C45) )) & (R1 = C45 implies ( C48 * (R7 , R1) ) = ( C43 * (R7 , C44) )) & ((R1 <> C44 & R1 <> C45) implies ( C48 * (R7 , R1) ) = ( C43 * (R7 , R1) ))))))
and
L479: ( len C49 ) = ( len C43 )
and
L480: (for R7 being Nat holds (for R1 being Nat holds ((R7 in ( dom C43 ) & R1 in ( Seg ( width C43 ) )) implies ((R1 = C44 implies ( C49 * (R7 , R1) ) = ( C43 * (R7 , C45) )) & (R1 = C45 implies ( C49 * (R7 , R1) ) = ( C43 * (R7 , C44) )) & ((R1 <> C44 & R1 <> C45) implies ( C49 * (R7 , R1) ) = ( C43 * (R7 , R1) ))))));
L481: (for R7 being Nat holds (for R1 being Nat holds ([ R7 , R1 ] in ( Indices C48 ) implies ( C48 * (R7 , R1) ) = ( C49 * (R7 , R1) ))))
proof
L482: ( Indices C43 ) = ( Indices C48 ) by MATRIX_1:26;
let R7 being Nat;
let R1 being Nat;
assume L483: [ R7 , R1 ] in ( Indices C48 );
L484: (R7 in ( dom C43 ) & R1 in ( Seg ( width C43 ) )) by L483 , L482 , ZFMISC_1:87;
L485: (R1 = C45 implies ( C48 * (R7 , R1) ) = ( C43 * (R7 , C44) )) by L484 , L478;
L486: (R1 = C44 implies ( C49 * (R7 , R1) ) = ( C43 * (R7 , C45) )) by L480 , L484;
L487: ((R1 <> C44 & R1 <> C45) implies ( C48 * (R7 , R1) ) = ( C43 * (R7 , R1) )) by L478 , L484;
L488: (R1 = C45 implies ( C49 * (R7 , R1) ) = ( C43 * (R7 , C44) )) by L480 , L484;
L489: (R1 = C44 implies ( C48 * (R7 , R1) ) = ( C43 * (R7 , C45) )) by L478 , L484;
thus L490: thesis by L489 , L480 , L484 , L485 , L487 , L486 , L488;
end;
thus L491: thesis by L481 , MATRIX_1:27;
end;
end;
definition
let R4 being Nat;
let R5 being Nat;
let R8 being Field;
let C50 being (Matrix of R4 , R5 , R8);
let C51 being Nat;
let C52 being (Element of R8);
assume that
L493: C51 in ( Seg ( width C50 ) )
and
L494: R4 > ( 0 )
and
L495: R5 > ( 0 );
func ScalarXCol (C50 , C51 , C52) -> (Matrix of R4 , R5 , R8) means 
:L496: (( len it ) = ( len C50 ) & (for R7 being Nat holds (for R1 being Nat holds ((R7 in ( dom C50 ) & R1 in ( Seg ( width C50 ) )) implies ((R1 = C51 implies ( it * (R7 , R1) ) = ( C52 * ( C50 * (R7 , C51) ) )) & (R1 <> C51 implies ( it * (R7 , R1) ) = ( C50 * (R7 , R1) )))))));
existence
proof
L497: ( width C50 ) = R5 by L494 , MATRIX_1:23;
L498: ( len ( C50 @ ) ) = R5 by L497 , L495 , MATRIX_2:10;
L499: ( len C50 ) = R4 by L494 , MATRIX_1:23;
L500: ( width ( C50 @ ) ) = R4 by L499 , L495 , L497 , MATRIX_2:10;
L501: ( C50 @ ) is (Matrix of R5 , R4 , R8) by L500 , L495 , L498 , MATRIX_1:20;
consider C53 being (Matrix of R5 , R4 , R8) such that L502: C53 = ( C50 @ ) by L501;
L503: ( width ( ScalarXLine (C53 , C51 , C52) ) ) = R4 by L495 , MATRIX_1:23;
L504: ( len ( ( ScalarXLine (C53 , C51 , C52) ) @ ) ) = R4 by L503 , L494 , MATRIX_2:10;
L505: ( len ( ScalarXLine (C53 , C51 , C52) ) ) = R5 by L495 , MATRIX_1:23;
L506: ( width ( ( ScalarXLine (C53 , C51 , C52) ) @ ) ) = R5 by L505 , L494 , L503 , MATRIX_2:10;
L507: ( ( ScalarXLine (C53 , C51 , C52) ) @ ) is (Matrix of R4 , R5 , R8) by L506 , L494 , L504 , MATRIX_1:20;
consider C54 being (Matrix of R4 , R5 , R8) such that L508: C54 = ( ( ScalarXLine (C53 , C51 , C52) ) @ ) by L507;
take C54;
L509: (for R7 being Nat holds (for R1 being Nat holds ((R7 in ( dom C50 ) & R1 in ( Seg ( width C50 ) )) implies ((R1 = C51 implies ( C54 * (R7 , R1) ) = ( C52 * ( C50 * (R7 , C51) ) )) & (R1 <> C51 implies ( C54 * (R7 , R1) ) = ( C50 * (R7 , R1) ))))))
proof
let R7 being Nat;
let R1 being Nat;
assume that
L510: R7 in ( dom C50 )
and
L511: R1 in ( Seg ( width C50 ) );
L512: [ R7 , R1 ] in ( Indices C50 ) by L510 , L511 , ZFMISC_1:87;
L513: [ R1 , R7 ] in ( Indices C53 ) by L512 , L502 , MATRIX_1:def 6;
L514: ( dom ( ScalarXLine (C53 , C51 , C52) ) ) = ( Seg ( len ( ScalarXLine (C53 , C51 , C52) ) ) ) by FINSEQ_1:def 3
.= ( Seg ( len C53 ) ) by L115
.= ( dom C53 ) by FINSEQ_1:def 3;
L515: [ R1 , R7 ] in ( Indices ( ScalarXLine (C53 , C51 , C52) ) ) by L514 , L513 , L53;
L516: (R1 in ( dom C53 ) & R7 in ( Seg ( width C53 ) )) by L513 , ZFMISC_1:87;
thus L517: (R1 = C51 implies ( C54 * (R7 , R1) ) = ( C52 * ( C50 * (R7 , C51) ) ))
proof
L518: [ R7 , C51 ] in ( Indices C50 ) by L493 , L510 , ZFMISC_1:87;
assume L519: R1 = C51;
L520: ( C54 * (R7 , R1) ) = ( ( ScalarXLine (C53 , C51 , C52) ) * (R1 , R7) ) by L508 , L515 , MATRIX_1:def 6
.= ( C52 * ( C53 * (C51 , R7) ) ) by L516 , L519 , L115
.= ( C52 * ( C50 * (R7 , C51) ) ) by L502 , L518 , MATRIX_1:def 6;
thus L521: thesis by L520;
end;

thus L522: (R1 <> C51 implies ( C54 * (R7 , R1) ) = ( C50 * (R7 , R1) ))
proof
assume L523: R1 <> C51;
L524: ( C54 * (R7 , R1) ) = ( ( ScalarXLine (C53 , C51 , C52) ) * (R1 , R7) ) by L508 , L515 , MATRIX_1:def 6
.= ( C53 * (R1 , R7) ) by L516 , L523 , L115
.= ( C50 * (R7 , R1) ) by L502 , L512 , MATRIX_1:def 6;
thus L525: thesis by L524;
end;

end;
thus L523: thesis by L509 , L494 , L499 , MATRIX_1:23;
end;
uniqueness
proof
let C55 , C56 being (Matrix of R4 , R5 , R8);
assume that
L524: ( len C55 ) = ( len C50 )
and
L525: (for R7 being Nat holds (for R1 being Nat holds ((R7 in ( dom C50 ) & R1 in ( Seg ( width C50 ) )) implies ((R1 = C51 implies ( C55 * (R7 , R1) ) = ( C52 * ( C50 * (R7 , C51) ) )) & (R1 <> C51 implies ( C55 * (R7 , R1) ) = ( C50 * (R7 , R1) ))))))
and
L526: ( len C56 ) = ( len C50 )
and
L527: (for R7 being Nat holds (for R1 being Nat holds ((R7 in ( dom C50 ) & R1 in ( Seg ( width C50 ) )) implies ((R1 = C51 implies ( C56 * (R7 , R1) ) = ( C52 * ( C50 * (R7 , C51) ) )) & (R1 <> C51 implies ( C56 * (R7 , R1) ) = ( C50 * (R7 , R1) ))))));
L528: (for R7 being Nat holds (for R1 being Nat holds ([ R7 , R1 ] in ( Indices C55 ) implies ( C55 * (R7 , R1) ) = ( C56 * (R7 , R1) ))))
proof
L529: ( Indices C50 ) = ( Indices C55 ) by MATRIX_1:26;
let R7 being Nat;
let R1 being Nat;
assume L530: [ R7 , R1 ] in ( Indices C55 );
L531: (R7 in ( dom C50 ) & R1 in ( Seg ( width C50 ) )) by L530 , L529 , ZFMISC_1:87;
L532: (R1 <> C51 implies ( C55 * (R7 , R1) ) = ( C50 * (R7 , R1) )) by L531 , L525;
L533: (R1 = C51 implies ( C55 * (R7 , R1) ) = ( C52 * ( C50 * (R7 , C51) ) )) by L525 , L531;
thus L534: thesis by L533 , L527 , L531 , L532;
end;
thus L535: thesis by L528 , MATRIX_1:27;
end;
end;
definition
let R4 being Nat;
let R5 being Nat;
let R8 being Field;
let C57 being (Matrix of R4 , R5 , R8);
let C58 , C59 being Nat;
let C60 being (Element of R8);
assume that
L537: C58 in ( Seg ( width C57 ) )
and
L538: C59 in ( Seg ( width C57 ) )
and
L539: R4 > ( 0 )
and
L540: R5 > ( 0 );
func RcolXScalar (C57 , C58 , C59 , C60) -> (Matrix of R4 , R5 , R8) means 
:L541: (( len it ) = ( len C57 ) & (for R7 being Nat holds (for R1 being Nat holds ((R7 in ( dom C57 ) & R1 in ( Seg ( width C57 ) )) implies ((R1 = C58 implies ( it * (R7 , R1) ) = ( ( C60 * ( C57 * (R7 , C59) ) ) + ( C57 * (R7 , C58) ) )) & (R1 <> C58 implies ( it * (R7 , R1) ) = ( C57 * (R7 , R1) )))))));
existence
proof
L542: ( width C57 ) = R5 by L539 , MATRIX_1:23;
L543: ( len ( C57 @ ) ) = R5 by L542 , L540 , MATRIX_2:10;
L544: ( len C57 ) = R4 by L539 , MATRIX_1:23;
L545: ( width ( C57 @ ) ) = R4 by L544 , L540 , L542 , MATRIX_2:10;
L546: ( C57 @ ) is (Matrix of R5 , R4 , R8) by L545 , L540 , L543 , MATRIX_1:20;
consider C61 being (Matrix of R5 , R4 , R8) such that L547: C61 = ( C57 @ ) by L546;
L548: ( width ( RlineXScalar (C61 , C58 , C59 , C60) ) ) = R4 by L540 , MATRIX_1:23;
L549: ( len ( ( RlineXScalar (C61 , C58 , C59 , C60) ) @ ) ) = R4 by L548 , L539 , MATRIX_2:10;
L550: ( len ( RlineXScalar (C61 , C58 , C59 , C60) ) ) = R5 by L540 , MATRIX_1:23;
L551: ( width ( ( RlineXScalar (C61 , C58 , C59 , C60) ) @ ) ) = R5 by L550 , L539 , L548 , MATRIX_2:10;
L552: ( ( RlineXScalar (C61 , C58 , C59 , C60) ) @ ) is (Matrix of R4 , R5 , R8) by L551 , L539 , L549 , MATRIX_1:20;
consider C62 being (Matrix of R4 , R5 , R8) such that L553: C62 = ( ( RlineXScalar (C61 , C58 , C59 , C60) ) @ ) by L552;
take C62;
L554: (for R7 being Nat holds (for R1 being Nat holds ((R7 in ( dom C57 ) & R1 in ( Seg ( width C57 ) )) implies ((R1 = C58 implies ( C62 * (R7 , R1) ) = ( ( C60 * ( C57 * (R7 , C59) ) ) + ( C57 * (R7 , C58) ) )) & (R1 <> C58 implies ( C62 * (R7 , R1) ) = ( C57 * (R7 , R1) ))))))
proof
let R7 being Nat;
let R1 being Nat;
assume that
L555: R7 in ( dom C57 )
and
L556: R1 in ( Seg ( width C57 ) );
L557: [ R7 , R1 ] in ( Indices C57 ) by L555 , L556 , ZFMISC_1:87;
L558: [ R1 , R7 ] in ( Indices C61 ) by L557 , L547 , MATRIX_1:def 6;
L559: R7 in ( Seg ( width C61 ) ) by L558 , ZFMISC_1:87;
L560: ( len C61 ) = ( width C57 ) by L547 , MATRIX_1:def 6;
L561: C59 in ( dom C61 ) by L560 , L538 , FINSEQ_1:def 3;
L562: ( dom ( RlineXScalar (C61 , C58 , C59 , C60) ) ) = ( Seg ( len ( RlineXScalar (C61 , C58 , C59 , C60) ) ) ) by FINSEQ_1:def 3
.= ( Seg ( len C61 ) ) by L561 , L186
.= ( dom C61 ) by FINSEQ_1:def 3;
L563: [ R1 , R7 ] in ( Indices ( RlineXScalar (C61 , C58 , C59 , C60) ) ) by L562 , L558 , L53;
L564: C58 in ( dom C61 ) by L537 , L560 , FINSEQ_1:def 3;
thus L565: (R1 = C58 implies ( C62 * (R7 , R1) ) = ( ( C60 * ( C57 * (R7 , C59) ) ) + ( C57 * (R7 , C58) ) ))
proof
L566: [ R7 , C59 ] in ( Indices C57 ) by L538 , L555 , ZFMISC_1:87;
L567: [ R7 , C58 ] in ( Indices C57 ) by L537 , L555 , ZFMISC_1:87;
assume L568: R1 = C58;
L569: ( C62 * (R7 , R1) ) = ( ( RlineXScalar (C61 , C58 , C59 , C60) ) * (R1 , R7) ) by L553 , L563 , MATRIX_1:def 6
.= ( ( C60 * ( C61 * (C59 , R7) ) ) + ( C61 * (C58 , R7) ) ) by L564 , L561 , L559 , L568 , L186
.= ( ( C60 * ( C57 * (R7 , C59) ) ) + ( C61 * (C58 , R7) ) ) by L547 , L566 , MATRIX_1:def 6
.= ( ( C60 * ( C57 * (R7 , C59) ) ) + ( C57 * (R7 , C58) ) ) by L547 , L567 , MATRIX_1:def 6;
thus L570: thesis by L569;
end;

L571: R1 in ( dom C61 ) by L558 , ZFMISC_1:87;
thus L572: (R1 <> C58 implies ( C62 * (R7 , R1) ) = ( C57 * (R7 , R1) ))
proof
assume L573: R1 <> C58;
L574: ( C62 * (R7 , R1) ) = ( ( RlineXScalar (C61 , C58 , C59 , C60) ) * (R1 , R7) ) by L553 , L563 , MATRIX_1:def 6
.= ( C61 * (R1 , R7) ) by L561 , L571 , L559 , L573 , L186
.= ( C57 * (R7 , R1) ) by L547 , L557 , MATRIX_1:def 6;
thus L575: thesis by L574;
end;

end;
thus L573: thesis by L554 , L539 , L544 , MATRIX_1:23;
end;
uniqueness
proof
let C63 , C64 being (Matrix of R4 , R5 , R8);
assume that
L574: ( len C63 ) = ( len C57 )
and
L575: (for R7 being Nat holds (for R1 being Nat holds ((R7 in ( dom C57 ) & R1 in ( Seg ( width C57 ) )) implies ((R1 = C58 implies ( C63 * (R7 , R1) ) = ( ( C60 * ( C57 * (R7 , C59) ) ) + ( C57 * (R7 , C58) ) )) & (R1 <> C58 implies ( C63 * (R7 , R1) ) = ( C57 * (R7 , R1) ))))))
and
L576: ( len C64 ) = ( len C57 )
and
L577: (for R7 being Nat holds (for R1 being Nat holds ((R7 in ( dom C57 ) & R1 in ( Seg ( width C57 ) )) implies ((R1 = C58 implies ( C64 * (R7 , R1) ) = ( ( C60 * ( C57 * (R7 , C59) ) ) + ( C57 * (R7 , C58) ) )) & (R1 <> C58 implies ( C64 * (R7 , R1) ) = ( C57 * (R7 , R1) ))))));
L578: (for R7 being Nat holds (for R1 being Nat holds ([ R7 , R1 ] in ( Indices C63 ) implies ( C63 * (R7 , R1) ) = ( C64 * (R7 , R1) ))))
proof
L579: ( Indices C57 ) = ( Indices C63 ) by MATRIX_1:26;
let R7 being Nat;
let R1 being Nat;
assume L580: [ R7 , R1 ] in ( Indices C63 );
L581: (R7 in ( dom C57 ) & R1 in ( Seg ( width C57 ) )) by L580 , L579 , ZFMISC_1:87;
L582: (R1 <> C58 implies ( C63 * (R7 , R1) ) = ( C57 * (R7 , R1) )) by L581 , L575;
L583: (R1 = C58 implies ( C63 * (R7 , R1) ) = ( ( C60 * ( C57 * (R7 , C59) ) ) + ( C57 * (R7 , C58) ) )) by L575 , L581;
thus L584: thesis by L583 , L577 , L581 , L582;
end;
thus L585: thesis by L578 , MATRIX_1:27;
end;
end;
notation
let R4 being Nat;
let R5 being Nat;
let R8 being Field;
let C65 being (Matrix of R4 , R5 , R8);
let C66 , C67 being Nat;
synonym ICol (C65 , C66 , C67) for InterchangeCol (C65 , C66 , C67);
end;
notation
let R4 being Nat;
let R5 being Nat;
let R8 being Field;
let C68 being (Matrix of R4 , R5 , R8);
let C69 being Nat;
let C70 being (Element of R8);
synonym SXCol (C68 , C69 , C70) for ScalarXCol (C68 , C69 , C70);
end;
notation
let R4 being Nat;
let R5 being Nat;
let R8 being Field;
let C71 being (Matrix of R4 , R5 , R8);
let C72 , C73 being Nat;
let C74 being (Element of R8);
synonym RColXS (C71 , C72 , C73 , C74) for RcolXScalar (C71 , C72 , C73 , C74);
end;
theorem
L590: (for R2 being Nat holds (for R3 being Nat holds (for R4 being Nat holds (for R5 being Nat holds (for R8 being Field holds (for R10 being (Matrix of R4 , R5 , R8) holds (for R11 being (Matrix of R4 , R5 , R8) holds ((R3 in ( Seg ( width R10 ) ) & R2 in ( Seg ( width R10 ) ) & R4 > ( 0 ) & R5 > ( 0 ) & R11 = ( R10 @ )) implies ( ( ILine (R11 , R3 , R2) ) @ ) = ( ICol (R10 , R3 , R2) )))))))))
proof
let R2 being Nat;
let R3 being Nat;
let R4 being Nat;
let R5 being Nat;
let R8 being Field;
let R10 being (Matrix of R4 , R5 , R8);
let R11 being (Matrix of R4 , R5 , R8);
assume that
L591: R3 in ( Seg ( width R10 ) )
and
L592: R2 in ( Seg ( width R10 ) )
and
L593: R4 > ( 0 )
and
L594: R5 > ( 0 )
and
L595: R11 = ( R10 @ );
L596: ( width R10 ) = R5 by L593 , MATRIX_1:23;
L597: ( width ( ILine (R11 , R3 , R2) ) ) = ( width R11 ) by L53;
L598: ( len R10 ) = R4 by L593 , MATRIX_1:23;
L599: ( width R11 ) = R4 by L598 , L594 , L595 , L596 , MATRIX_2:10;
L600: ( len ( ( ILine (R11 , R3 , R2) ) @ ) ) = R4 by L599 , L593 , L597 , MATRIX_2:10;
L601: ( len ( ILine (R11 , R3 , R2) ) ) = ( len R11 ) by L31;
L602: ( len R11 ) = R5 by L594 , L595 , L596 , MATRIX_2:10;
L603: ( width ( ( ILine (R11 , R3 , R2) ) @ ) ) = R5 by L602 , L593 , L599 , L601 , L597 , MATRIX_2:10;
L604: ( ( ILine (R11 , R3 , R2) ) @ ) is (Matrix of R4 , R5 , R8) by L603 , L593 , L600 , MATRIX_1:20;
consider C75 being (Matrix of R4 , R5 , R8) such that L605: C75 = ( ( ILine (R11 , R3 , R2) ) @ ) by L604;
L606: (for R7 being Nat holds (for R1 being Nat holds ((R7 in ( dom R10 ) & R1 in ( Seg ( width R10 ) )) implies ((R1 = R3 implies ( C75 * (R7 , R1) ) = ( R10 * (R7 , R2) )) & (R1 = R2 implies ( C75 * (R7 , R1) ) = ( R10 * (R7 , R3) )) & ((R1 <> R3 & R1 <> R2) implies ( C75 * (R7 , R1) ) = ( R10 * (R7 , R1) ))))))
proof
let R7 being Nat;
let R1 being Nat;
assume that
L607: R7 in ( dom R10 )
and
L608: R1 in ( Seg ( width R10 ) );
L609: [ R7 , R1 ] in ( Indices R10 ) by L607 , L608 , ZFMISC_1:87;
L610: [ R1 , R7 ] in ( Indices R11 ) by L609 , L595 , MATRIX_1:def 6;
L611: (R1 in ( dom R11 ) & R7 in ( Seg ( width R11 ) )) by L610 , ZFMISC_1:87;
L612: ( dom ( ILine (R11 , R3 , R2) ) ) = ( Seg ( len ( ILine (R11 , R3 , R2) ) ) ) by FINSEQ_1:def 3
.= ( Seg ( len R11 ) ) by L31
.= ( dom R11 ) by FINSEQ_1:def 3;
L613: [ R1 , R7 ] in ( Indices ( ILine (R11 , R3 , R2) ) ) by L612 , L610 , L53;
thus L614: (R1 = R3 implies ( C75 * (R7 , R1) ) = ( R10 * (R7 , R2) ))
proof
L615: [ R7 , R2 ] in ( Indices R10 ) by L592 , L607 , ZFMISC_1:87;
assume L616: R1 = R3;
L617: ( C75 * (R7 , R1) ) = ( ( ILine (R11 , R3 , R2) ) * (R1 , R7) ) by L605 , L613 , MATRIX_1:def 6
.= ( R11 * (R2 , R7) ) by L611 , L616 , L31
.= ( R10 * (R7 , R2) ) by L595 , L615 , MATRIX_1:def 6;
thus L618: thesis by L617;
end;

thus L619: (R1 = R2 implies ( C75 * (R7 , R1) ) = ( R10 * (R7 , R3) ))
proof
L620: [ R7 , R3 ] in ( Indices R10 ) by L591 , L607 , ZFMISC_1:87;
assume L621: R1 = R2;
L622: ( C75 * (R7 , R1) ) = ( ( ILine (R11 , R3 , R2) ) * (R1 , R7) ) by L605 , L613 , MATRIX_1:def 6
.= ( R11 * (R3 , R7) ) by L611 , L621 , L31
.= ( R10 * (R7 , R3) ) by L595 , L620 , MATRIX_1:def 6;
thus L623: thesis by L622;
end;

assume L624: (R1 <> R3 & R1 <> R2);
L625: ( C75 * (R7 , R1) ) = ( ( ILine (R11 , R3 , R2) ) * (R1 , R7) ) by L605 , L613 , MATRIX_1:def 6
.= ( R11 * (R1 , R7) ) by L611 , L624 , L31
.= ( R10 * (R7 , R1) ) by L595 , L609 , MATRIX_1:def 6;
thus L626: thesis by L625;
end;
L627: (for R7 being Nat holds (for R1 being Nat holds ([ R7 , R1 ] in ( Indices ( ICol (R10 , R3 , R2) ) ) implies ( ( ICol (R10 , R3 , R2) ) * (R7 , R1) ) = ( ( ( ILine (R11 , R3 , R2) ) @ ) * (R7 , R1) ))))
proof
L628: ( Indices R10 ) = ( Indices ( ICol (R10 , R3 , R2) ) ) by MATRIX_1:26;
let R7 being Nat;
let R1 being Nat;
assume L629: [ R7 , R1 ] in ( Indices ( ICol (R10 , R3 , R2) ) );
L630: (R7 in ( dom R10 ) & R1 in ( Seg ( width R10 ) )) by L629 , L628 , ZFMISC_1:87;
L631: (R1 = R3 implies ( ( ( ILine (R11 , R3 , R2) ) @ ) * (R7 , R1) ) = ( R10 * (R7 , R2) )) by L630 , L605 , L606;
L632: (R1 = R2 implies ( ( ICol (R10 , R3 , R2) ) * (R7 , R1) ) = ( R10 * (R7 , R3) )) by L591 , L593 , L594 , L630 , L444;
L633: (R1 = R2 implies ( ( ( ILine (R11 , R3 , R2) ) @ ) * (R7 , R1) ) = ( R10 * (R7 , R3) )) by L605 , L606 , L630;
L634: ((R1 <> R3 & R1 <> R2) implies ( ( ( ILine (R11 , R3 , R2) ) @ ) * (R7 , R1) ) = ( R10 * (R7 , R1) )) by L605 , L606 , L630;
L635: (R1 = R3 implies ( ( ICol (R10 , R3 , R2) ) * (R7 , R1) ) = ( R10 * (R7 , R2) )) by L592 , L593 , L594 , L630 , L444;
thus L636: thesis by L635 , L591 , L592 , L593 , L594 , L630 , L631 , L633 , L634 , L632 , L444;
end;
thus L637: thesis by L627 , L604 , MATRIX_1:27;
end;
theorem
L638: (for R3 being Nat holds (for R4 being Nat holds (for R5 being Nat holds (for R8 being Field holds (for R9 being (Element of R8) holds (for R10 being (Matrix of R4 , R5 , R8) holds (for R11 being (Matrix of R4 , R5 , R8) holds ((R3 in ( Seg ( width R10 ) ) & R4 > ( 0 ) & R5 > ( 0 ) & R11 = ( R10 @ )) implies ( ( SXLine (R11 , R3 , R9) ) @ ) = ( SXCol (R10 , R3 , R9) )))))))))
proof
let R3 being Nat;
let R4 being Nat;
let R5 being Nat;
let R8 being Field;
let R9 being (Element of R8);
let R10 being (Matrix of R4 , R5 , R8);
let R11 being (Matrix of R4 , R5 , R8);
assume that
L639: R3 in ( Seg ( width R10 ) )
and
L640: R4 > ( 0 )
and
L641: R5 > ( 0 )
and
L642: R11 = ( R10 @ );
L643: ( width R10 ) = R5 by L640 , MATRIX_1:23;
L644: ( width ( SXLine (R11 , R3 , R9) ) ) = ( width R11 ) by L53;
L645: ( len R10 ) = R4 by L640 , MATRIX_1:23;
L646: ( width R11 ) = R4 by L645 , L641 , L642 , L643 , MATRIX_2:10;
L647: ( len ( ( SXLine (R11 , R3 , R9) ) @ ) ) = R4 by L646 , L640 , L644 , MATRIX_2:10;
L648: ( len ( SXLine (R11 , R3 , R9) ) ) = ( len R11 ) by L115;
L649: ( len R11 ) = R5 by L641 , L642 , L643 , MATRIX_2:10;
L650: ( width ( ( SXLine (R11 , R3 , R9) ) @ ) ) = R5 by L649 , L640 , L646 , L648 , L644 , MATRIX_2:10;
L651: ( ( SXLine (R11 , R3 , R9) ) @ ) is (Matrix of R4 , R5 , R8) by L650 , L640 , L647 , MATRIX_1:20;
consider C76 being (Matrix of R4 , R5 , R8) such that L652: C76 = ( ( SXLine (R11 , R3 , R9) ) @ ) by L651;
L653: (for R7 being Nat holds (for R1 being Nat holds ((R7 in ( dom R10 ) & R1 in ( Seg ( width R10 ) )) implies ((R1 = R3 implies ( C76 * (R7 , R1) ) = ( R9 * ( R10 * (R7 , R3) ) )) & (R1 <> R3 implies ( C76 * (R7 , R1) ) = ( R10 * (R7 , R1) ))))))
proof
let R7 being Nat;
let R1 being Nat;
assume L654: (R7 in ( dom R10 ) & R1 in ( Seg ( width R10 ) ));
L655: [ R7 , R1 ] in ( Indices R10 ) by L654 , ZFMISC_1:87;
L656: [ R1 , R7 ] in ( Indices R11 ) by L655 , L642 , MATRIX_1:def 6;
L657: (R1 in ( dom R11 ) & R7 in ( Seg ( width R11 ) )) by L656 , ZFMISC_1:87;
L658: ( dom ( SXLine (R11 , R3 , R9) ) ) = ( Seg ( len ( SXLine (R11 , R3 , R9) ) ) ) by FINSEQ_1:def 3
.= ( Seg ( len R11 ) ) by L115
.= ( dom R11 ) by FINSEQ_1:def 3;
L659: [ R1 , R7 ] in ( Indices ( SXLine (R11 , R3 , R9) ) ) by L658 , L656 , L53;
thus L660: (R1 = R3 implies ( C76 * (R7 , R1) ) = ( R9 * ( R10 * (R7 , R3) ) ))
proof
assume L661: R1 = R3;
L662: ( C76 * (R7 , R1) ) = ( ( SXLine (R11 , R3 , R9) ) * (R1 , R7) ) by L652 , L659 , MATRIX_1:def 6
.= ( R9 * ( R11 * (R3 , R7) ) ) by L657 , L661 , L115
.= ( R9 * ( R10 * (R7 , R3) ) ) by L642 , L655 , L661 , MATRIX_1:def 6;
thus L663: thesis by L662;
end;

assume L664: R1 <> R3;
L665: ( C76 * (R7 , R1) ) = ( ( SXLine (R11 , R3 , R9) ) * (R1 , R7) ) by L652 , L659 , MATRIX_1:def 6
.= ( R11 * (R1 , R7) ) by L657 , L664 , L115
.= ( R10 * (R7 , R1) ) by L642 , L655 , MATRIX_1:def 6;
thus L666: thesis by L665;
end;
L667: (for R7 being Nat holds (for R1 being Nat holds ([ R7 , R1 ] in ( Indices ( SXCol (R10 , R3 , R9) ) ) implies ( ( SXCol (R10 , R3 , R9) ) * (R7 , R1) ) = ( ( ( SXLine (R11 , R3 , R9) ) @ ) * (R7 , R1) ))))
proof
L668: ( Indices R10 ) = ( Indices ( SXCol (R10 , R3 , R9) ) ) by MATRIX_1:26;
let R7 being Nat;
let R1 being Nat;
assume L669: [ R7 , R1 ] in ( Indices ( SXCol (R10 , R3 , R9) ) );
L670: (R7 in ( dom R10 ) & R1 in ( Seg ( width R10 ) )) by L669 , L668 , ZFMISC_1:87;
L671: (R1 = R3 implies ( ( ( SXLine (R11 , R3 , R9) ) @ ) * (R7 , R1) ) = ( R9 * ( R10 * (R7 , R3) ) )) by L670 , L652 , L653;
L672: (R1 <> R3 implies ( ( ( SXLine (R11 , R3 , R9) ) @ ) * (R7 , R1) ) = ( R10 * (R7 , R1) )) by L652 , L653 , L670;
L673: (R1 = R3 implies ( ( SXCol (R10 , R3 , R9) ) * (R7 , R1) ) = ( R9 * ( R10 * (R7 , R3) ) )) by L640 , L641 , L670 , L496;
thus L674: thesis by L673 , L639 , L640 , L641 , L670 , L671 , L672 , L496;
end;
thus L675: thesis by L667 , L651 , MATRIX_1:27;
end;
theorem
L676: (for R2 being Nat holds (for R3 being Nat holds (for R4 being Nat holds (for R5 being Nat holds (for R8 being Field holds (for R9 being (Element of R8) holds (for R10 being (Matrix of R4 , R5 , R8) holds (for R11 being (Matrix of R4 , R5 , R8) holds ((R3 in ( Seg ( width R10 ) ) & R2 in ( Seg ( width R10 ) ) & R4 > ( 0 ) & R5 > ( 0 ) & R11 = ( R10 @ )) implies ( ( RLineXS (R11 , R3 , R2 , R9) ) @ ) = ( RColXS (R10 , R3 , R2 , R9) ))))))))))
proof
let R2 being Nat;
let R3 being Nat;
let R4 being Nat;
let R5 being Nat;
let R8 being Field;
let R9 being (Element of R8);
let R10 being (Matrix of R4 , R5 , R8);
let R11 being (Matrix of R4 , R5 , R8);
assume that
L677: R3 in ( Seg ( width R10 ) )
and
L678: R2 in ( Seg ( width R10 ) )
and
L679: R4 > ( 0 )
and
L680: R5 > ( 0 )
and
L681: R11 = ( R10 @ );
L682: ( width R10 ) = R5 by L679 , MATRIX_1:23;
L683: ( len R11 ) = R5 by L682 , L680 , L681 , MATRIX_2:10;
L684: ( width ( RLineXS (R11 , R3 , R2 , R9) ) ) = ( width R11 ) by L53;
L685: ( len R10 ) = R4 by L679 , MATRIX_1:23;
L686: ( width R11 ) = R4 by L685 , L680 , L681 , L682 , MATRIX_2:10;
L687: ( len ( ( RLineXS (R11 , R3 , R2 , R9) ) @ ) ) = R4 by L686 , L679 , L684 , MATRIX_2:10;
L688: ( dom R11 ) = ( Seg ( len R11 ) ) by FINSEQ_1:def 3
.= ( Seg ( width R10 ) ) by L680 , L681 , L682 , MATRIX_2:10;
L689: ( len ( RLineXS (R11 , R3 , R2 , R9) ) ) = ( len R11 ) by L688 , L678 , L186;
L690: ( width ( ( RLineXS (R11 , R3 , R2 , R9) ) @ ) ) = R5 by L689 , L679 , L683 , L686 , L684 , MATRIX_2:10;
L691: ( ( RLineXS (R11 , R3 , R2 , R9) ) @ ) is (Matrix of R4 , R5 , R8) by L690 , L679 , L687 , MATRIX_1:20;
consider C77 being (Matrix of R4 , R5 , R8) such that L692: C77 = ( ( RLineXS (R11 , R3 , R2 , R9) ) @ ) by L691;
L693: (for R7 being Nat holds (for R1 being Nat holds ((R7 in ( dom R10 ) & R1 in ( Seg ( width R10 ) )) implies ((R1 = R3 implies ( C77 * (R7 , R1) ) = ( ( R9 * ( R10 * (R7 , R2) ) ) + ( R10 * (R7 , R3) ) )) & (R1 <> R3 implies ( C77 * (R7 , R1) ) = ( R10 * (R7 , R1) ))))))
proof
let R7 being Nat;
let R1 being Nat;
assume that
L694: R7 in ( dom R10 )
and
L695: R1 in ( Seg ( width R10 ) );
L696: [ R7 , R1 ] in ( Indices R10 ) by L694 , L695 , ZFMISC_1:87;
L697: [ R1 , R7 ] in ( Indices R11 ) by L696 , L681 , MATRIX_1:def 6;
L698: R7 in ( Seg ( width R11 ) ) by L697 , ZFMISC_1:87;
L699: ( len R11 ) = ( width R10 ) by L681 , MATRIX_1:def 6;
L700: R2 in ( dom R11 ) by L699 , L678 , FINSEQ_1:def 3;
L701: ( dom ( RLineXS (R11 , R3 , R2 , R9) ) ) = ( Seg ( len ( RLineXS (R11 , R3 , R2 , R9) ) ) ) by FINSEQ_1:def 3
.= ( Seg ( len R11 ) ) by L678 , L688 , L186
.= ( dom R11 ) by FINSEQ_1:def 3;
L702: [ R1 , R7 ] in ( Indices ( RLineXS (R11 , R3 , R2 , R9) ) ) by L701 , L697 , L53;
L703: R3 in ( dom R11 ) by L677 , L699 , FINSEQ_1:def 3;
thus L704: (R1 = R3 implies ( C77 * (R7 , R1) ) = ( ( R9 * ( R10 * (R7 , R2) ) ) + ( R10 * (R7 , R3) ) ))
proof
L705: [ R7 , R2 ] in ( Indices R10 ) by L678 , L694 , ZFMISC_1:87;
assume L706: R1 = R3;
L707: ( C77 * (R7 , R1) ) = ( ( RLineXS (R11 , R3 , R2 , R9) ) * (R1 , R7) ) by L692 , L702 , MATRIX_1:def 6
.= ( ( R9 * ( R11 * (R2 , R7) ) ) + ( R11 * (R3 , R7) ) ) by L703 , L700 , L698 , L706 , L186
.= ( ( R9 * ( R10 * (R7 , R2) ) ) + ( R11 * (R3 , R7) ) ) by L681 , L705 , MATRIX_1:def 6
.= ( ( R9 * ( R10 * (R7 , R2) ) ) + ( R10 * (R7 , R3) ) ) by L681 , L696 , L706 , MATRIX_1:def 6;
thus L708: thesis by L707;
end;

L709: R1 in ( dom R11 ) by L697 , ZFMISC_1:87;
thus L710: (R1 <> R3 implies ( C77 * (R7 , R1) ) = ( R10 * (R7 , R1) ))
proof
assume L711: R1 <> R3;
L712: ( C77 * (R7 , R1) ) = ( ( RLineXS (R11 , R3 , R2 , R9) ) * (R1 , R7) ) by L692 , L702 , MATRIX_1:def 6
.= ( R11 * (R1 , R7) ) by L700 , L709 , L698 , L711 , L186
.= ( R10 * (R7 , R1) ) by L681 , L696 , MATRIX_1:def 6;
thus L713: thesis by L712;
end;

end;
L711: (for R7 being Nat holds (for R1 being Nat holds ([ R7 , R1 ] in ( Indices ( RColXS (R10 , R3 , R2 , R9) ) ) implies ( ( RColXS (R10 , R3 , R2 , R9) ) * (R7 , R1) ) = ( ( ( RLineXS (R11 , R3 , R2 , R9) ) @ ) * (R7 , R1) ))))
proof
L712: ( Indices R10 ) = ( Indices ( RColXS (R10 , R3 , R2 , R9) ) ) by MATRIX_1:26;
let R7 being Nat;
let R1 being Nat;
assume L713: [ R7 , R1 ] in ( Indices ( RColXS (R10 , R3 , R2 , R9) ) );
L714: (R7 in ( dom R10 ) & R1 in ( Seg ( width R10 ) )) by L713 , L712 , ZFMISC_1:87;
L715: (R1 = R3 implies ( ( ( RLineXS (R11 , R3 , R2 , R9) ) @ ) * (R7 , R1) ) = ( ( R9 * ( R10 * (R7 , R2) ) ) + ( R10 * (R7 , R3) ) )) by L714 , L692 , L693;
L716: (R1 <> R3 implies ( ( ( RLineXS (R11 , R3 , R2 , R9) ) @ ) * (R7 , R1) ) = ( R10 * (R7 , R1) )) by L692 , L693 , L714;
L717: (R1 = R3 implies ( ( RColXS (R10 , R3 , R2 , R9) ) * (R7 , R1) ) = ( ( R9 * ( R10 * (R7 , R2) ) ) + ( R10 * (R7 , R3) ) )) by L678 , L679 , L680 , L714 , L541;
thus L718: thesis by L717 , L677 , L678 , L679 , L680 , L714 , L715 , L716 , L541;
end;
thus L719: thesis by L711 , L691 , MATRIX_1:27;
end;
theorem
L720: (for R2 being Nat holds (for R3 being Nat holds (for R4 being Nat holds (for R8 being Field holds (for R15 being (Matrix of R4 , R8) holds ((R3 in ( dom ( 1. (R8 , R4) ) ) & R2 in ( dom ( 1. (R8 , R4) ) ) & R4 > ( 0 )) implies ( R15 * ( ICol (( 1. (R8 , R4) ) , R3 , R2) ) ) = ( ICol (R15 , R3 , R2) )))))))
proof
let R2 being Nat;
let R3 being Nat;
let R4 being Nat;
let R8 being Field;
let R15 being (Matrix of R4 , R8);
assume that
L721: (R3 in ( dom ( 1. (R8 , R4) ) ) & R2 in ( dom ( 1. (R8 , R4) ) ))
and
L722: R4 > ( 0 );
L723: ( len ( 1. (R8 , R4) ) ) = R4 by MATRIX_1:24;
L724: ( width ( 1. (R8 , R4) ) ) = R4 by MATRIX_1:24;
L725: ( dom ( 1. (R8 , R4) ) ) = ( Seg ( width ( 1. (R8 , R4) ) ) ) by L724 , L723 , FINSEQ_1:def 3;
L726: ( width ( R15 @ ) ) = R4 by MATRIX_1:24;
L727: (( width ( ILine (( 1. (R8 , R4) ) , R3 , R2) ) ) = ( width ( 1. (R8 , R4) ) ) & ( len ( R15 @ ) ) = R4) by L53 , MATRIX_1:24;
L728: ( len R15 ) = R4 by MATRIX_1:24;
L729: ( width R15 ) = R4 by MATRIX_1:24;
L730: ( Seg ( width R15 ) ) = ( dom ( 1. (R8 , R4) ) ) by L729 , L723 , FINSEQ_1:def 3;
L731: ( ( ILine (( R15 @ ) , R3 , R2) ) @ ) = ( ( ( ILine (( 1. (R8 , R4) ) , R3 , R2) ) * ( R15 @ ) ) @ ) by L721 , L229
.= ( ( ( R15 @ ) @ ) * ( ( ILine (( 1. (R8 , R4) ) , R3 , R2) ) @ ) ) by L722 , L724 , L727 , L726 , MATRIX_3:22
.= ( R15 * ( ( ILine (( 1. (R8 , R4) ) , R3 , R2) ) @ ) ) by L722 , L728 , L729 , MATRIX_2:13
.= ( R15 * ( ( ILine (( ( 1. (R8 , R4) ) @ ) , R3 , R2) ) @ ) ) by MATRIX_6:10
.= ( R15 * ( ICol (( 1. (R8 , R4) ) , R3 , R2) ) ) by L721 , L722 , L725 , L590;
thus L732: thesis by L731 , L721 , L722 , L730 , L590;
end;
theorem
L733: (for R3 being Nat holds (for R4 being Nat holds (for R8 being Field holds (for R9 being (Element of R8) holds (for R15 being (Matrix of R4 , R8) holds ((R3 in ( dom ( 1. (R8 , R4) ) ) & R4 > ( 0 )) implies ( R15 * ( SXCol (( 1. (R8 , R4) ) , R3 , R9) ) ) = ( SXCol (R15 , R3 , R9) )))))))
proof
let R3 being Nat;
let R4 being Nat;
let R8 being Field;
let R9 being (Element of R8);
let R15 being (Matrix of R4 , R8);
assume that
L734: R3 in ( dom ( 1. (R8 , R4) ) )
and
L735: R4 > ( 0 );
L736: ( len ( 1. (R8 , R4) ) ) = R4 by MATRIX_1:24;
L737: ( width ( 1. (R8 , R4) ) ) = R4 by MATRIX_1:24;
L738: ( dom ( 1. (R8 , R4) ) ) = ( Seg ( width ( 1. (R8 , R4) ) ) ) by L737 , L736 , FINSEQ_1:def 3;
L739: ( width ( R15 @ ) ) = R4 by MATRIX_1:24;
L740: (( width ( SXLine (( 1. (R8 , R4) ) , R3 , R9) ) ) = ( width ( 1. (R8 , R4) ) ) & ( len ( R15 @ ) ) = R4) by L53 , MATRIX_1:24;
L741: ( len R15 ) = R4 by MATRIX_1:24;
L742: ( width R15 ) = R4 by MATRIX_1:24;
L743: ( Seg ( width R15 ) ) = ( dom ( 1. (R8 , R4) ) ) by L742 , L736 , FINSEQ_1:def 3;
L744: ( ( SXLine (( R15 @ ) , R3 , R9) ) @ ) = ( ( ( SXLine (( 1. (R8 , R4) ) , R3 , R9) ) * ( R15 @ ) ) @ ) by L734 , L268
.= ( ( ( R15 @ ) @ ) * ( ( SXLine (( 1. (R8 , R4) ) , R3 , R9) ) @ ) ) by L735 , L737 , L740 , L739 , MATRIX_3:22
.= ( R15 * ( ( SXLine (( 1. (R8 , R4) ) , R3 , R9) ) @ ) ) by L735 , L741 , L742 , MATRIX_2:13
.= ( R15 * ( ( SXLine (( ( 1. (R8 , R4) ) @ ) , R3 , R9) ) @ ) ) by MATRIX_6:10
.= ( R15 * ( SXCol (( 1. (R8 , R4) ) , R3 , R9) ) ) by L734 , L735 , L738 , L638;
thus L745: thesis by L744 , L734 , L735 , L743 , L638;
end;
theorem
L746: (for R2 being Nat holds (for R3 being Nat holds (for R4 being Nat holds (for R8 being Field holds (for R9 being (Element of R8) holds (for R15 being (Matrix of R4 , R8) holds ((R3 in ( dom ( 1. (R8 , R4) ) ) & R2 in ( dom ( 1. (R8 , R4) ) ) & R4 > ( 0 )) implies ( R15 * ( RColXS (( 1. (R8 , R4) ) , R3 , R2 , R9) ) ) = ( RColXS (R15 , R3 , R2 , R9) ))))))))
proof
let R2 being Nat;
let R3 being Nat;
let R4 being Nat;
let R8 being Field;
let R9 being (Element of R8);
let R15 being (Matrix of R4 , R8);
assume that
L747: (R3 in ( dom ( 1. (R8 , R4) ) ) & R2 in ( dom ( 1. (R8 , R4) ) ))
and
L748: R4 > ( 0 );
L749: ( len ( 1. (R8 , R4) ) ) = R4 by MATRIX_1:24;
L750: ( width ( 1. (R8 , R4) ) ) = R4 by MATRIX_1:24;
L751: ( dom ( 1. (R8 , R4) ) ) = ( Seg ( width ( 1. (R8 , R4) ) ) ) by L750 , L749 , FINSEQ_1:def 3;
L752: ( width ( R15 @ ) ) = R4 by MATRIX_1:24;
L753: (( width ( RLineXS (( 1. (R8 , R4) ) , R3 , R2 , R9) ) ) = ( width ( 1. (R8 , R4) ) ) & ( len ( R15 @ ) ) = R4) by L53 , MATRIX_1:24;
L754: ( len R15 ) = R4 by MATRIX_1:24;
L755: ( width R15 ) = R4 by MATRIX_1:24;
L756: ( Seg ( width R15 ) ) = ( dom ( 1. (R8 , R4) ) ) by L755 , L749 , FINSEQ_1:def 3;
L757: ( ( RLineXS (( R15 @ ) , R3 , R2 , R9) ) @ ) = ( ( ( RLineXS (( 1. (R8 , R4) ) , R3 , R2 , R9) ) * ( R15 @ ) ) @ ) by L747 , L297
.= ( ( ( R15 @ ) @ ) * ( ( RLineXS (( 1. (R8 , R4) ) , R3 , R2 , R9) ) @ ) ) by L748 , L750 , L753 , L752 , MATRIX_3:22
.= ( R15 * ( ( RLineXS (( 1. (R8 , R4) ) , R3 , R2 , R9) ) @ ) ) by L748 , L754 , L755 , MATRIX_2:13
.= ( R15 * ( ( RLineXS (( ( 1. (R8 , R4) ) @ ) , R3 , R2 , R9) ) @ ) ) by MATRIX_6:10
.= ( R15 * ( RColXS (( 1. (R8 , R4) ) , R3 , R2 , R9) ) ) by L747 , L748 , L751 , L676;
thus L758: thesis by L757 , L747 , L748 , L756 , L676;
end;
theorem
L759: (for R2 being Nat holds (for R3 being Nat holds (for R4 being Nat holds (for R8 being Field holds ((R3 in ( dom ( 1. (R8 , R4) ) ) & R2 in ( dom ( 1. (R8 , R4) ) ) & R4 > ( 0 )) implies ( ( ICol (( 1. (R8 , R4) ) , R3 , R2) ) ~ ) = ( ICol (( 1. (R8 , R4) ) , R3 , R2) ))))))
proof
let R2 being Nat;
let R3 being Nat;
let R4 being Nat;
let R8 being Field;
assume that
L760: (R3 in ( dom ( 1. (R8 , R4) ) ) & R2 in ( dom ( 1. (R8 , R4) ) ))
and
L761: R4 > ( 0 );
L762: ( ( ILine (( 1. (R8 , R4) ) , R3 , R2) ) ~ ) = ( ILine (( 1. (R8 , R4) ) , R3 , R2) ) by L760 , L369;
L763: (( len ( 1. (R8 , R4) ) ) = R4 & ( width ( 1. (R8 , R4) ) ) = R4) by MATRIX_1:24;
L764: ( dom ( 1. (R8 , R4) ) ) = ( Seg ( width ( 1. (R8 , R4) ) ) ) by L763 , FINSEQ_1:def 3;
L765: ( ( 1. (R8 , R4) ) @ ) = ( 1. (R8 , R4) ) by MATRIX_6:10;
L766: ( ICol (( 1. (R8 , R4) ) , R3 , R2) ) = ( ( ILine (( 1. (R8 , R4) ) , R3 , R2) ) @ ) by L765 , L760 , L761 , L764 , L590
.= ( ( ( ILine (( 1. (R8 , R4) ) , R3 , R2) ) @ ) ~ ) by L760 , L761 , L762 , L369 , MATRIX_6:13
.= ( ( ( ILine (( ( 1. (R8 , R4) ) @ ) , R3 , R2) ) @ ) ~ ) by MATRIX_6:10
.= ( ( ICol (( 1. (R8 , R4) ) , R3 , R2) ) ~ ) by L760 , L761 , L764 , L590;
thus L767: thesis by L766;
end;
theorem
L768: (for R2 being Nat holds (for R3 being Nat holds (for R4 being Nat holds (for R8 being Field holds (for R9 being (Element of R8) holds ((R3 in ( dom ( 1. (R8 , R4) ) ) & R2 in ( dom ( 1. (R8 , R4) ) ) & R2 <> R3 & R4 > ( 0 )) implies ( ( RColXS (( 1. (R8 , R4) ) , R3 , R2 , R9) ) ~ ) = ( RColXS (( 1. (R8 , R4) ) , R3 , R2 , ( - R9 )) )))))))
proof
let R2 being Nat;
let R3 being Nat;
let R4 being Nat;
let R8 being Field;
let R9 being (Element of R8);
assume that
L769: (R3 in ( dom ( 1. (R8 , R4) ) ) & R2 in ( dom ( 1. (R8 , R4) ) ))
and
L770: R2 <> R3
and
L771: R4 > ( 0 );
L772: ( ( RLineXS (( 1. (R8 , R4) ) , R3 , R2 , R9) ) ~ ) = ( RLineXS (( 1. (R8 , R4) ) , R3 , R2 , ( - R9 )) ) by L769 , L770 , L396;
L773: (( len ( 1. (R8 , R4) ) ) = R4 & ( width ( 1. (R8 , R4) ) ) = R4) by MATRIX_1:24;
L774: ( dom ( 1. (R8 , R4) ) ) = ( Seg ( width ( 1. (R8 , R4) ) ) ) by L773 , FINSEQ_1:def 3;
L775: ( ( 1. (R8 , R4) ) @ ) = ( 1. (R8 , R4) ) by MATRIX_6:10;
L776: ( RColXS (( 1. (R8 , R4) ) , R3 , R2 , ( - R9 )) ) = ( ( RLineXS (( 1. (R8 , R4) ) , R3 , R2 , ( - R9 )) ) @ ) by L775 , L769 , L771 , L774 , L676
.= ( ( ( RLineXS (( 1. (R8 , R4) ) , R3 , R2 , R9) ) @ ) ~ ) by L769 , L770 , L771 , L772 , L396 , MATRIX_6:13
.= ( ( ( RLineXS (( ( 1. (R8 , R4) ) @ ) , R3 , R2 , R9) ) @ ) ~ ) by MATRIX_6:10
.= ( ( RColXS (( 1. (R8 , R4) ) , R3 , R2 , R9) ) ~ ) by L769 , L771 , L774 , L676;
thus L777: thesis by L776;
end;
theorem
L778: (for R3 being Nat holds (for R4 being Nat holds (for R8 being Field holds (for R9 being (Element of R8) holds ((R3 in ( dom ( 1. (R8 , R4) ) ) & R9 <> ( 0. R8 ) & R4 > ( 0 )) implies ( ( SXCol (( 1. (R8 , R4) ) , R3 , R9) ) ~ ) = ( SXCol (( 1. (R8 , R4) ) , R3 , ( R9 " )) ))))))
proof
let R3 being Nat;
let R4 being Nat;
let R8 being Field;
let R9 being (Element of R8);
assume that
L779: R3 in ( dom ( 1. (R8 , R4) ) )
and
L780: R9 <> ( 0. R8 )
and
L781: R4 > ( 0 );
L782: ( ( SXLine (( 1. (R8 , R4) ) , R3 , R9) ) ~ ) = ( SXLine (( 1. (R8 , R4) ) , R3 , ( R9 " )) ) by L779 , L780 , L409;
L783: (( len ( 1. (R8 , R4) ) ) = R4 & ( width ( 1. (R8 , R4) ) ) = R4) by MATRIX_1:24;
L784: ( dom ( 1. (R8 , R4) ) ) = ( Seg ( width ( 1. (R8 , R4) ) ) ) by L783 , FINSEQ_1:def 3;
L785: ( ( 1. (R8 , R4) ) @ ) = ( 1. (R8 , R4) ) by MATRIX_6:10;
L786: ( SXCol (( 1. (R8 , R4) ) , R3 , ( R9 " )) ) = ( ( SXLine (( 1. (R8 , R4) ) , R3 , ( R9 " )) ) @ ) by L785 , L779 , L781 , L784 , L638
.= ( ( ( SXLine (( 1. (R8 , R4) ) , R3 , R9) ) @ ) ~ ) by L779 , L780 , L781 , L782 , L409 , MATRIX_6:13
.= ( ( ( SXLine (( ( 1. (R8 , R4) ) @ ) , R3 , R9) ) @ ) ~ ) by MATRIX_6:10
.= ( ( SXCol (( 1. (R8 , R4) ) , R3 , R9) ) ~ ) by L779 , L781 , L784 , L638;
thus L787: thesis by L786;
end;
