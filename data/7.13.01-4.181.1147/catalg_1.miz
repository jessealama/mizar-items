:: Algebra of Morphisms
::  by Grzegorz Bancerek
::
:: Received January 28, 1997
:: Copyright (c) 1997-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies FUNCT_1, PBOOLE, RELAT_1, FUNCOP_1, CARD_3, TARSKI, FUNCT_6,
      MEMBER_1, XBOOLE_0, FINSEQ_1, MSUALG_1, STRUCT_0, PROB_2, MSAFREE,
      ZFMISC_1, CARD_1, FINSEQ_2, MCART_1, SUBSET_1, ORDINAL4, MSUALG_6, CAT_5,
      INSTALG1, NUMBERS, MARGREL1, CAT_1, PUA2MSS1, GRAPH_1, PARTFUN1,
      MSUALG_3, CATALG_1, MONOID_0;
 notations TARSKI, XBOOLE_0, ENUMSET1, ZFMISC_1,
      XTUPLE_0, SUBSET_1, NUMBERS, MCART_1,
      RELAT_1, FUNCT_1, RELSET_1, PARTFUN1, FUNCT_2, FUNCOP_1, MSAFREE1,
      FINSEQ_1, FINSEQ_2, CARD_3, FINSEQ_4, FUNCT_6, STRUCT_0, PBOOLE,
      MSUALG_1, MSUALG_3, MSAFREE, PUA2MSS1, MSUALG_6, INSTALG1, GRAPH_1,
      CAT_1;
 constructors ENUMSET1, FINSEQ_4, CAT_1, MSUALG_3, MSAFREE1, PUA2MSS1,
      MSUALG_6, INSTALG1, RELSET_1, XTUPLE_0;
 registrations XBOOLE_0, SUBSET_1, RELAT_1, FUNCT_1, ORDINAL1, FUNCT_2,
      FUNCOP_1, FINSEQ_1, FINSEQ_2, STRUCT_0, MSUALG_1, RELSET_1, MSAFREE,
      INSTALG1, MSAFREE1, MSSUBFAM, PBOOLE, XTUPLE_0;
 requirements NUMERALS, BOOLE, SUBSET;
 definitions TARSKI, STRUCT_0, MSUALG_1, MSUALG_3, PUA2MSS1, MSUALG_6,
      INSTALG1, PROB_2, MSAFREE1, XBOOLE_0, FUNCOP_1, PBOOLE, CAT_1, XTUPLE_0;
 theorems TARSKI, ZFMISC_1, RELAT_1, FUNCT_1, FUNCT_2, FINSEQ_1, FINSEQ_2,
      FINSEQ_3, FUNCT_3, MCART_1, ENUMSET1, FUNCT_6, FINSEQ_4, MONOID_1,
      CARD_3, PBOOLE, PRALG_2, MSUALG_3, INSTALG1, CAT_1, RELSET_1, XBOOLE_0,
      XBOOLE_1, FUNCOP_1, PARTFUN1, CARD_1, XTUPLE_0;
 schemes FUNCT_1, CLASSES1, PBOOLE, XBOOLE_0;

begin
definition
let C1 being set;
let C2 , C3 being Function;
func C3 -MSF (C1 , C2) -> (ManySortedFunction of C1) means 
:L1: (for B1 being set holds (B1 in C1 implies ( it . B1 ) = ( C3 | ( C2 . B1 ) )));
existence
proof
deffunc H1(set) = ( C3 | ( C2 . $1 ) );
consider C4 being (ManySortedSet of C1) such that L2: (for B2 being set holds (B2 in C1 implies ( C4 . B2 ) = H1(B2))) from PBOOLE:sch 4;
L3: C4 is  Function-yielding
proof
let C5 being set;
assume L4: C5 in ( dom C4 );
L5: C5 in C1 by L4;
L6: ( C4 . C5 ) = ( C3 | ( C2 . C5 ) ) by L5 , L2;
thus L7: thesis by L6;
end;
thus L8: thesis by L3 , L2;
end;
uniqueness
proof
let C6 , C7 being (ManySortedFunction of C1);
assume that
L9: (for B3 being set holds (B3 in C1 implies ( C6 . B3 ) = ( C3 | ( C2 . B3 ) )))
and
L10: (for B4 being set holds (B4 in C1 implies ( C7 . B4 ) = ( C3 | ( C2 . B4 ) )));
L11:
now
let C8 being set;
assume L12: C8 in C1;
L13: ( C6 . C8 ) = ( C3 | ( C2 . C8 ) ) by L12 , L9;
thus L14: ( C6 . C8 ) = ( C7 . C8 ) by L13 , L10 , L12;
end;
thus L15: thesis by L11 , PBOOLE:3;
end;
end;
theorem
L17: (for B5 being set holds (for B6 being (ManySortedSet of B5) holds ( ( id ( Union B6 ) ) -MSF (B5 , B6) ) = ( id B6 )))
proof
let C9 being set;
let C10 being (ManySortedSet of C9);
set D1 = ( id ( Union C10 ) );
set D2 = ( D1 -MSF (C9 , C10) );
L18:
now
let C11 being set;
L19: ( Union C10 ) = ( union ( rng C10 ) ) by CARD_3:def 4;
assume L20: C11 in C9;
L21: C11 in ( dom C10 ) by L20 , PARTFUN1:def 2;
L22: ( C10 . C11 ) in ( rng C10 ) by L21 , FUNCT_1:def 3;
L23: (( D2 . C11 ) = ( D1 | ( C10 . C11 ) ) & ( ( id C10 ) . C11 ) = ( id ( C10 . C11 ) )) by L20 , L1 , MSUALG_3:def 1;
thus L24: ( D2 . C11 ) = ( ( id C10 ) . C11 ) by L23 , L22 , L19 , FUNCT_3:1 , ZFMISC_1:74;
end;
thus L25: thesis by L18 , PBOOLE:3;
end;
theorem
L26: (for B7 being set holds (for B8 , B9 being (ManySortedSet of B7) holds (for B10 , B11 being Function holds (( rngs ( B10 -MSF (B7 , B8) ) ) c= B9 implies ( ( B11 * B10 ) -MSF (B7 , B8) ) = ( ( B11 -MSF (B7 , B9) ) ** ( B10 -MSF (B7 , B8) ) )))))
proof
let C12 being set;
let C13 , C14 being (ManySortedSet of C12);
let C15 , C16 being Function;
assume that
L27: ( rngs ( C15 -MSF (C12 , C13) ) ) c= C14;
L28: ( C12 /\ C12 ) = C12;
L29: (( dom ( C16 -MSF (C12 , C14) ) ) = C12 & ( dom ( C15 -MSF (C12 , C13) ) ) = C12) by PARTFUN1:def 2;
L30: ( dom ( ( C16 -MSF (C12 , C14) ) ** ( C15 -MSF (C12 , C13) ) ) ) = C12 by L29 , L28 , PBOOLE:def 19;
L31:
now
let C17 being set;
assume L32: C17 in C12;
L33: ( ( C15 -MSF (C12 , C13) ) . C17 ) = ( C15 | ( C13 . C17 ) ) by L32 , L1;
L34: ( dom ( C15 -MSF (C12 , C13) ) ) = C12 by PARTFUN1:def 2;
L35: ( ( rngs ( C15 -MSF (C12 , C13) ) ) . C17 ) = ( rng ( C15 | ( C13 . C17 ) ) ) by L34 , L32 , L33 , FUNCT_6:22;
L36: ( rng ( C15 | ( C13 . C17 ) ) ) c= ( C14 . C17 ) by L35 , L27 , L32 , PBOOLE:def 2;
L37: (( ( C16 * C15 ) | ( C13 . C17 ) ) = ( C16 * ( C15 | ( C13 . C17 ) ) ) & ( ( C14 . C17 ) |` ( C15 | ( C13 . C17 ) ) ) = ( C15 | ( C13 . C17 ) )) by L36 , RELAT_1:83 , RELAT_1:94;
L38: ( ( C16 * C15 ) | ( C13 . C17 ) ) = ( ( C16 | ( C14 . C17 ) ) * ( C15 | ( C13 . C17 ) ) ) by L37 , MONOID_1:1;
L39: (( ( ( C16 * C15 ) -MSF (C12 , C13) ) . C17 ) = ( ( C16 * C15 ) | ( C13 . C17 ) ) & ( ( C16 -MSF (C12 , C14) ) . C17 ) = ( C16 | ( C14 . C17 ) )) by L32 , L1;
thus L40: ( ( ( C16 * C15 ) -MSF (C12 , C13) ) . C17 ) = ( ( ( C16 -MSF (C12 , C14) ) ** ( C15 -MSF (C12 , C13) ) ) . C17 ) by L39 , L30 , L32 , L33 , L38 , PBOOLE:def 19;
end;
L41: ( dom ( ( C16 * C15 ) -MSF (C12 , C13) ) ) = C12 by PARTFUN1:def 2;
thus L42: thesis by L41 , L30 , L31 , FUNCT_1:2;
end;
theorem
L43: (for B12 being Function holds (for B13 being set holds (for B14 , B15 being (ManySortedSet of B13) holds ((for B16 being set holds (B16 in B13 implies (( B14 . B16 ) c= ( dom B12 ) & ( B12 .: ( B14 . B16 ) ) c= ( B15 . B16 )))) implies ( B12 -MSF (B13 , B14) ) is (ManySortedFunction of B14 , B15)))))
proof
let C18 being Function;
let C19 being set;
let C20 , C21 being (ManySortedSet of C19);
assume that
L44: (for B17 being set holds (B17 in C19 implies (( C20 . B17 ) c= ( dom C18 ) & ( C18 .: ( C20 . B17 ) ) c= ( C21 . B17 ))));
let C22 being set;
assume L45: C22 in C19;
L46: ( ( C18 -MSF (C19 , C20) ) . C22 ) = ( C18 | ( C20 . C22 ) ) by L45 , L1;
L47: ( C18 .: ( C20 . C22 ) ) c= ( C21 . C22 ) by L44 , L45;
L48: ( rng ( ( C18 -MSF (C19 , C20) ) . C22 ) ) c= ( C21 . C22 ) by L47 , L46 , RELAT_1:115;
L49: ( dom ( ( C18 -MSF (C19 , C20) ) . C22 ) ) = ( C20 . C22 ) by L44 , L45 , L46 , RELAT_1:62;
thus L50: thesis by L49 , L48 , FUNCT_2:2;
end;
L51:
now
let C23 , C24 being set;
assume L52: <* C23 *> = <* C24 *>;
L53: ( <* C23 *> . 1 ) = C24 by L52 , FINSEQ_1:40;
thus L54: C23 = C24 by L53 , FINSEQ_1:40;
end;
definition
let C25 being non  empty ManySortedSign;
let C26 being MSAlgebra over C25;
attr C26 is  empty
means
:L55: (the Sorts of C26) is  empty-yielding;
end;
registration
let C27 being non  empty ManySortedSign;
cluster  non-empty -> non  empty for MSAlgebra over C27;
coherence
proof
let C28 being MSAlgebra over C27;
assume L57: (the Sorts of C28) is  non-empty;
thus L58: (not (the Sorts of C28) is  empty-yielding) by L57;
end;
end;
registration
let C29 being non  empty non  void ManySortedSign;
cluster  strict  non-empty  disjoint_valued for MSAlgebra over C29;
existence
proof
set D3 = the  non-empty (ManySortedSet of (the carrier of C29));
take ( FreeMSA D3 );
thus L60: thesis;
end;
end;
registration
let C30 being non  empty non  void ManySortedSign;
let C31 being non  empty MSAlgebra over C30;
cluster (the Sorts of C31) -> non  empty-yielding;
coherence by L55;
end;
registration
cluster non  empty-yielding for Function;
existence
proof
set D4 = the non  empty non  void ManySortedSign;
set D5 = the non  empty MSAlgebra over D4;
take (the Sorts of D5);
thus L63: thesis;
end;
end;
begin
definition
let C32 being set;
func CatSign C32 ->  strict ManySortedSign means 
:L65: ((the carrier of it) = [: { ( 0 ) } , ( 2 -tuples_on C32 ) :] & (the carrier' of it) = ( [: { 1 } , ( 1 -tuples_on C32 ) :] \/ [: { 2 } , ( 3 -tuples_on C32 ) :] ) & (for B18 being set holds (B18 in C32 implies (( (the Arity of it) . [ 1 , <* B18 *> ] ) = ( {} ) & ( (the ResultSort of it) . [ 1 , <* B18 *> ] ) = [ ( 0 ) , <* B18 , B18 *> ]))) & (for B19 , B20 , B21 being set holds ((B19 in C32 & B20 in C32 & B21 in C32) implies (( (the Arity of it) . [ 2 , <* B19 , B20 , B21 *> ] ) = <* [ ( 0 ) , <* B20 , B21 *> ] , [ ( 0 ) , <* B19 , B20 *> ] *> & ( (the ResultSort of it) . [ 2 , <* B19 , B20 , B21 *> ] ) = [ ( 0 ) , <* B19 , B21 *> ]))));
existence
proof
defpred S1[ set , set ] means (ex B22 , B23 , B24 being set st (B22 in C32 & B23 in C32 & B24 in C32 & (($1 = [ 1 , <* B22 *> ] & $2 = [ ( 0 ) , <* B22 , B22 *> ]) or ($1 = [ 2 , <* B22 , B23 , B24 *> ] & $2 = [ ( 0 ) , <* B22 , B24 *> ]))));
defpred S2[ set , set ] means (ex B25 , B26 , B27 being set st (B25 in C32 & B26 in C32 & B27 in C32 & (($1 = [ 1 , <* B25 *> ] & $2 = ( {} )) or ($1 = [ 2 , <* B25 , B26 , B27 *> ] & $2 = <* [ ( 0 ) , <* B26 , B27 *> ] , [ ( 0 ) , <* B25 , B26 *> ] *>))));
L66: (for B28 being set holds (B28 in ( [: { 1 } , ( 1 -tuples_on C32 ) :] \/ [: { 2 } , ( 3 -tuples_on C32 ) :] ) implies (ex B29 being set st (B29 in ( [: { ( 0 ) } , ( 2 -tuples_on C32 ) :] * ) & S2[ B28 , B29 ]))))
proof
let C33 being set;
assume L67: C33 in ( [: { 1 } , ( 1 -tuples_on C32 ) :] \/ [: { 2 } , ( 3 -tuples_on C32 ) :] );
per cases  by L67 , XBOOLE_0:def 3;
suppose L68: C33 in [: { 1 } , ( 1 -tuples_on C32 ) :];

L69: ( C33 `2 ) in ( 1 -tuples_on C32 ) by L68 , MCART_1:10;
L70: ( C33 `2 ) in { B30 where B30 is (Element of ( C32 * )) : ( len B30 ) = 1 } by L69 , FINSEQ_2:def 4;
take D6 = ( {} );
thus L71: D6 in ( [: { ( 0 ) } , ( 2 -tuples_on C32 ) :] * ) by FINSEQ_1:49;
consider C34 being (Element of ( C32 * )) such that L72: ( C33 `2 ) = C34 and L73: ( len C34 ) = 1 by L70;
take D7 = ( C34 . 1 );
take D8 = ( C34 . 1 );
take D9 = ( C34 . 1 );
L74: C34 = <* D7 *> by L73 , FINSEQ_1:40;
L75: (D7 in { D7 } & ( rng C34 ) = { D7 }) by L74 , FINSEQ_1:39 , TARSKI:def 1;
thus L76: (D7 in C32 & D8 in C32 & D9 in C32) by L75;
L77: ( C33 `1 ) in { 1 } by L68 , MCART_1:10;
L78: ( C33 `1 ) = 1 by L77 , TARSKI:def 1;
thus L79: thesis by L78 , L68 , L72 , L74 , MCART_1:21;
end;
suppose L80: C33 in [: { 2 } , ( 3 -tuples_on C32 ) :];

L81: ( C33 `2 ) in ( 3 -tuples_on C32 ) by L80 , MCART_1:10;
L82: ( C33 `2 ) in { B31 where B31 is (Element of ( C32 * )) : ( len B31 ) = 3 } by L81 , FINSEQ_2:def 4;
consider C35 being (Element of ( C32 * )) such that L83: ( C33 `2 ) = C35 and L84: ( len C35 ) = 3 by L82;
set D10 = ( C35 . 1 );
set D11 = ( C35 . 2 );
set D12 = ( C35 . 3 );
L85: C35 = <* D10 , D11 , D12 *> by L84 , FINSEQ_1:45;
L86: ( rng C35 ) = { D10 , D11 , D12 } by L85 , FINSEQ_2:128;
reconsider D13 = C32 as non  empty set by L86;
take D14 = <* [ ( 0 ) , <* D11 , D12 *> ] , [ ( 0 ) , <* D10 , D11 *> ] *>;
L87: D11 in { D10 , D11 , D12 } by ENUMSET1:def 1;
L88: D10 in { D10 , D11 , D12 } by ENUMSET1:def 1;
L89: (( 0 ) in { ( 0 ) } & <* D10 , D11 *> in ( 2 -tuples_on D13 )) by L88 , L87 , L86 , FINSEQ_2:101 , TARSKI:def 1;
L90: D12 in { D10 , D11 , D12 } by ENUMSET1:def 1;
L91: <* D11 , D12 *> in ( 2 -tuples_on D13 ) by L90 , L87 , L86 , FINSEQ_2:101;
reconsider D15 = [ ( 0 ) , <* D11 , D12 *> ] , D16 = [ ( 0 ) , <* D10 , D11 *> ] as (Element of [: { ( 0 ) } , ( 2 -tuples_on D13 ) :]) by L91 , L89 , ZFMISC_1:87;
L92: D14 = ( <* D15 *> ^ <* D16 *> ) by FINSEQ_1:def 9;
thus L93: D14 in ( [: { ( 0 ) } , ( 2 -tuples_on C32 ) :] * ) by L92 , FINSEQ_1:def 11;
take D10;
take D11;
take D12;
thus L94: (D10 in C32 & D11 in C32 & D12 in C32) by L88 , L87 , L90 , L86;
L95: ( C33 `1 ) in { 2 } by L80 , MCART_1:10;
L96: ( C33 `1 ) = 2 by L95 , TARSKI:def 1;
thus L97: thesis by L96 , L80 , L83 , L85 , MCART_1:21;
end;
end;
consider C36 being Function such that L99: (( dom C36 ) = ( [: { 1 } , ( 1 -tuples_on C32 ) :] \/ [: { 2 } , ( 3 -tuples_on C32 ) :] ) & ( rng C36 ) c= ( [: { ( 0 ) } , ( 2 -tuples_on C32 ) :] * )) and L100: (for B32 being set holds (B32 in ( [: { 1 } , ( 1 -tuples_on C32 ) :] \/ [: { 2 } , ( 3 -tuples_on C32 ) :] ) implies S2[ B32 , ( C36 . B32 ) ])) from FUNCT_1:sch 5(L66);
reconsider D17 = C36 as (Function of ( [: { 1 } , ( 1 -tuples_on C32 ) :] \/ [: { 2 } , ( 3 -tuples_on C32 ) :] ) , ( [: { ( 0 ) } , ( 2 -tuples_on C32 ) :] * )) by L99 , FUNCT_2:2;
L101: (for B33 being set holds (B33 in ( [: { 1 } , ( 1 -tuples_on C32 ) :] \/ [: { 2 } , ( 3 -tuples_on C32 ) :] ) implies (ex B34 being set st (B34 in [: { ( 0 ) } , ( 2 -tuples_on C32 ) :] & S1[ B33 , B34 ]))))
proof
let C37 being set;
assume L102: C37 in ( [: { 1 } , ( 1 -tuples_on C32 ) :] \/ [: { 2 } , ( 3 -tuples_on C32 ) :] );
per cases  by L102 , XBOOLE_0:def 3;
suppose L103: C37 in [: { 1 } , ( 1 -tuples_on C32 ) :];

L104: ( C37 `2 ) in ( 1 -tuples_on C32 ) by L103 , MCART_1:10;
L105: ( C37 `2 ) in { B35 where B35 is (Element of ( C32 * )) : ( len B35 ) = 1 } by L104 , FINSEQ_2:def 4;
consider C38 being (Element of ( C32 * )) such that L106: ( C37 `2 ) = C38 and L107: ( len C38 ) = 1 by L105;
set D18 = ( C38 . 1 );
set D19 = ( C38 . 1 );
set D20 = ( C38 . 1 );
L108: C38 = <* D18 *> by L107 , FINSEQ_1:40;
L109: (D18 in { D18 } & ( rng C38 ) = { D18 }) by L108 , FINSEQ_1:39 , TARSKI:def 1;
take D21 = [ ( 0 ) , <* D18 , D18 *> ];
reconsider D22 = C32 as non  empty set by L108;
reconsider D23 = D18 as (Element of D22) by L109;
L110: (( 0 ) in { ( 0 ) } & <* D23 , D23 *> in ( 2 -tuples_on D22 )) by FINSEQ_2:101 , TARSKI:def 1;
thus L111: D21 in [: { ( 0 ) } , ( 2 -tuples_on C32 ) :] by L110 , ZFMISC_1:87;
take D23;
take D19;
take D20;
thus L112: (D23 in C32 & D19 in C32 & D20 in C32) by L109;
L113: ( C37 `1 ) in { 1 } by L103 , MCART_1:10;
L114: ( C37 `1 ) = 1 by L113 , TARSKI:def 1;
thus L115: ((C37 = [ 1 , <* D23 *> ] & D21 = [ ( 0 ) , <* D23 , D23 *> ]) or (C37 = [ 2 , <* D23 , D19 , D20 *> ] & D21 = [ ( 0 ) , <* D23 , D20 *> ])) by L114 , L103 , L106 , L108 , MCART_1:21;
end;
suppose L116: C37 in [: { 2 } , ( 3 -tuples_on C32 ) :];

L117: ( C37 `2 ) in ( 3 -tuples_on C32 ) by L116 , MCART_1:10;
L118: ( C37 `2 ) in { B36 where B36 is (Element of ( C32 * )) : ( len B36 ) = 3 } by L117 , FINSEQ_2:def 4;
consider C39 being (Element of ( C32 * )) such that L119: ( C37 `2 ) = C39 and L120: ( len C39 ) = 3 by L118;
set D24 = ( C39 . 1 );
set D25 = ( C39 . 2 );
set D26 = ( C39 . 3 );
L121: C39 = <* D24 , D25 , D26 *> by L120 , FINSEQ_1:45;
L122: ( rng C39 ) = { D24 , D25 , D26 } by L121 , FINSEQ_2:128;
reconsider D27 = C32 as non  empty set by L122;
take D28 = [ ( 0 ) , <* D24 , D26 *> ];
L123: (D24 in { D24 , D25 , D26 } & D26 in { D24 , D25 , D26 }) by ENUMSET1:def 1;
L124: (( 0 ) in { ( 0 ) } & <* D24 , D26 *> in ( 2 -tuples_on D27 )) by L123 , L122 , FINSEQ_2:101 , TARSKI:def 1;
thus L125: D28 in [: { ( 0 ) } , ( 2 -tuples_on C32 ) :] by L124 , ZFMISC_1:87;
take D24;
take D25;
take D26;
L126: D25 in { D24 , D25 , D26 } by ENUMSET1:def 1;
thus L127: (D24 in C32 & D25 in C32 & D26 in C32) by L126 , L123 , L122;
L128: ( C37 `1 ) in { 2 } by L116 , MCART_1:10;
L129: ( C37 `1 ) = 2 by L128 , TARSKI:def 1;
thus L130: thesis by L129 , L116 , L119 , L121 , MCART_1:21;
end;
end;
consider C40 being Function such that L132: (( dom C40 ) = ( [: { 1 } , ( 1 -tuples_on C32 ) :] \/ [: { 2 } , ( 3 -tuples_on C32 ) :] ) & ( rng C40 ) c= [: { ( 0 ) } , ( 2 -tuples_on C32 ) :]) and L133: (for B37 being set holds (B37 in ( [: { 1 } , ( 1 -tuples_on C32 ) :] \/ [: { 2 } , ( 3 -tuples_on C32 ) :] ) implies S1[ B37 , ( C40 . B37 ) ])) from FUNCT_1:sch 5(L101);
reconsider D29 = C40 as (Function of ( [: { 1 } , ( 1 -tuples_on C32 ) :] \/ [: { 2 } , ( 3 -tuples_on C32 ) :] ) , [: { ( 0 ) } , ( 2 -tuples_on C32 ) :]) by L132 , FUNCT_2:2;
take D30 = ManySortedSign (# [: { ( 0 ) } , ( 2 -tuples_on C32 ) :] , ( [: { 1 } , ( 1 -tuples_on C32 ) :] \/ [: { 2 } , ( 3 -tuples_on C32 ) :] ) , D17 , D29 #);
thus L134: (the carrier of D30) = [: { ( 0 ) } , ( 2 -tuples_on C32 ) :];
thus L135: (the carrier' of D30) = ( [: { 1 } , ( 1 -tuples_on C32 ) :] \/ [: { 2 } , ( 3 -tuples_on C32 ) :] );
thus L136:now
let C41 being set;
assume L137: C41 in C32;
reconsider D31 = C32 as non  empty set by L137;
reconsider D32 = C41 as (Element of D31) by L137;
L138: (<* D32 *> is (Element of ( 1 -tuples_on D31 )) & 1 in { 1 }) by FINSEQ_2:98 , TARSKI:def 1;
L139: [ 1 , <* C41 *> ] in [: { 1 } , ( 1 -tuples_on C32 ) :] by L138 , ZFMISC_1:87;
L140: [ 1 , <* C41 *> ] in ( [: { 1 } , ( 1 -tuples_on C32 ) :] \/ [: { 2 } , ( 3 -tuples_on C32 ) :] ) by L139 , XBOOLE_0:def 3;
consider C42 , C43 , C44 being set such that L141: C42 in C32 and L142: C43 in C32 and L143: C44 in C32 and L144: (([ 1 , <* C41 *> ] = [ 1 , <* C42 *> ] & ( D29 . [ 1 , <* C41 *> ] ) = [ ( 0 ) , <* C42 , C42 *> ]) or ([ 1 , <* C41 *> ] = [ 2 , <* C42 , C43 , C44 *> ] & ( D29 . [ 1 , <* C41 *> ] ) = [ ( 0 ) , <* C42 , C44 *> ])) by L140 , L133;
L145: (ex B38 , B39 , B40 being set st (B38 in C32 & B39 in C32 & B40 in C32 & (([ 1 , <* C41 *> ] = [ 1 , <* B38 *> ] & ( D17 . [ 1 , <* C41 *> ] ) = ( {} )) or ([ 1 , <* C41 *> ] = [ 2 , <* B38 , B39 , B40 *> ] & ( D17 . [ 1 , <* C41 *> ] ) = <* [ ( 0 ) , <* B39 , B40 *> ] , [ ( 0 ) , <* B38 , B39 *> ] *>)))) by L100 , L140;
thus L146: ( (the Arity of D30) . [ 1 , <* C41 *> ] ) = ( {} ) by L145 , XTUPLE_0:1;
L147: (( <* C41 *> . 1 ) = C41 & ( <* C42 *> . 1 ) = C42) by FINSEQ_1:40;
L148: <* C41 *> = <* C42 *> by L144 , XTUPLE_0:1;
thus L149: ( (the ResultSort of D30) . [ 1 , <* C41 *> ] ) = [ ( 0 ) , <* C41 , C41 *> ] by L148 , L144 , L147 , XTUPLE_0:1;
end;
let C45 , C46 , C47 being set;
assume that
L150: C45 in C32
and
L151: (C46 in C32 & C47 in C32);
reconsider D33 = C32 as non  empty set by L150;
reconsider D34 = C45 , D35 = C46 , D36 = C47 as (Element of D33) by L150 , L151;
L152: (<* D34 , D35 , D36 *> is (Element of ( 3 -tuples_on D33 )) & 2 in { 2 }) by FINSEQ_2:104 , TARSKI:def 1;
L153: [ 2 , <* C45 , C46 , C47 *> ] in [: { 2 } , ( 3 -tuples_on C32 ) :] by L152 , ZFMISC_1:87;
L154: [ 2 , <* C45 , C46 , C47 *> ] in ( [: { 1 } , ( 1 -tuples_on C32 ) :] \/ [: { 2 } , ( 3 -tuples_on C32 ) :] ) by L153 , XBOOLE_0:def 3;
consider C48 , C49 , C50 being set such that L155: C48 in C32 and L156: C49 in C32 and L157: C50 in C32 and L158: (([ 2 , <* C45 , C46 , C47 *> ] = [ 1 , <* C48 *> ] & ( D17 . [ 2 , <* C45 , C46 , C47 *> ] ) = ( {} )) or ([ 2 , <* C45 , C46 , C47 *> ] = [ 2 , <* C48 , C49 , C50 *> ] & ( D17 . [ 2 , <* C45 , C46 , C47 *> ] ) = <* [ ( 0 ) , <* C49 , C50 *> ] , [ ( 0 ) , <* C48 , C49 *> ] *>)) by L154 , L100;
L159: (<* C45 , C46 , C47 *> = ( ( <* C45 *> ^ <* C46 *> ) ^ <* C47 *> ) & <* C48 , C49 , C50 *> = ( ( <* C48 *> ^ <* C49 *> ) ^ <* C50 *> )) by FINSEQ_1:def 10;
L160: <* C45 , C46 , C47 *> = <* C48 , C49 , C50 *> by L158 , XTUPLE_0:1;
L161: ( <* C45 *> ^ <* C46 *> ) = ( <* C48 *> ^ <* C49 *> ) by L160 , L159 , FINSEQ_2:17;
L162: <* C45 *> = <* C48 *> by L161 , FINSEQ_2:17;
L163: C45 = C48 by L162 , L51;
L164: C46 = C49 by L161 , FINSEQ_2:17;
thus L165: ( (the Arity of D30) . [ 2 , <* C45 , C46 , C47 *> ] ) = <* [ ( 0 ) , <* C46 , C47 *> ] , [ ( 0 ) , <* C45 , C46 *> ] *> by L164 , L158 , L160 , L159 , L163 , FINSEQ_2:17 , XTUPLE_0:1;
consider C51 , C52 , C53 being set such that L166: C51 in C32 and L167: C52 in C32 and L168: C53 in C32 and L169: (([ 2 , <* C45 , C46 , C47 *> ] = [ 1 , <* C51 *> ] & ( D29 . [ 2 , <* C45 , C46 , C47 *> ] ) = [ ( 0 ) , <* C51 , C51 *> ]) or ([ 2 , <* C45 , C46 , C47 *> ] = [ 2 , <* C51 , C52 , C53 *> ] & ( D29 . [ 2 , <* C45 , C46 , C47 *> ] ) = [ ( 0 ) , <* C51 , C53 *> ])) by L133 , L154;
L170: (( <* C45 , C46 , C47 *> . 1 ) = C45 & ( <* C51 , C52 , C53 *> . 1 ) = C51) by FINSEQ_1:45;
L171: ( <* C45 , C46 , C47 *> . 3 ) = C47 by FINSEQ_1:45;
L172: <* C45 , C46 , C47 *> = <* C51 , C52 , C53 *> by L169 , XTUPLE_0:1;
thus L173: thesis by L172 , L169 , L170 , L171 , FINSEQ_1:45 , XTUPLE_0:1;
end;
correctness
proof
let C54 , C55 being  strict ManySortedSign;
assume that
L174: (the carrier of C54) = [: { ( 0 ) } , ( 2 -tuples_on C32 ) :]
and
L175: (the carrier' of C54) = ( [: { 1 } , ( 1 -tuples_on C32 ) :] \/ [: { 2 } , ( 3 -tuples_on C32 ) :] )
and
L176: (for B41 being set holds (B41 in C32 implies (( (the Arity of C54) . [ 1 , <* B41 *> ] ) = ( {} ) & ( (the ResultSort of C54) . [ 1 , <* B41 *> ] ) = [ ( 0 ) , <* B41 , B41 *> ])))
and
L177: (for B42 , B43 , B44 being set holds ((B42 in C32 & B43 in C32 & B44 in C32) implies (( (the Arity of C54) . [ 2 , <* B42 , B43 , B44 *> ] ) = <* [ ( 0 ) , <* B43 , B44 *> ] , [ ( 0 ) , <* B42 , B43 *> ] *> & ( (the ResultSort of C54) . [ 2 , <* B42 , B43 , B44 *> ] ) = [ ( 0 ) , <* B42 , B44 *> ])))
and
L178: (the carrier of C55) = [: { ( 0 ) } , ( 2 -tuples_on C32 ) :]
and
L179: (the carrier' of C55) = ( [: { 1 } , ( 1 -tuples_on C32 ) :] \/ [: { 2 } , ( 3 -tuples_on C32 ) :] )
and
L180: (for B45 being set holds (B45 in C32 implies (( (the Arity of C55) . [ 1 , <* B45 *> ] ) = ( {} ) & ( (the ResultSort of C55) . [ 1 , <* B45 *> ] ) = [ ( 0 ) , <* B45 , B45 *> ])))
and
L181: (for B46 , B47 , B48 being set holds ((B46 in C32 & B47 in C32 & B48 in C32) implies (( (the Arity of C55) . [ 2 , <* B46 , B47 , B48 *> ] ) = <* [ ( 0 ) , <* B47 , B48 *> ] , [ ( 0 ) , <* B46 , B47 *> ] *> & ( (the ResultSort of C55) . [ 2 , <* B46 , B47 , B48 *> ] ) = [ ( 0 ) , <* B46 , B48 *> ])));
L182:
now
let C56 being set;
assume L183: C56 in ( [: { 1 } , ( 1 -tuples_on C32 ) :] \/ [: { 2 } , ( 3 -tuples_on C32 ) :] );
L184: (C56 in [: { 1 } , ( 1 -tuples_on C32 ) :] or C56 in [: { 2 } , ( 3 -tuples_on C32 ) :]) by L183 , XBOOLE_0:def 3;
L185: ((( C56 `1 ) in { 1 } & ( C56 `2 ) in ( 1 -tuples_on C32 )) or (( C56 `1 ) in { 2 } & ( C56 `2 ) in ( 3 -tuples_on C32 ))) by L184 , MCART_1:10;
L186: ((( C56 `1 ) = 1 & ( C56 `2 ) in ( 1 -tuples_on C32 )) or (( C56 `1 ) = 2 & ( C56 `2 ) in ( 3 -tuples_on C32 ))) by L185 , TARSKI:def 1;
L187:
now
assume L188: ( C56 `2 ) in ( 3 -tuples_on C32 );
consider C57 , C58 , C59 being set such that L189: (C57 in C32 & C58 in C32 & C59 in C32 & ( C56 `2 ) = <* C57 , C58 , C59 *>) by L188 , FINSEQ_2:139;
thus L190: ( (the Arity of C54) . [ 2 , ( C56 `2 ) ] ) = <* [ ( 0 ) , <* C58 , C59 *> ] , [ ( 0 ) , <* C57 , C58 *> ] *> by L177 , L189
.= ( (the Arity of C55) . [ 2 , ( C56 `2 ) ] ) by L181 , L189;
end;
L191:
now
assume L192: ( C56 `2 ) in ( 1 -tuples_on C32 );
L193: (ex B49 being set st (B49 in C32 & ( C56 `2 ) = <* B49 *>)) by L192 , FINSEQ_2:135;
thus L194: ( (the Arity of C54) . [ 1 , ( C56 `2 ) ] ) = ( {} ) by L193 , L176
.= ( (the Arity of C55) . [ 1 , ( C56 `2 ) ] ) by L180 , L193;
end;
L195: C56 = [ ( C56 `1 ) , ( C56 `2 ) ] by L184 , MCART_1:21;
thus L196: ( (the Arity of C54) . C56 ) = ( (the Arity of C55) . C56 ) by L195 , L186 , L191 , L187;
end;
L197:
now
let C60 being set;
assume L198: C60 in ( [: { 1 } , ( 1 -tuples_on C32 ) :] \/ [: { 2 } , ( 3 -tuples_on C32 ) :] );
L199: (C60 in [: { 1 } , ( 1 -tuples_on C32 ) :] or C60 in [: { 2 } , ( 3 -tuples_on C32 ) :]) by L198 , XBOOLE_0:def 3;
L200: ((( C60 `1 ) in { 1 } & ( C60 `2 ) in ( 1 -tuples_on C32 )) or (( C60 `1 ) in { 2 } & ( C60 `2 ) in ( 3 -tuples_on C32 ))) by L199 , MCART_1:10;
L201: ((( C60 `1 ) = 1 & ( C60 `2 ) in ( 1 -tuples_on C32 )) or (( C60 `1 ) = 2 & ( C60 `2 ) in ( 3 -tuples_on C32 ))) by L200 , TARSKI:def 1;
L202:
now
assume L203: ( C60 `2 ) in ( 3 -tuples_on C32 );
consider C61 , C62 , C63 being set such that L204: (C61 in C32 & C62 in C32 & C63 in C32 & ( C60 `2 ) = <* C61 , C62 , C63 *>) by L203 , FINSEQ_2:139;
thus L205: ( (the ResultSort of C54) . [ 2 , ( C60 `2 ) ] ) = [ ( 0 ) , <* C61 , C63 *> ] by L177 , L204
.= ( (the ResultSort of C55) . [ 2 , ( C60 `2 ) ] ) by L181 , L204;
end;
L206:
now
assume L207: ( C60 `2 ) in ( 1 -tuples_on C32 );
consider C64 being set such that L208: (C64 in C32 & ( C60 `2 ) = <* C64 *>) by L207 , FINSEQ_2:135;
thus L209: ( (the ResultSort of C54) . [ 1 , ( C60 `2 ) ] ) = [ ( 0 ) , <* C64 , C64 *> ] by L176 , L208
.= ( (the ResultSort of C55) . [ 1 , ( C60 `2 ) ] ) by L180 , L208;
end;
L210: C60 = [ ( C60 `1 ) , ( C60 `2 ) ] by L199 , MCART_1:21;
thus L211: ( (the ResultSort of C54) . C60 ) = ( (the ResultSort of C55) . C60 ) by L210 , L201 , L206 , L202;
end;
L212: (( dom (the Arity of C54) ) = (the carrier' of C54) & ( dom (the Arity of C55) ) = (the carrier' of C55)) by FUNCT_2:def 1;
L213: (the Arity of C54) = (the Arity of C55) by L212 , L175 , L179 , L182 , FUNCT_1:2;
L214:
now
assume L215: [: { ( 0 ) } , ( 2 -tuples_on C32 ) :] = ( {} );
L216: C32 = ( {} ) by L215;
L217: ((1 <> ( 0 ) & 3 <> ( 0 )) implies (( 1 -tuples_on C32 ) = ( {} ) & ( 3 -tuples_on C32 ) = ( {} ))) by L216 , FINSEQ_3:119;
L218: [: { 1 } , ( 1 -tuples_on C32 ) :] = ( {} ) by L217 , ZFMISC_1:90;
thus L219: ( [: { 1 } , ( 1 -tuples_on C32 ) :] \/ [: { 2 } , ( 3 -tuples_on C32 ) :] ) = ( {} ) by L218 , L217 , ZFMISC_1:90;
end;
L220: (( dom (the ResultSort of C54) ) = (the carrier' of C54) & ( dom (the ResultSort of C55) ) = (the carrier' of C55)) by L214 , L174 , L175 , L178 , L179 , FUNCT_2:def 1;
thus L221: thesis by L220 , L174 , L175 , L178 , L179 , L213 , L197 , FUNCT_1:2;
end;
end;
registration
let C65 being set;
cluster ( CatSign C65 ) ->  feasible;
coherence
proof
assume L223: (the carrier of ( CatSign C65 )) = ( {} );
L224: [: { ( 0 ) } , ( 2 -tuples_on C65 ) :] = ( {} ) by L223 , L65;
L225: C65 = ( {} ) by L224;
L226: ((1 <> ( 0 ) & 3 <> ( 0 )) implies (( 1 -tuples_on C65 ) = ( {} ) & ( 3 -tuples_on C65 ) = ( {} ))) by L225 , FINSEQ_3:119;
L227: [: { 1 } , ( 1 -tuples_on C65 ) :] = ( {} ) by L226 , ZFMISC_1:90;
L228: ( [: { 1 } , ( 1 -tuples_on C65 ) :] \/ [: { 2 } , ( 3 -tuples_on C65 ) :] ) = ( {} ) by L227 , L226 , ZFMISC_1:90;
thus L229: thesis by L228 , L65;
end;
end;
registration
let C66 being non  empty set;
cluster ( CatSign C66 ) -> non  empty non  void;
coherence
proof
L231: (the carrier of ( CatSign C66 )) = [: { ( 0 ) } , ( 2 -tuples_on C66 ) :] by L65;
thus L232: (the carrier of ( CatSign C66 )) is non  empty by L231;
L233: (the carrier' of ( CatSign C66 )) = ( [: { 1 } , ( 1 -tuples_on C66 ) :] \/ [: { 2 } , ( 3 -tuples_on C66 ) :] ) by L65;
thus L234: (the carrier' of ( CatSign C66 )) is non  empty by L233;
end;
end;
definition
mode Signature
 is  feasible ManySortedSign;
end;
definition
let C67 being Signature;
attr C67 is  Categorial
means
:L237: (ex B50 being set st (( CatSign B50 ) is (Subsignature of C67) & (the carrier of C67) = [: { ( 0 ) } , ( 2 -tuples_on B50 ) :]));
end;
registration
cluster  Categorial -> non  void for non  empty non  empty non  empty non  empty Signature;
coherence
proof
let C68 being non  empty Signature;
given C69 being set such that
L239: ( CatSign C69 ) is (Subsignature of C68)
and
L240: (the carrier of C68) = [: { ( 0 ) } , ( 2 -tuples_on C69 ) :];

set D37 = the (SortSymbol of C68);
consider C70 , C71 being set such that L241: C70 in { ( 0 ) } and L242: C71 in ( 2 -tuples_on C69 ) and L243: D37 = [ C70 , C71 ] by L240 , ZFMISC_1:84;
L244: ( 2 -tuples_on C69 ) = { B51 where B51 is (Element of ( C69 * )) : ( len B51 ) = 2 } by FINSEQ_2:def 4;
consider C72 being (Element of ( C69 * )) such that L245: C71 = C72 and L246: ( len C72 ) = 2 by L244 , L242;
L247: ( dom C72 ) = ( Seg 2 ) by L246 , FINSEQ_1:def 3;
reconsider D38 = C69 as non  empty set by L247;
L248: 1 in ( dom C72 ) by L247 , FINSEQ_1:2 , TARSKI:def 2;
L249: ( C72 . 1 ) in ( rng C72 ) by L248 , FUNCT_1:def 3;
reconsider D39 = ( C72 . 1 ) as (Element of D38) by L249;
L250: (the carrier' of ( CatSign C69 )) = ( [: { 1 } , ( 1 -tuples_on C69 ) :] \/ [: { 2 } , ( 3 -tuples_on C69 ) :] ) by L65;
L251: (<* D39 *> is (Element of ( 1 -tuples_on D38 )) & ( [: { 1 } , ( 1 -tuples_on C69 ) :] \/ [: { 2 } , ( 3 -tuples_on C69 ) :] ) c= (the carrier' of C68)) by L250 , L239 , FINSEQ_2:98 , INSTALG1:10;
thus L252: (the carrier' of C68) is non  empty by L251;
end;
end;
registration
cluster  Categorial non  empty  strict for Signature;
existence
proof
take D40 = ( CatSign { ( {} ) } );
thus L254: D40 is  Categorial
proof
take { ( {} ) };
thus L255: thesis by L65 , INSTALG1:15;
end;

thus L256: thesis;
end;
end;
definition
mode CatSignature
 is  Categorial Signature;
end;
definition
let C73 being set;
mode CatSignature of C73
 -> Signature
means :L259: (( CatSign C73 ) is (Subsignature of it) & (the carrier of it) = [: { ( 0 ) } , ( 2 -tuples_on C73 ) :]);
existence
proof
set D41 = ( CatSign C73 );
L260: (D41 is (Subsignature of D41) & (the carrier of D41) = [: { ( 0 ) } , ( 2 -tuples_on C73 ) :]) by L65 , INSTALG1:15;
reconsider D42 = D41 as CatSignature by L260 , L237;
take D42;
thus L261: thesis by L65 , INSTALG1:15;
end;
end;
theorem
L263: (for B52 , B53 being set holds (for B54 being (CatSignature of B52) holds (B54 is (CatSignature of B53) implies B52 = B53)))
proof
let C74 , C75 being set;
let C76 being (CatSignature of C74);
assume that
L264: ( CatSign C75 ) is (Subsignature of C76)
and
L265: (the carrier of C76) = [: { ( 0 ) } , ( 2 -tuples_on C75 ) :];
L266: [: { ( 0 ) } , ( 2 -tuples_on C74 ) :] = [: { ( 0 ) } , ( 2 -tuples_on C75 ) :] by L265 , L259;
L267: ( 2 -tuples_on C74 ) c= ( 2 -tuples_on C75 ) by L266 , ZFMISC_1:94;
thus L268:now
let C77 being set;
assume L269: C77 in C74;
L270: <* C77 , C77 *> in ( 2 -tuples_on C74 ) by L269 , FINSEQ_2:137;
thus L271: C77 in C75 by L270 , L267 , FINSEQ_2:138;
end;
let C78 being set;
assume L272: C78 in C75;
L273: <* C78 , C78 *> in ( 2 -tuples_on C75 ) by L272 , FINSEQ_2:137;
L274: ( 2 -tuples_on C75 ) c= ( 2 -tuples_on C74 ) by L266 , ZFMISC_1:94;
thus L275: thesis by L274 , L273 , FINSEQ_2:138;
end;
registration
let C79 being set;
cluster  ->  Categorial for (CatSignature of C79);
coherence
proof
let C80 being (CatSignature of C79);
take C79;
thus L276: thesis by L259;
end;
end;
registration
let C81 being non  empty set;
cluster  -> non  empty for (CatSignature of C81);
coherence
proof
let C82 being (CatSignature of C81);
L278: ( CatSign C81 ) is (Subsignature of C82) by L259;
L279: (the carrier of ( CatSign C81 )) c= (the carrier of C82) by L278 , INSTALG1:10;
thus L280: (not (the carrier of C82) is  empty) by L279;
end;
end;
registration
let C83 being set;
cluster  strict for (CatSignature of C83);
existence
proof
set D43 = ( CatSign C83 );
L282: (D43 is (Subsignature of D43) & (the carrier of D43) = [: { ( 0 ) } , ( 2 -tuples_on C83 ) :]) by L65 , INSTALG1:15;
L283: D43 is (CatSignature of C83) by L282 , L259;
thus L284: thesis by L283;
end;
end;
definition
let C84 being set;
redefine func CatSign C84 ->  strict (CatSignature of C84);

coherence
proof
set D44 = ( CatSign C84 );
L286: (D44 is (Subsignature of D44) & (the carrier of D44) = [: { ( 0 ) } , ( 2 -tuples_on C84 ) :]) by L65 , INSTALG1:15;
thus L287: thesis by L286 , L259;
end;
end;
definition
let C85 being ManySortedSign;
func underlay C85 means 
:L289: (for B55 being set holds (B55 in it iff (ex B56 being set st (ex B57 being Function st ([ B56 , B57 ] in ( (the carrier of C85) \/ (the carrier' of C85) ) & B55 in ( rng B57 ))))));
existence
proof
set D45 = ( (the carrier of C85) \/ (the carrier' of C85) );
take D46 = ( proj2 ( union ( SubFuncs ( proj2 D45 ) ) ) );
let C86 being set;
thus L290:now
assume L291: C86 in D46;
consider C87 being set such that L292: [ C87 , C86 ] in ( union ( SubFuncs ( proj2 D45 ) ) ) by L291 , XTUPLE_0:def 13;
consider C88 being set such that L293: [ C87 , C86 ] in C88 and L294: C88 in ( SubFuncs ( proj2 D45 ) ) by L292 , TARSKI:def 4;
reconsider D47 = C88 as Function by L294 , FUNCT_6:def 1;
L295: D47 in ( proj2 D45 ) by L294 , FUNCT_6:def 1;
consider C89 being set such that L296: [ C89 , D47 ] in D45 by L295 , XTUPLE_0:def 13;
take D48 = C89;
take D49 = D47;
thus L297: ([ D48 , D49 ] in D45 & C86 in ( rng D49 )) by L293 , L296 , XTUPLE_0:def 13;
end;
given C90 being set , C91 being Function such that
L298: [ C90 , C91 ] in ( (the carrier of C85) \/ (the carrier' of C85) )
and
L299: C86 in ( rng C91 );

consider C92 being set such that L300: [ C92 , C86 ] in C91 by L299 , XTUPLE_0:def 13;
L301: C91 in ( proj2 D45 ) by L298 , XTUPLE_0:def 13;
L302: C91 in ( SubFuncs ( proj2 D45 ) ) by L301 , FUNCT_6:def 1;
L303: [ C92 , C86 ] in ( union ( SubFuncs ( proj2 D45 ) ) ) by L302 , L300 , TARSKI:def 4;
thus L304: thesis by L303 , XTUPLE_0:def 13;
end;
uniqueness
proof
defpred S3[ set ] means (ex B58 being set st (ex B59 being Function st ([ B58 , B59 ] in ( (the carrier of C85) \/ (the carrier' of C85) ) & $1 in ( rng B59 ))));
thus L305: (for B60 , B61 being set holds (((for B62 being set holds (B62 in B60 iff S3[ B62 ])) & (for B63 being set holds (B63 in B61 iff S3[ B63 ]))) implies B60 = B61)) from XBOOLE_0:sch 3;
end;
end;
theorem
L307: (for B64 being set holds ( underlay ( CatSign B64 ) ) = B64)
proof
let C93 being set;
set D50 = ( CatSign C93 );
L308: (the carrier' of D50) = ( [: { 1 } , ( 1 -tuples_on C93 ) :] \/ [: { 2 } , ( 3 -tuples_on C93 ) :] ) by L65;
thus L309:now
let C94 being set;
assume L310: C94 in ( underlay ( CatSign C93 ) );
consider C95 being set, C96 being Function such that L311: [ C95 , C96 ] in ( (the carrier of D50) \/ (the carrier' of D50) ) and L312: C94 in ( rng C96 ) by L310 , L289;
L313: ([ C95 , C96 ] in (the carrier of D50) or [ C95 , C96 ] in (the carrier' of D50)) by L311 , XBOOLE_0:def 3;
L314: ([ C95 , C96 ] in [: { ( 0 ) } , ( 2 -tuples_on C93 ) :] or [ C95 , C96 ] in [: { 1 } , ( 1 -tuples_on C93 ) :] or [ C95 , C96 ] in [: { 2 } , ( 3 -tuples_on C93 ) :]) by L313 , L308 , L65 , XBOOLE_0:def 3;
L315: (C96 in ( 2 -tuples_on C93 ) or C96 in ( 1 -tuples_on C93 ) or C96 in ( 3 -tuples_on C93 )) by L314 , ZFMISC_1:87;
L316: C96 is (FinSequence of C93) by L315 , FINSEQ_2:def 3;
L317: ( rng C96 ) c= C93 by L316 , FINSEQ_1:def 4;
thus L318: C94 in C93 by L317 , L312;
end;
let C97 being set;
assume L319: C97 in C93;
L320: <* C97 , C97 *> in ( 2 -tuples_on C93 ) by L319 , FINSEQ_2:137;
L321: (the carrier of D50) = [: { ( 0 ) } , ( 2 -tuples_on C93 ) :] by L65;
L322: [ ( 0 ) , <* C97 , C97 *> ] in (the carrier of D50) by L321 , L320 , ZFMISC_1:105;
L323: [ ( 0 ) , <* C97 , C97 *> ] in ( (the carrier of D50) \/ (the carrier' of D50) ) by L322 , XBOOLE_0:def 3;
L324: ( rng <* C97 , C97 *> ) = { C97 , C97 } by FINSEQ_2:127;
L325: C97 in ( rng <* C97 , C97 *> ) by L324 , TARSKI:def 2;
thus L326: thesis by L325 , L323 , L289;
end;
definition
let C98 being ManySortedSign;
attr C98 is  delta-concrete
means
:L327: (ex B65 being (Function of ( NAT ) , ( NAT )) st ((for B66 being set holds (B66 in (the carrier of C98) implies (ex B67 being (Element of ( NAT )) st (ex B68 being FinSequence st (B66 = [ B67 , B68 ] & ( len B68 ) = ( B65 . B67 ) & [: { B67 } , ( ( B65 . B67 ) -tuples_on ( underlay C98 ) ) :] c= (the carrier of C98)))))) & (for B69 being set holds (B69 in (the carrier' of C98) implies (ex B70 being (Element of ( NAT )) st (ex B71 being FinSequence st (B69 = [ B70 , B71 ] & ( len B71 ) = ( B65 . B70 ) & [: { B70 } , ( ( B65 . B70 ) -tuples_on ( underlay C98 ) ) :] c= (the carrier' of C98))))))));
end;
registration
let C99 being set;
cluster ( CatSign C99 ) ->  delta-concrete;
coherence
proof
defpred S4[ set , set ] means (($1 = ( 0 ) implies $2 = 2) & ($1 = 1 implies $2 = 1) & ($1 = 2 implies $2 = 3));
set D51 = ( CatSign C99 );
L329: (for B72 being set holds (B72 in ( NAT ) implies (ex B73 being set st (B73 in ( NAT ) & S4[ B72 , B73 ]))))
proof
reconsider D52 = 2 , D53 = 1 , D54 = 3 as set;
let C100 being set;
assume L330: C100 in ( NAT );
per cases ;
suppose L331: C100 = ( 0 );

take D52;
thus L332: thesis by L331;
end;
suppose L333: C100 = 1;

take D53;
thus L334: thesis by L333;
end;
suppose L335: C100 = 2;

take D54;
thus L336: thesis by L335;
end;
suppose L337: (C100 <> ( 0 ) & C100 <> 1 & C100 <> 2);

take D52;
thus L338: thesis by L337;
end;
end;
consider C101 being Function such that L340: (( dom C101 ) = ( NAT ) & ( rng C101 ) c= ( NAT )) and L341: (for B74 being set holds (B74 in ( NAT ) implies S4[ B74 , ( C101 . B74 ) ])) from FUNCT_1:sch 5(L329);
reconsider D55 = C101 as (Function of ( NAT ) , ( NAT )) by L340 , FUNCT_2:2;
take D55;
L342: C99 = ( underlay D51 ) by L307;
L343: (the carrier of D51) = [: { ( 0 ) } , ( 2 -tuples_on C99 ) :] by L65;
thus L344:now
let C102 being set;
assume L345: C102 in (the carrier of D51);
consider C103 , C104 being set such that L346: C103 in { ( 0 ) } and L347: C104 in ( 2 -tuples_on C99 ) and L348: C102 = [ C103 , C104 ] by L345 , L343 , ZFMISC_1:84;
reconsider D56 = C104 as FinSequence by L347;
take D57 = ( 0 );
take D58 = D56;
L349: ( D55 . D57 ) = 2 by L341;
thus L350: (C102 = [ D57 , D58 ] & ( len D58 ) = ( D55 . D57 )) by L349 , L346 , L347 , L348 , FINSEQ_2:132 , TARSKI:def 1;
thus L351: [: { D57 } , ( ( D55 . D57 ) -tuples_on ( underlay D51 ) ) :] c= (the carrier of D51) by L341 , L343 , L342;
end;
let C105 being set;
L352: (the carrier' of D51) = ( [: { 1 } , ( 1 -tuples_on C99 ) :] \/ [: { 2 } , ( 3 -tuples_on C99 ) :] ) by L65;
assume L353: C105 in (the carrier' of D51);
per cases  by L352 , L353 , XBOOLE_0:def 3;
suppose L354: C105 in [: { 1 } , ( 1 -tuples_on C99 ) :];

consider C106 , C107 being set such that L355: C106 in { 1 } and L356: C107 in ( 1 -tuples_on C99 ) and L357: C105 = [ C106 , C107 ] by L354 , ZFMISC_1:84;
reconsider D59 = C107 as (FinSequence of C99) by L356 , FINSEQ_2:def 3;
take D60 = 1;
take D59;
L358: ( D55 . D60 ) = 1 by L341;
thus L359: thesis by L358 , L352 , L342 , L355 , L356 , L357 , FINSEQ_2:132 , TARSKI:def 1 , XBOOLE_1:7;
end;
suppose L360: C105 in [: { 2 } , ( 3 -tuples_on C99 ) :];

consider C108 , C109 being set such that L361: C108 in { 2 } and L362: C109 in ( 3 -tuples_on C99 ) and L363: C105 = [ C108 , C109 ] by L360 , ZFMISC_1:84;
reconsider D61 = C109 as (FinSequence of C99) by L362 , FINSEQ_2:def 3;
take D62 = 2;
take D61;
L364: ( D55 . D62 ) = 3 by L341;
thus L365: thesis by L364 , L352 , L342 , L361 , L362 , L363 , FINSEQ_2:132 , TARSKI:def 1 , XBOOLE_1:7;
end;
end;
end;
registration
cluster  delta-concrete non  empty  strict for CatSignature;
existence
proof
take ( CatSign { ( {} ) } );
thus L368: thesis;
end;
let C110 being set;
cluster  delta-concrete  strict for (CatSignature of C110);
existence
proof
take ( CatSign C110 );
thus L369: thesis;
end;
end;
theorem
L371: (for B75 being  delta-concrete ManySortedSign holds (for B76 being set holds ((B76 in (the carrier of B75) or B76 in (the carrier' of B75)) implies (ex B77 being (Element of ( NAT )) st (ex B78 being FinSequence st (B76 = [ B77 , B78 ] & ( rng B78 ) c= ( underlay B75 )))))))
proof
let C111 being  delta-concrete ManySortedSign;
let C112 being set;
assume that
L372: (C112 in (the carrier of C111) or C112 in (the carrier' of C111));
L373: C112 in ( (the carrier of C111) \/ (the carrier' of C111) ) by L372 , XBOOLE_0:def 3;
consider C113 being (Function of ( NAT ) , ( NAT )) such that L374: (for B79 being set holds (B79 in (the carrier of C111) implies (ex B80 being (Element of ( NAT )) st (ex B81 being FinSequence st (B79 = [ B80 , B81 ] & ( len B81 ) = ( C113 . B80 ) & [: { B80 } , ( ( C113 . B80 ) -tuples_on ( underlay C111 ) ) :] c= (the carrier of C111)))))) and L375: (for B82 being set holds (B82 in (the carrier' of C111) implies (ex B83 being (Element of ( NAT )) st (ex B84 being FinSequence st (B82 = [ B83 , B84 ] & ( len B84 ) = ( C113 . B83 ) & [: { B83 } , ( ( C113 . B83 ) -tuples_on ( underlay C111 ) ) :] c= (the carrier' of C111)))))) by L327;
per cases  by L372;
suppose L376: C112 in (the carrier of C111);

consider C114 being (Element of ( NAT )), C115 being FinSequence such that L377: C112 = [ C114 , C115 ] and L378: ( len C115 ) = ( C113 . C114 ) and L379: [: { C114 } , ( ( C113 . C114 ) -tuples_on ( underlay C111 ) ) :] c= (the carrier of C111) by L376 , L374;
take C114;
take C115;
thus L380: C112 = [ C114 , C115 ] by L377;
let C116 being set;
thus L381: thesis by L373 , L377 , L289;
end;
suppose L382: C112 in (the carrier' of C111);

consider C117 being (Element of ( NAT )), C118 being FinSequence such that L383: C112 = [ C117 , C118 ] and L384: ( len C118 ) = ( C113 . C117 ) and L385: [: { C117 } , ( ( C113 . C117 ) -tuples_on ( underlay C111 ) ) :] c= (the carrier' of C111) by L382 , L375;
take C117;
take C118;
thus L386: C112 = [ C117 , C118 ] by L383;
let C119 being set;
thus L387: thesis by L373 , L383 , L289;
end;
end;
theorem
L389: (for B85 being  delta-concrete ManySortedSign holds (for B86 being set holds (for B87 , B88 being FinSequence holds ((([ B86 , B87 ] in (the carrier of B85) & [ B86 , B88 ] in (the carrier of B85)) or ([ B86 , B87 ] in (the carrier' of B85) & [ B86 , B88 ] in (the carrier' of B85))) implies ( len B87 ) = ( len B88 )))))
proof
let C120 being  delta-concrete ManySortedSign;
let C121 being set;
let C122 , C123 being FinSequence;
assume that
L390: (([ C121 , C122 ] in (the carrier of C120) & [ C121 , C123 ] in (the carrier of C120)) or ([ C121 , C122 ] in (the carrier' of C120) & [ C121 , C123 ] in (the carrier' of C120)));
consider C124 being (Function of ( NAT ) , ( NAT )) such that L391: (for B89 being set holds (B89 in (the carrier of C120) implies (ex B90 being (Element of ( NAT )) st (ex B91 being FinSequence st (B89 = [ B90 , B91 ] & ( len B91 ) = ( C124 . B90 ) & [: { B90 } , ( ( C124 . B90 ) -tuples_on ( underlay C120 ) ) :] c= (the carrier of C120)))))) and L392: (for B92 being set holds (B92 in (the carrier' of C120) implies (ex B93 being (Element of ( NAT )) st (ex B94 being FinSequence st (B92 = [ B93 , B94 ] & ( len B94 ) = ( C124 . B93 ) & [: { B93 } , ( ( C124 . B93 ) -tuples_on ( underlay C120 ) ) :] c= (the carrier' of C120)))))) by L327;
per cases  by L390;
suppose L393: ([ C121 , C122 ] in (the carrier of C120) & [ C121 , C123 ] in (the carrier of C120));

consider C125 being (Element of ( NAT )), C126 being FinSequence such that L394: [ C121 , C122 ] = [ C125 , C126 ] and L395: ( len C126 ) = ( C124 . C125 ) and L396: [: { C125 } , ( ( C124 . C125 ) -tuples_on ( underlay C120 ) ) :] c= (the carrier of C120) by L393 , L391;
L397: (C121 = C125 & C122 = C126) by L394 , XTUPLE_0:1;
consider C127 being (Element of ( NAT )), C128 being FinSequence such that L398: [ C121 , C123 ] = [ C127 , C128 ] and L399: ( len C128 ) = ( C124 . C127 ) and L400: [: { C127 } , ( ( C124 . C127 ) -tuples_on ( underlay C120 ) ) :] c= (the carrier of C120) by L391 , L393;
L401: C121 = C127 by L398 , XTUPLE_0:1;
thus L402: thesis by L401 , L395 , L398 , L399 , L397 , XTUPLE_0:1;
end;
suppose L403: ([ C121 , C122 ] in (the carrier' of C120) & [ C121 , C123 ] in (the carrier' of C120));

consider C129 being (Element of ( NAT )), C130 being FinSequence such that L404: [ C121 , C122 ] = [ C129 , C130 ] and L405: ( len C130 ) = ( C124 . C129 ) and L406: [: { C129 } , ( ( C124 . C129 ) -tuples_on ( underlay C120 ) ) :] c= (the carrier' of C120) by L403 , L392;
L407: (C121 = C129 & C122 = C130) by L404 , XTUPLE_0:1;
consider C131 being (Element of ( NAT )), C132 being FinSequence such that L408: [ C121 , C123 ] = [ C131 , C132 ] and L409: ( len C132 ) = ( C124 . C131 ) and L410: [: { C131 } , ( ( C124 . C131 ) -tuples_on ( underlay C120 ) ) :] c= (the carrier' of C120) by L392 , L403;
L411: C121 = C131 by L408 , XTUPLE_0:1;
thus L412: thesis by L411 , L405 , L408 , L409 , L407 , XTUPLE_0:1;
end;
end;
theorem
L414: (for B95 being  delta-concrete ManySortedSign holds (for B96 being set holds (for B97 , B98 being FinSequence holds ((( len B98 ) = ( len B97 ) & ( rng B98 ) c= ( underlay B95 )) implies (([ B96 , B97 ] in (the carrier of B95) implies [ B96 , B98 ] in (the carrier of B95)) & ([ B96 , B97 ] in (the carrier' of B95) implies [ B96 , B98 ] in (the carrier' of B95)))))))
proof
let C133 being  delta-concrete ManySortedSign;
let C134 being set;
let C135 , C136 being FinSequence;
assume that
L415: (( len C136 ) = ( len C135 ) & ( rng C136 ) c= ( underlay C133 ));
consider C137 being (Function of ( NAT ) , ( NAT )) such that L416: (for B99 being set holds (B99 in (the carrier of C133) implies (ex B100 being (Element of ( NAT )) st (ex B101 being FinSequence st (B99 = [ B100 , B101 ] & ( len B101 ) = ( C137 . B100 ) & [: { B100 } , ( ( C137 . B100 ) -tuples_on ( underlay C133 ) ) :] c= (the carrier of C133)))))) and L417: (for B102 being set holds (B102 in (the carrier' of C133) implies (ex B103 being (Element of ( NAT )) st (ex B104 being FinSequence st (B102 = [ B103 , B104 ] & ( len B104 ) = ( C137 . B103 ) & [: { B103 } , ( ( C137 . B103 ) -tuples_on ( underlay C133 ) ) :] c= (the carrier' of C133)))))) by L327;
thus L418:now
assume L419: [ C134 , C135 ] in (the carrier of C133);
consider C138 being (Element of ( NAT )), C139 being FinSequence such that L420: [ C134 , C135 ] = [ C138 , C139 ] and L421: ( len C139 ) = ( C137 . C138 ) and L422: [: { C138 } , ( ( C137 . C138 ) -tuples_on ( underlay C133 ) ) :] c= (the carrier of C133) by L419 , L416;
L423: C135 = C139 by L420 , XTUPLE_0:1;
L424: C136 in ( ( C137 . C138 ) -tuples_on ( underlay C133 ) ) by L423 , L415 , L421 , FINSEQ_2:132;
L425: C134 = C138 by L420 , XTUPLE_0:1;
L426: [ C134 , C136 ] in [: { C138 } , ( ( C137 . C138 ) -tuples_on ( underlay C133 ) ) :] by L425 , L424 , ZFMISC_1:105;
thus L427: [ C134 , C136 ] in (the carrier of C133) by L426 , L422;
end;
assume L428: [ C134 , C135 ] in (the carrier' of C133);
consider C140 being (Element of ( NAT )), C141 being FinSequence such that L429: [ C134 , C135 ] = [ C140 , C141 ] and L430: ( len C141 ) = ( C137 . C140 ) and L431: [: { C140 } , ( ( C137 . C140 ) -tuples_on ( underlay C133 ) ) :] c= (the carrier' of C133) by L428 , L417;
L432: C135 = C141 by L429 , XTUPLE_0:1;
L433: C136 in ( ( C137 . C140 ) -tuples_on ( underlay C133 ) ) by L432 , L415 , L430 , FINSEQ_2:132;
L434: C134 = C140 by L429 , XTUPLE_0:1;
L435: [ C134 , C136 ] in [: { C140 } , ( ( C137 . C140 ) -tuples_on ( underlay C133 ) ) :] by L434 , L433 , ZFMISC_1:105;
thus L436: thesis by L435 , L431;
end;
theorem
L437: (for B105 being  delta-concrete  Categorial non  empty Signature holds B105 is (CatSignature of ( underlay B105 )))
proof
let C142 being  delta-concrete  Categorial non  empty Signature;
set D63 = the (SortSymbol of C142);
consider C143 being set such that L438: ( CatSign C143 ) is (Subsignature of C142) and L439: (the carrier of C142) = [: { ( 0 ) } , ( 2 -tuples_on C143 ) :] by L237;
consider C144 being (Function of ( NAT ) , ( NAT )) such that L440: (for B106 being set holds (B106 in (the carrier of C142) implies (ex B107 being (Element of ( NAT )) st (ex B108 being FinSequence st (B106 = [ B107 , B108 ] & ( len B108 ) = ( C144 . B107 ) & [: { B107 } , ( ( C144 . B107 ) -tuples_on ( underlay C142 ) ) :] c= (the carrier of C142)))))) and L441: (for B109 being set holds (B109 in (the carrier' of C142) implies (ex B110 being (Element of ( NAT )) st (ex B111 being FinSequence st (B109 = [ B110 , B111 ] & ( len B111 ) = ( C144 . B110 ) & [: { B110 } , ( ( C144 . B110 ) -tuples_on ( underlay C142 ) ) :] c= (the carrier' of C142)))))) by L327;
consider C145 being (Element of ( NAT )), C146 being FinSequence such that L442: D63 = [ C145 , C146 ] and L443: (( len C146 ) = ( C144 . C145 ) & [: { C145 } , ( ( C144 . C145 ) -tuples_on ( underlay C142 ) ) :] c= (the carrier of C142)) by L440;
L444: C146 in ( 2 -tuples_on C143 ) by L439 , L442 , ZFMISC_1:105;
L445: ( len C146 ) = 2 by L444 , FINSEQ_2:132;
L446: C143 c= ( underlay C142 )
proof
let C147 being set;
assume L447: C147 in C143;
L448: <* C147 , C147 *> in ( 2 -tuples_on C143 ) by L447 , FINSEQ_2:137;
L449: [ ( 0 ) , <* C147 , C147 *> ] in (the carrier of C142) by L448 , L439 , ZFMISC_1:105;
L450: [ ( 0 ) , <* C147 , C147 *> ] in ( (the carrier of C142) \/ (the carrier' of C142) ) by L449 , XBOOLE_0:def 3;
L451: ( rng <* C147 , C147 *> ) = { C147 , C147 } by FINSEQ_2:127;
L452: C147 in ( rng <* C147 , C147 *> ) by L451 , TARSKI:def 2;
thus L453: thesis by L452 , L450 , L289;
end;
L454: C145 = ( 0 ) by L439 , L442 , ZFMISC_1:105;
L455: ( 2 -tuples_on ( underlay C142 ) ) c= ( 2 -tuples_on C143 ) by L454 , L439 , L443 , L445 , ZFMISC_1:94;
L456: ( underlay C142 ) c= C143
proof
let C148 being set;
assume L457: C148 in ( underlay C142 );
L458: <* C148 , C148 *> in ( 2 -tuples_on ( underlay C142 ) ) by L457 , FINSEQ_2:137;
thus L459: thesis by L458 , L455 , FINSEQ_2:138;
end;
L460: C143 = ( underlay C142 ) by L456 , L446 , XBOOLE_0:def 10;
thus L461: thesis by L460 , L438 , L439 , L259;
end;
begin
registration
let C149 being non  empty CatSignature;
let C150 being (SortSymbol of C149);
cluster ( C150 `2 ) ->  Relation-like  Function-like;
coherence
proof
consider C151 being set such that L462: ( CatSign C151 ) is (Subsignature of C149) and L463: (the carrier of C149) = [: { ( 0 ) } , ( 2 -tuples_on C151 ) :] by L237;
L464: ( C150 `2 ) in ( 2 -tuples_on C151 ) by L463 , MCART_1:10;
thus L465: thesis by L464;
end;
end;
registration
let C152 being non  empty  delta-concrete ManySortedSign;
let C153 being (SortSymbol of C152);
cluster ( C153 `2 ) ->  Relation-like  Function-like;
coherence
proof
L467: (ex B112 being (Element of ( NAT )) st (ex B113 being FinSequence st (C153 = [ B112 , B113 ] & ( rng B113 ) c= ( underlay C152 )))) by L371;
thus L468: thesis by L467 , MCART_1:7;
end;
end;
registration
let C154 being non  void  delta-concrete ManySortedSign;
let C155 being (Element of (the carrier' of C154));
cluster ( C155 `2 ) ->  Relation-like  Function-like;
coherence
proof
L470: (ex B114 being (Element of ( NAT )) st (ex B115 being FinSequence st (C155 = [ B114 , B115 ] & ( rng B115 ) c= ( underlay C154 )))) by L371;
thus L471: thesis by L470 , MCART_1:7;
end;
end;
registration
let C156 being non  empty CatSignature;
let C157 being (SortSymbol of C156);
cluster ( C157 `2 ) ->  FinSequence-like;
coherence
proof
consider C158 being set such that L473: ( CatSign C158 ) is (Subsignature of C156) and L474: (the carrier of C156) = [: { ( 0 ) } , ( 2 -tuples_on C158 ) :] by L237;
L475: ( C157 `2 ) in ( 2 -tuples_on C158 ) by L474 , MCART_1:10;
L476: (ex B116 , B117 being set st (B116 in C158 & B117 in C158 & ( C157 `2 ) = <* B116 , B117 *>)) by L475 , FINSEQ_2:137;
thus L477: thesis by L476;
end;
end;
registration
let C159 being non  empty  delta-concrete ManySortedSign;
let C160 being (SortSymbol of C159);
cluster ( C160 `2 ) ->  FinSequence-like;
coherence
proof
L479: (ex B118 being (Element of ( NAT )) st (ex B119 being FinSequence st (C160 = [ B118 , B119 ] & ( rng B119 ) c= ( underlay C159 )))) by L371;
thus L480: thesis by L479 , MCART_1:7;
end;
end;
registration
let C161 being non  void  delta-concrete ManySortedSign;
let C162 being (Element of (the carrier' of C161));
cluster ( C162 `2 ) ->  FinSequence-like;
coherence
proof
L482: (ex B120 being (Element of ( NAT )) st (ex B121 being FinSequence st (C162 = [ B120 , B121 ] & ( rng B121 ) c= ( underlay C161 )))) by L371;
thus L483: thesis by L482 , MCART_1:7;
end;
end;
definition
let C163 being set;
func idsym C163 equals 
[ 1 , <* C163 *> ];
correctness;
let C164 being set;
func homsym (C163 , C164) equals 
[ ( 0 ) , <* C163 , C164 *> ];
correctness;
let C165 being set;
func compsym (C163 , C164 , C165) equals 
[ 2 , <* C163 , C164 , C165 *> ];
correctness;
end;
theorem
L486: (for B122 being non  empty set holds (for B123 being (CatSignature of B122) holds (for B124 being (Element of B122) holds (( idsym B124 ) in (the carrier' of B123) & (for B125 being (Element of B122) holds (( homsym (B124 , B125) ) in (the carrier of B123) & (for B126 being (Element of B122) holds ( compsym (B124 , B125 , B126) ) in (the carrier' of B123))))))))
proof
let C166 being non  empty set;
let C167 being (CatSignature of C166);
let C168 being (Element of C166);
L487: (the carrier' of ( CatSign C166 )) = ( [: { 1 } , ( 1 -tuples_on C166 ) :] \/ [: { 2 } , ( 3 -tuples_on C166 ) :] ) by L65;
L488: ( CatSign C166 ) is (Subsignature of C167) by L259;
L489: (the carrier of ( CatSign C166 )) c= (the carrier of C167) by L488 , INSTALG1:10;
L490: (the carrier' of ( CatSign C166 )) c= (the carrier' of C167) by L488 , INSTALG1:10;
L491: <* C168 *> in ( 1 -tuples_on C166 ) by FINSEQ_2:135;
L492: [ 1 , <* C168 *> ] in [: { 1 } , ( 1 -tuples_on C166 ) :] by L491 , ZFMISC_1:105;
L493: [ 1 , <* C168 *> ] in (the carrier' of ( CatSign C166 )) by L492 , L487 , XBOOLE_0:def 3;
thus L494: ( idsym C168 ) in (the carrier' of C167) by L493 , L490;
let C169 being (Element of C166);
L495: (the carrier of ( CatSign C166 )) = [: { ( 0 ) } , ( 2 -tuples_on C166 ) :] by L65;
L496: <* C168 , C169 *> in ( 2 -tuples_on C166 ) by FINSEQ_2:137;
L497: [ ( 0 ) , <* C168 , C169 *> ] in [: { ( 0 ) } , ( 2 -tuples_on C166 ) :] by L496 , ZFMISC_1:105;
thus L498: ( homsym (C168 , C169) ) in (the carrier of C167) by L497 , L489 , L495;
let C170 being (Element of C166);
L499: <* C168 , C169 , C170 *> in ( 3 -tuples_on C166 ) by FINSEQ_2:139;
L500: [ 2 , <* C168 , C169 , C170 *> ] in [: { 2 } , ( 3 -tuples_on C166 ) :] by L499 , ZFMISC_1:105;
L501: [ 2 , <* C168 , C169 , C170 *> ] in (the carrier' of ( CatSign C166 )) by L500 , L487 , XBOOLE_0:def 3;
thus L502: thesis by L501 , L490;
end;
definition
let C171 being non  empty set;
let C172 being (Element of C171);
redefine func idsym C172 -> (OperSymbol of ( CatSign C171 ));

correctness by L486;
let C173 being (Element of C171);
redefine func homsym (C172 , C173) -> (SortSymbol of ( CatSign C171 ));

correctness by L486;
let C174 being (Element of C171);
redefine func compsym (C172 , C173 , C174) -> (OperSymbol of ( CatSign C171 ));

correctness by L486;
end;
theorem
L504: (for B127 , B128 being set holds (( idsym B127 ) = ( idsym B128 ) implies B127 = B128))
proof
let C175 , C176 being set;
assume L505: ( idsym C175 ) = ( idsym C176 );
L506: <* C175 *> = <* C176 *> by L505 , XTUPLE_0:1;
thus L507: thesis by L506 , L51;
end;
theorem
L508: (for B129 , B130 , B131 , B132 being set holds (( homsym (B129 , B131) ) = ( homsym (B130 , B132) ) implies (B129 = B130 & B131 = B132)))
proof
let C177 , C178 , C179 , C180 being set;
assume L509: ( homsym (C177 , C179) ) = ( homsym (C178 , C180) );
L510: <* C177 , C179 *> = <* C178 , C180 *> by L509 , XTUPLE_0:1;
L511: (( <* C177 , C179 *> . 1 ) = C177 & ( <* C177 , C179 *> . 2 ) = C179) by FINSEQ_1:44;
thus L512: thesis by L511 , L510 , FINSEQ_1:44;
end;
theorem
L513: (for B133 , B134 , B135 , B136 , B137 , B138 being set holds (( compsym (B133 , B135 , B137) ) = ( compsym (B134 , B136 , B138) ) implies (B133 = B134 & B135 = B136 & B137 = B138)))
proof
let C181 , C182 , C183 , C184 , C185 , C186 being set;
L514: ( <* C181 , C183 , C185 *> . 3 ) = C185 by FINSEQ_1:45;
assume L515: ( compsym (C181 , C183 , C185) ) = ( compsym (C182 , C184 , C186) );
L516: <* C181 , C183 , C185 *> = <* C182 , C184 , C186 *> by L515 , XTUPLE_0:1;
L517: (( <* C181 , C183 , C185 *> . 1 ) = C181 & ( <* C181 , C183 , C185 *> . 2 ) = C183) by FINSEQ_1:45;
thus L518: thesis by L517 , L516 , L514 , FINSEQ_1:45;
end;
theorem
L519: (for B139 being non  empty set holds (for B140 being (CatSignature of B139) holds (for B141 being (SortSymbol of B140) holds (ex B142 , B143 being (Element of B139) st B141 = ( homsym (B142 , B143) )))))
proof
let C187 being non  empty set;
let C188 being (CatSignature of C187);
let C189 being (SortSymbol of C188);
L520: (the carrier of C188) = [: { ( 0 ) } , ( 2 -tuples_on C187 ) :] by L259;
L521: ( C189 `2 ) in ( 2 -tuples_on C187 ) by L520 , MCART_1:10;
L522: ( C189 `2 ) in { B144 where B144 is (Element of ( C187 * )) : ( len B144 ) = 2 } by L521 , FINSEQ_2:def 4;
consider C190 being (Element of ( C187 * )) such that L523: ( C189 `2 ) = C190 and L524: ( len C190 ) = 2 by L522;
L525: (( C190 . 1 ) in { ( C190 . 1 ) , ( C190 . 2 ) } & ( C190 . 2 ) in { ( C190 . 1 ) , ( C190 . 2 ) }) by TARSKI:def 2;
L526: C190 = <* ( C190 . 1 ) , ( C190 . 2 ) *> by L524 , FINSEQ_1:44;
L527: ( rng C190 ) = { ( C190 . 1 ) , ( C190 . 2 ) } by L526 , FINSEQ_2:127;
reconsider D64 = ( C190 . 1 ) , D65 = ( C190 . 2 ) as (Element of C187) by L527 , L525;
take D64;
take D65;
L528: (C189 = [ ( C189 `1 ) , ( C189 `2 ) ] & ( C189 `1 ) in { ( 0 ) }) by L520 , MCART_1:10 , MCART_1:21;
thus L529: thesis by L528 , L523 , L526 , TARSKI:def 1;
end;
theorem
L530: (for B145 being non  empty set holds (for B146 being (OperSymbol of ( CatSign B145 )) holds ((( B146 `1 ) = 1 & ( len ( B146 `2 ) ) = 1) or (( B146 `1 ) = 2 & ( len ( B146 `2 ) ) = 3))))
proof
let C191 being non  empty set;
let C192 being (OperSymbol of ( CatSign C191 ));
L531: (the carrier' of ( CatSign C191 )) = ( [: { 1 } , ( 1 -tuples_on C191 ) :] \/ [: { 2 } , ( 3 -tuples_on C191 ) :] ) by L65;
L532: (C192 in [: { 1 } , ( 1 -tuples_on C191 ) :] or C192 in [: { 2 } , ( 3 -tuples_on C191 ) :]) by L531 , XBOOLE_0:def 3;
L533: ((( C192 `1 ) in { 1 } & ( C192 `2 ) in ( 1 -tuples_on C191 )) or (( C192 `1 ) in { 2 } & ( C192 `2 ) in ( 3 -tuples_on C191 ))) by L532 , MCART_1:10;
thus L534: thesis by L533 , CARD_1:def 7 , TARSKI:def 1;
end;
theorem
L535: (for B147 being non  empty set holds (for B148 being (OperSymbol of ( CatSign B147 )) holds ((( B148 `1 ) = 1 or ( len ( B148 `2 ) ) = 1) implies (ex B149 being (Element of B147) st B148 = ( idsym B149 )))))
proof
let C193 being non  empty set;
let C194 being (OperSymbol of ( CatSign C193 ));
assume that
L536: (( C194 `1 ) = 1 or ( len ( C194 `2 ) ) = 1);
L537: (the carrier' of ( CatSign C193 )) = ( [: { 1 } , ( 1 -tuples_on C193 ) :] \/ [: { 2 } , ( 3 -tuples_on C193 ) :] ) by L65;
L538: (C194 in [: { 1 } , ( 1 -tuples_on C193 ) :] or C194 in [: { 2 } , ( 3 -tuples_on C193 ) :]) by L537 , XBOOLE_0:def 3;
L539: ((( C194 `1 ) in { 1 } & ( C194 `2 ) in ( 1 -tuples_on C193 ) & C194 = [ ( C194 `1 ) , ( C194 `2 ) ]) or (( C194 `1 ) in { 2 } & ( C194 `2 ) in ( 3 -tuples_on C193 ))) by L538 , MCART_1:10 , MCART_1:21;
consider C195 being set such that L540: C195 in C193 and L541: ( C194 `2 ) = <* C195 *> by L539 , L536 , CARD_1:def 7 , FINSEQ_2:135 , TARSKI:def 1;
reconsider D66 = C195 as (Element of C193) by L540;
take D66;
thus L542: thesis by L536 , L539 , L541 , CARD_1:def 7 , TARSKI:def 1;
end;
theorem
L543: (for B150 being non  empty set holds (for B151 being (OperSymbol of ( CatSign B150 )) holds ((( B151 `1 ) = 2 or ( len ( B151 `2 ) ) = 3) implies (ex B152 , B153 , B154 being (Element of B150) st B151 = ( compsym (B152 , B153 , B154) )))))
proof
let C196 being non  empty set;
let C197 being (OperSymbol of ( CatSign C196 ));
assume that
L544: (( C197 `1 ) = 2 or ( len ( C197 `2 ) ) = 3);
L545: (the carrier' of ( CatSign C196 )) = ( [: { 1 } , ( 1 -tuples_on C196 ) :] \/ [: { 2 } , ( 3 -tuples_on C196 ) :] ) by L65;
L546: (C197 in [: { 1 } , ( 1 -tuples_on C196 ) :] or C197 in [: { 2 } , ( 3 -tuples_on C196 ) :]) by L545 , XBOOLE_0:def 3;
L547: ((( C197 `1 ) in { 1 } & ( C197 `2 ) in ( 1 -tuples_on C196 )) or (( C197 `1 ) in { 2 } & ( C197 `2 ) in ( 3 -tuples_on C196 ) & C197 = [ ( C197 `1 ) , ( C197 `2 ) ])) by L546 , MCART_1:10 , MCART_1:21;
consider C198 , C199 , C200 being set such that L548: (C198 in C196 & C199 in C196 & C200 in C196) and L549: ( C197 `2 ) = <* C198 , C199 , C200 *> by L547 , L544 , CARD_1:def 7 , FINSEQ_2:139 , TARSKI:def 1;
reconsider D67 = C198 , D68 = C199 , D69 = C200 as (Element of C196) by L548;
take D67;
take D68;
take D69;
thus L550: thesis by L544 , L547 , L549 , CARD_1:def 7 , TARSKI:def 1;
end;
theorem
L551: (for B155 being non  empty set holds (for B156 being (Element of B155) holds (( the_arity_of ( idsym B156 ) ) = ( {} ) & ( the_result_sort_of ( idsym B156 ) ) = ( homsym (B156 , B156) )))) by L65;
theorem
L552: (for B157 being non  empty set holds (for B158 , B159 , B160 being (Element of B157) holds (( the_arity_of ( compsym (B158 , B159 , B160) ) ) = <* ( homsym (B159 , B160) ) , ( homsym (B158 , B159) ) *> & ( the_result_sort_of ( compsym (B158 , B159 , B160) ) ) = ( homsym (B158 , B160) )))) by L65;
begin
definition
let C201 , C202 being Category;
let C203 being (Functor of C201 , C202);
func Upsilon C203 -> (Function of (the carrier of ( CatSign (the carrier of C201) )) , (the carrier of ( CatSign (the carrier of C202) ))) means 
:L553: (for B161 being (SortSymbol of ( CatSign (the carrier of C201) )) holds ( it . B161 ) = [ ( 0 ) , ( ( Obj C203 ) * ( B161 `2 ) ) ]);
uniqueness
proof
let C204 , C205 being (Function of (the carrier of ( CatSign (the carrier of C201) )) , (the carrier of ( CatSign (the carrier of C202) )));
assume that
L554: (for B162 being (SortSymbol of ( CatSign (the carrier of C201) )) holds ( C204 . B162 ) = [ ( 0 ) , ( ( Obj C203 ) * ( B162 `2 ) ) ])
and
L555: (for B163 being (SortSymbol of ( CatSign (the carrier of C201) )) holds ( C205 . B163 ) = [ ( 0 ) , ( ( Obj C203 ) * ( B163 `2 ) ) ]);
L556:
now
let C206 being (SortSymbol of ( CatSign (the carrier of C201) ));
thus L557: ( C204 . C206 ) = [ ( 0 ) , ( ( Obj C203 ) * ( C206 `2 ) ) ] by L554
.= ( C205 . C206 ) by L555;
end;
thus L558: thesis by L556 , FUNCT_2:63;
end;
existence
proof
deffunc H2((SortSymbol of ( CatSign (the carrier of C201) ))) = [ ( 0 ) , ( ( Obj C203 ) * ( $1 `2 ) ) ];
consider C207 being Function such that L559: ( dom C207 ) = (the carrier of ( CatSign (the carrier of C201) )) and L560: (for B164 being (SortSymbol of ( CatSign (the carrier of C201) )) holds ( C207 . B164 ) = H2(B164)) from FUNCT_1:sch 4;
L561: ( rng C207 ) c= (the carrier of ( CatSign (the carrier of C202) ))
proof
let C208 being set;
assume L562: C208 in ( rng C207 );
consider C209 being set such that L563: C209 in ( dom C207 ) and L564: C208 = ( C207 . C209 ) by L562 , FUNCT_1:def 3;
reconsider D70 = C209 as (SortSymbol of ( CatSign (the carrier of C201) )) by L559 , L563;
L565: (the carrier of ( CatSign (the carrier of C201) )) = [: { ( 0 ) } , ( 2 -tuples_on (the carrier of C201) ) :] by L65;
L566: ( D70 `2 ) in ( 2 -tuples_on (the carrier of C201) ) by L565 , MCART_1:12;
consider C210 , C211 being set such that L567: (C210 in (the carrier of C201) & C211 in (the carrier of C201)) and L568: ( D70 `2 ) = <* C210 , C211 *> by L566 , FINSEQ_2:137;
reconsider D71 = C210 , D72 = C211 as (Object of C201) by L567;
L569: (( rng <* D71 , D72 *> ) c= (the carrier of C201) & ( dom ( Obj C203 ) ) = (the carrier of C201)) by FUNCT_2:def 1;
L570: ( dom ( ( Obj C203 ) * <* D71 , D72 *> ) ) = ( dom <* D71 , D72 *> ) by L569 , RELAT_1:27
.= ( Seg 2 ) by FINSEQ_1:89;
reconsider D73 = ( ( Obj C203 ) * <* D71 , D72 *> ) as FinSequence by L570 , FINSEQ_1:def 2;
L571: (( <* D71 , D72 *> . 1 ) = D71 & 1 in { 1 , 2 }) by FINSEQ_1:44 , TARSKI:def 2;
L572: ( D73 . 1 ) = ( ( Obj C203 ) . D71 ) by L571 , L570 , FINSEQ_1:2 , FUNCT_1:12;
L573: (the carrier of ( CatSign (the carrier of C202) )) = [: { ( 0 ) } , ( 2 -tuples_on (the carrier of C202) ) :] by L65;
L574: (( <* D71 , D72 *> . 2 ) = D72 & 2 in { 1 , 2 }) by FINSEQ_1:44 , TARSKI:def 2;
L575: ( D73 . 2 ) = ( ( Obj C203 ) . D72 ) by L574 , L570 , FINSEQ_1:2 , FUNCT_1:12;
L576: ( len D73 ) = 2 by L570 , FINSEQ_1:def 3;
L577: D73 = <* ( ( Obj C203 ) . D71 ) , ( ( Obj C203 ) . D72 ) *> by L576 , L572 , L575 , FINSEQ_1:44;
L578: D73 in ( 2 -tuples_on (the carrier of C202) ) by L577 , FINSEQ_2:101;
L579: [ ( 0 ) , D73 ] in (the carrier of ( CatSign (the carrier of C202) )) by L578 , L573 , ZFMISC_1:105;
thus L580: thesis by L579 , L560 , L564 , L568;
end;
L581: C207 is (Function of (the carrier of ( CatSign (the carrier of C201) )) , (the carrier of ( CatSign (the carrier of C202) ))) by L561 , L559 , FUNCT_2:def 1 , RELSET_1:4;
thus L582: thesis by L581 , L560;
end;
func Psi C203 -> (Function of (the carrier' of ( CatSign (the carrier of C201) )) , (the carrier' of ( CatSign (the carrier of C202) ))) means 
:L583: (for B165 being (OperSymbol of ( CatSign (the carrier of C201) )) holds ( it . B165 ) = [ ( B165 `1 ) , ( ( Obj C203 ) * ( B165 `2 ) ) ]);
uniqueness
proof
let C212 , C213 being (Function of (the carrier' of ( CatSign (the carrier of C201) )) , (the carrier' of ( CatSign (the carrier of C202) )));
assume that
L584: (for B166 being (OperSymbol of ( CatSign (the carrier of C201) )) holds ( C212 . B166 ) = [ ( B166 `1 ) , ( ( Obj C203 ) * ( B166 `2 ) ) ])
and
L585: (for B167 being (OperSymbol of ( CatSign (the carrier of C201) )) holds ( C213 . B167 ) = [ ( B167 `1 ) , ( ( Obj C203 ) * ( B167 `2 ) ) ]);
L586:
now
let C214 being (OperSymbol of ( CatSign (the carrier of C201) ));
thus L587: ( C212 . C214 ) = [ ( C214 `1 ) , ( ( Obj C203 ) * ( C214 `2 ) ) ] by L584
.= ( C213 . C214 ) by L585;
end;
thus L588: thesis by L586 , FUNCT_2:63;
end;
existence
proof
deffunc H3((OperSymbol of ( CatSign (the carrier of C201) ))) = [ ( $1 `1 ) , ( ( Obj C203 ) * ( $1 `2 ) ) ];
consider C215 being Function such that L589: ( dom C215 ) = (the carrier' of ( CatSign (the carrier of C201) )) and L590: (for B168 being (OperSymbol of ( CatSign (the carrier of C201) )) holds ( C215 . B168 ) = H3(B168)) from FUNCT_1:sch 4;
L591: ( rng C215 ) c= (the carrier' of ( CatSign (the carrier of C202) ))
proof
let C216 being set;
assume L592: C216 in ( rng C215 );
consider C217 being set such that L593: C217 in ( dom C215 ) and L594: C216 = ( C215 . C217 ) by L592 , FUNCT_1:def 3;
L595: (the carrier' of ( CatSign (the carrier of C201) )) = ( [: { 1 } , ( 1 -tuples_on (the carrier of C201) ) :] \/ [: { 2 } , ( 3 -tuples_on (the carrier of C201) ) :] ) by L65;
reconsider D74 = C217 as (OperSymbol of ( CatSign (the carrier of C201) )) by L589 , L593;
per cases  by L595 , XBOOLE_0:def 3;
suppose L596: D74 in [: { 1 } , ( 1 -tuples_on (the carrier of C201) ) :];

L597: ( D74 `2 ) in ( 1 -tuples_on (the carrier of C201) ) by L596 , MCART_1:12;
consider C218 being set such that L598: C218 in (the carrier of C201) and L599: ( D74 `2 ) = <* C218 *> by L597 , FINSEQ_2:135;
reconsider D75 = C218 as (Object of C201) by L598;
L600: (( rng <* D75 *> ) c= (the carrier of C201) & ( dom ( Obj C203 ) ) = (the carrier of C201)) by FUNCT_2:def 1;
L601: ( dom ( ( Obj C203 ) * <* D75 *> ) ) = ( dom <* D75 *> ) by L600 , RELAT_1:27
.= ( Seg 1 ) by FINSEQ_1:38;
reconsider D76 = ( ( Obj C203 ) * <* D75 *> ) as FinSequence by L601 , FINSEQ_1:def 2;
L602: ( len D76 ) = 1 by L601 , FINSEQ_1:def 3;
L603: (( <* D75 *> . 1 ) = D75 & 1 in { 1 }) by FINSEQ_1:40 , TARSKI:def 1;
L604: ( D76 . 1 ) = ( ( Obj C203 ) . D75 ) by L603 , L601 , FINSEQ_1:2 , FUNCT_1:12;
L605: D76 = <* ( ( Obj C203 ) . D75 ) *> by L604 , L602 , FINSEQ_1:40;
L606: D76 is (Element of ( 1 -tuples_on (the carrier of C202) )) by L605 , FINSEQ_2:98;
L607: [ 1 , D76 ] in [: { 1 } , ( 1 -tuples_on (the carrier of C202) ) :] by L606 , ZFMISC_1:105;
L608: ( D74 `1 ) = 1 by L596 , MCART_1:12;
L609: (the carrier' of ( CatSign (the carrier of C202) )) = ( [: { 1 } , ( 1 -tuples_on (the carrier of C202) ) :] \/ [: { 2 } , ( 3 -tuples_on (the carrier of C202) ) :] ) by L65;
L610: [ 1 , D76 ] in (the carrier' of ( CatSign (the carrier of C202) )) by L609 , L607 , XBOOLE_0:def 3;
thus L611: thesis by L610 , L590 , L594 , L608 , L599;
end;
suppose L612: D74 in [: { 2 } , ( 3 -tuples_on (the carrier of C201) ) :];

L613: ( D74 `2 ) in ( 3 -tuples_on (the carrier of C201) ) by L612 , MCART_1:12;
consider C219 , C220 , C221 being set such that L614: (C219 in (the carrier of C201) & C220 in (the carrier of C201) & C221 in (the carrier of C201)) and L615: ( D74 `2 ) = <* C219 , C220 , C221 *> by L613 , FINSEQ_2:139;
reconsider D77 = C219 , D78 = C220 , D79 = C221 as (Object of C201) by L614;
L616: (( rng <* D77 , D78 , D79 *> ) c= (the carrier of C201) & ( dom ( Obj C203 ) ) = (the carrier of C201)) by FUNCT_2:def 1;
L617: ( dom ( ( Obj C203 ) * <* D77 , D78 , D79 *> ) ) = ( dom <* D77 , D78 , D79 *> ) by L616 , RELAT_1:27
.= ( Seg 3 ) by FINSEQ_1:89;
reconsider D80 = ( ( Obj C203 ) * <* D77 , D78 , D79 *> ) as FinSequence by L617 , FINSEQ_1:def 2;
L618: (( <* D77 , D78 , D79 *> . 1 ) = D77 & 1 in { 1 , 2 , 3 }) by ENUMSET1:def 1 , FINSEQ_1:45;
L619: ( D80 . 1 ) = ( ( Obj C203 ) . D77 ) by L618 , L617 , FINSEQ_3:1 , FUNCT_1:12;
L620: (( <* D77 , D78 , D79 *> . 3 ) = D79 & 3 in { 1 , 2 , 3 }) by ENUMSET1:def 1 , FINSEQ_1:45;
L621: ( D80 . 3 ) = ( ( Obj C203 ) . D79 ) by L620 , L617 , FINSEQ_3:1 , FUNCT_1:12;
L622: (( <* D77 , D78 , D79 *> . 2 ) = D78 & 2 in { 1 , 2 , 3 }) by ENUMSET1:def 1 , FINSEQ_1:45;
L623: ( D80 . 2 ) = ( ( Obj C203 ) . D78 ) by L622 , L617 , FINSEQ_3:1 , FUNCT_1:12;
L624: ( len D80 ) = 3 by L617 , FINSEQ_1:def 3;
L625: D80 = <* ( ( Obj C203 ) . D77 ) , ( ( Obj C203 ) . D78 ) , ( ( Obj C203 ) . D79 ) *> by L624 , L619 , L623 , L621 , FINSEQ_1:45;
L626: D80 is (Element of ( 3 -tuples_on (the carrier of C202) )) by L625 , FINSEQ_2:104;
L627: [ 2 , D80 ] in [: { 2 } , ( 3 -tuples_on (the carrier of C202) ) :] by L626 , ZFMISC_1:105;
L628: ( D74 `1 ) = 2 by L612 , MCART_1:12;
L629: (the carrier' of ( CatSign (the carrier of C202) )) = ( [: { 1 } , ( 1 -tuples_on (the carrier of C202) ) :] \/ [: { 2 } , ( 3 -tuples_on (the carrier of C202) ) :] ) by L65;
L630: [ 2 , D80 ] in (the carrier' of ( CatSign (the carrier of C202) )) by L629 , L627 , XBOOLE_0:def 3;
thus L631: thesis by L630 , L590 , L594 , L628 , L615;
end;
end;
L633: C215 is (Function of (the carrier' of ( CatSign (the carrier of C201) )) , (the carrier' of ( CatSign (the carrier of C202) ))) by L591 , L589 , FUNCT_2:def 1 , RELSET_1:4;
thus L634: thesis by L633 , L590;
end;
end;
L636:
now
let C222 being set;
let C223 being Function;
assume L637: C222 in ( dom C223 );
L638: (( rng <* C222 *> ) = { C222 } & { C222 } c= ( dom C223 )) by L637 , FINSEQ_1:39 , ZFMISC_1:31;
L639: ( dom ( C223 * <* C222 *> ) ) = ( dom <* C222 *> ) by L638 , RELAT_1:27
.= ( Seg 1 ) by FINSEQ_1:38;
reconsider D81 = ( C223 * <* C222 *> ) as FinSequence by L639 , FINSEQ_1:def 2;
L640: ( len D81 ) = 1 by L639 , FINSEQ_1:def 3;
L641: (1 in { 1 } & ( <* C222 *> . 1 ) = C222) by FINSEQ_1:40 , TARSKI:def 1;
L642: ( D81 . 1 ) = ( C223 . C222 ) by L641 , L639 , FINSEQ_1:2 , FUNCT_1:12;
thus L643: ( C223 * <* C222 *> ) = <* ( C223 . C222 ) *> by L642 , L640 , FINSEQ_1:40;
end;
theorem
L644: (for B169 , B170 being Category holds (for B171 being (Functor of B169 , B170) holds (for B172 , B173 being (Object of B169) holds ( ( Upsilon B171 ) . ( homsym (B172 , B173) ) ) = ( homsym (( B171 . B172 ) , ( B171 . B173 )) ))))
proof
let C224 , C225 being Category;
let C226 being (Functor of C224 , C225);
let C227 , C228 being (Object of C224);
L645: ( dom ( Obj C226 ) ) = (the carrier of C224) by FUNCT_2:def 1;
thus L646: ( ( Upsilon C226 ) . ( homsym (C227 , C228) ) ) = [ ( 0 ) , ( ( Obj C226 ) * ( ( homsym (C227 , C228) ) `2 ) ) ] by L553
.= [ ( 0 ) , ( ( Obj C226 ) * <* C227 , C228 *> ) ] by MCART_1:7
.= [ ( 0 ) , <* ( ( Obj C226 ) . C227 ) , ( ( Obj C226 ) . C228 ) *> ] by L645 , FINSEQ_2:125
.= [ ( 0 ) , <* ( C226 . C227 ) , ( ( Obj C226 ) . C228 ) *> ]
.= ( homsym (( C226 . C227 ) , ( C226 . C228 )) );
end;
theorem
L647: (for B174 , B175 being Category holds (for B176 being (Functor of B174 , B175) holds (for B177 being (Object of B174) holds ( ( Psi B176 ) . ( idsym B177 ) ) = ( idsym ( B176 . B177 ) ))))
proof
let C229 , C230 being Category;
let C231 being (Functor of C229 , C230);
let C232 being (Object of C229);
L648: ( dom ( Obj C231 ) ) = (the carrier of C229) by FUNCT_2:def 1;
L649: (( ( idsym C232 ) `1 ) = 1 & ( ( idsym C232 ) `2 ) = <* C232 *>) by MCART_1:7;
thus L650: ( ( Psi C231 ) . ( idsym C232 ) ) = [ 1 , ( ( Obj C231 ) * <* C232 *> ) ] by L649 , L583
.= [ 1 , <* ( ( Obj C231 ) . C232 ) *> ] by L648 , L636
.= ( idsym ( C231 . C232 ) );
end;
theorem
L651: (for B178 , B179 being Category holds (for B180 being (Functor of B178 , B179) holds (for B181 , B182 , B183 being (Object of B178) holds ( ( Psi B180 ) . ( compsym (B181 , B182 , B183) ) ) = ( compsym (( B180 . B181 ) , ( B180 . B182 ) , ( B180 . B183 )) ))))
proof
let C233 , C234 being Category;
let C235 being (Functor of C233 , C234);
let C236 , C237 , C238 being (Object of C233);
L652: ( dom ( Obj C235 ) ) = (the carrier of C233) by FUNCT_2:def 1;
L653: (( ( compsym (C236 , C237 , C238) ) `1 ) = 2 & ( ( compsym (C236 , C237 , C238) ) `2 ) = <* C236 , C237 , C238 *>) by MCART_1:7;
thus L654: ( ( Psi C235 ) . ( compsym (C236 , C237 , C238) ) ) = [ 2 , ( ( Obj C235 ) * <* C236 , C237 , C238 *> ) ] by L653 , L583
.= [ 2 , <* ( ( Obj C235 ) . C236 ) , ( ( Obj C235 ) . C237 ) , ( ( Obj C235 ) . C238 ) *> ] by L652 , FINSEQ_2:126
.= [ 2 , <* ( C235 . C236 ) , ( ( Obj C235 ) . C237 ) , ( ( Obj C235 ) . C238 ) *> ]
.= [ 2 , <* ( C235 . C236 ) , ( C235 . C237 ) , ( ( Obj C235 ) . C238 ) *> ]
.= ( compsym (( C235 . C236 ) , ( C235 . C237 ) , ( C235 . C238 )) );
end;
theorem
L655: (for B184 , B185 being Category holds (for B186 being (Functor of B184 , B185) holds ( Upsilon B186 ) , ( Psi B186 ) form_morphism_between ( CatSign (the carrier of B184) ) , ( CatSign (the carrier of B185) )))
proof
let C239 , C240 being Category;
let C241 being (Functor of C239 , C240);
set D82 = ( Upsilon C241 );
set D83 = ( Psi C241 );
set D84 = ( CatSign (the carrier of C239) );
set D85 = ( CatSign (the carrier of C240) );
thus L656: (( dom D82 ) = (the carrier of D84) & ( dom D83 ) = (the carrier' of D84)) by FUNCT_2:def 1;
thus L657: (( rng D82 ) c= (the carrier of D85) & ( rng D83 ) c= (the carrier' of D85));
L658:
now
let C242 being (OperSymbol of ( CatSign (the carrier of C239) ));
per cases  by L530;
suppose L659: ( C242 `1 ) = 1;

consider C243 being (Object of C239) such that L660: C242 = ( idsym C243 ) by L659 , L535;
thus L661: ( ( D82 * (the ResultSort of D84) ) . C242 ) = ( D82 . ( the_result_sort_of C242 ) ) by FUNCT_2:15
.= ( D82 . ( homsym (C243 , C243) ) ) by L660 , L65
.= ( homsym (( C241 . C243 ) , ( C241 . C243 )) ) by L644
.= ( the_result_sort_of ( idsym ( C241 . C243 ) ) ) by L65
.= ( (the ResultSort of D85) . ( D83 . ( idsym C243 ) ) ) by L647
.= ( ( (the ResultSort of D85) * D83 ) . C242 ) by L660 , FUNCT_2:15;
end;
suppose L662: ( C242 `1 ) = 2;

consider C244 , C245 , C246 being (Object of C239) such that L663: C242 = ( compsym (C244 , C245 , C246) ) by L662 , L543;
thus L664: ( ( D82 * (the ResultSort of D84) ) . C242 ) = ( D82 . ( the_result_sort_of C242 ) ) by FUNCT_2:15
.= ( D82 . ( homsym (C244 , C246) ) ) by L663 , L65
.= ( homsym (( C241 . C244 ) , ( C241 . C246 )) ) by L644
.= ( the_result_sort_of ( compsym (( C241 . C244 ) , ( C241 . C245 ) , ( C241 . C246 )) ) ) by L65
.= ( (the ResultSort of D85) . ( D83 . ( compsym (C244 , C245 , C246) ) ) ) by L651
.= ( ( (the ResultSort of D85) * D83 ) . C242 ) by L663 , FUNCT_2:15;
end;
end;
thus L666: ( D82 * (the ResultSort of D84) ) = ( (the ResultSort of D85) * D83 ) by L658 , FUNCT_2:63;
let C247 being set;
let C248 being Function;
assume L667: C247 in (the carrier' of D84);
reconsider D86 = C247 as (OperSymbol of D84) by L667;
assume L668: C248 = ( (the Arity of D84) . C247 );
per cases  by L530;
suppose L669: ( D86 `1 ) = 1;

consider C249 being (Object of C239) such that L670: C247 = ( idsym C249 ) by L669 , L535;
L671: ( D82 * ( {} ) ) = ( {} );
L672: C248 = ( {} ) by L668 , L670 , L65;
thus L673: ( D82 * C248 ) = ( the_arity_of ( idsym ( C241 . C249 ) ) ) by L672 , L671 , L65
.= ( (the Arity of D85) . ( D83 . C247 ) ) by L670 , L647;
end;
suppose L674: ( D86 `1 ) = 2;

consider C250 , C251 , C252 being (Object of C239) such that L675: C247 = ( compsym (C250 , C251 , C252) ) by L674 , L543;
L676: (( dom D82 ) = (the carrier of D84) & C248 = <* ( homsym (C251 , C252) ) , ( homsym (C250 , C251) ) *>) by L668 , L675 , L65 , FUNCT_2:def 1;
thus L677: ( D82 * C248 ) = <* ( D82 . ( homsym (C251 , C252) ) ) , ( D82 . ( homsym (C250 , C251) ) ) *> by L676 , FINSEQ_2:125
.= <* ( homsym (( C241 . C251 ) , ( C241 . C252 )) ) , ( D82 . ( homsym (C250 , C251) ) ) *> by L644
.= <* ( homsym (( C241 . C251 ) , ( C241 . C252 )) ) , ( homsym (( C241 . C250 ) , ( C241 . C251 )) ) *> by L644
.= ( the_arity_of ( compsym (( C241 . C250 ) , ( C241 . C251 ) , ( C241 . C252 )) ) ) by L65
.= ( (the Arity of D85) . ( D83 . C247 ) ) by L675 , L651;
end;
end;
begin
theorem
L679: (for B187 being non  empty set holds (for B188 being MSAlgebra over ( CatSign B187 ) holds (for B189 being (Element of B187) holds ( Args (( idsym B189 ) , B188) ) = { ( {} ) })))
proof
let C253 being non  empty set;
let C254 being MSAlgebra over ( CatSign C253 );
let C255 being (Element of C253);
thus L680: ( Args (( idsym C255 ) , C254) ) = ( product ( (the Sorts of C254) * ( the_arity_of ( idsym C255 ) ) ) ) by PRALG_2:3
.= ( product ( (the Sorts of C254) * ( {} ) ) ) by L65
.= { ( {} ) } by CARD_3:10;
end;
L681: (for B190 being Category holds (for B191 being MSAlgebra over ( CatSign (the carrier of B190) ) holds ((for B192 , B193 being (Object of B190) holds ( (the Sorts of B191) . ( homsym (B192 , B193) ) ) = ( Hom (B192 , B193) )) implies (for B194 , B195 , B196 being (Object of B190) holds (( Args (( compsym (B194 , B195 , B196) ) , B191) ) = ( product <* ( Hom (B195 , B196) ) , ( Hom (B194 , B195) ) *> ) & ( Result (( compsym (B194 , B195 , B196) ) , B191) ) = ( Hom (B194 , B196) ))))))
proof
let C256 being Category;
let C257 being MSAlgebra over ( CatSign (the carrier of C256) );
assume L682: (for B197 , B198 being (Object of C256) holds ( (the Sorts of C257) . ( homsym (B197 , B198) ) ) = ( Hom (B197 , B198) ));
let C258 , C259 , C260 being (Object of C256);
L683: (the carrier of ( CatSign (the carrier of C256) )) = ( dom (the Sorts of C257) ) by PARTFUN1:def 2;
thus L684: ( Args (( compsym (C258 , C259 , C260) ) , C257) ) = ( product ( (the Sorts of C257) * ( the_arity_of ( compsym (C258 , C259 , C260) ) ) ) ) by PRALG_2:3
.= ( product ( (the Sorts of C257) * <* ( homsym (C259 , C260) ) , ( homsym (C258 , C259) ) *> ) ) by L65
.= ( product <* ( (the Sorts of C257) . ( homsym (C259 , C260) ) ) , ( (the Sorts of C257) . ( homsym (C258 , C259) ) ) *> ) by L683 , FINSEQ_2:125
.= ( product <* ( Hom (C259 , C260) ) , ( (the Sorts of C257) . ( homsym (C258 , C259) ) ) *> ) by L682
.= ( product <* ( Hom (C259 , C260) ) , ( Hom (C258 , C259) ) *> ) by L682;
thus L685: ( Result (( compsym (C258 , C259 , C260) ) , C257) ) = ( (the Sorts of C257) . ( the_result_sort_of ( compsym (C258 , C259 , C260) ) ) ) by PRALG_2:3
.= ( (the Sorts of C257) . ( homsym (C258 , C260) ) ) by L65
.= ( Hom (C258 , C260) ) by L682;
end;
scheme CatAlgEx { F1 , F2() -> non  empty set , F3(set , set) -> set , F4(set , set , set , set , set) -> set , F5(set) -> set } : (ex B199 being  strict MSAlgebra over ( CatSign F1() ) st ((for B200 , B201 being (Element of F1()) holds ( (the Sorts of B199) . ( homsym (B200 , B201) ) ) = F3(B200 , B201)) & (for B202 being (Element of F1()) holds ( ( Den (( idsym B202 ) , B199) ) . ( {} ) ) = F5(B202)) & (for B203 , B204 , B205 being (Element of F1()) holds (for B206 , B207 being (Element of F2()) holds ((B206 in F3(B203 , B204) & B207 in F3(B204 , B205)) implies ( ( Den (( compsym (B203 , B204 , B205) ) , B199) ) . <* B207 , B206 *> ) = F4(B203 , B204 , B205 , B207 , B206))))))
provided
L686: (for B208 , B209 being (Element of F1()) holds F3(B208 , B209) c= F2())
and
L687: (for B210 being (Element of F1()) holds F5(B210) in F3(B210 , B210))
and
L688: (for B211 , B212 , B213 being (Element of F1()) holds (for B214 , B215 being (Element of F2()) holds ((B214 in F3(B211 , B212) & B215 in F3(B212 , B213)) implies F4(B211 , B212 , B213 , B215 , B214) in F3(B211 , B213))))
proof
defpred S5[ set , set ] means ((( $1 `1 ) = 1 & (ex B216 being (Element of F1()) st ($1 = ( idsym B216 ) & (ex B217 being (Function of { ( {} ) } , F3(B216 , B216)) st (B217 = $2 & ( B217 . ( {} ) ) = F5(B216)))))) or (( $1 `1 ) = 2 & (ex B218 , B219 , B220 being (Element of F1()) st ($1 = ( compsym (B218 , B219 , B220) ) & (ex B221 being (Function of ( product <* F3(B219 , B220) , F3(B218 , B219) *> ) , F3(B218 , B220)) st (B221 = $2 & (for B222 , B223 being set holds ((B222 in F3(B218 , B219) & B223 in F3(B219 , B220)) implies ( B221 . <* B223 , B222 *> ) = F4(B218 , B219 , B220 , B223 , B222)))))))));
set D87 = ( CatSign F1() );
L689: (for B224 being set holds (B224 in (the carrier' of D87) implies (ex B225 being set st S5[ B224 , B225 ])))
proof
let C261 being set;
assume L690: C261 in (the carrier' of D87);
L691:
now
assume L692: ( C261 `1 ) = 1;
consider C262 being (Element of F1()) such that L693: C261 = ( idsym C262 ) by L692 , L690 , L535;
set D88 = ( ( {} ) :-> F5(C262) );
reconsider D89 = D88 as set;
take D90 = D89;
take D91 = C262;
thus L694: C261 = ( idsym D91 ) by L693;
L695: F5(D91) in F3(D91 , D91) by L687;
L696: { F5(D91) } c= F3(D91 , D91) by L695 , ZFMISC_1:31;
L697: (( dom D88 ) = { ( {} ) } & ( rng D88 ) c= F3(D91 , D91)) by L696 , FUNCOP_1:13 , XBOOLE_1:1;
reconsider D92 = D88 as (Function of { ( {} ) } , F3(D91 , D91)) by L697 , FUNCT_2:2;
take D93 = D92;
L698: ( {} ) in { ( {} ) } by TARSKI:def 1;
thus L699: (D93 = D90 & ( D93 . ( {} ) ) = F5(D91)) by L698 , FUNCOP_1:7;
end;
L700:
now
assume L701: ( C261 `1 ) = 2;
consider C263 , C264 , C265 being (Element of F1()) such that L702: C261 = ( compsym (C263 , C264 , C265) ) by L701 , L690 , L543;
defpred S6[ set , set ] means (ex B226 , B227 being set st (B226 in F3(C263 , C264) & B227 in F3(C264 , C265) & $1 = <* B227 , B226 *> & $2 = F4(C263 , C264 , C265 , B227 , B226)));
L703:
now
let C266 being set;
assume L704: C266 in ( product <* F3(C264 , C265) , F3(C263 , C264) *> );
consider C267 , C268 being set such that L705: (C267 in F3(C264 , C265) & C268 in F3(C263 , C264)) and L706: C266 = <* C267 , C268 *> by L704 , FINSEQ_3:124;
take D94 = F4(C263 , C264 , C265 , C267 , C268);
L707: (F3(C263 , C264) c= F2() & F3(C264 , C265) c= F2()) by L686;
thus L708: D94 in F3(C263 , C265) by L707 , L688 , L705;
thus L709: S6[ C266 , D94 ] by L705 , L706;
end;
consider C269 being Function such that L710: (( dom C269 ) = ( product <* F3(C264 , C265) , F3(C263 , C264) *> ) & ( rng C269 ) c= F3(C263 , C265)) and L711: (for B228 being set holds (B228 in ( product <* F3(C264 , C265) , F3(C263 , C264) *> ) implies S6[ B228 , ( C269 . B228 ) ])) from FUNCT_1:sch 5(L703);
reconsider D95 = C269 as set;
take D96 = D95;
take D97 = C263;
take D98 = C264;
take D99 = C265;
thus L712: C261 = ( compsym (D97 , D98 , D99) ) by L702;
reconsider D100 = C269 as (Function of ( product <* F3(D98 , D99) , F3(D97 , D98) *> ) , F3(D97 , D99)) by L710 , FUNCT_2:2;
take D101 = D100;
thus L713: D101 = D96;
let C270 , C271 being set;
assume L714: (C270 in F3(D97 , D98) & C271 in F3(D98 , D99));
L715: <* C271 , C270 *> in ( product <* F3(D98 , D99) , F3(D97 , D98) *> ) by L714 , FINSEQ_3:124;
consider C272 , C273 being set such that L716: C272 in F3(D97 , D98) and L717: C273 in F3(D98 , D99) and L718: <* C271 , C270 *> = <* C273 , C272 *> and L719: ( D101 . <* C271 , C270 *> ) = F4(D97 , D98 , D99 , C273 , C272) by L715 , L711;
L720: (( <* C271 , C270 *> . 1 ) = C271 & ( <* C271 , C270 *> . 2 ) = C270) by FINSEQ_1:44;
L721: ( <* C271 , C270 *> . 1 ) = C273 by L718 , FINSEQ_1:44;
thus L722: ( D101 . <* C271 , C270 *> ) = F4(D97 , D98 , D99 , C271 , C270) by L721 , L718 , L719 , L720 , FINSEQ_1:44;
end;
L723: (( C261 `1 ) = 1 or ( C261 `1 ) = 2) by L690 , L530;
thus L724: thesis by L723 , L691 , L700;
end;
consider C274 being Function such that L725: ( dom C274 ) = (the carrier' of D87) and L726: (for B229 being set holds (B229 in (the carrier' of D87) implies S5[ B229 , ( C274 . B229 ) ])) from CLASSES1:sch 1(L689);
reconsider D102 = C274 as (ManySortedSet of (the carrier' of D87)) by L725 , PARTFUN1:def 2 , RELAT_1:def 18;
defpred S7[ set , set ] means (ex B230 , B231 being (Element of F1()) st ($1 = ( homsym (B230 , B231) ) & $2 = F3(B230 , B231)));
L727:
now
let C275 being set;
assume L728: C275 in (the carrier of D87);
consider C276 , C277 being (Element of F1()) such that L729: C275 = ( homsym (C276 , C277) ) by L728 , L519;
take D103 = F3(C276 , C277);
thus L730: S7[ C275 , D103 ] by L729;
end;
consider C278 being Function such that L731: ( dom C278 ) = (the carrier of D87) and L732: (for B232 being set holds (B232 in (the carrier of D87) implies S7[ B232 , ( C278 . B232 ) ])) from CLASSES1:sch 1(L727);
reconsider D104 = C278 as (ManySortedSet of (the carrier of D87)) by L731 , PARTFUN1:def 2 , RELAT_1:def 18;
L733: D102 is (ManySortedFunction of ( ( D104 # ) * (the Arity of D87) ) , ( D104 * (the ResultSort of D87) ))
proof
let C279 being set;
assume L734: C279 in (the carrier' of D87);
reconsider D105 = C279 as (OperSymbol of D87) by L734;
L735: ( ( ( D104 # ) * (the Arity of D87) ) . D105 ) = ( ( D104 # ) . ( the_arity_of D105 ) ) by FUNCT_2:15
.= ( product ( D104 * ( the_arity_of D105 ) ) ) by FINSEQ_2:def 5;
L736: ( ( D104 * (the ResultSort of D87) ) . D105 ) = ( D104 . ( the_result_sort_of D105 ) ) by FUNCT_2:15;
per cases  by L530;
suppose L737: (( D105 `1 ) = 1 & 1 <> 2);

consider C280 being (Element of F1()) such that L738: (D105 = ( idsym C280 ) & (ex B233 being (Function of { ( {} ) } , F3(C280 , C280)) st (B233 = ( D102 . D105 ) & ( B233 . ( {} ) ) = F5(C280)))) by L737 , L726;
L739: (( the_arity_of ( idsym C280 ) ) = ( {} ) & ( {} ) = ( D104 * ( {} ) )) by L65;
L740: ( the_result_sort_of ( idsym C280 ) ) = ( homsym (C280 , C280) ) by L65;
consider C281 , C282 being (Element of F1()) such that L741: ( homsym (C280 , C280) ) = ( homsym (C281 , C282) ) and L742: ( D104 . ( homsym (C280 , C280) ) ) = F3(C281 , C282) by L732;
L743: (C280 = C282 & C280 = C281) by L741 , L508;
thus L744: thesis by L743 , L735 , L736 , L738 , L742 , L739 , L740 , CARD_3:10;
end;
suppose L745: (( D105 `1 ) = 2 & 1 <> 2);

consider C283 , C284 , C285 being (Element of F1()) such that L746: D105 = ( compsym (C283 , C284 , C285) ) and L747: (ex B234 being (Function of ( product <* F3(C284 , C285) , F3(C283 , C284) *> ) , F3(C283 , C285)) st (B234 = ( D102 . D105 ) & (for B235 , B236 being set holds ((B235 in F3(C283 , C284) & B236 in F3(C284 , C285)) implies ( B234 . <* B236 , B235 *> ) = F4(C283 , C284 , C285 , B236 , B235))))) by L745 , L726;
L748: ( the_result_sort_of ( compsym (C283 , C284 , C285) ) ) = ( homsym (C283 , C285) ) by L65;
consider C286 , C287 being (Element of F1()) such that L749: ( homsym (C283 , C285) ) = ( homsym (C286 , C287) ) and L750: ( D104 . ( homsym (C283 , C285) ) ) = F3(C286 , C287) by L732;
L751: (C286 = C283 & C287 = C285) by L749 , L508;
L752: ( ( D104 * (the ResultSort of D87) ) . D105 ) = F3(C283 , C285) by L751 , L746 , L750 , L748 , FUNCT_2:15;
L753: ( the_arity_of ( compsym (C283 , C284 , C285) ) ) = <* ( homsym (C284 , C285) ) , ( homsym (C283 , C284) ) *> by L65;
consider C288 , C289 being (Element of F1()) such that L754: ( homsym (C283 , C284) ) = ( homsym (C288 , C289) ) and L755: ( D104 . ( homsym (C283 , C284) ) ) = F3(C288 , C289) by L732;
consider C290 , C291 being (Element of F1()) such that L756: ( homsym (C284 , C285) ) = ( homsym (C290 , C291) ) and L757: ( D104 . ( homsym (C284 , C285) ) ) = F3(C290 , C291) by L732;
L758: (C290 = C284 & C291 = C285) by L756 , L508;
L759: (C288 = C283 & C289 = C284) by L754 , L508;
L760: ( ( ( D104 # ) * (the Arity of D87) ) . D105 ) = ( product <* F3(C284 , C285) , F3(C283 , C284) *> ) by L759 , L731 , L735 , L746 , L755 , L757 , L758 , L753 , FINSEQ_2:125;
thus L761: thesis by L760 , L747 , L752;
end;
end;
reconsider D106 = D102 as (ManySortedFunction of ( ( D104 # ) * (the Arity of D87) ) , ( D104 * (the ResultSort of D87) )) by L733;
take D107 = MSAlgebra (# D104 , D106 #);
thus L763:now
let C292 , C293 being (Element of F1());
consider C294 , C295 being (Element of F1()) such that L764: ( homsym (C292 , C293) ) = ( homsym (C294 , C295) ) and L765: ( D104 . ( homsym (C292 , C293) ) ) = F3(C294 , C295) by L732;
L766: C292 = C294 by L764 , L508;
thus L767: ( (the Sorts of D107) . ( homsym (C292 , C293) ) ) = F3(C292 , C293) by L766 , L764 , L765 , L508;
end;
thus L768:now
let C296 being (Element of F1());
L769: ( ( idsym C296 ) `1 ) = 1 by MCART_1:7;
L770: (ex B237 being (Element of F1()) st (( idsym C296 ) = ( idsym B237 ) & (ex B238 being (Function of { ( {} ) } , F3(B237 , B237)) st (B238 = ( D106 . ( idsym C296 ) ) & ( B238 . ( {} ) ) = F5(B237))))) by L769 , L726;
thus L771: ( ( Den (( idsym C296 ) , D107) ) . ( {} ) ) = F5(C296) by L770 , L504;
end;
let C297 , C298 , C299 being (Element of F1());
set D108 = ( compsym (C297 , C298 , C299) );
L772: ( D108 `1 ) = 2 by MCART_1:7;
consider C300 , C301 , C302 being (Element of F1()) such that L773: D108 = ( compsym (C300 , C301 , C302) ) and L774: (ex B239 being (Function of ( product <* F3(C301 , C302) , F3(C300 , C301) *> ) , F3(C300 , C302)) st (B239 = ( D106 . D108 ) & (for B240 , B241 being set holds ((B240 in F3(C300 , C301) & B241 in F3(C301 , C302)) implies ( B239 . <* B241 , B240 *> ) = F4(C300 , C301 , C302 , B241 , B240))))) by L772 , L726;
L775: C299 = C302 by L773 , L513;
let C303 , C304 being (Element of F2());
assume L776: (C303 in F3(C297 , C298) & C304 in F3(C298 , C299));
L777: (C297 = C300 & C298 = C301) by L773 , L513;
thus L778: thesis by L777 , L774 , L775 , L776;
end;
definition
let C305 being Category;
func MSAlg C305 ->  strict MSAlgebra over ( CatSign (the carrier of C305) ) means 
:L779: ((for B242 , B243 being (Object of C305) holds ( (the Sorts of it) . ( homsym (B242 , B243) ) ) = ( Hom (B242 , B243) )) & (for B244 being (Object of C305) holds ( ( Den (( idsym B244 ) , it) ) . ( {} ) ) = ( id B244 )) & (for B245 , B246 , B247 being (Object of C305) holds (for B248 , B249 being (Morphism of C305) holds ((( dom B248 ) = B245 & ( cod B248 ) = B246 & ( dom B249 ) = B246 & ( cod B249 ) = B247) implies ( ( Den (( compsym (B245 , B246 , B247) ) , it) ) . <* B249 , B248 *> ) = ( B249 (*) B248 )))));
uniqueness
proof
let C306 , C307 being  strict MSAlgebra over ( CatSign (the carrier of C305) );
assume that
L780: (for B250 , B251 being (Object of C305) holds ( (the Sorts of C306) . ( homsym (B250 , B251) ) ) = ( Hom (B250 , B251) ))
and
L781: (for B252 being (Object of C305) holds ( ( Den (( idsym B252 ) , C306) ) . ( {} ) ) = ( id B252 ))
and
L782: (for B253 , B254 , B255 being (Object of C305) holds (for B256 , B257 being (Morphism of C305) holds ((( dom B256 ) = B253 & ( cod B256 ) = B254 & ( dom B257 ) = B254 & ( cod B257 ) = B255) implies ( ( Den (( compsym (B253 , B254 , B255) ) , C306) ) . <* B257 , B256 *> ) = ( B257 (*) B256 ))))
and
L783: (for B258 , B259 being (Object of C305) holds ( (the Sorts of C307) . ( homsym (B258 , B259) ) ) = ( Hom (B258 , B259) ))
and
L784: (for B260 being (Object of C305) holds ( ( Den (( idsym B260 ) , C307) ) . ( {} ) ) = ( id B260 ))
and
L785: (for B261 , B262 , B263 being (Object of C305) holds (for B264 , B265 being (Morphism of C305) holds ((( dom B264 ) = B261 & ( cod B264 ) = B262 & ( dom B265 ) = B262 & ( cod B265 ) = B263) implies ( ( Den (( compsym (B261 , B262 , B263) ) , C307) ) . <* B265 , B264 *> ) = ( B265 (*) B264 ))));
L786:
now
let C308 being set;
assume L787: C308 in (the carrier' of ( CatSign (the carrier of C305) ));
reconsider D109 = C308 as (OperSymbol of ( CatSign (the carrier of C305) )) by L787;
per cases  by L530;
suppose L788: ( D109 `1 ) = 1;

consider C309 being (Object of C305) such that L789: D109 = ( idsym C309 ) by L788 , L535;
L790: ( id C309 ) in ( Hom (C309 , C309) ) by CAT_1:27;
L791: ( the_result_sort_of ( idsym C309 ) ) = ( homsym (C309 , C309) ) by L65;
L792: ( (the Sorts of C306) . ( homsym (C309 , C309) ) ) = ( Hom (C309 , C309) ) by L780;
L793: ( Result (( idsym C309 ) , C306) ) = ( Hom (C309 , C309) ) by L792 , L791 , PRALG_2:3;
L794: ( dom ( Den (( idsym C309 ) , C306) ) ) = ( Args (( idsym C309 ) , C306) ) by L793 , L790 , FUNCT_2:def 1;
L795:
now
let C310 being set;
assume L796: C310 in { ( {} ) };
L797: C310 = ( {} ) by L796 , TARSKI:def 1;
L798: ( ( Den (( idsym C309 ) , C306) ) . C310 ) = ( id C309 ) by L797 , L781;
thus L799: ( ( Den (( idsym C309 ) , C306) ) . C310 ) = ( ( Den (( idsym C309 ) , C307) ) . C310 ) by L798 , L784 , L797;
end;
L800: ( (the Sorts of C307) . ( homsym (C309 , C309) ) ) = ( Hom (C309 , C309) ) by L783;
L801: ( Result (( idsym C309 ) , C307) ) = ( Hom (C309 , C309) ) by L800 , L791 , PRALG_2:3;
L802: ( dom ( Den (( idsym C309 ) , C307) ) ) = ( Args (( idsym C309 ) , C307) ) by L801 , L790 , FUNCT_2:def 1;
L803: (( Args (( idsym C309 ) , C306) ) = { ( {} ) } & ( Args (( idsym C309 ) , C307) ) = { ( {} ) }) by L679;
thus L804: ( (the Charact of C306) . C308 ) = ( (the Charact of C307) . C308 ) by L803 , L789 , L794 , L802 , L795 , FUNCT_1:2;
end;
suppose L805: ( D109 `1 ) = 2;

consider C311 , C312 , C313 being (Object of C305) such that L806: D109 = ( compsym (C311 , C312 , C313) ) by L805 , L543;
L807:
now
assume L808: ( product <* ( Hom (C312 , C313) ) , ( Hom (C311 , C312) ) *> ) <> ( {} );
reconsider D110 = ( product <* ( Hom (C312 , C313) ) , ( Hom (C311 , C312) ) *> ) as non  empty set by L808;
set D111 = the (Element of D110);
consider C314 , C315 being set such that L809: C314 in ( Hom (C312 , C313) ) and L810: C315 in ( Hom (C311 , C312) ) and L811: D111 = <* C314 , C315 *> by FINSEQ_3:124;
reconsider D112 = C314 , D113 = C315 as (Morphism of C305) by L809 , L810;
L812: (( cod D113 ) = C312 & ( dom D112 ) = C312) by L809 , L810 , CAT_1:1;
L813: ( cod D112 ) = C313 by L809 , CAT_1:1;
L814: ( cod ( D112 (*) D113 ) ) = C313 by L813 , L812 , CAT_1:17;
L815: ( dom D113 ) = C311 by L810 , CAT_1:1;
L816: ( dom ( D112 (*) D113 ) ) = C311 by L815 , L812 , CAT_1:17;
thus L817: ( Hom (C311 , C313) ) <> ( {} ) by L816 , L814 , CAT_1:1;
end;
L818:
now
let C316 being set;
assume L819: C316 in ( product <* ( Hom (C312 , C313) ) , ( Hom (C311 , C312) ) *> );
consider C317 , C318 being set such that L820: C317 in ( Hom (C312 , C313) ) and L821: C318 in ( Hom (C311 , C312) ) and L822: C316 = <* C317 , C318 *> by L819 , FINSEQ_3:124;
reconsider D114 = C317 , D115 = C318 as (Morphism of C305) by L820 , L821;
L823: (( dom D114 ) = C312 & ( cod D114 ) = C313) by L820 , CAT_1:1;
L824: (( dom D115 ) = C311 & ( cod D115 ) = C312) by L821 , CAT_1:1;
L825: ( ( Den (( compsym (C311 , C312 , C313) ) , C306) ) . C316 ) = ( D114 (*) D115 ) by L824 , L782 , L822 , L823;
thus L826: ( ( Den (( compsym (C311 , C312 , C313) ) , C306) ) . C316 ) = ( ( Den (( compsym (C311 , C312 , C313) ) , C307) ) . C316 ) by L825 , L785 , L822 , L824 , L823;
end;
L827: ( Args (( compsym (C311 , C312 , C313) ) , C306) ) = ( product <* ( Hom (C312 , C313) ) , ( Hom (C311 , C312) ) *> ) by L780 , L681;
L828: ( Args (( compsym (C311 , C312 , C313) ) , C307) ) = ( product <* ( Hom (C312 , C313) ) , ( Hom (C311 , C312) ) *> ) by L783 , L681;
L829: ( Result (( compsym (C311 , C312 , C313) ) , C307) ) = ( Hom (C311 , C313) ) by L783 , L681;
L830: ( dom ( Den (( compsym (C311 , C312 , C313) ) , C307) ) ) = ( Args (( compsym (C311 , C312 , C313) ) , C307) ) by L829 , L828 , L807 , FUNCT_2:def 1;
L831: ( Result (( compsym (C311 , C312 , C313) ) , C306) ) = ( Hom (C311 , C313) ) by L780 , L681;
L832: ( dom ( Den (( compsym (C311 , C312 , C313) ) , C306) ) ) = ( Args (( compsym (C311 , C312 , C313) ) , C306) ) by L831 , L827 , L807 , FUNCT_2:def 1;
thus L833: ( (the Charact of C306) . C308 ) = ( (the Charact of C307) . C308 ) by L832 , L806 , L827 , L828 , L830 , L818 , FUNCT_1:2;
end;
end;
L835:
now
let C319 being set;
assume L836: C319 in (the carrier of ( CatSign (the carrier of C305) ));
consider C320 , C321 being (Object of C305) such that L837: C319 = ( homsym (C320 , C321) ) by L836 , L519;
thus L838: ( (the Sorts of C306) . C319 ) = ( Hom (C320 , C321) ) by L780 , L837
.= ( (the Sorts of C307) . C319 ) by L783 , L837;
end;
L839: (the Sorts of C306) = (the Sorts of C307) by L835 , PBOOLE:3;
thus L840: thesis by L839 , L786 , PBOOLE:3;
end;
correctness
proof
deffunc H4((Object of C305)) = ( id $1 );
deffunc H5((Object of C305) , (Object of C305) , (Object of C305) , (Morphism of C305) , (Morphism of C305)) = ( $4 (*) $5 );
deffunc H6((Object of C305) , (Object of C305)) = ( Hom ($1 , $2) );
L841: (for B266 being (Object of C305) holds H4(B266) in H6(B266 , B266)) by CAT_1:27;
L842:
now
let C322 , C323 , C324 being (Object of C305);
let C325 , C326 being (Morphism of C305);
assume that
L843: C325 in H6(C322 , C323)
and
L844: C326 in H6(C323 , C324);
L845: (( cod C325 ) = C323 & ( dom C326 ) = C323) by L843 , L844 , CAT_1:1;
L846: ( cod C326 ) = C324 by L844 , CAT_1:1;
L847: ( cod ( C326 (*) C325 ) ) = C324 by L846 , L845 , CAT_1:17;
L848: ( dom C325 ) = C322 by L843 , CAT_1:1;
L849: ( dom ( C326 (*) C325 ) ) = C322 by L848 , L845 , CAT_1:17;
thus L850: H5(C322 , C323 , C324 , C326 , C325) in H6(C322 , C324) by L849 , L847;
end;
L851: (for B267 , B268 being (Object of C305) holds H6(B267 , B268) c= (the carrier' of C305));
consider C327 being  strict MSAlgebra over ( CatSign (the carrier of C305) ) such that L852: ((for B269 , B270 being (Element of C305) holds ( (the Sorts of C327) . ( homsym (B269 , B270) ) ) = H6(B269 , B270)) & (for B271 being (Element of C305) holds ( ( Den (( idsym B271 ) , C327) ) . ( {} ) ) = H4(B271))) and L853: (for B272 , B273 , B274 being (Element of C305) holds (for B275 , B276 being (Element of (the carrier' of C305)) holds ((B275 in H6(B272 , B273) & B276 in H6(B273 , B274)) implies ( ( Den (( compsym (B272 , B273 , B274) ) , C327) ) . <* B276 , B275 *> ) = H5(B272 , B273 , B274 , B276 , B275)))) from CatAlgEx(L851 , L841 , L842);
take C327;
L854:
now
let C328 , C329 , C330 being (Object of C305);
let C331 , C332 being (Morphism of C305);
assume L855: (( dom C331 ) = C328 & ( cod C331 ) = C329 & ( dom C332 ) = C329 & ( cod C332 ) = C330);
L856: (C331 in ( Hom (C328 , C329) ) & C332 in ( Hom (C329 , C330) )) by L855;
thus L857: ( ( Den (( compsym (C328 , C329 , C330) ) , C327) ) . <* C332 , C331 *> ) = ( C332 (*) C331 ) by L856 , L853;
end;
thus L858: thesis by L854 , L852;
end;
end;
theorem
L860: (for B277 being Category holds (for B278 being (Object of B277) holds ( Result (( idsym B278 ) , ( MSAlg B277 )) ) = ( Hom (B278 , B278) )))
proof
let C333 being Category;
let C334 being (Object of C333);
thus L861: ( Result (( idsym C334 ) , ( MSAlg C333 )) ) = ( (the Sorts of ( MSAlg C333 )) . ( the_result_sort_of ( idsym C334 ) ) ) by PRALG_2:3
.= ( (the Sorts of ( MSAlg C333 )) . ( homsym (C334 , C334) ) ) by L65
.= ( Hom (C334 , C334) ) by L779;
end;
theorem
L862: (for B279 being Category holds (for B280 , B281 , B282 being (Object of B279) holds (( Args (( compsym (B280 , B281 , B282) ) , ( MSAlg B279 )) ) = ( product <* ( Hom (B281 , B282) ) , ( Hom (B280 , B281) ) *> ) & ( Result (( compsym (B280 , B281 , B282) ) , ( MSAlg B279 )) ) = ( Hom (B280 , B282) ))))
proof
let C335 being Category;
let C336 , C337 , C338 being (Object of C335);
L863: (for B283 , B284 being (Object of C335) holds ( (the Sorts of ( MSAlg C335 )) . ( homsym (B283 , B284) ) ) = ( Hom (B283 , B284) )) by L779;
thus L864: thesis by L863 , L681;
end;
registration
let C339 being Category;
cluster ( MSAlg C339 ) ->  disjoint_valued  feasible;
coherence
proof
thus L865:now
let C340 , C341 being set;
assume that
L866: C340 <> C341
and
L867: ( (the Sorts of ( MSAlg C339 )) . C340 ) meets ( (the Sorts of ( MSAlg C339 )) . C341 );
consider C342 being set such that L868: C342 in ( (the Sorts of ( MSAlg C339 )) . C340 ) and L869: C342 in ( (the Sorts of ( MSAlg C339 )) . C341 ) by L867 , XBOOLE_0:3;
L870: ( dom (the Sorts of ( MSAlg C339 )) ) = (the carrier of ( CatSign (the carrier of C339) )) by PARTFUN1:def 2;
reconsider D116 = C340 , D117 = C341 as (SortSymbol of ( CatSign (the carrier of C339) )) by L870 , L868 , L869 , FUNCT_1:def 2;
consider C343 , C344 being (Object of C339) such that L871: D116 = ( homsym (C343 , C344) ) by L519;
L872: C342 in ( Hom (C343 , C344) ) by L868 , L871 , L779;
consider C345 , C346 being (Object of C339) such that L873: D117 = ( homsym (C345 , C346) ) by L519;
L874: C342 in ( Hom (C345 , C346) ) by L869 , L873 , L779;
reconsider D118 = C342 as (Morphism of C339) by L872;
L875: (( dom D118 ) = C343 & ( cod D118 ) = C344) by L872 , CAT_1:1;
L876: ( dom D118 ) = C345 by L874 , CAT_1:1;
thus L877: contradiction by L876 , L866 , L871 , L873 , L874 , L875 , CAT_1:1;
end;
let C347 being (OperSymbol of ( CatSign (the carrier of C339) ));
per cases  by L530;
suppose L878: ( C347 `1 ) = 1;

consider C348 being (Object of C339) such that L879: C347 = ( idsym C348 ) by L878 , L535;
L880: ( Result (C347 , ( MSAlg C339 )) ) = ( Hom (C348 , C348) ) by L879 , L860;
thus L881: thesis by L880 , CAT_1:27;
end;
suppose L882: ( C347 `1 ) = 2;

consider C349 , C350 , C351 being (Object of C339) such that L883: C347 = ( compsym (C349 , C350 , C351) ) by L882 , L543;
set D119 = the (Element of ( Args (C347 , ( MSAlg C339 )) ));
assume L884: ( Args (C347 , ( MSAlg C339 )) ) <> ( {} );
L885: ( Args (C347 , ( MSAlg C339 )) ) = ( product <* ( Hom (C350 , C351) ) , ( Hom (C349 , C350) ) *> ) by L883 , L862;
L886: (ex B285 , B286 being set st (B285 in ( Hom (C350 , C351) ) & B286 in ( Hom (C349 , C350) ) & D119 = <* B285 , B286 *>)) by L885 , L884 , FINSEQ_3:124;
L887: ( Result (C347 , ( MSAlg C339 )) ) = ( Hom (C349 , C351) ) by L883 , L862;
thus L888: thesis by L887 , L886 , CAT_1:24;
end;
end;
end;
theorem
L891: (for B287 , B288 being Category holds (for B289 being (Functor of B287 , B288) holds ( B289 -MSF ((the carrier of ( CatSign (the carrier of B287) )) , (the Sorts of ( MSAlg B287 ))) ) is (ManySortedFunction of ( MSAlg B287 ) , ( ( MSAlg B288 ) | (( CatSign (the carrier of B287) ) , ( Upsilon B289 ) , ( Psi B289 )) ))))
proof
let C352 , C353 being Category;
let C354 being (Functor of C352 , C353);
set D120 = ( CatSign (the carrier of C352) );
set D121 = ( CatSign (the carrier of C353) );
set D122 = ( MSAlg C352 );
set D123 = ( MSAlg C353 );
set D124 = ( Upsilon C354 );
set D125 = ( Psi C354 );
set D126 = ( D123 | (D120 , D124 , D125) );
set D127 = ( C354 -MSF ((the carrier of D120) , (the Sorts of D122)) );
let C355 being set;
assume L892: C355 in (the carrier of D120);
reconsider D128 = C355 as (SortSymbol of D120) by L892;
consider C356 , C357 being (Object of C352) such that L893: D128 = ( homsym (C356 , C357) ) by L519;
L894: D124 , D125 form_morphism_between D120 , D121 by L655;
L895: (the Sorts of D126) = ( (the Sorts of D123) * D124 ) by L894 , INSTALG1:def 3;
L896: ( (the Sorts of D123) . ( D124 . D128 ) ) = ( (the Sorts of D126) . D128 ) by L895 , FUNCT_2:15;
L897: ( D124 . D128 ) = ( homsym (( C354 . C356 ) , ( C354 . C357 )) ) by L893 , L644;
L898: ( (the Sorts of D123) . ( D124 . D128 ) ) = ( Hom (( C354 . C356 ) , ( C354 . C357 )) ) by L897 , L779;
L899: ( (the Sorts of D122) . D128 ) = ( Hom (C356 , C357) ) by L893 , L779;
L900: ( D127 . D128 ) = ( C354 | ( (the Sorts of D122) . D128 ) ) by L1;
L901: ( D127 . D128 ) = ( hom (C354 , C356 , C357) ) by L900 , L899;
thus L902: thesis by L901 , L896 , L899 , L898;
end;
theorem
L903: (for B290 being Category holds (for B291 , B292 , B293 being (Object of B290) holds (for B294 being set holds (B294 in ( Args (( compsym (B291 , B292 , B293) ) , ( MSAlg B290 )) ) iff (ex B295 , B296 being (Morphism of B290) st (B294 = <* B295 , B296 *> & ( dom B296 ) = B291 & ( cod B296 ) = B292 & ( dom B295 ) = B292 & ( cod B295 ) = B293))))))
proof
let C358 being Category;
let C359 , C360 , C361 being (Object of C358);
let C362 being set;
set D129 = ( MSAlg C358 );
L904: (for B297 , B298 being (Object of C358) holds ( (the Sorts of D129) . ( homsym (B297 , B298) ) ) = ( Hom (B297 , B298) )) by L779;
L905: ( Args (( compsym (C359 , C360 , C361) ) , D129) ) = ( product <* ( Hom (C360 , C361) ) , ( Hom (C359 , C360) ) *> ) by L904 , L681;
thus L906:now
assume L907: C362 in ( Args (( compsym (C359 , C360 , C361) ) , D129) );
consider C363 , C364 being set such that L908: (C363 in ( Hom (C360 , C361) ) & C364 in ( Hom (C359 , C360) )) and L909: C362 = <* C363 , C364 *> by L907 , L905 , FINSEQ_3:124;
reconsider D130 = C363 , D131 = C364 as (Morphism of C358) by L908;
take D132 = D130;
take D133 = D131;
thus L910: C362 = <* D132 , D133 *> by L909;
thus L911: (( dom D133 ) = C359 & ( cod D133 ) = C360 & ( dom D132 ) = C360 & ( cod D132 ) = C361) by L908 , CAT_1:1;
end;
given C365 , C366 being (Morphism of C358) such that
L912: C362 = <* C365 , C366 *>
and
L913: (( dom C366 ) = C359 & ( cod C366 ) = C360 & ( dom C365 ) = C360 & ( cod C365 ) = C361);

L914: (C366 in ( Hom (C359 , C360) ) & C365 in ( Hom (C360 , C361) )) by L913;
thus L915: thesis by L914 , L905 , L912 , FINSEQ_3:124;
end;
theorem
L916: (for B299 , B300 being Category holds (for B301 being (Functor of B299 , B300) holds (for B302 , B303 , B304 being (Object of B299) holds (for B305 , B306 being (Morphism of B299) holds ((B305 in ( Hom (B302 , B303) ) & B306 in ( Hom (B303 , B304) )) implies (for B307 being (Element of ( Args (( compsym (B302 , B303 , B304) ) , ( MSAlg B299 )) )) holds (B307 = <* B306 , B305 *> implies (for B308 being (ManySortedFunction of ( MSAlg B299 ) , ( ( MSAlg B300 ) | (( CatSign (the carrier of B299) ) , ( Upsilon B301 ) , ( Psi B301 )) )) holds (B308 = ( B301 -MSF ((the carrier of ( CatSign (the carrier of B299) )) , (the Sorts of ( MSAlg B299 ))) ) implies ( B308 # B307 ) = <* ( B301 . B306 ) , ( B301 . B305 ) *>)))))))))
proof
let C367 , C368 being Category;
let C369 being (Functor of C367 , C368);
set D134 = ( CatSign (the carrier of C367) );
set D135 = ( CatSign (the carrier of C368) );
set D136 = ( MSAlg C367 );
set D137 = ( MSAlg C368 );
set D138 = ( Upsilon C369 );
set D139 = ( Psi C369 );
set D140 = ( D137 | (D134 , D138 , D139) );
let C370 , C371 , C372 being (Object of C367);
set D141 = ( compsym (C370 , C371 , C372) );
let C373 , C374 being (Morphism of C367);
assume that
L917: C373 in ( Hom (C370 , C371) )
and
L918: C374 in ( Hom (C371 , C372) );
let C375 being (Element of ( Args (D141 , D136) ));
assume that
L919: C375 = <* C374 , C373 *>;
L920: ( C369 . C374 ) in ( Hom (( C369 . C371 ) , ( C369 . C372 )) ) by L918 , CAT_1:81;
L921: (( dom ( C369 . C374 ) ) = ( C369 . C371 ) & ( cod ( C369 . C374 ) ) = ( C369 . C372 )) by L920 , CAT_1:1;
L922: ( C369 . C373 ) in ( Hom (( C369 . C370 ) , ( C369 . C371 )) ) by L917 , CAT_1:81;
L923: (( dom ( C369 . C373 ) ) = ( C369 . C370 ) & ( cod ( C369 . C373 ) ) = ( C369 . C371 )) by L922 , CAT_1:1;
L924: <* ( C369 . C374 ) , ( C369 . C373 ) *> in ( Args (( compsym (( C369 . C370 ) , ( C369 . C371 ) , ( C369 . C372 )) ) , D137) ) by L923 , L921 , L903;
L925: (( dom C374 ) = C371 & ( cod C374 ) = C372) by L918 , CAT_1:1;
L926: (( dom C373 ) = C370 & ( cod C373 ) = C371) by L917 , CAT_1:1;
L927: C375 in ( Args (D141 , D136) ) by L926 , L919 , L925 , L903;
let C376 being (ManySortedFunction of D136 , D140);
assume that
L928: C376 = ( C369 -MSF ((the carrier of D134) , (the Sorts of D136)) );
L929: ( (the Sorts of D136) . ( homsym (C371 , C372) ) ) = ( Hom (C371 , C372) ) by L779;
L930: ( C376 . ( homsym (C371 , C372) ) ) = ( C369 | ( Hom (C371 , C372) ) ) by L929 , L928 , L1;
L931: ( ( C376 . ( homsym (C371 , C372) ) ) . C374 ) = ( C369 . C374 ) by L930 , L918 , FUNCT_1:49;
L932: ( dom <* C374 , C373 *> ) = ( Seg 2 ) by FINSEQ_1:89;
L933: 1 in ( dom <* C374 , C373 *> ) by L932 , FINSEQ_1:2 , TARSKI:def 2;
L934: ( (the Sorts of D136) . ( homsym (C370 , C371) ) ) = ( Hom (C370 , C371) ) by L779;
L935: ( C376 . ( homsym (C370 , C371) ) ) = ( C369 | ( Hom (C370 , C371) ) ) by L934 , L928 , L1;
L936: ( ( C376 . ( homsym (C370 , C371) ) ) . C373 ) = ( C369 . C373 ) by L935 , L917 , FUNCT_1:49;
L937: 2 in ( dom <* C374 , C373 *> ) by L932 , FINSEQ_1:2 , TARSKI:def 2;
L938: D138 , D139 form_morphism_between D134 , D135 by L655;
L939: ( Args (D141 , D140) ) = ( Args (( D139 . D141 ) , D137) ) by L938 , INSTALG1:24
.= ( Args (( compsym (( C369 . C370 ) , ( C369 . C371 ) , ( C369 . C372 )) ) , D137) ) by L651;
consider C377 , C378 being (Morphism of C368) such that L940: ( C376 # C375 ) = <* C377 , C378 *> and L941: ( dom C378 ) = ( C369 . C370 ) and L942: ( cod C378 ) = ( C369 . C371 ) and L943: ( dom C377 ) = ( C369 . C371 ) and L944: ( cod C377 ) = ( C369 . C372 ) by L939 , L924 , L903;
L945: ( <* C377 , C378 *> . 1 ) = C377 by FINSEQ_1:44;
L946: ( the_arity_of D141 ) = <* ( homsym (C371 , C372) ) , ( homsym (C370 , C371) ) *> by L65;
L947: (( <* C374 , C373 *> . 1 ) = C374 & ( ( the_arity_of D141 ) /. 1 ) = ( homsym (C371 , C372) )) by L946 , FINSEQ_1:44 , FINSEQ_4:17;
L948: ( <* C377 , C378 *> . 1 ) = ( C369 . C374 ) by L947 , L919 , L927 , L924 , L939 , L940 , L931 , L933 , MSUALG_3:24;
L949: (( <* C374 , C373 *> . 2 ) = C373 & ( ( the_arity_of D141 ) /. 2 ) = ( homsym (C370 , C371) )) by L946 , FINSEQ_1:44 , FINSEQ_4:17;
L950: ( <* C377 , C378 *> . 2 ) = ( C369 . C373 ) by L949 , L919 , L927 , L924 , L939 , L940 , L936 , L937 , MSUALG_3:24;
thus L951: thesis by L950 , L940 , L948 , L945 , FINSEQ_1:44;
end;
theorem
L952: (for B309 being Category holds (for B310 , B311 , B312 being (Object of B309) holds (for B313 , B314 being (Morphism of B309) holds ((B313 in ( Hom (B310 , B311) ) & B314 in ( Hom (B311 , B312) )) implies ( ( Den (( compsym (B310 , B311 , B312) ) , ( MSAlg B309 )) ) . <* B314 , B313 *> ) = ( B314 (*) B313 )))))
proof
let C379 being Category;
let C380 , C381 , C382 being (Object of C379);
let C383 , C384 being (Morphism of C379);
assume that
L953: C383 in ( Hom (C380 , C381) )
and
L954: C384 in ( Hom (C381 , C382) );
L955: (( dom C384 ) = C381 & ( cod C384 ) = C382) by L954 , CAT_1:1;
L956: (( dom C383 ) = C380 & ( cod C383 ) = C381) by L953 , CAT_1:1;
thus L957: thesis by L956 , L955 , L779;
end;
theorem
L958: (for B315 being Category holds (for B316 , B317 , B318 , B319 being (Object of B315) holds (for B320 , B321 , B322 being (Morphism of B315) holds ((B320 in ( Hom (B316 , B317) ) & B321 in ( Hom (B317 , B318) ) & B322 in ( Hom (B318 , B319) )) implies ( ( Den (( compsym (B316 , B318 , B319) ) , ( MSAlg B315 )) ) . <* B322 , ( ( Den (( compsym (B316 , B317 , B318) ) , ( MSAlg B315 )) ) . <* B321 , B320 *> ) *> ) = ( ( Den (( compsym (B316 , B317 , B319) ) , ( MSAlg B315 )) ) . <* ( ( Den (( compsym (B317 , B318 , B319) ) , ( MSAlg B315 )) ) . <* B322 , B321 *> ) , B320 *> )))))
proof
let C385 being Category;
let C386 , C387 , C388 , C389 being (Object of C385);
let C390 , C391 , C392 being (Morphism of C385);
assume that
L959: C390 in ( Hom (C386 , C387) )
and
L960: C391 in ( Hom (C387 , C388) )
and
L961: C392 in ( Hom (C388 , C389) );
L962: ( cod C391 ) = C388 by L960 , CAT_1:1;
L963: ( ( Den (( compsym (C387 , C388 , C389) ) , ( MSAlg C385 )) ) . <* C392 , C391 *> ) = ( C392 (*) C391 ) by L960 , L961 , L952;
L964: ( cod C390 ) = C387 by L959 , CAT_1:1;
L965: ( dom C392 ) = C388 by L961 , CAT_1:1;
L966: ( cod C392 ) = C389 by L961 , CAT_1:1;
L967: ( cod ( C392 (*) C391 ) ) = C389 by L966 , L962 , L965 , CAT_1:17;
L968: ( dom C391 ) = C387 by L960 , CAT_1:1;
L969: ( dom ( C392 (*) C391 ) ) = C387 by L968 , L962 , L965 , CAT_1:17;
L970: ( C392 (*) C391 ) in ( Hom (C387 , C389) ) by L969 , L967;
L971: ( dom C390 ) = C386 by L959 , CAT_1:1;
L972: ( dom ( C391 (*) C390 ) ) = C386 by L971 , L964 , L968 , CAT_1:17;
L973: ( cod ( C391 (*) C390 ) ) = C388 by L964 , L968 , L962 , CAT_1:17;
L974: ( C391 (*) C390 ) in ( Hom (C386 , C388) ) by L973 , L972;
L975: ( ( Den (( compsym (C386 , C387 , C388) ) , ( MSAlg C385 )) ) . <* C391 , C390 *> ) = ( C391 (*) C390 ) by L959 , L960 , L952;
thus L976: ( ( Den (( compsym (C386 , C388 , C389) ) , ( MSAlg C385 )) ) . <* C392 , ( ( Den (( compsym (C386 , C387 , C388) ) , ( MSAlg C385 )) ) . <* C391 , C390 *> ) *> ) = ( C392 (*) ( C391 (*) C390 ) ) by L975 , L961 , L974 , L952
.= ( ( C392 (*) C391 ) (*) C390 ) by L964 , L968 , L962 , L965 , CAT_1:18
.= ( ( Den (( compsym (C386 , C387 , C389) ) , ( MSAlg C385 )) ) . <* ( ( Den (( compsym (C387 , C388 , C389) ) , ( MSAlg C385 )) ) . <* C392 , C391 *> ) , C390 *> ) by L959 , L963 , L970 , L952;
end;
theorem
L977: (for B323 being Category holds (for B324 , B325 being (Object of B323) holds (for B326 being (Morphism of B323) holds (B326 in ( Hom (B324 , B325) ) implies (( ( Den (( compsym (B324 , B325 , B325) ) , ( MSAlg B323 )) ) . <* ( id B325 ) , B326 *> ) = B326 & ( ( Den (( compsym (B324 , B324 , B325) ) , ( MSAlg B323 )) ) . <* B326 , ( id B324 ) *> ) = B326)))))
proof
let C393 being Category;
let C394 , C395 being (Object of C393);
let C396 being (Morphism of C393);
assume L978: C396 in ( Hom (C394 , C395) );
L979: ( dom C396 ) = C394 by L978 , CAT_1:1;
L980: ( C396 (*) ( id C394 ) ) = C396 by L979 , CAT_1:22;
L981: ( cod C396 ) = C395 by L978 , CAT_1:1;
L982: ( ( id C395 ) (*) C396 ) = C396 by L981 , CAT_1:21;
L983: (( id C395 ) in ( Hom (C395 , C395) ) & ( id C394 ) in ( Hom (C394 , C394) )) by CAT_1:27;
thus L984: thesis by L983 , L978 , L982 , L980 , L952;
end;
theorem
L985: (for B327 , B328 being Category holds (for B329 being (Functor of B327 , B328) holds (ex B330 being (ManySortedFunction of ( MSAlg B327 ) , ( ( MSAlg B328 ) | (( CatSign (the carrier of B327) ) , ( Upsilon B329 ) , ( Psi B329 )) )) st (B330 = ( B329 -MSF ((the carrier of ( CatSign (the carrier of B327) )) , (the Sorts of ( MSAlg B327 ))) ) & B330 is_homomorphism ( MSAlg B327 ) , ( ( MSAlg B328 ) | (( CatSign (the carrier of B327) ) , ( Upsilon B329 ) , ( Psi B329 )) )))))
proof
let C397 , C398 being Category;
let C399 being (Functor of C397 , C398);
set D142 = ( CatSign (the carrier of C397) );
set D143 = ( CatSign (the carrier of C398) );
set D144 = ( MSAlg C397 );
set D145 = ( MSAlg C398 );
set D146 = ( Upsilon C399 );
set D147 = ( Psi C399 );
set D148 = ( D145 | (D142 , D146 , D147) );
L986: D146 , D147 form_morphism_between D142 , D143 by L655;
reconsider D149 = ( C399 -MSF ((the carrier of D142) , (the Sorts of D144)) ) as (ManySortedFunction of D144 , D148) by L891;
take D149;
thus L987: D149 = ( C399 -MSF ((the carrier of D142) , (the Sorts of D144)) );
let C400 being (OperSymbol of D142);
assume L988: ( Args (C400 , D144) ) <> ( {} );
per cases  by L530;
suppose L989: ( C400 `1 ) = 1;

consider C401 being (Object of C397) such that L990: C400 = ( idsym C401 ) by L989 , L535;
let C402 being (Element of ( Args (C400 , D144) ));
L991: ( Args (( D147 . C400 ) , D145) ) = ( Args (C400 , D148) ) by L986 , INSTALG1:24;
L992: ( D147 . C400 ) = ( idsym ( C399 . C401 ) ) by L990 , L647;
L993: ( Args (( D147 . C400 ) , D145) ) = { ( {} ) } by L992 , L679;
L994: ( D149 # C402 ) = ( {} ) by L993 , L991 , TARSKI:def 1;
reconsider D150 = ( id C401 ) as (Morphism of C401 , C401);
L995: (( dom ( id C401 ) ) = C401 & ( cod ( id C401 ) ) = C401) by CAT_1:58;
L996: ( id C401 ) in ( Hom (C401 , C401) ) by L995;
L997: ( Args (C400 , D144) ) = { ( {} ) } by L990 , L679;
L998: C402 = ( {} ) by L997 , TARSKI:def 1;
thus L999: ( ( D149 . ( the_result_sort_of C400 ) ) . ( ( Den (C400 , D144) ) . C402 ) ) = ( ( D149 . ( the_result_sort_of C400 ) ) . D150 ) by L998 , L990 , L779
.= ( ( D149 . ( homsym (C401 , C401) ) ) . D150 ) by L990 , L65
.= ( ( C399 | ( (the Sorts of D144) . ( homsym (C401 , C401) ) ) ) . D150 ) by L1
.= ( ( C399 | ( Hom (C401 , C401) ) ) . D150 ) by L779
.= ( ( hom (C399 , C401 , C401) ) . D150 )
.= ( C399 . D150 ) by L996 , CAT_1:88
.= ( id ( C399 . C401 ) ) by CAT_1:71
.= ( ( Den (( D147 . C400 ) , D145) ) . ( D149 # C402 ) ) by L992 , L994 , L779
.= ( ( Den (C400 , D148) ) . ( D149 # C402 ) ) by L655 , INSTALG1:23;
end;
suppose L1000: ( C400 `1 ) = 2;

let C403 being (Element of ( Args (C400 , D144) ));
consider C404 , C405 , C406 being (Object of C397) such that L1001: C400 = ( compsym (C404 , C405 , C406) ) by L1000 , L543;
L1002: ( D147 . C400 ) = ( compsym (( C399 . C404 ) , ( C399 . C405 ) , ( C399 . C406 )) ) by L1001 , L651;
consider C407 , C408 being (Morphism of C397) such that L1003: C403 = <* C407 , C408 *> and L1004: ( dom C408 ) = C404 and L1005: ( cod C408 ) = C405 and L1006: ( dom C407 ) = C405 and L1007: ( cod C407 ) = C406 by L988 , L1001 , L903;
L1008: (C407 in ( Hom (C405 , C406) ) & C408 in ( Hom (C404 , C405) )) by L1004 , L1005 , L1006 , L1007;
L1009: (( dom ( C407 (*) C408 ) ) = C404 & ( cod ( C407 (*) C408 ) ) = C406) by L1004 , L1005 , L1006 , L1007 , CAT_1:17;
L1010: ( C407 (*) C408 ) in ( Hom (C404 , C406) ) by L1009;
reconsider D151 = ( C407 (*) C408 ) as (Morphism of C404 , C406) by L1010 , CAT_1:def 5;
L1011: (( dom ( C399 . C408 ) ) = ( C399 . C404 ) & ( cod ( C399 . C408 ) ) = ( C399 . C405 )) by L1004 , L1005 , CAT_1:72;
L1012: (( dom ( C399 . C407 ) ) = ( C399 . C405 ) & ( cod ( C399 . C407 ) ) = ( C399 . C406 )) by L1006 , L1007 , CAT_1:72;
thus L1013: ( ( D149 . ( the_result_sort_of C400 ) ) . ( ( Den (C400 , D144) ) . C403 ) ) = ( ( D149 . ( the_result_sort_of C400 ) ) . D151 ) by L1001 , L1003 , L1004 , L1005 , L1006 , L1007 , L779
.= ( ( D149 . ( homsym (C404 , C406) ) ) . D151 ) by L1001 , L65
.= ( ( C399 | ( (the Sorts of D144) . ( homsym (C404 , C406) ) ) ) . D151 ) by L1
.= ( ( C399 | ( Hom (C404 , C406) ) ) . D151 ) by L779
.= ( ( hom (C399 , C404 , C406) ) . D151 )
.= ( C399 . D151 ) by L1010 , CAT_1:88
.= ( ( C399 . C407 ) (*) ( C399 . C408 ) ) by L1005 , L1006 , CAT_1:64
.= ( ( Den (( D147 . C400 ) , D145) ) . <* ( C399 . C407 ) , ( C399 . C408 ) *> ) by L1002 , L1011 , L1012 , L779
.= ( ( Den (( D147 . C400 ) , D145) ) . ( D149 # C403 ) ) by L1001 , L1003 , L1008 , L916
.= ( ( Den (C400 , D148) ) . ( D149 # C403 ) ) by L655 , INSTALG1:23;
end;
end;
