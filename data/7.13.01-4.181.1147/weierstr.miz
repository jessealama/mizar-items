:: The Theorem of Weierstrass
::  by J\'ozef Bia\las and Yatsuka Nakamura
::
:: Received July 10, 1995
:: Copyright (c) 1995-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, METRIC_1, PRE_TOPC, REAL_1, XBOOLE_0, TARSKI, COMPLEX1,
      ARYTM_3, XXREAL_0, CARD_1, ARYTM_1, NAT_1, SETFAM_1, FINSEQ_1, TOPMETR,
      RELAT_1, FINSET_1, FUNCT_1, ORDINAL2, RCOMP_1, SUBSET_1, ZFMISC_1,
      EUCLID, XXREAL_2, STRUCT_0, PCOMPS_1, XREAL_0, ORDINAL1, SEQ_1, SEQ_2,
      VALUED_0, SEQ_4, WEIERSTR;
 notations TARSKI, XBOOLE_0, SUBSET_1, RELAT_1, FUNCT_1, RELSET_1, FUNCT_2,
      SETFAM_1, ORDINAL1, NUMBERS, XREAL_0, COMPLEX1, REAL_1, NAT_1, TOPMETR,
      METRIC_1, COMPTS_1, SEQ_1, SEQ_2, VALUED_0, SEQ_4, FINSEQ_1, FINSET_1,
      STRUCT_0, PRE_TOPC, TOPS_2, RCOMP_1, EUCLID, PCOMPS_1, XXREAL_0,
      XXREAL_2;
 constructors REAL_1, COMPLEX1, SEQ_2, SEQ_4, RCOMP_1, TOPS_2, COMPTS_1,
      EUCLID, TOPMETR, SEQ_1, BINOP_2, PCOMPS_1, COMSEQ_2;
 registrations XBOOLE_0, SUBSET_1, ORDINAL1, RELSET_1, FINSET_1, NUMBERS,
      XREAL_0, MEMBERED, STRUCT_0, METRIC_1, PCOMPS_1, EUCLID, TOPMETR,
      FINSEQ_1;
 requirements REAL, SUBSET, BOOLE, NUMERALS, ARITHM;
 definitions STRUCT_0, TARSKI, XXREAL_2;
 theorems TARSKI, FUNCT_1, FUNCT_2, NAT_1, FINSEQ_1, ZFMISC_1, SEQ_2, SEQ_4,
      ABSVALUE, COMPTS_1, RELAT_1, TOPS_2, RCOMP_1, TOPMETR, PCOMPS_1,
      METRIC_1, METRIC_6, XBOOLE_0, XBOOLE_1, XREAL_0, SUBSET_1, XREAL_1,
      COMPLEX1, XXREAL_0, SETFAM_1, XXREAL_2;
 schemes NAT_1, SUBSET_1, FUNCT_2;

begin
theorem
L1: (for B1 being MetrSpace holds (for B2 , B3 being (Point of B1) holds (for B4 , B5 being Real holds (ex B6 being (Point of B1) st (ex B7 being Real st ( ( Ball (B2 , B4) ) \/ ( Ball (B3 , B5) ) ) c= ( Ball (B6 , B7) ))))))
proof
let C1 being MetrSpace;
let C2 , C3 being (Point of C1);
let C4 , C5 being Real;
reconsider D1 = C2 as (Point of C1);
reconsider D2 = ( ( ( abs C4 ) + ( abs C5 ) ) + ( dist (C2 , C3) ) ) as Real;
take D1;
take D2;
L2: (for B8 being set holds (B8 in ( ( Ball (C2 , C4) ) \/ ( Ball (C3 , C5) ) ) implies B8 in ( Ball (D1 , D2) )))
proof
let C6 being set;
assume L3: C6 in ( ( Ball (C2 , C4) ) \/ ( Ball (C3 , C5) ) );
reconsider D3 = C6 as (Point of C1) by L3;
L4:
now
per cases  by L3 , XBOOLE_0:def 3;
case L5: D3 in ( Ball (C2 , C4) );
L6: (C4 <= ( abs C4 ) & ( 0 ) <= ( abs C5 )) by ABSVALUE:4 , COMPLEX1:46;
L7: ( C4 + ( 0 ) ) <= ( ( abs C4 ) + ( abs C5 ) ) by L6 , XREAL_1:7;
L8: ( dist (D1 , D3) ) < C4 by L5 , METRIC_1:11;
L9: ( 0 ) <= ( dist (C2 , C3) ) by METRIC_1:5;
L10: ( C4 + ( 0 ) ) <= ( ( ( abs C4 ) + ( abs C5 ) ) + ( dist (C2 , C3) ) ) by L9 , L7 , XREAL_1:7;
L11: ( ( dist (D1 , D3) ) - D2 ) < ( C4 - C4 ) by L10 , L8 , XREAL_1:14;
L12: ( ( ( dist (D1 , D3) ) - D2 ) + D2 ) < ( ( 0 ) + D2 ) by L11 , XREAL_1:8;
L13: C1 is non  empty by L5;
thus L14: thesis by L13 , L12 , METRIC_1:11;
end;
case L15: D3 in ( Ball (C3 , C5) );
L16: ( dist (C3 , D3) ) < C5 by L15 , METRIC_1:11;
L17: ( ( dist (C3 , D3) ) - ( abs C5 ) ) < ( C5 - C5 ) by L16 , ABSVALUE:4 , XREAL_1:14;
L18: (( dist (D1 , D3) ) <= ( ( dist (C2 , C3) ) + ( dist (C3 , D3) ) ) & ( ( ( dist (C3 , D3) ) - ( abs C5 ) ) + ( abs C5 ) ) < ( ( 0 ) + ( abs C5 ) )) by L17 , METRIC_1:4 , XREAL_1:8;
L19: ( ( dist (D1 , D3) ) - ( abs C5 ) ) < ( ( ( dist (C2 , C3) ) + ( dist (C3 , D3) ) ) - ( dist (C3 , D3) ) ) by L18 , XREAL_1:15;
L20: ( ( ( dist (D1 , D3) ) - ( abs C5 ) ) - ( abs C4 ) ) < ( ( dist (C2 , C3) ) - ( 0 ) ) by L19 , COMPLEX1:46 , XREAL_1:14;
L21: ( ( ( dist (D1 , D3) ) - ( ( abs C4 ) + ( abs C5 ) ) ) + ( ( abs C4 ) + ( abs C5 ) ) ) < ( ( ( abs C4 ) + ( abs C5 ) ) + ( dist (C2 , C3) ) ) by L20 , XREAL_1:8;
L22: C1 is non  empty by L15;
thus L23: thesis by L22 , L21 , METRIC_1:11;
end;
end;
thus L25: thesis by L4;
end;
thus L26: thesis by L2 , TARSKI:def 3;
end;
theorem
L27: (for B9 being MetrSpace holds (for B10 being Nat holds (for B11 being (Subset-Family of B9) holds (for B12 being FinSequence holds ((B11 is  being_ball-family & ( rng B12 ) = B11 & ( dom B12 ) = ( Seg ( B10 + 1 ) )) implies (ex B13 being (Subset-Family of B9) st (B13 is  finite & B13 is  being_ball-family & (ex B14 being FinSequence st (( rng B14 ) = B13 & ( dom B14 ) = ( Seg B10 ) & (ex B15 being (Point of B9) st (ex B16 being Real st ( union B11 ) c= ( ( union B13 ) \/ ( Ball (B15 , B16) ) ))))))))))))
proof
let C7 being MetrSpace;
let C8 being Nat;
let C9 being (Subset-Family of C7);
let C10 being FinSequence;
assume that
L28: C9 is  being_ball-family
and
L29: ( rng C10 ) = C9
and
L30: ( dom C10 ) = ( Seg ( C8 + 1 ) );
L31: ( C8 + 1 ) in ( dom C10 ) by L30 , FINSEQ_1:4;
L32: ( C10 . ( C8 + 1 ) ) in C9 by L31 , L29 , FUNCT_1:def 3;
consider C11 being (Point of C7) such that L33: (ex B17 being Real st ( C10 . ( C8 + 1 ) ) = ( Ball (C11 , B17) )) by L32 , L28 , TOPMETR:def 4;
consider C12 being Real such that L34: ( C10 . ( C8 + 1 ) ) = ( Ball (C11 , C12) ) by L33;
reconsider D4 = ( C10 | ( Seg C8 ) ) as FinSequence by FINSEQ_1:15;
L35: ( rng D4 ) c= ( rng C10 ) by RELAT_1:70;
reconsider D5 = ( rng D4 ) as (Subset-Family of C7) by L35 , L29 , XBOOLE_1:1;
reconsider D6 = D5 as (Subset-Family of C7);
L36: ( len C10 ) = ( C8 + 1 ) by L30 , FINSEQ_1:def 3;
L37: C8 <= ( len C10 ) by L36 , NAT_1:11;
L38: ( dom D4 ) = ( Seg C8 ) by L37 , FINSEQ_1:17;
L39: ( ( dom D4 ) \/ { ( C8 + 1 ) } ) = ( dom C10 ) by L38 , L30 , FINSEQ_1:9;
L40: (ex B18 being (Point of C7) st (ex B19 being Real st ( union C9 ) c= ( ( union D6 ) \/ ( Ball (B18 , B19) ) )))
proof
take C11;
take C12;
L41: ( union C9 ) c= ( ( union D6 ) \/ ( Ball (C11 , C12) ) )
proof
let C13 being set;
assume L42: C13 in ( union C9 );
consider C14 being set such that L43: C13 in C14 and L44: C14 in C9 by L42 , TARSKI:def 4;
consider C15 being set such that L45: C15 in ( dom C10 ) and L46: C14 = ( C10 . C15 ) by L29 , L44 , FUNCT_1:def 3;
L47:
now
per cases  by L39 , L45 , XBOOLE_0:def 3;
case L48: C15 in ( dom D4 );
L49: (( D4 . C15 ) in D6 & ( D4 . C15 ) = C14) by L48 , L46 , FUNCT_1:47 , FUNCT_1:def 3;
L50: C13 in ( union D6 ) by L49 , L43 , TARSKI:def 4;
L51: ( union D6 ) c= ( ( union D6 ) \/ ( Ball (C11 , C12) ) ) by XBOOLE_1:7;
thus L52: thesis by L51 , L50;
end;
case L53: C15 in { ( C8 + 1 ) };
L54: ( C10 . C15 ) = ( Ball (C11 , C12) ) by L53 , L34 , TARSKI:def 1;
thus L55: thesis by L54 , L43 , L46 , XBOOLE_0:def 3;
end;
end;
thus L57: thesis by L47;
end;
thus L58: thesis by L41;
end;
take D6;
L59: (for B20 being set holds (B20 in D6 implies (ex B21 being (Point of C7) st (ex B22 being Real st B20 = ( Ball (B21 , B22) ))))) by L28 , L29 , L35 , TOPMETR:def 4;
thus L60: thesis by L59 , L38 , L40 , TOPMETR:def 4;
end;
theorem
L61: (for B23 being MetrSpace holds (for B24 being (Subset-Family of B23) holds ((B24 is  finite & B24 is  being_ball-family) implies (ex B25 being (Point of B23) st (ex B26 being Real st ( union B24 ) c= ( Ball (B25 , B26) ))))))
proof
let C16 being MetrSpace;
let C17 being (Subset-Family of C16);
assume that
L62: C17 is  finite
and
L63: C17 is  being_ball-family;
consider C18 being FinSequence such that L64: ( rng C18 ) = C17 by L62 , FINSEQ_1:52;
L65: (for B27 being (Subset-Family of C16) holds ((B27 is  finite & B27 is  being_ball-family) implies (for B28 being Nat holds (for B29 being FinSequence holds ((( rng B29 ) = B27 & ( dom B29 ) = ( Seg B28 )) implies (ex B30 being (Point of C16) st (ex B31 being Real st ( union B27 ) c= ( Ball (B30 , B31) ))))))))
proof
defpred S1[ Nat ] means (for B32 being (Subset-Family of C16) holds ((B32 is  finite & B32 is  being_ball-family) implies (for B33 being Nat holds (B33 = $1 implies (for B34 being FinSequence holds ((( rng B34 ) = B32 & ( dom B34 ) = ( Seg B33 )) implies (ex B35 being (Point of C16) st (ex B36 being Real st ( union B32 ) c= ( Ball (B35 , B36) )))))))));
L66: (for B37 being Nat holds (S1[ B37 ] implies S1[ ( B37 + 1 ) ]))
proof
let C19 being Nat;
assume L67: S1[ C19 ];
let C20 being (Subset-Family of C16);
assume that
L68: C20 is  finite
and
L69: C20 is  being_ball-family;
let C21 being Nat;
assume L70: C21 = ( C19 + 1 );
let C22 being FinSequence;
assume L71: (( rng C22 ) = C20 & ( dom C22 ) = ( Seg C21 ));
consider C23 being (Subset-Family of C16) such that L72: (C23 is  finite & C23 is  being_ball-family) and L73: (ex B38 being FinSequence st (( rng B38 ) = C23 & ( dom B38 ) = ( Seg C19 ) & (ex B39 being (Point of C16) st (ex B40 being Real st ( union C20 ) c= ( ( union C23 ) \/ ( Ball (B39 , B40) ) ))))) by L71 , L69 , L70 , L27;
consider C24 being (Point of C16) such that L74: (ex B41 being Real st ( union C23 ) c= ( Ball (C24 , B41) )) by L67 , L72 , L73;
consider C25 being (Point of C16) such that L75: (ex B42 being Real st ( union C20 ) c= ( ( union C23 ) \/ ( Ball (C25 , B42) ) )) by L73;
consider C26 being Real such that L76: ( union C20 ) c= ( ( union C23 ) \/ ( Ball (C25 , C26) ) ) by L75;
consider C27 being Real such that L77: ( union C23 ) c= ( Ball (C24 , C27) ) by L74;
consider C28 being (Point of C16) such that L78: (ex B43 being Real st ( ( Ball (C24 , C27) ) \/ ( Ball (C25 , C26) ) ) c= ( Ball (C28 , B43) )) by L1;
take C28;
consider C29 being Real such that L79: ( ( Ball (C24 , C27) ) \/ ( Ball (C25 , C26) ) ) c= ( Ball (C28 , C29) ) by L78;
take C29;
L80: ( ( union C23 ) \/ ( Ball (C25 , C26) ) ) c= ( ( Ball (C24 , C27) ) \/ ( Ball (C25 , C26) ) ) by L77 , XBOOLE_1:9;
L81: ( union C20 ) c= ( ( Ball (C24 , C27) ) \/ ( Ball (C25 , C26) ) ) by L80 , L76 , XBOOLE_1:1;
thus L82: thesis by L81 , L79 , XBOOLE_1:1;
end;
L83: S1[ ( 0 ) ]
proof
let C30 being (Subset-Family of C16);
assume that
L84: C30 is  finite
and
L85: C30 is  being_ball-family;
let C31 being Nat;
assume L86: C31 = ( 0 );
L87: ( Seg C31 ) = ( {} ) by L86;
L88: (for B44 being FinSequence holds ((( rng B44 ) = C30 & ( dom B44 ) = ( Seg C31 )) implies (ex B45 being (Point of C16) st (ex B46 being Real st ( union C30 ) c= ( Ball (B45 , B46) )))))
proof
set D7 = the (Point of C16);
let C32 being FinSequence;
assume L89: (( rng C32 ) = C30 & ( dom C32 ) = ( Seg C31 ));
take D7;
take ( 0 );
L90: ( union C30 ) = ( {} ) by L89 , L87 , RELAT_1:42 , ZFMISC_1:2;
thus L91: thesis by L90 , XBOOLE_1:2;
end;
thus L92: thesis by L88;
end;
L93: (for B47 being Nat holds S1[ B47 ]) from NAT_1:sch 2(L83 , L66);
thus L94: thesis by L93;
end;
L95: (ex B48 being Nat st ( dom C18 ) = ( Seg B48 )) by FINSEQ_1:def 2;
thus L96: thesis by L95 , L63 , L65 , L64;
end;
theorem
L97: (for B49 , B50 being non  empty TopSpace holds (for B51 being (Function of B49 , B50) holds (for B52 being (Subset-Family of B50) holds ((B51 is  continuous & B52 is  open) implies ( B51 " B52 ) is  open))))
proof
let C33 , C34 being non  empty TopSpace;
let C35 being (Function of C33 , C34);
let C36 being (Subset-Family of C34);
assume that
L98: C35 is  continuous
and
L99: C36 is  open;
L100: (for B53 being (Subset of C33) holds (B53 in ( C35 " C36 ) implies B53 is  open))
proof
let C37 being (Subset of C33);
assume L101: C37 in ( C35 " C36 );
thus L102: C37 is  open
proof
consider C38 being (Subset of C34) such that L103: C38 in C36 and L104: C37 = ( C35 " C38 ) by L101 , FUNCT_2:def 9;
reconsider D8 = C38 as (Subset of C34);
L105: (( [#] C34 ) <> ( {} ) & D8 is  open) by L99 , L103 , TOPS_2:def 1;
thus L106: thesis by L105 , L98 , L104 , TOPS_2:43;
end;

end;
thus L103: thesis by L100 , TOPS_2:def 1;
end;
theorem
L104: (for B54 , B55 being non  empty TopSpace holds (for B56 being (Function of B54 , B55) holds (for B57 being (Subset-Family of B55) holds (B57 is  finite implies ( B56 " B57 ) is  finite))))
proof
let C39 , C40 being non  empty TopSpace;
let C41 being (Function of C39 , C40);
let C42 being (Subset-Family of C40);
defpred S2[ (Subset of ( [#] C40 )) , (Subset of ( [#] C39 )) ] means (for B58 , B59 being set holds (($1 = B58 & $2 = B59) implies B59 = ( C41 " B58 )));
assume L105: C42 is  finite;
consider C43 being FinSequence such that L106: ( rng C43 ) = C42 by L105 , FINSEQ_1:52;
L107: (for B60 being (Subset of ( [#] C40 )) holds (ex B61 being (Subset of ( [#] C39 )) st S2[ B60 , B61 ]))
proof
let C44 being (Subset of ( [#] C40 ));
reconsider D9 = C44 as set;
set D10 = ( C41 " D9 );
reconsider D11 = D10 as (Subset of ( [#] C39 ));
take D11;
thus L108: thesis;
end;
consider C45 being (Function of ( bool ( [#] C40 ) ) , ( bool ( [#] C39 ) )) such that L109: (for B62 being (Subset of ( [#] C40 )) holds S2[ B62 , (( C45 . B62 ) qua (Subset of ( [#] C39 ))) ]) from FUNCT_2:sch 3(L107);
L110: ( dom C45 ) = ( bool ( [#] C40 ) ) by FUNCT_2:def 1;
reconsider D12 = ( C45 * C43 ) as FinSequence by L110 , L106 , FINSEQ_1:16;
L111: (for B63 being set holds (B63 in ( C45 .: C42 ) iff B63 in ( C41 " C42 )))
proof
let C46 being set;
L112: ( dom C45 ) = ( bool ( [#] C40 ) ) by FUNCT_2:def 1;
thus L113: (C46 in ( C45 .: C42 ) implies C46 in ( C41 " C42 ))
proof
assume L114: C46 in ( C45 .: C42 );
consider C47 being set such that L115: C47 in ( dom C45 ) and L116: (C47 in C42 & C46 = ( C45 . C47 )) by L114 , FUNCT_1:def 6;
reconsider D13 = C47 as (Subset of C40) by L115;
L117: ( C45 . D13 ) = ( C41 " D13 ) by L109;
thus L118: thesis by L117 , L116 , FUNCT_2:def 9;
end;

assume L119: C46 in ( C41 " C42 );
reconsider D14 = C46 as (Subset of C39) by L119;
consider C48 being (Subset of C40) such that L120: C48 in C42 and L121: D14 = ( C41 " C48 ) by L119 , FUNCT_2:def 9;
L122: D14 = ( C45 . C48 ) by L109 , L121;
thus L123: thesis by L122 , L120 , L112 , FUNCT_1:def 6;
end;
L124: ( C45 .: C42 ) = ( C41 " C42 ) by L111 , TARSKI:1;
L125: (ex B64 being FinSequence st ( rng B64 ) = ( C41 " C42 ))
proof
take D12;
thus L126: thesis by L106 , L124 , RELAT_1:127;
end;
thus L127: thesis by L125;
end;
theorem
L128: (for B65 , B66 being non  empty TopSpace holds (for B67 being (Function of B65 , B66) holds (for B68 being (Subset-Family of B65) holds (B68 is  finite implies ( B67 .: B68 ) is  finite))))
proof
let C49 , C50 being non  empty TopSpace;
let C51 being (Function of C49 , C50);
let C52 being (Subset-Family of C49);
defpred S3[ (Subset of ( [#] C49 )) , (Subset of ( [#] C50 )) ] means (for B69 , B70 being set holds (($1 = B69 & $2 = B70) implies B70 = ( C51 .: B69 )));
assume L129: C52 is  finite;
consider C53 being FinSequence such that L130: ( rng C53 ) = C52 by L129 , FINSEQ_1:52;
L131: (for B71 being (Subset of ( [#] C49 )) holds (ex B72 being (Subset of ( [#] C50 )) st S3[ B71 , B72 ]))
proof
let C54 being (Subset of ( [#] C49 ));
reconsider D15 = C54 as set;
set D16 = ( C51 .: D15 );
reconsider D17 = D16 as (Subset of ( [#] C50 ));
take D17;
thus L132: thesis;
end;
consider C55 being (Function of ( bool ( [#] C49 ) ) , ( bool ( [#] C50 ) )) such that L133: (for B73 being (Subset of ( [#] C49 )) holds S3[ B73 , (( C55 . B73 ) qua (Subset of ( [#] C50 ))) ]) from FUNCT_2:sch 3(L131);
L134: ( dom C55 ) = ( bool ( [#] C49 ) ) by FUNCT_2:def 1;
reconsider D18 = ( C55 * C53 ) as FinSequence by L134 , L130 , FINSEQ_1:16;
L135: (for B74 being set holds (B74 in ( C55 .: C52 ) iff B74 in ( C51 .: C52 )))
proof
let C56 being set;
thus L136: (C56 in ( C55 .: C52 ) implies C56 in ( C51 .: C52 ))
proof
assume L137: C56 in ( C55 .: C52 );
consider C57 being set such that L138: C57 in ( dom C55 ) and L139: (C57 in C52 & C56 = ( C55 . C57 )) by L137 , FUNCT_1:def 6;
reconsider D19 = C57 as (Subset of C49) by L138;
L140: ( C55 . D19 ) = ( C51 .: D19 ) by L133;
thus L141: thesis by L140 , L139 , FUNCT_2:def 10;
end;

thus L142: (C56 in ( C51 .: C52 ) implies C56 in ( C55 .: C52 ))
proof
assume L143: C56 in ( C51 .: C52 );
reconsider D20 = C56 as (Subset of C50) by L143;
consider C58 being (Subset of C49) such that L144: C58 in C52 and L145: D20 = ( C51 .: C58 ) by L143 , FUNCT_2:def 10;
L146: ( dom C55 ) = ( bool ( [#] C49 ) ) by FUNCT_2:def 1;
L147: D20 = ( C55 . C58 ) by L133 , L145;
thus L148: thesis by L147 , L144 , L146 , FUNCT_1:def 6;
end;

end;
L143: ( C55 .: C52 ) = ( C51 .: C52 ) by L135 , TARSKI:1;
L144: (ex B75 being FinSequence st ( rng B75 ) = ( C51 .: C52 ))
proof
take D18;
thus L145: thesis by L130 , L143 , RELAT_1:127;
end;
thus L146: thesis by L144;
end;
theorem
L147: (for B76 , B77 being non  empty TopSpace holds (for B78 being (Function of B76 , B77) holds (for B79 being (Subset of B76) holds (for B80 being (Subset-Family of B77) holds ((ex B81 being (Subset-Family of B76) st (B81 c= ( B78 " B80 ) & B81 is (Cover of B79) & B81 is  finite)) implies (ex B82 being (Subset-Family of B77) st (B82 c= B80 & B82 is (Cover of ( B78 .: B79 )) & B82 is  finite)))))))
proof
let C59 , C60 being non  empty TopSpace;
let C61 being (Function of C59 , C60);
let C62 being (Subset of C59);
let C63 being (Subset-Family of C60);
given C64 being (Subset-Family of C59) such that
L148: C64 c= ( C61 " C63 )
and
L149: C64 is (Cover of C62)
and
L150: C64 is  finite;

L151: C62 c= ( union C64 ) by L149 , SETFAM_1:def 11;
L152:
now
per cases ;
case L153: C62 <> ( {} );
thus L154: (ex B83 being (Subset-Family of C60) st (B83 c= C63 & B83 is (Cover of ( C61 .: C62 )) & B83 is  finite))
proof
consider C65 being FinSequence such that L155: ( rng C65 ) = C64 by L150 , FINSEQ_1:52;
L156: C64 <> ( {} ) by L151 , L153 , ZFMISC_1:2;
consider C66 being non  empty set such that L157: C66 = C64 by L156;
defpred S4[ (Element of C66) , (Subset of ( [#] C60 )) ] means (for B84 being (Element of C66) holds ($1 = B84 implies (for B85 being (Subset of ( [#] C60 )) holds ($2 = B85 implies (B85 in C63 & B84 = ( C61 " B85 ))))));
L158: (for B86 being (Element of C66) holds (ex B87 being (Subset of ( [#] C60 )) st S4[ B86 , B87 ]))
proof
let C67 being (Element of C66);
L159: C67 in C64 by L157;
reconsider D21 = C67 as (Subset of C59) by L159;
consider C68 being (Subset of C60) such that L160: (C68 in C63 & D21 = ( C61 " C68 )) by L148 , L159 , FUNCT_2:def 9;
reconsider D22 = C68 as (Subset of ( [#] C60 ));
take D22;
thus L161: thesis by L160;
end;
consider C69 being (Function of C66 , ( bool ( [#] C60 ) )) such that L162: (for B88 being (Element of C66) holds S4[ B88 , (( C69 . B88 ) qua (Subset of ( [#] C60 ))) ]) from FUNCT_2:sch 3(L158);
L163: (for B89 being (Element of C66) holds (( C69 . B89 ) in C63 & B89 = ( C61 " ( C69 . B89 ) ))) by L162;
reconsider D23 = C69 as (Function of C64 , ( bool ( [#] C60 ) )) by L157;
L164: ( dom D23 ) = C64 by FUNCT_2:def 1;
reconsider D24 = ( D23 * C65 ) as FinSequence by L164 , L155 , FINSEQ_1:16;
set D25 = ( rng D24 );
L165: D25 c= C63
proof
let C70 being set;
assume L166: C70 in D25;
consider C71 being set such that L167: (C71 in ( dom D24 ) & C70 = ( D24 . C71 )) by L166 , FUNCT_1:def 3;
L168: (( C65 . C71 ) in C64 & C70 = ( D23 . ( C65 . C71 ) )) by L164 , L167 , FUNCT_1:11 , FUNCT_1:12;
thus L169: thesis by L168 , L157 , L163;
end;
reconsider D26 = D25 as (Subset-Family of C60) by L165 , XBOOLE_1:1;
reconsider D27 = D26 as (Subset-Family of C60);
take D27;
L170: (for B90 being set holds (B90 in ( C61 .: C62 ) implies B90 in ( union D27 )))
proof
let C72 being set;
assume L171: C72 in ( C61 .: C62 );
L172: (ex B91 being set st (C72 in B91 & B91 in D27))
proof
consider C73 being set such that L173: C73 in ( dom C61 ) and L174: C73 in C62 and L175: C72 = ( C61 . C73 ) by L171 , FUNCT_1:def 6;
consider C74 being set such that L176: C73 in C74 and L177: C74 in C64 by L151 , L174 , TARSKI:def 4;
L178: C74 = ( C61 " ( D23 . C74 ) ) by L157 , L163 , L177;
L179: C72 in ( C61 .: ( C61 " ( D23 . C74 ) ) ) by L178 , L173 , L175 , L176 , FUNCT_1:def 6;
set D28 = ( D23 . C74 );
take D28;
L180: (( C61 .: ( C61 " ( D23 . C74 ) ) ) c= ( D23 . C74 ) & D27 = ( rng D23 )) by L155 , L164 , FUNCT_1:75 , RELAT_1:28;
thus L181: thesis by L180 , L177 , L179 , FUNCT_2:4;
end;
thus L182: thesis by L172 , TARSKI:def 4;
end;
L183: ( C61 .: C62 ) c= ( union D27 ) by L170 , TARSKI:def 3;
thus L184: thesis by L183 , L165 , SETFAM_1:def 11;
end;

thus L185: thesis by L154;
end;
case L186: C62 = ( {} );
L187: (ex B92 being (Subset-Family of C60) st (B92 c= C63 & B92 is (Cover of ( C61 .: C62 )) & B92 is  finite))
proof
set D29 = ( {} );
reconsider D30 = D29 as (Subset-Family of C60) by XBOOLE_1:2;
reconsider D31 = D30 as (Subset-Family of C60);
take D31;
L188: ( C61 .: C62 ) = ( {} )
proof
assume L189: ( C61 .: C62 ) <> ( {} );
consider C75 being set such that L190: C75 in ( C61 .: C62 ) by L189 , XBOOLE_0:def 1;
L191: (ex B93 being set st (B93 in ( dom C61 ) & B93 in C62 & C75 = ( C61 . B93 ))) by L190 , FUNCT_1:def 6;
thus L192: contradiction by L191 , L186;
end;
thus L193: thesis by L188 , SETFAM_1:def 11 , XBOOLE_1:2 , ZFMISC_1:2;
end;
thus L194: thesis by L187;
end;
end;
thus L196: thesis by L152;
end;
begin
theorem
L197: (for B94 , B95 being non  empty TopSpace holds (for B96 being (Function of B94 , B95) holds (for B97 being (Subset of B94) holds ((B97 is  compact & B96 is  continuous) implies ( B96 .: B97 ) is  compact))))
proof
let C76 , C77 being non  empty TopSpace;
let C78 being (Function of C76 , C77);
let C79 being (Subset of C76);
assume that
L198: C79 is  compact
and
L199: C78 is  continuous;
L200: C79 c= ( [#] C76 );
L201: C79 c= ( dom C78 ) by L200 , FUNCT_2:def 1;
L202: (for B98 being (Subset-Family of C77) holds ((B98 is (Cover of ( C78 .: C79 )) & B98 is  open) implies (ex B99 being (Subset-Family of C77) st (B99 c= B98 & B99 is (Cover of ( C78 .: C79 )) & B99 is  finite))))
proof
let C80 being (Subset-Family of C77);
assume that
L203: C80 is (Cover of ( C78 .: C79 ))
and
L204: C80 is  open;
set D32 = ( C78 " C80 );
L205: ( C78 .: C79 ) c= ( union C80 ) by L203 , SETFAM_1:def 11;
L206: C79 c= ( union D32 )
proof
let C81 being set;
thus L207: (C81 in C79 implies C81 in ( union D32 ))
proof
L208: ( C78 " ( union C80 ) ) c= ( union ( C78 " C80 ) )
proof
let C82 being set;
assume L209: C82 in ( C78 " ( union C80 ) );
thus L210: C82 in ( union ( C78 " C80 ) )
proof
L211: ( C78 . C82 ) in ( union C80 ) by L209 , FUNCT_1:def 7;
consider C83 being set such that L212: (( C78 . C82 ) in C83 & C83 in C80) by L211 , TARSKI:def 4;
L213: C82 in ( dom C78 ) by L209 , FUNCT_1:def 7;
L214: (ex B100 being set st (C82 in B100 & B100 in ( C78 " C80 )))
proof
set D33 = ( C78 " C83 );
take D33;
thus L215: thesis by L213 , L212 , FUNCT_1:def 7 , FUNCT_2:def 9;
end;
thus L216: thesis by L214 , TARSKI:def 4;
end;

end;
assume L211: C81 in C79;
L212: ( C78 . C81 ) in ( C78 .: C79 ) by L211 , L201 , FUNCT_1:def 6;
reconsider D34 = C81 as (Point of C76) by L211;
L213: ( C78 . D34 ) in ( union C80 ) by L205 , L212;
L214: ( C78 " { ( C78 . D34 ) } ) c= ( C78 " ( union C80 ) )
proof
let C84 being set;
assume L215: C84 in ( C78 " { ( C78 . D34 ) } );
L216: ( C78 . C84 ) in { ( C78 . D34 ) } by L215 , FUNCT_1:def 7;
L217: ( C78 . C84 ) in ( union C80 ) by L216 , L213 , TARSKI:def 1;
L218: C84 in ( dom C78 ) by L215 , FUNCT_1:def 7;
thus L219: thesis by L218 , L217 , FUNCT_1:def 7;
end;
L220: ( C78 . D34 ) in { ( C78 . D34 ) } by TARSKI:def 1;
L221: D34 in ( C78 " { ( C78 . D34 ) } ) by L220 , L201 , L211 , FUNCT_1:def 7;
L222: D34 in ( C78 " ( union C80 ) ) by L221 , L214;
thus L223: thesis by L222 , L208;
end;

end;
L208: D32 is (Cover of C79) by L206 , SETFAM_1:def 11;
L209: D32 is  open by L199 , L204 , L97;
L210: (ex B101 being (Subset-Family of C76) st (B101 c= D32 & B101 is (Cover of C79) & B101 is  finite)) by L209 , L198 , L208 , COMPTS_1:def 4;
consider C85 being (Subset-Family of C77) such that L211: (C85 c= C80 & C85 is (Cover of ( C78 .: C79 )) & C85 is  finite) by L210 , L147;
take C85;
thus L212: thesis by L211;
end;
thus L213: thesis by L202 , COMPTS_1:def 4;
end;
theorem
L214: (for B102 being non  empty TopSpace holds (for B103 being (Function of B102 , ( R^1 )) holds (for B104 being (Subset of B102) holds ((B104 is  compact & B103 is  continuous) implies ( B103 .: B104 ) is  compact)))) by L197;
theorem
L215: (for B105 being (Function of ( TOP-REAL 2 ) , ( R^1 )) holds (for B106 being (Subset of ( TOP-REAL 2 )) holds ((B106 is  compact & B105 is  continuous) implies ( B105 .: B106 ) is  compact))) by L197;
definition
let C86 being (Subset of ( R^1 ));
func [#] C86 -> (Subset of ( REAL )) equals 
C86;
correctness by TOPMETR:17;
end;
theorem
L217: (for B107 being (Subset of ( R^1 )) holds (B107 is  compact implies ( [#] B107 ) is  real-bounded))
proof
let C87 being (Subset of ( R^1 ));
assume L218: C87 is  compact;
thus L219: ( [#] C87 ) is  real-bounded
proof
L220:
now
per cases ;
case L221: ( [#] C87 ) <> ( {} );
set D35 = 1;
defpred S5[ (Subset of ( R^1 )) ] means (ex B108 being (Point of ( RealSpace )) st (B108 in ( [#] C87 ) & $1 = ( Ball (B108 , D35) )));
consider C88 being (Subset-Family of ( R^1 )) such that L222: (for B109 being (Subset of ( R^1 )) holds (B109 in C88 iff S5[ B109 ])) from SUBSET_1:sch 3;
L223: (for B110 being set holds (B110 in ( [#] C87 ) implies B110 in ( union C88 )))
proof
let C89 being set;
assume L224: C89 in ( [#] C87 );
reconsider D36 = C89 as (Point of ( RealSpace )) by L224 , METRIC_1:def 13;
consider C90 being (Subset of ( RealSpace )) such that L225: C90 = ( Ball (D36 , D35) );
L226: ( R^1 ) = TopStruct (# (the carrier of ( RealSpace )) , ( Family_open_set ( RealSpace ) ) #) by PCOMPS_1:def 5 , TOPMETR:def 6;
reconsider D37 = C90 as (Subset of ( R^1 )) by L226;
L227: (ex B111 being set st (D36 in B111 & B111 in C88))
proof
take D37;
L228: ( dist (D36 , D36) ) = ( 0 ) by METRIC_1:1;
thus L229: thesis by L228 , L222 , L224 , L225 , METRIC_1:11;
end;
thus L230: thesis by L227 , TARSKI:def 4;
end;
L231: ( [#] C87 ) c= ( union C88 ) by L223 , TARSKI:def 3;
L232: C88 is (Cover of C87) by L231 , SETFAM_1:def 11;
L233: (for B112 being (Subset of ( R^1 )) holds (B112 in C88 implies B112 is  open))
proof
let C91 being (Subset of ( R^1 ));
assume L234: C91 in C88;
L235: (ex B113 being (Point of ( RealSpace )) st (B113 in ( [#] C87 ) & C91 = ( Ball (B113 , D35) ))) by L234 , L222;
thus L236: thesis by L235 , TOPMETR:14 , TOPMETR:def 6;
end;
L237: C88 is  open by L233 , TOPS_2:def 1;
consider C92 being (Subset-Family of ( R^1 )) such that L238: C92 c= C88 and L239: C92 is (Cover of C87) and L240: C92 is  finite by L237 , L218 , L232 , COMPTS_1:def 4;
L241: C87 c= ( union C92 ) by L239 , SETFAM_1:def 11;
L242: (for B114 being set holds (B114 in C92 implies (ex B115 being (Point of ( RealSpace )) st (ex B116 being Real st B114 = ( Ball (B115 , B116) )))))
proof
let C93 being set;
assume L243: C93 in C92;
reconsider D38 = C93 as (Subset of ( R^1 )) by L243;
consider C94 being (Point of ( RealSpace )) such that L244: C94 in ( [#] C87 ) and L245: D38 = ( Ball (C94 , D35) ) by L222 , L238 , L243;
take C94;
take D35;
thus L246: thesis by L245;
end;
L247: ( R^1 ) = TopStruct (# (the carrier of ( RealSpace )) , ( Family_open_set ( RealSpace ) ) #) by PCOMPS_1:def 5 , TOPMETR:def 6;
reconsider D39 = C92 as (Subset-Family of ( RealSpace )) by L247;
L248: D39 is  being_ball-family by L242 , TOPMETR:def 4;
consider C95 being (Point of ( RealSpace )) such that L249: (ex B117 being Real st ( union D39 ) c= ( Ball (C95 , B117) )) by L248 , L240 , L61;
consider C96 being Real such that L250: ( union D39 ) c= ( Ball (C95 , C96) ) by L249;
L251: ( [#] C87 ) c= ( Ball (C95 , C96) ) by L241 , L250 , XBOOLE_1:1;
reconsider D40 = C95 as Real by METRIC_1:def 13;
L252: (for B118 being Real holds (B118 in ( [#] C87 ) implies (( D40 - C96 ) <= B118 & B118 <= ( D40 + C96 ))))
proof
let C97 being Real;
reconsider D41 = D40 , D42 = C97 as (Element of ( RealSpace )) by METRIC_1:def 13;
assume L253: C97 in ( [#] C87 );
L254: ( dist (D41 , D42) ) < C96 by L253 , L251 , METRIC_1:11;
L255: ( abs ( D40 - C97 ) ) < C96 by L254 , TOPMETR:11;
L256: ( - C96 ) <= ( D40 - C97 ) by L255 , ABSVALUE:5;
L257: ( ( - C96 ) + C97 ) <= D40 by L256 , XREAL_1:19;
L258: C97 <= ( D40 - ( - C96 ) ) by L257 , XREAL_1:19;
L259: ( D40 - C97 ) <= C96 by L255 , ABSVALUE:5;
L260: D40 <= ( C97 + C96 ) by L259 , XREAL_1:20;
thus L261: thesis by L260 , L258 , XREAL_1:20;
end;
L262: ( D40 - C96 ) is (LowerBound of ( [#] C87 ))
proof
let C98 being  ext-real number;
thus L263: thesis by L252;
end;
L264: ( [#] C87 ) is  bounded_below by L262 , XXREAL_2:def 9;
L265: ( D40 + C96 ) is (UpperBound of ( [#] C87 ))
proof
let C99 being  ext-real number;
thus L266: thesis by L252;
end;
L267: ( [#] C87 ) is  bounded_above by L265 , XXREAL_2:def 10;
thus L268: thesis by L267 , L264 , XXREAL_2:def 11;
end;
case L269: ( [#] C87 ) = ( {} );
L270: ( 0 ) is (LowerBound of ( [#] C87 ))
proof
let C100 being  ext-real number;
thus L271: thesis by L269;
end;
L272: ( [#] C87 ) is  bounded_below by L270 , XXREAL_2:def 9;
L273: ( 0 ) is (UpperBound of ( [#] C87 ))
proof
let C101 being  ext-real number;
thus L274: thesis by L269;
end;
L275: ( [#] C87 ) is  bounded_above by L273 , XXREAL_2:def 10;
thus L276: thesis by L275 , L272 , XXREAL_2:def 11;
end;
end;
thus L278: thesis by L220;
end;

end;
theorem
L220: (for B119 being (Subset of ( R^1 )) holds (B119 is  compact implies ( [#] B119 ) is  closed))
proof
let C102 being (Subset of ( R^1 ));
assume L221: C102 is  compact;
L222:
now
per cases ;
case L223: ( [#] C102 ) <> ( {} );
L224: ( R^1 ) is  T_2 by PCOMPS_1:34 , TOPMETR:def 6;
L225: (for B120 being Real_Sequence holds ((( rng B120 ) c= ( [#] C102 ) & B120 is  convergent) implies ( lim B120 ) in ( [#] C102 )))
proof
let C103 being Real_Sequence;
assume that
L226: ( rng C103 ) c= ( [#] C102 )
and
L227: C103 is  convergent;
set D43 = ( lim C103 );
reconsider D44 = D43 as (Point of ( R^1 )) by TOPMETR:17;
thus L228: ( lim C103 ) in ( [#] C102 )
proof
assume L229: (not ( lim C103 ) in ( [#] C102 ));
L230: D44 in ( C102 ` ) by L229 , SUBSET_1:29;
consider C104 , C105 being (Subset of ( R^1 )) such that L231: C104 is  open and L232: C105 is  open and L233: D44 in C104 and L234: (C102 c= C105 & C104 misses C105) by L230 , L221 , L223 , L224 , COMPTS_1:6;
L235: ( R^1 ) = TopStruct (# (the carrier of ( RealSpace )) , ( Family_open_set ( RealSpace ) ) #) by PCOMPS_1:def 5 , TOPMETR:def 6;
reconsider D45 = D44 as (Point of ( RealSpace )) by L235;
consider C106 being  real number such that L236: C106 > ( 0 ) and L237: ( Ball (D45 , C106) ) c= C104 by L231 , L233 , TOPMETR:15 , TOPMETR:def 6;
reconsider D46 = C106 as Real by XREAL_0:def 1;
L238: ( Ball (D45 , D46) ) = { B121 where B121 is (Element of ( RealSpace )) : ( dist (D45 , B121) ) < D46 } by METRIC_1:17;
L239: ( rng C103 ) misses C104 by L226 , L234 , XBOOLE_1:1 , XBOOLE_1:63;
L240: ( Ball (D45 , D46) ) misses ( rng C103 ) by L239 , L237 , XBOOLE_1:63;
L241: (not (ex B122 being (Element of ( NAT )) st (for B123 being (Element of ( NAT )) holds (B122 <= B123 implies ( abs ( ( C103 . B123 ) - ( lim C103 ) ) ) < D46))))
proof
given C107 being (Element of ( NAT )) such that
L242: (for B124 being (Element of ( NAT )) holds (C107 <= B124 implies ( abs ( ( C103 . B124 ) - ( lim C103 ) ) ) < D46));

set D47 = ( C107 + 1 );
L243: ( abs ( ( C103 . D47 ) - ( lim C103 ) ) ) < D46 by L242 , NAT_1:11;
L244: ( ( real_dist ) . (( C103 . D47 ) , ( lim C103 )) ) < D46 by L243 , METRIC_1:def 12;
L245: ( ( real_dist ) . (( lim C103 ) , ( C103 . D47 )) ) < D46 by L244 , METRIC_1:9;
reconsider D48 = ( C103 . D47 ) as (Element of ( RealSpace )) by L235 , TOPMETR:17;
L246: ( C103 . D47 ) in ( rng C103 ) by FUNCT_2:4;
L247: ( dist (D45 , D48) ) = ( (the distance of ( RealSpace )) . (D45 , D48) ) by METRIC_1:def 1;
L248: D48 in ( Ball (D45 , D46) ) by L247 , L238 , L245 , METRIC_1:def 13;
L249: D48 in ( ( Ball (D45 , D46) ) /\ ( rng C103 ) ) by L248 , L246 , XBOOLE_0:def 4;
thus L250: thesis by L249 , L240 , XBOOLE_0:def 7;
end;
thus L251: thesis by L241 , L227 , L236 , SEQ_2:def 7;
end;

end;
thus L229: thesis by L225 , RCOMP_1:def 4;
end;
case L230: ( [#] C102 ) = ( {} );
L231: (for B125 being Real_Sequence holds ((( rng B125 ) c= ( [#] C102 ) & B125 is  convergent) implies ( lim B125 ) in ( [#] C102 )))
proof
let C108 being Real_Sequence;
assume that
L232: ( rng C108 ) c= ( [#] C102 )
and
L233: C108 is  convergent;
L234: (ex B126 being set st B126 in ( NAT )) by XBOOLE_0:def 1;
thus L235: thesis by L234 , L230 , L232 , FUNCT_2:4;
end;
thus L236: thesis by L231 , RCOMP_1:def 4;
end;
end;
thus L238: thesis by L222;
end;
theorem
L239: (for B127 being (Subset of ( R^1 )) holds (B127 is  compact implies ( [#] B127 ) is  compact))
proof
let C109 being (Subset of ( R^1 ));
assume L240: C109 is  compact;
L241:
now
per cases ;
case L242: ( [#] C109 ) <> ( {} );
L243: ( [#] C109 ) is  real-bounded by L240 , L217;
thus L244: thesis by L243 , L240 , L220 , RCOMP_1:11;
end;
case L245: ( [#] C109 ) = ( {} );
assume L246: (not ( [#] C109 ) is  compact);
L247: (ex B128 being Real_Sequence st (( rng B128 ) c= ( [#] C109 ) & (not (ex B129 being Real_Sequence st (B129 is (subsequence of B128) & B129 is  convergent & ( lim B129 ) in ( [#] C109 )))))) by L246 , RCOMP_1:def 3;
L248: (ex B130 being set st B130 in ( NAT )) by XBOOLE_0:def 1;
thus L249: thesis by L248 , L245 , L247 , FUNCT_2:4;
end;
end;
thus L251: thesis by L241;
end;
L252: (for B131 being non  empty TopSpace holds (for B132 being (Function of B131 , ( R^1 )) holds (for B133 being (Subset of B131) holds ((B133 <> ( {} ) & B133 is  compact & B132 is  continuous) implies (ex B134 , B135 being (Point of B131) st (B134 in B133 & B135 in B133 & ( B132 . B134 ) = ( upper_bound ( [#] ( B132 .: B133 ) ) ) & ( B132 . B135 ) = ( lower_bound ( [#] ( B132 .: B133 ) ) )))))))
proof
let C110 being non  empty TopSpace;
let C111 being (Function of C110 , ( R^1 ));
let C112 being (Subset of C110);
assume that
L253: C112 <> ( {} )
and
L254: (C112 is  compact & C111 is  continuous);
L255: ( [#] ( C111 .: C112 ) ) <> ( {} )
proof
consider C113 being set such that L256: C113 in C112 by L253 , XBOOLE_0:def 1;
L257: ( dom C111 ) = (the carrier of C110) by FUNCT_2:def 1;
L258: ( C111 . C113 ) in ( C111 .: C112 ) by L257 , L256 , FUNCT_1:def 6;
thus L259: thesis by L258;
end;
consider C114 , C115 being Real such that L260: C114 = ( upper_bound ( [#] ( C111 .: C112 ) ) ) and L261: C115 = ( lower_bound ( [#] ( C111 .: C112 ) ) );
L262: ( [#] ( C111 .: C112 ) ) is  compact by L254 , L197 , L239;
L263: C114 in ( [#] ( C111 .: C112 ) ) by L262 , L255 , L260 , RCOMP_1:14;
consider C116 being set such that L264: C116 in ( dom C111 ) and L265: (C116 in C112 & C114 = ( C111 . C116 )) by L263 , FUNCT_1:def 6;
L266: C115 in ( [#] ( C111 .: C112 ) ) by L255 , L261 , L262 , RCOMP_1:14;
consider C117 being set such that L267: C117 in ( dom C111 ) and L268: (C117 in C112 & C115 = ( C111 . C117 )) by L266 , FUNCT_1:def 6;
reconsider D49 = C116 , D50 = C117 as (Point of C110) by L264 , L267;
take D49;
take D50;
thus L269: thesis by L260 , L261 , L265 , L268;
end;
definition
let C118 being (Subset of ( R^1 ));
func upper_bound C118 -> Real equals 
( upper_bound ( [#] C118 ) );
correctness;
func lower_bound C118 -> Real equals 
( lower_bound ( [#] C118 ) );
correctness;
end;
theorem
L271: (for B136 being non  empty TopSpace holds (for B137 being (Function of B136 , ( R^1 )) holds (for B138 being (Subset of B136) holds ((B138 <> ( {} ) & B138 is  compact & B137 is  continuous) implies (ex B139 being (Point of B136) st (B139 in B138 & ( B137 . B139 ) = ( upper_bound ( B137 .: B138 ) )))))))
proof
let C119 being non  empty TopSpace;
let C120 being (Function of C119 , ( R^1 ));
let C121 being (Subset of C119);
assume L272: (C121 <> ( {} ) & C121 is  compact & C120 is  continuous);
consider C122 , C123 being (Point of C119) such that L273: C122 in C121 and L274: C123 in C121 and L275: ( C120 . C122 ) = ( upper_bound ( [#] ( C120 .: C121 ) ) ) and L276: ( C120 . C123 ) = ( lower_bound ( [#] ( C120 .: C121 ) ) ) by L272 , L252;
take C122;
thus L277: thesis by L273 , L275;
end;
::$N Weierstrass Theorem
theorem
L278: (for B140 being non  empty TopSpace holds (for B141 being (Function of B140 , ( R^1 )) holds (for B142 being (Subset of B140) holds ((B142 <> ( {} ) & B142 is  compact & B141 is  continuous) implies (ex B143 being (Point of B140) st (B143 in B142 & ( B141 . B143 ) = ( lower_bound ( B141 .: B142 ) )))))))
proof
let C124 being non  empty TopSpace;
let C125 being (Function of C124 , ( R^1 ));
let C126 being (Subset of C124);
assume L279: (C126 <> ( {} ) & C126 is  compact & C125 is  continuous);
consider C127 , C128 being (Point of C124) such that L280: C127 in C126 and L281: C128 in C126 and L282: ( C125 . C127 ) = ( upper_bound ( [#] ( C125 .: C126 ) ) ) and L283: ( C125 . C128 ) = ( lower_bound ( [#] ( C125 .: C126 ) ) ) by L279 , L252;
take C128;
thus L284: thesis by L281 , L283;
end;
begin
definition
let C129 being non  empty MetrSpace;
let C130 being (Point of C129);
func dist C130 -> (Function of ( TopSpaceMetr C129 ) , ( R^1 )) means 
:L285: (for B144 being (Point of C129) holds ( it . B144 ) = ( dist (B144 , C130) ));
existence
proof
defpred S6[ (Element of C129) , (Element of ( R^1 )) ] means (for B145 being (Element of C129) holds (for B146 being (Element of ( R^1 )) holds (($1 = B145 & $2 = B146) implies B146 = ( dist (B145 , C130) ))));
L286: (for B147 being (Element of C129) holds (ex B148 being (Element of ( R^1 )) st S6[ B147 , B148 ]))
proof
let C131 being (Element of C129);
consider C132 being Real such that L287: C132 = ( dist (C131 , C130) );
reconsider D51 = C132 as (Element of ( R^1 )) by TOPMETR:17;
take D51;
thus L288: thesis by L287;
end;
consider C133 being (Function of (the carrier of C129) , (the carrier of ( R^1 ))) such that L289: (for B149 being (Element of C129) holds S6[ B149 , ( C133 . B149 ) ]) from FUNCT_2:sch 3(L286);
L290: (for B150 being (Point of C129) holds ( C133 . B150 ) = ( dist (B150 , C130) )) by L289;
L291: ( TopSpaceMetr C129 ) = TopStruct (# (the carrier of C129) , ( Family_open_set C129 ) #) by PCOMPS_1:def 5;
reconsider D52 = C133 as (Function of ( TopSpaceMetr C129 ) , ( R^1 )) by L291;
take D52;
thus L292: thesis by L290;
end;
uniqueness
proof
let C134 , C135 being (Function of ( TopSpaceMetr C129 ) , ( R^1 ));
assume L293: (for B151 being (Point of C129) holds ( C134 . B151 ) = ( dist (B151 , C130) ));
assume L294: (for B152 being (Point of C129) holds ( C135 . B152 ) = ( dist (B152 , C130) ));
L295: (for B153 being set holds (B153 in (the carrier of ( TopSpaceMetr C129 )) implies ( C134 . B153 ) = ( C135 . B153 )))
proof
let C136 being set;
L296: ( TopSpaceMetr C129 ) = TopStruct (# (the carrier of C129) , ( Family_open_set C129 ) #) by PCOMPS_1:def 5;
assume L297: C136 in (the carrier of ( TopSpaceMetr C129 ));
reconsider D53 = C136 as (Point of C129) by L297 , L296;
L298: ( C134 . D53 ) = ( dist (D53 , C130) ) by L293
.= ( C135 . D53 ) by L294;
thus L299: thesis by L298;
end;
thus L300: thesis by L295 , FUNCT_2:12;
end;
end;
theorem
L302: (for B154 being non  empty MetrSpace holds (for B155 being (Point of B154) holds ( dist B155 ) is  continuous))
proof
let C137 being non  empty MetrSpace;
let C138 being (Point of C137);
L303: (for B156 being (Subset of ( R^1 )) holds (B156 is  open implies ( ( dist C138 ) " B156 ) is  open))
proof
let C139 being (Subset of ( R^1 ));
assume L304: C139 is  open;
L305: (for B157 being (Point of C137) holds (B157 in ( ( dist C138 ) " C139 ) implies (ex B158 being  real number st (B158 > ( 0 ) & ( Ball (B157 , B158) ) c= ( ( dist C138 ) " C139 )))))
proof
let C140 being (Point of C137);
consider C141 being (Point of ( RealSpace )) such that L306: C141 = ( dist (C140 , C138) ) by METRIC_1:def 13;
assume L307: C140 in ( ( dist C138 ) " C139 );
L308: ( ( dist C138 ) . C140 ) in C139 by L307 , FUNCT_1:def 7;
reconsider D54 = C139 as (Subset of ( TopSpaceMetr ( RealSpace ) )) by TOPMETR:def 6;
L309: C141 in D54 by L308 , L306 , L285;
consider C142 being  real number such that L310: C142 > ( 0 ) and L311: ( Ball (C141 , C142) ) c= D54 by L309 , L304 , TOPMETR:15 , TOPMETR:def 6;
reconsider D55 = C142 as Real by XREAL_0:def 1;
take D55;
L312: ( Ball (C140 , D55) ) c= ( ( dist C138 ) " D54 )
proof
let C143 being set;
assume L313: C143 in ( Ball (C140 , D55) );
reconsider D56 = C143 as (Point of C137) by L313;
consider C144 being (Point of ( RealSpace )) such that L314: C144 = ( dist (D56 , C138) ) by METRIC_1:def 13;
L315: ( dist (C140 , D56) ) < D55 by L313 , METRIC_1:11;
L316: ( ( abs ( ( dist (C140 , C138) ) - ( dist (D56 , C138) ) ) ) + ( dist (C140 , D56) ) ) < ( D55 + ( dist (C140 , D56) ) ) by L315 , METRIC_6:1 , XREAL_1:8;
L317: ( abs ( ( dist (C140 , C138) ) - ( dist (D56 , C138) ) ) ) < D55 by L316 , XREAL_1:6;
L318: ( dist (C141 , C144) ) < D55 by L317 , L306 , L314 , TOPMETR:11;
L319: C144 in ( Ball (C141 , D55) ) by L318 , METRIC_1:11;
L320: C144 in D54 by L319 , L311;
L321: ( ( dist C138 ) . D56 ) in D54 by L320 , L314 , L285;
L322: ( dom ( dist C138 ) ) = (the carrier of ( TopSpaceMetr C137 )) by FUNCT_2:def 1;
L323: ( dom ( dist C138 ) ) = (the carrier of C137) by L322 , TOPMETR:12;
thus L324: thesis by L323 , L321 , FUNCT_1:def 7;
end;
thus L325: thesis by L312 , L310;
end;
thus L326: ( ( dist C138 ) " C139 ) is  open by L305 , TOPMETR:15;
end;
L327: ( [#] ( R^1 ) ) <> ( {} );
thus L328: thesis by L327 , L303 , TOPS_2:43;
end;
theorem
L329: (for B159 being non  empty MetrSpace holds (for B160 being (Point of B159) holds (for B161 being (Subset of ( TopSpaceMetr B159 )) holds ((B161 <> ( {} ) & B161 is  compact) implies (ex B162 being (Point of ( TopSpaceMetr B159 )) st (B162 in B161 & ( ( dist B160 ) . B162 ) = ( upper_bound ( ( dist B160 ) .: B161 ) ))))))) by L271 , L302;
theorem
L330: (for B163 being non  empty MetrSpace holds (for B164 being (Point of B163) holds (for B165 being (Subset of ( TopSpaceMetr B163 )) holds ((B165 <> ( {} ) & B165 is  compact) implies (ex B166 being (Point of ( TopSpaceMetr B163 )) st (B166 in B165 & ( ( dist B164 ) . B166 ) = ( lower_bound ( ( dist B164 ) .: B165 ) ))))))) by L278 , L302;
definition
let C145 being non  empty MetrSpace;
let C146 being (Subset of ( TopSpaceMetr C145 ));
func dist_max C146 -> (Function of ( TopSpaceMetr C145 ) , ( R^1 )) means 
:L331: (for B167 being (Point of C145) holds ( it . B167 ) = ( upper_bound ( ( dist B167 ) .: C146 ) ));
existence
proof
defpred S7[ (Element of C145) , (Element of ( R^1 )) ] means (for B168 being (Element of C145) holds (for B169 being (Element of ( R^1 )) holds (($1 = B168 & $2 = B169) implies B169 = ( upper_bound ( ( dist B168 ) .: C146 ) ))));
L332: (for B170 being (Element of C145) holds (ex B171 being (Element of ( R^1 )) st S7[ B170 , B171 ]))
proof
let C147 being (Element of C145);
consider C148 being Real such that L333: C148 = ( upper_bound ( ( dist C147 ) .: C146 ) );
reconsider D57 = C148 as (Element of ( R^1 )) by TOPMETR:17;
take D57;
thus L334: thesis by L333;
end;
consider C149 being (Function of (the carrier of C145) , (the carrier of ( R^1 ))) such that L335: (for B172 being (Element of C145) holds S7[ B172 , ( C149 . B172 ) ]) from FUNCT_2:sch 3(L332);
L336: (for B173 being (Point of C145) holds ( C149 . B173 ) = ( upper_bound ( ( dist B173 ) .: C146 ) )) by L335;
L337: ( TopSpaceMetr C145 ) = TopStruct (# (the carrier of C145) , ( Family_open_set C145 ) #) by PCOMPS_1:def 5;
reconsider D58 = C149 as (Function of ( TopSpaceMetr C145 ) , ( R^1 )) by L337;
take D58;
thus L338: thesis by L336;
end;
uniqueness
proof
let C150 , C151 being (Function of ( TopSpaceMetr C145 ) , ( R^1 ));
assume L339: (for B174 being (Point of C145) holds ( C150 . B174 ) = ( upper_bound ( ( dist B174 ) .: C146 ) ));
assume L340: (for B175 being (Point of C145) holds ( C151 . B175 ) = ( upper_bound ( ( dist B175 ) .: C146 ) ));
L341: (for B176 being set holds (B176 in (the carrier of ( TopSpaceMetr C145 )) implies ( C150 . B176 ) = ( C151 . B176 )))
proof
let C152 being set;
L342: ( TopSpaceMetr C145 ) = TopStruct (# (the carrier of C145) , ( Family_open_set C145 ) #) by PCOMPS_1:def 5;
assume L343: C152 in (the carrier of ( TopSpaceMetr C145 ));
reconsider D59 = C152 as (Point of C145) by L343 , L342;
L344: ( C150 . D59 ) = ( upper_bound ( ( dist D59 ) .: C146 ) ) by L339
.= ( C151 . D59 ) by L340;
thus L345: thesis by L344;
end;
thus L346: thesis by L341 , FUNCT_2:12;
end;
func dist_min C146 -> (Function of ( TopSpaceMetr C145 ) , ( R^1 )) means 
:L347: (for B177 being (Point of C145) holds ( it . B177 ) = ( lower_bound ( ( dist B177 ) .: C146 ) ));
existence
proof
defpred S8[ (Element of C145) , (Element of ( R^1 )) ] means (for B178 being (Element of C145) holds (for B179 being (Element of ( R^1 )) holds (($1 = B178 & $2 = B179) implies B179 = ( lower_bound ( ( dist B178 ) .: C146 ) ))));
L348: (for B180 being (Element of C145) holds (ex B181 being (Element of ( R^1 )) st S8[ B180 , B181 ]))
proof
let C153 being (Element of C145);
consider C154 being Real such that L349: C154 = ( lower_bound ( ( dist C153 ) .: C146 ) );
reconsider D60 = C154 as (Element of ( R^1 )) by TOPMETR:17;
take D60;
thus L350: thesis by L349;
end;
consider C155 being (Function of (the carrier of C145) , (the carrier of ( R^1 ))) such that L351: (for B182 being (Element of C145) holds S8[ B182 , ( C155 . B182 ) ]) from FUNCT_2:sch 3(L348);
L352: (for B183 being (Point of C145) holds ( C155 . B183 ) = ( lower_bound ( ( dist B183 ) .: C146 ) )) by L351;
L353: ( TopSpaceMetr C145 ) = TopStruct (# (the carrier of C145) , ( Family_open_set C145 ) #) by PCOMPS_1:def 5;
reconsider D61 = C155 as (Function of ( TopSpaceMetr C145 ) , ( R^1 )) by L353;
take D61;
thus L354: thesis by L352;
end;
uniqueness
proof
let C156 , C157 being (Function of ( TopSpaceMetr C145 ) , ( R^1 ));
assume L355: (for B184 being (Point of C145) holds ( C156 . B184 ) = ( lower_bound ( ( dist B184 ) .: C146 ) ));
assume L356: (for B185 being (Point of C145) holds ( C157 . B185 ) = ( lower_bound ( ( dist B185 ) .: C146 ) ));
L357: (for B186 being set holds (B186 in (the carrier of ( TopSpaceMetr C145 )) implies ( C156 . B186 ) = ( C157 . B186 )))
proof
let C158 being set;
L358: ( TopSpaceMetr C145 ) = TopStruct (# (the carrier of C145) , ( Family_open_set C145 ) #) by PCOMPS_1:def 5;
assume L359: C158 in (the carrier of ( TopSpaceMetr C145 ));
reconsider D62 = C158 as (Point of C145) by L359 , L358;
L360: ( C156 . D62 ) = ( lower_bound ( ( dist D62 ) .: C146 ) ) by L355
.= ( C157 . D62 ) by L356;
thus L361: thesis by L360;
end;
thus L362: thesis by L357 , FUNCT_2:12;
end;
end;
theorem
L364: (for B187 being non  empty MetrSpace holds (for B188 being (Subset of ( TopSpaceMetr B187 )) holds (B188 is  compact implies (for B189 , B190 being (Point of B187) holds (B189 in B188 implies (( dist (B189 , B190) ) <= ( upper_bound ( ( dist B190 ) .: B188 ) ) & ( lower_bound ( ( dist B190 ) .: B188 ) ) <= ( dist (B189 , B190) )))))))
proof
let C159 being non  empty MetrSpace;
let C160 being (Subset of ( TopSpaceMetr C159 ));
assume L365: C160 is  compact;
let C161 , C162 being (Point of C159);
L366: ( dist C162 ) is  continuous by L302;
L367: ( [#] ( ( dist C162 ) .: C160 ) ) is  real-bounded by L366 , L365 , L197 , L217;
L368: (( [#] ( ( dist C162 ) .: C160 ) ) is  bounded_above & ( [#] ( ( dist C162 ) .: C160 ) ) is  bounded_below) by L367 , XXREAL_2:def 11;
assume L369: C161 in C160;
L370: (( dist (C161 , C162) ) = ( ( dist C162 ) . C161 ) & ( dom ( dist C162 ) ) = (the carrier of ( TopSpaceMetr C159 ))) by L285 , FUNCT_2:def 1;
L371: ( dist (C161 , C162) ) in ( [#] ( ( dist C162 ) .: C160 ) ) by L370 , L369 , FUNCT_1:def 6;
thus L372: thesis by L371 , L368 , SEQ_4:def 1 , SEQ_4:def 2;
end;
theorem
L373: (for B191 being non  empty MetrSpace holds (for B192 being (Subset of ( TopSpaceMetr B191 )) holds ((B192 <> ( {} ) & B192 is  compact) implies (for B193 , B194 being (Point of B191) holds ( abs ( ( upper_bound ( ( dist B193 ) .: B192 ) ) - ( upper_bound ( ( dist B194 ) .: B192 ) ) ) ) <= ( dist (B193 , B194) )))))
proof
let C163 being non  empty MetrSpace;
let C164 being (Subset of ( TopSpaceMetr C163 ));
assume that
L374: C164 <> ( {} )
and
L375: C164 is  compact;
let C165 , C166 being (Point of C163);
consider C167 being (Point of ( TopSpaceMetr C163 )) such that L376: C167 in C164 and L377: ( ( dist C165 ) . C167 ) = ( upper_bound ( ( dist C165 ) .: C164 ) ) by L374 , L375 , L271 , L302;
L378: ( TopSpaceMetr C163 ) = TopStruct (# (the carrier of C163) , ( Family_open_set C163 ) #) by PCOMPS_1:def 5;
reconsider D63 = C167 as (Point of C163) by L378;
consider C168 being (Point of ( TopSpaceMetr C163 )) such that L379: C168 in C164 and L380: ( ( dist C166 ) . C168 ) = ( upper_bound ( ( dist C166 ) .: C164 ) ) by L374 , L375 , L271 , L302;
reconsider D64 = C168 as (Point of C163) by L378;
L381: ( dist (D64 , C166) ) = ( upper_bound ( ( dist C166 ) .: C164 ) ) by L380 , L285;
L382: ( ( dist C165 ) . D63 ) = ( dist (D63 , C165) ) by L285;
L383: (( dist (D64 , C166) ) <= ( ( dist (D64 , C165) ) + ( dist (C165 , C166) ) ) & ( dist (D64 , C165) ) <= ( dist (D63 , C165) )) by L382 , L375 , L377 , L379 , L364 , METRIC_1:4;
L384: ( ( dist (D64 , C166) ) - ( dist (D63 , C165) ) ) <= ( ( ( dist (D64 , C165) ) + ( dist (C165 , C166) ) ) - ( dist (D64 , C165) ) ) by L383 , XREAL_1:13;
L385: ( - ( dist (C165 , C166) ) ) <= ( - ( ( dist (D64 , C166) ) - ( dist (D63 , C165) ) ) ) by L384 , XREAL_1:24;
L386: ( ( dist C166 ) . D64 ) = ( dist (D64 , C166) ) by L285;
L387: (( dist (D63 , C165) ) <= ( ( dist (D63 , C166) ) + ( dist (C166 , C165) ) ) & ( dist (D63 , C166) ) <= ( dist (D64 , C166) )) by L386 , L375 , L376 , L380 , L364 , METRIC_1:4;
L388: ( ( dist (D63 , C165) ) - ( dist (D64 , C166) ) ) <= ( ( ( dist (D63 , C166) ) + ( dist (C165 , C166) ) ) - ( dist (D63 , C166) ) ) by L387 , XREAL_1:13;
L389: ( dist (D63 , C165) ) = ( upper_bound ( ( dist C165 ) .: C164 ) ) by L377 , L285;
thus L390: thesis by L389 , L381 , L388 , L385 , ABSVALUE:5;
end;
theorem
L391: (for B195 being non  empty MetrSpace holds (for B196 being (Subset of ( TopSpaceMetr B195 )) holds ((B196 <> ( {} ) & B196 is  compact) implies (for B197 , B198 being (Point of B195) holds (for B199 , B200 being Real holds ((B199 = ( ( dist_max B196 ) . B197 ) & B200 = ( ( dist_max B196 ) . B198 )) implies ( abs ( B199 - B200 ) ) <= ( dist (B197 , B198) )))))))
proof
let C169 being non  empty MetrSpace;
let C170 being (Subset of ( TopSpaceMetr C169 ));
assume L392: (C170 <> ( {} ) & C170 is  compact);
let C171 , C172 being (Point of C169);
let C173 , C174 being Real;
assume L393: (C173 = ( ( dist_max C170 ) . C171 ) & C174 = ( ( dist_max C170 ) . C172 ));
L394: (( ( dist_max C170 ) . C171 ) = ( upper_bound ( ( dist C171 ) .: C170 ) ) & ( ( dist_max C170 ) . C172 ) = ( upper_bound ( ( dist C172 ) .: C170 ) )) by L331;
thus L395: thesis by L394 , L392 , L393 , L373;
end;
theorem
L396: (for B201 being non  empty MetrSpace holds (for B202 being (Subset of ( TopSpaceMetr B201 )) holds ((B202 <> ( {} ) & B202 is  compact) implies (for B203 , B204 being (Point of B201) holds ( abs ( ( lower_bound ( ( dist B203 ) .: B202 ) ) - ( lower_bound ( ( dist B204 ) .: B202 ) ) ) ) <= ( dist (B203 , B204) )))))
proof
let C175 being non  empty MetrSpace;
let C176 being (Subset of ( TopSpaceMetr C175 ));
assume that
L397: C176 <> ( {} )
and
L398: C176 is  compact;
let C177 , C178 being (Point of C175);
consider C179 being (Point of ( TopSpaceMetr C175 )) such that L399: C179 in C176 and L400: ( ( dist C177 ) . C179 ) = ( lower_bound ( ( dist C177 ) .: C176 ) ) by L397 , L398 , L278 , L302;
L401: ( TopSpaceMetr C175 ) = TopStruct (# (the carrier of C175) , ( Family_open_set C175 ) #) by PCOMPS_1:def 5;
reconsider D65 = C179 as (Point of C175) by L401;
consider C180 being (Point of ( TopSpaceMetr C175 )) such that L402: C180 in C176 and L403: ( ( dist C178 ) . C180 ) = ( lower_bound ( ( dist C178 ) .: C176 ) ) by L397 , L398 , L278 , L302;
reconsider D66 = C180 as (Point of C175) by L401;
L404: ( dist (D66 , C178) ) = ( lower_bound ( ( dist C178 ) .: C176 ) ) by L403 , L285;
L405: ( ( dist C178 ) . D66 ) = ( dist (D66 , C178) ) by L285;
L406: (( dist (D65 , C178) ) <= ( ( dist (D65 , C177) ) + ( dist (C177 , C178) ) ) & ( dist (D66 , C178) ) <= ( dist (D65 , C178) )) by L405 , L398 , L399 , L403 , L364 , METRIC_1:4;
L407: ( dist (D66 , C178) ) <= ( ( dist (D65 , C177) ) + ( dist (C177 , C178) ) ) by L406 , XXREAL_0:2;
L408: ( ( dist (D66 , C178) ) - ( dist (D65 , C177) ) ) <= ( dist (C177 , C178) ) by L407 , XREAL_1:20;
L409: ( - ( dist (C177 , C178) ) ) <= ( - ( ( dist (D66 , C178) ) - ( dist (D65 , C177) ) ) ) by L408 , XREAL_1:24;
L410: ( ( dist C177 ) . D65 ) = ( dist (D65 , C177) ) by L285;
L411: (( dist (D66 , C177) ) <= ( ( dist (D66 , C178) ) + ( dist (C178 , C177) ) ) & ( dist (D65 , C177) ) <= ( dist (D66 , C177) )) by L410 , L398 , L400 , L402 , L364 , METRIC_1:4;
L412: ( dist (D65 , C177) ) <= ( ( dist (D66 , C178) ) + ( dist (C177 , C178) ) ) by L411 , XXREAL_0:2;
L413: ( ( dist (D65 , C177) ) - ( dist (D66 , C178) ) ) <= ( dist (C177 , C178) ) by L412 , XREAL_1:20;
L414: ( dist (D65 , C177) ) = ( lower_bound ( ( dist C177 ) .: C176 ) ) by L400 , L285;
thus L415: thesis by L414 , L404 , L413 , L409 , ABSVALUE:5;
end;
theorem
L416: (for B205 being non  empty MetrSpace holds (for B206 being (Subset of ( TopSpaceMetr B205 )) holds ((B206 <> ( {} ) & B206 is  compact) implies (for B207 , B208 being (Point of B205) holds (for B209 , B210 being Real holds ((B209 = ( ( dist_min B206 ) . B207 ) & B210 = ( ( dist_min B206 ) . B208 )) implies ( abs ( B209 - B210 ) ) <= ( dist (B207 , B208) )))))))
proof
let C181 being non  empty MetrSpace;
let C182 being (Subset of ( TopSpaceMetr C181 ));
assume L417: (C182 <> ( {} ) & C182 is  compact);
let C183 , C184 being (Point of C181);
let C185 , C186 being Real;
assume L418: (C185 = ( ( dist_min C182 ) . C183 ) & C186 = ( ( dist_min C182 ) . C184 ));
L419: (( ( dist_min C182 ) . C183 ) = ( lower_bound ( ( dist C183 ) .: C182 ) ) & ( ( dist_min C182 ) . C184 ) = ( lower_bound ( ( dist C184 ) .: C182 ) )) by L347;
thus L420: thesis by L419 , L417 , L418 , L396;
end;
L421: ( [#] ( R^1 ) ) <> ( {} );
theorem
L422: (for B211 being non  empty MetrSpace holds (for B212 being (Subset of ( TopSpaceMetr B211 )) holds ((B212 <> ( {} ) & B212 is  compact) implies ( dist_max B212 ) is  continuous)))
proof
let C187 being non  empty MetrSpace;
let C188 being (Subset of ( TopSpaceMetr C187 ));
assume L423: (C188 <> ( {} ) & C188 is  compact);
L424: (for B213 being (Subset of ( R^1 )) holds (B213 is  open implies ( ( dist_max C188 ) " B213 ) is  open))
proof
let C189 being (Subset of ( R^1 ));
assume L425: C189 is  open;
L426: (for B214 being (Point of C187) holds (B214 in ( ( dist_max C188 ) " C189 ) implies (ex B215 being  real number st (B215 > ( 0 ) & ( Ball (B214 , B215) ) c= ( ( dist_max C188 ) " C189 )))))
proof
let C190 being (Point of C187);
consider C191 being (Point of ( RealSpace )) such that L427: C191 = ( upper_bound ( ( dist C190 ) .: C188 ) ) by METRIC_1:def 13;
assume L428: C190 in ( ( dist_max C188 ) " C189 );
L429: ( ( dist_max C188 ) . C190 ) in C189 by L428 , FUNCT_1:def 7;
reconsider D67 = C189 as (Subset of ( TopSpaceMetr ( RealSpace ) )) by TOPMETR:def 6;
L430: C191 in D67 by L429 , L427 , L331;
consider C192 being  real number such that L431: C192 > ( 0 ) and L432: ( Ball (C191 , C192) ) c= D67 by L430 , L425 , TOPMETR:15 , TOPMETR:def 6;
reconsider D68 = C192 as Real by XREAL_0:def 1;
take D68;
L433: ( Ball (C190 , D68) ) c= ( ( dist_max C188 ) " D67 )
proof
let C193 being set;
assume L434: C193 in ( Ball (C190 , D68) );
reconsider D69 = C193 as (Point of C187) by L434;
consider C194 being (Point of ( RealSpace )) such that L435: C194 = ( upper_bound ( ( dist D69 ) .: C188 ) ) by METRIC_1:def 13;
L436: ( dist (C190 , D69) ) < D68 by L434 , METRIC_1:11;
L437: ( ( abs ( ( upper_bound ( ( dist C190 ) .: C188 ) ) - ( upper_bound ( ( dist D69 ) .: C188 ) ) ) ) + ( dist (C190 , D69) ) ) < ( D68 + ( dist (C190 , D69) ) ) by L436 , L423 , L373 , XREAL_1:8;
L438: ( abs ( ( upper_bound ( ( dist C190 ) .: C188 ) ) - ( upper_bound ( ( dist D69 ) .: C188 ) ) ) ) < D68 by L437 , XREAL_1:6;
L439: ( dist (C191 , C194) ) < D68 by L438 , L427 , L435 , TOPMETR:11;
L440: C194 in ( Ball (C191 , D68) ) by L439 , METRIC_1:11;
L441: ( dom ( dist_max C188 ) ) = (the carrier of ( TopSpaceMetr C187 )) by FUNCT_2:def 1;
L442: ( dom ( dist_max C188 ) ) = (the carrier of C187) by L441 , TOPMETR:12;
L443: C194 = ( ( dist_max C188 ) . D69 ) by L435 , L331;
thus L444: thesis by L443 , L432 , L440 , L442 , FUNCT_1:def 7;
end;
thus L445: thesis by L433 , L431;
end;
thus L446: thesis by L426 , TOPMETR:15;
end;
thus L447: thesis by L424 , L421 , TOPS_2:43;
end;
theorem
L448: (for B216 being non  empty MetrSpace holds (for B217 , B218 being (Subset of ( TopSpaceMetr B216 )) holds ((B217 <> ( {} ) & B217 is  compact & B218 <> ( {} ) & B218 is  compact) implies (ex B219 being (Point of ( TopSpaceMetr B216 )) st (B219 in B218 & ( ( dist_max B217 ) . B219 ) = ( upper_bound ( ( dist_max B217 ) .: B218 ) )))))) by L271 , L422;
theorem
L449: (for B220 being non  empty MetrSpace holds (for B221 , B222 being (Subset of ( TopSpaceMetr B220 )) holds ((B221 <> ( {} ) & B221 is  compact & B222 <> ( {} ) & B222 is  compact) implies (ex B223 being (Point of ( TopSpaceMetr B220 )) st (B223 in B222 & ( ( dist_max B221 ) . B223 ) = ( lower_bound ( ( dist_max B221 ) .: B222 ) )))))) by L278 , L422;
theorem
L450: (for B224 being non  empty MetrSpace holds (for B225 being (Subset of ( TopSpaceMetr B224 )) holds ((B225 <> ( {} ) & B225 is  compact) implies ( dist_min B225 ) is  continuous)))
proof
let C195 being non  empty MetrSpace;
let C196 being (Subset of ( TopSpaceMetr C195 ));
assume L451: (C196 <> ( {} ) & C196 is  compact);
L452: (for B226 being (Subset of ( R^1 )) holds (B226 is  open implies ( ( dist_min C196 ) " B226 ) is  open))
proof
let C197 being (Subset of ( R^1 ));
assume L453: C197 is  open;
L454: (for B227 being (Point of C195) holds (B227 in ( ( dist_min C196 ) " C197 ) implies (ex B228 being  real number st (B228 > ( 0 ) & ( Ball (B227 , B228) ) c= ( ( dist_min C196 ) " C197 )))))
proof
let C198 being (Point of C195);
assume L455: C198 in ( ( dist_min C196 ) " C197 );
L456: (ex B229 being Real st (B229 > ( 0 ) & ( Ball (C198 , B229) ) c= ( ( dist_min C196 ) " C197 )))
proof
L457: ( ( dist_min C196 ) . C198 ) in C197 by L455 , FUNCT_1:def 7;
reconsider D70 = C197 as (Subset of ( TopSpaceMetr ( RealSpace ) )) by TOPMETR:def 6;
consider C199 being (Point of ( RealSpace )) such that L458: C199 = ( lower_bound ( ( dist C198 ) .: C196 ) ) by METRIC_1:def 13;
L459: C199 in D70 by L457 , L458 , L347;
consider C200 being  real number such that L460: C200 > ( 0 ) and L461: ( Ball (C199 , C200) ) c= D70 by L459 , L453 , TOPMETR:15 , TOPMETR:def 6;
reconsider D71 = C200 as Real by XREAL_0:def 1;
take D71;
L462: ( Ball (C198 , D71) ) c= ( ( dist_min C196 ) " D70 )
proof
let C201 being set;
assume L463: C201 in ( Ball (C198 , D71) );
reconsider D72 = C201 as (Point of C195) by L463;
consider C202 being (Point of ( RealSpace )) such that L464: C202 = ( lower_bound ( ( dist D72 ) .: C196 ) ) by METRIC_1:def 13;
L465: ( dist (C198 , D72) ) < D71 by L463 , METRIC_1:11;
L466: ( ( abs ( ( lower_bound ( ( dist C198 ) .: C196 ) ) - ( lower_bound ( ( dist D72 ) .: C196 ) ) ) ) + ( dist (C198 , D72) ) ) < ( D71 + ( dist (C198 , D72) ) ) by L465 , L451 , L396 , XREAL_1:8;
L467: ( abs ( ( lower_bound ( ( dist C198 ) .: C196 ) ) - ( lower_bound ( ( dist D72 ) .: C196 ) ) ) ) < D71 by L466 , XREAL_1:6;
L468: ( dist (C199 , C202) ) < D71 by L467 , L458 , L464 , TOPMETR:11;
L469: C202 in ( Ball (C199 , D71) ) by L468 , METRIC_1:11;
L470: ( dom ( dist_min C196 ) ) = (the carrier of ( TopSpaceMetr C195 )) by FUNCT_2:def 1;
L471: ( dom ( dist_min C196 ) ) = (the carrier of C195) by L470 , TOPMETR:12;
L472: C202 = ( ( dist_min C196 ) . D72 ) by L464 , L347;
thus L473: thesis by L472 , L461 , L469 , L471 , FUNCT_1:def 7;
end;
thus L474: thesis by L462 , L460;
end;
thus L475: thesis by L456;
end;
thus L476: ( ( dist_min C196 ) " C197 ) is  open by L454 , TOPMETR:15;
end;
thus L477: thesis by L452 , L421 , TOPS_2:43;
end;
theorem
L478: (for B230 being non  empty MetrSpace holds (for B231 , B232 being (Subset of ( TopSpaceMetr B230 )) holds ((B231 <> ( {} ) & B231 is  compact & B232 <> ( {} ) & B232 is  compact) implies (ex B233 being (Point of ( TopSpaceMetr B230 )) st (B233 in B232 & ( ( dist_min B231 ) . B233 ) = ( upper_bound ( ( dist_min B231 ) .: B232 ) )))))) by L271 , L450;
theorem
L479: (for B234 being non  empty MetrSpace holds (for B235 , B236 being (Subset of ( TopSpaceMetr B234 )) holds ((B235 <> ( {} ) & B235 is  compact & B236 <> ( {} ) & B236 is  compact) implies (ex B237 being (Point of ( TopSpaceMetr B234 )) st (B237 in B236 & ( ( dist_min B235 ) . B237 ) = ( lower_bound ( ( dist_min B235 ) .: B236 ) )))))) by L278 , L450;
definition
let C203 being non  empty MetrSpace;
let C204 , C205 being (Subset of ( TopSpaceMetr C203 ));
func min_dist_min (C204 , C205) -> Real equals 
( lower_bound ( ( dist_min C204 ) .: C205 ) );
correctness;
func max_dist_min (C204 , C205) -> Real equals 
( upper_bound ( ( dist_min C204 ) .: C205 ) );
correctness;
func min_dist_max (C204 , C205) -> Real equals 
( lower_bound ( ( dist_max C204 ) .: C205 ) );
correctness;
func max_dist_max (C204 , C205) -> Real equals 
( upper_bound ( ( dist_max C204 ) .: C205 ) );
correctness;
end;
theorem
L481: (for B238 being non  empty MetrSpace holds (for B239 , B240 being (Subset of ( TopSpaceMetr B238 )) holds ((B239 <> ( {} ) & B239 is  compact & B240 <> ( {} ) & B240 is  compact) implies (ex B241 , B242 being (Point of B238) st (B241 in B239 & B242 in B240 & ( dist (B241 , B242) ) = ( min_dist_min (B239 , B240) ))))))
proof
let C206 being non  empty MetrSpace;
let C207 , C208 being (Subset of ( TopSpaceMetr C206 ));
assume that
L482: (C207 <> ( {} ) & C207 is  compact)
and
L483: (C208 <> ( {} ) & C208 is  compact);
consider C209 being (Point of ( TopSpaceMetr C206 )) such that L484: C209 in C208 and L485: ( ( dist_min C207 ) . C209 ) = ( lower_bound ( ( dist_min C207 ) .: C208 ) ) by L482 , L483 , L278 , L450;
L486: ( TopSpaceMetr C206 ) = TopStruct (# (the carrier of C206) , ( Family_open_set C206 ) #) by PCOMPS_1:def 5;
reconsider D73 = C209 as (Point of C206) by L486;
consider C210 being (Point of ( TopSpaceMetr C206 )) such that L487: C210 in C207 and L488: ( ( dist D73 ) . C210 ) = ( lower_bound ( ( dist D73 ) .: C207 ) ) by L482 , L278 , L302;
reconsider D74 = C210 as (Point of C206) by L486;
take D74;
take D73;
L489: ( dist (D74 , D73) ) = ( ( dist D73 ) . D74 ) by L285
.= ( lower_bound ( ( dist_min C207 ) .: C208 ) ) by L485 , L488 , L347;
thus L490: thesis by L489 , L484 , L487;
end;
theorem
L491: (for B243 being non  empty MetrSpace holds (for B244 , B245 being (Subset of ( TopSpaceMetr B243 )) holds ((B244 <> ( {} ) & B244 is  compact & B245 <> ( {} ) & B245 is  compact) implies (ex B246 , B247 being (Point of B243) st (B246 in B244 & B247 in B245 & ( dist (B246 , B247) ) = ( min_dist_max (B244 , B245) ))))))
proof
let C211 being non  empty MetrSpace;
let C212 , C213 being (Subset of ( TopSpaceMetr C211 ));
assume that
L492: (C212 <> ( {} ) & C212 is  compact)
and
L493: (C213 <> ( {} ) & C213 is  compact);
consider C214 being (Point of ( TopSpaceMetr C211 )) such that L494: C214 in C213 and L495: ( ( dist_max C212 ) . C214 ) = ( lower_bound ( ( dist_max C212 ) .: C213 ) ) by L492 , L493 , L278 , L422;
L496: ( TopSpaceMetr C211 ) = TopStruct (# (the carrier of C211) , ( Family_open_set C211 ) #) by PCOMPS_1:def 5;
reconsider D75 = C214 as (Point of C211) by L496;
consider C215 being (Point of ( TopSpaceMetr C211 )) such that L497: C215 in C212 and L498: ( ( dist D75 ) . C215 ) = ( upper_bound ( ( dist D75 ) .: C212 ) ) by L492 , L271 , L302;
reconsider D76 = C215 as (Point of C211) by L496;
take D76;
take D75;
L499: ( dist (D76 , D75) ) = ( ( dist D75 ) . D76 ) by L285
.= ( lower_bound ( ( dist_max C212 ) .: C213 ) ) by L495 , L498 , L331;
thus L500: thesis by L499 , L494 , L497;
end;
theorem
L501: (for B248 being non  empty MetrSpace holds (for B249 , B250 being (Subset of ( TopSpaceMetr B248 )) holds ((B249 <> ( {} ) & B249 is  compact & B250 <> ( {} ) & B250 is  compact) implies (ex B251 , B252 being (Point of B248) st (B251 in B249 & B252 in B250 & ( dist (B251 , B252) ) = ( max_dist_min (B249 , B250) ))))))
proof
let C216 being non  empty MetrSpace;
let C217 , C218 being (Subset of ( TopSpaceMetr C216 ));
assume that
L502: (C217 <> ( {} ) & C217 is  compact)
and
L503: (C218 <> ( {} ) & C218 is  compact);
consider C219 being (Point of ( TopSpaceMetr C216 )) such that L504: C219 in C218 and L505: ( ( dist_min C217 ) . C219 ) = ( upper_bound ( ( dist_min C217 ) .: C218 ) ) by L502 , L503 , L271 , L450;
L506: ( TopSpaceMetr C216 ) = TopStruct (# (the carrier of C216) , ( Family_open_set C216 ) #) by PCOMPS_1:def 5;
reconsider D77 = C219 as (Point of C216) by L506;
consider C220 being (Point of ( TopSpaceMetr C216 )) such that L507: C220 in C217 and L508: ( ( dist D77 ) . C220 ) = ( lower_bound ( ( dist D77 ) .: C217 ) ) by L502 , L278 , L302;
reconsider D78 = C220 as (Point of C216) by L506;
take D78;
take D77;
L509: ( dist (D78 , D77) ) = ( ( dist D77 ) . D78 ) by L285
.= ( upper_bound ( ( dist_min C217 ) .: C218 ) ) by L505 , L508 , L347;
thus L510: thesis by L509 , L504 , L507;
end;
theorem
L511: (for B253 being non  empty MetrSpace holds (for B254 , B255 being (Subset of ( TopSpaceMetr B253 )) holds ((B254 <> ( {} ) & B254 is  compact & B255 <> ( {} ) & B255 is  compact) implies (ex B256 , B257 being (Point of B253) st (B256 in B254 & B257 in B255 & ( dist (B256 , B257) ) = ( max_dist_max (B254 , B255) ))))))
proof
let C221 being non  empty MetrSpace;
let C222 , C223 being (Subset of ( TopSpaceMetr C221 ));
assume that
L512: (C222 <> ( {} ) & C222 is  compact)
and
L513: (C223 <> ( {} ) & C223 is  compact);
consider C224 being (Point of ( TopSpaceMetr C221 )) such that L514: C224 in C223 and L515: ( ( dist_max C222 ) . C224 ) = ( upper_bound ( ( dist_max C222 ) .: C223 ) ) by L512 , L513 , L271 , L422;
L516: ( TopSpaceMetr C221 ) = TopStruct (# (the carrier of C221) , ( Family_open_set C221 ) #) by PCOMPS_1:def 5;
reconsider D79 = C224 as (Point of C221) by L516;
consider C225 being (Point of ( TopSpaceMetr C221 )) such that L517: C225 in C222 and L518: ( ( dist D79 ) . C225 ) = ( upper_bound ( ( dist D79 ) .: C222 ) ) by L512 , L271 , L302;
reconsider D80 = C225 as (Point of C221) by L516;
take D80;
take D79;
L519: ( dist (D80 , D79) ) = ( ( dist D79 ) . D80 ) by L285
.= ( upper_bound ( ( dist_max C222 ) .: C223 ) ) by L515 , L518 , L331;
thus L520: thesis by L519 , L514 , L517;
end;
theorem
L521: (for B258 being non  empty MetrSpace holds (for B259 , B260 being (Subset of ( TopSpaceMetr B258 )) holds ((B259 is  compact & B260 is  compact) implies (for B261 , B262 being (Point of B258) holds ((B261 in B259 & B262 in B260) implies (( min_dist_min (B259 , B260) ) <= ( dist (B261 , B262) ) & ( dist (B261 , B262) ) <= ( max_dist_max (B259 , B260) )))))))
proof
let C226 being non  empty MetrSpace;
let C227 , C228 being (Subset of ( TopSpaceMetr C226 ));
assume that
L522: C227 is  compact
and
L523: C228 is  compact;
let C229 , C230 being (Point of C226);
assume that
L524: C229 in C227
and
L525: C230 in C228;
L526: ( dist_max C227 ) is  continuous by L522 , L524 , L422;
L527: ( [#] ( ( dist_max C227 ) .: C228 ) ) is  real-bounded by L526 , L523 , L197 , L217;
L528: ( [#] ( ( dist_max C227 ) .: C228 ) ) is  bounded_above by L527 , XXREAL_2:def 11;
L529: C230 in (the carrier of C226);
L530: C230 in (the carrier of ( TopSpaceMetr C226 )) by L529 , TOPMETR:12;
L531: ( ( dist_min C227 ) . C230 ) in (the carrier of ( R^1 )) by L530 , FUNCT_2:5;
consider C231 being Real such that L532: C231 = ( ( dist_min C227 ) . C230 ) by L531 , TOPMETR:17;
L533: ( dist_min C227 ) is  continuous by L522 , L524 , L450;
L534: ( [#] ( ( dist_min C227 ) .: C228 ) ) is  real-bounded by L533 , L523 , L197 , L217;
L535: ( [#] ( ( dist_min C227 ) .: C228 ) ) is  bounded_below by L534 , XXREAL_2:def 11;
L536: ( dom ( dist_min C227 ) ) = (the carrier of ( TopSpaceMetr C226 )) by FUNCT_2:def 1;
L537: C231 in ( [#] ( ( dist_min C227 ) .: C228 ) ) by L536 , L525 , L532 , FUNCT_1:def 6;
L538: ( lower_bound ( ( dist_min C227 ) .: C228 ) ) <= C231 by L537 , L535 , SEQ_4:def 2;
L539: C230 in (the carrier of C226);
L540: C230 in (the carrier of ( TopSpaceMetr C226 )) by L539 , TOPMETR:12;
L541: ( ( dist_max C227 ) . C230 ) in (the carrier of ( R^1 )) by L540 , FUNCT_2:5;
consider C232 being Real such that L542: C232 = ( ( dist_max C227 ) . C230 ) by L541 , TOPMETR:17;
L543: ( dom ( dist_max C227 ) ) = (the carrier of ( TopSpaceMetr C226 )) by FUNCT_2:def 1;
L544: C232 in ( [#] ( ( dist_max C227 ) .: C228 ) ) by L543 , L525 , L542 , FUNCT_1:def 6;
L545: C232 <= ( upper_bound ( ( dist_max C227 ) .: C228 ) ) by L544 , L528 , SEQ_4:def 1;
L546: ( lower_bound ( ( dist C230 ) .: C227 ) ) = C231 by L532 , L347;
L547: ( upper_bound ( ( dist C230 ) .: C227 ) ) = C232 by L542 , L331;
L548: (( dist (C229 , C230) ) <= ( upper_bound ( ( dist C230 ) .: C227 ) ) & ( lower_bound ( ( dist C230 ) .: C227 ) ) <= ( dist (C229 , C230) )) by L522 , L524 , L364;
thus L549: thesis by L548 , L547 , L545 , L546 , L538 , XXREAL_0:2;
end;
