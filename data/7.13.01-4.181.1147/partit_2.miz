:: Classes of Independent Partitions
::  by Andrzej Trybulec
::
:: Received February 14, 2001
:: Copyright (c) 2001-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies XBOOLE_0, SUBSET_1, FUNCT_2, MARGREL1, PARTIT1, EQREL_1, FUNCT_1,
      SETFAM_1, RELAT_1, ZFMISC_1, TARSKI, RELAT_2, XBOOLEAN, BVFUNC_2,
      BVFUNC_1, FUNCT_4, FUNCT_5, OPOSET_1, BINOP_1;
 notations TARSKI, XBOOLE_0, ZFMISC_1, SUBSET_1, SETFAM_1, MARGREL1, RELAT_1,
      RELAT_2, FUNCT_1, RELSET_1, FUNCT_2, BINOP_1, FUNCT_4, FUNCT_5, EQREL_1,
      PARTIT1, BVFUNC_1, BVFUNC_2;
 constructors SETFAM_1, FUNCT_4, XCMPLX_0, BVFUNC_1, BVFUNC_2, RELSET_1,
      FUNCT_5, RELAT_2, DOMAIN_1, BINOP_1;
 registrations SUBSET_1, RELAT_1, FUNCT_1, PARTFUN1, EQREL_1, MARGREL1,
      PARTIT1, RELSET_1, XBOOLE_0, FUNCT_2;
 requirements SUBSET, BOOLE, ARITHM;
 definitions BVFUNC_1, TARSKI, RELAT_2, XBOOLE_0, XBOOLEAN, RELSET_1, EQREL_1;
 theorems TARSKI, FUNCT_1, FUNCT_2, BVFUNC_1, BVFUNC_2, RELSET_1, PARTIT1,
      SETFAM_1, SUBSET_1, FUNCT_4, RELAT_1, EQREL_1, RELAT_2, XBOOLE_0,
      XBOOLE_1, PARTFUN1, ORDERS_1, XBOOLEAN, MARGREL1, CARD_1, ZFMISC_1,
      XTUPLE_0;
 schemes FUNCT_2;

begin
definition
let C1 being non  empty set;
let C2 being non  empty (Subset of ( PARTITIONS C1 ));
redefine mode Element of C2
 -> (a_partition of C1);
coherence
proof
let C3 being (Element of C2);
thus L1: thesis by PARTIT1:def 3;
end;
end;
theorem
L3: (for R1 being non  empty set holds ( '/\' ( {} ( PARTITIONS R1 ) ) ) = ( %O R1 ))
proof
let R1 being non  empty set;
L4: (for B1 being set holds (B1 in ( %O R1 ) iff (ex B2 being Function st (ex B3 being (Subset-Family of R1) st (( dom B2 ) = ( {} ( PARTITIONS R1 ) ) & ( rng B2 ) = B3 & (for B4 being set holds (B4 in ( {} ( PARTITIONS R1 ) ) implies ( B2 . B4 ) in B4)) & B1 = ( Intersect B3 ) & B1 <> ( {} ))))))
proof
let C4 being set;
thus L5:now
reconsider D1 = ( {} ) as Function;
assume L6: C4 in ( %O R1 );
L7: C4 in { R1 } by L6 , PARTIT1:def 8;
take D2 = D1;
take D3 = ( {} ( bool R1 ) );
thus L8: ( dom D2 ) = ( {} ( PARTITIONS R1 ) );
thus L9: ( rng D2 ) = D3;
thus L10: (for B5 being set holds (B5 in ( {} ( PARTITIONS R1 ) ) implies ( D2 . B5 ) in B5));
L11: C4 = R1 by L7 , TARSKI:def 1;
thus L12: C4 = ( Intersect D3 ) by L11 , SETFAM_1:def 9;
thus L13: C4 <> ( {} ) by L7 , TARSKI:def 1;
end;
given C5 being Function , C6 being (Subset-Family of R1) such that
L14: (( dom C5 ) = ( {} ( PARTITIONS R1 ) ) & ( rng C5 ) = C6)
and
L15: (for B6 being set holds (B6 in ( {} ( PARTITIONS R1 ) ) implies ( C5 . B6 ) in B6))
and
L16: C4 = ( Intersect C6 )
and
L17: C4 <> ( {} );

L18: C6 = ( {} ) by L14 , RELAT_1:42;
L19: C4 = R1 by L18 , L16 , SETFAM_1:def 9;
L20: C4 in { R1 } by L19 , TARSKI:def 1;
thus L21: thesis by L20 , PARTIT1:def 8;
end;
thus L22: thesis by L4 , BVFUNC_2:def 1;
end;
theorem
L23: (for R1 being non  empty set holds (for B7 , B8 being (Equivalence_Relation of R1) holds ( B7 \/ B8 ) c= ( B7 * B8 )))
proof
let R1 being non  empty set;
let C7 , C8 being (Equivalence_Relation of R1);
let C9 , C10 being (Element of R1);
assume L24: [ C9 , C10 ] in ( C7 \/ C8 );
per cases  by L24 , XBOOLE_0:def 3;
suppose L25: [ C9 , C10 ] in C7;

L26: [ C10 , C10 ] in C8 by EQREL_1:5;
thus L27: thesis by L26 , L25 , RELAT_1:def 8;
end;
suppose L28: [ C9 , C10 ] in C8;

L29: [ C9 , C9 ] in C7 by EQREL_1:5;
thus L30: thesis by L29 , L28 , RELAT_1:def 8;
end;
end;
theorem
L32: (for R1 being non  empty set holds (for B9 being (Relation of R1) holds B9 c= ( nabla R1 )));
theorem
L33: (for R1 being non  empty set holds (for B10 being (Equivalence_Relation of R1) holds (( ( nabla R1 ) * B10 ) = ( nabla R1 ) & ( B10 * ( nabla R1 ) ) = ( nabla R1 ))))
proof
let R1 being non  empty set;
let C11 being (Equivalence_Relation of R1);
L34: ( ( nabla R1 ) \/ C11 ) c= ( ( nabla R1 ) * C11 ) by L23;
L35: ( nabla R1 ) c= ( ( nabla R1 ) * C11 ) by L34 , EQREL_1:1;
thus L36: ( ( nabla R1 ) * C11 ) = ( nabla R1 ) by L35 , XBOOLE_0:def 10;
L37: ( ( nabla R1 ) \/ C11 ) c= ( C11 * ( nabla R1 ) ) by L23;
L38: ( nabla R1 ) c= ( C11 * ( nabla R1 ) ) by L37 , EQREL_1:1;
thus L39: thesis by L38 , XBOOLE_0:def 10;
end;
theorem
L40: (for R1 being non  empty set holds (for B11 being (a_partition of R1) holds (for B12 , B13 being (Element of R1) holds ([ B12 , B13 ] in ( ERl B11 ) iff B12 in ( EqClass (B13 , B11) )))))
proof
let R1 being non  empty set;
let C12 being (a_partition of R1);
let C13 , C14 being (Element of R1);
thus L41:now
assume L42: [ C13 , C14 ] in ( ERl C12 );
L43: (ex B14 being (Subset of R1) st (B14 in C12 & C13 in B14 & C14 in B14)) by L42 , PARTIT1:def 6;
thus L44: C13 in ( EqClass (C14 , C12) ) by L43 , EQREL_1:def 6;
end;
L45: C14 in ( EqClass (C14 , C12) ) by EQREL_1:def 6;
thus L46: thesis by L45 , PARTIT1:def 6;
end;
theorem
L47: (for R1 being non  empty set holds (for B15 , B16 , B17 being (a_partition of R1) holds (( ERl B17 ) = ( ( ERl B15 ) * ( ERl B16 ) ) implies (for B18 , B19 being (Element of R1) holds (B18 in ( EqClass (B19 , B17) ) iff (ex B20 being (Element of R1) st (B18 in ( EqClass (B20 , B15) ) & B20 in ( EqClass (B19 , B16) ))))))))
proof
let R1 being non  empty set;
let C15 , C16 , C17 being (a_partition of R1);
assume that
L48: ( ERl C17 ) = ( ( ERl C15 ) * ( ERl C16 ) );
let C18 , C19 being (Element of R1);
thus L49:now
assume L50: C18 in ( EqClass (C19 , C17) );
L51: [ C18 , C19 ] in ( ERl C17 ) by L50 , L40;
consider C20 being (Element of R1) such that L52: [ C18 , C20 ] in ( ERl C15 ) and L53: [ C20 , C19 ] in ( ERl C16 ) by L51 , L48 , RELSET_1:28;
take D4 = C20;
thus L54: C18 in ( EqClass (D4 , C15) ) by L52 , L40;
thus L55: D4 in ( EqClass (C19 , C16) ) by L53 , L40;
end;
given C21 being (Element of R1) such that
L56: (C18 in ( EqClass (C21 , C15) ) & C21 in ( EqClass (C19 , C16) ));

L57: ([ C18 , C21 ] in ( ERl C15 ) & [ C21 , C19 ] in ( ERl C16 )) by L56 , L40;
L58: [ C18 , C19 ] in ( ERl C17 ) by L57 , L48 , RELAT_1:def 8;
thus L59: thesis by L58 , L40;
end;
theorem
L60: (for B21 , B22 being Relation holds (for B23 being set holds ((B21 is_reflexive_in B23 & B22 is_reflexive_in B23) implies ( B21 * B22 ) is_reflexive_in B23)))
proof
let C22 , C23 being Relation;
let C24 being set;
assume that
L61: (C22 is_reflexive_in C24 & C23 is_reflexive_in C24);
let C25 being set;
assume L62: C25 in C24;
L63: ([ C25 , C25 ] in C22 & [ C25 , C25 ] in C23) by L62 , L61 , RELAT_2:def 1;
thus L64: thesis by L63 , RELAT_1:def 8;
end;
theorem
L65: (for B24 being Relation holds (for B25 being set holds (B24 is_reflexive_in B25 implies B25 c= ( field B24 ))))
proof
let C26 being Relation;
let C27 being set;
assume that
L66: C26 is_reflexive_in C27;
let C28 being set;
assume L67: C28 in C27;
L68: [ C28 , C28 ] in C26 by L67 , L66 , RELAT_2:def 1;
thus L69: thesis by L68 , RELAT_1:15;
end;
theorem
L70: (for B26 being set holds (for B27 being (Relation of B26) holds (B27 is_reflexive_in B26 implies B26 = ( field B27 ))))
proof
let C29 being set;
let C30 being (Relation of C29);
assume L71: C30 is_reflexive_in C29;
thus L72: C29 c= ( field C30 ) by L71 , L65;
L73: ( field C30 ) c= ( C29 \/ C29 ) by RELSET_1:8;
thus L74: thesis by L73;
end;
theorem
L75: (for R1 being non  empty set holds (for B28 , B29 being (Equivalence_Relation of R1) holds (( B28 * B29 ) = ( B29 * B28 ) implies ( B28 * B29 ) is (Equivalence_Relation of R1))))
proof
let R1 being non  empty set;
let C31 , C32 being (Equivalence_Relation of R1);
assume that
L76: ( C31 * C32 ) = ( C32 * C31 );
L77: ( field C32 ) = R1 by ORDERS_1:12;
L78: C32 is_reflexive_in R1 by L77 , RELAT_2:def 9;
L79: ( field C31 ) = R1 by ORDERS_1:12;
L80: C31 is_reflexive_in R1 by L79 , RELAT_2:def 9;
L81: ( C31 * C32 ) is_reflexive_in R1 by L80 , L78 , L60;
L82: (( field ( C31 * C32 ) ) = R1 & ( dom ( C31 * C32 ) ) = R1) by L81 , ORDERS_1:13;
L83: ( C31 * C32 ) is_symmetric_in R1
proof
L84: C32 is_symmetric_in R1 by L77 , RELAT_2:def 11;
let C33 , C34 being set;
assume that
L85: C33 in R1
and
L86: C34 in R1;
assume L87: [ C33 , C34 ] in ( C31 * C32 );
consider C35 being set such that L88: [ C33 , C35 ] in C31 and L89: [ C35 , C34 ] in C32 by L87 , RELAT_1:def 8;
L90: C35 in ( field C32 ) by L89 , RELAT_1:15;
L91: [ C34 , C35 ] in C32 by L90 , L77 , L84 , L86 , L89 , RELAT_2:def 3;
L92: C31 is_symmetric_in R1 by L79 , RELAT_2:def 11;
L93: C35 in ( field C31 ) by L88 , RELAT_1:15;
L94: [ C35 , C33 ] in C31 by L93 , L79 , L92 , L85 , L88 , RELAT_2:def 3;
thus L95: thesis by L94 , L76 , L91 , RELAT_1:def 8;
end;
L96: (( C31 * C31 ) c= C31 & ( C32 * C32 ) c= C32) by RELAT_2:27;
L97: ( ( C31 * C32 ) * ( C31 * C32 ) ) = ( ( ( C31 * C32 ) * C31 ) * C32 ) by RELAT_1:36
.= ( ( C31 * ( C31 * C32 ) ) * C32 ) by L76 , RELAT_1:36
.= ( ( ( C31 * C31 ) * C32 ) * C32 ) by RELAT_1:36
.= ( ( C31 * C31 ) * ( C32 * C32 ) ) by RELAT_1:36;
L98: ( ( C31 * C32 ) * ( C31 * C32 ) ) c= ( C31 * C32 ) by L97 , L96 , RELAT_1:31;
thus L99: thesis by L98 , L82 , L83 , PARTFUN1:def 2 , RELAT_2:27 , RELAT_2:def 11;
end;
begin
theorem
L100: (for R1 being non  empty set holds (for B30 , B31 being (Function of R1 , ( BOOLEAN )) holds (B30 '<' B31 implies ( 'not' B31 ) '<' ( 'not' B30 ))))
proof
let R1 being non  empty set;
let C36 , C37 being (Function of R1 , ( BOOLEAN ));
assume that
L101: C36 '<' C37;
let C38 being (Element of R1);
assume L102: ( ( 'not' C37 ) . C38 ) = ( TRUE );
L103: ( C37 . C38 ) = ( ( 'not' ( 'not' C37 ) ) . C38 )
.= ( 'not' ( TRUE ) ) by L102 , MARGREL1:def 19
.= ( FALSE );
L104: ( C36 . C38 ) <> ( TRUE ) by L103 , L101 , BVFUNC_1:def 12;
L105: ( C36 . C38 ) = ( FALSE ) by L104 , XBOOLEAN:def 3;
thus L106: ( ( 'not' C36 ) . C38 ) = ( 'not' ( FALSE ) ) by L105 , MARGREL1:def 19
.= ( TRUE );
end;
theorem
L107: (for R1 being non  empty set holds (for B32 , B33 being (Function of R1 , ( BOOLEAN )) holds (for B34 being (Subset of ( PARTITIONS R1 )) holds (for B35 being (a_partition of R1) holds (B32 '<' B33 implies ( All (B32 , B35 , B34) ) '<' ( All (B33 , B35 , B34) ))))))
proof
let R1 being non  empty set;
let C39 , C40 being (Function of R1 , ( BOOLEAN ));
let C41 being (Subset of ( PARTITIONS R1 ));
let C42 being (a_partition of R1);
assume that
L108: C39 '<' C40;
let C43 being (Element of R1);
assume L109: ( ( All (C39 , C42 , C41) ) . C43 ) = ( TRUE );
L110: ( All (C39 , C42 , C41) ) = ( B_INF (C39 , ( CompF (C42 , C41) )) ) by BVFUNC_2:def 9;
L111: (for B36 being (Element of R1) holds (B36 in ( EqClass (C43 , ( CompF (C42 , C41) )) ) implies ( C40 . B36 ) = ( TRUE )))
proof
let C44 being (Element of R1);
assume L112: C44 in ( EqClass (C43 , ( CompF (C42 , C41) )) );
L113: ( C39 . C44 ) = ( TRUE ) by L112 , L110 , L109 , BVFUNC_1:def 16;
thus L114: thesis by L113 , L108 , BVFUNC_1:def 12;
end;
L115: ( All (C40 , C42 , C41) ) = ( B_INF (C40 , ( CompF (C42 , C41) )) ) by BVFUNC_2:def 9;
thus L116: thesis by L115 , L111 , BVFUNC_1:def 16;
end;
theorem
L117: (for R1 being non  empty set holds (for B37 , B38 being (Function of R1 , ( BOOLEAN )) holds (for B39 being (Subset of ( PARTITIONS R1 )) holds (for B40 being (a_partition of R1) holds (B37 '<' B38 implies ( Ex (B37 , B40 , B39) ) '<' ( Ex (B38 , B40 , B39) ))))))
proof
let R1 being non  empty set;
let C45 , C46 being (Function of R1 , ( BOOLEAN ));
let C47 being (Subset of ( PARTITIONS R1 ));
let C48 being (a_partition of R1);
L118: ( Ex (C46 , C48 , C47) ) = ( Ex (( 'not' ( 'not' C46 ) ) , C48 , C47) )
.= ( 'not' ( All (( 'not' C46 ) , C48 , C47) ) ) by BVFUNC_2:18;
assume L119: C45 '<' C46;
L120: ( 'not' C46 ) '<' ( 'not' C45 ) by L119 , L100;
L121: ( All (( 'not' C46 ) , C48 , C47) ) '<' ( All (( 'not' C45 ) , C48 , C47) ) by L120 , L107;
L122: ( Ex (C45 , C48 , C47) ) = ( Ex (( 'not' ( 'not' C45 ) ) , C48 , C47) )
.= ( 'not' ( All (( 'not' C45 ) , C48 , C47) ) ) by BVFUNC_2:18;
thus L123: thesis by L122 , L118 , L121 , L100;
end;
begin
L124: (for R1 being non  empty set holds (for R3 being (Subset of ( PARTITIONS R1 )) holds (R3 is  independent implies (for B41 , B42 being (Subset of ( PARTITIONS R1 )) holds ((B41 c= R3 & B42 c= R3) implies ( ( ERl ( '/\' B41 ) ) * ( ERl ( '/\' B42 ) ) ) c= ( ( ERl ( '/\' B42 ) ) * ( ERl ( '/\' B41 ) ) ))))))
proof
let R1 being non  empty set;
let R3 being (Subset of ( PARTITIONS R1 ));
assume L125: R3 is  independent;
let C49 , C50 being (Subset of ( PARTITIONS R1 ));
assume that
L126: C49 c= R3
and
L127: C50 c= R3;
per cases ;
suppose L128: C49 = ( {} );

L129: C49 = ( {} ( PARTITIONS R1 ) ) by L128;
L130: ( ( ERl ( '/\' C50 ) ) * ( ERl ( '/\' C49 ) ) ) = ( ( ERl ( '/\' C50 ) ) * ( ERl ( %O R1 ) ) ) by L129 , L3
.= ( ( ERl ( '/\' C50 ) ) * ( nabla R1 ) ) by PARTIT1:33
.= ( nabla R1 ) by L33;
thus L131: thesis by L130;
end;
suppose L132: C50 = ( {} );

L133: C50 = ( {} ( PARTITIONS R1 ) ) by L132;
L134: ( ( ERl ( '/\' C50 ) ) * ( ERl ( '/\' C49 ) ) ) = ( ( ERl ( %O R1 ) ) * ( ERl ( '/\' C49 ) ) ) by L133 , L3
.= ( ( nabla R1 ) * ( ERl ( '/\' C49 ) ) ) by PARTIT1:33
.= ( nabla R1 ) by L33;
thus L135: thesis by L134;
end;
suppose L136: (C49 <> ( {} ) & C50 <> ( {} ));

reconsider D5 = R3 as non  empty (Subset of ( PARTITIONS R1 )) by L136 , L126;
let C51 , C52 being (Element of R1);
assume L137: [ C51 , C52 ] in ( ( ERl ( '/\' C49 ) ) * ( ERl ( '/\' C50 ) ) );
consider C53 being (Element of R1) such that L138: [ C51 , C53 ] in ( ERl ( '/\' C49 ) ) and L139: [ C53 , C52 ] in ( ERl ( '/\' C50 ) ) by L137 , RELSET_1:28;
consider C54 being (Subset of R1) such that L140: C54 in ( '/\' C49 ) and L141: C51 in C54 and L142: C53 in C54 by L138 , PARTIT1:def 6;
consider C55 being (Subset of R1) such that L143: C55 in ( '/\' C50 ) and L144: C53 in C55 and L145: C52 in C55 by L139 , PARTIT1:def 6;
consider C56 being Function, C57 being (Subset-Family of R1) such that L146: (( dom C56 ) = C50 & ( rng C56 ) = C57) and L147: (for B43 being set holds (B43 in C50 implies ( C56 . B43 ) in B43)) and L148: C55 = ( Intersect C57 ) and L149: C55 <> ( {} ) by L143 , BVFUNC_2:def 1;
consider C58 being Function, C59 being (Subset-Family of R1) such that L150: (( dom C58 ) = C49 & ( rng C58 ) = C59) and L151: (for B44 being set holds (B44 in C49 implies ( C58 . B44 ) in B44)) and L152: C54 = ( Intersect C59 ) and L153: C54 <> ( {} ) by L140 , BVFUNC_2:def 1;
reconsider D6 = C49 , D7 = C50 as non  empty (Subset of ( PARTITIONS R1 )) by L136;
deffunc H1((Element of D6)) = ( EqClass (C52 , $1) );
consider C60 being (Function of D6 , ( bool R1 )) such that L154: (for B45 being (Element of D6) holds ( C60 . B45 ) = H1(B45)) from FUNCT_2:sch 4;
deffunc H2((Element of D7)) = ( EqClass (C51 , $1) );
consider C61 being (Function of D7 , ( bool R1 )) such that L155: (for B46 being (Element of D7) holds ( C61 . B46 ) = H2(B46)) from FUNCT_2:sch 4;
deffunc H3(set) = $1;
L156: (for B47 being (Element of D5) holds ( bool R1 ) meets H3(B47))
proof
let C62 being (Element of D5);
L157: C62 meets C62;
thus L158: ( bool R1 ) meets C62 by L157 , XBOOLE_1:63;
end;
consider C63 being (Function of D5 , ( bool R1 )) such that L159: (for B48 being (Element of D5) holds ( C63 . B48 ) in H3(B48)) from FUNCT_2:sch 10(L156);
set D8 = ( ( C63 +* C60 ) +* C61 );
L160: ( dom C61 ) = D7 by FUNCT_2:def 1;
L161: ( dom C60 ) = D6 by FUNCT_2:def 1;
L162: (for B49 being set holds (B49 in D6 implies ( D8 . B49 ) = ( C60 . B49 )))
proof
let C64 being set;
assume L163: C64 in D6;
reconsider D9 = C64 as (Element of D6) by L163;
per cases ;
suppose L164: C64 in D7;

L165: ( C56 . C64 ) in C57 by L164 , L146 , FUNCT_1:def 3;
L166: C52 in ( C56 . C64 ) by L165 , L145 , L148 , SETFAM_1:43;
L167: C53 in ( C56 . C64 ) by L144 , L148 , L165 , SETFAM_1:43;
L168: ( C56 . C64 ) in C64 by L147 , L164;
L169: ( C58 . C64 ) in C59 by L150 , L163 , FUNCT_1:def 3;
L170: C51 in ( C58 . C64 ) by L169 , L141 , L152 , SETFAM_1:43;
L171: C53 in ( C58 . C64 ) by L142 , L152 , L169 , SETFAM_1:43;
L172: ( C58 . C64 ) in C64 by L151 , L163;
thus L173: ( D8 . C64 ) = ( C61 . C64 ) by L160 , L164 , FUNCT_4:13
.= ( EqClass (C51 , D9) ) by L155 , L164
.= ( C58 . C64 ) by L172 , L170 , EQREL_1:def 6
.= ( EqClass (C53 , D9) ) by L172 , L171 , EQREL_1:def 6
.= ( C56 . C64 ) by L168 , L167 , EQREL_1:def 6
.= ( EqClass (C52 , D9) ) by L168 , L166 , EQREL_1:def 6
.= ( C60 . C64 ) by L154;
end;
suppose L174: (not C64 in D7);

thus L175: ( D8 . C64 ) = ( ( C63 +* C60 ) . C64 ) by L174 , L160 , FUNCT_4:11
.= ( C60 . C64 ) by L161 , L163 , FUNCT_4:13;
end;
end;
reconsider D10 = ( rng C60 ) , D11 = ( rng C61 ) as (Subset-Family of R1);
set D12 = ( Intersect D10 );
set D13 = ( Intersect D11 );
L177: (for B50 being set holds (B50 in D10 implies C52 in B50))
proof
let C65 being set;
assume L178: C65 in D10;
consider C66 being set such that L179: C66 in ( dom C60 ) and L180: ( C60 . C66 ) = C65 by L178 , FUNCT_1:def 3;
reconsider D14 = C66 as (Element of D6) by L179;
L181: C65 = ( EqClass (C52 , D14) ) by L154 , L180;
thus L182: thesis by L181 , EQREL_1:def 6;
end;
L183: C52 in D12 by L177 , SETFAM_1:43;
L184: (for B51 being set holds (B51 in D11 implies C51 in B51))
proof
let C67 being set;
assume L185: C67 in D11;
consider C68 being set such that L186: C68 in ( dom C61 ) and L187: ( C61 . C68 ) = C67 by L185 , FUNCT_1:def 3;
reconsider D15 = C68 as (Element of D7) by L186;
L188: C67 = ( EqClass (C51 , D15) ) by L155 , L187;
thus L189: thesis by L188 , EQREL_1:def 6;
end;
L190: C51 in D13 by L184 , SETFAM_1:43;
L191: (for B52 being set holds (B52 in D7 implies ( C61 . B52 ) in B52))
proof
let C69 being set;
assume L192: C69 in D7;
reconsider D16 = C69 as (Element of D7) by L192;
L193: ( C61 . D16 ) = ( EqClass (C51 , D16) ) by L155;
thus L194: thesis by L193;
end;
L195: ( rng ( C63 +* C60 ) ) c= ( ( rng C63 ) \/ ( rng C60 ) ) by FUNCT_4:17;
L196: ( rng ( C63 +* C60 ) ) c= ( bool R1 ) by L195 , XBOOLE_1:1;
L197: (( rng D8 ) c= ( ( rng ( C63 +* C60 ) ) \/ ( rng C61 ) ) & ( ( rng ( C63 +* C60 ) ) \/ ( rng C61 ) ) c= ( bool R1 )) by L196 , FUNCT_4:17 , XBOOLE_1:8;
reconsider D17 = ( rng D8 ) as (Subset-Family of R1) by L197 , XBOOLE_1:1;
L198: ( dom D8 ) = ( ( dom ( C63 +* C60 ) ) \/ D7 ) by L160 , FUNCT_4:def 1
.= ( ( ( dom C63 ) \/ D6 ) \/ D7 ) by L161 , FUNCT_4:def 1
.= ( ( R3 \/ D6 ) \/ D7 ) by FUNCT_2:def 1
.= ( R3 \/ D7 ) by L126 , XBOOLE_1:12
.= R3 by L127 , XBOOLE_1:12;
L199: (for B53 being set holds (B53 in D6 implies ( C60 . B53 ) in B53))
proof
let C70 being set;
assume L200: C70 in D6;
reconsider D18 = C70 as (Element of D6) by L200;
L201: ( C60 . D18 ) = ( EqClass (C52 , D18) ) by L154;
thus L202: thesis by L201;
end;
L203: (for B54 being set holds (B54 in R3 implies ( D8 . B54 ) in B54))
proof
let C71 being set;
assume L204: C71 in R3;
L205: R3 = ( ( D6 \/ D7 ) \/ R3 ) by L126 , L127 , XBOOLE_1:8 , XBOOLE_1:12
.= ( ( R3 \ ( D6 \/ D7 ) ) \/ ( D6 \/ D7 ) ) by XBOOLE_1:39;
L206: (C71 in ( R3 \ ( D6 \/ D7 ) ) or C71 in ( D6 \/ D7 )) by L205 , L204 , XBOOLE_0:def 3;
per cases  by L206 , XBOOLE_0:def 3;
suppose L207: C71 in D7;

L208: ( D8 . C71 ) = ( C61 . C71 ) by L207 , L160 , FUNCT_4:13;
thus L209: thesis by L208 , L191 , L207;
end;
suppose L210: C71 in D6;

L211: ( D8 . C71 ) = ( C60 . C71 ) by L210 , L162;
thus L212: thesis by L211 , L199 , L210;
end;
suppose L213: C71 in ( R3 \ ( D6 \/ D7 ) );

L214: (not C71 in ( D6 \/ D7 )) by L213 , XBOOLE_0:def 5;
L215: (D8 = ( C63 +* ( C60 +* C61 ) ) & (not C71 in ( dom ( C60 +* C61 ) ))) by L214 , L161 , L160 , FUNCT_4:14 , FUNCT_4:def 1;
L216: ( D8 . C71 ) = ( C63 . C71 ) by L215 , FUNCT_4:11;
L217: C71 in R3 by L213 , XBOOLE_0:def 5;
thus L218: thesis by L217 , L159 , L216;
end;
end;
L220: ( Intersect D17 ) <> ( {} ) by L203 , L125 , L198 , BVFUNC_2:def 5;
consider C72 being (Element of R1) such that L221: C72 in ( Intersect D17 ) by L220 , SUBSET_1:4;
L222: (for B55 being set holds (B55 in D10 implies C72 in B55))
proof
let C73 being set;
assume L223: C73 in D10;
consider C74 being set such that L224: C74 in ( dom C60 ) and L225: ( C60 . C74 ) = C73 by L223 , FUNCT_1:def 3;
L226: ( C60 . C74 ) = ( D8 . C74 ) by L162 , L224;
L227: C73 in D17 by L226 , L126 , L161 , L198 , L224 , L225 , FUNCT_1:def 3;
thus L228: thesis by L227 , L221 , SETFAM_1:43;
end;
L229: C72 in D12 by L222 , SETFAM_1:43;
L230: D12 in ( '/\' D6 ) by L229 , L199 , L161 , BVFUNC_2:def 1;
L231: [ C72 , C52 ] in ( ERl ( '/\' D6 ) ) by L230 , L183 , L229 , PARTIT1:def 6;
L232: (for B56 being set holds (B56 in D11 implies C72 in B56))
proof
let C75 being set;
assume L233: C75 in D11;
consider C76 being set such that L234: C76 in ( dom C61 ) and L235: ( C61 . C76 ) = C75 by L233 , FUNCT_1:def 3;
reconsider D19 = C76 as (Element of D7) by L234;
L236: ( C61 . D19 ) = ( D8 . D19 ) by L234 , FUNCT_4:13;
L237: C75 in D17 by L236 , L127 , L160 , L198 , L234 , L235 , FUNCT_1:def 3;
thus L238: thesis by L237 , L221 , SETFAM_1:43;
end;
L239: C72 in D13 by L232 , SETFAM_1:43;
L240: D13 in ( '/\' D7 ) by L239 , L191 , L160 , BVFUNC_2:def 1;
L241: [ C51 , C72 ] in ( ERl ( '/\' D7 ) ) by L240 , L190 , L239 , PARTIT1:def 6;
thus L242: thesis by L241 , L231 , RELSET_1:28;
end;
end;
theorem
L244: (for R1 being non  empty set holds (for R3 being (Subset of ( PARTITIONS R1 )) holds (R3 is  independent implies (for B57 , B58 being (Subset of ( PARTITIONS R1 )) holds ((B57 c= R3 & B58 c= R3) implies ( ( ERl ( '/\' B57 ) ) * ( ERl ( '/\' B58 ) ) ) = ( ( ERl ( '/\' B58 ) ) * ( ERl ( '/\' B57 ) ) ))))))
proof
let R1 being non  empty set;
let R3 being (Subset of ( PARTITIONS R1 ));
assume L245: R3 is  independent;
let C77 , C78 being (Subset of ( PARTITIONS R1 ));
assume L246: (C77 c= R3 & C78 c= R3);
L247: (( ( ERl ( '/\' C77 ) ) * ( ERl ( '/\' C78 ) ) ) c= ( ( ERl ( '/\' C78 ) ) * ( ERl ( '/\' C77 ) ) ) & ( ( ERl ( '/\' C78 ) ) * ( ERl ( '/\' C77 ) ) ) c= ( ( ERl ( '/\' C77 ) ) * ( ERl ( '/\' C78 ) ) )) by L246 , L245 , L124;
thus L248: thesis by L247 , XBOOLE_0:def 10;
end;
theorem
L249: (for R1 being non  empty set holds (for R2 being (Function of R1 , ( BOOLEAN )) holds (for R3 being (Subset of ( PARTITIONS R1 )) holds (for R4 being (a_partition of R1) holds (for R5 being (a_partition of R1) holds (R3 is  independent implies ( All (( All (R2 , R4 , R3) ) , R5 , R3) ) = ( All (( All (R2 , R5 , R3) ) , R4 , R3) )))))))
proof
let R1 being non  empty set;
let R2 being (Function of R1 , ( BOOLEAN ));
let R3 being (Subset of ( PARTITIONS R1 ));
let R4 being (a_partition of R1);
let R5 being (a_partition of R1);
set D20 = ( R3 \ { R4 } );
set D21 = ( R3 \ { R5 } );
L250: ( CompF (R4 , R3) ) = ( '/\' D20 ) by BVFUNC_2:def 7;
L251: (D20 c= R3 & D21 c= R3) by XBOOLE_1:36;
L252: ( CompF (R5 , R3) ) = ( '/\' D21 ) by BVFUNC_2:def 7;
assume L253: R3 is  independent;
L254: ( ( ERl ( '/\' D20 ) ) * ( ERl ( '/\' D21 ) ) ) = ( ( ERl ( '/\' D21 ) ) * ( ERl ( '/\' D20 ) ) ) by L253 , L251 , L244;
L255: (for B59 being (Element of R1) holds (((for B60 being (Element of R1) holds (B60 in ( EqClass (B59 , ( CompF (R5 , R3) )) ) implies ( ( B_INF (R2 , ( CompF (R4 , R3) )) ) . B60 ) = ( TRUE ))) implies ( ( B_INF (( B_INF (R2 , ( CompF (R5 , R3) )) ) , ( CompF (R4 , R3) )) ) . B59 ) = ( TRUE )) & ((not (for B61 being (Element of R1) holds (B61 in ( EqClass (B59 , ( CompF (R5 , R3) )) ) implies ( ( B_INF (R2 , ( CompF (R4 , R3) )) ) . B61 ) = ( TRUE )))) implies ( ( B_INF (( B_INF (R2 , ( CompF (R5 , R3) )) ) , ( CompF (R4 , R3) )) ) . B59 ) = ( FALSE ))))
proof
let C79 being (Element of R1);
thus L256:now
assume L257: (for B62 being (Element of R1) holds (B62 in ( EqClass (C79 , ( CompF (R5 , R3) )) ) implies ( ( B_INF (R2 , ( CompF (R4 , R3) )) ) . B62 ) = ( TRUE )));
L258: (for B63 being (Element of R1) holds (B63 in ( EqClass (C79 , ( CompF (R4 , R3) )) ) implies ( ( B_INF (R2 , ( CompF (R5 , R3) )) ) . B63 ) = ( TRUE )))
proof
let C80 being (Element of R1);
assume L259: C80 in ( EqClass (C79 , ( CompF (R4 , R3) )) );
L260: [ C80 , C79 ] in ( ERl ( '/\' D20 ) ) by L259 , L250 , L40;
L261: (for B64 being (Element of R1) holds (B64 in ( EqClass (C80 , ( CompF (R5 , R3) )) ) implies ( R2 . B64 ) = ( TRUE )))
proof
let C81 being (Element of R1);
assume L262: C81 in ( EqClass (C80 , ( CompF (R5 , R3) )) );
L263: [ C81 , C80 ] in ( ERl ( '/\' D21 ) ) by L262 , L252 , L40;
L264: [ C81 , C79 ] in ( ( ERl ( '/\' D20 ) ) * ( ERl ( '/\' D21 ) ) ) by L263 , L254 , L260 , RELAT_1:def 8;
consider C82 being set such that L265: [ C81 , C82 ] in ( ERl ( '/\' D20 ) ) and L266: [ C82 , C79 ] in ( ERl ( '/\' D21 ) ) by L264 , RELAT_1:def 8;
L267: C82 in ( field ( ERl ( '/\' D21 ) ) ) by L266 , RELAT_1:15;
reconsider D22 = C82 as (Element of R1) by L267 , ORDERS_1:12;
L268: D22 in ( EqClass (C79 , ( CompF (R5 , R3) )) ) by L252 , L266 , L40;
L269: ( ( B_INF (R2 , ( CompF (R4 , R3) )) ) . D22 ) <> ( FALSE ) by L268 , L257;
L270: C81 in ( EqClass (D22 , ( CompF (R4 , R3) )) ) by L250 , L265 , L40;
thus L271: thesis by L270 , L269 , BVFUNC_1:def 16;
end;
thus L272: thesis by L261 , BVFUNC_1:def 16;
end;
thus L273: ( ( B_INF (( B_INF (R2 , ( CompF (R5 , R3) )) ) , ( CompF (R4 , R3) )) ) . C79 ) = ( TRUE ) by L258 , BVFUNC_1:def 16;
end;
given C83 being (Element of R1) such that
L274: C83 in ( EqClass (C79 , ( CompF (R5 , R3) )) )
and
L275: ( ( B_INF (R2 , ( CompF (R4 , R3) )) ) . C83 ) <> ( TRUE );

consider C84 being (Element of R1) such that L276: C84 in ( EqClass (C83 , ( CompF (R4 , R3) )) ) and L277: ( R2 . C84 ) <> ( TRUE ) by L275 , BVFUNC_1:def 16;
L278: [ C83 , C79 ] in ( ERl ( '/\' D21 ) ) by L252 , L274 , L40;
L279: [ C84 , C83 ] in ( ERl ( '/\' D20 ) ) by L250 , L276 , L40;
L280: [ C84 , C79 ] in ( ( ERl ( '/\' D21 ) ) * ( ERl ( '/\' D20 ) ) ) by L279 , L254 , L278 , RELAT_1:def 8;
consider C85 being set such that L281: [ C84 , C85 ] in ( ERl ( '/\' D21 ) ) and L282: [ C85 , C79 ] in ( ERl ( '/\' D20 ) ) by L280 , RELAT_1:def 8;
L283: C85 in ( field ( ERl ( '/\' D21 ) ) ) by L281 , RELAT_1:15;
reconsider D23 = C85 as (Element of R1) by L283 , ORDERS_1:12;
L284: C84 in ( EqClass (D23 , ( CompF (R5 , R3) )) ) by L252 , L281 , L40;
L285: ( ( B_INF (R2 , ( CompF (R5 , R3) )) ) . D23 ) = ( FALSE ) by L284 , L277 , BVFUNC_1:def 16;
L286: D23 in ( EqClass (C79 , ( CompF (R4 , R3) )) ) by L250 , L282 , L40;
thus L287: thesis by L286 , L285 , BVFUNC_1:def 16;
end;
thus L288: ( All (( All (R2 , R4 , R3) ) , R5 , R3) ) = ( B_INF (( All (R2 , R4 , R3) ) , ( CompF (R5 , R3) )) ) by BVFUNC_2:def 9
.= ( B_INF (( B_INF (R2 , ( CompF (R4 , R3) )) ) , ( CompF (R5 , R3) )) ) by BVFUNC_2:def 9
.= ( B_INF (( B_INF (R2 , ( CompF (R5 , R3) )) ) , ( CompF (R4 , R3) )) ) by L255 , BVFUNC_1:def 16
.= ( B_INF (( All (R2 , R5 , R3) ) , ( CompF (R4 , R3) )) ) by BVFUNC_2:def 9
.= ( All (( All (R2 , R5 , R3) ) , R4 , R3) ) by BVFUNC_2:def 9;
end;
theorem
L289: (for R1 being non  empty set holds (for R2 being (Function of R1 , ( BOOLEAN )) holds (for R3 being (Subset of ( PARTITIONS R1 )) holds (for R4 being (a_partition of R1) holds (for R5 being (a_partition of R1) holds (R3 is  independent implies ( Ex (( Ex (R2 , R4 , R3) ) , R5 , R3) ) = ( Ex (( Ex (R2 , R5 , R3) ) , R4 , R3) )))))))
proof
let R1 being non  empty set;
let R2 being (Function of R1 , ( BOOLEAN ));
let R3 being (Subset of ( PARTITIONS R1 ));
let R4 being (a_partition of R1);
let R5 being (a_partition of R1);
assume L290: R3 is  independent;
thus L291: ( Ex (( Ex (R2 , R4 , R3) ) , R5 , R3) ) = ( 'not' ( 'not' ( Ex (( Ex (R2 , R4 , R3) ) , R5 , R3) ) ) )
.= ( 'not' ( All (( 'not' ( Ex (R2 , R4 , R3) ) ) , R5 , R3) ) ) by BVFUNC_2:19
.= ( 'not' ( All (( All (( 'not' R2 ) , R4 , R3) ) , R5 , R3) ) ) by BVFUNC_2:19
.= ( 'not' ( All (( All (( 'not' R2 ) , R5 , R3) ) , R4 , R3) ) ) by L290 , L249
.= ( 'not' ( All (( 'not' ( Ex (R2 , R5 , R3) ) ) , R4 , R3) ) ) by BVFUNC_2:19
.= ( 'not' ( 'not' ( Ex (( Ex (R2 , R5 , R3) ) , R4 , R3) ) ) ) by BVFUNC_2:19
.= ( Ex (( Ex (R2 , R5 , R3) ) , R4 , R3) );
end;
theorem
L292: (for R1 being non  empty set holds (for B65 being (Function of R1 , ( BOOLEAN )) holds (for B66 being (Subset of ( PARTITIONS R1 )) holds (for B67 , B68 being (a_partition of R1) holds (B66 is  independent implies ( Ex (( All (B65 , B67 , B66) ) , B68 , B66) ) '<' ( All (( Ex (B65 , B68 , B66) ) , B67 , B66) ))))))
proof
let R1 being non  empty set;
let C86 being (Function of R1 , ( BOOLEAN ));
let C87 being (Subset of ( PARTITIONS R1 ));
let C88 , C89 being (a_partition of R1);
assume that
L293: C87 is  independent;
set D24 = ( C87 \ { C88 } );
set D25 = ( C87 \ { C89 } );
L294: (D24 c= C87 & D25 c= C87) by XBOOLE_1:36;
L295: ( ( ERl ( '/\' D24 ) ) * ( ERl ( '/\' D25 ) ) ) = ( ( ERl ( '/\' D25 ) ) * ( ERl ( '/\' D24 ) ) ) by L294 , L293 , L244;
L296: ( CompF (C88 , C87) ) = ( '/\' D24 ) by BVFUNC_2:def 7;
L297: ( Ex (( All (C86 , C88 , C87) ) , C89 , C87) ) = ( B_SUP (( All (C86 , C88 , C87) ) , ( CompF (C89 , C87) )) ) by BVFUNC_2:def 10;
L298: ( CompF (C89 , C87) ) = ( '/\' D25 ) by BVFUNC_2:def 7;
let C90 being (Element of R1);
assume that
L299: ( ( Ex (( All (C86 , C88 , C87) ) , C89 , C87) ) . C90 ) = ( TRUE );
L300: (for B69 being (Element of R1) holds (B69 in ( EqClass (C90 , ( CompF (C88 , C87) )) ) implies ( ( Ex (C86 , C89 , C87) ) . B69 ) = ( TRUE )))
proof
let C91 being (Element of R1);
consider C92 being (Element of R1) such that L301: C92 in ( EqClass (C90 , ( CompF (C89 , C87) )) ) and L302: ( ( All (C86 , C88 , C87) ) . C92 ) = ( TRUE ) by L299 , L297 , BVFUNC_1:def 17;
assume L303: C91 in ( EqClass (C90 , ( CompF (C88 , C87) )) );
L304: [ C91 , C90 ] in ( ERl ( '/\' D24 ) ) by L303 , L296 , L40;
L305: [ C90 , C91 ] in ( ERl ( '/\' D24 ) ) by L304 , EQREL_1:6;
L306: [ C92 , C90 ] in ( ERl ( '/\' D25 ) ) by L298 , L301 , L40;
L307: [ C92 , C91 ] in ( ( ERl ( '/\' D24 ) ) * ( ERl ( '/\' D25 ) ) ) by L306 , L295 , L305 , RELAT_1:def 8;
consider C93 being set such that L308: [ C92 , C93 ] in ( ERl ( '/\' D24 ) ) and L309: [ C93 , C91 ] in ( ERl ( '/\' D25 ) ) by L307 , RELAT_1:def 8;
L310: C93 in ( field ( ERl ( '/\' D25 ) ) ) by L309 , RELAT_1:15;
reconsider D26 = C93 as (Element of R1) by L310 , ORDERS_1:12;
L311: [ D26 , C92 ] in ( ERl ( '/\' D24 ) ) by L308 , EQREL_1:6;
L312: (( All (C86 , C88 , C87) ) = ( B_INF (C86 , ( CompF (C88 , C87) )) ) & D26 in ( EqClass (C92 , ( CompF (C88 , C87) )) )) by L311 , L296 , L40 , BVFUNC_2:def 9;
L313: ( C86 . D26 ) = ( TRUE ) by L312 , L302 , BVFUNC_1:def 16;
L314: (( Ex (C86 , C89 , C87) ) = ( B_SUP (C86 , ( CompF (C89 , C87) )) ) & D26 in ( EqClass (C91 , ( CompF (C89 , C87) )) )) by L298 , L309 , L40 , BVFUNC_2:def 10;
thus L315: thesis by L314 , L313 , BVFUNC_1:def 17;
end;
L316: ( All (( Ex (C86 , C89 , C87) ) , C88 , C87) ) = ( B_INF (( Ex (C86 , C89 , C87) ) , ( CompF (C88 , C87) )) ) by BVFUNC_2:def 9;
thus L317: thesis by L316 , L300 , BVFUNC_1:def 16;
end;
begin
notation
let C94 , C95 being set;
synonym [#] (C94 , C95) for [:C94 , C95 :];
end;
definition
let C96 , C97 being set;
func {} (C96 , C97) -> (Relation of C96 , C97) equals 
( {} );
correctness by RELSET_1:12;
redefine func [#] (C96 , C97) -> (Relation of C96 , C97);

correctness
proof
L319: ( [#] (C96 , C97) ) c= [: C96 , C97 :];
thus L320: thesis by L319;
end;
end;
registration
let C98 , C99 being set;
cluster ( {} (C98 , C99) ) ->  empty;
coherence;
end;
theorem
L323: (for R10 being non  empty set holds ( field ( id R10 ) ) = R10)
proof
let R10 being non  empty set;
L324: (( dom ( id R10 ) ) = R10 & ( rng ( id R10 ) ) = R10);
L325: ( field ( id R10 ) ) = ( R10 \/ R10 ) by L324 , RELAT_1:def 6;
thus L326: thesis by L325;
end;
theorem
L327: ( op1 ) = { [ ( {} ) , ( {} ) ] }
proof
L328: { ( {} ) } = ( dom ( op1 ) ) by CARD_1:49 , FUNCT_2:def 1;
L329: ( {} ) in ( dom ( op1 ) ) by L328 , TARSKI:def 1;
L330: [ ( {} ) , ( ( op1 ) . ( {} ) ) ] in ( op1 ) by L329 , FUNCT_1:def 2;
L331: { [ ( {} ) , ( ( op1 ) . ( {} ) ) ] } c= ( op1 ) by L330 , ZFMISC_1:31;
L332: ( rng ( op1 ) ) = { ( ( op1 ) . ( {} ) ) } by CARD_1:49 , FUNCT_2:48;
L333: ( ( op1 ) . ( {} ) ) = ( {} ) by L332 , CARD_1:49 , ZFMISC_1:18;
L334: ( op1 ) c= [: { ( {} ) } , { ( {} ) } :] by CARD_1:49;
L335: ( op1 ) c= { [ ( {} ) , ( {} ) ] } by L334 , ZFMISC_1:29;
thus L336: thesis by L335 , L333 , L331 , XBOOLE_0:def 10;
end;
theorem
L337: (for B70 , B71 being set holds ( field ( {} (B70 , B71) ) ) = ( {} )) by RELAT_1:40;
theorem
L338: (for R10 being non  empty set holds (for R11 being (Relation of R10) holds (R11 is_reflexive_in R10 implies (R11 is  reflexive & ( field R11 ) = R10))))
proof
let R10 being non  empty set;
let R11 being (Relation of R10);
assume L339: R11 is_reflexive_in R10;
L340: R10 = ( field R11 ) by L339 , L70;
thus L341: thesis by L340 , L339 , RELAT_2:def 9;
end;
theorem
L342: (for R10 being non  empty set holds (for R11 being (Relation of R10) holds (R11 is_symmetric_in R10 implies R11 is  symmetric)))
proof
let R10 being non  empty set;
let R11 being (Relation of R10);
assume L343: R11 is_symmetric_in R10;
let C100 , C101 being set;
L344: ( field R11 ) c= ( R10 \/ R10 ) by RELSET_1:8;
thus L345: thesis by L344 , L343 , RELAT_2:def 3;
end;
theorem
L346: (for R9 being non  empty set holds (for R10 being non  empty set holds (for R11 being (Relation of R10) holds (R11 is  symmetric implies R11 is_symmetric_in R9))))
proof
let R9 being non  empty set;
let R10 being non  empty set;
let R11 being (Relation of R10);
assume L347: R11 is  symmetric;
L348: R11 is_symmetric_in ( field R11 ) by L347 , RELAT_2:def 11;
let C102 , C103 being set;
assume L349: (C102 in R9 & C103 in R9);
assume L350: [ C102 , C103 ] in R11;
L351: (C102 in ( field R11 ) & C103 in ( field R11 )) by L350 , RELAT_1:15;
thus L352: thesis by L351 , L348 , L350 , RELAT_2:def 3;
end;
theorem
L353: (for R9 being non  empty set holds (for R10 being non  empty set holds (for R11 being (Relation of R10) holds (R11 is  antisymmetric implies R11 is_antisymmetric_in R9))))
proof
let R9 being non  empty set;
let R10 being non  empty set;
let R11 being (Relation of R10);
assume L354: R11 is  antisymmetric;
L355: R11 is_antisymmetric_in ( field R11 ) by L354 , RELAT_2:def 12;
let C104 , C105 being set;
assume L356: (C104 in R9 & C105 in R9);
assume L357: [ C104 , C105 ] in R11;
L358: (C104 in ( field R11 ) & C105 in ( field R11 )) by L357 , RELAT_1:15;
thus L359: thesis by L358 , L355 , L357 , RELAT_2:def 4;
end;
theorem
L360: (for R10 being non  empty set holds (for R11 being (Relation of R10) holds (R11 is_antisymmetric_in R10 implies R11 is  antisymmetric)))
proof
let R10 being non  empty set;
let R11 being (Relation of R10);
assume L361: R11 is_antisymmetric_in R10;
let C106 , C107 being set;
L362: ( field R11 ) c= ( R10 \/ R10 ) by RELSET_1:8;
thus L363: thesis by L362 , L361 , RELAT_2:def 4;
end;
theorem
L364: (for R9 being non  empty set holds (for R10 being non  empty set holds (for R11 being (Relation of R10) holds (R11 is  transitive implies R11 is_transitive_in R9))))
proof
let R9 being non  empty set;
let R10 being non  empty set;
let R11 being (Relation of R10);
assume L365: R11 is  transitive;
L366: R11 is_transitive_in ( field R11 ) by L365 , RELAT_2:def 16;
let C108 , C109 , C110 being set;
assume L367: (C108 in R9 & C109 in R9 & C110 in R9);
assume L368: [ C108 , C109 ] in R11;
L369: C108 in ( field R11 ) by L368 , RELAT_1:15;
assume L370: [ C109 , C110 ] in R11;
L371: (C109 in ( field R11 ) & C110 in ( field R11 )) by L370 , RELAT_1:15;
thus L372: thesis by L371 , L366 , L368 , L370 , L369 , RELAT_2:def 8;
end;
theorem
L373: (for R10 being non  empty set holds (for R11 being (Relation of R10) holds (R11 is_transitive_in R10 implies R11 is  transitive)))
proof
let R10 being non  empty set;
let R11 being (Relation of R10);
assume L374: R11 is_transitive_in R10;
let C111 , C112 , C113 being set;
L375: ( field R11 ) c= ( R10 \/ R10 ) by RELSET_1:8;
thus L376: thesis by L375 , L374 , RELAT_2:def 8;
end;
theorem
L377: (for R9 being non  empty set holds (for R10 being non  empty set holds (for R11 being (Relation of R10) holds (R11 is  asymmetric implies R11 is_asymmetric_in R9))))
proof
let R9 being non  empty set;
let R10 being non  empty set;
let R11 being (Relation of R10);
assume L378: R11 is  asymmetric;
L379: R11 is_asymmetric_in ( field R11 ) by L378 , RELAT_2:def 13;
let C114 , C115 being set;
assume L380: (C114 in R9 & C115 in R9);
assume L381: [ C114 , C115 ] in R11;
L382: (C114 in ( field R11 ) & C115 in ( field R11 )) by L381 , RELAT_1:15;
thus L383: thesis by L382 , L379 , L381 , RELAT_2:def 5;
end;
theorem
L384: (for R10 being non  empty set holds (for R11 being (Relation of R10) holds (R11 is_asymmetric_in R10 implies R11 is  asymmetric)))
proof
let R10 being non  empty set;
let R11 being (Relation of R10);
assume L385: R11 is_asymmetric_in R10;
let C116 , C117 being set;
L386: ( field R11 ) c= ( R10 \/ R10 ) by RELSET_1:8;
thus L387: thesis by L386 , L385 , RELAT_2:def 5;
end;
theorem
L388: (for R9 being non  empty set holds (for R10 being non  empty set holds (for R11 being (Relation of R10) holds ((R11 is  irreflexive & ( field R11 ) c= R9) implies R11 is_irreflexive_in R9))))
proof
let R9 being non  empty set;
let R10 being non  empty set;
let R11 being (Relation of R10);
assume that
L389: R11 is  irreflexive
and
L390: ( field R11 ) c= R9;
let C118 being set;
L391: R9 = ( ( field R11 ) \/ ( R9 \ ( field R11 ) ) ) by L390 , XBOOLE_1:45;
L392: (C118 in R9 implies (C118 in ( field R11 ) or C118 in ( R9 \ ( field R11 ) ))) by L391 , XBOOLE_0:def 3;
L393: (C118 in ( R9 \ ( field R11 ) ) implies (not [ C118 , C118 ] in R11))
proof
assume L394: C118 in ( R9 \ ( field R11 ) );
L395: C118 in ( R9 \ ( ( dom R11 ) \/ ( rng R11 ) ) ) by L394 , RELAT_1:def 6;
L396: C118 in ( ( R9 \ ( dom R11 ) ) /\ ( R9 \ ( rng R11 ) ) ) by L395 , XBOOLE_1:53;
L397: C118 in ( R9 \ ( rng R11 ) ) by L396 , XBOOLE_0:def 4;
L398: (not C118 in ( rng R11 )) by L397 , XBOOLE_0:def 5;
thus L399: thesis by L398 , XTUPLE_0:def 13;
end;
L400: R11 is_irreflexive_in ( field R11 ) by L389 , RELAT_2:def 10;
thus L401: thesis by L400 , L392 , L393 , RELAT_2:def 2;
end;
theorem
L402: (for R10 being non  empty set holds (for R11 being (Relation of R10) holds (R11 is_irreflexive_in R10 implies R11 is  irreflexive)))
proof
let R10 being non  empty set;
let R11 being (Relation of R10);
L403: ( field R11 ) c= ( R10 \/ R10 ) by RELSET_1:8;
assume L404: R11 is_irreflexive_in R10;
L405: (for B72 being set holds (B72 in ( field R11 ) implies (not [ B72 , B72 ] in R11))) by L404 , L403 , RELAT_2:def 2;
L406: R11 is_irreflexive_in ( field R11 ) by L405 , RELAT_2:def 2;
thus L407: thesis by L406 , RELAT_2:def 10;
end;
registration
cluster  empty ->  irreflexive  asymmetric  transitive for Relation;
coherence
proof
let C119 being Relation;
assume L408: C119 is  empty;
thus L409: (for R6 being set holds (R6 in ( field C119 ) implies (not [ R6 , R6 ] in C119))) by L408;
thus L410: (for R6 being set holds (for R7 being set holds ((R6 in ( field C119 ) & R7 in ( field C119 ) & [ R6 , R7 ] in C119) implies (not [ R7 , R6 ] in C119)))) by L408;
thus L411: (for R6 being set holds (for R7 being set holds (for R8 being set holds ((R6 in ( field C119 ) & R7 in ( field C119 ) & R8 in ( field C119 ) & [ R6 , R7 ] in C119 & [ R7 , R8 ] in C119) implies [ R6 , R8 ] in C119)))) by L408;
end;
end;
definition
let C120 being Function;
attr C120 is  involutive
means
:L413: (for B73 being set holds (B73 in ( dom C120 ) implies ( C120 . ( C120 . B73 ) ) = B73));
end;
definition
let R10 being non  empty set;
let C121 being (UnOp of R10);
redefine attr C121 is  involutive
means
(for B74 being (Element of R10) holds ( C121 . ( C121 . B74 ) ) = B74);
compatibility
proof
L415: ( dom C121 ) = R10 by PARTFUN1:def 2;
thus L416: (C121 is  involutive implies (for B75 being (Element of R10) holds ( C121 . ( C121 . B75 ) ) = B75)) by L415 , L413;
assume L417: (for B76 being (Element of R10) holds ( C121 . ( C121 . B76 ) ) = B76);
let C122 being set;
assume L418: C122 in ( dom C121 );
thus L419: thesis by L418 , L417;
end;
end;
registration
cluster ( op1 ) ->  involutive for Function;
coherence
proof
L421: ( op1 ) is  involutive
proof
let C123 being (Element of 1);
L422: C123 = ( {} ) by CARD_1:49 , TARSKI:def 1;
thus L423: ( ( op1 ) . ( ( op1 ) . C123 ) ) = C123 by L422 , CARD_1:49 , FUNCT_2:50;
end;
thus L424: thesis by L421;
end;
end;
registration
let C124 being set;
cluster ( id C124 ) ->  involutive;
coherence
proof
set D27 = ( id C124 );
let C125 being set;
assume L426: C125 in ( dom D27 );
L427: C125 in C124 by L426;
L428: ( D27 . C125 ) = C125 by L427 , FUNCT_1:17;
thus L429: thesis by L428;
end;
end;
