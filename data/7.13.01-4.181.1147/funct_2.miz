:: Functions from a Set to a Set
::  by Czes{\l}aw Byli\'nski
::
:: Received April 6, 1989
:: Copyright (c) 1990-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies RELAT_1, XBOOLE_0, PARTFUN1, FUNCT_1, TARSKI, SUBSET_1, ZFMISC_1,
      RELAT_2, MCART_1, SETFAM_1, FUNCT_2, GROUP_9;
 notations TARSKI, XBOOLE_0, ZFMISC_1,
      XTUPLE_0, SUBSET_1, SETFAM_1, MCART_1, RELAT_1,
      RELAT_2, FUNCT_1, RELSET_1, PARTFUN1;
 constructors RELAT_2, PARTFUN1, MCART_1, SETFAM_1, RELSET_1, XTUPLE_0;
 registrations XBOOLE_0, SUBSET_1, RELAT_1, FUNCT_1, PARTFUN1, RELSET_1,
      GRFUNC_1, XTUPLE_0;
 requirements SUBSET, BOOLE;
 definitions TARSKI, XBOOLE_0, PARTFUN1, FUNCT_1, SUBSET_1, XTUPLE_0;
 theorems TARSKI, RELAT_1, FUNCT_1, ZFMISC_1, PARTFUN1, GRFUNC_1, RELSET_1,
      SUBSET_1, XBOOLE_0, XBOOLE_1, RELAT_2, MCART_1, SETFAM_1, XTUPLE_0;
 schemes FUNCT_1, PARTFUN1, XBOOLE_0, RELSET_1, SUBSET_1;

begin
definition
let R3 being set;
let R4 being set;
let C1 being (Relation of R3 , R4);
attr C1 is  quasi_total
means
:L1: R3 = ( dom C1 ) if R4 <> ( {} ) otherwise C1 = ( {} );
consistency;
end;
registration
let R3 being set;
let R4 being set;
cluster  quasi_total for (PartFunc of R3 , R4);
existence
proof
per cases ;
suppose L3: R4 = ( {} );

reconsider D1 = ( {} ) as (PartFunc of R3 , R4) by RELSET_1:12;
take D1;
thus L4: thesis by L3 , L1;
end;
suppose L5: R4 <> ( {} );

consider C2 being Function such that L6: R3 = ( dom C2 ) and L7: ( rng C2 ) c= R4 by L5 , FUNCT_1:8;
reconsider D2 = C2 as (PartFunc of R3 , R4) by L6 , L7 , RELSET_1:4;
take D2;
thus L8: thesis by L5 , L6 , L1;
end;
end;
end;
registration
let R3 being set;
let R4 being set;
cluster  total ->  quasi_total for (Relation of R3 , R4);
coherence
proof
let C3 being (Relation of R3 , R4);
assume L11: ( dom C3 ) = R3;
per cases ;
case L12: R4 <> ( {} );
thus L13: thesis by L11;
end;
case L14: R4 = ( {} );
thus L15: thesis by L14;
end;
end;
end;
definition
let R3 being set;
let R4 being set;
mode Function of R3 , R4
 is  quasi_total (PartFunc of R3 , R4);
end;
registration
let C4 being  empty set;
let C5 being set;
cluster  quasi_total ->  total for (Relation of C4 , C5);
coherence;
end;
registration
let C6 being set;
let C7 being non  empty set;
cluster  quasi_total ->  total for (Relation of C6 , C7);
coherence
proof
let C8 being (Relation of C6 , C7);
assume L20: C8 is  quasi_total;
thus L21: C6 = ( dom C8 ) by L20 , L1;
end;
end;
registration
let C9 being set;
cluster  quasi_total ->  total for (Relation of C9 , C9);
coherence
proof
per cases ;
suppose L23: C9 = ( {} );

thus L24: thesis by L23;
end;
suppose L25: C9 <> ( {} );

thus L26: thesis by L25;
end;
end;
end;
theorem
L29: (for B1 being Function holds B1 is (Function of ( dom B1 ) , ( rng B1 )))
proof
let C10 being Function;
reconsider D3 = C10 as (Relation of ( dom C10 ) , ( rng C10 )) by RELSET_1:4;
L30: (( rng D3 ) <> ( {} ) or ( rng D3 ) = ( {} ));
thus L31: thesis by L30 , L1;
end;
theorem
L32: (for R4 being set holds (for B2 being Function holds (( rng B2 ) c= R4 implies B2 is (Function of ( dom B2 ) , R4))))
proof
let R4 being set;
let C11 being Function;
assume L33: ( rng C11 ) c= R4;
reconsider D4 = C11 as (Relation of ( dom C11 ) , R4) by L33 , RELSET_1:4;
L34: (R4 = ( {} ) or R4 <> ( {} ));
L35: D4 is  quasi_total by L34 , L1;
thus L36: thesis by L35;
end;
theorem
L37: (for R3 being set holds (for R4 being set holds (for B3 being Function holds ((( dom B3 ) = R3 & (for R7 being set holds (R7 in R3 implies ( B3 . R7 ) in R4))) implies B3 is (Function of R3 , R4)))))
proof
let R3 being set;
let R4 being set;
let C12 being Function;
assume that
L38: ( dom C12 ) = R3
and
L39: (for R7 being set holds (R7 in R3 implies ( C12 . R7 ) in R4));
L40: ( rng C12 ) c= R4
proof
let R11 being set;
assume L41: R11 in ( rng C12 );
L42: (ex R7 being set st (R7 in R3 & R11 = ( C12 . R7 ))) by L41 , L38 , FUNCT_1:def 3;
thus L43: thesis by L42 , L39;
end;
reconsider D5 = C12 as (Relation of ( dom C12 ) , R4) by L40 , RELSET_1:4;
L44: (R4 = ( {} ) or R4 <> ( {} ));
L45: D5 is  quasi_total by L44 , L1;
thus L46: thesis by L45 , L38;
end;
theorem
L47: (for R3 being set holds (for R4 being set holds (for R7 being set holds (for B4 being (Function of R3 , R4) holds ((R4 <> ( {} ) & R7 in R3) implies ( B4 . R7 ) in ( rng B4 ))))))
proof
let R3 being set;
let R4 being set;
let R7 being set;
let C13 being (Function of R3 , R4);
assume L48: R4 <> ( {} );
L49: ( dom C13 ) = R3 by L48 , L1;
thus L50: thesis by L49 , FUNCT_1:def 3;
end;
theorem
L51: (for R3 being set holds (for R4 being set holds (for R7 being set holds (for B5 being (Function of R3 , R4) holds ((R4 <> ( {} ) & R7 in R3) implies ( B5 . R7 ) in R4)))))
proof
let R3 being set;
let R4 being set;
let R7 being set;
let C14 being (Function of R3 , R4);
assume L52: (R4 <> ( {} ) & R7 in R3);
L53: ( C14 . R7 ) in ( rng C14 ) by L52 , L47;
thus L54: thesis by L53;
end;
theorem
L55: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for B6 being (Function of R3 , R4) holds (((R4 = ( {} ) implies R3 = ( {} )) & ( rng B6 ) c= R5) implies B6 is (Function of R3 , R5))))))
proof
let R3 being set;
let R4 being set;
let R5 being set;
let C15 being (Function of R3 , R4);
assume L56: (R4 <> ( {} ) or R3 = ( {} ));
L57: ( dom C15 ) = R3 by L56 , L1;
assume L58: ( rng C15 ) c= R5;
L59:
now
assume L60: R5 = ( {} );
L61: ( rng C15 ) = ( {} ) by L60 , L58;
thus L62: R3 = ( {} ) by L61 , L57 , RELAT_1:42;
end;
thus L63: thesis by L59 , L57 , L58 , L1 , RELSET_1:4;
end;
theorem
L64: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for B7 being (Function of R3 , R4) holds (((R4 = ( {} ) implies R3 = ( {} )) & R4 c= R5) implies B7 is (Function of R3 , R5)))))) by RELSET_1:7;
scheme FuncEx1 { F1 , F2() -> set , P1[set , set] } : (ex B8 being (Function of F1() , F2()) st (for R7 being set holds (R7 in F1() implies P1[ R7 , ( B8 . R7 ) ])))
provided
L65: (for R7 being set holds (R7 in F1() implies (ex R11 being set st (R11 in F2() & P1[ R7 , R11 ]))))
proof
consider C16 being Function such that L66: (( dom C16 ) = F1() & ( rng C16 ) c= F2()) and L67: (for R7 being set holds (R7 in F1() implies P1[ R7 , ( C16 . R7 ) ])) from FUNCT_1:sch 5(L65);
reconsider D6 = C16 as (Function of F1() , F2()) by L66 , L32;
take D6;
thus L68: thesis by L67;
end;
scheme Lambda1 { F3 , F4() -> set , F5(set) -> set } : (ex B9 being (Function of F3() , F4()) st (for R7 being set holds (R7 in F3() implies ( B9 . R7 ) = F5(R7))))
provided
L69: (for R7 being set holds (R7 in F3() implies F5(R7) in F4()))
proof
defpred S1[ set , set ] means $2 = F5($1);
L70: (for R7 being set holds (R7 in F3() implies (ex R11 being set st (R11 in F4() & S1[ R7 , R11 ])))) by L69;
thus L71: (ex B10 being (Function of F3() , F4()) st (for R7 being set holds (R7 in F3() implies S1[ R7 , ( B10 . R7 ) ]))) from FuncEx1(L70);
end;
definition
let R3 being set;
let R4 being set;
func Funcs (R3 , R4) -> set means 
:L72: (for R7 being set holds (R7 in it iff (ex B11 being Function st (R7 = B11 & ( dom B11 ) = R3 & ( rng B11 ) c= R4))));
existence
proof
defpred S2[ set ] means (ex B12 being Function st ($1 = B12 & ( dom B12 ) = R3 & ( rng B12 ) c= R4));
consider C17 being set such that L73: (for R12 being set holds (R12 in C17 iff (R12 in ( bool [: R3 , R4 :] ) & S2[ R12 ]))) from XBOOLE_0:sch 1;
take C17;
let R12 being set;
thus L74: (R12 in C17 implies (ex B13 being Function st (R12 = B13 & ( dom B13 ) = R3 & ( rng B13 ) c= R4))) by L73;
given C18 being Function such that
L75: R12 = C18
and
L76: (( dom C18 ) = R3 & ( rng C18 ) c= R4);

L77: C18 c= [: R3 , R4 :]
proof
let R6 being set;
assume L78: R6 in C18;
consider R7 being set, R11 being set such that L79: R6 = [ R7 , R11 ] by L78 , RELAT_1:def 1;
L80: R7 in ( dom C18 ) by L78 , L79 , XTUPLE_0:def 12;
L81: R11 = ( C18 . R7 ) by L80 , L78 , L79 , FUNCT_1:def 2;
L82: R11 in ( rng C18 ) by L81 , L80 , FUNCT_1:def 3;
thus L83: thesis by L82 , L76 , L79 , L80 , ZFMISC_1:def 2;
end;
thus L84: thesis by L77 , L73 , L75 , L76;
end;
uniqueness
proof
let C19 , C20 being set;
assume that
L85: (for R7 being set holds (R7 in C19 iff (ex B14 being Function st (R7 = B14 & ( dom B14 ) = R3 & ( rng B14 ) c= R4))))
and
L86: (for R7 being set holds (R7 in C20 iff (ex B15 being Function st (R7 = B15 & ( dom B15 ) = R3 & ( rng B15 ) c= R4))));
L87: (for R7 being set holds (R7 in C19 iff R7 in C20))
proof
let R7 being set;
L88: (R7 in C19 iff (ex B16 being Function st (R7 = B16 & ( dom B16 ) = R3 & ( rng B16 ) c= R4))) by L85;
thus L89: thesis by L88 , L86;
end;
thus L90: thesis by L87 , TARSKI:1;
end;
end;
theorem
L92: (for R3 being set holds (for R4 being set holds (for B17 being (Function of R3 , R4) holds ((R4 = ( {} ) implies R3 = ( {} )) implies B17 in ( Funcs (R3 , R4) )))))
proof
let R3 being set;
let R4 being set;
let C21 being (Function of R3 , R4);
assume L93: (R4 = ( {} ) implies R3 = ( {} ));
L94: ( dom C21 ) = R3 by L93 , L1;
L95: ( rng C21 ) c= R4;
thus L96: thesis by L95 , L94 , L72;
end;
theorem
L97: (for R3 being set holds (for B18 being (Function of R3 , R3) holds B18 in ( Funcs (R3 , R3) ))) by L92;
registration
let C22 being set;
let C23 being non  empty set;
cluster ( Funcs (C22 , C23) ) -> non  empty;
coherence by L92;
end;
registration
let C24 being set;
cluster ( Funcs (C24 , C24) ) -> non  empty;
coherence by L92;
end;
registration
let C25 being non  empty set;
let C26 being  empty set;
cluster ( Funcs (C25 , C26) ) ->  empty;
coherence
proof
assume L100: ( Funcs (C25 , C26) ) is non  empty;
consider C27 being Function such that L101: the (Element of ( Funcs (C25 , C26) )) = C27 and L102: ( dom C27 ) = C25 and L103: ( rng C27 ) c= ( {} ) by L100 , L72;
L104: ( rng C27 ) = ( {} ) by L103;
thus L105: contradiction by L104 , L102 , RELAT_1:42;
end;
end;
theorem
L107: (for R3 being set holds (for R4 being set holds (for B19 being (Function of R3 , R4) holds ((for R11 being set holds (R11 in R4 implies (ex R7 being set st (R7 in R3 & R11 = ( B19 . R7 ))))) implies ( rng B19 ) = R4))))
proof
let R3 being set;
let R4 being set;
let C28 being (Function of R3 , R4);
assume that
L108: (for R11 being set holds (R11 in R4 implies (ex R7 being set st (R7 in R3 & R11 = ( C28 . R7 )))));
per cases ;
suppose L109: R4 = ( {} );

thus L110: thesis by L109;
end;
suppose L111: R4 <> ( {} );

L112: (for R11 being set holds (R11 in ( rng C28 ) iff R11 in R4))
proof
let R11 being set;
L113: ( dom C28 ) = R3 by L111 , L1;
L114: (R11 in ( rng C28 ) iff (ex R7 being set st (R7 in R3 & R11 = ( C28 . R7 )))) by L113 , FUNCT_1:def 3;
thus L115: thesis by L114 , L108;
end;
thus L116: thesis by L112 , TARSKI:1;
end;
end;
theorem
L118: (for R3 being set holds (for R4 being set holds (for R11 being set holds (for B20 being (Function of R3 , R4) holds (R11 in ( rng B20 ) implies (ex R7 being set st (R7 in R3 & ( B20 . R7 ) = R11)))))))
proof
let R3 being set;
let R4 being set;
let R11 being set;
let C29 being (Function of R3 , R4);
assume L119: R11 in ( rng C29 );
L120: ( dom C29 ) = R3 by L119 , L1;
thus L121: thesis by L120 , L119 , FUNCT_1:def 3;
end;
theorem
L122: (for R3 being set holds (for R4 being set holds (for B21 , B22 being (Function of R3 , R4) holds ((for R7 being set holds (R7 in R3 implies ( B21 . R7 ) = ( B22 . R7 ))) implies B21 = B22))))
proof
let R3 being set;
let R4 being set;
let C30 , C31 being (Function of R3 , R4);
per cases ;
suppose L123: R4 = ( {} );

thus L124: thesis by L123;
end;
suppose L125: R4 <> ( {} );

L126: (( dom C30 ) = R3 & ( dom C31 ) = R3) by L125 , L1;
thus L127: thesis by L126 , FUNCT_1:2;
end;
end;
theorem
L129: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for B23 being  quasi_total (Relation of R3 , R4) holds (for B24 being  quasi_total (Relation of R4 , R5) holds ((R4 = ( {} ) implies (R5 = ( {} ) or R3 = ( {} ))) implies ( B23 * B24 ) is  quasi_total))))))
proof
let R3 being set;
let R4 being set;
let R5 being set;
let C32 being  quasi_total (Relation of R3 , R4);
let C33 being  quasi_total (Relation of R4 , R5);
assume that
L130: (R4 = ( {} ) implies (R5 = ( {} ) or R3 = ( {} )));
per cases ;
case L131: R5 <> ( {} );
L132: ( dom C33 ) = R4 by L131 , L1;
L133: (( dom C32 ) = R3 & ( rng C32 ) c= R4) by L130 , L131 , L1;
thus L134: thesis by L133 , L132 , RELAT_1:27;
end;
case L135: R5 = ( {} );
thus L136: thesis by L135;
end;
end;
theorem
L138: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for B25 being (Function of R3 , R4) holds (for B26 being (Function of R4 , R5) holds ((R5 <> ( {} ) & ( rng B25 ) = R4 & ( rng B26 ) = R5) implies ( rng ( B26 * B25 ) ) = R5))))))
proof
let R3 being set;
let R4 being set;
let R5 being set;
let C34 being (Function of R3 , R4);
let C35 being (Function of R4 , R5);
assume L139: R5 <> ( {} );
L140: ( dom C35 ) = R4 by L139 , L1;
thus L141: thesis by L140 , RELAT_1:28;
end;
theorem
L142: (for R3 being set holds (for R4 being set holds (for R7 being set holds (for B27 being (Function of R3 , R4) holds (for B28 being Function holds ((R4 <> ( {} ) & R7 in R3) implies ( ( B28 * B27 ) . R7 ) = ( B28 . ( B27 . R7 ) )))))))
proof
let R3 being set;
let R4 being set;
let R7 being set;
let C36 being (Function of R3 , R4);
let C37 being Function;
assume L143: R4 <> ( {} );
L144: R3 = ( dom C36 ) by L143 , L1;
thus L145: thesis by L144 , FUNCT_1:13;
end;
theorem
L146: (for R3 being set holds (for R4 being set holds (for B29 being (Function of R3 , R4) holds (R4 <> ( {} ) implies (( rng B29 ) = R4 iff (for R5 being set holds (R5 <> ( {} ) implies (for B30 , B31 being (Function of R4 , R5) holds (( B30 * B29 ) = ( B31 * B29 ) implies B30 = B31)))))))))
proof
let R3 being set;
let R4 being set;
let C38 being (Function of R3 , R4);
assume L147: R4 <> ( {} );
thus L148: (( rng C38 ) = R4 implies (for R5 being set holds (R5 <> ( {} ) implies (for B32 , B33 being (Function of R4 , R5) holds (( B32 * C38 ) = ( B33 * C38 ) implies B32 = B33)))))
proof
assume L149: ( rng C38 ) = R4;
let R5 being set;
assume that
L150: R5 <> ( {} );
let C39 , C40 being (Function of R4 , R5);
L151: (( dom C39 ) = R4 & ( dom C40 ) = R4) by L150 , L1;
thus L152: thesis by L151 , L149 , FUNCT_1:86;
end;

assume L153: (for R5 being set holds (R5 <> ( {} ) implies (for B34 , B35 being (Function of R4 , R5) holds (( B34 * C38 ) = ( B35 * C38 ) implies B34 = B35))));
L154: (for B36 , B37 being Function holds ((( dom B36 ) = R4 & ( dom B37 ) = R4 & ( B36 * C38 ) = ( B37 * C38 )) implies B36 = B37))
proof
let C41 , C42 being Function;
assume that
L155: ( dom C41 ) = R4
and
L156: ( dom C42 ) = R4;
L157: ( rng C41 ) <> ( {} ) by L147 , L155 , RELAT_1:42;
L158: C41 is (Function of R4 , ( ( rng C41 ) \/ ( rng C42 ) )) by L155 , L32 , XBOOLE_1:7;
L159: C42 is (Function of R4 , ( ( rng C41 ) \/ ( rng C42 ) )) by L156 , L32 , XBOOLE_1:7;
thus L160: thesis by L159 , L153 , L157 , L158;
end;
thus L161: thesis by L154 , FUNCT_1:16;
end;
theorem
L162: (for R3 being set holds (for R4 being set holds (for B38 being (Relation of R3 , R4) holds (( ( id R3 ) * B38 ) = B38 & ( B38 * ( id R4 ) ) = B38))))
proof
let R3 being set;
let R4 being set;
let C43 being (Relation of R3 , R4);
L163: ( dom C43 ) c= R3;
thus L164: ( ( id R3 ) * C43 ) = C43 by L163 , RELAT_1:51;
L165: ( rng C43 ) c= R4;
thus L166: thesis by L165 , RELAT_1:53;
end;
theorem
L167: (for R3 being set holds (for R4 being set holds (for B39 being (Function of R3 , R4) holds (for B40 being (Function of R4 , R3) holds (( B39 * B40 ) = ( id R4 ) implies ( rng B39 ) = R4)))))
proof
let R3 being set;
let R4 being set;
let C44 being (Function of R3 , R4);
let C45 being (Function of R4 , R3);
assume L168: ( C44 * C45 ) = ( id R4 );
L169: ( rng ( C44 * C45 ) ) = R4 by L168 , RELAT_1:45;
L170: R4 c= ( rng C44 ) by L169 , RELAT_1:26;
thus L171: thesis by L170 , XBOOLE_0:def 10;
end;
theorem
L172: (for R3 being set holds (for R4 being set holds (for B41 being (Function of R3 , R4) holds ((R4 = ( {} ) implies R3 = ( {} )) implies (B41 is  one-to-one iff (for R9 being set holds (for R10 being set holds ((R9 in R3 & R10 in R3 & ( B41 . R9 ) = ( B41 . R10 )) implies R9 = R10))))))))
proof
let R3 being set;
let R4 being set;
let C46 being (Function of R3 , R4);
assume L173: (R4 = ( {} ) implies R3 = ( {} ));
L174: ( dom C46 ) = R3 by L173 , L1;
thus L175: thesis by L174 , FUNCT_1:def 4;
end;
theorem
L176: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for B42 being (Function of R3 , R4) holds (for B43 being (Function of R4 , R5) holds (((R5 = ( {} ) implies R4 = ( {} )) & ( B43 * B42 ) is  one-to-one) implies B42 is  one-to-one))))))
proof
let R3 being set;
let R4 being set;
let R5 being set;
let C47 being (Function of R3 , R4);
let C48 being (Function of R4 , R5);
assume L177: (R5 <> ( {} ) or R4 = ( {} ));
L178: R4 = ( dom C48 ) by L177 , L1;
L179: ( rng C47 ) c= R4;
thus L180: thesis by L179 , L178 , FUNCT_1:25;
end;
theorem
L181: (for R3 being set holds (for R4 being set holds (for B44 being (Function of R3 , R4) holds ((R3 <> ( {} ) & R4 <> ( {} )) implies (B44 is  one-to-one iff (for R5 being set holds (for B45 , B46 being (Function of R5 , R3) holds (( B44 * B45 ) = ( B44 * B46 ) implies B45 = B46))))))))
proof
let R3 being set;
let R4 being set;
let C49 being (Function of R3 , R4);
assume that
L182: R3 <> ( {} )
and
L183: R4 <> ( {} );
L184: ( dom C49 ) = R3 by L183 , L1;
thus L185: (C49 is  one-to-one implies (for R5 being set holds (for B47 , B48 being (Function of R5 , R3) holds (( C49 * B47 ) = ( C49 * B48 ) implies B47 = B48))))
proof
assume L186: C49 is  one-to-one;
let R5 being set;
let C50 , C51 being (Function of R5 , R3);
L187: (( rng C50 ) c= R3 & ( rng C51 ) c= R3);
L188: (( dom C50 ) = R5 & ( dom C51 ) = R5) by L182 , L1;
thus L189: thesis by L188 , L184 , L186 , L187 , FUNCT_1:27;
end;

assume L190: (for R5 being set holds (for B49 , B50 being (Function of R5 , R3) holds (( C49 * B49 ) = ( C49 * B50 ) implies B49 = B50)));
L191:
now
let C52 , C53 being Function;
assume L192: (( rng C52 ) c= ( dom C49 ) & ( rng C53 ) c= ( dom C49 ) & ( dom C52 ) = ( dom C53 ));
L193: (C52 is (Function of ( dom C52 ) , R3) & C53 is (Function of ( dom C52 ) , R3)) by L192 , L184 , L32;
thus L194: (( C49 * C52 ) = ( C49 * C53 ) implies C52 = C53) by L193 , L190;
end;
thus L195: thesis by L191 , FUNCT_1:27;
end;
theorem
L196: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for B51 being (Function of R3 , R4) holds (for B52 being (Function of R4 , R5) holds ((R5 <> ( {} ) & ( rng ( B52 * B51 ) ) = R5 & B52 is  one-to-one) implies ( rng B51 ) = R4))))))
proof
let R3 being set;
let R4 being set;
let R5 being set;
let C54 being (Function of R3 , R4);
let C55 being (Function of R4 , R5);
assume that
L197: R5 <> ( {} )
and
L198: ( rng ( C55 * C54 ) ) = R5
and
L199: C55 is  one-to-one;
L200: ( dom C55 ) = R4 by L197 , L1;
L201: ( rng ( C55 * C54 ) ) c= ( rng C55 ) by RELAT_1:26;
L202: ( rng C55 ) = ( rng ( C55 * C54 ) ) by L201 , L198 , XBOOLE_0:def 10;
L203: R4 c= ( rng C54 ) by L202 , L199 , L200 , FUNCT_1:29;
thus L204: thesis by L203 , XBOOLE_0:def 10;
end;
definition
let C56 being set;
let C57 being C56 -valued Relation;
attr C57 is  onto
means
:L205: ( rng C57 ) = C56;
end;
theorem
L207: (for R3 being set holds (for R4 being set holds (for B53 being (Function of R3 , R4) holds (for B54 being (Function of R4 , R3) holds (( B54 * B53 ) = ( id R3 ) implies (B53 is  one-to-one & B54 is  onto))))))
proof
let R3 being set;
let R4 being set;
let C58 being (Function of R3 , R4);
let C59 being (Function of R4 , R3);
assume that
L208: ( C59 * C58 ) = ( id R3 );
thus L209: C58 is  one-to-one
proof
per cases ;
suppose L210: R4 = ( {} );

thus L211: thesis by L210;
end;
suppose L212: R4 <> ( {} );

L213: ( dom C58 ) = R3 by L212 , L1;
thus L214: thesis by L213 , L208 , FUNCT_1:31;
end;
end;

L216: ( rng ( C59 * C58 ) ) = R3 by L208 , RELAT_1:45;
L217: R3 c= ( rng C59 ) by L216 , RELAT_1:26;
thus L218: ( rng C59 ) = R3 by L217 , XBOOLE_0:def 10;
end;
theorem
L219: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for B55 being (Function of R3 , R4) holds (for B56 being (Function of R4 , R5) holds (((R5 = ( {} ) implies R4 = ( {} )) & ( B56 * B55 ) is  one-to-one & ( rng B55 ) = R4) implies (B55 is  one-to-one & B56 is  one-to-one)))))))
proof
let R3 being set;
let R4 being set;
let R5 being set;
let C60 being (Function of R3 , R4);
let C61 being (Function of R4 , R5);
assume L220: (R5 <> ( {} ) or R4 = ( {} ));
L221: R4 = ( dom C61 ) by L220 , L1;
thus L222: thesis by L221 , FUNCT_1:26;
end;
theorem
L223: (for R3 being set holds (for R4 being set holds (for B57 being (Function of R3 , R4) holds ((B57 is  one-to-one & ( rng B57 ) = R4) implies ( B57 " ) is (Function of R4 , R3)))))
proof
let R3 being set;
let R4 being set;
let C62 being (Function of R3 , R4);
assume that
L224: C62 is  one-to-one
and
L225: ( rng C62 ) = R4;
L226: ( rng ( C62 " ) ) c= R3
proof
let R7 being set;
assume L227: R7 in ( rng ( C62 " ) );
L228: R7 in ( dom C62 ) by L227 , L224 , FUNCT_1:33;
thus L229: thesis by L228;
end;
L230: ( dom ( C62 " ) ) = R4 by L224 , L225 , FUNCT_1:33;
reconsider D7 = ( C62 " ) as (Relation of R4 , R3) by L230 , L226 , RELSET_1:4;
L231: D7 is  quasi_total
proof
per cases ;
case L232: R3 <> ( {} );
thus L233: thesis by L224 , L225 , FUNCT_1:33;
end;
case L234: R3 = ( {} );
L235: ( rng C62 ) = ( {} ) by L234;
L236: ( dom ( C62 " ) ) = ( {} ) by L235 , L224 , FUNCT_1:32;
thus L237: thesis by L236;
end;
end;
thus L239: thesis by L231;
end;
theorem
L240: (for R3 being set holds (for R4 being set holds (for R7 being set holds (for B58 being (Function of R3 , R4) holds ((R4 <> ( {} ) & B58 is  one-to-one & R7 in R3) implies ( ( B58 " ) . ( B58 . R7 ) ) = R7)))))
proof
let R3 being set;
let R4 being set;
let R7 being set;
let C63 being (Function of R3 , R4);
assume L241: R4 <> ( {} );
L242: ( dom C63 ) = R3 by L241 , L1;
thus L243: thesis by L242 , FUNCT_1:34;
end;
theorem
L244: (for B59 being set holds (for B60 , B61 being non  empty set holds (for B62 being (Function of B59 , B60) holds (for B63 being (Function of B60 , B61) holds ((B62 is  onto & B63 is  onto) implies ( B63 * B62 ) is  onto)))))
proof
let C64 being set;
let C65 , C66 being non  empty set;
let C67 being (Function of C64 , C65);
let C68 being (Function of C65 , C66);
assume that
L245: C67 is  onto
and
L246: C68 is  onto;
L247: ( rng C67 ) = C65 by L245 , L205
.= ( dom C68 ) by L1;
L248: ( rng ( C68 * C67 ) ) = ( rng C68 ) by L247 , RELAT_1:28
.= C66 by L246 , L205;
thus L249: thesis by L248 , L205;
end;
theorem
L250: (for R3 being set holds (for R4 being set holds (for B64 being (Function of R3 , R4) holds (for B65 being (Function of R4 , R3) holds ((R3 <> ( {} ) & R4 <> ( {} ) & ( rng B64 ) = R4 & B64 is  one-to-one & (for R11 being set holds (for R7 being set holds ((R11 in R4 & ( B65 . R11 ) = R7) iff (R7 in R3 & ( B64 . R7 ) = R11))))) implies B65 = ( B64 " ))))))
proof
let R3 being set;
let R4 being set;
let C69 being (Function of R3 , R4);
let C70 being (Function of R4 , R3);
assume L251: (R3 <> ( {} ) & R4 <> ( {} ));
L252: (( dom C69 ) = R3 & ( dom C70 ) = R4) by L251 , L1;
thus L253: thesis by L252 , FUNCT_1:32;
end;
theorem
L254: (for R3 being set holds (for R4 being set holds (for B66 being (Function of R3 , R4) holds ((R4 <> ( {} ) & ( rng B66 ) = R4 & B66 is  one-to-one) implies (( ( B66 " ) * B66 ) = ( id R3 ) & ( B66 * ( B66 " ) ) = ( id R4 ))))))
proof
let R3 being set;
let R4 being set;
let C71 being (Function of R3 , R4);
assume L255: R4 <> ( {} );
L256: ( dom C71 ) = R3 by L255 , L1;
thus L257: thesis by L256 , FUNCT_1:39;
end;
theorem
L258: (for R3 being set holds (for R4 being set holds (for B67 being (Function of R3 , R4) holds (for B68 being (Function of R4 , R3) holds ((R3 <> ( {} ) & R4 <> ( {} ) & ( rng B67 ) = R4 & ( B68 * B67 ) = ( id R3 ) & B67 is  one-to-one) implies B68 = ( B67 " ))))))
proof
let R3 being set;
let R4 being set;
let C72 being (Function of R3 , R4);
let C73 being (Function of R4 , R3);
assume L259: (R3 <> ( {} ) & R4 <> ( {} ));
L260: (( dom C72 ) = R3 & ( dom C73 ) = R4) by L259 , L1;
thus L261: thesis by L260 , FUNCT_1:41;
end;
theorem
L262: (for R3 being set holds (for R4 being set holds (for B69 being (Function of R3 , R4) holds ((R4 <> ( {} ) & (ex B70 being (Function of R4 , R3) st ( B70 * B69 ) = ( id R3 ))) implies B69 is  one-to-one))))
proof
let R3 being set;
let R4 being set;
let C74 being (Function of R3 , R4);
assume L263: R4 <> ( {} );
L264: ( dom C74 ) = R3 by L263 , L1;
given C75 being (Function of R4 , R3) such that
L265: ( C75 * C74 ) = ( id R3 );

thus L266: thesis by L265 , L264 , FUNCT_1:31;
end;
theorem
L267: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for B71 being (Function of R3 , R4) holds (((R4 = ( {} ) implies R3 = ( {} )) & R5 c= R3) implies ( B71 | R5 ) is (Function of R5 , R4))))))
proof
let R3 being set;
let R4 being set;
let R5 being set;
let C76 being (Function of R3 , R4);
assume that
L268: (R4 = ( {} ) implies R3 = ( {} ))
and
L269: R5 c= R3;
L270: ( dom C76 ) = R3 by L268 , L1;
L271: R5 = ( dom ( C76 | R5 ) ) by L270 , L269 , RELAT_1:62;
L272: ( rng ( C76 | R5 ) ) c= R4;
reconsider D8 = ( C76 | R5 ) as (Relation of R5 , R4) by L272 , L271 , RELSET_1:4;
L273: D8 is  quasi_total
proof
per cases ;
case L274: R4 <> ( {} );
L275: ( dom C76 ) = R3 by L268 , L1;
thus L276: thesis by L275 , L269 , RELAT_1:62;
end;
case L277: R4 = ( {} );
thus L278: thesis by L277;
end;
end;
thus L280: thesis by L273;
end;
theorem
L281: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for B72 being (Function of R3 , R4) holds (R3 c= R5 implies ( B72 | R5 ) = B72))))) by RELSET_1:19;
theorem
L282: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R7 being set holds (for B73 being (Function of R3 , R4) holds ((R4 <> ( {} ) & R7 in R3 & ( B73 . R7 ) in R5) implies ( ( R5 |` B73 ) . R7 ) = ( B73 . R7 )))))))
proof
let R3 being set;
let R4 being set;
let R5 being set;
let R7 being set;
let C77 being (Function of R3 , R4);
assume that
L283: (R4 <> ( {} ) & R7 in R3)
and
L284: ( C77 . R7 ) in R5;
L285: R7 in ( dom C77 ) by L283 , L1;
L286: R7 in ( dom ( R5 |` C77 ) ) by L285 , L284 , FUNCT_1:54;
thus L287: thesis by L286 , FUNCT_1:55;
end;
theorem
L288: (for R1 being set holds (for R3 being set holds (for R4 being set holds (for B74 being (Function of R3 , R4) holds (R4 <> ( {} ) implies (for R11 being set holds ((ex R7 being set st (R7 in R3 & R7 in R1 & R11 = ( B74 . R7 ))) implies R11 in ( B74 .: R1 ))))))))
proof
let R1 being set;
let R3 being set;
let R4 being set;
let C78 being (Function of R3 , R4);
assume L289: R4 <> ( {} );
L290: ( dom C78 ) = R3 by L289 , L1;
let R11 being set;
given R7 being set such that
L291: (R7 in R3 & R7 in R1 & R11 = ( C78 . R7 ));

thus L292: thesis by L290 , L291 , FUNCT_1:def 6;
end;
theorem
L293: (for R1 being set holds (for R3 being set holds (for R4 being set holds (for B75 being (Function of R3 , R4) holds ( B75 .: R1 ) c= R4))));
canceled 1;
theorem
L294: (for R2 being set holds (for R3 being set holds (for R4 being set holds (for B76 being (Function of R3 , R4) holds (R4 <> ( {} ) implies (for R7 being set holds (R7 in ( B76 " R2 ) iff (R7 in R3 & ( B76 . R7 ) in R2))))))))
proof
let R2 being set;
let R3 being set;
let R4 being set;
let C79 being (Function of R3 , R4);
assume L295: R4 <> ( {} );
L296: ( dom C79 ) = R3 by L295 , L1;
thus L297: thesis by L296 , FUNCT_1:def 7;
end;
theorem
L298: (for R2 being set holds (for R3 being set holds (for R4 being set holds (for B77 being (PartFunc of R3 , R4) holds ( B77 " R2 ) c= R3))));
theorem
L299: (for R3 being set holds (for R4 being set holds (for B78 being (Function of R3 , R4) holds ((R4 = ( {} ) implies R3 = ( {} )) implies ( B78 " R4 ) = R3))))
proof
let R3 being set;
let R4 being set;
let C80 being (Function of R3 , R4);
L300: ( ( rng C80 ) /\ R4 ) = ( rng C80 ) by XBOOLE_1:28;
L301: ( C80 " R4 ) = ( C80 " ( rng C80 ) ) by L300 , RELAT_1:133;
assume L302: (R4 <> ( {} ) or R3 = ( {} ));
L303: ( dom C80 ) = R3 by L302 , L1;
thus L304: thesis by L303 , L301 , RELAT_1:134;
end;
theorem
L305: (for R3 being set holds (for R4 being set holds (for B79 being (Function of R3 , R4) holds ((for R11 being set holds (R11 in R4 implies ( B79 " { R11 } ) <> ( {} ))) iff ( rng B79 ) = R4))))
proof
let R3 being set;
let R4 being set;
let C81 being (Function of R3 , R4);
thus L306: ((for R11 being set holds (R11 in R4 implies ( C81 " { R11 } ) <> ( {} ))) implies ( rng C81 ) = R4)
proof
assume L307: (for R11 being set holds (R11 in R4 implies ( C81 " { R11 } ) <> ( {} )));
L308: R4 c= ( rng C81 ) by L307 , FUNCT_1:73;
thus L309: thesis by L308 , XBOOLE_0:def 10;
end;

thus L310: thesis by FUNCT_1:72;
end;
theorem
L311: (for R1 being set holds (for R3 being set holds (for R4 being set holds (for B80 being (Function of R3 , R4) holds (((R4 = ( {} ) implies R3 = ( {} )) & R1 c= R3) implies R1 c= ( B80 " ( B80 .: R1 ) ))))))
proof
let R1 being set;
let R3 being set;
let R4 being set;
let C82 being (Function of R3 , R4);
assume L312: (R4 <> ( {} ) or R3 = ( {} ));
L313: ( dom C82 ) = R3 by L312 , L1;
thus L314: thesis by L313 , FUNCT_1:76;
end;
theorem
L315: (for R3 being set holds (for R4 being set holds (for B81 being (Function of R3 , R4) holds ((R4 = ( {} ) implies R3 = ( {} )) implies ( B81 " ( B81 .: R3 ) ) = R3))))
proof
let R3 being set;
let R4 being set;
let C83 being (Function of R3 , R4);
assume L316: (R4 <> ( {} ) or R3 = ( {} ));
L317: ( dom C83 ) = R3 by L316 , L1;
L318: ( C83 " ( rng C83 ) ) = R3 by L317 , RELAT_1:134;
thus L319: thesis by L318 , L317 , RELAT_1:113;
end;
theorem
L320: (for R2 being set holds (for R3 being set holds (for R4 being set holds (for R5 being set holds (for B82 being (Function of R3 , R4) holds (for B83 being (Function of R4 , R5) holds ((R5 = ( {} ) implies R4 = ( {} )) implies ( B82 " R2 ) c= ( ( B83 * B82 ) " ( B83 .: R2 ) ))))))))
proof
let R2 being set;
let R3 being set;
let R4 being set;
let R5 being set;
let C84 being (Function of R3 , R4);
let C85 being (Function of R4 , R5);
assume L321: (R5 <> ( {} ) or R4 = ( {} ));
L322: ( dom C85 ) = R4 by L321 , L1;
L323: ( rng C84 ) c= R4;
thus L324: thesis by L323 , L322 , FUNCT_1:90;
end;
theorem
L325: (for R1 being set holds (for R4 being set holds (for B84 being (Function of ( {} ) , R4) holds ( B84 .: R1 ) = ( {} ))));
theorem
L326: (for R2 being set holds (for R4 being set holds (for B85 being (Function of ( {} ) , R4) holds ( B85 " R2 ) = ( {} ))));
theorem
L327: (for R4 being set holds (for R7 being set holds (for B86 being (Function of { R7 } , R4) holds (R4 <> ( {} ) implies ( B86 . R7 ) in R4))))
proof
let R4 being set;
let R7 being set;
let C86 being (Function of { R7 } , R4);
assume L328: R4 <> ( {} );
L329: ( dom C86 ) = { R7 } by L328 , L1;
L330: ( rng C86 ) c= R4;
L331: { ( C86 . R7 ) } c= R4 by L330 , L329 , FUNCT_1:4;
thus L332: thesis by L331 , ZFMISC_1:31;
end;
theorem
L333: (for R4 being set holds (for R7 being set holds (for B87 being (Function of { R7 } , R4) holds (R4 <> ( {} ) implies ( rng B87 ) = { ( B87 . R7 ) }))))
proof
let R4 being set;
let R7 being set;
let C87 being (Function of { R7 } , R4);
assume L334: R4 <> ( {} );
L335: ( dom C87 ) = { R7 } by L334 , L1;
thus L336: thesis by L335 , FUNCT_1:4;
end;
theorem
L337: (for R1 being set holds (for R4 being set holds (for R7 being set holds (for B88 being (Function of { R7 } , R4) holds (R4 <> ( {} ) implies ( B88 .: R1 ) c= { ( B88 . R7 ) })))))
proof
let R1 being set;
let R4 being set;
let R7 being set;
let C88 being (Function of { R7 } , R4);
L338: ( C88 .: R1 ) c= ( rng C88 ) by RELAT_1:111;
thus L339: thesis by L338 , L333;
end;
theorem
L340: (for R3 being set holds (for R7 being set holds (for R11 being set holds (for B89 being (Function of R3 , { R11 }) holds (R7 in R3 implies ( B89 . R7 ) = R11)))))
proof
let R3 being set;
let R7 being set;
let R11 being set;
let C89 being (Function of R3 , { R11 });
L341: (R7 in R3 implies ( C89 . R7 ) in { R11 }) by L51;
thus L342: thesis by L341 , TARSKI:def 1;
end;
theorem
L343: (for R3 being set holds (for R11 being set holds (for B90 , B91 being (Function of R3 , { R11 }) holds B90 = B91)))
proof
let R3 being set;
let R11 being set;
let C90 , C91 being (Function of R3 , { R11 });
L344: (for R7 being set holds (R7 in R3 implies ( C90 . R7 ) = ( C91 . R7 )))
proof
let R7 being set;
assume L345: R7 in R3;
L346: ( C90 . R7 ) = R11 by L345 , L340;
thus L347: thesis by L346 , L345 , L340;
end;
thus L348: thesis by L344 , L122;
end;
theorem
L349: (for R3 being set holds (for B92 being (Function of R3 , R3) holds ( dom B92 ) = R3))
proof
let R3 being set;
L350: (R3 = ( {} ) implies R3 = ( {} ));
thus L351: thesis by L350 , L1;
end;
registration
let C92 , C93 being set;
let C94 being  quasi_total (PartFunc of C92 , C93);
let C95 being  quasi_total (PartFunc of C92 , C92);
cluster ( C94 * C95 ) ->  quasi_total for (PartFunc of C92 , C93);
coherence
proof
per cases ;
suppose L352: C93 = ( {} );

thus L353: thesis by L352;
end;
suppose L354: C93 <> ( {} );

L355: ( dom C94 ) = C92 by L354 , L1;
L356: ( dom ( C94 * C95 ) ) = ( C95 " C92 ) by L355 , RELAT_1:147
.= ( dom C95 ) by RELSET_1:22
.= C92 by L349;
thus L357: thesis by L356 , L354 , L1;
end;
end;
end;
registration
let C96 , C97 being set;
let C98 being  quasi_total (PartFunc of C97 , C97);
let C99 being  quasi_total (PartFunc of C96 , C97);
cluster ( C98 * C99 ) ->  quasi_total for (PartFunc of C96 , C97);
coherence
proof
per cases ;
suppose L360: C97 = ( {} );

thus L361: thesis by L360;
end;
suppose L362: C97 <> ( {} );

L363: ( dom C98 ) = C97 by L349;
L364: ( dom ( C98 * C99 ) ) = ( C99 " C97 ) by L363 , RELAT_1:147
.= ( dom C99 ) by RELSET_1:22
.= C96 by L362 , L1;
thus L365: thesis by L364 , L362 , L1;
end;
end;
end;
theorem
L368: (for R3 being set holds (for B93 , B94 being (Relation of R3 , R3) holds ((( rng B93 ) = R3 & ( rng B94 ) = R3) implies ( rng ( B94 * B93 ) ) = R3)))
proof
let R3 being set;
let C100 , C101 being (Relation of R3 , R3);
assume that
L369: ( rng C100 ) = R3
and
L370: ( rng C101 ) = R3;
thus L371: ( rng ( C101 * C100 ) ) = ( C100 .: R3 ) by L370 , RELAT_1:127
.= R3 by L369 , RELSET_1:22;
end;
theorem
L372: (for R3 being set holds (for B95 , B96 being (Function of R3 , R3) holds ((( B96 * B95 ) = B95 & ( rng B95 ) = R3) implies B96 = ( id R3 ))))
proof
let R3 being set;
let C102 , C103 being (Function of R3 , R3);
L373: ( dom C103 ) = R3 by L349;
thus L374: thesis by L373 , FUNCT_1:23;
end;
theorem
L375: (for R3 being set holds (for B97 , B98 being (Function of R3 , R3) holds ((( B97 * B98 ) = B97 & B97 is  one-to-one) implies B98 = ( id R3 ))))
proof
let R3 being set;
let C104 , C105 being (Function of R3 , R3);
L376: ( rng C105 ) c= R3;
L377: (( dom C104 ) = R3 & ( dom C105 ) = R3) by L349;
thus L378: thesis by L377 , L376 , FUNCT_1:28;
end;
theorem
L379: (for R3 being set holds (for B99 being (Function of R3 , R3) holds (B99 is  one-to-one iff (for R9 being set holds (for R10 being set holds ((R9 in R3 & R10 in R3 & ( B99 . R9 ) = ( B99 . R10 )) implies R9 = R10))))))
proof
let R3 being set;
let C106 being (Function of R3 , R3);
L380: ( dom C106 ) = R3 by L349;
thus L381: thesis by L380 , FUNCT_1:def 4;
end;
definition
let R3 being set;
let R4 being set;
let C107 being R3 -defined R4 -valued Function;
attr C107 is  bijective
means
:L382: C107 is  one-to-one  onto;
end;
registration
let C108 , C109 being set;
cluster  bijective ->  one-to-one  onto for (PartFunc of C108 , C109);
coherence by L382;
cluster  one-to-one  onto ->  bijective for (PartFunc of C108 , C109);
coherence by L382;
end;
registration
let R3 being set;
cluster  bijective for (Function of R3 , R3);
existence
proof
take ( id R3 );
thus L385: (( id R3 ) is  one-to-one & ( rng ( id R3 ) ) = R3);
end;
end;
definition
let R3 being set;
mode Permutation of R3
 is  bijective (Function of R3 , R3);
end;
theorem
L388: (for R3 being set holds (for B100 being (Function of R3 , R3) holds ((B100 is  one-to-one & ( rng B100 ) = R3) implies B100 is (Permutation of R3))))
proof
let R3 being set;
let C110 being (Function of R3 , R3);
assume that
L389: C110 is  one-to-one
and
L390: ( rng C110 ) = R3;
L391: C110 is  onto by L390 , L205;
thus L392: thesis by L391 , L389;
end;
theorem
L393: (for R3 being set holds (for B101 being (Function of R3 , R3) holds (B101 is  one-to-one implies (for R9 being set holds (for R10 being set holds ((R9 in R3 & R10 in R3 & ( B101 . R9 ) = ( B101 . R10 )) implies R9 = R10)))))) by L379;
registration
let R3 being set;
let C111 , C112 being  onto (PartFunc of R3 , R3);
cluster ( C111 * C112 ) ->  onto for (PartFunc of R3 , R3);
coherence
proof
L394: (( rng C111 ) = R3 & ( rng C112 ) = R3) by L205;
L395: ( rng ( C111 * C112 ) ) = R3 by L394 , L368;
thus L396: thesis by L395 , L205;
end;
end;
registration
let R3 being set;
let C113 , C114 being  bijective (Function of R3 , R3);
cluster ( C114 * C113 ) ->  bijective for (Function of R3 , R3);
coherence;
end;
registration
let R3 being set;
cluster  reflexive  total ->  bijective for (Function of R3 , R3);
coherence
proof
let C115 being (Function of R3 , R3);
assume L399: C115 is  reflexive  total;
L400: ( field C115 ) = ( ( dom C115 ) \/ ( rng C115 ) ) by RELAT_1:def 6;
thus L401: C115 is  one-to-one
proof
let R9 being set;
let R10 being set;
assume that
L402: R9 in ( dom C115 )
and
L403: R10 in ( dom C115 )
and
L404: ( C115 . R9 ) = ( C115 . R10 );
L405: R9 in ( field C115 ) by L400 , L402 , XBOOLE_0:def 3;
L406: [ R9 , R9 ] in C115 by L405 , L399 , RELAT_2:def 1 , RELAT_2:def 9;
L407: R9 = ( C115 . R9 ) by L406 , L402 , FUNCT_1:def 2;
L408: R10 in ( field C115 ) by L400 , L403 , XBOOLE_0:def 3;
L409: [ R10 , R10 ] in C115 by L408 , L399 , RELAT_2:def 1 , RELAT_2:def 9;
thus L410: thesis by L409 , L403 , L404 , L407 , FUNCT_1:def 2;
end;

thus L411: ( rng C115 ) c= R3;
let R7 being set;
assume L412: R7 in R3;
L413: R7 in ( dom C115 ) by L412 , PARTFUN1:def 2;
L414: R7 in ( field C115 ) by L413 , L400 , XBOOLE_0:def 3;
L415: [ R7 , R7 ] in C115 by L414 , L399 , RELAT_2:def 1 , RELAT_2:def 9;
thus L416: thesis by L415 , XTUPLE_0:def 13;
end;
end;
definition
let R3 being set;
let C116 being (Permutation of R3);
redefine func C116 " -> (Permutation of R3);

coherence
proof
L418: ( dom C116 ) = R3 by L349;
L419: ( rng ( C116 " ) ) = R3 by L418 , FUNCT_1:33;
L420: ( rng C116 ) = R3 by L205;
L421: ( C116 " ) is (Function of R3 , R3) by L420 , L223;
thus L422: thesis by L421 , L419 , L388;
end;
end;
theorem
L424: (for R3 being set holds (for B102 , B103 being (Permutation of R3) holds (( B103 * B102 ) = B103 implies B102 = ( id R3 ))))
proof
let R3 being set;
let C117 , C118 being (Permutation of R3);
L425: ( rng C117 ) c= R3;
L426: (( dom C117 ) = R3 & ( dom C118 ) = R3) by L349;
thus L427: thesis by L426 , L425 , FUNCT_1:28;
end;
theorem
L428: (for R3 being set holds (for B104 , B105 being (Permutation of R3) holds (( B105 * B104 ) = ( id R3 ) implies B105 = ( B104 " ))))
proof
let R3 being set;
let C119 , C120 being (Permutation of R3);
L429: ( dom C119 ) = R3 by L349;
L430: (( rng C119 ) = R3 & ( dom C120 ) = R3) by L205 , L349;
thus L431: thesis by L430 , L429 , FUNCT_1:41;
end;
theorem
L432: (for R3 being set holds (for B106 being (Permutation of R3) holds (( ( B106 " ) * B106 ) = ( id R3 ) & ( B106 * ( B106 " ) ) = ( id R3 ))))
proof
let R3 being set;
let C121 being (Permutation of R3);
L433: (( dom C121 ) = R3 & ( rng C121 ) = R3) by L205 , L349;
thus L434: thesis by L433 , FUNCT_1:39;
end;
theorem
L435: (for R1 being set holds (for R3 being set holds (for B107 being (Permutation of R3) holds (R1 c= R3 implies (( B107 .: ( B107 " R1 ) ) = R1 & ( B107 " ( B107 .: R1 ) ) = R1)))))
proof
let R1 being set;
let R3 being set;
let C122 being (Permutation of R3);
assume that
L436: R1 c= R3;
L437: ( dom C122 ) = R3 by L349;
L438: R1 c= ( C122 " ( C122 .: R1 ) ) by L437 , L436 , FUNCT_1:76;
L439: (( C122 " ( C122 .: R1 ) ) c= R1 & ( rng C122 ) = R3) by L205 , FUNCT_1:82;
thus L440: thesis by L439 , L436 , L438 , FUNCT_1:77 , XBOOLE_0:def 10;
end;
registration
let R3 being set;
let R13 being non  empty set;
let R5 being set;
let C123 being (Function of R3 , R13);
let C124 being (Function of R13 , R5);
cluster ( C124 * C123 ) ->  quasi_total for (PartFunc of R3 , R5);
coherence by L129;
end;
definition
let C125 being non  empty set;
let C126 being set;
let C127 being (Function of C125 , C126);
let C128 being (Element of C125);
redefine func C127 . C128 -> (Element of C126);

coherence
proof
L442: (C126 is non  empty or C126 is  empty);
thus L443: thesis by L442 , L51 , SUBSET_1:def 1;
end;
end;
scheme FuncExD { F6 , F7() -> non  empty set , P2[set , set] } : (ex B108 being (Function of F6() , F7()) st (for B109 being (Element of F6()) holds P2[ B109 , ( B108 . B109 ) ]))
provided
L445: (for B110 being (Element of F6()) holds (ex B111 being (Element of F7()) st P2[ B110 , B111 ]))
proof
defpred S3[ set , set ] means ($1 in F6() & $2 in F7() & P2[ $1 , $2 ]);
L446: (for B112 being set holds (B112 in F6() implies (ex B113 being set st (B113 in F7() & S3[ B112 , B113 ]))))
proof
let C129 being set;
assume L447: C129 in F6();
L448: (ex B114 being (Element of F7()) st P2[ C129 , B114 ]) by L447 , L445;
thus L449: thesis by L448 , L447;
end;
consider C130 being (Function of F6() , F7()) such that L450: (for B115 being set holds (B115 in F6() implies S3[ B115 , ( C130 . B115 ) ])) from FuncEx1(L446);
take C130;
let C131 being (Element of F6());
thus L451: thesis by L450;
end;
scheme LambdaD { F8 , F9() -> non  empty set , F10((Element of F8())) -> (Element of F9()) } : (ex B116 being (Function of F8() , F9()) st (for B117 being (Element of F8()) holds ( B116 . B117 ) = F10(B117)))
proof
defpred S4[ (Element of F8()) , set ] means $2 = F10($1);
L452: (for B118 being (Element of F8()) holds (ex B119 being (Element of F9()) st S4[ B118 , B119 ]));
thus L453: (ex B120 being (Function of F8() , F9()) st (for B121 being (Element of F8()) holds S4[ B121 , ( B120 . B121 ) ])) from FuncExD(L452);
end;
theorem
L454: (for R3 being set holds (for R4 being set holds (for B122 , B123 being (Function of R3 , R4) holds ((for B124 being (Element of R3) holds ( B122 . B124 ) = ( B123 . B124 )) implies B122 = B123))))
proof
let R3 being set;
let R4 being set;
let C132 , C133 being (Function of R3 , R4);
assume L455: (for B125 being (Element of R3) holds ( C132 . B125 ) = ( C133 . B125 ));
L456: (for R7 being set holds (R7 in R3 implies ( C132 . R7 ) = ( C133 . R7 ))) by L455;
thus L457: thesis by L456 , L122;
end;
theorem
L458: (for R3 being set holds (for R4 being set holds (for B126 being set holds (for B127 being (Function of R3 , R4) holds (for R11 being set holds (R11 in ( B127 .: B126 ) implies (ex R7 being set st (R7 in R3 & R7 in B126 & R11 = ( B127 . R7 )))))))))
proof
let R3 being set;
let R4 being set;
let C134 being set;
let C135 being (Function of R3 , R4);
let R11 being set;
assume L459: R11 in ( C135 .: C134 );
consider R7 being set such that L460: R7 in ( dom C135 ) and L461: (R7 in C134 & R11 = ( C135 . R7 )) by L459 , FUNCT_1:def 6;
take R7;
thus L462: R7 in R3 by L460;
thus L463: thesis by L461;
end;
theorem
L464: (for R1 being set holds (for R3 being set holds (for R4 being set holds (for B128 being (Function of R3 , R4) holds (for R11 being set holds (R11 in ( B128 .: R1 ) implies (ex B129 being (Element of R3) st (B129 in R1 & R11 = ( B128 . B129 )))))))))
proof
let R1 being set;
let R3 being set;
let R4 being set;
let C136 being (Function of R3 , R4);
let R11 being set;
assume L465: R11 in ( C136 .: R1 );
consider R7 being set such that L466: R7 in R3 and L467: (R7 in R1 & R11 = ( C136 . R7 )) by L465 , L458;
reconsider D9 = R7 as (Element of R3) by L466;
take D9;
thus L468: thesis by L467;
end;
begin
theorem
L469: (for R3 being set holds (for R4 being set holds (for B130 being set holds (B130 in ( Funcs (R3 , R4) ) implies B130 is (Function of R3 , R4)))))
proof
let R3 being set;
let R4 being set;
let C137 being set;
assume L470: C137 in ( Funcs (R3 , R4) );
L471: ((not (R4 = ( {} ) & R3 <> ( {} ))) & (ex B131 being Function st (B131 = C137 & ( dom B131 ) = R3 & ( rng B131 ) c= R4))) by L470 , L72;
thus L472: thesis by L471 , L1 , RELSET_1:4;
end;
scheme Lambda1C { F11 , F12() -> set , P3[set] , F13(set) -> set , F14(set) -> set } : (ex B132 being (Function of F11() , F12()) st (for R7 being set holds (R7 in F11() implies ((P3[ R7 ] implies ( B132 . R7 ) = F13(R7)) & ((not P3[ R7 ]) implies ( B132 . R7 ) = F14(R7))))))
provided
L473: (for R7 being set holds (R7 in F11() implies ((P3[ R7 ] implies F13(R7) in F12()) & ((not P3[ R7 ]) implies F14(R7) in F12()))))
proof
L474:
now
set D10 = the (Element of F11());
assume L475: F12() = ( {} );
assume L476: F11() <> ( {} );
L477: (P3[ D10 ] implies F13(D10) in F12()) by L476 , L473;
thus L478: contradiction by L477 , L473 , L475 , L476;
end;
consider C138 being Function such that L479: ( dom C138 ) = F11() and L480: (for R7 being set holds (R7 in F11() implies ((P3[ R7 ] implies ( C138 . R7 ) = F13(R7)) & ((not P3[ R7 ]) implies ( C138 . R7 ) = F14(R7))))) from PARTFUN1:sch 1;
L481: ( rng C138 ) c= F12()
proof
let R11 being set;
assume L482: R11 in ( rng C138 );
consider R7 being set such that L483: R7 in ( dom C138 ) and L484: R11 = ( C138 . R7 ) by L482 , FUNCT_1:def 3;
L485: ((not P3[ R7 ]) implies ( C138 . R7 ) = F14(R7)) by L479 , L480 , L483;
L486: (P3[ R7 ] implies ( C138 . R7 ) = F13(R7)) by L479 , L480 , L483;
thus L487: thesis by L486 , L473 , L479 , L483 , L484 , L485;
end;
L488: C138 is (Function of F11() , F12()) by L481 , L479 , L474 , L1 , RELSET_1:4;
thus L489: thesis by L488 , L480;
end;
theorem
L490: (for R3 being set holds (for R4 being set holds (for B133 being (PartFunc of R3 , R4) holds (( dom B133 ) = R3 implies B133 is (Function of R3 , R4)))))
proof
let R3 being set;
let R4 being set;
let C139 being (PartFunc of R3 , R4);
L491: ( rng C139 ) c= R4;
thus L492: thesis by L491 , L32;
end;
theorem
L493: (for R3 being set holds (for R4 being set holds (for B134 being (PartFunc of R3 , R4) holds (B134 is  total implies B134 is (Function of R3 , R4)))));
theorem
L494: (for R3 being set holds (for R4 being set holds (for B135 being (PartFunc of R3 , R4) holds (((R4 = ( {} ) implies R3 = ( {} )) & B135 is (Function of R3 , R4)) implies B135 is  total))));
theorem
L495: (for R3 being set holds (for R4 being set holds (for B136 being (Function of R3 , R4) holds ((R4 = ( {} ) implies R3 = ( {} )) implies <: B136 , R3 , R4 :> is  total))));
registration
let R3 being set;
let C140 being (Function of R3 , R3);
cluster <: C140 , R3 , R3 :> ->  total;
coherence;
end;
theorem
L497: (for R3 being set holds (for R4 being set holds (for B137 being (PartFunc of R3 , R4) holds ((R4 = ( {} ) implies R3 = ( {} )) implies (ex B138 being (Function of R3 , R4) st (for R7 being set holds (R7 in ( dom B137 ) implies ( B138 . R7 ) = ( B137 . R7 ))))))))
proof
let R3 being set;
let R4 being set;
let C141 being (PartFunc of R3 , R4);
assume that
L498: (R4 = ( {} ) implies R3 = ( {} ));
per cases ;
suppose L499: R4 = ( {} );

reconsider D11 = C141 as (Function of R3 , R4) by L499 , L498;
take D11;
thus L500: thesis;
end;
suppose L501: R4 <> ( {} );

deffunc H1(set) = ( C141 . $1 );
defpred S5[ set ] means $1 in ( dom C141 );
set D12 = the (Element of R4);
deffunc H2(set) = D12;
L502: (for R7 being set holds (R7 in R3 implies ((S5[ R7 ] implies H1(R7) in R4) & ((not S5[ R7 ]) implies H2(R7) in R4)))) by L501 , PARTFUN1:4;
consider C142 being (Function of R3 , R4) such that L503: (for R7 being set holds (R7 in R3 implies ((S5[ R7 ] implies ( C142 . R7 ) = H1(R7)) & ((not S5[ R7 ]) implies ( C142 . R7 ) = H2(R7))))) from Lambda1C(L502);
take C142;
thus L504: thesis by L503;
end;
end;
theorem
L506: (for R3 being set holds (for R4 being set holds ( Funcs (R3 , R4) ) c= ( PFuncs (R3 , R4) )))
proof
let R3 being set;
let R4 being set;
let R7 being set;
assume L507: R7 in ( Funcs (R3 , R4) );
L508: (ex B139 being Function st (R7 = B139 & ( dom B139 ) = R3 & ( rng B139 ) c= R4)) by L507 , L72;
thus L509: thesis by L508 , PARTFUN1:def 3;
end;
theorem
L510: (for R3 being set holds (for R4 being set holds (for B140 , B141 being (Function of R3 , R4) holds (((R4 = ( {} ) implies R3 = ( {} )) & B140 tolerates B141) implies B140 = B141)))) by PARTFUN1:66;
theorem
L511: (for R3 being set holds (for B142 , B143 being (Function of R3 , R3) holds (B142 tolerates B143 implies B142 = B143))) by PARTFUN1:66;
theorem
L512: (for R3 being set holds (for R4 being set holds (for B144 being (PartFunc of R3 , R4) holds (for B145 being (Function of R3 , R4) holds ((R4 = ( {} ) implies R3 = ( {} )) implies (B144 tolerates B145 iff (for R7 being set holds (R7 in ( dom B144 ) implies ( B144 . R7 ) = ( B145 . R7 )))))))))
proof
let R3 being set;
let R4 being set;
let C143 being (PartFunc of R3 , R4);
let C144 being (Function of R3 , R4);
assume L513: (R4 = ( {} ) implies R3 = ( {} ));
L514: ( dom C144 ) = R3 by L513 , L1;
thus L515: thesis by L514 , PARTFUN1:53;
end;
theorem
L516: (for R3 being set holds (for B146 being (PartFunc of R3 , R3) holds (for B147 being (Function of R3 , R3) holds (B146 tolerates B147 iff (for R7 being set holds (R7 in ( dom B146 ) implies ( B146 . R7 ) = ( B147 . R7 )))))))
proof
let R3 being set;
let C145 being (PartFunc of R3 , R3);
let C146 being (Function of R3 , R3);
L517: (R3 = ( {} ) implies R3 = ( {} ));
thus L518: thesis by L517 , L512;
end;
theorem
L519: (for R3 being set holds (for R4 being set holds (for B148 being (PartFunc of R3 , R4) holds ((R4 = ( {} ) implies R3 = ( {} )) implies (ex B149 being (Function of R3 , R4) st B148 tolerates B149)))))
proof
let R3 being set;
let R4 being set;
let C147 being (PartFunc of R3 , R4);
assume L520: (R4 = ( {} ) implies R3 = ( {} ));
consider C148 being (Function of R3 , R4) such that L521: (for R7 being set holds (R7 in ( dom C147 ) implies ( C148 . R7 ) = ( C147 . R7 ))) by L520 , L497;
take C148;
thus L522: thesis by L520 , L521 , L512;
end;
theorem
L523: (for R3 being set holds (for B150 , B151 being (PartFunc of R3 , R3) holds (for B152 being (Function of R3 , R3) holds ((B150 tolerates B152 & B151 tolerates B152) implies B150 tolerates B151)))) by PARTFUN1:67;
theorem
L524: (for R3 being set holds (for R4 being set holds (for B153 , B154 being (PartFunc of R3 , R4) holds (((R4 = ( {} ) implies R3 = ( {} )) & B153 tolerates B154) implies (ex B155 being (Function of R3 , R4) st (B153 tolerates B155 & B154 tolerates B155))))))
proof
let R3 being set;
let R4 being set;
let C149 , C150 being (PartFunc of R3 , R4);
assume L525: ((R4 = ( {} ) implies R3 = ( {} )) & C149 tolerates C150);
L526: (ex B156 being (PartFunc of R3 , R4) st (B156 is  total & C149 tolerates B156 & C150 tolerates B156)) by L525 , PARTFUN1:68;
thus L527: thesis by L526;
end;
theorem
L528: (for R3 being set holds (for R4 being set holds (for B157 being (PartFunc of R3 , R4) holds (for B158 being (Function of R3 , R4) holds (((R4 = ( {} ) implies R3 = ( {} )) & B157 tolerates B158) implies B158 in ( TotFuncs B157 )))))) by PARTFUN1:def 5;
theorem
L529: (for R3 being set holds (for B159 being (PartFunc of R3 , R3) holds (for B160 being (Function of R3 , R3) holds (B159 tolerates B160 implies B160 in ( TotFuncs B159 ))))) by PARTFUN1:def 5;
theorem
L530: (for R3 being set holds (for R4 being set holds (for B161 being (PartFunc of R3 , R4) holds (for B162 being set holds (B162 in ( TotFuncs B161 ) implies B162 is (Function of R3 , R4))))))
proof
let R3 being set;
let R4 being set;
let C151 being (PartFunc of R3 , R4);
let C152 being set;
assume L531: C152 in ( TotFuncs C151 );
L532: (ex B163 being (PartFunc of R3 , R4) st (B163 = C152 & B163 is  total & C151 tolerates B163)) by L531 , PARTFUN1:def 5;
thus L533: thesis by L532;
end;
theorem
L534: (for R3 being set holds (for R4 being set holds (for B164 being (PartFunc of R3 , R4) holds ( TotFuncs B164 ) c= ( Funcs (R3 , R4) ))))
proof
let R3 being set;
let R4 being set;
let C153 being (PartFunc of R3 , R4);
per cases ;
suppose L535: (R4 = ( {} ) & R3 <> ( {} ));

thus L536: thesis by L535;
end;
suppose L537: (R4 <> ( {} ) or R3 = ( {} ));

let C154 being set;
assume L538: C154 in ( TotFuncs C153 );
L539: C154 is (Function of R3 , R4) by L538 , L530;
thus L540: thesis by L539 , L537 , L92;
end;
end;
theorem
L542: (for R3 being set holds (for R4 being set holds ( TotFuncs <: ( {} ) , R3 , R4 :> ) = ( Funcs (R3 , R4) )))
proof
let R3 being set;
let R4 being set;
per cases ;
suppose L543: (R4 = ( {} ) & R3 <> ( {} ));

L544: ( TotFuncs <: ( {} ) , R3 , R4 :> ) = ( {} ) by L543;
thus L545: thesis by L544 , L543;
end;
suppose L546: (R4 = ( {} ) implies R3 = ( {} ));

L547: (for B165 being set holds (B165 in ( TotFuncs <: ( {} ) , R3 , R4 :> ) iff B165 in ( Funcs (R3 , R4) )))
proof
let C155 being set;
thus L548: (C155 in ( TotFuncs <: ( {} ) , R3 , R4 :> ) implies C155 in ( Funcs (R3 , R4) ))
proof
assume L549: C155 in ( TotFuncs <: ( {} ) , R3 , R4 :> );
L550: C155 is (Function of R3 , R4) by L549 , L530;
thus L551: thesis by L550 , L546 , L92;
end;

assume L552: C155 in ( Funcs (R3 , R4) );
reconsider D13 = C155 as (PartFunc of R3 , R4) by L552 , L469;
L553: <: ( {} ) , R3 , R4 :> tolerates D13 by PARTFUN1:60;
L554: C155 is (Function of R3 , R4) by L552 , L469;
thus L555: thesis by L554 , L546 , L553 , PARTFUN1:def 5;
end;
thus L556: thesis by L547 , TARSKI:1;
end;
end;
theorem
L558: (for R3 being set holds (for R4 being set holds (for B166 being (Function of R3 , R4) holds ((R4 = ( {} ) implies R3 = ( {} )) implies ( TotFuncs <: B166 , R3 , R4 :> ) = { B166 })))) by PARTFUN1:72;
theorem
L559: (for R3 being set holds (for B167 being (Function of R3 , R3) holds ( TotFuncs <: B167 , R3 , R3 :> ) = { B167 })) by PARTFUN1:72;
theorem
L560: (for R3 being set holds (for R11 being set holds (for B168 being (PartFunc of R3 , { R11 }) holds (for B169 being (Function of R3 , { R11 }) holds ( TotFuncs B168 ) = { B169 }))))
proof
let R3 being set;
let R11 being set;
let C156 being (PartFunc of R3 , { R11 });
let C157 being (Function of R3 , { R11 });
L561: (for B170 being set holds (B170 in ( TotFuncs C156 ) iff B170 = C157))
proof
let C158 being set;
thus L562: (C158 in ( TotFuncs C156 ) implies C158 = C157)
proof
assume L563: C158 in ( TotFuncs C156 );
L564: C158 is (Function of R3 , { R11 }) by L563 , L530;
thus L565: thesis by L564 , L343;
end;

L566: C156 tolerates C157 by PARTFUN1:61;
thus L567: thesis by L566 , PARTFUN1:def 5;
end;
thus L568: thesis by L561 , TARSKI:def 1;
end;
theorem
L569: (for R3 being set holds (for R4 being set holds (for B171 , B172 being (PartFunc of R3 , R4) holds (B172 c= B171 implies ( TotFuncs B171 ) c= ( TotFuncs B172 )))))
proof
let R3 being set;
let R4 being set;
let C159 , C160 being (PartFunc of R3 , R4);
assume that
L570: C160 c= C159;
let C161 being set;
assume L571: C161 in ( TotFuncs C159 );
reconsider D14 = C161 as (PartFunc of R3 , R4) by L571 , PARTFUN1:69;
L572: D14 is  total by L571 , PARTFUN1:70;
L573: C160 tolerates D14 by L570 , L571 , PARTFUN1:58 , PARTFUN1:71;
thus L574: thesis by L573 , L572 , PARTFUN1:def 5;
end;
theorem
L575: (for R3 being set holds (for R4 being set holds (for B173 , B174 being (PartFunc of R3 , R4) holds ((( dom B174 ) c= ( dom B173 ) & ( TotFuncs B173 ) c= ( TotFuncs B174 )) implies B174 c= B173))))
proof
let R3 being set;
let R4 being set;
let C162 , C163 being (PartFunc of R3 , R4);
assume that
L576: ( dom C163 ) c= ( dom C162 );
L577:
now
per cases ;
suppose L578: (R4 = ( {} ) & R3 <> ( {} ));

thus L579: thesis by L578;
end;
suppose L580: (R4 = ( {} ) implies R3 = ( {} ));

thus L581: (( TotFuncs C162 ) c= ( TotFuncs C163 ) implies C163 c= C162)
proof
assume L582: ( TotFuncs C162 ) c= ( TotFuncs C163 );
L583: (for R7 being set holds (R7 in ( dom C163 ) implies ( C163 . R7 ) = ( C162 . R7 )))
proof
let R7 being set;
consider C164 being (Function of R3 , R4) such that L584: C162 tolerates C164 by L580 , L519;
L585: C164 in ( TotFuncs C162 ) by L580 , L584 , PARTFUN1:def 5;
L586: C163 tolerates C164 by L585 , L582 , PARTFUN1:71;
assume L587: R7 in ( dom C163 );
L588: R7 in ( ( dom C162 ) /\ ( dom C163 ) ) by L587 , L576 , XBOOLE_0:def 4;
thus L589: thesis by L588 , L586 , PARTFUN1:def 4 , L580 , L584 , PARTFUN1:67;
end;
thus L590: thesis by L583 , L576 , GRFUNC_1:2;
end;

end;
end;
thus L583: thesis by L577;
end;
theorem
L584: (for R3 being set holds (for R4 being set holds (for B175 , B176 being (PartFunc of R3 , R4) holds ((( TotFuncs B175 ) c= ( TotFuncs B176 ) & (for R11 being set holds R4 <> { R11 })) implies B176 c= B175))))
proof
let R3 being set;
let R4 being set;
let C165 , C166 being (PartFunc of R3 , R4);
assume that
L585: ( TotFuncs C165 ) c= ( TotFuncs C166 )
and
L586: (for R11 being set holds R4 <> { R11 });
L587:
now
per cases ;
suppose L588: R4 = ( {} );

thus L589: ( dom C166 ) c= ( dom C165 ) by L588;
end;
suppose L590: R4 <> ( {} );

thus L591: ( dom C166 ) c= ( dom C165 )
proof
deffunc H3(set) = ( C165 . $1 );
defpred S6[ set ] means $1 in ( dom C165 );
let R7 being set;
assume that
L592: R7 in ( dom C166 )
and
L593: (not R7 in ( dom C165 ));
L594: R4 <> { ( C166 . R7 ) } by L586;
L595: ( C166 . R7 ) in R4 by L592 , PARTFUN1:4;
consider R11 being set such that L596: R11 in R4 and L597: R11 <> ( C166 . R7 ) by L595 , L594 , ZFMISC_1:35;
deffunc H4(set) = R11;
L598: (for R8 being set holds (R8 in R3 implies ((S6[ R8 ] implies H3(R8) in R4) & ((not S6[ R8 ]) implies H4(R8) in R4)))) by L596 , PARTFUN1:4;
consider C167 being (Function of R3 , R4) such that L599: (for R8 being set holds (R8 in R3 implies ((S6[ R8 ] implies ( C167 . R8 ) = H3(R8)) & ((not S6[ R8 ]) implies ( C167 . R8 ) = H4(R8))))) from Lambda1C(L598);
L600: C165 tolerates C167
proof
let R8 being set;
assume L601: R8 in ( ( dom C165 ) /\ ( dom C167 ) );
L602: R8 in ( dom C165 ) by L601 , XBOOLE_0:def 4;
thus L603: thesis by L602 , L599;
end;
L604: C167 in ( TotFuncs C165 ) by L600 , L590 , PARTFUN1:def 5;
L605: R7 in R3 by L592;
L606: R7 in ( dom C167 ) by L605 , L590 , L1;
L607: R7 in ( ( dom C166 ) /\ ( dom C167 ) ) by L606 , L592 , XBOOLE_0:def 4;
L608: ( C167 . R7 ) = R11 by L592 , L593 , L599;
thus L609: contradiction by L608 , L597 , L604 , L607 , PARTFUN1:def 4 , L585 , PARTFUN1:71;
end;

end;
end;
thus L593: thesis by L587 , L585 , L575;
end;
theorem
L594: (for R3 being set holds (for R4 being set holds (for B177 , B178 being (PartFunc of R3 , R4) holds (((for R11 being set holds R4 <> { R11 }) & ( TotFuncs B177 ) = ( TotFuncs B178 )) implies B177 = B178))))
proof
let R3 being set;
let R4 being set;
let C168 , C169 being (PartFunc of R3 , R4);
assume L595: (for R11 being set holds R4 <> { R11 });
assume L596: ( TotFuncs C168 ) = ( TotFuncs C169 );
L597: (C169 c= C168 & C168 c= C169) by L596 , L595 , L584;
thus L598: thesis by L597 , XBOOLE_0:def 10;
end;
registration
let C170 , C171 being non  empty set;
cluster  -> non  empty for (Function of C170 , C171);
coherence by L1 , RELAT_1:38;
end;
begin
scheme LambdaSep1 { F15 , F16() -> non  empty set , F17() -> (Element of F15()) , F18() -> (Element of F16()) , F19(set) -> (Element of F16()) } : (ex B179 being (Function of F15() , F16()) st (( B179 . F17() ) = F18() & (for B180 being (Element of F15()) holds (B180 <> F17() implies ( B179 . B180 ) = F19(B180)))))
proof
defpred S7[ set , set ] means (($1 = F17() implies $2 = F18()) & ($1 <> F17() implies $2 = F19($1)));
L600: (for B181 being (Element of F15()) holds (ex B182 being (Element of F16()) st S7[ B181 , B182 ]))
proof
let C172 being (Element of F15());
L601: (C172 = F17() implies thesis);
thus L602: thesis by L601;
end;
consider C173 being (Function of F15() , F16()) such that L603: (for B183 being (Element of F15()) holds S7[ B183 , ( C173 . B183 ) ]) from FuncExD(L600);
take C173;
thus L604: thesis by L603;
end;
scheme LambdaSep2 { F20 , F21() -> non  empty set , F22 , F23() -> (Element of F20()) , F24 , F25() -> (Element of F21()) , F26(set) -> (Element of F21()) } : (ex B184 being (Function of F20() , F21()) st (( B184 . F22() ) = F24() & ( B184 . F23() ) = F25() & (for B185 being (Element of F20()) holds ((B185 <> F22() & B185 <> F23()) implies ( B184 . B185 ) = F26(B185)))))
provided
L605: F22() <> F23()
proof
defpred S8[ set , set ] means (($1 = F22() implies $2 = F24()) & ($1 = F23() implies $2 = F25()) & (($1 <> F22() & $1 <> F23()) implies $2 = F26($1)));
L606: (for B186 being (Element of F20()) holds (ex B187 being (Element of F21()) st S8[ B186 , B187 ]))
proof
let C174 being (Element of F20());
L607: (C174 = F23() implies thesis) by L605;
L608: (C174 = F22() implies thesis) by L605;
thus L609: thesis by L608 , L607;
end;
consider C175 being (Function of F20() , F21()) such that L610: (for B188 being (Element of F20()) holds S8[ B188 , ( C175 . B188 ) ]) from FuncExD(L606);
take C175;
thus L611: thesis by L610;
end;
theorem
L612: (for B189 , B190 being set holds (for B191 being Function holds (B191 in ( Funcs (B189 , B190) ) implies (( dom B191 ) = B189 & ( rng B191 ) c= B190))))
proof
let C176 , C177 being set;
let C178 being Function;
assume L613: C178 in ( Funcs (C176 , C177) );
L614: (ex B192 being Function st (C178 = B192 & ( dom B192 ) = C176 & ( rng B192 ) c= C177)) by L613 , L72;
thus L615: thesis by L614;
end;
scheme FunctRealEx { F27() -> non  empty set , F28() -> set , F29(set) -> set } : (ex B193 being (Function of F27() , F28()) st (for B194 being (Element of F27()) holds ( B193 . B194 ) = F29(B194)))
provided
L616: (for B195 being (Element of F27()) holds F29(B195) in F28())
proof
defpred S9[ set , set ] means $2 = F29($1);
L617: (for B196 being set holds (B196 in F27() implies (ex B197 being set st (B197 in F28() & S9[ B196 , B197 ])))) by L616;
L618: (ex B198 being (Function of F27() , F28()) st (for B199 being set holds (B199 in F27() implies S9[ B199 , ( B198 . B199 ) ]))) from FuncEx1(L617);
consider C179 being (Function of F27() , F28()) such that L619: (for B200 being set holds (B200 in F27() implies ( C179 . B200 ) = F29(B200))) by L618;
L620: (for B201 being (Element of F27()) holds ( C179 . B201 ) = F29(B201)) by L619;
thus L621: thesis by L620;
end;
scheme KappaMD { F30 , F31() -> non  empty set , F32(set) -> set } : (ex B202 being (Function of F30() , F31()) st (for B203 being (Element of F30()) holds ( B202 . B203 ) = F32(B203)))
provided
L622: (for B204 being (Element of F30()) holds F32(B204) is (Element of F31()))
proof
L623:
now
let C180 being (Element of F30());
L624: F32(C180) is (Element of F31()) by L622;
thus L625: F32(C180) in F31() by L624;
end;
consider C181 being (Function of F30() , F31()) such that L626: (for B205 being (Element of F30()) holds ( C181 . B205 ) = F32(B205)) from FunctRealEx(L623);
take C181;
thus L627: thesis by L626;
end;
definition
let C182 , C183 , C184 being non  empty set;
let C185 being (Function of C182 , [: C183 , C184 :]);
redefine func pr1 C185 -> (Function of C182 , C183) means 
:L628: (for B206 being (Element of C182) holds ( it . B206 ) = ( ( C185 . B206 ) `1 ));
coherence
proof
L629: ( dom ( pr1 C185 ) ) = ( dom C185 ) by MCART_1:def 12;
L630: ( rng ( pr1 C185 ) ) c= C183
proof
let C186 being set;
assume L631: C186 in ( rng ( pr1 C185 ) );
consider C187 being set such that L632: (C187 in ( dom ( pr1 C185 ) ) & C186 = ( ( pr1 C185 ) . C187 )) by L631 , FUNCT_1:def 3;
L633: (C186 = ( ( C185 . C187 ) `1 ) & ( C185 . C187 ) in [: C183 , C184 :]) by L629 , L632 , L51 , MCART_1:def 12;
thus L634: thesis by L633 , MCART_1:10;
end;
L635: ( dom ( pr1 C185 ) ) = C182 by L629 , L1;
thus L636: thesis by L635 , L630 , L32;
end;
compatibility
proof
let C188 being (Function of C182 , C183);
L637: ( dom ( pr1 C185 ) ) = ( dom C185 ) by MCART_1:def 12;
L638: ( dom ( pr1 C185 ) ) = C182 by L637 , L1;
thus L639: (C188 = ( pr1 C185 ) implies (for B207 being (Element of C182) holds ( C188 . B207 ) = ( ( C185 . B207 ) `1 ))) by L638 , L637 , MCART_1:def 12;
assume L640: (for B208 being (Element of C182) holds ( C188 . B208 ) = ( ( C185 . B208 ) `1 ));
L641: (for B209 being set holds (B209 in ( dom C185 ) implies ( C188 . B209 ) = ( ( C185 . B209 ) `1 ))) by L640;
L642: ( dom C188 ) = ( dom C185 ) by L637 , L638 , L1;
thus L643: thesis by L642 , L641 , MCART_1:def 12;
end;
redefine func pr2 C185 -> (Function of C182 , C184) means 
:L644: (for B210 being (Element of C182) holds ( it . B210 ) = ( ( C185 . B210 ) `2 ));
coherence
proof
L645: ( dom ( pr2 C185 ) ) = ( dom C185 ) by MCART_1:def 13;
L646: ( rng ( pr2 C185 ) ) c= C184
proof
let C189 being set;
assume L647: C189 in ( rng ( pr2 C185 ) );
consider C190 being set such that L648: (C190 in ( dom ( pr2 C185 ) ) & C189 = ( ( pr2 C185 ) . C190 )) by L647 , FUNCT_1:def 3;
L649: (C189 = ( ( C185 . C190 ) `2 ) & ( C185 . C190 ) in [: C183 , C184 :]) by L645 , L648 , L51 , MCART_1:def 13;
thus L650: thesis by L649 , MCART_1:10;
end;
L651: ( dom ( pr2 C185 ) ) = C182 by L645 , L1;
thus L652: thesis by L651 , L646 , L32;
end;
compatibility
proof
let C191 being (Function of C182 , C184);
L653: ( dom ( pr2 C185 ) ) = ( dom C185 ) by MCART_1:def 13;
L654: ( dom ( pr2 C185 ) ) = C182 by L653 , L1;
thus L655: (C191 = ( pr2 C185 ) implies (for B211 being (Element of C182) holds ( C191 . B211 ) = ( ( C185 . B211 ) `2 ))) by L654 , L653 , MCART_1:def 13;
assume L656: (for B212 being (Element of C182) holds ( C191 . B212 ) = ( ( C185 . B212 ) `2 ));
L657: (for B213 being set holds (B213 in ( dom C185 ) implies ( C191 . B213 ) = ( ( C185 . B213 ) `2 ))) by L656;
L658: ( dom C191 ) = ( dom C185 ) by L653 , L654 , L1;
thus L659: thesis by L658 , L657 , MCART_1:def 13;
end;
end;
definition
let C192 being set;
let C193 being non  empty set;
let C194 being set;
let C195 being non  empty set;
let C196 being (Function of C192 , C193);
let C197 being (Function of C194 , C195);
redefine pred C196 = C197
means
(C192 = C194 & (for B214 being (Element of C192) holds ( C196 . B214 ) = ( C197 . B214 )))
;compatibility
proof
L661: ( dom C196 ) = C192 by L1;
thus L662: (C196 = C197 implies (C192 = C194 & (for B215 being (Element of C192) holds ( C196 . B215 ) = ( C197 . B215 )))) by L661 , L1;
assume that
L663: C192 = C194
and
L664: (for B216 being (Element of C192) holds ( C196 . B216 ) = ( C197 . B216 ));
L665: ( dom C197 ) = C194 by L1;
L666: (for B217 being set holds (B217 in C192 implies ( C196 . B217 ) = ( C197 . B217 ))) by L664;
thus L667: thesis by L666 , L661 , L665 , L663 , FUNCT_1:2;
end;
end;
definition
let C198 , C199 being set;
let C200 , C201 being (Function of C198 , C199);
redefine pred C200 = C201
means
(for B218 being (Element of C198) holds ( C200 . B218 ) = ( C201 . B218 ))
;compatibility by L454;
end;
theorem
L670: (for B219 being set holds (for B220 being (Function of B219 , ( bool B219 )) holds (ex B221 being (Relation of B219) st (for B222 being set holds (B222 in B219 implies ( Im (B221 , B222) ) = ( B220 . B222 ))))))
proof
let C202 being set;
let C203 being (Function of C202 , ( bool C202 ));
deffunc H5(set) = ( C203 . $1 );
L671: (for B223 being (Element of C202) holds (B223 in ( [#] C202 ) implies H5(B223) c= ( [#] C202 )))
proof
let C204 being (Element of C202);
assume L672: C204 in ( [#] C202 );
L673: ( C203 . C204 ) in ( bool C202 ) by L672 , L51;
thus L674: thesis by L673;
end;
consider C205 being (Relation of ( [#] C202 )) such that L675: (for B224 being (Element of C202) holds (B224 in ( [#] C202 ) implies ( Im (C205 , B224) ) = H5(B224))) from RELSET_1:sch 3(L671);
reconsider D15 = C205 as (Relation of C202);
take D15;
thus L676: thesis by L675;
end;
theorem
L677: (for R3 being set holds (for B225 being (Subset of R3) holds ( ( id R3 ) " B225 ) = B225))
proof
let R3 being set;
let C206 being (Subset of R3);
thus L678: C206 = ( ( id R3 ) " ( ( id R3 ) .: C206 ) ) by L435
.= ( ( id R3 ) " C206 ) by FUNCT_1:92;
end;
theorem
L679: (for R14 being non  empty set holds (for R15 being non  empty set holds (for B226 being (Function of R14 , R15) holds (for B227 being (Subset of R14) holds (for B228 being (Subset of R15) holds (( B226 .: B227 ) c= B228 iff B227 c= ( B226 " B228 )))))))
proof
let R14 being non  empty set;
let R15 being non  empty set;
let C207 being (Function of R14 , R15);
let C208 being (Subset of R14);
let C209 being (Subset of R15);
thus L680: (( C207 .: C208 ) c= C209 implies C208 c= ( C207 " C209 ))
proof
assume L681: ( C207 .: C208 ) c= C209;
L682: ( C207 " ( C207 .: C208 ) ) c= ( C207 " C209 ) by L681 , RELAT_1:143;
L683: C208 c= ( C207 " ( C207 .: C208 ) ) by L311;
thus L684: thesis by L683 , L682 , XBOOLE_1:1;
end;

thus L685: (C208 c= ( C207 " C209 ) implies ( C207 .: C208 ) c= C209)
proof
assume L686: C208 c= ( C207 " C209 );
L687: ( C207 .: C208 ) c= ( C207 .: ( C207 " C209 ) ) by L686 , RELAT_1:123;
L688: ( C207 .: ( C207 " C209 ) ) c= C209 by FUNCT_1:75;
thus L689: thesis by L688 , L687 , XBOOLE_1:1;
end;

end;
theorem
L686: (for R14 being non  empty set holds (for R15 being non  empty set holds (for B229 being (Function of R14 , R15) holds (for B230 being non  empty (Subset of R14) holds (for B231 being (Function of B230 , R15) holds ((for B232 being (Element of R14) holds (B232 in B230 implies ( B229 . B232 ) = ( B231 . B232 ))) implies ( B229 | B230 ) = B231))))))
proof
let R14 being non  empty set;
let R15 being non  empty set;
let C210 being (Function of R14 , R15);
let C211 being non  empty (Subset of R14);
let C212 being (Function of C211 , R15);
assume that
L687: (for B233 being (Element of R14) holds (B233 in C211 implies ( C210 . B233 ) = ( C212 . B233 )));
reconsider D16 = ( C210 | C211 ) as (Function of C211 , R15) by L267;
L688: (for B234 being (Element of C211) holds ( D16 . B234 ) = ( C212 . B234 ))
proof
let C213 being (Element of C211);
thus L689: ( D16 . C213 ) = ( C210 . C213 ) by FUNCT_1:49
.= ( C212 . C213 ) by L687;
end;
thus L690: thesis by L688 , L454;
end;
theorem
L691: (for B235 being Function holds (for B236 , B237 being set holds (B237 c= B236 implies ( B235 .: B237 ) = ( ( B235 | B236 ) .: B237 ))))
proof
let C214 being Function;
let C215 , C216 being set;
assume L692: C216 c= C215;
thus L693: ( ( C214 | C215 ) .: C216 ) = ( ( C214 * ( id C215 ) ) .: C216 ) by RELAT_1:65
.= ( C214 .: ( ( id C215 ) .: C216 ) ) by RELAT_1:126
.= ( C214 .: C216 ) by L692 , FUNCT_1:92;
end;
theorem
L694: (for B238 being Function holds (for B239 , B240 being set holds (( B238 " B240 ) c= B239 implies ( B238 " B240 ) = ( ( B238 | B239 ) " B240 ))))
proof
let C217 being Function;
let C218 , C219 being set;
assume L695: ( C217 " C219 ) c= C218;
thus L696: ( ( C217 | C218 ) " C219 ) = ( ( C217 * ( id C218 ) ) " C219 ) by RELAT_1:65
.= ( ( id C218 ) " ( C217 " C219 ) ) by RELAT_1:146
.= ( C217 " C219 ) by L695 , L677;
end;
scheme MChoice { F33() -> non  empty set , F34() -> non  empty set , F35(set) -> set } : (ex B241 being (Function of F33() , F34()) st (for B242 being (Element of F33()) holds ( B241 . B242 ) in F35(B242)))
provided
L697: (for B243 being (Element of F33()) holds F34() meets F35(B243))
proof
defpred S10[ set , set ] means $2 in F35($1);
L698: (for B244 being set holds (B244 in F33() implies (ex B245 being set st (B245 in F34() & S10[ B244 , B245 ])))) by L697 , XBOOLE_0:3;
consider C220 being Function such that L699: (( dom C220 ) = F33() & ( rng C220 ) c= F34()) and L700: (for B246 being set holds (B246 in F33() implies S10[ B246 , ( C220 . B246 ) ])) from FUNCT_1:sch 5(L698);
reconsider D17 = C220 as (Function of F33() , F34()) by L699 , L1 , RELSET_1:4;
take D17;
let C221 being (Element of F33());
thus L701: thesis by L700;
end;
theorem
L702: (for B247 , B248 being non  empty set holds (for B249 being (Function of B247 , B248) holds (for B250 being (Element of B247) holds ( B249 /. B250 ) = ( B249 . B250 ))))
proof
let C222 , C223 being non  empty set;
let C224 being (Function of C222 , C223);
let C225 being (Element of C222);
L703: C225 in C222;
L704: C225 in ( dom C224 ) by L703 , L1;
thus L705: thesis by L704 , PARTFUN1:def 6;
end;
registration
let C226 , C227 being non  empty set;
let C228 being (Function of C226 , C227);
let C229 being (Element of C226);
identify C228 /. C229 with C228 . C229;
correctness by L702;
end;
theorem
L707: (for B251 , B252 being set holds (for B253 being (Function of B251 , B252) holds (for B254 being (Subset of B252) holds ((B252 = ( {} ) implies B251 = ( {} )) implies ( ( B253 " B254 ) ` ) = ( B253 " ( B254 ` ) )))))
proof
let C230 , C231 being set;
let C232 being (Function of C230 , C231);
let C233 being (Subset of C231);
assume that
L708: (C231 = ( {} ) implies C230 = ( {} ));
L709: ( C233 /\ ( C233 ` ) ) = ( {} ) by XBOOLE_0:def 7 , XBOOLE_1:79;
L710: ( ( C232 " C233 ) /\ ( C232 " ( C233 ` ) ) ) = ( C232 " ( {} C231 ) ) by L709 , FUNCT_1:68
.= ( {} );
L711: ( C232 " C233 ) misses ( C232 " ( C233 ` ) ) by L710 , XBOOLE_0:def 7;
L712: ( ( C232 " C233 ) \/ ( C232 " ( C233 ` ) ) ) = ( C232 " ( C233 \/ ( C233 ` ) ) ) by RELAT_1:140
.= ( C232 " ( [#] C231 ) ) by SUBSET_1:10
.= ( [#] C230 ) by L708 , L299;
L713: ( ( ( C232 " C233 ) ` ) /\ ( ( C232 " ( C233 ` ) ) ` ) ) = ( ( [#] C230 ) ` ) by L712 , XBOOLE_1:53
.= ( {} C230 ) by XBOOLE_1:37;
L714: ( ( C232 " C233 ) ` ) misses ( ( C232 " ( C233 ` ) ) ` ) by L713 , XBOOLE_0:def 7;
thus L715: thesis by L714 , L711 , SUBSET_1:25;
end;
theorem
L716: (for B255 , B256 , B257 being set holds (for B258 being non  empty set holds (for B259 being (Function of B255 , B258) holds ((B256 c= B255 & ( B259 .: B256 ) c= B257) implies ( B259 | B256 ) is (Function of B256 , B257)))))
proof
let C234 , C235 , C236 being set;
let C237 being non  empty set;
let C238 being (Function of C234 , C237);
assume that
L717: C235 c= C234
and
L718: ( C238 .: C235 ) c= C236;
L719: ( dom C238 ) = C234 by L1;
L720: ( dom ( C238 | C235 ) ) = C235 by L719 , L717 , RELAT_1:62;
L721:
now
assume L722: C236 = ( {} );
L723: ( rng ( C238 | C235 ) ) = ( {} ) by L722 , L718 , RELAT_1:115;
thus L724: C235 = ( {} ) by L723 , L720 , RELAT_1:42;
end;
L725: ( rng ( C238 | C235 ) ) c= C236 by L718 , RELAT_1:115;
thus L726: thesis by L725 , L720 , L721 , L1 , RELSET_1:4;
end;
definition
let C239 , C240 being non  empty set;
let C241 being (Function of C239 , C240);
let C242 being (Subset-Family of C240);
func C241 " C242 -> (Subset-Family of C239) means 
:L727: (for B260 being (Subset of C239) holds (B260 in it iff (ex B261 being (Subset of C240) st (B261 in C242 & B260 = ( C241 " B261 )))));
existence
proof
defpred S11[ (Subset of C239) ] means (ex B262 being (Subset of C240) st (B262 in C242 & $1 = ( C241 " B262 )));
L728: (ex B263 being (Subset-Family of C239) st (for B264 being (Subset of C239) holds (B264 in B263 iff S11[ B264 ]))) from SUBSET_1:sch 3;
thus L729: thesis by L728;
end;
uniqueness
proof
let C243 , C244 being (Subset-Family of C239);
assume that
L730: (for B265 being (Subset of C239) holds (B265 in C243 iff (ex B266 being (Subset of C240) st (B266 in C242 & B265 = ( C241 " B266 )))))
and
L731: (for B267 being (Subset of C239) holds (B267 in C244 iff (ex B268 being (Subset of C240) st (B268 in C242 & B267 = ( C241 " B268 )))));
L732: (for B269 being set holds (B269 in C243 iff B269 in C244))
proof
let C245 being set;
thus L733: (C245 in C243 implies C245 in C244)
proof
assume L734: C245 in C243;
reconsider D18 = C245 as (Subset of C239) by L734;
L735: (ex B270 being (Subset of C240) st (B270 in C242 & D18 = ( C241 " B270 ))) by L730 , L734;
thus L736: thesis by L735 , L731;
end;

assume L737: C245 in C244;
reconsider D19 = C245 as (Subset of C239) by L737;
L738: (ex B271 being (Subset of C240) st (B271 in C242 & D19 = ( C241 " B271 ))) by L731 , L737;
thus L739: thesis by L738 , L730;
end;
thus L740: thesis by L732 , TARSKI:1;
end;
end;
theorem
L742: (for B272 , B273 being non  empty set holds (for B274 being (Function of B272 , B273) holds (for B275 , B276 being (Subset-Family of B273) holds (B275 c= B276 implies ( B274 " B275 ) c= ( B274 " B276 )))))
proof
let C246 , C247 being non  empty set;
let C248 being (Function of C246 , C247);
let C249 , C250 being (Subset-Family of C247);
assume L743: C249 c= C250;
let C251 being set;
assume L744: C251 in ( C248 " C249 );
reconsider D20 = C251 as (Subset of C246) by L744;
L745: (ex B277 being (Subset of C247) st (B277 in C250 & D20 = ( C248 " B277 )))
proof
consider C252 being (Subset of C247) such that L746: (C252 in C249 & D20 = ( C248 " C252 )) by L744 , L727;
take C252;
thus L747: thesis by L743 , L746;
end;
thus L748: thesis by L745 , L727;
end;
definition
let C253 , C254 being non  empty set;
let C255 being (Function of C253 , C254);
let C256 being (Subset-Family of C253);
func C255 .: C256 -> (Subset-Family of C254) means 
:L749: (for B278 being (Subset of C254) holds (B278 in it iff (ex B279 being (Subset of C253) st (B279 in C256 & B278 = ( C255 .: B279 )))));
existence
proof
thus L750: (ex B280 being (Subset-Family of C254) st (for B281 being (Subset of C254) holds (B281 in B280 iff (ex B282 being (Subset of C253) st (B282 in C256 & B281 = ( C255 .: B282 ))))))
proof
defpred S12[ (Subset of C254) ] means (ex B283 being (Subset of C253) st (B283 in C256 & $1 = ( C255 .: B283 )));
L751: (ex B284 being (Subset-Family of C254) st (for B285 being (Subset of C254) holds (B285 in B284 iff S12[ B285 ]))) from SUBSET_1:sch 3;
thus L752: thesis by L751;
end;

end;
uniqueness
proof
let C257 , C258 being (Subset-Family of C254);
assume that
L751: (for B286 being (Subset of C254) holds (B286 in C257 iff (ex B287 being (Subset of C253) st (B287 in C256 & B286 = ( C255 .: B287 )))))
and
L752: (for B288 being (Subset of C254) holds (B288 in C258 iff (ex B289 being (Subset of C253) st (B289 in C256 & B288 = ( C255 .: B289 )))));
L753: (for B290 being set holds (B290 in C257 iff B290 in C258))
proof
let C259 being set;
thus L754: (C259 in C257 implies C259 in C258)
proof
assume L755: C259 in C257;
reconsider D21 = C259 as (Subset of C254) by L755;
L756: (ex B291 being (Subset of C253) st (B291 in C256 & D21 = ( C255 .: B291 ))) by L751 , L755;
thus L757: thesis by L756 , L752;
end;

assume L758: C259 in C258;
reconsider D22 = C259 as (Subset of C254) by L758;
L759: (ex B292 being (Subset of C253) st (B292 in C256 & D22 = ( C255 .: B292 ))) by L752 , L758;
thus L760: thesis by L759 , L751;
end;
thus L761: thesis by L753 , TARSKI:1;
end;
end;
theorem
L763: (for B293 , B294 being non  empty set holds (for B295 being (Function of B293 , B294) holds (for B296 , B297 being (Subset-Family of B293) holds (B296 c= B297 implies ( B295 .: B296 ) c= ( B295 .: B297 )))))
proof
let C260 , C261 being non  empty set;
let C262 being (Function of C260 , C261);
let C263 , C264 being (Subset-Family of C260);
assume L764: C263 c= C264;
let C265 being set;
assume L765: C265 in ( C262 .: C263 );
reconsider D23 = C265 as (Subset of C261) by L765;
L766: (ex B298 being (Subset of C260) st (B298 in C264 & D23 = ( C262 .: B298 )))
proof
consider C266 being (Subset of C260) such that L767: (C266 in C263 & D23 = ( C262 .: C266 )) by L765 , L749;
take C266;
thus L768: thesis by L764 , L767;
end;
thus L769: thesis by L766 , L749;
end;
theorem
L770: (for B299 , B300 being non  empty set holds (for B301 being (Function of B299 , B300) holds (for B302 being (Subset-Family of B300) holds (for B303 being (Subset of B300) holds (( B301 .: ( B301 " B302 ) ) is (Cover of B303) implies B302 is (Cover of B303))))))
proof
let C267 , C268 being non  empty set;
let C269 being (Function of C267 , C268);
let C270 being (Subset-Family of C268);
let C271 being (Subset of C268);
assume L771: ( C269 .: ( C269 " C270 ) ) is (Cover of C271);
L772: C271 c= ( union ( C269 .: ( C269 " C270 ) ) ) by L771 , SETFAM_1:def 11;
L773: C271 c= ( union C270 )
proof
let C272 being set;
assume L774: C272 in C271;
consider C273 being set such that L775: C272 in C273 and L776: C273 in ( C269 .: ( C269 " C270 ) ) by L774 , L772 , TARSKI:def 4;
L777: (ex B304 being set st (C272 in B304 & B304 in C270))
proof
reconsider D24 = C273 as (Subset of C268) by L776;
consider C274 being (Subset of C267) such that L778: C274 in ( C269 " C270 ) and L779: D24 = ( C269 .: C274 ) by L776 , L749;
consider C275 being (Subset of C268) such that L780: (C275 in C270 & C274 = ( C269 " C275 )) by L778 , L727;
L781: ( C269 .: ( C269 " C275 ) ) c= C275 by FUNCT_1:75;
reconsider D25 = C275 as set;
take D25;
thus L782: thesis by L775 , L779 , L780 , L781;
end;
thus L783: thesis by L777 , TARSKI:def 4;
end;
thus L784: thesis by L773 , SETFAM_1:def 11;
end;
theorem
L785: (for B305 , B306 being non  empty set holds (for B307 being (Function of B305 , B306) holds (for B308 being (Subset-Family of B305) holds (for B309 being (Subset of B305) holds (B308 is (Cover of B309) implies ( B307 " ( B307 .: B308 ) ) is (Cover of B309))))))
proof
let C276 , C277 being non  empty set;
let C278 being (Function of C276 , C277);
let C279 being (Subset-Family of C276);
let C280 being (Subset of C276);
assume L786: C279 is (Cover of C280);
L787: C280 c= ( union C279 ) by L786 , SETFAM_1:def 11;
L788: C280 c= ( union ( C278 " ( C278 .: C279 ) ) )
proof
let C281 being set;
assume L789: C281 in C280;
consider C282 being set such that L790: C281 in C282 and L791: C282 in C279 by L789 , L787 , TARSKI:def 4;
L792: (ex B310 being set st (C281 in B310 & B310 in ( C278 " ( C278 .: C279 ) )))
proof
reconsider D26 = C282 as (Subset of C276) by L791;
set D27 = ( C278 " ( C278 .: D26 ) );
take D27;
L793: ( dom C278 ) = C276 by L1;
L794: D26 c= ( C278 " ( C278 .: D26 ) ) by L793 , FUNCT_1:76;
L795: ( C278 .: D26 ) in ( C278 .: C279 ) by L791 , L749;
thus L796: thesis by L795 , L790 , L794 , L727;
end;
thus L797: thesis by L792 , TARSKI:def 4;
end;
thus L798: thesis by L788 , SETFAM_1:def 11;
end;
theorem
L799: (for B311 , B312 being non  empty set holds (for B313 being (Function of B311 , B312) holds (for B314 being (Subset-Family of B312) holds ( union ( B313 .: ( B313 " B314 ) ) ) c= ( union B314 ))))
proof
let C283 , C284 being non  empty set;
let C285 being (Function of C283 , C284);
let C286 being (Subset-Family of C284);
let C287 being set;
thus L800: (C287 in ( union ( C285 .: ( C285 " C286 ) ) ) implies C287 in ( union C286 ))
proof
assume L801: C287 in ( union ( C285 .: ( C285 " C286 ) ) );
consider C288 being set such that L802: C287 in C288 and L803: C288 in ( C285 .: ( C285 " C286 ) ) by L801 , TARSKI:def 4;
reconsider D28 = C288 as (Subset of C284) by L803;
consider C289 being (Subset of C283) such that L804: C289 in ( C285 " C286 ) and L805: D28 = ( C285 .: C289 ) by L803 , L749;
consider C290 being (Subset of C284) such that L806: (C290 in C286 & C289 = ( C285 " C290 )) by L804 , L727;
L807: ( C285 .: ( C285 " C290 ) ) c= C290 by FUNCT_1:75;
thus L808: thesis by L807 , L802 , L805 , L806 , TARSKI:def 4;
end;

end;
theorem
L801: (for B315 , B316 being non  empty set holds (for B317 being (Function of B315 , B316) holds (for B318 being (Subset-Family of B315) holds ( union B318 ) c= ( union ( B317 " ( B317 .: B318 ) ) ))))
proof
let C291 , C292 being non  empty set;
let C293 being (Function of C291 , C292);
let C294 being (Subset-Family of C291);
let C295 being set;
assume L802: C295 in ( union C294 );
consider C296 being set such that L803: C295 in C296 and L804: C296 in C294 by L802 , TARSKI:def 4;
L805: C296 c= C291 by L804;
reconsider D29 = C296 as (Subset of C291) by L804;
reconsider D30 = ( C293 .: D29 ) as (Subset of C292);
reconsider D31 = ( C293 " D30 ) as (Subset of C291);
L806: D29 c= ( dom C293 ) by L805 , L1;
L807: D29 c= D31 by L806 , FUNCT_1:76;
L808: D30 in ( C293 .: C294 ) by L804 , L749;
L809: D31 in ( C293 " ( C293 .: C294 ) ) by L808 , L727;
thus L810: thesis by L809 , L803 , L807 , TARSKI:def 4;
end;
definition
let C297 , C298 being set;
let C299 being non  empty set;
let C300 being (Function of C297 , C299);
let C301 being C298 -valued Function;
assume L811: ( rng C300 ) c= ( dom C301 );
func C301 /* C300 -> (Function of C297 , C298) equals 
:L812: ( C301 * C300 );
coherence
proof
L813: ( dom C300 ) = C297 by L1;
L814: ( dom ( C301 * C300 ) ) = C297 by L813 , L811 , RELAT_1:27;
L815: ( C301 * C300 ) is  total by L814 , PARTFUN1:def 2;
L816: ( rng ( C301 * C300 ) ) c= C298;
thus L817: thesis by L816 , L815 , L814 , RELSET_1:4;
end;
end;
theorem
L819: (for R3 being set holds (for R5 being set holds (for R16 being non  empty set holds (for R17 being (Function of R3 , R16) holds (for R18 being (PartFunc of R16 , R5) holds (for R19 being (Element of R3) holds ((R3 <> ( {} ) & ( rng R17 ) c= ( dom R18 )) implies ( ( R18 /* R17 ) . R19 ) = ( R18 . ( R17 . R19 ) ))))))))
proof
let R3 being set;
let R5 being set;
let R16 being non  empty set;
let R17 being (Function of R3 , R16);
let R18 being (PartFunc of R16 , R5);
let R19 being (Element of R3);
assume that
L820: R3 <> ( {} )
and
L821: ( rng R17 ) c= ( dom R18 );
L822: ( R18 /* R17 ) = ( R18 * R17 ) by L821 , L812;
thus L823: thesis by L822 , L820 , L142;
end;
theorem
L824: (for R3 being set holds (for R5 being set holds (for R16 being non  empty set holds (for R17 being (Function of R3 , R16) holds (for R18 being (PartFunc of R16 , R5) holds (for R19 being (Element of R3) holds ((R3 <> ( {} ) & ( rng R17 ) c= ( dom R18 )) implies ( ( R18 /* R17 ) . R19 ) = ( R18 /. ( R17 . R19 ) ))))))))
proof
let R3 being set;
let R5 being set;
let R16 being non  empty set;
let R17 being (Function of R3 , R16);
let R18 being (PartFunc of R16 , R5);
let R19 being (Element of R3);
assume that
L825: R3 <> ( {} )
and
L826: ( rng R17 ) c= ( dom R18 );
L827: ( R17 . R19 ) in ( rng R17 ) by L825 , L47;
thus L828: ( ( R18 /* R17 ) . R19 ) = ( R18 . ( R17 . R19 ) ) by L825 , L826 , L819
.= ( R18 /. ( R17 . R19 ) ) by L826 , L827 , PARTFUN1:def 6;
end;
theorem
L829: (for R3 being set holds (for R5 being set holds (for R16 being non  empty set holds (for R17 being (Function of R3 , R16) holds (for R18 being (PartFunc of R16 , R5) holds (for R20 being (Function of R3 , R3) holds (( rng R17 ) c= ( dom R18 ) implies ( ( R18 /* R17 ) * R20 ) = ( R18 /* ( R17 * R20 ) ))))))))
proof
let R3 being set;
let R5 being set;
let R16 being non  empty set;
let R17 being (Function of R3 , R16);
let R18 being (PartFunc of R16 , R5);
let R20 being (Function of R3 , R3);
L830: ( rng ( R17 * R20 ) ) c= ( rng R17 ) by RELAT_1:26;
assume L831: ( rng R17 ) c= ( dom R18 );
thus L832: ( ( R18 /* R17 ) * R20 ) = ( ( R18 * R17 ) * R20 ) by L831 , L812
.= ( R18 * ( R17 * R20 ) ) by RELAT_1:36
.= ( R18 /* ( R17 * R20 ) ) by L831 , L830 , L812 , XBOOLE_1:1;
end;
theorem
L833: (for B319 , B320 being non  empty set holds (for B321 being (Function of B319 , B320) holds (B321 is  constant iff (ex B322 being (Element of B320) st ( rng B321 ) = { B322 }))))
proof
let C302 , C303 being non  empty set;
let C304 being (Function of C302 , C303);
thus L834:now
consider C305 being set such that L835: C305 in ( dom C304 ) by XBOOLE_0:def 1;
set D32 = ( C304 . C305 );
reconsider D33 = D32 as (Element of C303) by L835 , L51;
assume L836: C304 is  constant;
take D34 = D33;
L837: (for B323 being set holds (B323 in ( rng C304 ) iff B323 = D34))
proof
let C306 being set;
thus L838:now
assume L839: C306 in ( rng C304 );
L840: (ex B324 being set st (B324 in ( dom C304 ) & C306 = ( C304 . B324 ))) by L839 , FUNCT_1:def 3;
thus L841: C306 = D34 by L840 , L836 , L835 , FUNCT_1:def 10;
end;
assume L842: C306 = D34;
thus L843: thesis by L842 , L835 , L47;
end;
thus L844: ( rng C304 ) = { D34 } by L837 , TARSKI:def 1;
end;
given C307 being (Element of C303) such that
L845: ( rng C304 ) = { C307 };

let C308 , C309 being set;
assume L846: C308 in ( dom C304 );
L847: ( C304 . C308 ) in ( rng C304 ) by L846 , L47;
assume L848: C309 in ( dom C304 );
L849: ( C304 . C309 ) in ( rng C304 ) by L848 , L47;
thus L850: ( C304 . C308 ) = C307 by L845 , L847 , TARSKI:def 1
.= ( C304 . C309 ) by L845 , L849 , TARSKI:def 1;
end;
theorem
L851: (for B325 , B326 being non  empty set holds (for B327 being (Element of B325) holds (for B328 being (Function of B325 , B326) holds ( B328 . B327 ) in ( rng B328 ))))
proof
let C310 , C311 being non  empty set;
let C312 being (Element of C310);
let C313 being (Function of C310 , C311);
L852: ( dom C313 ) = C310 by L1;
thus L853: thesis by L852 , FUNCT_1:def 3;
end;
theorem
L854: (for R11 being set holds (for B329 , B330 being set holds (for B331 being (Function of B329 , B330) holds (R11 in ( rng B331 ) implies (ex B332 being (Element of B329) st R11 = ( B331 . B332 ))))))
proof
let R11 being set;
let C314 , C315 being set;
let C316 being (Function of C314 , C315);
assume L855: R11 in ( rng C316 );
consider C317 being set such that L856: C317 in C314 and L857: ( C316 . C317 ) = R11 by L855 , L118;
reconsider D35 = C317 as (Element of C314) by L856;
take D35;
thus L858: thesis by L857;
end;
theorem
L859: (for R5 being set holds (for B333 , B334 being non  empty set holds (for B335 being (Function of B333 , B334) holds ((for B336 being (Element of B333) holds ( B335 . B336 ) in R5) implies ( rng B335 ) c= R5))))
proof
let R5 being set;
let C318 , C319 being non  empty set;
let C320 being (Function of C318 , C319);
assume that
L860: (for B337 being (Element of C318) holds ( C320 . B337 ) in R5);
let R11 being set;
assume L861: R11 in ( rng C320 );
L862: (ex B338 being (Element of C318) st ( C320 . B338 ) = R11) by L861 , L854;
thus L863: thesis by L862 , L860;
end;
theorem
L864: (for R21 being non  empty set holds (for R22 being non  empty set holds (for R23 being set holds (for R26 being (Function of R21 , R22) holds (for R27 being (PartFunc of R22 , R23) holds (for R28 being (Element of R21) holds (R27 is  total implies ( ( R27 /* R26 ) . R28 ) = ( R27 . ( R26 . R28 ) ))))))))
proof
let R21 being non  empty set;
let R22 being non  empty set;
let R23 being set;
let R26 being (Function of R21 , R22);
let R27 being (PartFunc of R22 , R23);
let R28 being (Element of R21);
assume L865: R27 is  total;
L866: ( dom R27 ) = R22 by L865 , PARTFUN1:def 2;
L867: ( rng R26 ) c= ( dom R27 ) by L866;
thus L868: thesis by L867 , L819;
end;
theorem
L869: (for R21 being non  empty set holds (for R22 being non  empty set holds (for R23 being set holds (for R26 being (Function of R21 , R22) holds (for R27 being (PartFunc of R22 , R23) holds (for R28 being (Element of R21) holds (R27 is  total implies ( ( R27 /* R26 ) . R28 ) = ( R27 /. ( R26 . R28 ) ))))))))
proof
let R21 being non  empty set;
let R22 being non  empty set;
let R23 being set;
let R26 being (Function of R21 , R22);
let R27 being (PartFunc of R22 , R23);
let R28 being (Element of R21);
assume L870: R27 is  total;
L871: ( dom R27 ) = R22 by L870 , PARTFUN1:def 2;
L872: ( rng R26 ) c= ( dom R27 ) by L871;
thus L873: thesis by L872 , L824;
end;
theorem
L874: (for R21 being non  empty set holds (for R22 being non  empty set holds (for R23 being set holds (for R24 being set holds (for R26 being (Function of R21 , R22) holds (for R27 being (PartFunc of R22 , R23) holds (( rng R26 ) c= ( dom ( R27 | R24 ) ) implies ( ( R27 | R24 ) /* R26 ) = ( R27 /* R26 ))))))))
proof
let R21 being non  empty set;
let R22 being non  empty set;
let R23 being set;
let R24 being set;
let R26 being (Function of R21 , R22);
let R27 being (PartFunc of R22 , R23);
assume L875: ( rng R26 ) c= ( dom ( R27 | R24 ) );
let C321 being (Element of R21);
L876: ( dom ( R27 | R24 ) ) c= ( dom R27 ) by RELAT_1:60;
L877: ( R26 . C321 ) in ( rng R26 ) by L47;
thus L878: ( ( ( R27 | R24 ) /* R26 ) . C321 ) = ( ( R27 | R24 ) . ( R26 . C321 ) ) by L875 , L819
.= ( R27 . ( R26 . C321 ) ) by L875 , L877 , FUNCT_1:47
.= ( ( R27 /* R26 ) . C321 ) by L875 , L876 , L819 , XBOOLE_1:1;
end;
theorem
L879: (for R21 being non  empty set holds (for R22 being non  empty set holds (for R23 being set holds (for R24 being set holds (for R25 being set holds (for R26 being (Function of R21 , R22) holds (for R27 being (PartFunc of R22 , R23) holds ((( rng R26 ) c= ( dom ( R27 | R24 ) ) & R24 c= R25) implies ( ( R27 | R24 ) /* R26 ) = ( ( R27 | R25 ) /* R26 )))))))))
proof
let R21 being non  empty set;
let R22 being non  empty set;
let R23 being set;
let R24 being set;
let R25 being set;
let R26 being (Function of R21 , R22);
let R27 being (PartFunc of R22 , R23);
assume L880: ( rng R26 ) c= ( dom ( R27 | R24 ) );
assume L881: R24 c= R25;
L882: ( R27 | R24 ) c= ( R27 | R25 ) by L881 , RELAT_1:75;
L883: ( dom ( R27 | R24 ) ) c= ( dom ( R27 | R25 ) ) by L882 , RELAT_1:11;
thus L884: ( ( R27 | R24 ) /* R26 ) = ( R27 /* R26 ) by L880 , L874
.= ( ( R27 | R25 ) /* R26 ) by L880 , L883 , L874 , XBOOLE_1:1;
end;
theorem
L885: (for R13 being non  empty set holds (for R14 being non  empty set holds (for R15 being non  empty set holds (for B339 being (Function of R13 , [: R14 , R15 :]) holds (for B340 being (Element of R13) holds ( B339 . B340 ) = [ ( ( pr1 B339 ) . B340 ) , ( ( pr2 B339 ) . B340 ) ])))))
proof
let R13 being non  empty set;
let R14 being non  empty set;
let R15 being non  empty set;
let C322 being (Function of R13 , [: R14 , R15 :]);
let C323 being (Element of R13);
thus L886: ( C322 . C323 ) = [ ( ( C322 . C323 ) `1 ) , ( ( C322 . C323 ) `2 ) ] by MCART_1:21
.= [ ( ( C322 . C323 ) `1 ) , ( ( pr2 C322 ) . C323 ) ] by L644
.= [ ( ( pr1 C322 ) . C323 ) , ( ( pr2 C322 ) . C323 ) ] by L628;
end;
theorem
L887: (for B341 , B342 , B343 , B344 being set holds (for B345 being (Function of B341 , B342) holds (for B346 being (Function of B343 , B344) holds (B345 tolerates B346 implies ( B345 /\ B346 ) is (Function of ( B341 /\ B343 ) , ( B342 /\ B344 ))))))
proof
let C324 , C325 , C326 , C327 being set;
let C328 being (Function of C324 , C325);
let C329 being (Function of C326 , C327);
assume that
L888: C328 tolerates C329;
L889: (( dom ( C328 /\ C329 ) ) c= ( ( dom C328 ) /\ ( dom C329 ) ) & ( ( dom C328 ) /\ ( dom C329 ) ) c= ( C324 /\ C326 )) by RELAT_1:2 , XBOOLE_1:27;
L890:
now
set D36 = the (Element of ( C324 /\ C326 ));
assume that
L891: ( dom C328 ) = C324
and
L892: C324 <> ( {} )
and
L893: ( dom C329 ) = C326
and
L894: C326 <> ( {} );
thus L895:now
assume L896: ( C324 /\ C326 ) <> ( {} );
L897: D36 in C324 by L896 , XBOOLE_0:def 4;
L898: ( C328 . D36 ) in ( rng C328 ) by L897 , L891 , FUNCT_1:def 3;
L899: (( C328 . D36 ) = ( C329 . D36 ) & D36 in C326) by L888 , L891 , L893 , L896 , PARTFUN1:def 4 , XBOOLE_0:def 4;
L900: ( C328 . D36 ) in ( rng C329 ) by L899 , L893 , FUNCT_1:def 3;
thus L901: ( C325 /\ C327 ) <> ( {} ) by L900 , L898 , XBOOLE_0:def 4;
end;
thus L902: ( dom ( C328 /\ C329 ) ) = ( C324 /\ C326 )
proof
thus L903: ( dom ( C328 /\ C329 ) ) c= ( C324 /\ C326 ) by L889 , XBOOLE_1:1;
let C330 being set;
assume L904: C330 in ( C324 /\ C326 );
L905: C330 in C324 by L904 , XBOOLE_0:def 4;
L906: [ C330 , ( C328 . C330 ) ] in C328 by L905 , L891 , FUNCT_1:def 2;
L907: (( C328 . C330 ) = ( C329 . C330 ) & C330 in C326) by L888 , L891 , L893 , L904 , PARTFUN1:def 4 , XBOOLE_0:def 4;
L908: [ C330 , ( C328 . C330 ) ] in C329 by L907 , L893 , FUNCT_1:def 2;
L909: [ C330 , ( C328 . C330 ) ] in ( C328 /\ C329 ) by L908 , L906 , XBOOLE_0:def 4;
thus L910: thesis by L909 , XTUPLE_0:def 12;
end;

end;
L903: (( rng ( C328 /\ C329 ) ) c= ( ( rng C328 ) /\ ( rng C329 ) ) & ( ( rng C328 ) /\ ( rng C329 ) ) c= ( C325 /\ C327 )) by RELAT_1:13 , XBOOLE_1:27;
L904: ( rng ( C328 /\ C329 ) ) c= ( C325 /\ C327 ) by L903 , XBOOLE_1:1;
L905: (C325 = ( {} ) or C325 <> ( {} ));
L906: (C327 = ( {} ) or C327 <> ( {} ));
L907:
now
per cases ;
case L908: ( C325 /\ C327 ) <> ( {} );
thus L909: ( dom ( C328 /\ C329 ) ) = ( C324 /\ C326 ) by L908 , L906 , L890 , L1 , L905;
end;
case L910: ( C324 /\ C326 ) = ( {} );
thus L911: ( dom ( C328 /\ C329 ) ) = ( C324 /\ C326 ) by L910 , L889;
end;
case L912: (( C325 /\ C327 ) = ( {} ) & ( C324 /\ C326 ) <> ( {} ));
thus L913: ( C328 /\ C329 ) = ( {} ) by L912 , L906 , L890 , L1 , L905;
end;
end;
L915: ( dom ( C328 /\ C329 ) ) c= ( C324 /\ C326 ) by L889 , XBOOLE_1:1;
thus L916: thesis by L915 , L904 , L907 , L1 , RELSET_1:4;
end;
registration
let C331 , C332 being set;
cluster ( Funcs (C331 , C332) ) ->  functional;
coherence
proof
let C333 being set;
assume L917: C333 in ( Funcs (C331 , C332) );
L918: (ex B347 being Function st (C333 = B347 & ( dom B347 ) = C331 & ( rng B347 ) c= C332)) by L917 , L72;
thus L919: thesis by L918;
end;
end;
definition
let C334 , C335 being set;
mode FUNCTION_DOMAIN of C334 , C335
 -> non  empty set
means :L921: (for B348 being (Element of it) holds B348 is (Function of C334 , C335));
existence
proof
take D37 = { the (Function of C334 , C335) };
let C336 being (Element of D37);
thus L922: thesis by TARSKI:def 1;
end;
end;
registration
let C337 , C338 being set;
cluster  ->  functional for (FUNCTION_DOMAIN of C337 , C338);
coherence
proof
let C339 being (FUNCTION_DOMAIN of C337 , C338);
thus L924: (for B349 being set holds (B349 in C339 implies B349 is Function)) by L921;
end;
end;
theorem
L926: (for R1 being set holds (for R2 being set holds (for B350 being (Function of R1 , R2) holds { B350 } is (FUNCTION_DOMAIN of R1 , R2))))
proof
let R1 being set;
let R2 being set;
let C340 being (Function of R1 , R2);
L927: (for B351 being (Element of { C340 }) holds B351 is (Function of R1 , R2)) by TARSKI:def 1;
thus L928: thesis by L927 , L921;
end;
theorem
L929: (for R1 being set holds (for R15 being non  empty set holds ( Funcs (R1 , R15) ) is (FUNCTION_DOMAIN of R1 , R15)))
proof
let R1 being set;
let R15 being non  empty set;
L930: (for B352 being (Element of ( Funcs (R1 , R15) )) holds B352 is (Function of R1 , R15)) by L469;
thus L931: thesis by L930 , L921;
end;
definition
let C341 being set;
let C342 being non  empty set;
redefine func Funcs (C341 , C342) -> (FUNCTION_DOMAIN of C341 , C342);

coherence by L929;
let C343 being (FUNCTION_DOMAIN of C341 , C342);
redefine mode Element of C343
 -> (Function of C341 , C342);
coherence by L921;
end;
registration
let C344 being set;
cluster ( id C344 ) ->  total for C344 -defined C344 -defined C344 -defined C344 -defined Function;
coherence;
end;
definition
let R21 being non  empty set;
let R14 being non  empty set;
let C345 being (Function of R21 , R14);
let C346 being set;
assume L934: C346 in R21;
redefine func C345 /. C346 equals 
( C345 . C346 );
compatibility
proof
let C347 being (Element of R14);
L935: C346 in ( dom C345 ) by L934 , L1;
thus L936: thesis by L935 , PARTFUN1:def 6;
end;
end;
theorem
L938: (for R21 being non  empty set holds (for B353 being (Function of R21 , R21) holds (for B354 being R21 -valued Function holds ( dom ( B353 * B354 ) ) = ( dom B354 ))))
proof
let R21 being non  empty set;
let C348 being (Function of R21 , R21);
let C349 being R21 -valued Function;
L939: ( dom C348 ) = R21 by L1;
L940: ( rng C349 ) c= ( dom C348 ) by L939;
thus L941: thesis by L940 , RELAT_1:27;
end;
theorem
L942: (for B355 being non  empty set holds (for B356 being (Function of B355 , B355) holds ((for B357 being (Element of B355) holds ( B356 . B357 ) = B357) implies B356 = ( id B355 ))))
proof
let C350 being non  empty set;
let C351 being (Function of C350 , C350);
assume L943: (for B358 being (Element of C350) holds ( C351 . B358 ) = B358);
let C352 being (Element of C350);
L944: C352 = ( ( id C350 ) . C352 ) by FUNCT_1:18;
thus L945: thesis by L944 , L943;
end;
definition
let C353 , C354 being set;
mode Action of C353 , C354
 is (Function of C353 , ( Funcs (C354 , C354) ));
end;
theorem
L947: (for B359 being set holds (for B360 being set holds (for B361 , B362 being (Function of { B359 } , B360) holds (( B361 . B359 ) = ( B362 . B359 ) implies B361 = B362))))
proof
let C355 being set;
let C356 being set;
let C357 , C358 being (Function of { C355 } , C356);
assume that
L948: ( C357 . C355 ) = ( C358 . C355 );
L949:
now
let C359 being set;
assume L950: C359 in { C355 };
L951: C359 = C355 by L950 , TARSKI:def 1;
thus L952: ( C357 . C359 ) = ( C358 . C359 ) by L951 , L948;
end;
thus L953: thesis by L949 , L122;
end;
