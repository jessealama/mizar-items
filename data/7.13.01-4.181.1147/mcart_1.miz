:: Tuples, Projections and Cartesian Products
::  by Andrzej Trybulec
::
:: Received March 30, 1989
:: Copyright (c) 1990-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies XBOOLE_0, SUBSET_1, TARSKI, ZFMISC_1, RELAT_1, FUNCT_1, MCART_1,
   XTUPLE_0, RECDEF_2, FACIRC_1;
 notations TARSKI, XBOOLE_0, ENUMSET1, ZFMISC_1,
   XTUPLE_0, SUBSET_1, RELAT_1, FUNCT_1;
 constructors TARSKI, ENUMSET1, XTUPLE_0, SUBSET_1, FUNCT_1;
 registrations XBOOLE_0, RELAT_1, XTUPLE_0, SUBSET_1;
 requirements SUBSET, BOOLE;
 definitions TARSKI, XBOOLE_0, RELAT_1, XTUPLE_0;
 theorems TARSKI, XBOOLE_0, ZFMISC_1, ENUMSET1, FUNCT_1,
      RELAT_1, XTUPLE_0, XREGULAR;
 schemes FUNCT_1;

begin
canceled 6;
theorem
L1: (for R2 being set holds (for R7 being set holds (( [ R2 , R7 ] `1 ) = R2 & ( [ R2 , R7 ] `2 ) = R7)));
theorem
L2: (for R32 being  pair set holds [ ( R32 `1 ) , ( R32 `2 ) ] = R32);
theorem
L3: (for R15 being set holds (R15 <> ( {} ) implies (ex R1 being set st (R1 in R15 & (not (ex R2 being set st (ex R7 being set st ((R2 in R15 or R7 in R15) & R1 = [ R2 , R7 ]))))))))
proof
let R15 being set;
assume L4: R15 <> ( {} );
consider R20 being set such that L5: R20 in R15 and L6: (not (ex R21 being set st (R21 in R20 & (not R21 misses R15)))) by L4 , XREGULAR:2;
take D1 = R20;
thus L7: D1 in R15 by L5;
given R2 being set , R7 being set such that
L8: (R2 in R15 or R7 in R15)
and
L9: D1 = [ R2 , R7 ];

L10: { R2 , R7 } in R20 by L9 , TARSKI:def 2;
L11: (R2 in { R2 , R7 } & R7 in { R2 , R7 }) by TARSKI:def 2;
thus L12: contradiction by L11 , L6 , L10 , L8 , XBOOLE_0:3;
end;
theorem
L13: (for R12 being set holds (for R15 being set holds (for R20 being set holds (R12 in [: R15 , R20 :] implies (( R12 `1 ) in R15 & ( R12 `2 ) in R20)))))
proof
let R12 being set;
let R15 being set;
let R20 being set;
assume L14: R12 in [: R15 , R20 :];
consider R2 being set, R7 being set such that L15: (R2 in R15 & R7 in R20 & R12 = [ R2 , R7 ]) by L14 , ZFMISC_1:def 2;
L16: (( [ R2 , R7 ] `1 ) = R2 & ( [ R2 , R7 ] `2 ) = R7);
thus L17: thesis by L16 , L15;
end;
theorem
L18: (for R12 being set holds (for R15 being set holds (for R20 being set holds (((ex R2 being set st (ex R7 being set st R12 = [ R2 , R7 ])) & ( R12 `1 ) in R15 & ( R12 `2 ) in R20) implies R12 in [: R15 , R20 :]))))
proof
let R12 being set;
let R15 being set;
let R20 being set;
assume L19: (ex R2 being set st (ex R7 being set st R12 = [ R2 , R7 ]));
L20: [ ( R12 `1 ) , ( R12 `2 ) ] = R12 by L19 , L2;
thus L21: thesis by L20 , ZFMISC_1:def 2;
end;
theorem
L22: (for R2 being set holds (for R12 being set holds (for R20 being set holds (R12 in [: { R2 } , R20 :] implies (( R12 `1 ) = R2 & ( R12 `2 ) in R20)))))
proof
let R2 being set;
let R12 being set;
let R20 being set;
assume L23: R12 in [: { R2 } , R20 :];
L24: ( R12 `1 ) in { R2 } by L23 , L13;
thus L25: thesis by L24 , L23 , L13 , TARSKI:def 1;
end;
theorem
L26: (for R7 being set holds (for R12 being set holds (for R15 being set holds (R12 in [: R15 , { R7 } :] implies (( R12 `1 ) in R15 & ( R12 `2 ) = R7)))))
proof
let R7 being set;
let R12 being set;
let R15 being set;
assume L27: R12 in [: R15 , { R7 } :];
L28: ( R12 `2 ) in { R7 } by L27 , L13;
thus L29: thesis by L28 , L27 , L13 , TARSKI:def 1;
end;
theorem
L30: (for R2 being set holds (for R7 being set holds (for R12 being set holds (R12 in [: { R2 } , { R7 } :] implies (( R12 `1 ) = R2 & ( R12 `2 ) = R7)))))
proof
let R2 being set;
let R7 being set;
let R12 being set;
assume L31: R12 in [: { R2 } , { R7 } :];
L32: (( R12 `1 ) in { R2 } & ( R12 `2 ) in { R7 }) by L31 , L13;
thus L33: thesis by L32 , TARSKI:def 1;
end;
theorem
L34: (for R3 being set holds (for R4 being set holds (for R12 being set holds (for R20 being set holds (R12 in [: { R3 , R4 } , R20 :] implies ((( R12 `1 ) = R3 or ( R12 `1 ) = R4) & ( R12 `2 ) in R20))))))
proof
let R3 being set;
let R4 being set;
let R12 being set;
let R20 being set;
assume L35: R12 in [: { R3 , R4 } , R20 :];
L36: ( R12 `1 ) in { R3 , R4 } by L35 , L13;
thus L37: thesis by L36 , L35 , L13 , TARSKI:def 2;
end;
theorem
L38: (for R8 being set holds (for R9 being set holds (for R12 being set holds (for R15 being set holds (R12 in [: R15 , { R8 , R9 } :] implies (( R12 `1 ) in R15 & (( R12 `2 ) = R8 or ( R12 `2 ) = R9)))))))
proof
let R8 being set;
let R9 being set;
let R12 being set;
let R15 being set;
assume L39: R12 in [: R15 , { R8 , R9 } :];
L40: ( R12 `2 ) in { R8 , R9 } by L39 , L13;
thus L41: thesis by L40 , L39 , L13 , TARSKI:def 2;
end;
theorem
L42: (for R3 being set holds (for R4 being set holds (for R7 being set holds (for R12 being set holds (R12 in [: { R3 , R4 } , { R7 } :] implies ((( R12 `1 ) = R3 or ( R12 `1 ) = R4) & ( R12 `2 ) = R7))))))
proof
let R3 being set;
let R4 being set;
let R7 being set;
let R12 being set;
assume L43: R12 in [: { R3 , R4 } , { R7 } :];
L44: (( R12 `1 ) in { R3 , R4 } & ( R12 `2 ) in { R7 }) by L43 , L13;
thus L45: thesis by L44 , TARSKI:def 1 , TARSKI:def 2;
end;
theorem
L46: (for R2 being set holds (for R8 being set holds (for R9 being set holds (for R12 being set holds (R12 in [: { R2 } , { R8 , R9 } :] implies (( R12 `1 ) = R2 & (( R12 `2 ) = R8 or ( R12 `2 ) = R9)))))))
proof
let R2 being set;
let R8 being set;
let R9 being set;
let R12 being set;
assume L47: R12 in [: { R2 } , { R8 , R9 } :];
L48: (( R12 `1 ) in { R2 } & ( R12 `2 ) in { R8 , R9 }) by L47 , L13;
thus L49: thesis by L48 , TARSKI:def 1 , TARSKI:def 2;
end;
theorem
L50: (for R3 being set holds (for R4 being set holds (for R8 being set holds (for R9 being set holds (for R12 being set holds (R12 in [: { R3 , R4 } , { R8 , R9 } :] implies ((( R12 `1 ) = R3 or ( R12 `1 ) = R4) & (( R12 `2 ) = R8 or ( R12 `2 ) = R9))))))))
proof
let R3 being set;
let R4 being set;
let R8 being set;
let R9 being set;
let R12 being set;
assume L51: R12 in [: { R3 , R4 } , { R8 , R9 } :];
L52: (( R12 `1 ) in { R3 , R4 } & ( R12 `2 ) in { R8 , R9 }) by L51 , L13;
thus L53: thesis by L52 , TARSKI:def 2;
end;
theorem
L54: (for R2 being set holds ((ex R7 being set st (ex R12 being set st R2 = [ R7 , R12 ])) implies (R2 <> ( R2 `1 ) & R2 <> ( R2 `2 ))))
proof
let R2 being set;
given R7 being set , R12 being set such that
L55: R2 = [ R7 , R12 ];

L56: (( [ R7 , R12 ] `1 ) = R7 & ( [ R7 , R12 ] `2 ) = R12);
L57:
now
assume L58: R7 = R2;
L59: { { R7 , R12 } , { R7 } } in { R7 } by L58 , L55 , TARSKI:def 1;
thus L60: contradiction by L59 , TARSKI:def 2;
end;
thus L61: R2 <> ( R2 `1 ) by L57 , L55 , L56;
L62:
now
assume L63: R12 = R2;
L64: { { R7 , R12 } , { R7 } } in { R7 , R12 } by L63 , L55 , TARSKI:def 2;
thus L65: contradiction by L64 , TARSKI:def 2;
end;
thus L66: thesis by L62 , L55 , L56;
end;
theorem
L67: (for R2 being set holds (for R33 being Relation holds (R2 in R33 implies R2 = [ ( R2 `1 ) , ( R2 `2 ) ])))
proof
let R2 being set;
let R33 being Relation;
assume L68: R2 in R33;
L69: (ex R3 being set st (ex R4 being set st R2 = [ R3 , R4 ])) by L68 , RELAT_1:def 1;
thus L70: thesis by L69 , L2;
end;
theorem
L71: (for R15 being set holds (for R20 being set holds ((R15 <> ( {} ) & R20 <> ( {} )) implies (for B1 being (Element of [: R15 , R20 :]) holds B1 = [ ( B1 `1 ) , ( B1 `2 ) ])))) by L67;
L72: (for R16 being set holds (for R17 being set holds ((R16 <> ( {} ) & R17 <> ( {} )) implies (for B2 being (Element of [: R16 , R17 :]) holds (ex B3 being (Element of R16) st (ex B4 being (Element of R17) st B2 = [ B3 , B4 ]))))))
proof
let R16 being set;
let R17 being set;
assume L73: (R16 <> ( {} ) & R17 <> ( {} ));
let C1 being (Element of [: R16 , R17 :]);
reconsider D2 = ( C1 `2 ) as (Element of R17) by L73 , L13;
reconsider D3 = ( C1 `1 ) as (Element of R16) by L73 , L13;
take D3;
take D2;
thus L74: thesis by L73 , L67;
end;
theorem
L75: (for R3 being set holds (for R4 being set holds (for R8 being set holds (for R9 being set holds [: { R3 , R4 } , { R8 , R9 } :] = { [ R3 , R8 ] , [ R3 , R9 ] , [ R4 , R8 ] , [ R4 , R9 ] }))))
proof
let R3 being set;
let R4 being set;
let R8 being set;
let R9 being set;
thus L76: [: { R3 , R4 } , { R8 , R9 } :] = ( [: { R3 } , { R8 , R9 } :] \/ [: { R4 } , { R8 , R9 } :] ) by ZFMISC_1:109
.= ( { [ R3 , R8 ] , [ R3 , R9 ] } \/ [: { R4 } , { R8 , R9 } :] ) by ZFMISC_1:30
.= ( { [ R3 , R8 ] , [ R3 , R9 ] } \/ { [ R4 , R8 ] , [ R4 , R9 ] } ) by ZFMISC_1:30
.= { [ R3 , R8 ] , [ R3 , R9 ] , [ R4 , R8 ] , [ R4 , R9 ] } by ENUMSET1:5;
end;
theorem
L77: (for R15 being set holds (for R20 being set holds ((R15 <> ( {} ) & R20 <> ( {} )) implies (for B5 being (Element of [: R15 , R20 :]) holds (B5 <> ( B5 `1 ) & B5 <> ( B5 `2 ))))))
proof
let R15 being set;
let R20 being set;
assume L78: (R15 <> ( {} ) & R20 <> ( {} ));
let C2 being (Element of [: R15 , R20 :]);
L79: C2 = [ ( C2 `1 ) , ( C2 `2 ) ] by L78 , L67;
thus L80: thesis by L79 , L54;
end;
canceled 1;
theorem
L81: (for R15 being set holds (R15 <> ( {} ) implies (ex R1 being set st (R1 in R15 & (not (ex R2 being set st (ex R7 being set st (ex R12 being set st ((R2 in R15 or R7 in R15) & R1 = [ R2 , R7 , R12 ])))))))))
proof
let R15 being set;
assume L82: R15 <> ( {} );
consider R20 being set such that L83: R20 in R15 and L84: (not (ex R21 being set st (ex R22 being set st (ex R23 being set st (R21 in R22 & R22 in R23 & R23 in R20 & (not R21 misses R15)))))) by L82 , XREGULAR:4;
take D4 = R20;
thus L85: D4 in R15 by L83;
given R2 being set , R7 being set , R12 being set such that
L86: (R2 in R15 or R7 in R15)
and
L87: D4 = [ R2 , R7 , R12 ];

set D5 = { R2 , R7 };
set D6 = { D5 , { R2 } };
set D7 = { D6 , R12 };
L88: (R2 in D5 & R7 in D5) by TARSKI:def 2;
L89: D7 in R20 by L87 , TARSKI:def 2;
L90: (D5 in D6 & D6 in D7) by TARSKI:def 2;
thus L91: contradiction by L90 , L84 , L88 , L89 , L86 , XBOOLE_0:3;
end;
canceled 3;
theorem
L92: (for R15 being set holds (R15 <> ( {} ) implies (ex R1 being set st (R1 in R15 & (not (ex R3 being set st (ex R4 being set st (ex R5 being set st (ex R6 being set st ((R3 in R15 or R4 in R15) & R1 = [ R3 , R4 , R5 , R6 ]))))))))))
proof
let R15 being set;
assume L93: R15 <> ( {} );
consider R20 being set such that L94: R20 in R15 and L95: (for R21 being set holds (for R22 being set holds (for R23 being set holds (for R24 being set holds (for R25 being set holds ((R21 in R22 & R22 in R23 & R23 in R24 & R24 in R25 & R25 in R20) implies R21 misses R15)))))) by L93 , XREGULAR:6;
take D8 = R20;
thus L96: D8 in R15 by L94;
given R3 being set , R4 being set , R5 being set , R6 being set such that
L97: (R3 in R15 or R4 in R15)
and
L98: D8 = [ R3 , R4 , R5 , R6 ];

set D9 = { R3 , R4 };
set D10 = { D9 , { R3 } };
set D11 = { D10 , R5 };
set D12 = { D11 , { D10 } };
set D13 = { D12 , R6 };
L99: (D11 in D12 & D12 in D13) by TARSKI:def 2;
L100: D13 in R20 by L98 , TARSKI:def 2;
L101: (R3 in D9 & R4 in D9) by TARSKI:def 2;
L102: (D9 in D10 & D10 in D11) by TARSKI:def 2;
thus L103: contradiction by L102 , L95 , L101 , L99 , L100 , L97 , XBOOLE_0:3;
end;
theorem
L104: (for R16 being set holds (for R17 being set holds (for R18 being set holds ((R16 <> ( {} ) & R17 <> ( {} ) & R18 <> ( {} )) iff [: R16 , R17 , R18 :] <> ( {} )))))
proof
let R16 being set;
let R17 being set;
let R18 being set;
L105: ((R16 <> ( {} ) & R17 <> ( {} )) iff [: R16 , R17 :] <> ( {} )) by ZFMISC_1:90;
L106: [: [: R16 , R17 :] , R18 :] = [: R16 , R17 , R18 :] by ZFMISC_1:def 3;
thus L107: thesis by L106 , L105 , ZFMISC_1:90;
end;
theorem
L108: (for R16 being set holds (for R17 being set holds (for R18 being set holds (for R21 being set holds (for R22 being set holds (for R23 being set holds ((R16 <> ( {} ) & R17 <> ( {} ) & R18 <> ( {} )) implies ([: R16 , R17 , R18 :] = [: R21 , R22 , R23 :] implies (R16 = R21 & R17 = R22 & R18 = R23)))))))))
proof
let R16 being set;
let R17 being set;
let R18 being set;
let R21 being set;
let R22 being set;
let R23 being set;
L109: [: R16 , R17 , R18 :] = [: [: R16 , R17 :] , R18 :] by ZFMISC_1:def 3;
assume L110: (R16 <> ( {} ) & R17 <> ( {} ));
assume L111: R18 <> ( {} );
assume L112: [: R16 , R17 , R18 :] = [: R21 , R22 , R23 :];
L113: [: [: R16 , R17 :] , R18 :] = [: [: R21 , R22 :] , R23 :] by L112 , L109 , ZFMISC_1:def 3;
L114: [: R16 , R17 :] = [: R21 , R22 :] by L113 , L110 , L111 , ZFMISC_1:110;
thus L115: thesis by L114 , L110 , L111 , L113 , ZFMISC_1:110;
end;
theorem
L116: (for R16 being set holds (for R17 being set holds (for R18 being set holds (for R21 being set holds (for R22 being set holds (for R23 being set holds (([: R16 , R17 , R18 :] <> ( {} ) & [: R16 , R17 , R18 :] = [: R21 , R22 , R23 :]) implies (R16 = R21 & R17 = R22 & R18 = R23))))))))
proof
let R16 being set;
let R17 being set;
let R18 being set;
let R21 being set;
let R22 being set;
let R23 being set;
assume L117: [: R16 , R17 , R18 :] <> ( {} );
L118: R18 <> ( {} ) by L117 , L104;
L119: (R16 <> ( {} ) & R17 <> ( {} )) by L117 , L104;
thus L120: thesis by L119 , L118 , L108;
end;
theorem
L121: (for R15 being set holds (for R20 being set holds ([: R15 , R15 , R15 :] = [: R20 , R20 , R20 :] implies R15 = R20)))
proof
let R15 being set;
let R20 being set;
assume L122: [: R15 , R15 , R15 :] = [: R20 , R20 , R20 :];
L123: ((R15 <> ( {} ) or R20 <> ( {} )) implies thesis) by L122 , L108;
thus L124: thesis by L123;
end;
L125: (for R16 being set holds (for R17 being set holds (for R18 being set holds ((R16 <> ( {} ) & R17 <> ( {} ) & R18 <> ( {} )) implies (for B6 being (Element of [: R16 , R17 , R18 :]) holds (ex R34 being (Element of R16) st (ex R35 being (Element of R17) st (ex R36 being (Element of R18) st B6 = [ R34 , R35 , R36 ]))))))))
proof
let R16 being set;
let R17 being set;
let R18 being set;
assume that
L126: (R16 <> ( {} ) & R17 <> ( {} ))
and
L127: R18 <> ( {} );
let C3 being (Element of [: R16 , R17 , R18 :]);
reconsider D14 = C3 as (Element of [: [: R16 , R17 :] , R18 :]) by ZFMISC_1:def 3;
consider C4 being (Element of [: R16 , R17 :]), R36 being (Element of R18) such that L128: D14 = [ C4 , R36 ] by L126 , L127 , L72;
consider R34 being (Element of R16), R35 being (Element of R17) such that L129: C4 = [ R34 , R35 ] by L126 , L72;
take R34;
take R35;
take R36;
thus L130: thesis by L128 , L129;
end;
theorem
L131: (for R3 being set holds (for R4 being set holds (for R5 being set holds [: { R3 } , { R4 } , { R5 } :] = { [ R3 , R4 , R5 ] })))
proof
let R3 being set;
let R4 being set;
let R5 being set;
thus L132: [: { R3 } , { R4 } , { R5 } :] = [: [: { R3 } , { R4 } :] , { R5 } :] by ZFMISC_1:def 3
.= [: { [ R3 , R4 ] } , { R5 } :] by ZFMISC_1:29
.= { [ R3 , R4 , R5 ] } by ZFMISC_1:29;
end;
theorem
L133: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R8 being set holds [: { R3 , R8 } , { R4 } , { R5 } :] = { [ R3 , R4 , R5 ] , [ R8 , R4 , R5 ] }))))
proof
let R3 being set;
let R4 being set;
let R5 being set;
let R8 being set;
thus L134: [: { R3 , R8 } , { R4 } , { R5 } :] = [: [: { R3 , R8 } , { R4 } :] , { R5 } :] by ZFMISC_1:def 3
.= [: { [ R3 , R4 ] , [ R8 , R4 ] } , { R5 } :] by ZFMISC_1:30
.= { [ R3 , R4 , R5 ] , [ R8 , R4 , R5 ] } by ZFMISC_1:30;
end;
theorem
L135: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R9 being set holds [: { R3 } , { R4 , R9 } , { R5 } :] = { [ R3 , R4 , R5 ] , [ R3 , R9 , R5 ] }))))
proof
let R3 being set;
let R4 being set;
let R5 being set;
let R9 being set;
thus L136: [: { R3 } , { R4 , R9 } , { R5 } :] = [: [: { R3 } , { R4 , R9 } :] , { R5 } :] by ZFMISC_1:def 3
.= [: { [ R3 , R4 ] , [ R3 , R9 ] } , { R5 } :] by ZFMISC_1:30
.= { [ R3 , R4 , R5 ] , [ R3 , R9 , R5 ] } by ZFMISC_1:30;
end;
theorem
L137: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R10 being set holds [: { R3 } , { R4 } , { R5 , R10 } :] = { [ R3 , R4 , R5 ] , [ R3 , R4 , R10 ] }))))
proof
let R3 being set;
let R4 being set;
let R5 being set;
let R10 being set;
thus L138: [: { R3 } , { R4 } , { R5 , R10 } :] = [: [: { R3 } , { R4 } :] , { R5 , R10 } :] by ZFMISC_1:def 3
.= [: { [ R3 , R4 ] } , { R5 , R10 } :] by ZFMISC_1:29
.= { [ R3 , R4 , R5 ] , [ R3 , R4 , R10 ] } by ZFMISC_1:30;
end;
theorem
L139: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R8 being set holds (for R9 being set holds [: { R3 , R8 } , { R4 , R9 } , { R5 } :] = { [ R3 , R4 , R5 ] , [ R8 , R4 , R5 ] , [ R3 , R9 , R5 ] , [ R8 , R9 , R5 ] })))))
proof
let R3 being set;
let R4 being set;
let R5 being set;
let R8 being set;
let R9 being set;
thus L140: [: { R3 , R8 } , { R4 , R9 } , { R5 } :] = [: [: { R3 , R8 } , { R4 , R9 } :] , { R5 } :] by ZFMISC_1:def 3
.= [: { [ R3 , R4 ] , [ R3 , R9 ] , [ R8 , R4 ] , [ R8 , R9 ] } , { R5 } :] by L75
.= [: ( { [ R3 , R4 ] , [ R3 , R9 ] } \/ { [ R8 , R4 ] , [ R8 , R9 ] } ) , { R5 } :] by ENUMSET1:5
.= ( [: { [ R3 , R4 ] , [ R3 , R9 ] } , { R5 } :] \/ [: { [ R8 , R4 ] , [ R8 , R9 ] } , { R5 } :] ) by ZFMISC_1:97
.= ( { [ [ R3 , R4 ] , R5 ] , [ [ R3 , R9 ] , R5 ] } \/ [: { [ R8 , R4 ] , [ R8 , R9 ] } , { R5 } :] ) by ZFMISC_1:30
.= ( { [ [ R3 , R4 ] , R5 ] , [ [ R3 , R9 ] , R5 ] } \/ { [ [ R8 , R4 ] , R5 ] , [ [ R8 , R9 ] , R5 ] } ) by ZFMISC_1:30
.= { [ R3 , R4 , R5 ] , [ R3 , R9 , R5 ] , [ R8 , R4 , R5 ] , [ [ R8 , R9 ] , R5 ] } by ENUMSET1:5
.= { [ R3 , R4 , R5 ] , [ R8 , R4 , R5 ] , [ R3 , R9 , R5 ] , [ R8 , R9 , R5 ] } by ENUMSET1:62;
end;
theorem
L141: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R8 being set holds (for R10 being set holds [: { R3 , R8 } , { R4 } , { R5 , R10 } :] = { [ R3 , R4 , R5 ] , [ R8 , R4 , R5 ] , [ R3 , R4 , R10 ] , [ R8 , R4 , R10 ] })))))
proof
let R3 being set;
let R4 being set;
let R5 being set;
let R8 being set;
let R10 being set;
thus L142: [: { R3 , R8 } , { R4 } , { R5 , R10 } :] = [: [: { R3 , R8 } , { R4 } :] , { R5 , R10 } :] by ZFMISC_1:def 3
.= [: { [ R3 , R4 ] , [ R8 , R4 ] } , { R5 , R10 } :] by ZFMISC_1:30
.= { [ [ R3 , R4 ] , R5 ] , [ [ R3 , R4 ] , R10 ] , [ [ R8 , R4 ] , R5 ] , [ [ R8 , R4 ] , R10 ] } by L75
.= { [ R3 , R4 , R5 ] , [ R8 , R4 , R5 ] , [ R3 , R4 , R10 ] , [ R8 , R4 , R10 ] } by ENUMSET1:62;
end;
theorem
L143: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R9 being set holds (for R10 being set holds [: { R3 } , { R4 , R9 } , { R5 , R10 } :] = { [ R3 , R4 , R5 ] , [ R3 , R9 , R5 ] , [ R3 , R4 , R10 ] , [ R3 , R9 , R10 ] })))))
proof
let R3 being set;
let R4 being set;
let R5 being set;
let R9 being set;
let R10 being set;
thus L144: [: { R3 } , { R4 , R9 } , { R5 , R10 } :] = [: [: { R3 } , { R4 , R9 } :] , { R5 , R10 } :] by ZFMISC_1:def 3
.= [: { [ R3 , R4 ] , [ R3 , R9 ] } , { R5 , R10 } :] by ZFMISC_1:30
.= { [ [ R3 , R4 ] , R5 ] , [ [ R3 , R4 ] , R10 ] , [ [ R3 , R9 ] , R5 ] , [ [ R3 , R9 ] , R10 ] } by L75
.= { [ R3 , R4 , R5 ] , [ R3 , R9 , R5 ] , [ R3 , R4 , R10 ] , [ R3 , R9 , R10 ] } by ENUMSET1:62;
end;
theorem
L145: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R8 being set holds (for R9 being set holds (for R10 being set holds [: { R3 , R8 } , { R4 , R9 } , { R5 , R10 } :] = { [ R3 , R4 , R5 ] , [ R3 , R9 , R5 ] , [ R3 , R4 , R10 ] , [ R3 , R9 , R10 ] , [ R8 , R4 , R5 ] , [ R8 , R9 , R5 ] , [ R8 , R4 , R10 ] , [ R8 , R9 , R10 ] }))))))
proof
let R3 being set;
let R4 being set;
let R5 being set;
let R8 being set;
let R9 being set;
let R10 being set;
L146: [: { [ R3 , R4 ] , [ R3 , R9 ] } , { R5 , R10 } :] = { [ [ R3 , R4 ] , R5 ] , [ [ R3 , R4 ] , R10 ] , [ [ R3 , R9 ] , R5 ] , [ [ R3 , R9 ] , R10 ] } by L75
.= { [ R3 , R4 , R5 ] , [ R3 , R9 , R5 ] , [ R3 , R4 , R10 ] , [ R3 , R9 , R10 ] } by ENUMSET1:62;
L147: [: { [ R8 , R4 ] , [ R8 , R9 ] } , { R5 , R10 } :] = { [ [ R8 , R4 ] , R5 ] , [ [ R8 , R4 ] , R10 ] , [ [ R8 , R9 ] , R5 ] , [ [ R8 , R9 ] , R10 ] } by L75
.= { [ R8 , R4 , R5 ] , [ R8 , R9 , R5 ] , [ R8 , R4 , R10 ] , [ R8 , R9 , R10 ] } by ENUMSET1:62;
thus L148: [: { R3 , R8 } , { R4 , R9 } , { R5 , R10 } :] = [: [: { R3 , R8 } , { R4 , R9 } :] , { R5 , R10 } :] by ZFMISC_1:def 3
.= [: { [ R3 , R4 ] , [ R3 , R9 ] , [ R8 , R4 ] , [ R8 , R9 ] } , { R5 , R10 } :] by L75
.= [: ( { [ R3 , R4 ] , [ R3 , R9 ] } \/ { [ R8 , R4 ] , [ R8 , R9 ] } ) , { R5 , R10 } :] by ENUMSET1:5
.= ( { [ R3 , R4 , R5 ] , [ R3 , R9 , R5 ] , [ R3 , R4 , R10 ] , [ R3 , R9 , R10 ] } \/ { [ R8 , R4 , R5 ] , [ R8 , R9 , R5 ] , [ R8 , R4 , R10 ] , [ R8 , R9 , R10 ] } ) by L146 , L147 , ZFMISC_1:97
.= { [ R3 , R4 , R5 ] , [ R3 , R9 , R5 ] , [ R3 , R4 , R10 ] , [ R3 , R9 , R10 ] , [ R8 , R4 , R5 ] , [ R8 , R9 , R5 ] , [ R8 , R4 , R10 ] , [ R8 , R9 , R10 ] } by ENUMSET1:25;
end;
registration
let C5 , C6 , C7 being non  empty set;
cluster  ->  triple for (Element of [: C5 , C6 , C7 :]);
coherence
proof
let C8 being (Element of [: C5 , C6 , C7 :]);
L149: (ex B7 being (Element of C5) st (ex B8 being (Element of C6) st (ex B9 being (Element of C7) st C8 = [ B7 , B8 , B9 ]))) by L125;
thus L150: thesis by L149;
end;
end;
definition
canceled 4;
let C9 , C10 , C11 being non  empty set;
let C12 being (Element of [: C9 , C10 , C11 :]);
redefine func C12 `1_3 -> (Element of C9) means 
:L152: (for R3 being set holds (for R4 being set holds (for R5 being set holds (C12 = [ R3 , R4 , R5 ] implies it = R3))));
coherence
proof
consider C13 being (Element of C9), C14 being (Element of C10), C15 being (Element of C11) such that L153: C12 = [ C13 , C14 , C15 ] by L125;
L154: ( [ C13 , C14 , C15 ] `1_3 ) = C13;
thus L155: ( C12 `1_3 ) is (Element of C9) by L154 , L153;
end;
compatibility
proof
let C16 being (Element of C9);
thus L156: (C16 = ( C12 `1_3 ) implies (for R3 being set holds (for R4 being set holds (for R5 being set holds (C12 = [ R3 , R4 , R5 ] implies C16 = R3)))))
proof
assume L157: C16 = ( C12 `1_3 );
let R3 being set;
let R4 being set;
let R5 being set;
assume that
L158: C12 = [ R3 , R4 , R5 ];
L159: ( [ R3 , R4 , R5 ] `1_3 ) = R3;
thus L160: C16 = R3 by L159 , L158 , L157;
end;

assume L161: (for R3 being set holds (for R4 being set holds (for R5 being set holds (C12 = [ R3 , R4 , R5 ] implies C16 = R3))));
consider C17 being (Element of C9), C18 being (Element of C10), C19 being (Element of C11) such that L162: C12 = [ C17 , C18 , C19 ] by L125;
L163: ( [ C17 , C18 , C19 ] `1_3 ) = C17;
thus L164: C16 = ( C12 `1_3 ) by L163 , L161 , L162;
end;
redefine func C12 `2_3 -> (Element of C10) means 
:L165: (for R3 being set holds (for R4 being set holds (for R5 being set holds (C12 = [ R3 , R4 , R5 ] implies it = R4))));
coherence
proof
consider C20 being (Element of C9), C21 being (Element of C10), C22 being (Element of C11) such that L166: C12 = [ C20 , C21 , C22 ] by L125;
L167: ( [ C20 , C21 , C22 ] `2_3 ) = C21;
thus L168: ( C12 `2_3 ) is (Element of C10) by L167 , L166;
end;
compatibility
proof
let C23 being (Element of C10);
thus L169: (C23 = ( C12 `2_3 ) implies (for R3 being set holds (for R4 being set holds (for R5 being set holds (C12 = [ R3 , R4 , R5 ] implies C23 = R4)))))
proof
assume L170: C23 = ( C12 `2_3 );
let R3 being set;
let R4 being set;
let R5 being set;
assume that
L171: C12 = [ R3 , R4 , R5 ];
L172: ( [ R3 , R4 , R5 ] `2_3 ) = R4;
thus L173: C23 = R4 by L172 , L171 , L170;
end;

assume L174: (for R3 being set holds (for R4 being set holds (for R5 being set holds (C12 = [ R3 , R4 , R5 ] implies C23 = R4))));
consider C24 being (Element of C9), C25 being (Element of C10), C26 being (Element of C11) such that L175: C12 = [ C24 , C25 , C26 ] by L125;
L176: ( [ C24 , C25 , C26 ] `2_3 ) = C25;
thus L177: C23 = ( C12 `2_3 ) by L176 , L174 , L175;
end;
redefine func C12 `3_3 -> (Element of C11) means 
:L178: (for R3 being set holds (for R4 being set holds (for R5 being set holds (C12 = [ R3 , R4 , R5 ] implies it = R5))));
coherence
proof
consider C27 being (Element of C9), C28 being (Element of C10), C29 being (Element of C11) such that L179: C12 = [ C27 , C28 , C29 ] by L125;
L180: ( [ C27 , C28 , C29 ] `3_3 ) = C29;
thus L181: ( C12 `3_3 ) is (Element of C11) by L180 , L179;
end;
compatibility
proof
let C30 being (Element of C11);
thus L182: (C30 = ( C12 `3_3 ) implies (for R3 being set holds (for R4 being set holds (for R5 being set holds (C12 = [ R3 , R4 , R5 ] implies C30 = R5)))))
proof
assume L183: C30 = ( C12 `3_3 );
let R3 being set;
let R4 being set;
let R5 being set;
assume that
L184: C12 = [ R3 , R4 , R5 ];
L185: ( [ R3 , R4 , R5 ] `3_3 ) = R5;
thus L186: C30 = R5 by L185 , L184 , L183;
end;

assume L187: (for R3 being set holds (for R4 being set holds (for R5 being set holds (C12 = [ R3 , R4 , R5 ] implies C30 = R5))));
consider C31 being (Element of C9), C32 being (Element of C10), C33 being (Element of C11) such that L188: C12 = [ C31 , C32 , C33 ] by L125;
L189: ( [ C31 , C32 , C33 ] `3_3 ) = C33;
thus L190: C30 = ( C12 `3_3 ) by L189 , L187 , L188;
end;
end;
canceled 1;
theorem
L192: (for B10 , B11 , B12 being non  empty set holds (for B13 being (Element of [: B10 , B11 , B12 :]) holds B13 = [ ( B13 `1_3 ) , ( B13 `2_3 ) , ( B13 `3_3 ) ]));
theorem
L193: (for R15 being set holds (for R20 being set holds (for R26 being set holds ((R15 c= [: R15 , R20 , R26 :] or R15 c= [: R20 , R26 , R15 :] or R15 c= [: R26 , R15 , R20 :]) implies R15 = ( {} )))))
proof
let R15 being set;
let R20 being set;
let R26 being set;
assume that
L194: (R15 c= [: R15 , R20 , R26 :] or R15 c= [: R20 , R26 , R15 :] or R15 c= [: R26 , R15 , R20 :])
and
L195: R15 <> ( {} );
L196: ([: R15 , R20 , R26 :] <> ( {} ) or [: R20 , R26 , R15 :] <> ( {} ) or [: R26 , R15 , R20 :] <> ( {} )) by L194 , L195;
reconsider D15 = R15 , D16 = R20 , D17 = R26 as non  empty set by L196 , L104;
per cases  by L194;
suppose L197: D15 c= [: D15 , D16 , D17 :];

consider R1 being set such that L198: R1 in D15 and L199: (for R2 being set holds (for R7 being set holds (for R12 being set holds ((R2 in D15 or R7 in D15) implies R1 <> [ R2 , R7 , R12 ])))) by L81;
reconsider D18 = R1 as (Element of [: D15 , D16 , D17 :]) by L197 , L198;
L200: D18 = [ ( D18 `1_3 ) , ( D18 `2_3 ) , ( D18 `3_3 ) ];
thus L201: contradiction by L200 , L199;
end;
suppose L202: D15 c= [: D16 , D17 , D15 :];

L203: D15 c= [: [: D16 , D17 :] , D15 :] by L202 , ZFMISC_1:def 3;
thus L204: thesis by L203 , ZFMISC_1:111;
end;
suppose L205: D15 c= [: D17 , D15 , D16 :];

consider R1 being set such that L206: R1 in D15 and L207: (for R12 being set holds (for R2 being set holds (for R7 being set holds ((R12 in D15 or R2 in D15) implies R1 <> [ R12 , R2 , R7 ])))) by L81;
reconsider D19 = R1 as (Element of [: D17 , D15 , D16 :]) by L205 , L206;
L208: D19 = [ ( D19 `1_3 ) , ( D19 `2_3 ) , ( D19 `3_3 ) ];
thus L209: thesis by L208 , L207;
end;
end;
canceled 1;
theorem
L211: (for B14 , B15 , B16 being non  empty set holds (for B17 being (Element of [: B14 , B15 , B16 :]) holds (B17 <> ( B17 `1_3 ) & B17 <> ( B17 `2_3 ) & B17 <> ( B17 `3_3 ))))
proof
let C34 , C35 , C36 being non  empty set;
let C37 being (Element of [: C34 , C35 , C36 :]);
set D20 = { ( C37 `1_3 ) , ( C37 `2_3 ) };
set D21 = { D20 , { ( C37 `1_3 ) } };
set D22 = { D21 , ( C37 `3_3 ) };
set D23 = { D22 , { D21 } };
L212: C37 = [ ( C37 `1_3 ) , ( C37 `2_3 ) , ( C37 `3_3 ) ]
.= [ [ ( C37 `1_3 ) , ( C37 `2_3 ) ] , ( C37 `3_3 ) ];
L213: ((C37 = ( C37 `1_3 ) or C37 = ( C37 `2_3 )) implies (D23 in D20 & D20 in D21 & D21 in D22 & D22 in D23)) by L212 , TARSKI:def 2;
thus L214: (C37 <> ( C37 `1_3 ) & C37 <> ( C37 `2_3 )) by L213 , XREGULAR:8;
thus L215: thesis by L212 , L54;
end;
theorem
L216: (for R16 being set holds (for R17 being set holds (for R18 being set holds (for R21 being set holds (for R22 being set holds (for R23 being set holds ([: R16 , R17 , R18 :] meets [: R21 , R22 , R23 :] implies (R16 meets R21 & R17 meets R22 & R18 meets R23))))))))
proof
let R16 being set;
let R17 being set;
let R18 being set;
let R21 being set;
let R22 being set;
let R23 being set;
assume L217: [: R16 , R17 , R18 :] meets [: R21 , R22 , R23 :];
L218: ([: [: R16 , R17 :] , R18 :] = [: R16 , R17 , R18 :] & [: [: R21 , R22 :] , R23 :] = [: R21 , R22 , R23 :]) by ZFMISC_1:def 3;
L219: [: R16 , R17 :] meets [: R21 , R22 :] by L218 , L217 , ZFMISC_1:104;
thus L220: thesis by L219 , L218 , L217 , ZFMISC_1:104;
end;
theorem
L221: (for R16 being set holds (for R17 being set holds (for R18 being set holds (for R19 being set holds [: R16 , R17 , R18 , R19 :] = [: [: [: R16 , R17 :] , R18 :] , R19 :]))))
proof
let R16 being set;
let R17 being set;
let R18 being set;
let R19 being set;
thus L222: [: R16 , R17 , R18 , R19 :] = [: [: R16 , R17 , R18 :] , R19 :] by ZFMISC_1:def 4
.= [: [: [: R16 , R17 :] , R18 :] , R19 :] by ZFMISC_1:def 3;
end;
theorem
L223: (for R16 being set holds (for R17 being set holds (for R18 being set holds (for R19 being set holds [: [: R16 , R17 :] , R18 , R19 :] = [: R16 , R17 , R18 , R19 :]))))
proof
let R16 being set;
let R17 being set;
let R18 being set;
let R19 being set;
thus L224: [: [: R16 , R17 :] , R18 , R19 :] = [: [: [: R16 , R17 :] , R18 :] , R19 :] by ZFMISC_1:def 3
.= [: R16 , R17 , R18 , R19 :] by L221;
end;
theorem
L225: (for R16 being set holds (for R17 being set holds (for R18 being set holds (for R19 being set holds ((R16 <> ( {} ) & R17 <> ( {} ) & R18 <> ( {} ) & R19 <> ( {} )) iff [: R16 , R17 , R18 , R19 :] <> ( {} ))))))
proof
let R16 being set;
let R17 being set;
let R18 being set;
let R19 being set;
L226: [: [: R16 , R17 , R18 :] , R19 :] = [: R16 , R17 , R18 , R19 :] by ZFMISC_1:def 4;
L227: ((R16 <> ( {} ) & R17 <> ( {} ) & R18 <> ( {} )) iff [: R16 , R17 , R18 :] <> ( {} )) by L104;
thus L228: thesis by L227 , L226 , ZFMISC_1:90;
end;
theorem
L229: (for R16 being set holds (for R17 being set holds (for R18 being set holds (for R19 being set holds (for R21 being set holds (for R22 being set holds (for R23 being set holds (for R24 being set holds ((R16 <> ( {} ) & R17 <> ( {} ) & R18 <> ( {} ) & R19 <> ( {} ) & [: R16 , R17 , R18 , R19 :] = [: R21 , R22 , R23 , R24 :]) implies (R16 = R21 & R17 = R22 & R18 = R23 & R19 = R24))))))))))
proof
let R16 being set;
let R17 being set;
let R18 being set;
let R19 being set;
let R21 being set;
let R22 being set;
let R23 being set;
let R24 being set;
L230: [: R16 , R17 , R18 , R19 :] = [: [: R16 , R17 , R18 :] , R19 :] by ZFMISC_1:def 4;
assume L231: (R16 <> ( {} ) & R17 <> ( {} ) & R18 <> ( {} ));
assume L232: R19 <> ( {} );
assume L233: [: R16 , R17 , R18 , R19 :] = [: R21 , R22 , R23 , R24 :];
L234: [: [: R16 , R17 , R18 :] , R19 :] = [: [: R21 , R22 , R23 :] , R24 :] by L233 , L230 , ZFMISC_1:def 4;
L235: [: R16 , R17 , R18 :] = [: R21 , R22 , R23 :] by L232 , L234 , L231 , ZFMISC_1:110;
thus L236: thesis by L235 , L231 , L232 , L234 , L108 , ZFMISC_1:110;
end;
theorem
L237: (for R16 being set holds (for R17 being set holds (for R18 being set holds (for R19 being set holds (for R21 being set holds (for R22 being set holds (for R23 being set holds (for R24 being set holds (([: R16 , R17 , R18 , R19 :] <> ( {} ) & [: R16 , R17 , R18 , R19 :] = [: R21 , R22 , R23 , R24 :]) implies (R16 = R21 & R17 = R22 & R18 = R23 & R19 = R24))))))))))
proof
let R16 being set;
let R17 being set;
let R18 being set;
let R19 being set;
let R21 being set;
let R22 being set;
let R23 being set;
let R24 being set;
assume L238: [: R16 , R17 , R18 , R19 :] <> ( {} );
L239: (R18 <> ( {} ) & R19 <> ( {} )) by L238 , L225;
L240: (R16 <> ( {} ) & R17 <> ( {} )) by L238 , L225;
thus L241: thesis by L240 , L239 , L229;
end;
theorem
L242: (for R15 being set holds (for R20 being set holds ([: R15 , R15 , R15 , R15 :] = [: R20 , R20 , R20 , R20 :] implies R15 = R20)))
proof
let R15 being set;
let R20 being set;
assume L243: [: R15 , R15 , R15 , R15 :] = [: R20 , R20 , R20 , R20 :];
L244: ((R15 <> ( {} ) or R20 <> ( {} )) implies thesis) by L243 , L229;
thus L245: thesis by L244;
end;
L246: (for R16 being set holds (for R17 being set holds (for R18 being set holds (for R19 being set holds ((R16 <> ( {} ) & R17 <> ( {} ) & R18 <> ( {} ) & R19 <> ( {} )) implies (for B18 being (Element of [: R16 , R17 , R18 , R19 :]) holds (ex R34 being (Element of R16) st (ex R35 being (Element of R17) st (ex R36 being (Element of R18) st (ex R37 being (Element of R19) st B18 = [ R34 , R35 , R36 , R37 ]))))))))))
proof
let R16 being set;
let R17 being set;
let R18 being set;
let R19 being set;
assume that
L247: (R16 <> ( {} ) & R17 <> ( {} ) & R18 <> ( {} ))
and
L248: R19 <> ( {} );
let C38 being (Element of [: R16 , R17 , R18 , R19 :]);
reconsider D24 = C38 as (Element of [: [: R16 , R17 , R18 :] , R19 :]) by ZFMISC_1:def 4;
consider C39 being (Element of [: R16 , R17 , R18 :]), R37 being (Element of R19) such that L249: D24 = [ C39 , R37 ] by L248 , L72 , L247;
consider R34 being (Element of R16), R35 being (Element of R17), R36 being (Element of R18) such that L250: C39 = [ R34 , R35 , R36 ] by L247 , L125;
take R34;
take R35;
take R36;
take R37;
thus L251: thesis by L249 , L250;
end;
registration
let C40 , C41 , C42 , C43 being non  empty set;
cluster  ->  quadruple for (Element of [: C40 , C41 , C42 , C43 :]);
coherence
proof
let C44 being (Element of [: C40 , C41 , C42 , C43 :]);
L252: (ex B19 being (Element of C40) st (ex B20 being (Element of C41) st (ex B21 being (Element of C42) st (ex B22 being (Element of C43) st C44 = [ B19 , B20 , B21 , B22 ])))) by L246;
thus L253: thesis by L252;
end;
end;
definition
let C45 , C46 , C47 , C48 being non  empty set;
let C49 being (Element of [: C45 , C46 , C47 , C48 :]);
redefine func C49 `1_4 -> (Element of C45) means 
:L255: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R6 being set holds (C49 = [ R3 , R4 , R5 , R6 ] implies it = R3)))));
coherence
proof
consider C50 being (Element of C45), C51 being (Element of C46), C52 being (Element of C47), C53 being (Element of C48) such that L256: C49 = [ C50 , C51 , C52 , C53 ] by L246;
L257: ( [ C50 , C51 , C52 , C53 ] `1_4 ) = C50;
thus L258: ( C49 `1_4 ) is (Element of C45) by L257 , L256;
end;
compatibility
proof
let C54 being (Element of C45);
thus L259: (C54 = ( C49 `1_4 ) implies (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R6 being set holds (C49 = [ R3 , R4 , R5 , R6 ] implies C54 = R3))))))
proof
assume L260: C54 = ( C49 `1_4 );
let R3 being set;
let R4 being set;
let R5 being set;
let R6 being set;
assume that
L261: C49 = [ R3 , R4 , R5 , R6 ];
L262: ( [ R3 , R4 , R5 , R6 ] `1_4 ) = R3;
thus L263: C54 = R3 by L262 , L261 , L260;
end;

assume L264: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R6 being set holds (C49 = [ R3 , R4 , R5 , R6 ] implies C54 = R3)))));
consider C55 being (Element of C45), C56 being (Element of C46), C57 being (Element of C47), C58 being (Element of C48) such that L265: C49 = [ C55 , C56 , C57 , C58 ] by L246;
L266: ( [ C55 , C56 , C57 , C58 ] `1_4 ) = C55;
thus L267: C54 = ( C49 `1_4 ) by L266 , L264 , L265;
end;
redefine func C49 `2_4 -> (Element of C46) means 
:L268: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R6 being set holds (C49 = [ R3 , R4 , R5 , R6 ] implies it = R4)))));
coherence
proof
consider C59 being (Element of C45), C60 being (Element of C46), C61 being (Element of C47), C62 being (Element of C48) such that L269: C49 = [ C59 , C60 , C61 , C62 ] by L246;
L270: ( [ C59 , C60 , C61 , C62 ] `2_4 ) = C60;
thus L271: ( C49 `2_4 ) is (Element of C46) by L270 , L269;
end;
compatibility
proof
let C63 being (Element of C46);
thus L272: (C63 = ( C49 `2_4 ) implies (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R6 being set holds (C49 = [ R3 , R4 , R5 , R6 ] implies C63 = R4))))))
proof
assume L273: C63 = ( C49 `2_4 );
let R3 being set;
let R4 being set;
let R5 being set;
let R6 being set;
assume that
L274: C49 = [ R3 , R4 , R5 , R6 ];
L275: ( [ R3 , R4 , R5 , R6 ] `2_4 ) = R4;
thus L276: C63 = R4 by L275 , L274 , L273;
end;

assume L277: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R6 being set holds (C49 = [ R3 , R4 , R5 , R6 ] implies C63 = R4)))));
consider C64 being (Element of C45), C65 being (Element of C46), C66 being (Element of C47), C67 being (Element of C48) such that L278: C49 = [ C64 , C65 , C66 , C67 ] by L246;
L279: ( [ C64 , C65 , C66 , C67 ] `2_4 ) = C65;
thus L280: C63 = ( C49 `2_4 ) by L279 , L277 , L278;
end;
redefine func C49 `3_4 -> (Element of C47) means 
:L281: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R6 being set holds (C49 = [ R3 , R4 , R5 , R6 ] implies it = R5)))));
coherence
proof
consider C68 being (Element of C45), C69 being (Element of C46), C70 being (Element of C47), C71 being (Element of C48) such that L282: C49 = [ C68 , C69 , C70 , C71 ] by L246;
L283: ( [ C68 , C69 , C70 , C71 ] `3_4 ) = C70;
thus L284: ( C49 `3_4 ) is (Element of C47) by L283 , L282;
end;
compatibility
proof
let C72 being (Element of C47);
thus L285: (C72 = ( C49 `3_4 ) implies (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R6 being set holds (C49 = [ R3 , R4 , R5 , R6 ] implies C72 = R5))))))
proof
assume L286: C72 = ( C49 `3_4 );
let R3 being set;
let R4 being set;
let R5 being set;
let R6 being set;
assume that
L287: C49 = [ R3 , R4 , R5 , R6 ];
L288: ( [ R3 , R4 , R5 , R6 ] `3_4 ) = R5;
thus L289: C72 = R5 by L288 , L287 , L286;
end;

assume L290: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R6 being set holds (C49 = [ R3 , R4 , R5 , R6 ] implies C72 = R5)))));
consider C73 being (Element of C45), C74 being (Element of C46), C75 being (Element of C47), C76 being (Element of C48) such that L291: C49 = [ C73 , C74 , C75 , C76 ] by L246;
L292: ( [ C73 , C74 , C75 , C76 ] `3_4 ) = C75;
thus L293: C72 = ( C49 `3_4 ) by L292 , L290 , L291;
end;
redefine func C49 `4_4 -> (Element of C48) means 
:L294: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R6 being set holds (C49 = [ R3 , R4 , R5 , R6 ] implies it = R6)))));
coherence
proof
consider C77 being (Element of C45), C78 being (Element of C46), C79 being (Element of C47), C80 being (Element of C48) such that L295: C49 = [ C77 , C78 , C79 , C80 ] by L246;
L296: ( [ C77 , C78 , C79 , C80 ] `4_4 ) = C80;
thus L297: ( C49 `4_4 ) is (Element of C48) by L296 , L295;
end;
compatibility
proof
let C81 being (Element of C48);
thus L298: (C81 = ( C49 `4_4 ) implies (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R6 being set holds (C49 = [ R3 , R4 , R5 , R6 ] implies C81 = R6))))))
proof
assume L299: C81 = ( C49 `4_4 );
let R3 being set;
let R4 being set;
let R5 being set;
let R6 being set;
assume that
L300: C49 = [ R3 , R4 , R5 , R6 ];
L301: ( [ R3 , R4 , R5 , R6 ] `4_4 ) = R6;
thus L302: C81 = R6 by L301 , L300 , L299;
end;

assume L303: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R6 being set holds (C49 = [ R3 , R4 , R5 , R6 ] implies C81 = R6)))));
consider C82 being (Element of C45), C83 being (Element of C46), C84 being (Element of C47), C85 being (Element of C48) such that L304: C49 = [ C82 , C83 , C84 , C85 ] by L246;
L305: ( [ C82 , C83 , C84 , C85 ] `4_4 ) = C85;
thus L306: C81 = ( C49 `4_4 ) by L305 , L303 , L304;
end;
end;
canceled 1;
theorem
L308: (for B23 , B24 , B25 , B26 being non  empty set holds (for B27 being (Element of [: B23 , B24 , B25 , B26 :]) holds B27 = [ ( B27 `1_4 ) , ( B27 `2_4 ) , ( B27 `3_4 ) , ( B27 `4_4 ) ]));
canceled 1;
theorem
L309: (for B28 , B29 , B30 , B31 being non  empty set holds (for B32 being (Element of [: B28 , B29 , B30 , B31 :]) holds (B32 <> ( B32 `1_4 ) & B32 <> ( B32 `2_4 ) & B32 <> ( B32 `3_4 ) & B32 <> ( B32 `4_4 ))))
proof
let C86 , C87 , C88 , C89 being non  empty set;
let C90 being (Element of [: C86 , C87 , C88 , C89 :]);
reconsider D25 = [: C86 , C87 :] , D26 = C88 , D27 = C89 as non  empty set;
reconsider D28 = C90 as (Element of [: D25 , D26 , D27 :]) by L223;
set D29 = { ( C90 `1_4 ) , ( C90 `2_4 ) };
set D30 = { D29 , { ( C90 `1_4 ) } };
set D31 = { D30 , ( C90 `3_4 ) };
set D32 = { D31 , { D30 } };
set D33 = { D32 , ( C90 `4_4 ) };
set D34 = { D33 , { D32 } };
L310: C90 = [ ( C90 `1_4 ) , ( C90 `2_4 ) , ( C90 `3_4 ) , ( C90 `4_4 ) ]
.= D34;
L311: ((C90 = ( C90 `1_4 ) or C90 = ( C90 `2_4 )) implies (D34 in D29 & D29 in D30 & D30 in D31 & D31 in D32 & D32 in D33 & D33 in D34)) by L310 , TARSKI:def 2;
thus L312: (C90 <> ( C90 `1_4 ) & C90 <> ( C90 `2_4 )) by L311 , XREGULAR:10;
L313: ( C90 `3_4 ) = ( ( (C90 qua set) `1 ) `2 )
.= ( D28 `2_3 );
thus L314: thesis by L313 , L211;
end;
theorem
L315: (for R16 being set holds (for R17 being set holds (for R18 being set holds (for R19 being set holds ((R16 c= [: R16 , R17 , R18 , R19 :] or R16 c= [: R17 , R18 , R19 , R16 :] or R16 c= [: R18 , R19 , R16 , R17 :] or R16 c= [: R19 , R16 , R17 , R18 :]) implies R16 = ( {} ))))))
proof
let R16 being set;
let R17 being set;
let R18 being set;
let R19 being set;
assume that
L316: (R16 c= [: R16 , R17 , R18 , R19 :] or R16 c= [: R17 , R18 , R19 , R16 :] or R16 c= [: R18 , R19 , R16 , R17 :] or R16 c= [: R19 , R16 , R17 , R18 :])
and
L317: R16 <> ( {} );
L318: ([: R16 , R17 , R18 , R19 :] <> ( {} ) or [: R17 , R18 , R19 , R16 :] <> ( {} ) or [: R18 , R19 , R16 , R17 :] <> ( {} ) or [: R19 , R16 , R17 , R18 :] <> ( {} )) by L316 , L317;
reconsider D35 = R16 , D36 = R17 , D37 = R18 , D38 = R19 as non  empty set by L318 , L225;
per cases  by L316;
suppose L319: D35 c= [: D35 , D36 , D37 , D38 :];

consider R1 being set such that L320: R1 in D35 and L321: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R6 being set holds ((R3 in D35 or R4 in D35) implies R1 <> [ R3 , R4 , R5 , R6 ]))))) by L92;
reconsider D39 = R1 as (Element of [: D35 , D36 , D37 , D38 :]) by L319 , L320;
L322: D39 = [ ( D39 `1_4 ) , ( D39 `2_4 ) , ( D39 `3_4 ) , ( D39 `4_4 ) ];
thus L323: contradiction by L322 , L321;
end;
suppose L324: D35 c= [: D36 , D37 , D38 , D35 :];

L325: D35 c= [: [: D36 , D37 :] , D38 , D35 :] by L324 , L223;
thus L326: thesis by L325 , L193;
end;
suppose L327: D35 c= [: D37 , D38 , D35 , D36 :];

L328: D35 c= [: [: D37 , D38 :] , D35 , D36 :] by L327 , L223;
thus L329: thesis by L328 , L193;
end;
suppose L330: D35 c= [: D38 , D35 , D36 , D37 :];

consider R1 being set such that L331: R1 in D35 and L332: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R6 being set holds ((R3 in D35 or R4 in D35) implies R1 <> [ R3 , R4 , R5 , R6 ]))))) by L92;
reconsider D40 = R1 as (Element of [: D38 , D35 , D36 , D37 :]) by L330 , L331;
L333: D40 = [ ( D40 `1_4 ) , ( D40 `2_4 ) , ( D40 `3_4 ) , ( D40 `4_4 ) ];
thus L334: thesis by L333 , L332;
end;
end;
theorem
L336: (for R16 being set holds (for R17 being set holds (for R18 being set holds (for R19 being set holds (for R21 being set holds (for R22 being set holds (for R23 being set holds (for R24 being set holds ([: R16 , R17 , R18 , R19 :] meets [: R21 , R22 , R23 , R24 :] implies (R16 meets R21 & R17 meets R22 & R18 meets R23 & R19 meets R24))))))))))
proof
let R16 being set;
let R17 being set;
let R18 being set;
let R19 being set;
let R21 being set;
let R22 being set;
let R23 being set;
let R24 being set;
assume L337: [: R16 , R17 , R18 , R19 :] meets [: R21 , R22 , R23 , R24 :];
L338: ([: [: [: R16 , R17 :] , R18 :] , R19 :] = [: R16 , R17 , R18 , R19 :] & [: [: [: R21 , R22 :] , R23 :] , R24 :] = [: R21 , R22 , R23 , R24 :]) by L221;
L339: [: [: R16 , R17 :] , R18 :] meets [: [: R21 , R22 :] , R23 :] by L338 , L337 , ZFMISC_1:104;
L340: [: R16 , R17 :] meets [: R21 , R22 :] by L339 , ZFMISC_1:104;
thus L341: thesis by L340 , L338 , L337 , L339 , ZFMISC_1:104;
end;
theorem
L342: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R6 being set holds [: { R3 } , { R4 } , { R5 } , { R6 } :] = { [ R3 , R4 , R5 , R6 ] }))))
proof
let R3 being set;
let R4 being set;
let R5 being set;
let R6 being set;
thus L343: [: { R3 } , { R4 } , { R5 } , { R6 } :] = [: [: { R3 } , { R4 } :] , { R5 } , { R6 } :] by L223
.= [: { [ R3 , R4 ] } , { R5 } , { R6 } :] by ZFMISC_1:29
.= { [ [ R3 , R4 ] , R5 , R6 ] } by L131
.= { [ R3 , R4 , R5 , R6 ] };
end;
theorem
L344: (for R15 being set holds (for R20 being set holds ([: R15 , R20 :] <> ( {} ) implies (for B33 being (Element of [: R15 , R20 :]) holds (B33 <> ( B33 `1 ) & B33 <> ( B33 `2 ))))))
proof
let R15 being set;
let R20 being set;
assume L345: [: R15 , R20 :] <> ( {} );
L346: (R15 <> ( {} ) & R20 <> ( {} )) by L345 , ZFMISC_1:90;
thus L347: thesis by L346 , L77;
end;
theorem
L348: (for R2 being set holds (for R15 being set holds (for R20 being set holds (R2 in [: R15 , R20 :] implies (R2 <> ( R2 `1 ) & R2 <> ( R2 `2 )))))) by L344;
theorem
L349: (for B34 , B35 , B36 being non  empty set holds (for B37 being (Element of [: B34 , B35 , B36 :]) holds (for R3 being set holds (for R4 being set holds (for R5 being set holds (B37 = [ R3 , R4 , R5 ] implies (( B37 `1_3 ) = R3 & ( B37 `2_3 ) = R4 & ( B37 `3_3 ) = R5))))))) by L152 , L165 , L178;
theorem
L350: (for R8 being set holds (for B38 , B39 , B40 being non  empty set holds (for B41 being (Element of [: B38 , B39 , B40 :]) holds ((for B42 being (Element of B38) holds (for B43 being (Element of B39) holds (for B44 being (Element of B40) holds (B41 = [ B42 , B43 , B44 ] implies R8 = B42)))) implies R8 = ( B41 `1_3 )))))
proof
let R8 being set;
let C91 , C92 , C93 being non  empty set;
let C94 being (Element of [: C91 , C92 , C93 :]);
assume that
L351: (for B45 being (Element of C91) holds (for B46 being (Element of C92) holds (for B47 being (Element of C93) holds (C94 = [ B45 , B46 , B47 ] implies R8 = B45))));
L352: C94 = [ ( C94 `1_3 ) , ( C94 `2_3 ) , ( C94 `3_3 ) ];
thus L353: thesis by L352 , L351;
end;
theorem
L354: (for R9 being set holds (for B48 , B49 , B50 being non  empty set holds (for B51 being (Element of [: B48 , B49 , B50 :]) holds ((for B52 being (Element of B48) holds (for B53 being (Element of B49) holds (for B54 being (Element of B50) holds (B51 = [ B52 , B53 , B54 ] implies R9 = B53)))) implies R9 = ( B51 `2_3 )))))
proof
let R9 being set;
let C95 , C96 , C97 being non  empty set;
let C98 being (Element of [: C95 , C96 , C97 :]);
assume that
L355: (for B55 being (Element of C95) holds (for B56 being (Element of C96) holds (for B57 being (Element of C97) holds (C98 = [ B55 , B56 , B57 ] implies R9 = B56))));
L356: C98 = [ ( C98 `1_3 ) , ( C98 `2_3 ) , ( C98 `3_3 ) ];
thus L357: thesis by L356 , L355;
end;
theorem
L358: (for R10 being set holds (for B58 , B59 , B60 being non  empty set holds (for B61 being (Element of [: B58 , B59 , B60 :]) holds ((for B62 being (Element of B58) holds (for B63 being (Element of B59) holds (for B64 being (Element of B60) holds (B61 = [ B62 , B63 , B64 ] implies R10 = B64)))) implies R10 = ( B61 `3_3 )))))
proof
let R10 being set;
let C99 , C100 , C101 being non  empty set;
let C102 being (Element of [: C99 , C100 , C101 :]);
assume that
L359: (for B65 being (Element of C99) holds (for B66 being (Element of C100) holds (for B67 being (Element of C101) holds (C102 = [ B65 , B66 , B67 ] implies R10 = B67))));
L360: C102 = [ ( C102 `1_3 ) , ( C102 `2_3 ) , ( C102 `3_3 ) ];
thus L361: thesis by L360 , L359;
end;
theorem
L362: (for R12 being set holds (for R16 being set holds (for R17 being set holds (for R18 being set holds (R12 in [: R16 , R17 , R18 :] implies (ex R3 being set st (ex R4 being set st (ex R5 being set st (R3 in R16 & R4 in R17 & R5 in R18 & R12 = [ R3 , R4 , R5 ])))))))))
proof
let R12 being set;
let R16 being set;
let R17 being set;
let R18 being set;
assume L363: R12 in [: R16 , R17 , R18 :];
L364: R12 in [: [: R16 , R17 :] , R18 :] by L363 , ZFMISC_1:def 3;
consider C103 , C104 being set such that L365: C103 in [: R16 , R17 :] and L366: C104 in R18 and L367: R12 = [ C103 , C104 ] by L364 , ZFMISC_1:def 2;
consider C105 , C106 being set such that L368: (C105 in R16 & C106 in R17) and L369: C103 = [ C105 , C106 ] by L365 , ZFMISC_1:def 2;
L370: R12 = [ C105 , C106 , C104 ] by L367 , L369;
thus L371: thesis by L370 , L366 , L368;
end;
theorem
L372: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R16 being set holds (for R17 being set holds (for R18 being set holds ([ R3 , R4 , R5 ] in [: R16 , R17 , R18 :] iff (R3 in R16 & R4 in R17 & R5 in R18))))))))
proof
let R3 being set;
let R4 being set;
let R5 being set;
let R16 being set;
let R17 being set;
let R18 being set;
L373: ([ R3 , R4 ] in [: R16 , R17 :] iff (R3 in R16 & R4 in R17)) by ZFMISC_1:87;
L374: [: R16 , R17 , R18 :] = [: [: R16 , R17 :] , R18 :] by ZFMISC_1:def 3;
thus L375: thesis by L374 , L373 , ZFMISC_1:87;
end;
theorem
L376: (for R16 being set holds (for R17 being set holds (for R18 being set holds (for R26 being set holds ((for R12 being set holds (R12 in R26 iff (ex R3 being set st (ex R4 being set st (ex R5 being set st (R3 in R16 & R4 in R17 & R5 in R18 & R12 = [ R3 , R4 , R5 ])))))) implies R26 = [: R16 , R17 , R18 :])))))
proof
let R16 being set;
let R17 being set;
let R18 being set;
let R26 being set;
assume L377: (for R12 being set holds (R12 in R26 iff (ex R3 being set st (ex R4 being set st (ex R5 being set st (R3 in R16 & R4 in R17 & R5 in R18 & R12 = [ R3 , R4 , R5 ]))))));
L378:
now
let R12 being set;
thus L379: (R12 in R26 implies R12 in [: [: R16 , R17 :] , R18 :])
proof
assume L380: R12 in R26;
consider R3 being set, R4 being set, R5 being set such that L381: (R3 in R16 & R4 in R17) and L382: (R5 in R18 & R12 = [ R3 , R4 , R5 ]) by L380 , L377;
L383: [ R3 , R4 ] in [: R16 , R17 :] by L381 , ZFMISC_1:def 2;
thus L384: thesis by L383 , L382 , ZFMISC_1:def 2;
end;

assume L385: R12 in [: [: R16 , R17 :] , R18 :];
consider C107 , C108 being set such that L386: C107 in [: R16 , R17 :] and L387: C108 in R18 and L388: R12 = [ C107 , C108 ] by L385 , ZFMISC_1:def 2;
consider C109 , C110 being set such that L389: (C109 in R16 & C110 in R17) and L390: C107 = [ C109 , C110 ] by L386 , ZFMISC_1:def 2;
L391: R12 = [ C109 , C110 , C108 ] by L388 , L390;
thus L392: R12 in R26 by L391 , L377 , L387 , L389;
end;
L393: R26 = [: [: R16 , R17 :] , R18 :] by L378 , TARSKI:1;
thus L394: thesis by L393 , ZFMISC_1:def 3;
end;
canceled 1;
theorem
L395: (for B68 , B69 , B70 being non  empty set holds (for B71 being non  empty (Subset of B68) holds (for B72 being non  empty (Subset of B69) holds (for B73 being non  empty (Subset of B70) holds (for B74 being (Element of [: B68 , B69 , B70 :]) holds (B74 in [: B71 , B72 , B73 :] implies (( B74 `1_3 ) in B71 & ( B74 `2_3 ) in B72 & ( B74 `3_3 ) in B73)))))))
proof
let C111 , C112 , C113 being non  empty set;
let C114 being non  empty (Subset of C111);
let C115 being non  empty (Subset of C112);
let C116 being non  empty (Subset of C113);
let C117 being (Element of [: C111 , C112 , C113 :]);
assume L396: C117 in [: C114 , C115 , C116 :];
reconsider D41 = C117 as (Element of [: C114 , C115 , C116 :]) by L396;
L397: ( D41 `2_3 ) in C115;
L398: ( D41 `3_3 ) in C116;
L399: ( D41 `1_3 ) in C114;
thus L400: thesis by L399 , L397 , L398;
end;
theorem
L401: (for R16 being set holds (for R17 being set holds (for R18 being set holds (for R21 being set holds (for R22 being set holds (for R23 being set holds ((R16 c= R21 & R17 c= R22 & R18 c= R23) implies [: R16 , R17 , R18 :] c= [: R21 , R22 , R23 :])))))))
proof
let R16 being set;
let R17 being set;
let R18 being set;
let R21 being set;
let R22 being set;
let R23 being set;
L402: ([: R16 , R17 , R18 :] = [: [: R16 , R17 :] , R18 :] & [: R21 , R22 , R23 :] = [: [: R21 , R22 :] , R23 :]) by ZFMISC_1:def 3;
assume L403: (R16 c= R21 & R17 c= R22);
L404: [: R16 , R17 :] c= [: R21 , R22 :] by L403 , ZFMISC_1:96;
assume L405: R18 c= R23;
thus L406: thesis by L405 , L404 , L402 , ZFMISC_1:96;
end;
theorem
L407: (for B75 , B76 , B77 , B78 being non  empty set holds (for B79 being (Element of [: B75 , B76 , B77 , B78 :]) holds (for B80 , B81 , B82 , B83 being set holds (B79 = [ B80 , B81 , B82 , B83 ] implies (( B79 `1_4 ) = B80 & ( B79 `2_4 ) = B81 & ( B79 `3_4 ) = B82 & ( B79 `4_4 ) = B83))))) by L255 , L268 , L281 , L294;
theorem
L408: (for R8 being set holds (for B84 , B85 , B86 , B87 being non  empty set holds (for B88 being (Element of [: B84 , B85 , B86 , B87 :]) holds ((for B89 being (Element of B84) holds (for B90 being (Element of B85) holds (for B91 being (Element of B86) holds (for B92 being (Element of B87) holds (B88 = [ B89 , B90 , B91 , B92 ] implies R8 = B89))))) implies R8 = ( B88 `1_4 )))))
proof
let R8 being set;
let C118 , C119 , C120 , C121 being non  empty set;
let C122 being (Element of [: C118 , C119 , C120 , C121 :]);
assume that
L409: (for B93 being (Element of C118) holds (for B94 being (Element of C119) holds (for B95 being (Element of C120) holds (for B96 being (Element of C121) holds (C122 = [ B93 , B94 , B95 , B96 ] implies R8 = B93)))));
L410: C122 = [ ( C122 `1_4 ) , ( C122 `2_4 ) , ( C122 `3_4 ) , ( C122 `4_4 ) ];
thus L411: thesis by L410 , L409;
end;
theorem
L412: (for R9 being set holds (for B97 , B98 , B99 , B100 being non  empty set holds (for B101 being (Element of [: B97 , B98 , B99 , B100 :]) holds ((for B102 being (Element of B97) holds (for B103 being (Element of B98) holds (for B104 being (Element of B99) holds (for B105 being (Element of B100) holds (B101 = [ B102 , B103 , B104 , B105 ] implies R9 = B103))))) implies R9 = ( B101 `2_4 )))))
proof
let R9 being set;
let C123 , C124 , C125 , C126 being non  empty set;
let C127 being (Element of [: C123 , C124 , C125 , C126 :]);
assume that
L413: (for B106 being (Element of C123) holds (for B107 being (Element of C124) holds (for B108 being (Element of C125) holds (for B109 being (Element of C126) holds (C127 = [ B106 , B107 , B108 , B109 ] implies R9 = B107)))));
L414: C127 = [ ( C127 `1_4 ) , ( C127 `2_4 ) , ( C127 `3_4 ) , ( C127 `4_4 ) ];
thus L415: thesis by L414 , L413;
end;
theorem
L416: (for R10 being set holds (for B110 , B111 , B112 , B113 being non  empty set holds (for B114 being (Element of [: B110 , B111 , B112 , B113 :]) holds ((for B115 being (Element of B110) holds (for B116 being (Element of B111) holds (for B117 being (Element of B112) holds (for B118 being (Element of B113) holds (B114 = [ B115 , B116 , B117 , B118 ] implies R10 = B117))))) implies R10 = ( B114 `3_4 )))))
proof
let R10 being set;
let C128 , C129 , C130 , C131 being non  empty set;
let C132 being (Element of [: C128 , C129 , C130 , C131 :]);
assume that
L417: (for B119 being (Element of C128) holds (for B120 being (Element of C129) holds (for B121 being (Element of C130) holds (for B122 being (Element of C131) holds (C132 = [ B119 , B120 , B121 , B122 ] implies R10 = B121)))));
L418: C132 = [ ( C132 `1_4 ) , ( C132 `2_4 ) , ( C132 `3_4 ) , ( C132 `4_4 ) ];
thus L419: thesis by L418 , L417;
end;
theorem
L420: (for R11 being set holds (for B123 , B124 , B125 , B126 being non  empty set holds (for B127 being (Element of [: B123 , B124 , B125 , B126 :]) holds ((for B128 being (Element of B123) holds (for B129 being (Element of B124) holds (for B130 being (Element of B125) holds (for B131 being (Element of B126) holds (B127 = [ B128 , B129 , B130 , B131 ] implies R11 = B131))))) implies R11 = ( B127 `4_4 )))))
proof
let R11 being set;
let C133 , C134 , C135 , C136 being non  empty set;
let C137 being (Element of [: C133 , C134 , C135 , C136 :]);
assume that
L421: (for B132 being (Element of C133) holds (for B133 being (Element of C134) holds (for B134 being (Element of C135) holds (for B135 being (Element of C136) holds (C137 = [ B132 , B133 , B134 , B135 ] implies R11 = B135)))));
L422: C137 = [ ( C137 `1_4 ) , ( C137 `2_4 ) , ( C137 `3_4 ) , ( C137 `4_4 ) ];
thus L423: thesis by L422 , L421;
end;
theorem
L424: (for R12 being set holds (for R16 being set holds (for R17 being set holds (for R18 being set holds (for R19 being set holds (R12 in [: R16 , R17 , R18 , R19 :] implies (ex R3 being set st (ex R4 being set st (ex R5 being set st (ex R6 being set st (R3 in R16 & R4 in R17 & R5 in R18 & R6 in R19 & R12 = [ R3 , R4 , R5 , R6 ])))))))))))
proof
let R12 being set;
let R16 being set;
let R17 being set;
let R18 being set;
let R19 being set;
assume L425: R12 in [: R16 , R17 , R18 , R19 :];
L426: R12 in [: [: R16 , R17 , R18 :] , R19 :] by L425 , ZFMISC_1:def 4;
consider C138 , C139 being set such that L427: C138 in [: R16 , R17 , R18 :] and L428: C139 in R19 and L429: R12 = [ C138 , C139 ] by L426 , ZFMISC_1:def 2;
consider R3 being set, R4 being set, R5 being set such that L430: (R3 in R16 & R4 in R17 & R5 in R18) and L431: C138 = [ R3 , R4 , R5 ] by L427 , L362;
L432: R12 = [ R3 , R4 , R5 , C139 ] by L429 , L431;
thus L433: thesis by L432 , L428 , L430;
end;
theorem
L434: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R6 being set holds (for R16 being set holds (for R17 being set holds (for R18 being set holds (for R19 being set holds ([ R3 , R4 , R5 , R6 ] in [: R16 , R17 , R18 , R19 :] iff (R3 in R16 & R4 in R17 & R5 in R18 & R6 in R19))))))))))
proof
let R3 being set;
let R4 being set;
let R5 being set;
let R6 being set;
let R16 being set;
let R17 being set;
let R18 being set;
let R19 being set;
L435: ([ R3 , R4 ] in [: R16 , R17 :] iff (R3 in R16 & R4 in R17)) by ZFMISC_1:87;
L436: ([: R16 , R17 , R18 , R19 :] = [: [: R16 , R17 :] , R18 , R19 :] & [ R3 , R4 , R5 , R6 ] = [ [ R3 , R4 ] , R5 , R6 ]) by L223;
thus L437: thesis by L436 , L435 , L372;
end;
theorem
L438: (for R16 being set holds (for R17 being set holds (for R18 being set holds (for R19 being set holds (for R26 being set holds ((for R12 being set holds (R12 in R26 iff (ex R3 being set st (ex R4 being set st (ex R5 being set st (ex R6 being set st (R3 in R16 & R4 in R17 & R5 in R18 & R6 in R19 & R12 = [ R3 , R4 , R5 , R6 ]))))))) implies R26 = [: R16 , R17 , R18 , R19 :]))))))
proof
let R16 being set;
let R17 being set;
let R18 being set;
let R19 being set;
let R26 being set;
assume L439: (for R12 being set holds (R12 in R26 iff (ex R3 being set st (ex R4 being set st (ex R5 being set st (ex R6 being set st (R3 in R16 & R4 in R17 & R5 in R18 & R6 in R19 & R12 = [ R3 , R4 , R5 , R6 ])))))));
L440:
now
let R12 being set;
thus L441: (R12 in R26 implies R12 in [: [: R16 , R17 , R18 :] , R19 :])
proof
assume L442: R12 in R26;
consider R3 being set, R4 being set, R5 being set, R6 being set such that L443: (R3 in R16 & R4 in R17 & R5 in R18) and L444: (R6 in R19 & R12 = [ R3 , R4 , R5 , R6 ]) by L442 , L439;
L445: [ R3 , R4 , R5 ] in [: R16 , R17 , R18 :] by L443 , L372;
thus L446: thesis by L445 , L444 , ZFMISC_1:def 2;
end;

assume L447: R12 in [: [: R16 , R17 , R18 :] , R19 :];
consider C140 , C141 being set such that L448: C140 in [: R16 , R17 , R18 :] and L449: C141 in R19 and L450: R12 = [ C140 , C141 ] by L447 , ZFMISC_1:def 2;
consider R3 being set, R4 being set, R5 being set such that L451: (R3 in R16 & R4 in R17 & R5 in R18) and L452: C140 = [ R3 , R4 , R5 ] by L448 , L362;
L453: R12 = [ R3 , R4 , R5 , C141 ] by L450 , L452;
thus L454: R12 in R26 by L453 , L439 , L449 , L451;
end;
L455: R26 = [: [: R16 , R17 , R18 :] , R19 :] by L440 , TARSKI:1;
thus L456: thesis by L455 , ZFMISC_1:def 4;
end;
canceled 1;
theorem
L457: (for B136 , B137 , B138 , B139 being non  empty set holds (for B140 being non  empty (Subset of B136) holds (for B141 being non  empty (Subset of B137) holds (for B142 being non  empty (Subset of B138) holds (for B143 being non  empty (Subset of B139) holds (for B144 being (Element of [: B136 , B137 , B138 , B139 :]) holds (B144 in [: B140 , B141 , B142 , B143 :] implies (( B144 `1_4 ) in B140 & ( B144 `2_4 ) in B141 & ( B144 `3_4 ) in B142 & ( B144 `4_4 ) in B143))))))))
proof
let C142 , C143 , C144 , C145 being non  empty set;
let C146 being non  empty (Subset of C142);
let C147 being non  empty (Subset of C143);
let C148 being non  empty (Subset of C144);
let C149 being non  empty (Subset of C145);
let C150 being (Element of [: C142 , C143 , C144 , C145 :]);
assume L458: C150 in [: C146 , C147 , C148 , C149 :];
reconsider D42 = C150 as (Element of [: C146 , C147 , C148 , C149 :]) by L458;
L459: ( D42 `2_4 ) in C147;
L460: ( D42 `4_4 ) in C149;
L461: ( D42 `3_4 ) in C148;
L462: ( D42 `1_4 ) in C146;
thus L463: thesis by L462 , L459 , L461 , L460;
end;
theorem
L464: (for R16 being set holds (for R17 being set holds (for R18 being set holds (for R19 being set holds (for R21 being set holds (for R22 being set holds (for R23 being set holds (for R24 being set holds ((R16 c= R21 & R17 c= R22 & R18 c= R23 & R19 c= R24) implies [: R16 , R17 , R18 , R19 :] c= [: R21 , R22 , R23 , R24 :])))))))))
proof
let R16 being set;
let R17 being set;
let R18 being set;
let R19 being set;
let R21 being set;
let R22 being set;
let R23 being set;
let R24 being set;
L465: ([: R16 , R17 , R18 , R19 :] = [: [: R16 , R17 , R18 :] , R19 :] & [: R21 , R22 , R23 , R24 :] = [: [: R21 , R22 , R23 :] , R24 :]) by ZFMISC_1:def 4;
assume L466: (R16 c= R21 & R17 c= R22 & R18 c= R23);
L467: [: R16 , R17 , R18 :] c= [: R21 , R22 , R23 :] by L466 , L401;
assume L468: R19 c= R24;
thus L469: thesis by L468 , L467 , L465 , ZFMISC_1:96;
end;
definition
let R16 being set;
let R17 being set;
let R38 being (Subset of R16);
let R39 being (Subset of R17);
redefine func [:R38 , R39 :] -> (Subset of [: R16 , R17 :]);

coherence by ZFMISC_1:96;
end;
definition
let R16 being set;
let R17 being set;
let R18 being set;
let R38 being (Subset of R16);
let R39 being (Subset of R17);
let R40 being (Subset of R18);
redefine func [:R38 , R39 , R40 :] -> (Subset of [: R16 , R17 , R18 :]);

coherence by L401;
end;
definition
let R16 being set;
let R17 being set;
let R18 being set;
let R19 being set;
let R38 being (Subset of R16);
let R39 being (Subset of R17);
let R40 being (Subset of R18);
let R41 being (Subset of R19);
redefine func [:R38 , R39 , R40 , R41 :] -> (Subset of [: R16 , R17 , R18 , R19 :]);

coherence by L464;
end;
begin
definition
let C151 being Function;
func pr1 C151 -> Function means 
(( dom it ) = ( dom C151 ) & (for B145 being set holds (B145 in ( dom C151 ) implies ( it . B145 ) = ( ( C151 . B145 ) `1 ))));
existence
proof
deffunc H1(set) = ( ( C151 . $1 ) `1 );
L473: (ex B146 being Function st (( dom B146 ) = ( dom C151 ) & (for B147 being set holds (B147 in ( dom C151 ) implies ( B146 . B147 ) = H1(B147))))) from FUNCT_1:sch 3;
thus L474: thesis by L473;
end;
uniqueness
proof
let C152 , C153 being Function;
assume that
L475: ( dom C152 ) = ( dom C151 )
and
L476: (for B148 being set holds (B148 in ( dom C151 ) implies ( C152 . B148 ) = ( ( C151 . B148 ) `1 )))
and
L477: ( dom C153 ) = ( dom C151 )
and
L478: (for B149 being set holds (B149 in ( dom C151 ) implies ( C153 . B149 ) = ( ( C151 . B149 ) `1 )));
L479:
now
let C154 being set;
assume L480: C154 in ( dom C151 );
L481: ( C152 . C154 ) = ( ( C151 . C154 ) `1 ) by L480 , L476;
thus L482: ( C152 . C154 ) = ( C153 . C154 ) by L481 , L478 , L480;
end;
thus L483: thesis by L479 , L475 , L477 , FUNCT_1:2;
end;
func pr2 C151 -> Function means 
(( dom it ) = ( dom C151 ) & (for B150 being set holds (B150 in ( dom C151 ) implies ( it . B150 ) = ( ( C151 . B150 ) `2 ))));
existence
proof
deffunc H2(set) = ( ( C151 . $1 ) `2 );
L484: (ex B151 being Function st (( dom B151 ) = ( dom C151 ) & (for B152 being set holds (B152 in ( dom C151 ) implies ( B151 . B152 ) = H2(B152))))) from FUNCT_1:sch 3;
thus L485: thesis by L484;
end;
uniqueness
proof
let C155 , C156 being Function;
assume that
L486: ( dom C155 ) = ( dom C151 )
and
L487: (for B153 being set holds (B153 in ( dom C151 ) implies ( C155 . B153 ) = ( ( C151 . B153 ) `2 )))
and
L488: ( dom C156 ) = ( dom C151 )
and
L489: (for B154 being set holds (B154 in ( dom C151 ) implies ( C156 . B154 ) = ( ( C151 . B154 ) `2 )));
L490:
now
let C157 being set;
assume L491: C157 in ( dom C151 );
L492: ( C155 . C157 ) = ( ( C151 . C157 ) `2 ) by L491 , L487;
thus L493: ( C155 . C157 ) = ( C156 . C157 ) by L492 , L489 , L491;
end;
thus L494: thesis by L490 , L486 , L488 , FUNCT_1:2;
end;
end;
definition
let C158 being set;
func C158 `11 equals 
( ( C158 `1 ) `1 );
coherence;
func C158 `12 equals 
( ( C158 `1 ) `2 );
coherence;
func C158 `21 equals 
( ( C158 `2 ) `1 );
coherence;
func C158 `22 equals 
( ( C158 `2 ) `2 );
coherence;
end;
theorem
L497: (for R3 being set holds (for R4 being set holds (for R7 being set holds (for R8 being set holds (for R9 being set holds (for R44 being set holds (( [ [ R3 , R4 ] , R7 ] `11 ) = R3 & ( [ [ R3 , R4 ] , R7 ] `12 ) = R4 & ( [ R44 , [ R8 , R9 ] ] `21 ) = R8 & ( [ R44 , [ R8 , R9 ] ] `22 ) = R9)))))));
theorem
L498: (for R33 being Relation holds (for R44 being set holds (R44 in R33 implies (( R44 `1 ) in ( dom R33 ) & ( R44 `2 ) in ( rng R33 )))))
proof
let R33 being Relation;
let R44 being set;
assume L499: R44 in R33;
L500: R44 = [ ( R44 `1 ) , ( R44 `2 ) ] by L499 , L67;
thus L501: thesis by L500 , L499 , XTUPLE_0:def 12 , XTUPLE_0:def 13;
end;
theorem
L502: (for B155 being non  empty Relation holds (for B156 being set holds ( Im (B155 , B156) ) = { ( B157 `2 ) where B157 is (Element of B155) : ( B157 `1 ) = B156 }))
proof
let C159 being non  empty Relation;
let C160 being set;
set D43 = { ( B158 `2 ) where B158 is (Element of C159) : ( B158 `1 ) = C160 };
thus L503: ( Im (C159 , C160) ) c= D43
proof
let R12 being set;
assume L504: R12 in ( Im (C159 , C160) );
consider R7 being set such that L505: [ R7 , R12 ] in C159 and L506: R7 in { C160 } by L504 , RELAT_1:def 13;
L507: R7 = C160 by L506 , TARSKI:def 1;
L508: (R7 = ( [ R7 , R12 ] `1 ) & R12 = ( [ R7 , R12 ] `2 ));
thus L509: R12 in D43 by L508 , L505 , L507;
end;

let R12 being set;
assume L510: R12 in D43;
consider C161 being (Element of C159) such that L511: R12 = ( C161 `2 ) and L512: ( C161 `1 ) = C160 by L510;
L513: C161 = [ ( C161 `1 ) , ( C161 `2 ) ] by L67;
L514: C160 in { C160 } by TARSKI:def 1;
thus L515: R12 in ( Im (C159 , C160) ) by L514 , L511 , L512 , L513 , RELAT_1:def 13;
end;
theorem
L516: (for R33 being Relation holds (for R44 being set holds (R44 in R33 implies ( R44 `2 ) in ( Im (R33 , ( R44 `1 )) ))))
proof
let R33 being Relation;
let R44 being set;
assume L517: R44 in R33;
L518: ( R44 `2 ) in { ( B159 `2 ) where B159 is (Element of R33) : ( B159 `1 ) = ( R44 `1 ) } by L517;
thus L519: thesis by L518 , L517 , L502;
end;
theorem
L520: (for R7 being set holds (for R33 being Relation holds (for R44 being set holds ((R44 in R33 & R7 in R33 & ( R44 `1 ) = ( R7 `1 ) & ( R44 `2 ) = ( R7 `2 )) implies R44 = R7))))
proof
let R7 being set;
let R33 being Relation;
let R44 being set;
assume L521: (R44 in R33 & R7 in R33);
L522: (R44 = [ ( R44 `1 ) , ( R44 `2 ) ] & R7 = [ ( R7 `1 ) , ( R7 `2 ) ]) by L521 , L67;
thus L523: thesis by L522;
end;
theorem
L524: (for B160 being non  empty Relation holds (for B161 , B162 being (Element of B160) holds ((( B161 `1 ) = ( B162 `1 ) & ( B161 `2 ) = ( B162 `2 )) implies B161 = B162))) by L520;
theorem
L525: (for R3 being set holds (for R4 being set holds (for R5 being set holds (for R8 being set holds (for R9 being set holds (for R10 being set holds ( proj1 ( proj1 { [ R3 , R4 , R5 ] , [ R8 , R9 , R10 ] } ) ) = { R3 , R8 }))))))
proof
let R3 being set;
let R4 being set;
let R5 being set;
let R8 being set;
let R9 being set;
let R10 being set;
thus L526: ( proj1 ( proj1 { [ R3 , R4 , R5 ] , [ R8 , R9 , R10 ] } ) ) = ( proj1 { [ R3 , R4 ] , [ R8 , R9 ] } ) by RELAT_1:10
.= { R3 , R8 } by RELAT_1:10;
end;
theorem
L527: (for R3 being set holds (for R4 being set holds (for R5 being set holds ( proj1 ( proj1 { [ R3 , R4 , R5 ] } ) ) = { R3 })))
proof
let R3 being set;
let R4 being set;
let R5 being set;
thus L528: ( proj1 ( proj1 { [ R3 , R4 , R5 ] } ) ) = ( proj1 { [ R3 , R4 ] } ) by RELAT_1:9
.= { R3 } by RELAT_1:9;
end;
scheme BiFuncEx { F1() -> set , F2() -> set , F3() -> set , P1[set , set , set] } : (ex B163 , B164 being Function st (( dom B163 ) = F1() & ( dom B164 ) = F1() & (for R44 being set holds (R44 in F1() implies P1[ R44 , ( B163 . R44 ) , ( B164 . R44 ) ]))))
provided
L529: (for R44 being set holds (R44 in F1() implies (ex R7 being set st (ex R12 being set st (R7 in F2() & R12 in F3() & P1[ R44 , R7 , R12 ])))))
proof
defpred S1[ set , set ] means (for R7 being set holds (for R12 being set holds ((( $2 `1 ) = R7 & ( $2 `2 ) = R12) implies P1[ $1 , R7 , R12 ])));
L530: (for R44 being set holds (R44 in F1() implies (ex B165 being set st (B165 in [: F2() , F3() :] & S1[ R44 , B165 ]))))
proof
let R44 being set;
assume L531: R44 in F1();
consider R7 being set, R12 being set such that L532: (R7 in F2() & R12 in F3()) and L533: P1[ R44 , R7 , R12 ] by L531 , L529;
take D44 = [ R7 , R12 ];
thus L534: D44 in [: F2() , F3() :] by L532 , ZFMISC_1:87;
thus L535: (for R7 being set holds (for R12 being set holds ((( D44 `1 ) = R7 & ( D44 `2 ) = R12) implies P1[ R44 , R7 , R12 ])))
proof
let C162 , C163 being set;
assume that
L536: ( D44 `1 ) = C162
and
L537: ( D44 `2 ) = C163;
L538: C162 = R7 by L536 , L1;
thus L539: thesis by L538 , L533 , L537 , L1;
end;

end;
consider C164 being Function such that L536: (( dom C164 ) = F1() & ( rng C164 ) c= [: F2() , F3() :]) and L537: (for R44 being set holds (R44 in F1() implies S1[ R44 , ( C164 . R44 ) ])) from FUNCT_1:sch 5(L530);
deffunc H3(set) = ( ( C164 . $1 ) `2 );
deffunc H4(set) = ( ( C164 . $1 ) `1 );
consider C165 being Function such that L538: ( dom C165 ) = F1() and L539: (for R44 being set holds (R44 in F1() implies ( C165 . R44 ) = H4(R44))) from FUNCT_1:sch 3;
consider C166 being Function such that L540: ( dom C166 ) = F1() and L541: (for R44 being set holds (R44 in F1() implies ( C166 . R44 ) = H3(R44))) from FUNCT_1:sch 3;
take C165;
take C166;
thus L542: (( dom C165 ) = F1() & ( dom C166 ) = F1()) by L538 , L540;
thus L543: (for R44 being set holds (R44 in F1() implies P1[ R44 , ( C165 . R44 ) , ( C166 . R44 ) ]))
proof
let R44 being set;
assume L544: R44 in F1();
L545: (( C165 . R44 ) = ( ( C164 . R44 ) `1 ) & ( C166 . R44 ) = ( ( C164 . R44 ) `2 )) by L544 , L539 , L541;
thus L546: thesis by L545 , L537 , L544;
end;

end;
