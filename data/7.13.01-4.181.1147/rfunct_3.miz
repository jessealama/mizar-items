:: Properties of Partial Functions from a Domain to the Set of Real Numbers
::  by Jaros{\l}aw Kotowicz and Yuji Sakai
::
:: Received March 15, 1993
:: Copyright (c) 1993-2012 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, SUBSET_1, REAL_1, XXREAL_0, XREAL_0, ORDINAL1, CARD_1,
      ARYTM_1, ARYTM_3, COMPLEX1, RELAT_1, XBOOLE_0, FINSEQ_1, TARSKI, FUNCT_1,
      PARTFUN1, VALUED_1, CLASSES1, FUNCOP_1, MEMBERED, VALUED_0, ORDINAL4,
      BINOP_1, SETWISEO, CARD_3, NAT_1, RFINSEQ, FUNCT_3, PBOOLE, LIMFUNC1,
      FINSET_1, XXREAL_1, FINSEQ_2, RFUNCT_3;
 notations TARSKI, XBOOLE_0, SUBSET_1, ORDINAL1, CARD_1, NUMBERS, XCMPLX_0,
      XREAL_0, COMPLEX1, MEMBERED, RELAT_1, FUNCT_1,
      RELSET_1, PARTFUN1, BINOP_1, XXREAL_0, REAL_1,
      SQUARE_1, NAT_1,
      FUNCOP_1, SETWISEO, FINSEQ_2, FINSEQ_1, FINSEQOP,
      VALUED_0, VALUED_1, SEQ_1, RFUNCT_1, FINSEQ_4, SETWOP_2, FINSET_1,
      RVSUM_1, RCOMP_1, PARTFUN2, LIMFUNC1, CLASSES1, RFINSEQ;
 constructors PARTFUN1, BINOP_1, SETWISEO, REAL_1, NAT_1, BINOP_2, COMPLEX1,
      SEQM_3, PROB_1, SEQ_4, FINSEQOP, RCOMP_1, FINSEQ_4, FINSOP_1, PARTFUN2,
      RFUNCT_1, RVSUM_1, LIMFUNC1, RFINSEQ, SEQ_1, CLASSES1, RELSET_1,
      SETFAM_1, VALUED_0, SQUARE_1;
 registrations XBOOLE_0, RELSET_1, PARTFUN1, FINSET_1, NUMBERS, XXREAL_0,
      XREAL_0, NAT_1, MEMBERED, FINSEQ_1, FINSEQ_2, RFINSEQ, VALUED_0, FUNCT_1,
      CARD_1, FUNCT_3;
 requirements REAL, NUMERALS, BOOLE, SUBSET, ARITHM;
 definitions TARSKI, BINOP_1, SETWISEO, RFINSEQ, XBOOLE_0, SUBSET_1, FINSEQ_2,
      RVSUM_1, LIMFUNC1, VALUED_1, RELAT_1;
 theorems FINSEQ_1, FINSEQ_2, NAT_1, FUNCT_1, CARD_2, TARSKI, CARD_1, FINSET_1,
      PARTFUN1, RCOMP_1, BINOP_1, FINSEQ_3, FUNCOP_1, RFUNCT_1, ZFMISC_1,
      RVSUM_1, ABSVALUE, RFINSEQ, RELAT_1, FINSOP_1, XREAL_0, XBOOLE_0,
      XBOOLE_1, XCMPLX_0, XCMPLX_1, XREAL_1, COMPLEX1, XXREAL_0, VALUED_1,
      RELSET_1, XXREAL_1, CLASSES1;
 schemes NAT_1, FINSEQ_1, SEQ_1, BINOP_1;

begin
definition
let C1 being  real number;
func max+ C1 -> Real equals 
( max (C1 , ( 0 )) );
correctness by XREAL_0:def 1;
func max- C1 -> Real equals 
( max (( - C1 ) , ( 0 )) );
correctness by XREAL_0:def 1;
end;
theorem
L2: (for B1 being  real number holds B1 = ( ( max+ B1 ) - ( max- B1 ) ))
proof
let C2 being  real number;
L3:
now
per cases ;
case L4: ( 0 ) <= C2;
L5: ( max- C2 ) = ( 0 ) by L4 , XXREAL_0:def 10;
thus L6: thesis by L5 , L4 , XXREAL_0:def 10;
end;
case L7: C2 < ( 0 );
L8: (( max+ C2 ) = ( 0 ) & ( max- C2 ) = ( - C2 )) by L7 , XXREAL_0:def 10;
thus L9: thesis by L8;
end;
end;
thus L11: thesis by L3;
end;
theorem
L12: (for B2 being  real number holds ( abs B2 ) = ( ( max+ B2 ) + ( max- B2 ) ))
proof
let C3 being  real number;
L13:
now
per cases ;
case L14: ( 0 ) <= C3;
L15: (( max+ C3 ) = C3 & ( max- C3 ) = ( 0 )) by L14 , XXREAL_0:def 10;
thus L16: thesis by L15 , L14 , ABSVALUE:def 1;
end;
case L17: C3 < ( 0 );
L18: (( max+ C3 ) = ( 0 ) & ( max- C3 ) = ( - C3 )) by L17 , XXREAL_0:def 10;
thus L19: thesis by L18 , L17 , ABSVALUE:def 1;
end;
end;
thus L21: thesis by L13;
end;
theorem
L22: (for B3 being  real number holds ( 2 * ( max+ B3 ) ) = ( B3 + ( abs B3 ) ))
proof
let C4 being  real number;
thus L23: ( C4 + ( abs C4 ) ) = ( ( ( max+ C4 ) - ( max- C4 ) ) + ( abs C4 ) ) by L2
.= ( ( ( max+ C4 ) - ( max- C4 ) ) + ( ( max+ C4 ) + ( max- C4 ) ) ) by L12
.= ( 2 * ( max+ C4 ) );
end;
theorem
L24: (for B4 , B5 being  real number holds (( 0 ) <= B4 implies ( max+ ( B4 * B5 ) ) = ( B4 * ( max+ B5 ) )))
proof
let C5 , C6 being  real number;
assume L25: ( 0 ) <= C5;
L26:
now
per cases ;
case L27: ( 0 ) <= C6;
L28: ( max+ ( C5 * C6 ) ) = ( C5 * C6 ) by L27 , L25 , XXREAL_0:def 10;
thus L29: thesis by L28 , L27 , XXREAL_0:def 10;
end;
case L30: C6 < ( 0 );
L31: ( max+ C6 ) = ( 0 ) by L30 , XXREAL_0:def 10;
thus L32: thesis by L31 , L25 , L30 , XXREAL_0:def 10;
end;
end;
thus L34: thesis by L26;
end;
theorem
L35: (for B6 , B7 being  real number holds ( max+ ( B6 + B7 ) ) <= ( ( max+ B6 ) + ( max+ B7 ) ))
proof
let C7 , C8 being  real number;
L36: (( 0 ) <= ( max (C7 , ( 0 )) ) & ( 0 ) <= ( max (C8 , ( 0 )) )) by XXREAL_0:25;
L37: (C7 <= ( max (C7 , ( 0 )) ) & C8 <= ( max (C8 , ( 0 )) )) by XXREAL_0:25;
L38:
now
per cases ;
case L39: ( 0 ) <= ( C7 + C8 );
L40: ( max+ ( C7 + C8 ) ) = ( C7 + C8 ) by L39 , XXREAL_0:def 10;
thus L41: thesis by L40 , L37 , XREAL_1:7;
end;
case L42: ( C7 + C8 ) < ( 0 );
L43: ( max+ ( C7 + C8 ) ) = ( ( 0 ) + ( 0 ) ) by L42 , XXREAL_0:def 10;
thus L44: thesis by L43 , L36;
end;
end;
thus L46: thesis by L38;
end;
L47: (for R1 being (Element of ( NAT )) holds (for B8 being non  empty set holds (for B9 being (FinSequence of B8) holds (( len B9 ) <= R1 implies ( B9 | R1 ) = B9))))
proof
let R1 being (Element of ( NAT ));
let C9 being non  empty set;
let C10 being (FinSequence of C9);
L48: ( dom C10 ) = ( Seg ( len C10 ) ) by FINSEQ_1:def 3;
assume L49: ( len C10 ) <= R1;
L50: (( C10 | R1 ) = ( C10 | ( Seg R1 ) ) & ( dom C10 ) c= ( Seg R1 )) by L49 , L48 , FINSEQ_1:5 , FINSEQ_1:def 15;
thus L51: thesis by L50 , RELAT_1:68;
end;
L52: (for B10 being Function holds (for B11 being set holds ((not B11 in ( rng B10 )) implies ( B10 " { B11 } ) = ( {} ))))
proof
let C11 being Function;
let C12 being set;
assume L53: (not C12 in ( rng C11 ));
L54: ( rng C11 ) misses { C12 }
proof
set D1 = the (Element of ( ( rng C11 ) /\ { C12 } ));
assume L55: ( ( rng C11 ) /\ { C12 } ) <> ( {} );
L56: (D1 in ( rng C11 ) & D1 in { C12 }) by L55 , XBOOLE_0:def 4;
thus L57: contradiction by L56 , L53 , TARSKI:def 1;
end;
thus L58: thesis by L54 , RELAT_1:138;
end;
begin
theorem
L59: (for B12 being non  empty set holds (for B13 being (PartFunc of B12 , ( REAL )) holds (for B14 , B15 being  real number holds (B14 <> ( 0 ) implies ( B13 " { ( B15 / B14 ) } ) = ( ( B14 (#) B13 ) " { B15 } )))))
proof
let C13 being non  empty set;
let C14 being (PartFunc of C13 , ( REAL ));
let C15 , C16 being  real number;
assume L60: C15 <> ( 0 );
thus L61: ( C14 " { ( C16 / C15 ) } ) c= ( ( C15 (#) C14 ) " { C16 } )
proof
let R5 being set;
assume L62: R5 in ( C14 " { ( C16 / C15 ) } );
reconsider D2 = R5 as (Element of C13) by L62;
L63: D2 in ( dom C14 ) by L62 , FUNCT_1:def 7;
L64: D2 in ( dom ( C15 (#) C14 ) ) by L63 , VALUED_1:def 5;
L65: ( C14 . D2 ) in { ( C16 / C15 ) } by L62 , FUNCT_1:def 7;
L66: ( C14 . D2 ) = ( C16 / C15 ) by L65 , TARSKI:def 1;
L67: ( C15 * ( C14 . D2 ) ) = C16 by L66 , L60 , XCMPLX_1:87;
L68: ( ( C15 (#) C14 ) . D2 ) = C16 by L67 , L64 , VALUED_1:def 5;
L69: ( ( C15 (#) C14 ) . D2 ) in { C16 } by L68 , TARSKI:def 1;
thus L70: thesis by L69 , L64 , FUNCT_1:def 7;
end;

let R5 being set;
assume L71: R5 in ( ( C15 (#) C14 ) " { C16 } );
reconsider D3 = R5 as (Element of C13) by L71;
L72: D3 in ( dom ( C15 (#) C14 ) ) by L71 , FUNCT_1:def 7;
L73: ( ( C15 (#) C14 ) . D3 ) in { C16 } by L71 , FUNCT_1:def 7;
L74: ( ( C15 (#) C14 ) . D3 ) = C16 by L73 , TARSKI:def 1;
L75: ( C15 * ( C14 . D3 ) ) = C16 by L74 , L72 , VALUED_1:def 5;
L76: ( C14 . D3 ) = ( C16 / C15 ) by L75 , L60 , XCMPLX_1:89;
L77: ( C14 . D3 ) in { ( C16 / C15 ) } by L76 , TARSKI:def 1;
L78: D3 in ( dom C14 ) by L72 , VALUED_1:def 5;
thus L79: thesis by L78 , L77 , FUNCT_1:def 7;
end;
theorem
L80: (for B16 being non  empty set holds (for B17 being (PartFunc of B16 , ( REAL )) holds ( ( ( 0 ) (#) B17 ) " { ( 0 ) } ) = ( dom B17 )))
proof
let C17 being non  empty set;
let C18 being (PartFunc of C17 , ( REAL ));
thus L81: ( ( ( 0 ) (#) C18 ) " { ( 0 ) } ) c= ( dom C18 )
proof
let R5 being set;
assume L82: R5 in ( ( ( 0 ) (#) C18 ) " { ( 0 ) } );
reconsider D4 = R5 as (Element of C17) by L82;
L83: D4 in ( dom ( ( 0 ) (#) C18 ) ) by L82 , FUNCT_1:def 7;
thus L84: thesis by L83 , VALUED_1:def 5;
end;

let R5 being set;
assume L85: R5 in ( dom C18 );
reconsider D5 = R5 as (Element of C17) by L85;
L86: D5 in ( dom ( ( 0 ) (#) C18 ) ) by L85 , VALUED_1:def 5;
L87: ( ( ( 0 ) (#) C18 ) . D5 ) = ( ( 0 ) * ( C18 . D5 ) ) by L86 , VALUED_1:def 5
.= ( 0 );
L88: ( ( ( 0 ) (#) C18 ) . D5 ) in { ( 0 ) } by L87 , TARSKI:def 1;
thus L89: thesis by L88 , L86 , FUNCT_1:def 7;
end;
theorem
L90: (for B18 being non  empty set holds (for B19 being (PartFunc of B18 , ( REAL )) holds (for B20 being Real holds (( 0 ) < B20 implies ( ( abs B19 ) " { B20 } ) = ( B19 " { ( - B20 ) , B20 } )))))
proof
let C19 being non  empty set;
let C20 being (PartFunc of C19 , ( REAL ));
let R3 being Real;
assume L91: ( 0 ) < R3;
L92: ( dom ( abs C20 ) ) = ( dom C20 ) by VALUED_1:def 11;
thus L93: ( ( abs C20 ) " { R3 } ) c= ( C20 " { ( - R3 ) , R3 } )
proof
let R5 being set;
assume L94: R5 in ( ( abs C20 ) " { R3 } );
reconsider D6 = R5 as (Element of C19) by L94;
L95: ( ( abs C20 ) . D6 ) in { R3 } by L94 , FUNCT_1:def 7;
L96: ( abs ( C20 . D6 ) ) in { R3 } by L95 , VALUED_1:18;
L97: ( abs ( C20 . D6 ) ) = R3 by L96 , TARSKI:def 1;
L98: D6 in ( dom ( abs C20 ) ) by L94 , FUNCT_1:def 7;
L99:
now
per cases ;
case L100: ( 0 ) <= ( C20 . D6 );
L101: ( C20 . D6 ) = R3 by L100 , L97 , ABSVALUE:def 1;
L102: ( C20 . D6 ) in { ( - R3 ) , R3 } by L101 , TARSKI:def 2;
thus L103: thesis by L102 , L92 , L98 , FUNCT_1:def 7;
end;
case L104: ( C20 . D6 ) < ( 0 );
L105: ( - ( C20 . D6 ) ) = R3 by L104 , L97 , ABSVALUE:def 1;
L106: ( C20 . D6 ) in { ( - R3 ) , R3 } by L105 , TARSKI:def 2;
thus L107: thesis by L106 , L92 , L98 , FUNCT_1:def 7;
end;
end;
thus L109: thesis by L99;
end;

let R5 being set;
assume L110: R5 in ( C20 " { ( - R3 ) , R3 } );
reconsider D7 = R5 as (Element of C19) by L110;
L111: D7 in ( dom C20 ) by L110 , FUNCT_1:def 7;
L112: ( C20 . D7 ) in { ( - R3 ) , R3 } by L110 , FUNCT_1:def 7;
L113:
now
per cases  by L112 , TARSKI:def 2;
case L114: ( C20 . D7 ) = ( - R3 );
L115: R3 = ( abs ( - ( C20 . D7 ) ) ) by L114 , L91 , ABSVALUE:def 1
.= ( abs ( C20 . D7 ) ) by COMPLEX1:52
.= ( ( abs C20 ) . D7 ) by VALUED_1:18;
L116: ( ( abs C20 ) . D7 ) in { R3 } by L115 , TARSKI:def 1;
thus L117: thesis by L116 , L92 , L111 , FUNCT_1:def 7;
end;
case L118: ( C20 . D7 ) = R3;
L119: R3 = ( abs ( C20 . D7 ) ) by L118 , L91 , ABSVALUE:def 1
.= ( ( abs C20 ) . D7 ) by VALUED_1:18;
L120: ( ( abs C20 ) . D7 ) in { R3 } by L119 , TARSKI:def 1;
thus L121: thesis by L120 , L92 , L111 , FUNCT_1:def 7;
end;
end;
thus L123: thesis by L113;
end;
theorem
L124: (for B21 being non  empty set holds (for B22 being (PartFunc of B21 , ( REAL )) holds ( ( abs B22 ) " { ( 0 ) } ) = ( B22 " { ( 0 ) } )))
proof
let C21 being non  empty set;
let C22 being (PartFunc of C21 , ( REAL ));
L125: ( dom ( abs C22 ) ) = ( dom C22 ) by VALUED_1:def 11;
thus L126: ( ( abs C22 ) " { ( 0 ) } ) c= ( C22 " { ( 0 ) } )
proof
let R5 being set;
assume L127: R5 in ( ( abs C22 ) " { ( 0 ) } );
reconsider D8 = R5 as (Element of C21) by L127;
L128: ( ( abs C22 ) . D8 ) in { ( 0 ) } by L127 , FUNCT_1:def 7;
L129: ( abs ( C22 . D8 ) ) in { ( 0 ) } by L128 , VALUED_1:18;
L130: ( abs ( C22 . D8 ) ) = ( 0 ) by L129 , TARSKI:def 1;
L131: ( C22 . D8 ) = ( 0 ) by L130 , ABSVALUE:2;
L132: ( C22 . D8 ) in { ( 0 ) } by L131 , TARSKI:def 1;
L133: D8 in ( dom ( abs C22 ) ) by L127 , FUNCT_1:def 7;
thus L134: thesis by L133 , L125 , L132 , FUNCT_1:def 7;
end;

let R5 being set;
assume L135: R5 in ( C22 " { ( 0 ) } );
reconsider D9 = R5 as (Element of C21) by L135;
L136: ( C22 . D9 ) in { ( 0 ) } by L135 , FUNCT_1:def 7;
L137: ( C22 . D9 ) = ( 0 ) by L136 , TARSKI:def 1;
L138: ( abs ( C22 . D9 ) ) = ( 0 ) by L137 , ABSVALUE:2;
L139: ( ( abs C22 ) . D9 ) = ( 0 ) by L138 , VALUED_1:18;
L140: ( ( abs C22 ) . D9 ) in { ( 0 ) } by L139 , TARSKI:def 1;
L141: D9 in ( dom C22 ) by L135 , FUNCT_1:def 7;
thus L142: thesis by L141 , L125 , L140 , FUNCT_1:def 7;
end;
theorem
L143: (for B23 being non  empty set holds (for B24 being (PartFunc of B23 , ( REAL )) holds (for B25 being Real holds (B25 < ( 0 ) implies ( ( abs B24 ) " { B25 } ) = ( {} )))))
proof
let C23 being non  empty set;
let C24 being (PartFunc of C23 , ( REAL ));
let R3 being Real;
assume L144: R3 < ( 0 );
set D10 = the (Element of ( ( abs C24 ) " { R3 } ));
assume L145: ( ( abs C24 ) " { R3 } ) <> ( {} );
reconsider D11 = D10 as (Element of C23) by L145 , TARSKI:def 3;
L146: ( ( abs C24 ) . D11 ) in { R3 } by L145 , FUNCT_1:def 7;
L147: ( abs ( C24 . D11 ) ) in { R3 } by L146 , VALUED_1:18;
L148: ( abs ( C24 . D11 ) ) = R3 by L147 , TARSKI:def 1;
thus L149: contradiction by L148 , L144 , COMPLEX1:46;
end;
theorem
L150: (for B26 , B27 being non  empty set holds (for B28 being (PartFunc of B26 , ( REAL )) holds (for B29 being (PartFunc of B27 , ( REAL )) holds (for B30 being Real holds (B30 <> ( 0 ) implies (B28 , B29 are_fiberwise_equipotent  iff ( B30 (#) B28 ) , ( B30 (#) B29 ) are_fiberwise_equipotent ))))))
proof
let C25 , C26 being non  empty set;
let C27 being (PartFunc of C25 , ( REAL ));
let C28 being (PartFunc of C26 , ( REAL ));
let R3 being Real;
assume L151: R3 <> ( 0 );
L152: (( rng ( R3 (#) C27 ) ) c= ( REAL ) & ( rng ( R3 (#) C28 ) ) c= ( REAL ));
thus L153: (C27 , C28 are_fiberwise_equipotent  implies ( R3 (#) C27 ) , ( R3 (#) C28 ) are_fiberwise_equipotent )
proof
assume L154: C27 , C28 are_fiberwise_equipotent ;
L155:
now
let C29 being Real;
L156: (( Coim (C27 , ( C29 / R3 )) ) = ( Coim (( R3 (#) C27 ) , C29) ) & ( Coim (C28 , ( C29 / R3 )) ) = ( Coim (( R3 (#) C28 ) , C29) )) by L151 , L59;
thus L157: ( card ( Coim (( R3 (#) C27 ) , C29) ) ) = ( card ( Coim (( R3 (#) C28 ) , C29) ) ) by L156 , L154 , CLASSES1:def 9;
end;
thus L158: thesis by L155 , L152 , CLASSES1:79;
end;

assume L159: ( R3 (#) C27 ) , ( R3 (#) C28 ) are_fiberwise_equipotent ;
L160:
now
let C30 being Real;
L161: ( C28 " { ( ( R3 * C30 ) / R3 ) } ) = ( Coim (( R3 (#) C28 ) , ( R3 * C30 )) ) by L151 , L59;
L162: (( ( R3 * C30 ) / R3 ) = C30 & ( C27 " { ( ( R3 * C30 ) / R3 ) } ) = ( Coim (( R3 (#) C27 ) , ( R3 * C30 )) )) by L151 , L59 , XCMPLX_1:89;
thus L163: ( card ( Coim (C27 , C30) ) ) = ( card ( Coim (C28 , C30) ) ) by L162 , L159 , L161 , CLASSES1:def 9;
end;
L164: (( rng C27 ) c= ( REAL ) & ( rng C28 ) c= ( REAL ));
thus L165: thesis by L164 , L160 , CLASSES1:79;
end;
theorem
L166: (for B31 , B32 being non  empty set holds (for B33 being (PartFunc of B31 , ( REAL )) holds (for B34 being (PartFunc of B32 , ( REAL )) holds (B33 , B34 are_fiberwise_equipotent  iff ( - B33 ) , ( - B34 ) are_fiberwise_equipotent ))))
proof
let C31 , C32 being non  empty set;
let C33 being (PartFunc of C31 , ( REAL ));
let C34 being (PartFunc of C32 , ( REAL ));
L167: ( - C33 ) = ( ( - 1 ) (#) C33 );
thus L168: thesis by L167 , L150;
end;
theorem
L169: (for B35 , B36 being non  empty set holds (for B37 being (PartFunc of B35 , ( REAL )) holds (for B38 being (PartFunc of B36 , ( REAL )) holds (B37 , B38 are_fiberwise_equipotent  implies ( abs B37 ) , ( abs B38 ) are_fiberwise_equipotent ))))
proof
let C35 , C36 being non  empty set;
let C37 being (PartFunc of C35 , ( REAL ));
let C38 being (PartFunc of C36 , ( REAL ));
assume L170: C37 , C38 are_fiberwise_equipotent ;
L171:
now
let C39 being Real;
L172:
now
per cases ;
case L173: ( 0 ) < C39;
L174: (( ( abs C37 ) " { C39 } ) = ( C37 " { ( - C39 ) , C39 } ) & ( ( abs C38 ) " { C39 } ) = ( C38 " { ( - C39 ) , C39 } )) by L173 , L90;
thus L175: ( card ( ( abs C37 ) " { C39 } ) ) = ( card ( ( abs C38 ) " { C39 } ) ) by L174 , L170 , CLASSES1:78;
end;
case L176: ( 0 ) = C39;
L177: (( ( abs C37 ) " { C39 } ) = ( C37 " { C39 } ) & ( ( abs C38 ) " { C39 } ) = ( C38 " { C39 } )) by L176 , L124;
thus L178: ( card ( ( abs C37 ) " { C39 } ) ) = ( card ( ( abs C38 ) " { C39 } ) ) by L177 , L170 , CLASSES1:78;
end;
case L179: C39 < ( 0 );
L180: ( ( abs C37 ) " { C39 } ) = ( {} ) by L179 , L143;
thus L181: ( card ( ( abs C37 ) " { C39 } ) ) = ( card ( ( abs C38 ) " { C39 } ) ) by L180 , L179 , L143;
end;
end;
thus L183: ( card ( Coim (( abs C37 ) , C39) ) ) = ( card ( Coim (( abs C38 ) , C39) ) ) by L172;
end;
L184: (( rng ( abs C37 ) ) c= ( REAL ) & ( rng ( abs C38 ) ) c= ( REAL ));
thus L185: thesis by L184 , L171 , CLASSES1:79;
end;
definition
let C40 , C41 being set;
mode PartFunc-set of C40 , C41
means :L186: (for B39 being (Element of it) holds B39 is (PartFunc of C40 , C41));
existence
proof
reconsider D12 = ( {} ) as (PartFunc of C40 , C41) by RELSET_1:12;
take { D12 };
thus L187: thesis by TARSKI:def 1;
end;
end;
registration
let C42 , C43 being set;
cluster non  empty for (PartFunc-set of C42 , C43);
existence
proof
reconsider D13 = ( {} ) as (PartFunc of C42 , C43) by RELSET_1:12;
L189: { D13 } is (PartFunc-set of C42 , C43)
proof
let C44 being (Element of { D13 });
thus L190: thesis by TARSKI:def 1;
end;
thus L191: thesis by L189;
end;
end;
definition
let C45 , C46 being set;
mode PFUNC_DOMAIN of C45 , C46
 is non  empty (PartFunc-set of C45 , C46);
end;
definition
let C47 , C48 being set;
redefine func PFuncs (C47 , C48) -> (PartFunc-set of C47 , C48);

coherence
proof
L194: (for B40 being (Element of ( PFuncs (C47 , C48) )) holds B40 is (PartFunc of C47 , C48)) by PARTFUN1:47;
thus L195: thesis by L194 , L186;
end;
let C49 being non  empty (PartFunc-set of C47 , C48);
redefine mode Element of C49
 -> (PartFunc of C47 , C48);
coherence by L186;
end;
definition
let C50 , C51 being non  empty set;
let C52 being (Subset of C50);
let C53 being (Element of C51);
redefine func C52 --> C53 -> (Element of ( PFuncs (C50 , C51) ));

coherence
proof
L197: ( C52 --> C53 ) is (PartFunc of C50 , C51);
thus L198: thesis by L197 , PARTFUN1:45;
end;
end;
registration
let C54 being non  empty set;
let C55 being  real-membered set;
cluster  ->  real-valued for (Element of ( PFuncs (C54 , C55) ));
coherence;
end;
definition
let C56 being non  empty set;
let C57 being  real-membered set;
let C58 , C59 being (Element of ( PFuncs (C56 , C57) ));
redefine func C58 + C59 -> (Element of ( PFuncs (C56 , ( REAL )) ));

coherence
proof
reconsider D14 = C58 , D15 = C59 as (PartFunc of C56 , C57);
L201: ( D14 + D15 ) is (PartFunc of C56 , ( REAL ));
thus L202: thesis by L201 , PARTFUN1:45;
end;
redefine func C58 - C59 -> (Element of ( PFuncs (C56 , ( REAL )) ));

coherence
proof
reconsider D16 = C58 , D17 = C59 as (PartFunc of C56 , C57);
L203: ( D16 - D17 ) is (PartFunc of C56 , ( REAL ));
thus L204: thesis by L203 , PARTFUN1:45;
end;
redefine func C58 (#) C59 -> (Element of ( PFuncs (C56 , ( REAL )) ));

coherence
proof
reconsider D18 = C58 , D19 = C59 as (PartFunc of C56 , C57);
L205: ( D18 (#) D19 ) is (PartFunc of C56 , ( REAL ));
thus L206: thesis by L205 , PARTFUN1:45;
end;
redefine func C58 / C59 -> (Element of ( PFuncs (C56 , ( REAL )) ));

coherence
proof
reconsider D20 = C58 , D21 = C59 as (PartFunc of C56 , C57);
L207: ( D20 / D21 ) is (PartFunc of C56 , ( REAL ));
thus L208: thesis by L207 , PARTFUN1:45;
end;
end;
definition
let C60 being non  empty set;
let C61 being  real-membered set;
let C62 being (Element of ( PFuncs (C60 , C61) ));
redefine func abs C62 -> (Element of ( PFuncs (C60 , ( REAL )) ));

coherence
proof
reconsider D22 = C62 as (PartFunc of C60 , C61);
L210: ( abs D22 ) is (PartFunc of C60 , ( REAL ));
thus L211: thesis by L210 , PARTFUN1:45;
end;
redefine func - C62 -> (Element of ( PFuncs (C60 , ( REAL )) ));

coherence
proof
reconsider D23 = C62 as (PartFunc of C60 , C61);
L212: ( - D23 ) is (PartFunc of C60 , ( REAL ));
thus L213: thesis by L212 , PARTFUN1:45;
end;
redefine func C62 ^ -> (Element of ( PFuncs (C60 , ( REAL )) ));

coherence
proof
reconsider D24 = C62 as (PartFunc of C60 , C61);
L214: ( D24 ^ ) is (PartFunc of C60 , ( REAL ));
thus L215: thesis by L214 , PARTFUN1:45;
end;
end;
definition
let C63 being non  empty set;
let C64 being  real-membered set;
let C65 being (Element of ( PFuncs (C63 , C64) ));
let C66 being  real number;
redefine func C66 (#) C65 -> (Element of ( PFuncs (C63 , ( REAL )) ));

coherence
proof
reconsider D25 = C65 as (PartFunc of C63 , C64);
L217: ( C66 (#) D25 ) is (PartFunc of C63 , ( REAL ));
thus L218: thesis by L217 , PARTFUN1:45;
end;
end;
definition
let C67 being non  empty set;
func addpfunc C67 -> (BinOp of ( PFuncs (C67 , ( REAL )) )) means 
:L220: (for B41 , B42 being (Element of ( PFuncs (C67 , ( REAL )) )) holds ( it . (B41 , B42) ) = ( B41 + B42 ));
existence
proof
deffunc H1((Element of ( PFuncs (C67 , ( REAL )) )) , (Element of ( PFuncs (C67 , ( REAL )) ))) = ( $1 + $2 );
L221: (ex B43 being (BinOp of ( PFuncs (C67 , ( REAL )) )) st (for B44 , B45 being (Element of ( PFuncs (C67 , ( REAL )) )) holds ( B43 . (B44 , B45) ) = H1(B44 , B45))) from BINOP_1:sch 4;
thus L222: thesis by L221;
end;
uniqueness
proof
let C68 , C69 being (BinOp of ( PFuncs (C67 , ( REAL )) ));
assume that
L223: (for B46 , B47 being (Element of ( PFuncs (C67 , ( REAL )) )) holds ( C68 . (B46 , B47) ) = ( B46 + B47 ))
and
L224: (for B48 , B49 being (Element of ( PFuncs (C67 , ( REAL )) )) holds ( C69 . (B48 , B49) ) = ( B48 + B49 ));
L225:
now
let C70 , C71 being (Element of ( PFuncs (C67 , ( REAL )) ));
L226: ( C68 . (C70 , C71) ) = ( C70 + C71 ) by L223;
thus L227: ( C68 . (C70 , C71) ) = ( C69 . (C70 , C71) ) by L226 , L224;
end;
thus L228: thesis by L225 , BINOP_1:2;
end;
end;
theorem
L230: (for B50 being non  empty set holds ( addpfunc B50 ) is  commutative)
proof
let C72 being non  empty set;
let C73 , C74 being (Element of ( PFuncs (C72 , ( REAL )) ));
set D26 = ( addpfunc C72 );
thus L231: ( D26 . (C73 , C74) ) = ( C74 + C73 ) by L220
.= ( D26 . (C74 , C73) ) by L220;
end;
theorem
L232: (for B51 being non  empty set holds ( addpfunc B51 ) is  associative)
proof
let C75 being non  empty set;
let C76 , C77 , C78 being (Element of ( PFuncs (C75 , ( REAL )) ));
set D27 = ( addpfunc C75 );
thus L233: ( D27 . (C76 , ( D27 . (C77 , C78) )) ) = ( D27 . (C76 , ( C77 + C78 )) ) by L220
.= ( C76 + ( C77 + C78 ) ) by L220
.= ( ( C76 + C77 ) + C78 ) by RFUNCT_1:8
.= ( ( D27 . (C76 , C77) ) + C78 ) by L220
.= ( D27 . (( D27 . (C76 , C77) ) , C78) ) by L220;
end;
theorem
L234: (for B52 being non  empty set holds ( ( [#] B52 ) --> (( 0 ) qua Real) ) is_a_unity_wrt ( addpfunc B52 ))
proof
let C79 being non  empty set;
set D28 = ( ( [#] C79 ) --> (( 0 ) qua Real) );
L235: ( dom D28 ) = C79 by FUNCOP_1:13;
L236:
now
let C80 being (Element of ( PFuncs (C79 , ( REAL )) ));
L237:
now
let C81 being (Element of C79);
assume L238: C81 in ( dom ( C80 + D28 ) );
thus L239: ( ( C80 + D28 ) . C81 ) = ( ( C80 . C81 ) + ( D28 . C81 ) ) by L238 , VALUED_1:def 1
.= ( ( C80 . C81 ) + ( 0 ) ) by FUNCOP_1:7
.= ( C80 . C81 );
end;
L240: ( ( dom C80 ) /\ C79 ) = ( dom C80 ) by XBOOLE_1:28;
L241: ( dom ( C80 + D28 ) ) = ( dom C80 ) by L240 , L235 , VALUED_1:def 1;
L242: ( C80 + D28 ) = C80 by L241 , L237 , PARTFUN1:5;
thus L243: ( ( addpfunc C79 ) . (C80 , D28) ) = C80 by L242 , L220;
end;
L244: ( addpfunc C79 ) is  commutative by L230;
thus L245: thesis by L244 , L236 , BINOP_1:5;
end;
theorem
L246: (for B53 being non  empty set holds ( the_unity_wrt ( addpfunc B53 ) ) = ( ( [#] B53 ) --> (( 0 ) qua Real) ))
proof
let C82 being non  empty set;
L247: ( ( [#] C82 ) --> (( 0 ) qua Real) ) is_a_unity_wrt ( addpfunc C82 ) by L234;
thus L248: thesis by L247 , BINOP_1:def 8;
end;
theorem
L249: (for B54 being non  empty set holds ( addpfunc B54 ) is  having_a_unity)
proof
let C83 being non  empty set;
take ( ( [#] C83 ) --> (( 0 ) qua Real) );
thus L250: thesis by L234;
end;
definition
let C84 being non  empty set;
let C85 being (FinSequence of ( PFuncs (C84 , ( REAL )) ));
func Sum C85 -> (Element of ( PFuncs (C84 , ( REAL )) )) equals 
( ( addpfunc C84 ) $$ C85 );
correctness;
end;
theorem
L252: (for B55 being non  empty set holds ( Sum ( <*> ( PFuncs (B55 , ( REAL )) ) ) ) = ( ( [#] B55 ) --> (( 0 ) qua Real) ))
proof
let C86 being non  empty set;
set D29 = ( addpfunc C86 );
set D30 = ( ( [#] C86 ) --> (( 0 ) qua Real) );
L253: ( the_unity_wrt D29 ) = D30 by L246;
thus L254: thesis by L253 , L249 , FINSOP_1:10;
end;
theorem
L255: (for B56 being non  empty set holds (for B57 being (FinSequence of ( PFuncs (B56 , ( REAL )) )) holds (for B58 being (Element of ( PFuncs (B56 , ( REAL )) )) holds ( Sum ( B57 ^ <* B58 *> ) ) = ( ( Sum B57 ) + B58 ))))
proof
let C87 being non  empty set;
let C88 being (FinSequence of ( PFuncs (C87 , ( REAL )) ));
let C89 being (Element of ( PFuncs (C87 , ( REAL )) ));
set D31 = ( addpfunc C87 );
thus L256: ( Sum ( C88 ^ <* C89 *> ) ) = ( D31 . (( D31 $$ C88 ) , C89) ) by L249 , FINSOP_1:4
.= ( ( Sum C88 ) + C89 ) by L220;
end;
theorem
L257: (for B59 being non  empty set holds (for B60 , B61 being (FinSequence of ( PFuncs (B59 , ( REAL )) )) holds ( Sum ( B60 ^ B61 ) ) = ( ( Sum B60 ) + ( Sum B61 ) )))
proof
let C90 being non  empty set;
let C91 , C92 being (FinSequence of ( PFuncs (C90 , ( REAL )) ));
set D32 = ( addpfunc C90 );
L258: D32 is  associative by L232;
thus L259: ( Sum ( C91 ^ C92 ) ) = ( ( addpfunc C90 ) . (( Sum C91 ) , ( Sum C92 )) ) by L258 , L249 , FINSOP_1:5
.= ( ( Sum C91 ) + ( Sum C92 ) ) by L220;
end;
theorem
L260: (for B62 being non  empty set holds (for B63 being (FinSequence of ( PFuncs (B62 , ( REAL )) )) holds (for B64 being (Element of ( PFuncs (B62 , ( REAL )) )) holds ( Sum ( <* B64 *> ^ B63 ) ) = ( B64 + ( Sum B63 ) ))))
proof
let C93 being non  empty set;
let C94 being (FinSequence of ( PFuncs (C93 , ( REAL )) ));
let C95 being (Element of ( PFuncs (C93 , ( REAL )) ));
thus L261: ( Sum ( <* C95 *> ^ C94 ) ) = ( ( Sum <* C95 *> ) + ( Sum C94 ) ) by L257
.= ( C95 + ( Sum C94 ) ) by FINSOP_1:11;
end;
theorem
L262: (for B65 being non  empty set holds (for B66 , B67 being (Element of ( PFuncs (B65 , ( REAL )) )) holds ( Sum <* B66 , B67 *> ) = ( B66 + B67 )))
proof
let C96 being non  empty set;
let C97 , C98 being (Element of ( PFuncs (C96 , ( REAL )) ));
thus L263: ( Sum <* C97 , C98 *> ) = ( Sum ( <* C97 *> ^ <* C98 *> ) ) by FINSEQ_1:def 9
.= ( ( Sum <* C97 *> ) + C98 ) by L255
.= ( C97 + C98 ) by FINSOP_1:11;
end;
theorem
L264: (for B68 being non  empty set holds (for B69 , B70 , B71 being (Element of ( PFuncs (B68 , ( REAL )) )) holds ( Sum <* B69 , B70 , B71 *> ) = ( ( B69 + B70 ) + B71 )))
proof
let C99 being non  empty set;
let C100 , C101 , C102 being (Element of ( PFuncs (C99 , ( REAL )) ));
thus L265: ( Sum <* C100 , C101 , C102 *> ) = ( Sum ( <* C100 , C101 *> ^ <* C102 *> ) ) by FINSEQ_1:43
.= ( ( Sum <* C100 , C101 *> ) + C102 ) by L255
.= ( ( C100 + C101 ) + C102 ) by L262;
end;
theorem
L266: (for B72 being non  empty set holds (for B73 , B74 being (FinSequence of ( PFuncs (B72 , ( REAL )) )) holds (B73 , B74 are_fiberwise_equipotent  implies ( Sum B73 ) = ( Sum B74 ))))
proof
let C103 being non  empty set;
defpred S1[ (Element of ( NAT )) ] means (for B75 , B76 being (FinSequence of ( PFuncs (C103 , ( REAL )) )) holds ((B75 , B76 are_fiberwise_equipotent  & ( len B75 ) = $1) implies ( Sum B75 ) = ( Sum B76 )));
let C104 , C105 being (FinSequence of ( PFuncs (C103 , ( REAL )) ));
assume L267: C104 , C105 are_fiberwise_equipotent ;
L268: ( len C104 ) = ( len C104 );
L269: (for R1 being (Element of ( NAT )) holds (S1[ R1 ] implies S1[ ( R1 + 1 ) ]))
proof
let R1 being (Element of ( NAT ));
assume L270: S1[ R1 ];
let C106 , C107 being (FinSequence of ( PFuncs (C103 , ( REAL )) ));
assume that
L271: C106 , C107 are_fiberwise_equipotent 
and
L272: ( len C106 ) = ( R1 + 1 );
L273: ( ( 0 ) + 1 ) <= ( R1 + 1 ) by NAT_1:13;
L274: ( R1 + 1 ) in ( dom C106 ) by L273 , L272 , FINSEQ_3:25;
reconsider D33 = ( C106 . ( R1 + 1 ) ) as (Element of ( PFuncs (C103 , ( REAL )) )) by L274 , FINSEQ_2:11;
L275: ( rng C106 ) = ( rng C107 ) by L271 , CLASSES1:75;
L276: D33 in ( rng C107 ) by L275 , L274 , FUNCT_1:def 3;
consider C108 being Nat such that L277: C108 in ( dom C107 ) and L278: ( C107 . C108 ) = D33 by L276 , FINSEQ_2:10;
L279: C107 = ( ( C107 | C108 ) ^ ( C107 /^ C108 ) ) by RFINSEQ:8;
set D34 = ( C107 /^ C108 );
set D35 = ( C107 | C108 );
L280: C108 <= ( len C107 ) by L277 , FINSEQ_3:25;
L281: ( len D35 ) = C108 by L280 , FINSEQ_1:59;
set D36 = ( C106 | R1 );
L282: C106 = ( D36 ^ <* D33 *> ) by L272 , RFINSEQ:7;
L283: 1 <= C108 by L277 , FINSEQ_3:25;
L284: ( max (( 0 ) , ( C108 - 1 )) ) = ( C108 - 1 ) by L283 , FINSEQ_2:4;
reconsider D37 = ( C108 - 1 ) as (Element of ( NAT )) by L284 , FINSEQ_2:5;
L285: C108 = ( D37 + 1 );
L286: D37 <= C108 by L285 , NAT_1:11;
L287: ( Seg D37 ) c= ( Seg C108 ) by L286 , FINSEQ_1:5;
L288: C108 in ( Seg C108 ) by L283 , FINSEQ_1:1;
L289: ( D35 . C108 ) = D33 by L288 , L277 , L278 , RFINSEQ:6;
L290: D35 = ( ( D35 | D37 ) ^ <* D33 *> ) by L289 , L281 , L285 , RFINSEQ:7;
L291: ( D35 | D37 ) = ( D35 | ( Seg D37 ) ) by FINSEQ_1:def 15
.= ( ( C107 | ( Seg C108 ) ) | ( Seg D37 ) ) by FINSEQ_1:def 15
.= ( C107 | ( ( Seg C108 ) /\ ( Seg D37 ) ) ) by RELAT_1:71
.= ( C107 | ( Seg D37 ) ) by L287 , XBOOLE_1:28
.= ( C107 | D37 ) by FINSEQ_1:def 15;
L292:
now
let R5 being set;
L293: ( card ( Coim (C106 , R5) ) ) = ( card ( Coim (C107 , R5) ) ) by L271 , CLASSES1:def 9;
L294: ( ( card ( D36 " { R5 } ) ) + ( card ( <* D33 *> " { R5 } ) ) ) = ( card ( ( ( ( C107 | D37 ) ^ <* D33 *> ) ^ ( C107 /^ C108 ) ) " { R5 } ) ) by L293 , L279 , L290 , L291 , L282 , FINSEQ_3:57
.= ( ( card ( ( ( C107 | D37 ) ^ <* D33 *> ) " { R5 } ) ) + ( card ( ( C107 /^ C108 ) " { R5 } ) ) ) by FINSEQ_3:57
.= ( ( ( card ( ( C107 | D37 ) " { R5 } ) ) + ( card ( <* D33 *> " { R5 } ) ) ) + ( card ( ( C107 /^ C108 ) " { R5 } ) ) ) by FINSEQ_3:57
.= ( ( ( card ( ( C107 | D37 ) " { R5 } ) ) + ( card ( ( C107 /^ C108 ) " { R5 } ) ) ) + ( card ( <* D33 *> " { R5 } ) ) )
.= ( ( card ( ( ( C107 | D37 ) ^ ( C107 /^ C108 ) ) " { R5 } ) ) + ( card ( <* D33 *> " { R5 } ) ) ) by FINSEQ_3:57;
thus L295: ( card ( Coim (D36 , R5) ) ) = ( card ( Coim (( ( C107 | D37 ) ^ ( C107 /^ C108 ) ) , R5) ) ) by L294;
end;
L296: D36 , ( ( C107 | D37 ) ^ ( C107 /^ C108 ) ) are_fiberwise_equipotent  by L292 , CLASSES1:def 9;
L297: ( len D36 ) = R1 by L272 , FINSEQ_1:59 , NAT_1:11;
L298: ( Sum D36 ) = ( Sum ( ( C107 | D37 ) ^ D34 ) ) by L297 , L270 , L296;
thus L299: ( Sum C106 ) = ( ( Sum ( ( C107 | D37 ) ^ D34 ) ) + ( Sum <* D33 *> ) ) by L298 , L282 , L257
.= ( ( ( Sum ( C107 | D37 ) ) + ( Sum D34 ) ) + ( Sum <* D33 *> ) ) by L257
.= ( ( ( Sum ( C107 | D37 ) ) + ( Sum <* D33 *> ) ) + ( Sum D34 ) ) by RFUNCT_1:8
.= ( ( Sum D35 ) + ( Sum D34 ) ) by L290 , L291 , L257
.= ( Sum C107 ) by L279 , L257;
end;
L300: S1[ ( 0 ) ]
proof
let C109 , C110 being (FinSequence of ( PFuncs (C103 , ( REAL )) ));
assume L301: (C109 , C110 are_fiberwise_equipotent  & ( len C109 ) = ( 0 ));
L302: (( len C110 ) = ( 0 ) & C109 = ( <*> ( PFuncs (C103 , ( REAL )) ) )) by L301 , RFINSEQ:3;
L303: C110 = ( <*> ( PFuncs (C103 , ( REAL )) ) ) by L302;
thus L304: thesis by L303 , L302;
end;
L305: (for R1 being (Element of ( NAT )) holds S1[ R1 ]) from NAT_1:sch 1(L300 , L269);
thus L306: thesis by L305 , L267 , L268;
end;
definition
let C111 being non  empty set;
let C112 being FinSequence;
func CHI (C112 , C111) -> (FinSequence of ( PFuncs (C111 , ( REAL )) )) means 
:L307: (( len it ) = ( len C112 ) & (for R1 being (Element of ( NAT )) holds (R1 in ( dom it ) implies ( it . R1 ) = ( chi (( C112 . R1 ) , C111) ))));
existence
proof
deffunc H2(Nat) = ( chi (( C112 . $1 ) , C111) );
consider C113 being FinSequence such that L308: ( len C113 ) = ( len C112 ) and L309: (for B77 being Nat holds (B77 in ( dom C113 ) implies ( C113 . B77 ) = H2(B77))) from FINSEQ_1:sch 2;
L310: ( rng C113 ) c= ( PFuncs (C111 , ( REAL )) )
proof
let C114 being set;
assume L311: C114 in ( rng C113 );
consider C115 being Nat such that L312: (C115 in ( dom C113 ) & ( C113 . C115 ) = C114) by L311 , FINSEQ_2:10;
L313: C114 = ( chi (( C112 . C115 ) , C111) ) by L309 , L312;
thus L314: thesis by L313 , PARTFUN1:45;
end;
reconsider D38 = C113 as (FinSequence of ( PFuncs (C111 , ( REAL )) )) by L310 , FINSEQ_1:def 4;
take D38;
thus L315: ( len D38 ) = ( len C112 ) by L308;
let R1 being (Element of ( NAT ));
assume L316: R1 in ( dom D38 );
thus L317: thesis by L316 , L309;
end;
uniqueness
proof
let C116 , C117 being (FinSequence of ( PFuncs (C111 , ( REAL )) ));
assume that
L318: ( len C116 ) = ( len C112 )
and
L319: (for R1 being (Element of ( NAT )) holds (R1 in ( dom C116 ) implies ( C116 . R1 ) = ( chi (( C112 . R1 ) , C111) )))
and
L320: ( len C117 ) = ( len C112 )
and
L321: (for R1 being (Element of ( NAT )) holds (R1 in ( dom C117 ) implies ( C117 . R1 ) = ( chi (( C112 . R1 ) , C111) )));
L322: (( dom C116 ) = ( Seg ( len C116 ) ) & ( dom C117 ) = ( Seg ( len C117 ) )) by FINSEQ_1:def 3;
L323:
now
let C118 being Nat;
assume L324: C118 in ( dom C116 );
L325: ( C116 . C118 ) = ( chi (( C112 . C118 ) , C111) ) by L324 , L319;
thus L326: ( C116 . C118 ) = ( C117 . C118 ) by L325 , L318 , L320 , L321 , L322 , L324;
end;
thus L327: thesis by L323 , L318 , L320 , FINSEQ_2:9;
end;
end;
definition
let C119 being non  empty set;
let C120 being (FinSequence of ( PFuncs (C119 , ( REAL )) ));
let C121 being (FinSequence of ( REAL ));
func C121 (#) C120 -> (FinSequence of ( PFuncs (C119 , ( REAL )) )) means 
:L329: (( len it ) = ( min (( len C121 ) , ( len C120 )) ) & (for R1 being (Element of ( NAT )) holds (R1 in ( dom it ) implies (for B78 being (PartFunc of C119 , ( REAL )) holds (for R3 being Real holds ((R3 = ( C121 . R1 ) & B78 = ( C120 . R1 )) implies ( it . R1 ) = ( R3 (#) B78 )))))));
existence
proof
defpred S2[ Nat , set ] means (for B79 being (PartFunc of C119 , ( REAL )) holds (for R3 being Real holds ((R3 = ( C121 . $1 ) & B79 = ( C120 . $1 )) implies $2 = ( R3 (#) B79 ))));
set D39 = ( min (( len C121 ) , ( len C120 )) );
L330: D39 <= ( len C120 ) by XXREAL_0:17;
L331: (for B80 being Nat holds (B80 in ( Seg D39 ) implies (ex B81 being (Element of ( PFuncs (C119 , ( REAL )) )) st S2[ B80 , B81 ])))
proof
let C122 being Nat;
reconsider D40 = ( C121 . C122 ) as Real;
assume L332: C122 in ( Seg D39 );
L333: C122 <= D39 by L332 , FINSEQ_1:1;
L334: C122 <= ( len C120 ) by L333 , L330 , XXREAL_0:2;
L335: 1 <= C122 by L332 , FINSEQ_1:1;
L336: C122 in ( dom C120 ) by L335 , L334 , FINSEQ_3:25;
reconsider D41 = ( C120 . C122 ) as (Element of ( PFuncs (C119 , ( REAL )) )) by L336 , FINSEQ_2:11;
reconsider D42 = ( D40 (#) D41 ) as (Element of ( PFuncs (C119 , ( REAL )) ));
take D42;
thus L337: thesis;
end;
consider C123 being (FinSequence of ( PFuncs (C119 , ( REAL )) )) such that L338: (( dom C123 ) = ( Seg D39 ) & (for B82 being Nat holds (B82 in ( Seg D39 ) implies S2[ B82 , ( C123 . B82 ) ]))) from FINSEQ_1:sch 5(L331);
take C123;
thus L339: ( len C123 ) = D39 by L338 , FINSEQ_1:def 3;
let R1 being (Element of ( NAT ));
assume L340: R1 in ( dom C123 );
thus L341: thesis by L340 , L338;
end;
uniqueness
proof
set D43 = ( min (( len C121 ) , ( len C120 )) );
let C124 , C125 being (FinSequence of ( PFuncs (C119 , ( REAL )) ));
assume that
L342: ( len C124 ) = D43
and
L343: (for R1 being (Element of ( NAT )) holds (R1 in ( dom C124 ) implies (for B83 being (PartFunc of C119 , ( REAL )) holds (for R3 being Real holds ((R3 = ( C121 . R1 ) & B83 = ( C120 . R1 )) implies ( C124 . R1 ) = ( R3 (#) B83 ))))))
and
L344: ( len C125 ) = D43
and
L345: (for R1 being (Element of ( NAT )) holds (R1 in ( dom C125 ) implies (for B84 being (PartFunc of C119 , ( REAL )) holds (for R3 being Real holds ((R3 = ( C121 . R1 ) & B84 = ( C120 . R1 )) implies ( C125 . R1 ) = ( R3 (#) B84 ))))));
L346: ( dom C124 ) = ( Seg D43 ) by L342 , FINSEQ_1:def 3;
L347: (( dom C124 ) = ( Seg ( len C124 ) ) & ( dom C125 ) = ( Seg ( len C125 ) )) by FINSEQ_1:def 3;
L348: D43 <= ( len C120 ) by XXREAL_0:17;
L349:
now
let C126 being Nat;
reconsider D44 = ( C121 . C126 ) as Real;
assume L350: C126 in ( dom C124 );
L351: C126 <= D43 by L350 , L346 , FINSEQ_1:1;
L352: C126 <= ( len C120 ) by L351 , L348 , XXREAL_0:2;
L353: 1 <= C126 by L346 , L350 , FINSEQ_1:1;
L354: C126 in ( dom C120 ) by L353 , L352 , FINSEQ_3:25;
reconsider D45 = ( C120 . C126 ) as (Element of ( PFuncs (C119 , ( REAL )) )) by L354 , FINSEQ_2:11;
L355: ( C124 . C126 ) = ( D44 (#) D45 ) by L343 , L350;
thus L356: ( C124 . C126 ) = ( C125 . C126 ) by L355 , L342 , L344 , L345 , L347 , L350;
end;
thus L357: thesis by L349 , L342 , L344 , FINSEQ_2:9;
end;
end;
definition
let C127 being non  empty set;
let C128 being (FinSequence of ( PFuncs (C127 , ( REAL )) ));
let C129 being (Element of C127);
func C128 # C129 -> (FinSequence of ( REAL )) means 
:L359: (( len it ) = ( len C128 ) & (for B85 being (Element of ( NAT )) holds (B85 in ( dom it ) implies ( it . B85 ) = ( ( C128 . B85 ) . C129 ))));
existence
proof
defpred S3[ Nat , set ] means $2 = ( ( C128 . $1 ) . C129 );
L360: (for B86 being Nat holds (B86 in ( Seg ( len C128 ) ) implies (ex B87 being (Element of ( REAL )) st S3[ B86 , B87 ])))
proof
let C130 being Nat;
assume L361: C130 in ( Seg ( len C128 ) );
L362: C130 in ( dom C128 ) by L361 , FINSEQ_1:def 3;
reconsider D46 = ( C128 . C130 ) as (Element of ( PFuncs (C127 , ( REAL )) )) by L362 , FINSEQ_2:11;
take ( D46 . C129 );
thus L363: thesis;
end;
consider C131 being (FinSequence of ( REAL )) such that L364: ( dom C131 ) = ( Seg ( len C128 ) ) and L365: (for B88 being Nat holds (B88 in ( Seg ( len C128 ) ) implies S3[ B88 , ( C131 . B88 ) ])) from FINSEQ_1:sch 5(L360);
take C131;
thus L366: ( len C131 ) = ( len C128 ) by L364 , FINSEQ_1:def 3;
thus L367: thesis by L364 , L365;
end;
uniqueness
proof
let C132 , C133 being (FinSequence of ( REAL ));
assume that
L368: ( len C132 ) = ( len C128 )
and
L369: (for B89 being (Element of ( NAT )) holds (B89 in ( dom C132 ) implies ( C132 . B89 ) = ( ( C128 . B89 ) . C129 )))
and
L370: ( len C133 ) = ( len C128 )
and
L371: (for B90 being (Element of ( NAT )) holds (B90 in ( dom C133 ) implies ( C133 . B90 ) = ( ( C128 . B90 ) . C129 )));
L372: ( dom C132 ) = ( Seg ( len C132 ) ) by FINSEQ_1:def 3;
L373: ( dom C133 ) = ( Seg ( len C133 ) ) by FINSEQ_1:def 3;
L374:
now
let C134 being Nat;
assume L375: C134 in ( dom C132 );
L376: ( C132 . C134 ) = ( ( C128 . C134 ) . C129 ) by L375 , L369;
thus L377: ( C132 . C134 ) = ( C133 . C134 ) by L376 , L368 , L370 , L371 , L372 , L373 , L375;
end;
thus L378: thesis by L374 , L368 , L370 , FINSEQ_2:9;
end;
end;
definition
let C135 , C136 being non  empty set;
let C137 being (FinSequence of ( PFuncs (C135 , C136) ));
let C138 being (Element of C135);
pred C138 is_common_for_dom C137
means
:L380: (for B91 being (Element of ( NAT )) holds (B91 in ( dom C137 ) implies C138 in ( dom ( C137 . B91 ) )))
;end;
theorem
L382: (for B92 , B93 being non  empty set holds (for B94 being (FinSequence of ( PFuncs (B92 , B93) )) holds (for B95 being (Element of B92) holds (for B96 being (Element of ( NAT )) holds ((B95 is_common_for_dom B94 & B96 <> ( 0 )) implies B95 is_common_for_dom ( B94 | B96 ))))))
proof
let C139 , C140 being non  empty set;
let C141 being (FinSequence of ( PFuncs (C139 , C140) ));
let C142 being (Element of C139);
let R1 being (Element of ( NAT ));
assume that
L383: C142 is_common_for_dom C141
and
L384: R1 <> ( 0 );
let R2 being (Element of ( NAT ));
assume L385: R2 in ( dom ( C141 | R1 ) );
set D47 = ( ( C141 | R1 ) . R2 );
L386:
now
per cases ;
case L387: R1 >= ( len C141 );
L388: ( C141 | R1 ) = C141 by L387 , L47;
thus L389: thesis by L388 , L383 , L385 , L380;
end;
case L390: R1 < ( len C141 );
L391: ( ( 0 ) + 1 ) <= R1 by L384 , NAT_1:13;
L392: R1 in ( dom C141 ) by L391 , L390 , FINSEQ_3:25;
L393: (( dom ( C141 | R1 ) ) = ( Seg ( len ( C141 | R1 ) ) ) & ( len ( C141 | R1 ) ) = R1) by L390 , FINSEQ_1:59 , FINSEQ_1:def 3;
L394: (D47 = ( C141 . R2 ) & R2 in ( dom C141 )) by L393 , L385 , L392 , RFINSEQ:6;
thus L395: thesis by L394 , L383 , L380;
end;
end;
thus L397: thesis by L386;
end;
theorem
L398: (for B97 , B98 being non  empty set holds (for B99 being (FinSequence of ( PFuncs (B97 , B98) )) holds (for B100 being (Element of B97) holds (for B101 being (Element of ( NAT )) holds (B100 is_common_for_dom B99 implies B100 is_common_for_dom ( B99 /^ B101 ))))))
proof
let C143 , C144 being non  empty set;
let C145 being (FinSequence of ( PFuncs (C143 , C144) ));
let C146 being (Element of C143);
let R1 being (Element of ( NAT ));
assume L399: C146 is_common_for_dom C145;
let R2 being (Element of ( NAT ));
set D48 = ( C145 /^ R1 );
assume L400: R2 in ( dom D48 );
set D49 = ( D48 . R2 );
L401:
now
per cases ;
case L402: ( len C145 ) < R1;
thus L403: thesis by L402 , L400 , RELAT_1:38 , RFINSEQ:def 1;
end;
case L404: R1 <= ( len C145 );
L405: (1 <= R2 & R2 <= ( R2 + R1 )) by L400 , FINSEQ_3:25 , NAT_1:11;
L406: 1 <= ( R2 + R1 ) by L405 , XXREAL_0:2;
L407: R2 <= ( len D48 ) by L400 , FINSEQ_3:25;
L408: ( len D48 ) = ( ( len C145 ) - R1 ) by L404 , RFINSEQ:def 1;
L409: ( R2 + R1 ) <= ( len C145 ) by L408 , L407 , XREAL_1:19;
L410: ( R2 + R1 ) in ( dom C145 ) by L409 , L406 , FINSEQ_3:25;
L411: D49 = ( C145 . ( R2 + R1 ) ) by L400 , L404 , RFINSEQ:def 1;
thus L412: thesis by L411 , L399 , L410 , L380;
end;
end;
thus L414: thesis by L401;
end;
theorem
L415: (for B102 being non  empty set holds (for B103 being (Element of B102) holds (for B104 being (FinSequence of ( PFuncs (B102 , ( REAL )) )) holds (( len B104 ) <> ( 0 ) implies (B103 is_common_for_dom B104 iff B103 in ( dom ( Sum B104 ) ))))))
proof
let C147 being non  empty set;
let C148 being (Element of C147);
defpred S4[ (Element of ( NAT )) ] means (for B105 being (FinSequence of ( PFuncs (C147 , ( REAL )) )) holds ((( len B105 ) = $1 & ( len B105 ) <> ( 0 )) implies (C148 is_common_for_dom B105 iff C148 in ( dom ( Sum B105 ) ))));
let C149 being (FinSequence of ( PFuncs (C147 , ( REAL )) ));
assume L416: ( len C149 ) <> ( 0 );
L417: (for R1 being (Element of ( NAT )) holds (S4[ R1 ] implies S4[ ( R1 + 1 ) ]))
proof
let R1 being (Element of ( NAT ));
assume L418: S4[ R1 ];
let C150 being (FinSequence of ( PFuncs (C147 , ( REAL )) ));
assume that
L419: ( len C150 ) = ( R1 + 1 )
and
L420: ( len C150 ) <> ( 0 );
L421: ( dom C150 ) = ( Seg ( len C150 ) ) by FINSEQ_1:def 3;
L422:
now
per cases ;
case L423: R1 = ( 0 );
L424: 1 in ( dom C150 ) by L423 , L419 , FINSEQ_3:25;
reconsider D50 = ( C150 . 1 ) as (Element of ( PFuncs (C147 , ( REAL )) )) by L424 , FINSEQ_2:11;
L425: C150 = <* D50 *> by L419 , L423 , FINSEQ_1:40;
L426: ( Sum C150 ) = D50 by L425 , FINSOP_1:11;
thus L427: (C148 is_common_for_dom C150 implies C148 in ( dom ( Sum C150 ) )) by L426 , L424 , L380;
assume L428: C148 in ( dom ( Sum C150 ) );
L429: (for R2 being (Element of ( NAT )) holds (R2 in ( dom C150 ) implies C148 in ( dom ( C150 . R2 ) ))) by L428 , L419 , L421 , L423 , L426 , FINSEQ_1:2 , TARSKI:def 1;
thus L430: C148 is_common_for_dom C150 by L429 , L380;
end;
case L431: R1 <> ( 0 );
L432: R1 <= ( R1 + 1 ) by NAT_1:11;
L433: ( ( 0 ) + 1 ) <= R1 by L431 , NAT_1:13;
L434: R1 in ( dom C150 ) by L433 , L419 , L432 , FINSEQ_3:25;
L435: ( ( 0 ) + 1 ) <= ( R1 + 1 ) by NAT_1:13;
L436: ( R1 + 1 ) in ( dom C150 ) by L435 , L419 , FINSEQ_3:25;
reconsider D51 = ( C150 . ( R1 + 1 ) ) as (Element of ( PFuncs (C147 , ( REAL )) )) by L436 , FINSEQ_2:11;
set D52 = ( C150 | R1 );
L437: ( len D52 ) = R1 by L419 , FINSEQ_1:59 , NAT_1:11;
L438: C150 = ( D52 ^ <* D51 *> ) by L419 , RFINSEQ:7;
L439: ( Sum C150 ) = ( ( Sum D52 ) + D51 ) by L438 , L255;
thus L440: (C148 is_common_for_dom C150 implies C148 in ( dom ( Sum C150 ) ))
proof
assume L441: C148 is_common_for_dom C150;
L442: C148 is_common_for_dom D52 by L441 , L431 , L382;
L443: C148 in ( dom ( Sum D52 ) ) by L442 , L418 , L431 , L437;
L444: C148 in ( dom D51 ) by L436 , L441 , L380;
L445: C148 in ( ( dom ( Sum D52 ) ) /\ ( dom D51 ) ) by L444 , L443 , XBOOLE_0:def 4;
thus L446: thesis by L445 , L439 , VALUED_1:def 1;
end;

assume L447: C148 in ( dom ( Sum C150 ) );
L448: C148 in ( ( dom ( Sum D52 ) ) /\ ( dom D51 ) ) by L447 , L439 , VALUED_1:def 1;
L449: C148 in ( dom ( Sum D52 ) ) by L448 , XBOOLE_0:def 4;
L450: C148 is_common_for_dom D52 by L449 , L418 , L431 , L437;
L451:
now
let R2 being (Element of ( NAT ));
assume that
L452: R2 in ( dom C150 );
set D53 = ( C150 . R2 );
L453: R2 <= ( len C150 ) by L452 , FINSEQ_3:25;
L454: 1 <= R2 by L452 , FINSEQ_3:25;
L455:
now
per cases ;
case L456: R2 = ( len C150 );
thus L457: C148 in ( dom D53 ) by L456 , L419 , L448 , XBOOLE_0:def 4;
end;
case L458: R2 <> ( len C150 );
L459: R2 < ( len C150 ) by L458 , L453 , XXREAL_0:1;
L460: R2 <= R1 by L459 , L419 , NAT_1:13;
L461: R2 in ( Seg R1 ) by L460 , L454 , FINSEQ_1:1;
L462: (( dom D52 ) = ( Seg ( len D52 ) ) & D53 = ( D52 . R2 )) by L461 , L434 , FINSEQ_1:def 3 , RFINSEQ:6;
thus L463: C148 in ( dom D53 ) by L462 , L437 , L450 , L461 , L380;
end;
end;
thus L465: C148 in ( dom D53 ) by L455;
end;
thus L466: C148 is_common_for_dom C150 by L451 , L380;
end;
end;
thus L468: thesis by L422;
end;
L469: S4[ ( 0 ) ];
L470: (for R1 being (Element of ( NAT )) holds S4[ R1 ]) from NAT_1:sch 1(L469 , L417);
thus L471: thesis by L470 , L416;
end;
theorem
L472: (for B106 being non  empty set holds (for B107 being (FinSequence of ( PFuncs (B106 , ( REAL )) )) holds (for B108 being (Element of B106) holds (for B109 being (Element of ( NAT )) holds ( ( B107 | B109 ) # B108 ) = ( ( B107 # B108 ) | B109 )))))
proof
let C151 being non  empty set;
let C152 being (FinSequence of ( PFuncs (C151 , ( REAL )) ));
let C153 being (Element of C151);
let C154 being (Element of ( NAT ));
L473: ( len ( C152 # C153 ) ) = ( len C152 ) by L359;
L474: ( len ( ( C152 | C154 ) # C153 ) ) = ( len ( C152 | C154 ) ) by L359;
L475:
now
per cases ;
case L476: ( len C152 ) <= C154;
L477: ( C152 | C154 ) = C152 by L476 , L47;
thus L478: thesis by L477 , L473 , L476 , L47;
end;
case L479: C154 < ( len C152 );
L480: ( len ( C152 | C154 ) ) = C154 by L479 , FINSEQ_1:59;
L481: ( len ( ( C152 # C153 ) | C154 ) ) = C154 by L473 , L479 , FINSEQ_1:59;
L482: (( dom C152 ) = ( Seg ( len C152 ) ) & ( dom ( C152 # C153 ) ) = ( Seg ( len ( C152 # C153 ) ) )) by FINSEQ_1:def 3;
L483: ( dom ( ( C152 | C154 ) # C153 ) ) = ( Seg ( len ( ( C152 | C154 ) # C153 ) ) ) by FINSEQ_1:def 3;
L484:
now
per cases ;
case L485: C154 = ( 0 );
L486: ( ( C152 # C153 ) | C154 ) = ( <*> ( REAL ) ) by L485;
thus L487: thesis by L486 , L474 , L485;
end;
case L488: C154 <> ( 0 );
L489: ( dom ( ( C152 # C153 ) | C154 ) ) = ( Seg ( len ( C152 | C154 ) ) ) by L480 , L481 , FINSEQ_1:def 3;
L490: ( ( 0 ) + 1 ) <= C154 by L488 , NAT_1:13;
L491: C154 in ( dom C152 ) by L490 , L479 , FINSEQ_3:25;
L492:
now
let C155 being Nat;
assume L493: C155 in ( dom ( ( C152 # C153 ) | C154 ) );
L494: C155 in ( dom ( C152 # C153 ) ) by L493 , L473 , L480 , L482 , L491 , L489 , RFINSEQ:6;
reconsider D54 = ( C152 . C155 ) as (Element of ( PFuncs (C151 , ( REAL )) )) by L494 , L473 , L482 , FINSEQ_2:11;
L495: ( ( ( C152 # C153 ) | C154 ) . C155 ) = ( ( C152 # C153 ) . C155 ) by L473 , L480 , L482 , L491 , L489 , L493 , RFINSEQ:6;
L496: ( ( ( C152 # C153 ) | C154 ) . C155 ) = ( D54 . C153 ) by L495 , L494 , L359;
L497: ( ( C152 | C154 ) . C155 ) = D54 by L480 , L491 , L489 , L493 , RFINSEQ:6;
thus L498: ( ( ( C152 # C153 ) | C154 ) . C155 ) = ( ( ( C152 | C154 ) # C153 ) . C155 ) by L497 , L474 , L483 , L489 , L493 , L496 , L359;
end;
thus L499: thesis by L492 , L474 , L480 , L481 , FINSEQ_2:9;
end;
end;
thus L501: thesis by L484;
end;
end;
thus L503: thesis by L475;
end;
theorem
L504: (for B110 being non  empty set holds (for B111 being FinSequence holds (for B112 being (Element of B110) holds B112 is_common_for_dom ( CHI (B111 , B110) ))))
proof
let C156 being non  empty set;
let C157 being FinSequence;
let C158 being (Element of C156);
let R1 being (Element of ( NAT ));
assume L505: R1 in ( dom ( CHI (C157 , C156) ) );
L506: ( ( CHI (C157 , C156) ) . R1 ) = ( chi (( C157 . R1 ) , C156) ) by L505 , L307;
L507: ( dom ( ( CHI (C157 , C156) ) . R1 ) ) = C156 by L506 , RFUNCT_1:61;
thus L508: thesis by L507;
end;
theorem
L509: (for B113 being non  empty set holds (for B114 being (Element of B113) holds (for B115 being (FinSequence of ( PFuncs (B113 , ( REAL )) )) holds (for B116 being (FinSequence of ( REAL )) holds (B114 is_common_for_dom B115 implies B114 is_common_for_dom ( B116 (#) B115 ))))))
proof
let C159 being non  empty set;
let C160 being (Element of C159);
let C161 being (FinSequence of ( PFuncs (C159 , ( REAL )) ));
let C162 being (FinSequence of ( REAL ));
assume L510: C160 is_common_for_dom C161;
set D55 = ( min (( len C162 ) , ( len C161 )) );
let R1 being (Element of ( NAT ));
assume L511: R1 in ( dom ( C162 (#) C161 ) );
set D56 = ( ( C162 (#) C161 ) . R1 );
L512: ( len ( C162 (#) C161 ) ) = D55 by L329;
L513: (D55 <= ( len C161 ) & R1 <= D55) by L512 , L511 , FINSEQ_3:25 , XXREAL_0:17;
L514: R1 <= ( len C161 ) by L513 , XXREAL_0:2;
L515: 1 <= R1 by L511 , FINSEQ_3:25;
L516: R1 in ( dom C161 ) by L515 , L514 , FINSEQ_3:25;
reconsider D57 = ( C161 . R1 ) as (Element of ( PFuncs (C159 , ( REAL )) )) by L516 , FINSEQ_2:11;
L517: C160 in ( dom D57 ) by L510 , L516 , L380;
reconsider D58 = ( C162 . R1 ) as Real;
L518: D56 = ( D58 (#) D57 ) by L511 , L329;
thus L519: thesis by L518 , L517 , VALUED_1:def 5;
end;
theorem
L520: (for B117 being non  empty set holds (for B118 being FinSequence holds (for B119 being (FinSequence of ( REAL )) holds (for B120 being (Element of B117) holds B120 is_common_for_dom ( B119 (#) ( CHI (B118 , B117) ) ))))) by L504 , L509;
theorem
L521: (for B121 being non  empty set holds (for B122 being (Element of B121) holds (for B123 being (FinSequence of ( PFuncs (B121 , ( REAL )) )) holds (B122 is_common_for_dom B123 implies ( ( Sum B123 ) . B122 ) = ( Sum ( B123 # B122 ) )))))
proof
let C163 being non  empty set;
let C164 being (Element of C163);
defpred S5[ (Element of ( NAT )) ] means (for B124 being (FinSequence of ( PFuncs (C163 , ( REAL )) )) holds ((( len B124 ) = $1 & C164 is_common_for_dom B124) implies ( ( Sum B124 ) . C164 ) = ( Sum ( B124 # C164 ) )));
let C165 being (FinSequence of ( PFuncs (C163 , ( REAL )) ));
assume L522: C164 is_common_for_dom C165;
L523: ( len C165 ) = ( len C165 );
L524: (for R1 being (Element of ( NAT )) holds (S5[ R1 ] implies S5[ ( R1 + 1 ) ]))
proof
let R1 being (Element of ( NAT ));
assume L525: S5[ R1 ];
let C166 being (FinSequence of ( PFuncs (C163 , ( REAL )) ));
assume that
L526: ( len C166 ) = ( R1 + 1 )
and
L527: C164 is_common_for_dom C166;
set D59 = ( C166 | R1 );
L528: ( len D59 ) = R1 by L526 , FINSEQ_1:59 , NAT_1:11;
L529: ( ( 0 ) + 1 ) <= ( R1 + 1 ) by NAT_1:13;
L530: ( R1 + 1 ) in ( dom C166 ) by L529 , L526 , FINSEQ_3:25;
reconsider D60 = ( C166 . ( R1 + 1 ) ) as (Element of ( PFuncs (C163 , ( REAL )) )) by L530 , FINSEQ_2:11;
L531: (( dom C166 ) = ( Seg ( len C166 ) ) & ( dom ( C166 # C164 ) ) = ( Seg ( len ( C166 # C164 ) ) )) by FINSEQ_1:def 3;
L532: C166 = ( D59 ^ <* D60 *> ) by L526 , RFINSEQ:7;
L533: ( Sum C166 ) = ( ( Sum D59 ) + D60 ) by L532 , L255;
L534: ( len ( C166 # C164 ) ) = ( len C166 ) by L359;
L535: C164 in ( dom D60 ) by L527 , L530 , L380;
L536:
now
per cases ;
case L537: R1 = ( 0 );
L538: ( len ( C166 # C164 ) ) = 1 by L537 , L526 , L359;
L539: 1 in ( dom ( C166 # C164 ) ) by L538 , FINSEQ_3:25;
L540:
now
let C167 being Nat;
assume L541: C167 in ( Seg 1 );
L542: C167 = 1 by L541 , FINSEQ_1:2 , TARSKI:def 1;
thus L543: ( ( C166 # C164 ) . C167 ) = ( D60 . C164 ) by L542 , L537 , L539 , L359
.= ( <* ( D60 . C164 ) *> . C167 ) by L542 , FINSEQ_1:40;
end;
L544: (( len <* ( D60 . C164 ) *> ) = 1 & ( dom ( C166 # C164 ) ) = ( Seg 1 )) by L538 , FINSEQ_1:40 , FINSEQ_1:def 3;
L545: ( C166 # C164 ) = <* ( D60 . C164 ) *> by L544 , L538 , L540 , FINSEQ_2:9;
L546: C166 = <* D60 *> by L526 , L537 , FINSEQ_1:40;
thus L547: ( ( Sum C166 ) . C164 ) = ( D60 . C164 ) by L546 , FINSOP_1:11
.= ( Sum ( C166 # C164 ) ) by L545 , FINSOP_1:11;
end;
case L548: R1 <> ( 0 );
L549: ( ( C166 # C164 ) . ( R1 + 1 ) ) = ( D60 . C164 ) by L531 , L534 , L530 , L359;
L550: C164 is_common_for_dom D59 by L527 , L548 , L382;
L551: C164 in ( dom ( Sum D59 ) ) by L550 , L528 , L548 , L415;
L552: C164 in ( ( dom ( Sum D59 ) ) /\ ( dom D60 ) ) by L551 , L535 , XBOOLE_0:def 4;
L553: C164 in ( dom ( ( Sum D59 ) + D60 ) ) by L552 , VALUED_1:def 1;
thus L554: ( ( Sum C166 ) . C164 ) = ( ( ( Sum D59 ) . C164 ) + ( D60 . C164 ) ) by L553 , L533 , VALUED_1:def 1
.= ( ( Sum ( D59 # C164 ) ) + ( D60 . C164 ) ) by L525 , L527 , L528 , L548 , L382
.= ( ( Sum ( ( C166 # C164 ) | R1 ) ) + ( D60 . C164 ) ) by L472
.= ( Sum ( ( ( C166 # C164 ) | R1 ) ^ <* ( D60 . C164 ) *> ) ) by RVSUM_1:74
.= ( Sum ( C166 # C164 ) ) by L526 , L534 , L549 , RFINSEQ:7;
end;
end;
thus L556: thesis by L536;
end;
L557: S5[ ( 0 ) ]
proof
let C168 being (FinSequence of ( PFuncs (C163 , ( REAL )) ));
assume that
L558: ( len C168 ) = ( 0 )
and
L559: C164 is_common_for_dom C168;
L560: C168 = ( <*> ( PFuncs (C163 , ( REAL )) ) ) by L558;
L561: ( ( Sum C168 ) . C164 ) = ( ( ( [#] C163 ) --> (( 0 ) qua Real) ) . C164 ) by L560 , L252
.= ( 0 ) by FUNCOP_1:7;
L562: ( len ( C168 # C164 ) ) = ( 0 ) by L558 , L359;
L563: ( C168 # C164 ) = ( <*> ( PFuncs (C163 , ( REAL )) ) ) by L562;
thus L564: thesis by L563 , L561 , RVSUM_1:72;
end;
L565: (for R1 being (Element of ( NAT )) holds S5[ R1 ]) from NAT_1:sch 1(L557 , L524);
thus L566: thesis by L565 , L522 , L523;
end;
definition
let C169 being non  empty set;
let C170 being (PartFunc of C169 , ( REAL ));
func max+ C170 -> (PartFunc of C169 , ( REAL )) means 
:L567: (( dom it ) = ( dom C170 ) & (for B125 being (Element of C169) holds (B125 in ( dom it ) implies ( it . B125 ) = ( max+ ( C170 . B125 ) ))));
existence
proof
deffunc H3(set) = ( max+ ( C170 . $1 ) );
defpred S6[ set ] means $1 in ( dom C170 );
consider C171 being (PartFunc of C169 , ( REAL )) such that L568: (for B126 being (Element of C169) holds (B126 in ( dom C171 ) iff S6[ B126 ])) and L569: (for B127 being (Element of C169) holds (B127 in ( dom C171 ) implies ( C171 . B127 ) = H3(B127))) from SEQ_1:sch 3;
take C171;
thus L570: ( dom C171 ) = ( dom C170 )
proof
thus L571: ( dom C171 ) c= ( dom C170 )
proof
let R5 being set;
assume L572: R5 in ( dom C171 );
thus L573: thesis by L572 , L568;
end;

let R5 being set;
assume L574: R5 in ( dom C170 );
thus L575: thesis by L574 , L568;
end;

thus L576: thesis by L569;
end;
uniqueness
proof
deffunc H4(set) = ( max+ ( C170 . $1 ) );
L577: (for B128 , B129 being (PartFunc of C169 , ( REAL )) holds ((( dom B128 ) = ( dom C170 ) & (for B130 being (Element of C169) holds (B130 in ( dom B128 ) implies ( B128 . B130 ) = H4(B130))) & ( dom B129 ) = ( dom C170 ) & (for B131 being (Element of C169) holds (B131 in ( dom B129 ) implies ( B129 . B131 ) = H4(B131)))) implies B128 = B129)) from SEQ_1:sch 4;
thus L578: thesis by L577;
end;
func max- C170 -> (PartFunc of C169 , ( REAL )) means 
:L579: (( dom it ) = ( dom C170 ) & (for B132 being (Element of C169) holds (B132 in ( dom it ) implies ( it . B132 ) = ( max- ( C170 . B132 ) ))));
existence
proof
deffunc H5(set) = ( max- ( C170 . $1 ) );
defpred S7[ set ] means $1 in ( dom C170 );
consider C172 being (PartFunc of C169 , ( REAL )) such that L580: (for B133 being (Element of C169) holds (B133 in ( dom C172 ) iff S7[ B133 ])) and L581: (for B134 being (Element of C169) holds (B134 in ( dom C172 ) implies ( C172 . B134 ) = H5(B134))) from SEQ_1:sch 3;
take C172;
thus L582: ( dom C172 ) = ( dom C170 )
proof
thus L583: ( dom C172 ) c= ( dom C170 )
proof
let R5 being set;
assume L584: R5 in ( dom C172 );
thus L585: thesis by L584 , L580;
end;

let R5 being set;
assume L586: R5 in ( dom C170 );
thus L587: thesis by L586 , L580;
end;

thus L588: thesis by L581;
end;
uniqueness
proof
deffunc H6(set) = ( max- ( C170 . $1 ) );
L589: (for B135 , B136 being (PartFunc of C169 , ( REAL )) holds ((( dom B135 ) = ( dom C170 ) & (for B137 being (Element of C169) holds (B137 in ( dom B135 ) implies ( B135 . B137 ) = H6(B137))) & ( dom B136 ) = ( dom C170 ) & (for B138 being (Element of C169) holds (B138 in ( dom B136 ) implies ( B136 . B138 ) = H6(B138)))) implies B135 = B136)) from SEQ_1:sch 4;
thus L590: thesis by L589;
end;
end;
theorem
L592: (for B139 being non  empty set holds (for B140 being (PartFunc of B139 , ( REAL )) holds (B140 = ( ( max+ B140 ) - ( max- B140 ) ) & ( abs B140 ) = ( ( max+ B140 ) + ( max- B140 ) ) & ( 2 (#) ( max+ B140 ) ) = ( B140 + ( abs B140 ) ))))
proof
let C173 being non  empty set;
let C174 being (PartFunc of C173 , ( REAL ));
L593: ( dom C174 ) = ( ( dom C174 ) /\ ( dom C174 ) );
L594: ( dom ( max+ C174 ) ) = ( dom C174 ) by L567;
L595: ( dom ( max- C174 ) ) = ( dom C174 ) by L579;
L596: ( dom ( - ( max- C174 ) ) ) = ( dom ( max- C174 ) ) by VALUED_1:def 5;
L597: ( dom C174 ) = ( dom ( ( max+ C174 ) + ( - ( max- C174 ) ) ) ) by L596 , L594 , L595 , L593 , VALUED_1:def 1;
L598:
now
let C175 being (Element of C173);
assume L599: C175 in ( dom C174 );
thus L600: ( ( ( max+ C174 ) - ( max- C174 ) ) . C175 ) = ( ( ( max+ C174 ) . C175 ) - ( ( max- C174 ) . C175 ) ) by L599 , L597 , VALUED_1:13
.= ( ( max+ ( C174 . C175 ) ) - ( ( max- C174 ) . C175 ) ) by L594 , L599 , L567
.= ( ( max+ ( C174 . C175 ) ) - ( max- ( C174 . C175 ) ) ) by L595 , L599 , L579
.= ( C174 . C175 ) by L2;
end;
thus L601: C174 = ( ( max+ C174 ) - ( max- C174 ) ) by L598 , L597 , PARTFUN1:5;
L602: ( dom ( abs C174 ) ) = ( dom C174 ) by VALUED_1:def 11;
L603: ( dom ( abs C174 ) ) = ( dom ( ( max+ C174 ) + ( max- C174 ) ) ) by L602 , L594 , L595 , L593 , VALUED_1:def 1;
L604:
now
let C176 being (Element of C173);
assume L605: C176 in ( dom ( abs C174 ) );
thus L606: ( ( ( max+ C174 ) + ( max- C174 ) ) . C176 ) = ( ( ( max+ C174 ) . C176 ) + ( ( max- C174 ) . C176 ) ) by L605 , L603 , VALUED_1:def 1
.= ( ( max+ ( C174 . C176 ) ) + ( ( max- C174 ) . C176 ) ) by L594 , L602 , L605 , L567
.= ( ( max+ ( C174 . C176 ) ) + ( max- ( C174 . C176 ) ) ) by L595 , L602 , L605 , L579
.= ( abs ( C174 . C176 ) ) by L12
.= ( ( abs C174 ) . C176 ) by VALUED_1:18;
end;
thus L607: ( abs C174 ) = ( ( max+ C174 ) + ( max- C174 ) ) by L604 , L603 , PARTFUN1:5;
L608: ( dom ( 2 (#) ( max+ C174 ) ) ) = ( dom ( max+ C174 ) ) by VALUED_1:def 5;
L609: ( dom ( 2 (#) ( max+ C174 ) ) ) = ( dom ( C174 + ( abs C174 ) ) ) by L608 , L594 , L602 , L593 , VALUED_1:def 1;
L610:
now
let C177 being (Element of C173);
assume L611: C177 in ( dom C174 );
thus L612: ( ( 2 (#) ( max+ C174 ) ) . C177 ) = ( 2 * ( ( max+ C174 ) . C177 ) ) by L611 , L594 , L608 , VALUED_1:def 5
.= ( 2 * ( max+ ( C174 . C177 ) ) ) by L594 , L611 , L567
.= ( ( C174 . C177 ) + ( abs ( C174 . C177 ) ) ) by L22
.= ( ( C174 . C177 ) + ( ( abs C174 ) . C177 ) ) by VALUED_1:18
.= ( ( C174 + ( abs C174 ) ) . C177 ) by L594 , L608 , L609 , L611 , VALUED_1:def 1;
end;
thus L613: thesis by L610 , L594 , L608 , L609 , PARTFUN1:5;
end;
theorem
L614: (for B141 being non  empty set holds (for B142 being (PartFunc of B141 , ( REAL )) holds (for B143 being Real holds (( 0 ) < B143 implies ( B142 " { B143 } ) = ( ( max+ B142 ) " { B143 } )))))
proof
let C178 being non  empty set;
let C179 being (PartFunc of C178 , ( REAL ));
let R3 being Real;
L615: ( dom ( max+ C179 ) ) = ( dom C179 ) by L567;
assume L616: ( 0 ) < R3;
thus L617: ( C179 " { R3 } ) c= ( ( max+ C179 ) " { R3 } )
proof
let R5 being set;
assume L618: R5 in ( C179 " { R3 } );
reconsider D61 = R5 as (Element of C178) by L618;
L619: ( C179 . D61 ) in { R3 } by L618 , FUNCT_1:def 7;
L620: ( C179 . D61 ) = R3 by L619 , TARSKI:def 1;
L621: D61 in ( dom C179 ) by L618 , FUNCT_1:def 7;
L622: ( ( max+ C179 ) . D61 ) = ( max+ ( C179 . D61 ) ) by L621 , L615 , L567
.= R3 by L616 , L620 , XXREAL_0:def 10;
L623: ( ( max+ C179 ) . D61 ) in { R3 } by L622 , TARSKI:def 1;
thus L624: thesis by L623 , L615 , L621 , FUNCT_1:def 7;
end;

let R5 being set;
assume L625: R5 in ( ( max+ C179 ) " { R3 } );
reconsider D62 = R5 as (Element of C178) by L625;
L626: ( ( max+ C179 ) . D62 ) in { R3 } by L625 , FUNCT_1:def 7;
L627: ( ( max+ C179 ) . D62 ) = R3 by L626 , TARSKI:def 1;
L628: D62 in ( dom C179 ) by L615 , L625 , FUNCT_1:def 7;
L629: ( ( max+ C179 ) . D62 ) = ( max+ ( C179 . D62 ) ) by L628 , L615 , L567
.= ( max (( C179 . D62 ) , ( 0 )) );
L630: ( C179 . D62 ) = R3 by L629 , L616 , L627 , XXREAL_0:16;
L631: ( C179 . D62 ) in { R3 } by L630 , TARSKI:def 1;
thus L632: thesis by L631 , L628 , FUNCT_1:def 7;
end;
theorem
L633: (for B144 being non  empty set holds (for B145 being (PartFunc of B144 , ( REAL )) holds ( B145 " ( left_closed_halfline ( 0 ) ) ) = ( ( max+ B145 ) " { ( 0 ) } )))
proof
set D63 = ( left_closed_halfline ( 0 ) );
let C180 being non  empty set;
let C181 being (PartFunc of C180 , ( REAL ));
L634: ( dom ( max+ C181 ) ) = ( dom C181 ) by L567;
L635: D63 = { R4 where R4 is Real : R4 <= ( 0 ) } by XXREAL_1:231;
thus L636: ( C181 " D63 ) c= ( ( max+ C181 ) " { ( 0 ) } )
proof
let R5 being set;
assume L637: R5 in ( C181 " D63 );
reconsider D64 = R5 as (Element of C180) by L637;
L638: ( C181 . D64 ) in D63 by L637 , FUNCT_1:def 7;
L639: (ex R4 being Real st (R4 = ( C181 . D64 ) & R4 <= ( 0 ))) by L638 , L635;
L640: ( max (( C181 . D64 ) , ( 0 )) ) = ( 0 ) by L639 , XXREAL_0:def 10;
L641: D64 in ( dom C181 ) by L637 , FUNCT_1:def 7;
L642: ( ( max+ C181 ) . D64 ) = ( max+ ( C181 . D64 ) ) by L641 , L634 , L567
.= ( max (( C181 . D64 ) , ( 0 )) );
L643: ( ( max+ C181 ) . D64 ) in { ( 0 ) } by L642 , L640 , TARSKI:def 1;
thus L644: thesis by L643 , L634 , L641 , FUNCT_1:def 7;
end;

let R5 being set;
assume L645: R5 in ( ( max+ C181 ) " { ( 0 ) } );
reconsider D65 = R5 as (Element of C180) by L645;
L646: ( ( max+ C181 ) . D65 ) in { ( 0 ) } by L645 , FUNCT_1:def 7;
L647: ( ( max+ C181 ) . D65 ) = ( 0 ) by L646 , TARSKI:def 1;
L648: D65 in ( dom C181 ) by L634 , L645 , FUNCT_1:def 7;
L649: ( ( max+ C181 ) . D65 ) = ( max+ ( C181 . D65 ) ) by L648 , L634 , L567
.= ( max (( C181 . D65 ) , ( 0 )) );
L650: ( C181 . D65 ) <= ( 0 ) by L649 , L647 , XXREAL_0:def 10;
L651: ( C181 . D65 ) in D63 by L650 , L635;
thus L652: thesis by L651 , L648 , FUNCT_1:def 7;
end;
theorem
L653: (for B146 being non  empty set holds (for B147 being (PartFunc of B146 , ( REAL )) holds (for B148 being (Element of B146) holds ( 0 ) <= ( ( max+ B147 ) . B148 ))))
proof
let C182 being non  empty set;
let C183 being (PartFunc of C182 , ( REAL ));
let C184 being (Element of C182);
L654: ( dom C183 ) = ( dom ( max+ C183 ) ) by L567;
per cases ;
suppose L655: C184 in ( dom C183 );

L656: ( ( max+ C183 ) . C184 ) = ( max+ ( C183 . C184 ) ) by L655 , L654 , L567
.= ( max (( C183 . C184 ) , ( 0 )) );
thus L657: thesis by L656 , XXREAL_0:25;
end;
suppose L658: (not C184 in ( dom C183 ));

thus L659: thesis by L658 , L654 , FUNCT_1:def 2;
end;
end;
theorem
L661: (for B149 being non  empty set holds (for B150 being (PartFunc of B149 , ( REAL )) holds (for B151 being Real holds (( 0 ) < B151 implies ( B150 " { ( - B151 ) } ) = ( ( max- B150 ) " { B151 } )))))
proof
let C185 being non  empty set;
let C186 being (PartFunc of C185 , ( REAL ));
let R3 being Real;
L662: ( dom ( max- C186 ) ) = ( dom C186 ) by L579;
assume L663: ( 0 ) < R3;
thus L664: ( C186 " { ( - R3 ) } ) c= ( ( max- C186 ) " { R3 } )
proof
let R5 being set;
assume L665: R5 in ( C186 " { ( - R3 ) } );
reconsider D66 = R5 as (Element of C185) by L665;
L666: ( C186 . D66 ) in { ( - R3 ) } by L665 , FUNCT_1:def 7;
L667: ( C186 . D66 ) = ( - R3 ) by L666 , TARSKI:def 1;
L668: D66 in ( dom C186 ) by L665 , FUNCT_1:def 7;
L669: ( ( max- C186 ) . D66 ) = ( max- ( C186 . D66 ) ) by L668 , L662 , L579
.= R3 by L663 , L667 , XXREAL_0:def 10;
L670: ( ( max- C186 ) . D66 ) in { R3 } by L669 , TARSKI:def 1;
thus L671: thesis by L670 , L662 , L668 , FUNCT_1:def 7;
end;

let R5 being set;
assume L672: R5 in ( ( max- C186 ) " { R3 } );
reconsider D67 = R5 as (Element of C185) by L672;
L673: ( ( max- C186 ) . D67 ) in { R3 } by L672 , FUNCT_1:def 7;
L674: ( ( max- C186 ) . D67 ) = R3 by L673 , TARSKI:def 1;
L675: D67 in ( dom C186 ) by L662 , L672 , FUNCT_1:def 7;
L676: ( ( max- C186 ) . D67 ) = ( max- ( C186 . D67 ) ) by L675 , L662 , L579
.= ( max (( - ( C186 . D67 ) ) , ( 0 )) );
L677: ( - ( C186 . D67 ) ) = R3 by L676 , L663 , L674 , XXREAL_0:16;
L678: ( C186 . D67 ) in { ( - R3 ) } by L677 , TARSKI:def 1;
thus L679: thesis by L678 , L675 , FUNCT_1:def 7;
end;
theorem
L680: (for B152 being non  empty set holds (for B153 being (PartFunc of B152 , ( REAL )) holds ( B153 " ( right_closed_halfline ( 0 ) ) ) = ( ( max- B153 ) " { ( 0 ) } )))
proof
set D68 = ( right_closed_halfline ( 0 ) );
let C187 being non  empty set;
let C188 being (PartFunc of C187 , ( REAL ));
L681: ( dom ( max- C188 ) ) = ( dom C188 ) by L579;
L682: D68 = { R4 where R4 is Real : ( 0 ) <= R4 } by XXREAL_1:232;
thus L683: ( C188 " D68 ) c= ( ( max- C188 ) " { ( 0 ) } )
proof
let R5 being set;
assume L684: R5 in ( C188 " D68 );
reconsider D69 = R5 as (Element of C187) by L684;
L685: ( C188 . D69 ) in D68 by L684 , FUNCT_1:def 7;
L686: (ex R4 being Real st (R4 = ( C188 . D69 ) & ( 0 ) <= R4)) by L685 , L682;
L687: ( max (( - ( C188 . D69 ) ) , ( 0 )) ) = ( 0 ) by L686 , XXREAL_0:def 10;
L688: D69 in ( dom C188 ) by L684 , FUNCT_1:def 7;
L689: ( ( max- C188 ) . D69 ) = ( max- ( C188 . D69 ) ) by L688 , L681 , L579
.= ( max (( - ( C188 . D69 ) ) , ( 0 )) );
L690: ( ( max- C188 ) . D69 ) in { ( 0 ) } by L689 , L687 , TARSKI:def 1;
thus L691: thesis by L690 , L681 , L688 , FUNCT_1:def 7;
end;

let R5 being set;
assume L692: R5 in ( ( max- C188 ) " { ( 0 ) } );
reconsider D70 = R5 as (Element of C187) by L692;
L693: ( ( max- C188 ) . D70 ) in { ( 0 ) } by L692 , FUNCT_1:def 7;
L694: ( ( max- C188 ) . D70 ) = ( 0 ) by L693 , TARSKI:def 1;
L695: D70 in ( dom C188 ) by L681 , L692 , FUNCT_1:def 7;
L696: ( ( max- C188 ) . D70 ) = ( max- ( C188 . D70 ) ) by L695 , L681 , L579
.= ( max (( - ( C188 . D70 ) ) , ( 0 )) );
L697: ( - ( C188 . D70 ) ) <= ( - ( 0 ) ) by L696 , L694 , XXREAL_0:def 10;
L698: ( 0 ) <= ( C188 . D70 ) by L697 , XREAL_1:24;
L699: ( C188 . D70 ) in D68 by L698 , L682;
thus L700: thesis by L699 , L695 , FUNCT_1:def 7;
end;
theorem
L701: (for B154 being non  empty set holds (for B155 being (PartFunc of B154 , ( REAL )) holds (for B156 being (Element of B154) holds ( 0 ) <= ( ( max- B155 ) . B156 ))))
proof
let C189 being non  empty set;
let C190 being (PartFunc of C189 , ( REAL ));
let C191 being (Element of C189);
L702: ( dom C190 ) = ( dom ( max- C190 ) ) by L579;
per cases ;
suppose L703: C191 in ( dom C190 );

L704: ( ( max- C190 ) . C191 ) = ( max- ( C190 . C191 ) ) by L703 , L702 , L579
.= ( max (( - ( C190 . C191 ) ) , ( 0 )) );
thus L705: thesis by L704 , XXREAL_0:25;
end;
suppose L706: (not C191 in ( dom C190 ));

thus L707: thesis by L706 , L702 , FUNCT_1:def 2;
end;
end;
theorem
L709: (for B157 , B158 being non  empty set holds (for B159 being (PartFunc of B157 , ( REAL )) holds (for B160 being (PartFunc of B158 , ( REAL )) holds (B159 , B160 are_fiberwise_equipotent  implies ( max+ B159 ) , ( max+ B160 ) are_fiberwise_equipotent ))))
proof
set D71 = ( left_closed_halfline ( 0 ) );
let C192 , C193 being non  empty set;
let C194 being (PartFunc of C192 , ( REAL ));
let C195 being (PartFunc of C193 , ( REAL ));
assume L710: C194 , C195 are_fiberwise_equipotent ;
L711:
now
let R3 being Real;
L712:
now
per cases ;
case L713: ( 0 ) < R3;
L714: (( Coim (C194 , R3) ) = ( Coim (( max+ C194 ) , R3) ) & ( Coim (C195 , R3) ) = ( Coim (( max+ C195 ) , R3) )) by L713 , L614;
thus L715: ( card ( Coim (( max+ C194 ) , R3) ) ) = ( card ( Coim (( max+ C195 ) , R3) ) ) by L714 , L710 , CLASSES1:def 9;
end;
case L716: R3 = ( 0 );
L717: (( C194 " D71 ) = ( ( max+ C194 ) " { ( 0 ) } ) & ( C195 " D71 ) = ( ( max+ C195 ) " { ( 0 ) } )) by L633;
thus L718: ( card ( ( max+ C194 ) " { R3 } ) ) = ( card ( ( max+ C195 ) " { R3 } ) ) by L717 , L710 , L716 , CLASSES1:78;
end;
case L719: R3 < ( 0 );
L720:
now
assume L721: R3 in ( rng ( max+ C194 ) );
L722: (ex B161 being (Element of C192) st (B161 in ( dom ( max+ C194 ) ) & ( ( max+ C194 ) . B161 ) = R3)) by L721 , PARTFUN1:3;
thus L723: contradiction by L722 , L719 , L653;
end;
L724: ( ( max+ C194 ) " { R3 } ) = ( {} ) by L720 , L52;
L725:
now
assume L726: R3 in ( rng ( max+ C195 ) );
L727: (ex B162 being (Element of C193) st (B162 in ( dom ( max+ C195 ) ) & ( ( max+ C195 ) . B162 ) = R3)) by L726 , PARTFUN1:3;
thus L728: contradiction by L727 , L719 , L653;
end;
thus L729: ( card ( ( max+ C194 ) " { R3 } ) ) = ( card ( ( max+ C195 ) " { R3 } ) ) by L725 , L724 , L52;
end;
end;
thus L731: ( card ( Coim (( max+ C194 ) , R3) ) ) = ( card ( Coim (( max+ C195 ) , R3) ) ) by L712;
end;
L732: (( rng ( max+ C194 ) ) c= ( REAL ) & ( rng ( max+ C195 ) ) c= ( REAL ));
thus L733: thesis by L732 , L711 , CLASSES1:79;
end;
theorem
L734: (for B163 , B164 being non  empty set holds (for B165 being (PartFunc of B163 , ( REAL )) holds (for B166 being (PartFunc of B164 , ( REAL )) holds (B165 , B166 are_fiberwise_equipotent  implies ( max- B165 ) , ( max- B166 ) are_fiberwise_equipotent ))))
proof
set D72 = ( right_closed_halfline ( 0 ) );
let C196 , C197 being non  empty set;
let C198 being (PartFunc of C196 , ( REAL ));
let C199 being (PartFunc of C197 , ( REAL ));
assume L735: C198 , C199 are_fiberwise_equipotent ;
L736:
now
let R3 being Real;
L737:
now
per cases ;
case L738: ( 0 ) < R3;
L739: (( Coim (C198 , ( - R3 )) ) = ( ( max- C198 ) " { R3 } ) & ( Coim (C199 , ( - R3 )) ) = ( ( max- C199 ) " { R3 } )) by L738 , L661;
thus L740: ( card ( Coim (( max- C198 ) , R3) ) ) = ( card ( Coim (( max- C199 ) , R3) ) ) by L739 , L735 , CLASSES1:def 9;
end;
case L741: R3 = ( 0 );
L742: (( C198 " D72 ) = ( ( max- C198 ) " { ( 0 ) } ) & ( C199 " D72 ) = ( ( max- C199 ) " { ( 0 ) } )) by L680;
thus L743: ( card ( ( max- C198 ) " { R3 } ) ) = ( card ( ( max- C199 ) " { R3 } ) ) by L742 , L735 , L741 , CLASSES1:78;
end;
case L744: R3 < ( 0 );
L745:
now
assume L746: R3 in ( rng ( max- C198 ) );
L747: (ex B167 being (Element of C196) st (B167 in ( dom ( max- C198 ) ) & ( ( max- C198 ) . B167 ) = R3)) by L746 , PARTFUN1:3;
thus L748: contradiction by L747 , L744 , L701;
end;
L749: ( ( max- C198 ) " { R3 } ) = ( {} ) by L745 , L52;
L750:
now
assume L751: R3 in ( rng ( max- C199 ) );
L752: (ex B168 being (Element of C197) st (B168 in ( dom ( max- C199 ) ) & ( ( max- C199 ) . B168 ) = R3)) by L751 , PARTFUN1:3;
thus L753: contradiction by L752 , L744 , L701;
end;
thus L754: ( card ( ( max- C198 ) " { R3 } ) ) = ( card ( ( max- C199 ) " { R3 } ) ) by L750 , L749 , L52;
end;
end;
thus L756: ( card ( Coim (( max- C198 ) , R3) ) ) = ( card ( Coim (( max- C199 ) , R3) ) ) by L737;
end;
L757: (( rng ( max- C198 ) ) c= ( REAL ) & ( rng ( max- C199 ) ) c= ( REAL ));
thus L758: thesis by L757 , L736 , CLASSES1:79;
end;
registration
let C200 being non  empty set;
let C201 being  finite (PartFunc of C200 , ( REAL ));
cluster ( max+ C201 ) ->  finite;
coherence
proof
L759: ( dom C201 ) is  finite;
L760: ( dom ( max+ C201 ) ) is  finite by L759 , L567;
thus L761: thesis by L760 , FINSET_1:10;
end;
cluster ( max- C201 ) ->  finite;
coherence
proof
L762: ( dom C201 ) is  finite;
L763: ( dom ( max- C201 ) ) is  finite by L762 , L579;
thus L764: thesis by L763 , FINSET_1:10;
end;
end;
theorem
L766: (for B169 , B170 being non  empty set holds (for B171 being  finite (PartFunc of B169 , ( REAL )) holds (for B172 being  finite (PartFunc of B170 , ( REAL )) holds ((( max+ B171 ) , ( max+ B172 ) are_fiberwise_equipotent  & ( max- B171 ) , ( max- B172 ) are_fiberwise_equipotent ) implies B171 , B172 are_fiberwise_equipotent ))))
proof
let C202 , C203 being non  empty set;
let C204 being  finite (PartFunc of C202 , ( REAL ));
let C205 being  finite (PartFunc of C203 , ( REAL ));
assume that
L767: ( max+ C204 ) , ( max+ C205 ) are_fiberwise_equipotent 
and
L768: ( max- C204 ) , ( max- C205 ) are_fiberwise_equipotent ;
set D73 = ( left_closed_halfline ( 0 ) );
set D74 = ( right_closed_halfline ( 0 ) );
set D75 = ( ( max+ C204 ) " { ( 0 ) } );
set D76 = ( ( max- C204 ) " { ( 0 ) } );
set D77 = ( ( max+ C205 ) " { ( 0 ) } );
set D78 = ( ( max- C205 ) " { ( 0 ) } );
L769: ( D73 /\ D74 ) = [. ( 0 ) , ( 0 ) .] by XXREAL_1:272
.= { ( 0 ) } by XXREAL_1:17;
L770: ( C204 " ( rng C204 ) ) c= ( C204 " ( REAL ) ) by RELAT_1:143;
L771: (( C204 " ( REAL ) ) c= ( dom C204 ) & ( dom C204 ) c= ( C204 " ( REAL ) )) by L770 , RELAT_1:132 , RELAT_1:134;
L772: (( C204 " D73 ) = D75 & ( C204 " D74 ) = D76) by L633 , L680;
L773: ( C205 " ( rng C205 ) ) c= ( C205 " ( REAL ) ) by RELAT_1:143;
L774: (( C205 " ( REAL ) ) c= ( dom C205 ) & ( dom C205 ) c= ( C205 " ( REAL ) )) by L773 , RELAT_1:132 , RELAT_1:134;
L775: (( C205 " D73 ) = D77 & ( C205 " D74 ) = D78) by L633 , L680;
reconsider D79 = D75 , D80 = D76 , D81 = D77 , D82 = D78 as  finite set;
L776: ( D73 \/ D74 ) = ( ( REAL ) \ ]. ( 0 ) , ( 0 ) .[ ) by XXREAL_1:398
.= ( ( REAL ) \ ( {} ) ) by XXREAL_1:28
.= ( REAL );
L777: ( D79 \/ D80 ) = ( C204 " ( REAL ) ) by L776 , L772 , RELAT_1:140;
L778: ( D79 \/ D80 ) = ( dom C204 ) by L777 , L771 , XBOOLE_0:def 10;
L779: ( D81 \/ D82 ) = ( C205 " ( D73 \/ D74 ) ) by L775 , RELAT_1:140;
L780: ( D81 \/ D82 ) = ( dom C205 ) by L779 , L776 , L774 , XBOOLE_0:def 10;
L781: ( card ( D79 \/ D80 ) ) = ( ( ( card D79 ) + ( card D80 ) ) - ( card ( D79 /\ D80 ) ) ) by CARD_2:45;
L782: ( card ( D79 /\ D80 ) ) = ( ( ( card D79 ) + ( card D80 ) ) - ( card ( D79 \/ D80 ) ) ) by L781;
L783: ( card ( D81 \/ D82 ) ) = ( ( ( card D81 ) + ( card D82 ) ) - ( card ( D81 /\ D82 ) ) ) by CARD_2:45;
L784: ( card ( D81 /\ D82 ) ) = ( ( ( card D81 ) + ( card D82 ) ) - ( card ( D81 \/ D82 ) ) ) by L783;
L785: (( dom C204 ) = ( dom ( max+ C204 ) ) & ( dom C205 ) = ( dom ( max+ C205 ) )) by L567;
L786:
now
let R3 being Real;
L787: (( card D79 ) = ( card D81 ) & ( card D80 ) = ( card D82 )) by L767 , L768 , CLASSES1:78;
L788:
now
per cases ;
case L789: ( 0 ) < R3;
L790: (( Coim (C204 , R3) ) = ( Coim (( max+ C204 ) , R3) ) & ( Coim (C205 , R3) ) = ( Coim (( max+ C205 ) , R3) )) by L789 , L614;
thus L791: ( card ( Coim (C204 , R3) ) ) = ( card ( Coim (C205 , R3) ) ) by L790 , L767 , CLASSES1:def 9;
end;
case L792: ( 0 ) = R3;
L793: (( C204 " { R3 } ) = ( ( C204 " D73 ) /\ ( C204 " D74 ) ) & ( C205 " { R3 } ) = ( ( C205 " D73 ) /\ ( C205 " D74 ) )) by L792 , L769 , FUNCT_1:68;
thus L794: ( card ( C204 " { R3 } ) ) = ( card ( C205 " { R3 } ) ) by L793 , L767 , L785 , L772 , L775 , L782 , L784 , L778 , L780 , L787 , CLASSES1:81;
end;
case L795: R3 < ( 0 );
L796: ( - ( - R3 ) ) = R3;
L797: ( 0 ) < ( - R3 ) by L795 , XREAL_1:58;
L798: (( Coim (C204 , R3) ) = ( Coim (( max- C204 ) , ( - R3 )) ) & ( Coim (C205 , R3) ) = ( Coim (( max- C205 ) , ( - R3 )) )) by L797 , L796 , L661;
thus L799: ( card ( Coim (C204 , R3) ) ) = ( card ( Coim (C205 , R3) ) ) by L798 , L768 , CLASSES1:def 9;
end;
end;
thus L801: ( card ( Coim (C204 , R3) ) ) = ( card ( Coim (C205 , R3) ) ) by L788;
end;
L802: (( rng C204 ) c= ( REAL ) & ( rng C205 ) c= ( REAL ));
thus L803: thesis by L802 , L786 , CLASSES1:79;
end;
theorem
L804: (for B173 being non  empty set holds (for B174 being (PartFunc of B173 , ( REAL )) holds (for B175 being set holds ( ( max+ B174 ) | B175 ) = ( max+ ( B174 | B175 ) ))))
proof
let C206 being non  empty set;
let C207 being (PartFunc of C206 , ( REAL ));
let C208 being set;
L805: ( dom ( ( max+ C207 ) | C208 ) ) = ( ( dom ( max+ C207 ) ) /\ C208 ) by RELAT_1:61;
L806: ( ( dom ( max+ C207 ) ) /\ C208 ) = ( ( dom C207 ) /\ C208 ) by L567
.= ( dom ( C207 | C208 ) ) by RELAT_1:61;
L807: ( dom ( C207 | C208 ) ) = ( dom ( max+ ( C207 | C208 ) ) ) by L567;
L808:
now
let C209 being (Element of C206);
assume L809: C209 in ( dom ( ( max+ C207 ) | C208 ) );
L810: C209 in ( dom ( max+ C207 ) ) by L809 , L805 , XBOOLE_0:def 4;
thus L811: ( ( ( max+ C207 ) | C208 ) . C209 ) = ( ( max+ C207 ) . C209 ) by L809 , FUNCT_1:47
.= ( max+ ( C207 . C209 ) ) by L810 , L567
.= ( max+ ( ( C207 | C208 ) . C209 ) ) by L805 , L806 , L809 , FUNCT_1:47
.= ( ( max+ ( C207 | C208 ) ) . C209 ) by L805 , L806 , L807 , L809 , L567;
end;
thus L812: thesis by L808 , L806 , L807 , PARTFUN1:5 , RELAT_1:61;
end;
theorem
L813: (for B176 being non  empty set holds (for B177 being (PartFunc of B176 , ( REAL )) holds (for B178 being set holds ( ( max- B177 ) | B178 ) = ( max- ( B177 | B178 ) ))))
proof
let C210 being non  empty set;
let C211 being (PartFunc of C210 , ( REAL ));
let C212 being set;
L814: ( dom ( ( max- C211 ) | C212 ) ) = ( ( dom ( max- C211 ) ) /\ C212 ) by RELAT_1:61;
L815: ( ( dom ( max- C211 ) ) /\ C212 ) = ( ( dom C211 ) /\ C212 ) by L579
.= ( dom ( C211 | C212 ) ) by RELAT_1:61;
L816: ( dom ( C211 | C212 ) ) = ( dom ( max- ( C211 | C212 ) ) ) by L579;
L817:
now
let C213 being (Element of C210);
assume L818: C213 in ( dom ( ( max- C211 ) | C212 ) );
L819: C213 in ( dom ( max- C211 ) ) by L818 , L814 , XBOOLE_0:def 4;
thus L820: ( ( ( max- C211 ) | C212 ) . C213 ) = ( ( max- C211 ) . C213 ) by L818 , FUNCT_1:47
.= ( max- ( C211 . C213 ) ) by L819 , L579
.= ( max- ( ( C211 | C212 ) . C213 ) ) by L814 , L815 , L818 , FUNCT_1:47
.= ( ( max- ( C211 | C212 ) ) . C213 ) by L814 , L815 , L816 , L818 , L579;
end;
thus L821: thesis by L817 , L815 , L816 , PARTFUN1:5 , RELAT_1:61;
end;
theorem
L822: (for B179 being non  empty set holds (for B180 being (PartFunc of B179 , ( REAL )) holds ((for B181 being (Element of B179) holds (B181 in ( dom B180 ) implies ( B180 . B181 ) >= ( 0 ))) implies ( max+ B180 ) = B180)))
proof
let C214 being non  empty set;
let C215 being (PartFunc of C214 , ( REAL ));
L823: ( dom ( max+ C215 ) ) = ( dom C215 ) by L567;
assume L824: (for B182 being (Element of C214) holds (B182 in ( dom C215 ) implies ( C215 . B182 ) >= ( 0 )));
L825:
now
let C216 being (Element of C214);
assume L826: C216 in ( dom C215 );
L827: ( C215 . C216 ) >= ( 0 ) by L826 , L824;
thus L828: ( ( max+ C215 ) . C216 ) = ( max+ ( C215 . C216 ) ) by L823 , L826 , L567
.= ( C215 . C216 ) by L827 , XXREAL_0:def 10;
end;
thus L829: thesis by L825 , L823 , PARTFUN1:5;
end;
theorem
L830: (for B183 being non  empty set holds (for B184 being (PartFunc of B183 , ( REAL )) holds ((for B185 being (Element of B183) holds (B185 in ( dom B184 ) implies ( B184 . B185 ) <= ( 0 ))) implies ( max- B184 ) = ( - B184 ))))
proof
let C217 being non  empty set;
let C218 being (PartFunc of C217 , ( REAL ));
L831: ( dom ( max- C218 ) ) = ( dom C218 ) by L579;
assume L832: (for B186 being (Element of C217) holds (B186 in ( dom C218 ) implies ( C218 . B186 ) <= ( 0 )));
L833:
now
let C219 being (Element of C217);
assume L834: C219 in ( dom C218 );
L835: ( C218 . C219 ) <= ( 0 ) by L834 , L832;
thus L836: ( ( max- C218 ) . C219 ) = ( max- ( C218 . C219 ) ) by L831 , L834 , L579
.= ( - ( C218 . C219 ) ) by L835 , XXREAL_0:def 10
.= ( ( - C218 ) . C219 ) by VALUED_1:8;
end;
L837: ( dom C218 ) = ( dom ( - C218 ) ) by VALUED_1:8;
thus L838: thesis by L837 , L831 , L833 , PARTFUN1:5;
end;
theorem
L839: (for B187 being non  empty set holds (for B188 being (PartFunc of B187 , ( REAL )) holds ( B188 - ( 0 ) ) = B188))
proof
let C220 being non  empty set;
let C221 being (PartFunc of C220 , ( REAL ));
L840:
now
let C222 being (Element of C220);
assume L841: C222 in ( dom C221 );
thus L842: ( ( C221 - ( 0 ) ) . C222 ) = ( ( C221 . C222 ) - ( 0 ) ) by L841 , VALUED_1:3
.= ( C221 . C222 );
end;
L843: ( dom ( C221 - ( 0 ) ) ) = ( dom C221 ) by VALUED_1:3;
thus L844: thesis by L843 , L840 , PARTFUN1:5;
end;
theorem
L845: (for B189 being non  empty set holds (for B190 being (PartFunc of B189 , ( REAL )) holds (for B191 being Real holds (for B192 being set holds ( ( B190 | B192 ) - B191 ) = ( ( B190 - B191 ) | B192 )))))
proof
let C223 being non  empty set;
let C224 being (PartFunc of C223 , ( REAL ));
let C225 being Real;
let C226 being set;
L846: ( dom ( ( C224 | C226 ) - C225 ) ) = ( dom ( C224 | C226 ) ) by VALUED_1:3;
L847: ( dom ( C224 | C226 ) ) = ( ( dom C224 ) /\ C226 ) by RELAT_1:61;
L848: ( ( dom C224 ) /\ C226 ) = ( ( dom ( C224 - C225 ) ) /\ C226 ) by VALUED_1:3
.= ( dom ( ( C224 - C225 ) | C226 ) ) by RELAT_1:61;
L849:
now
let C227 being (Element of C223);
assume L850: C227 in ( dom ( ( C224 | C226 ) - C225 ) );
L851: C227 in ( dom C224 ) by L850 , L846 , L847 , XBOOLE_0:def 4;
thus L852: ( ( ( C224 | C226 ) - C225 ) . C227 ) = ( ( ( C224 | C226 ) . C227 ) - C225 ) by L846 , L850 , VALUED_1:3
.= ( ( C224 . C227 ) - C225 ) by L846 , L850 , FUNCT_1:47
.= ( ( C224 - C225 ) . C227 ) by L851 , VALUED_1:3
.= ( ( ( C224 - C225 ) | C226 ) . C227 ) by L846 , L847 , L848 , L850 , FUNCT_1:47;
end;
thus L853: thesis by L849 , L847 , L848 , PARTFUN1:5 , VALUED_1:3;
end;
theorem
L854: (for B193 being non  empty set holds (for B194 being (PartFunc of B193 , ( REAL )) holds (for B195 , B196 being Real holds ( B194 " { ( B196 + B195 ) } ) = ( ( B194 - B195 ) " { B196 } ))))
proof
let C228 being non  empty set;
let C229 being (PartFunc of C228 , ( REAL ));
let R3 being Real;
let R4 being Real;
thus L855: ( C229 " { ( R4 + R3 ) } ) c= ( ( C229 - R3 ) " { R4 } )
proof
let R5 being set;
assume L856: R5 in ( C229 " { ( R4 + R3 ) } );
reconsider D83 = R5 as (Element of C228) by L856;
L857: D83 in ( dom C229 ) by L856 , FUNCT_1:def 7;
L858: ( C229 . D83 ) in { ( R4 + R3 ) } by L856 , FUNCT_1:def 7;
L859: ( C229 . D83 ) = ( R4 + R3 ) by L858 , TARSKI:def 1;
L860: ( ( C229 . D83 ) - R3 ) = R4 by L859;
L861: ( ( C229 - R3 ) . D83 ) = R4 by L860 , L857 , VALUED_1:3;
L862: ( ( C229 - R3 ) . D83 ) in { R4 } by L861 , TARSKI:def 1;
L863: D83 in ( dom ( C229 - R3 ) ) by L857 , VALUED_1:3;
thus L864: thesis by L863 , L862 , FUNCT_1:def 7;
end;

let R5 being set;
assume L865: R5 in ( ( C229 - R3 ) " { R4 } );
reconsider D84 = R5 as (Element of C228) by L865;
L866: D84 in ( dom ( C229 - R3 ) ) by L865 , FUNCT_1:def 7;
L867: D84 in ( dom C229 ) by L866 , VALUED_1:3;
L868: ( ( C229 - R3 ) . D84 ) in { R4 } by L865 , FUNCT_1:def 7;
L869: ( ( C229 - R3 ) . D84 ) = R4 by L868 , TARSKI:def 1;
L870: ( ( C229 . D84 ) - R3 ) = R4 by L869 , L867 , VALUED_1:3;
L871: ( C229 . D84 ) in { ( R4 + R3 ) } by L870 , TARSKI:def 1;
thus L872: thesis by L871 , L867 , FUNCT_1:def 7;
end;
theorem
L873: (for B197 , B198 being non  empty set holds (for B199 being (PartFunc of B197 , ( REAL )) holds (for B200 being (PartFunc of B198 , ( REAL )) holds (for B201 being Real holds (B199 , B200 are_fiberwise_equipotent  iff ( B199 - B201 ) , ( B200 - B201 ) are_fiberwise_equipotent )))))
proof
let C230 , C231 being non  empty set;
let C232 being (PartFunc of C230 , ( REAL ));
let C233 being (PartFunc of C231 , ( REAL ));
let C234 being Real;
L874: (( rng ( C232 - C234 ) ) c= ( REAL ) & ( rng ( C233 - C234 ) ) c= ( REAL ));
thus L875: (C232 , C233 are_fiberwise_equipotent  implies ( C232 - C234 ) , ( C233 - C234 ) are_fiberwise_equipotent )
proof
assume L876: C232 , C233 are_fiberwise_equipotent ;
L877:
now
let R4 being Real;
thus L878: ( card ( Coim (( C232 - C234 ) , R4) ) ) = ( card ( Coim (C232 , ( R4 + C234 )) ) ) by L854
.= ( card ( Coim (C233 , ( R4 + C234 )) ) ) by L876 , CLASSES1:def 9
.= ( card ( Coim (( C233 - C234 ) , R4) ) ) by L854;
end;
thus L879: thesis by L877 , L874 , CLASSES1:79;
end;

assume L880: ( C232 - C234 ) , ( C233 - C234 ) are_fiberwise_equipotent ;
L881:
now
let R4 being Real;
L882: R4 = ( ( R4 - C234 ) + C234 );
thus L883: ( card ( Coim (C232 , R4) ) ) = ( card ( Coim (( C232 - C234 ) , ( R4 - C234 )) ) ) by L882 , L854
.= ( card ( Coim (( C233 - C234 ) , ( R4 - C234 )) ) ) by L880 , CLASSES1:def 9
.= ( card ( Coim (C233 , R4) ) ) by L882 , L854;
end;
L884: (( rng C232 ) c= ( REAL ) & ( rng C233 ) c= ( REAL ));
thus L885: thesis by L884 , L881 , CLASSES1:79;
end;
definition
let C235 being (PartFunc of ( REAL ) , ( REAL ));
let C236 being set;
pred C235 is_convex_on C236
means
:L886: (C236 c= ( dom C235 ) & (for B202 being Real holds ((( 0 ) <= B202 & B202 <= 1) implies (for B203 , B204 being Real holds ((B203 in C236 & B204 in C236 & ( ( B202 * B203 ) + ( ( 1 - B202 ) * B204 ) ) in C236) implies ( C235 . ( ( B202 * B203 ) + ( ( 1 - B202 ) * B204 ) ) ) <= ( ( B202 * ( C235 . B203 ) ) + ( ( 1 - B202 ) * ( C235 . B204 ) ) ))))))
;end;
theorem
L888: (for B205 , B206 being Real holds (for B207 being (PartFunc of ( REAL ) , ( REAL )) holds (B207 is_convex_on [. B205 , B206 .] iff ([. B205 , B206 .] c= ( dom B207 ) & (for B208 being Real holds ((( 0 ) <= B208 & B208 <= 1) implies (for B209 , B210 being Real holds ((B209 in [. B205 , B206 .] & B210 in [. B205 , B206 .]) implies ( B207 . ( ( B208 * B209 ) + ( ( 1 - B208 ) * B210 ) ) ) <= ( ( B208 * ( B207 . B209 ) ) + ( ( 1 - B208 ) * ( B207 . B210 ) ) )))))))))
proof
let C237 , C238 being Real;
let C239 being (PartFunc of ( REAL ) , ( REAL ));
set D85 = { B211 where B211 is Real : (C237 <= B211 & B211 <= C238) };
L889: [. C237 , C238 .] = D85 by RCOMP_1:def 1;
thus L890: (C239 is_convex_on [. C237 , C238 .] implies ([. C237 , C238 .] c= ( dom C239 ) & (for B212 being Real holds ((( 0 ) <= B212 & B212 <= 1) implies (for B213 , B214 being Real holds ((B213 in [. C237 , C238 .] & B214 in [. C237 , C238 .]) implies ( C239 . ( ( B212 * B213 ) + ( ( 1 - B212 ) * B214 ) ) ) <= ( ( B212 * ( C239 . B213 ) ) + ( ( 1 - B212 ) * ( C239 . B214 ) ) )))))))
proof
assume L891: C239 is_convex_on [. C237 , C238 .];
thus L892: [. C237 , C238 .] c= ( dom C239 ) by L891 , L886;
let C240 being Real;
assume that
L893: ( 0 ) <= C240
and
L894: C240 <= 1;
L895: ( 0 ) <= ( 1 - C240 ) by L894 , XREAL_1:48;
L896: ( ( C240 * C238 ) + ( ( 1 - C240 ) * C238 ) ) = C238;
L897: ( ( C240 * C237 ) + ( ( 1 - C240 ) * C237 ) ) = C237;
let C241 , C242 being Real;
assume that
L898: C241 in [. C237 , C238 .]
and
L899: C242 in [. C237 , C238 .];
L900: (ex B215 being Real st (B215 = C242 & C237 <= B215 & B215 <= C238)) by L889 , L899;
L901: ( ( 1 - C240 ) * C242 ) <= ( ( 1 - C240 ) * C238 ) by L900 , L895 , XREAL_1:64;
L902: (ex B216 being Real st (B216 = C241 & C237 <= B216 & B216 <= C238)) by L889 , L898;
L903: ( C240 * C241 ) <= ( C240 * C238 ) by L902 , L893 , XREAL_1:64;
L904: ( ( C240 * C241 ) + ( ( 1 - C240 ) * C242 ) ) <= C238 by L903 , L901 , L896 , XREAL_1:7;
L905: ( ( 1 - C240 ) * C237 ) <= ( ( 1 - C240 ) * C242 ) by L895 , L900 , XREAL_1:64;
L906: ( C240 * C237 ) <= ( C240 * C241 ) by L893 , L902 , XREAL_1:64;
L907: C237 <= ( ( C240 * C241 ) + ( ( 1 - C240 ) * C242 ) ) by L906 , L905 , L897 , XREAL_1:7;
L908: ( ( C240 * C241 ) + ( ( 1 - C240 ) * C242 ) ) in D85 by L907 , L904;
thus L909: thesis by L908 , L889 , L891 , L893 , L894 , L898 , L899 , L886;
end;

assume that
L910: [. C237 , C238 .] c= ( dom C239 )
and
L911: (for B217 being Real holds ((( 0 ) <= B217 & B217 <= 1) implies (for B218 , B219 being Real holds ((B218 in [. C237 , C238 .] & B219 in [. C237 , C238 .]) implies ( C239 . ( ( B217 * B218 ) + ( ( 1 - B217 ) * B219 ) ) ) <= ( ( B217 * ( C239 . B218 ) ) + ( ( 1 - B217 ) * ( C239 . B219 ) ) )))));
thus L912: [. C237 , C238 .] c= ( dom C239 ) by L910;
let C243 being Real;
assume L913: (( 0 ) <= C243 & C243 <= 1);
let C244 , C245 being Real;
assume that
L914: (C244 in [. C237 , C238 .] & C245 in [. C237 , C238 .])
and
L915: ( ( C243 * C244 ) + ( ( 1 - C243 ) * C245 ) ) in [. C237 , C238 .];
thus L916: thesis by L911 , L913 , L914;
end;
theorem
L917: (for B220 , B221 being Real holds (for B222 being (PartFunc of ( REAL ) , ( REAL )) holds (B222 is_convex_on [. B220 , B221 .] iff ([. B220 , B221 .] c= ( dom B222 ) & (for B223 , B224 , B225 being Real holds ((B223 in [. B220 , B221 .] & B224 in [. B220 , B221 .] & B225 in [. B220 , B221 .] & B223 < B224 & B224 < B225) implies ( ( ( B222 . B223 ) - ( B222 . B224 ) ) / ( B223 - B224 ) ) <= ( ( ( B222 . B224 ) - ( B222 . B225 ) ) / ( B224 - B225 ) )))))))
proof
let C246 , C247 being Real;
let C248 being (PartFunc of ( REAL ) , ( REAL ));
thus L918: (C248 is_convex_on [. C246 , C247 .] implies ([. C246 , C247 .] c= ( dom C248 ) & (for B226 , B227 , B228 being Real holds ((B226 in [. C246 , C247 .] & B227 in [. C246 , C247 .] & B228 in [. C246 , C247 .] & B226 < B227 & B227 < B228) implies ( ( ( C248 . B226 ) - ( C248 . B227 ) ) / ( B226 - B227 ) ) <= ( ( ( C248 . B227 ) - ( C248 . B228 ) ) / ( B227 - B228 ) )))))
proof
assume L919: C248 is_convex_on [. C246 , C247 .];
thus L920: [. C246 , C247 .] c= ( dom C248 ) by L919 , L886;
let C249 , C250 , C251 being Real;
assume that
L921: (C249 in [. C246 , C247 .] & C250 in [. C246 , C247 .] & C251 in [. C246 , C247 .])
and
L922: C249 < C250
and
L923: C250 < C251;
L924: ( C250 - C251 ) < ( 0 ) by L923 , XREAL_1:49;
set D86 = ( ( C250 - C251 ) / ( C249 - C251 ) );
L925: (( D86 * ( ( C248 . C250 ) - ( C248 . C249 ) ) ) = ( ( D86 * ( C248 . C250 ) ) - ( D86 * ( C248 . C249 ) ) ) & ( ( 1 - D86 ) * ( ( C248 . C251 ) - ( C248 . C250 ) ) ) = ( ( ( 1 - D86 ) * ( C248 . C251 ) ) - ( ( 1 - D86 ) * ( C248 . C250 ) ) ));
L926: ( ( C249 - C250 ) / ( C249 - C251 ) ) = ( ( ( C249 - C251 ) " ) * ( C249 - C250 ) ) by XCMPLX_0:def 9;
L927: C249 < C251 by L922 , L923 , XXREAL_0:2;
L928: ( C249 - C251 ) < ( 0 ) by L927 , XREAL_1:49;
L929: ( D86 + ( ( C249 - C250 ) / ( C249 - C251 ) ) ) = ( ( ( C249 - C250 ) + ( C250 - C251 ) ) / ( C249 - C251 ) ) by XCMPLX_1:62
.= 1 by L928 , XCMPLX_1:60;
L930: ( ( D86 * C249 ) + ( ( 1 - D86 ) * C251 ) ) = ( ( ( C249 * ( C250 - C251 ) ) / ( C249 - C251 ) ) + ( C251 * ( ( C249 - C250 ) / ( C249 - C251 ) ) ) ) by L929 , XCMPLX_1:74
.= ( ( ( C249 * ( C250 - C251 ) ) / ( C249 - C251 ) ) + ( ( C251 * ( C249 - C250 ) ) / ( C249 - C251 ) ) ) by XCMPLX_1:74
.= ( ( ( ( C250 * C249 ) - ( C251 * C249 ) ) + ( ( C249 - C250 ) * C251 ) ) / ( C249 - C251 ) ) by XCMPLX_1:62
.= ( ( C250 * ( C249 - C251 ) ) / ( C249 - C251 ) )
.= C250 by L928 , XCMPLX_1:89;
L931: ( C249 - C250 ) < ( 0 ) by L922 , XREAL_1:49;
L932: D86 <= 1 by L931 , L928 , L929 , XREAL_1:29 , XREAL_1:140;
L933: ( ( D86 * ( C248 . C250 ) ) + ( ( 1 - D86 ) * ( C248 . C250 ) ) ) <= ( ( D86 * ( C248 . C249 ) ) + ( ( 1 - D86 ) * ( C248 . C251 ) ) ) by L932 , L919 , L921 , L924 , L928 , L930 , L886;
L934: ( D86 * ( ( C248 . C250 ) - ( C248 . C249 ) ) ) <= ( ( 1 - D86 ) * ( ( C248 . C251 ) - ( C248 . C250 ) ) ) by L933 , L925 , XREAL_1:21;
L935: ( - ( ( 1 - D86 ) * ( ( C248 . C251 ) - ( C248 . C250 ) ) ) ) <= ( - ( D86 * ( ( C248 . C250 ) - ( C248 . C249 ) ) ) ) by L934 , XREAL_1:24;
L936: ( ( 1 - D86 ) * ( - ( ( C248 . C251 ) - ( C248 . C250 ) ) ) ) <= ( D86 * ( - ( ( C248 . C250 ) - ( C248 . C249 ) ) ) ) by L935;
L937: ( ( ( ( C249 - C251 ) " ) * ( C249 - C250 ) ) * ( ( C248 . C250 ) - ( C248 . C251 ) ) ) <= ( ( ( ( C249 - C251 ) " ) * ( C250 - C251 ) ) * ( ( C248 . C249 ) - ( C248 . C250 ) ) ) by L936 , L929 , L926 , XCMPLX_0:def 9;
L938: ( ( C249 - C251 ) * ( ( ( ( C249 - C251 ) " ) * ( C250 - C251 ) ) * ( ( C248 . C249 ) - ( C248 . C250 ) ) ) ) <= ( ( C249 - C251 ) * ( ( ( ( C249 - C251 ) " ) * ( C249 - C250 ) ) * ( ( C248 . C250 ) - ( C248 . C251 ) ) ) ) by L937 , L928 , XREAL_1:65;
set D87 = ( ( C249 - C250 ) * ( ( C248 . C250 ) - ( C248 . C251 ) ) );
set D88 = ( ( C250 - C251 ) * ( ( C248 . C249 ) - ( C248 . C250 ) ) );
L939: ( ( C249 - C251 ) * ( ( ( ( C249 - C251 ) " ) * ( C249 - C250 ) ) * ( ( C248 . C250 ) - ( C248 . C251 ) ) ) ) = ( ( ( C249 - C251 ) * ( ( C249 - C251 ) " ) ) * D87 )
.= ( 1 * D87 ) by L928 , XCMPLX_0:def 7
.= D87;
L940: ( ( C249 - C251 ) * ( ( ( ( C249 - C251 ) " ) * ( C250 - C251 ) ) * ( ( C248 . C249 ) - ( C248 . C250 ) ) ) ) = ( ( ( C249 - C251 ) * ( ( C249 - C251 ) " ) ) * D88 )
.= ( 1 * D88 ) by L928 , XCMPLX_0:def 7
.= D88;
thus L941: thesis by L940 , L924 , L931 , L938 , L939 , XREAL_1:103;
end;

assume that
L942: [. C246 , C247 .] c= ( dom C248 )
and
L943: (for B229 , B230 , B231 being Real holds ((B229 in [. C246 , C247 .] & B230 in [. C246 , C247 .] & B231 in [. C246 , C247 .] & B229 < B230 & B230 < B231) implies ( ( ( C248 . B229 ) - ( C248 . B230 ) ) / ( B229 - B230 ) ) <= ( ( ( C248 . B230 ) - ( C248 . B231 ) ) / ( B230 - B231 ) )));
L944:
now
let C252 being Real;
assume that
L945: ( 0 ) <= C252
and
L946: C252 <= 1;
L947: ( 0 ) <= ( 1 - C252 ) by L946 , XREAL_1:48;
let C253 , C254 being Real;
set D89 = ( ( C252 * C253 ) + ( ( 1 - C252 ) * C254 ) );
assume that
L948: C253 in [. C246 , C247 .]
and
L949: C254 in [. C246 , C247 .];
L950: ( ( C252 * C254 ) + ( ( 1 - C252 ) * C254 ) ) = C254;
L951: { B232 where B232 is Real : (C246 <= B232 & B232 <= C247) } = [. C246 , C247 .] by RCOMP_1:def 1;
L952: (ex B233 being Real st (B233 = C254 & C246 <= B233 & B233 <= C247)) by L951 , L949;
L953: ( ( 1 - C252 ) * C254 ) <= ( ( 1 - C252 ) * C247 ) by L952 , L947 , XREAL_1:64;
L954: (ex B234 being Real st (B234 = C253 & C246 <= B234 & B234 <= C247)) by L951 , L948;
L955: (( ( C252 * C247 ) + ( ( 1 - C252 ) * C247 ) ) = C247 & ( C252 * C253 ) <= ( C252 * C247 )) by L954 , L945 , XREAL_1:64;
L956: D89 <= C247 by L955 , L953 , XREAL_1:7;
L957: ( ( 1 - C252 ) * C246 ) <= ( ( 1 - C252 ) * C254 ) by L947 , L952 , XREAL_1:64;
L958: (( ( C252 * C246 ) + ( ( 1 - C252 ) * C246 ) ) = C246 & ( C252 * C246 ) <= ( C252 * C253 )) by L945 , L954 , XREAL_1:64;
L959: C246 <= D89 by L958 , L957 , XREAL_1:7;
L960: D89 in [. C246 , C247 .] by L959 , L951 , L956;
L961: ( ( C252 * C253 ) + ( ( 1 - C252 ) * C253 ) ) = C253;
L962:
now
per cases ;
case L963: C253 = C254;
thus L964: ( C248 . ( ( C252 * C253 ) + ( ( 1 - C252 ) * C254 ) ) ) <= ( ( C252 * ( C248 . C253 ) ) + ( ( 1 - C252 ) * ( C248 . C254 ) ) ) by L963;
end;
case L965: C253 <> C254;
L966:
now
per cases ;
case L967: C252 = ( 0 );
thus L968: ( C248 . ( ( C252 * C253 ) + ( ( 1 - C252 ) * C254 ) ) ) <= ( ( C252 * ( C248 . C253 ) ) + ( ( 1 - C252 ) * ( C248 . C254 ) ) ) by L967;
end;
case L969: C252 <> ( 0 );
L970:
now
per cases ;
case L971: C252 = 1;
thus L972: ( C248 . ( ( C252 * C253 ) + ( ( 1 - C252 ) * C254 ) ) ) <= ( ( C252 * ( C248 . C253 ) ) + ( ( 1 - C252 ) * ( C248 . C254 ) ) ) by L971;
end;
case L973: C252 <> 1;
L974: C252 < 1 by L973 , L946 , XXREAL_0:1;
L975: ( 0 ) < ( 1 - C252 ) by L974 , XREAL_1:50;
L976:
now
per cases  by L965 , XXREAL_0:1;
case L977: C253 < C254;
L978: ( ( 1 - C252 ) * C253 ) < ( ( 1 - C252 ) * C254 ) by L977 , L975 , XREAL_1:68;
L979: C253 < D89 by L978 , L961 , XREAL_1:8;
L980: ( C253 - D89 ) < ( 0 ) by L979 , XREAL_1:49;
L981: ( C252 * C253 ) < ( C252 * C254 ) by L945 , L969 , L977 , XREAL_1:68;
L982: D89 < C254 by L981 , L950 , XREAL_1:8;
L983: ( D89 - C254 ) < ( 0 ) by L982 , XREAL_1:49;
L984: ( C253 - C254 ) < ( 0 ) by L977 , XREAL_1:49;
L985: ( ( ( C248 . C253 ) - ( C248 . D89 ) ) / ( C253 - D89 ) ) <= ( ( ( C248 . D89 ) - ( C248 . C254 ) ) / ( D89 - C254 ) ) by L943 , L948 , L949 , L960 , L982 , L979;
L986: ( ( ( C248 . C253 ) - ( C248 . D89 ) ) * ( C252 * ( C253 - C254 ) ) ) <= ( ( ( C248 . D89 ) - ( C248 . C254 ) ) * ( ( 1 - C252 ) * ( C253 - C254 ) ) ) by L985 , L983 , L980 , XREAL_1:107;
L987: ( ( ( ( ( C248 . C253 ) - ( C248 . D89 ) ) * C252 ) * ( C253 - C254 ) ) / ( C253 - C254 ) ) >= ( ( ( ( ( C248 . D89 ) - ( C248 . C254 ) ) * ( 1 - C252 ) ) * ( C253 - C254 ) ) / ( C253 - C254 ) ) by L986 , L984 , XREAL_1:73;
L988: ( ( ( ( ( C248 . D89 ) - ( C248 . C254 ) ) * ( 1 - C252 ) ) * ( C253 - C254 ) ) / ( C253 - C254 ) ) <= ( ( ( C248 . C253 ) - ( C248 . D89 ) ) * C252 ) by L987 , L984 , XCMPLX_1:89;
L989: ( ( ( C248 . D89 ) * ( 1 - C252 ) ) - ( ( C248 . C254 ) * ( 1 - C252 ) ) ) <= ( ( ( C248 . C253 ) * C252 ) - ( ( C248 . D89 ) * C252 ) ) by L988 , L984 , XCMPLX_1:89;
L990: ( ( ( C248 . D89 ) * C252 ) + ( ( ( C248 . D89 ) * ( 1 - C252 ) ) - ( ( C248 . C254 ) * ( 1 - C252 ) ) ) ) <= ( ( C248 . C253 ) * C252 ) by L989 , XREAL_1:19;
L991: ( ( ( ( C248 . D89 ) * C252 ) + ( ( C248 . D89 ) * ( 1 - C252 ) ) ) - ( ( C248 . C254 ) * ( 1 - C252 ) ) ) <= ( ( C248 . C253 ) * C252 ) by L990;
thus L992: ( C248 . D89 ) <= ( ( C252 * ( C248 . C253 ) ) + ( ( 1 - C252 ) * ( C248 . C254 ) ) ) by L991 , XREAL_1:20;
end;
case L993: C254 < C253;
L994: ( ( 1 - C252 ) * C254 ) < ( ( 1 - C252 ) * C253 ) by L993 , L975 , XREAL_1:68;
L995: D89 < C253 by L994 , L961 , XREAL_1:8;
L996: ( D89 - C253 ) < ( 0 ) by L995 , XREAL_1:49;
L997: ( C252 * C254 ) < ( C252 * C253 ) by L945 , L969 , L993 , XREAL_1:68;
L998: C254 < D89 by L997 , L950 , XREAL_1:8;
L999: ( C254 - D89 ) < ( 0 ) by L998 , XREAL_1:49;
L1000: ( C254 - C253 ) < ( 0 ) by L993 , XREAL_1:49;
L1001: ( ( ( C248 . C254 ) - ( C248 . D89 ) ) / ( C254 - D89 ) ) <= ( ( ( C248 . D89 ) - ( C248 . C253 ) ) / ( D89 - C253 ) ) by L943 , L948 , L949 , L960 , L998 , L995;
L1002: ( ( ( C248 . C254 ) - ( C248 . D89 ) ) * ( ( 1 - C252 ) * ( C254 - C253 ) ) ) <= ( ( ( C248 . D89 ) - ( C248 . C253 ) ) * ( C252 * ( C254 - C253 ) ) ) by L1001 , L999 , L996 , XREAL_1:107;
L1003: ( ( ( ( ( C248 . C254 ) - ( C248 . D89 ) ) * ( 1 - C252 ) ) * ( C254 - C253 ) ) / ( C254 - C253 ) ) >= ( ( ( ( ( C248 . D89 ) - ( C248 . C253 ) ) * C252 ) * ( C254 - C253 ) ) / ( C254 - C253 ) ) by L1002 , L1000 , XREAL_1:73;
L1004: ( ( ( ( ( C248 . D89 ) - ( C248 . C253 ) ) * C252 ) * ( C254 - C253 ) ) / ( C254 - C253 ) ) <= ( ( ( C248 . C254 ) - ( C248 . D89 ) ) * ( 1 - C252 ) ) by L1003 , L1000 , XCMPLX_1:89;
L1005: ( ( ( C248 . D89 ) * C252 ) - ( ( C248 . C253 ) * C252 ) ) <= ( ( ( C248 . C254 ) * ( 1 - C252 ) ) - ( ( C248 . D89 ) * ( 1 - C252 ) ) ) by L1004 , L1000 , XCMPLX_1:89;
L1006: ( ( ( ( C248 . D89 ) * C252 ) - ( ( C248 . C253 ) * C252 ) ) + ( ( C248 . D89 ) * ( 1 - C252 ) ) ) <= ( ( C248 . C254 ) * ( 1 - C252 ) ) by L1005 , XREAL_1:19;
L1007: ( ( ( ( C248 . D89 ) * C252 ) + ( ( C248 . D89 ) * ( 1 - C252 ) ) ) - ( ( C248 . C253 ) * C252 ) ) <= ( ( C248 . C254 ) * ( 1 - C252 ) ) by L1006;
thus L1008: ( C248 . D89 ) <= ( ( C252 * ( C248 . C253 ) ) + ( ( 1 - C252 ) * ( C248 . C254 ) ) ) by L1007 , XREAL_1:20;
end;
end;
thus L1010: ( C248 . ( ( C252 * C253 ) + ( ( 1 - C252 ) * C254 ) ) ) <= ( ( C252 * ( C248 . C253 ) ) + ( ( 1 - C252 ) * ( C248 . C254 ) ) ) by L976;
end;
end;
thus L1012: ( C248 . ( ( C252 * C253 ) + ( ( 1 - C252 ) * C254 ) ) ) <= ( ( C252 * ( C248 . C253 ) ) + ( ( 1 - C252 ) * ( C248 . C254 ) ) ) by L970;
end;
end;
thus L1014: ( C248 . ( ( C252 * C253 ) + ( ( 1 - C252 ) * C254 ) ) ) <= ( ( C252 * ( C248 . C253 ) ) + ( ( 1 - C252 ) * ( C248 . C254 ) ) ) by L966;
end;
end;
thus L1016: ( C248 . ( ( C252 * C253 ) + ( ( 1 - C252 ) * C254 ) ) ) <= ( ( C252 * ( C248 . C253 ) ) + ( ( 1 - C252 ) * ( C248 . C254 ) ) ) by L962;
end;
thus L1017: thesis by L944 , L942 , L888;
end;
theorem
L1018: (for B235 being (PartFunc of ( REAL ) , ( REAL )) holds (for B236 , B237 being set holds ((B235 is_convex_on B236 & B237 c= B236) implies B235 is_convex_on B237)))
proof
let C255 being (PartFunc of ( REAL ) , ( REAL ));
let C256 , C257 being set;
assume that
L1019: C255 is_convex_on C256
and
L1020: C257 c= C256;
L1021: C256 c= ( dom C255 ) by L1019 , L886;
thus L1022: C257 c= ( dom C255 ) by L1021 , L1020 , XBOOLE_1:1;
let C258 being Real;
assume L1023: (( 0 ) <= C258 & C258 <= 1);
let C259 , C260 being Real;
assume L1024: (C259 in C257 & C260 in C257 & ( ( C258 * C259 ) + ( ( 1 - C258 ) * C260 ) ) in C257);
thus L1025: thesis by L1024 , L1019 , L1020 , L1023 , L886;
end;
theorem
L1026: (for B238 being (PartFunc of ( REAL ) , ( REAL )) holds (for B239 being set holds (for B240 being Real holds (B238 is_convex_on B239 iff ( B238 - B240 ) is_convex_on B239))))
proof
let C261 being (PartFunc of ( REAL ) , ( REAL ));
let C262 being set;
let R3 being Real;
L1027: ( dom C261 ) = ( dom ( C261 - R3 ) ) by VALUED_1:3;
thus L1028: (C261 is_convex_on C262 implies ( C261 - R3 ) is_convex_on C262)
proof
assume L1029: C261 is_convex_on C262;
thus L1030: C262 c= ( dom ( C261 - R3 ) ) by L1029 , L1027 , L886;
let C263 being Real;
assume L1031: (( 0 ) <= C263 & C263 <= 1);
let C264 , C265 being Real;
assume that
L1032: C264 in C262
and
L1033: C265 in C262
and
L1034: ( ( C263 * C264 ) + ( ( 1 - C263 ) * C265 ) ) in C262;
L1035: ( C261 . ( ( C263 * C264 ) + ( ( 1 - C263 ) * C265 ) ) ) <= ( ( C263 * ( C261 . C264 ) ) + ( ( 1 - C263 ) * ( C261 . C265 ) ) ) by L1029 , L1031 , L1032 , L1033 , L1034 , L886;
L1036: ( ( C261 . ( ( C263 * C264 ) + ( ( 1 - C263 ) * C265 ) ) ) - R3 ) <= ( ( ( C263 * ( C261 . C264 ) ) + ( ( 1 - C263 ) * ( C261 . C265 ) ) ) - R3 ) by L1035 , XREAL_1:9;
L1037: ( ( ( C263 * ( C261 . C264 ) ) + ( ( 1 - C263 ) * ( C261 . C265 ) ) ) - R3 ) = ( ( C263 * ( ( C261 . C264 ) - R3 ) ) + ( ( 1 - C263 ) * ( ( C261 . C265 ) - R3 ) ) )
.= ( ( C263 * ( ( C261 - R3 ) . C264 ) ) + ( ( 1 - C263 ) * ( ( C261 . C265 ) - R3 ) ) ) by L1027 , L1030 , L1032 , VALUED_1:3
.= ( ( C263 * ( ( C261 - R3 ) . C264 ) ) + ( ( 1 - C263 ) * ( ( C261 - R3 ) . C265 ) ) ) by L1027 , L1030 , L1033 , VALUED_1:3;
thus L1038: thesis by L1037 , L1027 , L1030 , L1034 , L1036 , VALUED_1:3;
end;

assume L1039: ( C261 - R3 ) is_convex_on C262;
thus L1040: C262 c= ( dom C261 ) by L1039 , L1027 , L886;
let C266 being Real;
assume L1041: (( 0 ) <= C266 & C266 <= 1);
let C267 , C268 being Real;
assume that
L1042: C267 in C262
and
L1043: C268 in C262
and
L1044: ( ( C266 * C267 ) + ( ( 1 - C266 ) * C268 ) ) in C262;
L1045: ( ( C261 - R3 ) . ( ( C266 * C267 ) + ( ( 1 - C266 ) * C268 ) ) ) <= ( ( C266 * ( ( C261 - R3 ) . C267 ) ) + ( ( 1 - C266 ) * ( ( C261 - R3 ) . C268 ) ) ) by L1039 , L1041 , L1042 , L1043 , L1044 , L886;
L1046: ( ( C261 . ( ( C266 * C267 ) + ( ( 1 - C266 ) * C268 ) ) ) - R3 ) <= ( ( C266 * ( ( C261 - R3 ) . C267 ) ) + ( ( 1 - C266 ) * ( ( C261 - R3 ) . C268 ) ) ) by L1045 , L1040 , L1044 , VALUED_1:3;
L1047: ( ( C266 * ( ( C261 - R3 ) . C267 ) ) + ( ( 1 - C266 ) * ( ( C261 - R3 ) . C268 ) ) ) = ( ( C266 * ( ( C261 - R3 ) . C267 ) ) + ( ( 1 - C266 ) * ( ( C261 . C268 ) - R3 ) ) ) by L1040 , L1043 , VALUED_1:3
.= ( ( C266 * ( ( C261 . C267 ) - R3 ) ) + ( ( ( 1 - C266 ) * ( C261 . C268 ) ) - ( ( 1 - C266 ) * R3 ) ) ) by L1040 , L1042 , VALUED_1:3
.= ( ( ( C266 * ( C261 . C267 ) ) + ( ( 1 - C266 ) * ( C261 . C268 ) ) ) - R3 );
thus L1048: thesis by L1047 , L1046 , XREAL_1:9;
end;
theorem
L1049: (for B241 being (PartFunc of ( REAL ) , ( REAL )) holds (for B242 being set holds (for B243 being Real holds (( 0 ) < B243 implies (B241 is_convex_on B242 iff ( B243 (#) B241 ) is_convex_on B242)))))
proof
let C269 being (PartFunc of ( REAL ) , ( REAL ));
let C270 being set;
let R3 being Real;
assume L1050: ( 0 ) < R3;
L1051: ( dom C269 ) = ( dom ( R3 (#) C269 ) ) by VALUED_1:def 5;
thus L1052: (C269 is_convex_on C270 implies ( R3 (#) C269 ) is_convex_on C270)
proof
assume L1053: C269 is_convex_on C270;
L1054: C270 c= ( dom C269 ) by L1053 , L886;
thus L1055: C270 c= ( dom ( R3 (#) C269 ) ) by L1051 , L1053 , L886;
let C271 being Real;
assume L1056: (( 0 ) <= C271 & C271 <= 1);
let C272 , C273 being Real;
assume that
L1057: C272 in C270
and
L1058: C273 in C270
and
L1059: ( ( C271 * C272 ) + ( ( 1 - C271 ) * C273 ) ) in C270;
L1060: ( C269 . ( ( C271 * C272 ) + ( ( 1 - C271 ) * C273 ) ) ) <= ( ( C271 * ( C269 . C272 ) ) + ( ( 1 - C271 ) * ( C269 . C273 ) ) ) by L1053 , L1056 , L1057 , L1058 , L1059 , L886;
L1061: ( R3 * ( C269 . ( ( C271 * C272 ) + ( ( 1 - C271 ) * C273 ) ) ) ) <= ( R3 * ( ( C271 * ( C269 . C272 ) ) + ( ( 1 - C271 ) * ( C269 . C273 ) ) ) ) by L1060 , L1050 , XREAL_1:64;
L1062: ( ( R3 (#) C269 ) . ( ( C271 * C272 ) + ( ( 1 - C271 ) * C273 ) ) ) <= ( ( C271 * ( R3 * ( C269 . C272 ) ) ) + ( ( ( 1 - C271 ) * R3 ) * ( C269 . C273 ) ) ) by L1061 , L1051 , L1054 , L1059 , VALUED_1:def 5;
L1063: ( ( R3 (#) C269 ) . ( ( C271 * C272 ) + ( ( 1 - C271 ) * C273 ) ) ) <= ( ( C271 * ( ( R3 (#) C269 ) . C272 ) ) + ( ( 1 - C271 ) * ( R3 * ( C269 . C273 ) ) ) ) by L1062 , L1051 , L1054 , L1057 , VALUED_1:def 5;
thus L1064: thesis by L1063 , L1051 , L1054 , L1058 , VALUED_1:def 5;
end;

assume L1065: ( R3 (#) C269 ) is_convex_on C270;
L1066: C270 c= ( dom ( R3 (#) C269 ) ) by L1065 , L886;
thus L1067: C270 c= ( dom C269 ) by L1066 , VALUED_1:def 5;
let C274 being Real;
assume L1068: (( 0 ) <= C274 & C274 <= 1);
let C275 , C276 being Real;
assume that
L1069: C275 in C270
and
L1070: C276 in C270
and
L1071: ( ( C274 * C275 ) + ( ( 1 - C274 ) * C276 ) ) in C270;
L1072: ( ( R3 (#) C269 ) . ( ( C274 * C275 ) + ( ( 1 - C274 ) * C276 ) ) ) <= ( ( C274 * ( ( R3 (#) C269 ) . C275 ) ) + ( ( 1 - C274 ) * ( ( R3 (#) C269 ) . C276 ) ) ) by L1065 , L1068 , L1069 , L1070 , L1071 , L886;
L1073: ( R3 * ( C269 . ( ( C274 * C275 ) + ( ( 1 - C274 ) * C276 ) ) ) ) <= ( ( C274 * ( ( R3 (#) C269 ) . C275 ) ) + ( ( 1 - C274 ) * ( ( R3 (#) C269 ) . C276 ) ) ) by L1072 , L1066 , L1071 , VALUED_1:def 5;
L1074: ( R3 * ( C269 . ( ( C274 * C275 ) + ( ( 1 - C274 ) * C276 ) ) ) ) <= ( ( C274 * ( R3 * ( C269 . C275 ) ) ) + ( ( 1 - C274 ) * ( ( R3 (#) C269 ) . C276 ) ) ) by L1073 , L1066 , L1069 , VALUED_1:def 5;
L1075: ( R3 * ( C269 . ( ( C274 * C275 ) + ( ( 1 - C274 ) * C276 ) ) ) ) <= ( ( C274 * ( R3 * ( C269 . C275 ) ) ) + ( ( 1 - C274 ) * ( R3 * ( C269 . C276 ) ) ) ) by L1074 , L1066 , L1070 , VALUED_1:def 5;
L1076: ( ( R3 * ( C269 . ( ( C274 * C275 ) + ( ( 1 - C274 ) * C276 ) ) ) ) / R3 ) <= ( ( R3 * ( ( C274 * ( C269 . C275 ) ) + ( ( 1 - C274 ) * ( C269 . C276 ) ) ) ) / R3 ) by L1075 , L1050 , XREAL_1:72;
L1077: ( C269 . ( ( C274 * C275 ) + ( ( 1 - C274 ) * C276 ) ) ) <= ( ( R3 * ( ( C274 * ( C269 . C275 ) ) + ( ( 1 - C274 ) * ( C269 . C276 ) ) ) ) / R3 ) by L1076 , L1050 , XCMPLX_1:89;
thus L1078: thesis by L1077 , L1050 , XCMPLX_1:89;
end;
theorem
L1079: (for B244 being (PartFunc of ( REAL ) , ( REAL )) holds (for B245 being set holds (B245 c= ( dom B244 ) implies ( ( 0 ) (#) B244 ) is_convex_on B245)))
proof
let C277 being (PartFunc of ( REAL ) , ( REAL ));
let C278 being set;
assume L1080: C278 c= ( dom C277 );
thus L1081: C278 c= ( dom ( ( 0 ) (#) C277 ) ) by L1080 , VALUED_1:def 5;
let C279 being Real;
assume that
L1082: ( 0 ) <= C279
and
L1083: C279 <= 1;
let C280 , C281 being Real;
assume that
L1084: C280 in C278
and
L1085: C281 in C278
and
L1086: ( ( C279 * C280 ) + ( ( 1 - C279 ) * C281 ) ) in C278;
L1087: ( dom C277 ) = ( dom ( ( 0 ) (#) C277 ) ) by VALUED_1:def 5;
L1088: ( ( ( 0 ) (#) C277 ) . ( ( C279 * C280 ) + ( ( 1 - C279 ) * C281 ) ) ) = ( ( 0 ) * ( C277 . ( ( C279 * C280 ) + ( ( 1 - C279 ) * C281 ) ) ) ) by L1087 , L1080 , L1086 , VALUED_1:def 5
.= ( 0 );
L1089: ( ( C279 * ( ( ( 0 ) (#) C277 ) . C280 ) ) + ( ( 1 - C279 ) * ( ( ( 0 ) (#) C277 ) . C281 ) ) ) = ( ( C279 * ( ( 0 ) * ( C277 . C280 ) ) ) + ( ( 1 - C279 ) * ( ( ( 0 ) (#) C277 ) . C281 ) ) ) by L1080 , L1087 , L1084 , VALUED_1:def 5
.= ( ( C279 * ( 0 ) ) + ( ( 1 - C279 ) * ( ( 0 ) * ( C277 . C281 ) ) ) ) by L1080 , L1087 , L1085 , VALUED_1:def 5
.= ( ( 0 ) + ( 0 ) );
thus L1090: thesis by L1089 , L1088;
end;
theorem
L1091: (for B246 , B247 being (PartFunc of ( REAL ) , ( REAL )) holds (for B248 being set holds ((B246 is_convex_on B248 & B247 is_convex_on B248) implies ( B246 + B247 ) is_convex_on B248)))
proof
let C282 , C283 being (PartFunc of ( REAL ) , ( REAL ));
let C284 being set;
L1092: ( dom ( C282 + C283 ) ) = ( ( dom C282 ) /\ ( dom C283 ) ) by VALUED_1:def 1;
assume L1093: (C282 is_convex_on C284 & C283 is_convex_on C284);
L1094: (C284 c= ( dom C282 ) & C284 c= ( dom C283 )) by L1093 , L886;
thus L1095: C284 c= ( dom ( C282 + C283 ) ) by L1094 , L1092 , XBOOLE_1:19;
let C285 being Real;
assume L1096: (( 0 ) <= C285 & C285 <= 1);
let C286 , C287 being Real;
assume that
L1097: C286 in C284
and
L1098: C287 in C284
and
L1099: ( ( C285 * C286 ) + ( ( 1 - C285 ) * C287 ) ) in C284;
L1100: (( C282 . ( ( C285 * C286 ) + ( ( 1 - C285 ) * C287 ) ) ) <= ( ( C285 * ( C282 . C286 ) ) + ( ( 1 - C285 ) * ( C282 . C287 ) ) ) & ( C283 . ( ( C285 * C286 ) + ( ( 1 - C285 ) * C287 ) ) ) <= ( ( C285 * ( C283 . C286 ) ) + ( ( 1 - C285 ) * ( C283 . C287 ) ) )) by L1093 , L1096 , L1097 , L1098 , L1099 , L886;
L1101: ( ( C282 . ( ( C285 * C286 ) + ( ( 1 - C285 ) * C287 ) ) ) + ( C283 . ( ( C285 * C286 ) + ( ( 1 - C285 ) * C287 ) ) ) ) <= ( ( ( C285 * ( C282 . C286 ) ) + ( ( 1 - C285 ) * ( C282 . C287 ) ) ) + ( ( C285 * ( C283 . C286 ) ) + ( ( 1 - C285 ) * ( C283 . C287 ) ) ) ) by L1100 , XREAL_1:7;
L1102: ( ( C282 + C283 ) . ( ( C285 * C286 ) + ( ( 1 - C285 ) * C287 ) ) ) <= ( ( ( C285 * ( C282 . C286 ) ) + ( ( 1 - C285 ) * ( C282 . C287 ) ) ) + ( ( C285 * ( C283 . C286 ) ) + ( ( 1 - C285 ) * ( C283 . C287 ) ) ) ) by L1101 , L1095 , L1099 , VALUED_1:def 1;
L1103: ( ( ( C285 * ( C282 . C286 ) ) + ( ( 1 - C285 ) * ( C282 . C287 ) ) ) + ( ( C285 * ( C283 . C286 ) ) + ( ( 1 - C285 ) * ( C283 . C287 ) ) ) ) = ( ( ( C285 * ( ( C282 . C286 ) + ( C283 . C286 ) ) ) + ( ( 1 - C285 ) * ( C282 . C287 ) ) ) + ( ( 1 - C285 ) * ( C283 . C287 ) ) )
.= ( ( ( C285 * ( ( C282 + C283 ) . C286 ) ) + ( ( 1 - C285 ) * ( C282 . C287 ) ) ) + ( ( 1 - C285 ) * ( C283 . C287 ) ) ) by L1095 , L1097 , VALUED_1:def 1
.= ( ( C285 * ( ( C282 + C283 ) . C286 ) ) + ( ( 1 - C285 ) * ( ( C282 . C287 ) + ( C283 . C287 ) ) ) );
thus L1104: thesis by L1103 , L1095 , L1098 , L1102 , VALUED_1:def 1;
end;
theorem
L1105: (for B249 being (PartFunc of ( REAL ) , ( REAL )) holds (for B250 being set holds (for B251 being Real holds (B249 is_convex_on B250 implies ( max+ ( B249 - B251 ) ) is_convex_on B250))))
proof
let C288 being (PartFunc of ( REAL ) , ( REAL ));
let C289 being set;
let R3 being Real;
assume L1106: C288 is_convex_on C289;
L1107: C289 c= ( dom C288 ) by L1106 , L886;
L1108: (( dom C288 ) = ( dom ( C288 - R3 ) ) & ( dom ( max+ ( C288 - R3 ) ) ) = ( dom ( C288 - R3 ) )) by L567 , VALUED_1:3;
thus L1109: C289 c= ( dom ( max+ ( C288 - R3 ) ) ) by L1108 , L1106 , L886;
let C290 being Real;
assume that
L1110: ( 0 ) <= C290
and
L1111: C290 <= 1;
let C291 , C292 being Real;
assume that
L1112: C291 in C289
and
L1113: C292 in C289
and
L1114: ( ( C290 * C291 ) + ( ( 1 - C290 ) * C292 ) ) in C289;
L1115: ( C288 . ( ( C290 * C291 ) + ( ( 1 - C290 ) * C292 ) ) ) <= ( ( C290 * ( C288 . C291 ) ) + ( ( 1 - C290 ) * ( C288 . C292 ) ) ) by L1106 , L1110 , L1111 , L1112 , L1113 , L1114 , L886;
L1116: ( ( C288 . ( ( C290 * C291 ) + ( ( 1 - C290 ) * C292 ) ) ) - R3 ) <= ( ( ( C290 * ( C288 . C291 ) ) + ( ( 1 - C290 ) * ( C288 . C292 ) ) ) - R3 ) by L1115 , XREAL_1:9;
L1117: ( max+ ( ( C288 . ( ( C290 * C291 ) + ( ( 1 - C290 ) * C292 ) ) ) - R3 ) ) <= ( max (( ( ( C290 * ( C288 . C291 ) ) + ( ( 1 - C290 ) * ( C288 . C292 ) ) ) - R3 ) , ( 0 )) ) by L1116 , XXREAL_0:26;
L1118: ( ( 0 ) + C290 ) <= 1 by L1111;
L1119: ( 0 ) <= ( 1 - C290 ) by L1118 , XREAL_1:19;
L1120: ( max+ ( ( 1 - C290 ) * ( ( C288 - R3 ) . C292 ) ) ) = ( ( 1 - C290 ) * ( max+ ( ( C288 - R3 ) . C292 ) ) ) by L1119 , L24;
L1121: ( max+ ( ( C290 * ( ( C288 - R3 ) . C291 ) ) + ( ( 1 - C290 ) * ( ( C288 - R3 ) . C292 ) ) ) ) <= ( ( max+ ( C290 * ( ( C288 - R3 ) . C291 ) ) ) + ( max+ ( ( 1 - C290 ) * ( ( C288 - R3 ) . C292 ) ) ) ) by L35;
L1122: ( max+ ( C290 * ( ( C288 - R3 ) . C291 ) ) ) = ( C290 * ( max+ ( ( C288 - R3 ) . C291 ) ) ) by L1110 , L24;
L1123: ( ( ( C290 * ( C288 . C291 ) ) + ( ( 1 - C290 ) * ( C288 . C292 ) ) ) - R3 ) = ( ( C290 * ( ( C288 . C291 ) - R3 ) ) + ( ( 1 - C290 ) * ( ( C288 . C292 ) - R3 ) ) )
.= ( ( C290 * ( ( C288 - R3 ) . C291 ) ) + ( ( 1 - C290 ) * ( ( C288 . C292 ) - R3 ) ) ) by L1112 , L1107 , VALUED_1:3
.= ( ( C290 * ( ( C288 - R3 ) . C291 ) ) + ( ( 1 - C290 ) * ( ( C288 - R3 ) . C292 ) ) ) by L1113 , L1107 , VALUED_1:3;
L1124: ( max+ ( ( C288 . ( ( C290 * C291 ) + ( ( 1 - C290 ) * C292 ) ) ) - R3 ) ) <= ( ( C290 * ( max+ ( ( C288 - R3 ) . C291 ) ) ) + ( ( 1 - C290 ) * ( max+ ( ( C288 - R3 ) . C292 ) ) ) ) by L1123 , L1117 , L1121 , L1122 , L1120 , XXREAL_0:2;
L1125: ( max+ ( ( C288 - R3 ) . ( ( C290 * C291 ) + ( ( 1 - C290 ) * C292 ) ) ) ) <= ( ( C290 * ( max+ ( ( C288 - R3 ) . C291 ) ) ) + ( ( 1 - C290 ) * ( max+ ( ( C288 - R3 ) . C292 ) ) ) ) by L1124 , L1114 , L1107 , VALUED_1:3;
L1126: ( ( max+ ( C288 - R3 ) ) . ( ( C290 * C291 ) + ( ( 1 - C290 ) * C292 ) ) ) <= ( ( C290 * ( max+ ( ( C288 - R3 ) . C291 ) ) ) + ( ( 1 - C290 ) * ( max+ ( ( C288 - R3 ) . C292 ) ) ) ) by L1125 , L1108 , L1114 , L1107 , L567;
L1127: ( ( max+ ( C288 - R3 ) ) . ( ( C290 * C291 ) + ( ( 1 - C290 ) * C292 ) ) ) <= ( ( C290 * ( ( max+ ( C288 - R3 ) ) . C291 ) ) + ( ( 1 - C290 ) * ( max+ ( ( C288 - R3 ) . C292 ) ) ) ) by L1126 , L1108 , L1112 , L1107 , L567;
thus L1128: thesis by L1127 , L1108 , L1113 , L1107 , L567;
end;
theorem
L1129: (for B252 being (PartFunc of ( REAL ) , ( REAL )) holds (for B253 being set holds (B252 is_convex_on B253 implies ( max+ B252 ) is_convex_on B253)))
proof
let C293 being (PartFunc of ( REAL ) , ( REAL ));
let C294 being set;
assume L1130: C293 is_convex_on C294;
L1131: ( max+ ( C293 - ( 0 ) ) ) is_convex_on C294 by L1130 , L1105;
thus L1132: thesis by L1131 , L839;
end;
theorem
L1133: ( id ( [#] ( REAL ) ) ) is_convex_on ( REAL )
proof
set D90 = ( id ( [#] ( REAL ) ) );
thus L1134: ( REAL ) c= ( dom D90 ) by FUNCT_1:17;
let C295 being Real;
assume that
L1135: ( 0 ) <= C295
and
L1136: C295 <= 1;
let C296 , C297 being Real;
assume that
L1137: C296 in ( REAL )
and
L1138: C297 in ( REAL )
and
L1139: ( ( C295 * C296 ) + ( ( 1 - C295 ) * C297 ) ) in ( REAL );
L1140: (( D90 . C296 ) = C296 & ( D90 . C297 ) = C297) by FUNCT_1:17;
thus L1141: thesis by L1140 , FUNCT_1:17;
end;
theorem
L1142: (for B254 being Real holds ( max+ ( ( id ( [#] ( REAL ) ) ) - B254 ) ) is_convex_on ( REAL )) by L1105 , L1133;
definition
let C298 being non  empty set;
let C299 being (PartFunc of C298 , ( REAL ));
let C300 being set;
assume L1143: ( dom ( C299 | C300 ) ) is  finite;
func FinS (C299 , C300) ->  non-increasing (FinSequence of ( REAL )) means 
:L1144: ( C299 | C300 ) , it are_fiberwise_equipotent ;
existence
proof
set D91 = ( dom ( C299 | C300 ) );
consider C301 being FinSequence such that L1145: ( C299 | D91 ) , C301 are_fiberwise_equipotent  by L1143 , RFINSEQ:5;
L1146: ( rng ( C299 | D91 ) ) = ( rng C301 ) by L1145 , CLASSES1:75;
reconsider D92 = C301 as (FinSequence of ( REAL )) by L1146 , FINSEQ_1:def 4;
consider C302 being  non-increasing (FinSequence of ( REAL )) such that L1147: D92 , C302 are_fiberwise_equipotent  by RFINSEQ:22;
take C302;
L1148: D91 = ( ( dom C299 ) /\ C300 ) by RELAT_1:61;
L1149: ( C299 | D91 ) = ( ( C299 | ( dom C299 ) ) | C300 ) by L1148 , RELAT_1:71
.= ( C299 | C300 ) by RELAT_1:68;
thus L1150: thesis by L1149 , L1145 , L1147 , CLASSES1:76;
end;
uniqueness by CLASSES1:76 , RFINSEQ:23;
end;
theorem
L1152: (for B255 being non  empty set holds (for B256 being (PartFunc of B255 , ( REAL )) holds (for B257 being set holds (( dom ( B256 | B257 ) ) is  finite implies ( FinS (B256 , ( dom ( B256 | B257 ) )) ) = ( FinS (B256 , B257) )))))
proof
let C303 being non  empty set;
let C304 being (PartFunc of C303 , ( REAL ));
let C305 being set;
L1153: ( C304 | ( dom ( C304 | C305 ) ) ) = ( C304 | ( ( dom C304 ) /\ C305 ) ) by RELAT_1:61
.= ( ( C304 | ( dom C304 ) ) | C305 ) by RELAT_1:71
.= ( C304 | C305 ) by RELAT_1:68;
assume L1154: ( dom ( C304 | C305 ) ) is  finite;
L1155: ( FinS (C304 , C305) ) , ( C304 | C305 ) are_fiberwise_equipotent  by L1154 , L1144;
thus L1156: thesis by L1155 , L1154 , L1153 , L1144;
end;
theorem
L1157: (for B258 being non  empty set holds (for B259 being (PartFunc of B258 , ( REAL )) holds (for B260 being set holds (( dom ( B259 | B260 ) ) is  finite implies ( FinS (( B259 | B260 ) , B260) ) = ( FinS (B259 , B260) )))))
proof
let C306 being non  empty set;
let C307 being (PartFunc of C306 , ( REAL ));
let C308 being set;
L1158: ( ( C307 | C308 ) | C308 ) = ( C307 | C308 ) by RELAT_1:72;
assume L1159: ( dom ( C307 | C308 ) ) is  finite;
L1160: ( FinS (C307 , C308) ) , ( C307 | C308 ) are_fiberwise_equipotent  by L1159 , L1144;
thus L1161: thesis by L1160 , L1159 , L1158 , L1144;
end;
theorem
L1162: (for B261 being non  empty set holds (for B262 being (Element of B261) holds (for B263 being set holds (for B264 being (PartFunc of B261 , ( REAL )) holds ((B263 is  finite & B262 in ( dom ( B264 | B263 ) )) implies ( ( FinS (B264 , ( B263 \ { B262 } )) ) ^ <* ( B264 . B262 ) *> ) , ( B264 | B263 ) are_fiberwise_equipotent )))))
proof
L1163: (for B265 being non  empty set holds (for B266 being  finite set holds (for B267 being (PartFunc of B265 , ( REAL )) holds (for B268 being set holds (B268 in ( dom ( B267 | B266 ) ) implies ( ( FinS (B267 , ( B266 \ { B268 } )) ) ^ <* ( B267 . B268 ) *> ) , ( B267 | B266 ) are_fiberwise_equipotent )))))
proof
let C309 being non  empty set;
let C310 being  finite set;
let C311 being (PartFunc of C309 , ( REAL ));
let R5 being set;
set D93 = ( C310 \ { R5 } );
set D94 = ( ( FinS (C311 , D93) ) ^ <* ( C311 . R5 ) *> );
assume L1164: R5 in ( dom ( C311 | C310 ) );
L1165: R5 in ( ( dom C311 ) /\ C310 ) by L1164 , RELAT_1:61;
L1166: R5 in C310 by L1165 , XBOOLE_0:def 4;
L1167: { R5 } c= C310 by L1166 , ZFMISC_1:31;
L1168: R5 in ( dom C311 ) by L1165 , XBOOLE_0:def 4;
L1169: { R5 } c= ( dom C311 ) by L1168 , ZFMISC_1:31;
L1170: ( dom ( C311 | D93 ) ) is  finite;
L1171: ( C311 | D93 ) , ( FinS (C311 , D93) ) are_fiberwise_equipotent  by L1170 , L1144;
L1172:
now
let R6 being set;
L1173: D93 misses { R5 } by XBOOLE_1:79;
L1174: ( card ( Coim (( C311 | D93 ) , R6) ) ) = ( card ( Coim (( FinS (C311 , D93) ) , R6) ) ) by L1171 , CLASSES1:def 9;
L1175: ( dom ( C311 | { R5 } ) ) = { R5 } by L1169 , RELAT_1:62;
L1176: ( dom <* ( C311 . R5 ) *> ) = { 1 } by FINSEQ_1:2 , FINSEQ_1:38;
L1177:
now
per cases ;
case L1178: R6 = ( C311 . R5 );
L1179: { R5 } c= ( ( C311 | { R5 } ) " { R6 } )
proof
let C312 being set;
L1180: R6 in { R6 } by TARSKI:def 1;
assume L1181: C312 in { R5 };
L1182: C312 = R5 by L1181 , TARSKI:def 1;
L1183: R6 = ( ( C311 | { R5 } ) . C312 ) by L1182 , L1175 , L1178 , L1181 , FUNCT_1:47;
thus L1184: thesis by L1183 , L1175 , L1181 , L1180 , FUNCT_1:def 7;
end;
L1185: ( ( C311 | { R5 } ) " { R6 } ) c= { R5 } by L1175 , RELAT_1:132;
L1186: ( ( C311 | { R5 } ) " { R6 } ) = { R5 } by L1185 , L1179 , XBOOLE_0:def 10;
L1187: ( card ( ( C311 | { R5 } ) " { R6 } ) ) = 1 by L1186 , CARD_1:30;
L1188: { 1 } c= ( <* ( C311 . R5 ) *> " { R6 } )
proof
let C313 being set;
L1189: R6 in { R6 } by TARSKI:def 1;
assume L1190: C313 in { 1 };
L1191: C313 = 1 by L1190 , TARSKI:def 1;
L1192: R6 = ( <* ( C311 . R5 ) *> . C313 ) by L1191 , L1178 , FINSEQ_1:40;
thus L1193: thesis by L1192 , L1176 , L1190 , L1189 , FUNCT_1:def 7;
end;
L1194: ( <* ( C311 . R5 ) *> " { R6 } ) c= { 1 } by L1176 , RELAT_1:132;
L1195: ( <* ( C311 . R5 ) *> " { R6 } ) = { 1 } by L1194 , L1188 , XBOOLE_0:def 10;
thus L1196: ( card ( ( C311 | { R5 } ) " { R6 } ) ) = ( card ( <* ( C311 . R5 ) *> " { R6 } ) ) by L1195 , L1187 , CARD_1:30;
end;
case L1197: R6 <> ( C311 . R5 );
L1198:
now
set D95 = the (Element of ( <* ( C311 . R5 ) *> " { R6 } ));
assume L1199: ( <* ( C311 . R5 ) *> " { R6 } ) <> ( {} );
L1200: ( <* ( C311 . R5 ) *> . D95 ) in { R6 } by L1199 , FUNCT_1:def 7;
L1201: ( <* ( C311 . R5 ) *> . D95 ) = R6 by L1200 , TARSKI:def 1;
L1202: D95 in { 1 } by L1176 , L1199 , FUNCT_1:def 7;
L1203: D95 = 1 by L1202 , TARSKI:def 1;
thus L1204: contradiction by L1203 , L1197 , L1201 , FINSEQ_1:40;
end;
L1205:
now
set D96 = the (Element of ( ( C311 | { R5 } ) " { R6 } ));
assume L1206: ( ( C311 | { R5 } ) " { R6 } ) <> ( {} );
L1207: ( ( C311 | { R5 } ) . D96 ) in { R6 } by L1206 , FUNCT_1:def 7;
L1208: ( ( C311 | { R5 } ) . D96 ) = R6 by L1207 , TARSKI:def 1;
L1209: D96 in { R5 } by L1175 , L1206 , FUNCT_1:def 7;
L1210: D96 = R5 by L1209 , TARSKI:def 1;
thus L1211: contradiction by L1210 , L1175 , L1197 , L1209 , L1208 , FUNCT_1:47;
end;
thus L1212: ( card ( ( C311 | { R5 } ) " { R6 } ) ) = ( card ( <* ( C311 . R5 ) *> " { R6 } ) ) by L1205 , L1198;
end;
end;
L1214: ( ( ( C311 | D93 ) " { R6 } ) \/ ( ( C311 | { R5 } ) " { R6 } ) ) = ( ( D93 /\ ( C311 " { R6 } ) ) \/ ( ( C311 | { R5 } ) " { R6 } ) ) by FUNCT_1:70
.= ( ( D93 /\ ( C311 " { R6 } ) ) \/ ( { R5 } /\ ( C311 " { R6 } ) ) ) by FUNCT_1:70
.= ( ( D93 \/ { R5 } ) /\ ( C311 " { R6 } ) ) by XBOOLE_1:23
.= ( ( C310 \/ { R5 } ) /\ ( C311 " { R6 } ) ) by XBOOLE_1:39
.= ( C310 /\ ( C311 " { R6 } ) ) by L1167 , XBOOLE_1:12
.= ( ( C311 | C310 ) " { R6 } ) by FUNCT_1:70;
L1215: ( ( ( C311 | D93 ) " { R6 } ) /\ ( ( C311 | { R5 } ) " { R6 } ) ) = ( ( D93 /\ ( C311 " { R6 } ) ) /\ ( ( C311 | { R5 } ) " { R6 } ) ) by FUNCT_1:70
.= ( ( D93 /\ ( C311 " { R6 } ) ) /\ ( { R5 } /\ ( C311 " { R6 } ) ) ) by FUNCT_1:70
.= ( ( ( ( C311 " { R6 } ) /\ D93 ) /\ { R5 } ) /\ ( C311 " { R6 } ) ) by XBOOLE_1:16
.= ( ( ( C311 " { R6 } ) /\ ( D93 /\ { R5 } ) ) /\ ( C311 " { R6 } ) ) by XBOOLE_1:16
.= ( ( {} ) /\ ( C311 " { R6 } ) ) by L1173 , XBOOLE_0:def 7
.= ( {} );
thus L1216: ( card ( Coim (( C311 | C310 ) , R6) ) ) = ( ( ( card ( ( C311 | D93 ) " { R6 } ) ) + ( card ( <* ( C311 . R5 ) *> " { R6 } ) ) ) - ( card ( {} ) ) ) by L1215 , L1214 , L1177 , CARD_2:45
.= ( card ( Coim (D94 , R6) ) ) by L1174 , FINSEQ_3:57;
end;
thus L1217: thesis by L1172 , CLASSES1:def 9;
end;
thus L1218: thesis by L1163;
end;
theorem
L1219: (for B269 being non  empty set holds (for B270 being (Element of B269) holds (for B271 being set holds (for B272 being (PartFunc of B269 , ( REAL )) holds ((( dom ( B272 | B271 ) ) is  finite & B270 in ( dom ( B272 | B271 ) )) implies ( ( FinS (B272 , ( B271 \ { B270 } )) ) ^ <* ( B272 . B270 ) *> ) , ( B272 | B271 ) are_fiberwise_equipotent )))))
proof
let C314 being non  empty set;
let C315 being (Element of C314);
let C316 being set;
let C317 being (PartFunc of C314 , ( REAL ));
set D97 = ( dom ( C317 | C316 ) );
assume that
L1220: D97 is  finite
and
L1221: C315 in D97;
set D98 = ( C316 \ { C315 } );
set D99 = ( dom ( C317 | D98 ) );
L1222: D99 = ( ( dom C317 ) /\ D98 ) by RELAT_1:61;
L1223: D97 = ( ( dom C317 ) /\ C316 ) by RELAT_1:61;
L1224: D99 = ( D97 \ { C315 } )
proof
thus L1225: D99 c= ( D97 \ { C315 } )
proof
let R6 being set;
assume L1226: R6 in D99;
L1227: R6 in ( C316 \ { C315 } ) by L1226 , L1222 , XBOOLE_0:def 4;
L1228: (not R6 in { C315 }) by L1227 , XBOOLE_0:def 5;
L1229: R6 in ( dom C317 ) by L1222 , L1226 , XBOOLE_0:def 4;
L1230: R6 in D97 by L1229 , L1222 , L1223 , L1226 , XBOOLE_0:def 4;
thus L1231: thesis by L1230 , L1228 , XBOOLE_0:def 5;
end;

let R6 being set;
assume L1232: R6 in ( D97 \ { C315 } );
L1233: (not R6 in { C315 }) by L1232 , XBOOLE_0:def 5;
L1234: R6 in D97 by L1232 , XBOOLE_0:def 5;
L1235: R6 in C316 by L1234 , L1223 , XBOOLE_0:def 4;
L1236: R6 in D98 by L1235 , L1233 , XBOOLE_0:def 5;
L1237: R6 in ( dom C317 ) by L1223 , L1234 , XBOOLE_0:def 4;
thus L1238: thesis by L1237 , L1222 , L1236 , XBOOLE_0:def 4;
end;
L1239: ( C317 | D97 ) = ( C317 | ( ( dom C317 ) /\ C316 ) ) by RELAT_1:61
.= ( ( C317 | ( dom C317 ) ) | C316 ) by RELAT_1:71
.= ( C317 | C316 ) by RELAT_1:68;
L1240: ( ( FinS (C317 , ( D97 \ { C315 } )) ) ^ <* ( C317 . C315 ) *> ) , ( C317 | C316 ) are_fiberwise_equipotent  by L1239 , L1220 , L1221 , L1162;
thus L1241: thesis by L1240 , L1220 , L1224 , L1152;
end;
theorem
L1242: (for B273 being non  empty set holds (for B274 being (PartFunc of B273 , ( REAL )) holds (for B275 being set holds (for B276 being  finite set holds (B276 = ( dom ( B274 | B275 ) ) implies ( len ( FinS (B274 , B275) ) ) = ( card B276 ))))))
proof
let C318 being non  empty set;
let C319 being (PartFunc of C318 , ( REAL ));
let C320 being set;
let C321 being  finite set;
reconsider D100 = ( dom ( FinS (C319 , C320) ) ) as  finite set;
L1243: ( dom ( FinS (C319 , C320) ) ) = ( Seg ( len ( FinS (C319 , C320) ) ) ) by FINSEQ_1:def 3;
assume L1244: C321 = ( dom ( C319 | C320 ) );
L1245: ( FinS (C319 , C320) ) , ( C319 | C320 ) are_fiberwise_equipotent  by L1244 , L1144;
thus L1246: ( card C321 ) = ( card D100 ) by L1245 , L1244 , CLASSES1:81
.= ( len ( FinS (C319 , C320) ) ) by L1243 , FINSEQ_1:57;
end;
theorem
L1247: (for B277 being non  empty set holds (for B278 being (PartFunc of B277 , ( REAL )) holds ( FinS (B278 , ( {} )) ) = ( <*> ( REAL ) )))
proof
let C322 being non  empty set;
let C323 being (PartFunc of C322 , ( REAL ));
L1248: ( dom ( C323 | ( {} ) ) ) = ( ( dom C323 ) /\ ( {} ) ) by RELAT_1:61
.= ( {} );
L1249: ( len ( FinS (C323 , ( {} )) ) ) = ( 0 ) by L1248 , L1242 , CARD_1:27;
thus L1250: thesis by L1249;
end;
theorem
L1251: (for B279 being non  empty set holds (for B280 being (PartFunc of B279 , ( REAL )) holds (for B281 being (Element of B279) holds (B281 in ( dom B280 ) implies ( FinS (B280 , { B281 }) ) = <* ( B280 . B281 ) *>))))
proof
let C324 being non  empty set;
let C325 being (PartFunc of C324 , ( REAL ));
let C326 being (Element of C324);
assume L1252: C326 in ( dom C325 );
L1253: { C326 } c= ( dom C325 ) by L1252 , ZFMISC_1:31;
L1254: { C326 } = ( ( dom C325 ) /\ { C326 } ) by L1253 , XBOOLE_1:28
.= ( dom ( C325 | { C326 } ) ) by RELAT_1:61;
L1255: ( FinS (C325 , { C326 }) ) , ( C325 | { C326 } ) are_fiberwise_equipotent  by L1254 , L1144;
L1256: ( rng ( FinS (C325 , { C326 }) ) ) = ( rng ( C325 | { C326 } ) ) by L1255 , CLASSES1:75;
L1257: ( rng ( C325 | { C326 } ) ) = { ( C325 . C326 ) }
proof
thus L1258: ( rng ( C325 | { C326 } ) ) c= { ( C325 . C326 ) }
proof
let R5 being set;
assume L1259: R5 in ( rng ( C325 | { C326 } ) );
consider C327 being (Element of C324) such that L1260: C327 in ( dom ( C325 | { C326 } ) ) and L1261: ( ( C325 | { C326 } ) . C327 ) = R5 by L1259 , PARTFUN1:3;
L1262: C327 = C326 by L1254 , L1260 , TARSKI:def 1;
L1263: R5 = ( C325 . C326 ) by L1262 , L1260 , L1261 , FUNCT_1:47;
thus L1264: thesis by L1263 , TARSKI:def 1;
end;

let R5 being set;
L1265: C326 in ( dom ( C325 | { C326 } ) ) by L1254 , TARSKI:def 1;
assume L1266: R5 in { ( C325 . C326 ) };
L1267: R5 = ( C325 . C326 ) by L1266 , TARSKI:def 1;
L1268: R5 = ( ( C325 | { C326 } ) . C326 ) by L1267 , L1265 , FUNCT_1:47;
thus L1269: thesis by L1268 , L1265 , FUNCT_1:def 3;
end;
L1270: ( len ( FinS (C325 , { C326 }) ) ) = ( card { C326 } ) by L1254 , L1242
.= 1 by CARD_1:30;
thus L1271: thesis by L1270 , L1256 , L1257 , FINSEQ_1:39;
end;
theorem
L1272: (for B282 being non  empty set holds (for B283 being (PartFunc of B282 , ( REAL )) holds (for B284 being set holds (for B285 being (Element of B282) holds ((( dom ( B283 | B284 ) ) is  finite & B285 in ( dom ( B283 | B284 ) ) & ( ( FinS (B283 , B284) ) . ( len ( FinS (B283 , B284) ) ) ) = ( B283 . B285 )) implies ( FinS (B283 , B284) ) = ( ( FinS (B283 , ( B284 \ { B285 } )) ) ^ <* ( B283 . B285 ) *> ))))))
proof
let C328 being non  empty set;
let C329 being (PartFunc of C328 , ( REAL ));
let C330 being set;
let C331 being (Element of C328);
set D101 = ( dom ( C329 | C330 ) );
set D102 = ( FinS (C329 , C330) );
set D103 = ( FinS (C329 , ( C330 \ { C331 } )) );
assume that
L1273: D101 is  finite
and
L1274: C331 in D101
and
L1275: ( D102 . ( len D102 ) ) = ( C329 . C331 );
L1276: D102 , ( C329 | C330 ) are_fiberwise_equipotent  by L1273 , L1144;
L1277: ( rng D102 ) = ( rng ( C329 | C330 ) ) by L1276 , CLASSES1:75;
L1278: D102 <> ( {} ) by L1277 , L1274 , FUNCT_1:3 , RELAT_1:38;
L1279: ( ( 0 ) + 1 ) <= ( len D102 ) by L1278 , NAT_1:13;
L1280: ( max (( 0 ) , ( ( len D102 ) - 1 )) ) = ( ( len D102 ) - 1 ) by L1279 , FINSEQ_2:4;
reconsider D104 = ( ( len D102 ) - 1 ) as (Element of ( NAT )) by L1280 , FINSEQ_2:5;
L1281: ( len D102 ) = ( D104 + 1 );
L1282: D102 = ( ( D102 | D104 ) ^ <* ( C329 . C331 ) *> ) by L1281 , L1275 , RFINSEQ:7;
L1283: ( D102 | D104 ) is  non-increasing by RFINSEQ:20;
L1284: ( D103 ^ <* ( C329 . C331 ) *> ) , ( C329 | C330 ) are_fiberwise_equipotent  by L1273 , L1274 , L1219;
L1285: D102 , ( D103 ^ <* ( C329 . C331 ) *> ) are_fiberwise_equipotent  by L1284 , L1276 , CLASSES1:76;
L1286: D103 , ( D102 | D104 ) are_fiberwise_equipotent  by L1285 , L1282 , RFINSEQ:1;
thus L1287: thesis by L1286 , L1282 , L1283 , RFINSEQ:23;
end;
defpred S8[ (Element of ( NAT )) ] means (for B286 being non  empty set holds (for B287 being (PartFunc of B286 , ( REAL )) holds (for B288 being set holds (for B289 being set holds (for B290 being  finite set holds ((B290 = ( dom ( B287 | B289 ) ) & ( dom ( B287 | B288 ) ) is  finite & B289 c= B288 & $1 = ( card B290 ) & (for B291 , B292 being (Element of B286) holds ((B291 in ( dom ( B287 | B289 ) ) & B292 in ( dom ( B287 | ( B288 \ B289 ) ) )) implies ( B287 . B291 ) >= ( B287 . B292 )))) implies ( FinS (B287 , B288) ) = ( ( FinS (B287 , B289) ) ^ ( FinS (B287 , ( B288 \ B289 )) ) )))))));
L1288: S8[ ( 0 ) ]
proof
let C332 being non  empty set;
let C333 being (PartFunc of C332 , ( REAL ));
let C334 being set;
let C335 being set;
let C336 being  finite set;
assume that
L1289: C336 = ( dom ( C333 | C335 ) );
assume that
L1290: ( dom ( C333 | C334 ) ) is  finite
and
L1291: C335 c= C334
and
L1292: ( 0 ) = ( card C336 )
and
L1293: (for B293 , B294 being (Element of C332) holds ((B293 in ( dom ( C333 | C335 ) ) & B294 in ( dom ( C333 | ( C334 \ C335 ) ) )) implies ( C333 . B293 ) >= ( C333 . B294 )));
L1294: ( dom ( C333 | C335 ) ) = ( {} ) by L1289 , L1292;
L1295: ( dom ( C333 | ( C334 \ C335 ) ) ) = ( ( dom C333 ) /\ ( C334 \ C335 ) ) by RELAT_1:61;
L1296: (( dom ( C333 | C334 ) ) = ( ( dom C333 ) /\ C334 ) & ( dom ( C333 | C335 ) ) = ( ( dom C333 ) /\ C335 )) by RELAT_1:61;
L1297: ( dom ( C333 | ( C334 \ C335 ) ) ) = ( ( dom ( C333 | C334 ) ) \ ( {} ) ) by L1296 , L1295 , L1294 , XBOOLE_1:50
.= ( dom ( C333 | C334 ) );
L1298: ( FinS (C333 , ( C334 \ C335 )) ) = ( FinS (C333 , ( dom ( C333 | C334 ) )) ) by L1297 , L1290 , L1152
.= ( FinS (C333 , C334) ) by L1290 , L1152;
L1299: ( FinS (C333 , C335) ) = ( FinS (C333 , ( {} )) ) by L1294 , L1152
.= ( {} ) by L1247;
thus L1300: thesis by L1299 , L1298 , FINSEQ_1:34;
end;
L1301: (for R1 being (Element of ( NAT )) holds (S8[ R1 ] implies S8[ ( R1 + 1 ) ]))
proof
let R1 being (Element of ( NAT ));
assume L1302: S8[ R1 ];
let C337 being non  empty set;
let C338 being (PartFunc of C337 , ( REAL ));
let C339 being set;
let C340 being set;
set D105 = ( dom ( C338 | C339 ) );
set D106 = ( dom ( C338 | ( C339 \ C340 ) ) );
set D107 = ( FinS (C338 , C340) );
set D108 = ( FinS (C338 , ( C339 \ C340 )) );
let C341 being  finite set;
assume that
L1303: C341 = ( dom ( C338 | C340 ) )
and
L1304: ( dom ( C338 | C339 ) ) is  finite
and
L1305: C340 c= C339
and
L1306: ( R1 + 1 ) = ( card C341 )
and
L1307: (for B295 , B296 being (Element of C337) holds ((B295 in ( dom ( C338 | C340 ) ) & B296 in D106) implies ( C338 . B295 ) >= ( C338 . B296 )));
L1308: ( len D107 ) = ( R1 + 1 ) by L1303 , L1306 , L1242;
L1309: ( C338 | C340 ) , D107 are_fiberwise_equipotent  by L1303 , L1144;
L1310: ( rng D107 ) = ( rng ( C338 | C340 ) ) by L1309 , CLASSES1:75;
L1311: ( ( 0 ) + 1 ) <= ( R1 + 1 ) by NAT_1:13;
L1312: ( len D107 ) in ( dom D107 ) by L1311 , L1308 , FINSEQ_3:25;
L1313: ( D107 . ( len D107 ) ) in ( rng D107 ) by L1312 , FUNCT_1:def 3;
consider C342 being (Element of C337) such that L1314: C342 in C341 and L1315: ( ( C338 | C340 ) . C342 ) = ( D107 . ( len D107 ) ) by L1313 , L1303 , L1310 , PARTFUN1:3;
L1316: D106 = ( ( dom C338 ) /\ ( C339 \ C340 ) ) by RELAT_1:61;
L1317: C341 = ( ( dom C338 ) /\ C340 ) by L1303 , RELAT_1:61;
L1318: C342 in C340 by L1317 , L1314 , XBOOLE_0:def 4;
L1319: { C342 } c= C339 by L1318 , L1305 , ZFMISC_1:31;
L1320: C342 in ( dom C338 ) by L1317 , L1314 , XBOOLE_0:def 4;
L1321: { C342 } c= ( dom C338 ) by L1320 , ZFMISC_1:31;
L1322: { C342 } c= C340 by L1318 , ZFMISC_1:31;
L1323: ( D108 ^ <* ( C338 . C342 ) *> ) , ( <* ( C338 . C342 ) *> ^ D108 ) are_fiberwise_equipotent  by RFINSEQ:2;
set D109 = ( C340 \ { C342 } );
set D110 = ( dom ( C338 | D109 ) );
set D111 = ( dom ( C338 | ( C339 \ D109 ) ) );
L1324: D111 = ( ( dom C338 ) /\ ( C339 \ D109 ) ) by RELAT_1:61;
L1325: D110 = ( ( dom C338 ) /\ D109 ) by RELAT_1:61;
L1326: D110 = ( C341 \ { C342 } )
proof
thus L1327: D110 c= ( C341 \ { C342 } )
proof
let R6 being set;
assume L1328: R6 in D110;
L1329: R6 in ( C340 \ { C342 } ) by L1328 , L1325 , XBOOLE_0:def 4;
L1330: (not R6 in { C342 }) by L1329 , XBOOLE_0:def 5;
L1331: R6 in ( dom C338 ) by L1325 , L1328 , XBOOLE_0:def 4;
L1332: R6 in C341 by L1331 , L1317 , L1325 , L1328 , XBOOLE_0:def 4;
thus L1333: thesis by L1332 , L1330 , XBOOLE_0:def 5;
end;

let R6 being set;
assume L1334: R6 in ( C341 \ { C342 } );
L1335: ((not R6 in { C342 }) & R6 in C340) by L1334 , L1317 , XBOOLE_0:def 4 , XBOOLE_0:def 5;
L1336: R6 in D109 by L1335 , XBOOLE_0:def 5;
L1337: R6 in ( dom C338 ) by L1317 , L1334 , XBOOLE_0:def 4;
thus L1338: thesis by L1337 , L1325 , L1336 , XBOOLE_0:def 4;
end;
L1339: ( C338 . C342 ) = ( D107 . ( len D107 ) ) by L1303 , L1314 , L1315 , FUNCT_1:47;
L1340: D107 = ( ( D107 | R1 ) ^ <* ( C338 . C342 ) *> ) by L1339 , L1308 , RFINSEQ:7;
reconsider D112 = D110 as  finite set by L1326;
L1341: ( C339 \ D109 ) = ( ( C339 \ C340 ) \/ ( C339 /\ { C342 } ) ) by XBOOLE_1:52
.= ( ( C339 \ C340 ) \/ { C342 } ) by L1319 , XBOOLE_1:28;
L1342: D111 = ( D106 \/ ( ( dom C338 ) /\ { C342 } ) ) by L1341 , L1316 , L1324 , XBOOLE_1:23
.= ( D106 \/ { C342 } ) by L1321 , XBOOLE_1:28;
L1343:
now
let C343 , C344 being (Element of C337);
assume that
L1344: C343 in D112
and
L1345: C344 in D111;
L1346:
now
per cases  by L1342 , L1345 , XBOOLE_0:def 3;
case L1347: C344 in D106;
thus L1348: ( C338 . C343 ) >= ( C338 . C344 ) by L1347 , L1303 , L1307 , L1326 , L1344;
end;
case L1349: C344 in { C342 };
L1350: C344 = C342 by L1349 , TARSKI:def 1;
L1351: ( ( C338 | C340 ) . C343 ) in ( rng ( C338 | C340 ) ) by L1303 , L1326 , L1344 , FUNCT_1:def 3;
L1352: ( C338 . C343 ) in ( rng ( C338 | C340 ) ) by L1351 , L1303 , L1326 , L1344 , FUNCT_1:47;
consider C345 being Nat such that L1353: C345 in ( dom D107 ) and L1354: ( D107 . C345 ) = ( C338 . C343 ) by L1352 , L1310 , FINSEQ_2:10;
L1355: C345 <= ( len D107 ) by L1353 , FINSEQ_3:25;
L1356:
now
per cases ;
case L1357: C345 = ( len D107 );
thus L1358: ( C338 . C343 ) >= ( C338 . C344 ) by L1357 , L1303 , L1314 , L1315 , L1350 , L1354 , FUNCT_1:47;
end;
case L1359: C345 <> ( len D107 );
L1360: C345 < ( len D107 ) by L1359 , L1355 , XXREAL_0:1;
thus L1361: ( C338 . C343 ) >= ( C338 . C344 ) by L1360 , L1312 , L1339 , L1350 , L1353 , L1354 , RFINSEQ:19;
end;
end;
thus L1363: ( C338 . C343 ) >= ( C338 . C344 ) by L1356;
end;
end;
thus L1365: ( C338 . C343 ) >= ( C338 . C344 ) by L1346;
end;
L1366: D105 = ( ( dom C338 ) /\ C339 ) by RELAT_1:61;
L1367: D106 is  finite by L1366 , L1304 , L1316 , FINSET_1:1 , XBOOLE_1:26;
L1368: ( C338 | ( C339 \ C340 ) ) , D108 are_fiberwise_equipotent  by L1367 , L1144;
L1369: ( rng D108 ) = ( rng ( C338 | ( C339 \ C340 ) ) ) by L1368 , CLASSES1:75;
L1370: ( <* ( C338 . C342 ) *> ^ D108 ) is  non-increasing
proof
set D113 = ( <* ( C338 . C342 ) *> ^ D108 );
let R1 being (Element of ( NAT ));
assume that
L1371: R1 in ( dom ( <* ( C338 . C342 ) *> ^ D108 ) )
and
L1372: ( R1 + 1 ) in ( dom ( <* ( C338 . C342 ) *> ^ D108 ) );
L1373: 1 <= R1 by L1371 , FINSEQ_3:25;
L1374: ( max (( 0 ) , ( R1 - 1 )) ) = ( R1 - 1 ) by L1373 , FINSEQ_2:4;
reconsider D114 = ( R1 - 1 ) as (Element of ( NAT )) by L1374 , FINSEQ_2:5;
set D115 = ( D113 . R1 );
set D116 = ( D113 . ( R1 + 1 ) );
L1375: ( len <* ( C338 . C342 ) *> ) = 1 by FINSEQ_1:40;
L1376: ( len D113 ) = ( 1 + ( len D108 ) ) by L1375 , FINSEQ_1:22;
L1377: ( len D108 ) = ( ( len D113 ) - 1 ) by L1376;
L1378: ( R1 + 1 ) <= ( len D113 ) by L1372 , FINSEQ_3:25;
L1379: ( D114 + 1 ) <= ( len D108 ) by L1378 , L1377 , XREAL_1:19;
L1380: ( D114 + 1 ) in ( dom D108 ) by L1379 , L1373 , FINSEQ_3:25;
L1381: ( D108 . ( D114 + 1 ) ) in ( rng D108 ) by L1380 , FUNCT_1:def 3;
consider C346 being (Element of C337) such that L1382: (C346 in D106 & ( ( C338 | ( C339 \ C340 ) ) . C346 ) = ( D108 . ( D114 + 1 ) )) by L1381 , L1369 , PARTFUN1:3;
L1383: 1 < ( R1 + 1 ) by L1373 , NAT_1:13;
L1384: ( D113 . ( R1 + 1 ) ) = ( D108 . ( ( R1 + 1 ) - 1 ) ) by L1383 , L1375 , L1378 , FINSEQ_1:24
.= ( D108 . ( D114 + 1 ) );
L1385: R1 <= ( len D113 ) by L1371 , FINSEQ_3:25;
L1386: D114 <= ( len D108 ) by L1385 , L1377 , XREAL_1:9;
L1387: (( C338 . C346 ) = ( D108 . ( D114 + 1 ) ) & ( C338 . C342 ) >= ( C338 . C346 )) by L1303 , L1307 , L1314 , L1382 , FUNCT_1:47;
L1388:
now
per cases ;
suppose L1389: R1 = 1;

thus L1390: D115 >= D116 by L1389 , L1384 , L1387 , FINSEQ_1:41;
end;
suppose L1391: R1 <> 1;

L1392: 1 < R1 by L1391 , L1373 , XXREAL_0:1;
L1393: ( 1 + 1 ) <= R1 by L1392 , NAT_1:13;
L1394: 1 <= D114 by L1393 , XREAL_1:19;
L1395: D114 in ( dom D108 ) by L1394 , L1386 , FINSEQ_3:25;
L1396: ( D113 . R1 ) = ( D108 . D114 ) by L1375 , L1385 , L1392 , FINSEQ_1:24;
thus L1397: D115 >= D116 by L1396 , L1380 , L1384 , L1395 , RFINSEQ:def 3;
end;
end;
thus L1399: D115 >= D116 by L1388;
end;
L1400: C342 in { C342 } by TARSKI:def 1;
L1401: C342 in ( C339 \ D109 ) by L1400 , L1341 , XBOOLE_0:def 3;
L1402: C342 in D111 by L1401 , L1324 , L1320 , XBOOLE_0:def 4;
L1403: ( ( C339 \ D109 ) \ { C342 } ) = ( C339 \ ( D109 \/ { C342 } ) ) by XBOOLE_1:41
.= ( C339 \ ( C340 \/ { C342 } ) ) by XBOOLE_1:39
.= ( C339 \ C340 ) by L1322 , XBOOLE_1:12;
L1404: ( D108 ^ <* ( C338 . C342 ) *> ) , ( C338 | ( C339 \ D109 ) ) are_fiberwise_equipotent  by L1403 , L1367 , L1342 , L1402 , L1219;
L1405: ( <* ( C338 . C342 ) *> ^ D108 ) , ( C338 | ( C339 \ D109 ) ) are_fiberwise_equipotent  by L1404 , L1323 , CLASSES1:76;
L1406: ( <* ( C338 . C342 ) *> ^ D108 ) = ( FinS (C338 , ( C339 \ D109 )) ) by L1405 , L1367 , L1342 , L1370 , L1144;
L1407: { C342 } c= C341 by L1314 , ZFMISC_1:31;
L1408: ( card D112 ) = ( ( card C341 ) - ( card { C342 } ) ) by L1407 , L1326 , CARD_2:44
.= ( ( R1 + 1 ) - 1 ) by L1306 , CARD_1:30
.= R1;
L1409: ( FinS (C338 , C339) ) = ( ( FinS (C338 , D109) ) ^ ( FinS (C338 , ( C339 \ D109 )) ) ) by L1408 , L1302 , L1304 , L1305 , L1343 , XBOOLE_1:1;
L1410: ( FinS (C338 , C339) ) = ( ( ( FinS (C338 , D109) ) ^ <* ( C338 . C342 ) *> ) ^ D108 ) by L1409 , L1406 , FINSEQ_1:32;
L1411: ( D107 | R1 ) is  non-increasing by RFINSEQ:20;
L1412: ( C338 | C340 ) , ( ( FinS (C338 , D109) ) ^ <* ( C338 . C342 ) *> ) are_fiberwise_equipotent  by L1303 , L1314 , L1219;
L1413: ( ( FinS (C338 , D109) ) ^ <* ( C338 . C342 ) *> ) , D107 are_fiberwise_equipotent  by L1412 , L1309 , CLASSES1:76;
L1414: ( FinS (C338 , D109) ) , ( D107 | R1 ) are_fiberwise_equipotent  by L1413 , L1340 , RFINSEQ:1;
thus L1415: thesis by L1414 , L1410 , L1340 , L1411 , RFINSEQ:23;
end;
theorem
L1416: (for B297 being non  empty set holds (for B298 being (PartFunc of B297 , ( REAL )) holds (for B299 , B300 being set holds ((( dom ( B298 | B299 ) ) is  finite & B300 c= B299 & (for B301 , B302 being (Element of B297) holds ((B301 in ( dom ( B298 | B300 ) ) & B302 in ( dom ( B298 | ( B299 \ B300 ) ) )) implies ( B298 . B301 ) >= ( B298 . B302 )))) implies ( FinS (B298 , B299) ) = ( ( FinS (B298 , B300) ) ^ ( FinS (B298 , ( B299 \ B300 )) ) )))))
proof
L1417: (for R1 being (Element of ( NAT )) holds S8[ R1 ]) from NAT_1:sch 1(L1288 , L1301);
let C347 being non  empty set;
let C348 being (PartFunc of C347 , ( REAL ));
let C349 being set;
let C350 being set;
assume that
L1418: ( dom ( C348 | C349 ) ) is  finite
and
L1419: C350 c= C349
and
L1420: (for B303 , B304 being (Element of C347) holds ((B303 in ( dom ( C348 | C350 ) ) & B304 in ( dom ( C348 | ( C349 \ C350 ) ) )) implies ( C348 . B303 ) >= ( C348 . B304 )));
L1421: ( C348 | C350 ) c= ( C348 | C349 ) by L1419 , RELAT_1:75;
reconsider D117 = ( dom ( C348 | C350 ) ) as  finite set by L1421 , L1418 , FINSET_1:1 , RELAT_1:11;
L1422: ( card D117 ) = ( card D117 );
thus L1423: thesis by L1422 , L1417 , L1418 , L1419 , L1420;
end;
theorem
L1424: (for B305 being non  empty set holds (for B306 being (PartFunc of B305 , ( REAL )) holds (for B307 being Real holds (for B308 being set holds (for B309 being (Element of B305) holds ((( dom ( B306 | B308 ) ) is  finite & B309 in ( dom ( B306 | B308 ) )) implies (( ( FinS (( B306 - B307 ) , B308) ) . ( len ( FinS (( B306 - B307 ) , B308) ) ) ) = ( ( B306 - B307 ) . B309 ) iff ( ( FinS (B306 , B308) ) . ( len ( FinS (B306 , B308) ) ) ) = ( B306 . B309 ))))))))
proof
let C351 being non  empty set;
let C352 being (PartFunc of C351 , ( REAL ));
let C353 being Real;
let C354 being set;
let C355 being (Element of C351);
set D118 = ( dom ( C352 | C354 ) );
set D119 = ( dom ( ( C352 - C353 ) | C354 ) );
set D120 = ( FinS (( C352 - C353 ) , C354) );
set D121 = ( FinS (C352 , C354) );
assume that
L1425: D118 is  finite
and
L1426: C355 in D118;
reconsider D122 = D118 as  finite set by L1425;
L1427: D119 = ( ( dom ( C352 - C353 ) ) /\ C354 ) by RELAT_1:61
.= ( ( dom C352 ) /\ C354 ) by VALUED_1:3
.= D122 by RELAT_1:61;
L1428: D121 , ( C352 | C354 ) are_fiberwise_equipotent  by L1427 , L1144;
L1429: ( rng D121 ) = ( rng ( C352 | C354 ) ) by L1428 , CLASSES1:75;
L1430: D121 <> ( {} ) by L1429 , L1426 , FUNCT_1:3 , RELAT_1:38;
L1431: ( ( 0 ) + 1 ) <= ( len D121 ) by L1430 , NAT_1:13;
L1432: ( len D121 ) in ( dom D121 ) by L1431 , FINSEQ_3:25;
L1433: ( ( C352 | C354 ) . C355 ) in ( rng ( C352 | C354 ) ) by L1426 , FUNCT_1:def 3;
L1434: ( C352 . C355 ) in ( rng ( C352 | C354 ) ) by L1433 , L1426 , FUNCT_1:47;
consider C356 being Nat such that L1435: C356 in ( dom D121 ) and L1436: ( D121 . C356 ) = ( C352 . C355 ) by L1434 , L1429 , FINSEQ_2:10;
L1437: ( dom D121 ) = ( Seg ( len D121 ) ) by FINSEQ_1:def 3;
L1438: D120 , ( ( C352 - C353 ) | C354 ) are_fiberwise_equipotent  by L1427 , L1144;
L1439: ( rng D120 ) = ( rng ( ( C352 - C353 ) | C354 ) ) by L1438 , CLASSES1:75;
L1440: (( len D121 ) = ( card D122 ) & ( dom D120 ) = ( Seg ( len D120 ) )) by L1242 , FINSEQ_1:def 3;
L1441: ( len D120 ) = ( card D122 ) by L1427 , L1242;
L1442: ( D120 . ( len D120 ) ) in ( rng D120 ) by L1441 , L1440 , L1437 , L1432 , FUNCT_1:def 3;
consider C357 being (Element of C351) such that L1443: C357 in D119 and L1444: ( ( ( C352 - C353 ) | C354 ) . C357 ) = ( D120 . ( len D120 ) ) by L1442 , L1439 , PARTFUN1:3;
L1445: ( ( C352 | C354 ) . C357 ) = ( C352 . C357 ) by L1427 , L1443 , FUNCT_1:47;
L1446: ( C352 . C357 ) in ( rng ( C352 | C354 ) ) by L1445 , L1427 , L1443 , FUNCT_1:def 3;
consider C358 being Nat such that L1447: C358 in ( dom D121 ) and L1448: ( D121 . C358 ) = ( C352 . C357 ) by L1446 , L1429 , FINSEQ_2:10;
L1449: ( dom ( C352 - C353 ) ) = ( dom C352 ) by VALUED_1:3;
L1450: D119 = ( ( dom ( C352 - C353 ) ) /\ C354 ) by RELAT_1:61;
L1451: C357 in ( dom ( C352 - C353 ) ) by L1450 , L1443 , XBOOLE_0:def 4;
L1452: ( D120 . ( len D120 ) ) = ( ( C352 - C353 ) . C357 ) by L1443 , L1444 , FUNCT_1:47
.= ( ( C352 . C357 ) - C353 ) by L1449 , L1451 , VALUED_1:3;
L1453: C355 in ( dom ( C352 - C353 ) ) by L1426 , L1427 , L1450 , XBOOLE_0:def 4;
L1454: ( ( C352 - C353 ) . C355 ) = ( ( C352 . C355 ) - C353 ) by L1453 , L1449 , VALUED_1:3;
L1455: C356 <= ( len D121 ) by L1435 , FINSEQ_3:25;
thus L1456: (( D120 . ( len D120 ) ) = ( ( C352 - C353 ) . C355 ) implies ( D121 . ( len D121 ) ) = ( C352 . C355 ))
proof
L1457: ( D121 . ( len D121 ) ) in ( rng D121 ) by L1432 , FUNCT_1:def 3;
consider C359 being (Element of C351) such that L1458: C359 in D122 and L1459: ( ( C352 | C354 ) . C359 ) = ( D121 . ( len D121 ) ) by L1457 , L1429 , PARTFUN1:3;
L1460: C359 in ( dom ( C352 - C353 ) ) by L1427 , L1450 , L1458 , XBOOLE_0:def 4;
L1461: ( C352 . C359 ) = ( D121 . ( len D121 ) ) by L1458 , L1459 , FUNCT_1:47;
L1462: ( ( ( C352 - C353 ) | C354 ) . C359 ) = ( ( C352 - C353 ) . C359 ) by L1427 , L1458 , FUNCT_1:47
.= ( ( C352 . C359 ) - C353 ) by L1449 , L1460 , VALUED_1:3;
L1463: ( ( C352 . C359 ) - C353 ) in ( rng ( ( C352 - C353 ) | C354 ) ) by L1462 , L1427 , L1458 , FUNCT_1:def 3;
consider C360 being Nat such that L1464: C360 in ( dom D120 ) and L1465: ( D120 . C360 ) = ( ( C352 . C359 ) - C353 ) by L1463 , L1439 , FINSEQ_2:10;
L1466: C360 <= ( len D120 ) by L1464 , FINSEQ_3:25;
assume that
L1467: ( D120 . ( len D120 ) ) = ( ( C352 - C353 ) . C355 )
and
L1468: ( D121 . ( len D121 ) ) <> ( C352 . C355 );
L1469: C356 < ( len D121 ) by L1436 , L1455 , L1468 , XXREAL_0:1;
L1470: ( C352 . C355 ) >= ( C352 . C359 ) by L1469 , L1432 , L1435 , L1436 , L1461 , RFINSEQ:19;
L1471:
now
per cases ;
case L1472: ( len D120 ) = C360;
L1473: ( ( C352 . C359 ) + ( - C353 ) ) = ( ( C352 . C355 ) - C353 ) by L1472 , L1449 , L1453 , L1467 , L1465 , VALUED_1:3;
thus L1474: contradiction by L1473 , L1468 , L1458 , L1459 , FUNCT_1:47;
end;
case L1475: ( len D120 ) <> C360;
L1476: C360 < ( len D120 ) by L1475 , L1466 , XXREAL_0:1;
L1477: ( ( C352 . C359 ) - C353 ) >= ( ( C352 . C355 ) - C353 ) by L1476 , L1441 , L1440 , L1437 , L1454 , L1432 , L1467 , L1464 , L1465 , RFINSEQ:19;
L1478: ( C352 . C359 ) >= ( C352 . C355 ) by L1477 , XREAL_1:9;
thus L1479: contradiction by L1478 , L1468 , L1461 , L1470 , XXREAL_0:1;
end;
end;
thus L1481: contradiction by L1471;
end;

assume that
L1482: ( D121 . ( len D121 ) ) = ( C352 . C355 )
and
L1483: ( D120 . ( len D120 ) ) <> ( ( C352 - C353 ) . C355 );
L1484: ( ( ( C352 - C353 ) | C354 ) . C355 ) in ( rng ( ( C352 - C353 ) | C354 ) ) by L1426 , L1427 , FUNCT_1:def 3;
L1485: ( ( C352 - C353 ) . C355 ) in ( rng ( ( C352 - C353 ) | C354 ) ) by L1484 , L1426 , L1427 , FUNCT_1:47;
consider C361 being Nat such that L1486: C361 in ( dom D120 ) and L1487: ( D120 . C361 ) = ( ( C352 . C355 ) - C353 ) by L1485 , L1439 , L1454 , FINSEQ_2:10;
L1488: C361 <= ( len D120 ) by L1486 , FINSEQ_3:25;
L1489: C361 < ( len D120 ) by L1488 , L1454 , L1483 , L1487 , XXREAL_0:1;
L1490: ( ( C352 . C355 ) - C353 ) >= ( ( C352 . C357 ) - C353 ) by L1489 , L1441 , L1440 , L1437 , L1432 , L1452 , L1486 , L1487 , RFINSEQ:19;
L1491: ( C352 . C355 ) >= ( C352 . C357 ) by L1490 , XREAL_1:9;
L1492: C358 <= ( len D121 ) by L1447 , FINSEQ_3:25;
L1493:
now
per cases ;
case L1494: ( len D121 ) = C358;
thus L1495: contradiction by L1494 , L1449 , L1453 , L1482 , L1483 , L1452 , L1448 , VALUED_1:3;
end;
case L1496: ( len D121 ) <> C358;
L1497: C358 < ( len D121 ) by L1496 , L1492 , XXREAL_0:1;
L1498: ( C352 . C357 ) >= ( C352 . C355 ) by L1497 , L1432 , L1482 , L1447 , L1448 , RFINSEQ:19;
thus L1499: contradiction by L1498 , L1454 , L1483 , L1452 , L1491 , XXREAL_0:1;
end;
end;
thus L1501: contradiction by L1493;
end;
theorem
L1502: (for B310 being non  empty set holds (for B311 being (PartFunc of B310 , ( REAL )) holds (for B312 being Real holds (for B313 being set holds (for B314 being  finite set holds (B314 = ( dom ( B311 | B313 ) ) implies ( FinS (( B311 - B312 ) , B313) ) = ( ( FinS (B311 , B313) ) - ( ( card B314 ) |-> B312 ) )))))))
proof
let C362 being non  empty set;
let C363 being (PartFunc of C362 , ( REAL ));
let C364 being Real;
let C365 being set;
defpred S9[ (Element of ( NAT )) ] means (for B315 being set holds (for B316 being  finite set holds ((B316 = ( dom ( C363 | B315 ) ) & $1 = ( card B316 )) implies ( FinS (( C363 - C364 ) , B315) ) = ( ( FinS (C363 , B315) ) - ( ( card B316 ) |-> C364 ) ))));
L1503: (for R1 being (Element of ( NAT )) holds (S9[ R1 ] implies S9[ ( R1 + 1 ) ]))
proof
let R1 being (Element of ( NAT ));
assume L1504: S9[ R1 ];
let C366 being set;
let C367 being  finite set;
assume L1505: C367 = ( dom ( C363 | C366 ) );
set D123 = ( FinS (( C363 - C364 ) , C366) );
set D124 = ( FinS (C363 , C366) );
L1506: ( dom ( ( C363 - C364 ) | C366 ) ) = ( ( dom ( C363 - C364 ) ) /\ C366 ) by RELAT_1:61
.= ( ( dom C363 ) /\ C366 ) by VALUED_1:3
.= ( dom ( C363 | C366 ) ) by RELAT_1:61;
L1507: ( len D123 ) = ( card C367 ) by L1506 , L1505 , L1242;
L1508: ( FinS (( C363 - C364 ) , C366) ) , ( ( C363 - C364 ) | C366 ) are_fiberwise_equipotent  by L1505 , L1506 , L1144;
L1509: ( rng ( FinS (( C363 - C364 ) , C366) ) ) = ( rng ( ( C363 - C364 ) | C366 ) ) by L1508 , CLASSES1:75;
assume L1510: ( R1 + 1 ) = ( card C367 );
L1511: ( len D124 ) = ( R1 + 1 ) by L1510 , L1505 , L1242;
L1512: ( ( 0 ) + 1 ) <= ( R1 + 1 ) by NAT_1:13;
L1513: ( len D123 ) in ( dom D123 ) by L1512 , L1510 , L1507 , FINSEQ_3:25;
L1514: ( D123 . ( len D123 ) ) in ( rng D123 ) by L1513 , FUNCT_1:def 3;
consider C368 being (Element of C362) such that L1515: C368 in ( dom ( ( C363 - C364 ) | C366 ) ) and L1516: ( ( ( C363 - C364 ) | C366 ) . C368 ) = ( D123 . ( len D123 ) ) by L1514 , L1509 , PARTFUN1:3;
set D125 = ( C366 \ { C368 } );
set D126 = ( dom ( C363 | C366 ) );
set D127 = ( dom ( C363 | D125 ) );
set D128 = ( FinS (( C363 - C364 ) , D125) );
set D129 = ( FinS (C363 , D125) );
set D130 = ( ( R1 + 1 ) |-> C364 );
set D131 = ( R1 |-> C364 );
L1517: { C368 } c= D126 by L1506 , L1515 , ZFMISC_1:31;
L1518: ( ( C363 - C364 ) . C368 ) = ( D123 . ( len D123 ) ) by L1515 , L1516 , FUNCT_1:47;
L1519: ( D124 . ( len D124 ) ) = ( C363 . C368 ) by L1518 , L1505 , L1506 , L1515 , L1424;
L1520: ( len D124 ) = ( card C367 ) by L1505 , L1242;
L1521: D124 = ( ( D124 | R1 ) ^ <* ( C363 . C368 ) *> ) by L1520 , L1510 , L1519 , RFINSEQ:7;
L1522: D124 = ( D129 ^ <* ( C363 . C368 ) *> ) by L1505 , L1506 , L1515 , L1519 , L1272;
L1523: D129 = ( D124 | R1 ) by L1522 , L1521 , FINSEQ_1:33;
L1524: ( dom ( D129 - D131 ) ) = ( Seg ( len ( D129 - D131 ) ) ) by FINSEQ_1:def 3;
L1525: D127 = ( ( dom C363 ) /\ D125 ) by RELAT_1:61;
L1526: D126 = ( ( dom C363 ) /\ C366 ) by RELAT_1:61;
L1527: D127 = ( D126 \ { C368 } )
proof
thus L1528: D127 c= ( D126 \ { C368 } )
proof
let R6 being set;
assume L1529: R6 in D127;
L1530: R6 in ( C366 \ { C368 } ) by L1529 , L1525 , XBOOLE_0:def 4;
L1531: (not R6 in { C368 }) by L1530 , XBOOLE_0:def 5;
L1532: R6 in ( dom C363 ) by L1525 , L1529 , XBOOLE_0:def 4;
L1533: R6 in D126 by L1532 , L1525 , L1526 , L1529 , XBOOLE_0:def 4;
thus L1534: thesis by L1533 , L1531 , XBOOLE_0:def 5;
end;

let R6 being set;
assume L1535: R6 in ( D126 \ { C368 } );
L1536: (not R6 in { C368 }) by L1535 , XBOOLE_0:def 5;
L1537: R6 in D126 by L1535 , XBOOLE_0:def 5;
L1538: R6 in C366 by L1537 , L1526 , XBOOLE_0:def 4;
L1539: R6 in D125 by L1538 , L1536 , XBOOLE_0:def 5;
L1540: R6 in ( dom C363 ) by L1526 , L1537 , XBOOLE_0:def 4;
thus L1541: thesis by L1540 , L1525 , L1539 , XBOOLE_0:def 4;
end;
reconsider D132 = D126 , D133 = D127 as  finite set by L1527 , L1505;
L1542: ( card D133 ) = ( ( card D132 ) - ( card { C368 } ) ) by L1517 , L1527 , CARD_2:44
.= ( ( R1 + 1 ) - 1 ) by L1505 , L1510 , CARD_1:30
.= R1;
L1543: (( len D131 ) = R1 & ( len D129 ) = R1) by L1542 , L1242 , CARD_1:def 7;
L1544: ( len ( D129 - D131 ) ) = R1 by L1543 , FINSEQ_2:72;
L1545: ( ( C363 - C364 ) . C368 ) = ( D123 . ( len D123 ) ) by L1515 , L1516 , FUNCT_1:47;
L1546: D123 = ( ( D123 | R1 ) ^ <* ( ( C363 - C364 ) . C368 ) *> ) by L1545 , L1510 , L1507 , RFINSEQ:7;
L1547: ( D128 ^ <* ( ( C363 - C364 ) . C368 ) *> ) , ( ( C363 - C364 ) | C366 ) are_fiberwise_equipotent  by L1505 , L1506 , L1515 , L1219;
L1548: ( D128 ^ <* ( ( C363 - C364 ) . C368 ) *> ) , D123 are_fiberwise_equipotent  by L1547 , L1508 , CLASSES1:76;
L1549: (( D123 | R1 ) is  non-increasing & D128 , ( D123 | R1 ) are_fiberwise_equipotent ) by L1548 , L1546 , RFINSEQ:1 , RFINSEQ:20;
L1550: D128 = ( D123 | R1 ) by L1549 , RFINSEQ:23;
L1551: ( len D130 ) = ( R1 + 1 ) by CARD_1:def 7;
L1552: ( len ( D124 - D130 ) ) = ( R1 + 1 ) by L1551 , L1511 , FINSEQ_2:72;
L1553: ( dom ( D124 - D130 ) ) = ( Seg ( R1 + 1 ) ) by L1552 , FINSEQ_1:def 3;
L1554: ( dom ( ( C363 - C364 ) | C366 ) ) = ( ( dom ( C363 - C364 ) ) /\ C366 ) by RELAT_1:61;
L1555: C368 in ( dom ( C363 - C364 ) ) by L1554 , L1515 , XBOOLE_0:def 4;
L1556: C368 in ( dom C363 ) by L1555 , VALUED_1:3;
L1557: ( ( C363 - C364 ) . C368 ) = ( ( C363 . C368 ) - C364 ) by L1556 , VALUED_1:3;
L1558: <* ( ( C363 - C364 ) . C368 ) *> = ( <* ( C363 . C368 ) *> - <* C364 *> ) by L1557 , RVSUM_1:29;
L1559: R1 < ( R1 + 1 ) by NAT_1:13;
L1560: ( dom D124 ) = ( Seg ( len D124 ) ) by FINSEQ_1:def 3;
L1561: (( len <* ( C363 . C368 ) *> ) = 1 & ( len <* C364 *> ) = 1) by FINSEQ_1:40;
L1562: ( len ( <* ( C363 . C368 ) *> - <* C364 *> ) ) = 1 by L1561 , FINSEQ_2:72;
L1563: ( len ( ( D129 - D131 ) ^ ( <* ( C363 . C368 ) *> - <* C364 *> ) ) ) = ( R1 + 1 ) by L1562 , L1544 , FINSEQ_1:22;
L1564: 1 in ( Seg 1 ) by FINSEQ_1:1;
L1565: 1 in ( dom ( <* ( C363 . C368 ) *> - <* C364 *> ) ) by L1564 , L1562 , FINSEQ_1:def 3;
L1566: (( <* ( C363 . C368 ) *> . 1 ) = ( C363 . C368 ) & ( <* C364 *> . 1 ) = C364) by FINSEQ_1:40;
L1567:
now
let C369 being Nat;
assume L1568: C369 in ( dom ( D124 - D130 ) );
per cases ;
suppose L1569: C369 = ( R1 + 1 );

L1570: ( D130 . C369 ) = C364 by L1569 , FINSEQ_1:4 , FUNCOP_1:7;
L1571: ( ( ( D129 - D131 ) ^ ( <* ( C363 . C368 ) *> - <* C364 *> ) ) . C369 ) = ( ( <* ( C363 . C368 ) *> - <* C364 *> ) . ( ( R1 + 1 ) - R1 ) ) by L1544 , L1563 , L1559 , L1569 , FINSEQ_1:24
.= ( ( C363 . C368 ) - C364 ) by L1566 , L1565 , VALUED_1:13;
thus L1572: ( ( D124 - D130 ) . C369 ) = ( ( ( D129 - D131 ) ^ ( <* ( C363 . C368 ) *> - <* C364 *> ) ) . C369 ) by L1571 , L1519 , L1511 , L1568 , L1569 , L1570 , VALUED_1:13;
end;
suppose L1573: C369 <> ( R1 + 1 );

L1574: C369 <= ( R1 + 1 ) by L1553 , L1568 , FINSEQ_1:1;
L1575: C369 < ( R1 + 1 ) by L1574 , L1573 , XXREAL_0:1;
L1576: C369 <= R1 by L1575 , NAT_1:13;
reconsider D134 = ( D124 . C369 ) as Real;
L1577: R1 <= ( R1 + 1 ) by NAT_1:11;
L1578: ( D130 . C369 ) = C364 by L1553 , L1568 , FUNCOP_1:7;
L1579: 1 <= C369 by L1553 , L1568 , FINSEQ_1:1;
L1580: C369 in ( Seg R1 ) by L1579 , L1576 , FINSEQ_1:1;
L1581: C369 in ( dom ( D129 - D131 ) ) by L1580 , L1544 , FINSEQ_1:def 3;
L1582: 1 <= R1 by L1579 , L1576 , XXREAL_0:2;
L1583: R1 in ( Seg ( R1 + 1 ) ) by L1582 , L1577 , FINSEQ_1:1;
L1584: ( ( D124 | R1 ) . C369 ) = ( D124 . C369 ) by L1583 , L1511 , L1560 , L1580 , RFINSEQ:6;
L1585: (( ( ( D129 - D131 ) ^ ( <* ( C363 . C368 ) *> - <* C364 *> ) ) . C369 ) = ( ( D129 - D131 ) . C369 ) & ( D131 . C369 ) = C364) by L1544 , L1524 , L1580 , FINSEQ_1:def 7 , FUNCOP_1:7;
thus L1586: ( ( ( D129 - D131 ) ^ ( <* ( C363 . C368 ) *> - <* C364 *> ) ) . C369 ) = ( D134 - C364 ) by L1585 , L1523 , L1584 , L1581 , VALUED_1:13
.= ( ( D124 - D130 ) . C369 ) by L1568 , L1578 , VALUED_1:13;
end;
end;
L1588: D128 = ( D129 - D131 ) by L1504 , L1542;
thus L1589: thesis by L1588 , L1510 , L1546 , L1550 , L1558 , L1552 , L1563 , L1567 , FINSEQ_2:9;
end;
L1590: S9[ ( 0 ) ]
proof
let C370 being set;
let C371 being  finite set;
assume L1591: C371 = ( dom ( C363 | C370 ) );
assume L1592: ( 0 ) = ( card C371 );
L1593: ( dom ( C363 | C370 ) ) = ( {} ) by L1592 , L1591;
L1594: ( FinS (C363 , C370) ) = ( FinS (C363 , ( {} )) ) by L1593 , L1152
.= ( <*> ( REAL ) ) by L1247;
L1595: ( ( FinS (C363 , C370) ) - ( ( card C371 ) |-> C364 ) ) = ( <*> ( REAL ) ) by L1594 , FINSEQ_2:73;
L1596: ( dom ( ( C363 - C364 ) | C370 ) ) = ( ( dom ( C363 - C364 ) ) /\ C370 ) by RELAT_1:61
.= ( ( dom C363 ) /\ C370 ) by VALUED_1:3
.= ( dom ( C363 | C370 ) ) by RELAT_1:61;
thus L1597: ( FinS (( C363 - C364 ) , C370) ) = ( FinS (( C363 - C364 ) , ( {} )) ) by L1596 , L1593 , L1152
.= ( ( FinS (C363 , C370) ) - ( ( card C371 ) |-> C364 ) ) by L1595 , L1247;
end;
L1598: (for R1 being (Element of ( NAT )) holds S9[ R1 ]) from NAT_1:sch 1(L1590 , L1503);
let C372 being  finite set;
assume L1599: C372 = ( dom ( C363 | C365 ) );
thus L1600: thesis by L1599 , L1598;
end;
theorem
L1601: (for B317 being non  empty set holds (for B318 being (PartFunc of B317 , ( REAL )) holds (for B319 being set holds ((( dom ( B318 | B319 ) ) is  finite & (for B320 being (Element of B317) holds (B320 in ( dom ( B318 | B319 ) ) implies ( B318 . B320 ) >= ( 0 )))) implies ( FinS (( max+ B318 ) , B319) ) = ( FinS (B318 , B319) )))))
proof
let C373 being non  empty set;
let C374 being (PartFunc of C373 , ( REAL ));
let C375 being set;
assume that
L1602: ( dom ( C374 | C375 ) ) is  finite
and
L1603: (for B321 being (Element of C373) holds (B321 in ( dom ( C374 | C375 ) ) implies ( C374 . B321 ) >= ( 0 )));
L1604:
now
let C376 being (Element of C373);
assume L1605: C376 in ( dom ( C374 | C375 ) );
L1606: ( C374 . C376 ) >= ( 0 ) by L1605 , L1603;
thus L1607: ( ( C374 | C375 ) . C376 ) >= ( 0 ) by L1606 , L1605 , FUNCT_1:47;
end;
L1608: ( C374 | C375 ) = ( max+ ( C374 | C375 ) ) by L1604 , L822
.= ( ( max+ C374 ) | C375 ) by L804;
thus L1609: ( FinS (C374 , C375) ) = ( FinS (( ( max+ C374 ) | C375 ) , C375) ) by L1608 , L1602 , L1157
.= ( FinS (( max+ C374 ) , C375) ) by L1602 , L1608 , L1157;
end;
theorem
L1610: (for B322 being non  empty set holds (for B323 being (PartFunc of B322 , ( REAL )) holds (for B324 being set holds (for B325 being Real holds (for B326 being  finite set holds ((B326 = ( dom ( B323 | B324 ) ) & ( rng ( B323 | B324 ) ) = { B325 }) implies ( FinS (B323 , B324) ) = ( ( card B326 ) |-> B325 )))))))
proof
let C377 being non  empty set;
let C378 being (PartFunc of C377 , ( REAL ));
let C379 being set;
let C380 being Real;
let C381 being  finite set;
assume that
L1611: C381 = ( dom ( C378 | C379 ) );
set D135 = ( FinS (C378 , C379) );
assume L1612: ( rng ( C378 | C379 ) ) = { C380 };
L1613: ( C378 | C379 ) , D135 are_fiberwise_equipotent  by L1611 , L1144;
L1614: ( rng D135 ) = { C380 } by L1613 , L1612 , CLASSES1:75;
L1615: ( dom D135 ) = ( Seg ( len D135 ) ) by FINSEQ_1:def 3;
L1616: ( len D135 ) = ( card C381 ) by L1611 , L1242;
thus L1617: thesis by L1616 , L1614 , L1615 , FUNCOP_1:9;
end;
theorem
L1618: (for B327 being non  empty set holds (for B328 being (PartFunc of B327 , ( REAL )) holds (for B329 , B330 being set holds ((( dom ( B328 | ( B329 \/ B330 ) ) ) is  finite & B329 misses B330) implies ( FinS (B328 , ( B329 \/ B330 )) ) , ( ( FinS (B328 , B329) ) ^ ( FinS (B328 , B330) ) ) are_fiberwise_equipotent ))))
proof
let C382 being non  empty set;
let C383 being (PartFunc of C382 , ( REAL ));
let C384 , C385 being set;
assume L1619: ( dom ( C383 | ( C384 \/ C385 ) ) ) is  finite;
L1620: ( C383 | C385 ) c= ( C383 | ( C384 \/ C385 ) ) by RELAT_1:75 , XBOOLE_1:7;
reconsider D136 = ( dom ( C383 | C385 ) ) as  finite set by L1620 , L1619 , FINSET_1:1 , RELAT_1:11;
defpred S10[ (Element of ( NAT )) ] means (for B331 being set holds (for B332 being  finite set holds ((B332 = ( dom ( C383 | B331 ) ) & ( dom ( C383 | ( C384 \/ B331 ) ) ) is  finite & ( C384 /\ B331 ) = ( {} ) & $1 = ( card B332 )) implies ( FinS (C383 , ( C384 \/ B331 )) ) , ( ( FinS (C383 , C384) ) ^ ( FinS (C383 , B331) ) ) are_fiberwise_equipotent )));
L1621: ( card D136 ) = ( card D136 );
L1622: (for R1 being (Element of ( NAT )) holds (S10[ R1 ] implies S10[ ( R1 + 1 ) ]))
proof
let R1 being (Element of ( NAT ));
assume L1623: S10[ R1 ];
let C386 being set;
let C387 being  finite set;
assume that
L1624: C387 = ( dom ( C383 | C386 ) )
and
L1625: ( dom ( C383 | ( C384 \/ C386 ) ) ) is  finite
and
L1626: ( C384 /\ C386 ) = ( {} )
and
L1627: ( R1 + 1 ) = ( card C387 );
set D137 = the (Element of ( dom ( C383 | C386 ) ));
reconsider D138 = D137 as (Element of C382) by L1624 , L1627 , CARD_1:27 , TARSKI:def 3;
set D139 = ( C386 \ { D138 } );
L1628: ( dom ( C383 | C386 ) ) = ( ( dom C383 ) /\ C386 ) by RELAT_1:61;
L1629:
now
assume L1630: D138 in C384;
L1631: D138 in C386 by L1624 , L1627 , L1628 , CARD_1:27 , XBOOLE_0:def 4;
thus L1632: contradiction by L1631 , L1626 , L1630 , XBOOLE_0:def 4;
end;
L1633: ( C384 \ { D138 } ) = C384 by L1629 , ZFMISC_1:57;
L1634: ( ( C384 \/ C386 ) \ { D138 } ) = ( C384 \/ D139 ) by L1633 , XBOOLE_1:42;
L1635: ( dom ( C383 | D139 ) ) = ( ( dom C383 ) /\ D139 ) by RELAT_1:61;
L1636: ( dom ( C383 | D139 ) ) = ( ( dom ( C383 | C386 ) ) \ { D138 } )
proof
thus L1637: ( dom ( C383 | D139 ) ) c= ( ( dom ( C383 | C386 ) ) \ { D138 } )
proof
let R6 being set;
assume L1638: R6 in ( dom ( C383 | D139 ) );
L1639: R6 in ( C386 \ { D138 } ) by L1638 , L1635 , XBOOLE_0:def 4;
L1640: (not R6 in { D138 }) by L1639 , XBOOLE_0:def 5;
L1641: R6 in ( dom C383 ) by L1635 , L1638 , XBOOLE_0:def 4;
L1642: R6 in ( dom ( C383 | C386 ) ) by L1641 , L1635 , L1628 , L1638 , XBOOLE_0:def 4;
thus L1643: thesis by L1642 , L1640 , XBOOLE_0:def 5;
end;

let R6 being set;
assume L1644: R6 in ( ( dom ( C383 | C386 ) ) \ { D138 } );
L1645: (not R6 in { D138 }) by L1644 , XBOOLE_0:def 5;
L1646: R6 in ( dom ( C383 | C386 ) ) by L1644 , XBOOLE_0:def 5;
L1647: R6 in C386 by L1646 , L1628 , XBOOLE_0:def 4;
L1648: R6 in D139 by L1647 , L1645 , XBOOLE_0:def 5;
L1649: R6 in ( dom C383 ) by L1628 , L1646 , XBOOLE_0:def 4;
thus L1650: thesis by L1649 , L1635 , L1648 , XBOOLE_0:def 4;
end;
reconsider D140 = ( dom ( C383 | D139 ) ) as  finite set by L1636 , L1624;
L1651: { D138 } c= ( dom ( C383 | C386 ) ) by L1624 , L1627 , CARD_1:27 , ZFMISC_1:31;
L1652: ( card D140 ) = ( ( R1 + 1 ) - ( card { D138 } ) ) by L1651 , L1624 , L1627 , L1636 , CARD_2:44
.= ( ( R1 + 1 ) - 1 ) by CARD_1:30
.= R1;
L1653: ( C384 \/ D139 ) c= ( C384 \/ C386 ) by XBOOLE_1:13;
L1654: ( ( dom C383 ) /\ ( C384 \/ D139 ) ) c= ( ( dom C383 ) /\ ( C384 \/ C386 ) ) by L1653 , XBOOLE_1:27;
L1655: ( dom ( C383 | ( C384 \/ D139 ) ) ) c= ( ( dom C383 ) /\ ( C384 \/ C386 ) ) by L1654 , RELAT_1:61;
L1656: ( dom ( C383 | ( C384 \/ D139 ) ) ) c= ( dom ( C383 | ( C384 \/ C386 ) ) ) by L1655 , RELAT_1:61;
L1657: ( FinS (C383 , ( C384 \/ C386 )) ) , ( C383 | ( C384 \/ C386 ) ) are_fiberwise_equipotent  by L1625 , L1144;
L1658: ( dom ( C383 | ( C384 \/ C386 ) ) ) = ( ( dom C383 ) /\ ( C384 \/ C386 ) ) by RELAT_1:61
.= ( ( ( dom C383 ) /\ C384 ) \/ ( ( dom C383 ) /\ C386 ) ) by XBOOLE_1:23
.= ( ( dom ( C383 | C384 ) ) \/ ( ( dom C383 ) /\ C386 ) ) by RELAT_1:61
.= ( ( dom ( C383 | C384 ) ) \/ ( dom ( C383 | C386 ) ) ) by RELAT_1:61;
L1659: D138 in ( dom ( C383 | ( C384 \/ C386 ) ) ) by L1658 , L1624 , L1627 , CARD_1:27 , XBOOLE_0:def 3;
L1660: ( ( FinS (C383 , ( C384 \/ D139 )) ) ^ <* ( C383 . D138 ) *> ) , ( C383 | ( C384 \/ C386 ) ) are_fiberwise_equipotent  by L1659 , L1625 , L1634 , L1219;
L1661: ( ( FinS (C383 , ( C384 \/ D139 )) ) ^ <* ( C383 . D138 ) *> ) , ( FinS (C383 , ( C384 \/ C386 )) ) are_fiberwise_equipotent  by L1660 , L1657 , CLASSES1:76;
L1662: ( C384 /\ D139 ) c= ( C384 /\ C386 ) by XBOOLE_1:27;
L1663: ( FinS (C383 , ( C384 \/ D139 )) ) , ( ( FinS (C383 , C384) ) ^ ( FinS (C383 , D139) ) ) are_fiberwise_equipotent  by L1662 , L1623 , L1625 , L1626 , L1656 , L1652 , XBOOLE_1:3;
L1664: ( ( FinS (C383 , ( C384 \/ D139 )) ) ^ <* ( C383 . D138 ) *> ) , ( ( ( FinS (C383 , C384) ) ^ ( FinS (C383 , D139) ) ) ^ <* ( C383 . D138 ) *> ) are_fiberwise_equipotent  by L1663 , RFINSEQ:1;
L1665: ( ( FinS (C383 , ( C384 \/ D139 )) ) ^ <* ( C383 . D138 ) *> ) , ( ( FinS (C383 , C384) ) ^ ( ( FinS (C383 , D139) ) ^ <* ( C383 . D138 ) *> ) ) are_fiberwise_equipotent  by L1664 , FINSEQ_1:32;
L1666: (( ( FinS (C383 , D139) ) ^ <* ( C383 . D138 ) *> ) , ( C383 | C386 ) are_fiberwise_equipotent  & ( FinS (C383 , C386) ) , ( C383 | C386 ) are_fiberwise_equipotent ) by L1624 , L1627 , L1144 , L1219 , CARD_1:27;
L1667: ( ( FinS (C383 , D139) ) ^ <* ( C383 . D138 ) *> ) , ( FinS (C383 , C386) ) are_fiberwise_equipotent  by L1666 , CLASSES1:76;
L1668: ( ( ( FinS (C383 , D139) ) ^ <* ( C383 . D138 ) *> ) ^ ( FinS (C383 , C384) ) ) , ( ( FinS (C383 , C386) ) ^ ( FinS (C383 , C384) ) ) are_fiberwise_equipotent  by L1667 , RFINSEQ:1;
L1669: ( ( FinS (C383 , C384) ) ^ ( ( FinS (C383 , D139) ) ^ <* ( C383 . D138 ) *> ) ) , ( ( ( FinS (C383 , D139) ) ^ <* ( C383 . D138 ) *> ) ^ ( FinS (C383 , C384) ) ) are_fiberwise_equipotent  by RFINSEQ:2;
L1670: (( ( FinS (C383 , C386) ) ^ ( FinS (C383 , C384) ) ) , ( ( FinS (C383 , C384) ) ^ ( FinS (C383 , C386) ) ) are_fiberwise_equipotent  & ( ( FinS (C383 , C384) ) ^ ( ( FinS (C383 , D139) ) ^ <* ( C383 . D138 ) *> ) ) , ( ( FinS (C383 , C386) ) ^ ( FinS (C383 , C384) ) ) are_fiberwise_equipotent ) by L1669 , L1668 , CLASSES1:76 , RFINSEQ:2;
L1671: ( ( FinS (C383 , C384) ) ^ ( ( FinS (C383 , D139) ) ^ <* ( C383 . D138 ) *> ) ) , ( ( FinS (C383 , C384) ) ^ ( FinS (C383 , C386) ) ) are_fiberwise_equipotent  by L1670 , CLASSES1:76;
L1672: ( ( FinS (C383 , ( C384 \/ D139 )) ) ^ <* ( C383 . D138 ) *> ) , ( ( FinS (C383 , C384) ) ^ ( FinS (C383 , C386) ) ) are_fiberwise_equipotent  by L1671 , L1665 , CLASSES1:76;
thus L1673: thesis by L1672 , L1661 , CLASSES1:76;
end;
L1674: S10[ ( 0 ) ]
proof
let C388 being set;
let C389 being  finite set;
assume that
L1675: C389 = ( dom ( C383 | C388 ) )
and
L1676: ( dom ( C383 | ( C384 \/ C388 ) ) ) is  finite
and
L1677: ( C384 /\ C388 ) = ( {} )
and
L1678: ( 0 ) = ( card C389 );
L1679: ( dom ( C383 | ( C384 \/ C388 ) ) ) = ( ( dom C383 ) /\ ( C384 \/ C388 ) ) by RELAT_1:61
.= ( ( ( dom C383 ) /\ C384 ) \/ ( ( dom C383 ) /\ C388 ) ) by XBOOLE_1:23
.= ( ( dom ( C383 | C384 ) ) \/ ( ( dom C383 ) /\ C388 ) ) by RELAT_1:61
.= ( ( dom ( C383 | C384 ) ) \/ ( dom ( C383 | C388 ) ) ) by RELAT_1:61;
L1680: ( dom ( C383 | C384 ) ) is  finite by L1679 , L1676 , FINSET_1:1 , XBOOLE_1:7;
L1681: ( dom ( C383 | C388 ) ) = ( {} ) by L1675 , L1678;
L1682: ( FinS (C383 , ( C384 \/ C388 )) ) = ( FinS (C383 , ( dom ( C383 | C384 ) )) ) by L1681 , L1676 , L1679 , L1152
.= ( FinS (C383 , C384) ) by L1680 , L1152
.= ( ( FinS (C383 , C384) ) ^ ( <*> ( REAL ) ) ) by FINSEQ_1:34
.= ( ( FinS (C383 , C384) ) ^ ( FinS (C383 , ( dom ( C383 | C388 ) )) ) ) by L1681 , L1247
.= ( ( FinS (C383 , C384) ) ^ ( FinS (C383 , C388) ) ) by L1675 , L1152;
thus L1683: thesis by L1682;
end;
L1684: (for R1 being (Element of ( NAT )) holds S10[ R1 ]) from NAT_1:sch 1(L1674 , L1622);
assume L1685: ( C384 /\ C385 ) = ( {} );
thus L1686: thesis by L1685 , L1619 , L1684 , L1621;
end;
definition
let C390 being non  empty set;
let C391 being (PartFunc of C390 , ( REAL ));
let C392 being set;
func Sum (C391 , C392) -> Real equals 
( Sum ( FinS (C391 , C392) ) );
correctness;
end;
theorem
L1688: (for B333 being non  empty set holds (for B334 being (PartFunc of B333 , ( REAL )) holds (for B335 being set holds (for B336 being Real holds (( dom ( B334 | B335 ) ) is  finite implies ( Sum (( B336 (#) B334 ) , B335) ) = ( B336 * ( Sum (B334 , B335) ) ))))))
proof
let C393 being non  empty set;
let C394 being (PartFunc of C393 , ( REAL ));
let C395 being set;
let C396 being Real;
set D141 = ( dom ( C394 | C395 ) );
assume L1689: ( dom ( C394 | C395 ) ) is  finite;
reconsider D142 = ( C394 | C395 ) as  finite Function by L1689 , FINSET_1:10;
L1690: ( dom ( ( C396 (#) C394 ) | C395 ) ) = ( dom ( C396 (#) ( C394 | C395 ) ) ) by RFUNCT_1:49
.= ( dom ( C394 | C395 ) ) by VALUED_1:def 5;
reconsider D143 = ( ( C396 (#) C394 ) | C395 ) as  finite Function by L1690 , L1689 , FINSET_1:10;
consider C397 being FinSequence such that L1691: ( C394 | D141 ) , C397 are_fiberwise_equipotent  by L1689 , RFINSEQ:5;
L1692: ( rng ( C394 | D141 ) ) = ( rng C397 ) by L1691 , CLASSES1:75;
reconsider D144 = C397 as (FinSequence of ( REAL )) by L1692 , FINSEQ_1:def 4;
L1693: D141 = ( ( dom C394 ) /\ C395 ) by RELAT_1:61;
L1694: ( C394 | D141 ) = ( ( C394 | ( dom C394 ) ) | C395 ) by L1693 , RELAT_1:71
.= ( C394 | C395 ) by RELAT_1:68;
L1695: ( rng D144 ) = ( rng ( C394 | C395 ) ) by L1694 , L1691 , CLASSES1:75;
L1696:
now
let C398 being Real;
L1697: ( len ( C396 * D144 ) ) = ( len D144 ) by FINSEQ_2:33;
L1698:
now
per cases ;
case L1699: (not C398 in ( rng ( C396 * D144 ) ));
L1700:
now
assume L1701: C398 in ( rng ( ( C396 (#) C394 ) | C395 ) );
L1702: C398 in ( rng ( C396 (#) ( C394 | C395 ) ) ) by L1701 , RFUNCT_1:49;
consider C399 being (Element of C393) such that L1703: C399 in ( dom ( C396 (#) ( C394 | C395 ) ) ) and L1704: ( ( C396 (#) ( C394 | C395 ) ) . C399 ) = C398 by L1702 , PARTFUN1:3;
L1705: C399 in ( dom ( C394 | C395 ) ) by L1703 , VALUED_1:def 5;
L1706: ( ( C394 | C395 ) . C399 ) in ( rng ( C394 | C395 ) ) by L1705 , FUNCT_1:def 3;
consider C400 being Nat such that L1707: C400 in ( dom D144 ) and L1708: ( D144 . C400 ) = ( ( C394 | C395 ) . C399 ) by L1706 , L1695 , FINSEQ_2:10;
L1709: C398 = ( C396 * ( ( C394 | C395 ) . C399 ) ) by L1703 , L1704 , VALUED_1:def 5;
L1710: C398 = ( ( C396 * D144 ) . C400 ) by L1709 , L1708 , RVSUM_1:44;
L1711: C400 in ( dom ( C396 * D144 ) ) by L1697 , L1707 , FINSEQ_3:29;
thus L1712: contradiction by L1711 , L1699 , L1710 , FUNCT_1:def 3;
end;
L1713: ( ( C396 * D144 ) " { C398 } ) = ( {} ) by L1699 , L52;
thus L1714: ( card ( ( C396 * D144 ) " { C398 } ) ) = ( card ( D143 " { C398 } ) ) by L1713 , L1700 , L52;
end;
case L1715: C398 in ( rng ( C396 * D144 ) );
consider C401 being Nat such that L1716: C401 in ( dom ( C396 * D144 ) ) and L1717: ( ( C396 * D144 ) . C401 ) = C398 by L1715 , FINSEQ_2:10;
reconsider D145 = ( D144 . C401 ) as Real;
L1718: C398 = ( C396 * D145 ) by L1717 , RVSUM_1:44;
L1719:
now
per cases ;
case L1720: C396 = ( 0 );
L1721: ( ( C396 * D144 ) " { C398 } ) = ( dom D144 ) by L1720 , L1718 , RFINSEQ:25;
L1722: ( dom D142 ) = ( ( C396 (#) ( C394 | C395 ) ) " { C398 } ) by L1718 , L1720 , L80
.= ( ( ( C396 (#) C394 ) | C395 ) " { C398 } ) by RFUNCT_1:49;
thus L1723: ( card ( ( C396 * D144 ) " { C398 } ) ) = ( card ( D143 " { C398 } ) ) by L1722 , L1691 , L1694 , L1721 , CLASSES1:81;
end;
case L1724: C396 <> ( 0 );
L1725: ( Coim (( C396 * D144 ) , C398) ) = ( Coim (D144 , ( C398 / C396 )) ) by L1724 , RFINSEQ:24;
L1726: ( Coim (( ( C396 (#) C394 ) | C395 ) , C398) ) = ( ( C396 (#) ( C394 | C395 ) ) " { C398 } ) by RFUNCT_1:49
.= ( Coim (D142 , ( C398 / C396 )) ) by L1724 , L59;
thus L1727: ( card ( Coim (( C396 * D144 ) , C398) ) ) = ( card ( Coim (D143 , C398) ) ) by L1726 , L1691 , L1694 , L1725 , CLASSES1:def 9;
end;
end;
thus L1729: ( card ( ( C396 * D144 ) " { C398 } ) ) = ( card ( D143 " { C398 } ) ) by L1719;
end;
end;
thus L1731: ( card ( Coim (( C396 * D144 ) , C398) ) ) = ( card ( Coim (D143 , C398) ) ) by L1698;
end;
L1732: (( rng ( C396 * D144 ) ) c= ( REAL ) & ( rng ( ( C396 (#) C394 ) | C395 ) ) c= ( REAL ));
L1733: ( C396 * D144 ) , ( ( C396 (#) C394 ) | C395 ) are_fiberwise_equipotent  by L1732 , L1696 , CLASSES1:79;
L1734: ( C394 | C395 ) , ( FinS (C394 , C395) ) are_fiberwise_equipotent  by L1689 , L1144;
L1735: ( Sum D144 ) = ( Sum (C394 , C395) ) by L1734 , L1691 , L1694 , CLASSES1:76 , RFINSEQ:9;
L1736: ( dom ( ( C396 (#) C394 ) | C395 ) ) = ( ( dom ( C396 (#) C394 ) ) /\ C395 ) by RELAT_1:61
.= ( ( dom C394 ) /\ C395 ) by VALUED_1:def 5
.= ( dom ( C394 | C395 ) ) by RELAT_1:61;
L1737: ( ( C396 (#) C394 ) | C395 ) , ( FinS (( C396 (#) C394 ) , C395) ) are_fiberwise_equipotent  by L1736 , L1689 , L1144;
thus L1738: ( Sum (( C396 (#) C394 ) , C395) ) = ( Sum ( C396 * D144 ) ) by L1737 , L1733 , CLASSES1:76 , RFINSEQ:9
.= ( C396 * ( Sum (C394 , C395) ) ) by L1735 , RVSUM_1:87;
end;
theorem
L1739: (for B337 being non  empty set holds (for B338 , B339 being (PartFunc of B337 , ( REAL )) holds (for B340 being set holds (for B341 being  finite set holds ((B341 = ( dom ( B338 | B340 ) ) & ( dom ( B338 | B340 ) ) = ( dom ( B339 | B340 ) )) implies ( Sum (( B338 + B339 ) , B340) ) = ( ( Sum (B338 , B340) ) + ( Sum (B339 , B340) ) ))))))
proof
let C402 being non  empty set;
let C403 , C404 being (PartFunc of C402 , ( REAL ));
let C405 being set;
let C406 being  finite set;
assume that
L1740: C406 = ( dom ( C403 | C405 ) );
defpred S11[ (Element of ( NAT )) ] means (for B342 , B343 being (PartFunc of C402 , ( REAL )) holds (for B344 being set holds (for B345 being  finite set holds ((( card B345 ) = $1 & B345 = ( dom ( B342 | B344 ) ) & ( dom ( B342 | B344 ) ) = ( dom ( B343 | B344 ) )) implies ( Sum (( B342 + B343 ) , B344) ) = ( ( Sum (B342 , B344) ) + ( Sum (B343 , B344) ) )))));
L1741: ( card C406 ) = ( card C406 );
L1742: (for R1 being (Element of ( NAT )) holds (S11[ R1 ] implies S11[ ( R1 + 1 ) ]))
proof
let R1 being (Element of ( NAT ));
assume L1743: S11[ R1 ];
let C407 , C408 being (PartFunc of C402 , ( REAL ));
let C409 being set;
let C410 being  finite set;
set D146 = ( dom ( C408 | C409 ) );
assume that
L1744: ( card C410 ) = ( R1 + 1 )
and
L1745: C410 = ( dom ( C407 | C409 ) )
and
L1746: ( dom ( C407 | C409 ) ) = ( dom ( C408 | C409 ) );
set D147 = the (Element of C410);
reconsider D148 = D147 as (Element of C402) by L1744 , L1745 , CARD_1:27 , TARSKI:def 3;
L1747: C410 = ( ( dom C407 ) /\ C409 ) by L1745 , RELAT_1:61;
L1748: D148 in ( dom C407 ) by L1747 , L1744 , CARD_1:27 , XBOOLE_0:def 4;
set D149 = ( C409 \ { D148 } );
set D150 = ( dom ( C407 | D149 ) );
set D151 = ( dom ( C408 | D149 ) );
L1749: D146 = ( ( dom C408 ) /\ C409 ) by RELAT_1:61;
L1750: D148 in ( dom C408 ) by L1749 , L1744 , L1745 , L1746 , CARD_1:27 , XBOOLE_0:def 4;
L1751: D148 in ( ( dom C407 ) /\ ( dom C408 ) ) by L1750 , L1748 , XBOOLE_0:def 4;
L1752: D148 in ( dom ( C407 + C408 ) ) by L1751 , VALUED_1:def 1;
L1753: D150 = ( ( dom C407 ) /\ D149 ) by RELAT_1:61;
L1754: D150 = ( C410 \ { D148 } )
proof
thus L1755: D150 c= ( C410 \ { D148 } )
proof
let R6 being set;
assume L1756: R6 in D150;
L1757: R6 in ( C409 \ { D148 } ) by L1756 , L1753 , XBOOLE_0:def 4;
L1758: (not R6 in { D148 }) by L1757 , XBOOLE_0:def 5;
L1759: R6 in ( dom C407 ) by L1753 , L1756 , XBOOLE_0:def 4;
L1760: R6 in C410 by L1759 , L1753 , L1747 , L1756 , XBOOLE_0:def 4;
thus L1761: thesis by L1760 , L1758 , XBOOLE_0:def 5;
end;

let R6 being set;
assume L1762: R6 in ( C410 \ { D148 } );
L1763: ((not R6 in { D148 }) & R6 in C409) by L1762 , L1747 , XBOOLE_0:def 4 , XBOOLE_0:def 5;
L1764: R6 in D149 by L1763 , XBOOLE_0:def 5;
L1765: R6 in ( dom C407 ) by L1747 , L1762 , XBOOLE_0:def 4;
thus L1766: thesis by L1765 , L1753 , L1764 , XBOOLE_0:def 4;
end;
reconsider D152 = D150 as  finite set by L1754;
L1767: D151 = ( ( dom C408 ) /\ D149 ) by RELAT_1:61;
L1768: D152 = D151
proof
thus L1769: D152 c= D151
proof
let R6 being set;
assume L1770: R6 in D152;
L1771: R6 in ( dom C407 ) by L1770 , L1753 , XBOOLE_0:def 4;
L1772: R6 in D146 by L1771 , L1745 , L1746 , L1753 , L1747 , L1770 , XBOOLE_0:def 4;
L1773: R6 in ( dom C408 ) by L1772 , L1749 , XBOOLE_0:def 4;
L1774: R6 in D149 by L1753 , L1770 , XBOOLE_0:def 4;
thus L1775: thesis by L1774 , L1767 , L1773 , XBOOLE_0:def 4;
end;

let R6 being set;
assume L1776: R6 in D151;
L1777: R6 in ( dom C408 ) by L1776 , L1767 , XBOOLE_0:def 4;
L1778: R6 in C410 by L1777 , L1745 , L1746 , L1767 , L1749 , L1776 , XBOOLE_0:def 4;
L1779: R6 in ( dom C407 ) by L1778 , L1747 , XBOOLE_0:def 4;
L1780: R6 in D149 by L1767 , L1776 , XBOOLE_0:def 4;
thus L1781: thesis by L1780 , L1753 , L1779 , XBOOLE_0:def 4;
end;
L1782: { D148 } c= C410 by L1744 , CARD_1:27 , ZFMISC_1:31;
L1783: ( card D152 ) = ( ( card C410 ) - ( card { D148 } ) ) by L1782 , L1754 , CARD_2:44
.= ( ( R1 + 1 ) - 1 ) by L1744 , CARD_1:30
.= R1;
L1784: ( Sum (( C407 + C408 ) , D149) ) = ( ( Sum (C407 , D149) ) + ( Sum (C408 , D149) ) ) by L1783 , L1743 , L1768;
L1785: ( dom ( ( C407 + C408 ) | C409 ) ) = ( dom ( ( C407 | C409 ) + ( C408 | C409 ) ) ) by RFUNCT_1:44
.= ( C410 /\ D146 ) by L1745 , VALUED_1:def 1;
L1786: ( FinS (( C407 + C408 ) , C409) ) , ( ( C407 + C408 ) | C409 ) are_fiberwise_equipotent  by L1785 , L1144;
L1787: D148 in C409 by L1744 , L1747 , CARD_1:27 , XBOOLE_0:def 4;
L1788: D148 in ( ( dom ( C407 + C408 ) ) /\ C409 ) by L1787 , L1752 , XBOOLE_0:def 4;
L1789: D148 in ( dom ( ( C407 + C408 ) | C409 ) ) by L1788 , RELAT_1:61;
L1790: ( ( FinS (( C407 + C408 ) , D149) ) ^ <* ( ( C407 + C408 ) . D148 ) *> ) , ( ( C407 + C408 ) | C409 ) are_fiberwise_equipotent  by L1789 , L1785 , L1219;
L1791: (( ( FinS (C407 , D149) ) ^ <* ( C407 . D148 ) *> ) , ( C407 | C409 ) are_fiberwise_equipotent  & ( FinS (C407 , C409) ) , ( C407 | C409 ) are_fiberwise_equipotent ) by L1744 , L1745 , L1144 , L1219 , CARD_1:27;
L1792: ( Sum (C407 , C409) ) = ( Sum ( ( FinS (C407 , D149) ) ^ <* ( C407 . D148 ) *> ) ) by L1791 , CLASSES1:76 , RFINSEQ:9
.= ( ( Sum (C407 , D149) ) + ( C407 . D148 ) ) by RVSUM_1:74;
L1793: (( ( FinS (C408 , D149) ) ^ <* ( C408 . D148 ) *> ) , ( C408 | C409 ) are_fiberwise_equipotent  & ( FinS (C408 , C409) ) , ( C408 | C409 ) are_fiberwise_equipotent ) by L1744 , L1745 , L1746 , L1144 , L1219 , CARD_1:27;
L1794: ( Sum (C408 , C409) ) = ( Sum ( ( FinS (C408 , D149) ) ^ <* ( C408 . D148 ) *> ) ) by L1793 , CLASSES1:76 , RFINSEQ:9
.= ( ( Sum (C408 , D149) ) + ( C408 . D148 ) ) by RVSUM_1:74;
thus L1795: ( ( Sum (C407 , C409) ) + ( Sum (C408 , C409) ) ) = ( ( Sum ( FinS (( C407 + C408 ) , D149) ) ) + ( ( C407 . D148 ) + ( C408 . D148 ) ) ) by L1794 , L1784 , L1792
.= ( ( Sum ( FinS (( C407 + C408 ) , D149) ) ) + ( ( C407 + C408 ) . D148 ) ) by L1752 , VALUED_1:def 1
.= ( Sum ( ( FinS (( C407 + C408 ) , D149) ) ^ <* ( ( C407 + C408 ) . D148 ) *> ) ) by RVSUM_1:74
.= ( Sum (( C407 + C408 ) , C409) ) by L1790 , L1786 , CLASSES1:76 , RFINSEQ:9;
end;
L1796: S11[ ( 0 ) ]
proof
let C411 , C412 being (PartFunc of C402 , ( REAL ));
let C413 being set;
let C414 being  finite set;
assume that
L1797: ( card C414 ) = ( 0 )
and
L1798: C414 = ( dom ( C411 | C413 ) )
and
L1799: ( dom ( C411 | C413 ) ) = ( dom ( C412 | C413 ) );
L1800: ( dom ( C411 | C413 ) ) = ( {} ) by L1797 , L1798;
L1801: ( rng ( C411 | C413 ) ) = ( {} ) by L1800 , RELAT_1:42;
L1802: ( ( C411 + C412 ) | C413 ) = ( ( C411 | C413 ) + ( C412 | C413 ) ) by RFUNCT_1:44;
L1803: ( dom ( ( C411 + C412 ) | C413 ) ) = ( ( dom ( C411 | C413 ) ) /\ ( dom ( C412 | C413 ) ) ) by L1802 , VALUED_1:def 1
.= ( {} ) by L1797 , L1798 , L1799;
L1804: (( rng ( ( C411 + C412 ) | C413 ) ) = ( {} ) & ( FinS (( C411 + C412 ) , C413) ) , ( ( C411 + C412 ) | C413 ) are_fiberwise_equipotent ) by L1803 , L1144 , RELAT_1:42;
L1805: ( rng ( FinS (( C411 + C412 ) , C413) ) ) = ( {} ) by L1804 , CLASSES1:75;
L1806: ( FinS (C411 , C413) ) , ( C411 | C413 ) are_fiberwise_equipotent  by L1798 , L1144;
L1807: ( rng ( FinS (C411 , C413) ) ) = ( {} ) by L1806 , L1801 , CLASSES1:75;
L1808: ( Sum (C411 , C413) ) = ( 0 ) by L1807 , RELAT_1:41 , RVSUM_1:72;
L1809: ( dom ( C412 | C413 ) ) = ( {} ) by L1797 , L1798 , L1799;
L1810: ( rng ( C412 | C413 ) ) = ( {} ) by L1809 , RELAT_1:42;
L1811: ( FinS (C412 , C413) ) , ( C412 | C413 ) are_fiberwise_equipotent  by L1798 , L1799 , L1144;
L1812: ( rng ( FinS (C412 , C413) ) ) = ( {} ) by L1811 , L1810 , CLASSES1:75;
L1813: ( ( Sum (C411 , C413) ) + ( Sum (C412 , C413) ) ) = ( ( 0 ) + ( 0 ) ) by L1812 , L1808 , RELAT_1:41 , RVSUM_1:72;
thus L1814: thesis by L1813 , L1805 , RELAT_1:41 , RVSUM_1:72;
end;
L1815: (for R1 being (Element of ( NAT )) holds S11[ R1 ]) from NAT_1:sch 1(L1796 , L1742);
assume L1816: ( dom ( C403 | C405 ) ) = ( dom ( C404 | C405 ) );
thus L1817: thesis by L1816 , L1740 , L1815 , L1741;
end;
theorem
L1818: (for B346 being non  empty set holds (for B347 , B348 being (PartFunc of B346 , ( REAL )) holds (for B349 being set holds ((( dom ( B347 | B349 ) ) is  finite & ( dom ( B347 | B349 ) ) = ( dom ( B348 | B349 ) )) implies ( Sum (( B347 - B348 ) , B349) ) = ( ( Sum (B347 , B349) ) - ( Sum (B348 , B349) ) )))))
proof
let C415 being non  empty set;
let C416 , C417 being (PartFunc of C415 , ( REAL ));
let C418 being set;
assume L1819: (( dom ( C416 | C418 ) ) is  finite & ( dom ( C416 | C418 ) ) = ( dom ( C417 | C418 ) ));
L1820: ( dom ( ( ( - 1 ) (#) C417 ) | C418 ) ) = ( ( dom ( ( - 1 ) (#) C417 ) ) /\ C418 ) by RELAT_1:61
.= ( ( dom C417 ) /\ C418 ) by VALUED_1:def 5
.= ( dom ( C417 | C418 ) ) by RELAT_1:61;
thus L1821: ( Sum (( C416 - C417 ) , C418) ) = ( ( Sum (C416 , C418) ) + ( Sum (( ( - 1 ) (#) C417 ) , C418) ) ) by L1820 , L1819 , L1739
.= ( ( Sum (C416 , C418) ) + ( ( - 1 ) * ( Sum (C417 , C418) ) ) ) by L1819 , L1688
.= ( ( Sum (C416 , C418) ) - ( Sum (C417 , C418) ) );
end;
theorem
L1822: (for B350 being non  empty set holds (for B351 being (PartFunc of B350 , ( REAL )) holds (for B352 being set holds (for B353 being Real holds (for B354 being  finite set holds (B354 = ( dom ( B351 | B352 ) ) implies ( Sum (( B351 - B353 ) , B352) ) = ( ( Sum (B351 , B352) ) - ( B353 * ( card B354 ) ) )))))))
proof
let C419 being non  empty set;
let C420 being (PartFunc of C419 , ( REAL ));
let C421 being set;
let C422 being Real;
set D153 = ( FinS (C420 , C421) );
let C423 being  finite set;
set D154 = ( ( card C423 ) |-> C422 );
assume L1823: C423 = ( dom ( C420 | C421 ) );
L1824: ( len D153 ) = ( card C423 ) by L1823 , L1242;
reconsider D155 = D153 , D156 = D154 as (Element of ( ( card C423 ) -tuples_on ( REAL ) )) by L1824 , FINSEQ_2:92;
L1825: ( FinS (( C420 - C422 ) , C421) ) = ( D153 - D154 ) by L1823 , L1502;
thus L1826: ( Sum (( C420 - C422 ) , C421) ) = ( ( Sum D155 ) - ( Sum D156 ) ) by L1825 , RVSUM_1:90
.= ( ( Sum (C420 , C421) ) - ( C422 * ( card C423 ) ) ) by RVSUM_1:80;
end;
theorem
L1827: (for B355 being non  empty set holds (for B356 being (PartFunc of B355 , ( REAL )) holds ( Sum (B356 , ( {} )) ) = ( 0 ))) by L1247 , RVSUM_1:72;
theorem
L1828: (for B357 being non  empty set holds (for B358 being (PartFunc of B357 , ( REAL )) holds (for B359 being (Element of B357) holds (B359 in ( dom B358 ) implies ( Sum (B358 , { B359 }) ) = ( B358 . B359 )))))
proof
let C424 being non  empty set;
let C425 being (PartFunc of C424 , ( REAL ));
let C426 being (Element of C424);
assume L1829: C426 in ( dom C425 );
thus L1830: ( Sum (C425 , { C426 }) ) = ( Sum <* ( C425 . C426 ) *> ) by L1829 , L1251
.= ( C425 . C426 ) by FINSOP_1:11;
end;
theorem
L1831: (for B360 being non  empty set holds (for B361 being (PartFunc of B360 , ( REAL )) holds (for B362 , B363 being set holds ((( dom ( B361 | ( B362 \/ B363 ) ) ) is  finite & B362 misses B363) implies ( Sum (B361 , ( B362 \/ B363 )) ) = ( ( Sum (B361 , B362) ) + ( Sum (B361 , B363) ) )))))
proof
let C427 being non  empty set;
let C428 being (PartFunc of C427 , ( REAL ));
let C429 , C430 being set;
assume L1832: (( dom ( C428 | ( C429 \/ C430 ) ) ) is  finite & C429 misses C430);
thus L1833: ( Sum (C428 , ( C429 \/ C430 )) ) = ( Sum ( ( FinS (C428 , C429) ) ^ ( FinS (C428 , C430) ) ) ) by L1832 , L1618 , RFINSEQ:9
.= ( ( Sum (C428 , C429) ) + ( Sum (C428 , C430) ) ) by RVSUM_1:75;
end;
theorem
L1834: (for B364 being non  empty set holds (for B365 being (PartFunc of B364 , ( REAL )) holds (for B366 , B367 being set holds ((( dom ( B365 | ( B366 \/ B367 ) ) ) is  finite & ( dom ( B365 | B366 ) ) misses ( dom ( B365 | B367 ) )) implies ( Sum (B365 , ( B366 \/ B367 )) ) = ( ( Sum (B365 , B366) ) + ( Sum (B365 , B367) ) )))))
proof
let C431 being non  empty set;
let C432 being (PartFunc of C431 , ( REAL ));
let C433 , C434 being set;
assume that
L1835: ( dom ( C432 | ( C433 \/ C434 ) ) ) is  finite
and
L1836: ( dom ( C432 | C433 ) ) misses ( dom ( C432 | C434 ) );
L1837: ( dom ( C432 | ( C433 \/ C434 ) ) ) = ( ( dom C432 ) /\ ( C433 \/ C434 ) ) by RELAT_1:61
.= ( ( ( dom C432 ) /\ C433 ) \/ ( ( dom C432 ) /\ C434 ) ) by XBOOLE_1:23
.= ( ( dom ( C432 | C433 ) ) \/ ( ( dom C432 ) /\ C434 ) ) by RELAT_1:61
.= ( ( dom ( C432 | C433 ) ) \/ ( dom ( C432 | C434 ) ) ) by RELAT_1:61;
L1838: ( dom ( C432 | C433 ) ) is  finite by L1837 , L1835 , FINSET_1:1 , XBOOLE_1:7;
L1839: ( FinS (C432 , C433) ) = ( FinS (C432 , ( dom ( C432 | C433 ) )) ) by L1838 , L1152;
L1840: ( dom ( C432 | C434 ) ) is  finite by L1835 , L1837 , FINSET_1:1 , XBOOLE_1:7;
L1841: ( FinS (C432 , C434) ) = ( FinS (C432 , ( dom ( C432 | C434 ) )) ) by L1840 , L1152;
L1842: ( dom ( C432 | ( dom ( C432 | ( C433 \/ C434 ) ) ) ) ) = ( ( dom C432 ) /\ ( dom ( C432 | ( C433 \/ C434 ) ) ) ) by RELAT_1:61
.= ( ( dom C432 ) /\ ( ( dom C432 ) /\ ( C433 \/ C434 ) ) ) by RELAT_1:61
.= ( ( ( dom C432 ) /\ ( dom C432 ) ) /\ ( C433 \/ C434 ) ) by XBOOLE_1:16
.= ( dom ( C432 | ( C433 \/ C434 ) ) ) by RELAT_1:61;
L1843: ( FinS (C432 , ( C433 \/ C434 )) ) = ( FinS (C432 , ( dom ( C432 | ( C433 \/ C434 ) ) )) ) by L1835 , L1152;
thus L1844: ( Sum (C432 , ( C433 \/ C434 )) ) = ( Sum ( ( FinS (C432 , C433) ) ^ ( FinS (C432 , C434) ) ) ) by L1843 , L1835 , L1836 , L1837 , L1839 , L1841 , L1842 , L1618 , RFINSEQ:9
.= ( ( Sum (C432 , C433) ) + ( Sum (C432 , C434) ) ) by RVSUM_1:75;
end;
